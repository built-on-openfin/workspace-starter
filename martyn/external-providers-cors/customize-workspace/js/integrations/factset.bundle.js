/******/ var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>Ze.Pt,CLIFilterOptionType:()=>Ze.el,CLITemplate:()=>Ze.yW,deregister:()=>Qe,hide:()=>et,register:()=>ze,show:()=>Ye});var r={};n.r(r),n.d(r,{subscribe:()=>re});var o={};n.r(o),n.d(o,{create:()=>qe});var i=n(7405);const s="home";var a;!function(e){e.Commands="home-commands"}(a||(a={}));var c,d=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(c||(c={}));const u="all",f="0",l="5",p="6",g=()=>{};function w(e,t){return e?`${e}-${t}`:t}function h(e){return`__search-${e}-topic__`}const y=new Map;function v(e,t){y.has(e)||y.set(e,new Set),y.get(e).add(t)}function m(e,t){const n=y.get(e);n&&n.delete(t)}const S=new Map;function C(e,t){S.has(e)||S.set(e,new Set),S.get(e).add(t)}function P(e,t){const n=S.get(e);n&&n.delete(t)}const R=new Map;async function b(e,t){R.has(e)||R.set(e,new Map),R.get(e).set(t.id,t);const n=y.get(e);if(!n)return;const r=[...n].map((e=>e()));await Promise.all(r)}async function L(e,t){const n=R.get(e);if(!n)return;n.delete(t);const r=S.get(e);if(!r)return;const o=[...r].map((e=>e()));await Promise.all(o)}function T(e){return R.get(e)?[...R.get(e).values()]:[]}function I(e){const t=R.get(e);t&&t.clear()}function M(e,t){const n=R.get(e);return n?n.get(t):null}function k(e,t,n){return{...e,action:n||e.actions[0],dispatcherIdentity:t}}function B(e,t,n="ascending"){const r=e||[];if(!t?.length)return r;const o=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);o.push(e)}));let s=r.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...o),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function O(e){const t={};let n=[];let r=[];let o=c.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>r,t.setRevokedBuffer=e=>{r=e,r?.length&&t.onChange()},t.onChange=g;const i={};return t.res=i,i.close=()=>{o!==c.Close&&(o=c.Close,t.onChange())},i.open=()=>{o!==c.Open&&(o=c.Open,t.onChange())},i.respond=n=>{const r=B(t.getResultBuffer(),n,e);t.setResultBuffer(r)},i.revoke=(...e)=>{const n=new Set(e),r=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(r),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function W(e,t,n){const r=new Set;let o=!1;return{close:()=>{o=!0;for(const e of r)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{r.add(e),o&&e()},removeListener:e=>{r.delete(e)}}}}function D(){return{name:fin.me.name,uuid:fin.me.uuid}}function x(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const A="deregistered or does not exist",E=new Error(`provider ${A}`),F=new Error("provider with name already exists"),_=new Error("bad payload"),$=new Error("subscription rejected"),q=new Error(`channel ${A}`),G=new Map;function N(e){const t=H(e);if(t)return t;throw q}function H(e){const t=G.get(e);if(t)return t}function U(e,t){G.set(e,t)}const V=new Map;function K(e){V.has(e)||V.set(e,new Map);const t=V.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function X(e,t){return(await N(e)).dispatch(f,t)}function j({namespacedTopic:e,topic:t}){const n=M.bind(null,e),r=K(e),o=X.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=_;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=E;return{error:e.message}}const d=r.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=W(t,s,e),d.set(e.id,u));const f=O(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();o({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function J(e,t,n){const r=n||await N(e),o=D(),i={identity:o,...t,onUserInput:void 0,onResultDispatch:void 0};await r.dispatch("2",i),await b(e,{identity:o,...t})}async function Z(e,t){const n=await N(e);return await n.dispatch("3",t),L(e,t)}async function z(e,t,n,r){const o=k(n,D(),r),i=M(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(o)}const s={providerId:t,result:o};return(await N(e)).dispatch(l,s)}async function Q(e,t){const n={...t,context:t?.context||{}},r={},o=async function*(e,t,{setState:n}){const r=await N(e);for(;;){const e=await r.dispatch("1",t),o=e.error;if(o)throw new Error(o);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{r.state=e}});let i=await o.next();return r.id=n.id,r.close=()=>{!async function(e,t){(await N(e)).dispatch(p,{id:t})}(e,r.id)},r.next=()=>{if(i){const e=i;return i=void 0,e}return o.next()},r}async function Y(e){return(await N(e)).dispatch("4",null)}async function ee(e){const t=await N(e);var n;n=e,G.delete(n),I(e),await t.disconnect()}function te(e){const{namespacedTopic:t}=e,n=K(t);return async r=>{if(!H(t))return;const o=n.getRequestsForIdentity(r);for(const{req:e,close:t}of o.values())t(),o.delete(e.id);U(t,(async e=>{const{namespacedTopic:t}=e,n=await ne(e);for(const e of T(t))await J(t,e,n);return n})(e))}}async function ne(e){const{namespacedTopic:t}=e,n=h(t),r=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return r.register(f,j(e)),r.register(p,function(e){const t=K(e);return(e,n)=>{const r=t.getRequestsForIdentity(n),o=r.get(e.id);o&&(o.close(),r.delete(e.id))}}(t)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)return;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r.onDisconnection(te(e)),r}async function re(e){const t=("string"==typeof e?e:e?.topic)||u,n=("string"==typeof e?null:e?.uuid)||x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=H(r);return i||(i=ne(o),U(r,i),await i),{getAllProviders:Y.bind(null,r),register:J.bind(null,r),search:Q.bind(null,r),deregister:Z.bind(null,r),dispatch:z.bind(null,r),disconnect:ee.bind(null,r)}}const oe=new Map;function ie(e){const t=se(e);if(t)return t;throw q}function se(e){const t=oe.get(e);if(t)return t}const ae=new Map;function ce(e,t){ae.has(e)||ae.set(e,new Set),ae.get(e).add(t)}function de(e,t){const n=ae.get(e);n&&n.delete(t)}var ue=n(5316);function fe(e){return[...T(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function le(e,t){if(M(e,t.id))throw new Error("provider with name already exists");const n=D();await b(e,{identity:n,...t})}function pe(e,t){L(e,t)}async function ge(e,t,n,r){const o=M(e,t);if(!o)throw E;const{onResultDispatch:i}=o;if(!i)return;return i(k(n,D(),r))}async function*we(e,t,n){const r=function(e,t){const n=[],r=[],o=[],i=[];for(const s of e){const e=O(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon}};n.push(a),r.push(e);const c=(async()=>{try{const{results:n,context:r}=await s.onUserInput(t,e.res);a.results=B(a.results,n),a.context={...a.context,...r}}catch(e){a.error=e}c.done=!0})();i.push(c),o.push(o.length)}return{providerResponses:n,listenerResponses:r,openListenerResponses:o,initialResponsePromises:i}}(t.targets?t.targets.map((t=>M(e,t))).filter((e=>!!e)):[...T(e).filter((e=>!e.hidden))],t),{providerResponses:o,listenerResponses:i}=r;let{openListenerResponses:s,initialResponsePromises:a}=r,d=ue.D.Fetching;const u=e=>{d=e,n.setState(d)};let f,l=!1;t.onClose((()=>{l=!0,f&&f()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(ue.D.Fetched),e=!0)}let t,n=!1;const r=()=>{n=!0,t&&t()},p=[];for(const t of s){const n=i[t],s=o[t],a=n.getStatus();(a===c.Open||d===ue.D.Fetching&&a===c.Initial)&&(p.push(t),n.onChange=r);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=B(s.results,u),e=!0);const f=n.getRevokedBuffer();if(f.length){n.setRevokedBuffer([]);const t=new Set(f);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=p,e&&(yield o),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{f=e}))])}while(s.length||a.length);return u(ue.D.Complete),o}let he=0;function ye({namespacedTopic:e,topic:t},n){he+=1;const r=W(t,he.toString(),n),o=we(e,r.req,{setState:e=>{o.state=e}});return o.id=he.toString(),o.close=r.close,o.state=ue.D.Fetching,o}const ve=new Map;function me(e,t){return`${e}:${t}`}function Se(e){return async(t,...n)=>{if(!t)return{error:_.message};let r;if(t.id)r=me(e.namespacedTopic,t.id);else{const n=ye(e,t);r=me(e.namespacedTopic,n.id),t.id=n.id,ve.set(r,{generator:n})}const o=ve.get(r);clearTimeout(o.timeout);const i=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{ve.delete(e)}),1e4)}(r),{...i,id:t.id,state:o.generator.state}}}function Ce(e,t,n){return ie(e).dispatch(t,p,{id:n})}function Pe(e){return t=>function(e,t){const n=me(e,t),r=ve.get(n);r&&r.generator.close()}(e,t.id)}async function Re(e,t,{id:n,query:r,context:o,targets:i}){const s=ie(e),a={id:n,query:r,context:o,targets:i,providerId:t.id},c=await s.dispatch(t.identity,f,a),d=c.error;if(d)throw new Error(d);return c}const be=new Map;function Le(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Te=new Map;function Ie(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Le.bind(null,e,t.identity),r=Ce.bind(null,e,t.identity),o=Re.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!be.has(a)){const e=()=>{r(i.id),be.delete(a)};be.set(a,e),i.onClose(e)}const d=Ie(e,t.id,i.id),u=()=>{Te.delete(d),s.close()};i.onClose(u),Te.set(d,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===c.Open&&s.open(),e.status===c.Close&&u()}));const f=await o(i);return f.status===c.Open&&s.open(),f.status!==c.Close&&f.status!==c.Initial||u(),f}}function ke(e,t){return async n=>{const r=ie(e),o={providerId:t.id,result:n};return r.dispatch(t.identity,l,o)}}const Be=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function We(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(M(e,t.id))throw F;t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Be.has(n)||Be.set(n,[]),Be.get(n).push(t.id),await b(e,{...t,onUserInput:Me(e,t),onResultDispatch:ke(e,t)})}(e,t)}}function De(e){return t=>{t&&function(e,t){const n=M(e,t);if(!n)return;const r=Oe(e,n.identity),o=Be.get(r);if(o){const n=o.findIndex((e=>e===t));-1!==n&&(o.splice(n,1),L(e,t))}}(e,t)}}const xe=new Map;function Ae(e,t){xe.has(e)||xe.set(e,new Set),xe.get(e).add(t)}function Ee(e,t){const n=xe.get(e);n&&n.delete(t)}function Fe(e){return async t=>{!function(e,t){const n=Oe(e,t),r=Be.get(n);if(r){for(const t of r)L(e,t);Be.delete(n)}}(e,t);const n=xe.get(e);n&&n.forEach((e=>e(t)))}}async function _e(e){const{namespacedTopic:t}=e,n=h(e.namespacedTopic),r=await(o=n,fin.InterApplicationBus.Channel.create(o));var o;return r.onConnection(function({namespacedTopic:e}){return async t=>{const n=ae.get(e);if(n)for(const e of n)if(!await e(t))throw $}}(e)),r.onDisconnection(Fe(t)),r.register(p,Pe(t)),r.register(f,function(e){return t=>{const n=Ie(e,t.providerId,t.id),r=Te.get(n);r&&r(t)}}(t)),r.register("2",We(t)),r.register("3",De(t)),r.register("4",function(e){return async()=>fe(e)}(t)),r.register("1",Se(e)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)throw E;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r}async function $e(e){const t=ie(e);var n;n=e,oe.delete(n),await t.destroy(),I(e)}async function qe(e){const t=("string"==typeof e?e:e?.topic)||u,n=x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=se(r);i||(i=await _e(o),function(e,t){oe.set(e,t)}(r,i));const s=de.bind(null,r),a=Ee.bind(null,r),c=m.bind(null,r),d=P.bind(null,r);return{getAllProviders:fe.bind(null,r),search:ye.bind(null,o),register:le.bind(null,r),deregister:pe.bind(null,r),onSubscription:ce.bind(null,r),onDisconnect:Ae.bind(null,r),onRegister:v.bind(null,r),onDeregister:C.bind(null,r),dispatch:ge.bind(null,o),disconnect:$e.bind(null,r),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ge}=o,{subscribe:Ne}=r,He={create:Ge,subscribe:Ne,defaultTopic:"all"},Ue=()=>{const e=window;e.search=He,e.fin&&(e.fin.Search=He)},Ve=e=>{const t=()=>{Ue(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ue();const e="load",t=Ve(e);window.addEventListener(e,t);const n="DOMContentLoaded",r=Ve(n);window.addEventListener(n,r)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await Ne({topic:e,uuid:d.q9.Workspace}))}(s)}let je;async function Je(e){return await async function(){return je||(je=Xe()),je}(),Ke.get(e)}var Ze=n(3758);const ze=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,i.aB)();return(await Je(s)).register(e)},Qe=async e=>{await(0,i.aB)();return(await Je(s)).deregister(e)};async function Ye(){return(await(0,i.Xl)()).dispatch(i.Ml.ShowHome,void 0)}async function et(){return(await(0,i.Xl)()).dispatch(i.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>r.w});var r=n(5316)},3758:(e,t,n)=>{var r,o,i;n.d(t,{Pt:()=>r,yW:()=>o,el:()=>i}),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var r,o;n.d(t,{L:()=>r,T:()=>o}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(o||(o={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>r,Go:()=>o,bI:()=>i,ZJ:()=>s});const r={Container:"Container",Button:"Button"},o={Text:"Text",Image:"Image",List:"List"},i={...r,...o};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>o.L,StorefrontTemplate:()=>o.T,deregister:()=>u,hide:()=>f,register:()=>d,show:()=>l});var r=n(7405);n(7564);var o=n(6114);let i;const s=new Map,a=e=>{if(!s.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return s.get(e)},c=async e=>{const t=await(0,r.Xl)();if(s.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return s.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.Ml.GetStorefrontProviderApps,(e=>a(e).getApps())),e.register(r.Ml.GetStorefrontProviderFooter,(e=>a(e).getFooter())),e.register(r.Ml.GetStorefrontProviderLandingPage,(e=>a(e).getLandingPage())),e.register(r.Ml.GetStorefrontProviderNavigation,(e=>a(e).getNavigation())),e.register(r.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>a(e).launchApp(t))))})(t),t.dispatch(r.Ml.RegisterStorefrontProvider,e)},d=e=>(i=c(e),i),u=async e=>{await i,s.delete(e);return(await(0,r.Xl)()).dispatch(r.Ml.DeregisterStorefrontProvider,e)},f=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.HideStorefront,void 0))()},l=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var r=n(6678);const o=r.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!r.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await o;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),fin.System.openUrlWithBrowser(d(r.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>r});var r,o,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(r||(r={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,r.Workspace,r.Workspace},6678:(e,t,n)=>{var r;n.d(t,{sS:()=>o,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(r||(r={}));const o="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:r.Local,a=o&&fin.me.uuid,c=o&&fin.me.name,d=(o&&fin.me.entityType,"prod"===r.Local),u=(r.Dev,r.Staging,r.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/6.3.6/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e;l("https://cdn.openfin.co/workspace/6.3.6"),l("https://cdn.openfin.co/workspace/6.3.6"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL)},121:(e,t,n)=>{n.d(t,{iW:()=>c,JV:()=>d});var r,o,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(r||(r={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(o||(o={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}s.oC,s.AB;r.Home,i.q9.Workspace,r.Dock,i.q9.Workspace,r.Storefront,i.q9.Workspace;const c={name:i.q9.Workspace,uuid:i.q9.Workspace};const d=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var r,o;n.d(t,{D:()=>r,w:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>o,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,o=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.LastLaunchedWorkspaceId="activeWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=r})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/factset/integration-provider.ts":
/*!*****************************************************************!*\
  !*** ./client/src/integrations/factset/integration-provider.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FactSetForceIntegrationProvider": () => (/* binding */ FactSetForceIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _templates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./templates */ "./client/src/integrations/factset/templates.ts");


/**
 * Implement the integration provider for FactSet.
 * See https://developer.factset.com/api-catalog/factset-search-answers#apiDocumentation
 */
class FactSetForceIntegrationProvider {
    /**
    * The module is being registered.
    * @param integrationManager The manager for the integration.
    * @param integration The integration details.
    * @returns Nothing.
    */
    async register(integrationManager, integration) {
        this._integrationManager = integrationManager;
        this._queryInProgress = false;
        console.log("Registering FactSet");
    }
    /**
     * The module is being deregistered.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async deregister(integration) {
    }
    /**
     * Get a list of the static application entries.
     * @param integration The integration details.
     * @returns The list of application entries.
     */
    async getAppSearchEntries(integration) {
        const results = [];
        return results;
    }
    /**
     * An entry has been selected.
     * @param integration The integration details.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(integration, result, lastResponse) {
        const data = result.data;
        if (data.providerId === FactSetForceIntegrationProvider._PROVIDER_ID && result.action.name.startsWith("open")) {
            const idx = Number.parseInt(result.action.name.slice(4), 10);
            if (!Number.isNaN(idx) && data?.applicationLinks && idx < data?.applicationLinks.length) {
                await this._integrationManager.openUrl(data?.applicationLinks[idx].webLink);
            }
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param integration The integration details.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(integration, query, filters, lastResponse) {
        const results = [];
        if (integration?.data?.proxyEndpoint) {
            const busyRequired = this.debounceRequest(integration, query, lastResponse);
            if (busyRequired) {
                results.push(this.getBusySearchResult(integration));
            }
        }
        return {
            results
        };
    }
    /**
     * Get the search result to display when we are busy searching.
     * @param integration The integration details.
     * @returns The busy search result entry.
     * @internal
     */
    getBusySearchResult(integration) {
        return {
            key: FactSetForceIntegrationProvider._BUSY_SEARCH_RESULT_KEY,
            icon: integration?.icon,
            title: "FactSet Searching...",
            actions: [],
            data: {
                providerId: FactSetForceIntegrationProvider._PROVIDER_ID
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
            templateContent: {
                layout: (0,_templates__WEBPACK_IMPORTED_MODULE_1__.getBusyTemplate)("busyIcon"),
                data: {
                    busyIcon: integration.data?.iconMap.busy
                }
            }
        };
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param integration The integration details.
     * @param query The query to search for.
     * @param lastResponse The last search response used for updating existing results.
     * @returns True if a busy entry is required.
     */
    debounceRequest(integration, query, lastResponse) {
        let busyRequired = false;
        if (this._queryInProgress) {
            // If there is already a query in progress then store the query
            // for when it is finished, and then we perform that query.
            this._nextQuery = query;
            this._nextResponse = lastResponse;
            // Keep the busy entry even for the new query.
            busyRequired = true;
        }
        else if (this._debounceTimerId) {
            clearTimeout(this._debounceTimerId);
            this._debounceTimerId = undefined;
        }
        else {
            // Need minimum 2 words for search with each work at least 1 chars
            const queryParts = query.split(" ");
            if (queryParts.length >= 2 && queryParts[0].length >= 1 && queryParts[1].length >= 1) {
                busyRequired = true;
                this._queryInProgress = true;
                this._debounceTimerId = setTimeout(async () => {
                    try {
                        const response = await this.sendRequest(query, integration);
                        if (response) {
                            lastResponse.respond([response]);
                        }
                    }
                    catch (err) {
                        console.error(err);
                    }
                    finally {
                        this._debounceTimerId = undefined;
                        this._queryInProgress = false;
                        if (this._nextQuery) {
                            // There is another query to send so restart the flow
                            const nextQuery = this._nextQuery;
                            const nextResponse = this._nextResponse;
                            this._nextQuery = undefined;
                            this._nextResponse = undefined;
                            this.debounceRequest(integration, nextQuery, nextResponse);
                        }
                        else {
                            // Revoke any remaining busy results.
                            lastResponse.revoke(FactSetForceIntegrationProvider._BUSY_SEARCH_RESULT_KEY);
                        }
                    }
                }, 300);
            }
        }
        return busyRequired;
    }
    /**
     * Send the request to the API proxy.
     * @param integration The integration details.
     * @param query The query to search for.
     * @returns The results if there was one.
     */
    async sendRequest(query, integration) {
        const payload = {
            url: `%ENV-apiEndpoint%/search/answers/v1/data?query=${encodeURIComponent(query)}`,
            method: "get",
            headers: {
                Authorization: "Basic %ENV-authorization%"
            },
            providerId: FactSetForceIntegrationProvider._PROVIDER_ID
        };
        const res = await fetch(integration?.data?.proxyEndpoint, {
            method: "POST",
            body: JSON.stringify(payload),
            headers: {
                "Content-Type": "application/json"
            }
        });
        const json = await res.json();
        if (json.data && json.data.template !== "AnswerWithoutDataTemplate" && json.data.template !== "NoAnswerTemplate") {
            return {
                actions: [],
                title: json.data.templateData.headline,
                label: json.data.title,
                key: FactSetForceIntegrationProvider._ANSWER_SEARCH_RESULT_KEY,
                icon: integration.icon,
                data: {
                    providerId: FactSetForceIntegrationProvider._PROVIDER_ID,
                    ...json.data.templateData
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: (0,_templates__WEBPACK_IMPORTED_MODULE_1__.getTemplateAndData)(json.data.template, json.data.templateData)
            };
        }
        else if (json.errors) {
            console.error(json.errors);
        }
    }
}
/**
 * Provider id.
 * @internal
 */
FactSetForceIntegrationProvider._PROVIDER_ID = "factset";
/**
 * The key to use for a FactSet Answer result.
 * @internal
 */
FactSetForceIntegrationProvider._ANSWER_SEARCH_RESULT_KEY = "factset-answer";
/**
 * The key to use for a FactSet busy result.
 * @internal
 */
FactSetForceIntegrationProvider._BUSY_SEARCH_RESULT_KEY = "factset-body";


/***/ }),

/***/ "./client/src/integrations/factset/templates.ts":
/*!******************************************************!*\
  !*** ./client/src/integrations/factset/templates.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getBusyTemplate": () => (/* binding */ getBusyTemplate),
/* harmony export */   "getTemplateAndData": () => (/* binding */ getTemplateAndData)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _template_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../template-helpers */ "./client/src/template-helpers.ts");


function getBusyTemplate(spinnerKey) {
    return (0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createContainer)("column", [
        (0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createImage)(spinnerKey, "Busy", { width: "100px", height: "100px" })
    ], { padding: "10px", flex: "1", alignItems: "center", justifyContent: "center" });
}
function getTemplateAndData(template, templateData) {
    const data = {};
    const children = [];
    if (templateData.label && templateData.value) {
        data.labelValueTitle = templateData.label;
        data.labelValueData = typeof templateData.value === "string" ? templateData.value : templateData.value.text;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("labelValueTitle", "labelValueData"));
    }
    if (templateData.text) {
        data.textData = templateData.text;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createText)("textData", 12, { marginBottom: "10px" }));
    }
    if (templateData.valueChange) {
        data.valueChangeTitle = "Change";
        data.valueChangeData = templateData.valueChange.percentageChange;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("valueChangeTitle", "valueChangeData", { marginBottom: "10px" }));
    }
    if (templateData.date) {
        data.dateTitle = "Date";
        data.dateData = templateData.date;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("dateTitle", "dateData"));
    }
    if (templateData.body) {
        data.bodyData = templateData.body;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createText)("bodyData", 12, { marginBottom: "10px" }));
    }
    if (templateData.fdc3Context) {
        data.fdc3Title = "FDC3 Type";
        data.fdc3Data = templateData.fdc3Context.type;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("fdc3Title", "fdc3Data"));
        if (templateData.fdc3Context.type === "fdc3.instrument") {
            data.tickerTitle = "Ticker";
            data.tickerData = templateData.fdc3Context.id.ticker;
            children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("tickerTitle", "tickerData"));
        }
    }
    if (template === "TableTemplate" && templateData.table) {
        children.push(processTableData(templateData.table, 0, data));
    }
    else if (template === "TableTableTemplate") {
        if (templateData.table1) {
            children.push(processTableData(templateData.table1, 1, data));
        }
        if (templateData.table2) {
            children.push(processTableData(templateData.table2, 2, data));
        }
    }
    else if (template === "RankedTableTemplate" && templateData.table) {
        let tableData = [];
        tableData.push(templateData.table.headers);
        for (let i = 0; i < templateData.table.rows.length; i++) {
            tableData.push([
                templateData.table.rows[i].rank.toString(),
                templateData.table.rows[i].entity.name,
                templateData.table.rows[i].additionalData[0]
            ]);
        }
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createTable)(tableData, [1, 4, 1], 0, data));
    }
    if (templateData.list) {
        for (let i = 0; i < templateData.list.length; i++) {
            const titleKey = `listTitle${i}`;
            const dataKey = `listData${i}`;
            data[titleKey] = templateData.list[i].label;
            data[dataKey] = templateData.list[i].value;
            children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)(titleKey, dataKey));
        }
    }
    if (templateData.footer) {
        data.footerData = templateData.footer;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createText)("footerData", 12, { marginBottom: "10px", marginTop: "10px", fontStyle: "italic" }));
    }
    if (templateData.applicationLinks) {
        const buttons = [];
        for (let i = 0; i < templateData.applicationLinks.length; i++) {
            const buttonTitleKey = `buttonTitle${i}`;
            data[buttonTitleKey] = templateData.applicationLinks[i].name.length > 30 ? `${templateData.applicationLinks[i].name.substring(0, 30)}...` : templateData.applicationLinks[i].name;
            buttons.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createButton)(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.ButtonStyle.Primary, buttonTitleKey, `open${i}`));
        }
        children.push({
            type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
            style: {
                display: "flex",
                flex: 1,
                flexDirection: "row",
                flexWrap: "wrap",
                alignItems: "flex-end"
            },
            children: buttons
        });
    }
    return {
        layout: {
            type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
            style: {
                display: "flex",
                flexDirection: "column",
                flex: 1,
                padding: "10px"
            },
            children
        },
        data
    };
}
function processTableData(table, tableIndex, data) {
    let tableData = [];
    tableData.push(table.tableHeaders);
    const rows = table.tableRows ?? table.tableData;
    tableData = tableData.concat(rows);
    if (table.tableFooters?.length) {
        tableData = tableData.concat(table.tableFooters);
    }
    return (0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createTable)(tableData, [], tableIndex, data);
}


/***/ }),

/***/ "./client/src/template-helpers.ts":
/*!****************************************!*\
  !*** ./client/src/template-helpers.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createButton": () => (/* binding */ createButton),
/* harmony export */   "createContainer": () => (/* binding */ createContainer),
/* harmony export */   "createImage": () => (/* binding */ createImage),
/* harmony export */   "createLabelledValue": () => (/* binding */ createLabelledValue),
/* harmony export */   "createTable": () => (/* binding */ createTable),
/* harmony export */   "createText": () => (/* binding */ createText)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);

function createContainer(containerType, children, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
        style: {
            display: "flex",
            flexDirection: containerType,
            ...style
        },
        children
    };
}
function createText(dataKey, fontSize = 14, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Text,
        dataKey,
        style: {
            fontSize: `${fontSize ?? 14}px`,
            ...style
        }
    };
}
function createImage(dataKey, alternativeText, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Image,
        dataKey,
        alternativeText,
        style: {
            ...style
        }
    };
}
function createButton(buttonStyle, titleKey, action, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Button,
        buttonStyle,
        children: [
            createText(titleKey, 12)
        ],
        action: action,
        style: {
            ...style
        }
    };
}
function createTable(tableData, colSpans, tableIndex, data) {
    const cells = [];
    let finalColSpans = colSpans.slice();
    for (let col = 0; col < tableData[0].length; col++) {
        const headerKey = `table${tableIndex}_header${col}`;
        data[headerKey] = tableData[0][col];
        cells.push(createText(headerKey, 10, { marginBottom: "10px", padding: "3px", whiteSpace: "nowrap", fontWeight: "bold", backgroundColor: "var(--openfin-ui-brandPrimary)" }));
        if (colSpans.length === 0) {
            finalColSpans.push(1);
        }
    }
    for (let row = 1; row < tableData.length; row++) {
        for (let col = 0; col < tableData[0].length; col++) {
            const rowColKey = `table${tableIndex}_col${col}_row${row}`;
            data[rowColKey] = tableData[row][col];
            cells.push(createText(rowColKey, 10, { padding: "3px", whiteSpace: "nowrap" }));
        }
    }
    return createContainer("row", cells, { display: "grid", gridTemplateColumns: finalColSpans.map(s => `${s}fr`).join(" "), marginBottom: "10px", overflow: "auto" });
}
function createLabelledValue(labelKey, valueKey, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
        style: {
            display: "flex",
            flexDirection: "column",
            marginBottom: "10px",
            ...style
        },
        children: [
            createText(labelKey, 12, { color: "gray" }),
            createText(valueKey, undefined, { color: "white" })
        ]
    };
}


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**************************************************!*\
  !*** ./client/src/integrations/factset/index.ts ***!
  \**************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "integration": () => (/* binding */ integration)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/factset/integration-provider.ts");

const integration = new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.FactSetForceIntegrationProvider();

})();

var __webpack_exports__integration = __webpack_exports__.integration;
export { __webpack_exports__integration as integration };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxDQUFDO1NBQ3REO0tBQ0o7QUFDTCxDQUFDOzs7Ozs7O1NDekZEO1NBQ0E7O1NBRUE7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7O1NBRUE7U0FDQTs7U0FFQTtTQUNBO1NBQ0E7Ozs7O1VDdEJBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQSxpQ0FBaUMsV0FBVztVQUM1QztVQUNBOzs7OztVQ1BBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EseUNBQXlDLHdDQUF3QztVQUNqRjtVQUNBO1VBQ0E7Ozs7O1VDUEE7Ozs7O1VDQUE7VUFDQTtVQUNBO1VBQ0EsdURBQXVELGlCQUFpQjtVQUN4RTtVQUNBLGdEQUFnRCxhQUFhO1VBQzdEOzs7Ozs7Ozs7Ozs7Ozs7QUNOeUU7QUFFbEUsTUFBTSxXQUFXLEdBQUcsSUFBSSxrRkFBK0IsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2UvLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vY2xpZW50L3NyYy9pbnRlZ3JhdGlvbnMvZmFjdHNldC9pbnRlZ3JhdGlvbi1wcm92aWRlci50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL2NsaWVudC9zcmMvaW50ZWdyYXRpb25zL2ZhY3RzZXQvdGVtcGxhdGVzLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vY2xpZW50L3NyYy90ZW1wbGF0ZS1oZWxwZXJzLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2UvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy9mYWN0c2V0L2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXszMTMzOihlLHQsbik9PntuLnIodCksbi5kKHQse0NMSUFjdGlvbjooKT0+WmUuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+WmUuZWwsQ0xJVGVtcGxhdGU6KCk9PlplLnlXLGRlcmVnaXN0ZXI6KCk9PlFlLGhpZGU6KCk9PmV0LHJlZ2lzdGVyOigpPT56ZSxzaG93OigpPT5ZZX0pO3ZhciByPXt9O24ucihyKSxuLmQocix7c3Vic2NyaWJlOigpPT5yZX0pO3ZhciBvPXt9O24ucihvKSxuLmQobyx7Y3JlYXRlOigpPT5xZX0pO3ZhciBpPW4oNzQwNSk7Y29uc3Qgcz1cImhvbWVcIjt2YXIgYTshZnVuY3Rpb24oZSl7ZS5Db21tYW5kcz1cImhvbWUtY29tbWFuZHNcIn0oYXx8KGE9e30pKTt2YXIgYyxkPW4oNTgwNik7big3NTY0KTshZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0oY3x8KGM9e30pKTtjb25zdCB1PVwiYWxsXCIsZj1cIjBcIixsPVwiNVwiLHA9XCI2XCIsZz0oKT0+e307ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBlP2Ake2V9LSR7dH1gOnR9ZnVuY3Rpb24gaChlKXtyZXR1cm5gX19zZWFyY2gtJHtlfS10b3BpY19fYH1jb25zdCB5PW5ldyBNYXA7ZnVuY3Rpb24gdihlLHQpe3kuaGFzKGUpfHx5LnNldChlLG5ldyBTZXQpLHkuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBtKGUsdCl7Y29uc3Qgbj15LmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBTPW5ldyBNYXA7ZnVuY3Rpb24gQyhlLHQpe1MuaGFzKGUpfHxTLnNldChlLG5ldyBTZXQpLFMuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBQKGUsdCl7Y29uc3Qgbj1TLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBSPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gYihlLHQpe1IuaGFzKGUpfHxSLnNldChlLG5ldyBNYXApLFIuZ2V0KGUpLnNldCh0LmlkLHQpO2NvbnN0IG49eS5nZXQoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9Wy4uLm5dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwocil9YXN5bmMgZnVuY3Rpb24gTChlLHQpe2NvbnN0IG49Ui5nZXQoZSk7aWYoIW4pcmV0dXJuO24uZGVsZXRlKHQpO2NvbnN0IHI9Uy5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IG89Wy4uLnJdLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwobyl9ZnVuY3Rpb24gVChlKXtyZXR1cm4gUi5nZXQoZSk/Wy4uLlIuZ2V0KGUpLnZhbHVlcygpXTpbXX1mdW5jdGlvbiBJKGUpe2NvbnN0IHQ9Ui5nZXQoZSk7dCYmdC5jbGVhcigpfWZ1bmN0aW9uIE0oZSx0KXtjb25zdCBuPVIuZ2V0KGUpO3JldHVybiBuP24uZ2V0KHQpOm51bGx9ZnVuY3Rpb24gayhlLHQsbil7cmV0dXJuey4uLmUsYWN0aW9uOm58fGUuYWN0aW9uc1swXSxkaXNwYXRjaGVySWRlbnRpdHk6dH19ZnVuY3Rpb24gQihlLHQsbj1cImFzY2VuZGluZ1wiKXtjb25zdCByPWV8fFtdO2lmKCF0Py5sZW5ndGgpcmV0dXJuIHI7Y29uc3Qgbz1bXSxpPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIGkuc2V0KGUua2V5LGUpO28ucHVzaChlKX0pKTtsZXQgcz1yLm1hcCgoZT0+e2NvbnN0e2tleTp0fT1lO2lmKHQmJmkuaGFzKHQpKXtjb25zdCBlPWkuZ2V0KHQpO3JldHVybiBpLmRlbGV0ZSh0KSxlfXJldHVybiBlfSkpO3JldHVybiBzLnB1c2goLi4uaS52YWx1ZXMoKSwuLi5vKSxzPVwiYXNjZW5kaW5nXCI9PT1uP3Muc29ydCgoKGUsdCk9PihudWxsIT09ZS5zY29yZSYmdm9pZCAwIT09ZS5zY29yZT9lLnNjb3JlOjEvMCktKG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKSkpOnMuc29ydCgoKGUsdCk9PihudWxsIT09dC5zY29yZSYmdm9pZCAwIT09dC5zY29yZT90LnNjb3JlOjEvMCktKG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKSkpLHN9ZnVuY3Rpb24gTyhlKXtjb25zdCB0PXt9O2xldCBuPVtdO2xldCByPVtdO2xldCBvPWMuSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+byx0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+bix0LnNldFJlc3VsdEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9PnIsdC5zZXRSZXZva2VkQnVmZmVyPWU9PntyPWUscj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQub25DaGFuZ2U9Zztjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntvIT09Yy5DbG9zZSYmKG89Yy5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntvIT09Yy5PcGVuJiYobz1jLk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPW49Pntjb25zdCByPUIodC5nZXRSZXN1bHRCdWZmZXIoKSxuLGUpO3Quc2V0UmVzdWx0QnVmZmVyKHIpfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBuPW5ldyBTZXQoZSkscj10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1uLmhhcyhlKTtyZXR1cm4gdCYmbi5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIociksbi5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+bi5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLm5dKSl9LHR9ZnVuY3Rpb24gVyhlLHQsbil7Y29uc3Qgcj1uZXcgU2V0O2xldCBvPSExO3JldHVybntjbG9zZTooKT0+e289ITA7Zm9yKGNvbnN0IGUgb2YgcillKCl9LHJlcTp7aWQ6dCx0b3BpYzplLC4uLm4sY29udGV4dDpuPy5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PntyLmFkZChlKSxvJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PntyLmRlbGV0ZShlKX19fX1mdW5jdGlvbiBEKCl7cmV0dXJue25hbWU6ZmluLm1lLm5hbWUsdXVpZDpmaW4ubWUudXVpZH19ZnVuY3Rpb24geCgpe2xldCBlO3RyeXtjb25zdCB0PWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKCF0Py5pZGVudGl0eSlyZXR1cm47ZT10LmlkZW50aXR5LnV1aWR9Y2F0Y2goZSl7fXJldHVybiBlfWNvbnN0IEE9XCJkZXJlZ2lzdGVyZWQgb3IgZG9lcyBub3QgZXhpc3RcIixFPW5ldyBFcnJvcihgcHJvdmlkZXIgJHtBfWApLEY9bmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpLF89bmV3IEVycm9yKFwiYmFkIHBheWxvYWRcIiksJD1uZXcgRXJyb3IoXCJzdWJzY3JpcHRpb24gcmVqZWN0ZWRcIikscT1uZXcgRXJyb3IoYGNoYW5uZWwgJHtBfWApLEc9bmV3IE1hcDtmdW5jdGlvbiBOKGUpe2NvbnN0IHQ9SChlKTtpZih0KXJldHVybiB0O3Rocm93IHF9ZnVuY3Rpb24gSChlKXtjb25zdCB0PUcuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9ZnVuY3Rpb24gVShlLHQpe0cuc2V0KGUsdCl9Y29uc3QgVj1uZXcgTWFwO2Z1bmN0aW9uIEsoZSl7Vi5oYXMoZSl8fFYuc2V0KGUsbmV3IE1hcCk7Y29uc3QgdD1WLmdldChlKTtyZXR1cm57Z2V0UmVxdWVzdHNGb3JJZGVudGl0eTplPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtyZXR1cm5gJHtlLnV1aWR9OiR7ZS5uYW1lfWB9KGUpO3JldHVybiB0LmhhcyhuKXx8dC5zZXQobixuZXcgTWFwKSx0LmdldChuKX19fWFzeW5jIGZ1bmN0aW9uIFgoZSx0KXtyZXR1cm4oYXdhaXQgTihlKSkuZGlzcGF0Y2goZix0KX1mdW5jdGlvbiBqKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSl7Y29uc3Qgbj1NLmJpbmQobnVsbCxlKSxyPUsoZSksbz1YLmJpbmQobnVsbCxlKTtyZXR1cm4gYXN5bmMoZSxpKT0+e2lmKCFlfHwhZS5pZHx8IWUucHJvdmlkZXJJZCl7Y29uc3QgZT1fO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0e2lkOnMscHJvdmlkZXJJZDphfT1lLGM9bihhKTtpZighYyl7Y29uc3QgZT1FO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0IGQ9ci5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KGkpO2xldCB1PWQuZ2V0KGUuaWQpO3V8fCh1PVcodCxzLGUpLGQuc2V0KGUuaWQsdSkpO2NvbnN0IGY9TygpLGw9KCk9Pntjb25zdCBlPWYuZ2V0UmVzdWx0QnVmZmVyKCk7Zi5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IHQ9Zi5nZXRSZXZva2VkQnVmZmVyKCk7Zi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCBuPWYuZ2V0U3RhdHVzKCk7byh7aWQ6cyxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6dCxzdGF0dXM6bn0pfTtsZXQgcD0hMCxnPSExO2Yub25DaGFuZ2U9KCk9PntpZihwKXJldHVybiBwPSExLHZvaWQgbCgpO2d8fChnPSEwLHNldFRpbWVvdXQoKCgpPT57Zz0hMSxsKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0OnR9PWF3YWl0IGMub25Vc2VySW5wdXQodS5yZXEsZi5yZXMpLG49Zi5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsc3RhdHVzOm4scmVzdWx0czplLGNvbnRleHQ6dH19Y2F0Y2goZSl7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLGVycm9yOmUubWVzc2FnZX19fX1hc3luYyBmdW5jdGlvbiBKKGUsdCxuKXtjb25zdCByPW58fGF3YWl0IE4oZSksbz1EKCksaT17aWRlbnRpdHk6bywuLi50LG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH07YXdhaXQgci5kaXNwYXRjaChcIjJcIixpKSxhd2FpdCBiKGUse2lkZW50aXR5Om8sLi4udH0pfWFzeW5jIGZ1bmN0aW9uIFooZSx0KXtjb25zdCBuPWF3YWl0IE4oZSk7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goXCIzXCIsdCksTChlLHQpfWFzeW5jIGZ1bmN0aW9uIHooZSx0LG4scil7Y29uc3Qgbz1rKG4sRCgpLHIpLGk9TShlLHQpO2lmKGkpe2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6ZX09aTtpZighZSlyZXR1cm47cmV0dXJuIGUobyl9Y29uc3Qgcz17cHJvdmlkZXJJZDp0LHJlc3VsdDpvfTtyZXR1cm4oYXdhaXQgTihlKSkuZGlzcGF0Y2gobCxzKX1hc3luYyBmdW5jdGlvbiBRKGUsdCl7Y29uc3Qgbj17Li4udCxjb250ZXh0OnQ/LmNvbnRleHR8fHt9fSxyPXt9LG89YXN5bmMgZnVuY3Rpb24qKGUsdCx7c2V0U3RhdGU6bn0pe2NvbnN0IHI9YXdhaXQgTihlKTtmb3IoOzspe2NvbnN0IGU9YXdhaXQgci5kaXNwYXRjaChcIjFcIix0KSxvPWUuZXJyb3I7aWYobyl0aHJvdyBuZXcgRXJyb3Iobyk7Y29uc3QgaT1lO2lmKHQuaWQ9aS5pZCxuKGkuc3RhdGUpLGkuZG9uZSlyZXR1cm4gaS52YWx1ZTt5aWVsZCBpLnZhbHVlfX0oZSxuLHtzZXRTdGF0ZTplPT57ci5zdGF0ZT1lfX0pO2xldCBpPWF3YWl0IG8ubmV4dCgpO3JldHVybiByLmlkPW4uaWQsci5jbG9zZT0oKT0+eyFhc3luYyBmdW5jdGlvbihlLHQpeyhhd2FpdCBOKGUpKS5kaXNwYXRjaChwLHtpZDp0fSl9KGUsci5pZCl9LHIubmV4dD0oKT0+e2lmKGkpe2NvbnN0IGU9aTtyZXR1cm4gaT12b2lkIDAsZX1yZXR1cm4gby5uZXh0KCl9LHJ9YXN5bmMgZnVuY3Rpb24gWShlKXtyZXR1cm4oYXdhaXQgTihlKSkuZGlzcGF0Y2goXCI0XCIsbnVsbCl9YXN5bmMgZnVuY3Rpb24gZWUoZSl7Y29uc3QgdD1hd2FpdCBOKGUpO3ZhciBuO249ZSxHLmRlbGV0ZShuKSxJKGUpLGF3YWl0IHQuZGlzY29ubmVjdCgpfWZ1bmN0aW9uIHRlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49Syh0KTtyZXR1cm4gYXN5bmMgcj0+e2lmKCFIKHQpKXJldHVybjtjb25zdCBvPW4uZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShyKTtmb3IoY29uc3R7cmVxOmUsY2xvc2U6dH1vZiBvLnZhbHVlcygpKXQoKSxvLmRlbGV0ZShlLmlkKTtVKHQsKGFzeW5jIGU9Pntjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWF3YWl0IG5lKGUpO2Zvcihjb25zdCBlIG9mIFQodCkpYXdhaXQgSih0LGUsbik7cmV0dXJuIG59KShlKSl9fWFzeW5jIGZ1bmN0aW9uIG5lKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49aCh0KSxyPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8NTA7dCsrKXRyeXtyZXR1cm4gYXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3dhaXQ6ITF9KX1jYXRjaChlKXtpZig0OT09PXQpdGhyb3cgZTthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLDFlMykpKX19KG4pO3JldHVybiByLnJlZ2lzdGVyKGYsaihlKSksci5yZWdpc3RlcihwLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9SyhlKTtyZXR1cm4oZSxuKT0+e2NvbnN0IHI9dC5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG4pLG89ci5nZXQoZS5pZCk7byYmKG8uY2xvc2UoKSxyLmRlbGV0ZShlLmlkKSl9fSh0KSksci5yZWdpc3RlcihsLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgcj1NKGUsdC5wcm92aWRlcklkKTtpZighcilyZXR1cm47Y29uc3R7b25SZXN1bHREaXNwYXRjaDpvfT1yO3JldHVybiBvPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixvKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLHIub25EaXNjb25uZWN0aW9uKHRlKGUpKSxyfWFzeW5jIGZ1bmN0aW9uIHJlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHx1LG49KFwic3RyaW5nXCI9PXR5cGVvZiBlP251bGw6ZT8udXVpZCl8fHgoKSxyPXcobix0KSxvPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpyfTtsZXQgaT1IKHIpO3JldHVybiBpfHwoaT1uZShvKSxVKHIsaSksYXdhaXQgaSkse2dldEFsbFByb3ZpZGVyczpZLmJpbmQobnVsbCxyKSxyZWdpc3RlcjpKLmJpbmQobnVsbCxyKSxzZWFyY2g6US5iaW5kKG51bGwsciksZGVyZWdpc3RlcjpaLmJpbmQobnVsbCxyKSxkaXNwYXRjaDp6LmJpbmQobnVsbCxyKSxkaXNjb25uZWN0OmVlLmJpbmQobnVsbCxyKX19Y29uc3Qgb2U9bmV3IE1hcDtmdW5jdGlvbiBpZShlKXtjb25zdCB0PXNlKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgcX1mdW5jdGlvbiBzZShlKXtjb25zdCB0PW9lLmdldChlKTtpZih0KXJldHVybiB0fWNvbnN0IGFlPW5ldyBNYXA7ZnVuY3Rpb24gY2UoZSx0KXthZS5oYXMoZSl8fGFlLnNldChlLG5ldyBTZXQpLGFlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gZGUoZSx0KXtjb25zdCBuPWFlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX12YXIgdWU9big1MzE2KTtmdW5jdGlvbiBmZShlKXtyZXR1cm5bLi4uVChlKV0ubWFwKChlPT4oey4uLmUsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfSkpKX1hc3luYyBmdW5jdGlvbiBsZShlLHQpe2lmKE0oZSx0LmlkKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIik7Y29uc3Qgbj1EKCk7YXdhaXQgYihlLHtpZGVudGl0eTpuLC4uLnR9KX1mdW5jdGlvbiBwZShlLHQpe0woZSx0KX1hc3luYyBmdW5jdGlvbiBnZShlLHQsbixyKXtjb25zdCBvPU0oZSx0KTtpZighbyl0aHJvdyBFO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6aX09bztpZighaSlyZXR1cm47cmV0dXJuIGkoayhuLEQoKSxyKSl9YXN5bmMgZnVuY3Rpb24qd2UoZSx0LG4pe2NvbnN0IHI9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdLHI9W10sbz1bXSxpPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9TyhzLnNjb3JlT3JkZXIpLGE9e3Jlc3VsdHM6W10scHJvdmlkZXI6e2lkOnMuaWQsaWRlbnRpdHk6cy5pZGVudGl0eSx0aXRsZTpzLnRpdGxlLHNjb3JlT3JkZXI6cy5zY29yZU9yZGVyLGljb246cy5pY29ufX07bi5wdXNoKGEpLHIucHVzaChlKTtjb25zdCBjPShhc3luYygpPT57dHJ5e2NvbnN0e3Jlc3VsdHM6bixjb250ZXh0OnJ9PWF3YWl0IHMub25Vc2VySW5wdXQodCxlLnJlcyk7YS5yZXN1bHRzPUIoYS5yZXN1bHRzLG4pLGEuY29udGV4dD17Li4uYS5jb250ZXh0LC4uLnJ9fWNhdGNoKGUpe2EuZXJyb3I9ZX1jLmRvbmU9ITB9KSgpO2kucHVzaChjKSxvLnB1c2goby5sZW5ndGgpfXJldHVybntwcm92aWRlclJlc3BvbnNlczpuLGxpc3RlbmVyUmVzcG9uc2VzOnIsb3Blbkxpc3RlbmVyUmVzcG9uc2VzOm8saW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6aX19KHQudGFyZ2V0cz90LnRhcmdldHMubWFwKCh0PT5NKGUsdCkpKS5maWx0ZXIoKGU9PiEhZSkpOlsuLi5UKGUpLmZpbHRlcigoZT0+IWUuaGlkZGVuKSldLHQpLHtwcm92aWRlclJlc3BvbnNlczpvLGxpc3RlbmVyUmVzcG9uc2VzOml9PXI7bGV0e29wZW5MaXN0ZW5lclJlc3BvbnNlczpzLGluaXRpYWxSZXNwb25zZVByb21pc2VzOmF9PXIsZD11ZS5ELkZldGNoaW5nO2NvbnN0IHU9ZT0+e2Q9ZSxuLnNldFN0YXRlKGQpfTtsZXQgZixsPSExO3Qub25DbG9zZSgoKCk9PntsPSEwLGYmJmYoKX0pKTtkb3tsZXQgZT0hMTtpZihhLmxlbmd0aCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBhKW4uZG9uZT9lPSEwOnQucHVzaChuKTthPXQsYS5sZW5ndGh8fCh1KHVlLkQuRmV0Y2hlZCksZT0hMCl9bGV0IHQsbj0hMTtjb25zdCByPSgpPT57bj0hMCx0JiZ0KCl9LHA9W107Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1pW3RdLHM9b1t0XSxhPW4uZ2V0U3RhdHVzKCk7KGE9PT1jLk9wZW58fGQ9PT11ZS5ELkZldGNoaW5nJiZhPT09Yy5Jbml0aWFsKSYmKHAucHVzaCh0KSxuLm9uQ2hhbmdlPXIpO2NvbnN0IHU9bi5nZXRSZXN1bHRCdWZmZXIoKTt1Lmxlbmd0aCYmKG4uc2V0UmVzdWx0QnVmZmVyKFtdKSxzLnJlc3VsdHM9QihzLnJlc3VsdHMsdSksZT0hMCk7Y29uc3QgZj1uLmdldFJldm9rZWRCdWZmZXIoKTtpZihmLmxlbmd0aCl7bi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCB0PW5ldyBTZXQoZik7cy5yZXN1bHRzPXMucmVzdWx0cy5maWx0ZXIoKCh7a2V5OmV9KT0+IXQuaGFzKGUpKSksZT0hMH19aWYocz1wLGUmJih5aWVsZCBvKSxsKWJyZWFrO258fChzLmxlbmd0aHx8YS5sZW5ndGgpJiZhd2FpdCBQcm9taXNlLnJhY2UoWy4uLmEsbmV3IFByb21pc2UoKGU9Pnt0PWV9KSksbmV3IFByb21pc2UoKGU9PntmPWV9KSldKX13aGlsZShzLmxlbmd0aHx8YS5sZW5ndGgpO3JldHVybiB1KHVlLkQuQ29tcGxldGUpLG99bGV0IGhlPTA7ZnVuY3Rpb24geWUoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9LG4pe2hlKz0xO2NvbnN0IHI9Vyh0LGhlLnRvU3RyaW5nKCksbiksbz13ZShlLHIucmVxLHtzZXRTdGF0ZTplPT57by5zdGF0ZT1lfX0pO3JldHVybiBvLmlkPWhlLnRvU3RyaW5nKCksby5jbG9zZT1yLmNsb3NlLG8uc3RhdGU9dWUuRC5GZXRjaGluZyxvfWNvbnN0IHZlPW5ldyBNYXA7ZnVuY3Rpb24gbWUoZSx0KXtyZXR1cm5gJHtlfToke3R9YH1mdW5jdGlvbiBTZShlKXtyZXR1cm4gYXN5bmModCwuLi5uKT0+e2lmKCF0KXJldHVybntlcnJvcjpfLm1lc3NhZ2V9O2xldCByO2lmKHQuaWQpcj1tZShlLm5hbWVzcGFjZWRUb3BpYyx0LmlkKTtlbHNle2NvbnN0IG49eWUoZSx0KTtyPW1lKGUubmFtZXNwYWNlZFRvcGljLG4uaWQpLHQuaWQ9bi5pZCx2ZS5zZXQocix7Z2VuZXJhdG9yOm59KX1jb25zdCBvPXZlLmdldChyKTtjbGVhclRpbWVvdXQoby50aW1lb3V0KTtjb25zdCBpPWF3YWl0IG8uZ2VuZXJhdG9yLm5leHQoKTtyZXR1cm4gby50aW1lb3V0PWZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt2ZS5kZWxldGUoZSl9KSwxZTQpfShyKSx7Li4uaSxpZDp0LmlkLHN0YXRlOm8uZ2VuZXJhdG9yLnN0YXRlfX19ZnVuY3Rpb24gQ2UoZSx0LG4pe3JldHVybiBpZShlKS5kaXNwYXRjaCh0LHAse2lkOm59KX1mdW5jdGlvbiBQZShlKXtyZXR1cm4gdD0+ZnVuY3Rpb24oZSx0KXtjb25zdCBuPW1lKGUsdCkscj12ZS5nZXQobik7ciYmci5nZW5lcmF0b3IuY2xvc2UoKX0oZSx0LmlkKX1hc3luYyBmdW5jdGlvbiBSZShlLHQse2lkOm4scXVlcnk6cixjb250ZXh0Om8sdGFyZ2V0czppfSl7Y29uc3Qgcz1pZShlKSxhPXtpZDpuLHF1ZXJ5OnIsY29udGV4dDpvLHRhcmdldHM6aSxwcm92aWRlcklkOnQuaWR9LGM9YXdhaXQgcy5kaXNwYXRjaCh0LmlkZW50aXR5LGYsYSksZD1jLmVycm9yO2lmKGQpdGhyb3cgbmV3IEVycm9yKGQpO3JldHVybiBjfWNvbnN0IGJlPW5ldyBNYXA7ZnVuY3Rpb24gTGUoZSx0LG4pe3JldHVybmAke2V9OiR7dC5uYW1lfToke3QudXVpZH06JHtufWB9Y29uc3QgVGU9bmV3IE1hcDtmdW5jdGlvbiBJZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0fToke259YH1mdW5jdGlvbiBNZShlLHQpe2NvbnN0IG49TGUuYmluZChudWxsLGUsdC5pZGVudGl0eSkscj1DZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxvPVJlLmJpbmQobnVsbCxlLHQpO3JldHVybiBhc3luYyhpLHMpPT57Y29uc3QgYT1uKGkuaWQpO2lmKCFiZS5oYXMoYSkpe2NvbnN0IGU9KCk9PntyKGkuaWQpLGJlLmRlbGV0ZShhKX07YmUuc2V0KGEsZSksaS5vbkNsb3NlKGUpfWNvbnN0IGQ9SWUoZSx0LmlkLGkuaWQpLHU9KCk9PntUZS5kZWxldGUoZCkscy5jbG9zZSgpfTtpLm9uQ2xvc2UodSksVGUuc2V0KGQsKGU9PntlLnJlc3VsdHM/Lmxlbmd0aCYmcy5yZXNwb25kKGUucmVzdWx0cyksZS5yZXZva2VkPy5sZW5ndGgmJnMucmV2b2tlKC4uLmUucmV2b2tlZCksZS5zdGF0dXM9PT1jLk9wZW4mJnMub3BlbigpLGUuc3RhdHVzPT09Yy5DbG9zZSYmdSgpfSkpO2NvbnN0IGY9YXdhaXQgbyhpKTtyZXR1cm4gZi5zdGF0dXM9PT1jLk9wZW4mJnMub3BlbigpLGYuc3RhdHVzIT09Yy5DbG9zZSYmZi5zdGF0dXMhPT1jLkluaXRpYWx8fHUoKSxmfX1mdW5jdGlvbiBrZShlLHQpe3JldHVybiBhc3luYyBuPT57Y29uc3Qgcj1pZShlKSxvPXtwcm92aWRlcklkOnQuaWQscmVzdWx0Om59O3JldHVybiByLmRpc3BhdGNoKHQuaWRlbnRpdHksbCxvKX19Y29uc3QgQmU9bmV3IE1hcDtmdW5jdGlvbiBPZShlLHQpe3JldHVybmAke2V9LSR7dC5uYW1lfS0ke3QudXVpZH1gfWZ1bmN0aW9uIFdlKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LmlkKXJldHVybiB2b2lkIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh0KSk7aWYoTShlLHQuaWQpKXRocm93IEY7dC5pZGVudGl0eT1uLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1PZShlLHQuaWRlbnRpdHkpO0JlLmhhcyhuKXx8QmUuc2V0KG4sW10pLEJlLmdldChuKS5wdXNoKHQuaWQpLGF3YWl0IGIoZSx7Li4udCxvblVzZXJJbnB1dDpNZShlLHQpLG9uUmVzdWx0RGlzcGF0Y2g6a2UoZSx0KX0pfShlLHQpfX1mdW5jdGlvbiBEZShlKXtyZXR1cm4gdD0+e3QmJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1NKGUsdCk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9T2UoZSxuLmlkZW50aXR5KSxvPUJlLmdldChyKTtpZihvKXtjb25zdCBuPW8uZmluZEluZGV4KChlPT5lPT09dCkpOy0xIT09biYmKG8uc3BsaWNlKG4sMSksTChlLHQpKX19KGUsdCl9fWNvbnN0IHhlPW5ldyBNYXA7ZnVuY3Rpb24gQWUoZSx0KXt4ZS5oYXMoZSl8fHhlLnNldChlLG5ldyBTZXQpLHhlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gRWUoZSx0KXtjb25zdCBuPXhlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1mdW5jdGlvbiBGZShlKXtyZXR1cm4gYXN5bmMgdD0+eyFmdW5jdGlvbihlLHQpe2NvbnN0IG49T2UoZSx0KSxyPUJlLmdldChuKTtpZihyKXtmb3IoY29uc3QgdCBvZiByKUwoZSx0KTtCZS5kZWxldGUobil9fShlLHQpO2NvbnN0IG49eGUuZ2V0KGUpO24mJm4uZm9yRWFjaCgoZT0+ZSh0KSkpfX1hc3luYyBmdW5jdGlvbiBfZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWgoZS5uYW1lc3BhY2VkVG9waWMpLHI9YXdhaXQobz1uLGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKG8pKTt2YXIgbztyZXR1cm4gci5vbkNvbm5lY3Rpb24oZnVuY3Rpb24oe25hbWVzcGFjZWRUb3BpYzplfSl7cmV0dXJuIGFzeW5jIHQ9Pntjb25zdCBuPWFlLmdldChlKTtpZihuKWZvcihjb25zdCBlIG9mIG4paWYoIWF3YWl0IGUodCkpdGhyb3cgJH19KGUpKSxyLm9uRGlzY29ubmVjdGlvbihGZSh0KSksci5yZWdpc3RlcihwLFBlKHQpKSxyLnJlZ2lzdGVyKGYsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9Pntjb25zdCBuPUllKGUsdC5wcm92aWRlcklkLHQuaWQpLHI9VGUuZ2V0KG4pO3ImJnIodCl9fSh0KSksci5yZWdpc3RlcihcIjJcIixXZSh0KSksci5yZWdpc3RlcihcIjNcIixEZSh0KSksci5yZWdpc3RlcihcIjRcIixmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmMoKT0+ZmUoZSl9KHQpKSxyLnJlZ2lzdGVyKFwiMVwiLFNlKGUpKSxyLnJlZ2lzdGVyKGwsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCByPU0oZSx0LnByb3ZpZGVySWQpO2lmKCFyKXRocm93IEU7Y29uc3R7b25SZXN1bHREaXNwYXRjaDpvfT1yO3JldHVybiBvPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixvKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLHJ9YXN5bmMgZnVuY3Rpb24gJGUoZSl7Y29uc3QgdD1pZShlKTt2YXIgbjtuPWUsb2UuZGVsZXRlKG4pLGF3YWl0IHQuZGVzdHJveSgpLEkoZSl9YXN5bmMgZnVuY3Rpb24gcWUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fHUsbj14KCkscj13KG4sdCksbz17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6cn07bGV0IGk9c2Uocik7aXx8KGk9YXdhaXQgX2UobyksZnVuY3Rpb24oZSx0KXtvZS5zZXQoZSx0KX0ocixpKSk7Y29uc3Qgcz1kZS5iaW5kKG51bGwsciksYT1FZS5iaW5kKG51bGwsciksYz1tLmJpbmQobnVsbCxyKSxkPVAuYmluZChudWxsLHIpO3JldHVybntnZXRBbGxQcm92aWRlcnM6ZmUuYmluZChudWxsLHIpLHNlYXJjaDp5ZS5iaW5kKG51bGwsbykscmVnaXN0ZXI6bGUuYmluZChudWxsLHIpLGRlcmVnaXN0ZXI6cGUuYmluZChudWxsLHIpLG9uU3Vic2NyaXB0aW9uOmNlLmJpbmQobnVsbCxyKSxvbkRpc2Nvbm5lY3Q6QWUuYmluZChudWxsLHIpLG9uUmVnaXN0ZXI6di5iaW5kKG51bGwsciksb25EZXJlZ2lzdGVyOkMuYmluZChudWxsLHIpLGRpc3BhdGNoOmdlLmJpbmQobnVsbCxvKSxkaXNjb25uZWN0OiRlLmJpbmQobnVsbCxyKSxyZW1vdmVMaXN0ZW5lcjplPT57cyhlKSxhKGUpLGMoZSksZChlKX19fWNvbnN0e2NyZWF0ZTpHZX09byx7c3Vic2NyaWJlOk5lfT1yLEhlPXtjcmVhdGU6R2Usc3Vic2NyaWJlOk5lLGRlZmF1bHRUb3BpYzpcImFsbFwifSxVZT0oKT0+e2NvbnN0IGU9d2luZG93O2Uuc2VhcmNoPUhlLGUuZmluJiYoZS5maW4uU2VhcmNoPUhlKX0sVmU9ZT0+e2NvbnN0IHQ9KCk9PntVZSgpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl9O3JldHVybiB0fTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXtVZSgpO2NvbnN0IGU9XCJsb2FkXCIsdD1WZShlKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihlLHQpO2NvbnN0IG49XCJET01Db250ZW50TG9hZGVkXCIscj1WZShuKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihuLHIpfWNvbnN0IEtlPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gWGUoKXthd2FpdCBhc3luYyBmdW5jdGlvbihlKXtLZS5zZXQoZSxhd2FpdCBOZSh7dG9waWM6ZSx1dWlkOmQucTkuV29ya3NwYWNlfSkpfShzKX1sZXQgamU7YXN5bmMgZnVuY3Rpb24gSmUoZSl7cmV0dXJuIGF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuIGplfHwoamU9WGUoKSksamV9KCksS2UuZ2V0KGUpfXZhciBaZT1uKDM3NTgpO2NvbnN0IHplPWFzeW5jIGU9PntpZighZS5pY29uKXRocm93IG5ldyBFcnJvcihgJHtlLmlkfSBwcm92aWRlciBuZWVkcyB0byBoYXZlIGljb24gcHJvcGVydHkgZGVmaW5lZC5gKTthd2FpdCgwLGkuYUIpKCk7cmV0dXJuKGF3YWl0IEplKHMpKS5yZWdpc3RlcihlKX0sUWU9YXN5bmMgZT0+e2F3YWl0KDAsaS5hQikoKTtyZXR1cm4oYXdhaXQgSmUocykpLmRlcmVnaXN0ZXIoZSl9O2FzeW5jIGZ1bmN0aW9uIFllKCl7cmV0dXJuKGF3YWl0KDAsaS5YbCkoKSkuZGlzcGF0Y2goaS5NbC5TaG93SG9tZSx2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIGV0KCl7cmV0dXJuKGF3YWl0KDAsaS5YbCkoKSkuZGlzcGF0Y2goaS5NbC5IaWRlSG9tZSx2b2lkIDApfX0sMzI5ODooZSx0LG4pPT57bi5kKHQse3c6KCk9PnIud30pO3ZhciByPW4oNTMxNil9LDM3NTg6KGUsdCxuKT0+e3ZhciByLG8saTtuLmQodCx7UHQ6KCk9PnIseVc6KCk9Pm8sZWw6KCk9Pml9KSxmdW5jdGlvbihlKXtlLlN1Z2dlc3Rpb249XCJzdWdnZXN0aW9uXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5Db250YWN0PVwiQ29udGFjdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCIsZS5MaXN0PVwiTGlzdFwiLGUuUGxhaW49XCJQbGFpblwiLGUuU2ltcGxlVGV4dD1cIlNpbXBsZVRleHRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sNzU2NDooZSx0LG4pPT57bigzMjk4KSxuKDM3NTgpLG4oNjExNCksbigyMTA5KX0sNjExNDooZSx0LG4pPT57dmFyIHIsbztuLmQodCx7TDooKT0+cixUOigpPT5vfSksZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0ob3x8KG89e30pKX0sMjEwOTooZSx0LG4pPT57bi5kKHQse3A2OigpPT5yLEdvOigpPT5vLGJJOigpPT5pLFpKOigpPT5zfSk7Y29uc3Qgcj17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCJ9LG89e1RleHQ6XCJUZXh0XCIsSW1hZ2U6XCJJbWFnZVwiLExpc3Q6XCJMaXN0XCJ9LGk9ey4uLnIsLi4ub307dmFyIHM7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShzfHwocz17fSkpfSwzMTc6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7QXBwTWFuaWZlc3RUeXBlOigpPT5vLkwsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5vLlQsZGVyZWdpc3RlcjooKT0+dSxoaWRlOigpPT5mLHJlZ2lzdGVyOigpPT5kLHNob3c6KCk9Pmx9KTt2YXIgcj1uKDc0MDUpO24oNzU2NCk7dmFyIG89big2MTE0KTtsZXQgaTtjb25zdCBzPW5ldyBNYXAsYT1lPT57aWYoIXMuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcy5nZXQoZSl9LGM9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxyLlhsKSgpO2lmKHMuaGFzKGUuaWQpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBwcm92aWRlciB3aXRoIGlkICR7ZS5pZH0gYWxyZWFkeSByZWdpc3RlcmVkYCk7cmV0dXJuIHMuc2V0KGUuaWQsZSksKGU9PntlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcywoZT0+YShlKS5nZXRBcHBzKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyLChlPT5hKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlLChlPT5hKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbiwoZT0+YShlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKHIuTWwuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwLCgoe2lkOmUsYXBwOnR9KT0+YShlKS5sYXVuY2hBcHAodCkpKSl9KSh0KSx0LmRpc3BhdGNoKHIuTWwuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIsZSl9LGQ9ZT0+KGk9YyhlKSxpKSx1PWFzeW5jIGU9Pnthd2FpdCBpLHMuZGVsZXRlKGUpO3JldHVybihhd2FpdCgwLHIuWGwpKCkpLmRpc3BhdGNoKHIuTWwuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixlKX0sZj1hc3luYygpPT57YXdhaXQgaSxhd2FpdCgwLHIuYUIpKCksYXdhaXQoYXN5bmMoKT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5NbC5IaWRlU3RvcmVmcm9udCx2b2lkIDApKSgpfSxsPWFzeW5jKCk9Pnthd2FpdCBpLGF3YWl0KDAsci5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLk1sLlNob3dTdG9yZWZyb250LG51bGwpKSgpfX0sNzQwNTooZSx0LG4pPT57bi5kKHQse01sOigpPT5zLERtOigpPT5hLFhsOigpPT5mLGFCOigpPT51fSk7dmFyIHI9big2Njc4KTtjb25zdCBvPXIuQXgmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO3ZhciBpPW4oMTIxKTt2YXIgczshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlcnM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlcnNcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIixlLkNyZWF0ZVN0b3JlZnJvbnRXaW5kb3c9XCJjcmVhdGUtc3RvcmVmcm9udC13aW5kb3dcIixlLlNob3dIb21lPVwic2hvdy1ob21lXCIsZS5IaWRlSG9tZT1cImhpZGUtaG9tZVwiLGUuQXNzaWduSG9tZVNlYXJjaENvbnRleHQ9XCJhc3NpZ24taG9tZS1zZWFyY2gtY29udGV4dFwiLGUuR2V0TGVnYWN5UGFnZXM9XCJnZXQtbGVnYWN5LXBhZ2VzXCIsZS5HZXRMZWdhY3lXb3Jrc3BhY2VzPVwiZ2V0LWxlZ2FjeS13b3Jrc3BhY2VzXCIsZS5HZXRDb21wdXRlZFBsYXRmb3JtVGhlbWU9XCJnZXQtY29tcHV0ZWQtcGxhdGZvcm0tdGhlbWVcIn0oc3x8KHM9e30pKTtjb25zdCBhPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybigpPT57aWYoIXIuc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgbztjb25zdCBuPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlKTtyZXR1cm4gbi5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9Pnt0PXZvaWQgMH0pKSxufSkoKS50aGVuKChlPT5lKSkuY2F0Y2goKG49Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHtufWApfSkpKSx0fX0oXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLGM9XCJpc0xhdW5jaGVkVmlhTGliXCIsZD1lPT57Y29uc3QgdD1uZXcgVVJMKGUpO3JldHVybiB0LnNlYXJjaFBhcmFtcy5hcHBlbmQoYyxcInRydWVcIiksdC50b1N0cmluZygpfSx1PWFzeW5jKCk9PntpZighYXdhaXQoMCxpLkpWKShpLmlXKSlyZXR1cm4oci5aS3x8LTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJXaW5cIikpJiZhd2FpdCBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QoZChyLmFXKSksZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZChyLkdYKSl9LGY9YXN5bmMoKT0+KGF3YWl0IHUoKSxhKCkpfSw1ODA2OihlLHQsbik9PntuLmQodCx7cTk6KCk9PnJ9KTt2YXIgcixvLGkscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KGl8fChpPXt9KSk7cy5BQixzLkFCLHIuV29ya3NwYWNlLHIuV29ya3NwYWNlfSw2Njc4OihlLHQsbik9Pnt2YXIgcjtuLmQodCx7c1M6KCk9Pm8sQXg6KCk9PmksQUI6KCk9PmEsb0M6KCk9PmMsWks6KCk9PmQsR1g6KCk9PnUsYVc6KCk9PmZ9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KHJ8fChyPXt9KSk7Y29uc3Qgbz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdykscz1pP3dpbmRvdy5vcmlnaW46ci5Mb2NhbCxhPW8mJmZpbi5tZS51dWlkLGM9byYmZmluLm1lLm5hbWUsZD0obyYmZmluLm1lLmVudGl0eVR5cGUsXCJwcm9kXCI9PT1yLkxvY2FsKSx1PShyLkRldixyLlN0YWdpbmcsci5Qcm9kLFwiZmluczovL3N5c3RlbS1hcHBzL3dvcmtzcGFjZVwiKSxmPVwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNi4zLjYvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlO2woXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNlwiKSxsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNi4zLjZcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZsKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpfSwxMjE6KGUsdCxuKT0+e24uZCh0LHtpVzooKT0+YyxKVjooKT0+ZH0pO3ZhciByLG8saT1uKDU4MDYpLHM9big2Njc4KTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VSZXF1ZXN0ZWQ9XCJjbG9zZS1yZXF1ZXN0ZWRcIixlLkZvY3VzZWQ9XCJmb2N1c2VkXCIsZS5TaG93UmVxdWVzdGVkPVwic2hvdy1yZXF1ZXN0ZWRcIixlLlZpZXdDcmFzaGVkPVwidmlldy1jcmFzaGVkXCIsZS5WaWV3QXR0YWNoZWQ9XCJ2aWV3LWF0dGFjaGVkXCIsZS5WaWV3RGV0YWNoZWQ9XCJ2aWV3LWRldGFjaGVkXCIsZS5WaWV3UGFnZVRpdGxlVXBkYXRlZD1cInZpZXctcGFnZS10aXRsZS11cGRhdGVkXCIsZS5WaWV3RGVzdHJveWVkPVwidmlldy1kZXN0cm95ZWRcIixlLk9wdGlvbnNDaGFuZ2VkPVwib3B0aW9ucy1jaGFuZ2VkXCJ9KG98fChvPXt9KSk7ZnVuY3Rpb24gYShlKXtpZighcy5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1zLm9DLHMuQUI7ci5Ib21lLGkucTkuV29ya3NwYWNlLHIuRG9jayxpLnE5LldvcmtzcGFjZSxyLlN0b3JlZnJvbnQsaS5xOS5Xb3Jrc3BhY2U7Y29uc3QgYz17bmFtZTppLnE5LldvcmtzcGFjZSx1dWlkOmkucTkuV29ya3NwYWNlfTtjb25zdCBkPWU9PmEoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKX0sNTMxNjooZSx0LG4pPT57dmFyIHIsbztuLmQodCx7RDooKT0+cix3OigpPT5vfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShvfHwobz17fSkpfX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KGUsdCk9Pntmb3IodmFyIHIgaW4gdCluLm8odCxyKSYmIW4ubyhlLHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtlbnVtZXJhYmxlOiEwLGdldDp0W3JdfSl9LG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgcj17fTsoKCk9PntuLnIociksbi5kKHIse0FwcE1hbmlmZXN0VHlwZTooKT0+cC5MLEJ1dHRvblN0eWxlOigpPT5mLlpKLENMSUFjdGlvbjooKT0+bC5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5sLmVsLENMSVRlbXBsYXRlOigpPT5sLnlXLENvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5wNixIb21lOigpPT5vLExlZ2FjeTooKT0+ZSxQcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmYuR28sU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+dS53LFN0b3JlZnJvbnQ6KCk9PmQsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5wLlQsVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5mLmJJfSk7dmFyIGU9e307bi5yKGUpLG4uZChlLHtnZXRQYWdlczooKT0+YSxnZXRXb3Jrc3BhY2VzOigpPT5jfSk7dmFyIHQsbz1uKDMxMzMpO24oNjY3OCksbigxMjEpOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0odHx8KHQ9e30pKTtuZXcgTWFwO3ZhciBpOyFmdW5jdGlvbihlKXtlLkxhc3RMYXVuY2hlZFdvcmtzcGFjZUlkPVwiYWN0aXZlV29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIn0oaXx8KGk9e30pKTt2YXIgcz1uKDc0MDUpO2NvbnN0IGE9KCk9PmFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5NbC5HZXRMZWdhY3lQYWdlcyx2b2lkIDApfSgpLGM9KCk9Pihhc3luYygpPT4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLk1sLkdldExlZ2FjeVdvcmtzcGFjZXMsdm9pZCAwKSkoKTt2YXIgZD1uKDMxNyksdT1uKDMyOTgpLGY9bigyMTA5KSxsPW4oMzc1OCkscD1uKDYxMTQpfSkoKSxtb2R1bGUuZXhwb3J0cz1yfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7XG4gICAgQ0xJVGVtcGxhdGUsXG4gICAgdHlwZSBDTElEaXNwYXRjaGVkU2VhcmNoUmVzdWx0LFxuICAgIHR5cGUgQ0xJRmlsdGVyLFxuICAgIHR5cGUgQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSwgdHlwZSBIb21lU2VhcmNoUmVzcG9uc2UsXG4gICAgdHlwZSBIb21lU2VhcmNoUmVzdWx0XG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB0eXBlIHsgSW50ZWdyYXRpb24sIEludGVncmF0aW9uTWFuYWdlciwgSW50ZWdyYXRpb25Nb2R1bGUgfSBmcm9tIFwiLi4vLi4vaW50ZWdyYXRpb25zLXNoYXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBGYWN0U2V0UmVzcG9uc2UsIEZhY3RTZXRTZXR0aW5ncywgRmFjdFNldFRlbXBsYXRlRGF0YSB9IGZyb20gXCIuL3NoYXBlc1wiO1xuaW1wb3J0IHsgZ2V0VGVtcGxhdGVBbmREYXRhLCBnZXRCdXN5VGVtcGxhdGUgfSBmcm9tIFwiLi90ZW1wbGF0ZXNcIjtcblxuLyoqXG4gKiBJbXBsZW1lbnQgdGhlIGludGVncmF0aW9uIHByb3ZpZGVyIGZvciBGYWN0U2V0LlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmZhY3RzZXQuY29tL2FwaS1jYXRhbG9nL2ZhY3RzZXQtc2VhcmNoLWFuc3dlcnMjYXBpRG9jdW1lbnRhdGlvblxuICovXG5leHBvcnQgY2xhc3MgRmFjdFNldEZvcmNlSW50ZWdyYXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIEludGVncmF0aW9uTW9kdWxlPEZhY3RTZXRTZXR0aW5ncz4ge1xuICAgIC8qKlxuICAgICAqIFByb3ZpZGVyIGlkLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9QUk9WSURFUl9JRCA9IFwiZmFjdHNldFwiO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGtleSB0byB1c2UgZm9yIGEgRmFjdFNldCBBbnN3ZXIgcmVzdWx0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9BTlNXRVJfU0VBUkNIX1JFU1VMVF9LRVkgPSBcImZhY3RzZXQtYW5zd2VyXCI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUga2V5IHRvIHVzZSBmb3IgYSBGYWN0U2V0IGJ1c3kgcmVzdWx0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9CVVNZX1NFQVJDSF9SRVNVTFRfS0VZID0gXCJmYWN0c2V0LWJvZHlcIjtcblxuICAgIC8qKlxuICAgICogVGhlIGludGVncmF0aW9uIG1hbmFnZXIuXG4gICAgKiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHByaXZhdGUgX2ludGVncmF0aW9uTWFuYWdlcjogSW50ZWdyYXRpb25NYW5hZ2VyIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlYm91bmNlIHRpbWVyO1xuICAgICAqL1xuICAgIHByaXZhdGUgX2RlYm91bmNlVGltZXJJZDogTm9kZUpTLlRpbWVvdXQgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBJcyB0aGVyZSBhIHJlcXVlc3QgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHJpdmF0ZSBfcXVlcnlJblByb2dyZXNzOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogSXMgdGhlcmUgYW5vdGhlciBxdWVyeSB0byB0cnkuXG4gICAgICovXG4gICAgcHJpdmF0ZSBfbmV4dFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBJcyB0aGVyZSBhIG5lc3QgcmVzcG9uc2UgdG8gZ28gd2l0aCB0aGUgbmV4dFF1ZXJ5LlxuICAgICAqL1xuICAgIHByaXZhdGUgX25leHRSZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICogVGhlIG1vZHVsZSBpcyBiZWluZyByZWdpc3RlcmVkLlxuICAgICogQHBhcmFtIGludGVncmF0aW9uTWFuYWdlciBUaGUgbWFuYWdlciBmb3IgdGhlIGludGVncmF0aW9uLlxuICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICogQHJldHVybnMgTm90aGluZy5cbiAgICAqL1xuICAgIHB1YmxpYyBhc3luYyByZWdpc3RlcihpbnRlZ3JhdGlvbk1hbmFnZXI6IEludGVncmF0aW9uTWFuYWdlciwgaW50ZWdyYXRpb246IEludGVncmF0aW9uPEZhY3RTZXRTZXR0aW5ncz4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyID0gaW50ZWdyYXRpb25NYW5hZ2VyO1xuICAgICAgICB0aGlzLl9xdWVyeUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWdpc3RlcmluZyBGYWN0U2V0XCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtb2R1bGUgaXMgYmVpbmcgZGVyZWdpc3RlcmVkLlxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyBOb3RoaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBkZXJlZ2lzdGVyKGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxGYWN0U2V0U2V0dGluZ3M+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiB0aGUgc3RhdGljIGFwcGxpY2F0aW9uIGVudHJpZXMuXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIGFwcGxpY2F0aW9uIGVudHJpZXMuXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldEFwcFNlYXJjaEVudHJpZXMoaW50ZWdyYXRpb246IEludGVncmF0aW9uPEZhY3RTZXRTZXR0aW5ncz4pOiBQcm9taXNlPEhvbWVTZWFyY2hSZXN1bHRbXT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gZW50cnkgaGFzIGJlZW4gc2VsZWN0ZWQuXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSByZXN1bHQgVGhlIGRpc3BhdGNoZWQgcmVzdWx0LlxuICAgICAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3QgcmVzcG9uc2UuXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgaXRlbSB3YXMgaGFuZGxlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgaXRlbVNlbGVjdGlvbihcbiAgICAgICAgaW50ZWdyYXRpb246IEludGVncmF0aW9uPEZhY3RTZXRTZXR0aW5ncz4sXG4gICAgICAgIHJlc3VsdDogQ0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcbiAgICAgICAgbGFzdFJlc3BvbnNlOiBDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGRhdGE6IHsgcHJvdmlkZXJJZDogc3RyaW5nIH0gJiBGYWN0U2V0VGVtcGxhdGVEYXRhID0gcmVzdWx0LmRhdGE7XG5cbiAgICAgICAgaWYgKGRhdGEucHJvdmlkZXJJZCA9PT0gRmFjdFNldEZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQgJiYgcmVzdWx0LmFjdGlvbi5uYW1lLnN0YXJ0c1dpdGgoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSBOdW1iZXIucGFyc2VJbnQocmVzdWx0LmFjdGlvbi5uYW1lLnNsaWNlKDQpLCAxMCk7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTihpZHgpICYmIGRhdGE/LmFwcGxpY2F0aW9uTGlua3MgJiYgaWR4IDwgZGF0YT8uYXBwbGljYXRpb25MaW5rcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9pbnRlZ3JhdGlvbk1hbmFnZXIub3BlblVybChkYXRhPy5hcHBsaWNhdGlvbkxpbmtzW2lkeF0ud2ViTGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2Ygc2VhcmNoIHJlc3VsdHMgYmFzZWQgb24gdGhlIHF1ZXJ5IGFuZCBmaWx0ZXJzLlxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIGZpbHRlcnMgVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCBzZWFyY2ggcmVzcG9uc2UgdXNlZCBmb3IgdXBkYXRpbmcgZXhpc3RpbmcgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgbGlzdCBvZiByZXN1bHRzIGFuZCBuZXcgZmlsdGVycy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U2VhcmNoUmVzdWx0cyhcbiAgICAgICAgaW50ZWdyYXRpb246IEludGVncmF0aW9uPEZhY3RTZXRTZXR0aW5ncz4sXG4gICAgICAgIHF1ZXJ5OiBzdHJpbmcsXG4gICAgICAgIGZpbHRlcnM6IENMSUZpbHRlcltdLFxuICAgICAgICBsYXN0UmVzcG9uc2U6IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2VcbiAgICApOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgICAgICAgaWYgKGludGVncmF0aW9uPy5kYXRhPy5wcm94eUVuZHBvaW50KSB7XG4gICAgICAgICAgICBjb25zdCBidXN5UmVxdWlyZWQgPSB0aGlzLmRlYm91bmNlUmVxdWVzdChpbnRlZ3JhdGlvbiwgcXVlcnksIGxhc3RSZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAoYnVzeVJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRoaXMuZ2V0QnVzeVNlYXJjaFJlc3VsdChpbnRlZ3JhdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNlYXJjaCByZXN1bHQgdG8gZGlzcGxheSB3aGVuIHdlIGFyZSBidXN5IHNlYXJjaGluZy5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQHJldHVybnMgVGhlIGJ1c3kgc2VhcmNoIHJlc3VsdCBlbnRyeS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEJ1c3lTZWFyY2hSZXN1bHQoXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxGYWN0U2V0U2V0dGluZ3M+XG4gICAgKTogSG9tZVNlYXJjaFJlc3VsdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IEZhY3RTZXRGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX0JVU1lfU0VBUkNIX1JFU1VMVF9LRVksXG4gICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uaWNvbixcbiAgICAgICAgICAgIHRpdGxlOiBcIkZhY3RTZXQgU2VhcmNoaW5nLi4uXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBGYWN0U2V0Rm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5DdXN0b20sXG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICBsYXlvdXQ6IGdldEJ1c3lUZW1wbGF0ZShcImJ1c3lJY29uXCIpLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgYnVzeUljb246IGludGVncmF0aW9uLmRhdGE/Lmljb25NYXAuYnVzeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHNlYXJjaCByZXN1bHRzIGJhc2VkIG9uIHRoZSBxdWVyeSBhbmQgZmlsdGVycy5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3Qgc2VhcmNoIHJlc3BvbnNlIHVzZWQgZm9yIHVwZGF0aW5nIGV4aXN0aW5nIHJlc3VsdHMuXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiBhIGJ1c3kgZW50cnkgaXMgcmVxdWlyZWQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBkZWJvdW5jZVJlcXVlc3QoaW50ZWdyYXRpb246IEludGVncmF0aW9uPEZhY3RTZXRTZXR0aW5ncz4sIHF1ZXJ5OiBzdHJpbmcsIGxhc3RSZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgYnVzeVJlcXVpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5SW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhIHF1ZXJ5IGluIHByb2dyZXNzIHRoZW4gc3RvcmUgdGhlIHF1ZXJ5XG4gICAgICAgICAgICAvLyBmb3Igd2hlbiBpdCBpcyBmaW5pc2hlZCwgYW5kIHRoZW4gd2UgcGVyZm9ybSB0aGF0IHF1ZXJ5LlxuICAgICAgICAgICAgdGhpcy5fbmV4dFF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgICB0aGlzLl9uZXh0UmVzcG9uc2UgPSBsYXN0UmVzcG9uc2U7XG4gICAgICAgICAgICAvLyBLZWVwIHRoZSBidXN5IGVudHJ5IGV2ZW4gZm9yIHRoZSBuZXcgcXVlcnkuXG4gICAgICAgICAgICBidXN5UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2RlYm91bmNlVGltZXJJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RlYm91bmNlVGltZXJJZCk7XG4gICAgICAgICAgICB0aGlzLl9kZWJvdW5jZVRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOZWVkIG1pbmltdW0gMiB3b3JkcyBmb3Igc2VhcmNoIHdpdGggZWFjaCB3b3JrIGF0IGxlYXN0IDEgY2hhcnNcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFydHMgPSBxdWVyeS5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICBpZiAocXVlcnlQYXJ0cy5sZW5ndGggPj0gMiAmJiBxdWVyeVBhcnRzWzBdLmxlbmd0aCA+PSAxICYmIHF1ZXJ5UGFydHNbMV0ubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICBidXN5UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXJ5SW5Qcm9ncmVzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJvdW5jZVRpbWVySWQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdChxdWVyeSwgaW50ZWdyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3BvbnNlLnJlc3BvbmQoW3Jlc3BvbnNlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVib3VuY2VUaW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVlcnlJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9uZXh0UXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhbm90aGVyIHF1ZXJ5IHRvIHNlbmQgc28gcmVzdGFydCB0aGUgZmxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRRdWVyeSA9IHRoaXMuX25leHRRdWVyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UmVzcG9uc2UgPSB0aGlzLl9uZXh0UmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmV4dFF1ZXJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX25leHRSZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYm91bmNlUmVxdWVzdChpbnRlZ3JhdGlvbiwgbmV4dFF1ZXJ5LCBuZXh0UmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXZva2UgYW55IHJlbWFpbmluZyBidXN5IHJlc3VsdHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3BvbnNlLnJldm9rZShGYWN0U2V0Rm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9CVVNZX1NFQVJDSF9SRVNVTFRfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVzeVJlcXVpcmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgdGhlIHJlcXVlc3QgdG8gdGhlIEFQSSBwcm94eS5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXN1bHRzIGlmIHRoZXJlIHdhcyBvbmUuXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBzZW5kUmVxdWVzdChxdWVyeTogc3RyaW5nLCBpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248RmFjdFNldFNldHRpbmdzPik6IFByb21pc2U8SG9tZVNlYXJjaFJlc3VsdCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgdXJsOiBgJUVOVi1hcGlFbmRwb2ludCUvc2VhcmNoL2Fuc3dlcnMvdjEvZGF0YT9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJnZXRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBcIkJhc2ljICVFTlYtYXV0aG9yaXphdGlvbiVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3ZpZGVySWQ6IEZhY3RTZXRGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lEXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGludGVncmF0aW9uPy5kYXRhPy5wcm94eUVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QganNvbjogRmFjdFNldFJlc3BvbnNlID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICAgICAgICBpZiAoanNvbi5kYXRhICYmIGpzb24uZGF0YS50ZW1wbGF0ZSAhPT0gXCJBbnN3ZXJXaXRob3V0RGF0YVRlbXBsYXRlXCIgJiYganNvbi5kYXRhLnRlbXBsYXRlICE9PSBcIk5vQW5zd2VyVGVtcGxhdGVcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXSxcbiAgICAgICAgICAgICAgICB0aXRsZToganNvbi5kYXRhLnRlbXBsYXRlRGF0YS5oZWFkbGluZSxcbiAgICAgICAgICAgICAgICBsYWJlbDoganNvbi5kYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgIGtleTogRmFjdFNldEZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fQU5TV0VSX1NFQVJDSF9SRVNVTFRfS0VZLFxuICAgICAgICAgICAgICAgIGljb246IGludGVncmF0aW9uLmljb24sXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBGYWN0U2V0Rm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgLi4uanNvbi5kYXRhLnRlbXBsYXRlRGF0YVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IENMSVRlbXBsYXRlLkN1c3RvbSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IGdldFRlbXBsYXRlQW5kRGF0YShqc29uLmRhdGEudGVtcGxhdGUsIGpzb24uZGF0YS50ZW1wbGF0ZURhdGEpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGpzb24uZXJyb3JzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGpzb24uZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCdXR0b25TdHlsZSwgQ3VzdG9tVGVtcGxhdGVEYXRhLCBQbGFpbkNvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnQsIFRlbXBsYXRlRnJhZ21lbnQsIFRlbXBsYXRlRnJhZ21lbnRUeXBlcyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB7IGNyZWF0ZUJ1dHRvbiwgY3JlYXRlQ29udGFpbmVyLCBjcmVhdGVJbWFnZSwgY3JlYXRlTGFiZWxsZWRWYWx1ZSwgY3JlYXRlVGFibGUsIGNyZWF0ZVRleHQgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGUtaGVscGVyc1wiO1xuaW1wb3J0IHsgRmFjdFNldFRhYmxlU2V0LCBGYWN0U2V0VGVtcGxhdGVEYXRhIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCdXN5VGVtcGxhdGUoc3Bpbm5lcktleTogc3RyaW5nKTogVGVtcGxhdGVGcmFnbWVudCB7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbnRhaW5lcihcImNvbHVtblwiLCBbXG4gICAgICAgIGNyZWF0ZUltYWdlKHNwaW5uZXJLZXksIFwiQnVzeVwiLCB7IHdpZHRoOiBcIjEwMHB4XCIsIGhlaWdodDogXCIxMDBweFwiIH0pXG4gICAgXSwgeyBwYWRkaW5nOiBcIjEwcHhcIiwgZmxleDogXCIxXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGVtcGxhdGVBbmREYXRhKHRlbXBsYXRlOiBzdHJpbmcsIHRlbXBsYXRlRGF0YTogRmFjdFNldFRlbXBsYXRlRGF0YSk6IHtcbiAgICBsYXlvdXQ6IFRlbXBsYXRlRnJhZ21lbnQ7XG4gICAgZGF0YTogQ3VzdG9tVGVtcGxhdGVEYXRhXG59IHtcbiAgICBjb25zdCBkYXRhOiB7IFtpZDogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgICBjb25zdCBjaGlsZHJlbjogVGVtcGxhdGVGcmFnbWVudFtdID0gW107XG5cbiAgICBpZiAodGVtcGxhdGVEYXRhLmxhYmVsICYmIHRlbXBsYXRlRGF0YS52YWx1ZSkge1xuICAgICAgICBkYXRhLmxhYmVsVmFsdWVUaXRsZSA9IHRlbXBsYXRlRGF0YS5sYWJlbDtcbiAgICAgICAgZGF0YS5sYWJlbFZhbHVlRGF0YSA9IHR5cGVvZiB0ZW1wbGF0ZURhdGEudmFsdWUgPT09IFwic3RyaW5nXCIgPyB0ZW1wbGF0ZURhdGEudmFsdWUgOiB0ZW1wbGF0ZURhdGEudmFsdWUudGV4dDtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVMYWJlbGxlZFZhbHVlKFwibGFiZWxWYWx1ZVRpdGxlXCIsIFwibGFiZWxWYWx1ZURhdGFcIikpXG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZURhdGEudGV4dCkge1xuICAgICAgICBkYXRhLnRleHREYXRhID0gdGVtcGxhdGVEYXRhLnRleHQ7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY3JlYXRlVGV4dChcInRleHREYXRhXCIsIDEyLCB7IG1hcmdpbkJvdHRvbTogXCIxMHB4XCIgfSkpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVEYXRhLnZhbHVlQ2hhbmdlKSB7XG4gICAgICAgIGRhdGEudmFsdWVDaGFuZ2VUaXRsZSA9IFwiQ2hhbmdlXCI7XG4gICAgICAgIGRhdGEudmFsdWVDaGFuZ2VEYXRhID0gdGVtcGxhdGVEYXRhLnZhbHVlQ2hhbmdlLnBlcmNlbnRhZ2VDaGFuZ2U7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY3JlYXRlTGFiZWxsZWRWYWx1ZShcInZhbHVlQ2hhbmdlVGl0bGVcIiwgXCJ2YWx1ZUNoYW5nZURhdGFcIiwgeyBtYXJnaW5Cb3R0b206IFwiMTBweFwiIH0pKTtcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlRGF0YS5kYXRlKSB7XG4gICAgICAgIGRhdGEuZGF0ZVRpdGxlID0gXCJEYXRlXCI7XG4gICAgICAgIGRhdGEuZGF0ZURhdGEgPSB0ZW1wbGF0ZURhdGEuZGF0ZTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVMYWJlbGxlZFZhbHVlKFwiZGF0ZVRpdGxlXCIsIFwiZGF0ZURhdGFcIikpXG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZURhdGEuYm9keSkge1xuICAgICAgICBkYXRhLmJvZHlEYXRhID0gdGVtcGxhdGVEYXRhLmJvZHk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY3JlYXRlVGV4dChcImJvZHlEYXRhXCIsIDEyLCB7IG1hcmdpbkJvdHRvbTogXCIxMHB4XCIgfSkpO1xuICAgIH1cblxuICAgIGlmICh0ZW1wbGF0ZURhdGEuZmRjM0NvbnRleHQpIHtcbiAgICAgICAgZGF0YS5mZGMzVGl0bGUgPSBcIkZEQzMgVHlwZVwiO1xuICAgICAgICBkYXRhLmZkYzNEYXRhID0gdGVtcGxhdGVEYXRhLmZkYzNDb250ZXh0LnR5cGU7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY3JlYXRlTGFiZWxsZWRWYWx1ZShcImZkYzNUaXRsZVwiLCBcImZkYzNEYXRhXCIpKVxuXG4gICAgICAgIGlmICh0ZW1wbGF0ZURhdGEuZmRjM0NvbnRleHQudHlwZSA9PT0gXCJmZGMzLmluc3RydW1lbnRcIikge1xuICAgICAgICAgICAgZGF0YS50aWNrZXJUaXRsZSA9IFwiVGlja2VyXCI7XG4gICAgICAgICAgICBkYXRhLnRpY2tlckRhdGEgPSB0ZW1wbGF0ZURhdGEuZmRjM0NvbnRleHQuaWQudGlja2VyO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVMYWJlbGxlZFZhbHVlKFwidGlja2VyVGl0bGVcIiwgXCJ0aWNrZXJEYXRhXCIpKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRlbXBsYXRlID09PSBcIlRhYmxlVGVtcGxhdGVcIiAmJiB0ZW1wbGF0ZURhdGEudGFibGUpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChwcm9jZXNzVGFibGVEYXRhKHRlbXBsYXRlRGF0YS50YWJsZSwgMCwgZGF0YSkpO1xuICAgIH0gZWxzZSBpZiAodGVtcGxhdGUgPT09IFwiVGFibGVUYWJsZVRlbXBsYXRlXCIpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlRGF0YS50YWJsZTEpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gocHJvY2Vzc1RhYmxlRGF0YSh0ZW1wbGF0ZURhdGEudGFibGUxLCAxLCBkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlbXBsYXRlRGF0YS50YWJsZTIpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gocHJvY2Vzc1RhYmxlRGF0YSh0ZW1wbGF0ZURhdGEudGFibGUyLCAyLCBkYXRhKSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRlbXBsYXRlID09PSBcIlJhbmtlZFRhYmxlVGVtcGxhdGVcIiAmJiB0ZW1wbGF0ZURhdGEudGFibGUpIHtcbiAgICAgICAgbGV0IHRhYmxlRGF0YSA9IFtdO1xuICAgICAgICB0YWJsZURhdGEucHVzaCh0ZW1wbGF0ZURhdGEudGFibGUuaGVhZGVycyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wbGF0ZURhdGEudGFibGUucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGFibGVEYXRhLnB1c2goW1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGF0YS50YWJsZS5yb3dzW2ldLnJhbmsudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURhdGEudGFibGUucm93c1tpXS5lbnRpdHkubmFtZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURhdGEudGFibGUucm93c1tpXS5hZGRpdGlvbmFsRGF0YVswXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZHJlbi5wdXNoKGNyZWF0ZVRhYmxlKHRhYmxlRGF0YSwgWzEsIDQsIDFdLCAwLCBkYXRhKSk7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBsYXRlRGF0YS5saXN0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcGxhdGVEYXRhLmxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlS2V5ID0gYGxpc3RUaXRsZSR7aX1gO1xuICAgICAgICAgICAgY29uc3QgZGF0YUtleSA9IGBsaXN0RGF0YSR7aX1gO1xuICAgICAgICAgICAgZGF0YVt0aXRsZUtleV0gPSB0ZW1wbGF0ZURhdGEubGlzdFtpXS5sYWJlbDtcbiAgICAgICAgICAgIGRhdGFbZGF0YUtleV0gPSB0ZW1wbGF0ZURhdGEubGlzdFtpXS52YWx1ZTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY3JlYXRlTGFiZWxsZWRWYWx1ZSh0aXRsZUtleSwgZGF0YUtleSkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGVtcGxhdGVEYXRhLmZvb3Rlcikge1xuICAgICAgICBkYXRhLmZvb3RlckRhdGEgPSB0ZW1wbGF0ZURhdGEuZm9vdGVyO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNyZWF0ZVRleHQoXCJmb290ZXJEYXRhXCIsIDEyLCB7IG1hcmdpbkJvdHRvbTogXCIxMHB4XCIsIG1hcmdpblRvcDogXCIxMHB4XCIsIGZvbnRTdHlsZTogXCJpdGFsaWNcIiB9KSk7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBsYXRlRGF0YS5hcHBsaWNhdGlvbkxpbmtzKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wbGF0ZURhdGEuYXBwbGljYXRpb25MaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uVGl0bGVLZXkgPSBgYnV0dG9uVGl0bGUke2l9YDtcbiAgICAgICAgICAgIGRhdGFbYnV0dG9uVGl0bGVLZXldID0gdGVtcGxhdGVEYXRhLmFwcGxpY2F0aW9uTGlua3NbaV0ubmFtZS5sZW5ndGggPiAzMCA/IGAke3RlbXBsYXRlRGF0YS5hcHBsaWNhdGlvbkxpbmtzW2ldLm5hbWUuc3Vic3RyaW5nKDAsIDMwKX0uLi5gIDogdGVtcGxhdGVEYXRhLmFwcGxpY2F0aW9uTGlua3NbaV0ubmFtZTtcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChjcmVhdGVCdXR0b24oQnV0dG9uU3R5bGUuUHJpbWFyeSwgYnV0dG9uVGl0bGVLZXksIGBvcGVuJHtpfWApKVxuICAgICAgICB9XG4gICAgICAgIGNoaWxkcmVuLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLkNvbnRhaW5lcixcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGZsZXhXcmFwOiBcIndyYXBcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtZW5kXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogYnV0dG9uc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5Db250YWluZXIsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjEwcHhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGFcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzVGFibGVEYXRhKHRhYmxlOiBGYWN0U2V0VGFibGVTZXQsIHRhYmxlSW5kZXg6IG51bWJlciwgZGF0YTogeyBbaWQ6IHN0cmluZ106IHN0cmluZzsgfSkge1xuICAgIGxldCB0YWJsZURhdGEgPSBbXTtcbiAgICB0YWJsZURhdGEucHVzaCh0YWJsZS50YWJsZUhlYWRlcnMpO1xuICAgIGNvbnN0IHJvd3MgPSB0YWJsZS50YWJsZVJvd3MgPz8gdGFibGUudGFibGVEYXRhO1xuICAgIHRhYmxlRGF0YSA9IHRhYmxlRGF0YS5jb25jYXQocm93cyk7XG4gICAgaWYgKHRhYmxlLnRhYmxlRm9vdGVycz8ubGVuZ3RoKSB7XG4gICAgICAgIHRhYmxlRGF0YSA9IHRhYmxlRGF0YS5jb25jYXQodGFibGUudGFibGVGb290ZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVRhYmxlKHRhYmxlRGF0YSwgW10sIHRhYmxlSW5kZXgsIGRhdGEpO1xufVxuXG4iLCJpbXBvcnQgeyBCdXR0b25TdHlsZSwgQnV0dG9uVGVtcGxhdGVGcmFnbWVudCwgSW1hZ2VUZW1wbGF0ZUZyYWdtZW50LCBQbGFpbkNvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnQsIFRlbXBsYXRlRnJhZ21lbnQsIFRlbXBsYXRlRnJhZ21lbnRUeXBlcywgVGV4dFRlbXBsYXRlRnJhZ21lbnQgfSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCJcbmltcG9ydCAqIGFzIENTUyBmcm9tIFwiY3NzdHlwZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKGNvbnRhaW5lclR5cGU6IFwiY29sdW1uXCIgfCBcInJvd1wiLCBjaGlsZHJlbjogVGVtcGxhdGVGcmFnbWVudFtdLCBzdHlsZT86IENTUy5Qcm9wZXJ0aWVzKTogUGxhaW5Db250YWluZXJUZW1wbGF0ZUZyYWdtZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBUZW1wbGF0ZUZyYWdtZW50VHlwZXMuQ29udGFpbmVyLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBjb250YWluZXJUeXBlLFxuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW5cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZXh0KGRhdGFLZXk6IHN0cmluZywgZm9udFNpemU6IG51bWJlciA9IDE0LCBzdHlsZT86IENTUy5Qcm9wZXJ0aWVzKTogVGV4dFRlbXBsYXRlRnJhZ21lbnQge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5UZXh0LFxuICAgICAgICBkYXRhS2V5LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZm9udFNpemU6IGAke2ZvbnRTaXplID8/IDE0fXB4YCxcbiAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbWFnZShkYXRhS2V5OiBzdHJpbmcsIGFsdGVybmF0aXZlVGV4dDogc3RyaW5nLCBzdHlsZT86IENTUy5Qcm9wZXJ0aWVzKTogSW1hZ2VUZW1wbGF0ZUZyYWdtZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBUZW1wbGF0ZUZyYWdtZW50VHlwZXMuSW1hZ2UsXG4gICAgICAgIGRhdGFLZXksXG4gICAgICAgIGFsdGVybmF0aXZlVGV4dCxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCdXR0b24oYnV0dG9uU3R5bGU6IEJ1dHRvblN0eWxlLCB0aXRsZUtleTogc3RyaW5nLCBhY3Rpb246IHN0cmluZywgc3R5bGU/OiBDU1MuUHJvcGVydGllcyk6IEJ1dHRvblRlbXBsYXRlRnJhZ21lbnQge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5CdXR0b24sXG4gICAgICAgIGJ1dHRvblN0eWxlLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgY3JlYXRlVGV4dCh0aXRsZUtleSwgMTIpXG4gICAgICAgIF0sXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhYmxlKHRhYmxlRGF0YTogc3RyaW5nW11bXSwgY29sU3BhbnM6IG51bWJlcltdLCB0YWJsZUluZGV4OiBudW1iZXIsIGRhdGE6IHsgW2lkOiBzdHJpbmddOiBzdHJpbmcgfSk6IFRlbXBsYXRlRnJhZ21lbnQge1xuICAgIGNvbnN0IGNlbGxzID0gW107XG4gICAgbGV0IGZpbmFsQ29sU3BhbnMgPSBjb2xTcGFucy5zbGljZSgpO1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRhYmxlRGF0YVswXS5sZW5ndGg7IGNvbCsrKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcktleSA9IGB0YWJsZSR7dGFibGVJbmRleH1faGVhZGVyJHtjb2x9YDtcbiAgICAgICAgZGF0YVtoZWFkZXJLZXldID0gdGFibGVEYXRhWzBdW2NvbF07XG4gICAgICAgIGNlbGxzLnB1c2goY3JlYXRlVGV4dChoZWFkZXJLZXksIDEwLCB7IG1hcmdpbkJvdHRvbTogXCIxMHB4XCIsIHBhZGRpbmc6IFwiM3B4XCIsIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLCBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tb3BlbmZpbi11aS1icmFuZFByaW1hcnkpXCIgfSkpO1xuXG4gICAgICAgIGlmIChjb2xTcGFucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbmFsQ29sU3BhbnMucHVzaCgxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IHJvdyA9IDE7IHJvdyA8IHRhYmxlRGF0YS5sZW5ndGg7IHJvdysrKSB7XG4gICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRhYmxlRGF0YVswXS5sZW5ndGg7IGNvbCsrKSB7XG4gICAgICAgICAgICBjb25zdCByb3dDb2xLZXkgPSBgdGFibGUke3RhYmxlSW5kZXh9X2NvbCR7Y29sfV9yb3cke3Jvd31gO1xuICAgICAgICAgICAgZGF0YVtyb3dDb2xLZXldID0gdGFibGVEYXRhW3Jvd11bY29sXTtcbiAgICAgICAgICAgIGNlbGxzLnB1c2goY3JlYXRlVGV4dChyb3dDb2xLZXksIDEwLCB7IHBhZGRpbmc6IFwiM3B4XCIsIHdoaXRlU3BhY2U6IFwibm93cmFwXCIgfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNvbnRhaW5lcihcInJvd1wiLCBjZWxscywgeyBkaXNwbGF5OiBcImdyaWRcIiwgZ3JpZFRlbXBsYXRlQ29sdW1uczogZmluYWxDb2xTcGFucy5tYXAocyA9PiBgJHtzfWZyYCkuam9pbihcIiBcIiksIG1hcmdpbkJvdHRvbTogXCIxMHB4XCIsIG92ZXJmbG93OiBcImF1dG9cIiB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxhYmVsbGVkVmFsdWUobGFiZWxLZXk6IHN0cmluZywgdmFsdWVLZXk6IHN0cmluZywgc3R5bGU/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogUGxhaW5Db250YWluZXJUZW1wbGF0ZUZyYWdtZW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBUZW1wbGF0ZUZyYWdtZW50VHlwZXMuQ29udGFpbmVyLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEwcHhcIixcbiAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBjcmVhdGVUZXh0KGxhYmVsS2V5LCAxMiwgeyBjb2xvcjogXCJncmF5XCIgfSksXG4gICAgICAgICAgICBjcmVhdGVUZXh0KHZhbHVlS2V5LCB1bmRlZmluZWQsIHsgY29sb3I6IFwid2hpdGVcIiB9KVxuICAgICAgICBdXG4gICAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBGYWN0U2V0Rm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyIH0gZnJvbSBcIi4vaW50ZWdyYXRpb24tcHJvdmlkZXJcIjtcblxuZXhwb3J0IGNvbnN0IGludGVncmF0aW9uID0gbmV3IEZhY3RTZXRGb3JjZUludGVncmF0aW9uUHJvdmlkZXIoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=