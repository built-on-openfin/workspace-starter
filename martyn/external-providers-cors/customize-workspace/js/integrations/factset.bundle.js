/******/ var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>Ze.Pt,CLIFilterOptionType:()=>Ze.el,CLITemplate:()=>Ze.yW,deregister:()=>Qe,hide:()=>et,register:()=>ze,show:()=>Ye});var r={};n.r(r),n.d(r,{subscribe:()=>re});var o={};n.r(o),n.d(o,{create:()=>qe});var i=n(7405);const s="home";var a;!function(e){e.Commands="home-commands"}(a||(a={}));var c,d=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(c||(c={}));const u="all",f="0",l="5",p="6",g=()=>{};function w(e,t){return e?`${e}-${t}`:t}function h(e){return`__search-${e}-topic__`}const y=new Map;function v(e,t){y.has(e)||y.set(e,new Set),y.get(e).add(t)}function m(e,t){const n=y.get(e);n&&n.delete(t)}const S=new Map;function C(e,t){S.has(e)||S.set(e,new Set),S.get(e).add(t)}function P(e,t){const n=S.get(e);n&&n.delete(t)}const R=new Map;async function b(e,t){R.has(e)||R.set(e,new Map),R.get(e).set(t.id,t);const n=y.get(e);if(!n)return;const r=[...n].map((e=>e()));await Promise.all(r)}async function L(e,t){const n=R.get(e);if(!n)return;n.delete(t);const r=S.get(e);if(!r)return;const o=[...r].map((e=>e()));await Promise.all(o)}function T(e){return R.get(e)?[...R.get(e).values()]:[]}function I(e){const t=R.get(e);t&&t.clear()}function M(e,t){const n=R.get(e);return n?n.get(t):null}function k(e,t,n){return{...e,action:n||e.actions[0],dispatcherIdentity:t}}function B(e,t,n="ascending"){const r=e||[];if(!t?.length)return r;const o=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);o.push(e)}));let s=r.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...o),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function O(e){const t={};let n=[];let r=[];let o=c.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>r,t.setRevokedBuffer=e=>{r=e,r?.length&&t.onChange()},t.onChange=g;const i={};return t.res=i,i.close=()=>{o!==c.Close&&(o=c.Close,t.onChange())},i.open=()=>{o!==c.Open&&(o=c.Open,t.onChange())},i.respond=n=>{const r=B(t.getResultBuffer(),n,e);t.setResultBuffer(r)},i.revoke=(...e)=>{const n=new Set(e),r=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(r),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function W(e,t,n){const r=new Set;let o=!1;return{close:()=>{o=!0;for(const e of r)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{r.add(e),o&&e()},removeListener:e=>{r.delete(e)}}}}function D(){return{name:fin.me.name,uuid:fin.me.uuid}}function x(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const A="deregistered or does not exist",E=new Error(`provider ${A}`),F=new Error("provider with name already exists"),_=new Error("bad payload"),$=new Error("subscription rejected"),q=new Error(`channel ${A}`),G=new Map;function N(e){const t=H(e);if(t)return t;throw q}function H(e){const t=G.get(e);if(t)return t}function U(e,t){G.set(e,t)}const V=new Map;function K(e){V.has(e)||V.set(e,new Map);const t=V.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function X(e,t){return(await N(e)).dispatch(f,t)}function j({namespacedTopic:e,topic:t}){const n=M.bind(null,e),r=K(e),o=X.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=_;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=E;return{error:e.message}}const d=r.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=W(t,s,e),d.set(e.id,u));const f=O(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();o({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function J(e,t,n){const r=n||await N(e),o=D(),i={identity:o,...t,onUserInput:void 0,onResultDispatch:void 0};await r.dispatch("2",i),await b(e,{identity:o,...t})}async function Z(e,t){const n=await N(e);return await n.dispatch("3",t),L(e,t)}async function z(e,t,n,r){const o=k(n,D(),r),i=M(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(o)}const s={providerId:t,result:o};return(await N(e)).dispatch(l,s)}async function Q(e,t){const n={...t,context:t?.context||{}},r={},o=async function*(e,t,{setState:n}){const r=await N(e);for(;;){const e=await r.dispatch("1",t),o=e.error;if(o)throw new Error(o);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{r.state=e}});let i=await o.next();return r.id=n.id,r.close=()=>{!async function(e,t){(await N(e)).dispatch(p,{id:t})}(e,r.id)},r.next=()=>{if(i){const e=i;return i=void 0,e}return o.next()},r}async function Y(e){return(await N(e)).dispatch("4",null)}async function ee(e){const t=await N(e);var n;n=e,G.delete(n),I(e),await t.disconnect()}function te(e){const{namespacedTopic:t}=e,n=K(t);return async r=>{if(!H(t))return;const o=n.getRequestsForIdentity(r);for(const{req:e,close:t}of o.values())t(),o.delete(e.id);U(t,(async e=>{const{namespacedTopic:t}=e,n=await ne(e);for(const e of T(t))await J(t,e,n);return n})(e))}}async function ne(e){const{namespacedTopic:t}=e,n=h(t),r=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return r.register(f,j(e)),r.register(p,function(e){const t=K(e);return(e,n)=>{const r=t.getRequestsForIdentity(n),o=r.get(e.id);o&&(o.close(),r.delete(e.id))}}(t)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)return;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r.onDisconnection(te(e)),r}async function re(e){const t=("string"==typeof e?e:e?.topic)||u,n=("string"==typeof e?null:e?.uuid)||x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=H(r);return i||(i=ne(o),U(r,i),await i),{getAllProviders:Y.bind(null,r),register:J.bind(null,r),search:Q.bind(null,r),deregister:Z.bind(null,r),dispatch:z.bind(null,r),disconnect:ee.bind(null,r)}}const oe=new Map;function ie(e){const t=se(e);if(t)return t;throw q}function se(e){const t=oe.get(e);if(t)return t}const ae=new Map;function ce(e,t){ae.has(e)||ae.set(e,new Set),ae.get(e).add(t)}function de(e,t){const n=ae.get(e);n&&n.delete(t)}var ue=n(5316);function fe(e){return[...T(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function le(e,t){if(M(e,t.id))throw new Error("provider with name already exists");const n=D();await b(e,{identity:n,...t})}function pe(e,t){L(e,t)}async function ge(e,t,n,r){const o=M(e,t);if(!o)throw E;const{onResultDispatch:i}=o;if(!i)return;return i(k(n,D(),r))}async function*we(e,t,n){const r=function(e,t){const n=[],r=[],o=[],i=[];for(const s of e){const e=O(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon}};n.push(a),r.push(e);const c=(async()=>{try{const{results:n,context:r}=await s.onUserInput(t,e.res);a.results=B(a.results,n),a.context={...a.context,...r}}catch(e){a.error=e}c.done=!0})();i.push(c),o.push(o.length)}return{providerResponses:n,listenerResponses:r,openListenerResponses:o,initialResponsePromises:i}}(t.targets?t.targets.map((t=>M(e,t))).filter((e=>!!e)):[...T(e).filter((e=>!e.hidden))],t),{providerResponses:o,listenerResponses:i}=r;let{openListenerResponses:s,initialResponsePromises:a}=r,d=ue.D.Fetching;const u=e=>{d=e,n.setState(d)};let f,l=!1;t.onClose((()=>{l=!0,f&&f()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(ue.D.Fetched),e=!0)}let t,n=!1;const r=()=>{n=!0,t&&t()},p=[];for(const t of s){const n=i[t],s=o[t],a=n.getStatus();(a===c.Open||d===ue.D.Fetching&&a===c.Initial)&&(p.push(t),n.onChange=r);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=B(s.results,u),e=!0);const f=n.getRevokedBuffer();if(f.length){n.setRevokedBuffer([]);const t=new Set(f);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=p,e&&(yield o),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{f=e}))])}while(s.length||a.length);return u(ue.D.Complete),o}let he=0;function ye({namespacedTopic:e,topic:t},n){he+=1;const r=W(t,he.toString(),n),o=we(e,r.req,{setState:e=>{o.state=e}});return o.id=he.toString(),o.close=r.close,o.state=ue.D.Fetching,o}const ve=new Map;function me(e,t){return`${e}:${t}`}function Se(e){return async(t,...n)=>{if(!t)return{error:_.message};let r;if(t.id)r=me(e.namespacedTopic,t.id);else{const n=ye(e,t);r=me(e.namespacedTopic,n.id),t.id=n.id,ve.set(r,{generator:n})}const o=ve.get(r);clearTimeout(o.timeout);const i=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{ve.delete(e)}),1e4)}(r),{...i,id:t.id,state:o.generator.state}}}function Ce(e,t,n){return ie(e).dispatch(t,p,{id:n})}function Pe(e){return t=>function(e,t){const n=me(e,t),r=ve.get(n);r&&r.generator.close()}(e,t.id)}async function Re(e,t,{id:n,query:r,context:o,targets:i}){const s=ie(e),a={id:n,query:r,context:o,targets:i,providerId:t.id},c=await s.dispatch(t.identity,f,a),d=c.error;if(d)throw new Error(d);return c}const be=new Map;function Le(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Te=new Map;function Ie(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Le.bind(null,e,t.identity),r=Ce.bind(null,e,t.identity),o=Re.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!be.has(a)){const e=()=>{r(i.id),be.delete(a)};be.set(a,e),i.onClose(e)}const d=Ie(e,t.id,i.id),u=()=>{Te.delete(d),s.close()};i.onClose(u),Te.set(d,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===c.Open&&s.open(),e.status===c.Close&&u()}));const f=await o(i);return f.status===c.Open&&s.open(),f.status!==c.Close&&f.status!==c.Initial||u(),f}}function ke(e,t){return async n=>{const r=ie(e),o={providerId:t.id,result:n};return r.dispatch(t.identity,l,o)}}const Be=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function We(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(M(e,t.id))throw F;t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Be.has(n)||Be.set(n,[]),Be.get(n).push(t.id),await b(e,{...t,onUserInput:Me(e,t),onResultDispatch:ke(e,t)})}(e,t)}}function De(e){return t=>{t&&function(e,t){const n=M(e,t);if(!n)return;const r=Oe(e,n.identity),o=Be.get(r);if(o){const n=o.findIndex((e=>e===t));-1!==n&&(o.splice(n,1),L(e,t))}}(e,t)}}const xe=new Map;function Ae(e,t){xe.has(e)||xe.set(e,new Set),xe.get(e).add(t)}function Ee(e,t){const n=xe.get(e);n&&n.delete(t)}function Fe(e){return async t=>{!function(e,t){const n=Oe(e,t),r=Be.get(n);if(r){for(const t of r)L(e,t);Be.delete(n)}}(e,t);const n=xe.get(e);n&&n.forEach((e=>e(t)))}}async function _e(e){const{namespacedTopic:t}=e,n=h(e.namespacedTopic),r=await(o=n,fin.InterApplicationBus.Channel.create(o));var o;return r.onConnection(function({namespacedTopic:e}){return async t=>{const n=ae.get(e);if(n)for(const e of n)if(!await e(t))throw $}}(e)),r.onDisconnection(Fe(t)),r.register(p,Pe(t)),r.register(f,function(e){return t=>{const n=Ie(e,t.providerId,t.id),r=Te.get(n);r&&r(t)}}(t)),r.register("2",We(t)),r.register("3",De(t)),r.register("4",function(e){return async()=>fe(e)}(t)),r.register("1",Se(e)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)throw E;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r}async function $e(e){const t=ie(e);var n;n=e,oe.delete(n),await t.destroy(),I(e)}async function qe(e){const t=("string"==typeof e?e:e?.topic)||u,n=x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=se(r);i||(i=await _e(o),function(e,t){oe.set(e,t)}(r,i));const s=de.bind(null,r),a=Ee.bind(null,r),c=m.bind(null,r),d=P.bind(null,r);return{getAllProviders:fe.bind(null,r),search:ye.bind(null,o),register:le.bind(null,r),deregister:pe.bind(null,r),onSubscription:ce.bind(null,r),onDisconnect:Ae.bind(null,r),onRegister:v.bind(null,r),onDeregister:C.bind(null,r),dispatch:ge.bind(null,o),disconnect:$e.bind(null,r),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ge}=o,{subscribe:Ne}=r,He={create:Ge,subscribe:Ne,defaultTopic:"all"},Ue=()=>{const e=window;e.search=He,e.fin&&(e.fin.Search=He)},Ve=e=>{const t=()=>{Ue(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ue();const e="load",t=Ve(e);window.addEventListener(e,t);const n="DOMContentLoaded",r=Ve(n);window.addEventListener(n,r)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await Ne({topic:e,uuid:d.q9.Workspace}))}(s)}let je;async function Je(e){return await async function(){return je||(je=Xe()),je}(),Ke.get(e)}var Ze=n(3758);const ze=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,i.aB)();return(await Je(s)).register(e)},Qe=async e=>{await(0,i.aB)();return(await Je(s)).deregister(e)};async function Ye(){return(await(0,i.Xl)()).dispatch(i.Ml.ShowHome,void 0)}async function et(){return(await(0,i.Xl)()).dispatch(i.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>r.w});var r=n(5316)},3758:(e,t,n)=>{var r,o,i;n.d(t,{Pt:()=>r,yW:()=>o,el:()=>i}),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var r,o;n.d(t,{L:()=>r,T:()=>o}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(o||(o={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>r,Go:()=>o,bI:()=>i,ZJ:()=>s});const r={Container:"Container",Button:"Button"},o={Text:"Text",Image:"Image",List:"List"},i={...r,...o};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>o.L,StorefrontTemplate:()=>o.T,deregister:()=>u,hide:()=>f,register:()=>d,show:()=>l});var r=n(7405);n(7564);var o=n(6114);let i;const s=new Map,a=e=>{if(!s.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return s.get(e)},c=async e=>{const t=await(0,r.Xl)();if(s.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return s.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.Ml.GetStorefrontProviderApps,(e=>a(e).getApps())),e.register(r.Ml.GetStorefrontProviderFooter,(e=>a(e).getFooter())),e.register(r.Ml.GetStorefrontProviderLandingPage,(e=>a(e).getLandingPage())),e.register(r.Ml.GetStorefrontProviderNavigation,(e=>a(e).getNavigation())),e.register(r.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>a(e).launchApp(t))))})(t),t.dispatch(r.Ml.RegisterStorefrontProvider,e)},d=e=>(i=c(e),i),u=async e=>{await i,s.delete(e);return(await(0,r.Xl)()).dispatch(r.Ml.DeregisterStorefrontProvider,e)},f=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.HideStorefront,void 0))()},l=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var r=n(6678);const o=r.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!r.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await o;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),fin.System.openUrlWithBrowser(d(r.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>r});var r,o,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(r||(r={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,r.Workspace,r.Workspace},6678:(e,t,n)=>{var r;n.d(t,{sS:()=>o,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(r||(r={}));const o="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:r.Local,a=o&&fin.me.uuid,c=o&&fin.me.name,d=(o&&fin.me.entityType,"prod"===r.Local),u=(r.Dev,r.Staging,r.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/6.3.6/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e;l("https://cdn.openfin.co/workspace/6.3.6"),l("https://cdn.openfin.co/workspace/6.3.6"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL)},121:(e,t,n)=>{n.d(t,{iW:()=>c,JV:()=>d});var r,o,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(r||(r={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(o||(o={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}s.oC,s.AB;r.Home,i.q9.Workspace,r.Dock,i.q9.Workspace,r.Storefront,i.q9.Workspace;const c={name:i.q9.Workspace,uuid:i.q9.Workspace};const d=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var r,o;n.d(t,{D:()=>r,w:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>o,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,o=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.LastLaunchedWorkspaceId="activeWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=r})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/factset/integration-provider.ts":
/*!*****************************************************************!*\
  !*** ./client/src/integrations/factset/integration-provider.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FactSetForceIntegrationProvider": () => (/* binding */ FactSetForceIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _templates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./templates */ "./client/src/integrations/factset/templates.ts");


/**
 * Implement the integration provider for FactSet.
 * See https://developer.factset.com/api-catalog/factset-search-answers#apiDocumentation
 */
class FactSetForceIntegrationProvider {
    /**
    * The module is being registered.
    * @param integrationManager The manager for the integration.
    * @param integration The integration details.
    * @returns Nothing.
    */
    async register(integrationManager, integration) {
        this._integrationManager = integrationManager;
        this._queryInProgress = false;
        console.log("Registering FactSet");
    }
    /**
     * The module is being deregistered.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async deregister(integration) {
    }
    /**
     * Get a list of the static application entries.
     * @param integration The integration details.
     * @returns The list of application entries.
     */
    async getAppSearchEntries(integration) {
        const results = [];
        return results;
    }
    /**
     * An entry has been selected.
     * @param integration The integration details.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(integration, result, lastResponse) {
        const data = result.data;
        if (data.providerId === FactSetForceIntegrationProvider._PROVIDER_ID && result.action.name.startsWith("open")) {
            const idx = Number.parseInt(result.action.name.slice(4), 10);
            if (!Number.isNaN(idx) && data?.applicationLinks && idx < data?.applicationLinks.length) {
                await this._integrationManager.openUrl(data?.applicationLinks[idx].webLink);
                return true;
            }
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param integration The integration details.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(integration, query, filters, lastResponse) {
        const results = [];
        if (integration?.data?.proxyEndpoint) {
            const busyRequired = this.debounceRequest(integration, query, lastResponse);
            if (busyRequired) {
                results.push(this.getBusySearchResult(integration));
            }
        }
        return {
            results
        };
    }
    /**
     * Get the search result to display when we are busy searching.
     * @param integration The integration details.
     * @returns The busy search result entry.
     * @internal
     */
    getBusySearchResult(integration) {
        return {
            key: FactSetForceIntegrationProvider._BUSY_SEARCH_RESULT_KEY,
            icon: integration?.icon,
            title: "FactSet Searching...",
            actions: [],
            data: {
                providerId: FactSetForceIntegrationProvider._PROVIDER_ID
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
            templateContent: {
                layout: (0,_templates__WEBPACK_IMPORTED_MODULE_1__.getBusyTemplate)("busyIcon"),
                data: {
                    busyIcon: integration.data?.iconMap.busy
                }
            }
        };
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param integration The integration details.
     * @param query The query to search for.
     * @param lastResponse The last search response used for updating existing results.
     * @returns True if a busy entry is required.
     */
    debounceRequest(integration, query, lastResponse) {
        let busyRequired = false;
        if (this._queryInProgress) {
            // If there is already a query in progress then store the query
            // for when it is finished, and then we perform that query.
            this._nextQuery = query;
            this._nextResponse = lastResponse;
            // Keep the busy entry even for the new query.
            busyRequired = true;
        }
        else if (this._debounceTimerId) {
            clearTimeout(this._debounceTimerId);
            this._debounceTimerId = undefined;
        }
        else {
            // Need minimum 2 words for search with each work at least 1 chars
            const queryParts = query.split(" ");
            if (queryParts.length >= 2 && queryParts[0].length >= 1 && queryParts[1].length >= 1) {
                busyRequired = true;
                this._queryInProgress = true;
                this._debounceTimerId = setTimeout(async () => {
                    try {
                        const response = await this.sendRequest(query, integration);
                        if (response) {
                            lastResponse.respond([response]);
                        }
                    }
                    catch (err) {
                        console.error(err);
                    }
                    finally {
                        this._debounceTimerId = undefined;
                        this._queryInProgress = false;
                        if (this._nextQuery) {
                            // There is another query to send so restart the flow
                            const nextQuery = this._nextQuery;
                            const nextResponse = this._nextResponse;
                            this._nextQuery = undefined;
                            this._nextResponse = undefined;
                            this.debounceRequest(integration, nextQuery, nextResponse);
                        }
                        else {
                            // Revoke any remaining busy results.
                            lastResponse.revoke(FactSetForceIntegrationProvider._BUSY_SEARCH_RESULT_KEY);
                        }
                    }
                }, 300);
            }
        }
        return busyRequired;
    }
    /**
     * Send the request to the API proxy.
     * @param integration The integration details.
     * @param query The query to search for.
     * @returns The results if there was one.
     */
    async sendRequest(query, integration) {
        const payload = {
            url: `%ENV-apiEndpoint%/search/answers/v1/data?query=${encodeURIComponent(query)}`,
            method: "get",
            headers: {
                Authorization: "Basic %ENV-authorization%"
            },
            providerId: FactSetForceIntegrationProvider._PROVIDER_ID
        };
        const res = await fetch(integration?.data?.proxyEndpoint, {
            method: "POST",
            body: JSON.stringify(payload),
            headers: {
                "Content-Type": "application/json"
            }
        });
        const json = await res.json();
        if (json.data && json.data.template !== "AnswerWithoutDataTemplate" && json.data.template !== "NoAnswerTemplate") {
            return {
                actions: [],
                title: json.data.templateData.headline,
                label: json.data.title,
                key: FactSetForceIntegrationProvider._ANSWER_SEARCH_RESULT_KEY,
                icon: integration.icon,
                data: {
                    providerId: FactSetForceIntegrationProvider._PROVIDER_ID,
                    ...json.data.templateData
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: (0,_templates__WEBPACK_IMPORTED_MODULE_1__.getTemplateAndData)(json.data.template, json.data.templateData)
            };
        }
        else if (json.errors) {
            console.error(json.errors);
        }
    }
}
/**
 * Provider id.
 * @internal
 */
FactSetForceIntegrationProvider._PROVIDER_ID = "factset";
/**
 * The key to use for a FactSet Answer result.
 * @internal
 */
FactSetForceIntegrationProvider._ANSWER_SEARCH_RESULT_KEY = "factset-answer";
/**
 * The key to use for a FactSet busy result.
 * @internal
 */
FactSetForceIntegrationProvider._BUSY_SEARCH_RESULT_KEY = "factset-body";


/***/ }),

/***/ "./client/src/integrations/factset/templates.ts":
/*!******************************************************!*\
  !*** ./client/src/integrations/factset/templates.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getBusyTemplate": () => (/* binding */ getBusyTemplate),
/* harmony export */   "getTemplateAndData": () => (/* binding */ getTemplateAndData)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _template_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../template-helpers */ "./client/src/template-helpers.ts");


function getBusyTemplate(spinnerKey) {
    return (0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createContainer)("column", [
        (0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createImage)(spinnerKey, "Busy", { width: "100px", height: "100px" })
    ], { padding: "10px", flex: "1", alignItems: "center", justifyContent: "center" });
}
function getTemplateAndData(template, templateData) {
    const data = {};
    const children = [];
    if (templateData.label && templateData.value) {
        data.labelValueTitle = templateData.label;
        data.labelValueData = typeof templateData.value === "string" ? templateData.value : templateData.value.text;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("labelValueTitle", "labelValueData"));
    }
    if (templateData.text) {
        data.textData = templateData.text;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createText)("textData", 12, { marginBottom: "10px" }));
    }
    if (templateData.valueChange) {
        data.valueChangeTitle = "Change";
        data.valueChangeData = templateData.valueChange.percentageChange;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("valueChangeTitle", "valueChangeData", { marginBottom: "10px" }));
    }
    if (templateData.date) {
        data.dateTitle = "Date";
        data.dateData = templateData.date;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("dateTitle", "dateData"));
    }
    if (templateData.body) {
        data.bodyData = templateData.body;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createText)("bodyData", 12, { marginBottom: "10px" }));
    }
    if (templateData.fdc3Context) {
        data.fdc3Title = "FDC3 Type";
        data.fdc3Data = templateData.fdc3Context.type;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("fdc3Title", "fdc3Data"));
        if (templateData.fdc3Context.type === "fdc3.instrument") {
            data.tickerTitle = "Ticker";
            data.tickerData = templateData.fdc3Context.id.ticker;
            children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)("tickerTitle", "tickerData"));
        }
    }
    if (template === "TableTemplate" && templateData.table) {
        children.push(processTableData(templateData.table, 0, data));
    }
    else if (template === "TableTableTemplate") {
        if (templateData.table1) {
            children.push(processTableData(templateData.table1, 1, data));
        }
        if (templateData.table2) {
            children.push(processTableData(templateData.table2, 2, data));
        }
    }
    else if (template === "RankedTableTemplate" && templateData.table) {
        let tableData = [];
        tableData.push(templateData.table.headers);
        for (let i = 0; i < templateData.table.rows.length; i++) {
            tableData.push([
                templateData.table.rows[i].rank.toString(),
                templateData.table.rows[i].entity.name,
                templateData.table.rows[i].additionalData[0]
            ]);
        }
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createTable)(tableData, [1, 4, 1], 0, data));
    }
    if (templateData.list) {
        for (let i = 0; i < templateData.list.length; i++) {
            const titleKey = `listTitle${i}`;
            const dataKey = `listData${i}`;
            data[titleKey] = templateData.list[i].label;
            data[dataKey] = templateData.list[i].value;
            children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createLabelledValue)(titleKey, dataKey));
        }
    }
    if (templateData.footer) {
        data.footerData = templateData.footer;
        children.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createText)("footerData", 12, { marginBottom: "10px", marginTop: "10px", fontStyle: "italic" }));
    }
    if (templateData.applicationLinks) {
        const buttons = [];
        for (let i = 0; i < templateData.applicationLinks.length; i++) {
            const buttonTitleKey = `buttonTitle${i}`;
            data[buttonTitleKey] = templateData.applicationLinks[i].name.length > 30 ? `${templateData.applicationLinks[i].name.substring(0, 30)}...` : templateData.applicationLinks[i].name;
            buttons.push((0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createButton)(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.ButtonStyle.Primary, buttonTitleKey, `open${i}`));
        }
        children.push({
            type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
            style: {
                display: "flex",
                flex: 1,
                flexDirection: "row",
                flexWrap: "wrap",
                alignItems: "flex-end"
            },
            children: buttons
        });
    }
    return {
        layout: {
            type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
            style: {
                display: "flex",
                flexDirection: "column",
                flex: 1,
                padding: "10px"
            },
            children
        },
        data
    };
}
function processTableData(table, tableIndex, data) {
    let tableData = [];
    tableData.push(table.tableHeaders);
    const rows = table.tableRows ?? table.tableData;
    tableData = tableData.concat(rows);
    if (table.tableFooters?.length) {
        tableData = tableData.concat(table.tableFooters);
    }
    return (0,_template_helpers__WEBPACK_IMPORTED_MODULE_1__.createTable)(tableData, [], tableIndex, data);
}


/***/ }),

/***/ "./client/src/template-helpers.ts":
/*!****************************************!*\
  !*** ./client/src/template-helpers.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createButton": () => (/* binding */ createButton),
/* harmony export */   "createContainer": () => (/* binding */ createContainer),
/* harmony export */   "createImage": () => (/* binding */ createImage),
/* harmony export */   "createLabelledValue": () => (/* binding */ createLabelledValue),
/* harmony export */   "createTable": () => (/* binding */ createTable),
/* harmony export */   "createText": () => (/* binding */ createText)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);

function createContainer(containerType, children, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
        style: {
            display: "flex",
            flexDirection: containerType,
            ...style
        },
        children
    };
}
function createText(dataKey, fontSize = 14, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Text,
        dataKey,
        style: {
            fontSize: `${fontSize ?? 14}px`,
            ...style
        }
    };
}
function createImage(dataKey, alternativeText, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Image,
        dataKey,
        alternativeText,
        style: {
            ...style
        }
    };
}
function createButton(buttonStyle, titleKey, action, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Button,
        buttonStyle,
        children: [
            createText(titleKey, 12)
        ],
        action: action,
        style: {
            ...style
        }
    };
}
function createTable(tableData, colSpans, tableIndex, data) {
    const cells = [];
    let finalColSpans = colSpans.slice();
    for (let col = 0; col < tableData[0].length; col++) {
        const headerKey = `table${tableIndex}_header${col}`;
        data[headerKey] = tableData[0][col];
        cells.push(createText(headerKey, 10, { marginBottom: "10px", padding: "3px", whiteSpace: "nowrap", fontWeight: "bold", backgroundColor: "var(--openfin-ui-brandPrimary)" }));
        if (colSpans.length === 0) {
            finalColSpans.push(1);
        }
    }
    for (let row = 1; row < tableData.length; row++) {
        for (let col = 0; col < tableData[0].length; col++) {
            const rowColKey = `table${tableIndex}_col${col}_row${row}`;
            data[rowColKey] = tableData[row][col];
            cells.push(createText(rowColKey, 10, { padding: "3px", whiteSpace: "nowrap" }));
        }
    }
    return createContainer("row", cells, { display: "grid", gridTemplateColumns: finalColSpans.map(s => `${s}fr`).join(" "), marginBottom: "10px", overflow: "auto" });
}
function createLabelledValue(labelKey, valueKey, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
        style: {
            display: "flex",
            flexDirection: "column",
            marginBottom: "10px",
            ...style
        },
        children: [
            createText(labelKey, 12, { color: "gray" }),
            createText(valueKey, undefined, { color: "white" })
        ]
    };
}


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**************************************************!*\
  !*** ./client/src/integrations/factset/index.ts ***!
  \**************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "integration": () => (/* binding */ integration)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/factset/integration-provider.ts");

const integration = new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.FactSetForceIntegrationProvider();

})();

var __webpack_exports__integration = __webpack_exports__.integration;
export { __webpack_exports__integration as integration };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsQ0FBQztTQUN0RDtLQUNKO0FBQ0wsQ0FBQzs7Ozs7OztTQ3pGRDtTQUNBOztTQUVBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBOztTQUVBO1NBQ0E7O1NBRUE7U0FDQTtTQUNBOzs7OztVQ3RCQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EsaUNBQWlDLFdBQVc7VUFDNUM7VUFDQTs7Ozs7VUNQQTtVQUNBO1VBQ0E7VUFDQTtVQUNBLHlDQUF5Qyx3Q0FBd0M7VUFDakY7VUFDQTtVQUNBOzs7OztVQ1BBOzs7OztVQ0FBO1VBQ0E7VUFDQTtVQUNBLHVEQUF1RCxpQkFBaUI7VUFDeEU7VUFDQSxnREFBZ0QsYUFBYTtVQUM3RDs7Ozs7Ozs7Ozs7Ozs7O0FDTnlFO0FBRWxFLE1BQU0sV0FBVyxHQUFHLElBQUksa0ZBQStCLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL2NsaWVudC9zcmMvaW50ZWdyYXRpb25zL2ZhY3RzZXQvaW50ZWdyYXRpb24tcHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2UvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy9mYWN0c2V0L3RlbXBsYXRlcy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL2NsaWVudC9zcmMvdGVtcGxhdGUtaGVscGVycy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vY2xpZW50L3NyYy9pbnRlZ3JhdGlvbnMvZmFjdHNldC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17MzEzMzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtDTElBY3Rpb246KCk9PlplLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PlplLmVsLENMSVRlbXBsYXRlOigpPT5aZS55VyxkZXJlZ2lzdGVyOigpPT5RZSxoaWRlOigpPT5ldCxyZWdpc3RlcjooKT0+emUsc2hvdzooKT0+WWV9KTt2YXIgcj17fTtuLnIociksbi5kKHIse3N1YnNjcmliZTooKT0+cmV9KTt2YXIgbz17fTtuLnIobyksbi5kKG8se2NyZWF0ZTooKT0+cWV9KTt2YXIgaT1uKDc0MDUpO2NvbnN0IHM9XCJob21lXCI7dmFyIGE7IWZ1bmN0aW9uKGUpe2UuQ29tbWFuZHM9XCJob21lLWNvbW1hbmRzXCJ9KGF8fChhPXt9KSk7dmFyIGMsZD1uKDU4MDYpO24oNzU2NCk7IWZ1bmN0aW9uKGUpe2VbZS5Jbml0aWFsPTBdPVwiSW5pdGlhbFwiLGVbZS5PcGVuPTFdPVwiT3BlblwiLGVbZS5DbG9zZT0yXT1cIkNsb3NlXCJ9KGN8fChjPXt9KSk7Y29uc3QgdT1cImFsbFwiLGY9XCIwXCIsbD1cIjVcIixwPVwiNlwiLGc9KCk9Pnt9O2Z1bmN0aW9uIHcoZSx0KXtyZXR1cm4gZT9gJHtlfS0ke3R9YDp0fWZ1bmN0aW9uIGgoZSl7cmV0dXJuYF9fc2VhcmNoLSR7ZX0tdG9waWNfX2B9Y29uc3QgeT1uZXcgTWFwO2Z1bmN0aW9uIHYoZSx0KXt5LmhhcyhlKXx8eS5zZXQoZSxuZXcgU2V0KSx5LmdldChlKS5hZGQodCl9ZnVuY3Rpb24gbShlLHQpe2NvbnN0IG49eS5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgUz1uZXcgTWFwO2Z1bmN0aW9uIEMoZSx0KXtTLmhhcyhlKXx8Uy5zZXQoZSxuZXcgU2V0KSxTLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gUChlLHQpe2NvbnN0IG49Uy5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgUj1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIGIoZSx0KXtSLmhhcyhlKXx8Ui5zZXQoZSxuZXcgTWFwKSxSLmdldChlKS5zZXQodC5pZCx0KTtjb25zdCBuPXkuZ2V0KGUpO2lmKCFuKXJldHVybjtjb25zdCByPVsuLi5uXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKHIpfWFzeW5jIGZ1bmN0aW9uIEwoZSx0KXtjb25zdCBuPVIuZ2V0KGUpO2lmKCFuKXJldHVybjtuLmRlbGV0ZSh0KTtjb25zdCByPVMuZ2V0KGUpO2lmKCFyKXJldHVybjtjb25zdCBvPVsuLi5yXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIFIuZ2V0KGUpP1suLi5SLmdldChlKS52YWx1ZXMoKV06W119ZnVuY3Rpb24gSShlKXtjb25zdCB0PVIuZ2V0KGUpO3QmJnQuY2xlYXIoKX1mdW5jdGlvbiBNKGUsdCl7Y29uc3Qgbj1SLmdldChlKTtyZXR1cm4gbj9uLmdldCh0KTpudWxsfWZ1bmN0aW9uIGsoZSx0LG4pe3JldHVybnsuLi5lLGFjdGlvbjpufHxlLmFjdGlvbnNbMF0sZGlzcGF0Y2hlcklkZW50aXR5OnR9fWZ1bmN0aW9uIEIoZSx0LG49XCJhc2NlbmRpbmdcIil7Y29uc3Qgcj1lfHxbXTtpZighdD8ubGVuZ3RoKXJldHVybiByO2NvbnN0IG89W10saT1uZXcgTWFwO3QuZm9yRWFjaCgoZT0+e2lmKGUua2V5KXJldHVybiBpLnNldChlLmtleSxlKTtvLnB1c2goZSl9KSk7bGV0IHM9ci5tYXAoKGU9Pntjb25zdHtrZXk6dH09ZTtpZih0JiZpLmhhcyh0KSl7Y29uc3QgZT1pLmdldCh0KTtyZXR1cm4gaS5kZWxldGUodCksZX1yZXR1cm4gZX0pKTtyZXR1cm4gcy5wdXNoKC4uLmkudmFsdWVzKCksLi4ubykscz1cImFzY2VuZGluZ1wiPT09bj9zLnNvcnQoKChlLHQpPT4obnVsbCE9PWUuc2NvcmUmJnZvaWQgMCE9PWUuc2NvcmU/ZS5zY29yZToxLzApLShudWxsIT09dC5zY29yZSYmdm9pZCAwIT09dC5zY29yZT90LnNjb3JlOjEvMCkpKTpzLnNvcnQoKChlLHQpPT4obnVsbCE9PXQuc2NvcmUmJnZvaWQgMCE9PXQuc2NvcmU/dC5zY29yZToxLzApLShudWxsIT09ZS5zY29yZSYmdm9pZCAwIT09ZS5zY29yZT9lLnNjb3JlOjEvMCkpKSxzfWZ1bmN0aW9uIE8oZSl7Y29uc3QgdD17fTtsZXQgbj1bXTtsZXQgcj1bXTtsZXQgbz1jLkluaXRpYWw7dC5nZXRTdGF0dXM9KCk9Pm8sdC5nZXRSZXN1bHRCdWZmZXI9KCk9Pm4sdC5zZXRSZXN1bHRCdWZmZXI9ZT0+e249ZSxuPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5nZXRSZXZva2VkQnVmZmVyPSgpPT5yLHQuc2V0UmV2b2tlZEJ1ZmZlcj1lPT57cj1lLHI/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0Lm9uQ2hhbmdlPWc7Y29uc3QgaT17fTtyZXR1cm4gdC5yZXM9aSxpLmNsb3NlPSgpPT57byE9PWMuQ2xvc2UmJihvPWMuQ2xvc2UsdC5vbkNoYW5nZSgpKX0saS5vcGVuPSgpPT57byE9PWMuT3BlbiYmKG89Yy5PcGVuLHQub25DaGFuZ2UoKSl9LGkucmVzcG9uZD1uPT57Y29uc3Qgcj1CKHQuZ2V0UmVzdWx0QnVmZmVyKCksbixlKTt0LnNldFJlc3VsdEJ1ZmZlcihyKX0saS5yZXZva2U9KC4uLmUpPT57Y29uc3Qgbj1uZXcgU2V0KGUpLHI9dC5nZXRSZXN1bHRCdWZmZXIoKS5maWx0ZXIoKCh7a2V5OmV9KT0+e2NvbnN0IHQ9bi5oYXMoZSk7cmV0dXJuIHQmJm4uZGVsZXRlKGUpLCF0fSkpO3Quc2V0UmVzdWx0QnVmZmVyKHIpLG4uc2l6ZSYmKHQuZ2V0UmV2b2tlZEJ1ZmZlcigpLmZvckVhY2goKGU9Pm4uYWRkKGUpKSksdC5zZXRSZXZva2VkQnVmZmVyKFsuLi5uXSkpfSx0fWZ1bmN0aW9uIFcoZSx0LG4pe2NvbnN0IHI9bmV3IFNldDtsZXQgbz0hMTtyZXR1cm57Y2xvc2U6KCk9PntvPSEwO2Zvcihjb25zdCBlIG9mIHIpZSgpfSxyZXE6e2lkOnQsdG9waWM6ZSwuLi5uLGNvbnRleHQ6bj8uY29udGV4dHx8e30sb25DbG9zZTplPT57ci5hZGQoZSksbyYmZSgpfSxyZW1vdmVMaXN0ZW5lcjplPT57ci5kZWxldGUoZSl9fX19ZnVuY3Rpb24gRCgpe3JldHVybntuYW1lOmZpbi5tZS5uYW1lLHV1aWQ6ZmluLm1lLnV1aWR9fWZ1bmN0aW9uIHgoKXtsZXQgZTt0cnl7Y29uc3QgdD1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtpZighdD8uaWRlbnRpdHkpcmV0dXJuO2U9dC5pZGVudGl0eS51dWlkfWNhdGNoKGUpe31yZXR1cm4gZX1jb25zdCBBPVwiZGVyZWdpc3RlcmVkIG9yIGRvZXMgbm90IGV4aXN0XCIsRT1uZXcgRXJyb3IoYHByb3ZpZGVyICR7QX1gKSxGPW5ldyBFcnJvcihcInByb3ZpZGVyIHdpdGggbmFtZSBhbHJlYWR5IGV4aXN0c1wiKSxfPW5ldyBFcnJvcihcImJhZCBwYXlsb2FkXCIpLCQ9bmV3IEVycm9yKFwic3Vic2NyaXB0aW9uIHJlamVjdGVkXCIpLHE9bmV3IEVycm9yKGBjaGFubmVsICR7QX1gKSxHPW5ldyBNYXA7ZnVuY3Rpb24gTihlKXtjb25zdCB0PUgoZSk7aWYodClyZXR1cm4gdDt0aHJvdyBxfWZ1bmN0aW9uIEgoZSl7Y29uc3QgdD1HLmdldChlKTtpZih0KXJldHVybiB0fWZ1bmN0aW9uIFUoZSx0KXtHLnNldChlLHQpfWNvbnN0IFY9bmV3IE1hcDtmdW5jdGlvbiBLKGUpe1YuaGFzKGUpfHxWLnNldChlLG5ldyBNYXApO2NvbnN0IHQ9Vi5nZXQoZSk7cmV0dXJue2dldFJlcXVlc3RzRm9ySWRlbnRpdHk6ZT0+e2NvbnN0IG49ZnVuY3Rpb24oZSl7cmV0dXJuYCR7ZS51dWlkfToke2UubmFtZX1gfShlKTtyZXR1cm4gdC5oYXMobil8fHQuc2V0KG4sbmV3IE1hcCksdC5nZXQobil9fX1hc3luYyBmdW5jdGlvbiBYKGUsdCl7cmV0dXJuKGF3YWl0IE4oZSkpLmRpc3BhdGNoKGYsdCl9ZnVuY3Rpb24gaih7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0pe2NvbnN0IG49TS5iaW5kKG51bGwsZSkscj1LKGUpLG89WC5iaW5kKG51bGwsZSk7cmV0dXJuIGFzeW5jKGUsaSk9PntpZighZXx8IWUuaWR8fCFlLnByb3ZpZGVySWQpe2NvbnN0IGU9XztyZXR1cm57ZXJyb3I6ZS5tZXNzYWdlfX1jb25zdHtpZDpzLHByb3ZpZGVySWQ6YX09ZSxjPW4oYSk7aWYoIWMpe2NvbnN0IGU9RTtyZXR1cm57ZXJyb3I6ZS5tZXNzYWdlfX1jb25zdCBkPXIuZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShpKTtsZXQgdT1kLmdldChlLmlkKTt1fHwodT1XKHQscyxlKSxkLnNldChlLmlkLHUpKTtjb25zdCBmPU8oKSxsPSgpPT57Y29uc3QgZT1mLmdldFJlc3VsdEJ1ZmZlcigpO2Yuc2V0UmVzdWx0QnVmZmVyKFtdKTtjb25zdCB0PWYuZ2V0UmV2b2tlZEJ1ZmZlcigpO2Yuc2V0UmV2b2tlZEJ1ZmZlcihbXSk7Y29uc3Qgbj1mLmdldFN0YXR1cygpO28oe2lkOnMscHJvdmlkZXJJZDphLHJlc3VsdHM6ZSxyZXZva2VkOnQsc3RhdHVzOm59KX07bGV0IHA9ITAsZz0hMTtmLm9uQ2hhbmdlPSgpPT57aWYocClyZXR1cm4gcD0hMSx2b2lkIGwoKTtnfHwoZz0hMCxzZXRUaW1lb3V0KCgoKT0+e2c9ITEsbCgpfSksMTAwKSl9O3RyeXtjb25zdHtyZXN1bHRzOmUsY29udGV4dDp0fT1hd2FpdCBjLm9uVXNlcklucHV0KHUucmVxLGYucmVzKSxuPWYuZ2V0U3RhdHVzKCk7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLHN0YXR1czpuLHJlc3VsdHM6ZSxjb250ZXh0OnR9fWNhdGNoKGUpe3JldHVybntpZDpzLHByb3ZpZGVySWQ6YSxlcnJvcjplLm1lc3NhZ2V9fX19YXN5bmMgZnVuY3Rpb24gSihlLHQsbil7Y29uc3Qgcj1ufHxhd2FpdCBOKGUpLG89RCgpLGk9e2lkZW50aXR5Om8sLi4udCxvblVzZXJJbnB1dDp2b2lkIDAsb25SZXN1bHREaXNwYXRjaDp2b2lkIDB9O2F3YWl0IHIuZGlzcGF0Y2goXCIyXCIsaSksYXdhaXQgYihlLHtpZGVudGl0eTpvLC4uLnR9KX1hc3luYyBmdW5jdGlvbiBaKGUsdCl7Y29uc3Qgbj1hd2FpdCBOKGUpO3JldHVybiBhd2FpdCBuLmRpc3BhdGNoKFwiM1wiLHQpLEwoZSx0KX1hc3luYyBmdW5jdGlvbiB6KGUsdCxuLHIpe2NvbnN0IG89ayhuLEQoKSxyKSxpPU0oZSx0KTtpZihpKXtjb25zdHtvblJlc3VsdERpc3BhdGNoOmV9PWk7aWYoIWUpcmV0dXJuO3JldHVybiBlKG8pfWNvbnN0IHM9e3Byb3ZpZGVySWQ6dCxyZXN1bHQ6b307cmV0dXJuKGF3YWl0IE4oZSkpLmRpc3BhdGNoKGwscyl9YXN5bmMgZnVuY3Rpb24gUShlLHQpe2NvbnN0IG49ey4uLnQsY29udGV4dDp0Py5jb250ZXh0fHx7fX0scj17fSxvPWFzeW5jIGZ1bmN0aW9uKihlLHQse3NldFN0YXRlOm59KXtjb25zdCByPWF3YWl0IE4oZSk7Zm9yKDs7KXtjb25zdCBlPWF3YWl0IHIuZGlzcGF0Y2goXCIxXCIsdCksbz1lLmVycm9yO2lmKG8pdGhyb3cgbmV3IEVycm9yKG8pO2NvbnN0IGk9ZTtpZih0LmlkPWkuaWQsbihpLnN0YXRlKSxpLmRvbmUpcmV0dXJuIGkudmFsdWU7eWllbGQgaS52YWx1ZX19KGUsbix7c2V0U3RhdGU6ZT0+e3Iuc3RhdGU9ZX19KTtsZXQgaT1hd2FpdCBvLm5leHQoKTtyZXR1cm4gci5pZD1uLmlkLHIuY2xvc2U9KCk9PnshYXN5bmMgZnVuY3Rpb24oZSx0KXsoYXdhaXQgTihlKSkuZGlzcGF0Y2gocCx7aWQ6dH0pfShlLHIuaWQpfSxyLm5leHQ9KCk9PntpZihpKXtjb25zdCBlPWk7cmV0dXJuIGk9dm9pZCAwLGV9cmV0dXJuIG8ubmV4dCgpfSxyfWFzeW5jIGZ1bmN0aW9uIFkoZSl7cmV0dXJuKGF3YWl0IE4oZSkpLmRpc3BhdGNoKFwiNFwiLG51bGwpfWFzeW5jIGZ1bmN0aW9uIGVlKGUpe2NvbnN0IHQ9YXdhaXQgTihlKTt2YXIgbjtuPWUsRy5kZWxldGUobiksSShlKSxhd2FpdCB0LmRpc2Nvbm5lY3QoKX1mdW5jdGlvbiB0ZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPUsodCk7cmV0dXJuIGFzeW5jIHI9PntpZighSCh0KSlyZXR1cm47Y29uc3Qgbz1uLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkocik7Zm9yKGNvbnN0e3JlcTplLGNsb3NlOnR9b2Ygby52YWx1ZXMoKSl0KCksby5kZWxldGUoZS5pZCk7VSh0LChhc3luYyBlPT57Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1hd2FpdCBuZShlKTtmb3IoY29uc3QgZSBvZiBUKHQpKWF3YWl0IEoodCxlLG4pO3JldHVybiBufSkoZSkpfX1hc3luYyBmdW5jdGlvbiBuZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWgodCkscj1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtmb3IobGV0IHQ9MDt0PDUwO3QrKyl0cnl7cmV0dXJuIGF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlLHt3YWl0OiExfSl9Y2F0Y2goZSl7aWYoNDk9PT10KXRocm93IGU7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSwxZTMpKSl9fShuKTtyZXR1cm4gci5yZWdpc3RlcihmLGooZSkpLHIucmVnaXN0ZXIocCxmdW5jdGlvbihlKXtjb25zdCB0PUsoZSk7cmV0dXJuKGUsbik9Pntjb25zdCByPXQuZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShuKSxvPXIuZ2V0KGUuaWQpO28mJihvLmNsb3NlKCksci5kZWxldGUoZS5pZCkpfX0odCkpLHIucmVnaXN0ZXIobCxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuO2NvbnN0IHI9TShlLHQucHJvdmlkZXJJZCk7aWYoIXIpcmV0dXJuO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6b309cjtyZXR1cm4gbz8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4sbyh0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxyLm9uRGlzY29ubmVjdGlvbih0ZShlKSkscn1hc3luYyBmdW5jdGlvbiByZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljKXx8dSxuPShcInN0cmluZ1wiPT10eXBlb2YgZT9udWxsOmU/LnV1aWQpfHx4KCkscj13KG4sdCksbz17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6cn07bGV0IGk9SChyKTtyZXR1cm4gaXx8KGk9bmUobyksVShyLGkpLGF3YWl0IGkpLHtnZXRBbGxQcm92aWRlcnM6WS5iaW5kKG51bGwscikscmVnaXN0ZXI6Si5iaW5kKG51bGwsciksc2VhcmNoOlEuYmluZChudWxsLHIpLGRlcmVnaXN0ZXI6Wi5iaW5kKG51bGwsciksZGlzcGF0Y2g6ei5iaW5kKG51bGwsciksZGlzY29ubmVjdDplZS5iaW5kKG51bGwscil9fWNvbnN0IG9lPW5ldyBNYXA7ZnVuY3Rpb24gaWUoZSl7Y29uc3QgdD1zZShlKTtpZih0KXJldHVybiB0O3Rocm93IHF9ZnVuY3Rpb24gc2UoZSl7Y29uc3QgdD1vZS5nZXQoZSk7aWYodClyZXR1cm4gdH1jb25zdCBhZT1uZXcgTWFwO2Z1bmN0aW9uIGNlKGUsdCl7YWUuaGFzKGUpfHxhZS5zZXQoZSxuZXcgU2V0KSxhZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIGRlKGUsdCl7Y29uc3Qgbj1hZS5nZXQoZSk7biYmbi5kZWxldGUodCl9dmFyIHVlPW4oNTMxNik7ZnVuY3Rpb24gZmUoZSl7cmV0dXJuWy4uLlQoZSldLm1hcCgoZT0+KHsuLi5lLG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0pKSl9YXN5bmMgZnVuY3Rpb24gbGUoZSx0KXtpZihNKGUsdC5pZCkpdGhyb3cgbmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpO2NvbnN0IG49RCgpO2F3YWl0IGIoZSx7aWRlbnRpdHk6biwuLi50fSl9ZnVuY3Rpb24gcGUoZSx0KXtMKGUsdCl9YXN5bmMgZnVuY3Rpb24gZ2UoZSx0LG4scil7Y29uc3Qgbz1NKGUsdCk7aWYoIW8pdGhyb3cgRTtjb25zdHtvblJlc3VsdERpc3BhdGNoOml9PW87aWYoIWkpcmV0dXJuO3JldHVybiBpKGsobixEKCkscikpfWFzeW5jIGZ1bmN0aW9uKndlKGUsdCxuKXtjb25zdCByPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXSxyPVtdLG89W10saT1bXTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPU8ocy5zY29yZU9yZGVyKSxhPXtyZXN1bHRzOltdLHByb3ZpZGVyOntpZDpzLmlkLGlkZW50aXR5OnMuaWRlbnRpdHksdGl0bGU6cy50aXRsZSxzY29yZU9yZGVyOnMuc2NvcmVPcmRlcixpY29uOnMuaWNvbn19O24ucHVzaChhKSxyLnB1c2goZSk7Y29uc3QgYz0oYXN5bmMoKT0+e3RyeXtjb25zdHtyZXN1bHRzOm4sY29udGV4dDpyfT1hd2FpdCBzLm9uVXNlcklucHV0KHQsZS5yZXMpO2EucmVzdWx0cz1CKGEucmVzdWx0cyxuKSxhLmNvbnRleHQ9ey4uLmEuY29udGV4dCwuLi5yfX1jYXRjaChlKXthLmVycm9yPWV9Yy5kb25lPSEwfSkoKTtpLnB1c2goYyksby5wdXNoKG8ubGVuZ3RoKX1yZXR1cm57cHJvdmlkZXJSZXNwb25zZXM6bixsaXN0ZW5lclJlc3BvbnNlczpyLG9wZW5MaXN0ZW5lclJlc3BvbnNlczpvLGluaXRpYWxSZXNwb25zZVByb21pc2VzOml9fSh0LnRhcmdldHM/dC50YXJnZXRzLm1hcCgodD0+TShlLHQpKSkuZmlsdGVyKChlPT4hIWUpKTpbLi4uVChlKS5maWx0ZXIoKGU9PiFlLmhpZGRlbikpXSx0KSx7cHJvdmlkZXJSZXNwb25zZXM6byxsaXN0ZW5lclJlc3BvbnNlczppfT1yO2xldHtvcGVuTGlzdGVuZXJSZXNwb25zZXM6cyxpbml0aWFsUmVzcG9uc2VQcm9taXNlczphfT1yLGQ9dWUuRC5GZXRjaGluZztjb25zdCB1PWU9PntkPWUsbi5zZXRTdGF0ZShkKX07bGV0IGYsbD0hMTt0Lm9uQ2xvc2UoKCgpPT57bD0hMCxmJiZmKCl9KSk7ZG97bGV0IGU9ITE7aWYoYS5sZW5ndGgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gb2YgYSluLmRvbmU/ZT0hMDp0LnB1c2gobik7YT10LGEubGVuZ3RofHwodSh1ZS5ELkZldGNoZWQpLGU9ITApfWxldCB0LG49ITE7Y29uc3Qgcj0oKT0+e249ITAsdCYmdCgpfSxwPVtdO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IG49aVt0XSxzPW9bdF0sYT1uLmdldFN0YXR1cygpOyhhPT09Yy5PcGVufHxkPT09dWUuRC5GZXRjaGluZyYmYT09PWMuSW5pdGlhbCkmJihwLnB1c2godCksbi5vbkNoYW5nZT1yKTtjb25zdCB1PW4uZ2V0UmVzdWx0QnVmZmVyKCk7dS5sZW5ndGgmJihuLnNldFJlc3VsdEJ1ZmZlcihbXSkscy5yZXN1bHRzPUIocy5yZXN1bHRzLHUpLGU9ITApO2NvbnN0IGY9bi5nZXRSZXZva2VkQnVmZmVyKCk7aWYoZi5sZW5ndGgpe24uc2V0UmV2b2tlZEJ1ZmZlcihbXSk7Y29uc3QgdD1uZXcgU2V0KGYpO3MucmVzdWx0cz1zLnJlc3VsdHMuZmlsdGVyKCgoe2tleTplfSk9PiF0LmhhcyhlKSkpLGU9ITB9fWlmKHM9cCxlJiYoeWllbGQgbyksbClicmVhaztufHwocy5sZW5ndGh8fGEubGVuZ3RoKSYmYXdhaXQgUHJvbWlzZS5yYWNlKFsuLi5hLG5ldyBQcm9taXNlKChlPT57dD1lfSkpLG5ldyBQcm9taXNlKChlPT57Zj1lfSkpXSl9d2hpbGUocy5sZW5ndGh8fGEubGVuZ3RoKTtyZXR1cm4gdSh1ZS5ELkNvbXBsZXRlKSxvfWxldCBoZT0wO2Z1bmN0aW9uIHllKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSxuKXtoZSs9MTtjb25zdCByPVcodCxoZS50b1N0cmluZygpLG4pLG89d2UoZSxyLnJlcSx7c2V0U3RhdGU6ZT0+e28uc3RhdGU9ZX19KTtyZXR1cm4gby5pZD1oZS50b1N0cmluZygpLG8uY2xvc2U9ci5jbG9zZSxvLnN0YXRlPXVlLkQuRmV0Y2hpbmcsb31jb25zdCB2ZT1uZXcgTWFwO2Z1bmN0aW9uIG1lKGUsdCl7cmV0dXJuYCR7ZX06JHt0fWB9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIGFzeW5jKHQsLi4ubik9PntpZighdClyZXR1cm57ZXJyb3I6Xy5tZXNzYWdlfTtsZXQgcjtpZih0LmlkKXI9bWUoZS5uYW1lc3BhY2VkVG9waWMsdC5pZCk7ZWxzZXtjb25zdCBuPXllKGUsdCk7cj1tZShlLm5hbWVzcGFjZWRUb3BpYyxuLmlkKSx0LmlkPW4uaWQsdmUuc2V0KHIse2dlbmVyYXRvcjpufSl9Y29uc3Qgbz12ZS5nZXQocik7Y2xlYXJUaW1lb3V0KG8udGltZW91dCk7Y29uc3QgaT1hd2FpdCBvLmdlbmVyYXRvci5uZXh0KCk7cmV0dXJuIG8udGltZW91dD1mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoKCgpPT57dmUuZGVsZXRlKGUpfSksMWU0KX0ociksey4uLmksaWQ6dC5pZCxzdGF0ZTpvLmdlbmVyYXRvci5zdGF0ZX19fWZ1bmN0aW9uIENlKGUsdCxuKXtyZXR1cm4gaWUoZSkuZGlzcGF0Y2godCxwLHtpZDpufSl9ZnVuY3Rpb24gUGUoZSl7cmV0dXJuIHQ9PmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1tZShlLHQpLHI9dmUuZ2V0KG4pO3ImJnIuZ2VuZXJhdG9yLmNsb3NlKCl9KGUsdC5pZCl9YXN5bmMgZnVuY3Rpb24gUmUoZSx0LHtpZDpuLHF1ZXJ5OnIsY29udGV4dDpvLHRhcmdldHM6aX0pe2NvbnN0IHM9aWUoZSksYT17aWQ6bixxdWVyeTpyLGNvbnRleHQ6byx0YXJnZXRzOmkscHJvdmlkZXJJZDp0LmlkfSxjPWF3YWl0IHMuZGlzcGF0Y2godC5pZGVudGl0eSxmLGEpLGQ9Yy5lcnJvcjtpZihkKXRocm93IG5ldyBFcnJvcihkKTtyZXR1cm4gY31jb25zdCBiZT1uZXcgTWFwO2Z1bmN0aW9uIExlKGUsdCxuKXtyZXR1cm5gJHtlfToke3QubmFtZX06JHt0LnV1aWR9OiR7bn1gfWNvbnN0IFRlPW5ldyBNYXA7ZnVuY3Rpb24gSWUoZSx0LG4pe3JldHVybmAke2V9OiR7dH06JHtufWB9ZnVuY3Rpb24gTWUoZSx0KXtjb25zdCBuPUxlLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLHI9Q2UuYmluZChudWxsLGUsdC5pZGVudGl0eSksbz1SZS5iaW5kKG51bGwsZSx0KTtyZXR1cm4gYXN5bmMoaSxzKT0+e2NvbnN0IGE9bihpLmlkKTtpZighYmUuaGFzKGEpKXtjb25zdCBlPSgpPT57cihpLmlkKSxiZS5kZWxldGUoYSl9O2JlLnNldChhLGUpLGkub25DbG9zZShlKX1jb25zdCBkPUllKGUsdC5pZCxpLmlkKSx1PSgpPT57VGUuZGVsZXRlKGQpLHMuY2xvc2UoKX07aS5vbkNsb3NlKHUpLFRlLnNldChkLChlPT57ZS5yZXN1bHRzPy5sZW5ndGgmJnMucmVzcG9uZChlLnJlc3VsdHMpLGUucmV2b2tlZD8ubGVuZ3RoJiZzLnJldm9rZSguLi5lLnJldm9rZWQpLGUuc3RhdHVzPT09Yy5PcGVuJiZzLm9wZW4oKSxlLnN0YXR1cz09PWMuQ2xvc2UmJnUoKX0pKTtjb25zdCBmPWF3YWl0IG8oaSk7cmV0dXJuIGYuc3RhdHVzPT09Yy5PcGVuJiZzLm9wZW4oKSxmLnN0YXR1cyE9PWMuQ2xvc2UmJmYuc3RhdHVzIT09Yy5Jbml0aWFsfHx1KCksZn19ZnVuY3Rpb24ga2UoZSx0KXtyZXR1cm4gYXN5bmMgbj0+e2NvbnN0IHI9aWUoZSksbz17cHJvdmlkZXJJZDp0LmlkLHJlc3VsdDpufTtyZXR1cm4gci5kaXNwYXRjaCh0LmlkZW50aXR5LGwsbyl9fWNvbnN0IEJlPW5ldyBNYXA7ZnVuY3Rpb24gT2UoZSx0KXtyZXR1cm5gJHtlfS0ke3QubmFtZX0tJHt0LnV1aWR9YH1mdW5jdGlvbiBXZShlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5pZClyZXR1cm4gdm9pZCBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkodCkpO2lmKE0oZSx0LmlkKSl0aHJvdyBGO3QuaWRlbnRpdHk9bixhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IG49T2UoZSx0LmlkZW50aXR5KTtCZS5oYXMobil8fEJlLnNldChuLFtdKSxCZS5nZXQobikucHVzaCh0LmlkKSxhd2FpdCBiKGUsey4uLnQsb25Vc2VySW5wdXQ6TWUoZSx0KSxvblJlc3VsdERpc3BhdGNoOmtlKGUsdCl9KX0oZSx0KX19ZnVuY3Rpb24gRGUoZSl7cmV0dXJuIHQ9Pnt0JiZmdW5jdGlvbihlLHQpe2NvbnN0IG49TShlLHQpO2lmKCFuKXJldHVybjtjb25zdCByPU9lKGUsbi5pZGVudGl0eSksbz1CZS5nZXQocik7aWYobyl7Y29uc3Qgbj1vLmZpbmRJbmRleCgoZT0+ZT09PXQpKTstMSE9PW4mJihvLnNwbGljZShuLDEpLEwoZSx0KSl9fShlLHQpfX1jb25zdCB4ZT1uZXcgTWFwO2Z1bmN0aW9uIEFlKGUsdCl7eGUuaGFzKGUpfHx4ZS5zZXQoZSxuZXcgU2V0KSx4ZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIEVlKGUsdCl7Y29uc3Qgbj14ZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gRmUoZSl7cmV0dXJuIGFzeW5jIHQ9PnshZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9lKGUsdCkscj1CZS5nZXQobik7aWYocil7Zm9yKGNvbnN0IHQgb2YgcilMKGUsdCk7QmUuZGVsZXRlKG4pfX0oZSx0KTtjb25zdCBuPXhlLmdldChlKTtuJiZuLmZvckVhY2goKGU9PmUodCkpKX19YXN5bmMgZnVuY3Rpb24gX2UoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1oKGUubmFtZXNwYWNlZFRvcGljKSxyPWF3YWl0KG89bixmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNyZWF0ZShvKSk7dmFyIG87cmV0dXJuIHIub25Db25uZWN0aW9uKGZ1bmN0aW9uKHtuYW1lc3BhY2VkVG9waWM6ZX0pe3JldHVybiBhc3luYyB0PT57Y29uc3Qgbj1hZS5nZXQoZSk7aWYobilmb3IoY29uc3QgZSBvZiBuKWlmKCFhd2FpdCBlKHQpKXRocm93ICR9fShlKSksci5vbkRpc2Nvbm5lY3Rpb24oRmUodCkpLHIucmVnaXN0ZXIocCxQZSh0KSksci5yZWdpc3RlcihmLGZ1bmN0aW9uKGUpe3JldHVybiB0PT57Y29uc3Qgbj1JZShlLHQucHJvdmlkZXJJZCx0LmlkKSxyPVRlLmdldChuKTtyJiZyKHQpfX0odCkpLHIucmVnaXN0ZXIoXCIyXCIsV2UodCkpLHIucmVnaXN0ZXIoXCIzXCIsRGUodCkpLHIucmVnaXN0ZXIoXCI0XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKCk9PmZlKGUpfSh0KSksci5yZWdpc3RlcihcIjFcIixTZShlKSksci5yZWdpc3RlcihsLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgcj1NKGUsdC5wcm92aWRlcklkKTtpZighcil0aHJvdyBFO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6b309cjtyZXR1cm4gbz8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4sbyh0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxyfWFzeW5jIGZ1bmN0aW9uICRlKGUpe2NvbnN0IHQ9aWUoZSk7dmFyIG47bj1lLG9lLmRlbGV0ZShuKSxhd2FpdCB0LmRlc3Ryb3koKSxJKGUpfWFzeW5jIGZ1bmN0aW9uIHFlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHx1LG49eCgpLHI9dyhuLHQpLG89e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOnJ9O2xldCBpPXNlKHIpO2l8fChpPWF3YWl0IF9lKG8pLGZ1bmN0aW9uKGUsdCl7b2Uuc2V0KGUsdCl9KHIsaSkpO2NvbnN0IHM9ZGUuYmluZChudWxsLHIpLGE9RWUuYmluZChudWxsLHIpLGM9bS5iaW5kKG51bGwsciksZD1QLmJpbmQobnVsbCxyKTtyZXR1cm57Z2V0QWxsUHJvdmlkZXJzOmZlLmJpbmQobnVsbCxyKSxzZWFyY2g6eWUuYmluZChudWxsLG8pLHJlZ2lzdGVyOmxlLmJpbmQobnVsbCxyKSxkZXJlZ2lzdGVyOnBlLmJpbmQobnVsbCxyKSxvblN1YnNjcmlwdGlvbjpjZS5iaW5kKG51bGwsciksb25EaXNjb25uZWN0OkFlLmJpbmQobnVsbCxyKSxvblJlZ2lzdGVyOnYuYmluZChudWxsLHIpLG9uRGVyZWdpc3RlcjpDLmJpbmQobnVsbCxyKSxkaXNwYXRjaDpnZS5iaW5kKG51bGwsbyksZGlzY29ubmVjdDokZS5iaW5kKG51bGwscikscmVtb3ZlTGlzdGVuZXI6ZT0+e3MoZSksYShlKSxjKGUpLGQoZSl9fX1jb25zdHtjcmVhdGU6R2V9PW8se3N1YnNjcmliZTpOZX09cixIZT17Y3JlYXRlOkdlLHN1YnNjcmliZTpOZSxkZWZhdWx0VG9waWM6XCJhbGxcIn0sVWU9KCk9Pntjb25zdCBlPXdpbmRvdztlLnNlYXJjaD1IZSxlLmZpbiYmKGUuZmluLlNlYXJjaD1IZSl9LFZlPWU9Pntjb25zdCB0PSgpPT57VWUoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpfTtyZXR1cm4gdH07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7VWUoKTtjb25zdCBlPVwibG9hZFwiLHQ9VmUoZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZSx0KTtjb25zdCBuPVwiRE9NQ29udGVudExvYWRlZFwiLHI9VmUobik7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIobixyKX1jb25zdCBLZT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIFhlKCl7YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7S2Uuc2V0KGUsYXdhaXQgTmUoe3RvcGljOmUsdXVpZDpkLnE5LldvcmtzcGFjZX0pKX0ocyl9bGV0IGplO2FzeW5jIGZ1bmN0aW9uIEplKGUpe3JldHVybiBhd2FpdCBhc3luYyBmdW5jdGlvbigpe3JldHVybiBqZXx8KGplPVhlKCkpLGplfSgpLEtlLmdldChlKX12YXIgWmU9bigzNzU4KTtjb25zdCB6ZT1hc3luYyBlPT57aWYoIWUuaWNvbil0aHJvdyBuZXcgRXJyb3IoYCR7ZS5pZH0gcHJvdmlkZXIgbmVlZHMgdG8gaGF2ZSBpY29uIHByb3BlcnR5IGRlZmluZWQuYCk7YXdhaXQoMCxpLmFCKSgpO3JldHVybihhd2FpdCBKZShzKSkucmVnaXN0ZXIoZSl9LFFlPWFzeW5jIGU9Pnthd2FpdCgwLGkuYUIpKCk7cmV0dXJuKGF3YWl0IEplKHMpKS5kZXJlZ2lzdGVyKGUpfTthc3luYyBmdW5jdGlvbiBZZSgpe3JldHVybihhd2FpdCgwLGkuWGwpKCkpLmRpc3BhdGNoKGkuTWwuU2hvd0hvbWUsdm9pZCAwKX1hc3luYyBmdW5jdGlvbiBldCgpe3JldHVybihhd2FpdCgwLGkuWGwpKCkpLmRpc3BhdGNoKGkuTWwuSGlkZUhvbWUsdm9pZCAwKX19LDMyOTg6KGUsdCxuKT0+e24uZCh0LHt3OigpPT5yLnd9KTt2YXIgcj1uKDUzMTYpfSwzNzU4OihlLHQsbik9Pnt2YXIgcixvLGk7bi5kKHQse1B0OigpPT5yLHlXOigpPT5vLGVsOigpPT5pfSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5NdWx0aVNlbGVjdD1cIk11bHRpU2VsZWN0XCJ9KGl8fChpPXt9KSl9LDc1NjQ6KGUsdCxuKT0+e24oMzI5OCksbigzNzU4KSxuKDYxMTQpLG4oMjEwOSl9LDYxMTQ6KGUsdCxuKT0+e3ZhciByLG87bi5kKHQse0w6KCk9PnIsVDooKT0+b30pLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KG98fChvPXt9KSl9LDIxMDk6KGUsdCxuKT0+e24uZCh0LHtwNjooKT0+cixHbzooKT0+byxiSTooKT0+aSxaSjooKT0+c30pO2NvbnN0IHI9e0NvbnRhaW5lcjpcIkNvbnRhaW5lclwiLEJ1dHRvbjpcIkJ1dHRvblwifSxvPXtUZXh0OlwiVGV4dFwiLEltYWdlOlwiSW1hZ2VcIixMaXN0OlwiTGlzdFwifSxpPXsuLi5yLC4uLm99O3ZhciBzOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0oc3x8KHM9e30pKX0sMzE3OihlLHQsbik9PntuLnIodCksbi5kKHQse0FwcE1hbmlmZXN0VHlwZTooKT0+by5MLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+by5ULGRlcmVnaXN0ZXI6KCk9PnUsaGlkZTooKT0+ZixyZWdpc3RlcjooKT0+ZCxzaG93OigpPT5sfSk7dmFyIHI9big3NDA1KTtuKDc1NjQpO3ZhciBvPW4oNjExNCk7bGV0IGk7Y29uc3Qgcz1uZXcgTWFwLGE9ZT0+e2lmKCFzLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoYFN0b3JlZnJvbnQgUHJvdmlkZXIgd2l0aCBpZCAke2V9IGlzIG5vdCByZWdpc3RlcmVkYCk7cmV0dXJuIHMuZ2V0KGUpfSxjPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0KDAsci5YbCkoKTtpZihzLmhhcyhlLmlkKSl0aHJvdyBuZXcgRXJyb3IoYFN0b3JlZnJvbnQgcHJvdmlkZXIgd2l0aCBpZCAke2UuaWR9IGFscmVhZHkgcmVnaXN0ZXJlZGApO3JldHVybiBzLnNldChlLmlkLGUpLChlPT57ZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZHx8KGUuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWQ9ITAsZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHMsKGU9PmEoZSkuZ2V0QXBwcygpKSksZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3RlciwoZT0+YShlKS5nZXRGb290ZXIoKSkpLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZSwoZT0+YShlKS5nZXRMYW5kaW5nUGFnZSgpKSksZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlck5hdmlnYXRpb24sKGU9PmEoZSkuZ2V0TmF2aWdhdGlvbigpKSksZS5yZWdpc3RlcihyLk1sLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcCwoKHtpZDplLGFwcDp0fSk9PmEoZSkubGF1bmNoQXBwKHQpKSkpfSkodCksdC5kaXNwYXRjaChyLk1sLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLGUpfSxkPWU9PihpPWMoZSksaSksdT1hc3luYyBlPT57YXdhaXQgaSxzLmRlbGV0ZShlKTtyZXR1cm4oYXdhaXQoMCxyLlhsKSgpKS5kaXNwYXRjaChyLk1sLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIsZSl9LGY9YXN5bmMoKT0+e2F3YWl0IGksYXdhaXQoMCxyLmFCKSgpLGF3YWl0KGFzeW5jKCk9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuTWwuSGlkZVN0b3JlZnJvbnQsdm9pZCAwKSkoKX0sbD1hc3luYygpPT57YXdhaXQgaSxhd2FpdCgwLHIuYUIpKCksYXdhaXQoYXN5bmMoKT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5NbC5TaG93U3RvcmVmcm9udCxudWxsKSkoKX19LDc0MDU6KGUsdCxuKT0+e24uZCh0LHtNbDooKT0+cyxEbTooKT0+YSxYbDooKT0+ZixhQjooKT0+dX0pO3ZhciByPW4oNjY3OCk7Y29uc3Qgbz1yLkF4JiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTt2YXIgaT1uKDEyMSk7dmFyIHM7IWZ1bmN0aW9uKGUpe2UuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwiZGVyZWdpc3Rlci1zdG9yZWZyb250LXByb3ZpZGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXJzXCIsZS5IaWRlU3RvcmVmcm9udD1cImhpZGUtc3RvcmVmcm9udFwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcHNcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbGFuZGluZy1wYWdlXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJGb290ZXI9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1mb290ZXJcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlck5hdmlnYXRpb249XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1uYXZpZ2F0aW9uXCIsZS5MYXVuY2hTdG9yZWZyb250UHJvdmlkZXJBcHA9XCJsYXVuY2gtc3RvcmVmcm9udC1wcm92aWRlci1hcHBcIixlLlNob3dTdG9yZWZyb250PVwic2hvdy1zdG9yZWZyb250XCIsZS5DcmVhdGVTdG9yZWZyb250V2luZG93PVwiY3JlYXRlLXN0b3JlZnJvbnQtd2luZG93XCIsZS5TaG93SG9tZT1cInNob3ctaG9tZVwiLGUuSGlkZUhvbWU9XCJoaWRlLWhvbWVcIixlLkFzc2lnbkhvbWVTZWFyY2hDb250ZXh0PVwiYXNzaWduLWhvbWUtc2VhcmNoLWNvbnRleHRcIixlLkdldExlZ2FjeVBhZ2VzPVwiZ2V0LWxlZ2FjeS1wYWdlc1wiLGUuR2V0TGVnYWN5V29ya3NwYWNlcz1cImdldC1sZWdhY3ktd29ya3NwYWNlc1wiLGUuR2V0Q29tcHV0ZWRQbGF0Zm9ybVRoZW1lPVwiZ2V0LWNvbXB1dGVkLXBsYXRmb3JtLXRoZW1lXCJ9KHN8fChzPXt9KSk7Y29uc3QgYT1mdW5jdGlvbihlKXtsZXQgdDtyZXR1cm4oKT0+e2lmKCFyLnNTKXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IG87Y29uc3Qgbj1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSk7cmV0dXJuIG4ub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57dD12b2lkIDB9KSksbn0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChuPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7bn1gKX0pKSksdH19KFwiX19vZl93b3Jrc3BhY2VfcHJvdG9jb2xfX1wiKSxjPVwiaXNMYXVuY2hlZFZpYUxpYlwiLGQ9ZT0+e2NvbnN0IHQ9bmV3IFVSTChlKTtyZXR1cm4gdC5zZWFyY2hQYXJhbXMuYXBwZW5kKGMsXCJ0cnVlXCIpLHQudG9TdHJpbmcoKX0sdT1hc3luYygpPT57aWYoIWF3YWl0KDAsaS5KVikoaS5pVykpcmV0dXJuKHIuWkt8fC0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiV2luXCIpKSYmYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGQoci5hVykpLGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGQoci5HWCkpfSxmPWFzeW5jKCk9Pihhd2FpdCB1KCksYSgpKX0sNTgwNjooZSx0LG4pPT57bi5kKHQse3E5OigpPT5yfSk7dmFyIHIsbyxpLHM9big2Njc4KTshZnVuY3Rpb24oZSl7ZS5Xb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLlJ1blJlcXVlc3RlZD1cInJ1bi1yZXF1ZXN0ZWRcIixlLldpbmRvd09wdGlvbnNDaGFuZ2VkPVwid2luZG93LW9wdGlvbnMtY2hhbmdlZFwiLGUuV2luZG93Q2xvc2VkPVwid2luZG93LWNsb3NlZFwiLGUuV2luZG93Q3JlYXRlZD1cIndpbmRvdy1jcmVhdGVkXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifShpfHwoaT17fSkpO3MuQUIscy5BQixyLldvcmtzcGFjZSxyLldvcmtzcGFjZX0sNjY3ODooZSx0LG4pPT57dmFyIHI7bi5kKHQse3NTOigpPT5vLEF4OigpPT5pLEFCOigpPT5hLG9DOigpPT5jLFpLOigpPT5kLEdYOigpPT51LGFXOigpPT5mfSksZnVuY3Rpb24oZSl7ZS5Mb2NhbD1cImxvY2FsXCIsZS5EZXY9XCJkZXZcIixlLlN0YWdpbmc9XCJzdGFnaW5nXCIsZS5Qcm9kPVwicHJvZFwifShyfHwocj17fSkpO2NvbnN0IG89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbixpPShcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8cHJvY2Vzcy5lbnY/LkpFU1RfV09SS0VSX0lELFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLHM9aT93aW5kb3cub3JpZ2luOnIuTG9jYWwsYT1vJiZmaW4ubWUudXVpZCxjPW8mJmZpbi5tZS5uYW1lLGQ9KG8mJmZpbi5tZS5lbnRpdHlUeXBlLFwicHJvZFwiPT09ci5Mb2NhbCksdT0oci5EZXYsci5TdGFnaW5nLHIuUHJvZCxcImZpbnM6Ly9zeXN0ZW0tYXBwcy93b3Jrc3BhY2VcIiksZj1cImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzYuMy42L2FwcC5qc29uXCIsbD1lPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOnMrZTtsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNi4zLjZcIiksbChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzYuMy42XCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJmwoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKX0sMTIxOihlLHQsbik9PntuLmQodCx7aVc6KCk9PmMsSlY6KCk9PmR9KTt2YXIgcixvLGk9big1ODA2KSxzPW4oNjY3OCk7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLlNob3duPVwic2hvd25cIixlLkJvdW5kc0NoYW5nZWQ9XCJib3VuZHMtY2hhbmdlZFwiLGUuTGF5b3V0UmVhZHk9XCJsYXlvdXQtcmVhZHlcIixlLkVuZFVzZXJCb3VuZHNDaGFuZ2luZz1cImVuZC11c2VyLWJvdW5kcy1jaGFuZ2luZ1wiLGUuQmx1cnJlZD1cImJsdXJyZWRcIixlLkNsb3NlUmVxdWVzdGVkPVwiY2xvc2UtcmVxdWVzdGVkXCIsZS5Gb2N1c2VkPVwiZm9jdXNlZFwiLGUuU2hvd1JlcXVlc3RlZD1cInNob3ctcmVxdWVzdGVkXCIsZS5WaWV3Q3Jhc2hlZD1cInZpZXctY3Jhc2hlZFwiLGUuVmlld0F0dGFjaGVkPVwidmlldy1hdHRhY2hlZFwiLGUuVmlld0RldGFjaGVkPVwidmlldy1kZXRhY2hlZFwiLGUuVmlld1BhZ2VUaXRsZVVwZGF0ZWQ9XCJ2aWV3LXBhZ2UtdGl0bGUtdXBkYXRlZFwiLGUuVmlld0Rlc3Ryb3llZD1cInZpZXctZGVzdHJveWVkXCIsZS5PcHRpb25zQ2hhbmdlZD1cIm9wdGlvbnMtY2hhbmdlZFwifShvfHwobz17fSkpO2Z1bmN0aW9uIGEoZSl7aWYoIXMuc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9cy5vQyxzLkFCO3IuSG9tZSxpLnE5LldvcmtzcGFjZSxyLkRvY2ssaS5xOS5Xb3Jrc3BhY2Usci5TdG9yZWZyb250LGkucTkuV29ya3NwYWNlO2NvbnN0IGM9e25hbWU6aS5xOS5Xb3Jrc3BhY2UsdXVpZDppLnE5LldvcmtzcGFjZX07Y29uc3QgZD1lPT5hKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSl9LDUzMTY6KGUsdCxuKT0+e3ZhciByLG87bi5kKHQse0Q6KCk9PnIsdzooKT0+b30pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkFjdGl2ZT1cImFjdGl2ZVwiLGUuRGVmYXVsdD1cImRlZmF1bHRcIn0ob3x8KG89e30pKX19LHQ9e307ZnVuY3Rpb24gbihyKXt2YXIgbz10W3JdO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT10W3JdPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtyXShpLGkuZXhwb3J0cyxuKSxpLmV4cG9ydHN9bi5kPShlLHQpPT57Zm9yKHZhciByIGluIHQpbi5vKHQscikmJiFuLm8oZSxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6dFtyXX0pfSxuLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLG4ucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX07dmFyIHI9e307KCgpPT57bi5yKHIpLG4uZChyLHtBcHBNYW5pZmVzdFR5cGU6KCk9PnAuTCxCdXR0b25TdHlsZTooKT0+Zi5aSixDTElBY3Rpb246KCk9PmwuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+bC5lbCxDTElUZW1wbGF0ZTooKT0+bC55VyxDb250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmYucDYsSG9tZTooKT0+byxMZWdhY3k6KCk9PmUsUHJlc2VudGF0aW9uVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5mLkdvLFNlYXJjaFRhZ0JhY2tncm91bmQ6KCk9PnUudyxTdG9yZWZyb250OigpPT5kLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+cC5ULFRlbXBsYXRlRnJhZ21lbnRUeXBlczooKT0+Zi5iSX0pO3ZhciBlPXt9O24ucihlKSxuLmQoZSx7Z2V0UGFnZXM6KCk9PmEsZ2V0V29ya3NwYWNlczooKT0+Y30pO3ZhciB0LG89bigzMTMzKTtuKDY2NzgpLG4oMTIxKTshZnVuY3Rpb24oZSl7ZS5UYWJDcmVhdGVkPVwidGFiLWNyZWF0ZWRcIixlLkNvbnRhaW5lckNyZWF0ZWQ9XCJjb250YWluZXItY3JlYXRlZFwiLGUuQ29udGFpbmVyUmVzaXplZD1cImNvbnRhaW5lci1yZXNpemVkXCJ9KHR8fCh0PXt9KSk7bmV3IE1hcDt2YXIgaTshZnVuY3Rpb24oZSl7ZS5MYXN0TGF1bmNoZWRXb3Jrc3BhY2VJZD1cImFjdGl2ZVdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCJ9KGl8fChpPXt9KSk7dmFyIHM9big3NDA1KTtjb25zdCBhPSgpPT5hc3luYyBmdW5jdGlvbigpe3JldHVybihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuTWwuR2V0TGVnYWN5UGFnZXMsdm9pZCAwKX0oKSxjPSgpPT4oYXN5bmMoKT0+KGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5NbC5HZXRMZWdhY3lXb3Jrc3BhY2VzLHZvaWQgMCkpKCk7dmFyIGQ9bigzMTcpLHU9bigzMjk4KSxmPW4oMjEwOSksbD1uKDM3NTgpLHA9big2MTE0KX0pKCksbW9kdWxlLmV4cG9ydHM9cn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQge1xuICAgIENMSVRlbXBsYXRlLFxuICAgIHR5cGUgQ0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcbiAgICB0eXBlIENMSUZpbHRlcixcbiAgICB0eXBlIENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2UsIHR5cGUgSG9tZVNlYXJjaFJlc3BvbnNlLFxuICAgIHR5cGUgSG9tZVNlYXJjaFJlc3VsdFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgdHlwZSB7IEludGVncmF0aW9uLCBJbnRlZ3JhdGlvbk1hbmFnZXIsIEludGVncmF0aW9uTW9kdWxlIH0gZnJvbSBcIi4uLy4uL2ludGVncmF0aW9ucy1zaGFwZXNcIjtcbmltcG9ydCB0eXBlIHsgRmFjdFNldFJlc3BvbnNlLCBGYWN0U2V0U2V0dGluZ3MsIEZhY3RTZXRUZW1wbGF0ZURhdGEgfSBmcm9tIFwiLi9zaGFwZXNcIjtcbmltcG9ydCB7IGdldFRlbXBsYXRlQW5kRGF0YSwgZ2V0QnVzeVRlbXBsYXRlIH0gZnJvbSBcIi4vdGVtcGxhdGVzXCI7XG5cbi8qKlxuICogSW1wbGVtZW50IHRoZSBpbnRlZ3JhdGlvbiBwcm92aWRlciBmb3IgRmFjdFNldC5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5mYWN0c2V0LmNvbS9hcGktY2F0YWxvZy9mYWN0c2V0LXNlYXJjaC1hbnN3ZXJzI2FwaURvY3VtZW50YXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIEZhY3RTZXRGb3JjZUludGVncmF0aW9uUHJvdmlkZXIgaW1wbGVtZW50cyBJbnRlZ3JhdGlvbk1vZHVsZTxGYWN0U2V0U2V0dGluZ3M+IHtcbiAgICAvKipcbiAgICAgKiBQcm92aWRlciBpZC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfUFJPVklERVJfSUQgPSBcImZhY3RzZXRcIjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgdG8gdXNlIGZvciBhIEZhY3RTZXQgQW5zd2VyIHJlc3VsdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfQU5TV0VSX1NFQVJDSF9SRVNVTFRfS0VZID0gXCJmYWN0c2V0LWFuc3dlclwiO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGtleSB0byB1c2UgZm9yIGEgRmFjdFNldCBidXN5IHJlc3VsdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfQlVTWV9TRUFSQ0hfUkVTVUxUX0tFWSA9IFwiZmFjdHNldC1ib2R5XCI7XG5cbiAgICAvKipcbiAgICAqIFRoZSBpbnRlZ3JhdGlvbiBtYW5hZ2VyLlxuICAgICogQGludGVybmFsXG4gICAgKi9cbiAgICBwcml2YXRlIF9pbnRlZ3JhdGlvbk1hbmFnZXI6IEludGVncmF0aW9uTWFuYWdlciB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWJvdW5jZSB0aW1lcjtcbiAgICAgKi9cbiAgICBwcml2YXRlIF9kZWJvdW5jZVRpbWVySWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogSXMgdGhlcmUgYSByZXF1ZXN0IGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHByaXZhdGUgX3F1ZXJ5SW5Qcm9ncmVzczogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIElzIHRoZXJlIGFub3RoZXIgcXVlcnkgdG8gdHJ5LlxuICAgICAqL1xuICAgIHByaXZhdGUgX25leHRRdWVyeTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogSXMgdGhlcmUgYSBuZXN0IHJlc3BvbnNlIHRvIGdvIHdpdGggdGhlIG5leHRRdWVyeS5cbiAgICAgKi9cbiAgICBwcml2YXRlIF9uZXh0UmVzcG9uc2U6IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2UgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAqIFRoZSBtb2R1bGUgaXMgYmVpbmcgcmVnaXN0ZXJlZC5cbiAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbk1hbmFnZXIgVGhlIG1hbmFnZXIgZm9yIHRoZSBpbnRlZ3JhdGlvbi5cbiAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cbiAgICAqIEByZXR1cm5zIE5vdGhpbmcuXG4gICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgcmVnaXN0ZXIoaW50ZWdyYXRpb25NYW5hZ2VyOiBJbnRlZ3JhdGlvbk1hbmFnZXIsIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxGYWN0U2V0U2V0dGluZ3M+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2ludGVncmF0aW9uTWFuYWdlciA9IGludGVncmF0aW9uTWFuYWdlcjtcbiAgICAgICAgdGhpcy5fcXVlcnlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJpbmcgRmFjdFNldFwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW9kdWxlIGlzIGJlaW5nIGRlcmVnaXN0ZXJlZC5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQHJldHVybnMgTm90aGluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZGVyZWdpc3RlcihpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248RmFjdFNldFNldHRpbmdzPik6IFByb21pc2U8dm9pZD4ge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2YgdGhlIHN0YXRpYyBhcHBsaWNhdGlvbiBlbnRyaWVzLlxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyBUaGUgbGlzdCBvZiBhcHBsaWNhdGlvbiBlbnRyaWVzLlxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBnZXRBcHBTZWFyY2hFbnRyaWVzKGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxGYWN0U2V0U2V0dGluZ3M+KTogUHJvbWlzZTxIb21lU2VhcmNoUmVzdWx0W10+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIGVudHJ5IGhhcyBiZWVuIHNlbGVjdGVkLlxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cbiAgICAgKiBAcGFyYW0gcmVzdWx0IFRoZSBkaXNwYXRjaGVkIHJlc3VsdC5cbiAgICAgKiBAcGFyYW0gbGFzdFJlc3BvbnNlIFRoZSBsYXN0IHJlc3BvbnNlLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGl0ZW0gd2FzIGhhbmRsZWQuXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGl0ZW1TZWxlY3Rpb24oXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxGYWN0U2V0U2V0dGluZ3M+LFxuICAgICAgICByZXN1bHQ6IENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG4gICAgICAgIGxhc3RSZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuICAgICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBkYXRhOiB7IHByb3ZpZGVySWQ6IHN0cmluZyB9ICYgRmFjdFNldFRlbXBsYXRlRGF0YSA9IHJlc3VsdC5kYXRhO1xuXG4gICAgICAgIGlmIChkYXRhLnByb3ZpZGVySWQgPT09IEZhY3RTZXRGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lEICYmIHJlc3VsdC5hY3Rpb24ubmFtZS5zdGFydHNXaXRoKFwib3BlblwiKSkge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gTnVtYmVyLnBhcnNlSW50KHJlc3VsdC5hY3Rpb24ubmFtZS5zbGljZSg0KSwgMTApO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oaWR4KSAmJiBkYXRhPy5hcHBsaWNhdGlvbkxpbmtzICYmIGlkeCA8IGRhdGE/LmFwcGxpY2F0aW9uTGlua3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyLm9wZW5VcmwoZGF0YT8uYXBwbGljYXRpb25MaW5rc1tpZHhdLndlYkxpbmspO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHNlYXJjaCByZXN1bHRzIGJhc2VkIG9uIHRoZSBxdWVyeSBhbmQgZmlsdGVycy5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3Qgc2VhcmNoIHJlc3BvbnNlIHVzZWQgZm9yIHVwZGF0aW5nIGV4aXN0aW5nIHJlc3VsdHMuXG4gICAgICogQHJldHVybnMgVGhlIGxpc3Qgb2YgcmVzdWx0cyBhbmQgbmV3IGZpbHRlcnMuXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldFNlYXJjaFJlc3VsdHMoXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxGYWN0U2V0U2V0dGluZ3M+LFxuICAgICAgICBxdWVyeTogc3RyaW5nLFxuICAgICAgICBmaWx0ZXJzOiBDTElGaWx0ZXJbXSxcbiAgICAgICAgbGFzdFJlc3BvbnNlOiBDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlXG4gICAgKTogUHJvbWlzZTxIb21lU2VhcmNoUmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuXG4gICAgICAgIGlmIChpbnRlZ3JhdGlvbj8uZGF0YT8ucHJveHlFbmRwb2ludCkge1xuICAgICAgICAgICAgY29uc3QgYnVzeVJlcXVpcmVkID0gdGhpcy5kZWJvdW5jZVJlcXVlc3QoaW50ZWdyYXRpb24sIHF1ZXJ5LCBsYXN0UmVzcG9uc2UpO1xuICAgICAgICAgICAgaWYgKGJ1c3lSZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmdldEJ1c3lTZWFyY2hSZXN1bHQoaW50ZWdyYXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN1bHRzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZWFyY2ggcmVzdWx0IHRvIGRpc3BsYXkgd2hlbiB3ZSBhcmUgYnVzeSBzZWFyY2hpbmcuXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIFRoZSBidXN5IHNlYXJjaCByZXN1bHQgZW50cnkuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRCdXN5U2VhcmNoUmVzdWx0KFxuICAgICAgICBpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248RmFjdFNldFNldHRpbmdzPlxuICAgICk6IEhvbWVTZWFyY2hSZXN1bHQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBGYWN0U2V0Rm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9CVVNZX1NFQVJDSF9SRVNVTFRfS0VZLFxuICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24/Lmljb24sXG4gICAgICAgICAgICB0aXRsZTogXCJGYWN0U2V0IFNlYXJjaGluZy4uLlwiLFxuICAgICAgICAgICAgYWN0aW9uczogW10sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJJZDogRmFjdFNldEZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ3VzdG9tLFxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiB7XG4gICAgICAgICAgICAgICAgbGF5b3V0OiBnZXRCdXN5VGVtcGxhdGUoXCJidXN5SWNvblwiKSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1c3lJY29uOiBpbnRlZ3JhdGlvbi5kYXRhPy5pY29uTWFwLmJ1c3lcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiBzZWFyY2ggcmVzdWx0cyBiYXNlZCBvbiB0aGUgcXVlcnkgYW5kIGZpbHRlcnMuXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0gbGFzdFJlc3BvbnNlIFRoZSBsYXN0IHNlYXJjaCByZXNwb25zZSB1c2VkIGZvciB1cGRhdGluZyBleGlzdGluZyByZXN1bHRzLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgYSBidXN5IGVudHJ5IGlzIHJlcXVpcmVkLlxuICAgICAqL1xuICAgIHByaXZhdGUgZGVib3VuY2VSZXF1ZXN0KGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxGYWN0U2V0U2V0dGluZ3M+LCBxdWVyeTogc3RyaW5nLCBsYXN0UmVzcG9uc2U6IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2UpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGJ1c3lSZXF1aXJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9xdWVyeUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFscmVhZHkgYSBxdWVyeSBpbiBwcm9ncmVzcyB0aGVuIHN0b3JlIHRoZSBxdWVyeVxuICAgICAgICAgICAgLy8gZm9yIHdoZW4gaXQgaXMgZmluaXNoZWQsIGFuZCB0aGVuIHdlIHBlcmZvcm0gdGhhdCBxdWVyeS5cbiAgICAgICAgICAgIHRoaXMuX25leHRRdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgICAgdGhpcy5fbmV4dFJlc3BvbnNlID0gbGFzdFJlc3BvbnNlO1xuICAgICAgICAgICAgLy8gS2VlcCB0aGUgYnVzeSBlbnRyeSBldmVuIGZvciB0aGUgbmV3IHF1ZXJ5LlxuICAgICAgICAgICAgYnVzeVJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9kZWJvdW5jZVRpbWVySWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kZWJvdW5jZVRpbWVySWQpO1xuICAgICAgICAgICAgdGhpcy5fZGVib3VuY2VUaW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTmVlZCBtaW5pbXVtIDIgd29yZHMgZm9yIHNlYXJjaCB3aXRoIGVhY2ggd29yayBhdCBsZWFzdCAxIGNoYXJzXG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcnRzID0gcXVlcnkuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgaWYgKHF1ZXJ5UGFydHMubGVuZ3RoID49IDIgJiYgcXVlcnlQYXJ0c1swXS5sZW5ndGggPj0gMSAmJiBxdWVyeVBhcnRzWzFdLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgYnVzeVJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeUluUHJvZ3Jlc3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVib3VuY2VUaW1lcklkID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QocXVlcnksIGludGVncmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZXNwb25zZS5yZXNwb25kKFtyZXNwb25zZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlYm91bmNlVGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXJ5SW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbmV4dFF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgYW5vdGhlciBxdWVyeSB0byBzZW5kIHNvIHJlc3RhcnQgdGhlIGZsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UXVlcnkgPSB0aGlzLl9uZXh0UXVlcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFJlc3BvbnNlID0gdGhpcy5fbmV4dFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX25leHRRdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9uZXh0UmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJvdW5jZVJlcXVlc3QoaW50ZWdyYXRpb24sIG5leHRRdWVyeSwgbmV4dFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV2b2tlIGFueSByZW1haW5pbmcgYnVzeSByZXN1bHRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZXNwb25zZS5yZXZva2UoRmFjdFNldEZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fQlVTWV9TRUFSQ0hfUkVTVUxUX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1c3lSZXF1aXJlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBBUEkgcHJveHkuXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0cyBpZiB0aGVyZSB3YXMgb25lLlxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgc2VuZFJlcXVlc3QocXVlcnk6IHN0cmluZywgaW50ZWdyYXRpb246IEludGVncmF0aW9uPEZhY3RTZXRTZXR0aW5ncz4pOiBQcm9taXNlPEhvbWVTZWFyY2hSZXN1bHQgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIHVybDogYCVFTlYtYXBpRW5kcG9pbnQlL3NlYXJjaC9hbnN3ZXJzL3YxL2RhdGE/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWAsXG4gICAgICAgICAgICBtZXRob2Q6IFwiZ2V0XCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogXCJCYXNpYyAlRU5WLWF1dGhvcml6YXRpb24lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm92aWRlcklkOiBGYWN0U2V0Rm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChpbnRlZ3JhdGlvbj8uZGF0YT8ucHJveHlFbmRwb2ludCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGpzb246IEZhY3RTZXRSZXNwb25zZSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICAgICAgaWYgKGpzb24uZGF0YSAmJiBqc29uLmRhdGEudGVtcGxhdGUgIT09IFwiQW5zd2VyV2l0aG91dERhdGFUZW1wbGF0ZVwiICYmIGpzb24uZGF0YS50ZW1wbGF0ZSAhPT0gXCJOb0Fuc3dlclRlbXBsYXRlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogW10sXG4gICAgICAgICAgICAgICAgdGl0bGU6IGpzb24uZGF0YS50ZW1wbGF0ZURhdGEuaGVhZGxpbmUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGpzb24uZGF0YS50aXRsZSxcbiAgICAgICAgICAgICAgICBrZXk6IEZhY3RTZXRGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX0FOU1dFUl9TRUFSQ0hfUkVTVUxUX0tFWSxcbiAgICAgICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbi5pY29uLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJJZDogRmFjdFNldEZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG4gICAgICAgICAgICAgICAgICAgIC4uLmpzb24uZGF0YS50ZW1wbGF0ZURhdGFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5DdXN0b20sXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiBnZXRUZW1wbGF0ZUFuZERhdGEoanNvbi5kYXRhLnRlbXBsYXRlLCBqc29uLmRhdGEudGVtcGxhdGVEYXRhKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChqc29uLmVycm9ycykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihqc29uLmVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgQnV0dG9uU3R5bGUsIEN1c3RvbVRlbXBsYXRlRGF0YSwgVGVtcGxhdGVGcmFnbWVudCwgVGVtcGxhdGVGcmFnbWVudFR5cGVzIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHsgY3JlYXRlQnV0dG9uLCBjcmVhdGVDb250YWluZXIsIGNyZWF0ZUltYWdlLCBjcmVhdGVMYWJlbGxlZFZhbHVlLCBjcmVhdGVUYWJsZSwgY3JlYXRlVGV4dCB9IGZyb20gXCIuLi8uLi90ZW1wbGF0ZS1oZWxwZXJzXCI7XG5pbXBvcnQgeyBGYWN0U2V0VGFibGVTZXQsIEZhY3RTZXRUZW1wbGF0ZURhdGEgfSBmcm9tIFwiLi9zaGFwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1c3lUZW1wbGF0ZShzcGlubmVyS2V5OiBzdHJpbmcpOiBUZW1wbGF0ZUZyYWdtZW50IHtcbiAgICByZXR1cm4gY3JlYXRlQ29udGFpbmVyKFwiY29sdW1uXCIsIFtcbiAgICAgICAgY3JlYXRlSW1hZ2Uoc3Bpbm5lcktleSwgXCJCdXN5XCIsIHsgd2lkdGg6IFwiMTAwcHhcIiwgaGVpZ2h0OiBcIjEwMHB4XCIgfSlcbiAgICBdLCB7IHBhZGRpbmc6IFwiMTBweFwiLCBmbGV4OiBcIjFcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZW1wbGF0ZUFuZERhdGEodGVtcGxhdGU6IHN0cmluZywgdGVtcGxhdGVEYXRhOiBGYWN0U2V0VGVtcGxhdGVEYXRhKToge1xuICAgIGxheW91dDogVGVtcGxhdGVGcmFnbWVudDtcbiAgICBkYXRhOiBDdXN0b21UZW1wbGF0ZURhdGFcbn0ge1xuICAgIGNvbnN0IGRhdGE6IHsgW2lkOiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICAgIGNvbnN0IGNoaWxkcmVuOiBUZW1wbGF0ZUZyYWdtZW50W10gPSBbXTtcblxuICAgIGlmICh0ZW1wbGF0ZURhdGEubGFiZWwgJiYgdGVtcGxhdGVEYXRhLnZhbHVlKSB7XG4gICAgICAgIGRhdGEubGFiZWxWYWx1ZVRpdGxlID0gdGVtcGxhdGVEYXRhLmxhYmVsO1xuICAgICAgICBkYXRhLmxhYmVsVmFsdWVEYXRhID0gdHlwZW9mIHRlbXBsYXRlRGF0YS52YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHRlbXBsYXRlRGF0YS52YWx1ZSA6IHRlbXBsYXRlRGF0YS52YWx1ZS50ZXh0O1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNyZWF0ZUxhYmVsbGVkVmFsdWUoXCJsYWJlbFZhbHVlVGl0bGVcIiwgXCJsYWJlbFZhbHVlRGF0YVwiKSlcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlRGF0YS50ZXh0KSB7XG4gICAgICAgIGRhdGEudGV4dERhdGEgPSB0ZW1wbGF0ZURhdGEudGV4dDtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVUZXh0KFwidGV4dERhdGFcIiwgMTIsIHsgbWFyZ2luQm90dG9tOiBcIjEwcHhcIiB9KSk7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZURhdGEudmFsdWVDaGFuZ2UpIHtcbiAgICAgICAgZGF0YS52YWx1ZUNoYW5nZVRpdGxlID0gXCJDaGFuZ2VcIjtcbiAgICAgICAgZGF0YS52YWx1ZUNoYW5nZURhdGEgPSB0ZW1wbGF0ZURhdGEudmFsdWVDaGFuZ2UucGVyY2VudGFnZUNoYW5nZTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVMYWJlbGxlZFZhbHVlKFwidmFsdWVDaGFuZ2VUaXRsZVwiLCBcInZhbHVlQ2hhbmdlRGF0YVwiLCB7IG1hcmdpbkJvdHRvbTogXCIxMHB4XCIgfSkpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVEYXRhLmRhdGUpIHtcbiAgICAgICAgZGF0YS5kYXRlVGl0bGUgPSBcIkRhdGVcIjtcbiAgICAgICAgZGF0YS5kYXRlRGF0YSA9IHRlbXBsYXRlRGF0YS5kYXRlO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNyZWF0ZUxhYmVsbGVkVmFsdWUoXCJkYXRlVGl0bGVcIiwgXCJkYXRlRGF0YVwiKSlcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlRGF0YS5ib2R5KSB7XG4gICAgICAgIGRhdGEuYm9keURhdGEgPSB0ZW1wbGF0ZURhdGEuYm9keTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVUZXh0KFwiYm9keURhdGFcIiwgMTIsIHsgbWFyZ2luQm90dG9tOiBcIjEwcHhcIiB9KSk7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBsYXRlRGF0YS5mZGMzQ29udGV4dCkge1xuICAgICAgICBkYXRhLmZkYzNUaXRsZSA9IFwiRkRDMyBUeXBlXCI7XG4gICAgICAgIGRhdGEuZmRjM0RhdGEgPSB0ZW1wbGF0ZURhdGEuZmRjM0NvbnRleHQudHlwZTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVMYWJlbGxlZFZhbHVlKFwiZmRjM1RpdGxlXCIsIFwiZmRjM0RhdGFcIikpXG5cbiAgICAgICAgaWYgKHRlbXBsYXRlRGF0YS5mZGMzQ29udGV4dC50eXBlID09PSBcImZkYzMuaW5zdHJ1bWVudFwiKSB7XG4gICAgICAgICAgICBkYXRhLnRpY2tlclRpdGxlID0gXCJUaWNrZXJcIjtcbiAgICAgICAgICAgIGRhdGEudGlja2VyRGF0YSA9IHRlbXBsYXRlRGF0YS5mZGMzQ29udGV4dC5pZC50aWNrZXI7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNyZWF0ZUxhYmVsbGVkVmFsdWUoXCJ0aWNrZXJUaXRsZVwiLCBcInRpY2tlckRhdGFcIikpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGVtcGxhdGUgPT09IFwiVGFibGVUZW1wbGF0ZVwiICYmIHRlbXBsYXRlRGF0YS50YWJsZSkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHByb2Nlc3NUYWJsZURhdGEodGVtcGxhdGVEYXRhLnRhYmxlLCAwLCBkYXRhKSk7XG4gICAgfSBlbHNlIGlmICh0ZW1wbGF0ZSA9PT0gXCJUYWJsZVRhYmxlVGVtcGxhdGVcIikge1xuICAgICAgICBpZiAodGVtcGxhdGVEYXRhLnRhYmxlMSkge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChwcm9jZXNzVGFibGVEYXRhKHRlbXBsYXRlRGF0YS50YWJsZTEsIDEsIGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcGxhdGVEYXRhLnRhYmxlMikge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChwcm9jZXNzVGFibGVEYXRhKHRlbXBsYXRlRGF0YS50YWJsZTIsIDIsIGRhdGEpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGVtcGxhdGUgPT09IFwiUmFua2VkVGFibGVUZW1wbGF0ZVwiICYmIHRlbXBsYXRlRGF0YS50YWJsZSkge1xuICAgICAgICBsZXQgdGFibGVEYXRhID0gW107XG4gICAgICAgIHRhYmxlRGF0YS5wdXNoKHRlbXBsYXRlRGF0YS50YWJsZS5oZWFkZXJzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbXBsYXRlRGF0YS50YWJsZS5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0YWJsZURhdGEucHVzaChbXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVEYXRhLnRhYmxlLnJvd3NbaV0ucmFuay50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGF0YS50YWJsZS5yb3dzW2ldLmVudGl0eS5uYW1lLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGF0YS50YWJsZS5yb3dzW2ldLmFkZGl0aW9uYWxEYXRhWzBdXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkcmVuLnB1c2goY3JlYXRlVGFibGUodGFibGVEYXRhLCBbMSwgNCwgMV0sIDAsIGRhdGEpKTtcbiAgICB9XG5cbiAgICBpZiAodGVtcGxhdGVEYXRhLmxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wbGF0ZURhdGEubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGl0bGVLZXkgPSBgbGlzdFRpdGxlJHtpfWA7XG4gICAgICAgICAgICBjb25zdCBkYXRhS2V5ID0gYGxpc3REYXRhJHtpfWA7XG4gICAgICAgICAgICBkYXRhW3RpdGxlS2V5XSA9IHRlbXBsYXRlRGF0YS5saXN0W2ldLmxhYmVsO1xuICAgICAgICAgICAgZGF0YVtkYXRhS2V5XSA9IHRlbXBsYXRlRGF0YS5saXN0W2ldLnZhbHVlO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVMYWJlbGxlZFZhbHVlKHRpdGxlS2V5LCBkYXRhS2V5KSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0ZW1wbGF0ZURhdGEuZm9vdGVyKSB7XG4gICAgICAgIGRhdGEuZm9vdGVyRGF0YSA9IHRlbXBsYXRlRGF0YS5mb290ZXI7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY3JlYXRlVGV4dChcImZvb3RlckRhdGFcIiwgMTIsIHsgbWFyZ2luQm90dG9tOiBcIjEwcHhcIiwgbWFyZ2luVG9wOiBcIjEwcHhcIiwgZm9udFN0eWxlOiBcIml0YWxpY1wiIH0pKTtcbiAgICB9XG5cbiAgICBpZiAodGVtcGxhdGVEYXRhLmFwcGxpY2F0aW9uTGlua3MpIHtcbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbXBsYXRlRGF0YS5hcHBsaWNhdGlvbkxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBidXR0b25UaXRsZUtleSA9IGBidXR0b25UaXRsZSR7aX1gO1xuICAgICAgICAgICAgZGF0YVtidXR0b25UaXRsZUtleV0gPSB0ZW1wbGF0ZURhdGEuYXBwbGljYXRpb25MaW5rc1tpXS5uYW1lLmxlbmd0aCA+IDMwID8gYCR7dGVtcGxhdGVEYXRhLmFwcGxpY2F0aW9uTGlua3NbaV0ubmFtZS5zdWJzdHJpbmcoMCwgMzApfS4uLmAgOiB0ZW1wbGF0ZURhdGEuYXBwbGljYXRpb25MaW5rc1tpXS5uYW1lO1xuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKGNyZWF0ZUJ1dHRvbihCdXR0b25TdHlsZS5QcmltYXJ5LCBidXR0b25UaXRsZUtleSwgYG9wZW4ke2l9YCkpXG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4ucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBUZW1wbGF0ZUZyYWdtZW50VHlwZXMuQ29udGFpbmVyLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgZmxleFdyYXA6IFwid3JhcFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1lbmRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBidXR0b25zXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgdHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLkNvbnRhaW5lcixcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTBweFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NUYWJsZURhdGEodGFibGU6IEZhY3RTZXRUYWJsZVNldCwgdGFibGVJbmRleDogbnVtYmVyLCBkYXRhOiB7IFtpZDogc3RyaW5nXTogc3RyaW5nOyB9KSB7XG4gICAgbGV0IHRhYmxlRGF0YSA9IFtdO1xuICAgIHRhYmxlRGF0YS5wdXNoKHRhYmxlLnRhYmxlSGVhZGVycyk7XG4gICAgY29uc3Qgcm93cyA9IHRhYmxlLnRhYmxlUm93cyA/PyB0YWJsZS50YWJsZURhdGE7XG4gICAgdGFibGVEYXRhID0gdGFibGVEYXRhLmNvbmNhdChyb3dzKTtcbiAgICBpZiAodGFibGUudGFibGVGb290ZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgdGFibGVEYXRhID0gdGFibGVEYXRhLmNvbmNhdCh0YWJsZS50YWJsZUZvb3RlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlVGFibGUodGFibGVEYXRhLCBbXSwgdGFibGVJbmRleCwgZGF0YSk7XG59XG5cbiIsImltcG9ydCB7IEJ1dHRvblN0eWxlLCBCdXR0b25UZW1wbGF0ZUZyYWdtZW50LCBJbWFnZVRlbXBsYXRlRnJhZ21lbnQsIFBsYWluQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudCwgVGVtcGxhdGVGcmFnbWVudCwgVGVtcGxhdGVGcmFnbWVudFR5cGVzLCBUZXh0VGVtcGxhdGVGcmFnbWVudCB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIlxuaW1wb3J0ICogYXMgQ1NTIGZyb20gXCJjc3N0eXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250YWluZXIoY29udGFpbmVyVHlwZTogXCJjb2x1bW5cIiB8IFwicm93XCIsIGNoaWxkcmVuOiBUZW1wbGF0ZUZyYWdtZW50W10sIHN0eWxlPzogQ1NTLlByb3BlcnRpZXMpOiBQbGFpbkNvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnQge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5Db250YWluZXIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IGNvbnRhaW5lclR5cGUsXG4gICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlblxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRleHQoZGF0YUtleTogc3RyaW5nLCBmb250U2l6ZTogbnVtYmVyID0gMTQsIHN0eWxlPzogQ1NTLlByb3BlcnRpZXMpOiBUZXh0VGVtcGxhdGVGcmFnbWVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLlRleHQsXG4gICAgICAgIGRhdGFLZXksXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogYCR7Zm9udFNpemUgPz8gMTR9cHhgLFxuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKGRhdGFLZXk6IHN0cmluZywgYWx0ZXJuYXRpdmVUZXh0OiBzdHJpbmcsIHN0eWxlPzogQ1NTLlByb3BlcnRpZXMpOiBJbWFnZVRlbXBsYXRlRnJhZ21lbnQge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5JbWFnZSxcbiAgICAgICAgZGF0YUtleSxcbiAgICAgICAgYWx0ZXJuYXRpdmVUZXh0LFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbihidXR0b25TdHlsZTogQnV0dG9uU3R5bGUsIHRpdGxlS2V5OiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nLCBzdHlsZT86IENTUy5Qcm9wZXJ0aWVzKTogQnV0dG9uVGVtcGxhdGVGcmFnbWVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLkJ1dHRvbixcbiAgICAgICAgYnV0dG9uU3R5bGUsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBjcmVhdGVUZXh0KHRpdGxlS2V5LCAxMilcbiAgICAgICAgXSxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGFibGUodGFibGVEYXRhOiBzdHJpbmdbXVtdLCBjb2xTcGFuczogbnVtYmVyW10sIHRhYmxlSW5kZXg6IG51bWJlciwgZGF0YTogeyBbaWQ6IHN0cmluZ106IHN0cmluZyB9KTogVGVtcGxhdGVGcmFnbWVudCB7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBsZXQgZmluYWxDb2xTcGFucyA9IGNvbFNwYW5zLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGFibGVEYXRhWzBdLmxlbmd0aDsgY29sKyspIHtcbiAgICAgICAgY29uc3QgaGVhZGVyS2V5ID0gYHRhYmxlJHt0YWJsZUluZGV4fV9oZWFkZXIke2NvbH1gO1xuICAgICAgICBkYXRhW2hlYWRlcktleV0gPSB0YWJsZURhdGFbMF1bY29sXTtcbiAgICAgICAgY2VsbHMucHVzaChjcmVhdGVUZXh0KGhlYWRlcktleSwgMTAsIHsgbWFyZ2luQm90dG9tOiBcIjEwcHhcIiwgcGFkZGluZzogXCIzcHhcIiwgd2hpdGVTcGFjZTogXCJub3dyYXBcIiwgZm9udFdlaWdodDogXCJib2xkXCIsIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1vcGVuZmluLXVpLWJyYW5kUHJpbWFyeSlcIiB9KSk7XG5cbiAgICAgICAgaWYgKGNvbFNwYW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZmluYWxDb2xTcGFucy5wdXNoKDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgcm93ID0gMTsgcm93IDwgdGFibGVEYXRhLmxlbmd0aDsgcm93KyspIHtcbiAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGFibGVEYXRhWzBdLmxlbmd0aDsgY29sKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJvd0NvbEtleSA9IGB0YWJsZSR7dGFibGVJbmRleH1fY29sJHtjb2x9X3JvdyR7cm93fWA7XG4gICAgICAgICAgICBkYXRhW3Jvd0NvbEtleV0gPSB0YWJsZURhdGFbcm93XVtjb2xdO1xuICAgICAgICAgICAgY2VsbHMucHVzaChjcmVhdGVUZXh0KHJvd0NvbEtleSwgMTAsIHsgcGFkZGluZzogXCIzcHhcIiwgd2hpdGVTcGFjZTogXCJub3dyYXBcIiB9KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ29udGFpbmVyKFwicm93XCIsIGNlbGxzLCB7IGRpc3BsYXk6IFwiZ3JpZFwiLCBncmlkVGVtcGxhdGVDb2x1bW5zOiBmaW5hbENvbFNwYW5zLm1hcChzID0+IGAke3N9ZnJgKS5qb2luKFwiIFwiKSwgbWFyZ2luQm90dG9tOiBcIjEwcHhcIiwgb3ZlcmZsb3c6IFwiYXV0b1wiIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGFiZWxsZWRWYWx1ZShsYWJlbEtleTogc3RyaW5nLCB2YWx1ZUtleTogc3RyaW5nLCBzdHlsZT86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4pOiBQbGFpbkNvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnQge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRlbXBsYXRlRnJhZ21lbnRUeXBlcy5Db250YWluZXIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMTBweFwiLFxuICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIGNyZWF0ZVRleHQobGFiZWxLZXksIDEyLCB7IGNvbG9yOiBcImdyYXlcIiB9KSxcbiAgICAgICAgICAgIGNyZWF0ZVRleHQodmFsdWVLZXksIHVuZGVmaW5lZCwgeyBjb2xvcjogXCJ3aGl0ZVwiIH0pXG4gICAgICAgIF1cbiAgICB9XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IEZhY3RTZXRGb3JjZUludGVncmF0aW9uUHJvdmlkZXIgfSBmcm9tIFwiLi9pbnRlZ3JhdGlvbi1wcm92aWRlclwiO1xuXG5leHBvcnQgY29uc3QgaW50ZWdyYXRpb24gPSBuZXcgRmFjdFNldEZvcmNlSW50ZWdyYXRpb25Qcm92aWRlcigpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==