{"version":3,"file":"static/chunks/226-37b3eac84d339472.js","mappings":"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","sources":["webpack://_N_E/../common/src/components/CustomButton/BaseCustomButton.tsx","webpack://_N_E/../client-api/src/notifications.ts","webpack://_N_E/../common/src/utils/notifications.ts","webpack://_N_E/../common/src/analytics/google-analytics.ts","webpack://_N_E/../common/src/hooks/useNotificationsCount.tsx","webpack://_N_E/../common/src/components/NotificationsButton/NotificationsButton.tsx","webpack://_N_E/../common/src/components/Scroll/Scroll.tsx","webpack://_N_E/../common/src/hooks/useIsNotificationsRunning.tsx","webpack://_N_E/../common/src/hooks/usePreloadedWindow.ts","webpack://_N_E/../common/src/hooks/useUpdateTaskbarIcon.ts","webpack://_N_E/../common/src/styles/helpers.ts","webpack://_N_E/./src/hooks/useEnterpriseContextMenu.ts"],"sourcesContent":["import React, { PropsWithChildren } from 'react';\n\nimport { Size } from '@openfin/ui-library';\n\nimport { BaseCustomButtonStyleProps } from '@common/utils/base-button-props';\n\nimport { BaseCustomButtonConfig } from '@client/shapes';\n\nimport BaseButton from '../BaseButton/BaseButton';\nimport { CustomIcon } from '../Icon/CustomIcon';\n\nexport interface BaseCustomButtonProps extends BaseCustomButtonConfig, BaseCustomButtonStyleProps {\n    onClick?: (event: React.MouseEvent) => void;\n    onContextMenu?: (event: React.MouseEvent) => void;\n}\n\n/**\n * A stylized button that is shared between workspace components and browser.\n */\nconst BaseCustomButton: React.FC<PropsWithChildren<BaseCustomButtonProps>> = ({\n    tooltip,\n    iconUrl,\n    disabled,\n    usePlaceholder,\n    onClick,\n    onContextMenu,\n    rounded,\n    selected,\n    children,\n    size,\n    ...props\n}) => (\n    <BaseButton\n        onClick={onClick}\n        title={tooltip}\n        onContextMenu={onContextMenu}\n        disabled={disabled}\n        borderRadius={rounded ? Size.xsmall : undefined}\n        selected={selected}\n        customContentSize={!!size}\n        {...props}\n    >\n        {iconUrl && <CustomIcon iconURL={iconUrl} size={size} description={usePlaceholder ? tooltip : undefined} />}\n        {children}\n    </BaseButton>\n);\n\nexport default BaseCustomButton;\n","import * as Notifications from 'openfin-notifications/dist/client/without-auto-launch';\n\nimport { registerNotificationUsage } from '@common/utils/usage-register';\n\nimport { getComputedPlatformTheme } from '@common/api/theming';\n\nimport type { NotificationsPlatform, NotificationsRegisterOptions } from './shapes/notifications';\n\nexport * from 'openfin-notifications/dist/client/without-auto-launch';\nexport * from './shapes/notifications';\n\nconst getErrorMessage = async (error: unknown) => {\n    if (error instanceof Error) {\n        let errorMessage = error.message;\n        if (error.message.includes('register-notifications-platform')) {\n            errorMessage =\n                'Notifications platforms are not supported in versions below 1.13.0, try updating your notifications-service.';\n            if (Notifications?.provider?.getStatus) {\n                const { version } = await Notifications.provider.getStatus();\n                errorMessage += ` Your version is: ${version}`;\n            }\n            return errorMessage;\n        }\n        return error.message;\n    }\n\n    if (typeof error === 'string') {\n        return error;\n    }\n\n    return 'unknown error registering Notifications';\n};\n\nconst handlerError = async (error: unknown) => {\n    if (error instanceof Error && error.message.includes('register-notifications-platform')) {\n        throw new Error(await getErrorMessage(error));\n    }\n    throw error;\n};\n\nconst SERVICE_CHANNEL = 'of-notifications-service-v1';\nconst DEFAULT_WORKSPACE_SYNC_CHANNEL = 'of-workspace-notifications-sync';\n\ntype SyncChannelConfig = {\n    channelName: string;\n};\n\nconst syncChannelConfig: SyncChannelConfig = {\n    channelName: DEFAULT_WORKSPACE_SYNC_CHANNEL // default to OF hosted service\n};\n\nconst registerPlatform = async (\n    platform: Partial<Notifications.PlatformRegisterPayload>,\n    opts: { notificationsVersion: string }\n): Promise<void> => {\n    const channelName = opts.notificationsVersion.startsWith('2') ? syncChannelConfig.channelName : SERVICE_CHANNEL;\n    const channelClient = await fin.InterApplicationBus.Channel.connect(channelName, {\n        wait: false\n    });\n    const registerAction = opts.notificationsVersion.startsWith('2')\n        ? 'register-platform'\n        : 'register-notifications-platform';\n    await channelClient.dispatch(registerAction, platform);\n};\n\nconst deregisterPlatform = async (\n    platform: Partial<Notifications.PlatformDeregisterPayload>,\n    opts: { notificationsVersion: string }\n): Promise<void> => {\n    // FIX ME: this check will fail as soon as we release a NC v3.\n    const channelName = opts.notificationsVersion.startsWith('2') ? syncChannelConfig.channelName : SERVICE_CHANNEL;\n    const channelClient = await fin.InterApplicationBus.Channel.connect(channelName, {\n        wait: false\n    });\n    const deregisterAction = opts.notificationsVersion.startsWith('2')\n        ? 'deregister-platform'\n        : 'deregister-notifications-platform';\n    await channelClient.dispatch(deregisterAction, platform);\n};\n\n/**\n * @deprecated Use `register` with {@link NotificationsRegisterOptions | options?: NotificationsRegisterOptions} argument instead.\n */\nexport async function register(platform: NotificationsPlatform): Promise<Notifications.NotificationsRegistration>;\n\n/**\n * Launches Notifications service and registers a notifications platform. Throws if workspace platform is not initialized or if you run version of notifications-service which doesn't support platforms.\n *\n * @param options {@link NotificationsPlatform} object\n */\nexport async function register(\n    options?: NotificationsRegisterOptions\n): Promise<Notifications.NotificationsRegistration>;\n\nexport async function register(opts?: unknown): Promise<Notifications.NotificationsRegistration> {\n    try {\n        const config =\n            opts && 'notificationsCustomManifest' in (opts as NotificationsRegisterOptions)\n                ? { customManifest: (opts as NotificationsRegisterOptions).notificationsCustomManifest }\n                : undefined;\n        if (config && config.customManifest?.manifestUuid) {\n            syncChannelConfig.channelName = `${config.customManifest.manifestUuid}-${DEFAULT_WORKSPACE_SYNC_CHANNEL}`;\n        }\n        const notificationsRegistration = await Notifications.register(config);\n\n        // If platform options are provided, need to register platform\n        if (opts) {\n            const theme = await getComputedPlatformTheme(fin.me.identity);\n\n            const notificationsPlatformOpts =\n                'notificationsPlatformOptions' in (opts as NotificationsRegisterOptions)\n                    ? (opts as NotificationsRegisterOptions).notificationsPlatformOptions\n                    : (opts as NotificationsPlatform);\n            await registerPlatform(\n                {\n                    theme: theme.theme,\n                    scheme: theme.defaultScheme,\n                    ...notificationsPlatformOpts,\n                    workspacePlatform: {\n                        identity: fin.Platform.getCurrentSync().identity,\n                        analytics: {\n                            isSupported: true\n                        }\n                    }\n                },\n                { notificationsVersion: notificationsRegistration.notificationsVersion }\n            );\n        }\n\n        registerNotificationUsage({\n            allowed: true,\n            apiVersion: Notifications.VERSION,\n            componentVersion: notificationsRegistration.notificationsVersion\n        });\n\n        return notificationsRegistration;\n    } catch (err) {\n        registerNotificationUsage({\n            allowed: false,\n            rejectionCode: await getErrorMessage(err),\n            apiVersion: Notifications.VERSION\n        });\n\n        await handlerError(err);\n    }\n}\n\n/**\n * Deregisters notifications platform. Throws if you run version of notifications-service which doesn't support platforms.\n * @param platformId id of the platform to deregister\n */\nexport const deregister = async (platformId: string): Promise<void> => {\n    try {\n        const { version } = await Notifications.provider.getStatus();\n        if (version === null) {\n            throw new Error('Notifications service is not currently running.');\n        }\n        await deregisterPlatform({ id: platformId }, { notificationsVersion: version });\n    } catch (err) {\n        await handlerError(err);\n    }\n};\n","import { emit } from '@common/api/workspace-events';\n\nimport * as notificationsAPI from '@client/notifications';\n\n/**\n * Shows the Notification Center and navigates to \"All\" section.  NOTE: emits a workspace event\n */\nexport async function navigateToAllNotificationCenter() {\n    try {\n        console.debug('requesting notifications show');\n        await notificationsAPI.show({ navigateToAll: true });\n    } catch (err) {\n        if (err instanceof Error && err.message === 'No action registered at target for show-notification-center') {\n            // An older version of notifications center is running, falling back to using the toggle method\n            console.warn(\n                'The Notifications `show` API method is not available, falling back to `toggle`. Consider updating the Notifications Center Version.'\n            );\n            try {\n                await notificationsAPI.toggleNotificationCenter();\n            } catch (e) {\n                emit('update-notification-running-status');\n                console.debug('error showing notification center, notifications may not be running', err);\n            }\n        } else {\n            emit('update-notification-running-status');\n            console.debug('error showing notification center, notifications may not be running', err);\n        }\n    }\n}\n\nexport async function toggleNotificationCenter() {\n    try {\n        console.debug('requesting notification toggle');\n        const { toggleNotificationCenter: toggle } = notificationsAPI;\n        await toggle();\n    } catch (err) {\n        emit('update-notification-running-status');\n        console.debug('error toggling notification center, notifications may not be running', err);\n    }\n}\n","import type OpenFin from '@openfin/core';\n\nconst oneHourInMillis = 60 * 60 * 1000;\nconst lastEmitTimes = new Map<string, number>();\n// eslint-disable-next-line no-underscore-dangle\nlet _channel: OpenFin.ChannelClient | undefined;\n\nconst getChannel = async () => {\n    if (!_channel) {\n        _channel = await fin.InterApplicationBus.Channel.connect(\n            `${fin.me.identity.uuid}-enterprise-google-analytics`,\n            { wait: false }\n        );\n    }\n\n    return _channel;\n};\n\nconst sendGAEvent = async ({ name, payload }: { name: string; payload?: Record<string, unknown> }) => {\n    const channel = await getChannel();\n\n    await channel.dispatch('send-analytics-event', { name, payload });\n};\n\nexport const sendGAEventWithThrottle = async ({\n    name,\n    payload,\n    delay = oneHourInMillis\n}: {\n    name: string;\n    payload?: Record<string, unknown>;\n    delay?: number;\n}) => {\n    try {\n        const now = Date.now();\n\n        if (now - (lastEmitTimes.get(name) ?? 0) > delay) {\n            await sendGAEvent({ name, payload });\n\n            lastEmitTimes.set(name, now);\n        }\n    } catch (error) {\n        // Ignore errors as we don't want to block the application\n    }\n};\n","import { useEffect, useState } from 'react';\n\nimport * as Notifications from 'openfin-notifications/dist/client/without-auto-launch';\n\nimport { isFin } from '@common/utils/env';\n\nimport {\n    addEventListener,\n    getNotificationsCount,\n    NotificationsCountChanged,\n    removeEventListener\n} from '@client/notifications';\n\nimport useIsNotificationsRunning from './useIsNotificationsRunning';\n\n/**\n * useNotificationsCount Hook\n * @param lastFetch new Date() will rerun the hook and update the count\n * @returns number\n */\nexport default function useNotificationsCount(lastFetch?: Date): number {\n    const [notificationCount, setNotificationCount] = useState(0);\n    const isNotificationsRunning = useIsNotificationsRunning();\n    const listener = ({ count }: NotificationsCountChanged) => {\n        setNotificationCount(count);\n    };\n    useEffect(() => {\n        if (isFin) {\n            const updateNotificationsCount = async () => {\n                if (!isNotificationsRunning) {\n                    setNotificationCount(0);\n                    return;\n                }\n\n                const initCountListener = async () => {\n                    // should only get here if notifications is already running -this call ensures that the channel is setup\n                    await Notifications.register();\n                    // Ensure that we remove any existing listeners in the client to get the client and provider in sync\n                    await removeEventListener('notifications-count-changed', listener);\n                    // Listen for new notifications events\n                    await addEventListener('notifications-count-changed', listener);\n                    // Set the initial notifications count\n                    const count = await getNotificationsCount();\n                    setNotificationCount(count);\n                };\n\n                try {\n                    await initCountListener();\n                } catch (e) {\n                    console.debug('Notifications Count Error:', e);\n                }\n            };\n            updateNotificationsCount();\n\n            return () => {\n                removeEventListener?.('notifications-count-changed', listener).catch((e) => {\n                    console.debug('notifications not running', e);\n                });\n            };\n        }\n    }, [lastFetch, isNotificationsRunning]);\n\n    return notificationCount;\n}\n","import styled from 'styled-components';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { toggleNotificationCenter } from '@common/utils/notifications';\n\nimport BaseButton from '@common/components/BaseButton/BaseButton';\n\nimport { sendGAEventWithThrottle } from '@common/analytics/google-analytics';\nimport useNotificationsCount from '@common/hooks/useNotificationsCount';\nimport useSystemSchemeCheck from '@common/hooks/useSystemSchemeCheck';\nimport { NoDragWrapper } from '@common/styles/helpers';\n\ninterface BadgeProps {\n    isSchemeDark: boolean;\n}\n\nconst NotificationsButton: React.FC<{ oversized?: boolean; windowFocused?: boolean; dragging?: boolean }> = ({\n    windowFocused = true,\n    dragging,\n    oversized\n}) => {\n    const { isSchemeDark } = useSystemSchemeCheck();\n    const notificationsCount = useNotificationsCount();\n\n    const handleNotificationClick = () => {\n        if (!dragging) {\n            sendGAEventWithThrottle({ name: 'notification_center_button_clicked' });\n            toggleNotificationCenter();\n        }\n    };\n\n    return (\n        <ButtonContainer windowFocused={windowFocused}>\n            <NotificationsIconButton\n                oversized={oversized}\n                onClick={handleNotificationClick}\n                isEnterprise\n                aria-label=\"Notifications\"\n            >\n                <Icon icon=\"BellFilledIcon\" size={oversized ? 'xlarge' : 'base'} />\n                {notificationsCount > 0 && (\n                    <BadgeContainer>\n                        <Badge icon=\"RedDotIcon\" size={oversized ? 'small' : 'xsmall'} isSchemeDark={isSchemeDark} />\n                    </BadgeContainer>\n                )}\n            </NotificationsIconButton>\n        </ButtonContainer>\n    );\n};\n\nconst Badge = styled(Icon)<BadgeProps>`\n    & rect:nth-child(2) {\n        stroke: ${({ theme, isSchemeDark }) => (isSchemeDark ? theme.palette.background1 : theme.palette.background2)};\n    }\n`;\n\nconst ButtonContainer = styled(NoDragWrapper)<{ windowFocused: boolean }>`\n    display: flex;\n    align-items: center;\n\n    button {\n        opacity: ${({ windowFocused }) => !windowFocused && '0.5'};\n    }\n`;\n\nconst NotificationsIconButton = styled(BaseButton)<{ oversized: boolean }>`\n    height: ${({ theme, oversized }) => (oversized ? theme.px.xxxlarge : theme.px.xxlarge)};\n    width: ${({ theme, oversized }) => (oversized ? theme.px.xxxlarge : theme.px.xxlarge)};\n    padding: ${({ theme }) => theme.px.xsmall};\n    position: relative;\n\n    &:hover ${Badge} {\n        & rect:nth-child(2) {\n            stroke: ${({ theme }) => theme.palette.background4};\n        }\n    }\n`;\n\nconst BadgeContainer = styled.div`\n    position: absolute;\n    top: 5px;\n    right: 4px;\n`;\n\nexport default NotificationsButton;\n","import styled, { css, keyframes } from 'styled-components';\n\ninterface ScrollbarStylesProps {\n    scrollbarSize?: string;\n}\n\nexport const scrollbarStyles = ({ scrollbarSize }: ScrollbarStylesProps = {}) => css`\n    scroll-timeline: --scroll-effect x;\n\n    &::-webkit-scrollbar {\n        width: ${scrollbarSize};\n        height: ${scrollbarSize};\n    }\n`;\n\nconst opacityAnimation = keyframes`\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n`;\n\nexport const ScrollShadow = styled.div<{\n    right?: boolean;\n    offset?: number;\n    shadowWidth: 'small' | 'large';\n}>`\n    height: 100%;\n    width: ${({ shadowWidth }) => (shadowWidth === 'small' ? '12px' : '24px')};\n\n    ${({ theme, right }) => css`\n        background: linear-gradient(\n            ${right ? '90deg' : '270deg'},\n            rgb(from ${theme.palette.background5} r g b / 0%) 0%,\n            rgb(from ${theme.palette.background5} r g b / 50%) 50%,\n            rgb(from ${theme.palette.background5} r g b / 100%) 100%\n        );\n    `};\n\n    position: absolute;\n    top: 0;\n    left: ${({ right, offset }) => !right && (offset ? `${offset}px` : '0px')};\n    right: ${({ right, offset }) => right && (offset ? `${offset}px` : '0px')};\n    z-index: 2;\n\n    pointer-events: none;\n\n    // Scroll shadows ease in as user scrolls from one end until 'shadowWidth' away from end\n    animation: ${opacityAnimation} linear both;\n    animation-timeline: --scroll-effect;\n    animation-range: ${({ right, shadowWidth }) =>\n        right\n            ? css`calc(100% - ${shadowWidth === 'small' ? '12px' : '24px'}) 100%`\n            : css`0px ${shadowWidth === 'small' ? '12px' : '24px'}`};\n    animation-direction: ${({ right }) => right && 'reverse'};\n`;\n","import { useEffect, useState } from 'react';\n\nimport type OpenFin from '@openfin/core';\n\nimport { isFin } from '@common/utils/env';\nimport { notificationCenterOFIdentity } from '@common/utils/window';\n\nimport { addListener, removeListener } from '@common/api/workspace-events';\n\n/**\n * useIsNotificationsRunning Hook\n * @returns boolean\n */\nexport default function useIsNotificationsRunning(): boolean {\n    const [isNotificationsRunning, setIsNotificationsRunning] = useState(false);\n\n    useEffect(() => {\n        if (isFin) {\n            const ofNotificationsApp = fin.Application.wrapSync(notificationCenterOFIdentity);\n            const initializeState = async () => {\n                const isRunning = await ofNotificationsApp.isRunning();\n                if (isRunning) {\n                    setIsNotificationsRunning(true);\n                } else {\n                    setIsNotificationsRunning(false);\n                }\n            };\n            addListener('update-notification-running-status', initializeState);\n\n            const updateIsRunningStatus = (payload: OpenFin.SystemEvent & { uuid: string }): void => {\n                if (payload.uuid === notificationCenterOFIdentity.uuid) {\n                    if (payload.type === 'application-started') {\n                        setIsNotificationsRunning(true);\n                    } else if (payload.type === 'application-closed' || payload.type === 'application-crashed') {\n                        setIsNotificationsRunning(false);\n                    }\n                }\n            };\n            const setupNotificationsRunningState = async () => {\n                // TODO: This due to CORE-988 bug, when fixed use app events\n                await fin.System.on('application-started', updateIsRunningStatus);\n                await fin.System.on('application-closed', updateIsRunningStatus);\n                await fin.System.on('application-crashed', updateIsRunningStatus);\n                initializeState();\n            };\n            setupNotificationsRunningState();\n\n            return () => {\n                fin.System.removeListener('application-started', updateIsRunningStatus);\n                fin.System.removeListener('application-closed', updateIsRunningStatus);\n                fin.System.removeListener('application-crashed', updateIsRunningStatus);\n                removeListener('update-notification-running-status', initializeState);\n            };\n        }\n    }, []);\n\n    return isNotificationsRunning;\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport type OpenFin from '@openfin/core';\n\nimport { getEnterpriseBaseUrl } from '@common/utils/browser-base-url';\nimport { isWindowRunning } from '@common/utils/window';\n\ninterface PreloadedWindowOptions {\n    windowName: string;\n    route: string;\n    shouldPreload?: boolean;\n    windowCreationOptions?: Partial<OpenFin.WindowCreationOptions>;\n}\n\nconst DEFAULT_PRELOAD_WINDOW_CREATION_OPTIONS: Partial<OpenFin.WindowCreationOptions> = {\n    autoShow: false,\n    frame: false,\n    smallWindow: true,\n    saveWindowState: false,\n    includeInSnapshots: false,\n    showTaskbarIcon: false,\n    workspacePlatform: {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        windowType: 'enterprise'\n    },\n    throttling: 'disabled',\n    resizable: false\n};\n\nexport default function usePreloadedWindow({\n    windowName,\n    route,\n    shouldPreload,\n    windowCreationOptions\n}: PreloadedWindowOptions) {\n    const [windowInstance, setWindowInstance] = useState<OpenFin.Window | null>(null);\n    // keep track of window creations so we don't try to create them multiple times\n    const isCreated = useRef<boolean>(false);\n\n    const preload = useCallback(async () => {\n        if (isCreated.current) return;\n        isCreated.current = true;\n\n        const popupIdentity = { name: windowName, uuid: fin.me.identity.uuid };\n\n        try {\n            if (await isWindowRunning(popupIdentity)) {\n                return;\n            }\n\n            const opts: OpenFin.WindowCreationOptions = {\n                ...DEFAULT_PRELOAD_WINDOW_CREATION_OPTIONS,\n                ...windowCreationOptions,\n                name: windowName,\n                url: (await getEnterpriseBaseUrl()) + route\n            };\n            console.debug(`[usePreloadedWindow] creating preloaded window ${windowName} with options`, opts);\n            const win = await fin.Platform.getCurrentSync().createWindow(opts);\n            setWindowInstance(win);\n        } catch (e) {\n            console.error(`[usePreloadedWindow] Error creating ${windowName}, silently continuing`);\n            // before resetting, double check if the window succeeded somewhere else\n            if (!(await isWindowRunning(popupIdentity))) {\n                isCreated.current = false;\n            }\n        }\n    }, [route, windowCreationOptions, windowName, isCreated]);\n\n    useEffect(() => {\n        if (!windowInstance && shouldPreload) {\n            preload();\n        }\n    }, [windowInstance, shouldPreload, preload]);\n\n    return windowInstance;\n}\n","import { useCallback, useEffect } from 'react';\n\nimport { getAbsoluteRoutePath } from '@common/utils/router';\n\nexport interface ThemedTaskbarIconProps {\n    light: string;\n    dark: string;\n    custom: boolean;\n}\n\nexport const useUpdateTaskbarIcon = (iconData: ThemedTaskbarIconProps | undefined) => {\n    const updateIcon = useCallback(\n        async (event: MediaQueryListEvent | MediaQueryList) => {\n            if (!iconData) {\n                return;\n            }\n\n            try {\n                await fin.me.updateOptions(\n                    event.matches\n                        ? { icon: iconData.custom ? iconData.dark : getAbsoluteRoutePath(iconData.dark) }\n                        : { icon: iconData.custom ? iconData.light : getAbsoluteRoutePath(iconData.light) }\n                );\n            } catch (error) {\n                console.error('Failed to update taskbar icon', error);\n            }\n        },\n        [iconData]\n    );\n\n    useEffect(() => {\n        const colorModePreference = window.matchMedia('(prefers-color-scheme: dark)');\n\n        updateIcon(colorModePreference);\n        colorModePreference.addEventListener('change', updateIcon);\n        return () => {\n            colorModePreference.removeEventListener('change', updateIcon);\n        };\n    }, [updateIcon, iconData]);\n};\n","import styled from 'styled-components';\n\nexport const VisuallyHidden = styled.div`\n    clip: rect(0 0 0 0);\n    clip-path: inset(50%);\n    height: 1px;\n    overflow: hidden;\n    position: absolute;\n    white-space: nowrap;\n    width: 1px;\n`;\n\n// This styled component wraps ControlBar buttons so they're still interactable\nexport const NoDragWrapper = styled.div`\n    -webkit-app-region: no-drag;\n    user-select: auto;\n`;\n","import { useContext } from 'react';\n\nimport Route from '@common/utils/route';\nimport { WindowName } from '@common/utils/window';\n\nimport { BrowserTypeContext } from '@common/hooks/context';\nimport usePreloadedWindow from '@common/hooks/usePreloadedWindow';\n\nexport const useEnterpriseContextMenu = () =>\n    usePreloadedWindow({\n        windowName: WindowName.EnterpriseContextMenu,\n        route: Route.EnterpriseContextMenu,\n        shouldPreload: useContext(BrowserTypeContext).isEnterprise,\n        windowCreationOptions: {\n            defaultWidth: 10,\n            defaultHeight: 10,\n            shadow: true\n        }\n    });\n\nexport default useEnterpriseContextMenu;\n"],"names":["__webpack_exports__","Z","tooltip","iconUrl","disabled","usePlaceholder","onClick","onContextMenu","rounded","selected","children","size","props","param","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","BaseButton","title","borderRadius","Size","xsmall","undefined","customContentSize","jsx","CustomIcon","iconURL","description","_channel","toggleNotificationCenter","console","debug","toggle","notificationsAPI","err","emit","lastEmitTimes","Map","getChannel","fin","InterApplicationBus","Channel","connect","concat","me","identity","uuid","wait","sendGAEvent","name","payload","channel","dispatch","sendGAEventWithThrottle","delay","now","Date","get","set","error","Badge","styled","Icon","theme","isSchemeDark","palette","background1","background2","ButtonContainer","NoDragWrapper","windowFocused","NotificationsIconButton","oversized","px","xxxlarge","xxlarge","background4","BadgeContainer","div","withConfig","NotificationsButton_NotificationsButton","dragging","useSystemSchemeCheck","notificationsCount","useNotificationsCount","lastFetch","notificationCount","setNotificationCount","useState","isNotificationsRunning","useIsNotificationsRunning","listener","count","useEffect","isFin","updateNotificationsCount","initCountListener","Notifications","removeEventListener","addEventListener","getNotificationsCount","e","catch","jsx_runtime","isEnterprise","aria-label","icon","scrollbarStyles","scrollbarSize","arguments","length","css","opacityAnimation","keyframes","ScrollShadow","shadowWidth","right","background5","offset","setIsNotificationsRunning","ofNotificationsApp","Application","wrapSync","notificationCenterOFIdentity","initializeState","isRunning","addListener","updateIsRunningStatus","type","setupNotificationsRunningState","System","on","removeListener","DEFAULT_PRELOAD_WINDOW_CREATION_OPTIONS","autoShow","frame","smallWindow","saveWindowState","includeInSnapshots","showTaskbarIcon","workspacePlatform","windowType","throttling","resizable","usePreloadedWindow","windowName","route","shouldPreload","windowCreationOptions","windowInstance","setWindowInstance","isCreated","useRef","preload","useCallback","current","popupIdentity","isWindowRunning","opts","url","getEnterpriseBaseUrl","win","Platform","getCurrentSync","createWindow","useUpdateTaskbarIcon","updateIcon","event","iconData","updateOptions","matches","custom","dark","getAbsoluteRoutePath","light","colorModePreference","window","matchMedia","WindowName","EnterpriseContextMenu","Route","useContext","BrowserTypeContext","defaultWidth","defaultHeight","shadow"],"sourceRoot":""}