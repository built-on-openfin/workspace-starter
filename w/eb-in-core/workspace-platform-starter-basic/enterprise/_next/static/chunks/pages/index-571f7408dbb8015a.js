(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9536:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6385)}])},3201:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var a=n(4246);let i=e=>{let{message:t,ariaAttributes:n,ariaRole:i}=e;return(0,a.jsx)("div",{"aria-live":"polite","aria-atomic":"true",role:i||"status",tabIndex:-1,style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},...n,children:t})}},7805:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var a=n(7378),i=n(1610);let r=e=>{let{i18n:t}=(0,i.$G)();(0,a.useEffect)(()=>{let n=()=>{e(t.language)};return t.on("languageChanged",n),()=>{t.off("languageChanged",n)}},[t,e])}},7347:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var a=n(5191),i=n(4861);let r=(0,a.default)(i.Icon).withConfig({componentId:"sc-44a19e81-0"})(["svg path{color:",";opacity:",";}.icons-large &{--px-icon:",";--px-container:",";}"],e=>{let{theme:t,disabled:n,isEnterprise:a,windowFocused:i}=e;return n&&(!a||i)?t.palette.textInactive:""},e=>{let{isEnterprise:t,windowFocused:n}=e;return t&&!n?.5:"none"},e=>{let{theme:t}=e;return t.iconSize.large},e=>{let{theme:t}=e;return t.iconSize.large});a.default.svg.withConfig({componentId:"sc-44a19e81-1"})(["path{fill:",";}"],e=>{let{theme:t}=e;return t.palette.inputColor})},7769:function(e,t,n){"use strict";n.d(t,{h:function(){return i},t:function(){return r}});var a=n(8615);let i=async()=>{let e=(0,a.a)(),t=fin.View.wrapSync(fin.me.identity),n=await t.getCurrentWindow();return e.Browser.wrapSync(n.identity)},r=async e=>(0,a.a)().Browser.wrapSync(null!=e?e:fin.me.identity)},4672:function(e,t,n){"use strict";var a,i;n.d(t,{v:function(){return a}}),(i=a||(a={})).SAVE="SAVE_MENU",i.SHARE="SHARE_MENU",i.COLOR_LINK="COLOR_LINK_MENU",i.LAYOUT="LAYOUT_MENU"},264:function(e,t,n){"use strict";function a(e){return e?e.replace(/^(?:https?:\/\/)?(?:www\.)?/,"").replace(/\/+/g,"/").replace(/\/$/,""):e}n.d(t,{p:function(){return a}})},281:function(e,t,n){"use strict";n.d(t,{C:function(){return d},u:function(){return c}});var a=n(5191),i=n(3198),r=n.n(i);let o=e=>{let t=e.querySelectorAll(".lm_tab"),n="",{width:a}=t[0].getBoundingClientRect();24===a?n="view-tab-condensed-sm":a<44?n="view-tab-condensed-md":a<=56&&(n="view-tab-condensed-lg"),t.forEach(e=>{e.classList.forEach(t=>t.includes("view-tab-")&&e.classList.remove(t)),n&&e.classList.add(n)})},l=e=>{let{deltaX:t,deltaY:n}=e,a=e.target.closest(".lm_tabs");Math.abs(n)>Math.abs(t)&&(a.scrollLeft+=n-t)},s=e=>{let t=e.target.closest(".lm_header").querySelector(".lm_tabs");if(t.querySelector(".lm_drop_tab_placeholder")){let n=t.getBoundingClientRect();e.clientX<n.left+12&&t.scrollBy({left:-1}),e.clientX>n.right-12&&t.scrollBy({left:1})}},d=r()(e=>{e.querySelectorAll(".lm_header").forEach(e=>{let t=e.querySelector(".lm_tabs"),n=t.querySelectorAll(".scroll-shadow"),a=e.querySelector(".newTabButton"),i=e.querySelector(".lm_controls");e.style.paddingRight="".concat(null==i?void 0:i.offsetWidth,"px");let r=t.querySelectorAll(".lm_tab");if(t.scrollWidth>t.clientWidth&&r.length>1){(null==a?void 0:a.parentElement.classList.contains("lm_tabs"))&&e.insertBefore(a,t);let r=Array.from(n).find(e=>e.classList.contains("right-scroll-shadow"));if(!n.length){let n=document.createElement("div");n.classList.add("scroll-shadow","left-scroll-shadow"),(r=document.createElement("div")).classList.add("scroll-shadow","right-scroll-shadow"),t.appendChild(n),t.appendChild(r),t.addEventListener("wheel",l),e.addEventListener("drag",s)}a&&(a.style.right="".concat(i.offsetWidth,"px")),r.style.right="".concat(((null==i?void 0:i.offsetWidth)||0)+(a?28:0),"px")}else t.scrollWidth<=t.clientWidth&&((null==a?void 0:a.parentElement.classList.contains("lm_header"))&&a.remove(),n.length&&(n[0].remove(),n[1].remove()));o(t)})},100),c=(e,t,n,i)=>{let r=t?n?"background5":"background3":n?"background3":"background1";return i?(0,a.css)(["background:linear-gradient( 90deg,rgb(from "," r g b / 0%) 0%,rgb(from "," r g b / 50%) 28%,rgb(from "," r g b / 100%) 45% );"],e.palette[r],e.palette[r],e.palette[r]):(0,a.css)(["background:linear-gradient( 90deg,rgb(from "," r g b / 0%) 50%,rgb(from "," r g b / 50%) 75%,rgb(from "," r g b / 100%) 90% );"],e.palette[r],e.palette[r],e.palette[r])}},3144:function(e,t,n){"use strict";var a=n(5191),i=n(3377);let r=(0,a.default)(i.Z).withConfig({componentId:"sc-4aba060c-0"})(["",""],e=>e.active&&(0,a.css)(["background-color:",";&:hover{background-color:",";}"],e=>{let{theme:t}=e;return t.palette.statusActive},e=>{let{theme:t}=e;return t.palette.statusActive}));t.Z=r},1893:function(e,t,n){"use strict";var a=n(4246),i=n(7378),r=n(6125),o=n(1230),l=n(694),s=n(3144);t.Z=e=>{let{params:t,type:n,config:d,disabled:c,children:u,tooltip:p,"data-testid":g}=e,f=(0,r.I0)(),h=(0,i.useRef)(null),w=(0,r.v9)(l.VL),m=(0,i.useRef)(!1);m.current=w.type===n&&!!w.type;let{windowOptions:v,windowOffset:y}=d;return(0,a.jsx)(s.Z,{title:p,disabled:null!=c&&c,onClick:()=>{if(!h.current)throw Error("Button ref is undefined");let{bottom:e,left:a}=h.current.getBoundingClientRect(),i=((null==y?void 0:y.x)||0)+h.current.offsetWidth/2;(async()=>{let r={x:a+i-v.defaultWidth/2,y:e,...v},s=fin.Window.wrapSync({uuid:fin.me.uuid,name:r.name}),d=!1,c=s.once("blurred",()=>{d&&f((0,l.Ds)())}),u=s.once("focused",()=>{f((0,l.qn)(n,t)),d=!0});await Promise.all([c,u]),await (0,o.PM)(t,r)})()},active:m.current,ref:h,"data-testid":g,children:u})}},9258:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var a,i,r=n(4246),o=n(7378),l=n(6125),s=n(6596),d=n(4672),c=n(1610),u=n(4824),p=n(183),g=n(5550),f=n(1485),h=n(5401),w=n(7805),m=n(1893),v=n(2236),y=n(7166),x=n(1687);(a=i||(i={})).JOIN_GROUP="join-group",a.LEAVE_GROUP="leave-group",a.SHOW_HIDE_GROUPS="show-hide-groups";let b=d.v.COLOR_LINK,C=(e,t)=>async n=>{switch(n.data.type){case"join-group":try{let e=n.data.colorName;await (0,p.Gu)(t.current,n.data.channelId),fin.Window.getCurrentSync().focus(),(0,s.s$)({message:(0,c.t)("successIndicator.namedContextGroupApplied",{colorName:e}),parentBrowserName:fin.me.name}),t.current.forEach(t=>(0,g.VR)(e,t))}catch(e){console.warn(e),fin.Window.getCurrentSync().focus(),(0,s.JQ)({message:(0,c.t)("infoIndicator.colorLinkAttempt"),parentBrowserName:fin.me.name})}break;case"leave-group":{let e=n.data.colorName;await (0,p.Gu)(t.current,n.data.channelId),fin.Window.getCurrentSync().focus(),(0,s.s$)({message:t.current.length>1?(0,c.t)("successIndicator.viewRemoved"):(0,c.t)("successIndicator.viewsRemoved"),parentBrowserName:fin.me.name}),t.current.forEach(t=>(0,g.Qr)(e,t));break}case"show-hide-groups":e.current((0,f._R)())}},k=e=>()=>{e.current&&(0,p.Fh)()};t.Z=e=>{let{tooltip:t,iconUrl:n}=e,a=(0,l.I0)(),i=(0,o.useRef)(a);i.current=a;let s=(0,l.v9)(u.Dg),d=(0,l.v9)(f.UI)[s.layoutContainerKey],p=(0,o.useRef)(d);p.current=d;let g=(0,l.v9)(f.pW),I=(0,o.useRef)(g);I.current=g;let[S,L]=(0,o.useState)(null),E=!!s.isLocked,j=(0,o.useCallback)(()=>{Promise.all([(0,y.hL)((0,c.t)("toolbar.colorLinking")),fin.me.interop.getContextGroups()]).then(e=>{let[t,n]=e;L({...t,windowOptions:{...t.windowOptions,defaultWidth:32*Math.min(n.length+1,10)+4}})})},[]);(0,w.b)(j),(0,o.useEffect)(()=>{let e=new BroadcastChannel("color-linking-".concat(fin.me.name));e.onmessage=C(i,p);let t=k(I);return fin.me.on("layout-ready",t),()=>{fin.me.removeListener("layout-ready",t),e.close()}},[]);let P=t||(null==S?void 0:S.title),B=v.Sj[h.dH.ColorLinking].iconProps.icon;return S?(0,r.jsx)(m.Z,{type:b,config:S,params:{selectedViews:JSON.stringify(d)},tooltip:P,disabled:E,children:(0,r.jsx)(x.i,{customIconUrl:n,uiLibIcon:B,disabled:E})}):null}},1687:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var a=n(4246);n(7378);var i=n(5988),r=n(7347);let o=e=>{let{customIconUrl:t,uiLibIcon:n,disabled:o,size:l,...s}=e;return t?(0,a.jsx)(i.d,{iconURL:t,size:l,...s}):(0,a.jsx)(r.x,{disabled:o,icon:n,size:l,...s})}},2236:function(e,t,n){"use strict";n.d(t,{BE:function(){return h},QK:function(){return c},Sj:function(){return p},UH:function(){return g},qM:function(){return u},w9:function(){return f}});var a,i,r=n(6596),o=n(5802),l=n(1610),s=n(586),d=n(5401);let c=()=>{(0,o.lQ)().minimize().catch(e=>{console.error("RightControlsContainer: Failed to minimize: ".concat(e))})},u=async e=>{let t=(0,s.e)(e),n=await t.isShowingTabs();n?await t.hide():await t.show(),(0,r.s$)({message:(0,l.t)(n?"successIndicator.hidden":"successIndicator.shown"),parentBrowserName:o.Gi.name}),await fin.me.focus()};(a=i||(i={})).ColorLinking="TargetIcon",a.PresetLayouts="GridIcon",a.ShowHideTabs="LightBulbOutlinedIcon",a.LockUnlockPage="LockOpen1Icon",a.SaveMenu="FloppyDiskIcon";let p={[d.dH.ColorLinking]:{iconProps:{icon:"TargetIcon",size:"small"}},[d.dH.PresetLayouts]:{iconProps:{icon:"GridIcon",size:"small"}},[d.dH.SaveMenu]:{iconProps:{icon:"FloppyDiskIcon",size:"small"}},[d.dH.SavePage]:{iconProps:{icon:"FloppyDiskIcon",size:"small"}},[d.dH.ShowHideTabs]:{iconProps:{icon:"LightBulbOutlinedIcon",size:"small"}},[d.dH.LockUnlockPage]:{iconProps:{icon:"LockOpen1Icon",size:"small"}},[d.dH.Minimise]:{tooltipKey:"toolbar.minimizeWindow",iconProps:{icon:"DividerHorizontalIcon",size:"small"}},[d.dH.Close]:{tooltipKey:"contextMenu.closeWindow",iconProps:{icon:"Cross1Icon",size:"small"}}},g={buttons:[{type:d.dH.ShowHideTabs},{type:d.dH.ColorLinking},{type:d.dH.PresetLayouts},{type:d.dH.LockUnlockPage},{type:d.dH.SaveMenu}]},f={buttons:[{type:d.dH.Minimise},{type:d.dH.Maximise},{type:d.dH.Close}]},h={buttons:[{type:d.dH.Close},{type:d.dH.Minimise},{type:d.dH.Maximise}]}},1272:function(e,t,n){"use strict";n.d(t,{$k:function(){return w},VX:function(){return u},_$:function(){return h},b7:function(){return s},iD:function(){return d},o2:function(){return g},uH:function(){return p},wC:function(){return f}});var a=n(7769),i=n(264),r=n(5802),o=n(1610),l=n(8615);let s=40,d=33,c=e=>({id:e.id,url:e.url,type:"website",icon:e.icon,title:e.title}),u=async()=>{let e=(0,l.a)().Browser.wrapSync(r.Gi),t=await e._getRecentlyVisitedSites(),n=[];return t.forEach(e=>{n.push(c(e))}),n},p=e=>{let{host:t,pathname:n,hash:a,search:i}=new URL(e),[r,...o]=n.split("/").filter(e=>e.length);return o.length?"".concat(t,"/").concat(r,"/…"):"".concat(t).concat("/"===n?"":n).concat(i).concat(a)},g=(e,t)=>{let{type:n,subTitle:a}=e;if(a)return a;if("website"===n){let{url:n}=e;return t(n)}return"page"===n?(0,o.t)("global.supertab"):"collection"===n?"Collection":(null==n?void 0:n.charAt(0).toUpperCase())+(null==n?void 0:n.slice(1))},f=(e,t)=>e.length>t?"".concat(e.substring(0,t).trim(),"…"):e,h=async(e,t,n)=>{if(!e){n(!1);return}let a=await e.getInfo();n((0,i.p)(a.url)===t)},w=async(e,t)=>{let n=await (0,a.t)(t);return(await n._bookmarks._searchBookmarkNodes((0,i.p)(e))).filter(t=>(0,i.p)(t.url)===(0,i.p)(e))[0]}},7655:function(e,t,n){"use strict";let a=n(5191).default.span.withConfig({componentId:"sc-10ce5477-0"})(["font-size:",";font-family:",";color:",";user-select:none;"],e=>{let{theme:t}=e;return t.fontSize.base},e=>{let{theme:t}=e;return t.fontFamily},e=>{let{theme:t}=e;return t.palette.textDefault});t.Z=a},5890:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});let a=40},8990:function(e,t,n){"use strict";var a=n(4246),i=n(7378),r=n(6125),o=n(5191),l=n(1015),s=n(4039),d=n(5988),c=n(5757);let u=(0,o.default)(d.d).withConfig({componentId:"sc-2cd98e10-0"})(["min-width:100%;min-height:100%;width:100%;height:100%;"]);t.Z=e=>{let{size:t}=e,n=(0,r.v9)(s.N7),{isSchemeDark:o}=(0,c.Z)(),d=(0,i.useMemo)(()=>{if(n)return o?n.theme.dark:n.theme.light},[n,o]),p=(0,i.useMemo)(()=>{var e,t;return null==d?void 0:null===(t=d.brand)||void 0===t?void 0:null===(e=t.icons)||void 0===e?void 0:e.symbol},[d]);return(0,a.jsx)(a.Fragment,{children:p&&(0,a.jsx)("span",{role:"img","aria-label":"Company Logo",style:{display:"inline-block",width:"100%",height:"100%"},children:(0,a.jsx)(u,{size:t,iconURL:p,testId:l.cy})})})}},2053:function(e,t,n){"use strict";n.d(t,{q:function(){return r},x:function(){return o}});var a=n(1272),i=n(1355);let r=e=>{let t=e*i.H.percentOfParentWidth;return t>i.H.expanded.maxWidth?t=i.H.expanded.maxWidth:t<i.H.expanded.minWidth&&(t=i.H.expanded.minWidth),Math.ceil(t)},o=(e,t,n)=>{let r;let o=document.getElementById("results-container"),l=document.getElementById("empty-search-input-container"),s=null!==o?Math.max(n.scrollHeight,o.scrollHeight+a.b7+a.iD):n.scrollHeight,d=null!==l?Math.min(i.H.emptySearchInputContainer.maxHeight,l.scrollHeight+a.iD):Math.min(n.scrollHeight,i.H.emptySearchInputContainer.maxHeight);if(t){let t=e-i.H.parentWindowHeightOffset<i.H.emptySearchInputContainer.maxHeight,n=d>i.H.emptySearchInputContainer.minHeight;r=t&&n?Math.max(e-i.H.parentWindowHeightOffset,i.H.emptySearchInputContainer.minHeight):d}else r=Math.min(s,i.H.resultsContainerMaxHeight,e-i.H.parentWindowHeightOffset);return r}},1355:function(e,t,n){"use strict";n.d(t,{H:function(){return u}});var a=n(7378),i=n(3198),r=n.n(i),o=n(5802),l=n(1272),s=n(5890),d=n(6774),c=n(2053);let u={expanded:{minWidth:376,maxWidth:728},emptySearchInputContainer:{minHeight:408,maxHeight:518+l.iD},percentOfParentWidth:.7,resultsContainerMaxHeight:475+l.b7+l.iD,parentWindowHeightOffset:40+s.q};t.Z=(e,t,n,i,l)=>{let u=(0,d.C)(),p=s.q+(u?2:1),[g,f]=(0,a.useState)({height:0,width:0}),h=(0,a.useCallback)(async e=>{if(n.current&&t){let t=fin.me.name.replace(o.IA.BrowserAddressSearchPrefix,""),{width:n,height:a}=await (0,o.iw)({uuid:fin.me.uuid,name:t}).getBounds({boundsType:"current"}),r=(0,c.q)(n);f({height:(0,c.x)(a,i,e),width:r})}},[n,i,t]);(0,a.useEffect)(()=>{let t=e.current;if(t){h(t);let e=new ResizeObserver(r()(()=>h(t),100,{leading:!0}));return e.observe(t),()=>e.disconnect()}},[e,h]),(0,a.useEffect)(()=>{t&&(async()=>{await fin.me.showAt({...g,top:p,left:l},{bringToFront:!0}),n.current.postMessage({type:"resize-view",width:g.width})})()},[g]),(0,a.useEffect)(()=>{let t=fin.me.name.replace(o.IA.BrowserAddressSearchPrefix,""),n=(0,o.iw)({uuid:fin.me.uuid,name:t}),a=async()=>{await h(e.current)};return(async()=>{await n.addListener("bounds-changed",a)})(),()=>{n.removeListener("bounds-changed",a)}},[h])}},4302:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var a=n(7378);let i=e=>{(0,a.useEffect)(()=>(fin.Platform.getCurrentSync().on("platform-api-ready",e),()=>{fin.Platform.getCurrentSync().removeListener("platform-api-ready",e)}),[e])}},6385:function(e,t,n){"use strict";let a;n.r(t),n.d(t,{default:function(){return aw}});var i,r,o=n(4246),l=n(6125),s=n(5191),d=n(4861),c=n(5993),u=n(2539),p=n(7378),g=n(8793),f=n(9221),h=n(8946),w=n(4824),m=n(328),v=n(6733),y=n(1584),x=n(281),b=n(5802),C=n(1610),k=n(7473);let I=()=>new DOMParser().parseFromString('<svg width="16" height="16" stroke="black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_V8m1 circle{stroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite}@keyframes spinner_zKoa{100%{transform:rotate(360deg)}}@keyframes spinner_YpZS{0%{stroke-dasharray:0 150;stroke-dashoffset:0}47.5%{stroke-dasharray:42 150;stroke-dashoffset:-16}95%,100%{stroke-dasharray:42 150;stroke-dashoffset:-59}}</style><g class="spinner_V8m1"><circle cx="12" cy="12" r="9.5" fill="none" stroke-width="1.25"></circle></g></svg>',"image/svg+xml").firstChild;var S=n(5550),L=n(7153),E=n(1485),j=n(7489),P=n(3198),B=n.n(P),D=n(6676);let A=(0,p.createContext)({shouldExpandMenu:{shouldExpand:!1},setShouldExpandMenu:()=>{}}),T=e=>{let{children:t}=e,[n,a]=(0,p.useState)({shouldExpand:!1});return(0,o.jsx)(A.Provider,{value:{shouldExpandMenu:n,setShouldExpandMenu:a},children:t})};var R=n(1946),H=n(2053),M=n(8615);let Z={promise:new Promise(e=>{a=e}),resolve:a},V=(e,t,n,a,i,r)=>{let{setShouldExpandMenu:o}=(0,p.useContext)(A),l=(0,p.useRef)(null),s=(0,p.useCallback)(async(t,n,a)=>{let i="string"==typeof t?{windowIdentity:fin.me.identity,viewIdentity:n,action:"search-input",query:t,queryId:"",providerId:""}:{windowIdentity:fin.me.identity,viewIdentity:n,action:"result-selected",site:t,trigger:a};if(e&&e.length>0){let e=(0,M.a)().Browser.wrapSync(fin.me.identity);await e._handleRequestNavigation(i)}else console.warn("`handleNavigation` was called without any selected views")},[e]),d=(0,p.useCallback)(async e=>{await (0,b.lQ)().focus();let{key:t,metaKey:n,ctrlKey:a,altKey:r}=e.options;1===t.length?i(e=>e+t):"Backspace"!==t||n||a||r?"Escape"===t&&o({shouldExpand:!1}):i(e=>e.slice(0,-1))},[]);(0,p.useEffect)(()=>(l.current||(l.current=new BroadcastChannel("search-menu-".concat(fin.me.identity.name))),n.postMessage=async e=>{await Z.promise,l.current.postMessage(e)},l.current.postMessage({type:"ready"}),()=>{var e;null===(e=l.current)||void 0===e||e.close(),l.current=null}),[]),(0,p.useEffect)(()=>{l.current.onmessage=e=>{Z.resolve(),"search-response"===e.data.type?e.data.handled?o({shouldExpand:!1}):e.data.selectedSite&&(r(),o({shouldExpand:!1}),s(e.data.selectedSite,e.data.selectedView,e.data.trigger)):"keyboard-event"===e.data.type?d(e.data.keyboardEvent):"resize-view"===e.data.type?a(e.data.width):"search-provider-changed"===e.data.type&&i(e=>e===t?"":e)}},[l.current,t,r])},N=null,_=()=>{N=null},W=()=>document.querySelector("#address-bar-url-input"),z=B()(async e=>{let{viewIdentity:t,type:n}=e,a=W(),i=(null==N?void 0:N.viewIdentity.name)===t.name;if(N&&i)t.name.startsWith(b.IA.BrowserAddressSearchPrefix)||a.blur();else{N={viewIdentity:t,type:n};let{url:e}=await fin.View.wrapSync(t).getInfo();if((0,v.HX)(e))return(0,b.lQ)().focus(),a.focus(),!0}return!1},150),O=async e=>(N=null,z(e)),G=(e,t)=>{let{shouldExpandMenu:n,setShouldExpandMenu:a}=(0,p.useContext)(A),i=(0,p.useRef)(!1);(0,p.useEffect)(()=>{let e=async()=>{i.current=!0,_(),await Z.promise,W().focus(),a({shouldExpand:!0,method:"click"}),await (0,b.RR)(fin.me)};(async()=>{(await (0,D.xp)()).register(D.yz.FocusAndExpandSearchInternal,e)})()},[]),(0,p.useEffect)(()=>{let e=async e=>{let n=(0,w.Dg)(R.Z.getState());(0,E.TP)(R.Z.getState(),n.pageId).some(t=>{let{name:n}=t;return n===e.viewIdentity.name})&&(i.current&&(N=e,i.current=!1),!e.viewIdentity.name.startsWith(b.IA.BrowserAddressSearchPrefix)&&(a({shouldExpand:!1}),((null==N?void 0:N.viewIdentity.name)===e.viewIdentity.name||(null==N?void 0:N.viewIdentity.name.startsWith(b.IA.BrowserAddressSearchPrefix)))&&t()),z(e))},n=(0,b.lQ)();return n.addListener("view-focused",e),()=>{n.removeListener("view-focused",e)}},[n.shouldExpand,t]),(0,p.useEffect)(()=>{n.shouldExpand&&(async()=>{let{width:t}=await (0,b.lQ)().getBounds();e((0,H.q)(t))})()},[n.shouldExpand])},K=()=>{let e=(0,l.I0)();return(0,p.useCallback)(async(t,n)=>{"reparent"===t.multiInstanceViewBehavior&&e((0,w.Qm)({index:n,page:{multiInstanceViewBehavior:void 0,isLayoutCreated:!0}}));let a=await (0,h.ep)(t.layoutContainerKey),i=a.content?(0,h.C$)(a.content):[],r=i.length;if(r>1&&"multiView"!==t.attachedPageType)e((0,w.Qm)({index:n,page:{attachedPageType:"multiView",singleViewName:void 0}}));else if(1===r){let t=i[0].name;e((0,w.Qm)({index:n,page:{attachedPageType:"singleView",singleViewName:t}}))}await (0,h.pD)(t,r),_()},[e])},U=["tab-created","tab-dropped","container-created","tab-closed"],q=e=>{(0,p.useEffect)(()=>{let t=e.current;if(!t)return;let n=e=>{e.stopPropagation();let n=new CustomEvent(e.type,{detail:{...e.detail,originalElement:e.srcElement},bubbles:!0});t.parentNode.dispatchEvent(n)};return U.forEach(e=>t.addEventListener(e,n)),()=>{U.forEach(e=>t.removeEventListener(e,n))}},[e])};var F=n(9555),Q=n(5757),Y=n(5983);let $=(e,t)=>{let n=(0,p.useCallback)(async e=>{try{var n,a;let i={uuid:fin.me.uuid,name:e.detail.name};console.debug("addViewContextGroups:",i.name,null!==(n=t.contextGroup)&&void 0!==n?n:"CONTEXT_GROUP_PAGE"),fin.me.interop.joinContextGroup(null!==(a=t.contextGroup)&&void 0!==a?a:"CONTEXT_GROUP_PAGE",i)}catch(e){console.warn(e)}},[t.contextGroup]);(0,p.useEffect)(()=>{let a=document.getElementById(e);return a.addEventListener("tab-created",n),(async()=>{let e;let n=fin.Platform.Layout.wrapSync({layoutName:t.layoutContainerKey,name:fin.me.name,uuid:fin.me.uuid});try{e=await n.getConfig()}catch(e){}e&&(0,h.C$)(e.content).forEach(e=>{var n,a;let i={uuid:fin.me.uuid,name:e.name};console.debug("Adding view to context group:",i.name,null!==(n=t.contextGroup)&&void 0!==n?n:"CONTEXT_GROUP_PAGE"),fin.me.interop.joinContextGroup(null!==(a=t.contextGroup)&&void 0!==a?a:"CONTEXT_GROUP_PAGE",i)})})(),()=>{a.removeEventListener("tab-created",n)}},[n,e,t.contextGroup,t.layoutContainerKey])};var X=n(893);let J=e=>{var t,n;return null!=e&&null!==(t=e.layout)&&void 0!==t&&!!t.content&&1===(0,h.nv)(null==e?void 0:null===(n=e.layout)||void 0===n?void 0:n.content)},ee=e=>{let t=(0,l.v9)(t=>(0,w.Zp)(t,e));return(0,p.useMemo)(()=>J(t),[t])},et=e=>{let[t,n]=(0,p.useState)(!0),[a,i]=(0,p.useState)(),r=e=>{n((0,v.T6)(e.url))},o=e=>{n((0,v.T6)(e))};return(0,p.useEffect)(()=>((null==e?void 0:e.singleViewName)?(async()=>{let t=fin.View.wrapSync({uuid:fin.me.uuid,name:e.singleViewName});i(t),t.on("url-changed",r),o((await t.getInfo()).url)})():a&&(a.removeListener("url-changed",r),i(void 0),n(!0)),()=>{a&&a.removeListener("url-changed",r)}),[null==e?void 0:e.singleViewName]),t};var en=n(1105),ea=n(1203),ei=n(7490);let er=async(e,t)=>{t.every(t=>!(t.name===e.name&&t.uuid===e.uuid))&&(0,y.sS)({type:"View",action:"Focus View",value:e.name,data:{uuid:e.uuid,url:await (0,ei.Uq)(e)}})},eo=(e,t)=>{t.forEach(async t=>{t.name===e.name&&t.uuid===e.uuid||(0,y.sS)({type:"View",action:"Blur View",value:t.name,data:{uuid:t.uuid,url:await (0,ei.Uq)(t)}})})};var el=n(8751),es=n(9618),ed=n(5401);let ec=[],eu=async e=>({type:el.UI.Label,label:(0,C.t)("enterpriseContextMenu.newTab"),data:{type:ed.R3.NewView},enabled:e}),ep=async()=>({type:el.UI.Label,label:(0,C.t)("contextMenu.reload"),data:{type:ed.R3.ReloadViews}}),eg=async e=>({type:el.UI.Label,label:(0,C.t)("contextMenu.duplicate"),data:{type:ed.R3.DuplicateViews},enabled:e}),ef=async e=>{let t=await Promise.all(e.map(e=>fin.View.wrapSync(e).getOptions())),n=await fin.View.wrapSync(e[0]).getCurrentWindow(),a=(await (0,F.aA)().Browser.wrapSync(n.identity).getPages()).find(e=>e.isActive),i=!t.some(e=>!e.isClosable)&&!a.isLocked;return{type:el.UI.Label,label:(0,C.t)("contextMenu.closeTab"),enabled:i,data:{type:ed.R3.CloseViews}}};async function eh(){let e=(0,w.Dg)(R.Z.getState());ec=(0,E.TP)(R.Z.getState(),e.pageId);let t=!e.isLocked;return[...await (0,es.CN)()?[await eu(t)]:[],el.Z0,await ep(),await eg(t),await (0,el.e9)(),el.Z0,await ef(ec)]}let ew=s.default.div.withConfig({componentId:"sc-7e7017c5-0"})(["flex:1;overflow:hidden;padding:2px;position:absolute;width:100%;height:100%;background:",";",";&.enterprise-layout{.lm_item_container{","}&.layout--inactive{display:none;}&.layout--padding{padding:4px 4px 4px;}&.layout--no--padding{padding:0px;}}.content-loading{.tab-icon{width:16px !important;height:16px !important;padding:1px;border-radius:50%;position:relative;}.spinner-svg{visibility:visible;}}.spinner-svg{width:20px;height:20px;position:absolute;top:50%;transform:translate(-50%,-50%);margin-left:8px;visibility:hidden;}"],e=>{let{theme:t,isSchemeDark:n}=e;return n?t.palette.background3:t.palette.background1},e=>{let{active:t}=e;return!t&&"display: none;"},e=>{let{theme:t,isSingleView:n}=e;return(0,ea.V)({size:n?0:1,borderColor:t.palette.background5,backgroundColor:"var(--workspace-palette-selectedTab)"})});var em=e=>{let t;let n=(0,l.I0)(),[a,i]=(0,p.useState)(!1),r=K(),s=(0,l.v9)(u.z_),d=(0,l.v9)(t=>(0,w.es)(t,e.layoutContainerKey)),{pageId:c}=(0,l.v9)(w.Dg),{t:g}=(0,C.$G)(),f=1===(0,h.nv)(d.layout.content),m=(0,p.useRef)(!1),P=(0,X.y)("Center"),B=(0,p.useRef)(null),{isSchemeDark:D}=(0,Q.Z)(),A=ee(e.pageId);(0,p.useEffect)(()=>{n((0,u.zj)())},[n]);let T=(0,p.useCallback)(async t=>{let a=(0,ei.JZ)(t.viewIdentity.name,B.current);if(!a||(0,v.Dk)(t.viewIdentity)||e.pageId!==c)return;if(m.current){m.current=!1;return}a.scrollIntoView({behavior:"smooth",block:"nearest"});let i=(0,E.TP)(R.Z.getState(),c);eo(t.viewIdentity,i),er(t.viewIdentity,i),n((0,E.fv)({viewId:t.viewIdentity,pageId:c}))},[n,c,e.pageId]),H=(0,p.useCallback)(async t=>{if(t.layoutIdentity.layoutName!==e.layoutContainerKey)return;let[a,i]=(0,w.eT)((0,k.y0)(),e.pageId);n((0,w.Qm)({index:i,page:{isLayoutReady:!0}}));let r=t.layoutIdentity,o=await (0,h.TN)(r);if(o){let e=r.layoutName,t=(0,E.Il)(e)(R.Z.getState());if(null==t?void 0:t.length){let a=R.Z.getState().attachedPages.attachedPages.find(e=>!0===e.isActive);a&&!(0,h.Yf)(a.layout,t[0]).length&&(console.debug("Enterprise missing selected view, auto-select default view",o),n((0,E.Dw)({viewId:o,layoutContainerKey:e})))}else n((0,E.d7)({viewId:o,layoutContainerKey:e}))}},[n,e.pageId,e.layoutContainerKey]),M=(0,p.useCallback)(async e=>{if(s?!e.ctrlKey:!e.metaKey)return;let t=(0,ei.YE)(e);if(t){m.current=!0;let e={uuid:fin.me.uuid,name:t};er(e,(0,E.TP)(R.Z.getState(),c)),n((0,E.TK)({viewId:e,pageId:c}))}},[s,c,n]),Z=(0,Y.o0)(),V=(0,p.useCallback)(async e=>{let t=(0,ei.YE)(e);if(!t)return;e.preventDefault();let a=(0,E.TP)(R.Z.getState(),c),i={uuid:fin.me.uuid,name:t},r=a.some(e=>e.name===i.name);if(0===a.length||!r){var o;let e=null===(o=(0,w.Dg)(R.Z.getState()))||void 0===o?void 0:o.pageId;n((0,E.fv)({viewId:i,pageId:e}))}Z("focused",async()=>{await (0,F.aA)().Browser.wrapSync(b.Gi)._openViewTabContextMenu({x:e.clientX,y:e.clientY,template:await eh(),selectedViews:(0,E.TP)(R.Z.getState(),c)})})},[c,n]),N=(0,p.useCallback)((e,t)=>{let n=e.classList.contains("lm_active"),a=e.getAttribute("title");e.setAttribute("aria-label",a),e.setAttribute("aria-selected",n?"true":"false"),t&&t.setAttribute("aria-label",g("aria.closeTab",{title:a}))},[g]),_=(0,p.useCallback)(e=>{e.forEach(e=>{if("class"===e.attributeName){var t;let n=e.target,a=n.classList.contains("lm_active");((null===(t=n.parentElement)||void 0===t?void 0:t.querySelectorAll(".lm_tab"))||[]).forEach(e=>{e.setAttribute("aria-selected","false")}),n.setAttribute("aria-selected",a.toString()),N(n,n.querySelector(".lm_close_tab"))}})},[N]),W=(0,p.useCallback)(t=>{let a={uuid:fin.me.uuid,name:t.detail.name};O({viewIdentity:a,type:"tab-created"}),n((0,E.Dw)({viewId:a,layoutContainerKey:e.layoutContainerKey}))},[n,O]),z=(0,p.useCallback)(async t=>{if(!B.current||t.detail.originalElement!==(null==B?void 0:B.current))return;let n={uuid:t.detail.uuid,name:t.detail.name},a=fin.View.wrapSync(n),i=t.detail.containerSelector,r=t.detail.tabSelector,o=document.getElementById(r),l=document.getElementById(i),s=B.current.querySelectorAll(".lm_tabs"),d=B.current.querySelectorAll(".lm_items"),c=null==o?void 0:o.querySelector(".lm_close_tab"),u=B.current.querySelectorAll(".lm_tab"),p=l.getElementsByClassName("openfin_default_background");p.length?l.removeChild(p[0]):console.warn("Failed to hide layout error screen, this could cause flicker on failed navigations");let f=new MutationObserver(_);s&&s.forEach((e,t)=>{e.setAttribute("role","tablist"),e.setAttribute("id","tab-group-".concat(t))}),u&&u.forEach(e=>{e.classList.contains("lm_active")?e.setAttribute("tabindex","0"):e.setAttribute("tabindex","-1")}),l&&(l.setAttribute("role","tabpanel"),l.setAttribute("tabindex","-1"),l.setAttribute("aria-labelledby",r)),d&&d.forEach(e=>{e.setAttribute("tabindex","0")}),o&&(f.observe(o,{attributes:!0}),o.setAttribute("role","tab"),o.setAttribute("aria-controls",i),o.classList.contains("lm_active")?o.setAttribute("tabindex","0"):o.setAttribute("tabindex","-1"),c&&(c.setAttribute("role","button"),c.setAttribute("tabindex","-1")),o.addEventListener("keyup",async e=>{("Enter"===e.key||" "===e.key)&&await a.focus()}),c&&(c.addEventListener("keyup",async e=>{if("Enter"===e.key||" "===e.key){if(1===B.current.querySelectorAll(".lm_tab").length){let e=(0,w.Dg)(R.Z.getState());await (0,S.jq)({pageId:e.pageId,closeType:"view"})}else{let e=(0,F.aA)();await e.closeView(n);let t=document.getElementsByClassName("lm_active")[0];t.setAttribute("tabindex","0"),t.dataset.activeNode="true"}}}),c.addEventListener("mouseup",async e=>{let t=B.current.querySelectorAll(".lm_tab").length;if(0===e.button&&1===t){e.stopPropagation();let t=(0,w.Dg)(R.Z.getState());await (0,S.jq)({pageId:t.pageId,closeType:"view"})}})),o.addEventListener("dragstart",async()=>{(0,y.sS)({type:"View Tab",action:"Drag View",value:n.name,data:{uuid:n.uuid,url:await (0,ei.Uq)(n)}})}),window.requestAnimationFrame(()=>(0,h.on)(a,o)),(0,x.C)(B.current),setTimeout(()=>{N(o,c);let t=o.parentElement,n=null==t?void 0:t.querySelector(".newTabButton"),i=()=>{(0,y.sS)({type:"View Section",action:"Select New View",value:"New View",skipValueHashing:!0})};n?("keyup"!==n.getAttribute("listener")&&(n.addEventListener("keyup",async e=>{("Enter"===e.key||" "===e.key)&&(i(),await (0,L.al)(a),n.dataset.activeNode="false")}),n.addEventListener("click",async t=>{0===t.button&&i(),h.lD.set(e.layoutContainerKey,!0)})),n.setAttribute("role","button"),n.setAttribute("tabindex","-1"),n.setAttribute("aria-label",g("enterpriseContextMenu.newTab")),n.setAttribute("listener","keyup"),n.setAttribute("title",g("enterpriseContextMenu.newTab")),(0,ei.e$)(t,!1)):(0,ei.e$)(t,!0)},600))},[e.layoutContainerKey,_,N,g]),G=(0,p.useCallback)(()=>{(0,h.YG)(d).catch(e=>{console.error("Error updating page for view count",e)})},[d]),U=(0,p.useCallback)(async t=>{if((0,v.Dk)(t.viewIdentity)||t.layoutIdentity.layoutName!==e.layoutContainerKey)return;(0,x.C)(B.current),G();let a=await (0,h.TN)({uuid:fin.me.uuid,name:fin.me.name,layoutName:e.layoutContainerKey});n((0,E.Dw)({viewId:a,layoutContainerKey:e.layoutContainerKey}))},[n,G]),J=(0,p.useCallback)(()=>{(0,x.C)(B.current)},[]);return $(e.layoutContainerKey,d),(0,p.useEffect)(()=>{fin.me.on("layout-ready",H),fin.me.on("view-focused",T),fin.me.addListener("view-removed-from-layout",U),B.current.addEventListener("contextmenu",V),B.current.addEventListener("tab-dropped",W);let e=document.getElementById(h.e1);e.addEventListener("tab-created",z),e.addEventListener("container-resized",J),(0,h.uA)("tabs-list-resized",J);let t=B.current;return()=>{fin.me.removeListener("layout-ready",H),fin.me.removeListener("view-focused",T),fin.me.removeListener("view-removed-from-layout",U),t.removeEventListener("tab-dropped",W),e.removeEventListener("tab-created",z),e.removeEventListener("container-resized",J),t.removeEventListener("contextmenu",V)}},[V,T,H,z,U,J,W]),(0,p.useEffect)(()=>{if(a||!e.active&&"reparent"!==d.multiInstanceViewBehavior&&!d.singleViewName)return;let t=d.isLocked?(0,h.oO)(d.layout):d.layout;i(!0),fin.Platform.Layout.create({layoutName:d.layoutContainerKey,layout:{...t,settings:{...t.settings||{},pageId:d.pageId,disableTabOverflowDropdown:!0}},container:B.current,multiInstanceViewBehavior:d.multiInstanceViewBehavior}).then(()=>r(d,e.pageIndex))},[e.active,a,e.pageIndex,d,r]),(0,p.useEffect)(()=>()=>{let e={layoutName:d.layoutContainerKey,...fin.me.identity};fin.Platform.Layout.destroy(e).catch(()=>{})},[]),q(B),(0,p.useEffect)(()=>{(null==B?void 0:B.current.addEventListener)("tab-created",e=>{let t=document.getElementById(e.detail.tabSelector);if(!t.querySelector(".spinner-svg")){let a=I(),i="spinner-".concat(e.detail.name);n((0,j.kX)({viewName:e.detail.name,spinnerRef:i})),a.setAttribute("id",i),a.setAttribute("class","spinner-svg"),a.setAttribute("stroke","var(--workspace-palette-textHelp)"),t.prepend(a)}})},[B.current,n]),function(){let e=(0,l.I0)(),t=fin.Window.getCurrentSync();(0,p.useEffect)(()=>{async function n(t){try{let n=fin.View.wrapSync(t.viewIdentity),i=await (0,en.DO)();if(!t.isInPage){let r=(await n.getInfo()).url||"";i&&r.startsWith(i)?a(t):e((0,j.un)({viewName:t.viewIdentity.name}))}}catch(e){console.warn("Could not get view info:",e)}}function a(t){e((0,j.uA)({viewName:t.viewIdentity.name}))}function i(t){e((0,j.uA)({viewName:t.viewIdentity.name}))}function r(t){e((0,j.ih)({viewName:t.viewIdentity.name}))}return t.addListener("view-url-changed",n),t.addListener("view-did-finish-load",a),t.addListener("view-did-fail-load",i),t.addListener("view-detached",r),()=>{t.removeListener("view-url-changed",n),t.removeListener("view-did-finish-load",a),t.removeListener("view-did-fail-load",i),t.addListener("view-detached",r)}},[e])}(),(0,o.jsx)(ew,{ref:B,id:"".concat(e.layoutContainerKey),className:(t="enterprise-layout",e.active||(t+=" layout--inactive"),f?t+=" layout--no--padding":t+=" layout--padding",t),active:e.active,onMouseUp:M,style:P,isSchemeDark:D,isSingleView:A})};let ev=s.default.div.withConfig({componentId:"sc-ddb27f88-0"})(["flex:1;overflow:hidden;padding:0px;position:absolute;width:100%;height:100%;"]);function ey(){let e=(0,l.v9)(w.xN),t=(0,l.v9)(w.Dg),{isAcceptingLayoutDrag:n}=(0,p.useContext)(m.$U);return(0,o.jsxs)(ev,{id:h.e1,children:[e.map((e,n)=>(0,o.jsx)(em,{layoutContainerKey:e.layoutContainerKey,pageId:e.pageId,pageIndex:n,active:e.pageId===t.pageId},e.layoutContainerKey)),!n&&(0,o.jsx)(ex,{onDragOver:e=>{e.preventDefault(),e.stopPropagation()}})]})}let ex=s.default.div.withConfig({componentId:"sc-ddb27f88-1"})(["position:absolute;width:100%;height:100%;z-index:1;"]);var eb=n(4380),eC=()=>{let e=(0,l.v9)(u.z_);return(0,o.jsxs)(ek,{isWindows:e,children:[(0,o.jsx)(ey,{}),(0,o.jsx)(eb.Z,{position:g.H.Right})]})};let ek=s.default.div.withConfig({componentId:"sc-5ec3ace2-0"})(["position:relative;flex-grow:1;",""],e=>{let{isWindows:t}=e;return!t&&(0,s.css)(["border-bottom-left-radius:",";border-bottom-right-radius:",";"],f.Y,f.Y)});var eI=n(1015),eS=n(3377),eL=()=>{let e=(0,l.v9)(w.Dg),t=(0,l.v9)(E.UI)[e.layoutContainerKey],[n,a]=(0,p.useState)();return(0,p.useEffect)(()=>{(null==t?void 0:t.length)===1?tI(t[0]).then(e=>{let{view:t,info:n}=e;return a({view:t,info:n})}):a(null)},[t]),(0,p.useEffect)(()=>{let e=fin.Window.getCurrentSync(),n=async e=>{let{viewIdentity:n}=e;t&&t.length>0&&t[0].name===n.name&&a(await tI(n))};return e.addListener("view-url-changed",n),()=>{e.removeListener("view-url-changed",n)}},[t]),n},eE=e=>{let t=(0,p.useRef)(null),[n,a]=(0,p.useState)(!1),i=()=>{a(!1)},r=e=>{e.isInPage||a(!0)};return(0,p.useEffect)(()=>{var n;if(!e)return;let a=e.view;if(a){if((null===(n=t.current)||void 0===n?void 0:n.identity.name)===a.identity.name)return;return t.current&&(t.current.removeListener("did-finish-load",i),t.current.removeListener("url-changed",r)),a.addListener("did-finish-load",i),a.addListener("url-changed",r),t.current=a,()=>{t.current&&(t.current.removeListener("did-finish-load",i),t.current.removeListener("url-changed",r),t.current=null)}}},[null==e?void 0:e.view.identity.name]),{isContentLoading:n,setIsContentLoading:a}},ej=n(8517);let eP=(e,t,n,a,i)=>{let{shouldExpandMenu:r}=(0,p.useContext)(A),o=(0,l.v9)(w.AB);(0,p.useEffect)(()=>{(async()=>{if(!o&&n.layoutContainerKey&&(null==e?void 0:e.length)){let a=fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:n.layoutContainerKey}),r=await a.getConfig(),o=(0,h.C$)(r.content).map(e=>fin.View.wrapSync({name:e.name,uuid:b.Gi.uuid}).identity);t.postMessage({type:"update-search-menu-state",selectedViews:e,openViews:o,windowId:fin.me.identity,offsetLeft:i.current.offsetLeft})}})()},[o,e,a,n.layoutContainerKey,t,i]);let s=(0,p.useCallback)(B()(e=>{let{text:n,shouldExpand:a,keyboardEvent:i}=e;t.postMessage({type:"update-search-menu-state",shouldExpandMenu:a,searchText:n,keyboardEvent:i,offsetLeft:e.offsetLeft})},150,{leading:!0,trailing:!0}),[t]);return(0,p.useEffect)(()=>{let{offsetLeft:e}=i.current;s({text:a,shouldExpand:r,offsetLeft:e}),r.shouldExpand||s.flush()},[s,r.shouldExpand,a,t,i]),{sendKeyboardEventToSearchMenuView:(0,p.useCallback)(async e=>{"Enter"===e.options.key&&s.flush(),s({keyboardEvent:e})},[s])}};var eB=n(264),eD=(e,t,n,a,i,r)=>{let o=(0,p.useRef)(null),[l,s]=(0,p.useState)(""),d=(0,p.useCallback)(e=>{let t=(0,v.HX)(e);r({isSecureSite:e.startsWith("https"),shouldShow:!t}),s(e),i(t?"":e)},[]),c=(0,p.useCallback)(()=>{var e;(null===(e=n.current)||void 0===e?void 0:e.value)===(0,eB.p)(l)&&a.shouldShow||d(l)},[l,a.shouldShow]),u=(0,p.useCallback)(e=>{d(e.url),(0,v.HX)(e.url)||fin.View.wrapSync(e.viewIdentity).focus()},[]),g=(0,p.useCallback)(async()=>{if(t&&t.length>0){var e;let n=await fin.View.wrap(t[0]);if((null===(e=o.current)||void 0===e?void 0:e.identity.name)!==n.identity.name&&n){o.current=n,o.current.addListener("url-changed",u);let{url:e}=await o.current.getInfo();d(e)}}},[t,n,o]);return(0,p.useEffect)(()=>{let e=o.current;(null==t?void 0:t.length)&&t[0]&&(null==e?void 0:e.identity.name)!==t[0].name&&(null==e||e.removeListener("url-changed",u)),g()},[t,g,u]),(0,p.useEffect)(()=>{let{shouldShow:t,isSecureSite:n}=a;e!==l&&t&&r({isSecureSite:n,shouldShow:!1})},[e]),{selectedViewUrl:l,resetAddressBarToSelectedViewUrl:c}},eA=n(4042);let eT=async()=>{let e=await (0,es.cC)(),t=(0,F.aA)().Browser.wrapSync(b.Gi);await t.addPage(e),await t.setActivePage(e.pageId),(0,y.sS)({type:"HotKey",action:"NewPage",entityId:b.Gi})},eR=async()=>{let e={workspacePlatform:{pages:[await (0,es.cC)()],windowType:"enterprise"}};console.debug("createNewWindow",e);let t=(0,F.aA)();await t.Browser.createWindow(e),(0,y.sS)({type:"HotKey",action:"NewWindow",entityId:b.Gi})},eH=async()=>{(0,F.aA)().Browser.wrapSync(b.Gi)._restoreRemovedTab(),(0,y.sS)({type:"HotKey",action:"RestorePage",entityId:b.Gi})},eM=async()=>{await (0,eA._Z)(b.Gi)},eZ=async()=>{await (0,eA.tH)(b.Gi)},eV=(e,t,n)=>{if("keyDown"===e.inputType)switch(e.code){case"KeyT":e.shiftKey?eH():eT();break;case"KeyS":e.shiftKey?eZ():eM();break;case"KeyN":eR();break;case"KeyW":(0,S.r9)();break;case"BracketRight":if(!t){let e=n?fin.View.wrapSync(n):void 0;e&&e.navigateForward()}break;case"BracketLeft":if(!t){let e=n?fin.View.wrapSync(n):void 0;e&&e.navigateBack()}}};var eN=e=>{let t=(0,l.v9)(u.z_),n=(0,p.useCallback)(n=>{eV(n,t,e)},[t,e]);(0,p.useEffect)(()=>{let e=fin.Window.wrapSync(b.Gi);return e.addListener("hotkey",n),()=>{e.removeListener("hotkey",n)}},[n])},e_=n(5890),eW=n(2712),ez=n.n(eW);let eO=(e,t,n,a)=>{let{shouldExpandMenu:i,setShouldExpandMenu:r}=(0,p.useContext)(A);return{onChange:(0,p.useCallback)(e=>{ez()(e.target.value)&&(0,y.sS)({action:"Clear Search",type:"Search"}),r({shouldExpand:!0,method:"keystroke"}),t(e.target.value)},[]),onClick:(0,p.useCallback)(()=>{i.shouldExpand||r({shouldExpand:!0,method:"click"})},[i.shouldExpand]),onBlur:(0,p.useCallback)(()=>{n(!1),document.activeElement!==e.current&&((0,y.sS)({action:"Blur Search",type:"Search"}),r({shouldExpand:!1}),a())},[e,a])}},eG=(0,s.default)(d.Box).withConfig({componentId:"sc-4b6137c6-0"})(["padding:4px 2px;border-radius:",";svg{fill:",";path{fill:",";}}"],e=>{let{theme:t}=e;return t.radius.small},e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.palette.textDefault}),eK=e=>{let{isSecure:t}=e,n=t.shouldShow?t.isSecureSite?eU:eq:p.Fragment;return(0,o.jsx)(eG,{title:t.isSecureSite?"":"Insecure content",children:(0,o.jsx)(n,{})})},eU=()=>(0,o.jsx)(ej.q,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{opacity:"0.9",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.97502 5.70882C5.97502 5.00378 6.17006 4.47313 6.49629 4.12185C6.81883 3.77456 7.3112 3.55765 8.00114 3.55765C8.69144 3.55765 9.18313 3.77411 9.50493 4.12066C9.83045 4.47122 10.025 5.00121 10.025 5.70661V7.19998H5.97502V5.70882ZM5.22502 7.19998V5.70882C5.22502 4.86966 5.45845 4.13723 5.94673 3.61147C6.43871 3.08173 7.1469 2.80765 8.00114 2.80765C8.85522 2.80765 9.56297 3.08097 10.0545 3.61031C10.5423 4.13564 10.775 4.86763 10.775 5.70661V7.19998H11.25C11.6642 7.19998 12 7.53577 12 7.94998V12.05C12 12.4642 11.6642 12.8 11.25 12.8H4.75C4.33579 12.8 4 12.4642 4 12.05V7.94998C4 7.53577 4.33579 7.19998 4.75 7.19998H5.22502Z",fill:"white"})})}),eq=()=>(0,o.jsx)(ej.q,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{opacity:"0.9",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.92517 4.07633L12.405 11.1653C12.5461 11.4525 12.5291 11.7921 12.3598 12.0637C12.1906 12.3352 11.8932 12.5002 11.5735 12.5H4.42671C4.10675 12.5002 3.80936 12.3352 3.64014 12.0637C3.47092 11.7921 3.45385 11.4525 3.59491 11.1655L7.07481 4.07633C7.2481 3.72353 7.60694 3.5 7.99999 3.5C8.39304 3.5 8.75188 3.72353 8.92517 4.07633ZM8.59892 8.94417V6.57346C8.59892 6.31458 8.38905 6.10471 8.13018 6.10471C7.8713 6.10471 7.66143 6.31458 7.66143 6.57346V8.94417C7.66143 9.20306 7.8713 9.41292 8.13018 9.41292C8.38905 9.41292 8.59892 9.20306 8.59892 8.94417ZM8.13018 11.0253C8.44083 11.0253 8.69267 10.7734 8.69267 10.4628C8.69267 10.1521 8.44083 9.90028 8.13018 9.90028C7.81952 9.90028 7.56768 10.1521 7.56768 10.4628C7.56768 10.7734 7.81952 11.0253 8.13018 11.0253Z",fill:"white"})})}),eF=s.default.input.withConfig({componentId:"sc-38cdf62c-0"})(["width:100%;height:100%;border:unset;border-radius:",";background:transparent;color:",";font-size:",";font:var(--openfin-ui-globalTypography);&:focus{outline:none;}&::placeholder{color:",";}"],e=>{let{theme:t}=e;return t.radius.small},e=>{let{theme:t}=e;return t.palette.inputColor},e=>{let{theme:t}=e;return t.fontSize.base},e=>{let{theme:t}=e;return t.palette.inputPlaceholder});function eQ(){return(eQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var eY=function(e){return p.createElement("svg",eQ({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.8 1.176a.5.5 0 0 0-.5.5v8.8a.5.5 0 0 0 .808.394l2.738-2.14a.25.25 0 0 1 .308 0l2.738 2.14a.5.5 0 0 0 .808-.394v-8.8a.5.5 0 0 0-.5-.5H2.8Z",fill:"#fff"})))};function e$(){return(e$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var eX=function(e){return p.createElement("svg",e$({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.3 1.676a.5.5 0 0 1 .5-.5h6.4a.5.5 0 0 1 .5.5v8.8a.5.5 0 0 1-.808.394L6.154 8.73a.25.25 0 0 0-.308 0l-2.738 2.14a.5.5 0 0 1-.808-.394v-8.8Zm1 .5V9.45l1.93-1.509a1.25 1.25 0 0 1 1.54 0L8.7 9.451V2.176H3.3Z",fill:"#fff"})))},eJ=n(9378),e0=n(1272);let e1=e=>e.map(e=>e).join("-"),e5=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];let[i,r]=(0,p.useState)(!1),o=(0,p.useMemo)(()=>e1(n),[n]);return(0,p.useEffect)(()=>{e?(0,e0.$k)(e).then(e=>r(!!e)):r(!1)},[e,o]),i},e2=e=>{let{url:t}=e,[n,a]=(0,p.useState)(!1),[i,r]=(0,p.useState)(null),{pageId:o}=(0,l.v9)(w.Dg),s=(0,E.TP)(R.Z.getState(),o),d=(0,p.useCallback)(e=>(0,e0._$)(e,t,a),[t]);return(0,p.useEffect)(()=>{if(!i)return;let e=()=>{d(i)};return i.addListener("url-changed",e),()=>{i.removeListener("url-changed",e)}},[i,d]),(0,p.useEffect)(()=>{(async()=>{if(0===s.length){r(null);return}let e=await fin.View.wrap(s[0]);r(e),d(e)})()},[s,d]),{isViewNavigatedToUrl:n,selectedView:i}};var e8=n(5660);let e6=e=>{let{url:t}=e,{pageId:n}=(0,l.v9)(w.Dg),a=(0,E.TP)(R.Z.getState(),n),[i,r]=(0,p.useState)(null),o=(0,p.useRef)(null),s=(0,p.useCallback)(async()=>{i&&t&&await (0,e8.Z5)(t,i)},[t,i]);(0,p.useEffect)(()=>((async()=>{var e;if(!a.length||!t||a[0].name===(null===(e=o.current)||void 0===e?void 0:e.name))return;i&&await i.removeListener("page-favicon-updated",s);let n=await fin.View.wrap(a[0]);o.current=n.identity,r(n),await n.addListener("page-favicon-updated",s)})(),()=>{(async()=>{i&&await i.removeListener("page-favicon-updated",s)})()}),[a,t,s,i])};var e3=n(7885),e9=n(1230),e7=n(4665),e4=n(750);let te=()=>(0,e4.Z)({windowName:b.IA.EnterpriseBookmarkDialogWindow,route:e7.ZP.EnterpriseBookmarkDialog,shouldPreload:(0,p.useContext)(m.B6).isEnterprise}),tt=(e,t)=>{let[n,a]=(0,p.useState)(!1),[i,r]=(0,p.useState)(!1),o=(0,p.useRef)(null);(0,p.useEffect)(()=>{r(!1)},[t]),te();let l=(0,p.useCallback)(async()=>{if(!e.current||!t||n)return;o.current||(o.current=await (0,e3.BY)(),o.current.register("response",e=>{"cancel"!==e.type&&r(e=>!e),"bookmark-created"!==e.type&&a(!1)}));let i=e.current.getBoundingClientRect(),l=fin.Window.getCurrentSync(),s=await (0,b.IX)(l);await o.current.dispatch("open",{parentIdentity:fin.me.identity,type:e9.Yo.AddEditBookmark,responseIdentity:fin.me.identity,x:s.left+i.left,y:s.top+i.top+i.height,payload:{selectedViewIdentity:null==t?void 0:t.identity}}),a(!0)},[e,t,n]);return(0,p.useEffect)(()=>()=>{o.current&&(o.current.disconnect(),o.current=null)},[]),{showDialog:l,isDialogShown:n,isBookmarkUpdatedOrCreated:i}},tn=s.default.div.withConfig({componentId:"sc-a84518d7-0"})(["svg{z-index:100;fill:",";path{fill:",";}}z-index:99;width:",";height:",";border-radius:",";display:flex;justify-content:center;align-items:center;opacity:",";&:hover{background-color:",";}",""],e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t,shouldRender:n}=e;return n?t.px.large:"0px"},e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.radius.xsmall},e=>{let{shouldRender:t}=e;return t?1:0},e=>{let{theme:t,isSchemeDark:n}=e;return n?t.palette.background4:t.palette.background2},e=>{let{isDialogShown:t,theme:n,isSchemeDark:a}=e;return t&&"background-color: ".concat(a?n.palette.background5:n.palette.background4," !important;")}),ta=e=>{let{url:t,isSecureShowing:n,bookmarkButtonRef:a,onRenderChange:i,isMenuExpanded:r}=e,{isSchemeDark:l}=(0,Q.Z)();e6({url:t});let{selectedView:s,isViewNavigatedToUrl:d}=e2({url:t}),{showDialog:c,isDialogShown:u,isBookmarkUpdatedOrCreated:g}=tt(a,s),{mostRecentlyUpdated:f}=(0,p.useContext)(eJ.d1),h=e5(t,g,f),w=d&&n&&!r;return(0,p.useEffect)(()=>{null==i||i(w)},[w,i]),w&&(0,o.jsx)(tn,{isSchemeDark:l,onClick:c,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},isDialogShown:u,ref:a,shouldRender:w,tabIndex:0,role:"button","aria-label":"Add or edit bookmark","data-testid":eI._Q.bookmarkButton,children:h?(0,o.jsx)(eY,{}):(0,o.jsx)(eX,{})})};var ti=n(8115),tr=n(5452),to=n(6774);let tl=e=>{let{selectedView:t,zoomPercentRef:n,showDialog:a}=e,i=(0,to.C)(),r=(0,p.useCallback)(async e=>{let i=(await (0,ti.RC)()).layout,r=(0,h.C$)(i.content).map(e=>fin.View.wrapSync({name:e.name,uuid:b.Gi.uuid}));switch(e.key){case"=":case"+":r.forEach(async e=>{e.identity.uuid===t.identity.uuid&&e.identity.name===t.identity.name?n.current=await (0,tr.rs)(e):await (0,tr.rs)(e),a()});break;case"-":case"_":r.forEach(async e=>{e.identity.uuid===t.identity.uuid&&e.identity.name===t.identity.name?n.current=await (0,tr.iz)(e):await (0,tr.iz)(e),a()})}},[t,a]),o=(0,p.useCallback)(async e=>{switch(e.key){case"=":n.current=await (0,tr.rs)(t),a();break;case"-":n.current=await (0,tr.iz)(t),a()}},[a,n,t]),l=(0,p.useCallback)(async e=>{"keyDown"===e.inputType&&(i?e.ctrlKey:e.metaKey)&&(e.shiftKey?r(e):o(e))},[i,r]),s=(0,p.useCallback)(async e=>{"keyDown"===e.inputType&&(i?e.ctrlKey:e.metaKey)&&(e.shiftKey?r(e):o(e))},[i,r,o]);(0,p.useEffect)(()=>(t&&t.addListener("hotkey",s),()=>{t&&t.removeListener("hotkey",s)}),[t,s]),(0,p.useEffect)(()=>{let e=(0,b.lQ)();return e.addListener("hotkey",l),()=>{e.removeListener("hotkey",l)}},[l])},ts={defaultWidth:193,defaultHeight:48},td=async(e,t,n,a)=>{let i=async()=>{await e.hide()},r=async()=>{let e=await fin.System.getFocusedWindow();e&&e.name===b.IA.ZoomControlsDialog||i()};await e.once("hidden",()=>{a(),window.removeEventListener("mousedown",i),t.removeListener("bounds-changing",i),t.removeListener("maximized",i),t.removeListener("minimized",i),t.removeListener("restored",i),t.removeListener("blurred",r),n.removeListener("blurred",r)}),window.addEventListener("mousedown",i),t.addListener("bounds-changing",i),t.addListener("maximized",i),t.addListener("minimized",i),t.addListener("restored",i),t.on("blurred",r),n.on("blurred",r)},tc=(e,t,n,a)=>{let[i,r]=(0,p.useState)(!1),o=(0,p.useRef)(null),l=(0,Y.o0)(),s=(0,to.C)();(0,e4.Z)({windowName:b.IA.ZoomControlsDialog,route:e7.ZP.ZoomControlsDialog,shouldPreload:(0,p.useContext)(m.B6).isEnterprise,windowCreationOptions:{...ts,alwaysOnTop:s&&!0,cornerRounding:s&&{height:4,width:4}}});let d=(0,p.useCallback)(async()=>{if(a)return;o.current||(o.current=await (0,e3.iD)(),o.current.register("response",e=>{"cancel"===e.type&&(r(!1),n.current=e.payload.zoomPercent)}));let d=fin.Window.wrapSync({uuid:fin.me.identity.uuid,name:b.IA.ZoomControlsDialog}),c=fin.Window.getCurrentSync(),u=await (0,b.IX)(c),p=e.current.getBoundingClientRect(),g={x:u.left+p.right-ts.defaultWidth,y:u.top+p.top+p.height},f=async e=>{i||(s?await td(d,c,t,e):await d.once("blurred",()=>{e()})),await o.current.dispatch("open",{parentIdentity:fin.me.identity,type:e9.Yo.ZoomControls,responseIdentity:fin.me.identity,x:g.x,y:g.y,payload:{selectedViewIdentity:null==t?void 0:t.identity,zoomPercent:n.current}})};l("focused",async()=>{await new Promise(e=>{f(e)})}),r(!0)},[a,t,i,l,e,n,s]);return(0,p.useEffect)(()=>{let e=async()=>{if(t){let e=await t.getOptions();n.current=tr._Y.levelToPercent(e.zoomLevel)}};return(async()=>{if(t){let e=await t.getZoomLevel();n.current=tr._Y.levelToPercent(e)}})(),t&&t.once("did-finish-load",e),()=>{t&&t.removeListener("did-finish-load",e)}},[t]),(0,p.useEffect)(()=>()=>{o.current&&(o.current.disconnect(),o.current=null)},[]),{showDialog:d,isDialogShown:i}},tu=e=>{let{url:t,onRenderChange:n,isMenuExpanded:a,zoomButtonRef:i}=e,r=(0,p.useRef)(100),{isSchemeDark:l}=(0,Q.Z)(),{selectedView:s}=e2({url:t}),{showDialog:c,isDialogShown:u}=tc(i,s,r,a);tl({selectedView:s,zoomPercentRef:r,showDialog:c});let g=(u||100!==r.current)&&!a;return(0,p.useEffect)(()=>{null==n||n(g)},[g,n]),(0,o.jsx)(tn,{isSchemeDark:l,onClick:c,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),c())},isDialogShown:u,ref:i,shouldRender:g,tabIndex:g?0:-1,role:"button","aria-label":"Open zoom controls","data-testid":eI._Q.zoomButton,children:(0,o.jsx)(d.Icon,{icon:"ZoomInIcon"})})},tp=e=>{let{onGradientClick:t,isSchemeDark:n,url:a,isMenuExpanded:i,isSecureShowing:r}=e,l=(0,p.useRef)(null),s=(0,p.useRef)(null),[d,c]=(0,p.useState)(!1),[u,g]=(0,p.useState)(!1),f=d||u;return(0,o.jsxs)(tg,{children:[f&&(0,o.jsx)(tf,{onClick:t,isSchemeDark:n,shouldRenderZoomButton:d}),(0,o.jsx)(tu,{url:a,isMenuExpanded:i,zoomButtonRef:l,onRenderChange:c}),(0,o.jsx)(ta,{url:a,isMenuExpanded:i,isSecureShowing:r,bookmarkButtonRef:s,onRenderChange:g})]})},tg=(0,s.default)(d.Box).withConfig({componentId:"sc-7070f53e-0"})(["display:flex;flex-direction:row;align-items:center;padding-right:2px;"]),tf=s.default.div.withConfig({componentId:"sc-7070f53e-1"})(["width:",";height:18px;background:",";position:absolute;margin-right:",";right:",";"],e=>{let{shouldRenderZoomButton:t}=e;return t?"56px":"40px"},e=>{let{isSchemeDark:t,theme:n}=e;return t?"linear-gradient(to right, transparent 0%, ".concat(n.palette.background3," 20px, ").concat(n.palette.background3," 40px)"):"linear-gradient(to right, transparent 0%, ".concat(n.palette.background1," 20px, ").concat(n.palette.background1," 40px)")},e=>{let{shouldRenderZoomButton:t}=e;return t?"-38px":"-20px"},e=>{let{shouldRenderZoomButton:t}=e;return t?"38px":"20px"}),th=e=>{let{addressSearchResultsViewIdentity:t,addressBarInputRef:n,inputContainerRef:a,addressBarWidth:i,isSecure:r,setSearchText:s,searchText:d,sendKeyboardEventToSearchMenuView:c,resetAddressBarToSelectedViewUrl:g}=e,{shouldExpandMenu:f,setShouldExpandMenu:h}=(0,p.useContext)(A),w=(0,l.v9)(u.z_),{isSchemeDark:m}=(0,Q.Z)(),[v,x]=(0,p.useState)(),{onChange:b,onClick:C,onBlur:k}=eO(n,s,x,g);(0,p.useEffect)(()=>{"click"===f.method&&n.current.value&&n.current.select()},[n,f.method]);let I=(0,p.useCallback)(()=>{(0,y.sS)({type:"Search",action:"Focus Search"}),x(!0)},[]),S=(0,p.useCallback)(e=>{let{type:t,key:n,metaKey:a,ctrlKey:i,altKey:r}=e;c({type:t,options:{key:n,metaKey:a,ctrlKey:i,altKey:r}})},[c]),L=(0,p.useCallback)(async e=>{let n=fin.View.wrapSync(t);if(f.shouldExpand)switch(e.key){case"Escape":h({shouldExpand:!1});break;case"Tab":e.preventDefault(),await n.focus(),S(e);break;case"ArrowDown":case"ArrowUp":if(e.ctrlKey||e.metaKey)break;case"Home":case"End":case"Enter":e.preventDefault(),S(e)}},[f.shouldExpand,t,h,S]);return(0,o.jsx)(tw,{children:(0,o.jsxs)(tm,{isSchemeDark:m,expanded:f.shouldExpand,ref:a,addressBarWidth:i,isWindows:w,"data-testid":eI._Q.addressBarContainer,children:[!f.shouldExpand&&(0,o.jsx)(eK,{isSecure:r}),(0,o.jsx)(eF,{id:"address-bar-url-input","aria-label":"Search or enter web address","data-testid":eI._Q.addressBarInput,autoComplete:"off",placeholder:"Search or enter web address",onKeyDown:L,onChange:b,onClick:C,value:f.shouldExpand||!r.shouldShow||v?d:(0,eB.p)(d),onFocus:I,onBlur:k,ref:n,expanded:f.shouldExpand}),(0,o.jsx)(tp,{onGradientClick:()=>h({shouldExpand:!0,method:"click"}),isSchemeDark:m,url:(0,eB.p)(d),isMenuExpanded:f.shouldExpand,isSecureShowing:r.shouldShow,inputContainerRef:a})]})})},tw=(0,s.default)(d.Box).withConfig({componentId:"sc-8f9aeac8-0"})(["height:","px;min-width:240px;display:flex;flex-direction:row;align-items:center;-webkit-app-region:unset;"],e_.q),tm=(0,s.default)(d.Box).withConfig({componentId:"sc-8f9aeac8-1"})(["border-radius:",";display:flex;align-items:center;justify-content:center;-webkit-app-region:no-drag;user-select:auto;",""],e=>{let{theme:t}=e;return t.radius.small},e=>{let{expanded:t,theme:n,isSchemeDark:a,addressBarWidth:i,isWindows:r}=e;return t?(0,s.css)(["height:","px;width:","px;border-radius:0;border:1px solid ",";border-bottom:1px solid ",";border-top:unset;"," background-color:",";padding:0px ",";z-index:100;position:absolute;top:",";"],e_.q+(r?1:0),i,n.palette.background5,n.palette.background1,!r&&(0,s.css)(["border-bottom:unset;box-shadow:0px 2px 0px -1px ",";"],n.palette.background1),n.palette.background1,n.px.large,r?"1px":void 0):(0,s.css)(["height:24px;width:240px;border:1px solid ",";background-color:",";position:relative;&:focus,&:hover{border:1px solid ",";}"],n.palette.inputBorder,a?n.palette.background3:n.palette.background1,n.palette.inputFocused)}),tv={uuid:b.Gi.uuid,name:b.IA.BrowserAddressSearchPrefix+b.Gi.name};var ty=()=>{let e=(0,l.v9)(w.Dg),t=(0,l.v9)(E.UI)[e.layoutContainerKey],n=(0,p.useRef)({postMessage:e=>console.warn("Attempted to send message before search menu was ready:",e)}),[a,i]=(0,p.useState)(null),r=(0,p.useRef)(null),s=(0,p.useRef)(null),[d,c]=(0,p.useState)(""),[u,g]=(0,p.useState)({shouldShow:!0,isSecureSite:!0});(0,p.useEffect)(()=>{(async()=>{let e=fin.View.wrapSync(tv);await e.setBounds({top:0,left:0,width:0,height:0}),await e.attach({uuid:fin.me.uuid,name:fin.me.name}),await e.hide()})()},[tv]);let{sendKeyboardEventToSearchMenuView:f}=eP(t,n.current,e,d,s);eN(t&&t.length>0?t[0]:void 0);let{selectedViewUrl:h,resetAddressBarToSelectedViewUrl:m}=eD(d,t,r,u,c,g);return V(t,h,n.current,i,c,m),G(i,m),(0,o.jsx)(th,{addressSearchResultsViewIdentity:tv,addressBarInputRef:r,inputContainerRef:s,addressBarWidth:a,isSecure:u,setSearchText:c,searchText:d,sendKeyboardEventToSearchMenuView:f,resetAddressBarToSelectedViewUrl:m})};let tx=()=>{let e=(0,l.v9)(w.Dg),t=(0,l.v9)(E.UI)[e.layoutContainerKey];return eN(t&&t.length>0?t[0]:void 0),(0,o.jsx)("div",{})};var tb=()=>{let e=(0,Y.ZP)(),[t,n]=(0,p.useState)(!1),[a,i]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{(function(e){let t=document.querySelectorAll(".lm_tab"),n=document.querySelectorAll(".newTabButton");null==t||t.forEach(t=>e?t.classList.remove("inactiveWindow"):t.classList.add("inactiveWindow")),null==n||n.forEach(t=>e?t.classList.remove("inactiveWindow"):t.classList.add("inactiveWindow"))})(e)},[e]),(0,p.useEffect)(()=>{(async()=>{n(!!(await fin.me.getOptions()).workspacePlatform.isAddressBarEnabled)})(),fin.Window.getCurrentSync().getOptions().then(e=>{var t,n;return i(!!(null===(n=e.workspacePlatform)||void 0===n?void 0:null===(t=n.navigationButtons)||void 0===t?void 0:t.enabled))})},[]),(0,o.jsxs)(tC,{"data-testid":"enterprise-nav",children:[a&&(0,o.jsxs)(tk,{windowFocused:e,children:[(0,o.jsx)(tE,{}),(0,o.jsx)(tP,{}),(0,o.jsx)(tB,{})]}),t&&(0,o.jsx)(ty,{}),!t&&(0,o.jsx)(tx,{})]})};let tC=(0,s.default)(d.Box).withConfig({componentId:"sc-558c3e35-0"})(["flex-direction:row;padding:0px;row-gap:",";padding:0px "," 0px 0px;gap:0px;align-items:center;border-right:1px solid ",";border-bottom:1px solid ",";"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background5}),tk=(0,s.default)(d.Box).withConfig({componentId:"sc-558c3e35-1"})(["position:relative;padding:0px;padding:0px ",";opacity:",";flex-direction:row;gap:0px;align-items:center;-webkit-app-region:no-drag;user-select:auto;"],e=>{let{theme:t}=e;return t.px.base},e=>{let{windowFocused:t}=e;return t?1:.6}),tI=async e=>{let t=fin.View.wrapSync(e),n=await t.getInfo();return{view:t,info:n}},tS=(0,s.default)(eS.Z).attrs({customContentSize:!0}).withConfig({componentId:"sc-558c3e35-2"})(["opacity:",";padding:",";width:",";height:",";&:hover{border-radius:4px;}"],e=>{let{disabled:t}=e;return t?"0.5":"1"},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.px.xxlarge}),tL=()=>(0,o.jsx)(ej.q,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{opacity:"0.9",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4939 7.27729C13.7457 7.51337 13.7584 7.90889 13.5224 8.16071L9.92311 11.9999L13.5224 15.8391C13.7584 16.0909 13.7457 16.4865 13.4939 16.7225C13.242 16.9586 12.8465 16.9459 12.6104 16.694L8.61045 12.4274C8.38506 12.187 8.38506 11.8129 8.61045 11.5725L12.6104 7.30578C12.8465 7.05396 13.242 7.04121 13.4939 7.27729Z",fill:"white"})})}),tE=()=>{let[e,t]=(0,p.useState)(!1),n=eL(),a=async()=>{n&&n.view.navigateBack()};return(0,p.useEffect)(()=>{(async()=>{n?t(n.info.canNavigateBack):t(!1)})()},[n]),(0,o.jsx)(tS,{title:"Click to go back",onClick:a,"data-testid":eI._Q.backButton,disabled:!e,children:(0,o.jsx)(tL,{})})},tj=()=>(0,o.jsx)(ej.q,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{opacity:"0.9",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5061 7.27718C10.758 7.0411 11.1535 7.05386 11.3896 7.30568L15.3896 11.5723C15.6149 11.8128 15.6149 12.1869 15.3896 12.4273L11.3896 16.6939C11.1535 16.9458 10.758 16.9585 10.5061 16.7224C10.2543 16.4864 10.2416 16.0908 10.4776 15.839L14.0769 11.9998L10.4776 8.16061C10.2416 7.90879 10.2543 7.51326 10.5061 7.27718Z",fill:"white"})})}),tP=()=>{let[e,t]=(0,p.useState)(!1),n=eL(),a=async()=>{n&&n.view.navigateForward()};return(0,p.useEffect)(()=>{(async()=>{n?t(n.info.canNavigateForward):t(!1)})()},[n]),(0,o.jsx)(tS,{title:"Click to go forward",onClick:a,"data-testid":eI._Q.forwardButton,disabled:!e,children:(0,o.jsx)(tj,{})})},tB=()=>{let e=eL(),{isContentLoading:t,setIsContentLoading:n}=eE(e),a=async()=>{e&&(n(!0),e.view.reload())},i=async()=>{e&&(e.view.stopNavigation(),n(!1))};return t?(0,o.jsx)(tS,{title:"Stop loading this tab",onClick:i,"data-testid":eI._Q.stopButton,children:(0,o.jsx)(tA,{})}):(0,o.jsx)(tS,{title:"Reload this tab",onClick:a,"data-testid":eI._Q.reloadButton,children:(0,o.jsx)(tD,{})})},tD=()=>(0,o.jsx)(ej.q,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{opacity:"0.9",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.28906 12C7.28906 9.52256 9.21924 7.07111 12.218 7.07111C13.2468 7.07111 14.089 7.5329 14.7981 8.16308C15.3013 8.6103 15.7088 9.11422 16.0563 9.56889H14.7147C14.3695 9.56889 14.0897 9.84871 14.0897 10.1939C14.0897 10.5391 14.3695 10.8189 14.7147 10.8189H17.4239C17.7691 10.8189 18.0489 10.5391 18.0489 10.1939V7.48466C18.0489 7.13949 17.7691 6.85966 17.4239 6.85966C17.0788 6.85966 16.7989 7.13949 16.7989 7.48466V8.48788C16.4748 8.08222 16.0837 7.6333 15.6285 7.22873C14.7818 6.47635 13.6563 5.82111 12.218 5.82111C8.44094 5.82111 6.03906 8.92356 6.03906 12C6.03906 15.0765 8.44094 18.1789 12.218 18.1789C14.0218 18.1789 15.5274 17.4643 16.5993 16.3736C17.1726 15.7903 17.62 15.1015 17.9249 14.3605C18.0563 14.0413 17.904 13.6761 17.5848 13.5447C17.2656 13.4133 16.9004 13.5656 16.769 13.8848C16.5237 14.4809 16.1646 15.0327 15.7078 15.4975C14.8614 16.3586 13.6733 16.9289 12.218 16.9289C9.21924 16.9289 7.28906 14.4775 7.28906 12Z",fill:"white"})})}),tA=()=>(0,o.jsx)(ej.q,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{opacity:"0.9",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5758 8.30864C16.8199 8.06456 16.8199 7.66884 16.5758 7.42476C16.3317 7.18068 15.936 7.18068 15.6919 7.42476L12.0005 11.1161L8.30913 7.42476C8.06505 7.18068 7.66932 7.18068 7.42525 7.42476C7.18117 7.66884 7.18117 8.06456 7.42525 8.30864L11.1166 12L7.42525 15.6914C7.18117 15.9355 7.18117 16.3312 7.42525 16.5753C7.66932 16.8194 8.06505 16.8194 8.30913 16.5753L12.0005 12.8839L15.6919 16.5753C15.936 16.8194 16.3317 16.8194 16.5758 16.5753C16.8199 16.3312 16.8199 15.9355 16.5758 15.6914L12.8844 12L16.5758 8.30864Z",fill:"white"})})});var tT=n(1987),tR=n(8191),tH=n(7908),tM=n(9613);let tZ=(0,s.default)(eS.Z).attrs({customContentSize:!0,isEnterprise:!0}).withConfig({componentId:"sc-411c4a92-0"})(["-webkit-app-region:no-drag;user-select:auto;padding:",";width:",";height:",";opacity:",";svg path{fill:",";}"],e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{windowFocused:t}=e;return!t&&"0.5"},e=>{let{theme:t}=e;return t.palette.textDefault});var tV=()=>{let{t:e}=(0,tR.$G)(),t=(0,Y.ZP)(),{isSidePanelOpen:n,activeComponent:a,toggleSidePanelComponent:i}=(0,tM.h5)();return(0,o.jsx)(tZ,{title:e("sidePanel.openAiCenter"),windowFocused:t,onClick:()=>i(tM.hU.AICompanion),selected:n&&a===tM.hU.AICompanion,"data-testid":eI.X0.aiCompanionButton,children:(0,o.jsx)(tH.Z,{})})},tN=()=>{let e=(0,Y.ZP)(),{t}=(0,C.$G)(),{isSidePanelOpen:n,activeComponent:a,toggleSidePanelComponent:i}=(0,tM.h5)();return(0,o.jsx)(tZ,{title:t("bookmarks.bookmarksPanel"),onClick:()=>i(tM.hU.Bookmarks),windowFocused:e,selected:n&&a===tM.hU.Bookmarks,"data-testid":eI.X0.bookmarksPanelButton,children:(0,o.jsx)(d.Icon,{icon:"BookmarkFilled"})})},t_=n(8990),tW=n(8002);let tz=(0,s.default)(tW.T).withConfig({componentId:"sc-3e18915a-0"})(["display:flex;align-items:center;button{opacity:",";}"],e=>{let{windowFocused:t}=e;return!t&&"0.5"}),tO=(0,s.default)(eS.Z).attrs({isEnterprise:!0,customContentSize:!0}).withConfig({componentId:"sc-3e18915a-1"})(["padding:4px;width:24px;height:24px;margin-right:",";> div{width:100%;}"],e=>{let{theme:t}=e;return t.px.small});var tG=()=>{let e=(0,Y.ZP)(),{t}=(0,C.$G)(),n=(0,p.useRef)(),[a,i]=(0,p.useState)(!1),r=(0,Y.o0)(),l=async e=>{let t=(0,F.aA)().Browser.wrapSync(b.Gi),a=(0,w.Dg)(R.Z.getState()).pageId;r("focused",async()=>{i(!0),await t._openGlobalContextMenu({x:e.clientX,y:e.clientY,selectedViews:(0,E.TP)(R.Z.getState(),a),rect:n.current.getBoundingClientRect()}),i(!1)})};return(0,o.jsx)(tz,{windowFocused:e,children:(0,o.jsx)(tO,{ref:n,onClick:l,title:t("aria.openBrowser"),selected:a,"aria-expanded":a,"data-testid":eI.X0.globalMenuButton,children:(0,o.jsx)(t_.Z,{size:"small"})})})},tK=n(9331);let tU=(e,t)=>{(0,p.useEffect)(()=>{let n=fin.Window.getCurrentSync();n.getOptions().then(t=>{let{workspacePlatform:n}=t;return e(n)});let a=e=>{var n;let a=null===(n=e.diff)||void 0===n?void 0:n.workspacePlatform;a&&t(null==a?void 0:a.newVal)};return n.on("options-changed",a),()=>{n.removeListener("options-changed",a)}},[e,t])},tq=(0,s.default)(eS.Z).withConfig({componentId:"sc-242aae61-0"})(["&:active svg{filter:saturate(1.2) contrast(1.3);}"]);var tF=n(7347),tQ=n(5988);let tY=()=>{(0,b.ui)(b.Gi).catch(e=>{console.error("failed to maximize or restore: ".concat(e))})};var t$=n(3543);let tX=e=>{let{action:t,customTarget:n,children:a,analyticsCallback:i,dragging:r,...l}=e,s=(0,p.useCallback)(async e=>{if(r)return;let a={windowIdentity:b.Gi,x:e.clientX,y:e.clientY,customData:t.customData,callerType:ed.$g.CustomButton};return i&&i(t),(n?(0,M.N)(n):(0,M.a)())._invokeCustomAction(t.id,a)},[t,n,i,r]);return(0,o.jsx)(t$.Z,{...l,onClick:s,children:a})},tJ=()=>{let[e,t]=(0,p.useState)("normal");return(0,p.useEffect)(()=>{if(!fin)return;let e=fin.Window.getCurrentSync(),n=async()=>{t(await e.getState())};return e.on("maximized",n),e.on("minimized",n),e.on("restored",n),n(),()=>{e.removeListener("maximized",n),e.removeListener("minimized",n),e.removeListener("restored",n)}},[]),e},t0=e=>{let{disabled:t=!1,iconUrl:n,tooltip:a,parentHover:i,analyticsCallback:r}=e,s=tJ(),d=(0,Y.ZP)(),c=(0,l.v9)(u.z_),p=null!=a?a:t?"Disabled":"maximized"===s?"Restore Window":"Maximize Window",g=r?()=>{r(a,b.Gi.name),tY()}:tY;return c?(0,o.jsxs)(eS.Z,{title:p,onClick:g,disabled:t,width:24,height:24,children:[n&&(0,o.jsx)(tQ.d,{iconURL:n,size:"small"}),n||"maximized"!==s?(0,o.jsx)(tF.x,{disabled:t,isEnterprise:!0,windowFocused:d,icon:"maximized"===s?"CopyIcon":"SquareIcon",size:"small"}):(0,o.jsx)(tF.x,{disabled:t,isEnterprise:!0,windowFocused:d,children:(0,o.jsx)(t8,{})})]}):(0,o.jsx)(tq,{title:p,onClick:g,disabled:t,width:12,height:12,hoverless:!0,children:d?i?(0,o.jsx)(t1,{}):(0,o.jsx)(t5,{}):(0,o.jsx)(t2,{})})},t1=()=>(0,o.jsxs)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("circle",{cx:"6.38364",cy:"6.01047",r:"5.98953",fill:"#62C554"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6769 2.79613C3.39623 2.79533 3.1685 3.02306 3.1693 3.30373L3.18099 7.40988C3.1812 7.48492 3.27193 7.52235 3.325 7.46929L7.84246 2.95183C7.89552 2.89876 7.85809 2.80803 7.78305 2.80782L3.6769 2.79613ZM9.10118 9.2356C9.38185 9.23639 9.60958 9.00867 9.60878 8.728L9.59709 4.62185C9.59688 4.54681 9.50614 4.50937 9.45308 4.56243L4.93562 9.0799C4.88255 9.13296 4.91999 9.2237 4.99503 9.22391L9.10118 9.2356Z",fill:"#296018"})]}),t5=()=>(0,o.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("circle",{cx:"6.38364",cy:"6.01047",r:"5.98953",fill:"#62C554"})}),t2=()=>(0,o.jsx)(ej.q,{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12Z",fill:"white",fillOpacity:"0.1"})}),t8=()=>(0,o.jsx)(ej.q,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M8.84211 4C7.94442 4 7.16649 4.51453 6.78207 5.26316H17.6842C18.2648 5.26316 18.7368 5.73516 18.7368 6.31579V17.2179C19.4855 16.8339 20 16.0556 20 15.1579V6.31579C20 5.03916 18.9608 4 17.6842 4H8.84211ZM6.31579 6.52632C5.04431 6.52632 4 7.57062 4 8.84211V17.6842C4 18.9557 5.04431 20 6.31579 20H15.1579C16.4294 20 17.4737 18.9557 17.4737 17.6842V8.84211C17.4737 7.57062 16.4294 6.52632 15.1579 6.52632H6.31579ZM6.31579 7.78947H15.1579C15.7466 7.78947 16.2105 8.25338 16.2105 8.84211V17.6842C16.2105 18.2729 15.7466 18.7368 15.1579 18.7368H6.31579C5.72706 18.7368 5.26316 18.2729 5.26316 17.6842V8.84211C5.26316 8.25338 5.72706 7.78947 6.31579 7.78947Z",fill:"white"})});var t6=n(7805),t3=n(9258),t9=n(4672),t7=n(1893),t4=n(2236),ne=n(7166),nt=n(1687),nn=n(6596),na=n(2426),ni=n(3144),nr=(0,p.memo)(e=>{let{tooltip:t,iconUrl:n}=e,[a,i]=(0,p.useState)(null),r=t||(null==a?void 0:a.title),s=t4.Sj[ed.dH.SaveMenu].iconProps.icon,d=(0,p.useRef)(null),[c,u]=(0,p.useState)(!1),g=(0,l.v9)(w.Dg),f=(0,p.useCallback)(()=>{(0,ne.gh)().then(e=>i(e))},[]);(0,t6.b)(f);let h=async()=>{if(!d.current)throw Error("Unable to open Save Menu (SaveButton): buttonRef.current is null");u(!0);let e=fin.Window.getCurrentSync(),{bottom:t,left:n}=d.current.getBoundingClientRect();await F.aA().Browser.wrapSync(e.identity)._openSaveButtonContextMenu({x:n+d.current.offsetWidth/2-75,y:t,buttonLeft:n,buttonWidth:d.current.offsetWidth,pageId:g.pageId}),u(!1)};return(0,o.jsx)(ni.Z,{title:r,active:c,onClick:h,ref:d,"data-testid":eI.X0.saveButton,children:(0,o.jsx)(nt.i,{customIconUrl:n,uiLibIcon:s})})}),no=n(586);let nl=(0,s.default)(d.Icon).attrs({icon:"LightBulbFilledIcon",size:"small"}).withConfig({componentId:"sc-47ddecbc-0"})(["svg path{color:",";}"],e=>{let{theme:t}=e;return t.palette.statusActive}),ns=()=>{},nd=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{if(!t4.Sj[e])return;let a=(0,l.I0)(),i=(0,Y.ZP)(),{disabled:r}=n,{t:s}=(0,C.$G)(),d=(0,p.useCallback)(()=>{(0,S.r9)()},[a]),[c]=(0,p.useState)({[ed.dH.Minimise]:n.analyticsCallback?()=>{n.analyticsCallback("Minimize Window",b.Gi.name),(0,t4.QK)()}:t4.QK,[ed.dH.Close]:d}),u=r?ns:c[n.type],g=()=>n.tooltip||(r?"Disabled":s(t4.Sj[e].tooltipKey)),[f,h]=(0,p.useState)(g()),w=(0,p.useCallback)(()=>{h(g())},[]);(0,t6.b)(w);let m=n.iconUrl;return t?(0,o.jsx)(eS.Z,{title:f,disabled:r,onClick:u,width:24,height:24,children:m?(0,o.jsx)(nt.i,{customIconUrl:m}):(0,o.jsx)(tF.x,{disabled:r,isEnterprise:!0,windowFocused:i,...t4.Sj[e].iconProps})}):(0,o.jsx)(tq,{title:f,disabled:r,onClick:u,width:12,height:12,hoverless:!0,children:(0,o.jsx)(()=>{let t;return t=i?n.parentHover?t4.Sj[e].macIconHover:t4.Sj[e].macIcon:t4.Sj[e].macIconInactive,(0,o.jsx)(t,{})},{})})}},nc={[ed.dH.ColorLinking]:t3.Z,[ed.dH.PresetLayouts]:e=>{let{tooltip:t,iconUrl:n}=e,[a,i]=(0,p.useState)(null),r=t||(null==a?void 0:a.title),s=t4.Sj[ed.dH.PresetLayouts].iconProps.icon,d=(0,l.v9)(w.Dg),c=!!(null==d?void 0:d.isLocked),{t:u}=(0,C.$G)(),g=(0,p.useCallback)(()=>{let e=u("toolbar.changeLayout");(0,ne.Ln)(e).then(e=>i(e))},[]);return((0,t6.b)(g),a)?(0,o.jsx)(t7.Z,{type:t9.v.LAYOUT,config:a,params:null,tooltip:r,disabled:c,children:(0,o.jsx)(nt.i,{customIconUrl:n,uiLibIcon:s,disabled:c})}):null},[ed.dH.SaveMenu]:nr,[ed.dH.SavePage]:nr,[ed.dH.ShowHideTabs]:e=>{let{tabsHiddenIconUrl:t,tabsShownIconUrl:n}=e,[a,i]=(0,p.useState)(!0),r=(0,l.v9)(w.Dg),s=!!r.isLocked,d=(0,p.useRef)(null),{t:c}=(0,C.$G)();(0,p.useEffect)(()=>{let e=fin.Window.getCurrentSync(),t=async()=>{let e=(0,no.e)({...b.Gi,layoutName:r.layoutContainerKey});i(await e.isShowingTabs())};return e.addListener("layout-ready",t),()=>{e.removeListener("layout-ready",t)}},[r]);let u=c(a?"toolbar.hideTabs":"toolbar.showTabs"),g=(0,p.useCallback)(async()=>{var e;await (0,t4.qM)({...b.Gi,layoutName:r.layoutContainerKey}),null===(e=d.current)||void 0===e||e.focus()},[r]);return(0,o.jsx)(eS.Z,{ref:d,title:u,disabled:s,onClick:g,children:s?a?(0,o.jsx)(nt.i,{customIconUrl:null==n?void 0:n.disabled,disabled:!0,uiLibIcon:"LightBulbOutlinedIcon",size:"small"}):(0,o.jsx)(nt.i,{customIconUrl:null==t?void 0:t.disabled,disabled:!0,uiLibIcon:"LightBulbFilledIcon",size:"small"}):a?(0,o.jsx)(nt.i,{customIconUrl:null==n?void 0:n.enabled,uiLibIcon:"LightBulbOutlinedIcon",size:"small"}):(null==n?void 0:n.enabled)?(0,o.jsx)(nt.i,{customIconUrl:null==t?void 0:t.enabled,uiLibIcon:"LightBulbFilledIcon",size:"small"}):(0,o.jsx)(nl,{})})},[ed.dH.LockUnlockPage]:e=>{let{lockedIconUrl:t,unlockedIconUrl:n}=e,a=(0,l.I0)(),[i,r]=(0,l.v9)(w.BF),s=i.parentIdentity,d=(0,p.useRef)(null),{t:c}=(0,C.$G)(),u=async()=>{var e;let t=fin.Platform.Layout.getCurrentSync(),n=await t.getConfig(),o=i.isLocked?(0,h.SP)(n,i.layout):n,l={...i,isLocked:!i.isLocked,layout:o};a((0,w.Qm)({index:r,page:l})),await (0,na.w)(o,l),await fin.me.focus(),null===(e=d.current)||void 0===e||e.focus(),(0,nn.s$)({message:c(i.isLocked?"successIndicator.unlocked":"successIndicator.locked"),parentBrowserName:s.name})};return(0,o.jsx)(eS.Z,{ref:d,title:c(i.isLocked?"toolbar.unlock":"toolbar.lock"),onClick:u,children:i.isLocked?(0,o.jsx)(nt.i,{customIconUrl:t,uiLibIcon:"LockClosedIcon","data-testid":eI.LI}):(0,o.jsx)(nt.i,{customIconUrl:n,uiLibIcon:"LockOpen1Icon","data-testid":eI.Wx})})},[ed.dH.Minimise]:nd(ed.dH.Minimise),[ed.dH.Maximise]:e=>{let{disabled:t=!1,iconUrl:n,tooltip:a,analyticsCallback:i}=e,r=i?()=>{i(a,b.Gi.name),tY()}:tY;return(0,o.jsx)(eS.Z,{title:a,onClick:r,disabled:t,children:n?(0,o.jsx)(tQ.d,{iconURL:n,size:"small"}):(0,o.jsx)(tF.x,{disabled:t,icon:"SizeIcon",size:"small"})})},[ed.dH.Close]:nd(ed.dH.Close)},nu=e=>{let t;let{t:n}=(0,C.$G)(),a=(0,l.v9)(u.z_);(0,p.useEffect)(()=>{nc[ed.dH.Minimise]=nd(ed.dH.Minimise,a),nc[ed.dH.Close]=nd(ed.dH.Close,a)},[a]);let i=(0,p.useCallback)(e=>{(0,y.sS)({type:"Toolbar",action:"Select Toolbar Item",value:e.id,data:{uuid:b.Gi.uuid}})},[]),r=(0,p.useCallback)((e,t)=>{(0,y.sS)({type:"Window",action:e,value:t})},[]);if(e.type===ed.dH.Custom)return(0,o.jsx)(tW.T,{children:(0,o.jsx)(tX,{tooltip:e.tooltip,iconUrl:e.iconUrl,action:e.action,disabled:e.disabled,analyticsCallback:i})});if(e.type===ed.dH.Maximise){var s;let t=n("maximized"===e.windowState?"toolbar.restoreWindow":"toolbar.maximizeWindow");return(0,o.jsx)(tW.T,{children:(0,o.jsx)(t0,{disabled:e.disabled,iconUrl:e.iconUrl,tooltip:null!==(s=e.tooltip)&&void 0!==s?s:t,analyticsCallback:r,parentHover:e.parentHover})})}return t=e.disabled?nd(e.type,a):nc[e.type]||(()=>null),(0,o.jsx)(tW.T,{children:(0,o.jsx)(t,{...e})})},np=()=>(0,o.jsx)(ej.q,{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12Z",fillOpacity:"0.1"})});t4.Sj[ed.dH.Minimise]={...t4.Sj[ed.dH.Minimise],macIcon:()=>(0,o.jsx)("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("circle",{cx:"5.98953",cy:"6.01047",r:"5.98953",fill:"#F4BF4F"})}),macIconHover:()=>(0,o.jsxs)("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("circle",{cx:"5.98953",cy:"6.01047",r:"5.98953",fill:"#F4BF4F"}),(0,o.jsx)("rect",{x:"2.36212",y:"5.58865",width:"7.33929",height:"0.927956",rx:"0.463978",fill:"#8F5A1D"})]}),macIconInactive:np},t4.Sj[ed.dH.Close]={...t4.Sj[ed.dH.Close],macIcon:()=>(0,o.jsx)("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("circle",{cx:"5.98953",cy:"6.01047",r:"5.98953",fill:"#EC6A5F"})}),macIconHover:()=>(0,o.jsxs)("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("circle",{cx:"5.98953",cy:"6.01047",r:"5.98953",fill:"#EC6A5F"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.35407 3.375C3.17287 3.5562 3.17287 3.84997 3.35407 4.03117L5.29274 5.96984L3.35407 7.90851C3.17287 8.0897 3.17287 8.38348 3.35407 8.56467C3.53526 8.74587 3.82904 8.74587 4.01023 8.56467L5.9489 6.626L7.88756 8.56466C8.06876 8.74585 8.36253 8.74585 8.54373 8.56466C8.72492 8.38347 8.72492 8.08969 8.54372 7.9085L6.60506 5.96984L8.54373 4.03118C8.72492 3.84998 8.72492 3.55621 8.54373 3.37501C8.36253 3.19382 8.06876 3.19382 7.88756 3.37501L5.9489 5.31367L4.01023 3.375C3.82904 3.19381 3.53526 3.19381 3.35407 3.375Z",fill:"#8C1A11"})]}),macIconInactive:np};var ng=()=>{let[e,t]=(0,p.useState)([]),n=(0,p.useCallback)(e=>e&&"object"==typeof e&&e.buttons?e:t4.UH,[]);return tU((0,p.useCallback)(e=>{let{toolbarOptions:a}=e;return t(n(a).buttons)},[n,t]),(0,p.useCallback)(e=>{let a=null==e?void 0:e.toolbarOptions;a&&"object"==typeof a&&t(n(a).buttons)},[n,t])),(0,o.jsx)(o.Fragment,{children:e.map((e,t)=>(0,p.createElement)(nu,{...e,key:t}))})},nf=()=>{let[e,t]=(0,p.useState)([]),[n,a]=(0,p.useState)(!1),i=(0,Y.ZP)(),r=(0,l.v9)(u.z_),s=(0,p.useCallback)(e=>e&&"object"==typeof e&&e.buttons?e:r?t4.w9:t4.BE,[r]);tU((0,p.useCallback)(e=>{let{windowStateButtonOptions:n}=e;return t(s(n).buttons)},[s,t]),(0,p.useCallback)(e=>{let n=null==e?void 0:e.windowStateButtonOptions;n&&"object"==typeof n&&t(s(n).buttons)},[s,t]));let d=(0,p.useCallback)(()=>{a(!0)},[]),c=(0,p.useCallback)(()=>{a(!1)},[]),g=tJ();return(0,o.jsx)(nh,{onMouseOver:d,onMouseLeave:c,windowFocused:i,isWindows:r,"data-testid":"enterprise-window-state",children:e.map((e,t)=>(0,p.createElement)(nu,{windowState:g,...e,key:t,parentHover:n}))})};let nh=(0,s.default)(d.Box).withConfig({componentId:"sc-4077c377-0"})(["flex-direction:row;padding:0px 12px 0px 12px;row-gap:",";gap:",";align-items:center;border-right:",";border-bottom:",";"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t,isWindows:n}=e;return n?"none":"1px solid ".concat(t.palette.background4)},e=>{let{theme:t,isWindows:n}=e;return!n&&"1px solid ".concat(t.palette.background5)});var nw=()=>{let e=(0,l.v9)(u.z_),t=(0,Y.ZP)(),n=(0,tK.Z)(),{isAICompanionEnabled:a}=(0,tM.h5)(),{isBookmarksEnabled:i}=(0,eJ.YV)();return(0,o.jsxs)(nm,{children:[(0,o.jsx)(ng,{}),n&&(0,o.jsx)(tT.Z,{windowFocused:t,"data-testid":eI.X0.notificationsButton}),a&&(0,o.jsx)(tV,{}),i&&(0,o.jsx)(tN,{}),(0,o.jsx)(tG,{}),e&&(0,o.jsx)(nf,{})]})};let nm=(0,s.default)(d.Box).withConfig({componentId:"sc-d3eb0b5d-0"})(["display:flex;align-items:center;flex-shrink:0;margin-right:0px;border-bottom:",";"],e=>{let{theme:t}=e;return"1px solid ".concat(t.palette.background5)});var nv=n(6940),ny=n(3441),nx=n(3266);let nb=(e,t)=>e.pageX>=t.left&&e.pageX<=t.right&&e.pageY>=t.top&&e.pageY<=t.bottom,nC=()=>ny.getItem(nx.Z.PageDragState),nk=e=>{null!==e?ny.setItem(nx.Z.PageDragState,e):ny.removeItem(nx.Z.PageDragState)},nI=async()=>{let e=await fin.Platform.Layout.getCurrentSync().getCurrentViews();1===e.length&&fin.View.wrapSync(e[0].identity).hide()},nS=e=>{let t=e.dataTransfer.getData("view-identity");return t?JSON.parse(JSON.parse(t)[0]):null},nL=e=>e.dataTransfer.types.some(e=>e.startsWith("view-identity")),nE=e=>nv.encode("fin".concat(e?"/enterprise":"","/page/uuid:").concat(b.Gi.uuid)).toLowerCase(),nj=e=>{let t=e.replace("payload:","").toUpperCase();return JSON.parse(nv.decode(t))},nP=e=>"payload:".concat(nv.encode(JSON.stringify(e)));var nB=n(2203),nD=n(3201),nA=n(7016);let nT=(e,t,n,a)=>{(0,p.useEffect)(()=>{if(n){let t=(0,b.lQ)();return t.addListener("view-attached",e),t.addListener("view-detached",e),()=>{t.removeListener("view-attached",e),t.removeListener("view-detached",e)}}},[n,e]),(0,p.useEffect)(()=>{n&&e()},[a,t.layoutContainerKey])},nR=()=>{let[e,t]=(0,p.useState)([]);return(0,p.useEffect)(()=>{fin.me.interop.getContextGroups().then(e=>t(e))},[]),e},nH=e=>{let[t,n]=(0,p.useState)(null),[a,i]=(0,p.useState)(null),[r,o]=(0,p.useState)(!1),l=(0,p.useRef)({x:0,y:0}),s=(0,p.useRef)(!1),d=(0,p.useCallback)(async e=>{s.current=!0,await (0,F.aA)().Browser.wrapSync(b.Gi).setActivePage(e).finally(()=>{s.current=!1})},[s]),c=(0,p.useMemo)(()=>B()(d,500,{leading:!0,trailing:!1}),[d]),u=(0,p.useCallback)(async(a,o)=>{let{pageId:d,isActive:u}=o,p=a.dataTransfer.types.find(e=>e.startsWith(nE(!0)));if(!r)return;let g=a.currentTarget.getBoundingClientRect(),f=a.pageX,h=a.pageY,w=e.findIndex(e=>e.pageId===d),m=a.currentTarget,v=(e,t,n)=>{let a=n.left+.3*n.width,i=n.left+.7*n.width;return e>a&&e<i&&t>n.top&&t<n.bottom};if(nL(a)&&v(f,h,g)){var y;let e=a.dataTransfer.types.find(e=>e.startsWith("payload")),t=e?nj(e):null,r=(null==t?void 0:null===(y=t.sourceIdentity)||void 0===y?void 0:y.name)!==b.Gi.name||p;setTimeout(async()=>{let e=null==m?void 0:m.getBoundingClientRect();e&&v(l.current.x,l.current.y,e)&&(n(null),i(w),u||!r||s.current||c(d),l.current={x:0,y:0})},500);return}{i(null);let e=(g.left+g.right)/2;t!==w&&f<e?n(w):t!==w+1&&f>e&&n(w+1)}},[r,e,t,c,s]);return(0,p.useEffect)(()=>{let e=e=>{l.current={x:e.clientX,y:e.clientY}};return document.addEventListener("dragover",e,{capture:!0}),()=>document.removeEventListener("dragover",e,{capture:!0})},[]),{onPageDragOver:u,dropIndicatorPosition:t,isShowingDropIndicator:r,setIsShowingDropIndicator:o,hoveredPageIndex:a}},nM=()=>{(0,p.useEffect)(()=>{let e=fin.Window.getCurrentSync(),t=e=>{let t=(0,w.xN)((0,k.y0)()),n=t.findIndex(t=>(null==t?void 0:t.singleViewName)===e.viewIdentity.name);if(-1!==n){let a=t[n],i=e.favicons[0];console.debug("Updating Page Icon for:",{pageId:a.pageId,newIcon:i}),(0,k.WI)((0,w.Qm)({index:n,page:{...a,pageIcon:i}}))}};return e.addListener("view-page-favicon-updated",t),()=>{e.removeListener("view-page-favicon-updated",t)}},[])};var nZ=e=>{let[t,n]=(0,p.useState)("");return((0,p.useEffect)(()=>{if(e.singleViewName){let t=fin.View.wrapSync({uuid:fin.me.uuid,name:e.singleViewName}),a=e=>{n(e.title)};return t.on("page-title-updated",a),t.getInfo().then(e=>{let{title:t}=e;return n(t)}),()=>{t.removeListener("page-title-updated",a)}}n(null)},[e.layoutContainerKey,e.singleViewName]),e.attachedPageType)?e.singleViewName?t:e.title:""};function nV(){let[e,t]=(0,p.useState)(""),[n,a]=(0,p.useState)(null),i=(0,l.v9)(w.Dg),r=(0,l.v9)((0,E.RS)(i.layoutContainerKey)),o=(0,l.v9)((0,E.aG)(i.layoutContainerKey)),s=nZ(i)+" - Here";return(0,p.useEffect)(()=>{r&&o?a({name:r,uuid:o}):a(null)},[r,o]),(0,p.useEffect)(()=>{let e=async()=>{t(s)},n=(0,b.lQ)(),a=t=>{var n,a;if(!t.diff.workspacePlatform)return;let{oldVal:i,newVal:r}=t.diff.workspacePlatform;(null==i?void 0:null===(n=i.title)||void 0===n?void 0:n.type)!==(null==r?void 0:null===(a=r.title)||void 0===a?void 0:a.type)&&e()},i=()=>{e()};return e(),n.on("options-changed",a),n.on("view-page-title-updated",i),()=>{n.removeListener("options-changed",a),n.removeListener("view-page-title-updated",i)}},[null==i?void 0:i.pageId,null==i?void 0:i.title,null==n?void 0:n.name,s]),e}let nN=(0,s.default)(tQ.d).withConfig({componentId:"sc-a6ccee52-0"})(["height:",";width:",";",""],e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.large},e=>{let{isLoading:t}=e;return t&&(0,s.css)(["height:12px;width:12px;border-radius:50%;"])}),n_=(0,s.default)(d.Icon).attrs({icon:"DotFilledIcon",size:"large"}).withConfig({componentId:"sc-a6ccee52-1"})([""]),nW=s.default.button.withConfig({componentId:"sc-a6ccee52-2"})(["background:transparent;display:flex;align-items:center;overflow:hidden;flex-grow:1;cursor:default;"]),nz=s.default.button.withConfig({componentId:"sc-a6ccee52-3"})(["width:",";margin-right:",";background:transparent;opacity:",";z-index:1;",""],e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.small},e=>{let{disabled:t}=e;return t?"0.5":void 0},e=>{let{theme:t,isEnterprise:n,isSchemeDark:a,hideCloseButton:i}=e;return n&&(0,s.css)(["cursor:default;border-radius:",";height:",";flex-shrink:0;div{margin:auto;}"," svg{margin-top:-",";margin-left:-",";opacity:0.9;}:hover{background-color:",";}"],t.px.xsmall,t.px.large,n_,t.px.xsmall,t.px.xsmall,!i&&(a?t.palette.background5:t.palette.background3))}),nO=s.default.div.withConfig({componentId:"sc-a6ccee52-4"})(["width:",";min-width:",";margin-right:",";align-items:center;justify-content:center;"],e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.xsmall});var nG=e=>{let{options:t,parentHover:n,page:a,pageActive:i,isEnterprise:r,hideCloseButton:l,...s}=e;if(null==t?void 0:t.hidden)return(0,o.jsx)(d.Box,{padding:"xsmall"});let{hasUnsavedChanges:c,unsavedIconUrl:u}=a,p=(0,h.nv)(a.layout.content);return r&&p>1&&c&&(!n||l)?(0,o.jsx)(nz,{isEnterprise:!0,hideCloseButton:l,...s,children:u?(0,o.jsx)(nN,{iconURL:u,"data-testid":"unsavedChangesIcon"}):(0,o.jsx)(n_,{"data-testid":"unsavedChangesIcon"})}):!r||i||n&&!l?(0,o.jsx)(nz,{isEnterprise:r,hideCloseButton:l,...s,children:(0,o.jsx)(d.Icon,{icon:"Cross2Icon",size:"small"})}):(0,o.jsx)(o.Fragment,{})};let nK=(e,t,n,a)=>{let i=t?n?"background3":"background1":n?"background1":"background2";return a?(0,s.css)(["background:linear-gradient( 90deg,rgb(from "," r g b / 0%) 0%,rgb(from "," r g b / 50%) 24%,rgb(from "," r g b / 100%) 46% );"],e.palette[i],e.palette[i],e.palette[i]):(0,s.css)(["background:linear-gradient( 90deg,rgb(from "," r g b / 0%) 52%,rgb(from "," r g b / 50%) 74%,rgb(from "," r g b / 100%) 92% );"],e.palette[i],e.palette[i],e.palette[i])},nU=s.default.div.withConfig({componentId:"sc-406f3196-0"})(["align-items:center;border:0;display:",";flex-shrink:0;max-height:100%;"],e=>{let{isDragging:t}=e;return t?"none":"flex"}),nq=(0,s.default)(nU).withConfig({componentId:"sc-406f3196-1"})(["flex:1 1 100%;align-items:center;justify-content:center;border-right:1px solid ",";border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:",";background-color:",";background-clip:",";position:relative;padding-left:",";gap:",";min-width:40px;max-width:180px;width:180px;overflow:hidden;white-space:nowrap;"," & > *{opacity:",";}&:hover span{opacity:1;}&:hover{background-color:",";}&::before{content:'';display:",";position:absolute;height:100%;width:100%;right:0;left:0;top:0;background-color:",";opacity:0.25;z-index:2;}&::after{content:'';display:block;position:absolute;right:0px;height:",";width:",";","}&:hover:after{","}&.dragging-page-clone:after{","}&.page-tab-condensed-sm{padding:0 6px;","{margin-right:unset;display:",";}",":only-child{display:",";}","{display:none;}","{margin-right:0;display:",";}&::after{display:none;}&:hover:after{","}}&.page-tab-condensed-md,&.page-tab-condensed-lg{div:empty + ","{display:inherit;}","{display:",";}}&.page-tab-condensed-md ","{display:",";}&.page-tab-condensed-md,&.page-tab-condensed-lg{&:hover:after{","}}"],e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t,isActive:n,isSchemeDark:a,shouldHideBottomBorder:i}=e;return n&&i?a?t.palette.background3:t.palette.background1:t.palette.background5},e=>{let{theme:t,isActive:n,isSchemeDark:a}=e;return n?a?t.palette.background3:t.palette.background1:a?t.palette.background1:t.palette.background2},e=>{let{isSingleView:t}=e;return t&&"padding-box"},e=>{let{theme:t}=e;return t.px.base},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{isDropRegion:t}=e;return t?(0,s.css)(["border:2px solid ",";"],e=>{let{theme:t}=e;return t.palette.statusActive}):(0,s.css)(["border-right:1px solid ",";border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:",";"],e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t,isActive:n,isSchemeDark:a,shouldHideBottomBorder:i}=e;return n&&i?a?t.palette.background3:t.palette.background1:t.palette.background5})},e=>{let{windowFocused:t}=e;return!t&&"0.5"},e=>{let{theme:t,isActive:n,isSchemeDark:a}=e;return!n&&(a?t.palette.background3:t.palette.background1)},e=>{let{isDropRegion:t}=e;return t?"block":"none"},e=>{let{theme:t}=e;return t.palette.statusActive},e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.xxxxlarge},e=>{let{theme:t,isSchemeDark:n,isActive:a,pageHasUnsavedChanges:i}=e;return nK(t,n,a,a||i)},e=>{let{theme:t,isSchemeDark:n}=e;return nK(t,n,!0,!0)},e=>{let{theme:t,isSchemeDark:n}=e;return nK(t,n,!1,!0)},nO,e=>{let{isActive:t,pageHasUnsavedChanges:n}=e;return(t||n)&&"none"},nW,e=>{let{isActive:t}=e;return!t&&"inherit"},nW,nz,e=>{let{isActive:t,pageHasUnsavedChanges:n}=e;return!(t||n)&&"none"},e=>{let{theme:t,isSchemeDark:n,isActive:a,pageHasUnsavedChanges:i}=e;return nK(t,n,!0,a||i)},nW,nz,e=>{let{isActive:t,pageHasUnsavedChanges:n}=e;return!(t||n)&&"none"},nO,e=>{let{isActive:t,pageHasUnsavedChanges:n}=e;return(t||n)&&"none"},e=>{let{theme:t,isSchemeDark:n,isActive:a,pageHasUnsavedChanges:i}=e;return nK(t,n,!0,a||i)});var nF=n(7655),nQ=n(4201),nY=n(6540);let n$=e=>{var t,n;let{page:a}=e,i=a.pageIcon;!function(e){let t=(0,l.I0)(),{layoutContainerKey:n}=e;(0,p.useEffect)(()=>()=>{t((0,nY.Bp)({layoutContainerKey:n}))},[n,t]);let a=(0,p.useMemo)(()=>e.singleViewName?{uuid:fin.me.uuid,name:e.singleViewName}:null,[e.singleViewName]);(0,p.useEffect)(()=>{if(!a)return;let e=!1,i=fin.View.wrapSync(a),r=a.name;function o(){t((0,nY.TU)({layoutContainerKey:n,viewName:r}))}function l(){t((0,nY.TU)({layoutContainerKey:n,viewName:r}))}async function s(e){try{e.isInPage||t((0,nY.Cb)({layoutContainerKey:n,viewName:r,url:e.url}))}catch(e){console.warn("Could not get view info:",e)}}return Promise.all([i.addListener("url-changed",s),i.addListener("did-finish-load",o),i.addListener("did-fail-load",l)]).then(async()=>{if(!e){let e=await fin.View.wrapSync(a).getInfo();e.url.length&&t((0,nY.bJ)({layoutContainerKey:n,viewName:a.name,url:e.url}))}}),()=>{e=!0,i.removeListener("url-changed",s),i.removeListener("did-finish-load",o),i.removeListener("did-fail-load",l)}},[t,a,n])}(a);let r=(0,l.v9)((0,nY.K0)(a.layoutContainerKey)),s="singleView"===a.attachedPageType,c=!!(null==r?void 0:r.canShow)||i||"multiView"===a.attachedPageType,u=s&&(null==r?void 0:null===(t=r.currentView)||void 0===t?void 0:t.isNewTab),g=s&&(null==r?void 0:null===(n=r.currentView)||void 0===n?void 0:n.isLoading),f=(0,p.useMemo)(()=>s?i&&!g?(0,o.jsx)(nN,{applyThemeColor:!1,iconURL:i,"data-testid":"pageIcon",size:"small"}):(0,o.jsx)(n0,{icon:"EnterpriseGlobeIcon",$isLoading:!!s&&g,"data-testid":"pageIcon"}):(0,o.jsx)(d.Icon,{icon:"SupertabIcon","data-testid":"pageIcon"}),[i,s,g]);return(0,o.jsx)(o.Fragment,{children:c&&!u&&(0,o.jsx)(nO,{children:(0,o.jsxs)(nX,{children:[s&&g&&(0,o.jsx)(nJ,{children:(0,o.jsx)(nQ.Z,{size:17.6,thickness:1.25})}),f]})})})},nX=s.default.div.withConfig({componentId:"sc-19246238-0"})(["display:flex;align-items:center;justify-content:center;position:relative;"]),nJ=s.default.div.withConfig({componentId:"sc-19246238-1"})(["display:flex;position:absolute;"]),n0=(0,s.default)(d.Icon).withConfig({componentId:"sc-19246238-2"})(["",""],e=>{let{$isLoading:t}=e;return t&&"\n        width: 12px;\n        height: 12px;\n    "}),n1=(0,s.default)(nF.Z).withConfig({componentId:"sc-16d2436-0"})(["white-space:nowrap;overflow:hidden;opacity:",";"],e=>{let{isActive:t}=e;return t?"1":"0.65"}),n5=(0,s.default)(d.Box).withConfig({componentId:"sc-16d2436-1"})(["width:4px;height:16px;background:",";border-radius:2px;flex:0 0 auto;"],e=>{let{color:t}=e;return t});var n2=e=>{let{page:t,onClick:n,onDragStart:a,onDragEnd:i,onCloseClick:r,dragDisabled:l,onDragOver:s,isBeingReordered:d,isDropRegion:c,colorChannel:u}=e,{t:g}=(0,C.$G)(),{isSchemeDark:f}=(0,Q.Z)(),h=(0,Y.ZP)(),[w,m]=(0,p.useState)(!1),v=ee(t.pageId),{isActive:y}=t,[x,b]=(0,p.useState)(""),k=!y&&!!x,I=et(t),L=nZ(t),E=(0,p.useRef)();(0,p.useEffect)(()=>{let e=E.current;if(e){let t=new ResizeObserver(()=>{40===e.offsetWidth?b("page-tab-condensed-sm"):e.offsetWidth<60?b("page-tab-condensed-md"):e.offsetWidth<=72?b("page-tab-condensed-lg"):e.offsetWidth>72&&b("")});return t.observe(e),()=>{t.unobserve(e)}}},[]);let j=(0,Y.o0)(),P=(0,p.useCallback)(async e=>{e.preventDefault();let{clientX:n,clientY:a}=e;j("focused",async()=>{await (0,M.a)().Browser.wrapSync(fin.me.identity)._openPageTabContextMenu({x:n,y:a,pageId:t.pageId,rect:E.current.getBoundingClientRect()})})},[j]),B=async e=>{1===e.button&&(0,S.jq)({pageId:t.pageId})},D=(0,p.useCallback)(()=>{m(!0)},[]),A=(0,p.useCallback)(()=>{m(!1)},[]);return(0,o.jsxs)(nq,{className:x,id:t.pageId,title:L,"data-testid":eI.QW.pageTabButton,"aria-selected":y,onAuxClick:B,draggable:!0,onClick:n,onDragStart:a,onDragOver:s,onDragEnd:i,onMouseOver:D,onMouseLeave:A,onContextMenu:P,dragDisabled:l,windowFocused:h,isSchemeDark:f,isActive:y,pageHasUnsavedChanges:t.hasUnsavedChanges&&!v,isSingleView:v,isDragging:d,isDropRegion:c,shouldHideBottomBorder:I,ref:E,children:[u&&(0,o.jsx)(n5,{color:u.displayMetadata.color}),void 0!==t.attachedPageType&&(0,o.jsx)(n$,{page:t}),(0,o.jsx)(nW,{"aria-label":g("aria.viewTab",{title:L}),blurredText:!y,dragDisabled:l,role:"tab",children:(0,o.jsx)(n1,{isActive:y,children:L})}),(0,o.jsx)(nG,{"data-testid":eI.QW.pageTabCloseButton,"aria-label":g("aria.closePage",{title:L}),role:"button",page:t,options:t.closeButton,onClick:e=>{k||(e.stopPropagation(),r())},parentHover:w,pageActive:y,isEnterprise:!0,isSchemeDark:f,hideCloseButton:k})]})},n8=n(1282);let n6=(0,s.css)(["background-color:",";border:1px solid ",";border-radius:",";min-width:0;width:12px;max-width:12px;padding:0;box-sizing:border-box;position:relative;overflow:visible;margin:",";height:",";flex-shrink:0;*{display:none;}",""],e=>{let{theme:t}=e;return(0,s.css)(["rgb(from "," r g b / 30%)"],t.palette.brandPrimary)},e=>{let{theme:t}=e;return t.palette.brandPrimary},e=>{let{theme:t}=e;return t.radius.small},e=>{let{isEnterprise:t}=e;return t&&"2px 3px 0px 2px"},e=>{let{isEnterprise:t,theme:n}=e;return t?"36px":n.px.xxlarge},e=>{let{theme:t,shouldHideRightBorder:n}=e;return(0,s.css)(["&::before,&::after{content:'';position:absolute;box-sizing:content-box;}&::before{border-bottom:1px solid ",";height:","px;width:17px;left:-3px;bottom:-4px;}&::after{display:",";border-right:1px solid ",";height:","px;right:-4px;bottom:-3px;}&:last-child::after{display:none;}"],t.palette.background5,e0.b7,n&&"none",t.palette.background5,e0.b7)}),n3=s.default.div.withConfig({componentId:"sc-12c1798b-0"})(["",""],n6);var n9=e=>{let{indicatorPosition:t,children:n,shouldShowIndicator:a}=e,{isEnterprise:i}=(0,p.useContext)(m.B6),r=p.Children.toArray(n);return(0,o.jsx)(o.Fragment,{children:r.flatMap((e,n)=>{let l=n===r.length-1,s=(0,o.jsx)(n3,{isEnterprise:i,shouldHideRightBorder:l});if(a){if(t===n)return[s,e];if(t===n+1&&n===r.length-1)return[e,s]}return e})})};let n7=(e,t)=>({isLocked:!!(null==t?void 0:t.isLocked),preventPageDragIn:!!(null==t?void 0:t.preventPageDragIn),preventPageDragOut:!!(null==t?void 0:t.preventPageDragOut),preventPageDrag:!!(null==t?void 0:t.preventPageDrag),preventPageClose:!!(null==t?void 0:t.preventPageClose),disableMultiplePages:!!(null==t?void 0:t.disableMultiplePages),documentTitle:(null==t?void 0:t.title)||"",isNewPageButtonEnabled:!!(null==t?void 0:t.newPageUrl)}),n4=(0,p.forwardRef)((e,t)=>{let{isEnterprise:n,...a}=e;return(0,o.jsx)(at,{ref:t,...a})});n4.displayName="Container";let ae=(0,s.default)(d.Box).withConfig({componentId:"sc-4341209f-0"})(["-webkit-app-region:no-drag;user-select:auto;display:inline-flex;overflow:hidden;position:relative;.plusButton{flex-shrink:0;}"]),at=(0,s.default)(ae).withConfig({componentId:"sc-4341209f-1"})(["align-items:center;.plusButton{width:",";height:100%;margin-left:0px;padding-left:",";border-bottom:1px solid ",";&:hover{cursor:pointer;background-color:",";border-radius:",";}}.plusButtonOB1{border-top:rgba(255,255,255,0.1);border-bottom:rgba(255,255,255,0.26);svg{height:16px;width:16px;}}"],e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background4},e=>{let{theme:t}=e;return t.px.xsmall}),an=(0,s.default)(d.Box).attrs(e=>({role:"tablist"})).withConfig({componentId:"sc-4341209f-2"})([""," overflow:auto;padding:0px;height:100%;gap:0px;"," .","{","}"],d.Mixins.scrollbar.small,()=>(0,nA.n)({scrollbarSize:"0px"}),"dropzone",n6),aa=s.default.div.withConfig({componentId:"sc-4341209f-3"})(["display:flex;flex-direction:column;justify-content:center;padding-left:8px;width:",";height:100%;border-bottom:1px solid ",";button{opacity:",";&:active{background:",";}}"],e=>{let{theme:t}=e;return t.px.xxxlarge},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{windowFocused:t}=e;return!t&&"0.5"},e=>{let{theme:t}=e;return t.palette.background4}),ai=s.default.div.withConfig({componentId:"sc-4341209f-4"})(["align-items:center;border:0;border-radius:",";box-sizing:border-box;display:flex;flex-shrink:0;max-height:100%;-webkit-app-region:drag;"],e=>{let{theme:t}=e;return t.radius.small});var ar=()=>{let{t:e}=(0,C.$G)(),t=(0,Y.ZP)(),n=nV(),a=(0,l.v9)(w.xN),i=(0,l.v9)(w.Bf),r=(0,l.v9)(w.AB),s=(0,l.v9)(w.Dg),c=(0,l.v9)(e=>(0,E.TP)(e,null==s?void 0:s.pageId)).at(0),u=null==c?void 0:c.name,g=(0,l.v9)(w.Ac),{onPageDragOver:f,dropIndicatorPosition:v,isShowingDropIndicator:x,setIsShowingDropIndicator:I,hoveredPageIndex:L}=nH(a),j=(0,p.useRef)(null),P=(0,p.useRef)(null),B=p.useRef(!1),[D,A]=(0,p.useState)(!1),[T,R]=p.useState(null),[H,Z]=(0,p.useState)(""),{setIsAcceptingLayoutDrag:V}=(0,p.useContext)(m.$U),[N,W]=p.useReducer(n7,{isLocked:!1,preventPageDragIn:!1,preventPageDragOut:!1,preventPageDrag:!1,preventPageClose:!1,disableMultiplePages:!1,documentTitle:"",isNewPageButtonEnabled:!1}),O=(0,p.useCallback)(()=>{A(P.current.clientWidth<P.current.scrollWidth)},[]);(0,p.useEffect)(()=>(window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)),[O]),(0,p.useEffect)(()=>{O()},[a.length,O]),(0,p.useEffect)(()=>{var e;null===(e=document.getElementById(s.pageId))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"}),console.log(c),c?z({viewIdentity:c,type:"view-focused"}):_()},[u]);let G=(0,p.useCallback)(async()=>{!s||i||r||await (0,h.K1)(s)},[i,r,s]),K=async()=>await fin.Window.getCurrentSync().bringToFront();nT(G,s,!0,i);let U=(0,p.useCallback)(async e=>{(null==s?void 0:s.pageId)!==e.pageId&&await (0,M.a)().Browser.wrapSync(b.Gi).setActivePage(e.pageId)},[s]),q=()=>{let e=document.getElementsByClassName("lm_dropTargetIndicator"),t=document.getElementsByClassName("lm_transition_indicator");if(e)for(let t=0;t<e.length;t++)e[t].setAttribute("style","");if(t)for(let e=0;e<t.length;e++)t[e].setAttribute("style","")};(0,p.useEffect)(()=>{T===s.pageId?V(!1):V(!0)},[null==s?void 0:s.pageId,T]);let F=(0,p.useCallback)(async()=>{if(B.current)return;B.current=!0;let e=await (0,es.cC)(),t=(0,M.a)().Browser.wrapSync(b.Gi),{newPageUrl:n}=await (0,es.ej)();try{Z("New tab ".concat(e.title?e.title:""," added. The tab group now has ").concat(a.length+1," tabs.")),await t._addDefaultPage({identity:b.Gi,page:e,newPageUrl:n||void 0}),(0,y.sS)({type:"Page Section",action:"Select New Page",value:"New Page",skipValueHashing:!0})}catch(e){console.error("Failed to add new page",e)}finally{B.current=!1}},[a.length]),Q=(0,p.useCallback)(async(e,t)=>{if(N.preventPageDrag){e.preventDefault();return}if((0,w.xN)((0,k.y0)()).length>1&&!N.preventPageDragOut){let n=e.target,a=n.getBoundingClientRect(),i=e.target.cloneNode(!0);i.style.cssText="\n                    position: absolute;\n                    top: -99999px; /* Hide the clone from the viewport */\n                    height: ".concat(a.height,"px;\n                    width: ").concat(a.width,"px;\n                "),s.pageId!==t.pageId&&n.scrollWidth>72&&i.classList.add("dragging-page-clone"),document.body.appendChild(i),e.dataTransfer.setDragImage(i,0,0),setTimeout(()=>document.body.removeChild(i),0)}if(N.preventPageDragOut||e.dataTransfer.setData(nE(!0),JSON.stringify({identity:fin.me.identity,id:t.pageId})),"content"in t.layout.content[0]&&1===t.layout.content.length){let n=t.layout.content[0].content[0];if("componentState"in n&&"componentName"in n&&"view"===n.componentName){let a=n.componentState,i=JSON.stringify([JSON.stringify(a),b.Gi.uuid,a.name]);e.dataTransfer.effectAllowed="linkMove",e.dataTransfer.setData("view-identity",i);let r=t.layout.settings,o=nP({sourceIdentity:{uuid:b.Gi.uuid,name:a.name},settings:{preventDragOut:r.preventDragOut||a.preventDragOut}});e.dataTransfer.setData(o,"true")}}nk("reorder"),fin.me.wire.sendAction("set-ignore-all-view-mouse-events",{enabled:!0}),setTimeout(()=>{R(t.pageId)},0),e.dataTransfer.setData("of-drag-cursor-name","pointer"),(0,y.sS)({type:"Page Tab",action:"Drag Page",value:t.title,data:{uuid:t.pageId}})},[null==s?void 0:s.pageId,N.preventPageDrag,N.preventPageDragOut,!0]),$=(0,p.useCallback)(e=>{let t;e.stopPropagation(),e.preventDefault(),K();let n=e.dataTransfer.types.find(e=>e.startsWith("payload")),a=e.dataTransfer.types.find(e=>e.startsWith(nE(!0)));n&&(t=nj(n),q()),!N.isLocked&&(a||t)&&(I(!0),T||N.preventPageDragIn?T&&nk("reorder"):nk("reparent"))},[N.isLocked,N.preventPageDragIn,!0,I,T]),X=(0,p.useCallback)(e=>{let t=nL(e),n=e.dataTransfer.types.find(e=>e.startsWith(nE(!0)));(t||n)&&!N.isLocked&&!j.current.contains(e.relatedTarget)&&(t&&nI(),I(!1),n&&nk("popout"))},[N.isLocked,!0,I]),J=(0,p.useCallback)(e=>{e.stopPropagation(),e.preventDefault()},[N.isLocked]),ee=(0,p.useCallback)(async e=>{if(s||console.debug("TabList::onDragDropHandler - activePage is undefined"),e.preventDefault(),e.stopPropagation(),I(!1),N.preventPageDragIn||N.isLocked)return;let t=nS(e);if(T&&null!==v){let e=a.flatMap((e,t)=>{let n=e.pageId===T?[]:[e.pageId];return t===v?n.unshift(T):t===a.length-1&&v===t+1&&n.push(T),n});await en(e.map(e=>({id:e}))),(0,M.a)().Browser.wrapSync(b.Gi).setActivePage(T),R(null);return}if(e.dataTransfer.types.find(e=>e.startsWith(nE(!0)))&&!T){let{id:t}=JSON.parse(e.dataTransfer.getData(nE(!0))),n=(0,M.a)().Browser.wrapSync(fin.me.identity);await n._reparentPage({pageId:t,index:v}),await n.setActivePage(t);return}if(t){if(null===v&&null!==L){let e=a[L],n=fin.Platform.Layout.wrapSync({...b.Gi,layoutName:e.layoutContainerKey});await (0,M.a)().Browser.wrapSync(b.Gi).setActivePage(e.pageId);let i=await n.getRootItem();await i.createAdjacentStack([t],{position:"right"}),e.pageId!==s.pageId&&(await (0,h.YG)(s),await (0,h.YG)(e))}else{let e=await fin.View.wrap({uuid:t.uuid,name:t.name}),n=await e.getInfo(),a={...t,url:n.url,title:n.title},i=await (0,h.o)(a.title,a.url,b.Gi);i.content[0].content[0].componentState=a;let r=await (0,nB.o2)(null,i),o=(0,M.a)().Browser.wrapSync(b.Gi);await o._addPage(r,{index:v,multiInstanceViewBehavior:"reparent"});let l=(0,w.xN)((0,k.y0)()),d=l.findIndex(e=>(null==e?void 0:e.pageId)===r.pageId);-1!==d&&(0,k.WI)((0,w.Qm)({index:d,page:{...l[d],pageIcon:n.favicons[0]}})),s&&await (0,h.YG)(s)}}},[N.isLocked,N.preventPageDragIn,!0,v,L,I,s,T]),et=(0,p.useCallback)(async e=>{var t;await fin.me.wire.sendAction("set-ignore-all-view-mouse-events",{enabled:!1}),R(null),I(!1);let n=(0,M.a)().Browser.wrapSync(b.Gi),i=1===a.length,r="reparent"===nC(),o=nb(e,null===(t=j.current)||void 0===t?void 0:t.getBoundingClientRect()),l="reorder"===nC()&&o,d=await (0,ti.Nc)(T),c=a.findIndex(e=>e.pageId===(null==d?void 0:d.pageId)),u=null==d?void 0:d.isLayoutCreated,p="move"===e.dataTransfer.dropEffect&&"linkMove"===e.dataTransfer.effectAllowed;if(N.preventPageDragOut&&!i||!T||r||l||p){await G(),u||l||!d||await n.removePage(d.pageId);return}let g=e.target,f=(null==g?void 0:g.offsetWidth)||0,h=(null==g?void 0:g.offsetHeight)||0;if(i){if(s.pageId===T){let t=Math.floor(e.offsetX-f/2),n=Math.floor(e.offsetY-h/2);fin.me.moveBy(t,n)}}else{let t=Math.floor(e.screenY-h/2),i=Math.floor(e.screenX-f/2);if(d.isActive){let e=a.filter(e=>e.pageId!==d.pageId),t=(0,n8.w)(c,e);await n.setActivePage(t.pageId)}await (0,M.a)().Browser.createWindow({workspacePlatform:{pages:[{...d,multiInstanceViewBehavior:"reparent"}],windowType:"enterprise"},defaultLeft:i,defaultTop:t,x:i,y:t,reason:u?"tearout":void 0}),u||await n.removePage(d.pageId)}},[null==s?void 0:s.pageId,N.preventPageDragOut,I,G,T,a]),en=(0,p.useCallback)(async e=>{g&&e.some((e,t)=>{var n;let{id:i}=e;return i!==(null===(n=a[t])||void 0===n?void 0:n.pageId)})&&await (0,M.a)().Browser.wrapSync(b.Gi).reorderPages({pageIds:e.map(e=>{let{id:t}=e;return t})})},[g,a]),ea=(0,p.useCallback)(e=>{W(e)},[]);tU(ea,ea);let ei=(0,p.useCallback)(e=>N.preventPageClose||N.isLocked?{...e,closeButton:{hidden:!0}}:e,[N.preventPageClose,N.isLocked]),er=nR();return nM(),N.disableMultiplePages?(0,o.jsx)(n4,{isEnterprise:!0,children:(0,o.jsx)(an,{isEnterprise:!0,children:(0,o.jsx)(ai,{isActive:!1,children:(0,o.jsx)(nF.Z,{children:n})})})}):(0,o.jsxs)(n4,{ref:j,onDrop:ee,onDragEnter:$,onDragLeave:X,onDragOver:J,isEnterprise:!0,children:[(0,o.jsx)(nD.T,{message:H}),(0,o.jsxs)(an,{ref:P,isEnterprise:!0,onWheel:e=>{let{deltaX:t,deltaY:n}=e;Math.abs(n)>Math.abs(t)&&(e.currentTarget.scrollLeft+=n-t)},"aria-label":e("aria.browserTabs"),role:"tablist","data-testid":eI.QW.tabContainer,children:[D&&(0,o.jsx)(nA.q,{shadowWidth:"small"}),(0,o.jsx)(n9,{indicatorPosition:v,shouldShowIndicator:x,children:a.map((e,t)=>(0,o.jsx)(n2,{page:ei(e),onClick:()=>U(e),onDragStart:t=>Q(t,e),onDragEnd:e=>et(e.nativeEvent),onCloseClick:()=>(0,S.jq)({pageId:e.pageId}),dragDisabled:N.isLocked||N.preventPageDrag,onDragOver:t=>f(t,e),isBeingReordered:T===e.pageId&&a.length>1,isDropRegion:x&&L===t,colorChannel:e.contextGroup&&er.find(t=>t.id===e.contextGroup)},e.pageId))}),D&&(0,o.jsx)(nA.q,{shadowWidth:"small",offset:32,right:!0})]}),!N.isLocked&&N.isNewPageButtonEnabled&&g&&(0,o.jsx)(aa,{windowFocused:t,children:(0,o.jsx)(eS.Z,{title:e("enterpriseContextMenu.newTab"),onClick:F,className:"plusButtonOB1","data-testid":eI.QW.newPageButton,width:24,height:24,isEnterprise:!0,children:(0,o.jsx)(d.Icon,{icon:"PlusIcon"})})})]})},ao=()=>{let e=(0,l.v9)(w.Dg),t=(0,l.v9)(E.UI)[e.layoutContainerKey],n=(0,l.v9)(u.z_),{isSchemeDark:a}=(0,Q.Z)(),{shouldExpandMenu:i}=(0,p.useContext)(A),r=!i.shouldExpand,s=async e=>{3===e.button?t.length>0&&(await fin.View.wrap(t[0])).navigateBack():4===e.button&&t.length>0&&(await fin.View.wrap(t[0])).navigateForward()};return(0,o.jsxs)(al,{onAuxClick:s,isSchemeDark:a,isWindows:n,isDragRegion:r,children:[!n&&(0,o.jsx)(nf,{}),(0,o.jsx)(tb,{}),(0,o.jsx)(ar,{}),(0,o.jsx)(as,{}),(0,o.jsx)(nw,{})]})};let al=s.default.div.withConfig({componentId:"sc-9ba0683b-0"})(["-webkit-app-region:",";user-select:none;background-color:",";display:flex;height:","px;",""],e=>{let{isDragRegion:t}=e;return t&&"drag"},e=>{let{theme:t,isSchemeDark:n}=e;return n?t.palette.background1:t.palette.background2},e_.q+1,e=>{let{isWindows:t}=e;return!t&&(0,s.css)(["border-top-left-radius:",";border-top-right-radius:",";"],f.Y,f.Y)}),as=s.default.div.withConfig({componentId:"sc-9ba0683b-1"})(["user-select:none;flex:1;padding-left:2px;min-width:20px;border-bottom:",";"],e=>{let{theme:t}=e;return"1px solid ".concat(t.palette.background5)});var ad=n(4302);let ac=()=>{let e=(0,p.useCallback)(async e=>{!e.viewIdentity.name.startsWith(b.IA.BrowserAddressSearchPrefix)&&(console.log("view-detached",e),e.target&&fin.me.interop.removeFromContextGroup(e.viewIdentity))},[]);(0,p.useEffect)(()=>(fin.me.addListener("view-detached",e),()=>{fin.me.removeListener("view-detached",e)}),[e])};var au=()=>(0,e4.Z)({windowName:b.IA.DropdownMenu,route:e7.ZP.DropdownMenu,shouldPreload:(0,p.useContext)(m.B6).isEnterprise,windowCreationOptions:{defaultWidth:10,defaultHeight:10}}),ap=n(7210),ag=()=>(0,e4.Z)({windowName:b.IA.IntentsResolverModal,route:e7.ZP.IntentsResolverModal,shouldPreload:(0,p.useContext)(m.B6).isEnterprise,windowCreationOptions:{defaultWidth:10,defaultHeight:10}}),af=n(927);let ah=()=>{let[e,t]=(0,p.useState)(void 0);(0,p.useEffect)(()=>{fin.Window.getCurrentSync().getOptions().then(e=>{var n;let a=null===(n=e.workspacePlatform)||void 0===n?void 0:n.icon,i="object"==typeof a?a.light:a||e.icon,r="object"==typeof a?a.dark:a||e.icon;(i||r)&&t({light:i||r,dark:r||i,custom:!0})})},[]),(0,af.X)(e)};var aw=function(){!function(){let e=nV();(0,p.useEffect)(()=>{e&&(document.title=e)},[e])}(),(0,ap.Z)(),ah(),ag(),au(),ac();let e=(0,l.v9)(u.z_);(0,ad.D)(async()=>{let e=(0,c.HG)(await fin.Window.getCurrentSync().getOptions());console.log("updatedOptions",e),await fin.Window.getCurrentSync().updateOptions(e),fin.me.reload()});let t=async e=>{e.preventDefault();let t=document.querySelector(".dropzone");t&&t.classList.remove("dropzone")};return(0,o.jsx)(am,{flexDirection:"column",onDragEnter:()=>fin.Window.getCurrentSync().bringToFront(),onDropCapture:t,isMac:!e,children:(0,o.jsx)(Y.q4,{children:(0,o.jsx)(tM.Lr,{children:(0,o.jsx)(eJ.pm,{children:(0,o.jsxs)(T,{children:[(0,o.jsx)(ao,{}),(0,o.jsx)(eC,{})]})})})})})};let am=(0,s.default)(d.Box).withConfig({componentId:"sc-62e4b8d2-0"})(["height:100vh;width:100%;font-family:",";*{font-family:",";}",""],e=>{let{theme:t}=e;return t.fontFamily},e=>{let{theme:t}=e;return t.fontFamily},e=>{let{theme:t}=e;return(0,ea.V)({size:1,borderColor:t.palette.background5})})},8517:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});let a=n(5191).default.svg.withConfig({componentId:"sc-44f40498-0"})(["path{fill:",";}"],e=>{let{theme:t}=e;return t.palette.textDefault})},4201:function(e,t,n){"use strict";var a=n(4246);n(7378);let i=n(5191).default.svg.withConfig({componentId:"sc-53009a12-0"})(["width:","px;height:","px;stroke:",";"],e=>{let{size:t}=e;return t||16},e=>{let{size:t}=e;return t||16},e=>{let{theme:t}=e;return t.palette.textHelp});t.Z=e=>{let{size:t=16,thickness:n=1.5}=e;return(0,a.jsxs)(i,{size:t,strokeWidth:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("style",{children:"\n                .spinnerRotation {\n                    transform-origin: center;\n                    animation: rotateSpinner 2s linear infinite;\n                }\n                .spinnerRotation circle {\n                    stroke-linecap: round;\n                    stroke-width: ".concat(n,";\n                    animation: animateStroke 1.5s ease-in-out infinite;\n                }\n                @keyframes rotateSpinner {\n                    100% {\n                        transform: rotate(360deg);\n                    }\n                }\n                @keyframes animateStroke {\n                    0% {\n                        stroke-dasharray: 0 150;\n                        stroke-dashoffset: 0;\n                    }\n                    47.5% {\n                        stroke-dasharray: 42 150;\n                        stroke-dashoffset: -16;\n                    }\n                    95%, 100% {\n                        stroke-dasharray: 42 150;\n                        stroke-dashoffset: -59;\n                    }\n                }\n            ")}),(0,a.jsx)("g",{className:"spinnerRotation",children:(0,a.jsx)("circle",{cx:"12",cy:"12",r:"9.5",fill:"none"})})]})}},5452:function(e,t,n){"use strict";n.d(t,{_Y:function(){return a},bD:function(){return d},iz:function(){return s},rs:function(){return l}});let a={percentToLevel(e){try{return Math.round(Math.log(e/100)/Math.log(1.2)*100)/100}catch(e){return console.error("Error converting percent to level:",e),0}},levelToPercent(e){try{return Math.round(100*Math.pow(1.2,e))}catch(e){return console.error("Error converting level to percent:",e),100}}},i=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500],r=i[i.length-1],o=i[0];async function l(e){let t;let n=a.levelToPercent(await e.getZoomLevel());if(n>=r)return n;let o=i.indexOf(n);return t=-1===o?i.find(e=>e>n):i[o+1],await e.setZoomLevel(a.percentToLevel(t)),t}async function s(e){let t;let n=a.levelToPercent(await e.getZoomLevel());if(n<=o)return n;let r=i.indexOf(n);if(-1===r){for(let e=i.length-1;e>=0;e--)if(i[e]<n){t=i[e];break}}else t=i[r-1];return await e.setZoomLevel(a.percentToLevel(t)),t}async function d(e){await e.setZoomLevel(a.percentToLevel(100))}}},function(e){e.O(0,[949,350,304,550,226,888,774,179],function(){return e(e.s=9536)}),_N_E=e.O()}]);
//# sourceMappingURL=index-571f7408dbb8015a.js.map