{"version":3,"file":"static/chunks/pages/popup-menu/address-search-results-view-70f52a363be8a4b3.js","mappings":"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","sources":["webpack://_N_E/?167b","webpack://_N_E/../common/src/components/Accessibility/ScreenReaderAnnouncement.tsx","webpack://_N_E/./src/components/ControlBar/utils.ts","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/AdjustSearchMenuDimensions/getDimensions.ts","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/AdjustSearchMenuDimensions/useAdjustSearchMenuViewDimensions.ts","webpack://_N_E/./src/hooks/useIsWindows.ts","webpack://_N_E/./src/context/SearchMenu/SearchResultsContext.tsx","webpack://_N_E/./src/utils/querylessState.ts","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/utils.ts","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/useInitChannelToBrowserWindow.ts","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/useOpenPages.ts","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/usePostMessageToBrowserWindow.ts","webpack://_N_E/./src/context/SearchMenu/SearchMenuControlContext.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/NoResults.tsx","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/useIsTabOpen.ts","webpack://_N_E/./src/components/ControlBar/SearchMenu/Result.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/CommandBar.tsx","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/useKeyboardNavigation.ts","webpack://_N_E/./src/components/ControlBar/SearchMenu/ResultsContainerWrapper.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/SkeletonResult.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/ViewMoreResultsButton.tsx","webpack://_N_E/./src/hooks/EnterpriseSearchMenu/useAsyncProviderResults.ts","webpack://_N_E/./src/components/ControlBar/SearchMenu/AllProvidersResultsContainer.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/EmptyAllProviderSearchContainer.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/EmptySingleProviderSearchContainer.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/EmptySearchInputContainer.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/SearchProviderTabs.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/useLazyLoading.ts","webpack://_N_E/./src/components/ControlBar/SearchMenu/FilterButtons.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/SingleProviderResultsContainer.tsx","webpack://_N_E/./src/components/ControlBar/SearchMenu/useAsyncResultsObserver.ts","webpack://_N_E/./src/pages/popup-menu/address-search-results-view.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/popup-menu/address-search-results-view\",\n      function () {\n        return require(\"private-next-pages/popup-menu/address-search-results-view.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/popup-menu/address-search-results-view\"])\n      });\n    }\n  ","import { AriaAttributes, AriaRole } from 'react';\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nnamespace ScreenReaderAnnouncement {\n    export interface Props {\n        message: string;\n        ariaAttributes?: AriaAttributes;\n        ariaRole?: AriaRole;\n    }\n}\n\n/**\n * A hidden component that announces screen reader messages to the user.\n *\n * Props:\n * - message: The message to announce to the user.\n * - ariaAttributes: Additional aria attributes to apply to the component. Default attributes are { aria-live: 'polite', aria-atomic: 'true' }\n * - ariaRole: The role to apply to the component. Defaults to 'status'.\n */\nexport const ScreenReaderAnnouncement = ({ message, ariaAttributes, ariaRole }: ScreenReaderAnnouncement.Props) => {\n    return (\n        <div\n            aria-live=\"polite\"\n            aria-atomic=\"true\"\n            role={ariaRole || 'status'}\n            tabIndex={-1}\n            style={{\n                clip: 'rect(0 0 0 0)',\n                clipPath: 'inset(50%)',\n                height: '1px',\n                overflow: 'hidden',\n                position: 'absolute',\n                whiteSpace: 'nowrap',\n                width: '1px'\n            }}\n            {...ariaAttributes}\n        >\n            {message}\n        </div>\n    );\n};\n","export const CONTROL_BAR_HEIGHT = 40;\n","import { COMMAND_BAR_HEIGHT, SEARCH_PROVIDER_TAB_HEIGHT } from '@enterprise/components/ControlBar/SearchMenu/utils';\n\nimport { MENU_BOUNDS } from './useAdjustSearchMenuViewDimensions';\n\n/**\n * @description Get the width of the search menu based on the parent window width and the expanded state of the menu\n * @param parentWindowWidth - The width of the parent window\n * @returns {number} The calculated width of the search menu\n */\nexport const getSearchMenuWidth = (parentWindowWidth: number): number => {\n    let expandedWidth = parentWindowWidth * MENU_BOUNDS.percentOfParentWidth;\n    if (expandedWidth > MENU_BOUNDS.expanded.maxWidth) {\n        expandedWidth = MENU_BOUNDS.expanded.maxWidth;\n    } else if (expandedWidth < MENU_BOUNDS.expanded.minWidth) {\n        expandedWidth = MENU_BOUNDS.expanded.minWidth;\n    }\n    return Math.ceil(expandedWidth);\n};\n\n/**\n * @description Get the height of the search menu based on the parent window height, the expanded state of the menu, and the UI state of the menu\n * @param parentWindowHeight - The height of the parent window\n * @param shouldShowEmptySearchInputContainer - Whether the empty search input UI should be shown\n * @param container - The container for the search menu\n * @returns {number} The calculated height of the search menu\n */\nexport const getSearchMenuHeight = (\n    parentWindowHeight: number,\n    shouldShowEmptySearchInputContainer: boolean,\n    container: HTMLElement\n): number => {\n    const resultsContainer = document.getElementById('results-container');\n    const emptySearchInputContainer = document.getElementById('empty-search-input-container');\n\n    const resultContainerMaxHeight =\n        resultsContainer !== null\n            ? Math.max(\n                  container.scrollHeight,\n                  // Heights of all of the contents of the Result Container UI.\n                  resultsContainer.scrollHeight + COMMAND_BAR_HEIGHT + SEARCH_PROVIDER_TAB_HEIGHT\n              )\n            : container.scrollHeight;\n\n    const emptySearchInputContainerHeight =\n        emptySearchInputContainer !== null\n            ? Math.min(\n                  MENU_BOUNDS.emptySearchInputContainer.maxHeight,\n                  // Heights of all of the contents of the Empty Search Input UI\n                  emptySearchInputContainer.scrollHeight + SEARCH_PROVIDER_TAB_HEIGHT\n              )\n            : Math.min(container.scrollHeight, MENU_BOUNDS.emptySearchInputContainer.maxHeight);\n\n    let height;\n    /**\n     * Remark: There always needs to be parentWindowHeightOffset amount of space between the search menu view and the bottom of the browser window.\n     *\n     * The code below does the following:\n     *   - If the EmptySearchInputContainer is shown\n     *     - If the browser window is not tall enough to show the entire EmptySearchInputContainer, then the height of the view\n     *         is set to the maximum of the available space dictated by the browser window and the min height of the EmptySearchInputContainer.\n     *         This ensures that the minimum height of the EmptySearchInputContainer is respected.\n     *     - Else if the browser window is tall enough to show the entire EmptySearchInputContainer, then the height of the view\n     *         is set to the height that the EmptySearchInputContainer needs to be to show all its content (Search Provider Tab, Feature Content, and Recents), without exceed the EmptySearchInputContainer max height.\n     *   - Else if the ResultsContainer is shown\n     *      - We set the the height of the view to the maximum height needed to show all the content of the ResultsContainer (Search Provider Tab, Results List, and Command Bar),\n     *          while respecting the height bounds for the ResultsContainer and the height of the parent window.\n     */\n    if (shouldShowEmptySearchInputContainer) {\n        const emptySearchContainerExceedsParentHeight =\n            parentWindowHeight - MENU_BOUNDS.parentWindowHeightOffset < MENU_BOUNDS.emptySearchInputContainer.maxHeight;\n        const emptySearchContainerContentMeetsMinHeight =\n            emptySearchInputContainerHeight > MENU_BOUNDS.emptySearchInputContainer.minHeight;\n\n        if (emptySearchContainerExceedsParentHeight && emptySearchContainerContentMeetsMinHeight) {\n            height = Math.max(\n                parentWindowHeight - MENU_BOUNDS.parentWindowHeightOffset,\n                MENU_BOUNDS.emptySearchInputContainer.minHeight\n            );\n        } else {\n            height = emptySearchInputContainerHeight;\n        }\n    } else {\n        height = Math.min(\n            resultContainerMaxHeight,\n            MENU_BOUNDS.resultsContainerMaxHeight,\n            parentWindowHeight - MENU_BOUNDS.parentWindowHeightOffset\n        );\n    }\n\n    return height;\n};\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { OpenFin } from '@openfin/core';\n\nimport debounce from 'lodash.debounce';\n\nimport { SearchMenuChannelResponse } from '@common/utils/popup-window';\nimport { getOFWindow, WindowName } from '@common/utils/window';\n\nimport { COMMAND_BAR_HEIGHT, SEARCH_PROVIDER_TAB_HEIGHT } from '@enterprise/components/ControlBar/SearchMenu/utils';\nimport { CONTROL_BAR_HEIGHT } from '@enterprise/components/ControlBar/utils';\n\nimport { useIsWindows } from '@enterprise/hooks/useIsWindows';\n\nimport { getSearchMenuHeight, getSearchMenuWidth } from './getDimensions';\n\n/* Static values coming from design spec. */\nexport const MENU_BOUNDS = {\n    expanded: {\n        minWidth: 376,\n        maxWidth: 728\n    },\n    emptySearchInputContainer: {\n        minHeight: 408,\n        maxHeight: 518 + SEARCH_PROVIDER_TAB_HEIGHT\n    },\n    percentOfParentWidth: 0.7,\n    resultsContainerMaxHeight: 475 + COMMAND_BAR_HEIGHT + SEARCH_PROVIDER_TAB_HEIGHT, // total height should be 588 - 40 (height of the search input container)\n    parentWindowHeightOffset: 40 + CONTROL_BAR_HEIGHT\n};\n\n/**\n * Custom hook to adjust the dimensions of the search menu view based on various conditions. The search menu will expand and collapse when opened or closed.\n * When open, the search menu will expand to include all of the content (either results or curated content) until the height reaches the maximum.\n * The search menu dimensions are sent to the browser window, where the view is resized accordingly.\n *\n * This hook also listens for resize events on the parent window to adjust the search menu view dimensions accordingly.\n *\n * @param {React.RefObject<HTMLElement>} containerRef - Ref object pointing to the container element of the search menu.\n * @param {boolean} shouldExpand - Boolean indicating if the search results view should expand.\n * @param {React.RefObject<BroadcastChannel>} searchMenuChannel - Ref object for the broadcast channel used to communicate with the browser window.\n * @param {boolean} shouldShowEmptySearchContainer - Boolean indicating if the emptySearchInputContainer container should be shown.\n * @param {number} offsetLeft - Number indicating the left offset for the search menu view derived from browser input container ref.\n */\nconst useAdjustSearchMenuViewDimensions = (\n    containerRef: React.RefObject<HTMLElement>,\n    shouldExpand: boolean,\n    searchMenuChannel: React.RefObject<BroadcastChannel>,\n    shouldShowEmptySearchContainer: boolean,\n    offsetLeft: number\n) => {\n    // Windows has 1px window border, so we need an extra 1px from the top\n    const isWindows = useIsWindows();\n    const offsetTop = CONTROL_BAR_HEIGHT + (isWindows ? 2 : 1);\n    const [viewBounds, setViewBounds] = useState<{ height: number; width: number }>({ height: 0, width: 0 });\n\n    const adjustViewDimensions = useCallback(\n        async (container: HTMLElement) => {\n            if (searchMenuChannel.current && shouldExpand) {\n                const parentName = fin.me.name.replace(WindowName.BrowserAddressSearchPrefix, '');\n                const { width: parentWindowWidth, height: parentWindowHeight } = await getOFWindow({\n                    uuid: fin.me.uuid,\n                    name: parentName\n                }).getBounds({ boundsType: 'current' });\n\n                const width = getSearchMenuWidth(parentWindowWidth);\n                const height = getSearchMenuHeight(parentWindowHeight, shouldShowEmptySearchContainer, container);\n                setViewBounds({ height, width });\n            }\n        },\n        [searchMenuChannel, shouldShowEmptySearchContainer, shouldExpand]\n    );\n\n    useEffect(() => {\n        const container = containerRef.current;\n        if (container) {\n            // Call adjustViewDimensions immediately to set the initial dimensions\n            adjustViewDimensions(container);\n\n            // Reduces flickering when resizing the view\n            const debounceAdjustViewDimensions = debounce(() => adjustViewDimensions(container), 100, {\n                leading: true\n            });\n\n            const menuResizeObserver = new ResizeObserver(debounceAdjustViewDimensions);\n            menuResizeObserver.observe(container);\n\n            return () => menuResizeObserver.disconnect();\n        }\n    }, [containerRef, adjustViewDimensions]);\n\n    useEffect(() => {\n        if (shouldExpand) {\n            (async () => {\n                await (fin.me as OpenFin.View).showAt(\n                    { ...viewBounds, top: offsetTop, left: offsetLeft },\n                    { bringToFront: true }\n                );\n\n                searchMenuChannel.current.postMessage({\n                    type: 'resize-view',\n                    width: viewBounds.width\n                } as SearchMenuChannelResponse);\n            })();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [viewBounds]);\n\n    useEffect(() => {\n        const parentName = fin.me.name.replace(WindowName.BrowserAddressSearchPrefix, '');\n        const parentWindow = getOFWindow({\n            uuid: fin.me.uuid,\n            name: parentName\n        });\n\n        const resizeHandler = async () => {\n            await adjustViewDimensions(containerRef.current);\n        };\n\n        const setUpResizeListener = async () => {\n            await parentWindow.addListener('bounds-changed', resizeHandler);\n        };\n        setUpResizeListener();\n\n        return () => {\n            parentWindow.removeListener('bounds-changed', resizeHandler);\n        };\n    }, [adjustViewDimensions]);\n};\n\nexport default useAdjustSearchMenuViewDimensions;\n","import { useEffect, useState } from 'react';\n\nimport { isOSWindows } from '@common/utils/os';\n\n/**\n * Custom hook that determines if the operating system is Windows.\n *\n * NOTE: This hook should only be used in non-browser window components.\n * Otherwise, opt for the selectIsWindows selector to access the Redux store.\n *\n * @returns {boolean} - Returns `true` if the operating system is Windows, otherwise `false`.\n */\nexport const useIsWindows = () => {\n    const [isWindows, setIsWindows] = useState(true);\n\n    useEffect(() => {\n        (async () => {\n            setIsWindows(await isOSWindows());\n        })();\n    }, []);\n\n    return isWindows;\n};\n","import { createContext, Dispatch, SetStateAction, useState } from 'react';\n\nimport { useCuratedContent } from '@enterprise/components/LandingPage/useCuratedContent';\n\nimport { SearchProvider, SearchSitesResponse, Site } from '@client-platform/shapes';\nimport { SiteAction } from '@client-platform/shapes';\n\nexport const DEFAULT_ALL_TAB = { id: '0', title: 'All' };\n\nconst defaultFunction = () => {\n    return;\n};\n\nexport const emptySearchResults: SearchSitesResponse = [];\n\n/**\n * Represents the selected state of search filters.\n */\ntype SearchMenuFilters = string[];\n\ninterface SearchResultsContextType {\n    recentlyVisited: Site[];\n    setRecentlyVisited: Dispatch<SetStateAction<Site[]>>;\n    curatedContent: Site[];\n    searchResults: SearchSitesResponse;\n    setSearchResults: Dispatch<SetStateAction<SearchSitesResponse>>;\n    isQueryingResults: boolean;\n    setIsQueryingResults: Dispatch<SetStateAction<boolean>>;\n    activeProviderId: string;\n    setActiveProviderId: Dispatch<SetStateAction<string>>;\n    searchProviders: SearchProvider[];\n    setSearchProviders: Dispatch<SetStateAction<SearchProvider[]>>;\n    action: SiteAction;\n    setAction: Dispatch<SetStateAction<SiteAction>>;\n    filters: SearchMenuFilters;\n    setFilters: Dispatch<SetStateAction<SearchMenuFilters>>;\n}\n\nexport const SearchResultsContext = createContext<SearchResultsContextType>({\n    recentlyVisited: [],\n    setRecentlyVisited: defaultFunction,\n    curatedContent: [],\n    searchResults: emptySearchResults,\n    setSearchResults: defaultFunction,\n    isQueryingResults: false,\n    setIsQueryingResults: defaultFunction,\n    activeProviderId: DEFAULT_ALL_TAB.id,\n    setActiveProviderId: defaultFunction,\n    searchProviders: [],\n    setSearchProviders: defaultFunction,\n    action: null,\n    setAction: defaultFunction,\n    filters: [],\n    setFilters: defaultFunction\n});\n\nexport const SearchResultsContextProvider = ({ children }: { children?: React.ReactNode }) => {\n    const [recentlyVisited, setRecentlyVisited] = useState<Site[]>([]);\n    const [curatedContent] = useCuratedContent();\n\n    const [searchResults, setSearchResults] = useState<SearchSitesResponse>(emptySearchResults);\n    const [isQueryingResults, setIsQueryingResults] = useState<boolean>(false);\n    const [activeProviderId, setActiveProviderId] = useState(DEFAULT_ALL_TAB.id);\n    const [searchProviders, setSearchProviders] = useState<SearchProvider[]>([]);\n    const [action, setAction] = useState<SiteAction>(null);\n    const [filters, setFilters] = useState<SearchMenuFilters>([]);\n\n    return (\n        <SearchResultsContext.Provider\n            value={{\n                recentlyVisited,\n                setRecentlyVisited,\n                curatedContent,\n                searchResults,\n                setSearchResults,\n                isQueryingResults,\n                setIsQueryingResults,\n                activeProviderId,\n                setActiveProviderId,\n                searchProviders,\n                setSearchProviders,\n                action,\n                setAction,\n                filters,\n                setFilters\n            }}\n        >\n            {children}\n        </SearchResultsContext.Provider>\n    );\n};\n","import { SearchProvider } from '@client-platform/shapes';\nimport { DEFAULT_ALL_TAB } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nexport type QuerylessState = {\n    showQuerylessText: boolean;\n    showEmptyContainer: boolean;\n};\n\nexport const getQuerylessState = (\n    query: string,\n    hasTextChangedSinceExpansion: boolean,\n    provider: SearchProvider\n): QuerylessState => {\n    // If on provider tab and query is empty or has been modified by user\n    if ((query.length === 0 || !hasTextChangedSinceExpansion) && provider) {\n        if (provider.id === DEFAULT_ALL_TAB.id) {\n            return { showQuerylessText: false, showEmptyContainer: true };\n        } else {\n            // for those support queryless providers\n            if (provider.supportsQueryless) {\n                return { showQuerylessText: false, showEmptyContainer: false };\n            } else {\n                // for those not support queryless providers, need to show a text\n                return { showQuerylessText: true, showEmptyContainer: true };\n            }\n        }\n    } else {\n        return { showQuerylessText: false, showEmptyContainer: false };\n    }\n};\n","import { getCurrentSync } from '@client-platform/api';\nimport { SearchProvider, SearchProviderResult, SearchSitesRequest, SearchSitesResponse } from '@client-platform/shapes';\n\nexport const searchSites = async (searchRequest: SearchSitesRequest): Promise<SearchSitesResponse> => {\n    const platform = getCurrentSync();\n    const view = fin.View.wrapSync(fin.me.identity);\n    const browserWindow = platform.Browser.wrapSync((await view.getCurrentWindow()).identity);\n    // eslint-disable-next-line no-underscore-dangle\n    return await browserWindow._searchSites(searchRequest);\n};\n\nexport const getSearchProviders = async (): Promise<SearchProvider[]> => {\n    const platform = getCurrentSync();\n    const view = fin.View.wrapSync(fin.me.identity);\n    const browserWindow = platform.Browser.wrapSync((await view.getCurrentWindow()).identity);\n    // eslint-disable-next-line no-underscore-dangle\n    return await browserWindow._getSearchProviders();\n};\n\nexport interface AsyncResultsObserver {\n    on: (callback: (payload: SearchProviderResult) => void) => void;\n    off: (callback: (payload: SearchProviderResult) => void) => void;\n}\n","import { Dispatch, SetStateAction, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport type OpenFin from '@openfin/core';\n\nimport debounce from 'lodash.debounce';\n\nimport { SearchMenuChannelMessage, SearchMenuChannelResponse } from '@common/utils/popup-window';\nimport { raiseBrowserAnalytics } from '@common/utils/usage-register';\nimport { randomUUID } from '@common/utils/uuid';\nimport { WindowName } from '@common/utils/window';\n\nimport { selectIsWindows } from '@common/slices/environment';\n\nimport { ActionedSite } from '@client-platform/index';\nimport { DEFAULT_ALL_TAB, SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\nimport { SearchViewExpansionState } from '@enterprise/context/SearchMenu/WindowSearchMenuContext';\nimport { getSearchProviders, searchSites } from '@enterprise/hooks/EnterpriseSearchMenu/utils';\n\nconst SEARCH_DEBOUNCE_MS = 500;\n\n/**\n * Custom hook that initializes and manages search functionality and expansion state for the search menu view.\n * It handles communication from the browser window to the search menu view.\n *\n * @param {boolean} shouldExpand - Boolean indicating if the search results view should expand.\n * @param {Dispatch<SetStateAction<number>>} setFocusRequestId - Function to update the focus request ID.\n * @param {Dispatch<SetStateAction<SearchViewExpansionState>>} setShouldExpandMenu - Function to update the expansion state of the search menu.\n * @param {Dispatch<SetStateAction<boolean>>} setShouldShowEmptySearchContainer - Function to toggle the empty search container visibility.\n * @param {Dispatch<SetStateAction<number>>} setOffsetLeft - Function to update the left offset of the search menu.\n * @param {Dispatch<SetStateAction<ActionedSite | undefined>>} setSelectedSite - Function to update the selected site.\n * @returns {Object} An object containing:\n *   - searchMenuChannel: Reference to the BroadcastChannel used for communication\n *   - selectedViews: Array of currently selected OpenFin views\n *   - openViews: Array of currently open OpenFin views\n *   - queryId: Current query identifier\n *   - updateSearchResults: Function to trigger a search with optional debouncing\n *     Parameters: (query: string, providerId: string, shouldExpandMenu?: SearchViewExpansionState, immediate?: boolean)\n *     When immediate is true, the search executes without debouncing\n *   - searchQuery: Reference to the current search query\n *   - hasTextChangedSinceExpansion: Boolean indicating whether user has modified the URL since search menu expanded\n */\nconst useInitChannelToBrowserWindow = (\n    shouldExpand: boolean,\n    setFocusRequestId: Dispatch<SetStateAction<number>>,\n    setShouldExpandMenu: Dispatch<SetStateAction<SearchViewExpansionState>>,\n    setShouldShowEmptySearchContainer: Dispatch<SetStateAction<boolean>>,\n    setOffsetLeft: Dispatch<SetStateAction<number>>,\n    setSelectedSite: Dispatch<SetStateAction<ActionedSite | undefined>>\n) => {\n    const {\n        setSearchResults,\n        setIsQueryingResults,\n        activeProviderId,\n        setActiveProviderId,\n        searchProviders,\n        setSearchProviders,\n        filters\n    } = useContext(SearchResultsContext);\n\n    const isWindows = useSelector(selectIsWindows);\n    const searchMenuChannel = useRef<BroadcastChannel>();\n\n    const [selectedViews, setSelectedViews] = useState<OpenFin.Identity[]>([]);\n    const [openViews, setOpenViews] = useState<OpenFin.Identity[]>([]);\n    const [queryId, setQueryId] = useState<string>();\n\n    const hasFetchedSearchProviders = useRef<boolean>(false);\n    const mostRecentUpdateId = useRef<number>();\n    const searchQuery = useRef<string>('');\n    const hasTextChangedSinceExpansion = useRef<boolean>(false);\n\n    const executeSearch = useCallback(\n        async (query: string, newQueryId: string, requestId: number, providerId?: string, searchFilters?: string[]) => {\n            raiseBrowserAnalytics({\n                type: 'Search',\n                action: 'Run Search'\n            });\n            const sites = await searchSites({\n                query: query.trim(),\n                queryId: newQueryId,\n                providerId,\n                filters: searchFilters\n            });\n\n            if (requestId === mostRecentUpdateId.current) {\n                setSearchResults(sites);\n                setShouldShowEmptySearchContainer(false);\n            }\n\n            setIsQueryingResults(false);\n        },\n        [setSearchResults, setShouldShowEmptySearchContainer, setIsQueryingResults]\n    );\n\n    const debouncedExecuteSearch = useMemo(\n        () => debounce(executeSearch, SEARCH_DEBOUNCE_MS, { leading: false, trailing: true }),\n        [executeSearch]\n    );\n\n    const updateSearchResults = useCallback(\n        async (\n            query: string,\n            providerId: string,\n            shouldExpandMenu?: SearchViewExpansionState,\n            immediate = false,\n            searchFilters: string[] = []\n        ) => {\n            setIsQueryingResults(true);\n\n            // Cancel any pending debounced calls\n            debouncedExecuteSearch.cancel();\n\n            const requestId = Date.now();\n            mostRecentUpdateId.current = requestId;\n            const newQueryId = randomUUID();\n            setQueryId(newQueryId);\n            const provider = searchProviders.find((p) => p.id === providerId);\n\n            // For providers not supporting queryless, only search if query isn't empty\n            // and user has modified the text.\n\n            // For providers supporting queryless, only search if query is empty\n            // or if the user has modified the search text.\n\n            // This prevents an unwanted search of the selected view's URL\n            // when first expanding the menu and clicking on a provider tab.\n\n            const shouldSearchProviderSupportingQueryless =\n                !provider?.supportsQueryless && query.length > 0 && hasTextChangedSinceExpansion.current;\n            const shouldSearchProviderWithoutQueryless =\n                provider?.supportsQueryless && (query.length === 0 || hasTextChangedSinceExpansion.current);\n\n            if (shouldSearchProviderSupportingQueryless || shouldSearchProviderWithoutQueryless) {\n                setShouldShowEmptySearchContainer(false);\n                if (immediate) {\n                    await executeSearch(query, newQueryId, requestId, providerId, searchFilters);\n                } else {\n                    await debouncedExecuteSearch(query, newQueryId, requestId, providerId, searchFilters);\n                }\n            } else {\n                setShouldShowEmptySearchContainer(providerId === DEFAULT_ALL_TAB.id ? true : false);\n                setIsQueryingResults(false);\n            }\n\n            // Only update shouldExpandMenu if this is the most recent request\n            if (shouldExpandMenu && requestId === mostRecentUpdateId.current) {\n                setShouldExpandMenu(shouldExpandMenu);\n            }\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [searchProviders, debouncedExecuteSearch, executeSearch]\n    );\n\n    const handleSearchMenuMessage = useCallback(\n        async (ev: MessageEvent<SearchMenuChannelMessage>) => {\n            switch (ev.data.type) {\n                case 'ready':\n                    // View sends a \"ready\" message to the browser window by default immediately after initialization.\n                    // However, in case the view is initialized before the browser window's message handler is set up,\n                    // the browser window will send a \"ready\" message itself, and the view should respond with another\n                    // \"ready\" to complete a handshake, indicating both the browser and view can receive messages.\n                    searchMenuChannel.current.postMessage({ type: 'ready' } as SearchMenuChannelResponse);\n                    break;\n                case 'update-search-menu-state': {\n                    const shouldUpdateSelectedViews =\n                        (ev.data.selectedViews !== undefined &&\n                            selectedViews?.length !== ev.data.selectedViews.length) ||\n                        ev.data.selectedViews?.every((view) =>\n                            selectedViews.some(\n                                (selectedView) =>\n                                    !(selectedView?.name === view?.name && selectedView?.uuid === view?.uuid)\n                            )\n                        );\n\n                    const shouldUpdateOpenViews =\n                        (ev.data.openViews !== undefined && openViews?.length !== ev.data.openViews.length) ||\n                        ev.data.openViews?.every((view) =>\n                            openViews.some((openView) => !(openView.name === view.name && openView.uuid === view.uuid))\n                        );\n\n                    const shouldEmitKeyboardEvent = ev.data.keyboardEvent?.options !== undefined;\n\n                    // Only update shouldExpand state if incoming update toggles from current state\n                    const shouldUpdateShouldExpandMenu =\n                        ev.data.shouldExpandMenu !== undefined &&\n                        ev.data.shouldExpandMenu.shouldExpand !== shouldExpand;\n\n                    const shouldUpdateSearchText =\n                        ev.data.searchText !== undefined && ev.data.shouldExpandMenu.shouldExpand;\n\n                    if (shouldUpdateSearchText) {\n                        if (searchQuery.current !== ev.data.searchText) {\n                            hasTextChangedSinceExpansion.current = shouldExpand;\n                        }\n                        searchQuery.current = ev.data.searchText;\n                    }\n\n                    if (shouldUpdateSelectedViews) {\n                        setSelectedViews(ev.data.selectedViews);\n                    }\n                    if (shouldUpdateOpenViews) {\n                        setOpenViews(ev.data.openViews);\n                    }\n\n                    if (!hasFetchedSearchProviders.current && ev.data.shouldExpandMenu?.shouldExpand) {\n                        hasFetchedSearchProviders.current = true;\n                        const providers = await getSearchProviders();\n                        setSearchProviders(providers);\n                    }\n\n                    if (shouldUpdateShouldExpandMenu) {\n                        setOffsetLeft(ev.data.offsetLeft);\n\n                        if (!ev.data.shouldExpandMenu.shouldExpand) {\n                            mostRecentUpdateId.current = Date.now();\n\n                            // Hide search menu and reset state\n                            setShouldExpandMenu(ev.data.shouldExpandMenu);\n                            (fin.me as OpenFin.View).hide();\n                            setActiveProviderId(DEFAULT_ALL_TAB.id);\n                            setSelectedSite(undefined);\n                        }\n\n                        if (ev.data.shouldExpandMenu.method === 'click') {\n                            mostRecentUpdateId.current = Date.now();\n                            setShouldShowEmptySearchContainer(true);\n                            setShouldExpandMenu(ev.data.shouldExpandMenu);\n                        }\n\n                        if (ev.data.shouldExpandMenu.method === 'keystroke') {\n                            hasTextChangedSinceExpansion.current = true;\n                            updateSearchResults(searchQuery.current, activeProviderId, ev.data.shouldExpandMenu);\n                        }\n                    } else if (shouldUpdateSearchText) {\n                        setSearchResults([]);\n                        updateSearchResults(\n                            searchQuery.current,\n                            activeProviderId,\n                            ev.data.shouldExpandMenu,\n                            false,\n                            filters\n                        );\n                    }\n\n                    if (shouldEmitKeyboardEvent) {\n                        if (ev.data.keyboardEvent.options.key === 'Tab') {\n                            // Indicates a new focus switch from the address input to the search view\n                            setFocusRequestId(Date.now());\n                        } else if (ev.data.keyboardEvent.options.key === 'Enter') {\n                            document.dispatchEvent(\n                                new KeyboardEvent(ev.data.keyboardEvent.type, ev.data.keyboardEvent.options)\n                            );\n                        } else {\n                            window.dispatchEvent(\n                                new KeyboardEvent(ev.data.keyboardEvent.type, ev.data.keyboardEvent.options)\n                            );\n                        }\n                    }\n                    break;\n                }\n            }\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [shouldExpand, selectedViews, openViews, isWindows, activeProviderId, filters]\n    );\n\n    useEffect(() => {\n        if (!searchMenuChannel.current) {\n            const parentName = fin.me.name.replace(WindowName.BrowserAddressSearchPrefix, '');\n            searchMenuChannel.current = new BroadcastChannel(`search-menu-${parentName}`);\n            searchMenuChannel.current.postMessage({ type: 'ready' } as SearchMenuChannelResponse);\n        }\n\n        return () => {\n            if (searchMenuChannel.current) {\n                searchMenuChannel.current.close();\n                searchMenuChannel.current = null;\n            }\n        };\n    }, []);\n\n    useEffect(() => {\n        searchMenuChannel.current.onmessage = handleSearchMenuMessage;\n    }, [handleSearchMenuMessage]);\n\n    return {\n        searchMenuChannel,\n        selectedViews,\n        openViews,\n        queryId,\n        updateSearchResults,\n        searchQuery,\n        hasTextChangedSinceExpansion\n    };\n};\n\nexport default useInitChannelToBrowserWindow;\n","import { useEffect, useState } from 'react';\n\nimport debounce from 'lodash.debounce';\n\nimport { getCurrentSync } from '@client-platform/api';\nimport { AttachedPage } from '@client-platform/shapes';\n\n/**\n * A custom hook that manages the state of open pages in the application.\n * It fetches the currently attached pages and updates the page state accordingly.\n *\n * @returns An array of currently open pages.\n */\nconst useOpenPages = (): AttachedPage[] => {\n    const [openPages, setOpenPages] = useState<AttachedPage[]>([]);\n    useEffect(() => {\n        const updateOpenPages = async () => {\n            const pages = await getCurrentSync().Browser.getAllAttachedPages();\n            setOpenPages(pages);\n        };\n        const debouncedUpdateOpenPages = debounce(updateOpenPages, 500, { leading: false, trailing: true });\n        const ofApp = fin.Application.getCurrentSync();\n        ofApp.on('window-layout-ready', debouncedUpdateOpenPages);\n        // Replace with better event after CORE-1681\n        ofApp.on('window-view-detached', debouncedUpdateOpenPages);\n\n        updateOpenPages();\n        return () => {\n            ofApp.removeListener('window-layout-ready', debouncedUpdateOpenPages);\n            ofApp.removeListener('window-view-detached', debouncedUpdateOpenPages);\n        };\n    }, []);\n    return openPages;\n};\n\nexport default useOpenPages;\n","import { MutableRefObject, useCallback, useContext, useEffect } from 'react';\n\nimport type OpenFin from '@openfin/core';\n\nimport { SearchMenuChannelResponse } from '@common/utils/popup-window';\n\nimport { ActionedSite } from '@client-platform/shapes';\nimport { DEFAULT_ALL_TAB, SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\n/**\n * Custom hook that sends messages to the browser window about either which site has been selected for navigation or what key has been\n * pressed while focused in the search results view to enable continued modification of the search text while focused inside the view.\n *\n * @param searchMenuChannel - Ref object for the broadcast channel used to communicate with the browser window.\n * @param selectedSite - The site selected by the user to navigate to.\n * @param selectedViews - Array of currently selected views in the browser window.\n * @param shouldShowEmptySearchContainer - Boolean indicating whether the empty search container is currently being shown.\n * @param hasTextChangedSinceExpansion - Boolean indicating whether user has modified the URL since search menu expanded.\n * @returns Object containing a function to send keyboard events to the browser window.\n */\nconst usePostMessageToBrowserWindow = (\n    searchMenuChannel: MutableRefObject<BroadcastChannel>,\n    selectedSite: ActionedSite,\n    selectedViews: OpenFin.Identity[],\n    shouldShowEmptySearchContainer: boolean,\n    hasTextChangedSinceExpansion: MutableRefObject<boolean>\n) => {\n    const { isQueryingResults, activeProviderId } = useContext(SearchResultsContext);\n\n    useEffect(() => {\n        // Only launch selected site if we've finished querying or we are launching from the empty search container apps\n        if (\n            searchMenuChannel.current &&\n            (!isQueryingResults || shouldShowEmptySearchContainer) &&\n            selectedSite !== undefined\n        ) {\n            searchMenuChannel.current.postMessage({\n                type: 'search-response',\n                selectedSite,\n                selectedView: selectedViews[0],\n                trigger: selectedSite?.action,\n                handled: false\n            } as SearchMenuChannelResponse);\n        }\n        // We do not want to post a message every time the selectedViews change so remove selectedViews from dep array\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [selectedSite]);\n\n    useEffect(() => {\n        // Informs browser window that search provider tab has been activated if a user has not modified the text\n        // Will trigger the browser window to clear the address bar\n        if (\n            searchMenuChannel.current &&\n            activeProviderId !== DEFAULT_ALL_TAB.id &&\n            !hasTextChangedSinceExpansion.current\n        ) {\n            searchMenuChannel.current.postMessage({ type: 'search-provider-changed' });\n        }\n    }, [activeProviderId]);\n\n    const sendKeyboardEventToBrowserWindow = useCallback(\n        (event: React.KeyboardEvent) => {\n            if (searchMenuChannel.current) {\n                const { type, key, metaKey, ctrlKey, altKey } = event;\n                searchMenuChannel.current.postMessage({\n                    type: 'keyboard-event',\n                    keyboardEvent: {\n                        type,\n                        options: {\n                            key,\n                            metaKey,\n                            ctrlKey,\n                            altKey\n                        }\n                    }\n                } as SearchMenuChannelResponse);\n            }\n        },\n        [searchMenuChannel]\n    );\n\n    return { sendKeyboardEventToBrowserWindow };\n};\n\nexport default usePostMessageToBrowserWindow;\n","import React, { createContext, Dispatch, MutableRefObject, SetStateAction, useEffect, useRef, useState } from 'react';\n\nimport { OpenFin } from '@openfin/core';\n\nimport { raiseBrowserAnalytics } from '@common/utils/usage-register';\n\nimport { ActionedSite, AttachedPage } from '@client-platform/index';\nimport useAdjustSearchMenuViewDimensions from '@enterprise/hooks/EnterpriseSearchMenu/AdjustSearchMenuDimensions/useAdjustSearchMenuViewDimensions';\nimport useInitChannelToBrowserWindow from '@enterprise/hooks/EnterpriseSearchMenu/useInitChannelToBrowserWindow';\nimport useOpenPages from '@enterprise/hooks/EnterpriseSearchMenu/useOpenPages';\nimport usePostMessageToBrowserWindow from '@enterprise/hooks/EnterpriseSearchMenu/usePostMessageToBrowserWindow';\n\nimport { SearchViewExpansionState } from './WindowSearchMenuContext';\n\nconst defaultFunction = async () => {\n    return Promise.resolve();\n};\n\ninterface SearchMenuControlContextType {\n    containerRef: MutableRefObject<HTMLDivElement | null>;\n\n    shouldExpandMenu: SearchViewExpansionState;\n    shouldShowEmptySearchContainer: boolean;\n\n    searchQuery: MutableRefObject<string>;\n    hasTextChangedSinceExpansion: MutableRefObject<boolean>;\n    focusRequestId: number | undefined;\n    queryId: string;\n\n    selectedViews: OpenFin.Identity[];\n    openViews: OpenFin.Identity[];\n    openPages: AttachedPage[];\n\n    updateSearchResults: (\n        query: string,\n        providerId: string,\n        shouldExpandMenu?: SearchViewExpansionState,\n        immediate?: boolean,\n        filters?: string[]\n    ) => Promise<void>;\n    setSelectedSite: Dispatch<SetStateAction<ActionedSite | undefined>>;\n    sendKeyboardEventToBrowserWindow: (event: React.KeyboardEvent) => void;\n}\n\nexport const SearchMenuControlContext = createContext<SearchMenuControlContextType>({\n    containerRef: { current: null },\n\n    shouldExpandMenu: { shouldExpand: false },\n    shouldShowEmptySearchContainer: false,\n\n    focusRequestId: undefined,\n    searchQuery: { current: '' },\n    hasTextChangedSinceExpansion: undefined,\n    queryId: '',\n\n    selectedViews: [],\n    openViews: [],\n    openPages: [],\n\n    updateSearchResults: defaultFunction,\n    setSelectedSite: defaultFunction,\n    sendKeyboardEventToBrowserWindow: defaultFunction\n});\n\nexport const SearchMenuControlContextProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n\n    const openPages = useOpenPages();\n\n    const [shouldExpandMenu, setShouldExpandMenu] = useState<SearchViewExpansionState>({ shouldExpand: false });\n    const [offsetLeft, setOffsetLeft] = useState<number>(0);\n    const [shouldShowEmptySearchContainer, setShouldShowEmptySearchContainer] = useState(false);\n\n    const [focusRequestId, setFocusRequestId] = useState<number>();\n    const [selectedSite, setSelectedSite] = useState<ActionedSite | undefined>();\n\n    useEffect(() => {\n        if (selectedSite) {\n            raiseBrowserAnalytics({\n                action: 'Select Result',\n                type: 'Search',\n                value: selectedSite.title\n            });\n        }\n    }, [selectedSite]);\n\n    const {\n        searchMenuChannel,\n        selectedViews,\n        openViews,\n        queryId,\n        updateSearchResults,\n        searchQuery,\n        hasTextChangedSinceExpansion\n    } = useInitChannelToBrowserWindow(\n        shouldExpandMenu.shouldExpand,\n        setFocusRequestId,\n        setShouldExpandMenu,\n        setShouldShowEmptySearchContainer,\n        setOffsetLeft,\n        setSelectedSite\n    );\n\n    const { sendKeyboardEventToBrowserWindow } = usePostMessageToBrowserWindow(\n        searchMenuChannel,\n        selectedSite,\n        selectedViews,\n        shouldShowEmptySearchContainer,\n        hasTextChangedSinceExpansion\n    );\n\n    useAdjustSearchMenuViewDimensions(\n        containerRef,\n        shouldExpandMenu.shouldExpand,\n        searchMenuChannel,\n        shouldShowEmptySearchContainer,\n        offsetLeft\n    );\n\n    return (\n        <SearchMenuControlContext.Provider\n            value={{\n                containerRef,\n                shouldExpandMenu,\n                shouldShowEmptySearchContainer,\n                focusRequestId,\n                searchQuery,\n                hasTextChangedSinceExpansion,\n                queryId,\n                selectedViews,\n                openViews,\n                openPages,\n                updateSearchResults,\n                setSelectedSite,\n                sendKeyboardEventToBrowserWindow\n            }}\n        >\n            {children}\n        </SearchMenuControlContext.Provider>\n    );\n};\n","import { useContext, useEffect, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { enterpriseSearchMenuTestIds } from '@common/utils/test-ids';\n\nimport { getComputedScheme } from '@common/api/theming';\n\nimport { ScreenReaderAnnouncement } from '@common/components/Accessibility/ScreenReaderAnnouncement';\n\nimport { ColorSchemeOptionType, SearchProvider } from '@client-platform/shapes';\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport { SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\ninterface NoResultsProps {\n    provider?: SearchProvider;\n}\n\nexport const NoResults = ({ provider }: NoResultsProps) => {\n    const { updateSearchResults, searchQuery, shouldExpandMenu } = useContext(SearchMenuControlContext);\n    const { filters, setFilters, setSearchResults } = useContext(SearchResultsContext);\n\n    const [isDark, setIsDark] = useState(false);\n\n    useEffect(() => {\n        getComputedScheme().then((scheme) => {\n            setIsDark(scheme === ColorSchemeOptionType.Dark);\n        });\n    }, []);\n\n    const handleClearFilters = () => {\n        if (provider) {\n            setFilters([]);\n            setSearchResults([\n                {\n                    id: provider.id,\n                    results: null\n                }\n            ]);\n            updateSearchResults(searchQuery.current ?? '', provider.id, shouldExpandMenu, true, []);\n        }\n    };\n    const areFiltersSelected = filters.length > 0;\n    const subText = `Try using different keywords${areFiltersSelected ? ' or change your filters.' : '.'} `;\n\n    return (\n        <Container areFiltersSelected={areFiltersSelected} data-testid={enterpriseSearchMenuTestIds.noResultsContainer}>\n            <ScreenReaderAnnouncement message={`No results found for ${searchQuery.current}`} />\n            <ContentWrapper>\n                <NoResultsIcon isDark={isDark} />\n                <Title>No results found</Title>\n                <Subtitle>{subText}</Subtitle>\n                {areFiltersSelected && (\n                    <ClearFiltersButton\n                        onClick={handleClearFilters}\n                        data-testid={enterpriseSearchMenuTestIds.clearFiltersButton}\n                    >\n                        Clear filters\n                    </ClearFiltersButton>\n                )}\n            </ContentWrapper>\n        </Container>\n    );\n};\n\nconst Container = styled.div<{ areFiltersSelected: boolean }>`\n    height: ${({ areFiltersSelected }) => (areFiltersSelected ? '232px' : '184px')};\n    position: relative;\n`;\n\nconst ContentWrapper = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst Title = styled.span`\n    padding-top: ${({ theme }) => theme.px.large};\n    font-size: 14px;\n    font-weight: 500;\n    line-height: ${({ theme }) => theme.px.xxlarge};\n    color: ${({ theme }) => theme.palette.textDefault};\n    text-align: center;\n    text-underline-position: from-font;\n    text-decoration-skip-ink: none;\n`;\n\nconst Subtitle = styled.span`\n    font-size: ${({ theme }) => theme.fontSize.base};\n    font-weight: ${({ theme }) => theme.fontWeight.normal};\n    line-height: ${({ theme }) => theme.px.large};\n    color: ${({ theme }) => theme.palette.textHelp};\n    text-align: center;\n    text-underline-position: from-font;\n    text-decoration-skip-ink: none;\n`;\n\nconst ClearFiltersButton = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    height: ${({ theme }) => theme.px.xxxlarge};\n    padding: ${({ theme }) => theme.px.xsmall} ${({ theme }) => theme.px.small};\n    margin-top: ${({ theme }) => theme.px.small};\n\n    border: 1px solid ${({ theme }) => theme.palette.background5};\n    border-radius: ${({ theme }) => theme.px.xsmall};\n\n    background-color: ${({ theme }) => theme.palette.background2};\n    color: ${({ theme }) => theme.palette.textDefault};\n\n    line-height: 15px;\n    font-weight: 500;\n\n    &:hover {\n        background-color: ${({ theme }) => theme.palette.background3};\n    }\n`;\n\nconst NoResultsIcon = ({ isDark }: { isDark: boolean }) => {\n    return (\n        <svg width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M42.9313 27.7332C42.9313 36.1279 36.126 42.9332 27.7313 42.9332C19.3365 42.9332 12.5312 36.1279 12.5312 27.7332C12.5312 19.3385 19.3365 12.5332 27.7313 12.5332C36.126 12.5332 42.9313 19.3385 42.9313 27.7332ZM39.8201 42.6505C36.5195 45.3285 32.3128 46.9332 27.7313 46.9332C17.1274 46.9332 8.53125 38.3371 8.53125 27.7332C8.53125 17.1293 17.1274 8.5332 27.7313 8.5332C38.3351 8.5332 46.9313 17.1293 46.9313 27.7332C46.9313 32.3147 45.3265 36.5215 42.6485 39.822L54.7454 51.9189C55.5264 52.7 55.5264 53.9663 54.7454 54.7473C53.9643 55.5284 52.698 55.5284 51.917 54.7473L39.8201 42.6505Z\"\n                fill={isDark ? 'rgba(255, 255, 255, 0.5)' : 'rgba(20, 6, 17, 0.5)'}\n            />\n            <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M34.4546 23.4319C34.9753 22.9112 34.9753 22.067 34.4546 21.5463C33.9339 21.0256 33.0897 21.0256 32.569 21.5463L28.0007 26.1146L23.4324 21.5463C22.9117 21.0256 22.0675 21.0256 21.5468 21.5463C21.0261 22.067 21.0261 22.9112 21.5468 23.4319L26.1151 28.0002L21.5468 32.5685C21.0261 33.0892 21.0261 33.9334 21.5468 34.4541C22.0675 34.9748 22.9117 34.9748 23.4324 34.4541L28.0007 29.8858L32.569 34.4541C33.0897 34.9748 33.9339 34.9748 34.4546 34.4541C34.9753 33.9334 34.9753 33.0892 34.4546 32.5685L29.8863 28.0002L34.4546 23.4319Z\"\n                fill={isDark ? 'rgba(255, 255, 255, 0.5)' : 'rgba(20, 6, 17, 0.5)'}\n            />\n        </svg>\n    );\n};\n","import { useEffect, useState } from 'react';\n\nimport type OpenFin from '@openfin/core';\n\nimport { formatUrl } from '@common/utils/enterpriseBrowser';\n\n/**\n * Custom hook to determine if a specific tab is open and to get the view to switch to.\n *\n * @param {OpenFin.Identity[]} openViews - The list of currently open views.\n * @param {{ url: string }} siteInfo - An object containing the URL of the site.\n * @param {boolean} isSiteAppOrWebsite - A flag indicating if the site is an app or a website.\n * @param {OpenFin.Identity[]} [selectedViews] - An optional list of views that are currently selected.\n * @returns {{ isTabOpen: boolean; viewToSwitchTo: OpenFin.Identity }} - An object containing a boolean indicating if the tab is open and the view to switch to.\n */\nconst useIsTabOpen = (\n    openViews: OpenFin.Identity[],\n    siteInfo: { url: string },\n    isSiteAppOrWebsite: boolean,\n    selectedViews?: OpenFin.Identity[]\n): { isTabOpen: boolean; viewToSwitchTo: OpenFin.Identity } => {\n    const [isTabOpen, setIsTabOpen] = useState<boolean>(false);\n    const [viewToSwitchTo, setViewToSwitchTo] = useState<OpenFin.Identity | undefined>(undefined);\n\n    useEffect(() => {\n        const checkTabs = async () => {\n            for (const openView of openViews) {\n                // TODO - move this up to openViews - otherwise calling getinfo on every view for every result!\n                const options = await fin.View.wrapSync(openView).getInfo();\n                if (\n                    isSiteAppOrWebsite &&\n                    formatUrl(options.url) === formatUrl(siteInfo.url) &&\n                    !selectedViews?.some((identity) => identity.name === openView.name)\n                ) {\n                    setIsTabOpen(true);\n                    setViewToSwitchTo(openView);\n                    break;\n                }\n            }\n        };\n\n        checkTabs();\n    }, [openViews, siteInfo, selectedViews, isSiteAppOrWebsite]);\n\n    return { isTabOpen, viewToSwitchTo };\n};\n\nexport default useIsTabOpen;\n","import { useCallback, useContext, useEffect, useRef, useState } from 'react';\n\nimport styled from 'styled-components';\nimport { css } from 'styled-components';\n\nimport { Box, BoxProps, Icon, Text, TextProps } from '@openfin/ui-library';\n\nimport { enterpriseSearchMenuTestIds } from '@common/utils/test-ids';\nimport { trimUrl } from '@common/utils/url';\n\nimport { Site, SiteAction } from '@client-platform/shapes';\nimport useSystemSchemeCheck from '@common/hooks/useSystemSchemeCheck';\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport { MENU_BOUNDS } from '@enterprise/hooks/EnterpriseSearchMenu/AdjustSearchMenuDimensions/useAdjustSearchMenuViewDimensions';\nimport useIsTabOpen from '@enterprise/hooks/EnterpriseSearchMenu/useIsTabOpen';\nimport { useSiteInfo } from '@enterprise/hooks/useSiteInfo';\n\nimport { SiteIconWrapper } from './Icons';\nimport { ResultIcon } from './ResultIcon';\nimport { getSiteSubTitle } from './utils';\n\nexport type ResultProps = {\n    /**\n     * The Site data of the result\n     */\n    site: Site;\n    /**\n     * @param site of the selected site in the array of results\n     * @returns\n     */\n    onSiteAction: (site: Site, action: SiteAction) => void;\n    /**\n     * Flag to indicate if the result is focused\n     */\n    isFocused: boolean;\n    /**\n     * ID of the result\n     */\n    id: string;\n    /**\n     * A function to sync the state of selected items when a user tabs to focus instead of using arrow navigation\n     *\n     * @returns\n     */\n    onFocused: (site: Site) => void;\n    /**\n     * A function to update the action of selected item with action buttons\n     *\n     * @returns\n     */\n    updateAction: (action: SiteAction) => void;\n};\n\nexport const Result = ({ site, onSiteAction, isFocused, id, onFocused, updateAction }: ResultProps) => {\n    const { openViews, selectedViews, setSelectedSite } = useContext(SearchMenuControlContext);\n\n    const siteInfo = useSiteInfo(site);\n    const isSiteAppOrWebsite = site.type === 'app' || site.type === 'website';\n    const { isTabOpen, viewToSwitchTo } = useIsTabOpen(openViews, siteInfo, isSiteAppOrWebsite, selectedViews);\n    const { isSchemeDark } = useSystemSchemeCheck();\n\n    const containerRef = useRef<HTMLAnchorElement>(null);\n    const [containerWidth, setContainerWidth] = useState(0);\n\n    useEffect(() => {\n        if (!containerRef.current) return;\n\n        /**\n         * Tracks the width of the result container and is used to determine\n         * the styling of the action buttons.\n         */\n        const resizeObserver = new ResizeObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.contentBoxSize) {\n                    const width = entry.contentBoxSize[0].inlineSize;\n                    setContainerWidth(width);\n                }\n            }\n        });\n\n        resizeObserver.observe(containerRef.current);\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, []);\n\n    useEffect(() => {\n        if (isFocused) {\n            containerRef.current.focus({ preventScroll: true });\n        }\n    }, [isFocused]);\n\n    useEffect(() => {\n        const handleKeyDown = (event: KeyboardEvent) => {\n            // Do not launch application if focused element is a search provider tab\n            if (isFocused && event.key === 'Enter' && document.activeElement.role !== 'tab') {\n                if ((event.metaKey || event.ctrlKey) && isTabOpen) {\n                    fin.View.wrapSync(viewToSwitchTo).focus();\n                } else {\n                    setSelectedSite(site);\n                }\n                event.stopPropagation();\n            }\n        };\n\n        document.addEventListener('keydown', handleKeyDown);\n        return () => document.removeEventListener('keydown', handleKeyDown);\n    }, [setSelectedSite, site, isFocused, viewToSwitchTo, isTabOpen]);\n\n    const handleSwitchTab = useCallback(\n        (event: React.MouseEvent<HTMLButtonElement> | KeyboardEvent | React.KeyboardEvent<HTMLButtonElement>) => {\n            event.stopPropagation();\n            fin.View.wrapSync(viewToSwitchTo).focus();\n        },\n        [viewToSwitchTo]\n    );\n\n    const handleMouseDown = useCallback(\n        (e: React.MouseEvent) => {\n            // Return early if right-click (button 2) or two-finger tap on trackpad or mouse wheel click (button 1)\n            if (e.button === 2 || e.button === 1) return;\n            e.preventDefault();\n            e.stopPropagation();\n            setSelectedSite(site);\n        },\n        [setSelectedSite, site]\n    );\n\n    const renderActionButtons = useCallback(\n        (actions: SiteAction[]): JSX.Element => {\n            const handleActionMouseDown = (\n                action: SiteAction,\n                e: React.MouseEvent<HTMLButtonElement> | React.KeyboardEvent<HTMLButtonElement>\n            ) => {\n                if ('button' in e && (e.button === 2 || e.button === 1)) return;\n                e.stopPropagation();\n                onSiteAction(site, action);\n            };\n            /**\n             * Used to determine when the text should be rendered on the action buttons.\n             * When the search menu is narrow, we do not want to show the button text.\n             */\n            const RENDER_ACTION_BUTTON_TEXT_OFFSET = 100;\n            const renderText = containerWidth > MENU_BOUNDS.expanded.minWidth + RENDER_ACTION_BUTTON_TEXT_OFFSET;\n\n            return (\n                <ActionButtonContainer isSelected={isFocused} className=\"action-buttons\">\n                    {actions.map((action) => (\n                        <ActionButton\n                            key={action.id}\n                            onMouseDown={(e) => handleActionMouseDown(action, e)}\n                            onFocus={() => updateAction(action)}\n                            onKeyDown={(e) => {\n                                if (e.key === 'Enter') {\n                                    handleActionMouseDown(action, e);\n                                }\n                            }}\n                            aria-label={`${action.title} Action for ${siteInfo.title}`}\n                        >\n                            {isSchemeDark\n                                ? action?.icon?.dark && <ActionImage src={action?.icon.dark} alt={action?.altText} />\n                                : action?.icon?.light && <ActionImage src={action?.icon.light} alt={action?.altText} />}\n                            {renderText && <Text>{action.title}</Text>}\n                        </ActionButton>\n                    ))}\n                </ActionButtonContainer>\n            );\n        },\n        [containerWidth, onSiteAction, site, isSchemeDark, isFocused]\n    );\n\n    const renderSwitchTabButtons = () => {\n        const getSwitchTabButton = (isOpen: boolean) =>\n            isOpen && (\n                <ActionButton\n                    tabIndex={0}\n                    onMouseDown={(e) => {\n                        if (e.button === 2 || e.button === 1) return;\n                        e.stopPropagation();\n                        handleSwitchTab(e);\n                    }}\n                    onKeyDown={(e) => {\n                        if (e.key === 'Enter') {\n                            handleSwitchTab(e);\n                        }\n                    }}\n                >\n                    Switch to tab\n                </ActionButton>\n            );\n\n        return getSwitchTabButton(isTabOpen);\n    };\n\n    return (\n        <div className=\"search-result\" role=\"listitem\">\n            <SelectableResultContainer\n                id={id}\n                role=\"option\"\n                as=\"a\"\n                tabIndex={0}\n                ref={containerRef}\n                onMouseDown={handleMouseDown}\n                onFocus={() => onFocused(site)}\n                isSelected={isFocused}\n                aria-live=\"polite\"\n                aria-label={siteInfo.title}\n                aria-selected={isFocused}\n                data-testid={enterpriseSearchMenuTestIds.searchResultItem}\n            >\n                <ResultIcon\n                    siteType={site.type}\n                    icon={siteInfo.icon}\n                    isSelected={isFocused}\n                    iconOptions={isSiteAppOrWebsite && site?.options?.icon}\n                />\n                <SiteInfoContainer>\n                    <SiteTitle size=\"base\" weight=\"normal\">\n                        {siteInfo.title}\n                    </SiteTitle>\n                    <SubTitle size=\"base\" isUrl={site.type === 'website'}>\n                        {getSiteSubTitle(site, trimUrl)}\n                    </SubTitle>\n                </SiteInfoContainer>\n                <ButtonContainer>\n                    {site.actions ? renderActionButtons(site.actions) : renderSwitchTabButtons()}\n                </ButtonContainer>\n                {site.rightSideIcon && <RightSideIcon icon={site.rightSideIcon} size=\"xlarge\" isFocused={isFocused} />}\n            </SelectableResultContainer>\n        </div>\n    );\n};\n\nexport const ResultContainer = styled(Box)<BoxProps>`\n    height: 40px;\n    width: 100%;\n\n    display: grid;\n    grid-template-columns: auto 1fr auto auto;\n    grid-gap: ${({ theme }) => theme.px.small};\n\n    align-items: center;\n    align-content: center;\n\n    padding: ${({ theme }) => `${theme.px.xsmall} ${theme.px.small}`};\n    border-radius: ${({ theme }) => theme.px.xsmall};\n    outline: none;\n`;\n\nconst ButtonContainer = styled.div`\n    display: none;\n    flex-direction: row-reverse;\n    align-items: center;\n`;\n\nexport const SelectableResultContainer = styled(ResultContainer)<{ isSelected?: boolean }>`\n    &:hover {\n        background-color: ${({ theme }) => theme.palette.background4};\n\n        & ${SiteIconWrapper} {\n            background: ${({ theme }) => theme.palette.background1};\n        }\n    }\n\n    &:hover ${ButtonContainer}, &:focus-visible ${ButtonContainer} {\n        display: flex;\n    }\n\n    ${({ isSelected, theme }) =>\n        isSelected &&\n        css`\n            background-color: ${theme.palette.background4};\n            cursor: pointer;\n            outline: 0;\n\n            & ${ButtonContainer} {\n                display: flex;\n            }\n        `}\n`;\n\nconst SiteInfoContainer = styled(Box)`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    min-width: 0;\n`;\n\nconst SiteTitle = styled(Text)`\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: ${({ theme }) => theme.palette.textDefault};\n    max-width: 100%;\n    line-height: 16px;\n`;\n\nconst SubTitle = styled(Text)<TextProps & { isUrl?: boolean }>`\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: ${({ theme, isUrl }) => (isUrl ? theme.palette.linkDefault : theme.palette.textHelp)};\n    max-width: 100%;\n    line-height: 16px;\n`;\n\nconst ActionButtonContainer = styled.div<{ isSelected: boolean }>`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    column-gap: ${({ theme }) => theme.px.small};\n    flex: 1 1 auto;\n    max-width: 50%;\n`;\n\nconst ActionButton = styled.button`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: ${({ theme }) => theme.px.xsmall};\n    background: ${({ theme }) => theme.palette.background3};\n    border: 1px solid ${({ theme }) => theme.palette.background5};\n    border-radius: ${({ theme }) => theme.px.xsmall};\n    padding: ${({ theme }) => `${theme.px.xsmall} ${theme.px.small}`};\n    height: 24px;\n    flex-shrink: 0;\n\n    color: ${({ theme }) => theme.palette.textDefault};\n    font: var(--openfin-ui-globalTypography);\n    font-weight: ${({ theme }) => theme.fontWeight.normal};\n    font-size: ${({ theme }) => theme.fontSize.base};\n    line-height: 15px;\n\n    &:hover {\n        background: ${({ theme }) => theme.palette.background4};\n    }\n\n    &:focus-visible {\n        outline: solid 1px ${({ theme }) => theme.palette.statusActive};\n        outline-offset: -1px;\n    }\n`;\n\nconst ActionImage = styled.img`\n    width: ${({ theme }) => theme.px.base};\n    height: ${({ theme }) => theme.px.base};\n`;\n\nconst RightSideIcon = styled(Icon)<{ isFocused: boolean }>`\n    opacity: 0;\n\n    ${SelectableResultContainer}:hover & {\n        opacity: 1;\n    }\n\n    ${({ isFocused }) => isFocused && `opacity: 1;`}\n`;\n","import { useContext, useEffect, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Text } from '@openfin/ui-library';\n\nimport { t } from '@common/api/i18next';\n\nimport { SelectableResult } from '@enterprise/components/ControlBar/SearchMenu/ResultsContainerWrapper';\nimport BrandIcon from '@enterprise/components/LandingPage/BrandIcon';\n\nimport { SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nimport { ReturnIcon } from './Icons';\nimport { COMMAND_BAR_HEIGHT } from './utils';\n\ntype CommandBarProps = {\n    selectedResult?: SelectableResult;\n    isLoading?: boolean;\n};\n\ntype ResultType = 'Workspace' | 'Supertab' | 'App' | 'URL' | 'View More' | 'Collection';\n\nexport const CommandBar = ({ selectedResult, isLoading }: CommandBarProps) => {\n    const { setAction } = useContext(SearchResultsContext);\n\n    const [resultType, setResultType] = useState<ResultType | null>();\n\n    useEffect(() => {\n        if (selectedResult?.type === 'app') {\n            setResultType('App');\n        } else if (selectedResult?.type === 'page') {\n            setResultType('Supertab');\n        } else if (selectedResult?.type === 'workspace') {\n            setResultType('Workspace');\n        } else if (selectedResult?.type === 'collection') {\n            setResultType('Collection');\n        } else if (selectedResult?.type === 'website') {\n            setResultType('URL');\n        } else if (selectedResult?.type === 'view-more-result') {\n            setResultType('View More');\n        } else {\n            setResultType(null);\n        }\n        setAction(null);\n    }, [selectedResult]);\n\n    return (\n        <Container>\n            <CommandsContainer>\n                <BrandLogoContainer>\n                    <BrandIconWrapper>\n                        <BrandIcon size=\"small\" />\n                    </BrandIconWrapper>\n                    {isLoading && <LoadingText size=\"base\">Loading...</LoadingText>}\n                </BrandLogoContainer>\n                <RightContainer>\n                    {selectedResult && (\n                        <GoToSite type={resultType} selectedResult={selectedResult} isPageOpen={false} />\n                    )}\n                </RightContainer>\n            </CommandsContainer>\n        </Container>\n    );\n};\n\n// TODO: WAAS-923 (for Eugene) logo is getting cut off because svg is not a perfect square, need new icon\nconst BrandLogoContainer = styled.div`\n    width: auto;\n    height: ${({ theme }) => theme.px.xlarge};\n\n    margin-left: ${({ theme }) => theme.px.large};\n\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n`;\n\nconst BrandIconWrapper = styled.div`\n    width: ${({ theme }) => theme.px.xlarge};\n    height: ${({ theme }) => theme.px.xlarge};\n\n    /* Override the CustomIcon's background-size to prevent clipping */\n    & > span > div {\n        background-size: contain !important;\n    }\n`;\n\nconst LoadingText = styled(Text)`\n    font-weight: 500;\n    color: ${({ theme }) => theme.palette.textDefault};\n    margin-left: ${({ theme }) => theme.px.small};\n`;\n\nconst RightContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    margin-right: ${({ theme }) => theme.px.xsmall};\n`;\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    background: ${({ theme }) => theme.palette.background2};\n    border: 1px solid ${({ theme }) => theme.palette.background5};\n\n    width: 100%;\n    height: ${COMMAND_BAR_HEIGHT}px;\n\n    z-index: 1;\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    right: 0;\n`;\n\nconst CommandsContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-content: center;\n`;\n\nconst IconContainer = styled.div<{ rightSide?: boolean }>`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-right: ${({ rightSide, theme }) => (rightSide ? theme.px.small : '2px')};\n    gap: 8px;\n\n    width: 20px;\n    height: 16px;\n\n    background: ${({ theme }) => theme.palette.background4};\n    border-radius: 2px;\n\n    margin-top: 2px;\n`;\n\nconst GoToSite = ({\n    selectedResult,\n    type,\n    isPageOpen\n}: {\n    selectedResult: SelectableResult;\n    type: ResultType;\n    isPageOpen: boolean;\n}) => {\n    const { action } = useContext(SearchResultsContext);\n\n    const actionText = action?.altText || action?.description;\n    const goToSiteText = isPageOpen\n        ? t('enterpriseCommandBar.switchToSupertab')\n        : selectedResult?.type === 'view-more-result'\n        ? t('enterpriseCommandBar.viewMore')\n        : (actionText ? actionText : selectedResult?.cta) || t('enterpriseCommandBar.goTo', { type });\n\n    return (\n        <>\n            {type && (\n                <>\n                    <Text style={{ lineHeight: '20px', paddingRight: '8px' }}>{goToSiteText}</Text>\n                    <IconContainer rightSide={true}>\n                        <ReturnIcon />\n                    </IconContainer>\n                </>\n            )}\n        </>\n    );\n};\n","import { useCallback, useEffect, useLayoutEffect, useMemo } from 'react';\n\nimport { SelectableResult } from '@enterprise/components/ControlBar/SearchMenu/ResultsContainerWrapper';\n\n/**\n * Custom hook for managing keyboard navigation within the search menu.\n * It allows users to navigate through selectable results using keyboard controls.\n *\n * @param focused - The currently focused selectable result.\n * @param setFocused - Function to set the focused result.\n * @param content - Array of selectable results to navigate through.\n * @param onFocus - Callback function to handle focus change.\n * @param sendKeyboardEventToBrowserWindow - Function to send keyboard events to the browser window.\n * @param resultListContainer - Reference to the container holding the results.\n *\n */\nconst useKeyboardNavigation = (\n    focused: SelectableResult | null,\n    setFocused: (result: SelectableResult | null) => void,\n    content: SelectableResult[] | [],\n    onFocus: (result: SelectableResult) => void,\n    sendKeyboardEventToBrowserWindow: (event: React.KeyboardEvent) => void,\n    resultListContainer: HTMLDivElement | null\n) => {\n    const currentFocusedIndex = useMemo(\n        () =>\n            content?.findIndex((result: SelectableResult) => {\n                if (focused?.type === 'view-more-result' && result.type === 'view-more-result') {\n                    return focused.providerId === result.providerId;\n                }\n                return result === focused;\n            }),\n        [content, focused]\n    );\n\n    useLayoutEffect(() => {\n        if (resultListContainer) {\n            const children = resultListContainer.childNodes;\n            const searchResults = Array.from(children).filter((child) =>\n                (child as HTMLElement).classList?.contains('search-result')\n            );\n            const child = searchResults[currentFocusedIndex] as HTMLDivElement;\n            if (!child) return;\n            child.scrollIntoView({ block: 'center', behavior: 'smooth' });\n        }\n    }, [currentFocusedIndex, resultListContainer]);\n\n    const handleArrowDown = useCallback(() => {\n        if (currentFocusedIndex < content.length - 1) {\n            const next = content[currentFocusedIndex + 1];\n            onFocus(next);\n        } else {\n            const first = content[0];\n            onFocus(first);\n        }\n    }, [currentFocusedIndex, content, onFocus]);\n\n    const handleArrowUp = useCallback(() => {\n        if (currentFocusedIndex > 0) {\n            const prev = content[currentFocusedIndex - 1];\n            onFocus(prev);\n        } else {\n            const last = content[content.length - 1];\n            onFocus(last);\n        }\n    }, [currentFocusedIndex, content, onFocus]);\n\n    const handleHome = useCallback(() => {\n        if (content.length) {\n            onFocus(content[0]);\n        }\n    }, [content, onFocus]);\n\n    const handleEnd = useCallback(() => {\n        if (content.length) {\n            const lastIndex = content.length - 1;\n            onFocus(content[lastIndex]);\n        }\n    }, [content, onFocus]);\n\n    useEffect(() => {\n        const handleKeyDown = (event: KeyboardEvent & React.KeyboardEvent) => {\n            switch (event.key) {\n                case 'ArrowDown':\n                    event.preventDefault();\n                    handleArrowDown();\n                    break;\n                case 'ArrowUp':\n                    event.preventDefault();\n                    handleArrowUp();\n                    break;\n                case 'Home':\n                    event.preventDefault();\n                    handleHome();\n                    break;\n                case 'End':\n                    event.preventDefault();\n                    handleEnd();\n                    break;\n                case 'Shift':\n                case 'Tab':\n                case 'ArrowLeft':\n                case 'ArrowRight':\n                case 'Enter':\n                    break;\n                default:\n                    if (!(event.metaKey && event.ctrlKey)) {\n                        setFocused(null);\n                        sendKeyboardEventToBrowserWindow(event);\n                    }\n                    break;\n            }\n        };\n\n        window.addEventListener('keydown', handleKeyDown);\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [handleArrowDown, handleArrowUp, handleEnd, handleHome, sendKeyboardEventToBrowserWindow]);\n};\n\nexport default useKeyboardNavigation;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { enterpriseSearchMenuTestIds } from '@common/utils/test-ids';\n\nimport { CommandBar } from '@enterprise/components/ControlBar/SearchMenu/CommandBar';\n\nimport { Site, SiteAction } from '@client-platform/shapes';\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport useKeyboardNavigation from '@enterprise/hooks/EnterpriseSearchMenu/useKeyboardNavigation';\n\nexport type ViewMoreButton = { type: 'view-more-result'; id: string; providerId: string };\n\nexport const RESULTS_CONTAINER_ID = 'results-container';\n\nexport type SelectableResult = Site | ViewMoreButton;\n\nexport interface ResultsContainerWrapperProps {\n    isLoading: boolean;\n    children: (\n        setFocused: (toFocus: SelectableResult) => void,\n        focused: SelectableResult,\n        onSiteAction: (site: Site, action: SiteAction) => void\n    ) => React.ReactNode;\n    flattenedResults: SelectableResult[] | [];\n}\n\nexport const ResultsContainerWrapper = (props: ResultsContainerWrapperProps) => {\n    const { setSelectedSite, sendKeyboardEventToBrowserWindow } = useContext(SearchMenuControlContext);\n\n    const resultListContainer = useRef<HTMLDivElement>(null);\n    const [focused, setFocused] = useState<SelectableResult | null>();\n\n    const onSiteAction = useCallback(\n        (site: Site, action: SiteAction) => {\n            setFocused(site);\n            setSelectedSite({ ...site, action });\n        },\n        [props]\n    );\n\n    useKeyboardNavigation(\n        focused,\n        setFocused,\n        props.flattenedResults,\n        (site: Site) => setFocused(site),\n        sendKeyboardEventToBrowserWindow,\n        resultListContainer.current\n    );\n\n    useEffect(() => {\n        if (!props.flattenedResults) {\n            return;\n        }\n        if (!focused) {\n            resultListContainer.current?.setAttribute('aria-activedescendant', focused?.id ?? '');\n        } else if (props.flattenedResults.length > 0) {\n            resultListContainer.current?.setAttribute('aria-activedescendant', props.flattenedResults[0].id);\n        } else {\n            setFocused(null);\n        }\n    }, [props.flattenedResults, focused]);\n\n    useEffect(() => {\n        // Enables auto focus of first result after all results have loaded and user hasn't yet focused on one\n        if (!props.isLoading && props.flattenedResults.length && !focused) {\n            setFocused(props.flattenedResults[0]);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.isLoading, props.flattenedResults.length]);\n\n    return (\n        <Container>\n            <ScrollableArea>\n                <ContentContainer\n                    role=\"listbox\"\n                    ref={resultListContainer}\n                    aria-activedescendant=\"\"\n                    id={RESULTS_CONTAINER_ID}\n                    data-testid={enterpriseSearchMenuTestIds.resultsContainer}\n                >\n                    {props.children(setFocused, focused, onSiteAction)}\n                </ContentContainer>\n            </ScrollableArea>\n            <CommandBar isLoading={props.isLoading} selectedResult={focused} />\n        </Container>\n    );\n};\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    min-height: 0;\n`;\n\nconst ScrollableArea = styled.div`\n    border-left: 1px solid ${({ theme }) => theme.palette.background5};\n    border-right: 1px solid ${({ theme }) => theme.palette.background5};\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    user-select: none;\n    width: 100%;\n    flex: 1;\n    overflow: auto;\n`;\n\nconst ContentContainer = styled.div`\n    padding: 0px ${({ theme }) => theme.px.small} ${({ theme }) => theme.px.small} ${({ theme }) => theme.px.small};\n`;\n","import styled from 'styled-components';\n\nimport { Box, BoxProps } from '@openfin/ui-library';\n\nimport { IconContainer } from './Icons';\nimport { ResultContainer } from './Result';\n\nconst PLACEHOLDER_LENGTHS = [\n    { text: 300, subtext: 207 },\n    { text: 262, subtext: 116 },\n    { text: 156, subtext: 56 },\n    { text: 210, subtext: 130 }\n];\n\nexport const SkeletonResultList = ({ resultsNum }: { resultsNum: number }) => {\n    return (\n        <>\n            {Array.from({ length: resultsNum }).map((_, index) => (\n                <SkeletonResult variant={index % 4} key={`skeleton-result-${index}`} />\n            ))}\n        </>\n    );\n};\n\nexport const SkeletonResult: React.FC<{ variant: number }> = ({ variant }) => {\n    return (\n        <ResultContainer>\n            <IconContainer />\n            <TextPlaceholderContainer>\n                <TextPlaceholder width={PLACEHOLDER_LENGTHS[variant].text} />\n                <TextPlaceholder width={PLACEHOLDER_LENGTHS[variant].subtext} />\n            </TextPlaceholderContainer>\n        </ResultContainer>\n    );\n};\n\nconst TextPlaceholderContainer = styled(Box)`\n    height: ${({ theme }) => theme.px.xxlarge};\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-start;\n`;\n\nconst TextPlaceholder = styled(Box)<BoxProps & { width: number }>`\n    height: ${({ theme }) => theme.px.small};\n    width: ${({ width }) => width}px;\n\n    border-radius: 3px;\n    background: ${({ theme }) => theme.palette.background2};\n\n    background: linear-gradient(\n        45deg,\n        ${({ theme }) => theme.palette.background2} 0%,\n        ${({ theme }) => theme.palette.background4} 50%,\n        ${({ theme }) => theme.palette.background2} 100%\n    );\n    background-size: 200% 200%;\n    animation: shimmer 3s linear infinite;\n\n    @keyframes shimmer {\n        0% {\n            background-position: 200% 0;\n        }\n        100% {\n            background-position: -200% 0;\n        }\n    }\n`;\n","import { useCallback, useEffect, useRef } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Box, Icon } from '@openfin/ui-library';\n\nimport { enterpriseSearchMenuTestIds } from '@common/utils/test-ids';\nimport { raiseBrowserAnalytics } from '@common/utils/usage-register';\n\nimport { t } from '@common/api/i18next';\n\nimport { SelectableResult } from '@enterprise/components/ControlBar/SearchMenu/ResultsContainerWrapper';\n\nimport { SiteIconWrapper } from './Icons';\nimport { SelectableResultContainer } from './Result';\n\ninterface ViewMoreResultsButtonProps {\n    providerId: string;\n    isFocused?: boolean;\n    handleProviderSelected: (providerId: string) => void;\n    onFocused: (result: SelectableResult) => void;\n    providerTitle?: string;\n}\n\nconst ViewMoreResultsButton: React.FC<ViewMoreResultsButtonProps> = ({\n    providerId,\n    isFocused,\n    handleProviderSelected,\n    onFocused,\n    providerTitle\n}) => {\n    const containerRef = useRef<HTMLAnchorElement>(null);\n\n    useEffect(() => {\n        if (isFocused) {\n            containerRef.current.focus({ preventScroll: true });\n        }\n    }, [isFocused]);\n\n    const handleMouseDown = useCallback(() => {\n        raiseBrowserAnalytics({\n            type: 'Search',\n            action: 'Select View More',\n            value: providerTitle\n        });\n        handleProviderSelected(providerId);\n    }, [handleProviderSelected, providerId, providerTitle]);\n\n    const handleKeyDown = useCallback(\n        (e: React.KeyboardEvent) => {\n            if (e.key === 'Enter') {\n                e.preventDefault();\n                e.stopPropagation();\n                handleMouseDown();\n            }\n        },\n        [handleMouseDown]\n    );\n\n    return (\n        <div className=\"search-result\" role=\"listitem\">\n            <SelectableResultContainer\n                role=\"option\"\n                as=\"a\"\n                tabIndex={0}\n                ref={containerRef}\n                onMouseDown={handleMouseDown}\n                onKeyDown={handleKeyDown}\n                onFocus={() => onFocused({ type: 'view-more-result', id: `${providerId}-view-more`, providerId })}\n                isSelected={isFocused}\n                aria-live=\"polite\"\n                aria-label={t('enterpriseCommandBar.viewMore')}\n                aria-selected={isFocused}\n                data-testid={enterpriseSearchMenuTestIds.viewMoreResultsButton}\n            >\n                <SiteIconWrapper isSelected={isFocused}>\n                    <Icon icon=\"DotsVerticalIcon\" />\n                </SiteIconWrapper>\n                <ViewMoreText>{t('enterpriseCommandBar.viewMore')}</ViewMoreText>\n            </SelectableResultContainer>\n        </div>\n    );\n};\n\nexport default ViewMoreResultsButton;\n\nconst ViewMoreText = styled(Box)`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    min-width: 0;\n`;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { SearchProviderResult, SearchSitesResponse } from '@client-platform/shapes';\nimport { AsyncResultsObserver } from '@enterprise/hooks/EnterpriseSearchMenu/utils';\n\n/**\n * Custom hook to manage asynchronous search results.\n *\n * @param {SearchSitesResponse} searchResults - The initial search results to set.\n * @param {AsyncResultsObserver} asyncResultsObserver - The observer to handle updates from the search provider.\n * @param {string} queryId - The unique identifier for the current query.\n * @returns {SearchSitesResponse} The current state of asynchronous search results.\n */\nexport const useAsyncProviderResults = (\n    searchResults: SearchSitesResponse,\n    asyncResultsObserver: AsyncResultsObserver,\n    queryId: string\n) => {\n    const [asyncSearchResults, setAsyncSearchResults] = useState<SearchSitesResponse>([]);\n\n    useEffect(() => {\n        setAsyncSearchResults(searchResults);\n    }, [searchResults]);\n\n    const updateHandler = useCallback(\n        (providerResult: SearchProviderResult) => {\n            if (providerResult.queryId !== queryId) {\n                return;\n            }\n\n            setAsyncSearchResults((prev) =>\n                prev.map((result) => {\n                    if (result.id === providerResult.id) {\n                        return {\n                            ...result,\n                            results: providerResult.results,\n                            showViewMore: providerResult.showViewMore\n                        };\n                    }\n                    return result;\n                })\n            );\n        },\n        [queryId]\n    );\n\n    useEffect(() => {\n        asyncResultsObserver.on(updateHandler);\n        return () => {\n            asyncResultsObserver.off(updateHandler);\n        };\n    }, [asyncResultsObserver, updateHandler]);\n\n    return asyncSearchResults;\n};\n","import React, { FC, useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Text } from '@openfin/ui-library';\n\nimport { NoResults } from '@enterprise/components/ControlBar/SearchMenu/NoResults';\nimport { Result } from '@enterprise/components/ControlBar/SearchMenu/Result';\nimport {\n    ResultsContainerWrapper,\n    ViewMoreButton\n} from '@enterprise/components/ControlBar/SearchMenu/ResultsContainerWrapper';\nimport { SkeletonResultList } from '@enterprise/components/ControlBar/SearchMenu/SkeletonResult';\nimport ViewMoreResultsButton from '@enterprise/components/ControlBar/SearchMenu/ViewMoreResultsButton';\n\nimport { SearchProvider, SearchProviderResult, SearchSitesResponse } from '@client-platform/shapes';\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport { SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\nimport { useAsyncProviderResults } from '@enterprise/hooks/EnterpriseSearchMenu/useAsyncProviderResults';\nimport { AsyncResultsObserver } from '@enterprise/hooks/EnterpriseSearchMenu/utils';\n\nconst getFlattenedResultsWithViewMoreOptions = (asyncResults: SearchSitesResponse) => {\n    return asyncResults\n        .map((e) => {\n            const res = e.results ?? [];\n            return e.showViewMore\n                ? [...res, { type: 'view-more-result', id: `${e.id}-view-more`, providerId: e.id } as ViewMoreButton]\n                : res;\n        })\n        .flat();\n};\n\nconst getSortedProviders = (providers: SearchProvider[]) => {\n    // Results come in async but we should always display the suggestions first if any\n    return [...providers].sort((a) => (a.title.includes('Suggestions') ? -1 : 0));\n};\n\nconst getSortedProviderResults = (\n    asyncResults: SearchSitesResponse,\n    getProviderById: (id: string) => SearchProvider\n) => {\n    // Results come in async but we should always display the suggestions first if any\n    const providers = asyncResults.map((provider) => getProviderById(provider.id)).filter((provider) => !!provider);\n    return getSortedProviders(providers).map((provider) =>\n        asyncResults.find((resultProvider) => resultProvider.id === provider.id)\n    );\n};\n\nexport const isContentLoading = (providerResults: SearchProviderResult): boolean => {\n    return providerResults?.results === null || providerResults?.results === undefined;\n};\n\ninterface AllResultsContainerProps {\n    handleProviderSelected: (providerId: string) => void;\n    asyncResultsObserver: AsyncResultsObserver;\n}\n\nexport const AllProvidersResultsContainer: FC<AllResultsContainerProps> = ({\n    handleProviderSelected,\n    asyncResultsObserver\n}) => {\n    const {\n        searchResults,\n        searchProviders: rawSearchProviders,\n        isQueryingResults,\n        setAction\n    } = useContext(SearchResultsContext);\n    const { queryId } = useContext(SearchMenuControlContext);\n\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n\n    const searchProviders = useMemo(() => getSortedProviders(rawSearchProviders), [rawSearchProviders]);\n\n    const asyncResults = useAsyncProviderResults(searchResults, asyncResultsObserver, queryId);\n    const getProviderById = useCallback(\n        (id: string) => searchProviders.find((provider) => provider.id === id),\n        [searchProviders]\n    );\n    const hasNoResults = useMemo(\n        () =>\n            !isQueryingResults &&\n            asyncResults.every(\n                (provider) =>\n                    !isContentLoading(provider) &&\n                    !provider.results?.length &&\n                    (provider.results !== null || provider.results !== undefined)\n            ),\n        [isQueryingResults, asyncResults]\n    );\n    useEffect(() => {\n        setIsLoading(isQueryingResults || asyncResults.some(isContentLoading));\n    }, [isQueryingResults, asyncResults]);\n\n    const sortedResults = useMemo(\n        () => getSortedProviderResults(asyncResults, getProviderById),\n        [asyncResults, getProviderById]\n    );\n    const flattenedResults = useMemo(() => getFlattenedResultsWithViewMoreOptions(sortedResults), [sortedResults]);\n\n    const renderProviderHeader = useCallback(\n        (providerId: string) => (\n            <Category data-is-header>\n                <CategoryText size=\"base\" as=\"h2\">\n                    {getProviderById(providerId)?.title}\n                </CategoryText>\n            </Category>\n        ),\n        [getProviderById]\n    );\n\n    return (\n        <ResultsContainerWrapper flattenedResults={flattenedResults} isLoading={isLoading}>\n            {(setFocused, focused, onSiteAction) => (\n                <>\n                    {hasNoResults && <NoResults />}\n                    {isQueryingResults\n                        ? searchProviders.map((provider) => (\n                              <>\n                                  {renderProviderHeader(provider.id)}\n                                  <SkeletonResultList resultsNum={5} />\n                              </>\n                          ))\n                        : sortedResults.map((providerResult) =>\n                              !isContentLoading(providerResult) && providerResult.results.length === 0 ? null : (\n                                  <>\n                                      {renderProviderHeader(providerResult.id)}\n                                      {isContentLoading(providerResult) ? (\n                                          <SkeletonResultList resultsNum={5} />\n                                      ) : (\n                                          <>\n                                              {providerResult.results.map((site) => (\n                                                  <React.Fragment\n                                                      key={`${providerResult.id}-section-${site.type}-${site.id}`}\n                                                  >\n                                                      <Result\n                                                          site={site}\n                                                          isFocused={site === focused}\n                                                          id={`result-${site.type}-${site.id}`}\n                                                          onSiteAction={onSiteAction}\n                                                          onFocused={setFocused}\n                                                          updateAction={setAction}\n                                                      />\n                                                  </React.Fragment>\n                                              ))}\n                                              {providerResult.showViewMore && (\n                                                  <ViewMoreResultsButton\n                                                      providerId={providerResult.id}\n                                                      isFocused={focused?.id === `${providerResult.id}-view-more`}\n                                                      handleProviderSelected={handleProviderSelected}\n                                                      onFocused={setFocused}\n                                                      providerTitle={getProviderById(providerResult.id)?.title}\n                                                  />\n                                              )}\n                                          </>\n                                      )}\n                                  </>\n                              )\n                          )}\n                </>\n            )}\n        </ResultsContainerWrapper>\n    );\n};\n\nconst Category = styled.div`\n    margin-top: ${({ theme }) => theme.px.small};\n`;\n\nconst CategoryText = styled(Text)`\n    line-height: 15px;\n    font-weight: 500;\n    color: ${({ theme }) => theme.palette.textHelp};\n    padding: ${({ theme }) => theme.px.xsmall};\n    padding-left: ${({ theme }) => theme.px.small};\n`;\n","import { Fragment, useContext, useRef, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Box, Text } from '@openfin/ui-library';\n\nimport { raiseBrowserAnalytics } from '@common/utils/usage-register';\n\nimport { t } from '@common/api/i18next';\n\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport { SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nimport { ContentContainer, EMPTY_SEARCH_INPUT_CONTAINER_ID } from './EmptySearchInputContainer';\nimport { RecentSite } from './RecentSite';\nimport { SiteCard } from './SiteCard';\n\nconst CURATED_CONTENT_LIMIT = 15;\nconst RECENT_CONTENT_LIMIT = 5;\n\nexport const EmptyAllProviderSearchContainer = () => {\n    const { recentlyVisited, curatedContent } = useContext(SearchResultsContext);\n    const { setSelectedSite, sendKeyboardEventToBrowserWindow } = useContext(SearchMenuControlContext);\n\n    const [selectedFeaturedSite, setSelectedFeaturedSite] = useState(-1);\n    const [selectedRecentlyVisited, setSelectedRecentlyVisited] = useState(-1);\n    const featuredListContainer = useRef(null);\n\n    const onSelectedFeaturedSite = (index: number) => {\n        const curatedContentItem = curatedContent[index];\n\n        raiseBrowserAnalytics({\n            action: 'Select Featured Item',\n            type: 'Search',\n            value: curatedContentItem.title,\n            data: { uuid: curatedContentItem.id }\n        });\n\n        setSelectedFeaturedSite(index);\n        setSelectedSite(curatedContent[index]);\n    };\n\n    const onSelectedRecentlyVisited = (index: number) => {\n        const recentlyVisitedItem = recentlyVisited[index];\n\n        raiseBrowserAnalytics({\n            action: 'Select Recently Visited Item',\n            type: 'Search',\n            value: recentlyVisitedItem.title,\n            data: { uuid: recentlyVisitedItem.id }\n        });\n\n        setSelectedRecentlyVisited(index);\n        setSelectedSite(recentlyVisited[index]);\n    };\n\n    return (\n        <div id={EMPTY_SEARCH_INPUT_CONTAINER_ID}>\n            <ContentContainer>\n                {curatedContent.length > 0 && (\n                    <>\n                        <Title size=\"xxlarge\" weight=\"bold\">\n                            {t('appResults.header')}\n                        </Title>\n\n                        <EmptySearchInputWrapper role=\"listbox\" ref={featuredListContainer}>\n                            {curatedContent?.slice(0, CURATED_CONTENT_LIMIT).map((site, index) => {\n                                return (\n                                    <Fragment key={`curated-content-${site.id}`}>\n                                        <SiteCard\n                                            id={`curatedContent-${index}`}\n                                            site={site}\n                                            index={index}\n                                            isSelected={selectedFeaturedSite === index}\n                                            onSelectedSite={onSelectedFeaturedSite}\n                                            sendKeyboardEventToBrowserWindow={sendKeyboardEventToBrowserWindow}\n                                        />\n                                    </Fragment>\n                                );\n                            })}\n                        </EmptySearchInputWrapper>\n                    </>\n                )}\n                <Title size=\"xxlarge\" weight=\"bold\">\n                    {t('recentlyClosed.header')}\n                </Title>\n                {recentlyVisited.length ? (\n                    <RecentSiteContainer>\n                        {recentlyVisited.slice(0, RECENT_CONTENT_LIMIT).map((site, index) => {\n                            return (\n                                <Fragment key={`recent-site-${index}`}>\n                                    <RecentSite\n                                        id={recentlyVisited[index].id}\n                                        site={site}\n                                        index={index}\n                                        isSelected={selectedRecentlyVisited === index}\n                                        onSelectedSite={onSelectedRecentlyVisited}\n                                        sendKeyboardEventToBrowserWindow={sendKeyboardEventToBrowserWindow}\n                                    />\n                                </Fragment>\n                            );\n                        })}\n                    </RecentSiteContainer>\n                ) : (\n                    <NoRecentlyVisited>\n                        <NoRecentlyVisitedText>\n                            Recently visited content appears here when you explore or search.\n                        </NoRecentlyVisitedText>\n                    </NoRecentlyVisited>\n                )}\n            </ContentContainer>\n            <BottomBorder />\n        </div>\n    );\n};\n\nexport const EMPTY_SEARCH_INPUT_CONTAINER_BORDER_HEIGHT = 1;\n\nconst Title = styled(Text)`\n    line-height: ${({ theme }) => theme.px.xxlarge};\n    margin: 0 0 ${({ theme }) => theme.px.base};\n    font-size: ${({ theme }) => theme.px.large};\n    font-weight: 600;\n    display: block;\n`;\n\nconst breakpoints = {\n    min: 376,\n    max: 728\n};\n\nconst EmptySearchInputWrapper = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(64px, 1fr));\n    max-width: 680px;\n    max-height: 192px;\n    overflow: auto;\n    gap: ${({ theme }) => theme.px.large};\n    margin-bottom: ${({ theme }) => theme.px.xxlarge};\n    padding-right: ${({ theme }) => theme.px.base};\n    @media (min-width: ${breakpoints.min}) and (max-width: ${breakpoints.max}) {\n        grid-template-columns: repeat(auto-fill, minmax(64px, calc((100% - 48px) / 4)));\n    }\n    @media (min-width: ${breakpoints.max}) {\n        grid-template-columns: repeat(auto-fill, minmax(64px, calc((100% - 112px) / 8)));\n    }\n    a div div:first-child {\n        background-color: ${({ theme }) => theme.palette.background2};\n    }\n    a:hover div div:first-child,\n    a:focus-visible div div:first-child {\n        background-color: ${({ theme }) => theme.palette.background4};\n    }\n    a:focus-visible div div:first-child {\n        outline: solid 1px ${({ theme }) => theme.palette.statusActive};\n        outline-offset: -1px;\n    }\n`;\n\nconst RecentSiteContainer = styled(Box)`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    padding-left: ${({ theme }) => theme.px.xsmall};\n    outline: none;\n    a:hover,\n    a:focus-visible {\n        background-color: ${({ theme }) => theme.palette.background4};\n    }\n    a:focus-visible {\n        outline: solid 1px ${({ theme }) => theme.palette.statusActive};\n        outline-offset: -1px;\n    }\n    a div div:first-child {\n        background-color: ${({ theme }) => theme.palette.background3};\n    }\n`;\n\nconst NoRecentlyVisited = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    margin-top: ${({ theme }) => theme.px.base};\n`;\n\nconst NoRecentlyVisitedText = styled.span`\n    color: ${({ theme }) => theme.palette.textDefault};\n    font-size: 12px;\n    line-height: 16px;\n    font-weight: 400;\n`;\n\nconst BottomBorder = styled.div`\n    height: ${EMPTY_SEARCH_INPUT_CONTAINER_BORDER_HEIGHT}px;\n    width: 100%;\n    background-color: ${({ theme }) => theme.palette.background5};\n    z-index: 1;\n    position: sticky;\n    bottom: 0;\n    left: 0;\n    right: 0;\n`;\n","import { useContext } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nimport { CommandBar } from './CommandBar';\nimport { ContentContainer, EMPTY_SEARCH_INPUT_CONTAINER_ID } from './EmptySearchInputContainer';\n\nconst EmptySingleProviderSearchContainer = ({ providerId }: { providerId: string }) => {\n    const { searchProviders } = useContext(SearchResultsContext);\n    const activeProvider = searchProviders.find((p) => p.id === providerId);\n\n    return (\n        <div id={EMPTY_SEARCH_INPUT_CONTAINER_ID}>\n            <ContentContainer>\n                <Container>\n                    {activeProvider?.icon ? (\n                        <ProviderIcon src={activeProvider.icon} alt={activeProvider.title} />\n                    ) : (\n                        <LargeIcon icon=\"MagnifyingGlassIcon\" size=\"xxxlarge\" />\n                    )}\n                    <TextSection>\n                        <HeaderText>Search {activeProvider.title}</HeaderText>\n                        <Subtext>Start typing to see results.</Subtext>\n                    </TextSection>\n                </Container>\n            </ContentContainer>\n            <CommandBar />\n        </div>\n    );\n};\n\nexport default EmptySingleProviderSearchContainer;\n\nconst Container = styled.div`\n    height: 184px;\n\n    display: flex;\n    gap: ${({ theme }) => theme.px.large};\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst TextSection = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst ProviderIcon = styled.img`\n    height: 64px;\n    width: 64px;\n    border-radius: ${({ theme }) => theme.px.small};\n`;\n\nconst HeaderText = styled.span`\n    height: ${({ theme }) => theme.px.xxlarge};\n    font-size: ${({ theme }) => theme.fontSize.large};\n    font-weight: 500;\n`;\n\nconst Subtext = styled.span`\n    color: ${({ theme }) => theme.palette.textHelp};\n    text-align: center;\n`;\n\nconst LargeIcon = styled(Icon)`\n    --px-container: 64px;\n    --px-icon: 64px;\n`;\n","import styled from 'styled-components';\n\nimport { DEFAULT_ALL_TAB } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nimport { EmptyAllProviderSearchContainer } from './EmptyAllProviderSearchContainer';\nimport EmptySingleProviderSearchContainer from './EmptySingleProviderSearchContainer';\n\nexport const EMPTY_SEARCH_INPUT_CONTAINER_ID = 'empty-search-input-container';\n\nexport const EmptySearchInputContainer = ({\n    showQuerylessText,\n    providerId\n}: {\n    showQuerylessText: boolean;\n    providerId: string;\n}) => {\n    return showQuerylessText && providerId !== DEFAULT_ALL_TAB.id ? (\n        <EmptySingleProviderSearchContainer providerId={providerId} />\n    ) : (\n        <EmptyAllProviderSearchContainer />\n    );\n};\n\n// shared between the EmptyAllProviderSearchContainer and EmptySingleProviderSearchContainer components\nexport const ContentContainer = styled.div`\n    padding-top: ${({ theme }) => theme.px.base};\n    padding-bottom: ${({ theme }) => theme.px.large};\n    padding-left: ${({ theme }) => theme.px.xxlarge};\n    padding-right: ${({ theme }) => theme.px.xxlarge};\n\n    border-left: 1px solid ${({ theme }) => theme.palette.background5};\n    border-right: 1px solid ${({ theme }) => theme.palette.background5};\n\n    overflow-y: auto;\n    overflow-x: hidden;\n    ::-webkit-scrollbar {\n        display: none;\n    }\n`;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\n\nimport styled, { css } from 'styled-components';\n\nimport { Box, Text } from '@openfin/ui-library';\n\nimport BrandIcon from '@enterprise/components/LandingPage/BrandIcon';\n\nimport { SearchProvider } from '@client-platform/shapes';\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport { DEFAULT_ALL_TAB, SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nimport { SEARCH_PROVIDER_TAB_HEIGHT } from './utils';\n\ntype SearchProviderTabsProps = {\n    onProviderSelected: (providerId: string) => void;\n};\n\nfunction ImageIcon({ provider }: { provider: SearchProvider }) {\n    const [isError, setIsError] = useState(false);\n    const handleError = () => {\n        setIsError(true);\n    };\n\n    return isError ? null : (\n        <img\n            src={provider.icon}\n            alt={provider.title}\n            style={{ width: 16, height: 16, borderRadius: 4 }}\n            onError={handleError}\n        />\n    );\n}\n\nexport const SearchProviderTabs: React.FC<SearchProviderTabsProps> = ({ onProviderSelected }) => {\n    const { searchProviders, activeProviderId } = useContext(SearchResultsContext);\n    const { sendKeyboardEventToBrowserWindow, focusRequestId } = useContext(SearchMenuControlContext);\n    const [focusedTabIndex, setFocusedTabIndex] = useState<number>(0);\n\n    useEffect(() => {\n        if (focusRequestId) {\n            containerRef.current.focus();\n        }\n    }, [focusRequestId]);\n\n    const handleKeyDown = useCallback(\n        (event: React.KeyboardEvent<HTMLButtonElement>) => {\n            const searchTabElements = containerRef.current.children as HTMLCollectionOf<HTMLButtonElement>;\n            let newTabIndex = focusedTabIndex;\n            switch (event.key) {\n                case 'ArrowLeft':\n                    newTabIndex = (focusedTabIndex - 1 + searchTabElements.length) % searchTabElements.length;\n                    break;\n                case 'ArrowRight':\n                    newTabIndex = (focusedTabIndex + 1) % searchTabElements.length;\n                    break;\n                case 'Home':\n                    newTabIndex = 0;\n                    break;\n                case 'End':\n                    newTabIndex = -1;\n                    break;\n                case 'Shift':\n                case 'Tab':\n                    break;\n                default:\n                    if (sendKeyboardEventToBrowserWindow) sendKeyboardEventToBrowserWindow(event);\n                    break;\n            }\n            if (newTabIndex !== focusedTabIndex) {\n                searchTabElements.item(newTabIndex).focus();\n                setFocusedTabIndex(newTabIndex);\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        },\n        [sendKeyboardEventToBrowserWindow, focusedTabIndex]\n    );\n\n    // Only static tab is the 'All' tab.\n    const mergedProviders: SearchProvider[] = [DEFAULT_ALL_TAB, ...searchProviders];\n\n    const containerRef = useRef<HTMLDivElement>(null);\n\n    const renderIcon = (provider: SearchProvider) => {\n        if (!provider.icon) return null;\n\n        if (provider.icon === 'BRAND_ICON') {\n            return (\n                <div style={{ width: 16, height: 16 }}>\n                    <BrandIcon size={'small'} />\n                </div>\n            );\n        }\n\n        return <ImageIcon provider={provider} />;\n    };\n\n    const onTabsWrapperFocus = useCallback(\n        (event: React.FocusEvent) => {\n            if (event.target === event.currentTarget) {\n                const activeTabIndex = mergedProviders\n                    .filter((p) => p.isTab !== false)\n                    .findIndex((provider) => provider.id === activeProviderId);\n                const searchTabElements = containerRef.current.children;\n                (searchTabElements.item(activeTabIndex) as HTMLButtonElement).focus();\n                setFocusedTabIndex(activeTabIndex);\n            }\n        },\n        [mergedProviders, activeProviderId, setFocusedTabIndex]\n    );\n\n    return (\n        <TabsWrapper ref={containerRef} onFocus={onTabsWrapperFocus} role=\"tablist\" tabIndex={0}>\n            {mergedProviders\n                .filter((provider) => provider.isTab !== false)\n                .map((provider) => (\n                    <TabContainer\n                        key={provider.id}\n                        onClick={() => onProviderSelected(provider.id)}\n                        onKeyDown={handleKeyDown}\n                        active={provider.id === activeProviderId}\n                        role=\"tab\"\n                        aria-label={provider.title}\n                        aria-selected={provider.id === activeProviderId}\n                        tabIndex={-1}\n                    >\n                        <Tab active={provider.id === activeProviderId}>\n                            {renderIcon(provider)}\n                            <TabText active={provider.id === activeProviderId}>{provider.title}</TabText>\n                        </Tab>\n                    </TabContainer>\n                ))}\n        </TabsWrapper>\n    );\n};\n\nexport default SearchProviderTabs;\n\nconst TabsWrapper = styled(Box)`\n    height: ${SEARCH_PROVIDER_TAB_HEIGHT}px;\n    width: 100%;\n\n    display: flex;\n    align-items: start;\n    gap: ${({ theme }) => theme.px.small};\n    padding: 0px ${({ theme }) => theme.px.base};\n\n    position: sticky;\n    top: 0;\n    z-index: 1000;\n\n    background-color: ${({ theme }) => theme.palette.background1};\n    border-bottom: 1px solid ${({ theme }) => theme.palette.background5};\n    border-left: 1px solid ${({ theme }) => theme.palette.background5};\n    border-right: 1px solid ${({ theme }) => theme.palette.background5};\n\n    overflow-x: auto;\n    overflow-y: hidden;\n    white-space: nowrap;\n`;\n\nconst TabContainer = styled.button<{ active?: boolean }>`\n    height: 35px;\n    padding-top: ${({ theme }) => theme.px.xsmall};\n    padding-bottom: 11px;\n    margin: 0;\n    background: none;\n    position: relative;\n\n    display: inline-flex;\n    align-items: start;\n\n    gap: ${({ theme }) => theme.px.xsmall};\n\n    cursor: pointer;\n\n    /* Styling for Indicator Border */\n    &::after {\n        content: '';\n        height: 2px;\n        width: 100%;\n\n        position: absolute;\n        left: 0;\n        bottom: 3px;\n\n        background-color: ${({ active, theme }) => (active ? theme.palette.brandPrimary : 'transparent')};\n        border-radius: 1px;\n        transition: background-color 0.3s ease;\n    }\n\n    &:focus {\n        outline: none;\n    }\n\n    &:focus-visible > div {\n        outline: solid 1px ${({ theme }) => theme.palette.statusActive};\n    }\n\n    &:hover {\n        cursor: pointer;\n    }\n`;\n\nconst Tab = styled.div<{ active?: boolean }>`\n    height: ${({ theme }) => theme.px.xxlarge};\n    padding-left: ${({ theme }) => theme.px.xsmall};\n    padding-right: ${({ theme }) => theme.px.xsmall};\n    margin: 0;\n    border-radius: ${({ theme }) => theme.radius.small};\n\n    display: inline-flex;\n    align-items: center;\n\n    position: relative;\n\n    ${({ active, theme }) =>\n        !active &&\n        css`\n            ${TabContainer}:hover & {\n                cursor: pointer;\n                background-color: ${theme.palette.background4};\n            }\n        `}\n\n    img, div {\n        width: ${({ theme }) => theme.px.large};\n        height: ${({ theme }) => theme.px.large};\n        margin-right: ${({ theme }) => theme.px.xsmall};\n    }\n`;\n\nconst TabText = styled(Text)<{ active: boolean }>`\n    color: ${({ theme }) => theme.palette.textDefault};\n    opacity: ${({ active }) => (active ? 1 : 0.75)};\n\n    font-size: ${({ theme }) => theme.fontSize.base};\n    font-weight: 500;\n\n    ${({ active }) =>\n        !active &&\n        css`\n            ${TabContainer}:hover & {\n                cursor: pointer;\n                opacity: 1;\n            }\n        `}\n`;\n","import { useCallback, useEffect, useReducer, useRef } from 'react';\n\nimport { SearchProviderResult } from '@client-platform/shapes';\nimport { searchSites } from '@enterprise/hooks/EnterpriseSearchMenu/utils';\n\ntype LazyLoadingState = {\n    currentProviderId?: string;\n    isLoading: boolean;\n    providerResults?: SearchProviderResult['results'];\n    pageNumber?: number;\n    pageSize?: number;\n    lastQueryResultsLength?: number;\n};\n\ntype LazyLoadingAction =\n    | { type: 'INITIALIZE'; payload: LazyLoadingState }\n    | { type: 'SET_LOADING'; payload: boolean }\n    | {\n          type: 'LOAD_MORE_SUCCESS';\n          payload: { results: SearchProviderResult['results']; pageNumber: number; lastQueryResultsLength: number };\n      }\n    | { type: 'LOAD_MORE_FAILURE' }\n    | { type: 'LOAD_MORE_NO_MORE' };\n\nconst initialState: LazyLoadingState = {\n    isLoading: false\n};\n\nconst lazyLoadingReducer = (state: LazyLoadingState, action: LazyLoadingAction): LazyLoadingState => {\n    switch (action.type) {\n        case 'INITIALIZE':\n            return { ...state, ...action.payload };\n        case 'SET_LOADING':\n            return { ...state, isLoading: action.payload };\n        case 'LOAD_MORE_SUCCESS':\n            return {\n                ...state,\n                isLoading: false,\n                providerResults: [...(state.providerResults || []), ...action.payload.results],\n                pageNumber: action.payload.pageNumber,\n                lastQueryResultsLength: action.payload.lastQueryResultsLength\n            };\n        case 'LOAD_MORE_FAILURE':\n            return { ...state, isLoading: false };\n        case 'LOAD_MORE_NO_MORE':\n            return { ...state, isLoading: false, lastQueryResultsLength: 0 };\n        default:\n            return state;\n    }\n};\n\n/**\n * A custom hook for implementing lazy loading of search results.\n * This hook manages the loading state, handles pagination, and integrates with an IntersectionObserver\n * to load more results as the user scrolls.\n *\n * @param searchProviderResults - The results from the search provider.\n * @param searchQuery - The search query string used for fetching results.\n * @param queryId - A unique identifier for the current query session.\n * @param disabled - A flag to disable the lazy loading functionality.\n * @returns LazyLoadingState - The current state of the lazy loading, including loading status, provider results, and pagination information.\n */\nexport const useLazyLoading = (\n    searchProviderResults: SearchProviderResult,\n    searchQuery: string,\n    queryId: string,\n    disabled: boolean\n) => {\n    const [state, dispatch] = useReducer(lazyLoadingReducer, initialState);\n\n    /**\n     * This `requestId` keeps track of which \"session\" of requests we are on.\n     * Any time you re-initialize, bump this value to effectively cancel in-flight requests for the lazy load.\n     */\n    const requestIdRef = useRef(0);\n\n    const observer = useRef<IntersectionObserver | null>(null);\n\n    const loadNextPage = useCallback(async () => {\n        // Capture the current request ID at the start of the load operation\n        const currentRequestId = requestIdRef.current;\n\n        dispatch({ type: 'SET_LOADING', payload: true });\n        const newPage = (state.pageNumber || 1) + 1;\n\n        try {\n            const response = await searchSites({\n                providerId: state.currentProviderId!, // we know it's set after INITIALIZE\n                queryId: queryId,\n                query: searchQuery,\n                pageNumber: newPage\n            });\n\n            // Compare the local requestId to the most up-to-date value in the ref\n            // to check if we've been invalidated.\n            if (currentRequestId !== requestIdRef.current) {\n                // Request is \"old\" => skip\n                return;\n            }\n\n            const moreProviderResults = response.find((r) => r.id === state.currentProviderId);\n\n            if (moreProviderResults && moreProviderResults.results.length > 0) {\n                dispatch({\n                    type: 'LOAD_MORE_SUCCESS',\n                    payload: {\n                        results: moreProviderResults.results,\n                        pageNumber: newPage,\n                        lastQueryResultsLength: moreProviderResults.results.length\n                    }\n                });\n            } else {\n                dispatch({ type: 'LOAD_MORE_NO_MORE' });\n            }\n        } catch (error) {\n            console.error(error);\n\n            // Check again in case we were invalidated during the fetch\n            if (currentRequestId !== requestIdRef.current) {\n                return;\n            }\n            dispatch({ type: 'LOAD_MORE_FAILURE' });\n        }\n    }, [searchQuery, state.currentProviderId, state.pageNumber, queryId]);\n\n    useEffect(() => {\n        if (searchProviderResults) {\n            // Increment the ref to invalidate any in-flight requests\n            requestIdRef.current += 1;\n\n            dispatch({\n                type: 'INITIALIZE',\n                payload: {\n                    currentProviderId: searchProviderResults.id,\n                    isLoading: false,\n                    providerResults: searchProviderResults.results,\n                    pageNumber: searchProviderResults.pageNumber || 1,\n                    pageSize: searchProviderResults.pageSize,\n                    lastQueryResultsLength: searchProviderResults.results?.length || 0\n                }\n            });\n        } else {\n            dispatch({ type: 'SET_LOADING', payload: true });\n        }\n    }, [searchProviderResults]);\n\n    useEffect(() => {\n        if (!state.providerResults || state.providerResults.length === 0) return;\n        if (disabled) return;\n\n        if (observer.current) {\n            observer.current.disconnect();\n            observer.current = null;\n        }\n\n        const lastSite = state.providerResults[state.providerResults.length - 1];\n        const lastSiteElementId = `result-${lastSite.type}-${lastSite.id}`;\n        const lastSiteElement = document.getElementById(lastSiteElementId);\n\n        if (!lastSiteElement) return;\n\n        const handleObserver = async (entries: IntersectionObserverEntry[]) => {\n            const [entry] = entries;\n\n            const canLoad = !state.isLoading && state.lastQueryResultsLength === state.pageSize;\n\n            if (entry.isIntersecting && canLoad) {\n                observer.current?.disconnect();\n                observer.current = null;\n                await loadNextPage();\n            }\n        };\n\n        observer.current = new IntersectionObserver(handleObserver, { root: null, threshold: 1.0 });\n        observer.current.observe(lastSiteElement);\n\n        return () => {\n            observer.current?.disconnect();\n        };\n    }, [state.providerResults, state.isLoading, state.lastQueryResultsLength, state.pageSize, loadNextPage, disabled]);\n\n    return state;\n};\n","import { useCallback, useContext } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { enterpriseSearchMenuTestIds } from '@common/utils/test-ids';\nimport { raiseBrowserAnalytics } from '@common/utils/usage-register';\n\nimport { useStorageSchemeCheck } from '@common/components/StorageThemeProvider/useStorageSchemeCheck';\n\nimport { SearchProvider, SearchProviderFilter } from '@client-platform/shapes';\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport { SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nimport { SEARCH_PROVIDER_TAB_HEIGHT } from './utils';\n\ninterface FilterButtonsProps {\n    provider: SearchProvider;\n}\nexport const FilterButtons: React.FC<FilterButtonsProps> = ({ provider }) => {\n    const { updateSearchResults, searchQuery, shouldExpandMenu } = useContext(SearchMenuControlContext);\n    const { filters, setFilters, setSearchResults } = useContext(SearchResultsContext);\n\n    const scheme = useStorageSchemeCheck();\n\n    const handleFilterClick = useCallback(\n        (filterId: string) => {\n            const updatedSelectedFilters = filters.includes(filterId)\n                ? filters.filter((id) => id !== filterId)\n                : [...filters, filterId];\n\n            const filter = provider?.filters.find((e) => e.id == filterId);\n            if (updatedSelectedFilters.includes(filterId)) {\n                raiseBrowserAnalytics({\n                    type: 'Search',\n                    action: 'Select Filter',\n                    value: filter?.title\n                });\n            } else {\n                raiseBrowserAnalytics({\n                    type: 'Search',\n                    action: 'Deselect Filter',\n                    value: filter?.title\n                });\n            }\n\n            setFilters(updatedSelectedFilters);\n            setSearchResults([\n                {\n                    id: provider.id,\n                    results: null\n                }\n            ]);\n\n            updateSearchResults(searchQuery.current ?? '', provider.id, shouldExpandMenu, true, updatedSelectedFilters);\n        },\n        [filters, provider, shouldExpandMenu, setFilters, setSearchResults, updateSearchResults, searchQuery]\n    );\n\n    const getIconForFilter = useCallback(\n        (filter: SearchProviderFilter) => {\n            const isSelected = filters.includes(filter.id);\n\n            if (filter?.icon) {\n                return (\n                    <img\n                        src={scheme === 'dark' ? filter.icon.dark : filter.icon.light}\n                        alt={filter.title}\n                        style={{ width: 14, height: 14, marginRight: 4 }}\n                    />\n                );\n            } else {\n                switch (filter.id) {\n                    case 'content':\n                        return <StyledIcon icon=\"ContentAppIcon\" isSelected={isSelected} />;\n                    case 'bookmark':\n                        return <StyledIcon icon=\"BookmarkFilled\" isSelected={isSelected} />;\n                    case 'supertab':\n                        return <StyledIcon icon=\"SupertabIcon\" isSelected={isSelected} />;\n                    case 'collection':\n                        return <StyledIcon icon=\"CollectionIcon\" isSelected={isSelected} />;\n                    default:\n                        return null;\n                }\n            }\n        },\n        [filters, scheme]\n    );\n\n    return (\n        <FilterList>\n            {provider?.filters.map((filterItem) => {\n                return (\n                    <FilterItem\n                        key={filterItem.id}\n                        selected={filters.includes(filterItem.id)}\n                        onClick={() => handleFilterClick(filterItem.id)}\n                        data-testid={enterpriseSearchMenuTestIds.searchFilterButton}\n                    >\n                        {getIconForFilter(filterItem)}\n                        {filterItem.title}\n                    </FilterItem>\n                );\n            })}\n        </FilterList>\n    );\n};\n\nconst FilterList = styled.ul`\n    display: flex;\n    position: sticky;\n    top: ${SEARCH_PROVIDER_TAB_HEIGHT}px;\n\n    background-color: ${({ theme }) => theme.palette.background1};\n\n    gap: ${({ theme }) => theme.px.small};\n    padding: ${({ theme }) => theme.px.base};\n\n    border-left: 1px solid ${({ theme }) => theme.palette.background5};\n    border-right: 1px solid ${({ theme }) => theme.palette.background5};\n`;\n\nconst FilterItem = styled.li<{ selected: boolean }>`\n    display: flex;\n    align-items: center;\n    gap: 2px;\n    border: 1px solid ${({ selected, theme }) => (selected ? theme.palette.brandPrimary : theme.palette.background3)};\n    font-size: ${({ theme }) => theme.px.base};\n    color: ${({ selected, theme }) => (selected ? theme.palette.brandPrimary : theme.palette.textDefault)};\n    background-color: ${({ selected, theme }) =>\n        selected ? `rgb(from ${theme.palette.brandPrimary} r g b / 8%)` : 'transparent'};\n    padding: ${({ theme }) => theme.px.xsmall} ${({ theme }) => theme.px.small};\n    border-radius: 1000px;\n    list-style-type: none;\n\n    &:hover {\n        background-color: ${({ selected, theme }) =>\n            selected ? `rgb(from ${theme.palette.brandPrimary} r g b / 16%)` : theme.palette.background2};\n    }\n`;\n\nconst StyledIcon = styled(Icon)<{ isSelected: boolean }>`\n    svg path {\n        color: ${({ theme, isSelected }) => (isSelected ? theme.palette.brandPrimary : theme.palette.textDefault)};\n    }\n`;\n","import React, { useContext } from 'react';\n\nimport styled from 'styled-components';\n\nimport { NoResults } from '@enterprise/components/ControlBar/SearchMenu/NoResults';\nimport { Result } from '@enterprise/components/ControlBar/SearchMenu/Result';\nimport { ResultsContainerWrapper } from '@enterprise/components/ControlBar/SearchMenu/ResultsContainerWrapper';\nimport { SkeletonResultList } from '@enterprise/components/ControlBar/SearchMenu/SkeletonResult';\nimport { useLazyLoading } from '@enterprise/components/ControlBar/SearchMenu/useLazyLoading';\n\nimport { SearchProvider, SearchProviderResult } from '@client-platform/shapes';\nimport { SearchMenuControlContext } from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport { SearchResultsContext } from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nimport { FilterButtons } from './FilterButtons';\n\nexport interface SingleProviderResultsContainerProps {\n    providerResults: SearchProviderResult;\n}\n\nexport const SingleProviderResultsContainer = ({ providerResults }: SingleProviderResultsContainerProps) => {\n    const { isQueryingResults, searchProviders, setAction } = useContext(SearchResultsContext);\n    const { searchQuery, queryId } = useContext(SearchMenuControlContext);\n    const activeProvider: SearchProvider | undefined = searchProviders.find(\n        (provider) => provider.id === providerResults.id\n    );\n    const lazyLoading = useLazyLoading(providerResults, searchQuery.current, queryId, !activeProvider?.supportsPaging);\n    const isLoading = lazyLoading?.isLoading || isQueryingResults || !providerResults?.results;\n\n    return (\n        <>\n            {activeProvider?.filters?.length > 0 ? <FilterButtons provider={activeProvider} /> : <Padding />}\n            <ResultsContainerWrapper flattenedResults={lazyLoading?.providerResults ?? []} isLoading={isLoading}>\n                {(setFocused, focused, onSiteAction) => (\n                    <>\n                        {!isLoading && lazyLoading?.providerResults?.length === 0 && (\n                            <NoResults provider={activeProvider} />\n                        )}\n                        {lazyLoading?.providerResults?.map((site) => (\n                            <React.Fragment key={`${providerResults.id}-results-${site.type}-${site.id}`}>\n                                <Result\n                                    site={site}\n                                    isFocused={site === focused}\n                                    id={`result-${site.type}-${site.id}`}\n                                    onSiteAction={onSiteAction}\n                                    onFocused={setFocused}\n                                    updateAction={setAction}\n                                />\n                            </React.Fragment>\n                        ))}\n                        {isLoading && <SkeletonResultList resultsNum={5} />}\n                    </>\n                )}\n            </ResultsContainerWrapper>\n        </>\n    );\n};\n\nconst Padding = styled.div`\n    height: ${({ theme }) => theme.px.small};\n\n    border-right: 1px solid ${({ theme }) => theme.palette.background5};\n    border-left: 1px solid ${({ theme }) => theme.palette.background5};\n`;\n","import { useEffect, useRef } from 'react';\n\nimport { OpenFin } from '@openfin/core';\n\nimport { connectToEnterpriseContentChannel } from '@common/utils/enterprise-channels';\n\nimport { getCurrentSync } from '@client-platform/api';\nimport { SearchProviderResult } from '@client-platform/shapes';\nimport { AsyncResultsObserver } from '@enterprise/hooks/EnterpriseSearchMenu/utils';\n\n/*\n * useAsyncResultsObserver is a hook that listens for search results from the enterprise content channel.\n * It returns an object with on and off methods to add and remove listeners for search results.\n */\nexport const useAsyncResultsObserver = (): AsyncResultsObserver => {\n    const contentChannel = useRef<OpenFin.ChannelClient | null>(null);\n    const callbacksRef = useRef<Set<(payload: SearchProviderResult) => void>>(new Set());\n\n    useEffect(() => {\n        let isMounted = true;\n\n        const initializeChannel = async () => {\n            try {\n                const platform = getCurrentSync();\n                contentChannel.current = await connectToEnterpriseContentChannel(platform.identity.uuid);\n\n                if (!isMounted) return;\n\n                contentChannel.current.register('search-results-async', (payload: SearchProviderResult) => {\n                    callbacksRef.current.forEach((callback) => callback(payload));\n                });\n            } catch (error) {\n                console.error('Failed to connect to the enterprise content channel:', error);\n            }\n        };\n\n        initializeChannel();\n\n        return () => {\n            isMounted = false;\n            if (contentChannel.current) {\n                contentChannel.current.remove('search-results-async');\n                contentChannel.current = null;\n            }\n        };\n    }, []);\n\n    const on = (callback: (payload: SearchProviderResult) => void) => {\n        callbacksRef.current.add(callback);\n    };\n\n    const off = (callback: (payload: SearchProviderResult) => void) => {\n        callbacksRef.current.delete(callback);\n    };\n\n    return { on, off };\n};\n","import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Box } from '@openfin/ui-library';\n\nimport { raiseBrowserAnalytics } from '@common/utils/usage-register';\n\nimport { getQuerylessState, QuerylessState } from '@enterprise/utils/querylessState';\n\nimport { AllProvidersResultsContainer } from '@enterprise/components/ControlBar/SearchMenu/AllProvidersResultsContainer';\nimport { EmptySearchInputContainer } from '@enterprise/components/ControlBar/SearchMenu/EmptySearchInputContainer';\nimport SearchProviderTabs from '@enterprise/components/ControlBar/SearchMenu/SearchProviderTabs';\nimport { SingleProviderResultsContainer } from '@enterprise/components/ControlBar/SearchMenu/SingleProviderResultsContainer';\nimport { useAsyncResultsObserver } from '@enterprise/components/ControlBar/SearchMenu/useAsyncResultsObserver';\nimport { getRecentlyVisitedSites } from '@enterprise/components/ControlBar/SearchMenu/utils';\n\nimport { BrowserTypeContext } from '@common/hooks/context';\nimport useSystemSchemeCheck from '@common/hooks/useSystemSchemeCheck';\nimport {\n    SearchMenuControlContext,\n    SearchMenuControlContextProvider\n} from '@enterprise/context/SearchMenu/SearchMenuControlContext';\nimport {\n    DEFAULT_ALL_TAB,\n    SearchResultsContext,\n    SearchResultsContextProvider\n} from '@enterprise/context/SearchMenu/SearchResultsContext';\n\nconst SearchResultsMenu: React.FC = () => {\n    const { isSchemeDark } = useSystemSchemeCheck();\n    const {\n        activeProviderId,\n        searchResults,\n        setSearchResults,\n        setRecentlyVisited,\n        setActiveProviderId,\n        searchProviders,\n        setFilters\n    } = useContext(SearchResultsContext);\n\n    const {\n        containerRef,\n        shouldExpandMenu,\n        searchQuery,\n        hasTextChangedSinceExpansion,\n        shouldShowEmptySearchContainer,\n        updateSearchResults\n    } = useContext(SearchMenuControlContext);\n    const asyncResultsObserver = useAsyncResultsObserver();\n\n    const [querylessState, setQuerylessState] = useState<QuerylessState>();\n\n    const updateQuerylessState = useCallback(\n        (providerId: string) => {\n            const provider = searchProviders.find((p) => p.id === providerId);\n\n            const newQuerylessState = getQuerylessState(\n                searchQuery.current ?? '',\n                hasTextChangedSinceExpansion.current,\n                provider\n            );\n            setQuerylessState(newQuerylessState);\n        },\n        [hasTextChangedSinceExpansion.current, searchProviders, searchQuery.current]\n    );\n\n    useEffect(() => {\n        updateQuerylessState(activeProviderId);\n    }, [activeProviderId, updateQuerylessState]);\n\n    useEffect(() => {\n        getRecentlyVisitedSites().then((sites) => setRecentlyVisited(sites));\n        // Update whenever the search menu is opened\n    }, [shouldExpandMenu.shouldExpand]);\n\n    const handleProviderSelected = useCallback(\n        (providerId: string) => {\n            const selectedProvider = searchProviders.find((p) => p.id === providerId);\n            raiseBrowserAnalytics({\n                action: 'Select Top Level Tab',\n                type: 'Search',\n                value: selectedProvider?.title\n            });\n            if (providerId !== activeProviderId) {\n                setFilters([]);\n                setActiveProviderId(providerId);\n                setSearchResults([\n                    {\n                        id: providerId,\n                        results: null\n                    }\n                ]);\n                updateSearchResults(searchQuery.current ?? '', providerId, shouldExpandMenu, true, []);\n                updateQuerylessState(providerId);\n            }\n        },\n        [activeProviderId, shouldExpandMenu, searchProviders, updateSearchResults, updateQuerylessState]\n    );\n\n    const isSingleProviderView =\n        activeProviderId !== DEFAULT_ALL_TAB.id &&\n        // this additional if statement here is to avoid the case\n        // when activeProviderId is changed but searchResults is still stale.\n        ((searchResults.length === 1 && searchResults[0]?.id === activeProviderId) || searchResults.length === 0);\n\n    const activeProviderResults = useMemo(\n        () =>\n            searchResults.length === 1\n                ? {\n                      id: searchResults[0].id,\n                      results: searchResults[0].results,\n                      pageSize: searchResults[0].pageSize\n                  }\n                : { id: activeProviderId, results: null, pageSize: undefined },\n        [searchResults, activeProviderId]\n    );\n\n    return (\n        <Container isSchemeDark={isSchemeDark} ref={containerRef}>\n            <style>\n                {`\n                    ::-webkit-scrollbar {\n                        display: none;\n                    }\n                `}\n            </style>\n            {shouldExpandMenu.shouldExpand && (\n                <ResultsBodyContainer>\n                    <SearchProviderTabs onProviderSelected={handleProviderSelected} />\n                    {shouldShowEmptySearchContainer || querylessState.showEmptyContainer ? (\n                        <EmptySearchInputContainer\n                            showQuerylessText={querylessState.showQuerylessText}\n                            providerId={activeProviderId}\n                        />\n                    ) : isSingleProviderView ? (\n                        <SingleProviderResultsContainer providerResults={activeProviderResults} />\n                    ) : (\n                        <AllProvidersResultsContainer\n                            asyncResultsObserver={asyncResultsObserver}\n                            handleProviderSelected={handleProviderSelected}\n                        />\n                    )}\n                </ResultsBodyContainer>\n            )}\n        </Container>\n    );\n};\n\nconst AddressSearchResultsView = () => {\n    return (\n        <BrowserTypeContext.Provider value={{ isEnterprise: true }}>\n            <SearchResultsContextProvider>\n                <SearchMenuControlContextProvider>\n                    <SearchResultsMenu />\n                </SearchMenuControlContextProvider>\n            </SearchResultsContextProvider>\n        </BrowserTypeContext.Provider>\n    );\n};\n\nexport default AddressSearchResultsView;\n\nconst Container = styled(Box)<{ isSchemeDark: boolean }>`\n    display: block;\n    background-color: ${({ isSchemeDark, theme }) =>\n        isSchemeDark ? theme.palette.background1 : theme.palette.background2};\n`;\n\nconst ResultsBodyContainer = styled(Box)`\n    background: ${({ theme }) => theme.palette.background1};\n    user-select: none;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    max-height: 100%;\n`;\n"],"names":["window","__NEXT_P","push","__webpack_require__","ScreenReaderAnnouncement","message","ariaAttributes","ariaRole","param","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","aria-live","aria-atomic","role","tabIndex","style","clip","clipPath","height","overflow","position","whiteSpace","width","CONTROL_BAR_HEIGHT","getSearchMenuWidth","expandedWidth","parentWindowWidth","MENU_BOUNDS","percentOfParentWidth","expanded","maxWidth","minWidth","Math","ceil","getSearchMenuHeight","parentWindowHeight","shouldShowEmptySearchInputContainer","container","resultsContainer","document","getElementById","emptySearchInputContainer","resultContainerMaxHeight","max","scrollHeight","COMMAND_BAR_HEIGHT","SEARCH_PROVIDER_TAB_HEIGHT","emptySearchInputContainerHeight","min","maxHeight","emptySearchContainerExceedsParentHeight","parentWindowHeightOffset","emptySearchContainerContentMeetsMinHeight","minHeight","resultsContainerMaxHeight","__webpack_exports__","Z","containerRef","shouldExpand","searchMenuChannel","shouldShowEmptySearchContainer","offsetLeft","isWindows","useIsWindows","offsetTop","viewBounds","setViewBounds","useState","adjustViewDimensions","useCallback","current","parentName","fin","me","name","replace","WindowName","BrowserAddressSearchPrefix","getOFWindow","uuid","getBounds","boundsType","useEffect","menuResizeObserver","ResizeObserver","debounce","leading","observe","disconnect","showAt","top","left","bringToFront","postMessage","type","parentWindow","resizeHandler","setUpResizeListener","addListener","removeListener","setIsWindows","isOSWindows","DEFAULT_ALL_TAB","id","title","defaultFunction","emptySearchResults","SearchResultsContext","createContext","recentlyVisited","setRecentlyVisited","curatedContent","searchResults","setSearchResults","isQueryingResults","setIsQueryingResults","activeProviderId","setActiveProviderId","searchProviders","setSearchProviders","action","setAction","filters","setFilters","SearchResultsContextProvider","children","useCuratedContent","jsx_runtime","Provider","value","getQuerylessState","query","hasTextChangedSinceExpansion","provider","length","showQuerylessText","showEmptyContainer","supportsQueryless","searchSites","searchRequest","platform","getCurrentSync","view","View","wrapSync","identity","browserWindow","Browser","getCurrentWindow","_searchSites","getSearchProviders","_getSearchProviders","EnterpriseSearchMenu_useInitChannelToBrowserWindow","setFocusRequestId","setShouldExpandMenu","setShouldShowEmptySearchContainer","setOffsetLeft","setSelectedSite","useContext","useSelector","selectIsWindows","useRef","selectedViews","setSelectedViews","openViews","setOpenViews","queryId","setQueryId","hasFetchedSearchProviders","mostRecentUpdateId","searchQuery","executeSearch","newQueryId","requestId","providerId","searchFilters","raiseBrowserAnalytics","sites","trim","debouncedExecuteSearch","useMemo","trailing","updateSearchResults","shouldExpandMenu","immediate","cancel","Date","now","randomUUID","find","p","shouldSearchProviderSupportingQueryless","shouldSearchProviderWithoutQueryless","handleSearchMenuMessage","ev","data","shouldUpdateSelectedViews","undefined","every","some","selectedView","shouldUpdateOpenViews","openView","shouldEmitKeyboardEvent","keyboardEvent","options","shouldUpdateShouldExpandMenu","shouldUpdateSearchText","searchText","hide","method","key","dispatchEvent","KeyboardEvent","BroadcastChannel","concat","close","onmessage","EnterpriseSearchMenu_useOpenPages","openPages","setOpenPages","updateOpenPages","getAllAttachedPages","debouncedUpdateOpenPages","ofApp","Application","on","EnterpriseSearchMenu_usePostMessageToBrowserWindow","selectedSite","trigger","handled","sendKeyboardEventToBrowserWindow","metaKey","ctrlKey","altKey","event","Promise","resolve","SearchMenuControlContext","focusRequestId","SearchMenuControlContextProvider","useOpenPages","useInitChannelToBrowserWindow","usePostMessageToBrowserWindow","useAdjustSearchMenuViewDimensions","NoResults","isDark","setIsDark","getComputedScheme","then","scheme","ColorSchemeOptionType","Dark","areFiltersSelected","subText","jsxs","Container","data-testid","enterpriseSearchMenuTestIds","noResultsContainer","ContentWrapper","NoResultsIcon","Title","Subtitle","ClearFiltersButton","onClick","results","clearFiltersButton","styled","withConfig","span","theme","px","large","xxlarge","palette","textDefault","fontSize","base","fontWeight","normal","textHelp","button","xxxlarge","xsmall","small","background5","background2","background3","svg","viewBox","fill","xmlns","path","fill-rule","clip-rule","d","EnterpriseSearchMenu_useIsTabOpen","siteInfo","isSiteAppOrWebsite","isTabOpen","setIsTabOpen","viewToSwitchTo","setViewToSwitchTo","checkTabs","getInfo","formatUrl","url","Result","site","onSiteAction","isFocused","onFocused","updateAction","useSiteInfo","useIsTabOpen","isSchemeDark","useSystemSchemeCheck","containerWidth","setContainerWidth","resizeObserver","entry","entries","contentBoxSize","inlineSize","focus","preventScroll","handleKeyDown","activeElement","stopPropagation","addEventListener","removeEventListener","handleSwitchTab","handleMouseDown","e","preventDefault","renderActionButtons","handleActionMouseDown","renderText","ActionButtonContainer","isSelected","className","actions","map","ActionButton","onMouseDown","onFocus","onKeyDown","aria-label","icon","dark","ActionImage","src","alt","altText","light","Text","SelectableResultContainer","as","ref","aria-selected","searchResultItem","ResultIcon","siteType","iconOptions","SiteInfoContainer","SiteTitle","size","weight","SubTitle","isUrl","getSiteSubTitle","trimUrl","ButtonContainer","isOpen","rightSideIcon","RightSideIcon","ResultContainer","Box","background4","SiteIconWrapper","background1","css","linkDefault","statusActive","img","Icon","CommandBar","selectedResult","isLoading","resultType","setResultType","CommandsContainer","BrandLogoContainer","BrandIconWrapper","BrandIcon","LoadingText","RightContainer","GoToSite","isPageOpen","xlarge","IconContainer","rightSide","actionText","description","goToSiteText","t","cta","Fragment","lineHeight","paddingRight","ReturnIcon","EnterpriseSearchMenu_useKeyboardNavigation","focused","setFocused","content","resultListContainer","currentFocusedIndex","findIndex","result","useLayoutEffect","child","from","childNodes","filter","_child_classList","classList","contains","scrollIntoView","block","behavior","handleArrowDown","handleArrowUp","handleHome","handleEnd","lastIndex","ResultsContainerWrapper","props","useKeyboardNavigation","flattenedResults","setAttribute","ScrollableArea","ContentContainer","aria-activedescendant","PLACEHOLDER_LENGTHS","text","subtext","SkeletonResultList","resultsNum","Array","_","index","SkeletonResult","variant","TextPlaceholderContainer","TextPlaceholder","SearchMenu_ViewMoreResultsButton","handleProviderSelected","providerTitle","viewMoreResultsButton","ViewMoreText","useAsyncProviderResults","asyncResultsObserver","asyncSearchResults","setAsyncSearchResults","updateHandler","providerResult","prev","showViewMore","off","getFlattenedResultsWithViewMoreOptions","asyncResults","res","flat","getSortedProviders","providers","sort","a","includes","getSortedProviderResults","getProviderById","resultProvider","isContentLoading","providerResults","AllProvidersResultsContainer","rawSearchProviders","setIsLoading","hasNoResults","sortedResults","renderProviderHeader","Category","data-is-header","CategoryText","React","ViewMoreResultsButton","EmptyAllProviderSearchContainer","selectedFeaturedSite","setSelectedFeaturedSite","selectedRecentlyVisited","setSelectedRecentlyVisited","featuredListContainer","onSelectedFeaturedSite","curatedContentItem","onSelectedRecentlyVisited","recentlyVisitedItem","EMPTY_SEARCH_INPUT_CONTAINER_ID","EmptySearchInputWrapper","slice","SiteCard","onSelectedSite","RecentSiteContainer","RecentSite","NoRecentlyVisited","NoRecentlyVisitedText","BottomBorder","SearchMenu_EmptySingleProviderSearchContainer","activeProvider","ProviderIcon","LargeIcon","TextSection","HeaderText","Subtext","EmptySearchInputContainer","EmptySingleProviderSearchContainer","ImageIcon","isError","setIsError","borderRadius","onError","SearchMenu_SearchProviderTabs","onProviderSelected","focusedTabIndex","setFocusedTabIndex","searchTabElements","newTabIndex","item","mergedProviders","renderIcon","onTabsWrapperFocus","target","currentTarget","activeTabIndex","isTab","TabsWrapper","TabContainer","active","Tab","TabText","brandPrimary","radius","initialState","lazyLoadingReducer","state","payload","pageNumber","lastQueryResultsLength","useLazyLoading","searchProviderResults","disabled","dispatch","useReducer","requestIdRef","observer","loadNextPage","currentRequestId","newPage","response","currentProviderId","moreProviderResults","r","error","console","pageSize","lastSite","lastSiteElementId","lastSiteElement","handleObserver","canLoad","isIntersecting","IntersectionObserver","root","threshold","FilterButtons","useStorageSchemeCheck","handleFilterClick","updatedSelectedFilters","filterId","getIconForFilter","marginRight","StyledIcon","FilterList","FilterItem","selected","filterItem","searchFilterButton","ul","li","SingleProviderResultsContainer","lazyLoading","supportsPaging","Padding","useAsyncResultsObserver","contentChannel","callbacksRef","Set","isMounted","initializeChannel","connectToEnterpriseContentChannel","register","forEach","callback","remove","add","delete","SearchResultsMenu","querylessState","setQuerylessState","updateQuerylessState","getRecentlyVisitedSites","selectedProvider","isSingleProviderView","activeProviderResults","ResultsBodyContainer","SearchProviderTabs","address_search_results_view","BrowserTypeContext","isEnterprise"],"sourceRoot":""}