(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{4546:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/popup-menu/address-search-results-view",function(){return n(3873)}])},3201:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(4246);let l=e=>{let{message:t,ariaAttributes:n,ariaRole:l}=e;return(0,r.jsx)("div",{"aria-live":"polite","aria-atomic":"true",role:l||"status",tabIndex:-1,style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},...n,children:t})}},5890:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});let r=40},2053:function(e,t,n){"use strict";n.d(t,{q:function(){return i},x:function(){return a}});var r=n(1272),l=n(1355);let i=e=>{let t=e*l.H.percentOfParentWidth;return t>l.H.expanded.maxWidth?t=l.H.expanded.maxWidth:t<l.H.expanded.minWidth&&(t=l.H.expanded.minWidth),Math.ceil(t)},a=(e,t,n)=>{let i;let a=document.getElementById("results-container"),o=document.getElementById("empty-search-input-container"),s=null!==a?Math.max(n.scrollHeight,a.scrollHeight+r.b7+r.iD):n.scrollHeight,d=null!==o?Math.min(l.H.emptySearchInputContainer.maxHeight,o.scrollHeight+r.iD):Math.min(n.scrollHeight,l.H.emptySearchInputContainer.maxHeight);if(t){let t=e-l.H.parentWindowHeightOffset<l.H.emptySearchInputContainer.maxHeight,n=d>l.H.emptySearchInputContainer.minHeight;i=t&&n?Math.max(e-l.H.parentWindowHeightOffset,l.H.emptySearchInputContainer.minHeight):d}else i=Math.min(s,l.H.resultsContainerMaxHeight,e-l.H.parentWindowHeightOffset);return i}},1355:function(e,t,n){"use strict";n.d(t,{H:function(){return c}});var r=n(7378),l=n(3198),i=n.n(l),a=n(5802),o=n(1272),s=n(5890),d=n(6774),u=n(2053);let c={expanded:{minWidth:376,maxWidth:728},emptySearchInputContainer:{minHeight:408,maxHeight:518+o.iD},percentOfParentWidth:.7,resultsContainerMaxHeight:475+o.b7+o.iD,parentWindowHeightOffset:40+s.q};t.Z=(e,t,n,l,o)=>{let c=(0,d.C)(),p=s.q+(c?2:1),[h,f]=(0,r.useState)({height:0,width:0}),x=(0,r.useCallback)(async e=>{if(n.current&&t){let t=fin.me.name.replace(a.IA.BrowserAddressSearchPrefix,""),{width:n,height:r}=await (0,a.iw)({uuid:fin.me.uuid,name:t}).getBounds({boundsType:"current"}),i=(0,u.q)(n);f({height:(0,u.x)(r,l,e),width:i})}},[n,l,t]);(0,r.useEffect)(()=>{let t=e.current;if(t){x(t);let e=new ResizeObserver(i()(()=>x(t),100,{leading:!0}));return e.observe(t),()=>e.disconnect()}},[e,x]),(0,r.useEffect)(()=>{t&&(async()=>{await fin.me.showAt({...h,top:p,left:o},{bringToFront:!0}),n.current.postMessage({type:"resize-view",width:h.width})})()},[h]),(0,r.useEffect)(()=>{let t=fin.me.name.replace(a.IA.BrowserAddressSearchPrefix,""),n=(0,a.iw)({uuid:fin.me.uuid,name:t}),r=async()=>{await x(e.current)};return(async()=>{await n.addListener("bounds-changed",r)})(),()=>{n.removeListener("bounds-changed",r)}},[x])}},6774:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(7378),l=n(1171);let i=()=>{let[e,t]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{t(await (0,l.O)())})()},[]),e}},3873:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return th}});var r=n(4246),l=n(7378),i=n(5191),a=n(4861),o=n(1584),s=n(229);let d={id:"0",title:"All"},u=()=>{},c=[],p=(0,l.createContext)({recentlyVisited:[],setRecentlyVisited:u,curatedContent:[],searchResults:c,setSearchResults:u,isQueryingResults:!1,setIsQueryingResults:u,activeProviderId:d.id,setActiveProviderId:u,searchProviders:[],setSearchProviders:u,action:null,setAction:u,filters:[],setFilters:u}),h=e=>{let{children:t}=e,[n,i]=(0,l.useState)([]),[a]=(0,s.x)(),[o,u]=(0,l.useState)(c),[h,f]=(0,l.useState)(!1),[x,g]=(0,l.useState)(d.id),[m,v]=(0,l.useState)([]),[w,b]=(0,l.useState)(null),[y,k]=(0,l.useState)([]);return(0,r.jsx)(p.Provider,{value:{recentlyVisited:n,setRecentlyVisited:i,curatedContent:a,searchResults:o,setSearchResults:u,isQueryingResults:h,setIsQueryingResults:f,activeProviderId:x,setActiveProviderId:g,searchProviders:m,setSearchProviders:v,action:w,setAction:b,filters:y,setFilters:k},children:t})},f=(e,t,n)=>0!==e.length&&t||!n?{showQuerylessText:!1,showEmptyContainer:!1}:n.id===d.id?{showQuerylessText:!1,showEmptyContainer:!0}:n.supportsQueryless?{showQuerylessText:!1,showEmptyContainer:!1}:{showQuerylessText:!0,showEmptyContainer:!0};var x=n(1015),g=n(6552),m=n(3201),v=n(5401),w=n(1355),b=n(6125),y=n(3198),k=n.n(y),C=n(1654),j=n(5802),S=n(2539),I=n(8615);let E=async e=>{let t=(0,I.a)(),n=fin.View.wrapSync(fin.me.identity),r=t.Browser.wrapSync((await n.getCurrentWindow()).identity);return await r._searchSites(e)},R=async()=>{let e=(0,I.a)(),t=fin.View.wrapSync(fin.me.identity),n=e.Browser.wrapSync((await t.getCurrentWindow()).identity);return await n._getSearchProviders()};var L=(e,t,n,r,i,a)=>{let{setSearchResults:s,setIsQueryingResults:u,activeProviderId:c,setActiveProviderId:h,searchProviders:f,setSearchProviders:x,filters:g}=(0,l.useContext)(p),m=(0,b.v9)(S.z_),v=(0,l.useRef)(),[w,y]=(0,l.useState)([]),[I,L]=(0,l.useState)([]),[M,D]=(0,l.useState)(),T=(0,l.useRef)(!1),H=(0,l.useRef)(),A=(0,l.useRef)(""),P=(0,l.useRef)(!1),z=(0,l.useCallback)(async(e,t,n,l,i)=>{(0,o.sS)({type:"Search",action:"Run Search"});let a=await E({query:e.trim(),queryId:t,providerId:l,filters:i});n===H.current&&(s(a),r(!1)),u(!1)},[s,r,u]),B=(0,l.useMemo)(()=>k()(z,500,{leading:!1,trailing:!0}),[z]),F=(0,l.useCallback)(async function(e,t,l){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];u(!0),B.cancel();let o=Date.now();H.current=o;let s=(0,C.H)();D(s);let c=f.find(e=>e.id===t),p=!(null==c?void 0:c.supportsQueryless)&&e.length>0&&P.current,h=(null==c?void 0:c.supportsQueryless)&&(0===e.length||P.current);p||h?(r(!1),i?await z(e,s,o,t,a):await B(e,s,o,t,a)):(r(t===d.id),u(!1)),l&&o===H.current&&n(l)},[f,B,z]),O=(0,l.useCallback)(async l=>{switch(l.data.type){case"ready":v.current.postMessage({type:"ready"});break;case"update-search-menu-state":{var o,u,p,f;let m=void 0!==l.data.selectedViews&&(null==w?void 0:w.length)!==l.data.selectedViews.length||(null===(o=l.data.selectedViews)||void 0===o?void 0:o.every(e=>w.some(t=>!((null==t?void 0:t.name)===(null==e?void 0:e.name)&&(null==t?void 0:t.uuid)===(null==e?void 0:e.uuid))))),v=void 0!==l.data.openViews&&(null==I?void 0:I.length)!==l.data.openViews.length||(null===(u=l.data.openViews)||void 0===u?void 0:u.every(e=>I.some(t=>!(t.name===e.name&&t.uuid===e.uuid)))),b=(null===(p=l.data.keyboardEvent)||void 0===p?void 0:p.options)!==void 0,k=void 0!==l.data.shouldExpandMenu&&l.data.shouldExpandMenu.shouldExpand!==e,C=void 0!==l.data.searchText&&l.data.shouldExpandMenu.shouldExpand;C&&(A.current!==l.data.searchText&&(P.current=e),A.current=l.data.searchText),m&&y(l.data.selectedViews),v&&L(l.data.openViews),!T.current&&(null===(f=l.data.shouldExpandMenu)||void 0===f?void 0:f.shouldExpand)&&(T.current=!0,x(await R())),k?(i(l.data.offsetLeft),l.data.shouldExpandMenu.shouldExpand||(H.current=Date.now(),n(l.data.shouldExpandMenu),fin.me.hide(),h(d.id),a(void 0)),"click"===l.data.shouldExpandMenu.method&&(H.current=Date.now(),r(!0),n(l.data.shouldExpandMenu)),"keystroke"===l.data.shouldExpandMenu.method&&(P.current=!0,F(A.current,c,l.data.shouldExpandMenu))):C&&(s([]),F(A.current,c,l.data.shouldExpandMenu,!1,g)),b&&("Tab"===l.data.keyboardEvent.options.key?t(Date.now()):"Enter"===l.data.keyboardEvent.options.key?document.dispatchEvent(new KeyboardEvent(l.data.keyboardEvent.type,l.data.keyboardEvent.options)):window.dispatchEvent(new KeyboardEvent(l.data.keyboardEvent.type,l.data.keyboardEvent.options)))}}},[e,w,I,m,c,g]);return(0,l.useEffect)(()=>{if(!v.current){let e=fin.me.name.replace(j.IA.BrowserAddressSearchPrefix,"");v.current=new BroadcastChannel("search-menu-".concat(e)),v.current.postMessage({type:"ready"})}return()=>{v.current&&(v.current.close(),v.current=null)}},[]),(0,l.useEffect)(()=>{v.current.onmessage=O},[O]),{searchMenuChannel:v,selectedViews:w,openViews:I,queryId:M,updateSearchResults:F,searchQuery:A,hasTextChangedSinceExpansion:P}},M=()=>{let[e,t]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=async()=>{t(await (0,I.a)().Browser.getAllAttachedPages())},n=k()(e,500,{leading:!1,trailing:!0}),r=fin.Application.getCurrentSync();return r.on("window-layout-ready",n),r.on("window-view-detached",n),e(),()=>{r.removeListener("window-layout-ready",n),r.removeListener("window-view-detached",n)}},[]),e},D=(e,t,n,r,i)=>{let{isQueryingResults:a,activeProviderId:o}=(0,l.useContext)(p);return(0,l.useEffect)(()=>{e.current&&(!a||r)&&void 0!==t&&e.current.postMessage({type:"search-response",selectedSite:t,selectedView:n[0],trigger:null==t?void 0:t.action,handled:!1})},[t]),(0,l.useEffect)(()=>{e.current&&o!==d.id&&!i.current&&e.current.postMessage({type:"search-provider-changed"})},[o]),{sendKeyboardEventToBrowserWindow:(0,l.useCallback)(t=>{if(e.current){let{type:n,key:r,metaKey:l,ctrlKey:i,altKey:a}=t;e.current.postMessage({type:"keyboard-event",keyboardEvent:{type:n,options:{key:r,metaKey:l,ctrlKey:i,altKey:a}}})}},[e])}};let T=async()=>Promise.resolve(),H=(0,l.createContext)({containerRef:{current:null},shouldExpandMenu:{shouldExpand:!1},shouldShowEmptySearchContainer:!1,focusRequestId:void 0,searchQuery:{current:""},hasTextChangedSinceExpansion:void 0,queryId:"",selectedViews:[],openViews:[],openPages:[],updateSearchResults:T,setSelectedSite:T,sendKeyboardEventToBrowserWindow:T}),A=e=>{let{children:t}=e,n=(0,l.useRef)(null),i=M(),[a,s]=(0,l.useState)({shouldExpand:!1}),[d,u]=(0,l.useState)(0),[c,p]=(0,l.useState)(!1),[h,f]=(0,l.useState)(),[x,g]=(0,l.useState)();(0,l.useEffect)(()=>{x&&(0,o.sS)({action:"Select Result",type:"Search",value:x.title})},[x]);let{searchMenuChannel:m,selectedViews:v,openViews:b,queryId:y,updateSearchResults:k,searchQuery:C,hasTextChangedSinceExpansion:j}=L(a.shouldExpand,f,s,p,u,g),{sendKeyboardEventToBrowserWindow:S}=D(m,x,v,c,j);return(0,w.Z)(n,a.shouldExpand,m,c,d),(0,r.jsx)(H.Provider,{value:{containerRef:n,shouldExpandMenu:a,shouldShowEmptySearchContainer:c,focusRequestId:h,searchQuery:C,hasTextChangedSinceExpansion:j,queryId:y,selectedViews:v,openViews:b,openPages:i,updateSearchResults:k,setSelectedSite:g,sendKeyboardEventToBrowserWindow:S},children:t})},P=e=>{let{provider:t}=e,{updateSearchResults:n,searchQuery:i,shouldExpandMenu:a}=(0,l.useContext)(H),{filters:o,setFilters:s,setSearchResults:d}=(0,l.useContext)(p),[u,c]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(0,g.Hg)().then(e=>{c(e===v.iD.Dark)})},[]);let h=o.length>0,f="Try using different keywords".concat(h?" or change your filters.":"."," ");return(0,r.jsxs)(z,{areFiltersSelected:h,"data-testid":x.H$.noResultsContainer,children:[(0,r.jsx)(m.T,{message:"No results found for ".concat(i.current)}),(0,r.jsxs)(B,{children:[(0,r.jsx)(_,{isDark:u}),(0,r.jsx)(F,{children:"No results found"}),(0,r.jsx)(O,{children:f}),h&&(0,r.jsx)(N,{onClick:()=>{if(t){var e;s([]),d([{id:t.id,results:null}]),n(null!==(e=i.current)&&void 0!==e?e:"",t.id,a,!0,[])}},"data-testid":x.H$.clearFiltersButton,children:"Clear filters"})]})]})},z=i.default.div.withConfig({componentId:"sc-fc20fcf-0"})(["height:",";position:relative;"],e=>{let{areFiltersSelected:t}=e;return t?"232px":"184px"}),B=i.default.div.withConfig({componentId:"sc-fc20fcf-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;"]),F=i.default.span.withConfig({componentId:"sc-fc20fcf-2"})(["padding-top:",";font-size:14px;font-weight:500;line-height:",";color:",";text-align:center;text-underline-position:from-font;text-decoration-skip-ink:none;"],e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.palette.textDefault}),O=i.default.span.withConfig({componentId:"sc-fc20fcf-3"})(["font-size:",";font-weight:",";line-height:",";color:",";text-align:center;text-underline-position:from-font;text-decoration-skip-ink:none;"],e=>{let{theme:t}=e;return t.fontSize.base},e=>{let{theme:t}=e;return t.fontWeight.normal},e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.palette.textHelp}),N=i.default.button.withConfig({componentId:"sc-fc20fcf-4"})(["display:flex;align-items:center;justify-content:center;height:",";padding:"," ",";margin-top:",";border:1px solid ",";border-radius:",";background-color:",";color:",";line-height:15px;font-weight:500;&:hover{background-color:",";}"],e=>{let{theme:t}=e;return t.px.xxxlarge},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.palette.background2},e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.palette.background3}),_=e=>{let{isDark:t}=e;return(0,r.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M42.9313 27.7332C42.9313 36.1279 36.126 42.9332 27.7313 42.9332C19.3365 42.9332 12.5312 36.1279 12.5312 27.7332C12.5312 19.3385 19.3365 12.5332 27.7313 12.5332C36.126 12.5332 42.9313 19.3385 42.9313 27.7332ZM39.8201 42.6505C36.5195 45.3285 32.3128 46.9332 27.7313 46.9332C17.1274 46.9332 8.53125 38.3371 8.53125 27.7332C8.53125 17.1293 17.1274 8.5332 27.7313 8.5332C38.3351 8.5332 46.9313 17.1293 46.9313 27.7332C46.9313 32.3147 45.3265 36.5215 42.6485 39.822L54.7454 51.9189C55.5264 52.7 55.5264 53.9663 54.7454 54.7473C53.9643 55.5284 52.698 55.5284 51.917 54.7473L39.8201 42.6505Z",fill:t?"rgba(255, 255, 255, 0.5)":"rgba(20, 6, 17, 0.5)"}),(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.4546 23.4319C34.9753 22.9112 34.9753 22.067 34.4546 21.5463C33.9339 21.0256 33.0897 21.0256 32.569 21.5463L28.0007 26.1146L23.4324 21.5463C22.9117 21.0256 22.0675 21.0256 21.5468 21.5463C21.0261 22.067 21.0261 22.9112 21.5468 23.4319L26.1151 28.0002L21.5468 32.5685C21.0261 33.0892 21.0261 33.9334 21.5468 34.4541C22.0675 34.9748 22.9117 34.9748 23.4324 34.4541L28.0007 29.8858L32.569 34.4541C33.0897 34.9748 33.9339 34.9748 34.4546 34.4541C34.9753 33.9334 34.9753 33.0892 34.4546 32.5685L29.8863 28.0002L34.4546 23.4319Z",fill:t?"rgba(255, 255, 255, 0.5)":"rgba(20, 6, 17, 0.5)"})]})};var V=n(264),W=n(5757),Q=n(6733),K=(e,t,n,r)=>{let[i,a]=(0,l.useState)(!1),[o,s]=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{(async()=>{for(let l of e){let e=await fin.View.wrapSync(l).getInfo();if(n&&(0,Q.CN)(e.url)===(0,Q.CN)(t.url)&&!(null==r?void 0:r.some(e=>e.name===l.name))){a(!0),s(l);break}}})()},[e,t,r,n]),{isTabOpen:i,viewToSwitchTo:o}},q=n(1296),Z=n(2257),U=n(7580),$=n(1272);let G=e=>{var t;let{site:n,onSiteAction:i,isFocused:o,id:s,onFocused:d,updateAction:u}=e,{openViews:c,selectedViews:p,setSelectedSite:h}=(0,l.useContext)(H),f=(0,q.M)(n),g="app"===n.type||"website"===n.type,{isTabOpen:m,viewToSwitchTo:v}=K(c,f,g,p),{isSchemeDark:b}=(0,W.Z)(),y=(0,l.useRef)(null),[k,C]=(0,l.useState)(0);(0,l.useEffect)(()=>{if(!y.current)return;let e=new ResizeObserver(e=>{for(let t of e)t.contentBoxSize&&C(t.contentBoxSize[0].inlineSize)});return e.observe(y.current),()=>{e.disconnect()}},[]),(0,l.useEffect)(()=>{o&&y.current.focus({preventScroll:!0})},[o]),(0,l.useEffect)(()=>{let e=e=>{o&&"Enter"===e.key&&"tab"!==document.activeElement.role&&((e.metaKey||e.ctrlKey)&&m?fin.View.wrapSync(v).focus():h(n),e.stopPropagation())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[h,n,o,v,m]);let j=(0,l.useCallback)(e=>{e.stopPropagation(),fin.View.wrapSync(v).focus()},[v]),S=(0,l.useCallback)(e=>{2!==e.button&&1!==e.button&&(e.preventDefault(),e.stopPropagation(),h(n))},[h,n]),I=(0,l.useCallback)(e=>{let t=(e,t)=>{"button"in t&&(2===t.button||1===t.button)||(t.stopPropagation(),i(n,e))},l=k>w.H.expanded.minWidth+100;return(0,r.jsx)(er,{isSelected:o,className:"action-buttons",children:e.map(e=>{var n,i;return(0,r.jsxs)(el,{onMouseDown:n=>t(e,n),onFocus:()=>u(e),onKeyDown:n=>{"Enter"===n.key&&t(e,n)},"aria-label":"".concat(e.title," Action for ").concat(f.title),children:[b?(null==e?void 0:null===(n=e.icon)||void 0===n?void 0:n.dark)&&(0,r.jsx)(ei,{src:null==e?void 0:e.icon.dark,alt:null==e?void 0:e.altText}):(null==e?void 0:null===(i=e.icon)||void 0===i?void 0:i.light)&&(0,r.jsx)(ei,{src:null==e?void 0:e.icon.light,alt:null==e?void 0:e.altText}),l&&(0,r.jsx)(a.Text,{children:e.title})]},e.id)})})},[k,i,n,b,o]);return(0,r.jsx)("div",{className:"search-result",role:"listitem",children:(0,r.jsxs)(Y,{id:s,role:"option",as:"a",tabIndex:0,ref:y,onMouseDown:S,onFocus:()=>d(n),isSelected:o,"aria-live":"polite","aria-label":f.title,"aria-selected":o,"data-testid":x.H$.searchResultItem,children:[(0,r.jsx)(U.L,{siteType:n.type,icon:f.icon,isSelected:o,iconOptions:g&&(null==n?void 0:null===(t=n.options)||void 0===t?void 0:t.icon)}),(0,r.jsxs)(ee,{children:[(0,r.jsx)(et,{size:"base",weight:"normal",children:f.title}),(0,r.jsx)(en,{size:"base",isUrl:"website"===n.type,children:(0,$.o2)(n,V.p)})]}),(0,r.jsx)(J,{children:n.actions?I(n.actions):m&&(0,r.jsx)(el,{tabIndex:0,onMouseDown:e=>{2!==e.button&&1!==e.button&&(e.stopPropagation(),j(e))},onKeyDown:e=>{"Enter"===e.key&&j(e)},children:"Switch to tab"})}),n.rightSideIcon&&(0,r.jsx)(ea,{icon:n.rightSideIcon,size:"xlarge",isFocused:o})]})})},X=(0,i.default)(a.Box).withConfig({componentId:"sc-84f2e96-0"})(["height:40px;width:100%;display:grid;grid-template-columns:auto 1fr auto auto;grid-gap:",";align-items:center;align-content:center;padding:",";border-radius:",";outline:none;"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return"".concat(t.px.xsmall," ").concat(t.px.small)},e=>{let{theme:t}=e;return t.px.xsmall}),J=i.default.div.withConfig({componentId:"sc-84f2e96-1"})(["display:none;flex-direction:row-reverse;align-items:center;"]),Y=(0,i.default)(X).withConfig({componentId:"sc-84f2e96-2"})(["&:hover{background-color:",";& ","{background:",";}}&:hover ",",&:focus-visible ","{display:flex;}",""],e=>{let{theme:t}=e;return t.palette.background4},Z.JR,e=>{let{theme:t}=e;return t.palette.background1},J,J,e=>{let{isSelected:t,theme:n}=e;return t&&(0,i.css)(["background-color:",";cursor:pointer;outline:0;& ","{display:flex;}"],n.palette.background4,J)}),ee=(0,i.default)(a.Box).withConfig({componentId:"sc-84f2e96-3"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;min-width:0;"]),et=(0,i.default)(a.Text).withConfig({componentId:"sc-84f2e96-4"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",";max-width:100%;line-height:16px;"],e=>{let{theme:t}=e;return t.palette.textDefault}),en=(0,i.default)(a.Text).withConfig({componentId:"sc-84f2e96-5"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",";max-width:100%;line-height:16px;"],e=>{let{theme:t,isUrl:n}=e;return n?t.palette.linkDefault:t.palette.textHelp}),er=i.default.div.withConfig({componentId:"sc-84f2e96-6"})(["display:flex;flex-direction:row;align-items:center;justify-content:flex-end;column-gap:",";flex:1 1 auto;max-width:50%;"],e=>{let{theme:t}=e;return t.px.small}),el=i.default.button.withConfig({componentId:"sc-84f2e96-7"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;gap:",";background:",";border:1px solid ",";border-radius:",";padding:",";height:24px;flex-shrink:0;color:",";font:var(--openfin-ui-globalTypography);font-weight:",";font-size:",";line-height:15px;&:hover{background:",";}&:focus-visible{outline:solid 1px ",";outline-offset:-1px;}"],e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.palette.background3},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return"".concat(t.px.xsmall," ").concat(t.px.small)},e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.fontWeight.normal},e=>{let{theme:t}=e;return t.fontSize.base},e=>{let{theme:t}=e;return t.palette.background4},e=>{let{theme:t}=e;return t.palette.statusActive}),ei=i.default.img.withConfig({componentId:"sc-84f2e96-8"})(["width:",";height:",";"],e=>{let{theme:t}=e;return t.px.base},e=>{let{theme:t}=e;return t.px.base}),ea=(0,i.default)(a.Icon).withConfig({componentId:"sc-84f2e96-9"})(["opacity:0;",":hover &{opacity:1;}",""],Y,e=>{let{isFocused:t}=e;return t&&"opacity: 1;"});var eo=n(1610),es=n(8990);let ed=e=>{let{selectedResult:t,isLoading:n}=e,{setAction:i}=(0,l.useContext)(p),[a,o]=(0,l.useState)();return(0,l.useEffect)(()=>{(null==t?void 0:t.type)==="app"?o("App"):(null==t?void 0:t.type)==="page"?o("Supertab"):(null==t?void 0:t.type)==="workspace"?o("Workspace"):(null==t?void 0:t.type)==="collection"?o("Collection"):(null==t?void 0:t.type)==="website"?o("URL"):(null==t?void 0:t.type)==="view-more-result"?o("View More"):o(null),i(null)},[t]),(0,r.jsx)(ef,{children:(0,r.jsxs)(ex,{children:[(0,r.jsxs)(eu,{children:[(0,r.jsx)(ec,{children:(0,r.jsx)(es.Z,{size:"small"})}),n&&(0,r.jsx)(ep,{size:"base",children:"Loading..."})]}),(0,r.jsx)(eh,{children:t&&(0,r.jsx)(em,{type:a,selectedResult:t,isPageOpen:!1})})]})})},eu=i.default.div.withConfig({componentId:"sc-55723372-0"})(["width:auto;height:",";margin-left:",";display:flex;flex-direction:row;justify-content:flex-start;align-items:center;"],e=>{let{theme:t}=e;return t.px.xlarge},e=>{let{theme:t}=e;return t.px.large}),ec=i.default.div.withConfig({componentId:"sc-55723372-1"})(["width:",";height:",";& > span > div{background-size:contain !important;}"],e=>{let{theme:t}=e;return t.px.xlarge},e=>{let{theme:t}=e;return t.px.xlarge}),ep=(0,i.default)(a.Text).withConfig({componentId:"sc-55723372-2"})(["font-weight:500;color:",";margin-left:",";"],e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.px.small}),eh=i.default.div.withConfig({componentId:"sc-55723372-3"})(["display:flex;flex-direction:row;justify-content:flex-end;margin-right:",";"],e=>{let{theme:t}=e;return t.px.xsmall}),ef=i.default.div.withConfig({componentId:"sc-55723372-4"})(["display:flex;flex-direction:column;justify-content:center;background:",";border:1px solid ",";width:100%;height:","px;z-index:1;position:sticky;bottom:0;left:0;right:0;"],e=>{let{theme:t}=e;return t.palette.background2},e=>{let{theme:t}=e;return t.palette.background5},$.b7),ex=i.default.div.withConfig({componentId:"sc-55723372-5"})(["display:flex;flex-direction:row;justify-content:space-between;align-content:center;"]),eg=i.default.div.withConfig({componentId:"sc-55723372-6"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;margin-right:",";gap:8px;width:20px;height:16px;background:",";border-radius:2px;margin-top:2px;"],e=>{let{rightSide:t,theme:n}=e;return t?n.px.small:"2px"},e=>{let{theme:t}=e;return t.palette.background4}),em=e=>{let{selectedResult:t,type:n,isPageOpen:i}=e,{action:o}=(0,l.useContext)(p),s=(null==o?void 0:o.altText)||(null==o?void 0:o.description),d=i?(0,eo.t)("enterpriseCommandBar.switchToSupertab"):(null==t?void 0:t.type)==="view-more-result"?(0,eo.t)("enterpriseCommandBar.viewMore"):s||(null==t?void 0:t.cta)||(0,eo.t)("enterpriseCommandBar.goTo",{type:n});return(0,r.jsx)(r.Fragment,{children:n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Text,{style:{lineHeight:"20px",paddingRight:"8px"},children:d}),(0,r.jsx)(eg,{rightSide:!0,children:(0,r.jsx)(Z.Bn,{})})]})})};var ev=(e,t,n,r,i,a)=>{let o=(0,l.useMemo)(()=>null==n?void 0:n.findIndex(t=>(null==e?void 0:e.type)==="view-more-result"&&"view-more-result"===t.type?e.providerId===t.providerId:t===e),[n,e]);(0,l.useLayoutEffect)(()=>{if(a){let e=Array.from(a.childNodes).filter(e=>{var t;return null===(t=e.classList)||void 0===t?void 0:t.contains("search-result")})[o];e&&e.scrollIntoView({block:"center",behavior:"smooth"})}},[o,a]);let s=(0,l.useCallback)(()=>{o<n.length-1?r(n[o+1]):r(n[0])},[o,n,r]),d=(0,l.useCallback)(()=>{o>0?r(n[o-1]):r(n[n.length-1])},[o,n,r]),u=(0,l.useCallback)(()=>{n.length&&r(n[0])},[n,r]),c=(0,l.useCallback)(()=>{if(n.length){let e=n.length-1;r(n[e])}},[n,r]);(0,l.useEffect)(()=>{let e=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),s();break;case"ArrowUp":e.preventDefault(),d();break;case"Home":e.preventDefault(),u();break;case"End":e.preventDefault(),c();break;case"Shift":case"Tab":case"ArrowLeft":case"ArrowRight":case"Enter":break;default:e.metaKey&&e.ctrlKey||(t(null),i(e))}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[s,d,c,u,i])};let ew=e=>{let{setSelectedSite:t,sendKeyboardEventToBrowserWindow:n}=(0,l.useContext)(H),i=(0,l.useRef)(null),[a,o]=(0,l.useState)(),s=(0,l.useCallback)((e,n)=>{o(e),t({...e,action:n})},[e]);return ev(a,o,e.flattenedResults,e=>o(e),n,i.current),(0,l.useEffect)(()=>{var t,n,r;e.flattenedResults&&(a?e.flattenedResults.length>0?null===(r=i.current)||void 0===r||r.setAttribute("aria-activedescendant",e.flattenedResults[0].id):o(null):null===(t=i.current)||void 0===t||t.setAttribute("aria-activedescendant",null!==(n=null==a?void 0:a.id)&&void 0!==n?n:""))},[e.flattenedResults,a]),(0,l.useEffect)(()=>{e.isLoading||!e.flattenedResults.length||a||o(e.flattenedResults[0])},[e.isLoading,e.flattenedResults.length]),(0,r.jsxs)(eb,{children:[(0,r.jsx)(ey,{children:(0,r.jsx)(ek,{role:"listbox",ref:i,"aria-activedescendant":"",id:"results-container","data-testid":x.H$.resultsContainer,children:e.children(o,a,s)})}),(0,r.jsx)(ed,{isLoading:e.isLoading,selectedResult:a})]})},eb=i.default.div.withConfig({componentId:"sc-65a18fb1-0"})(["display:flex;flex-direction:column;height:100%;min-height:0;"]),ey=i.default.div.withConfig({componentId:"sc-65a18fb1-1"})(["border-left:1px solid ",";border-right:1px solid ",";::-webkit-scrollbar{display:none;}user-select:none;width:100%;flex:1;overflow:auto;"],e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background5}),ek=i.default.div.withConfig({componentId:"sc-65a18fb1-2"})(["padding:0px "," "," ",";"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.small}),eC=[{text:300,subtext:207},{text:262,subtext:116},{text:156,subtext:56},{text:210,subtext:130}],ej=e=>{let{resultsNum:t}=e;return(0,r.jsx)(r.Fragment,{children:Array.from({length:t}).map((e,t)=>(0,r.jsx)(eS,{variant:t%4},"skeleton-result-".concat(t)))})},eS=e=>{let{variant:t}=e;return(0,r.jsxs)(X,{children:[(0,r.jsx)(Z.qk,{}),(0,r.jsxs)(eI,{children:[(0,r.jsx)(eE,{width:eC[t].text}),(0,r.jsx)(eE,{width:eC[t].subtext})]})]})},eI=(0,i.default)(a.Box).withConfig({componentId:"sc-70b1cec2-0"})(["height:",";display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;"],e=>{let{theme:t}=e;return t.px.xxlarge}),eE=(0,i.default)(a.Box).withConfig({componentId:"sc-70b1cec2-1"})(["height:",";width:","px;border-radius:3px;background:",";background:linear-gradient( 45deg,"," 0%,"," 50%,"," 100% );background-size:200% 200%;animation:shimmer 3s linear infinite;@keyframes shimmer{0%{background-position:200% 0;}100%{background-position:-200% 0;}}"],e=>{let{theme:t}=e;return t.px.small},e=>{let{width:t}=e;return t},e=>{let{theme:t}=e;return t.palette.background2},e=>{let{theme:t}=e;return t.palette.background2},e=>{let{theme:t}=e;return t.palette.background4},e=>{let{theme:t}=e;return t.palette.background2});var eR=e=>{let{providerId:t,isFocused:n,handleProviderSelected:i,onFocused:s,providerTitle:d}=e,u=(0,l.useRef)(null);(0,l.useEffect)(()=>{n&&u.current.focus({preventScroll:!0})},[n]);let c=(0,l.useCallback)(()=>{(0,o.sS)({type:"Search",action:"Select View More",value:d}),i(t)},[i,t,d]),p=(0,l.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),c())},[c]);return(0,r.jsx)("div",{className:"search-result",role:"listitem",children:(0,r.jsxs)(Y,{role:"option",as:"a",tabIndex:0,ref:u,onMouseDown:c,onKeyDown:p,onFocus:()=>s({type:"view-more-result",id:"".concat(t,"-view-more"),providerId:t}),isSelected:n,"aria-live":"polite","aria-label":(0,eo.t)("enterpriseCommandBar.viewMore"),"aria-selected":n,"data-testid":x.H$.viewMoreResultsButton,children:[(0,r.jsx)(Z.JR,{isSelected:n,children:(0,r.jsx)(a.Icon,{icon:"DotsVerticalIcon"})}),(0,r.jsx)(eL,{children:(0,eo.t)("enterpriseCommandBar.viewMore")})]})})};let eL=(0,i.default)(a.Box).withConfig({componentId:"sc-a782d703-0"})(["display:flex;flex-direction:column;justify-content:center;min-width:0;"]),eM=(e,t,n)=>{let[r,i]=(0,l.useState)([]);(0,l.useEffect)(()=>{i(e)},[e]);let a=(0,l.useCallback)(e=>{e.queryId===n&&i(t=>t.map(t=>t.id===e.id?{...t,results:e.results,showViewMore:e.showViewMore}:t))},[n]);return(0,l.useEffect)(()=>(t.on(a),()=>{t.off(a)}),[t,a]),r},eD=e=>e.map(e=>{var t;let n=null!==(t=e.results)&&void 0!==t?t:[];return e.showViewMore?[...n,{type:"view-more-result",id:"".concat(e.id,"-view-more"),providerId:e.id}]:n}).flat(),eT=e=>[...e].sort(e=>e.title.includes("Suggestions")?-1:0),eH=(e,t)=>eT(e.map(e=>t(e.id)).filter(e=>!!e)).map(t=>e.find(e=>e.id===t.id)),eA=e=>(null==e?void 0:e.results)===null||(null==e?void 0:e.results)===void 0,eP=e=>{let{handleProviderSelected:t,asyncResultsObserver:n}=e,{searchResults:i,searchProviders:a,isQueryingResults:o,setAction:s}=(0,l.useContext)(p),{queryId:d}=(0,l.useContext)(H),[u,c]=(0,l.useState)(!1),h=(0,l.useMemo)(()=>eT(a),[a]),f=eM(i,n,d),x=(0,l.useCallback)(e=>h.find(t=>t.id===e),[h]),g=(0,l.useMemo)(()=>!o&&f.every(e=>{var t;return!eA(e)&&!(null===(t=e.results)||void 0===t?void 0:t.length)&&(null!==e.results||void 0!==e.results)}),[o,f]);(0,l.useEffect)(()=>{c(o||f.some(eA))},[o,f]);let m=(0,l.useMemo)(()=>eH(f,x),[f,x]),v=(0,l.useMemo)(()=>eD(m),[m]),w=(0,l.useCallback)(e=>{var t;return(0,r.jsx)(ez,{"data-is-header":!0,children:(0,r.jsx)(eB,{size:"base",as:"h2",children:null===(t=x(e))||void 0===t?void 0:t.title})})},[x]);return(0,r.jsx)(ew,{flattenedResults:v,isLoading:u,children:(e,n,i)=>(0,r.jsxs)(r.Fragment,{children:[g&&(0,r.jsx)(P,{}),o?h.map(e=>(0,r.jsxs)(r.Fragment,{children:[w(e.id),(0,r.jsx)(ej,{resultsNum:5})]})):m.map(a=>{var o;return eA(a)||0!==a.results.length?(0,r.jsxs)(r.Fragment,{children:[w(a.id),eA(a)?(0,r.jsx)(ej,{resultsNum:5}):(0,r.jsxs)(r.Fragment,{children:[a.results.map(t=>(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(G,{site:t,isFocused:t===n,id:"result-".concat(t.type,"-").concat(t.id),onSiteAction:i,onFocused:e,updateAction:s})},"".concat(a.id,"-section-").concat(t.type,"-").concat(t.id))),a.showViewMore&&(0,r.jsx)(eR,{providerId:a.id,isFocused:(null==n?void 0:n.id)==="".concat(a.id,"-view-more"),handleProviderSelected:t,onFocused:e,providerTitle:null===(o=x(a.id))||void 0===o?void 0:o.title})]})]}):null})]})})},ez=i.default.div.withConfig({componentId:"sc-633fd1b4-0"})(["margin-top:",";"],e=>{let{theme:t}=e;return t.px.small}),eB=(0,i.default)(a.Text).withConfig({componentId:"sc-633fd1b4-1"})(["line-height:15px;font-weight:500;color:",";padding:",";padding-left:",";"],e=>{let{theme:t}=e;return t.palette.textHelp},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.small});var eF=n(1161),eO=n(2225);let eN=()=>{let{recentlyVisited:e,curatedContent:t}=(0,l.useContext)(p),{setSelectedSite:n,sendKeyboardEventToBrowserWindow:i}=(0,l.useContext)(H),[a,s]=(0,l.useState)(-1),[d,u]=(0,l.useState)(-1),c=(0,l.useRef)(null),h=e=>{let r=t[e];(0,o.sS)({action:"Select Featured Item",type:"Search",value:r.title,data:{uuid:r.id}}),s(e),n(t[e])},f=t=>{let r=e[t];(0,o.sS)({action:"Select Recently Visited Item",type:"Search",value:r.title,data:{uuid:r.id}}),u(t),n(e[t])};return(0,r.jsxs)("div",{id:e0,children:[(0,r.jsxs)(e2,{children:[t.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e_,{size:"xxlarge",weight:"bold",children:(0,eo.t)("appResults.header")}),(0,r.jsx)(eV,{role:"listbox",ref:c,children:null==t?void 0:t.slice(0,15).map((e,t)=>(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(eO.s,{id:"curatedContent-".concat(t),site:e,index:t,isSelected:a===t,onSelectedSite:h,sendKeyboardEventToBrowserWindow:i})},"curated-content-".concat(e.id)))})]}),(0,r.jsx)(e_,{size:"xxlarge",weight:"bold",children:(0,eo.t)("recentlyClosed.header")}),e.length?(0,r.jsx)(eW,{children:e.slice(0,5).map((t,n)=>(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(eF.e,{id:e[n].id,site:t,index:n,isSelected:d===n,onSelectedSite:f,sendKeyboardEventToBrowserWindow:i})},"recent-site-".concat(n)))}):(0,r.jsx)(eQ,{children:(0,r.jsx)(eK,{children:"Recently visited content appears here when you explore or search."})})]}),(0,r.jsx)(eq,{})]})},e_=(0,i.default)(a.Text).withConfig({componentId:"sc-21e602a7-0"})(["line-height:",";margin:0 0 ",";font-size:",";font-weight:600;display:block;"],e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.px.base},e=>{let{theme:t}=e;return t.px.large}),eV=i.default.div.withConfig({componentId:"sc-21e602a7-1"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(64px,1fr));max-width:680px;max-height:192px;overflow:auto;gap:",";margin-bottom:",";padding-right:",";@media (min-width:",") and (max-width:","){grid-template-columns:repeat(auto-fill,minmax(64px,calc((100% - 48px) / 4)));}@media (min-width:","){grid-template-columns:repeat(auto-fill,minmax(64px,calc((100% - 112px) / 8)));}a div div:first-child{background-color:",";}a:hover div div:first-child,a:focus-visible div div:first-child{background-color:",";}a:focus-visible div div:first-child{outline:solid 1px ",";outline-offset:-1px;}"],e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.px.base},376,728,728,e=>{let{theme:t}=e;return t.palette.background2},e=>{let{theme:t}=e;return t.palette.background4},e=>{let{theme:t}=e;return t.palette.statusActive}),eW=(0,i.default)(a.Box).withConfig({componentId:"sc-21e602a7-2"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding-left:",";outline:none;a:hover,a:focus-visible{background-color:",";}a:focus-visible{outline:solid 1px ",";outline-offset:-1px;}a div div:first-child{background-color:",";}"],e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.palette.background4},e=>{let{theme:t}=e;return t.palette.statusActive},e=>{let{theme:t}=e;return t.palette.background3}),eQ=i.default.div.withConfig({componentId:"sc-21e602a7-3"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-top:",";"],e=>{let{theme:t}=e;return t.px.base}),eK=i.default.span.withConfig({componentId:"sc-21e602a7-4"})(["color:",";font-size:12px;line-height:16px;font-weight:400;"],e=>{let{theme:t}=e;return t.palette.textDefault}),eq=i.default.div.withConfig({componentId:"sc-21e602a7-5"})(["height:","px;width:100%;background-color:",";z-index:1;position:sticky;bottom:0;left:0;right:0;"],1,e=>{let{theme:t}=e;return t.palette.background5});var eZ=e=>{let{providerId:t}=e,{searchProviders:n}=(0,l.useContext)(p),i=n.find(e=>e.id===t);return(0,r.jsxs)("div",{id:e0,children:[(0,r.jsx)(e2,{children:(0,r.jsxs)(eU,{children:[(null==i?void 0:i.icon)?(0,r.jsx)(eG,{src:i.icon,alt:i.title}):(0,r.jsx)(eY,{icon:"MagnifyingGlassIcon",size:"xxxlarge"}),(0,r.jsxs)(e$,{children:[(0,r.jsxs)(eX,{children:["Search ",i.title]}),(0,r.jsx)(eJ,{children:"Start typing to see results."})]})]})}),(0,r.jsx)(ed,{})]})};let eU=i.default.div.withConfig({componentId:"sc-300a62da-0"})(["height:184px;display:flex;gap:",";flex-direction:column;align-items:center;justify-content:center;"],e=>{let{theme:t}=e;return t.px.large}),e$=i.default.div.withConfig({componentId:"sc-300a62da-1"})(["display:flex;flex-direction:column;align-items:center;"]),eG=i.default.img.withConfig({componentId:"sc-300a62da-2"})(["height:64px;width:64px;border-radius:",";"],e=>{let{theme:t}=e;return t.px.small}),eX=i.default.span.withConfig({componentId:"sc-300a62da-3"})(["height:",";font-size:",";font-weight:500;"],e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.fontSize.large}),eJ=i.default.span.withConfig({componentId:"sc-300a62da-4"})(["color:",";text-align:center;"],e=>{let{theme:t}=e;return t.palette.textHelp}),eY=(0,i.default)(a.Icon).withConfig({componentId:"sc-300a62da-5"})(["--px-container:64px;--px-icon:64px;"]),e0="empty-search-input-container",e1=e=>{let{showQuerylessText:t,providerId:n}=e;return t&&n!==d.id?(0,r.jsx)(eZ,{providerId:n}):(0,r.jsx)(eN,{})},e2=i.default.div.withConfig({componentId:"sc-fd4857f2-0"})(["padding-top:",";padding-bottom:",";padding-left:",";padding-right:",";border-left:1px solid ",";border-right:1px solid ",";overflow-y:auto;overflow-x:hidden;::-webkit-scrollbar{display:none;}"],e=>{let{theme:t}=e;return t.px.base},e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background5});function e3(e){let{provider:t}=e,[n,i]=(0,l.useState)(!1);return n?null:(0,r.jsx)("img",{src:t.icon,alt:t.title,style:{width:16,height:16,borderRadius:4},onError:()=>{i(!0)}})}var e5=e=>{let{onProviderSelected:t}=e,{searchProviders:n,activeProviderId:i}=(0,l.useContext)(p),{sendKeyboardEventToBrowserWindow:a,focusRequestId:o}=(0,l.useContext)(H),[s,u]=(0,l.useState)(0);(0,l.useEffect)(()=>{o&&f.current.focus()},[o]);let c=(0,l.useCallback)(e=>{let t=f.current.children,n=s;switch(e.key){case"ArrowLeft":n=(s-1+t.length)%t.length;break;case"ArrowRight":n=(s+1)%t.length;break;case"Home":n=0;break;case"End":n=-1;break;case"Shift":case"Tab":break;default:a&&a(e)}n!==s&&(t.item(n).focus(),u(n),e.stopPropagation(),e.preventDefault())},[a,s]),h=[d,...n],f=(0,l.useRef)(null),x=e=>e.icon?"BRAND_ICON"===e.icon?(0,r.jsx)("div",{style:{width:16,height:16},children:(0,r.jsx)(es.Z,{size:"small"})}):(0,r.jsx)(e3,{provider:e}):null,g=(0,l.useCallback)(e=>{if(e.target===e.currentTarget){let e=h.filter(e=>!1!==e.isTab).findIndex(e=>e.id===i);f.current.children.item(e).focus(),u(e)}},[h,i,u]);return(0,r.jsx)(e4,{ref:f,onFocus:g,role:"tablist",tabIndex:0,children:h.filter(e=>!1!==e.isTab).map(e=>(0,r.jsx)(e6,{onClick:()=>t(e.id),onKeyDown:c,active:e.id===i,role:"tab","aria-label":e.title,"aria-selected":e.id===i,tabIndex:-1,children:(0,r.jsxs)(e7,{active:e.id===i,children:[x(e),(0,r.jsx)(e8,{active:e.id===i,children:e.title})]})},e.id))})};let e4=(0,i.default)(a.Box).withConfig({componentId:"sc-13790c05-0"})(["height:","px;width:100%;display:flex;align-items:start;gap:",";padding:0px ",";position:sticky;top:0;z-index:1000;background-color:",";border-bottom:1px solid ",";border-left:1px solid ",";border-right:1px solid ",";overflow-x:auto;overflow-y:hidden;white-space:nowrap;"],$.iD,e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.base},e=>{let{theme:t}=e;return t.palette.background1},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background5}),e6=i.default.button.withConfig({componentId:"sc-13790c05-1"})(["height:35px;padding-top:",";padding-bottom:11px;margin:0;background:none;position:relative;display:inline-flex;align-items:start;gap:",";cursor:pointer;&::after{content:'';height:2px;width:100%;position:absolute;left:0;bottom:3px;background-color:",";border-radius:1px;transition:background-color 0.3s ease;}&:focus{outline:none;}&:focus-visible > div{outline:solid 1px ",";}&:hover{cursor:pointer;}"],e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{active:t,theme:n}=e;return t?n.palette.brandPrimary:"transparent"},e=>{let{theme:t}=e;return t.palette.statusActive}),e7=i.default.div.withConfig({componentId:"sc-13790c05-2"})(["height:",";padding-left:",";padding-right:",";margin:0;border-radius:",";display:inline-flex;align-items:center;position:relative;"," img,div{width:",";height:",";margin-right:",";}"],e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.radius.small},e=>{let{active:t,theme:n}=e;return!t&&(0,i.css)(["",":hover &{cursor:pointer;background-color:",";}"],e6,n.palette.background4)},e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.large},e=>{let{theme:t}=e;return t.px.xsmall}),e8=(0,i.default)(a.Text).withConfig({componentId:"sc-13790c05-3"})(["color:",";opacity:",";font-size:",";font-weight:500;",""],e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{active:t}=e;return t?1:.75},e=>{let{theme:t}=e;return t.fontSize.base},e=>{let{active:t}=e;return!t&&(0,i.css)(["",":hover &{cursor:pointer;opacity:1;}"],e6)}),e9={isLoading:!1},te=(e,t)=>{switch(t.type){case"INITIALIZE":return{...e,...t.payload};case"SET_LOADING":return{...e,isLoading:t.payload};case"LOAD_MORE_SUCCESS":return{...e,isLoading:!1,providerResults:[...e.providerResults||[],...t.payload.results],pageNumber:t.payload.pageNumber,lastQueryResultsLength:t.payload.lastQueryResultsLength};case"LOAD_MORE_FAILURE":return{...e,isLoading:!1};case"LOAD_MORE_NO_MORE":return{...e,isLoading:!1,lastQueryResultsLength:0};default:return e}},tt=(e,t,n,r)=>{let[i,a]=(0,l.useReducer)(te,e9),o=(0,l.useRef)(0),s=(0,l.useRef)(null),d=(0,l.useCallback)(async()=>{let e=o.current;a({type:"SET_LOADING",payload:!0});let r=(i.pageNumber||1)+1;try{let l=await E({providerId:i.currentProviderId,queryId:n,query:t,pageNumber:r});if(e!==o.current)return;let s=l.find(e=>e.id===i.currentProviderId);s&&s.results.length>0?a({type:"LOAD_MORE_SUCCESS",payload:{results:s.results,pageNumber:r,lastQueryResultsLength:s.results.length}}):a({type:"LOAD_MORE_NO_MORE"})}catch(t){if(console.error(t),e!==o.current)return;a({type:"LOAD_MORE_FAILURE"})}},[t,i.currentProviderId,i.pageNumber,n]);return(0,l.useEffect)(()=>{if(e){var t;o.current+=1,a({type:"INITIALIZE",payload:{currentProviderId:e.id,isLoading:!1,providerResults:e.results,pageNumber:e.pageNumber||1,pageSize:e.pageSize,lastQueryResultsLength:(null===(t=e.results)||void 0===t?void 0:t.length)||0}})}else a({type:"SET_LOADING",payload:!0})},[e]),(0,l.useEffect)(()=>{if(!i.providerResults||0===i.providerResults.length||r)return;s.current&&(s.current.disconnect(),s.current=null);let e=i.providerResults[i.providerResults.length-1],t="result-".concat(e.type,"-").concat(e.id),n=document.getElementById(t);if(!n)return;let l=async e=>{let[t]=e,n=!i.isLoading&&i.lastQueryResultsLength===i.pageSize;if(t.isIntersecting&&n){var r;null===(r=s.current)||void 0===r||r.disconnect(),s.current=null,await d()}};return s.current=new IntersectionObserver(l,{root:null,threshold:1}),s.current.observe(n),()=>{var e;null===(e=s.current)||void 0===e||e.disconnect()}},[i.providerResults,i.isLoading,i.lastQueryResultsLength,i.pageSize,d,r]),i};var tn=n(2666);let tr=e=>{let{provider:t}=e,{updateSearchResults:n,searchQuery:i,shouldExpandMenu:a}=(0,l.useContext)(H),{filters:s,setFilters:d,setSearchResults:u}=(0,l.useContext)(p),c=(0,tn.n)(),h=(0,l.useCallback)(e=>{var r;let l=s.includes(e)?s.filter(t=>t!==e):[...s,e],c=null==t?void 0:t.filters.find(t=>t.id==e);l.includes(e)?(0,o.sS)({type:"Search",action:"Select Filter",value:null==c?void 0:c.title}):(0,o.sS)({type:"Search",action:"Deselect Filter",value:null==c?void 0:c.title}),d(l),u([{id:t.id,results:null}]),n(null!==(r=i.current)&&void 0!==r?r:"",t.id,a,!0,l)},[s,t,a,d,u,n,i]),f=(0,l.useCallback)(e=>{let t=s.includes(e.id);if(null==e?void 0:e.icon)return(0,r.jsx)("img",{src:"dark"===c?e.icon.dark:e.icon.light,alt:e.title,style:{width:14,height:14,marginRight:4}});switch(e.id){case"content":return(0,r.jsx)(ta,{icon:"ContentAppIcon",isSelected:t});case"bookmark":return(0,r.jsx)(ta,{icon:"BookmarkFilled",isSelected:t});case"supertab":return(0,r.jsx)(ta,{icon:"SupertabIcon",isSelected:t});case"collection":return(0,r.jsx)(ta,{icon:"CollectionIcon",isSelected:t});default:return null}},[s,c]);return(0,r.jsx)(tl,{children:null==t?void 0:t.filters.map(e=>(0,r.jsxs)(ti,{selected:s.includes(e.id),onClick:()=>h(e.id),"data-testid":x.H$.searchFilterButton,children:[f(e),e.title]},e.id))})},tl=i.default.ul.withConfig({componentId:"sc-c80e279e-0"})(["display:flex;position:sticky;top:","px;background-color:",";gap:",";padding:",";border-left:1px solid ",";border-right:1px solid ",";"],$.iD,e=>{let{theme:t}=e;return t.palette.background1},e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.base},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background5}),ti=i.default.li.withConfig({componentId:"sc-c80e279e-1"})(["display:flex;align-items:center;gap:2px;border:1px solid ",";font-size:",";color:",";background-color:",";padding:"," ",";border-radius:1000px;list-style-type:none;&:hover{background-color:",";}"],e=>{let{selected:t,theme:n}=e;return t?n.palette.brandPrimary:n.palette.background3},e=>{let{theme:t}=e;return t.px.base},e=>{let{selected:t,theme:n}=e;return t?n.palette.brandPrimary:n.palette.textDefault},e=>{let{selected:t,theme:n}=e;return t?"rgb(from ".concat(n.palette.brandPrimary," r g b / 8%)"):"transparent"},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.small},e=>{let{selected:t,theme:n}=e;return t?"rgb(from ".concat(n.palette.brandPrimary," r g b / 16%)"):n.palette.background2}),ta=(0,i.default)(a.Icon).withConfig({componentId:"sc-c80e279e-2"})(["svg path{color:",";}"],e=>{let{theme:t,isSelected:n}=e;return n?t.palette.brandPrimary:t.palette.textDefault}),to=e=>{var t,n;let{providerResults:i}=e,{isQueryingResults:a,searchProviders:o,setAction:s}=(0,l.useContext)(p),{searchQuery:d,queryId:u}=(0,l.useContext)(H),c=o.find(e=>e.id===i.id),h=tt(i,d.current,u,!(null==c?void 0:c.supportsPaging)),f=(null==h?void 0:h.isLoading)||a||!(null==i?void 0:i.results);return(0,r.jsxs)(r.Fragment,{children:[(null==c?void 0:null===(t=c.filters)||void 0===t?void 0:t.length)>0?(0,r.jsx)(tr,{provider:c}):(0,r.jsx)(ts,{}),(0,r.jsx)(ew,{flattenedResults:null!==(n=null==h?void 0:h.providerResults)&&void 0!==n?n:[],isLoading:f,children:(e,t,n)=>{var a,o;return(0,r.jsxs)(r.Fragment,{children:[!f&&(null==h?void 0:null===(a=h.providerResults)||void 0===a?void 0:a.length)===0&&(0,r.jsx)(P,{provider:c}),null==h?void 0:null===(o=h.providerResults)||void 0===o?void 0:o.map(a=>(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(G,{site:a,isFocused:a===t,id:"result-".concat(a.type,"-").concat(a.id),onSiteAction:n,onFocused:e,updateAction:s})},"".concat(i.id,"-results-").concat(a.type,"-").concat(a.id))),f&&(0,r.jsx)(ej,{resultsNum:5})]})}})]})},ts=i.default.div.withConfig({componentId:"sc-c6112041-0"})(["height:",";border-right:1px solid ",";border-left:1px solid ",";"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.palette.background5},e=>{let{theme:t}=e;return t.palette.background5});var td=n(7885);let tu=()=>{let e=(0,l.useRef)(null),t=(0,l.useRef)(new Set);return(0,l.useEffect)(()=>{let n=!0;return(async()=>{try{let r=(0,I.a)();if(e.current=await (0,td.j5)(r.identity.uuid),!n)return;e.current.register("search-results-async",e=>{t.current.forEach(t=>t(e))})}catch(e){console.error("Failed to connect to the enterprise content channel:",e)}})(),()=>{n=!1,e.current&&(e.current.remove("search-results-async"),e.current=null)}},[]),{on:e=>{t.current.add(e)},off:e=>{t.current.delete(e)}}};var tc=n(328);let tp=()=>{var e;let{isSchemeDark:t}=(0,W.Z)(),{activeProviderId:n,searchResults:i,setSearchResults:a,setRecentlyVisited:s,setActiveProviderId:u,searchProviders:c,setFilters:h}=(0,l.useContext)(p),{containerRef:x,shouldExpandMenu:g,searchQuery:m,hasTextChangedSinceExpansion:v,shouldShowEmptySearchContainer:w,updateSearchResults:b}=(0,l.useContext)(H),y=tu(),[k,C]=(0,l.useState)(),j=(0,l.useCallback)(e=>{var t;let n=c.find(t=>t.id===e);C(f(null!==(t=m.current)&&void 0!==t?t:"",v.current,n))},[v.current,c,m.current]);(0,l.useEffect)(()=>{j(n)},[n,j]),(0,l.useEffect)(()=>{(0,$.VX)().then(e=>s(e))},[g.shouldExpand]);let S=(0,l.useCallback)(e=>{let t=c.find(t=>t.id===e);if((0,o.sS)({action:"Select Top Level Tab",type:"Search",value:null==t?void 0:t.title}),e!==n){var r;h([]),u(e),a([{id:e,results:null}]),b(null!==(r=m.current)&&void 0!==r?r:"",e,g,!0,[]),j(e)}},[n,g,c,b,j]),I=n!==d.id&&(1===i.length&&(null===(e=i[0])||void 0===e?void 0:e.id)===n||0===i.length),E=(0,l.useMemo)(()=>1===i.length?{id:i[0].id,results:i[0].results,pageSize:i[0].pageSize}:{id:n,results:null,pageSize:void 0},[i,n]);return(0,r.jsxs)(tf,{isSchemeDark:t,ref:x,children:[(0,r.jsx)("style",{children:"\n                    ::-webkit-scrollbar {\n                        display: none;\n                    }\n                "}),g.shouldExpand&&(0,r.jsxs)(tx,{children:[(0,r.jsx)(e5,{onProviderSelected:S}),w||k.showEmptyContainer?(0,r.jsx)(e1,{showQuerylessText:k.showQuerylessText,providerId:n}):I?(0,r.jsx)(to,{providerResults:E}):(0,r.jsx)(eP,{asyncResultsObserver:y,handleProviderSelected:S})]})]})};var th=()=>(0,r.jsx)(tc.B6.Provider,{value:{isEnterprise:!0},children:(0,r.jsx)(h,{children:(0,r.jsx)(A,{children:(0,r.jsx)(tp,{})})})});let tf=(0,i.default)(a.Box).withConfig({componentId:"sc-f3b991e-0"})(["display:block;background-color:",";"],e=>{let{isSchemeDark:t,theme:n}=e;return t?n.palette.background1:n.palette.background2}),tx=(0,i.default)(a.Box).withConfig({componentId:"sc-f3b991e-1"})(["background:",";user-select:none;width:100%;display:flex;flex-direction:column;max-height:100%;"],e=>{let{theme:t}=e;return t.palette.background1})}},function(e){e.O(0,[884,888,774,179],function(){return e(e.s=4546)}),_N_E=e.O()}]);
//# sourceMappingURL=address-search-results-view-70f52a363be8a4b3.js.map