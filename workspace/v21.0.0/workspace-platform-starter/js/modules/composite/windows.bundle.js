var t,e={};function n(t){return null==t}async function i(){const t=fin.Platform.getCurrentSync(),e=await t.Application.getChildWindows(),n=[];for(const t of e)(await t.isShowing()||"minimized"===await t.getState())&&n.push(t);return n}e.d=(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},e.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),function(t){t.CustomButton="CustomButton",t.StoreCustomButton="StoreCustomButton",t.CustomDropdownItem="CustomDropdownItem",t.GlobalContextMenu="GlobalContextMenu",t.ViewTabContextMenu="ViewTabContextMenu",t.PageTabContextMenu="PageTabContextMenu",t.SaveButtonContextMenu="SaveButtonContextMenu",t.API="API"}(t||(t={}));const o={actions:new class{async initialize(t,e,n){this._logger=e("WindowActions"),this._helpers=n}async get(e){return{"window-show-all":async e=>{if(e.callerType!==t.API&&e.callerType!==t.SaveButtonContextMenu){const t=await i();let o;for(const n of t)n.identity.name===e.windowIdentity.name&&n.identity.uuid===e.windowIdentity.uuid?o=n:("minimized"===await n.getState()&&await n.restore(),await n.bringToFront());n(o)||await o.setAsForeground()}},"window-hide-all":async t=>{const e=await i();for(const t of e)await t.minimize()},"window-hide-others":async e=>{if(e.callerType!==t.API&&e.callerType!==t.SaveButtonContextMenu){const t=await i();for(const n of t)n.identity.name!==e.windowIdentity.name&&await n.minimize()}}}}},menus:new class{async initialize(t,e,n){this._logger=e("WindowMenus"),this._settings=t.data}async get(t,e,o){if("global"===t&&!n(o?.windowIdentity)){const t=this._settings?.showAllWindows?.include??!0,e=this._settings?.hideAllWindows?.include??!0,n=this._settings?.hideOtherWindows?.include??!0,o=await i(),s={label:this._settings?.showAllWindows?.menuLabel??"Show All Windows",icon:this._settings?.showAllWindows?.menuIcon,enabled:o.length>1,position:{type:"CloseWindow",operation:"before",...this._settings?.showAllWindows?.menuPosition},data:{type:"Custom",action:{id:"window-show-all"}}},a={label:this._settings?.hideAllWindows?.menuLabel??"Hide All Windows",icon:this._settings?.hideAllWindows?.menuIcon,position:{type:"CloseWindow",operation:"before",...this._settings?.hideAllWindows?.menuPosition},data:{type:"Custom",action:{id:"window-hide-all"}}},l={label:this._settings?.hideOtherWindows?.menuLabel??"Hide Other Windows",icon:this._settings?.hideOtherWindows?.menuIcon,enabled:o.length>1,position:{type:"CloseWindow",operation:"before",...this._settings?.hideOtherWindows?.menuPosition},data:{type:"Custom",action:{id:"window-hide-others"}}},d=[];return t&&d.push(s),e&&d.push(a),n&&d.push(l),"none"!==this._settings?.separator&&d.length>0&&(d[0].separator=this._settings?.separator??"before"),d}}}};export{o as entryPoints};
//# sourceMappingURL=windows.bundle.js.map