/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/excel/openfin.excel.mjs":
/*!***********************************************************!*\
  !*** ../../node_modules/@openfin/excel/openfin.excel.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AdapterError: () => (/* binding */ Ne),
/* harmony export */   ApiError: () => (/* binding */ Se),
/* harmony export */   EventError: () => (/* binding */ De),
/* harmony export */   ExcelCellBorderLineStyle: () => (/* binding */ Ue),
/* harmony export */   ExcelCellHorizontalAlignment: () => (/* binding */ Fe),
/* harmony export */   ExcelCellPattern: () => (/* binding */ Pe),
/* harmony export */   ExcelCellVerticalAlignment: () => (/* binding */ xe),
/* harmony export */   ExcelFilterOperator: () => (/* binding */ Le),
/* harmony export */   InitializationError: () => (/* binding */ Be),
/* harmony export */   InvalidCellRangeAddressError: () => (/* binding */ je),
/* harmony export */   ParameterError: () => (/* binding */ Re),
/* harmony export */   disableLogging: () => (/* binding */ Oe),
/* harmony export */   enableLogging: () => (/* binding */ Ve),
/* harmony export */   getExcelApplication: () => (/* binding */ ze)
/* harmony export */ });
var e,t,r={d:(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},a={};r.d(a,{dq:()=>AdapterError,MS:()=>ApiError,xQ:()=>EventError,sO:()=>We,Zu:()=>fe,I3:()=>$e,$U:()=>Ge,i0:()=>Ie,cX:()=>InitializationError,gH:()=>InvalidCellRangeAddressError,_W:()=>ParameterError,U$:()=>i,U7:()=>l,rd:()=>be});class ApiError extends Error{constructor(e="An unexpected error has occurred",t){var r;super(e),t&&(this.innerError=t&&t),this.stack=null===(r=this.stack)||void 0===r?void 0:r.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class AdapterError extends ApiError{constructor(e="Failed to execute adapter function",t){super(e,t)}}class EventError extends ApiError{constructor(e="Failed to raise event",t){super(e,t)}}class InitializationError extends ApiError{constructor(e="Failed to initialize adapter",t){super(e,t)}}class InvalidCellRangeAddressError extends ApiError{constructor(e="The cell range address is not valid",t){super(e,t)}}class ParameterError extends ApiError{constructor(e="Invalid parameter value",t){super(e,t)}}!function(e){e.ActivateWorkbook="ActivateWorkbook",e.ActivateWorksheet="ActivateWorksheet",e.AddWorksheet="AddWorksheet",e.CalculateWorkbook="CalculateWorkbook",e.CalculateWorksheet="CalculateWorksheet",e.ClearAllCells="ClearAllCells",e.ClearAllCellValues="ClearAllCellValues",e.ClearAllCellFormatting="ClearAllCellFormatting",e.ClearCellValues="ClearCellValues",e.ClearCellFormatting="ClearCellFormatting",e.ClearCells="ClearCells",e.CloseWorkbook="CloseWorkbook",e.CreateWorkbook="CreateWorkbook",e.DeleteWorksheet="DeleteWorksheet",e.DeregisterEvent="DeregisterEvent",e.EventFired="EventFired",e.FilterCells="FilterCells",e.GetActiveWorksheet="GetActiveWorksheet",e.GetCalculationMode="GetCalculationMode",e.GetCellNames="GetCellNames",e.GetCells="GetCells",e.GetRangeAddress="GetRangeAddress",e.GetWorkbookById="GetWorkbookById",e.GetWorkbookFilePath="GetWorkbookFilePath",e.GetWorkbookName="GetWorkbookName",e.GetWorkbooks="GetWorkbooks",e.GetWorkbookWindowBounds="GetWorkbookWindowBounds",e.GetWorksheetById="GetWorksheetById",e.GetWorksheetByName="GetWorksheetByName",e.GetWorksheetName="GetWorksheetName",e.GetWorksheets="GetWorksheets",e.LogMessage="LogMessage",e.OpenWorkbook="OpenWorkbook",e.ProtectWorksheet="ProtectWorksheet",e.QuitApplication="QuitApplication",e.RegisterEvent="RegisterEvent",e.SaveWorkbook="SaveWorkbook",e.SaveWorkbookAs="SaveWorkbookAs",e.SetCellValues="SetCellValues",e.SetCellFormatting="SetCellFormatting",e.SetCellName="SetCellName",e.SetWorkbookWindowBounds="SetWorkbookWindowBounds",e.SetWorksheetName="SetWorksheetName"}(e||(e={})),function(e){e.Activate="Activate",e.ActivateWorksheet="ActivateWorksheet",e.AddWorksheet="AddWorksheet",e.Change="Change",e.Close="Close",e.Deactivate="Deactivate",e.DeleteWorksheet="DeleteWorksheet"}(t||(t={}));const o="1.5.0";let n=!1;const s="[@openfin/excel]",i=()=>{n=!1},l=()=>{n=!0,d(`v${o}`)},c=(e,t)=>{n&&(e.innerError?console.error(t?`${s} ${t}`:s,e,"\n\n(inner)",e.innerError):console.error(t?`${s} ${t}`:s,e))},d=(...e)=>{n&&console.log(s,...e)},h=(...e)=>{n&&console.warn(s,...e)};"undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Excel:{enableLogging:l,disableLogging:i}}});const w=new Map,p=async(r,a,o,n,s)=>{if(!a||!a.eventTarget||!a.objectId){const e=new EventError("Event registration missing required values");throw c(e),e}const i=Object.keys(t).find((e=>e.toLowerCase()===o.toLowerCase()));if(!i){const e=new EventError(`Unsupported event name: ${o}`);throw c(e),e}const l=Object.assign({eventName:t[i]},a);d("Registering event",l);try{const t=await r.dispatch(e.RegisterEvent,l),a={handler:s,listener:n};w.set(t,a)}catch(e){throw new AdapterError(void 0,e)}},k=(e,t)=>{const{eventRegistrationId:r}=e,a=w.get(r);if(!a)throw new EventError(`No registered event listener found for id: ${r}`);d("Event payload received",e),a.handler(e)},u=t=>async r=>{let a;for(const[e,t]of w)if(t.listener===r){a=e;break}if(!a)throw new EventError;d("Deregistering event:",a);try{await t.dispatch(e.DeregisterEvent,a),w.delete(a)}catch(e){throw new AdapterError}};var g;!function(e){e.Workbook="Workbook",e.Worksheet="Worksheet",e.CellRange="CellRange"}(g||(g={}));const m=()=>void 0!==crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>{const t=window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4;return(Number(e)^t).toString(16)})),C=new Map,y=(e,t)=>async(r,a)=>p(e,t,r,a,W(a)),v=(t,r,a)=>async()=>{d(`Cell range: Clear; address:${a} (${r})`);const o={address:a,objectId:r};try{await t.dispatch(e.ClearCells,o)}catch(e){throw new AdapterError}},b=(t,r,a)=>async()=>{d(`Cell range: Clear formatting; address:${a} (${r})`);const o={address:a,objectId:r};try{await t.dispatch(e.ClearCellFormatting,o)}catch(e){throw new AdapterError}},A=(t,r,a)=>async()=>{d(`Cell range: Clear values; address:${a} (${r})`);const o={address:a,objectId:r};try{await t.dispatch(e.ClearCellValues,o)}catch(e){throw new AdapterError}},E=(e,t,r)=>(a,o=1e3)=>{if(o<=0)throw new ApiError("Update interval must be a positive number");const n=m();d(`Cell range: Create data stream; streamId:${n}; address:${r}; updateInterval:${o} (${t})`);const s={address:r,close:()=>{d(`Closed stream (${n})`),(e=>{var t;try{const r=C.get(e);if(!r)throw new ApiError(`Unable to find registered data stream with id ${e}`);void 0!==(null!==(t=r.timer)&&void 0!==t?t:void 0)&&F(e),C.delete(e)}catch(e){throw c(e),e}})(n)},id:n,start:()=>{d(`Started streaming (${n})`),U(n,a,e,t)},stop:()=>{d(`Stopped streaming (${n})`),F(n)},updateInterval:o,worksheetId:t};return C.set(n,{dataStream:s}),s},W=e=>r=>{var a;try{if((null===(a=r.eventName)||void 0===a?void 0:a.toUpperCase())===t.Change.toUpperCase())return e(r.changedCells);throw new EventError(`Unexpected cell range event: ${r.eventName}`)}catch(e){c(e)}},f=(e,t,r)=>async()=>{d(`Cell range: Get cells; address:${r} (${t})`);const a=await $(e,t,r);return d(`${r}:`,a),a},$=async(t,r,a)=>{const o={address:a,objectId:r};try{return await t.dispatch(e.GetCells,o)}catch(e){throw new AdapterError}},G=(t,r,a)=>async()=>{d(`Cell range: Get name; address:${a} (${r})`);const o={address:a,objectId:r};try{return await t.dispatch(e.GetCellNames,o)}catch(e){throw new AdapterError}},I=(t,r,a)=>async(o,n,s,i,l=!0)=>{d(`Cell range: Set filter; address:${a} (${r})`,{columnIndex:o,filterOperator:n,criteria1:s,criteria2:i,visibleDropDown:l});const c={address:a,criteria1:s,criteria2:i,columnIndex:o,filterOperator:n,objectId:r,visibleDropDown:l};try{await t.dispatch(e.FilterCells,c)}catch(e){throw new AdapterError}},N=(t,r,a)=>async o=>{d(`Cell range: Set formatting; address:${a} (${r})`,o);const n={address:a,formatting:o,objectId:r};try{await t.dispatch(e.SetCellFormatting,n)}catch(e){throw new AdapterError}},S=(t,r,a)=>async o=>{const n=o.trim();let s;if(!n)throw s=new ParameterError("Name cannot be an empty string"),c(s),s;if(n.length>255)throw s=new ParameterError("Name must be 255 characters or less"),c(s),s;if(/[^a-zA-Z0-9_.?\\"']/.test(n))throw s=new ParameterError("Name contains invalid characters"),c(s),s;if(/^\d/.test(n))throw s=new ParameterError("Name cannot start with a number"),c(s),s;d(`Cell range: Set name; address:${a}; newName:${n} (${r})`);const i={address:a,name:n,objectId:r};try{await t.dispatch(e.SetCellName,i)}catch(e){throw new AdapterError}},D=(t,r,a)=>async o=>{d(`Cell range: Set values; address:${a} (${r})`,o);const n={address:a,objectId:r,valuesMap:o};try{await t.dispatch(e.SetCellValues,n)}catch(e){throw new AdapterError}},U=(e,t,r,a)=>{var o;try{const n=C.get(e);if(!n)throw new ApiError(`Unable to find registered data stream with id ${e}`);void 0!==(null!==(o=n.timer)&&void 0!==o?o:void 0)&&F(e);const{address:s,updateInterval:i}=n.dataStream,l=async()=>{const o=await t();try{await D(r,a,s)([[o]])}catch(t){h(`Unable to update cell range for stream with id ${e}: ${null==t?void 0:t.message}`)}},c=window.setInterval(l,i);n.timer=c}catch(e){throw c(e),e}},F=e=>{var t;try{const r=C.get(e);if(!r)throw new ApiError(`Unable to find registered data stream with id ${e}`);if(void 0===(null!==(t=r.timer)&&void 0!==t?t:void 0))return;window.clearInterval(r.timer),r.timer=void 0}catch(e){throw c(e),e}},P=(t,r)=>async()=>{d(`Worksheet: Activate (${r})`);try{await t.dispatch(e.ActivateWorksheet,r)}catch(e){throw new AdapterError}},x=(e,t)=>async(r,a)=>p(e,t,r,a,V(a)),L=(t,r)=>async()=>{d(`Worksheet: Calculate (${r})`);try{await t.dispatch(e.CalculateWorksheet,r)}catch(e){throw new AdapterError}},B=(t,r)=>async()=>{d(`Worksheet: Clear all cell formatting (${r})`);try{await t.dispatch(e.ClearAllCellFormatting,r)}catch(e){throw new AdapterError}},j=(t,r)=>async()=>{d(`Worksheet: Clear all cells (${r})`);try{await t.dispatch(e.ClearAllCells,r)}catch(e){throw new AdapterError}},R=(t,r)=>async()=>{d(`Worksheet: Clear all cell values (${r})`);try{await t.dispatch(e.ClearAllCellValues,r)}catch(e){throw new AdapterError}},O=(e,t)=>{const r={eventTarget:g.Worksheet,objectId:t};return{objectId:t,activate:P(e,t),addEventListener:x(e,r),calculate:L(e,t),clearAllCellFormatting:B(e,t),clearAllCells:j(e,t),clearAllCellValues:R(e,t),clearCellFormatting:r=>b(e,t,r)(),clearCells:r=>v(e,t,r)(),clearCellValues:r=>A(e,t,r)(),createDataStream:(r,a,o)=>E(e,t,r)(a,o),delete:z(e,t),filterCells:(r,a,o,n,s,i)=>I(e,t,r)(a,o,n,s,i),getCellRange:M(e,r),getCells:r=>f(e,t,r)(),getName:T(e,t),protect:H(e,t),removeEventListener:u(e),setCellFormatting:(r,a)=>N(e,t,r)(a),setCellName:(r,a)=>S(e,t,r)(a),setCellValues:(r,a)=>D(e,t,r)(a),setName:Q(e,t)}},V=e=>r=>{var a;try{switch(null===(a=r.eventName)||void 0===a?void 0:a.toUpperCase()){case t.Activate.toUpperCase():case t.Deactivate.toUpperCase():return e();case t.Change.toUpperCase():return e(r.changedCells);default:throw new EventError(`Unexpected worksheet event: ${r.eventName}`)}}catch(e){c(e)}},z=(t,r)=>async()=>{d(`Worksheet: Delete (${r})`);try{await t.dispatch(e.DeleteWorksheet,r)}catch(e){throw new AdapterError}},M=(t,r)=>async a=>{const{objectId:o}=r;d(`Worksheet: Get cell range; address:${a} (${o})`);try{const n={address:a,objectId:o},s=await t.dispatch(e.GetRangeAddress,n);return((e,t,r)=>{const{objectId:a}=t,o={cellRangeAddress:r,eventTarget:g.CellRange,objectId:a};return{addEventListener:y(e,o),address:r,clear:v(e,a,r),clearFormatting:b(e,a,r),clearValues:A(e,a,r),createDataStream:E(e,a,r),getCells:f(e,a,r),getNames:G(e,a,r),removeEventListener:u(e),setFilter:I(e,a,r),setFormatting:N(e,a,r),setName:S(e,a,r),setValues:D(e,a,r)}})(t,r,s)}catch(e){if(e.message.indexOf("Unable to get cell range")>=0){const e=new InvalidCellRangeAddressError;throw c(e),e}throw new AdapterError}},T=(t,r)=>async()=>{d(`Worksheet: Get name (${r})`);try{return await t.dispatch(e.GetWorksheetName,r)}catch(e){throw new AdapterError}},H=(t,r)=>async()=>{d(`Worksheet: Protect (${r})`);try{await t.dispatch(e.ProtectWorksheet,r)}catch(e){throw new AdapterError}},Q=(t,r)=>async a=>{const o=a.slice(0,31).replace(/[:\\/?*[\]]/g,"").trim();let n;if(!o)throw n=new ParameterError("Invalid worksheet name"),c(n),n;d(`Worksheet: Set name; newWorksheetName:${o} (${r})`);const s={newWorksheetName:o,objectId:r};try{return await t.dispatch(e.SetWorksheetName,s)}catch(e){throw new AdapterError}},_=(t,r)=>async()=>{d(`Workbook: Activate (${r})`);try{return await t.dispatch(e.ActivateWorkbook,r)}catch(e){throw new AdapterError}},q=(e,t)=>async(r,a)=>p(e,t,r,a,Y(e,a)),J=(t,r)=>async()=>{let a;d(`Workbook: Add worksheet (${r})`);try{a=await t.dispatch(e.AddWorksheet,r)}catch(e){throw new AdapterError}return O(t,a)},K=(t,r)=>async()=>{d(`Workbook: Calculate (${r})`);try{await t.dispatch(e.CalculateWorkbook,r)}catch(e){throw new AdapterError}},X=(t,r)=>async()=>{d(`Workbook: Close (${r})`);try{return await t.dispatch(e.CloseWorkbook,r)}catch(e){throw new AdapterError}},Z=(e,t)=>{const r={eventTarget:g.Workbook,objectId:t};return{objectId:t,activate:_(e,t),addWorksheet:J(e,t),addEventListener:q(e,r),calculate:K(e,t),close:X(e,t),getActiveWorksheet:ee(e,t),getCalculationMode:te(e,t),getFilePath:re(e,t),getName:ae(e,t),getWindowBounds:oe(e,t),getWorksheetByName:ne(e,t),getWorksheets:se(e,t),removeEventListener:u(e),save:ie(e,t),saveAs:le(e,t),setWindowBounds:ce(e,t)}},Y=(e,r)=>a=>{var o;try{switch(null===(o=a.eventName)||void 0===o?void 0:o.toUpperCase()){case t.Activate.toUpperCase():case t.Close.toUpperCase():case t.Deactivate.toUpperCase():return r();case t.ActivateWorksheet.toUpperCase():case t.AddWorksheet.toUpperCase():return r(O(e,a.worksheetObjectId));case t.DeleteWorksheet.toUpperCase():return r(a.worksheetName);default:throw new EventError(`Unexpected workbook event: ${a.eventName}`)}}catch(e){c(e)}},ee=(t,r)=>async()=>{let a;d(`Workbook: Get active worksheet: (${r})`);try{a=await t.dispatch(e.GetActiveWorksheet,r)}catch(e){throw new AdapterError}return O(t,a)},te=(t,r)=>async()=>{d("Workbook: Get calculation mode");try{return await t.dispatch(e.GetCalculationMode,r)}catch(e){throw new AdapterError}},re=(t,r)=>async()=>{d(`Workbook: Get file path (${r})`);try{return await t.dispatch(e.GetWorkbookFilePath,r)}catch(e){throw new AdapterError}},ae=(t,r)=>async()=>{d(`Workbook: Get name (${r})`);try{return await t.dispatch(e.GetWorkbookName,r)}catch(e){throw new AdapterError}},oe=(t,r)=>async()=>{d(`Workbook: Get window bounds (${r})`);try{return await t.dispatch(e.GetWorkbookWindowBounds,r)}catch(e){throw new AdapterError}},ne=(t,r)=>async a=>{let o;d(`Workbook: Get worksheet by name: ${a} (${r})`);try{if(o=await t.dispatch(e.GetWorksheetByName,{objectId:r,worksheetName:a}),null===o)return null}catch(e){throw new AdapterError}return O(t,o)},se=(t,r)=>async()=>{let a;d(`Workbook: Get worksheets (${r})`);try{a=await t.dispatch(e.GetWorksheets,r)}catch(e){throw new AdapterError}return a.map((e=>O(t,e)))},ie=(t,r)=>async()=>{d(`Workbook: Save (${r})`);try{return await t.dispatch(e.SaveWorkbook,r)}catch(e){throw new AdapterError}},le=(t,r)=>async a=>{d(`Workbook: Save as; filePath:${a} (${r})`);try{return await t.dispatch(e.SaveWorkbookAs,{filePath:a,objectId:r})}catch(e){throw new AdapterError}},ce=(t,r)=>async a=>{d(`Workbook: Set window bounds (${r})`,a);const{height:o,left:n,top:s,width:i}=a;if(null!=o&&(Number.isNaN(o)||o<=0)){const e=new ParameterError("Workbook window height must be a number greater than zero.");throw c(e),e}if(null!=n&&Number.isNaN(n)){const e=new ParameterError("Workbook window left position must be a valid number.");throw c(e),e}if(null!=s&&Number.isNaN(s)){const e=new ParameterError("Workbook window top position must be a valid number.");throw c(e),e}if(null!=i&&(Number.isNaN(i)||i<=0)){const e=new ParameterError("Workbook window width must be a number greater than zero.");throw c(e),e}const l={newWindowBounds:a,objectId:r};try{return await t.dispatch(e.SetWorkbookWindowBounds,l)}catch(e){throw new AdapterError}},de=t=>async r=>{let a;d(`Application: Get workbook; id:${r}`);try{a=await t.dispatch(e.GetWorkbookById,r)}catch(e){throw new AdapterError}return Z(t,a)},he=t=>async()=>{let r;d("Application: Get workbooks");try{r=await t.dispatch(e.GetWorkbooks)}catch(e){throw new AdapterError}return r.map((e=>Z(t,e)))},we=t=>async r=>{d(`Application: Get worksheet; id:${r}`);try{r=await t.dispatch(e.GetWorksheetById,r)}catch(e){throw new AdapterError}return O(t,r)},pe=t=>async r=>{let a;d(`Application: Open workbook; filePath:${r}`);try{a=await t.dispatch(e.OpenWorkbook,r)}catch(e){throw new AdapterError}return Z(t,a)},ke=t=>async(r=!0)=>{d(`Application: Quit; displayAlerts:${r}`);try{return await t.dispatch(e.QuitApplication,r)}catch(e){throw new AdapterError}};var ue,ge;!function(e){e.ExcelApplication="EXCEL-APP"}(ue||(ue={})),function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error"}(ge||(ge={}));const me="excel-adapter",Ce=m();let ye;const ve=()=>o,be=async(t=!1)=>{try{if(await(async e=>{try{d("Registering usage"),await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:o,componentName:e}})}catch(t){h(`Unable to register usage for feature ${e}: ${null==t?void 0:t.message}`)}})(ue.ExcelApplication),!await(async e=>(await fin.InterApplicationBus.Channel.getAllChannels()).some((t=>t.channelName===e)))(Ce)){await(async()=>{var e;const t=null===(e=(await fin.Application.getCurrentSync().getManifest()).appAssets)||void 0===e?void 0:e.find((e=>e.alias===me));if(t)return void h("Detected adapter package in app manifest appAssets",t);if(await Ee())return void d("Using existing adapter package");const r={alias:me,src:`https://cdn.openfin.co/release/integrations/excel/${ve()}/OpenFin.Excel.zip`,target:"OpenFin.Excel.exe",version:ve()};d("Downloading adapter package",r);try{await fin.System.downloadAsset(r,(()=>{}))}catch(e){throw c("Unable to download adapter package"),e}})();const{securityRealm:e,port:r}=await fin.System.getRuntimeInfo();let{licenseKey:a}=await fin.Application.getCurrentSync().getManifest();a=null!=a?a:"NO_LICENSE_KEY";const o=fin.me.uuid;d("Initializing adapter",{adapterLoggingEnabled:t,channelName:Ce,licenseKey:a,port:r,securityRealm:e,uuid:o}),fin.System.launchExternalProcess({alias:me,arguments:`${o} ${a} ${r} ${e} ${Ce} ${t}`})}const r=fin.InterApplicationBus.Channel.connect(Ce,{payload:{version:ve()}}),a=new Promise((e=>{setTimeout(e,2e4)})).then((()=>{throw new Error("Connection to adapter timed out")}));ye=await Promise.race([r,a]),d(`Connected to adapter ${ye.providerIdentity.uuid} on channel ${Ce}`),ye.register(e.LogMessage,Ae),ye.register(e.EventFired,k)}catch(e){const t=new InitializationError(void 0,e);throw c(t),t}return{adapter:{channelName:Ce,version:ve()},createWorkbook:(r=ye,async()=>{let t;d("Application: Create workbook");try{t=await r.dispatch(e.CreateWorkbook)}catch(e){throw new AdapterError}return Z(r,t)}),getWorkbookById:de(ye),getWorkbooks:he(ye),getWorksheetById:we(ye),openWorkbook:pe(ye),quit:ke(ye)};// removed by dead control flow
{ var r; }},Ae=(e,t)=>{const{message:r,type:a}=e,o="[adapter]";switch(a){case ge.Error:c(r,o);break;case ge.Info:d(o,r);break;case ge.Warn:h(o,r);break;default:c(new Error(`Unknown log type: ${a}`))}},Ee=async()=>{try{const e=await fin.System.getAppAssetInfo({alias:me});return e&&e.version===ve()}catch(e){return!1}};var We,fe,$e,Ge,Ie;!function(e){e.Continuous="Continuous",e.Dash="Dash",e.DashDot="DashDot",e.DashDotDot="DashDotDot",e.Dot="Dot",e.Double="Double",e.SlantDashDot="SlantDashDot",e.None="None"}(We||(We={})),function(e){e.Center="Center",e.CenterAcrossSelection="CenterAcrossSelection",e.Distributed="Distributed",e.Fill="Fill",e.General="General",e.Justify="Justify",e.Left="Left",e.Right="Right"}(fe||(fe={})),function(e){e.Automatic="Automatic",e.Checker="Checker",e.CrissCross="CrissCross",e.Down="Down",e.Gray16="Gray16",e.Gray25="Gray25",e.Gray50="Gray50",e.Gray75="Gray75",e.Gray8="Gray8",e.Grid="Grid",e.Horizontal="Horizontal",e.LightDown="LightDown",e.LightHorizontal="LightHorizontal",e.LightUp="LightUp",e.LightVertical="LightVertical",e.LinearGradient="LinearGradient",e.None="None",e.RectangularGradient="RectangularGradient",e.SemiGray75="SemiGray75",e.Solid="Solid",e.Up="Up",e.Vertical="Vertical"}($e||($e={})),function(e){e.Bottom="Bottom",e.Center="Center",e.Distributed="Distributed",e.Justify="Justify",e.Top="Top"}(Ge||(Ge={})),function(e){e.And="And",e.Or="Or",e.Top10Items="Top10Items",e.Bottom10Items="Bottom10Items",e.Top10Percent="Top10Percent",e.Bottom10Percent="Bottom10Percent",e.FilterValues="FilterValues"}(Ie||(Ie={}));var Ne=a.dq,Se=a.MS,De=a.xQ,Ue=a.sO,Fe=a.Zu,Pe=a.I3,xe=a.$U,Le=a.i0,Be=a.cX,je=a.gH,Re=a._W,Oe=a.U$,Ve=a.U7,ze=a.rd;

/***/ }),

/***/ "../../node_modules/@openfin/microsoft365/openfin.ms365.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@openfin/microsoft365/openfin.ms365.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiError: () => (/* binding */ o),
/* harmony export */   ApiRequestError: () => (/* binding */ i),
/* harmony export */   AuthTokenExpiredError: () => (/* binding */ a),
/* harmony export */   AuthorizationError: () => (/* binding */ s),
/* harmony export */   InitializationError: () => (/* binding */ u),
/* harmony export */   InteropError: () => (/* binding */ l),
/* harmony export */   ParameterError: () => (/* binding */ c),
/* harmony export */   TeamsConnection: () => (/* binding */ f),
/* harmony export */   connect: () => (/* binding */ d),
/* harmony export */   disableLogging: () => (/* binding */ h),
/* harmony export */   enableLogging: () => (/* binding */ p)
/* harmony export */ });
/*! For license information please see openfin.ms365.js.LICENSE.txt */
var t={876:t=>{const{AbortController:e,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=n,t.exports.default=e},60:(t,e)=>{e.byteLength=function(t){var e=s(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=s(t),a=i[0],u=i[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,u)),c=0,f=u>0?a-4:a;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===u&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===u&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=16383,s=0,l=r-o;s<l;s+=a)i.push(u(t,s,s+a>l?l:s+a));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},485:(t,e,n)=>{const r=n(60),o=n(215),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=s(n);const o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const o=function(t){if(u.isBuffer(t)){const e=0|p(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||K(t.length)?s(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return c(t),s(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(o)return r?-1:V(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,o){let i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(t,i)===l(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(l(t,i+r)!==l(e,r)){n=!1;break}if(n)return i}return-1}function w(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(K(r))return a;t[n+a]=r}return a}function _(t,e,n,r){return J(V(e,t.length-n),t,n,r)}function E(t,e,n,r){return J(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return J(G(e),t,n,r)}function A(t,e,n,r){return J(function(t,e){let n,r,o;const i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function I(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=n){let n,r,s,u;switch(a){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(i=u));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=t[o+1],r=t[o+2],s=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(t){const e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=R));return n}(r)}e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))o+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,o){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(i,a),l=this.slice(r,o),c=t.slice(e,n);for(let t=0;t<s;++t)if(l[t]!==c[t]){i=l[t],a=c[t];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function x(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function C(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function B(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=X[t[r]];return o}function k(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r,o){F(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function j(t,e,n,r,o){F(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function N(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}let o=0,i=1,a=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=u.isBuffer(t)?t:u.from(t,r),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%a]}return this};const W={};function $(t,e,n){W[t]=class NodeError extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function F(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||q(e,t.length-(n+1))}(r,o,i)}function z(t,e){if("number"!=typeof t)throw new W.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=D(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=D(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function V(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},465:t=>{var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}g(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,n)}(t,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,a,l;if(s(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(t))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=c.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)r(c[n],this,e)}return!0},i.prototype.addListener=function(t,e){return l(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return l(this,t,e,!0)},i.prototype.once=function(t,e){return s(e),this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,f(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,o,i,a;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return d(this,t,!0)},i.prototype.rawListeners=function(t){return d(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},215:(t,e)=>{e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+h]=255&a,h+=p,a/=256,l-=8);t[n+h-p]|=128*g}},951:function(t,e,n){var r;t=n.nmd(t),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,y=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],v="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",E="[object Error]",S="[object Function]",A="[object GeneratorFunction]",I="[object Map]",T="[object Number]",R="[object Object]",x="[object Promise]",C="[object RegExp]",B="[object Set]",k="[object String]",L="[object Symbol]",O="[object WeakMap]",U="[object ArrayBuffer]",j="[object DataView]",N="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",W="[object Int16Array]",$="[object Int32Array]",D="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",H=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,K=RegExp(J.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,it=RegExp(ot.source),at=/^\s+/,st=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",It="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="\\u2700-\\u27bf",Rt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Bt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="[']",Lt="["+At+"]",Ot="["+Bt+"]",Ut="["+It+"]",jt="\\d+",Nt="["+Tt+"]",Mt="["+Rt+"]",Pt="[^"+At+Bt+jt+Tt+Rt+xt+"]",Wt="\\ud83c[\\udffb-\\udfff]",$t="[^"+At+"]",Dt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+xt+"]",qt="\\u200d",Ht="(?:"+Mt+"|"+Pt+")",Vt="(?:"+zt+"|"+Pt+")",Gt="(?:['](?:d|ll|m|re|s|t|ve))?",Jt="(?:['](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Ut+"|"+Wt+")"+"?",Kt="["+Ct+"]?",Xt=Kt+Yt+("(?:"+qt+"(?:"+[$t,Dt,Ft].join("|")+")"+Kt+Yt+")*"),Zt="(?:"+[Nt,Dt,Ft].join("|")+")"+Xt,Qt="(?:"+[$t+Ut+"?",Ut,Dt,Ft,Lt].join("|")+")",te=RegExp(kt,"g"),ee=RegExp(Ut,"g"),ne=RegExp(Wt+"(?="+Wt+")|"+Qt+Xt,"g"),re=RegExp([zt+"?"+Mt+"+"+Gt+"(?="+[Ot,zt,"$"].join("|")+")",Vt+"+"+Jt+"(?="+[Ot,zt+Ht,"$"].join("|")+")",zt+"?"+Ht+"+"+Gt,zt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,Zt].join("|"),"g"),oe=RegExp("["+qt+At+It+Ct+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ue={};ue[N]=ue[M]=ue[P]=ue[W]=ue[$]=ue[D]=ue[F]=ue[z]=ue[q]=!0,ue[v]=ue[b]=ue[U]=ue[w]=ue[j]=ue[_]=ue[E]=ue[S]=ue[I]=ue[T]=ue[R]=ue[C]=ue[B]=ue[k]=ue[O]=!1;var le={};le[v]=le[b]=le[U]=le[j]=le[w]=le[_]=le[N]=le[M]=le[P]=le[W]=le[$]=le[I]=le[T]=le[R]=le[C]=le[B]=le[k]=le[L]=le[D]=le[F]=le[z]=le[q]=!0,le[E]=le[S]=le[O]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,de=parseInt,he="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=he||pe||Function("return this")(),ye=e&&!e.nodeType&&e,me=ye&&t&&!t.nodeType&&t,ve=me&&me.exports===ye,be=ve&&he.process,we=function(){try{var t=me&&me.require&&me.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),_e=we&&we.isArrayBuffer,Ee=we&&we.isDate,Se=we&&we.isMap,Ae=we&&we.isRegExp,Ie=we&&we.isSet,Te=we&&we.isTypedArray;function Re(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xe(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Le(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Oe(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Ue(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function je(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Ne(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Me(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Pe(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function We(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $e=Ge("length");function De(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Fe(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function ze(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Fe(t,He,n)}function qe(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function He(t){return t!=t}function Ve(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:g}function Ge(t){return function(e){return null==e?o:e[t]}}function Je(t){return function(e){return null==t?o:t[e]}}function Ye(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Ke(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function Xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ze(t){return t?t.slice(0,yn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return je(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&ze(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}var on=Je({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),an=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ce[t]}function un(t){return oe.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,i[o++]=n)}return i}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):$e(t)}function gn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function yn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var n,r=(e=null==e?ge:vn.defaults(ge.Object(),e,vn.pick(ge,ae))).Array,st=e.Date,At=e.Error,It=e.Function,Tt=e.Math,Rt=e.Object,xt=e.RegExp,Ct=e.String,Bt=e.TypeError,kt=r.prototype,Lt=It.prototype,Ot=Rt.prototype,Ut=e["__core-js_shared__"],jt=Lt.toString,Nt=Ot.hasOwnProperty,Mt=0,Pt=(n=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Wt=Ot.toString,$t=jt.call(Rt),Dt=ge._,Ft=xt("^"+jt.call(Nt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ve?e.Buffer:o,qt=e.Symbol,Ht=e.Uint8Array,Vt=zt?zt.allocUnsafe:o,Gt=cn(Rt.getPrototypeOf,Rt),Jt=Rt.create,Yt=Ot.propertyIsEnumerable,Kt=kt.splice,Xt=qt?qt.isConcatSpreadable:o,Zt=qt?qt.iterator:o,Qt=qt?qt.toStringTag:o,ne=function(){try{var t=hi(Rt,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ce=st&&st.now!==ge.Date.now&&st.now,he=e.setTimeout!==ge.setTimeout&&e.setTimeout,pe=Tt.ceil,ye=Tt.floor,me=Rt.getOwnPropertySymbols,be=zt?zt.isBuffer:o,we=e.isFinite,$e=kt.join,Je=cn(Rt.keys,Rt),bn=Tt.max,wn=Tt.min,_n=st.now,En=e.parseInt,Sn=Tt.random,An=kt.reverse,In=hi(e,"DataView"),Tn=hi(e,"Map"),Rn=hi(e,"Promise"),xn=hi(e,"Set"),Cn=hi(e,"WeakMap"),Bn=hi(Rt,"create"),kn=Cn&&new Cn,Ln={},On=Wi(In),Un=Wi(Tn),jn=Wi(Rn),Nn=Wi(xn),Mn=Wi(Cn),Pn=qt?qt.prototype:o,Wn=Pn?Pn.valueOf:o,$n=Pn?Pn.toString:o;function Dn(t){if(ns(t)&&!Ha(t)&&!(t instanceof Hn)){if(t instanceof qn)return t;if(Nt.call(t,"__wrapped__"))return $i(t)}return new qn(t)}var Fn=function(){function t(){}return function(e){if(!es(e))return{};if(Jt)return Jt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function zn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Jn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Xn(t,e){var n=Ha(t),r=!n&&qa(t),o=!n&&!r&&Ya(t),i=!n&&!r&&!o&&cs(t),a=n||r||o||i,s=a?Xe(t.length,Ct):[],u=s.length;for(var l in t)!e&&!Nt.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wi(l,u))||s.push(l);return s}function Zn(t){var e=t.length;return e?t[Yr(0,e-1)]:o}function Qn(t,e){return Ni(ko(t),ur(e,0,t.length))}function tr(t){return Ni(ko(t))}function er(t,e,n){(n!==o&&!Da(t[e],n)||n===o&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Nt.call(t,e)&&Da(r,n)&&(n!==o||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Da(t[n][0],e))return n;return-1}function or(t,e,n,r){return hr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function ir(t,e){return t&&Lo(e,Ls(e),t)}function ar(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var n=-1,i=e.length,a=r(i),s=null==t;++n<i;)a[n]=s?o:Rs(t,e[n]);return a}function ur(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function lr(t,e,n,r,i,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!es(t))return t;var f=Ha(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return ko(t,s)}else{var d=yi(t),h=d==S||d==A;if(Ya(t))return Io(t,u);if(d==R||d==v||h&&!i){if(s=l||h?{}:vi(t),!u)return l?function(t,e){return Lo(t,gi(t),e)}(t,function(t,e){return t&&Lo(e,Os(e),t)}(s,t)):function(t,e){return Lo(t,pi(t),e)}(t,ir(s,t))}else{if(!le[d])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case U:return To(t);case w:case _:return new r(+t);case j:return function(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case M:case P:case W:case $:case D:case F:case z:case q:return Ro(t,n);case I:return new r;case T:case k:return new r(t);case C:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case B:return new r;case L:return o=t,Wn?Rt(Wn.call(o)):{}}var o}(t,d,u)}}a||(a=new Kn);var p=a.get(t);if(p)return p;a.set(t,s),ss(t)?t.forEach((function(r){s.add(lr(r,e,n,r,t,a))})):rs(t)&&t.forEach((function(r,o){s.set(o,lr(r,e,n,o,t,a))}));var g=f?o:(c?l?ai:ii:l?Os:Ls)(t);return Ce(g||t,(function(r,o){g&&(r=t[o=r]),nr(s,o,lr(r,e,n,o,t,a))})),s}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Rt(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Bt(i);return Li((function(){t.apply(o,n)}),e)}function dr(t,e,n,r){var o=-1,i=Oe,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=je(e,Qe(n))),r?(i=Ue,a=!1):e.length>=200&&(i=en,a=!1,e=new Yn(e));t:for(;++o<s;){var c=t[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(e[d]===f)continue t;u.push(c)}else i(e,f,r)||u.push(c)}return u}Dn.templateSettings={escape:Z,evaluate:Q,interpolate:tt,variable:"",imports:{_:Dn}},Dn.prototype=zn.prototype,Dn.prototype.constructor=Dn,qn.prototype=Fn(zn.prototype),qn.prototype.constructor=qn,Hn.prototype=Fn(zn.prototype),Hn.prototype.constructor=Hn,Vn.prototype.clear=function(){this.__data__=Bn?Bn(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(Bn){var n=e[t];return n===a?o:n}return Nt.call(e,t)?e[t]:o},Vn.prototype.has=function(t){var e=this.__data__;return Bn?e[t]!==o:Nt.call(e,t)},Vn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bn&&e===o?a:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Gn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?o:e[n][1]},Gn.prototype.has=function(t){return rr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Tn||Gn),string:new Vn}},Jn.prototype.delete=function(t){var e=fi(this,t).delete(t);return this.size-=e?1:0,e},Jn.prototype.get=function(t){return fi(this,t).get(t)},Jn.prototype.has=function(t){return fi(this,t).has(t)},Jn.prototype.set=function(t,e){var n=fi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,a),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Tn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(t,e),this.size=n.size,this};var hr=jo(_r),pr=jo(Er,!0);function gr(t,e){var n=!0;return hr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function yr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s==s&&!ls(s):n(s,u)))var u=s,l=a}return l}function mr(t,e){var n=[];return hr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function vr(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=bi),o||(o=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?vr(s,e-1,n,r,o):Ne(o,s):r||(o[o.length]=s)}return o}var br=No(),wr=No(!0);function _r(t,e){return t&&br(t,e,Ls)}function Er(t,e){return t&&wr(t,e,Ls)}function Sr(t,e){return Le(e,(function(e){return Za(t[e])}))}function Ar(t,e){for(var n=0,r=(e=_o(e,t)).length;null!=t&&n<r;)t=t[Pi(e[n++])];return n&&n==r?t:o}function Ir(t,e,n){var r=e(t);return Ha(t)?r:Ne(r,n(t))}function Tr(t){return null==t?t===o?"[object Undefined]":"[object Null]":Qt&&Qt in Rt(t)?function(t){var e=Nt.call(t,Qt),n=t[Qt];try{t[Qt]=o;var r=!0}catch(t){}var i=Wt.call(t);r&&(e?t[Qt]=n:delete t[Qt]);return i}(t):function(t){return Wt.call(t)}(t)}function Rr(t,e){return t>e}function xr(t,e){return null!=t&&Nt.call(t,e)}function Cr(t,e){return null!=t&&e in Rt(t)}function Br(t,e,n){for(var i=n?Ue:Oe,a=t[0].length,s=t.length,u=s,l=r(s),c=1/0,f=[];u--;){var d=t[u];u&&e&&(d=je(d,Qe(e))),c=wn(d.length,c),l[u]=!n&&(e||a>=120&&d.length>=120)?new Yn(u&&d):o}d=t[0];var h=-1,p=l[0];t:for(;++h<a&&f.length<c;){var g=d[h],y=e?e(g):g;if(g=n||0!==g?g:0,!(p?en(p,y):i(f,y,n))){for(u=s;--u;){var m=l[u];if(!(m?en(m,y):i(t[u],y,n)))continue t}p&&p.push(y),f.push(g)}}return f}function kr(t,e,n){var r=null==(t=Ci(t,e=_o(e,t)))?t:t[Pi(Xi(e))];return null==r?o:Re(r,t,n)}function Lr(t){return ns(t)&&Tr(t)==v}function Or(t,e,n,r,i){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=Ha(t),u=Ha(e),l=s?b:yi(t),c=u?b:yi(e),f=(l=l==v?R:l)==R,d=(c=c==v?R:c)==R,h=l==c;if(h&&Ya(t)){if(!Ya(e))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Kn),s||cs(t)?ri(t,e,n,r,i,a):function(t,e,n,r,o,i,a){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case U:return!(t.byteLength!=e.byteLength||!i(new Ht(t),new Ht(e)));case w:case _:case T:return Da(+t,+e);case E:return t.name==e.name&&t.message==e.message;case C:case k:return t==e+"";case I:var s=ln;case B:var u=1&r;if(s||(s=dn),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=ri(s(t),s(e),r,o,i,a);return a.delete(t),c;case L:if(Wn)return Wn.call(t)==Wn.call(e)}return!1}(t,e,l,n,r,i,a);if(!(1&n)){var p=f&&Nt.call(t,"__wrapped__"),g=d&&Nt.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,m=g?e.value():e;return a||(a=new Kn),i(y,m,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(t,e,n,r,i,a){var s=1&n,u=ii(t),l=u.length,c=ii(e),f=c.length;if(l!=f&&!s)return!1;var d=l;for(;d--;){var h=u[d];if(!(s?h in e:Nt.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);var m=s;for(;++d<l;){var v=t[h=u[d]],b=e[h];if(r)var w=s?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(w===o?v===b||i(v,b,n,r,a):w)){y=!1;break}m||(m="constructor"==h)}if(y&&!m){var _=t.constructor,E=e.constructor;_==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(y=!1)}return a.delete(t),a.delete(e),y}(t,e,n,r,i,a)}(t,e,n,r,Or,i))}function Ur(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Rt(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var l=(u=n[i])[0],c=t[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in t))return!1}else{var d=new Kn;if(r)var h=r(c,f,l,t,e,d);if(!(h===o?Or(f,c,3,r,d):h))return!1}}return!0}function jr(t){return!(!es(t)||(e=t,Pt&&Pt in e))&&(Za(t)?Ft:vt).test(Wi(t));// removed by dead control flow
{ var e; }}function Nr(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Ha(t)?Fr(t[0],t[1]):Dr(t):hu(t)}function Mr(t){if(!Ii(t))return Je(t);var e=[];for(var n in Rt(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pr(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Rt(t))e.push(n);return e}(t);var e=Ii(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}function Wr(t,e){return t<e}function $r(t,e){var n=-1,o=Ga(t)?r(t.length):[];return hr(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Dr(t){var e=di(t);return 1==e.length&&e[0][2]?Ri(e[0][0],e[0][1]):function(n){return n===t||Ur(n,t,e)}}function Fr(t,e){return Ei(t)&&Ti(e)?Ri(Pi(t),e):function(n){var r=Rs(n,t);return r===o&&r===e?xs(n,t):Or(e,r,3)}}function zr(t,e,n,r,i){t!==e&&br(e,(function(a,s){if(i||(i=new Kn),es(a))!function(t,e,n,r,i,a,s){var u=Bi(t,n),l=Bi(e,n),c=s.get(l);if(c)return void er(t,n,c);var f=a?a(u,l,n+"",t,e,s):o,d=f===o;if(d){var h=Ha(l),p=!h&&Ya(l),g=!h&&!p&&cs(l);f=l,h||p||g?Ha(u)?f=u:Ja(u)?f=ko(u):p?(d=!1,f=Io(l,!0)):g?(d=!1,f=Ro(l,!0)):f=[]:is(l)||qa(l)?(f=u,qa(u)?f=vs(u):es(u)&&!Za(u)||(f=vi(l))):d=!1}d&&(s.set(l,f),i(f,l,r,a,s),s.delete(l));er(t,n,f)}(t,e,s,n,zr,r,i);else{var u=r?r(Bi(t,s),a,s+"",t,e,i):o;u===o&&(u=a),er(t,s,u)}}),Os)}function qr(t,e){var n=t.length;if(n)return wi(e+=e<0?n:0,n)?t[e]:o}function Hr(t,e,n){e=e.length?je(e,(function(t){return Ha(t)?function(e){return Ar(e,1===t.length?t[0]:t)}:t})):[ou];var r=-1;e=je(e,Qe(ci()));var o=$r(t,(function(t,n,o){var i=je(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(o,(function(t,e){return function(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;for(;++r<a;){var u=xo(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Vr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=Ar(t,a);n(s,a)&&to(i,_o(a,t),s)}return i}function Gr(t,e,n,r){var o=r?qe:ze,i=-1,a=e.length,s=t;for(t===e&&(e=ko(e)),n&&(s=je(t,Qe(n)));++i<a;)for(var u=0,l=e[i],c=n?n(l):l;(u=o(s,c,u,r))>-1;)s!==t&&Kt.call(s,u,1),Kt.call(t,u,1);return t}function Jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;wi(o)?Kt.call(t,o,1):ho(t,o)}}return t}function Yr(t,e){return t+ye(Sn()*(e-t+1))}function Kr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ye(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return Oi(xi(t,e,ou),t+"")}function Zr(t){return Zn(Ds(t))}function Qr(t,e){var n=Ds(t);return Ni(n,ur(e,0,n.length))}function to(t,e,n,r){if(!es(t))return t;for(var i=-1,a=(e=_o(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var l=Pi(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=es(f)?f:wi(e[i+1])?[]:{})}nr(u,l,c),u=u[l]}return t}var eo=kn?function(t,e){return kn.set(t,e),t}:ou,no=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:ou;function ro(t){return Ni(Ds(t))}function oo(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=r(i);++o<i;)a[o]=t[o+e];return a}function io(t,e){var n;return hr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function ao(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!ls(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return so(t,e,ou,n)}function so(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,l=ls(e),c=e===o;i<a;){var f=ye((i+a)/2),d=n(t[f]),h=d!==o,p=null===d,g=d==d,y=ls(d);if(s)var m=r||g;else m=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!y):!p&&!y&&(r?d<=e:d<e);m?i=f+1:a=f}return wn(a,4294967294)}function uo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Da(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function lo(t){return"number"==typeof t?t:ls(t)?g:+t}function co(t){if("string"==typeof t)return t;if(Ha(t))return je(t,co)+"";if(ls(t))return $n?$n.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fo(t,e,n){var r=-1,o=Oe,i=t.length,a=!0,s=[],u=s;if(n)a=!1,o=Ue;else if(i>=200){var l=e?null:Xo(t);if(l)return dn(l);a=!1,o=en,u=new Yn}else u=e?[]:s;t:for(;++r<i;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),s.push(c)}else o(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function ho(t,e){return null==(t=Ci(t,e=_o(e,t)))||delete t[Pi(Xi(e))]}function po(t,e,n,r){return to(t,e,n(Ar(t,e)),r)}function go(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?oo(t,r?0:i,r?i+1:o):oo(t,r?i+1:0,r?o:i)}function yo(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Me(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function mo(t,e,n){var o=t.length;if(o<2)return o?fo(t[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=t[i],u=-1;++u<o;)u!=i&&(a[i]=dr(a[i]||s,t[u],e,n));return fo(vr(a,1),e,n)}function vo(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function bo(t){return Ja(t)?t:[]}function wo(t){return"function"==typeof t?t:ou}function _o(t,e){return Ha(t)?t:Ei(t,e)?[t]:Mi(bs(t))}var Eo=Xr;function So(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:oo(t,e,n)}var Ao=oe||function(t){return ge.clearTimeout(t)};function Io(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function To(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Ro(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xo(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=ls(t),s=e!==o,u=null===e,l=e==e,c=ls(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Co(t,e,n,o){for(var i=-1,a=t.length,s=n.length,u=-1,l=e.length,c=bn(a-s,0),f=r(l+c),d=!o;++u<l;)f[u]=e[u];for(;++i<s;)(d||i<a)&&(f[n[i]]=t[i]);for(;c--;)f[u++]=t[i++];return f}function Bo(t,e,n,o){for(var i=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,f=bn(a-u,0),d=r(f+c),h=!o;++i<f;)d[i]=t[i];for(var p=i;++l<c;)d[p+l]=e[l];for(;++s<u;)(h||i<a)&&(d[p+n[s]]=t[i++]);return d}function ko(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function Lo(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?ar(n,u,l):nr(n,u,l)}return n}function Oo(t,e){return function(n,r){var o=Ha(n)?xe:or,i=e?e():{};return o(n,t,ci(r,2),i)}}function Uo(t){return Xr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&_i(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Rt(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}function jo(t,e){return function(n,r){if(null==n)return n;if(!Ga(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Rt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function No(t){return function(e,n,r){for(var o=-1,i=Rt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}function Mo(t){return function(e){var n=un(e=bs(e))?gn(e):o,r=n?n[0]:e.charAt(0),i=n?So(n,1).join(""):e.slice(1);return r[t]()+i}}function Po(t){return function(e){return Me(Zs(qs(e).replace(te,"")),t,"")}}function Wo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function $o(t){return function(e,n,r){var i=Rt(e);if(!Ga(e)){var a=ci(n,3);e=Ls(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Do(t){return oi((function(e){var n=e.length,r=n,a=qn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Bt(i);if(a&&!u&&"wrapper"==ui(s))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var l=ui(s=e[r]),c="wrapper"==l?si(s):o;u=c&&Si(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ui(c[0])].apply(u,c[3]):1==s.length&&Si(s)?u[l]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ha(r))return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Fo(t,e,n,i,a,s,u,l,c,d){var h=e&f,p=1&e,g=2&e,y=24&e,m=512&e,v=g?o:Wo(t);return function f(){for(var b=arguments.length,w=r(b),_=b;_--;)w[_]=arguments[_];if(y)var E=li(f),S=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(w,E);if(i&&(w=Co(w,i,a,y)),s&&(w=Bo(w,s,u,y)),b-=S,y&&b<d){var A=fn(w,E);return Yo(t,e,Fo,f.placeholder,n,w,A,l,c,d-b)}var I=p?n:this,T=g?I[t]:t;return b=w.length,l?w=function(t,e){var n=t.length,r=wn(e.length,n),i=ko(t);for(;r--;){var a=e[r];t[r]=wi(a,n)?i[a]:o}return t}(w,l):m&&b>1&&w.reverse(),h&&c<b&&(w.length=c),this&&this!==ge&&this instanceof f&&(T=v||Wo(T)),T.apply(I,w)}}function zo(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function qo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=co(n),r=co(r)):(n=lo(n),r=lo(r)),i=t(n,r)}return i}}function Ho(t){return oi((function(e){return e=je(e,Qe(ci())),Xr((function(n){var r=this;return t(e,(function(t){return Re(t,r,n)}))}))}))}function Vo(t,e){var n=(e=e===o?" ":co(e)).length;if(n<2)return n?Kr(e,t):e;var r=Kr(e,pe(t/pn(e)));return un(e)?So(gn(r),0,t).join(""):r.slice(0,t)}function Go(t){return function(e,n,i){return i&&"number"!=typeof i&&_i(e,n,i)&&(n=i=o),e=ps(e),n===o?(n=e,e=0):n=ps(n),function(t,e,n,o){for(var i=-1,a=bn(pe((e-t)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=t,t+=n;return s}(e,n,i=i===o?e<n?1:-1:ps(i),t)}}function Jo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ms(e),n=ms(n)),t(e,n)}}function Yo(t,e,n,r,i,a,s,u,f,d){var h=8&e;e|=h?l:c,4&(e&=~(h?c:l))||(e&=-4);var p=[t,e,i,h?a:o,h?s:o,h?o:a,h?o:s,u,f,d],g=n.apply(o,p);return Si(t)&&ki(g,p),g.placeholder=r,Ui(g,t,e)}function Ko(t){var e=Tt[t];return function(t,n){if(t=ms(t),(n=null==n?0:wn(gs(n),292))&&we(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Xo=xn&&1/dn(new xn([,-0]))[1]==h?function(t){return new xn(t)}:lu;function Zo(t){return function(e){var n=yi(e);return n==I?ln(e):n==B?hn(e):function(t,e){return je(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qo(t,e,n,a,h,p,g,y){var m=2&e;if(!m&&"function"!=typeof t)throw new Bt(i);var v=a?a.length:0;if(v||(e&=-97,a=h=o),g=g===o?g:bn(gs(g),0),y=y===o?y:gs(y),v-=h?h.length:0,e&c){var b=a,w=h;a=h=o}var _=m?o:si(t),E=[t,e,n,a,h,b,w,p,g,y];if(_&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!a)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Co(l,u,e[4]):u,t[4]=l?fn(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Bo(l,u,e[6]):u,t[6]=l?fn(t[5],s):e[6]);(u=e[7])&&(t[7]=u);r&f&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(E,_),t=E[0],e=E[1],n=E[2],a=E[3],h=E[4],!(y=E[9]=E[9]===o?m?0:t.length:bn(E[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==u?function(t,e,n){var i=Wo(t);return function a(){for(var s=arguments.length,u=r(s),l=s,c=li(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);return(s-=f.length)<n?Yo(t,e,Fo,a.placeholder,o,u,f,o,o,n-s):Re(this&&this!==ge&&this instanceof a?i:t,this,u)}}(t,e,y):e!=l&&33!=e||h.length?Fo.apply(o,E):function(t,e,n,o){var i=1&e,a=Wo(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=o.length,f=r(c+u),d=this&&this!==ge&&this instanceof e?a:t;++l<c;)f[l]=o[l];for(;u--;)f[l++]=arguments[++s];return Re(d,i?n:this,f)}}(t,e,n,a);else var S=function(t,e,n){var r=1&e,o=Wo(t);return function e(){return(this&&this!==ge&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Ui((_?eo:ki)(S,E),t,e)}function ti(t,e,n,r){return t===o||Da(t,Ot[n])&&!Nt.call(r,n)?e:t}function ei(t,e,n,r,i,a){return es(t)&&es(e)&&(a.set(e,t),zr(t,e,o,ei,a),a.delete(e)),t}function ni(t){return is(t)?o:t}function ri(t,e,n,r,i,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,p=2&n?new Yn:o;for(a.set(t,e),a.set(e,t);++d<u;){var g=t[d],y=e[d];if(r)var m=s?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(m!==o){if(m)continue;h=!1;break}if(p){if(!We(e,(function(t,e){if(!en(p,e)&&(g===t||i(g,t,n,r,a)))return p.push(e)}))){h=!1;break}}else if(g!==y&&!i(g,y,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function oi(t){return Oi(xi(t,o,Vi),t+"")}function ii(t){return Ir(t,Ls,pi)}function ai(t){return Ir(t,Os,gi)}var si=kn?function(t){return kn.get(t)}:lu;function ui(t){for(var e=t.name+"",n=Ln[e],r=Nt.call(Ln,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function li(t){return(Nt.call(Dn,"placeholder")?Dn:t).placeholder}function ci(){var t=Dn.iteratee||iu;return t=t===iu?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function fi(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function di(t){for(var e=Ls(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ti(o)]}return e}function hi(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return jr(n)?n:o}var pi=me?function(t){return null==t?[]:(t=Rt(t),Le(me(t),(function(e){return Yt.call(t,e)})))}:yu,gi=me?function(t){for(var e=[];t;)Ne(e,pi(t)),t=Gt(t);return e}:yu,yi=Tr;function mi(t,e,n){for(var r=-1,o=(e=_o(e,t)).length,i=!1;++r<o;){var a=Pi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&ts(o)&&wi(a,o)&&(Ha(t)||qa(t))}function vi(t){return"function"!=typeof t.constructor||Ii(t)?{}:Fn(Gt(t))}function bi(t){return Ha(t)||qa(t)||!!(Xt&&t&&t[Xt])}function wi(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function _i(t,e,n){if(!es(n))return!1;var r=typeof e;return!!("number"==r?Ga(n)&&wi(e,n.length):"string"==r&&e in n)&&Da(n[e],t)}function Ei(t,e){if(Ha(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ls(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Rt(e))}function Si(t){var e=ui(t),n=Dn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=si(n);return!!r&&t===r[0]}(In&&yi(new In(new ArrayBuffer(1)))!=j||Tn&&yi(new Tn)!=I||Rn&&yi(Rn.resolve())!=x||xn&&yi(new xn)!=B||Cn&&yi(new Cn)!=O)&&(yi=function(t){var e=Tr(t),n=e==R?t.constructor:o,r=n?Wi(n):"";if(r)switch(r){case On:return j;case Un:return I;case jn:return x;case Nn:return B;case Mn:return O}return e});var Ai=Ut?Za:mu;function Ii(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ot)}function Ti(t){return t==t&&!es(t)}function Ri(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Rt(n)))}}function xi(t,e,n){return e=bn(e===o?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=bn(o.length-e,0),s=r(a);++i<a;)s[i]=o[e+i];i=-1;for(var u=r(e+1);++i<e;)u[i]=o[i];return u[e]=n(s),Re(t,this,u)}}function Ci(t,e){return e.length<2?t:Ar(t,oo(e,0,-1))}function Bi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ki=ji(eo),Li=he||function(t,e){return ge.setTimeout(t,e)},Oi=ji(no);function Ui(t,e,n){var r=e+"";return Oi(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ce(m,(function(n){var r="_."+n[0];e&n[1]&&!Oe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(r),n)))}function ji(t){var e=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Ni(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Yr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Mi=function(t){var e=ja(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,o){e.push(r?o.replace(ht,"$1"):n||t)})),e}));function Pi(t){if("string"==typeof t||ls(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Wi(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $i(t){if(t instanceof Hn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=ko(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Di=Xr((function(t,e){return Ja(t)?dr(t,vr(e,1,Ja,!0)):[]})),Fi=Xr((function(t,e){var n=Xi(e);return Ja(n)&&(n=o),Ja(t)?dr(t,vr(e,1,Ja,!0),ci(n,2)):[]})),zi=Xr((function(t,e){var n=Xi(e);return Ja(n)&&(n=o),Ja(t)?dr(t,vr(e,1,Ja,!0),o,n):[]}));function qi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=bn(r+o,0)),Fe(t,ci(e,3),o)}function Hi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?bn(r+i,0):wn(i,r-1)),Fe(t,ci(e,3),i,!0)}function Vi(t){return(null==t?0:t.length)?vr(t,1):[]}function Gi(t){return t&&t.length?t[0]:o}var Ji=Xr((function(t){var e=je(t,bo);return e.length&&e[0]===t[0]?Br(e):[]})),Yi=Xr((function(t){var e=Xi(t),n=je(t,bo);return e===Xi(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Br(n,ci(e,2)):[]})),Ki=Xr((function(t){var e=Xi(t),n=je(t,bo);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Br(n,o,e):[]}));function Xi(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Zi=Xr(Qi);function Qi(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var ta=oi((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Jr(t,je(e,(function(t){return wi(t,n)?+t:t})).sort(xo)),r}));function ea(t){return null==t?t:An.call(t)}var na=Xr((function(t){return fo(vr(t,1,Ja,!0))})),ra=Xr((function(t){var e=Xi(t);return Ja(e)&&(e=o),fo(vr(t,1,Ja,!0),ci(e,2))})),oa=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:o,fo(vr(t,1,Ja,!0),o,e)}));function ia(t){if(!t||!t.length)return[];var e=0;return t=Le(t,(function(t){if(Ja(t))return e=bn(t.length,e),!0})),Xe(e,(function(e){return je(t,Ge(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=ia(t);return null==e?n:je(n,(function(t){return Re(e,o,t)}))}var sa=Xr((function(t,e){return Ja(t)?dr(t,e):[]})),ua=Xr((function(t){return mo(Le(t,Ja))})),la=Xr((function(t){var e=Xi(t);return Ja(e)&&(e=o),mo(Le(t,Ja),ci(e,2))})),ca=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:o,mo(Le(t,Ja),o,e)})),fa=Xr(ia);var da=Xr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,aa(t,n)}));function ha(t){var e=Dn(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var ga=oi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&wi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var ya=Oo((function(t,e,n){Nt.call(t,n)?++t[n]:ar(t,n,1)}));var ma=$o(qi),va=$o(Hi);function ba(t,e){return(Ha(t)?Ce:hr)(t,ci(e,3))}function wa(t,e){return(Ha(t)?Be:pr)(t,ci(e,3))}var _a=Oo((function(t,e,n){Nt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var Ea=Xr((function(t,e,n){var o=-1,i="function"==typeof e,a=Ga(t)?r(t.length):[];return hr(t,(function(t){a[++o]=i?Re(e,t,n):kr(t,e,n)})),a})),Sa=Oo((function(t,e,n){ar(t,n,e)}));function Aa(t,e){return(Ha(t)?je:$r)(t,ci(e,3))}var Ia=Oo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ta=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_i(t,e[0],e[1])?e=[]:n>2&&_i(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,vr(e,1),[])})),Ra=ce||function(){return ge.Date.now()};function xa(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Qo(t,f,o,o,o,o,e)}function Ca(t,e){var n;if("function"!=typeof e)throw new Bt(i);return t=gs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ba=Xr((function(t,e,n){var r=1;if(n.length){var o=fn(n,li(Ba));r|=l}return Qo(t,r,e,n,o)})),ka=Xr((function(t,e,n){var r=3;if(n.length){var o=fn(n,li(ka));r|=l}return Qo(e,r,t,n,o)}));function La(t,e,n){var r,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new Bt(i);function g(e){var n=r,i=a;return r=a=o,f=e,u=t.apply(i,n)}function y(t){var n=t-c;return c===o||n>=e||n<0||h&&t-f>=s}function m(){var t=Ra();if(y(t))return v(t);l=Li(m,function(t){var n=e-(t-c);return h?wn(n,s-(t-f)):n}(t))}function v(t){return l=o,p&&r?g(t):(r=a=o,u)}function b(){var t=Ra(),n=y(t);if(r=arguments,a=this,c=t,n){if(l===o)return function(t){return f=t,l=Li(m,e),d?g(t):u}(c);if(h)return Ao(l),l=Li(m,e),g(c)}return l===o&&(l=Li(m,e)),u}return e=ms(e)||0,es(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ms(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&Ao(l),f=0,r=c=a=l=o},b.flush=function(){return l===o?u:v(Ra())},b}var Oa=Xr((function(t,e){return fr(t,1,e)})),Ua=Xr((function(t,e,n){return fr(t,ms(e)||0,n)}));function ja(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Bt(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ja.Cache||Jn),n}function Na(t){if("function"!=typeof t)throw new Bt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ja.Cache=Jn;var Ma=Eo((function(t,e){var n=(e=1==e.length&&Ha(e[0])?je(e[0],Qe(ci())):je(vr(e,1),Qe(ci()))).length;return Xr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Re(t,this,r)}))})),Pa=Xr((function(t,e){var n=fn(e,li(Pa));return Qo(t,l,o,e,n)})),Wa=Xr((function(t,e){var n=fn(e,li(Wa));return Qo(t,c,o,e,n)})),$a=oi((function(t,e){return Qo(t,d,o,o,o,e)}));function Da(t,e){return t===e||t!=t&&e!=e}var Fa=Jo(Rr),za=Jo((function(t,e){return t>=e})),qa=Lr(function(){return arguments}())?Lr:function(t){return ns(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},Ha=r.isArray,Va=_e?Qe(_e):function(t){return ns(t)&&Tr(t)==U};function Ga(t){return null!=t&&ts(t.length)&&!Za(t)}function Ja(t){return ns(t)&&Ga(t)}var Ya=be||mu,Ka=Ee?Qe(Ee):function(t){return ns(t)&&Tr(t)==_};function Xa(t){if(!ns(t))return!1;var e=Tr(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!is(t)}function Za(t){if(!es(t))return!1;var e=Tr(t);return e==S||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==gs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=Se?Qe(Se):function(t){return ns(t)&&yi(t)==I};function os(t){return"number"==typeof t||ns(t)&&Tr(t)==T}function is(t){if(!ns(t)||Tr(t)!=R)return!1;var e=Gt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==$t}var as=Ae?Qe(Ae):function(t){return ns(t)&&Tr(t)==C};var ss=Ie?Qe(Ie):function(t){return ns(t)&&yi(t)==B};function us(t){return"string"==typeof t||!Ha(t)&&ns(t)&&Tr(t)==k}function ls(t){return"symbol"==typeof t||ns(t)&&Tr(t)==L}var cs=Te?Qe(Te):function(t){return ns(t)&&ts(t.length)&&!!ue[Tr(t)]};var fs=Jo(Wr),ds=Jo((function(t,e){return t<=e}));function hs(t){if(!t)return[];if(Ga(t))return us(t)?gn(t):ko(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=yi(t);return(e==I?ln:e==B?dn:Ds)(t)}function ps(t){return t?(t=ms(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gs(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function ys(t){return t?ur(gs(t),0,y):0}function ms(t){if("number"==typeof t)return t;if(ls(t))return g;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var n=mt.test(t);return n||bt.test(t)?de(t.slice(2),n?2:8):yt.test(t)?g:+t}function vs(t){return Lo(t,Os(t))}function bs(t){return null==t?"":co(t)}var ws=Uo((function(t,e){if(Ii(e)||Ga(e))Lo(e,Ls(e),t);else for(var n in e)Nt.call(e,n)&&nr(t,n,e[n])})),_s=Uo((function(t,e){Lo(e,Os(e),t)})),Es=Uo((function(t,e,n,r){Lo(e,Os(e),t,r)})),Ss=Uo((function(t,e,n,r){Lo(e,Ls(e),t,r)})),As=oi(sr);var Is=Xr((function(t,e){t=Rt(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&_i(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=Os(a),u=-1,l=s.length;++u<l;){var c=s[u],f=t[c];(f===o||Da(f,Ot[c])&&!Nt.call(t,c))&&(t[c]=a[c])}return t})),Ts=Xr((function(t){return t.push(o,ei),Re(js,o,t)}));function Rs(t,e,n){var r=null==t?o:Ar(t,e);return r===o?n:r}function xs(t,e){return null!=t&&mi(t,e,Cr)}var Cs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),t[e]=n}),eu(ou)),Bs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),ci),ks=Xr(kr);function Ls(t){return Ga(t)?Xn(t):Mr(t)}function Os(t){return Ga(t)?Xn(t,!0):Pr(t)}var Us=Uo((function(t,e,n){zr(t,e,n)})),js=Uo((function(t,e,n,r){zr(t,e,n,r)})),Ns=oi((function(t,e){var n={};if(null==t)return n;var r=!1;e=je(e,(function(e){return e=_o(e,t),r||(r=e.length>1),e})),Lo(t,ai(t),n),r&&(n=lr(n,7,ni));for(var o=e.length;o--;)ho(n,e[o]);return n}));var Ms=oi((function(t,e){return null==t?{}:function(t,e){return Vr(t,e,(function(e,n){return xs(t,n)}))}(t,e)}));function Ps(t,e){if(null==t)return{};var n=je(ai(t),(function(t){return[t]}));return e=ci(e),Vr(t,n,(function(t,n){return e(t,n[0])}))}var Ws=Zo(Ls),$s=Zo(Os);function Ds(t){return null==t?[]:tn(t,Ls(t))}var Fs=Po((function(t,e,n){return e=e.toLowerCase(),t+(n?zs(e):e)}));function zs(t){return Xs(bs(t).toLowerCase())}function qs(t){return(t=bs(t))&&t.replace(_t,on).replace(ee,"")}var Hs=Po((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Vs=Po((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Gs=Mo("toLowerCase");var Js=Po((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ys=Po((function(t,e,n){return t+(n?" ":"")+Xs(e)}));var Ks=Po((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Xs=Mo("toUpperCase");function Zs(t,e,n){return t=bs(t),(e=n?o:e)===o?function(t){return ie.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var Qs=Xr((function(t,e){try{return Re(t,o,e)}catch(t){return Xa(t)?t:new At(t)}})),tu=oi((function(t,e){return Ce(e,(function(e){e=Pi(e),ar(t,e,Ba(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Do(),ru=Do(!0);function ou(t){return t}function iu(t){return Nr("function"==typeof t?t:lr(t,1))}var au=Xr((function(t,e){return function(n){return kr(n,t,e)}})),su=Xr((function(t,e){return function(n){return kr(t,n,e)}}));function uu(t,e,n){var r=Ls(e),o=Sr(e,r);null!=n||es(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Sr(e,Ls(e)));var i=!(es(n)&&"chain"in n&&!n.chain),a=Za(t);return Ce(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=ko(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ne([this.value()],arguments))})})),t}function lu(){}var cu=Ho(je),fu=Ho(ke),du=Ho(We);function hu(t){return Ei(t)?Ge(Pi(t)):function(t){return function(e){return Ar(e,t)}}(t)}var pu=Go(),gu=Go(!0);function yu(){return[]}function mu(){return!1}var vu=qo((function(t,e){return t+e}),0),bu=Ko("ceil"),wu=qo((function(t,e){return t/e}),1),_u=Ko("floor");var Eu,Su=qo((function(t,e){return t*e}),1),Au=Ko("round"),Iu=qo((function(t,e){return t-e}),0);return Dn.after=function(t,e){if("function"!=typeof e)throw new Bt(i);return t=gs(t),function(){if(--t<1)return e.apply(this,arguments)}},Dn.ary=xa,Dn.assign=ws,Dn.assignIn=_s,Dn.assignInWith=Es,Dn.assignWith=Ss,Dn.at=As,Dn.before=Ca,Dn.bind=Ba,Dn.bindAll=tu,Dn.bindKey=ka,Dn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ha(t)?t:[t]},Dn.chain=ha,Dn.chunk=function(t,e,n){e=(n?_i(t,e,n):e===o)?1:bn(gs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=r(pe(i/e));a<i;)u[s++]=oo(t,a,a+=e);return u},Dn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Dn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Ne(Ha(n)?ko(n):[n],vr(e,1))},Dn.cond=function(t){var e=null==t?0:t.length,n=ci();return t=e?je(t,(function(t){if("function"!=typeof t[1])throw new Bt(i);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var o=t[r];if(Re(o[0],this,n))return Re(o[1],this,n)}}))},Dn.conforms=function(t){return function(t){var e=Ls(t);return function(n){return cr(n,t,e)}}(lr(t,1))},Dn.constant=eu,Dn.countBy=ya,Dn.create=function(t,e){var n=Fn(t);return null==e?n:ir(n,e)},Dn.curry=function t(e,n,r){var i=Qo(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Dn.curryRight=function t(e,n,r){var i=Qo(e,u,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Dn.debounce=La,Dn.defaults=Is,Dn.defaultsDeep=Ts,Dn.defer=Oa,Dn.delay=Ua,Dn.difference=Di,Dn.differenceBy=Fi,Dn.differenceWith=zi,Dn.drop=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,(e=n||e===o?1:gs(e))<0?0:e,r):[]},Dn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,0,(e=r-(e=n||e===o?1:gs(e)))<0?0:e):[]},Dn.dropRightWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!0,!0):[]},Dn.dropWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!0):[]},Dn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&_i(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ys(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Dn.filter=function(t,e){return(Ha(t)?Le:mr)(t,ci(e,3))},Dn.flatMap=function(t,e){return vr(Aa(t,e),1)},Dn.flatMapDeep=function(t,e){return vr(Aa(t,e),h)},Dn.flatMapDepth=function(t,e,n){return n=n===o?1:gs(n),vr(Aa(t,e),n)},Dn.flatten=Vi,Dn.flattenDeep=function(t){return(null==t?0:t.length)?vr(t,h):[]},Dn.flattenDepth=function(t,e){return(null==t?0:t.length)?vr(t,e=e===o?1:gs(e)):[]},Dn.flip=function(t){return Qo(t,512)},Dn.flow=nu,Dn.flowRight=ru,Dn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Dn.functions=function(t){return null==t?[]:Sr(t,Ls(t))},Dn.functionsIn=function(t){return null==t?[]:Sr(t,Os(t))},Dn.groupBy=_a,Dn.initial=function(t){return(null==t?0:t.length)?oo(t,0,-1):[]},Dn.intersection=Ji,Dn.intersectionBy=Yi,Dn.intersectionWith=Ki,Dn.invert=Cs,Dn.invertBy=Bs,Dn.invokeMap=Ea,Dn.iteratee=iu,Dn.keyBy=Sa,Dn.keys=Ls,Dn.keysIn=Os,Dn.map=Aa,Dn.mapKeys=function(t,e){var n={};return e=ci(e,3),_r(t,(function(t,r,o){ar(n,e(t,r,o),t)})),n},Dn.mapValues=function(t,e){var n={};return e=ci(e,3),_r(t,(function(t,r,o){ar(n,r,e(t,r,o))})),n},Dn.matches=function(t){return Dr(lr(t,1))},Dn.matchesProperty=function(t,e){return Fr(t,lr(e,1))},Dn.memoize=ja,Dn.merge=Us,Dn.mergeWith=js,Dn.method=au,Dn.methodOf=su,Dn.mixin=uu,Dn.negate=Na,Dn.nthArg=function(t){return t=gs(t),Xr((function(e){return qr(e,t)}))},Dn.omit=Ns,Dn.omitBy=function(t,e){return Ps(t,Na(ci(e)))},Dn.once=function(t){return Ca(2,t)},Dn.orderBy=function(t,e,n,r){return null==t?[]:(Ha(e)||(e=null==e?[]:[e]),Ha(n=r?o:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Dn.over=cu,Dn.overArgs=Ma,Dn.overEvery=fu,Dn.overSome=du,Dn.partial=Pa,Dn.partialRight=Wa,Dn.partition=Ia,Dn.pick=Ms,Dn.pickBy=Ps,Dn.property=hu,Dn.propertyOf=function(t){return function(e){return null==t?o:Ar(t,e)}},Dn.pull=Zi,Dn.pullAll=Qi,Dn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,ci(n,2)):t},Dn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,o,n):t},Dn.pullAt=ta,Dn.range=pu,Dn.rangeRight=gu,Dn.rearg=$a,Dn.reject=function(t,e){return(Ha(t)?Le:mr)(t,Na(ci(e,3)))},Dn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=ci(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Jr(t,o),n},Dn.rest=function(t,e){if("function"!=typeof t)throw new Bt(i);return Xr(t,e=e===o?e:gs(e))},Dn.reverse=ea,Dn.sampleSize=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:gs(e),(Ha(t)?Qn:Qr)(t,e)},Dn.set=function(t,e,n){return null==t?t:to(t,e,n)},Dn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:to(t,e,n,r)},Dn.shuffle=function(t){return(Ha(t)?tr:ro)(t)},Dn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_i(t,e,n)?(e=0,n=r):(e=null==e?0:gs(e),n=n===o?r:gs(n)),oo(t,e,n)):[]},Dn.sortBy=Ta,Dn.sortedUniq=function(t){return t&&t.length?uo(t):[]},Dn.sortedUniqBy=function(t,e){return t&&t.length?uo(t,ci(e,2)):[]},Dn.split=function(t,e,n){return n&&"number"!=typeof n&&_i(t,e,n)&&(e=n=o),(n=n===o?y:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=co(e))&&un(t)?So(gn(t),0,n):t.split(e,n):[]},Dn.spread=function(t,e){if("function"!=typeof t)throw new Bt(i);return e=null==e?0:bn(gs(e),0),Xr((function(n){var r=n[e],o=So(n,0,e);return r&&Ne(o,r),Re(t,this,o)}))},Dn.tail=function(t){var e=null==t?0:t.length;return e?oo(t,1,e):[]},Dn.take=function(t,e,n){return t&&t.length?oo(t,0,(e=n||e===o?1:gs(e))<0?0:e):[]},Dn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,(e=r-(e=n||e===o?1:gs(e)))<0?0:e,r):[]},Dn.takeRightWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!1,!0):[]},Dn.takeWhile=function(t,e){return t&&t.length?go(t,ci(e,3)):[]},Dn.tap=function(t,e){return e(t),t},Dn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Bt(i);return es(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),La(t,e,{leading:r,maxWait:e,trailing:o})},Dn.thru=pa,Dn.toArray=hs,Dn.toPairs=Ws,Dn.toPairsIn=$s,Dn.toPath=function(t){return Ha(t)?je(t,Pi):ls(t)?[t]:ko(Mi(bs(t)))},Dn.toPlainObject=vs,Dn.transform=function(t,e,n){var r=Ha(t),o=r||Ya(t)||cs(t);if(e=ci(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:es(t)&&Za(i)?Fn(Gt(t)):{}}return(o?Ce:_r)(t,(function(t,r,o){return e(n,t,r,o)})),n},Dn.unary=function(t){return xa(t,1)},Dn.union=na,Dn.unionBy=ra,Dn.unionWith=oa,Dn.uniq=function(t){return t&&t.length?fo(t):[]},Dn.uniqBy=function(t,e){return t&&t.length?fo(t,ci(e,2)):[]},Dn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?fo(t,o,e):[]},Dn.unset=function(t,e){return null==t||ho(t,e)},Dn.unzip=ia,Dn.unzipWith=aa,Dn.update=function(t,e,n){return null==t?t:po(t,e,wo(n))},Dn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:po(t,e,wo(n),r)},Dn.values=Ds,Dn.valuesIn=function(t){return null==t?[]:tn(t,Os(t))},Dn.without=sa,Dn.words=Zs,Dn.wrap=function(t,e){return Pa(wo(e),t)},Dn.xor=ua,Dn.xorBy=la,Dn.xorWith=ca,Dn.zip=fa,Dn.zipObject=function(t,e){return vo(t||[],e||[],nr)},Dn.zipObjectDeep=function(t,e){return vo(t||[],e||[],to)},Dn.zipWith=da,Dn.entries=Ws,Dn.entriesIn=$s,Dn.extend=_s,Dn.extendWith=Es,uu(Dn,Dn),Dn.add=vu,Dn.attempt=Qs,Dn.camelCase=Fs,Dn.capitalize=zs,Dn.ceil=bu,Dn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ms(n))==n?n:0),e!==o&&(e=(e=ms(e))==e?e:0),ur(ms(t),e,n)},Dn.clone=function(t){return lr(t,4)},Dn.cloneDeep=function(t){return lr(t,5)},Dn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:o)},Dn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:o)},Dn.conformsTo=function(t,e){return null==e||cr(t,e,Ls(e))},Dn.deburr=qs,Dn.defaultTo=function(t,e){return null==t||t!=t?e:t},Dn.divide=wu,Dn.endsWith=function(t,e,n){t=bs(t),e=co(e);var r=t.length,i=n=n===o?r:ur(gs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Dn.eq=Da,Dn.escape=function(t){return(t=bs(t))&&X.test(t)?t.replace(Y,an):t},Dn.escapeRegExp=function(t){return(t=bs(t))&&it.test(t)?t.replace(ot,"\\$&"):t},Dn.every=function(t,e,n){var r=Ha(t)?ke:gr;return n&&_i(t,e,n)&&(e=o),r(t,ci(e,3))},Dn.find=ma,Dn.findIndex=qi,Dn.findKey=function(t,e){return De(t,ci(e,3),_r)},Dn.findLast=va,Dn.findLastIndex=Hi,Dn.findLastKey=function(t,e){return De(t,ci(e,3),Er)},Dn.floor=_u,Dn.forEach=ba,Dn.forEachRight=wa,Dn.forIn=function(t,e){return null==t?t:br(t,ci(e,3),Os)},Dn.forInRight=function(t,e){return null==t?t:wr(t,ci(e,3),Os)},Dn.forOwn=function(t,e){return t&&_r(t,ci(e,3))},Dn.forOwnRight=function(t,e){return t&&Er(t,ci(e,3))},Dn.get=Rs,Dn.gt=Fa,Dn.gte=za,Dn.has=function(t,e){return null!=t&&mi(t,e,xr)},Dn.hasIn=xs,Dn.head=Gi,Dn.identity=ou,Dn.includes=function(t,e,n,r){t=Ga(t)?t:Ds(t),n=n&&!r?gs(n):0;var o=t.length;return n<0&&(n=bn(o+n,0)),us(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&ze(t,e,n)>-1},Dn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=bn(r+o,0)),ze(t,e,o)},Dn.inRange=function(t,e,n){return e=ps(e),n===o?(n=e,e=0):n=ps(n),function(t,e,n){return t>=wn(e,n)&&t<bn(e,n)}(t=ms(t),e,n)},Dn.invoke=ks,Dn.isArguments=qa,Dn.isArray=Ha,Dn.isArrayBuffer=Va,Dn.isArrayLike=Ga,Dn.isArrayLikeObject=Ja,Dn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&Tr(t)==w},Dn.isBuffer=Ya,Dn.isDate=Ka,Dn.isElement=function(t){return ns(t)&&1===t.nodeType&&!is(t)},Dn.isEmpty=function(t){if(null==t)return!0;if(Ga(t)&&(Ha(t)||"string"==typeof t||"function"==typeof t.splice||Ya(t)||cs(t)||qa(t)))return!t.length;var e=yi(t);if(e==I||e==B)return!t.size;if(Ii(t))return!Mr(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Dn.isEqual=function(t,e){return Or(t,e)},Dn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Or(t,e,o,n):!!r},Dn.isError=Xa,Dn.isFinite=function(t){return"number"==typeof t&&we(t)},Dn.isFunction=Za,Dn.isInteger=Qa,Dn.isLength=ts,Dn.isMap=rs,Dn.isMatch=function(t,e){return t===e||Ur(t,e,di(e))},Dn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Ur(t,e,di(e),n)},Dn.isNaN=function(t){return os(t)&&t!=+t},Dn.isNative=function(t){if(Ai(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(t)},Dn.isNil=function(t){return null==t},Dn.isNull=function(t){return null===t},Dn.isNumber=os,Dn.isObject=es,Dn.isObjectLike=ns,Dn.isPlainObject=is,Dn.isRegExp=as,Dn.isSafeInteger=function(t){return Qa(t)&&t>=-9007199254740991&&t<=p},Dn.isSet=ss,Dn.isString=us,Dn.isSymbol=ls,Dn.isTypedArray=cs,Dn.isUndefined=function(t){return t===o},Dn.isWeakMap=function(t){return ns(t)&&yi(t)==O},Dn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==Tr(t)},Dn.join=function(t,e){return null==t?"":$e.call(t,e)},Dn.kebabCase=Hs,Dn.last=Xi,Dn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?bn(r+i,0):wn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Fe(t,He,i,!0)},Dn.lowerCase=Vs,Dn.lowerFirst=Gs,Dn.lt=fs,Dn.lte=ds,Dn.max=function(t){return t&&t.length?yr(t,ou,Rr):o},Dn.maxBy=function(t,e){return t&&t.length?yr(t,ci(e,2),Rr):o},Dn.mean=function(t){return Ve(t,ou)},Dn.meanBy=function(t,e){return Ve(t,ci(e,2))},Dn.min=function(t){return t&&t.length?yr(t,ou,Wr):o},Dn.minBy=function(t,e){return t&&t.length?yr(t,ci(e,2),Wr):o},Dn.stubArray=yu,Dn.stubFalse=mu,Dn.stubObject=function(){return{}},Dn.stubString=function(){return""},Dn.stubTrue=function(){return!0},Dn.multiply=Su,Dn.nth=function(t,e){return t&&t.length?qr(t,gs(e)):o},Dn.noConflict=function(){return ge._===this&&(ge._=Dt),this},Dn.noop=lu,Dn.now=Ra,Dn.pad=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Vo(ye(o),n)+t+Vo(pe(o),n)},Dn.padEnd=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?t+Vo(e-r,n):t},Dn.padStart=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?Vo(e-r,n)+t:t},Dn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),En(bs(t).replace(at,""),e||0)},Dn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_i(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ps(t),e===o?(e=t,t=0):e=ps(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Sn();return wn(t+i*(e-t+fe("1e-"+((i+"").length-1))),e)}return Yr(t,e)},Dn.reduce=function(t,e,n){var r=Ha(t)?Me:Ye,o=arguments.length<3;return r(t,ci(e,4),n,o,hr)},Dn.reduceRight=function(t,e,n){var r=Ha(t)?Pe:Ye,o=arguments.length<3;return r(t,ci(e,4),n,o,pr)},Dn.repeat=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:gs(e),Kr(bs(t),e)},Dn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Dn.result=function(t,e,n){var r=-1,i=(e=_o(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[Pi(e[r])];a===o&&(r=i,a=n),t=Za(a)?a.call(t):a}return t},Dn.round=Au,Dn.runInContext=t,Dn.sample=function(t){return(Ha(t)?Zn:Zr)(t)},Dn.size=function(t){if(null==t)return 0;if(Ga(t))return us(t)?pn(t):t.length;var e=yi(t);return e==I||e==B?t.size:Mr(t).length},Dn.snakeCase=Js,Dn.some=function(t,e,n){var r=Ha(t)?We:io;return n&&_i(t,e,n)&&(e=o),r(t,ci(e,3))},Dn.sortedIndex=function(t,e){return ao(t,e)},Dn.sortedIndexBy=function(t,e,n){return so(t,e,ci(n,2))},Dn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ao(t,e);if(r<n&&Da(t[r],e))return r}return-1},Dn.sortedLastIndex=function(t,e){return ao(t,e,!0)},Dn.sortedLastIndexBy=function(t,e,n){return so(t,e,ci(n,2),!0)},Dn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ao(t,e,!0)-1;if(Da(t[n],e))return n}return-1},Dn.startCase=Ys,Dn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:ur(gs(n),0,t.length),e=co(e),t.slice(n,n+e.length)==e},Dn.subtract=Iu,Dn.sum=function(t){return t&&t.length?Ke(t,ou):0},Dn.sumBy=function(t,e){return t&&t.length?Ke(t,ci(e,2)):0},Dn.template=function(t,e,n){var r=Dn.templateSettings;n&&_i(t,e,n)&&(e=o),t=bs(t),e=Es({},e,r,ti);var i,a,s=Es({},e.imports,r.imports,ti),u=Ls(s),l=tn(s,u),c=0,f=e.interpolate||Et,d="__p += '",h=xt((e.escape||Et).source+"|"+f.source+"|"+(f===tt?pt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(h,(function(e,n,r,o,s,u){return r||(r=o),d+=t.slice(c,u).replace(St,sn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),d+="';\n";var g=Nt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new At("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(V,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Qs((function(){return It(u,p+"return "+d).apply(o,l)}));if(y.source=d,Xa(y))throw y;return y},Dn.times=function(t,e){if((t=gs(t))<1||t>p)return[];var n=y,r=wn(t,y);e=ci(e),t-=y;for(var o=Xe(r,e);++n<t;)e(n);return o},Dn.toFinite=ps,Dn.toInteger=gs,Dn.toLength=ys,Dn.toLower=function(t){return bs(t).toLowerCase()},Dn.toNumber=ms,Dn.toSafeInteger=function(t){return t?ur(gs(t),-9007199254740991,p):0===t?t:0},Dn.toString=bs,Dn.toUpper=function(t){return bs(t).toUpperCase()},Dn.trim=function(t,e,n){if((t=bs(t))&&(n||e===o))return Ze(t);if(!t||!(e=co(e)))return t;var r=gn(t),i=gn(e);return So(r,nn(r,i),rn(r,i)+1).join("")},Dn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.slice(0,yn(t)+1);if(!t||!(e=co(e)))return t;var r=gn(t);return So(r,0,rn(r,gn(e))+1).join("")},Dn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.replace(at,"");if(!t||!(e=co(e)))return t;var r=gn(t);return So(r,nn(r,gn(e))).join("")},Dn.truncate=function(t,e){var n=30,r="...";if(es(e)){var i="separator"in e?e.separator:i;n="length"in e?gs(e.length):n,r="omission"in e?co(e.omission):r}var a=(t=bs(t)).length;if(un(t)){var s=gn(t);a=s.length}if(n>=a)return t;var u=n-pn(r);if(u<1)return r;var l=s?So(s,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),as(i)){if(t.slice(u).search(i)){var c,f=l;for(i.global||(i=xt(i.source,bs(gt.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?u:d)}}else if(t.indexOf(co(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Dn.unescape=function(t){return(t=bs(t))&&K.test(t)?t.replace(J,mn):t},Dn.uniqueId=function(t){var e=++Mt;return bs(t)+e},Dn.upperCase=Ks,Dn.upperFirst=Xs,Dn.each=ba,Dn.eachRight=wa,Dn.first=Gi,uu(Dn,(Eu={},_r(Dn,(function(t,e){Nt.call(Dn.prototype,e)||(Eu[e]=t)})),Eu),{chain:!1}),Dn.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Dn[t].placeholder=Dn})),Ce(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===o?1:bn(gs(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,y),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ci(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ou)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return kr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Na(ci(t)))},Hn.prototype.slice=function(t,e){t=gs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=gs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(y)},_r(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Dn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(Dn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Hn,l=s[0],c=u||Ha(e),f=function(t){var e=i.apply(Dn,Ne([t],s));return r&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=u&&!h;if(!a&&c){e=g?e:new Hn(this);var y=t.apply(e,s);return y.__actions__.push({func:pa,args:[f],thisArg:o}),new qn(y,d)}return p&&g?t.apply(this,s):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=kt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Dn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ha(o)?o:[],t)}return this[n]((function(n){return e.apply(Ha(n)?n:[],t)}))}})),_r(Hn.prototype,(function(t,e){var n=Dn[e];if(n){var r=n.name+"";Nt.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:e,func:n})}})),Ln[Fo(o,2).name]=[{name:"wrapper",func:o}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=ko(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ko(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ko(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ha(t),r=e<0,o=n?t.length:0,i=function(t,e,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=wn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return yo(t,this.__actions__);var p=[];t:for(;u--&&d<h;){for(var g=-1,y=t[l+=e];++g<f;){var m=c[g],v=m.iteratee,b=m.type,w=v(y);if(2==b)y=w;else if(!w){if(1==b)continue t;break t}}p[d++]=y}return p},Dn.prototype.at=ga,Dn.prototype.chain=function(){return ha(this)},Dn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Dn.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Dn.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var r=$i(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Dn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:o}),new qn(e,this.__chain__)}return this.thru(ea)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return yo(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,Zt&&(Dn.prototype[Zt]=function(){return this}),Dn}();ge._=vn,(r=function(){return vn}.call(e,n,e,t))===o||(t.exports=r)}.call(this)},300:(t,e,n)=>{var r,o;t=n.nmd(t),function(e){e.runningInNodeJS=function(){return"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&n.c[n.s]===t},e.commonJSAvailable=function(){return"object"==typeof t.exports},e.runningInWebWorker=function(){return"undefined"==typeof window&&"object"==typeof self&&"function"==typeof self.addEventListener&&"function"==typeof self.close},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&"function"==typeof process.send},e.runningInNullOrigin=function(){return"object"==typeof window&&"object"==typeof window.location&&"object"==typeof document&&("http:"!==document.location.protocol&&"https:"!==document.location.protocol)},e.webWorkersAvailable=function(){return"function"==typeof Worker&&!e.runningInNullOrigin()&&(!e.runningInNodeJS()&&!(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0))},e.log=function(t,e){void 0===e&&(e=!1),"object"==typeof console&&(console.log(t),e&&"object"==typeof document&&(document.body.innerHTML+=t+"<br/>"))},e.createErrorMessage=function(t,n){if(void 0===n&&(n="Unhandled exception"),null==t)return n;if(n+=": ","object"==typeof t.content){if(e.runningInNodeJS())return n+t.content.stack;var r=JSON.stringify(t.content);return"{}"!==r?n+r:n+t.content}return"string"==typeof t.content?n+t.content:n+t},e.printExceptionAndStackTraceToConsole=function(t,n){void 0===n&&(n="Unhandled exception"),e.log(e.createErrorMessage(t,n))},e.getGlobalObject=function(){return"object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(t.exports=e)}(o||(o={})),function(t){if("function"==typeof Uint8Array&&0!==new Uint8Array(1).subarray(1).byteLength){var e=function(t,e){var n=function(t,e,n){return t<e?e:t>n?n:t};t|=0,e|=0,arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length);var r=(e=n(e,0,this.length))-t;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)},n=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],r=void 0;if("object"==typeof window?r=window:"object"==typeof self&&(r=self),void 0!==r)for(var o=0;o<n.length;o++)r[n[o]]&&(r[n[o]].prototype.subarray=e)}}(r||(r={})),function(t){var e=function(){function e(){}return e.compressAsync=function(e,n,r){var o=new t.Timer,i=new t.Compressor;if(!r)throw new TypeError("compressAsync: No callback argument given");if("string"==typeof e)e=t.encodeUTF8(e);else if(null==e||!(e instanceof Uint8Array))return void r(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));var a=t.ArrayTools.splitByteArray(e,n.blockSize),s=[],u=function(e){if(e<a.length){var l=void 0;try{l=i.compressBlock(a[e])}catch(t){return void r(void 0,t)}s.push(l),o.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),o.restart())}else{var c=t.ArrayTools.concatUint8Arrays(s);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeCompressedBytes(c,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createCompressionStream=function(){var e=new t.Compressor,r=new(n(99).Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var a;try{a=t.BufferTools.uint8ArrayToBuffer(e.compressBlock(t.BufferTools.bufferToUint8Array(n)))}catch(t){return void r.emit("error",t)}r.push(a),i()},r},e}();t.AsyncCompressor=e}(o||(o={})),function(t){var e=function(){function e(){}return e.decompressAsync=function(e,n,r){if(!r)throw new TypeError("decompressAsync: No callback argument given");var o=new t.Timer;try{e=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding)}catch(t){return void r(void 0,t)}var i=new t.Decompressor,a=t.ArrayTools.splitByteArray(e,n.blockSize),s=[],u=function(e){if(e<a.length){var l=void 0;try{l=i.decompressBlock(a[e])}catch(t){return void r(void 0,t)}s.push(l),o.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),o.restart())}else{var c=t.ArrayTools.concatUint8Arrays(s);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeDecompressedBytes(c,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createDecompressionStream=function(){var e=new t.Decompressor,r=new(n(99).Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var a;try{a=t.BufferTools.uint8ArrayToBuffer(e.decompressBlock(t.BufferTools.bufferToUint8Array(n)))}catch(t){return void r.emit("error",t)}r.push(a),i()},r},e}();t.AsyncDecompressor=e}(o||(o={})),function(t){var e;!function(e){e.compressAsync=function(t,n,r){if("ByteArray"!=n.inputEncoding||t instanceof Uint8Array){var o={token:Math.random().toString(),type:"compress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},i=function(t){var n=t.data;n&&n.token==o.token&&(e.globalWorker.removeEventListener("message",i),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",i),e.globalWorker.postMessage(o,[])}else r(void 0,new TypeError("compressAsync: input is not a Uint8Array"))},e.decompressAsync=function(t,n,r){var o={token:Math.random().toString(),type:"decompress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},i=function(t){var n=t.data;n&&n.token==o.token&&(e.globalWorker.removeEventListener("message",i),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",i),e.globalWorker.postMessage(o,[])},e.installWebWorkerIfNeeded=function(){"object"==typeof self&&void 0===self.document&&null!=self.addEventListener&&(self.addEventListener("message",(function(e){var n=e.data;if("compress"==n.type){var r=void 0;try{r=t.compress(n.data,{outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(o={token:n.token,type:"compressionResult",data:r,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}else if("decompress"==n.type){var o,i=void 0;try{i=t.decompress(n.data,{inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(o={token:n.token,type:"decompressionResult",data:i,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}})),self.addEventListener("error",(function(e){t.log(t.createErrorMessage(e.error,"Unexpected LZUTF8 WebWorker exception"))})))},e.createGlobalWorkerIfNeeded=function(){if(e.globalWorker)return!0;if(!t.webWorkersAvailable())return!1;if(!e.scriptURI&&"object"==typeof document){var n=document.getElementById("lzutf8");null!=n&&(e.scriptURI=n.getAttribute("src")||void 0)}return!!e.scriptURI&&(e.globalWorker=new Worker(e.scriptURI),!0)},e.terminate=function(){e.globalWorker&&(e.globalWorker.terminate(),e.globalWorker=void 0)}}(e=t.WebWorker||(t.WebWorker={})),e.installWebWorkerIfNeeded()}(o||(o={})),function(t){var e=function(){function t(t,e,n){this.container=t,this.startPosition=e,this.length=n}return t.prototype.get=function(t){return this.container[this.startPosition+t]},t.prototype.getInReversedOrder=function(t){return this.container[this.startPosition+this.length-1-t]},t.prototype.set=function(t,e){this.container[this.startPosition+t]=e},t}();t.ArraySegment=e}(o||(o={})),function(t){!function(t){t.copyElements=function(t,e,n,r,o){for(;o--;)n[r++]=t[e++]},t.zeroElements=function(t,e,n){for(;n--;)t[e++]=0},t.countNonzeroValuesInArray=function(t){for(var e=0,n=0;n<t.length;n++)t[n]&&e++;return e},t.truncateStartingElements=function(t,e){if(t.length<=e)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var n=t.length-e,r=0;r<e;r++)t[r]=t[n+r];t.length=e},t.doubleByteArrayCapacity=function(t){var e=new Uint8Array(2*t.length);return e.set(t),e},t.concatUint8Arrays=function(t){for(var e=0,n=0,r=t;n<r.length;n++){e+=(u=r[n]).length}for(var o=new Uint8Array(e),i=0,a=0,s=t;a<s.length;a++){var u=s[a];o.set(u,i),i+=u.length}return o},t.splitByteArray=function(t,e){for(var n=[],r=0;r<t.length;){var o=Math.min(e,t.length-r);n.push(t.subarray(r,r+o)),r+=o}return n}}(t.ArrayTools||(t.ArrayTools={}))}(o||(o={})),function(t){!function(t){t.convertToUint8ArrayIfNeeded=function(e){return"function"==typeof Buffer&&Buffer.isBuffer(e)?t.bufferToUint8Array(e):e},t.uint8ArrayToBuffer=function(t){if(Buffer.prototype instanceof Uint8Array){var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return Object.setPrototypeOf(e,Buffer.prototype),e}for(var n=t.length,r=new Buffer(n),o=0;o<n;o++)r[o]=t[o];return r},t.bufferToUint8Array=function(t){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t[r];return n}}(t.BufferTools||(t.BufferTools={}))}(o||(o={})),function(t){!function(e){e.getCroppedBuffer=function(t,e,n,r){void 0===r&&(r=0);var o=new Uint8Array(n+r);return o.set(t.subarray(e,e+n)),o},e.getCroppedAndAppendedByteArray=function(e,n,r,o){return t.ArrayTools.concatUint8Arrays([e.subarray(n,n+r),o])},e.detectCompressionSourceEncoding=function(t){if(null==t)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if("string"==typeof t)return"String";if(t instanceof Uint8Array||"function"==typeof Buffer&&Buffer.isBuffer(t))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},e.encodeCompressedBytes=function(e,n){switch(n){case"ByteArray":return e;case"Buffer":return t.BufferTools.uint8ArrayToBuffer(e);case"Base64":return t.encodeBase64(e);case"BinaryString":return t.encodeBinaryString(e);case"StorageBinaryString":return t.encodeStorageBinaryString(e);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},e.decodeCompressedBytes=function(e,n){if(null==n)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(n){case"ByteArray":case"Buffer":var r=t.BufferTools.convertToUint8ArrayIfNeeded(e);if(!(r instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return r;case"Base64":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return t.decodeBase64(e);case"BinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return t.decodeBinaryString(e);case"StorageBinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return t.decodeStorageBinaryString(e);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(n,"'"))}},e.encodeDecompressedBytes=function(e,n){switch(n){case"String":return t.decodeUTF8(e);case"ByteArray":return e;case"Buffer":if("function"!=typeof Buffer)throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return t.BufferTools.uint8ArrayToBuffer(e);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}}(t.CompressionCommon||(t.CompressionCommon={}))}(o||(o={})),function(t){var e;!function(e){var n,r=[];e.enqueueImmediate=function(t){r.push(t),1===r.length&&n()},e.initializeScheduler=function(){var e=function(){for(var e=0,n=r;e<n.length;e++){var o=n[e];try{o.call(void 0)}catch(e){t.printExceptionAndStackTraceToConsole(e,"enqueueImmediate exception")}}r.length=0};if(t.runningInNodeJS())n=function(){return setImmediate((function(){return e()}))};else if("object"==typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.postMessage){var o,i="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",(function(t){t.data===i&&e()})),o=t.runningInNullOrigin()?"*":window.location.href,n=function(){return window.postMessage(i,o)}}else if("function"==typeof MessageChannel&&"function"==typeof MessagePort){var a=new MessageChannel;a.port1.onmessage=function(){return e()},n=function(){return a.port2.postMessage(0)}}else n=function(){return setTimeout((function(){return e()}),0)}},e.initializeScheduler()}(e=t.EventLoop||(t.EventLoop={})),t.enqueueImmediate=function(t){return e.enqueueImmediate(t)}}(o||(o={})),function(t){!function(t){t.override=function(e,n){return t.extend(e,n)},t.extend=function(t,e){if(null==t)throw new TypeError("obj is null or undefined");if("object"!=typeof t)throw new TypeError("obj is not an object");if(null==e&&(e={}),"object"!=typeof e)throw new TypeError("newProperties is not an object");if(null!=e)for(var n in e)t[n]=e[n];return t}}(t.ObjectTools||(t.ObjectTools={}))}(o||(o={})),function(t){t.getRandomIntegerInRange=function(t,e){return t+Math.floor(Math.random()*(e-t))},t.getRandomUTF16StringOfLength=function(e){for(var n="",r=0;r<e;r++){var o=void 0;do{o=t.getRandomIntegerInRange(0,1114112)}while(o>=55296&&o<=57343);n+=t.Encoding.CodePoint.decodeToString(o)}return n}}(o||(o={})),function(t){var e=function(){function t(t){void 0===t&&(t=1024),this.outputBufferCapacity=t,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return t.prototype.appendCharCode=function(t){this.outputBuffer[this.outputPosition++]=t,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},t.prototype.appendCharCodes=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t[e])},t.prototype.appendString=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t.charCodeAt(e))},t.prototype.appendCodePoint=function(t){if(t<=65535)this.appendCharCode(t);else{if(!(t<=1114111))throw new Error("appendCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"));this.appendCharCode(55296+(t-65536>>>10)),this.appendCharCode(56320+(t-65536&1023))}},t.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},t.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},t}();t.StringBuilder=e}(o||(o={})),function(t){var e=function(){function e(){this.restart()}return e.prototype.restart=function(){this.startTime=e.getTimestamp()},e.prototype.getElapsedTime=function(){return e.getTimestamp()-this.startTime},e.prototype.getElapsedTimeAndRestart=function(){var t=this.getElapsedTime();return this.restart(),t},e.prototype.logAndRestart=function(e,n){void 0===n&&(n=!0);var r=this.getElapsedTime(),o="".concat(e,": ").concat(r.toFixed(3),"ms");return t.log(o,n),this.restart(),r},e.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},e.getMicrosecondTimestamp=function(){return Math.floor(1e3*e.getTimestamp())},e.createGlobalTimestampFunction=function(){if("object"==typeof process&&"function"==typeof process.hrtime){var t=0;this.timestampFunc=function(){var e=process.hrtime(),n=1e3*e[0]+e[1]/1e6;return t+n},t=Date.now()-this.timestampFunc()}else if("object"==typeof chrome&&chrome.Interval){var e=Date.now(),n=new chrome.Interval;n.start(),this.timestampFunc=function(){return e+n.microseconds()/1e3}}else if("object"==typeof performance&&performance.now){var r=Date.now()-performance.now();this.timestampFunc=function(){return r+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return(new Date).getTime()}},e}();t.Timer=e}(o||(o={})),function(t){var e=function(){function e(e){void 0===e&&(e=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,e&&"function"==typeof Uint32Array?this.prefixHashTable=new t.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new t.CompressorSimpleHashTable(this.PrefixHashTableSize)}return e.prototype.compressBlock=function(e){if(null==e)throw new TypeError("compressBlock: undefined or null input received");return"string"==typeof e&&(e=t.encodeUTF8(e)),e=t.BufferTools.convertToUint8ArrayIfNeeded(e),this.compressUtf8Block(e)},e.prototype.compressUtf8Block=function(t){if(!t||0==t.length)return new Uint8Array(0);var e=this.cropAndAddNewBytesToInputBuffer(t),n=this.inputBuffer,r=this.inputBuffer.length;this.outputBuffer=new Uint8Array(t.length),this.outputBufferPosition=0;for(var o=0,i=e;i<r;i++){var a=n[i],s=i<o;if(i>r-this.MinimumSequenceLength)s||this.outputRawByte(a);else{var u=this.getBucketIndexForPrefix(i);if(!s){var l=this.findLongestMatch(i,u);null!=l&&(this.outputPointerBytes(l.length,l.distance),o=i+l.length,s=!0)}s||this.outputRawByte(a);var c=this.inputBufferStreamOffset+i;this.prefixHashTable.addValueToBucket(u,c)}}return this.outputBuffer.subarray(0,this.outputBufferPosition)},e.prototype.findLongestMatch=function(t,e){var n=this.prefixHashTable.getArraySegmentForBucketIndex(e,this.reusableArraySegmentObject);if(null==n)return null;for(var r,o=this.inputBuffer,i=0,a=0;a<n.length;a++){var s=n.getInReversedOrder(a)-this.inputBufferStreamOffset,u=t-s,l=void 0;if(l=void 0===r?this.MinimumSequenceLength-1:r<128&&u>=128?i+(i>>>1):i,u>this.MaximumMatchDistance||l>=this.MaximumSequenceLength||t+l>=o.length)break;if(o[s+l]===o[t+l])for(var c=0;;c++){if(t+c===o.length||o[s+c]!==o[t+c]){c>l&&(r=u,i=c);break}if(c===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}}return void 0!==r?{distance:r,length:i}:null},e.prototype.getBucketIndexForPrefix=function(t){return(7880599*this.inputBuffer[t]+39601*this.inputBuffer[t+1]+199*this.inputBuffer[t+2]+this.inputBuffer[t+3])%this.PrefixHashTableSize},e.prototype.outputPointerBytes=function(t,e){e<128?(this.outputRawByte(192|t),this.outputRawByte(e)):(this.outputRawByte(224|t),this.outputRawByte(e>>>8),this.outputRawByte(255&e))},e.prototype.outputRawByte=function(t){this.outputBuffer[this.outputBufferPosition++]=t},e.prototype.cropAndAddNewBytesToInputBuffer=function(e){if(void 0===this.inputBuffer)return this.inputBuffer=e,0;var n=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),r=this.inputBuffer.length-n;return this.inputBuffer=t.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,r,n,e),this.inputBufferStreamOffset+=r,n},e}();t.Compressor=e}(o||(o={})),function(t){var e=function(){function e(t){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(2*t),this.storage=new Uint32Array(2*t),this.storageIndex=1}return e.prototype.addValueToBucket=function(e,n){e<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var r,o=this.bucketLocators[e];if(0===o)o=this.storageIndex,r=1,this.storage[this.storageIndex]=n,this.storageIndex+=this.minimumBucketCapacity;else{(r=this.bucketLocators[e+1])===this.maximumBucketCapacity-1&&(r=this.truncateBucketToNewerElements(o,r,this.maximumBucketCapacity/2));var i=o+r;0===this.storage[i]?(this.storage[i]=n,i===this.storageIndex&&(this.storageIndex+=r)):(t.ArrayTools.copyElements(this.storage,o,this.storage,this.storageIndex,r),o=this.storageIndex,this.storageIndex+=r,this.storage[this.storageIndex++]=n,this.storageIndex+=r),r++}this.bucketLocators[e]=o,this.bucketLocators[e+1]=r},e.prototype.truncateBucketToNewerElements=function(e,n,r){var o=e+n-r;return t.ArrayTools.copyElements(this.storage,o,this.storage,e,r),t.ArrayTools.zeroElements(this.storage,e+r,n-r),r},e.prototype.compact=function(){var e=this.bucketLocators,n=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var r=0;r<e.length;r+=2){var o=e[r+1];0!==o&&(this.bucketLocators[r]=this.storageIndex,this.bucketLocators[r+1]=o,this.storageIndex+=Math.max(Math.min(2*o,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(8*this.storageIndex);for(r=0;r<e.length;r+=2){var i=e[r];if(0!==i){var a=this.bucketLocators[r],s=this.bucketLocators[r+1];t.ArrayTools.copyElements(n,i,this.storage,a,s)}}},e.prototype.getArraySegmentForBucketIndex=function(e,n){e<<=1;var r=this.bucketLocators[e];return 0===r?null:(void 0===n&&(n=new t.ArraySegment(this.storage,r,this.bucketLocators[e+1])),n)},e.prototype.getUsedBucketCount=function(){return Math.floor(t.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.bucketLocators.length;e+=2)t+=this.bucketLocators[e+1];return t},e}();t.CompressorCustomHashTable=e}(o||(o={})),function(t){var e=function(){function e(t){this.maximumBucketCapacity=64,this.buckets=new Array(t)}return e.prototype.addValueToBucket=function(e,n){var r=this.buckets[e];void 0===r?this.buckets[e]=[n]:(r.length===this.maximumBucketCapacity-1&&t.ArrayTools.truncateStartingElements(r,this.maximumBucketCapacity/2),r.push(n))},e.prototype.getArraySegmentForBucketIndex=function(e,n){var r=this.buckets[e];return void 0===r?null:(void 0===n&&(n=new t.ArraySegment(r,0,r.length)),n)},e.prototype.getUsedBucketCount=function(){return t.ArrayTools.countNonzeroValuesInArray(this.buckets)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.buckets.length;e++)void 0!==this.buckets[e]&&(t+=this.buckets[e].length);return t},e}();t.CompressorSimpleHashTable=e}(o||(o={})),function(t){var e=function(){function e(){this.MaximumMatchDistance=32767,this.outputPosition=0}return e.prototype.decompressBlockToString=function(e){return e=t.BufferTools.convertToUint8ArrayIfNeeded(e),t.decodeUTF8(this.decompressBlock(e))},e.prototype.decompressBlock=function(e){this.inputBufferRemainder&&(e=t.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,e]),this.inputBufferRemainder=void 0);for(var n=this.cropOutputBufferToWindowAndInitialize(Math.max(4*e.length,1024)),r=0,o=e.length;r<o;r++){var i=e[r];if(i>>>6==3){var a=i>>>5;if(r==o-1||r==o-2&&7==a){this.inputBufferRemainder=e.subarray(r);break}if(e[r+1]>>>7==1)this.outputByte(i);else{var s=31&i,u=void 0;6==a?(u=e[r+1],r+=1):(u=e[r+1]<<8|e[r+2],r+=2);for(var l=this.outputPosition-u,c=0;c<s;c++)this.outputByte(this.outputBuffer[l+c])}}else this.outputByte(i)}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),t.CompressionCommon.getCroppedBuffer(this.outputBuffer,n,this.outputPosition-n)},e.prototype.outputByte=function(e){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=t.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=e},e.prototype.cropOutputBufferToWindowAndInitialize=function(e){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(e),0;var n=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=t.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-n,n,e),this.outputPosition=n,this.outputBufferRemainder){for(var r=0;r<this.outputBufferRemainder.length;r++)this.outputByte(this.outputBufferRemainder[r]);this.outputBufferRemainder=void 0}return n},e.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var t=1;t<=4&&this.outputPosition-t>=0;t++){var e=this.outputBuffer[this.outputPosition-t];if(t<4&&e>>>3==30||t<3&&e>>>4==14||t<2&&e>>>5==6)return this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-t,this.outputPosition),void(this.outputPosition-=t)}},e}();t.Decompressor=e}(o||(o={})),function(t){!function(e){!function(e){var n=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),r=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]);e.encode=function(n){return n&&0!=n.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(n).toString("base64"):e.encodeWithJS(n):""},e.decode=function(n){return n?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(n,"base64")):e.decodeWithJS(n):new Uint8Array(0)},e.encodeWithJS=function(e,r){if(void 0===r&&(r=!0),!e||0==e.length)return"";for(var o,i=n,a=new t.StringBuilder,s=0,u=e.length;s<u;s+=3)s<=u-3?(o=e[s]<<16|e[s+1]<<8|e[s+2],a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),a.appendCharCode(i[o>>>6&63]),a.appendCharCode(i[63&o]),o=0):s===u-2?(o=e[s]<<16|e[s+1]<<8,a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),a.appendCharCode(i[o>>>6&63]),r&&a.appendCharCode(61)):s===u-1&&(o=e[s]<<16,a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),r&&(a.appendCharCode(61),a.appendCharCode(61)));return a.getOutputString()},e.decodeWithJS=function(t,e){if(!t||0==t.length)return new Uint8Array(0);var n=t.length%4;if(1===n)throw new Error("Invalid Base64 string: length % 4 == 1");2===n?t+="==":3===n&&(t+="="),e||(e=new Uint8Array(t.length));for(var o=0,i=t.length,a=0;a<i;a+=4){var s=r[t.charCodeAt(a)]<<18|r[t.charCodeAt(a+1)]<<12|r[t.charCodeAt(a+2)]<<6|r[t.charCodeAt(a+3)];e[o++]=s>>>16&255,e[o++]=s>>>8&255,e[o++]=255&s}return 61==t.charCodeAt(i-1)&&o--,61==t.charCodeAt(i-2)&&o--,e.subarray(0,o)}}(e.Base64||(e.Base64={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(e){!function(e){e.encode=function(e){if(null==e)throw new TypeError("BinaryString.encode: undefined or null input received");if(0===e.length)return"";for(var n=e.length,r=new t.StringBuilder,o=0,i=1,a=0;a<n;a+=2){var s=void 0;s=a==n-1?e[a]<<8:e[a]<<8|e[a+1],r.appendCharCode(o<<16-i|s>>>i),o=s&(1<<i)-1,15===i?(r.appendCharCode(o),o=0,i=1):i+=1,a>=n-2&&r.appendCharCode(o<<16-i)}return r.appendCharCode(32768|n%2),r.getOutputString()},e.decode=function(t){if("string"!=typeof t)throw new TypeError("BinaryString.decode: invalid input type");if(""==t)return new Uint8Array(0);for(var e=new Uint8Array(3*t.length),n=0,r=function(t){e[n++]=t>>>8,e[n++]=255&t},o=0,i=0,a=0;a<t.length;a++){var s=t.charCodeAt(a);s>=32768?(32769==s&&n--,i=0):(0==i?o=s:(r(o<<i|s>>>15-i),o=s&(1<<15-i)-1),15==i?i=0:i+=1)}return e.subarray(0,n)}}(e.BinaryString||(e.BinaryString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(t){t.encodeFromString=function(t,e){var n=t.charCodeAt(e);if(n<55296||n>56319)return n;var r=t.charCodeAt(e+1);if(r>=56320&&r<=57343)return r-56320+(n-55296<<10)+65536;throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(n,", followed by ").concat(r,", which is not a trailing surrogate character code."))},t.decodeToString=function(t){if(t<=65535)return String.fromCharCode(t);if(t<=1114111)return String.fromCharCode(55296+(t-65536>>>10),56320+(t-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"))}}(t.CodePoint||(t.CodePoint={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(t){var e=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];t.encode=function(t){for(var n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n.join(" ")}}(t.DecimalString||(t.DecimalString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(e){e.encode=function(e){return t.BinaryString.encode(e).replace(/\0/g,"")},e.decode=function(e){return t.BinaryString.decode(e.replace(/\u8002/g,"\0"))}}(t.StorageBinaryString||(t.StorageBinaryString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(e){!function(n){var r,o;n.encode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(e,"utf8")):n.createNativeTextEncoderAndDecoderIfAvailable()?r.encode(e):n.encodeWithJS(e):new Uint8Array(0)},n.decode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(e).toString("utf8"):n.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(e):n.decodeWithJS(e):""},n.encodeWithJS=function(t,n){if(!t||0==t.length)return new Uint8Array(0);n||(n=new Uint8Array(4*t.length));for(var r=0,o=0;o<t.length;o++){var i=e.CodePoint.encodeFromString(t,o);if(i<=127)n[r++]=i;else if(i<=2047)n[r++]=192|i>>>6,n[r++]=128|63&i;else if(i<=65535)n[r++]=224|i>>>12,n[r++]=128|i>>>6&63,n[r++]=128|63&i;else{if(!(i<=1114111))throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)");n[r++]=240|i>>>18,n[r++]=128|i>>>12&63,n[r++]=128|i>>>6&63,n[r++]=128|63&i,o++}}return n.subarray(0,r)},n.decodeWithJS=function(e,n,r){if(void 0===n&&(n=0),!e||0==e.length)return"";void 0===r&&(r=e.length);for(var o,i,a=new t.StringBuilder,s=n,u=r;s<u;){if((i=e[s])>>>7==0)o=i,s+=1;else if(i>>>5==6){if(s+1>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(31&i)<<6|63&e[s+1],s+=2}else if(i>>>4==14){if(s+2>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(15&i)<<12|(63&e[s+1])<<6|63&e[s+2],s+=3}else{if(i>>>3!=30)throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+s);if(s+3>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(7&i)<<18|(63&e[s+1])<<12|(63&e[s+2])<<6|63&e[s+3],s+=4}a.appendCodePoint(o)}return a.getOutputString()},n.createNativeTextEncoderAndDecoderIfAvailable=function(){return!!r||"function"==typeof TextEncoder&&(r=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0)}}(e.UTF8||(e.UTF8={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){t.compress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("compress: undefined or null input received");var r=t.CompressionCommon.detectCompressionSourceEncoding(e);n=t.ObjectTools.override({inputEncoding:r,outputEncoding:"ByteArray"},n);var o=(new t.Compressor).compressBlock(e);return t.CompressionCommon.encodeCompressedBytes(o,n.outputEncoding)},t.decompress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("decompress: undefined or null input received");n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},n);var r=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding),o=(new t.Decompressor).decompressBlock(r);return t.CompressionCommon.encodeDecompressedBytes(o,n.outputEncoding)},t.compressAsync=function(e,n,r){var o;null==r&&(r=function(){});try{o=t.CompressionCommon.detectCompressionSourceEncoding(e)}catch(t){return void r(void 0,t)}n=t.ObjectTools.override({inputEncoding:o,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},n),t.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.compressAsync(e,n,r):t.AsyncCompressor.compressAsync(e,n,r)}))},t.decompressAsync=function(e,n,r){if(null==r&&(r=function(){}),null!=e){n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},n);var o=t.BufferTools.convertToUint8ArrayIfNeeded(e);t.EventLoop.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.decompressAsync(o,n,r):t.AsyncDecompressor.decompressAsync(e,n,r)}))}else r(void 0,new TypeError("decompressAsync: undefined or null input received"))},t.createCompressionStream=function(){return t.AsyncCompressor.createCompressionStream()},t.createDecompressionStream=function(){return t.AsyncDecompressor.createDecompressionStream()},t.encodeUTF8=function(e){return t.Encoding.UTF8.encode(e)},t.decodeUTF8=function(e){return t.Encoding.UTF8.decode(e)},t.encodeBase64=function(e){return t.Encoding.Base64.encode(e)},t.decodeBase64=function(e){return t.Encoding.Base64.decode(e)},t.encodeBinaryString=function(e){return t.Encoding.BinaryString.encode(e)},t.decodeBinaryString=function(e){return t.Encoding.BinaryString.decode(e)},t.encodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.encode(e)},t.decodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.decode(e)}}(o||(o={}))},374:(t,e,n)=>{const{AbortError:r,codes:o}=n(141),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=n(132),u=n(86),{ERR_INVALID_ARG_TYPE:l}=o;t.exports.addAbortSignal=function(e,n){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!i(n)&&!a(n))throw new l("stream",["ReadableStream","WritableStream","Stream"],n);return t.exports.addAbortSignalNoValidate(e,n)},t.exports.addAbortSignalNoValidate=function(t,e){if("object"!=typeof t||!("aborted"in t))return e;const n=i(e)?()=>{e.destroy(new r(void 0,{cause:t.reason}))}:()=>{e[s](new r(void 0,{cause:t.reason}))};return t.aborted?n():(t.addEventListener("abort",n),u(e,(()=>t.removeEventListener("abort",n)))),e}},616:(t,e,n)=>{const{StringPrototypeSlice:r,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:a}=n(191),{Buffer:s}=n(485),{inspect:u}=n(775);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,n=""+e.data;for(;null!==(e=e.next);)n+=t+e.data;return n}concat(t){if(0===this.length)return s.alloc(0);const e=s.allocUnsafe(t>>>0);let n=this.head,r=0;for(;n;)i(e,n.data,r),r+=n.data.length,n=n.next;return e}consume(t,e){const n=this.head.data;if(t<n.length){const e=n.slice(0,t);return this.head.data=n.slice(t),e}return t===n.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[o](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",n=this.head,o=0;do{const i=n.data;if(!(t>i.length)){t===i.length?(e+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(e+=r(i,0,t),this.head=n,n.data=r(i,t));break}e+=i,t-=i.length,++o}while(null!==(n=n.next));return this.length-=o,e}_getBuffer(t){const e=s.allocUnsafe(t),n=t;let r=this.head,o=0;do{const s=r.data;if(!(t>s.length)){t===s.length?(i(e,s,n-t),++o,r.next?this.head=r.next:this.head=this.tail=null):(i(e,new a(s.buffer,s.byteOffset,t),n-t),this.head=r,r.data=s.slice(t));break}i(e,s,n-t),t-=s.length,++o}while(null!==(r=r.next));return this.length-=o,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return u(this,{...e,depth:0,customInspect:!1})}}},818:(t,e,n)=>{const{pipeline:r}=n(754),o=n(182),{destroyer:i}=n(230),{isNodeStream:a,isReadable:s,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:f,isReadableStream:d}=n(132),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=n(141),y=n(86);t.exports=function(...t){if(0===t.length)throw new g("streams");if(1===t.length)return o.from(t[0]);const e=[...t];if("function"==typeof t[0]&&(t[0]=o.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=o.from(t[e])}for(let n=0;n<t.length;++n)if(a(t[n])||l(t[n])){if(n<t.length-1&&!(s(t[n])||d(t[n])||c(t[n])))throw new p(`streams[${n}]`,e[n],"must be readable");if(n>0&&!(u(t[n])||f(t[n])||c(t[n])))throw new p(`streams[${n}]`,e[n],"must be writable")}let n,m,v,b,w;const _=t[0],E=r(t,(function(t){const e=b;b=null,e?e(t):t?w.destroy(t):A||S||w.destroy()})),S=!!(u(_)||f(_)||c(_)),A=!!(s(E)||d(E)||c(E));if(w=new o({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==E||!E.writableObjectMode),writable:S,readable:A}),S){if(a(_))w._write=function(t,e,r){_.write(t,e)?r():n=r},w._final=function(t){_.end(),m=t},_.on("drain",(function(){if(n){const t=n;n=null,t()}}));else if(l(_)){const t=(c(_)?_.writable:_).getWriter();w._write=async function(e,n,r){try{await t.ready,t.write(e).catch((()=>{})),r()}catch(t){r(t)}},w._final=async function(e){try{await t.ready,t.close().catch((()=>{})),m=e}catch(t){e(t)}}}const t=c(E)?E.readable:E;y(t,(()=>{if(m){const t=m;m=null,t()}}))}if(A)if(a(E))E.on("readable",(function(){if(v){const t=v;v=null,t()}})),E.on("end",(function(){w.push(null)})),w._read=function(){for(;;){const t=E.read();if(null===t)return void(v=w._read);if(!w.push(t))return}};else if(l(E)){const t=(c(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{const{value:e,done:n}=await t.read();if(!w.push(e))return;if(n)return void w.push(null)}catch{return}}}return w._destroy=function(t,e){t||null===b||(t=new h),v=null,n=null,m=null,null===b?e(t):(b=e,a(E)&&i(E,t))},w}},230:(t,e,n)=>{const r=n(533),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:a}=n(141),{Symbol:s}=n(191),{kDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:f}=n(132),d=s("kDestroy"),h=s("kConstruct");function p(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function g(t,e,n){let o=!1;function i(e){if(o)return;o=!0;const i=t._readableState,a=t._writableState;p(e,a,i),a&&(a.closed=!0),i&&(i.closed=!0),"function"==typeof n&&n(e),e?r.nextTick(y,t,e):r.nextTick(m,t)}try{t._destroy(e||null,i)}catch(e){i(e)}}function y(t,e){v(t,e),m(t)}function m(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=n&&n.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function v(t,e){const n=t._readableState,r=t._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function b(t,e,n){const o=t._readableState,i=t._writableState;if(null!=i&&i.destroyed||null!=o&&o.destroyed)return this;null!=o&&o.autoDestroy||null!=i&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),o&&!o.errored&&(o.errored=e),n?r.nextTick(v,t,e):v(t,e))}function w(t){let e=!1;function n(n){if(e)return void b(t,null!=n?n:new i);e=!0;const o=t._readableState,a=t._writableState,s=a||o;o&&(o.constructed=!0),a&&(a.constructed=!0),s.destroyed?t.emit(d,n):n?b(t,n,!0):r.nextTick(_,t)}try{t._construct((t=>{r.nextTick(n,t)}))}catch(t){r.nextTick(n,t)}}function _(t){t.emit(h)}function E(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function S(t){t.emit("close")}function A(t,e){t.emit("error",e),r.nextTick(S,t)}t.exports={construct:function(t,e){if("function"!=typeof t._construct)return;const n=t._readableState,o=t._writableState;n&&(n.constructed=!1),o&&(o.constructed=!1),t.once(h,e),t.listenerCount(h)>1||r.nextTick(w,t)},destroyer:function(t,e){t&&!l(t)&&(e||c(t)||(e=new a),f(t)?(t.socket=null,t.destroy(e)):E(t)?t.abort():E(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(e):"function"==typeof t.close?t.close():e?r.nextTick(A,t,e):r.nextTick(S,t),t.destroyed||(t[u]=!0))},destroy:function(t,e){const n=this._readableState,r=this._writableState,i=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof e&&e(),this):(p(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?g(this,t,e):this.once(d,(function(n){g(this,o(n,t),e)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:b}},182:(t,e,n)=>{const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:a}=n(191);t.exports=l;const s=n(858),u=n(373);a(l.prototype,s.prototype),a(l,s);{const t=i(u.prototype);for(let e=0;e<t.length;e++){const n=t[e];l.prototype[n]||(l.prototype[n]=u.prototype[n])}}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),u.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,f;function d(){return void 0===c&&(c={}),c}r(l.prototype,{writable:{__proto__:null,...o(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(u.prototype,"writableLength")},writableFinished:{__proto__:null,...o(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),l.fromWeb=function(t,e){return d().newStreamDuplexFromReadableWritablePair(t,e)},l.toWeb=function(t){return d().newReadableWritablePairFromDuplex(t)},l.from=function(t){return f||(f=n(749)),f(t,"body")}},749:(t,e,n)=>{const r=n(533),o=n(485),{isReadable:i,isWritable:a,isIterable:s,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:f}=n(132),d=n(86),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=n(141),{destroyer:y}=n(230),m=n(182),v=n(858),{createDeferredPromise:b}=n(775),w=n(913),_=globalThis.Blob||o.Blob,E=void 0!==_?function(t){return t instanceof _}:function(t){return!1},S=globalThis.AbortController||n(876).AbortController,{FunctionPrototypeCall:A}=n(191);class I extends m{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(t){const e=t.readable&&"function"!=typeof t.readable.read?v.wrap(t.readable):t.readable,n=t.writable;let r,o,s,u,l,c=!!i(e),f=!!a(n);function p(t){const e=u;u=null,e?e(t):t&&l.destroy(t)}return l=new I({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:c,writable:f}),f&&(d(n,(t=>{f=!1,t&&y(e,t),p(t)})),l._write=function(t,e,o){n.write(t,e)?o():r=o},l._final=function(t){n.end(),o=t},n.on("drain",(function(){if(r){const t=r;r=null,t()}})),n.on("finish",(function(){if(o){const t=o;o=null,t()}}))),c&&(d(e,(t=>{c=!1,t&&y(e,t),p(t)})),e.on("readable",(function(){if(s){const t=s;s=null,t()}})),e.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const t=e.read();if(null===t)return void(s=l._read);if(!l.push(t))return}}),l._destroy=function(t,i){t||null===u||(t=new h),s=null,r=null,o=null,null===u?i(t):(u=i,y(n,t),y(e,t))},l}t.exports=function t(e,n){if(f(e))return e;if(l(e))return T({readable:e});if(c(e))return T({writable:e});if(u(e))return T({writable:!1,readable:!1});if("function"==typeof e){const{value:t,write:o,final:i,destroy:a}=function(t){let{promise:e,resolve:n}=b();const o=new S,i=o.signal,a=t(async function*(){for(;;){const t=e;e=null;const{chunk:o,done:a,cb:s}=await t;if(r.nextTick(s),a)return;if(i.aborted)throw new h(void 0,{cause:i.reason});({promise:e,resolve:n}=b()),yield o}}(),{signal:i});return{value:a,write(t,e,r){const o=n;n=null,o({chunk:t,done:!1,cb:r})},final(t){const e=n;n=null,e({done:!0,cb:t})},destroy(t,e){o.abort(),e(t)}}}(e);if(s(t))return w(I,t,{objectMode:!0,write:o,final:i,destroy:a});const u=null==t?void 0:t.then;if("function"==typeof u){let e;const n=A(u,t,(t=>{if(null!=t)throw new g("nully","body",t)}),(t=>{y(e,t)}));return e=new I({objectMode:!0,readable:!1,write:o,final(t){i((async()=>{try{await n,r.nextTick(t,null)}catch(e){r.nextTick(t,e)}}))},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",n,t)}if(E(e))return t(e.arrayBuffer());if(s(e))return w(I,e,{objectMode:!0,writable:!1});if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable)){return T({readable:null!=e&&e.readable?l(null==e?void 0:e.readable)?null==e?void 0:e.readable:t(e.readable):void 0,writable:null!=e&&e.writable?c(null==e?void 0:e.writable)?null==e?void 0:e.writable:t(e.writable):void 0})}const o=null==e?void 0:e.then;if("function"==typeof o){let t;return A(o,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{y(t,e)})),t=new I({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)}},86:(t,e,n)=>{const r=n(533),{AbortError:o,codes:i}=n(141),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:u,once:l}=n(775),{validateAbortSignal:c,validateFunction:f,validateObject:d,validateBoolean:h}=n(904),{Promise:p,PromisePrototypeThen:g}=n(191),{isClosed:y,isReadable:m,isReadableNodeStream:v,isReadableStream:b,isReadableFinished:w,isReadableErrored:_,isWritable:E,isWritableNodeStream:S,isWritableStream:A,isWritableFinished:I,isWritableErrored:T,isNodeStream:R,willEmitClose:x,kIsClosedPromise:C}=n(132);const B=()=>{};function k(t,e,n){var i,h;if(2===arguments.length?(n=e,e=u):null==e?e=u:d(e,"options"),f(n,"callback"),c(e.signal,"options.signal"),n=l(n),b(t)||A(t))return function(t,e,n){let i=!1,a=B;if(e.signal)if(a=()=>{i=!0,n.call(t,new o(void 0,{cause:e.signal.reason}))},e.signal.aborted)r.nextTick(a);else{const r=n;n=l(((...n)=>{e.signal.removeEventListener("abort",a),r.apply(t,n)})),e.signal.addEventListener("abort",a)}const s=(...e)=>{i||r.nextTick((()=>n.apply(t,e)))};return g(t[C].promise,s,s),B}(t,e,n);if(!R(t))throw new a("stream",["ReadableStream","WritableStream","Stream"],t);const p=null!==(i=e.readable)&&void 0!==i?i:v(t),k=null!==(h=e.writable)&&void 0!==h?h:S(t),L=t._writableState,O=t._readableState,U=()=>{t.writable||M()};let j=x(t)&&v(t)===p&&S(t)===k,N=I(t,!1);const M=()=>{N=!0,t.destroyed&&(j=!1),(!j||t.readable&&!p)&&(p&&!P||n.call(t))};let P=w(t,!1);const W=()=>{P=!0,t.destroyed&&(j=!1),(!j||t.writable&&!k)&&(k&&!N||n.call(t))},$=e=>{n.call(t,e)};let D=y(t);const F=()=>{D=!0;const e=T(t)||_(t);return e&&"boolean"!=typeof e?n.call(t,e):p&&!P&&v(t,!0)&&!w(t,!1)?n.call(t,new s):!k||N||I(t,!1)?void n.call(t):n.call(t,new s)},z=()=>{D=!0;const e=T(t)||_(t);if(e&&"boolean"!=typeof e)return n.call(t,e);n.call(t)},q=()=>{t.req.on("finish",M)};!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?k&&!L&&(t.on("end",U),t.on("close",U)):(t.on("complete",M),j||t.on("abort",F),t.req?q():t.on("request",q)),j||"boolean"!=typeof t.aborted||t.on("aborted",F),t.on("end",W),t.on("finish",M),!1!==e.error&&t.on("error",$),t.on("close",F),D?r.nextTick(F):null!=L&&L.errorEmitted||null!=O&&O.errorEmitted?j||r.nextTick(z):(p||j&&!m(t)||!N&&!1!==E(t))&&(k||j&&!E(t)||!P&&!1!==m(t))?O&&t.req&&t.aborted&&r.nextTick(z):r.nextTick(z);const H=()=>{n=B,t.removeListener("aborted",F),t.removeListener("complete",M),t.removeListener("abort",F),t.removeListener("request",q),t.req&&t.req.removeListener("finish",M),t.removeListener("end",U),t.removeListener("close",U),t.removeListener("finish",M),t.removeListener("end",W),t.removeListener("error",$),t.removeListener("close",F)};if(e.signal&&!D){const i=()=>{const r=n;H(),r.call(t,new o(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)r.nextTick(i);else{const r=n;n=l(((...n)=>{e.signal.removeEventListener("abort",i),r.apply(t,n)})),e.signal.addEventListener("abort",i)}}return H}t.exports=k,t.exports.finished=function(t,e){var n;let r=!1;return null===e&&(e=u),null!==(n=e)&&void 0!==n&&n.cleanup&&(h(e.cleanup,"cleanup"),r=e.cleanup),new p(((n,o)=>{const i=k(t,e,(t=>{r&&i(),t?o(t):n()}))}))}},913:(t,e,n)=>{const r=n(533),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:a}=n(191),{Buffer:s}=n(485),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=n(141).codes;t.exports=function(t,e,n){let c,f;if("string"==typeof e||e instanceof s)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});if(e&&e[i])f=!0,c=e[i]();else{if(!e||!e[a])throw new u("iterable",["Iterable"],e);f=!1,c=e[a]()}const d=new t({objectMode:!0,highWaterMark:1,...n});let h=!1;return d._read=function(){h||(h=!0,async function(){for(;;){try{const{value:t,done:e}=f?await c.next():c.next();if(e)d.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw h=!1,new l;if(d.push(e))continue;h=!1}}catch(t){d.destroy(t)}break}}())},d._destroy=function(t,e){o(async function(t){const e=null!=t,n="function"==typeof c.throw;if(e&&n){const{value:e,done:n}=await c.throw(t);if(await e,n)return}if("function"==typeof c.return){const{value:t}=await c.return();await t}}(t),(()=>r.nextTick(e,t)),(n=>r.nextTick(e,n||t)))},d}},200:(t,e,n)=>{const{ArrayIsArray:r,ObjectSetPrototypeOf:o}=n(191),{EventEmitter:i}=n(465);function a(t){i.call(this,t)}function s(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}o(a.prototype,i.prototype),o(a,i),a.prototype.pipe=function(t,e){const n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",u),n.on("close",l));let a=!1;function u(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){f(),0===i.listenerCount(this,"error")&&this.emit("error",t)}function f(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",u),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return s(n,"error",c),s(t,"error",c),n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t},t.exports={Stream:a,prependListener:s}},554:(t,e,n)=>{const r=globalThis.AbortController||n(876).AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:u}=n(141),{validateAbortSignal:l,validateInteger:c,validateObject:f}=n(904),d=n(191).Symbol("kWeak"),{finished:h}=n(86),p=n(818),{addAbortSignalNoValidate:g}=n(374),{isWritable:y,isNodeStream:m}=n(132),{ArrayPrototypePush:v,MathFloor:b,Number:w,NumberIsNaN:_,Promise:E,PromiseReject:S,PromisePrototypeThen:A,Symbol:I}=n(191),T=I("kEmpty"),R=I("kEof");function x(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");let n=1;return null!=(null==e?void 0:e.concurrency)&&(n=b(e.concurrency)),c(n,"concurrency",1),async function*(){var o,i;const a=new r,s=this,l=[],c=a.signal,f={signal:c},d=()=>a.abort();let h,p;null!=e&&null!==(o=e.signal)&&void 0!==o&&o.aborted&&d(),null==e||null===(i=e.signal)||void 0===i||i.addEventListener("abort",d);let g=!1;function y(){g=!0}!async function(){try{for await(let e of s){var r;if(g)return;if(c.aborted)throw new u;try{e=t(e,f)}catch(t){e=S(t)}e!==T&&("function"==typeof(null===(r=e)||void 0===r?void 0:r.catch)&&e.catch(y),l.push(e),h&&(h(),h=null),!g&&l.length&&l.length>=n&&await new E((t=>{p=t})))}l.push(R)}catch(t){const e=S(t);A(e,void 0,y),l.push(e)}finally{var o;g=!0,h&&(h(),h=null),null==e||null===(o=e.signal)||void 0===o||o.removeEventListener("abort",d)}}();try{for(;;){for(;l.length>0;){const t=await l[0];if(t===R)return;if(c.aborted)throw new u;t!==T&&(yield t),l.shift(),p&&(p(),p=null)}await new E((t=>{h=t}))}}finally{a.abort(),g=!0,p&&(p(),p=null)}}.call(this)}async function C(t,e=void 0){for await(const n of B.call(this,t,e))return!0;return!1}function B(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);return x.call(this,(async function(e,n){return await t(e,n)?e:T}),e)}class k extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function L(t){if(t=w(t),_(t))return 0;if(t<0)throw new s("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:function(t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),async function*(){let e=0;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new u({cause:t.signal.reason});yield[e++,r]}}.call(this)},drop:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new u;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u;t--<=0&&(yield n)}}.call(this)},filter:B,flatMap:function(t,e){const n=x.call(this,t,e);return async function*(){for await(const t of n)yield*t}.call(this)},map:x,take:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new u;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u;if(!(t-- >0))return;yield n}}.call(this)},compose:function(t,e){if(null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),m(t)&&!y(t))throw new o("stream",t,"must be writable");const n=p(this,t);return null!=e&&e.signal&&g(e.signal,n),n}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);return!await C.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);for await(const n of x.call(this,(async function(e,n){return await t(e,n),T}),e));},reduce:async function(t,e,n){var o;if("function"!=typeof t)throw new i("reducer",["Function","AsyncFunction"],t);null!=n&&f(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let a=arguments.length>1;if(null!=n&&null!==(o=n.signal)&&void 0!==o&&o.aborted){const t=new u(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(t)),t}const s=new r,c=s.signal;if(null!=n&&n.signal){const t={once:!0,[d]:this};n.signal.addEventListener("abort",(()=>s.abort()),t)}let p=!1;try{for await(const r of this){var g;if(p=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new u;a?e=await t(e,r,{signal:c}):(e=r,a=!0)}if(!p&&!a)throw new k}finally{s.abort()}return e},toArray:async function(t){null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");const e=[];for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new u(void 0,{cause:t.signal.reason});v(e,r)}return e},some:C,find:async function(t,e){for await(const n of B.call(this,t,e))return n}}},467:(t,e,n)=>{const{ObjectSetPrototypeOf:r}=n(191);t.exports=i;const o=n(210);function i(t){if(!(this instanceof i))return new i(t);o.call(this,t)}r(i.prototype,o.prototype),r(i,o),i.prototype._transform=function(t,e,n){n(null,t)}},754:(t,e,n)=>{const r=n(533),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:a}=n(191),s=n(86),{once:u}=n(775),l=n(230),c=n(182),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:m}=n(141),{validateFunction:v,validateAbortSignal:b}=n(904),{isIterable:w,isReadable:_,isReadableNodeStream:E,isNodeStream:S,isTransformStream:A,isWebStream:I,isReadableStream:T,isReadableEnded:R}=n(132),x=globalThis.AbortController||n(876).AbortController;let C,B;function k(t,e,n){let r=!1;t.on("close",(()=>{r=!0}));return{destroy:e=>{r||(r=!0,l.destroyer(t,e||new g("pipe")))},cleanup:s(t,{readable:e,writable:n},(t=>{r=!t}))}}function L(t){if(w(t))return t;if(E(t))return async function*(t){B||(B=n(858));yield*B.prototype[a].call(t)}(t);throw new d("val",["Readable","Iterable","AsyncIterable"],t)}async function O(t,e,n,{end:r}){let o,a=null;const u=t=>{if(t&&(o=t),a){const t=a;a=null,t()}},l=()=>new i(((t,e)=>{o?e(o):a=()=>{o?e(o):t()}}));e.on("drain",u);const c=s(e,{readable:!1},u);try{e.writableNeedDrain&&await l();for await(const n of t)e.write(n)||await l();r&&e.end(),await l(),n()}catch(t){n(o!==t?f(o,t):t)}finally{c(),e.off("drain",u)}}async function U(t,e,n,{end:r}){A(e)&&(e=e.writable);const o=e.getWriter();try{for await(const e of t)await o.ready,o.write(e).catch((()=>{}));await o.ready,r&&await o.close(),n()}catch(t){try{await o.abort(t),n(t)}catch(t){n(t)}}}function j(t,e,i){if(1===t.length&&o(t[0])&&(t=t[0]),t.length<2)throw new p("streams");const a=new x,s=a.signal,u=null==i?void 0:i.signal,l=[];function f(){M(new m)}let g,y;b(u,"options.signal"),null==u||u.addEventListener("abort",f);const v=[];let R,B=0;function j(t){M(t,0==--B)}function M(t,n){if(!t||g&&"ERR_STREAM_PREMATURE_CLOSE"!==g.code||(g=t),g||n){for(;v.length;)v.shift()(g);null==u||u.removeEventListener("abort",f),a.abort(),n&&(g||l.forEach((t=>t())),r.nextTick(e,g,y))}}for(let D=0;D<t.length;D++){const F=t[D],z=D<t.length-1,q=D>0,H=z||!1!==(null==i?void 0:i.end),V=D===t.length-1;if(S(F)){if(H){const{destroy:G,cleanup:J}=k(F,z,q);v.push(G),_(F)&&V&&l.push(J)}function P(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&j(t)}F.on("error",P),_(F)&&V&&l.push((()=>{F.removeListener("error",P)}))}if(0===D)if("function"==typeof F){if(R=F({signal:s}),!w(R))throw new h("Iterable, AsyncIterable or Stream","source",R)}else R=w(F)||E(F)||A(F)?F:c.from(F);else if("function"==typeof F){var W;if(A(R))R=L(null===(W=R)||void 0===W?void 0:W.readable);else R=L(R);if(R=F(R,{signal:s}),z){if(!w(R,!0))throw new h("AsyncIterable",`transform[${D-1}]`,R)}else{var $;C||(C=n(467));const Y=new C({objectMode:!0}),K=null===($=R)||void 0===$?void 0:$.then;if("function"==typeof K)B++,K.call(R,(t=>{y=t,null!=t&&Y.write(t),H&&Y.end(),r.nextTick(j)}),(t=>{Y.destroy(t),r.nextTick(j,t)}));else if(w(R,!0))B++,O(R,Y,j,{end:H});else{if(!T(R)&&!A(R))throw new h("AsyncIterable or Promise","destination",R);{const Q=R.readable||R;B++,O(Q,Y,j,{end:H})}}R=Y;const{destroy:X,cleanup:Z}=k(R,!1,!0);v.push(X),V&&l.push(Z)}}else if(S(F)){if(E(R)){B+=2;const tt=N(R,F,j,{end:H});_(F)&&V&&l.push(tt)}else if(A(R)||T(R)){const et=R.readable||R;B++,O(et,F,j,{end:H})}else{if(!w(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,O(R,F,j,{end:H})}R=F}else if(I(F)){if(E(R))B++,U(L(R),F,j,{end:H});else if(T(R)||w(R))B++,U(R,F,j,{end:H});else{if(!A(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,U(R.readable,F,j,{end:H})}R=F}else R=c.from(F)}return(null!=s&&s.aborted||null!=u&&u.aborted)&&r.nextTick(f),R}function N(t,e,n,{end:o}){let i=!1;if(e.on("close",(()=>{i||n(new y)})),t.pipe(e,{end:!1}),o){function a(){i=!0,e.end()}R(t)?r.nextTick(a):t.once("end",a)}else n();return s(t,{readable:!0,writable:!1},(e=>{const r=t._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?t.once("end",n).once("error",n):n(e)})),s(e,{readable:!1,writable:!0},n)}t.exports={pipelineImpl:j,pipeline:function(...t){return j(t,u(function(t){return v(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}},858:(t,e,n)=>{const r=n(533),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:f,SafeSet:d,SymbolAsyncIterator:h,Symbol:p}=n(191);t.exports=W,W.ReadableState=P;const{EventEmitter:g}=n(465),{Stream:y,prependListener:m}=n(200),{Buffer:v}=n(485),{addAbortSignal:b}=n(374),w=n(86);let _=n(775).debuglog("stream",(t=>{_=t}));const E=n(616),S=n(230),{getHighWaterMark:A,getDefaultHighWaterMark:I}=n(498),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:k}}=n(141),{validateObject:L}=n(904),O=p("kPaused"),{StringDecoder:U}=n(464),j=n(913);c(W.prototype,y.prototype),c(W,y);const N=()=>{},{errorOrDestroy:M}=S;function P(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(182)),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.readableObjectMode)),this.highWaterMark=t?A(this,t,"readableHighWaterMark",r):I(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[O]=null,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new U(t.encoding),this.encoding=t.encoding)}function W(t){if(!(this instanceof W))return new W(t);const e=this instanceof n(182);this._readableState=new P(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&b(t.signal,this)),y.call(this,t),S.construct(this,(()=>{this._readableState.needReadable&&H(this,this._readableState)}))}function $(t,e,n,r){_("readableAddChunk",e);const o=t._readableState;let i;if(o.objectMode||("string"==typeof e?(n=n||o.defaultEncoding,o.encoding!==n&&(r&&o.encoding?e=v.from(e,n).toString(o.encoding):(e=v.from(e,n),n=""))):e instanceof v?n="":y._isUint8Array(e)?(e=y._uint8ArrayToBuffer(e),n=""):null!=e&&(i=new R("chunk",["string","Buffer","Uint8Array"],e))),i)M(t,i);else if(null===e)o.reading=!1,function(t,e){if(_("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?z(t):(e.needReadable=!1,e.emittedReadable=!0,q(t))}(t,o);else if(o.objectMode||e&&e.length>0)if(r)if(o.endEmitted)M(t,new k);else{if(o.destroyed||o.errored)return!1;D(t,o,e,!0)}else if(o.ended)M(t,new B);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?D(t,o,e,!1):H(t,o)):D(t,o,e,!1)}else r||(o.reading=!1,H(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function D(t,e,n,r){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&z(t)),H(t,e)}W.prototype.destroy=S.destroy,W.prototype._undestroy=S.undestroy,W.prototype._destroy=function(t,e){e(t)},W.prototype[g.captureRejectionSymbol]=function(t){this.destroy(t)},W.prototype.push=function(t,e){return $(this,t,e,!1)},W.prototype.unshift=function(t,e){return $(this,t,e,!0)},W.prototype.isPaused=function(){const t=this._readableState;return!0===t[O]||!1===t.flowing},W.prototype.setEncoding=function(t){const e=new U(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const t of n)r+=e.write(t);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};function F(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:a(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function z(t){const e=t._readableState;_("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(_("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(q,t))}function q(t){const e=t._readableState;_("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,K(t)}function H(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,r.nextTick(V,t,e))}function V(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const n=e.length;if(_("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function G(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[O]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function J(t){_("readable nexttick read 0"),t.read(0)}function Y(t,e){_("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),K(t),e.flowing&&!e.reading&&t.read(0)}function K(t){const e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function X(t,e){"function"!=typeof t.read&&(t=W.wrap(t,{objectMode:!0}));const n=async function*(t,e){let n,r=N;function o(e){this===t?(r(),r=N):r=e}t.on("readable",o);const i=w(t,{writable:!1},(t=>{n=t?T(n,t):null,r(),r=N}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(n)throw n;if(null===n)return;await new f(o)}}}catch(t){throw n=T(n,t),n}finally{!n&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==n&&!t._readableState.autoDestroy?(t.off("readable",o),i()):S.destroyer(t,null)}}(t,e);return n.stream=t,n}function Z(t,e){if(0===e.length)return null;let n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}function Q(t){const e=t._readableState;_("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(tt,e,t))}function tt(t,e){if(_("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,e.emit("end"),e.writable&&!1===e.allowHalfOpen)r.nextTick(et,e);else if(t.autoDestroy){const t=e._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&e.destroy()}}function et(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let nt;function rt(){return void 0===nt&&(nt={}),nt}W.prototype.read=function(t){_("read",t),void 0===t?t=NaN:i(t)||(t=s(t,10));const e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new C("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Q(this):z(this),null;if(0===(t=F(t,e))&&e.ended)return 0===e.length&&Q(this),null;let r,o=e.needReadable;if(_("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&(o=!0,_("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(t){M(this,t)}e.sync=!1,e.reading||(t=F(n,e))}return r=t>0?Z(t,e):null,null===r?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Q(this)),null===r||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",r)),r},W.prototype._read=function(t){throw new x("_read()")},W.prototype.pipe=function(t,e){const n=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new d(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(t),_("pipe count=%d opts=%j",o.pipes.length,e);const i=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?s:y;function a(e,r){_("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){_("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),u&&t.removeListener("drain",u);t.removeListener("error",h),t.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",y),n.removeListener("data",f),l=!0,u&&o.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&u()}())}function s(){_("onend"),t.end()}let u;o.endEmitted?r.nextTick(i):n.once("end",i),t.on("unpipe",a);let l=!1;function c(){l||(1===o.pipes.length&&o.pipes[0]===t?(_("false write response, pause",0),o.awaitDrainWriters=t,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(t)&&(_("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(t)),n.pause()),u||(u=function(t,e){return function(){const n=t._readableState;n.awaitDrainWriters===e?(_("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(_("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(n,t),t.on("drain",u))}function f(e){_("ondata");const n=t.write(e);_("dest.write",n),!1===n&&c()}function h(e){if(_("onerror",e),y(),t.removeListener("error",h),0===t.listenerCount("error")){const n=t._writableState||t._readableState;n&&!n.errorEmitted?M(t,e):t.emit("error",e)}}function p(){t.removeListener("finish",g),y()}function g(){_("onfinish"),t.removeListener("close",p),y()}function y(){_("unpipe"),n.unpipe(t)}return n.on("data",f),m(t,"error",h),t.once("close",p),t.once("finish",g),t.emit("pipe",n),!0===t.writableNeedDrain?o.flowing&&c():o.flowing||(_("pipe resume"),n.resume()),t},W.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const n=o(e.pipes,t);return-1===n||(e.pipes.splice(n,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(t,e){const n=y.prototype.on.call(this,t,e),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===t&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,_("on readable",o.length,o.reading),o.length?z(this):o.reading||r.nextTick(J,this))),n},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(t,e){const n=y.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(G,this),n},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(t){const e=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(G,this),e},W.prototype.resume=function(){const t=this._readableState;return t.flowing||(_("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(Y,t,e))}(this,t)),t[O]=!1,this},W.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[O]=!0,this},W.prototype.wrap=function(t){let e=!1;t.on("data",(n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{M(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const n=l(t);for(let e=1;e<n.length;e++){const r=n[e];void 0===this[r]&&"function"==typeof t[r]&&(this[r]=t[r].bind(t))}return this},W.prototype[h]=function(){return X(this)},W.prototype.iterator=function(t){return void 0!==t&&L(t,"options"),X(this,t)},u(W.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),u(P.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[O]},set(t){this[O]=!!t}}}),W._fromList=Z,W.from=function(t,e){return j(W,t,e)},W.fromWeb=function(t,e){return rt().newStreamReadableFromReadableStream(t,e)},W.toWeb=function(t,e){return rt().newReadableStreamFromStreamReadable(t,e)},W.wrap=function(t,e){var n,r;return new W({objectMode:null===(n=null!==(r=t.readableObjectMode)&&void 0!==r?r:t.objectMode)||void 0===n||n,...e,destroy(e,n){S.destroyer(t,e),n(e)}}).wrap(t)}},498:(t,e,n)=>{const{MathFloor:r,NumberIsInteger:o}=n(191),{ERR_INVALID_ARG_VALUE:i}=n(141).codes;function a(t){return t?16:16384}t.exports={getHighWaterMark:function(t,e,n,s){const u=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,s,n);if(null!=u){if(!o(u)||u<0){throw new i(s?`options.${n}`:"options.highWaterMark",u)}return r(u)}return a(t.objectMode)},getDefaultHighWaterMark:a}},210:(t,e,n)=>{const{ObjectSetPrototypeOf:r,Symbol:o}=n(191);t.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:i}=n(141).codes,a=n(182),{getHighWaterMark:s}=n(498);r(l.prototype,a.prototype),r(l,a);const u=o("kCallback");function l(t){if(!(this instanceof l))return new l(t);const e=t?s(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),a.call(this,t),this._readableState.sync=!1,this[u]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function c(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,n)=>{e?t?t(e):this.destroy(e):(null!=n&&this.push(n),this.push(null),t&&t())}))}function f(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(t,e,n){throw new i("_transform()")},l.prototype._write=function(t,e,n){const r=this._readableState,o=this._writableState,i=r.length;this._transform(t,e,((t,e)=>{t?n(t):(null!=e&&this.push(e),o.ended||i===r.length||r.length<r.highWaterMark?n():this[u]=n)}))},l.prototype._read=function(){if(this[u]){const t=this[u];this[u]=null,t()}}},132:(t,e,n)=>{const{Symbol:r,SymbolAsyncIterator:o,SymbolIterator:i,SymbolFor:a}=n(191),s=r("kDestroyed"),u=r("kIsErrored"),l=r("kIsReadable"),c=r("kIsDisturbed"),f=a("nodejs.webstream.isClosedPromise"),d=a("nodejs.webstream.controllerErrorFunction");function h(t,e=!1){var n;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(n=t._readableState)||void 0===n?void 0:n.readable)||t._writableState&&!t._readableState)}function p(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function g(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function y(t){return!(!t||g(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function m(t){return!(!t||g(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function v(t){return!(!t||g(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function b(t){if(!g(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[s]||null!=r&&r.destroyed)}function w(t){if(!p(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function _(t,e){if(!h(t))return null;const n=t._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===e&&!0===n.ended&&0===n.length))}function E(t){return t&&null!=t[l]?t[l]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!b(t)&&(h(t)&&t.readable&&!_(t))}function S(t){return"boolean"!=typeof(null==t?void 0:t.writable)?null:!b(t)&&(p(t)&&t.writable&&!w(t))}function A(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function I(t){return"boolean"==typeof t._sent100&&A(t)}t.exports={kDestroyed:s,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[c])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:c,isErrored:function(t){var e,n,r,o,i,a,s,l,c,f;return!(!t||!(null!==(e=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=t[u])&&void 0!==a?a:t.readableErrored)&&void 0!==i?i:t.writableErrored)&&void 0!==o?o:null===(s=t._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(l=t._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=t._readableState)||void 0===c?void 0:c.errored)&&void 0!==e?e:null===(f=t._writableState)||void 0===f?void 0:f.errored))},kIsErrored:u,isReadable:E,kIsReadable:l,kIsClosedPromise:f,kControllerErrorFunction:d,isClosed:function(t){if(!g(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,n=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==e?void 0:e.closed)||(null==n?void 0:n.closed):"boolean"==typeof t._closed&&A(t)?t._closed:null},isDestroyed:b,isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return g(t)?!!b(t)||(!1===(null==e?void 0:e.readable)||!E(t))&&(!1===(null==e?void 0:e.writable)||!S(t)):null},isIterable:function(t,e){return null!=t&&(!0===e?"function"==typeof t[o]:!1===e?"function"==typeof t[i]:"function"==typeof t[o]||"function"==typeof t[i])},isReadableNodeStream:h,isReadableStream:y,isReadableEnded:function(t){if(!h(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:_,isReadableErrored:function(t){var e,n;return g(t)?t.readableErrored?t.readableErrored:null!==(e=null===(n=t._readableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isNodeStream:g,isWebStream:function(t){return y(t)||m(t)||v(t)},isWritable:S,isWritableNodeStream:p,isWritableStream:m,isWritableEnded:w,isWritableFinished:function(t,e){if(!p(t))return null;if(!0===t.writableFinished)return!0;const n=t._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===e&&!0===n.ended&&0===n.length))},isWritableErrored:function(t){var e,n;return g(t)?t.writableErrored?t.writableErrored:null!==(e=null===(n=t._writableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:I,willEmitClose:function(t){if(!g(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!r&&I(t)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:v}},373:(t,e,n)=>{const r=n(533),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:f,SymbolHasInstance:d}=n(191);t.exports=U,U.WritableState=L;const{EventEmitter:h}=n(465),p=n(200).Stream,{Buffer:g}=n(485),y=n(230),{addAbortSignal:m}=n(374),{getHighWaterMark:v,getDefaultHighWaterMark:b}=n(498),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:x}=n(141).codes,{errorOrDestroy:C}=y;function B(){}l(U.prototype,p.prototype),l(U,p);const k=f("kOnFinished");function L(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(182)),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?v(this,t,"writableHighWaterMark",r):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const o=!(!t||!1!==t.decodeStrings);this.decodeStrings=!o,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=P.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,O(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function O(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function U(t){const e=this instanceof n(182);if(!e&&!a(U,this))return new U(t);this._writableState=new L(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&m(t.signal,this)),p.call(this,t),y.construct(this,(()=>{const t=this._writableState;t.writing||F(this,t),H(this,t)}))}function j(t,e,n,o){const i=t._writableState;if("function"==typeof n)o=n,n=i.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new x(n)}else n=i.defaultEncoding;"function"!=typeof o&&(o=B)}if(null===e)throw new T;if(!i.objectMode)if("string"==typeof e)!1!==i.decodeStrings&&(e=g.from(e,n),n="buffer");else if(e instanceof g)n="buffer";else{if(!p._isUint8Array(e))throw new w("chunk",["string","Buffer","Uint8Array"],e);e=p._uint8ArrayToBuffer(e),n="buffer"}let a;return i.ending?a=new R:i.destroyed&&(a=new A("write")),a?(r.nextTick(o,a),C(t,a,!0),a):(i.pendingcb++,function(t,e,n,r,o){const i=e.objectMode?1:n.length;e.length+=i;const a=e.length<e.highWaterMark;a||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:n,encoding:r,callback:o}),e.allBuffers&&"buffer"!==r&&(e.allBuffers=!1),e.allNoop&&o!==B&&(e.allNoop=!1)):(e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,t._write(n,r,e.onwrite),e.sync=!1);return a&&!e.errored&&!e.destroyed}(t,i,e,n,o))}function N(t,e,n,r,o,i,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new A("write")):n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function M(t,e,n,r){--e.pendingcb,r(n),D(e),C(t,n)}function P(t,e){const n=t._writableState,o=n.sync,i=n.writecb;"function"==typeof i?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,e?(e.stack,n.errored||(n.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),o?r.nextTick(M,t,n,e,i):M(t,n,e,i)):(n.buffered.length>n.bufferedIndex&&F(t,n),o?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===i?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:i,stream:t,state:n},r.nextTick(W,n.afterWriteTickInfo)):$(t,n,1,i))):C(t,new E)}function W({stream:t,state:e,count:n,cb:r}){return e.afterWriteTickInfo=null,$(t,e,n,r)}function $(t,e,n,r){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));n-- >0;)e.pendingcb--,r();e.destroyed&&D(e),H(t,e)}function D(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;const{chunk:r,callback:o}=t.buffered[n],i=t.objectMode?1:r.length;t.length-=i,o(null!==(e=t.errored)&&void 0!==e?e:new A("write"))}const n=t[k].splice(0);for(let e=0;e<n.length;e++){var r;n[e](null!==(r=t.errored)&&void 0!==r?r:new A("end"))}O(t)}function F(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:i}=e,a=n.length-r;if(!a)return;let s=r;if(e.bufferProcessing=!0,a>1&&t._writev){e.pendingcb-=a-1;const r=e.allNoop?B:t=>{for(let e=s;e<n.length;++e)n[e].callback(t)},i=e.allNoop&&0===s?n:o(n,s);i.allBuffers=e.allBuffers,N(t,e,!0,e.length,i,"",r),O(e)}else{do{const{chunk:r,encoding:o,callback:a}=n[s];n[s++]=null;N(t,e,!1,i?1:r.length,r,o,a)}while(s<n.length&&!e.writing);s===n.length?O(e):s>256?(n.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}function z(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function q(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.finalCalled=!0,function(t,e){let n=!1;function o(o){if(n)C(t,null!=o?o:E());else if(n=!0,e.pendingcb--,o){const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t](o);C(t,o,e.sync)}else z(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,r.nextTick(V,t,e))}e.sync=!0,e.pendingcb++;try{t._final(o)}catch(t){o(t)}e.sync=!1}(t,e)))}function H(t,e,n){z(e)&&(q(t,e),0===e.pendingcb&&(n?(e.pendingcb++,r.nextTick(((t,e)=>{z(e)?V(t,e):e.pendingcb--}),t,e)):z(e)&&(e.pendingcb++,V(t,e))))}function V(t,e){e.pendingcb--,e.finished=!0;const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}L.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},s(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(U,d,{__proto__:null,value:function(t){return!!a(this,t)||this===U&&(t&&t._writableState instanceof L)}}),U.prototype.pipe=function(){C(this,new S)},U.prototype.write=function(t,e,n){return!0===j(this,t,e,n)},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||F(this,t))},U.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=c(t)),!g.isEncoding(t))throw new x(t);return this._writableState.defaultEncoding=t,this},U.prototype._write=function(t,e,n){if(!this._writev)throw new _("_write()");this._writev([{chunk:t,encoding:e}],n)},U.prototype._writev=null,U.prototype.end=function(t,e,n){const o=this._writableState;let a;if("function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t){const n=j(this,t,e);n instanceof i&&(a=n)}return o.corked&&(o.corked=1,this.uncork()),a||(o.errored||o.ending?o.finished?a=new I("end"):o.destroyed&&(a=new A("end")):(o.ending=!0,H(this,o,!0),o.ended=!0)),"function"==typeof n&&(a||o.finished?r.nextTick(n,a):o[k].push(n)),this},u(U.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=y.destroy;let J;function Y(){return void 0===J&&(J={}),J}U.prototype.destroy=function(t,e){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[k].length)&&r.nextTick(D,n),G.call(this,t,e),this},U.prototype._undestroy=y.undestroy,U.prototype._destroy=function(t,e){e(t)},U.prototype[h.captureRejectionSymbol]=function(t){this.destroy(t)},U.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},U.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)}},904:(t,e,n)=>{const{ArrayIsArray:r,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:f,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=n(191),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:E}}=n(141),{normalizeEncoding:S}=n(775),{isAsyncFunction:A,isArrayBufferView:I}=n(775).types,T={};const R=/^[0-7]+$/;const x=m(((t,e,n=c,r=l)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);if(t<n||t>r)throw new _(e,`>= ${n} && <= ${r}`,t)})),C=m(((t,e,n=-2147483648,r=2147483647)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);if(t<n||t>r)throw new _(e,`>= ${n} && <= ${r}`,t)})),B=m(((t,e,n=!1)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);const r=n?1:0,o=4294967295;if(t<r||t>o)throw new _(e,`>= ${r} && <= ${o}`,t)}));function k(t,e){if("string"!=typeof t)throw new b(e,"string",t)}const L=m(((t,e,n)=>{if(!o(n,t)){const r=i(a(n,(t=>"string"==typeof t?`'${t}'`:p(t))),", ");throw new w(e,t,"must be one of: "+r)}}));function O(t,e){if("boolean"!=typeof t)throw new b(e,"boolean",t)}function U(t,e,n){return null!=t&&d(t,e)?t[e]:n}const j=m(((t,e,n=null)=>{const o=U(n,"allowArray",!1),i=U(n,"allowFunction",!1);if(!U(n,"nullable",!1)&&null===t||!o&&r(t)||"object"!=typeof t&&(!i||"function"!=typeof t))throw new b(e,"Object",t)})),N=m(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new b(e,"a dictionary",t)})),M=m(((t,e,n=0)=>{if(!r(t))throw new b(e,"Array",t);if(t.length<n){throw new w(e,t,`must be longer than ${n}`)}}));const P=m(((t,e="buffer")=>{if(!I(t))throw new b(e,["Buffer","TypedArray","DataView"],t)}));const W=m(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new b(e,"AbortSignal",t)})),$=m(((t,e)=>{if("function"!=typeof t)throw new b(e,"Function",t)})),D=m(((t,e)=>{if("function"!=typeof t||A(t))throw new b(e,"Function",t)})),F=m(((t,e)=>{if(void 0!==t)throw new b(e,"undefined",t)}));const z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(t,e){if(void 0===t||!h(z,t))throw new w(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,n){if(void 0===t&&(t=n),"string"==typeof t){if(null===h(R,t))throw new w(e,t,"must be a 32-bit unsigned integer or an octal string");t=f(t,8)}return B(t,e),t},validateArray:M,validateStringArray:function(t,e){M(t,e);for(let n=0;n<t.length;n++)k(t[n],`${e}[${n}]`)},validateBooleanArray:function(t,e){M(t,e);for(let n=0;n<t.length;n++)O(t[n],`${e}[${n}]`)},validateBoolean:O,validateBuffer:P,validateDictionary:N,validateEncoding:function(t,e){const n=S(e),r=t.length;if("hex"===n&&r%2!=0)throw new w("encoding",e,`is invalid for data of length ${r}`)},validateFunction:$,validateInt32:C,validateInteger:x,validateNumber:function(t,e,n=void 0,r){if("number"!=typeof t)throw new b(e,"number",t);if(null!=n&&t<n||null!=r&&t>r||(null!=n||null!=r)&&u(t))throw new _(e,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,t)},validateObject:j,validateOneOf:L,validatePlainFunction:D,validatePort:function(t,e="Port",n=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===y(t).length||+t!=+t>>>0||t>65535||0===t&&!n)throw new v(e,t,n);return 0|t},validateSignalName:function(t,e="signal"){if(k(t,e),void 0===T[t]){if(void 0!==T[g(t)])throw new E(t+" (signals must use all capital letters)");throw new E(t)}},validateString:k,validateUint32:B,validateUndefined:F,validateUnion:function(t,e,n){if(!o(n,t))throw new b(e,`('${i(n,"|")}')`,t)},validateAbortSignal:W,validateLinkHeaderValue:function(t){if("string"==typeof t)return q(t,"hints"),t;if(r(t)){const e=t.length;let n="";if(0===e)return n;for(let r=0;r<e;r++){const o=t[r];q(o,"hints"),n+=o,r!==e-1&&(n+=", ")}return n}throw new w("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},99:(t,e,n)=>{const r=n(292),o=n(760),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>o}),t.exports.Stream=r.Stream,t.exports.default=t.exports},141:(t,e,n)=>{const{format:r,inspect:o,AggregateError:i}=n(775),a=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c={};function f(t,e){if(!t)throw new c.ERR_INTERNAL_ASSERTION(e)}function d(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function h(t,e,n){n||(n=Error);class NodeError extends n{constructor(...n){super(function(t,e,n){if("function"==typeof e)return f(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const o=(e.match(/%[dfijoOs]/g)||[]).length;return f(o===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${o}).`),0===n.length?e:r(e,...n)}(t,e,n))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(NodeError.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),NodeError.prototype.code=t,NodeError.prototype[s]=!0,c[t]=NodeError}function p(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class AbortError extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new c.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((t,e,n)=>{f("string"==typeof t,"'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";const i=[],a=[],s=[];for(const t of e)f("string"==typeof t,"All expected entries have to be of type string"),u.includes(t)?i.push(t.toLowerCase()):l.test(t)?a.push(t):(f("object"!==t,'The value "object" should be written as "Object"'),s.push(t));if(a.length>0){const t=i.indexOf("object");-1!==t&&(i.splice(i,t,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const t=i.pop();r+=`one of type ${i.join(", ")}, or ${t}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();r+=`an instance of ${a.join(", ")}, or ${t}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const t=s.pop();r+=`one of ${s.join(", ")}, or ${t}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)r+=`. Received an instance of ${n.constructor.name}`;else{r+=`. Received ${o(n,{depth:-1})}`}}else{let t=o(n,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),r+=`. Received type ${typeof n} (${t})`}return r}),TypeError),h("ERR_INVALID_ARG_VALUE",((t,e,n="is invalid")=>{let r=o(e);r.length>128&&(r=r.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((t,e,n)=>{var r;return`Expected ${t} to be returned from the "${e}" function but got ${null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),h("ERR_MISSING_ARGS",((...t)=>{let e;f(t.length>0,"At least one arg needs to be specified");const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}}return`${e} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((t,e,n)=>{let r;return f(e,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=d(String(n)):"bigint"==typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=d(r)),r+="n"):r=o(n),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError,aggregateTwoErrors:p((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new a([e,t],e.message);return n.code=e.code,n}return t||e})),hideStackFrames:p,codes:c}},191:t=>{t.exports={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,n)=>t.slice(e,n),Error,FunctionPrototypeCall:(t,e,...n)=>t.call(e,...n),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,n)=>Object.defineProperty(t,e,n),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,n)=>t.then(e,n),PromiseReject:t=>Promise.reject(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String,StringPrototypeSlice:(t,e,n)=>t.slice(e,n),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(t,e,n)=>t.set(e,n),Uint8Array}},775:(t,e,n)=>{const r=n(485),o=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||r.Blob,a=void 0!==i?function(t){return t instanceof i}:function(t){return!1};class AggregateError extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let n=0;n<t.length;n++)e+=`    ${t[n].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...n){e||(e=!0,t.apply(this,n))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((n,r)=>{t=n,e=r})),resolve:t,reject:e}},promisify:t=>new Promise(((e,n)=>{t(((t,...r)=>t?n(t):e(...r)))})),debuglog:()=>function(){},format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,n]){const r=e.shift();if("f"===n)return r.toFixed(6);if("j"===n)return JSON.stringify(r);if("s"===n&&"object"==typeof r){return`${r.constructor!==Object?r.constructor.name:""} {}`.trim()}return r.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction:t=>t instanceof o,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:a},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},292:(t,e,n)=>{const{Buffer:r}=n(485),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:a}=n(191),{promisify:{custom:s}}=n(775),{streamReturningOperators:u,promiseReturningOperators:l}=n(554),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=n(141),f=n(818),{pipeline:d}=n(754),{destroyer:h}=n(230),p=n(86),g=n(760),y=n(132),m=t.exports=n(200).Stream;m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.Readable=n(858);for(const w of i(u)){const _=u[w];function v(...t){if(new.target)throw c();return m.Readable.from(a(_,this,t))}o(v,"name",{__proto__:null,value:_.name}),o(v,"length",{__proto__:null,value:_.length}),o(m.Readable.prototype,w,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const E of i(l)){const S=l[E];function v(...t){if(new.target)throw c();return a(S,this,t)}o(v,"name",{__proto__:null,value:S.name}),o(v,"length",{__proto__:null,value:S.length}),o(m.Readable.prototype,E,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}m.Writable=n(373),m.Duplex=n(182),m.Transform=n(210),m.PassThrough=n(467),m.pipeline=d;const{addAbortSignal:b}=n(374);m.addAbortSignal=b,m.finished=p,m.destroy=h,m.compose=f,o(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),o(d,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),o(p,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),m.Stream=m,m._isUint8Array=function(t){return t instanceof Uint8Array},m._uint8ArrayToBuffer=function(t){return r.from(t.buffer,t.byteOffset,t.byteLength)}},760:(t,e,n)=>{const{ArrayPrototypePop:r,Promise:o}=n(191),{isIterable:i,isNodeStream:a,isWebStream:s}=n(132),{pipelineImpl:u}=n(754),{finished:l}=n(86);n(91),t.exports={finished:l,pipeline:function(...t){return new o(((e,n)=>{let o,l;const c=t[t.length-1];if(c&&"object"==typeof c&&!a(c)&&!i(c)&&!s(c)){const e=r(t);o=e.signal,l=e.end}u(t,((t,r)=>{t?n(t):e(r)}),{signal:o,end:l})}))}}},533:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var s,u=[],l=!1,c=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},377:(t,e,n)=>{var r=n(485),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),i(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},464:(t,e,n)=>{var r=n(377).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},i.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=a(e[r]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if(o=a(e[r]),o>=0)return o>0&&(t.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if(o=a(e[r]),o>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},54:(t,e,n)=>{n.d(e,{MS:()=>A,cF:()=>I,AK:()=>T,M_:()=>R,cX:()=>x,BT:()=>InteropError,_W:()=>B,Pg:()=>lt,$j:()=>Y,U$:()=>N,U7:()=>M});var r={d:(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},o={};r.d(o,{MS:()=>ApiError,cF:()=>ApiRequestError,AK:()=>AuthTokenExpiredError,M_:()=>AuthorizationError,cX:()=>InitializationError,Yd:()=>l,nj:()=>NotImplementedError,O4:()=>S,_W:()=>ParameterError,U$:()=>a,U7:()=>s});class ApiError extends Error{constructor(t,e){var n,r;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An unexpected error has occurred"),this.name=this.constructor.name,this.stack=(t?this.stack:null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:this.stack).replace(/^(\w*Error)/,`${this.constructor.name}`)}}class ApiRequestError extends ApiError{constructor(t,e,n){var r;super(t=null!==(r=null!=t?t:null==n?void 0:n.message)&&void 0!==r?r:"An error occurred when executing the API request",n),this.status=e}}class AuthorizationError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An authorization error occurred",e)}}class AuthTokenExpiredError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"The API request failed as the authorization tokens have expired",e)}}class InitializationError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An initialization error occurred",e)}}class NotImplementedError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"The method has not been implemented",e)}}class ParameterError extends ApiError{constructor(t){super(t=null!=t?t:"Invalid parameter detected")}}const i=t=>{let e=fin.Integrations;e||(fin.Integrations={},e=fin.Integrations);let n=e[t];return n||(e[t]={},n=e[t]),n},a=t=>{i(t).loggingEnabled=!1},s=(t,e="0.0.0")=>{i(t).loggingEnabled=!0,console.log(u(t),`v${e}`)},u=t=>`[@openfin/${t.toLowerCase()}]`;class l{constructor(t){this.name=t,this.prefix=u(t),this.isLoggingEnabled=this.isLoggingEnabled.bind(this),this.logError=this.logError.bind(this),this.logInfo=this.logInfo.bind(this),this.logWarning=this.logWarning.bind(this)}isLoggingEnabled(){return i(this.name).loggingEnabled}logError(t){this.isLoggingEnabled()&&(t.innerError?console.error(this.prefix,t,"\n\n(inner)",t.innerError):console.error(this.prefix,t))}logInfo(...t){this.isLoggingEnabled()&&console.log(this.prefix,...t)}logWarning(...t){this.isLoggingEnabled()&&console.warn(this.prefix,...t)}}const c="oauth-api-auth-flow",f=(t,e,n,r,o,i,a,s)=>async u=>{const l=new URL(u);if(0!==l.href.toLowerCase().indexOf(o.toLowerCase()))return!1;if(window.clearInterval(s),window.clearTimeout(e),window.clearTimeout(n),t.removeAllListeners(),t.close(!0),l.searchParams.get("error")){const t=new ApiError("Authorization error");return t.data=l.toString(),a(t),!0}if(l.searchParams.get("state")!==r){const t=new ApiError("State mismatch");return t.data=l.toString(),a(t),!0}const c=l.searchParams.get("code");if(!c){const t=new ApiError("Authorization code missing");return t.data=l.toString(),a(t),!0}return i(c),!0},d=(t,e,n,r)=>async(o,i)=>{let a;const s=window.setTimeout((()=>{window.clearInterval(a),window.clearTimeout(s),t.removeAllListeners(),t.close(!0),i(new ApiError("Authorization timed out"))}),3e5);t.addListener("closing",(async()=>{r.logInfo("User closed auth window"),window.clearInterval(a),window.clearTimeout(s),t.removeAllListeners(),i(new ApiError("Failed to complete authorization code flow"))}));const u=window.setTimeout((async()=>{try{await t.isShowing()||(r.logInfo("Showing auth window"),await t.show(!0),await t.focus())}catch(t){r.logWarning("Unable to show auth window")}}),2e3),{version:l}=await fin.System.getRuntimeInfo();parseInt(l.split(".")[0],10)>=30?await f(t,s,u,e,n,o,i)((await t.getInfo()).url)||await t.addListener("url-changed",(a=>{r.logInfo("Auth window navigated to",a.url),f(t,s,u,e,n,o,i)(a.url)})):a=window.setInterval((()=>(async(t,e,n,r,o,i,a,s)=>{let u;try{u=await t.getInfo()}catch(t){return window.clearInterval(e),window.clearTimeout(n),window.clearTimeout(r),s(new ApiError("Could not locate auth window")),!1}return f(t,n,r,o,i,a,s,e)(u.url)})(t,a,s,u,e,n,o,i)),500)},h=()=>{let t,e,n,r;const o=async(e,n=!1)=>{const{command:r,data:a,id:s}=e,u={command:r,id:s};try{if(!t)throw new Error("Access token not found");const{apiRequestUrl:r,data:s,headers:l,httpMethod:c,includeAuthorization:f}=a,d=await(async(e,n,r,o,i)=>{var a,s;const u=Object.assign({Accept:"application/json"},o);"PATCH"!==n&&"POST"!==n&&"PUT"!==n||/content-type/i.test(Object.keys(u).join(","))||(u["Content-Type"]="application/json"),i&&(u.Authorization=`Bearer ${t}`);const l=await fetch(e,{body:"object"==typeof r?JSON.stringify(r):r,headers:u,method:n});if(!l.ok){const t={message:"Failed to execute API request"};return(null===(a=l.headers.get("Content-Type"))||void 0===a?void 0:a.includes("application/json"))&&(t.data=await l.json()),[l.status,void 0,void 0,t]}let c;const f=null!==(s=l.headers.get("Content-Type"))&&void 0!==s?s:"";switch(!0){case!f:break;case/^application\/(\w+\+)?json/i.test(f):c=await l.json();break;case/^multipart\/form-?data|^application\/x-?www-?form-?urlencoded/i.test(f):c=await l.formData();break;case/^application\/(([^/]+)?xml|vnd\.openxmlformats)|^text\/|^image\/svg/i.test(f):c=await l.text();break;default:c=await l.arrayBuffer()}return[l.status,c,f,void 0]})(r,c,s,l,f),[h,p,g,y]=d;if(u.status=h,y){if(!n&&401===h){const[t,n]=await i();return n?(u.status=t,u.error=n,u):await o(e,!0)}u.error=y}else p&&(u.data=p,u.type=g)}catch(t){t instanceof Error?u.error={message:t.message}:u.error={message:"Failed to execute API request"}}return Promise.resolve(u)},i=async()=>{var o;if(!n)throw new Error("Authorization server metadata not set");if(!e)throw new Error("Client ID not set");const i=`grant_type=refresh_token&client_id=${e}&refresh_token=${r}`,a=await fetch(n.token_endpoint,{body:i,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(!a.ok){const t={message:"Failed to refresh access token"};return(null===(o=a.headers.get("Content-Type"))||void 0===o?void 0:o.includes("application/json"))&&(t.data=await a.json()),[a.status,t]}const s=await a.json();return t=s.access_token,[a.status]};self.onmessage=async i=>{const{command:a,id:s}=i.data;let u={command:a,id:s};switch(a){case"API_REQUEST":u=await o(i.data);break;case"CODE_EXCHANGE":u=await(async o=>{var i;const{command:a,data:s,id:u}=o,l={command:a,id:u};try{if(!n)throw new Error("Authorization server metadata not set");if(!e)throw new Error("Client ID not set");const{code:o,codeVerifier:a,redirectUri:u}=s,c=`grant_type=authorization_code&client_id=${e}&code=${o}&code_verifier=${a}&redirect_uri=${u}`,f=await fetch(n.token_endpoint,{body:c,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(f.ok){const e=await f.json();t=e.access_token,r=e.refresh_token}else{const t={message:"Failed to retrieve tokens"};(null===(i=f.headers.get("Content-Type"))||void 0===i?void 0:i.includes("application/json"))&&(t.data=await f.json()),l.error=t}}catch(t){t instanceof Error?l.error={message:t.message}:l.error={message:"Failed to retrieve tokens"}}return Promise.resolve(l)})(i.data);break;case"EXPIRE_TOKENS":u=await(async e=>{var o;const{command:i,expireAccessTokenOnly:a,id:s}=e,u={command:i,id:s};try{if(!a&&!r)throw new Error("Refresh token not found");if(!n)throw new Error("Authorization server metadata not set");if(!n.revocation_endpoint)throw new Error("Revocation endpoint missing in authorization server metadata");const e=a?t:r,i=await fetch(`${n.revocation_endpoint}?token=${e}`,{headers:{Accept:"application/json"}});if(!i.ok){const t={message:"Failed to revoke tokens"};(null===(o=i.headers.get("Content-Type"))||void 0===o?void 0:o.includes("application/json"))&&(t.data=await i.json()),u.error=t}}catch(t){t instanceof Error?u.error={message:t.message}:u.error={message:"Failed to revoke tokens"}}return Promise.resolve(u)})(i.data);break;case"INIT":u=await(async t=>{const{command:r,data:o,id:i}=t,a={command:r,id:i};return e=o.clientId,n=o.metadata,Promise.resolve(a)})(i.data);break;default:u.error=new Error(`Unexpected oauth worker command: ${a}`)}self.postMessage(u)}};var p;!function(t){t.ApiRequest="API_REQUEST",t.CodeExchange="CODE_EXCHANGE",t.ExpireTokens="EXPIRE_TOKENS",t.Init="INIT"}(p||(p={}));const g=[],y=t=>{g.push(t)},m=(t,e)=>(n,r,o)=>new Promise(((i,a)=>{const s={command:p.CodeExchange,data:{code:n,codeVerifier:r,redirectUri:o},id:Date.now().toString()},{command:u,id:l}=s;y({command:u,id:l,reject:a,resolve:i}),t.postMessage(s),e.logInfo("Worker request sent",s)})),v=(t,e,n)=>(r,o,i,a,s)=>new Promise(((u,l)=>{const c={command:p.ApiRequest,data:{apiRequestUrl:r,clientId:t,data:i,headers:a,httpMethod:o,includeAuthorization:s},id:Date.now().toString()},{command:f,id:d}=c;y({command:f,id:d,reject:l,resolve:u}),e.postMessage(c),n.logInfo("Worker request sent",c)})),b=(t,e)=>n=>new Promise(((r,o)=>{const i={command:p.ExpireTokens,expireAccessTokenOnly:n,id:Date.now().toString()},{command:a,id:s}=i;y({command:a,id:s,reject:o,resolve:r}),t.postMessage(i),e.logInfo("Worker request sent",i)})),w=t=>e=>{t.logInfo("Worker response received",e.data);const n=e.data,{command:r,error:o,id:i}=n,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(n,["command","error","id"]),s=((t,e)=>g.find((n=>n.command===e&&n.id===t)))(i,r);s?(o?("status"in a&&void 0!==a.status&&(o.status=a.status),s.reject(o)):s.resolve(a),_(i,r)):t.logError(new Error("Unable to locate awaited request"))},_=(t,e)=>{const n=g.findIndex((n=>n.command===e&&n.id===t));n>=0&&g.splice(n,1)},E=(t,e)=>async()=>{try{await b(t,e)(!1)}catch(t){e.logWarning(t.message)}t.terminate(),e.logInfo("Worker terminated")};class S{get apiOrigin(){return this._apiOrigin}get clientId(){return this._clientId}get logger(){return this._logger}get metadata(){return this._metadata}get worker(){return this._worker}constructor(t,e,n,r,o){if(this.executeApiRequest=async(t,e="GET",n,r,o=!0,i=!1)=>{this._logger.logInfo("ExecuteApiRequest started",t,e,n,r);try{const i=await((t,e)=>async(n,r,o,i,a)=>{try{return await e.executeApiRequest(`${t}${n}`,r,o,i,a)}catch(t){let e;const{data:n,message:r,status:o}=t;throw e=t instanceof Error?new ApiRequestError(r,o):"Failed to refresh access token"===r?new AuthTokenExpiredError(r):new ApiRequestError(r,o),e.data=n,e}})(this._apiOrigin,this._worker)(t,e,n,r,o);return this._logger.logInfo("ExecuteApiRequest completed",i),i}catch(t){if(t instanceof ApiRequestError){const{data:e,message:n,name:r,stack:o}=t,i=this.getErrorMessageFromServerResponse(e);i&&(t.message=i,t.stack=null==o?void 0:o.replace(`${r}: ${n}`,`${r}: ${i}`))}throw i&&this.logger.logError(t),t}},!(t&&e&&n&&r&&o))throw new InitializationError("Provider has not been properly initialized (call init to create new instances)");this._apiOrigin=t,this._clientId=e,this._metadata=n,this._worker=r,this._logger=o,this.authorize=this.authorize.bind(this),this.close=this.close.bind(this),this.executeApiRequest=this.executeApiRequest.bind(this),this.expireTokens=this.expireTokens.bind(this),this.getErrorMessageFromServerResponse=this.getErrorMessageFromServerResponse.bind(this)}async authorize(t,e,n){if(this._logger.logInfo("Authorize started",t,e,n),!this._metadata||!this._clientId||!this._worker)throw new InitializationError("Provider has not been properly initialized (call init to create new instances)");try{await(r=this._metadata,o=this._clientId,i=this._worker,a=this._logger,async(t,e,n)=>{const{authorization_endpoint:s}=r,u=fin.Application.getCurrentSync(),l=(await u.getChildWindows()).find((t=>t.identity.name===c));l&&await l.close(!0);const f=(new Date).getTime().toString(),h=(()=>{const t=new Uint32Array(64);return window.crypto.getRandomValues(t),Array.from(t,(t=>`0${t.toString(16)}`.slice(-2))).join("")})(),p=(await(async t=>{const e=(new TextEncoder).encode(t),n=await window.crypto.subtle.digest("SHA-256",e),r=await(t=>new Promise(((e,n)=>{try{const r=new Blob([t]),o=new FileReader;o.onload=t=>{var r,o;const i=null===(r=t.target)||void 0===r?void 0:r.result;if(i){const[,t]=Array.from(null!==(o=i.match(/base64,(.*)$/i))&&void 0!==o?o:[]);e(null!=t?t:"")}n(new Error("Unexpected empty result"))},o.readAsDataURL(r)}catch(t){n(t)}})))(n);return r.replace(/\+/g,"-").replace(/\//g,"_")})(h)).replace(/=+$/,"");let g="";e&&(g="&",g+=Object.entries(e).map((t=>`${encodeURIComponent(t[0])}=${encodeURIComponent(t[1])}`)).join("&"));const y=`${s}?client_id=${encodeURIComponent(o)}&redirect_uri=${encodeURIComponent(t)}&response_type=code&state=${f}&code_challenge=${p}&code_challenge_method=S256${g}`,m=null!=n?n:{},{defaultHeight:v,defaultWidth:b}=m,w=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(m,["defaultHeight","defaultWidth"]);a.logInfo("Starting OAuth flow",y);const _=await fin.Window.create(Object.assign({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:null!=v?v:700,defaultWidth:null!=b?b:600,includeInSnapshots:!1,name:c,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:y},w)),E=await new Promise(d(_,f,t,a));a.logInfo("Received authorization code"),await i.exchangeCodeForTokens(E,h,t),a.logInfo("Received tokens")})(t,e,n),this._logger.logInfo("Authorize completed")}catch(t){let e;if(t instanceof ApiError){const{data:n}=t,r=this.getErrorMessageFromServerResponse(n);e=new AuthorizationError(r,t),e.data=n}else e=new AuthorizationError(void 0,t);throw this.logger.logError(e),e}var r,o,i,a}async close(){var t;this._logger.logInfo("Close started");try{await(null===(t=this._worker)||void 0===t?void 0:t.terminate()),this._worker=void 0,this._apiOrigin=void 0,this._clientId=void 0,this._metadata=void 0,this._logger.logInfo("Close completed")}catch(t){const e=new ApiError(void 0,t);throw this._logger.logError(e),e}}async expireTokens(t=!1){var e;this._logger.logInfo("ExpireTokens started");try{await(null===(e=this._worker)||void 0===e?void 0:e.expireTokens(t)),this._logger.logInfo("ExpireTokens completed")}catch(t){const e=new ApiError(void 0,t);throw this._logger.logError(e),e}}getErrorMessageFromServerResponse(t){t&&this._logger.logWarning(t)}static async init(t,e,n,r,...o){const i=new l(r);let a;i.logInfo("Init started",t,e,n);try{a=new URL(e)}catch(t){const e=new ParameterError("Unexpected invalid API origin");throw i.logError(e),e}try{const e=await(async t=>{let e;try{e=new URL(t)}catch(t){throw new ParameterError("Unexpected invalid metadata URL")}const n=await fetch(e,{headers:{Accept:"application/json"}});if(!n.ok)throw new Error("Failed to retrieve authorization server metadata");const r=await n.json();if(!r)throw new Error("Unexpected empty authorization server metadata response");if(!r.response_types_supported.find((t=>"code"===t.toLowerCase())))throw new Error("Authorization server does not support the authorization code response type");return r})(t),r=await(async(t,e,n)=>{const r=new Blob([`(${h})()`],{type:"text/javascript"}),o=URL.createObjectURL(r),i=new Worker(o);return i.onmessage=w(n),await((t,e,n,r)=>new Promise(((o,i)=>{const a={command:p.Init,data:{clientId:e,metadata:t},id:Date.now().toString()},{command:s,id:u}=a;y({command:s,id:u,reject:i,resolve:o}),n.postMessage(a),r.logInfo("Worker request sent",a)})))(t,e,i,n),{exchangeCodeForTokens:m(i,n),executeApiRequest:v(e,i,n),expireTokens:b(i,n),terminate:E(i,n)}})(e,n,i);return i.logInfo("Init completed",e),new S(a.origin,n,e,r,i)}catch(t){let e;throw e=t instanceof ApiError?t:new InitializationError(void 0,t),i.logError(e),e}}}var A=o.MS,I=o.cF,T=o.AK,R=o.M_,x=o.cX,C=o.O4,B=o._W,k=o.U$,L=o.U7,O=n(951);const U="1.0.1",j="Microsoft365",N=()=>{k(j)},M=()=>{L(j,U)};"undefined"!=typeof window&&("undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Microsoft365:{enableLogging:M,disableLogging:N}}}));const P=t=>async(e,n,r,o,i)=>{var a;return e=(a=e).startsWith("/")?a:`/${a}`,t.executeApiRequest(e,n,r,o,i,!0)},W=async(t,e,n=[])=>{const r=["id","userPrincipalName","userType",...n].join(","),o=await(async(t,e=[])=>{if(!(null==e?void 0:e.length))return[];const n=[];for(let r=0;r<e.length;r+=20){const o={requests:e.slice(r,r+20).map((t=>(t.id=crypto.randomUUID(),t)))};n.push(t.executeApiRequest("/v1.0/$batch","POST",o))}const r=(await Promise.all(n)).flatMap((t=>t.data.responses));return e.map((t=>{var e;return null===(e=r.find((e=>e.id===t.id)))||void 0===e?void 0:e.body}))})(t,e.map((t=>({method:"GET",url:`/users?$filter=mail eq '${encodeURIComponent(t)}'&$select=${r}`})))),i=o.map((t=>{var e;return null===(e=t.value)||void 0===e?void 0:e[0]}));return t.logger.logInfo("Resolved users from email addresses",i,e),i};var $=n(300);const D=t=>t.map((t=>t?{id:t.userPrincipalName,emailAddress:t.mail,name:t.displayName}:void 0)),F=async(t,e)=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:U,componentName:t}})}catch(n){e.logWarning(`Unable to register usage for feature ${t}: ${null==n?void 0:n.message}`)}},z=t=>{let e=t;return Array.isArray(t)?t.filter(Boolean).map(z):("object"==typeof t&&(e=Object.fromEntries(Object.entries(t).filter((([,t])=>void 0!==(null!=t?t:void 0))).map((([t,e])=>[t,z(e)])))),e)},q=t=>/#EXT#@/.test(t.userPrincipalName);var H;!function(t){t.MS365="MS-365",t.Teams="MS-TEAMS"}(H||(H={}));class V extends C{get currentUser(){return this._currentUser}get redirectUri(){return this._redirectUri}get permissions(){return this._permissions}get tenantId(){return this._tenantId}constructor(t,e,n,r,o,i,a,s){super(t,e,i,a,s),this._permissions=o,this._redirectUri=r,this._tenantId=n,F(H.MS365,s)}async authorize(t,e,n){await super.authorize(t,e,n);const r=await(async t=>{const{data:e}=await t.executeApiRequest("/v1.0/me");return e})(this);this._currentUser=r}getErrorMessageFromServerResponse(t){var e,n,r;if("string"==typeof t)try{return null===(n=null===(e=new URL(t).searchParams.get("error_description"))||void 0===e?void 0:e.split(/\r\n/))||void 0===n?void 0:n[0]}catch(t){return}return null===(r=null==t?void 0:t.error)||void 0===r?void 0:r.message}static async init(t,e,n,r,o,i,a){const s=await super.init(t,e,n,r);return new V(e,n,o,i,a,null==s?void 0:s.metadata,null==s?void 0:s.worker,null==s?void 0:s.logger)}}const G=["User.ReadBasic.All","Team.ReadBasic.All","Channel.ReadBasic.All","ChannelMessage.Send","Chat.Create","ChatMessage.Send","offline_access"];let J;const Y=async(t,e,n,r=[],o,i)=>{await K(t,e,n,r);const a=Object.assign({scope:[...G,...r].join(" ")},o),s=Object.assign({defaultHeight:600,defaultWidth:550},i);return await J.authorize(n,a,s),{clientId:t,currentUser:J.currentUser,disconnect:J.close,executeApiRequest:P(J),provider:J,tenantId:e}},K=async(t,e,n,r)=>{if(!t)throw new B("Invalid client ID");if(!e)throw new B("Invalid tenant ID");if(!n)throw new B("Invalid redirect URI");const o=`https://login.microsoftonline.com/${e}/v2.0/.well-known/openid-configuration`;(!J||J.clientId!==t||J.tenantId!==e||J.redirectUri!==n||(0,O.xor)(J.permissions,r).length>0)&&(J=await V.init(o,"https://graph.microsoft.com",t,j,e,n,r))};class InteropError extends A{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An interop error occurred",e)}}var X,Z,Q;!function(t){t.AppNotFound="AppNotFound",t.ErrorOnLaunch="ErrorOnLaunch",t.AppTimeout="AppTimeout",t.ResolverUnavailable="ResolverUnavailable"}(X||(X={})),function(t){t.NoAppsFound="NoAppsFound",t.ResolverUnavailable="ResolverUnavailable",t.ResolverTimeout="ResolverTimeout"}(Z||(Z={})),function(t){t.NoChannelFound="NoChannelFound",t.AccessDenied="AccessDenied",t.CreationFailed="CreationFailed"}(Q||(Q={}));var tt,et;tt=function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return B()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function y(){}function m(){}function v(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(b=_);var E=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function I(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=c(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function C(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:B}}function B(){return{value:e,done:!0}}return m.prototype=E.constructor=v,v.constructor=m,m.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(A.prototype),A.prototype[a]=function(){return this},t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),u(E,s,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},tt(et={exports:{}},et.exports);var nt;!function(t){t.Contact="fdc3.contact",t.ContactList="fdc3.contactList",t.Country="fdc3.country",t.Instrument="fdc3.instrument",t.Organization="fdc3.organization",t.Portfolio="fdc3.portfolio",t.Position="fdc3.position"}(nt||(nt={}));var rt;!function(t){t.StartCall="StartCall",t.StartChat="StartChat",t.ViewChart="ViewChart",t.ViewContact="ViewContact",t.ViewQuote="ViewQuote",t.ViewNews="ViewNews",t.ViewInstrument="ViewInstrument",t.ViewAnalysis="ViewAnalysis"}(rt||(rt={}));const ot="ofms365action",it=async(t,e)=>{var n,r,o,i;const{chartImage:a,context:s}=e,{priceCurrent:u,priceHigh:l,priceLow:c,priceOpen:f}=e,d=(null===(r=null===(n=s.id)||void 0===n?void 0:n.ticker)||void 0===r?void 0:r.trim())||void 0,h=(null===(o=s.name)||void 0===o?void 0:o.trim())||void 0;let p,g,y,m,v,b;if(null!=e.timestamp||!a)try{p=new Date(null!==(i=e.timestamp)&&void 0!==i?i:Date.now()).toISOString().replace(/\.\d+Z$/,"+00:00")}catch(n){t.logger.logWarning("Invalid timestamp",e.timestamp)}if(null!=u&&null!=f&&(g=u-f,y=g/f*100,v=g>0?"":g<0?"":"",m=g>0?"Good":g<0?"Attention":"Warning"),a){if(!/^image\/(gif|jp(e|e?g)|png)$/i.test(a.type))throw new B("Chart image MIME type not supported");try{b=await(async t=>new Promise(((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(new Error("Failed to convert blob to base64")),r.readAsDataURL(t)})))(a)}catch(t){throw new A("Failed to convert blob to base64",t)}}const w=(await fin.System.getRuntimeInfo()).manifestUrl,_={context:s,intent:a?rt.ViewChart:rt.ViewInstrument,version:U},E=(S=_,(0,$.compress)(JSON.stringify(S),{outputEncoding:"Base64"}));var S;const I=`${w}?$$${ot}=${encodeURIComponent(E)}`,T=`https://start.openfin.co/?manifest=${encodeURIComponent(I)}`,R={$schema:"http://adaptivecards.io/schemas/adaptive-card.json",type:"AdaptiveCard",version:"1.4",body:[{type:"ColumnSet",columns:[{type:"Column",width:"stretch",items:[{type:"Container",items:[{type:"TextBlock",text:null!=h?h:d.toUpperCase(),wrap:!0,size:"Large",spacing:"None"},h&&{type:"TextBlock",text:d.toUpperCase(),isSubtle:!0,wrap:!0,spacing:"None"},p&&{type:"TextBlock",text:`{{DATE(${p}, SHORT)}} {{TIME(${p})}}`,wrap:!0,size:"Small"}]}]},null!=u&&!b&&{type:"Column",width:"stretch",items:[{type:"TextBlock",text:u.toFixed(2),size:"ExtraLarge",wrap:!0,horizontalAlignment:"Right"},null!=g&&null!=y&&{type:"TextBlock",text:`${v} ${g.toFixed(2)} (${y.toFixed(2)}%)`,color:m,spacing:"None",wrap:!0,horizontalAlignment:"Right"},(null!=f||null!=l||null!=c)&&{type:"Container",horizontalAlignment:"Right",items:[{type:"ColumnSet",columns:[{type:"Column",width:"stretch",items:[null!=f&&{type:"TextBlock",text:"Open",wrap:!0,horizontalAlignment:"Right",size:"Small",weight:"Bolder",spacing:"None"},null!=l&&{type:"TextBlock",text:"High",wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small",weight:"Bolder"},null!=c&&{type:"TextBlock",text:"Low",wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small",weight:"Bolder"}]},{type:"Column",width:"auto",items:[null!=f&&{type:"TextBlock",text:f.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"},null!=l&&{type:"TextBlock",text:l.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"},null!=c&&{type:"TextBlock",text:c.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"}]}]}],spacing:"Small"}]}]},b&&{type:"Image",url:"../hostedContents/1/$value",spacing:"Small"},{type:"ActionSet",actions:[{type:"Action.OpenUrl",url:T,title:"Open"}]}]},x={attachments:[{id:"1",contentType:"application/vnd.microsoft.card.adaptive",content:JSON.stringify(z(R))}],body:{contentType:"html",content:'<attachment id="1"></attachment>'},summary:"Test summary"};if(b){const[,t,e]=[...b.match(/^data:([^;]+);base64,(.+)$/i)];x.hostedContents=[{"@microsoft.graph.temporaryId":"1",contentBytes:e,contentType:t}]}return x},at=t=>t?"msteams:":"https://teams.microsoft.com",st=async t=>{const e=null==t?void 0:t[ot];if(e)try{const t=(t=>{const e=(0,$.decompress)(t,{inputEncoding:"Base64",outputEncoding:"String"});return JSON.parse(e)})(e),{context:n,intent:r}=t,o={context:n,name:r};return await fin.me.interop.fireIntent(o),o}catch(t){const e=t.message;throw new A("Failed to decompress share payload"+(e?` (${e})`:""),t)}},ut=async(t,e,n)=>{const r=await(async(t,e,n=[])=>{try{const r=["id",...n].join(","),{data:o}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(e)}?$select=${r}`);return o}catch(t){if(404!==t.status)throw t}})(t,e,["displayName"]);if(!r)return;let o;if(t.logger.logInfo("Resolved team",r),n){if(o=await(async(t,e,n,r=[])=>{try{const o=["id",...r].join(","),{data:i}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(n)}/channels/${encodeURIComponent(e)}?$select=${o}`);return i}catch(t){if(404!==t.status)throw t}})(t,n,e,["displayName"]),!o)return void t.logger.logWarning(`Could not resolve channel from id ${n}`)}else{t.logger.logInfo("No channel id supplied, using primary channel");const{data:n}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(e)}/primaryChannel?$select=displayName,id`);o=n}const i={channelId:o.id,channelName:o.displayName,teamId:r.id,teamName:r.displayName};return t.logger.logInfo("Resolved team channel",e,n,i),i};class lt{constructor(t,e=!0){this.logger=t.provider.logger,this.provider=t.provider,this.useMsTeamsProtocol=e,this.registerIntentHandlers=this.registerIntentHandlers.bind(this),this.share=this.share.bind(this),this.startCall=this.startCall.bind(this),this.startChat=this.startChat.bind(this),this.enableSharePayloadHandler(),F(H.Teams,this.logger)}async enableSharePayloadHandler(){const{initialOptions:t}=await fin.Application.getCurrentSync().getInfo(),{userAppConfigArgs:e}=t,n=await st(e);n&&this.logger.logInfo("Firing intent",n),fin.Application.getCurrentSync().addListener("run-requested",(async t=>{try{const e=await st(t.userAppConfigArgs);e&&this.logger.logInfo("Firing intent",e)}catch(t){this.logger.logError(t)}}))}async openUrl(t){this.logger.logInfo("openUrl started",t);try{const e=this.useMsTeamsProtocol?t.replace(/^https:\/\/teams.microsoft.com\//i,"msteams:"):t;this.logger.logInfo("Opening url",e),await fin.System.openUrlWithBrowser(e),this.logger.logInfo("openUrl completed")}catch(t){throw this.logger.logError(t),t}}async registerIntentHandlers(){if(this.logger.logInfo("registerIntentHandlers started"),this.unsubscribeIntentHandlers)return{unsubscribe:this.unsubscribeIntentHandlers};try{await fin.me.interop.getContextGroups();const t=await fin.me.interop.registerIntentHandler((async t=>{try{await((t,e)=>async n=>{var r,o,i,a;if(t.logger.logInfo("handleStartCallIntent started",n),(null===(r=n.name)||void 0===r?void 0:r.toLowerCase())!==rt.StartCall.toLowerCase())throw new A(`Unexpected intent type: ${n.name}`);const{context:s}=n;if((null===(o=s.type)||void 0===o?void 0:o.toLowerCase())!==nt.Contact.toLowerCase()&&(null===(i=s.type)||void 0===i?void 0:i.toLowerCase())!==nt.ContactList.toLowerCase())throw new A(`Unexpected context type: ${s.type}`);const u=(null===(a=s.type)||void 0===a?void 0:a.toLowerCase())===nt.ContactList.toLowerCase()?s.contacts.map((t=>t.id.email)).filter(Boolean):[s.id.email],l=await e(u);t.logger.logInfo("handleStartCallIntent completed",l)})(this.provider,this.startCall)(t)}catch(t){throw this.logger.logError(t),t}}),"StartCall"),e=await fin.me.interop.registerIntentHandler((async t=>{try{await((t,e)=>async n=>{var r,o,i,a;if(t.logger.logInfo("handleStartChatIntent started",n),(null===(r=n.name)||void 0===r?void 0:r.toLowerCase())!==rt.StartChat.toLowerCase())throw new A(`Unexpected intent type: ${n.name}`);const{context:s}=n;if((null===(o=s.type)||void 0===o?void 0:o.toLowerCase())!==nt.Contact.toLowerCase()&&(null===(i=s.type)||void 0===i?void 0:i.toLowerCase())!==nt.ContactList.toLowerCase())throw new A(`Unexpected context type: ${s.type}`);const u=(null===(a=s.type)||void 0===a?void 0:a.toLowerCase())===nt.ContactList.toLowerCase()?s.contacts.map((t=>t.id.email)).filter(Boolean):[s.id.email],l=await e({emailAddresses:u,topicName:s.name});t.logger.logInfo("handleStartChatIntent completed",l)})(this.provider,this.startChat)(t)}catch(t){throw this.logger.logError(t),t}}),"StartChat");return this.unsubscribeIntentHandlers=async()=>{this.logger.logInfo("unsubscribeIntentHandlers started"),await t.unsubscribe(),await e.unsubscribe(),this.unsubscribeIntentHandlers=void 0,this.logger.logInfo("unsubscribeIntentHandlers completed")},this.logger.logInfo("registerIntentHandlers completed"),{unsubscribe:this.unsubscribeIntentHandlers}}catch(t){const e=new InteropError(t.message);throw this.logger.logError(e),e}}async share(t){var e,n,r,o;this.logger.logInfo("share started",t);try{if(!t.target)throw new B("Target not provided");if((null===(e=t.context)||void 0===e?void 0:e.type.toLowerCase())!==nt.Instrument.toLowerCase())throw new B("Unsupported context type");if(!(null===(r=null===(n=t.context)||void 0===n?void 0:n.id)||void 0===r?void 0:r.ticker))throw new B("Ticker not provided");if(!t.chartImage&&null==t.priceCurrent)throw new B("Current price not provided");const i=null===(o=t.showMessage)||void 0===o||o,a=await it(this.provider,t);let s;if(Array.isArray(t.target)){const{target:e}=t,n=await W(this.provider,e,["displayName","mail"]),r=n.filter(Boolean);if(!r.length)return this.logger.logWarning("Could not resolve any valid users from email addresses",e),e.map((()=>{}));const{id:o,webUrl:u}=await(async(t,e)=>{const n={chatType:e.length>2?"group":"oneOnOne",members:e.map((e=>({"@odata.type":"#microsoft.graph.aadUserConversationMember",roles:q(e)?["guest"]:["owner"],"user@odata.bind":`${t.apiOrigin}/v1.0/users('${e.id}')`})))},{data:r}=await t.executeApiRequest("/v1.0/chats","POST",n);return r})(this.provider,[this.provider.currentUser,...r]),{data:l}=await this.provider.executeApiRequest(`/v1.0/chats/${encodeURIComponent(o)}/messages`,"POST",a);this.logger.logInfo("Sent chat message",l),i&&await this.openUrl(u),s=D(n)}else{const{target:e}=t,n=await ut(this.provider,e.teamId,e.channelId);if(!n)return void this.logger.logWarning("Could not resolve team/channel",e.teamId,e.channelId);const{channelId:r,teamId:o}=n,{data:u}=await this.provider.executeApiRequest(`/v1.0/teams/${encodeURIComponent(o)}/channels/${encodeURIComponent(r)}/messages`,"POST",a);this.logger.logInfo("Sent chat message",u),i&&await this.openUrl(u.webUrl),s=n}return this.logger.logInfo("share completed",s),s}catch(t){throw this.logger.logError(t),t}}async startCall(t=[],e=!1){this.logger.logInfo("startCall started",t);try{let n=`${at(this.useMsTeamsProtocol)}/l/call/0/0?`;const r=await W(this.provider,t,["displayName","mail"]),o=r.filter(Boolean).map((t=>encodeURIComponent(t.userPrincipalName)));if(!o.length)return this.logger.logWarning("Could not resolve any valid users from supplied emails",t),t.map((()=>{}));n+=`users=${o.join(",")}&withVideo=${e}`,this.logger.logInfo("Opening Teams",n),await fin.System.openUrlWithBrowser(n);const i=D(r);return this.logger.logInfo("startCall completed",i),i}catch(t){throw this.logger.logError(t),t}}async startChat(t){this.logger.logInfo("startChat started",t);try{let e,n;if("teamId"in t){const{teamId:r,channelId:o}=t,i=await ut(this.provider,r,o);if(!i)return void this.logger.logWarning("Could not resolve team/channel",r,o);e=`${at(this.useMsTeamsProtocol)}/l/channel/${encodeURIComponent(i.channelId)}/${encodeURIComponent(i.channelName)}?groupId=${i.teamId}&tenantId=${this.provider.tenantId}`,n=i}else{const{emailAddresses:r,message:o,topicName:i}=t;e=`${at(this.useMsTeamsProtocol)}/l/chat/0/0?`;const a=await W(this.provider,r,["displayName","mail"]),s=a.filter(Boolean).map((t=>encodeURIComponent(t.userPrincipalName)));if(!s.length)return this.logger.logWarning("Could not resolve any valid users from email addresses",r),r.map((()=>{}));e+=`users=${s.join(",")}`,i&&(e+=`&topicName=${encodeURIComponent(i)}`),o&&(e+=`&message=${encodeURIComponent(o)}`),n=D(a)}return this.logger.logInfo("Opening Teams",e),await fin.System.openUrlWithBrowser(e),this.logger.logInfo("startChat completed",n),n}catch(t){throw this.logger.logError(t),t}}}},91:()=>{}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.c=e,n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r=n(n.s=54),o=r.MS,i=r.cF,a=r.AK,s=r.M_,u=r.cX,l=r.BT,c=r._W,f=r.Pg,d=r.$j,h=r.U$,p=r.U7;

/***/ }),

/***/ "../../node_modules/@openfin/workspace-platform/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@openfin/workspace-platform/index.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const o=n(a(6535));t.lightenColor=(e,t)=>r(e,"lighten",t),t.darkenColor=(e,t)=>r(e,"darken",t);const r=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,o.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>o.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),o=a(2346),r=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,o.darkenColor)(t,2),[`${e}Hover`]:(0,o.lightenColor)(t,5),[`${e}Focused`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},e),s(r.Palette.brandPrimary,e.brandPrimary)),s(r.Palette.brandSecondary,e.brandSecondary))})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(o,r){if(r=r||{},(o=o||"")instanceof n)return o;if(!(this instanceof n))return new n(o,r);var i=function(n){var o,r,i,s={r:0,g:0,b:0},c=1,l=null,d=null,u=null,p=!1,w=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,o=!1;if(f[e])e=f[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=B.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=B.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=B.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=B.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=B.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=B.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=B.hex8.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:W(n[4]),format:o?"name":"hex8"}:(n=B.hex6.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:o?"name":"hex"}:(n=B.hex4.exec(e))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:W(n[4]+""+n[4]),format:o?"name":"hex8"}:!!(n=B.hex3.exec(e))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:o?"name":"hex"}}(n)),"object"==e(n)&&(E(n.r)&&E(n.g)&&E(n.b)?(o=n.r,r=n.g,i=n.b,s={r:255*P(o,255),g:255*P(r,255),b:255*P(i,255)},p=!0,w="%"===String(n.r).substr(-1)?"prgb":"rgb"):E(n.h)&&E(n.s)&&E(n.v)?(l=I(n.s),d=I(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),o=e-n,r=a*(1-t),i=a*(1-o*t),s=a*(1-(1-o)*t),c=n%6;return{r:255*[a,i,r,r,s,a][c],g:255*[s,a,a,i,r,r][c],b:255*[r,r,s,a,a,i][c]}}(n.h,l,d),p=!0,w="hsv"):E(n.h)&&E(n.s)&&E(n.l)&&(l=I(n.s),u=I(n.l),s=function(e,t,a){var n,o,r;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=o=r=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),o=i(c,s,e),r=i(c,s,e-1/3)}return{r:255*n,g:255*o,b:255*r}}(n.h,l,u),p=!0,w="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=v(c),{ok:p,format:n.format||w,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(o);this._originalInput=o,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=(r+i)/2;if(r==i)n=o=0;else{var c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,l:s}}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=r,c=r-i;if(o=0===r?0:c/r,r==i)n=0;else{switch(r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,v:s}}function i(e,t,a,n){var o=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function s(e,t,a,n){return[x(A(n)),x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function l(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function d(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function w(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function h(e,t){var a=n(e).toHsl(),o=(a.h+t)%360;return a.h=o<0?360+o:o,n(a)}function g(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),o=[n(e)],r=360/t,i=1;i<t;i++)o.push(n({h:(a.h+i*r)%360,s:a.s,l:a.l}));return o}function k(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function b(e,t,a){t=t||6,a=a||30;var o=n(e).toHsl(),r=360/a,i=[n(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,i.push(n(o));return i}function y(e,t){t=t||6;for(var a=n(e).toHsv(),o=a.h,r=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:o,s:r,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=v(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,o){var r=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16)),x(A(n))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var r=n(e);a="#"+s(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(h,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(y,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]="a"===r?t[r]:I(t[r]));t=o}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var o=n(e).toRgb(),r=n(t).toRgb(),i=a/100;return n({r:(r.r-o.r)*i+o.r,g:(r.g-o.g)*i+o.g,b:(r.b-o.b)*i+o.b,a:(r.a-o.a)*i+o.a})},n.readability=function(e,t){var a=n(e),o=n(t);return(Math.max(a.getLuminance(),o.getLuminance())+.05)/(Math.min(a.getLuminance(),o.getLuminance())+.05)},n.isReadable=function(e,t,a){var o,r,i,s,c,l=n.readability(e,t);switch(r=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),o={level:s,size:c}).level+o.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},n.mostReadable=function(e,t,a){var o,r,i,s,c=null,l=0;r=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var d=0;d<t.length;d++)(o=n.readability(e,t[d]))>l&&(l=o,c=n(t[d]));return n.isReadable(e,c,{level:i,size:s})||!r?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var f=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(f);function v(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function M(e){return parseInt(e,16)}function x(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function A(e){return Math.round(255*parseFloat(e)).toString(16)}function W(e){return M(e)/255}var D,T,R,B=(T="[\\s|\\(]+("+(D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",R="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",{CSS_UNIT:new RegExp(D),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+R),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function E(e){return!!B.CSS_UNIT.exec(e)}return n}()}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e].call(r.exports,r,r.exports,o),r.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=o(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=o(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=o(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in r)i[s]=r[s];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{AppManifestType:()=>c,BookmarkItemContextMenuOptionType:()=>y,BrowserButtonType:()=>S,ColorSchemeOptionType:()=>m,CustomActionCallerType:()=>C,EnterpriseMainContextMenuOptionType:()=>b,GlobalContextMenuOptionType:()=>g,PageChangeEventType:()=>h,PageTabContextMenuOptionType:()=>k,PanelPosition:()=>w,SUPPORTED_LANGUAGES:()=>M,SaveButtonContextMenuOptionType:()=>v,SaveModalType:()=>x,ViewTabMenuOptionType:()=>f,WindowType:()=>P,getCurrentSync:()=>Aa,init:()=>os,initDockCompanion:()=>as,wrapSync:()=>Ia});var e,t,o,r,i,s,c,l,d={};a.r(d),a.d(d,{getItem:()=>ca,removeItem:()=>la,setItem:()=>sa}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(o||(o={})),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(i||(i={})),function(e){e.MultiSelect="MultiSelect"}(s||(s={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(c||(c={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(l||(l={}));var u,p,w,h,g,m,k,b,y,f,S,v,P,C;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(u||(u={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(p||(p={})),function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(w||(w={})),function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(h||(h={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(g||(g={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(m||(m={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(k||(k={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.Print="Print",e.Pin="Pin"}(b||(b={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(y||(y={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(f||(f={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(S||(S={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(v||(v={})),function(e){e.Browser="browser",e.Platform="platform"}(P||(P={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(C||(C={}));const M=["en-US","ja-JP","zh-CN","ko-KR","ru-RU","de-DE","zh-Hant"];var x,I;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(x||(x={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(I||(I={}));const A="undefined"!=typeof window&&"undefined"!=typeof fin,W=("undefined"==typeof process||process.env,"undefined"!=typeof window),D=W&&"undefined"!=typeof indexedDB,T=W?window.origin:I.Local,R=A&&fin.me.uuid,B=A&&fin.me.name,E=A&&fin.me.entityType,F=(I.Local,I.Dev,I.Staging,"prod"===I.Prod),V=e=>e.startsWith("http://")||e.startsWith("https://")?e:T+e,N=V("https://workspace.openfin.co/workspace/21.0.16"),L=V("https://workspace.openfin.co/workspace/21.0.16"),_=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&V(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&V(WORKSPACE_DOCS_CLIENT_URL),"41.134.102.4"),O="21.0.16";"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA;var U,G;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(U||(U={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseStorageProxy="/enterprise/storage-proxy",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/"}(G||(G={}));const H={...U,...G};var $;!function(e){e.Search="search"}($||($={}));const K=H;async function z(){const e="getManifestOverrides",{manifest:t,initialOptions:a}=await fin.Application.getCurrentSync().getInfo();return t?.platform.workspace||t?.platform.home||a?.workspace||a?.home||console.warn(`${e}: Missing Home development manifest overrides, using Desktop Owner Settings.`),t?.platform.workspace?(JSON.stringify(t?.platform.workspace),t?.platform.workspace):t?.platform.home?(JSON.stringify(t?.platform.home),t?.platform.home):a?.workspace?(JSON.stringify(a?.workspace),a?.workspace):a?.home?(JSON.stringify(a?.home),a?.home):{}}const J=e=>fin.System.getSystemAppConfig(e);async function q(){const e="getDOSOverrides";if(!A)return console.warn(`${e}: the fin API was not available, returning no result`),{};try{let t=await J("workspace").catch((t=>{console.warn(`${e}: customConfig entry for SystemApp workspace not available in Desktop Owner Settings. ${t?.message}`)}));return t||(t=await J("home")),JSON.stringify(t),t}catch(t){if(!F)return{};if(!(t instanceof Error))throw t;console.warn(`${e}: Missing Workspace Desktop Owner Settings configuration, using defaults. ${t?.message}`)}return{}}let Z,j;async function Q(){if(Z)return Z;const e="getOverrides";if(!A)return W&&console.warn(`${e}: The Fin API was not available. Returning an empty result.`),{};const[t,a]=await Promise.all([q(),z()]);return Z={...a,...t,disableRuntimeValidation:a.disableRuntimeValidation||t.disableRuntimeValidation},Z}function Y(e){j=e}const X=e=>e.replace(/\/$/,"");async function ee(){const e=(await Q()).browserBaseUrl;if(e)try{const t=new URL(e);if(t.pathname.endsWith("/"))t.pathname=X(t.pathname);else{if("/workspace"===t.pathname)return t.pathname+=`/${O}`,t.toString();console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url, with path: /workspace. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}}catch(t){console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}return j??L}async function te(e=!1){const t=await ee()+K.Browser;return e?t:X(t)}async function ae(e=!1){const t=await ee()+K.EnterpriseBrowser;return e?t:X(t)}async function ne(){return await ae()+"/landing/"}const oe=async(e,t=!1)=>e?ae(t):te(t);var re,ie;!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(re||(re={})),function(e){e.FinProtocol="fin-protocol"}(ie||(ie={}));const se={uuid:R},ce=(re.Workspace,e=>{if(!A)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),le=()=>ce(se);var de;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion"}(de||(de={}));const ue=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2});function pe(e){if(!A)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const we={name:B,uuid:R};function he(){return pe(we)}de.Home,re.Workspace,de.Dock,re.Workspace;const ge={name:de.Storefront,uuid:re.Workspace};re.Workspace,re.Workspace;async function me(e){const t=pe(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.focus()}const ke=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function be(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>ke(e.identity))));return e.filter(((e,a)=>t[a]))}async function ye(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>e.identity.name.startsWith(de.BrowserMenu)))}const fe=e=>pe(e).getOptions().then((()=>!0)).catch((()=>!1)),Se=()=>fe(ge);function ve(e,t){const a=e.top,n=e.left,o=e.top+e.height,r=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,l=t.monitorRect.right;if(a>c||o<i||n>l||r<s)return 0;const d=Math.max(a,i),u=Math.max(n,s);return(Math.min(o,c)-d)*(Math.min(r,l)-u)/(e.height*e.width)}async function Pe(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=ve(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}const Ce=(e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a};const Me=56,xe=728,Ie=150,Ae=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType},We=e=>{const t=e?.defaultWindowOptions?.workspacePlatform?.windowType;return"enterprise"===t};let De;const Te=e=>{if(e)try{return new URL(e).pathname.includes(K.EnterpriseBrowser)}catch(t){console.error("error parsing url: %O",e)}return!1},Re=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var Be;!function(e){e.Top="top",e.Below="below"}(Be||(Be={}));const Ee=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function Fe(e,t,a,n,o,r){const i=!!e&&pe(e),s=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(i,r);if(n===Be.Below){if(!i||await Ee(i)){const e=i?(await Pe(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ue(e).left-t/2,top:o?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:ue(s).left-t/2,top:o?s.bottom-128:s.bottom+12,width:t,height:a}}if(!i||await Ee(i)){const e=i?(await Pe(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ue(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:ue(s).left-t/2,top:s.top+20,width:t,height:a}}Re((async function(e,t,a,n,o){const r=t.getBoundingClientRect(),i=await Fe(e,r.width,r.height,a,n,o);if(0===i.width||0===i.height)return;const s=he();await s.setBounds(i),await s.show();const c=setTimeout((()=>s.close()),n?5e3:3e3),l=()=>{clearTimeout(c),s.close()};if(e){const t=pe(e);t.on("bounds-changing",(()=>l())),t.on("blurred",(()=>l())),t.on("maximized",(()=>l())),t.on("minimized",(()=>l())),t.on("restored",(()=>l()))}}),10);const Ve=async e=>{const t=e&&await pe(e).getBounds(),a=e?await Pe(t):(await fin.System.getMonitorInfo()).primaryMonitor;return{left:((n=a.availableRect).left+n.right)/2,top:(n.top+n.bottom)/2};// removed by dead control flow
{ var n; }},Ne=async(e,t,a=!1)=>{let n;if(a)n=await Ve(t);else{const e=pe(t),a=await e.getBounds();n=n??ue(a)}const{defaultHeight:o,defaultWidth:r}=e;return((e,t)=>{const a=t.width/2,n=t.height/2;return{left:Math.round(e.left-a),top:Math.round(e.top-n),width:t.width,height:t.height}})(n,{height:o,width:r})};async function Le(e,t,a=!1){const n=t&&"maximized"===await pe(t).getState(),o=a||n||!t,r=await Ne(e,t,o);return await(async e=>{const t=await fin.System.getMonitorInfo(),a=[t.primaryMonitor,...t.nonPrimaryMonitors];for(const t of a)if(1===ve(e,t))return!1;return!0})(r)?(await pe(t).center(),Ne(e,t,o)):(console.warn("Response modal isn't off screen, not centering parent window"),r)}var _e;!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(_e||(_e={}));const Oe=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||O,componentName:e,componentVersion:t.componentVersion||O,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};let Ue=!1;const Ge=new Map,He=e=>{let t=Ge.get(e.uuid);return t||(t=Ia(e),t.once("closed",(()=>{Ge.delete(e.uuid)})),Ge.set(e.uuid,t)),t},$e=async(e,t)=>{try{await e._raiseAnalytics([t])}catch(e){console.error("failed to raise analytics event",e)}},Ke=async e=>{await $e(He(fin.me.identity),{source:"Browser",...e})};var ze=a(847);const Je=e=>e.replace(/[^\d,]/g,"").split(","),qe=e=>{if(e.length<2)throw new Error("Invalid color object, cannot convert to HSL.");const t=e[0]/255,a=e[1]/255,n=e[2]/255,o=Math.min(t,a,n),r=Math.max(t,a,n),i=r-o;let s=0,c=0,l=0;return s=0===i?0:r===t?(a-n)/i%6:r===a?(n-t)/i+2:(t-a)/i+4,s=Math.round(60*s),s<0&&(s+=360),l=(r+o)/2,c=0==i?0:i/(1-Math.abs(2*l-1)),c=+(100*c).toFixed(1),l=+(100*l).toFixed(1),{hsl:`hsl(${s}, ${c}%, ${l}%)`,hsla:`hsl(${s}, ${c}%, ${l}%, 1)`,hue:s,lightness:l,saturation:c}},Ze=e=>{if(!e)throw new Error("Color is not defined");const t=e.toLowerCase();let a;if(t.includes("rgb")){const e=Je(t);e.length>3&&e.pop(),a=qe(e).hue}if(t.includes("#")){const e=(e=>{if(!e.includes("#"))throw new Error("Invalid hex value, cannot convert to RGB. Hex value begins with a hashtag.");let t=0,a=0,n=0;if(4===e.length)t=`0x${e[1]}${e[1]}`,a=`0x${e[2]}${e[2]}`,n=`0x${e[3]}${e[3]}`;else{if(7!==e.length)throw new Error("Invalid hex string length, cannot convert to RGB.");t=`0x${e[1]}${e[2]}`,a=`0x${e[3]}${e[4]}`,n=`0x${e[5]}${e[6]}`}return[+t,+a,+n]})(t);a=qe(e).hue}if(t.includes("hsl")){a=Je(t)[0]}const n=a?.toString();if(!n)throw new Error(`Hue was unable to be extracted from "${t}", check color format. Accepted formats are: rgb(), rgba(), hex, hsl(), and hsla()`);return n},je=(e,t=!1)=>{const a=Ze(e);return t?{background1:`hsla(${a}, 0%, 100%, 1)`,background2:`hsla(${a}, 67%, 99%, 1)`,background3:`hsla(${a}, 26%, 96%, 1)`,background4:`hsla(${a}, 15%, 94%, 1)`,background5:`hsla(${a}, 10%, 88%, 1)`,background6:`hsla(${a}, 80%, 80%, 1)`}:{background1:`hsla(${a}, 8%, 7%, 1)`,background2:`hsla(${a}, 8%, 13%, 1)`,background3:`hsla(${a}, 9%, 15%, 1)`,background4:`hsla(${a}, 6%, 23%, 1)`,background5:`hsla(${a}, 21%, 28%, 1)`,background6:`hsla(${a}, 5%, 51%, 1)`}},Qe=(e,t)=>{const a={};return Object.keys(e).forEach((n=>{a[n]=t[n]?t[n]:e[n]})),a};var Ye=a(877),Xe=a.n(Ye),et=a(67),tt=a.n(et);const at={light:{symbol:tt()?.src||""},dark:{symbol:Xe()?.src||""}},nt=W&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function ot(e){let t;const a=new Set;return()=>{if(!A)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await nt;const n={clientAPIVersion:O},o=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return o.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),o})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}var rt,it;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(rt||(rt={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(it||(it={}));const st=ot("__of_workspace_protocol__"),ct=st;ot("__search-openfin-browser-home-topic__");var lt;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal"}(lt||(lt={}));const dt=async e=>fin.Platform.wrapSync(e).getClient(),ut=async e=>{const t=await dt(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},pt=async e=>(await ut(e),dt(e)),wt=async e=>{const t=await ut(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return dt(e)},ht="dark",gt={[ze.Palette.brandPrimary]:"#0A76D3",[ze.Palette.statusSuccess]:ze.Color.functional1,[ze.Palette.statusWarning]:ze.Color.functional10,[ze.Palette.statusCritical]:ze.Color.functional7,[ze.Palette.statusActive]:ze.Color.functional3,[ze.Palette.contentBackground1]:"#0A76D3",[ze.Palette.contentBackground2]:"#000000",[ze.Palette.contentBackground3]:"#000000",[ze.Palette.contentBackground4]:"#000000",[ze.Palette.contentBackground5]:"#000000"},mt={...gt,[ze.Palette.background1]:ze.Color.white,[ze.Palette.background2]:ze.Color.lightGray1,[ze.Palette.background3]:ze.Color.lightGray2,[ze.Palette.background4]:ze.Color.lightGray3,[ze.Palette.background5]:ze.Color.lightGray4,[ze.Palette.background6]:ze.Color.lightGray5,[ze.Palette.brandSecondary]:ze.Color.lightGray4,[ze.Palette.inputBackground]:ze.Color.lightGray3,[ze.Palette.inputColor]:ze.Color.darkGray5,[ze.Palette.inputPlaceholder]:ze.Color.darkGray2,[ze.Palette.inputDisabled]:ze.Color.neutralGray,[ze.Palette.inputFocused]:ze.Color.lightGray5,[ze.Palette.inputBorder]:ze.Color.neutralGray,[ze.Palette.textDefault]:ze.Color.darkGray5,[ze.Palette.textHelp]:ze.Color.darkGray3,[ze.Palette.textInactive]:ze.Color.neutralGray},kt={...gt,[ze.Palette.background1]:ze.Color.darkGray6,[ze.Palette.background2]:ze.Color.darkGray5,[ze.Palette.background3]:ze.Color.darkGray4,[ze.Palette.background4]:ze.Color.darkGray3,[ze.Palette.background5]:ze.Color.darkGray2,[ze.Palette.background6]:ze.Color.darkGray1,[ze.Palette.brandSecondary]:ze.Color.darkGray2,[ze.Palette.inputBackground]:ze.Color.darkGray1,[ze.Palette.inputColor]:ze.Color.white,[ze.Palette.inputPlaceholder]:ze.Color.lightGray5,[ze.Palette.inputDisabled]:ze.Color.neutralGray,[ze.Palette.inputFocused]:ze.Color.lightGray5,[ze.Palette.inputBorder]:ze.Color.neutralGray,[ze.Palette.textDefault]:ze.Color.white,[ze.Palette.textHelp]:ze.Color.lightGray5,[ze.Palette.textInactive]:ze.Color.neutralGray},bt=[{label:"OpenFin Default Light and Dark Theme",palettes:{light:{...mt,brandPrimary:"#0A76D3",brandSecondary:ze.Color.lightGray4,backgroundPrimary:ze.Color.darkGray5},dark:{...kt,brandPrimary:"#0A76D3",brandSecondary:ze.Color.darkGray2,backgroundPrimary:ze.Color.darkGray5}}}],yt=e=>{const{background:t,foreground:a}=e;return{background:t,foreground:a??"#FFFFFF"}},ft=(e,t)=>({icons:{symbol:e.brand?.icons?.[t]?.symbol||at[t].symbol}}),St=e=>{const{light:t,dark:a}="palettes"in e?e.palettes:{light:e.palette,dark:e.palette},n=Qe(kt,a),o=Qe(mt,t),r=((e,t)=>{const a={...e},n={...t};let o=t.backgroundPrimary?je(t.backgroundPrimary,!0):{},r=e.backgroundPrimary?je(e.backgroundPrimary):{};return o={...o,...n},r={...r,...a},{light:{...t,...o},dark:{...e,...r}}})(a,t),i={...(0,ze.createTheme)({...n,...r?.dark}),brand:ft(e,"dark")},s={...(0,ze.createTheme)({...o,...r?.light}),brand:ft(e,"light")},{light:c,dark:l}=(e=>{const t=Object.keys(e.notificationIndicatorColors??{});if(t?.length){const a={},n={};return t.forEach((t=>{const o=e.notificationIndicatorColors[t];"background"in o?(a[t]=yt(o),n[t]=yt(o)):(a[t]=yt(o.dark??o.light),n[t]=yt(o.light??o.dark))})),{light:n,dark:a}}return{light:null,dark:null}})(e);return i.notificationIndicatorColors=l,s.notificationIndicatorColors=c,{dark:i,light:s}},vt=async e=>{const{themes:t,selectedScheme:a}=await(async e=>{const t=fin?.__internal_?.initialOptions?.workspacePlatform?._themeData;if(!t||e.uuid!==we.uuid)return{themes:await Ia(e).Theme.getThemes(),selectedScheme:await Ia(e).Theme.getSelectedScheme()};return t})(e);var n,o;return(n=t?.length?t:bt,o=a,n.map((e=>{const t="palettes"in e?e.default:ht,{light:a,dark:n}=St(e);return{label:e.label,logoUrl:e.logoUrl,theme:{dark:n,light:a},defaultScheme:o??t}})))[0]},Pt=async e=>{const t=await pt(e||fin.me.identity),a=await t.dispatch(lt.GetSelectedScheme,void 0);return a===m.System?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a},Ct=async(e,t)=>{const a=await vt(fin.me.identity),n=await Pt(fin.me.identity)===m.Dark,o=a?.theme;return o?.[n?m.Dark:m.Light]?.palette?.[e]||t};let Mt;const xt=async e=>{Mt||(Mt=new TextEncoder);const t=Mt.encode(e),a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map((e=>e.toString(16).padStart(2,"0"))).join("")};function It(e){return e&&"object"==typeof e&&!Array.isArray(e)}function At(e,...t){if(!t.length)return e;const a=t.shift();return It(e)&&It(a)&&Object.entries(a).forEach((([t,a])=>{if(It(a))return e[t]||(e[t]={}),At(e[t],a);e[t]=a})),At(e,...t)}const Wt=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var Dt,Tt=a.n(Wt);function Rt(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(Dt||(Dt={}));const Bt=Dt;function Et(){return localStorage.getItem(Bt.MachineName)??"unknown"}let Ft;async function Vt(){return Ft||(Ft=await fin.System.getMachineId()),Ft}const Nt=e=>{if(Array.isArray(e.workspacePlatform?.pages)&&(e.layoutSnapshot||e.layout)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t){const a=e.layoutSnapshot?e.layoutSnapshot.layouts[t.layoutContainerKey]:e.layout;if(a)if(t.isLocked){const n=_a(a,t.layout);t.layout=n,e.layout=n}else t.layout=a,e.layout=a}}return e};async function Lt(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=Et();return{...t,snapshotDetails:{...t.snapshotDetails,machineId:await Vt(),machineName:a}}}const _t=async e=>({...e,layoutDetails:{machineId:await Vt(),machineName:Et()}}),Ot=async(e,t)=>({pageId:Rt(),title:e,layout:await _t(t),isReadOnly:!1}),Ut=async e=>{const t=await Ot(e.title,Fa(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:Ea(e.viewOptions)})))),{...e,...t}},Gt=e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:o}=a,r=await Ae(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...o,headerHeight:r?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:o}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...o,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}},Ht="of-workspace-";const $t=new class{mark(e){performance.mark(`${Ht}${e}`)}markStart(e){performance.mark(`${Ht}${e}-start`)}markEnd(e){performance.mark(`${Ht}${e}-end`)}markEndAndMeasure(e){performance.mark(`${Ht}${e}-end`);try{return performance.measure(`${Ht}${e}`,`${Ht}${e}-start`,`${Ht}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${Ht}${e}`);try{return performance.measure(`${Ht}${e}-measure`,`${Ht}${t}-start`,`${Ht}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(Ht)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${Ht}`,"").replace("-measure",""),duration:e.duration})))}},Kt=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,zt=new Map,Jt=e=>(zt.has(e)||zt.set(e,ot(e)),zt.get(e)()),qt=(e,t)=>{const a=Kt(e,t);return Jt(a)};var Zt,jt,Qt,Yt,Xt;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(Zt||(Zt={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(jt||(jt={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(Qt||(Qt={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(Yt||(Yt={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(Xt||(Xt={}));const ea={...Zt,...jt,...Xt},ta=ot(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),aa=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await ta()).dispatch(Yt.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await ta()).dispatch(Yt.DeleteBookmarkNode,e))(e)},getPages:async()=>(await wt(e)).dispatch(lt.GetPagesForWindow,e),getPage:async t=>(await wt(e)).dispatch(lt.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>Aa().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await wt(e),o={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(lt.AddPage,o)},removePage:async t=>(await wt(e)).dispatch(lt.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>Aa().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await wt(e),o=(await n.dispatch(lt.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!o)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);o.multiInstanceViewBehavior="reparent";const r={identity:e,pages:[o],insertionIndex:t.index};return n.dispatch(lt.AttachPagesToWindow,r)},setActivePage:async t=>(await wt(e)).dispatch(lt.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await wt(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await wt(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await wt(e);return(await qt(e)).dispatch(ea.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await qt(e)).dispatch(ea.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await wt(e);return t.identity=e,a.dispatch(lt.AddDefaultPage,t)},_trackRemovedTab:async t=>(await wt(e)).dispatch(lt.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await wt(e)).dispatch(lt.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await wt(e)).dispatch(lt.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await wt(e)).dispatch(lt.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await wt(e)).dispatch(lt.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await wt(e)).dispatch(lt.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await wt(e)).dispatch(lt.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await wt(e)).dispatch(lt.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await wt(e)).dispatch(lt.HandleRequestNavigationInternal,t)}),na=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>aa(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${Rt()}`;return $t.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{$t.markAndMeasure("browser-window-shown",e)}))})(n),await wt(e);const o=await t.createWindow(a);return(e=>{$t.markAndMeasure("browser-window-started",e)})(n),aa(o.identity)},getAllAttachedPages:async()=>(await wt(e)).dispatch(lt.GetAllAttachedPages,void 0),getAllWindows:async()=>{await wt(e);return(await be()).map((e=>aa(e.identity)))},getUniquePageTitle:async t=>(await wt(e)).dispatch(lt.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await wt(e)).dispatch(lt.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await wt(e)).dispatch(lt.GetPageByViewIdentity,t)}},oa=e=>({createPage:async t=>(await wt(e)).dispatch(lt.CreateSavedPageInternal,t),deletePage:async t=>(await wt(e)).dispatch(lt.DeleteSavedPageInternal,t),updatePage:async t=>(await wt(e)).dispatch(lt.UpdateSavedPageInternal,t),getPage:async t=>(await wt(e)).dispatch(lt.GetSavedPage,t),getPages:async t=>(await wt(e)).dispatch(lt.GetSavedPages,t),savePage:async t=>(await wt(e)).dispatch(lt.SavePage,t),createWorkspace:async t=>(await pt(e)).dispatch(lt.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=Aa(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await pt(e)).dispatch(lt.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await pt(e)).dispatch(lt.UpdateSavedWorkspace,t),getWorkspace:async t=>(await pt(e)).dispatch(lt.GetSavedWorkspace,t),getWorkspaces:async t=>(await pt(e)).dispatch(lt.GetSavedWorkspaces,t),saveWorkspace:async t=>(await pt(e)).dispatch(lt.SaveWorkspace,t),getDockProviderConfig:async t=>(await pt(e)).dispatch(lt.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await pt(e)).dispatch(lt.SaveDockProviderConfig,t)});var ra;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(ra||(ra={}));const ia=ot("of-workspace-notifications-sync"),sa=(e,t)=>{localStorage.setItem(`${R}-${e}`,t)},ca=e=>localStorage.getItem(`${R}-${e}`),la=e=>localStorage.removeItem(`${R}-${e}`),da=m.System,ua=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),pa=(e,t)=>({selectedTab:"dark"===t?e.background3:e.background1});const wa=new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorageProxy=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=async()=>{if(this.workspaceStorage){const e=this.getScheme();if(await this.workspaceStorage.setItem(Bt.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)await this.workspaceStorage.setItem(Bt.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;await this.workspaceStorage.setItem(Bt.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t})=>{this.lightPaletteVars=ua({...e,...pa(e,"light")}),this.darkPaletteVars=ua({...t,...pa(t,"dark")})}}setScheme(e){this.providerStorage.setItem(Bt.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(Bt.SelectedColorScheme)&&this.providerStorage.setItem(Bt.SelectedColorScheme,da),this.providerStorage.getItem(Bt.SelectedColorScheme)}}(d),ha=()=>wa,ga=e=>({getThemes:async()=>(await pt(e)).dispatch(lt.GetThemes,void 0),setSelectedScheme:async t=>(await pt(e)).dispatch(lt.SetSelectedScheme,t),getSelectedScheme:async()=>(await pt(e)).dispatch(lt.GetSelectedScheme,void 0)}),ma=async e=>{const t=await ct();await t.dispatch("set-selected-scheme",e)},ka=async e=>{const t=await ia();await t.dispatch(ra.UpdatePlatformThemeScheme,{scheme:e})},ba=async e=>{const t=await be();return Promise.all(t.map((async t=>{const a=await qt(t.identity);await a.dispatch(ea.SetSelectedScheme,e)})))},ya=async e=>{const t=new Array,a=fin.Application.getCurrentSync(),n=await a.getViews();for(const e of n){-1!==e.identity.name.indexOf(de.BrowserAddressSearchPrefix)&&t.push(e.identity);-1!==(await e.getOptions()).url.indexOf(K.EnterpriseBrowser)&&t.push(e.identity)}return Promise.all(t.map((async t=>{const a=await qt(t,"theme-change-listener");await a.dispatch(ea.SetSelectedScheme,e)})))},fa=async e=>{const t=await ye();return Promise.all(t.map((async t=>{const a=await qt(t.identity);await a.dispatch(ea.SetSelectedScheme,e)})))},Sa=async e=>{const t=await qt({uuid:we.uuid,name:de.EnterpriseContextMenu});await t.dispatch(ea.SetSelectedScheme,e)},va=async e=>{const t=await qt({uuid:we.uuid,name:de.EnterpriseBookmarkDialogWindow});await t.dispatch(ea.SetSelectedScheme,e).catch((()=>{}))},Pa=async e=>{const t=await qt({uuid:we.uuid,name:de.DropdownMenu});await t.dispatch(ea.SetSelectedScheme,e).catch((()=>{}))},Ca=async e=>{const t=await qt({uuid:we.uuid,name:de.DockCompanion});await t.dispatch(ea.SetSelectedScheme,e).catch((()=>{}))},Ma=async e=>{try{const t=ha();t.setScheme(e),await Promise.all([t.trySynchronizeWorkspaceStorage(),ya(e),ka(e),ba(e),fa(e),Sa(e),ma(e),va(e),Pa(e),Ca(e)])}catch(e){console.error("failed to set the selected scheme: ",e)}},xa=()=>{try{return ha().getScheme()}catch(e){console.error("failed to get the selected scheme: ",e)}},Ia=e=>{const t=fin.Platform.wrapSync(e);let a;return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>{console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:R,name:B,entityType:E||"unknown"});return(await pt(e)).dispatch(lt.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await pt(e),o={actionId:t,payload:{...a,callerType:a.callerType||C.API}};return n.dispatch(lt.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await pt(e)).dispatch(lt.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await pt(e)).dispatch(lt.GetCurrentWorkspace,void 0),applyWorkspace:async(t,a)=>(await pt(e)).dispatch(lt.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await pt(e)).dispatch(lt.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await pt(e)).dispatch(lt.SetActiveWorkspace,t),getLanguage:async()=>(await pt(e)).dispatch(lt.GetLanguage),_getLanguageResources:async()=>(await pt(e)).dispatch(lt.GetLanguageResourcesInternal),setLanguage:async t=>(await pt(e)).dispatch(lt.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await ut(e)),"object"==typeof a&&a?.analytics?.isSupported){return(await pt(e)).dispatch(lt.Analytics,t)}e.uuid},getNotificationsConfig:async()=>(await pt(e)).dispatch(lt.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await pt(e)).dispatch(lt.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await pt(e)).dispatch(lt.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await pt(e)).dispatch(lt.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await pt(e)).dispatch(lt.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await pt(e)).dispatch(lt.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await pt(e)).dispatch(lt.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await pt(e)).dispatch(lt.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await pt(e)).dispatch(lt.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await pt(e)).dispatch(lt.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await pt(e)).dispatch(lt.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await pt(e)).dispatch(lt.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await pt(e)).dispatch(lt.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await pt(e)).dispatch(lt.FocusAndExpandSearchInternal),Theme:ga(e),Browser:na(e),Storage:oa(e)})},Aa=()=>Ia(fin.me.identity),Wa={contextMenuOptions:{enabled:!0,template:["spellCheck","separator","print","separator","cut","copy","paste","undo","redo","selectAll","inspect","reload"]},downloadShelf:{enabled:!0}};function Da(e,t){return At({},Wa,t,e)}const Ta="internal-generated-view-",Ra=(e,t)=>e.content?{...e,content:e.content.map((e=>Ra(e,t)))}:{...e,componentState:t(e.componentState)},Ba=(e,t)=>{return a=Da(e,t),{...a,name:a.name?a.name:`internal-generated-view-${Rt()}`,_internalWorkspaceData:{...a._internalWorkspaceData,viewIdentifier:a._internalWorkspaceData?.viewIdentifier||Rt()}};// removed by dead control flow
{ var a; }},Ea=e=>({...e,name:void 0}),Fa=e=>{const t={...e};return Ra(t,Ea)},Va=e=>{const t={...e};return Ra(t,(e=>e.name&&e.name.startsWith(Ta)?Ea(e):e))},Na=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=Na(e.content);t.push(...a)})),t},La=async(e,t,a=we)=>{let n;if(await ke(a)){n=(await pe(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map,new Map;const _a=(e,t)=>{const a=Na(t.content);return{...Ra(e,(e=>{const t=a.find((t=>t._internalWorkspaceData?.viewIdentifier===e._internalWorkspaceData?.viewIdentifier)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}},Oa=e=>e?Na(e).length:0,Ua=(Tt()((async e=>{try{const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?Na(t.content):[],n=a.length;n>1?(e=>{"multiView"!==e.attachedPageType&&Aa().Browser.wrapSync(we).updatePage({pageId:e.pageId,page:{singleViewName:null,attachedPageType:"multiView"}})})(e):1===n&&(async(e,t)=>{const a=Aa().Browser.wrapSync(we);if("singleView"!==e.attachedPageType){const n=await Ut(e),o=await Aa().Browser.getUniquePageTitle();delete n.layout;const r={...n,singleViewName:t,title:o,hasUnsavedChanges:!1,attachedPageType:"singleView"};await a.updatePage({pageId:e.pageId,page:r})}})(e,a[0].name),await(async(e,t)=>{const a=Gt({...we,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})})(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js")),Ga=__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js");var Ha=a.n(Ga);const $a=JSON.parse('{"contextMenu.newWindow":"","contextMenu.newPage":"","contextMenu.restore":"","contextMenu.switchWorkspace":"","contextMenu.appearance":"","contextMenu.saveWorkspace":"","contextMenu.saveWorkspaceAs":"...","contextMenu.renameWorkspace":"","contextMenu.deleteWorkspace":"","contextMenu.downloads":"","contextMenu.savePage":"","contextMenu.savePageAs":"...","contextMenu.print":"...","contextMenu.printScreen":"","contextMenu.closeWindow":"","contextMenu.openStorefront":"","contextMenu.quitPlatform":"","contextMenu.newView":"","contextMenu.openView":" Web ","contextMenu.openViews":" Web ","contextMenu.reload":"Reload CN","contextMenu.reloadView":"","contextMenu.reloadViews":"","contextMenu.duplicate":"Duplicate CN","contextMenu.duplicateView":"","contextMenu.duplicateViews":"","contextMenu.addView":"","contextMenu.addViews":"","contextMenu.removeView":"","contextMenu.removeViews":"","contextMenu.closeView":"","contextMenu.closeViews":"","contextMenu.closeTab":"Close Tab CN","contextMenu.duplicatePage":"","contextMenu.submenu.print":"","contextMenu.submenu.printAll":"","saveMenu.saveWorkspaceAs":"","saveMenu.savePageAs":"","saveModal.enterValue":"Please enter a value CN","saveModal.alreadyExists":"{{title}} ","saveModal.pleaseEnterValidName":"","saveModal.renamePage":"","saveModal.closePage":"","saveModal.discardChanges":"","saveModal.discardAll":"","saveModal.saveAll":"","saveModal.savePagesCount":" ({{count}}) ","defaultPageTitle":"Untitled Page CN","enterpriseDefaultPageTitle":"Untitled Supertab CN","addNewPage":"","addNewTab":"","addNewView":"","restoreModal":"","modal.discardWarning":"","modal.discardPageWarning":"","modal.saveChangesPrompt":"","modal.pageClose":"","switchWorkspaceModal":" {{workspace}} ","switchWorkspaceModal.warning":"","deleteWorkspaceModal":"","replaceWorkspaceModal.warning":" {{workspace}} ","replaceWorkspaceModal.warning.body":"","replaceWorkspaceModal.replace":"","closePlatform":"","closePlatform.workspace":" {{workspace}} ","closePlatform.warning":"","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"","toolbar.hideTabs":"","toolbar.showTabs":"","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"","toolbar.changeLayout":"","toolbar.saveMenu":"","toolbar.maximizeWindow":"","toolbar.restoreWindow":"","toolbar.minimizeWindow":"","changeLayout.fullWidth":"","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"","successIndicator.hidden":"","successIndicator.shown":"","successIndicator.locked":"","successIndicator.unlocked":"","successIndicator.workspaceSaved":"","successIndicator.workspaceSavedAs":" {{workspace}}","successIndicator.workspaceRenamed":"","successIndicator.pageSaved":"","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. CN","successIndicator.pageCopySaved":" {{title}}","successIndicator.pageRenamed":"","successIndicator.contextGroupApplied":"","successIndicator.namedContextGroupApplied":" {{colorName}} ","successIndicator.viewRemoved":"","successIndicator.viewsRemoved":"","successIndicator.layoutApplied":" {{layoutName}} ","successIndicator.workspaceDeleted":"","errorIndicator.pageSaveFailed":"","errorIndicator.workspaceSaveFailed":"","errorIndicator.failedToDuplicatePage":"","infoIndicator.colorLinkAttempt":"/","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete CN","appResults.header":"Featured Content CN","recentlyClosed.header":"Recently Closed CN","landingPage.subheader":"Apps and websites selected by an admin will show here CN","aria.openBrowser":"","aria.browserTabs":"","aria.viewTab":" {{title}} ","aria.closePage":" {{title}} ","aria.closeTab":" {{title}}","aria.title":"","aria.closeContextGroup":"","aria.colorLinking":"","aria.applyColorLinking":"","aria.assignColorLinkingCurrentView":" {{name}} ","aria.assignColorLinkingCurrentViews":" {{name}} ","aria.setColorLinkingActiveView":" {{name}} ","aria.setColorLinkingActiveViews":" {{name}} ","aria.escapeLayoutDialog":"","global.supertab":"Supertab CN","global.tab":"Tab CN","bookmarks.editBookmark":"Edit Bookmark CN","bookmarks.bookmarkAdded":"Bookmark added CN","bookmarks.done":"Done CN","bookmarks.remove":"Remove CN","bookmarks.bookmarksPanel":"Bookmarks Panel CN","bookmarks.closePanel":"Close Bookmarks Panel CN","bookmarks.bookmarks":"Bookmarks CN","bookmarks.allBookmarks":"All Bookmarks CN","bookmarks.favorites":"Favorites CN","bookmarks.searchBookmarks":"Search Bookmarks CN","bookmarks.clearSearchInput":"Clear Search Input CN","bookmarks.createFolder":"Create New Folder CN","bookmarks.exitFolder":"Exit Folder CN","bookmarks.newFolder":"New Folder CN","bookmarks.namedFolder":"{{name}} Folder CN","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings CN","bookmarks.folderSettings":"{{name}} Folder Settings CN","bookmarks.noResultsFound":"No results found CN","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search CN","bookmarks.nothingToShow":"Nothing to show yet CN","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder CN","bookmarks.resultsFoundIn":"Results found in {{name}} CN","bookmarks.resultsInOtherFolders":"Results found in other folders CN","bookmarks.allResultsFoundIn":"All results found in CN","bookmarks.editName":"Edit Name CN","bookmarks.move":"Move CN","bookmarks.bookmarkAddedTitle":"Bookmark Added CN","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" CN","bookmarks.bookmarkEditedTitle":"Bookmark Edited CN","enterpriseContextMenu.saveSupertab":"Save Supertab CN","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... CN","enterpriseContextMenu.duplicate":"Duplicate CN","enterpriseContextMenu.deleteSupertab":"Delete Supertab CN","enterpriseContextMenu.newTab":"New Tab CN","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As CN","enterpriseSaveModal.renameSupertab":"Rename CN","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. CN","enterpriseSaveModal.closeTab":"Close Tab CN","enterpriseSaveModal.closeSupertab":"Close Supertab CN","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? CN","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. CN","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? CN","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. CN","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved CN","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. CN","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted CN","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. CN","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab CN","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab CN","enterpriseCommandBar.switchToSupertab":"Switch to Supertab CN","enterpriseCommandBar.goTo":"Go to {{type}} CN","enterpriseCommandBar.viewMore":"View More CN","contextMenu.quitEnterpriseBrowser":"Quit CN"}'),Ka=JSON.parse('{"contextMenu.newWindow":"","contextMenu.newPage":"","contextMenu.restore":"","contextMenu.switchWorkspace":"","contextMenu.appearance":"","contextMenu.saveWorkspace":"","contextMenu.saveWorkspaceAs":"...","contextMenu.renameWorkspace":"","contextMenu.deleteWorkspace":"","contextMenu.downloads":"","contextMenu.savePage":"","contextMenu.savePageAs":"...","contextMenu.print":"...","contextMenu.printScreen":"","contextMenu.closeWindow":"","contextMenu.openStorefront":" Storefront","contextMenu.quitPlatform":"","contextMenu.newView":"","contextMenu.openView":"","contextMenu.openViews":"","contextMenu.reload":"Reload ZH","contextMenu.reloadView":"","contextMenu.reloadViews":"","contextMenu.duplicate":"Duplicate ZH","contextMenu.duplicateView":"","contextMenu.duplicateViews":"","contextMenu.addView":"","contextMenu.addViews":"","contextMenu.removeView":"","contextMenu.removeViews":"","contextMenu.closeView":"","contextMenu.closeViews":"","contextMenu.closeTab":"Close Tab ZH","contextMenu.duplicatePage":"","contextMenu.submenu.print":"","contextMenu.submenu.printAll":"","saveMenu.saveWorkspaceAs":"","saveMenu.savePageAs":"","saveModal.enterValue":"Please enter a value ZH","saveModal.alreadyExists":"{{title}} ","saveModal.pleaseEnterValidName":"","saveModal.renamePage":"","saveModal.closePage":"","saveModal.discardChanges":"","saveModal.discardAll":"","saveModal.saveAll":"","saveModal.savePagesCount":" ({{count}}) ","defaultPageTitle":"Untitled Page ZH","enterpriseDefaultPageTitle":"Untitled Supertab ZH","addNewPage":"","addNewTab":"","addNewView":"","restoreModal":"","modal.discardWarning":"","modal.discardPageWarning":"","modal.saveChangesPrompt":"","modal.pageClose":"","switchWorkspaceModal":" {{workspace}}","switchWorkspaceModal.warning":"","deleteWorkspaceModal":"","replaceWorkspaceModal.warning":" {{workspace}} ","replaceWorkspaceModal.warning.body":"","replaceWorkspaceModal.replace":"","closePlatform":"","closePlatform.workspace":" {{workspace}} ","closePlatform.warning":"APP ","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":" OS ","toolbar.hideTabs":"","toolbar.showTabs":"","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"","toolbar.changeLayout":"","toolbar.saveMenu":"","toolbar.maximizeWindow":"","toolbar.restoreWindow":"","toolbar.minimizeWindow":"","changeLayout.fullWidth":"","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"","successIndicator.hidden":"","successIndicator.shown":"","successIndicator.locked":"","successIndicator.unlocked":"","successIndicator.workspaceSaved":"","successIndicator.workspaceSavedAs":" {{workspace}}","successIndicator.workspaceRenamed":"","successIndicator.pageSaved":"","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. ZH","successIndicator.pageCopySaved":" {{title}}","successIndicator.pageRenamed":"","successIndicator.contextGroupApplied":"","successIndicator.namedContextGroupApplied":"{{colorName}} ","successIndicator.viewRemoved":"","successIndicator.viewsRemoved":"","successIndicator.layoutApplied":"{{layoutName}} ","successIndicator.workspaceDeleted":"","errorIndicator.pageSaveFailed":"","errorIndicator.workspaceSaveFailed":"","errorIndicator.failedToDuplicatePage":"","infoIndicator.colorLinkAttempt":"/","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete ZH","appResults.header":"Featured Content ZH","recentlyClosed.header":"Recently Closed ZH","landingPage.subheader":"Apps and websites selected by an admin will show here ZH","aria.openBrowser":"","aria.browserTabs":"","aria.viewTab":"{{title}} ","aria.closePage":" {{title}} ","aria.closeTab":" {{title}}","aria.title":"","aria.closeContextGroup":" Esc ","aria.colorLinking":"","aria.applyColorLinking":"","aria.assignColorLinkingCurrentView":" {{name}} ","aria.assignColorLinkingCurrentViews":" {{name}} ","aria.setColorLinkingActiveView":" {{name}} ","aria.setColorLinkingActiveViews":" {{name}} ","aria.escapeLayoutDialog":" Esc ","global.supertab":"Supertab ZH","global.tab":"Tab ZH","bookmarks.editBookmark":"Edit Bookmark ZH","bookmarks.bookmarkAdded":"Bookmark added ZH","bookmarks.done":"Done ZH","bookmarks.remove":"Remove ZH","bookmarks.bookmarksPanel":"Bookmarks Panel ZH","bookmarks.closePanel":"Close Bookmarks Panel ZH","bookmarks.bookmarks":"Bookmarks ZH","bookmarks.allBookmarks":"All Bookmarks ZH","bookmarks.favorites":"Favorites ZH","bookmarks.searchBookmarks":"Search Bookmarks ZH","bookmarks.clearSearchInput":"Clear Search Input ZH","bookmarks.createFolder":"Create New Folder ZH","bookmarks.exitFolder":"Exit Folder ZH","bookmarks.newFolder":"New Folder ZH","bookmarks.namedFolder":"{{name}} Folder ZH","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings ZH","bookmarks.folderSettings":"{{name}} Folder Settings ZH","bookmarks.noResultsFound":"No results found ZH","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search ZH","bookmarks.nothingToShow":"Nothing to show yet ZH","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder ZH","bookmarks.resultsFoundIn":"Results found in {{name}} ZH","bookmarks.resultsInOtherFolders":"Results found in other folders ZH","bookmarks.allResultsFoundIn":"All results found in ZH","bookmarks.editName":"Edit Name ZH","bookmarks.move":"Move ZH","bookmarks.bookmarkAddedTitle":"Bookmark Added ZH","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" ZH","bookmarks.bookmarkEditedTitle":"Bookmark Edited ZH","enterpriseContextMenu.saveSupertab":"Save Supertab ZH","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... ZH","enterpriseContextMenu.duplicate":"Duplicate ZH","enterpriseContextMenu.deleteSupertab":"Delete Supertab ZH","enterpriseContextMenu.newTab":"New Tab ZH","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As ZH","enterpriseSaveModal.renameSupertab":"Rename ZH","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. ZH","enterpriseSaveModal.closeTab":"Close Tab ZH","enterpriseSaveModal.closeSupertab":"Close Supertab ZH","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? ZH","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. ZH","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? ZH","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. ZH","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved ZH","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. ZH","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted ZH","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. ZH","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab ZH","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab ZH","enterpriseCommandBar.switchToSupertab":"Switch to Supertab ZH","enterpriseCommandBar.goTo":"Go to {{type}} ZH","enterpriseCommandBar.viewMore":"View More ZH","contextMenu.quitEnterpriseBrowser":"Quit ZH"}'),za=JSON.parse('{"contextMenu.newWindow":"New Window","contextMenu.newPage":"New Page","contextMenu.restore":"Restore to Last Saved Changes","contextMenu.switchWorkspace":"Switch Workspace","contextMenu.appearance":"Appearance","contextMenu.saveWorkspace":"Save Workspace","contextMenu.saveWorkspaceAs":"Save Workspace As...","contextMenu.renameWorkspace":"Rename Workspace","contextMenu.deleteWorkspace":"Delete Workspace","contextMenu.downloads":"Downloads","contextMenu.savePage":"Save Page","contextMenu.savePageAs":"Save Page As...","contextMenu.print":"Print...","contextMenu.printScreen":"Print Screen","contextMenu.closeWindow":"Close Window","contextMenu.openStorefront":"Open Storefront","contextMenu.quitPlatform":"Quit {{platformLabel}}","contextMenu.newView":"New View","contextMenu.openView":"Open View with Default Web Browser","contextMenu.openViews":"Open Views with Default Web Browser","contextMenu.reload":"Reload","contextMenu.reloadView":"Reload View","contextMenu.reloadViews":"Reload Views","contextMenu.duplicate":"Duplicate","contextMenu.duplicateView":"Duplicate View","contextMenu.duplicateViews":"Duplicate Views","contextMenu.addView":"Add View to Channel","contextMenu.addViews":"Add Views to Channel","contextMenu.removeView":"Remove View from Channel","contextMenu.removeViews":"Remove Views from Channel","contextMenu.closeView":"Close View","contextMenu.closeViews":"Close Views","contextMenu.closeTab":"Close Tab","contextMenu.duplicatePage":"Duplicate Page","contextMenu.submenu.print":"Print","contextMenu.submenu.printAll":"Print All","saveMenu.saveWorkspaceAs":"Save Workspace As","saveMenu.savePageAs":"Save Page As","saveModal.enterValue":"Please enter a value","saveModal.alreadyExists":"{{title}} already exists.","saveModal.pleaseEnterValidName":"Please enter a valid name","saveModal.renamePage":"Rename Page","saveModal.closePage":"Close Page","saveModal.discardChanges":"Discard Changes","saveModal.discardAll":"Discard All","saveModal.saveAll":"Save All","saveModal.savePagesCount":"Save ({{count}}) pages before closing?","defaultPageTitle":"Untitled Page","enterpriseDefaultPageTitle":"Untitled Supertab","addNewPage":"New Page","addNewTab":"Add New Tab","addNewView":"New View","restoreModal":"Are you sure you want to restore to last saved changes?","modal.discardWarning":"Any unsaved changes will be discarded","modal.discardPageWarning":"Any unsaved changes to this page will be lost.","modal.saveChangesPrompt":"Save changes before closing?","modal.pageClose":"Page Close","switchWorkspaceModal":"Are you sure you want to switch to {{workspace}}?","switchWorkspaceModal.warning":"Any unsaved changes will be discarded","deleteWorkspaceModal":"Are you sure you want to permanently delete this workspace?","replaceWorkspaceModal.warning":"A Workspace with the name {{workspace}} already exists. Do you want to replace it?","replaceWorkspaceModal.warning.body":"A workspace with the same name already exists. Replacing it will overwrite its current contents.","replaceWorkspaceModal.replace":"Replace","closePlatform":"Close the platform","closePlatform.workspace":"Close the {{workspace}} Platform","closePlatform.warning":"Closing a platform will close any workspaces, apps or any processes that are running.","back":"Back","forward":"Forward","reload":"Reload","green":"Green","purple":"Purple","orange":"Orange","red":"Red","pink":"Pink","yellow":"Yellow","theme.light":"Light","theme.dark":"Dark","theme.system":"Sync with OS setting","toolbar.hideTabs":"Hide Tabs","toolbar.showTabs":"Show Tabs","toolbar.lock":"Lock","toolbar.unlock":"Unlock","toolbar.colorLinking":"Color Linking","toolbar.changeLayout":"Change Layout","toolbar.saveMenu":"Save Menu","toolbar.maximizeWindow":"Maximize Window","toolbar.restoreWindow":"Restore Window","toolbar.minimizeWindow":"Minimize Window","changeLayout.fullWidth":"Full Width","changeLayout.columns":"Columns","changeLayout.Rows":"Rows","changeLayout.Grid":"Grid","successIndicator.workspaceSwitched":"Workspace Switched","successIndicator.hidden":"Tabs are Hidden","successIndicator.shown":"Tabs are Shown","successIndicator.locked":"Page is Locked","successIndicator.unlocked":"Page is Unlocked","successIndicator.workspaceSaved":"Workspace saved","successIndicator.workspaceSavedAs":"Workspace saved as {{workspace}}","successIndicator.workspaceRenamed":"Workspace renamed","successIndicator.pageSaved":"Page Saved","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved.","successIndicator.pageCopySaved":"Page saved as {{title}}","successIndicator.pageRenamed":"Page renamed","successIndicator.contextGroupApplied":"Context group applied","successIndicator.namedContextGroupApplied":"{{colorName}} context group applied","successIndicator.viewRemoved":"View removed from context group","successIndicator.viewsRemoved":"Views removed from context group","successIndicator.layoutApplied":"{{layoutName}} layout applied","successIndicator.workspaceDeleted":"Workspace deleted","errorIndicator.pageSaveFailed":"Page failed to save","errorIndicator.workspaceSaveFailed":"Workspace failed to save","errorIndicator.failedToDuplicatePage":"Failed to duplicate Page","infoIndicator.colorLinkAttempt":"We attempted to color link this tab, but the site/content owner has not enabled it yet","global.cancel":"Cancel","global.confirm":"Confirm","global.save":"Save","global.delete":"Delete","appResults.header":"Featured Content","recentlyClosed.header":"Recently Closed","landingPage.subheader":"Apps and websites selected by an admin will show here","aria.openBrowser":"Open Browser Menu","aria.browserTabs":"Browser Tabs","aria.viewTab":"View Tab for {{title}}","aria.closePage":"Close Page Tab Button for {{title}}","aria.closeTab":"Close Tab {{title}}","aria.title":"Title","aria.closeContextGroup":"Use escape to close context group selection dialog","aria.colorLinking":"Show or hide color linking","aria.applyColorLinking":"Please select a view to apply color linking","aria.assignColorLinkingCurrentView":"Current view assigned to {{name}} context group","aria.assignColorLinkingCurrentViews":"Current views assigned to {{name}} context group","aria.setColorLinkingActiveView":"Set active view to {{name}} context group","aria.setColorLinkingActiveViews":"Set active views to {{name}} context group","aria.escapeLayoutDialog":"Use escape to close change layout dialog","global.supertab":"Supertab","global.tab":"Tab","bookmarks.editBookmark":"Edit Bookmark","bookmarks.bookmarkAdded":"Bookmark added","bookmarks.done":"Done","bookmarks.remove":"Remove","bookmarks.bookmarksPanel":"Bookmarks Panel","bookmarks.closePanel":"Close Bookmarks Panel","bookmarks.bookmarks":"Bookmarks","bookmarks.allBookmarks":"All Bookmarks","bookmarks.favorites":"Favorites","bookmarks.searchBookmarks":"Search Bookmarks","bookmarks.clearSearchInput":"Clear Search Input","bookmarks.createFolder":"Create New Folder","bookmarks.exitFolder":"Exit Folder","bookmarks.newFolder":"New Folder","bookmarks.namedFolder":"{{name}} Folder","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings","bookmarks.folderSettings":"{{name}} Folder Settings","bookmarks.noResultsFound":"No results found","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search","bookmarks.nothingToShow":"Nothing to show yet","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder","bookmarks.resultsFoundIn":"Results found in {{name}}","bookmarks.resultsInOtherFolders":"Results found in other folders","bookmarks.allResultsFoundIn":"All results found in","bookmarks.editName":"Edit Name","bookmarks.move":"Move","bookmarks.bookmarkAddedTitle":"Bookmark Added","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\"","bookmarks.bookmarkEditedTitle":"Bookmark Edited","enterpriseContextMenu.saveSupertab":"Save Supertab","enterpriseContextMenu.saveSupertabAs":"Save Supertab As...","enterpriseContextMenu.duplicate":"Duplicate","enterpriseContextMenu.deleteSupertab":"Delete Supertab","enterpriseContextMenu.newTab":"New Tab","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As","enterpriseSaveModal.renameSupertab":"Rename","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab.","enterpriseSaveModal.closeTab":"Close Tab","enterpriseSaveModal.closeSupertab":"Close Supertab","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing?","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost.","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab?","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent.","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted.","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab","enterpriseCommandBar.switchToSupertab":"Switch to Supertab","enterpriseCommandBar.goTo":"Go to {{type}}","enterpriseCommandBar.viewMore":"View More","contextMenu.quitEnterpriseBrowser":"Quit","dock.removeFavorite":"Remove"}'),Ja=JSON.parse('{"contextMenu.newWindow":"Neues Fenster","contextMenu.newPage":"Neue Seite","contextMenu.restore":"Wiederherstellen der zuletzt gespeicherten nderungen","contextMenu.switchWorkspace":"Workspace wechseln","contextMenu.appearance":"Erscheinungsbild","contextMenu.saveWorkspace":"Workspace speichern","contextMenu.saveWorkspaceAs":"Workspace speichern unter...","contextMenu.renameWorkspace":"Workspace umbenennen","contextMenu.deleteWorkspace":"Workspace lschen","contextMenu.downloads":"Downloads","contextMenu.savePage":"Seite speichern","contextMenu.savePageAs":"Seite speichern unter...","contextMenu.print":"Drucken...","contextMenu.printScreen":"Bildschirmansicht drucken","contextMenu.closeWindow":"Fenster schlieen","contextMenu.openStorefront":"Schaufenster ffnen","contextMenu.quitPlatform":"Plattform verlassen","contextMenu.newView":"Neue Ansicht","contextMenu.openView":"Ansicht mit Standard-Webbrowser ffnen","contextMenu.openViews":"Ansichten mit Standard-Webbrowser ffnen","contextMenu.reload":"Reload DE","contextMenu.reloadView":"Ansicht neu laden","contextMenu.reloadViews":"Ansichten neu laden","contextMenu.duplicate":"Duplicate DE","contextMenu.duplicateView":"Ansicht duplizieren","contextMenu.duplicateViews":"Ansichten duplizieren","contextMenu.addView":"Ansicht zum Channel hinzufgen","contextMenu.addViews":"Ansichten zum Channel hinzufgen","contextMenu.removeView":"Ansicht aus dem Channel entfernen","contextMenu.removeViews":"Ansichten aus dem Channel entfernen","contextMenu.closeView":"Ansicht schlieen","contextMenu.closeViews":"Ansichten schlieen","contextMenu.closeTab":"Close Tab DE","contextMenu.duplicatePage":"Seite duplizieren","contextMenu.submenu.print":"Drucken","contextMenu.submenu.printAll":"Alle drucken","saveMenu.saveWorkspaceAs":"Workspace speichern unter","saveMenu.savePageAs":"Seite speichern unter","saveModal.enterValue":"Please enter a value DE","saveModal.alreadyExists":"{{title}} existiert bereits.","saveModal.pleaseEnterValidName":"Bitte geben Sie einen gltigen Namen ein","saveModal.renamePage":"Seite umbenennen","saveModal.closePage":"Seite schlieen","saveModal.discardChanges":"nderungen verwerfen","saveModal.discardAll":"Alle verwerfen","saveModal.saveAll":"Alle speichern","saveModal.savePagesCount":"({{count}}) Seiten vor dem Schlieen speichern?","defaultPageTitle":"Untitled Page DE","enterpriseDefaultPageTitle":"Untitled Supertab DE","addNewPage":"Neue Seite hinzufgen","addNewTab":"Neuen Tab hinzufgen","addNewView":"Neue Ansicht","restoreModal":"Sind Sie sicher, dass Sie die zuletzt gespeicherten nderungen wiederherstellen wollen?","modal.discardWarning":"Alle nicht gespeicherten nderungen werden verworfen","modal.discardPageWarning":"Alle nicht gespeicherten nderungen auf dieser Seite gehen verloren.","modal.saveChangesPrompt":"nderungen vor dem Schlieen speichern?","modal.pageClose":"Seite schlieen","switchWorkspaceModal":"Sind Sie sicher, dass Sie zu {{workspace}}wechseln wollen?","switchWorkspaceModal.warning":"Alle nicht gespeicherten nderungen werden verworfen","deleteWorkspaceModal":"Sind Sie sicher, dass Sie diesen Workspace dauerhaft lschen wollen?","replaceWorkspaceModal.warning":"Ein Workspace mit dem Namen {{workspace}} existiert bereits. Mchten Sie ihn ersetzen?","replaceWorkspaceModal.warning.body":"Ein Workspace mit demselben Namen existiert bereits. Wenn Sie ihn ersetzen, wird der aktuelle Inhalt berschrieben.","replaceWorkspaceModal.replace":"Ersetzen","closePlatform":"Plattform schlieen","closePlatform.workspace":"Die {{workspace}} Plattform schlieen","closePlatform.warning":"Wenn Sie eine Plattform schlieen, werden alle Workspaces, Apps und laufenden Prozesse beendet.","back":"Zurck","forward":"Weiter","reload":"Neu laden","green":"Grn","purple":"Lila","orange":"Orange","red":"Rot","pink":"Pink","yellow":"Gelb","theme.light":"Hell","theme.dark":"Dunkel","theme.system":"Synchronisierung mit OS-Einstellung","toolbar.hideTabs":"Tabs ausblenden","toolbar.showTabs":"Tabs anzeigen","toolbar.lock":"Sperren","toolbar.unlock":"Freischalten","toolbar.colorLinking":"Farbverknpfung","toolbar.changeLayout":"Layout ndern","toolbar.saveMenu":"Men speichern","toolbar.maximizeWindow":"Fenster maximieren","toolbar.restoreWindow":"Fenster wiederherstellen","toolbar.minimizeWindow":"Fenster minimieren","changeLayout.fullWidth":"Volle Breite","changeLayout.columns":"Spalten","changeLayout.Rows":"Zeilen","changeLayout.Grid":"Raster","successIndicator.workspaceSwitched":"Workspace gewechselt","successIndicator.hidden":"Tabs sind ausgeblendet","successIndicator.shown":"Tabs werden angezeigt","successIndicator.locked":"Seite ist gesperrt","successIndicator.unlocked":"Seite ist freigeschaltet","successIndicator.workspaceSaved":"Workspace gespeichert","successIndicator.workspaceSavedAs":"Workspace gespeichert als {{workspace}}","successIndicator.workspaceRenamed":"Workspace umbenannt","successIndicator.pageSaved":"Seite gespeichert","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. DE","successIndicator.pageCopySaved":"Seite gespeichert als {{title}}","successIndicator.pageRenamed":"Seite umbenannt","successIndicator.contextGroupApplied":"Angewandte Kontextgruppe","successIndicator.namedContextGroupApplied":"{{colorName}} angewandte Kontextgruppe","successIndicator.viewRemoved":"Ansicht aus der Kontextgruppe entfernt","successIndicator.viewsRemoved":"Ansichten aus der Kontextgruppe entfernt","successIndicator.layoutApplied":"{{layoutName}} angewandtes Layout","successIndicator.workspaceDeleted":"Workspace gelscht","errorIndicator.pageSaveFailed":"Seite konnte nicht gespeichert werden","errorIndicator.workspaceSaveFailed":"Workspace konnte nicht gespeichert werden","errorIndicator.failedToDuplicatePage":"Seite kann nicht dupliziert werden","infoIndicator.colorLinkAttempt":"Wir haben versucht, diesem Tab eine Farbe zuordnen, aber der Eigentmer der Website/des Inhalts hat sie noch nicht aktiviert","global.cancel":"Abbrechen","global.confirm":"Besttigen","global.save":"Speichern","global.delete":"Delete DE","appResults.header":"Featured Content DC","recentlyClosed.header":"Recently Closed DC","landingPage.subheader":"Apps and websites selected by an admin will show here DE","aria.openBrowser":"Browser-Men ffnen","aria.browserTabs":"Browser-Tab","aria.viewTab":"Tab Ansicht fr {{title}}","aria.closePage":"Button Seite schlieen fr {{title}}","aria.closeTab":"Tab schlieen {{title}}","aria.title":"Bezeichnung","aria.closeContextGroup":"Verwenden Sie die Escape-Taste, um den Dialog zur Auswahl von Kontextgruppen zu schlieen","aria.colorLinking":"Farbverknpfung ein- oder ausblenden","aria.applyColorLinking":"Bitte whlen Sie eine Ansicht, um die Farbverknpfung anzuwenden","aria.assignColorLinkingCurrentView":"Aktuelle Ansicht, die der Kontextgruppe {{name}} zugeordnet ist","aria.assignColorLinkingCurrentViews":"Aktuelle Ansichten, die der Kontextgruppe {{name}} zugeordnet sind","aria.setColorLinkingActiveView":"Aktive Ansicht auf die Kontextgruppe {{name}} setzen","aria.setColorLinkingActiveViews":"Aktive Ansichten auf die Kontextgruppe {{name}} setzen","aria.escapeLayoutDialog":"Verwenden Sie die Escape-Taste, um den Dialog zur Layoutnderung zu schlieen","global.supertab":"Supertab DE","global.tab":"Tab DE","bookmarks.editBookmark":"Edit Bookmark DE","bookmarks.bookmarkAdded":"Bookmark added DE","bookmarks.done":"Done DE","bookmarks.remove":"Remove DE","bookmarks.bookmarksPanel":"Bookmarks Panel DE","bookmarks.closePanel":"Close Bookmarks Panel DE","bookmarks.bookmarks":"Bookmarks DE","bookmarks.allBookmarks":"All Bookmarks DE","bookmarks.favorites":"Favorites DE","bookmarks.searchBookmarks":"Search Bookmarks DE","bookmarks.clearSearchInput":"Clear Search Input DE","bookmarks.createFolder":"Create New Folder DE","bookmarks.exitFolder":"Exit Folder DE","bookmarks.newFolder":"New Folder DE","bookmarks.namedFolder":"{{name}} Folder DE","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings DE","bookmarks.folderSettings":"{{name}} Folder Settings DE","bookmarks.noResultsFound":"No results found DE","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search DE","bookmarks.nothingToShow":"Nothing to show yet DE","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder DE","bookmarks.resultsFoundIn":"Results found in {{name}} DE","bookmarks.resultsInOtherFolders":"Results found in other folders DE","bookmarks.allResultsFoundIn":"All results found in DE","bookmarks.editName":"Edit Name DE","bookmarks.move":"Move DE","bookmarks.bookmarkAddedTitle":"Bookmark Added DE","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" DE","bookmarks.bookmarkEditedTitle":"Bookmark Edited DE","enterpriseContextMenu.saveSupertab":"Save Supertab DE","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... DE","enterpriseContextMenu.duplicate":"Duplicate DE","enterpriseContextMenu.deleteSupertab":"Delete Supertab DE","enterpriseContextMenu.newTab":"New Tab DE","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As DE","enterpriseSaveModal.renameSupertab":"Rename DE","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. DE","enterpriseSaveModal.closeTab":"Close Tab DE","enterpriseSaveModal.closeSupertab":"Close Supertab DE","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? DE","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. DE","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? DE","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. DE","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved DE","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. DE","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted DE","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. DE","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab DE","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab DE","enterpriseCommandBar.switchToSupertab":"Switch to Supertab DE","enterpriseCommandBar.goTo":"Go to {{type}} DE","enterpriseCommandBar.viewMore":"View More DE","contextMenu.quitEnterpriseBrowser":"Quit DE"}'),qa=JSON.parse('{"contextMenu.newWindow":"","contextMenu.newPage":"","contextMenu.restore":"","contextMenu.switchWorkspace":"","contextMenu.appearance":"","contextMenu.saveWorkspace":"","contextMenu.saveWorkspaceAs":"...","contextMenu.renameWorkspace":"","contextMenu.deleteWorkspace":"","contextMenu.downloads":"","contextMenu.savePage":"","contextMenu.savePageAs":"...","contextMenu.print":"...","contextMenu.printScreen":"","contextMenu.closeWindow":"","contextMenu.openStorefront":"","contextMenu.quitPlatform":"","contextMenu.newView":"","contextMenu.openView":"","contextMenu.openViews":"","contextMenu.reload":"Reload JP","contextMenu.reloadView":"","contextMenu.reloadViews":"","contextMenu.duplicate":"Duplicate JP","contextMenu.duplicateView":"","contextMenu.duplicateViews":"","contextMenu.addView":"","contextMenu.addViews":"","contextMenu.removeView":"","contextMenu.removeViews":"","contextMenu.closeView":"","contextMenu.closeViews":"","contextMenu.closeTab":"Close Tab JP","contextMenu.duplicatePage":"","contextMenu.submenu.print":"","contextMenu.submenu.printAll":"","saveMenu.saveWorkspaceAs":"","saveMenu.savePageAs":"","saveModal.enterValue":"Please enter a value JP","saveModal.alreadyExists":"{{title}}","saveModal.pleaseEnterValidName":"","saveModal.renamePage":"","saveModal.closePage":"","saveModal.discardChanges":"","saveModal.discardAll":"","saveModal.saveAll":"","saveModal.savePagesCount":"{{count}}","defaultPageTitle":"Untitled Page JP","enterpriseDefaultPageTitle":"Untitled Supertab JP","addNewPage":"","addNewTab":"","addNewView":"","restoreModal":"","modal.discardWarning":"","modal.discardPageWarning":"","modal.saveChangesPrompt":"","modal.pageClose":"","switchWorkspaceModal":"{{workspace}}","switchWorkspaceModal.warning":"","deleteWorkspaceModal":"","replaceWorkspaceModal.warning":"{{workspace}}","replaceWorkspaceModal.warning.body":"","replaceWorkspaceModal.replace":"","closePlatform":"","closePlatform.workspace":"{{workspace}}","closePlatform.warning":"","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"OS","toolbar.hideTabs":"","toolbar.showTabs":"","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"","toolbar.changeLayout":"","toolbar.saveMenu":"","toolbar.maximizeWindow":"","toolbar.restoreWindow":"","toolbar.minimizeWindow":"","changeLayout.fullWidth":"","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"","successIndicator.hidden":"","successIndicator.shown":"","successIndicator.locked":"","successIndicator.unlocked":"","successIndicator.workspaceSaved":"","successIndicator.workspaceSavedAs":"{{workspace}}","successIndicator.workspaceRenamed":"","successIndicator.pageSaved":"","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. JP","successIndicator.pageCopySaved":"{{title}}","successIndicator.pageRenamed":"","successIndicator.contextGroupApplied":"","successIndicator.namedContextGroupApplied":"{{colorName}}","successIndicator.viewRemoved":"","successIndicator.viewsRemoved":"","successIndicator.layoutApplied":"{{layoutName}}","successIndicator.workspaceDeleted":"","errorIndicator.pageSaveFailed":"","errorIndicator.workspaceSaveFailed":"","errorIndicator.failedToDuplicatePage":"","infoIndicator.colorLinkAttempt":"/","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete JP","appResults.header":"Featured content JP","recentlyClosed.header":"Recently Closed JP","landingPage.subheader":"Apps and websites selected by an admin will show here JP","aria.openBrowser":"","aria.browserTabs":"","aria.viewTab":"{{title}}","aria.closePage":"{{title}}","aria.closeTab":"{{title}}","aria.title":"","aria.closeContextGroup":"","aria.colorLinking":"/","aria.applyColorLinking":"","aria.assignColorLinkingCurrentView":"{{name}}","aria.assignColorLinkingCurrentViews":"{{name}}","aria.setColorLinkingActiveView":"{{name}}","aria.setColorLinkingActiveViews":"{{name}}","aria.escapeLayoutDialog":"","global.supertab":"Supertab JP","global.tab":"Tab JP","bookmarks.editBookmark":"Edit Bookmark JP","bookmarks.bookmarkAdded":"Bookmark added JP","bookmarks.done":"Done JP","bookmarks.remove":"Remove JP","bookmarks.bookmarksPanel":"Bookmarks Panel JP","bookmarks.closePanel":"Close Bookmarks Panel JP","bookmarks.bookmarks":"Bookmarks JP","bookmarks.allBookmarks":"All Bookmarks JP","bookmarks.favorites":"Favorites JP","bookmarks.searchBookmarks":"Search Bookmarks JP","bookmarks.clearSearchInput":"Clear Search Input JP","bookmarks.createFolder":"Create New Folder JP","bookmarks.exitFolder":"Exit Folder JP","bookmarks.newFolder":"New Folder JP","bookmarks.namedFolder":"{{name}} Folder JP","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings JP","bookmarks.folderSettings":"{{name}} Folder Settings JP","bookmarks.noResultsFound":"No results found JP","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search JP","bookmarks.nothingToShow":"Nothing to show yet JP","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder JP","bookmarks.resultsFoundIn":"Results found in {{name}} JP","bookmarks.resultsInOtherFolders":"Results found in other folders JP","bookmarks.allResultsFoundIn":"All results found in JP","bookmarks.editName":"Edit Name JP","bookmarks.move":"Move JP","bookmarks.bookmarkAddedTitle":"Bookmark Added JP","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" JP","bookmarks.bookmarkEditedTitle":"Bookmark Edited JP","enterpriseContextMenu.saveSupertab":"Save Supertab JP","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... JP","enterpriseContextMenu.duplicate":"Duplicate JP","enterpriseContextMenu.deleteSupertab":"Delete Supertab JP","enterpriseContextMenu.newTab":"New Tab JP","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As JP","enterpriseSaveModal.renameSupertab":"Rename JP","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. JP","enterpriseSaveModal.closeTab":"Close Tab JP","enterpriseSaveModal.closeSupertab":"Close Supertab JP","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? JP","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. JP","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? JP","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. JP","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved JP","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. JP","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted JP","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. JP","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab JP","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab JP","enterpriseCommandBar.switchToSupertab":"Switch to Supertab JP","enterpriseCommandBar.goTo":"Go to {{type}} JP","enterpriseCommandBar.viewMore":"View More JP","contextMenu.quitEnterpriseBrowser":"Quit JP"}'),Za=JSON.parse('{"contextMenu.newWindow":" ","contextMenu.newPage":" ","contextMenu.restore":"    ","contextMenu.switchWorkspace":"  ","contextMenu.appearance":"","contextMenu.saveWorkspace":"  ","contextMenu.saveWorkspaceAs":"    ...","contextMenu.renameWorkspace":"   ","contextMenu.deleteWorkspace":"  ","contextMenu.downloads":"","contextMenu.savePage":" ","contextMenu.savePageAs":"   ...","contextMenu.print":"...","contextMenu.printScreen":" ","contextMenu.closeWindow":" ","contextMenu.openStorefront":" ","contextMenu.quitPlatform":" ","contextMenu.newView":" ","contextMenu.openView":"    ","contextMenu.openViews":"    ","contextMenu.reload":"Reload KR","contextMenu.reloadView":"  ","contextMenu.reloadViews":"  ","contextMenu.duplicate":"Duplicate KR","contextMenu.duplicateView":" ","contextMenu.duplicateViews":" ","contextMenu.addView":"  ","contextMenu.addViews":"  ","contextMenu.removeView":"  ","contextMenu.removeViews":"  ","contextMenu.closeView":" ","contextMenu.closeViews":" ","contextMenu.closeTab":"Close Tab KR","contextMenu.duplicatePage":" ","contextMenu.submenu.print":"","contextMenu.submenu.printAll":" ","saveMenu.saveWorkspaceAs":"    ","saveMenu.savePageAs":"   ","saveModal.enterValue":"Please enter a value KR","saveModal.alreadyExists":"{{title}}()  .","saveModal.pleaseEnterValidName":"  .","saveModal.renamePage":"  ","saveModal.closePage":" ","saveModal.discardChanges":"  ","saveModal.discardAll":" ","saveModal.saveAll":" ","saveModal.savePagesCount":"  ({{count}}) ?","defaultPageTitle":"Untitled Page KR","enterpriseDefaultPageTitle":"Untitled Supertab KR","addNewPage":"  ","addNewTab":"  ","addNewView":" ","restoreModal":"    ?","modal.discardWarning":"     ","modal.discardPageWarning":"       .","modal.saveChangesPrompt":"    ?","modal.pageClose":" ","switchWorkspaceModal":"{{workspace}}() ?","switchWorkspaceModal.warning":"     ","deleteWorkspaceModal":"    ?","replaceWorkspaceModal.warning":"{{workspace}}()     . ?","replaceWorkspaceModal.warning.body":"     .     .","replaceWorkspaceModal.replace":"","closePlatform":" ","closePlatform.workspace":"{{workspace}}  ","closePlatform.warning":"      ,    .","back":" ","forward":" ","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"OS  ","toolbar.hideTabs":" ","toolbar.showTabs":" ","toolbar.lock":"","toolbar.unlock":" ","toolbar.colorLinking":" ","toolbar.changeLayout":" ","toolbar.saveMenu":" ","toolbar.maximizeWindow":" ","toolbar.restoreWindow":" ","toolbar.minimizeWindow":" ","changeLayout.fullWidth":" ","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"  ","successIndicator.hidden":" ","successIndicator.shown":" ","successIndicator.locked":" ","successIndicator.unlocked":"  ","successIndicator.workspaceSaved":"  ","successIndicator.workspaceSavedAs":"  {{workspace}}() ","successIndicator.workspaceRenamed":"   ","successIndicator.pageSaved":" ","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. KR","successIndicator.pageCopySaved":" {{title}}() ","successIndicator.pageRenamed":"  ","successIndicator.contextGroupApplied":"  ","successIndicator.namedContextGroupApplied":"{{colorName}}   ","successIndicator.viewRemoved":"   ","successIndicator.viewsRemoved":"   ","successIndicator.layoutApplied":"{{layoutName}}  ","successIndicator.workspaceDeleted":"  ","errorIndicator.pageSaveFailed":"  ","errorIndicator.workspaceSaveFailed":"   ","errorIndicator.failedToDuplicatePage":"  ","infoIndicator.colorLinkAttempt":"     /    .","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete KR","appResults.header":"Featured Content KR","recentlyClosed.header":"Recently Closed KR","landingPage.subheader":"Apps and websites selected by an admin will show here KR","aria.openBrowser":"  ","aria.browserTabs":" ","aria.viewTab":"{{title}}  ","aria.closePage":"{{title}}   ","aria.closeTab":" {{title}} ","aria.title":"","aria.closeContextGroup":"      ","aria.colorLinking":"    ","aria.applyColorLinking":"    .","aria.assignColorLinkingCurrentView":"{{name}}     ","aria.assignColorLinkingCurrentViews":"{{name}}     ","aria.setColorLinkingActiveView":"  {{name}}   ","aria.setColorLinkingActiveViews":"  {{name}}   ","aria.escapeLayoutDialog":"     ","global.supertab":"Supertab KR","global.tab":"Tab KR","bookmarks.editBookmark":"Edit Bookmark KR","bookmarks.bookmarkAdded":"Bookmark added KR","bookmarks.done":"Done KR","bookmarks.remove":"Remove KR","bookmarks.bookmarksPanel":"Bookmarks Panel KR","bookmarks.closePanel":"Close Bookmarks Panel KR","bookmarks.bookmarks":"Bookmarks KR","bookmarks.allBookmarks":"All Bookmarks KR","bookmarks.favorites":"Favorites KR","bookmarks.searchBookmarks":"Search Bookmarks KR","bookmarks.clearSearchInput":"Clear Search Input KR","bookmarks.createFolder":"Create New Folder KR","bookmarks.exitFolder":"Exit Folder KR","bookmarks.newFolder":"New Folder KR","bookmarks.namedFolder":"{{name}} Folder KR","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings KR","bookmarks.folderSettings":"{{name}} Folder Settings KR","bookmarks.noResultsFound":"No results found KR","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search KR","bookmarks.nothingToShow":"Nothing to show yet KR","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder KR","bookmarks.resultsFoundIn":"Results found in {{name}} KR","bookmarks.resultsInOtherFolders":"Results found in other folders KR","bookmarks.allResultsFoundIn":"All results found in KR","bookmarks.editName":"Edit Name KR","bookmarks.move":"Move KR","bookmarks.bookmarkAddedTitle":"Bookmark Added KR","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" KR","bookmarks.bookmarkEditedTitle":"Bookmark Edited KR","enterpriseContextMenu.saveSupertab":"Save Supertab KR","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... KR","enterpriseContextMenu.duplicate":"Duplicate KR","enterpriseContextMenu.deleteSupertab":"Delete Supertab KR","enterpriseContextMenu.newTab":"New Tab KR","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As KR","enterpriseSaveModal.renameSupertab":"Rename KR","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. KR","enterpriseSaveModal.closeTab":"Close Tab KR","enterpriseSaveModal.closeSupertab":"Close Supertab KR","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? KR","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. KR","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? KR","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. KR","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved KR","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. KR","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted KR","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. KR","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab KR","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab KR","enterpriseCommandBar.switchToSupertab":"Switch to Supertab KR","enterpriseCommandBar.goTo":"Go to {{type}} KR","enterpriseCommandBar.viewMore":"View More KR","contextMenu.quitEnterpriseBrowser":"Quit KR"}'),ja=JSON.parse('{"contextMenu.newWindow":" ","contextMenu.newPage":" ","contextMenu.restore":"   ","contextMenu.switchWorkspace":"  ","contextMenu.appearance":" ","contextMenu.saveWorkspace":"  ","contextMenu.saveWorkspaceAs":"   ...","contextMenu.renameWorkspace":"  ","contextMenu.deleteWorkspace":"  ","contextMenu.downloads":"","contextMenu.savePage":" ","contextMenu.savePageAs":"  ...","contextMenu.print":"...","contextMenu.printScreen":" ","contextMenu.closeWindow":" ","contextMenu.openStorefront":" Storefront","contextMenu.quitPlatform":"  ","contextMenu.newView":" ","contextMenu.openView":"    -  ","contextMenu.openViews":"    -  ","contextMenu.reload":"Reload RU","contextMenu.reloadView":" ","contextMenu.reloadViews":" ","contextMenu.duplicate":"Duplicate RU","contextMenu.duplicateView":" ","contextMenu.duplicateViews":" ","contextMenu.addView":"   ","contextMenu.addViews":"   ","contextMenu.removeView":"   ","contextMenu.removeViews":"   ","contextMenu.closeView":" ","contextMenu.closeViews":" ","contextMenu.closeTab":"Close Tab RU","contextMenu.duplicatePage":" ","contextMenu.submenu.print":"","contextMenu.submenu.printAll":" ","saveMenu.saveWorkspaceAs":"   ","saveMenu.savePageAs":"  ","saveModal.enterValue":"Please enter a value RU","saveModal.alreadyExists":"{{title}}  .","saveModal.pleaseEnterValidName":"  ","saveModal.renamePage":" ","saveModal.closePage":" ","saveModal.discardChanges":" ","saveModal.discardAll":" ","saveModal.saveAll":" ","saveModal.savePagesCount":" ({{count}})   ?","defaultPageTitle":"Untitled Page RU","enterpriseDefaultPageTitle":"Untitled Supertab RU","addNewPage":"  ","addNewTab":"  ","addNewView":" ","restoreModal":" ,      ?","modal.discardWarning":"    ","modal.discardPageWarning":"       .","modal.saveChangesPrompt":"   ?","modal.pageClose":" ","switchWorkspaceModal":" ,     {{workspace}}?","switchWorkspaceModal.warning":"    ","deleteWorkspaceModal":" ,       ?","replaceWorkspaceModal.warning":"    {{workspace}}  .    ?","replaceWorkspaceModal.warning.body":"       .       .","replaceWorkspaceModal.replace":"","closePlatform":" ","closePlatform.workspace":"  {{workspace}}","closePlatform.warning":"       ,    .","back":"","forward":"","reload":"","green":"","purple":"","orange":"","red":"","pink":"","yellow":"","theme.light":"","theme.dark":"","theme.system":"   ","toolbar.hideTabs":" ","toolbar.showTabs":" ","toolbar.lock":"","toolbar.unlock":"","toolbar.colorLinking":"  ","toolbar.changeLayout":" ","toolbar.saveMenu":" ","toolbar.maximizeWindow":" ","toolbar.restoreWindow":" ","toolbar.minimizeWindow":" ","changeLayout.fullWidth":" ","changeLayout.columns":"","changeLayout.Rows":"","changeLayout.Grid":"","successIndicator.workspaceSwitched":"  ","successIndicator.hidden":" ","successIndicator.shown":" ","successIndicator.locked":" ","successIndicator.unlocked":" ","successIndicator.workspaceSaved":"  ","successIndicator.workspaceSavedAs":"    {{workspace}}","successIndicator.workspaceRenamed":"  ","successIndicator.pageSaved":" ","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. RU","successIndicator.pageCopySaved":"   {{title}}","successIndicator.pageRenamed":" ","successIndicator.contextGroupApplied":"  ","successIndicator.namedContextGroupApplied":"  {{colorName}} ","successIndicator.viewRemoved":"    ","successIndicator.viewsRemoved":"    ","successIndicator.layoutApplied":" {{layoutName}} ","successIndicator.workspaceDeleted":"  ","errorIndicator.pageSaveFailed":"   ","errorIndicator.workspaceSaveFailed":"    ","errorIndicator.failedToDuplicatePage":"   ","infoIndicator.colorLinkAttempt":"      ,   /     ","global.cancel":"","global.confirm":"","global.save":"","global.delete":"Delete RU","appResults.header":"Featured Content RU","recentlyClosed.header":"Recently Closed RU","landingPage.subheader":"Apps and websites selected by an admin will show here RU","aria.openBrowser":"  ","aria.browserTabs":" ","aria.viewTab":"  {{title}}","aria.closePage":"      {{title}}","aria.closeTab":"  {{title}}","aria.title":"","aria.closeContextGroup":"     ,  escape","aria.colorLinking":"     ","aria.applyColorLinking":" ,     ","aria.assignColorLinkingCurrentView":" ,    {{name}}","aria.assignColorLinkingCurrentViews":" ,    {{name}}","aria.setColorLinkingActiveView":"      {{name}}","aria.setColorLinkingActiveViews":"      {{name}}","aria.escapeLayoutDialog":"    ,  escape","global.supertab":"Supertab RU","global.tab":"Tab RU","bookmarks.editBookmark":"Edit Bookmark RU","bookmarks.bookmarkAdded":"Bookmark added RU","bookmarks.done":"Done RU","bookmarks.remove":"Remove RU","bookmarks.bookmarksPanel":"Bookmarks Panel RU","bookmarks.closePanel":"Close Bookmarks Panel RU","bookmarks.bookmarks":"Bookmarks RU","bookmarks.allBookmarks":"All Bookmarks RU","bookmarks.favorites":"Favorites RU","bookmarks.searchBookmarks":"Search Bookmarks RU","bookmarks.clearSearchInput":"Clear Search Input RU","bookmarks.createFolder":"Create New Folder RU","bookmarks.exitFolder":"Exit Folder RU","bookmarks.newFolder":"New Folder RU","bookmarks.namedFolder":"{{name}} Folder RU","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings RU","bookmarks.folderSettings":"{{name}} Folder Settings RU","bookmarks.noResultsFound":"No results found RU","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search RU","bookmarks.nothingToShow":"Nothing to show yet RU","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder RU","bookmarks.resultsFoundIn":"Results found in {{name}} RU","bookmarks.resultsInOtherFolders":"Results found in other folders RU","bookmarks.allResultsFoundIn":"All results found in RU","bookmarks.editName":"Edit Name RU","bookmarks.move":"Move RU","bookmarks.bookmarkAddedTitle":"Bookmark Added RU","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" RU","bookmarks.bookmarkEditedTitle":"Bookmark Edited RU","enterpriseContextMenu.saveSupertab":"Save Supertab RU","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... RU","enterpriseContextMenu.duplicate":"Duplicate RU","enterpriseContextMenu.deleteSupertab":"Delete Supertab RU","enterpriseContextMenu.newTab":"New Tab RU","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As RU","enterpriseSaveModal.renameSupertab":"Rename RU","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. RU","enterpriseSaveModal.closeTab":"Close Tab RU","enterpriseSaveModal.closeSupertab":"Close Supertab RU","enterpriseSaveModal.saveSupertabCount":"Save {{count}} Supertabs before closing? RU","enterpriseModal.discardSupertabWarning":"Any unsaved changes to this Supertab will be lost. RU","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? RU","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. RU","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved RU","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.RU","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted RU","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. RU","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab RU","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab RU","enterpriseCommandBar.switchToSupertab":"Switch to Supertab RU","enterpriseCommandBar.goTo":"Go to {{type}} RU","enterpriseCommandBar.viewMore":"View More RU","contextMenu.quitEnterpriseBrowser":"Quit RU"}');const Qa=Ha().t,Ya=async e=>{const t=await qt(e);return await t.dispatch(ea.GetPages)},Xa=async e=>(await qt(e.identity)).dispatch(ea.UpdatePageForWindow,e);let en=!1;async function tn(e,t){const a=!!t;let n=new Set;if(a){const{identity:e,pageId:a}=t,o=Aa().Browser.wrapSync(e),r=await o.getPage(a);r?.panels&&(n=new Set(r.panels.map((({viewOptions:e})=>e.name))))}return e.map((e=>{const t=e.viewOptions.name,o=t?.startsWith(Ta);o&&(!a||a&&!n.has(t))&&delete e.viewOptions.name;const r=(i=e.viewOptions,i.name||=`${Ta}${Rt()}`,i);var i;return{...e,viewOptions:{...r,uuid:we.uuid}}}))}async function an(e){for(const t of e)t.panels&&await on(t.panels)}const nn=e=>null!==e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&/ERR_([A-Z]+_*)+/.test(e.message);async function on(e){const t=e.map((e=>fin.Platform.getCurrentSync().createView(e.viewOptions,fin.me.identity).catch((e=>{if(!nn(e))throw e;console.error(e)}))));return await Promise.all(t)}const rn=(e,t)=>!t.find((t=>t===e)),sn=(e,t)=>`${e} (${t})`,cn=(e,t)=>{if(rn(e,t))return e;let a=1;const n=e.replace(/ *\(\d+\)$/,"");for(;!rn(sn(n,a),t);)a+=1;return sn(n,a)},ln=async()=>{const e=await be();return(await Promise.all(e.map((async e=>{try{return Ya(e.identity)}catch(t){JSON.stringify(e.identity);const a=await e.getOptions();return a.workspacePlatform?.pages||[]}})))).reduce(((e,t)=>e.concat(t)),[])},dn=async()=>(await pt(we)).dispatch(lt.GetSavedPages,void 0),un=async e=>(await pt(we)).dispatch(lt.GetSavedPage,e),pn=async(e,t)=>{const a=await(async e=>(await ln()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Xa({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},wn=async({page:e})=>{await pn(e.pageId,e),await(async e=>(await pt(we)).dispatch(lt.CreateSavedPage,e))({page:e})},hn=async e=>{await un(e)&&await(async e=>(await pt(we)).dispatch(lt.DeleteSavedPage,e))(e)},gn=async({pageId:e,page:t})=>{await pn(e,t);return await(async e=>(await pt(we)).dispatch(lt.UpdateSavedPage,e))({pageId:e,page:t})},mn=async e=>await un(e.pageId)?gn({pageId:e.pageId,page:e}):wn({page:e}),kn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.AttachPagesToWindow,e))(e)},bn=async e=>{const t={...e.page,panels:e.page.panels&&await tn(e.page.panels,e)};t.panels&&await on(t.panels),await Xa({...e,page:t})},yn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.DetachPagesFromWindow,e))(e)},fn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.SetActivePageForWindow,e))(e)},Sn=e=>Ya(e),vn=async({identity:e,pageId:t})=>(await Sn(e)).find((e=>e.pageId===t)),Pn=async e=>{await(async e=>(await qt(e.identity)).dispatch(ea.ReorderPagesForWindow,e))(e)},Cn=new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};async function Mn(e){await Cn.lock();try{const t=Qa(en?"enterpriseDefaultPageTitle":"defaultPageTitle"),a=e??t,[n,o]=await Promise.all([dn(),ln()]),r=[...n,...o].map((({title:e})=>e));return cn(a,r)}finally{Cn.unlock()}}async function xn({page:e}){return{shouldShowModal:!(!e||!e.hasUnsavedChanges)}}async function In({page:e,identity:t}){const a=fin.Application.getCurrentSync();if((await a.getInfo()).initialOptions.enableBeforeUnload){const a=await fin.Application.getCurrentSync().getViews(),n=Na(e.layout.content).filter((e=>e.name&&a.some((t=>t.identity.name===e.name)))).map((e=>fin.View.wrapSync({name:e.name,uuid:t.uuid}))),o=await this.checkViewsForPreventUnload(n);if(o.viewsPreventingUnload.length>0){if((await this.getUserDecisionForBeforeUnload({...o,windowId:t,windowShouldClose:!1,closeType:"page"})).viewsToClose.length!==n.length)return e.pageId,{shouldPageClose:!1}}}return{shouldPageClose:!0}}async function An({pages:e,identity:t}){const a=await Promise.all(e.map((e=>this.shouldPageClose({page:e,closeType:"window",identity:t})))),{pagesPreventingClose:n,pagesNotPreventingClose:o}=e.reduce(((e,t,n)=>!a[n].shouldPageClose?{pagesNotPreventingClose:e.pagesNotPreventingClose,pagesPreventingClose:[...e.pagesPreventingClose,t]}:{pagesPreventingClose:e.pagesPreventingClose,pagesNotPreventingClose:[...e.pagesNotPreventingClose,t]}),{pagesPreventingClose:[],pagesNotPreventingClose:[]});return this.handlePagesAndWindowClose({pagesNotPreventingClose:o,pagesPreventingClose:n,identity:t})}async function Wn({pagesPreventingClose:e,pagesNotPreventingClose:t,identity:a}){return{shouldWindowClose:0===e.length}}async function Dn({page:e}){return Ut(e)}async function Tn(e){return{hasUnsavedChanges:!0}}const Rn=async()=>{const e=Aa(),t=(await be()).map((t=>e.Browser.wrapSync(t.identity)));await Promise.all(t.map((async e=>{const t=await e.getPages();await Promise.all(t.map((async t=>{t.title,await e.updatePage({pageId:t.pageId,page:{hasUnsavedChanges:!1}}),t.pageId,t.title,await mn({...t,hasUnsavedChanges:!1})})))})))},Bn=new Map,En=()=>Bn,Fn=e=>Bn.delete(e);let Vn=!1;const Nn=()=>{Vn||(Vn=!0,fin.Window.wrapSync(ge).once("closed",(()=>{Vn=!1,(async(e,t)=>{await $e(He(e),{source:"Store",...t})})(fin.me.identity,{type:"Navigation",action:"Close Store",skipValueHashing:!0})})))};let Ln,_n,On;const Un=async()=>(void 0===On&&(On=!!(await Q()).disableOpenFinAnalytics),On);async function Gn(e){e.forEach((e=>{var t,a;"Page"===e.type?"Open Page"===e.action?(t=e.data.uuid,a=e,Bn.set(t,a)):"Close Page"===e.action&&Fn(e.data.uuid):"Store"===e.source&&"Close"!==e.action&&Nn()})),await(async e=>{Ln?.sendToOpenFin&&(await Un()||e.forEach((async e=>{const t=At({},e);t.entityId&&(t.entityId.uuid=await xt(t.entityId.uuid),t.entityId.name=await xt(t.entityId.name)),!e.skipValueHashing&&"value"in t&&(t.value=await xt(t.value)),_n(t)})))})(e);const t=e.map((({skipValueHashing:e,...t})=>t));this.handleAnalytics(t)}const Hn=async e=>{Ln=e;Ln?.sendToOpenFin&&!await Un()&&(()=>{const e=N,t=e+K.Analytics,a=document.createElement("IFRAME");a.setAttribute("src",t),a.setAttribute("style","width: 0px !important"),a.setAttribute("style","height: 0px !important"),a.setAttribute("style","display: none !important"),document.body.appendChild(a),_n=async t=>{a.contentWindow.postMessage(t,e)}})();const t=fin.Application.getCurrentSync();t.addListener("view-created",(async e=>{var t;Ke({type:"View",action:"Open View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid,url:await(t=e.viewIdentity,fin.View.wrapSync(t).getInfo().then((e=>e.url)))}})})),t.addListener("view-destroyed",(async e=>{Ke({type:"View",action:"Close View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid}})})),t.addListener("window-closed",(e=>{e.name.startsWith(de.BrowserMenu)||(Ke({type:"Window",action:"Close Window",value:e.name,data:{uuid:e.uuid}}),(async()=>{const e=En(),t=await ln();if(t.length===e.size)return;const a=t.reduce(((e,t)=>e.set(t.pageId,1)),new Map);for(const[t,n]of e)a.has(t)||(n.action="Close Page",Ke(n),Fn(t))})())}))},$n=Ce({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});const Kn=function(e=$n){const t=new Map;return async(a,n,o,r,i)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const s=`${de.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:s});const c=`New ${r} indicator: ${o} ${i}`,l=await fin.Platform.getCurrentSync().createWindow({...e,name:s,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("role","alert"),a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),300),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(c),l.once("closed",(()=>{t.delete(a)}))}}();async function zn(e,t,a,n,o,r){if(a&&fin.me.name!==a){const i={type:e,message:t,parentBrowserName:a,secondaryMessage:n,icon:o,isEnterprise:r};return(await qt({uuid:fin.me.uuid,name:a})).dispatch(ea.ShowBrowserIndicator,i)}const i=new URLSearchParams;if(i.append("type",e),i.append("message",t),i.append("parentName",a||""),i.append("secondaryMessage",n||""),i.append("icon",o||""),i.append("isEnterprise",`${r}`||""),a){const e=pe(a?{uuid:R,name:a}:void 0),t=`${(s=await e.getBounds()).top},${s.left},${s.height},${s.width},${s.bottom},${s.right},${s.content.top},${s.content.left},${s.content.height},${s.content.width}`;i.append("parentBounds",t)}var s;const c=`${(r?await ae():await te())+K.BrowserIndicator}#${i.toString()}`;return Kn("browser"+a,c,t,e,n)}async function Jn(e,t,a,n){const o=await Ae(t);return zn("success",e,t.name,a,n,o)}const qn=async(e=we)=>{const{workspacePlatform:t}=await pe(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},Zn=async(e=we)=>{const t=await Ae(e)||en,a=await Aa().Browser.getUniquePageTitle();let n;if(e&&await ke(e))n=await(async(e,t=we)=>{const{newPageUrl:a}=await qn(t);if(!a)throw new Error("Trying to create a new page without a newPageUrl set");return La(e,a,t)})(a,e);else if(t){const e=await ne();n=await La(a,e)}t&&(n.settings=n.settings??{},n.dimensions=n.dimensions??{},n.settings.hasHeaders=!1,n.settings.reorderEnabled=!0,n.dimensions.headerHeight=0);const o=await Ot(a,n);return t&&(o.hasUnsavedChanges=!1),o};var jn;!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(jn||(jn={}));function Qn(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Yn(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function Xn(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function eo(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const to={name:de.BrowserMenu,alwaysOnTop:!0,autoShow:!0,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!1,saveWindowState:!1};function ao(e){const t={...to,...e};return t.url=function(e,t){if(!W)throw new Error("resolveAbsolutePath can only be used in a window");const a=t??window.location;if(/^(?:[a-z]+:)?\/\//i.test(e))return e;const n=`${a.protocol}//${a.hostname}`;return new URL(e,n).href}(t.url??""),t}const no=function(e){const t=new Map;return{emit:Qn(t,(t=>A&&fin.InterApplicationBus.publish(e,t))),addListener:Yn(t,(t=>A&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),addListenerWithUUID:a=>Yn(t,(t=>A&&fin.InterApplicationBus.subscribe({uuid:a},e,t))),removeListener:eo(t),once:Xn(t)}}("window.menu"),oo=(e,t)=>fin.Window.wrapSync(e).updateOptions({opacity:t}),ro=e=>no.emit("response",e),io=Re((()=>le().getChildWindows()),500);const so=new Map;async function co(e,t){const a=ao(e),n={top:a.top,left:a.left,width:a.defaultWidth||a.width,height:a.defaultHeight||a.height};return t.set("parentName",fin.Window.getCurrentSync().identity.name),{name:a.name,bounds:n,route:`${a.url}#${t.toString()}`}}async function lo({options:e,parameters:t}){const a=t??new URLSearchParams,n=ao(e),{name:o,modalParentIdentity:r}=n;if(!a.has("isEnterprise")){const e=`${await(async e=>(De||(De=await Ae(e)),De))(r)}`;a.set("isEnterprise",e)}let i=await async function(e){return(await io()).find((t=>t.identity.name===e))}(o);if(i)await async function(e,t){const{name:a,bounds:n,route:o}=await co(e,t),r={uuid:fin.me.identity.uuid,name:a},i=fin.Window.wrapSync(r);await Promise.all([oo(r,0),i.setBounds(n)]),i.once("blurred",(()=>{oo(r,0),i.hide(),ro({name:r.name,data:{actionName:"Cancel"}})})),no.emit("update",a,n,o),await ro({name:a,data:{actionName:"Cancel"}})}(n,a);else{const{route:t,bounds:o}=await co(e,a);i=await async function(e,t,a){const n=ao(e),o=await vt(fin.me.identity),r=await Pt(fin.me.identity)===m.Dark,i=o?.theme;if(n.backgroundColor=i?.[r?m.Dark:m.Light]?.palette?.inputBackground||n.backgroundColor,!so.has(n.name))return new Promise((e=>{no.once("ready",(async t=>{if(t.name===n.name){const a=await so.get(n.name);a.once("blurred",(async()=>{if(oo(t,0),a.hide(),ro({name:n.name,data:{actionName:"Cancel"}}),a.identity.name===de.BrowserSaveMenu){const e=await a.getOptions();"submitting"!==e.customContext&&"error"!==e.customContext&&a.close()}else a.identity.name.startsWith(de.BrowserMenu)&&a.close()})),setTimeout((async()=>{await oo(t,1),1!==(await fin.Window.wrapSync(t).getOptions()).opacity&&oo(t,1)})),e(a)}}));const o=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(Ce({...n,opacity:0,url:t||n.url,defaultLeft:a?.left,defaultTop:a?.top,defaultWidth:a?.width,defaultHeight:a?.height},!0));return e.once("closed",(()=>{so.delete(n.name)})),e})();so.set(n.name,o)}));return so.get(n.name)}({...n},t,o)}return i}const uo=async({options:e,content:t,parameters:a})=>{const n=a??new URLSearchParams;n.set("content",JSON.stringify({...t,invocationId:Rt()}));const o={...e,name:`${e.name}--${e.modalParentIdentity?.name??""}`};return await lo({options:o,parameters:n}),new Promise((e=>{no.once("response",(async t=>{t.name===o.name&&e({data:t.data})}))}))},po=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t)=>{const a=await Ae(t);return{title:"Switch Workspace",windowOptions:{url:await oe(a,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:t},content:{title:Qa("switchWorkspaceModal",{workspace:e}),body:Qa("switchWorkspaceModal.warning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(t,a?void 0:e),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await uo({options:i,content:o})).data.actionName},wo=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ae(e);return{title:"Delete Workspace",windowOptions:{url:await oe(a,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:144,defaultWidth:410,modalParentIdentity:e},content:{title:Qa("deleteWorkspaceModal"),body:`${t}`,buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Confirm"===(await uo({options:r,content:n})).data.actionName},ho=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t,a)=>{const n=await Ae(e);return{title:"Platform Quit",windowOptions:{url:await oe(n,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:a?void 0:e},content:{title:Qa("Platform"===t?"closePlatform":"closePlatform.workspace",{workspace:t}),body:Qa("closePlatform.warning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t,a),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await uo({options:i,content:o})).data.actionName},go=async e=>{const{windowOptions:t,content:a}=await(async e=>{const t=await Ae(e);return{title:"Restore Changes",windowOptions:{url:await oe(t,!1)+K.ResponseModal,name:de.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:e},content:{title:Qa("restoreModal"),body:Qa("modal.discardWarning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel"},{label:Qa("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e),n=await Le(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return"Confirm"===(await uo({options:o,content:a})).data.actionName},mo=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ae(e);return{title:"Delete Page",windowOptions:{url:new URL(await oe(a,!1)+K.ResponseModal).toString(),name:de.BrowserMenu,defaultHeight:172,defaultWidth:464,modalParentIdentity:e},content:{title:Qa("enterpriseDeleteModal.deleteSupertab",{title:t}),body:Qa("enterpriseDeleteModal.deleteSupertabWarning"),buttons:{right:[{label:Qa("global.cancel"),type:"secondary",id:"Cancel",variant:a?"outline":void 0},{label:Qa("global.delete"),type:"primary",id:"Delete",variant:a?"submit":void 0}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Delete"===(await uo({options:r,content:n})).data.actionName};async function ko({options:e,...t}){if(!(!!e?.skipPrompt||await po(e?.promptContainerWindowIdentity,t.title,e?.shouldCenterModalOnMonitor)))return!1;const a=Aa();return await a.applySnapshot(t.snapshot,{...e?.applySnapshotOptions??{},closeExistingWindows:e?.applySnapshotOptions?.closeExistingWindows??!0}),fo(t),zn("success",Qa("successIndicator.workspaceSwitched")).catch(console.warn),!0}async function bo(e){try{return await ko(e)}catch(e){return console.error("failed to apply the current workspace: ",e),!1}}async function yo(e){try{const t=await async function(){const e=Aa(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();if(!t)return"not-saved-workspace";return!!e?.skipPrompt||await go(e?.promptContainerWindowIdentity)?(await ko({options:{skipPrompt:!0,applySnapshotOptions:e?.applySnapshotOptions},...t}),"success"):"user-declined"}catch(e){throw console.error("failed to restore last saved workspace: ",e),e}}function fo(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);sa(Bt.CurrentWorkspaceId,t)}catch(e){console.error("failed to set the active workspace: ",e)}}async function So(){const e=Aa(),t=await e.getSnapshot();return{workspaceId:Rt(),title:await Mo(),metadata:{APIVersion:O},snapshot:t}}async function vo(){if("undefined"==typeof localStorage)return So();const e=ca(Bt.CurrentWorkspaceId);if(!e)return So();const t=JSON.parse(e),a=Aa(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:O},snapshot:n}}const Po=async()=>(await pt(we)).dispatch(lt.GetSavedWorkspaces,void 0),Co=async e=>await(async e=>(await pt(we)).dispatch(lt.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await pt(we)).dispatch(lt.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await pt(we)).dispatch(lt.CreateSavedWorkspace,e))({workspace:e});async function Mo(e="Untitled Workspace"){const t=(await Po()).map((({title:e})=>e));return cn(e,t)}const xo=e=>({...e,snapshot:{...e.snapshot,windows:e.snapshot.windows.map((e=>({...e,workspacePlatform:{...e.workspacePlatform,pages:e.workspacePlatform?.pages?.map((e=>({...e,hasUnsavedChanges:!1})))}})))}}),Io=async(e,t)=>{const a=t??Aa();await a.Storage.saveWorkspace(xo(e)),await(async()=>(await pt(we)).dispatch(lt.MarkUnsavedPagesAsSavedInternal,void 0))()},Ao=async e=>{const t=Aa(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))await Io(a,t),await t.setActiveWorkspace(a),await Jn(Qa("successIndicator.workspaceSaved"),e);else{const a=t.Browser.wrapSync(e);await a._openSaveModal({menuType:x.SAVE_WORKSPACE})}},Wo=e=>{Aa().Browser.wrapSync(e)._openSaveModal({menuType:x.SAVE_WORKSPACE_AS})},Do=async e=>{const t=Aa().Browser.wrapSync(e),{newPageUrl:a}=await qn(),n=await Zn(e),o=a||void 0;await t._addDefaultPage({identity:e,page:n,newPageUrl:o})},To=async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=await Aa().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId)),i=await Ae(e);if(r)try{await Aa().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0,layout:Va(d.layout)})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),Jn(Qa(i?"enterpriseSuccessIndicator.supertabSaved":"successIndicator.pageSaved"),e,Qa(i?"enterpriseSuccessIndicator.supertabHasBeenSaved":"successIndicator.pageHasBeenSaved",{title:o.title}))}catch{s=Qa("errorIndicator.pageSaveFailed"),c=o.parentIdentity.name,zn("error",s,c,l)}else a._openSaveModal({id:o.pageId,menuType:x.SAVE_PAGE});var s,c,l,d},Ro=async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:x.SAVE_PAGE_AS}),Ke({type:"Page Modal",action:"Select Save As",value:n.title,skipValueHashing:!0})},Bo={title:"Downloads",pageId:"downloads-page-id",layout:{content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{name:"show-download-view",url:"chrome://downloads/"}}]}]}},Eo=async e=>{const t=pe(e),a=await t.getCurrentViews(),n=(await Aa().Browser.wrapSync(t.identity).getPages()).find((e=>e.isActive));try{const t=(await Promise.all(a.map((async e=>({identity:e.identity,info:await fin.View.wrapSync(e.identity).getInfo()}))))).find((e=>"chrome://downloads/"===e.info.url));if(t)await fin.View.wrapSync(t.identity).focus();else{const t=Aa();if(n?.isLocked){const e=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>"show-download-window"===e.identity.name));return void(e?await e.focus():t.Browser.createWindow({name:"show-download-window",workspacePlatform:{pages:[Bo]}}))}(await Aa().createView({name:"show-download-view",url:"chrome://downloads/",target:e},e)).focus()}}catch(e){console.error("Couldn't open downloads view",e)}},Fo=async e=>{const t=e.map((e=>fin.View.wrapSync(e).print()));await Promise.all(t)},Vo=e=>{const[t,a,n]=e.split(".").map((e=>"x"===e?0:1));return 100*t+10*a+1*n};class No extends Error{}const Lo=async e=>{try{const a=await async function(){const e=await Q(),t=e?.translationOverridesUrl??"https://workspace.openfin.co/workspace/assets/translation-override.json";if(""===t)throw new No("Empty string provided as url to translationOverridesUrl, overrides will not be fetched.");return await fetch(t).then((e=>e.json()))}();(t=(e=>{const t=O.split(".");return Object.keys(e).filter((e=>{const a=e.split(".");if(3!==a.length)return console.warn(`Encountered a translation override version string in an unsupported format: ${e}. Versions must be in A.B.C format where A, B, C are either integers or the wildcard symbol 'x'.`),!1;const[n,o,r]=a;return!(n!==t[0]&&"x"!==n||o!==t[1]&&"x"!==o||r!==t[2]&&"x"!==r)}))})(a),[...t].sort(((e,t)=>Vo(e)-Vo(t)))).forEach((t=>{const n=a[t];Object.keys(n).forEach((t=>{e.addResourceBundle(t,"translation",n[t],!0,!0)}))}))}catch(e){e instanceof No?console.warn(e.message):console.error("Error applying a translation override: ",e)}var t};function _o(){return Ha().language}const Oo=async e=>{Ho(e),(e=>{Ha().changeLanguage(e)})(e),await(async e=>{const t=await be();return Promise.all(t.map((async t=>{const a=await qt(t.identity);await a.dispatch(ea.SetSelectedLanguage,e)})))})(e)};function Uo(){if(!Ha().options.resources)throw new Error("No language resources found");return{currentLanguage:_o(),resources:Ha().options.resources}}async function Go(e="en-US"){Ho(e),function(e="en-US"){Ha().use(Ua.initReactI18next).init({lng:e,fallbackLng:"en-US",resources:{"en-US":{translation:za},"ja-JP":{translation:qa},"zh-CN":{translation:$a},"ko-KR":{translation:Za},"ru-RU":{translation:ja},"de-DE":{translation:Ja},"zh-Hant":{translation:Ka}},interpolation:{escapeValue:!1}})}(e),await Lo(Ha())}function Ho(e){if(!M.includes(e))throw new Error(`The ISO language provided ${e} is not supported`)}const $o=["green","purple","orange","red","pink","yellow"],Ko="CONTEXT_GROUP_PAGE",zo=()=>e=>class extends e{getContextGroups(){return super.getContextGroups().map((e=>$o.includes(e.displayMetadata?.name)?{...e,displayMetadata:{...e.displayMetadata,name:Qa(e.displayMetadata?.name)}}:e))}},Jo=()=>{const e=new Set;return t=>class extends t{constructor(){super(),this.onClientConnected=e=>{e.name.startsWith("internal-generated-view")&&this.joinContextGroup({contextGroupId:Ko,target:e},{uuid:this.fin.me.uuid,name:this.fin.me.name})};const e=this.interopClients.set;this.interopClients.set=(t,a)=>{e.call(this.interopClients,t,a),this.onClientConnected(a.clientIdentity)}}async joinContextGroup({contextGroupId:t,target:a},n){if(t!==Ko)return super.joinContextGroup({contextGroupId:t,target:a},n);try{const t=(await Aa().Browser.getPageByViewIdentity(a)).page.layoutName;if(!t)throw new Error("View does not belong to a page");if(!e.has(t)&&(e.add(t),!this.contextGroupsById.has(t))){const e=new Map;this.contextGroupsById.set(t,e)}await super.joinContextGroup({contextGroupId:t,target:a},n),a.name}catch(e){JSON.stringify(a),e.stack}}getContextGroups(){return Array.from(e).map((e=>({id:e,displayMetadata:{}})))}setContextForGroup(e,t){if(!this.contextGroupsById.has(t)){const e=new Map;this.contextGroupsById.set(t,e)}return super.setContextForGroup(e,t)}}},qo=(e,t)=>{const a=(e=>We(e)?Jo():zo())(t);try{return"function"==typeof e?t=>e(a(t)):Array.isArray(e)?[...e,a]:e=>new(a(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}},Zo=new Map;async function jo(){if("undefined"!=typeof localStorage)try{const e=ca(Bt.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await fe(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}async function Qo(e=fin.me.identity){await ke(e)&&(Zo.delete(e.name),Zo.set(e.name,e),function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);sa(Bt.LastFocusedBrowserWindow,t)}catch(e){console.error("failed to save last focused browser window: ",e)}}(e))}async function Yo(e=fin.me.identity){Zo.delete(e.name)}const Xo=Tt()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===de.BrowserMenu||n.identity.name===de.BrowserSaveMenu?t=n:await ke(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});let er={};const tr=async({actionId:e,payload:t})=>{if("function"!=typeof er[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return er[e](t)},ar=()=>`custom-context-menu-${Aa().identity.uuid}-${O}`,nr=()=>`custom-bookmark-context-menu-${Aa().identity.uuid}-${O}`,or=()=>fin.InterApplicationBus.Channel.connect(ar());var rr,ir;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(rr||(rr={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu"}(ir||(ir={}));const sr=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),cr=e=>e+"-"+fin.me.uuid,lr=(e,t)=>{const a=D&&A&&new sr.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},dr=(e,t)=>{const a=lr(cr(e),t),n=lr(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=ca(Bt.HasMovedStore),o=n?JSON.parse(n):{};if(o&&o[a])return;o[a]=!0,sa(Bt.HasMovedStore,JSON.stringify(o));const r=await e[a].toArray();await t[a].bulkPut(r)})(n,a,e),a},ur=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),pr="visited-sites",wr="removed-tab-stack",hr=D&&A&&dr("openfin-home-pages","pages"),gr=D&&A&&new sr.Dexie(cr("openfin-enterprise-site-history"));gr&&gr.version(.1).stores({[pr]:"id, url"});const mr=D&&A&&new sr.Dexie(cr("openfin-enterprise-tab-history"));async function kr(e){if(!hr)throw new Error("Unable to get page - IndexDB not supported");const t=await hr.pages.get(e);if(t)return t.pageId=e.toString(),t.title=t.title||t.pageId,t}async function br(e){if(!hr)throw new Error("Unable to get page list - IndexDB not supported");const t=await hr.pages.toCollection().keys(),a=(await Promise.all(t.map((e=>kr(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>ur(t.title,e))):a}async function yr({page:e}){if(!hr)throw new Error("Unable to create page - IndexDB not supported");await hr.pages.put(e,e.pageId)}async function fr(e){if(!hr)throw new Error("Unable to delete page - IndexDB not supported");await hr.pages.delete(e)}async function Sr({pageId:e,page:t}){if(!hr)throw new Error("Unable to update page - IndexDB not supported");if(void 0===await kr(e))throw new Error("page not found");await yr({page:t}),e!==t.pageId&&await fr(e)}mr&&mr.version(.1).stores({[wr]:""});const vr=async e=>{if(!mr)throw new Error("Unable to add removed tab - IndexDB not supported");const t=Date.now().toString(),a={...e,id:t};await mr[wr].put(a,t)};function Pr(e){return"app"===e.type||"website"===e.type}const Cr=async e=>{if("website"===e.type){const t=e,a=t.url||"";let n=await gr[pr].get(a);n&&Pr(n)?(n.icon=t.icon,n.title=t.title,n.type=t.type,n.visitCount=(n.visitCount||0)+1,n.url=t.url):n={...t,id:a,visitCount:1,accessTime:void 0},n.accessTime=Date.now(),await gr[pr].put(n,a)}},Mr=async()=>{if(!gr)throw new Error("Unable to get frequently visited sites - IndexDB not supported");const e=gr[pr],t=await e.toCollection().toArray();t.sort(((e,t)=>(t.visitCount||0)-(e.visitCount||0)));return(t.length>5?t.slice(0,5):t).map((({id:e,...t})=>t))};const xr=async()=>(await fin.System.getHostSpecs()).name.toLowerCase().includes("windows"),Ir=async e=>{const{ctrlKey:t,metaKey:a,shiftKey:n}=e.sourceEvent,{url:o}=e.bookmark,{sourceIdentity:r}=e,i=await xr();if(!await ke(r))return await(async e=>{const t=Aa(),a=await La(e.url,e.url),n=await Ot(e.url,a);me((await t.Browser.createWindow({workspacePlatform:{pages:[n]}})).identity)})(e.bookmark);const s=Aa().Browser.wrapSync(r),c=await s.getPages(),l=(await s._getLayoutsWithSelectedViews()).find((e=>e.isActive));if(!l)throw Error(`Browser ${r} does not have any active layouts`);const d=c.find((e=>e.isActive)),u=1===Oa(d.layout.content),p=l.selectedViews[0];u?await(async({isWindows:e,ctrlKey:t,metaKey:a,currentViewId:n,browserIdentity:o,url:r,shiftKey:i,activePage:s,pages:c})=>{if(e?t:a){const e=Aa().Browser.wrapSync(o),t=await La(r,r,o),a={...await Ot(r,t),attachedPageType:"singleView",singleViewName:r},n=c.findIndex((e=>e.pageId===s.pageId));await e._addPage(a,{index:n+1}),i&&e.setActivePage(a.pageId)}else fin.View.wrapSync(n).navigate(r)})({isWindows:i,ctrlKey:t,metaKey:a,currentViewId:p,browserIdentity:r,url:o,shiftKey:n,activePage:d,pages:c}):await(async({isWindows:e,ctrlKey:t,metaKey:a,currentViewId:n,browserIdentity:o,url:r,shiftKey:i,activeLayout:s})=>{if(e?t:a){const e=fin.View.wrapSync(n),t=await e.getCurrentStack(),a=(await t.getViews()).findIndex((e=>e.name===n.name)),i={url:r,browserIdentity:o,title:r};await t.addView(i,{index:a+1})}else await fin.View.wrapSync(s.selectedViews[0]).navigate(r)})({isWindows:i,ctrlKey:t,metaKey:a,currentViewId:p,browserIdentity:r,url:o,shiftKey:n,activeLayout:l})};var Ar;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Ar||(Ar={}));const Wr={type:Ar.Separator,data:void 0},Dr=async()=>({type:Ar.Submenu,label:Qa("contextMenu.print"),submenu:[{type:Ar.Label,label:Qa("contextMenu.submenu.print"),data:{type:f.Print}},{type:Ar.Label,label:Qa("contextMenu.submenu.printAll"),data:{type:f.PrintAll}},Wr,{type:Ar.Label,label:Qa("contextMenu.printScreen"),data:{type:f.PrintScreen}}]}),Tr=()=>({type:Ar.Label,label:Qa("contextMenu.closeWindow"),data:{type:g.CloseWindow}}),Rr=e=>({type:Ar.Label,label:Qa(e?"contextMenu.quitEnterpriseBrowser":"contextMenu.quitPlatform"),data:{type:g.Quit}}),Br=()=>({type:Ar.Label,label:Qa("contextMenu.newWindow"),data:{type:g.NewWindow}}),Er=e=>({type:Ar.Label,label:Qa(e?"enterpriseContextMenu.saveSupertab":"contextMenu.savePage"),data:{type:g.SavePage}}),Fr=e=>({type:Ar.Label,label:Qa(e?"enterpriseContextMenu.saveSupertabAs":"contextMenu.savePageAs"),data:{type:g.SavePageAs}}),Vr=(e,t)=>({type:Ar.Label,label:Qa(t?"enterpriseContextMenu.newTab":"contextMenu.newPage"),data:{type:g.NewPage},enabled:e}),Nr=()=>({label:Qa("contextMenu.switchWorkspace")}),Lr=()=>({label:Qa("contextMenu.deleteWorkspace")}),_r=()=>({label:Qa("contextMenu.appearance")}),Or=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:Ar.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),Ur=async()=>{const e=await Aa().Theme.getSelectedScheme();return[{label:Qa("theme.light"),type:Ar.Checkbox,checked:e===m.Light,data:{type:g.Appearance,scheme:m.Light}},{label:Qa("theme.dark"),type:Ar.Checkbox,checked:e===m.Dark,data:{type:g.Appearance,scheme:m.Dark}},{label:Qa("theme.system"),type:Ar.Checkbox,checked:e===m.System,data:{type:g.Appearance,scheme:m.System}}]},Gr=async(e,t=[])=>{const a=await Se(),{newPageUrl:n}=await qn(e),o=await(async e=>{const t=pe(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),r=await(async e=>{const t=pe(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),i=await Ae(e),s=[],c=t.length>0;n&&(s.push(Br()),o||s.push(Vr(!r,i))),s.push(Wr);const l=Aa(),d=await l.getCurrentWorkspace(),u=await l.Storage.getWorkspaces(),p=u.find((e=>e.workspaceId===d.workspaceId));s.push({type:Ar.Label,label:Qa("contextMenu.restore"),data:{type:g.RestoreChanges},enabled:!!p}),s.push({type:Ar.Label,label:Qa("contextMenu.saveWorkspace"),data:{type:g.SaveWorkspace},enabled:!!p}),s.push({type:Ar.Label,label:Qa("contextMenu.saveWorkspaceAs"),data:{type:g.SaveWorkspaceAs}}),s.push({type:Ar.Label,label:Qa("contextMenu.renameWorkspace"),data:{type:g.RenameWorkspace},enabled:!!p}),u.some((e=>e.workspaceId!==d.workspaceId))?s.push({label:Nr().label,submenu:Or(d,u,g.SwitchWorkspace),data:void 0},{label:Lr().label,submenu:Or(d,u,g.DeleteWorkspace),data:void 0}):s.push({label:Nr().label,enabled:!1,data:void 0},{label:Lr().label,enabled:!1,data:void 0}),s.push({label:Qa("contextMenu.downloads"),data:{type:g.Downloads}});const w=await l.Theme.getThemes();return(w[0]&&"palettes"in w[0]||!w[0]||0===w.length)&&s.push({label:_r().label,submenu:await Ur(),data:void 0}),s.push(Wr,Er(i),Fr(i),await(async e=>{const t=await xr();return{label:Qa("contextMenu.print"),submenu:[{type:Ar.Label,label:Qa("contextMenu.submenu.print"),data:{type:g.Print},enabled:e},{type:Ar.Label,label:Qa("contextMenu.submenu.printAll"),data:{type:g.PrintAll}},...t?[Wr,{type:Ar.Label,label:Qa("contextMenu.printScreen"),data:{type:g.PrintScreen}}]:[]],data:void 0}})(c)),a?[...s,Tr(),Wr,{type:Ar.Label,label:Qa("contextMenu.openStorefront"),data:{type:g.OpenStorefront}},Wr,Rr()]:[...s,Wr,Tr(),Wr,Rr()]},Hr=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await qn(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{url:t,target:e,title:"New Tab"}})(e);await Aa().createView(o,e,n.identity)},$r=async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=(await a.getPages()).find((e=>e.isActive)),o=await fin.Window.wrapSync(e).getCurrentViews();if(t.length===o.length-(n.panels??[]).length){return void(await qt(e)).dispatch(ea.ClosePage,{pageId:n?.pageId})}const r=fin.Platform.getCurrentSync();t.forEach((async t=>{const o=await fin.View.wrapSync(t).getParentLayout();await r.closeView(t);const{hasUnsavedChanges:i}=await(async e=>(await wt(we)).dispatch(lt.HandlePageChanges,e))({page:{...n,layout:await o.getConfig()},identity:e,eventDetails:{type:h.ViewRemoved,viewIdentity:t}});i&&await a.updatePage({pageId:n.pageId,page:{hasUnsavedChanges:!0}})}))},Kr=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await qn(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},zr=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await Aa().createView(n,e,t.identity)})(e,a)}))},Jr=async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await qt(e)).dispatch(ea.AddToChannel,n)},qr=async(e,t)=>{(await qt(e)).dispatch(ea.RemoveFromChannel,t)},Zr=async(e,t)=>{if(!e)return;const a=t.identity,n=fin.Window.wrapSync(a);switch(Ke({type:"View Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e.type){case f.Back:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateBack()));await Promise.all(t)})(t.selectedViews);break;case f.Forward:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateForward()));await Promise.all(t)})(t.selectedViews);break;case f.Print:await Fo(t.selectedViews);break;case f.PrintAll:await n.print({content:"views",includeSelf:!1});break;case f.PrintScreen:await n.print({content:"screenshot"});break;case f.CloseViews:await $r(a,t.selectedViews);break;case f.OpenWithDefaultBrowser:await Kr(a,t.selectedViews);break;case f.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case f.NewView:await Hr(a,t);break;case f.DuplicateViews:zr(a,t.selectedViews);break;case f.AddToChannel:Jr(a,e.option,t.selectedViews);break;case f.RemoveFromChannel:qr(a,t.selectedViews);break;case f.Custom:if(e.action){const n={callerType:C.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,n)}}};let jr="Platform";const Qr=async()=>jr;const Yr=async(e,t)=>{if(!e)return;const a=t.identity,n=await qt(a),o=Aa().Browser.wrapSync(a),r=fin.Window.wrapSync(a);if(Ke({type:"Global Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0,data:{action:e.action?.id}}),await Ae(a)){const a=await(async(e,t)=>{const a=t.identity,n=Aa().Browser.wrapSync(a),o=(await n.getPages()).find((e=>e.isActive)),r=Gt({...a,layoutName:o.layoutContainerKey}),i=t.selectedViews;switch(e?.type){case b.Lock:await n.updatePage({pageId:o.pageId,page:{isLocked:!o.isLocked}});break;case b.AddToChanel:e.option?await Jr(a,e.option,i):null===e.option&&await qr(a,i);break;case g.NewWindow:{const e=await Zn(a);await Aa().Browser.createWindow({workspacePlatform:{pages:[e],windowType:"enterprise"}});break}case b.Pin:{const{alwaysOnTop:e}=await n.openfinWindow.getOptions();await n.openfinWindow.updateOptions({alwaysOnTop:!e});break}case b.ShowHideTabs:await r.isShowingTabs()?await r.hide():await r.show();break;default:return!1}return!0})(e,t);if(a)return}switch(e.type){case g.NewWindow:{const{newPageUrl:e}=await qn(a);if(!e)throw new Error("Trying to create a new empty window without a newPageUrl set");Aa().createView({target:void 0,url:e});break}case g.NewPage:await Do(a);break;case g.CloseWindow:n.dispatch(ea.CloseBrowserWindow);break;case g.SaveWorkspace:await Ao(a);break;case g.SavePage:await To(a);break;case g.SavePageAs:await Ro(a);break;case g.SaveWorkspaceAs:await Wo(a);break;case g.RenameWorkspace:o._openSaveModal({menuType:x.RENAME_WORKSPACE});break;case g.SwitchWorkspace:await(async(e,t)=>{const a=Aa(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));a.applyWorkspace(n,{skipPrompt:!1,promptContainerWindowIdentity:e})})(a,e);break;case g.DeleteWorkspace:await(async(e,t)=>{const a=Aa(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await wo(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),Jn(Qa("successIndicator.workspaceDeleted"),e))})(a,e);break;case g.Downloads:await Eo(a);break;case g.Appearance:await Aa().Theme.setSelectedScheme(e.scheme);break;case g.Quit:{const e=Qr();await ho(a,await e)&&fin.Platform.getCurrentSync().quit()}break;case g.OpenStorefront:(async()=>{await Se()&&me(ge)})();break;case g.RestoreChanges:await yo();break;case g.Print:await Fo(t.selectedViews);break;case g.PrintAll:await r.print({content:"views",includeSelf:!1});break;case g.PrintScreen:await r.print({content:"screenshot"});break;case g.Custom:if(e.action){const t={callerType:C.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,t)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}},Xr=async(e,t,a)=>{const n=Aa().Browser.wrapSync(t.identity),o=fin.Window.wrapSync(t.identity),r=await qt(t.identity),i=await Ae();switch(e&&Ke({type:"Page Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e?.type){case k.Save:await To(t.identity,t.pageId);break;case k.SaveAs:await Ro(t.identity,t.pageId);break;case k.NewPage:await Do(t.identity);break;case k.DeletePage:await(async(e,t)=>{const a=Aa(),n=a.Browser.wrapSync(e),o=(await a.Storage.getPages()).find((e=>e.pageId===t));o&&await mo(e,o.title)&&(await a.Storage.deletePage(o.pageId),await n.removePage(t),Jn(Qa("enterpriseSuccessIndicator.supertabDeleted"),e,Qa("enterpriseSuccessIndicator.supertabHasBeenDeleted",{title:o.title})))})(t.identity,t.pageId);break;case k.Rename:if(await Ae(t.identity)){await n.setActivePage(t.pageId);const e=await or();await e.dispatch("open",{parentIdentity:t.identity,type:ir.RenameSupertab,anchorBehavior:ti.Center,x:a.left+a.width/2-164,y:a.bottom-8,payload:{pageId:t.pageId}})}else await n._openSaveModal({menuType:x.RENAME_PAGE,id:t.pageId});break;case k.Duplicate:r.dispatch(ea.DuplicatePage,t.pageId);break;case k.Close:i?await(async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=await a.getPages();for(const o of n)if(o.pageId===t){await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o});break}})(t.identity,t.pageId):r.dispatch(ea.ClosePage,{pageId:t.pageId});break;case k.Custom:if(e.action){const a={callerType:C.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`);break;case k.Refresh:await(async(e,t)=>{const a=Aa(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>t?e.pageId===t:e.isActive));o?.layout?.content&&Na(o.layout.content).forEach((async e=>{(await fin.View.wrap({uuid:a.identity.uuid,name:e.name})).reload()}))})(t.identity,t.pageId);break;case k.CloseOthers:await(async(e,t)=>{const a=Aa().Browser.wrapSync(e),n=await a.getPages();for(const o of n)o.pageId!==t&&(await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o}))})(t.identity,t.pageId);break;case k.SaveWorkspaceAs:await Wo(t.identity);break;case k.Print:{const e=await n._getLayoutsWithSelectedViews(),{selectedViews:a}=e.find((e=>e.pageId===t.pageId));await Fo(a);break}case k.PrintAll:await n.setActivePage(t.pageId),await o.print({content:"views",includeSelf:!1});break;case k.PrintScreen:await n.setActivePage(t.pageId),await o.print({content:"screenshot"})}},ei=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case v.SavePage:await To(a);break;case v.SaveWorkspace:await Ao(a);break;case v.SavePageAs:await Ro(a);break;case v.SaveWorkspaceAs:await Wo(a);break;case v.Custom:if(e.action){const a={callerType:C.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Aa()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}}};var ti;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(ti||(ti={}));const ai=async(e,t,a,n)=>{const{x:o,y:r,identity:i,template:s,callback:c}=e,l=await Ae(i),{data:d}=l?await(async(e,t,a,n)=>{if(!A)throw new Error("showEnterpriseContextMenu can only be used in a Here env. Avoid calling this method during pre-rendering.");if(!n&&!fin.me.isWindow)throw new Error("showEnterpriseContextMenu can only be used in a Here window.");const o=fin.Window.wrapSync({uuid:we.uuid,name:de.EnterpriseContextMenu});await o.isShowing()&&await o.blur();const r=await or(),i=new Promise(((e,t)=>{r.register("response",(t=>{e(t)}))})),{x:s,y:c,template:l}=e;return await r.dispatch("open",{parentIdentity:n.identity,responseIdentity:we,type:t,anchorBehavior:a,x:s,y:c,payload:{template:l}}),i})({x:o,y:r,template:s},a,n,fin.Window.wrapSync(i)):await function(e,t){if(!A)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:o,y:r,template:s},fin.Window.wrapSync(i));c(d,e)};async function ni(e,t){const a=await Ae(e.identity),n=a?await(async({identity:e,selectedViews:t})=>{const a=Aa(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>e.isActive)),r=Oa(o.layout.content)>1,i=await Ae(e),s=await a.Theme.getThemes(),c=s[0]&&"palettes"in s[0]||!s[0]||0===s.length,l={...Er(i),enabled:r},d={...Fr(i),enabled:r};return[Br(),Vr(!0,i),{type:Ar.Separator},l,d,{type:Ar.Separator},...c?[{type:Ar.Submenu,label:_r().label,submenu:await Ur()}]:[],{type:Ar.Separator},Tr(),{type:Ar.Separator},Rr(!0)]})({identity:e.identity,selectedViews:e.selectedViews}):await Gr(e.identity,e.selectedViews),o=await Qr();a||(n.find((e=>e.data?.type===g.Quit)).label=`Quit ${o}`);const{rect:r,...i}=e,{x:s,y:c}=a?{x:r.left+r.width,y:r.bottom}:e,l={...i,x:s,y:c,template:n,callback:Yr};await this.openGlobalContextMenu(l,t)}async function oi(e,t){const a={...e,callback:Zr};await this.openViewTabContextMenu(a,t)}async function ri(e,t){const a=await(async(e,t)=>{const a=await Aa().Storage.getPage(e),n=await ln(),o=await Ae(t),r=n.find((t=>t.pageId===e)),i=Oa(r.layout.content)>1,{workspacePlatform:s}=await pe(t).getOptions(),c=!(s.isLocked||s.preventPageClose||r.closeButton?.disabled||r.closeButton?.hidden),l=[{type:Ar.Label,label:Qa("enterpriseContextMenu.newTab"),data:{type:k.NewPage}},Wr,{type:Ar.Label,label:Qa("reload"),data:{type:k.Refresh}},{type:Ar.Label,label:Qa("enterpriseContextMenu.duplicate"),data:{type:k.Duplicate},enabled:!s.isLocked},await Dr(),Wr,{type:Ar.Label,label:Qa(i?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:k.Close},enabled:c}],d=[{type:Ar.Label,label:Qa("enterpriseContextMenu.newTab"),data:{type:k.NewPage}},Wr,{type:Ar.Label,label:Qa("enterpriseSaveModal.renameSupertab"),data:{type:k.Rename},enabled:!s.isLocked&&!!a&&i},{type:Ar.Label,label:Qa("enterpriseContextMenu.duplicate"),data:{type:k.Duplicate},enabled:!s.isLocked},Wr,{type:Ar.Label,label:Qa("enterpriseContextMenu.saveSupertab"),data:{type:k.Save},enabled:i},{type:Ar.Label,label:Qa("enterpriseContextMenu.saveSupertabAs"),data:{type:k.SaveAs},enabled:i},Wr,{type:Ar.Label,label:Qa("enterpriseContextMenu.deleteSupertab"),data:{type:k.DeletePage},enabled:!!a},Wr,{type:Ar.Label,label:Qa(i?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:k.Close},enabled:c}],u=[{type:Ar.Label,label:Qa("contextMenu.savePage"),data:{type:k.Save},enabled:!0},{type:Ar.Label,label:Qa("saveMenu.savePageAs"),data:{type:k.SaveAs},enabled:!0},{type:Ar.Label,label:"Save Workspace As",data:{type:k.SaveWorkspaceAs}},{type:Ar.Label,label:"Refresh",data:{type:k.Refresh}},Wr,{type:Ar.Label,label:Qa("saveModal.renamePage"),data:{type:k.Rename},enabled:!!a},{type:Ar.Label,label:Qa("contextMenu.duplicatePage"),data:{type:k.Duplicate},enabled:!s.isLocked},Wr,{type:Ar.Label,label:Qa("saveModal.closePage"),data:{type:k.Close},enabled:c}];return o?i?d:l:u})(e.pageId,e.identity),n={...e,template:a,callback:(t,a)=>{Xr(t,a,e.rect)}};await this.openPageTabContextMenu(n,t)}async function ii(e,t){const a={...e,template:await(async()=>{const e=Aa(),t=await e.getCurrentWorkspace(),a=(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));return[{type:Ar.Label,label:Qa("contextMenu.saveWorkspace"),enabled:!!a,data:{type:v.SaveWorkspace}},{type:Ar.Label,label:Qa("saveMenu.saveWorkspaceAs"),data:{type:v.SaveWorkspaceAs}},{type:Ar.Separator,data:void 0},{type:Ar.Label,label:Qa("contextMenu.savePage"),data:{type:v.SavePage}},{type:Ar.Label,label:Qa("saveMenu.savePageAs"),data:{type:v.SavePageAs}}]})(),callback:ei};await this.openSaveButtonContextMenu(a,t)}const si="dock-companion-updates",ci=async()=>(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===de.DockCompanion)),li=ot(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`),di=async()=>{const e=Aa();let t=await async function(){const e=Array.from(Zo.values());for(let t=e.length-1;t>=0;t--){const a=fin.Window.wrapSync(e[t]);if(await a.isShowing())return e[t]}}();if(t){const a=e.Browser.wrapSync(t),n=(await a.getPages()).at(-1),o=Na(n.layout.content);if(1===o.length&&Te(o[0].url))await a.setActivePage(n.pageId);else{const e=await Zn(t),{newPageUrl:n}=await qn();await a._addDefaultPage({identity:a.identity,page:e,newPageUrl:n||void 0})}}else{const a=fin.Window.wrapSync({uuid:fin.me.uuid,name:de.DockCompanion}),n=await Pe(await a.getBounds()),o=await async function(e,t,a){const n=await fin.System.getMonitorInfo(),o=a?.availableRect??n.primaryMonitor.availableRect,r={width:o.right-o.left,height:o.bottom-o.top},i=Math.min(e,r.height),s=Math.min(t,r.width),c=o.top+Math.floor((r.height-i)/2);return{height:i,width:s,left:o.left+Math.floor((r.width-s)/2),top:c}}(600,900,n),r=await Zn();t=(await e.Browser.createWindow({defaultHeight:600,defaultWidth:900,defaultLeft:o.left,defaultTop:o.top,workspacePlatform:{pages:[r]}})).identity}(await qt(t)).dispatch(ea.FocusAndExpandSearchInternal)},ui="dock-provider-configs",pi=D&&A&&new sr.Dexie(cr("dock-provider-configs"));async function wi(e){if(!pi)throw new Error("Unable to get Dock provider config - IndexDB not supported");try{return await pi[ui].get(e)}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDB",e)}}async function hi(e){if(!pi)throw new Error("Unable to save Dock provider config - IndexDB not supported");await pi[ui].put(e,e.id)}pi&&pi.version(.1).stores({[ui]:""});const gi="workspaces",mi=D&&A&&dr("openfin-workspace-platform-workspaces",gi);async function ki(e){if(!mi)throw new Error("Unable to get workspace - IndexDB not supported");const t=await mi[gi].get(e);return t&&(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId),t}async function bi(e){if(!mi)throw new Error("Unable to get workspaces - IndexDB not supported");const t=await mi[gi].toCollection().keys(),a=(await Promise.all(t.map((e=>ki(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>ur(t.title,e))):a}async function yi({workspace:e}){if(!mi)throw new Error("Unable to create workspace - IndexDB not supported");const t=(await bi()).find((t=>t.title===e.title));if(t&&t.workspaceId!==e.workspaceId)throw new Error(`Workspace with title '${e.title}' already exists.`);await mi[gi].put(e,e.workspaceId)}async function fi(e){if(!mi)throw new Error("Unable to delete workspace - IndexDB not supported");await mi[gi].delete(e)}async function Si({workspaceId:e,workspace:t}){if(!mi)throw new Error("Unable to update workspace - IndexDB not supported");if(!await ki(e))throw new Error("workspace not found");await yi({workspace:t}),e!==t.workspaceId&&await fi(e)}const vi=e=>{const t=e.layout,a=t.content?Na(t.content):[],n=a.length;return n>1?{...e,singleViewName:null}:1===n?{...e,singleViewName:a[0].name}:void 0},Pi=async(e,t,a)=>{const n=await Aa().Browser.getAllAttachedPages(),o=new Set(n.map((e=>e.title)).filter((e=>!!e))),r=new Set(n.map((e=>e.pageId)).filter((e=>!!e))),i=t?.defaultPageOptions,s="enterprise"===a?.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType,c=await ee(),l=await(async(e,t,a)=>{if(a)return ne();const n=t?.workspacePlatform?.newTabUrl;if(n)return n;const o=e?.defaultWindowOptions?.workspacePlatform?.newTabUrl;return o||void 0})(t,a,s);return Promise.all(e.map((async e=>{if("reparent"===e.multiInstanceViewBehavior)return{...e,layoutContainerKey:Rt()};((e,t)=>{e.pageId||=Rt(),t.has(e.pageId)&&(console.warn("PageID collision detected. All Page IDs should be unique. A random new pageId will be generated"),e.pageId=Rt()),t.add(e.pageId)})(e,r),s?e.iconUrl=`${c}/enterprise/icons/enterprise-page.svg`:e.title=cn(e.title,Array.from(o.keys())),o.add(e.title),e.panels?.reduce(((e,t)=>{const a=Object.values(w);if(!a.includes(t.position))throw new Error(`Encountered a panel with unsupported position "${t.position}". Supported positions are: ${a.toString()}`);if(1==e[t.position])throw new Error(`Found more than 1 panel at position: ${t.position}. Only 1 panel at a given position is currently supported.`);return{...e,[t.position]:e[t.position]+1}}),{[w.Left]:0,[w.Right]:0,[w.Top]:0,[w.Bottom]:0});const a="panels"in e?e.panels:i?.panels;let n=(d=e.layout,u=t?.defaultViewOptions,Ra({...d},(e=>Ba(e,u))));var d,u;l&&!n?.settings?.newTabButton&&(n={...n,settings:{...n?.settings,newTabButton:{url:l}}});return{...i,...e,panels:a&&await tn(a),layoutContainerKey:Rt(),layout:n,isLayoutCreated:!1}})))};async function Ci(e){return e?"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==":(await Q()).displayViewTabDefaultIcon?"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==":"data:image/svg+xml,%3Csvg%20style%3D%22background-color%3A%237D808A%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%2010%2010%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M4.64648%200.874962C4.84174%200.6797%205.15833%200.6797%205.35359%200.874962L9.12482%204.6462C9.32009%204.84146%209.32009%205.15804%209.12482%205.3533L5.35359%209.12454C5.15833%209.3198%204.84174%209.3198%204.64648%209.12454L0.875245%205.3533C0.679982%205.15804%200.679982%204.84146%200.875245%204.6462L4.64648%200.874962ZM5.00003%201.93562L1.9359%204.99975L5.00003%208.06388L8.06416%204.99975L5.00003%201.93562Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E"}const Mi={dimensions:{borderWidth:3,headerHeight:30}},xi=(we.uuid,de.BrowserAddressSearchPrefix);async function Ii(e,t,a){let n=e;const o="enterprise"===n.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType;if(n.layout&&!n.workspacePlatform?.pages?.length){const e=await Mn(),a={...await Ot(e,n.layout),isActive:!0};n.workspacePlatform||={},n.workspacePlatform.pages=await Pi([a],t,n)}t?.browserIconSize&&(n.workspacePlatform||={},n.workspacePlatform.browserIconSize=t.browserIconSize);const r=a?.themes?.[0];if(n.workspacePlatform?.pages?.length){const e=await Pi(n.workspacePlatform.pages,t,n),i=e,s=(e=>{if(!e)return;let t=e.find((e=>e.isActive));return!t&&e.length>0&&(e[0].isActive=!0,t=e[0]),t})(i);if(i.forEach((e=>{e.pageId!==s?.pageId&&(e.isActive=!1)})),await an(i),n.workspacePlatform.pages=e,n=At({},await(async e=>({contextMenuOptions:{enabled:!1},experimental:{showFavicons:!0,defaultFaviconUrl:await Ci(e)},viewVisibility:{showViewsOnSplitterDrag:{enabled:!0},showViewsOnWindowResize:{enabled:!0}}}))(o),t?.defaultWindowOptions,n,await(async e=>({backgroundThrottling:!0,url:await oe(e,!0),contextMenu:!0,closeOnLastViewRemoved:!1,permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}}))(o)),s.layout=At(s.layout,Mi),async function(e){if(e.icon||e.taskbarIcon){const t=fin.Application.getCurrentSync(),a=await(await t.getWindow()).getOptions();e.taskbarIconGroup||=a.taskbarIconGroup||fin.me.identity.uuid}if(e.workspacePlatform.icon)if("object"==typeof e.workspacePlatform.icon){const t=window.matchMedia("(prefers-color-scheme: dark)");e.icon=t.matches?e.workspacePlatform.icon.dark:e.workspacePlatform.icon.light}else e.icon=e.workspacePlatform.icon}(n),!n.backgroundColor&&r)if("palette"in r)n.backgroundColor=r?.palette?.background2||r?.palette?.backgroundPrimary;else{const e=a.selectedScheme===m.Dark||a.selectedScheme===m.System&&window.matchMedia("(prefers-color-scheme: dark)")?r?.palettes.dark:r?.palettes.light;n.backgroundColor=e?.background2||e?.backgroundPrimary}n=Ce(n,!0);const c=await oe(o,!0);c&&(n.url=c),n.layout=s.layout,n.layoutSnapshot=((e,t)=>({layouts:e.reduce(((e,a)=>{if(!a.isActive){if(!t)return e;if(!vi(a).singleViewName)return e}return e[a.layoutContainerKey]=a.layout,e}),{}),pages:e}))(n.workspacePlatform.pages,o),n.workspacePlatform.windowType=n.workspacePlatform.windowType??P.Browser}if(n.cornerRounding&&delete n.cornerRounding,n.name||n.layoutSnapshot?n.contextMenuOptions?.template?.length>0?n.contextMenuOptions.template=n.contextMenuOptions.template.filter((e=>"print"!==e)):n.contextMenuOptions={template:[],enabled:!1}:n.name=`${de.ClassicWindow}-${Rt()}`,n.workspacePlatform&&a&&(n.workspacePlatform._themeData=a),o){const e=await ne();n.workspacePlatform.newPageUrl=e,n.workspacePlatform.newTabUrl=e,n.layout&&(n.layout.dimensions.borderWidth=4,n.layout.dimensions.headerHeight=28),n.name=n.name||`${de.BrowserWindow}-${Rt()}`;const t=xi+n.name,a=fin.Application.getCurrentSync();if(!(await a.getViews()).some((e=>e.identity.name===t))&&n.name.startsWith(de.BrowserWindow)){const e=await ae()+K.BrowserPopupMenuAddressSearchResultsView;(await fin.View.create({name:t,contextMenuOptions:{enabled:!0},url:e,target:fin.me.identity,bounds:{top:0,left:0,width:0,height:0}})).navigate(e)}}return n}const Ai=async(e,t)=>{const a={uuid:t.uuid,name:t.name};await ho(a,e.title??await Qr(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()},Wi=e=>{const t=e.name===de.Home,a=e.name?.startsWith(de.HomeInternal),n=e.name?.startsWith(de.BrowserMenu)||e.name?.startsWith(de.BrowserSaveMenu);return!t&&!a&&!n};const Di=e=>JSON.parse(JSON.stringify(e));async function Ti(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const Ri=e=>{const t=Di(e);return t._internalWorkspaceData?.browserNavigationButtons&&(t.workspacePlatform={...t.workspacePlatform,browserNavigationButtons:t._internalWorkspaceData.browserNavigationButtons},delete t._internalWorkspaceData.browserNavigationButtons),t},Bi=e=>{const t=Di(e);return t.workspacePlatform&&(t._internalWorkspaceData={...t._internalWorkspaceData,...t.workspacePlatform},delete t.workspacePlatform),t},Ei={reload:[{keys:"Ctrl+R",preventDefault:!0}],back:[{keys:"Alt+Left",preventDefault:!0}],forward:[{keys:"Alt+Right",preventDefault:!0}]},Fi={reload:[{keys:"Cmd+R",preventDefault:!0}],back:[{keys:"Cmd+[",preventDefault:!0},{keys:"Cmd+Left",preventDefault:!0}],forward:[{keys:"Cmd+]",preventDefault:!0},{keys:"Cmd+Right",preventDefault:!0}]},Vi=async()=>await xr()?Ei:Fi,Ni=(e,t)=>{const a=fin.View.wrapSync(e);if(!t)return;const n=e=>{(async(e,t,a)=>{if("keyDown"!==a.inputType)return;const n=await(async e=>{const t=await e.getCurrentWindow(),a=await t.getOptions(),n=a.workspacePlatform?.navigationButtons;return n.enabled&&!n.hotkeysDisabled})(e),o=await xr();if(n){if(t.reload){const n=a.ctrlKey&&!a.altKey&&!a.metaKey&&!a.shiftKey&&"r"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"r"===a.key;(o?n:r)&&t?.reload&&(e.reload(),Ke({type:"View",action:"Reload",value:e.identity.name}))}if(t.back){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"["===a.key;(o?n:r||i)&&t?.back&&(e.navigateBack(),Ke({type:"View",action:"Back",value:e.identity.name}))}if(t.forward){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"]"===a.key;(o?n:r||i)&&t?.forward&&(e.navigateForward(),Ke({type:"View",action:"Forward",value:e.identity.name}))}}})(a,t,e)};a.addListener("hotkey",n),a.once("destroyed",(()=>{a.removeListener("hotkey",n)}))},Li=(e,t)=>Di(e).map((e=>("componentState"in e?e.componentState=t(e.componentState):"content"in e&&(e.content=Li(e.content,t)),e))),_i=e=>{if(e){const t=Di(e);return t.content&&(t.content=Li(t.content,Ri)),t}return e},Oi=e=>{if(e){const t=Di(e);return t.content&&(t.content=Li(t.content,Bi)),t}return e};async function Ui({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case c.Snapshot:return a.applySnapshot(e.manifest);case c.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case c.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}let Gi;const Hi=()=>{if(!Gi){const e=ot(`${"undefined"!=typeof fin&&fin.me.identity.uuid}-enterprise-app-directory`);Gi=e()}return Gi};async function $i(e){if(!await Ae(e.identity))return[];return(await Hi()).dispatch(Qt.GetApps,e.req)}async function Ki(e){if(!await Ae(e.identity))return[];return(await Hi()).dispatch(Qt.GetSearchProviders,e)}async function zi(e){return(await Hi()).dispatch(Qt.GetCuratedContent,e)}async function Ji(e){return(await Hi()).dispatch(Qt.GetRecentlyVisited,e)}async function qi(e){const t=(await be()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await qt(e)).dispatch(ea.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():Lt()}let Zi=[];const ji=()=>Zi;async function Qi(e){const t=e=>{if(!e.includes("#")&&!e.includes("rgb")&&!e.includes("hsl"))throw new Error("Background primary color is not the right format.")};e.forEach((e=>{"palette"in e&&t(e.palette.backgroundPrimary),"palettes"in e&&(t(e.palettes.dark.backgroundPrimary),t(e.palettes.light.backgroundPrimary))})),(e=>{const t=e[0];if("palette"in t){const{palette:e}=t;wa.setPalettes({dark:e,light:e})}if("palettes"in t){const{dark:e,light:a}=t.palettes;wa.setPalettes({dark:e,light:a})}})(e),Zi=e}const Yi=(e,t)=>a=>{const n=null!==e;return class extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e,analytics:{isSupported:!0}}),this.detachPagesFromWindow=yn,this.getAllAttachedPages=ln,this.getPagesForWindow=Sn,this.getPageForWindow=vn,this.markUnsavedPagesAsSavedInternal=Rn,this.launchApp=Ui,this.savePage=mn,this.saveWorkspace=Co,this.createSavedPageInternal=wn,this.updateSavedPageInternal=gn,this.deleteSavedPageInternal=hn,this.reorderPagesForWindow=Pn,this.getUniquePageTitle=Mn,this.updatePageForWindow=bn,this.getLastFocusedBrowserWindow=jo,this.getThemes=ji,this.invokeCustomActionInternal=tr,this.requestQuitPlatformDialogInternal=Ai,this.getCurrentWorkspace=vo,this.setActiveWorkspace=fo,this.getLanguageResourcesInternal=Uo,this.getPageByViewIdentity=async e=>{const t=await fin.Platform.Layout.getLayoutByViewIdentity(e),a=t.identity;if(!("layoutName"in a))throw new Error("Failed to get layout's identity");const n=await Aa().Browser.wrapSync(t.identity).getPages(),o=n.findIndex((e=>e.layoutName===a.layoutName));if(-1===o)throw new Error("Failed to get page's index");return{windowIdentity:{name:t.identity.name,uuid:t.identity.uuid},page:n[o],pageIndex:o}},this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.getDockProviderConfig=this.getDockProviderConfig.bind(this),this.saveDockProviderConfig=this.saveDockProviderConfig.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.restoreLastSavedWorkspaceInternal=this.restoreLastSavedWorkspaceInternal.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this),this.getSelectedScheme=this.getSelectedScheme.bind(this),this.setSelectedScheme=this.setSelectedScheme.bind(this),this.analyticsInternal=this.analyticsInternal.bind(this),this.handleAnalytics=this.handleAnalytics.bind(this),this.getLanguage=this.getLanguage.bind(this),this.setLanguage=this.setLanguage.bind(this),this.handleSaveModalOnPageClose=this.handleSaveModalOnPageClose.bind(this),this.shouldPageClose=this.shouldPageClose.bind(this),this.shouldWindowClose=this.shouldWindowClose.bind(this),this.handlePagesAndWindowClose=this.handlePagesAndWindowClose.bind(this),this.setActivePage=this.setActivePage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.copyPage=this.copyPage.bind(this),this.addPage=this.addPage.bind(this),this.addDefaultPage=this.addDefaultPage.bind(this),this.markUnsavedPagesAsSavedInternal=this.markUnsavedPagesAsSavedInternal.bind(this),this.trackRemovedTabInternal=this.trackRemovedTabInternal.bind(this),this.restoreRemovedTabInternal=this.restoreRemovedTabInternal.bind(this),this.trackVisitedSiteInternal=this.trackVisitedSiteInternal.bind(this),this.getRecentlyVisitedSitesInternal=this.getRecentlyVisitedSitesInternal.bind(this),this.getFrequentlyVisitedSitesInternal=this.getFrequentlyVisitedSitesInternal.bind(this),this.searchSitesInternal=this.searchSitesInternal.bind(this),this.getSearchProvidersInternal=this.getSearchProvidersInternal.bind(this),this.getCuratedContentInternal=this.getCuratedContentInternal.bind(this),this.handleRequestNavigationInternal=this.handleRequestNavigationInternal.bind(this),this.refreshBookmarksInternal=this.refreshBookmarksInternal.bind(this),this.launchBookmarkInternal=this.launchBookmarkInternal.bind(this),this.getNotificationsConfig=this.getNotificationsConfig.bind(this),this.updateDockFavoritesInternal=this.updateDockFavoritesInternal.bind(this),this.updateContentMenuInternal=this.updateContentMenuInternal.bind(this),this.launchDockEntryInternal=this.launchDockEntryInternal.bind(this),this.setDockFavoritesOrderInternal=this.setDockFavoritesOrderInternal.bind(this),this.navigateContentMenuInternal=this.navigateContentMenuInternal.bind(this),this.setDefaultDockButtonsOrderInternal=this.setDefaultDockButtonsOrderInternal.bind(this),this.getDockWorkspacesContextMenuInternal=this.getDockWorkspacesContextMenuInternal.bind(this),this.handleDockWorkspacesMenuResponseInternal=this.handleDockWorkspacesMenuResponseInternal.bind(this),this.removeDockFavoriteInternal=this.removeDockFavoriteInternal.bind(this),this.addDockFavoriteInternal=this.addDockFavoriteInternal.bind(this),this.focusAndExpandSearchInternal=this.focusAndExpandSearchInternal.bind(this)}async applyWorkspace(...e){return bo.apply(this,e)}async restoreLastSavedWorkspaceInternal(...e){return yo.apply(this,e)}async getSnapshot(){const e=n?await qi((async()=>Lt(await super.getSnapshot(void 0,fin.me.identity)))):await Lt(await super.getSnapshot(void 0,fin.me.identity));let t={...e,windows:e.windows.filter(Wi).map(Nt)};return t=(e=>{const t=Di(e);return t.windows.forEach((e=>{e.layout&&(e.layout=_i(e.layout)),e.workspacePlatform?.pages?.forEach((e=>{e?.layout&&(e.layout=_i(e.layout))}))})),t})(t),t}async getViewSnapshot(e){let t=await super.getViewSnapshot(e);return t=Ri(t),t}async applySnapshot({snapshot:e,options:t}){let a=e;"string"==typeof a&&(a=await super.fetchManifest({manifestUrl:a},fin.me.identity));const o=function(e){for(const t of e.windows)if(t.workspacePlatform?.pages?.length)return!0;return!1}(a);if(!n&&o)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return a=(e=>{const t=Di(e);return t.windows.forEach((e=>{e.layout=Oi(e.layout),e.workspacePlatform?.pages?.forEach((e=>{e.layout=Oi(e.layout)}))})),t})(a),super.applySnapshot({snapshot:a,options:t})}async createWindow(t,a){if(n&&"tearout"===t.reason){const e=await fin.Window.wrapSync(a).getOptions(),n=e.workspacePlatform?.windowType;t.taskbarIconGroup=e.taskbarIconGroup,n&&(t.workspacePlatform||={},t.workspacePlatform.windowType=e.workspacePlatform.windowType,n===P.Platform&&(t.url=e.url))}if(!n||t.workspacePlatform?.windowType===P.Platform){const e=await super.createWindow(t,a);return Ke({type:"Window",action:"Open Window",value:e.identity.name,data:{uuid:e.identity.uuid}}),e}var o;o={allowed:!0},Ue||(Ue=!0,Oe(_e.Browser,o)),((e=[])=>{const t=e.filter((e=>e.type!==S.Custom)),a=new Set,n=[];for(const e of t)a.has(e.type)&&n.push(e.type),a.add(e.type);if(n.length>0){const e=n.join(", ");throw new Error(`Encountered a duplicate "${e}" toolbar button. No more than one instance of a button type may be provided.`)}})(t.workspacePlatform?.toolbarOptions?.buttons);let r=(e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e))(t);e?.defaultWindowOptions?.hotkeys&&(r.hotkeys=e.defaultWindowOptions.hotkeys),r=await Ii(r,e,{themes:ji(),selectedScheme:this.getSelectedScheme()}),r=await(async e=>{const t=await fin.System.getMonitorInfo();let a=t.primaryMonitor;const n=e.defaultLeft,o=e.defaultTop;t.nonPrimaryMonitors.forEach((e=>{const{top:t,bottom:r,left:i,right:s}=e.availableRect;n>=i&&n<=s&&o>=t&&o<=r&&(a=e)}));const r=a.availableRect.bottom-a.availableRect.top,i=a.availableRect.right-a.availableRect.left;return e.defaultHeight=Math.min(e.defaultHeight||800,r),e.defaultWidth=Math.min(e.defaultWidth||800,i),e})(r);const i=await(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener("show-requested",(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(((e,t)=>super.createWindow(e,t)))(r,a);return Ke({type:"Window",action:"Open Window",value:i.identity.name,data:{uuid:i.identity.uuid}}),i}async createView(t,a){t.opts=Da(t.opts,e?.defaultViewOptions),e?.defaultViewOptions?.hotkeys&&(t.opts.hotkeys=e.defaultViewOptions.hotkeys),t.opts=await Ti(t.opts,this.fetchManifest,a),t.opts=await(async e=>{const t=Di(e),a=t.workspacePlatform?.browserNavigationButtons;if(a){const e=Object.keys(a);for(const n of e)if(a[n]){const e=(await Vi())[n];t.hotkeys?t.hotkeys.push(...e):t.hotkeys=[...e]}}return t})(t.opts),t.opts=Bi(t.opts);const n=await super.createView(t,a);return Ni(n.identity,t.opts._internalWorkspaceData?.browserNavigationButtons),n}async replaceView(t,a){return t.opts.newView=await Da(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await Ti(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return await Ae(t)||delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async getSavedPage(...e){return kr.apply(this,e)}async getSavedPages(...e){return br.apply(this,e)}async createSavedPage(...e){return yr.apply(this,e)}async deleteSavedPage(...e){return fr.apply(this,e)}async updateSavedPage(...e){return Sr.apply(this,e)}async getSavedWorkspace(...e){return ki.apply(this,e)}async getSavedWorkspaces(...e){return bi.apply(this,e)}async createSavedWorkspace(...e){return yi.apply(this,e)}async deleteSavedWorkspace(...e){return fi.apply(this,e)}async updateSavedWorkspace(...e){return Si.apply(this,e)}async getDockProviderConfig(...e){return wi.apply(this,e)}async saveDockProviderConfig(...e){return hi.apply(this,e)}async attachPagesToWindow(t){const a=await Pi(t.pages,e);await an(a),await kn({...t,pages:a})}async addPage(e){const t=await Ae(e.identity),a=await wt(e.identity),{page:n,insertionIndex:o}=e;n?.title||(n.title=await a.dispatch(lt.GetUniquePageTitle,void 0));const r=(await this.getAllAttachedPages()).find((e=>e.pageId===n.pageId||e.title===n.title));if(r){if(r.pageId===n.pageId)throw new Error(`page with id ${n.pageId} is already attached to a browser window ${r.parentIdentity.name}`);if(!t)throw new Error(`addPage title collision, page with title ${n.title} already exists, conflicting page id: ${r.pageId} with title ${r.title}`)}const i={identity:e.identity,pages:[{...n,multiInstanceViewBehavior:e.multiInstanceViewBehavior||"duplicate"}],insertionIndex:o};await this.attachPagesToWindow(i)}async addDefaultPage(e){await this.addPage(e),await this.setActivePage({identity:e.identity,pageId:e.page.pageId})}async setActivePage(...e){return fn.apply(this,e)}async openGlobalContextMenuInternal(...e){return ni.apply(this,e)}async openGlobalContextMenu(...e){return ai.apply(this,[...e,ir.GlobalMenu,ti.BottomRight])}async openViewTabContextMenuInternal(...e){return oi.apply(this,e)}async openViewTabContextMenu(...e){return ai.apply(this,[...e,ir.ContextMenu])}async openPageTabContextMenuInternal(...e){return ri.apply(this,e)}async openPageTabContextMenu(...e){return ai.apply(this,[...e,ir.ContextMenu])}async openSaveButtonContextMenu(...e){return ai.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return ii.apply(this,e)}getSelectedScheme(...e){return xa.apply(this,e)}async setSelectedScheme(...e){return Ma.apply(this,e)}async handlePageChanges(...e){return Tn.apply(this,e)}async analyticsInternal(...e){return Gn.apply(this,e)}async handleAnalytics(...e){}async handleSaveModalOnPageClose(...e){return xn.apply(this,e)}async shouldPageClose(...e){return In.apply(this,e)}async shouldWindowClose(...e){return An.apply(this,e)}handlePagesAndWindowClose(...e){return Wn.apply(this,e)}async copyPage(...e){return Dn.apply(this,e)}async getNotificationsConfig(){return t}async setLanguage(...e){return Oo.apply(this,e)}async getLanguage(){return _o.apply(this)}async trackRemovedTabInternal(...e){return vr.apply(this,e)}async restoreRemovedTabInternal(){const e=await(async()=>{if(!mr)throw new Error("Unable to pop last removed tab - IndexDB not supported");const e=mr[wr],t=await e.toCollection().keys();if(t.length>0){const a=Math.max(...t.map((e=>Number(e)))).toString(),n=await e.get(a);if(n){await e.delete(a);const{id:t,...o}=n;return o}}})();if("page"in e)if(await fe(e.identity)){const t=Aa().Browser.wrapSync(e.identity);await t.addPage(e.page),await t.setActivePage(e.page.pageId)}else Aa().createWindow({name:e.identity.name,workspacePlatform:{pages:[e.page],windowType:P.Browser}});else(function(e){return"window"in e})(e)&&Aa().createWindow({workspacePlatform:{pages:e.window.pages,windowType:P.Browser}})}async trackVisitedSiteInternal(...e){return Cr.apply(this,e)}async getRecentlyVisitedSitesInternal(...e){return await Ji.apply(this,e)}async getFrequentlyVisitedSitesInternal(...e){return Mr.apply(this,e)}async searchSitesInternal(...e){return await $i.apply(this,e)}async getSearchProvidersInternal(...e){return await Ki.apply(this,e)}async getCuratedContentInternal(...e){return await zi.apply(this,e)}async handleRequestNavigationInternal(...e){}async refreshBookmarksInternal(){(await Aa().Browser.getAllWindows()).forEach((async({identity:e})=>{(await qt(e)).dispatch(ea.RefreshBookmarksInternal)}));(await Jt(nr())).dispatch(ea.RefreshBookmarksInternal),await(async()=>{const e=await ci();if(e){const t=await qt(e.identity,si);await t.dispatch(ea.RefreshBookmarksInternal)}})()}async launchBookmarkInternal(e){return Ir(e)}async updateDockFavoritesInternal(e){return(async e=>{const t=await ci();if(!t)throw new Error("Companion Dock window not found");{const a=await qt(t.identity,si);await a.dispatch(Xt.UpdateFavoriteEntries,e)}})(e)}async updateContentMenuInternal(e){return(async e=>{const t=await ci();if(!t)throw new Error("Companion Dock window not found");{const a=await qt(t.identity,si);await a.dispatch(Xt.UpdateContentMenu,e)}})(e)}async launchDockEntryInternal(e){return(async e=>(await li()).dispatch("launch-entry",e))(e)}async setDefaultDockButtonsOrderInternal(e){return(async e=>(await li()).dispatch("set-default-dock-buttons-order",e))(e)}async setDockFavoritesOrderInternal(e){return(async e=>(await li()).dispatch("set-dock-favorites-order",e))(e)}async addDockFavoriteInternal(e){return(async e=>(await li()).dispatch("add-favorite-entry",e))(e)}async removeDockFavoriteInternal(e){return(async e=>(await li()).dispatch("remove-favorite-entry",e))(e)}async navigateContentMenuInternal(e){return(async e=>{const t=await ci();if(!t)throw new Error("Companion Dock window not found");{const a=await qt(t.identity,si);await a.dispatch(Xt.NavigateContentMenu,e)}})(e)}async getDockWorkspacesContextMenuInternal(){return(async()=>(await li()).dispatch("get-dock-workspaces-context-menu",void 0))()}async handleDockWorkspacesMenuResponseInternal(e){return(async e=>(await li()).dispatch("handle-dock-workspaces-menu-response",e))(e)}async focusAndExpandSearchInternal(){return di()}}};function Xi(e,t,a){const n=Yi(e,a);try{return"function"==typeof t?e=>t(n(e)):Array.isArray(t)?[...t,n]:e=>new(n(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}}async function es(){(async()=>{le().on("window-closed",Xo)})(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",Qo),await e.addListener("window-closed",Yo)}();fo(await So())}let ts;async function as(e,t){if(!await fe({uuid:we.uuid,name:de.DockCompanion})){const a=await Ve(we);await t.createWindow(Ce({name:de.DockCompanion,url:await ae()+K.EnterpriseDock,autoShow:!0,frame:!1,smallWindow:!0,saveWindowState:!1,defaultHeight:Me,defaultWidth:xe,includeInSnapshots:!1,defaultTop:e.dockPosition?.top??Ie,defaultLeft:e.dockPosition?.left??a.left-xe/2,workspacePlatform:{windowType:"enterprise",...e},throttling:"disabled",resizable:!1,maximizable:!1,backgroundColor:await Ct("background1")}))}}function ns({overrideCallback:e,interopOverride:t,browser:a,notifications:n,analytics:o,integrations:r=[],workspaceAsar:i}){if(!A)throw new Error("Cannot be used outside an OpenFin env.");return ts||(ts=(async()=>{const s=fin.Platform.getCurrentSync();var c,l;if(s.once("platform-api-ready",(()=>es())),s.on("window-show-all-downloads",(({name:e,uuid:t})=>{Eo({name:e,uuid:t})})),a?.title&&(c=a.title,jr=c),Hn(o),i){const e=`workspace-${encodeURIComponent(fin.me.uuid)}`,{baseUrl:t}=await fin.System.serveAsset({...i,hostName:e});Y(t)}if(a?.browserBaseUrl&&Y(a.browserBaseUrl),We(a)){en=!0;const e=ha();e.setWorkspaceStorageProxy(await(async e=>{const t=`storage-proxy-window-${crypto.randomUUID()}`,[a,n]=await Promise.all([fin.InterApplicationBus.Channel.connect(`channel-${t}`,{wait:!0}),fin.Window.create({autoShow:!1,includeInSnapshots:!1,name:t,url:e})]);return{setItem:(e,t)=>a.dispatch("setItem",{key:e,value:t}),destroy:()=>n.close()}})(`${await ee()}${K.EnterpriseStorageProxy}`)),await e.trySynchronizeWorkspaceStorage()}return await fin.Platform.init({overrideCallback:Xi(a,e||a?.overrideCallback,n),interopOverride:qo(t||a?.interopOverride,a)}),l={allowed:!0},Oe(_e.Platform,l),await Promise.all(r.map((async e=>{((e,t)=>{Oe(`${_e.Microflow}:${e}`,t,"integration-feature")})(e.workflowIntegrationName,{allowed:!0,apiVersion:_}),await e._initializeWorkflows()}))),s})()),ts}const os=async({theme:e,customActions:t,language:a,...n})=>{const o=_.split(".").map((e=>parseInt(e))),r=await(async e=>{if((await Q()).disableRuntimeValidation)return!0;if(await Ae())return!0;const t=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));return e.every(((a,n)=>!(n<3)||t[n]===e[n]))})(o);if(!r)throw new Error(`Runtime version is not supported.  ${o[0]}.${o[1]}.${o[2]}.* is required`);var i;return e&&(Qi(e),i={allowed:!0},Oe(_e.Theming,i)),t&&(er=t),await Go(a?.initialLanguage),ns(n)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const r=n(a(6535));t.lightenColor=(e,t)=>o(e,"lighten",t),t.darkenColor=(e,t)=>o(e,"darken",t);const o=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,r.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>r.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),r=a(2346),o=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,r.darkenColor)(t,2),[`${e}Hover`]:(0,r.lightenColor)(t,5),[`${e}Focused`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},e),s(o.Palette.brandPrimary,e.brandPrimary)),s(o.Palette.brandSecondary,e.brandSecondary))})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(r,o){if(o=o||{},(r=r||"")instanceof n)return r;if(!(this instanceof n))return new n(r,o);var i=function(n){var r,o,i,s={r:0,g:0,b:0},c=1,d=null,l=null,u=null,p=!1,h=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,r=!1;if(k[e])e=k[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=O.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=O.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=O.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=O.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=O.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=O.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=O.hex8.exec(e))?{r:x(n[1]),g:x(n[2]),b:x(n[3]),a:F(n[4]),format:r?"name":"hex8"}:(n=O.hex6.exec(e))?{r:x(n[1]),g:x(n[2]),b:x(n[3]),format:r?"name":"hex"}:(n=O.hex4.exec(e))?{r:x(n[1]+""+n[1]),g:x(n[2]+""+n[2]),b:x(n[3]+""+n[3]),a:F(n[4]+""+n[4]),format:r?"name":"hex8"}:!!(n=O.hex3.exec(e))&&{r:x(n[1]+""+n[1]),g:x(n[2]+""+n[2]),b:x(n[3]+""+n[3]),format:r?"name":"hex"}}(n)),"object"==e(n)&&(D(n.r)&&D(n.g)&&D(n.b)?(r=n.r,o=n.g,i=n.b,s={r:255*P(r,255),g:255*P(o,255),b:255*P(i,255)},p=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):D(n.h)&&D(n.s)&&D(n.v)?(d=M(n.s),l=M(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),r=e-n,o=a*(1-t),i=a*(1-r*t),s=a*(1-(1-r)*t),c=n%6;return{r:255*[a,i,o,o,s,a][c],g:255*[s,a,a,i,o,o][c],b:255*[o,o,s,a,a,i][c]}}(n.h,d,l),p=!0,h="hsv"):D(n.h)&&D(n.s)&&D(n.l)&&(d=M(n.s),u=M(n.l),s=function(e,t,a){var n,r,o;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=r=o=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),r=i(c,s,e),o=i(c,s,e-1/3)}return{r:255*n,g:255*r,b:255*o}}(n.h,d,u),p=!0,h="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=S(c),{ok:p,format:n.format||h,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(r);this._originalInput=r,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=o.format||i.format,this._gradientType=o.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=(o+i)/2;if(o==i)n=r=0;else{var c=o-i;switch(r=s>.5?c/(2-o-i):c/(o+i),o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,l:s}}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=o,c=o-i;if(r=0===o?0:c/o,o==i)n=0;else{switch(o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,v:s}}function i(e,t,a,n){var r=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(e,t,a,n){return[A(I(n)),A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function d(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function l(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function h(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function f(e,t){var a=n(e).toHsl(),r=(a.h+t)%360;return a.h=r<0?360+r:r,n(a)}function g(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),r=[n(e)],o=360/t,i=1;i<t;i++)r.push(n({h:(a.h+i*o)%360,s:a.s,l:a.l}));return r}function w(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function y(e,t,a){t=t||6,a=a||30;var r=n(e).toHsl(),o=360/a,i=[n(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(n(r));return i}function v(e,t){t=t||6;for(var a=n(e).toHsv(),r=a.h,o=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:r,s:o,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=S(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,r){var o=[A(Math.round(e).toString(16)),A(Math.round(t).toString(16)),A(Math.round(a).toString(16)),A(I(n))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(b[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=n(e);a="#"+s(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]="a"===o?t[o]:M(t[o]));t=r}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var r=n(e).toRgb(),o=n(t).toRgb(),i=a/100;return n({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},n.readability=function(e,t){var a=n(e),r=n(t);return(Math.max(a.getLuminance(),r.getLuminance())+.05)/(Math.min(a.getLuminance(),r.getLuminance())+.05)},n.isReadable=function(e,t,a){var r,o,i,s,c,d=n.readability(e,t);switch(o=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),r={level:s,size:c}).level+r.size){case"AAsmall":case"AAAlarge":o=d>=4.5;break;case"AAlarge":o=d>=3;break;case"AAAsmall":o=d>=7}return o},n.mostReadable=function(e,t,a){var r,o,i,s,c=null,d=0;o=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var l=0;l<t.length;l++)(r=n.readability(e,t[l]))>d&&(d=r,c=n(t[l]));return n.isReadable(e,c,{level:i,size:s})||!o?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var k=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},b=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(k);function S(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function x(e){return parseInt(e,16)}function A(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function I(e){return Math.round(255*parseFloat(e)).toString(16)}function F(e){return x(e)/255}var W,T,_,O=(T="[\\s|\\(]+("+(W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",_="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+_),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+_),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function D(e){return!!O.CSS_UNIT.exec(e)}return n}()}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return a[e].call(o.exports,o,o.exports,r),o.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=r(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=r(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=r(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{},978:(e,t,a)=>{"use strict";a.d(t,{Nt:()=>j});var n={};a.r(n),a.d(n,{getItem:()=>G,removeItem:()=>U,setItem:()=>$});var r=a(675),o=a(723);a(181);var i=a(70);const s=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType};const c=(e,t=0)=>{let a,n,r=!1;const o=async n=>{const i=await e(...n);if(r){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,r=!1,o(e)}return i};return(...e)=>(n?(r=!0,a=e):n=o(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var d;!function(e){e.Top="top",e.Below="below"}(d||(d={}));const l=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function u(e,t,a,n,r,o){const s=!!e&&(0,i.Iq)(e),c=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(s,o);if(n===d.Below){if(!s||await l(s)){const e=s?(await(0,i.ur)(c)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,i.V1)(e).left-t/2,top:r?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:(0,i.V1)(c).left-t/2,top:r?c.bottom-128:c.bottom+12,width:t,height:a}}if(!s||await l(s)){const e=s?(await(0,i.ur)(c)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,i.V1)(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:(0,i.V1)(c).left-t/2,top:c.top+20,width:t,height:a}}c((async function(e,t,a,n,r){const o=t.getBoundingClientRect(),s=await u(e,o.width,o.height,a,n,r);if(0===s.width||0===s.height)return;const c=(0,i.Tv)();await c.setBounds(s),await c.show();const d=setTimeout((()=>c.close()),n?5e3:3e3),l=()=>{clearTimeout(d),c.close()};if(e){const t=(0,i.Iq)(e);t.on("bounds-changing",(()=>l())),t.on("blurred",(()=>l())),t.on("maximized",(()=>l())),t.on("minimized",(()=>l())),t.on("restored",(()=>l()))}}),10);a(277),a(957);var p=a(438);const h=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var f,g=a.n(h);!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(f||(f={}));const m=f;function w(){return localStorage.getItem(m.MachineName)??"unknown"}let y;async function v(){return y||(y=await fin.System.getMachineId()),y}var k=a(333);const b=async e=>({...e,layoutDetails:{machineId:await v(),machineName:w()}}),S=async e=>{const t=await(async(e,t)=>({pageId:(0,k.N)(),title:e,layout:await b(t),isReadOnly:!1}))(e.title,Q(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:K(e.viewOptions)})))),{...e,...t}};var P=a(79),C=a(786);var x=a(102);const A=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,M=new Map,I=(e,t)=>{const a=A(e,t);return n=a,M.has(n)||M.set(n,(0,x.A)(n)),M.get(n)();// removed by dead control flow
{ var n; }};var F,W,T,_,O;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(F||(F={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(W||(W={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(T||(T={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(_||(_={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(O||(O={}));const D={...F,...W,...O},E=(0,x.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),R=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await E()).dispatch(_.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await E()).dispatch(_.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await E()).dispatch(_.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await E()).dispatch(_.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await E()).dispatch(_.DeleteBookmarkNode,e))(e)},getPages:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetPagesForWindow,e),getPage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>j().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await(0,P.bW)(e),r={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(P.OF.AddPage,r)},removePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>j().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await(0,P.bW)(e),r=(await n.dispatch(P.OF.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!r)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);r.multiInstanceViewBehavior="reparent";const o={identity:e,pages:[r],insertionIndex:t.index};return n.dispatch(P.OF.AttachPagesToWindow,o)},setActivePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await(0,P.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await(0,P.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await(0,P.bW)(e);return(await I(e)).dispatch(D.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await I(e)).dispatch(D.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await(0,P.bW)(e);return t.identity=e,a.dispatch(P.OF.AddDefaultPage,t)},_trackRemovedTab:async t=>(await(0,P.bW)(e)).dispatch(P.OF.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await(0,P.bW)(e)).dispatch(P.OF.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await(0,P.bW)(e)).dispatch(P.OF.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await(0,P.bW)(e)).dispatch(P.OF.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await(0,P.bW)(e)).dispatch(P.OF.HandleRequestNavigationInternal,t)}),B=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>R(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${(0,k.N)()}`;return C.A.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{C.A.markAndMeasure("browser-window-shown",e)}))})(n),await(0,P.bW)(e);const r=await t.createWindow(a);return(e=>{C.A.markAndMeasure("browser-window-started",e)})(n),R(r.identity)},getAllAttachedPages:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetAllAttachedPages,void 0),getAllWindows:async()=>{await(0,P.bW)(e);return(await(0,i.Io)()).map((e=>R(e.identity)))},getUniquePageTitle:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await(0,P.bW)(e)).dispatch(P.OF.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetPageByViewIdentity,t)}},N=e=>({createPage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.CreateSavedPageInternal,t),deletePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.DeleteSavedPageInternal,t),updatePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.UpdateSavedPageInternal,t),getPage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetSavedPage,t),getPages:async t=>(await(0,P.bW)(e)).dispatch(P.OF.GetSavedPages,t),savePage:async t=>(await(0,P.bW)(e)).dispatch(P.OF.SavePage,t),createWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=j(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await(0,P.N)(e)).dispatch(P.OF.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.UpdateSavedWorkspace,t),getWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.GetSavedWorkspace,t),getWorkspaces:async t=>(await(0,P.N)(e)).dispatch(P.OF.GetSavedWorkspaces,t),saveWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.SaveWorkspace,t),getDockProviderConfig:async t=>(await(0,P.N)(e)).dispatch(P.OF.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await(0,P.N)(e)).dispatch(P.OF.SaveDockProviderConfig,t)});var L;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(L||(L={}));(0,x.A)("of-workspace-notifications-sync");a(695);const $=(e,t)=>{localStorage.setItem(`${o.$h}-${e}`,t)},G=e=>localStorage.getItem(`${o.$h}-${e}`),U=e=>localStorage.removeItem(`${o.$h}-${e}`),V=r.qT.System,z=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),H=(e,t)=>({selectedTab:"dark"===t?e.background3:e.background1});new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorageProxy=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=async()=>{if(this.workspaceStorage){const e=this.getScheme();if(await this.workspaceStorage.setItem(m.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)await this.workspaceStorage.setItem(m.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;await this.workspaceStorage.setItem(m.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t})=>{this.lightPaletteVars=z({...e,...H(e,"light")}),this.darkPaletteVars=z({...t,...H(t,"dark")})}}setScheme(e){this.providerStorage.setItem(m.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(m.SelectedColorScheme)&&this.providerStorage.setItem(m.SelectedColorScheme,V),this.providerStorage.getItem(m.SelectedColorScheme)}}(n);const q=e=>({getThemes:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetThemes,void 0),setSelectedScheme:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetSelectedScheme,t),getSelectedScheme:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetSelectedScheme,void 0)}),j=()=>(e=>{const t=fin.Platform.wrapSync(e);let a;const n=Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>(console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:o.$h,name:o.vL,entityType:o.fT||"unknown"}),(await(0,P.N)(e)).dispatch(P.OF.LaunchApp,t)),_invokeCustomAction:async(t,a)=>{const n=await(0,P.N)(e),o={actionId:t,payload:{...a,callerType:a.callerType||r.vc.API}};return n.dispatch(P.OF.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await(0,P.N)(e)).dispatch(P.OF.RequestQuitPlatformDialogInternal,t),getCurrentWorkspace:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetCurrentWorkspace,void 0),applyWorkspace:async(t,a)=>(await(0,P.N)(e)).dispatch(P.OF.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetActiveWorkspace,t),getLanguage:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetLanguage),_getLanguageResources:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetLanguageResourcesInternal),setLanguage:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await(0,P.KZ)(e)),"object"==typeof a&&a?.analytics?.isSupported)return(await(0,P.N)(e)).dispatch(P.OF.Analytics,t);e.uuid},getNotificationsConfig:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await(0,P.N)(e)).dispatch(P.OF.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await(0,P.N)(e)).dispatch(P.OF.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await(0,P.N)(e)).dispatch(P.OF.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await(0,P.N)(e)).dispatch(P.OF.FocusAndExpandSearchInternal),Theme:q(e),Browser:B(e),Storage:N(e)});return n})(fin.me.identity);const X=(e,t)=>e.content?{...e,content:e.content.map((e=>X(e,t)))}:{...e,componentState:t(e.componentState)},K=e=>({...e,name:void 0}),Q=e=>{const t={...e};return X(t,K)},Z=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=Z(e.content);t.push(...a)})),t};new Map,new Map;const Y=async(e,t)=>{const a=(e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:r}=a,o=await s(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...r,headerHeight:o?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:r}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...r,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}})({...i.$p,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})},J=(g()((async e=>{try{const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?Z(t.content):[],n=a.length;n>1?(e=>{"multiView"!==e.attachedPageType&&j().Browser.wrapSync(i.$p).updatePage({pageId:e.pageId,page:{singleViewName:null,attachedPageType:"multiView"}})})(e):1===n&&(async(e,t)=>{const a=j().Browser.wrapSync(i.$p);if("singleView"!==e.attachedPageType){const n=await S(e),r=await j().Browser.getUniquePageTitle();delete n.layout;const o={...n,singleViewName:t,title:r,hasUnsavedChanges:!1,attachedPageType:"singleView"};await a.updatePage({pageId:e.pageId,page:o})}})(e,a[0].name),await Y(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js"),__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js"));a.n(J)().t;new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};new Map;const ee=((e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a})({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});!function(e=ee){const t=new Map}();a(523);function te(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function ae(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function ne(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),r=(...e)=>{a(...e),n.delete(r)};n.add(r)}}function re(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}i.Q.BrowserMenu;(function(e){const t=new Map;te(t,(t=>o.cI&&fin.InterApplicationBus.publish(e,t))),ae(t,(t=>o.cI&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),re(t),ne(t)})("window.menu"),c((()=>(0,p.v1)().getChildWindows()),500);new Map;new Map;g()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===i.Q.BrowserMenu||n.identity.name===i.Q.BrowserSaveMenu?t=n:await(0,i.hb)(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});var oe,ie;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(oe||(oe={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu"}(ie||(ie={}));const se=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),ce=e=>e+"-"+fin.me.uuid,de=(e,t)=>{const a=o.AT&&o.cI&&new se.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},le=(e,t)=>{const a=de(ce(e),t),n=de(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=G(m.HasMovedStore),r=n?JSON.parse(n):{};if(r&&r[a])return;r[a]=!0,$(m.HasMovedStore,JSON.stringify(r));const o=await e[a].toArray();await t[a].bulkPut(o)})(n,a,e),a},ue="visited-sites",pe="removed-tab-stack",he=(o.AT&&o.cI&&le("openfin-home-pages","pages"),o.AT&&o.cI&&new se.Dexie(ce("openfin-enterprise-site-history")));he&&he.version(.1).stores({[ue]:"id, url"});const fe=o.AT&&o.cI&&new se.Dexie(ce("openfin-enterprise-tab-history"));fe&&fe.version(.1).stores({[pe]:""});var ge;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(ge||(ge={}));ge.Separator;var me;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(me||(me={}));(0,x.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`);const we="dock-provider-configs",ye=o.AT&&o.cI&&new se.Dexie(ce("dock-provider-configs"));ye&&ye.version(.1).stores({[we]:""});const ve="workspaces";o.AT&&o.cI&&le("openfin-workspace-platform-workspaces",ve);a(250);i.$p.uuid,i.Q.BrowserAddressSearchPrefix;a(179)},675:(e,t,a)=>{"use strict";a.d(t,{qT:()=>o,vc:()=>h});var n,r,o,i,s,c,d,l,u,p,h;a(179),a(250);!function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(n||(n={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(r||(r={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(o||(o={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(i||(i={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.Print="Print",e.Pin="Pin"}(s||(s={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(c||(c={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(d||(d={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(l||(l={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(u||(u={})),function(e){e.Browser="browser",e.Platform="platform"}(p||(p={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={}));var f;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(f||(f={}))},248:(e,t,a)=>{"use strict";a.d(t,{H:()=>o});var n=a(438),r=a(786);const o=(e,t)=>{r.A.markStart(`${e}-registration`),(0,n.BY)().once("started",(()=>r.A.markAndMeasure("workspace-app-started",`${e}-registration`)));const a=fin.Window.wrapSync(t);a.once("initialized",(()=>r.A.markAndMeasure(`${e}-window-initialized`,`${e}-registration`))),a.once("shown",(()=>{r.A.markAndMeasure(`${e}-show`,`${e}-registration`)}))}},834:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLIAction:()=>A.PK,CLIFilterOptionType:()=>A.oo,CLITemplate:()=>A.fC,deregister:()=>F,hide:()=>T,register:()=>I,show:()=>W});var n=a(723),r=a(786),o=a(277),i=a(70);const s="0",c="2",d="3",l="5",u="6";var p=a(695),h=a(79),f=a(575);var g=a(905);const m=()=>{};function w(e){const t={};let a=[];let n=[];let r=null;let o=g.Zo.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>a,t.setResultBuffer=e=>{a=e,a?.length&&t.onChange()},t.getRevokedBuffer=()=>n,t.setRevokedBuffer=e=>{n=e,n?.length&&t.onChange()},t.setUpdatedContext=e=>{r=e,null!==r&&t.onChange()},t.getUpdatedContext=()=>r,t.onChange=m;const i={};return t.res=i,i.close=()=>{o!==g.Zo.Close&&(o=g.Zo.Close,t.onChange())},i.open=()=>{o!==g.Zo.Open&&(o=g.Zo.Open,t.onChange())},i.respond=a=>{const n=function(e=[],t=[],a="ascending"){const n=[],r=new Map;t.forEach((e=>{if(e.key)return r.set(e.key,e);n.push(e)}));let o=e.map((e=>{if(e.key){const t=r.get(e.key);if(t)return r.delete(e.key),t}return e}));return o.push(...r.values(),...n),o="ascending"===a?o.sort(((e,t)=>(e?.score??1/0)-(t?.score??1/0))):o.sort(((e,t)=>(t?.score??1/0)-(e?.score??1/0))),o}(t.getResultBuffer(),a,e);t.setResultBuffer(n)},i.revoke=(...e)=>{const a=new Set(e),n=t.getResultBuffer().filter((({key:e})=>{const t=a.has(e);return t&&a.delete(e),!t}));t.setResultBuffer(n),a.size&&(t.getRevokedBuffer().forEach((e=>a.add(e))),t.setRevokedBuffer([...a]))},i.updateContext=e=>{t.setUpdatedContext(e)},t}const y=new Map;async function v(e){const{id:t,providerId:a}=e,n=P.getProviderOrFail(a);let r=y.get(t);r||(r=function(e,t){const a=new Set;let n=!1;return{close:()=>{n=!0;for(const e of a)e()},req:{id:e,...t,context:t?.context||{},onClose:e=>{a.add(e),n&&e()},removeListener:e=>{a.delete(e)}}}}(t,e),y.set(t,r));const o=w(),i=()=>{const e=o.getResultBuffer();o.setResultBuffer([]);const n=o.getRevokedBuffer();o.setRevokedBuffer([]);const r=o.getUpdatedContext();o.setUpdatedContext(null);const i=o.getStatus();!async function(e){(await(0,p.gj)()).dispatch(s,e)}({id:t,providerId:a,results:e,revoked:n,status:i,context:r})};let c=!0,d=!1;o.onChange=()=>{if(c)return c=!1,void i();d||(d=!0,setTimeout((()=>{d=!1,i()}),100))};try{const{results:e,context:i}=await n.onUserInput(r.req,o.res),s=o.getStatus();return{id:t,providerId:a,status:s,results:e,context:i}}catch(e){return console.error(`OpenFin/Workspace/Home. Uncaught exception in search provider ${a} for search ${t}`,"This is likely a bug in the implementation of the search provider.",e),{id:t,providerId:a,error:e?.message}}}async function k(){for(const{req:e,close:t}of y.values())t(),y.delete(e.id)}async function b(e,t){const a=P.getProviderOrFail(e.providerId);return e.result.dispatcherIdentity=t,a.onResultDispatch?.(e.result)}function S(e){const t=y.get(e.id);t?.close(),y.delete(e.id)}const P=new f.xM("home"),C=async e=>{await(0,p.nA)();!("skipPlatformInitCheck"in e&&!0===e.skipPlatformInitCheck)&&await(0,h.KZ)(fin.me.identity);P.assertNotAlreadyRegistered(e.id),P.setProvider(e);const t=await(0,p.gj)();return function(e){e.homeChannelActionsRegistered||(e.homeChannelActionsRegistered=!0,e.register(s,v),e.register(u,S),e.register(l,b),e.addDisconnectionListener(k))}(t),t.dispatch(c,{id:e.id,title:e.title,icon:e.icon,clientAPIVersion:n.et,identity:fin.me.identity,scoreOrder:e.scoreOrder,commandCode:e.commandCode,description:e.description,hidden:e.hidden,listTitle:e.listTitle,inputPlaceholder:e.inputPlaceholder,logoUrl:e.logoUrl,dispatchFocusEvents:e.dispatchFocusEvents})};var x=a(248),A=a(872);let M;const I=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);(0,x.H)("home",i.F2);const t=await C(e);return M=new Promise(((a,i)=>{try{(0,o.GR)({allowed:!0,componentVersion:t?.workspaceVersion}),n.et,a({...t,clientAPIVersion:n.et,setSearchQuery:async t=>(await(0,p.N7)()).dispatch("set-search-query",{query:t,providerID:e.id})})}catch(e){(0,o.GR)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),i(e)}finally{r.A.markEndAndMeasure("home-registration")}})),M},F=async e=>{P.deleteProvider(e);const t=await(0,p.gj)();await t.dispatch(d,e)};async function W(){r.A.markStart("home-show"),await M;const e=await(0,p.N7)();await e.dispatch("show-home",void 0)}async function T(){await M;const e=await(0,p.N7)();await e.dispatch("hide-home",void 0)}},575:(e,t,a)=>{"use strict";a.d(t,{xM:()=>s});const n=__webpack_require__(/*! title-case */ "../../node_modules/title-case/dist.es2015/index.js");class r extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`${a} Provider. ${a} Provider${t?` with id ${t}`:""} is not currently registered.`)}}class o extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`${a} Provider. ${a} Provider${t?` with id ${t}`:""} is already registered. Call \`deregister\` before registering again.`)}}class i extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`Failed to get ${a} Provider. ${a} Provider with id ${t} is not currently registered.`)}}class s{constructor(e){this.providersMap=new Map,this.providerType=e}assertNotAlreadyRegistered(e){if(this.hasProvider(e))throw new o(this.providerType,e)}assertRegistered(e){if(!this.hasProvider(e))throw new r(this.providerType,e)}getProvider(e){return this.providersMap.get(e)}hasProvider(e){return this.providersMap.has(e)}setProvider(e){this.providersMap.set(e.id,e)}deleteProvider(e){this.providersMap.delete(e)}getProviderOrFail(e){const t=this.getProvider(e);if(!t)throw new i(this.providerType,e);return t}clearProviders(){this.providersMap.clear()}}},129:(e,t,a)=>{"use strict";var n,r,o;a.d(t,{P:()=>r,R:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(n||(n={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))},600:(e,t,a)=>{"use strict";var n;a.d(t,{a:()=>n}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(n||(n={}))},872:(e,t,a)=>{"use strict";var n,r,o;a.d(t,{PK:()=>n,fC:()=>r,oo:()=>o}),function(e){e.Suggestion="suggestion"}(n||(n={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(o||(o={}))},179:(e,t,a)=>{"use strict";a(129),a(872),a(710),a(184),a(600)},710:(e,t,a)=>{"use strict";var n,r;a.d(t,{v:()=>n,z:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(n||(n={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},184:(e,t,a)=>{"use strict";a.d(t,{SM:()=>o,ce:()=>n,in:()=>i,np:()=>r});const n={Container:"Container",Button:"Button",SplitButton:"SplitButton"},r={Text:"Text",Image:"Image",List:"List"},o={...n,...r};var i;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(i||(i={}))},598:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppManifestType:()=>o.v,StorefrontTemplate:()=>o.z,deregister:()=>y,hide:()=>v,register:()=>w,show:()=>k});var n=a(277),r=a(695),o=a(710),i=a(723),s=a(786),c=a(70),d=a(79),l=a(575);let u=!1;async function p(e,t,a){const n=await(0,r.p4)();try{return await n.dispatch(e.action,e.payload)}catch(r){if(r instanceof Error&&-1!==r.toString().indexOf(e.action))return u||console.warn("You are using a newer version of the Workspace client library that is not supported by the currently running workspace provider. Please upgrade the Workspace to version 9.0 or later."),u=!0,await n.dispatch(t.action,t.payload),a;throw r}}const h=new l.xM("storefront"),f=async e=>{await(0,d.KZ)(fin.me.identity);const t=await(0,r.N7)();return h.assertNotAlreadyRegistered(e.id),h.setProvider(e),(e=>{e.storefrontChannelActionsRegistered||(e.storefrontChannelActionsRegistered=!0,e.register("get-storefront-provider-apps",(e=>h.getProviderOrFail(e).getApps())),e.register("get-storefront-provider-footer",(e=>h.getProviderOrFail(e).getFooter())),e.register("get-storefront-provider-landing-page",(e=>h.getProviderOrFail(e).getLandingPage())),e.register("get-storefront-provider-navigation",(e=>h.getProviderOrFail(e).getNavigation())),e.register("launch-storefront-provider-app",(({id:e,app:t})=>h.getProviderOrFail(e).launchApp(t))))})(t),e.clientAPIVersion=i.et,p({action:"register-provider",payload:{providerType:"storefront",info:e}},{action:"register-storefront-provider",payload:e},{workspaceVersion:"unknown"})};var g=a(248);let m;const w=async e=>{(0,g.H)("store",c.gQ);const t=await f(e);return m=new Promise(((a,o)=>{try{(0,n.xt)({allowed:!0,componentVersion:t?.workspaceVersion}),i.et,a({clientAPIVersion:i.et,workspaceVersion:t?.workspaceVersion??"",updateAppCardButtons:async t=>{const a=await(0,r.mQ)();await a.dispatch("update-app-card-button-config",{...t,id:e.id,title:e.title,icon:e.icon,platformIdentity:fin.me.identity})}})}catch(e){(0,n.xt)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),o(e)}finally{s.A.markEndAndMeasure("store-registration")}})),m},y=async e=>(await m,h.assertRegistered(e),h.deleteProvider(e),await(0,r.nA)(),p({action:"deregister-provider",payload:{providerType:"storefront",id:e}},{action:"deregister-storefront-provider",payload:e})),v=async()=>(await m,await(0,r.nA)(),p({action:"hide-provider-window",payload:{providerType:"storefront"}},{action:"hide-storefront"})),k=async()=>(s.A.markStart("store-show"),await m,await(0,r.nA)(),p({action:"show-provider-window",payload:{providerType:"storefront"}},{action:"show-storefront"}))},250:(e,t,a)=>{"use strict";var n;!function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(n||(n={}))},79:(e,t,a)=>{"use strict";var n;a.d(t,{KZ:()=>o,N:()=>i,OF:()=>n,bW:()=>s}),function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal"}(n||(n={}));const r=async e=>fin.Platform.wrapSync(e).getClient(),o=async e=>{const t=await r(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},i=async e=>(await o(e),r(e)),s=async e=>{const t=await o(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return r(e)}},695:(e,t,a)=>{"use strict";a.d(t,{N7:()=>f,gj:()=>l,mQ:()=>h,nA:()=>p,p4:()=>c});var n=a(102),r=a(723),o=a(70),i=a(905);const s=(0,n.A)("__of_workspace_protocol__"),c=s,d=s,l=(0,n.A)(i.BT),u=e=>{const t=new URL(e);return t.searchParams.append("isLaunchedViaLib","true"),t.toString()},p=async()=>{if(!await(0,o.C)(o.xt)){if(r.jw||-1===navigator.userAgent.indexOf("Win"))return void await fin.Application.startFromManifest(u(r.m7));await fin.System.openUrlWithBrowser(u(r.t8))}},h=async()=>(await p(),c()),f=async()=>(await p(),d())},905:(e,t,a)=>{"use strict";a.d(t,{BT:()=>n,Zo:()=>o});const n="__search-openfin-browser-home-topic__";var r,o;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(o||(o={}))},957:(e,t,a)=>{"use strict";var n=a(847),r=(a(70),a(978),a(675),a(877)),o=a.n(r),i=a(67),s=a.n(i);s(),o();a(695),a(79);const c={[n.Palette.brandPrimary]:"#0A76D3",[n.Palette.statusSuccess]:n.Color.functional1,[n.Palette.statusWarning]:n.Color.functional10,[n.Palette.statusCritical]:n.Color.functional7,[n.Palette.statusActive]:n.Color.functional3,[n.Palette.contentBackground1]:"#0A76D3",[n.Palette.contentBackground2]:"#000000",[n.Palette.contentBackground3]:"#000000",[n.Palette.contentBackground4]:"#000000",[n.Palette.contentBackground5]:"#000000"},d={...c,[n.Palette.background1]:n.Color.white,[n.Palette.background2]:n.Color.lightGray1,[n.Palette.background3]:n.Color.lightGray2,[n.Palette.background4]:n.Color.lightGray3,[n.Palette.background5]:n.Color.lightGray4,[n.Palette.background6]:n.Color.lightGray5,[n.Palette.brandSecondary]:n.Color.lightGray4,[n.Palette.inputBackground]:n.Color.lightGray3,[n.Palette.inputColor]:n.Color.darkGray5,[n.Palette.inputPlaceholder]:n.Color.darkGray2,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.darkGray5,[n.Palette.textHelp]:n.Color.darkGray3,[n.Palette.textInactive]:n.Color.neutralGray},l={...c,[n.Palette.background1]:n.Color.darkGray6,[n.Palette.background2]:n.Color.darkGray5,[n.Palette.background3]:n.Color.darkGray4,[n.Palette.background4]:n.Color.darkGray3,[n.Palette.background5]:n.Color.darkGray2,[n.Palette.background6]:n.Color.darkGray1,[n.Palette.brandSecondary]:n.Color.darkGray2,[n.Palette.inputBackground]:n.Color.darkGray1,[n.Palette.inputColor]:n.Color.white,[n.Palette.inputPlaceholder]:n.Color.lightGray5,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.white,[n.Palette.textHelp]:n.Color.lightGray5,[n.Palette.textInactive]:n.Color.neutralGray};n.Color.lightGray4,n.Color.darkGray5,n.Color.darkGray2,n.Color.darkGray5},438:(e,t,a)=>{"use strict";a.d(t,{BY:()=>l,MW:()=>n,v1:()=>d});var n,r,o=a(723);!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(n||(n={})),function(e){e.FinProtocol="fin-protocol"}(r||(r={}));const i={uuid:o.$h},s={uuid:n.Workspace},c=e=>{if(!o.cI)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)},d=()=>c(i),l=()=>c(s)},102:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(723);const r=n.YY&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function o(e){let t;const a=new Set;return()=>{if(!n.cI)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const o={clientAPIVersion:n.et},i=await fin.InterApplicationBus.Channel.connect(e,{payload:o});return i.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),i})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}},723:(e,t,a)=>{"use strict";var n;a.d(t,{$h:()=>c,AT:()=>i,YY:()=>o,cI:()=>r,et:()=>g,fT:()=>l,jw:()=>u,m7:()=>h,t8:()=>p,vL:()=>d}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(n||(n={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,o=("undefined"==typeof process||process.env,"undefined"!=typeof window),i=o&&"undefined"!=typeof indexedDB,s=o?window.origin:n.Local,c=r&&fin.me.uuid,d=r&&fin.me.name,l=r&&fin.me.entityType,u="prod"===n.Local,p=(n.Dev,n.Staging,n.Prod,"fins://system-apps/workspace"),h="https://workspace.openfin.co/workspace/21.0.16/app.json",f=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,g=(f("https://workspace.openfin.co/workspace/21.0.16"),f("https://workspace.openfin.co/workspace/21.0.16"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&f(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&f(WORKSPACE_DOCS_CLIENT_URL),"21.0.16");"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA},786:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const n="of-workspace-";const r=new class{mark(e){performance.mark(`${n}${e}`)}markStart(e){performance.mark(`${n}${e}-start`)}markEnd(e){performance.mark(`${n}${e}-end`)}markEndAndMeasure(e){performance.mark(`${n}${e}-end`);try{return performance.measure(`${n}${e}`,`${n}${e}-start`,`${n}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${n}${e}`);try{return performance.measure(`${n}${e}-measure`,`${n}${t}-start`,`${n}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(n)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${n}`,"").replace("-measure",""),duration:e.duration})))}}},181:(e,t,a)=>{"use strict";var n,r;a.d(t,{sP:()=>i}),function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(n||(n={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseStorageProxy="/enterprise/storage-proxy",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/"}(r||(r={}));const o="/microsoft-365-integration-assets/",i={IconOpenFinLogo:"/icons/openfinlogo.svg",IconFilter:"/icons/filter.svg",LightStorefront:"/icons/store-icon-light.png",DarkStorefront:"/icons/store-icon-dark.png",CallIconLight:"/icons/call-icon-light.svg",CallIconDark:"/icons/call-icon-dark.svg",ChatIconLight:"/icons/chat-icon-light.svg",ChatIconDark:"/icons/chat-icon-dark.svg",MessageIconLight:"/icons/message-icon-light.svg",MessageIconDark:"/icons/message-icon-dark.svg",Microsoft365Assets:{Microsoft365DocumentIcon:`${o}microsoft-365-document-icon.svg`,Microsoft365ExcelIcon:`${o}microsoft-365-excel-icon.svg`,Microsoft365PowerpointIcon:`${o}microsoft-365-powerpoint-icon.svg`,Microsoft365OutlookIcon:`${o}microsoft-365-outlook-icon.svg`,Microsoft365TeamsIcon:`${o}microsoft-365-teams-icon.svg`,Microsoft365Icon:`${o}microsoft-365-icon.svg`,PDFFileIcon:`${o}pdf-file-icon.svg`},DockIconLight:"/icons/dock-icon-light.png",DockIconDark:"/icons/dock-icon-dark.png"};var s;!function(e){e.Search="search"}(s||(s={}))},523:(e,t,a)=>{"use strict";a.d(t,{OX:()=>o});var n;a(723);!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(n||(n={}));const r="/workspace/21.0.16";function o(e){return r+e}},277:(e,t,a)=>{"use strict";a.d(t,{GR:()=>s,ki:()=>d,xt:()=>c});var n,r=a(723),o=a(70);a(978);!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(n||(n={}));const i=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||r.et,componentName:e,componentVersion:t.componentVersion||r.et,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};const s=e=>{o.F2.uuid===o.$p.uuid&&o.F2.name===o.$p.name||i(n.Home,e)},c=e=>{i(n.Storefront,e)},d=e=>{i(n.Dock,e)};new Map},333:(e,t,a)=>{"use strict";function n(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}a.d(t,{N:()=>n})},70:(e,t,a)=>{"use strict";a.d(t,{$p:()=>c,C:()=>m,F2:()=>l,Io:()=>g,Iq:()=>s,Q:()=>n,T7:()=>u,Tv:()=>d,V1:()=>i,gQ:()=>p,hb:()=>f,ur:()=>w,xt:()=>h});var n,r=a(438),o=a(723);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion"}(n||(n={}));const i=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2});function s(e){if(!o.cI)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const c={name:o.vL,uuid:o.$h};function d(){return s(c)}const l={name:n.Home,uuid:r.MW.Workspace},u={name:n.Dock,uuid:r.MW.Workspace},p={name:n.Storefront,uuid:r.MW.Workspace},h={name:r.MW.Workspace,uuid:r.MW.Workspace};const f=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function g(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>f(e.identity))));return e.filter(((e,a)=>t[a]))}const m=e=>s(e).getOptions().then((()=>!0)).catch((()=>!1));async function w(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=function(e,t){const a=e.top,n=e.left,r=e.top+e.height,o=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,d=t.monitorRect.right;if(a>c||r<i||n>d||o<s)return 0;const l=Math.max(a,i),u=Math.max(n,s);return(Math.min(r,c)-l)*(Math.min(o,d)-u)/(e.height*e.width)}(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{ActionTrigger:()=>Re.P,AppManifestType:()=>Ne.v,ButtonStyle:()=>Be.in,CLIAction:()=>$.PK,CLIFilterOptionType:()=>$.oo,CLITemplate:()=>$.fC,ContainerTemplateFragmentNames:()=>Be.ce,Dock:()=>e,DockButtonNames:()=>u.a,Home:()=>S,Integrations:()=>t,PresentationTemplateFragmentNames:()=>Be.np,SearchTagBackground:()=>Re.R,Storefront:()=>Ee,StorefrontTemplate:()=>Ne.z,TemplateFragmentTypes:()=>Be.SM});var e={};a.r(e),a.d(e,{DockButtonNames:()=>u.a,deregister:()=>m,minimize:()=>w,register:()=>g,show:()=>y});var t={};a.r(t),a.d(t,{Microsoft365WorkflowIntegration:()=>De});var r=a(723),o=a(786),i=a(277),s=a(70),c=a(695),d=a(79);var l=a(248),u=a(600);let p,h;const f=(e=[])=>{const t=e.filter((e=>!!e.id)).map((e=>e.id));if(new Set(t).size!==t.length)throw new Error("Dock provider buttons must have unique identifiers if specified.")},g=async e=>{(0,l.H)("dock",s.T7);const t=await(async e=>{await(0,d.KZ)(fin.me.identity);const t=await(0,c.N7)();if(h)throw new Error("Error using `Dock.register`. A Dock provider for this Workspace Platform is already registered. Call `Dock.deregister` before calling `Dock.register` again.");return h=e,e.clientAPIVersion=r.et,t.dispatch("register-provider",{providerType:"dock",info:e})})(e);return p=new Promise(((a,n)=>{try{(e=>{e.workspaceComponents&&!Array.isArray(e.workspaceComponents)&&console.warn("Using the `WorkspaceComponentButtonOptions` type to configure the Workspace Components Buttons is deprecated. Please use `WorkspaceButtonsConfig` instead.")})(e),f(e.buttons),(0,i.ki)({allowed:!0,componentVersion:t?.workspaceVersion}),r.et,a({clientAPIVersion:r.et,workspaceVersion:t?.workspaceVersion??"",updateDockProviderConfig:async t=>{if(!h)throw new Error("Error using `Dock.updateDockProviderConfig`. Dock provider is not registered. Make sure to call `Dock.register` first.");f(t.buttons);const a=await(0,c.N7)();await a.dispatch("update-provider",{providerType:"dock",provider:{...e,workspaceComponents:t.workspaceComponents,buttons:t.buttons,title:t.title,icon:t.icon,disableUserRearrangement:t.disableUserRearrangement,id:e.id}})}})}catch(e){(0,i.ki)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),n(e),p=void 0}finally{o.A.markEndAndMeasure("dock-registration")}})),p},m=async()=>{if(await p,!h)throw new Error("Error using `Dock.deregister`. Dock provider is not registered. Call `Dock.register` before calling `Dock.deregister`.");const e=await(0,c.N7)();await e.dispatch("deregister-provider",{providerType:"dock",id:h.id}),h=void 0,p=void 0},w=async()=>{await p,await(0,c.nA)(),await(async e=>(await(0,c.p4)()).dispatch("hide-provider-window",{providerType:e}))("dock")},y=async()=>{o.A.markStart("dock-show"),await p,await(0,c.nA)(),await(async e=>(await(0,c.p4)()).dispatch("show-provider-window",{providerType:e}))("dock")};var v,k,b,S=a(834),P=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},C=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};v=new WeakMap,k=new WeakMap,b=new WeakMap;const x=class{constructor(e){v.set(this,void 0),k.set(this,void 0),b.set(this,void 0),P(this,v,e,"f"),P(this,k,new Map,"f"),P(this,b,[],"f")}get(e){if(C(this,k,"f").has(e))return this.updateQueue(e),C(this,k,"f").get(e)}has(e){return C(this,k,"f").has(e)}put(e,t){if(C(this,k,"f").has(e))C(this,k,"f").set(e,t),this.updateQueue(e);else{if(C(this,b,"f").length===C(this,v,"f")){const e=C(this,b,"f").shift();e&&C(this,k,"f").delete(e)}C(this,k,"f").set(e,t),C(this,b,"f").push(e)}}updateQueue(e){const t=C(this,b,"f").indexOf(e);-1!==t&&(C(this,b,"f").splice(t,1),C(this,b,"f").push(e))}};function A(e){return e&&"object"==typeof e&&!Array.isArray(e)}function M(e,...t){if(!t.length)return e;const a=t.shift();return A(e)&&A(a)&&Object.entries(a).forEach((([t,a])=>{if(A(a))return e[t]||(e[t]={}),M(e[t],a);e[t]=a})),M(e,...t)}var I,F,W,T,_,O=a(181),D=a(523),E=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},R=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};F=new WeakMap,W=new WeakMap,T=new WeakMap,I=new WeakSet,_=function(){const e=Array.from(R(this,F,"f").entries()).reduce(((e,t)=>!e||t[1].timestamp<e[1].timestamp?t:e),null);return e?e[0]:null};const B=class{constructor(e=3e5,t=100){I.add(this),F.set(this,void 0),W.set(this,void 0),T.set(this,void 0),E(this,F,new Map,"f"),E(this,W,e,"f"),E(this,T,t,"f")}get(e){const t=R(this,F,"f").get(e);if(!t)return null;return Date.now()-t.timestamp<R(this,W,"f")?t.value:(R(this,F,"f").delete(e),null)}put(e,t){if(R(this,F,"f").size>=R(this,T,"f")){const e=R(this,I,"m",_).call(this);null!=e&&R(this,F,"f").delete(e)}R(this,F,"f").set(e,{value:t,timestamp:Date.now()})}remove(e){R(this,F,"f").delete(e)}clear(){R(this,F,"f").clear()}};var N,L=a(333),$=a(872),G=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};const U={};class V{constructor(e){N.set(this,new Set),this._initializeWorkflows=async(e=this.config)=>{const{workflows:t}=e;for(const e in t){if(!t[e].disableAutoInitialize)try{G(this,N,"f").has(e)?console.warn(`Workflow ${e} already initialized.`):(G(this,N,"f").add(e),await this.initializeWorkflow(e))}catch(t){G(this,N,"f").delete(e),console.error(`Error registering ${e}:`,t)}}};const t=M({},U,e);this.config=t}async initializeWorkflow(e){G(this,N,"f").add(e)}}N=new WeakMap;const z=__webpack_require__(/*! @openfin/microsoft365 */ "../../node_modules/@openfin/microsoft365/openfin.ms365.js");let H=0;const q={chatMessage:"Chat Message",event:"Event",message:"Email",drive:"Document",contact:"Contact",user:"User",list:"List"},j={pdf:"PDF",docx:"Word",pptx:"PowerPoint",xlsx:"Excel",onenote:"OneNote"},X={chatMessage:["Chat.Read","ChannelMessage.Read.All"],list:["Sites.Read.All"],event:["Calendars.Read"],message:["Mail.ReadWrite.Shared"],contact:["Contacts.Read.Shared","Mail.ReadWrite.Shared"],user:["User.Read.All","Presence.Read.All"]},K="MICROSOFT_365_SEARCH_TYPE_FILTER",Q="MICROSOFT_365_SEARCH_FILE_TYPE_FILTER",Z="MICROSOFT_365_SEARCH_DEPARTMENT_FILTER",Y="MICROSOFT_365_SEARCH_JOB_TITLE_FILTER",J="Teams Call",ee="Teams Chat",te="Email",ae=(e,t)=>{const a=[],n={item:e.context.selectedFilters?.find((e=>e.id===K)),documentType:e.context.selectedFilters?.find((e=>e.id===Q))},r=[{value:"Document",isSelected:!!n.item?.options?.find((({value:e})=>"File"===e))?.isSelected},{value:"Contact",isSelected:!!n.item?.options?.find((({value:e})=>"Contact"===e))?.isSelected},{value:"Chat Message",isSelected:!!n.item?.options?.find((({value:e})=>"Chat Message"===e))?.isSelected},{value:"Email",isSelected:!!n.item?.options?.find((({value:e})=>"Email"===e))?.isSelected},{value:"Event",isSelected:!!n.item?.options?.find((({value:e})=>"Event"===e))?.isSelected},{value:"List",isSelected:!!n.item?.options?.find((({value:e})=>"List"===e))?.isSelected}];return a.push({id:K,title:"Type",type:$.oo.MultiSelect,options:r.filter((e=>t.has(e.value)))}),"Document"===n.item?.options?.filter((e=>e.isSelected))?.[0].value&&a.push({id:Q,title:"File Type",type:$.oo.MultiSelect,options:Object.entries(j).map((([,e])=>({value:e,isSelected:!!n.documentType?.options?.filter((e=>e.isSelected))?.find((({value:e})=>"File"===e))?.isSelected})))}),a},ne=(e,t)=>{const a=t.context.selectedFilters?.find((e=>e.id===K))?.options;if(!Array.isArray(a)||!a.find((e=>"Contact"===e.value||"User"===e.value))?.isSelected)return[];const{department:n,jobTitle:r}=e.reduce(((e,t)=>(t.department&&e.department.add(t.department),t.jobTitle&&e.jobTitle.add(t.jobTitle),e)),{department:new Set,jobTitle:new Set}),o=t.context.selectedFilters?.find((e=>e.id===Z)),i=Array.from(n).map((e=>({value:e,isSelected:!!o?.options?.find((({value:t})=>t===e))?.isSelected}))),s=t.context.selectedFilters?.find((e=>e.id===Z)),c=Array.from(r).map((e=>({value:e,isSelected:!!s?.options?.find((({value:t})=>t===e))?.isSelected})));return[{id:Z,title:"Department",type:$.oo.MultiSelect,options:i},{id:Y,title:"Job Title",type:$.oo.MultiSelect,options:c}]},re=e=>{const t=e.context.selectedFilters?.find((e=>e.id===Z)),a=Array.isArray(t?.options)?t.options.filter((e=>e.isSelected)).map((e=>e.value)):[],n=e.context.selectedFilters?.find((e=>e.id===Y));return{department:a,jobTitle:Array.isArray(n?.options)?n.options.filter((e=>e.isSelected)).map((e=>e.value)):[]}},oe=(e,t)=>{const{department:a,jobTitle:n}=t;return e.filter((e=>(!a.length||a.includes(e.department))&&(!n.length||n.includes(e.jobTitle))))},ie=e=>{const t=Array.isArray(e.context.selectedFilters?.find((e=>e.id===Q))?.options)?e.context.selectedFilters.find((e=>e.id===Q))?.options:[];return{filterFiles:t&&t.some((({isSelected:e})=>e)),showWord:t.find((({value:e})=>"Word"===e))?.isSelected,showExcel:t.find((({value:e})=>"Excel"===e))?.isSelected,showPowerPoint:t.find((({value:e})=>"PowerPoint"===e))?.isSelected,showPDF:t.find((({value:e})=>"PDF"===e))?.isSelected,showOneNote:t.find((({value:e})=>"OneNote"===e))?.isSelected}},se=(e,t)=>{const a=[];return t.showWord&&a.push(".docx"),t.showExcel&&a.push(".xlsx"),t.showPowerPoint&&a.push(".pptx"),t.showPDF&&a.push(".pdf"),t.showOneNote&&a.push(".one"),e.filter((e=>{if(e.file){const t=e.name.substring(e.name.lastIndexOf("."));return a.includes(t)}return!1}))},ce=(e="")=>{switch(e.split(".").pop()?.toLowerCase()??""){case"docx":case"doc":return"Microsoft Word";case"xlsx":case"xls":return"Microsoft Excel";case"pptx":case"ppt":return"Microsoft PowerPoint";case"pdf":return"PDF";case"png":case"jpg":case"jpeg":case"gif":return"Image";case"txt":return"Text";default:return"File"}},de=(e="")=>{switch(e.split(".").pop()?.toLowerCase()??""){case"docx":case"doc":return(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365DocumentIcon);case"xlsx":case"xls":return(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365ExcelIcon);case"pptx":case"ppt":return(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365PowerpointIcon);case"pdf":return(0,D.OX)(O.sP.Microsoft365Assets.PDFFileIcon);default:return}},le=e=>e.replace(/\+/g,"_").replace(/\//g,"-");var ue,pe,he,fe,ge,me,we,ye,ve,ke,be,Se,Pe,Ce,xe,Ae,Me,Ie,Fe,We,Te,_e=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)},Oe=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a};class De extends V{constructor(e){const t=M({},{workflows:{search:(H+=1,{homeProvider:{description:"Microsoft 365 search results provider",id:`MS365-${fin.me.identity.uuid}-${H}`,logoUrl:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365Icon),icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365Icon),title:"Microsoft 365 Search",inputPlaceholder:"What would you like to search in Microsoft 365 today?",dispatchFocusEvents:!0},microsoftEntityTypeConfig:{message:!0,chatMessage:!0,drive:!0,event:!0,user:!0,contact:!0,list:!0},useTeamsDeepLink:!0})}},e);super(t),ue.add(this),pe.set(this,void 0),this.workflowIntegrationName="Microsoft 365",he.set(this,void 0),fe.set(this,void 0),ge.set(this,1),me.set(this,new Set),we.set(this,new x(100)),ye.set(this,new B(6e4)),this.connect=async(e=this.config.connect)=>{const{clientId:t,tenantId:a,redirectUri:n}=e,r=this.config.workflows?.search?Object.entries(this.config.workflows?.search?.microsoftEntityTypeConfig??{}).filter((([e,t])=>t)).map((([e])=>X[e])).filter((e=>void 0!==e)).flat():[];this.config.connect=e,Oe(this,pe,await(0,z.connect)(t,a,n,[...new Set(r)]),"f")},ve.set(this,(()=>{if(!_e(this,pe,"f"))throw new Error("Microsoft365WorkflowIntegration not connected");return _e(this,pe,"f")})),Ce.set(this,(async e=>{if(Oe(this,fe,e,"f"),e.data?.item?.id){const t=_e(this,ye,"f").get(e.data.item.id);if(t)return void _e(this,he,"f").respond([t])}if("user"===e.data?.type)_e(this,Fe,"f").call(this,e)})),xe.set(this,(async e=>{await fin.Platform.getCurrentSync().createWindow({layout:{content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{url:e}}]}]},workspacePlatform:void 0})})),Ae.set(this,(async e=>{if(e.data.item.channelIdentity.teamId){const t=new URL(`msteams:/l/channel/${e.data.item.channelIdentity.channelId}/${e.data.item.id}`);return!1===this.config.workflows?.search?.useTeamsDeepLink&&(t.protocol="https:"),t.searchParams.append("context",JSON.stringify({contextType:"channel"})),void await fin.System.openUrlWithBrowser(t.toString())}const t=new URL(`msteams:/l/message/${e.data.item.chatId}/${e.data.item.id}`);!1===this.config.workflows?.search?.useTeamsDeepLink&&(t.protocol="https:"),t.searchParams.append("context",JSON.stringify({contextType:"chat"})),await fin.System.openUrlWithBrowser(t.toString())})),Me.set(this,(async e=>{switch(e.action.name){case J:{const t=new z.TeamsConnection(_e(this,ve,"f").call(this),this.config.workflows?.search?.useTeamsDeepLink);_e(this,ue,"m",ke).call(this,(()=>t.startCall([e.data.item.mail])));break}case te:{const t=await this.executeApiRequest("/v1.0/me/messages","POST",{toRecipients:[{emailAddress:{address:e.data.item.mail}}]});let a=t.data.webLink;const n=new URL(t.data.webLink);if("/owa/"===n.pathname){const e=n.search.slice(1).split("&").reduce(((e,t)=>{const[a,n]=t.split("=");return e[a]=n,e}),{});if(e.ItemID){const t=e.ItemID;a=`${n.origin}/mail/deeplink/compose/${t}?ItemID=${t}&exvsurl=1`}}await fin.Platform.getCurrentSync().createView({url:a});break}case ee:{const t=_e(this,ve,"f").call(this),a=new z.TeamsConnection(t,this.config.workflows?.search?.useTeamsDeepLink);_e(this,ue,"m",ke).call(this,(()=>a.startChat({emailAddresses:[t.currentUser.mail,e.data.item.mail]})));break}default:console.warn("Unhandled user action for result:",e,`Unknown action "${e.action.name}"`)}})),Ie.set(this,(async e=>{switch(e.data.type){case"driveItem":_e(this,xe,"f").call(this,e.data.item.webUrl);break;case"event":{const t=e.data.item,a=await this.executeApiRequest(`/v1.0/me/events/${t.id}`);_e(this,xe,"f").call(this,a.data.webLink);break}case"chatMessage":_e(this,Ae,"f").call(this,e);break;case"message":_e(this,xe,"f").call(this,e.data.item.webLink);break;case"list":{const t=e.data.item,a=await this.executeApiRequest(`/v1.0/sites/${t.parentReference?.siteId}/lists/${t.id}`);_e(this,xe,"f").call(this,a.data.webUrl);break}case"user":_e(this,Me,"f").call(this,e);break;default:console.warn("Unhandled user action for result:",e,`Unknown result type "${e.data.type}"`)}})),Fe.set(this,(async e=>{let t,a;const n=[],r=e.data.item;_e(this,we,"f").has(r.id)?t=_e(this,we,"f").get(r.id):n.push({id:"contactPhoto",method:"GET",url:`/users/${e.data.item.id}/photo/$value`,headers:{ConsistencyLevel:"eventual"}}),n.push({id:"presence",method:"GET",url:`/users/${e.data.item.id}/presence`});try{const e=await _e(this,ue,"m",be).call(this,n),i=e.data?.responses.find((e=>"contactPhoto"===e.id));i&&200!==i.status&&console.warn("Error fetching user photo",i),i?.body&&200===i?.status&&(t=`data:image/jpeg;base64,${i.body}`,_e(this,we,"f").put(r.id,t));const s=e.data?.responses.find((e=>"presence"===e.id));200!==s.status&&console.warn("Error fetching user presence",s),s?.body&&200===s.status&&(o=s.body,a={available:"available",availableidle:"available",away:"away",berightback:"away",busy:"busy",busyidle:"busy",donotdisturb:"do-not-disturb",offline:"offline",presenceunknown:"offline"}[o.availability?.toLowerCase()])}catch(e){console.error("Error fetching user data",e)}var o;const i=[["Department",r.department||"N/A"],["Email",r.mail||"N/A"],["Work Phone",r.businessPhones?.[0]||"N/A"],["Mobile",r.mobilePhone||"N/A"],["Location",r.officeLocation||"N/A"]],s={...e,template:$.fC.Contact,templateContent:{name:e.data.item.displayName,title:e.data.item.jobTitle,details:[i],photoUrl:t,onlineStatus:a,buttons:[{type:"button",icon:{light:(0,D.OX)(O.sP.CallIconLight),dark:(0,D.OX)(O.sP.CallIconDark)},tooltip:"Teams Call",action:J},{type:"button",icon:{light:(0,D.OX)(O.sP.ChatIconLight),dark:(0,D.OX)(O.sP.ChatIconDark)},tooltip:"Chat",action:ee},{type:"button",icon:{light:(0,D.OX)(O.sP.MessageIconLight),dark:(0,D.OX)(O.sP.MessageIconDark)},tooltip:"E-mail",action:te}]}};_e(this,ye,"f").put(e.data.item.id,s),_e(this,he,"f").respond([s])})),We.set(this,(async(e,t)=>{if(_e(this,he,"f")&&_e(this,he,"f").close(),Oe(this,he,t,"f"),_e(this,he,"f").open(),e.query.length<_e(this,ge,"f"))return{results:[]};const a=encodeURIComponent(e.query),n=[],r=((e,t)=>{const a=Array.isArray(e.context.selectedFilters?.find((e=>e.id===K))?.options)?e.context.selectedFilters.find((e=>e.id===K))?.options:[],n=a.every((({isSelected:e})=>!e));return{showDocuments:t.has("Document")&&(n||!!a.find((({value:e})=>"Document"===e))?.isSelected),showContacts:t.has("Contact")&&(n||!!a.find((({value:e})=>"Contact"===e))?.isSelected),showChatMessages:t.has("Chat Message")&&(n||!!a.find((({value:e})=>"Chat Message"===e))?.isSelected),showMessages:t.has("Email")&&(n||!!a.find((({value:e})=>"Email"===e))?.isSelected),showEvents:t.has("Event")&&(n||!!a.find((({value:e})=>"Event"===e))?.isSelected),showLists:t.has("List")&&(n||!!a.find((({value:e})=>"List"===e))?.isSelected)}})(e,_e(this,me,"f"));if(r.showDocuments){const e=`'${a}'`;n.push({id:"driveItem",method:"GET",url:`/me/drive/root/search(q=${encodeURIComponent(e)})`,headers:{ConsistencyLevel:"eventual"}})}if(r.showEvents&&n.push({id:"event",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["event"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),r.showContacts){const t=`"${e.query}"`;n.push({id:"contact",method:"GET",url:`/me/contacts?$search=${encodeURIComponent(t)}&$top=10`});const a=["displayName","givenName","surname"].map((t=>`"${t}:${e.query}"`)).join(" OR ");n.push({id:"user",method:"GET",url:`/users?$search=${encodeURIComponent(a)}&$top=10&$select=id,displayName,department,mail,businessPhones,mobilePhone,officeLocation,jobTitle`,headers:{ConsistencyLevel:"eventual"}})}if(r.showMessages&&n.push({id:"message",method:"GET",url:`/me/messages?$select=sender,subject,bodyPreview,receivedDateTime,webLink&$search=${encodeURIComponent(`"${e.query}"`)}&$top=10`}),r.showChatMessages&&n.push({id:"chatMessage",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["chatMessage"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),r.showLists&&n.push({id:"list",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["list"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),0===n.length)return{results:[]};const{results:o,filters:i}=await _e(this,ue,"m",Se).call(this,n,e);return o.find((e=>e.key===_e(this,fe,"f")?.key))?.template===$.fC.Loading&&_e(this,Ce,"f").call(this,_e(this,fe,"f")),{results:o,context:{filters:i}}})),Te.set(this,(async e=>{switch(e.action.trigger){case Re.P.FocusChange:_e(this,Ce,"f").call(this,e);break;case Re.P.UserAction:_e(this,Ie,"f").call(this,e);break;case Re.P.Reload:break;default:console.warn(`Unknown action trigger: ${e.action.trigger}`)}})),this.initializeWorkflow=async e=>{if("search"!==e)throw new Error(`Attempted to initialize unknown workflow: ${e}`);await S.register({...this.config.workflows.search.homeProvider,onUserInput:_e(this,We,"f"),onResultDispatch:_e(this,Te,"f")}),(0,z.enableLogging)(),await this.connect(),super.initializeWorkflow(e)},Object.entries(t.workflows?.search?.microsoftEntityTypeConfig||{}).filter((([e,t])=>t)).forEach((([e])=>{_e(this,me,"f").add(q[e])}))}async executeApiRequest(...e){return _e(this,ue,"m",ke).call(this,(()=>_e(this,ve,"f").call(this).executeApiRequest(...e)))}}pe=new WeakMap,he=new WeakMap,fe=new WeakMap,ge=new WeakMap,me=new WeakMap,we=new WeakMap,ye=new WeakMap,ve=new WeakMap,Ce=new WeakMap,xe=new WeakMap,Ae=new WeakMap,Me=new WeakMap,Ie=new WeakMap,Fe=new WeakMap,We=new WeakMap,Te=new WeakMap,ue=new WeakSet,ke=async function(e){try{return await e()}catch(t){if(t instanceof z.AuthTokenExpiredError)return await this.connect(),e();throw t}},be=async function(e){return this.executeApiRequest("/v1.0/$batch","POST",{requests:e})},Se=async function(e,t){try{const a=await _e(this,ue,"m",be).call(this,e);return{filters:[...ae(t,_e(this,me,"f")),...ne(a.data.responses.find((e=>"user"===e.id))?.body?.value||[],t)],results:_e(this,ue,"m",Pe).call(this,a,t)}}catch(e){return console.warn("Failed to execute Batch API request: ",e),{filters:[],results:[{key:(0,L.N)(),title:"Error Fetching Search Results",description:"",actions:[],template:$.fC.Error,templateContent:`Failed to execute Batch API request: ${JSON.stringify(e)}`}]}}},Pe=function(e,t){let a=[];for(const n of e.data.responses)if(200===n.status)switch(n.id){case"driveItem":{const e=ie(t),r=e.filterFiles?se(n.body.value,e):n.body.value;a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.name??"",description:e.file?.mimeType??"",label:ce(e.name),icon:de(e.name),data:{type:"driveItem",item:e},actions:[{name:"Launch"}],template:$.fC.Plain,templateContent:void 0}))));break}case"event":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.filter((e=>e.resource.subject)).map((e=>{const t=e.resource,a=le(e.hitId);return{key:a,title:t.subject??"",label:"Calendar Event",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[{name:"Launch"}],data:{type:"event",item:{...t,id:a}},template:$.fC.Plain,templateContent:void 0}}))||[]);break;case"contact":{const e=re(t),r=oe(n.body.value||[],e);a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.displayName??"",label:"Outlook contact",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[],data:{type:"contact",item:e},template:$.fC.Plain,templateContent:void 0}))));break}case"user":{const e=re(t),r=oe(n.body.value||[],e);a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.displayName??"",label:"Teams contact",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365TeamsIcon),actions:[],data:{type:"user",item:e},template:$.fC.Loading,templateContent:void 0}))));break}case"message":a.push(...(n.body.value||[]).map((e=>({key:e.id??(0,L.N)(),title:`${e.subject??"Untitled Message"}${e.isDraft?" (Draft)":""}`,label:"Email",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[],data:{type:"message",item:e},template:$.fC.Plain,templateContent:void 0}))));break;case"chatMessage":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.map((e=>{const t=e.resource;return{key:t.id??(0,L.N)(),title:e.summary??"Untitled Message",label:"Chat",icon:(0,D.OX)(O.sP.Microsoft365Assets.Microsoft365TeamsIcon),actions:[],data:{type:"chatMessage",item:t},template:$.fC.Plain,templateContent:void 0}}))||[]);break;case"list":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.map((e=>{const t=e.resource,a=le(e.hitId);return{key:a,title:t.displayName??"Untitled List",label:"List",actions:[{name:"Launch"}],data:{type:"list",item:{...t,id:a}},template:$.fC.Plain,templateContent:void 0}}))||[]);break;default:console.warn(`Unknown batch response id: ${n.id}`,n.body)}else console.warn("Batch API request failed: ",n);return a=a.map((e=>{if(!e.data?.item?.id)return e;const t=_e(this,ye,"f").get(e.data.item.id);return t?{...e,template:t.template,templateContent:t.templateContent}:e})),a.sort(((e,t)=>e.title>t.title?1:-1))};var Ee=a(598),Re=a(129),Be=a(184),Ne=a(710)})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/dexie/dist/dexie.js":
/*!**********************************************!*\
  !*** ../../node_modules/dexie/dist/dexie.js ***!
  \**********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/*
 * Dexie.js - a minimalistic wrapper for IndexedDB
 * ===============================================
 *
 * By David Fahlander, david.fahlander@gmail.com
 *
 * Version 4.0.11, Wed Jan 15 2025
 *
 * https://dexie.org
 *
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/
 */
 
(function (global, factory) {
     true ? module.exports = factory() :
    0;
})(this, (function () { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    var _global = typeof globalThis !== 'undefined' ? globalThis :
        typeof self !== 'undefined' ? self :
            typeof window !== 'undefined' ? window :
                __webpack_require__.g;

    var keys = Object.keys;
    var isArray = Array.isArray;
    if (typeof Promise !== 'undefined' && !_global.Promise) {
        _global.Promise = Promise;
    }
    function extend(obj, extension) {
        if (typeof extension !== 'object')
            return obj;
        keys(extension).forEach(function (key) {
            obj[key] = extension[key];
        });
        return obj;
    }
    var getProto = Object.getPrototypeOf;
    var _hasOwn = {}.hasOwnProperty;
    function hasOwn(obj, prop) {
        return _hasOwn.call(obj, prop);
    }
    function props(proto, extension) {
        if (typeof extension === 'function')
            extension = extension(getProto(proto));
        (typeof Reflect === "undefined" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {
            setProp(proto, key, extension[key]);
        });
    }
    var defineProperty = Object.defineProperty;
    function setProp(obj, prop, functionOrGetSet, options) {
        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, "get") && typeof functionOrGetSet.get === 'function' ?
            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :
            { value: functionOrGetSet, configurable: true, writable: true }, options));
    }
    function derive(Child) {
        return {
            from: function (Parent) {
                Child.prototype = Object.create(Parent.prototype);
                setProp(Child.prototype, "constructor", Child);
                return {
                    extend: props.bind(null, Child.prototype)
                };
            }
        };
    }
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    function getPropertyDescriptor(obj, prop) {
        var pd = getOwnPropertyDescriptor(obj, prop);
        var proto;
        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);
    }
    var _slice = [].slice;
    function slice(args, start, end) {
        return _slice.call(args, start, end);
    }
    function override(origFunc, overridedFactory) {
        return overridedFactory(origFunc);
    }
    function assert(b) {
        if (!b)
            throw new Error("Assertion Failed");
    }
    function asap$1(fn) {
        if (_global.setImmediate)
            setImmediate(fn);
        else
            setTimeout(fn, 0);
    }
    function arrayToObject(array, extractor) {
        return array.reduce(function (result, item, i) {
            var nameAndValue = extractor(item, i);
            if (nameAndValue)
                result[nameAndValue[0]] = nameAndValue[1];
            return result;
        }, {});
    }
    function getByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))
            return obj[keyPath];
        if (!keyPath)
            return obj;
        if (typeof keyPath !== 'string') {
            var rv = [];
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                var val = getByKeyPath(obj, keyPath[i]);
                rv.push(val);
            }
            return rv;
        }
        var period = keyPath.indexOf('.');
        if (period !== -1) {
            var innerObj = obj[keyPath.substr(0, period)];
            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));
        }
        return undefined;
    }
    function setByKeyPath(obj, keyPath, value) {
        if (!obj || keyPath === undefined)
            return;
        if ('isFrozen' in Object && Object.isFrozen(obj))
            return;
        if (typeof keyPath !== 'string' && 'length' in keyPath) {
            assert(typeof value !== 'string' && 'length' in value);
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                setByKeyPath(obj, keyPath[i], value[i]);
            }
        }
        else {
            var period = keyPath.indexOf('.');
            if (period !== -1) {
                var currentKeyPath = keyPath.substr(0, period);
                var remainingKeyPath = keyPath.substr(period + 1);
                if (remainingKeyPath === "")
                    if (value === undefined) {
                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))
                            obj.splice(currentKeyPath, 1);
                        else
                            delete obj[currentKeyPath];
                    }
                    else
                        obj[currentKeyPath] = value;
                else {
                    var innerObj = obj[currentKeyPath];
                    if (!innerObj || !hasOwn(obj, currentKeyPath))
                        innerObj = (obj[currentKeyPath] = {});
                    setByKeyPath(innerObj, remainingKeyPath, value);
                }
            }
            else {
                if (value === undefined) {
                    if (isArray(obj) && !isNaN(parseInt(keyPath)))
                        obj.splice(keyPath, 1);
                    else
                        delete obj[keyPath];
                }
                else
                    obj[keyPath] = value;
            }
        }
    }
    function delByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string')
            setByKeyPath(obj, keyPath, undefined);
        else if ('length' in keyPath)
            [].map.call(keyPath, function (kp) {
                setByKeyPath(obj, kp, undefined);
            });
    }
    function shallowClone(obj) {
        var rv = {};
        for (var m in obj) {
            if (hasOwn(obj, m))
                rv[m] = obj[m];
        }
        return rv;
    }
    var concat = [].concat;
    function flatten(a) {
        return concat.apply([], a);
    }
    var intrinsicTypeNames = "BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey"
        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return ["Int", "Uint", "Float"].map(function (t) { return t + num + "Array"; }); }))).filter(function (t) { return _global[t]; });
    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));
    function cloneSimpleObjectTree(o) {
        var rv = {};
        for (var k in o)
            if (hasOwn(o, k)) {
                var v = o[k];
                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);
            }
        return rv;
    }
    function objectIsEmpty(o) {
        for (var k in o)
            if (hasOwn(o, k))
                return false;
        return true;
    }
    var circularRefs = null;
    function deepClone(any) {
        circularRefs = new WeakMap();
        var rv = innerDeepClone(any);
        circularRefs = null;
        return rv;
    }
    function innerDeepClone(x) {
        if (!x || typeof x !== 'object')
            return x;
        var rv = circularRefs.get(x);
        if (rv)
            return rv;
        if (isArray(x)) {
            rv = [];
            circularRefs.set(x, rv);
            for (var i = 0, l = x.length; i < l; ++i) {
                rv.push(innerDeepClone(x[i]));
            }
        }
        else if (intrinsicTypes.has(x.constructor)) {
            rv = x;
        }
        else {
            var proto = getProto(x);
            rv = proto === Object.prototype ? {} : Object.create(proto);
            circularRefs.set(x, rv);
            for (var prop in x) {
                if (hasOwn(x, prop)) {
                    rv[prop] = innerDeepClone(x[prop]);
                }
            }
        }
        return rv;
    }
    var toString = {}.toString;
    function toStringTag(o) {
        return toString.call(o).slice(8, -1);
    }
    var iteratorSymbol = typeof Symbol !== 'undefined' ?
        Symbol.iterator :
        '@@iterator';
    var getIteratorOf = typeof iteratorSymbol === "symbol" ? function (x) {
        var i;
        return x != null && (i = x[iteratorSymbol]) && i.apply(x);
    } : function () { return null; };
    function delArrayItem(a, x) {
        var i = a.indexOf(x);
        if (i >= 0)
            a.splice(i, 1);
        return i >= 0;
    }
    var NO_CHAR_ARRAY = {};
    function getArrayOf(arrayLike) {
        var i, a, x, it;
        if (arguments.length === 1) {
            if (isArray(arrayLike))
                return arrayLike.slice();
            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')
                return [arrayLike];
            if ((it = getIteratorOf(arrayLike))) {
                a = [];
                while ((x = it.next()), !x.done)
                    a.push(x.value);
                return a;
            }
            if (arrayLike == null)
                return [arrayLike];
            i = arrayLike.length;
            if (typeof i === 'number') {
                a = new Array(i);
                while (i--)
                    a[i] = arrayLike[i];
                return a;
            }
            return [arrayLike];
        }
        i = arguments.length;
        a = new Array(i);
        while (i--)
            a[i] = arguments[i];
        return a;
    }
    var isAsyncFunction = typeof Symbol !== 'undefined'
        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }
        : function () { return false; };

    var dexieErrorNames = [
        'Modify',
        'Bulk',
        'OpenFailed',
        'VersionChange',
        'Schema',
        'Upgrade',
        'InvalidTable',
        'MissingAPI',
        'NoSuchDatabase',
        'InvalidArgument',
        'SubTransaction',
        'Unsupported',
        'Internal',
        'DatabaseClosed',
        'PrematureCommit',
        'ForeignAwait'
    ];
    var idbDomErrorNames = [
        'Unknown',
        'Constraint',
        'Data',
        'TransactionInactive',
        'ReadOnly',
        'Version',
        'NotFound',
        'InvalidState',
        'InvalidAccess',
        'Abort',
        'Timeout',
        'QuotaExceeded',
        'Syntax',
        'DataClone'
    ];
    var errorList = dexieErrorNames.concat(idbDomErrorNames);
    var defaultTexts = {
        VersionChanged: "Database version changed by other database connection",
        DatabaseClosed: "Database has been closed",
        Abort: "Transaction aborted",
        TransactionInactive: "Transaction has already completed or failed",
        MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"
    };
    function DexieError(name, msg) {
        this.name = name;
        this.message = msg;
    }
    derive(DexieError).from(Error).extend({
        toString: function () { return this.name + ": " + this.message; }
    });
    function getMultiErrorMessage(msg, failures) {
        return msg + ". Errors: " + Object.keys(failures)
            .map(function (key) { return failures[key].toString(); })
            .filter(function (v, i, s) { return s.indexOf(v) === i; })
            .join('\n');
    }
    function ModifyError(msg, failures, successCount, failedKeys) {
        this.failures = failures;
        this.failedKeys = failedKeys;
        this.successCount = successCount;
        this.message = getMultiErrorMessage(msg, failures);
    }
    derive(ModifyError).from(DexieError);
    function BulkError(msg, failures) {
        this.name = "BulkError";
        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });
        this.failuresByPos = failures;
        this.message = getMultiErrorMessage(msg, this.failures);
    }
    derive(BulkError).from(DexieError);
    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + "Error", obj); }, {});
    var BaseException = DexieError;
    var exceptions = errorList.reduce(function (obj, name) {
        var fullName = name + "Error";
        function DexieError(msgOrInner, inner) {
            this.name = fullName;
            if (!msgOrInner) {
                this.message = defaultTexts[name] || fullName;
                this.inner = null;
            }
            else if (typeof msgOrInner === 'string') {
                this.message = "".concat(msgOrInner).concat(!inner ? '' : '\n ' + inner);
                this.inner = inner || null;
            }
            else if (typeof msgOrInner === 'object') {
                this.message = "".concat(msgOrInner.name, " ").concat(msgOrInner.message);
                this.inner = msgOrInner;
            }
        }
        derive(DexieError).from(BaseException);
        obj[name] = DexieError;
        return obj;
    }, {});
    exceptions.Syntax = SyntaxError;
    exceptions.Type = TypeError;
    exceptions.Range = RangeError;
    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {
        obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    function mapError(domError, message) {
        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])
            return domError;
        var rv = new exceptionMap[domError.name](message || domError.message, domError);
        if ("stack" in domError) {
            setProp(rv, "stack", { get: function () {
                    return this.inner.stack;
                } });
        }
        return rv;
    }
    var fullNameExceptions = errorList.reduce(function (obj, name) {
        if (["Syntax", "Type", "Range"].indexOf(name) === -1)
            obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    fullNameExceptions.ModifyError = ModifyError;
    fullNameExceptions.DexieError = DexieError;
    fullNameExceptions.BulkError = BulkError;

    function nop() { }
    function mirror(val) { return val; }
    function pureFunctionChain(f1, f2) {
        if (f1 == null || f1 === mirror)
            return f2;
        return function (val) {
            return f2(f1(val));
        };
    }
    function callBoth(on1, on2) {
        return function () {
            on1.apply(this, arguments);
            on2.apply(this, arguments);
        };
    }
    function hookCreatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res !== undefined)
                arguments[0] = res;
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res2 !== undefined ? res2 : res;
        };
    }
    function hookDeletingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            f1.apply(this, arguments);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = this.onerror = null;
            f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
        };
    }
    function hookUpdatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function (modifications) {
            var res = f1.apply(this, arguments);
            extend(modifications, res);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res === undefined ?
                (res2 === undefined ? undefined : res2) :
                (extend(res, res2));
        };
    }
    function reverseStoppableEventChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            if (f2.apply(this, arguments) === false)
                return false;
            return f1.apply(this, arguments);
        };
    }
    function promisableChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res && typeof res.then === 'function') {
                var thiz = this, i = arguments.length, args = new Array(i);
                while (i--)
                    args[i] = arguments[i];
                return res.then(function () {
                    return f2.apply(thiz, args);
                });
            }
            return f2.apply(this, arguments);
        };
    }

    var debug = typeof location !== 'undefined' &&
        /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
    function setDebug(value, filter) {
        debug = value;
    }

    var INTERNAL = {};
    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?
        [] :
        (function () {
            var globalP = Promise.resolve();
            if (typeof crypto === 'undefined' || !crypto.subtle)
                return [globalP, getProto(globalP), globalP];
            var nativeP = crypto.subtle.digest("SHA-512", new Uint8Array([0]));
            return [
                nativeP,
                getProto(nativeP),
                globalP
            ];
        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;
    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;
    var patchGlobalPromise = !!resolvedGlobalPromise;
    function schedulePhysicalTick() {
        queueMicrotask(physicalTick);
    }
    var asap = function (callback, args) {
        microtickQueue.push([callback, args]);
        if (needsNewPhysicalTick) {
            schedulePhysicalTick();
            needsNewPhysicalTick = false;
        }
    };
    var isOutsideMicroTick = true,
    needsNewPhysicalTick = true,
    unhandledErrors = [],
    rejectingErrors = [],
    rejectionMapper = mirror;
    var globalPSD = {
        id: 'global',
        global: true,
        ref: 0,
        unhandleds: [],
        onunhandled: nop,
        pgp: false,
        env: {},
        finalize: nop
    };
    var PSD = globalPSD;
    var microtickQueue = [];
    var numScheduledCalls = 0;
    var tickFinalizers = [];
    function DexiePromise(fn) {
        if (typeof this !== 'object')
            throw new TypeError('Promises must be constructed via new');
        this._listeners = [];
        this._lib = false;
        var psd = (this._PSD = PSD);
        if (typeof fn !== 'function') {
            if (fn !== INTERNAL)
                throw new TypeError('Not a function');
            this._state = arguments[1];
            this._value = arguments[2];
            if (this._state === false)
                handleRejection(this, this._value);
            return;
        }
        this._state = null;
        this._value = null;
        ++psd.ref;
        executePromiseTask(this, fn);
    }
    var thenProp = {
        get: function () {
            var psd = PSD, microTaskId = totalEchoes;
            function then(onFulfilled, onRejected) {
                var _this = this;
                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);
                var cleanup = possibleAwait && !decrementExpectedAwaits();
                var rv = new DexiePromise(function (resolve, reject) {
                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));
                });
                if (this._consoleTask)
                    rv._consoleTask = this._consoleTask;
                return rv;
            }
            then.prototype = INTERNAL;
            return then;
        },
        set: function (value) {
            setProp(this, 'then', value && value.prototype === INTERNAL ?
                thenProp :
                {
                    get: function () {
                        return value;
                    },
                    set: thenProp.set
                });
        }
    };
    props(DexiePromise.prototype, {
        then: thenProp,
        _then: function (onFulfilled, onRejected) {
            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));
        },
        catch: function (onRejected) {
            if (arguments.length === 1)
                return this.then(null, onRejected);
            var type = arguments[0], handler = arguments[1];
            return typeof type === 'function' ? this.then(null, function (err) {
                return err instanceof type ? handler(err) : PromiseReject(err);
            })
                : this.then(null, function (err) {
                    return err && err.name === type ? handler(err) : PromiseReject(err);
                });
        },
        finally: function (onFinally) {
            return this.then(function (value) {
                return DexiePromise.resolve(onFinally()).then(function () { return value; });
            }, function (err) {
                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });
            });
        },
        timeout: function (ms, msg) {
            var _this = this;
            return ms < Infinity ?
                new DexiePromise(function (resolve, reject) {
                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);
                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));
                }) : this;
        }
    });
    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');
    globalPSD.env = snapShot();
    function Listener(onFulfilled, onRejected, resolve, reject, zone) {
        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
        this.onRejected = typeof onRejected === 'function' ? onRejected : null;
        this.resolve = resolve;
        this.reject = reject;
        this.psd = zone;
    }
    props(DexiePromise, {
        all: function () {
            var values = getArrayOf.apply(null, arguments)
                .map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                if (values.length === 0)
                    resolve([]);
                var remaining = values.length;
                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {
                    values[i] = x;
                    if (!--remaining)
                        resolve(values);
                }, reject); });
            });
        },
        resolve: function (value) {
            if (value instanceof DexiePromise)
                return value;
            if (value && typeof value.then === 'function')
                return new DexiePromise(function (resolve, reject) {
                    value.then(resolve, reject);
                });
            var rv = new DexiePromise(INTERNAL, true, value);
            return rv;
        },
        reject: PromiseReject,
        race: function () {
            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });
            });
        },
        PSD: {
            get: function () { return PSD; },
            set: function (value) { return PSD = value; }
        },
        totalEchoes: { get: function () { return totalEchoes; } },
        newPSD: newScope,
        usePSD: usePSD,
        scheduler: {
            get: function () { return asap; },
            set: function (value) { asap = value; }
        },
        rejectionMapper: {
            get: function () { return rejectionMapper; },
            set: function (value) { rejectionMapper = value; }
        },
        follow: function (fn, zoneProps) {
            return new DexiePromise(function (resolve, reject) {
                return newScope(function (resolve, reject) {
                    var psd = PSD;
                    psd.unhandleds = [];
                    psd.onunhandled = reject;
                    psd.finalize = callBoth(function () {
                        var _this = this;
                        run_at_end_of_this_or_next_physical_tick(function () {
                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);
                        });
                    }, psd.finalize);
                    fn();
                }, zoneProps, resolve, reject);
            });
        }
    });
    if (NativePromise) {
        if (NativePromise.allSettled)
            setProp(DexiePromise, "allSettled", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve) {
                    if (possiblePromises.length === 0)
                        resolve([]);
                    var remaining = possiblePromises.length;
                    var results = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: "fulfilled", value: value }; }, function (reason) { return results[i] = { status: "rejected", reason: reason }; })
                        .then(function () { return --remaining || resolve(results); }); });
                });
            });
        if (NativePromise.any && typeof AggregateError !== 'undefined')
            setProp(DexiePromise, "any", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve, reject) {
                    if (possiblePromises.length === 0)
                        reject(new AggregateError([]));
                    var remaining = possiblePromises.length;
                    var failures = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {
                        failures[i] = failure;
                        if (!--remaining)
                            reject(new AggregateError(failures));
                    }); });
                });
            });
        if (NativePromise.withResolvers)
            DexiePromise.withResolvers = NativePromise.withResolvers;
    }
    function executePromiseTask(promise, fn) {
        try {
            fn(function (value) {
                if (promise._state !== null)
                    return;
                if (value === promise)
                    throw new TypeError('A promise cannot be resolved with itself.');
                var shouldExecuteTick = promise._lib && beginMicroTickScope();
                if (value && typeof value.then === 'function') {
                    executePromiseTask(promise, function (resolve, reject) {
                        value instanceof DexiePromise ?
                            value._then(resolve, reject) :
                            value.then(resolve, reject);
                    });
                }
                else {
                    promise._state = true;
                    promise._value = value;
                    propagateAllListeners(promise);
                }
                if (shouldExecuteTick)
                    endMicroTickScope();
            }, handleRejection.bind(null, promise));
        }
        catch (ex) {
            handleRejection(promise, ex);
        }
    }
    function handleRejection(promise, reason) {
        rejectingErrors.push(reason);
        if (promise._state !== null)
            return;
        var shouldExecuteTick = promise._lib && beginMicroTickScope();
        reason = rejectionMapper(reason);
        promise._state = false;
        promise._value = reason;
        addPossiblyUnhandledError(promise);
        propagateAllListeners(promise);
        if (shouldExecuteTick)
            endMicroTickScope();
    }
    function propagateAllListeners(promise) {
        var listeners = promise._listeners;
        promise._listeners = [];
        for (var i = 0, len = listeners.length; i < len; ++i) {
            propagateToListener(promise, listeners[i]);
        }
        var psd = promise._PSD;
        --psd.ref || psd.finalize();
        if (numScheduledCalls === 0) {
            ++numScheduledCalls;
            asap(function () {
                if (--numScheduledCalls === 0)
                    finalizePhysicalTick();
            }, []);
        }
    }
    function propagateToListener(promise, listener) {
        if (promise._state === null) {
            promise._listeners.push(listener);
            return;
        }
        var cb = promise._state ? listener.onFulfilled : listener.onRejected;
        if (cb === null) {
            return (promise._state ? listener.resolve : listener.reject)(promise._value);
        }
        ++listener.psd.ref;
        ++numScheduledCalls;
        asap(callListener, [cb, promise, listener]);
    }
    function callListener(cb, promise, listener) {
        try {
            var ret, value = promise._value;
            if (!promise._state && rejectingErrors.length)
                rejectingErrors = [];
            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);
            if (!promise._state && rejectingErrors.indexOf(value) === -1) {
                markErrorAsHandled(promise);
            }
            listener.resolve(ret);
        }
        catch (e) {
            listener.reject(e);
        }
        finally {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
            --listener.psd.ref || listener.psd.finalize();
        }
    }
    function physicalTick() {
        usePSD(globalPSD, function () {
            beginMicroTickScope() && endMicroTickScope();
        });
    }
    function beginMicroTickScope() {
        var wasRootExec = isOutsideMicroTick;
        isOutsideMicroTick = false;
        needsNewPhysicalTick = false;
        return wasRootExec;
    }
    function endMicroTickScope() {
        var callbacks, i, l;
        do {
            while (microtickQueue.length > 0) {
                callbacks = microtickQueue;
                microtickQueue = [];
                l = callbacks.length;
                for (i = 0; i < l; ++i) {
                    var item = callbacks[i];
                    item[0].apply(null, item[1]);
                }
            }
        } while (microtickQueue.length > 0);
        isOutsideMicroTick = true;
        needsNewPhysicalTick = true;
    }
    function finalizePhysicalTick() {
        var unhandledErrs = unhandledErrors;
        unhandledErrors = [];
        unhandledErrs.forEach(function (p) {
            p._PSD.onunhandled.call(null, p._value, p);
        });
        var finalizers = tickFinalizers.slice(0);
        var i = finalizers.length;
        while (i)
            finalizers[--i]();
    }
    function run_at_end_of_this_or_next_physical_tick(fn) {
        function finalizer() {
            fn();
            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);
        }
        tickFinalizers.push(finalizer);
        ++numScheduledCalls;
        asap(function () {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
        }, []);
    }
    function addPossiblyUnhandledError(promise) {
        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))
            unhandledErrors.push(promise);
    }
    function markErrorAsHandled(promise) {
        var i = unhandledErrors.length;
        while (i)
            if (unhandledErrors[--i]._value === promise._value) {
                unhandledErrors.splice(i, 1);
                return;
            }
    }
    function PromiseReject(reason) {
        return new DexiePromise(INTERNAL, false, reason);
    }
    function wrap(fn, errorCatcher) {
        var psd = PSD;
        return function () {
            var wasRootExec = beginMicroTickScope(), outerScope = PSD;
            try {
                switchToZone(psd, true);
                return fn.apply(this, arguments);
            }
            catch (e) {
                errorCatcher && errorCatcher(e);
            }
            finally {
                switchToZone(outerScope, false);
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
    }
    var task = { awaits: 0, echoes: 0, id: 0 };
    var taskCounter = 0;
    var zoneStack = [];
    var zoneEchoes = 0;
    var totalEchoes = 0;
    var zone_id_counter = 0;
    function newScope(fn, props, a1, a2) {
        var parent = PSD, psd = Object.create(parent);
        psd.parent = parent;
        psd.ref = 0;
        psd.global = false;
        psd.id = ++zone_id_counter;
        globalPSD.env;
        psd.env = patchGlobalPromise ? {
            Promise: DexiePromise,
            PromiseProp: { value: DexiePromise, configurable: true, writable: true },
            all: DexiePromise.all,
            race: DexiePromise.race,
            allSettled: DexiePromise.allSettled,
            any: DexiePromise.any,
            resolve: DexiePromise.resolve,
            reject: DexiePromise.reject,
        } : {};
        if (props)
            extend(psd, props);
        ++parent.ref;
        psd.finalize = function () {
            --this.parent.ref || this.parent.finalize();
        };
        var rv = usePSD(psd, fn, a1, a2);
        if (psd.ref === 0)
            psd.finalize();
        return rv;
    }
    function incrementExpectedAwaits() {
        if (!task.id)
            task.id = ++taskCounter;
        ++task.awaits;
        task.echoes += ZONE_ECHO_LIMIT;
        return task.id;
    }
    function decrementExpectedAwaits() {
        if (!task.awaits)
            return false;
        if (--task.awaits === 0)
            task.id = 0;
        task.echoes = task.awaits * ZONE_ECHO_LIMIT;
        return true;
    }
    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {
        incrementExpectedAwaits = decrementExpectedAwaits = nop;
    }
    function onPossibleParallellAsync(possiblePromise) {
        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {
            incrementExpectedAwaits();
            return possiblePromise.then(function (x) {
                decrementExpectedAwaits();
                return x;
            }, function (e) {
                decrementExpectedAwaits();
                return rejection(e);
            });
        }
        return possiblePromise;
    }
    function zoneEnterEcho(targetZone) {
        ++totalEchoes;
        if (!task.echoes || --task.echoes === 0) {
            task.echoes = task.awaits = task.id = 0;
        }
        zoneStack.push(PSD);
        switchToZone(targetZone, true);
    }
    function zoneLeaveEcho() {
        var zone = zoneStack[zoneStack.length - 1];
        zoneStack.pop();
        switchToZone(zone, false);
    }
    function switchToZone(targetZone, bEnteringZone) {
        var currentZone = PSD;
        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {
            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);
        }
        if (targetZone === PSD)
            return;
        PSD = targetZone;
        if (currentZone === globalPSD)
            globalPSD.env = snapShot();
        if (patchGlobalPromise) {
            var GlobalPromise = globalPSD.env.Promise;
            var targetEnv = targetZone.env;
            if (currentZone.global || targetZone.global) {
                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);
                GlobalPromise.all = targetEnv.all;
                GlobalPromise.race = targetEnv.race;
                GlobalPromise.resolve = targetEnv.resolve;
                GlobalPromise.reject = targetEnv.reject;
                if (targetEnv.allSettled)
                    GlobalPromise.allSettled = targetEnv.allSettled;
                if (targetEnv.any)
                    GlobalPromise.any = targetEnv.any;
            }
        }
    }
    function snapShot() {
        var GlobalPromise = _global.Promise;
        return patchGlobalPromise ? {
            Promise: GlobalPromise,
            PromiseProp: Object.getOwnPropertyDescriptor(_global, "Promise"),
            all: GlobalPromise.all,
            race: GlobalPromise.race,
            allSettled: GlobalPromise.allSettled,
            any: GlobalPromise.any,
            resolve: GlobalPromise.resolve,
            reject: GlobalPromise.reject,
        } : {};
    }
    function usePSD(psd, fn, a1, a2, a3) {
        var outerScope = PSD;
        try {
            switchToZone(psd, true);
            return fn(a1, a2, a3);
        }
        finally {
            switchToZone(outerScope, false);
        }
    }
    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {
        return typeof fn !== 'function' ? fn : function () {
            var outerZone = PSD;
            if (possibleAwait)
                incrementExpectedAwaits();
            switchToZone(zone, true);
            try {
                return fn.apply(this, arguments);
            }
            finally {
                switchToZone(outerZone, false);
                if (cleanup)
                    queueMicrotask(decrementExpectedAwaits);
            }
        };
    }
    function execInGlobalContext(cb) {
        if (Promise === NativePromise && task.echoes === 0) {
            if (zoneEchoes === 0) {
                cb();
            }
            else {
                enqueueNativeMicroTask(cb);
            }
        }
        else {
            setTimeout(cb, 0);
        }
    }
    var rejection = DexiePromise.reject;

    function tempTransaction(db, mode, storeNames, fn) {
        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {
            if (db._state.openComplete) {
                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));
            }
            if (!db._state.isBeingOpened) {
                if (!db._state.autoOpen)
                    return rejection(new exceptions.DatabaseClosed());
                db.open().catch(nop);
            }
            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });
        }
        else {
            var trans = db._createTransaction(mode, storeNames, db._dbSchema);
            try {
                trans.create();
                db._state.PR1398_maxLoop = 3;
            }
            catch (ex) {
                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                    console.warn('Dexie: Need to reopen db');
                    db.close({ disableAutoOpen: false });
                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });
                }
                return rejection(ex);
            }
            return trans._promise(mode, function (resolve, reject) {
                return newScope(function () {
                    PSD.trans = trans;
                    return fn(resolve, reject, trans);
                });
            }).then(function (result) {
                if (mode === 'readwrite')
                    try {
                        trans.idbtrans.commit();
                    }
                    catch (_a) { }
                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });
            });
        }
    }

    var DEXIE_VERSION = '4.0.11';
    var maxString = String.fromCharCode(65535);
    var minKey = -Infinity;
    var INVALID_KEY_ARGUMENT = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";
    var STRING_EXPECTED = "String expected.";
    var connections = [];
    var DBNAMES_DB = '__dbnames';
    var READONLY = 'readonly';
    var READWRITE = 'readwrite';

    function combine(filter1, filter2) {
        return filter1 ?
            filter2 ?
                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :
                filter1 :
            filter2;
    }

    var AnyRange = {
        type: 3 ,
        lower: -Infinity,
        lowerOpen: false,
        upper: [[]],
        upperOpen: false
    };

    function workaroundForUndefinedPrimKey(keyPath) {
        return typeof keyPath === "string" && !/\./.test(keyPath)
            ? function (obj) {
                if (obj[keyPath] === undefined && (keyPath in obj)) {
                    obj = deepClone(obj);
                    delete obj[keyPath];
                }
                return obj;
            }
            : function (obj) { return obj; };
    }

    function Entity() {
        throw exceptions.Type();
    }

    function cmp(a, b) {
        try {
            var ta = type(a);
            var tb = type(b);
            if (ta !== tb) {
                if (ta === 'Array')
                    return 1;
                if (tb === 'Array')
                    return -1;
                if (ta === 'binary')
                    return 1;
                if (tb === 'binary')
                    return -1;
                if (ta === 'string')
                    return 1;
                if (tb === 'string')
                    return -1;
                if (ta === 'Date')
                    return 1;
                if (tb !== 'Date')
                    return NaN;
                return -1;
            }
            switch (ta) {
                case 'number':
                case 'Date':
                case 'string':
                    return a > b ? 1 : a < b ? -1 : 0;
                case 'binary': {
                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));
                }
                case 'Array':
                    return compareArrays(a, b);
            }
        }
        catch (_a) { }
        return NaN;
    }
    function compareArrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            var res = cmp(a[i], b[i]);
            if (res !== 0)
                return res;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function compareUint8Arrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            if (a[i] !== b[i])
                return a[i] < b[i] ? -1 : 1;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function type(x) {
        var t = typeof x;
        if (t !== 'object')
            return t;
        if (ArrayBuffer.isView(x))
            return 'binary';
        var tsTag = toStringTag(x);
        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;
    }
    function getUint8Array(a) {
        if (a instanceof Uint8Array)
            return a;
        if (ArrayBuffer.isView(a))
            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);
        return new Uint8Array(a);
    }

    var Table =  (function () {
        function Table() {
        }
        Table.prototype._trans = function (mode, fn, writeLocked) {
            var trans = this._tx || PSD.trans;
            var tableName = this.name;
            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask("Dexie: ".concat(mode === 'readonly' ? 'read' : 'write', " ").concat(this.name));
            function checkTableInTransaction(resolve, reject, trans) {
                if (!trans.schema[tableName])
                    throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
                return fn(trans.idbtrans, trans);
            }
            var wasRootExec = beginMicroTickScope();
            try {
                var p = trans && trans.db._novip === this.db._novip ?
                    trans === PSD.trans ?
                        trans._promise(mode, checkTableInTransaction, writeLocked) :
                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :
                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);
                if (task) {
                    p._consoleTask = task;
                    p = p.catch(function (err) {
                        console.trace(err);
                        return rejection(err);
                    });
                }
                return p;
            }
            finally {
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
        Table.prototype.get = function (keyOrCrit, cb) {
            var _this = this;
            if (keyOrCrit && keyOrCrit.constructor === Object)
                return this.where(keyOrCrit).first(cb);
            if (keyOrCrit == null)
                return rejection(new exceptions.Type("Invalid argument to Table.get()"));
            return this._trans('readonly', function (trans) {
                return _this.core.get({ trans: trans, key: keyOrCrit })
                    .then(function (res) { return _this.hook.reading.fire(res); });
            }).then(cb);
        };
        Table.prototype.where = function (indexOrCrit) {
            if (typeof indexOrCrit === 'string')
                return new this.db.WhereClause(this, indexOrCrit);
            if (isArray(indexOrCrit))
                return new this.db.WhereClause(this, "[".concat(indexOrCrit.join('+'), "]"));
            var keyPaths = keys(indexOrCrit);
            if (keyPaths.length === 1)
                return this
                    .where(keyPaths[0])
                    .equals(indexOrCrit[keyPaths[0]]);
            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {
                if (ix.compound &&
                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {
                    for (var i = 0; i < keyPaths.length; ++i) {
                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)
                            return false;
                    }
                    return true;
                }
                return false;
            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];
            if (compoundIndex && this.db._maxKey !== maxString) {
                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);
                return this
                    .where(keyPathsInValidOrder)
                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));
            }
            if (!compoundIndex && debug)
                console.warn("The query ".concat(JSON.stringify(indexOrCrit), " on ").concat(this.name, " would benefit from a ") +
                    "compound index [".concat(keyPaths.join('+'), "]"));
            var idxByName = this.schema.idxByName;
            function equals(a, b) {
                return cmp(a, b) === 0;
            }
            var _a = keyPaths.reduce(function (_a, keyPath) {
                var prevIndex = _a[0], prevFilterFn = _a[1];
                var index = idxByName[keyPath];
                var value = indexOrCrit[keyPath];
                return [
                    prevIndex || index,
                    prevIndex || !index ?
                        combine(prevFilterFn, index && index.multi ?
                            function (x) {
                                var prop = getByKeyPath(x, keyPath);
                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });
                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })
                        : prevFilterFn
                ];
            }, [null, null]), idx = _a[0], filterFunction = _a[1];
            return idx ?
                this.where(idx.name).equals(indexOrCrit[idx.keyPath])
                    .filter(filterFunction) :
                compoundIndex ?
                    this.filter(filterFunction) :
                    this.where(keyPaths).equals('');
        };
        Table.prototype.filter = function (filterFunction) {
            return this.toCollection().and(filterFunction);
        };
        Table.prototype.count = function (thenShortcut) {
            return this.toCollection().count(thenShortcut);
        };
        Table.prototype.offset = function (offset) {
            return this.toCollection().offset(offset);
        };
        Table.prototype.limit = function (numRows) {
            return this.toCollection().limit(numRows);
        };
        Table.prototype.each = function (callback) {
            return this.toCollection().each(callback);
        };
        Table.prototype.toArray = function (thenShortcut) {
            return this.toCollection().toArray(thenShortcut);
        };
        Table.prototype.toCollection = function () {
            return new this.db.Collection(new this.db.WhereClause(this));
        };
        Table.prototype.orderBy = function (index) {
            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?
                "[".concat(index.join('+'), "]") :
                index));
        };
        Table.prototype.reverse = function () {
            return this.toCollection().reverse();
        };
        Table.prototype.mapToClass = function (constructor) {
            var _a = this, db = _a.db, tableName = _a.name;
            this.schema.mappedClass = constructor;
            if (constructor.prototype instanceof Entity) {
                constructor =  (function (_super) {
                    __extends(class_1, _super);
                    function class_1() {
                        return _super !== null && _super.apply(this, arguments) || this;
                    }
                    Object.defineProperty(class_1.prototype, "db", {
                        get: function () { return db; },
                        enumerable: false,
                        configurable: true
                    });
                    class_1.prototype.table = function () { return tableName; };
                    return class_1;
                }(constructor));
            }
            var inheritedProps = new Set();
            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {
                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });
            }
            var readHook = function (obj) {
                if (!obj)
                    return obj;
                var res = Object.create(constructor.prototype);
                for (var m in obj)
                    if (!inheritedProps.has(m))
                        try {
                            res[m] = obj[m];
                        }
                        catch (_) { }
                return res;
            };
            if (this.schema.readHook) {
                this.hook.reading.unsubscribe(this.schema.readHook);
            }
            this.schema.readHook = readHook;
            this.hook("reading", readHook);
            return constructor;
        };
        Table.prototype.defineClass = function () {
            function Class(content) {
                extend(this, content);
            }
            return this.mapToClass(Class);
        };
        Table.prototype.add = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });
            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.update = function (keyOrObject, modifications) {
            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {
                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);
                if (key === undefined)
                    return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));
                return this.where(":id").equals(key).modify(modifications);
            }
            else {
                return this.where(":id").equals(keyOrObject).modify(modifications);
            }
        };
        Table.prototype.put = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.delete = function (key) {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.clear = function () {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.bulkGet = function (keys) {
            var _this = this;
            return this._trans('readonly', function (trans) {
                return _this.core.getMany({
                    keys: keys,
                    trans: trans
                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });
            });
        };
        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToAdd = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkAdd(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToPut = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkPut(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkUpdate = function (keysAndChanges) {
            var _this = this;
            var coreTable = this.core;
            var keys = keysAndChanges.map(function (entry) { return entry.key; });
            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });
            var offsetMap = [];
            return this._trans('readwrite', function (trans) {
                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {
                    var resultKeys = [];
                    var resultObjs = [];
                    keysAndChanges.forEach(function (_a, idx) {
                        var key = _a.key, changes = _a.changes;
                        var obj = objs[idx];
                        if (obj) {
                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {
                                var keyPath = _b[_i];
                                var value = changes[keyPath];
                                if (keyPath === _this.schema.primKey.keyPath) {
                                    if (cmp(value, key) !== 0) {
                                        throw new exceptions.Constraint("Cannot update primary key in bulkUpdate()");
                                    }
                                }
                                else {
                                    setByKeyPath(obj, keyPath, value);
                                }
                            }
                            offsetMap.push(idx);
                            resultKeys.push(key);
                            resultObjs.push(obj);
                        }
                    });
                    var numEntries = resultKeys.length;
                    return coreTable
                        .mutate({
                        trans: trans,
                        type: 'put',
                        keys: resultKeys,
                        values: resultObjs,
                        updates: {
                            keys: keys,
                            changeSpecs: changeSpecs
                        }
                    })
                        .then(function (_a) {
                        var numFailures = _a.numFailures, failures = _a.failures;
                        if (numFailures === 0)
                            return numEntries;
                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {
                            var offset = _b[_i];
                            var mappedOffset = offsetMap[Number(offset)];
                            if (mappedOffset != null) {
                                var failure = failures[offset];
                                delete failures[offset];
                                failures[mappedOffset] = failure;
                            }
                        }
                        throw new BulkError("".concat(_this.name, ".bulkUpdate(): ").concat(numFailures, " of ").concat(numEntries, " operations failed"), failures);
                    });
                });
            });
        };
        Table.prototype.bulkDelete = function (keys) {
            var _this = this;
            var numKeys = keys.length;
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });
            }).then(function (_a) {
                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;
                if (numFailures === 0)
                    return lastResult;
                throw new BulkError("".concat(_this.name, ".bulkDelete(): ").concat(numFailures, " of ").concat(numKeys, " operations failed"), failures);
            });
        };
        return Table;
    }());

    function Events(ctx) {
        var evs = {};
        var rv = function (eventName, subscriber) {
            if (subscriber) {
                var i = arguments.length, args = new Array(i - 1);
                while (--i)
                    args[i - 1] = arguments[i];
                evs[eventName].subscribe.apply(null, args);
                return ctx;
            }
            else if (typeof (eventName) === 'string') {
                return evs[eventName];
            }
        };
        rv.addEventType = add;
        for (var i = 1, l = arguments.length; i < l; ++i) {
            add(arguments[i]);
        }
        return rv;
        function add(eventName, chainFunction, defaultFunction) {
            if (typeof eventName === 'object')
                return addConfiguredEvents(eventName);
            if (!chainFunction)
                chainFunction = reverseStoppableEventChain;
            if (!defaultFunction)
                defaultFunction = nop;
            var context = {
                subscribers: [],
                fire: defaultFunction,
                subscribe: function (cb) {
                    if (context.subscribers.indexOf(cb) === -1) {
                        context.subscribers.push(cb);
                        context.fire = chainFunction(context.fire, cb);
                    }
                },
                unsubscribe: function (cb) {
                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });
                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);
                }
            };
            evs[eventName] = rv[eventName] = context;
            return context;
        }
        function addConfiguredEvents(cfg) {
            keys(cfg).forEach(function (eventName) {
                var args = cfg[eventName];
                if (isArray(args)) {
                    add(eventName, cfg[eventName][0], cfg[eventName][1]);
                }
                else if (args === 'asap') {
                    var context = add(eventName, mirror, function fire() {
                        var i = arguments.length, args = new Array(i);
                        while (i--)
                            args[i] = arguments[i];
                        context.subscribers.forEach(function (fn) {
                            asap$1(function fireEvent() {
                                fn.apply(null, args);
                            });
                        });
                    });
                }
                else
                    throw new exceptions.InvalidArgument("Invalid event config");
            });
        }
    }

    function makeClassConstructor(prototype, constructor) {
        derive(constructor).from({ prototype: prototype });
        return constructor;
    }

    function createTableConstructor(db) {
        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {
            this.db = db;
            this._tx = trans;
            this.name = name;
            this.schema = tableSchema;
            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {
                "creating": [hookCreatingChain, nop],
                "reading": [pureFunctionChain, mirror],
                "updating": [hookUpdatingChain, nop],
                "deleting": [hookDeletingChain, nop]
            });
        });
    }

    function isPlainKeyRange(ctx, ignoreLimitFilter) {
        return !(ctx.filter || ctx.algorithm || ctx.or) &&
            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);
    }
    function addFilter(ctx, fn) {
        ctx.filter = combine(ctx.filter, fn);
    }
    function addReplayFilter(ctx, factory, isLimitFilter) {
        var curr = ctx.replayFilter;
        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;
        ctx.justLimit = isLimitFilter && !curr;
    }
    function addMatchFilter(ctx, fn) {
        ctx.isMatch = combine(ctx.isMatch, fn);
    }
    function getIndexOrStore(ctx, coreSchema) {
        if (ctx.isPrimKey)
            return coreSchema.primaryKey;
        var index = coreSchema.getIndexByKeyPath(ctx.index);
        if (!index)
            throw new exceptions.Schema("KeyPath " + ctx.index + " on object store " + coreSchema.name + " is not indexed");
        return index;
    }
    function openCursor(ctx, coreTable, trans) {
        var index = getIndexOrStore(ctx, coreTable.schema);
        return coreTable.openCursor({
            trans: trans,
            values: !ctx.keysOnly,
            reverse: ctx.dir === 'prev',
            unique: !!ctx.unique,
            query: {
                index: index,
                range: ctx.range
            }
        });
    }
    function iter(ctx, fn, coreTrans, coreTable) {
        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;
        if (!ctx.or) {
            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);
        }
        else {
            var set_1 = {};
            var union = function (item, cursor, advance) {
                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {
                    var primaryKey = cursor.primaryKey;
                    var key = '' + primaryKey;
                    if (key === '[object ArrayBuffer]')
                        key = '' + new Uint8Array(primaryKey);
                    if (!hasOwn(set_1, key)) {
                        set_1[key] = true;
                        fn(item, cursor, advance);
                    }
                }
            };
            return Promise.all([
                ctx.or._iterate(union, coreTrans),
                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)
            ]);
        }
    }
    function iterate(cursorPromise, filter, fn, valueMapper) {
        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;
        var wrappedFn = wrap(mappedFn);
        return cursorPromise.then(function (cursor) {
            if (cursor) {
                return cursor.start(function () {
                    var c = function () { return cursor.continue(); };
                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))
                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });
                    c();
                });
            }
        });
    }

    var PropModification =  (function () {
        function PropModification(spec) {
            this["@@propmod"] = spec;
        }
        PropModification.prototype.execute = function (value) {
            var _a;
            var spec = this["@@propmod"];
            if (spec.add !== undefined) {
                var term = spec.add;
                if (isArray(term)) {
                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();
                }
                if (typeof term === 'number')
                    return (Number(value) || 0) + term;
                if (typeof term === 'bigint') {
                    try {
                        return BigInt(value) + term;
                    }
                    catch (_b) {
                        return BigInt(0) + term;
                    }
                }
                throw new TypeError("Invalid term ".concat(term));
            }
            if (spec.remove !== undefined) {
                var subtrahend_1 = spec.remove;
                if (isArray(subtrahend_1)) {
                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];
                }
                if (typeof subtrahend_1 === 'number')
                    return Number(value) - subtrahend_1;
                if (typeof subtrahend_1 === 'bigint') {
                    try {
                        return BigInt(value) - subtrahend_1;
                    }
                    catch (_c) {
                        return BigInt(0) - subtrahend_1;
                    }
                }
                throw new TypeError("Invalid subtrahend ".concat(subtrahend_1));
            }
            var prefixToReplace = (_a = spec.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];
            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {
                return spec.replacePrefix[1] + value.substring(prefixToReplace.length);
            }
            return value;
        };
        return PropModification;
    }());

    var Collection =  (function () {
        function Collection() {
        }
        Collection.prototype._read = function (fn, cb) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readonly', fn).then(cb);
        };
        Collection.prototype._write = function (fn) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readwrite', fn, "locked");
        };
        Collection.prototype._addAlgorithm = function (fn) {
            var ctx = this._ctx;
            ctx.algorithm = combine(ctx.algorithm, fn);
        };
        Collection.prototype._iterate = function (fn, coreTrans) {
            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);
        };
        Collection.prototype.clone = function (props) {
            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);
            if (props)
                extend(ctx, props);
            rv._ctx = ctx;
            return rv;
        };
        Collection.prototype.raw = function () {
            this._ctx.valueMapper = null;
            return this;
        };
        Collection.prototype.each = function (fn) {
            var ctx = this._ctx;
            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });
        };
        Collection.prototype.count = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                var coreTable = ctx.table.core;
                if (isPlainKeyRange(ctx, true)) {
                    return coreTable.count({
                        trans: trans,
                        query: {
                            index: getIndexOrStore(ctx, coreTable.schema),
                            range: ctx.range
                        }
                    }).then(function (count) { return Math.min(count, ctx.limit); });
                }
                else {
                    var count = 0;
                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)
                        .then(function () { return count; });
                }
            }).then(cb);
        };
        Collection.prototype.sortBy = function (keyPath, cb) {
            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;
            function getval(obj, i) {
                if (i)
                    return getval(obj[parts[i]], i - 1);
                return obj[lastPart];
            }
            var order = this._ctx.dir === "next" ? 1 : -1;
            function sorter(a, b) {
                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);
                return cmp(aVal, bVal) * order;
            }
            return this.toArray(function (a) {
                return a.sort(sorter);
            }).then(cb);
        };
        Collection.prototype.toArray = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                    var valueMapper_1 = ctx.valueMapper;
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        limit: ctx.limit,
                        values: true,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    }).then(function (_a) {
                        var result = _a.result;
                        return valueMapper_1 ? result.map(valueMapper_1) : result;
                    });
                }
                else {
                    var a_1 = [];
                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });
                }
            }, cb);
        };
        Collection.prototype.offset = function (offset) {
            var ctx = this._ctx;
            if (offset <= 0)
                return this;
            ctx.offset += offset;
            if (isPlainKeyRange(ctx)) {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function (cursor, advance) {
                        if (offsetLeft === 0)
                            return true;
                        if (offsetLeft === 1) {
                            --offsetLeft;
                            return false;
                        }
                        advance(function () {
                            cursor.advance(offsetLeft);
                            offsetLeft = 0;
                        });
                        return false;
                    };
                });
            }
            else {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function () { return (--offsetLeft < 0); };
                });
            }
            return this;
        };
        Collection.prototype.limit = function (numRows) {
            this._ctx.limit = Math.min(this._ctx.limit, numRows);
            addReplayFilter(this._ctx, function () {
                var rowsLeft = numRows;
                return function (cursor, advance, resolve) {
                    if (--rowsLeft <= 0)
                        advance(resolve);
                    return rowsLeft >= 0;
                };
            }, true);
            return this;
        };
        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {
            addFilter(this._ctx, function (cursor, advance, resolve) {
                if (filterFunction(cursor.value)) {
                    advance(resolve);
                    return bIncludeStopEntry;
                }
                else {
                    return true;
                }
            });
            return this;
        };
        Collection.prototype.first = function (cb) {
            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.last = function (cb) {
            return this.reverse().first(cb);
        };
        Collection.prototype.filter = function (filterFunction) {
            addFilter(this._ctx, function (cursor) {
                return filterFunction(cursor.value);
            });
            addMatchFilter(this._ctx, filterFunction);
            return this;
        };
        Collection.prototype.and = function (filter) {
            return this.filter(filter);
        };
        Collection.prototype.or = function (indexName) {
            return new this.db.WhereClause(this._ctx.table, indexName, this);
        };
        Collection.prototype.reverse = function () {
            this._ctx.dir = (this._ctx.dir === "prev" ? "next" : "prev");
            if (this._ondirectionchange)
                this._ondirectionchange(this._ctx.dir);
            return this;
        };
        Collection.prototype.desc = function () {
            return this.reverse();
        };
        Collection.prototype.eachKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.key, cursor); });
        };
        Collection.prototype.eachUniqueKey = function (cb) {
            this._ctx.unique = "unique";
            return this.eachKey(cb);
        };
        Collection.prototype.eachPrimaryKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });
        };
        Collection.prototype.keys = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.key);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.primaryKeys = function (cb) {
            var ctx = this._ctx;
            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                return this._read(function (trans) {
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        values: false,
                        limit: ctx.limit,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    });
                }).then(function (_a) {
                    var result = _a.result;
                    return result;
                }).then(cb);
            }
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.primaryKey);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.uniqueKeys = function (cb) {
            this._ctx.unique = "unique";
            return this.keys(cb);
        };
        Collection.prototype.firstKey = function (cb) {
            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.lastKey = function (cb) {
            return this.reverse().firstKey(cb);
        };
        Collection.prototype.distinct = function () {
            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];
            if (!idx || !idx.multi)
                return this;
            var set = {};
            addFilter(this._ctx, function (cursor) {
                var strKey = cursor.primaryKey.toString();
                var found = hasOwn(set, strKey);
                set[strKey] = true;
                return !found;
            });
            return this;
        };
        Collection.prototype.modify = function (changes) {
            var _this = this;
            var ctx = this._ctx;
            return this._write(function (trans) {
                var modifyer;
                if (typeof changes === 'function') {
                    modifyer = changes;
                }
                else {
                    var keyPaths = keys(changes);
                    var numKeys = keyPaths.length;
                    modifyer = function (item) {
                        var anythingModified = false;
                        for (var i = 0; i < numKeys; ++i) {
                            var keyPath = keyPaths[i];
                            var val = changes[keyPath];
                            var origVal = getByKeyPath(item, keyPath);
                            if (val instanceof PropModification) {
                                setByKeyPath(item, keyPath, val.execute(origVal));
                                anythingModified = true;
                            }
                            else if (origVal !== val) {
                                setByKeyPath(item, keyPath, val);
                                anythingModified = true;
                            }
                        }
                        return anythingModified;
                    };
                }
                var coreTable = ctx.table.core;
                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;
                var limit = 200;
                var modifyChunkSize = _this.db._options.modifyChunkSize;
                if (modifyChunkSize) {
                    if (typeof modifyChunkSize == 'object') {
                        limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;
                    }
                    else {
                        limit = modifyChunkSize;
                    }
                }
                var totalFailures = [];
                var successCount = 0;
                var failedKeys = [];
                var applyMutateResult = function (expectedCount, res) {
                    var failures = res.failures, numFailures = res.numFailures;
                    successCount += expectedCount - numFailures;
                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {
                        var pos = _a[_i];
                        totalFailures.push(failures[pos]);
                    }
                };
                return _this.clone().primaryKeys().then(function (keys) {
                    var criteria = isPlainKeyRange(ctx) &&
                        ctx.limit === Infinity &&
                        (typeof changes !== 'function' || changes === deleteCallback) && {
                        index: ctx.index,
                        range: ctx.range
                    };
                    var nextChunk = function (offset) {
                        var count = Math.min(limit, keys.length - offset);
                        return coreTable.getMany({
                            trans: trans,
                            keys: keys.slice(offset, offset + count),
                            cache: "immutable"
                        }).then(function (values) {
                            var addValues = [];
                            var putValues = [];
                            var putKeys = outbound ? [] : null;
                            var deleteKeys = [];
                            for (var i = 0; i < count; ++i) {
                                var origValue = values[i];
                                var ctx_1 = {
                                    value: deepClone(origValue),
                                    primKey: keys[offset + i]
                                };
                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {
                                    if (ctx_1.value == null) {
                                        deleteKeys.push(keys[offset + i]);
                                    }
                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {
                                        deleteKeys.push(keys[offset + i]);
                                        addValues.push(ctx_1.value);
                                    }
                                    else {
                                        putValues.push(ctx_1.value);
                                        if (outbound)
                                            putKeys.push(keys[offset + i]);
                                    }
                                }
                            }
                            return Promise.resolve(addValues.length > 0 &&
                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })
                                    .then(function (res) {
                                    for (var pos in res.failures) {
                                        deleteKeys.splice(parseInt(pos), 1);
                                    }
                                    applyMutateResult(addValues.length, res);
                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'put',
                                    keys: putKeys,
                                    values: putValues,
                                    criteria: criteria,
                                    changeSpec: typeof changes !== 'function'
                                        && changes,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'delete',
                                    keys: deleteKeys,
                                    criteria: criteria,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {
                                return keys.length > offset + count && nextChunk(offset + limit);
                            });
                        });
                    };
                    return nextChunk(0).then(function () {
                        if (totalFailures.length > 0)
                            throw new ModifyError("Error modifying one or more objects", totalFailures, successCount, failedKeys);
                        return keys.length;
                    });
                });
            });
        };
        Collection.prototype.delete = function () {
            var ctx = this._ctx, range = ctx.range;
            if (isPlainKeyRange(ctx) &&
                (ctx.isPrimKey || range.type === 3 ))
             {
                return this._write(function (trans) {
                    var primaryKey = ctx.table.core.schema.primaryKey;
                    var coreRange = range;
                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {
                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })
                            .then(function (_a) {
                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;
                            if (numFailures)
                                throw new ModifyError("Could not delete some values", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);
                            return count - numFailures;
                        });
                    });
                });
            }
            return this.modify(deleteCallback);
        };
        return Collection;
    }());
    var deleteCallback = function (value, ctx) { return ctx.value = null; };

    function createCollectionConstructor(db) {
        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {
            this.db = db;
            var keyRange = AnyRange, error = null;
            if (keyRangeGenerator)
                try {
                    keyRange = keyRangeGenerator();
                }
                catch (ex) {
                    error = ex;
                }
            var whereCtx = whereClause._ctx;
            var table = whereCtx.table;
            var readingHook = table.hook.reading.fire;
            this._ctx = {
                table: table,
                index: whereCtx.index,
                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),
                range: keyRange,
                keysOnly: false,
                dir: "next",
                unique: "",
                algorithm: null,
                filter: null,
                replayFilter: null,
                justLimit: true,
                isMatch: null,
                offset: 0,
                limit: Infinity,
                error: error,
                or: whereCtx.or,
                valueMapper: readingHook !== mirror ? readingHook : null
            };
        });
    }

    function simpleCompare(a, b) {
        return a < b ? -1 : a === b ? 0 : 1;
    }
    function simpleCompareReverse(a, b) {
        return a > b ? -1 : a === b ? 0 : 1;
    }

    function fail(collectionOrWhereClause, err, T) {
        var collection = collectionOrWhereClause instanceof WhereClause ?
            new collectionOrWhereClause.Collection(collectionOrWhereClause) :
            collectionOrWhereClause;
        collection._ctx.error = T ? new T(err) : new TypeError(err);
        return collection;
    }
    function emptyCollection(whereClause) {
        return new whereClause.Collection(whereClause, function () { return rangeEqual(""); }).limit(0);
    }
    function upperFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toUpperCase(); } :
            function (s) { return s.toLowerCase(); };
    }
    function lowerFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toLowerCase(); } :
            function (s) { return s.toUpperCase(); };
    }
    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {
        var length = Math.min(key.length, lowerNeedle.length);
        var llp = -1;
        for (var i = 0; i < length; ++i) {
            var lwrKeyChar = lowerKey[i];
            if (lwrKeyChar !== lowerNeedle[i]) {
                if (cmp(key[i], upperNeedle[i]) < 0)
                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);
                if (cmp(key[i], lowerNeedle[i]) < 0)
                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);
                if (llp >= 0)
                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);
                return null;
            }
            if (cmp(key[i], lwrKeyChar) < 0)
                llp = i;
        }
        if (length < lowerNeedle.length && dir === "next")
            return key + upperNeedle.substr(key.length);
        if (length < key.length && dir === "prev")
            return key.substr(0, upperNeedle.length);
        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));
    }
    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {
        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;
        if (!needles.every(function (s) { return typeof s === 'string'; })) {
            return fail(whereClause, STRING_EXPECTED);
        }
        function initDirection(dir) {
            upper = upperFactory(dir);
            lower = lowerFactory(dir);
            compare = (dir === "next" ? simpleCompare : simpleCompareReverse);
            var needleBounds = needles.map(function (needle) {
                return { lower: lower(needle), upper: upper(needle) };
            }).sort(function (a, b) {
                return compare(a.lower, b.lower);
            });
            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });
            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });
            direction = dir;
            nextKeySuffix = (dir === "next" ? "" : suffix);
        }
        initDirection("next");
        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });
        c._ondirectionchange = function (direction) {
            initDirection(direction);
        };
        var firstPossibleNeedle = 0;
        c._addAlgorithm(function (cursor, advance, resolve) {
            var key = cursor.key;
            if (typeof key !== 'string')
                return false;
            var lowerKey = lower(key);
            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {
                return true;
            }
            else {
                var lowestPossibleCasing = null;
                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {
                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);
                    if (casing === null && lowestPossibleCasing === null)
                        firstPossibleNeedle = i + 1;
                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {
                        lowestPossibleCasing = casing;
                    }
                }
                if (lowestPossibleCasing !== null) {
                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });
                }
                else {
                    advance(resolve);
                }
                return false;
            }
        });
        return c;
    }
    function createRange(lower, upper, lowerOpen, upperOpen) {
        return {
            type: 2 ,
            lower: lower,
            upper: upper,
            lowerOpen: lowerOpen,
            upperOpen: upperOpen
        };
    }
    function rangeEqual(value) {
        return {
            type: 1 ,
            lower: value,
            upper: value
        };
    }

    var WhereClause =  (function () {
        function WhereClause() {
        }
        Object.defineProperty(WhereClause.prototype, "Collection", {
            get: function () {
                return this._ctx.table.db.Collection;
            },
            enumerable: false,
            configurable: true
        });
        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {
            includeLower = includeLower !== false;
            includeUpper = includeUpper === true;
            try {
                if ((this._cmp(lower, upper) > 0) ||
                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))
                    return emptyCollection(this);
                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
        };
        WhereClause.prototype.equals = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return rangeEqual(value); });
        };
        WhereClause.prototype.above = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, true); });
        };
        WhereClause.prototype.aboveOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, false); });
        };
        WhereClause.prototype.below = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });
        };
        WhereClause.prototype.belowOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value); });
        };
        WhereClause.prototype.startsWith = function (str) {
            if (typeof str !== 'string')
                return fail(this, STRING_EXPECTED);
            return this.between(str, str + maxString, true, true);
        };
        WhereClause.prototype.startsWithIgnoreCase = function (str) {
            if (str === "")
                return this.startsWith(str);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);
        };
        WhereClause.prototype.equalsIgnoreCase = function (str) {
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], "");
        };
        WhereClause.prototype.anyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, "");
        };
        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);
        };
        WhereClause.prototype.anyOf = function () {
            var _this = this;
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            var compare = this._cmp;
            try {
                set.sort(compare);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            if (set.length === 0)
                return emptyCollection(this);
            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });
            c._ondirectionchange = function (direction) {
                compare = (direction === "next" ?
                    _this._ascending :
                    _this._descending);
                set.sort(compare);
            };
            var i = 0;
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (compare(key, set[i]) > 0) {
                    ++i;
                    if (i === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (compare(key, set[i]) === 0) {
                    return true;
                }
                else {
                    advance(function () { cursor.continue(set[i]); });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.notEqual = function (value) {
            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.noneOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return new this.Collection(this);
            try {
                set.sort(this._ascending);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var ranges = set.reduce(function (res, val) { return res ?
                res.concat([[res[res.length - 1][1], val]]) :
                [[minKey, val]]; }, null);
            ranges.push([set[set.length - 1], this.db._maxKey]);
            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.inAnyRange = function (ranges, options) {
            var _this = this;
            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;
            if (ranges.length === 0)
                return emptyCollection(this);
            if (!ranges.every(function (range) {
                return range[0] !== undefined &&
                    range[1] !== undefined &&
                    ascending(range[0], range[1]) <= 0;
            })) {
                return fail(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", exceptions.InvalidArgument);
            }
            var includeLowers = !options || options.includeLowers !== false;
            var includeUppers = options && options.includeUppers === true;
            function addRange(ranges, newRange) {
                var i = 0, l = ranges.length;
                for (; i < l; ++i) {
                    var range = ranges[i];
                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {
                        range[0] = min(range[0], newRange[0]);
                        range[1] = max(range[1], newRange[1]);
                        break;
                    }
                }
                if (i === l)
                    ranges.push(newRange);
                return ranges;
            }
            var sortDirection = ascending;
            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }
            var set;
            try {
                set = ranges.reduce(addRange, []);
                set.sort(rangeSorter);
            }
            catch (ex) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var rangePos = 0;
            var keyIsBeyondCurrentEntry = includeUppers ?
                function (key) { return ascending(key, set[rangePos][1]) > 0; } :
                function (key) { return ascending(key, set[rangePos][1]) >= 0; };
            var keyIsBeforeCurrentEntry = includeLowers ?
                function (key) { return descending(key, set[rangePos][0]) > 0; } :
                function (key) { return descending(key, set[rangePos][0]) >= 0; };
            function keyWithinCurrentRange(key) {
                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);
            }
            var checkKey = keyIsBeyondCurrentEntry;
            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });
            c._ondirectionchange = function (direction) {
                if (direction === "next") {
                    checkKey = keyIsBeyondCurrentEntry;
                    sortDirection = ascending;
                }
                else {
                    checkKey = keyIsBeforeCurrentEntry;
                    sortDirection = descending;
                }
                set.sort(rangeSorter);
            };
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (checkKey(key)) {
                    ++rangePos;
                    if (rangePos === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (keyWithinCurrentRange(key)) {
                    return true;
                }
                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {
                    return false;
                }
                else {
                    advance(function () {
                        if (sortDirection === ascending)
                            cursor.continue(set[rangePos][0]);
                        else
                            cursor.continue(set[rangePos][1]);
                    });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.startsWithAnyOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (!set.every(function (s) { return typeof s === 'string'; })) {
                return fail(this, "startsWithAnyOf() only works with strings");
            }
            if (set.length === 0)
                return emptyCollection(this);
            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));
        };
        return WhereClause;
    }());

    function createWhereClauseConstructor(db) {
        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {
            this.db = db;
            this._ctx = {
                table: table,
                index: index === ":id" ? null : index,
                or: orCollection
            };
            this._cmp = this._ascending = cmp;
            this._descending = function (a, b) { return cmp(b, a); };
            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };
            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };
            this._IDBKeyRange = db._deps.IDBKeyRange;
            if (!this._IDBKeyRange)
                throw new exceptions.MissingAPI();
        });
    }

    function eventRejectHandler(reject) {
        return wrap(function (event) {
            preventDefault(event);
            reject(event.target.error);
            return false;
        });
    }
    function preventDefault(event) {
        if (event.stopPropagation)
            event.stopPropagation();
        if (event.preventDefault)
            event.preventDefault();
    }

    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';
    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';
    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);

    var Transaction =  (function () {
        function Transaction() {
        }
        Transaction.prototype._lock = function () {
            assert(!PSD.global);
            ++this._reculock;
            if (this._reculock === 1 && !PSD.global)
                PSD.lockOwnerFor = this;
            return this;
        };
        Transaction.prototype._unlock = function () {
            assert(!PSD.global);
            if (--this._reculock === 0) {
                if (!PSD.global)
                    PSD.lockOwnerFor = null;
                while (this._blockedFuncs.length > 0 && !this._locked()) {
                    var fnAndPSD = this._blockedFuncs.shift();
                    try {
                        usePSD(fnAndPSD[1], fnAndPSD[0]);
                    }
                    catch (e) { }
                }
            }
            return this;
        };
        Transaction.prototype._locked = function () {
            return this._reculock && PSD.lockOwnerFor !== this;
        };
        Transaction.prototype.create = function (idbtrans) {
            var _this = this;
            if (!this.mode)
                return this;
            var idbdb = this.db.idbdb;
            var dbOpenError = this.db._state.dbOpenError;
            assert(!this.idbtrans);
            if (!idbtrans && !idbdb) {
                switch (dbOpenError && dbOpenError.name) {
                    case "DatabaseClosedError":
                        throw new exceptions.DatabaseClosed(dbOpenError);
                    case "MissingAPIError":
                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);
                    default:
                        throw new exceptions.OpenFailed(dbOpenError);
                }
            }
            if (!this.active)
                throw new exceptions.TransactionInactive();
            assert(this._completion._state === null);
            idbtrans = this.idbtrans = idbtrans ||
                (this.db.core
                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })
                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));
            idbtrans.onerror = wrap(function (ev) {
                preventDefault(ev);
                _this._reject(idbtrans.error);
            });
            idbtrans.onabort = wrap(function (ev) {
                preventDefault(ev);
                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));
                _this.active = false;
                _this.on("abort").fire(ev);
            });
            idbtrans.oncomplete = wrap(function () {
                _this.active = false;
                _this._resolve();
                if ('mutatedParts' in idbtrans) {
                    globalEvents.storagemutated.fire(idbtrans["mutatedParts"]);
                }
            });
            return this;
        };
        Transaction.prototype._promise = function (mode, fn, bWriteLock) {
            var _this = this;
            if (mode === 'readwrite' && this.mode !== 'readwrite')
                return rejection(new exceptions.ReadOnly("Transaction is readonly"));
            if (!this.active)
                return rejection(new exceptions.TransactionInactive());
            if (this._locked()) {
                return new DexiePromise(function (resolve, reject) {
                    _this._blockedFuncs.push([function () {
                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);
                        }, PSD]);
                });
            }
            else if (bWriteLock) {
                return newScope(function () {
                    var p = new DexiePromise(function (resolve, reject) {
                        _this._lock();
                        var rv = fn(resolve, reject, _this);
                        if (rv && rv.then)
                            rv.then(resolve, reject);
                    });
                    p.finally(function () { return _this._unlock(); });
                    p._lib = true;
                    return p;
                });
            }
            else {
                var p = new DexiePromise(function (resolve, reject) {
                    var rv = fn(resolve, reject, _this);
                    if (rv && rv.then)
                        rv.then(resolve, reject);
                });
                p._lib = true;
                return p;
            }
        };
        Transaction.prototype._root = function () {
            return this.parent ? this.parent._root() : this;
        };
        Transaction.prototype.waitFor = function (promiseLike) {
            var root = this._root();
            var promise = DexiePromise.resolve(promiseLike);
            if (root._waitingFor) {
                root._waitingFor = root._waitingFor.then(function () { return promise; });
            }
            else {
                root._waitingFor = promise;
                root._waitingQueue = [];
                var store = root.idbtrans.objectStore(root.storeNames[0]);
                (function spin() {
                    ++root._spinCount;
                    while (root._waitingQueue.length)
                        (root._waitingQueue.shift())();
                    if (root._waitingFor)
                        store.get(-Infinity).onsuccess = spin;
                }());
            }
            var currentWaitPromise = root._waitingFor;
            return new DexiePromise(function (resolve, reject) {
                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {
                    if (root._waitingFor === currentWaitPromise) {
                        root._waitingFor = null;
                    }
                });
            });
        };
        Transaction.prototype.abort = function () {
            if (this.active) {
                this.active = false;
                if (this.idbtrans)
                    this.idbtrans.abort();
                this._reject(new exceptions.Abort());
            }
        };
        Transaction.prototype.table = function (tableName) {
            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));
            if (hasOwn(memoizedTables, tableName))
                return memoizedTables[tableName];
            var tableSchema = this.schema[tableName];
            if (!tableSchema) {
                throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
            }
            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);
            transactionBoundTable.core = this.db.core.table(tableName);
            memoizedTables[tableName] = transactionBoundTable;
            return transactionBoundTable;
        };
        return Transaction;
    }());

    function createTransactionConstructor(db) {
        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {
            var _this = this;
            this.db = db;
            this.mode = mode;
            this.storeNames = storeNames;
            this.schema = dbschema;
            this.chromeTransactionDurability = chromeTransactionDurability;
            this.idbtrans = null;
            this.on = Events(this, "complete", "error", "abort");
            this.parent = parent || null;
            this.active = true;
            this._reculock = 0;
            this._blockedFuncs = [];
            this._resolve = null;
            this._reject = null;
            this._waitingFor = null;
            this._waitingQueue = null;
            this._spinCount = 0;
            this._completion = new DexiePromise(function (resolve, reject) {
                _this._resolve = resolve;
                _this._reject = reject;
            });
            this._completion.then(function () {
                _this.active = false;
                _this.on.complete.fire();
            }, function (e) {
                var wasActive = _this.active;
                _this.active = false;
                _this.on.error.fire(e);
                _this.parent ?
                    _this.parent._reject(e) :
                    wasActive && _this.idbtrans && _this.idbtrans.abort();
                return rejection(e);
            });
        });
    }

    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {
        return {
            name: name,
            keyPath: keyPath,
            unique: unique,
            multi: multi,
            auto: auto,
            compound: compound,
            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? "++" : "") + nameFromKeyPath(keyPath)
        };
    }
    function nameFromKeyPath(keyPath) {
        return typeof keyPath === 'string' ?
            keyPath :
            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : "";
    }

    function createTableSchema(name, primKey, indexes) {
        return {
            name: name,
            primKey: primKey,
            indexes: indexes,
            mappedClass: null,
            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })
        };
    }

    function safariMultiStoreFix(storeNames) {
        return storeNames.length === 1 ? storeNames[0] : storeNames;
    }
    var getMaxKey = function (IdbKeyRange) {
        try {
            IdbKeyRange.only([[]]);
            getMaxKey = function () { return [[]]; };
            return [[]];
        }
        catch (e) {
            getMaxKey = function () { return maxString; };
            return maxString;
        }
    };

    function getKeyExtractor(keyPath) {
        if (keyPath == null) {
            return function () { return undefined; };
        }
        else if (typeof keyPath === 'string') {
            return getSinglePathKeyExtractor(keyPath);
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }
    function getSinglePathKeyExtractor(keyPath) {
        var split = keyPath.split('.');
        if (split.length === 1) {
            return function (obj) { return obj[keyPath]; };
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }

    function arrayify(arrayLike) {
        return [].slice.call(arrayLike);
    }
    var _id_counter = 0;
    function getKeyPathAlias(keyPath) {
        return keyPath == null ?
            ":id" :
            typeof keyPath === 'string' ?
                keyPath :
                "[".concat(keyPath.join('+'), "]");
    }
    function createDBCore(db, IdbKeyRange, tmpTrans) {
        function extractSchema(db, trans) {
            var tables = arrayify(db.objectStoreNames);
            return {
                schema: {
                    name: db.name,
                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {
                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;
                        var compound = isArray(keyPath);
                        var outbound = keyPath == null;
                        var indexByKeyPath = {};
                        var result = {
                            name: store.name,
                            primaryKey: {
                                name: null,
                                isPrimaryKey: true,
                                outbound: outbound,
                                compound: compound,
                                keyPath: keyPath,
                                autoIncrement: autoIncrement,
                                unique: true,
                                extractKey: getKeyExtractor(keyPath)
                            },
                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })
                                .map(function (index) {
                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;
                                var compound = isArray(keyPath);
                                var result = {
                                    name: name,
                                    compound: compound,
                                    keyPath: keyPath,
                                    unique: unique,
                                    multiEntry: multiEntry,
                                    extractKey: getKeyExtractor(keyPath)
                                };
                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;
                                return result;
                            }),
                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }
                        };
                        indexByKeyPath[":id"] = result.primaryKey;
                        if (keyPath != null) {
                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;
                        }
                        return result;
                    })
                },
                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&
                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
                        !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
                        [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604)
            };
        }
        function makeIDBKeyRange(range) {
            if (range.type === 3 )
                return null;
            if (range.type === 4 )
                throw new Error("Cannot convert never type to IDBKeyRange");
            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;
            var idbRange = lower === undefined ?
                upper === undefined ?
                    null :
                    IdbKeyRange.upperBound(upper, !!upperOpen) :
                upper === undefined ?
                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :
                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);
            return idbRange;
        }
        function createDbCoreTable(tableSchema) {
            var tableName = tableSchema.name;
            function mutate(_a) {
                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var store = trans.objectStore(tableName);
                    var outbound = store.keyPath == null;
                    var isAddOrPut = type === "put" || type === "add";
                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')
                        throw new Error("Invalid operation type: " + type);
                    var length = (keys || values || { length: 1 }).length;
                    if (keys && values && keys.length !== values.length) {
                        throw new Error("Given keys array must have same length as given values array.");
                    }
                    if (length === 0)
                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });
                    var req;
                    var reqs = [];
                    var failures = [];
                    var numFailures = 0;
                    var errorHandler = function (event) {
                        ++numFailures;
                        preventDefault(event);
                    };
                    if (type === 'deleteRange') {
                        if (range.type === 4 )
                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });
                        if (range.type === 3 )
                            reqs.push(req = store.clear());
                        else
                            reqs.push(req = store.delete(makeIDBKeyRange(range)));
                    }
                    else {
                        var _a = isAddOrPut ?
                            outbound ?
                                [values, keys] :
                                [values, null] :
                            [keys, null], args1 = _a[0], args2 = _a[1];
                        if (isAddOrPut) {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = (args2 && args2[i] !== undefined ?
                                    store[type](args1[i], args2[i]) :
                                    store[type](args1[i])));
                                req.onerror = errorHandler;
                            }
                        }
                        else {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = store[type](args1[i]));
                                req.onerror = errorHandler;
                            }
                        }
                    }
                    var done = function (event) {
                        var lastResult = event.target.result;
                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });
                        resolve({
                            numFailures: numFailures,
                            failures: failures,
                            results: type === "delete" ? keys : reqs.map(function (req) { return req.result; }),
                            lastResult: lastResult
                        });
                    };
                    req.onerror = function (event) {
                        errorHandler(event);
                        done(event);
                    };
                    req.onsuccess = done;
                });
            }
            function openCursor(_a) {
                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var index = query.index, range = query.range;
                    var store = trans.objectStore(tableName);
                    var source = index.isPrimaryKey ?
                        store :
                        store.index(index.name);
                    var direction = reverse ?
                        unique ?
                            "prevunique" :
                            "prev" :
                        unique ?
                            "nextunique" :
                            "next";
                    var req = values || !('openKeyCursor' in source) ?
                        source.openCursor(makeIDBKeyRange(range), direction) :
                        source.openKeyCursor(makeIDBKeyRange(range), direction);
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function (ev) {
                        var cursor = req.result;
                        if (!cursor) {
                            resolve(null);
                            return;
                        }
                        cursor.___id = ++_id_counter;
                        cursor.done = false;
                        var _cursorContinue = cursor.continue.bind(cursor);
                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;
                        if (_cursorContinuePrimaryKey)
                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);
                        var _cursorAdvance = cursor.advance.bind(cursor);
                        var doThrowCursorIsNotStarted = function () { throw new Error("Cursor not started"); };
                        var doThrowCursorIsStopped = function () { throw new Error("Cursor not stopped"); };
                        cursor.trans = trans;
                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;
                        cursor.fail = wrap(reject);
                        cursor.next = function () {
                            var _this = this;
                            var gotOne = 1;
                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });
                        };
                        cursor.start = function (callback) {
                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {
                                resolveIteration = wrap(resolveIteration);
                                req.onerror = eventRejectHandler(rejectIteration);
                                cursor.fail = rejectIteration;
                                cursor.stop = function (value) {
                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;
                                    resolveIteration(value);
                                };
                            });
                            var guardedCallback = function () {
                                if (req.result) {
                                    try {
                                        callback();
                                    }
                                    catch (err) {
                                        cursor.fail(err);
                                    }
                                }
                                else {
                                    cursor.done = true;
                                    cursor.start = function () { throw new Error("Cursor behind last entry"); };
                                    cursor.stop();
                                }
                            };
                            req.onsuccess = wrap(function (ev) {
                                req.onsuccess = guardedCallback;
                                guardedCallback();
                            });
                            cursor.continue = _cursorContinue;
                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;
                            cursor.advance = _cursorAdvance;
                            guardedCallback();
                            return iterationPromise;
                        };
                        resolve(cursor);
                    }, reject);
                });
            }
            function query(hasGetAll) {
                return function (request) {
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;
                        var nonInfinitLimit = limit === Infinity ? undefined : limit;
                        var index = query.index, range = query.range;
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        if (limit === 0)
                            return resolve({ result: [] });
                        if (hasGetAll) {
                            var req = values ?
                                source.getAll(idbKeyRange, nonInfinitLimit) :
                                source.getAllKeys(idbKeyRange, nonInfinitLimit);
                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };
                            req.onerror = eventRejectHandler(reject);
                        }
                        else {
                            var count_1 = 0;
                            var req_1 = values || !('openKeyCursor' in source) ?
                                source.openCursor(idbKeyRange) :
                                source.openKeyCursor(idbKeyRange);
                            var result_1 = [];
                            req_1.onsuccess = function (event) {
                                var cursor = req_1.result;
                                if (!cursor)
                                    return resolve({ result: result_1 });
                                result_1.push(values ? cursor.value : cursor.primaryKey);
                                if (++count_1 === limit)
                                    return resolve({ result: result_1 });
                                cursor.continue();
                            };
                            req_1.onerror = eventRejectHandler(reject);
                        }
                    });
                };
            }
            return {
                name: tableName,
                schema: tableSchema,
                mutate: mutate,
                getMany: function (_a) {
                    var trans = _a.trans, keys = _a.keys;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var length = keys.length;
                        var result = new Array(length);
                        var keyCount = 0;
                        var callbackCount = 0;
                        var req;
                        var successHandler = function (event) {
                            var req = event.target;
                            if ((result[req._pos] = req.result) != null)
                                ;
                            if (++callbackCount === keyCount)
                                resolve(result);
                        };
                        var errorHandler = eventRejectHandler(reject);
                        for (var i = 0; i < length; ++i) {
                            var key = keys[i];
                            if (key != null) {
                                req = store.get(keys[i]);
                                req._pos = i;
                                req.onsuccess = successHandler;
                                req.onerror = errorHandler;
                                ++keyCount;
                            }
                        }
                        if (keyCount === 0)
                            resolve(result);
                    });
                },
                get: function (_a) {
                    var trans = _a.trans, key = _a.key;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var req = store.get(key);
                        req.onsuccess = function (event) { return resolve(event.target.result); };
                        req.onerror = eventRejectHandler(reject);
                    });
                },
                query: query(hasGetAll),
                openCursor: openCursor,
                count: function (_a) {
                    var query = _a.query, trans = _a.trans;
                    var index = query.index, range = query.range;
                    return new Promise(function (resolve, reject) {
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();
                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });
                        req.onerror = eventRejectHandler(reject);
                    });
                }
            };
        }
        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;
        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });
        var tableMap = {};
        tables.forEach(function (table) { return tableMap[table.name] = table; });
        return {
            stack: "dbcore",
            transaction: db.transaction.bind(db),
            table: function (name) {
                var result = tableMap[name];
                if (!result)
                    throw new Error("Table '".concat(name, "' not found"));
                return tableMap[name];
            },
            MIN_KEY: -Infinity,
            MAX_KEY: getMaxKey(IdbKeyRange),
            schema: schema
        };
    }

    function createMiddlewareStack(stackImpl, middlewares) {
        return middlewares.reduce(function (down, _a) {
            var create = _a.create;
            return (__assign(__assign({}, down), create(down)));
        }, stackImpl);
    }
    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {
        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;
        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);
        return {
            dbcore: dbcore
        };
    }
    function generateMiddlewareStacks(db, tmpTrans) {
        var idbdb = tmpTrans.db;
        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);
        db.core = stacks.dbcore;
        db.tables.forEach(function (table) {
            var tableName = table.name;
            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {
                table.core = db.core.table(tableName);
                if (db[tableName] instanceof db.Table) {
                    db[tableName].core = table.core;
                }
            }
        });
    }

    function setApiOnPlace(db, objs, tableNames, dbschema) {
        tableNames.forEach(function (tableName) {
            var schema = dbschema[tableName];
            objs.forEach(function (obj) {
                var propDesc = getPropertyDescriptor(obj, tableName);
                if (!propDesc || ("value" in propDesc && propDesc.value === undefined)) {
                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {
                        setProp(obj, tableName, {
                            get: function () { return this.table(tableName); },
                            set: function (value) {
                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });
                            }
                        });
                    }
                    else {
                        obj[tableName] = new db.Table(tableName, schema);
                    }
                }
            });
        });
    }
    function removeTablesApi(db, objs) {
        objs.forEach(function (obj) {
            for (var key in obj) {
                if (obj[key] instanceof db.Table)
                    delete obj[key];
            }
        });
    }
    function lowerVersionFirst(a, b) {
        return a._cfg.version - b._cfg.version;
    }
    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {
        var globalSchema = db._dbSchema;
        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {
            globalSchema.$meta = createTableSchema("$meta", parseIndexSyntax("")[0], []);
            db._storeNames.push('$meta');
        }
        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);
        trans.create(idbUpgradeTrans);
        trans._completion.catch(reject);
        var rejectTransaction = trans._reject.bind(trans);
        var transless = PSD.transless || PSD;
        newScope(function () {
            PSD.trans = trans;
            PSD.transless = transless;
            if (oldVersion === 0) {
                keys(globalSchema).forEach(function (tableName) {
                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);
                });
                generateMiddlewareStacks(db, idbUpgradeTrans);
                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);
            }
            else {
                generateMiddlewareStacks(db, idbUpgradeTrans);
                return getExistingVersion(db, trans, oldVersion)
                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })
                    .catch(rejectTransaction);
            }
        });
    }
    function patchCurrentVersion(db, idbUpgradeTrans) {
        createMissingTables(db._dbSchema, idbUpgradeTrans);
        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {
            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');
        }
        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);
        var diff = getSchemaDiff(globalSchema, db._dbSchema);
        var _loop_1 = function (tableChange) {
            if (tableChange.change.length || tableChange.recreate) {
                console.warn("Unable to patch indexes of table ".concat(tableChange.name, " because it has changes on the type of index or primary key."));
                return { value: void 0 };
            }
            var store = idbUpgradeTrans.objectStore(tableChange.name);
            tableChange.add.forEach(function (idx) {
                if (debug)
                    console.debug("Dexie upgrade patch: Creating missing index ".concat(tableChange.name, ".").concat(idx.src));
                addIndex(store, idx);
            });
        };
        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {
            var tableChange = _a[_i];
            var state_1 = _loop_1(tableChange);
            if (typeof state_1 === "object")
                return state_1.value;
        }
    }
    function getExistingVersion(db, trans, oldVersion) {
        if (trans.storeNames.includes('$meta')) {
            return trans.table('$meta').get('version').then(function (metaVersion) {
                return metaVersion != null ? metaVersion : oldVersion;
            });
        }
        else {
            return DexiePromise.resolve(oldVersion);
        }
    }
    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {
        var queue = [];
        var versions = db._versions;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });
        if (versToRun.length === 0) {
            return DexiePromise.resolve();
        }
        versToRun.forEach(function (version) {
            queue.push(function () {
                var oldSchema = globalSchema;
                var newSchema = version._cfg.dbschema;
                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);
                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);
                globalSchema = db._dbSchema = newSchema;
                var diff = getSchemaDiff(oldSchema, newSchema);
                diff.add.forEach(function (tuple) {
                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);
                });
                diff.change.forEach(function (change) {
                    if (change.recreate) {
                        throw new exceptions.Upgrade("Not yet support for changing primary key");
                    }
                    else {
                        var store_1 = idbUpgradeTrans.objectStore(change.name);
                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });
                        change.change.forEach(function (idx) {
                            store_1.deleteIndex(idx.name);
                            addIndex(store_1, idx);
                        });
                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });
                    }
                });
                var contentUpgrade = version._cfg.contentUpgrade;
                if (contentUpgrade && version._cfg.version > oldVersion) {
                    generateMiddlewareStacks(db, idbUpgradeTrans);
                    trans._memoizedTables = {};
                    var upgradeSchema_1 = shallowClone(newSchema);
                    diff.del.forEach(function (table) {
                        upgradeSchema_1[table] = oldSchema[table];
                    });
                    removeTablesApi(db, [db.Transaction.prototype]);
                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);
                    trans.schema = upgradeSchema_1;
                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);
                    if (contentUpgradeIsAsync_1) {
                        incrementExpectedAwaits();
                    }
                    var returnValue_1;
                    var promiseFollowed = DexiePromise.follow(function () {
                        returnValue_1 = contentUpgrade(trans);
                        if (returnValue_1) {
                            if (contentUpgradeIsAsync_1) {
                                var decrementor = decrementExpectedAwaits.bind(null, null);
                                returnValue_1.then(decrementor, decrementor);
                            }
                        }
                    });
                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?
                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));
                }
            });
            queue.push(function (idbtrans) {
                var newSchema = version._cfg.dbschema;
                deleteRemovedTables(newSchema, idbtrans);
                removeTablesApi(db, [db.Transaction.prototype]);
                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);
                trans.schema = db._dbSchema;
            });
            queue.push(function (idbtrans) {
                if (db.idbdb.objectStoreNames.contains('$meta')) {
                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {
                        db.idbdb.deleteObjectStore('$meta');
                        delete db._dbSchema.$meta;
                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });
                    }
                    else {
                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');
                    }
                }
            });
        });
        function runQueue() {
            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :
                DexiePromise.resolve();
        }
        return runQueue().then(function () {
            createMissingTables(globalSchema, idbUpgradeTrans);
        });
    }
    function getSchemaDiff(oldSchema, newSchema) {
        var diff = {
            del: [],
            add: [],
            change: []
        };
        var table;
        for (table in oldSchema) {
            if (!newSchema[table])
                diff.del.push(table);
        }
        for (table in newSchema) {
            var oldDef = oldSchema[table], newDef = newSchema[table];
            if (!oldDef) {
                diff.add.push([table, newDef]);
            }
            else {
                var change = {
                    name: table,
                    def: newDef,
                    recreate: false,
                    del: [],
                    add: [],
                    change: []
                };
                if ((
                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||
                    (oldDef.primKey.auto !== newDef.primKey.auto)) {
                    change.recreate = true;
                    diff.change.push(change);
                }
                else {
                    var oldIndexes = oldDef.idxByName;
                    var newIndexes = newDef.idxByName;
                    var idxName = void 0;
                    for (idxName in oldIndexes) {
                        if (!newIndexes[idxName])
                            change.del.push(idxName);
                    }
                    for (idxName in newIndexes) {
                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];
                        if (!oldIdx)
                            change.add.push(newIdx);
                        else if (oldIdx.src !== newIdx.src)
                            change.change.push(newIdx);
                    }
                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {
                        diff.change.push(change);
                    }
                }
            }
        }
        return diff;
    }
    function createTable(idbtrans, tableName, primKey, indexes) {
        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?
            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :
            { autoIncrement: primKey.auto });
        indexes.forEach(function (idx) { return addIndex(store, idx); });
        return store;
    }
    function createMissingTables(newSchema, idbtrans) {
        keys(newSchema).forEach(function (tableName) {
            if (!idbtrans.db.objectStoreNames.contains(tableName)) {
                if (debug)
                    console.debug('Dexie: Creating missing table', tableName);
                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);
            }
        });
    }
    function deleteRemovedTables(newSchema, idbtrans) {
        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {
            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);
        });
    }
    function addIndex(store, idx) {
        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });
    }
    function buildGlobalSchema(db, idbdb, tmpTrans) {
        var globalSchema = {};
        var dbStoreNames = slice(idbdb.objectStoreNames, 0);
        dbStoreNames.forEach(function (storeName) {
            var store = tmpTrans.objectStore(storeName);
            var keyPath = store.keyPath;
            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || "", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== "string", true);
            var indexes = [];
            for (var j = 0; j < store.indexNames.length; ++j) {
                var idbindex = store.index(store.indexNames[j]);
                keyPath = idbindex.keyPath;
                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== "string", false);
                indexes.push(index);
            }
            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);
        });
        return globalSchema;
    }
    function readGlobalSchema(db, idbdb, tmpTrans) {
        db.verno = idbdb.version / 10;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);
        db._storeNames = slice(idbdb.objectStoreNames, 0);
        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);
    }
    function verifyInstalledSchema(db, tmpTrans) {
        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);
        var diff = getSchemaDiff(installedSchema, db._dbSchema);
        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));
    }
    function adjustToExistingIndexNames(db, schema, idbtrans) {
        var storeNames = idbtrans.db.objectStoreNames;
        for (var i = 0; i < storeNames.length; ++i) {
            var storeName = storeNames[i];
            var store = idbtrans.objectStore(storeName);
            db._hasGetAll = 'getAll' in store;
            for (var j = 0; j < store.indexNames.length; ++j) {
                var indexName = store.indexNames[j];
                var keyPath = store.index(indexName).keyPath;
                var dexieName = typeof keyPath === 'string' ? keyPath : "[" + slice(keyPath).join('+') + "]";
                if (schema[storeName]) {
                    var indexSpec = schema[storeName].idxByName[dexieName];
                    if (indexSpec) {
                        indexSpec.name = indexName;
                        delete schema[storeName].idxByName[dexieName];
                        schema[storeName].idxByName[indexName] = indexSpec;
                    }
                }
            }
        }
        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
            !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&
            [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) {
            db._hasGetAll = false;
        }
    }
    function parseIndexSyntax(primKeyAndIndexes) {
        return primKeyAndIndexes.split(',').map(function (index, indexNum) {
            index = index.trim();
            var name = index.replace(/([&*]|\+\+)/g, "");
            var keyPath = /^\[/.test(name) ? name.match(/^\[(.*)\]$/)[1].split('+') : name;
            return createIndexSpec(name, keyPath || null, /\&/.test(index), /\*/.test(index), /\+\+/.test(index), isArray(keyPath), indexNum === 0);
        });
    }

    var Version =  (function () {
        function Version() {
        }
        Version.prototype._parseStoresSpec = function (stores, outSchema) {
            keys(stores).forEach(function (tableName) {
                if (stores[tableName] !== null) {
                    var indexes = parseIndexSyntax(stores[tableName]);
                    var primKey = indexes.shift();
                    primKey.unique = true;
                    if (primKey.multi)
                        throw new exceptions.Schema("Primary key cannot be multi-valued");
                    indexes.forEach(function (idx) {
                        if (idx.auto)
                            throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");
                        if (!idx.keyPath)
                            throw new exceptions.Schema("Index must have a name and cannot be an empty string");
                    });
                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);
                }
            });
        };
        Version.prototype.stores = function (stores) {
            var db = this.db;
            this._cfg.storesSource = this._cfg.storesSource ?
                extend(this._cfg.storesSource, stores) :
                stores;
            var versions = db._versions;
            var storesSpec = {};
            var dbschema = {};
            versions.forEach(function (version) {
                extend(storesSpec, version._cfg.storesSource);
                dbschema = (version._cfg.dbschema = {});
                version._parseStoresSpec(storesSpec, dbschema);
            });
            db._dbSchema = dbschema;
            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);
            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);
            db._storeNames = keys(dbschema);
            return this;
        };
        Version.prototype.upgrade = function (upgradeFunction) {
            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);
            return this;
        };
        return Version;
    }());

    function createVersionConstructor(db) {
        return makeClassConstructor(Version.prototype, function Version(versionNumber) {
            this.db = db;
            this._cfg = {
                version: versionNumber,
                storesSource: null,
                dbschema: {},
                tables: {},
                contentUpgrade: null
            };
        });
    }

    function getDbNamesTable(indexedDB, IDBKeyRange) {
        var dbNamesDB = indexedDB["_dbNamesDB"];
        if (!dbNamesDB) {
            dbNamesDB = indexedDB["_dbNamesDB"] = new Dexie$1(DBNAMES_DB, {
                addons: [],
                indexedDB: indexedDB,
                IDBKeyRange: IDBKeyRange,
            });
            dbNamesDB.version(1).stores({ dbnames: "name" });
        }
        return dbNamesDB.table("dbnames");
    }
    function hasDatabasesNative(indexedDB) {
        return indexedDB && typeof indexedDB.databases === "function";
    }
    function getDatabaseNames(_a) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        return hasDatabasesNative(indexedDB)
            ? Promise.resolve(indexedDB.databases()).then(function (infos) {
                return infos
                    .map(function (info) { return info.name; })
                    .filter(function (name) { return name !== DBNAMES_DB; });
            })
            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();
    }
    function _onDatabaseCreated(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);
    }
    function _onDatabaseDeleted(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);
    }

    function vip(fn) {
        return newScope(function () {
            PSD.letThrough = true;
            return fn();
        });
    }

    function idbReady() {
        var isSafari = !navigator.userAgentData &&
            /Safari\//.test(navigator.userAgent) &&
            !/Chrom(e|ium)\//.test(navigator.userAgent);
        if (!isSafari || !indexedDB.databases)
            return Promise.resolve();
        var intervalId;
        return new Promise(function (resolve) {
            var tryIdb = function () { return indexedDB.databases().finally(resolve); };
            intervalId = setInterval(tryIdb, 100);
            tryIdb();
        }).finally(function () { return clearInterval(intervalId); });
    }

    var _a;
    function isEmptyRange(node) {
        return !("from" in node);
    }
    var RangeSet = function (fromOrTree, to) {
        if (this) {
            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });
        }
        else {
            var rv = new RangeSet();
            if (fromOrTree && ("d" in fromOrTree)) {
                extend(rv, fromOrTree);
            }
            return rv;
        }
    };
    props(RangeSet.prototype, (_a = {
            add: function (rangeSet) {
                mergeRanges(this, rangeSet);
                return this;
            },
            addKey: function (key) {
                addRange(this, key, key);
                return this;
            },
            addKeys: function (keys) {
                var _this = this;
                keys.forEach(function (key) { return addRange(_this, key, key); });
                return this;
            },
            hasKey: function (key) {
                var node = getRangeSetIterator(this).next(key).value;
                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;
            }
        },
        _a[iteratorSymbol] = function () {
            return getRangeSetIterator(this);
        },
        _a));
    function addRange(target, from, to) {
        var diff = cmp(from, to);
        if (isNaN(diff))
            return;
        if (diff > 0)
            throw RangeError();
        if (isEmptyRange(target))
            return extend(target, { from: from, to: to, d: 1 });
        var left = target.l;
        var right = target.r;
        if (cmp(to, target.from) < 0) {
            left
                ? addRange(left, from, to)
                : (target.l = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.to) > 0) {
            right
                ? addRange(right, from, to)
                : (target.r = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.from) < 0) {
            target.from = from;
            target.l = null;
            target.d = right ? right.d + 1 : 1;
        }
        if (cmp(to, target.to) > 0) {
            target.to = to;
            target.r = null;
            target.d = target.l ? target.l.d + 1 : 1;
        }
        var rightWasCutOff = !target.r;
        if (left && !target.l) {
            mergeRanges(target, left);
        }
        if (right && rightWasCutOff) {
            mergeRanges(target, right);
        }
    }
    function mergeRanges(target, newSet) {
        function _addRangeSet(target, _a) {
            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;
            addRange(target, from, to);
            if (l)
                _addRangeSet(target, l);
            if (r)
                _addRangeSet(target, r);
        }
        if (!isEmptyRange(newSet))
            _addRangeSet(target, newSet);
    }
    function rangesOverlap(rangeSet1, rangeSet2) {
        var i1 = getRangeSetIterator(rangeSet2);
        var nextResult1 = i1.next();
        if (nextResult1.done)
            return false;
        var a = nextResult1.value;
        var i2 = getRangeSetIterator(rangeSet1);
        var nextResult2 = i2.next(a.from);
        var b = nextResult2.value;
        while (!nextResult1.done && !nextResult2.done) {
            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)
                return true;
            cmp(a.from, b.from) < 0
                ? (a = (nextResult1 = i1.next(b.from)).value)
                : (b = (nextResult2 = i2.next(a.from)).value);
        }
        return false;
    }
    function getRangeSetIterator(node) {
        var state = isEmptyRange(node) ? null : { s: 0, n: node };
        return {
            next: function (key) {
                var keyProvided = arguments.length > 0;
                while (state) {
                    switch (state.s) {
                        case 0:
                            state.s = 1;
                            if (keyProvided) {
                                while (state.n.l && cmp(key, state.n.from) < 0)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                            else {
                                while (state.n.l)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                        case 1:
                            state.s = 2;
                            if (!keyProvided || cmp(key, state.n.to) <= 0)
                                return { value: state.n, done: false };
                        case 2:
                            if (state.n.r) {
                                state.s = 3;
                                state = { up: state, n: state.n.r, s: 0 };
                                continue;
                            }
                        case 3:
                            state = state.up;
                    }
                }
                return { done: true };
            },
        };
    }
    function rebalance(target) {
        var _a, _b;
        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);
        var r = diff > 1 ? "r" : diff < -1 ? "l" : "";
        if (r) {
            var l = r === "r" ? "l" : "r";
            var rootClone = __assign({}, target);
            var oldRootRight = target[r];
            target.from = oldRootRight.from;
            target.to = oldRootRight.to;
            target[r] = oldRootRight[r];
            rootClone[r] = oldRootRight[l];
            target[l] = rootClone;
            rootClone.d = computeDepth(rootClone);
        }
        target.d = computeDepth(target);
    }
    function computeDepth(_a) {
        var r = _a.r, l = _a.l;
        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;
    }

    function extendObservabilitySet(target, newSet) {
        keys(newSet).forEach(function (part) {
            if (target[part])
                mergeRanges(target[part], newSet[part]);
            else
                target[part] = cloneSimpleObjectTree(newSet[part]);
        });
        return target;
    }

    function obsSetsOverlap(os1, os2) {
        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });
    }

    var cache = {};

    var unsignaledParts = {};
    var isTaskEnqueued = false;
    function signalSubscribersLazily(part, optimistic) {
        extendObservabilitySet(unsignaledParts, part);
        if (!isTaskEnqueued) {
            isTaskEnqueued = true;
            setTimeout(function () {
                isTaskEnqueued = false;
                var parts = unsignaledParts;
                unsignaledParts = {};
                signalSubscribersNow(parts, false);
            }, 0);
        }
    }
    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {
        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }
        var queriesToSignal = new Set();
        if (updatedParts.all) {
            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {
                var tblCache = _a[_i];
                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
            }
        }
        else {
            for (var key in updatedParts) {
                var parts = /^idb\:\/\/(.*)\/(.*)\//.exec(key);
                if (parts) {
                    var dbName = parts[1], tableName = parts[2];
                    var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                    if (tblCache)
                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
                }
            }
        }
        queriesToSignal.forEach(function (requery) { return requery(); });
    }
    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {
        var updatedEntryLists = [];
        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {
            var _b = _a[_i], indexName = _b[0], entries = _b[1];
            var filteredEntries = [];
            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {
                var entry = entries_1[_c];
                if (obsSetsOverlap(updatedParts, entry.obsSet)) {
                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });
                }
                else if (deleteAffectedCacheEntries) {
                    filteredEntries.push(entry);
                }
            }
            if (deleteAffectedCacheEntries)
                updatedEntryLists.push([indexName, filteredEntries]);
        }
        if (deleteAffectedCacheEntries) {
            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {
                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];
                tblCache.queries.query[indexName] = filteredEntries;
            }
        }
    }

    function dexieOpen(db) {
        var state = db._state;
        var indexedDB = db._deps.indexedDB;
        if (state.isBeingOpened || db.idbdb)
            return state.dbReadyPromise.then(function () { return state.dbOpenError ?
                rejection(state.dbOpenError) :
                db; });
        state.isBeingOpened = true;
        state.dbOpenError = null;
        state.openComplete = false;
        var openCanceller = state.openCanceller;
        var nativeVerToOpen = Math.round(db.verno * 10);
        var schemaPatchMode = false;
        function throwIfCancelled() {
            if (state.openCanceller !== openCanceller)
                throw new exceptions.DatabaseClosed('db.open() was cancelled');
        }
        var resolveDbReady = state.dbReadyResolve,
        upgradeTransaction = null, wasCreated = false;
        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {
            throwIfCancelled();
            if (!indexedDB)
                throw new exceptions.MissingAPI();
            var dbName = db.name;
            var req = state.autoSchema || !nativeVerToOpen ?
                indexedDB.open(dbName) :
                indexedDB.open(dbName, nativeVerToOpen);
            if (!req)
                throw new exceptions.MissingAPI();
            req.onerror = eventRejectHandler(reject);
            req.onblocked = wrap(db._fireOnBlocked);
            req.onupgradeneeded = wrap(function (e) {
                upgradeTransaction = req.transaction;
                if (state.autoSchema && !db._options.allowEmptyDB) {
                    req.onerror = preventDefault;
                    upgradeTransaction.abort();
                    req.result.close();
                    var delreq = indexedDB.deleteDatabase(dbName);
                    delreq.onsuccess = delreq.onerror = wrap(function () {
                        reject(new exceptions.NoSuchDatabase("Database ".concat(dbName, " doesnt exist")));
                    });
                }
                else {
                    upgradeTransaction.onerror = eventRejectHandler(reject);
                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;
                    wasCreated = oldVer < 1;
                    db.idbdb = req.result;
                    if (schemaPatchMode) {
                        patchCurrentVersion(db, upgradeTransaction);
                    }
                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);
                }
            }, reject);
            req.onsuccess = wrap(function () {
                upgradeTransaction = null;
                var idbdb = db.idbdb = req.result;
                var objectStoreNames = slice(idbdb.objectStoreNames);
                if (objectStoreNames.length > 0)
                    try {
                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');
                        if (state.autoSchema)
                            readGlobalSchema(db, idbdb, tmpTrans);
                        else {
                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);
                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {
                                console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.");
                                idbdb.close();
                                nativeVerToOpen = idbdb.version + 1;
                                schemaPatchMode = true;
                                return resolve(tryOpenDB());
                            }
                        }
                        generateMiddlewareStacks(db, tmpTrans);
                    }
                    catch (e) {
                    }
                connections.push(db);
                idbdb.onversionchange = wrap(function (ev) {
                    state.vcFired = true;
                    db.on("versionchange").fire(ev);
                });
                idbdb.onclose = wrap(function (ev) {
                    db.on("close").fire(ev);
                });
                if (wasCreated)
                    _onDatabaseCreated(db._deps, dbName);
                resolve();
            }, reject);
        }).catch(function (err) {
            switch (err === null || err === void 0 ? void 0 : err.name) {
                case "UnknownError":
                    if (state.PR1398_maxLoop > 0) {
                        state.PR1398_maxLoop--;
                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');
                        return tryOpenDB();
                    }
                    break;
                case "VersionError":
                    if (nativeVerToOpen > 0) {
                        nativeVerToOpen = 0;
                        return tryOpenDB();
                    }
                    break;
            }
            return DexiePromise.reject(err);
        }); };
        return DexiePromise.race([
            openCanceller,
            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)
        ]).then(function () {
            throwIfCancelled();
            state.onReadyBeingFired = [];
            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {
                if (state.onReadyBeingFired.length > 0) {
                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);
                    state.onReadyBeingFired = [];
                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);
                }
            });
        }).finally(function () {
            if (state.openCanceller === openCanceller) {
                state.onReadyBeingFired = null;
                state.isBeingOpened = false;
            }
        }).catch(function (err) {
            state.dbOpenError = err;
            try {
                upgradeTransaction && upgradeTransaction.abort();
            }
            catch (_a) { }
            if (openCanceller === state.openCanceller) {
                db._close();
            }
            return rejection(err);
        }).finally(function () {
            state.openComplete = true;
            resolveDbReady();
        }).then(function () {
            if (wasCreated) {
                var everything_1 = {};
                db.tables.forEach(function (table) {
                    table.schema.indexes.forEach(function (idx) {
                        if (idx.name)
                            everything_1["idb://".concat(db.name, "/").concat(table.name, "/").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);
                    });
                    everything_1["idb://".concat(db.name, "/").concat(table.name, "/")] = everything_1["idb://".concat(db.name, "/").concat(table.name, "/:dels")] = new RangeSet(-Infinity, [[[]]]);
                });
                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);
                signalSubscribersNow(everything_1, true);
            }
            return db;
        });
    }

    function awaitIterator(iterator) {
        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);
        function step(getNext) {
            return function (val) {
                var next = getNext(val), value = next.value;
                return next.done ? value :
                    (!value || typeof value.then !== 'function' ?
                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :
                        value.then(onSuccess, onError));
            };
        }
        return step(callNext)();
    }

    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {
        var i = arguments.length;
        if (i < 2)
            throw new exceptions.InvalidArgument("Too few arguments");
        var args = new Array(i - 1);
        while (--i)
            args[i - 1] = arguments[i];
        scopeFunc = args.pop();
        var tables = flatten(args);
        return [mode, tables, scopeFunc];
    }
    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {
        return DexiePromise.resolve().then(function () {
            var transless = PSD.transless || PSD;
            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);
            trans.explicit = true;
            var zoneProps = {
                trans: trans,
                transless: transless
            };
            if (parentTransaction) {
                trans.idbtrans = parentTransaction.idbtrans;
            }
            else {
                try {
                    trans.create();
                    trans.idbtrans._explicit = true;
                    db._state.PR1398_maxLoop = 3;
                }
                catch (ex) {
                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                        console.warn('Dexie: Need to reopen db');
                        db.close({ disableAutoOpen: false });
                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });
                    }
                    return rejection(ex);
                }
            }
            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);
            if (scopeFuncIsAsync) {
                incrementExpectedAwaits();
            }
            var returnValue;
            var promiseFollowed = DexiePromise.follow(function () {
                returnValue = scopeFunc.call(trans, trans);
                if (returnValue) {
                    if (scopeFuncIsAsync) {
                        var decrementor = decrementExpectedAwaits.bind(null, null);
                        returnValue.then(decrementor, decrementor);
                    }
                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {
                        returnValue = awaitIterator(returnValue);
                    }
                }
            }, zoneProps);
            return (returnValue && typeof returnValue.then === 'function' ?
                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?
                    x
                    : rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")); })
                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {
                if (parentTransaction)
                    trans._resolve();
                return trans._completion.then(function () { return x; });
            }).catch(function (e) {
                trans._reject(e);
                return rejection(e);
            });
        });
    }

    function pad(a, value, count) {
        var result = isArray(a) ? a.slice() : [a];
        for (var i = 0; i < count; ++i)
            result.push(value);
        return result;
    }
    function createVirtualIndexMiddleware(down) {
        return __assign(__assign({}, down), { table: function (tableName) {
                var table = down.table(tableName);
                var schema = table.schema;
                var indexLookup = {};
                var allVirtualIndexes = [];
                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {
                    var keyPathAlias = getKeyPathAlias(keyPath);
                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);
                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;
                    var isVirtual = keyTail > 0;
                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual
                            ? "".concat(keyPathAlias, "(virtual-from:").concat(lowLevelIndex.name, ")")
                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });
                    indexList.push(virtualIndex);
                    if (!virtualIndex.isPrimaryKey) {
                        allVirtualIndexes.push(virtualIndex);
                    }
                    if (keyLength > 1) {
                        var virtualKeyPath = keyLength === 2 ?
                            keyPath[0] :
                            keyPath.slice(0, keyLength - 1);
                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);
                    }
                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });
                    return virtualIndex;
                }
                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);
                indexLookup[":id"] = [primaryKey];
                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {
                    var index = _a[_i];
                    addVirtualIndexes(index.keyPath, 0, index);
                }
                function findBestIndex(keyPath) {
                    var result = indexLookup[getKeyPathAlias(keyPath)];
                    return result && result[0];
                }
                function translateRange(range, keyTail) {
                    return {
                        type: range.type === 1  ?
                            2  :
                            range.type,
                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),
                        lowerOpen: true,
                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),
                        upperOpen: true
                    };
                }
                function translateRequest(req) {
                    var index = req.query.index;
                    return index.isVirtual ? __assign(__assign({}, req), { query: {
                            index: index.lowLevelIndex,
                            range: translateRange(req.query.range, index.keyTail)
                        } }) : req;
                }
                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {
                        return table.count(translateRequest(req));
                    }, query: function (req) {
                        return table.query(translateRequest(req));
                    }, openCursor: function (req) {
                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;
                        if (!isVirtual)
                            return table.openCursor(req);
                        function createVirtualCursor(cursor) {
                            function _continue(key) {
                                key != null ?
                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :
                                    req.unique ?
                                        cursor.continue(cursor.key.slice(0, keyLength)
                                            .concat(req.reverse
                                            ? down.MIN_KEY
                                            : down.MAX_KEY, keyTail)) :
                                        cursor.continue();
                            }
                            var virtualCursor = Object.create(cursor, {
                                continue: { value: _continue },
                                continuePrimaryKey: {
                                    value: function (key, primaryKey) {
                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);
                                    }
                                },
                                primaryKey: {
                                    get: function () {
                                        return cursor.primaryKey;
                                    }
                                },
                                key: {
                                    get: function () {
                                        var key = cursor.key;
                                        return keyLength === 1 ?
                                            key[0] :
                                            key.slice(0, keyLength);
                                    }
                                },
                                value: {
                                    get: function () {
                                        return cursor.value;
                                    }
                                }
                            });
                            return virtualCursor;
                        }
                        return table.openCursor(translateRequest(req))
                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });
                    } });
                return result;
            } });
    }
    var virtualIndexMiddleware = {
        stack: "dbcore",
        name: "VirtualIndexMiddleware",
        level: 1,
        create: createVirtualIndexMiddleware
    };

    function getObjectDiff(a, b, rv, prfx) {
        rv = rv || {};
        prfx = prfx || '';
        keys(a).forEach(function (prop) {
            if (!hasOwn(b, prop)) {
                rv[prfx + prop] = undefined;
            }
            else {
                var ap = a[prop], bp = b[prop];
                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {
                    var apTypeName = toStringTag(ap);
                    var bpTypeName = toStringTag(bp);
                    if (apTypeName !== bpTypeName) {
                        rv[prfx + prop] = b[prop];
                    }
                    else if (apTypeName === 'Object') {
                        getObjectDiff(ap, bp, rv, prfx + prop + '.');
                    }
                    else if (ap !== bp) {
                        rv[prfx + prop] = b[prop];
                    }
                }
                else if (ap !== bp)
                    rv[prfx + prop] = b[prop];
            }
        });
        keys(b).forEach(function (prop) {
            if (!hasOwn(a, prop)) {
                rv[prfx + prop] = b[prop];
            }
        });
        return rv;
    }

    function getEffectiveKeys(primaryKey, req) {
        if (req.type === 'delete')
            return req.keys;
        return req.keys || req.values.map(primaryKey.extractKey);
    }

    var hooksMiddleware = {
        stack: "dbcore",
        name: "HooksMiddleware",
        level: 2,
        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {
                var downTable = downCore.table(tableName);
                var primaryKey = downTable.schema.primaryKey;
                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {
                        var dxTrans = PSD.trans;
                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;
                        switch (req.type) {
                            case 'add':
                                if (creating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'put':
                                if (creating.fire === nop && updating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'delete':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'deleteRange':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);
                        }
                        return downTable.mutate(req);
                        function addPutOrDelete(req) {
                            var dxTrans = PSD.trans;
                            var keys = req.keys || getEffectiveKeys(primaryKey, req);
                            if (!keys)
                                throw new Error("Keys missing");
                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);
                            if (req.type !== 'delete')
                                req.values = __spreadArray([], req.values, true);
                            if (req.keys)
                                req.keys = __spreadArray([], req.keys, true);
                            return getExistingValues(downTable, req, keys).then(function (existingValues) {
                                var contexts = keys.map(function (key, i) {
                                    var existingValue = existingValues[i];
                                    var ctx = { onerror: null, onsuccess: null };
                                    if (req.type === 'delete') {
                                        deleting.fire.call(ctx, key, existingValue, dxTrans);
                                    }
                                    else if (req.type === 'add' || existingValue === undefined) {
                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);
                                        if (key == null && generatedPrimaryKey != null) {
                                            key = generatedPrimaryKey;
                                            req.keys[i] = key;
                                            if (!primaryKey.outbound) {
                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);
                                            }
                                        }
                                    }
                                    else {
                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);
                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);
                                        if (additionalChanges_1) {
                                            var requestedValue_1 = req.values[i];
                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {
                                                if (hasOwn(requestedValue_1, keyPath)) {
                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];
                                                }
                                                else {
                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);
                                                }
                                            });
                                        }
                                    }
                                    return ctx;
                                });
                                return downTable.mutate(req).then(function (_a) {
                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;
                                    for (var i = 0; i < keys.length; ++i) {
                                        var primKey = results ? results[i] : keys[i];
                                        var ctx = contexts[i];
                                        if (primKey == null) {
                                            ctx.onerror && ctx.onerror(failures[i]);
                                        }
                                        else {
                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?
                                                req.values[i] :
                                                primKey
                                            );
                                        }
                                    }
                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };
                                }).catch(function (error) {
                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });
                                    return Promise.reject(error);
                                });
                            });
                        }
                        function deleteRange(req) {
                            return deleteNextChunk(req.trans, req.range, 10000);
                        }
                        function deleteNextChunk(trans, range, limit) {
                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })
                                .then(function (_a) {
                                var result = _a.result;
                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {
                                    if (res.numFailures > 0)
                                        return Promise.reject(res.failures[0]);
                                    if (result.length < limit) {
                                        return { failures: [], numFailures: 0, lastResult: undefined };
                                    }
                                    else {
                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);
                                    }
                                });
                            });
                        }
                    } });
                return tableMiddleware;
            } })); }
    };
    function getExistingValues(table, req, effectiveKeys) {
        return req.type === "add"
            ? Promise.resolve([])
            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: "immutable" });
    }

    function getFromTransactionCache(keys, cache, clone) {
        try {
            if (!cache)
                return null;
            if (cache.keys.length < keys.length)
                return null;
            var result = [];
            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {
                if (cmp(cache.keys[i], keys[j]) !== 0)
                    continue;
                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);
                ++j;
            }
            return result.length === keys.length ? result : null;
        }
        catch (_a) {
            return null;
        }
    }
    var cacheExistingValuesMiddleware = {
        stack: "dbcore",
        level: -1,
        create: function (core) {
            return {
                table: function (tableName) {
                    var table = core.table(tableName);
                    return __assign(__assign({}, table), { getMany: function (req) {
                            if (!req.cache) {
                                return table.getMany(req);
                            }
                            var cachedResult = getFromTransactionCache(req.keys, req.trans["_cache"], req.cache === "clone");
                            if (cachedResult) {
                                return DexiePromise.resolve(cachedResult);
                            }
                            return table.getMany(req).then(function (res) {
                                req.trans["_cache"] = {
                                    keys: req.keys,
                                    values: req.cache === "clone" ? deepClone(res) : res,
                                };
                                return res;
                            });
                        }, mutate: function (req) {
                            if (req.type !== "add")
                                req.trans["_cache"] = null;
                            return table.mutate(req);
                        } });
                },
            };
        },
    };

    function isCachableContext(ctx, table) {
        return (ctx.trans.mode === 'readonly' &&
            !!ctx.subscr &&
            !ctx.trans.explicit &&
            ctx.trans.db._options.cache !== 'disabled' &&
            !table.schema.primaryKey.outbound);
    }

    function isCachableRequest(type, req) {
        switch (type) {
            case 'query':
                return req.values && !req.unique;
            case 'get':
                return false;
            case 'getMany':
                return false;
            case 'count':
                return false;
            case 'openCursor':
                return false;
        }
    }

    var observabilityMiddleware = {
        stack: "dbcore",
        level: 0,
        name: "Observability",
        create: function (core) {
            var dbName = core.schema.name;
            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);
            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    if (PSD.subscr && mode !== 'readonly') {
                        throw new exceptions.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(PSD.querier));
                    }
                    return core.transaction(stores, mode, options);
                }, table: function (tableName) {
                    var table = core.table(tableName);
                    var schema = table.schema;
                    var primaryKey = schema.primaryKey, indexes = schema.indexes;
                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;
                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });
                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {
                            var _a, _b;
                            var trans = req.trans;
                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});
                            var getRangeSet = function (indexName) {
                                var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                return (mutatedParts[part] ||
                                    (mutatedParts[part] = new RangeSet()));
                            };
                            var pkRangeSet = getRangeSet("");
                            var delsRangeSet = getRangeSet(":dels");
                            var type = req.type;
                            var _c = req.type === "deleteRange"
                                ? [req.range]
                                : req.type === "delete"
                                    ? [req.keys]
                                    : req.values.length < 50
                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]
                                        : [], keys = _c[0], newObjs = _c[1];
                            var oldCache = req.trans["_cache"];
                            if (isArray(keys)) {
                                pkRangeSet.addKeys(keys);
                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;
                                if (!oldObjs) {
                                    delsRangeSet.addKeys(keys);
                                }
                                if (oldObjs || newObjs) {
                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);
                                }
                            }
                            else if (keys) {
                                var range = {
                                    from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,
                                    to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY
                                };
                                delsRangeSet.add(range);
                                pkRangeSet.add(range);
                            }
                            else {
                                pkRangeSet.add(FULL_RANGE);
                                delsRangeSet.add(FULL_RANGE);
                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });
                            }
                            return table.mutate(req).then(function (res) {
                                if (keys && (req.type === 'add' || req.type === 'put')) {
                                    pkRangeSet.addKeys(res.results);
                                    if (indexesWithAutoIncPK) {
                                        indexesWithAutoIncPK.forEach(function (idx) {
                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });
                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });
                                            for (var i = 0, len = res.results.length; i < len; ++i) {
                                                idxVals[i][pkPos] = res.results[i];
                                            }
                                            getRangeSet(idx.name).addKeys(idxVals);
                                        });
                                    }
                                }
                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);
                                return res;
                            });
                        } });
                    var getRange = function (_a) {
                        var _b, _c;
                        var _d = _a.query, index = _d.index, range = _d.range;
                        return [
                            index,
                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),
                        ];
                    };
                    var readSubscribers = {
                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },
                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },
                        count: getRange,
                        query: getRange,
                        openCursor: getRange,
                    };
                    keys(readSubscribers).forEach(function (method) {
                        tableClone[method] = function (req) {
                            var subscr = PSD.subscr;
                            var isLiveQuery = !!subscr;
                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);
                            var obsSet = cachable
                                ? req.obsSet = {}
                                : subscr;
                            if (isLiveQuery) {
                                var getRangeSet = function (indexName) {
                                    var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                    return (obsSet[part] ||
                                        (obsSet[part] = new RangeSet()));
                                };
                                var pkRangeSet_1 = getRangeSet("");
                                var delsRangeSet_1 = getRangeSet(":dels");
                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];
                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {
                                    delsRangeSet_1.add(queriedRanges);
                                }
                                else {
                                    getRangeSet(queriedIndex.name || "").add(queriedRanges);
                                }
                                if (!queriedIndex.isPrimaryKey) {
                                    if (method === "count") {
                                        delsRangeSet_1.add(FULL_RANGE);
                                    }
                                    else {
                                        var keysPromise_1 = method === "query" &&
                                            outbound &&
                                            req.values &&
                                            table.query(__assign(__assign({}, req), { values: false }));
                                        return table[method].apply(this, arguments).then(function (res) {
                                            if (method === "query") {
                                                if (outbound && req.values) {
                                                    return keysPromise_1.then(function (_a) {
                                                        var resultingKeys = _a.result;
                                                        pkRangeSet_1.addKeys(resultingKeys);
                                                        return res;
                                                    });
                                                }
                                                var pKeys = req.values
                                                    ? res.result.map(extractKey)
                                                    : res.result;
                                                if (req.values) {
                                                    pkRangeSet_1.addKeys(pKeys);
                                                }
                                                else {
                                                    delsRangeSet_1.addKeys(pKeys);
                                                }
                                            }
                                            else if (method === "openCursor") {
                                                var cursor_1 = res;
                                                var wantValues_1 = req.values;
                                                return (cursor_1 &&
                                                    Object.create(cursor_1, {
                                                        key: {
                                                            get: function () {
                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.key;
                                                            },
                                                        },
                                                        primaryKey: {
                                                            get: function () {
                                                                var pkey = cursor_1.primaryKey;
                                                                delsRangeSet_1.addKey(pkey);
                                                                return pkey;
                                                            },
                                                        },
                                                        value: {
                                                            get: function () {
                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.value;
                                                            },
                                                        },
                                                    }));
                                            }
                                            return res;
                                        });
                                    }
                                }
                            }
                            return table[method].apply(this, arguments);
                        };
                    });
                    return tableClone;
                } });
        },
    };
    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {
        function addAffectedIndex(ix) {
            var rangeSet = getRangeSet(ix.name || "");
            function extractKey(obj) {
                return obj != null ? ix.extractKey(obj) : null;
            }
            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)
                ? key.forEach(function (key) { return rangeSet.addKey(key); })
                : rangeSet.addKey(key); };
            (oldObjs || newObjs).forEach(function (_, i) {
                var oldKey = oldObjs && extractKey(oldObjs[i]);
                var newKey = newObjs && extractKey(newObjs[i]);
                if (cmp(oldKey, newKey) !== 0) {
                    if (oldKey != null)
                        addKeyOrKeys(oldKey);
                    if (newKey != null)
                        addKeyOrKeys(newKey);
                }
            });
        }
        schema.indexes.forEach(addAffectedIndex);
    }

    function adjustOptimisticFromFailures(tblCache, req, res) {
        if (res.numFailures === 0)
            return req;
        if (req.type === 'deleteRange') {
            return null;
        }
        var numBulkOps = req.keys
            ? req.keys.length
            : 'values' in req && req.values
                ? req.values.length
                : 1;
        if (res.numFailures === numBulkOps) {
            return null;
        }
        var clone = __assign({}, req);
        if (isArray(clone.keys)) {
            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });
        }
        if ('values' in clone && isArray(clone.values)) {
            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });
        }
        return clone;
    }

    function isAboveLower(key, range) {
        return range.lower === undefined
            ? true
            : range.lowerOpen
                ? cmp(key, range.lower) > 0
                : cmp(key, range.lower) >= 0;
    }
    function isBelowUpper(key, range) {
        return range.upper === undefined
            ? true
            : range.upperOpen
                ? cmp(key, range.upper) < 0
                : cmp(key, range.upper) <= 0;
    }
    function isWithinRange(key, range) {
        return isAboveLower(key, range) && isBelowUpper(key, range);
    }

    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {
        if (!ops || ops.length === 0)
            return result;
        var index = req.query.index;
        var multiEntry = index.multiEntry;
        var queryRange = req.query.range;
        var primaryKey = table.schema.primaryKey;
        var extractPrimKey = primaryKey.extractKey;
        var extractIndex = index.extractKey;
        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;
        var finalResult = ops.reduce(function (result, op) {
            var modifedResult = result;
            var includedValues = [];
            if (op.type === 'add' || op.type === 'put') {
                var includedPKs = new RangeSet();
                for (var i = op.values.length - 1; i >= 0; --i) {
                    var value = op.values[i];
                    var pk = extractPrimKey(value);
                    if (includedPKs.hasKey(pk))
                        continue;
                    var key = extractIndex(value);
                    if (multiEntry && isArray(key)
                        ? key.some(function (k) { return isWithinRange(k, queryRange); })
                        : isWithinRange(key, queryRange)) {
                        includedPKs.addKey(pk);
                        includedValues.push(value);
                    }
                }
            }
            switch (op.type) {
                case 'add': {
                    var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) { return extractPrimKey(v); }) : result);
                    modifedResult = result.concat(req.values
                        ? includedValues.filter(function (v) {
                            var key = extractPrimKey(v);
                            if (existingKeys_1.hasKey(key))
                                return false;
                            existingKeys_1.addKey(key);
                            return true;
                        })
                        : includedValues
                            .map(function (v) { return extractPrimKey(v); })
                            .filter(function (k) {
                            if (existingKeys_1.hasKey(k))
                                return false;
                            existingKeys_1.addKey(k);
                            return true;
                        }));
                    break;
                }
                case 'put': {
                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));
                    modifedResult = result
                        .filter(
                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })
                        .concat(
                    req.values
                        ? includedValues
                        : includedValues.map(function (v) { return extractPrimKey(v); }));
                    break;
                }
                case 'delete':
                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);
                    modifedResult = result.filter(function (item) {
                        return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);
                    });
                    break;
                case 'deleteRange':
                    var range_1 = op.range;
                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });
                    break;
            }
            return modifedResult;
        }, result);
        if (finalResult === result)
            return result;
        finalResult.sort(function (a, b) {
            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||
                cmp(extractPrimKey(a), extractPrimKey(b));
        });
        if (req.limit && req.limit < Infinity) {
            if (finalResult.length > req.limit) {
                finalResult.length = req.limit;
            }
            else if (result.length === req.limit && finalResult.length < req.limit) {
                cacheEntry.dirty = true;
            }
        }
        return immutable ? Object.freeze(finalResult) : finalResult;
    }

    function areRangesEqual(r1, r2) {
        return (cmp(r1.lower, r2.lower) === 0 &&
            cmp(r1.upper, r2.upper) === 0 &&
            !!r1.lowerOpen === !!r2.lowerOpen &&
            !!r1.upperOpen === !!r2.upperOpen);
    }

    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {
        if (lower1 === undefined)
            return lower2 !== undefined ? -1 : 0;
        if (lower2 === undefined)
            return 1;
        var c = cmp(lower1, lower2);
        if (c === 0) {
            if (lowerOpen1 && lowerOpen2)
                return 0;
            if (lowerOpen1)
                return 1;
            if (lowerOpen2)
                return -1;
        }
        return c;
    }
    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {
        if (upper1 === undefined)
            return upper2 !== undefined ? 1 : 0;
        if (upper2 === undefined)
            return -1;
        var c = cmp(upper1, upper2);
        if (c === 0) {
            if (upperOpen1 && upperOpen2)
                return 0;
            if (upperOpen1)
                return -1;
            if (upperOpen2)
                return 1;
        }
        return c;
    }
    function isSuperRange(r1, r2) {
        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&
            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);
    }

    function findCompatibleQuery(dbName, tableName, type, req) {
        var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
        if (!tblCache)
            return [];
        var queries = tblCache.queries[type];
        if (!queries)
            return [null, false, tblCache, null];
        var indexName = req.query ? req.query.index.name : null;
        var entries = queries[indexName || ''];
        if (!entries)
            return [null, false, tblCache, null];
        switch (type) {
            case 'query':
                var equalEntry = entries.find(function (entry) {
                    return entry.req.limit === req.limit &&
                        entry.req.values === req.values &&
                        areRangesEqual(entry.req.query.range, req.query.range);
                });
                if (equalEntry)
                    return [
                        equalEntry,
                        true,
                        tblCache,
                        entries,
                    ];
                var superEntry = entries.find(function (entry) {
                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;
                    return (limit >= req.limit &&
                        (req.values ? entry.req.values : true) &&
                        isSuperRange(entry.req.query.range, req.query.range));
                });
                return [superEntry, false, tblCache, entries];
            case 'count':
                var countQuery = entries.find(function (entry) {
                    return areRangesEqual(entry.req.query.range, req.query.range);
                });
                return [countQuery, !!countQuery, tblCache, entries];
        }
    }

    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {
        cacheEntry.subscribers.add(requery);
        signal.addEventListener("abort", function () {
            cacheEntry.subscribers.delete(requery);
            if (cacheEntry.subscribers.size === 0) {
                enqueForDeletion(cacheEntry, container);
            }
        });
    }
    function enqueForDeletion(cacheEntry, container) {
        setTimeout(function () {
            if (cacheEntry.subscribers.size === 0) {
                delArrayItem(container, cacheEntry);
            }
        }, 3000);
    }

    var cacheMiddleware = {
        stack: 'dbcore',
        level: 0,
        name: 'Cache',
        create: function (core) {
            var dbName = core.schema.name;
            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    var idbtrans = core.transaction(stores, mode, options);
                    if (mode === 'readwrite') {
                        var ac_1 = new AbortController();
                        var signal = ac_1.signal;
                        var endTransaction = function (wasCommitted) { return function () {
                            ac_1.abort();
                            if (mode === 'readwrite') {
                                var affectedSubscribers_1 = new Set();
                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {
                                    var storeName = stores_1[_i];
                                    var tblCache = cache["idb://".concat(dbName, "/").concat(storeName)];
                                    if (tblCache) {
                                        var table = core.table(storeName);
                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });
                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {
                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {
                                                var entries = _b[_a];
                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {
                                                    var entry = _d[_c];
                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {
                                                        delArrayItem(entries, entry);
                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                    }
                                                }
                                            }
                                        }
                                        else if (ops.length > 0) {
                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });
                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {
                                                var entries = _f[_e];
                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {
                                                    var entry = _h[_g];
                                                    if (entry.res != null &&
                                                        idbtrans.mutatedParts
    ) {
                                                        if (wasCommitted && !entry.dirty) {
                                                            var freezeResults = Object.isFrozen(entry.res);
                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                            }
                                                            else if (modRes !== entry.res) {
                                                                entry.res = modRes;
                                                                entry.promise = DexiePromise.resolve({ result: modRes });
                                                            }
                                                        }
                                                        else {
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                            }
                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                affectedSubscribers_1.forEach(function (requery) { return requery(); });
                            }
                        }; };
                        idbtrans.addEventListener('abort', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('error', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('complete', endTransaction(true), {
                            signal: signal,
                        });
                    }
                    return idbtrans;
                }, table: function (tableName) {
                    var downTable = core.table(tableName);
                    var primKey = downTable.schema.primaryKey;
                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {
                            var trans = PSD.trans;
                            if (primKey.outbound ||
                                trans.db._options.cache === 'disabled' ||
                                trans.explicit ||
                                trans.idbtrans.mode !== 'readwrite'
                            ) {
                                return downTable.mutate(req);
                            }
                            var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                            if (!tblCache)
                                return downTable.mutate(req);
                            var promise = downTable.mutate(req);
                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {
                                promise.then(function (res) {
                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {
                                            var _a;
                                            if (res.failures[i])
                                                return value;
                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))
                                                ? deepClone(value)
                                                : __assign({}, value);
                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);
                                            return valueWithKey;
                                        }) });
                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);
                                    tblCache.optimisticOps.push(adjustedReq);
                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });
                                });
                            }
                            else {
                                tblCache.optimisticOps.push(req);
                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                promise.then(function (res) {
                                    if (res.numFailures > 0) {
                                        delArrayItem(tblCache.optimisticOps, req);
                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);
                                        if (adjustedReq) {
                                            tblCache.optimisticOps.push(adjustedReq);
                                        }
                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                    }
                                });
                                promise.catch(function () {
                                    delArrayItem(tblCache.optimisticOps, req);
                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                });
                            }
                            return promise;
                        }, query: function (req) {
                            var _a;
                            if (!isCachableContext(PSD, downTable) || !isCachableRequest("query", req))
                                return downTable.query(req);
                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';
                            var _b = PSD, requery = _b.requery, signal = _b.signal;
                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];
                            if (cacheEntry && exactMatch) {
                                cacheEntry.obsSet = req.obsSet;
                            }
                            else {
                                var promise = downTable.query(req).then(function (res) {
                                    var result = res.result;
                                    if (cacheEntry)
                                        cacheEntry.res = result;
                                    if (freezeResults) {
                                        for (var i = 0, l = result.length; i < l; ++i) {
                                            Object.freeze(result[i]);
                                        }
                                        Object.freeze(result);
                                    }
                                    else {
                                        res.result = deepClone(result);
                                    }
                                    return res;
                                }).catch(function (error) {
                                    if (container && cacheEntry)
                                        delArrayItem(container, cacheEntry);
                                    return Promise.reject(error);
                                });
                                cacheEntry = {
                                    obsSet: req.obsSet,
                                    promise: promise,
                                    subscribers: new Set(),
                                    type: 'query',
                                    req: req,
                                    dirty: false,
                                };
                                if (container) {
                                    container.push(cacheEntry);
                                }
                                else {
                                    container = [cacheEntry];
                                    if (!tblCache) {
                                        tblCache = cache["idb://".concat(dbName, "/").concat(tableName)] = {
                                            queries: {
                                                query: {},
                                                count: {},
                                            },
                                            objs: new Map(),
                                            optimisticOps: [],
                                            unsignaledParts: {}
                                        };
                                    }
                                    tblCache.queries.query[req.query.index.name || ''] = container;
                                }
                            }
                            subscribeToCacheEntry(cacheEntry, container, requery, signal);
                            return cacheEntry.promise.then(function (res) {
                                return {
                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),
                                };
                            });
                        } });
                    return tableMW;
                } });
            return coreMW;
        },
    };

    function vipify(target, vipDb) {
        return new Proxy(target, {
            get: function (target, prop, receiver) {
                if (prop === 'db')
                    return vipDb;
                return Reflect.get(target, prop, receiver);
            }
        });
    }

    var Dexie$1 =  (function () {
        function Dexie(name, options) {
            var _this = this;
            this._middlewares = {};
            this.verno = 0;
            var deps = Dexie.dependencies;
            this._options = options = __assign({
                addons: Dexie.addons, autoOpen: true,
                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);
            this._deps = {
                indexedDB: options.indexedDB,
                IDBKeyRange: options.IDBKeyRange
            };
            var addons = options.addons;
            this._dbSchema = {};
            this._versions = [];
            this._storeNames = [];
            this._allTables = {};
            this.idbdb = null;
            this._novip = this;
            var state = {
                dbOpenError: null,
                isBeingOpened: false,
                onReadyBeingFired: null,
                openComplete: false,
                dbReadyResolve: nop,
                dbReadyPromise: null,
                cancelOpen: nop,
                openCanceller: null,
                autoSchema: true,
                PR1398_maxLoop: 3,
                autoOpen: options.autoOpen,
            };
            state.dbReadyPromise = new DexiePromise(function (resolve) {
                state.dbReadyResolve = resolve;
            });
            state.openCanceller = new DexiePromise(function (_, reject) {
                state.cancelOpen = reject;
            });
            this._state = state;
            this.name = name;
            this.on = Events(this, "populate", "blocked", "versionchange", "close", { ready: [promisableChain, nop] });
            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {
                return function (subscriber, bSticky) {
                    Dexie.vip(function () {
                        var state = _this._state;
                        if (state.openComplete) {
                            if (!state.dbOpenError)
                                DexiePromise.resolve().then(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else if (state.onReadyBeingFired) {
                            state.onReadyBeingFired.push(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else {
                            subscribe(subscriber);
                            var db_1 = _this;
                            if (!bSticky)
                                subscribe(function unsubscribe() {
                                    db_1.on.ready.unsubscribe(subscriber);
                                    db_1.on.ready.unsubscribe(unsubscribe);
                                });
                        }
                    });
                };
            });
            this.Collection = createCollectionConstructor(this);
            this.Table = createTableConstructor(this);
            this.Transaction = createTransactionConstructor(this);
            this.Version = createVersionConstructor(this);
            this.WhereClause = createWhereClauseConstructor(this);
            this.on("versionchange", function (ev) {
                if (ev.newVersion > 0)
                    console.warn("Another connection wants to upgrade database '".concat(_this.name, "'. Closing db now to resume the upgrade."));
                else
                    console.warn("Another connection wants to delete database '".concat(_this.name, "'. Closing db now to resume the delete request."));
                _this.close({ disableAutoOpen: false });
            });
            this.on("blocked", function (ev) {
                if (!ev.newVersion || ev.newVersion < ev.oldVersion)
                    console.warn("Dexie.delete('".concat(_this.name, "') was blocked"));
                else
                    console.warn("Upgrade '".concat(_this.name, "' blocked by other connection holding version ").concat(ev.oldVersion / 10));
            });
            this._maxKey = getMaxKey(options.IDBKeyRange);
            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };
            this._fireOnBlocked = function (ev) {
                _this.on("blocked").fire(ev);
                connections
                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })
                    .map(function (c) { return c.on("versionchange").fire(ev); });
            };
            this.use(cacheExistingValuesMiddleware);
            this.use(cacheMiddleware);
            this.use(observabilityMiddleware);
            this.use(virtualIndexMiddleware);
            this.use(hooksMiddleware);
            var vipDB = new Proxy(this, {
                get: function (_, prop, receiver) {
                    if (prop === '_vip')
                        return true;
                    if (prop === 'table')
                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };
                    var rv = Reflect.get(_, prop, receiver);
                    if (rv instanceof Table)
                        return vipify(rv, vipDB);
                    if (prop === 'tables')
                        return rv.map(function (t) { return vipify(t, vipDB); });
                    if (prop === '_createTransaction')
                        return function () {
                            var tx = rv.apply(this, arguments);
                            return vipify(tx, vipDB);
                        };
                    return rv;
                }
            });
            this.vip = vipDB;
            addons.forEach(function (addon) { return addon(_this); });
        }
        Dexie.prototype.version = function (versionNumber) {
            if (isNaN(versionNumber) || versionNumber < 0.1)
                throw new exceptions.Type("Given version is not a positive number");
            versionNumber = Math.round(versionNumber * 10) / 10;
            if (this.idbdb || this._state.isBeingOpened)
                throw new exceptions.Schema("Cannot add version when database is open");
            this.verno = Math.max(this.verno, versionNumber);
            var versions = this._versions;
            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];
            if (versionInstance)
                return versionInstance;
            versionInstance = new this.Version(versionNumber);
            versions.push(versionInstance);
            versions.sort(lowerVersionFirst);
            versionInstance.stores({});
            this._state.autoSchema = false;
            return versionInstance;
        };
        Dexie.prototype._whenReady = function (fn) {
            var _this = this;
            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {
                if (_this._state.openComplete) {
                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));
                }
                if (!_this._state.isBeingOpened) {
                    if (!_this._state.autoOpen) {
                        reject(new exceptions.DatabaseClosed());
                        return;
                    }
                    _this.open().catch(nop);
                }
                _this._state.dbReadyPromise.then(resolve, reject);
            }).then(fn);
        };
        Dexie.prototype.use = function (_a) {
            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;
            if (name)
                this.unuse({ stack: stack, name: name });
            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);
            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });
            middlewares.sort(function (a, b) { return a.level - b.level; });
            return this;
        };
        Dexie.prototype.unuse = function (_a) {
            var stack = _a.stack, name = _a.name, create = _a.create;
            if (stack && this._middlewares[stack]) {
                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {
                    return create ? mw.create !== create :
                        name ? mw.name !== name :
                            false;
                });
            }
            return this;
        };
        Dexie.prototype.open = function () {
            var _this = this;
            return usePSD(globalPSD,
            function () { return dexieOpen(_this); });
        };
        Dexie.prototype._close = function () {
            var state = this._state;
            var idx = connections.indexOf(this);
            if (idx >= 0)
                connections.splice(idx, 1);
            if (this.idbdb) {
                try {
                    this.idbdb.close();
                }
                catch (e) { }
                this.idbdb = null;
            }
            if (!state.isBeingOpened) {
                state.dbReadyPromise = new DexiePromise(function (resolve) {
                    state.dbReadyResolve = resolve;
                });
                state.openCanceller = new DexiePromise(function (_, reject) {
                    state.cancelOpen = reject;
                });
            }
        };
        Dexie.prototype.close = function (_a) {
            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;
            var state = this._state;
            if (disableAutoOpen) {
                if (state.isBeingOpened) {
                    state.cancelOpen(new exceptions.DatabaseClosed());
                }
                this._close();
                state.autoOpen = false;
                state.dbOpenError = new exceptions.DatabaseClosed();
            }
            else {
                this._close();
                state.autoOpen = this._options.autoOpen ||
                    state.isBeingOpened;
                state.openComplete = false;
                state.dbOpenError = null;
            }
        };
        Dexie.prototype.delete = function (closeOptions) {
            var _this = this;
            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }
            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';
            var state = this._state;
            return new DexiePromise(function (resolve, reject) {
                var doDelete = function () {
                    _this.close(closeOptions);
                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);
                    req.onsuccess = wrap(function () {
                        _onDatabaseDeleted(_this._deps, _this.name);
                        resolve();
                    });
                    req.onerror = eventRejectHandler(reject);
                    req.onblocked = _this._fireOnBlocked;
                };
                if (hasInvalidArguments)
                    throw new exceptions.InvalidArgument("Invalid closeOptions argument to db.delete()");
                if (state.isBeingOpened) {
                    state.dbReadyPromise.then(doDelete);
                }
                else {
                    doDelete();
                }
            });
        };
        Dexie.prototype.backendDB = function () {
            return this.idbdb;
        };
        Dexie.prototype.isOpen = function () {
            return this.idbdb !== null;
        };
        Dexie.prototype.hasBeenClosed = function () {
            var dbOpenError = this._state.dbOpenError;
            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');
        };
        Dexie.prototype.hasFailed = function () {
            return this._state.dbOpenError !== null;
        };
        Dexie.prototype.dynamicallyOpened = function () {
            return this._state.autoSchema;
        };
        Object.defineProperty(Dexie.prototype, "tables", {
            get: function () {
                var _this = this;
                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });
            },
            enumerable: false,
            configurable: true
        });
        Dexie.prototype.transaction = function () {
            var args = extractTransactionArgs.apply(this, arguments);
            return this._transaction.apply(this, args);
        };
        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {
            var _this = this;
            var parentTransaction = PSD.trans;
            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)
                parentTransaction = null;
            var onlyIfCompatible = mode.indexOf('?') !== -1;
            mode = mode.replace('!', '').replace('?', '');
            var idbMode, storeNames;
            try {
                storeNames = tables.map(function (table) {
                    var storeName = table instanceof _this.Table ? table.name : table;
                    if (typeof storeName !== 'string')
                        throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");
                    return storeName;
                });
                if (mode == "r" || mode === READONLY)
                    idbMode = READONLY;
                else if (mode == "rw" || mode == READWRITE)
                    idbMode = READWRITE;
                else
                    throw new exceptions.InvalidArgument("Invalid transaction mode: " + mode);
                if (parentTransaction) {
                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {
                        if (onlyIfCompatible) {
                            parentTransaction = null;
                        }
                        else
                            throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
                    }
                    if (parentTransaction) {
                        storeNames.forEach(function (storeName) {
                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {
                                if (onlyIfCompatible) {
                                    parentTransaction = null;
                                }
                                else
                                    throw new exceptions.SubTransaction("Table " + storeName +
                                        " not included in parent transaction.");
                            }
                        });
                    }
                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {
                        parentTransaction = null;
                    }
                }
            }
            catch (e) {
                return parentTransaction ?
                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :
                    rejection(e);
            }
            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);
            return (parentTransaction ?
                parentTransaction._promise(idbMode, enterTransaction, "lock") :
                PSD.trans ?
                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :
                    this._whenReady(enterTransaction));
        };
        Dexie.prototype.table = function (tableName) {
            if (!hasOwn(this._allTables, tableName)) {
                throw new exceptions.InvalidTable("Table ".concat(tableName, " does not exist"));
            }
            return this._allTables[tableName];
        };
        return Dexie;
    }());

    var symbolObservable = typeof Symbol !== "undefined" && "observable" in Symbol
        ? Symbol.observable
        : "@@observable";
    var Observable =  (function () {
        function Observable(subscribe) {
            this._subscribe = subscribe;
        }
        Observable.prototype.subscribe = function (x, error, complete) {
            return this._subscribe(!x || typeof x === "function" ? { next: x, error: error, complete: complete } : x);
        };
        Observable.prototype[symbolObservable] = function () {
            return this;
        };
        return Observable;
    }());

    var domDeps;
    try {
        domDeps = {
            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,
            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange
        };
    }
    catch (e) {
        domDeps = { indexedDB: null, IDBKeyRange: null };
    }

    function liveQuery(querier) {
        var hasValue = false;
        var currentValue;
        var observable = new Observable(function (observer) {
            var scopeFuncIsAsync = isAsyncFunction(querier);
            function execute(ctx) {
                var wasRootExec = beginMicroTickScope();
                try {
                    if (scopeFuncIsAsync) {
                        incrementExpectedAwaits();
                    }
                    var rv = newScope(querier, ctx);
                    if (scopeFuncIsAsync) {
                        rv = rv.finally(decrementExpectedAwaits);
                    }
                    return rv;
                }
                finally {
                    wasRootExec && endMicroTickScope();
                }
            }
            var closed = false;
            var abortController;
            var accumMuts = {};
            var currentObs = {};
            var subscription = {
                get closed() {
                    return closed;
                },
                unsubscribe: function () {
                    if (closed)
                        return;
                    closed = true;
                    if (abortController)
                        abortController.abort();
                    if (startedListening)
                        globalEvents.storagemutated.unsubscribe(mutationListener);
                },
            };
            observer.start && observer.start(subscription);
            var startedListening = false;
            var doQuery = function () { return execInGlobalContext(_doQuery); };
            function shouldNotify() {
                return obsSetsOverlap(currentObs, accumMuts);
            }
            var mutationListener = function (parts) {
                extendObservabilitySet(accumMuts, parts);
                if (shouldNotify()) {
                    doQuery();
                }
            };
            var _doQuery = function () {
                if (closed ||
                    !domDeps.indexedDB)
                 {
                    return;
                }
                accumMuts = {};
                var subscr = {};
                if (abortController)
                    abortController.abort();
                abortController = new AbortController();
                var ctx = {
                    subscr: subscr,
                    signal: abortController.signal,
                    requery: doQuery,
                    querier: querier,
                    trans: null
                };
                var ret = execute(ctx);
                Promise.resolve(ret).then(function (result) {
                    hasValue = true;
                    currentValue = result;
                    if (closed || ctx.signal.aborted) {
                        return;
                    }
                    accumMuts = {};
                    currentObs = subscr;
                    if (!objectIsEmpty(currentObs) && !startedListening) {
                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);
                        startedListening = true;
                    }
                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });
                }, function (err) {
                    hasValue = false;
                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {
                        if (!closed)
                            execInGlobalContext(function () {
                                if (closed)
                                    return;
                                observer.error && observer.error(err);
                            });
                    }
                });
            };
            setTimeout(doQuery, 0);
            return subscription;
        });
        observable.hasValue = function () { return hasValue; };
        observable.getValue = function () { return currentValue; };
        return observable;
    }

    var Dexie = Dexie$1;
    props(Dexie, __assign(__assign({}, fullNameExceptions), {
        delete: function (databaseName) {
            var db = new Dexie(databaseName, { addons: [] });
            return db.delete();
        },
        exists: function (name) {
            return new Dexie(name, { addons: [] }).open().then(function (db) {
                db.close();
                return true;
            }).catch('NoSuchDatabaseError', function () { return false; });
        },
        getDatabaseNames: function (cb) {
            try {
                return getDatabaseNames(Dexie.dependencies).then(cb);
            }
            catch (_a) {
                return rejection(new exceptions.MissingAPI());
            }
        },
        defineClass: function () {
            function Class(content) {
                extend(this, content);
            }
            return Class;
        }, ignoreTransaction: function (scopeFunc) {
            return PSD.trans ?
                usePSD(PSD.transless, scopeFunc) :
                scopeFunc();
        }, vip: vip, async: function (generatorFn) {
            return function () {
                try {
                    var rv = awaitIterator(generatorFn.apply(this, arguments));
                    if (!rv || typeof rv.then !== 'function')
                        return DexiePromise.resolve(rv);
                    return rv;
                }
                catch (e) {
                    return rejection(e);
                }
            };
        }, spawn: function (generatorFn, args, thiz) {
            try {
                var rv = awaitIterator(generatorFn.apply(thiz, args || []));
                if (!rv || typeof rv.then !== 'function')
                    return DexiePromise.resolve(rv);
                return rv;
            }
            catch (e) {
                return rejection(e);
            }
        },
        currentTransaction: {
            get: function () { return PSD.trans || null; }
        }, waitFor: function (promiseOrFunction, optionalTimeout) {
            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?
                Dexie.ignoreTransaction(promiseOrFunction) :
                promiseOrFunction)
                .timeout(optionalTimeout || 60000);
            return PSD.trans ?
                PSD.trans.waitFor(promise) :
                promise;
        },
        Promise: DexiePromise,
        debug: {
            get: function () { return debug; },
            set: function (value) {
                setDebug(value);
            }
        },
        derive: derive, extend: extend, props: props, override: override,
        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,
        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,
        minKey: minKey,
        addons: [],
        connections: connections,
        errnames: errnames,
        dependencies: domDeps, cache: cache,
        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')
            .map(function (n) { return parseInt(n); })
            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));
    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);

    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {
            if (!propagatingLocally) {
                var event_1;
                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {
                    detail: updatedParts
                });
                propagatingLocally = true;
                dispatchEvent(event_1);
                propagatingLocally = false;
            }
        });
        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {
            var detail = _a.detail;
            if (!propagatingLocally) {
                propagateLocally(detail);
            }
        });
    }
    function propagateLocally(updateParts) {
        var wasMe = propagatingLocally;
        try {
            propagatingLocally = true;
            globalEvents.storagemutated.fire(updateParts);
            signalSubscribersNow(updateParts, true);
        }
        finally {
            propagatingLocally = wasMe;
        }
    }
    var propagatingLocally = false;

    var bc;
    var createBC = function () { };
    if (typeof BroadcastChannel !== 'undefined') {
        createBC = function () {
            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);
            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };
        };
        createBC();
        if (typeof bc.unref === 'function') {
            bc.unref();
        }
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {
            if (!propagatingLocally) {
                bc.postMessage(changedParts);
            }
        });
    }

    if (typeof addEventListener !== 'undefined') {
        addEventListener('pagehide', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pagehide');
                bc === null || bc === void 0 ? void 0 : bc.close();
                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {
                    var db = connections_1[_i];
                    db.close({ disableAutoOpen: false });
                }
            }
        });
        addEventListener('pageshow', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pageshow');
                createBC();
                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });
            }
        });
    }

    function add(value) {
        return new PropModification({ add: value });
    }

    function remove(value) {
        return new PropModification({ remove: value });
    }

    function replacePrefix(a, b) {
        return new PropModification({ replacePrefix: [a, b] });
    }

    DexiePromise.rejectionMapper = mapError;
    setDebug(debug);

    var namedExports = /*#__PURE__*/Object.freeze({
        __proto__: null,
        Dexie: Dexie$1,
        liveQuery: liveQuery,
        Entity: Entity,
        cmp: cmp,
        PropModification: PropModification,
        replacePrefix: replacePrefix,
        add: add,
        remove: remove,
        'default': Dexie$1,
        RangeSet: RangeSet,
        mergeRanges: mergeRanges,
        rangesOverlap: rangesOverlap
    });

    __assign(Dexie$1, namedExports, { default: Dexie$1 });

    return Dexie$1;

}));
//# sourceMappingURL=dexie.js.map


/***/ }),

/***/ "../../node_modules/dexie/import-wrapper.mjs":
/*!***************************************************!*\
  !*** ../../node_modules/dexie/import-wrapper.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dexie: () => (/* binding */ Dexie),
/* harmony export */   Entity: () => (/* binding */ Entity),
/* harmony export */   PropModification: () => (/* binding */ PropModification),
/* harmony export */   RangeSet: () => (/* binding */ RangeSet),
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   cmp: () => (/* binding */ cmp),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   liveQuery: () => (/* binding */ liveQuery),
/* harmony export */   mergeRanges: () => (/* binding */ mergeRanges),
/* harmony export */   rangesOverlap: () => (/* binding */ rangesOverlap),
/* harmony export */   remove: () => (/* binding */ remove),
/* harmony export */   replacePrefix: () => (/* binding */ replacePrefix)
/* harmony export */ });
/* harmony import */ var _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/dexie.js */ "../../node_modules/dexie/dist/dexie.js");
// Making the module version consumable via require - to prohibit
// multiple occurrancies of the same module in the same app
// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)

const DexieSymbol = Symbol.for("Dexie");
const Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__);
if (_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer !== Dexie.semVer) {
    throw new Error(`Two different versions of Dexie loaded in the same app: ${_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer} and ${Dexie.semVer}`);
}
const { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity,
    PropModification, replacePrefix, add, remove } = Dexie;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dexie);


/***/ }),

/***/ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! void-elements */ "../../node_modules/void-elements/index.js");
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(void_elements__WEBPACK_IMPORTED_MODULE_0__);
var t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n(n){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=n.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],((void_elements__WEBPACK_IMPORTED_MODULE_0___default())[i[1]]||"/"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=n.indexOf("--\x3e");return{type:"comment",comment:-1!==s?n.slice(4,s):""}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf("<")){var u=e.indexOf("<");c.push({type:"text",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!=="</"+a.name+">")return;m=!1}var u,f="/"!==r.charAt(1),h=r.startsWith("\x3c!--"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,"tag"===(a=n(r)).type&&t.components[a.name]&&(a.type="component",m=!0),a.voidElement||m||!d||"<"===d||a.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&"<"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf("<",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=" "),(x>-1&&l+u.length>=0||" "!==g)&&u.push({type:"text",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a("",t)},"")}};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (c);
//# sourceMappingURL=html-parse-stringify.module.js.map


/***/ }),

/***/ "../../node_modules/i18next/dist/cjs/i18next.js":
/*!******************************************************!*\
  !*** ../../node_modules/i18next/dist/cjs/i18next.js ***!
  \******************************************************/
/***/ ((module) => {

"use strict";


const isString = obj => typeof obj === 'string';
const defer = () => {
  let res;
  let rej;
  const promise = new Promise((resolve, reject) => {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
};
const makeString = object => {
  if (object == null) return '';
  return '' + object;
};
const copy = (a, s, t) => {
  a.forEach(m => {
    if (s[m]) t[m] = s[m];
  });
};
const lastOfPathSeparatorRegExp = /###/g;
const cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;
const canNotTraverseDeeper = object => !object || isString(object);
const getLastOfPath = (object, path, Empty) => {
  const stack = !isString(path) ? path : path.split('.');
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper(object)) return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty) object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper(object)) return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
};
const setPath = (object, path, newValue) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== undefined || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === undefined && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {
      last.obj = undefined;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
};
const pushPath = (object, path, newValue, concat) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  obj[k].push(newValue);
};
const getPath = (object, path) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj) return undefined;
  return obj[k];
};
const getPathWithDefaults = (data, defaultData, key) => {
  const value = getPath(data, key);
  if (value !== undefined) {
    return value;
  }
  return getPath(defaultData, key);
};
const deepExtend = (target, source, overwrite) => {
  for (const prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
};
const regexEscape = str => str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
const escape = data => {
  if (isString(data)) {
    return data.replace(/[&<>"'\/]/g, s => _entityMap[s]);
  }
  return data;
};
class RegExpCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== undefined) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
}
const chars = [' ', ',', '?', '!', ';'];
const looksLikeObjectPathRegExpCache = new RegExpCache(20);
const looksLikeObjectPath = (key, nsSeparator, keySeparator) => {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0) return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\?' : c).join('|')})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
};
const deepFind = function (obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length;) {
    if (!current || typeof current !== 'object') {
      return undefined;
    }
    let next;
    let nextPath = '';
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== undefined) {
        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
};
const getCleanedCode = code => code && code.replace('_', '-');

const consoleLogger = {
  type: 'logger',
  log(args) {
    this.output('log', args);
  },
  warn(args) {
    this.output('warn', args);
  },
  error(args) {
    this.output('error', args);
  },
  output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};
class Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, 'log', '', true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, 'warn', '', true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, 'error', '');
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new Logger(this.logger, options);
  }
}
var baseLogger = new Logger();

class EventEmitter {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(' ').forEach(event => {
      if (!this.observers[event]) this.observers[event] = new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event]) return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach(_ref => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers['*']) {
      const cloned = Array.from(this.observers['*'].entries());
      cloned.forEach(_ref2 => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
}

class ResourceStore extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    if (this.options.ignoreJSONStructure === undefined) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (isString(key) && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf('.') > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join('.');
    }
    if (result || !ignoreJSONStructure || !isString(key)) return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent) this.emit('added', lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {
        silent: true
      });
    }
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit('removed', lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  }
  getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === 'v1') return {
      ...{},
      ...this.getResource(lng, ns)
    };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
}

var postProcessor = {
  processors: {},
  addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach(processor => {
      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

const checkedLoadedFor = {};
class Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super();
    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    this.logger = baseLogger.create('translator');
  }
  changeLanguage(lng) {
    if (lng) this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    if (key === undefined || key === null) {
      return false;
    }
    const resolved = this.resolve(key, options);
    return resolved && resolved.res !== undefined;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces: isString(namespaces) ? [namespaces] : namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    return {
      key,
      namespaces: isString(namespaces) ? [namespaces] : namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === 'object') options = {
      ...options
    };
    if (!options) options = {};
    if (keys === undefined || keys === null) return '';
    if (!Array.isArray(keys)) keys = [String(keys)];
    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved = this.resolve(keys, options);
    let res = resolved && resolved.res;
    const resUsedKey = resolved && resolved.usedKey || key;
    const resExactUsedKey = resolved && resolved.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved.res = r;
          resolved.usedParams = this.getUsedParamsDetails(options);
          return resolved;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy[m] === deepKey) copy[m] = res[m];
          }
        }
        res = copy;
      }
    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const hasDefaultValue = Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : '';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit('missingKey', l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach(language => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach(suffix => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== 'v1') {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved.res = res;
      resolved.usedParams = this.getUsedParamsDetails(options);
      return resolved;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {
        resolved
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation) this.interpolator.init({
        ...options,
        ...{
          interpolation: {
            ...this.options.interpolation,
            ...options.interpolation
          }
        }
      });
      const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && !isString(options.replace) ? options.replace : options;
      if (this.options.interpolation.defaultVariables) data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft) options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;
      if (options.nest !== false) res = this.interpolator.nest(res, function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (lastKey && lastKey[0] === args[0] && !options.context) {
          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
          return null;
        }
        return _this.translate(...args, key);
      }, options);
      if (options.interpolation) this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;
    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (isString(keys)) keys = [keys];
    keys.forEach(k => {
      if (this.isValidLookup(found)) return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach(ns => {
        if (this.isValidLookup(found)) return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(', ')}" won't get resolved as namespace "${usedNS}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        }
        codes.forEach(code => {
          if (this.isValidLookup(found)) return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];
    const useOptionsReplaceForData = options.replace && !isString(options.replace);
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = 'defaultValue';
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
        return true;
      }
    }
    return false;
  }
}

const capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);
class LanguageUtil {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return null;
    const p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === 'x') return null;
    return this.formatLanguageCode(p.join('-'));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return code;
    const p = code.split('-');
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (isString(code) && code.indexOf('-') > -1) {
      if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {
        try {
          let formattedCode = Intl.getCanonicalLocales(code)[0];
          if (formattedCode && this.options.lowerCaseLng) {
            formattedCode = formattedCode.toLowerCase();
          }
          if (formattedCode) return formattedCode;
        } catch (e) {}
      }
      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      let p = code.split('-');
      if (this.options.lowerCaseLng) {
        p = p.map(part => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join('-');
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes) return null;
    let found;
    codes.forEach(code => {
      if (found) return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach(code => {
        if (found) return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly)) return found = lngOnly;
        found = this.options.supportedLngs.find(supportedLng => {
          if (supportedLng === lngOnly) return supportedLng;
          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;
          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;
        });
      });
    }
    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
    if (isString(fallbacks)) fallbacks = [fallbacks];
    if (Array.isArray(fallbacks)) return fallbacks;
    if (!code) return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found) found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = c => {
      if (!c) return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (isString(code)) {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach(fc => {
      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
}

let sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
let _rulesPluralsTypes = {
  1: n => Number(n > 1),
  2: n => Number(n != 1),
  3: n => 0,
  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),
  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),
  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),
  9: n => Number(n >= 2),
  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),
  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),
  12: n => Number(n % 10 != 1 || n % 100 == 11),
  13: n => Number(n !== 0),
  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),
  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),
  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),
  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),
  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),
  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),
  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),
  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)
};
const nonIntlVersions = ['v1', 'v2', 'v3'];
const intlVersions = ['v4'];
const suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
const createRules = () => {
  const rules = {};
  sets.forEach(set => {
    set.lngs.forEach(l => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
};
class PluralResolver {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }
    this.rules = createRules();
    this.pluralRulesCache = {};
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  clearCache() {
    this.pluralRulesCache = {};
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);
      const type = options.ordinal ? 'ordinal' : 'cardinal';
      const cacheKey = JSON.stringify({
        cleanedCode,
        type
      });
      if (cacheKey in this.pluralRulesCache) {
        return this.pluralRulesCache[cacheKey];
      }
      let rule;
      try {
        rule = new Intl.PluralRules(cleanedCode, {
          type
        });
      } catch (err) {
        if (!code.match(/-|_/)) return;
        const lngPart = this.languageUtils.getLanguagePartFromCode(code);
        rule = this.getRule(lngPart, options);
      }
      this.pluralRulesCache[cacheKey] = rule;
      return rule;
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);
    }
    return rule.numbers.map(number => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return '';
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = 'plural';
      } else if (suffix === 1) {
        suffix = '';
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === 'v1') {
      if (suffix === 1) return '';
      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === 'v2') {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
}

const deepFindWithDefaults = function (data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && isString(key)) {
    path = deepFind(data, key, keySeparator);
    if (path === undefined) path = deepFind(defaultData, key, keySeparator);
  }
  return path;
};
const regexSafe = val => val.replace(/\$/g, '$$$$');
class Interpolator {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('interpolator');
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || (value => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (!options.interpolation) options.interpolation = {
      escapeValue: true
    };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== undefined ? escape$1 : escape;
    this.escapeValue = escapeValue !== undefined ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';
    this.formatSeparator = formatSeparator || ',';
    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');
    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';
    this.maxReplaces = maxReplaces || 1000;
    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options) this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, 'g');
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    const handleFormat = key => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, undefined, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: val => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach(todo => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            const temp = missingInterpolationHandler(str, match, options);
            value = isString(temp) ? temp : '';
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = '';
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = '';
          }
        } else if (!isString(value) && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    const handleHasOptions = (key, inheritedOptions) => {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0) return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions) clonedOptions = {
          ...inheritedOptions,
          ...clonedOptions
        };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;
      return key;
    };
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && !isString(value)) return value;
      if (!isString(value)) value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = '';
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
}

const parseFormatStr = formatStr => {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf('(') > -1) {
    const p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(';');
      opts.forEach(opt => {
        if (opt) {
          const [key, ...rest] = opt.split(':');
          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;
          if (val === 'false') formatOptions[trimmedKey] = false;
          if (val === 'true') formatOptions[trimmedKey] = true;
          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
};
const createCachedFormatter = fn => {
  const cache = {};
  return (val, lng, options) => {
    let optForCache = options;
    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {
      optForCache = {
        ...optForCache,
        [options.interpolationkey]: undefined
      };
    }
    const key = lng + JSON.stringify(optForCache);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
};
class Formatter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: 'currency'
        });
        return val => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val, opt.range || 'day');
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    this.formatSeparator = options.interpolation.formatSeparator || ',';
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {
      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);
      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);
    }
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
}

const removePending = (q, name) => {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
};
class Connector extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create('backendConnector');
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach(lng => {
      let hasAllNamespaces = true;
      namespaces.forEach(ns => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {
          if (pending[name] === undefined) pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === undefined) pending[name] = true;
          if (toLoad[name] === undefined) toLoad[name] = true;
          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces) toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    if (err) this.emit('failedLoading', lng, ns, err);
    if (!err && data) {
      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    if (err && data) this.state[name] = 0;
    const loaded = {};
    this.queue.forEach(q => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err) q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach(l => {
          if (!loaded[l]) loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach(n => {
              if (loaded[l][n] === undefined) loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit('loaded', loaded);
    this.queue = this.queue.filter(q => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : undefined;
    if (!lng.length) return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === 'function') {
          r.then(data => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : undefined;
    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);
    if (isString(namespaces)) namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback();
      return null;
    }
    toLoad.toLoad.forEach(name => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {
      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
      return;
    }
    if (key === undefined || key === null || key === '') return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === 'function') {
            r.then(data => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
}

const get = () => ({
  debug: false,
  initImmediate: true,
  ns: ['translation'],
  defaultNS: ['translation'],
  fallbackLng: ['dev'],
  fallbackNS: false,
  supportedLngs: false,
  nonExplicitSupportedLngs: false,
  load: 'all',
  preload: false,
  simplifyPluralSuffix: true,
  keySeparator: '.',
  nsSeparator: ':',
  pluralSeparator: '_',
  contextSeparator: '_',
  partialBundledLanguages: false,
  saveMissing: false,
  updateMissing: false,
  saveMissingTo: 'fallback',
  saveMissingPlurals: true,
  missingKeyHandler: false,
  missingInterpolationHandler: false,
  postProcess: false,
  postProcessPassResolved: false,
  returnNull: false,
  returnEmptyString: true,
  returnObjects: false,
  joinArrays: false,
  returnedObjectHandler: false,
  parseMissingKeyHandler: false,
  appendNamespaceToMissingKey: false,
  appendNamespaceToCIMode: false,
  overloadTranslationOptionHandler: args => {
    let ret = {};
    if (typeof args[1] === 'object') ret = args[1];
    if (isString(args[1])) ret.defaultValue = args[1];
    if (isString(args[2])) ret.tDescription = args[2];
    if (typeof args[2] === 'object' || typeof args[3] === 'object') {
      const options = args[3] || args[2];
      Object.keys(options).forEach(key => {
        ret[key] = options[key];
      });
    }
    return ret;
  },
  interpolation: {
    escapeValue: true,
    format: value => value,
    prefix: '{{',
    suffix: '}}',
    formatSeparator: ',',
    unescapePrefix: '-',
    nestingPrefix: '$t(',
    nestingSuffix: ')',
    nestingOptionsSeparator: ',',
    maxReplaces: 1000,
    skipOnVariables: true
  }
});
const transformOptions = options => {
  if (isString(options.ns)) options.ns = [options.ns];
  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];
  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }
  return options;
};

const noop = () => {};
const bindMemberFunctions = inst => {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(mem => {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
};
class I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    this.isInitializing = true;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (isString(options.ns)) {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf('translation') < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== 'v1') {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== undefined) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== undefined) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    const createClassOnDemand = ClassOrObject => {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    };
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== 'undefined') {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init) s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on('*', function (event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach(m => {
        if (m.init) m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn('init: no languageDetector is used and no lng is defined');
    }
    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
    storeApi.forEach(fcName => {
      this[fcName] = function () {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
    storeApiChained.forEach(fcName => {
      this[fcName] = function () {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');
        this.isInitialized = true;
        if (!this.options.isClone) this.logger.log('initialized', this.options);
        this.emit('initialized', this.options);
        deferred.resolve(t);
        callback(err, t);
      };
      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = isString(language) ? language : this.language;
    if (typeof language === 'function') usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();
      const toLoad = [];
      const append = lng => {
        if (!lng) return;
        if (lng === 'cimode') return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(l => {
          if (l === 'cimode') return;
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(l => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach(l => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, e => {
        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (typeof lngs === 'function') {
      callback = lngs;
      lngs = undefined;
    }
    if (typeof ns === 'function') {
      callback = ns;
      ns = undefined;
    }
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    if (!callback) callback = noop;
    this.services.backendConnector.reload(lngs, ns, err => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module) {
    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');
    if (module.type === 'backend') {
      this.modules.backend = module;
    }
    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }
    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }
    if (module.type === 'i18nFormat') {
      this.modules.i18nFormat = module;
    }
    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }
    if (module.type === 'formatter') {
      this.modules.formatter = module;
    }
    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages) return;
    if (['cimode', 'dev'].indexOf(l) > -1) return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit('languageChanging', lng);
    const setLngProps = l => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = undefined;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = undefined;
        this.emit('languageChanged', l);
        this.logger.log('languageChanged', l);
      } else {
        this.isLanguageChangingTo = undefined;
      }
      deferred.resolve(function () {
        return _this2.t(...arguments);
      });
      if (callback) callback(err, function () {
        return _this2.t(...arguments);
      });
    };
    const setLng = lngs => {
      if (!lng && !lngs && this.services.languageDetector) lngs = [];
      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language) this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, err => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function (key, opts) {
      let options;
      if (typeof opts !== 'object') {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || '.';
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (isString(lng)) {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === 'cimode') return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 0 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== undefined) return preResult;
    }
    if (this.hasResourceBundle(lng, ns)) return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback) callback();
      return Promise.resolve();
    }
    if (isString(ns)) ns = [ns];
    ns.forEach(n => {
      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);
    });
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (isString(lngs)) lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback) callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng) return 'rtl';
    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    return new I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore) delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new I18n(mergedOptions);
    if (options.debug !== undefined || options.prefix !== undefined) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(m => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
}
const instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;

module.exports = instance;


/***/ }),

/***/ "../../node_modules/lodash.debounce/index.js":
/*!***************************************************!*\
  !*** ../../node_modules/lodash.debounce/index.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = debounce;


/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/I18nextProvider.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/I18nextProvider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nextProvider: () => (/* binding */ I18nextProvider)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


function I18nextProvider(_ref) {
  let {
    i18n,
    defaultNS,
    children
  } = _ref;
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    i18n,
    defaultNS
  }), [i18n, defaultNS]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext.Provider, {
    value
  }, children);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Trans.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Trans.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");




function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_2__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const t = tFromProps || i18n && i18n.t.bind(i18n);
  return (0,_TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans)({
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions,
    values,
    defaults,
    components,
    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,
    i18n,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  });
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/TransWithoutContext.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* binding */ nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-parse-stringify */ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");





const hasChildren = (node, checkLength) => {
  if (!node) return false;
  const base = node.props ? node.props.children : node.children;
  if (checkLength) return base.length > 0;
  return !!base;
};
const getChildren = node => {
  if (!node) return [];
  const children = node.props ? node.props.children : node.children;
  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;
};
const hasValidReactChildren = children => Array.isArray(children) && children.every(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement);
const getAsArray = data => Array.isArray(data) ? data : [data];
const mergeProps = (source, target) => {
  const newTarget = {
    ...target
  };
  newTarget.props = Object.assign(source.props, target.props);
  return newTarget;
};
const nodesToString = (children, i18nOptions) => {
  if (!children) return '';
  let stringNode = '';
  const childrenArray = getAsArray(children);
  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];
  childrenArray.forEach((child, childIndex) => {
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
      stringNode += `${child}`;
    } else if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) {
      const {
        props,
        type
      } = child;
      const childPropsCount = Object.keys(props).length;
      const shouldKeepChild = keepArray.indexOf(type) > -1;
      const childChildren = props.children;
      if (!childChildren && shouldKeepChild && !childPropsCount) {
        stringNode += `<${type}/>`;
      } else if (!childChildren && (!shouldKeepChild || childPropsCount) || props.i18nIsDynamicList) {
        stringNode += `<${childIndex}></${childIndex}>`;
      } else if (shouldKeepChild && childPropsCount === 1 && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(childChildren)) {
        stringNode += `<${type}>${childChildren}</${type}>`;
      } else {
        const content = nodesToString(childChildren, i18nOptions);
        stringNode += `<${childIndex}>${content}</${childIndex}>`;
      }
    } else if (child === null) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a null child.`);
    } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child)) {
      const {
        format,
        ...clone
      } = child;
      const keys = Object.keys(clone);
      if (keys.length === 1) {
        const value = format ? `${keys[0]}, ${format}` : keys[0];
        stringNode += `{{${value}}}`;
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);
      }
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);
    }
  });
  return stringNode;
};
const renderNodes = (children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) => {
  if (targetString === '') return [];
  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];
  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);
  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];
  const data = {};
  const getData = childs => {
    const childrenArray = getAsArray(childs);
    childrenArray.forEach(child => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) return;
      if (hasChildren(child)) getData(getChildren(child));else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) Object.assign(data, child);
    });
  };
  getData(children);
  const ast = html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__["default"].parse(`<0>${targetString}</0>`);
  const opts = {
    ...data,
    ...combinedTOpts
  };
  const renderInner = (child, node, rootReactNode) => {
    const childs = getChildren(child);
    const mappedChildren = mapAST(childs, node.children, rootReactNode);
    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;
  };
  const pushTranslatedJSX = (child, inner, mem, i, isVoid) => {
    if (child.dummy) {
      child.children = inner;
      mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
        key: i
      }, isVoid ? undefined : inner));
    } else {
      mem.push(...react__WEBPACK_IMPORTED_MODULE_0__.Children.map([child], c => {
        const props = {
          ...c.props
        };
        delete props.i18nIsDynamicList;
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c.type, {
          ...props,
          key: i,
          ref: c.ref
        }, isVoid ? null : inner);
      }));
    }
  };
  const mapAST = (reactNode, astNode, rootReactNode) => {
    const reactNodes = getAsArray(reactNode);
    const astNodes = getAsArray(astNode);
    return astNodes.reduce((mem, node, i) => {
      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);
      if (node.type === 'tag') {
        let tmp = reactNodes[parseInt(node.name, 10)];
        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];
        if (!tmp) tmp = {};
        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({
          props: node.attrs
        }, tmp) : tmp;
        const isElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child);
        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;
        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && child.dummy && !isElement;
        const isKnownComponent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(children) && Object.hasOwnProperty.call(children, node.name);
        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);
          mem.push(value);
        } else if (hasChildren(child) || isValidTranslationWithChildren) {
          const inner = renderInner(child, node, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (isEmptyTransWithHTML) {
          const inner = mapAST(reactNodes, node.children, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (Number.isNaN(parseFloat(node.name))) {
          if (isKnownComponent) {
            const inner = renderInner(child, node, rootReactNode);
            pushTranslatedJSX(child, inner, mem, i, node.voidElement);
          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {
            if (node.voidElement) {
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }));
            } else {
              const inner = mapAST(reactNodes, node.children, rootReactNode);
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }, inner));
            }
          } else if (node.voidElement) {
            mem.push(`<${node.name} />`);
          } else {
            const inner = mapAST(reactNodes, node.children, rootReactNode);
            mem.push(`<${node.name}>${inner}</${node.name}>`);
          }
        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !isElement) {
          const content = node.children[0] ? translationContent : null;
          if (content) mem.push(content);
        } else {
          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);
        }
      } else if (node.type === 'text') {
        const wrapTextNodes = i18nOptions.transWrapTextNodes;
        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);
        if (wrapTextNodes) {
          mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(wrapTextNodes, {
            key: `${node.name}-${i}`
          }, content));
        } else {
          mem.push(content);
        }
      }
      return mem;
    }, []);
  };
  const result = mapAST([{
    dummy: true,
    children: children || []
  }], ast, getAsArray(children || []));
  return getChildren(result[0]);
};
function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const i18n = i18nFromProps || (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__.getI18n)();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using i18nextReactModule');
    return children;
  }
  const t = tFromProps || i18n.t.bind(i18n) || (k => k);
  const reactI18nextOptions = {
    ...(0,_defaults_js__WEBPACK_IMPORTED_MODULE_3__.getDefaults)(),
    ...(i18n.options && i18n.options.react)
  };
  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  const nodeAsString = nodesToString(children, reactI18nextOptions);
  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;
  const {
    hashTransKey
  } = reactI18nextOptions;
  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);
  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {
    values = values && Object.keys(values).length > 0 ? {
      ...values,
      ...i18n.options.interpolation.defaultVariables
    } : {
      ...i18n.options.interpolation.defaultVariables
    };
  }
  const interpolationOverride = values || count !== undefined || !children ? tOptions.interpolation : {
    interpolation: {
      ...tOptions.interpolation,
      prefix: '#$?',
      suffix: '?$#'
    }
  };
  const combinedTOpts = {
    ...tOptions,
    context: context || tOptions.context,
    count,
    ...values,
    ...interpolationOverride,
    defaultValue,
    ns: namespaces
  };
  const translation = key ? t(key, combinedTOpts) : defaultValue;
  if (components) {
    Object.keys(components).forEach(c => {
      const comp = components[c];
      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;
      function Componentized() {
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, comp);
      }
      components[c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Componentized);
    });
  }
  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);
  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;
  return useAsParent ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(useAsParent, additionalProps, content) : content;
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Translation.js":
/*!***************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Translation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Translation: () => (/* binding */ Translation)
/* harmony export */ });
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");

function Translation(props) {
  const {
    ns,
    children,
    ...options
  } = props;
  const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_0__.useTranslation)(ns, options);
  return children(t, {
    i18n,
    lng: i18n.language
  }, ready);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/context.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/context.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* binding */ I18nContext),
/* harmony export */   ReportNamespaces: () => (/* binding */ ReportNamespaces),
/* harmony export */   composeInitialProps: () => (/* binding */ composeInitialProps),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n),
/* harmony export */   getInitialProps: () => (/* binding */ getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__.initReactI18next),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.setI18n)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");





const I18nContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();
class ReportNamespaces {
  constructor() {
    this.usedNamespaces = {};
  }
  addUsedNamespaces(namespaces) {
    namespaces.forEach(ns => {
      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;
    });
  }
  getUsedNamespaces = () => Object.keys(this.usedNamespaces);
}
const composeInitialProps = ForComponent => async ctx => {
  const componentsInitialProps = ForComponent.getInitialProps ? await ForComponent.getInitialProps(ctx) : {};
  const i18nInitialProps = getInitialProps();
  return {
    ...componentsInitialProps,
    ...i18nInitialProps
  };
};
const getInitialProps = () => {
  const i18n = (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];
  const ret = {};
  const initialI18nStore = {};
  i18n.languages.forEach(l => {
    initialI18nStore[l] = {};
    namespaces.forEach(ns => {
      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};
    });
  });
  ret.initialI18nStore = initialI18nStore;
  ret.initialLanguage = i18n.language;
  return ret;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/defaults.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/defaults.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDefaults: () => (/* binding */ getDefaults),
/* harmony export */   setDefaults: () => (/* binding */ setDefaults)
/* harmony export */ });
/* harmony import */ var _unescape_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unescape.js */ "../../node_modules/react-i18next/dist/es/unescape.js");

let defaultOptions = {
  bindI18n: 'languageChanged',
  bindI18nStore: '',
  transEmptyNodeValue: '',
  transSupportBasicHtmlNodes: true,
  transWrapTextNodes: '',
  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],
  useSuspense: true,
  unescape: _unescape_js__WEBPACK_IMPORTED_MODULE_0__.unescape
};
const setDefaults = function () {
  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  defaultOptions = {
    ...defaultOptions,
    ...options
  };
};
const getDefaults = () => defaultOptions;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/i18nInstance.js":
/*!****************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/i18nInstance.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getI18n: () => (/* binding */ getI18n),
/* harmony export */   setI18n: () => (/* binding */ setI18n)
/* harmony export */ });
let i18nInstance;
const setI18n = instance => {
  i18nInstance = instance;
};
const getI18n = () => i18nInstance;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/index.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.I18nContext),
/* harmony export */   I18nextProvider: () => (/* reexport safe */ _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__.I18nextProvider),
/* harmony export */   Trans: () => (/* reexport safe */ _Trans_js__WEBPACK_IMPORTED_MODULE_0__.Trans),
/* harmony export */   TransWithoutContext: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans),
/* harmony export */   Translation: () => (/* reexport safe */ _Translation_js__WEBPACK_IMPORTED_MODULE_4__.Translation),
/* harmony export */   composeInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.composeInitialProps),
/* harmony export */   date: () => (/* binding */ date),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.getI18n),
/* harmony export */   getInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__.initReactI18next),
/* harmony export */   number: () => (/* binding */ number),
/* harmony export */   plural: () => (/* binding */ plural),
/* harmony export */   select: () => (/* binding */ select),
/* harmony export */   selectOrdinal: () => (/* binding */ selectOrdinal),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.setI18n),
/* harmony export */   time: () => (/* binding */ time),
/* harmony export */   useSSR: () => (/* reexport safe */ _useSSR_js__WEBPACK_IMPORTED_MODULE_7__.useSSR),
/* harmony export */   useTranslation: () => (/* reexport safe */ _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__.useTranslation),
/* harmony export */   withSSR: () => (/* reexport safe */ _withSSR_js__WEBPACK_IMPORTED_MODULE_6__.withSSR),
/* harmony export */   withTranslation: () => (/* reexport safe */ _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__.withTranslation)
/* harmony export */ });
/* harmony import */ var _Trans_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Trans.js */ "../../node_modules/react-i18next/dist/es/Trans.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./withTranslation.js */ "../../node_modules/react-i18next/dist/es/withTranslation.js");
/* harmony import */ var _Translation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Translation.js */ "../../node_modules/react-i18next/dist/es/Translation.js");
/* harmony import */ var _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./I18nextProvider.js */ "../../node_modules/react-i18next/dist/es/I18nextProvider.js");
/* harmony import */ var _withSSR_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./withSSR.js */ "../../node_modules/react-i18next/dist/es/withSSR.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");












const date = () => '';
const time = () => '';
const number = () => '';
const select = () => '';
const plural = () => '';
const selectOrdinal = () => '';

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/initReactI18next.js":
/*!********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/initReactI18next.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initReactI18next: () => (/* binding */ initReactI18next)
/* harmony export */ });
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");


const initReactI18next = {
  type: '3rdParty',
  init(instance) {
    (0,_defaults_js__WEBPACK_IMPORTED_MODULE_0__.setDefaults)(instance.options.react);
    (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__.setI18n)(instance);
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/unescape.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/unescape.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   unescape: () => (/* binding */ unescape)
/* harmony export */ });
const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;
const htmlEntities = {
  '&amp;': '&',
  '&#38;': '&',
  '&lt;': '<',
  '&#60;': '<',
  '&gt;': '>',
  '&#62;': '>',
  '&apos;': "'",
  '&#39;': "'",
  '&quot;': '"',
  '&#34;': '"',
  '&nbsp;': ' ',
  '&#160;': ' ',
  '&copy;': '',
  '&#169;': '',
  '&reg;': '',
  '&#174;': '',
  '&hellip;': '',
  '&#8230;': '',
  '&#x2F;': '/',
  '&#47;': '/'
};
const unescapeHtmlEntity = m => htmlEntities[m];
const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useSSR.js":
/*!**********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useSSR.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSSR: () => (/* binding */ useSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


const useSSR = function (initialI18nStore, initialLanguage) {
  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n.options && i18n.options.isClone) return;
  if (initialI18nStore && !i18n.initializedStoreOnce) {
    i18n.services.resourceStore.data = initialI18nStore;
    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {
      Object.keys(lngResources).forEach(ns => {
        if (mem.indexOf(ns) < 0) mem.push(ns);
      });
      return mem;
    }, i18n.options.ns);
    i18n.initializedStoreOnce = true;
    i18n.isInitialized = true;
  }
  if (initialLanguage && !i18n.initializedLanguageOnce) {
    i18n.changeLanguage(initialLanguage);
    i18n.initializedLanguageOnce = true;
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useTranslation.js":
/*!******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useTranslation.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useTranslation: () => (/* binding */ useTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const usePrevious = (value, ignore) => {
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    ref.current = ignore ? ref.current : value;
  }, [value, ignore]);
  return ref.current;
};
const alwaysNewT = (i18n, language, namespace, keyPrefix) => i18n.getFixedT(language, namespace, keyPrefix);
const useMemoizedT = (i18n, language, namespace, keyPrefix) => (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(alwaysNewT(i18n, language, namespace, keyPrefix), [i18n, language, namespace, keyPrefix]);
const useTranslation = function (ns) {
  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new _context_js__WEBPACK_IMPORTED_MODULE_1__.ReportNamespaces();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using initReactI18next');
    const notReadyT = (k, optsOrDefaultValue) => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue)) return optsOrDefaultValue;
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(optsOrDefaultValue) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;
      return Array.isArray(k) ? k[k.length - 1] : k;
    };
    const retNotReady = [notReadyT, {}, false];
    retNotReady.t = notReadyT;
    retNotReady.i18n = {};
    retNotReady.ready = false;
    return retNotReady;
  }
  if (i18n.options.react && i18n.options.react.wait !== undefined) (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');
  const i18nOptions = {
    ...(0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults)(),
    ...i18n.options.react,
    ...props
  };
  const {
    useSuspense,
    keyPrefix
  } = i18nOptions;
  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);
  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.hasLoadedNamespace)(n, i18n, i18nOptions));
  const memoGetT = useMemoizedT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const getT = () => memoGetT;
  const getNewT = () => alwaysNewT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const [t, setT] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getT);
  let joinedNS = namespaces.join();
  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;
  const previousJoinedNS = usePrevious(joinedNS);
  const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const {
      bindI18n,
      bindI18nStore
    } = i18nOptions;
    isMounted.current = true;
    if (!ready && !useSuspense) {
      if (props.lng) {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      }
    }
    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {
      setT(getNewT);
    }
    const boundReset = () => {
      if (isMounted.current) setT(getNewT);
    };
    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);
    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);
    return () => {
      isMounted.current = false;
      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));
      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));
    };
  }, [i18n, joinedNS]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isMounted.current && ready) {
      setT(getT);
    }
  }, [i18n, keyPrefix, ready]);
  const ret = [t, i18n, ready];
  ret.t = t;
  ret.i18n = i18n;
  ret.ready = ready;
  if (ready) return ret;
  if (!ready && !useSuspense) return ret;
  throw new Promise(resolve => {
    if (props.lng) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => resolve());
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => resolve());
    }
  });
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/utils.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDisplayName: () => (/* binding */ getDisplayName),
/* harmony export */   hasLoadedNamespace: () => (/* binding */ hasLoadedNamespace),
/* harmony export */   isObject: () => (/* binding */ isObject),
/* harmony export */   isString: () => (/* binding */ isString),
/* harmony export */   loadLanguages: () => (/* binding */ loadLanguages),
/* harmony export */   loadNamespaces: () => (/* binding */ loadNamespaces),
/* harmony export */   warn: () => (/* binding */ warn),
/* harmony export */   warnOnce: () => (/* binding */ warnOnce)
/* harmony export */ });
function warn() {
  if (console && console.warn) {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (isString(args[0])) args[0] = `react-i18next:: ${args[0]}`;
    console.warn(...args);
  }
}
const alreadyWarned = {};
function warnOnce() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }
  if (isString(args[0]) && alreadyWarned[args[0]]) return;
  if (isString(args[0])) alreadyWarned[args[0]] = new Date();
  warn(...args);
}
const loadedClb = (i18n, cb) => () => {
  if (i18n.isInitialized) {
    cb();
  } else {
    const initialized = () => {
      setTimeout(() => {
        i18n.off('initialized', initialized);
      }, 0);
      cb();
    };
    i18n.on('initialized', initialized);
  }
};
const loadNamespaces = (i18n, ns, cb) => {
  i18n.loadNamespaces(ns, loadedClb(i18n, cb));
};
const loadLanguages = (i18n, lng, ns, cb) => {
  if (isString(ns)) ns = [ns];
  ns.forEach(n => {
    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);
  });
  i18n.loadLanguages(lng, loadedClb(i18n, cb));
};
const oldI18nextHasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const lng = i18n.languages[0];
  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;
  const lastLng = i18n.languages[i18n.languages.length - 1];
  if (lng.toLowerCase() === 'cimode') return true;
  const loadNotPending = (l, n) => {
    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];
    return loadState === -1 || loadState === 2;
  };
  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;
  if (i18n.hasResourceBundle(lng, ns)) return true;
  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;
  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
  return false;
};
const hasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  if (!i18n.languages || !i18n.languages.length) {
    warnOnce('i18n.languages were undefined or empty', i18n.languages);
    return true;
  }
  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;
  if (!isNewerI18next) {
    return oldI18nextHasLoadedNamespace(ns, i18n, options);
  }
  return i18n.hasLoadedNamespace(ns, {
    lng: options.lng,
    precheck: (i18nInstance, loadNotPending) => {
      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;
    }
  });
};
const getDisplayName = Component => Component.displayName || Component.name || (isString(Component) && Component.length > 0 ? Component : 'Unknown');
const isString = obj => typeof obj === 'string';
const isObject = obj => typeof obj === 'object' && obj !== null;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withSSR.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withSSR.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withSSR: () => (/* binding */ withSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");




const withSSR = () => function Extend(WrappedComponent) {
  function I18nextWithSSR(_ref) {
    let {
      initialI18nStore,
      initialLanguage,
      ...rest
    } = _ref;
    (0,_useSSR_js__WEBPACK_IMPORTED_MODULE_1__.useSSR)(initialI18nStore, initialLanguage);
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, {
      ...rest
    });
  }
  I18nextWithSSR.getInitialProps = (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.composeInitialProps)(WrappedComponent);
  I18nextWithSSR.displayName = `withI18nextSSR(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.getDisplayName)(WrappedComponent)})`;
  I18nextWithSSR.WrappedComponent = WrappedComponent;
  return I18nextWithSSR;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withTranslation.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withTranslation.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withTranslation: () => (/* binding */ withTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const withTranslation = function (ns) {
  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return function Extend(WrappedComponent) {
    function I18nextWithTranslation(_ref) {
      let {
        forwardedRef,
        ...rest
      } = _ref;
      const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(ns, {
        ...rest,
        keyPrefix: options.keyPrefix
      });
      const passDownProps = {
        ...rest,
        t,
        i18n,
        tReady: ready
      };
      if (options.withRef && forwardedRef) {
        passDownProps.ref = forwardedRef;
      } else if (!options.withRef && forwardedRef) {
        passDownProps.forwardedRef = forwardedRef;
      }
      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, passDownProps);
    }
    I18nextWithTranslation.displayName = `withI18nextTranslation(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getDisplayName)(WrappedComponent)})`;
    I18nextWithTranslation.WrappedComponent = WrappedComponent;
    const forwardRef = (props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(I18nextWithTranslation, Object.assign({}, props, {
      forwardedRef: ref
    }));
    return options.withRef ? (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(forwardRef) : I18nextWithTranslation;
  };
};

/***/ }),

/***/ "../../node_modules/react/cjs/react.development.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react/cjs/react.development.js ***!
  \*********************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
/* module decorator */ module = __webpack_require__.nmd(module);
/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


 true &&
  (function () {
    function defineDeprecationWarning(methodName, info) {
      Object.defineProperty(Component.prototype, methodName, {
        get: function () {
          console.warn(
            "%s(...) is deprecated in plain JavaScript React classes. %s",
            info[0],
            info[1]
          );
        }
      });
    }
    function getIteratorFn(maybeIterable) {
      if (null === maybeIterable || "object" !== typeof maybeIterable)
        return null;
      maybeIterable =
        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||
        maybeIterable["@@iterator"];
      return "function" === typeof maybeIterable ? maybeIterable : null;
    }
    function warnNoop(publicInstance, callerName) {
      publicInstance =
        ((publicInstance = publicInstance.constructor) &&
          (publicInstance.displayName || publicInstance.name)) ||
        "ReactClass";
      var warningKey = publicInstance + "." + callerName;
      didWarnStateUpdateForUnmountedComponent[warningKey] ||
        (console.error(
          "Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",
          callerName,
          publicInstance
        ),
        (didWarnStateUpdateForUnmountedComponent[warningKey] = !0));
    }
    function Component(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function ComponentDummy() {}
    function PureComponent(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = !1;
      } catch (e) {
        JSCompiler_inline_result = !0;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 =
          ("function" === typeof Symbol &&
            Symbol.toStringTag &&
            value[Symbol.toStringTag]) ||
          value.constructor.name ||
          "Object";
        JSCompiler_temp_const.call(
          JSCompiler_inline_result,
          "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",
          JSCompiler_inline_result$jscomp$0
        );
        return testStringCoercion(value);
      }
    }
    function getComponentNameFromType(type) {
      if (null == type) return null;
      if ("function" === typeof type)
        return type.$$typeof === REACT_CLIENT_REFERENCE
          ? null
          : type.displayName || type.name || null;
      if ("string" === typeof type) return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if ("object" === typeof type)
        switch (
          ("number" === typeof type.tag &&
            console.error(
              "Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."
            ),
          type.$$typeof)
        ) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return (type.displayName || "Context") + ".Provider";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type ||
              ((type = innerType.displayName || innerType.name || ""),
              (type = "" !== type ? "ForwardRef(" + type + ")" : "ForwardRef"));
            return type;
          case REACT_MEMO_TYPE:
            return (
              (innerType = type.displayName || null),
              null !== innerType
                ? innerType
                : getComponentNameFromType(type.type) || "Memo"
            );
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE) return "<>";
      if (
        "object" === typeof type &&
        null !== type &&
        type.$$typeof === REACT_LAZY_TYPE
      )
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return null === dispatcher ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning) return !1;
      }
      return void 0 !== config.key;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown ||
          ((specialPropKeyWarningShown = !0),
          console.error(
            "%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",
            displayName
          ));
      }
      warnAboutAccessingKey.isReactWarning = !0;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: !0
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] ||
        ((didWarnAboutElementRef[componentName] = !0),
        console.error(
          "Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."
        ));
      componentName = this.props.ref;
      return void 0 !== componentName ? componentName : null;
    }
    function ReactElement(
      type,
      key,
      self,
      source,
      owner,
      props,
      debugStack,
      debugTask
    ) {
      self = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type: type,
        key: key,
        props: props,
        _owner: owner
      };
      null !== (void 0 !== self ? self : null)
        ? Object.defineProperty(type, "ref", {
            enumerable: !1,
            get: elementRefGetterWithDeprecationWarning
          })
        : Object.defineProperty(type, "ref", { enumerable: !1, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function cloneAndReplaceKey(oldElement, newKey) {
      newKey = ReactElement(
        oldElement.type,
        newKey,
        void 0,
        void 0,
        oldElement._owner,
        oldElement.props,
        oldElement._debugStack,
        oldElement._debugTask
      );
      oldElement._store &&
        (newKey._store.validated = oldElement._store.validated);
      return newKey;
    }
    function isValidElement(object) {
      return (
        "object" === typeof object &&
        null !== object &&
        object.$$typeof === REACT_ELEMENT_TYPE
      );
    }
    function escape(key) {
      var escaperLookup = { "=": "=0", ":": "=2" };
      return (
        "$" +
        key.replace(/[=:]/g, function (match) {
          return escaperLookup[match];
        })
      );
    }
    function getElementKey(element, index) {
      return "object" === typeof element &&
        null !== element &&
        null != element.key
        ? (checkKeyStringCoercion(element.key), escape("" + element.key))
        : index.toString(36);
    }
    function noop$1() {}
    function resolveThenable(thenable) {
      switch (thenable.status) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw thenable.reason;
        default:
          switch (
            ("string" === typeof thenable.status
              ? thenable.then(noop$1, noop$1)
              : ((thenable.status = "pending"),
                thenable.then(
                  function (fulfilledValue) {
                    "pending" === thenable.status &&
                      ((thenable.status = "fulfilled"),
                      (thenable.value = fulfilledValue));
                  },
                  function (error) {
                    "pending" === thenable.status &&
                      ((thenable.status = "rejected"),
                      (thenable.reason = error));
                  }
                )),
            thenable.status)
          ) {
            case "fulfilled":
              return thenable.value;
            case "rejected":
              throw thenable.reason;
          }
      }
      throw thenable;
    }
    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
      var type = typeof children;
      if ("undefined" === type || "boolean" === type) children = null;
      var invokeCallback = !1;
      if (null === children) invokeCallback = !0;
      else
        switch (type) {
          case "bigint":
          case "string":
          case "number":
            invokeCallback = !0;
            break;
          case "object":
            switch (children.$$typeof) {
              case REACT_ELEMENT_TYPE:
              case REACT_PORTAL_TYPE:
                invokeCallback = !0;
                break;
              case REACT_LAZY_TYPE:
                return (
                  (invokeCallback = children._init),
                  mapIntoArray(
                    invokeCallback(children._payload),
                    array,
                    escapedPrefix,
                    nameSoFar,
                    callback
                  )
                );
            }
        }
      if (invokeCallback) {
        invokeCallback = children;
        callback = callback(invokeCallback);
        var childKey =
          "" === nameSoFar ? "." + getElementKey(invokeCallback, 0) : nameSoFar;
        isArrayImpl(callback)
          ? ((escapedPrefix = ""),
            null != childKey &&
              (escapedPrefix =
                childKey.replace(userProvidedKeyEscapeRegex, "$&/") + "/"),
            mapIntoArray(callback, array, escapedPrefix, "", function (c) {
              return c;
            }))
          : null != callback &&
            (isValidElement(callback) &&
              (null != callback.key &&
                ((invokeCallback && invokeCallback.key === callback.key) ||
                  checkKeyStringCoercion(callback.key)),
              (escapedPrefix = cloneAndReplaceKey(
                callback,
                escapedPrefix +
                  (null == callback.key ||
                  (invokeCallback && invokeCallback.key === callback.key)
                    ? ""
                    : ("" + callback.key).replace(
                        userProvidedKeyEscapeRegex,
                        "$&/"
                      ) + "/") +
                  childKey
              )),
              "" !== nameSoFar &&
                null != invokeCallback &&
                isValidElement(invokeCallback) &&
                null == invokeCallback.key &&
                invokeCallback._store &&
                !invokeCallback._store.validated &&
                (escapedPrefix._store.validated = 2),
              (callback = escapedPrefix)),
            array.push(callback));
        return 1;
      }
      invokeCallback = 0;
      childKey = "" === nameSoFar ? "." : nameSoFar + ":";
      if (isArrayImpl(children))
        for (var i = 0; i < children.length; i++)
          (nameSoFar = children[i]),
            (type = childKey + getElementKey(nameSoFar, i)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if (((i = getIteratorFn(children)), "function" === typeof i))
        for (
          i === children.entries &&
            (didWarnAboutMaps ||
              console.warn(
                "Using Maps as children is not supported. Use an array of keyed ReactElements instead."
              ),
            (didWarnAboutMaps = !0)),
            children = i.call(children),
            i = 0;
          !(nameSoFar = children.next()).done;

        )
          (nameSoFar = nameSoFar.value),
            (type = childKey + getElementKey(nameSoFar, i++)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if ("object" === type) {
        if ("function" === typeof children.then)
          return mapIntoArray(
            resolveThenable(children),
            array,
            escapedPrefix,
            nameSoFar,
            callback
          );
        array = String(children);
        throw Error(
          "Objects are not valid as a React child (found: " +
            ("[object Object]" === array
              ? "object with keys {" + Object.keys(children).join(", ") + "}"
              : array) +
            "). If you meant to render a collection of children, use an array instead."
        );
      }
      return invokeCallback;
    }
    function mapChildren(children, func, context) {
      if (null == children) return children;
      var result = [],
        count = 0;
      mapIntoArray(children, result, "", "", function (child) {
        return func.call(context, child, count++);
      });
      return result;
    }
    function lazyInitializer(payload) {
      if (-1 === payload._status) {
        var ctor = payload._result;
        ctor = ctor();
        ctor.then(
          function (moduleObject) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 1), (payload._result = moduleObject);
          },
          function (error) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 2), (payload._result = error);
          }
        );
        -1 === payload._status &&
          ((payload._status = 0), (payload._result = ctor));
      }
      if (1 === payload._status)
        return (
          (ctor = payload._result),
          void 0 === ctor &&
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",
              ctor
            ),
          "default" in ctor ||
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",
              ctor
            ),
          ctor.default
        );
      throw payload._result;
    }
    function resolveDispatcher() {
      var dispatcher = ReactSharedInternals.H;
      null === dispatcher &&
        console.error(
          "Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem."
        );
      return dispatcher;
    }
    function noop() {}
    function enqueueTask(task) {
      if (null === enqueueTaskImpl)
        try {
          var requireString = ("require" + Math.random()).slice(0, 7);
          enqueueTaskImpl = (module && module[requireString]).call(
            module,
            "timers"
          ).setImmediate;
        } catch (_err) {
          enqueueTaskImpl = function (callback) {
            !1 === didWarnAboutMessageChannel &&
              ((didWarnAboutMessageChannel = !0),
              "undefined" === typeof MessageChannel &&
                console.error(
                  "This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."
                ));
            var channel = new MessageChannel();
            channel.port1.onmessage = callback;
            channel.port2.postMessage(void 0);
          };
        }
      return enqueueTaskImpl(task);
    }
    function aggregateErrors(errors) {
      return 1 < errors.length && "function" === typeof AggregateError
        ? new AggregateError(errors)
        : errors[0];
    }
    function popActScope(prevActQueue, prevActScopeDepth) {
      prevActScopeDepth !== actScopeDepth - 1 &&
        console.error(
          "You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "
        );
      actScopeDepth = prevActScopeDepth;
    }
    function recursivelyFlushAsyncActWork(returnValue, resolve, reject) {
      var queue = ReactSharedInternals.actQueue;
      if (null !== queue)
        if (0 !== queue.length)
          try {
            flushActQueue(queue);
            enqueueTask(function () {
              return recursivelyFlushAsyncActWork(returnValue, resolve, reject);
            });
            return;
          } catch (error) {
            ReactSharedInternals.thrownErrors.push(error);
          }
        else ReactSharedInternals.actQueue = null;
      0 < ReactSharedInternals.thrownErrors.length
        ? ((queue = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          reject(queue))
        : resolve(returnValue);
    }
    function flushActQueue(queue) {
      if (!isFlushing) {
        isFlushing = !0;
        var i = 0;
        try {
          for (; i < queue.length; i++) {
            var callback = queue[i];
            do {
              ReactSharedInternals.didUsePromise = !1;
              var continuation = callback(!1);
              if (null !== continuation) {
                if (ReactSharedInternals.didUsePromise) {
                  queue[i] = callback;
                  queue.splice(0, i);
                  return;
                }
                callback = continuation;
              } else break;
            } while (1);
          }
          queue.length = 0;
        } catch (error) {
          queue.splice(0, i + 1), ReactSharedInternals.thrownErrors.push(error);
        } finally {
          isFlushing = !1;
        }
      }
    }
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
      REACT_PORTAL_TYPE = Symbol.for("react.portal"),
      REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"),
      REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"),
      REACT_PROFILER_TYPE = Symbol.for("react.profiler");
    Symbol.for("react.provider");
    var REACT_CONSUMER_TYPE = Symbol.for("react.consumer"),
      REACT_CONTEXT_TYPE = Symbol.for("react.context"),
      REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"),
      REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"),
      REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"),
      REACT_MEMO_TYPE = Symbol.for("react.memo"),
      REACT_LAZY_TYPE = Symbol.for("react.lazy"),
      REACT_ACTIVITY_TYPE = Symbol.for("react.activity"),
      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
      didWarnStateUpdateForUnmountedComponent = {},
      ReactNoopUpdateQueue = {
        isMounted: function () {
          return !1;
        },
        enqueueForceUpdate: function (publicInstance) {
          warnNoop(publicInstance, "forceUpdate");
        },
        enqueueReplaceState: function (publicInstance) {
          warnNoop(publicInstance, "replaceState");
        },
        enqueueSetState: function (publicInstance) {
          warnNoop(publicInstance, "setState");
        }
      },
      assign = Object.assign,
      emptyObject = {};
    Object.freeze(emptyObject);
    Component.prototype.isReactComponent = {};
    Component.prototype.setState = function (partialState, callback) {
      if (
        "object" !== typeof partialState &&
        "function" !== typeof partialState &&
        null != partialState
      )
        throw Error(
          "takes an object of state variables to update or a function which returns an object of state variables."
        );
      this.updater.enqueueSetState(this, partialState, callback, "setState");
    };
    Component.prototype.forceUpdate = function (callback) {
      this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
    };
    var deprecatedAPIs = {
        isMounted: [
          "isMounted",
          "Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."
        ],
        replaceState: [
          "replaceState",
          "Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."
        ]
      },
      fnName;
    for (fnName in deprecatedAPIs)
      deprecatedAPIs.hasOwnProperty(fnName) &&
        defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);
    ComponentDummy.prototype = Component.prototype;
    deprecatedAPIs = PureComponent.prototype = new ComponentDummy();
    deprecatedAPIs.constructor = PureComponent;
    assign(deprecatedAPIs, Component.prototype);
    deprecatedAPIs.isPureReactComponent = !0;
    var isArrayImpl = Array.isArray,
      REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"),
      ReactSharedInternals = {
        H: null,
        A: null,
        T: null,
        S: null,
        V: null,
        actQueue: null,
        isBatchingLegacy: !1,
        didScheduleLegacyUpdate: !1,
        didUsePromise: !1,
        thrownErrors: [],
        getCurrentStack: null,
        recentlyCreatedOwnerStacks: 0
      },
      hasOwnProperty = Object.prototype.hasOwnProperty,
      createTask = console.createTask
        ? console.createTask
        : function () {
            return null;
          };
    deprecatedAPIs = {
      "react-stack-bottom-frame": function (callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown, didWarnAboutOldJSXRuntime;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = deprecatedAPIs[
      "react-stack-bottom-frame"
    ].bind(deprecatedAPIs, UnknownOwner)();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutMaps = !1,
      userProvidedKeyEscapeRegex = /\/+/g,
      reportGlobalError =
        "function" === typeof reportError
          ? reportError
          : function (error) {
              if (
                "object" === typeof window &&
                "function" === typeof window.ErrorEvent
              ) {
                var event = new window.ErrorEvent("error", {
                  bubbles: !0,
                  cancelable: !0,
                  message:
                    "object" === typeof error &&
                    null !== error &&
                    "string" === typeof error.message
                      ? String(error.message)
                      : String(error),
                  error: error
                });
                if (!window.dispatchEvent(event)) return;
              } else if (
                "object" === typeof process &&
                "function" === typeof process.emit
              ) {
                process.emit("uncaughtException", error);
                return;
              }
              console.error(error);
            },
      didWarnAboutMessageChannel = !1,
      enqueueTaskImpl = null,
      actScopeDepth = 0,
      didWarnNoAwaitAct = !1,
      isFlushing = !1,
      queueSeveralMicrotasks =
        "function" === typeof queueMicrotask
          ? function (callback) {
              queueMicrotask(function () {
                return queueMicrotask(callback);
              });
            }
          : enqueueTask;
    deprecatedAPIs = Object.freeze({
      __proto__: null,
      c: function (size) {
        return resolveDispatcher().useMemoCache(size);
      }
    });
    exports.Children = {
      map: mapChildren,
      forEach: function (children, forEachFunc, forEachContext) {
        mapChildren(
          children,
          function () {
            forEachFunc.apply(this, arguments);
          },
          forEachContext
        );
      },
      count: function (children) {
        var n = 0;
        mapChildren(children, function () {
          n++;
        });
        return n;
      },
      toArray: function (children) {
        return (
          mapChildren(children, function (child) {
            return child;
          }) || []
        );
      },
      only: function (children) {
        if (!isValidElement(children))
          throw Error(
            "React.Children.only expected to receive a single React element child."
          );
        return children;
      }
    };
    exports.Component = Component;
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.Profiler = REACT_PROFILER_TYPE;
    exports.PureComponent = PureComponent;
    exports.StrictMode = REACT_STRICT_MODE_TYPE;
    exports.Suspense = REACT_SUSPENSE_TYPE;
    exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =
      ReactSharedInternals;
    exports.__COMPILER_RUNTIME = deprecatedAPIs;
    exports.act = function (callback) {
      var prevActQueue = ReactSharedInternals.actQueue,
        prevActScopeDepth = actScopeDepth;
      actScopeDepth++;
      var queue = (ReactSharedInternals.actQueue =
          null !== prevActQueue ? prevActQueue : []),
        didAwaitActCall = !1;
      try {
        var result = callback();
      } catch (error) {
        ReactSharedInternals.thrownErrors.push(error);
      }
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          (popActScope(prevActQueue, prevActScopeDepth),
          (callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      if (
        null !== result &&
        "object" === typeof result &&
        "function" === typeof result.then
      ) {
        var thenable = result;
        queueSeveralMicrotasks(function () {
          didAwaitActCall ||
            didWarnNoAwaitAct ||
            ((didWarnNoAwaitAct = !0),
            console.error(
              "You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"
            ));
        });
        return {
          then: function (resolve, reject) {
            didAwaitActCall = !0;
            thenable.then(
              function (returnValue) {
                popActScope(prevActQueue, prevActScopeDepth);
                if (0 === prevActScopeDepth) {
                  try {
                    flushActQueue(queue),
                      enqueueTask(function () {
                        return recursivelyFlushAsyncActWork(
                          returnValue,
                          resolve,
                          reject
                        );
                      });
                  } catch (error$0) {
                    ReactSharedInternals.thrownErrors.push(error$0);
                  }
                  if (0 < ReactSharedInternals.thrownErrors.length) {
                    var _thrownError = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    );
                    ReactSharedInternals.thrownErrors.length = 0;
                    reject(_thrownError);
                  }
                } else resolve(returnValue);
              },
              function (error) {
                popActScope(prevActQueue, prevActScopeDepth);
                0 < ReactSharedInternals.thrownErrors.length
                  ? ((error = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    )),
                    (ReactSharedInternals.thrownErrors.length = 0),
                    reject(error))
                  : reject(error);
              }
            );
          }
        };
      }
      var returnValue$jscomp$0 = result;
      popActScope(prevActQueue, prevActScopeDepth);
      0 === prevActScopeDepth &&
        (flushActQueue(queue),
        0 !== queue.length &&
          queueSeveralMicrotasks(function () {
            didAwaitActCall ||
              didWarnNoAwaitAct ||
              ((didWarnNoAwaitAct = !0),
              console.error(
                "A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"
              ));
          }),
        (ReactSharedInternals.actQueue = null));
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          ((callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      return {
        then: function (resolve, reject) {
          didAwaitActCall = !0;
          0 === prevActScopeDepth
            ? ((ReactSharedInternals.actQueue = queue),
              enqueueTask(function () {
                return recursivelyFlushAsyncActWork(
                  returnValue$jscomp$0,
                  resolve,
                  reject
                );
              }))
            : resolve(returnValue$jscomp$0);
        }
      };
    };
    exports.cache = function (fn) {
      return function () {
        return fn.apply(null, arguments);
      };
    };
    exports.captureOwnerStack = function () {
      var getCurrentStack = ReactSharedInternals.getCurrentStack;
      return null === getCurrentStack ? null : getCurrentStack();
    };
    exports.cloneElement = function (element, config, children) {
      if (null === element || void 0 === element)
        throw Error(
          "The argument must be a React element, but you passed " +
            element +
            "."
        );
      var props = assign({}, element.props),
        key = element.key,
        owner = element._owner;
      if (null != config) {
        var JSCompiler_inline_result;
        a: {
          if (
            hasOwnProperty.call(config, "ref") &&
            (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(
              config,
              "ref"
            ).get) &&
            JSCompiler_inline_result.isReactWarning
          ) {
            JSCompiler_inline_result = !1;
            break a;
          }
          JSCompiler_inline_result = void 0 !== config.ref;
        }
        JSCompiler_inline_result && (owner = getOwner());
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (key = "" + config.key));
        for (propName in config)
          !hasOwnProperty.call(config, propName) ||
            "key" === propName ||
            "__self" === propName ||
            "__source" === propName ||
            ("ref" === propName && void 0 === config.ref) ||
            (props[propName] = config[propName]);
      }
      var propName = arguments.length - 2;
      if (1 === propName) props.children = children;
      else if (1 < propName) {
        JSCompiler_inline_result = Array(propName);
        for (var i = 0; i < propName; i++)
          JSCompiler_inline_result[i] = arguments[i + 2];
        props.children = JSCompiler_inline_result;
      }
      props = ReactElement(
        element.type,
        key,
        void 0,
        void 0,
        owner,
        props,
        element._debugStack,
        element._debugTask
      );
      for (key = 2; key < arguments.length; key++)
        (owner = arguments[key]),
          isValidElement(owner) && owner._store && (owner._store.validated = 1);
      return props;
    };
    exports.createContext = function (defaultValue) {
      defaultValue = {
        $$typeof: REACT_CONTEXT_TYPE,
        _currentValue: defaultValue,
        _currentValue2: defaultValue,
        _threadCount: 0,
        Provider: null,
        Consumer: null
      };
      defaultValue.Provider = defaultValue;
      defaultValue.Consumer = {
        $$typeof: REACT_CONSUMER_TYPE,
        _context: defaultValue
      };
      defaultValue._currentRenderer = null;
      defaultValue._currentRenderer2 = null;
      return defaultValue;
    };
    exports.createElement = function (type, config, children) {
      for (var i = 2; i < arguments.length; i++) {
        var node = arguments[i];
        isValidElement(node) && node._store && (node._store.validated = 1);
      }
      i = {};
      node = null;
      if (null != config)
        for (propName in (didWarnAboutOldJSXRuntime ||
          !("__self" in config) ||
          "key" in config ||
          ((didWarnAboutOldJSXRuntime = !0),
          console.warn(
            "Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform"
          )),
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (node = "" + config.key)),
        config))
          hasOwnProperty.call(config, propName) &&
            "key" !== propName &&
            "__self" !== propName &&
            "__source" !== propName &&
            (i[propName] = config[propName]);
      var childrenLength = arguments.length - 2;
      if (1 === childrenLength) i.children = children;
      else if (1 < childrenLength) {
        for (
          var childArray = Array(childrenLength), _i = 0;
          _i < childrenLength;
          _i++
        )
          childArray[_i] = arguments[_i + 2];
        Object.freeze && Object.freeze(childArray);
        i.children = childArray;
      }
      if (type && type.defaultProps)
        for (propName in ((childrenLength = type.defaultProps), childrenLength))
          void 0 === i[propName] && (i[propName] = childrenLength[propName]);
      node &&
        defineKeyPropWarningGetter(
          i,
          "function" === typeof type
            ? type.displayName || type.name || "Unknown"
            : type
        );
      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return ReactElement(
        type,
        node,
        void 0,
        void 0,
        getOwner(),
        i,
        propName ? Error("react-stack-top-frame") : unknownOwnerDebugStack,
        propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask
      );
    };
    exports.createRef = function () {
      var refObject = { current: null };
      Object.seal(refObject);
      return refObject;
    };
    exports.forwardRef = function (render) {
      null != render && render.$$typeof === REACT_MEMO_TYPE
        ? console.error(
            "forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."
          )
        : "function" !== typeof render
          ? console.error(
              "forwardRef requires a render function but was given %s.",
              null === render ? "null" : typeof render
            )
          : 0 !== render.length &&
            2 !== render.length &&
            console.error(
              "forwardRef render functions accept exactly two parameters: props and ref. %s",
              1 === render.length
                ? "Did you forget to use the ref parameter?"
                : "Any additional parameter will be undefined."
            );
      null != render &&
        null != render.defaultProps &&
        console.error(
          "forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?"
        );
      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render: render },
        ownName;
      Object.defineProperty(elementType, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          render.name ||
            render.displayName ||
            (Object.defineProperty(render, "name", { value: name }),
            (render.displayName = name));
        }
      });
      return elementType;
    };
    exports.isValidElement = isValidElement;
    exports.lazy = function (ctor) {
      return {
        $$typeof: REACT_LAZY_TYPE,
        _payload: { _status: -1, _result: ctor },
        _init: lazyInitializer
      };
    };
    exports.memo = function (type, compare) {
      null == type &&
        console.error(
          "memo: The first argument must be a component. Instead received: %s",
          null === type ? "null" : typeof type
        );
      compare = {
        $$typeof: REACT_MEMO_TYPE,
        type: type,
        compare: void 0 === compare ? null : compare
      };
      var ownName;
      Object.defineProperty(compare, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          type.name ||
            type.displayName ||
            (Object.defineProperty(type, "name", { value: name }),
            (type.displayName = name));
        }
      });
      return compare;
    };
    exports.startTransition = function (scope) {
      var prevTransition = ReactSharedInternals.T,
        currentTransition = {};
      ReactSharedInternals.T = currentTransition;
      currentTransition._updatedFibers = new Set();
      try {
        var returnValue = scope(),
          onStartTransitionFinish = ReactSharedInternals.S;
        null !== onStartTransitionFinish &&
          onStartTransitionFinish(currentTransition, returnValue);
        "object" === typeof returnValue &&
          null !== returnValue &&
          "function" === typeof returnValue.then &&
          returnValue.then(noop, reportGlobalError);
      } catch (error) {
        reportGlobalError(error);
      } finally {
        null === prevTransition &&
          currentTransition._updatedFibers &&
          ((scope = currentTransition._updatedFibers.size),
          currentTransition._updatedFibers.clear(),
          10 < scope &&
            console.warn(
              "Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."
            )),
          (ReactSharedInternals.T = prevTransition);
      }
    };
    exports.unstable_useCacheRefresh = function () {
      return resolveDispatcher().useCacheRefresh();
    };
    exports.use = function (usable) {
      return resolveDispatcher().use(usable);
    };
    exports.useActionState = function (action, initialState, permalink) {
      return resolveDispatcher().useActionState(
        action,
        initialState,
        permalink
      );
    };
    exports.useCallback = function (callback, deps) {
      return resolveDispatcher().useCallback(callback, deps);
    };
    exports.useContext = function (Context) {
      var dispatcher = resolveDispatcher();
      Context.$$typeof === REACT_CONSUMER_TYPE &&
        console.error(
          "Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"
        );
      return dispatcher.useContext(Context);
    };
    exports.useDebugValue = function (value, formatterFn) {
      return resolveDispatcher().useDebugValue(value, formatterFn);
    };
    exports.useDeferredValue = function (value, initialValue) {
      return resolveDispatcher().useDeferredValue(value, initialValue);
    };
    exports.useEffect = function (create, createDeps, update) {
      null == create &&
        console.warn(
          "React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      var dispatcher = resolveDispatcher();
      if ("function" === typeof update)
        throw Error(
          "useEffect CRUD overload is not enabled in this build of React."
        );
      return dispatcher.useEffect(create, createDeps);
    };
    exports.useId = function () {
      return resolveDispatcher().useId();
    };
    exports.useImperativeHandle = function (ref, create, deps) {
      return resolveDispatcher().useImperativeHandle(ref, create, deps);
    };
    exports.useInsertionEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useInsertionEffect(create, deps);
    };
    exports.useLayoutEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useLayoutEffect(create, deps);
    };
    exports.useMemo = function (create, deps) {
      return resolveDispatcher().useMemo(create, deps);
    };
    exports.useOptimistic = function (passthrough, reducer) {
      return resolveDispatcher().useOptimistic(passthrough, reducer);
    };
    exports.useReducer = function (reducer, initialArg, init) {
      return resolveDispatcher().useReducer(reducer, initialArg, init);
    };
    exports.useRef = function (initialValue) {
      return resolveDispatcher().useRef(initialValue);
    };
    exports.useState = function (initialState) {
      return resolveDispatcher().useState(initialState);
    };
    exports.useSyncExternalStore = function (
      subscribe,
      getSnapshot,
      getServerSnapshot
    ) {
      return resolveDispatcher().useSyncExternalStore(
        subscribe,
        getSnapshot,
        getServerSnapshot
      );
    };
    exports.useTransition = function () {
      return resolveDispatcher().useTransition();
    };
    exports.version = "19.1.0";
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  })();


/***/ }),

/***/ "../../node_modules/react/index.js":
/*!*****************************************!*\
  !*** ../../node_modules/react/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (false) // removed by dead control flow
{} else {
  module.exports = __webpack_require__(/*! ./cjs/react.development.js */ "../../node_modules/react/cjs/react.development.js");
}


/***/ }),

/***/ "../../node_modules/title-case/dist.es2015/index.js":
/*!**********************************************************!*\
  !*** ../../node_modules/title-case/dist.es2015/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   titleCase: () => (/* binding */ titleCase)
/* harmony export */ });
var SMALL_WORDS = /\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\.?|versus|via|when|with|without|yet)\b/i;
var TOKENS = /[^\s:-]+|./g;
var WHITESPACE = /\s/;
var IS_MANUAL_CASE = /.(?=[A-Z]|\..)/;
var ALPHANUMERIC_PATTERN = /[A-Za-z0-9\u00C0-\u00FF]/;
function titleCase(input) {
    var result = "";
    var m;
    // tslint:disable-next-line
    while ((m = TOKENS.exec(input)) !== null) {
        var token = m[0], index = m.index;
        if (
        // Ignore already capitalized words.
        !IS_MANUAL_CASE.test(token) &&
            // Ignore small words except at beginning or end.
            (!SMALL_WORDS.test(token) ||
                index === 0 ||
                index + token.length === input.length) &&
            // Ignore URLs.
            (input.charAt(index + token.length) !== ":" ||
                WHITESPACE.test(input.charAt(index + token.length + 1)))) {
            // Find and uppercase first word character, skips over *modifiers*.
            result += token.replace(ALPHANUMERIC_PATTERN, function (m) { return m.toUpperCase(); });
            continue;
        }
        result += token;
    }
    return result;
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/void-elements/index.js":
/*!*************************************************!*\
  !*** ../../node_modules/void-elements/index.js ***!
  \*************************************************/
/***/ ((module) => {

/**
 * This file automatically generated from `pre-publish.js`.
 * Do not manually edit.
 */

module.exports = {
  "area": true,
  "base": true,
  "br": true,
  "col": true,
  "embed": true,
  "hr": true,
  "img": true,
  "input": true,
  "link": true,
  "meta": true,
  "param": true,
  "source": true,
  "track": true,
  "wbr": true
};


/***/ }),

/***/ "./client/src/apps.ts":
/*!****************************!*\
  !*** ./client/src/apps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getApps: () => (/* binding */ getApps),
/* harmony export */   launchApp: () => (/* binding */ launchApp)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Get the list of apps to display.
 * @returns List of app definitions.
 */
function getApps() {
    return [OPENFIN_INFORMATION_APP, FDC3_BROADCAST, INTEROP_BROADCAST, EXCEL_WINDOW];
}
/**
 * App definition to use for demonstration which show OpenFin environment information.
 */
const OPENFIN_INFORMATION_APP = {
    appId: "openfin-information",
    title: "OpenFin Information",
    description: "Display information about the OpenFin environment",
    manifest: "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/common/views/platform/of-info.view.fin.json",
    manifestType: "view",
    icons: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/common/images/icon-blue.png"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/common/images/previews/of-info.png"
        }
    ],
    tags: ["view", "openfin", "versions"]
};
/**
 * App definition for the FDC3 Interop Broadcast View.
 */
const FDC3_BROADCAST = {
    appId: "fdc3-broadcast-view",
    title: "Context using FDC3",
    description: "This is an example view used to demonstrate the broadcasting and listening of passed context objects using the fdc3 api.",
    manifest: "https://built-on-openfin.github.io/dev-extensions/extensions/v21.0.0/interop/fdc3/context/fdc3-broadcast-view.json",
    manifestType: "view",
    icons: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/common/images/icon-blue.png"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [
        {
            src: "https://built-on-openfin.github.io/dev-extensions/extensions/v21.0.0/interop/images/previews/view-context-fdc3.png"
        }
    ],
    tags: ["view", "fdc3", "tools"]
};
/**
 * App definition for the FDC3 Interop Broadcast View.
 */
const INTEROP_BROADCAST = {
    appId: "interop-broadcast-view",
    title: "Context using Interop API",
    description: "This is an example of setting and listening to context using the interop api and seeing a code sample of how to do it.",
    manifest: "https://built-on-openfin.github.io/dev-extensions/extensions/v21.0.0/interop/interop-api/context/interop-broadcast-view.json",
    manifestType: "view",
    icons: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/common/images/icon-blue.png"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [
        {
            src: "https://built-on-openfin.github.io/dev-extensions/extensions/v21.0.0/interop/images/previews/view-context-interop-api.png"
        }
    ],
    tags: ["view", "interop", "tools"]
};
/**
 * App definition for the FDC3 Interop Broadcast View.
 */
const EXCEL_WINDOW = {
    appId: "excel-window",
    title: "Excel Window",
    description: "A window that launches Excel and listens for changes. This is an alternative to the Excel Home integration.",
    manifest: "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/windows/excel.window.fin.json",
    manifestType: "window",
    icons: [
        {
            src: "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/common/images/icon-blue.png"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [],
    tags: ["window", "excel", "tools"]
};
/**
 * Launch the passed app using its manifest type to determine how to launch it.
 * @param app The app to launch.
 * @returns The value returned by the launch.
 */
async function launchApp(app) {
    if (!app.manifest) {
        console.error(`No manifest was provided for type ${app.manifestType}`);
        return;
    }
    let ret;
    console.log("Application launch requested:", app);
    switch (app.manifestType) {
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.Snapshot: {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            ret = await platform.applySnapshot(app.manifest);
            break;
        }
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.View: {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            ret = await platform.createView({ manifestUrl: app.manifest });
            break;
        }
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.External: {
            ret = await fin.System.launchExternalProcess({ path: app.manifest, uuid: app.appId });
            break;
        }
        case "window": {
            const manifest = await fetch(app.manifest).then(async (response) => response.json());
            ret = await fin.Window.create(manifest);
            break;
        }
        default: {
            ret = await fin.Application.startFromManifest(app.manifest);
            break;
        }
    }
    console.log("Finished application launch request");
    return ret;
}


/***/ }),

/***/ "./client/src/excel-integration.ts":
/*!*****************************************!*\
  !*** ./client/src/excel-integration.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExcelIntegration: () => (/* binding */ ExcelIntegration)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _excel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./excel */ "./client/src/excel.ts");


/**
 * Implement the integration for Excel.
 */
class ExcelIntegration {
    /**
     * Initialize the module.
     * @param settings The settings for the integration.
     * @returns Nothing.
     */
    async initialize(settings) {
        this._settings = settings;
        await (0,_excel__WEBPACK_IMPORTED_MODULE_1__.init)(settings);
    }
    /**
     * The module is being deregistered.
     * @returns Nothing.
     */
    async closedown() {
        await (0,_excel__WEBPACK_IMPORTED_MODULE_1__.closeDown)();
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param query The query to search for.
     * @returns The list of results and new filters.
     */
    async getSearchResults(query) {
        if (this._settings?.asset && query.length < 3) {
            return { results: [this.createResult(this._settings.asset)] };
        }
        if (this._settings?.asset &&
            query.length >= 3 &&
            this._settings.asset.title.toLowerCase().includes(query.toLowerCase())) {
            return { results: [this.createResult(this._settings.asset)] };
        }
        return {
            results: []
        };
    }
    /**
     * An entry has been selected.
     * @param result The dispatched result.
     * @returns True if the item was handled.
     */
    async itemSelection(result) {
        if (result.action.name === ExcelIntegration._EXCEL_PROVIDER_OPEN_KEY_ACTION &&
            result.action.trigger === "user-action" &&
            result.data.workbook) {
            await (0,_excel__WEBPACK_IMPORTED_MODULE_1__.launchExcel)(result.data);
            return true;
        }
        return false;
    }
    /**
     * Create a search result.
     * @param excelAsset The excel document asset alias.
     * @returns The search result.
     */
    createResult(excelAsset) {
        return {
            key: `excel-${excelAsset.workbook}`,
            title: excelAsset.title,
            label: "Excel",
            icon: this._settings?.icon,
            actions: [
                {
                    name: ExcelIntegration._EXCEL_PROVIDER_OPEN_KEY_ACTION,
                    hotkey: "Enter"
                }
            ],
            data: {
                providerId: "excel",
                ...excelAsset
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.SimpleText,
            templateContent: excelAsset.description
        };
    }
}
/**
 * The key to use for a sheet open action.
 * @internal
 */
ExcelIntegration._EXCEL_PROVIDER_OPEN_KEY_ACTION = "Open Excel";


/***/ }),

/***/ "./client/src/excel.ts":
/*!*****************************!*\
  !*** ./client/src/excel.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   closeDown: () => (/* binding */ closeDown),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   launchExcel: () => (/* binding */ launchExcel)
/* harmony export */ });
/* harmony import */ var _openfin_excel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/excel */ "../../node_modules/@openfin/excel/openfin.excel.mjs");

let excel;
/**
 * The interop clients for the different contexts.
 */
let interopClients;
let settings;
let workbookFound;
/**
 * Initialize the Excel interop.
 * @param excelSettings The settings to use for initializing the Excel interop.
 */
async function init(excelSettings) {
    if (!settings) {
        settings = excelSettings;
        const brokerClient = fin.Interop.connectSync(fin.me.identity.uuid, {});
        const contextGroups = await brokerClient.getContextGroups();
        interopClients = {};
        for (const contextGroup of contextGroups) {
            const contextClient = fin.Interop.connectSync(fin.me.identity.uuid, {});
            await contextClient.joinContextGroup(contextGroup.id);
            await contextClient.addContextHandler(async (ctx) => {
                await handleContext(contextGroup.id, ctx);
            });
            interopClients[contextGroup.id] = contextClient;
        }
        (0,_openfin_excel__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
    }
}
/**
 * Get the Excel application.
 * @param assetSettings The settings to use for getting the Excel application.
 * @returns The Excel application.
 */
async function launchExcel(assetSettings) {
    const assetAvailable = await getAppAsset();
    if (!assetAvailable) {
        return false;
    }
    await fin.System.launchExternalProcess({
        alias: settings?.appAsset.alias
    });
    // The workbook is not always available immediately, so start a background process
    // to wait for the workbook being ready
    await listenToExcel(assetSettings);
    return true;
}
/**
 * Listen to the Excel application.
 * @param assetSettings The settings to use for listening to the Excel application.
 * @param tryCount The number of times the function has been called.
 * @returns A promise that resolves when the Excel application is available.
 */
async function listenToExcel(assetSettings, tryCount = 0) {
    if (tryCount === 10) {
        console.error("Excel workbook not available after 10 attempts");
        return;
    }
    if (workbookFound) {
        console.info("Workbook already found");
        return;
    }
    setTimeout(async () => {
        const excelInstance = await getExcel();
        if (excelInstance) {
            const workbooks = await excelInstance.getWorkbooks();
            if (workbooks.length === 0) {
                tryCount++;
                await listenToExcel(assetSettings, tryCount);
            }
            else {
                workbookFound = false;
                for (const workbook of workbooks) {
                    const name = await workbook.getName();
                    if (name === assetSettings.workbook) {
                        for (const worksheetSettings of assetSettings.worksheets) {
                            const worksheet = await workbook.getWorksheetByName(worksheetSettings.name);
                            if (worksheet) {
                                workbookFound = true;
                                await worksheet.addEventListener("change", async (cells) => {
                                    await handleCellChanges(assetSettings, worksheetSettings, cells);
                                });
                            }
                        }
                    }
                }
                if (!workbookFound) {
                    tryCount++;
                    await listenToExcel(assetSettings, tryCount);
                }
            }
        }
    }, 1000);
}
/**
 * Do any cleanup that is required.
 */
async function closeDown() {
    for (const client in interopClients) {
        await interopClients[client].removeFromContextGroup();
    }
    interopClients = {};
}
/**
 * Gets the configured app asset and ensures it is available.
 * @returns A boolean indicating if the app asset is available.
 */
async function getAppAsset() {
    let availableAppAsset;
    try {
        if (settings?.appAsset !== undefined) {
            availableAppAsset = await fin.System.getAppAssetInfo({ alias: settings.appAsset.alias });
        }
    }
    catch (appAssetError) {
        console.debug(`App asset info for alias: ${settings?.appAsset.alias} is not available. Response from getAppAssetInfo`, appAssetError);
    }
    if ((availableAppAsset === undefined || settings?.appAsset.version !== availableAppAsset.version) &&
        settings?.appAsset !== undefined) {
        console.info(`App asset with alias: ${settings?.appAsset.alias} does not exist in memory. Fetching it.`);
        try {
            await fin.System.downloadAsset(settings.appAsset, (progress) => {
                const downloadedPercent = Math.floor((progress.downloadedBytes / progress.totalBytes) * 100);
                console.info(`Downloaded ${downloadedPercent}% of app asset with alias of ${settings?.appAsset.alias}`);
            });
        }
        catch (error) {
            console.error(`Error trying to download app asset with alias: ${settings?.appAsset.alias}`, error);
            return false;
        }
    }
    return true;
}
/**
 * Get the excel application.
 * @returns The application.
 * @internal
 */
async function getExcel() {
    try {
        excel = await (0,_openfin_excel__WEBPACK_IMPORTED_MODULE_0__.getExcelApplication)();
        return excel;
    }
    catch (err) {
        console.error("Error getting Excel application", err);
    }
}
/**
 * Handle the cell changes.
 * @param excelAsset The asset to use for processing the cell changes.
 * @param worksheet The asset to use for processing the cell changes.
 * @param cells The cells that have changed.
 */
async function handleCellChanges(excelAsset, worksheet, cells) {
    if (interopClients && worksheet.cellHandlers) {
        for (const cell of cells) {
            const cellHandler = worksheet.cellHandlers.find((c) => c.cell === cell.address);
            if (cellHandler) {
                const client = interopClients[cellHandler.contextGroup];
                if (client &&
                    (cellHandler.types.includes("instrument") || cellHandler.types.includes("fdc3.instrument"))) {
                    await client.setContext({
                        type: "fdc3.instrument",
                        id: {
                            ticker: cell.value,
                            _source: `excel.${excelAsset.workbook}.${worksheet.name}`
                        }
                    });
                }
            }
        }
    }
}
/**
 * Handle a context.
 * @param contextGroup The group receiving the context.
 * @param context The context being received.
 */
async function handleContext(contextGroup, context) {
    if (settings?.asset) {
        const excelInstance = await getExcel();
        if (excelInstance) {
            const workbooks = await excelInstance.getWorkbooks();
            for (const workbook of workbooks) {
                const workbookName = await workbook.getName();
                const connectedWorkbook = settings?.asset;
                if (connectedWorkbook?.worksheets) {
                    for (const worksheetSettings of connectedWorkbook.worksheets) {
                        if (worksheetSettings.cellHandlers) {
                            const incomingSource = `excel.${workbookName}.${worksheetSettings.name}`;
                            if (incomingSource !== context?.id?._source) {
                                const cellHandlers = worksheetSettings.cellHandlers?.filter((ch) => ch.contextGroup === contextGroup && ch.types.includes(context.type));
                                for (const cellHandler of cellHandlers) {
                                    const worksheet = await workbook.getWorksheetByName(worksheetSettings.name);
                                    if (worksheet) {
                                        let cellValue;
                                        if (context.type === "fdc3.instrument" || context.type === "instrument") {
                                            cellValue = context.id?.ticker;
                                        }
                                        if (cellValue !== undefined) {
                                            await worksheet.setCellValues(cellHandler.cell, [[cellValue]]);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");
/* harmony import */ var _excel_integration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./excel-integration */ "./client/src/excel-integration.ts");




const PLATFORM_ID = "integrate-with-excel";
const PLATFORM_TITLE = "Integrate with Excel";
const PLATFORM_ICON = "https://built-on-openfin.github.io/workspace-starter/workspace/v21.0.0/integrate-with-excel/favicon.ico";
let excelIntegration;
window.addEventListener("DOMContentLoaded", async () => {
    // When the platform api is ready we bootstrap the platform.
    const platform = fin.Platform.getCurrentSync();
    await platform.once("platform-api-ready", async () => {
        // Load the custom settings and initialize the excel integration
        // we must do this before home is registered so that the initial
        // home request for get results includes the excel results.
        const customSettings = await getManifestCustomSettings();
        if (customSettings.excel) {
            excelIntegration = new _excel_integration__WEBPACK_IMPORTED_MODULE_3__.ExcelIntegration();
            await excelIntegration.initialize(customSettings.excel);
        }
        await initializeWorkspaceComponents();
    });
    // The DOM is ready so initialize the platform
    await initializeWorkspacePlatform();
});
/**
 * Initialize the workspace platform.
 */
async function initializeWorkspacePlatform() {
    console.log("Initializing workspace platform");
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__.init)({
        browser: {
            defaultWindowOptions: {
                icon: PLATFORM_ICON,
                workspacePlatform: {
                    pages: [],
                    favicon: PLATFORM_ICON
                }
            }
        },
        theme: [
            {
                label: "Default",
                default: "dark",
                palette: {
                    brandPrimary: "#0A76D3",
                    brandSecondary: "#383A40",
                    backgroundPrimary: "#1E1F23"
                }
            }
        ]
    });
}
/**
 * Initialize workspace components.
 */
async function initializeWorkspaceComponents() {
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.register({
        title: PLATFORM_TITLE,
        id: PLATFORM_ID,
        icon: PLATFORM_ICON,
        onUserInput: async (request) => {
            let results = [];
            if (excelIntegration) {
                // Get any home results from the excel integration
                const excelResults = await excelIntegration.getSearchResults(request.query);
                results = results.concat(excelResults.results);
            }
            // Add any apps
            let apps = (0,_apps__WEBPACK_IMPORTED_MODULE_2__.getApps)();
            if (request.query.length >= 3) {
                apps = apps.filter((a) => a.title.toLowerCase().includes(request.query.toLowerCase()));
            }
            results = results.concat(apps.map((app) => ({
                key: app.appId,
                title: app.title,
                icon: app.icons[0]?.src,
                data: app,
                label: "App",
                actions: [{ name: "Launch App", hotkey: "enter" }],
                description: app.description,
                shortDescription: app.description,
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.SimpleText,
                templateContent: app.description
            })));
            return {
                results
            };
        },
        onResultDispatch: async (result) => {
            // If the result has the excel integration set then hand the result
            // over to the integration to handle
            if (result?.data?.providerId === "excel") {
                if (excelIntegration) {
                    await excelIntegration.itemSelection(result);
                }
            }
            else {
                await (0,_apps__WEBPACK_IMPORTED_MODULE_2__.launchApp)(result.data);
            }
        }
    });
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.show();
    const providerWindow = fin.Window.getCurrentSync();
    await providerWindow.once("close-requested", async (event) => {
        if (excelIntegration) {
            await excelIntegration.closedown();
        }
        await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Home.deregister(PLATFORM_ID);
        await fin.Platform.getCurrentSync().quit();
    });
}
/**
 * Read the custom settings from the manifest.fin.json.
 * @returns The custom settings from the manifest.
 */
async function getManifestCustomSettings() {
    // Get the manifest for the current application
    const app = await fin.Application.getCurrent();
    // Extract the custom settings for this application
    const manifest = await app.getManifest();
    return manifest.customSettings ?? {};
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QXlGLG1CQUFtQjtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaURBQWlELHFDQUFxQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlEQUF5RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FB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QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixnRkFBZ0YsRUFBRTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELElBQUksRUFBRSxPQUFPO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwTEFBMEwscUJBQXFCLEVBQUUsNEJBQTRCLHFCQUFxQixPQUFPLEVBQUUsZUFBZTtBQUMxUjtBQUNBO0FB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QTtBQUNBO0FBQ0EsNENBQTRDLElBQUksc0JBQXNCLFVBQVU7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLGFBQWE7QUFDNUc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HLGVBQWU7QUFDbEg7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0QkFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HLGVBQWU7QUFDbEg7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCLEVBQUUsYUFBYSxFQUFFLEVBQUU7QUFDekUsUUFBUTtBQUNSLDJDQUEyQyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsSUFBSTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxFQUFFLEdBQUcsRUFBRTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUNoMEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLHFCQUFNLGdCQUFnQixxQkFBTSxJQUFJLHFCQUFNLHNCQUFzQixxQkFBTTs7QUFFMUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLCtDQUErQyw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseUNBQXlDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnQkFB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QUFDLENBQUM7SUFFSCxNQUFNLG9EQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFbEIsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUNuRCxNQUFNLGNBQWMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQzVELElBQUksZ0JBQWdCLEVBQUUsQ0FBQztZQUN0QixNQUFNLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3BDLENBQUM7UUFDRCxNQUFNLG9EQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ25DLE1BQU0sR0FBRyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxLQUFLLFVBQVUseUJBQXlCO0lBQ3ZDLCtDQUErQztJQUMvQyxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFL0MsbURBQW1EO0lBQ25ELE1BQU0sUUFBUSxHQUEyRCxNQUFNLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNqRyxPQUFPLFFBQVEsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDO0FBQ3RDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL2V4Y2VsL29wZW5maW4uZXhjZWwubWpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vbWljcm9zb2Z0MzY1L29wZW5maW4ubXMzNjUuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9kZXhpZS9kaXN0L2RleGllLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uLi8uLi9ub2RlX21vZHVsZXMvZGV4aWUvaW1wb3J0LXdyYXBwZXIubWpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uLi8uLi9ub2RlX21vZHVsZXMvaHRtbC1wYXJzZS1zdHJpbmdpZnkvZGlzdC9odG1sLXBhcnNlLXN0cmluZ2lmeS5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9pMThuZXh0L2Rpc3QvY2pzL2kxOG5leHQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvSTE4bmV4dFByb3ZpZGVyLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL1RyYW5zLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL1RyYW5zV2l0aG91dENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvY29udGV4dC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9pMThuSW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvaW5pdFJlYWN0STE4bmV4dC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91bmVzY2FwZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91c2VTU1IuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXNlVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvd2l0aFNTUi5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy93aXRoVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL3RpdGxlLWNhc2UvZGlzdC5lczIwMTUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy92b2lkLWVsZW1lbnRzL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uL2NsaWVudC9zcmMvYXBwcy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi9jbGllbnQvc3JjL2V4Y2VsLWludGVncmF0aW9uLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uL2NsaWVudC9zcmMvZXhjZWwudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uL2NsaWVudC9zcmMvcHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGUsdCxyPXtkOihlLHQpPT57Zm9yKHZhciBhIGluIHQpci5vKHQsYSkmJiFyLm8oZSxhKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYSx7ZW51bWVyYWJsZTohMCxnZXQ6dFthXX0pfSxvOihlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sYT17fTtyLmQoYSx7ZHE6KCk9PkFkYXB0ZXJFcnJvcixNUzooKT0+QXBpRXJyb3IseFE6KCk9PkV2ZW50RXJyb3Isc086KCk9PldlLFp1OigpPT5mZSxJMzooKT0+JGUsJFU6KCk9PkdlLGkwOigpPT5JZSxjWDooKT0+SW5pdGlhbGl6YXRpb25FcnJvcixnSDooKT0+SW52YWxpZENlbGxSYW5nZUFkZHJlc3NFcnJvcixfVzooKT0+UGFyYW1ldGVyRXJyb3IsVSQ6KCk9PmksVTc6KCk9PmwscmQ6KCk9PmJlfSk7Y2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWRcIix0KXt2YXIgcjtzdXBlcihlKSx0JiYodGhpcy5pbm5lckVycm9yPXQmJnQpLHRoaXMuc3RhY2s9bnVsbD09PShyPXRoaXMuc3RhY2spfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnJlcGxhY2UoL14oXFx3KkVycm9yKS8sYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApfX1jbGFzcyBBZGFwdGVyRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGV4ZWN1dGUgYWRhcHRlciBmdW5jdGlvblwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIEV2ZW50RXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIHJhaXNlIGV2ZW50XCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgSW5pdGlhbGl6YXRpb25FcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGU9XCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBhZGFwdGVyXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgSW52YWxpZENlbGxSYW5nZUFkZHJlc3NFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKGU9XCJUaGUgY2VsbCByYW5nZSBhZGRyZXNzIGlzIG5vdCB2YWxpZFwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIFBhcmFtZXRlckVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IoZT1cIkludmFsaWQgcGFyYW1ldGVyIHZhbHVlXCIsdCl7c3VwZXIoZSx0KX19IWZ1bmN0aW9uKGUpe2UuQWN0aXZhdGVXb3JrYm9vaz1cIkFjdGl2YXRlV29ya2Jvb2tcIixlLkFjdGl2YXRlV29ya3NoZWV0PVwiQWN0aXZhdGVXb3Jrc2hlZXRcIixlLkFkZFdvcmtzaGVldD1cIkFkZFdvcmtzaGVldFwiLGUuQ2FsY3VsYXRlV29ya2Jvb2s9XCJDYWxjdWxhdGVXb3JrYm9va1wiLGUuQ2FsY3VsYXRlV29ya3NoZWV0PVwiQ2FsY3VsYXRlV29ya3NoZWV0XCIsZS5DbGVhckFsbENlbGxzPVwiQ2xlYXJBbGxDZWxsc1wiLGUuQ2xlYXJBbGxDZWxsVmFsdWVzPVwiQ2xlYXJBbGxDZWxsVmFsdWVzXCIsZS5DbGVhckFsbENlbGxGb3JtYXR0aW5nPVwiQ2xlYXJBbGxDZWxsRm9ybWF0dGluZ1wiLGUuQ2xlYXJDZWxsVmFsdWVzPVwiQ2xlYXJDZWxsVmFsdWVzXCIsZS5DbGVhckNlbGxGb3JtYXR0aW5nPVwiQ2xlYXJDZWxsRm9ybWF0dGluZ1wiLGUuQ2xlYXJDZWxscz1cIkNsZWFyQ2VsbHNcIixlLkNsb3NlV29ya2Jvb2s9XCJDbG9zZVdvcmtib29rXCIsZS5DcmVhdGVXb3JrYm9vaz1cIkNyZWF0ZVdvcmtib29rXCIsZS5EZWxldGVXb3Jrc2hlZXQ9XCJEZWxldGVXb3Jrc2hlZXRcIixlLkRlcmVnaXN0ZXJFdmVudD1cIkRlcmVnaXN0ZXJFdmVudFwiLGUuRXZlbnRGaXJlZD1cIkV2ZW50RmlyZWRcIixlLkZpbHRlckNlbGxzPVwiRmlsdGVyQ2VsbHNcIixlLkdldEFjdGl2ZVdvcmtzaGVldD1cIkdldEFjdGl2ZVdvcmtzaGVldFwiLGUuR2V0Q2FsY3VsYXRpb25Nb2RlPVwiR2V0Q2FsY3VsYXRpb25Nb2RlXCIsZS5HZXRDZWxsTmFtZXM9XCJHZXRDZWxsTmFtZXNcIixlLkdldENlbGxzPVwiR2V0Q2VsbHNcIixlLkdldFJhbmdlQWRkcmVzcz1cIkdldFJhbmdlQWRkcmVzc1wiLGUuR2V0V29ya2Jvb2tCeUlkPVwiR2V0V29ya2Jvb2tCeUlkXCIsZS5HZXRXb3JrYm9va0ZpbGVQYXRoPVwiR2V0V29ya2Jvb2tGaWxlUGF0aFwiLGUuR2V0V29ya2Jvb2tOYW1lPVwiR2V0V29ya2Jvb2tOYW1lXCIsZS5HZXRXb3JrYm9va3M9XCJHZXRXb3JrYm9va3NcIixlLkdldFdvcmtib29rV2luZG93Qm91bmRzPVwiR2V0V29ya2Jvb2tXaW5kb3dCb3VuZHNcIixlLkdldFdvcmtzaGVldEJ5SWQ9XCJHZXRXb3Jrc2hlZXRCeUlkXCIsZS5HZXRXb3Jrc2hlZXRCeU5hbWU9XCJHZXRXb3Jrc2hlZXRCeU5hbWVcIixlLkdldFdvcmtzaGVldE5hbWU9XCJHZXRXb3Jrc2hlZXROYW1lXCIsZS5HZXRXb3Jrc2hlZXRzPVwiR2V0V29ya3NoZWV0c1wiLGUuTG9nTWVzc2FnZT1cIkxvZ01lc3NhZ2VcIixlLk9wZW5Xb3JrYm9vaz1cIk9wZW5Xb3JrYm9va1wiLGUuUHJvdGVjdFdvcmtzaGVldD1cIlByb3RlY3RXb3Jrc2hlZXRcIixlLlF1aXRBcHBsaWNhdGlvbj1cIlF1aXRBcHBsaWNhdGlvblwiLGUuUmVnaXN0ZXJFdmVudD1cIlJlZ2lzdGVyRXZlbnRcIixlLlNhdmVXb3JrYm9vaz1cIlNhdmVXb3JrYm9va1wiLGUuU2F2ZVdvcmtib29rQXM9XCJTYXZlV29ya2Jvb2tBc1wiLGUuU2V0Q2VsbFZhbHVlcz1cIlNldENlbGxWYWx1ZXNcIixlLlNldENlbGxGb3JtYXR0aW5nPVwiU2V0Q2VsbEZvcm1hdHRpbmdcIixlLlNldENlbGxOYW1lPVwiU2V0Q2VsbE5hbWVcIixlLlNldFdvcmtib29rV2luZG93Qm91bmRzPVwiU2V0V29ya2Jvb2tXaW5kb3dCb3VuZHNcIixlLlNldFdvcmtzaGVldE5hbWU9XCJTZXRXb3Jrc2hlZXROYW1lXCJ9KGV8fChlPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmF0ZT1cIkFjdGl2YXRlXCIsZS5BY3RpdmF0ZVdvcmtzaGVldD1cIkFjdGl2YXRlV29ya3NoZWV0XCIsZS5BZGRXb3Jrc2hlZXQ9XCJBZGRXb3Jrc2hlZXRcIixlLkNoYW5nZT1cIkNoYW5nZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuRGVhY3RpdmF0ZT1cIkRlYWN0aXZhdGVcIixlLkRlbGV0ZVdvcmtzaGVldD1cIkRlbGV0ZVdvcmtzaGVldFwifSh0fHwodD17fSkpO2NvbnN0IG89XCIxLjUuMFwiO2xldCBuPSExO2NvbnN0IHM9XCJbQG9wZW5maW4vZXhjZWxdXCIsaT0oKT0+e249ITF9LGw9KCk9PntuPSEwLGQoYHYke299YCl9LGM9KGUsdCk9PntuJiYoZS5pbm5lckVycm9yP2NvbnNvbGUuZXJyb3IodD9gJHtzfSAke3R9YDpzLGUsXCJcXG5cXG4oaW5uZXIpXCIsZS5pbm5lckVycm9yKTpjb25zb2xlLmVycm9yKHQ/YCR7c30gJHt0fWA6cyxlKSl9LGQ9KC4uLmUpPT57biYmY29uc29sZS5sb2cocywuLi5lKX0saD0oLi4uZSk9PntuJiZjb25zb2xlLndhcm4ocywuLi5lKX07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGZpbiYmT2JqZWN0LmFzc2lnbih3aW5kb3cse2Zpbjp7fX0pLE9iamVjdC5hc3NpZ24oZmluLHtJbnRlZ3JhdGlvbnM6e0V4Y2VsOntlbmFibGVMb2dnaW5nOmwsZGlzYWJsZUxvZ2dpbmc6aX19fSk7Y29uc3Qgdz1uZXcgTWFwLHA9YXN5bmMocixhLG8sbixzKT0+e2lmKCFhfHwhYS5ldmVudFRhcmdldHx8IWEub2JqZWN0SWQpe2NvbnN0IGU9bmV3IEV2ZW50RXJyb3IoXCJFdmVudCByZWdpc3RyYXRpb24gbWlzc2luZyByZXF1aXJlZCB2YWx1ZXNcIik7dGhyb3cgYyhlKSxlfWNvbnN0IGk9T2JqZWN0LmtleXModCkuZmluZCgoZT0+ZS50b0xvd2VyQ2FzZSgpPT09by50b0xvd2VyQ2FzZSgpKSk7aWYoIWkpe2NvbnN0IGU9bmV3IEV2ZW50RXJyb3IoYFVuc3VwcG9ydGVkIGV2ZW50IG5hbWU6ICR7b31gKTt0aHJvdyBjKGUpLGV9Y29uc3QgbD1PYmplY3QuYXNzaWduKHtldmVudE5hbWU6dFtpXX0sYSk7ZChcIlJlZ2lzdGVyaW5nIGV2ZW50XCIsbCk7dHJ5e2NvbnN0IHQ9YXdhaXQgci5kaXNwYXRjaChlLlJlZ2lzdGVyRXZlbnQsbCksYT17aGFuZGxlcjpzLGxpc3RlbmVyOm59O3cuc2V0KHQsYSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcih2b2lkIDAsZSl9fSxrPShlLHQpPT57Y29uc3R7ZXZlbnRSZWdpc3RyYXRpb25JZDpyfT1lLGE9dy5nZXQocik7aWYoIWEpdGhyb3cgbmV3IEV2ZW50RXJyb3IoYE5vIHJlZ2lzdGVyZWQgZXZlbnQgbGlzdGVuZXIgZm91bmQgZm9yIGlkOiAke3J9YCk7ZChcIkV2ZW50IHBheWxvYWQgcmVjZWl2ZWRcIixlKSxhLmhhbmRsZXIoZSl9LHU9dD0+YXN5bmMgcj0+e2xldCBhO2Zvcihjb25zdFtlLHRdb2YgdylpZih0Lmxpc3RlbmVyPT09cil7YT1lO2JyZWFrfWlmKCFhKXRocm93IG5ldyBFdmVudEVycm9yO2QoXCJEZXJlZ2lzdGVyaW5nIGV2ZW50OlwiLGEpO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuRGVyZWdpc3RlckV2ZW50LGEpLHcuZGVsZXRlKGEpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fTt2YXIgZzshZnVuY3Rpb24oZSl7ZS5Xb3JrYm9vaz1cIldvcmtib29rXCIsZS5Xb3Jrc2hlZXQ9XCJXb3Jrc2hlZXRcIixlLkNlbGxSYW5nZT1cIkNlbGxSYW5nZVwifShnfHwoZz17fSkpO2NvbnN0IG09KCk9PnZvaWQgMCE9PWNyeXB0by5yYW5kb21VVUlEP2NyeXB0by5yYW5kb21VVUlEKCk6XCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKC9bMDE4XS9nLChlPT57Y29uc3QgdD13aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+Pk51bWJlcihlKS80O3JldHVybihOdW1iZXIoZSledCkudG9TdHJpbmcoMTYpfSkpLEM9bmV3IE1hcCx5PShlLHQpPT5hc3luYyhyLGEpPT5wKGUsdCxyLGEsVyhhKSksdj0odCxyLGEpPT5hc3luYygpPT57ZChgQ2VsbCByYW5nZTogQ2xlYXI7IGFkZHJlc3M6JHthfSAoJHtyfSlgKTtjb25zdCBvPXthZGRyZXNzOmEsb2JqZWN0SWQ6cn07dHJ5e2F3YWl0IHQuZGlzcGF0Y2goZS5DbGVhckNlbGxzLG8pfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxiPSh0LHIsYSk9PmFzeW5jKCk9PntkKGBDZWxsIHJhbmdlOiBDbGVhciBmb3JtYXR0aW5nOyBhZGRyZXNzOiR7YX0gKCR7cn0pYCk7Y29uc3Qgbz17YWRkcmVzczphLG9iamVjdElkOnJ9O3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2xlYXJDZWxsRm9ybWF0dGluZyxvKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sQT0odCxyLGEpPT5hc3luYygpPT57ZChgQ2VsbCByYW5nZTogQ2xlYXIgdmFsdWVzOyBhZGRyZXNzOiR7YX0gKCR7cn0pYCk7Y29uc3Qgbz17YWRkcmVzczphLG9iamVjdElkOnJ9O3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2xlYXJDZWxsVmFsdWVzLG8pfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxFPShlLHQscik9PihhLG89MWUzKT0+e2lmKG88PTApdGhyb3cgbmV3IEFwaUVycm9yKFwiVXBkYXRlIGludGVydmFsIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7Y29uc3Qgbj1tKCk7ZChgQ2VsbCByYW5nZTogQ3JlYXRlIGRhdGEgc3RyZWFtOyBzdHJlYW1JZDoke259OyBhZGRyZXNzOiR7cn07IHVwZGF0ZUludGVydmFsOiR7b30gKCR7dH0pYCk7Y29uc3Qgcz17YWRkcmVzczpyLGNsb3NlOigpPT57ZChgQ2xvc2VkIHN0cmVhbSAoJHtufSlgKSwoZT0+e3ZhciB0O3RyeXtjb25zdCByPUMuZ2V0KGUpO2lmKCFyKXRocm93IG5ldyBBcGlFcnJvcihgVW5hYmxlIHRvIGZpbmQgcmVnaXN0ZXJlZCBkYXRhIHN0cmVhbSB3aXRoIGlkICR7ZX1gKTt2b2lkIDAhPT0obnVsbCE9PSh0PXIudGltZXIpJiZ2b2lkIDAhPT10P3Q6dm9pZCAwKSYmRihlKSxDLmRlbGV0ZShlKX1jYXRjaChlKXt0aHJvdyBjKGUpLGV9fSkobil9LGlkOm4sc3RhcnQ6KCk9PntkKGBTdGFydGVkIHN0cmVhbWluZyAoJHtufSlgKSxVKG4sYSxlLHQpfSxzdG9wOigpPT57ZChgU3RvcHBlZCBzdHJlYW1pbmcgKCR7bn0pYCksRihuKX0sdXBkYXRlSW50ZXJ2YWw6byx3b3Jrc2hlZXRJZDp0fTtyZXR1cm4gQy5zZXQobix7ZGF0YVN0cmVhbTpzfSksc30sVz1lPT5yPT57dmFyIGE7dHJ5e2lmKChudWxsPT09KGE9ci5ldmVudE5hbWUpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRvVXBwZXJDYXNlKCkpPT09dC5DaGFuZ2UudG9VcHBlckNhc2UoKSlyZXR1cm4gZShyLmNoYW5nZWRDZWxscyk7dGhyb3cgbmV3IEV2ZW50RXJyb3IoYFVuZXhwZWN0ZWQgY2VsbCByYW5nZSBldmVudDogJHtyLmV2ZW50TmFtZX1gKX1jYXRjaChlKXtjKGUpfX0sZj0oZSx0LHIpPT5hc3luYygpPT57ZChgQ2VsbCByYW5nZTogR2V0IGNlbGxzOyBhZGRyZXNzOiR7cn0gKCR7dH0pYCk7Y29uc3QgYT1hd2FpdCAkKGUsdCxyKTtyZXR1cm4gZChgJHtyfTpgLGEpLGF9LCQ9YXN5bmModCxyLGEpPT57Y29uc3Qgbz17YWRkcmVzczphLG9iamVjdElkOnJ9O3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLkdldENlbGxzLG8pfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxHPSh0LHIsYSk9PmFzeW5jKCk9PntkKGBDZWxsIHJhbmdlOiBHZXQgbmFtZTsgYWRkcmVzczoke2F9ICgke3J9KWApO2NvbnN0IG89e2FkZHJlc3M6YSxvYmplY3RJZDpyfTt0cnl7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goZS5HZXRDZWxsTmFtZXMsbyl9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LEk9KHQscixhKT0+YXN5bmMobyxuLHMsaSxsPSEwKT0+e2QoYENlbGwgcmFuZ2U6IFNldCBmaWx0ZXI7IGFkZHJlc3M6JHthfSAoJHtyfSlgLHtjb2x1bW5JbmRleDpvLGZpbHRlck9wZXJhdG9yOm4sY3JpdGVyaWExOnMsY3JpdGVyaWEyOmksdmlzaWJsZURyb3BEb3duOmx9KTtjb25zdCBjPXthZGRyZXNzOmEsY3JpdGVyaWExOnMsY3JpdGVyaWEyOmksY29sdW1uSW5kZXg6byxmaWx0ZXJPcGVyYXRvcjpuLG9iamVjdElkOnIsdmlzaWJsZURyb3BEb3duOmx9O3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuRmlsdGVyQ2VsbHMsYyl9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LE49KHQscixhKT0+YXN5bmMgbz0+e2QoYENlbGwgcmFuZ2U6IFNldCBmb3JtYXR0aW5nOyBhZGRyZXNzOiR7YX0gKCR7cn0pYCxvKTtjb25zdCBuPXthZGRyZXNzOmEsZm9ybWF0dGluZzpvLG9iamVjdElkOnJ9O3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuU2V0Q2VsbEZvcm1hdHRpbmcsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LFM9KHQscixhKT0+YXN5bmMgbz0+e2NvbnN0IG49by50cmltKCk7bGV0IHM7aWYoIW4pdGhyb3cgcz1uZXcgUGFyYW1ldGVyRXJyb3IoXCJOYW1lIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmdcIiksYyhzKSxzO2lmKG4ubGVuZ3RoPjI1NSl0aHJvdyBzPW5ldyBQYXJhbWV0ZXJFcnJvcihcIk5hbWUgbXVzdCBiZSAyNTUgY2hhcmFjdGVycyBvciBsZXNzXCIpLGMocykscztpZigvW15hLXpBLVowLTlfLj9cXFxcXCInXS8udGVzdChuKSl0aHJvdyBzPW5ldyBQYXJhbWV0ZXJFcnJvcihcIk5hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzXCIpLGMocykscztpZigvXlxcZC8udGVzdChuKSl0aHJvdyBzPW5ldyBQYXJhbWV0ZXJFcnJvcihcIk5hbWUgY2Fubm90IHN0YXJ0IHdpdGggYSBudW1iZXJcIiksYyhzKSxzO2QoYENlbGwgcmFuZ2U6IFNldCBuYW1lOyBhZGRyZXNzOiR7YX07IG5ld05hbWU6JHtufSAoJHtyfSlgKTtjb25zdCBpPXthZGRyZXNzOmEsbmFtZTpuLG9iamVjdElkOnJ9O3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuU2V0Q2VsbE5hbWUsaSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LEQ9KHQscixhKT0+YXN5bmMgbz0+e2QoYENlbGwgcmFuZ2U6IFNldCB2YWx1ZXM7IGFkZHJlc3M6JHthfSAoJHtyfSlgLG8pO2NvbnN0IG49e2FkZHJlc3M6YSxvYmplY3RJZDpyLHZhbHVlc01hcDpvfTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLlNldENlbGxWYWx1ZXMsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LFU9KGUsdCxyLGEpPT57dmFyIG87dHJ5e2NvbnN0IG49Qy5nZXQoZSk7aWYoIW4pdGhyb3cgbmV3IEFwaUVycm9yKGBVbmFibGUgdG8gZmluZCByZWdpc3RlcmVkIGRhdGEgc3RyZWFtIHdpdGggaWQgJHtlfWApO3ZvaWQgMCE9PShudWxsIT09KG89bi50aW1lcikmJnZvaWQgMCE9PW8/bzp2b2lkIDApJiZGKGUpO2NvbnN0e2FkZHJlc3M6cyx1cGRhdGVJbnRlcnZhbDppfT1uLmRhdGFTdHJlYW0sbD1hc3luYygpPT57Y29uc3Qgbz1hd2FpdCB0KCk7dHJ5e2F3YWl0IEQocixhLHMpKFtbb11dKX1jYXRjaCh0KXtoKGBVbmFibGUgdG8gdXBkYXRlIGNlbGwgcmFuZ2UgZm9yIHN0cmVhbSB3aXRoIGlkICR7ZX06ICR7bnVsbD09dD92b2lkIDA6dC5tZXNzYWdlfWApfX0sYz13aW5kb3cuc2V0SW50ZXJ2YWwobCxpKTtuLnRpbWVyPWN9Y2F0Y2goZSl7dGhyb3cgYyhlKSxlfX0sRj1lPT57dmFyIHQ7dHJ5e2NvbnN0IHI9Qy5nZXQoZSk7aWYoIXIpdGhyb3cgbmV3IEFwaUVycm9yKGBVbmFibGUgdG8gZmluZCByZWdpc3RlcmVkIGRhdGEgc3RyZWFtIHdpdGggaWQgJHtlfWApO2lmKHZvaWQgMD09PShudWxsIT09KHQ9ci50aW1lcikmJnZvaWQgMCE9PXQ/dDp2b2lkIDApKXJldHVybjt3aW5kb3cuY2xlYXJJbnRlcnZhbChyLnRpbWVyKSxyLnRpbWVyPXZvaWQgMH1jYXRjaChlKXt0aHJvdyBjKGUpLGV9fSxQPSh0LHIpPT5hc3luYygpPT57ZChgV29ya3NoZWV0OiBBY3RpdmF0ZSAoJHtyfSlgKTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLkFjdGl2YXRlV29ya3NoZWV0LHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSx4PShlLHQpPT5hc3luYyhyLGEpPT5wKGUsdCxyLGEsVihhKSksTD0odCxyKT0+YXN5bmMoKT0+e2QoYFdvcmtzaGVldDogQ2FsY3VsYXRlICgke3J9KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2FsY3VsYXRlV29ya3NoZWV0LHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxCPSh0LHIpPT5hc3luYygpPT57ZChgV29ya3NoZWV0OiBDbGVhciBhbGwgY2VsbCBmb3JtYXR0aW5nICgke3J9KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2xlYXJBbGxDZWxsRm9ybWF0dGluZyxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0saj0odCxyKT0+YXN5bmMoKT0+e2QoYFdvcmtzaGVldDogQ2xlYXIgYWxsIGNlbGxzICgke3J9KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2xlYXJBbGxDZWxscyxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sUj0odCxyKT0+YXN5bmMoKT0+e2QoYFdvcmtzaGVldDogQ2xlYXIgYWxsIGNlbGwgdmFsdWVzICgke3J9KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2xlYXJBbGxDZWxsVmFsdWVzLHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxPPShlLHQpPT57Y29uc3Qgcj17ZXZlbnRUYXJnZXQ6Zy5Xb3Jrc2hlZXQsb2JqZWN0SWQ6dH07cmV0dXJue29iamVjdElkOnQsYWN0aXZhdGU6UChlLHQpLGFkZEV2ZW50TGlzdGVuZXI6eChlLHIpLGNhbGN1bGF0ZTpMKGUsdCksY2xlYXJBbGxDZWxsRm9ybWF0dGluZzpCKGUsdCksY2xlYXJBbGxDZWxsczpqKGUsdCksY2xlYXJBbGxDZWxsVmFsdWVzOlIoZSx0KSxjbGVhckNlbGxGb3JtYXR0aW5nOnI9PmIoZSx0LHIpKCksY2xlYXJDZWxsczpyPT52KGUsdCxyKSgpLGNsZWFyQ2VsbFZhbHVlczpyPT5BKGUsdCxyKSgpLGNyZWF0ZURhdGFTdHJlYW06KHIsYSxvKT0+RShlLHQscikoYSxvKSxkZWxldGU6eihlLHQpLGZpbHRlckNlbGxzOihyLGEsbyxuLHMsaSk9PkkoZSx0LHIpKGEsbyxuLHMsaSksZ2V0Q2VsbFJhbmdlOk0oZSxyKSxnZXRDZWxsczpyPT5mKGUsdCxyKSgpLGdldE5hbWU6VChlLHQpLHByb3RlY3Q6SChlLHQpLHJlbW92ZUV2ZW50TGlzdGVuZXI6dShlKSxzZXRDZWxsRm9ybWF0dGluZzoocixhKT0+TihlLHQscikoYSksc2V0Q2VsbE5hbWU6KHIsYSk9PlMoZSx0LHIpKGEpLHNldENlbGxWYWx1ZXM6KHIsYSk9PkQoZSx0LHIpKGEpLHNldE5hbWU6UShlLHQpfX0sVj1lPT5yPT57dmFyIGE7dHJ5e3N3aXRjaChudWxsPT09KGE9ci5ldmVudE5hbWUpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRvVXBwZXJDYXNlKCkpe2Nhc2UgdC5BY3RpdmF0ZS50b1VwcGVyQ2FzZSgpOmNhc2UgdC5EZWFjdGl2YXRlLnRvVXBwZXJDYXNlKCk6cmV0dXJuIGUoKTtjYXNlIHQuQ2hhbmdlLnRvVXBwZXJDYXNlKCk6cmV0dXJuIGUoci5jaGFuZ2VkQ2VsbHMpO2RlZmF1bHQ6dGhyb3cgbmV3IEV2ZW50RXJyb3IoYFVuZXhwZWN0ZWQgd29ya3NoZWV0IGV2ZW50OiAke3IuZXZlbnROYW1lfWApfX1jYXRjaChlKXtjKGUpfX0sej0odCxyKT0+YXN5bmMoKT0+e2QoYFdvcmtzaGVldDogRGVsZXRlICgke3J9KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuRGVsZXRlV29ya3NoZWV0LHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxNPSh0LHIpPT5hc3luYyBhPT57Y29uc3R7b2JqZWN0SWQ6b309cjtkKGBXb3Jrc2hlZXQ6IEdldCBjZWxsIHJhbmdlOyBhZGRyZXNzOiR7YX0gKCR7b30pYCk7dHJ5e2NvbnN0IG49e2FkZHJlc3M6YSxvYmplY3RJZDpvfSxzPWF3YWl0IHQuZGlzcGF0Y2goZS5HZXRSYW5nZUFkZHJlc3Msbik7cmV0dXJuKChlLHQscik9Pntjb25zdHtvYmplY3RJZDphfT10LG89e2NlbGxSYW5nZUFkZHJlc3M6cixldmVudFRhcmdldDpnLkNlbGxSYW5nZSxvYmplY3RJZDphfTtyZXR1cm57YWRkRXZlbnRMaXN0ZW5lcjp5KGUsbyksYWRkcmVzczpyLGNsZWFyOnYoZSxhLHIpLGNsZWFyRm9ybWF0dGluZzpiKGUsYSxyKSxjbGVhclZhbHVlczpBKGUsYSxyKSxjcmVhdGVEYXRhU3RyZWFtOkUoZSxhLHIpLGdldENlbGxzOmYoZSxhLHIpLGdldE5hbWVzOkcoZSxhLHIpLHJlbW92ZUV2ZW50TGlzdGVuZXI6dShlKSxzZXRGaWx0ZXI6SShlLGEsciksc2V0Rm9ybWF0dGluZzpOKGUsYSxyKSxzZXROYW1lOlMoZSxhLHIpLHNldFZhbHVlczpEKGUsYSxyKX19KSh0LHIscyl9Y2F0Y2goZSl7aWYoZS5tZXNzYWdlLmluZGV4T2YoXCJVbmFibGUgdG8gZ2V0IGNlbGwgcmFuZ2VcIik+PTApe2NvbnN0IGU9bmV3IEludmFsaWRDZWxsUmFuZ2VBZGRyZXNzRXJyb3I7dGhyb3cgYyhlKSxlfXRocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxUPSh0LHIpPT5hc3luYygpPT57ZChgV29ya3NoZWV0OiBHZXQgbmFtZSAoJHtyfSlgKTt0cnl7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goZS5HZXRXb3Jrc2hlZXROYW1lLHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxIPSh0LHIpPT5hc3luYygpPT57ZChgV29ya3NoZWV0OiBQcm90ZWN0ICgke3J9KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuUHJvdGVjdFdvcmtzaGVldCxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sUT0odCxyKT0+YXN5bmMgYT0+e2NvbnN0IG89YS5zbGljZSgwLDMxKS5yZXBsYWNlKC9bOlxcXFwvPypbXFxdXS9nLFwiXCIpLnRyaW0oKTtsZXQgbjtpZighbyl0aHJvdyBuPW5ldyBQYXJhbWV0ZXJFcnJvcihcIkludmFsaWQgd29ya3NoZWV0IG5hbWVcIiksYyhuKSxuO2QoYFdvcmtzaGVldDogU2V0IG5hbWU7IG5ld1dvcmtzaGVldE5hbWU6JHtvfSAoJHtyfSlgKTtjb25zdCBzPXtuZXdXb3Jrc2hlZXROYW1lOm8sb2JqZWN0SWQ6cn07dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuU2V0V29ya3NoZWV0TmFtZSxzKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sXz0odCxyKT0+YXN5bmMoKT0+e2QoYFdvcmtib29rOiBBY3RpdmF0ZSAoJHtyfSlgKTt0cnl7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goZS5BY3RpdmF0ZVdvcmtib29rLHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxxPShlLHQpPT5hc3luYyhyLGEpPT5wKGUsdCxyLGEsWShlLGEpKSxKPSh0LHIpPT5hc3luYygpPT57bGV0IGE7ZChgV29ya2Jvb2s6IEFkZCB3b3Jrc2hlZXQgKCR7cn0pYCk7dHJ5e2E9YXdhaXQgdC5kaXNwYXRjaChlLkFkZFdvcmtzaGVldCxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfXJldHVybiBPKHQsYSl9LEs9KHQscik9PmFzeW5jKCk9PntkKGBXb3JrYm9vazogQ2FsY3VsYXRlICgke3J9KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2FsY3VsYXRlV29ya2Jvb2sscil9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LFg9KHQscik9PmFzeW5jKCk9PntkKGBXb3JrYm9vazogQ2xvc2UgKCR7cn0pYCk7dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuQ2xvc2VXb3JrYm9vayxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sWj0oZSx0KT0+e2NvbnN0IHI9e2V2ZW50VGFyZ2V0OmcuV29ya2Jvb2ssb2JqZWN0SWQ6dH07cmV0dXJue29iamVjdElkOnQsYWN0aXZhdGU6XyhlLHQpLGFkZFdvcmtzaGVldDpKKGUsdCksYWRkRXZlbnRMaXN0ZW5lcjpxKGUsciksY2FsY3VsYXRlOksoZSx0KSxjbG9zZTpYKGUsdCksZ2V0QWN0aXZlV29ya3NoZWV0OmVlKGUsdCksZ2V0Q2FsY3VsYXRpb25Nb2RlOnRlKGUsdCksZ2V0RmlsZVBhdGg6cmUoZSx0KSxnZXROYW1lOmFlKGUsdCksZ2V0V2luZG93Qm91bmRzOm9lKGUsdCksZ2V0V29ya3NoZWV0QnlOYW1lOm5lKGUsdCksZ2V0V29ya3NoZWV0czpzZShlLHQpLHJlbW92ZUV2ZW50TGlzdGVuZXI6dShlKSxzYXZlOmllKGUsdCksc2F2ZUFzOmxlKGUsdCksc2V0V2luZG93Qm91bmRzOmNlKGUsdCl9fSxZPShlLHIpPT5hPT57dmFyIG87dHJ5e3N3aXRjaChudWxsPT09KG89YS5ldmVudE5hbWUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRvVXBwZXJDYXNlKCkpe2Nhc2UgdC5BY3RpdmF0ZS50b1VwcGVyQ2FzZSgpOmNhc2UgdC5DbG9zZS50b1VwcGVyQ2FzZSgpOmNhc2UgdC5EZWFjdGl2YXRlLnRvVXBwZXJDYXNlKCk6cmV0dXJuIHIoKTtjYXNlIHQuQWN0aXZhdGVXb3Jrc2hlZXQudG9VcHBlckNhc2UoKTpjYXNlIHQuQWRkV29ya3NoZWV0LnRvVXBwZXJDYXNlKCk6cmV0dXJuIHIoTyhlLGEud29ya3NoZWV0T2JqZWN0SWQpKTtjYXNlIHQuRGVsZXRlV29ya3NoZWV0LnRvVXBwZXJDYXNlKCk6cmV0dXJuIHIoYS53b3Jrc2hlZXROYW1lKTtkZWZhdWx0OnRocm93IG5ldyBFdmVudEVycm9yKGBVbmV4cGVjdGVkIHdvcmtib29rIGV2ZW50OiAke2EuZXZlbnROYW1lfWApfX1jYXRjaChlKXtjKGUpfX0sZWU9KHQscik9PmFzeW5jKCk9PntsZXQgYTtkKGBXb3JrYm9vazogR2V0IGFjdGl2ZSB3b3Jrc2hlZXQ6ICgke3J9KWApO3RyeXthPWF3YWl0IHQuZGlzcGF0Y2goZS5HZXRBY3RpdmVXb3Jrc2hlZXQscil9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn1yZXR1cm4gTyh0LGEpfSx0ZT0odCxyKT0+YXN5bmMoKT0+e2QoXCJXb3JrYm9vazogR2V0IGNhbGN1bGF0aW9uIG1vZGVcIik7dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuR2V0Q2FsY3VsYXRpb25Nb2RlLHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9fSxyZT0odCxyKT0+YXN5bmMoKT0+e2QoYFdvcmtib29rOiBHZXQgZmlsZSBwYXRoICgke3J9KWApO3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLkdldFdvcmtib29rRmlsZVBhdGgscil9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LGFlPSh0LHIpPT5hc3luYygpPT57ZChgV29ya2Jvb2s6IEdldCBuYW1lICgke3J9KWApO3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLkdldFdvcmtib29rTmFtZSxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sb2U9KHQscik9PmFzeW5jKCk9PntkKGBXb3JrYm9vazogR2V0IHdpbmRvdyBib3VuZHMgKCR7cn0pYCk7dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuR2V0V29ya2Jvb2tXaW5kb3dCb3VuZHMscil9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LG5lPSh0LHIpPT5hc3luYyBhPT57bGV0IG87ZChgV29ya2Jvb2s6IEdldCB3b3Jrc2hlZXQgYnkgbmFtZTogJHthfSAoJHtyfSlgKTt0cnl7aWYobz1hd2FpdCB0LmRpc3BhdGNoKGUuR2V0V29ya3NoZWV0QnlOYW1lLHtvYmplY3RJZDpyLHdvcmtzaGVldE5hbWU6YX0pLG51bGw9PT1vKXJldHVybiBudWxsfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9cmV0dXJuIE8odCxvKX0sc2U9KHQscik9PmFzeW5jKCk9PntsZXQgYTtkKGBXb3JrYm9vazogR2V0IHdvcmtzaGVldHMgKCR7cn0pYCk7dHJ5e2E9YXdhaXQgdC5kaXNwYXRjaChlLkdldFdvcmtzaGVldHMscil9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn1yZXR1cm4gYS5tYXAoKGU9Pk8odCxlKSkpfSxpZT0odCxyKT0+YXN5bmMoKT0+e2QoYFdvcmtib29rOiBTYXZlICgke3J9KWApO3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLlNhdmVXb3JrYm9vayxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sbGU9KHQscik9PmFzeW5jIGE9PntkKGBXb3JrYm9vazogU2F2ZSBhczsgZmlsZVBhdGg6JHthfSAoJHtyfSlgKTt0cnl7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goZS5TYXZlV29ya2Jvb2tBcyx7ZmlsZVBhdGg6YSxvYmplY3RJZDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEFkYXB0ZXJFcnJvcn19LGNlPSh0LHIpPT5hc3luYyBhPT57ZChgV29ya2Jvb2s6IFNldCB3aW5kb3cgYm91bmRzICgke3J9KWAsYSk7Y29uc3R7aGVpZ2h0Om8sbGVmdDpuLHRvcDpzLHdpZHRoOml9PWE7aWYobnVsbCE9byYmKE51bWJlci5pc05hTihvKXx8bzw9MCkpe2NvbnN0IGU9bmV3IFBhcmFtZXRlckVycm9yKFwiV29ya2Jvb2sgd2luZG93IGhlaWdodCBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiB6ZXJvLlwiKTt0aHJvdyBjKGUpLGV9aWYobnVsbCE9biYmTnVtYmVyLmlzTmFOKG4pKXtjb25zdCBlPW5ldyBQYXJhbWV0ZXJFcnJvcihcIldvcmtib29rIHdpbmRvdyBsZWZ0IHBvc2l0aW9uIG11c3QgYmUgYSB2YWxpZCBudW1iZXIuXCIpO3Rocm93IGMoZSksZX1pZihudWxsIT1zJiZOdW1iZXIuaXNOYU4ocykpe2NvbnN0IGU9bmV3IFBhcmFtZXRlckVycm9yKFwiV29ya2Jvb2sgd2luZG93IHRvcCBwb3NpdGlvbiBtdXN0IGJlIGEgdmFsaWQgbnVtYmVyLlwiKTt0aHJvdyBjKGUpLGV9aWYobnVsbCE9aSYmKE51bWJlci5pc05hTihpKXx8aTw9MCkpe2NvbnN0IGU9bmV3IFBhcmFtZXRlckVycm9yKFwiV29ya2Jvb2sgd2luZG93IHdpZHRoIG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIHplcm8uXCIpO3Rocm93IGMoZSksZX1jb25zdCBsPXtuZXdXaW5kb3dCb3VuZHM6YSxvYmplY3RJZDpyfTt0cnl7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goZS5TZXRXb3JrYm9va1dpbmRvd0JvdW5kcyxsKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX0sZGU9dD0+YXN5bmMgcj0+e2xldCBhO2QoYEFwcGxpY2F0aW9uOiBHZXQgd29ya2Jvb2s7IGlkOiR7cn1gKTt0cnl7YT1hd2FpdCB0LmRpc3BhdGNoKGUuR2V0V29ya2Jvb2tCeUlkLHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9cmV0dXJuIFoodCxhKX0saGU9dD0+YXN5bmMoKT0+e2xldCByO2QoXCJBcHBsaWNhdGlvbjogR2V0IHdvcmtib29rc1wiKTt0cnl7cj1hd2FpdCB0LmRpc3BhdGNoKGUuR2V0V29ya2Jvb2tzKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfXJldHVybiByLm1hcCgoZT0+Wih0LGUpKSl9LHdlPXQ9PmFzeW5jIHI9PntkKGBBcHBsaWNhdGlvbjogR2V0IHdvcmtzaGVldDsgaWQ6JHtyfWApO3RyeXtyPWF3YWl0IHQuZGlzcGF0Y2goZS5HZXRXb3Jrc2hlZXRCeUlkLHIpfWNhdGNoKGUpe3Rocm93IG5ldyBBZGFwdGVyRXJyb3J9cmV0dXJuIE8odCxyKX0scGU9dD0+YXN5bmMgcj0+e2xldCBhO2QoYEFwcGxpY2F0aW9uOiBPcGVuIHdvcmtib29rOyBmaWxlUGF0aDoke3J9YCk7dHJ5e2E9YXdhaXQgdC5kaXNwYXRjaChlLk9wZW5Xb3JrYm9vayxyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfXJldHVybiBaKHQsYSl9LGtlPXQ9PmFzeW5jKHI9ITApPT57ZChgQXBwbGljYXRpb246IFF1aXQ7IGRpc3BsYXlBbGVydHM6JHtyfWApO3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLlF1aXRBcHBsaWNhdGlvbixyKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfX07dmFyIHVlLGdlOyFmdW5jdGlvbihlKXtlLkV4Y2VsQXBwbGljYXRpb249XCJFWENFTC1BUFBcIn0odWV8fCh1ZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5JbmZvPTFdPVwiSW5mb1wiLGVbZS5XYXJuPTJdPVwiV2FyblwiLGVbZS5FcnJvcj0zXT1cIkVycm9yXCJ9KGdlfHwoZ2U9e30pKTtjb25zdCBtZT1cImV4Y2VsLWFkYXB0ZXJcIixDZT1tKCk7bGV0IHllO2NvbnN0IHZlPSgpPT5vLGJlPWFzeW5jKHQ9ITEpPT57dHJ5e2lmKGF3YWl0KGFzeW5jIGU9Pnt0cnl7ZChcIlJlZ2lzdGVyaW5nIHVzYWdlXCIpLGF3YWl0IGZpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcImludGVncmF0aW9uLWZlYXR1cmVcIixkYXRhOnthcGlWZXJzaW9uOm8sY29tcG9uZW50TmFtZTplfX0pfWNhdGNoKHQpe2goYFVuYWJsZSB0byByZWdpc3RlciB1c2FnZSBmb3IgZmVhdHVyZSAke2V9OiAke251bGw9PXQ/dm9pZCAwOnQubWVzc2FnZX1gKX19KSh1ZS5FeGNlbEFwcGxpY2F0aW9uKSwhYXdhaXQoYXN5bmMgZT0+KGF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuZ2V0QWxsQ2hhbm5lbHMoKSkuc29tZSgodD0+dC5jaGFubmVsTmFtZT09PWUpKSkoQ2UpKXthd2FpdChhc3luYygpPT57dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9KGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldE1hbmlmZXN0KCkpLmFwcEFzc2V0cyl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZmluZCgoZT0+ZS5hbGlhcz09PW1lKSk7aWYodClyZXR1cm4gdm9pZCBoKFwiRGV0ZWN0ZWQgYWRhcHRlciBwYWNrYWdlIGluIGFwcCBtYW5pZmVzdCBhcHBBc3NldHNcIix0KTtpZihhd2FpdCBFZSgpKXJldHVybiB2b2lkIGQoXCJVc2luZyBleGlzdGluZyBhZGFwdGVyIHBhY2thZ2VcIik7Y29uc3Qgcj17YWxpYXM6bWUsc3JjOmBodHRwczovL2Nkbi5vcGVuZmluLmNvL3JlbGVhc2UvaW50ZWdyYXRpb25zL2V4Y2VsLyR7dmUoKX0vT3BlbkZpbi5FeGNlbC56aXBgLHRhcmdldDpcIk9wZW5GaW4uRXhjZWwuZXhlXCIsdmVyc2lvbjp2ZSgpfTtkKFwiRG93bmxvYWRpbmcgYWRhcHRlciBwYWNrYWdlXCIscik7dHJ5e2F3YWl0IGZpbi5TeXN0ZW0uZG93bmxvYWRBc3NldChyLCgoKT0+e30pKX1jYXRjaChlKXt0aHJvdyBjKFwiVW5hYmxlIHRvIGRvd25sb2FkIGFkYXB0ZXIgcGFja2FnZVwiKSxlfX0pKCk7Y29uc3R7c2VjdXJpdHlSZWFsbTplLHBvcnQ6cn09YXdhaXQgZmluLlN5c3RlbS5nZXRSdW50aW1lSW5mbygpO2xldHtsaWNlbnNlS2V5OmF9PWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldE1hbmlmZXN0KCk7YT1udWxsIT1hP2E6XCJOT19MSUNFTlNFX0tFWVwiO2NvbnN0IG89ZmluLm1lLnV1aWQ7ZChcIkluaXRpYWxpemluZyBhZGFwdGVyXCIse2FkYXB0ZXJMb2dnaW5nRW5hYmxlZDp0LGNoYW5uZWxOYW1lOkNlLGxpY2Vuc2VLZXk6YSxwb3J0OnIsc2VjdXJpdHlSZWFsbTplLHV1aWQ6b30pLGZpbi5TeXN0ZW0ubGF1bmNoRXh0ZXJuYWxQcm9jZXNzKHthbGlhczptZSxhcmd1bWVudHM6YCR7b30gJHthfSAke3J9ICR7ZX0gJHtDZX0gJHt0fWB9KX1jb25zdCByPWZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChDZSx7cGF5bG9hZDp7dmVyc2lvbjp2ZSgpfX0pLGE9bmV3IFByb21pc2UoKGU9PntzZXRUaW1lb3V0KGUsMmU0KX0pKS50aGVuKCgoKT0+e3Rocm93IG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gdG8gYWRhcHRlciB0aW1lZCBvdXRcIil9KSk7eWU9YXdhaXQgUHJvbWlzZS5yYWNlKFtyLGFdKSxkKGBDb25uZWN0ZWQgdG8gYWRhcHRlciAke3llLnByb3ZpZGVySWRlbnRpdHkudXVpZH0gb24gY2hhbm5lbCAke0NlfWApLHllLnJlZ2lzdGVyKGUuTG9nTWVzc2FnZSxBZSkseWUucmVnaXN0ZXIoZS5FdmVudEZpcmVkLGspfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IEluaXRpYWxpemF0aW9uRXJyb3Iodm9pZCAwLGUpO3Rocm93IGModCksdH1yZXR1cm57YWRhcHRlcjp7Y2hhbm5lbE5hbWU6Q2UsdmVyc2lvbjp2ZSgpfSxjcmVhdGVXb3JrYm9vazoocj15ZSxhc3luYygpPT57bGV0IHQ7ZChcIkFwcGxpY2F0aW9uOiBDcmVhdGUgd29ya2Jvb2tcIik7dHJ5e3Q9YXdhaXQgci5kaXNwYXRjaChlLkNyZWF0ZVdvcmtib29rKX1jYXRjaChlKXt0aHJvdyBuZXcgQWRhcHRlckVycm9yfXJldHVybiBaKHIsdCl9KSxnZXRXb3JrYm9va0J5SWQ6ZGUoeWUpLGdldFdvcmtib29rczpoZSh5ZSksZ2V0V29ya3NoZWV0QnlJZDp3ZSh5ZSksb3Blbldvcmtib29rOnBlKHllKSxxdWl0OmtlKHllKX07dmFyIHJ9LEFlPShlLHQpPT57Y29uc3R7bWVzc2FnZTpyLHR5cGU6YX09ZSxvPVwiW2FkYXB0ZXJdXCI7c3dpdGNoKGEpe2Nhc2UgZ2UuRXJyb3I6YyhyLG8pO2JyZWFrO2Nhc2UgZ2UuSW5mbzpkKG8scik7YnJlYWs7Y2FzZSBnZS5XYXJuOmgobyxyKTticmVhaztkZWZhdWx0OmMobmV3IEVycm9yKGBVbmtub3duIGxvZyB0eXBlOiAke2F9YCkpfX0sRWU9YXN5bmMoKT0+e3RyeXtjb25zdCBlPWF3YWl0IGZpbi5TeXN0ZW0uZ2V0QXBwQXNzZXRJbmZvKHthbGlhczptZX0pO3JldHVybiBlJiZlLnZlcnNpb249PT12ZSgpfWNhdGNoKGUpe3JldHVybiExfX07dmFyIFdlLGZlLCRlLEdlLEllOyFmdW5jdGlvbihlKXtlLkNvbnRpbnVvdXM9XCJDb250aW51b3VzXCIsZS5EYXNoPVwiRGFzaFwiLGUuRGFzaERvdD1cIkRhc2hEb3RcIixlLkRhc2hEb3REb3Q9XCJEYXNoRG90RG90XCIsZS5Eb3Q9XCJEb3RcIixlLkRvdWJsZT1cIkRvdWJsZVwiLGUuU2xhbnREYXNoRG90PVwiU2xhbnREYXNoRG90XCIsZS5Ob25lPVwiTm9uZVwifShXZXx8KFdlPXt9KSksZnVuY3Rpb24oZSl7ZS5DZW50ZXI9XCJDZW50ZXJcIixlLkNlbnRlckFjcm9zc1NlbGVjdGlvbj1cIkNlbnRlckFjcm9zc1NlbGVjdGlvblwiLGUuRGlzdHJpYnV0ZWQ9XCJEaXN0cmlidXRlZFwiLGUuRmlsbD1cIkZpbGxcIixlLkdlbmVyYWw9XCJHZW5lcmFsXCIsZS5KdXN0aWZ5PVwiSnVzdGlmeVwiLGUuTGVmdD1cIkxlZnRcIixlLlJpZ2h0PVwiUmlnaHRcIn0oZmV8fChmZT17fSkpLGZ1bmN0aW9uKGUpe2UuQXV0b21hdGljPVwiQXV0b21hdGljXCIsZS5DaGVja2VyPVwiQ2hlY2tlclwiLGUuQ3Jpc3NDcm9zcz1cIkNyaXNzQ3Jvc3NcIixlLkRvd249XCJEb3duXCIsZS5HcmF5MTY9XCJHcmF5MTZcIixlLkdyYXkyNT1cIkdyYXkyNVwiLGUuR3JheTUwPVwiR3JheTUwXCIsZS5HcmF5NzU9XCJHcmF5NzVcIixlLkdyYXk4PVwiR3JheThcIixlLkdyaWQ9XCJHcmlkXCIsZS5Ib3Jpem9udGFsPVwiSG9yaXpvbnRhbFwiLGUuTGlnaHREb3duPVwiTGlnaHREb3duXCIsZS5MaWdodEhvcml6b250YWw9XCJMaWdodEhvcml6b250YWxcIixlLkxpZ2h0VXA9XCJMaWdodFVwXCIsZS5MaWdodFZlcnRpY2FsPVwiTGlnaHRWZXJ0aWNhbFwiLGUuTGluZWFyR3JhZGllbnQ9XCJMaW5lYXJHcmFkaWVudFwiLGUuTm9uZT1cIk5vbmVcIixlLlJlY3Rhbmd1bGFyR3JhZGllbnQ9XCJSZWN0YW5ndWxhckdyYWRpZW50XCIsZS5TZW1pR3JheTc1PVwiU2VtaUdyYXk3NVwiLGUuU29saWQ9XCJTb2xpZFwiLGUuVXA9XCJVcFwiLGUuVmVydGljYWw9XCJWZXJ0aWNhbFwifSgkZXx8KCRlPXt9KSksZnVuY3Rpb24oZSl7ZS5Cb3R0b209XCJCb3R0b21cIixlLkNlbnRlcj1cIkNlbnRlclwiLGUuRGlzdHJpYnV0ZWQ9XCJEaXN0cmlidXRlZFwiLGUuSnVzdGlmeT1cIkp1c3RpZnlcIixlLlRvcD1cIlRvcFwifShHZXx8KEdlPXt9KSksZnVuY3Rpb24oZSl7ZS5BbmQ9XCJBbmRcIixlLk9yPVwiT3JcIixlLlRvcDEwSXRlbXM9XCJUb3AxMEl0ZW1zXCIsZS5Cb3R0b20xMEl0ZW1zPVwiQm90dG9tMTBJdGVtc1wiLGUuVG9wMTBQZXJjZW50PVwiVG9wMTBQZXJjZW50XCIsZS5Cb3R0b20xMFBlcmNlbnQ9XCJCb3R0b20xMFBlcmNlbnRcIixlLkZpbHRlclZhbHVlcz1cIkZpbHRlclZhbHVlc1wifShJZXx8KEllPXt9KSk7dmFyIE5lPWEuZHEsU2U9YS5NUyxEZT1hLnhRLFVlPWEuc08sRmU9YS5adSxQZT1hLkkzLHhlPWEuJFUsTGU9YS5pMCxCZT1hLmNYLGplPWEuZ0gsUmU9YS5fVyxPZT1hLlUkLFZlPWEuVTcsemU9YS5yZDtleHBvcnR7TmUgYXMgQWRhcHRlckVycm9yLFNlIGFzIEFwaUVycm9yLERlIGFzIEV2ZW50RXJyb3IsVWUgYXMgRXhjZWxDZWxsQm9yZGVyTGluZVN0eWxlLEZlIGFzIEV4Y2VsQ2VsbEhvcml6b250YWxBbGlnbm1lbnQsUGUgYXMgRXhjZWxDZWxsUGF0dGVybix4ZSBhcyBFeGNlbENlbGxWZXJ0aWNhbEFsaWdubWVudCxMZSBhcyBFeGNlbEZpbHRlck9wZXJhdG9yLEJlIGFzIEluaXRpYWxpemF0aW9uRXJyb3IsamUgYXMgSW52YWxpZENlbGxSYW5nZUFkZHJlc3NFcnJvcixSZSBhcyBQYXJhbWV0ZXJFcnJvcixPZSBhcyBkaXNhYmxlTG9nZ2luZyxWZSBhcyBlbmFibGVMb2dnaW5nLHplIGFzIGdldEV4Y2VsQXBwbGljYXRpb259OyIsIi8qISBGb3IgbGljZW5zZSBpbmZvcm1hdGlvbiBwbGVhc2Ugc2VlIG9wZW5maW4ubXMzNjUuanMuTElDRU5TRS50eHQgKi9cbnZhciB0PXs4NzY6dD0+e2NvbnN0e0Fib3J0Q29udHJvbGxlcjplLEFib3J0U2lnbmFsOm59PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwO3QuZXhwb3J0cz1lLHQuZXhwb3J0cy5BYm9ydFNpZ25hbD1uLHQuZXhwb3J0cy5kZWZhdWx0PWV9LDYwOih0LGUpPT57ZS5ieXRlTGVuZ3RoPWZ1bmN0aW9uKHQpe3ZhciBlPXModCksbj1lWzBdLHI9ZVsxXTtyZXR1cm4gMyoobityKS80LXJ9LGUudG9CeXRlQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXModCksYT1pWzBdLHU9aVsxXSxsPW5ldyBvKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gMyooZStuKS80LW59KDAsYSx1KSksYz0wLGY9dT4wP2EtNDphO2ZvcihuPTA7bjxmO24rPTQpZT1yW3QuY2hhckNvZGVBdChuKV08PDE4fHJbdC5jaGFyQ29kZUF0KG4rMSldPDwxMnxyW3QuY2hhckNvZGVBdChuKzIpXTw8NnxyW3QuY2hhckNvZGVBdChuKzMpXSxsW2MrK109ZT4+MTYmMjU1LGxbYysrXT1lPj44JjI1NSxsW2MrK109MjU1JmU7Mj09PXUmJihlPXJbdC5jaGFyQ29kZUF0KG4pXTw8MnxyW3QuY2hhckNvZGVBdChuKzEpXT4+NCxsW2MrK109MjU1JmUpOzE9PT11JiYoZT1yW3QuY2hhckNvZGVBdChuKV08PDEwfHJbdC5jaGFyQ29kZUF0KG4rMSldPDw0fHJbdC5jaGFyQ29kZUF0KG4rMildPj4yLGxbYysrXT1lPj44JjI1NSxsW2MrK109MjU1JmUpO3JldHVybiBsfSxlLmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLHI9dC5sZW5ndGgsbz1yJTMsaT1bXSxhPTE2MzgzLHM9MCxsPXItbztzPGw7cys9YSlpLnB1c2godSh0LHMscythPmw/bDpzK2EpKTsxPT09bz8oZT10W3ItMV0saS5wdXNoKG5bZT4+Ml0rbltlPDw0JjYzXStcIj09XCIpKToyPT09byYmKGU9KHRbci0yXTw8OCkrdFtyLTFdLGkucHVzaChuW2U+PjEwXStuW2U+PjQmNjNdK25bZTw8MiY2M10rXCI9XCIpKTtyZXR1cm4gaS5qb2luKFwiXCIpfTtmb3IodmFyIG49W10scj1bXSxvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksaT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixhPTA7YTw2NDsrK2EpblthXT1pW2FdLHJbaS5jaGFyQ29kZUF0KGEpXT1hO2Z1bmN0aW9uIHModCl7dmFyIGU9dC5sZW5ndGg7aWYoZSU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgbj10LmluZGV4T2YoXCI9XCIpO3JldHVybi0xPT09biYmKG49ZSksW24sbj09PWU/MDo0LW4lNF19ZnVuY3Rpb24gdSh0LGUscil7Zm9yKHZhciBvLGksYT1bXSxzPWU7czxyO3MrPTMpbz0odFtzXTw8MTYmMTY3MTE2ODApKyh0W3MrMV08PDgmNjUyODApKygyNTUmdFtzKzJdKSxhLnB1c2goblsoaT1vKT4+MTgmNjNdK25baT4+MTImNjNdK25baT4+NiY2M10rbls2MyZpXSk7cmV0dXJuIGEuam9pbihcIlwiKX1yW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyLHJbXCJfXCIuY2hhckNvZGVBdCgwKV09NjN9LDQ4NToodCxlLG4pPT57Y29uc3Qgcj1uKDYwKSxvPW4oMjE1KSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sLmZvcj9TeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIik6bnVsbDtlLkJ1ZmZlcj11LGUuU2xvd0J1ZmZlcj1mdW5jdGlvbih0KXsrdCE9dCYmKHQ9MCk7cmV0dXJuIHUuYWxsb2MoK3QpfSxlLklOU1BFQ1RfTUFYX0JZVEVTPTUwO2NvbnN0IGE9MjE0NzQ4MzY0NztmdW5jdGlvbiBzKHQpe2lmKHQ+YSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKTtjb25zdCBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSx1LnByb3RvdHlwZSksZX1mdW5jdGlvbiB1KHQsZSxuKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gZih0KX1yZXR1cm4gbCh0LGUsbil9ZnVuY3Rpb24gbCh0LGUsbil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiXCIhPT1lfHwoZT1cInV0ZjhcIik7aWYoIXUuaXNFbmNvZGluZyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZSk7Y29uc3Qgbj0wfGcodCxlKTtsZXQgcj1zKG4pO2NvbnN0IG89ci53cml0ZSh0LGUpO28hPT1uJiYocj1yLnNsaWNlKDAsbykpO3JldHVybiByfSh0LGUpO2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSlyZXR1cm4gZnVuY3Rpb24odCl7aWYoWSh0LFVpbnQ4QXJyYXkpKXtjb25zdCBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiBoKGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfXJldHVybiBkKHQpfSh0KTtpZihudWxsPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgdCk7aWYoWSh0LEFycmF5QnVmZmVyKXx8dCYmWSh0LmJ1ZmZlcixBcnJheUJ1ZmZlcikpcmV0dXJuIGgodCxlLG4pO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciYmKFkodCxTaGFyZWRBcnJheUJ1ZmZlcil8fHQmJlkodC5idWZmZXIsU2hhcmVkQXJyYXlCdWZmZXIpKSlyZXR1cm4gaCh0LGUsbik7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtjb25zdCByPXQudmFsdWVPZiYmdC52YWx1ZU9mKCk7aWYobnVsbCE9ciYmciE9PXQpcmV0dXJuIHUuZnJvbShyLGUsbik7Y29uc3Qgbz1mdW5jdGlvbih0KXtpZih1LmlzQnVmZmVyKHQpKXtjb25zdCBlPTB8cCh0Lmxlbmd0aCksbj1zKGUpO3JldHVybiAwPT09bi5sZW5ndGh8fHQuY29weShuLDAsMCxlKSxufWlmKHZvaWQgMCE9PXQubGVuZ3RoKXJldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0Lmxlbmd0aHx8Syh0Lmxlbmd0aCk/cygwKTpkKHQpO2lmKFwiQnVmZmVyXCI9PT10LnR5cGUmJkFycmF5LmlzQXJyYXkodC5kYXRhKSlyZXR1cm4gZCh0LmRhdGEpfSh0KTtpZihvKXJldHVybiBvO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPVN5bWJvbC50b1ByaW1pdGl2ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtTeW1ib2wudG9QcmltaXRpdmVdKXJldHVybiB1LmZyb20odFtTeW1ib2wudG9QcmltaXRpdmVdKFwic3RyaW5nXCIpLGUsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiB0KX1mdW5jdGlvbiBjKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKTtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrdCsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gYyh0KSxzKHQ8MD8wOjB8cCh0KSl9ZnVuY3Rpb24gZCh0KXtjb25zdCBlPXQubGVuZ3RoPDA/MDowfHAodC5sZW5ndGgpLG49cyhlKTtmb3IobGV0IHI9MDtyPGU7cis9MSluW3JdPTI1NSZ0W3JdO3JldHVybiBufWZ1bmN0aW9uIGgodCxlLG4pe2lmKGU8MHx8dC5ieXRlTGVuZ3RoPGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYodC5ieXRlTGVuZ3RoPGUrKG58fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2xldCByO3JldHVybiByPXZvaWQgMD09PWUmJnZvaWQgMD09PW4/bmV3IFVpbnQ4QXJyYXkodCk6dm9pZCAwPT09bj9uZXcgVWludDhBcnJheSh0LGUpOm5ldyBVaW50OEFycmF5KHQsZSxuKSxPYmplY3Quc2V0UHJvdG90eXBlT2Yocix1LnByb3RvdHlwZSkscn1mdW5jdGlvbiBwKHQpe2lmKHQ+PWEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4XCIrYS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8dH1mdW5jdGlvbiBnKHQsZSl7aWYodS5pc0J1ZmZlcih0KSlyZXR1cm4gdC5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHxZKHQsQXJyYXlCdWZmZXIpKXJldHVybiB0LmJ5dGVMZW5ndGg7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgdCk7Y29uc3Qgbj10Lmxlbmd0aCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmITA9PT1hcmd1bWVudHNbMl07aWYoIXImJjA9PT1uKXJldHVybiAwO2xldCBvPSExO2Zvcig7Oylzd2l0Y2goZSl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gVih0KS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqbjtjYXNlXCJoZXhcIjpyZXR1cm4gbj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIEcodCkubGVuZ3RoO2RlZmF1bHQ6aWYobylyZXR1cm4gcj8tMTpWKHQpLmxlbmd0aDtlPShcIlwiK2UpLnRvTG93ZXJDYXNlKCksbz0hMH19ZnVuY3Rpb24geSh0LGUsbil7bGV0IHI9ITE7aWYoKHZvaWQgMD09PWV8fGU8MCkmJihlPTApLGU+dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtpZigodm9pZCAwPT09bnx8bj50aGlzLmxlbmd0aCkmJihuPXRoaXMubGVuZ3RoKSxuPD0wKXJldHVyblwiXCI7aWYoKG4+Pj49MCk8PShlPj4+PTApKXJldHVyblwiXCI7Zm9yKHR8fCh0PVwidXRmOFwiKTs7KXN3aXRjaCh0KXtjYXNlXCJoZXhcIjpyZXR1cm4gQih0aGlzLGUsbik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIFQodGhpcyxlLG4pO2Nhc2VcImFzY2lpXCI6cmV0dXJuIHgodGhpcyxlLG4pO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBDKHRoaXMsZSxuKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gSSh0aGlzLGUsbik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIGsodGhpcyxlLG4pO2RlZmF1bHQ6aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrdCk7dD0odCtcIlwiKS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIG0odCxlLG4pe2NvbnN0IHI9dFtlXTt0W2VdPXRbbl0sdFtuXT1yfWZ1bmN0aW9uIHYodCxlLG4scixvKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4/KHI9bixuPTApOm4+MjE0NzQ4MzY0Nz9uPTIxNDc0ODM2NDc6bjwtMjE0NzQ4MzY0OCYmKG49LTIxNDc0ODM2NDgpLEsobj0rbikmJihuPW8/MDp0Lmxlbmd0aC0xKSxuPDAmJihuPXQubGVuZ3RoK24pLG4+PXQubGVuZ3RoKXtpZihvKXJldHVybi0xO249dC5sZW5ndGgtMX1lbHNlIGlmKG48MCl7aWYoIW8pcmV0dXJuLTE7bj0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT11LmZyb20oZSxyKSksdS5pc0J1ZmZlcihlKSlyZXR1cm4gMD09PWUubGVuZ3RoPy0xOmIodCxlLG4scixvKTtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZSY9MjU1LFwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/bz9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLG4pOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwodCxlLG4pOmIodCxbZV0sbixyLG8pO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gYih0LGUsbixyLG8pe2xldCBpLGE9MSxzPXQubGVuZ3RoLHU9ZS5sZW5ndGg7aWYodm9pZCAwIT09ciYmKFwidWNzMlwiPT09KHI9U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCkpfHxcInVjcy0yXCI9PT1yfHxcInV0ZjE2bGVcIj09PXJ8fFwidXRmLTE2bGVcIj09PXIpKXtpZih0Lmxlbmd0aDwyfHxlLmxlbmd0aDwyKXJldHVybi0xO2E9MixzLz0yLHUvPTIsbi89Mn1mdW5jdGlvbiBsKHQsZSl7cmV0dXJuIDE9PT1hP3RbZV06dC5yZWFkVUludDE2QkUoZSphKX1pZihvKXtsZXQgcj0tMTtmb3IoaT1uO2k8cztpKyspaWYobCh0LGkpPT09bChlLC0xPT09cj8wOmktcikpe2lmKC0xPT09ciYmKHI9aSksaS1yKzE9PT11KXJldHVybiByKmF9ZWxzZS0xIT09ciYmKGktPWktcikscj0tMX1lbHNlIGZvcihuK3U+cyYmKG49cy11KSxpPW47aT49MDtpLS0pe2xldCBuPSEwO2ZvcihsZXQgcj0wO3I8dTtyKyspaWYobCh0LGkrcikhPT1sKGUscikpe249ITE7YnJlYWt9aWYobilyZXR1cm4gaX1yZXR1cm4tMX1mdW5jdGlvbiB3KHQsZSxuLHIpe249TnVtYmVyKG4pfHwwO2NvbnN0IG89dC5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSk+byYmKHI9byk6cj1vO2NvbnN0IGk9ZS5sZW5ndGg7bGV0IGE7Zm9yKHI+aS8yJiYocj1pLzIpLGE9MDthPHI7KythKXtjb25zdCByPXBhcnNlSW50KGUuc3Vic3RyKDIqYSwyKSwxNik7aWYoSyhyKSlyZXR1cm4gYTt0W24rYV09cn1yZXR1cm4gYX1mdW5jdGlvbiBfKHQsZSxuLHIpe3JldHVybiBKKFYoZSx0Lmxlbmd0aC1uKSx0LG4scil9ZnVuY3Rpb24gRSh0LGUsbixyKXtyZXR1cm4gSihmdW5jdGlvbih0KXtjb25zdCBlPVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7KytuKWUucHVzaCgyNTUmdC5jaGFyQ29kZUF0KG4pKTtyZXR1cm4gZX0oZSksdCxuLHIpfWZ1bmN0aW9uIFModCxlLG4scil7cmV0dXJuIEooRyhlKSx0LG4scil9ZnVuY3Rpb24gQSh0LGUsbixyKXtyZXR1cm4gSihmdW5jdGlvbih0LGUpe2xldCBuLHIsbztjb25zdCBpPVtdO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGgmJiEoKGUtPTIpPDApOysrYSluPXQuY2hhckNvZGVBdChhKSxyPW4+Pjgsbz1uJTI1NixpLnB1c2gobyksaS5wdXNoKHIpO3JldHVybiBpfShlLHQubGVuZ3RoLW4pLHQsbixyKX1mdW5jdGlvbiBJKHQsZSxuKXtyZXR1cm4gMD09PWUmJm49PT10Lmxlbmd0aD9yLmZyb21CeXRlQXJyYXkodCk6ci5mcm9tQnl0ZUFycmF5KHQuc2xpY2UoZSxuKSl9ZnVuY3Rpb24gVCh0LGUsbil7bj1NYXRoLm1pbih0Lmxlbmd0aCxuKTtjb25zdCByPVtdO2xldCBvPWU7Zm9yKDtvPG47KXtjb25zdCBlPXRbb107bGV0IGk9bnVsbCxhPWU+MjM5PzQ6ZT4yMjM/MzplPjE5MT8yOjE7aWYobythPD1uKXtsZXQgbixyLHMsdTtzd2l0Y2goYSl7Y2FzZSAxOmU8MTI4JiYoaT1lKTticmVhaztjYXNlIDI6bj10W28rMV0sMTI4PT0oMTkyJm4pJiYodT0oMzEmZSk8PDZ8NjMmbix1PjEyNyYmKGk9dSkpO2JyZWFrO2Nhc2UgMzpuPXRbbysxXSxyPXRbbysyXSwxMjg9PSgxOTImbikmJjEyOD09KDE5MiZyKSYmKHU9KDE1JmUpPDwxMnwoNjMmbik8PDZ8NjMmcix1PjIwNDcmJih1PDU1Mjk2fHx1PjU3MzQzKSYmKGk9dSkpO2JyZWFrO2Nhc2UgNDpuPXRbbysxXSxyPXRbbysyXSxzPXRbbyszXSwxMjg9PSgxOTImbikmJjEyOD09KDE5MiZyKSYmMTI4PT0oMTkyJnMpJiYodT0oMTUmZSk8PDE4fCg2MyZuKTw8MTJ8KDYzJnIpPDw2fDYzJnMsdT42NTUzNSYmdTwxMTE0MTEyJiYoaT11KSl9fW51bGw9PT1pPyhpPTY1NTMzLGE9MSk6aT42NTUzNSYmKGktPTY1NTM2LHIucHVzaChpPj4+MTAmMTAyM3w1NTI5NiksaT01NjMyMHwxMDIzJmkpLHIucHVzaChpKSxvKz1hfXJldHVybiBmdW5jdGlvbih0KXtjb25zdCBlPXQubGVuZ3RoO2lmKGU8PVIpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQpO2xldCBuPVwiXCIscj0wO2Zvcig7cjxlOyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0LnNsaWNlKHIscis9UikpO3JldHVybiBufShyKX1lLmtNYXhMZW5ndGg9YSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ9ZnVuY3Rpb24oKXt0cnl7Y29uc3QgdD1uZXcgVWludDhBcnJheSgxKSxlPXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpLDQyPT09dC5mb28oKX1jYXRjaCh0KXtyZXR1cm4hMX19KCksdS5UWVBFRF9BUlJBWV9TVVBQT1JUfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgY29uc29sZS5lcnJvcnx8Y29uc29sZS5lcnJvcihcIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LlwiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsXCJwYXJlbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZih1LmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ1ZmZlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsXCJvZmZzZXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZih1LmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ5dGVPZmZzZXR9fSksdS5wb29sU2l6ZT04MTkyLHUuZnJvbT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGwodCxlLG4pfSxPYmplY3Quc2V0UHJvdG90eXBlT2YodS5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZih1LFVpbnQ4QXJyYXkpLHUuYWxsb2M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGModCksdDw9MD9zKHQpOnZvaWQgMCE9PWU/XCJzdHJpbmdcIj09dHlwZW9mIG4/cyh0KS5maWxsKGUsbik6cyh0KS5maWxsKGUpOnModCl9KHQsZSxuKX0sdS5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtyZXR1cm4gZih0KX0sdS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24odCl7cmV0dXJuIGYodCl9LHUuaXNCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJiEwPT09dC5faXNCdWZmZXImJnQhPT11LnByb3RvdHlwZX0sdS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYoWSh0LFVpbnQ4QXJyYXkpJiYodD11LmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSxZKGUsVWludDhBcnJheSkmJihlPXUuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLCF1LmlzQnVmZmVyKHQpfHwhdS5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7aWYodD09PWUpcmV0dXJuIDA7bGV0IG49dC5sZW5ndGgscj1lLmxlbmd0aDtmb3IobGV0IG89MCxpPU1hdGgubWluKG4scik7bzxpOysrbylpZih0W29dIT09ZVtvXSl7bj10W29dLHI9ZVtvXTticmVha31yZXR1cm4gbjxyPy0xOnI8bj8xOjB9LHUuaXNFbmNvZGluZz1mdW5jdGlvbih0KXtzd2l0Y2goU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LHUuY29uY2F0PWZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PXQubGVuZ3RoKXJldHVybiB1LmFsbG9jKDApO2xldCBuO2lmKHZvaWQgMD09PWUpZm9yKGU9MCxuPTA7bjx0Lmxlbmd0aDsrK24pZSs9dFtuXS5sZW5ndGg7Y29uc3Qgcj11LmFsbG9jVW5zYWZlKGUpO2xldCBvPTA7Zm9yKG49MDtuPHQubGVuZ3RoOysrbil7bGV0IGU9dFtuXTtpZihZKGUsVWludDhBcnJheSkpbytlLmxlbmd0aD5yLmxlbmd0aD8odS5pc0J1ZmZlcihlKXx8KGU9dS5mcm9tKGUpKSxlLmNvcHkocixvKSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwocixlLG8pO2Vsc2V7aWYoIXUuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7ZS5jb3B5KHIsbyl9bys9ZS5sZW5ndGh9cmV0dXJuIHJ9LHUuYnl0ZUxlbmd0aD1nLHUucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCx1LnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMubGVuZ3RoO2lmKHQlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2ZvcihsZXQgZT0wO2U8dDtlKz0yKW0odGhpcyxlLGUrMSk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7aWYodCU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHNcIik7Zm9yKGxldCBlPTA7ZTx0O2UrPTQpbSh0aGlzLGUsZSszKSxtKHRoaXMsZSsxLGUrMik7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7aWYodCU4IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHNcIik7Zm9yKGxldCBlPTA7ZTx0O2UrPTgpbSh0aGlzLGUsZSs3KSxtKHRoaXMsZSsxLGUrNiksbSh0aGlzLGUrMixlKzUpLG0odGhpcyxlKzMsZSs0KTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMubGVuZ3RoO3JldHVybiAwPT09dD9cIlwiOjA9PT1hcmd1bWVudHMubGVuZ3RoP1QodGhpcywwLHQpOnkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz11LnByb3RvdHlwZS50b1N0cmluZyx1LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7aWYoIXUuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT10fHwwPT09dS5jb21wYXJlKHRoaXMsdCl9LHUucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtsZXQgdD1cIlwiO2NvbnN0IG49ZS5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdD10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxuKS5yZXBsYWNlKC8oLnsyfSkvZyxcIiQxIFwiKS50cmltKCksdGhpcy5sZW5ndGg+biYmKHQrPVwiIC4uLiBcIiksXCI8QnVmZmVyIFwiK3QrXCI+XCJ9LGkmJih1LnByb3RvdHlwZVtpXT11LnByb3RvdHlwZS5pbnNwZWN0KSx1LnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYoWSh0LFVpbnQ4QXJyYXkpJiYodD11LmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSwhdS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpO2lmKHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPXQ/dC5sZW5ndGg6MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89dGhpcy5sZW5ndGgpLGU8MHx8bj50Lmxlbmd0aHx8cjwwfHxvPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKHI+PW8mJmU+PW4pcmV0dXJuIDA7aWYocj49bylyZXR1cm4tMTtpZihlPj1uKXJldHVybiAxO2lmKHRoaXM9PT10KXJldHVybiAwO2xldCBpPShvPj4+PTApLShyPj4+PTApLGE9KG4+Pj49MCktKGU+Pj49MCk7Y29uc3Qgcz1NYXRoLm1pbihpLGEpLGw9dGhpcy5zbGljZShyLG8pLGM9dC5zbGljZShlLG4pO2ZvcihsZXQgdD0wO3Q8czsrK3QpaWYobFt0XSE9PWNbdF0pe2k9bFt0XSxhPWNbdF07YnJlYWt9cmV0dXJuIGk8YT8tMTphPGk/MTowfSx1LnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YodCxlLG4pfSx1LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdih0aGlzLHQsZSxuLCEwKX0sdS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2KHRoaXMsdCxlLG4sITEpfSx1LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUsbixyKXtpZih2b2lkIDA9PT1lKXI9XCJ1dGY4XCIsbj10aGlzLmxlbmd0aCxlPTA7ZWxzZSBpZih2b2lkIDA9PT1uJiZcInN0cmluZ1wiPT10eXBlb2YgZSlyPWUsbj10aGlzLmxlbmd0aCxlPTA7ZWxzZXtpZighaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7ZT4+Pj0wLGlzRmluaXRlKG4pPyhuPj4+PTAsdm9pZCAwPT09ciYmKHI9XCJ1dGY4XCIpKToocj1uLG49dm9pZCAwKX1jb25zdCBvPXRoaXMubGVuZ3RoLWU7aWYoKHZvaWQgMD09PW58fG4+bykmJihuPW8pLHQubGVuZ3RoPjAmJihuPDB8fGU8MCl8fGU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtyfHwocj1cInV0ZjhcIik7bGV0IGk9ITE7Zm9yKDs7KXN3aXRjaChyKXtjYXNlXCJoZXhcIjpyZXR1cm4gdyh0aGlzLHQsZSxuKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gXyh0aGlzLHQsZSxuKTtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBFKHRoaXMsdCxlLG4pO2Nhc2VcImJhc2U2NFwiOnJldHVybiBTKHRoaXMsdCxlLG4pO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBBKHRoaXMsdCxlLG4pO2RlZmF1bHQ6aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcik7cj0oXCJcIityKS50b0xvd2VyQ2FzZSgpLGk9ITB9fSx1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07Y29uc3QgUj00MDk2O2Z1bmN0aW9uIHgodCxlLG4pe2xldCByPVwiXCI7bj1NYXRoLm1pbih0Lmxlbmd0aCxuKTtmb3IobGV0IG89ZTtvPG47KytvKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JnRbb10pO3JldHVybiByfWZ1bmN0aW9uIEModCxlLG4pe2xldCByPVwiXCI7bj1NYXRoLm1pbih0Lmxlbmd0aCxuKTtmb3IobGV0IG89ZTtvPG47KytvKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gQih0LGUsbil7Y29uc3Qgcj10Lmxlbmd0aDsoIWV8fGU8MCkmJihlPTApLCghbnx8bjwwfHxuPnIpJiYobj1yKTtsZXQgbz1cIlwiO2ZvcihsZXQgcj1lO3I8bjsrK3Ipbys9WFt0W3JdXTtyZXR1cm4gb31mdW5jdGlvbiBrKHQsZSxuKXtjb25zdCByPXQuc2xpY2UoZSxuKTtsZXQgbz1cIlwiO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGgtMTt0Kz0yKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUoclt0XSsyNTYqclt0KzFdKTtyZXR1cm4gb31mdW5jdGlvbiBMKHQsZSxuKXtpZih0JTEhPTB8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZih0K2U+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24gTyh0LGUsbixyLG8saSl7aWYoIXUuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYoZT5vfHxlPGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYobityPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIFUodCxlLG4scixvKXtGKGUscixvLHQsbiw3KTtsZXQgaT1OdW1iZXIoZSZCaWdJbnQoNDI5NDk2NzI5NSkpO3RbbisrXT1pLGk+Pj04LHRbbisrXT1pLGk+Pj04LHRbbisrXT1pLGk+Pj04LHRbbisrXT1pO2xldCBhPU51bWJlcihlPj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIHRbbisrXT1hLGE+Pj04LHRbbisrXT1hLGE+Pj04LHRbbisrXT1hLGE+Pj04LHRbbisrXT1hLG59ZnVuY3Rpb24gaih0LGUsbixyLG8pe0YoZSxyLG8sdCxuLDcpO2xldCBpPU51bWJlcihlJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7dFtuKzddPWksaT4+PTgsdFtuKzZdPWksaT4+PTgsdFtuKzVdPWksaT4+PTgsdFtuKzRdPWk7bGV0IGE9TnVtYmVyKGU+PkJpZ0ludCgzMikmQmlnSW50KDQyOTQ5NjcyOTUpKTtyZXR1cm4gdFtuKzNdPWEsYT4+PTgsdFtuKzJdPWEsYT4+PTgsdFtuKzFdPWEsYT4+PTgsdFtuXT1hLG4rOH1mdW5jdGlvbiBOKHQsZSxuLHIsbyxpKXtpZihuK3I+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIE0odCxlLG4scixpKXtyZXR1cm4gZT0rZSxuPj4+PTAsaXx8Tih0LDAsbiw0KSxvLndyaXRlKHQsZSxuLHIsMjMsNCksbis0fWZ1bmN0aW9uIFAodCxlLG4scixpKXtyZXR1cm4gZT0rZSxuPj4+PTAsaXx8Tih0LDAsbiw4KSxvLndyaXRlKHQsZSxuLHIsNTIsOCksbis4fXUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLmxlbmd0aDsodD1+fnQpPDA/KHQrPW4pPDAmJih0PTApOnQ+biYmKHQ9biksKGU9dm9pZCAwPT09ZT9uOn5+ZSk8MD8oZSs9bik8MCYmKGU9MCk6ZT5uJiYoZT1uKSxlPHQmJihlPXQpO2NvbnN0IHI9dGhpcy5zdWJhcnJheSh0LGUpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Yocix1LnByb3RvdHlwZSkscn0sdS5wcm90b3R5cGUucmVhZFVpbnRMRT11LnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKHQsZSxuKXt0Pj4+PTAsZT4+Pj0wLG58fEwodCxlLHRoaXMubGVuZ3RoKTtsZXQgcj10aGlzW3RdLG89MSxpPTA7Zm9yKDsrK2k8ZSYmKG8qPTI1Nik7KXIrPXRoaXNbdCtpXSpvO3JldHVybiByfSx1LnByb3RvdHlwZS5yZWFkVWludEJFPXUucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24odCxlLG4pe3Q+Pj49MCxlPj4+PTAsbnx8TCh0LGUsdGhpcy5sZW5ndGgpO2xldCByPXRoaXNbdCstLWVdLG89MTtmb3IoO2U+MCYmKG8qPTI1Nik7KXIrPXRoaXNbdCstLWVdKm87cmV0dXJuIHJ9LHUucHJvdG90eXBlLnJlYWRVaW50OD11LnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCwxLHRoaXMubGVuZ3RoKSx0aGlzW3RdfSx1LnByb3RvdHlwZS5yZWFkVWludDE2TEU9dS5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh9LHUucHJvdG90eXBlLnJlYWRVaW50MTZCRT11LnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdPDw4fHRoaXNbdCsxXX0sdS5wcm90b3R5cGUucmVhZFVpbnQzMkxFPXUucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2KSsxNjc3NzIxNip0aGlzW3QrM119LHUucHJvdG90eXBlLnJlYWRVaW50MzJCRT11LnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW3RdKyh0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM10pfSx1LnByb3RvdHlwZS5yZWFkQmlnVUludDY0TEU9WigoZnVuY3Rpb24odCl7eih0Pj4+PTAsXCJvZmZzZXRcIik7Y29uc3QgZT10aGlzW3RdLG49dGhpc1t0KzddO3ZvaWQgMCE9PWUmJnZvaWQgMCE9PW58fHEodCx0aGlzLmxlbmd0aC04KTtjb25zdCByPWUrMjU2KnRoaXNbKyt0XSs2NTUzNip0aGlzWysrdF0rdGhpc1srK3RdKjIqKjI0LG89dGhpc1srK3RdKzI1Nip0aGlzWysrdF0rNjU1MzYqdGhpc1srK3RdK24qMioqMjQ7cmV0dXJuIEJpZ0ludChyKSsoQmlnSW50KG8pPDxCaWdJbnQoMzIpKX0pKSx1LnByb3RvdHlwZS5yZWFkQmlnVUludDY0QkU9WigoZnVuY3Rpb24odCl7eih0Pj4+PTAsXCJvZmZzZXRcIik7Y29uc3QgZT10aGlzW3RdLG49dGhpc1t0KzddO3ZvaWQgMCE9PWUmJnZvaWQgMCE9PW58fHEodCx0aGlzLmxlbmd0aC04KTtjb25zdCByPWUqMioqMjQrNjU1MzYqdGhpc1srK3RdKzI1Nip0aGlzWysrdF0rdGhpc1srK3RdLG89dGhpc1srK3RdKjIqKjI0KzY1NTM2KnRoaXNbKyt0XSsyNTYqdGhpc1srK3RdK247cmV0dXJuKEJpZ0ludChyKTw8QmlnSW50KDMyKSkrQmlnSW50KG8pfSkpLHUucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbih0LGUsbil7dD4+Pj0wLGU+Pj49MCxufHxMKHQsZSx0aGlzLmxlbmd0aCk7bGV0IHI9dGhpc1t0XSxvPTEsaT0wO2Zvcig7KytpPGUmJihvKj0yNTYpOylyKz10aGlzW3QraV0qbztyZXR1cm4gbyo9MTI4LHI+PW8mJihyLT1NYXRoLnBvdygyLDgqZSkpLHJ9LHUucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih0LGUsbil7dD4+Pj0wLGU+Pj49MCxufHxMKHQsZSx0aGlzLmxlbmd0aCk7bGV0IHI9ZSxvPTEsaT10aGlzW3QrLS1yXTtmb3IoO3I+MCYmKG8qPTI1Nik7KWkrPXRoaXNbdCstLXJdKm87cmV0dXJuIG8qPTEyOCxpPj1vJiYoaS09TWF0aC5wb3coMiw4KmUpKSxpfSx1LnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW3RdPy0xKigyNTUtdGhpc1t0XSsxKTp0aGlzW3RdfSx1LnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbih0LGUpe3Q+Pj49MCxlfHxMKHQsMix0aGlzLmxlbmd0aCk7Y29uc3Qgbj10aGlzW3RdfHRoaXNbdCsxXTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0sdS5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odCxlKXt0Pj4+PTAsZXx8TCh0LDIsdGhpcy5sZW5ndGgpO2NvbnN0IG49dGhpc1t0KzFdfHRoaXNbdF08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LHUucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsNCx0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh8dGhpc1t0KzJdPDwxNnx0aGlzW3QrM108PDI0fSx1LnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF08PDI0fHRoaXNbdCsxXTw8MTZ8dGhpc1t0KzJdPDw4fHRoaXNbdCszXX0sdS5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEU9WigoZnVuY3Rpb24odCl7eih0Pj4+PTAsXCJvZmZzZXRcIik7Y29uc3QgZT10aGlzW3RdLG49dGhpc1t0KzddO3ZvaWQgMCE9PWUmJnZvaWQgMCE9PW58fHEodCx0aGlzLmxlbmd0aC04KTtjb25zdCByPXRoaXNbdCs0XSsyNTYqdGhpc1t0KzVdKzY1NTM2KnRoaXNbdCs2XSsobjw8MjQpO3JldHVybihCaWdJbnQocik8PEJpZ0ludCgzMikpK0JpZ0ludChlKzI1Nip0aGlzWysrdF0rNjU1MzYqdGhpc1srK3RdK3RoaXNbKyt0XSoyKioyNCl9KSksdS5wcm90b3R5cGUucmVhZEJpZ0ludDY0QkU9WigoZnVuY3Rpb24odCl7eih0Pj4+PTAsXCJvZmZzZXRcIik7Y29uc3QgZT10aGlzW3RdLG49dGhpc1t0KzddO3ZvaWQgMCE9PWUmJnZvaWQgMCE9PW58fHEodCx0aGlzLmxlbmd0aC04KTtjb25zdCByPShlPDwyNCkrNjU1MzYqdGhpc1srK3RdKzI1Nip0aGlzWysrdF0rdGhpc1srK3RdO3JldHVybihCaWdJbnQocik8PEJpZ0ludCgzMikpK0JpZ0ludCh0aGlzWysrdF0qMioqMjQrNjU1MzYqdGhpc1srK3RdKzI1Nip0aGlzWysrdF0rbil9KSksdS5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyx0LCEwLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLHQsITEsMjMsNCl9LHUucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDgsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLHQsITAsNTIsOCl9LHUucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDgsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLHQsITEsNTIsOCl9LHUucHJvdG90eXBlLndyaXRlVWludExFPXUucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9K3QsZT4+Pj0wLG4+Pj49MCwhcil7Tyh0aGlzLHQsZSxuLE1hdGgucG93KDIsOCpuKS0xLDApfWxldCBvPTEsaT0wO2Zvcih0aGlzW2VdPTI1NSZ0OysraTxuJiYobyo9MjU2KTspdGhpc1tlK2ldPXQvbyYyNTU7cmV0dXJuIGUrbn0sdS5wcm90b3R5cGUud3JpdGVVaW50QkU9dS5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odCxlLG4scil7aWYodD0rdCxlPj4+PTAsbj4+Pj0wLCFyKXtPKHRoaXMsdCxlLG4sTWF0aC5wb3coMiw4Km4pLTEsMCl9bGV0IG89bi0xLGk9MTtmb3IodGhpc1tlK29dPTI1NSZ0Oy0tbz49MCYmKGkqPTI1Nik7KXRoaXNbZStvXT10L2kmMjU1O3JldHVybiBlK259LHUucHJvdG90eXBlLndyaXRlVWludDg9dS5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsMSwyNTUsMCksdGhpc1tlXT0yNTUmdCxlKzF9LHUucHJvdG90eXBlLndyaXRlVWludDE2TEU9dS5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsMiw2NTUzNSwwKSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCxlKzJ9LHUucHJvdG90eXBlLndyaXRlVWludDE2QkU9dS5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsMiw2NTUzNSwwKSx0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCxlKzJ9LHUucHJvdG90eXBlLndyaXRlVWludDMyTEU9dS5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbZSszXT10Pj4+MjQsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrMV09dD4+PjgsdGhpc1tlXT0yNTUmdCxlKzR9LHUucHJvdG90eXBlLndyaXRlVWludDMyQkU9dS5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbZV09dD4+PjI0LHRoaXNbZSsxXT10Pj4+MTYsdGhpc1tlKzJdPXQ+Pj44LHRoaXNbZSszXT0yNTUmdCxlKzR9LHUucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEU9WigoZnVuY3Rpb24odCxlPTApe3JldHVybiBVKHRoaXMsdCxlLEJpZ0ludCgwKSxCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZcIikpfSkpLHUucHJvdG90eXBlLndyaXRlQmlnVUludDY0QkU9WigoZnVuY3Rpb24odCxlPTApe3JldHVybiBqKHRoaXMsdCxlLEJpZ0ludCgwKSxCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZcIikpfSkpLHUucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24odCxlLG4scil7aWYodD0rdCxlPj4+PTAsIXIpe2NvbnN0IHI9TWF0aC5wb3coMiw4Km4tMSk7Tyh0aGlzLHQsZSxuLHItMSwtcil9bGV0IG89MCxpPTEsYT0wO2Zvcih0aGlzW2VdPTI1NSZ0OysrbzxuJiYoaSo9MjU2KTspdDwwJiYwPT09YSYmMCE9PXRoaXNbZStvLTFdJiYoYT0xKSx0aGlzW2Urb109KHQvaT4+MCktYSYyNTU7cmV0dXJuIGUrbn0sdS5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbih0LGUsbixyKXtpZih0PSt0LGU+Pj49MCwhcil7Y29uc3Qgcj1NYXRoLnBvdygyLDgqbi0xKTtPKHRoaXMsdCxlLG4sci0xLC1yKX1sZXQgbz1uLTEsaT0xLGE9MDtmb3IodGhpc1tlK29dPTI1NSZ0Oy0tbz49MCYmKGkqPTI1Nik7KXQ8MCYmMD09PWEmJjAhPT10aGlzW2UrbysxXSYmKGE9MSksdGhpc1tlK29dPSh0L2k+PjApLWEmMjU1O3JldHVybiBlK259LHUucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsMSwxMjcsLTEyOCksdDwwJiYodD0yNTUrdCsxKSx0aGlzW2VdPTI1NSZ0LGUrMX0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSwyLDMyNzY3LC0zMjc2OCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSx1LnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSx0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCxlKzJ9LHUucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjQsZSs0fSx1LnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdDwwJiYodD00Mjk0OTY3Mjk1K3QrMSksdGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0LGUrNH0sdS5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFPVooKGZ1bmN0aW9uKHQsZT0wKXtyZXR1cm4gVSh0aGlzLHQsZSwtQmlnSW50KFwiMHg4MDAwMDAwMDAwMDAwMDAwXCIpLEJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZlwiKSl9KSksdS5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NEJFPVooKGZ1bmN0aW9uKHQsZT0wKXtyZXR1cm4gaih0aGlzLHQsZSwtQmlnSW50KFwiMHg4MDAwMDAwMDAwMDAwMDAwXCIpLEJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZlwiKSl9KSksdS5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTSh0aGlzLHQsZSwhMCxuKX0sdS5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTSh0aGlzLHQsZSwhMSxuKX0sdS5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFAodGhpcyx0LGUsITAsbil9LHUucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBQKHRoaXMsdCxlLCExLG4pfSx1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCF1LmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXJcIik7aWYobnx8KG49MCkscnx8MD09PXJ8fChyPXRoaXMubGVuZ3RoKSxlPj10Lmxlbmd0aCYmKGU9dC5sZW5ndGgpLGV8fChlPTApLHI+MCYmcjxuJiYocj1uKSxyPT09bilyZXR1cm4gMDtpZigwPT09dC5sZW5ndGh8fDA9PT10aGlzLmxlbmd0aClyZXR1cm4gMDtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKG48MHx8bj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7cj50aGlzLmxlbmd0aCYmKHI9dGhpcy5sZW5ndGgpLHQubGVuZ3RoLWU8ci1uJiYocj10Lmxlbmd0aC1lK24pO2NvbnN0IG89ci1uO3JldHVybiB0aGlzPT09dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj90aGlzLmNvcHlXaXRoaW4oZSxuLHIpOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHQsdGhpcy5zdWJhcnJheShuLHIpLGUpLG99LHUucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLG4scil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlPyhyPWUsZT0wLG49dGhpcy5sZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiBuJiYocj1uLG49dGhpcy5sZW5ndGgpLHZvaWQgMCE9PXImJlwic3RyaW5nXCIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByJiYhdS5pc0VuY29kaW5nKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIityKTtpZigxPT09dC5sZW5ndGgpe2NvbnN0IGU9dC5jaGFyQ29kZUF0KDApOyhcInV0ZjhcIj09PXImJmU8MTI4fHxcImxhdGluMVwiPT09cikmJih0PWUpfX1lbHNlXCJudW1iZXJcIj09dHlwZW9mIHQ/dCY9MjU1OlwiYm9vbGVhblwiPT10eXBlb2YgdCYmKHQ9TnVtYmVyKHQpKTtpZihlPDB8fHRoaXMubGVuZ3RoPGV8fHRoaXMubGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYobjw9ZSlyZXR1cm4gdGhpcztsZXQgbztpZihlPj4+PTAsbj12b2lkIDA9PT1uP3RoaXMubGVuZ3RoOm4+Pj4wLHR8fCh0PTApLFwibnVtYmVyXCI9PXR5cGVvZiB0KWZvcihvPWU7bzxuOysrbyl0aGlzW29dPXQ7ZWxzZXtjb25zdCBpPXUuaXNCdWZmZXIodCk/dDp1LmZyb20odCxyKSxhPWkubGVuZ3RoO2lmKDA9PT1hKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrdCsnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJyk7Zm9yKG89MDtvPG4tZTsrK28pdGhpc1tvK2VdPWlbbyVhXX1yZXR1cm4gdGhpc307Y29uc3QgVz17fTtmdW5jdGlvbiAkKHQsZSxuKXtXW3RdPWNsYXNzIE5vZGVFcnJvciBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlcigpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWVzc2FnZVwiLHt2YWx1ZTplLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0aGlzLm5hbWU9YCR7dGhpcy5uYW1lfSBbJHt0fV1gLHRoaXMuc3RhY2ssZGVsZXRlIHRoaXMubmFtZX1nZXQgY29kZSgpe3JldHVybiB0fXNldCBjb2RlKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY29kZVwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTp0LHdyaXRhYmxlOiEwfSl9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLm5hbWV9IFske3R9XTogJHt0aGlzLm1lc3NhZ2V9YH19fWZ1bmN0aW9uIEQodCl7bGV0IGU9XCJcIixuPXQubGVuZ3RoO2NvbnN0IHI9XCItXCI9PT10WzBdPzE6MDtmb3IoO24+PXIrNDtuLT0zKWU9YF8ke3Quc2xpY2Uobi0zLG4pfSR7ZX1gO3JldHVybmAke3Quc2xpY2UoMCxuKX0ke2V9YH1mdW5jdGlvbiBGKHQsZSxuLHIsbyxpKXtpZih0Pm58fHQ8ZSl7Y29uc3Qgcj1cImJpZ2ludFwiPT10eXBlb2YgZT9cIm5cIjpcIlwiO2xldCBvO3Rocm93IG89aT4zPzA9PT1lfHxlPT09QmlnSW50KDApP2A+PSAwJHtyfSBhbmQgPCAyJHtyfSAqKiAkezgqKGkrMSl9JHtyfWA6YD49IC0oMiR7cn0gKiogJHs4KihpKzEpLTF9JHtyfSkgYW5kIDwgMiAqKiAkezgqKGkrMSktMX0ke3J9YDpgPj0gJHtlfSR7cn0gYW5kIDw9ICR7bn0ke3J9YCxuZXcgVy5FUlJfT1VUX09GX1JBTkdFKFwidmFsdWVcIixvLHQpfSFmdW5jdGlvbih0LGUsbil7eihlLFwib2Zmc2V0XCIpLHZvaWQgMCE9PXRbZV0mJnZvaWQgMCE9PXRbZStuXXx8cShlLHQubGVuZ3RoLShuKzEpKX0ocixvLGkpfWZ1bmN0aW9uIHoodCxlKXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVy5FUlJfSU5WQUxJRF9BUkdfVFlQRShlLFwibnVtYmVyXCIsdCl9ZnVuY3Rpb24gcSh0LGUsbil7aWYoTWF0aC5mbG9vcih0KSE9PXQpdGhyb3cgeih0LG4pLG5ldyBXLkVSUl9PVVRfT0ZfUkFOR0Uobnx8XCJvZmZzZXRcIixcImFuIGludGVnZXJcIix0KTtpZihlPDApdGhyb3cgbmV3IFcuRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTO3Rocm93IG5ldyBXLkVSUl9PVVRfT0ZfUkFOR0Uobnx8XCJvZmZzZXRcIixgPj0gJHtuPzE6MH0gYW5kIDw9ICR7ZX1gLHQpfSQoXCJFUlJfQlVGRkVSX09VVF9PRl9CT1VORFNcIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQ/YCR7dH0gaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzYDpcIkF0dGVtcHQgdG8gYWNjZXNzIG1lbW9yeSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIn0pLFJhbmdlRXJyb3IpLCQoXCJFUlJfSU5WQUxJRF9BUkdfVFlQRVwiLChmdW5jdGlvbih0LGUpe3JldHVybmBUaGUgXCIke3R9XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBlfWB9KSxUeXBlRXJyb3IpLCQoXCJFUlJfT1VUX09GX1JBTkdFXCIsKGZ1bmN0aW9uKHQsZSxuKXtsZXQgcj1gVGhlIHZhbHVlIG9mIFwiJHt0fVwiIGlzIG91dCBvZiByYW5nZS5gLG89bjtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihuKSYmTWF0aC5hYnMobik+MioqMzI/bz1EKFN0cmluZyhuKSk6XCJiaWdpbnRcIj09dHlwZW9mIG4mJihvPVN0cmluZyhuKSwobj5CaWdJbnQoMikqKkJpZ0ludCgzMil8fG48LShCaWdJbnQoMikqKkJpZ0ludCgzMikpKSYmKG89RChvKSksbys9XCJuXCIpLHIrPWAgSXQgbXVzdCBiZSAke2V9LiBSZWNlaXZlZCAke299YCxyfSksUmFuZ2VFcnJvcik7Y29uc3QgSD0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIFYodCxlKXtsZXQgbjtlPWV8fDEvMDtjb25zdCByPXQubGVuZ3RoO2xldCBvPW51bGw7Y29uc3QgaT1bXTtmb3IobGV0IGE9MDthPHI7KythKXtpZihuPXQuY2hhckNvZGVBdChhKSxuPjU1Mjk1JiZuPDU3MzQ0KXtpZighbyl7aWYobj41NjMxOSl7KGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKGErMT09PXIpeyhlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1vPW47Y29udGludWV9aWYobjw1NjMyMCl7KGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpLG89bjtjb250aW51ZX1uPTY1NTM2KyhvLTU1Mjk2PDwxMHxuLTU2MzIwKX1lbHNlIG8mJihlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtpZihvPW51bGwsbjwxMjgpe2lmKChlLT0xKTwwKWJyZWFrO2kucHVzaChuKX1lbHNlIGlmKG48MjA0OCl7aWYoKGUtPTIpPDApYnJlYWs7aS5wdXNoKG4+PjZ8MTkyLDYzJm58MTI4KX1lbHNlIGlmKG48NjU1MzYpe2lmKChlLT0zKTwwKWJyZWFrO2kucHVzaChuPj4xMnwyMjQsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfWVsc2V7aWYoIShuPDExMTQxMTIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKTtpZigoZS09NCk8MClicmVhaztpLnB1c2gobj4+MTh8MjQwLG4+PjEyJjYzfDEyOCxuPj42JjYzfDEyOCw2MyZufDEyOCl9fXJldHVybiBpfWZ1bmN0aW9uIEcodCl7cmV0dXJuIHIudG9CeXRlQXJyYXkoZnVuY3Rpb24odCl7aWYoKHQ9KHQ9dC5zcGxpdChcIj1cIilbMF0pLnRyaW0oKS5yZXBsYWNlKEgsXCJcIikpLmxlbmd0aDwyKXJldHVyblwiXCI7Zm9yKDt0Lmxlbmd0aCU0IT0wOyl0Kz1cIj1cIjtyZXR1cm4gdH0odCkpfWZ1bmN0aW9uIEoodCxlLG4scil7bGV0IG87Zm9yKG89MDtvPHImJiEobytuPj1lLmxlbmd0aHx8bz49dC5sZW5ndGgpOysrbyllW28rbl09dFtvXTtyZXR1cm4gb31mdW5jdGlvbiBZKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfHxudWxsIT10JiZudWxsIT10LmNvbnN0cnVjdG9yJiZudWxsIT10LmNvbnN0cnVjdG9yLm5hbWUmJnQuY29uc3RydWN0b3IubmFtZT09PWUubmFtZX1mdW5jdGlvbiBLKHQpe3JldHVybiB0IT10fWNvbnN0IFg9ZnVuY3Rpb24oKXtjb25zdCB0PVwiMDEyMzQ1Njc4OWFiY2RlZlwiLGU9bmV3IEFycmF5KDI1Nik7Zm9yKGxldCBuPTA7bjwxNjsrK24pe2NvbnN0IHI9MTYqbjtmb3IobGV0IG89MDtvPDE2OysrbyllW3Irb109dFtuXSt0W29dfXJldHVybiBlfSgpO2Z1bmN0aW9uIFoodCl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIEJpZ0ludD9ROnR9ZnVuY3Rpb24gUSgpe3Rocm93IG5ldyBFcnJvcihcIkJpZ0ludCBub3Qgc3VwcG9ydGVkXCIpfX0sNDY1OnQ9Pnt2YXIgZSxuPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxyPW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uYXBwbHk/bi5hcHBseTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHQsZSxuKX07ZT1uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm93bktleXM/bi5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpKX06ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpfTt2YXIgbz1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKHQpe3JldHVybiB0IT10fTtmdW5jdGlvbiBpKCl7aS5pbml0LmNhbGwodGhpcyl9dC5leHBvcnRzPWksdC5leHBvcnRzLm9uY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gbyhuKXt0LnJlbW92ZUxpc3RlbmVyKGUsaSkscihuKX1mdW5jdGlvbiBpKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZW1vdmVMaXN0ZW5lciYmdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsbyksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWcodCxlLGkse29uY2U6ITB9KSxcImVycm9yXCIhPT1lJiZmdW5jdGlvbih0LGUsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vbiYmZyh0LFwiZXJyb3JcIixlLG4pfSh0LG8se29uY2U6ITB9KX0pKX0saS5FdmVudEVtaXR0ZXI9aSxpLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxpLnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCxpLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgYT0xMDtmdW5jdGlvbiBzKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgdCl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdm9pZCAwPT09dC5fbWF4TGlzdGVuZXJzP2kuZGVmYXVsdE1heExpc3RlbmVyczp0Ll9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gbCh0LGUsbixyKXt2YXIgbyxpLGEsbDtpZihzKG4pLHZvaWQgMD09PShpPXQuX2V2ZW50cyk/KGk9dC5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdC5fZXZlbnRzQ291bnQ9MCk6KHZvaWQgMCE9PWkubmV3TGlzdGVuZXImJih0LmVtaXQoXCJuZXdMaXN0ZW5lclwiLGUsbi5saXN0ZW5lcj9uLmxpc3RlbmVyOm4pLGk9dC5fZXZlbnRzKSxhPWlbZV0pLHZvaWQgMD09PWEpYT1pW2VdPW4sKyt0Ll9ldmVudHNDb3VudDtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGE/YT1pW2VdPXI/W24sYV06W2Esbl06cj9hLnVuc2hpZnQobik6YS5wdXNoKG4pLChvPXUodCkpPjAmJmEubGVuZ3RoPm8mJiFhLndhcm5lZCl7YS53YXJuZWQ9ITA7dmFyIGM9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIithLmxlbmd0aCtcIiBcIitTdHJpbmcoZSkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTtjLm5hbWU9XCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIixjLmVtaXR0ZXI9dCxjLnR5cGU9ZSxjLmNvdW50PWEubGVuZ3RoLGw9Yyxjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihsKX1yZXR1cm4gdH1mdW5jdGlvbiBjKCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCwwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBmKHQsZSxuKXt2YXIgcj17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6dCx0eXBlOmUsbGlzdGVuZXI6bn0sbz1jLmJpbmQocik7cmV0dXJuIG8ubGlzdGVuZXI9bixyLndyYXBGbj1vLG99ZnVuY3Rpb24gZCh0LGUsbil7dmFyIHI9dC5fZXZlbnRzO2lmKHZvaWQgMD09PXIpcmV0dXJuW107dmFyIG89cltlXTtyZXR1cm4gdm9pZCAwPT09bz9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP24/W28ubGlzdGVuZXJ8fG9dOltvXTpuP2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodC5sZW5ndGgpLG49MDtuPGUubGVuZ3RoOysrbillW25dPXRbbl0ubGlzdGVuZXJ8fHRbbl07cmV0dXJuIGV9KG8pOnAobyxvLmxlbmd0aCl9ZnVuY3Rpb24gaCh0KXt2YXIgZT10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09ZSl7dmFyIG49ZVt0XTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiAxO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG4ubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIHAodCxlKXtmb3IodmFyIG49bmV3IEFycmF5KGUpLHI9MDtyPGU7KytyKW5bcl09dFtyXTtyZXR1cm4gbn1mdW5jdGlvbiBnKHQsZSxuLHIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQub24pci5vbmNlP3Qub25jZShlLG4pOnQub24oZSxuKTtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTt0LmFkZEV2ZW50TGlzdGVuZXIoZSwoZnVuY3Rpb24gbyhpKXtyLm9uY2UmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG8pLG4oaSl9KSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhfSxzZXQ6ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQ8MHx8byh0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrdCtcIi5cIik7YT10fX0pLGkuaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LGkucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dDwwfHxvKHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyt0K1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPXQsdGhpc30saS5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcyl9LGkucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWUucHVzaChhcmd1bWVudHNbbl0pO3ZhciBvPVwiZXJyb3JcIj09PXQsaT10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09aSlvPW8mJnZvaWQgMD09PWkuZXJyb3I7ZWxzZSBpZighbylyZXR1cm4hMTtpZihvKXt2YXIgYTtpZihlLmxlbmd0aD4wJiYoYT1lWzBdKSxhIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgYTt2YXIgcz1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKGE/XCIgKFwiK2EubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgcy5jb250ZXh0PWEsc312YXIgdT1pW3RdO2lmKHZvaWQgMD09PXUpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSlyKHUsdGhpcyxlKTtlbHNle3ZhciBsPXUubGVuZ3RoLGM9cCh1LGwpO2ZvcihuPTA7bjxsOysrbilyKGNbbl0sdGhpcyxlKX1yZXR1cm4hMH0saS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbCh0aGlzLHQsZSwhMSl9LGkucHJvdG90eXBlLm9uPWkucHJvdG90eXBlLmFkZExpc3RlbmVyLGkucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBsKHRoaXMsdCxlLCEwKX0saS5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe3JldHVybiBzKGUpLHRoaXMub24odCxmKHRoaXMsdCxlKSksdGhpc30saS5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBzKGUpLHRoaXMucHJlcGVuZExpc3RlbmVyKHQsZih0aGlzLHQsZSkpLHRoaXN9LGkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixvLGksYTtpZihzKGUpLHZvaWQgMD09PShyPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KG49clt0XSkpcmV0dXJuIHRoaXM7aWYobj09PWV8fG4ubGlzdGVuZXI9PT1lKTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSByW3RdLHIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdCxuLmxpc3RlbmVyfHxlKSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXtmb3Iobz0tMSxpPW4ubGVuZ3RoLTE7aT49MDtpLS0paWYobltpXT09PWV8fG5baV0ubGlzdGVuZXI9PT1lKXthPW5baV0ubGlzdGVuZXIsbz1pO2JyZWFrfWlmKG88MClyZXR1cm4gdGhpczswPT09bz9uLnNoaWZ0KCk6ZnVuY3Rpb24odCxlKXtmb3IoO2UrMTx0Lmxlbmd0aDtlKyspdFtlXT10W2UrMV07dC5wb3AoKX0obixvKSwxPT09bi5sZW5ndGgmJihyW3RdPW5bMF0pLHZvaWQgMCE9PXIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdCxhfHxlKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUub2ZmPWkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLGkucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgZSxuLHI7aWYodm9pZCAwPT09KG49dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1uLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09blt0XSYmKDA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIG5bdF0pLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBvLGk9T2JqZWN0LmtleXMobik7Zm9yKHI9MDtyPGkubGVuZ3RoOysrcilcInJlbW92ZUxpc3RlbmVyXCIhPT0obz1pW3JdKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMobyk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKGU9blt0XSkpdGhpcy5yZW1vdmVMaXN0ZW5lcih0LGUpO2Vsc2UgaWYodm9pZCAwIT09ZSlmb3Iocj1lLmxlbmd0aC0xO3I+PTA7ci0tKXRoaXMucmVtb3ZlTGlzdGVuZXIodCxlW3JdKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiBkKHRoaXMsdCwhMCl9LGkucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gZCh0aGlzLHQsITEpfSxpLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lmxpc3RlbmVyQ291bnQ/dC5saXN0ZW5lckNvdW50KGUpOmguY2FsbCh0LGUpfSxpLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWgsaS5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP2UodGhpcy5fZXZlbnRzKTpbXX19LDIxNToodCxlKT0+e2UucmVhZD1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBpLGEscz04Km8tci0xLHU9KDE8PHMpLTEsbD11Pj4xLGM9LTcsZj1uP28tMTowLGQ9bj8tMToxLGg9dFtlK2ZdO2ZvcihmKz1kLGk9aCYoMTw8LWMpLTEsaD4+PS1jLGMrPXM7Yz4wO2k9MjU2KmkrdFtlK2ZdLGYrPWQsYy09OCk7Zm9yKGE9aSYoMTw8LWMpLTEsaT4+PS1jLGMrPXI7Yz4wO2E9MjU2KmErdFtlK2ZdLGYrPWQsYy09OCk7aWYoMD09PWkpaT0xLWw7ZWxzZXtpZihpPT09dSlyZXR1cm4gYT9OYU46MS8wKihoPy0xOjEpO2ErPU1hdGgucG93KDIsciksaS09bH1yZXR1cm4oaD8tMToxKSphKk1hdGgucG93KDIsaS1yKX0sZS53cml0ZT1mdW5jdGlvbih0LGUsbixyLG8saSl7dmFyIGEscyx1LGw9OCppLW8tMSxjPSgxPDxsKS0xLGY9Yz4+MSxkPTIzPT09bz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaD1yPzA6aS0xLHA9cj8xOi0xLGc9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhzPWlzTmFOKGUpPzE6MCxhPWMpOihhPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHU9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sdSo9MiksKGUrPWErZj49MT9kL3U6ZCpNYXRoLnBvdygyLDEtZikpKnU+PTImJihhKyssdS89MiksYStmPj1jPyhzPTAsYT1jKTphK2Y+PTE/KHM9KGUqdS0xKSpNYXRoLnBvdygyLG8pLGErPWYpOihzPWUqTWF0aC5wb3coMixmLTEpKk1hdGgucG93KDIsbyksYT0wKSk7bz49ODt0W24raF09MjU1JnMsaCs9cCxzLz0yNTYsby09OCk7Zm9yKGE9YTw8b3xzLGwrPW87bD4wO3RbbitoXT0yNTUmYSxoKz1wLGEvPTI1NixsLT04KTt0W24raC1wXXw9MTI4Kmd9fSw5NTE6ZnVuY3Rpb24odCxlLG4pe3ZhciByO3Q9bi5ubWQodCksZnVuY3Rpb24oKXt2YXIgbyxpPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLGE9XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCIscz1cIl9fbG9kYXNoX3BsYWNlaG9sZGVyX19cIix1PTE2LGw9MzIsYz02NCxmPTEyOCxkPTI1NixoPTEvMCxwPTkwMDcxOTkyNTQ3NDA5OTEsZz1OYU4seT00Mjk0OTY3Mjk1LG09W1tcImFyeVwiLGZdLFtcImJpbmRcIiwxXSxbXCJiaW5kS2V5XCIsMl0sW1wiY3VycnlcIiw4XSxbXCJjdXJyeVJpZ2h0XCIsdV0sW1wiZmxpcFwiLDUxMl0sW1wicGFydGlhbFwiLGxdLFtcInBhcnRpYWxSaWdodFwiLGNdLFtcInJlYXJnXCIsZF1dLHY9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixiPVwiW29iamVjdCBBcnJheV1cIix3PVwiW29iamVjdCBCb29sZWFuXVwiLF89XCJbb2JqZWN0IERhdGVdXCIsRT1cIltvYmplY3QgRXJyb3JdXCIsUz1cIltvYmplY3QgRnVuY3Rpb25dXCIsQT1cIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCIsST1cIltvYmplY3QgTWFwXVwiLFQ9XCJbb2JqZWN0IE51bWJlcl1cIixSPVwiW29iamVjdCBPYmplY3RdXCIseD1cIltvYmplY3QgUHJvbWlzZV1cIixDPVwiW29iamVjdCBSZWdFeHBdXCIsQj1cIltvYmplY3QgU2V0XVwiLGs9XCJbb2JqZWN0IFN0cmluZ11cIixMPVwiW29iamVjdCBTeW1ib2xdXCIsTz1cIltvYmplY3QgV2Vha01hcF1cIixVPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixqPVwiW29iamVjdCBEYXRhVmlld11cIixOPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIsTT1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiLFA9XCJbb2JqZWN0IEludDhBcnJheV1cIixXPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLCQ9XCJbb2JqZWN0IEludDMyQXJyYXldXCIsRD1cIltvYmplY3QgVWludDhBcnJheV1cIixGPVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIix6PVwiW29iamVjdCBVaW50MTZBcnJheV1cIixxPVwiW29iamVjdCBVaW50MzJBcnJheV1cIixIPS9cXGJfX3AgXFwrPSAnJzsvZyxWPS9cXGIoX19wIFxcKz0pICcnIFxcKy9nLEc9LyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZyxKPS8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxZPS9bJjw+XCInXS9nLEs9UmVnRXhwKEouc291cmNlKSxYPVJlZ0V4cChZLnNvdXJjZSksWj0vPCUtKFtcXHNcXFNdKz8pJT4vZyxRPS88JShbXFxzXFxTXSs/KSU+L2csdHQ9LzwlPShbXFxzXFxTXSs/KSU+L2csZXQ9L1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxudD0vXlxcdyokLyxydD0vW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2csb3Q9L1tcXFxcXiQuKis/KClbXFxde318XS9nLGl0PVJlZ0V4cChvdC5zb3VyY2UpLGF0PS9eXFxzKy8sc3Q9L1xccy8sdXQ9L1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxsdD0vXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sY3Q9Lyw/ICYgLyxmdD0vW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2csZHQ9L1soKT0se31cXFtcXF1cXC9cXHNdLyxodD0vXFxcXChcXFxcKT8vZyxwdD0vXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2csZ3Q9L1xcdyokLyx5dD0vXlstK10weFswLTlhLWZdKyQvaSxtdD0vXjBiWzAxXSskL2ksdnQ9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyxidD0vXjBvWzAtN10rJC9pLHd0PS9eKD86MHxbMS05XVxcZCopJC8sX3Q9L1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2csRXQ9LygkXikvLFN0PS9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZyxBdD1cIlxcXFx1ZDgwMC1cXFxcdWRmZmZcIixJdD1cIlxcXFx1MDMwMC1cXFxcdTAzNmZcXFxcdWZlMjAtXFxcXHVmZTJmXFxcXHUyMGQwLVxcXFx1MjBmZlwiLFR0PVwiXFxcXHUyNzAwLVxcXFx1MjdiZlwiLFJ0PVwiYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmXCIseHQ9XCJBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGVcIixDdD1cIlxcXFx1ZmUwZVxcXFx1ZmUwZlwiLEJ0PVwiXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmN1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZlxcXFx1MjAwMC1cXFxcdTIwNmYgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMFwiLGt0PVwiWyfigJldXCIsTHQ9XCJbXCIrQXQrXCJdXCIsT3Q9XCJbXCIrQnQrXCJdXCIsVXQ9XCJbXCIrSXQrXCJdXCIsanQ9XCJcXFxcZCtcIixOdD1cIltcIitUdCtcIl1cIixNdD1cIltcIitSdCtcIl1cIixQdD1cIlteXCIrQXQrQnQranQrVHQrUnQreHQrXCJdXCIsV3Q9XCJcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl1cIiwkdD1cIlteXCIrQXQrXCJdXCIsRHQ9XCIoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9XCIsRnQ9XCJbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl1cIix6dD1cIltcIit4dCtcIl1cIixxdD1cIlxcXFx1MjAwZFwiLEh0PVwiKD86XCIrTXQrXCJ8XCIrUHQrXCIpXCIsVnQ9XCIoPzpcIit6dCtcInxcIitQdCtcIilcIixHdD1cIig/Olsn4oCZXSg/OmR8bGx8bXxyZXxzfHR8dmUpKT9cIixKdD1cIig/Olsn4oCZXSg/OkR8TEx8TXxSRXxTfFR8VkUpKT9cIixZdD1cIig/OlwiK1V0K1wifFwiK1d0K1wiKVwiK1wiP1wiLEt0PVwiW1wiK0N0K1wiXT9cIixYdD1LdCtZdCsoXCIoPzpcIitxdCtcIig/OlwiK1skdCxEdCxGdF0uam9pbihcInxcIikrXCIpXCIrS3QrWXQrXCIpKlwiKSxadD1cIig/OlwiK1tOdCxEdCxGdF0uam9pbihcInxcIikrXCIpXCIrWHQsUXQ9XCIoPzpcIitbJHQrVXQrXCI/XCIsVXQsRHQsRnQsTHRdLmpvaW4oXCJ8XCIpK1wiKVwiLHRlPVJlZ0V4cChrdCxcImdcIiksZWU9UmVnRXhwKFV0LFwiZ1wiKSxuZT1SZWdFeHAoV3QrXCIoPz1cIitXdCtcIil8XCIrUXQrWHQsXCJnXCIpLHJlPVJlZ0V4cChbenQrXCI/XCIrTXQrXCIrXCIrR3QrXCIoPz1cIitbT3QsenQsXCIkXCJdLmpvaW4oXCJ8XCIpK1wiKVwiLFZ0K1wiK1wiK0p0K1wiKD89XCIrW090LHp0K0h0LFwiJFwiXS5qb2luKFwifFwiKStcIilcIix6dCtcIj9cIitIdCtcIitcIitHdCx6dCtcIitcIitKdCxcIlxcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKVwiLFwiXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pXCIsanQsWnRdLmpvaW4oXCJ8XCIpLFwiZ1wiKSxvZT1SZWdFeHAoXCJbXCIrcXQrQXQrSXQrQ3QrXCJdXCIpLGllPS9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vLGFlPVtcIkFycmF5XCIsXCJCdWZmZXJcIixcIkRhdGFWaWV3XCIsXCJEYXRlXCIsXCJFcnJvclwiLFwiRmxvYXQzMkFycmF5XCIsXCJGbG9hdDY0QXJyYXlcIixcIkZ1bmN0aW9uXCIsXCJJbnQ4QXJyYXlcIixcIkludDE2QXJyYXlcIixcIkludDMyQXJyYXlcIixcIk1hcFwiLFwiTWF0aFwiLFwiT2JqZWN0XCIsXCJQcm9taXNlXCIsXCJSZWdFeHBcIixcIlNldFwiLFwiU3RyaW5nXCIsXCJTeW1ib2xcIixcIlR5cGVFcnJvclwiLFwiVWludDhBcnJheVwiLFwiVWludDhDbGFtcGVkQXJyYXlcIixcIlVpbnQxNkFycmF5XCIsXCJVaW50MzJBcnJheVwiLFwiV2Vha01hcFwiLFwiX1wiLFwiY2xlYXJUaW1lb3V0XCIsXCJpc0Zpbml0ZVwiLFwicGFyc2VJbnRcIixcInNldFRpbWVvdXRcIl0sc2U9LTEsdWU9e307dWVbTl09dWVbTV09dWVbUF09dWVbV109dWVbJF09dWVbRF09dWVbRl09dWVbel09dWVbcV09ITAsdWVbdl09dWVbYl09dWVbVV09dWVbd109dWVbal09dWVbX109dWVbRV09dWVbU109dWVbSV09dWVbVF09dWVbUl09dWVbQ109dWVbQl09dWVba109dWVbT109ITE7dmFyIGxlPXt9O2xlW3ZdPWxlW2JdPWxlW1VdPWxlW2pdPWxlW3ddPWxlW19dPWxlW05dPWxlW01dPWxlW1BdPWxlW1ddPWxlWyRdPWxlW0ldPWxlW1RdPWxlW1JdPWxlW0NdPWxlW0JdPWxlW2tdPWxlW0xdPWxlW0RdPWxlW0ZdPWxlW3pdPWxlW3FdPSEwLGxlW0VdPWxlW1NdPWxlW09dPSExO3ZhciBjZT17XCJcXFxcXCI6XCJcXFxcXCIsXCInXCI6XCInXCIsXCJcXG5cIjpcIm5cIixcIlxcclwiOlwiclwiLFwiXFx1MjAyOFwiOlwidTIwMjhcIixcIlxcdTIwMjlcIjpcInUyMDI5XCJ9LGZlPXBhcnNlRmxvYXQsZGU9cGFyc2VJbnQsaGU9XCJvYmplY3RcIj09dHlwZW9mIG4uZyYmbi5nJiZuLmcuT2JqZWN0PT09T2JqZWN0JiZuLmcscGU9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGdlPWhlfHxwZXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHllPWUmJiFlLm5vZGVUeXBlJiZlLG1lPXllJiZ0JiYhdC5ub2RlVHlwZSYmdCx2ZT1tZSYmbWUuZXhwb3J0cz09PXllLGJlPXZlJiZoZS5wcm9jZXNzLHdlPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW1lJiZtZS5yZXF1aXJlJiZtZS5yZXF1aXJlKFwidXRpbFwiKS50eXBlcztyZXR1cm4gdHx8YmUmJmJlLmJpbmRpbmcmJmJlLmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKHQpe319KCksX2U9d2UmJndlLmlzQXJyYXlCdWZmZXIsRWU9d2UmJndlLmlzRGF0ZSxTZT13ZSYmd2UuaXNNYXAsQWU9d2UmJndlLmlzUmVnRXhwLEllPXdlJiZ3ZS5pc1NldCxUZT13ZSYmd2UuaXNUeXBlZEFycmF5O2Z1bmN0aW9uIFJlKHQsZSxuKXtzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdC5jYWxsKGUpO2Nhc2UgMTpyZXR1cm4gdC5jYWxsKGUsblswXSk7Y2FzZSAyOnJldHVybiB0LmNhbGwoZSxuWzBdLG5bMV0pO2Nhc2UgMzpyZXR1cm4gdC5jYWxsKGUsblswXSxuWzFdLG5bMl0pfXJldHVybiB0LmFwcGx5KGUsbil9ZnVuY3Rpb24geGUodCxlLG4scil7Zm9yKHZhciBvPS0xLGk9bnVsbD09dD8wOnQubGVuZ3RoOysrbzxpOyl7dmFyIGE9dFtvXTtlKHIsYSxuKGEpLHQpfXJldHVybiByfWZ1bmN0aW9uIENlKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoOysrbjxyJiYhMSE9PWUodFtuXSxuLHQpOyk7cmV0dXJuIHR9ZnVuY3Rpb24gQmUodCxlKXtmb3IodmFyIG49bnVsbD09dD8wOnQubGVuZ3RoO24tLSYmITEhPT1lKHRbbl0sbix0KTspO3JldHVybiB0fWZ1bmN0aW9uIGtlKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoOysrbjxyOylpZighZSh0W25dLG4sdCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gTGUodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGgsbz0wLGk9W107KytuPHI7KXt2YXIgYT10W25dO2UoYSxuLHQpJiYoaVtvKytdPWEpfXJldHVybiBpfWZ1bmN0aW9uIE9lKHQsZSl7cmV0dXJuISEobnVsbD09dD8wOnQubGVuZ3RoKSYmemUodCxlLDApPi0xfWZ1bmN0aW9uIFVlKHQsZSxuKXtmb3IodmFyIHI9LTEsbz1udWxsPT10PzA6dC5sZW5ndGg7KytyPG87KWlmKG4oZSx0W3JdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBqZSh0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aCxvPUFycmF5KHIpOysrbjxyOylvW25dPWUodFtuXSxuLHQpO3JldHVybiBvfWZ1bmN0aW9uIE5lKHQsZSl7Zm9yKHZhciBuPS0xLHI9ZS5sZW5ndGgsbz10Lmxlbmd0aDsrK248cjspdFtvK25dPWVbbl07cmV0dXJuIHR9ZnVuY3Rpb24gTWUodCxlLG4scil7dmFyIG89LTEsaT1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHImJmkmJihuPXRbKytvXSk7KytvPGk7KW49ZShuLHRbb10sbyx0KTtyZXR1cm4gbn1mdW5jdGlvbiBQZSh0LGUsbixyKXt2YXIgbz1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHImJm8mJihuPXRbLS1vXSk7by0tOyluPWUobix0W29dLG8sdCk7cmV0dXJuIG59ZnVuY3Rpb24gV2UodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGg7KytuPHI7KWlmKGUodFtuXSxuLHQpKXJldHVybiEwO3JldHVybiExfXZhciAkZT1HZShcImxlbmd0aFwiKTtmdW5jdGlvbiBEZSh0LGUsbil7dmFyIHI7cmV0dXJuIG4odCwoZnVuY3Rpb24odCxuLG8pe2lmKGUodCxuLG8pKXJldHVybiByPW4sITF9KSkscn1mdW5jdGlvbiBGZSh0LGUsbixyKXtmb3IodmFyIG89dC5sZW5ndGgsaT1uKyhyPzE6LTEpO3I/aS0tOisraTxvOylpZihlKHRbaV0saSx0KSlyZXR1cm4gaTtyZXR1cm4tMX1mdW5jdGlvbiB6ZSh0LGUsbil7cmV0dXJuIGU9PWU/ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4tMSxvPXQubGVuZ3RoO2Zvcig7KytyPG87KWlmKHRbcl09PT1lKXJldHVybiByO3JldHVybi0xfSh0LGUsbik6RmUodCxIZSxuKX1mdW5jdGlvbiBxZSh0LGUsbixyKXtmb3IodmFyIG89bi0xLGk9dC5sZW5ndGg7KytvPGk7KWlmKHIodFtvXSxlKSlyZXR1cm4gbztyZXR1cm4tMX1mdW5jdGlvbiBIZSh0KXtyZXR1cm4gdCE9dH1mdW5jdGlvbiBWZSh0LGUpe3ZhciBuPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gbj9LZSh0LGUpL246Z31mdW5jdGlvbiBHZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bzplW3RdfX1mdW5jdGlvbiBKZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PXQ/bzp0W2VdfX1mdW5jdGlvbiBZZSh0LGUsbixyLG8pe3JldHVybiBvKHQsKGZ1bmN0aW9uKHQsbyxpKXtuPXI/KHI9ITEsdCk6ZShuLHQsbyxpKX0pKSxufWZ1bmN0aW9uIEtlKHQsZSl7Zm9yKHZhciBuLHI9LTEsaT10Lmxlbmd0aDsrK3I8aTspe3ZhciBhPWUodFtyXSk7YSE9PW8mJihuPW49PT1vP2E6bithKX1yZXR1cm4gbn1mdW5jdGlvbiBYZSh0LGUpe2Zvcih2YXIgbj0tMSxyPUFycmF5KHQpOysrbjx0OylyW25dPWUobik7cmV0dXJuIHJ9ZnVuY3Rpb24gWmUodCl7cmV0dXJuIHQ/dC5zbGljZSgwLHluKHQpKzEpLnJlcGxhY2UoYXQsXCJcIik6dH1mdW5jdGlvbiBRZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9fWZ1bmN0aW9uIHRuKHQsZSl7cmV0dXJuIGplKGUsKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSkpfWZ1bmN0aW9uIGVuKHQsZSl7cmV0dXJuIHQuaGFzKGUpfWZ1bmN0aW9uIG5uKHQsZSl7Zm9yKHZhciBuPS0xLHI9dC5sZW5ndGg7KytuPHImJnplKGUsdFtuXSwwKT4tMTspO3JldHVybiBufWZ1bmN0aW9uIHJuKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLSYmemUoZSx0W25dLDApPi0xOyk7cmV0dXJuIG59dmFyIG9uPUplKHvDgDpcIkFcIizDgTpcIkFcIizDgjpcIkFcIizDgzpcIkFcIizDhDpcIkFcIizDhTpcIkFcIizDoDpcImFcIizDoTpcImFcIizDojpcImFcIizDozpcImFcIizDpDpcImFcIizDpTpcImFcIizDhzpcIkNcIizDpzpcImNcIizDkDpcIkRcIizDsDpcImRcIizDiDpcIkVcIizDiTpcIkVcIizDijpcIkVcIizDizpcIkVcIizDqDpcImVcIizDqTpcImVcIizDqjpcImVcIizDqzpcImVcIizDjDpcIklcIizDjTpcIklcIizDjjpcIklcIizDjzpcIklcIizDrDpcImlcIizDrTpcImlcIizDrjpcImlcIizDrzpcImlcIizDkTpcIk5cIizDsTpcIm5cIizDkjpcIk9cIizDkzpcIk9cIizDlDpcIk9cIizDlTpcIk9cIizDljpcIk9cIizDmDpcIk9cIizDsjpcIm9cIizDszpcIm9cIizDtDpcIm9cIizDtTpcIm9cIizDtjpcIm9cIizDuDpcIm9cIizDmTpcIlVcIizDmjpcIlVcIizDmzpcIlVcIizDnDpcIlVcIizDuTpcInVcIizDujpcInVcIizDuzpcInVcIizDvDpcInVcIizDnTpcIllcIizDvTpcInlcIizDvzpcInlcIizDhjpcIkFlXCIsw6Y6XCJhZVwiLMOeOlwiVGhcIizDvjpcInRoXCIsw586XCJzc1wiLMSAOlwiQVwiLMSCOlwiQVwiLMSEOlwiQVwiLMSBOlwiYVwiLMSDOlwiYVwiLMSFOlwiYVwiLMSGOlwiQ1wiLMSIOlwiQ1wiLMSKOlwiQ1wiLMSMOlwiQ1wiLMSHOlwiY1wiLMSJOlwiY1wiLMSLOlwiY1wiLMSNOlwiY1wiLMSOOlwiRFwiLMSQOlwiRFwiLMSPOlwiZFwiLMSROlwiZFwiLMSSOlwiRVwiLMSUOlwiRVwiLMSWOlwiRVwiLMSYOlwiRVwiLMSaOlwiRVwiLMSTOlwiZVwiLMSVOlwiZVwiLMSXOlwiZVwiLMSZOlwiZVwiLMSbOlwiZVwiLMScOlwiR1wiLMSeOlwiR1wiLMSgOlwiR1wiLMSiOlwiR1wiLMSdOlwiZ1wiLMSfOlwiZ1wiLMShOlwiZ1wiLMSjOlwiZ1wiLMSkOlwiSFwiLMSmOlwiSFwiLMSlOlwiaFwiLMSnOlwiaFwiLMSoOlwiSVwiLMSqOlwiSVwiLMSsOlwiSVwiLMSuOlwiSVwiLMSwOlwiSVwiLMSpOlwiaVwiLMSrOlwiaVwiLMStOlwiaVwiLMSvOlwiaVwiLMSxOlwiaVwiLMS0OlwiSlwiLMS1OlwialwiLMS2OlwiS1wiLMS3Olwia1wiLMS4Olwia1wiLMS5OlwiTFwiLMS7OlwiTFwiLMS9OlwiTFwiLMS/OlwiTFwiLMWBOlwiTFwiLMS6OlwibFwiLMS8OlwibFwiLMS+OlwibFwiLMWAOlwibFwiLMWCOlwibFwiLMWDOlwiTlwiLMWFOlwiTlwiLMWHOlwiTlwiLMWKOlwiTlwiLMWEOlwiblwiLMWGOlwiblwiLMWIOlwiblwiLMWLOlwiblwiLMWMOlwiT1wiLMWOOlwiT1wiLMWQOlwiT1wiLMWNOlwib1wiLMWPOlwib1wiLMWROlwib1wiLMWUOlwiUlwiLMWWOlwiUlwiLMWYOlwiUlwiLMWVOlwiclwiLMWXOlwiclwiLMWZOlwiclwiLMWaOlwiU1wiLMWcOlwiU1wiLMWeOlwiU1wiLMWgOlwiU1wiLMWbOlwic1wiLMWdOlwic1wiLMWfOlwic1wiLMWhOlwic1wiLMWiOlwiVFwiLMWkOlwiVFwiLMWmOlwiVFwiLMWjOlwidFwiLMWlOlwidFwiLMWnOlwidFwiLMWoOlwiVVwiLMWqOlwiVVwiLMWsOlwiVVwiLMWuOlwiVVwiLMWwOlwiVVwiLMWyOlwiVVwiLMWpOlwidVwiLMWrOlwidVwiLMWtOlwidVwiLMWvOlwidVwiLMWxOlwidVwiLMWzOlwidVwiLMW0OlwiV1wiLMW1Olwid1wiLMW2OlwiWVwiLMW3OlwieVwiLMW4OlwiWVwiLMW5OlwiWlwiLMW7OlwiWlwiLMW9OlwiWlwiLMW6OlwielwiLMW8OlwielwiLMW+OlwielwiLMSyOlwiSUpcIizEszpcImlqXCIsxZI6XCJPZVwiLMWTOlwib2VcIizFiTpcIiduXCIsxb86XCJzXCJ9KSxhbj1KZSh7XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCJ9KTtmdW5jdGlvbiBzbih0KXtyZXR1cm5cIlxcXFxcIitjZVt0XX1mdW5jdGlvbiB1bih0KXtyZXR1cm4gb2UudGVzdCh0KX1mdW5jdGlvbiBsbih0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtuWysrZV09W3IsdF19KSksbn1mdW5jdGlvbiBjbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKX19ZnVuY3Rpb24gZm4odCxlKXtmb3IodmFyIG49LTEscj10Lmxlbmd0aCxvPTAsaT1bXTsrK248cjspe3ZhciBhPXRbbl07YSE9PWUmJmEhPT1zfHwodFtuXT1zLGlbbysrXT1uKX1yZXR1cm4gaX1mdW5jdGlvbiBkbih0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7blsrK2VdPXR9KSksbn1mdW5jdGlvbiBobih0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7blsrK2VdPVt0LHRdfSkpLG59ZnVuY3Rpb24gcG4odCl7cmV0dXJuIHVuKHQpP2Z1bmN0aW9uKHQpe3ZhciBlPW5lLmxhc3RJbmRleD0wO2Zvcig7bmUudGVzdCh0KTspKytlO3JldHVybiBlfSh0KTokZSh0KX1mdW5jdGlvbiBnbih0KXtyZXR1cm4gdW4odCk/ZnVuY3Rpb24odCl7cmV0dXJuIHQubWF0Y2gobmUpfHxbXX0odCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQoXCJcIil9KHQpfWZ1bmN0aW9uIHluKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDtlLS0mJnN0LnRlc3QodC5jaGFyQXQoZSkpOyk7cmV0dXJuIGV9dmFyIG1uPUplKHtcIiZhbXA7XCI6XCImXCIsXCImbHQ7XCI6XCI8XCIsXCImZ3Q7XCI6XCI+XCIsXCImcXVvdDtcIjonXCInLFwiJiMzOTtcIjpcIidcIn0pO3ZhciB2bj1mdW5jdGlvbiB0KGUpe3ZhciBuLHI9KGU9bnVsbD09ZT9nZTp2bi5kZWZhdWx0cyhnZS5PYmplY3QoKSxlLHZuLnBpY2soZ2UsYWUpKSkuQXJyYXksc3Q9ZS5EYXRlLEF0PWUuRXJyb3IsSXQ9ZS5GdW5jdGlvbixUdD1lLk1hdGgsUnQ9ZS5PYmplY3QseHQ9ZS5SZWdFeHAsQ3Q9ZS5TdHJpbmcsQnQ9ZS5UeXBlRXJyb3Isa3Q9ci5wcm90b3R5cGUsTHQ9SXQucHJvdG90eXBlLE90PVJ0LnByb3RvdHlwZSxVdD1lW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdLGp0PUx0LnRvU3RyaW5nLE50PU90Lmhhc093blByb3BlcnR5LE10PTAsUHQ9KG49L1teLl0rJC8uZXhlYyhVdCYmVXQua2V5cyYmVXQua2V5cy5JRV9QUk9UT3x8XCJcIikpP1wiU3ltYm9sKHNyYylfMS5cIituOlwiXCIsV3Q9T3QudG9TdHJpbmcsJHQ9anQuY2FsbChSdCksRHQ9Z2UuXyxGdD14dChcIl5cIitqdC5jYWxsKE50KS5yZXBsYWNlKG90LFwiXFxcXCQmXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csXCIkMS4qP1wiKStcIiRcIiksenQ9dmU/ZS5CdWZmZXI6byxxdD1lLlN5bWJvbCxIdD1lLlVpbnQ4QXJyYXksVnQ9enQ/enQuYWxsb2NVbnNhZmU6byxHdD1jbihSdC5nZXRQcm90b3R5cGVPZixSdCksSnQ9UnQuY3JlYXRlLFl0PU90LnByb3BlcnR5SXNFbnVtZXJhYmxlLEt0PWt0LnNwbGljZSxYdD1xdD9xdC5pc0NvbmNhdFNwcmVhZGFibGU6byxadD1xdD9xdC5pdGVyYXRvcjpvLFF0PXF0P3F0LnRvU3RyaW5nVGFnOm8sbmU9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9aGkoUnQsXCJkZWZpbmVQcm9wZXJ0eVwiKTtyZXR1cm4gdCh7fSxcIlwiLHt9KSx0fWNhdGNoKHQpe319KCksb2U9ZS5jbGVhclRpbWVvdXQhPT1nZS5jbGVhclRpbWVvdXQmJmUuY2xlYXJUaW1lb3V0LGNlPXN0JiZzdC5ub3chPT1nZS5EYXRlLm5vdyYmc3Qubm93LGhlPWUuc2V0VGltZW91dCE9PWdlLnNldFRpbWVvdXQmJmUuc2V0VGltZW91dCxwZT1UdC5jZWlsLHllPVR0LmZsb29yLG1lPVJ0LmdldE93blByb3BlcnR5U3ltYm9scyxiZT16dD96dC5pc0J1ZmZlcjpvLHdlPWUuaXNGaW5pdGUsJGU9a3Quam9pbixKZT1jbihSdC5rZXlzLFJ0KSxibj1UdC5tYXgsd249VHQubWluLF9uPXN0Lm5vdyxFbj1lLnBhcnNlSW50LFNuPVR0LnJhbmRvbSxBbj1rdC5yZXZlcnNlLEluPWhpKGUsXCJEYXRhVmlld1wiKSxUbj1oaShlLFwiTWFwXCIpLFJuPWhpKGUsXCJQcm9taXNlXCIpLHhuPWhpKGUsXCJTZXRcIiksQ249aGkoZSxcIldlYWtNYXBcIiksQm49aGkoUnQsXCJjcmVhdGVcIiksa249Q24mJm5ldyBDbixMbj17fSxPbj1XaShJbiksVW49V2koVG4pLGpuPVdpKFJuKSxObj1XaSh4biksTW49V2koQ24pLFBuPXF0P3F0LnByb3RvdHlwZTpvLFduPVBuP1BuLnZhbHVlT2Y6bywkbj1Qbj9Qbi50b1N0cmluZzpvO2Z1bmN0aW9uIERuKHQpe2lmKG5zKHQpJiYhSGEodCkmJiEodCBpbnN0YW5jZW9mIEhuKSl7aWYodCBpbnN0YW5jZW9mIHFuKXJldHVybiB0O2lmKE50LmNhbGwodCxcIl9fd3JhcHBlZF9fXCIpKXJldHVybiAkaSh0KX1yZXR1cm4gbmV3IHFuKHQpfXZhciBGbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFlcyhlKSlyZXR1cm57fTtpZihKdClyZXR1cm4gSnQoZSk7dC5wcm90b3R5cGU9ZTt2YXIgbj1uZXcgdDtyZXR1cm4gdC5wcm90b3R5cGU9byxufX0oKTtmdW5jdGlvbiB6bigpe31mdW5jdGlvbiBxbih0LGUpe3RoaXMuX193cmFwcGVkX189dCx0aGlzLl9fYWN0aW9uc19fPVtdLHRoaXMuX19jaGFpbl9fPSEhZSx0aGlzLl9faW5kZXhfXz0wLHRoaXMuX192YWx1ZXNfXz1vfWZ1bmN0aW9uIEhuKHQpe3RoaXMuX193cmFwcGVkX189dCx0aGlzLl9fYWN0aW9uc19fPVtdLHRoaXMuX19kaXJfXz0xLHRoaXMuX19maWx0ZXJlZF9fPSExLHRoaXMuX19pdGVyYXRlZXNfXz1bXSx0aGlzLl9fdGFrZUNvdW50X189eSx0aGlzLl9fdmlld3NfXz1bXX1mdW5jdGlvbiBWbih0KXt2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIHI9dFtlXTt0aGlzLnNldChyWzBdLHJbMV0pfX1mdW5jdGlvbiBHbih0KXt2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIHI9dFtlXTt0aGlzLnNldChyWzBdLHJbMV0pfX1mdW5jdGlvbiBKbih0KXt2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIHI9dFtlXTt0aGlzLnNldChyWzBdLHJbMV0pfX1mdW5jdGlvbiBZbih0KXt2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5fX2RhdGFfXz1uZXcgSm47KytlPG47KXRoaXMuYWRkKHRbZV0pfWZ1bmN0aW9uIEtuKHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IEduKHQpO3RoaXMuc2l6ZT1lLnNpemV9ZnVuY3Rpb24gWG4odCxlKXt2YXIgbj1IYSh0KSxyPSFuJiZxYSh0KSxvPSFuJiYhciYmWWEodCksaT0hbiYmIXImJiFvJiZjcyh0KSxhPW58fHJ8fG98fGkscz1hP1hlKHQubGVuZ3RoLEN0KTpbXSx1PXMubGVuZ3RoO2Zvcih2YXIgbCBpbiB0KSFlJiYhTnQuY2FsbCh0LGwpfHxhJiYoXCJsZW5ndGhcIj09bHx8byYmKFwib2Zmc2V0XCI9PWx8fFwicGFyZW50XCI9PWwpfHxpJiYoXCJidWZmZXJcIj09bHx8XCJieXRlTGVuZ3RoXCI9PWx8fFwiYnl0ZU9mZnNldFwiPT1sKXx8d2kobCx1KSl8fHMucHVzaChsKTtyZXR1cm4gc31mdW5jdGlvbiBabih0KXt2YXIgZT10Lmxlbmd0aDtyZXR1cm4gZT90W1lyKDAsZS0xKV06b31mdW5jdGlvbiBRbih0LGUpe3JldHVybiBOaShrbyh0KSx1cihlLDAsdC5sZW5ndGgpKX1mdW5jdGlvbiB0cih0KXtyZXR1cm4gTmkoa28odCkpfWZ1bmN0aW9uIGVyKHQsZSxuKXsobiE9PW8mJiFEYSh0W2VdLG4pfHxuPT09byYmIShlIGluIHQpKSYmYXIodCxlLG4pfWZ1bmN0aW9uIG5yKHQsZSxuKXt2YXIgcj10W2VdO050LmNhbGwodCxlKSYmRGEocixuKSYmKG4hPT1vfHxlIGluIHQpfHxhcih0LGUsbil9ZnVuY3Rpb24gcnIodCxlKXtmb3IodmFyIG49dC5sZW5ndGg7bi0tOylpZihEYSh0W25dWzBdLGUpKXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIG9yKHQsZSxuLHIpe3JldHVybiBocih0LChmdW5jdGlvbih0LG8saSl7ZShyLHQsbih0KSxpKX0pKSxyfWZ1bmN0aW9uIGlyKHQsZSl7cmV0dXJuIHQmJkxvKGUsTHMoZSksdCl9ZnVuY3Rpb24gYXIodCxlLG4pe1wiX19wcm90b19fXCI9PWUmJm5lP25lKHQsZSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6bix3cml0YWJsZTohMH0pOnRbZV09bn1mdW5jdGlvbiBzcih0LGUpe2Zvcih2YXIgbj0tMSxpPWUubGVuZ3RoLGE9cihpKSxzPW51bGw9PXQ7KytuPGk7KWFbbl09cz9vOlJzKHQsZVtuXSk7cmV0dXJuIGF9ZnVuY3Rpb24gdXIodCxlLG4pe3JldHVybiB0PT10JiYobiE9PW8mJih0PXQ8PW4/dDpuKSxlIT09byYmKHQ9dD49ZT90OmUpKSx0fWZ1bmN0aW9uIGxyKHQsZSxuLHIsaSxhKXt2YXIgcyx1PTEmZSxsPTImZSxjPTQmZTtpZihuJiYocz1pP24odCxyLGksYSk6bih0KSkscyE9PW8pcmV0dXJuIHM7aWYoIWVzKHQpKXJldHVybiB0O3ZhciBmPUhhKHQpO2lmKGYpe2lmKHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsbj1uZXcgdC5jb25zdHJ1Y3RvcihlKTtlJiZcInN0cmluZ1wiPT10eXBlb2YgdFswXSYmTnQuY2FsbCh0LFwiaW5kZXhcIikmJihuLmluZGV4PXQuaW5kZXgsbi5pbnB1dD10LmlucHV0KTtyZXR1cm4gbn0odCksIXUpcmV0dXJuIGtvKHQscyl9ZWxzZXt2YXIgZD15aSh0KSxoPWQ9PVN8fGQ9PUE7aWYoWWEodCkpcmV0dXJuIElvKHQsdSk7aWYoZD09Unx8ZD09dnx8aCYmIWkpe2lmKHM9bHx8aD97fTp2aSh0KSwhdSlyZXR1cm4gbD9mdW5jdGlvbih0LGUpe3JldHVybiBMbyh0LGdpKHQpLGUpfSh0LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJkxvKGUsT3MoZSksdCl9KHMsdCkpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIExvKHQscGkodCksZSl9KHQsaXIocyx0KSl9ZWxzZXtpZighbGVbZF0pcmV0dXJuIGk/dDp7fTtzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmNvbnN0cnVjdG9yO3N3aXRjaChlKXtjYXNlIFU6cmV0dXJuIFRvKHQpO2Nhc2UgdzpjYXNlIF86cmV0dXJuIG5ldyByKCt0KTtjYXNlIGo6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9Ubyh0LmJ1ZmZlcik6dC5idWZmZXI7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKG4sdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9KHQsbik7Y2FzZSBOOmNhc2UgTTpjYXNlIFA6Y2FzZSBXOmNhc2UgJDpjYXNlIEQ6Y2FzZSBGOmNhc2UgejpjYXNlIHE6cmV0dXJuIFJvKHQsbik7Y2FzZSBJOnJldHVybiBuZXcgcjtjYXNlIFQ6Y2FzZSBrOnJldHVybiBuZXcgcih0KTtjYXNlIEM6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0LmNvbnN0cnVjdG9yKHQuc291cmNlLGd0LmV4ZWModCkpO3JldHVybiBlLmxhc3RJbmRleD10Lmxhc3RJbmRleCxlfSh0KTtjYXNlIEI6cmV0dXJuIG5ldyByO2Nhc2UgTDpyZXR1cm4gbz10LFduP1J0KFduLmNhbGwobykpOnt9fXZhciBvfSh0LGQsdSl9fWF8fChhPW5ldyBLbik7dmFyIHA9YS5nZXQodCk7aWYocClyZXR1cm4gcDthLnNldCh0LHMpLHNzKHQpP3QuZm9yRWFjaCgoZnVuY3Rpb24ocil7cy5hZGQobHIocixlLG4scix0LGEpKX0pKTpycyh0KSYmdC5mb3JFYWNoKChmdW5jdGlvbihyLG8pe3Muc2V0KG8sbHIocixlLG4sbyx0LGEpKX0pKTt2YXIgZz1mP286KGM/bD9haTppaTpsP09zOkxzKSh0KTtyZXR1cm4gQ2UoZ3x8dCwoZnVuY3Rpb24ocixvKXtnJiYocj10W289cl0pLG5yKHMsbyxscihyLGUsbixvLHQsYSkpfSkpLHN9ZnVuY3Rpb24gY3IodCxlLG4pe3ZhciByPW4ubGVuZ3RoO2lmKG51bGw9PXQpcmV0dXJuIXI7Zm9yKHQ9UnQodCk7ci0tOyl7dmFyIGk9bltyXSxhPWVbaV0scz10W2ldO2lmKHM9PT1vJiYhKGkgaW4gdCl8fCFhKHMpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGZyKHQsZSxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBCdChpKTtyZXR1cm4gTGkoKGZ1bmN0aW9uKCl7dC5hcHBseShvLG4pfSksZSl9ZnVuY3Rpb24gZHIodCxlLG4scil7dmFyIG89LTEsaT1PZSxhPSEwLHM9dC5sZW5ndGgsdT1bXSxsPWUubGVuZ3RoO2lmKCFzKXJldHVybiB1O24mJihlPWplKGUsUWUobikpKSxyPyhpPVVlLGE9ITEpOmUubGVuZ3RoPj0yMDAmJihpPWVuLGE9ITEsZT1uZXcgWW4oZSkpO3Q6Zm9yKDsrK288czspe3ZhciBjPXRbb10sZj1udWxsPT1uP2M6bihjKTtpZihjPXJ8fDAhPT1jP2M6MCxhJiZmPT1mKXtmb3IodmFyIGQ9bDtkLS07KWlmKGVbZF09PT1mKWNvbnRpbnVlIHQ7dS5wdXNoKGMpfWVsc2UgaShlLGYscil8fHUucHVzaChjKX1yZXR1cm4gdX1Ebi50ZW1wbGF0ZVNldHRpbmdzPXtlc2NhcGU6WixldmFsdWF0ZTpRLGludGVycG9sYXRlOnR0LHZhcmlhYmxlOlwiXCIsaW1wb3J0czp7XzpEbn19LERuLnByb3RvdHlwZT16bi5wcm90b3R5cGUsRG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPURuLHFuLnByb3RvdHlwZT1Gbih6bi5wcm90b3R5cGUpLHFuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1xbixIbi5wcm90b3R5cGU9Rm4oem4ucHJvdG90eXBlKSxIbi5wcm90b3R5cGUuY29uc3RydWN0b3I9SG4sVm4ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1Cbj9CbihudWxsKTp7fSx0aGlzLnNpemU9MH0sVm4ucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmhhcyh0KSYmZGVsZXRlIHRoaXMuX19kYXRhX19bdF07cmV0dXJuIHRoaXMuc2l6ZS09ZT8xOjAsZX0sVm4ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO2lmKEJuKXt2YXIgbj1lW3RdO3JldHVybiBuPT09YT9vOm59cmV0dXJuIE50LmNhbGwoZSx0KT9lW3RdOm99LFZuLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztyZXR1cm4gQm4/ZVt0XSE9PW86TnQuY2FsbChlLHQpfSxWbi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyh0KT8wOjEsblt0XT1CbiYmZT09PW8/YTplLHRoaXN9LEduLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W10sdGhpcy5zaXplPTB9LEduLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPXJyKGUsdCk7cmV0dXJuIShuPDApJiYobj09ZS5sZW5ndGgtMT9lLnBvcCgpOkt0LmNhbGwoZSxuLDEpLC0tdGhpcy5zaXplLCEwKX0sR24ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fLG49cnIoZSx0KTtyZXR1cm4gbjwwP286ZVtuXVsxXX0sR24ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gcnIodGhpcy5fX2RhdGFfXyx0KT4tMX0sR24ucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX18scj1ycihuLHQpO3JldHVybiByPDA/KCsrdGhpcy5zaXplLG4ucHVzaChbdCxlXSkpOm5bcl1bMV09ZSx0aGlzfSxKbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBWbixtYXA6bmV3KFRufHxHbiksc3RyaW5nOm5ldyBWbn19LEpuLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9ZmkodGhpcyx0KS5kZWxldGUodCk7cmV0dXJuIHRoaXMuc2l6ZS09ZT8xOjAsZX0sSm4ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gZmkodGhpcyx0KS5nZXQodCl9LEpuLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIGZpKHRoaXMsdCkuaGFzKHQpfSxKbi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZmkodGhpcyx0KSxyPW4uc2l6ZTtyZXR1cm4gbi5zZXQodCxlKSx0aGlzLnNpemUrPW4uc2l6ZT09cj8wOjEsdGhpc30sWW4ucHJvdG90eXBlLmFkZD1Zbi5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQodCxhKSx0aGlzfSxZbi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX0sS24ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgR24sdGhpcy5zaXplPTB9LEtuLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPWUuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemU9ZS5zaXplLG59LEtuLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KHQpfSxLbi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX0sS24ucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187aWYobiBpbnN0YW5jZW9mIEduKXt2YXIgcj1uLl9fZGF0YV9fO2lmKCFUbnx8ci5sZW5ndGg8MTk5KXJldHVybiByLnB1c2goW3QsZV0pLHRoaXMuc2l6ZT0rK24uc2l6ZSx0aGlzO249dGhpcy5fX2RhdGFfXz1uZXcgSm4ocil9cmV0dXJuIG4uc2V0KHQsZSksdGhpcy5zaXplPW4uc2l6ZSx0aGlzfTt2YXIgaHI9am8oX3IpLHByPWpvKEVyLCEwKTtmdW5jdGlvbiBncih0LGUpe3ZhciBuPSEwO3JldHVybiBocih0LChmdW5jdGlvbih0LHIsbyl7cmV0dXJuIG49ISFlKHQscixvKX0pKSxufWZ1bmN0aW9uIHlyKHQsZSxuKXtmb3IodmFyIHI9LTEsaT10Lmxlbmd0aDsrK3I8aTspe3ZhciBhPXRbcl0scz1lKGEpO2lmKG51bGwhPXMmJih1PT09bz9zPT1zJiYhbHMocyk6bihzLHUpKSl2YXIgdT1zLGw9YX1yZXR1cm4gbH1mdW5jdGlvbiBtcih0LGUpe3ZhciBuPVtdO3JldHVybiBocih0LChmdW5jdGlvbih0LHIsbyl7ZSh0LHIsbykmJm4ucHVzaCh0KX0pKSxufWZ1bmN0aW9uIHZyKHQsZSxuLHIsbyl7dmFyIGk9LTEsYT10Lmxlbmd0aDtmb3Iobnx8KG49YmkpLG98fChvPVtdKTsrK2k8YTspe3ZhciBzPXRbaV07ZT4wJiZuKHMpP2U+MT92cihzLGUtMSxuLHIsbyk6TmUobyxzKTpyfHwob1tvLmxlbmd0aF09cyl9cmV0dXJuIG99dmFyIGJyPU5vKCksd3I9Tm8oITApO2Z1bmN0aW9uIF9yKHQsZSl7cmV0dXJuIHQmJmJyKHQsZSxMcyl9ZnVuY3Rpb24gRXIodCxlKXtyZXR1cm4gdCYmd3IodCxlLExzKX1mdW5jdGlvbiBTcih0LGUpe3JldHVybiBMZShlLChmdW5jdGlvbihlKXtyZXR1cm4gWmEodFtlXSl9KSl9ZnVuY3Rpb24gQXIodCxlKXtmb3IodmFyIG49MCxyPShlPV9vKGUsdCkpLmxlbmd0aDtudWxsIT10JiZuPHI7KXQ9dFtQaShlW24rK10pXTtyZXR1cm4gbiYmbj09cj90Om99ZnVuY3Rpb24gSXIodCxlLG4pe3ZhciByPWUodCk7cmV0dXJuIEhhKHQpP3I6TmUocixuKHQpKX1mdW5jdGlvbiBUcih0KXtyZXR1cm4gbnVsbD09dD90PT09bz9cIltvYmplY3QgVW5kZWZpbmVkXVwiOlwiW29iamVjdCBOdWxsXVwiOlF0JiZRdCBpbiBSdCh0KT9mdW5jdGlvbih0KXt2YXIgZT1OdC5jYWxsKHQsUXQpLG49dFtRdF07dHJ5e3RbUXRdPW87dmFyIHI9ITB9Y2F0Y2godCl7fXZhciBpPVd0LmNhbGwodCk7ciYmKGU/dFtRdF09bjpkZWxldGUgdFtRdF0pO3JldHVybiBpfSh0KTpmdW5jdGlvbih0KXtyZXR1cm4gV3QuY2FsbCh0KX0odCl9ZnVuY3Rpb24gUnIodCxlKXtyZXR1cm4gdD5lfWZ1bmN0aW9uIHhyKHQsZSl7cmV0dXJuIG51bGwhPXQmJk50LmNhbGwodCxlKX1mdW5jdGlvbiBDcih0LGUpe3JldHVybiBudWxsIT10JiZlIGluIFJ0KHQpfWZ1bmN0aW9uIEJyKHQsZSxuKXtmb3IodmFyIGk9bj9VZTpPZSxhPXRbMF0ubGVuZ3RoLHM9dC5sZW5ndGgsdT1zLGw9cihzKSxjPTEvMCxmPVtdO3UtLTspe3ZhciBkPXRbdV07dSYmZSYmKGQ9amUoZCxRZShlKSkpLGM9d24oZC5sZW5ndGgsYyksbFt1XT0hbiYmKGV8fGE+PTEyMCYmZC5sZW5ndGg+PTEyMCk/bmV3IFluKHUmJmQpOm99ZD10WzBdO3ZhciBoPS0xLHA9bFswXTt0OmZvcig7KytoPGEmJmYubGVuZ3RoPGM7KXt2YXIgZz1kW2hdLHk9ZT9lKGcpOmc7aWYoZz1ufHwwIT09Zz9nOjAsIShwP2VuKHAseSk6aShmLHksbikpKXtmb3IodT1zOy0tdTspe3ZhciBtPWxbdV07aWYoIShtP2VuKG0seSk6aSh0W3VdLHksbikpKWNvbnRpbnVlIHR9cCYmcC5wdXNoKHkpLGYucHVzaChnKX19cmV0dXJuIGZ9ZnVuY3Rpb24ga3IodCxlLG4pe3ZhciByPW51bGw9PSh0PUNpKHQsZT1fbyhlLHQpKSk/dDp0W1BpKFhpKGUpKV07cmV0dXJuIG51bGw9PXI/bzpSZShyLHQsbil9ZnVuY3Rpb24gTHIodCl7cmV0dXJuIG5zKHQpJiZUcih0KT09dn1mdW5jdGlvbiBPcih0LGUsbixyLGkpe3JldHVybiB0PT09ZXx8KG51bGw9PXR8fG51bGw9PWV8fCFucyh0KSYmIW5zKGUpP3QhPXQmJmUhPWU6ZnVuY3Rpb24odCxlLG4scixpLGEpe3ZhciBzPUhhKHQpLHU9SGEoZSksbD1zP2I6eWkodCksYz11P2I6eWkoZSksZj0obD1sPT12P1I6bCk9PVIsZD0oYz1jPT12P1I6Yyk9PVIsaD1sPT1jO2lmKGgmJllhKHQpKXtpZighWWEoZSkpcmV0dXJuITE7cz0hMCxmPSExfWlmKGgmJiFmKXJldHVybiBhfHwoYT1uZXcgS24pLHN8fGNzKHQpP3JpKHQsZSxuLHIsaSxhKTpmdW5jdGlvbih0LGUsbixyLG8saSxhKXtzd2l0Y2gobil7Y2FzZSBqOmlmKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHx0LmJ5dGVPZmZzZXQhPWUuYnl0ZU9mZnNldClyZXR1cm4hMTt0PXQuYnVmZmVyLGU9ZS5idWZmZXI7Y2FzZSBVOnJldHVybiEodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fCFpKG5ldyBIdCh0KSxuZXcgSHQoZSkpKTtjYXNlIHc6Y2FzZSBfOmNhc2UgVDpyZXR1cm4gRGEoK3QsK2UpO2Nhc2UgRTpyZXR1cm4gdC5uYW1lPT1lLm5hbWUmJnQubWVzc2FnZT09ZS5tZXNzYWdlO2Nhc2UgQzpjYXNlIGs6cmV0dXJuIHQ9PWUrXCJcIjtjYXNlIEk6dmFyIHM9bG47Y2FzZSBCOnZhciB1PTEmcjtpZihzfHwocz1kbiksdC5zaXplIT1lLnNpemUmJiF1KXJldHVybiExO3ZhciBsPWEuZ2V0KHQpO2lmKGwpcmV0dXJuIGw9PWU7cnw9MixhLnNldCh0LGUpO3ZhciBjPXJpKHModCkscyhlKSxyLG8saSxhKTtyZXR1cm4gYS5kZWxldGUodCksYztjYXNlIEw6aWYoV24pcmV0dXJuIFduLmNhbGwodCk9PVduLmNhbGwoZSl9cmV0dXJuITF9KHQsZSxsLG4scixpLGEpO2lmKCEoMSZuKSl7dmFyIHA9ZiYmTnQuY2FsbCh0LFwiX193cmFwcGVkX19cIiksZz1kJiZOdC5jYWxsKGUsXCJfX3dyYXBwZWRfX1wiKTtpZihwfHxnKXt2YXIgeT1wP3QudmFsdWUoKTp0LG09Zz9lLnZhbHVlKCk6ZTtyZXR1cm4gYXx8KGE9bmV3IEtuKSxpKHksbSxuLHIsYSl9fWlmKCFoKXJldHVybiExO3JldHVybiBhfHwoYT1uZXcgS24pLGZ1bmN0aW9uKHQsZSxuLHIsaSxhKXt2YXIgcz0xJm4sdT1paSh0KSxsPXUubGVuZ3RoLGM9aWkoZSksZj1jLmxlbmd0aDtpZihsIT1mJiYhcylyZXR1cm4hMTt2YXIgZD1sO2Zvcig7ZC0tOyl7dmFyIGg9dVtkXTtpZighKHM/aCBpbiBlOk50LmNhbGwoZSxoKSkpcmV0dXJuITF9dmFyIHA9YS5nZXQodCksZz1hLmdldChlKTtpZihwJiZnKXJldHVybiBwPT1lJiZnPT10O3ZhciB5PSEwO2Euc2V0KHQsZSksYS5zZXQoZSx0KTt2YXIgbT1zO2Zvcig7KytkPGw7KXt2YXIgdj10W2g9dVtkXV0sYj1lW2hdO2lmKHIpdmFyIHc9cz9yKGIsdixoLGUsdCxhKTpyKHYsYixoLHQsZSxhKTtpZighKHc9PT1vP3Y9PT1ifHxpKHYsYixuLHIsYSk6dykpe3k9ITE7YnJlYWt9bXx8KG09XCJjb25zdHJ1Y3RvclwiPT1oKX1pZih5JiYhbSl7dmFyIF89dC5jb25zdHJ1Y3RvcixFPWUuY29uc3RydWN0b3I7Xz09RXx8IShcImNvbnN0cnVjdG9yXCJpbiB0KXx8IShcImNvbnN0cnVjdG9yXCJpbiBlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgXyYmXyBpbnN0YW5jZW9mIF8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIEUmJkUgaW5zdGFuY2VvZiBFfHwoeT0hMSl9cmV0dXJuIGEuZGVsZXRlKHQpLGEuZGVsZXRlKGUpLHl9KHQsZSxuLHIsaSxhKX0odCxlLG4scixPcixpKSl9ZnVuY3Rpb24gVXIodCxlLG4scil7dmFyIGk9bi5sZW5ndGgsYT1pLHM9IXI7aWYobnVsbD09dClyZXR1cm4hYTtmb3IodD1SdCh0KTtpLS07KXt2YXIgdT1uW2ldO2lmKHMmJnVbMl0/dVsxXSE9PXRbdVswXV06ISh1WzBdaW4gdCkpcmV0dXJuITF9Zm9yKDsrK2k8YTspe3ZhciBsPSh1PW5baV0pWzBdLGM9dFtsXSxmPXVbMV07aWYocyYmdVsyXSl7aWYoYz09PW8mJiEobCBpbiB0KSlyZXR1cm4hMX1lbHNle3ZhciBkPW5ldyBLbjtpZihyKXZhciBoPXIoYyxmLGwsdCxlLGQpO2lmKCEoaD09PW8/T3IoZixjLDMscixkKTpoKSlyZXR1cm4hMX19cmV0dXJuITB9ZnVuY3Rpb24ganIodCl7cmV0dXJuISghZXModCl8fChlPXQsUHQmJlB0IGluIGUpKSYmKFphKHQpP0Z0OnZ0KS50ZXN0KFdpKHQpKTt2YXIgZX1mdW5jdGlvbiBOcih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6bnVsbD09dD9vdTpcIm9iamVjdFwiPT10eXBlb2YgdD9IYSh0KT9Gcih0WzBdLHRbMV0pOkRyKHQpOmh1KHQpfWZ1bmN0aW9uIE1yKHQpe2lmKCFJaSh0KSlyZXR1cm4gSmUodCk7dmFyIGU9W107Zm9yKHZhciBuIGluIFJ0KHQpKU50LmNhbGwodCxuKSYmXCJjb25zdHJ1Y3RvclwiIT1uJiZlLnB1c2gobik7cmV0dXJuIGV9ZnVuY3Rpb24gUHIodCl7aWYoIWVzKHQpKXJldHVybiBmdW5jdGlvbih0KXt2YXIgZT1bXTtpZihudWxsIT10KWZvcih2YXIgbiBpbiBSdCh0KSllLnB1c2gobik7cmV0dXJuIGV9KHQpO3ZhciBlPUlpKHQpLG49W107Zm9yKHZhciByIGluIHQpKFwiY29uc3RydWN0b3JcIiE9cnx8IWUmJk50LmNhbGwodCxyKSkmJm4ucHVzaChyKTtyZXR1cm4gbn1mdW5jdGlvbiBXcih0LGUpe3JldHVybiB0PGV9ZnVuY3Rpb24gJHIodCxlKXt2YXIgbj0tMSxvPUdhKHQpP3IodC5sZW5ndGgpOltdO3JldHVybiBocih0LChmdW5jdGlvbih0LHIsaSl7b1srK25dPWUodCxyLGkpfSkpLG99ZnVuY3Rpb24gRHIodCl7dmFyIGU9ZGkodCk7cmV0dXJuIDE9PWUubGVuZ3RoJiZlWzBdWzJdP1JpKGVbMF1bMF0sZVswXVsxXSk6ZnVuY3Rpb24obil7cmV0dXJuIG49PT10fHxVcihuLHQsZSl9fWZ1bmN0aW9uIEZyKHQsZSl7cmV0dXJuIEVpKHQpJiZUaShlKT9SaShQaSh0KSxlKTpmdW5jdGlvbihuKXt2YXIgcj1ScyhuLHQpO3JldHVybiByPT09byYmcj09PWU/eHMobix0KTpPcihlLHIsMyl9fWZ1bmN0aW9uIHpyKHQsZSxuLHIsaSl7dCE9PWUmJmJyKGUsKGZ1bmN0aW9uKGEscyl7aWYoaXx8KGk9bmV3IEtuKSxlcyhhKSkhZnVuY3Rpb24odCxlLG4scixpLGEscyl7dmFyIHU9QmkodCxuKSxsPUJpKGUsbiksYz1zLmdldChsKTtpZihjKXJldHVybiB2b2lkIGVyKHQsbixjKTt2YXIgZj1hP2EodSxsLG4rXCJcIix0LGUscyk6byxkPWY9PT1vO2lmKGQpe3ZhciBoPUhhKGwpLHA9IWgmJllhKGwpLGc9IWgmJiFwJiZjcyhsKTtmPWwsaHx8cHx8Zz9IYSh1KT9mPXU6SmEodSk/Zj1rbyh1KTpwPyhkPSExLGY9SW8obCwhMCkpOmc/KGQ9ITEsZj1SbyhsLCEwKSk6Zj1bXTppcyhsKXx8cWEobCk/KGY9dSxxYSh1KT9mPXZzKHUpOmVzKHUpJiYhWmEodSl8fChmPXZpKGwpKSk6ZD0hMX1kJiYocy5zZXQobCxmKSxpKGYsbCxyLGEscykscy5kZWxldGUobCkpO2VyKHQsbixmKX0odCxlLHMsbix6cixyLGkpO2Vsc2V7dmFyIHU9cj9yKEJpKHQscyksYSxzK1wiXCIsdCxlLGkpOm87dT09PW8mJih1PWEpLGVyKHQscyx1KX19KSxPcyl9ZnVuY3Rpb24gcXIodCxlKXt2YXIgbj10Lmxlbmd0aDtpZihuKXJldHVybiB3aShlKz1lPDA/bjowLG4pP3RbZV06b31mdW5jdGlvbiBIcih0LGUsbil7ZT1lLmxlbmd0aD9qZShlLChmdW5jdGlvbih0KXtyZXR1cm4gSGEodCk/ZnVuY3Rpb24oZSl7cmV0dXJuIEFyKGUsMT09PXQubGVuZ3RoP3RbMF06dCl9OnR9KSk6W291XTt2YXIgcj0tMTtlPWplKGUsUWUoY2koKSkpO3ZhciBvPSRyKHQsKGZ1bmN0aW9uKHQsbixvKXt2YXIgaT1qZShlLChmdW5jdGlvbihlKXtyZXR1cm4gZSh0KX0pKTtyZXR1cm57Y3JpdGVyaWE6aSxpbmRleDorK3IsdmFsdWU6dH19KSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7Zm9yKHQuc29ydChlKTtuLS07KXRbbl09dFtuXS52YWx1ZTtyZXR1cm4gdH0obywoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciByPS0xLG89dC5jcml0ZXJpYSxpPWUuY3JpdGVyaWEsYT1vLmxlbmd0aCxzPW4ubGVuZ3RoO2Zvcig7KytyPGE7KXt2YXIgdT14byhvW3JdLGlbcl0pO2lmKHUpcmV0dXJuIHI+PXM/dTp1KihcImRlc2NcIj09bltyXT8tMToxKX1yZXR1cm4gdC5pbmRleC1lLmluZGV4fSh0LGUsbil9KSl9ZnVuY3Rpb24gVnIodCxlLG4pe2Zvcih2YXIgcj0tMSxvPWUubGVuZ3RoLGk9e307KytyPG87KXt2YXIgYT1lW3JdLHM9QXIodCxhKTtuKHMsYSkmJnRvKGksX28oYSx0KSxzKX1yZXR1cm4gaX1mdW5jdGlvbiBHcih0LGUsbixyKXt2YXIgbz1yP3FlOnplLGk9LTEsYT1lLmxlbmd0aCxzPXQ7Zm9yKHQ9PT1lJiYoZT1rbyhlKSksbiYmKHM9amUodCxRZShuKSkpOysraTxhOylmb3IodmFyIHU9MCxsPWVbaV0sYz1uP24obCk6bDsodT1vKHMsYyx1LHIpKT4tMTspcyE9PXQmJkt0LmNhbGwocyx1LDEpLEt0LmNhbGwodCx1LDEpO3JldHVybiB0fWZ1bmN0aW9uIEpyKHQsZSl7Zm9yKHZhciBuPXQ/ZS5sZW5ndGg6MCxyPW4tMTtuLS07KXt2YXIgbz1lW25dO2lmKG49PXJ8fG8hPT1pKXt2YXIgaT1vO3dpKG8pP0t0LmNhbGwodCxvLDEpOmhvKHQsbyl9fXJldHVybiB0fWZ1bmN0aW9uIFlyKHQsZSl7cmV0dXJuIHQreWUoU24oKSooZS10KzEpKX1mdW5jdGlvbiBLcih0LGUpe3ZhciBuPVwiXCI7aWYoIXR8fGU8MXx8ZT5wKXJldHVybiBuO2Rve2UlMiYmKG4rPXQpLChlPXllKGUvMikpJiYodCs9dCl9d2hpbGUoZSk7cmV0dXJuIG59ZnVuY3Rpb24gWHIodCxlKXtyZXR1cm4gT2koeGkodCxlLG91KSx0K1wiXCIpfWZ1bmN0aW9uIFpyKHQpe3JldHVybiBabihEcyh0KSl9ZnVuY3Rpb24gUXIodCxlKXt2YXIgbj1Ecyh0KTtyZXR1cm4gTmkobix1cihlLDAsbi5sZW5ndGgpKX1mdW5jdGlvbiB0byh0LGUsbixyKXtpZighZXModCkpcmV0dXJuIHQ7Zm9yKHZhciBpPS0xLGE9KGU9X28oZSx0KSkubGVuZ3RoLHM9YS0xLHU9dDtudWxsIT11JiYrK2k8YTspe3ZhciBsPVBpKGVbaV0pLGM9bjtpZihcIl9fcHJvdG9fX1wiPT09bHx8XCJjb25zdHJ1Y3RvclwiPT09bHx8XCJwcm90b3R5cGVcIj09PWwpcmV0dXJuIHQ7aWYoaSE9cyl7dmFyIGY9dVtsXTsoYz1yP3IoZixsLHUpOm8pPT09byYmKGM9ZXMoZik/Zjp3aShlW2krMV0pP1tdOnt9KX1ucih1LGwsYyksdT11W2xdfXJldHVybiB0fXZhciBlbz1rbj9mdW5jdGlvbih0LGUpe3JldHVybiBrbi5zZXQodCxlKSx0fTpvdSxubz1uZT9mdW5jdGlvbih0LGUpe3JldHVybiBuZSh0LFwidG9TdHJpbmdcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWU6ZXUoZSksd3JpdGFibGU6ITB9KX06b3U7ZnVuY3Rpb24gcm8odCl7cmV0dXJuIE5pKERzKHQpKX1mdW5jdGlvbiBvbyh0LGUsbil7dmFyIG89LTEsaT10Lmxlbmd0aDtlPDAmJihlPS1lPmk/MDppK2UpLChuPW4+aT9pOm4pPDAmJihuKz1pKSxpPWU+bj8wOm4tZT4+PjAsZT4+Pj0wO2Zvcih2YXIgYT1yKGkpOysrbzxpOylhW29dPXRbbytlXTtyZXR1cm4gYX1mdW5jdGlvbiBpbyh0LGUpe3ZhciBuO3JldHVybiBocih0LChmdW5jdGlvbih0LHIsbyl7cmV0dXJuIShuPWUodCxyLG8pKX0pKSwhIW59ZnVuY3Rpb24gYW8odCxlLG4pe3ZhciByPTAsbz1udWxsPT10P3I6dC5sZW5ndGg7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJmU9PWUmJm88PTIxNDc0ODM2NDcpe2Zvcig7cjxvOyl7dmFyIGk9citvPj4+MSxhPXRbaV07bnVsbCE9PWEmJiFscyhhKSYmKG4/YTw9ZTphPGUpP3I9aSsxOm89aX1yZXR1cm4gb31yZXR1cm4gc28odCxlLG91LG4pfWZ1bmN0aW9uIHNvKHQsZSxuLHIpe3ZhciBpPTAsYT1udWxsPT10PzA6dC5sZW5ndGg7aWYoMD09PWEpcmV0dXJuIDA7Zm9yKHZhciBzPShlPW4oZSkpIT1lLHU9bnVsbD09PWUsbD1scyhlKSxjPWU9PT1vO2k8YTspe3ZhciBmPXllKChpK2EpLzIpLGQ9bih0W2ZdKSxoPWQhPT1vLHA9bnVsbD09PWQsZz1kPT1kLHk9bHMoZCk7aWYocyl2YXIgbT1yfHxnO2Vsc2UgbT1jP2cmJihyfHxoKTp1P2cmJmgmJihyfHwhcCk6bD9nJiZoJiYhcCYmKHJ8fCF5KTohcCYmIXkmJihyP2Q8PWU6ZDxlKTttP2k9ZisxOmE9Zn1yZXR1cm4gd24oYSw0Mjk0OTY3Mjk0KX1mdW5jdGlvbiB1byh0LGUpe2Zvcih2YXIgbj0tMSxyPXQubGVuZ3RoLG89MCxpPVtdOysrbjxyOyl7dmFyIGE9dFtuXSxzPWU/ZShhKTphO2lmKCFufHwhRGEocyx1KSl7dmFyIHU9cztpW28rK109MD09PWE/MDphfX1yZXR1cm4gaX1mdW5jdGlvbiBsbyh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90OmxzKHQpP2c6K3R9ZnVuY3Rpb24gY28odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYoSGEodCkpcmV0dXJuIGplKHQsY28pK1wiXCI7aWYobHModCkpcmV0dXJuICRuPyRuLmNhbGwodCk6XCJcIjt2YXIgZT10K1wiXCI7cmV0dXJuXCIwXCI9PWUmJjEvdD09LTEvMD9cIi0wXCI6ZX1mdW5jdGlvbiBmbyh0LGUsbil7dmFyIHI9LTEsbz1PZSxpPXQubGVuZ3RoLGE9ITAscz1bXSx1PXM7aWYobilhPSExLG89VWU7ZWxzZSBpZihpPj0yMDApe3ZhciBsPWU/bnVsbDpYbyh0KTtpZihsKXJldHVybiBkbihsKTthPSExLG89ZW4sdT1uZXcgWW59ZWxzZSB1PWU/W106czt0OmZvcig7KytyPGk7KXt2YXIgYz10W3JdLGY9ZT9lKGMpOmM7aWYoYz1ufHwwIT09Yz9jOjAsYSYmZj09Zil7Zm9yKHZhciBkPXUubGVuZ3RoO2QtLTspaWYodVtkXT09PWYpY29udGludWUgdDtlJiZ1LnB1c2goZikscy5wdXNoKGMpfWVsc2Ugbyh1LGYsbil8fCh1IT09cyYmdS5wdXNoKGYpLHMucHVzaChjKSl9cmV0dXJuIHN9ZnVuY3Rpb24gaG8odCxlKXtyZXR1cm4gbnVsbD09KHQ9Q2kodCxlPV9vKGUsdCkpKXx8ZGVsZXRlIHRbUGkoWGkoZSkpXX1mdW5jdGlvbiBwbyh0LGUsbixyKXtyZXR1cm4gdG8odCxlLG4oQXIodCxlKSkscil9ZnVuY3Rpb24gZ28odCxlLG4scil7Zm9yKHZhciBvPXQubGVuZ3RoLGk9cj9vOi0xOyhyP2ktLTorK2k8bykmJmUodFtpXSxpLHQpOyk7cmV0dXJuIG4/b28odCxyPzA6aSxyP2krMTpvKTpvbyh0LHI/aSsxOjAscj9vOmkpfWZ1bmN0aW9uIHlvKHQsZSl7dmFyIG49dDtyZXR1cm4gbiBpbnN0YW5jZW9mIEhuJiYobj1uLnZhbHVlKCkpLE1lKGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZnVuYy5hcHBseShlLnRoaXNBcmcsTmUoW3RdLGUuYXJncykpfSksbil9ZnVuY3Rpb24gbW8odCxlLG4pe3ZhciBvPXQubGVuZ3RoO2lmKG88MilyZXR1cm4gbz9mbyh0WzBdKTpbXTtmb3IodmFyIGk9LTEsYT1yKG8pOysraTxvOylmb3IodmFyIHM9dFtpXSx1PS0xOysrdTxvOyl1IT1pJiYoYVtpXT1kcihhW2ldfHxzLHRbdV0sZSxuKSk7cmV0dXJuIGZvKHZyKGEsMSksZSxuKX1mdW5jdGlvbiB2byh0LGUsbil7Zm9yKHZhciByPS0xLGk9dC5sZW5ndGgsYT1lLmxlbmd0aCxzPXt9OysrcjxpOyl7dmFyIHU9cjxhP2Vbcl06bztuKHMsdFtyXSx1KX1yZXR1cm4gc31mdW5jdGlvbiBibyh0KXtyZXR1cm4gSmEodCk/dDpbXX1mdW5jdGlvbiB3byh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6b3V9ZnVuY3Rpb24gX28odCxlKXtyZXR1cm4gSGEodCk/dDpFaSh0LGUpP1t0XTpNaShicyh0KSl9dmFyIEVvPVhyO2Z1bmN0aW9uIFNvKHQsZSxuKXt2YXIgcj10Lmxlbmd0aDtyZXR1cm4gbj1uPT09bz9yOm4sIWUmJm4+PXI/dDpvbyh0LGUsbil9dmFyIEFvPW9lfHxmdW5jdGlvbih0KXtyZXR1cm4gZ2UuY2xlYXJUaW1lb3V0KHQpfTtmdW5jdGlvbiBJbyh0LGUpe2lmKGUpcmV0dXJuIHQuc2xpY2UoKTt2YXIgbj10Lmxlbmd0aCxyPVZ0P1Z0KG4pOm5ldyB0LmNvbnN0cnVjdG9yKG4pO3JldHVybiB0LmNvcHkocikscn1mdW5jdGlvbiBUbyh0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgSHQoZSkuc2V0KG5ldyBIdCh0KSksZX1mdW5jdGlvbiBSbyh0LGUpe3ZhciBuPWU/VG8odC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9ZnVuY3Rpb24geG8odCxlKXtpZih0IT09ZSl7dmFyIG49dCE9PW8scj1udWxsPT09dCxpPXQ9PXQsYT1scyh0KSxzPWUhPT1vLHU9bnVsbD09PWUsbD1lPT1lLGM9bHMoZSk7aWYoIXUmJiFjJiYhYSYmdD5lfHxhJiZzJiZsJiYhdSYmIWN8fHImJnMmJmx8fCFuJiZsfHwhaSlyZXR1cm4gMTtpZighciYmIWEmJiFjJiZ0PGV8fGMmJm4mJmkmJiFyJiYhYXx8dSYmbiYmaXx8IXMmJml8fCFsKXJldHVybi0xfXJldHVybiAwfWZ1bmN0aW9uIENvKHQsZSxuLG8pe2Zvcih2YXIgaT0tMSxhPXQubGVuZ3RoLHM9bi5sZW5ndGgsdT0tMSxsPWUubGVuZ3RoLGM9Ym4oYS1zLDApLGY9cihsK2MpLGQ9IW87Kyt1PGw7KWZbdV09ZVt1XTtmb3IoOysraTxzOykoZHx8aTxhKSYmKGZbbltpXV09dFtpXSk7Zm9yKDtjLS07KWZbdSsrXT10W2krK107cmV0dXJuIGZ9ZnVuY3Rpb24gQm8odCxlLG4sbyl7Zm9yKHZhciBpPS0xLGE9dC5sZW5ndGgscz0tMSx1PW4ubGVuZ3RoLGw9LTEsYz1lLmxlbmd0aCxmPWJuKGEtdSwwKSxkPXIoZitjKSxoPSFvOysraTxmOylkW2ldPXRbaV07Zm9yKHZhciBwPWk7KytsPGM7KWRbcCtsXT1lW2xdO2Zvcig7KytzPHU7KShofHxpPGEpJiYoZFtwK25bc11dPXRbaSsrXSk7cmV0dXJuIGR9ZnVuY3Rpb24ga28odCxlKXt2YXIgbj0tMSxvPXQubGVuZ3RoO2ZvcihlfHwoZT1yKG8pKTsrK248bzspZVtuXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIExvKHQsZSxuLHIpe3ZhciBpPSFuO258fChuPXt9KTtmb3IodmFyIGE9LTEscz1lLmxlbmd0aDsrK2E8czspe3ZhciB1PWVbYV0sbD1yP3Ioblt1XSx0W3VdLHUsbix0KTpvO2w9PT1vJiYobD10W3VdKSxpP2FyKG4sdSxsKTpucihuLHUsbCl9cmV0dXJuIG59ZnVuY3Rpb24gT28odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgbz1IYShuKT94ZTpvcixpPWU/ZSgpOnt9O3JldHVybiBvKG4sdCxjaShyLDIpLGkpfX1mdW5jdGlvbiBVbyh0KXtyZXR1cm4gWHIoKGZ1bmN0aW9uKGUsbil7dmFyIHI9LTEsaT1uLmxlbmd0aCxhPWk+MT9uW2ktMV06byxzPWk+Mj9uWzJdOm87Zm9yKGE9dC5sZW5ndGg+MyYmXCJmdW5jdGlvblwiPT10eXBlb2YgYT8oaS0tLGEpOm8scyYmX2koblswXSxuWzFdLHMpJiYoYT1pPDM/bzphLGk9MSksZT1SdChlKTsrK3I8aTspe3ZhciB1PW5bcl07dSYmdChlLHUscixhKX1yZXR1cm4gZX0pKX1mdW5jdGlvbiBqbyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe2lmKG51bGw9PW4pcmV0dXJuIG47aWYoIUdhKG4pKXJldHVybiB0KG4scik7Zm9yKHZhciBvPW4ubGVuZ3RoLGk9ZT9vOi0xLGE9UnQobik7KGU/aS0tOisraTxvKSYmITEhPT1yKGFbaV0saSxhKTspO3JldHVybiBufX1mdW5jdGlvbiBObyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2Zvcih2YXIgbz0tMSxpPVJ0KGUpLGE9cihlKSxzPWEubGVuZ3RoO3MtLTspe3ZhciB1PWFbdD9zOisrb107aWYoITE9PT1uKGlbdV0sdSxpKSlicmVha31yZXR1cm4gZX19ZnVuY3Rpb24gTW8odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXVuKGU9YnMoZSkpP2duKGUpOm8scj1uP25bMF06ZS5jaGFyQXQoMCksaT1uP1NvKG4sMSkuam9pbihcIlwiKTplLnNsaWNlKDEpO3JldHVybiByW3RdKCkraX19ZnVuY3Rpb24gUG8odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBNZShacyhxcyhlKS5yZXBsYWNlKHRlLFwiXCIpKSx0LFwiXCIpfX1mdW5jdGlvbiBXbyh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZVswXSk7Y2FzZSAyOnJldHVybiBuZXcgdChlWzBdLGVbMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSk7Y2FzZSA1OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0pO2Nhc2UgNjpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0pO2Nhc2UgNzpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0sZVs2XSl9dmFyIG49Rm4odC5wcm90b3R5cGUpLHI9dC5hcHBseShuLGUpO3JldHVybiBlcyhyKT9yOm59fWZ1bmN0aW9uICRvKHQpe3JldHVybiBmdW5jdGlvbihlLG4scil7dmFyIGk9UnQoZSk7aWYoIUdhKGUpKXt2YXIgYT1jaShuLDMpO2U9THMoZSksbj1mdW5jdGlvbih0KXtyZXR1cm4gYShpW3RdLHQsaSl9fXZhciBzPXQoZSxuLHIpO3JldHVybiBzPi0xP2lbYT9lW3NdOnNdOm99fWZ1bmN0aW9uIERvKHQpe3JldHVybiBvaSgoZnVuY3Rpb24oZSl7dmFyIG49ZS5sZW5ndGgscj1uLGE9cW4ucHJvdG90eXBlLnRocnU7Zm9yKHQmJmUucmV2ZXJzZSgpO3ItLTspe3ZhciBzPWVbcl07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcyl0aHJvdyBuZXcgQnQoaSk7aWYoYSYmIXUmJlwid3JhcHBlclwiPT11aShzKSl2YXIgdT1uZXcgcW4oW10sITApfWZvcihyPXU/cjpuOysrcjxuOyl7dmFyIGw9dWkocz1lW3JdKSxjPVwid3JhcHBlclwiPT1sP3NpKHMpOm87dT1jJiZTaShjWzBdKSYmNDI0PT1jWzFdJiYhY1s0XS5sZW5ndGgmJjE9PWNbOV0/dVt1aShjWzBdKV0uYXBwbHkodSxjWzNdKToxPT1zLmxlbmd0aCYmU2kocyk/dVtsXSgpOnUudGhydShzKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMscj10WzBdO2lmKHUmJjE9PXQubGVuZ3RoJiZIYShyKSlyZXR1cm4gdS5wbGFudChyKS52YWx1ZSgpO2Zvcih2YXIgbz0wLGk9bj9lW29dLmFwcGx5KHRoaXMsdCk6cjsrK288bjspaT1lW29dLmNhbGwodGhpcyxpKTtyZXR1cm4gaX19KSl9ZnVuY3Rpb24gRm8odCxlLG4saSxhLHMsdSxsLGMsZCl7dmFyIGg9ZSZmLHA9MSZlLGc9MiZlLHk9MjQmZSxtPTUxMiZlLHY9Zz9vOldvKHQpO3JldHVybiBmdW5jdGlvbiBmKCl7Zm9yKHZhciBiPWFyZ3VtZW50cy5sZW5ndGgsdz1yKGIpLF89YjtfLS07KXdbX109YXJndW1lbnRzW19dO2lmKHkpdmFyIEU9bGkoZiksUz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxyPTA7bi0tOyl0W25dPT09ZSYmKytyO3JldHVybiByfSh3LEUpO2lmKGkmJih3PUNvKHcsaSxhLHkpKSxzJiYodz1Cbyh3LHMsdSx5KSksYi09Uyx5JiZiPGQpe3ZhciBBPWZuKHcsRSk7cmV0dXJuIFlvKHQsZSxGbyxmLnBsYWNlaG9sZGVyLG4sdyxBLGwsYyxkLWIpfXZhciBJPXA/bjp0aGlzLFQ9Zz9JW3RdOnQ7cmV0dXJuIGI9dy5sZW5ndGgsbD93PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGgscj13bihlLmxlbmd0aCxuKSxpPWtvKHQpO2Zvcig7ci0tOyl7dmFyIGE9ZVtyXTt0W3JdPXdpKGEsbik/aVthXTpvfXJldHVybiB0fSh3LGwpOm0mJmI+MSYmdy5yZXZlcnNlKCksaCYmYzxiJiYody5sZW5ndGg9YyksdGhpcyYmdGhpcyE9PWdlJiZ0aGlzIGluc3RhbmNlb2YgZiYmKFQ9dnx8V28oVCkpLFQuYXBwbHkoSSx3KX19ZnVuY3Rpb24gem8odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIF9yKHQsKGZ1bmN0aW9uKHQsbyxpKXtlKHIsbih0KSxvLGkpfSkpLHJ9KG4sdCxlKHIpLHt9KX19ZnVuY3Rpb24gcW8odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgaTtpZihuPT09byYmcj09PW8pcmV0dXJuIGU7aWYobiE9PW8mJihpPW4pLHIhPT1vKXtpZihpPT09bylyZXR1cm4gcjtcInN0cmluZ1wiPT10eXBlb2Ygbnx8XCJzdHJpbmdcIj09dHlwZW9mIHI/KG49Y28obikscj1jbyhyKSk6KG49bG8obikscj1sbyhyKSksaT10KG4scil9cmV0dXJuIGl9fWZ1bmN0aW9uIEhvKHQpe3JldHVybiBvaSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9amUoZSxRZShjaSgpKSksWHIoKGZ1bmN0aW9uKG4pe3ZhciByPXRoaXM7cmV0dXJuIHQoZSwoZnVuY3Rpb24odCl7cmV0dXJuIFJlKHQscixuKX0pKX0pKX0pKX1mdW5jdGlvbiBWbyh0LGUpe3ZhciBuPShlPWU9PT1vP1wiIFwiOmNvKGUpKS5sZW5ndGg7aWYobjwyKXJldHVybiBuP0tyKGUsdCk6ZTt2YXIgcj1LcihlLHBlKHQvcG4oZSkpKTtyZXR1cm4gdW4oZSk/U28oZ24ociksMCx0KS5qb2luKFwiXCIpOnIuc2xpY2UoMCx0KX1mdW5jdGlvbiBHbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGkpe3JldHVybiBpJiZcIm51bWJlclwiIT10eXBlb2YgaSYmX2koZSxuLGkpJiYobj1pPW8pLGU9cHMoZSksbj09PW8/KG49ZSxlPTApOm49cHMobiksZnVuY3Rpb24odCxlLG4sbyl7Zm9yKHZhciBpPS0xLGE9Ym4ocGUoKGUtdCkvKG58fDEpKSwwKSxzPXIoYSk7YS0tOylzW28/YTorK2ldPXQsdCs9bjtyZXR1cm4gc30oZSxuLGk9aT09PW8/ZTxuPzE6LTE6cHMoaSksdCl9fWZ1bmN0aW9uIEpvKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZcInN0cmluZ1wiPT10eXBlb2Ygbnx8KGU9bXMoZSksbj1tcyhuKSksdChlLG4pfX1mdW5jdGlvbiBZbyh0LGUsbixyLGksYSxzLHUsZixkKXt2YXIgaD04JmU7ZXw9aD9sOmMsNCYoZSY9fihoP2M6bCkpfHwoZSY9LTQpO3ZhciBwPVt0LGUsaSxoP2E6byxoP3M6byxoP286YSxoP286cyx1LGYsZF0sZz1uLmFwcGx5KG8scCk7cmV0dXJuIFNpKHQpJiZraShnLHApLGcucGxhY2Vob2xkZXI9cixVaShnLHQsZSl9ZnVuY3Rpb24gS28odCl7dmFyIGU9VHRbdF07cmV0dXJuIGZ1bmN0aW9uKHQsbil7aWYodD1tcyh0KSwobj1udWxsPT1uPzA6d24oZ3MobiksMjkyKSkmJndlKHQpKXt2YXIgcj0oYnModCkrXCJlXCIpLnNwbGl0KFwiZVwiKTtyZXR1cm4rKChyPShicyhlKHJbMF0rXCJlXCIrKCtyWzFdK24pKSkrXCJlXCIpLnNwbGl0KFwiZVwiKSlbMF0rXCJlXCIrKCtyWzFdLW4pKX1yZXR1cm4gZSh0KX19dmFyIFhvPXhuJiYxL2RuKG5ldyB4bihbLC0wXSkpWzFdPT1oP2Z1bmN0aW9uKHQpe3JldHVybiBuZXcgeG4odCl9Omx1O2Z1bmN0aW9uIFpvKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj15aShlKTtyZXR1cm4gbj09ST9sbihlKTpuPT1CP2huKGUpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGplKGUsKGZ1bmN0aW9uKGUpe3JldHVybltlLHRbZV1dfSkpfShlLHQoZSkpfX1mdW5jdGlvbiBRbyh0LGUsbixhLGgscCxnLHkpe3ZhciBtPTImZTtpZighbSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgQnQoaSk7dmFyIHY9YT9hLmxlbmd0aDowO2lmKHZ8fChlJj0tOTcsYT1oPW8pLGc9Zz09PW8/ZzpibihncyhnKSwwKSx5PXk9PT1vP3k6Z3MoeSksdi09aD9oLmxlbmd0aDowLGUmYyl7dmFyIGI9YSx3PWg7YT1oPW99dmFyIF89bT9vOnNpKHQpLEU9W3QsZSxuLGEsaCxiLHcscCxnLHldO2lmKF8mJmZ1bmN0aW9uKHQsZSl7dmFyIG49dFsxXSxyPWVbMV0sbz1ufHIsaT1vPDEzMSxhPXI9PWYmJjg9PW58fHI9PWYmJm49PWQmJnRbN10ubGVuZ3RoPD1lWzhdfHwzODQ9PXImJmVbN10ubGVuZ3RoPD1lWzhdJiY4PT1uO2lmKCFpJiYhYSlyZXR1cm4gdDsxJnImJih0WzJdPWVbMl0sb3w9MSZuPzA6NCk7dmFyIHU9ZVszXTtpZih1KXt2YXIgbD10WzNdO3RbM109bD9DbyhsLHUsZVs0XSk6dSx0WzRdPWw/Zm4odFszXSxzKTplWzRdfSh1PWVbNV0pJiYobD10WzVdLHRbNV09bD9CbyhsLHUsZVs2XSk6dSx0WzZdPWw/Zm4odFs1XSxzKTplWzZdKTsodT1lWzddKSYmKHRbN109dSk7ciZmJiYodFs4XT1udWxsPT10WzhdP2VbOF06d24odFs4XSxlWzhdKSk7bnVsbD09dFs5XSYmKHRbOV09ZVs5XSk7dFswXT1lWzBdLHRbMV09b30oRSxfKSx0PUVbMF0sZT1FWzFdLG49RVsyXSxhPUVbM10saD1FWzRdLCEoeT1FWzldPUVbOV09PT1vP20/MDp0Lmxlbmd0aDpibihFWzldLXYsMCkpJiYyNCZlJiYoZSY9LTI1KSxlJiYxIT1lKVM9OD09ZXx8ZT09dT9mdW5jdGlvbih0LGUsbil7dmFyIGk9V28odCk7cmV0dXJuIGZ1bmN0aW9uIGEoKXtmb3IodmFyIHM9YXJndW1lbnRzLmxlbmd0aCx1PXIocyksbD1zLGM9bGkoYSk7bC0tOyl1W2xdPWFyZ3VtZW50c1tsXTt2YXIgZj1zPDMmJnVbMF0hPT1jJiZ1W3MtMV0hPT1jP1tdOmZuKHUsYyk7cmV0dXJuKHMtPWYubGVuZ3RoKTxuP1lvKHQsZSxGbyxhLnBsYWNlaG9sZGVyLG8sdSxmLG8sbyxuLXMpOlJlKHRoaXMmJnRoaXMhPT1nZSYmdGhpcyBpbnN0YW5jZW9mIGE/aTp0LHRoaXMsdSl9fSh0LGUseSk6ZSE9bCYmMzMhPWV8fGgubGVuZ3RoP0ZvLmFwcGx5KG8sRSk6ZnVuY3Rpb24odCxlLG4sbyl7dmFyIGk9MSZlLGE9V28odCk7cmV0dXJuIGZ1bmN0aW9uIGUoKXtmb3IodmFyIHM9LTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9LTEsYz1vLmxlbmd0aCxmPXIoYyt1KSxkPXRoaXMmJnRoaXMhPT1nZSYmdGhpcyBpbnN0YW5jZW9mIGU/YTp0OysrbDxjOylmW2xdPW9bbF07Zm9yKDt1LS07KWZbbCsrXT1hcmd1bWVudHNbKytzXTtyZXR1cm4gUmUoZCxpP246dGhpcyxmKX19KHQsZSxuLGEpO2Vsc2UgdmFyIFM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPTEmZSxvPVdvKHQpO3JldHVybiBmdW5jdGlvbiBlKCl7cmV0dXJuKHRoaXMmJnRoaXMhPT1nZSYmdGhpcyBpbnN0YW5jZW9mIGU/bzp0KS5hcHBseShyP246dGhpcyxhcmd1bWVudHMpfX0odCxlLG4pO3JldHVybiBVaSgoXz9lbzpraSkoUyxFKSx0LGUpfWZ1bmN0aW9uIHRpKHQsZSxuLHIpe3JldHVybiB0PT09b3x8RGEodCxPdFtuXSkmJiFOdC5jYWxsKHIsbik/ZTp0fWZ1bmN0aW9uIGVpKHQsZSxuLHIsaSxhKXtyZXR1cm4gZXModCkmJmVzKGUpJiYoYS5zZXQoZSx0KSx6cih0LGUsbyxlaSxhKSxhLmRlbGV0ZShlKSksdH1mdW5jdGlvbiBuaSh0KXtyZXR1cm4gaXModCk/bzp0fWZ1bmN0aW9uIHJpKHQsZSxuLHIsaSxhKXt2YXIgcz0xJm4sdT10Lmxlbmd0aCxsPWUubGVuZ3RoO2lmKHUhPWwmJiEocyYmbD51KSlyZXR1cm4hMTt2YXIgYz1hLmdldCh0KSxmPWEuZ2V0KGUpO2lmKGMmJmYpcmV0dXJuIGM9PWUmJmY9PXQ7dmFyIGQ9LTEsaD0hMCxwPTImbj9uZXcgWW46bztmb3IoYS5zZXQodCxlKSxhLnNldChlLHQpOysrZDx1Oyl7dmFyIGc9dFtkXSx5PWVbZF07aWYocil2YXIgbT1zP3IoeSxnLGQsZSx0LGEpOnIoZyx5LGQsdCxlLGEpO2lmKG0hPT1vKXtpZihtKWNvbnRpbnVlO2g9ITE7YnJlYWt9aWYocCl7aWYoIVdlKGUsKGZ1bmN0aW9uKHQsZSl7aWYoIWVuKHAsZSkmJihnPT09dHx8aShnLHQsbixyLGEpKSlyZXR1cm4gcC5wdXNoKGUpfSkpKXtoPSExO2JyZWFrfX1lbHNlIGlmKGchPT15JiYhaShnLHksbixyLGEpKXtoPSExO2JyZWFrfX1yZXR1cm4gYS5kZWxldGUodCksYS5kZWxldGUoZSksaH1mdW5jdGlvbiBvaSh0KXtyZXR1cm4gT2koeGkodCxvLFZpKSx0K1wiXCIpfWZ1bmN0aW9uIGlpKHQpe3JldHVybiBJcih0LExzLHBpKX1mdW5jdGlvbiBhaSh0KXtyZXR1cm4gSXIodCxPcyxnaSl9dmFyIHNpPWtuP2Z1bmN0aW9uKHQpe3JldHVybiBrbi5nZXQodCl9Omx1O2Z1bmN0aW9uIHVpKHQpe2Zvcih2YXIgZT10Lm5hbWUrXCJcIixuPUxuW2VdLHI9TnQuY2FsbChMbixlKT9uLmxlbmd0aDowO3ItLTspe3ZhciBvPW5bcl0saT1vLmZ1bmM7aWYobnVsbD09aXx8aT09dClyZXR1cm4gby5uYW1lfXJldHVybiBlfWZ1bmN0aW9uIGxpKHQpe3JldHVybihOdC5jYWxsKERuLFwicGxhY2Vob2xkZXJcIik/RG46dCkucGxhY2Vob2xkZXJ9ZnVuY3Rpb24gY2koKXt2YXIgdD1Ebi5pdGVyYXRlZXx8aXU7cmV0dXJuIHQ9dD09PWl1P05yOnQsYXJndW1lbnRzLmxlbmd0aD90KGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0pOnR9ZnVuY3Rpb24gZmkodCxlKXt2YXIgbixyLG89dC5fX2RhdGFfXztyZXR1cm4oXCJzdHJpbmdcIj09KHI9dHlwZW9mKG49ZSkpfHxcIm51bWJlclwiPT1yfHxcInN5bWJvbFwiPT1yfHxcImJvb2xlYW5cIj09cj9cIl9fcHJvdG9fX1wiIT09bjpudWxsPT09bik/b1tcInN0cmluZ1wiPT10eXBlb2YgZT9cInN0cmluZ1wiOlwiaGFzaFwiXTpvLm1hcH1mdW5jdGlvbiBkaSh0KXtmb3IodmFyIGU9THModCksbj1lLmxlbmd0aDtuLS07KXt2YXIgcj1lW25dLG89dFtyXTtlW25dPVtyLG8sVGkobyldfXJldHVybiBlfWZ1bmN0aW9uIGhpKHQsZSl7dmFyIG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD9vOnRbZV19KHQsZSk7cmV0dXJuIGpyKG4pP246b312YXIgcGk9bWU/ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/W106KHQ9UnQodCksTGUobWUodCksKGZ1bmN0aW9uKGUpe3JldHVybiBZdC5jYWxsKHQsZSl9KSkpfTp5dSxnaT1tZT9mdW5jdGlvbih0KXtmb3IodmFyIGU9W107dDspTmUoZSxwaSh0KSksdD1HdCh0KTtyZXR1cm4gZX06eXUseWk9VHI7ZnVuY3Rpb24gbWkodCxlLG4pe2Zvcih2YXIgcj0tMSxvPShlPV9vKGUsdCkpLmxlbmd0aCxpPSExOysrcjxvOyl7dmFyIGE9UGkoZVtyXSk7aWYoIShpPW51bGwhPXQmJm4odCxhKSkpYnJlYWs7dD10W2FdfXJldHVybiBpfHwrK3IhPW8/aTohIShvPW51bGw9PXQ/MDp0Lmxlbmd0aCkmJnRzKG8pJiZ3aShhLG8pJiYoSGEodCl8fHFhKHQpKX1mdW5jdGlvbiB2aSh0KXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmNvbnN0cnVjdG9yfHxJaSh0KT97fTpGbihHdCh0KSl9ZnVuY3Rpb24gYmkodCl7cmV0dXJuIEhhKHQpfHxxYSh0KXx8ISEoWHQmJnQmJnRbWHRdKX1mdW5jdGlvbiB3aSh0LGUpe3ZhciBuPXR5cGVvZiB0O3JldHVybiEhKGU9bnVsbD09ZT9wOmUpJiYoXCJudW1iZXJcIj09bnx8XCJzeW1ib2xcIiE9biYmd3QudGVzdCh0KSkmJnQ+LTEmJnQlMT09MCYmdDxlfWZ1bmN0aW9uIF9pKHQsZSxuKXtpZighZXMobikpcmV0dXJuITE7dmFyIHI9dHlwZW9mIGU7cmV0dXJuISEoXCJudW1iZXJcIj09cj9HYShuKSYmd2koZSxuLmxlbmd0aCk6XCJzdHJpbmdcIj09ciYmZSBpbiBuKSYmRGEobltlXSx0KX1mdW5jdGlvbiBFaSh0LGUpe2lmKEhhKHQpKXJldHVybiExO3ZhciBuPXR5cGVvZiB0O3JldHVybiEoXCJudW1iZXJcIiE9biYmXCJzeW1ib2xcIiE9biYmXCJib29sZWFuXCIhPW4mJm51bGwhPXQmJiFscyh0KSl8fChudC50ZXN0KHQpfHwhZXQudGVzdCh0KXx8bnVsbCE9ZSYmdCBpbiBSdChlKSl9ZnVuY3Rpb24gU2kodCl7dmFyIGU9dWkodCksbj1EbltlXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBufHwhKGUgaW4gSG4ucHJvdG90eXBlKSlyZXR1cm4hMTtpZih0PT09bilyZXR1cm4hMDt2YXIgcj1zaShuKTtyZXR1cm4hIXImJnQ9PT1yWzBdfShJbiYmeWkobmV3IEluKG5ldyBBcnJheUJ1ZmZlcigxKSkpIT1qfHxUbiYmeWkobmV3IFRuKSE9SXx8Um4mJnlpKFJuLnJlc29sdmUoKSkhPXh8fHhuJiZ5aShuZXcgeG4pIT1CfHxDbiYmeWkobmV3IENuKSE9TykmJih5aT1mdW5jdGlvbih0KXt2YXIgZT1Ucih0KSxuPWU9PVI/dC5jb25zdHJ1Y3RvcjpvLHI9bj9XaShuKTpcIlwiO2lmKHIpc3dpdGNoKHIpe2Nhc2UgT246cmV0dXJuIGo7Y2FzZSBVbjpyZXR1cm4gSTtjYXNlIGpuOnJldHVybiB4O2Nhc2UgTm46cmV0dXJuIEI7Y2FzZSBNbjpyZXR1cm4gT31yZXR1cm4gZX0pO3ZhciBBaT1VdD9aYTptdTtmdW5jdGlvbiBJaSh0KXt2YXIgZT10JiZ0LmNvbnN0cnVjdG9yO3JldHVybiB0PT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUucHJvdG90eXBlfHxPdCl9ZnVuY3Rpb24gVGkodCl7cmV0dXJuIHQ9PXQmJiFlcyh0KX1mdW5jdGlvbiBSaSh0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmKG5bdF09PT1lJiYoZSE9PW98fHQgaW4gUnQobikpKX19ZnVuY3Rpb24geGkodCxlLG4pe3JldHVybiBlPWJuKGU9PT1vP3QubGVuZ3RoLTE6ZSwwKSxmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMsaT0tMSxhPWJuKG8ubGVuZ3RoLWUsMCkscz1yKGEpOysraTxhOylzW2ldPW9bZStpXTtpPS0xO2Zvcih2YXIgdT1yKGUrMSk7KytpPGU7KXVbaV09b1tpXTtyZXR1cm4gdVtlXT1uKHMpLFJlKHQsdGhpcyx1KX19ZnVuY3Rpb24gQ2kodCxlKXtyZXR1cm4gZS5sZW5ndGg8Mj90OkFyKHQsb28oZSwwLC0xKSl9ZnVuY3Rpb24gQmkodCxlKXtpZigoXCJjb25zdHJ1Y3RvclwiIT09ZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdFtlXSkmJlwiX19wcm90b19fXCIhPWUpcmV0dXJuIHRbZV19dmFyIGtpPWppKGVvKSxMaT1oZXx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ2Uuc2V0VGltZW91dCh0LGUpfSxPaT1qaShubyk7ZnVuY3Rpb24gVWkodCxlLG4pe3ZhciByPWUrXCJcIjtyZXR1cm4gT2kodCxmdW5jdGlvbih0LGUpe3ZhciBuPWUubGVuZ3RoO2lmKCFuKXJldHVybiB0O3ZhciByPW4tMTtyZXR1cm4gZVtyXT0obj4xP1wiJiBcIjpcIlwiKStlW3JdLGU9ZS5qb2luKG4+Mj9cIiwgXCI6XCIgXCIpLHQucmVwbGFjZSh1dCxcIntcXG4vKiBbd3JhcHBlZCB3aXRoIFwiK2UrXCJdICovXFxuXCIpfShyLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIENlKG0sKGZ1bmN0aW9uKG4pe3ZhciByPVwiXy5cIituWzBdO2UmblsxXSYmIU9lKHQscikmJnQucHVzaChyKX0pKSx0LnNvcnQoKX0oZnVuY3Rpb24odCl7dmFyIGU9dC5tYXRjaChsdCk7cmV0dXJuIGU/ZVsxXS5zcGxpdChjdCk6W119KHIpLG4pKSl9ZnVuY3Rpb24gamkodCl7dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9X24oKSxpPTE2LShyLW4pO2lmKG49cixpPjApe2lmKCsrZT49ODAwKXJldHVybiBhcmd1bWVudHNbMF19ZWxzZSBlPTA7cmV0dXJuIHQuYXBwbHkobyxhcmd1bWVudHMpfX1mdW5jdGlvbiBOaSh0LGUpe3ZhciBuPS0xLHI9dC5sZW5ndGgsaT1yLTE7Zm9yKGU9ZT09PW8/cjplOysrbjxlOyl7dmFyIGE9WXIobixpKSxzPXRbYV07dFthXT10W25dLHRbbl09c31yZXR1cm4gdC5sZW5ndGg9ZSx0fXZhciBNaT1mdW5jdGlvbih0KXt2YXIgZT1qYSh0LChmdW5jdGlvbih0KXtyZXR1cm4gNTAwPT09bi5zaXplJiZuLmNsZWFyKCksdH0pKSxuPWUuY2FjaGU7cmV0dXJuIGV9KChmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gNDY9PT10LmNoYXJDb2RlQXQoMCkmJmUucHVzaChcIlwiKSx0LnJlcGxhY2UocnQsKGZ1bmN0aW9uKHQsbixyLG8pe2UucHVzaChyP28ucmVwbGFjZShodCxcIiQxXCIpOm58fHQpfSkpLGV9KSk7ZnVuY3Rpb24gUGkodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHR8fGxzKHQpKXJldHVybiB0O3ZhciBlPXQrXCJcIjtyZXR1cm5cIjBcIj09ZSYmMS90PT0tMS8wP1wiLTBcIjplfWZ1bmN0aW9uIFdpKHQpe2lmKG51bGwhPXQpe3RyeXtyZXR1cm4ganQuY2FsbCh0KX1jYXRjaCh0KXt9dHJ5e3JldHVybiB0K1wiXCJ9Y2F0Y2godCl7fX1yZXR1cm5cIlwifWZ1bmN0aW9uICRpKHQpe2lmKHQgaW5zdGFuY2VvZiBIbilyZXR1cm4gdC5jbG9uZSgpO3ZhciBlPW5ldyBxbih0Ll9fd3JhcHBlZF9fLHQuX19jaGFpbl9fKTtyZXR1cm4gZS5fX2FjdGlvbnNfXz1rbyh0Ll9fYWN0aW9uc19fKSxlLl9faW5kZXhfXz10Ll9faW5kZXhfXyxlLl9fdmFsdWVzX189dC5fX3ZhbHVlc19fLGV9dmFyIERpPVhyKChmdW5jdGlvbih0LGUpe3JldHVybiBKYSh0KT9kcih0LHZyKGUsMSxKYSwhMCkpOltdfSkpLEZpPVhyKChmdW5jdGlvbih0LGUpe3ZhciBuPVhpKGUpO3JldHVybiBKYShuKSYmKG49byksSmEodCk/ZHIodCx2cihlLDEsSmEsITApLGNpKG4sMikpOltdfSkpLHppPVhyKChmdW5jdGlvbih0LGUpe3ZhciBuPVhpKGUpO3JldHVybiBKYShuKSYmKG49byksSmEodCk/ZHIodCx2cihlLDEsSmEsITApLG8sbik6W119KSk7ZnVuY3Rpb24gcWkodCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtpZighcilyZXR1cm4tMTt2YXIgbz1udWxsPT1uPzA6Z3Mobik7cmV0dXJuIG88MCYmKG89Ym4ocitvLDApKSxGZSh0LGNpKGUsMyksbyl9ZnVuY3Rpb24gSGkodCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtpZighcilyZXR1cm4tMTt2YXIgaT1yLTE7cmV0dXJuIG4hPT1vJiYoaT1ncyhuKSxpPW48MD9ibihyK2ksMCk6d24oaSxyLTEpKSxGZSh0LGNpKGUsMyksaSwhMCl9ZnVuY3Rpb24gVmkodCl7cmV0dXJuKG51bGw9PXQ/MDp0Lmxlbmd0aCk/dnIodCwxKTpbXX1mdW5jdGlvbiBHaSh0KXtyZXR1cm4gdCYmdC5sZW5ndGg/dFswXTpvfXZhciBKaT1YcigoZnVuY3Rpb24odCl7dmFyIGU9amUodCxibyk7cmV0dXJuIGUubGVuZ3RoJiZlWzBdPT09dFswXT9CcihlKTpbXX0pKSxZaT1YcigoZnVuY3Rpb24odCl7dmFyIGU9WGkodCksbj1qZSh0LGJvKTtyZXR1cm4gZT09PVhpKG4pP2U9bzpuLnBvcCgpLG4ubGVuZ3RoJiZuWzBdPT09dFswXT9CcihuLGNpKGUsMikpOltdfSkpLEtpPVhyKChmdW5jdGlvbih0KXt2YXIgZT1YaSh0KSxuPWplKHQsYm8pO3JldHVybihlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpvKSYmbi5wb3AoKSxuLmxlbmd0aCYmblswXT09PXRbMF0/QnIobixvLGUpOltdfSkpO2Z1bmN0aW9uIFhpKHQpe3ZhciBlPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gZT90W2UtMV06b312YXIgWmk9WHIoUWkpO2Z1bmN0aW9uIFFpKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoJiZlJiZlLmxlbmd0aD9Hcih0LGUpOnR9dmFyIHRhPW9pKChmdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/MDp0Lmxlbmd0aCxyPXNyKHQsZSk7cmV0dXJuIEpyKHQsamUoZSwoZnVuY3Rpb24odCl7cmV0dXJuIHdpKHQsbik/K3Q6dH0pKS5zb3J0KHhvKSkscn0pKTtmdW5jdGlvbiBlYSh0KXtyZXR1cm4gbnVsbD09dD90OkFuLmNhbGwodCl9dmFyIG5hPVhyKChmdW5jdGlvbih0KXtyZXR1cm4gZm8odnIodCwxLEphLCEwKSl9KSkscmE9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPVhpKHQpO3JldHVybiBKYShlKSYmKGU9byksZm8odnIodCwxLEphLCEwKSxjaShlLDIpKX0pKSxvYT1YcigoZnVuY3Rpb24odCl7dmFyIGU9WGkodCk7cmV0dXJuIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm8sZm8odnIodCwxLEphLCEwKSxvLGUpfSkpO2Z1bmN0aW9uIGlhKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuW107dmFyIGU9MDtyZXR1cm4gdD1MZSh0LChmdW5jdGlvbih0KXtpZihKYSh0KSlyZXR1cm4gZT1ibih0Lmxlbmd0aCxlKSwhMH0pKSxYZShlLChmdW5jdGlvbihlKXtyZXR1cm4gamUodCxHZShlKSl9KSl9ZnVuY3Rpb24gYWEodCxlKXtpZighdHx8IXQubGVuZ3RoKXJldHVybltdO3ZhciBuPWlhKHQpO3JldHVybiBudWxsPT1lP246amUobiwoZnVuY3Rpb24odCl7cmV0dXJuIFJlKGUsbyx0KX0pKX12YXIgc2E9WHIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEphKHQpP2RyKHQsZSk6W119KSksdWE9WHIoKGZ1bmN0aW9uKHQpe3JldHVybiBtbyhMZSh0LEphKSl9KSksbGE9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPVhpKHQpO3JldHVybiBKYShlKSYmKGU9byksbW8oTGUodCxKYSksY2koZSwyKSl9KSksY2E9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPVhpKHQpO3JldHVybiBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpvLG1vKExlKHQsSmEpLG8sZSl9KSksZmE9WHIoaWEpO3ZhciBkYT1YcigoZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsbj1lPjE/dFtlLTFdOm87cmV0dXJuIG49XCJmdW5jdGlvblwiPT10eXBlb2Ygbj8odC5wb3AoKSxuKTpvLGFhKHQsbil9KSk7ZnVuY3Rpb24gaGEodCl7dmFyIGU9RG4odCk7cmV0dXJuIGUuX19jaGFpbl9fPSEwLGV9ZnVuY3Rpb24gcGEodCxlKXtyZXR1cm4gZSh0KX12YXIgZ2E9b2koKGZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49ZT90WzBdOjAscj10aGlzLl9fd3JhcHBlZF9fLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHNyKGUsdCl9O3JldHVybiEoZT4xfHx0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkmJnIgaW5zdGFuY2VvZiBIbiYmd2kobik/KChyPXIuc2xpY2UobiwrbisoZT8xOjApKSkuX19hY3Rpb25zX18ucHVzaCh7ZnVuYzpwYSxhcmdzOltpXSx0aGlzQXJnOm99KSxuZXcgcW4ocix0aGlzLl9fY2hhaW5fXykudGhydSgoZnVuY3Rpb24odCl7cmV0dXJuIGUmJiF0Lmxlbmd0aCYmdC5wdXNoKG8pLHR9KSkpOnRoaXMudGhydShpKX0pKTt2YXIgeWE9T28oKGZ1bmN0aW9uKHQsZSxuKXtOdC5jYWxsKHQsbik/Kyt0W25dOmFyKHQsbiwxKX0pKTt2YXIgbWE9JG8ocWkpLHZhPSRvKEhpKTtmdW5jdGlvbiBiYSh0LGUpe3JldHVybihIYSh0KT9DZTpocikodCxjaShlLDMpKX1mdW5jdGlvbiB3YSh0LGUpe3JldHVybihIYSh0KT9CZTpwcikodCxjaShlLDMpKX12YXIgX2E9T28oKGZ1bmN0aW9uKHQsZSxuKXtOdC5jYWxsKHQsbik/dFtuXS5wdXNoKGUpOmFyKHQsbixbZV0pfSkpO3ZhciBFYT1YcigoZnVuY3Rpb24odCxlLG4pe3ZhciBvPS0xLGk9XCJmdW5jdGlvblwiPT10eXBlb2YgZSxhPUdhKHQpP3IodC5sZW5ndGgpOltdO3JldHVybiBocih0LChmdW5jdGlvbih0KXthWysrb109aT9SZShlLHQsbik6a3IodCxlLG4pfSkpLGF9KSksU2E9T28oKGZ1bmN0aW9uKHQsZSxuKXthcih0LG4sZSl9KSk7ZnVuY3Rpb24gQWEodCxlKXtyZXR1cm4oSGEodCk/amU6JHIpKHQsY2koZSwzKSl9dmFyIElhPU9vKChmdW5jdGlvbih0LGUsbil7dFtuPzA6MV0ucHVzaChlKX0pLChmdW5jdGlvbigpe3JldHVybltbXSxbXV19KSk7dmFyIFRhPVhyKChmdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJuW107dmFyIG49ZS5sZW5ndGg7cmV0dXJuIG4+MSYmX2kodCxlWzBdLGVbMV0pP2U9W106bj4yJiZfaShlWzBdLGVbMV0sZVsyXSkmJihlPVtlWzBdXSksSHIodCx2cihlLDEpLFtdKX0pKSxSYT1jZXx8ZnVuY3Rpb24oKXtyZXR1cm4gZ2UuRGF0ZS5ub3coKX07ZnVuY3Rpb24geGEodCxlLG4pe3JldHVybiBlPW4/bzplLGU9dCYmbnVsbD09ZT90Lmxlbmd0aDplLFFvKHQsZixvLG8sbyxvLGUpfWZ1bmN0aW9uIENhKHQsZSl7dmFyIG47aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuIHQ9Z3ModCksZnVuY3Rpb24oKXtyZXR1cm4tLXQ+MCYmKG49ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLHQ8PTEmJihlPW8pLG59fXZhciBCYT1YcigoZnVuY3Rpb24odCxlLG4pe3ZhciByPTE7aWYobi5sZW5ndGgpe3ZhciBvPWZuKG4sbGkoQmEpKTtyfD1sfXJldHVybiBRbyh0LHIsZSxuLG8pfSkpLGthPVhyKChmdW5jdGlvbih0LGUsbil7dmFyIHI9MztpZihuLmxlbmd0aCl7dmFyIG89Zm4obixsaShrYSkpO3J8PWx9cmV0dXJuIFFvKGUscix0LG4sbyl9KSk7ZnVuY3Rpb24gTGEodCxlLG4pe3ZhciByLGEscyx1LGwsYyxmPTAsZD0hMSxoPSExLHA9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgQnQoaSk7ZnVuY3Rpb24gZyhlKXt2YXIgbj1yLGk9YTtyZXR1cm4gcj1hPW8sZj1lLHU9dC5hcHBseShpLG4pfWZ1bmN0aW9uIHkodCl7dmFyIG49dC1jO3JldHVybiBjPT09b3x8bj49ZXx8bjwwfHxoJiZ0LWY+PXN9ZnVuY3Rpb24gbSgpe3ZhciB0PVJhKCk7aWYoeSh0KSlyZXR1cm4gdih0KTtsPUxpKG0sZnVuY3Rpb24odCl7dmFyIG49ZS0odC1jKTtyZXR1cm4gaD93bihuLHMtKHQtZikpOm59KHQpKX1mdW5jdGlvbiB2KHQpe3JldHVybiBsPW8scCYmcj9nKHQpOihyPWE9byx1KX1mdW5jdGlvbiBiKCl7dmFyIHQ9UmEoKSxuPXkodCk7aWYocj1hcmd1bWVudHMsYT10aGlzLGM9dCxuKXtpZihsPT09bylyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGY9dCxsPUxpKG0sZSksZD9nKHQpOnV9KGMpO2lmKGgpcmV0dXJuIEFvKGwpLGw9TGkobSxlKSxnKGMpfXJldHVybiBsPT09byYmKGw9TGkobSxlKSksdX1yZXR1cm4gZT1tcyhlKXx8MCxlcyhuKSYmKGQ9ISFuLmxlYWRpbmcscz0oaD1cIm1heFdhaXRcImluIG4pP2JuKG1zKG4ubWF4V2FpdCl8fDAsZSk6cyxwPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOnApLGIuY2FuY2VsPWZ1bmN0aW9uKCl7bCE9PW8mJkFvKGwpLGY9MCxyPWM9YT1sPW99LGIuZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gbD09PW8/dTp2KFJhKCkpfSxifXZhciBPYT1YcigoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnIodCwxLGUpfSkpLFVhPVhyKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZyKHQsbXMoZSl8fDAsbil9KSk7ZnVuY3Rpb24gamEodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHxudWxsIT1lJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBCdChpKTt2YXIgbj1mdW5jdGlvbigpe3ZhciByPWFyZ3VtZW50cyxvPWU/ZS5hcHBseSh0aGlzLHIpOnJbMF0saT1uLmNhY2hlO2lmKGkuaGFzKG8pKXJldHVybiBpLmdldChvKTt2YXIgYT10LmFwcGx5KHRoaXMscik7cmV0dXJuIG4uY2FjaGU9aS5zZXQobyxhKXx8aSxhfTtyZXR1cm4gbi5jYWNoZT1uZXcoamEuQ2FjaGV8fEpuKSxufWZ1bmN0aW9uIE5hKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEJ0KGkpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4hdC5jYWxsKHRoaXMpO2Nhc2UgMTpyZXR1cm4hdC5jYWxsKHRoaXMsZVswXSk7Y2FzZSAyOnJldHVybiF0LmNhbGwodGhpcyxlWzBdLGVbMV0pO2Nhc2UgMzpyZXR1cm4hdC5jYWxsKHRoaXMsZVswXSxlWzFdLGVbMl0pfXJldHVybiF0LmFwcGx5KHRoaXMsZSl9fWphLkNhY2hlPUpuO3ZhciBNYT1FbygoZnVuY3Rpb24odCxlKXt2YXIgbj0oZT0xPT1lLmxlbmd0aCYmSGEoZVswXSk/amUoZVswXSxRZShjaSgpKSk6amUodnIoZSwxKSxRZShjaSgpKSkpLmxlbmd0aDtyZXR1cm4gWHIoKGZ1bmN0aW9uKHIpe2Zvcih2YXIgbz0tMSxpPXduKHIubGVuZ3RoLG4pOysrbzxpOylyW29dPWVbb10uY2FsbCh0aGlzLHJbb10pO3JldHVybiBSZSh0LHRoaXMscil9KSl9KSksUGE9WHIoKGZ1bmN0aW9uKHQsZSl7dmFyIG49Zm4oZSxsaShQYSkpO3JldHVybiBRbyh0LGwsbyxlLG4pfSkpLFdhPVhyKChmdW5jdGlvbih0LGUpe3ZhciBuPWZuKGUsbGkoV2EpKTtyZXR1cm4gUW8odCxjLG8sZSxuKX0pKSwkYT1vaSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gUW8odCxkLG8sbyxvLGUpfSkpO2Z1bmN0aW9uIERhKHQsZSl7cmV0dXJuIHQ9PT1lfHx0IT10JiZlIT1lfXZhciBGYT1KbyhSciksemE9Sm8oKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+PWV9KSkscWE9THIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKT9McjpmdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJk50LmNhbGwodCxcImNhbGxlZVwiKSYmIVl0LmNhbGwodCxcImNhbGxlZVwiKX0sSGE9ci5pc0FycmF5LFZhPV9lP1FlKF9lKTpmdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJlRyKHQpPT1VfTtmdW5jdGlvbiBHYSh0KXtyZXR1cm4gbnVsbCE9dCYmdHModC5sZW5ndGgpJiYhWmEodCl9ZnVuY3Rpb24gSmEodCl7cmV0dXJuIG5zKHQpJiZHYSh0KX12YXIgWWE9YmV8fG11LEthPUVlP1FlKEVlKTpmdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJlRyKHQpPT1ffTtmdW5jdGlvbiBYYSh0KXtpZighbnModCkpcmV0dXJuITE7dmFyIGU9VHIodCk7cmV0dXJuIGU9PUV8fFwiW29iamVjdCBET01FeGNlcHRpb25dXCI9PWV8fFwic3RyaW5nXCI9PXR5cGVvZiB0Lm1lc3NhZ2UmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5hbWUmJiFpcyh0KX1mdW5jdGlvbiBaYSh0KXtpZighZXModCkpcmV0dXJuITE7dmFyIGU9VHIodCk7cmV0dXJuIGU9PVN8fGU9PUF8fFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiPT1lfHxcIltvYmplY3QgUHJveHldXCI9PWV9ZnVuY3Rpb24gUWEodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ9PWdzKHQpfWZ1bmN0aW9uIHRzKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pi0xJiZ0JTE9PTAmJnQ8PXB9ZnVuY3Rpb24gZXModCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIG51bGwhPXQmJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfWZ1bmN0aW9uIG5zKHQpe3JldHVybiBudWxsIT10JiZcIm9iamVjdFwiPT10eXBlb2YgdH12YXIgcnM9U2U/UWUoU2UpOmZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmeWkodCk9PUl9O2Z1bmN0aW9uIG9zKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fHxucyh0KSYmVHIodCk9PVR9ZnVuY3Rpb24gaXModCl7aWYoIW5zKHQpfHxUcih0KSE9UilyZXR1cm4hMTt2YXIgZT1HdCh0KTtpZihudWxsPT09ZSlyZXR1cm4hMDt2YXIgbj1OdC5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgbiYmanQuY2FsbChuKT09JHR9dmFyIGFzPUFlP1FlKEFlKTpmdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJlRyKHQpPT1DfTt2YXIgc3M9SWU/UWUoSWUpOmZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmeWkodCk9PUJ9O2Z1bmN0aW9uIHVzKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fHwhSGEodCkmJm5zKHQpJiZUcih0KT09a31mdW5jdGlvbiBscyh0KXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdHx8bnModCkmJlRyKHQpPT1MfXZhciBjcz1UZT9RZShUZSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZ0cyh0Lmxlbmd0aCkmJiEhdWVbVHIodCldfTt2YXIgZnM9Sm8oV3IpLGRzPUpvKChmdW5jdGlvbih0LGUpe3JldHVybiB0PD1lfSkpO2Z1bmN0aW9uIGhzKHQpe2lmKCF0KXJldHVybltdO2lmKEdhKHQpKXJldHVybiB1cyh0KT9nbih0KTprbyh0KTtpZihadCYmdFtadF0pcmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPVtdOyEoZT10Lm5leHQoKSkuZG9uZTspbi5wdXNoKGUudmFsdWUpO3JldHVybiBufSh0W1p0XSgpKTt2YXIgZT15aSh0KTtyZXR1cm4oZT09ST9sbjplPT1CP2RuOkRzKSh0KX1mdW5jdGlvbiBwcyh0KXtyZXR1cm4gdD8odD1tcyh0KSk9PT1ofHx0PT09LTEvMD8xNzk3NjkzMTM0ODYyMzE1N2UyOTIqKHQ8MD8tMToxKTp0PT10P3Q6MDowPT09dD90OjB9ZnVuY3Rpb24gZ3ModCl7dmFyIGU9cHModCksbj1lJTE7cmV0dXJuIGU9PWU/bj9lLW46ZTowfWZ1bmN0aW9uIHlzKHQpe3JldHVybiB0P3VyKGdzKHQpLDAseSk6MH1mdW5jdGlvbiBtcyh0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdDtpZihscyh0KSlyZXR1cm4gZztpZihlcyh0KSl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdC52YWx1ZU9mP3QudmFsdWVPZigpOnQ7dD1lcyhlKT9lK1wiXCI6ZX1pZihcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gMD09PXQ/dDordDt0PVplKHQpO3ZhciBuPW10LnRlc3QodCk7cmV0dXJuIG58fGJ0LnRlc3QodCk/ZGUodC5zbGljZSgyKSxuPzI6OCk6eXQudGVzdCh0KT9nOit0fWZ1bmN0aW9uIHZzKHQpe3JldHVybiBMbyh0LE9zKHQpKX1mdW5jdGlvbiBicyh0KXtyZXR1cm4gbnVsbD09dD9cIlwiOmNvKHQpfXZhciB3cz1VbygoZnVuY3Rpb24odCxlKXtpZihJaShlKXx8R2EoZSkpTG8oZSxMcyhlKSx0KTtlbHNlIGZvcih2YXIgbiBpbiBlKU50LmNhbGwoZSxuKSYmbnIodCxuLGVbbl0pfSkpLF9zPVVvKChmdW5jdGlvbih0LGUpe0xvKGUsT3MoZSksdCl9KSksRXM9VW8oKGZ1bmN0aW9uKHQsZSxuLHIpe0xvKGUsT3MoZSksdCxyKX0pKSxTcz1VbygoZnVuY3Rpb24odCxlLG4scil7TG8oZSxMcyhlKSx0LHIpfSkpLEFzPW9pKHNyKTt2YXIgSXM9WHIoKGZ1bmN0aW9uKHQsZSl7dD1SdCh0KTt2YXIgbj0tMSxyPWUubGVuZ3RoLGk9cj4yP2VbMl06bztmb3IoaSYmX2koZVswXSxlWzFdLGkpJiYocj0xKTsrK248cjspZm9yKHZhciBhPWVbbl0scz1PcyhhKSx1PS0xLGw9cy5sZW5ndGg7Kyt1PGw7KXt2YXIgYz1zW3VdLGY9dFtjXTsoZj09PW98fERhKGYsT3RbY10pJiYhTnQuY2FsbCh0LGMpKSYmKHRbY109YVtjXSl9cmV0dXJuIHR9KSksVHM9WHIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnB1c2gobyxlaSksUmUoanMsbyx0KX0pKTtmdW5jdGlvbiBScyh0LGUsbil7dmFyIHI9bnVsbD09dD9vOkFyKHQsZSk7cmV0dXJuIHI9PT1vP246cn1mdW5jdGlvbiB4cyh0LGUpe3JldHVybiBudWxsIT10JiZtaSh0LGUsQ3IpfXZhciBDcz16bygoZnVuY3Rpb24odCxlLG4pe251bGwhPWUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUudG9TdHJpbmcmJihlPVd0LmNhbGwoZSkpLHRbZV09bn0pLGV1KG91KSksQnM9em8oKGZ1bmN0aW9uKHQsZSxuKXtudWxsIT1lJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnRvU3RyaW5nJiYoZT1XdC5jYWxsKGUpKSxOdC5jYWxsKHQsZSk/dFtlXS5wdXNoKG4pOnRbZV09W25dfSksY2kpLGtzPVhyKGtyKTtmdW5jdGlvbiBMcyh0KXtyZXR1cm4gR2EodCk/WG4odCk6TXIodCl9ZnVuY3Rpb24gT3ModCl7cmV0dXJuIEdhKHQpP1huKHQsITApOlByKHQpfXZhciBVcz1VbygoZnVuY3Rpb24odCxlLG4pe3pyKHQsZSxuKX0pKSxqcz1VbygoZnVuY3Rpb24odCxlLG4scil7enIodCxlLG4scil9KSksTnM9b2koKGZ1bmN0aW9uKHQsZSl7dmFyIG49e307aWYobnVsbD09dClyZXR1cm4gbjt2YXIgcj0hMTtlPWplKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlPV9vKGUsdCkscnx8KHI9ZS5sZW5ndGg+MSksZX0pKSxMbyh0LGFpKHQpLG4pLHImJihuPWxyKG4sNyxuaSkpO2Zvcih2YXIgbz1lLmxlbmd0aDtvLS07KWhvKG4sZVtvXSk7cmV0dXJuIG59KSk7dmFyIE1zPW9pKChmdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3t9OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFZyKHQsZSwoZnVuY3Rpb24oZSxuKXtyZXR1cm4geHModCxuKX0pKX0odCxlKX0pKTtmdW5jdGlvbiBQcyh0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIG49amUoYWkodCksKGZ1bmN0aW9uKHQpe3JldHVyblt0XX0pKTtyZXR1cm4gZT1jaShlKSxWcih0LG4sKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUodCxuWzBdKX0pKX12YXIgV3M9Wm8oTHMpLCRzPVpvKE9zKTtmdW5jdGlvbiBEcyh0KXtyZXR1cm4gbnVsbD09dD9bXTp0bih0LExzKHQpKX12YXIgRnM9UG8oKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksdCsobj96cyhlKTplKX0pKTtmdW5jdGlvbiB6cyh0KXtyZXR1cm4gWHMoYnModCkudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gcXModCl7cmV0dXJuKHQ9YnModCkpJiZ0LnJlcGxhY2UoX3Qsb24pLnJlcGxhY2UoZWUsXCJcIil9dmFyIEhzPVBvKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQrKG4/XCItXCI6XCJcIikrZS50b0xvd2VyQ2FzZSgpfSkpLFZzPVBvKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQrKG4/XCIgXCI6XCJcIikrZS50b0xvd2VyQ2FzZSgpfSkpLEdzPU1vKFwidG9Mb3dlckNhc2VcIik7dmFyIEpzPVBvKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQrKG4/XCJfXCI6XCJcIikrZS50b0xvd2VyQ2FzZSgpfSkpO3ZhciBZcz1QbygoZnVuY3Rpb24odCxlLG4pe3JldHVybiB0KyhuP1wiIFwiOlwiXCIpK1hzKGUpfSkpO3ZhciBLcz1QbygoZnVuY3Rpb24odCxlLG4pe3JldHVybiB0KyhuP1wiIFwiOlwiXCIpK2UudG9VcHBlckNhc2UoKX0pKSxYcz1NbyhcInRvVXBwZXJDYXNlXCIpO2Z1bmN0aW9uIFpzKHQsZSxuKXtyZXR1cm4gdD1icyh0KSwoZT1uP286ZSk9PT1vP2Z1bmN0aW9uKHQpe3JldHVybiBpZS50ZXN0KHQpfSh0KT9mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXRjaChyZSl8fFtdfSh0KTpmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXRjaChmdCl8fFtdfSh0KTp0Lm1hdGNoKGUpfHxbXX12YXIgUXM9WHIoKGZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiBSZSh0LG8sZSl9Y2F0Y2godCl7cmV0dXJuIFhhKHQpP3Q6bmV3IEF0KHQpfX0pKSx0dT1vaSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gQ2UoZSwoZnVuY3Rpb24oZSl7ZT1QaShlKSxhcih0LGUsQmEodFtlXSx0KSl9KSksdH0pKTtmdW5jdGlvbiBldSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19dmFyIG51PURvKCkscnU9RG8oITApO2Z1bmN0aW9uIG91KHQpe3JldHVybiB0fWZ1bmN0aW9uIGl1KHQpe3JldHVybiBOcihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6bHIodCwxKSl9dmFyIGF1PVhyKChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4ga3Iobix0LGUpfX0pKSxzdT1YcigoZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGtyKHQsbixlKX19KSk7ZnVuY3Rpb24gdXUodCxlLG4pe3ZhciByPUxzKGUpLG89U3IoZSxyKTtudWxsIT1ufHxlcyhlKSYmKG8ubGVuZ3RofHwhci5sZW5ndGgpfHwobj1lLGU9dCx0PXRoaXMsbz1TcihlLExzKGUpKSk7dmFyIGk9IShlcyhuKSYmXCJjaGFpblwiaW4gbiYmIW4uY2hhaW4pLGE9WmEodCk7cmV0dXJuIENlKG8sKGZ1bmN0aW9uKG4pe3ZhciByPWVbbl07dFtuXT1yLGEmJih0LnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX19jaGFpbl9fO2lmKGl8fGUpe3ZhciBuPXQodGhpcy5fX3dyYXBwZWRfXyk7cmV0dXJuKG4uX19hY3Rpb25zX189a28odGhpcy5fX2FjdGlvbnNfXykpLnB1c2goe2Z1bmM6cixhcmdzOmFyZ3VtZW50cyx0aGlzQXJnOnR9KSxuLl9fY2hhaW5fXz1lLG59cmV0dXJuIHIuYXBwbHkodCxOZShbdGhpcy52YWx1ZSgpXSxhcmd1bWVudHMpKX0pfSkpLHR9ZnVuY3Rpb24gbHUoKXt9dmFyIGN1PUhvKGplKSxmdT1IbyhrZSksZHU9SG8oV2UpO2Z1bmN0aW9uIGh1KHQpe3JldHVybiBFaSh0KT9HZShQaSh0KSk6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBBcihlLHQpfX0odCl9dmFyIHB1PUdvKCksZ3U9R28oITApO2Z1bmN0aW9uIHl1KCl7cmV0dXJuW119ZnVuY3Rpb24gbXUoKXtyZXR1cm4hMX12YXIgdnU9cW8oKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApLGJ1PUtvKFwiY2VpbFwiKSx3dT1xbygoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC9lfSksMSksX3U9S28oXCJmbG9vclwiKTt2YXIgRXUsU3U9cW8oKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pLDEpLEF1PUtvKFwicm91bmRcIiksSXU9cW8oKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pLDApO3JldHVybiBEbi5hZnRlcj1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEJ0KGkpO3JldHVybiB0PWdzKHQpLGZ1bmN0aW9uKCl7aWYoLS10PDEpcmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sRG4uYXJ5PXhhLERuLmFzc2lnbj13cyxEbi5hc3NpZ25Jbj1fcyxEbi5hc3NpZ25JbldpdGg9RXMsRG4uYXNzaWduV2l0aD1TcyxEbi5hdD1BcyxEbi5iZWZvcmU9Q2EsRG4uYmluZD1CYSxEbi5iaW5kQWxsPXR1LERuLmJpbmRLZXk9a2EsRG4uY2FzdEFycmF5PWZ1bmN0aW9uKCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuW107dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBIYSh0KT90Olt0XX0sRG4uY2hhaW49aGEsRG4uY2h1bms9ZnVuY3Rpb24odCxlLG4pe2U9KG4/X2kodCxlLG4pOmU9PT1vKT8xOmJuKGdzKGUpLDApO3ZhciBpPW51bGw9PXQ/MDp0Lmxlbmd0aDtpZighaXx8ZTwxKXJldHVybltdO2Zvcih2YXIgYT0wLHM9MCx1PXIocGUoaS9lKSk7YTxpOyl1W3MrK109b28odCxhLGErPWUpO3JldHVybiB1fSxEbi5jb21wYWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aCxyPTAsbz1bXTsrK2U8bjspe3ZhciBpPXRbZV07aSYmKG9bcisrXT1pKX1yZXR1cm4gb30sRG4uY29uY2F0PWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDtpZighdClyZXR1cm5bXTtmb3IodmFyIGU9cih0LTEpLG49YXJndW1lbnRzWzBdLG89dDtvLS07KWVbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIE5lKEhhKG4pP2tvKG4pOltuXSx2cihlLDEpKX0sRG4uY29uZD1mdW5jdGlvbih0KXt2YXIgZT1udWxsPT10PzA6dC5sZW5ndGgsbj1jaSgpO3JldHVybiB0PWU/amUodCwoZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdFsxXSl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuW24odFswXSksdFsxXV19KSk6W10sWHIoKGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0tMTsrK3I8ZTspe3ZhciBvPXRbcl07aWYoUmUob1swXSx0aGlzLG4pKXJldHVybiBSZShvWzFdLHRoaXMsbil9fSkpfSxEbi5jb25mb3Jtcz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9THModCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBjcihuLHQsZSl9fShscih0LDEpKX0sRG4uY29uc3RhbnQ9ZXUsRG4uY291bnRCeT15YSxEbi5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1Gbih0KTtyZXR1cm4gbnVsbD09ZT9uOmlyKG4sZSl9LERuLmN1cnJ5PWZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpPVFvKGUsOCxvLG8sbyxvLG8sbj1yP286bik7cmV0dXJuIGkucGxhY2Vob2xkZXI9dC5wbGFjZWhvbGRlcixpfSxEbi5jdXJyeVJpZ2h0PWZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBpPVFvKGUsdSxvLG8sbyxvLG8sbj1yP286bik7cmV0dXJuIGkucGxhY2Vob2xkZXI9dC5wbGFjZWhvbGRlcixpfSxEbi5kZWJvdW5jZT1MYSxEbi5kZWZhdWx0cz1JcyxEbi5kZWZhdWx0c0RlZXA9VHMsRG4uZGVmZXI9T2EsRG4uZGVsYXk9VWEsRG4uZGlmZmVyZW5jZT1EaSxEbi5kaWZmZXJlbmNlQnk9RmksRG4uZGlmZmVyZW5jZVdpdGg9emksRG4uZHJvcD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiByP29vKHQsKGU9bnx8ZT09PW8/MTpncyhlKSk8MD8wOmUscik6W119LERuLmRyb3BSaWdodD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiByP29vKHQsMCwoZT1yLShlPW58fGU9PT1vPzE6Z3MoZSkpKTwwPzA6ZSk6W119LERuLmRyb3BSaWdodFdoaWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP2dvKHQsY2koZSwzKSwhMCwhMCk6W119LERuLmRyb3BXaGlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9nbyh0LGNpKGUsMyksITApOltdfSxEbi5maWxsPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gaT8obiYmXCJudW1iZXJcIiE9dHlwZW9mIG4mJl9pKHQsZSxuKSYmKG49MCxyPWkpLGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXQubGVuZ3RoO2Zvcigobj1ncyhuKSk8MCYmKG49LW4+aT8wOmkrbiksKHI9cj09PW98fHI+aT9pOmdzKHIpKTwwJiYocis9aSkscj1uPnI/MDp5cyhyKTtuPHI7KXRbbisrXT1lO3JldHVybiB0fSh0LGUsbixyKSk6W119LERuLmZpbHRlcj1mdW5jdGlvbih0LGUpe3JldHVybihIYSh0KT9MZTptcikodCxjaShlLDMpKX0sRG4uZmxhdE1hcD1mdW5jdGlvbih0LGUpe3JldHVybiB2cihBYSh0LGUpLDEpfSxEbi5mbGF0TWFwRGVlcD1mdW5jdGlvbih0LGUpe3JldHVybiB2cihBYSh0LGUpLGgpfSxEbi5mbGF0TWFwRGVwdGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPW49PT1vPzE6Z3MobiksdnIoQWEodCxlKSxuKX0sRG4uZmxhdHRlbj1WaSxEbi5mbGF0dGVuRGVlcD1mdW5jdGlvbih0KXtyZXR1cm4obnVsbD09dD8wOnQubGVuZ3RoKT92cih0LGgpOltdfSxEbi5mbGF0dGVuRGVwdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4obnVsbD09dD8wOnQubGVuZ3RoKT92cih0LGU9ZT09PW8/MTpncyhlKSk6W119LERuLmZsaXA9ZnVuY3Rpb24odCl7cmV0dXJuIFFvKHQsNTEyKX0sRG4uZmxvdz1udSxEbi5mbG93UmlnaHQ9cnUsRG4uZnJvbVBhaXJzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aCxyPXt9OysrZTxuOyl7dmFyIG89dFtlXTtyW29bMF1dPW9bMV19cmV0dXJuIHJ9LERuLmZ1bmN0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXTpTcih0LExzKHQpKX0sRG4uZnVuY3Rpb25zSW49ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/W106U3IodCxPcyh0KSl9LERuLmdyb3VwQnk9X2EsRG4uaW5pdGlhbD1mdW5jdGlvbih0KXtyZXR1cm4obnVsbD09dD8wOnQubGVuZ3RoKT9vbyh0LDAsLTEpOltdfSxEbi5pbnRlcnNlY3Rpb249SmksRG4uaW50ZXJzZWN0aW9uQnk9WWksRG4uaW50ZXJzZWN0aW9uV2l0aD1LaSxEbi5pbnZlcnQ9Q3MsRG4uaW52ZXJ0Qnk9QnMsRG4uaW52b2tlTWFwPUVhLERuLml0ZXJhdGVlPWl1LERuLmtleUJ5PVNhLERuLmtleXM9THMsRG4ua2V5c0luPU9zLERuLm1hcD1BYSxEbi5tYXBLZXlzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307cmV0dXJuIGU9Y2koZSwzKSxfcih0LChmdW5jdGlvbih0LHIsbyl7YXIobixlKHQscixvKSx0KX0pKSxufSxEbi5tYXBWYWx1ZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtyZXR1cm4gZT1jaShlLDMpLF9yKHQsKGZ1bmN0aW9uKHQscixvKXthcihuLHIsZSh0LHIsbykpfSkpLG59LERuLm1hdGNoZXM9ZnVuY3Rpb24odCl7cmV0dXJuIERyKGxyKHQsMSkpfSxEbi5tYXRjaGVzUHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRnIodCxscihlLDEpKX0sRG4ubWVtb2l6ZT1qYSxEbi5tZXJnZT1VcyxEbi5tZXJnZVdpdGg9anMsRG4ubWV0aG9kPWF1LERuLm1ldGhvZE9mPXN1LERuLm1peGluPXV1LERuLm5lZ2F0ZT1OYSxEbi5udGhBcmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9Z3ModCksWHIoKGZ1bmN0aW9uKGUpe3JldHVybiBxcihlLHQpfSkpfSxEbi5vbWl0PU5zLERuLm9taXRCeT1mdW5jdGlvbih0LGUpe3JldHVybiBQcyh0LE5hKGNpKGUpKSl9LERuLm9uY2U9ZnVuY3Rpb24odCl7cmV0dXJuIENhKDIsdCl9LERuLm9yZGVyQnk9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG51bGw9PXQ/W106KEhhKGUpfHwoZT1udWxsPT1lP1tdOltlXSksSGEobj1yP286bil8fChuPW51bGw9PW4/W106W25dKSxIcih0LGUsbikpfSxEbi5vdmVyPWN1LERuLm92ZXJBcmdzPU1hLERuLm92ZXJFdmVyeT1mdSxEbi5vdmVyU29tZT1kdSxEbi5wYXJ0aWFsPVBhLERuLnBhcnRpYWxSaWdodD1XYSxEbi5wYXJ0aXRpb249SWEsRG4ucGljaz1NcyxEbi5waWNrQnk9UHMsRG4ucHJvcGVydHk9aHUsRG4ucHJvcGVydHlPZj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PXQ/bzpBcih0LGUpfX0sRG4ucHVsbD1aaSxEbi5wdWxsQWxsPVFpLERuLnB1bGxBbGxCeT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQmJnQubGVuZ3RoJiZlJiZlLmxlbmd0aD9Hcih0LGUsY2kobiwyKSk6dH0sRG4ucHVsbEFsbFdpdGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZ0Lmxlbmd0aCYmZSYmZS5sZW5ndGg/R3IodCxlLG8sbik6dH0sRG4ucHVsbEF0PXRhLERuLnJhbmdlPXB1LERuLnJhbmdlUmlnaHQ9Z3UsRG4ucmVhcmc9JGEsRG4ucmVqZWN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuKEhhKHQpP0xlOm1yKSh0LE5hKGNpKGUsMykpKX0sRG4ucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gbjt2YXIgcj0tMSxvPVtdLGk9dC5sZW5ndGg7Zm9yKGU9Y2koZSwzKTsrK3I8aTspe3ZhciBhPXRbcl07ZShhLHIsdCkmJihuLnB1c2goYSksby5wdXNoKHIpKX1yZXR1cm4gSnIodCxvKSxufSxEbi5yZXN0PWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuIFhyKHQsZT1lPT09bz9lOmdzKGUpKX0sRG4ucmV2ZXJzZT1lYSxEbi5zYW1wbGVTaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT0obj9faSh0LGUsbik6ZT09PW8pPzE6Z3MoZSksKEhhKHQpP1FuOlFyKSh0LGUpfSxEbi5zZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsPT10P3Q6dG8odCxlLG4pfSxEbi5zZXRXaXRoPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cjpvLG51bGw9PXQ/dDp0byh0LGUsbixyKX0sRG4uc2h1ZmZsZT1mdW5jdGlvbih0KXtyZXR1cm4oSGEodCk/dHI6cm8pKHQpfSxEbi5zbGljZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiByPyhuJiZcIm51bWJlclwiIT10eXBlb2YgbiYmX2kodCxlLG4pPyhlPTAsbj1yKTooZT1udWxsPT1lPzA6Z3MoZSksbj1uPT09bz9yOmdzKG4pKSxvbyh0LGUsbikpOltdfSxEbi5zb3J0Qnk9VGEsRG4uc29ydGVkVW5pcT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/dW8odCk6W119LERuLnNvcnRlZFVuaXFCeT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD91byh0LGNpKGUsMikpOltdfSxEbi5zcGxpdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4mJlwibnVtYmVyXCIhPXR5cGVvZiBuJiZfaSh0LGUsbikmJihlPW49byksKG49bj09PW8/eTpuPj4+MCk/KHQ9YnModCkpJiYoXCJzdHJpbmdcIj09dHlwZW9mIGV8fG51bGwhPWUmJiFhcyhlKSkmJiEoZT1jbyhlKSkmJnVuKHQpP1NvKGduKHQpLDAsbik6dC5zcGxpdChlLG4pOltdfSxEbi5zcHJlYWQ9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBCdChpKTtyZXR1cm4gZT1udWxsPT1lPzA6Ym4oZ3MoZSksMCksWHIoKGZ1bmN0aW9uKG4pe3ZhciByPW5bZV0sbz1TbyhuLDAsZSk7cmV0dXJuIHImJk5lKG8sciksUmUodCx0aGlzLG8pfSkpfSxEbi50YWlsPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gZT9vbyh0LDEsZSk6W119LERuLnRha2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZ0Lmxlbmd0aD9vbyh0LDAsKGU9bnx8ZT09PW8/MTpncyhlKSk8MD8wOmUpOltdfSxEbi50YWtlUmlnaHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gcj9vbyh0LChlPXItKGU9bnx8ZT09PW8/MTpncyhlKSkpPDA/MDplLHIpOltdfSxEbi50YWtlUmlnaHRXaGlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9nbyh0LGNpKGUsMyksITEsITApOltdfSxEbi50YWtlV2hpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/Z28odCxjaShlLDMpKTpbXX0sRG4udGFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUodCksdH0sRG4udGhyb3R0bGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSEwLG89ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuIGVzKG4pJiYocj1cImxlYWRpbmdcImluIG4/ISFuLmxlYWRpbmc6cixvPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOm8pLExhKHQsZSx7bGVhZGluZzpyLG1heFdhaXQ6ZSx0cmFpbGluZzpvfSl9LERuLnRocnU9cGEsRG4udG9BcnJheT1ocyxEbi50b1BhaXJzPVdzLERuLnRvUGFpcnNJbj0kcyxEbi50b1BhdGg9ZnVuY3Rpb24odCl7cmV0dXJuIEhhKHQpP2plKHQsUGkpOmxzKHQpP1t0XTprbyhNaShicyh0KSkpfSxEbi50b1BsYWluT2JqZWN0PXZzLERuLnRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7dmFyIHI9SGEodCksbz1yfHxZYSh0KXx8Y3ModCk7aWYoZT1jaShlLDQpLG51bGw9PW4pe3ZhciBpPXQmJnQuY29uc3RydWN0b3I7bj1vP3I/bmV3IGk6W106ZXModCkmJlphKGkpP0ZuKEd0KHQpKTp7fX1yZXR1cm4obz9DZTpfcikodCwoZnVuY3Rpb24odCxyLG8pe3JldHVybiBlKG4sdCxyLG8pfSkpLG59LERuLnVuYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB4YSh0LDEpfSxEbi51bmlvbj1uYSxEbi51bmlvbkJ5PXJhLERuLnVuaW9uV2l0aD1vYSxEbi51bmlxPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9mbyh0KTpbXX0sRG4udW5pcUJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP2ZvKHQsY2koZSwyKSk6W119LERuLnVuaXFXaXRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm8sdCYmdC5sZW5ndGg/Zm8odCxvLGUpOltdfSxEbi51bnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10fHxobyh0LGUpfSxEbi51bnppcD1pYSxEbi51bnppcFdpdGg9YWEsRG4udXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbD09dD90OnBvKHQsZSx3byhuKSl9LERuLnVwZGF0ZVdpdGg9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHI9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOm8sbnVsbD09dD90OnBvKHQsZSx3byhuKSxyKX0sRG4udmFsdWVzPURzLERuLnZhbHVlc0luPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOnRuKHQsT3ModCkpfSxEbi53aXRob3V0PXNhLERuLndvcmRzPVpzLERuLndyYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUGEod28oZSksdCl9LERuLnhvcj11YSxEbi54b3JCeT1sYSxEbi54b3JXaXRoPWNhLERuLnppcD1mYSxEbi56aXBPYmplY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm8odHx8W10sZXx8W10sbnIpfSxEbi56aXBPYmplY3REZWVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvKHR8fFtdLGV8fFtdLHRvKX0sRG4uemlwV2l0aD1kYSxEbi5lbnRyaWVzPVdzLERuLmVudHJpZXNJbj0kcyxEbi5leHRlbmQ9X3MsRG4uZXh0ZW5kV2l0aD1Fcyx1dShEbixEbiksRG4uYWRkPXZ1LERuLmF0dGVtcHQ9UXMsRG4uY2FtZWxDYXNlPUZzLERuLmNhcGl0YWxpemU9enMsRG4uY2VpbD1idSxEbi5jbGFtcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG49PT1vJiYobj1lLGU9byksbiE9PW8mJihuPShuPW1zKG4pKT09bj9uOjApLGUhPT1vJiYoZT0oZT1tcyhlKSk9PWU/ZTowKSx1cihtcyh0KSxlLG4pfSxEbi5jbG9uZT1mdW5jdGlvbih0KXtyZXR1cm4gbHIodCw0KX0sRG4uY2xvbmVEZWVwPWZ1bmN0aW9uKHQpe3JldHVybiBscih0LDUpfSxEbi5jbG9uZURlZXBXaXRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxyKHQsNSxlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpvKX0sRG4uY2xvbmVXaXRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxyKHQsNCxlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpvKX0sRG4uY29uZm9ybXNUbz1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT1lfHxjcih0LGUsTHMoZSkpfSxEbi5kZWJ1cnI9cXMsRG4uZGVmYXVsdFRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXR8fHQhPXQ/ZTp0fSxEbi5kaXZpZGU9d3UsRG4uZW5kc1dpdGg9ZnVuY3Rpb24odCxlLG4pe3Q9YnModCksZT1jbyhlKTt2YXIgcj10Lmxlbmd0aCxpPW49bj09PW8/cjp1cihncyhuKSwwLHIpO3JldHVybihuLT1lLmxlbmd0aCk+PTAmJnQuc2xpY2UobixpKT09ZX0sRG4uZXE9RGEsRG4uZXNjYXBlPWZ1bmN0aW9uKHQpe3JldHVybih0PWJzKHQpKSYmWC50ZXN0KHQpP3QucmVwbGFjZShZLGFuKTp0fSxEbi5lc2NhcGVSZWdFeHA9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9YnModCkpJiZpdC50ZXN0KHQpP3QucmVwbGFjZShvdCxcIlxcXFwkJlwiKTp0fSxEbi5ldmVyeT1mdW5jdGlvbih0LGUsbil7dmFyIHI9SGEodCk/a2U6Z3I7cmV0dXJuIG4mJl9pKHQsZSxuKSYmKGU9bykscih0LGNpKGUsMykpfSxEbi5maW5kPW1hLERuLmZpbmRJbmRleD1xaSxEbi5maW5kS2V5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIERlKHQsY2koZSwzKSxfcil9LERuLmZpbmRMYXN0PXZhLERuLmZpbmRMYXN0SW5kZXg9SGksRG4uZmluZExhc3RLZXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRGUodCxjaShlLDMpLEVyKX0sRG4uZmxvb3I9X3UsRG4uZm9yRWFjaD1iYSxEbi5mb3JFYWNoUmlnaHQ9d2EsRG4uZm9ySW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD90OmJyKHQsY2koZSwzKSxPcyl9LERuLmZvckluUmlnaHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD90OndyKHQsY2koZSwzKSxPcyl9LERuLmZvck93bj1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZfcih0LGNpKGUsMykpfSxEbi5mb3JPd25SaWdodD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZFcih0LGNpKGUsMykpfSxEbi5nZXQ9UnMsRG4uZ3Q9RmEsRG4uZ3RlPXphLERuLmhhcz1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10JiZtaSh0LGUseHIpfSxEbi5oYXNJbj14cyxEbi5oZWFkPUdpLERuLmlkZW50aXR5PW91LERuLmluY2x1ZGVzPWZ1bmN0aW9uKHQsZSxuLHIpe3Q9R2EodCk/dDpEcyh0KSxuPW4mJiFyP2dzKG4pOjA7dmFyIG89dC5sZW5ndGg7cmV0dXJuIG48MCYmKG49Ym4obytuLDApKSx1cyh0KT9uPD1vJiZ0LmluZGV4T2YoZSxuKT4tMTohIW8mJnplKHQsZSxuKT4tMX0sRG4uaW5kZXhPZj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO2lmKCFyKXJldHVybi0xO3ZhciBvPW51bGw9PW4/MDpncyhuKTtyZXR1cm4gbzwwJiYobz1ibihyK28sMCkpLHplKHQsZSxvKX0sRG4uaW5SYW5nZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9cHMoZSksbj09PW8/KG49ZSxlPTApOm49cHMobiksZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Pj13bihlLG4pJiZ0PGJuKGUsbil9KHQ9bXModCksZSxuKX0sRG4uaW52b2tlPWtzLERuLmlzQXJndW1lbnRzPXFhLERuLmlzQXJyYXk9SGEsRG4uaXNBcnJheUJ1ZmZlcj1WYSxEbi5pc0FycmF5TGlrZT1HYSxEbi5pc0FycmF5TGlrZU9iamVjdD1KYSxEbi5pc0Jvb2xlYW49ZnVuY3Rpb24odCl7cmV0dXJuITA9PT10fHwhMT09PXR8fG5zKHQpJiZUcih0KT09d30sRG4uaXNCdWZmZXI9WWEsRG4uaXNEYXRlPUthLERuLmlzRWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJjE9PT10Lm5vZGVUeXBlJiYhaXModCl9LERuLmlzRW1wdHk9ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4hMDtpZihHYSh0KSYmKEhhKHQpfHxcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJmdW5jdGlvblwiPT10eXBlb2YgdC5zcGxpY2V8fFlhKHQpfHxjcyh0KXx8cWEodCkpKXJldHVybiF0Lmxlbmd0aDt2YXIgZT15aSh0KTtpZihlPT1JfHxlPT1CKXJldHVybiF0LnNpemU7aWYoSWkodCkpcmV0dXJuIU1yKHQpLmxlbmd0aDtmb3IodmFyIG4gaW4gdClpZihOdC5jYWxsKHQsbikpcmV0dXJuITE7cmV0dXJuITB9LERuLmlzRXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT3IodCxlKX0sRG4uaXNFcXVhbFdpdGg9ZnVuY3Rpb24odCxlLG4pe3ZhciByPShuPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpvKT9uKHQsZSk6bztyZXR1cm4gcj09PW8/T3IodCxlLG8sbik6ISFyfSxEbi5pc0Vycm9yPVhhLERuLmlzRmluaXRlPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ3ZSh0KX0sRG4uaXNGdW5jdGlvbj1aYSxEbi5pc0ludGVnZXI9UWEsRG4uaXNMZW5ndGg9dHMsRG4uaXNNYXA9cnMsRG4uaXNNYXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZXx8VXIodCxlLGRpKGUpKX0sRG4uaXNNYXRjaFdpdGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpvLFVyKHQsZSxkaShlKSxuKX0sRG4uaXNOYU49ZnVuY3Rpb24odCl7cmV0dXJuIG9zKHQpJiZ0IT0rdH0sRG4uaXNOYXRpdmU9ZnVuY3Rpb24odCl7aWYoQWkodCkpdGhyb3cgbmV3IEF0KFwiVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuXCIpO3JldHVybiBqcih0KX0sRG4uaXNOaWw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXR9LERuLmlzTnVsbD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXR9LERuLmlzTnVtYmVyPW9zLERuLmlzT2JqZWN0PWVzLERuLmlzT2JqZWN0TGlrZT1ucyxEbi5pc1BsYWluT2JqZWN0PWlzLERuLmlzUmVnRXhwPWFzLERuLmlzU2FmZUludGVnZXI9ZnVuY3Rpb24odCl7cmV0dXJuIFFhKHQpJiZ0Pj0tOTAwNzE5OTI1NDc0MDk5MSYmdDw9cH0sRG4uaXNTZXQ9c3MsRG4uaXNTdHJpbmc9dXMsRG4uaXNTeW1ib2w9bHMsRG4uaXNUeXBlZEFycmF5PWNzLERuLmlzVW5kZWZpbmVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09b30sRG4uaXNXZWFrTWFwPWZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmeWkodCk9PU99LERuLmlzV2Vha1NldD1mdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJlwiW29iamVjdCBXZWFrU2V0XVwiPT1Ucih0KX0sRG4uam9pbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P1wiXCI6JGUuY2FsbCh0LGUpfSxEbi5rZWJhYkNhc2U9SHMsRG4ubGFzdD1YaSxEbi5sYXN0SW5kZXhPZj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO2lmKCFyKXJldHVybi0xO3ZhciBpPXI7cmV0dXJuIG4hPT1vJiYoaT0oaT1ncyhuKSk8MD9ibihyK2ksMCk6d24oaSxyLTEpKSxlPT1lP2Z1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bisxO3ItLTspaWYodFtyXT09PWUpcmV0dXJuIHI7cmV0dXJuIHJ9KHQsZSxpKTpGZSh0LEhlLGksITApfSxEbi5sb3dlckNhc2U9VnMsRG4ubG93ZXJGaXJzdD1HcyxEbi5sdD1mcyxEbi5sdGU9ZHMsRG4ubWF4PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD95cih0LG91LFJyKTpvfSxEbi5tYXhCeT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD95cih0LGNpKGUsMiksUnIpOm99LERuLm1lYW49ZnVuY3Rpb24odCl7cmV0dXJuIFZlKHQsb3UpfSxEbi5tZWFuQnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVmUodCxjaShlLDIpKX0sRG4ubWluPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD95cih0LG91LFdyKTpvfSxEbi5taW5CeT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD95cih0LGNpKGUsMiksV3IpOm99LERuLnN0dWJBcnJheT15dSxEbi5zdHViRmFsc2U9bXUsRG4uc3R1Yk9iamVjdD1mdW5jdGlvbigpe3JldHVybnt9fSxEbi5zdHViU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0sRG4uc3R1YlRydWU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sRG4ubXVsdGlwbHk9U3UsRG4ubnRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP3FyKHQsZ3MoZSkpOm99LERuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZ2UuXz09PXRoaXMmJihnZS5fPUR0KSx0aGlzfSxEbi5ub29wPWx1LERuLm5vdz1SYSxEbi5wYWQ9ZnVuY3Rpb24odCxlLG4pe3Q9YnModCk7dmFyIHI9KGU9Z3MoZSkpP3BuKHQpOjA7aWYoIWV8fHI+PWUpcmV0dXJuIHQ7dmFyIG89KGUtcikvMjtyZXR1cm4gVm8oeWUobyksbikrdCtWbyhwZShvKSxuKX0sRG4ucGFkRW5kPWZ1bmN0aW9uKHQsZSxuKXt0PWJzKHQpO3ZhciByPShlPWdzKGUpKT9wbih0KTowO3JldHVybiBlJiZyPGU/dCtWbyhlLXIsbik6dH0sRG4ucGFkU3RhcnQ9ZnVuY3Rpb24odCxlLG4pe3Q9YnModCk7dmFyIHI9KGU9Z3MoZSkpP3BuKHQpOjA7cmV0dXJuIGUmJnI8ZT9WbyhlLXIsbikrdDp0fSxEbi5wYXJzZUludD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG58fG51bGw9PWU/ZT0wOmUmJihlPStlKSxFbihicyh0KS5yZXBsYWNlKGF0LFwiXCIpLGV8fDApfSxEbi5yYW5kb209ZnVuY3Rpb24odCxlLG4pe2lmKG4mJlwiYm9vbGVhblwiIT10eXBlb2YgbiYmX2kodCxlLG4pJiYoZT1uPW8pLG49PT1vJiYoXCJib29sZWFuXCI9PXR5cGVvZiBlPyhuPWUsZT1vKTpcImJvb2xlYW5cIj09dHlwZW9mIHQmJihuPXQsdD1vKSksdD09PW8mJmU9PT1vPyh0PTAsZT0xKToodD1wcyh0KSxlPT09bz8oZT10LHQ9MCk6ZT1wcyhlKSksdD5lKXt2YXIgcj10O3Q9ZSxlPXJ9aWYobnx8dCUxfHxlJTEpe3ZhciBpPVNuKCk7cmV0dXJuIHduKHQraSooZS10K2ZlKFwiMWUtXCIrKChpK1wiXCIpLmxlbmd0aC0xKSkpLGUpfXJldHVybiBZcih0LGUpfSxEbi5yZWR1Y2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPUhhKHQpP01lOlllLG89YXJndW1lbnRzLmxlbmd0aDwzO3JldHVybiByKHQsY2koZSw0KSxuLG8saHIpfSxEbi5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LGUsbil7dmFyIHI9SGEodCk/UGU6WWUsbz1hcmd1bWVudHMubGVuZ3RoPDM7cmV0dXJuIHIodCxjaShlLDQpLG4sbyxwcil9LERuLnJlcGVhdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9KG4/X2kodCxlLG4pOmU9PT1vKT8xOmdzKGUpLEtyKGJzKHQpLGUpfSxEbi5yZXBsYWNlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLGU9YnModFswXSk7cmV0dXJuIHQubGVuZ3RoPDM/ZTplLnJlcGxhY2UodFsxXSx0WzJdKX0sRG4ucmVzdWx0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0tMSxpPShlPV9vKGUsdCkpLmxlbmd0aDtmb3IoaXx8KGk9MSx0PW8pOysrcjxpOyl7dmFyIGE9bnVsbD09dD9vOnRbUGkoZVtyXSldO2E9PT1vJiYocj1pLGE9biksdD1aYShhKT9hLmNhbGwodCk6YX1yZXR1cm4gdH0sRG4ucm91bmQ9QXUsRG4ucnVuSW5Db250ZXh0PXQsRG4uc2FtcGxlPWZ1bmN0aW9uKHQpe3JldHVybihIYSh0KT9abjpacikodCl9LERuLnNpemU9ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gMDtpZihHYSh0KSlyZXR1cm4gdXModCk/cG4odCk6dC5sZW5ndGg7dmFyIGU9eWkodCk7cmV0dXJuIGU9PUl8fGU9PUI/dC5zaXplOk1yKHQpLmxlbmd0aH0sRG4uc25ha2VDYXNlPUpzLERuLnNvbWU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPUhhKHQpP1dlOmlvO3JldHVybiBuJiZfaSh0LGUsbikmJihlPW8pLHIodCxjaShlLDMpKX0sRG4uc29ydGVkSW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYW8odCxlKX0sRG4uc29ydGVkSW5kZXhCeT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHNvKHQsZSxjaShuLDIpKX0sRG4uc29ydGVkSW5kZXhPZj1mdW5jdGlvbih0LGUpe3ZhciBuPW51bGw9PXQ/MDp0Lmxlbmd0aDtpZihuKXt2YXIgcj1hbyh0LGUpO2lmKHI8biYmRGEodFtyXSxlKSlyZXR1cm4gcn1yZXR1cm4tMX0sRG4uc29ydGVkTGFzdEluZGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFvKHQsZSwhMCl9LERuLnNvcnRlZExhc3RJbmRleEJ5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gc28odCxlLGNpKG4sMiksITApfSxEbi5zb3J0ZWRMYXN0SW5kZXhPZj1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQ/MDp0Lmxlbmd0aCl7dmFyIG49YW8odCxlLCEwKS0xO2lmKERhKHRbbl0sZSkpcmV0dXJuIG59cmV0dXJuLTF9LERuLnN0YXJ0Q2FzZT1ZcyxEbi5zdGFydHNXaXRoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD1icyh0KSxuPW51bGw9PW4/MDp1cihncyhuKSwwLHQubGVuZ3RoKSxlPWNvKGUpLHQuc2xpY2UobixuK2UubGVuZ3RoKT09ZX0sRG4uc3VidHJhY3Q9SXUsRG4uc3VtPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9LZSh0LG91KTowfSxEbi5zdW1CeT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9LZSh0LGNpKGUsMikpOjB9LERuLnRlbXBsYXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1Ebi50ZW1wbGF0ZVNldHRpbmdzO24mJl9pKHQsZSxuKSYmKGU9byksdD1icyh0KSxlPUVzKHt9LGUscix0aSk7dmFyIGksYSxzPUVzKHt9LGUuaW1wb3J0cyxyLmltcG9ydHMsdGkpLHU9THMocyksbD10bihzLHUpLGM9MCxmPWUuaW50ZXJwb2xhdGV8fEV0LGQ9XCJfX3AgKz0gJ1wiLGg9eHQoKGUuZXNjYXBlfHxFdCkuc291cmNlK1wifFwiK2Yuc291cmNlK1wifFwiKyhmPT09dHQ/cHQ6RXQpLnNvdXJjZStcInxcIisoZS5ldmFsdWF0ZXx8RXQpLnNvdXJjZStcInwkXCIsXCJnXCIpLHA9XCIvLyMgc291cmNlVVJMPVwiKyhOdC5jYWxsKGUsXCJzb3VyY2VVUkxcIik/KGUuc291cmNlVVJMK1wiXCIpLnJlcGxhY2UoL1xccy9nLFwiIFwiKTpcImxvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbXCIrICsrc2UrXCJdXCIpK1wiXFxuXCI7dC5yZXBsYWNlKGgsKGZ1bmN0aW9uKGUsbixyLG8scyx1KXtyZXR1cm4gcnx8KHI9byksZCs9dC5zbGljZShjLHUpLnJlcGxhY2UoU3Qsc24pLG4mJihpPSEwLGQrPVwiJyArXFxuX19lKFwiK24rXCIpICtcXG4nXCIpLHMmJihhPSEwLGQrPVwiJztcXG5cIitzK1wiO1xcbl9fcCArPSAnXCIpLHImJihkKz1cIicgK1xcbigoX190ID0gKFwiK3IrXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCIpLGM9dStlLmxlbmd0aCxlfSkpLGQrPVwiJztcXG5cIjt2YXIgZz1OdC5jYWxsKGUsXCJ2YXJpYWJsZVwiKSYmZS52YXJpYWJsZTtpZihnKXtpZihkdC50ZXN0KGcpKXRocm93IG5ldyBBdChcIkludmFsaWQgYHZhcmlhYmxlYCBvcHRpb24gcGFzc2VkIGludG8gYF8udGVtcGxhdGVgXCIpfWVsc2UgZD1cIndpdGggKG9iaikge1xcblwiK2QrXCJcXG59XFxuXCI7ZD0oYT9kLnJlcGxhY2UoSCxcIlwiKTpkKS5yZXBsYWNlKFYsXCIkMVwiKS5yZXBsYWNlKEcsXCIkMTtcIiksZD1cImZ1bmN0aW9uKFwiKyhnfHxcIm9ialwiKStcIikge1xcblwiKyhnP1wiXCI6XCJvYmogfHwgKG9iaiA9IHt9KTtcXG5cIikrXCJ2YXIgX190LCBfX3AgPSAnJ1wiKyhpP1wiLCBfX2UgPSBfLmVzY2FwZVwiOlwiXCIpKyhhP1wiLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG5mdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIjpcIjtcXG5cIikrZCtcInJldHVybiBfX3BcXG59XCI7dmFyIHk9UXMoKGZ1bmN0aW9uKCl7cmV0dXJuIEl0KHUscCtcInJldHVybiBcIitkKS5hcHBseShvLGwpfSkpO2lmKHkuc291cmNlPWQsWGEoeSkpdGhyb3cgeTtyZXR1cm4geX0sRG4udGltZXM9ZnVuY3Rpb24odCxlKXtpZigodD1ncyh0KSk8MXx8dD5wKXJldHVybltdO3ZhciBuPXkscj13bih0LHkpO2U9Y2koZSksdC09eTtmb3IodmFyIG89WGUocixlKTsrK248dDspZShuKTtyZXR1cm4gb30sRG4udG9GaW5pdGU9cHMsRG4udG9JbnRlZ2VyPWdzLERuLnRvTGVuZ3RoPXlzLERuLnRvTG93ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGJzKHQpLnRvTG93ZXJDYXNlKCl9LERuLnRvTnVtYmVyPW1zLERuLnRvU2FmZUludGVnZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dXIoZ3ModCksLTkwMDcxOTkyNTQ3NDA5OTEscCk6MD09PXQ/dDowfSxEbi50b1N0cmluZz1icyxEbi50b1VwcGVyPWZ1bmN0aW9uKHQpe3JldHVybiBicyh0KS50b1VwcGVyQ2FzZSgpfSxEbi50cmltPWZ1bmN0aW9uKHQsZSxuKXtpZigodD1icyh0KSkmJihufHxlPT09bykpcmV0dXJuIFplKHQpO2lmKCF0fHwhKGU9Y28oZSkpKXJldHVybiB0O3ZhciByPWduKHQpLGk9Z24oZSk7cmV0dXJuIFNvKHIsbm4ocixpKSxybihyLGkpKzEpLmpvaW4oXCJcIil9LERuLnRyaW1FbmQ9ZnVuY3Rpb24odCxlLG4pe2lmKCh0PWJzKHQpKSYmKG58fGU9PT1vKSlyZXR1cm4gdC5zbGljZSgwLHluKHQpKzEpO2lmKCF0fHwhKGU9Y28oZSkpKXJldHVybiB0O3ZhciByPWduKHQpO3JldHVybiBTbyhyLDAscm4ocixnbihlKSkrMSkuam9pbihcIlwiKX0sRG4udHJpbVN0YXJ0PWZ1bmN0aW9uKHQsZSxuKXtpZigodD1icyh0KSkmJihufHxlPT09bykpcmV0dXJuIHQucmVwbGFjZShhdCxcIlwiKTtpZighdHx8IShlPWNvKGUpKSlyZXR1cm4gdDt2YXIgcj1nbih0KTtyZXR1cm4gU28ocixubihyLGduKGUpKSkuam9pbihcIlwiKX0sRG4udHJ1bmNhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj0zMCxyPVwiLi4uXCI7aWYoZXMoZSkpe3ZhciBpPVwic2VwYXJhdG9yXCJpbiBlP2Uuc2VwYXJhdG9yOmk7bj1cImxlbmd0aFwiaW4gZT9ncyhlLmxlbmd0aCk6bixyPVwib21pc3Npb25cImluIGU/Y28oZS5vbWlzc2lvbik6cn12YXIgYT0odD1icyh0KSkubGVuZ3RoO2lmKHVuKHQpKXt2YXIgcz1nbih0KTthPXMubGVuZ3RofWlmKG4+PWEpcmV0dXJuIHQ7dmFyIHU9bi1wbihyKTtpZih1PDEpcmV0dXJuIHI7dmFyIGw9cz9TbyhzLDAsdSkuam9pbihcIlwiKTp0LnNsaWNlKDAsdSk7aWYoaT09PW8pcmV0dXJuIGwrcjtpZihzJiYodSs9bC5sZW5ndGgtdSksYXMoaSkpe2lmKHQuc2xpY2UodSkuc2VhcmNoKGkpKXt2YXIgYyxmPWw7Zm9yKGkuZ2xvYmFsfHwoaT14dChpLnNvdXJjZSxicyhndC5leGVjKGkpKStcImdcIikpLGkubGFzdEluZGV4PTA7Yz1pLmV4ZWMoZik7KXZhciBkPWMuaW5kZXg7bD1sLnNsaWNlKDAsZD09PW8/dTpkKX19ZWxzZSBpZih0LmluZGV4T2YoY28oaSksdSkhPXUpe3ZhciBoPWwubGFzdEluZGV4T2YoaSk7aD4tMSYmKGw9bC5zbGljZSgwLGgpKX1yZXR1cm4gbCtyfSxEbi51bmVzY2FwZT1mdW5jdGlvbih0KXtyZXR1cm4odD1icyh0KSkmJksudGVzdCh0KT90LnJlcGxhY2UoSixtbik6dH0sRG4udW5pcXVlSWQ9ZnVuY3Rpb24odCl7dmFyIGU9KytNdDtyZXR1cm4gYnModCkrZX0sRG4udXBwZXJDYXNlPUtzLERuLnVwcGVyRmlyc3Q9WHMsRG4uZWFjaD1iYSxEbi5lYWNoUmlnaHQ9d2EsRG4uZmlyc3Q9R2ksdXUoRG4sKEV1PXt9LF9yKERuLChmdW5jdGlvbih0LGUpe050LmNhbGwoRG4ucHJvdG90eXBlLGUpfHwoRXVbZV09dCl9KSksRXUpLHtjaGFpbjohMX0pLERuLlZFUlNJT049XCI0LjE3LjIxXCIsQ2UoW1wiYmluZFwiLFwiYmluZEtleVwiLFwiY3VycnlcIixcImN1cnJ5UmlnaHRcIixcInBhcnRpYWxcIixcInBhcnRpYWxSaWdodFwiXSwoZnVuY3Rpb24odCl7RG5bdF0ucGxhY2Vob2xkZXI9RG59KSksQ2UoW1wiZHJvcFwiLFwidGFrZVwiXSwoZnVuY3Rpb24odCxlKXtIbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24obil7bj1uPT09bz8xOmJuKGdzKG4pLDApO3ZhciByPXRoaXMuX19maWx0ZXJlZF9fJiYhZT9uZXcgSG4odGhpcyk6dGhpcy5jbG9uZSgpO3JldHVybiByLl9fZmlsdGVyZWRfXz9yLl9fdGFrZUNvdW50X189d24obixyLl9fdGFrZUNvdW50X18pOnIuX192aWV3c19fLnB1c2goe3NpemU6d24obix5KSx0eXBlOnQrKHIuX19kaXJfXzwwP1wiUmlnaHRcIjpcIlwiKX0pLHJ9LEhuLnByb3RvdHlwZVt0K1wiUmlnaHRcIl09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmV2ZXJzZSgpW3RdKGUpLnJldmVyc2UoKX19KSksQ2UoW1wiZmlsdGVyXCIsXCJtYXBcIixcInRha2VXaGlsZVwiXSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lKzEscj0xPT1ufHwzPT1uO0huLnByb3RvdHlwZVt0XT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNsb25lKCk7cmV0dXJuIGUuX19pdGVyYXRlZXNfXy5wdXNoKHtpdGVyYXRlZTpjaSh0LDMpLHR5cGU6bn0pLGUuX19maWx0ZXJlZF9fPWUuX19maWx0ZXJlZF9ffHxyLGV9fSkpLENlKFtcImhlYWRcIixcImxhc3RcIl0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ0YWtlXCIrKGU/XCJSaWdodFwiOlwiXCIpO0huLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiB0aGlzW25dKDEpLnZhbHVlKClbMF19fSkpLENlKFtcImluaXRpYWxcIixcInRhaWxcIl0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49XCJkcm9wXCIrKGU/XCJcIjpcIlJpZ2h0XCIpO0huLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZmlsdGVyZWRfXz9uZXcgSG4odGhpcyk6dGhpc1tuXSgxKX19KSksSG4ucHJvdG90eXBlLmNvbXBhY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXIob3UpfSxIbi5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maWx0ZXIodCkuaGVhZCgpfSxIbi5wcm90b3R5cGUuZmluZExhc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQodCl9LEhuLnByb3RvdHlwZS5pbnZva2VNYXA9WHIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD9uZXcgSG4odGhpcyk6dGhpcy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBrcihuLHQsZSl9KSl9KSksSG4ucHJvdG90eXBlLnJlamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maWx0ZXIoTmEoY2kodCkpKX0sSG4ucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7dD1ncyh0KTt2YXIgbj10aGlzO3JldHVybiBuLl9fZmlsdGVyZWRfXyYmKHQ+MHx8ZTwwKT9uZXcgSG4obik6KHQ8MD9uPW4udGFrZVJpZ2h0KC10KTp0JiYobj1uLmRyb3AodCkpLGUhPT1vJiYobj0oZT1ncyhlKSk8MD9uLmRyb3BSaWdodCgtZSk6bi50YWtlKGUtdCkpLG4pfSxIbi5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZSh0KS5yZXZlcnNlKCl9LEhuLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFrZSh5KX0sX3IoSG4ucHJvdG90eXBlLChmdW5jdGlvbih0LGUpe3ZhciBuPS9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KGUpLHI9L14oPzpoZWFkfGxhc3QpJC8udGVzdChlKSxpPURuW3I/XCJ0YWtlXCIrKFwibGFzdFwiPT1lP1wiUmlnaHRcIjpcIlwiKTplXSxhPXJ8fC9eZmluZC8udGVzdChlKTtpJiYoRG4ucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fX3dyYXBwZWRfXyxzPXI/WzFdOmFyZ3VtZW50cyx1PWUgaW5zdGFuY2VvZiBIbixsPXNbMF0sYz11fHxIYShlKSxmPWZ1bmN0aW9uKHQpe3ZhciBlPWkuYXBwbHkoRG4sTmUoW3RdLHMpKTtyZXR1cm4gciYmZD9lWzBdOmV9O2MmJm4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGwmJjEhPWwubGVuZ3RoJiYodT1jPSExKTt2YXIgZD10aGlzLl9fY2hhaW5fXyxoPSEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgscD1hJiYhZCxnPXUmJiFoO2lmKCFhJiZjKXtlPWc/ZTpuZXcgSG4odGhpcyk7dmFyIHk9dC5hcHBseShlLHMpO3JldHVybiB5Ll9fYWN0aW9uc19fLnB1c2goe2Z1bmM6cGEsYXJnczpbZl0sdGhpc0FyZzpvfSksbmV3IHFuKHksZCl9cmV0dXJuIHAmJmc/dC5hcHBseSh0aGlzLHMpOih5PXRoaXMudGhydShmKSxwP3I/eS52YWx1ZSgpWzBdOnkudmFsdWUoKTp5KX0pfSkpLENlKFtcInBvcFwiLFwicHVzaFwiLFwic2hpZnRcIixcInNvcnRcIixcInNwbGljZVwiLFwidW5zaGlmdFwiXSwoZnVuY3Rpb24odCl7dmFyIGU9a3RbdF0sbj0vXig/OnB1c2h8c29ydHx1bnNoaWZ0KSQvLnRlc3QodCk/XCJ0YXBcIjpcInRocnVcIixyPS9eKD86cG9wfHNoaWZ0KSQvLnRlc3QodCk7RG4ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzO2lmKHImJiF0aGlzLl9fY2hhaW5fXyl7dmFyIG89dGhpcy52YWx1ZSgpO3JldHVybiBlLmFwcGx5KEhhKG8pP286W10sdCl9cmV0dXJuIHRoaXNbbl0oKGZ1bmN0aW9uKG4pe3JldHVybiBlLmFwcGx5KEhhKG4pP246W10sdCl9KSl9fSkpLF9yKEhuLnByb3RvdHlwZSwoZnVuY3Rpb24odCxlKXt2YXIgbj1EbltlXTtpZihuKXt2YXIgcj1uLm5hbWUrXCJcIjtOdC5jYWxsKExuLHIpfHwoTG5bcl09W10pLExuW3JdLnB1c2goe25hbWU6ZSxmdW5jOm59KX19KSksTG5bRm8obywyKS5uYW1lXT1be25hbWU6XCJ3cmFwcGVyXCIsZnVuYzpvfV0sSG4ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEhuKHRoaXMuX193cmFwcGVkX18pO3JldHVybiB0Ll9fYWN0aW9uc19fPWtvKHRoaXMuX19hY3Rpb25zX18pLHQuX19kaXJfXz10aGlzLl9fZGlyX18sdC5fX2ZpbHRlcmVkX189dGhpcy5fX2ZpbHRlcmVkX18sdC5fX2l0ZXJhdGVlc19fPWtvKHRoaXMuX19pdGVyYXRlZXNfXyksdC5fX3Rha2VDb3VudF9fPXRoaXMuX190YWtlQ291bnRfXyx0Ll9fdmlld3NfXz1rbyh0aGlzLl9fdmlld3NfXyksdH0sSG4ucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXtpZih0aGlzLl9fZmlsdGVyZWRfXyl7dmFyIHQ9bmV3IEhuKHRoaXMpO3QuX19kaXJfXz0tMSx0Ll9fZmlsdGVyZWRfXz0hMH1lbHNlKHQ9dGhpcy5jbG9uZSgpKS5fX2Rpcl9fKj0tMTtyZXR1cm4gdH0sSG4ucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLGU9dGhpcy5fX2Rpcl9fLG49SGEodCkscj1lPDAsbz1uP3QubGVuZ3RoOjAsaT1mdW5jdGlvbih0LGUsbil7dmFyIHI9LTEsbz1uLmxlbmd0aDtmb3IoOysrcjxvOyl7dmFyIGk9bltyXSxhPWkuc2l6ZTtzd2l0Y2goaS50eXBlKXtjYXNlXCJkcm9wXCI6dCs9YTticmVhaztjYXNlXCJkcm9wUmlnaHRcIjplLT1hO2JyZWFrO2Nhc2VcInRha2VcIjplPXduKGUsdCthKTticmVhaztjYXNlXCJ0YWtlUmlnaHRcIjp0PWJuKHQsZS1hKX19cmV0dXJue3N0YXJ0OnQsZW5kOmV9fSgwLG8sdGhpcy5fX3ZpZXdzX18pLGE9aS5zdGFydCxzPWkuZW5kLHU9cy1hLGw9cj9zOmEtMSxjPXRoaXMuX19pdGVyYXRlZXNfXyxmPWMubGVuZ3RoLGQ9MCxoPXduKHUsdGhpcy5fX3Rha2VDb3VudF9fKTtpZighbnx8IXImJm89PXUmJmg9PXUpcmV0dXJuIHlvKHQsdGhpcy5fX2FjdGlvbnNfXyk7dmFyIHA9W107dDpmb3IoO3UtLSYmZDxoOyl7Zm9yKHZhciBnPS0xLHk9dFtsKz1lXTsrK2c8Zjspe3ZhciBtPWNbZ10sdj1tLml0ZXJhdGVlLGI9bS50eXBlLHc9dih5KTtpZigyPT1iKXk9dztlbHNlIGlmKCF3KXtpZigxPT1iKWNvbnRpbnVlIHQ7YnJlYWsgdH19cFtkKytdPXl9cmV0dXJuIHB9LERuLnByb3RvdHlwZS5hdD1nYSxEbi5wcm90b3R5cGUuY2hhaW49ZnVuY3Rpb24oKXtyZXR1cm4gaGEodGhpcyl9LERuLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHFuKHRoaXMudmFsdWUoKSx0aGlzLl9fY2hhaW5fXyl9LERuLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dGhpcy5fX3ZhbHVlc19fPT09byYmKHRoaXMuX192YWx1ZXNfXz1ocyh0aGlzLnZhbHVlKCkpKTt2YXIgdD10aGlzLl9faW5kZXhfXz49dGhpcy5fX3ZhbHVlc19fLmxlbmd0aDtyZXR1cm57ZG9uZTp0LHZhbHVlOnQ/bzp0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK119fSxEbi5wcm90b3R5cGUucGxhbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcztuIGluc3RhbmNlb2Ygem47KXt2YXIgcj0kaShuKTtyLl9faW5kZXhfXz0wLHIuX192YWx1ZXNfXz1vLGU/aS5fX3dyYXBwZWRfXz1yOmU9cjt2YXIgaT1yO249bi5fX3dyYXBwZWRfX31yZXR1cm4gaS5fX3dyYXBwZWRfXz10LGV9LERuLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fX3dyYXBwZWRfXztpZih0IGluc3RhbmNlb2YgSG4pe3ZhciBlPXQ7cmV0dXJuIHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoJiYoZT1uZXcgSG4odGhpcykpLChlPWUucmV2ZXJzZSgpKS5fX2FjdGlvbnNfXy5wdXNoKHtmdW5jOnBhLGFyZ3M6W2VhXSx0aGlzQXJnOm99KSxuZXcgcW4oZSx0aGlzLl9fY2hhaW5fXyl9cmV0dXJuIHRoaXMudGhydShlYSl9LERuLnByb3RvdHlwZS50b0pTT049RG4ucHJvdG90eXBlLnZhbHVlT2Y9RG4ucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHlvKHRoaXMuX193cmFwcGVkX18sdGhpcy5fX2FjdGlvbnNfXyl9LERuLnByb3RvdHlwZS5maXJzdD1Ebi5wcm90b3R5cGUuaGVhZCxadCYmKERuLnByb3RvdHlwZVtadF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLERufSgpO2dlLl89dm4sKHI9ZnVuY3Rpb24oKXtyZXR1cm4gdm59LmNhbGwoZSxuLGUsdCkpPT09b3x8KHQuZXhwb3J0cz1yKX0uY2FsbCh0aGlzKX0sMzAwOih0LGUsbik9Pnt2YXIgcixvO3Q9bi5ubWQodCksZnVuY3Rpb24oZSl7ZS5ydW5uaW5nSW5Ob2RlSlM9ZnVuY3Rpb24oKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMmJlwic3RyaW5nXCI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGV9LGUucnVubmluZ0luTWFpbk5vZGVKU01vZHVsZT1mdW5jdGlvbigpe3JldHVybiBlLnJ1bm5pbmdJbk5vZGVKUygpJiZuLmNbbi5zXT09PXR9LGUuY29tbW9uSlNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdC5leHBvcnRzfSxlLnJ1bm5pbmdJbldlYldvcmtlcj1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzZWxmLmFkZEV2ZW50TGlzdGVuZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHNlbGYuY2xvc2V9LGUucnVubmluZ0luTm9kZUNoaWxkUHJvY2Vzcz1mdW5jdGlvbigpe3JldHVybiBlLnJ1bm5pbmdJbk5vZGVKUygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLnNlbmR9LGUucnVubmluZ0luTnVsbE9yaWdpbj1mdW5jdGlvbigpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cubG9jYXRpb24mJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmKFwiaHR0cDpcIiE9PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZcImh0dHBzOlwiIT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wpfSxlLndlYldvcmtlcnNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBXb3JrZXImJiFlLnJ1bm5pbmdJbk51bGxPcmlnaW4oKSYmKCFlLnJ1bm5pbmdJbk5vZGVKUygpJiYhKG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQW5kcm9pZCA0LjNcIik+PTApKX0sZS5sb2c9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksXCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUmJihjb25zb2xlLmxvZyh0KSxlJiZcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJihkb2N1bWVudC5ib2R5LmlubmVySFRNTCs9dCtcIjxici8+XCIpKX0sZS5jcmVhdGVFcnJvck1lc3NhZ2U9ZnVuY3Rpb24odCxuKXtpZih2b2lkIDA9PT1uJiYobj1cIlVuaGFuZGxlZCBleGNlcHRpb25cIiksbnVsbD09dClyZXR1cm4gbjtpZihuKz1cIjogXCIsXCJvYmplY3RcIj09dHlwZW9mIHQuY29udGVudCl7aWYoZS5ydW5uaW5nSW5Ob2RlSlMoKSlyZXR1cm4gbit0LmNvbnRlbnQuc3RhY2s7dmFyIHI9SlNPTi5zdHJpbmdpZnkodC5jb250ZW50KTtyZXR1cm5cInt9XCIhPT1yP24rcjpuK3QuY29udGVudH1yZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC5jb250ZW50P24rdC5jb250ZW50Om4rdH0sZS5wcmludEV4Y2VwdGlvbkFuZFN0YWNrVHJhY2VUb0NvbnNvbGU9ZnVuY3Rpb24odCxuKXt2b2lkIDA9PT1uJiYobj1cIlVuaGFuZGxlZCBleGNlcHRpb25cIiksZS5sb2coZS5jcmVhdGVFcnJvck1lc3NhZ2UodCxuKSl9LGUuZ2V0R2xvYmFsT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIG4uZz9uLmc6XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJvYmplY3RcIj09dHlwZW9mIHNlbGY/c2VsZjp7fX0sZS50b1N0cmluZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGUuY29tbW9uSlNBdmFpbGFibGUoKSYmKHQuZXhwb3J0cz1lKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5JiYwIT09bmV3IFVpbnQ4QXJyYXkoMSkuc3ViYXJyYXkoMSkuYnl0ZUxlbmd0aCl7dmFyIGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ8ZT9lOnQ+bj9uOnR9O3R8PTAsZXw9MCxhcmd1bWVudHMubGVuZ3RoPDEmJih0PTApLGFyZ3VtZW50cy5sZW5ndGg8MiYmKGU9dGhpcy5sZW5ndGgpLHQ8MCYmKHQ9dGhpcy5sZW5ndGgrdCksZTwwJiYoZT10aGlzLmxlbmd0aCtlKSx0PW4odCwwLHRoaXMubGVuZ3RoKTt2YXIgcj0oZT1uKGUsMCx0aGlzLmxlbmd0aCkpLXQ7cmV0dXJuIHI8MCYmKHI9MCksbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5idWZmZXIsdGhpcy5ieXRlT2Zmc2V0K3QqdGhpcy5CWVRFU19QRVJfRUxFTUVOVCxyKX0sbj1bXCJJbnQ4QXJyYXlcIixcIlVpbnQ4QXJyYXlcIixcIlVpbnQ4Q2xhbXBlZEFycmF5XCIsXCJJbnQxNkFycmF5XCIsXCJVaW50MTZBcnJheVwiLFwiSW50MzJBcnJheVwiLFwiVWludDMyQXJyYXlcIixcIkZsb2F0MzJBcnJheVwiLFwiRmxvYXQ2NEFycmF5XCJdLHI9dm9pZCAwO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/cj13aW5kb3c6XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJihyPXNlbGYpLHZvaWQgMCE9PXIpZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspcltuW29dXSYmKHJbbltvXV0ucHJvdG90eXBlLnN1YmFycmF5PWUpfX0ocnx8KHI9e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuY29tcHJlc3NBc3luYz1mdW5jdGlvbihlLG4scil7dmFyIG89bmV3IHQuVGltZXIsaT1uZXcgdC5Db21wcmVzc29yO2lmKCFyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjb21wcmVzc0FzeW5jOiBObyBjYWxsYmFjayBhcmd1bWVudCBnaXZlblwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSllPXQuZW5jb2RlVVRGOChlKTtlbHNlIGlmKG51bGw9PWV8fCEoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXJldHVybiB2b2lkIHIodm9pZCAwLG5ldyBUeXBlRXJyb3IoXCJjb21wcmVzc0FzeW5jOiBJbnZhbGlkIGlucHV0IGFyZ3VtZW50LCBvbmx5ICdzdHJpbmcnIGFuZCAnVWludDhBcnJheScgYXJlIHN1cHBvcnRlZFwiKSk7dmFyIGE9dC5BcnJheVRvb2xzLnNwbGl0Qnl0ZUFycmF5KGUsbi5ibG9ja1NpemUpLHM9W10sdT1mdW5jdGlvbihlKXtpZihlPGEubGVuZ3RoKXt2YXIgbD12b2lkIDA7dHJ5e2w9aS5jb21wcmVzc0Jsb2NrKGFbZV0pfWNhdGNoKHQpe3JldHVybiB2b2lkIHIodm9pZCAwLHQpfXMucHVzaChsKSxvLmdldEVsYXBzZWRUaW1lKCk8PTIwP3UoZSsxKToodC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3JldHVybiB1KGUrMSl9KSksby5yZXN0YXJ0KCkpfWVsc2V7dmFyIGM9dC5BcnJheVRvb2xzLmNvbmNhdFVpbnQ4QXJyYXlzKHMpO3QuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXt2YXIgZTt0cnl7ZT10LkNvbXByZXNzaW9uQ29tbW9uLmVuY29kZUNvbXByZXNzZWRCeXRlcyhjLG4ub3V0cHV0RW5jb2RpbmcpfWNhdGNoKHQpe3JldHVybiB2b2lkIHIodm9pZCAwLHQpfXQuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gcihlKX0pKX0pKX19O3QuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gdSgwKX0pKX0sZS5jcmVhdGVDb21wcmVzc2lvblN0cmVhbT1mdW5jdGlvbigpe3ZhciBlPW5ldyB0LkNvbXByZXNzb3Iscj1uZXcobig5OSkuVHJhbnNmb3JtKSh7ZGVjb2RlU3RyaW5nczohMCxoaWdoV2F0ZXJNYXJrOjY1NTM2fSk7cmV0dXJuIHIuX3RyYW5zZm9ybT1mdW5jdGlvbihuLG8saSl7dmFyIGE7dHJ5e2E9dC5CdWZmZXJUb29scy51aW50OEFycmF5VG9CdWZmZXIoZS5jb21wcmVzc0Jsb2NrKHQuQnVmZmVyVG9vbHMuYnVmZmVyVG9VaW50OEFycmF5KG4pKSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgci5lbWl0KFwiZXJyb3JcIix0KX1yLnB1c2goYSksaSgpfSxyfSxlfSgpO3QuQXN5bmNDb21wcmVzc29yPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmRlY29tcHJlc3NBc3luYz1mdW5jdGlvbihlLG4scil7aWYoIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29tcHJlc3NBc3luYzogTm8gY2FsbGJhY2sgYXJndW1lbnQgZ2l2ZW5cIik7dmFyIG89bmV3IHQuVGltZXI7dHJ5e2U9dC5Db21wcmVzc2lvbkNvbW1vbi5kZWNvZGVDb21wcmVzc2VkQnl0ZXMoZSxuLmlucHV0RW5jb2RpbmcpfWNhdGNoKHQpe3JldHVybiB2b2lkIHIodm9pZCAwLHQpfXZhciBpPW5ldyB0LkRlY29tcHJlc3NvcixhPXQuQXJyYXlUb29scy5zcGxpdEJ5dGVBcnJheShlLG4uYmxvY2tTaXplKSxzPVtdLHU9ZnVuY3Rpb24oZSl7aWYoZTxhLmxlbmd0aCl7dmFyIGw9dm9pZCAwO3RyeXtsPWkuZGVjb21wcmVzc0Jsb2NrKGFbZV0pfWNhdGNoKHQpe3JldHVybiB2b2lkIHIodm9pZCAwLHQpfXMucHVzaChsKSxvLmdldEVsYXBzZWRUaW1lKCk8PTIwP3UoZSsxKToodC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3JldHVybiB1KGUrMSl9KSksby5yZXN0YXJ0KCkpfWVsc2V7dmFyIGM9dC5BcnJheVRvb2xzLmNvbmNhdFVpbnQ4QXJyYXlzKHMpO3QuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXt2YXIgZTt0cnl7ZT10LkNvbXByZXNzaW9uQ29tbW9uLmVuY29kZURlY29tcHJlc3NlZEJ5dGVzKGMsbi5vdXRwdXRFbmNvZGluZyl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih2b2lkIDAsdCl9dC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3JldHVybiByKGUpfSkpfSkpfX07dC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3JldHVybiB1KDApfSkpfSxlLmNyZWF0ZURlY29tcHJlc3Npb25TdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdC5EZWNvbXByZXNzb3Iscj1uZXcobig5OSkuVHJhbnNmb3JtKSh7ZGVjb2RlU3RyaW5nczohMCxoaWdoV2F0ZXJNYXJrOjY1NTM2fSk7cmV0dXJuIHIuX3RyYW5zZm9ybT1mdW5jdGlvbihuLG8saSl7dmFyIGE7dHJ5e2E9dC5CdWZmZXJUb29scy51aW50OEFycmF5VG9CdWZmZXIoZS5kZWNvbXByZXNzQmxvY2sodC5CdWZmZXJUb29scy5idWZmZXJUb1VpbnQ4QXJyYXkobikpKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByLmVtaXQoXCJlcnJvclwiLHQpfXIucHVzaChhKSxpKCl9LHJ9LGV9KCk7dC5Bc3luY0RlY29tcHJlc3Nvcj1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlOyFmdW5jdGlvbihlKXtlLmNvbXByZXNzQXN5bmM9ZnVuY3Rpb24odCxuLHIpe2lmKFwiQnl0ZUFycmF5XCIhPW4uaW5wdXRFbmNvZGluZ3x8dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe3ZhciBvPXt0b2tlbjpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCksdHlwZTpcImNvbXByZXNzXCIsZGF0YTp0LGlucHV0RW5jb2Rpbmc6bi5pbnB1dEVuY29kaW5nLG91dHB1dEVuY29kaW5nOm4ub3V0cHV0RW5jb2Rpbmd9LGk9ZnVuY3Rpb24odCl7dmFyIG49dC5kYXRhO24mJm4udG9rZW49PW8udG9rZW4mJihlLmdsb2JhbFdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGkpLFwiZXJyb3JcIj09bi50eXBlP3Iodm9pZCAwLG5ldyBFcnJvcihuLmVycm9yKSk6cihuLmRhdGEpKX07ZS5nbG9iYWxXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixpKSxlLmdsb2JhbFdvcmtlci5wb3N0TWVzc2FnZShvLFtdKX1lbHNlIHIodm9pZCAwLG5ldyBUeXBlRXJyb3IoXCJjb21wcmVzc0FzeW5jOiBpbnB1dCBpcyBub3QgYSBVaW50OEFycmF5XCIpKX0sZS5kZWNvbXByZXNzQXN5bmM9ZnVuY3Rpb24odCxuLHIpe3ZhciBvPXt0b2tlbjpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCksdHlwZTpcImRlY29tcHJlc3NcIixkYXRhOnQsaW5wdXRFbmNvZGluZzpuLmlucHV0RW5jb2Rpbmcsb3V0cHV0RW5jb2Rpbmc6bi5vdXRwdXRFbmNvZGluZ30saT1mdW5jdGlvbih0KXt2YXIgbj10LmRhdGE7biYmbi50b2tlbj09by50b2tlbiYmKGUuZ2xvYmFsV29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsaSksXCJlcnJvclwiPT1uLnR5cGU/cih2b2lkIDAsbmV3IEVycm9yKG4uZXJyb3IpKTpyKG4uZGF0YSkpfTtlLmdsb2JhbFdvcmtlci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGkpLGUuZ2xvYmFsV29ya2VyLnBvc3RNZXNzYWdlKG8sW10pfSxlLmluc3RhbGxXZWJXb3JrZXJJZk5lZWRlZD1mdW5jdGlvbigpe1wib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZ2b2lkIDA9PT1zZWxmLmRvY3VtZW50JiZudWxsIT1zZWxmLmFkZEV2ZW50TGlzdGVuZXImJihzZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YTtpZihcImNvbXByZXNzXCI9PW4udHlwZSl7dmFyIHI9dm9pZCAwO3RyeXtyPXQuY29tcHJlc3Mobi5kYXRhLHtvdXRwdXRFbmNvZGluZzpuLm91dHB1dEVuY29kaW5nfSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgc2VsZi5wb3N0TWVzc2FnZSh7dG9rZW46bi50b2tlbix0eXBlOlwiZXJyb3JcIixlcnJvcjp0LmNyZWF0ZUVycm9yTWVzc2FnZShlKX0sW10pfShvPXt0b2tlbjpuLnRva2VuLHR5cGU6XCJjb21wcmVzc2lvblJlc3VsdFwiLGRhdGE6cixlbmNvZGluZzpuLm91dHB1dEVuY29kaW5nfSkuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJi0xPT09bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgMTBcIik/c2VsZi5wb3N0TWVzc2FnZShvLFtvLmRhdGEuYnVmZmVyXSk6c2VsZi5wb3N0TWVzc2FnZShvLFtdKX1lbHNlIGlmKFwiZGVjb21wcmVzc1wiPT1uLnR5cGUpe3ZhciBvLGk9dm9pZCAwO3RyeXtpPXQuZGVjb21wcmVzcyhuLmRhdGEse2lucHV0RW5jb2Rpbmc6bi5pbnB1dEVuY29kaW5nLG91dHB1dEVuY29kaW5nOm4ub3V0cHV0RW5jb2Rpbmd9KX1jYXRjaChlKXtyZXR1cm4gdm9pZCBzZWxmLnBvc3RNZXNzYWdlKHt0b2tlbjpuLnRva2VuLHR5cGU6XCJlcnJvclwiLGVycm9yOnQuY3JlYXRlRXJyb3JNZXNzYWdlKGUpfSxbXSl9KG89e3Rva2VuOm4udG9rZW4sdHlwZTpcImRlY29tcHJlc3Npb25SZXN1bHRcIixkYXRhOmksZW5jb2Rpbmc6bi5vdXRwdXRFbmNvZGluZ30pLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYtMT09PW5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJNU0lFIDEwXCIpP3NlbGYucG9zdE1lc3NhZ2Uobyxbby5kYXRhLmJ1ZmZlcl0pOnNlbGYucG9zdE1lc3NhZ2UobyxbXSl9fSkpLHNlbGYuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsKGZ1bmN0aW9uKGUpe3QubG9nKHQuY3JlYXRlRXJyb3JNZXNzYWdlKGUuZXJyb3IsXCJVbmV4cGVjdGVkIExaVVRGOCBXZWJXb3JrZXIgZXhjZXB0aW9uXCIpKX0pKSl9LGUuY3JlYXRlR2xvYmFsV29ya2VySWZOZWVkZWQ9ZnVuY3Rpb24oKXtpZihlLmdsb2JhbFdvcmtlcilyZXR1cm4hMDtpZighdC53ZWJXb3JrZXJzQXZhaWxhYmxlKCkpcmV0dXJuITE7aWYoIWUuc2NyaXB0VVJJJiZcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQpe3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibHp1dGY4XCIpO251bGwhPW4mJihlLnNjcmlwdFVSST1uLmdldEF0dHJpYnV0ZShcInNyY1wiKXx8dm9pZCAwKX1yZXR1cm4hIWUuc2NyaXB0VVJJJiYoZS5nbG9iYWxXb3JrZXI9bmV3IFdvcmtlcihlLnNjcmlwdFVSSSksITApfSxlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe2UuZ2xvYmFsV29ya2VyJiYoZS5nbG9iYWxXb3JrZXIudGVybWluYXRlKCksZS5nbG9iYWxXb3JrZXI9dm9pZCAwKX19KGU9dC5XZWJXb3JrZXJ8fCh0LldlYldvcmtlcj17fSkpLGUuaW5zdGFsbFdlYldvcmtlcklmTmVlZGVkKCl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmNvbnRhaW5lcj10LHRoaXMuc3RhcnRQb3NpdGlvbj1lLHRoaXMubGVuZ3RoPW59cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250YWluZXJbdGhpcy5zdGFydFBvc2l0aW9uK3RdfSx0LnByb3RvdHlwZS5nZXRJblJldmVyc2VkT3JkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGFpbmVyW3RoaXMuc3RhcnRQb3NpdGlvbit0aGlzLmxlbmd0aC0xLXRdfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnRhaW5lclt0aGlzLnN0YXJ0UG9zaXRpb24rdF09ZX0sdH0oKTt0LkFycmF5U2VnbWVudD1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXt0LmNvcHlFbGVtZW50cz1mdW5jdGlvbih0LGUsbixyLG8pe2Zvcig7by0tOyluW3IrK109dFtlKytdfSx0Lnplcm9FbGVtZW50cz1mdW5jdGlvbih0LGUsbil7Zm9yKDtuLS07KXRbZSsrXT0wfSx0LmNvdW50Tm9uemVyb1ZhbHVlc0luQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGg7bisrKXRbbl0mJmUrKztyZXR1cm4gZX0sdC50cnVuY2F0ZVN0YXJ0aW5nRWxlbWVudHM9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw9ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRydW5jYXRlU3RhcnRpbmdFbGVtZW50czogUmVxdWVzdGVkIGxlbmd0aCBzaG91bGQgYmUgc21hbGxlciB0aGFuIGFycmF5IGxlbmd0aFwiKTtmb3IodmFyIG49dC5sZW5ndGgtZSxyPTA7cjxlO3IrKyl0W3JdPXRbbityXTt0Lmxlbmd0aD1lfSx0LmRvdWJsZUJ5dGVBcnJheUNhcGFjaXR5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBVaW50OEFycmF5KDIqdC5sZW5ndGgpO3JldHVybiBlLnNldCh0KSxlfSx0LmNvbmNhdFVpbnQ4QXJyYXlzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MCxyPXQ7bjxyLmxlbmd0aDtuKyspe2UrPSh1PXJbbl0pLmxlbmd0aH1mb3IodmFyIG89bmV3IFVpbnQ4QXJyYXkoZSksaT0wLGE9MCxzPXQ7YTxzLmxlbmd0aDthKyspe3ZhciB1PXNbYV07by5zZXQodSxpKSxpKz11Lmxlbmd0aH1yZXR1cm4gb30sdC5zcGxpdEJ5dGVBcnJheT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDspe3ZhciBvPU1hdGgubWluKGUsdC5sZW5ndGgtcik7bi5wdXNoKHQuc3ViYXJyYXkocixyK28pKSxyKz1vfXJldHVybiBufX0odC5BcnJheVRvb2xzfHwodC5BcnJheVRvb2xzPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpe3QuY29udmVydFRvVWludDhBcnJheUlmTmVlZGVkPWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIEJ1ZmZlciYmQnVmZmVyLmlzQnVmZmVyKGUpP3QuYnVmZmVyVG9VaW50OEFycmF5KGUpOmV9LHQudWludDhBcnJheVRvQnVmZmVyPWZ1bmN0aW9uKHQpe2lmKEJ1ZmZlci5wcm90b3R5cGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXt2YXIgZT1uZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsQnVmZmVyLnByb3RvdHlwZSksZX1mb3IodmFyIG49dC5sZW5ndGgscj1uZXcgQnVmZmVyKG4pLG89MDtvPG47bysrKXJbb109dFtvXTtyZXR1cm4gcn0sdC5idWZmZXJUb1VpbnQ4QXJyYXk9ZnVuY3Rpb24odCl7aWYoQnVmZmVyLnByb3RvdHlwZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuIG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpO2Zvcih2YXIgZT10Lmxlbmd0aCxuPW5ldyBVaW50OEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09dFtyXTtyZXR1cm4gbn19KHQuQnVmZmVyVG9vbHN8fCh0LkJ1ZmZlclRvb2xzPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUpe2UuZ2V0Q3JvcHBlZEJ1ZmZlcj1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0wKTt2YXIgbz1uZXcgVWludDhBcnJheShuK3IpO3JldHVybiBvLnNldCh0LnN1YmFycmF5KGUsZStuKSksb30sZS5nZXRDcm9wcGVkQW5kQXBwZW5kZWRCeXRlQXJyYXk9ZnVuY3Rpb24oZSxuLHIsbyl7cmV0dXJuIHQuQXJyYXlUb29scy5jb25jYXRVaW50OEFycmF5cyhbZS5zdWJhcnJheShuLG4rciksb10pfSxlLmRldGVjdENvbXByZXNzaW9uU291cmNlRW5jb2Rpbmc9ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGV0ZWN0Q29tcHJlc3Npb25Tb3VyY2VFbmNvZGluZzogaW5wdXQgaXMgbnVsbCBvciB1bmRlZmluZWRcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuXCJTdHJpbmdcIjtpZih0IGluc3RhbmNlb2YgVWludDhBcnJheXx8XCJmdW5jdGlvblwiPT10eXBlb2YgQnVmZmVyJiZCdWZmZXIuaXNCdWZmZXIodCkpcmV0dXJuXCJCeXRlQXJyYXlcIjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGV0ZWN0Q29tcHJlc3Npb25Tb3VyY2VFbmNvZGluZzogaW5wdXQgbXVzdCBiZSBvZiB0eXBlICdzdHJpbmcnLCAnVWludDhBcnJheScgb3IgJ0J1ZmZlcidcIil9LGUuZW5jb2RlQ29tcHJlc3NlZEJ5dGVzPWZ1bmN0aW9uKGUsbil7c3dpdGNoKG4pe2Nhc2VcIkJ5dGVBcnJheVwiOnJldHVybiBlO2Nhc2VcIkJ1ZmZlclwiOnJldHVybiB0LkJ1ZmZlclRvb2xzLnVpbnQ4QXJyYXlUb0J1ZmZlcihlKTtjYXNlXCJCYXNlNjRcIjpyZXR1cm4gdC5lbmNvZGVCYXNlNjQoZSk7Y2FzZVwiQmluYXJ5U3RyaW5nXCI6cmV0dXJuIHQuZW5jb2RlQmluYXJ5U3RyaW5nKGUpO2Nhc2VcIlN0b3JhZ2VCaW5hcnlTdHJpbmdcIjpyZXR1cm4gdC5lbmNvZGVTdG9yYWdlQmluYXJ5U3RyaW5nKGUpO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kZUNvbXByZXNzZWRCeXRlczogaW52YWxpZCBvdXRwdXQgZW5jb2RpbmcgcmVxdWVzdGVkXCIpfX0sZS5kZWNvZGVDb21wcmVzc2VkQnl0ZXM9ZnVuY3Rpb24oZSxuKXtpZihudWxsPT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvZGVDb21wcmVzc2VkRGF0YTogSW5wdXQgaXMgbnVsbCBvciB1bmRlZmluZWRcIik7c3dpdGNoKG4pe2Nhc2VcIkJ5dGVBcnJheVwiOmNhc2VcIkJ1ZmZlclwiOnZhciByPXQuQnVmZmVyVG9vbHMuY29udmVydFRvVWludDhBcnJheUlmTmVlZGVkKGUpO2lmKCEociBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvZGVDb21wcmVzc2VkRGF0YTogJ0J5dGVBcnJheScgb3IgJ0J1ZmZlcicgaW5wdXQgdHlwZSB3YXMgc3BlY2lmaWVkIGJ1dCBpbnB1dCBpcyBub3QgYSBVaW50OEFycmF5IG9yIEJ1ZmZlclwiKTtyZXR1cm4gcjtjYXNlXCJCYXNlNjRcIjppZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb2RlQ29tcHJlc3NlZERhdGE6ICdCYXNlNjQnIGlucHV0IHR5cGUgd2FzIHNwZWNpZmllZCBidXQgaW5wdXQgaXMgbm90IGEgc3RyaW5nXCIpO3JldHVybiB0LmRlY29kZUJhc2U2NChlKTtjYXNlXCJCaW5hcnlTdHJpbmdcIjppZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb2RlQ29tcHJlc3NlZERhdGE6ICdCaW5hcnlTdHJpbmcnIGlucHV0IHR5cGUgd2FzIHNwZWNpZmllZCBidXQgaW5wdXQgaXMgbm90IGEgc3RyaW5nXCIpO3JldHVybiB0LmRlY29kZUJpbmFyeVN0cmluZyhlKTtjYXNlXCJTdG9yYWdlQmluYXJ5U3RyaW5nXCI6aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29kZUNvbXByZXNzZWREYXRhOiAnU3RvcmFnZUJpbmFyeVN0cmluZycgaW5wdXQgdHlwZSB3YXMgc3BlY2lmaWVkIGJ1dCBpbnB1dCBpcyBub3QgYSBzdHJpbmdcIik7cmV0dXJuIHQuZGVjb2RlU3RvcmFnZUJpbmFyeVN0cmluZyhlKTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvZGVDb21wcmVzc2VkRGF0YTogaW52YWxpZCBpbnB1dCBlbmNvZGluZyByZXF1ZXN0ZWQ6ICdcIi5jb25jYXQobixcIidcIikpfX0sZS5lbmNvZGVEZWNvbXByZXNzZWRCeXRlcz1mdW5jdGlvbihlLG4pe3N3aXRjaChuKXtjYXNlXCJTdHJpbmdcIjpyZXR1cm4gdC5kZWNvZGVVVEY4KGUpO2Nhc2VcIkJ5dGVBcnJheVwiOnJldHVybiBlO2Nhc2VcIkJ1ZmZlclwiOmlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIEJ1ZmZlcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RlRGVjb21wcmVzc2VkQnl0ZXM6IGEgJ0J1ZmZlcicgdHlwZSB3YXMgc3BlY2lmaWVkIGJ1dCBpcyBub3Qgc3VwcG9ydGVkIGF0IHRoZSBjdXJyZW50IGVudmlybm1lbnRcIik7cmV0dXJuIHQuQnVmZmVyVG9vbHMudWludDhBcnJheVRvQnVmZmVyKGUpO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kZURlY29tcHJlc3NlZEJ5dGVzOiBpbnZhbGlkIG91dHB1dCBlbmNvZGluZyByZXF1ZXN0ZWRcIil9fX0odC5Db21wcmVzc2lvbkNvbW1vbnx8KHQuQ29tcHJlc3Npb25Db21tb249e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZTshZnVuY3Rpb24oZSl7dmFyIG4scj1bXTtlLmVucXVldWVJbW1lZGlhdGU9ZnVuY3Rpb24odCl7ci5wdXNoKHQpLDE9PT1yLmxlbmd0aCYmbigpfSxlLmluaXRpYWxpemVTY2hlZHVsZXI9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLG49cjtlPG4ubGVuZ3RoO2UrKyl7dmFyIG89bltlXTt0cnl7by5jYWxsKHZvaWQgMCl9Y2F0Y2goZSl7dC5wcmludEV4Y2VwdGlvbkFuZFN0YWNrVHJhY2VUb0NvbnNvbGUoZSxcImVucXVldWVJbW1lZGlhdGUgZXhjZXB0aW9uXCIpfX1yLmxlbmd0aD0wfTtpZih0LnJ1bm5pbmdJbk5vZGVKUygpKW49ZnVuY3Rpb24oKXtyZXR1cm4gc2V0SW1tZWRpYXRlKChmdW5jdGlvbigpe3JldHVybiBlKCl9KSl9O2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5wb3N0TWVzc2FnZSl7dmFyIG8saT1cImVucXVldWVJbW1lZGlhdGUtXCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbih0KXt0LmRhdGE9PT1pJiZlKCl9KSksbz10LnJ1bm5pbmdJbk51bGxPcmlnaW4oKT9cIipcIjp3aW5kb3cubG9jYXRpb24uaHJlZixuPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5wb3N0TWVzc2FnZShpLG8pfX1lbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBNZXNzYWdlUG9ydCl7dmFyIGE9bmV3IE1lc3NhZ2VDaGFubmVsO2EucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIGUoKX0sbj1mdW5jdGlvbigpe3JldHVybiBhLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1lbHNlIG49ZnVuY3Rpb24oKXtyZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZSgpfSksMCl9fSxlLmluaXRpYWxpemVTY2hlZHVsZXIoKX0oZT10LkV2ZW50TG9vcHx8KHQuRXZlbnRMb29wPXt9KSksdC5lbnF1ZXVlSW1tZWRpYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmVucXVldWVJbW1lZGlhdGUodCl9fShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXt0Lm92ZXJyaWRlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZXh0ZW5kKGUsbil9LHQuZXh0ZW5kPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwib2JqIGlzIG51bGwgb3IgdW5kZWZpbmVkXCIpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJvYmogaXMgbm90IGFuIG9iamVjdFwiKTtpZihudWxsPT1lJiYoZT17fSksXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5ld1Byb3BlcnRpZXMgaXMgbm90IGFuIG9iamVjdFwiKTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gdH19KHQuT2JqZWN0VG9vbHN8fCh0Lk9iamVjdFRvb2xzPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dC5nZXRSYW5kb21JbnRlZ2VySW5SYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiB0K01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS10KSl9LHQuZ2V0UmFuZG9tVVRGMTZTdHJpbmdPZkxlbmd0aD1mdW5jdGlvbihlKXtmb3IodmFyIG49XCJcIixyPTA7cjxlO3IrKyl7dmFyIG89dm9pZCAwO2Rve289dC5nZXRSYW5kb21JbnRlZ2VySW5SYW5nZSgwLDExMTQxMTIpfXdoaWxlKG8+PTU1Mjk2JiZvPD01NzM0Myk7bis9dC5FbmNvZGluZy5Db2RlUG9pbnQuZGVjb2RlVG9TdHJpbmcobyl9cmV0dXJuIG59fShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0xMDI0KSx0aGlzLm91dHB1dEJ1ZmZlckNhcGFjaXR5PXQsdGhpcy5vdXRwdXRQb3NpdGlvbj0wLHRoaXMub3V0cHV0U3RyaW5nPVwiXCIsdGhpcy5vdXRwdXRCdWZmZXI9bmV3IFVpbnQxNkFycmF5KHRoaXMub3V0cHV0QnVmZmVyQ2FwYWNpdHkpfXJldHVybiB0LnByb3RvdHlwZS5hcHBlbmRDaGFyQ29kZT1mdW5jdGlvbih0KXt0aGlzLm91dHB1dEJ1ZmZlclt0aGlzLm91dHB1dFBvc2l0aW9uKytdPXQsdGhpcy5vdXRwdXRQb3NpdGlvbj09PXRoaXMub3V0cHV0QnVmZmVyQ2FwYWNpdHkmJnRoaXMuZmx1c2hCdWZmZXJUb091dHB1dFN0cmluZygpfSx0LnByb3RvdHlwZS5hcHBlbmRDaGFyQ29kZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuYXBwZW5kQ2hhckNvZGUodFtlXSl9LHQucHJvdG90eXBlLmFwcGVuZFN0cmluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdGhpcy5hcHBlbmRDaGFyQ29kZSh0LmNoYXJDb2RlQXQoZSkpfSx0LnByb3RvdHlwZS5hcHBlbmRDb2RlUG9pbnQ9ZnVuY3Rpb24odCl7aWYodDw9NjU1MzUpdGhpcy5hcHBlbmRDaGFyQ29kZSh0KTtlbHNle2lmKCEodDw9MTExNDExMSkpdGhyb3cgbmV3IEVycm9yKFwiYXBwZW5kQ29kZVBvaW50OiBBIGNvZGUgcG9pbnQgb2YgXCIuY29uY2F0KHQsXCIgY2Fubm90IGJlIGVuY29kZWQgaW4gVVRGLTE2XCIpKTt0aGlzLmFwcGVuZENoYXJDb2RlKDU1Mjk2Kyh0LTY1NTM2Pj4+MTApKSx0aGlzLmFwcGVuZENoYXJDb2RlKDU2MzIwKyh0LTY1NTM2JjEwMjMpKX19LHQucHJvdG90eXBlLmdldE91dHB1dFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZsdXNoQnVmZmVyVG9PdXRwdXRTdHJpbmcoKSx0aGlzLm91dHB1dFN0cmluZ30sdC5wcm90b3R5cGUuZmx1c2hCdWZmZXJUb091dHB1dFN0cmluZz1mdW5jdGlvbigpe3RoaXMub3V0cHV0UG9zaXRpb249PT10aGlzLm91dHB1dEJ1ZmZlckNhcGFjaXR5P3RoaXMub3V0cHV0U3RyaW5nKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdGhpcy5vdXRwdXRCdWZmZXIpOnRoaXMub3V0cHV0U3RyaW5nKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdGhpcy5vdXRwdXRCdWZmZXIuc3ViYXJyYXkoMCx0aGlzLm91dHB1dFBvc2l0aW9uKSksdGhpcy5vdXRwdXRQb3NpdGlvbj0wfSx0fSgpO3QuU3RyaW5nQnVpbGRlcj1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMucmVzdGFydCgpfXJldHVybiBlLnByb3RvdHlwZS5yZXN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zdGFydFRpbWU9ZS5nZXRUaW1lc3RhbXAoKX0sZS5wcm90b3R5cGUuZ2V0RWxhcHNlZFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRUaW1lc3RhbXAoKS10aGlzLnN0YXJ0VGltZX0sZS5wcm90b3R5cGUuZ2V0RWxhcHNlZFRpbWVBbmRSZXN0YXJ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFbGFwc2VkVGltZSgpO3JldHVybiB0aGlzLnJlc3RhcnQoKSx0fSxlLnByb3RvdHlwZS5sb2dBbmRSZXN0YXJ0PWZ1bmN0aW9uKGUsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciByPXRoaXMuZ2V0RWxhcHNlZFRpbWUoKSxvPVwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQoci50b0ZpeGVkKDMpLFwibXNcIik7cmV0dXJuIHQubG9nKG8sbiksdGhpcy5yZXN0YXJ0KCkscn0sZS5nZXRUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lc3RhbXBGdW5jfHx0aGlzLmNyZWF0ZUdsb2JhbFRpbWVzdGFtcEZ1bmN0aW9uKCksdGhpcy50aW1lc3RhbXBGdW5jKCl9LGUuZ2V0TWljcm9zZWNvbmRUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigxZTMqZS5nZXRUaW1lc3RhbXAoKSl9LGUuY3JlYXRlR2xvYmFsVGltZXN0YW1wRnVuY3Rpb249ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgcHJvY2Vzcy5ocnRpbWUpe3ZhciB0PTA7dGhpcy50aW1lc3RhbXBGdW5jPWZ1bmN0aW9uKCl7dmFyIGU9cHJvY2Vzcy5ocnRpbWUoKSxuPTFlMyplWzBdK2VbMV0vMWU2O3JldHVybiB0K259LHQ9RGF0ZS5ub3coKS10aGlzLnRpbWVzdGFtcEZ1bmMoKX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBjaHJvbWUmJmNocm9tZS5JbnRlcnZhbCl7dmFyIGU9RGF0ZS5ub3coKSxuPW5ldyBjaHJvbWUuSW50ZXJ2YWw7bi5zdGFydCgpLHRoaXMudGltZXN0YW1wRnVuYz1mdW5jdGlvbigpe3JldHVybiBlK24ubWljcm9zZWNvbmRzKCkvMWUzfX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2Uubm93KXt2YXIgcj1EYXRlLm5vdygpLXBlcmZvcm1hbmNlLm5vdygpO3RoaXMudGltZXN0YW1wRnVuYz1mdW5jdGlvbigpe3JldHVybiByK3BlcmZvcm1hbmNlLm5vdygpfX1lbHNlIERhdGUubm93P3RoaXMudGltZXN0YW1wRnVuYz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpfTp0aGlzLnRpbWVzdGFtcEZ1bmM9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19LGV9KCk7dC5UaW1lcj1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5NaW5pbXVtU2VxdWVuY2VMZW5ndGg9NCx0aGlzLk1heGltdW1TZXF1ZW5jZUxlbmd0aD0zMSx0aGlzLk1heGltdW1NYXRjaERpc3RhbmNlPTMyNzY3LHRoaXMuUHJlZml4SGFzaFRhYmxlU2l6ZT02NTUzNyx0aGlzLmlucHV0QnVmZmVyU3RyZWFtT2Zmc2V0PTEsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDMyQXJyYXk/dGhpcy5wcmVmaXhIYXNoVGFibGU9bmV3IHQuQ29tcHJlc3NvckN1c3RvbUhhc2hUYWJsZSh0aGlzLlByZWZpeEhhc2hUYWJsZVNpemUpOnRoaXMucHJlZml4SGFzaFRhYmxlPW5ldyB0LkNvbXByZXNzb3JTaW1wbGVIYXNoVGFibGUodGhpcy5QcmVmaXhIYXNoVGFibGVTaXplKX1yZXR1cm4gZS5wcm90b3R5cGUuY29tcHJlc3NCbG9jaz1mdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjb21wcmVzc0Jsb2NrOiB1bmRlZmluZWQgb3IgbnVsbCBpbnB1dCByZWNlaXZlZFwiKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dC5lbmNvZGVVVEY4KGUpKSxlPXQuQnVmZmVyVG9vbHMuY29udmVydFRvVWludDhBcnJheUlmTmVlZGVkKGUpLHRoaXMuY29tcHJlc3NVdGY4QmxvY2soZSl9LGUucHJvdG90eXBlLmNvbXByZXNzVXRmOEJsb2NrPWZ1bmN0aW9uKHQpe2lmKCF0fHwwPT10Lmxlbmd0aClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7dmFyIGU9dGhpcy5jcm9wQW5kQWRkTmV3Qnl0ZXNUb0lucHV0QnVmZmVyKHQpLG49dGhpcy5pbnB1dEJ1ZmZlcixyPXRoaXMuaW5wdXRCdWZmZXIubGVuZ3RoO3RoaXMub3V0cHV0QnVmZmVyPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSx0aGlzLm91dHB1dEJ1ZmZlclBvc2l0aW9uPTA7Zm9yKHZhciBvPTAsaT1lO2k8cjtpKyspe3ZhciBhPW5baV0scz1pPG87aWYoaT5yLXRoaXMuTWluaW11bVNlcXVlbmNlTGVuZ3RoKXN8fHRoaXMub3V0cHV0UmF3Qnl0ZShhKTtlbHNle3ZhciB1PXRoaXMuZ2V0QnVja2V0SW5kZXhGb3JQcmVmaXgoaSk7aWYoIXMpe3ZhciBsPXRoaXMuZmluZExvbmdlc3RNYXRjaChpLHUpO251bGwhPWwmJih0aGlzLm91dHB1dFBvaW50ZXJCeXRlcyhsLmxlbmd0aCxsLmRpc3RhbmNlKSxvPWkrbC5sZW5ndGgscz0hMCl9c3x8dGhpcy5vdXRwdXRSYXdCeXRlKGEpO3ZhciBjPXRoaXMuaW5wdXRCdWZmZXJTdHJlYW1PZmZzZXQraTt0aGlzLnByZWZpeEhhc2hUYWJsZS5hZGRWYWx1ZVRvQnVja2V0KHUsYyl9fXJldHVybiB0aGlzLm91dHB1dEJ1ZmZlci5zdWJhcnJheSgwLHRoaXMub3V0cHV0QnVmZmVyUG9zaXRpb24pfSxlLnByb3RvdHlwZS5maW5kTG9uZ2VzdE1hdGNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5wcmVmaXhIYXNoVGFibGUuZ2V0QXJyYXlTZWdtZW50Rm9yQnVja2V0SW5kZXgoZSx0aGlzLnJldXNhYmxlQXJyYXlTZWdtZW50T2JqZWN0KTtpZihudWxsPT1uKXJldHVybiBudWxsO2Zvcih2YXIgcixvPXRoaXMuaW5wdXRCdWZmZXIsaT0wLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHM9bi5nZXRJblJldmVyc2VkT3JkZXIoYSktdGhpcy5pbnB1dEJ1ZmZlclN0cmVhbU9mZnNldCx1PXQtcyxsPXZvaWQgMDtpZihsPXZvaWQgMD09PXI/dGhpcy5NaW5pbXVtU2VxdWVuY2VMZW5ndGgtMTpyPDEyOCYmdT49MTI4P2krKGk+Pj4xKTppLHU+dGhpcy5NYXhpbXVtTWF0Y2hEaXN0YW5jZXx8bD49dGhpcy5NYXhpbXVtU2VxdWVuY2VMZW5ndGh8fHQrbD49by5sZW5ndGgpYnJlYWs7aWYob1tzK2xdPT09b1t0K2xdKWZvcih2YXIgYz0wOztjKyspe2lmKHQrYz09PW8ubGVuZ3RofHxvW3MrY10hPT1vW3QrY10pe2M+bCYmKHI9dSxpPWMpO2JyZWFrfWlmKGM9PT10aGlzLk1heGltdW1TZXF1ZW5jZUxlbmd0aClyZXR1cm57ZGlzdGFuY2U6dSxsZW5ndGg6dGhpcy5NYXhpbXVtU2VxdWVuY2VMZW5ndGh9fX1yZXR1cm4gdm9pZCAwIT09cj97ZGlzdGFuY2U6cixsZW5ndGg6aX06bnVsbH0sZS5wcm90b3R5cGUuZ2V0QnVja2V0SW5kZXhGb3JQcmVmaXg9ZnVuY3Rpb24odCl7cmV0dXJuKDc4ODA1OTkqdGhpcy5pbnB1dEJ1ZmZlclt0XSszOTYwMSp0aGlzLmlucHV0QnVmZmVyW3QrMV0rMTk5KnRoaXMuaW5wdXRCdWZmZXJbdCsyXSt0aGlzLmlucHV0QnVmZmVyW3QrM10pJXRoaXMuUHJlZml4SGFzaFRhYmxlU2l6ZX0sZS5wcm90b3R5cGUub3V0cHV0UG9pbnRlckJ5dGVzPWZ1bmN0aW9uKHQsZSl7ZTwxMjg/KHRoaXMub3V0cHV0UmF3Qnl0ZSgxOTJ8dCksdGhpcy5vdXRwdXRSYXdCeXRlKGUpKToodGhpcy5vdXRwdXRSYXdCeXRlKDIyNHx0KSx0aGlzLm91dHB1dFJhd0J5dGUoZT4+PjgpLHRoaXMub3V0cHV0UmF3Qnl0ZSgyNTUmZSkpfSxlLnByb3RvdHlwZS5vdXRwdXRSYXdCeXRlPWZ1bmN0aW9uKHQpe3RoaXMub3V0cHV0QnVmZmVyW3RoaXMub3V0cHV0QnVmZmVyUG9zaXRpb24rK109dH0sZS5wcm90b3R5cGUuY3JvcEFuZEFkZE5ld0J5dGVzVG9JbnB1dEJ1ZmZlcj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT10aGlzLmlucHV0QnVmZmVyKXJldHVybiB0aGlzLmlucHV0QnVmZmVyPWUsMDt2YXIgbj1NYXRoLm1pbih0aGlzLmlucHV0QnVmZmVyLmxlbmd0aCx0aGlzLk1heGltdW1NYXRjaERpc3RhbmNlKSxyPXRoaXMuaW5wdXRCdWZmZXIubGVuZ3RoLW47cmV0dXJuIHRoaXMuaW5wdXRCdWZmZXI9dC5Db21wcmVzc2lvbkNvbW1vbi5nZXRDcm9wcGVkQW5kQXBwZW5kZWRCeXRlQXJyYXkodGhpcy5pbnB1dEJ1ZmZlcixyLG4sZSksdGhpcy5pbnB1dEJ1ZmZlclN0cmVhbU9mZnNldCs9cixufSxlfSgpO3QuQ29tcHJlc3Nvcj1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzLm1pbmltdW1CdWNrZXRDYXBhY2l0eT00LHRoaXMubWF4aW11bUJ1Y2tldENhcGFjaXR5PTY0LHRoaXMuYnVja2V0TG9jYXRvcnM9bmV3IFVpbnQzMkFycmF5KDIqdCksdGhpcy5zdG9yYWdlPW5ldyBVaW50MzJBcnJheSgyKnQpLHRoaXMuc3RvcmFnZUluZGV4PTF9cmV0dXJuIGUucHJvdG90eXBlLmFkZFZhbHVlVG9CdWNrZXQ9ZnVuY3Rpb24oZSxuKXtlPDw9MSx0aGlzLnN0b3JhZ2VJbmRleD49dGhpcy5zdG9yYWdlLmxlbmd0aD4+PjEmJnRoaXMuY29tcGFjdCgpO3ZhciByLG89dGhpcy5idWNrZXRMb2NhdG9yc1tlXTtpZigwPT09bylvPXRoaXMuc3RvcmFnZUluZGV4LHI9MSx0aGlzLnN0b3JhZ2VbdGhpcy5zdG9yYWdlSW5kZXhdPW4sdGhpcy5zdG9yYWdlSW5kZXgrPXRoaXMubWluaW11bUJ1Y2tldENhcGFjaXR5O2Vsc2V7KHI9dGhpcy5idWNrZXRMb2NhdG9yc1tlKzFdKT09PXRoaXMubWF4aW11bUJ1Y2tldENhcGFjaXR5LTEmJihyPXRoaXMudHJ1bmNhdGVCdWNrZXRUb05ld2VyRWxlbWVudHMobyxyLHRoaXMubWF4aW11bUJ1Y2tldENhcGFjaXR5LzIpKTt2YXIgaT1vK3I7MD09PXRoaXMuc3RvcmFnZVtpXT8odGhpcy5zdG9yYWdlW2ldPW4saT09PXRoaXMuc3RvcmFnZUluZGV4JiYodGhpcy5zdG9yYWdlSW5kZXgrPXIpKToodC5BcnJheVRvb2xzLmNvcHlFbGVtZW50cyh0aGlzLnN0b3JhZ2Usbyx0aGlzLnN0b3JhZ2UsdGhpcy5zdG9yYWdlSW5kZXgsciksbz10aGlzLnN0b3JhZ2VJbmRleCx0aGlzLnN0b3JhZ2VJbmRleCs9cix0aGlzLnN0b3JhZ2VbdGhpcy5zdG9yYWdlSW5kZXgrK109bix0aGlzLnN0b3JhZ2VJbmRleCs9cikscisrfXRoaXMuYnVja2V0TG9jYXRvcnNbZV09byx0aGlzLmJ1Y2tldExvY2F0b3JzW2UrMV09cn0sZS5wcm90b3R5cGUudHJ1bmNhdGVCdWNrZXRUb05ld2VyRWxlbWVudHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPWUrbi1yO3JldHVybiB0LkFycmF5VG9vbHMuY29weUVsZW1lbnRzKHRoaXMuc3RvcmFnZSxvLHRoaXMuc3RvcmFnZSxlLHIpLHQuQXJyYXlUb29scy56ZXJvRWxlbWVudHModGhpcy5zdG9yYWdlLGUrcixuLXIpLHJ9LGUucHJvdG90eXBlLmNvbXBhY3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ1Y2tldExvY2F0b3JzLG49dGhpcy5zdG9yYWdlO3RoaXMuYnVja2V0TG9jYXRvcnM9bmV3IFVpbnQzMkFycmF5KHRoaXMuYnVja2V0TG9jYXRvcnMubGVuZ3RoKSx0aGlzLnN0b3JhZ2VJbmRleD0xO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cis9Mil7dmFyIG89ZVtyKzFdOzAhPT1vJiYodGhpcy5idWNrZXRMb2NhdG9yc1tyXT10aGlzLnN0b3JhZ2VJbmRleCx0aGlzLmJ1Y2tldExvY2F0b3JzW3IrMV09byx0aGlzLnN0b3JhZ2VJbmRleCs9TWF0aC5tYXgoTWF0aC5taW4oMipvLHRoaXMubWF4aW11bUJ1Y2tldENhcGFjaXR5KSx0aGlzLm1pbmltdW1CdWNrZXRDYXBhY2l0eSkpfXRoaXMuc3RvcmFnZT1uZXcgVWludDMyQXJyYXkoOCp0aGlzLnN0b3JhZ2VJbmRleCk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrPTIpe3ZhciBpPWVbcl07aWYoMCE9PWkpe3ZhciBhPXRoaXMuYnVja2V0TG9jYXRvcnNbcl0scz10aGlzLmJ1Y2tldExvY2F0b3JzW3IrMV07dC5BcnJheVRvb2xzLmNvcHlFbGVtZW50cyhuLGksdGhpcy5zdG9yYWdlLGEscyl9fX0sZS5wcm90b3R5cGUuZ2V0QXJyYXlTZWdtZW50Rm9yQnVja2V0SW5kZXg9ZnVuY3Rpb24oZSxuKXtlPDw9MTt2YXIgcj10aGlzLmJ1Y2tldExvY2F0b3JzW2VdO3JldHVybiAwPT09cj9udWxsOih2b2lkIDA9PT1uJiYobj1uZXcgdC5BcnJheVNlZ21lbnQodGhpcy5zdG9yYWdlLHIsdGhpcy5idWNrZXRMb2NhdG9yc1tlKzFdKSksbil9LGUucHJvdG90eXBlLmdldFVzZWRCdWNrZXRDb3VudD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHQuQXJyYXlUb29scy5jb3VudE5vbnplcm9WYWx1ZXNJbkFycmF5KHRoaXMuYnVja2V0TG9jYXRvcnMpLzIpfSxlLnByb3RvdHlwZS5nZXRUb3RhbEVsZW1lbnRDb3VudD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtlPHRoaXMuYnVja2V0TG9jYXRvcnMubGVuZ3RoO2UrPTIpdCs9dGhpcy5idWNrZXRMb2NhdG9yc1tlKzFdO3JldHVybiB0fSxlfSgpO3QuQ29tcHJlc3NvckN1c3RvbUhhc2hUYWJsZT1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzLm1heGltdW1CdWNrZXRDYXBhY2l0eT02NCx0aGlzLmJ1Y2tldHM9bmV3IEFycmF5KHQpfXJldHVybiBlLnByb3RvdHlwZS5hZGRWYWx1ZVRvQnVja2V0PWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcy5idWNrZXRzW2VdO3ZvaWQgMD09PXI/dGhpcy5idWNrZXRzW2VdPVtuXTooci5sZW5ndGg9PT10aGlzLm1heGltdW1CdWNrZXRDYXBhY2l0eS0xJiZ0LkFycmF5VG9vbHMudHJ1bmNhdGVTdGFydGluZ0VsZW1lbnRzKHIsdGhpcy5tYXhpbXVtQnVja2V0Q2FwYWNpdHkvMiksci5wdXNoKG4pKX0sZS5wcm90b3R5cGUuZ2V0QXJyYXlTZWdtZW50Rm9yQnVja2V0SW5kZXg9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLmJ1Y2tldHNbZV07cmV0dXJuIHZvaWQgMD09PXI/bnVsbDoodm9pZCAwPT09biYmKG49bmV3IHQuQXJyYXlTZWdtZW50KHIsMCxyLmxlbmd0aCkpLG4pfSxlLnByb3RvdHlwZS5nZXRVc2VkQnVja2V0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5BcnJheVRvb2xzLmNvdW50Tm9uemVyb1ZhbHVlc0luQXJyYXkodGhpcy5idWNrZXRzKX0sZS5wcm90b3R5cGUuZ2V0VG90YWxFbGVtZW50Q291bnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLmJ1Y2tldHMubGVuZ3RoO2UrKyl2b2lkIDAhPT10aGlzLmJ1Y2tldHNbZV0mJih0Kz10aGlzLmJ1Y2tldHNbZV0ubGVuZ3RoKTtyZXR1cm4gdH0sZX0oKTt0LkNvbXByZXNzb3JTaW1wbGVIYXNoVGFibGU9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLk1heGltdW1NYXRjaERpc3RhbmNlPTMyNzY3LHRoaXMub3V0cHV0UG9zaXRpb249MH1yZXR1cm4gZS5wcm90b3R5cGUuZGVjb21wcmVzc0Jsb2NrVG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dC5CdWZmZXJUb29scy5jb252ZXJ0VG9VaW50OEFycmF5SWZOZWVkZWQoZSksdC5kZWNvZGVVVEY4KHRoaXMuZGVjb21wcmVzc0Jsb2NrKGUpKX0sZS5wcm90b3R5cGUuZGVjb21wcmVzc0Jsb2NrPWZ1bmN0aW9uKGUpe3RoaXMuaW5wdXRCdWZmZXJSZW1haW5kZXImJihlPXQuQXJyYXlUb29scy5jb25jYXRVaW50OEFycmF5cyhbdGhpcy5pbnB1dEJ1ZmZlclJlbWFpbmRlcixlXSksdGhpcy5pbnB1dEJ1ZmZlclJlbWFpbmRlcj12b2lkIDApO2Zvcih2YXIgbj10aGlzLmNyb3BPdXRwdXRCdWZmZXJUb1dpbmRvd0FuZEluaXRpYWxpemUoTWF0aC5tYXgoNCplLmxlbmd0aCwxMDI0KSkscj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTtpZihpPj4+Nj09Myl7dmFyIGE9aT4+PjU7aWYocj09by0xfHxyPT1vLTImJjc9PWEpe3RoaXMuaW5wdXRCdWZmZXJSZW1haW5kZXI9ZS5zdWJhcnJheShyKTticmVha31pZihlW3IrMV0+Pj43PT0xKXRoaXMub3V0cHV0Qnl0ZShpKTtlbHNle3ZhciBzPTMxJmksdT12b2lkIDA7Nj09YT8odT1lW3IrMV0scis9MSk6KHU9ZVtyKzFdPDw4fGVbcisyXSxyKz0yKTtmb3IodmFyIGw9dGhpcy5vdXRwdXRQb3NpdGlvbi11LGM9MDtjPHM7YysrKXRoaXMub3V0cHV0Qnl0ZSh0aGlzLm91dHB1dEJ1ZmZlcltsK2NdKX19ZWxzZSB0aGlzLm91dHB1dEJ5dGUoaSl9cmV0dXJuIHRoaXMucm9sbEJhY2tJZk91dHB1dEJ1ZmZlckVuZHNXaXRoQVRydW5jYXRlZE11bHRpYnl0ZVNlcXVlbmNlKCksdC5Db21wcmVzc2lvbkNvbW1vbi5nZXRDcm9wcGVkQnVmZmVyKHRoaXMub3V0cHV0QnVmZmVyLG4sdGhpcy5vdXRwdXRQb3NpdGlvbi1uKX0sZS5wcm90b3R5cGUub3V0cHV0Qnl0ZT1mdW5jdGlvbihlKXt0aGlzLm91dHB1dFBvc2l0aW9uPT09dGhpcy5vdXRwdXRCdWZmZXIubGVuZ3RoJiYodGhpcy5vdXRwdXRCdWZmZXI9dC5BcnJheVRvb2xzLmRvdWJsZUJ5dGVBcnJheUNhcGFjaXR5KHRoaXMub3V0cHV0QnVmZmVyKSksdGhpcy5vdXRwdXRCdWZmZXJbdGhpcy5vdXRwdXRQb3NpdGlvbisrXT1lfSxlLnByb3RvdHlwZS5jcm9wT3V0cHV0QnVmZmVyVG9XaW5kb3dBbmRJbml0aWFsaXplPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm91dHB1dEJ1ZmZlcilyZXR1cm4gdGhpcy5vdXRwdXRCdWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksMDt2YXIgbj1NYXRoLm1pbih0aGlzLm91dHB1dFBvc2l0aW9uLHRoaXMuTWF4aW11bU1hdGNoRGlzdGFuY2UpO2lmKHRoaXMub3V0cHV0QnVmZmVyPXQuQ29tcHJlc3Npb25Db21tb24uZ2V0Q3JvcHBlZEJ1ZmZlcih0aGlzLm91dHB1dEJ1ZmZlcix0aGlzLm91dHB1dFBvc2l0aW9uLW4sbixlKSx0aGlzLm91dHB1dFBvc2l0aW9uPW4sdGhpcy5vdXRwdXRCdWZmZXJSZW1haW5kZXIpe2Zvcih2YXIgcj0wO3I8dGhpcy5vdXRwdXRCdWZmZXJSZW1haW5kZXIubGVuZ3RoO3IrKyl0aGlzLm91dHB1dEJ5dGUodGhpcy5vdXRwdXRCdWZmZXJSZW1haW5kZXJbcl0pO3RoaXMub3V0cHV0QnVmZmVyUmVtYWluZGVyPXZvaWQgMH1yZXR1cm4gbn0sZS5wcm90b3R5cGUucm9sbEJhY2tJZk91dHB1dEJ1ZmZlckVuZHNXaXRoQVRydW5jYXRlZE11bHRpYnl0ZVNlcXVlbmNlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTE7dDw9NCYmdGhpcy5vdXRwdXRQb3NpdGlvbi10Pj0wO3QrKyl7dmFyIGU9dGhpcy5vdXRwdXRCdWZmZXJbdGhpcy5vdXRwdXRQb3NpdGlvbi10XTtpZih0PDQmJmU+Pj4zPT0zMHx8dDwzJiZlPj4+ND09MTR8fHQ8MiYmZT4+PjU9PTYpcmV0dXJuIHRoaXMub3V0cHV0QnVmZmVyUmVtYWluZGVyPXRoaXMub3V0cHV0QnVmZmVyLnN1YmFycmF5KHRoaXMub3V0cHV0UG9zaXRpb24tdCx0aGlzLm91dHB1dFBvc2l0aW9uKSx2b2lkKHRoaXMub3V0cHV0UG9zaXRpb24tPXQpfX0sZX0oKTt0LkRlY29tcHJlc3Nvcj1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIG49bmV3IFVpbnQ4QXJyYXkoWzY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA4LDEwOSwxMTAsMTExLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNDMsNDddKSxyPW5ldyBVaW50OEFycmF5KFsyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsNjIsMjU1LDI1NSwyNTUsNjMsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsMjU1LDI1NSwyNTUsMCwyNTUsMjU1LDI1NSwwLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDI1NSwyNTUsMjU1LDI1NV0pO2UuZW5jb2RlPWZ1bmN0aW9uKG4pe3JldHVybiBuJiYwIT1uLmxlbmd0aD90LnJ1bm5pbmdJbk5vZGVKUygpP3QuQnVmZmVyVG9vbHMudWludDhBcnJheVRvQnVmZmVyKG4pLnRvU3RyaW5nKFwiYmFzZTY0XCIpOmUuZW5jb2RlV2l0aEpTKG4pOlwiXCJ9LGUuZGVjb2RlPWZ1bmN0aW9uKG4pe3JldHVybiBuP3QucnVubmluZ0luTm9kZUpTKCk/dC5CdWZmZXJUb29scy5idWZmZXJUb1VpbnQ4QXJyYXkoQnVmZmVyLmZyb20obixcImJhc2U2NFwiKSk6ZS5kZWNvZGVXaXRoSlMobik6bmV3IFVpbnQ4QXJyYXkoMCl9LGUuZW5jb2RlV2l0aEpTPWZ1bmN0aW9uKGUscil7aWYodm9pZCAwPT09ciYmKHI9ITApLCFlfHwwPT1lLmxlbmd0aClyZXR1cm5cIlwiO2Zvcih2YXIgbyxpPW4sYT1uZXcgdC5TdHJpbmdCdWlsZGVyLHM9MCx1PWUubGVuZ3RoO3M8dTtzKz0zKXM8PXUtMz8obz1lW3NdPDwxNnxlW3MrMV08PDh8ZVtzKzJdLGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+MTgmNjNdKSxhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjEyJjYzXSksYS5hcHBlbmRDaGFyQ29kZShpW28+Pj42JjYzXSksYS5hcHBlbmRDaGFyQ29kZShpWzYzJm9dKSxvPTApOnM9PT11LTI/KG89ZVtzXTw8MTZ8ZVtzKzFdPDw4LGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+MTgmNjNdKSxhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjEyJjYzXSksYS5hcHBlbmRDaGFyQ29kZShpW28+Pj42JjYzXSksciYmYS5hcHBlbmRDaGFyQ29kZSg2MSkpOnM9PT11LTEmJihvPWVbc108PDE2LGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+MTgmNjNdKSxhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjEyJjYzXSksciYmKGEuYXBwZW5kQ2hhckNvZGUoNjEpLGEuYXBwZW5kQ2hhckNvZGUoNjEpKSk7cmV0dXJuIGEuZ2V0T3V0cHV0U3RyaW5nKCl9LGUuZGVjb2RlV2l0aEpTPWZ1bmN0aW9uKHQsZSl7aWYoIXR8fDA9PXQubGVuZ3RoKXJldHVybiBuZXcgVWludDhBcnJheSgwKTt2YXIgbj10Lmxlbmd0aCU0O2lmKDE9PT1uKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQmFzZTY0IHN0cmluZzogbGVuZ3RoICUgNCA9PSAxXCIpOzI9PT1uP3QrPVwiPT1cIjozPT09biYmKHQrPVwiPVwiKSxlfHwoZT1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCkpO2Zvcih2YXIgbz0wLGk9dC5sZW5ndGgsYT0wO2E8aTthKz00KXt2YXIgcz1yW3QuY2hhckNvZGVBdChhKV08PDE4fHJbdC5jaGFyQ29kZUF0KGErMSldPDwxMnxyW3QuY2hhckNvZGVBdChhKzIpXTw8NnxyW3QuY2hhckNvZGVBdChhKzMpXTtlW28rK109cz4+PjE2JjI1NSxlW28rK109cz4+PjgmMjU1LGVbbysrXT0yNTUmc31yZXR1cm4gNjE9PXQuY2hhckNvZGVBdChpLTEpJiZvLS0sNjE9PXQuY2hhckNvZGVBdChpLTIpJiZvLS0sZS5zdWJhcnJheSgwLG8pfX0oZS5CYXNlNjR8fChlLkJhc2U2ND17fSkpfSh0LkVuY29kaW5nfHwodC5FbmNvZGluZz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5lbmNvZGU9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQmluYXJ5U3RyaW5nLmVuY29kZTogdW5kZWZpbmVkIG9yIG51bGwgaW5wdXQgcmVjZWl2ZWRcIik7aWYoMD09PWUubGVuZ3RoKXJldHVyblwiXCI7Zm9yKHZhciBuPWUubGVuZ3RoLHI9bmV3IHQuU3RyaW5nQnVpbGRlcixvPTAsaT0xLGE9MDthPG47YSs9Mil7dmFyIHM9dm9pZCAwO3M9YT09bi0xP2VbYV08PDg6ZVthXTw8OHxlW2ErMV0sci5hcHBlbmRDaGFyQ29kZShvPDwxNi1pfHM+Pj5pKSxvPXMmKDE8PGkpLTEsMTU9PT1pPyhyLmFwcGVuZENoYXJDb2RlKG8pLG89MCxpPTEpOmkrPTEsYT49bi0yJiZyLmFwcGVuZENoYXJDb2RlKG88PDE2LWkpfXJldHVybiByLmFwcGVuZENoYXJDb2RlKDMyNzY4fG4lMiksci5nZXRPdXRwdXRTdHJpbmcoKX0sZS5kZWNvZGU9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkJpbmFyeVN0cmluZy5kZWNvZGU6IGludmFsaWQgaW5wdXQgdHlwZVwiKTtpZihcIlwiPT10KXJldHVybiBuZXcgVWludDhBcnJheSgwKTtmb3IodmFyIGU9bmV3IFVpbnQ4QXJyYXkoMyp0Lmxlbmd0aCksbj0wLHI9ZnVuY3Rpb24odCl7ZVtuKytdPXQ+Pj44LGVbbisrXT0yNTUmdH0sbz0wLGk9MCxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXQuY2hhckNvZGVBdChhKTtzPj0zMjc2OD8oMzI3Njk9PXMmJm4tLSxpPTApOigwPT1pP289czoocihvPDxpfHM+Pj4xNS1pKSxvPXMmKDE8PDE1LWkpLTEpLDE1PT1pP2k9MDppKz0xKX1yZXR1cm4gZS5zdWJhcnJheSgwLG4pfX0oZS5CaW5hcnlTdHJpbmd8fChlLkJpbmFyeVN0cmluZz17fSkpfSh0LkVuY29kaW5nfHwodC5FbmNvZGluZz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7dC5lbmNvZGVGcm9tU3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jaGFyQ29kZUF0KGUpO2lmKG48NTUyOTZ8fG4+NTYzMTkpcmV0dXJuIG47dmFyIHI9dC5jaGFyQ29kZUF0KGUrMSk7aWYocj49NTYzMjAmJnI8PTU3MzQzKXJldHVybiByLTU2MzIwKyhuLTU1Mjk2PDwxMCkrNjU1MzY7dGhyb3cgbmV3IEVycm9yKFwiZ2V0VW5pY29kZUNvZGVQb2ludDogUmVjZWl2ZWQgYSBsZWFkIHN1cnJvZ2F0ZSBjaGFyYWN0ZXIsIGNoYXIgY29kZSBcIi5jb25jYXQobixcIiwgZm9sbG93ZWQgYnkgXCIpLmNvbmNhdChyLFwiLCB3aGljaCBpcyBub3QgYSB0cmFpbGluZyBzdXJyb2dhdGUgY2hhcmFjdGVyIGNvZGUuXCIpKX0sdC5kZWNvZGVUb1N0cmluZz1mdW5jdGlvbih0KXtpZih0PD02NTUzNSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0KTtpZih0PD0xMTE0MTExKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2Kyh0LTY1NTM2Pj4+MTApLDU2MzIwKyh0LTY1NTM2JjEwMjMpKTt0aHJvdyBuZXcgRXJyb3IoXCJnZXRTdHJpbmdGcm9tVW5pY29kZUNvZGVQb2ludDogQSBjb2RlIHBvaW50IG9mIFwiLmNvbmNhdCh0LFwiIGNhbm5vdCBiZSBlbmNvZGVkIGluIFVURi0xNlwiKSl9fSh0LkNvZGVQb2ludHx8KHQuQ29kZVBvaW50PXt9KSl9KHQuRW5jb2Rpbmd8fCh0LkVuY29kaW5nPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXt2YXIgZT1bXCIwMDBcIixcIjAwMVwiLFwiMDAyXCIsXCIwMDNcIixcIjAwNFwiLFwiMDA1XCIsXCIwMDZcIixcIjAwN1wiLFwiMDA4XCIsXCIwMDlcIixcIjAxMFwiLFwiMDExXCIsXCIwMTJcIixcIjAxM1wiLFwiMDE0XCIsXCIwMTVcIixcIjAxNlwiLFwiMDE3XCIsXCIwMThcIixcIjAxOVwiLFwiMDIwXCIsXCIwMjFcIixcIjAyMlwiLFwiMDIzXCIsXCIwMjRcIixcIjAyNVwiLFwiMDI2XCIsXCIwMjdcIixcIjAyOFwiLFwiMDI5XCIsXCIwMzBcIixcIjAzMVwiLFwiMDMyXCIsXCIwMzNcIixcIjAzNFwiLFwiMDM1XCIsXCIwMzZcIixcIjAzN1wiLFwiMDM4XCIsXCIwMzlcIixcIjA0MFwiLFwiMDQxXCIsXCIwNDJcIixcIjA0M1wiLFwiMDQ0XCIsXCIwNDVcIixcIjA0NlwiLFwiMDQ3XCIsXCIwNDhcIixcIjA0OVwiLFwiMDUwXCIsXCIwNTFcIixcIjA1MlwiLFwiMDUzXCIsXCIwNTRcIixcIjA1NVwiLFwiMDU2XCIsXCIwNTdcIixcIjA1OFwiLFwiMDU5XCIsXCIwNjBcIixcIjA2MVwiLFwiMDYyXCIsXCIwNjNcIixcIjA2NFwiLFwiMDY1XCIsXCIwNjZcIixcIjA2N1wiLFwiMDY4XCIsXCIwNjlcIixcIjA3MFwiLFwiMDcxXCIsXCIwNzJcIixcIjA3M1wiLFwiMDc0XCIsXCIwNzVcIixcIjA3NlwiLFwiMDc3XCIsXCIwNzhcIixcIjA3OVwiLFwiMDgwXCIsXCIwODFcIixcIjA4MlwiLFwiMDgzXCIsXCIwODRcIixcIjA4NVwiLFwiMDg2XCIsXCIwODdcIixcIjA4OFwiLFwiMDg5XCIsXCIwOTBcIixcIjA5MVwiLFwiMDkyXCIsXCIwOTNcIixcIjA5NFwiLFwiMDk1XCIsXCIwOTZcIixcIjA5N1wiLFwiMDk4XCIsXCIwOTlcIixcIjEwMFwiLFwiMTAxXCIsXCIxMDJcIixcIjEwM1wiLFwiMTA0XCIsXCIxMDVcIixcIjEwNlwiLFwiMTA3XCIsXCIxMDhcIixcIjEwOVwiLFwiMTEwXCIsXCIxMTFcIixcIjExMlwiLFwiMTEzXCIsXCIxMTRcIixcIjExNVwiLFwiMTE2XCIsXCIxMTdcIixcIjExOFwiLFwiMTE5XCIsXCIxMjBcIixcIjEyMVwiLFwiMTIyXCIsXCIxMjNcIixcIjEyNFwiLFwiMTI1XCIsXCIxMjZcIixcIjEyN1wiLFwiMTI4XCIsXCIxMjlcIixcIjEzMFwiLFwiMTMxXCIsXCIxMzJcIixcIjEzM1wiLFwiMTM0XCIsXCIxMzVcIixcIjEzNlwiLFwiMTM3XCIsXCIxMzhcIixcIjEzOVwiLFwiMTQwXCIsXCIxNDFcIixcIjE0MlwiLFwiMTQzXCIsXCIxNDRcIixcIjE0NVwiLFwiMTQ2XCIsXCIxNDdcIixcIjE0OFwiLFwiMTQ5XCIsXCIxNTBcIixcIjE1MVwiLFwiMTUyXCIsXCIxNTNcIixcIjE1NFwiLFwiMTU1XCIsXCIxNTZcIixcIjE1N1wiLFwiMTU4XCIsXCIxNTlcIixcIjE2MFwiLFwiMTYxXCIsXCIxNjJcIixcIjE2M1wiLFwiMTY0XCIsXCIxNjVcIixcIjE2NlwiLFwiMTY3XCIsXCIxNjhcIixcIjE2OVwiLFwiMTcwXCIsXCIxNzFcIixcIjE3MlwiLFwiMTczXCIsXCIxNzRcIixcIjE3NVwiLFwiMTc2XCIsXCIxNzdcIixcIjE3OFwiLFwiMTc5XCIsXCIxODBcIixcIjE4MVwiLFwiMTgyXCIsXCIxODNcIixcIjE4NFwiLFwiMTg1XCIsXCIxODZcIixcIjE4N1wiLFwiMTg4XCIsXCIxODlcIixcIjE5MFwiLFwiMTkxXCIsXCIxOTJcIixcIjE5M1wiLFwiMTk0XCIsXCIxOTVcIixcIjE5NlwiLFwiMTk3XCIsXCIxOThcIixcIjE5OVwiLFwiMjAwXCIsXCIyMDFcIixcIjIwMlwiLFwiMjAzXCIsXCIyMDRcIixcIjIwNVwiLFwiMjA2XCIsXCIyMDdcIixcIjIwOFwiLFwiMjA5XCIsXCIyMTBcIixcIjIxMVwiLFwiMjEyXCIsXCIyMTNcIixcIjIxNFwiLFwiMjE1XCIsXCIyMTZcIixcIjIxN1wiLFwiMjE4XCIsXCIyMTlcIixcIjIyMFwiLFwiMjIxXCIsXCIyMjJcIixcIjIyM1wiLFwiMjI0XCIsXCIyMjVcIixcIjIyNlwiLFwiMjI3XCIsXCIyMjhcIixcIjIyOVwiLFwiMjMwXCIsXCIyMzFcIixcIjIzMlwiLFwiMjMzXCIsXCIyMzRcIixcIjIzNVwiLFwiMjM2XCIsXCIyMzdcIixcIjIzOFwiLFwiMjM5XCIsXCIyNDBcIixcIjI0MVwiLFwiMjQyXCIsXCIyNDNcIixcIjI0NFwiLFwiMjQ1XCIsXCIyNDZcIixcIjI0N1wiLFwiMjQ4XCIsXCIyNDlcIixcIjI1MFwiLFwiMjUxXCIsXCIyNTJcIixcIjI1M1wiLFwiMjU0XCIsXCIyNTVcIl07dC5lbmNvZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyluLnB1c2goZVt0W3JdXSk7cmV0dXJuIG4uam9pbihcIiBcIil9fSh0LkRlY2ltYWxTdHJpbmd8fCh0LkRlY2ltYWxTdHJpbmc9e30pKX0odC5FbmNvZGluZ3x8KHQuRW5jb2Rpbmc9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUpe2UuZW5jb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0LkJpbmFyeVN0cmluZy5lbmNvZGUoZSkucmVwbGFjZSgvXFwwL2csXCLogIJcIil9LGUuZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0LkJpbmFyeVN0cmluZy5kZWNvZGUoZS5yZXBsYWNlKC9cXHU4MDAyL2csXCJcXDBcIikpfX0odC5TdG9yYWdlQmluYXJ5U3RyaW5nfHwodC5TdG9yYWdlQmluYXJ5U3RyaW5nPXt9KSl9KHQuRW5jb2Rpbmd8fCh0LkVuY29kaW5nPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihuKXt2YXIgcixvO24uZW5jb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYwIT1lLmxlbmd0aD90LnJ1bm5pbmdJbk5vZGVKUygpP3QuQnVmZmVyVG9vbHMuYnVmZmVyVG9VaW50OEFycmF5KEJ1ZmZlci5mcm9tKGUsXCJ1dGY4XCIpKTpuLmNyZWF0ZU5hdGl2ZVRleHRFbmNvZGVyQW5kRGVjb2RlcklmQXZhaWxhYmxlKCk/ci5lbmNvZGUoZSk6bi5lbmNvZGVXaXRoSlMoZSk6bmV3IFVpbnQ4QXJyYXkoMCl9LG4uZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYwIT1lLmxlbmd0aD90LnJ1bm5pbmdJbk5vZGVKUygpP3QuQnVmZmVyVG9vbHMudWludDhBcnJheVRvQnVmZmVyKGUpLnRvU3RyaW5nKFwidXRmOFwiKTpuLmNyZWF0ZU5hdGl2ZVRleHRFbmNvZGVyQW5kRGVjb2RlcklmQXZhaWxhYmxlKCk/by5kZWNvZGUoZSk6bi5kZWNvZGVXaXRoSlMoZSk6XCJcIn0sbi5lbmNvZGVXaXRoSlM9ZnVuY3Rpb24odCxuKXtpZighdHx8MD09dC5sZW5ndGgpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO258fChuPW5ldyBVaW50OEFycmF5KDQqdC5sZW5ndGgpKTtmb3IodmFyIHI9MCxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBpPWUuQ29kZVBvaW50LmVuY29kZUZyb21TdHJpbmcodCxvKTtpZihpPD0xMjcpbltyKytdPWk7ZWxzZSBpZihpPD0yMDQ3KW5bcisrXT0xOTJ8aT4+PjYsbltyKytdPTEyOHw2MyZpO2Vsc2UgaWYoaTw9NjU1MzUpbltyKytdPTIyNHxpPj4+MTIsbltyKytdPTEyOHxpPj4+NiY2MyxuW3IrK109MTI4fDYzJmk7ZWxzZXtpZighKGk8PTExMTQxMTEpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVRGLTE2IHN0cmluZzogRW5jb3VudGVyZWQgYSBjaGFyYWN0ZXIgdW5zdXBwb3J0ZWQgYnkgVVRGLTgvMTYgKFJGQyAzNjI5KVwiKTtuW3IrK109MjQwfGk+Pj4xOCxuW3IrK109MTI4fGk+Pj4xMiY2MyxuW3IrK109MTI4fGk+Pj42JjYzLG5bcisrXT0xMjh8NjMmaSxvKyt9fXJldHVybiBuLnN1YmFycmF5KDAscil9LG4uZGVjb2RlV2l0aEpTPWZ1bmN0aW9uKGUsbixyKXtpZih2b2lkIDA9PT1uJiYobj0wKSwhZXx8MD09ZS5sZW5ndGgpcmV0dXJuXCJcIjt2b2lkIDA9PT1yJiYocj1lLmxlbmd0aCk7Zm9yKHZhciBvLGksYT1uZXcgdC5TdHJpbmdCdWlsZGVyLHM9bix1PXI7czx1Oyl7aWYoKGk9ZVtzXSk+Pj43PT0wKW89aSxzKz0xO2Vsc2UgaWYoaT4+PjU9PTYpe2lmKHMrMT49cil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVURi04IHN0cmVhbTogVHJ1bmNhdGVkIGNvZGVwb2ludCBzZXF1ZW5jZSBlbmNvdW50ZXJlZCBhdCBwb3NpdGlvbiBcIitzKTtvPSgzMSZpKTw8Nnw2MyZlW3MrMV0scys9Mn1lbHNlIGlmKGk+Pj40PT0xNCl7aWYocysyPj1yKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVRGLTggc3RyZWFtOiBUcnVuY2F0ZWQgY29kZXBvaW50IHNlcXVlbmNlIGVuY291bnRlcmVkIGF0IHBvc2l0aW9uIFwiK3MpO289KDE1JmkpPDwxMnwoNjMmZVtzKzFdKTw8Nnw2MyZlW3MrMl0scys9M31lbHNle2lmKGk+Pj4zIT0zMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVURi04IHN0cmVhbTogQW4gaW52YWxpZCBsZWFkIGJ5dGUgdmFsdWUgZW5jb3VudGVyZWQgYXQgcG9zaXRpb24gXCIrcyk7aWYocyszPj1yKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVRGLTggc3RyZWFtOiBUcnVuY2F0ZWQgY29kZXBvaW50IHNlcXVlbmNlIGVuY291bnRlcmVkIGF0IHBvc2l0aW9uIFwiK3MpO289KDcmaSk8PDE4fCg2MyZlW3MrMV0pPDwxMnwoNjMmZVtzKzJdKTw8Nnw2MyZlW3MrM10scys9NH1hLmFwcGVuZENvZGVQb2ludChvKX1yZXR1cm4gYS5nZXRPdXRwdXRTdHJpbmcoKX0sbi5jcmVhdGVOYXRpdmVUZXh0RW5jb2RlckFuZERlY29kZXJJZkF2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiEhcnx8XCJmdW5jdGlvblwiPT10eXBlb2YgVGV4dEVuY29kZXImJihyPW5ldyBUZXh0RW5jb2RlcihcInV0Zi04XCIpLG89bmV3IFRleHREZWNvZGVyKFwidXRmLThcIiksITApfX0oZS5VVEY4fHwoZS5VVEY4PXt9KSl9KHQuRW5jb2Rpbmd8fCh0LkVuY29kaW5nPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dC5jb21wcmVzcz1mdW5jdGlvbihlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSxudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjb21wcmVzczogdW5kZWZpbmVkIG9yIG51bGwgaW5wdXQgcmVjZWl2ZWRcIik7dmFyIHI9dC5Db21wcmVzc2lvbkNvbW1vbi5kZXRlY3RDb21wcmVzc2lvblNvdXJjZUVuY29kaW5nKGUpO249dC5PYmplY3RUb29scy5vdmVycmlkZSh7aW5wdXRFbmNvZGluZzpyLG91dHB1dEVuY29kaW5nOlwiQnl0ZUFycmF5XCJ9LG4pO3ZhciBvPShuZXcgdC5Db21wcmVzc29yKS5jb21wcmVzc0Jsb2NrKGUpO3JldHVybiB0LkNvbXByZXNzaW9uQ29tbW9uLmVuY29kZUNvbXByZXNzZWRCeXRlcyhvLG4ub3V0cHV0RW5jb2RpbmcpfSx0LmRlY29tcHJlc3M9ZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT1uJiYobj17fSksbnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb21wcmVzczogdW5kZWZpbmVkIG9yIG51bGwgaW5wdXQgcmVjZWl2ZWRcIik7bj10Lk9iamVjdFRvb2xzLm92ZXJyaWRlKHtpbnB1dEVuY29kaW5nOlwiQnl0ZUFycmF5XCIsb3V0cHV0RW5jb2Rpbmc6XCJTdHJpbmdcIn0sbik7dmFyIHI9dC5Db21wcmVzc2lvbkNvbW1vbi5kZWNvZGVDb21wcmVzc2VkQnl0ZXMoZSxuLmlucHV0RW5jb2RpbmcpLG89KG5ldyB0LkRlY29tcHJlc3NvcikuZGVjb21wcmVzc0Jsb2NrKHIpO3JldHVybiB0LkNvbXByZXNzaW9uQ29tbW9uLmVuY29kZURlY29tcHJlc3NlZEJ5dGVzKG8sbi5vdXRwdXRFbmNvZGluZyl9LHQuY29tcHJlc3NBc3luYz1mdW5jdGlvbihlLG4scil7dmFyIG87bnVsbD09ciYmKHI9ZnVuY3Rpb24oKXt9KTt0cnl7bz10LkNvbXByZXNzaW9uQ29tbW9uLmRldGVjdENvbXByZXNzaW9uU291cmNlRW5jb2RpbmcoZSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih2b2lkIDAsdCl9bj10Lk9iamVjdFRvb2xzLm92ZXJyaWRlKHtpbnB1dEVuY29kaW5nOm8sb3V0cHV0RW5jb2Rpbmc6XCJCeXRlQXJyYXlcIix1c2VXZWJXb3JrZXI6ITAsYmxvY2tTaXplOjY1NTM2fSxuKSx0LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7bi51c2VXZWJXb3JrZXImJnQuV2ViV29ya2VyLmNyZWF0ZUdsb2JhbFdvcmtlcklmTmVlZGVkKCk/dC5XZWJXb3JrZXIuY29tcHJlc3NBc3luYyhlLG4scik6dC5Bc3luY0NvbXByZXNzb3IuY29tcHJlc3NBc3luYyhlLG4scil9KSl9LHQuZGVjb21wcmVzc0FzeW5jPWZ1bmN0aW9uKGUsbixyKXtpZihudWxsPT1yJiYocj1mdW5jdGlvbigpe30pLG51bGwhPWUpe249dC5PYmplY3RUb29scy5vdmVycmlkZSh7aW5wdXRFbmNvZGluZzpcIkJ5dGVBcnJheVwiLG91dHB1dEVuY29kaW5nOlwiU3RyaW5nXCIsdXNlV2ViV29ya2VyOiEwLGJsb2NrU2l6ZTo2NTUzNn0sbik7dmFyIG89dC5CdWZmZXJUb29scy5jb252ZXJ0VG9VaW50OEFycmF5SWZOZWVkZWQoZSk7dC5FdmVudExvb3AuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtuLnVzZVdlYldvcmtlciYmdC5XZWJXb3JrZXIuY3JlYXRlR2xvYmFsV29ya2VySWZOZWVkZWQoKT90LldlYldvcmtlci5kZWNvbXByZXNzQXN5bmMobyxuLHIpOnQuQXN5bmNEZWNvbXByZXNzb3IuZGVjb21wcmVzc0FzeW5jKGUsbixyKX0pKX1lbHNlIHIodm9pZCAwLG5ldyBUeXBlRXJyb3IoXCJkZWNvbXByZXNzQXN5bmM6IHVuZGVmaW5lZCBvciBudWxsIGlucHV0IHJlY2VpdmVkXCIpKX0sdC5jcmVhdGVDb21wcmVzc2lvblN0cmVhbT1mdW5jdGlvbigpe3JldHVybiB0LkFzeW5jQ29tcHJlc3Nvci5jcmVhdGVDb21wcmVzc2lvblN0cmVhbSgpfSx0LmNyZWF0ZURlY29tcHJlc3Npb25TdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdC5Bc3luY0RlY29tcHJlc3Nvci5jcmVhdGVEZWNvbXByZXNzaW9uU3RyZWFtKCl9LHQuZW5jb2RlVVRGOD1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5VVEY4LmVuY29kZShlKX0sdC5kZWNvZGVVVEY4PWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLlVURjguZGVjb2RlKGUpfSx0LmVuY29kZUJhc2U2ND1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5CYXNlNjQuZW5jb2RlKGUpfSx0LmRlY29kZUJhc2U2ND1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5CYXNlNjQuZGVjb2RlKGUpfSx0LmVuY29kZUJpbmFyeVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5CaW5hcnlTdHJpbmcuZW5jb2RlKGUpfSx0LmRlY29kZUJpbmFyeVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5CaW5hcnlTdHJpbmcuZGVjb2RlKGUpfSx0LmVuY29kZVN0b3JhZ2VCaW5hcnlTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuU3RvcmFnZUJpbmFyeVN0cmluZy5lbmNvZGUoZSl9LHQuZGVjb2RlU3RvcmFnZUJpbmFyeVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5TdG9yYWdlQmluYXJ5U3RyaW5nLmRlY29kZShlKX19KG98fChvPXt9KSl9LDM3NDoodCxlLG4pPT57Y29uc3R7QWJvcnRFcnJvcjpyLGNvZGVzOm99PW4oMTQxKSx7aXNOb2RlU3RyZWFtOmksaXNXZWJTdHJlYW06YSxrQ29udHJvbGxlckVycm9yRnVuY3Rpb246c309bigxMzIpLHU9big4Nikse0VSUl9JTlZBTElEX0FSR19UWVBFOmx9PW87dC5leHBvcnRzLmFkZEFib3J0U2lnbmFsPWZ1bmN0aW9uKGUsbil7aWYoKCh0LGUpPT57aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fCEoXCJhYm9ydGVkXCJpbiB0KSl0aHJvdyBuZXcgbChlLFwiQWJvcnRTaWduYWxcIix0KX0pKGUsXCJzaWduYWxcIiksIWkobikmJiFhKG4pKXRocm93IG5ldyBsKFwic3RyZWFtXCIsW1wiUmVhZGFibGVTdHJlYW1cIixcIldyaXRhYmxlU3RyZWFtXCIsXCJTdHJlYW1cIl0sbik7cmV0dXJuIHQuZXhwb3J0cy5hZGRBYm9ydFNpZ25hbE5vVmFsaWRhdGUoZSxuKX0sdC5leHBvcnRzLmFkZEFib3J0U2lnbmFsTm9WYWxpZGF0ZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHwhKFwiYWJvcnRlZFwiaW4gdCkpcmV0dXJuIGU7Y29uc3Qgbj1pKGUpPygpPT57ZS5kZXN0cm95KG5ldyByKHZvaWQgMCx7Y2F1c2U6dC5yZWFzb259KSl9OigpPT57ZVtzXShuZXcgcih2b2lkIDAse2NhdXNlOnQucmVhc29ufSkpfTtyZXR1cm4gdC5hYm9ydGVkP24oKToodC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixuKSx1KGUsKCgpPT50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLG4pKSkpLGV9fSw2MTY6KHQsZSxuKT0+e2NvbnN0e1N0cmluZ1Byb3RvdHlwZVNsaWNlOnIsU3ltYm9sSXRlcmF0b3I6byxUeXBlZEFycmF5UHJvdG90eXBlU2V0OmksVWludDhBcnJheTphfT1uKDE5MSkse0J1ZmZlcjpzfT1uKDQ4NSkse2luc3BlY3Q6dX09big3NzUpO3QuZXhwb3J0cz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9cHVzaCh0KXtjb25zdCBlPXtkYXRhOnQsbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PWU6dGhpcy5oZWFkPWUsdGhpcy50YWlsPWUsKyt0aGlzLmxlbmd0aH11bnNoaWZ0KHQpe2NvbnN0IGU9e2RhdGE6dCxuZXh0OnRoaXMuaGVhZH07MD09PXRoaXMubGVuZ3RoJiYodGhpcy50YWlsPWUpLHRoaXMuaGVhZD1lLCsrdGhpcy5sZW5ndGh9c2hpZnQoKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5oZWFkLmRhdGE7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90aGlzLmhlYWQ9dGhpcy50YWlsPW51bGw6dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgsdH1jbGVhcigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfWpvaW4odCl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVyblwiXCI7bGV0IGU9dGhpcy5oZWFkLG49XCJcIitlLmRhdGE7Zm9yKDtudWxsIT09KGU9ZS5uZXh0KTspbis9dCtlLmRhdGE7cmV0dXJuIG59Y29uY2F0KHQpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4gcy5hbGxvYygwKTtjb25zdCBlPXMuYWxsb2NVbnNhZmUodD4+PjApO2xldCBuPXRoaXMuaGVhZCxyPTA7Zm9yKDtuOylpKGUsbi5kYXRhLHIpLHIrPW4uZGF0YS5sZW5ndGgsbj1uLm5leHQ7cmV0dXJuIGV9Y29uc3VtZSh0LGUpe2NvbnN0IG49dGhpcy5oZWFkLmRhdGE7aWYodDxuLmxlbmd0aCl7Y29uc3QgZT1uLnNsaWNlKDAsdCk7cmV0dXJuIHRoaXMuaGVhZC5kYXRhPW4uc2xpY2UodCksZX1yZXR1cm4gdD09PW4ubGVuZ3RoP3RoaXMuc2hpZnQoKTplP3RoaXMuX2dldFN0cmluZyh0KTp0aGlzLl9nZXRCdWZmZXIodCl9Zmlyc3QoKXtyZXR1cm4gdGhpcy5oZWFkLmRhdGF9KltvXSgpe2ZvcihsZXQgdD10aGlzLmhlYWQ7dDt0PXQubmV4dCl5aWVsZCB0LmRhdGF9X2dldFN0cmluZyh0KXtsZXQgZT1cIlwiLG49dGhpcy5oZWFkLG89MDtkb3tjb25zdCBpPW4uZGF0YTtpZighKHQ+aS5sZW5ndGgpKXt0PT09aS5sZW5ndGg/KGUrPWksKytvLG4ubmV4dD90aGlzLmhlYWQ9bi5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KGUrPXIoaSwwLHQpLHRoaXMuaGVhZD1uLG4uZGF0YT1yKGksdCkpO2JyZWFrfWUrPWksdC09aS5sZW5ndGgsKytvfXdoaWxlKG51bGwhPT0obj1uLm5leHQpKTtyZXR1cm4gdGhpcy5sZW5ndGgtPW8sZX1fZ2V0QnVmZmVyKHQpe2NvbnN0IGU9cy5hbGxvY1Vuc2FmZSh0KSxuPXQ7bGV0IHI9dGhpcy5oZWFkLG89MDtkb3tjb25zdCBzPXIuZGF0YTtpZighKHQ+cy5sZW5ndGgpKXt0PT09cy5sZW5ndGg/KGkoZSxzLG4tdCksKytvLHIubmV4dD90aGlzLmhlYWQ9ci5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KGkoZSxuZXcgYShzLmJ1ZmZlcixzLmJ5dGVPZmZzZXQsdCksbi10KSx0aGlzLmhlYWQ9cixyLmRhdGE9cy5zbGljZSh0KSk7YnJlYWt9aShlLHMsbi10KSx0LT1zLmxlbmd0aCwrK299d2hpbGUobnVsbCE9PShyPXIubmV4dCkpO3JldHVybiB0aGlzLmxlbmd0aC09byxlfVtTeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIildKHQsZSl7cmV0dXJuIHUodGhpcyx7Li4uZSxkZXB0aDowLGN1c3RvbUluc3BlY3Q6ITF9KX19fSw4MTg6KHQsZSxuKT0+e2NvbnN0e3BpcGVsaW5lOnJ9PW4oNzU0KSxvPW4oMTgyKSx7ZGVzdHJveWVyOml9PW4oMjMwKSx7aXNOb2RlU3RyZWFtOmEsaXNSZWFkYWJsZTpzLGlzV3JpdGFibGU6dSxpc1dlYlN0cmVhbTpsLGlzVHJhbnNmb3JtU3RyZWFtOmMsaXNXcml0YWJsZVN0cmVhbTpmLGlzUmVhZGFibGVTdHJlYW06ZH09bigxMzIpLHtBYm9ydEVycm9yOmgsY29kZXM6e0VSUl9JTlZBTElEX0FSR19WQUxVRTpwLEVSUl9NSVNTSU5HX0FSR1M6Z319PW4oMTQxKSx5PW4oODYpO3QuZXhwb3J0cz1mdW5jdGlvbiguLi50KXtpZigwPT09dC5sZW5ndGgpdGhyb3cgbmV3IGcoXCJzdHJlYW1zXCIpO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gby5mcm9tKHRbMF0pO2NvbnN0IGU9Wy4uLnRdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRbMF0mJih0WzBdPW8uZnJvbSh0WzBdKSksXCJmdW5jdGlvblwiPT10eXBlb2YgdFt0Lmxlbmd0aC0xXSl7Y29uc3QgZT10Lmxlbmd0aC0xO3RbZV09by5mcm9tKHRbZV0pfWZvcihsZXQgbj0wO248dC5sZW5ndGg7KytuKWlmKGEodFtuXSl8fGwodFtuXSkpe2lmKG48dC5sZW5ndGgtMSYmIShzKHRbbl0pfHxkKHRbbl0pfHxjKHRbbl0pKSl0aHJvdyBuZXcgcChgc3RyZWFtc1ske259XWAsZVtuXSxcIm11c3QgYmUgcmVhZGFibGVcIik7aWYobj4wJiYhKHUodFtuXSl8fGYodFtuXSl8fGModFtuXSkpKXRocm93IG5ldyBwKGBzdHJlYW1zWyR7bn1dYCxlW25dLFwibXVzdCBiZSB3cml0YWJsZVwiKX1sZXQgbixtLHYsYix3O2NvbnN0IF89dFswXSxFPXIodCwoZnVuY3Rpb24odCl7Y29uc3QgZT1iO2I9bnVsbCxlP2UodCk6dD93LmRlc3Ryb3kodCk6QXx8U3x8dy5kZXN0cm95KCl9KSksUz0hISh1KF8pfHxmKF8pfHxjKF8pKSxBPSEhKHMoRSl8fGQoRSl8fGMoRSkpO2lmKHc9bmV3IG8oe3dyaXRhYmxlT2JqZWN0TW9kZTohKG51bGw9PV98fCFfLndyaXRhYmxlT2JqZWN0TW9kZSkscmVhZGFibGVPYmplY3RNb2RlOiEobnVsbD09RXx8IUUud3JpdGFibGVPYmplY3RNb2RlKSx3cml0YWJsZTpTLHJlYWRhYmxlOkF9KSxTKXtpZihhKF8pKXcuX3dyaXRlPWZ1bmN0aW9uKHQsZSxyKXtfLndyaXRlKHQsZSk/cigpOm49cn0sdy5fZmluYWw9ZnVuY3Rpb24odCl7Xy5lbmQoKSxtPXR9LF8ub24oXCJkcmFpblwiLChmdW5jdGlvbigpe2lmKG4pe2NvbnN0IHQ9bjtuPW51bGwsdCgpfX0pKTtlbHNlIGlmKGwoXykpe2NvbnN0IHQ9KGMoXyk/Xy53cml0YWJsZTpfKS5nZXRXcml0ZXIoKTt3Ll93cml0ZT1hc3luYyBmdW5jdGlvbihlLG4scil7dHJ5e2F3YWl0IHQucmVhZHksdC53cml0ZShlKS5jYXRjaCgoKCk9Pnt9KSkscigpfWNhdGNoKHQpe3IodCl9fSx3Ll9maW5hbD1hc3luYyBmdW5jdGlvbihlKXt0cnl7YXdhaXQgdC5yZWFkeSx0LmNsb3NlKCkuY2F0Y2goKCgpPT57fSkpLG09ZX1jYXRjaCh0KXtlKHQpfX19Y29uc3QgdD1jKEUpP0UucmVhZGFibGU6RTt5KHQsKCgpPT57aWYobSl7Y29uc3QgdD1tO209bnVsbCx0KCl9fSkpfWlmKEEpaWYoYShFKSlFLm9uKFwicmVhZGFibGVcIiwoZnVuY3Rpb24oKXtpZih2KXtjb25zdCB0PXY7dj1udWxsLHQoKX19KSksRS5vbihcImVuZFwiLChmdW5jdGlvbigpe3cucHVzaChudWxsKX0pKSx3Ll9yZWFkPWZ1bmN0aW9uKCl7Zm9yKDs7KXtjb25zdCB0PUUucmVhZCgpO2lmKG51bGw9PT10KXJldHVybiB2b2lkKHY9dy5fcmVhZCk7aWYoIXcucHVzaCh0KSlyZXR1cm59fTtlbHNlIGlmKGwoRSkpe2NvbnN0IHQ9KGMoRSk/RS5yZWFkYWJsZTpFKS5nZXRSZWFkZXIoKTt3Ll9yZWFkPWFzeW5jIGZ1bmN0aW9uKCl7Zm9yKDs7KXRyeXtjb25zdHt2YWx1ZTplLGRvbmU6bn09YXdhaXQgdC5yZWFkKCk7aWYoIXcucHVzaChlKSlyZXR1cm47aWYobilyZXR1cm4gdm9pZCB3LnB1c2gobnVsbCl9Y2F0Y2h7cmV0dXJufX19cmV0dXJuIHcuX2Rlc3Ryb3k9ZnVuY3Rpb24odCxlKXt0fHxudWxsPT09Ynx8KHQ9bmV3IGgpLHY9bnVsbCxuPW51bGwsbT1udWxsLG51bGw9PT1iP2UodCk6KGI9ZSxhKEUpJiZpKEUsdCkpfSx3fX0sMjMwOih0LGUsbik9Pntjb25zdCByPW4oNTMzKSx7YWdncmVnYXRlVHdvRXJyb3JzOm8sY29kZXM6e0VSUl9NVUxUSVBMRV9DQUxMQkFDSzppfSxBYm9ydEVycm9yOmF9PW4oMTQxKSx7U3ltYm9sOnN9PW4oMTkxKSx7a0Rlc3Ryb3llZDp1LGlzRGVzdHJveWVkOmwsaXNGaW5pc2hlZDpjLGlzU2VydmVyUmVxdWVzdDpmfT1uKDEzMiksZD1zKFwia0Rlc3Ryb3lcIiksaD1zKFwia0NvbnN0cnVjdFwiKTtmdW5jdGlvbiBwKHQsZSxuKXt0JiYodC5zdGFjayxlJiYhZS5lcnJvcmVkJiYoZS5lcnJvcmVkPXQpLG4mJiFuLmVycm9yZWQmJihuLmVycm9yZWQ9dCkpfWZ1bmN0aW9uIGcodCxlLG4pe2xldCBvPSExO2Z1bmN0aW9uIGkoZSl7aWYobylyZXR1cm47bz0hMDtjb25zdCBpPXQuX3JlYWRhYmxlU3RhdGUsYT10Ll93cml0YWJsZVN0YXRlO3AoZSxhLGkpLGEmJihhLmNsb3NlZD0hMCksaSYmKGkuY2xvc2VkPSEwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKGUpLGU/ci5uZXh0VGljayh5LHQsZSk6ci5uZXh0VGljayhtLHQpfXRyeXt0Ll9kZXN0cm95KGV8fG51bGwsaSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24geSh0LGUpe3YodCxlKSxtKHQpfWZ1bmN0aW9uIG0odCl7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlLG49dC5fd3JpdGFibGVTdGF0ZTtuJiYobi5jbG9zZUVtaXR0ZWQ9ITApLGUmJihlLmNsb3NlRW1pdHRlZD0hMCksKG51bGwhPW4mJm4uZW1pdENsb3NlfHxudWxsIT1lJiZlLmVtaXRDbG9zZSkmJnQuZW1pdChcImNsb3NlXCIpfWZ1bmN0aW9uIHYodCxlKXtjb25zdCBuPXQuX3JlYWRhYmxlU3RhdGUscj10Ll93cml0YWJsZVN0YXRlO251bGwhPXImJnIuZXJyb3JFbWl0dGVkfHxudWxsIT1uJiZuLmVycm9yRW1pdHRlZHx8KHImJihyLmVycm9yRW1pdHRlZD0hMCksbiYmKG4uZXJyb3JFbWl0dGVkPSEwKSx0LmVtaXQoXCJlcnJvclwiLGUpKX1mdW5jdGlvbiBiKHQsZSxuKXtjb25zdCBvPXQuX3JlYWRhYmxlU3RhdGUsaT10Ll93cml0YWJsZVN0YXRlO2lmKG51bGwhPWkmJmkuZGVzdHJveWVkfHxudWxsIT1vJiZvLmRlc3Ryb3llZClyZXR1cm4gdGhpcztudWxsIT1vJiZvLmF1dG9EZXN0cm95fHxudWxsIT1pJiZpLmF1dG9EZXN0cm95P3QuZGVzdHJveShlKTplJiYoZS5zdGFjayxpJiYhaS5lcnJvcmVkJiYoaS5lcnJvcmVkPWUpLG8mJiFvLmVycm9yZWQmJihvLmVycm9yZWQ9ZSksbj9yLm5leHRUaWNrKHYsdCxlKTp2KHQsZSkpfWZ1bmN0aW9uIHcodCl7bGV0IGU9ITE7ZnVuY3Rpb24gbihuKXtpZihlKXJldHVybiB2b2lkIGIodCxudWxsIT1uP246bmV3IGkpO2U9ITA7Y29uc3Qgbz10Ll9yZWFkYWJsZVN0YXRlLGE9dC5fd3JpdGFibGVTdGF0ZSxzPWF8fG87byYmKG8uY29uc3RydWN0ZWQ9ITApLGEmJihhLmNvbnN0cnVjdGVkPSEwKSxzLmRlc3Ryb3llZD90LmVtaXQoZCxuKTpuP2IodCxuLCEwKTpyLm5leHRUaWNrKF8sdCl9dHJ5e3QuX2NvbnN0cnVjdCgodD0+e3IubmV4dFRpY2sobix0KX0pKX1jYXRjaCh0KXtyLm5leHRUaWNrKG4sdCl9fWZ1bmN0aW9uIF8odCl7dC5lbWl0KGgpfWZ1bmN0aW9uIEUodCl7cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnQuc2V0SGVhZGVyKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5hYm9ydH1mdW5jdGlvbiBTKHQpe3QuZW1pdChcImNsb3NlXCIpfWZ1bmN0aW9uIEEodCxlKXt0LmVtaXQoXCJlcnJvclwiLGUpLHIubmV4dFRpY2soUyx0KX10LmV4cG9ydHM9e2NvbnN0cnVjdDpmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuX2NvbnN0cnVjdClyZXR1cm47Y29uc3Qgbj10Ll9yZWFkYWJsZVN0YXRlLG89dC5fd3JpdGFibGVTdGF0ZTtuJiYobi5jb25zdHJ1Y3RlZD0hMSksbyYmKG8uY29uc3RydWN0ZWQ9ITEpLHQub25jZShoLGUpLHQubGlzdGVuZXJDb3VudChoKT4xfHxyLm5leHRUaWNrKHcsdCl9LGRlc3Ryb3llcjpmdW5jdGlvbih0LGUpe3QmJiFsKHQpJiYoZXx8Yyh0KXx8KGU9bmV3IGEpLGYodCk/KHQuc29ja2V0PW51bGwsdC5kZXN0cm95KGUpKTpFKHQpP3QuYWJvcnQoKTpFKHQucmVxKT90LnJlcS5hYm9ydCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveT90LmRlc3Ryb3koZSk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5jbG9zZT90LmNsb3NlKCk6ZT9yLm5leHRUaWNrKEEsdCxlKTpyLm5leHRUaWNrKFMsdCksdC5kZXN0cm95ZWR8fCh0W3VdPSEwKSl9LGRlc3Ryb3k6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMuX3JlYWRhYmxlU3RhdGUscj10aGlzLl93cml0YWJsZVN0YXRlLGk9cnx8bjtyZXR1cm4gbnVsbCE9ciYmci5kZXN0cm95ZWR8fG51bGwhPW4mJm4uZGVzdHJveWVkPyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKCksdGhpcyk6KHAodCxyLG4pLHImJihyLmRlc3Ryb3llZD0hMCksbiYmKG4uZGVzdHJveWVkPSEwKSxpLmNvbnN0cnVjdGVkP2codGhpcyx0LGUpOnRoaXMub25jZShkLChmdW5jdGlvbihuKXtnKHRoaXMsbyhuLHQpLGUpfSkpLHRoaXMpfSx1bmRlc3Ryb3k6ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuX3JlYWRhYmxlU3RhdGUsZT10aGlzLl93cml0YWJsZVN0YXRlO3QmJih0LmNvbnN0cnVjdGVkPSEwLHQuY2xvc2VkPSExLHQuY2xvc2VFbWl0dGVkPSExLHQuZGVzdHJveWVkPSExLHQuZXJyb3JlZD1udWxsLHQuZXJyb3JFbWl0dGVkPSExLHQucmVhZGluZz0hMSx0LmVuZGVkPSExPT09dC5yZWFkYWJsZSx0LmVuZEVtaXR0ZWQ9ITE9PT10LnJlYWRhYmxlKSxlJiYoZS5jb25zdHJ1Y3RlZD0hMCxlLmRlc3Ryb3llZD0hMSxlLmNsb3NlZD0hMSxlLmNsb3NlRW1pdHRlZD0hMSxlLmVycm9yZWQ9bnVsbCxlLmVycm9yRW1pdHRlZD0hMSxlLmZpbmFsQ2FsbGVkPSExLGUucHJlZmluaXNoZWQ9ITEsZS5lbmRlZD0hMT09PWUud3JpdGFibGUsZS5lbmRpbmc9ITE9PT1lLndyaXRhYmxlLGUuZmluaXNoZWQ9ITE9PT1lLndyaXRhYmxlKX0sZXJyb3JPckRlc3Ryb3k6Yn19LDE4MjoodCxlLG4pPT57Y29uc3R7T2JqZWN0RGVmaW5lUHJvcGVydGllczpyLE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjpvLE9iamVjdEtleXM6aSxPYmplY3RTZXRQcm90b3R5cGVPZjphfT1uKDE5MSk7dC5leHBvcnRzPWw7Y29uc3Qgcz1uKDg1OCksdT1uKDM3Myk7YShsLnByb3RvdHlwZSxzLnByb3RvdHlwZSksYShsLHMpO3tjb25zdCB0PWkodS5wcm90b3R5cGUpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV07bC5wcm90b3R5cGVbbl18fChsLnByb3RvdHlwZVtuXT11LnByb3RvdHlwZVtuXSl9fWZ1bmN0aW9uIGwodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgbCkpcmV0dXJuIG5ldyBsKHQpO3MuY2FsbCh0aGlzLHQpLHUuY2FsbCh0aGlzLHQpLHQ/KHRoaXMuYWxsb3dIYWxmT3Blbj0hMSE9PXQuYWxsb3dIYWxmT3BlbiwhMT09PXQucmVhZGFibGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRhYmxlPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWQ9ITAsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkPSEwKSwhMT09PXQud3JpdGFibGUmJih0aGlzLl93cml0YWJsZVN0YXRlLndyaXRhYmxlPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITAsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD0hMCkpOnRoaXMuYWxsb3dIYWxmT3Blbj0hMH1sZXQgYyxmO2Z1bmN0aW9uIGQoKXtyZXR1cm4gdm9pZCAwPT09YyYmKGM9e30pLGN9cihsLnByb3RvdHlwZSx7d3JpdGFibGU6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZVwiKX0sd3JpdGFibGVIaWdoV2F0ZXJNYXJrOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIpfSx3cml0YWJsZU9iamVjdE1vZGU6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZU9iamVjdE1vZGVcIil9LHdyaXRhYmxlQnVmZmVyOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVCdWZmZXJcIil9LHdyaXRhYmxlTGVuZ3RoOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVMZW5ndGhcIil9LHdyaXRhYmxlRmluaXNoZWQ6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZUZpbmlzaGVkXCIpfSx3cml0YWJsZUNvcmtlZDp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlQ29ya2VkXCIpfSx3cml0YWJsZUVuZGVkOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVFbmRlZFwiKX0sd3JpdGFibGVOZWVkRHJhaW46e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZU5lZWREcmFpblwiKX0sZGVzdHJveWVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCl9LHNldCh0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD10KX19fSksbC5mcm9tV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGQoKS5uZXdTdHJlYW1EdXBsZXhGcm9tUmVhZGFibGVXcml0YWJsZVBhaXIodCxlKX0sbC50b1dlYj1mdW5jdGlvbih0KXtyZXR1cm4gZCgpLm5ld1JlYWRhYmxlV3JpdGFibGVQYWlyRnJvbUR1cGxleCh0KX0sbC5mcm9tPWZ1bmN0aW9uKHQpe3JldHVybiBmfHwoZj1uKDc0OSkpLGYodCxcImJvZHlcIil9fSw3NDk6KHQsZSxuKT0+e2NvbnN0IHI9big1MzMpLG89big0ODUpLHtpc1JlYWRhYmxlOmksaXNXcml0YWJsZTphLGlzSXRlcmFibGU6cyxpc05vZGVTdHJlYW06dSxpc1JlYWRhYmxlTm9kZVN0cmVhbTpsLGlzV3JpdGFibGVOb2RlU3RyZWFtOmMsaXNEdXBsZXhOb2RlU3RyZWFtOmZ9PW4oMTMyKSxkPW4oODYpLHtBYm9ydEVycm9yOmgsY29kZXM6e0VSUl9JTlZBTElEX0FSR19UWVBFOnAsRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFOmd9fT1uKDE0MSkse2Rlc3Ryb3llcjp5fT1uKDIzMCksbT1uKDE4Miksdj1uKDg1OCkse2NyZWF0ZURlZmVycmVkUHJvbWlzZTpifT1uKDc3NSksdz1uKDkxMyksXz1nbG9iYWxUaGlzLkJsb2J8fG8uQmxvYixFPXZvaWQgMCE9PV8/ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBffTpmdW5jdGlvbih0KXtyZXR1cm4hMX0sUz1nbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlcnx8big4NzYpLkFib3J0Q29udHJvbGxlcix7RnVuY3Rpb25Qcm90b3R5cGVDYWxsOkF9PW4oMTkxKTtjbGFzcyBJIGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSwhMT09PShudWxsPT10P3ZvaWQgMDp0LnJlYWRhYmxlKSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGU9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITApLCExPT09KG51bGw9PXQ/dm9pZCAwOnQud3JpdGFibGUpJiYodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZT0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZz0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITApfX1mdW5jdGlvbiBUKHQpe2NvbnN0IGU9dC5yZWFkYWJsZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdC5yZWFkYWJsZS5yZWFkP3Yud3JhcCh0LnJlYWRhYmxlKTp0LnJlYWRhYmxlLG49dC53cml0YWJsZTtsZXQgcixvLHMsdSxsLGM9ISFpKGUpLGY9ISFhKG4pO2Z1bmN0aW9uIHAodCl7Y29uc3QgZT11O3U9bnVsbCxlP2UodCk6dCYmbC5kZXN0cm95KHQpfXJldHVybiBsPW5ldyBJKHtyZWFkYWJsZU9iamVjdE1vZGU6IShudWxsPT1lfHwhZS5yZWFkYWJsZU9iamVjdE1vZGUpLHdyaXRhYmxlT2JqZWN0TW9kZTohKG51bGw9PW58fCFuLndyaXRhYmxlT2JqZWN0TW9kZSkscmVhZGFibGU6Yyx3cml0YWJsZTpmfSksZiYmKGQobiwodD0+e2Y9ITEsdCYmeShlLHQpLHAodCl9KSksbC5fd3JpdGU9ZnVuY3Rpb24odCxlLG8pe24ud3JpdGUodCxlKT9vKCk6cj1vfSxsLl9maW5hbD1mdW5jdGlvbih0KXtuLmVuZCgpLG89dH0sbi5vbihcImRyYWluXCIsKGZ1bmN0aW9uKCl7aWYocil7Y29uc3QgdD1yO3I9bnVsbCx0KCl9fSkpLG4ub24oXCJmaW5pc2hcIiwoZnVuY3Rpb24oKXtpZihvKXtjb25zdCB0PW87bz1udWxsLHQoKX19KSkpLGMmJihkKGUsKHQ9PntjPSExLHQmJnkoZSx0KSxwKHQpfSkpLGUub24oXCJyZWFkYWJsZVwiLChmdW5jdGlvbigpe2lmKHMpe2NvbnN0IHQ9cztzPW51bGwsdCgpfX0pKSxlLm9uKFwiZW5kXCIsKGZ1bmN0aW9uKCl7bC5wdXNoKG51bGwpfSkpLGwuX3JlYWQ9ZnVuY3Rpb24oKXtmb3IoOzspe2NvbnN0IHQ9ZS5yZWFkKCk7aWYobnVsbD09PXQpcmV0dXJuIHZvaWQocz1sLl9yZWFkKTtpZighbC5wdXNoKHQpKXJldHVybn19KSxsLl9kZXN0cm95PWZ1bmN0aW9uKHQsaSl7dHx8bnVsbD09PXV8fCh0PW5ldyBoKSxzPW51bGwscj1udWxsLG89bnVsbCxudWxsPT09dT9pKHQpOih1PWkseShuLHQpLHkoZSx0KSl9LGx9dC5leHBvcnRzPWZ1bmN0aW9uIHQoZSxuKXtpZihmKGUpKXJldHVybiBlO2lmKGwoZSkpcmV0dXJuIFQoe3JlYWRhYmxlOmV9KTtpZihjKGUpKXJldHVybiBUKHt3cml0YWJsZTplfSk7aWYodShlKSlyZXR1cm4gVCh7d3JpdGFibGU6ITEscmVhZGFibGU6ITF9KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXtjb25zdHt2YWx1ZTp0LHdyaXRlOm8sZmluYWw6aSxkZXN0cm95OmF9PWZ1bmN0aW9uKHQpe2xldHtwcm9taXNlOmUscmVzb2x2ZTpufT1iKCk7Y29uc3Qgbz1uZXcgUyxpPW8uc2lnbmFsLGE9dChhc3luYyBmdW5jdGlvbiooKXtmb3IoOzspe2NvbnN0IHQ9ZTtlPW51bGw7Y29uc3R7Y2h1bms6byxkb25lOmEsY2I6c309YXdhaXQgdDtpZihyLm5leHRUaWNrKHMpLGEpcmV0dXJuO2lmKGkuYWJvcnRlZCl0aHJvdyBuZXcgaCh2b2lkIDAse2NhdXNlOmkucmVhc29ufSk7KHtwcm9taXNlOmUscmVzb2x2ZTpufT1iKCkpLHlpZWxkIG99fSgpLHtzaWduYWw6aX0pO3JldHVybnt2YWx1ZTphLHdyaXRlKHQsZSxyKXtjb25zdCBvPW47bj1udWxsLG8oe2NodW5rOnQsZG9uZTohMSxjYjpyfSl9LGZpbmFsKHQpe2NvbnN0IGU9bjtuPW51bGwsZSh7ZG9uZTohMCxjYjp0fSl9LGRlc3Ryb3kodCxlKXtvLmFib3J0KCksZSh0KX19fShlKTtpZihzKHQpKXJldHVybiB3KEksdCx7b2JqZWN0TW9kZTohMCx3cml0ZTpvLGZpbmFsOmksZGVzdHJveTphfSk7Y29uc3QgdT1udWxsPT10P3ZvaWQgMDp0LnRoZW47aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSl7bGV0IGU7Y29uc3Qgbj1BKHUsdCwodD0+e2lmKG51bGwhPXQpdGhyb3cgbmV3IGcoXCJudWxseVwiLFwiYm9keVwiLHQpfSksKHQ9Pnt5KGUsdCl9KSk7cmV0dXJuIGU9bmV3IEkoe29iamVjdE1vZGU6ITAscmVhZGFibGU6ITEsd3JpdGU6byxmaW5hbCh0KXtpKChhc3luYygpPT57dHJ5e2F3YWl0IG4sci5uZXh0VGljayh0LG51bGwpfWNhdGNoKGUpe3IubmV4dFRpY2sodCxlKX19KSl9LGRlc3Ryb3k6YX0pfXRocm93IG5ldyBnKFwiSXRlcmFibGUsIEFzeW5jSXRlcmFibGUgb3IgQXN5bmNGdW5jdGlvblwiLG4sdCl9aWYoRShlKSlyZXR1cm4gdChlLmFycmF5QnVmZmVyKCkpO2lmKHMoZSkpcmV0dXJuIHcoSSxlLHtvYmplY3RNb2RlOiEwLHdyaXRhYmxlOiExfSk7aWYoXCJvYmplY3RcIj09dHlwZW9mKG51bGw9PWU/dm9pZCAwOmUud3JpdGFibGUpfHxcIm9iamVjdFwiPT10eXBlb2YobnVsbD09ZT92b2lkIDA6ZS5yZWFkYWJsZSkpe3JldHVybiBUKHtyZWFkYWJsZTpudWxsIT1lJiZlLnJlYWRhYmxlP2wobnVsbD09ZT92b2lkIDA6ZS5yZWFkYWJsZSk/bnVsbD09ZT92b2lkIDA6ZS5yZWFkYWJsZTp0KGUucmVhZGFibGUpOnZvaWQgMCx3cml0YWJsZTpudWxsIT1lJiZlLndyaXRhYmxlP2MobnVsbD09ZT92b2lkIDA6ZS53cml0YWJsZSk/bnVsbD09ZT92b2lkIDA6ZS53cml0YWJsZTp0KGUud3JpdGFibGUpOnZvaWQgMH0pfWNvbnN0IG89bnVsbD09ZT92b2lkIDA6ZS50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG8pe2xldCB0O3JldHVybiBBKG8sZSwoZT0+e251bGwhPWUmJnQucHVzaChlKSx0LnB1c2gobnVsbCl9KSwoZT0+e3kodCxlKX0pKSx0PW5ldyBJKHtvYmplY3RNb2RlOiEwLHdyaXRhYmxlOiExLHJlYWQoKXt9fSl9dGhyb3cgbmV3IHAobixbXCJCbG9iXCIsXCJSZWFkYWJsZVN0cmVhbVwiLFwiV3JpdGFibGVTdHJlYW1cIixcIlN0cmVhbVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIixcIkZ1bmN0aW9uXCIsXCJ7IHJlYWRhYmxlLCB3cml0YWJsZSB9IHBhaXJcIixcIlByb21pc2VcIl0sZSl9fSw4NjoodCxlLG4pPT57Y29uc3Qgcj1uKDUzMykse0Fib3J0RXJyb3I6byxjb2RlczppfT1uKDE0MSkse0VSUl9JTlZBTElEX0FSR19UWVBFOmEsRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U6c309aSx7a0VtcHR5T2JqZWN0OnUsb25jZTpsfT1uKDc3NSkse3ZhbGlkYXRlQWJvcnRTaWduYWw6Yyx2YWxpZGF0ZUZ1bmN0aW9uOmYsdmFsaWRhdGVPYmplY3Q6ZCx2YWxpZGF0ZUJvb2xlYW46aH09big5MDQpLHtQcm9taXNlOnAsUHJvbWlzZVByb3RvdHlwZVRoZW46Z309bigxOTEpLHtpc0Nsb3NlZDp5LGlzUmVhZGFibGU6bSxpc1JlYWRhYmxlTm9kZVN0cmVhbTp2LGlzUmVhZGFibGVTdHJlYW06Yixpc1JlYWRhYmxlRmluaXNoZWQ6dyxpc1JlYWRhYmxlRXJyb3JlZDpfLGlzV3JpdGFibGU6RSxpc1dyaXRhYmxlTm9kZVN0cmVhbTpTLGlzV3JpdGFibGVTdHJlYW06QSxpc1dyaXRhYmxlRmluaXNoZWQ6SSxpc1dyaXRhYmxlRXJyb3JlZDpULGlzTm9kZVN0cmVhbTpSLHdpbGxFbWl0Q2xvc2U6eCxrSXNDbG9zZWRQcm9taXNlOkN9PW4oMTMyKTtjb25zdCBCPSgpPT57fTtmdW5jdGlvbiBrKHQsZSxuKXt2YXIgaSxoO2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoPyhuPWUsZT11KTpudWxsPT1lP2U9dTpkKGUsXCJvcHRpb25zXCIpLGYobixcImNhbGxiYWNrXCIpLGMoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSxuPWwobiksYih0KXx8QSh0KSlyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCBpPSExLGE9QjtpZihlLnNpZ25hbClpZihhPSgpPT57aT0hMCxuLmNhbGwodCxuZXcgbyh2b2lkIDAse2NhdXNlOmUuc2lnbmFsLnJlYXNvbn0pKX0sZS5zaWduYWwuYWJvcnRlZClyLm5leHRUaWNrKGEpO2Vsc2V7Y29uc3Qgcj1uO249bCgoKC4uLm4pPT57ZS5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsYSksci5hcHBseSh0LG4pfSkpLGUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGEpfWNvbnN0IHM9KC4uLmUpPT57aXx8ci5uZXh0VGljaygoKCk9Pm4uYXBwbHkodCxlKSkpfTtyZXR1cm4gZyh0W0NdLnByb21pc2UscyxzKSxCfSh0LGUsbik7aWYoIVIodCkpdGhyb3cgbmV3IGEoXCJzdHJlYW1cIixbXCJSZWFkYWJsZVN0cmVhbVwiLFwiV3JpdGFibGVTdHJlYW1cIixcIlN0cmVhbVwiXSx0KTtjb25zdCBwPW51bGwhPT0oaT1lLnJlYWRhYmxlKSYmdm9pZCAwIT09aT9pOnYodCksaz1udWxsIT09KGg9ZS53cml0YWJsZSkmJnZvaWQgMCE9PWg/aDpTKHQpLEw9dC5fd3JpdGFibGVTdGF0ZSxPPXQuX3JlYWRhYmxlU3RhdGUsVT0oKT0+e3Qud3JpdGFibGV8fE0oKX07bGV0IGo9eCh0KSYmdih0KT09PXAmJlModCk9PT1rLE49SSh0LCExKTtjb25zdCBNPSgpPT57Tj0hMCx0LmRlc3Ryb3llZCYmKGo9ITEpLCghanx8dC5yZWFkYWJsZSYmIXApJiYocCYmIVB8fG4uY2FsbCh0KSl9O2xldCBQPXcodCwhMSk7Y29uc3QgVz0oKT0+e1A9ITAsdC5kZXN0cm95ZWQmJihqPSExKSwoIWp8fHQud3JpdGFibGUmJiFrKSYmKGsmJiFOfHxuLmNhbGwodCkpfSwkPWU9PntuLmNhbGwodCxlKX07bGV0IEQ9eSh0KTtjb25zdCBGPSgpPT57RD0hMDtjb25zdCBlPVQodCl8fF8odCk7cmV0dXJuIGUmJlwiYm9vbGVhblwiIT10eXBlb2YgZT9uLmNhbGwodCxlKTpwJiYhUCYmdih0LCEwKSYmIXcodCwhMSk/bi5jYWxsKHQsbmV3IHMpOiFrfHxOfHxJKHQsITEpP3ZvaWQgbi5jYWxsKHQpOm4uY2FsbCh0LG5ldyBzKX0sej0oKT0+e0Q9ITA7Y29uc3QgZT1UKHQpfHxfKHQpO2lmKGUmJlwiYm9vbGVhblwiIT10eXBlb2YgZSlyZXR1cm4gbi5jYWxsKHQsZSk7bi5jYWxsKHQpfSxxPSgpPT57dC5yZXEub24oXCJmaW5pc2hcIixNKX07IWZ1bmN0aW9uKHQpe3JldHVybiB0LnNldEhlYWRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5hYm9ydH0odCk/ayYmIUwmJih0Lm9uKFwiZW5kXCIsVSksdC5vbihcImNsb3NlXCIsVSkpOih0Lm9uKFwiY29tcGxldGVcIixNKSxqfHx0Lm9uKFwiYWJvcnRcIixGKSx0LnJlcT9xKCk6dC5vbihcInJlcXVlc3RcIixxKSksanx8XCJib29sZWFuXCIhPXR5cGVvZiB0LmFib3J0ZWR8fHQub24oXCJhYm9ydGVkXCIsRiksdC5vbihcImVuZFwiLFcpLHQub24oXCJmaW5pc2hcIixNKSwhMSE9PWUuZXJyb3ImJnQub24oXCJlcnJvclwiLCQpLHQub24oXCJjbG9zZVwiLEYpLEQ/ci5uZXh0VGljayhGKTpudWxsIT1MJiZMLmVycm9yRW1pdHRlZHx8bnVsbCE9TyYmTy5lcnJvckVtaXR0ZWQ/anx8ci5uZXh0VGljayh6KToocHx8aiYmIW0odCl8fCFOJiYhMSE9PUUodCkpJiYoa3x8aiYmIUUodCl8fCFQJiYhMSE9PW0odCkpP08mJnQucmVxJiZ0LmFib3J0ZWQmJnIubmV4dFRpY2soeik6ci5uZXh0VGljayh6KTtjb25zdCBIPSgpPT57bj1CLHQucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydGVkXCIsRiksdC5yZW1vdmVMaXN0ZW5lcihcImNvbXBsZXRlXCIsTSksdC5yZW1vdmVMaXN0ZW5lcihcImFib3J0XCIsRiksdC5yZW1vdmVMaXN0ZW5lcihcInJlcXVlc3RcIixxKSx0LnJlcSYmdC5yZXEucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixNKSx0LnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsVSksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsVSksdC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLE0pLHQucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixXKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwkKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixGKX07aWYoZS5zaWduYWwmJiFEKXtjb25zdCBpPSgpPT57Y29uc3Qgcj1uO0goKSxyLmNhbGwodCxuZXcgbyh2b2lkIDAse2NhdXNlOmUuc2lnbmFsLnJlYXNvbn0pKX07aWYoZS5zaWduYWwuYWJvcnRlZClyLm5leHRUaWNrKGkpO2Vsc2V7Y29uc3Qgcj1uO249bCgoKC4uLm4pPT57ZS5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsaSksci5hcHBseSh0LG4pfSkpLGUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGkpfX1yZXR1cm4gSH10LmV4cG9ydHM9ayx0LmV4cG9ydHMuZmluaXNoZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtsZXQgcj0hMTtyZXR1cm4gbnVsbD09PWUmJihlPXUpLG51bGwhPT0obj1lKSYmdm9pZCAwIT09biYmbi5jbGVhbnVwJiYoaChlLmNsZWFudXAsXCJjbGVhbnVwXCIpLHI9ZS5jbGVhbnVwKSxuZXcgcCgoKG4sbyk9Pntjb25zdCBpPWsodCxlLCh0PT57ciYmaSgpLHQ/byh0KTpuKCl9KSl9KSl9fSw5MTM6KHQsZSxuKT0+e2NvbnN0IHI9big1MzMpLHtQcm9taXNlUHJvdG90eXBlVGhlbjpvLFN5bWJvbEFzeW5jSXRlcmF0b3I6aSxTeW1ib2xJdGVyYXRvcjphfT1uKDE5MSkse0J1ZmZlcjpzfT1uKDQ4NSkse0VSUl9JTlZBTElEX0FSR19UWVBFOnUsRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUzpsfT1uKDE0MSkuY29kZXM7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtsZXQgYyxmO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgcylyZXR1cm4gbmV3IHQoe29iamVjdE1vZGU6ITAsLi4ubixyZWFkKCl7dGhpcy5wdXNoKGUpLHRoaXMucHVzaChudWxsKX19KTtpZihlJiZlW2ldKWY9ITAsYz1lW2ldKCk7ZWxzZXtpZighZXx8IWVbYV0pdGhyb3cgbmV3IHUoXCJpdGVyYWJsZVwiLFtcIkl0ZXJhYmxlXCJdLGUpO2Y9ITEsYz1lW2FdKCl9Y29uc3QgZD1uZXcgdCh7b2JqZWN0TW9kZTohMCxoaWdoV2F0ZXJNYXJrOjEsLi4ubn0pO2xldCBoPSExO3JldHVybiBkLl9yZWFkPWZ1bmN0aW9uKCl7aHx8KGg9ITAsYXN5bmMgZnVuY3Rpb24oKXtmb3IoOzspe3RyeXtjb25zdHt2YWx1ZTp0LGRvbmU6ZX09Zj9hd2FpdCBjLm5leHQoKTpjLm5leHQoKTtpZihlKWQucHVzaChudWxsKTtlbHNle2NvbnN0IGU9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50aGVuP2F3YWl0IHQ6dDtpZihudWxsPT09ZSl0aHJvdyBoPSExLG5ldyBsO2lmKGQucHVzaChlKSljb250aW51ZTtoPSExfX1jYXRjaCh0KXtkLmRlc3Ryb3kodCl9YnJlYWt9fSgpKX0sZC5fZGVzdHJveT1mdW5jdGlvbih0LGUpe28oYXN5bmMgZnVuY3Rpb24odCl7Y29uc3QgZT1udWxsIT10LG49XCJmdW5jdGlvblwiPT10eXBlb2YgYy50aHJvdztpZihlJiZuKXtjb25zdHt2YWx1ZTplLGRvbmU6bn09YXdhaXQgYy50aHJvdyh0KTtpZihhd2FpdCBlLG4pcmV0dXJufWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMucmV0dXJuKXtjb25zdHt2YWx1ZTp0fT1hd2FpdCBjLnJldHVybigpO2F3YWl0IHR9fSh0KSwoKCk9PnIubmV4dFRpY2soZSx0KSksKG49PnIubmV4dFRpY2soZSxufHx0KSkpfSxkfX0sMjAwOih0LGUsbik9Pntjb25zdHtBcnJheUlzQXJyYXk6cixPYmplY3RTZXRQcm90b3R5cGVPZjpvfT1uKDE5MSkse0V2ZW50RW1pdHRlcjppfT1uKDQ2NSk7ZnVuY3Rpb24gYSh0KXtpLmNhbGwodGhpcyx0KX1mdW5jdGlvbiBzKHQsZSxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnByZXBlbmRMaXN0ZW5lcilyZXR1cm4gdC5wcmVwZW5kTGlzdGVuZXIoZSxuKTt0Ll9ldmVudHMmJnQuX2V2ZW50c1tlXT9yKHQuX2V2ZW50c1tlXSk/dC5fZXZlbnRzW2VdLnVuc2hpZnQobik6dC5fZXZlbnRzW2VdPVtuLHQuX2V2ZW50c1tlXV06dC5vbihlLG4pfW8oYS5wcm90b3R5cGUsaS5wcm90b3R5cGUpLG8oYSxpKSxhLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzO2Z1bmN0aW9uIHIoZSl7dC53cml0YWJsZSYmITE9PT10LndyaXRlKGUpJiZuLnBhdXNlJiZuLnBhdXNlKCl9ZnVuY3Rpb24gbygpe24ucmVhZGFibGUmJm4ucmVzdW1lJiZuLnJlc3VtZSgpfW4ub24oXCJkYXRhXCIsciksdC5vbihcImRyYWluXCIsbyksdC5faXNTdGRpb3x8ZSYmITE9PT1lLmVuZHx8KG4ub24oXCJlbmRcIix1KSxuLm9uKFwiY2xvc2VcIixsKSk7bGV0IGE9ITE7ZnVuY3Rpb24gdSgpe2F8fChhPSEwLHQuZW5kKCkpfWZ1bmN0aW9uIGwoKXthfHwoYT0hMCxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmRlc3Ryb3kmJnQuZGVzdHJveSgpKX1mdW5jdGlvbiBjKHQpe2YoKSwwPT09aS5saXN0ZW5lckNvdW50KHRoaXMsXCJlcnJvclwiKSYmdGhpcy5lbWl0KFwiZXJyb3JcIix0KX1mdW5jdGlvbiBmKCl7bi5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixyKSx0LnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixvKSxuLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsdSksbi5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsbCksbi5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsYyksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsYyksbi5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGYpLG4ucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGYpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGYpfXJldHVybiBzKG4sXCJlcnJvclwiLGMpLHModCxcImVycm9yXCIsYyksbi5vbihcImVuZFwiLGYpLG4ub24oXCJjbG9zZVwiLGYpLHQub24oXCJjbG9zZVwiLGYpLHQuZW1pdChcInBpcGVcIixuKSx0fSx0LmV4cG9ydHM9e1N0cmVhbTphLHByZXBlbmRMaXN0ZW5lcjpzfX0sNTU0Oih0LGUsbik9Pntjb25zdCByPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyfHxuKDg3NikuQWJvcnRDb250cm9sbGVyLHtjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1ZBTFVFOm8sRVJSX0lOVkFMSURfQVJHX1RZUEU6aSxFUlJfTUlTU0lOR19BUkdTOmEsRVJSX09VVF9PRl9SQU5HRTpzfSxBYm9ydEVycm9yOnV9PW4oMTQxKSx7dmFsaWRhdGVBYm9ydFNpZ25hbDpsLHZhbGlkYXRlSW50ZWdlcjpjLHZhbGlkYXRlT2JqZWN0OmZ9PW4oOTA0KSxkPW4oMTkxKS5TeW1ib2woXCJrV2Vha1wiKSx7ZmluaXNoZWQ6aH09big4NikscD1uKDgxOCkse2FkZEFib3J0U2lnbmFsTm9WYWxpZGF0ZTpnfT1uKDM3NCkse2lzV3JpdGFibGU6eSxpc05vZGVTdHJlYW06bX09bigxMzIpLHtBcnJheVByb3RvdHlwZVB1c2g6dixNYXRoRmxvb3I6YixOdW1iZXI6dyxOdW1iZXJJc05hTjpfLFByb21pc2U6RSxQcm9taXNlUmVqZWN0OlMsUHJvbWlzZVByb3RvdHlwZVRoZW46QSxTeW1ib2w6SX09bigxOTEpLFQ9SShcImtFbXB0eVwiKSxSPUkoXCJrRW9mXCIpO2Z1bmN0aW9uIHgodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBpKFwiZm5cIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTtudWxsIT1lJiZmKGUsXCJvcHRpb25zXCIpLG51bGwhPShudWxsPT1lP3ZvaWQgMDplLnNpZ25hbCkmJmwoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKTtsZXQgbj0xO3JldHVybiBudWxsIT0obnVsbD09ZT92b2lkIDA6ZS5jb25jdXJyZW5jeSkmJihuPWIoZS5jb25jdXJyZW5jeSkpLGMobixcImNvbmN1cnJlbmN5XCIsMSksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIG8saTtjb25zdCBhPW5ldyByLHM9dGhpcyxsPVtdLGM9YS5zaWduYWwsZj17c2lnbmFsOmN9LGQ9KCk9PmEuYWJvcnQoKTtsZXQgaCxwO251bGwhPWUmJm51bGwhPT0obz1lLnNpZ25hbCkmJnZvaWQgMCE9PW8mJm8uYWJvcnRlZCYmZCgpLG51bGw9PWV8fG51bGw9PT0oaT1lLnNpZ25hbCl8fHZvaWQgMD09PWl8fGkuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZCk7bGV0IGc9ITE7ZnVuY3Rpb24geSgpe2c9ITB9IWFzeW5jIGZ1bmN0aW9uKCl7dHJ5e2ZvciBhd2FpdChsZXQgZSBvZiBzKXt2YXIgcjtpZihnKXJldHVybjtpZihjLmFib3J0ZWQpdGhyb3cgbmV3IHU7dHJ5e2U9dChlLGYpfWNhdGNoKHQpe2U9Uyh0KX1lIT09VCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG51bGw9PT0ocj1lKXx8dm9pZCAwPT09cj92b2lkIDA6ci5jYXRjaCkmJmUuY2F0Y2goeSksbC5wdXNoKGUpLGgmJihoKCksaD1udWxsKSwhZyYmbC5sZW5ndGgmJmwubGVuZ3RoPj1uJiZhd2FpdCBuZXcgRSgodD0+e3A9dH0pKSl9bC5wdXNoKFIpfWNhdGNoKHQpe2NvbnN0IGU9Uyh0KTtBKGUsdm9pZCAwLHkpLGwucHVzaChlKX1maW5hbGx5e3ZhciBvO2c9ITAsaCYmKGgoKSxoPW51bGwpLG51bGw9PWV8fG51bGw9PT0obz1lLnNpZ25hbCl8fHZvaWQgMD09PW98fG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZCl9fSgpO3RyeXtmb3IoOzspe2Zvcig7bC5sZW5ndGg+MDspe2NvbnN0IHQ9YXdhaXQgbFswXTtpZih0PT09UilyZXR1cm47aWYoYy5hYm9ydGVkKXRocm93IG5ldyB1O3QhPT1UJiYoeWllbGQgdCksbC5zaGlmdCgpLHAmJihwKCkscD1udWxsKX1hd2FpdCBuZXcgRSgodD0+e2g9dH0pKX19ZmluYWxseXthLmFib3J0KCksZz0hMCxwJiYocCgpLHA9bnVsbCl9fS5jYWxsKHRoaXMpfWFzeW5jIGZ1bmN0aW9uIEModCxlPXZvaWQgMCl7Zm9yIGF3YWl0KGNvbnN0IG4gb2YgQi5jYWxsKHRoaXMsdCxlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBCKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgaShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7cmV0dXJuIHguY2FsbCh0aGlzLChhc3luYyBmdW5jdGlvbihlLG4pe3JldHVybiBhd2FpdCB0KGUsbik/ZTpUfSksZSl9Y2xhc3MgayBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlcihcInJlZHVjZVwiKSx0aGlzLm1lc3NhZ2U9XCJSZWR1Y2Ugb2YgYW4gZW1wdHkgc3RyZWFtIHJlcXVpcmVzIGFuIGluaXRpYWwgdmFsdWVcIn19ZnVuY3Rpb24gTCh0KXtpZih0PXcodCksXyh0KSlyZXR1cm4gMDtpZih0PDApdGhyb3cgbmV3IHMoXCJudW1iZXJcIixcIj49IDBcIix0KTtyZXR1cm4gdH10LmV4cG9ydHMuc3RyZWFtUmV0dXJuaW5nT3BlcmF0b3JzPXthc0luZGV4ZWRQYWlyczpmdW5jdGlvbih0PXZvaWQgMCl7cmV0dXJuIG51bGwhPXQmJmYodCxcIm9wdGlvbnNcIiksbnVsbCE9KG51bGw9PXQ/dm9pZCAwOnQuc2lnbmFsKSYmbCh0LnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLGFzeW5jIGZ1bmN0aW9uKigpe2xldCBlPTA7Zm9yIGF3YWl0KGNvbnN0IHIgb2YgdGhpcyl7dmFyIG47aWYobnVsbCE9dCYmbnVsbCE9PShuPXQuc2lnbmFsKSYmdm9pZCAwIT09biYmbi5hYm9ydGVkKXRocm93IG5ldyB1KHtjYXVzZTp0LnNpZ25hbC5yZWFzb259KTt5aWVsZFtlKysscl19fS5jYWxsKHRoaXMpfSxkcm9wOmZ1bmN0aW9uKHQsZT12b2lkIDApe3JldHVybiBudWxsIT1lJiZmKGUsXCJvcHRpb25zXCIpLG51bGwhPShudWxsPT1lP3ZvaWQgMDplLnNpZ25hbCkmJmwoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSx0PUwodCksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIG47aWYobnVsbCE9ZSYmbnVsbCE9PShuPWUuc2lnbmFsKSYmdm9pZCAwIT09biYmbi5hYm9ydGVkKXRocm93IG5ldyB1O2ZvciBhd2FpdChjb25zdCBuIG9mIHRoaXMpe3ZhciByO2lmKG51bGwhPWUmJm51bGwhPT0ocj1lLnNpZ25hbCkmJnZvaWQgMCE9PXImJnIuYWJvcnRlZCl0aHJvdyBuZXcgdTt0LS08PTAmJih5aWVsZCBuKX19LmNhbGwodGhpcyl9LGZpbHRlcjpCLGZsYXRNYXA6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXguY2FsbCh0aGlzLHQsZSk7cmV0dXJuIGFzeW5jIGZ1bmN0aW9uKigpe2ZvciBhd2FpdChjb25zdCB0IG9mIG4peWllbGQqdH0uY2FsbCh0aGlzKX0sbWFwOngsdGFrZTpmdW5jdGlvbih0LGU9dm9pZCAwKXtyZXR1cm4gbnVsbCE9ZSYmZihlLFwib3B0aW9uc1wiKSxudWxsIT0obnVsbD09ZT92b2lkIDA6ZS5zaWduYWwpJiZsKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIiksdD1MKHQpLGFzeW5jIGZ1bmN0aW9uKigpe3ZhciBuO2lmKG51bGwhPWUmJm51bGwhPT0obj1lLnNpZ25hbCkmJnZvaWQgMCE9PW4mJm4uYWJvcnRlZCl0aHJvdyBuZXcgdTtmb3IgYXdhaXQoY29uc3QgbiBvZiB0aGlzKXt2YXIgcjtpZihudWxsIT1lJiZudWxsIT09KHI9ZS5zaWduYWwpJiZ2b2lkIDAhPT1yJiZyLmFib3J0ZWQpdGhyb3cgbmV3IHU7aWYoISh0LS0gPjApKXJldHVybjt5aWVsZCBufX0uY2FsbCh0aGlzKX0sY29tcG9zZTpmdW5jdGlvbih0LGUpe2lmKG51bGwhPWUmJmYoZSxcIm9wdGlvbnNcIiksbnVsbCE9KG51bGw9PWU/dm9pZCAwOmUuc2lnbmFsKSYmbChlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLG0odCkmJiF5KHQpKXRocm93IG5ldyBvKFwic3RyZWFtXCIsdCxcIm11c3QgYmUgd3JpdGFibGVcIik7Y29uc3Qgbj1wKHRoaXMsdCk7cmV0dXJuIG51bGwhPWUmJmUuc2lnbmFsJiZnKGUuc2lnbmFsLG4pLG59fSx0LmV4cG9ydHMucHJvbWlzZVJldHVybmluZ09wZXJhdG9ycz17ZXZlcnk6YXN5bmMgZnVuY3Rpb24odCxlPXZvaWQgMCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgaShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7cmV0dXJuIWF3YWl0IEMuY2FsbCh0aGlzLChhc3luYyguLi5lKT0+IWF3YWl0IHQoLi4uZSkpLGUpfSxmb3JFYWNoOmFzeW5jIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgaShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7Zm9yIGF3YWl0KGNvbnN0IG4gb2YgeC5jYWxsKHRoaXMsKGFzeW5jIGZ1bmN0aW9uKGUsbil7cmV0dXJuIGF3YWl0IHQoZSxuKSxUfSksZSkpO30scmVkdWNlOmFzeW5jIGZ1bmN0aW9uKHQsZSxuKXt2YXIgbztpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBpKFwicmVkdWNlclwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO251bGwhPW4mJmYobixcIm9wdGlvbnNcIiksbnVsbCE9KG51bGw9PW4/dm9pZCAwOm4uc2lnbmFsKSYmbChuLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpO2xldCBhPWFyZ3VtZW50cy5sZW5ndGg+MTtpZihudWxsIT1uJiZudWxsIT09KG89bi5zaWduYWwpJiZ2b2lkIDAhPT1vJiZvLmFib3J0ZWQpe2NvbnN0IHQ9bmV3IHUodm9pZCAwLHtjYXVzZTpuLnNpZ25hbC5yZWFzb259KTt0aHJvdyB0aGlzLm9uY2UoXCJlcnJvclwiLCgoKT0+e30pKSxhd2FpdCBoKHRoaXMuZGVzdHJveSh0KSksdH1jb25zdCBzPW5ldyByLGM9cy5zaWduYWw7aWYobnVsbCE9biYmbi5zaWduYWwpe2NvbnN0IHQ9e29uY2U6ITAsW2RdOnRoaXN9O24uc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgoKT0+cy5hYm9ydCgpKSx0KX1sZXQgcD0hMTt0cnl7Zm9yIGF3YWl0KGNvbnN0IHIgb2YgdGhpcyl7dmFyIGc7aWYocD0hMCxudWxsIT1uJiZudWxsIT09KGc9bi5zaWduYWwpJiZ2b2lkIDAhPT1nJiZnLmFib3J0ZWQpdGhyb3cgbmV3IHU7YT9lPWF3YWl0IHQoZSxyLHtzaWduYWw6Y30pOihlPXIsYT0hMCl9aWYoIXAmJiFhKXRocm93IG5ldyBrfWZpbmFsbHl7cy5hYm9ydCgpfXJldHVybiBlfSx0b0FycmF5OmFzeW5jIGZ1bmN0aW9uKHQpe251bGwhPXQmJmYodCxcIm9wdGlvbnNcIiksbnVsbCE9KG51bGw9PXQ/dm9pZCAwOnQuc2lnbmFsKSYmbCh0LnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpO2NvbnN0IGU9W107Zm9yIGF3YWl0KGNvbnN0IHIgb2YgdGhpcyl7dmFyIG47aWYobnVsbCE9dCYmbnVsbCE9PShuPXQuc2lnbmFsKSYmdm9pZCAwIT09biYmbi5hYm9ydGVkKXRocm93IG5ldyB1KHZvaWQgMCx7Y2F1c2U6dC5zaWduYWwucmVhc29ufSk7dihlLHIpfXJldHVybiBlfSxzb21lOkMsZmluZDphc3luYyBmdW5jdGlvbih0LGUpe2ZvciBhd2FpdChjb25zdCBuIG9mIEIuY2FsbCh0aGlzLHQsZSkpcmV0dXJuIG59fX0sNDY3Oih0LGUsbik9Pntjb25zdHtPYmplY3RTZXRQcm90b3R5cGVPZjpyfT1uKDE5MSk7dC5leHBvcnRzPWk7Y29uc3Qgbz1uKDIxMCk7ZnVuY3Rpb24gaSh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkodCk7by5jYWxsKHRoaXMsdCl9cihpLnByb3RvdHlwZSxvLnByb3RvdHlwZSkscihpLG8pLGkucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe24obnVsbCx0KX19LDc1NDoodCxlLG4pPT57Y29uc3Qgcj1uKDUzMykse0FycmF5SXNBcnJheTpvLFByb21pc2U6aSxTeW1ib2xBc3luY0l0ZXJhdG9yOmF9PW4oMTkxKSxzPW4oODYpLHtvbmNlOnV9PW4oNzc1KSxsPW4oMjMwKSxjPW4oMTgyKSx7YWdncmVnYXRlVHdvRXJyb3JzOmYsY29kZXM6e0VSUl9JTlZBTElEX0FSR19UWVBFOmQsRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFOmgsRVJSX01JU1NJTkdfQVJHUzpwLEVSUl9TVFJFQU1fREVTVFJPWUVEOmcsRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U6eX0sQWJvcnRFcnJvcjptfT1uKDE0MSkse3ZhbGlkYXRlRnVuY3Rpb246dix2YWxpZGF0ZUFib3J0U2lnbmFsOmJ9PW4oOTA0KSx7aXNJdGVyYWJsZTp3LGlzUmVhZGFibGU6Xyxpc1JlYWRhYmxlTm9kZVN0cmVhbTpFLGlzTm9kZVN0cmVhbTpTLGlzVHJhbnNmb3JtU3RyZWFtOkEsaXNXZWJTdHJlYW06SSxpc1JlYWRhYmxlU3RyZWFtOlQsaXNSZWFkYWJsZUVuZGVkOlJ9PW4oMTMyKSx4PWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyfHxuKDg3NikuQWJvcnRDb250cm9sbGVyO2xldCBDLEI7ZnVuY3Rpb24gayh0LGUsbil7bGV0IHI9ITE7dC5vbihcImNsb3NlXCIsKCgpPT57cj0hMH0pKTtyZXR1cm57ZGVzdHJveTplPT57cnx8KHI9ITAsbC5kZXN0cm95ZXIodCxlfHxuZXcgZyhcInBpcGVcIikpKX0sY2xlYW51cDpzKHQse3JlYWRhYmxlOmUsd3JpdGFibGU6bn0sKHQ9PntyPSF0fSkpfX1mdW5jdGlvbiBMKHQpe2lmKHcodCkpcmV0dXJuIHQ7aWYoRSh0KSlyZXR1cm4gYXN5bmMgZnVuY3Rpb24qKHQpe0J8fChCPW4oODU4KSk7eWllbGQqQi5wcm90b3R5cGVbYV0uY2FsbCh0KX0odCk7dGhyb3cgbmV3IGQoXCJ2YWxcIixbXCJSZWFkYWJsZVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIl0sdCl9YXN5bmMgZnVuY3Rpb24gTyh0LGUsbix7ZW5kOnJ9KXtsZXQgbyxhPW51bGw7Y29uc3QgdT10PT57aWYodCYmKG89dCksYSl7Y29uc3QgdD1hO2E9bnVsbCx0KCl9fSxsPSgpPT5uZXcgaSgoKHQsZSk9PntvP2Uobyk6YT0oKT0+e28/ZShvKTp0KCl9fSkpO2Uub24oXCJkcmFpblwiLHUpO2NvbnN0IGM9cyhlLHtyZWFkYWJsZTohMX0sdSk7dHJ5e2Uud3JpdGFibGVOZWVkRHJhaW4mJmF3YWl0IGwoKTtmb3IgYXdhaXQoY29uc3QgbiBvZiB0KWUud3JpdGUobil8fGF3YWl0IGwoKTtyJiZlLmVuZCgpLGF3YWl0IGwoKSxuKCl9Y2F0Y2godCl7bihvIT09dD9mKG8sdCk6dCl9ZmluYWxseXtjKCksZS5vZmYoXCJkcmFpblwiLHUpfX1hc3luYyBmdW5jdGlvbiBVKHQsZSxuLHtlbmQ6cn0pe0EoZSkmJihlPWUud3JpdGFibGUpO2NvbnN0IG89ZS5nZXRXcml0ZXIoKTt0cnl7Zm9yIGF3YWl0KGNvbnN0IGUgb2YgdClhd2FpdCBvLnJlYWR5LG8ud3JpdGUoZSkuY2F0Y2goKCgpPT57fSkpO2F3YWl0IG8ucmVhZHksciYmYXdhaXQgby5jbG9zZSgpLG4oKX1jYXRjaCh0KXt0cnl7YXdhaXQgby5hYm9ydCh0KSxuKHQpfWNhdGNoKHQpe24odCl9fX1mdW5jdGlvbiBqKHQsZSxpKXtpZigxPT09dC5sZW5ndGgmJm8odFswXSkmJih0PXRbMF0pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IHAoXCJzdHJlYW1zXCIpO2NvbnN0IGE9bmV3IHgscz1hLnNpZ25hbCx1PW51bGw9PWk/dm9pZCAwOmkuc2lnbmFsLGw9W107ZnVuY3Rpb24gZigpe00obmV3IG0pfWxldCBnLHk7Yih1LFwib3B0aW9ucy5zaWduYWxcIiksbnVsbD09dXx8dS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixmKTtjb25zdCB2PVtdO2xldCBSLEI9MDtmdW5jdGlvbiBqKHQpe00odCwwPT0tLUIpfWZ1bmN0aW9uIE0odCxuKXtpZighdHx8ZyYmXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiIT09Zy5jb2RlfHwoZz10KSxnfHxuKXtmb3IoO3YubGVuZ3RoOyl2LnNoaWZ0KCkoZyk7bnVsbD09dXx8dS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixmKSxhLmFib3J0KCksbiYmKGd8fGwuZm9yRWFjaCgodD0+dCgpKSksci5uZXh0VGljayhlLGcseSkpfX1mb3IobGV0IEQ9MDtEPHQubGVuZ3RoO0QrKyl7Y29uc3QgRj10W0RdLHo9RDx0Lmxlbmd0aC0xLHE9RD4wLEg9enx8ITEhPT0obnVsbD09aT92b2lkIDA6aS5lbmQpLFY9RD09PXQubGVuZ3RoLTE7aWYoUyhGKSl7aWYoSCl7Y29uc3R7ZGVzdHJveTpHLGNsZWFudXA6Sn09ayhGLHoscSk7di5wdXNoKEcpLF8oRikmJlYmJmwucHVzaChKKX1mdW5jdGlvbiBQKHQpe3QmJlwiQWJvcnRFcnJvclwiIT09dC5uYW1lJiZcIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCIhPT10LmNvZGUmJmoodCl9Ri5vbihcImVycm9yXCIsUCksXyhGKSYmViYmbC5wdXNoKCgoKT0+e0YucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLFApfSkpfWlmKDA9PT1EKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEYpe2lmKFI9Rih7c2lnbmFsOnN9KSwhdyhSKSl0aHJvdyBuZXcgaChcIkl0ZXJhYmxlLCBBc3luY0l0ZXJhYmxlIG9yIFN0cmVhbVwiLFwic291cmNlXCIsUil9ZWxzZSBSPXcoRil8fEUoRil8fEEoRik/RjpjLmZyb20oRik7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBGKXt2YXIgVztpZihBKFIpKVI9TChudWxsPT09KFc9Uil8fHZvaWQgMD09PVc/dm9pZCAwOlcucmVhZGFibGUpO2Vsc2UgUj1MKFIpO2lmKFI9RihSLHtzaWduYWw6c30pLHope2lmKCF3KFIsITApKXRocm93IG5ldyBoKFwiQXN5bmNJdGVyYWJsZVwiLGB0cmFuc2Zvcm1bJHtELTF9XWAsUil9ZWxzZXt2YXIgJDtDfHwoQz1uKDQ2NykpO2NvbnN0IFk9bmV3IEMoe29iamVjdE1vZGU6ITB9KSxLPW51bGw9PT0oJD1SKXx8dm9pZCAwPT09JD92b2lkIDA6JC50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEspQisrLEsuY2FsbChSLCh0PT57eT10LG51bGwhPXQmJlkud3JpdGUodCksSCYmWS5lbmQoKSxyLm5leHRUaWNrKGopfSksKHQ9PntZLmRlc3Ryb3kodCksci5uZXh0VGljayhqLHQpfSkpO2Vsc2UgaWYodyhSLCEwKSlCKyssTyhSLFksaix7ZW5kOkh9KTtlbHNle2lmKCFUKFIpJiYhQShSKSl0aHJvdyBuZXcgaChcIkFzeW5jSXRlcmFibGUgb3IgUHJvbWlzZVwiLFwiZGVzdGluYXRpb25cIixSKTt7Y29uc3QgUT1SLnJlYWRhYmxlfHxSO0IrKyxPKFEsWSxqLHtlbmQ6SH0pfX1SPVk7Y29uc3R7ZGVzdHJveTpYLGNsZWFudXA6Wn09ayhSLCExLCEwKTt2LnB1c2goWCksViYmbC5wdXNoKFopfX1lbHNlIGlmKFMoRikpe2lmKEUoUikpe0IrPTI7Y29uc3QgdHQ9TihSLEYsaix7ZW5kOkh9KTtfKEYpJiZWJiZsLnB1c2godHQpfWVsc2UgaWYoQShSKXx8VChSKSl7Y29uc3QgZXQ9Ui5yZWFkYWJsZXx8UjtCKyssTyhldCxGLGose2VuZDpIfSl9ZWxzZXtpZighdyhSKSl0aHJvdyBuZXcgZChcInZhbFwiLFtcIlJlYWRhYmxlXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiLFwiUmVhZGFibGVTdHJlYW1cIixcIlRyYW5zZm9ybVN0cmVhbVwiXSxSKTtCKyssTyhSLEYsaix7ZW5kOkh9KX1SPUZ9ZWxzZSBpZihJKEYpKXtpZihFKFIpKUIrKyxVKEwoUiksRixqLHtlbmQ6SH0pO2Vsc2UgaWYoVChSKXx8dyhSKSlCKyssVShSLEYsaix7ZW5kOkh9KTtlbHNle2lmKCFBKFIpKXRocm93IG5ldyBkKFwidmFsXCIsW1wiUmVhZGFibGVcIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCIsXCJSZWFkYWJsZVN0cmVhbVwiLFwiVHJhbnNmb3JtU3RyZWFtXCJdLFIpO0IrKyxVKFIucmVhZGFibGUsRixqLHtlbmQ6SH0pfVI9Rn1lbHNlIFI9Yy5mcm9tKEYpfXJldHVybihudWxsIT1zJiZzLmFib3J0ZWR8fG51bGwhPXUmJnUuYWJvcnRlZCkmJnIubmV4dFRpY2soZiksUn1mdW5jdGlvbiBOKHQsZSxuLHtlbmQ6b30pe2xldCBpPSExO2lmKGUub24oXCJjbG9zZVwiLCgoKT0+e2l8fG4obmV3IHkpfSkpLHQucGlwZShlLHtlbmQ6ITF9KSxvKXtmdW5jdGlvbiBhKCl7aT0hMCxlLmVuZCgpfVIodCk/ci5uZXh0VGljayhhKTp0Lm9uY2UoXCJlbmRcIixhKX1lbHNlIG4oKTtyZXR1cm4gcyh0LHtyZWFkYWJsZTohMCx3cml0YWJsZTohMX0sKGU9Pntjb25zdCByPXQuX3JlYWRhYmxlU3RhdGU7ZSYmXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiPT09ZS5jb2RlJiZyJiZyLmVuZGVkJiYhci5lcnJvcmVkJiYhci5lcnJvckVtaXR0ZWQ/dC5vbmNlKFwiZW5kXCIsbikub25jZShcImVycm9yXCIsbik6bihlKX0pKSxzKGUse3JlYWRhYmxlOiExLHdyaXRhYmxlOiEwfSxuKX10LmV4cG9ydHM9e3BpcGVsaW5lSW1wbDpqLHBpcGVsaW5lOmZ1bmN0aW9uKC4uLnQpe3JldHVybiBqKHQsdShmdW5jdGlvbih0KXtyZXR1cm4gdih0W3QubGVuZ3RoLTFdLFwic3RyZWFtc1tzdHJlYW0ubGVuZ3RoIC0gMV1cIiksdC5wb3AoKX0odCkpKX19fSw4NTg6KHQsZSxuKT0+e2NvbnN0IHI9big1MzMpLHtBcnJheVByb3RvdHlwZUluZGV4T2Y6byxOdW1iZXJJc0ludGVnZXI6aSxOdW1iZXJJc05hTjphLE51bWJlclBhcnNlSW50OnMsT2JqZWN0RGVmaW5lUHJvcGVydGllczp1LE9iamVjdEtleXM6bCxPYmplY3RTZXRQcm90b3R5cGVPZjpjLFByb21pc2U6ZixTYWZlU2V0OmQsU3ltYm9sQXN5bmNJdGVyYXRvcjpoLFN5bWJvbDpwfT1uKDE5MSk7dC5leHBvcnRzPVcsVy5SZWFkYWJsZVN0YXRlPVA7Y29uc3R7RXZlbnRFbWl0dGVyOmd9PW4oNDY1KSx7U3RyZWFtOnkscHJlcGVuZExpc3RlbmVyOm19PW4oMjAwKSx7QnVmZmVyOnZ9PW4oNDg1KSx7YWRkQWJvcnRTaWduYWw6Yn09bigzNzQpLHc9big4Nik7bGV0IF89big3NzUpLmRlYnVnbG9nKFwic3RyZWFtXCIsKHQ9PntfPXR9KSk7Y29uc3QgRT1uKDYxNiksUz1uKDIzMCkse2dldEhpZ2hXYXRlck1hcms6QSxnZXREZWZhdWx0SGlnaFdhdGVyTWFyazpJfT1uKDQ5OCkse2FnZ3JlZ2F0ZVR3b0Vycm9yczpULGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVFlQRTpSLEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEOngsRVJSX09VVF9PRl9SQU5HRTpDLEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0Y6QixFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UOmt9fT1uKDE0MSkse3ZhbGlkYXRlT2JqZWN0Okx9PW4oOTA0KSxPPXAoXCJrUGF1c2VkXCIpLHtTdHJpbmdEZWNvZGVyOlV9PW4oNDY0KSxqPW4oOTEzKTtjKFcucHJvdG90eXBlLHkucHJvdG90eXBlKSxjKFcseSk7Y29uc3QgTj0oKT0+e30se2Vycm9yT3JEZXN0cm95Ok19PVM7ZnVuY3Rpb24gUCh0LGUscil7XCJib29sZWFuXCIhPXR5cGVvZiByJiYocj1lIGluc3RhbmNlb2YgbigxODIpKSx0aGlzLm9iamVjdE1vZGU9ISghdHx8IXQub2JqZWN0TW9kZSksciYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEoIXR8fCF0LnJlYWRhYmxlT2JqZWN0TW9kZSkpLHRoaXMuaGlnaFdhdGVyTWFyaz10P0EodGhpcyx0LFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIscik6SSghMSksdGhpcy5idWZmZXI9bmV3IEUsdGhpcy5sZW5ndGg9MCx0aGlzLnBpcGVzPVtdLHRoaXMuZmxvd2luZz1udWxsLHRoaXMuZW5kZWQ9ITEsdGhpcy5lbmRFbWl0dGVkPSExLHRoaXMucmVhZGluZz0hMSx0aGlzLmNvbnN0cnVjdGVkPSEwLHRoaXMuc3luYz0hMCx0aGlzLm5lZWRSZWFkYWJsZT0hMSx0aGlzLmVtaXR0ZWRSZWFkYWJsZT0hMSx0aGlzLnJlYWRhYmxlTGlzdGVuaW5nPSExLHRoaXMucmVzdW1lU2NoZWR1bGVkPSExLHRoaXNbT109bnVsbCx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmVtaXRDbG9zZT0hdHx8ITEhPT10LmVtaXRDbG9zZSx0aGlzLmF1dG9EZXN0cm95PSF0fHwhMSE9PXQuYXV0b0Rlc3Ryb3ksdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5lcnJvcmVkPW51bGwsdGhpcy5jbG9zZWQ9ITEsdGhpcy5jbG9zZUVtaXR0ZWQ9ITEsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9dCYmdC5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMuYXdhaXREcmFpbldyaXRlcnM9bnVsbCx0aGlzLm11bHRpQXdhaXREcmFpbj0hMSx0aGlzLnJlYWRpbmdNb3JlPSExLHRoaXMuZGF0YUVtaXR0ZWQ9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLHQmJnQuZW5jb2RpbmcmJih0aGlzLmRlY29kZXI9bmV3IFUodC5lbmNvZGluZyksdGhpcy5lbmNvZGluZz10LmVuY29kaW5nKX1mdW5jdGlvbiBXKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFcpKXJldHVybiBuZXcgVyh0KTtjb25zdCBlPXRoaXMgaW5zdGFuY2VvZiBuKDE4Mik7dGhpcy5fcmVhZGFibGVTdGF0ZT1uZXcgUCh0LHRoaXMsZSksdCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVhZCYmKHRoaXMuX3JlYWQ9dC5yZWFkKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmRlc3Ryb3kmJih0aGlzLl9kZXN0cm95PXQuZGVzdHJveSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb25zdHJ1Y3QmJih0aGlzLl9jb25zdHJ1Y3Q9dC5jb25zdHJ1Y3QpLHQuc2lnbmFsJiYhZSYmYih0LnNpZ25hbCx0aGlzKSkseS5jYWxsKHRoaXMsdCksUy5jb25zdHJ1Y3QodGhpcywoKCk9Pnt0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSYmSCh0aGlzLHRoaXMuX3JlYWRhYmxlU3RhdGUpfSkpfWZ1bmN0aW9uICQodCxlLG4scil7XyhcInJlYWRhYmxlQWRkQ2h1bmtcIixlKTtjb25zdCBvPXQuX3JlYWRhYmxlU3RhdGU7bGV0IGk7aWYoby5vYmplY3RNb2RlfHwoXCJzdHJpbmdcIj09dHlwZW9mIGU/KG49bnx8by5kZWZhdWx0RW5jb2Rpbmcsby5lbmNvZGluZyE9PW4mJihyJiZvLmVuY29kaW5nP2U9di5mcm9tKGUsbikudG9TdHJpbmcoby5lbmNvZGluZyk6KGU9di5mcm9tKGUsbiksbj1cIlwiKSkpOmUgaW5zdGFuY2VvZiB2P249XCJcIjp5Ll9pc1VpbnQ4QXJyYXkoZSk/KGU9eS5fdWludDhBcnJheVRvQnVmZmVyKGUpLG49XCJcIik6bnVsbCE9ZSYmKGk9bmV3IFIoXCJjaHVua1wiLFtcInN0cmluZ1wiLFwiQnVmZmVyXCIsXCJVaW50OEFycmF5XCJdLGUpKSksaSlNKHQsaSk7ZWxzZSBpZihudWxsPT09ZSlvLnJlYWRpbmc9ITEsZnVuY3Rpb24odCxlKXtpZihfKFwib25Fb2ZDaHVua1wiKSxlLmVuZGVkKXJldHVybjtpZihlLmRlY29kZXIpe2NvbnN0IHQ9ZS5kZWNvZGVyLmVuZCgpO3QmJnQubGVuZ3RoJiYoZS5idWZmZXIucHVzaCh0KSxlLmxlbmd0aCs9ZS5vYmplY3RNb2RlPzE6dC5sZW5ndGgpfWUuZW5kZWQ9ITAsZS5zeW5jP3oodCk6KGUubmVlZFJlYWRhYmxlPSExLGUuZW1pdHRlZFJlYWRhYmxlPSEwLHEodCkpfSh0LG8pO2Vsc2UgaWYoby5vYmplY3RNb2RlfHxlJiZlLmxlbmd0aD4wKWlmKHIpaWYoby5lbmRFbWl0dGVkKU0odCxuZXcgayk7ZWxzZXtpZihvLmRlc3Ryb3llZHx8by5lcnJvcmVkKXJldHVybiExO0QodCxvLGUsITApfWVsc2UgaWYoby5lbmRlZClNKHQsbmV3IEIpO2Vsc2V7aWYoby5kZXN0cm95ZWR8fG8uZXJyb3JlZClyZXR1cm4hMTtvLnJlYWRpbmc9ITEsby5kZWNvZGVyJiYhbj8oZT1vLmRlY29kZXIud3JpdGUoZSksby5vYmplY3RNb2RlfHwwIT09ZS5sZW5ndGg/RCh0LG8sZSwhMSk6SCh0LG8pKTpEKHQsbyxlLCExKX1lbHNlIHJ8fChvLnJlYWRpbmc9ITEsSCh0LG8pKTtyZXR1cm4hby5lbmRlZCYmKG8ubGVuZ3RoPG8uaGlnaFdhdGVyTWFya3x8MD09PW8ubGVuZ3RoKX1mdW5jdGlvbiBEKHQsZSxuLHIpe2UuZmxvd2luZyYmMD09PWUubGVuZ3RoJiYhZS5zeW5jJiZ0Lmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpPjA/KGUubXVsdGlBd2FpdERyYWluP2UuYXdhaXREcmFpbldyaXRlcnMuY2xlYXIoKTplLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwsZS5kYXRhRW1pdHRlZD0hMCx0LmVtaXQoXCJkYXRhXCIsbikpOihlLmxlbmd0aCs9ZS5vYmplY3RNb2RlPzE6bi5sZW5ndGgscj9lLmJ1ZmZlci51bnNoaWZ0KG4pOmUuYnVmZmVyLnB1c2gobiksZS5uZWVkUmVhZGFibGUmJnoodCkpLEgodCxlKX1XLnByb3RvdHlwZS5kZXN0cm95PVMuZGVzdHJveSxXLnByb3RvdHlwZS5fdW5kZXN0cm95PVMudW5kZXN0cm95LFcucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKHQsZSl7ZSh0KX0sVy5wcm90b3R5cGVbZy5jYXB0dXJlUmVqZWN0aW9uU3ltYm9sXT1mdW5jdGlvbih0KXt0aGlzLmRlc3Ryb3kodCl9LFcucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gJCh0aGlzLHQsZSwhMSl9LFcucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gJCh0aGlzLHQsZSwhMCl9LFcucHJvdG90eXBlLmlzUGF1c2VkPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiEwPT09dFtPXXx8ITE9PT10LmZsb3dpbmd9LFcucHJvdG90eXBlLnNldEVuY29kaW5nPWZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IFUodCk7dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPWUsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz10aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIuZW5jb2Rpbmc7Y29uc3Qgbj10aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcjtsZXQgcj1cIlwiO2Zvcihjb25zdCB0IG9mIG4pcis9ZS53cml0ZSh0KTtyZXR1cm4gbi5jbGVhcigpLFwiXCIhPT1yJiZuLnB1c2gociksdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg9ci5sZW5ndGgsdGhpc307ZnVuY3Rpb24gRih0LGUpe3JldHVybiB0PD0wfHwwPT09ZS5sZW5ndGgmJmUuZW5kZWQ/MDplLm9iamVjdE1vZGU/MTphKHQpP2UuZmxvd2luZyYmZS5sZW5ndGg/ZS5idWZmZXIuZmlyc3QoKS5sZW5ndGg6ZS5sZW5ndGg6dDw9ZS5sZW5ndGg/dDplLmVuZGVkP2UubGVuZ3RoOjB9ZnVuY3Rpb24geih0KXtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGU7XyhcImVtaXRSZWFkYWJsZVwiLGUubmVlZFJlYWRhYmxlLGUuZW1pdHRlZFJlYWRhYmxlKSxlLm5lZWRSZWFkYWJsZT0hMSxlLmVtaXR0ZWRSZWFkYWJsZXx8KF8oXCJlbWl0UmVhZGFibGVcIixlLmZsb3dpbmcpLGUuZW1pdHRlZFJlYWRhYmxlPSEwLHIubmV4dFRpY2socSx0KSl9ZnVuY3Rpb24gcSh0KXtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGU7XyhcImVtaXRSZWFkYWJsZV9cIixlLmRlc3Ryb3llZCxlLmxlbmd0aCxlLmVuZGVkKSxlLmRlc3Ryb3llZHx8ZS5lcnJvcmVkfHwhZS5sZW5ndGgmJiFlLmVuZGVkfHwodC5lbWl0KFwicmVhZGFibGVcIiksZS5lbWl0dGVkUmVhZGFibGU9ITEpLGUubmVlZFJlYWRhYmxlPSFlLmZsb3dpbmcmJiFlLmVuZGVkJiZlLmxlbmd0aDw9ZS5oaWdoV2F0ZXJNYXJrLEsodCl9ZnVuY3Rpb24gSCh0LGUpeyFlLnJlYWRpbmdNb3JlJiZlLmNvbnN0cnVjdGVkJiYoZS5yZWFkaW5nTW9yZT0hMCxyLm5leHRUaWNrKFYsdCxlKSl9ZnVuY3Rpb24gVih0LGUpe2Zvcig7IWUucmVhZGluZyYmIWUuZW5kZWQmJihlLmxlbmd0aDxlLmhpZ2hXYXRlck1hcmt8fGUuZmxvd2luZyYmMD09PWUubGVuZ3RoKTspe2NvbnN0IG49ZS5sZW5ndGg7aWYoXyhcIm1heWJlUmVhZE1vcmUgcmVhZCAwXCIpLHQucmVhZCgwKSxuPT09ZS5sZW5ndGgpYnJlYWt9ZS5yZWFkaW5nTW9yZT0hMX1mdW5jdGlvbiBHKHQpe2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZTtlLnJlYWRhYmxlTGlzdGVuaW5nPXQubGlzdGVuZXJDb3VudChcInJlYWRhYmxlXCIpPjAsZS5yZXN1bWVTY2hlZHVsZWQmJiExPT09ZVtPXT9lLmZsb3dpbmc9ITA6dC5saXN0ZW5lckNvdW50KFwiZGF0YVwiKT4wP3QucmVzdW1lKCk6ZS5yZWFkYWJsZUxpc3RlbmluZ3x8KGUuZmxvd2luZz1udWxsKX1mdW5jdGlvbiBKKHQpe18oXCJyZWFkYWJsZSBuZXh0dGljayByZWFkIDBcIiksdC5yZWFkKDApfWZ1bmN0aW9uIFkodCxlKXtfKFwicmVzdW1lXCIsZS5yZWFkaW5nKSxlLnJlYWRpbmd8fHQucmVhZCgwKSxlLnJlc3VtZVNjaGVkdWxlZD0hMSx0LmVtaXQoXCJyZXN1bWVcIiksSyh0KSxlLmZsb3dpbmcmJiFlLnJlYWRpbmcmJnQucmVhZCgwKX1mdW5jdGlvbiBLKHQpe2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZTtmb3IoXyhcImZsb3dcIixlLmZsb3dpbmcpO2UuZmxvd2luZyYmbnVsbCE9PXQucmVhZCgpOyk7fWZ1bmN0aW9uIFgodCxlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnJlYWQmJih0PVcud3JhcCh0LHtvYmplY3RNb2RlOiEwfSkpO2NvbnN0IG49YXN5bmMgZnVuY3Rpb24qKHQsZSl7bGV0IG4scj1OO2Z1bmN0aW9uIG8oZSl7dGhpcz09PXQ/KHIoKSxyPU4pOnI9ZX10Lm9uKFwicmVhZGFibGVcIixvKTtjb25zdCBpPXcodCx7d3JpdGFibGU6ITF9LCh0PT57bj10P1Qobix0KTpudWxsLHIoKSxyPU59KSk7dHJ5e2Zvcig7Oyl7Y29uc3QgZT10LmRlc3Ryb3llZD9udWxsOnQucmVhZCgpO2lmKG51bGwhPT1lKXlpZWxkIGU7ZWxzZXtpZihuKXRocm93IG47aWYobnVsbD09PW4pcmV0dXJuO2F3YWl0IG5ldyBmKG8pfX19Y2F0Y2godCl7dGhyb3cgbj1UKG4sdCksbn1maW5hbGx5eyFuJiYhMT09PShudWxsPT1lP3ZvaWQgMDplLmRlc3Ryb3lPblJldHVybil8fHZvaWQgMCE9PW4mJiF0Ll9yZWFkYWJsZVN0YXRlLmF1dG9EZXN0cm95Pyh0Lm9mZihcInJlYWRhYmxlXCIsbyksaSgpKTpTLmRlc3Ryb3llcih0LG51bGwpfX0odCxlKTtyZXR1cm4gbi5zdHJlYW09dCxufWZ1bmN0aW9uIFoodCxlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IG47cmV0dXJuIGUub2JqZWN0TW9kZT9uPWUuYnVmZmVyLnNoaWZ0KCk6IXR8fHQ+PWUubGVuZ3RoPyhuPWUuZGVjb2Rlcj9lLmJ1ZmZlci5qb2luKFwiXCIpOjE9PT1lLmJ1ZmZlci5sZW5ndGg/ZS5idWZmZXIuZmlyc3QoKTplLmJ1ZmZlci5jb25jYXQoZS5sZW5ndGgpLGUuYnVmZmVyLmNsZWFyKCkpOm49ZS5idWZmZXIuY29uc3VtZSh0LGUuZGVjb2Rlciksbn1mdW5jdGlvbiBRKHQpe2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZTtfKFwiZW5kUmVhZGFibGVcIixlLmVuZEVtaXR0ZWQpLGUuZW5kRW1pdHRlZHx8KGUuZW5kZWQ9ITAsci5uZXh0VGljayh0dCxlLHQpKX1mdW5jdGlvbiB0dCh0LGUpe2lmKF8oXCJlbmRSZWFkYWJsZU5UXCIsdC5lbmRFbWl0dGVkLHQubGVuZ3RoKSwhdC5lcnJvcmVkJiYhdC5jbG9zZUVtaXR0ZWQmJiF0LmVuZEVtaXR0ZWQmJjA9PT10Lmxlbmd0aClpZih0LmVuZEVtaXR0ZWQ9ITAsZS5lbWl0KFwiZW5kXCIpLGUud3JpdGFibGUmJiExPT09ZS5hbGxvd0hhbGZPcGVuKXIubmV4dFRpY2soZXQsZSk7ZWxzZSBpZih0LmF1dG9EZXN0cm95KXtjb25zdCB0PWUuX3dyaXRhYmxlU3RhdGU7KCF0fHx0LmF1dG9EZXN0cm95JiYodC5maW5pc2hlZHx8ITE9PT10LndyaXRhYmxlKSkmJmUuZGVzdHJveSgpfX1mdW5jdGlvbiBldCh0KXt0LndyaXRhYmxlJiYhdC53cml0YWJsZUVuZGVkJiYhdC5kZXN0cm95ZWQmJnQuZW5kKCl9bGV0IG50O2Z1bmN0aW9uIHJ0KCl7cmV0dXJuIHZvaWQgMD09PW50JiYobnQ9e30pLG50fVcucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7XyhcInJlYWRcIix0KSx2b2lkIDA9PT10P3Q9TmFOOmkodCl8fCh0PXModCwxMCkpO2NvbnN0IGU9dGhpcy5fcmVhZGFibGVTdGF0ZSxuPXQ7aWYodD5lLmhpZ2hXYXRlck1hcmsmJihlLmhpZ2hXYXRlck1hcms9ZnVuY3Rpb24odCl7aWYodD4xMDczNzQxODI0KXRocm93IG5ldyBDKFwic2l6ZVwiLFwiPD0gMUdpQlwiLHQpO3JldHVybiB0LS0sdHw9dD4+PjEsdHw9dD4+PjIsdHw9dD4+PjQsdHw9dD4+PjgsdHw9dD4+PjE2LCsrdH0odCkpLDAhPT10JiYoZS5lbWl0dGVkUmVhZGFibGU9ITEpLDA9PT10JiZlLm5lZWRSZWFkYWJsZSYmKCgwIT09ZS5oaWdoV2F0ZXJNYXJrP2UubGVuZ3RoPj1lLmhpZ2hXYXRlck1hcms6ZS5sZW5ndGg+MCl8fGUuZW5kZWQpKXJldHVybiBfKFwicmVhZDogZW1pdFJlYWRhYmxlXCIsZS5sZW5ndGgsZS5lbmRlZCksMD09PWUubGVuZ3RoJiZlLmVuZGVkP1EodGhpcyk6eih0aGlzKSxudWxsO2lmKDA9PT0odD1GKHQsZSkpJiZlLmVuZGVkKXJldHVybiAwPT09ZS5sZW5ndGgmJlEodGhpcyksbnVsbDtsZXQgcixvPWUubmVlZFJlYWRhYmxlO2lmKF8oXCJuZWVkIHJlYWRhYmxlXCIsbyksKDA9PT1lLmxlbmd0aHx8ZS5sZW5ndGgtdDxlLmhpZ2hXYXRlck1hcmspJiYobz0hMCxfKFwibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmtcIixvKSksZS5lbmRlZHx8ZS5yZWFkaW5nfHxlLmRlc3Ryb3llZHx8ZS5lcnJvcmVkfHwhZS5jb25zdHJ1Y3RlZClvPSExLF8oXCJyZWFkaW5nLCBlbmRlZCBvciBjb25zdHJ1Y3RpbmdcIixvKTtlbHNlIGlmKG8pe18oXCJkbyByZWFkXCIpLGUucmVhZGluZz0hMCxlLnN5bmM9ITAsMD09PWUubGVuZ3RoJiYoZS5uZWVkUmVhZGFibGU9ITApO3RyeXt0aGlzLl9yZWFkKGUuaGlnaFdhdGVyTWFyayl9Y2F0Y2godCl7TSh0aGlzLHQpfWUuc3luYz0hMSxlLnJlYWRpbmd8fCh0PUYobixlKSl9cmV0dXJuIHI9dD4wP1oodCxlKTpudWxsLG51bGw9PT1yPyhlLm5lZWRSZWFkYWJsZT1lLmxlbmd0aDw9ZS5oaWdoV2F0ZXJNYXJrLHQ9MCk6KGUubGVuZ3RoLT10LGUubXVsdGlBd2FpdERyYWluP2UuYXdhaXREcmFpbldyaXRlcnMuY2xlYXIoKTplLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwpLDA9PT1lLmxlbmd0aCYmKGUuZW5kZWR8fChlLm5lZWRSZWFkYWJsZT0hMCksbiE9PXQmJmUuZW5kZWQmJlEodGhpcykpLG51bGw9PT1yfHxlLmVycm9yRW1pdHRlZHx8ZS5jbG9zZUVtaXR0ZWR8fChlLmRhdGFFbWl0dGVkPSEwLHRoaXMuZW1pdChcImRhdGFcIixyKSkscn0sVy5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IHgoXCJfcmVhZCgpXCIpfSxXLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLG89dGhpcy5fcmVhZGFibGVTdGF0ZTsxPT09by5waXBlcy5sZW5ndGgmJihvLm11bHRpQXdhaXREcmFpbnx8KG8ubXVsdGlBd2FpdERyYWluPSEwLG8uYXdhaXREcmFpbldyaXRlcnM9bmV3IGQoby5hd2FpdERyYWluV3JpdGVycz9bby5hd2FpdERyYWluV3JpdGVyc106W10pKSksby5waXBlcy5wdXNoKHQpLF8oXCJwaXBlIGNvdW50PSVkIG9wdHM9JWpcIixvLnBpcGVzLmxlbmd0aCxlKTtjb25zdCBpPSghZXx8ITEhPT1lLmVuZCkmJnQhPT1yLnN0ZG91dCYmdCE9PXIuc3RkZXJyP3M6eTtmdW5jdGlvbiBhKGUscil7XyhcIm9udW5waXBlXCIpLGU9PT1uJiZyJiYhMT09PXIuaGFzVW5waXBlZCYmKHIuaGFzVW5waXBlZD0hMCxmdW5jdGlvbigpe18oXCJjbGVhbnVwXCIpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHApLHQucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixnKSx1JiZ0LnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIix1KTt0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixoKSx0LnJlbW92ZUxpc3RlbmVyKFwidW5waXBlXCIsYSksbi5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHMpLG4ucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIix5KSxuLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLGYpLGw9ITAsdSYmby5hd2FpdERyYWluV3JpdGVycyYmKCF0Ll93cml0YWJsZVN0YXRlfHx0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikmJnUoKX0oKSl9ZnVuY3Rpb24gcygpe18oXCJvbmVuZFwiKSx0LmVuZCgpfWxldCB1O28uZW5kRW1pdHRlZD9yLm5leHRUaWNrKGkpOm4ub25jZShcImVuZFwiLGkpLHQub24oXCJ1bnBpcGVcIixhKTtsZXQgbD0hMTtmdW5jdGlvbiBjKCl7bHx8KDE9PT1vLnBpcGVzLmxlbmd0aCYmby5waXBlc1swXT09PXQ/KF8oXCJmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2VcIiwwKSxvLmF3YWl0RHJhaW5Xcml0ZXJzPXQsby5tdWx0aUF3YWl0RHJhaW49ITEpOm8ucGlwZXMubGVuZ3RoPjEmJm8ucGlwZXMuaW5jbHVkZXModCkmJihfKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsby5hd2FpdERyYWluV3JpdGVycy5zaXplKSxvLmF3YWl0RHJhaW5Xcml0ZXJzLmFkZCh0KSksbi5wYXVzZSgpKSx1fHwodT1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IG49dC5fcmVhZGFibGVTdGF0ZTtuLmF3YWl0RHJhaW5Xcml0ZXJzPT09ZT8oXyhcInBpcGVPbkRyYWluXCIsMSksbi5hd2FpdERyYWluV3JpdGVycz1udWxsKTpuLm11bHRpQXdhaXREcmFpbiYmKF8oXCJwaXBlT25EcmFpblwiLG4uYXdhaXREcmFpbldyaXRlcnMuc2l6ZSksbi5hd2FpdERyYWluV3JpdGVycy5kZWxldGUoZSkpLG4uYXdhaXREcmFpbldyaXRlcnMmJjAhPT1uLmF3YWl0RHJhaW5Xcml0ZXJzLnNpemV8fCF0Lmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpfHx0LnJlc3VtZSgpfX0obix0KSx0Lm9uKFwiZHJhaW5cIix1KSl9ZnVuY3Rpb24gZihlKXtfKFwib25kYXRhXCIpO2NvbnN0IG49dC53cml0ZShlKTtfKFwiZGVzdC53cml0ZVwiLG4pLCExPT09biYmYygpfWZ1bmN0aW9uIGgoZSl7aWYoXyhcIm9uZXJyb3JcIixlKSx5KCksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaCksMD09PXQubGlzdGVuZXJDb3VudChcImVycm9yXCIpKXtjb25zdCBuPXQuX3dyaXRhYmxlU3RhdGV8fHQuX3JlYWRhYmxlU3RhdGU7biYmIW4uZXJyb3JFbWl0dGVkP00odCxlKTp0LmVtaXQoXCJlcnJvclwiLGUpfX1mdW5jdGlvbiBwKCl7dC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGcpLHkoKX1mdW5jdGlvbiBnKCl7XyhcIm9uZmluaXNoXCIpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHApLHkoKX1mdW5jdGlvbiB5KCl7XyhcInVucGlwZVwiKSxuLnVucGlwZSh0KX1yZXR1cm4gbi5vbihcImRhdGFcIixmKSxtKHQsXCJlcnJvclwiLGgpLHQub25jZShcImNsb3NlXCIscCksdC5vbmNlKFwiZmluaXNoXCIsZyksdC5lbWl0KFwicGlwZVwiLG4pLCEwPT09dC53cml0YWJsZU5lZWREcmFpbj9vLmZsb3dpbmcmJmMoKTpvLmZsb3dpbmd8fChfKFwicGlwZSByZXN1bWVcIiksbi5yZXN1bWUoKSksdH0sVy5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtpZigwPT09ZS5waXBlcy5sZW5ndGgpcmV0dXJuIHRoaXM7aWYoIXQpe2NvbnN0IHQ9ZS5waXBlcztlLnBpcGVzPVtdLHRoaXMucGF1c2UoKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmVtaXQoXCJ1bnBpcGVcIix0aGlzLHtoYXNVbnBpcGVkOiExfSk7cmV0dXJuIHRoaXN9Y29uc3Qgbj1vKGUucGlwZXMsdCk7cmV0dXJuLTE9PT1ufHwoZS5waXBlcy5zcGxpY2UobiwxKSwwPT09ZS5waXBlcy5sZW5ndGgmJnRoaXMucGF1c2UoKSx0LmVtaXQoXCJ1bnBpcGVcIix0aGlzLHtoYXNVbnBpcGVkOiExfSkpLHRoaXN9LFcucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj15LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsdCxlKSxvPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuXCJkYXRhXCI9PT10PyhvLnJlYWRhYmxlTGlzdGVuaW5nPXRoaXMubGlzdGVuZXJDb3VudChcInJlYWRhYmxlXCIpPjAsITEhPT1vLmZsb3dpbmcmJnRoaXMucmVzdW1lKCkpOlwicmVhZGFibGVcIj09PXQmJihvLmVuZEVtaXR0ZWR8fG8ucmVhZGFibGVMaXN0ZW5pbmd8fChvLnJlYWRhYmxlTGlzdGVuaW5nPW8ubmVlZFJlYWRhYmxlPSEwLG8uZmxvd2luZz0hMSxvLmVtaXR0ZWRSZWFkYWJsZT0hMSxfKFwib24gcmVhZGFibGVcIixvLmxlbmd0aCxvLnJlYWRpbmcpLG8ubGVuZ3RoP3oodGhpcyk6by5yZWFkaW5nfHxyLm5leHRUaWNrKEosdGhpcykpKSxufSxXLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1XLnByb3RvdHlwZS5vbixXLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe2NvbnN0IG49eS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLHQsZSk7cmV0dXJuXCJyZWFkYWJsZVwiPT09dCYmci5uZXh0VGljayhHLHRoaXMpLG59LFcucHJvdG90eXBlLm9mZj1XLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixXLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7Y29uc3QgZT15LnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVyblwicmVhZGFibGVcIiE9PXQmJnZvaWQgMCE9PXR8fHIubmV4dFRpY2soRyx0aGlzKSxlfSxXLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHQuZmxvd2luZ3x8KF8oXCJyZXN1bWVcIiksdC5mbG93aW5nPSF0LnJlYWRhYmxlTGlzdGVuaW5nLGZ1bmN0aW9uKHQsZSl7ZS5yZXN1bWVTY2hlZHVsZWR8fChlLnJlc3VtZVNjaGVkdWxlZD0hMCxyLm5leHRUaWNrKFksdCxlKSl9KHRoaXMsdCkpLHRbT109ITEsdGhpc30sVy5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gXyhcImNhbGwgcGF1c2UgZmxvd2luZz0lalwiLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyksITEhPT10aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcmJihfKFwicGF1c2VcIiksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPSExLHRoaXMuZW1pdChcInBhdXNlXCIpKSx0aGlzLl9yZWFkYWJsZVN0YXRlW09dPSEwLHRoaXN9LFcucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24odCl7bGV0IGU9ITE7dC5vbihcImRhdGFcIiwobj0+eyF0aGlzLnB1c2gobikmJnQucGF1c2UmJihlPSEwLHQucGF1c2UoKSl9KSksdC5vbihcImVuZFwiLCgoKT0+e3RoaXMucHVzaChudWxsKX0pKSx0Lm9uKFwiZXJyb3JcIiwodD0+e00odGhpcyx0KX0pKSx0Lm9uKFwiY2xvc2VcIiwoKCk9Pnt0aGlzLmRlc3Ryb3koKX0pKSx0Lm9uKFwiZGVzdHJveVwiLCgoKT0+e3RoaXMuZGVzdHJveSgpfSkpLHRoaXMuX3JlYWQ9KCk9PntlJiZ0LnJlc3VtZSYmKGU9ITEsdC5yZXN1bWUoKSl9O2NvbnN0IG49bCh0KTtmb3IobGV0IGU9MTtlPG4ubGVuZ3RoO2UrKyl7Y29uc3Qgcj1uW2VdO3ZvaWQgMD09PXRoaXNbcl0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbcl0mJih0aGlzW3JdPXRbcl0uYmluZCh0KSl9cmV0dXJuIHRoaXN9LFcucHJvdG90eXBlW2hdPWZ1bmN0aW9uKCl7cmV0dXJuIFgodGhpcyl9LFcucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiZMKHQsXCJvcHRpb25zXCIpLFgodGhpcyx0KX0sdShXLnByb3RvdHlwZSx7cmVhZGFibGU6e19fcHJvdG9fXzpudWxsLGdldCgpe2NvbnN0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4hKCF0fHwhMT09PXQucmVhZGFibGV8fHQuZGVzdHJveWVkfHx0LmVycm9yRW1pdHRlZHx8dC5lbmRFbWl0dGVkKX0sc2V0KHQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRhYmxlPSEhdCl9fSxyZWFkYWJsZURpZFJlYWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGF0YUVtaXR0ZWR9fSxyZWFkYWJsZUFib3J0ZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuISghMT09PXRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGV8fCF0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCYmIXRoaXMuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZHx8dGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkKX19LHJlYWRhYmxlSGlnaFdhdGVyTWFyazp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0scmVhZGFibGVCdWZmZXI6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyfX0scmVhZGFibGVGbG93aW5nOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPXQpfX0scmVhZGFibGVMZW5ndGg6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RofX0scmVhZGFibGVPYmplY3RNb2RlOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiEhdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlfX0scmVhZGFibGVFbmNvZGluZzp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nOm51bGx9fSxlcnJvcmVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZDpudWxsfX0sY2xvc2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4hIXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuY2xvc2VkfX0sZGVzdHJveWVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiEhdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldCh0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCl9fSxyZWFkYWJsZUVuZGVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiEhdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkfX19KSx1KFAucHJvdG90eXBlLHtwaXBlc0NvdW50OntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5waXBlcy5sZW5ndGh9fSxwYXVzZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiExIT09dGhpc1tPXX0sc2V0KHQpe3RoaXNbT109ISF0fX19KSxXLl9mcm9tTGlzdD1aLFcuZnJvbT1mdW5jdGlvbih0LGUpe3JldHVybiBqKFcsdCxlKX0sVy5mcm9tV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJ0KCkubmV3U3RyZWFtUmVhZGFibGVGcm9tUmVhZGFibGVTdHJlYW0odCxlKX0sVy50b1dlYj1mdW5jdGlvbih0LGUpe3JldHVybiBydCgpLm5ld1JlYWRhYmxlU3RyZWFtRnJvbVN0cmVhbVJlYWRhYmxlKHQsZSl9LFcud3JhcD1mdW5jdGlvbih0LGUpe3ZhciBuLHI7cmV0dXJuIG5ldyBXKHtvYmplY3RNb2RlOm51bGw9PT0obj1udWxsIT09KHI9dC5yZWFkYWJsZU9iamVjdE1vZGUpJiZ2b2lkIDAhPT1yP3I6dC5vYmplY3RNb2RlKXx8dm9pZCAwPT09bnx8biwuLi5lLGRlc3Ryb3koZSxuKXtTLmRlc3Ryb3llcih0LGUpLG4oZSl9fSkud3JhcCh0KX19LDQ5ODoodCxlLG4pPT57Y29uc3R7TWF0aEZsb29yOnIsTnVtYmVySXNJbnRlZ2VyOm99PW4oMTkxKSx7RVJSX0lOVkFMSURfQVJHX1ZBTFVFOml9PW4oMTQxKS5jb2RlcztmdW5jdGlvbiBhKHQpe3JldHVybiB0PzE2OjE2Mzg0fXQuZXhwb3J0cz17Z2V0SGlnaFdhdGVyTWFyazpmdW5jdGlvbih0LGUsbixzKXtjb25zdCB1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbCE9dC5oaWdoV2F0ZXJNYXJrP3QuaGlnaFdhdGVyTWFyazplP3Rbbl06bnVsbH0oZSxzLG4pO2lmKG51bGwhPXUpe2lmKCFvKHUpfHx1PDApe3Rocm93IG5ldyBpKHM/YG9wdGlvbnMuJHtufWA6XCJvcHRpb25zLmhpZ2hXYXRlck1hcmtcIix1KX1yZXR1cm4gcih1KX1yZXR1cm4gYSh0Lm9iamVjdE1vZGUpfSxnZXREZWZhdWx0SGlnaFdhdGVyTWFyazphfX0sMjEwOih0LGUsbik9Pntjb25zdHtPYmplY3RTZXRQcm90b3R5cGVPZjpyLFN5bWJvbDpvfT1uKDE5MSk7dC5leHBvcnRzPWw7Y29uc3R7RVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQ6aX09bigxNDEpLmNvZGVzLGE9bigxODIpLHtnZXRIaWdoV2F0ZXJNYXJrOnN9PW4oNDk4KTtyKGwucHJvdG90eXBlLGEucHJvdG90eXBlKSxyKGwsYSk7Y29uc3QgdT1vKFwia0NhbGxiYWNrXCIpO2Z1bmN0aW9uIGwodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgbCkpcmV0dXJuIG5ldyBsKHQpO2NvbnN0IGU9dD9zKHRoaXMsdCxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLCEwKTpudWxsOzA9PT1lJiYodD17Li4udCxoaWdoV2F0ZXJNYXJrOm51bGwscmVhZGFibGVIaWdoV2F0ZXJNYXJrOmUsd3JpdGFibGVIaWdoV2F0ZXJNYXJrOnQud3JpdGFibGVIaWdoV2F0ZXJNYXJrfHwwfSksYS5jYWxsKHRoaXMsdCksdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jPSExLHRoaXNbdV09bnVsbCx0JiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC50cmFuc2Zvcm0mJih0aGlzLl90cmFuc2Zvcm09dC50cmFuc2Zvcm0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZmx1c2gmJih0aGlzLl9mbHVzaD10LmZsdXNoKSksdGhpcy5vbihcInByZWZpbmlzaFwiLGYpfWZ1bmN0aW9uIGModCl7XCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5fZmx1c2h8fHRoaXMuZGVzdHJveWVkPyh0aGlzLnB1c2gobnVsbCksdCYmdCgpKTp0aGlzLl9mbHVzaCgoKGUsbik9PntlP3Q/dChlKTp0aGlzLmRlc3Ryb3koZSk6KG51bGwhPW4mJnRoaXMucHVzaChuKSx0aGlzLnB1c2gobnVsbCksdCYmdCgpKX0pKX1mdW5jdGlvbiBmKCl7dGhpcy5fZmluYWwhPT1jJiZjLmNhbGwodGhpcyl9bC5wcm90b3R5cGUuX2ZpbmFsPWMsbC5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7dGhyb3cgbmV3IGkoXCJfdHJhbnNmb3JtKClcIil9LGwucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj10aGlzLl9yZWFkYWJsZVN0YXRlLG89dGhpcy5fd3JpdGFibGVTdGF0ZSxpPXIubGVuZ3RoO3RoaXMuX3RyYW5zZm9ybSh0LGUsKCh0LGUpPT57dD9uKHQpOihudWxsIT1lJiZ0aGlzLnB1c2goZSksby5lbmRlZHx8aT09PXIubGVuZ3RofHxyLmxlbmd0aDxyLmhpZ2hXYXRlck1hcms/bigpOnRoaXNbdV09bil9KSl9LGwucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKCl7aWYodGhpc1t1XSl7Y29uc3QgdD10aGlzW3VdO3RoaXNbdV09bnVsbCx0KCl9fX0sMTMyOih0LGUsbik9Pntjb25zdHtTeW1ib2w6cixTeW1ib2xBc3luY0l0ZXJhdG9yOm8sU3ltYm9sSXRlcmF0b3I6aSxTeW1ib2xGb3I6YX09bigxOTEpLHM9cihcImtEZXN0cm95ZWRcIiksdT1yKFwia0lzRXJyb3JlZFwiKSxsPXIoXCJrSXNSZWFkYWJsZVwiKSxjPXIoXCJrSXNEaXN0dXJiZWRcIiksZj1hKFwibm9kZWpzLndlYnN0cmVhbS5pc0Nsb3NlZFByb21pc2VcIiksZD1hKFwibm9kZWpzLndlYnN0cmVhbS5jb250cm9sbGVyRXJyb3JGdW5jdGlvblwiKTtmdW5jdGlvbiBoKHQsZT0hMSl7dmFyIG47cmV0dXJuISghdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5waXBlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Lm9ufHxlJiYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5wYXVzZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5yZXN1bWUpfHx0Ll93cml0YWJsZVN0YXRlJiYhMT09PShudWxsPT09KG49dC5fcmVhZGFibGVTdGF0ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVhZGFibGUpfHx0Ll93cml0YWJsZVN0YXRlJiYhdC5fcmVhZGFibGVTdGF0ZSl9ZnVuY3Rpb24gcCh0KXt2YXIgZTtyZXR1cm4hKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LndyaXRlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Lm9ufHx0Ll9yZWFkYWJsZVN0YXRlJiYhMT09PShudWxsPT09KGU9dC5fd3JpdGFibGVTdGF0ZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUud3JpdGFibGUpKX1mdW5jdGlvbiBnKHQpe3JldHVybiB0JiYodC5fcmVhZGFibGVTdGF0ZXx8dC5fd3JpdGFibGVTdGF0ZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdC53cml0ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5vbnx8XCJmdW5jdGlvblwiPT10eXBlb2YgdC5waXBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9uKX1mdW5jdGlvbiB5KHQpe3JldHVybiEoIXR8fGcodCl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQucGlwZVRocm91Z2h8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuZ2V0UmVhZGVyfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmNhbmNlbCl9ZnVuY3Rpb24gbSh0KXtyZXR1cm4hKCF0fHxnKHQpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmdldFdyaXRlcnx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5hYm9ydCl9ZnVuY3Rpb24gdih0KXtyZXR1cm4hKCF0fHxnKHQpfHxcIm9iamVjdFwiIT10eXBlb2YgdC5yZWFkYWJsZXx8XCJvYmplY3RcIiE9dHlwZW9mIHQud3JpdGFibGUpfWZ1bmN0aW9uIGIodCl7aWYoIWcodCkpcmV0dXJuIG51bGw7Y29uc3QgZT10Ll93cml0YWJsZVN0YXRlLG49dC5fcmVhZGFibGVTdGF0ZSxyPWV8fG47cmV0dXJuISEodC5kZXN0cm95ZWR8fHRbc118fG51bGwhPXImJnIuZGVzdHJveWVkKX1mdW5jdGlvbiB3KHQpe2lmKCFwKHQpKXJldHVybiBudWxsO2lmKCEwPT09dC53cml0YWJsZUVuZGVkKXJldHVybiEwO2NvbnN0IGU9dC5fd3JpdGFibGVTdGF0ZTtyZXR1cm4obnVsbD09ZXx8IWUuZXJyb3JlZCkmJihcImJvb2xlYW5cIiE9dHlwZW9mKG51bGw9PWU/dm9pZCAwOmUuZW5kZWQpP251bGw6ZS5lbmRlZCl9ZnVuY3Rpb24gXyh0LGUpe2lmKCFoKHQpKXJldHVybiBudWxsO2NvbnN0IG49dC5fcmVhZGFibGVTdGF0ZTtyZXR1cm4obnVsbD09bnx8IW4uZXJyb3JlZCkmJihcImJvb2xlYW5cIiE9dHlwZW9mKG51bGw9PW4/dm9pZCAwOm4uZW5kRW1pdHRlZCk/bnVsbDohIShuLmVuZEVtaXR0ZWR8fCExPT09ZSYmITA9PT1uLmVuZGVkJiYwPT09bi5sZW5ndGgpKX1mdW5jdGlvbiBFKHQpe3JldHVybiB0JiZudWxsIT10W2xdP3RbbF06XCJib29sZWFuXCIhPXR5cGVvZihudWxsPT10P3ZvaWQgMDp0LnJlYWRhYmxlKT9udWxsOiFiKHQpJiYoaCh0KSYmdC5yZWFkYWJsZSYmIV8odCkpfWZ1bmN0aW9uIFModCl7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZihudWxsPT10P3ZvaWQgMDp0LndyaXRhYmxlKT9udWxsOiFiKHQpJiYocCh0KSYmdC53cml0YWJsZSYmIXcodCkpfWZ1bmN0aW9uIEEodCl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB0Ll9jbG9zZWQmJlwiYm9vbGVhblwiPT10eXBlb2YgdC5fZGVmYXVsdEtlZXBBbGl2ZSYmXCJib29sZWFuXCI9PXR5cGVvZiB0Ll9yZW1vdmVkQ29ubmVjdGlvbiYmXCJib29sZWFuXCI9PXR5cGVvZiB0Ll9yZW1vdmVkQ29udExlbn1mdW5jdGlvbiBJKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdC5fc2VudDEwMCYmQSh0KX10LmV4cG9ydHM9e2tEZXN0cm95ZWQ6cyxpc0Rpc3R1cmJlZDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4hKCF0fHwhKG51bGwhPT0oZT10W2NdKSYmdm9pZCAwIT09ZT9lOnQucmVhZGFibGVEaWRSZWFkfHx0LnJlYWRhYmxlQWJvcnRlZCkpfSxrSXNEaXN0dXJiZWQ6Yyxpc0Vycm9yZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbixyLG8saSxhLHMsbCxjLGY7cmV0dXJuISghdHx8IShudWxsIT09KGU9bnVsbCE9PShuPW51bGwhPT0ocj1udWxsIT09KG89bnVsbCE9PShpPW51bGwhPT0oYT10W3VdKSYmdm9pZCAwIT09YT9hOnQucmVhZGFibGVFcnJvcmVkKSYmdm9pZCAwIT09aT9pOnQud3JpdGFibGVFcnJvcmVkKSYmdm9pZCAwIT09bz9vOm51bGw9PT0ocz10Ll9yZWFkYWJsZVN0YXRlKXx8dm9pZCAwPT09cz92b2lkIDA6cy5lcnJvckVtaXR0ZWQpJiZ2b2lkIDAhPT1yP3I6bnVsbD09PShsPXQuX3dyaXRhYmxlU3RhdGUpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmVycm9yRW1pdHRlZCkmJnZvaWQgMCE9PW4/bjpudWxsPT09KGM9dC5fcmVhZGFibGVTdGF0ZSl8fHZvaWQgMD09PWM/dm9pZCAwOmMuZXJyb3JlZCkmJnZvaWQgMCE9PWU/ZTpudWxsPT09KGY9dC5fd3JpdGFibGVTdGF0ZSl8fHZvaWQgMD09PWY/dm9pZCAwOmYuZXJyb3JlZCkpfSxrSXNFcnJvcmVkOnUsaXNSZWFkYWJsZTpFLGtJc1JlYWRhYmxlOmwsa0lzQ2xvc2VkUHJvbWlzZTpmLGtDb250cm9sbGVyRXJyb3JGdW5jdGlvbjpkLGlzQ2xvc2VkOmZ1bmN0aW9uKHQpe2lmKCFnKHQpKXJldHVybiBudWxsO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdC5jbG9zZWQpcmV0dXJuIHQuY2xvc2VkO2NvbnN0IGU9dC5fd3JpdGFibGVTdGF0ZSxuPXQuX3JlYWRhYmxlU3RhdGU7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT1lP3ZvaWQgMDplLmNsb3NlZCl8fFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09bj92b2lkIDA6bi5jbG9zZWQpPyhudWxsPT1lP3ZvaWQgMDplLmNsb3NlZCl8fChudWxsPT1uP3ZvaWQgMDpuLmNsb3NlZCk6XCJib29sZWFuXCI9PXR5cGVvZiB0Ll9jbG9zZWQmJkEodCk/dC5fY2xvc2VkOm51bGx9LGlzRGVzdHJveWVkOmIsaXNEdXBsZXhOb2RlU3RyZWFtOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQucGlwZXx8IXQuX3JlYWRhYmxlU3RhdGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQub258fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQud3JpdGUpfSxpc0ZpbmlzaGVkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGcodCk/ISFiKHQpfHwoITE9PT0obnVsbD09ZT92b2lkIDA6ZS5yZWFkYWJsZSl8fCFFKHQpKSYmKCExPT09KG51bGw9PWU/dm9pZCAwOmUud3JpdGFibGUpfHwhUyh0KSk6bnVsbH0saXNJdGVyYWJsZTpmdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10JiYoITA9PT1lP1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbb106ITE9PT1lP1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbaV06XCJmdW5jdGlvblwiPT10eXBlb2YgdFtvXXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdFtpXSl9LGlzUmVhZGFibGVOb2RlU3RyZWFtOmgsaXNSZWFkYWJsZVN0cmVhbTp5LGlzUmVhZGFibGVFbmRlZDpmdW5jdGlvbih0KXtpZighaCh0KSlyZXR1cm4gbnVsbDtpZighMD09PXQucmVhZGFibGVFbmRlZClyZXR1cm4hMDtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGU7cmV0dXJuISghZXx8ZS5lcnJvcmVkKSYmKFwiYm9vbGVhblwiIT10eXBlb2YobnVsbD09ZT92b2lkIDA6ZS5lbmRlZCk/bnVsbDplLmVuZGVkKX0saXNSZWFkYWJsZUZpbmlzaGVkOl8saXNSZWFkYWJsZUVycm9yZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gZyh0KT90LnJlYWRhYmxlRXJyb3JlZD90LnJlYWRhYmxlRXJyb3JlZDpudWxsIT09KGU9bnVsbD09PShuPXQuX3JlYWRhYmxlU3RhdGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmVycm9yZWQpJiZ2b2lkIDAhPT1lP2U6bnVsbDpudWxsfSxpc05vZGVTdHJlYW06Zyxpc1dlYlN0cmVhbTpmdW5jdGlvbih0KXtyZXR1cm4geSh0KXx8bSh0KXx8dih0KX0saXNXcml0YWJsZTpTLGlzV3JpdGFibGVOb2RlU3RyZWFtOnAsaXNXcml0YWJsZVN0cmVhbTptLGlzV3JpdGFibGVFbmRlZDp3LGlzV3JpdGFibGVGaW5pc2hlZDpmdW5jdGlvbih0LGUpe2lmKCFwKHQpKXJldHVybiBudWxsO2lmKCEwPT09dC53cml0YWJsZUZpbmlzaGVkKXJldHVybiEwO2NvbnN0IG49dC5fd3JpdGFibGVTdGF0ZTtyZXR1cm4obnVsbD09bnx8IW4uZXJyb3JlZCkmJihcImJvb2xlYW5cIiE9dHlwZW9mKG51bGw9PW4/dm9pZCAwOm4uZmluaXNoZWQpP251bGw6ISEobi5maW5pc2hlZHx8ITE9PT1lJiYhMD09PW4uZW5kZWQmJjA9PT1uLmxlbmd0aCkpfSxpc1dyaXRhYmxlRXJyb3JlZDpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBnKHQpP3Qud3JpdGFibGVFcnJvcmVkP3Qud3JpdGFibGVFcnJvcmVkOm51bGwhPT0oZT1udWxsPT09KG49dC5fd3JpdGFibGVTdGF0ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZXJyb3JlZCkmJnZvaWQgMCE9PWU/ZTpudWxsOm51bGx9LGlzU2VydmVyUmVxdWVzdDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHQuX2NvbnN1bWluZyYmXCJib29sZWFuXCI9PXR5cGVvZiB0Ll9kdW1wZWQmJnZvaWQgMD09PShudWxsPT09KGU9dC5yZXEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnVwZ3JhZGVPckNvbm5lY3QpfSxpc1NlcnZlclJlc3BvbnNlOkksd2lsbEVtaXRDbG9zZTpmdW5jdGlvbih0KXtpZighZyh0KSlyZXR1cm4gbnVsbDtjb25zdCBlPXQuX3dyaXRhYmxlU3RhdGUsbj10Ll9yZWFkYWJsZVN0YXRlLHI9ZXx8bjtyZXR1cm4hciYmSSh0KXx8ISEociYmci5hdXRvRGVzdHJveSYmci5lbWl0Q2xvc2UmJiExPT09ci5jbG9zZWQpfSxpc1RyYW5zZm9ybVN0cmVhbTp2fX0sMzczOih0LGUsbik9Pntjb25zdCByPW4oNTMzKSx7QXJyYXlQcm90b3R5cGVTbGljZTpvLEVycm9yOmksRnVuY3Rpb25Qcm90b3R5cGVTeW1ib2xIYXNJbnN0YW5jZTphLE9iamVjdERlZmluZVByb3BlcnR5OnMsT2JqZWN0RGVmaW5lUHJvcGVydGllczp1LE9iamVjdFNldFByb3RvdHlwZU9mOmwsU3RyaW5nUHJvdG90eXBlVG9Mb3dlckNhc2U6YyxTeW1ib2w6ZixTeW1ib2xIYXNJbnN0YW5jZTpkfT1uKDE5MSk7dC5leHBvcnRzPVUsVS5Xcml0YWJsZVN0YXRlPUw7Y29uc3R7RXZlbnRFbWl0dGVyOmh9PW4oNDY1KSxwPW4oMjAwKS5TdHJlYW0se0J1ZmZlcjpnfT1uKDQ4NSkseT1uKDIzMCkse2FkZEFib3J0U2lnbmFsOm19PW4oMzc0KSx7Z2V0SGlnaFdhdGVyTWFyazp2LGdldERlZmF1bHRIaWdoV2F0ZXJNYXJrOmJ9PW4oNDk4KSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6dyxFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRDpfLEVSUl9NVUxUSVBMRV9DQUxMQkFDSzpFLEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEU6UyxFUlJfU1RSRUFNX0RFU1RST1lFRDpBLEVSUl9TVFJFQU1fQUxSRUFEWV9GSU5JU0hFRDpJLEVSUl9TVFJFQU1fTlVMTF9WQUxVRVM6VCxFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORDpSLEVSUl9VTktOT1dOX0VOQ09ESU5HOnh9PW4oMTQxKS5jb2Rlcyx7ZXJyb3JPckRlc3Ryb3k6Q309eTtmdW5jdGlvbiBCKCl7fWwoVS5wcm90b3R5cGUscC5wcm90b3R5cGUpLGwoVSxwKTtjb25zdCBrPWYoXCJrT25GaW5pc2hlZFwiKTtmdW5jdGlvbiBMKHQsZSxyKXtcImJvb2xlYW5cIiE9dHlwZW9mIHImJihyPWUgaW5zdGFuY2VvZiBuKDE4MikpLHRoaXMub2JqZWN0TW9kZT0hKCF0fHwhdC5vYmplY3RNb2RlKSxyJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISghdHx8IXQud3JpdGFibGVPYmplY3RNb2RlKSksdGhpcy5oaWdoV2F0ZXJNYXJrPXQ/dih0aGlzLHQsXCJ3cml0YWJsZUhpZ2hXYXRlck1hcmtcIixyKTpiKCExKSx0aGlzLmZpbmFsQ2FsbGVkPSExLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMTtjb25zdCBvPSEoIXR8fCExIT09dC5kZWNvZGVTdHJpbmdzKTt0aGlzLmRlY29kZVN0cmluZ3M9IW8sdGhpcy5kZWZhdWx0RW5jb2Rpbmc9dCYmdC5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMubGVuZ3RoPTAsdGhpcy53cml0aW5nPSExLHRoaXMuY29ya2VkPTAsdGhpcy5zeW5jPSEwLHRoaXMuYnVmZmVyUHJvY2Vzc2luZz0hMSx0aGlzLm9ud3JpdGU9UC5iaW5kKHZvaWQgMCxlKSx0aGlzLndyaXRlY2I9bnVsbCx0aGlzLndyaXRlbGVuPTAsdGhpcy5hZnRlcldyaXRlVGlja0luZm89bnVsbCxPKHRoaXMpLHRoaXMucGVuZGluZ2NiPTAsdGhpcy5jb25zdHJ1Y3RlZD0hMCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuZW1pdENsb3NlPSF0fHwhMSE9PXQuZW1pdENsb3NlLHRoaXMuYXV0b0Rlc3Ryb3k9IXR8fCExIT09dC5hdXRvRGVzdHJveSx0aGlzLmVycm9yZWQ9bnVsbCx0aGlzLmNsb3NlZD0hMSx0aGlzLmNsb3NlRW1pdHRlZD0hMSx0aGlzW2tdPVtdfWZ1bmN0aW9uIE8odCl7dC5idWZmZXJlZD1bXSx0LmJ1ZmZlcmVkSW5kZXg9MCx0LmFsbEJ1ZmZlcnM9ITAsdC5hbGxOb29wPSEwfWZ1bmN0aW9uIFUodCl7Y29uc3QgZT10aGlzIGluc3RhbmNlb2YgbigxODIpO2lmKCFlJiYhYShVLHRoaXMpKXJldHVybiBuZXcgVSh0KTt0aGlzLl93cml0YWJsZVN0YXRlPW5ldyBMKHQsdGhpcyxlKSx0JiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC53cml0ZSYmKHRoaXMuX3dyaXRlPXQud3JpdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQud3JpdGV2JiYodGhpcy5fd3JpdGV2PXQud3JpdGV2KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmRlc3Ryb3kmJih0aGlzLl9kZXN0cm95PXQuZGVzdHJveSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5maW5hbCYmKHRoaXMuX2ZpbmFsPXQuZmluYWwpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29uc3RydWN0JiYodGhpcy5fY29uc3RydWN0PXQuY29uc3RydWN0KSx0LnNpZ25hbCYmbSh0LnNpZ25hbCx0aGlzKSkscC5jYWxsKHRoaXMsdCkseS5jb25zdHJ1Y3QodGhpcywoKCk9Pntjb25zdCB0PXRoaXMuX3dyaXRhYmxlU3RhdGU7dC53cml0aW5nfHxGKHRoaXMsdCksSCh0aGlzLHQpfSkpfWZ1bmN0aW9uIGoodCxlLG4sbyl7Y29uc3QgaT10Ll93cml0YWJsZVN0YXRlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pbz1uLG49aS5kZWZhdWx0RW5jb2Rpbmc7ZWxzZXtpZihuKXtpZihcImJ1ZmZlclwiIT09biYmIWcuaXNFbmNvZGluZyhuKSl0aHJvdyBuZXcgeChuKX1lbHNlIG49aS5kZWZhdWx0RW5jb2Rpbmc7XCJmdW5jdGlvblwiIT10eXBlb2YgbyYmKG89Qil9aWYobnVsbD09PWUpdGhyb3cgbmV3IFQ7aWYoIWkub2JqZWN0TW9kZSlpZihcInN0cmluZ1wiPT10eXBlb2YgZSkhMSE9PWkuZGVjb2RlU3RyaW5ncyYmKGU9Zy5mcm9tKGUsbiksbj1cImJ1ZmZlclwiKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBnKW49XCJidWZmZXJcIjtlbHNle2lmKCFwLl9pc1VpbnQ4QXJyYXkoZSkpdGhyb3cgbmV3IHcoXCJjaHVua1wiLFtcInN0cmluZ1wiLFwiQnVmZmVyXCIsXCJVaW50OEFycmF5XCJdLGUpO2U9cC5fdWludDhBcnJheVRvQnVmZmVyKGUpLG49XCJidWZmZXJcIn1sZXQgYTtyZXR1cm4gaS5lbmRpbmc/YT1uZXcgUjppLmRlc3Ryb3llZCYmKGE9bmV3IEEoXCJ3cml0ZVwiKSksYT8oci5uZXh0VGljayhvLGEpLEModCxhLCEwKSxhKTooaS5wZW5kaW5nY2IrKyxmdW5jdGlvbih0LGUsbixyLG8pe2NvbnN0IGk9ZS5vYmplY3RNb2RlPzE6bi5sZW5ndGg7ZS5sZW5ndGgrPWk7Y29uc3QgYT1lLmxlbmd0aDxlLmhpZ2hXYXRlck1hcms7YXx8KGUubmVlZERyYWluPSEwKTtlLndyaXRpbmd8fGUuY29ya2VkfHxlLmVycm9yZWR8fCFlLmNvbnN0cnVjdGVkPyhlLmJ1ZmZlcmVkLnB1c2goe2NodW5rOm4sZW5jb2Rpbmc6cixjYWxsYmFjazpvfSksZS5hbGxCdWZmZXJzJiZcImJ1ZmZlclwiIT09ciYmKGUuYWxsQnVmZmVycz0hMSksZS5hbGxOb29wJiZvIT09QiYmKGUuYWxsTm9vcD0hMSkpOihlLndyaXRlbGVuPWksZS53cml0ZWNiPW8sZS53cml0aW5nPSEwLGUuc3luYz0hMCx0Ll93cml0ZShuLHIsZS5vbndyaXRlKSxlLnN5bmM9ITEpO3JldHVybiBhJiYhZS5lcnJvcmVkJiYhZS5kZXN0cm95ZWR9KHQsaSxlLG4sbykpfWZ1bmN0aW9uIE4odCxlLG4scixvLGksYSl7ZS53cml0ZWxlbj1yLGUud3JpdGVjYj1hLGUud3JpdGluZz0hMCxlLnN5bmM9ITAsZS5kZXN0cm95ZWQ/ZS5vbndyaXRlKG5ldyBBKFwid3JpdGVcIikpOm4/dC5fd3JpdGV2KG8sZS5vbndyaXRlKTp0Ll93cml0ZShvLGksZS5vbndyaXRlKSxlLnN5bmM9ITF9ZnVuY3Rpb24gTSh0LGUsbixyKXstLWUucGVuZGluZ2NiLHIobiksRChlKSxDKHQsbil9ZnVuY3Rpb24gUCh0LGUpe2NvbnN0IG49dC5fd3JpdGFibGVTdGF0ZSxvPW4uc3luYyxpPW4ud3JpdGVjYjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBpPyhuLndyaXRpbmc9ITEsbi53cml0ZWNiPW51bGwsbi5sZW5ndGgtPW4ud3JpdGVsZW4sbi53cml0ZWxlbj0wLGU/KGUuc3RhY2ssbi5lcnJvcmVkfHwobi5lcnJvcmVkPWUpLHQuX3JlYWRhYmxlU3RhdGUmJiF0Ll9yZWFkYWJsZVN0YXRlLmVycm9yZWQmJih0Ll9yZWFkYWJsZVN0YXRlLmVycm9yZWQ9ZSksbz9yLm5leHRUaWNrKE0sdCxuLGUsaSk6TSh0LG4sZSxpKSk6KG4uYnVmZmVyZWQubGVuZ3RoPm4uYnVmZmVyZWRJbmRleCYmRih0LG4pLG8/bnVsbCE9PW4uYWZ0ZXJXcml0ZVRpY2tJbmZvJiZuLmFmdGVyV3JpdGVUaWNrSW5mby5jYj09PWk/bi5hZnRlcldyaXRlVGlja0luZm8uY291bnQrKzoobi5hZnRlcldyaXRlVGlja0luZm89e2NvdW50OjEsY2I6aSxzdHJlYW06dCxzdGF0ZTpufSxyLm5leHRUaWNrKFcsbi5hZnRlcldyaXRlVGlja0luZm8pKTokKHQsbiwxLGkpKSk6Qyh0LG5ldyBFKX1mdW5jdGlvbiBXKHtzdHJlYW06dCxzdGF0ZTplLGNvdW50Om4sY2I6cn0pe3JldHVybiBlLmFmdGVyV3JpdGVUaWNrSW5mbz1udWxsLCQodCxlLG4scil9ZnVuY3Rpb24gJCh0LGUsbixyKXtmb3IoIWUuZW5kaW5nJiYhdC5kZXN0cm95ZWQmJjA9PT1lLmxlbmd0aCYmZS5uZWVkRHJhaW4mJihlLm5lZWREcmFpbj0hMSx0LmVtaXQoXCJkcmFpblwiKSk7bi0tID4wOyllLnBlbmRpbmdjYi0tLHIoKTtlLmRlc3Ryb3llZCYmRChlKSxIKHQsZSl9ZnVuY3Rpb24gRCh0KXtpZih0LndyaXRpbmcpcmV0dXJuO2ZvcihsZXQgbj10LmJ1ZmZlcmVkSW5kZXg7bjx0LmJ1ZmZlcmVkLmxlbmd0aDsrK24pe3ZhciBlO2NvbnN0e2NodW5rOnIsY2FsbGJhY2s6b309dC5idWZmZXJlZFtuXSxpPXQub2JqZWN0TW9kZT8xOnIubGVuZ3RoO3QubGVuZ3RoLT1pLG8obnVsbCE9PShlPXQuZXJyb3JlZCkmJnZvaWQgMCE9PWU/ZTpuZXcgQShcIndyaXRlXCIpKX1jb25zdCBuPXRba10uc3BsaWNlKDApO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcjtuW2VdKG51bGwhPT0ocj10LmVycm9yZWQpJiZ2b2lkIDAhPT1yP3I6bmV3IEEoXCJlbmRcIikpfU8odCl9ZnVuY3Rpb24gRih0LGUpe2lmKGUuY29ya2VkfHxlLmJ1ZmZlclByb2Nlc3Npbmd8fGUuZGVzdHJveWVkfHwhZS5jb25zdHJ1Y3RlZClyZXR1cm47Y29uc3R7YnVmZmVyZWQ6bixidWZmZXJlZEluZGV4OnIsb2JqZWN0TW9kZTppfT1lLGE9bi5sZW5ndGgtcjtpZighYSlyZXR1cm47bGV0IHM9cjtpZihlLmJ1ZmZlclByb2Nlc3Npbmc9ITAsYT4xJiZ0Ll93cml0ZXYpe2UucGVuZGluZ2NiLT1hLTE7Y29uc3Qgcj1lLmFsbE5vb3A/Qjp0PT57Zm9yKGxldCBlPXM7ZTxuLmxlbmd0aDsrK2UpbltlXS5jYWxsYmFjayh0KX0saT1lLmFsbE5vb3AmJjA9PT1zP246byhuLHMpO2kuYWxsQnVmZmVycz1lLmFsbEJ1ZmZlcnMsTih0LGUsITAsZS5sZW5ndGgsaSxcIlwiLHIpLE8oZSl9ZWxzZXtkb3tjb25zdHtjaHVuazpyLGVuY29kaW5nOm8sY2FsbGJhY2s6YX09bltzXTtuW3MrK109bnVsbDtOKHQsZSwhMSxpPzE6ci5sZW5ndGgscixvLGEpfXdoaWxlKHM8bi5sZW5ndGgmJiFlLndyaXRpbmcpO3M9PT1uLmxlbmd0aD9PKGUpOnM+MjU2PyhuLnNwbGljZSgwLHMpLGUuYnVmZmVyZWRJbmRleD0wKTplLmJ1ZmZlcmVkSW5kZXg9c31lLmJ1ZmZlclByb2Nlc3Npbmc9ITF9ZnVuY3Rpb24geih0KXtyZXR1cm4gdC5lbmRpbmcmJiF0LmRlc3Ryb3llZCYmdC5jb25zdHJ1Y3RlZCYmMD09PXQubGVuZ3RoJiYhdC5lcnJvcmVkJiYwPT09dC5idWZmZXJlZC5sZW5ndGgmJiF0LmZpbmlzaGVkJiYhdC53cml0aW5nJiYhdC5lcnJvckVtaXR0ZWQmJiF0LmNsb3NlRW1pdHRlZH1mdW5jdGlvbiBxKHQsZSl7ZS5wcmVmaW5pc2hlZHx8ZS5maW5hbENhbGxlZHx8KFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuX2ZpbmFsfHxlLmRlc3Ryb3llZD8oZS5wcmVmaW5pc2hlZD0hMCx0LmVtaXQoXCJwcmVmaW5pc2hcIikpOihlLmZpbmFsQ2FsbGVkPSEwLGZ1bmN0aW9uKHQsZSl7bGV0IG49ITE7ZnVuY3Rpb24gbyhvKXtpZihuKUModCxudWxsIT1vP286RSgpKTtlbHNlIGlmKG49ITAsZS5wZW5kaW5nY2ItLSxvKXtjb25zdCBuPWVba10uc3BsaWNlKDApO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF0obyk7Qyh0LG8sZS5zeW5jKX1lbHNlIHooZSkmJihlLnByZWZpbmlzaGVkPSEwLHQuZW1pdChcInByZWZpbmlzaFwiKSxlLnBlbmRpbmdjYisrLHIubmV4dFRpY2soVix0LGUpKX1lLnN5bmM9ITAsZS5wZW5kaW5nY2IrKzt0cnl7dC5fZmluYWwobyl9Y2F0Y2godCl7byh0KX1lLnN5bmM9ITF9KHQsZSkpKX1mdW5jdGlvbiBIKHQsZSxuKXt6KGUpJiYocSh0LGUpLDA9PT1lLnBlbmRpbmdjYiYmKG4/KGUucGVuZGluZ2NiKyssci5uZXh0VGljaygoKHQsZSk9Pnt6KGUpP1YodCxlKTplLnBlbmRpbmdjYi0tfSksdCxlKSk6eihlKSYmKGUucGVuZGluZ2NiKyssVih0LGUpKSkpfWZ1bmN0aW9uIFYodCxlKXtlLnBlbmRpbmdjYi0tLGUuZmluaXNoZWQ9ITA7Y29uc3Qgbj1lW2tdLnNwbGljZSgwKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdKCk7aWYodC5lbWl0KFwiZmluaXNoXCIpLGUuYXV0b0Rlc3Ryb3kpe2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZTsoIWV8fGUuYXV0b0Rlc3Ryb3kmJihlLmVuZEVtaXR0ZWR8fCExPT09ZS5yZWFkYWJsZSkpJiZ0LmRlc3Ryb3koKX19TC5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcy5idWZmZXJlZCx0aGlzLmJ1ZmZlcmVkSW5kZXgpfSxzKEwucHJvdG90eXBlLFwiYnVmZmVyZWRSZXF1ZXN0Q291bnRcIix7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuYnVmZmVyZWQubGVuZ3RoLXRoaXMuYnVmZmVyZWRJbmRleH19KSxzKFUsZCx7X19wcm90b19fOm51bGwsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuISFhKHRoaXMsdCl8fHRoaXM9PT1VJiYodCYmdC5fd3JpdGFibGVTdGF0ZSBpbnN0YW5jZW9mIEwpfX0pLFUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtDKHRoaXMsbmV3IFMpfSxVLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuITA9PT1qKHRoaXMsdCxlLG4pfSxVLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrK30sVS5wcm90b3R5cGUudW5jb3JrPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl93cml0YWJsZVN0YXRlO3QuY29ya2VkJiYodC5jb3JrZWQtLSx0LndyaXRpbmd8fEYodGhpcyx0KSl9LFUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9Yyh0KSksIWcuaXNFbmNvZGluZyh0KSl0aHJvdyBuZXcgeCh0KTtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2Rpbmc9dCx0aGlzfSxVLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24odCxlLG4pe2lmKCF0aGlzLl93cml0ZXYpdGhyb3cgbmV3IF8oXCJfd3JpdGUoKVwiKTt0aGlzLl93cml0ZXYoW3tjaHVuazp0LGVuY29kaW5nOmV9XSxuKX0sVS5wcm90b3R5cGUuX3dyaXRldj1udWxsLFUucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0LGUsbil7Y29uc3Qgbz10aGlzLl93cml0YWJsZVN0YXRlO2xldCBhO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KG49dCx0PW51bGwsZT1udWxsKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobj1lLGU9bnVsbCksbnVsbCE9dCl7Y29uc3Qgbj1qKHRoaXMsdCxlKTtuIGluc3RhbmNlb2YgaSYmKGE9bil9cmV0dXJuIG8uY29ya2VkJiYoby5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSxhfHwoby5lcnJvcmVkfHxvLmVuZGluZz9vLmZpbmlzaGVkP2E9bmV3IEkoXCJlbmRcIik6by5kZXN0cm95ZWQmJihhPW5ldyBBKFwiZW5kXCIpKTooby5lbmRpbmc9ITAsSCh0aGlzLG8sITApLG8uZW5kZWQ9ITApKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYoYXx8by5maW5pc2hlZD9yLm5leHRUaWNrKG4sYSk6b1trXS5wdXNoKG4pKSx0aGlzfSx1KFUucHJvdG90eXBlLHtjbG9zZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiEhdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5jbG9zZWR9fSxkZXN0cm95ZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiEhdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldCh0KXt0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCl9fSx3cml0YWJsZTp7X19wcm90b19fOm51bGwsZ2V0KCl7Y29uc3QgdD10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiEoIXR8fCExPT09dC53cml0YWJsZXx8dC5kZXN0cm95ZWR8fHQuZXJyb3JlZHx8dC5lbmRpbmd8fHQuZW5kZWQpfSxzZXQodCl7dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGU9ISF0KX19LHdyaXRhYmxlRmluaXNoZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiEhdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZH19LHdyaXRhYmxlT2JqZWN0TW9kZTp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuISF0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLm9iamVjdE1vZGV9fSx3cml0YWJsZUJ1ZmZlcjp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyKCl9fSx3cml0YWJsZUVuZGVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4hIXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nfX0sd3JpdGFibGVOZWVkRHJhaW46e19fcHJvdG9fXzpudWxsLGdldCgpe2NvbnN0IHQ9dGhpcy5fd3JpdGFibGVTdGF0ZTtyZXR1cm4hIXQmJighdC5kZXN0cm95ZWQmJiF0LmVuZGluZyYmdC5uZWVkRHJhaW4pfX0sd3JpdGFibGVIaWdoV2F0ZXJNYXJrOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0sd3JpdGFibGVDb3JrZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkOjB9fSx3cml0YWJsZUxlbmd0aDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0sZXJyb3JlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yZWQ6bnVsbH19LHdyaXRhYmxlQWJvcnRlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCExPT09dGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZXx8IXRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkJiYhdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvcmVkfHx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkKX19fSk7Y29uc3QgRz15LmRlc3Ryb3k7bGV0IEo7ZnVuY3Rpb24gWSgpe3JldHVybiB2b2lkIDA9PT1KJiYoSj17fSksSn1VLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiFuLmRlc3Ryb3llZCYmKG4uYnVmZmVyZWRJbmRleDxuLmJ1ZmZlcmVkLmxlbmd0aHx8bltrXS5sZW5ndGgpJiZyLm5leHRUaWNrKEQsbiksRy5jYWxsKHRoaXMsdCxlKSx0aGlzfSxVLnByb3RvdHlwZS5fdW5kZXN0cm95PXkudW5kZXN0cm95LFUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKHQsZSl7ZSh0KX0sVS5wcm90b3R5cGVbaC5jYXB0dXJlUmVqZWN0aW9uU3ltYm9sXT1mdW5jdGlvbih0KXt0aGlzLmRlc3Ryb3kodCl9LFUuZnJvbVdlYj1mdW5jdGlvbih0LGUpe3JldHVybiBZKCkubmV3U3RyZWFtV3JpdGFibGVGcm9tV3JpdGFibGVTdHJlYW0odCxlKX0sVS50b1dlYj1mdW5jdGlvbih0KXtyZXR1cm4gWSgpLm5ld1dyaXRhYmxlU3RyZWFtRnJvbVN0cmVhbVdyaXRhYmxlKHQpfX0sOTA0Oih0LGUsbik9Pntjb25zdHtBcnJheUlzQXJyYXk6cixBcnJheVByb3RvdHlwZUluY2x1ZGVzOm8sQXJyYXlQcm90b3R5cGVKb2luOmksQXJyYXlQcm90b3R5cGVNYXA6YSxOdW1iZXJJc0ludGVnZXI6cyxOdW1iZXJJc05hTjp1LE51bWJlck1BWF9TQUZFX0lOVEVHRVI6bCxOdW1iZXJNSU5fU0FGRV9JTlRFR0VSOmMsTnVtYmVyUGFyc2VJbnQ6ZixPYmplY3RQcm90b3R5cGVIYXNPd25Qcm9wZXJ0eTpkLFJlZ0V4cFByb3RvdHlwZUV4ZWM6aCxTdHJpbmc6cCxTdHJpbmdQcm90b3R5cGVUb1VwcGVyQ2FzZTpnLFN0cmluZ1Byb3RvdHlwZVRyaW06eX09bigxOTEpLHtoaWRlU3RhY2tGcmFtZXM6bSxjb2Rlczp7RVJSX1NPQ0tFVF9CQURfUE9SVDp2LEVSUl9JTlZBTElEX0FSR19UWVBFOmIsRVJSX0lOVkFMSURfQVJHX1ZBTFVFOncsRVJSX09VVF9PRl9SQU5HRTpfLEVSUl9VTktOT1dOX1NJR05BTDpFfX09bigxNDEpLHtub3JtYWxpemVFbmNvZGluZzpTfT1uKDc3NSkse2lzQXN5bmNGdW5jdGlvbjpBLGlzQXJyYXlCdWZmZXJWaWV3Okl9PW4oNzc1KS50eXBlcyxUPXt9O2NvbnN0IFI9L15bMC03XSskLztjb25zdCB4PW0oKCh0LGUsbj1jLHI9bCk9PntpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwibnVtYmVyXCIsdCk7aWYoIXModCkpdGhyb3cgbmV3IF8oZSxcImFuIGludGVnZXJcIix0KTtpZih0PG58fHQ+cil0aHJvdyBuZXcgXyhlLGA+PSAke259ICYmIDw9ICR7cn1gLHQpfSkpLEM9bSgoKHQsZSxuPS0yMTQ3NDgzNjQ4LHI9MjE0NzQ4MzY0Nyk9PntpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwibnVtYmVyXCIsdCk7aWYoIXModCkpdGhyb3cgbmV3IF8oZSxcImFuIGludGVnZXJcIix0KTtpZih0PG58fHQ+cil0aHJvdyBuZXcgXyhlLGA+PSAke259ICYmIDw9ICR7cn1gLHQpfSkpLEI9bSgoKHQsZSxuPSExKT0+e2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJudW1iZXJcIix0KTtpZighcyh0KSl0aHJvdyBuZXcgXyhlLFwiYW4gaW50ZWdlclwiLHQpO2NvbnN0IHI9bj8xOjAsbz00Mjk0OTY3Mjk1O2lmKHQ8cnx8dD5vKXRocm93IG5ldyBfKGUsYD49ICR7cn0gJiYgPD0gJHtvfWAsdCl9KSk7ZnVuY3Rpb24gayh0LGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJzdHJpbmdcIix0KX1jb25zdCBMPW0oKCh0LGUsbik9PntpZighbyhuLHQpKXtjb25zdCByPWkoYShuLCh0PT5cInN0cmluZ1wiPT10eXBlb2YgdD9gJyR7dH0nYDpwKHQpKSksXCIsIFwiKTt0aHJvdyBuZXcgdyhlLHQsXCJtdXN0IGJlIG9uZSBvZjogXCIrcil9fSkpO2Z1bmN0aW9uIE8odCxlKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcImJvb2xlYW5cIix0KX1mdW5jdGlvbiBVKHQsZSxuKXtyZXR1cm4gbnVsbCE9dCYmZCh0LGUpP3RbZV06bn1jb25zdCBqPW0oKCh0LGUsbj1udWxsKT0+e2NvbnN0IG89VShuLFwiYWxsb3dBcnJheVwiLCExKSxpPVUobixcImFsbG93RnVuY3Rpb25cIiwhMSk7aWYoIVUobixcIm51bGxhYmxlXCIsITEpJiZudWxsPT09dHx8IW8mJnIodCl8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiYoIWl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpKXRocm93IG5ldyBiKGUsXCJPYmplY3RcIix0KX0pKSxOPW0oKCh0LGUpPT57aWYobnVsbCE9dCYmXCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcImEgZGljdGlvbmFyeVwiLHQpfSkpLE09bSgoKHQsZSxuPTApPT57aWYoIXIodCkpdGhyb3cgbmV3IGIoZSxcIkFycmF5XCIsdCk7aWYodC5sZW5ndGg8bil7dGhyb3cgbmV3IHcoZSx0LGBtdXN0IGJlIGxvbmdlciB0aGFuICR7bn1gKX19KSk7Y29uc3QgUD1tKCgodCxlPVwiYnVmZmVyXCIpPT57aWYoIUkodCkpdGhyb3cgbmV3IGIoZSxbXCJCdWZmZXJcIixcIlR5cGVkQXJyYXlcIixcIkRhdGFWaWV3XCJdLHQpfSkpO2NvbnN0IFc9bSgoKHQsZSk9PntpZih2b2lkIDAhPT10JiYobnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHwhKFwiYWJvcnRlZFwiaW4gdCkpKXRocm93IG5ldyBiKGUsXCJBYm9ydFNpZ25hbFwiLHQpfSkpLCQ9bSgoKHQsZSk9PntpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJGdW5jdGlvblwiLHQpfSkpLEQ9bSgoKHQsZSk9PntpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHxBKHQpKXRocm93IG5ldyBiKGUsXCJGdW5jdGlvblwiLHQpfSkpLEY9bSgoKHQsZSk9PntpZih2b2lkIDAhPT10KXRocm93IG5ldyBiKGUsXCJ1bmRlZmluZWRcIix0KX0pKTtjb25zdCB6PS9eKD86PFtePl0qPikoPzpcXHMqO1xccypbXjtcIlxcc10rKD86PShcIik/W147XCJcXHNdKlxcMSk/KSokLztmdW5jdGlvbiBxKHQsZSl7aWYodm9pZCAwPT09dHx8IWgoeix0KSl0aHJvdyBuZXcgdyhlLHQsJ211c3QgYmUgYW4gYXJyYXkgb3Igc3RyaW5nIG9mIGZvcm1hdCBcIjwvc3R5bGVzLmNzcz47IHJlbD1wcmVsb2FkOyBhcz1zdHlsZVwiJyl9dC5leHBvcnRzPXtpc0ludDMyOmZ1bmN0aW9uKHQpe3JldHVybiB0PT09KDB8dCl9LGlzVWludDMyOmZ1bmN0aW9uKHQpe3JldHVybiB0PT09dD4+PjB9LHBhcnNlRmlsZU1vZGU6ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PXQmJih0PW4pLFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihudWxsPT09aChSLHQpKXRocm93IG5ldyB3KGUsdCxcIm11c3QgYmUgYSAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciBvciBhbiBvY3RhbCBzdHJpbmdcIik7dD1mKHQsOCl9cmV0dXJuIEIodCxlKSx0fSx2YWxpZGF0ZUFycmF5Ok0sdmFsaWRhdGVTdHJpbmdBcnJheTpmdW5jdGlvbih0LGUpe00odCxlKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylrKHRbbl0sYCR7ZX1bJHtufV1gKX0sdmFsaWRhdGVCb29sZWFuQXJyYXk6ZnVuY3Rpb24odCxlKXtNKHQsZSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspTyh0W25dLGAke2V9WyR7bn1dYCl9LHZhbGlkYXRlQm9vbGVhbjpPLHZhbGlkYXRlQnVmZmVyOlAsdmFsaWRhdGVEaWN0aW9uYXJ5Ok4sdmFsaWRhdGVFbmNvZGluZzpmdW5jdGlvbih0LGUpe2NvbnN0IG49UyhlKSxyPXQubGVuZ3RoO2lmKFwiaGV4XCI9PT1uJiZyJTIhPTApdGhyb3cgbmV3IHcoXCJlbmNvZGluZ1wiLGUsYGlzIGludmFsaWQgZm9yIGRhdGEgb2YgbGVuZ3RoICR7cn1gKX0sdmFsaWRhdGVGdW5jdGlvbjokLHZhbGlkYXRlSW50MzI6Qyx2YWxpZGF0ZUludGVnZXI6eCx2YWxpZGF0ZU51bWJlcjpmdW5jdGlvbih0LGUsbj12b2lkIDAscil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcIm51bWJlclwiLHQpO2lmKG51bGwhPW4mJnQ8bnx8bnVsbCE9ciYmdD5yfHwobnVsbCE9bnx8bnVsbCE9cikmJnUodCkpdGhyb3cgbmV3IF8oZSxgJHtudWxsIT1uP2A+PSAke259YDpcIlwifSR7bnVsbCE9biYmbnVsbCE9cj9cIiAmJiBcIjpcIlwifSR7bnVsbCE9cj9gPD0gJHtyfWA6XCJcIn1gLHQpfSx2YWxpZGF0ZU9iamVjdDpqLHZhbGlkYXRlT25lT2Y6TCx2YWxpZGF0ZVBsYWluRnVuY3Rpb246RCx2YWxpZGF0ZVBvcnQ6ZnVuY3Rpb24odCxlPVwiUG9ydFwiLG49ITApe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiIT10eXBlb2YgdHx8XCJzdHJpbmdcIj09dHlwZW9mIHQmJjA9PT15KHQpLmxlbmd0aHx8K3QhPSt0Pj4+MHx8dD42NTUzNXx8MD09PXQmJiFuKXRocm93IG5ldyB2KGUsdCxuKTtyZXR1cm4gMHx0fSx2YWxpZGF0ZVNpZ25hbE5hbWU6ZnVuY3Rpb24odCxlPVwic2lnbmFsXCIpe2lmKGsodCxlKSx2b2lkIDA9PT1UW3RdKXtpZih2b2lkIDAhPT1UW2codCldKXRocm93IG5ldyBFKHQrXCIgKHNpZ25hbHMgbXVzdCB1c2UgYWxsIGNhcGl0YWwgbGV0dGVycylcIik7dGhyb3cgbmV3IEUodCl9fSx2YWxpZGF0ZVN0cmluZzprLHZhbGlkYXRlVWludDMyOkIsdmFsaWRhdGVVbmRlZmluZWQ6Rix2YWxpZGF0ZVVuaW9uOmZ1bmN0aW9uKHQsZSxuKXtpZighbyhuLHQpKXRocm93IG5ldyBiKGUsYCgnJHtpKG4sXCJ8XCIpfScpYCx0KX0sdmFsaWRhdGVBYm9ydFNpZ25hbDpXLHZhbGlkYXRlTGlua0hlYWRlclZhbHVlOmZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBxKHQsXCJoaW50c1wiKSx0O2lmKHIodCkpe2NvbnN0IGU9dC5sZW5ndGg7bGV0IG49XCJcIjtpZigwPT09ZSlyZXR1cm4gbjtmb3IobGV0IHI9MDtyPGU7cisrKXtjb25zdCBvPXRbcl07cShvLFwiaGludHNcIiksbis9byxyIT09ZS0xJiYobis9XCIsIFwiKX1yZXR1cm4gbn10aHJvdyBuZXcgdyhcImhpbnRzXCIsdCwnbXVzdCBiZSBhbiBhcnJheSBvciBzdHJpbmcgb2YgZm9ybWF0IFwiPC9zdHlsZXMuY3NzPjsgcmVsPXByZWxvYWQ7IGFzPXN0eWxlXCInKX19fSw5OToodCxlLG4pPT57Y29uc3Qgcj1uKDI5Miksbz1uKDc2MCksaT1yLlJlYWRhYmxlLmRlc3Ryb3k7dC5leHBvcnRzPXIuUmVhZGFibGUsdC5leHBvcnRzLl91aW50OEFycmF5VG9CdWZmZXI9ci5fdWludDhBcnJheVRvQnVmZmVyLHQuZXhwb3J0cy5faXNVaW50OEFycmF5PXIuX2lzVWludDhBcnJheSx0LmV4cG9ydHMuaXNEaXN0dXJiZWQ9ci5pc0Rpc3R1cmJlZCx0LmV4cG9ydHMuaXNFcnJvcmVkPXIuaXNFcnJvcmVkLHQuZXhwb3J0cy5pc1JlYWRhYmxlPXIuaXNSZWFkYWJsZSx0LmV4cG9ydHMuUmVhZGFibGU9ci5SZWFkYWJsZSx0LmV4cG9ydHMuV3JpdGFibGU9ci5Xcml0YWJsZSx0LmV4cG9ydHMuRHVwbGV4PXIuRHVwbGV4LHQuZXhwb3J0cy5UcmFuc2Zvcm09ci5UcmFuc2Zvcm0sdC5leHBvcnRzLlBhc3NUaHJvdWdoPXIuUGFzc1Rocm91Z2gsdC5leHBvcnRzLmFkZEFib3J0U2lnbmFsPXIuYWRkQWJvcnRTaWduYWwsdC5leHBvcnRzLmZpbmlzaGVkPXIuZmluaXNoZWQsdC5leHBvcnRzLmRlc3Ryb3k9ci5kZXN0cm95LHQuZXhwb3J0cy5kZXN0cm95PWksdC5leHBvcnRzLnBpcGVsaW5lPXIucGlwZWxpbmUsdC5leHBvcnRzLmNvbXBvc2U9ci5jb21wb3NlLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwicHJvbWlzZXNcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OigpPT5vfSksdC5leHBvcnRzLlN0cmVhbT1yLlN0cmVhbSx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHN9LDE0MToodCxlLG4pPT57Y29uc3R7Zm9ybWF0OnIsaW5zcGVjdDpvLEFnZ3JlZ2F0ZUVycm9yOml9PW4oNzc1KSxhPWdsb2JhbFRoaXMuQWdncmVnYXRlRXJyb3J8fGkscz1TeW1ib2woXCJrSXNOb2RlRXJyb3JcIiksdT1bXCJzdHJpbmdcIixcImZ1bmN0aW9uXCIsXCJudW1iZXJcIixcIm9iamVjdFwiLFwiRnVuY3Rpb25cIixcIk9iamVjdFwiLFwiYm9vbGVhblwiLFwiYmlnaW50XCIsXCJzeW1ib2xcIl0sbD0vXihbQS1aXVthLXowLTldKikrJC8sYz17fTtmdW5jdGlvbiBmKHQsZSl7aWYoIXQpdGhyb3cgbmV3IGMuRVJSX0lOVEVSTkFMX0FTU0VSVElPTihlKX1mdW5jdGlvbiBkKHQpe2xldCBlPVwiXCIsbj10Lmxlbmd0aDtjb25zdCByPVwiLVwiPT09dFswXT8xOjA7Zm9yKDtuPj1yKzQ7bi09MyllPWBfJHt0LnNsaWNlKG4tMyxuKX0ke2V9YDtyZXR1cm5gJHt0LnNsaWNlKDAsbil9JHtlfWB9ZnVuY3Rpb24gaCh0LGUsbil7bnx8KG49RXJyb3IpO2NsYXNzIE5vZGVFcnJvciBleHRlbmRzIG57Y29uc3RydWN0b3IoLi4ubil7c3VwZXIoZnVuY3Rpb24odCxlLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIGYoZS5sZW5ndGg8PW4ubGVuZ3RoLGBDb2RlOiAke3R9OyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzIGxlbmd0aCAoJHtuLmxlbmd0aH0pIGRvZXMgbm90IG1hdGNoIHRoZSByZXF1aXJlZCBvbmVzICgke2UubGVuZ3RofSkuYCksZSguLi5uKTtjb25zdCBvPShlLm1hdGNoKC8lW2RmaWpvT3NdL2cpfHxbXSkubGVuZ3RoO3JldHVybiBmKG89PT1uLmxlbmd0aCxgQ29kZTogJHt0fTsgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cyBsZW5ndGggKCR7bi5sZW5ndGh9KSBkb2VzIG5vdCBtYXRjaCB0aGUgcmVxdWlyZWQgb25lcyAoJHtvfSkuYCksMD09PW4ubGVuZ3RoP2U6cihlLC4uLm4pfSh0LGUsbikpfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5uYW1lfSBbJHt0fV06ICR7dGhpcy5tZXNzYWdlfWB9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE5vZGVFcnJvci5wcm90b3R5cGUse25hbWU6e3ZhbHVlOm4ubmFtZSx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0sdG9TdHJpbmc6e3ZhbHVlKCl7cmV0dXJuYCR7dGhpcy5uYW1lfSBbJHt0fV06ICR7dGhpcy5tZXNzYWdlfWB9LHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfX0pLE5vZGVFcnJvci5wcm90b3R5cGUuY29kZT10LE5vZGVFcnJvci5wcm90b3R5cGVbc109ITAsY1t0XT1Ob2RlRXJyb3J9ZnVuY3Rpb24gcCh0KXtjb25zdCBlPVwiX19ub2RlX2ludGVybmFsX1wiK3QubmFtZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJuYW1lXCIse3ZhbHVlOmV9KSx0fWNsYXNzIEFib3J0RXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0PVwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZFwiLGU9dm9pZCAwKXtpZih2b2lkIDAhPT1lJiZcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgYy5FUlJfSU5WQUxJRF9BUkdfVFlQRShcIm9wdGlvbnNcIixcIk9iamVjdFwiLGUpO3N1cGVyKHQsZSksdGhpcy5jb2RlPVwiQUJPUlRfRVJSXCIsdGhpcy5uYW1lPVwiQWJvcnRFcnJvclwifX1oKFwiRVJSX0FTU0VSVElPTlwiLFwiJXNcIixFcnJvciksaChcIkVSUl9JTlZBTElEX0FSR19UWVBFXCIsKCh0LGUsbik9PntmKFwic3RyaW5nXCI9PXR5cGVvZiB0LFwiJ25hbWUnIG11c3QgYmUgYSBzdHJpbmdcIiksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtsZXQgcj1cIlRoZSBcIjt0LmVuZHNXaXRoKFwiIGFyZ3VtZW50XCIpP3IrPWAke3R9IGA6cis9YFwiJHt0fVwiICR7dC5pbmNsdWRlcyhcIi5cIik/XCJwcm9wZXJ0eVwiOlwiYXJndW1lbnRcIn0gYCxyKz1cIm11c3QgYmUgXCI7Y29uc3QgaT1bXSxhPVtdLHM9W107Zm9yKGNvbnN0IHQgb2YgZSlmKFwic3RyaW5nXCI9PXR5cGVvZiB0LFwiQWxsIGV4cGVjdGVkIGVudHJpZXMgaGF2ZSB0byBiZSBvZiB0eXBlIHN0cmluZ1wiKSx1LmluY2x1ZGVzKHQpP2kucHVzaCh0LnRvTG93ZXJDYXNlKCkpOmwudGVzdCh0KT9hLnB1c2godCk6KGYoXCJvYmplY3RcIiE9PXQsJ1RoZSB2YWx1ZSBcIm9iamVjdFwiIHNob3VsZCBiZSB3cml0dGVuIGFzIFwiT2JqZWN0XCInKSxzLnB1c2godCkpO2lmKGEubGVuZ3RoPjApe2NvbnN0IHQ9aS5pbmRleE9mKFwib2JqZWN0XCIpOy0xIT09dCYmKGkuc3BsaWNlKGksdCwxKSxhLnB1c2goXCJPYmplY3RcIikpfWlmKGkubGVuZ3RoPjApe3N3aXRjaChpLmxlbmd0aCl7Y2FzZSAxOnIrPWBvZiB0eXBlICR7aVswXX1gO2JyZWFrO2Nhc2UgMjpyKz1gb25lIG9mIHR5cGUgJHtpWzBdfSBvciAke2lbMV19YDticmVhaztkZWZhdWx0Ontjb25zdCB0PWkucG9wKCk7cis9YG9uZSBvZiB0eXBlICR7aS5qb2luKFwiLCBcIil9LCBvciAke3R9YH19KGEubGVuZ3RoPjB8fHMubGVuZ3RoPjApJiYocis9XCIgb3IgXCIpfWlmKGEubGVuZ3RoPjApe3N3aXRjaChhLmxlbmd0aCl7Y2FzZSAxOnIrPWBhbiBpbnN0YW5jZSBvZiAke2FbMF19YDticmVhaztjYXNlIDI6cis9YGFuIGluc3RhbmNlIG9mICR7YVswXX0gb3IgJHthWzFdfWA7YnJlYWs7ZGVmYXVsdDp7Y29uc3QgdD1hLnBvcCgpO3IrPWBhbiBpbnN0YW5jZSBvZiAke2Euam9pbihcIiwgXCIpfSwgb3IgJHt0fWB9fXMubGVuZ3RoPjAmJihyKz1cIiBvciBcIil9c3dpdGNoKHMubGVuZ3RoKXtjYXNlIDA6YnJlYWs7Y2FzZSAxOnNbMF0udG9Mb3dlckNhc2UoKSE9PXNbMF0mJihyKz1cImFuIFwiKSxyKz1gJHtzWzBdfWA7YnJlYWs7Y2FzZSAyOnIrPWBvbmUgb2YgJHtzWzBdfSBvciAke3NbMV19YDticmVhaztkZWZhdWx0Ontjb25zdCB0PXMucG9wKCk7cis9YG9uZSBvZiAke3Muam9pbihcIiwgXCIpfSwgb3IgJHt0fWB9fWlmKG51bGw9PW4pcis9YC4gUmVjZWl2ZWQgJHtufWA7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuLm5hbWUpcis9YC4gUmVjZWl2ZWQgZnVuY3Rpb24gJHtuLm5hbWV9YDtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBuKXt2YXIgYztpZihudWxsIT09KGM9bi5jb25zdHJ1Y3RvcikmJnZvaWQgMCE9PWMmJmMubmFtZSlyKz1gLiBSZWNlaXZlZCBhbiBpbnN0YW5jZSBvZiAke24uY29uc3RydWN0b3IubmFtZX1gO2Vsc2V7cis9YC4gUmVjZWl2ZWQgJHtvKG4se2RlcHRoOi0xfSl9YH19ZWxzZXtsZXQgdD1vKG4se2NvbG9yczohMX0pO3QubGVuZ3RoPjI1JiYodD1gJHt0LnNsaWNlKDAsMjUpfS4uLmApLHIrPWAuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2Ygbn0gKCR7dH0pYH1yZXR1cm4gcn0pLFR5cGVFcnJvciksaChcIkVSUl9JTlZBTElEX0FSR19WQUxVRVwiLCgodCxlLG49XCJpcyBpbnZhbGlkXCIpPT57bGV0IHI9byhlKTtyLmxlbmd0aD4xMjgmJihyPXIuc2xpY2UoMCwxMjgpK1wiLi4uXCIpO3JldHVybmBUaGUgJHt0LmluY2x1ZGVzKFwiLlwiKT9cInByb3BlcnR5XCI6XCJhcmd1bWVudFwifSAnJHt0fScgJHtufS4gUmVjZWl2ZWQgJHtyfWB9KSxUeXBlRXJyb3IpLGgoXCJFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUVcIiwoKHQsZSxuKT0+e3ZhciByO3JldHVybmBFeHBlY3RlZCAke3R9IHRvIGJlIHJldHVybmVkIGZyb20gdGhlIFwiJHtlfVwiIGZ1bmN0aW9uIGJ1dCBnb3QgJHtudWxsIT1uJiZudWxsIT09KHI9bi5jb25zdHJ1Y3RvcikmJnZvaWQgMCE9PXImJnIubmFtZT9gaW5zdGFuY2Ugb2YgJHtuLmNvbnN0cnVjdG9yLm5hbWV9YDpcInR5cGUgXCIrdHlwZW9mIG59LmB9KSxUeXBlRXJyb3IpLGgoXCJFUlJfTUlTU0lOR19BUkdTXCIsKCguLi50KT0+e2xldCBlO2YodC5sZW5ndGg+MCxcIkF0IGxlYXN0IG9uZSBhcmcgbmVlZHMgdG8gYmUgc3BlY2lmaWVkXCIpO2NvbnN0IG49dC5sZW5ndGg7c3dpdGNoKHQ9KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pLm1hcCgodD0+YFwiJHt0fVwiYCkpLmpvaW4oXCIgb3IgXCIpLG4pe2Nhc2UgMTplKz1gVGhlICR7dFswXX0gYXJndW1lbnRgO2JyZWFrO2Nhc2UgMjplKz1gVGhlICR7dFswXX0gYW5kICR7dFsxXX0gYXJndW1lbnRzYDticmVhaztkZWZhdWx0Ontjb25zdCBuPXQucG9wKCk7ZSs9YFRoZSAke3Quam9pbihcIiwgXCIpfSwgYW5kICR7bn0gYXJndW1lbnRzYH19cmV0dXJuYCR7ZX0gbXVzdCBiZSBzcGVjaWZpZWRgfSksVHlwZUVycm9yKSxoKFwiRVJSX09VVF9PRl9SQU5HRVwiLCgodCxlLG4pPT57bGV0IHI7cmV0dXJuIGYoZSwnTWlzc2luZyBcInJhbmdlXCIgYXJndW1lbnQnKSxOdW1iZXIuaXNJbnRlZ2VyKG4pJiZNYXRoLmFicyhuKT4yKiozMj9yPWQoU3RyaW5nKG4pKTpcImJpZ2ludFwiPT10eXBlb2Ygbj8ocj1TdHJpbmcobiksKG4+Mm4qKjMybnx8bjwtKDJuKiozMm4pKSYmKHI9ZChyKSkscis9XCJuXCIpOnI9byhuKSxgVGhlIHZhbHVlIG9mIFwiJHt0fVwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSAke2V9LiBSZWNlaXZlZCAke3J9YH0pLFJhbmdlRXJyb3IpLGgoXCJFUlJfTVVMVElQTEVfQ0FMTEJBQ0tcIixcIkNhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1wiLEVycm9yKSxoKFwiRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URURcIixcIlRoZSAlcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkXCIsRXJyb3IpLGgoXCJFUlJfU1RSRUFNX0FMUkVBRFlfRklOSVNIRURcIixcIkNhbm5vdCBjYWxsICVzIGFmdGVyIGEgc3RyZWFtIHdhcyBmaW5pc2hlZFwiLEVycm9yKSxoKFwiRVJSX1NUUkVBTV9DQU5OT1RfUElQRVwiLFwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZVwiLEVycm9yKSxoKFwiRVJSX1NUUkVBTV9ERVNUUk9ZRURcIixcIkNhbm5vdCBjYWxsICVzIGFmdGVyIGEgc3RyZWFtIHdhcyBkZXN0cm95ZWRcIixFcnJvciksaChcIkVSUl9TVFJFQU1fTlVMTF9WQUxVRVNcIixcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIsVHlwZUVycm9yKSxoKFwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIixcIlByZW1hdHVyZSBjbG9zZVwiLEVycm9yKSxoKFwiRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRlwiLFwic3RyZWFtLnB1c2goKSBhZnRlciBFT0ZcIixFcnJvciksaChcIkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlRcIixcInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50XCIsRXJyb3IpLGgoXCJFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORFwiLFwid3JpdGUgYWZ0ZXIgZW5kXCIsRXJyb3IpLGgoXCJFUlJfVU5LTk9XTl9FTkNPRElOR1wiLFwiVW5rbm93biBlbmNvZGluZzogJXNcIixUeXBlRXJyb3IpLHQuZXhwb3J0cz17QWJvcnRFcnJvcixhZ2dyZWdhdGVUd29FcnJvcnM6cCgoZnVuY3Rpb24odCxlKXtpZih0JiZlJiZ0IT09ZSl7aWYoQXJyYXkuaXNBcnJheShlLmVycm9ycykpcmV0dXJuIGUuZXJyb3JzLnB1c2godCksZTtjb25zdCBuPW5ldyBhKFtlLHRdLGUubWVzc2FnZSk7cmV0dXJuIG4uY29kZT1lLmNvZGUsbn1yZXR1cm4gdHx8ZX0pKSxoaWRlU3RhY2tGcmFtZXM6cCxjb2RlczpjfX0sMTkxOnQ9Pnt0LmV4cG9ydHM9e0FycmF5SXNBcnJheTp0PT5BcnJheS5pc0FycmF5KHQpLEFycmF5UHJvdG90eXBlSW5jbHVkZXM6KHQsZSk9PnQuaW5jbHVkZXMoZSksQXJyYXlQcm90b3R5cGVJbmRleE9mOih0LGUpPT50LmluZGV4T2YoZSksQXJyYXlQcm90b3R5cGVKb2luOih0LGUpPT50LmpvaW4oZSksQXJyYXlQcm90b3R5cGVNYXA6KHQsZSk9PnQubWFwKGUpLEFycmF5UHJvdG90eXBlUG9wOih0LGUpPT50LnBvcChlKSxBcnJheVByb3RvdHlwZVB1c2g6KHQsZSk9PnQucHVzaChlKSxBcnJheVByb3RvdHlwZVNsaWNlOih0LGUsbik9PnQuc2xpY2UoZSxuKSxFcnJvcixGdW5jdGlvblByb3RvdHlwZUNhbGw6KHQsZSwuLi5uKT0+dC5jYWxsKGUsLi4ubiksRnVuY3Rpb25Qcm90b3R5cGVTeW1ib2xIYXNJbnN0YW5jZToodCxlKT0+RnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0uY2FsbCh0LGUpLE1hdGhGbG9vcjpNYXRoLmZsb29yLE51bWJlcixOdW1iZXJJc0ludGVnZXI6TnVtYmVyLmlzSW50ZWdlcixOdW1iZXJJc05hTjpOdW1iZXIuaXNOYU4sTnVtYmVyTUFYX1NBRkVfSU5URUdFUjpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixOdW1iZXJNSU5fU0FGRV9JTlRFR0VSOk51bWJlci5NSU5fU0FGRV9JTlRFR0VSLE51bWJlclBhcnNlSW50Ok51bWJlci5wYXJzZUludCxPYmplY3REZWZpbmVQcm9wZXJ0aWVzOih0LGUpPT5PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LGUpLE9iamVjdERlZmluZVByb3BlcnR5Oih0LGUsbik9Pk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsbiksT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOih0LGUpPT5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSksT2JqZWN0S2V5czp0PT5PYmplY3Qua2V5cyh0KSxPYmplY3RTZXRQcm90b3R5cGVPZjoodCxlKT0+T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSksUHJvbWlzZSxQcm9taXNlUHJvdG90eXBlQ2F0Y2g6KHQsZSk9PnQuY2F0Y2goZSksUHJvbWlzZVByb3RvdHlwZVRoZW46KHQsZSxuKT0+dC50aGVuKGUsbiksUHJvbWlzZVJlamVjdDp0PT5Qcm9taXNlLnJlamVjdCh0KSxSZWZsZWN0QXBwbHk6UmVmbGVjdC5hcHBseSxSZWdFeHBQcm90b3R5cGVUZXN0Oih0LGUpPT50LnRlc3QoZSksU2FmZVNldDpTZXQsU3RyaW5nLFN0cmluZ1Byb3RvdHlwZVNsaWNlOih0LGUsbik9PnQuc2xpY2UoZSxuKSxTdHJpbmdQcm90b3R5cGVUb0xvd2VyQ2FzZTp0PT50LnRvTG93ZXJDYXNlKCksU3RyaW5nUHJvdG90eXBlVG9VcHBlckNhc2U6dD0+dC50b1VwcGVyQ2FzZSgpLFN0cmluZ1Byb3RvdHlwZVRyaW06dD0+dC50cmltKCksU3ltYm9sLFN5bWJvbEZvcjpTeW1ib2wuZm9yLFN5bWJvbEFzeW5jSXRlcmF0b3I6U3ltYm9sLmFzeW5jSXRlcmF0b3IsU3ltYm9sSGFzSW5zdGFuY2U6U3ltYm9sLmhhc0luc3RhbmNlLFN5bWJvbEl0ZXJhdG9yOlN5bWJvbC5pdGVyYXRvcixUeXBlZEFycmF5UHJvdG90eXBlU2V0Oih0LGUsbik9PnQuc2V0KGUsbiksVWludDhBcnJheX19LDc3NToodCxlLG4pPT57Y29uc3Qgcj1uKDQ4NSksbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoKGFzeW5jIGZ1bmN0aW9uKCl7fSkpLmNvbnN0cnVjdG9yLGk9Z2xvYmFsVGhpcy5CbG9ifHxyLkJsb2IsYT12b2lkIDAhPT1pP2Z1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgaX06ZnVuY3Rpb24odCl7cmV0dXJuITF9O2NsYXNzIEFnZ3JlZ2F0ZUVycm9yIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGlucHV0IHRvIGJlIGFuIEFycmF5LCBnb3QgXCIrdHlwZW9mIHQpO2xldCBlPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9YCAgICAke3Rbbl0uc3RhY2t9XFxuYDtzdXBlcihlKSx0aGlzLm5hbWU9XCJBZ2dyZWdhdGVFcnJvclwiLHRoaXMuZXJyb3JzPXR9fXQuZXhwb3J0cz17QWdncmVnYXRlRXJyb3Isa0VtcHR5T2JqZWN0Ok9iamVjdC5mcmVlemUoe30pLG9uY2UodCl7bGV0IGU9ITE7cmV0dXJuIGZ1bmN0aW9uKC4uLm4pe2V8fChlPSEwLHQuYXBwbHkodGhpcyxuKSl9fSxjcmVhdGVEZWZlcnJlZFByb21pc2U6ZnVuY3Rpb24oKXtsZXQgdCxlO3JldHVybntwcm9taXNlOm5ldyBQcm9taXNlKCgobixyKT0+e3Q9bixlPXJ9KSkscmVzb2x2ZTp0LHJlamVjdDplfX0scHJvbWlzaWZ5OnQ9Pm5ldyBQcm9taXNlKCgoZSxuKT0+e3QoKCh0LC4uLnIpPT50P24odCk6ZSguLi5yKSkpfSkpLGRlYnVnbG9nOigpPT5mdW5jdGlvbigpe30sZm9ybWF0Oih0LC4uLmUpPT50LnJlcGxhY2UoLyUoW3NkaWZqXSkvZywoZnVuY3Rpb24oLi4uW3Qsbl0pe2NvbnN0IHI9ZS5zaGlmdCgpO2lmKFwiZlwiPT09bilyZXR1cm4gci50b0ZpeGVkKDYpO2lmKFwialwiPT09bilyZXR1cm4gSlNPTi5zdHJpbmdpZnkocik7aWYoXCJzXCI9PT1uJiZcIm9iamVjdFwiPT10eXBlb2Ygcil7cmV0dXJuYCR7ci5jb25zdHJ1Y3RvciE9PU9iamVjdD9yLmNvbnN0cnVjdG9yLm5hbWU6XCJcIn0ge31gLnRyaW0oKX1yZXR1cm4gci50b1N0cmluZygpfSkpLGluc3BlY3QodCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlXCJzdHJpbmdcIjppZih0LmluY2x1ZGVzKFwiJ1wiKSl7aWYoIXQuaW5jbHVkZXMoJ1wiJykpcmV0dXJuYFwiJHt0fVwiYDtpZighdC5pbmNsdWRlcyhcImBcIikmJiF0LmluY2x1ZGVzKFwiJHtcIikpcmV0dXJuYFxcYCR7dH1cXGBgfXJldHVybmAnJHt0fSdgO2Nhc2VcIm51bWJlclwiOnJldHVybiBpc05hTih0KT9cIk5hTlwiOk9iamVjdC5pcyh0LC0wKT9TdHJpbmcodCk6dDtjYXNlXCJiaWdpbnRcIjpyZXR1cm5gJHtTdHJpbmcodCl9bmA7Y2FzZVwiYm9vbGVhblwiOmNhc2VcInVuZGVmaW5lZFwiOnJldHVybiBTdHJpbmcodCk7Y2FzZVwib2JqZWN0XCI6cmV0dXJuXCJ7fVwifX0sdHlwZXM6e2lzQXN5bmNGdW5jdGlvbjp0PT50IGluc3RhbmNlb2Ygbyxpc0FycmF5QnVmZmVyVmlldzp0PT5BcnJheUJ1ZmZlci5pc1ZpZXcodCl9LGlzQmxvYjphfSx0LmV4cG9ydHMucHJvbWlzaWZ5LmN1c3RvbT1TeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwucHJvbWlzaWZ5LmN1c3RvbVwiKX0sMjkyOih0LGUsbik9Pntjb25zdHtCdWZmZXI6cn09big0ODUpLHtPYmplY3REZWZpbmVQcm9wZXJ0eTpvLE9iamVjdEtleXM6aSxSZWZsZWN0QXBwbHk6YX09bigxOTEpLHtwcm9taXNpZnk6e2N1c3RvbTpzfX09big3NzUpLHtzdHJlYW1SZXR1cm5pbmdPcGVyYXRvcnM6dSxwcm9taXNlUmV0dXJuaW5nT3BlcmF0b3JzOmx9PW4oNTU0KSx7Y29kZXM6e0VSUl9JTExFR0FMX0NPTlNUUlVDVE9SOmN9fT1uKDE0MSksZj1uKDgxOCkse3BpcGVsaW5lOmR9PW4oNzU0KSx7ZGVzdHJveWVyOmh9PW4oMjMwKSxwPW4oODYpLGc9big3NjApLHk9bigxMzIpLG09dC5leHBvcnRzPW4oMjAwKS5TdHJlYW07bS5pc0Rpc3R1cmJlZD15LmlzRGlzdHVyYmVkLG0uaXNFcnJvcmVkPXkuaXNFcnJvcmVkLG0uaXNSZWFkYWJsZT15LmlzUmVhZGFibGUsbS5SZWFkYWJsZT1uKDg1OCk7Zm9yKGNvbnN0IHcgb2YgaSh1KSl7Y29uc3QgXz11W3ddO2Z1bmN0aW9uIHYoLi4udCl7aWYobmV3LnRhcmdldCl0aHJvdyBjKCk7cmV0dXJuIG0uUmVhZGFibGUuZnJvbShhKF8sdGhpcyx0KSl9byh2LFwibmFtZVwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTpfLm5hbWV9KSxvKHYsXCJsZW5ndGhcIix7X19wcm90b19fOm51bGwsdmFsdWU6Xy5sZW5ndGh9KSxvKG0uUmVhZGFibGUucHJvdG90eXBlLHcse19fcHJvdG9fXzpudWxsLHZhbHVlOnYsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KX1mb3IoY29uc3QgRSBvZiBpKGwpKXtjb25zdCBTPWxbRV07ZnVuY3Rpb24gdiguLi50KXtpZihuZXcudGFyZ2V0KXRocm93IGMoKTtyZXR1cm4gYShTLHRoaXMsdCl9byh2LFwibmFtZVwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTpTLm5hbWV9KSxvKHYsXCJsZW5ndGhcIix7X19wcm90b19fOm51bGwsdmFsdWU6Uy5sZW5ndGh9KSxvKG0uUmVhZGFibGUucHJvdG90eXBlLEUse19fcHJvdG9fXzpudWxsLHZhbHVlOnYsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KX1tLldyaXRhYmxlPW4oMzczKSxtLkR1cGxleD1uKDE4MiksbS5UcmFuc2Zvcm09bigyMTApLG0uUGFzc1Rocm91Z2g9big0NjcpLG0ucGlwZWxpbmU9ZDtjb25zdHthZGRBYm9ydFNpZ25hbDpifT1uKDM3NCk7bS5hZGRBYm9ydFNpZ25hbD1iLG0uZmluaXNoZWQ9cCxtLmRlc3Ryb3k9aCxtLmNvbXBvc2U9ZixvKG0sXCJwcm9taXNlc1wiLHtfX3Byb3RvX186bnVsbCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6KCk9Pmd9KSxvKGQscyx7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMCxnZXQ6KCk9PmcucGlwZWxpbmV9KSxvKHAscyx7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMCxnZXQ6KCk9PmcuZmluaXNoZWR9KSxtLlN0cmVhbT1tLG0uX2lzVWludDhBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl9LG0uX3VpbnQ4QXJyYXlUb0J1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4gci5mcm9tKHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfX0sNzYwOih0LGUsbik9Pntjb25zdHtBcnJheVByb3RvdHlwZVBvcDpyLFByb21pc2U6b309bigxOTEpLHtpc0l0ZXJhYmxlOmksaXNOb2RlU3RyZWFtOmEsaXNXZWJTdHJlYW06c309bigxMzIpLHtwaXBlbGluZUltcGw6dX09big3NTQpLHtmaW5pc2hlZDpsfT1uKDg2KTtuKDkxKSx0LmV4cG9ydHM9e2ZpbmlzaGVkOmwscGlwZWxpbmU6ZnVuY3Rpb24oLi4udCl7cmV0dXJuIG5ldyBvKCgoZSxuKT0+e2xldCBvLGw7Y29uc3QgYz10W3QubGVuZ3RoLTFdO2lmKGMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiYhYShjKSYmIWkoYykmJiFzKGMpKXtjb25zdCBlPXIodCk7bz1lLnNpZ25hbCxsPWUuZW5kfXUodCwoKHQscik9Pnt0P24odCk6ZShyKX0pLHtzaWduYWw6byxlbmQ6bH0pfSkpfX19LDUzMzp0PT57dmFyIGUsbixyPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGEodCl7aWYoZT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigoZT09PW98fCFlKSYmc2V0VGltZW91dClyZXR1cm4gZT1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIGUodCwwKX1jYXRjaChuKXt0cnl7cmV0dXJuIGUuY2FsbChudWxsLHQsMCl9Y2F0Y2gobil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsMCl9fX0hZnVuY3Rpb24oKXt0cnl7ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6b31jYXRjaCh0KXtlPW99dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDppfWNhdGNoKHQpe249aX19KCk7dmFyIHMsdT1bXSxsPSExLGM9LTE7ZnVuY3Rpb24gZigpe2wmJnMmJihsPSExLHMubGVuZ3RoP3U9cy5jb25jYXQodSk6Yz0tMSx1Lmxlbmd0aCYmZCgpKX1mdW5jdGlvbiBkKCl7aWYoIWwpe3ZhciB0PWEoZik7bD0hMDtmb3IodmFyIGU9dS5sZW5ndGg7ZTspe2ZvcihzPXUsdT1bXTsrK2M8ZTspcyYmc1tjXS5ydW4oKTtjPS0xLGU9dS5sZW5ndGh9cz1udWxsLGw9ITEsZnVuY3Rpb24odCl7aWYobj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChuPT09aXx8IW4pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG49Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7cmV0dXJuIG4odCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCx0KX1jYXRjaChlKXtyZXR1cm4gbi5jYWxsKHRoaXMsdCl9fX0odCl9fWZ1bmN0aW9uIGgodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBwKCl7fXIubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTt1LnB1c2gobmV3IGgodCxlKSksMSE9PXUubGVuZ3RofHxsfHxhKGQpfSxoLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxyLnRpdGxlPVwiYnJvd3NlclwiLHIuYnJvd3Nlcj0hMCxyLmVudj17fSxyLmFyZ3Y9W10sci52ZXJzaW9uPVwiXCIsci52ZXJzaW9ucz17fSxyLm9uPXAsci5hZGRMaXN0ZW5lcj1wLHIub25jZT1wLHIub2ZmPXAsci5yZW1vdmVMaXN0ZW5lcj1wLHIucmVtb3ZlQWxsTGlzdGVuZXJzPXAsci5lbWl0PXAsci5wcmVwZW5kTGlzdGVuZXI9cCxyLnByZXBlbmRPbmNlTGlzdGVuZXI9cCxyLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sci5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxyLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxyLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sci51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sMzc3Oih0LGUsbik9Pnt2YXIgcj1uKDQ4NSksbz1yLkJ1ZmZlcjtmdW5jdGlvbiBpKHQsZSl7Zm9yKHZhciBuIGluIHQpZVtuXT10W25dfWZ1bmN0aW9uIGEodCxlLG4pe3JldHVybiBvKHQsZSxuKX1vLmZyb20mJm8uYWxsb2MmJm8uYWxsb2NVbnNhZmUmJm8uYWxsb2NVbnNhZmVTbG93P3QuZXhwb3J0cz1yOihpKHIsZSksZS5CdWZmZXI9YSksaShvLGEpLGEuZnJvbT1mdW5jdGlvbih0LGUsbil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyXCIpO3JldHVybiBvKHQsZSxuKX0sYS5hbGxvYz1mdW5jdGlvbih0LGUsbil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7dmFyIHI9byh0KTtyZXR1cm4gdm9pZCAwIT09ZT9cInN0cmluZ1wiPT10eXBlb2Ygbj9yLmZpbGwoZSxuKTpyLmZpbGwoZSk6ci5maWxsKDApLHJ9LGEuYWxsb2NVbnNhZmU9ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIG8odCl9LGEuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiByLlNsb3dCdWZmZXIodCl9fSw0NjQ6KHQsZSxuKT0+e3ZhciByPW4oMzc3KS5CdWZmZXIsbz1yLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKHQpe3N3aXRjaCgodD1cIlwiK3QpJiZ0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6Y2FzZVwicmF3XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19O2Z1bmN0aW9uIGkodCl7dmFyIGU7c3dpdGNoKHRoaXMuZW5jb2Rpbmc9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuXCJ1dGY4XCI7Zm9yKHZhciBlOzspc3dpdGNoKHQpe2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVyblwidXRmOFwiO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVyblwidXRmMTZsZVwiO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVyblwibGF0aW4xXCI7Y2FzZVwiYmFzZTY0XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJoZXhcIjpyZXR1cm4gdDtkZWZhdWx0OmlmKGUpcmV0dXJuO3Q9KFwiXCIrdCkudG9Mb3dlckNhc2UoKSxlPSEwfX0odCk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihyLmlzRW5jb2Rpbmc9PT1vfHwhbyh0KSkpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrdCk7cmV0dXJuIGV8fHR9KHQpLHRoaXMuZW5jb2Rpbmcpe2Nhc2VcInV0ZjE2bGVcIjp0aGlzLnRleHQ9dSx0aGlzLmVuZD1sLGU9NDticmVhaztjYXNlXCJ1dGY4XCI6dGhpcy5maWxsTGFzdD1zLGU9NDticmVhaztjYXNlXCJiYXNlNjRcIjp0aGlzLnRleHQ9Yyx0aGlzLmVuZD1mLGU9MzticmVhaztkZWZhdWx0OnJldHVybiB0aGlzLndyaXRlPWQsdm9pZCh0aGlzLmVuZD1oKX10aGlzLmxhc3ROZWVkPTAsdGhpcy5sYXN0VG90YWw9MCx0aGlzLmxhc3RDaGFyPXIuYWxsb2NVbnNhZmUoZSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdDw9MTI3PzA6dD4+NT09Nj8yOnQ+PjQ9PTE0PzM6dD4+Mz09MzA/NDp0Pj42PT0yPy0xOi0yfWZ1bmN0aW9uIHModCl7dmFyIGU9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCxuPWZ1bmN0aW9uKHQsZSxuKXtpZigxMjghPSgxOTImZVswXSkpcmV0dXJuIHQubGFzdE5lZWQ9MCxcIu+/vVwiO2lmKHQubGFzdE5lZWQ+MSYmZS5sZW5ndGg+MSl7aWYoMTI4IT0oMTkyJmVbMV0pKXJldHVybiB0Lmxhc3ROZWVkPTEsXCLvv71cIjtpZih0Lmxhc3ROZWVkPjImJmUubGVuZ3RoPjImJjEyOCE9KDE5MiZlWzJdKSlyZXR1cm4gdC5sYXN0TmVlZD0yLFwi77+9XCJ9fSh0aGlzLHQpO3JldHVybiB2b2lkIDAhPT1uP246dGhpcy5sYXN0TmVlZDw9dC5sZW5ndGg/KHQuY29weSh0aGlzLmxhc3RDaGFyLGUsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCkpOih0LmNvcHkodGhpcy5sYXN0Q2hhcixlLDAsdC5sZW5ndGgpLHZvaWQodGhpcy5sYXN0TmVlZC09dC5sZW5ndGgpKX1mdW5jdGlvbiB1KHQsZSl7aWYoKHQubGVuZ3RoLWUpJTI9PTApe3ZhciBuPXQudG9TdHJpbmcoXCJ1dGYxNmxlXCIsZSk7aWYobil7dmFyIHI9bi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpO2lmKHI+PTU1Mjk2JiZyPD01NjMxOSlyZXR1cm4gdGhpcy5sYXN0TmVlZD0yLHRoaXMubGFzdFRvdGFsPTQsdGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09dFt0Lmxlbmd0aC0xXSxuLnNsaWNlKDAsLTEpfXJldHVybiBufXJldHVybiB0aGlzLmxhc3ROZWVkPTEsdGhpcy5sYXN0VG90YWw9Mix0aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMV0sdC50b1N0cmluZyhcInV0ZjE2bGVcIixlLHQubGVuZ3RoLTEpfWZ1bmN0aW9uIGwodCl7dmFyIGU9dCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwiO2lmKHRoaXMubGFzdE5lZWQpe3ZhciBuPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQ7cmV0dXJuIGUrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcInV0ZjE2bGVcIiwwLG4pfXJldHVybiBlfWZ1bmN0aW9uIGModCxlKXt2YXIgbj0odC5sZW5ndGgtZSklMztyZXR1cm4gMD09PW4/dC50b1N0cmluZyhcImJhc2U2NFwiLGUpOih0aGlzLmxhc3ROZWVkPTMtbix0aGlzLmxhc3RUb3RhbD0zLDE9PT1uP3RoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0xXToodGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09dFt0Lmxlbmd0aC0xXSksdC50b1N0cmluZyhcImJhc2U2NFwiLGUsdC5sZW5ndGgtbikpfWZ1bmN0aW9uIGYodCl7dmFyIGU9dCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP2UrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcImJhc2U2NFwiLDAsMy10aGlzLmxhc3ROZWVkKTplfWZ1bmN0aW9uIGQodCl7cmV0dXJuIHQudG9TdHJpbmcodGhpcy5lbmNvZGluZyl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwifWUuU3RyaW5nRGVjb2Rlcj1pLGkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm5cIlwiO3ZhciBlLG47aWYodGhpcy5sYXN0TmVlZCl7aWYodm9pZCAwPT09KGU9dGhpcy5maWxsTGFzdCh0KSkpcmV0dXJuXCJcIjtuPXRoaXMubGFzdE5lZWQsdGhpcy5sYXN0TmVlZD0wfWVsc2Ugbj0wO3JldHVybiBuPHQubGVuZ3RoP2U/ZSt0aGlzLnRleHQodCxuKTp0aGlzLnRleHQodCxuKTplfHxcIlwifSxpLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP2UrXCLvv71cIjplfSxpLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24odCxlLG4pe3ZhciByPWUubGVuZ3RoLTE7aWYocjxuKXJldHVybiAwO3ZhciBvPWEoZVtyXSk7aWYobz49MClyZXR1cm4gbz4wJiYodC5sYXN0TmVlZD1vLTEpLG87aWYoLS1yPG58fC0yPT09bylyZXR1cm4gMDtpZihvPWEoZVtyXSksbz49MClyZXR1cm4gbz4wJiYodC5sYXN0TmVlZD1vLTIpLG87aWYoLS1yPG58fC0yPT09bylyZXR1cm4gMDtpZihvPWEoZVtyXSksbz49MClyZXR1cm4gbz4wJiYoMj09PW8/bz0wOnQubGFzdE5lZWQ9by0zKSxvO3JldHVybiAwfSh0aGlzLHQsZSk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIHQudG9TdHJpbmcoXCJ1dGY4XCIsZSk7dGhpcy5sYXN0VG90YWw9bjt2YXIgcj10Lmxlbmd0aC0obi10aGlzLmxhc3ROZWVkKTtyZXR1cm4gdC5jb3B5KHRoaXMubGFzdENoYXIsMCxyKSx0LnRvU3RyaW5nKFwidXRmOFwiLGUscil9LGkucHJvdG90eXBlLmZpbGxMYXN0PWZ1bmN0aW9uKHQpe2lmKHRoaXMubGFzdE5lZWQ8PXQubGVuZ3RoKXJldHVybiB0LmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpO3QuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0Lmxlbmd0aCksdGhpcy5sYXN0TmVlZC09dC5sZW5ndGh9fSw1NDoodCxlLG4pPT57bi5kKGUse01TOigpPT5BLGNGOigpPT5JLEFLOigpPT5ULE1fOigpPT5SLGNYOigpPT54LEJUOigpPT5JbnRlcm9wRXJyb3IsX1c6KCk9PkIsUGc6KCk9Pmx0LCRqOigpPT5ZLFUkOigpPT5OLFU3OigpPT5NfSk7dmFyIHI9e2Q6KHQsZSk9Pntmb3IodmFyIG4gaW4gZSlyLm8oZSxuKSYmIXIubyh0LG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtlbnVtZXJhYmxlOiEwLGdldDplW25dfSl9LG86KHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxvPXt9O3IuZChvLHtNUzooKT0+QXBpRXJyb3IsY0Y6KCk9PkFwaVJlcXVlc3RFcnJvcixBSzooKT0+QXV0aFRva2VuRXhwaXJlZEVycm9yLE1fOigpPT5BdXRob3JpemF0aW9uRXJyb3IsY1g6KCk9PkluaXRpYWxpemF0aW9uRXJyb3IsWWQ6KCk9Pmwsbmo6KCk9Pk5vdEltcGxlbWVudGVkRXJyb3IsTzQ6KCk9PlMsX1c6KCk9PlBhcmFtZXRlckVycm9yLFUkOigpPT5hLFU3OigpPT5zfSk7Y2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3ZhciBuLHI7c3VwZXIodD1udWxsIT09KG49bnVsbCE9dD90Om51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSkmJnZvaWQgMCE9PW4/bjpcIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkXCIpLHRoaXMubmFtZT10aGlzLmNvbnN0cnVjdG9yLm5hbWUsdGhpcy5zdGFjaz0odD90aGlzLnN0YWNrOm51bGwhPT0ocj1udWxsPT1lP3ZvaWQgMDplLnN0YWNrKSYmdm9pZCAwIT09cj9yOnRoaXMuc3RhY2spLnJlcGxhY2UoL14oXFx3KkVycm9yKS8sYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApfX1jbGFzcyBBcGlSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3Rvcih0LGUsbil7dmFyIHI7c3VwZXIodD1udWxsIT09KHI9bnVsbCE9dD90Om51bGw9PW4/dm9pZCAwOm4ubWVzc2FnZSkmJnZvaWQgMCE9PXI/cjpcIkFuIGVycm9yIG9jY3VycmVkIHdoZW4gZXhlY3V0aW5nIHRoZSBBUEkgcmVxdWVzdFwiLG4pLHRoaXMuc3RhdHVzPWV9fWNsYXNzIEF1dGhvcml6YXRpb25FcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKHQsZSl7dmFyIG47c3VwZXIodD1udWxsIT09KG49bnVsbCE9dD90Om51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSkmJnZvaWQgMCE9PW4/bjpcIkFuIGF1dGhvcml6YXRpb24gZXJyb3Igb2NjdXJyZWRcIixlKX19Y2xhc3MgQXV0aFRva2VuRXhwaXJlZEVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IodCxlKXt2YXIgbjtzdXBlcih0PW51bGwhPT0obj1udWxsIT10P3Q6bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKSYmdm9pZCAwIT09bj9uOlwiVGhlIEFQSSByZXF1ZXN0IGZhaWxlZCBhcyB0aGUgYXV0aG9yaXphdGlvbiB0b2tlbnMgaGF2ZSBleHBpcmVkXCIsZSl9fWNsYXNzIEluaXRpYWxpemF0aW9uRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3ZhciBuO3N1cGVyKHQ9bnVsbCE9PShuPW51bGwhPXQ/dDpudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpJiZ2b2lkIDAhPT1uP246XCJBbiBpbml0aWFsaXphdGlvbiBlcnJvciBvY2N1cnJlZFwiLGUpfX1jbGFzcyBOb3RJbXBsZW1lbnRlZEVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IodCxlKXt2YXIgbjtzdXBlcih0PW51bGwhPT0obj1udWxsIT10P3Q6bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKSYmdm9pZCAwIT09bj9uOlwiVGhlIG1ldGhvZCBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWRcIixlKX19Y2xhc3MgUGFyYW1ldGVyRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0PW51bGwhPXQ/dDpcIkludmFsaWQgcGFyYW1ldGVyIGRldGVjdGVkXCIpfX1jb25zdCBpPXQ9PntsZXQgZT1maW4uSW50ZWdyYXRpb25zO2V8fChmaW4uSW50ZWdyYXRpb25zPXt9LGU9ZmluLkludGVncmF0aW9ucyk7bGV0IG49ZVt0XTtyZXR1cm4gbnx8KGVbdF09e30sbj1lW3RdKSxufSxhPXQ9PntpKHQpLmxvZ2dpbmdFbmFibGVkPSExfSxzPSh0LGU9XCIwLjAuMFwiKT0+e2kodCkubG9nZ2luZ0VuYWJsZWQ9ITAsY29uc29sZS5sb2codSh0KSxgdiR7ZX1gKX0sdT10PT5gW0BvcGVuZmluLyR7dC50b0xvd2VyQ2FzZSgpfV1gO2NsYXNzIGx7Y29uc3RydWN0b3IodCl7dGhpcy5uYW1lPXQsdGhpcy5wcmVmaXg9dSh0KSx0aGlzLmlzTG9nZ2luZ0VuYWJsZWQ9dGhpcy5pc0xvZ2dpbmdFbmFibGVkLmJpbmQodGhpcyksdGhpcy5sb2dFcnJvcj10aGlzLmxvZ0Vycm9yLmJpbmQodGhpcyksdGhpcy5sb2dJbmZvPXRoaXMubG9nSW5mby5iaW5kKHRoaXMpLHRoaXMubG9nV2FybmluZz10aGlzLmxvZ1dhcm5pbmcuYmluZCh0aGlzKX1pc0xvZ2dpbmdFbmFibGVkKCl7cmV0dXJuIGkodGhpcy5uYW1lKS5sb2dnaW5nRW5hYmxlZH1sb2dFcnJvcih0KXt0aGlzLmlzTG9nZ2luZ0VuYWJsZWQoKSYmKHQuaW5uZXJFcnJvcj9jb25zb2xlLmVycm9yKHRoaXMucHJlZml4LHQsXCJcXG5cXG4oaW5uZXIpXCIsdC5pbm5lckVycm9yKTpjb25zb2xlLmVycm9yKHRoaXMucHJlZml4LHQpKX1sb2dJbmZvKC4uLnQpe3RoaXMuaXNMb2dnaW5nRW5hYmxlZCgpJiZjb25zb2xlLmxvZyh0aGlzLnByZWZpeCwuLi50KX1sb2dXYXJuaW5nKC4uLnQpe3RoaXMuaXNMb2dnaW5nRW5hYmxlZCgpJiZjb25zb2xlLndhcm4odGhpcy5wcmVmaXgsLi4udCl9fWNvbnN0IGM9XCJvYXV0aC1hcGktYXV0aC1mbG93XCIsZj0odCxlLG4scixvLGksYSxzKT0+YXN5bmMgdT0+e2NvbnN0IGw9bmV3IFVSTCh1KTtpZigwIT09bC5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihvLnRvTG93ZXJDYXNlKCkpKXJldHVybiExO2lmKHdpbmRvdy5jbGVhckludGVydmFsKHMpLHdpbmRvdy5jbGVhclRpbWVvdXQoZSksd2luZG93LmNsZWFyVGltZW91dChuKSx0LnJlbW92ZUFsbExpc3RlbmVycygpLHQuY2xvc2UoITApLGwuc2VhcmNoUGFyYW1zLmdldChcImVycm9yXCIpKXtjb25zdCB0PW5ldyBBcGlFcnJvcihcIkF1dGhvcml6YXRpb24gZXJyb3JcIik7cmV0dXJuIHQuZGF0YT1sLnRvU3RyaW5nKCksYSh0KSwhMH1pZihsLnNlYXJjaFBhcmFtcy5nZXQoXCJzdGF0ZVwiKSE9PXIpe2NvbnN0IHQ9bmV3IEFwaUVycm9yKFwiU3RhdGUgbWlzbWF0Y2hcIik7cmV0dXJuIHQuZGF0YT1sLnRvU3RyaW5nKCksYSh0KSwhMH1jb25zdCBjPWwuc2VhcmNoUGFyYW1zLmdldChcImNvZGVcIik7aWYoIWMpe2NvbnN0IHQ9bmV3IEFwaUVycm9yKFwiQXV0aG9yaXphdGlvbiBjb2RlIG1pc3NpbmdcIik7cmV0dXJuIHQuZGF0YT1sLnRvU3RyaW5nKCksYSh0KSwhMH1yZXR1cm4gaShjKSwhMH0sZD0odCxlLG4scik9PmFzeW5jKG8saSk9PntsZXQgYTtjb25zdCBzPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3dpbmRvdy5jbGVhckludGVydmFsKGEpLHdpbmRvdy5jbGVhclRpbWVvdXQocyksdC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0LmNsb3NlKCEwKSxpKG5ldyBBcGlFcnJvcihcIkF1dGhvcml6YXRpb24gdGltZWQgb3V0XCIpKX0pLDNlNSk7dC5hZGRMaXN0ZW5lcihcImNsb3NpbmdcIiwoYXN5bmMoKT0+e3IubG9nSW5mbyhcIlVzZXIgY2xvc2VkIGF1dGggd2luZG93XCIpLHdpbmRvdy5jbGVhckludGVydmFsKGEpLHdpbmRvdy5jbGVhclRpbWVvdXQocyksdC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxpKG5ldyBBcGlFcnJvcihcIkZhaWxlZCB0byBjb21wbGV0ZSBhdXRob3JpemF0aW9uIGNvZGUgZmxvd1wiKSl9KSk7Y29uc3QgdT13aW5kb3cuc2V0VGltZW91dCgoYXN5bmMoKT0+e3RyeXthd2FpdCB0LmlzU2hvd2luZygpfHwoci5sb2dJbmZvKFwiU2hvd2luZyBhdXRoIHdpbmRvd1wiKSxhd2FpdCB0LnNob3coITApLGF3YWl0IHQuZm9jdXMoKSl9Y2F0Y2godCl7ci5sb2dXYXJuaW5nKFwiVW5hYmxlIHRvIHNob3cgYXV0aCB3aW5kb3dcIil9fSksMmUzKSx7dmVyc2lvbjpsfT1hd2FpdCBmaW4uU3lzdGVtLmdldFJ1bnRpbWVJbmZvKCk7cGFyc2VJbnQobC5zcGxpdChcIi5cIilbMF0sMTApPj0zMD9hd2FpdCBmKHQscyx1LGUsbixvLGkpKChhd2FpdCB0LmdldEluZm8oKSkudXJsKXx8YXdhaXQgdC5hZGRMaXN0ZW5lcihcInVybC1jaGFuZ2VkXCIsKGE9PntyLmxvZ0luZm8oXCJBdXRoIHdpbmRvdyBuYXZpZ2F0ZWQgdG9cIixhLnVybCksZih0LHMsdSxlLG4sbyxpKShhLnVybCl9KSk6YT13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT4oYXN5bmModCxlLG4scixvLGksYSxzKT0+e2xldCB1O3RyeXt1PWF3YWl0IHQuZ2V0SW5mbygpfWNhdGNoKHQpe3JldHVybiB3aW5kb3cuY2xlYXJJbnRlcnZhbChlKSx3aW5kb3cuY2xlYXJUaW1lb3V0KG4pLHdpbmRvdy5jbGVhclRpbWVvdXQocikscyhuZXcgQXBpRXJyb3IoXCJDb3VsZCBub3QgbG9jYXRlIGF1dGggd2luZG93XCIpKSwhMX1yZXR1cm4gZih0LG4scixvLGksYSxzLGUpKHUudXJsKX0pKHQsYSxzLHUsZSxuLG8saSkpLDUwMCl9LGg9KCk9PntsZXQgdCxlLG4scjtjb25zdCBvPWFzeW5jKGUsbj0hMSk9Pntjb25zdHtjb21tYW5kOnIsZGF0YTphLGlkOnN9PWUsdT17Y29tbWFuZDpyLGlkOnN9O3RyeXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJBY2Nlc3MgdG9rZW4gbm90IGZvdW5kXCIpO2NvbnN0e2FwaVJlcXVlc3RVcmw6cixkYXRhOnMsaGVhZGVyczpsLGh0dHBNZXRob2Q6YyxpbmNsdWRlQXV0aG9yaXphdGlvbjpmfT1hLGQ9YXdhaXQoYXN5bmMoZSxuLHIsbyxpKT0+e3ZhciBhLHM7Y29uc3QgdT1PYmplY3QuYXNzaWduKHtBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LG8pO1wiUEFUQ0hcIiE9PW4mJlwiUE9TVFwiIT09biYmXCJQVVRcIiE9PW58fC9jb250ZW50LXR5cGUvaS50ZXN0KE9iamVjdC5rZXlzKHUpLmpvaW4oXCIsXCIpKXx8KHVbXCJDb250ZW50LVR5cGVcIl09XCJhcHBsaWNhdGlvbi9qc29uXCIpLGkmJih1LkF1dGhvcml6YXRpb249YEJlYXJlciAke3R9YCk7Y29uc3QgbD1hd2FpdCBmZXRjaChlLHtib2R5Olwib2JqZWN0XCI9PXR5cGVvZiByP0pTT04uc3RyaW5naWZ5KHIpOnIsaGVhZGVyczp1LG1ldGhvZDpufSk7aWYoIWwub2spe2NvbnN0IHQ9e21lc3NhZ2U6XCJGYWlsZWQgdG8gZXhlY3V0ZSBBUEkgcmVxdWVzdFwifTtyZXR1cm4obnVsbD09PShhPWwuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkmJih0LmRhdGE9YXdhaXQgbC5qc29uKCkpLFtsLnN0YXR1cyx2b2lkIDAsdm9pZCAwLHRdfWxldCBjO2NvbnN0IGY9bnVsbCE9PShzPWwuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikpJiZ2b2lkIDAhPT1zP3M6XCJcIjtzd2l0Y2goITApe2Nhc2UhZjpicmVhaztjYXNlL15hcHBsaWNhdGlvblxcLyhcXHcrXFwrKT9qc29uL2kudGVzdChmKTpjPWF3YWl0IGwuanNvbigpO2JyZWFrO2Nhc2UvXm11bHRpcGFydFxcL2Zvcm0tP2RhdGF8XmFwcGxpY2F0aW9uXFwveC0/d3d3LT9mb3JtLT91cmxlbmNvZGVkL2kudGVzdChmKTpjPWF3YWl0IGwuZm9ybURhdGEoKTticmVhaztjYXNlL15hcHBsaWNhdGlvblxcLygoW14vXSspP3htbHx2bmRcXC5vcGVueG1sZm9ybWF0cyl8XnRleHRcXC98XmltYWdlXFwvc3ZnL2kudGVzdChmKTpjPWF3YWl0IGwudGV4dCgpO2JyZWFrO2RlZmF1bHQ6Yz1hd2FpdCBsLmFycmF5QnVmZmVyKCl9cmV0dXJuW2wuc3RhdHVzLGMsZix2b2lkIDBdfSkocixjLHMsbCxmKSxbaCxwLGcseV09ZDtpZih1LnN0YXR1cz1oLHkpe2lmKCFuJiY0MDE9PT1oKXtjb25zdFt0LG5dPWF3YWl0IGkoKTtyZXR1cm4gbj8odS5zdGF0dXM9dCx1LmVycm9yPW4sdSk6YXdhaXQgbyhlLCEwKX11LmVycm9yPXl9ZWxzZSBwJiYodS5kYXRhPXAsdS50eXBlPWcpfWNhdGNoKHQpe3QgaW5zdGFuY2VvZiBFcnJvcj91LmVycm9yPXttZXNzYWdlOnQubWVzc2FnZX06dS5lcnJvcj17bWVzc2FnZTpcIkZhaWxlZCB0byBleGVjdXRlIEFQSSByZXF1ZXN0XCJ9fXJldHVybiBQcm9taXNlLnJlc29sdmUodSl9LGk9YXN5bmMoKT0+e3ZhciBvO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkF1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhIG5vdCBzZXRcIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IElEIG5vdCBzZXRcIik7Y29uc3QgaT1gZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuJmNsaWVudF9pZD0ke2V9JnJlZnJlc2hfdG9rZW49JHtyfWAsYT1hd2FpdCBmZXRjaChuLnRva2VuX2VuZHBvaW50LHtib2R5OmksaGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0sbWV0aG9kOlwiUE9TVFwifSk7aWYoIWEub2spe2NvbnN0IHQ9e21lc3NhZ2U6XCJGYWlsZWQgdG8gcmVmcmVzaCBhY2Nlc3MgdG9rZW5cIn07cmV0dXJuKG51bGw9PT0obz1hLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKXx8dm9pZCAwPT09bz92b2lkIDA6by5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpJiYodC5kYXRhPWF3YWl0IGEuanNvbigpKSxbYS5zdGF0dXMsdF19Y29uc3Qgcz1hd2FpdCBhLmpzb24oKTtyZXR1cm4gdD1zLmFjY2Vzc190b2tlbixbYS5zdGF0dXNdfTtzZWxmLm9ubWVzc2FnZT1hc3luYyBpPT57Y29uc3R7Y29tbWFuZDphLGlkOnN9PWkuZGF0YTtsZXQgdT17Y29tbWFuZDphLGlkOnN9O3N3aXRjaChhKXtjYXNlXCJBUElfUkVRVUVTVFwiOnU9YXdhaXQgbyhpLmRhdGEpO2JyZWFrO2Nhc2VcIkNPREVfRVhDSEFOR0VcIjp1PWF3YWl0KGFzeW5jIG89Pnt2YXIgaTtjb25zdHtjb21tYW5kOmEsZGF0YTpzLGlkOnV9PW8sbD17Y29tbWFuZDphLGlkOnV9O3RyeXtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJBdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YSBub3Qgc2V0XCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBJRCBub3Qgc2V0XCIpO2NvbnN0e2NvZGU6byxjb2RlVmVyaWZpZXI6YSxyZWRpcmVjdFVyaTp1fT1zLGM9YGdyYW50X3R5cGU9YXV0aG9yaXphdGlvbl9jb2RlJmNsaWVudF9pZD0ke2V9JmNvZGU9JHtvfSZjb2RlX3ZlcmlmaWVyPSR7YX0mcmVkaXJlY3RfdXJpPSR7dX1gLGY9YXdhaXQgZmV0Y2gobi50b2tlbl9lbmRwb2ludCx7Ym9keTpjLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LG1ldGhvZDpcIlBPU1RcIn0pO2lmKGYub2spe2NvbnN0IGU9YXdhaXQgZi5qc29uKCk7dD1lLmFjY2Vzc190b2tlbixyPWUucmVmcmVzaF90b2tlbn1lbHNle2NvbnN0IHQ9e21lc3NhZ2U6XCJGYWlsZWQgdG8gcmV0cmlldmUgdG9rZW5zXCJ9OyhudWxsPT09KGk9Zi5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSYmKHQuZGF0YT1hd2FpdCBmLmpzb24oKSksbC5lcnJvcj10fX1jYXRjaCh0KXt0IGluc3RhbmNlb2YgRXJyb3I/bC5lcnJvcj17bWVzc2FnZTp0Lm1lc3NhZ2V9OmwuZXJyb3I9e21lc3NhZ2U6XCJGYWlsZWQgdG8gcmV0cmlldmUgdG9rZW5zXCJ9fXJldHVybiBQcm9taXNlLnJlc29sdmUobCl9KShpLmRhdGEpO2JyZWFrO2Nhc2VcIkVYUElSRV9UT0tFTlNcIjp1PWF3YWl0KGFzeW5jIGU9Pnt2YXIgbztjb25zdHtjb21tYW5kOmksZXhwaXJlQWNjZXNzVG9rZW5Pbmx5OmEsaWQ6c309ZSx1PXtjb21tYW5kOmksaWQ6c307dHJ5e2lmKCFhJiYhcil0aHJvdyBuZXcgRXJyb3IoXCJSZWZyZXNoIHRva2VuIG5vdCBmb3VuZFwiKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJBdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YSBub3Qgc2V0XCIpO2lmKCFuLnJldm9jYXRpb25fZW5kcG9pbnQpdGhyb3cgbmV3IEVycm9yKFwiUmV2b2NhdGlvbiBlbmRwb2ludCBtaXNzaW5nIGluIGF1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhXCIpO2NvbnN0IGU9YT90OnIsaT1hd2FpdCBmZXRjaChgJHtuLnJldm9jYXRpb25fZW5kcG9pbnR9P3Rva2VuPSR7ZX1gLHtoZWFkZXJzOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCJ9fSk7aWYoIWkub2spe2NvbnN0IHQ9e21lc3NhZ2U6XCJGYWlsZWQgdG8gcmV2b2tlIHRva2Vuc1wifTsobnVsbD09PShvPWkuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkmJih0LmRhdGE9YXdhaXQgaS5qc29uKCkpLHUuZXJyb3I9dH19Y2F0Y2godCl7dCBpbnN0YW5jZW9mIEVycm9yP3UuZXJyb3I9e21lc3NhZ2U6dC5tZXNzYWdlfTp1LmVycm9yPXttZXNzYWdlOlwiRmFpbGVkIHRvIHJldm9rZSB0b2tlbnNcIn19cmV0dXJuIFByb21pc2UucmVzb2x2ZSh1KX0pKGkuZGF0YSk7YnJlYWs7Y2FzZVwiSU5JVFwiOnU9YXdhaXQoYXN5bmMgdD0+e2NvbnN0e2NvbW1hbmQ6cixkYXRhOm8saWQ6aX09dCxhPXtjb21tYW5kOnIsaWQ6aX07cmV0dXJuIGU9by5jbGllbnRJZCxuPW8ubWV0YWRhdGEsUHJvbWlzZS5yZXNvbHZlKGEpfSkoaS5kYXRhKTticmVhaztkZWZhdWx0OnUuZXJyb3I9bmV3IEVycm9yKGBVbmV4cGVjdGVkIG9hdXRoIHdvcmtlciBjb21tYW5kOiAke2F9YCl9c2VsZi5wb3N0TWVzc2FnZSh1KX19O3ZhciBwOyFmdW5jdGlvbih0KXt0LkFwaVJlcXVlc3Q9XCJBUElfUkVRVUVTVFwiLHQuQ29kZUV4Y2hhbmdlPVwiQ09ERV9FWENIQU5HRVwiLHQuRXhwaXJlVG9rZW5zPVwiRVhQSVJFX1RPS0VOU1wiLHQuSW5pdD1cIklOSVRcIn0ocHx8KHA9e30pKTtjb25zdCBnPVtdLHk9dD0+e2cucHVzaCh0KX0sbT0odCxlKT0+KG4scixvKT0+bmV3IFByb21pc2UoKChpLGEpPT57Y29uc3Qgcz17Y29tbWFuZDpwLkNvZGVFeGNoYW5nZSxkYXRhOntjb2RlOm4sY29kZVZlcmlmaWVyOnIscmVkaXJlY3RVcmk6b30saWQ6RGF0ZS5ub3coKS50b1N0cmluZygpfSx7Y29tbWFuZDp1LGlkOmx9PXM7eSh7Y29tbWFuZDp1LGlkOmwscmVqZWN0OmEscmVzb2x2ZTppfSksdC5wb3N0TWVzc2FnZShzKSxlLmxvZ0luZm8oXCJXb3JrZXIgcmVxdWVzdCBzZW50XCIscyl9KSksdj0odCxlLG4pPT4ocixvLGksYSxzKT0+bmV3IFByb21pc2UoKCh1LGwpPT57Y29uc3QgYz17Y29tbWFuZDpwLkFwaVJlcXVlc3QsZGF0YTp7YXBpUmVxdWVzdFVybDpyLGNsaWVudElkOnQsZGF0YTppLGhlYWRlcnM6YSxodHRwTWV0aG9kOm8saW5jbHVkZUF1dGhvcml6YXRpb246c30saWQ6RGF0ZS5ub3coKS50b1N0cmluZygpfSx7Y29tbWFuZDpmLGlkOmR9PWM7eSh7Y29tbWFuZDpmLGlkOmQscmVqZWN0OmwscmVzb2x2ZTp1fSksZS5wb3N0TWVzc2FnZShjKSxuLmxvZ0luZm8oXCJXb3JrZXIgcmVxdWVzdCBzZW50XCIsYyl9KSksYj0odCxlKT0+bj0+bmV3IFByb21pc2UoKChyLG8pPT57Y29uc3QgaT17Y29tbWFuZDpwLkV4cGlyZVRva2VucyxleHBpcmVBY2Nlc3NUb2tlbk9ubHk6bixpZDpEYXRlLm5vdygpLnRvU3RyaW5nKCl9LHtjb21tYW5kOmEsaWQ6c309aTt5KHtjb21tYW5kOmEsaWQ6cyxyZWplY3Q6byxyZXNvbHZlOnJ9KSx0LnBvc3RNZXNzYWdlKGkpLGUubG9nSW5mbyhcIldvcmtlciByZXF1ZXN0IHNlbnRcIixpKX0pKSx3PXQ9PmU9Pnt0LmxvZ0luZm8oXCJXb3JrZXIgcmVzcG9uc2UgcmVjZWl2ZWRcIixlLmRhdGEpO2NvbnN0IG49ZS5kYXRhLHtjb21tYW5kOnIsZXJyb3I6byxpZDppfT1uLGE9ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmZS5pbmRleE9mKHIpPDAmJihuW3JdPXRbcl0pO2lmKG51bGwhPXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtvPHIubGVuZ3RoO28rKyllLmluZGV4T2YocltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQscltvXSkmJihuW3Jbb11dPXRbcltvXV0pfXJldHVybiBufShuLFtcImNvbW1hbmRcIixcImVycm9yXCIsXCJpZFwiXSkscz0oKHQsZSk9PmcuZmluZCgobj0+bi5jb21tYW5kPT09ZSYmbi5pZD09PXQpKSkoaSxyKTtzPyhvPyhcInN0YXR1c1wiaW4gYSYmdm9pZCAwIT09YS5zdGF0dXMmJihvLnN0YXR1cz1hLnN0YXR1cykscy5yZWplY3QobykpOnMucmVzb2x2ZShhKSxfKGkscikpOnQubG9nRXJyb3IobmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSBhd2FpdGVkIHJlcXVlc3RcIikpfSxfPSh0LGUpPT57Y29uc3Qgbj1nLmZpbmRJbmRleCgobj0+bi5jb21tYW5kPT09ZSYmbi5pZD09PXQpKTtuPj0wJiZnLnNwbGljZShuLDEpfSxFPSh0LGUpPT5hc3luYygpPT57dHJ5e2F3YWl0IGIodCxlKSghMSl9Y2F0Y2godCl7ZS5sb2dXYXJuaW5nKHQubWVzc2FnZSl9dC50ZXJtaW5hdGUoKSxlLmxvZ0luZm8oXCJXb3JrZXIgdGVybWluYXRlZFwiKX07Y2xhc3MgU3tnZXQgYXBpT3JpZ2luKCl7cmV0dXJuIHRoaXMuX2FwaU9yaWdpbn1nZXQgY2xpZW50SWQoKXtyZXR1cm4gdGhpcy5fY2xpZW50SWR9Z2V0IGxvZ2dlcigpe3JldHVybiB0aGlzLl9sb2dnZXJ9Z2V0IG1ldGFkYXRhKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhfWdldCB3b3JrZXIoKXtyZXR1cm4gdGhpcy5fd29ya2VyfWNvbnN0cnVjdG9yKHQsZSxuLHIsbyl7aWYodGhpcy5leGVjdXRlQXBpUmVxdWVzdD1hc3luYyh0LGU9XCJHRVRcIixuLHIsbz0hMCxpPSExKT0+e3RoaXMuX2xvZ2dlci5sb2dJbmZvKFwiRXhlY3V0ZUFwaVJlcXVlc3Qgc3RhcnRlZFwiLHQsZSxuLHIpO3RyeXtjb25zdCBpPWF3YWl0KCh0LGUpPT5hc3luYyhuLHIsbyxpLGEpPT57dHJ5e3JldHVybiBhd2FpdCBlLmV4ZWN1dGVBcGlSZXF1ZXN0KGAke3R9JHtufWAscixvLGksYSl9Y2F0Y2godCl7bGV0IGU7Y29uc3R7ZGF0YTpuLG1lc3NhZ2U6cixzdGF0dXM6b309dDt0aHJvdyBlPXQgaW5zdGFuY2VvZiBFcnJvcj9uZXcgQXBpUmVxdWVzdEVycm9yKHIsbyk6XCJGYWlsZWQgdG8gcmVmcmVzaCBhY2Nlc3MgdG9rZW5cIj09PXI/bmV3IEF1dGhUb2tlbkV4cGlyZWRFcnJvcihyKTpuZXcgQXBpUmVxdWVzdEVycm9yKHIsbyksZS5kYXRhPW4sZX19KSh0aGlzLl9hcGlPcmlnaW4sdGhpcy5fd29ya2VyKSh0LGUsbixyLG8pO3JldHVybiB0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkV4ZWN1dGVBcGlSZXF1ZXN0IGNvbXBsZXRlZFwiLGkpLGl9Y2F0Y2godCl7aWYodCBpbnN0YW5jZW9mIEFwaVJlcXVlc3RFcnJvcil7Y29uc3R7ZGF0YTplLG1lc3NhZ2U6bixuYW1lOnIsc3RhY2s6b309dCxpPXRoaXMuZ2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlKGUpO2kmJih0Lm1lc3NhZ2U9aSx0LnN0YWNrPW51bGw9PW8/dm9pZCAwOm8ucmVwbGFjZShgJHtyfTogJHtufWAsYCR7cn06ICR7aX1gKSl9dGhyb3cgaSYmdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH19LCEodCYmZSYmbiYmciYmbykpdGhyb3cgbmV3IEluaXRpYWxpemF0aW9uRXJyb3IoXCJQcm92aWRlciBoYXMgbm90IGJlZW4gcHJvcGVybHkgaW5pdGlhbGl6ZWQgKGNhbGwgaW5pdCB0byBjcmVhdGUgbmV3IGluc3RhbmNlcylcIik7dGhpcy5fYXBpT3JpZ2luPXQsdGhpcy5fY2xpZW50SWQ9ZSx0aGlzLl9tZXRhZGF0YT1uLHRoaXMuX3dvcmtlcj1yLHRoaXMuX2xvZ2dlcj1vLHRoaXMuYXV0aG9yaXplPXRoaXMuYXV0aG9yaXplLmJpbmQodGhpcyksdGhpcy5jbG9zZT10aGlzLmNsb3NlLmJpbmQodGhpcyksdGhpcy5leGVjdXRlQXBpUmVxdWVzdD10aGlzLmV4ZWN1dGVBcGlSZXF1ZXN0LmJpbmQodGhpcyksdGhpcy5leHBpcmVUb2tlbnM9dGhpcy5leHBpcmVUb2tlbnMuYmluZCh0aGlzKSx0aGlzLmdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZT10aGlzLmdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZS5iaW5kKHRoaXMpfWFzeW5jIGF1dGhvcml6ZSh0LGUsbil7aWYodGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJBdXRob3JpemUgc3RhcnRlZFwiLHQsZSxuKSwhdGhpcy5fbWV0YWRhdGF8fCF0aGlzLl9jbGllbnRJZHx8IXRoaXMuX3dvcmtlcil0aHJvdyBuZXcgSW5pdGlhbGl6YXRpb25FcnJvcihcIlByb3ZpZGVyIGhhcyBub3QgYmVlbiBwcm9wZXJseSBpbml0aWFsaXplZCAoY2FsbCBpbml0IHRvIGNyZWF0ZSBuZXcgaW5zdGFuY2VzKVwiKTt0cnl7YXdhaXQocj10aGlzLl9tZXRhZGF0YSxvPXRoaXMuX2NsaWVudElkLGk9dGhpcy5fd29ya2VyLGE9dGhpcy5fbG9nZ2VyLGFzeW5jKHQsZSxuKT0+e2NvbnN0e2F1dGhvcml6YXRpb25fZW5kcG9pbnQ6c309cix1PWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLGw9KGF3YWl0IHUuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbmQoKHQ9PnQuaWRlbnRpdHkubmFtZT09PWMpKTtsJiZhd2FpdCBsLmNsb3NlKCEwKTtjb25zdCBmPShuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksaD0oKCk9Pntjb25zdCB0PW5ldyBVaW50MzJBcnJheSg2NCk7cmV0dXJuIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLEFycmF5LmZyb20odCwodD0+YDAke3QudG9TdHJpbmcoMTYpfWAuc2xpY2UoLTIpKSkuam9pbihcIlwiKX0pKCkscD0oYXdhaXQoYXN5bmMgdD0+e2NvbnN0IGU9KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpLG49YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLGUpLHI9YXdhaXQodD0+bmV3IFByb21pc2UoKChlLG4pPT57dHJ5e2NvbnN0IHI9bmV3IEJsb2IoW3RdKSxvPW5ldyBGaWxlUmVhZGVyO28ub25sb2FkPXQ9Pnt2YXIgcixvO2NvbnN0IGk9bnVsbD09PShyPXQudGFyZ2V0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5yZXN1bHQ7aWYoaSl7Y29uc3RbLHRdPUFycmF5LmZyb20obnVsbCE9PShvPWkubWF0Y2goL2Jhc2U2NCwoLiopJC9pKSkmJnZvaWQgMCE9PW8/bzpbXSk7ZShudWxsIT10P3Q6XCJcIil9bihuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGVtcHR5IHJlc3VsdFwiKSl9LG8ucmVhZEFzRGF0YVVSTChyKX1jYXRjaCh0KXtuKHQpfX0pKSkobik7cmV0dXJuIHIucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKX0pKGgpKS5yZXBsYWNlKC89KyQvLFwiXCIpO2xldCBnPVwiXCI7ZSYmKGc9XCImXCIsZys9T2JqZWN0LmVudHJpZXMoZSkubWFwKCh0PT5gJHtlbmNvZGVVUklDb21wb25lbnQodFswXSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRbMV0pfWApKS5qb2luKFwiJlwiKSk7Y29uc3QgeT1gJHtzfT9jbGllbnRfaWQ9JHtlbmNvZGVVUklDb21wb25lbnQobyl9JnJlZGlyZWN0X3VyaT0ke2VuY29kZVVSSUNvbXBvbmVudCh0KX0mcmVzcG9uc2VfdHlwZT1jb2RlJnN0YXRlPSR7Zn0mY29kZV9jaGFsbGVuZ2U9JHtwfSZjb2RlX2NoYWxsZW5nZV9tZXRob2Q9UzI1NiR7Z31gLG09bnVsbCE9bj9uOnt9LHtkZWZhdWx0SGVpZ2h0OnYsZGVmYXVsdFdpZHRoOmJ9PW0sdz1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZlLmluZGV4T2Yocik8MCYmKG5bcl09dFtyXSk7aWYobnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO288ci5sZW5ndGg7bysrKWUuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxyW29dKSYmKG5bcltvXV09dFtyW29dXSl9cmV0dXJuIG59KG0sW1wiZGVmYXVsdEhlaWdodFwiLFwiZGVmYXVsdFdpZHRoXCJdKTthLmxvZ0luZm8oXCJTdGFydGluZyBPQXV0aCBmbG93XCIseSk7Y29uc3QgXz1hd2FpdCBmaW4uV2luZG93LmNyZWF0ZShPYmplY3QuYXNzaWduKHthbHdheXNPblRvcDohMCxtYXhpbWl6YWJsZTohMSxtaW5pbWl6YWJsZTohMSxhdXRvU2hvdzohMSxkZWZhdWx0Q2VudGVyZWQ6ITAsZGVmYXVsdEhlaWdodDpudWxsIT12P3Y6NzAwLGRlZmF1bHRXaWR0aDpudWxsIT1iP2I6NjAwLGluY2x1ZGVJblNuYXBzaG90czohMSxuYW1lOmMscmVzaXphYmxlOiExLHNhdmVXaW5kb3dTdGF0ZTohMSxzaG93VGFza2Jhckljb246ITEsdXJsOnl9LHcpKSxFPWF3YWl0IG5ldyBQcm9taXNlKGQoXyxmLHQsYSkpO2EubG9nSW5mbyhcIlJlY2VpdmVkIGF1dGhvcml6YXRpb24gY29kZVwiKSxhd2FpdCBpLmV4Y2hhbmdlQ29kZUZvclRva2VucyhFLGgsdCksYS5sb2dJbmZvKFwiUmVjZWl2ZWQgdG9rZW5zXCIpfSkodCxlLG4pLHRoaXMuX2xvZ2dlci5sb2dJbmZvKFwiQXV0aG9yaXplIGNvbXBsZXRlZFwiKX1jYXRjaCh0KXtsZXQgZTtpZih0IGluc3RhbmNlb2YgQXBpRXJyb3Ipe2NvbnN0e2RhdGE6bn09dCxyPXRoaXMuZ2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlKG4pO2U9bmV3IEF1dGhvcml6YXRpb25FcnJvcihyLHQpLGUuZGF0YT1ufWVsc2UgZT1uZXcgQXV0aG9yaXphdGlvbkVycm9yKHZvaWQgMCx0KTt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcihlKSxlfXZhciByLG8saSxhfWFzeW5jIGNsb3NlKCl7dmFyIHQ7dGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJDbG9zZSBzdGFydGVkXCIpO3RyeXthd2FpdChudWxsPT09KHQ9dGhpcy5fd29ya2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC50ZXJtaW5hdGUoKSksdGhpcy5fd29ya2VyPXZvaWQgMCx0aGlzLl9hcGlPcmlnaW49dm9pZCAwLHRoaXMuX2NsaWVudElkPXZvaWQgMCx0aGlzLl9tZXRhZGF0YT12b2lkIDAsdGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJDbG9zZSBjb21wbGV0ZWRcIil9Y2F0Y2godCl7Y29uc3QgZT1uZXcgQXBpRXJyb3Iodm9pZCAwLHQpO3Rocm93IHRoaXMuX2xvZ2dlci5sb2dFcnJvcihlKSxlfX1hc3luYyBleHBpcmVUb2tlbnModD0hMSl7dmFyIGU7dGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJFeHBpcmVUb2tlbnMgc3RhcnRlZFwiKTt0cnl7YXdhaXQobnVsbD09PShlPXRoaXMuX3dvcmtlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZXhwaXJlVG9rZW5zKHQpKSx0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkV4cGlyZVRva2VucyBjb21wbGV0ZWRcIil9Y2F0Y2godCl7Y29uc3QgZT1uZXcgQXBpRXJyb3Iodm9pZCAwLHQpO3Rocm93IHRoaXMuX2xvZ2dlci5sb2dFcnJvcihlKSxlfX1nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2UodCl7dCYmdGhpcy5fbG9nZ2VyLmxvZ1dhcm5pbmcodCl9c3RhdGljIGFzeW5jIGluaXQodCxlLG4sciwuLi5vKXtjb25zdCBpPW5ldyBsKHIpO2xldCBhO2kubG9nSW5mbyhcIkluaXQgc3RhcnRlZFwiLHQsZSxuKTt0cnl7YT1uZXcgVVJMKGUpfWNhdGNoKHQpe2NvbnN0IGU9bmV3IFBhcmFtZXRlckVycm9yKFwiVW5leHBlY3RlZCBpbnZhbGlkIEFQSSBvcmlnaW5cIik7dGhyb3cgaS5sb2dFcnJvcihlKSxlfXRyeXtjb25zdCBlPWF3YWl0KGFzeW5jIHQ9PntsZXQgZTt0cnl7ZT1uZXcgVVJMKHQpfWNhdGNoKHQpe3Rocm93IG5ldyBQYXJhbWV0ZXJFcnJvcihcIlVuZXhwZWN0ZWQgaW52YWxpZCBtZXRhZGF0YSBVUkxcIil9Y29uc3Qgbj1hd2FpdCBmZXRjaChlLHtoZWFkZXJzOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCJ9fSk7aWYoIW4ub2spdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHJldHJpZXZlIGF1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhXCIpO2NvbnN0IHI9YXdhaXQgbi5qc29uKCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YSByZXNwb25zZVwiKTtpZighci5yZXNwb25zZV90eXBlc19zdXBwb3J0ZWQuZmluZCgodD0+XCJjb2RlXCI9PT10LnRvTG93ZXJDYXNlKCkpKSl0aHJvdyBuZXcgRXJyb3IoXCJBdXRob3JpemF0aW9uIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBhdXRob3JpemF0aW9uIGNvZGUgcmVzcG9uc2UgdHlwZVwiKTtyZXR1cm4gcn0pKHQpLHI9YXdhaXQoYXN5bmModCxlLG4pPT57Y29uc3Qgcj1uZXcgQmxvYihbYCgke2h9KSgpYF0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pLG89VVJMLmNyZWF0ZU9iamVjdFVSTChyKSxpPW5ldyBXb3JrZXIobyk7cmV0dXJuIGkub25tZXNzYWdlPXcobiksYXdhaXQoKHQsZSxuLHIpPT5uZXcgUHJvbWlzZSgoKG8saSk9Pntjb25zdCBhPXtjb21tYW5kOnAuSW5pdCxkYXRhOntjbGllbnRJZDplLG1ldGFkYXRhOnR9LGlkOkRhdGUubm93KCkudG9TdHJpbmcoKX0se2NvbW1hbmQ6cyxpZDp1fT1hO3koe2NvbW1hbmQ6cyxpZDp1LHJlamVjdDppLHJlc29sdmU6b30pLG4ucG9zdE1lc3NhZ2UoYSksci5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLGEpfSkpKSh0LGUsaSxuKSx7ZXhjaGFuZ2VDb2RlRm9yVG9rZW5zOm0oaSxuKSxleGVjdXRlQXBpUmVxdWVzdDp2KGUsaSxuKSxleHBpcmVUb2tlbnM6YihpLG4pLHRlcm1pbmF0ZTpFKGksbil9fSkoZSxuLGkpO3JldHVybiBpLmxvZ0luZm8oXCJJbml0IGNvbXBsZXRlZFwiLGUpLG5ldyBTKGEub3JpZ2luLG4sZSxyLGkpfWNhdGNoKHQpe2xldCBlO3Rocm93IGU9dCBpbnN0YW5jZW9mIEFwaUVycm9yP3Q6bmV3IEluaXRpYWxpemF0aW9uRXJyb3Iodm9pZCAwLHQpLGkubG9nRXJyb3IoZSksZX19fXZhciBBPW8uTVMsST1vLmNGLFQ9by5BSyxSPW8uTV8seD1vLmNYLEM9by5PNCxCPW8uX1csaz1vLlUkLEw9by5VNyxPPW4oOTUxKTtjb25zdCBVPVwiMS4wLjFcIixqPVwiTWljcm9zb2Z0MzY1XCIsTj0oKT0+e2soail9LE09KCk9PntMKGosVSl9O1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihcInVuZGVmaW5lZFwiPT10eXBlb2YgZmluJiZPYmplY3QuYXNzaWduKHdpbmRvdyx7ZmluOnt9fSksT2JqZWN0LmFzc2lnbihmaW4se0ludGVncmF0aW9uczp7TWljcm9zb2Z0MzY1OntlbmFibGVMb2dnaW5nOk0sZGlzYWJsZUxvZ2dpbmc6Tn19fSkpO2NvbnN0IFA9dD0+YXN5bmMoZSxuLHIsbyxpKT0+e3ZhciBhO3JldHVybiBlPShhPWUpLnN0YXJ0c1dpdGgoXCIvXCIpP2E6YC8ke2F9YCx0LmV4ZWN1dGVBcGlSZXF1ZXN0KGUsbixyLG8saSwhMCl9LFc9YXN5bmModCxlLG49W10pPT57Y29uc3Qgcj1bXCJpZFwiLFwidXNlclByaW5jaXBhbE5hbWVcIixcInVzZXJUeXBlXCIsLi4ubl0uam9pbihcIixcIiksbz1hd2FpdChhc3luYyh0LGU9W10pPT57aWYoIShudWxsPT1lP3ZvaWQgMDplLmxlbmd0aCkpcmV0dXJuW107Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrPTIwKXtjb25zdCBvPXtyZXF1ZXN0czplLnNsaWNlKHIscisyMCkubWFwKCh0PT4odC5pZD1jcnlwdG8ucmFuZG9tVVVJRCgpLHQpKSl9O24ucHVzaCh0LmV4ZWN1dGVBcGlSZXF1ZXN0KFwiL3YxLjAvJGJhdGNoXCIsXCJQT1NUXCIsbykpfWNvbnN0IHI9KGF3YWl0IFByb21pc2UuYWxsKG4pKS5mbGF0TWFwKCh0PT50LmRhdGEucmVzcG9uc2VzKSk7cmV0dXJuIGUubWFwKCh0PT57dmFyIGU7cmV0dXJuIG51bGw9PT0oZT1yLmZpbmQoKGU9PmUuaWQ9PT10LmlkKSkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmJvZHl9KSl9KSh0LGUubWFwKCh0PT4oe21ldGhvZDpcIkdFVFwiLHVybDpgL3VzZXJzPyRmaWx0ZXI9bWFpbCBlcSAnJHtlbmNvZGVVUklDb21wb25lbnQodCl9JyYkc2VsZWN0PSR7cn1gfSkpKSksaT1vLm1hcCgodD0+e3ZhciBlO3JldHVybiBudWxsPT09KGU9dC52YWx1ZSl8fHZvaWQgMD09PWU/dm9pZCAwOmVbMF19KSk7cmV0dXJuIHQubG9nZ2VyLmxvZ0luZm8oXCJSZXNvbHZlZCB1c2VycyBmcm9tIGVtYWlsIGFkZHJlc3Nlc1wiLGksZSksaX07dmFyICQ9bigzMDApO2NvbnN0IEQ9dD0+dC5tYXAoKHQ9PnQ/e2lkOnQudXNlclByaW5jaXBhbE5hbWUsZW1haWxBZGRyZXNzOnQubWFpbCxuYW1lOnQuZGlzcGxheU5hbWV9OnZvaWQgMCkpLEY9YXN5bmModCxlKT0+e3RyeXthd2FpdCBmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6XCJpbnRlZ3JhdGlvbi1mZWF0dXJlXCIsZGF0YTp7YXBpVmVyc2lvbjpVLGNvbXBvbmVudE5hbWU6dH19KX1jYXRjaChuKXtlLmxvZ1dhcm5pbmcoYFVuYWJsZSB0byByZWdpc3RlciB1c2FnZSBmb3IgZmVhdHVyZSAke3R9OiAke251bGw9PW4/dm9pZCAwOm4ubWVzc2FnZX1gKX19LHo9dD0+e2xldCBlPXQ7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5maWx0ZXIoQm9vbGVhbikubWFwKHopOihcIm9iamVjdFwiPT10eXBlb2YgdCYmKGU9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHQpLmZpbHRlcigoKFssdF0pPT52b2lkIDAhPT0obnVsbCE9dD90OnZvaWQgMCkpKS5tYXAoKChbdCxlXSk9Plt0LHooZSldKSkpKSxlKX0scT10PT4vI0VYVCNALy50ZXN0KHQudXNlclByaW5jaXBhbE5hbWUpO3ZhciBIOyFmdW5jdGlvbih0KXt0Lk1TMzY1PVwiTVMtMzY1XCIsdC5UZWFtcz1cIk1TLVRFQU1TXCJ9KEh8fChIPXt9KSk7Y2xhc3MgViBleHRlbmRzIEN7Z2V0IGN1cnJlbnRVc2VyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRVc2VyfWdldCByZWRpcmVjdFVyaSgpe3JldHVybiB0aGlzLl9yZWRpcmVjdFVyaX1nZXQgcGVybWlzc2lvbnMoKXtyZXR1cm4gdGhpcy5fcGVybWlzc2lvbnN9Z2V0IHRlbmFudElkKCl7cmV0dXJuIHRoaXMuX3RlbmFudElkfWNvbnN0cnVjdG9yKHQsZSxuLHIsbyxpLGEscyl7c3VwZXIodCxlLGksYSxzKSx0aGlzLl9wZXJtaXNzaW9ucz1vLHRoaXMuX3JlZGlyZWN0VXJpPXIsdGhpcy5fdGVuYW50SWQ9bixGKEguTVMzNjUscyl9YXN5bmMgYXV0aG9yaXplKHQsZSxuKXthd2FpdCBzdXBlci5hdXRob3JpemUodCxlLG4pO2NvbnN0IHI9YXdhaXQoYXN5bmMgdD0+e2NvbnN0e2RhdGE6ZX09YXdhaXQgdC5leGVjdXRlQXBpUmVxdWVzdChcIi92MS4wL21lXCIpO3JldHVybiBlfSkodGhpcyk7dGhpcy5fY3VycmVudFVzZXI9cn1nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2UodCl7dmFyIGUsbixyO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXRyeXtyZXR1cm4gbnVsbD09PShuPW51bGw9PT0oZT1uZXcgVVJMKHQpLnNlYXJjaFBhcmFtcy5nZXQoXCJlcnJvcl9kZXNjcmlwdGlvblwiKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuc3BsaXQoL1xcclxcbi8pKXx8dm9pZCAwPT09bj92b2lkIDA6blswXX1jYXRjaCh0KXtyZXR1cm59cmV0dXJuIG51bGw9PT0ocj1udWxsPT10P3ZvaWQgMDp0LmVycm9yKXx8dm9pZCAwPT09cj92b2lkIDA6ci5tZXNzYWdlfXN0YXRpYyBhc3luYyBpbml0KHQsZSxuLHIsbyxpLGEpe2NvbnN0IHM9YXdhaXQgc3VwZXIuaW5pdCh0LGUsbixyKTtyZXR1cm4gbmV3IFYoZSxuLG8saSxhLG51bGw9PXM/dm9pZCAwOnMubWV0YWRhdGEsbnVsbD09cz92b2lkIDA6cy53b3JrZXIsbnVsbD09cz92b2lkIDA6cy5sb2dnZXIpfX1jb25zdCBHPVtcIlVzZXIuUmVhZEJhc2ljLkFsbFwiLFwiVGVhbS5SZWFkQmFzaWMuQWxsXCIsXCJDaGFubmVsLlJlYWRCYXNpYy5BbGxcIixcIkNoYW5uZWxNZXNzYWdlLlNlbmRcIixcIkNoYXQuQ3JlYXRlXCIsXCJDaGF0TWVzc2FnZS5TZW5kXCIsXCJvZmZsaW5lX2FjY2Vzc1wiXTtsZXQgSjtjb25zdCBZPWFzeW5jKHQsZSxuLHI9W10sbyxpKT0+e2F3YWl0IEsodCxlLG4scik7Y29uc3QgYT1PYmplY3QuYXNzaWduKHtzY29wZTpbLi4uRywuLi5yXS5qb2luKFwiIFwiKX0sbykscz1PYmplY3QuYXNzaWduKHtkZWZhdWx0SGVpZ2h0OjYwMCxkZWZhdWx0V2lkdGg6NTUwfSxpKTtyZXR1cm4gYXdhaXQgSi5hdXRob3JpemUobixhLHMpLHtjbGllbnRJZDp0LGN1cnJlbnRVc2VyOkouY3VycmVudFVzZXIsZGlzY29ubmVjdDpKLmNsb3NlLGV4ZWN1dGVBcGlSZXF1ZXN0OlAoSikscHJvdmlkZXI6Six0ZW5hbnRJZDplfX0sSz1hc3luYyh0LGUsbixyKT0+e2lmKCF0KXRocm93IG5ldyBCKFwiSW52YWxpZCBjbGllbnQgSURcIik7aWYoIWUpdGhyb3cgbmV3IEIoXCJJbnZhbGlkIHRlbmFudCBJRFwiKTtpZighbil0aHJvdyBuZXcgQihcIkludmFsaWQgcmVkaXJlY3QgVVJJXCIpO2NvbnN0IG89YGh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS8ke2V9L3YyLjAvLndlbGwta25vd24vb3BlbmlkLWNvbmZpZ3VyYXRpb25gOyghSnx8Si5jbGllbnRJZCE9PXR8fEoudGVuYW50SWQhPT1lfHxKLnJlZGlyZWN0VXJpIT09bnx8KDAsTy54b3IpKEoucGVybWlzc2lvbnMscikubGVuZ3RoPjApJiYoSj1hd2FpdCBWLmluaXQobyxcImh0dHBzOi8vZ3JhcGgubWljcm9zb2Z0LmNvbVwiLHQsaixlLG4scikpfTtjbGFzcyBJbnRlcm9wRXJyb3IgZXh0ZW5kcyBBe2NvbnN0cnVjdG9yKHQsZSl7dmFyIG47c3VwZXIodD1udWxsIT09KG49bnVsbCE9dD90Om51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSkmJnZvaWQgMCE9PW4/bjpcIkFuIGludGVyb3AgZXJyb3Igb2NjdXJyZWRcIixlKX19dmFyIFgsWixROyFmdW5jdGlvbih0KXt0LkFwcE5vdEZvdW5kPVwiQXBwTm90Rm91bmRcIix0LkVycm9yT25MYXVuY2g9XCJFcnJvck9uTGF1bmNoXCIsdC5BcHBUaW1lb3V0PVwiQXBwVGltZW91dFwiLHQuUmVzb2x2ZXJVbmF2YWlsYWJsZT1cIlJlc29sdmVyVW5hdmFpbGFibGVcIn0oWHx8KFg9e30pKSxmdW5jdGlvbih0KXt0Lk5vQXBwc0ZvdW5kPVwiTm9BcHBzRm91bmRcIix0LlJlc29sdmVyVW5hdmFpbGFibGU9XCJSZXNvbHZlclVuYXZhaWxhYmxlXCIsdC5SZXNvbHZlclRpbWVvdXQ9XCJSZXNvbHZlclRpbWVvdXRcIn0oWnx8KFo9e30pKSxmdW5jdGlvbih0KXt0Lk5vQ2hhbm5lbEZvdW5kPVwiTm9DaGFubmVsRm91bmRcIix0LkFjY2Vzc0RlbmllZD1cIkFjY2Vzc0RlbmllZFwiLHQuQ3JlYXRpb25GYWlsZWQ9XCJDcmVhdGlvbkZhaWxlZFwifShRfHwoUT17fSkpO3ZhciB0dCxldDt0dD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxpPW8uaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLGE9by5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLHM9by50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gdSh0LGUsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXt1KHt9LFwiXCIpfWNhdGNoKHQpe3U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fWZ1bmN0aW9uIGwodCxlLG4scil7dmFyIG89ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiB5P2U6eSxpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLGE9bmV3IHgocnx8W10pO3JldHVybiBpLl9pbnZva2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWY7cmV0dXJuIGZ1bmN0aW9uKG8saSl7aWYocj09PWgpdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihyPT09cCl7aWYoXCJ0aHJvd1wiPT09byl0aHJvdyBpO3JldHVybiBCKCl9Zm9yKG4ubWV0aG9kPW8sbi5hcmc9aTs7KXt2YXIgYT1uLmRlbGVnYXRlO2lmKGEpe3ZhciBzPUkoYSxuKTtpZihzKXtpZihzPT09Zyljb250aW51ZTtyZXR1cm4gc319aWYoXCJuZXh0XCI9PT1uLm1ldGhvZCluLnNlbnQ9bi5fc2VudD1uLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PW4ubWV0aG9kKXtpZihyPT09Zil0aHJvdyByPXAsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoXCJyZXR1cm5cIixuLmFyZyk7cj1oO3ZhciB1PWModCxlLG4pO2lmKFwibm9ybWFsXCI9PT11LnR5cGUpe2lmKHI9bi5kb25lP3A6ZCx1LmFyZz09PWcpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6bi5kb25lfX1cInRocm93XCI9PT11LnR5cGUmJihyPXAsbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPXUuYXJnKX19fSh0LG4sYSksaX1mdW5jdGlvbiBjKHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fXQud3JhcD1sO3ZhciBmPVwic3VzcGVuZGVkU3RhcnRcIixkPVwic3VzcGVuZGVkWWllbGRcIixoPVwiZXhlY3V0aW5nXCIscD1cImNvbXBsZXRlZFwiLGc9e307ZnVuY3Rpb24geSgpe31mdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIHYoKXt9dmFyIGI9e307YltpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgdz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsXz13JiZ3KHcoQyhbXSkpKTtfJiZfIT09biYmci5jYWxsKF8saSkmJihiPV8pO3ZhciBFPXYucHJvdG90eXBlPXkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYik7ZnVuY3Rpb24gUyh0KXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UodCxlLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9KSl9KSl9ZnVuY3Rpb24gQSh0LGUpe2Z1bmN0aW9uIG4obyxpLGEscyl7dmFyIHU9Yyh0W29dLHQsaSk7aWYoXCJ0aHJvd1wiIT09dS50eXBlKXt2YXIgbD11LmFyZyxmPWwudmFsdWU7cmV0dXJuIGYmJlwib2JqZWN0XCI9PXR5cGVvZiBmJiZyLmNhbGwoZixcIl9fYXdhaXRcIik/ZS5yZXNvbHZlKGYuX19hd2FpdCkudGhlbigoZnVuY3Rpb24odCl7bihcIm5leHRcIix0LGEscyl9KSwoZnVuY3Rpb24odCl7bihcInRocm93XCIsdCxhLHMpfSkpOmUucmVzb2x2ZShmKS50aGVuKChmdW5jdGlvbih0KXtsLnZhbHVlPXQsYShsKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gbihcInRocm93XCIsdCxhLHMpfSkpfXModS5hcmcpfXZhciBvO3RoaXMuX2ludm9rZT1mdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IGUoKGZ1bmN0aW9uKGUsbyl7bih0LHIsZSxvKX0pKX1yZXR1cm4gbz1vP28udGhlbihpLGkpOmkoKX19ZnVuY3Rpb24gSSh0LG4pe3ZhciByPXQuaXRlcmF0b3Jbbi5tZXRob2RdO2lmKHI9PT1lKXtpZihuLmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09bi5tZXRob2Qpe2lmKHQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9XCJyZXR1cm5cIixuLmFyZz1lLEkodCxuKSxcInRocm93XCI9PT1uLm1ldGhvZCkpcmV0dXJuIGc7bi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpfXJldHVybiBnfXZhciBvPWMocix0Lml0ZXJhdG9yLG4uYXJnKTtpZihcInRocm93XCI9PT1vLnR5cGUpcmV0dXJuIG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1vLmFyZyxuLmRlbGVnYXRlPW51bGwsZzt2YXIgaT1vLmFyZztyZXR1cm4gaT9pLmRvbmU/KG5bdC5yZXN1bHROYW1lXT1pLnZhbHVlLG4ubmV4dD10Lm5leHRMb2MsXCJyZXR1cm5cIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9ZSksbi5kZWxlZ2F0ZT1udWxsLGcpOmk6KG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksbi5kZWxlZ2F0ZT1udWxsLGcpfWZ1bmN0aW9uIFQodCl7dmFyIGU9e3RyeUxvYzp0WzBdfTsxIGluIHQmJihlLmNhdGNoTG9jPXRbMV0pLDIgaW4gdCYmKGUuZmluYWxseUxvYz10WzJdLGUuYWZ0ZXJMb2M9dFszXSksdGhpcy50cnlFbnRyaWVzLnB1c2goZSl9ZnVuY3Rpb24gUih0KXt2YXIgZT10LmNvbXBsZXRpb258fHt9O2UudHlwZT1cIm5vcm1hbFwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiB4KHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzpcInJvb3RcIn1dLHQuZm9yRWFjaChULHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEModCl7aWYodCl7dmFyIG49dFtpXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciBvPS0xLGE9ZnVuY3Rpb24gbigpe2Zvcig7KytvPHQubGVuZ3RoOylpZihyLmNhbGwodCxvKSlyZXR1cm4gbi52YWx1ZT10W29dLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPWUsbi5kb25lPSEwLG59O3JldHVybiBhLm5leHQ9YX19cmV0dXJue25leHQ6Qn19ZnVuY3Rpb24gQigpe3JldHVybnt2YWx1ZTplLGRvbmU6ITB9fXJldHVybiBtLnByb3RvdHlwZT1FLmNvbnN0cnVjdG9yPXYsdi5jb25zdHJ1Y3Rvcj1tLG0uZGlzcGxheU5hbWU9dSh2LHMsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSx0LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09bXx8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KGUuZGlzcGxheU5hbWV8fGUubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCx2KToodC5fX3Byb3RvX189dix1KHQscyxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUpLHR9LHQuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LFMoQS5wcm90b3R5cGUpLEEucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQuQXN5bmNJdGVyYXRvcj1BLHQuYXN5bmM9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgQShsKGUsbixyLG8pLGkpO3JldHVybiB0LmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LFMoRSksdShFLHMsXCJHZW5lcmF0b3JcIiksRVtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxFLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0sdC5rZXlzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KWUucHVzaChuKTtyZXR1cm4gZS5yZXZlcnNlKCksZnVuY3Rpb24gbigpe2Zvcig7ZS5sZW5ndGg7KXt2YXIgcj1lLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gbi52YWx1ZT1yLG4uZG9uZT0hMSxufXJldHVybiBuLmRvbmU9ITAsbn19LHQudmFsdWVzPUMseC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOngscmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9ZSx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPWUsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goUiksIXQpZm9yKHZhciBuIGluIHRoaXMpXCJ0XCI9PT1uLmNoYXJBdCgwKSYmci5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPWUpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPVwidGhyb3dcIixzLmFyZz10LG4ubmV4dD1yLG8mJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz1lKSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09YS50cnlMb2MpcmV0dXJuIG8oXCJlbmRcIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9ci5jYWxsKGEsXCJjYXRjaExvY1wiKSxsPXIuY2FsbChhLFwiZmluYWxseUxvY1wiKTtpZih1JiZsKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZih1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFsKXRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGk9bzticmVha319aSYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZpLnRyeUxvYzw9ZSYmZTw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPXQsYS5hcmc9ZSxpPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLGcpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSxnfSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFIobiksZ319LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Iobil9cmV0dXJuIG99fXRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbih0LG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkModCkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPWUpLGd9fSx0fSh0LmV4cG9ydHMpO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9ZX1jYXRjaCh0KXtGdW5jdGlvbihcInJcIixcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikoZSl9fSx0dChldD17ZXhwb3J0czp7fX0sZXQuZXhwb3J0cyk7dmFyIG50OyFmdW5jdGlvbih0KXt0LkNvbnRhY3Q9XCJmZGMzLmNvbnRhY3RcIix0LkNvbnRhY3RMaXN0PVwiZmRjMy5jb250YWN0TGlzdFwiLHQuQ291bnRyeT1cImZkYzMuY291bnRyeVwiLHQuSW5zdHJ1bWVudD1cImZkYzMuaW5zdHJ1bWVudFwiLHQuT3JnYW5pemF0aW9uPVwiZmRjMy5vcmdhbml6YXRpb25cIix0LlBvcnRmb2xpbz1cImZkYzMucG9ydGZvbGlvXCIsdC5Qb3NpdGlvbj1cImZkYzMucG9zaXRpb25cIn0obnR8fChudD17fSkpO3ZhciBydDshZnVuY3Rpb24odCl7dC5TdGFydENhbGw9XCJTdGFydENhbGxcIix0LlN0YXJ0Q2hhdD1cIlN0YXJ0Q2hhdFwiLHQuVmlld0NoYXJ0PVwiVmlld0NoYXJ0XCIsdC5WaWV3Q29udGFjdD1cIlZpZXdDb250YWN0XCIsdC5WaWV3UXVvdGU9XCJWaWV3UXVvdGVcIix0LlZpZXdOZXdzPVwiVmlld05ld3NcIix0LlZpZXdJbnN0cnVtZW50PVwiVmlld0luc3RydW1lbnRcIix0LlZpZXdBbmFseXNpcz1cIlZpZXdBbmFseXNpc1wifShydHx8KHJ0PXt9KSk7Y29uc3Qgb3Q9XCJvZm1zMzY1YWN0aW9uXCIsaXQ9YXN5bmModCxlKT0+e3ZhciBuLHIsbyxpO2NvbnN0e2NoYXJ0SW1hZ2U6YSxjb250ZXh0OnN9PWUse3ByaWNlQ3VycmVudDp1LHByaWNlSGlnaDpsLHByaWNlTG93OmMscHJpY2VPcGVuOmZ9PWUsZD0obnVsbD09PShyPW51bGw9PT0obj1zLmlkKXx8dm9pZCAwPT09bj92b2lkIDA6bi50aWNrZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKSl8fHZvaWQgMCxoPShudWxsPT09KG89cy5uYW1lKXx8dm9pZCAwPT09bz92b2lkIDA6by50cmltKCkpfHx2b2lkIDA7bGV0IHAsZyx5LG0sdixiO2lmKG51bGwhPWUudGltZXN0YW1wfHwhYSl0cnl7cD1uZXcgRGF0ZShudWxsIT09KGk9ZS50aW1lc3RhbXApJiZ2b2lkIDAhPT1pP2k6RGF0ZS5ub3coKSkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9cXC5cXGQrWiQvLFwiKzAwOjAwXCIpfWNhdGNoKG4pe3QubG9nZ2VyLmxvZ1dhcm5pbmcoXCJJbnZhbGlkIHRpbWVzdGFtcFwiLGUudGltZXN0YW1wKX1pZihudWxsIT11JiZudWxsIT1mJiYoZz11LWYseT1nL2YqMTAwLHY9Zz4wP1wi4payXCI6ZzwwP1wi4pa8XCI6XCLil49cIixtPWc+MD9cIkdvb2RcIjpnPDA/XCJBdHRlbnRpb25cIjpcIldhcm5pbmdcIiksYSl7aWYoIS9eaW1hZ2VcXC8oZ2lmfGpwKGV8ZT9nKXxwbmcpJC9pLnRlc3QoYS50eXBlKSl0aHJvdyBuZXcgQihcIkNoYXJ0IGltYWdlIE1JTUUgdHlwZSBub3Qgc3VwcG9ydGVkXCIpO3RyeXtiPWF3YWl0KGFzeW5jIHQ9Pm5ldyBQcm9taXNlKCgoZSxuKT0+e2NvbnN0IHI9bmV3IEZpbGVSZWFkZXI7ci5vbmxvYWRlbmQ9KCk9PmUoci5yZXN1bHQpLHIub25lcnJvcj0oKT0+bihuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY29udmVydCBibG9iIHRvIGJhc2U2NFwiKSksci5yZWFkQXNEYXRhVVJMKHQpfSkpKShhKX1jYXRjaCh0KXt0aHJvdyBuZXcgQShcIkZhaWxlZCB0byBjb252ZXJ0IGJsb2IgdG8gYmFzZTY0XCIsdCl9fWNvbnN0IHc9KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0UnVudGltZUluZm8oKSkubWFuaWZlc3RVcmwsXz17Y29udGV4dDpzLGludGVudDphP3J0LlZpZXdDaGFydDpydC5WaWV3SW5zdHJ1bWVudCx2ZXJzaW9uOlV9LEU9KFM9XywoMCwkLmNvbXByZXNzKShKU09OLnN0cmluZ2lmeShTKSx7b3V0cHV0RW5jb2Rpbmc6XCJCYXNlNjRcIn0pKTt2YXIgUztjb25zdCBJPWAke3d9PyQkJHtvdH09JHtlbmNvZGVVUklDb21wb25lbnQoRSl9YCxUPWBodHRwczovL3N0YXJ0Lm9wZW5maW4uY28vP21hbmlmZXN0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KEkpfWAsUj17JHNjaGVtYTpcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsdHlwZTpcIkFkYXB0aXZlQ2FyZFwiLHZlcnNpb246XCIxLjRcIixib2R5Olt7dHlwZTpcIkNvbHVtblNldFwiLGNvbHVtbnM6W3t0eXBlOlwiQ29sdW1uXCIsd2lkdGg6XCJzdHJldGNoXCIsaXRlbXM6W3t0eXBlOlwiQ29udGFpbmVyXCIsaXRlbXM6W3t0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpudWxsIT1oP2g6ZC50b1VwcGVyQ2FzZSgpLHdyYXA6ITAsc2l6ZTpcIkxhcmdlXCIsc3BhY2luZzpcIk5vbmVcIn0saCYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OmQudG9VcHBlckNhc2UoKSxpc1N1YnRsZTohMCx3cmFwOiEwLHNwYWNpbmc6XCJOb25lXCJ9LHAmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpge3tEQVRFKCR7cH0sIFNIT1JUKX19IHt7VElNRSgke3B9KX19YCx3cmFwOiEwLHNpemU6XCJTbWFsbFwifV19XX0sbnVsbCE9dSYmIWImJnt0eXBlOlwiQ29sdW1uXCIsd2lkdGg6XCJzdHJldGNoXCIsaXRlbXM6W3t0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDp1LnRvRml4ZWQoMiksc2l6ZTpcIkV4dHJhTGFyZ2VcIix3cmFwOiEwLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwifSxudWxsIT1nJiZudWxsIT15JiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6YCR7dn0gJHtnLnRvRml4ZWQoMil9ICgke3kudG9GaXhlZCgyKX0lKWAsY29sb3I6bSxzcGFjaW5nOlwiTm9uZVwiLHdyYXA6ITAsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCJ9LChudWxsIT1mfHxudWxsIT1sfHxudWxsIT1jKSYme3R5cGU6XCJDb250YWluZXJcIixob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIixpdGVtczpbe3R5cGU6XCJDb2x1bW5TZXRcIixjb2x1bW5zOlt7dHlwZTpcIkNvbHVtblwiLHdpZHRoOlwic3RyZXRjaFwiLGl0ZW1zOltudWxsIT1mJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6XCJPcGVuXCIsd3JhcDohMCxob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIixzaXplOlwiU21hbGxcIix3ZWlnaHQ6XCJCb2xkZXJcIixzcGFjaW5nOlwiTm9uZVwifSxudWxsIT1sJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6XCJIaWdoXCIsd3JhcDohMCxzcGFjaW5nOlwiTm9uZVwiLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwiLHNpemU6XCJTbWFsbFwiLHdlaWdodDpcIkJvbGRlclwifSxudWxsIT1jJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6XCJMb3dcIix3cmFwOiEwLHNwYWNpbmc6XCJOb25lXCIsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCIsc2l6ZTpcIlNtYWxsXCIsd2VpZ2h0OlwiQm9sZGVyXCJ9XX0se3R5cGU6XCJDb2x1bW5cIix3aWR0aDpcImF1dG9cIixpdGVtczpbbnVsbCE9ZiYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OmYudG9GaXhlZCgyKSx3cmFwOiEwLHNwYWNpbmc6XCJOb25lXCIsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCIsc2l6ZTpcIlNtYWxsXCJ9LG51bGwhPWwmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpsLnRvRml4ZWQoMiksd3JhcDohMCxzcGFjaW5nOlwiTm9uZVwiLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwiLHNpemU6XCJTbWFsbFwifSxudWxsIT1jJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6Yy50b0ZpeGVkKDIpLHdyYXA6ITAsc3BhY2luZzpcIk5vbmVcIixob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIixzaXplOlwiU21hbGxcIn1dfV19XSxzcGFjaW5nOlwiU21hbGxcIn1dfV19LGImJnt0eXBlOlwiSW1hZ2VcIix1cmw6XCIuLi9ob3N0ZWRDb250ZW50cy8xLyR2YWx1ZVwiLHNwYWNpbmc6XCJTbWFsbFwifSx7dHlwZTpcIkFjdGlvblNldFwiLGFjdGlvbnM6W3t0eXBlOlwiQWN0aW9uLk9wZW5VcmxcIix1cmw6VCx0aXRsZTpcIk9wZW5cIn1dfV19LHg9e2F0dGFjaG1lbnRzOlt7aWQ6XCIxXCIsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi92bmQubWljcm9zb2Z0LmNhcmQuYWRhcHRpdmVcIixjb250ZW50OkpTT04uc3RyaW5naWZ5KHooUikpfV0sYm9keTp7Y29udGVudFR5cGU6XCJodG1sXCIsY29udGVudDonPGF0dGFjaG1lbnQgaWQ9XCIxXCI+PC9hdHRhY2htZW50Pid9LHN1bW1hcnk6XCJUZXN0IHN1bW1hcnlcIn07aWYoYil7Y29uc3RbLHQsZV09Wy4uLmIubWF0Y2goL15kYXRhOihbXjtdKyk7YmFzZTY0LCguKykkL2kpXTt4Lmhvc3RlZENvbnRlbnRzPVt7XCJAbWljcm9zb2Z0LmdyYXBoLnRlbXBvcmFyeUlkXCI6XCIxXCIsY29udGVudEJ5dGVzOmUsY29udGVudFR5cGU6dH1dfXJldHVybiB4fSxhdD10PT50P1wibXN0ZWFtczpcIjpcImh0dHBzOi8vdGVhbXMubWljcm9zb2Z0LmNvbVwiLHN0PWFzeW5jIHQ9Pntjb25zdCBlPW51bGw9PXQ/dm9pZCAwOnRbb3RdO2lmKGUpdHJ5e2NvbnN0IHQ9KHQ9Pntjb25zdCBlPSgwLCQuZGVjb21wcmVzcykodCx7aW5wdXRFbmNvZGluZzpcIkJhc2U2NFwiLG91dHB1dEVuY29kaW5nOlwiU3RyaW5nXCJ9KTtyZXR1cm4gSlNPTi5wYXJzZShlKX0pKGUpLHtjb250ZXh0Om4saW50ZW50OnJ9PXQsbz17Y29udGV4dDpuLG5hbWU6cn07cmV0dXJuIGF3YWl0IGZpbi5tZS5pbnRlcm9wLmZpcmVJbnRlbnQobyksb31jYXRjaCh0KXtjb25zdCBlPXQubWVzc2FnZTt0aHJvdyBuZXcgQShcIkZhaWxlZCB0byBkZWNvbXByZXNzIHNoYXJlIHBheWxvYWRcIisoZT9gICgke2V9KWA6XCJcIiksdCl9fSx1dD1hc3luYyh0LGUsbik9Pntjb25zdCByPWF3YWl0KGFzeW5jKHQsZSxuPVtdKT0+e3RyeXtjb25zdCByPVtcImlkXCIsLi4ubl0uam9pbihcIixcIikse2RhdGE6b309YXdhaXQgdC5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvdGVhbXMvJHtlbmNvZGVVUklDb21wb25lbnQoZSl9PyRzZWxlY3Q9JHtyfWApO3JldHVybiBvfWNhdGNoKHQpe2lmKDQwNCE9PXQuc3RhdHVzKXRocm93IHR9fSkodCxlLFtcImRpc3BsYXlOYW1lXCJdKTtpZighcilyZXR1cm47bGV0IG87aWYodC5sb2dnZXIubG9nSW5mbyhcIlJlc29sdmVkIHRlYW1cIixyKSxuKXtpZihvPWF3YWl0KGFzeW5jKHQsZSxuLHI9W10pPT57dHJ5e2NvbnN0IG89W1wiaWRcIiwuLi5yXS5qb2luKFwiLFwiKSx7ZGF0YTppfT1hd2FpdCB0LmV4ZWN1dGVBcGlSZXF1ZXN0KGAvdjEuMC90ZWFtcy8ke2VuY29kZVVSSUNvbXBvbmVudChuKX0vY2hhbm5lbHMvJHtlbmNvZGVVUklDb21wb25lbnQoZSl9PyRzZWxlY3Q9JHtvfWApO3JldHVybiBpfWNhdGNoKHQpe2lmKDQwNCE9PXQuc3RhdHVzKXRocm93IHR9fSkodCxuLGUsW1wiZGlzcGxheU5hbWVcIl0pLCFvKXJldHVybiB2b2lkIHQubG9nZ2VyLmxvZ1dhcm5pbmcoYENvdWxkIG5vdCByZXNvbHZlIGNoYW5uZWwgZnJvbSBpZCAke259YCl9ZWxzZXt0LmxvZ2dlci5sb2dJbmZvKFwiTm8gY2hhbm5lbCBpZCBzdXBwbGllZCwgdXNpbmcgcHJpbWFyeSBjaGFubmVsXCIpO2NvbnN0e2RhdGE6bn09YXdhaXQgdC5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvdGVhbXMvJHtlbmNvZGVVUklDb21wb25lbnQoZSl9L3ByaW1hcnlDaGFubmVsPyRzZWxlY3Q9ZGlzcGxheU5hbWUsaWRgKTtvPW59Y29uc3QgaT17Y2hhbm5lbElkOm8uaWQsY2hhbm5lbE5hbWU6by5kaXNwbGF5TmFtZSx0ZWFtSWQ6ci5pZCx0ZWFtTmFtZTpyLmRpc3BsYXlOYW1lfTtyZXR1cm4gdC5sb2dnZXIubG9nSW5mbyhcIlJlc29sdmVkIHRlYW0gY2hhbm5lbFwiLGUsbixpKSxpfTtjbGFzcyBsdHtjb25zdHJ1Y3Rvcih0LGU9ITApe3RoaXMubG9nZ2VyPXQucHJvdmlkZXIubG9nZ2VyLHRoaXMucHJvdmlkZXI9dC5wcm92aWRlcix0aGlzLnVzZU1zVGVhbXNQcm90b2NvbD1lLHRoaXMucmVnaXN0ZXJJbnRlbnRIYW5kbGVycz10aGlzLnJlZ2lzdGVySW50ZW50SGFuZGxlcnMuYmluZCh0aGlzKSx0aGlzLnNoYXJlPXRoaXMuc2hhcmUuYmluZCh0aGlzKSx0aGlzLnN0YXJ0Q2FsbD10aGlzLnN0YXJ0Q2FsbC5iaW5kKHRoaXMpLHRoaXMuc3RhcnRDaGF0PXRoaXMuc3RhcnRDaGF0LmJpbmQodGhpcyksdGhpcy5lbmFibGVTaGFyZVBheWxvYWRIYW5kbGVyKCksRihILlRlYW1zLHRoaXMubG9nZ2VyKX1hc3luYyBlbmFibGVTaGFyZVBheWxvYWRIYW5kbGVyKCl7Y29uc3R7aW5pdGlhbE9wdGlvbnM6dH09YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0SW5mbygpLHt1c2VyQXBwQ29uZmlnQXJnczplfT10LG49YXdhaXQgc3QoZSk7biYmdGhpcy5sb2dnZXIubG9nSW5mbyhcIkZpcmluZyBpbnRlbnRcIixuKSxmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5hZGRMaXN0ZW5lcihcInJ1bi1yZXF1ZXN0ZWRcIiwoYXN5bmMgdD0+e3RyeXtjb25zdCBlPWF3YWl0IHN0KHQudXNlckFwcENvbmZpZ0FyZ3MpO2UmJnRoaXMubG9nZ2VyLmxvZ0luZm8oXCJGaXJpbmcgaW50ZW50XCIsZSl9Y2F0Y2godCl7dGhpcy5sb2dnZXIubG9nRXJyb3IodCl9fSkpfWFzeW5jIG9wZW5VcmwodCl7dGhpcy5sb2dnZXIubG9nSW5mbyhcIm9wZW5Vcmwgc3RhcnRlZFwiLHQpO3RyeXtjb25zdCBlPXRoaXMudXNlTXNUZWFtc1Byb3RvY29sP3QucmVwbGFjZSgvXmh0dHBzOlxcL1xcL3RlYW1zLm1pY3Jvc29mdC5jb21cXC8vaSxcIm1zdGVhbXM6XCIpOnQ7dGhpcy5sb2dnZXIubG9nSW5mbyhcIk9wZW5pbmcgdXJsXCIsZSksYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZSksdGhpcy5sb2dnZXIubG9nSW5mbyhcIm9wZW5VcmwgY29tcGxldGVkXCIpfWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fWFzeW5jIHJlZ2lzdGVySW50ZW50SGFuZGxlcnMoKXtpZih0aGlzLmxvZ2dlci5sb2dJbmZvKFwicmVnaXN0ZXJJbnRlbnRIYW5kbGVycyBzdGFydGVkXCIpLHRoaXMudW5zdWJzY3JpYmVJbnRlbnRIYW5kbGVycylyZXR1cm57dW5zdWJzY3JpYmU6dGhpcy51bnN1YnNjcmliZUludGVudEhhbmRsZXJzfTt0cnl7YXdhaXQgZmluLm1lLmludGVyb3AuZ2V0Q29udGV4dEdyb3VwcygpO2NvbnN0IHQ9YXdhaXQgZmluLm1lLmludGVyb3AucmVnaXN0ZXJJbnRlbnRIYW5kbGVyKChhc3luYyB0PT57dHJ5e2F3YWl0KCh0LGUpPT5hc3luYyBuPT57dmFyIHIsbyxpLGE7aWYodC5sb2dnZXIubG9nSW5mbyhcImhhbmRsZVN0YXJ0Q2FsbEludGVudCBzdGFydGVkXCIsbiksKG51bGw9PT0ocj1uLm5hbWUpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRvTG93ZXJDYXNlKCkpIT09cnQuU3RhcnRDYWxsLnRvTG93ZXJDYXNlKCkpdGhyb3cgbmV3IEEoYFVuZXhwZWN0ZWQgaW50ZW50IHR5cGU6ICR7bi5uYW1lfWApO2NvbnN0e2NvbnRleHQ6c309bjtpZigobnVsbD09PShvPXMudHlwZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8udG9Mb3dlckNhc2UoKSkhPT1udC5Db250YWN0LnRvTG93ZXJDYXNlKCkmJihudWxsPT09KGk9cy50eXBlKXx8dm9pZCAwPT09aT92b2lkIDA6aS50b0xvd2VyQ2FzZSgpKSE9PW50LkNvbnRhY3RMaXN0LnRvTG93ZXJDYXNlKCkpdGhyb3cgbmV3IEEoYFVuZXhwZWN0ZWQgY29udGV4dCB0eXBlOiAke3MudHlwZX1gKTtjb25zdCB1PShudWxsPT09KGE9cy50eXBlKXx8dm9pZCAwPT09YT92b2lkIDA6YS50b0xvd2VyQ2FzZSgpKT09PW50LkNvbnRhY3RMaXN0LnRvTG93ZXJDYXNlKCk/cy5jb250YWN0cy5tYXAoKHQ9PnQuaWQuZW1haWwpKS5maWx0ZXIoQm9vbGVhbik6W3MuaWQuZW1haWxdLGw9YXdhaXQgZSh1KTt0LmxvZ2dlci5sb2dJbmZvKFwiaGFuZGxlU3RhcnRDYWxsSW50ZW50IGNvbXBsZXRlZFwiLGwpfSkodGhpcy5wcm92aWRlcix0aGlzLnN0YXJ0Q2FsbCkodCl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH19KSxcIlN0YXJ0Q2FsbFwiKSxlPWF3YWl0IGZpbi5tZS5pbnRlcm9wLnJlZ2lzdGVySW50ZW50SGFuZGxlcigoYXN5bmMgdD0+e3RyeXthd2FpdCgodCxlKT0+YXN5bmMgbj0+e3ZhciByLG8saSxhO2lmKHQubG9nZ2VyLmxvZ0luZm8oXCJoYW5kbGVTdGFydENoYXRJbnRlbnQgc3RhcnRlZFwiLG4pLChudWxsPT09KHI9bi5uYW1lKXx8dm9pZCAwPT09cj92b2lkIDA6ci50b0xvd2VyQ2FzZSgpKSE9PXJ0LlN0YXJ0Q2hhdC50b0xvd2VyQ2FzZSgpKXRocm93IG5ldyBBKGBVbmV4cGVjdGVkIGludGVudCB0eXBlOiAke24ubmFtZX1gKTtjb25zdHtjb250ZXh0OnN9PW47aWYoKG51bGw9PT0obz1zLnR5cGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRvTG93ZXJDYXNlKCkpIT09bnQuQ29udGFjdC50b0xvd2VyQ2FzZSgpJiYobnVsbD09PShpPXMudHlwZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudG9Mb3dlckNhc2UoKSkhPT1udC5Db250YWN0TGlzdC50b0xvd2VyQ2FzZSgpKXRocm93IG5ldyBBKGBVbmV4cGVjdGVkIGNvbnRleHQgdHlwZTogJHtzLnR5cGV9YCk7Y29uc3QgdT0obnVsbD09PShhPXMudHlwZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSk9PT1udC5Db250YWN0TGlzdC50b0xvd2VyQ2FzZSgpP3MuY29udGFjdHMubWFwKCh0PT50LmlkLmVtYWlsKSkuZmlsdGVyKEJvb2xlYW4pOltzLmlkLmVtYWlsXSxsPWF3YWl0IGUoe2VtYWlsQWRkcmVzc2VzOnUsdG9waWNOYW1lOnMubmFtZX0pO3QubG9nZ2VyLmxvZ0luZm8oXCJoYW5kbGVTdGFydENoYXRJbnRlbnQgY29tcGxldGVkXCIsbCl9KSh0aGlzLnByb3ZpZGVyLHRoaXMuc3RhcnRDaGF0KSh0KX1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcih0KSx0fX0pLFwiU3RhcnRDaGF0XCIpO3JldHVybiB0aGlzLnVuc3Vic2NyaWJlSW50ZW50SGFuZGxlcnM9YXN5bmMoKT0+e3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJ1bnN1YnNjcmliZUludGVudEhhbmRsZXJzIHN0YXJ0ZWRcIiksYXdhaXQgdC51bnN1YnNjcmliZSgpLGF3YWl0IGUudW5zdWJzY3JpYmUoKSx0aGlzLnVuc3Vic2NyaWJlSW50ZW50SGFuZGxlcnM9dm9pZCAwLHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJ1bnN1YnNjcmliZUludGVudEhhbmRsZXJzIGNvbXBsZXRlZFwiKX0sdGhpcy5sb2dnZXIubG9nSW5mbyhcInJlZ2lzdGVySW50ZW50SGFuZGxlcnMgY29tcGxldGVkXCIpLHt1bnN1YnNjcmliZTp0aGlzLnVuc3Vic2NyaWJlSW50ZW50SGFuZGxlcnN9fWNhdGNoKHQpe2NvbnN0IGU9bmV3IEludGVyb3BFcnJvcih0Lm1lc3NhZ2UpO3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKGUpLGV9fWFzeW5jIHNoYXJlKHQpe3ZhciBlLG4scixvO3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJzaGFyZSBzdGFydGVkXCIsdCk7dHJ5e2lmKCF0LnRhcmdldCl0aHJvdyBuZXcgQihcIlRhcmdldCBub3QgcHJvdmlkZWRcIik7aWYoKG51bGw9PT0oZT10LmNvbnRleHQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnR5cGUudG9Mb3dlckNhc2UoKSkhPT1udC5JbnN0cnVtZW50LnRvTG93ZXJDYXNlKCkpdGhyb3cgbmV3IEIoXCJVbnN1cHBvcnRlZCBjb250ZXh0IHR5cGVcIik7aWYoIShudWxsPT09KHI9bnVsbD09PShuPXQuY29udGV4dCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaWQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRpY2tlcikpdGhyb3cgbmV3IEIoXCJUaWNrZXIgbm90IHByb3ZpZGVkXCIpO2lmKCF0LmNoYXJ0SW1hZ2UmJm51bGw9PXQucHJpY2VDdXJyZW50KXRocm93IG5ldyBCKFwiQ3VycmVudCBwcmljZSBub3QgcHJvdmlkZWRcIik7Y29uc3QgaT1udWxsPT09KG89dC5zaG93TWVzc2FnZSl8fHZvaWQgMD09PW98fG8sYT1hd2FpdCBpdCh0aGlzLnByb3ZpZGVyLHQpO2xldCBzO2lmKEFycmF5LmlzQXJyYXkodC50YXJnZXQpKXtjb25zdHt0YXJnZXQ6ZX09dCxuPWF3YWl0IFcodGhpcy5wcm92aWRlcixlLFtcImRpc3BsYXlOYW1lXCIsXCJtYWlsXCJdKSxyPW4uZmlsdGVyKEJvb2xlYW4pO2lmKCFyLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIubG9nV2FybmluZyhcIkNvdWxkIG5vdCByZXNvbHZlIGFueSB2YWxpZCB1c2VycyBmcm9tIGVtYWlsIGFkZHJlc3Nlc1wiLGUpLGUubWFwKCgoKT0+e30pKTtjb25zdHtpZDpvLHdlYlVybDp1fT1hd2FpdChhc3luYyh0LGUpPT57Y29uc3Qgbj17Y2hhdFR5cGU6ZS5sZW5ndGg+Mj9cImdyb3VwXCI6XCJvbmVPbk9uZVwiLG1lbWJlcnM6ZS5tYXAoKGU9Pih7XCJAb2RhdGEudHlwZVwiOlwiI21pY3Jvc29mdC5ncmFwaC5hYWRVc2VyQ29udmVyc2F0aW9uTWVtYmVyXCIscm9sZXM6cShlKT9bXCJndWVzdFwiXTpbXCJvd25lclwiXSxcInVzZXJAb2RhdGEuYmluZFwiOmAke3QuYXBpT3JpZ2lufS92MS4wL3VzZXJzKCcke2UuaWR9JylgfSkpKX0se2RhdGE6cn09YXdhaXQgdC5leGVjdXRlQXBpUmVxdWVzdChcIi92MS4wL2NoYXRzXCIsXCJQT1NUXCIsbik7cmV0dXJuIHJ9KSh0aGlzLnByb3ZpZGVyLFt0aGlzLnByb3ZpZGVyLmN1cnJlbnRVc2VyLC4uLnJdKSx7ZGF0YTpsfT1hd2FpdCB0aGlzLnByb3ZpZGVyLmV4ZWN1dGVBcGlSZXF1ZXN0KGAvdjEuMC9jaGF0cy8ke2VuY29kZVVSSUNvbXBvbmVudChvKX0vbWVzc2FnZXNgLFwiUE9TVFwiLGEpO3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJTZW50IGNoYXQgbWVzc2FnZVwiLGwpLGkmJmF3YWl0IHRoaXMub3BlblVybCh1KSxzPUQobil9ZWxzZXtjb25zdHt0YXJnZXQ6ZX09dCxuPWF3YWl0IHV0KHRoaXMucHJvdmlkZXIsZS50ZWFtSWQsZS5jaGFubmVsSWQpO2lmKCFuKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmxvZ1dhcm5pbmcoXCJDb3VsZCBub3QgcmVzb2x2ZSB0ZWFtL2NoYW5uZWxcIixlLnRlYW1JZCxlLmNoYW5uZWxJZCk7Y29uc3R7Y2hhbm5lbElkOnIsdGVhbUlkOm99PW4se2RhdGE6dX09YXdhaXQgdGhpcy5wcm92aWRlci5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvdGVhbXMvJHtlbmNvZGVVUklDb21wb25lbnQobyl9L2NoYW5uZWxzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHIpfS9tZXNzYWdlc2AsXCJQT1NUXCIsYSk7dGhpcy5sb2dnZXIubG9nSW5mbyhcIlNlbnQgY2hhdCBtZXNzYWdlXCIsdSksaSYmYXdhaXQgdGhpcy5vcGVuVXJsKHUud2ViVXJsKSxzPW59cmV0dXJuIHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJzaGFyZSBjb21wbGV0ZWRcIixzKSxzfWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fWFzeW5jIHN0YXJ0Q2FsbCh0PVtdLGU9ITEpe3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJzdGFydENhbGwgc3RhcnRlZFwiLHQpO3RyeXtsZXQgbj1gJHthdCh0aGlzLnVzZU1zVGVhbXNQcm90b2NvbCl9L2wvY2FsbC8wLzA/YDtjb25zdCByPWF3YWl0IFcodGhpcy5wcm92aWRlcix0LFtcImRpc3BsYXlOYW1lXCIsXCJtYWlsXCJdKSxvPXIuZmlsdGVyKEJvb2xlYW4pLm1hcCgodD0+ZW5jb2RlVVJJQ29tcG9uZW50KHQudXNlclByaW5jaXBhbE5hbWUpKSk7aWYoIW8ubGVuZ3RoKXJldHVybiB0aGlzLmxvZ2dlci5sb2dXYXJuaW5nKFwiQ291bGQgbm90IHJlc29sdmUgYW55IHZhbGlkIHVzZXJzIGZyb20gc3VwcGxpZWQgZW1haWxzXCIsdCksdC5tYXAoKCgpPT57fSkpO24rPWB1c2Vycz0ke28uam9pbihcIixcIil9JndpdGhWaWRlbz0ke2V9YCx0aGlzLmxvZ2dlci5sb2dJbmZvKFwiT3BlbmluZyBUZWFtc1wiLG4pLGF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKG4pO2NvbnN0IGk9RChyKTtyZXR1cm4gdGhpcy5sb2dnZXIubG9nSW5mbyhcInN0YXJ0Q2FsbCBjb21wbGV0ZWRcIixpKSxpfWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fWFzeW5jIHN0YXJ0Q2hhdCh0KXt0aGlzLmxvZ2dlci5sb2dJbmZvKFwic3RhcnRDaGF0IHN0YXJ0ZWRcIix0KTt0cnl7bGV0IGUsbjtpZihcInRlYW1JZFwiaW4gdCl7Y29uc3R7dGVhbUlkOnIsY2hhbm5lbElkOm99PXQsaT1hd2FpdCB1dCh0aGlzLnByb3ZpZGVyLHIsbyk7aWYoIWkpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIubG9nV2FybmluZyhcIkNvdWxkIG5vdCByZXNvbHZlIHRlYW0vY2hhbm5lbFwiLHIsbyk7ZT1gJHthdCh0aGlzLnVzZU1zVGVhbXNQcm90b2NvbCl9L2wvY2hhbm5lbC8ke2VuY29kZVVSSUNvbXBvbmVudChpLmNoYW5uZWxJZCl9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGkuY2hhbm5lbE5hbWUpfT9ncm91cElkPSR7aS50ZWFtSWR9JnRlbmFudElkPSR7dGhpcy5wcm92aWRlci50ZW5hbnRJZH1gLG49aX1lbHNle2NvbnN0e2VtYWlsQWRkcmVzc2VzOnIsbWVzc2FnZTpvLHRvcGljTmFtZTppfT10O2U9YCR7YXQodGhpcy51c2VNc1RlYW1zUHJvdG9jb2wpfS9sL2NoYXQvMC8wP2A7Y29uc3QgYT1hd2FpdCBXKHRoaXMucHJvdmlkZXIscixbXCJkaXNwbGF5TmFtZVwiLFwibWFpbFwiXSkscz1hLmZpbHRlcihCb29sZWFuKS5tYXAoKHQ9PmVuY29kZVVSSUNvbXBvbmVudCh0LnVzZXJQcmluY2lwYWxOYW1lKSkpO2lmKCFzLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIubG9nV2FybmluZyhcIkNvdWxkIG5vdCByZXNvbHZlIGFueSB2YWxpZCB1c2VycyBmcm9tIGVtYWlsIGFkZHJlc3Nlc1wiLHIpLHIubWFwKCgoKT0+e30pKTtlKz1gdXNlcnM9JHtzLmpvaW4oXCIsXCIpfWAsaSYmKGUrPWAmdG9waWNOYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGkpfWApLG8mJihlKz1gJm1lc3NhZ2U9JHtlbmNvZGVVUklDb21wb25lbnQobyl9YCksbj1EKGEpfXJldHVybiB0aGlzLmxvZ2dlci5sb2dJbmZvKFwiT3BlbmluZyBUZWFtc1wiLGUpLGF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGUpLHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJzdGFydENoYXQgY29tcGxldGVkXCIsbiksbn1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcih0KSx0fX19fSw5MTooKT0+e319LGU9e307ZnVuY3Rpb24gbihyKXt2YXIgbz1lW3JdO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT1lW3JdPXtpZDpyLGxvYWRlZDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9bi5jPWUsbi5kPSh0LGUpPT57Zm9yKHZhciByIGluIGUpbi5vKGUscikmJiFuLm8odCxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7ZW51bWVyYWJsZTohMCxnZXQ6ZVtyXX0pfSxuLmc9ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcylyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2godCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxuLm89KHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpLG4ubm1kPXQ9Pih0LnBhdGhzPVtdLHQuY2hpbGRyZW58fCh0LmNoaWxkcmVuPVtdKSx0KTt2YXIgcj1uKG4ucz01NCksbz1yLk1TLGk9ci5jRixhPXIuQUsscz1yLk1fLHU9ci5jWCxsPXIuQlQsYz1yLl9XLGY9ci5QZyxkPXIuJGosaD1yLlUkLHA9ci5VNztleHBvcnR7byBhcyBBcGlFcnJvcixpIGFzIEFwaVJlcXVlc3RFcnJvcixhIGFzIEF1dGhUb2tlbkV4cGlyZWRFcnJvcixzIGFzIEF1dGhvcml6YXRpb25FcnJvcix1IGFzIEluaXRpYWxpemF0aW9uRXJyb3IsbCBhcyBJbnRlcm9wRXJyb3IsYyBhcyBQYXJhbWV0ZXJFcnJvcixmIGFzIFRlYW1zQ29ubmVjdGlvbixkIGFzIGNvbm5lY3QsaCBhcyBkaXNhYmxlTG9nZ2luZyxwIGFzIGVuYWJsZUxvZ2dpbmd9OyIsIigoKT0+e3ZhciBlPXs4NDc6KGUsdCk9Pnt2YXIgYT17MjM0NjpmdW5jdGlvbihlLHQsYSl7dmFyIG49dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRNb3N0UmVhZGFibGU9dC5kYXJrZW5Db2xvcj10LmxpZ2h0ZW5Db2xvcj12b2lkIDA7Y29uc3Qgbz1uKGEoNjUzNSkpO3QubGlnaHRlbkNvbG9yPShlLHQpPT5yKGUsXCJsaWdodGVuXCIsdCksdC5kYXJrZW5Db2xvcj0oZSx0KT0+cihlLFwiZGFya2VuXCIsdCk7Y29uc3Qgcj0oZSx0LGEpPT57aWYoYSYmKGE8MHx8YT4xMDApKXRocm93IG5ldyBFcnJvcihgJHthfSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwYCk7cmV0dXJuKDAsby5kZWZhdWx0KShlKVt0XShhKS50b1N0cmluZygpfTt0LmdldE1vc3RSZWFkYWJsZT0oZSx0KT0+by5kZWZhdWx0Lm1vc3RSZWFkYWJsZShlLHQpLnRvSGV4U3RyaW5nKCl9LDIzMTc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lkljb25TaXplPXQuVHJhbnNpdGlvbj10LkxpbmVIZWlnaHQ9dC5Gb250V2VpZ2h0PXQuRm9udFNpemU9dC5Gb250RmFtaWx5PXQuU2hhZG93PXQuUmFkaXVzPXQuVW5pdFB4PXQuVW5pdD10LlNpemVOYW1lPXQuU2l6ZT10LkNvbG9yPXZvaWQgMCx0LkNvbG9yPXt3aGl0ZTpcIiNGRkZGRkZcIixsaWdodEdyYXkxOlwiI0ZBRkJGRVwiLGxpZ2h0R3JheTI6XCIjRjNGNUY4XCIsbGlnaHRHcmF5MzpcIiNFQ0VFRjFcIixsaWdodEdyYXk0OlwiI0REREZFNFwiLGxpZ2h0R3JheTU6XCIjQzlDQkQyXCIsbmV1dHJhbEdyYXk6XCIjN0Q4MDhBXCIsbmV1dHJhbEdyYXk4MDpcInJnYmEoMTI1LDEyOCwxMzgsMC44KVwiLHNpbHZlckdyYXk6XCIjQzBDMUMyXCIsZGFya0dyYXkxOlwiIzUzNTY1RlwiLGRhcmtHcmF5MjpcIiMzODNBNDBcIixkYXJrR3JheTM6XCIjMkYzMTM2XCIsZGFya0dyYXk0OlwiIzI0MjYyQlwiLGRhcmtHcmF5NTpcIiMxRTFGMjNcIixkYXJrR3JheTY6XCIjMTExMjE0XCIsb3BlbkZpbkRhcmtlc3Q6XCIjM0QzOUNEXCIsb3BlbkZpbkRhcmtlcjpcIiM0NjQyRTBcIixvcGVuRmluOlwiIzUwNENGRlwiLG9wZW5GaW5MaWdodDpcIiM1MjU0RkJcIixvcGVuRmluTGlnaHRlcjpcIiM1QzVFRkVcIixvcGVuRmluTGlnaHRlc3Q6XCIjNjg2NEZGXCIsZnVuY3Rpb25hbDE6XCIjMjA3NzM1XCIsZnVuY3Rpb25hbDI6XCIjNDZDOEYxXCIsZnVuY3Rpb25hbDM6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDQ6XCIjNkNBREU1XCIsZnVuY3Rpb25hbDU6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDY6XCIjODgyQkZFXCIsZnVuY3Rpb25hbDc6XCIjRjMxODE4XCIsZnVuY3Rpb25hbDg6XCIjQzkzNDAwXCIsZnVuY3Rpb25hbDk6XCIjRkY1RTYwXCIsZnVuY3Rpb25hbDEwOlwiI0Y0OEYwMFwiLHB1cnBsZTpcIiM4QzYxRkZcIixsaWdodGJsdWU6XCIjMzZDM0ZFXCIsYXF1YTpcIiMwMENDODhcIix5ZWxsb3c6XCIjRkZFQjAwXCIsc2FsbW9uOlwiI0ZGOEM0Q1wiLHBpbms6XCIjRkY1RTYwXCIsbGlnaHRwaW5rOlwiI0ZGOEZCOFwiLHdoaXRlMDA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMClcIix3aGl0ZTEwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjEpXCIsd2hpdGUyMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4yKVwiLHdoaXRlMzA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMylcIix3aGl0ZTQwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjQpXCIsd2hpdGU1MDpcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiLHdoaXRlNjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNilcIix3aGl0ZTcwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCIsd2hpdGU4MDpcInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiLHdoaXRlOTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIixibGFjazAwOlwicmdiYSgwLDAsMCwwLjApXCIsYmxhY2sxMDpcInJnYmEoMCwwLDAsMC4xKVwiLGJsYWNrMjA6XCJyZ2JhKDAsMCwwLDAuMilcIixibGFjazMwOlwicmdiYSgwLDAsMCwwLjMpXCIsYmxhY2s0MDpcInJnYmEoMCwwLDAsMC40KVwiLGJsYWNrNTA6XCJyZ2JhKDAsMCwwLDAuNSlcIixibGFjazYwOlwicmdiYSgwLDAsMCwwLjYpXCIsYmxhY2s3MDpcInJnYmEoMCwwLDAsMC43KVwiLGJsYWNrODA6XCJyZ2JhKDAsMCwwLDAuOClcIixibGFjazkwOlwicmdiYSgwLDAsMCwwLjkpXCIsdHJhbnNwYXJlbnQ6XCJ0cmFuc3BhcmVudFwifSx0LlNpemU9e3hzbWFsbDpcInhzbWFsbFwiLHNtYWxsOlwic21hbGxcIixiYXNlOlwiYmFzZVwiLGxhcmdlOlwibGFyZ2VcIix4bGFyZ2U6XCJ4bGFyZ2VcIix4eGxhcmdlOlwieHhsYXJnZVwiLHh4eGxhcmdlOlwieHh4bGFyZ2VcIix4eHh4bGFyZ2U6XCJ4eHh4bGFyZ2VcIn0sdC5TaXplTmFtZT17W3QuU2l6ZS54c21hbGxdOlwiRXh0cmEgU21hbGxcIixbdC5TaXplLnNtYWxsXTpcIlNtYWxsXCIsW3QuU2l6ZS5iYXNlXTpcIkJhc2VcIixbdC5TaXplLmxhcmdlXTpcIkxhcmdlXCIsW3QuU2l6ZS54bGFyZ2VdOlwiRXh0cmEgTGFyZ2VcIixbdC5TaXplLnh4bGFyZ2VdOlwiMlggTGFyZ2VcIixbdC5TaXplLnh4eGxhcmdlXTpcIjNYIExhcmdlXCIsW3QuU2l6ZS54eHh4bGFyZ2VdOlwiNFggTGFyZ2VcIn0sdC5Vbml0PXtbdC5TaXplLnhzbWFsbF06NCxbdC5TaXplLnNtYWxsXTo4LFt0LlNpemUuYmFzZV06MTIsW3QuU2l6ZS5sYXJnZV06MTYsW3QuU2l6ZS54bGFyZ2VdOjIwLFt0LlNpemUueHhsYXJnZV06MjQsW3QuU2l6ZS54eHhsYXJnZV06MzIsW3QuU2l6ZS54eHh4bGFyZ2VdOjQ4fSx0LlVuaXRQeD17W3QuU2l6ZS54c21hbGxdOlwiNHB4XCIsW3QuU2l6ZS5zbWFsbF06XCI4cHhcIixbdC5TaXplLmJhc2VdOlwiMTJweFwiLFt0LlNpemUubGFyZ2VdOlwiMTZweFwiLFt0LlNpemUueGxhcmdlXTpcIjIwcHhcIixbdC5TaXplLnh4bGFyZ2VdOlwiMjRweFwiLFt0LlNpemUueHh4bGFyZ2VdOlwiMzJweFwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjQ4cHhcIn0sdC5SYWRpdXM9e1t0LlNpemUueHNtYWxsXTpcIjJweFwiLFt0LlNpemUuc21hbGxdOlwiNHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjhweFwiLFt0LlNpemUubGFyZ2VdOlwiMjRweFwiLHBpbGw6XCIxMDB2aFwiLHJvdW5kOlwiNTAlXCIsbm9uZTpcIjBcIn0sdC5TaGFkb3c9e1t0LlNpemUuYmFzZV06XCIwIDRweCA0cHggcmdiYSgwLCAwLCAwLCAwLjI1KVwifSx0LkZvbnRGYW1pbHk9W1wiSW50ZXJcIixcInN5c3RlbS11aVwiLFwiQmxpbmtNYWNTeXN0ZW1Gb250XCIsXCJTZWdvZSBVSVwiLFwiUm9ib3RvXCIsXCJPeHlnZW4tU2Fuc1wiLFwiVWJ1bnR1XCIsXCJDYW50YXJlbGxcIixcIkhlbHZldGljYSBOZXVlXCIsXCJzYW5zLXNlcmlmXCJdLmpvaW4oXCIsXCIpLHQuRm9udFNpemU9e1t0LlNpemUueHNtYWxsXTpcIjhweFwiLFt0LlNpemUuc21hbGxdOlwiMTBweFwiLFt0LlNpemUuYmFzZV06XCIxMnB4XCIsW3QuU2l6ZS5sYXJnZV06XCIxNHB4XCIsW3QuU2l6ZS54bGFyZ2VdOlwiMTZweFwiLFt0LlNpemUueHhsYXJnZV06XCIxOHB4XCIsW3QuU2l6ZS54eHhsYXJnZV06XCIyMHB4XCIsW3QuU2l6ZS54eHh4bGFyZ2VdOlwiNDBweFwifSx0LkZvbnRXZWlnaHQ9e25vcm1hbDo0MDAsYm9sZDo2MDB9LHQuTGluZUhlaWdodD17dWk6MSxoZWFkaW5nOjEuMix0ZXh0OjEuNX0sdC5UcmFuc2l0aW9uPXtiYXNlOlwiMjAwbXMgY3ViaWMtYmV6aWVyKDAuMTYsIDEsIDAuMywgMSlcIixub25lOlwiMG1zXCJ9LHQuSWNvblNpemU9e1t0LlNpemUueHNtYWxsXTp0LlVuaXRQeC5zbWFsbCxbdC5TaXplLnNtYWxsXTp0LlVuaXRQeC5iYXNlLFt0LlNpemUuYmFzZV06XCIxNXB4XCIsW3QuU2l6ZS5sYXJnZV06dC5Vbml0UHgueGxhcmdlLFt0LlNpemUueGxhcmdlXTp0LlVuaXRQeC54eGxhcmdlLFt0LlNpemUueHhsYXJnZV06dC5Vbml0UHgueHh4bGFyZ2UsW3QuU2l6ZS54eHhsYXJnZV06dC5Vbml0UHgueHh4eGxhcmdlfX0sNjg5MzooZSx0LGEpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGVUaGVtZT12b2lkIDA7Y29uc3Qgbj1hKDIzMTcpLG89YSgyMzQ2KSxyPWEoNTkzOSksaT17Zm9udEZhbWlseTpuLkZvbnRGYW1pbHksZm9udFNpemU6bi5Gb250U2l6ZSxmb250V2VpZ2h0Om4uRm9udFdlaWdodCxsaW5lSGVpZ2h0Om4uTGluZUhlaWdodCxpY29uU2l6ZTpuLkljb25TaXplLHJhZGl1czpuLlJhZGl1cyxzaGFkb3c6bi5TaGFkb3csdHJhbnNpdGlvbjpuLlRyYW5zaXRpb24sdW5pdDpuLlVuaXQscHg6bi5Vbml0UHh9LHM9KGUsdCk9Pih7W2Ake2V9QWN0aXZlYF06KDAsby5kYXJrZW5Db2xvcikodCwyKSxbYCR7ZX1Ib3ZlcmBdOigwLG8ubGlnaHRlbkNvbG9yKSh0LDUpLFtgJHtlfUZvY3VzZWRgXTooMCxvLmdldE1vc3RSZWFkYWJsZSkodCxbbi5Db2xvci53aGl0ZSxuLkNvbG9yLmRhcmtHcmF5NV0pLFtgJHtlfVRleHRgXTooMCxvLmdldE1vc3RSZWFkYWJsZSkodCxbbi5Db2xvci53aGl0ZSxuLkNvbG9yLmRhcmtHcmF5NV0pfSk7dC5jcmVhdGVUaGVtZT1lPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkse3BhbGV0dGU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkscyhyLlBhbGV0dGUuYnJhbmRQcmltYXJ5LGUuYnJhbmRQcmltYXJ5KSkscyhyLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnksZS5icmFuZFNlY29uZGFyeSkpfSl9LDU5Mzk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlBhbGV0dGU9dm9pZCAwLHQuUGFsZXR0ZT17YmFja2dyb3VuZDE6XCJiYWNrZ3JvdW5kMVwiLGJhY2tncm91bmQyOlwiYmFja2dyb3VuZDJcIixiYWNrZ3JvdW5kMzpcImJhY2tncm91bmQzXCIsYmFja2dyb3VuZDQ6XCJiYWNrZ3JvdW5kNFwiLGJhY2tncm91bmQ1OlwiYmFja2dyb3VuZDVcIixiYWNrZ3JvdW5kNjpcImJhY2tncm91bmQ2XCIsYnJhbmRQcmltYXJ5OlwiYnJhbmRQcmltYXJ5XCIsYnJhbmRTZWNvbmRhcnk6XCJicmFuZFNlY29uZGFyeVwiLGJyYW5kUHJpbWFyeUFjdGl2ZTpcImJyYW5kUHJpbWFyeUFjdGl2ZVwiLGJyYW5kUHJpbWFyeUhvdmVyOlwiYnJhbmRQcmltYXJ5SG92ZXJcIixicmFuZFByaW1hcnlGb2N1c2VkOlwiYnJhbmRQcmltYXJ5Rm9jdXNlZFwiLGJyYW5kUHJpbWFyeVRleHQ6XCJicmFuZFByaW1hcnlUZXh0XCIsYnJhbmRTZWNvbmRhcnlBY3RpdmU6XCJicmFuZFNlY29uZGFyeUFjdGl2ZVwiLGJyYW5kU2Vjb25kYXJ5SG92ZXI6XCJicmFuZFNlY29uZGFyeUhvdmVyXCIsYnJhbmRTZWNvbmRhcnlGb2N1c2VkOlwiYnJhbmRTZWNvbmRhcnlGb2N1c2VkXCIsYnJhbmRTZWNvbmRhcnlUZXh0OlwiYnJhbmRTZWNvbmRhcnlUZXh0XCIsaW5wdXRCYWNrZ3JvdW5kOlwiaW5wdXRCYWNrZ3JvdW5kXCIsaW5wdXRDb2xvcjpcImlucHV0Q29sb3JcIixpbnB1dFBsYWNlaG9sZGVyOlwiaW5wdXRQbGFjZWhvbGRlclwiLGlucHV0RGlzYWJsZWQ6XCJpbnB1dERpc2FibGVkXCIsaW5wdXRGb2N1c2VkOlwiaW5wdXRGb2N1c2VkXCIsaW5wdXRCb3JkZXI6XCJpbnB1dEJvcmRlclwiLHN0YXR1c1N1Y2Nlc3M6XCJzdGF0dXNTdWNjZXNzXCIsc3RhdHVzV2FybmluZzpcInN0YXR1c1dhcm5pbmdcIixzdGF0dXNDcml0aWNhbDpcInN0YXR1c0NyaXRpY2FsXCIsc3RhdHVzQWN0aXZlOlwic3RhdHVzQWN0aXZlXCIsdGV4dERlZmF1bHQ6XCJ0ZXh0RGVmYXVsdFwiLHRleHRIZWxwOlwidGV4dEhlbHBcIix0ZXh0SW5hY3RpdmU6XCJ0ZXh0SW5hY3RpdmVcIixib3JkZXJOZXV0cmFsOlwiYm9yZGVyTmV1dHJhbFwiLGNvbnRlbnRCYWNrZ3JvdW5kMTpcImNvbnRlbnRCYWNrZ3JvdW5kMVwiLGNvbnRlbnRCYWNrZ3JvdW5kMjpcImNvbnRlbnRCYWNrZ3JvdW5kMlwiLGNvbnRlbnRCYWNrZ3JvdW5kMzpcImNvbnRlbnRCYWNrZ3JvdW5kM1wiLGNvbnRlbnRCYWNrZ3JvdW5kNDpcImNvbnRlbnRCYWNrZ3JvdW5kNFwiLGNvbnRlbnRCYWNrZ3JvdW5kNTpcImNvbnRlbnRCYWNrZ3JvdW5kNVwiLGxpbmtEZWZhdWx0OlwibGlua0RlZmF1bHRcIixsaW5rSG92ZXI6XCJsaW5rSG92ZXJcIn19LDY1MzU6ZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4oZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkodCl9dmFyIHQ9L15cXHMrLyxhPS9cXHMrJC87ZnVuY3Rpb24gbihvLHIpe2lmKHI9cnx8e30sKG89b3x8XCJcIilpbnN0YW5jZW9mIG4pcmV0dXJuIG87aWYoISh0aGlzIGluc3RhbmNlb2YgbikpcmV0dXJuIG5ldyBuKG8scik7dmFyIGk9ZnVuY3Rpb24obil7dmFyIG8scixpLHM9e3I6MCxnOjAsYjowfSxjPTEsbD1udWxsLGQ9bnVsbCx1PW51bGwscD0hMSx3PSExO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1mdW5jdGlvbihlKXtlPWUucmVwbGFjZSh0LFwiXCIpLnJlcGxhY2UoYSxcIlwiKS50b0xvd2VyQ2FzZSgpO3ZhciBuLG89ITE7aWYoZltlXSllPWZbZV0sbz0hMDtlbHNlIGlmKFwidHJhbnNwYXJlbnRcIj09ZSlyZXR1cm57cjowLGc6MCxiOjAsYTowLGZvcm1hdDpcIm5hbWVcIn07cmV0dXJuKG49Qi5yZ2IuZXhlYyhlKSk/e3I6blsxXSxnOm5bMl0sYjpuWzNdfToobj1CLnJnYmEuZXhlYyhlKSk/e3I6blsxXSxnOm5bMl0sYjpuWzNdLGE6bls0XX06KG49Qi5oc2wuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sbDpuWzNdfToobj1CLmhzbGEuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sbDpuWzNdLGE6bls0XX06KG49Qi5oc3YuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sdjpuWzNdfToobj1CLmhzdmEuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sdjpuWzNdLGE6bls0XX06KG49Qi5oZXg4LmV4ZWMoZSkpP3tyOk0oblsxXSksZzpNKG5bMl0pLGI6TShuWzNdKSxhOlcobls0XSksZm9ybWF0Om8/XCJuYW1lXCI6XCJoZXg4XCJ9OihuPUIuaGV4Ni5leGVjKGUpKT97cjpNKG5bMV0pLGc6TShuWzJdKSxiOk0oblszXSksZm9ybWF0Om8/XCJuYW1lXCI6XCJoZXhcIn06KG49Qi5oZXg0LmV4ZWMoZSkpP3tyOk0oblsxXStcIlwiK25bMV0pLGc6TShuWzJdK1wiXCIrblsyXSksYjpNKG5bM10rXCJcIituWzNdKSxhOlcobls0XStcIlwiK25bNF0pLGZvcm1hdDpvP1wibmFtZVwiOlwiaGV4OFwifTohIShuPUIuaGV4My5leGVjKGUpKSYme3I6TShuWzFdK1wiXCIrblsxXSksZzpNKG5bMl0rXCJcIituWzJdKSxiOk0oblszXStcIlwiK25bM10pLGZvcm1hdDpvP1wibmFtZVwiOlwiaGV4XCJ9fShuKSksXCJvYmplY3RcIj09ZShuKSYmKEUobi5yKSYmRShuLmcpJiZFKG4uYik/KG89bi5yLHI9bi5nLGk9bi5iLHM9e3I6MjU1KlAobywyNTUpLGc6MjU1KlAociwyNTUpLGI6MjU1KlAoaSwyNTUpfSxwPSEwLHc9XCIlXCI9PT1TdHJpbmcobi5yKS5zdWJzdHIoLTEpP1wicHJnYlwiOlwicmdiXCIpOkUobi5oKSYmRShuLnMpJiZFKG4udik/KGw9SShuLnMpLGQ9SShuLnYpLHM9ZnVuY3Rpb24oZSx0LGEpe2U9NipQKGUsMzYwKSx0PVAodCwxMDApLGE9UChhLDEwMCk7dmFyIG49TWF0aC5mbG9vcihlKSxvPWUtbixyPWEqKDEtdCksaT1hKigxLW8qdCkscz1hKigxLSgxLW8pKnQpLGM9biU2O3JldHVybntyOjI1NSpbYSxpLHIscixzLGFdW2NdLGc6MjU1KltzLGEsYSxpLHIscl1bY10sYjoyNTUqW3IscixzLGEsYSxpXVtjXX19KG4uaCxsLGQpLHA9ITAsdz1cImhzdlwiKTpFKG4uaCkmJkUobi5zKSYmRShuLmwpJiYobD1JKG4ucyksdT1JKG4ubCkscz1mdW5jdGlvbihlLHQsYSl7dmFyIG4sbyxyO2Z1bmN0aW9uIGkoZSx0LGEpe3JldHVybiBhPDAmJihhKz0xKSxhPjEmJihhLT0xKSxhPDEvNj9lKzYqKHQtZSkqYTphPC41P3Q6YTwyLzM/ZSsodC1lKSooMi8zLWEpKjY6ZX1pZihlPVAoZSwzNjApLHQ9UCh0LDEwMCksYT1QKGEsMTAwKSwwPT09dCluPW89cj1hO2Vsc2V7dmFyIHM9YTwuNT9hKigxK3QpOmErdC1hKnQsYz0yKmEtcztuPWkoYyxzLGUrMS8zKSxvPWkoYyxzLGUpLHI9aShjLHMsZS0xLzMpfXJldHVybntyOjI1NSpuLGc6MjU1Km8sYjoyNTUqcn19KG4uaCxsLHUpLHA9ITAsdz1cImhzbFwiKSxuLmhhc093blByb3BlcnR5KFwiYVwiKSYmKGM9bi5hKSksYz12KGMpLHtvazpwLGZvcm1hdDpuLmZvcm1hdHx8dyxyOk1hdGgubWluKDI1NSxNYXRoLm1heChzLnIsMCkpLGc6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuZywwKSksYjpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5iLDApKSxhOmN9fShvKTt0aGlzLl9vcmlnaW5hbElucHV0PW8sdGhpcy5fcj1pLnIsdGhpcy5fZz1pLmcsdGhpcy5fYj1pLmIsdGhpcy5fYT1pLmEsdGhpcy5fcm91bmRBPU1hdGgucm91bmQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzLl9mb3JtYXQ9ci5mb3JtYXR8fGkuZm9ybWF0LHRoaXMuX2dyYWRpZW50VHlwZT1yLmdyYWRpZW50VHlwZSx0aGlzLl9yPDEmJih0aGlzLl9yPU1hdGgucm91bmQodGhpcy5fcikpLHRoaXMuX2c8MSYmKHRoaXMuX2c9TWF0aC5yb3VuZCh0aGlzLl9nKSksdGhpcy5fYjwxJiYodGhpcy5fYj1NYXRoLnJvdW5kKHRoaXMuX2IpKSx0aGlzLl9vaz1pLm9rfWZ1bmN0aW9uIG8oZSx0LGEpe2U9UChlLDI1NSksdD1QKHQsMjU1KSxhPVAoYSwyNTUpO3ZhciBuLG8scj1NYXRoLm1heChlLHQsYSksaT1NYXRoLm1pbihlLHQsYSkscz0ocitpKS8yO2lmKHI9PWkpbj1vPTA7ZWxzZXt2YXIgYz1yLWk7c3dpdGNoKG89cz4uNT9jLygyLXItaSk6Yy8ocitpKSxyKXtjYXNlIGU6bj0odC1hKS9jKyh0PGE/NjowKTticmVhaztjYXNlIHQ6bj0oYS1lKS9jKzI7YnJlYWs7Y2FzZSBhOm49KGUtdCkvYys0fW4vPTZ9cmV0dXJue2g6bixzOm8sbDpzfX1mdW5jdGlvbiByKGUsdCxhKXtlPVAoZSwyNTUpLHQ9UCh0LDI1NSksYT1QKGEsMjU1KTt2YXIgbixvLHI9TWF0aC5tYXgoZSx0LGEpLGk9TWF0aC5taW4oZSx0LGEpLHM9cixjPXItaTtpZihvPTA9PT1yPzA6Yy9yLHI9PWkpbj0wO2Vsc2V7c3dpdGNoKHIpe2Nhc2UgZTpuPSh0LWEpL2MrKHQ8YT82OjApO2JyZWFrO2Nhc2UgdDpuPShhLWUpL2MrMjticmVhaztjYXNlIGE6bj0oZS10KS9jKzR9bi89Nn1yZXR1cm57aDpuLHM6byx2OnN9fWZ1bmN0aW9uIGkoZSx0LGEsbil7dmFyIG89W3goTWF0aC5yb3VuZChlKS50b1N0cmluZygxNikpLHgoTWF0aC5yb3VuZCh0KS50b1N0cmluZygxNikpLHgoTWF0aC5yb3VuZChhKS50b1N0cmluZygxNikpXTtyZXR1cm4gbiYmb1swXS5jaGFyQXQoMCk9PW9bMF0uY2hhckF0KDEpJiZvWzFdLmNoYXJBdCgwKT09b1sxXS5jaGFyQXQoMSkmJm9bMl0uY2hhckF0KDApPT1vWzJdLmNoYXJBdCgxKT9vWzBdLmNoYXJBdCgwKStvWzFdLmNoYXJBdCgwKStvWzJdLmNoYXJBdCgwKTpvLmpvaW4oXCJcIil9ZnVuY3Rpb24gcyhlLHQsYSxuKXtyZXR1cm5beChBKG4pKSx4KE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKV0uam9pbihcIlwiKX1mdW5jdGlvbiBjKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5zLT10LzEwMCxhLnM9QyhhLnMpLG4oYSl9ZnVuY3Rpb24gbChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEucys9dC8xMDAsYS5zPUMoYS5zKSxuKGEpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIG4oZSkuZGVzYXR1cmF0ZSgxMDApfWZ1bmN0aW9uIHUoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLmwrPXQvMTAwLGEubD1DKGEubCksbihhKX1mdW5jdGlvbiBwKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9SZ2IoKTtyZXR1cm4gYS5yPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuci1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksYS5nPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuZy1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksYS5iPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuYi1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksbihhKX1mdW5jdGlvbiB3KGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5sLT10LzEwMCxhLmw9QyhhLmwpLG4oYSl9ZnVuY3Rpb24gaChlLHQpe3ZhciBhPW4oZSkudG9Ic2woKSxvPShhLmgrdCklMzYwO3JldHVybiBhLmg9bzwwPzM2MCtvOm8sbihhKX1mdW5jdGlvbiBnKGUpe3ZhciB0PW4oZSkudG9Ic2woKTtyZXR1cm4gdC5oPSh0LmgrMTgwKSUzNjAsbih0KX1mdW5jdGlvbiBtKGUsdCl7aWYoaXNOYU4odCl8fHQ8PTApdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgdG8gcG9seWFkIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7Zm9yKHZhciBhPW4oZSkudG9Ic2woKSxvPVtuKGUpXSxyPTM2MC90LGk9MTtpPHQ7aSsrKW8ucHVzaChuKHtoOihhLmgraSpyKSUzNjAsczphLnMsbDphLmx9KSk7cmV0dXJuIG99ZnVuY3Rpb24gayhlKXt2YXIgdD1uKGUpLnRvSHNsKCksYT10Lmg7cmV0dXJuW24oZSksbih7aDooYSs3MiklMzYwLHM6dC5zLGw6dC5sfSksbih7aDooYSsyMTYpJTM2MCxzOnQucyxsOnQubH0pXX1mdW5jdGlvbiBiKGUsdCxhKXt0PXR8fDYsYT1hfHwzMDt2YXIgbz1uKGUpLnRvSHNsKCkscj0zNjAvYSxpPVtuKGUpXTtmb3Ioby5oPShvLmgtKHIqdD4+MSkrNzIwKSUzNjA7LS10OylvLmg9KG8uaCtyKSUzNjAsaS5wdXNoKG4obykpO3JldHVybiBpfWZ1bmN0aW9uIHkoZSx0KXt0PXR8fDY7Zm9yKHZhciBhPW4oZSkudG9Ic3YoKSxvPWEuaCxyPWEucyxpPWEudixzPVtdLGM9MS90O3QtLTspcy5wdXNoKG4oe2g6byxzOnIsdjppfSkpLGk9KGkrYyklMTtyZXR1cm4gc31uLnByb3RvdHlwZT17aXNEYXJrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnJpZ2h0bmVzcygpPDEyOH0saXNMaWdodDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzRGFyaygpfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29rfSxnZXRPcmlnaW5hbElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWdpbmFsSW5wdXR9LGdldEZvcm1hdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JtYXR9LGdldEFscGhhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F9LGdldEJyaWdodG5lc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRvUmdiKCk7cmV0dXJuKDI5OSplLnIrNTg3KmUuZysxMTQqZS5iKS8xZTN9LGdldEx1bWluYW5jZTpmdW5jdGlvbigpe3ZhciBlLHQsYSxuPXRoaXMudG9SZ2IoKTtyZXR1cm4gZT1uLnIvMjU1LHQ9bi5nLzI1NSxhPW4uYi8yNTUsLjIxMjYqKGU8PS4wMzkyOD9lLzEyLjkyOk1hdGgucG93KChlKy4wNTUpLzEuMDU1LDIuNCkpKy43MTUyKih0PD0uMDM5Mjg/dC8xMi45MjpNYXRoLnBvdygodCsuMDU1KS8xLjA1NSwyLjQpKSsuMDcyMiooYTw9LjAzOTI4P2EvMTIuOTI6TWF0aC5wb3coKGErLjA1NSkvMS4wNTUsMi40KSl9LHNldEFscGhhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hPXYoZSksdGhpcy5fcm91bmRBPU1hdGgucm91bmQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzfSx0b0hzdjpmdW5jdGlvbigpe3ZhciBlPXIodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsdjplLnYsYTp0aGlzLl9hfX0sdG9Ic3ZTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1yKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PU1hdGgucm91bmQoMzYwKmUuaCksYT1NYXRoLnJvdW5kKDEwMCplLnMpLG49TWF0aC5yb3VuZCgxMDAqZS52KTtyZXR1cm4gMT09dGhpcy5fYT9cImhzdihcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUpXCI6XCJoc3ZhKFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hzbDpmdW5jdGlvbigpe3ZhciBlPW8odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsbDplLmwsYTp0aGlzLl9hfX0sdG9Ic2xTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PU1hdGgucm91bmQoMzYwKmUuaCksYT1NYXRoLnJvdW5kKDEwMCplLnMpLG49TWF0aC5yb3VuZCgxMDAqZS5sKTtyZXR1cm4gMT09dGhpcy5fYT9cImhzbChcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUpXCI6XCJoc2xhKFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hleDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYixlKX0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuXCIjXCIrdGhpcy50b0hleChlKX0sdG9IZXg4OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsYSxuLG8pe3ZhciByPVt4KE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKSx4KEEobikpXTtyZXR1cm4gbyYmclswXS5jaGFyQXQoMCk9PXJbMF0uY2hhckF0KDEpJiZyWzFdLmNoYXJBdCgwKT09clsxXS5jaGFyQXQoMSkmJnJbMl0uY2hhckF0KDApPT1yWzJdLmNoYXJBdCgxKSYmclszXS5jaGFyQXQoMCk9PXJbM10uY2hhckF0KDEpP3JbMF0uY2hhckF0KDApK3JbMV0uY2hhckF0KDApK3JbMl0uY2hhckF0KDApK3JbM10uY2hhckF0KDApOnIuam9pbihcIlwiKX0odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsdGhpcy5fYSxlKX0sdG9IZXg4U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK3RoaXMudG9IZXg4KGUpfSx0b1JnYjpmdW5jdGlvbigpe3JldHVybntyOk1hdGgucm91bmQodGhpcy5fciksZzpNYXRoLnJvdW5kKHRoaXMuX2cpLGI6TWF0aC5yb3VuZCh0aGlzLl9iKSxhOnRoaXMuX2F9fSx0b1JnYlN0cmluZzpmdW5jdGlvbigpe3JldHVybiAxPT10aGlzLl9hP1wicmdiKFwiK01hdGgucm91bmQodGhpcy5fcikrXCIsIFwiK01hdGgucm91bmQodGhpcy5fZykrXCIsIFwiK01hdGgucm91bmQodGhpcy5fYikrXCIpXCI6XCJyZ2JhKFwiK01hdGgucm91bmQodGhpcy5fcikrXCIsIFwiK01hdGgucm91bmQodGhpcy5fZykrXCIsIFwiK01hdGgucm91bmQodGhpcy5fYikrXCIsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9QZXJjZW50YWdlUmdiOmZ1bmN0aW9uKCl7cmV0dXJue3I6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9yLDI1NSkpK1wiJVwiLGc6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9nLDI1NSkpK1wiJVwiLGI6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9iLDI1NSkpK1wiJVwiLGE6dGhpcy5fYX19LHRvUGVyY2VudGFnZVJnYlN0cmluZzpmdW5jdGlvbigpe3JldHVybiAxPT10aGlzLl9hP1wicmdiKFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiUpXCI6XCJyZ2JhKFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9OYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9hP1widHJhbnNwYXJlbnRcIjohKHRoaXMuX2E8MSkmJihTW2kodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsITApXXx8ITEpfSx0b0ZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdD1cIiNcIitzKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EpLGE9dCxvPXRoaXMuX2dyYWRpZW50VHlwZT9cIkdyYWRpZW50VHlwZSA9IDEsIFwiOlwiXCI7aWYoZSl7dmFyIHI9bihlKTthPVwiI1wiK3Moci5fcixyLl9nLHIuX2Isci5fYSl9cmV0dXJuXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoXCIrbytcInN0YXJ0Q29sb3JzdHI9XCIrdCtcIixlbmRDb2xvcnN0cj1cIithK1wiKVwifSx0b1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD0hIWU7ZT1lfHx0aGlzLl9mb3JtYXQ7dmFyIGE9ITEsbj10aGlzLl9hPDEmJnRoaXMuX2E+PTA7cmV0dXJuIHR8fCFufHxcImhleFwiIT09ZSYmXCJoZXg2XCIhPT1lJiZcImhleDNcIiE9PWUmJlwiaGV4NFwiIT09ZSYmXCJoZXg4XCIhPT1lJiZcIm5hbWVcIiE9PWU/KFwicmdiXCI9PT1lJiYoYT10aGlzLnRvUmdiU3RyaW5nKCkpLFwicHJnYlwiPT09ZSYmKGE9dGhpcy50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcoKSksXCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZXx8KGE9dGhpcy50b0hleFN0cmluZygpKSxcImhleDNcIj09PWUmJihhPXRoaXMudG9IZXhTdHJpbmcoITApKSxcImhleDRcIj09PWUmJihhPXRoaXMudG9IZXg4U3RyaW5nKCEwKSksXCJoZXg4XCI9PT1lJiYoYT10aGlzLnRvSGV4OFN0cmluZygpKSxcIm5hbWVcIj09PWUmJihhPXRoaXMudG9OYW1lKCkpLFwiaHNsXCI9PT1lJiYoYT10aGlzLnRvSHNsU3RyaW5nKCkpLFwiaHN2XCI9PT1lJiYoYT10aGlzLnRvSHN2U3RyaW5nKCkpLGF8fHRoaXMudG9IZXhTdHJpbmcoKSk6XCJuYW1lXCI9PT1lJiYwPT09dGhpcy5fYT90aGlzLnRvTmFtZSgpOnRoaXMudG9SZ2JTdHJpbmcoKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLnRvU3RyaW5nKCkpfSxfYXBwbHlNb2RpZmljYXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgYT1lLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSk7cmV0dXJuIHRoaXMuX3I9YS5fcix0aGlzLl9nPWEuX2csdGhpcy5fYj1hLl9iLHRoaXMuc2V0QWxwaGEoYS5fYSksdGhpc30sbGlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbih1LGFyZ3VtZW50cyl9LGJyaWdodGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHAsYXJndW1lbnRzKX0sZGFya2VuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHcsYXJndW1lbnRzKX0sZGVzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihjLGFyZ3VtZW50cyl9LHNhdHVyYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGwsYXJndW1lbnRzKX0sZ3JleXNjYWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGQsYXJndW1lbnRzKX0sc3BpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihoLGFyZ3VtZW50cyl9LF9hcHBseUNvbWJpbmF0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXBwbHkobnVsbCxbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwodCkpKX0sYW5hbG9nb3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oYixhcmd1bWVudHMpfSxjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oZyxhcmd1bWVudHMpfSxtb25vY2hyb21hdGljOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oeSxhcmd1bWVudHMpfSxzcGxpdGNvbXBsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihrLGFyZ3VtZW50cyl9LHRyaWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obSxbM10pfSx0ZXRyYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihtLFs0XSl9fSxuLmZyb21SYXRpbz1mdW5jdGlvbih0LGEpe2lmKFwib2JqZWN0XCI9PWUodCkpe3ZhciBvPXt9O2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJihvW3JdPVwiYVwiPT09cj90W3JdOkkodFtyXSkpO3Q9b31yZXR1cm4gbih0LGEpfSxuLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiEoIWV8fCF0KSYmbihlKS50b1JnYlN0cmluZygpPT1uKHQpLnRvUmdiU3RyaW5nKCl9LG4ucmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZnJvbVJhdGlvKHtyOk1hdGgucmFuZG9tKCksZzpNYXRoLnJhbmRvbSgpLGI6TWF0aC5yYW5kb20oKX0pfSxuLm1peD1mdW5jdGlvbihlLHQsYSl7YT0wPT09YT8wOmF8fDUwO3ZhciBvPW4oZSkudG9SZ2IoKSxyPW4odCkudG9SZ2IoKSxpPWEvMTAwO3JldHVybiBuKHtyOihyLnItby5yKSppK28ucixnOihyLmctby5nKSppK28uZyxiOihyLmItby5iKSppK28uYixhOihyLmEtby5hKSppK28uYX0pfSxuLnJlYWRhYmlsaXR5PWZ1bmN0aW9uKGUsdCl7dmFyIGE9bihlKSxvPW4odCk7cmV0dXJuKE1hdGgubWF4KGEuZ2V0THVtaW5hbmNlKCksby5nZXRMdW1pbmFuY2UoKSkrLjA1KS8oTWF0aC5taW4oYS5nZXRMdW1pbmFuY2UoKSxvLmdldEx1bWluYW5jZSgpKSsuMDUpfSxuLmlzUmVhZGFibGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciBvLHIsaSxzLGMsbD1uLnJlYWRhYmlsaXR5KGUsdCk7c3dpdGNoKHI9ITEsKGk9YSxcIkFBXCIhPT0ocz0oKGk9aXx8e2xldmVsOlwiQUFcIixzaXplOlwic21hbGxcIn0pLmxldmVsfHxcIkFBXCIpLnRvVXBwZXJDYXNlKCkpJiZcIkFBQVwiIT09cyYmKHM9XCJBQVwiKSxcInNtYWxsXCIhPT0oYz0oaS5zaXplfHxcInNtYWxsXCIpLnRvTG93ZXJDYXNlKCkpJiZcImxhcmdlXCIhPT1jJiYoYz1cInNtYWxsXCIpLG89e2xldmVsOnMsc2l6ZTpjfSkubGV2ZWwrby5zaXplKXtjYXNlXCJBQXNtYWxsXCI6Y2FzZVwiQUFBbGFyZ2VcIjpyPWw+PTQuNTticmVhaztjYXNlXCJBQWxhcmdlXCI6cj1sPj0zO2JyZWFrO2Nhc2VcIkFBQXNtYWxsXCI6cj1sPj03fXJldHVybiByfSxuLm1vc3RSZWFkYWJsZT1mdW5jdGlvbihlLHQsYSl7dmFyIG8scixpLHMsYz1udWxsLGw9MDtyPShhPWF8fHt9KS5pbmNsdWRlRmFsbGJhY2tDb2xvcnMsaT1hLmxldmVsLHM9YS5zaXplO2Zvcih2YXIgZD0wO2Q8dC5sZW5ndGg7ZCsrKShvPW4ucmVhZGFiaWxpdHkoZSx0W2RdKSk+bCYmKGw9byxjPW4odFtkXSkpO3JldHVybiBuLmlzUmVhZGFibGUoZSxjLHtsZXZlbDppLHNpemU6c30pfHwhcj9jOihhLmluY2x1ZGVGYWxsYmFja0NvbG9ycz0hMSxuLm1vc3RSZWFkYWJsZShlLFtcIiNmZmZcIixcIiMwMDBcIl0sYSkpfTt2YXIgZj1uLm5hbWVzPXthbGljZWJsdWU6XCJmMGY4ZmZcIixhbnRpcXVld2hpdGU6XCJmYWViZDdcIixhcXVhOlwiMGZmXCIsYXF1YW1hcmluZTpcIjdmZmZkNFwiLGF6dXJlOlwiZjBmZmZmXCIsYmVpZ2U6XCJmNWY1ZGNcIixiaXNxdWU6XCJmZmU0YzRcIixibGFjazpcIjAwMFwiLGJsYW5jaGVkYWxtb25kOlwiZmZlYmNkXCIsYmx1ZTpcIjAwZlwiLGJsdWV2aW9sZXQ6XCI4YTJiZTJcIixicm93bjpcImE1MmEyYVwiLGJ1cmx5d29vZDpcImRlYjg4N1wiLGJ1cm50c2llbm5hOlwiZWE3ZTVkXCIsY2FkZXRibHVlOlwiNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIjdmZmYwMFwiLGNob2NvbGF0ZTpcImQyNjkxZVwiLGNvcmFsOlwiZmY3ZjUwXCIsY29ybmZsb3dlcmJsdWU6XCI2NDk1ZWRcIixjb3Juc2lsazpcImZmZjhkY1wiLGNyaW1zb246XCJkYzE0M2NcIixjeWFuOlwiMGZmXCIsZGFya2JsdWU6XCIwMDAwOGJcIixkYXJrY3lhbjpcIjAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCJiODg2MGJcIixkYXJrZ3JheTpcImE5YTlhOVwiLGRhcmtncmVlbjpcIjAwNjQwMFwiLGRhcmtncmV5OlwiYTlhOWE5XCIsZGFya2toYWtpOlwiYmRiNzZiXCIsZGFya21hZ2VudGE6XCI4YjAwOGJcIixkYXJrb2xpdmVncmVlbjpcIjU1NmIyZlwiLGRhcmtvcmFuZ2U6XCJmZjhjMDBcIixkYXJrb3JjaGlkOlwiOTkzMmNjXCIsZGFya3JlZDpcIjhiMDAwMFwiLGRhcmtzYWxtb246XCJlOTk2N2FcIixkYXJrc2VhZ3JlZW46XCI4ZmJjOGZcIixkYXJrc2xhdGVibHVlOlwiNDgzZDhiXCIsZGFya3NsYXRlZ3JheTpcIjJmNGY0ZlwiLGRhcmtzbGF0ZWdyZXk6XCIyZjRmNGZcIixkYXJrdHVycXVvaXNlOlwiMDBjZWQxXCIsZGFya3Zpb2xldDpcIjk0MDBkM1wiLGRlZXBwaW5rOlwiZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIwMGJmZmZcIixkaW1ncmF5OlwiNjk2OTY5XCIsZGltZ3JleTpcIjY5Njk2OVwiLGRvZGdlcmJsdWU6XCIxZTkwZmZcIixmaXJlYnJpY2s6XCJiMjIyMjJcIixmbG9yYWx3aGl0ZTpcImZmZmFmMFwiLGZvcmVzdGdyZWVuOlwiMjI4YjIyXCIsZnVjaHNpYTpcImYwZlwiLGdhaW5zYm9ybzpcImRjZGNkY1wiLGdob3N0d2hpdGU6XCJmOGY4ZmZcIixnb2xkOlwiZmZkNzAwXCIsZ29sZGVucm9kOlwiZGFhNTIwXCIsZ3JheTpcIjgwODA4MFwiLGdyZWVuOlwiMDA4MDAwXCIsZ3JlZW55ZWxsb3c6XCJhZGZmMmZcIixncmV5OlwiODA4MDgwXCIsaG9uZXlkZXc6XCJmMGZmZjBcIixob3RwaW5rOlwiZmY2OWI0XCIsaW5kaWFucmVkOlwiY2Q1YzVjXCIsaW5kaWdvOlwiNGIwMDgyXCIsaXZvcnk6XCJmZmZmZjBcIixraGFraTpcImYwZTY4Y1wiLGxhdmVuZGVyOlwiZTZlNmZhXCIsbGF2ZW5kZXJibHVzaDpcImZmZjBmNVwiLGxhd25ncmVlbjpcIjdjZmMwMFwiLGxlbW9uY2hpZmZvbjpcImZmZmFjZFwiLGxpZ2h0Ymx1ZTpcImFkZDhlNlwiLGxpZ2h0Y29yYWw6XCJmMDgwODBcIixsaWdodGN5YW46XCJlMGZmZmZcIixsaWdodGdvbGRlbnJvZHllbGxvdzpcImZhZmFkMlwiLGxpZ2h0Z3JheTpcImQzZDNkM1wiLGxpZ2h0Z3JlZW46XCI5MGVlOTBcIixsaWdodGdyZXk6XCJkM2QzZDNcIixsaWdodHBpbms6XCJmZmI2YzFcIixsaWdodHNhbG1vbjpcImZmYTA3YVwiLGxpZ2h0c2VhZ3JlZW46XCIyMGIyYWFcIixsaWdodHNreWJsdWU6XCI4N2NlZmFcIixsaWdodHNsYXRlZ3JheTpcIjc4OVwiLGxpZ2h0c2xhdGVncmV5OlwiNzg5XCIsbGlnaHRzdGVlbGJsdWU6XCJiMGM0ZGVcIixsaWdodHllbGxvdzpcImZmZmZlMFwiLGxpbWU6XCIwZjBcIixsaW1lZ3JlZW46XCIzMmNkMzJcIixsaW5lbjpcImZhZjBlNlwiLG1hZ2VudGE6XCJmMGZcIixtYXJvb246XCI4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiNjZjZGFhXCIsbWVkaXVtYmx1ZTpcIjAwMDBjZFwiLG1lZGl1bW9yY2hpZDpcImJhNTVkM1wiLG1lZGl1bXB1cnBsZTpcIjkzNzBkYlwiLG1lZGl1bXNlYWdyZWVuOlwiM2NiMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiN2I2OGVlXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIwMGZhOWFcIixtZWRpdW10dXJxdW9pc2U6XCI0OGQxY2NcIixtZWRpdW12aW9sZXRyZWQ6XCJjNzE1ODVcIixtaWRuaWdodGJsdWU6XCIxOTE5NzBcIixtaW50Y3JlYW06XCJmNWZmZmFcIixtaXN0eXJvc2U6XCJmZmU0ZTFcIixtb2NjYXNpbjpcImZmZTRiNVwiLG5hdmFqb3doaXRlOlwiZmZkZWFkXCIsbmF2eTpcIjAwMDA4MFwiLG9sZGxhY2U6XCJmZGY1ZTZcIixvbGl2ZTpcIjgwODAwMFwiLG9saXZlZHJhYjpcIjZiOGUyM1wiLG9yYW5nZTpcImZmYTUwMFwiLG9yYW5nZXJlZDpcImZmNDUwMFwiLG9yY2hpZDpcImRhNzBkNlwiLHBhbGVnb2xkZW5yb2Q6XCJlZWU4YWFcIixwYWxlZ3JlZW46XCI5OGZiOThcIixwYWxldHVycXVvaXNlOlwiYWZlZWVlXCIscGFsZXZpb2xldHJlZDpcImRiNzA5M1wiLHBhcGF5YXdoaXA6XCJmZmVmZDVcIixwZWFjaHB1ZmY6XCJmZmRhYjlcIixwZXJ1OlwiY2Q4NTNmXCIscGluazpcImZmYzBjYlwiLHBsdW06XCJkZGEwZGRcIixwb3dkZXJibHVlOlwiYjBlMGU2XCIscHVycGxlOlwiODAwMDgwXCIscmViZWNjYXB1cnBsZTpcIjY2MzM5OVwiLHJlZDpcImYwMFwiLHJvc3licm93bjpcImJjOGY4ZlwiLHJveWFsYmx1ZTpcIjQxNjllMVwiLHNhZGRsZWJyb3duOlwiOGI0NTEzXCIsc2FsbW9uOlwiZmE4MDcyXCIsc2FuZHlicm93bjpcImY0YTQ2MFwiLHNlYWdyZWVuOlwiMmU4YjU3XCIsc2Vhc2hlbGw6XCJmZmY1ZWVcIixzaWVubmE6XCJhMDUyMmRcIixzaWx2ZXI6XCJjMGMwYzBcIixza3libHVlOlwiODdjZWViXCIsc2xhdGVibHVlOlwiNmE1YWNkXCIsc2xhdGVncmF5OlwiNzA4MDkwXCIsc2xhdGVncmV5OlwiNzA4MDkwXCIsc25vdzpcImZmZmFmYVwiLHNwcmluZ2dyZWVuOlwiMDBmZjdmXCIsc3RlZWxibHVlOlwiNDY4MmI0XCIsdGFuOlwiZDJiNDhjXCIsdGVhbDpcIjAwODA4MFwiLHRoaXN0bGU6XCJkOGJmZDhcIix0b21hdG86XCJmZjYzNDdcIix0dXJxdW9pc2U6XCI0MGUwZDBcIix2aW9sZXQ6XCJlZTgyZWVcIix3aGVhdDpcImY1ZGViM1wiLHdoaXRlOlwiZmZmXCIsd2hpdGVzbW9rZTpcImY1ZjVmNVwiLHllbGxvdzpcImZmMFwiLHllbGxvd2dyZWVuOlwiOWFjZDMyXCJ9LFM9bi5oZXhOYW1lcz1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIGEgaW4gZSllLmhhc093blByb3BlcnR5KGEpJiYodFtlW2FdXT1hKTtyZXR1cm4gdH0oZik7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZT1wYXJzZUZsb2F0KGUpLChpc05hTihlKXx8ZTwwfHxlPjEpJiYoZT0xKSxlfWZ1bmN0aW9uIFAoZSx0KXsoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCIuXCIpJiYxPT09cGFyc2VGbG9hdChlKX0pKGUpJiYoZT1cIjEwMCVcIik7dmFyIGE9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCIlXCIpfShlKTtyZXR1cm4gZT1NYXRoLm1pbih0LE1hdGgubWF4KDAscGFyc2VGbG9hdChlKSkpLGEmJihlPXBhcnNlSW50KGUqdCwxMCkvMTAwKSxNYXRoLmFicyhlLXQpPDFlLTY/MTplJXQvcGFyc2VGbG9hdCh0KX1mdW5jdGlvbiBDKGUpe3JldHVybiBNYXRoLm1pbigxLE1hdGgubWF4KDAsZSkpfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTYpfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIDE9PWUubGVuZ3RoP1wiMFwiK2U6XCJcIitlfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGU8PTEmJihlPTEwMCplK1wiJVwiKSxlfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIE1hdGgucm91bmQoMjU1KnBhcnNlRmxvYXQoZSkpLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBXKGUpe3JldHVybiBNKGUpLzI1NX12YXIgRCxULFIsQj0oVD1cIltcXFxcc3xcXFxcKF0rKFwiKyhEPVwiKD86Wy1cXFxcK10/XFxcXGQqXFxcXC5cXFxcZCslPyl8KD86Wy1cXFxcK10/XFxcXGQrJT8pXCIpK1wiKVssfFxcXFxzXSsoXCIrRCtcIilbLHxcXFxcc10rKFwiK0QrXCIpXFxcXHMqXFxcXCk/XCIsUj1cIltcXFxcc3xcXFxcKF0rKFwiK0QrXCIpWyx8XFxcXHNdKyhcIitEK1wiKVssfFxcXFxzXSsoXCIrRCtcIilbLHxcXFxcc10rKFwiK0QrXCIpXFxcXHMqXFxcXCk/XCIse0NTU19VTklUOm5ldyBSZWdFeHAoRCkscmdiOm5ldyBSZWdFeHAoXCJyZ2JcIitUKSxyZ2JhOm5ldyBSZWdFeHAoXCJyZ2JhXCIrUiksaHNsOm5ldyBSZWdFeHAoXCJoc2xcIitUKSxoc2xhOm5ldyBSZWdFeHAoXCJoc2xhXCIrUiksaHN2Om5ldyBSZWdFeHAoXCJoc3ZcIitUKSxoc3ZhOm5ldyBSZWdFeHAoXCJoc3ZhXCIrUiksaGV4MzovXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8saGV4NjovXiM/KFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC8saGV4NDovXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDg6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkL30pO2Z1bmN0aW9uIEUoZSl7cmV0dXJuISFCLkNTU19VTklULmV4ZWMoZSl9cmV0dXJuIG59KCl9fSxuPXt9O2Z1bmN0aW9uIG8oZSl7dmFyIHQ9bltlXTtpZih2b2lkIDAhPT10KXJldHVybiB0LmV4cG9ydHM7dmFyIHI9bltlXT17ZXhwb3J0czp7fX07cmV0dXJuIGFbZV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbyksci5leHBvcnRzfXZhciByPXt9OygoKT0+e3ZhciBlPXI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5jcmVhdGVUaGVtZT1lLlBhbGV0dGU9ZS5Db2xvcj12b2lkIDA7dmFyIHQ9bygyMzE3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkNvbG9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQ29sb3J9fSk7dmFyIGE9byg1OTM5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlBhbGV0dGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5QYWxldHRlfX0pO3ZhciBuPW8oNjg5Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjcmVhdGVUaGVtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmNyZWF0ZVRoZW1lfX0pfSkoKTt2YXIgaT10O2Zvcih2YXIgcyBpbiByKWlbc109cltzXTtyLl9fZXNNb2R1bGUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSw4Nzc6KCk9Pnt9LDY3OigpPT57fX0sdD17fTtmdW5jdGlvbiBhKG4pe3ZhciBvPXRbbl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciByPXRbbl09e2V4cG9ydHM6e319O3JldHVybiBlW25dKHIsci5leHBvcnRzLGEpLHIuZXhwb3J0c31hLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiBhLmQodCx7YTp0fSksdH0sYS5kPShlLHQpPT57Zm9yKHZhciBuIGluIHQpYS5vKHQsbikmJiFhLm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6dFtuXX0pfSxhLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLGEucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX07dmFyIG49e307KCgpPT57XCJ1c2Ugc3RyaWN0XCI7YS5yKG4pLGEuZChuLHtBcHBNYW5pZmVzdFR5cGU6KCk9PmMsQm9va21hcmtJdGVtQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT55LEJyb3dzZXJCdXR0b25UeXBlOigpPT5TLENvbG9yU2NoZW1lT3B0aW9uVHlwZTooKT0+bSxDdXN0b21BY3Rpb25DYWxsZXJUeXBlOigpPT5DLEVudGVycHJpc2VNYWluQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5iLEdsb2JhbENvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+ZyxQYWdlQ2hhbmdlRXZlbnRUeXBlOigpPT5oLFBhZ2VUYWJDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PmssUGFuZWxQb3NpdGlvbjooKT0+dyxTVVBQT1JURURfTEFOR1VBR0VTOigpPT5NLFNhdmVCdXR0b25Db250ZXh0TWVudU9wdGlvblR5cGU6KCk9PnYsU2F2ZU1vZGFsVHlwZTooKT0+eCxWaWV3VGFiTWVudU9wdGlvblR5cGU6KCk9PmYsV2luZG93VHlwZTooKT0+UCxnZXRDdXJyZW50U3luYzooKT0+QWEsaW5pdDooKT0+b3MsaW5pdERvY2tDb21wYW5pb246KCk9PmFzLHdyYXBTeW5jOigpPT5JYX0pO3ZhciBlLHQsbyxyLGkscyxjLGwsZD17fTthLnIoZCksYS5kKGQse2dldEl0ZW06KCk9PmNhLHJlbW92ZUl0ZW06KCk9PmxhLHNldEl0ZW06KCk9PnNhfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShlfHwoZT17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHR8fCh0PXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KGx8fChsPXt9KSk7dmFyIHUscCx3LGgsZyxtLGssYix5LGYsUyx2LFAsQzshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZS5BY3Rpb25CdXR0b249XCJBY3Rpb25CdXR0b25cIixlLkRyb3Bkb3duQnV0dG9uPVwiRHJvcGRvd25CdXR0b25cIn0ocHx8KHA9e30pKSxmdW5jdGlvbihlKXtlLkxlZnQ9XCJMZWZ0XCIsZS5SaWdodD1cIlJpZ2h0XCIsZS5Ub3A9XCJUb3BcIixlLkJvdHRvbT1cIkJvdHRvbVwifSh3fHwodz17fSkpLGZ1bmN0aW9uKGUpe2UuVXJsQ2hhbmdlPVwiVVJMX0NIQU5HRVwiLGUuVmlld0FkZGVkPVwiVklFV19BRERFRFwiLGUuVmlld1JlbW92ZWQ9XCJWSUVXX1JFTU9WRURcIixlLlBhZ2VDb250ZXh0QWRkZWQ9XCJQQUdFX0NPTlRFWFRfQURERURcIixlLlBhZ2VDb250ZXh0UmVtb3ZlZD1cIlBBR0VfQ09OVEVYVF9SRU1PVkVEXCJ9KGh8fChoPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdXaW5kb3c9XCJOZXdXaW5kb3dcIixlLk5ld1BhZ2U9XCJOZXdQYWdlXCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ2xvc2VXaW5kb3c9XCJDbG9zZVdpbmRvd1wiLGUuUmVzdG9yZUNoYW5nZXM9XCJSZXN0b3JlQ2hhbmdlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVuYW1lV29ya3NwYWNlPVwiUmVuYW1lV29ya3NwYWNlXCIsZS5Td2l0Y2hXb3Jrc3BhY2U9XCJTd2l0Y2hXb3Jrc3BhY2VcIixlLkRlbGV0ZVdvcmtzcGFjZT1cIkRlbGV0ZVdvcmtzcGFjZVwiLGUuRG93bmxvYWRzPVwiRG93bmxvYWRzXCIsZS5PcGVuU3RvcmVmcm9udD1cIk9wZW5TdG9yZWZyb250XCIsZS5BcHBlYXJhbmNlPVwiQXBwZWFyYW5jZVwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifShnfHwoZz17fSkpLGZ1bmN0aW9uKGUpe2UuTGlnaHQ9XCJsaWdodFwiLGUuRGFyaz1cImRhcmtcIixlLlN5c3RlbT1cInN5c3RlbVwifShtfHwobT17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlIEFzXCIsZS5OZXdQYWdlPVwiTmV3IFBhZ2VcIixlLkRlbGV0ZVBhZ2U9XCJEZWxldGUgUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZWZyZXNoPVwiUmVmcmVzaFwiLGUuQ2xvc2VPdGhlcnM9XCJDbG9zZSBvdGhlcnNcIixlLkRlbGV0ZT1cIkRlbGV0ZVwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGt8fChrPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NrPVwiTG9ja1wiLGUuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5BZGRUb0NoYW5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUGluPVwiUGluXCJ9KGJ8fChiPXt9KSksZnVuY3Rpb24oZSl7ZS5FZGl0TmFtZT1cIkVkaXQgTmFtZVwiLGUuTW92ZT1cIk1vdmVcIixlLkRlbGV0ZT1cIkRlbGV0ZVwifSh5fHwoeT17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3Vmlldz1cIk5ld1ZpZXdcIixlLkR1cGxpY2F0ZVZpZXdzPVwiRHVwbGljYXRlVmlld1wiLGUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcj1cIk9wZW5XaXRoRGVmYXVsdEJyb3dzZXJcIixlLlJlbG9hZFZpZXdzPVwiUmVsb2FkVGFiXCIsZS5DbG9zZVZpZXdzPVwiQ2xvc2VUYWJcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJSZW1vdmVGcm9tQ2hhbm5lbFwiLGUuQmFjaz1cIkJhY2tcIixlLkZvcndhcmQ9XCJGb3J3YXJkXCIsZS5QcmludD1cIlByaW50XCIsZS5QcmludEFsbD1cIlByaW50QWxsXCIsZS5QcmludFNjcmVlbj1cIlByaW50U2NyZWVuXCIsZS5DdXN0b209XCJDdXN0b21cIn0oZnx8KGY9e30pKSxmdW5jdGlvbihlKXtlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQ29sb3JMaW5raW5nPVwiQ29sb3JMaW5raW5nXCIsZS5QcmVzZXRMYXlvdXRzPVwiUHJlc2V0TGF5b3V0c1wiLGUuTG9ja1VubG9ja1BhZ2U9XCJMb2NrVW5sb2NrUGFnZVwiLGUuU2F2ZU1lbnU9XCJTYXZlTWVudVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuTWluaW1pc2U9XCJNaW5pbWlzZVwiLGUuTWF4aW1pc2U9XCJNYXhpbWlzZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KFN8fChTPXt9KSksZnVuY3Rpb24oZSl7ZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHZ8fCh2PXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiYnJvd3NlclwiLGUuUGxhdGZvcm09XCJwbGF0Zm9ybVwifShQfHwoUD17fSkpLGZ1bmN0aW9uKGUpe2UuQ3VzdG9tQnV0dG9uPVwiQ3VzdG9tQnV0dG9uXCIsZS5TdG9yZUN1c3RvbUJ1dHRvbj1cIlN0b3JlQ3VzdG9tQnV0dG9uXCIsZS5DdXN0b21Ecm9wZG93bkl0ZW09XCJDdXN0b21Ecm9wZG93bkl0ZW1cIixlLkdsb2JhbENvbnRleHRNZW51PVwiR2xvYmFsQ29udGV4dE1lbnVcIixlLlZpZXdUYWJDb250ZXh0TWVudT1cIlZpZXdUYWJDb250ZXh0TWVudVwiLGUuUGFnZVRhYkNvbnRleHRNZW51PVwiUGFnZVRhYkNvbnRleHRNZW51XCIsZS5TYXZlQnV0dG9uQ29udGV4dE1lbnU9XCJTYXZlQnV0dG9uQ29udGV4dE1lbnVcIixlLkFQST1cIkFQSVwifShDfHwoQz17fSkpO2NvbnN0IE09W1wiZW4tVVNcIixcImphLUpQXCIsXCJ6aC1DTlwiLFwia28tS1JcIixcInJ1LVJVXCIsXCJkZS1ERVwiLFwiemgtSGFudFwiXTt2YXIgeCxJOyFmdW5jdGlvbihlKXtlLlNBVkVfUEFHRT1cIlNBVkVfUEFHRVwiLGUuU0FWRV9XT1JLU1BBQ0U9XCJTQVZFX1dPUktTUEFDRVwiLGUuU0FWRV9QQUdFX0FTPVwiU0FWRV9QQUdFX0FTXCIsZS5TQVZFX1dPUktTUEFDRV9BUz1cIlNBVkVfV09SS1NQQUNFX0FTXCIsZS5SRU5BTUVfUEFHRT1cIlJFTkFNRV9QQUdFXCIsZS5SRU5BTUVfV09SS1NQQUNFPVwiUkVOQU1FX1dPUktTUEFDRVwifSh4fHwoeD17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0oSXx8KEk9e30pKTtjb25zdCBBPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sVz0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLEQ9VyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixUPVc/d2luZG93Lm9yaWdpbjpJLkxvY2FsLFI9QSYmZmluLm1lLnV1aWQsQj1BJiZmaW4ubWUubmFtZSxFPUEmJmZpbi5tZS5lbnRpdHlUeXBlLEY9KEkuTG9jYWwsSS5EZXYsSS5TdGFnaW5nLFwicHJvZFwiPT09SS5Qcm9kKSxWPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6VCtlLE49VihcImh0dHBzOi8vd29ya3NwYWNlLm9wZW5maW4uY28vd29ya3NwYWNlLzIxLjAuMTZcIiksTD1WKFwiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvMjEuMC4xNlwiKSxfPShcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZWKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJlYoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCI0MS4xMzQuMTAyLjRcIiksTz1cIjIxLjAuMTZcIjtcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0JVSUxEX1NIQSYmV09SS1NQQUNFX0JVSUxEX1NIQTt2YXIgVSxHOyFmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZS9cIixlLkhvbWVTZWFyY2g9XCIvaG9tZS8/ZGVlcGxpbms9c2VhcmNoXCIsZS5Ib21lUGFnZXNSZW5hbWU9XCIvaG9tZS9wYWdlcy9yZW5hbWUvXCIsZS5Eb2NrPVwiL2RvY2svXCIsZS5Eb2NzPVwiL3Byb3ZpZGVyL2RvY3MvXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnQvXCIsZS5EZXByZWNhdGVkQWxlcnQ9XCIvcHJvdmlkZXIvZGVwcmVjYXRlZC1hbGVydC9cIixlLkFuYWx5dGljcz1cIi9wcm92aWRlci9hbmFseXRpY3MvXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlci9cIn0oVXx8KFU9e30pKSxmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCIvYnJvd3Nlci9cIixlLkJyb3dzZXJQb3B1cE1lbnU9XCIvcG9wdXAtbWVudS9cIixlLkJyb3dzZXJQb3B1cE1lbnVTYXZlTW9kYWw9XCIvcG9wdXAtbWVudS9zYXZlLW1vZGFsL1wiLGUuQnJvd3NlclBvcHVwTWVudUxheW91dHM9XCIvcG9wdXAtbWVudS9sYXlvdXRzL2xheW91dHMvXCIsZS5Ccm93c2VyUG9wdXBNZW51Q29sb3JMaW5raW5nPVwiL3BvcHVwLW1lbnUvY29sb3ItbGlua2luZy9jb2xvci1saW5raW5nL1wiLGUuQnJvd3NlckluZGljYXRvcj1cIi9pbmRpY2F0b3IvXCIsZS5Ccm93c2VyUG9wdXBNZW51QWRkcmVzc1NlYXJjaFJlc3VsdHNWaWV3PVwiL3BvcHVwLW1lbnUvYWRkcmVzcy1zZWFyY2gtcmVzdWx0cy12aWV3L1wiLGUuUmVzcG9uc2VNb2RhbD1cIi9wb3B1cC1tZW51L3Jlc3BvbnNlLW1vZGFsL1wiLGUuQ2xvc2VDb25maXJtYXRpb25Nb2RhbD1cIi9wb3B1cC1tZW51L2Nsb3NlLWNvbmZpcm1hdGlvbi1tb2RhbC9cIixlLkVudGVycHJpc2VCcm93c2VyPVwiL2VudGVycHJpc2UvXCIsZS5FbnRlcnByaXNlQ29udGV4dE1lbnU9XCIvY29udGV4dC1tZW51L1wiLGUuRW50ZXJwcmlzZUJvb2ttYXJrRGlhbG9nPVwiL2Jvb2ttYXJrLWRpYWxvZy9cIixlLkVudGVycHJpc2VTdG9yYWdlUHJveHk9XCIvZW50ZXJwcmlzZS9zdG9yYWdlLXByb3h5XCIsZS5Ecm9wZG93bk1lbnU9XCIvZHJvcGRvd24tbWVudS9cIixlLkVudGVycHJpc2VEb2NrPVwiL2RvY2svXCJ9KEd8fChHPXt9KSk7Y29uc3QgSD17Li4uVSwuLi5HfTt2YXIgJDshZnVuY3Rpb24oZSl7ZS5TZWFyY2g9XCJzZWFyY2hcIn0oJHx8KCQ9e30pKTtjb25zdCBLPUg7YXN5bmMgZnVuY3Rpb24geigpe2NvbnN0IGU9XCJnZXRNYW5pZmVzdE92ZXJyaWRlc1wiLHttYW5pZmVzdDp0LGluaXRpYWxPcHRpb25zOmF9PWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldEluZm8oKTtyZXR1cm4gdD8ucGxhdGZvcm0ud29ya3NwYWNlfHx0Py5wbGF0Zm9ybS5ob21lfHxhPy53b3Jrc3BhY2V8fGE/LmhvbWV8fGNvbnNvbGUud2FybihgJHtlfTogTWlzc2luZyBIb21lIGRldmVsb3BtZW50IG1hbmlmZXN0IG92ZXJyaWRlcywgdXNpbmcgRGVza3RvcCBPd25lciBTZXR0aW5ncy5gKSx0Py5wbGF0Zm9ybS53b3Jrc3BhY2U/KEpTT04uc3RyaW5naWZ5KHQ/LnBsYXRmb3JtLndvcmtzcGFjZSksdD8ucGxhdGZvcm0ud29ya3NwYWNlKTp0Py5wbGF0Zm9ybS5ob21lPyhKU09OLnN0cmluZ2lmeSh0Py5wbGF0Zm9ybS5ob21lKSx0Py5wbGF0Zm9ybS5ob21lKTphPy53b3Jrc3BhY2U/KEpTT04uc3RyaW5naWZ5KGE/LndvcmtzcGFjZSksYT8ud29ya3NwYWNlKTphPy5ob21lPyhKU09OLnN0cmluZ2lmeShhPy5ob21lKSxhPy5ob21lKTp7fX1jb25zdCBKPWU9PmZpbi5TeXN0ZW0uZ2V0U3lzdGVtQXBwQ29uZmlnKGUpO2FzeW5jIGZ1bmN0aW9uIHEoKXtjb25zdCBlPVwiZ2V0RE9TT3ZlcnJpZGVzXCI7aWYoIUEpcmV0dXJuIGNvbnNvbGUud2FybihgJHtlfTogdGhlIGZpbiBBUEkgd2FzIG5vdCBhdmFpbGFibGUsIHJldHVybmluZyBubyByZXN1bHRgKSx7fTt0cnl7bGV0IHQ9YXdhaXQgSihcIndvcmtzcGFjZVwiKS5jYXRjaCgodD0+e2NvbnNvbGUud2FybihgJHtlfTogY3VzdG9tQ29uZmlnIGVudHJ5IGZvciBTeXN0ZW1BcHAgd29ya3NwYWNlIG5vdCBhdmFpbGFibGUgaW4gRGVza3RvcCBPd25lciBTZXR0aW5ncy4gJHt0Py5tZXNzYWdlfWApfSkpO3JldHVybiB0fHwodD1hd2FpdCBKKFwiaG9tZVwiKSksSlNPTi5zdHJpbmdpZnkodCksdH1jYXRjaCh0KXtpZighRilyZXR1cm57fTtpZighKHQgaW5zdGFuY2VvZiBFcnJvcikpdGhyb3cgdDtjb25zb2xlLndhcm4oYCR7ZX06IE1pc3NpbmcgV29ya3NwYWNlIERlc2t0b3AgT3duZXIgU2V0dGluZ3MgY29uZmlndXJhdGlvbiwgdXNpbmcgZGVmYXVsdHMuICR7dD8ubWVzc2FnZX1gKX1yZXR1cm57fX1sZXQgWixqO2FzeW5jIGZ1bmN0aW9uIFEoKXtpZihaKXJldHVybiBaO2NvbnN0IGU9XCJnZXRPdmVycmlkZXNcIjtpZighQSlyZXR1cm4gVyYmY29uc29sZS53YXJuKGAke2V9OiBUaGUgRmluIEFQSSB3YXMgbm90IGF2YWlsYWJsZS4gUmV0dXJuaW5nIGFuIGVtcHR5IHJlc3VsdC5gKSx7fTtjb25zdFt0LGFdPWF3YWl0IFByb21pc2UuYWxsKFtxKCkseigpXSk7cmV0dXJuIFo9ey4uLmEsLi4udCxkaXNhYmxlUnVudGltZVZhbGlkYXRpb246YS5kaXNhYmxlUnVudGltZVZhbGlkYXRpb258fHQuZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9ufSxafWZ1bmN0aW9uIFkoZSl7aj1lfWNvbnN0IFg9ZT0+ZS5yZXBsYWNlKC9cXC8kLyxcIlwiKTthc3luYyBmdW5jdGlvbiBlZSgpe2NvbnN0IGU9KGF3YWl0IFEoKSkuYnJvd3NlckJhc2VVcmw7aWYoZSl0cnl7Y29uc3QgdD1uZXcgVVJMKGUpO2lmKHQucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpKXQucGF0aG5hbWU9WCh0LnBhdGhuYW1lKTtlbHNle2lmKFwiL3dvcmtzcGFjZVwiPT09dC5wYXRobmFtZSlyZXR1cm4gdC5wYXRobmFtZSs9YC8ke099YCx0LnRvU3RyaW5nKCk7Y29uc29sZS53YXJuKGBAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm06IGJyb3dzZXJPdmVycmlkZUJhc2VVcmwgbXVzdCBiZSBhIHZhbGlkIHVybCwgd2l0aCBwYXRoOiAvd29ya3NwYWNlLiBFeHBlY3RlZCA8cHJvdG9jb2w+Oi8vPG9wdGlvbmFsIHN1YmRvbWFpbj4uPGRvbWFpbj4vd29ya3NwYWNlIGJ1dCBnb3QgJHtlfWApfX1jYXRjaCh0KXtjb25zb2xlLndhcm4oYEBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybTogYnJvd3Nlck92ZXJyaWRlQmFzZVVybCBtdXN0IGJlIGEgdmFsaWQgdXJsLiBFeHBlY3RlZCA8cHJvdG9jb2w+Oi8vPG9wdGlvbmFsIHN1YmRvbWFpbj4uPGRvbWFpbj4vd29ya3NwYWNlIGJ1dCBnb3QgJHtlfWApfXJldHVybiBqPz9MfWFzeW5jIGZ1bmN0aW9uIHRlKGU9ITEpe2NvbnN0IHQ9YXdhaXQgZWUoKStLLkJyb3dzZXI7cmV0dXJuIGU/dDpYKHQpfWFzeW5jIGZ1bmN0aW9uIGFlKGU9ITEpe2NvbnN0IHQ9YXdhaXQgZWUoKStLLkVudGVycHJpc2VCcm93c2VyO3JldHVybiBlP3Q6WCh0KX1hc3luYyBmdW5jdGlvbiBuZSgpe3JldHVybiBhd2FpdCBhZSgpK1wiL2xhbmRpbmcvXCJ9Y29uc3Qgb2U9YXN5bmMoZSx0PSExKT0+ZT9hZSh0KTp0ZSh0KTt2YXIgcmUsaWU7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi13b3Jrc3BhY2VcIixlLk9sZFdvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShyZXx8KHJlPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifShpZXx8KGllPXt9KSk7Y29uc3Qgc2U9e3V1aWQ6Un0sY2U9KHJlLldvcmtzcGFjZSxlPT57aWYoIUEpdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgaW4gYSBub24gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSl9KSxsZT0oKT0+Y2Uoc2UpO3ZhciBkZTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJTYXZlTWVudT1cIm9wZW5maW4tYnJvd3Nlci1zYXZlLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wiLGUuQ2xhc3NpY1dpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC1jbGFzc2ljLXdpbmRvd1wiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwib3BlbmZpbi1lbnRlcnByaXNlLWNvbnRleHQtbWVudVwiLGUuQnJvd3NlckFkZHJlc3NTZWFyY2hQcmVmaXg9XCJvcGVuZmluLWJyb3dzZXItbWVudS1hZGRyZXNzLXNlYXJjaC1cIixlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZ1dpbmRvdz1cIm9wZW5maW4tZW50ZXJwcmlzZS1ib29rbWFyay1kaWFsb2dcIixlLkRyb3Bkb3duTWVudT1cIm9wZW5maW4tZW50ZXJwcmlzZS1kcm9wZG93bi1tZW51XCIsZS5Eb2NrQ29tcGFuaW9uPVwib3BlbmZpbi1kb2NrLWNvbXBhbmlvblwifShkZXx8KGRlPXt9KSk7Y29uc3QgdWU9ZT0+KHtsZWZ0OihlLmxlZnQrKGUucmlnaHQ/P2UubGVmdCtlLndpZHRoKSkvMix0b3A6KGUudG9wKyhlLmJvdHRvbT8/ZS50b3ArZS5oZWlnaHQpKS8yfSk7ZnVuY3Rpb24gcGUoZSl7aWYoIUEpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3Qgd2U9e25hbWU6Qix1dWlkOlJ9O2Z1bmN0aW9uIGhlKCl7cmV0dXJuIHBlKHdlKX1kZS5Ib21lLHJlLldvcmtzcGFjZSxkZS5Eb2NrLHJlLldvcmtzcGFjZTtjb25zdCBnZT17bmFtZTpkZS5TdG9yZWZyb250LHV1aWQ6cmUuV29ya3NwYWNlfTtyZS5Xb3Jrc3BhY2UscmUuV29ya3NwYWNlO2FzeW5jIGZ1bmN0aW9uIG1lKGUpe2NvbnN0IHQ9cGUoZSk7XCJtaW5pbWl6ZWRcIj09PWF3YWl0IHQuZ2V0U3RhdGUoKSYmYXdhaXQgdC5yZXN0b3JlKCksYXdhaXQgdC5zaG93KCksYXdhaXQgdC5mb2N1cygpfWNvbnN0IGtlPWFzeW5jIGU9Pnt0cnl7Y29uc3QgdD1hd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKHtuYW1lOmUubmFtZSx1dWlkOmUudXVpZD8/ZmluLm1lLnV1aWR9KS5nZXRPcHRpb25zKCk7cmV0dXJuKFwiYnJvd3NlclwiPT09dC53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZXx8XCJlbnRlcnByaXNlXCI9PT10LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlKSYmdC53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXN9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcImlzQnJvd3NlcldpbmRvdyBlcnJvcjogXCIsZSksITF9fTthc3luYyBmdW5jdGlvbiBiZSgpe2NvbnN0IGU9YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCksdD1hd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+a2UoZS5pZGVudGl0eSkpKSk7cmV0dXJuIGUuZmlsdGVyKCgoZSxhKT0+dFthXSkpfWFzeW5jIGZ1bmN0aW9uIHllKCl7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9PmUuaWRlbnRpdHkubmFtZS5zdGFydHNXaXRoKGRlLkJyb3dzZXJNZW51KSkpfWNvbnN0IGZlPWU9PnBlKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSksU2U9KCk9PmZlKGdlKTtmdW5jdGlvbiB2ZShlLHQpe2NvbnN0IGE9ZS50b3Asbj1lLmxlZnQsbz1lLnRvcCtlLmhlaWdodCxyPWUubGVmdCtlLndpZHRoLGk9dC5tb25pdG9yUmVjdC50b3Ascz10Lm1vbml0b3JSZWN0LmxlZnQsYz10Lm1vbml0b3JSZWN0LmJvdHRvbSxsPXQubW9uaXRvclJlY3QucmlnaHQ7aWYoYT5jfHxvPGl8fG4+bHx8cjxzKXJldHVybiAwO2NvbnN0IGQ9TWF0aC5tYXgoYSxpKSx1PU1hdGgubWF4KG4scyk7cmV0dXJuKE1hdGgubWluKG8sYyktZCkqKE1hdGgubWluKHIsbCktdSkvKGUuaGVpZ2h0KmUud2lkdGgpfWFzeW5jIGZ1bmN0aW9uIFBlKGUpe2NvbnN0IHQ9YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpO3JldHVyblt0LnByaW1hcnlNb25pdG9yLC4uLnQubm9uUHJpbWFyeU1vbml0b3JzXS5yZWR1Y2UoKCh0LGEpPT57Y29uc3Qgbj12ZShlLGEpO3JldHVybiBuPnQucGVyY2VudGFnZT97cGVyY2VudGFnZTpuLG1vbml0b3I6YX06dH0pLHtwZXJjZW50YWdlOjAsbW9uaXRvcjp0LnByaW1hcnlNb25pdG9yfSkubW9uaXRvcn1jb25zdCBDZT0oZSx0KT0+e2NvbnN0IGE9ZTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybXx8KGEud29ya3NwYWNlUGxhdGZvcm09e30pLGEud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz17c2V0QXNGb3JlZ3JvdW5kOiEhdCxkZWZlclNob3dFbmFibGVkOiEwLGF1dG9TaG93OmEud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbEF1dG9TaG93fHxhLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zPy5hdXRvU2hvd3x8dm9pZCAwPT09YS5hdXRvU2hvd3x8YS5hdXRvU2hvd30sYS5hdXRvU2hvdz0hMSxhfTtjb25zdCBNZT01Nix4ZT03MjgsSWU9MTUwLEFlPWFzeW5jIGU9Pntjb25zdCB0PWU/ZmluLldpbmRvdy53cmFwU3luYyhlKTpmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCksYT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYS53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZSYmXCJlbnRlcnByaXNlXCI9PT1hLndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGV9LFdlPWU9Pntjb25zdCB0PWU/LmRlZmF1bHRXaW5kb3dPcHRpb25zPy53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZTtyZXR1cm5cImVudGVycHJpc2VcIj09PXR9O2xldCBEZTtjb25zdCBUZT1lPT57aWYoZSl0cnl7cmV0dXJuIG5ldyBVUkwoZSkucGF0aG5hbWUuaW5jbHVkZXMoSy5FbnRlcnByaXNlQnJvd3Nlcil9Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcImVycm9yIHBhcnNpbmcgdXJsOiAlT1wiLGUpfXJldHVybiExfSxSZT0oZSx0PTApPT57bGV0IGEsbixvPSExO2NvbnN0IHI9YXN5bmMgbj0+e2NvbnN0IGk9YXdhaXQgZSguLi5uKTtpZihvKXthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLHQpKSk7Y29uc3QgZT1hO3JldHVybiBhPXZvaWQgMCxvPSExLHIoZSl9cmV0dXJuIGl9O3JldHVybiguLi5lKT0+KG4/KG89ITAsYT1lKTpuPXIoZSkuY2F0Y2goKGU9Pnt0aHJvdyBjb25zb2xlLmVycm9yKFwibWFrZURlYm91bmNlZEZ1bmNcIixlKSxlfSkpLmZpbmFsbHkoKCgpPT57bj12b2lkIDB9KSksbil9O3ZhciBCZTshZnVuY3Rpb24oZSl7ZS5Ub3A9XCJ0b3BcIixlLkJlbG93PVwiYmVsb3dcIn0oQmV8fChCZT17fSkpO2NvbnN0IEVlPWFzeW5jIGU9Pnt0cnl7cmV0dXJuISFlJiZcIm1heGltaXplZFwiPT09YXdhaXQgZS5nZXRTdGF0ZSgpfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJwYXJlbnRXaW5kb3dNYXhpbWl6ZWQgLSBGYWlsZWQgdG8gZ2V0IHBhcmVudCB3aW5kb3cgc3RhdGVcIixlKSwhMX19O2FzeW5jIGZ1bmN0aW9uIEZlKGUsdCxhLG4sbyxyKXtjb25zdCBpPSEhZSYmcGUoZSkscz1hd2FpdChhc3luYyhlLHQpPT57dHJ5e3JldHVybiBlP2F3YWl0IGUuZ2V0Qm91bmRzKCk6dH1jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiZ2V0UGFyZW50V2luZG93Qm91bmRzIC0gRmFpbGVkIHRvIGdldCBwYXJlbnQgd2luZG93IGJvdW5kc1wiLGUpLHR9fSkoaSxyKTtpZihuPT09QmUuQmVsb3cpe2lmKCFpfHxhd2FpdCBFZShpKSl7Y29uc3QgZT1pPyhhd2FpdCBQZShzKSkuYXZhaWxhYmxlUmVjdDooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0O3JldHVybntsZWZ0OnVlKGUpLmxlZnQtdC8yLHRvcDpvP2UuYm90dG9tLTEyODplLmJvdHRvbSsxMix3aWR0aDp0LGhlaWdodDphfX1yZXR1cm57bGVmdDp1ZShzKS5sZWZ0LXQvMix0b3A6bz9zLmJvdHRvbS0xMjg6cy5ib3R0b20rMTIsd2lkdGg6dCxoZWlnaHQ6YX19aWYoIWl8fGF3YWl0IEVlKGkpKXtjb25zdCBlPWk/KGF3YWl0IFBlKHMpKS5hdmFpbGFibGVSZWN0Oihhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCkpLnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3Q7cmV0dXJue2xlZnQ6dWUoZSkubGVmdC10LzIsdG9wOmUudG9wKzIwLHdpZHRoOnQsaGVpZ2h0OmF9fXJldHVybntsZWZ0OnVlKHMpLmxlZnQtdC8yLHRvcDpzLnRvcCsyMCx3aWR0aDp0LGhlaWdodDphfX1SZSgoYXN5bmMgZnVuY3Rpb24oZSx0LGEsbixvKXtjb25zdCByPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1hd2FpdCBGZShlLHIud2lkdGgsci5oZWlnaHQsYSxuLG8pO2lmKDA9PT1pLndpZHRofHwwPT09aS5oZWlnaHQpcmV0dXJuO2NvbnN0IHM9aGUoKTthd2FpdCBzLnNldEJvdW5kcyhpKSxhd2FpdCBzLnNob3coKTtjb25zdCBjPXNldFRpbWVvdXQoKCgpPT5zLmNsb3NlKCkpLG4/NWUzOjNlMyksbD0oKT0+e2NsZWFyVGltZW91dChjKSxzLmNsb3NlKCl9O2lmKGUpe2NvbnN0IHQ9cGUoZSk7dC5vbihcImJvdW5kcy1jaGFuZ2luZ1wiLCgoKT0+bCgpKSksdC5vbihcImJsdXJyZWRcIiwoKCk9PmwoKSkpLHQub24oXCJtYXhpbWl6ZWRcIiwoKCk9PmwoKSkpLHQub24oXCJtaW5pbWl6ZWRcIiwoKCk9PmwoKSkpLHQub24oXCJyZXN0b3JlZFwiLCgoKT0+bCgpKSl9fSksMTApO2NvbnN0IFZlPWFzeW5jIGU9Pntjb25zdCB0PWUmJmF3YWl0IHBlKGUpLmdldEJvdW5kcygpLGE9ZT9hd2FpdCBQZSh0KTooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvcjtyZXR1cm57bGVmdDooKG49YS5hdmFpbGFibGVSZWN0KS5sZWZ0K24ucmlnaHQpLzIsdG9wOihuLnRvcCtuLmJvdHRvbSkvMn07dmFyIG59LE5lPWFzeW5jKGUsdCxhPSExKT0+e2xldCBuO2lmKGEpbj1hd2FpdCBWZSh0KTtlbHNle2NvbnN0IGU9cGUodCksYT1hd2FpdCBlLmdldEJvdW5kcygpO249bj8/dWUoYSl9Y29uc3R7ZGVmYXVsdEhlaWdodDpvLGRlZmF1bHRXaWR0aDpyfT1lO3JldHVybigoZSx0KT0+e2NvbnN0IGE9dC53aWR0aC8yLG49dC5oZWlnaHQvMjtyZXR1cm57bGVmdDpNYXRoLnJvdW5kKGUubGVmdC1hKSx0b3A6TWF0aC5yb3VuZChlLnRvcC1uKSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH19KShuLHtoZWlnaHQ6byx3aWR0aDpyfSl9O2FzeW5jIGZ1bmN0aW9uIExlKGUsdCxhPSExKXtjb25zdCBuPXQmJlwibWF4aW1pemVkXCI9PT1hd2FpdCBwZSh0KS5nZXRTdGF0ZSgpLG89YXx8bnx8IXQscj1hd2FpdCBOZShlLHQsbyk7cmV0dXJuIGF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxhPVt0LnByaW1hcnlNb25pdG9yLC4uLnQubm9uUHJpbWFyeU1vbml0b3JzXTtmb3IoY29uc3QgdCBvZiBhKWlmKDE9PT12ZShlLHQpKXJldHVybiExO3JldHVybiEwfSkocik/KGF3YWl0IHBlKHQpLmNlbnRlcigpLE5lKGUsdCxvKSk6KGNvbnNvbGUud2FybihcIlJlc3BvbnNlIG1vZGFsIGlzbid0IG9mZiBzY3JlZW4sIG5vdCBjZW50ZXJpbmcgcGFyZW50IHdpbmRvd1wiKSxyKX12YXIgX2U7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5FbnRlcnByaXNlRG9jaz1cIkVudGVycHJpc2VEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIixlLk1pY3JvZmxvdz1cIk1pY3JvZmxvd1wifShfZXx8KF9lPXt9KSk7Y29uc3QgT2U9YXN5bmMoZSx0LGE9XCJ3b3Jrc3BhY2UtbGljZW5zaW5nXCIpPT57Y29uc3Qgbj17YXBpVmVyc2lvbjp0LmFwaVZlcnNpb258fE8sY29tcG9uZW50TmFtZTplLGNvbXBvbmVudFZlcnNpb246dC5jb21wb25lbnRWZXJzaW9ufHxPLGFsbG93ZWQ6dC5hbGxvd2VkLHJlamVjdGlvbkNvZGU6dC5yZWplY3Rpb25Db2RlfTtmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6YSxkYXRhOm59KX07bGV0IFVlPSExO2NvbnN0IEdlPW5ldyBNYXAsSGU9ZT0+e2xldCB0PUdlLmdldChlLnV1aWQpO3JldHVybiB0fHwodD1JYShlKSx0Lm9uY2UoXCJjbG9zZWRcIiwoKCk9PntHZS5kZWxldGUoZS51dWlkKX0pKSxHZS5zZXQoZS51dWlkLHQpKSx0fSwkZT1hc3luYyhlLHQpPT57dHJ5e2F3YWl0IGUuX3JhaXNlQW5hbHl0aWNzKFt0XSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byByYWlzZSBhbmFseXRpY3MgZXZlbnRcIixlKX19LEtlPWFzeW5jIGU9Pnthd2FpdCAkZShIZShmaW4ubWUuaWRlbnRpdHkpLHtzb3VyY2U6XCJCcm93c2VyXCIsLi4uZX0pfTt2YXIgemU9YSg4NDcpO2NvbnN0IEplPWU9PmUucmVwbGFjZSgvW15cXGQsXS9nLFwiXCIpLnNwbGl0KFwiLFwiKSxxZT1lPT57aWYoZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbG9yIG9iamVjdCwgY2Fubm90IGNvbnZlcnQgdG8gSFNMLlwiKTtjb25zdCB0PWVbMF0vMjU1LGE9ZVsxXS8yNTUsbj1lWzJdLzI1NSxvPU1hdGgubWluKHQsYSxuKSxyPU1hdGgubWF4KHQsYSxuKSxpPXItbztsZXQgcz0wLGM9MCxsPTA7cmV0dXJuIHM9MD09PWk/MDpyPT09dD8oYS1uKS9pJTY6cj09PWE/KG4tdCkvaSsyOih0LWEpL2krNCxzPU1hdGgucm91bmQoNjAqcyksczwwJiYocys9MzYwKSxsPShyK28pLzIsYz0wPT1pPzA6aS8oMS1NYXRoLmFicygyKmwtMSkpLGM9KygxMDAqYykudG9GaXhlZCgxKSxsPSsoMTAwKmwpLnRvRml4ZWQoMSkse2hzbDpgaHNsKCR7c30sICR7Y30lLCAke2x9JSlgLGhzbGE6YGhzbCgke3N9LCAke2N9JSwgJHtsfSUsIDEpYCxodWU6cyxsaWdodG5lc3M6bCxzYXR1cmF0aW9uOmN9fSxaZT1lPT57aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ29sb3IgaXMgbm90IGRlZmluZWRcIik7Y29uc3QgdD1lLnRvTG93ZXJDYXNlKCk7bGV0IGE7aWYodC5pbmNsdWRlcyhcInJnYlwiKSl7Y29uc3QgZT1KZSh0KTtlLmxlbmd0aD4zJiZlLnBvcCgpLGE9cWUoZSkuaHVlfWlmKHQuaW5jbHVkZXMoXCIjXCIpKXtjb25zdCBlPShlPT57aWYoIWUuaW5jbHVkZXMoXCIjXCIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHZhbHVlLCBjYW5ub3QgY29udmVydCB0byBSR0IuIEhleCB2YWx1ZSBiZWdpbnMgd2l0aCBhIGhhc2h0YWcuXCIpO2xldCB0PTAsYT0wLG49MDtpZig0PT09ZS5sZW5ndGgpdD1gMHgke2VbMV19JHtlWzFdfWAsYT1gMHgke2VbMl19JHtlWzJdfWAsbj1gMHgke2VbM119JHtlWzNdfWA7ZWxzZXtpZig3IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nIGxlbmd0aCwgY2Fubm90IGNvbnZlcnQgdG8gUkdCLlwiKTt0PWAweCR7ZVsxXX0ke2VbMl19YCxhPWAweCR7ZVszXX0ke2VbNF19YCxuPWAweCR7ZVs1XX0ke2VbNl19YH1yZXR1cm5bK3QsK2EsK25dfSkodCk7YT1xZShlKS5odWV9aWYodC5pbmNsdWRlcyhcImhzbFwiKSl7YT1KZSh0KVswXX1jb25zdCBuPWE/LnRvU3RyaW5nKCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBIdWUgd2FzIHVuYWJsZSB0byBiZSBleHRyYWN0ZWQgZnJvbSBcIiR7dH1cIiwgY2hlY2sgY29sb3IgZm9ybWF0LiBBY2NlcHRlZCBmb3JtYXRzIGFyZTogcmdiKCksIHJnYmEoKSwgaGV4LCBoc2woKSwgYW5kIGhzbGEoKWApO3JldHVybiBufSxqZT0oZSx0PSExKT0+e2NvbnN0IGE9WmUoZSk7cmV0dXJuIHQ/e2JhY2tncm91bmQxOmBoc2xhKCR7YX0sIDAlLCAxMDAlLCAxKWAsYmFja2dyb3VuZDI6YGhzbGEoJHthfSwgNjclLCA5OSUsIDEpYCxiYWNrZ3JvdW5kMzpgaHNsYSgke2F9LCAyNiUsIDk2JSwgMSlgLGJhY2tncm91bmQ0OmBoc2xhKCR7YX0sIDE1JSwgOTQlLCAxKWAsYmFja2dyb3VuZDU6YGhzbGEoJHthfSwgMTAlLCA4OCUsIDEpYCxiYWNrZ3JvdW5kNjpgaHNsYSgke2F9LCA4MCUsIDgwJSwgMSlgfTp7YmFja2dyb3VuZDE6YGhzbGEoJHthfSwgOCUsIDclLCAxKWAsYmFja2dyb3VuZDI6YGhzbGEoJHthfSwgOCUsIDEzJSwgMSlgLGJhY2tncm91bmQzOmBoc2xhKCR7YX0sIDklLCAxNSUsIDEpYCxiYWNrZ3JvdW5kNDpgaHNsYSgke2F9LCA2JSwgMjMlLCAxKWAsYmFja2dyb3VuZDU6YGhzbGEoJHthfSwgMjElLCAyOCUsIDEpYCxiYWNrZ3JvdW5kNjpgaHNsYSgke2F9LCA1JSwgNTElLCAxKWB9fSxRZT0oZSx0KT0+e2NvbnN0IGE9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKG49PnthW25dPXRbbl0/dFtuXTplW25dfSkpLGF9O3ZhciBZZT1hKDg3NyksWGU9YS5uKFllKSxldD1hKDY3KSx0dD1hLm4oZXQpO2NvbnN0IGF0PXtsaWdodDp7c3ltYm9sOnR0KCk/LnNyY3x8XCJcIn0sZGFyazp7c3ltYm9sOlhlKCk/LnNyY3x8XCJcIn19LG50PVcmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO2Z1bmN0aW9uIG90KGUpe2xldCB0O2NvbnN0IGE9bmV3IFNldDtyZXR1cm4oKT0+e2lmKCFBKXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IG50O2NvbnN0IG49e2NsaWVudEFQSVZlcnNpb246T30sbz1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDpufSk7cmV0dXJuIG8ub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57YS5mb3JFYWNoKChlPT5lKCkpKSxhLmNsZWFyKCksY29uc29sZS53YXJuKGBkaXNjb25uZWN0ZWQgZnJvbSBjaGFubmVsIHByb3ZpZGVyICR7ZX1gKSx0PXZvaWQgMH0pKSxvfSkoKS50aGVuKChlPT4oZS5hZGREaXNjb25uZWN0aW9uTGlzdGVuZXI9ZT0+e2EuYWRkKGUpfSxlKSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19dmFyIHJ0LGl0OyFmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KHJ0fHwocnQ9e30pKSxmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifShpdHx8KGl0PXt9KSk7Y29uc3Qgc3Q9b3QoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLGN0PXN0O290KFwiX19zZWFyY2gtb3BlbmZpbi1icm93c2VyLWhvbWUtdG9waWNfX1wiKTt2YXIgbHQ7IWZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuQWRkUGFnZT1cImFkZFBhZ2VcIixlLkFkZERlZmF1bHRQYWdlPVwiYWRkRGVmYXVsdFBhZ2VcIixlLkdldEFsbEF0dGFjaGVkUGFnZXM9XCJnZXRBbGxBdHRhY2hlZFBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3c9XCJnZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3dcIixlLkdldFBhZ2VzRm9yV2luZG93PVwiZ2V0UGFnZXNGb3JXaW5kb3dcIixlLkdldFBhZ2VGb3JXaW5kb3c9XCJnZXRQYWdlRm9yV2luZG93XCIsZS5HZXRTYXZlZFBhZ2VNZXRhZGF0YT1cImdldFNhdmVkUGFnZU1ldGFkYXRhXCIsZS5HZXRVbmlxdWVQYWdlVGl0bGU9XCJnZXRVbmlxdWVQYWdlVGl0bGVcIixlLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuR2V0UGFnZUJ5Vmlld0lkZW50aXR5PVwiZ2V0UGFnZUJ5Vmlld0lkZW50aXR5XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLkdldFNlbGVjdGVkU2NoZW1lPVwiZ2V0U2VsZWN0ZWRTY2hlbWVcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0U2VsZWN0ZWRTY2hlbWVcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIixlLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1cInJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbD1cInJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbFwiLGUuU2V0QWN0aXZlV29ya3NwYWNlPVwic2V0QWN0aXZlV29ya3NwYWNlXCIsZS5Jc0Jyb3dzZXJJbml0aWFsaXplZD1cImlzQnJvd3NlckluaXRpYWxpemVkXCIsZS5BbmFseXRpY3M9XCJhbmFseXRpY3NJbnRlcm5hbFwiLGUuR2V0TGFuZ3VhZ2U9XCJnZXRMYW5ndWFnZVwiLGUuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbD1cImdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWxcIixlLlNldExhbmd1YWdlPVwic2V0TGFuZ3VhZ2VcIixlLkdldERvY2tQcm92aWRlckNvbmZpZz1cImdldERvY2tQcm92aWRlckNvbmZpZ1wiLGUuU2F2ZURvY2tQcm92aWRlckNvbmZpZz1cInNhdmVEb2NrUHJvdmlkZXJDb25maWdcIixlLkhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlPVwiaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2VcIixlLlNob3VsZFBhZ2VDbG9zZT1cInNob3VsZFBhZ2VDbG9zZVwiLGUuU2hvdWxkV2luZG93Q2xvc2U9XCJzaG91bGRXaW5kb3dDbG9zZVwiLGUuQ29weVBhZ2U9XCJjb3B5UGFnZVwiLGUuSGFuZGxlUGFnZUNoYW5nZXM9XCJoYW5kbGVQYWdlQ2hhbmdlc1wiLGUuTWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD1cIm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWxcIixlLlRyYWNrUmVtb3ZlZFRhYkludGVybmFsPVwidHJhY2tSZW1vdmVkVGFiSW50ZXJuYWxcIixlLlJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWw9XCJyZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsXCIsZS5UcmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWw9XCJ0cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWxcIixlLkdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsXCIsZS5HZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWxcIixlLlNlYXJjaFNpdGVzSW50ZXJuYWw9XCJzZWFyY2hTaXRlc0ludGVybmFsXCIsZS5HZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbD1cImdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsXCIsZS5HZXRDdXJhdGVkQ29udGVudEludGVybmFsPVwiZ2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbFwiLGUuSGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbD1cImhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWxcIixlLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD1cInJlZnJlc2hCb29rbWFya3NJbnRlcm5hbFwiLGUuTGF1bmNoQm9va21hcmtJbnRlcm5hbD1cImxhdW5jaEJvb2ttYXJrSW50ZXJuYWxcIixlLkdldE5vdGlmaWNhdGlvbnNDb25maWc9XCJnZXROb3RpZmljYXRpb25zQ29uZmlnXCIsZS5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw9XCJ1cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWxcIixlLlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJ1cGRhdGVDb250ZW50TWVudUludGVybmFsXCIsZS5MYXVuY2hEb2NrRW50cnlJbnRlcm5hbD1cImxhdW5jaERvY2tFbnRyeUludGVybmFsXCIsZS5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbD1cInNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsXCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJuYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWxcIixlLlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw9XCJzZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsXCIsZS5HZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWw9XCJnZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWxcIixlLkhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw9XCJoYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsXCIsZS5SZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbD1cInJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsXCIsZS5BZGREb2NrRmF2b3JpdGVJbnRlcm5hbD1cImFkZERvY2tGYXZvcml0ZUludGVybmFsXCIsZS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPVwiZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbFwifShsdHx8KGx0PXt9KSk7Y29uc3QgZHQ9YXN5bmMgZT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldENsaWVudCgpLHV0PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGR0KGUpLGE9XCJUYXJnZXQgaXMgbm90IGEgV29ya3NwYWNlIFBsYXRmb3JtLiBUYXJnZXQgbXVzdCBjYWxsIFdvcmtzcGFjZVBsYXRmb3JtLmluaXRcIjtsZXQgbjt0cnl7bj1hd2FpdCB0LmRpc3BhdGNoKFwiaXNXb3Jrc3BhY2VQbGF0Zm9ybVwiKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoXCJib29sZWFuXCI9PXR5cGVvZiBuJiZuKXJldHVybiBjb25zb2xlLndhcm4oXCJZb3UgYXJlIHVzaW5nIGFuIG9sZGVyIHZlcnNpb24gb2YgdGhlIHdvcmtzcGFjZSBwbGF0Zm9ybS4gUGxlYXNlIHVwZGF0ZSB5b3VyIHdvcmtzcGFjZSBwbGF0Zm9ybS5cIiksbjtpZihcIm9iamVjdFwiPT10eXBlb2YgbiYmbi5pc1dvcmtzcGFjZVBsYXRmb3JtKXJldHVybiBuO3Rocm93IG5ldyBFcnJvcihhKX0scHQ9YXN5bmMgZT0+KGF3YWl0IHV0KGUpLGR0KGUpKSx3dD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCB1dChlKTtpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmITAhPT10Py5pc0Jyb3dzZXJJbml0aWFsaXplZCl0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgaXMgbm90IGEgQnJvd3Nlci1lbmFibGVkIFdvcmtzcGFjZSBQbGF0Zm9ybS5cIik7cmV0dXJuIGR0KGUpfSxodD1cImRhcmtcIixndD17W3plLlBhbGV0dGUuYnJhbmRQcmltYXJ5XTpcIiMwQTc2RDNcIixbemUuUGFsZXR0ZS5zdGF0dXNTdWNjZXNzXTp6ZS5Db2xvci5mdW5jdGlvbmFsMSxbemUuUGFsZXR0ZS5zdGF0dXNXYXJuaW5nXTp6ZS5Db2xvci5mdW5jdGlvbmFsMTAsW3plLlBhbGV0dGUuc3RhdHVzQ3JpdGljYWxdOnplLkNvbG9yLmZ1bmN0aW9uYWw3LFt6ZS5QYWxldHRlLnN0YXR1c0FjdGl2ZV06emUuQ29sb3IuZnVuY3Rpb25hbDMsW3plLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQxXTpcIiMwQTc2RDNcIixbemUuUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDJdOlwiIzAwMDAwMFwiLFt6ZS5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kM106XCIjMDAwMDAwXCIsW3plLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQ0XTpcIiMwMDAwMDBcIixbemUuUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDVdOlwiIzAwMDAwMFwifSxtdD17Li4uZ3QsW3plLlBhbGV0dGUuYmFja2dyb3VuZDFdOnplLkNvbG9yLndoaXRlLFt6ZS5QYWxldHRlLmJhY2tncm91bmQyXTp6ZS5Db2xvci5saWdodEdyYXkxLFt6ZS5QYWxldHRlLmJhY2tncm91bmQzXTp6ZS5Db2xvci5saWdodEdyYXkyLFt6ZS5QYWxldHRlLmJhY2tncm91bmQ0XTp6ZS5Db2xvci5saWdodEdyYXkzLFt6ZS5QYWxldHRlLmJhY2tncm91bmQ1XTp6ZS5Db2xvci5saWdodEdyYXk0LFt6ZS5QYWxldHRlLmJhY2tncm91bmQ2XTp6ZS5Db2xvci5saWdodEdyYXk1LFt6ZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5XTp6ZS5Db2xvci5saWdodEdyYXk0LFt6ZS5QYWxldHRlLmlucHV0QmFja2dyb3VuZF06emUuQ29sb3IubGlnaHRHcmF5MyxbemUuUGFsZXR0ZS5pbnB1dENvbG9yXTp6ZS5Db2xvci5kYXJrR3JheTUsW3plLlBhbGV0dGUuaW5wdXRQbGFjZWhvbGRlcl06emUuQ29sb3IuZGFya0dyYXkyLFt6ZS5QYWxldHRlLmlucHV0RGlzYWJsZWRdOnplLkNvbG9yLm5ldXRyYWxHcmF5LFt6ZS5QYWxldHRlLmlucHV0Rm9jdXNlZF06emUuQ29sb3IubGlnaHRHcmF5NSxbemUuUGFsZXR0ZS5pbnB1dEJvcmRlcl06emUuQ29sb3IubmV1dHJhbEdyYXksW3plLlBhbGV0dGUudGV4dERlZmF1bHRdOnplLkNvbG9yLmRhcmtHcmF5NSxbemUuUGFsZXR0ZS50ZXh0SGVscF06emUuQ29sb3IuZGFya0dyYXkzLFt6ZS5QYWxldHRlLnRleHRJbmFjdGl2ZV06emUuQ29sb3IubmV1dHJhbEdyYXl9LGt0PXsuLi5ndCxbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kMV06emUuQ29sb3IuZGFya0dyYXk2LFt6ZS5QYWxldHRlLmJhY2tncm91bmQyXTp6ZS5Db2xvci5kYXJrR3JheTUsW3plLlBhbGV0dGUuYmFja2dyb3VuZDNdOnplLkNvbG9yLmRhcmtHcmF5NCxbemUuUGFsZXR0ZS5iYWNrZ3JvdW5kNF06emUuQ29sb3IuZGFya0dyYXkzLFt6ZS5QYWxldHRlLmJhY2tncm91bmQ1XTp6ZS5Db2xvci5kYXJrR3JheTIsW3plLlBhbGV0dGUuYmFja2dyb3VuZDZdOnplLkNvbG9yLmRhcmtHcmF5MSxbemUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeV06emUuQ29sb3IuZGFya0dyYXkyLFt6ZS5QYWxldHRlLmlucHV0QmFja2dyb3VuZF06emUuQ29sb3IuZGFya0dyYXkxLFt6ZS5QYWxldHRlLmlucHV0Q29sb3JdOnplLkNvbG9yLndoaXRlLFt6ZS5QYWxldHRlLmlucHV0UGxhY2Vob2xkZXJdOnplLkNvbG9yLmxpZ2h0R3JheTUsW3plLlBhbGV0dGUuaW5wdXREaXNhYmxlZF06emUuQ29sb3IubmV1dHJhbEdyYXksW3plLlBhbGV0dGUuaW5wdXRGb2N1c2VkXTp6ZS5Db2xvci5saWdodEdyYXk1LFt6ZS5QYWxldHRlLmlucHV0Qm9yZGVyXTp6ZS5Db2xvci5uZXV0cmFsR3JheSxbemUuUGFsZXR0ZS50ZXh0RGVmYXVsdF06emUuQ29sb3Iud2hpdGUsW3plLlBhbGV0dGUudGV4dEhlbHBdOnplLkNvbG9yLmxpZ2h0R3JheTUsW3plLlBhbGV0dGUudGV4dEluYWN0aXZlXTp6ZS5Db2xvci5uZXV0cmFsR3JheX0sYnQ9W3tsYWJlbDpcIk9wZW5GaW4gRGVmYXVsdCBMaWdodCBhbmQgRGFyayBUaGVtZVwiLHBhbGV0dGVzOntsaWdodDp7Li4ubXQsYnJhbmRQcmltYXJ5OlwiIzBBNzZEM1wiLGJyYW5kU2Vjb25kYXJ5OnplLkNvbG9yLmxpZ2h0R3JheTQsYmFja2dyb3VuZFByaW1hcnk6emUuQ29sb3IuZGFya0dyYXk1fSxkYXJrOnsuLi5rdCxicmFuZFByaW1hcnk6XCIjMEE3NkQzXCIsYnJhbmRTZWNvbmRhcnk6emUuQ29sb3IuZGFya0dyYXkyLGJhY2tncm91bmRQcmltYXJ5OnplLkNvbG9yLmRhcmtHcmF5NX19fV0seXQ9ZT0+e2NvbnN0e2JhY2tncm91bmQ6dCxmb3JlZ3JvdW5kOmF9PWU7cmV0dXJue2JhY2tncm91bmQ6dCxmb3JlZ3JvdW5kOmE/P1wiI0ZGRkZGRlwifX0sZnQ9KGUsdCk9Pih7aWNvbnM6e3N5bWJvbDplLmJyYW5kPy5pY29ucz8uW3RdPy5zeW1ib2x8fGF0W3RdLnN5bWJvbH19KSxTdD1lPT57Y29uc3R7bGlnaHQ6dCxkYXJrOmF9PVwicGFsZXR0ZXNcImluIGU/ZS5wYWxldHRlczp7bGlnaHQ6ZS5wYWxldHRlLGRhcms6ZS5wYWxldHRlfSxuPVFlKGt0LGEpLG89UWUobXQsdCkscj0oKGUsdCk9Pntjb25zdCBhPXsuLi5lfSxuPXsuLi50fTtsZXQgbz10LmJhY2tncm91bmRQcmltYXJ5P2plKHQuYmFja2dyb3VuZFByaW1hcnksITApOnt9LHI9ZS5iYWNrZ3JvdW5kUHJpbWFyeT9qZShlLmJhY2tncm91bmRQcmltYXJ5KTp7fTtyZXR1cm4gbz17Li4ubywuLi5ufSxyPXsuLi5yLC4uLmF9LHtsaWdodDp7Li4udCwuLi5vfSxkYXJrOnsuLi5lLC4uLnJ9fX0pKGEsdCksaT17Li4uKDAsemUuY3JlYXRlVGhlbWUpKHsuLi5uLC4uLnI/LmRhcmt9KSxicmFuZDpmdChlLFwiZGFya1wiKX0scz17Li4uKDAsemUuY3JlYXRlVGhlbWUpKHsuLi5vLC4uLnI/LmxpZ2h0fSksYnJhbmQ6ZnQoZSxcImxpZ2h0XCIpfSx7bGlnaHQ6YyxkYXJrOmx9PShlPT57Y29uc3QgdD1PYmplY3Qua2V5cyhlLm5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9ycz8/e30pO2lmKHQ/Lmxlbmd0aCl7Y29uc3QgYT17fSxuPXt9O3JldHVybiB0LmZvckVhY2goKHQ9Pntjb25zdCBvPWUubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzW3RdO1wiYmFja2dyb3VuZFwiaW4gbz8oYVt0XT15dChvKSxuW3RdPXl0KG8pKTooYVt0XT15dChvLmRhcms/P28ubGlnaHQpLG5bdF09eXQoby5saWdodD8/by5kYXJrKSl9KSkse2xpZ2h0Om4sZGFyazphfX1yZXR1cm57bGlnaHQ6bnVsbCxkYXJrOm51bGx9fSkoZSk7cmV0dXJuIGkubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzPWwscy5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM9Yyx7ZGFyazppLGxpZ2h0OnN9fSx2dD1hc3luYyBlPT57Y29uc3R7dGhlbWVzOnQsc2VsZWN0ZWRTY2hlbWU6YX09YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluPy5fX2ludGVybmFsXz8uaW5pdGlhbE9wdGlvbnM/LndvcmtzcGFjZVBsYXRmb3JtPy5fdGhlbWVEYXRhO2lmKCF0fHxlLnV1aWQhPT13ZS51dWlkKXJldHVybnt0aGVtZXM6YXdhaXQgSWEoZSkuVGhlbWUuZ2V0VGhlbWVzKCksc2VsZWN0ZWRTY2hlbWU6YXdhaXQgSWEoZSkuVGhlbWUuZ2V0U2VsZWN0ZWRTY2hlbWUoKX07cmV0dXJuIHR9KShlKTt2YXIgbixvO3JldHVybihuPXQ/Lmxlbmd0aD90OmJ0LG89YSxuLm1hcCgoZT0+e2NvbnN0IHQ9XCJwYWxldHRlc1wiaW4gZT9lLmRlZmF1bHQ6aHQse2xpZ2h0OmEsZGFyazpufT1TdChlKTtyZXR1cm57bGFiZWw6ZS5sYWJlbCxsb2dvVXJsOmUubG9nb1VybCx0aGVtZTp7ZGFyazpuLGxpZ2h0OmF9LGRlZmF1bHRTY2hlbWU6bz8/dH19KSkpWzBdfSxQdD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBwdChlfHxmaW4ubWUuaWRlbnRpdHkpLGE9YXdhaXQgdC5kaXNwYXRjaChsdC5HZXRTZWxlY3RlZFNjaGVtZSx2b2lkIDApO3JldHVybiBhPT09bS5TeXN0ZW0/d2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXM/XCJkYXJrXCI6XCJsaWdodFwiOmF9LEN0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IHZ0KGZpbi5tZS5pZGVudGl0eSksbj1hd2FpdCBQdChmaW4ubWUuaWRlbnRpdHkpPT09bS5EYXJrLG89YT8udGhlbWU7cmV0dXJuIG8/LltuP20uRGFyazptLkxpZ2h0XT8ucGFsZXR0ZT8uW2VdfHx0fTtsZXQgTXQ7Y29uc3QgeHQ9YXN5bmMgZT0+e010fHwoTXQ9bmV3IFRleHRFbmNvZGVyKTtjb25zdCB0PU10LmVuY29kZShlKSxhPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIix0KTtyZXR1cm4gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShhKSkubWFwKChlPT5lLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSkpLmpvaW4oXCJcIil9O2Z1bmN0aW9uIEl0KGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gQXQoZSwuLi50KXtpZighdC5sZW5ndGgpcmV0dXJuIGU7Y29uc3QgYT10LnNoaWZ0KCk7cmV0dXJuIEl0KGUpJiZJdChhKSYmT2JqZWN0LmVudHJpZXMoYSkuZm9yRWFjaCgoKFt0LGFdKT0+e2lmKEl0KGEpKXJldHVybiBlW3RdfHwoZVt0XT17fSksQXQoZVt0XSxhKTtlW3RdPWF9KSksQXQoZSwuLi50KX1jb25zdCBXdD1yZXF1aXJlKFwibG9kYXNoLmRlYm91bmNlXCIpO3ZhciBEdCxUdD1hLm4oV3QpO2Z1bmN0aW9uIFJ0KCl7cmV0dXJuIHZvaWQgMCE9PXR5cGVvZiBjcnlwdG8mJlwicmFuZG9tVVVJRFwiaW4gY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjcnlwdG8ucmFuZG9tVVVJRD9jcnlwdG8ucmFuZG9tVVVJRCgpOlwiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwXCIucmVwbGFjZSgvWzAxOF0vZywoZT0+KGVeY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+PmUvNCkudG9TdHJpbmcoMTYpKSl9IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCIsZS5Eb2NrUG9zaXRpb249XCJEb2NrUG9zaXRpb25cIixlLlNlbGVjdGVkQ29sb3JTY2hlbWU9XCJTZWxlY3RlZENvbG9yU2NoZW1lXCIsZS5UaGVtZVBhbGV0dGVTaGVldD1cIlRoZW1lUGFsZXR0ZVNoZWV0XCIsZS5IYXNNb3ZlZFN0b3JlPVwiSGFzTW92ZWRTdG9yZVwiLGUuUGFnZURyYWdTdGF0ZT1cIkJyb3dzZXJQYWdlRHJhZ1N0YXRlXCJ9KER0fHwoRHQ9e30pKTtjb25zdCBCdD1EdDtmdW5jdGlvbiBFdCgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShCdC5NYWNoaW5lTmFtZSk/P1widW5rbm93blwifWxldCBGdDthc3luYyBmdW5jdGlvbiBWdCgpe3JldHVybiBGdHx8KEZ0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TWFjaGluZUlkKCkpLEZ0fWNvbnN0IE50PWU9PntpZihBcnJheS5pc0FycmF5KGUud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzKSYmKGUubGF5b3V0U25hcHNob3R8fGUubGF5b3V0KSl7Y29uc3QgdD1lLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTtpZih0KXtjb25zdCBhPWUubGF5b3V0U25hcHNob3Q/ZS5sYXlvdXRTbmFwc2hvdC5sYXlvdXRzW3QubGF5b3V0Q29udGFpbmVyS2V5XTplLmxheW91dDtpZihhKWlmKHQuaXNMb2NrZWQpe2NvbnN0IG49X2EoYSx0LmxheW91dCk7dC5sYXlvdXQ9bixlLmxheW91dD1ufWVsc2UgdC5sYXlvdXQ9YSxlLmxheW91dD1hfX1yZXR1cm4gZX07YXN5bmMgZnVuY3Rpb24gTHQoZSl7Y29uc3QgdD1lfHxhd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5nZXRTbmFwc2hvdCgpO2lmKHQuc25hcHNob3REZXRhaWxzPy5tYWNoaW5lSWQpcmV0dXJuIHQ7Y29uc3QgYT1FdCgpO3JldHVybnsuLi50LHNuYXBzaG90RGV0YWlsczp7Li4udC5zbmFwc2hvdERldGFpbHMsbWFjaGluZUlkOmF3YWl0IFZ0KCksbWFjaGluZU5hbWU6YX19fWNvbnN0IF90PWFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgVnQoKSxtYWNoaW5lTmFtZTpFdCgpfX0pLE90PWFzeW5jKGUsdCk9Pih7cGFnZUlkOlJ0KCksdGl0bGU6ZSxsYXlvdXQ6YXdhaXQgX3QodCksaXNSZWFkT25seTohMX0pLFV0PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IE90KGUudGl0bGUsRmEoZS5sYXlvdXQpKTtyZXR1cm4gZS5wYW5lbHMmJih0LnBhbmVscz1lLnBhbmVscy5tYXAoKGU9Pih7Li4uZSx2aWV3T3B0aW9uczpFYShlLnZpZXdPcHRpb25zKX0pKSkpLHsuLi5lLC4uLnR9fSxHdD1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0uTGF5b3V0LndyYXBTeW5jKGUpO3JldHVybntzaG93OmFzeW5jKCk9Pntjb25zdCBhPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm4sZGltZW5zaW9uczpvfT1hLHI9YXdhaXQgQWUoZSk7YXdhaXQgdC5yZXBsYWNlKHsuLi5hLHNldHRpbmdzOnsuLi5uLGhhc0hlYWRlcnM6ITAscmVvcmRlckVuYWJsZWQ6ITB9LGRpbWVuc2lvbnM6ey4uLm8saGVhZGVySGVpZ2h0OnI/Mjg6MzB9fSl9LGhpZGU6YXN5bmMgZT0+e2NvbnN0IGE9YXdhaXQgdC5nZXRDb25maWcoKSx7c2V0dGluZ3M6bixkaW1lbnNpb25zOm99PWF3YWl0IGE7YXdhaXQgdC5yZXBsYWNlKHsuLi5hLHNldHRpbmdzOnsuLi5uLGhhc0hlYWRlcnM6ITEscmVvcmRlckVuYWJsZWQ6ZT8uc2V0dGluZ3M/LnJlb3JkZXJFbmFibGVkPz8hMX0sZGltZW5zaW9uczp7Li4ubyxoZWFkZXJIZWlnaHQ6MH19KX0saXNTaG93aW5nVGFiczphc3luYygpPT57dHJ5e2NvbnN0IGU9YXdhaXQgdC5nZXRDb25maWcoKSx7c2V0dGluZ3M6YX09YXdhaXQgZTtyZXR1cm4gYS5oYXNIZWFkZXJzfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGdldCBsYXlvdXQgY29uZmlnOiBcIixlKSwhMH19fX0sSHQ9XCJvZi13b3Jrc3BhY2UtXCI7Y29uc3QgJHQ9bmV3IGNsYXNze21hcmsoZSl7cGVyZm9ybWFuY2UubWFyayhgJHtIdH0ke2V9YCl9bWFya1N0YXJ0KGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7SHR9JHtlfS1zdGFydGApfW1hcmtFbmQoZSl7cGVyZm9ybWFuY2UubWFyayhgJHtIdH0ke2V9LWVuZGApfW1hcmtFbmRBbmRNZWFzdXJlKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7SHR9JHtlfS1lbmRgKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7SHR9JHtlfWAsYCR7SHR9JHtlfS1zdGFydGAsYCR7SHR9JHtlfS1lbmRgKX1jYXRjaChlKXswfX1tYXJrQW5kTWVhc3VyZShlLHQpe3BlcmZvcm1hbmNlLm1hcmsoYCR7SHR9JHtlfWApO3RyeXtyZXR1cm4gcGVyZm9ybWFuY2UubWVhc3VyZShgJHtIdH0ke2V9LW1lYXN1cmVgLGAke0h0fSR7dH0tc3RhcnRgLGAke0h0fSR7ZX1gKX1jYXRjaChlKXswfX1yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZUVudHJpZXMoKXtyZXR1cm4gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1lYXN1cmVcIikuZmlsdGVyKChlPT5lLm5hbWUuc3RhcnRzV2l0aChIdCkpKX1yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZSgpe3JldHVybiB0aGlzLnJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlRW50cmllcygpLm1hcCgoZT0+KHtuYW1lOmUubmFtZS5yZXBsYWNlKGAke0h0fWAsXCJcIikucmVwbGFjZShcIi1tZWFzdXJlXCIsXCJcIiksZHVyYXRpb246ZS5kdXJhdGlvbn0pKSl9fSxLdD0oZSx0KT0+dD9gJHt0fS0ke2UudXVpZH0tJHtlLm5hbWV9YDpgX19icm93c2VyX3dpbmRvd19fLSR7ZS51dWlkfS0ke2UubmFtZX1gLHp0PW5ldyBNYXAsSnQ9ZT0+KHp0LmhhcyhlKXx8enQuc2V0KGUsb3QoZSkpLHp0LmdldChlKSgpKSxxdD0oZSx0KT0+e2NvbnN0IGE9S3QoZSx0KTtyZXR1cm4gSnQoYSl9O3ZhciBadCxqdCxRdCxZdCxYdDshZnVuY3Rpb24oZSl7ZS5DbG9zZUJyb3dzZXJXaW5kb3c9XCJjbG9zZS1icm93c2VyLXdpbmRvd1wiLGUuUXVpdFBsYXRmb3JtPVwicXVpdC1wbGF0Zm9ybVwiLGUuQ2xvc2VQYWdlPVwiY2xvc2UtcGFnZVwiLGUuQWRkVG9DaGFubmVsPVwiYWRkLXRvLWNoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwicmVtb3ZlLWZyb20tY2hhbm5lbFwiLGUuT3BlblNhdmVNb2RhbEludGVybmFsPVwib3Blbi1zYXZlLW1vZGFsLWludGVybmFsXCIsZS5EdXBsaWNhdGVQYWdlPVwiZHVwbGljYXRlLXBhZ2VcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0LXNlbGVjdGVkLXNjaGVtZVwiLGUuU2hvd0Jyb3dzZXJJbmRpY2F0b3I9XCJzaG93LWJyb3dzZXItaW5kaWNhdG9yXCIsZS5TZXRTZWxlY3RlZExhbmd1YWdlPVwic2V0LXNlbGVjdGVkLWxhbmd1YWdlXCIsZS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWw9XCJyZWZyZXNoLWJvb2ttYXJrc1wiLGUuR2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzSW50ZXJuYWw9XCJnZXQtbGF5b3V0cy13aXRoLXNlbGVjdGVkLXZpZXdzXCIsZS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPVwiZm9jdXMtYW5kLWV4cGFuZC1zZWFyY2hcIn0oWnR8fChadD17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0UGFnZXM9XCJnZXQtcGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJnZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaC1wYWdlcy1mcm9tLXdpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cInNldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5SZW5hbWVQYWdlPVwicmVuYW1lLXBhZ2VcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXItcGFnZXMtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZS1wYWdlLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucz1cInVwZGF0ZS1wYWdlcy13aW5kb3ctb3B0aW9uc1wiLGUuSXNEZXRhY2hpbmdQYWdlcz1cImlzLWRldGFjaGluZy1wYWdlc1wiLGUuSXNBY3RpdmVQYWdlQ2hhbmdpbmc9XCJpcy1hY3RpdmUtcGFnZS1jaGFuZ2luZ1wifShqdHx8KGp0PXt9KSksZnVuY3Rpb24oZSl7ZS5HZXRBcHBzPVwiZ2V0LWFwcHNcIixlLkdldEN1cmF0ZWRDb250ZW50PVwiZ2V0LWN1cmF0ZWQtY29udGVudFwiLGUuR2V0UmVjZW50bHlWaXNpdGVkPVwiZ2V0LXJlY2VudGx5LXZpc2l0ZWRcIixlLkdldFNlYXJjaFByb3ZpZGVycz1cImdldC1zZWFyY2gtcHJvdmlkZXJzXCJ9KFF0fHwoUXQ9e30pKSxmdW5jdGlvbihlKXtlLkNyZWF0ZUJvb2ttYXJrTm9kZT1cImNyZWF0ZS1ib29rbWFyay1ub2RlXCIsZS5HZXRCb29rbWFya05vZGU9XCJnZXQtYm9va21hcmstbm9kZVwiLGUuU2VhcmNoQm9va21hcmtOb2Rlcz1cInNlYXJjaC1ib29rbWFyay1ub2Rlc1wiLGUuVXBkYXRlQm9va21hcmtOb2RlPVwidXBkYXRlLWJvb2ttYXJrLW5vZGVcIixlLkRlbGV0ZUJvb2ttYXJrTm9kZT1cImRlbGV0ZS1ib29rbWFyay1ub2RlXCJ9KFl0fHwoWXQ9e30pKSxmdW5jdGlvbihlKXtlLlVwZGF0ZUZhdm9yaXRlRW50cmllcz1cInVwZGF0ZS1mYXZvcml0ZS1lbnRyaWVzXCIsZS5VcGRhdGVDb250ZW50TWVudT1cInVwZGF0ZS1jb250ZW50LW1lbnVcIixlLk5hdmlnYXRlQ29udGVudE1lbnU9XCJuYXZpZ2F0ZS1jb250ZW50LW1lbnVcIn0oWHR8fChYdD17fSkpO2NvbnN0IGVhPXsuLi5adCwuLi5qdCwuLi5YdH0sdGE9b3QoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluPy5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLWJvb2ttYXJrc2ApLGFhPWU9Pih7aWRlbnRpdHk6ZSxvcGVuZmluV2luZG93OmZpbi5XaW5kb3cud3JhcFN5bmMoZSksX2Jvb2ttYXJrczp7X2NyZWF0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IHRhKCkpLmRpc3BhdGNoKFl0LkNyZWF0ZUJvb2ttYXJrTm9kZSxlKSkoZSksX2dldEJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IHRhKCkpLmRpc3BhdGNoKFl0LkdldEJvb2ttYXJrTm9kZSxlKSkoZSksX3NlYXJjaEJvb2ttYXJrTm9kZXM6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCB0YSgpKS5kaXNwYXRjaChZdC5TZWFyY2hCb29rbWFya05vZGVzLGUpKShlKSxfdXBkYXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgdGEoKSkuZGlzcGF0Y2goWXQuVXBkYXRlQm9va21hcmtOb2RlLGUpKShlKSxfZGVsZXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgdGEoKSkuZGlzcGF0Y2goWXQuRGVsZXRlQm9va21hcmtOb2RlLGUpKShlKX0sZ2V0UGFnZXM6YXN5bmMoKT0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRQYWdlc0ZvcldpbmRvdyxlKSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuR2V0UGFnZUZvcldpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pLGFkZFBhZ2U6YXN5bmMgdD0+QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9hZGRQYWdlKHQpLF9hZGRQYWdlOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IHd0KGUpLG89e2lkZW50aXR5OmUscGFnZTp0LGluc2VydGlvbkluZGV4OmE/LmluZGV4LG11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I6YT8ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcn07cmV0dXJuIG4uZGlzcGF0Y2gobHQuQWRkUGFnZSxvKX0scmVtb3ZlUGFnZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkRldGFjaFBhZ2VzRnJvbVdpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWRzOlt0XX0pLHJlcGFyZW50UGFnZTphc3luYyB0PT5BYSgpLkJyb3dzZXIud3JhcFN5bmMoZSkuX3JlcGFyZW50UGFnZSh0KSxfcmVwYXJlbnRQYWdlOmFzeW5jIHQ9Pntjb25zdHtwYWdlSWQ6YX09dCxuPWF3YWl0IHd0KGUpLG89KGF3YWl0IG4uZGlzcGF0Y2gobHQuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApKS5maW5kKCgoe3BhZ2VJZDplfSk9PmU9PT1hKSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKGBSZXBhcmVudCBQYWdlIEVycm9yOiBUYXJnZXQgcGFnZSB3aXRoIHBhZ2VJZCAke2F9IG5vdCBmb3VuZGApO28ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcj1cInJlcGFyZW50XCI7Y29uc3Qgcj17aWRlbnRpdHk6ZSxwYWdlczpbb10saW5zZXJ0aW9uSW5kZXg6dC5pbmRleH07cmV0dXJuIG4uZGlzcGF0Y2gobHQuQXR0YWNoUGFnZXNUb1dpbmRvdyxyKX0sc2V0QWN0aXZlUGFnZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LlNldEFjdGl2ZVBhZ2Use2lkZW50aXR5OmUscGFnZUlkOnR9KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHd0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChsdC5VcGRhdGVQYWdlRm9yV2luZG93LHQpfSxyZW9yZGVyUGFnZXM6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgd3QoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGx0LlJlb3JkZXJQYWdlc0ZvcldpbmRvdyx0KX0sX29wZW5HbG9iYWxDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCB3dChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobHQuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwsdCl9LHJlcGxhY2VUb29sYmFyT3B0aW9uczphc3luYyB0PT57YXdhaXQgd3QoZSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3Rvb2xiYXJPcHRpb25zOnR9fSl9LHJlcGxhY2VXaW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IHd0KGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6dH19KX0sdXBkYXRlQnJvd3NlcldpbmRvd1RpdGxlOmFzeW5jIHQ9Pntjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7XCJzdHJpbmdcIiE9dHlwZW9mIHQ/YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7dGl0bGU6dH19KTpjb25zb2xlLndhcm4oXCJUeXBlIHN0cmluZyBmb3Igd2luZG93IHRpdGxlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgV2luZG93VGl0bGUgdHlwZSBpbnN0ZWFkXCIsdCl9LF9vcGVuVmlld1RhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHd0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChsdC5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuUGFnZVRhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHd0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChsdC5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHQ9Pnthd2FpdCB3dChlKTtyZXR1cm4oYXdhaXQgcXQoZSkpLmRpc3BhdGNoKGVhLk9wZW5TYXZlTW9kYWxJbnRlcm5hbCx0KX0sX2dldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3czphc3luYygpPT4oYXdhaXQgcXQoZSkpLmRpc3BhdGNoKGVhLkdldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3c0ludGVybmFsLGUpLF9vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHd0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChsdC5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9hZGREZWZhdWx0UGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCB3dChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gobHQuQWRkRGVmYXVsdFBhZ2UsdCl9LF90cmFja1JlbW92ZWRUYWI6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5UcmFja1JlbW92ZWRUYWJJbnRlcm5hbCx0KSxfcmVzdG9yZVJlbW92ZWRUYWI6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5SZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsLHQpLF90cmFja1Zpc2l0ZWRTaXRlOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuVHJhY2tWaXNpdGVkU2l0ZUludGVybmFsLHQpLF9nZXRSZWNlbnRseVZpc2l0ZWRTaXRlczphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwsdCksX2dldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXM6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwsdCksX3NlYXJjaFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuU2VhcmNoU2l0ZXNJbnRlcm5hbCx7aWRlbnRpdHk6ZSxyZXE6dH0pLF9nZXRTZWFyY2hQcm92aWRlcnM6YXN5bmMoKT0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5HZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbCx7aWRlbnRpdHk6ZX0pLF9nZXRDdXJhdGVkQ29udGVudDphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWwse2lkZW50aXR5OmUscmVxOnR9KSxfaGFuZGxlUmVxdWVzdE5hdmlnYXRpb246YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5IYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsLHQpfSksbmE9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybnt3cmFwU3luYzplPT5hYShlKSxjcmVhdGVXaW5kb3c6YXN5bmMgYT0+e2NvbnN0IG49KCgpPT57Y29uc3QgZT1gYnJvd3Nlci13aW5kb3ctc3RhcnR1cC0ke1J0KCl9YDtyZXR1cm4gJHQubWFya1N0YXJ0KGUpLGV9KSgpOyhlPT57ZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkfSkub25jZShcIndpbmRvdy1zaG93blwiLCgoKT0+eyR0Lm1hcmtBbmRNZWFzdXJlKFwiYnJvd3Nlci13aW5kb3ctc2hvd25cIixlKX0pKX0pKG4pLGF3YWl0IHd0KGUpO2NvbnN0IG89YXdhaXQgdC5jcmVhdGVXaW5kb3coYSk7cmV0dXJuKGU9PnskdC5tYXJrQW5kTWVhc3VyZShcImJyb3dzZXItd2luZG93LXN0YXJ0ZWRcIixlKX0pKG4pLGFhKG8uaWRlbnRpdHkpfSxnZXRBbGxBdHRhY2hlZFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApLGdldEFsbFdpbmRvd3M6YXN5bmMoKT0+e2F3YWl0IHd0KGUpO3JldHVybihhd2FpdCBiZSgpKS5tYXAoKGU9PmFhKGUuaWRlbnRpdHkpKSl9LGdldFVuaXF1ZVBhZ2VUaXRsZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldFVuaXF1ZVBhZ2VUaXRsZSx0KSxnZXRMYXN0Rm9jdXNlZFdpbmRvdzphc3luYygpPT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx2b2lkIDApLGdldFBhZ2VCeVZpZXdJZGVudGl0eTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldFBhZ2VCeVZpZXdJZGVudGl0eSx0KX19LG9hPWU9Pih7Y3JlYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkNyZWF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGRlbGV0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCB3dChlKSkuZGlzcGF0Y2gobHQuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldFNhdmVkUGFnZSx0KSxnZXRQYWdlczphc3luYyB0PT4oYXdhaXQgd3QoZSkpLmRpc3BhdGNoKGx0LkdldFNhdmVkUGFnZXMsdCksc2F2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHd0KGUpKS5kaXNwYXRjaChsdC5TYXZlUGFnZSx0KSxjcmVhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5DcmVhdGVTYXZlZFdvcmtzcGFjZSx0KSxkZWxldGVXb3Jrc3BhY2U6YXN5bmMgdD0+e2NvbnN0IGE9QWEoKSxuPWF3YWl0IGEuZ2V0Q3VycmVudFdvcmtzcGFjZSgpO2lmKG4ud29ya3NwYWNlSWQ9PT10KXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlbGV0ZSBjdXJyZW50IGFjdGl2ZSB3b3Jrc3BhY2UgJHtuLnRpdGxlfWApO3JldHVybihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuRGVsZXRlU2F2ZWRXb3Jrc3BhY2UsdCl9LHVwZGF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlVwZGF0ZVNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkdldFNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZXM6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXRTYXZlZFdvcmtzcGFjZXMsdCksc2F2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlNhdmVXb3Jrc3BhY2UsdCksZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuR2V0RG9ja1Byb3ZpZGVyQ29uZmlnLHQpLHNhdmVEb2NrUHJvdmlkZXJDb25maWc6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5TYXZlRG9ja1Byb3ZpZGVyQ29uZmlnLHQpfSk7dmFyIHJhOyFmdW5jdGlvbihlKXtlLlVwZGF0ZVBsYXRmb3JtVGhlbWVTY2hlbWU9XCJ1cGRhdGUtcGxhdGZvcm0tdGhlbWUtc2NoZW1lXCJ9KHJhfHwocmE9e30pKTtjb25zdCBpYT1vdChcIm9mLXdvcmtzcGFjZS1ub3RpZmljYXRpb25zLXN5bmNcIiksc2E9KGUsdCk9Pntsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtSfS0ke2V9YCx0KX0sY2E9ZT0+bG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7Un0tJHtlfWApLGxhPWU9PmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGAke1J9LSR7ZX1gKSxkYT1tLlN5c3RlbSx1YT1lPT5PYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKChlLFt0LGFdKT0+YCR7ZX0tLXdvcmtzcGFjZS1wYWxldHRlLSR7dH06ICR7YX07YCksXCJcIikscGE9KGUsdCk9Pih7c2VsZWN0ZWRUYWI6XCJkYXJrXCI9PT10P2UuYmFja2dyb3VuZDM6ZS5iYWNrZ3JvdW5kMX0pO2NvbnN0IHdhPW5ldyBjbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3ZpZGVyU3RvcmFnZT1lLHRoaXMuZ2V0VmFyc0J5U2NoZW1lPWU9PlwiZGFya1wiPT09ZT90aGlzLmRhcmtQYWxldHRlVmFyczp0aGlzLmxpZ2h0UGFsZXR0ZVZhcnMsdGhpcy5zZXRXb3Jrc3BhY2VTdG9yYWdlUHJveHk9ZT0+e3RoaXMud29ya3NwYWNlU3RvcmFnZT1lfSx0aGlzLnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZT1hc3luYygpPT57aWYodGhpcy53b3Jrc3BhY2VTdG9yYWdlKXtjb25zdCBlPXRoaXMuZ2V0U2NoZW1lKCk7aWYoYXdhaXQgdGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0oQnQuU2VsZWN0ZWRDb2xvclNjaGVtZSxlKSx0aGlzLmRhcmtQYWxldHRlVmFycyYmdGhpcy5saWdodFBhbGV0dGVWYXJzKWlmKFwiZGFya1wiPT09ZXx8XCJsaWdodFwiPT09ZSlhd2FpdCB0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShCdC5UaGVtZVBhbGV0dGVTaGVldCxgOnJvb3R7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShlKX19YCk7ZWxzZXtjb25zdCBlPWBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXs6cm9vdCB7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShcImRhcmtcIil9fX1gLHQ9YEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KXs6cm9vdHske3RoaXMuZ2V0VmFyc0J5U2NoZW1lKFwibGlnaHRcIil9fX1gO2F3YWl0IHRoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKEJ0LlRoZW1lUGFsZXR0ZVNoZWV0LGAke3R9JHtlfWApfX19LHRoaXMuc2V0UGFsZXR0ZXM9YXN5bmMoe2xpZ2h0OmUsZGFyazp0fSk9Pnt0aGlzLmxpZ2h0UGFsZXR0ZVZhcnM9dWEoey4uLmUsLi4ucGEoZSxcImxpZ2h0XCIpfSksdGhpcy5kYXJrUGFsZXR0ZVZhcnM9dWEoey4uLnQsLi4ucGEodCxcImRhcmtcIil9KX19c2V0U2NoZW1lKGUpe3RoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0oQnQuU2VsZWN0ZWRDb2xvclNjaGVtZSxlKX1nZXRTY2hlbWUoKXtyZXR1cm4gbnVsbD09PXRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0oQnQuU2VsZWN0ZWRDb2xvclNjaGVtZSkmJnRoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0oQnQuU2VsZWN0ZWRDb2xvclNjaGVtZSxkYSksdGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShCdC5TZWxlY3RlZENvbG9yU2NoZW1lKX19KGQpLGhhPSgpPT53YSxnYT1lPT4oe2dldFRoZW1lczphc3luYygpPT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkdldFRoZW1lcyx2b2lkIDApLHNldFNlbGVjdGVkU2NoZW1lOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuU2V0U2VsZWN0ZWRTY2hlbWUsdCksZ2V0U2VsZWN0ZWRTY2hlbWU6YXN5bmMoKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXRTZWxlY3RlZFNjaGVtZSx2b2lkIDApfSksbWE9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgY3QoKTthd2FpdCB0LmRpc3BhdGNoKFwic2V0LXNlbGVjdGVkLXNjaGVtZVwiLGUpfSxrYT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBpYSgpO2F3YWl0IHQuZGlzcGF0Y2gocmEuVXBkYXRlUGxhdGZvcm1UaGVtZVNjaGVtZSx7c2NoZW1lOmV9KX0sYmE9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgYmUoKTtyZXR1cm4gUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHF0KHQuaWRlbnRpdHkpO2F3YWl0IGEuZGlzcGF0Y2goZWEuU2V0U2VsZWN0ZWRTY2hlbWUsZSl9KSkpfSx5YT1hc3luYyBlPT57Y29uc3QgdD1uZXcgQXJyYXksYT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKSxuPWF3YWl0IGEuZ2V0Vmlld3MoKTtmb3IoY29uc3QgZSBvZiBuKXstMSE9PWUuaWRlbnRpdHkubmFtZS5pbmRleE9mKGRlLkJyb3dzZXJBZGRyZXNzU2VhcmNoUHJlZml4KSYmdC5wdXNoKGUuaWRlbnRpdHkpOy0xIT09KGF3YWl0IGUuZ2V0T3B0aW9ucygpKS51cmwuaW5kZXhPZihLLkVudGVycHJpc2VCcm93c2VyKSYmdC5wdXNoKGUuaWRlbnRpdHkpfXJldHVybiBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgcXQodCxcInRoZW1lLWNoYW5nZS1saXN0ZW5lclwiKTthd2FpdCBhLmRpc3BhdGNoKGVhLlNldFNlbGVjdGVkU2NoZW1lLGUpfSkpKX0sZmE9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgeWUoKTtyZXR1cm4gUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHF0KHQuaWRlbnRpdHkpO2F3YWl0IGEuZGlzcGF0Y2goZWEuU2V0U2VsZWN0ZWRTY2hlbWUsZSl9KSkpfSxTYT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBxdCh7dXVpZDp3ZS51dWlkLG5hbWU6ZGUuRW50ZXJwcmlzZUNvbnRleHRNZW51fSk7YXdhaXQgdC5kaXNwYXRjaChlYS5TZXRTZWxlY3RlZFNjaGVtZSxlKX0sdmE9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcXQoe3V1aWQ6d2UudXVpZCxuYW1lOmRlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZ1dpbmRvd30pO2F3YWl0IHQuZGlzcGF0Y2goZWEuU2V0U2VsZWN0ZWRTY2hlbWUsZSkuY2F0Y2goKCgpPT57fSkpfSxQYT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBxdCh7dXVpZDp3ZS51dWlkLG5hbWU6ZGUuRHJvcGRvd25NZW51fSk7YXdhaXQgdC5kaXNwYXRjaChlYS5TZXRTZWxlY3RlZFNjaGVtZSxlKS5jYXRjaCgoKCk9Pnt9KSl9LENhPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHF0KHt1dWlkOndlLnV1aWQsbmFtZTpkZS5Eb2NrQ29tcGFuaW9ufSk7YXdhaXQgdC5kaXNwYXRjaChlYS5TZXRTZWxlY3RlZFNjaGVtZSxlKS5jYXRjaCgoKCk9Pnt9KSl9LE1hPWFzeW5jIGU9Pnt0cnl7Y29uc3QgdD1oYSgpO3Quc2V0U2NoZW1lKGUpLGF3YWl0IFByb21pc2UuYWxsKFt0LnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZSgpLHlhKGUpLGthKGUpLGJhKGUpLGZhKGUpLFNhKGUpLG1hKGUpLHZhKGUpLFBhKGUpLENhKGUpXSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byBzZXQgdGhlIHNlbGVjdGVkIHNjaGVtZTogXCIsZSl9fSx4YT0oKT0+e3RyeXtyZXR1cm4gaGEoKS5nZXRTY2hlbWUoKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGdldCB0aGUgc2VsZWN0ZWQgc2NoZW1lOiBcIixlKX19LElhPWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtsZXQgYTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHthcHBseVNuYXBzaG90OmFzeW5jKHQsYSk9PntpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmIXQ/LndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgYnJvd3NlciBzbmFwc2hvdFwiKTtyZXR1cm4gZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmFwcGx5U25hcHNob3QodCxhKX0sZ2V0U25hcHNob3Q6KCk9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRTbmFwc2hvdCgpLnRoZW4oKGU9PmUpKSxnZXRWaWV3U25hcHNob3Q6dD0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldFZpZXdTbmFwc2hvdCh0KSxjcmVhdGVWaWV3Oih0LGEsbik9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5jcmVhdGVWaWV3KHQsYSxuKSxsYXVuY2hBcHA6YXN5bmMgdD0+e2NvbnNvbGUud2FybihcImxhdW5jaEFwcCBtZXRob2QgaXMgZGVwcmVjYXRlZC4gSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGNyZWF0ZVZpZXcgLSBodHRwczovL2RldmVsb3BlcnMub3BlbmZpbi5jby9vZi1kb2NzL2RvY3MvcGxhdGZvcm0tZ2V0dGluZy1zdGFydGVkI2FkZC1hLXZpZXctdG8tYW4tZXhpc3Rpbmctd2luZG93IG9yICBjcmVhdGVXaW5kb3cgLSBodHRwczovL2RldmVsb3BlcnMub3BlbmZpbi5jby9vZi1kb2NzL2RvY3MvcGxhdGZvcm0tZ2V0dGluZy1zdGFydGVkI2NyZWF0ZS1hLXBsYXRmb3JtLXdpbmRvdyBpbnN0ZWFkLlwiKSx0LnRhcmdldHx8KHQudGFyZ2V0PXt1dWlkOlIsbmFtZTpCLGVudGl0eVR5cGU6RXx8XCJ1bmtub3duXCJ9KTtyZXR1cm4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkxhdW5jaEFwcCx0KX0sX2ludm9rZUN1c3RvbUFjdGlvbjphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCBwdChlKSxvPXthY3Rpb25JZDp0LHBheWxvYWQ6ey4uLmEsY2FsbGVyVHlwZTphLmNhbGxlclR5cGV8fEMuQVBJfX07cmV0dXJuIG4uZGlzcGF0Y2gobHQuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWwsbyl9LF9yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuUmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsLHQpLGdldEN1cnJlbnRXb3Jrc3BhY2U6YXN5bmMoKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXRDdXJyZW50V29ya3NwYWNlLHZvaWQgMCksYXBwbHlXb3Jrc3BhY2U6YXN5bmModCxhKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5BcHBseVdvcmtzcGFjZSx7Li4udCxvcHRpb25zOmF9KSxyZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuUmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsLHQpLHNldEFjdGl2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlNldEFjdGl2ZVdvcmtzcGFjZSx0KSxnZXRMYW5ndWFnZTphc3luYygpPT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkdldExhbmd1YWdlKSxfZ2V0TGFuZ3VhZ2VSZXNvdXJjZXM6YXN5bmMoKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsKSxzZXRMYW5ndWFnZTphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlNldExhbmd1YWdlLHQpLF9yYWlzZUFuYWx5dGljczphc3luYyB0PT57aWYoYXx8KGE9YXdhaXQgdXQoZSkpLFwib2JqZWN0XCI9PXR5cGVvZiBhJiZhPy5hbmFseXRpY3M/LmlzU3VwcG9ydGVkKXtyZXR1cm4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkFuYWx5dGljcyx0KX1lLnV1aWR9LGdldE5vdGlmaWNhdGlvbnNDb25maWc6YXN5bmMoKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5HZXROb3RpZmljYXRpb25zQ29uZmlnKSxfcmVmcmVzaEJvb2ttYXJrc0ludGVybmFsOmFzeW5jKCk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKSxfbGF1bmNoQm9va21hcmtJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkxhdW5jaEJvb2ttYXJrSW50ZXJuYWwsdCksX3VwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbCx0KSxfdXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWwsdCksX2xhdW5jaERvY2tFbnRyeUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuTGF1bmNoRG9ja0VudHJ5SW50ZXJuYWwsdCksX3NldERvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LlNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsLHQpLF9zZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuU2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbCx0KSxfcmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5SZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbCx0KSxfYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5BZGREb2NrRmF2b3JpdGVJbnRlcm5hbCx0KSxfbmF2aWdhdGVDb250ZW50TWVudUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuTmF2aWdhdGVDb250ZW50TWVudUludGVybmFsLHQpLF9vcGVuRG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsOmFzeW5jKCk9Pihhd2FpdCBwdChlKSkuZGlzcGF0Y2gobHQuR2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsKSxfaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgcHQoZSkpLmRpc3BhdGNoKGx0LkhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWwsdCksX2ZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw6YXN5bmMoKT0+KGF3YWl0IHB0KGUpKS5kaXNwYXRjaChsdC5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsKSxUaGVtZTpnYShlKSxCcm93c2VyOm5hKGUpLFN0b3JhZ2U6b2EoZSl9KX0sQWE9KCk9PklhKGZpbi5tZS5pZGVudGl0eSksV2E9e2NvbnRleHRNZW51T3B0aW9uczp7ZW5hYmxlZDohMCx0ZW1wbGF0ZTpbXCJzcGVsbENoZWNrXCIsXCJzZXBhcmF0b3JcIixcInByaW50XCIsXCJzZXBhcmF0b3JcIixcImN1dFwiLFwiY29weVwiLFwicGFzdGVcIixcInVuZG9cIixcInJlZG9cIixcInNlbGVjdEFsbFwiLFwiaW5zcGVjdFwiLFwicmVsb2FkXCJdfSxkb3dubG9hZFNoZWxmOntlbmFibGVkOiEwfX07ZnVuY3Rpb24gRGEoZSx0KXtyZXR1cm4gQXQoe30sV2EsdCxlKX1jb25zdCBUYT1cImludGVybmFsLWdlbmVyYXRlZC12aWV3LVwiLFJhPShlLHQpPT5lLmNvbnRlbnQ/ey4uLmUsY29udGVudDplLmNvbnRlbnQubWFwKChlPT5SYShlLHQpKSl9OnsuLi5lLGNvbXBvbmVudFN0YXRlOnQoZS5jb21wb25lbnRTdGF0ZSl9LEJhPShlLHQpPT57cmV0dXJuIGE9RGEoZSx0KSx7Li4uYSxuYW1lOmEubmFtZT9hLm5hbWU6YGludGVybmFsLWdlbmVyYXRlZC12aWV3LSR7UnQoKX1gLF9pbnRlcm5hbFdvcmtzcGFjZURhdGE6ey4uLmEuX2ludGVybmFsV29ya3NwYWNlRGF0YSx2aWV3SWRlbnRpZmllcjphLl9pbnRlcm5hbFdvcmtzcGFjZURhdGE/LnZpZXdJZGVudGlmaWVyfHxSdCgpfX07dmFyIGF9LEVhPWU9Pih7Li4uZSxuYW1lOnZvaWQgMH0pLEZhPWU9Pntjb25zdCB0PXsuLi5lfTtyZXR1cm4gUmEodCxFYSl9LFZhPWU9Pntjb25zdCB0PXsuLi5lfTtyZXR1cm4gUmEodCwoZT0+ZS5uYW1lJiZlLm5hbWUuc3RhcnRzV2l0aChUYSk/RWEoZSk6ZSkpfSxOYT1lPT57Y29uc3QgdD1bXTtyZXR1cm4oZSYmQXJyYXkuaXNBcnJheShlKT9lOltdKS5mb3JFYWNoKChlPT57aWYoXCJjb21wb25lbnRcIj09PWUudHlwZSlyZXR1cm4gdC5wdXNoKGUuY29tcG9uZW50U3RhdGUpO2NvbnN0IGE9TmEoZS5jb250ZW50KTt0LnB1c2goLi4uYSl9KSksdH0sTGE9YXN5bmMoZSx0LGE9d2UpPT57bGV0IG47aWYoYXdhaXQga2UoYSkpe249KGF3YWl0IHBlKGEpLmdldE9wdGlvbnMoKSkubGF5b3V0fHx7c2V0dGluZ3M6e319fXJldHVybnsuLi5uLGNvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e3RpdGxlOmUsdXJsOnR9fV19XX19O25ldyBNYXAsbmV3IE1hcDtjb25zdCBfYT0oZSx0KT0+e2NvbnN0IGE9TmEodC5jb250ZW50KTtyZXR1cm57Li4uUmEoZSwoZT0+e2NvbnN0IHQ9YS5maW5kKCh0PT50Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGE/LnZpZXdJZGVudGlmaWVyPT09ZS5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy52aWV3SWRlbnRpZmllcikpLG49dD90LmlzQ2xvc2FibGU6ZS5pc0Nsb3NhYmxlO3JldHVybnsuLi5lLGlzQ2xvc2FibGU6bn19KSksc2V0dGluZ3M6dC5zZXR0aW5nc319LE9hPWU9PmU/TmEoZSkubGVuZ3RoOjAsVWE9KFR0KCkoKGFzeW5jIGU9Pnt0cnl7Y29uc3QgdD1hd2FpdChhc3luYyBlPT5maW4uUGxhdGZvcm0uTGF5b3V0LndyYXBTeW5jKHsuLi5maW4ubWUuaWRlbnRpdHksbGF5b3V0TmFtZTplfSkuZ2V0Q29uZmlnKCkpKGUubGF5b3V0Q29udGFpbmVyS2V5KSxhPXQuY29udGVudD9OYSh0LmNvbnRlbnQpOltdLG49YS5sZW5ndGg7bj4xPyhlPT57XCJtdWx0aVZpZXdcIiE9PWUuYXR0YWNoZWRQYWdlVHlwZSYmQWEoKS5Ccm93c2VyLndyYXBTeW5jKHdlKS51cGRhdGVQYWdlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTp7c2luZ2xlVmlld05hbWU6bnVsbCxhdHRhY2hlZFBhZ2VUeXBlOlwibXVsdGlWaWV3XCJ9fSl9KShlKToxPT09biYmKGFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCkuQnJvd3Nlci53cmFwU3luYyh3ZSk7aWYoXCJzaW5nbGVWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUpe2NvbnN0IG49YXdhaXQgVXQoZSksbz1hd2FpdCBBYSgpLkJyb3dzZXIuZ2V0VW5pcXVlUGFnZVRpdGxlKCk7ZGVsZXRlIG4ubGF5b3V0O2NvbnN0IHI9ey4uLm4sc2luZ2xlVmlld05hbWU6dCx0aXRsZTpvLGhhc1Vuc2F2ZWRDaGFuZ2VzOiExLGF0dGFjaGVkUGFnZVR5cGU6XCJzaW5nbGVWaWV3XCJ9O2F3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6cn0pfX0pKGUsYVswXS5uYW1lKSxhd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1HdCh7Li4ud2UsbGF5b3V0TmFtZTplLmxheW91dENvbnRhaW5lcktleX0pLG49YXdhaXQgYS5pc1Nob3dpbmdUYWJzKCk7dD4xP258fGF3YWl0IGEuc2hvdygpOjE9PT10JiZuJiZhd2FpdCBhLmhpZGUoe3NldHRpbmdzOntyZW9yZGVyRW5hYmxlZDohMH19KX0pKGUsbil9Y2F0Y2goZSl7fX0pLDUwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSkscmVxdWlyZShcInJlYWN0LWkxOG5leHRcIikpLEdhPXJlcXVpcmUoXCJpMThuZXh0XCIpO3ZhciBIYT1hLm4oR2EpO2NvbnN0ICRhPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwi5paw5bu656qX5Y+jXCIsXCJjb250ZXh0TWVudS5uZXdQYWdlXCI6XCLmlrDlu7rpobXpnaJcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIui/mOWOn+WIsOS4iuasoeS/neWtmOeahOabtOaUuVwiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCLliIfmjaLlt6XkvZzljLpcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIuWkluinglwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwi5L+d5a2Y5bel5L2c5Yy6XCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuWwhuW3peS9nOWMuuWPpuWtmOS4ui4uLlwiLFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCI6XCLph43lkb3lkI3lt6XkvZzljLpcIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwi5Yig6Zmk5bel5L2c5Yy6XCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIuS4i+i9vVwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIuS/neWtmOmhtemdolwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwi5bCG6aG16Z2i5Y+m5a2Y5Li6Li4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwi5omT5Y2wLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwi5omT5Y2w5bGP5bmVXCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwi5YWz6Zet56qX5Y+jXCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwi5byA5pS+5byP5bqX6Z2iXCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIumAgOWHuuW5s+WPsFwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwi5paw5bu66KeG5Zu+XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi5L2/55So6buY6K6kIFdlYiDmtY/op4jlmajmiZPlvIDop4blm75cIixcImNvbnRleHRNZW51Lm9wZW5WaWV3c1wiOlwi5L2/55So6buY6K6kIFdlYiDmtY/op4jlmajmiZPlvIDop4blm75cIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIENOXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCLph43mlrDliqDovb3op4blm75cIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLph43mlrDliqDovb3op4blm75cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIENOXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLlpI3liLbop4blm75cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLlpI3liLbop4blm75cIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIuWwhuinhuWbvua3u+WKoOWIsOmikemBk1wiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIuWwhuinhuWbvua3u+WKoOWIsOmikemBk1wiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi5LuO6aKR6YGT5Lit56e76Zmk6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwi5LuO6aKR6YGT5Lit56e76Zmk6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIuWFs+mXreinhuWbvlwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi5YWz6Zet6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIENOXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCLlpI3liLbpobXpnaJcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIuaJk+WNsFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi5YWo6YOo5omT5Y2wXCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuWwhuW3peS9nOWMuuWPpuWtmOS4ulwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi5bCG6aG16Z2i5Y+m5a2Y5Li6XCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgQ05cIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0g5bey5a2Y5Zyo44CCXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuivt+i+k+WFpeacieaViOWQjeensFwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIumHjeaWsOWRveWQjemhtemdolwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi5YWz6Zet6aG16Z2iXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuaUvuW8g+abtOaUuVwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIuWFqOmDqOaUvuW8g1wiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuWFqOmDqOS/neWtmFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLlhbPpl63liY3kv53lrZggKHt7Y291bnR9fSkg5Liq6aG16Z2i77yfXCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIENOXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgQ05cIixcImFkZE5ld1BhZ2VcIjpcIua3u+WKoOaWsOmhtemdolwiLFwiYWRkTmV3VGFiXCI6XCLmt7vliqDmlrDpgInpobnljaFcIixcImFkZE5ld1ZpZXdcIjpcIuaWsOW7uuinhuWbvlwiLFwicmVzdG9yZU1vZGFsXCI6XCLmgqjnoa7lrpropoHov5jljp/liLDkuIrmrKHkv53lrZjnmoTmm7TmlLnlkJfvvJ9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLku7vkvZXmnKrkv53lrZjnmoTmm7TmlLnpg73lsIbkuKLlpLFcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi5a+55q2k6aG155qE5Lu75L2V5pyq5L+d5a2Y55qE5pu05pS56YO95bCG5Lii5aSx44CCXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi5YWz6Zet5YmN5L+d5a2Y5pu05pS577yfXCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcIuWFs+mXremhtemdolwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIuaCqOehruWumuimgeWIh+aNouWIsCB7e3dvcmtzcGFjZX19IOWQl++8n1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi5Lu75L2V5pyq5L+d5a2Y55qE5pu05pS56YO95bCG5Lii5aSxXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwi5oKo56Gu5a6a6KaB5rC45LmF5Yig6Zmk5q2k5bel5L2c5Yy65ZCX77yfXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi5ZCN56ew5Li6IHt7d29ya3NwYWNlfX0g55qE5bel5L2c5Yy65bey5a2Y5Zyo44CC5oKo5piv5ZCm6KaB5pu/5o2i5a6D77yfXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZy5ib2R5XCI6XCLlt7LlrZjlnKjlkIzlkI3nmoTlt6XkvZzljLrjgILmm7/mjaLlroPlsIbopobnm5blhbblvZPliY3lhoXlrrnjgIJcIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC5yZXBsYWNlXCI6XCLmm7/mjaJcIixcImNsb3NlUGxhdGZvcm1cIjpcIuWFs+mXreW5s+WPsFwiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcIuWFs+mXrSB7e3dvcmtzcGFjZX19IOW5s+WPsFwiLFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCI6XCLlhbPpl63lubPlj7DlsIblhbPpl63miYDmnInlt6XkvZzljLrjgIHlupTnlKjmiJbku7vkvZXmraPlnKjov5DooYznmoTov5vnqIvjgIJcIixcImJhY2tcIjpcIuWQjumAgFwiLFwiZm9yd2FyZFwiOlwi5YmN6L+bXCIsXCJyZWxvYWRcIjpcIumHjeaWsOWKoOi9vVwiLFwiZ3JlZW5cIjpcIue7v+iJslwiLFwicHVycGxlXCI6XCLntKvoibJcIixcIm9yYW5nZVwiOlwi5qmZ6ImyXCIsXCJyZWRcIjpcIue6ouiJslwiLFwicGlua1wiOlwi57KJ57qi6ImyXCIsXCJ5ZWxsb3dcIjpcIum7hOiJslwiLFwidGhlbWUubGlnaHRcIjpcIua1heiJslwiLFwidGhlbWUuZGFya1wiOlwi5rex6ImyXCIsXCJ0aGVtZS5zeXN0ZW1cIjpcIuS4juaTjeS9nOezu+e7n+iuvue9ruWQjOatpVwiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi6ZqQ6JeP6YCJ6aG55Y2hXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLmmL7npLrpgInpobnljaFcIixcInRvb2xiYXIubG9ja1wiOlwi6ZSB5a6aXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi6Kej6ZSBXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwi6aKc6Imy6ZO+5o6lXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi5pu05pS55biD5bGAXCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCLkv53lrZjoj5zljZVcIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIuacgOWkp+WMlueql+WPo1wiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLov5jljp/nqpflj6NcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIuacgOWwj+WMlueql+WPo1wiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwi5YWo5a69XCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi5YiX5pWwXCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi6KGM5pWwXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi572R5qC8XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLlt7LliIfmjaLlt6XkvZzljLpcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLpgInpobnljaHlt7LpmpDol49cIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIumAiemhueWNoeW3suaYvuekulwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIumhtemdouW3sumUgeWumlwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwi6aG16Z2i5bey6Kej6ZSBXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCLlt6XkvZzljLrlt7Lkv53lrZhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi5bel5L2c5Yy65bey5Y+m5a2Y5Li6IHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi5bel5L2c5Yy65bey6YeN5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi6aG16Z2i5bey5L+d5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gQ05cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi6aG16Z2i5bey5Y+m5a2Y5Li6IHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwi6aG16Z2i5bey6YeN5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIuW3suW6lOeUqOS4iuS4i+aWh+e7hFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcIuW3suW6lOeUqCB7e2NvbG9yTmFtZX19IOS4iuS4i+aWh+e7hFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi5LuO5LiK5LiL5paH57uE5Lit56e76Zmk6KeG5Zu+XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi5LuO5LiK5LiL5paH57uE5Lit56e76Zmk6KeG5Zu+XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcIuW3suW6lOeUqCB7e2xheW91dE5hbWV9fSDluIPlsYBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwi5bel5L2c5Yy65bey5Yig6ZmkXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwi6aG16Z2i5L+d5a2Y5aSx6LSlXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCLlt6XkvZzljLrkv53lrZjlpLHotKVcIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwi5aSN5Yi26aG16Z2i5aSx6LSlXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcIuaIkeS7rOWwneivleWvueatpOmAiemhueWNoei/m+ihjOminOiJsumTvuaOpe+8jOS9hue9keermS/lhoXlrrnmiYDmnInogIXlsJrmnKrlkK/nlKjor6Xlip/og71cIixcImdsb2JhbC5jYW5jZWxcIjpcIuWPlua2iFwiLFwiZ2xvYmFsLmNvbmZpcm1cIjpcIuehruiupFwiLFwiZ2xvYmFsLnNhdmVcIjpcIuS/neWtmFwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlIENOXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudCBDTlwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWQgQ05cIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmUgQ05cIixcImFyaWEub3BlbkJyb3dzZXJcIjpcIuaJk+W8gOa1j+iniOWZqOiPnOWNlVwiLFwiYXJpYS5icm93c2VyVGFic1wiOlwi5rWP6KeI5Zmo6YCJ6aG55Y2hXCIsXCJhcmlhLnZpZXdUYWJcIjpcIuafpeeciyB7e3RpdGxlfX0g55qE6YCJ6aG55Y2hXCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwi5YWz6ZetIHt7dGl0bGV9fSDnmoTpobXpnaLpgInpobnljaHmjInpkq5cIixcImFyaWEuY2xvc2VUYWJcIjpcIuWFs+mXremAiemhueWNoSB7e3RpdGxlfX1cIixcImFyaWEudGl0bGVcIjpcIuagh+mimFwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwi5L2/55So6L2s5LmJ5YWz6Zet5LiK5LiL5paH57uE6YCJ5oup5a+56K+d5qGGXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi5pi+56S65oiW6ZqQ6JeP6aKc6Imy6ZO+5o6lXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLor7fpgInmi6nkuIDkuKrop4blm77ku6XlupTnlKjpopzoibLpk77mjqVcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIuWIhumFjee7mSB7e25hbWV9fSDkuIrkuIvmlofnu4TnmoTlvZPliY3op4blm75cIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCLliIbphY3nu5kge3tuYW1lfX0g5LiK5LiL5paH57uE55qE5b2T5YmN6KeG5Zu+XCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIuWwhua0u+WKqOinhuWbvuiuvue9ruS4uiB7e25hbWV9fSDkuIrkuIvmlofnu4RcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIuWwhua0u+WKqOinhuWbvuiuvue9ruS4uiB7e25hbWV9fSDkuIrkuIvmlofnu4RcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLkvb/nlKjovazkuYnlhbPpl63mm7TmlLnluIPlsYDlr7nor53moYZcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWIgQ05cIixcImdsb2JhbC50YWJcIjpcIlRhYiBDTlwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFyayBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkIENOXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZSBDTlwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlIENOXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbCBDTlwiLFwiYm9va21hcmtzLmNsb3NlUGFuZWxcIjpcIkNsb3NlIEJvb2ttYXJrcyBQYW5lbCBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzIENOXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzIENOXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXMgQ05cIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3MgQ05cIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXQgQ05cIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyIENOXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXIgQ05cIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXIgQ05cIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyIENOXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3MgQ05cIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzIENOXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmQgQ05cIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaCBDTlwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXQgQ05cIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXIgQ05cIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fSBDTlwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzIENOXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluIENOXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZSBDTlwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmUgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkIENOXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIiBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZCBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uIENOXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgQ05cIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiIENOXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMgQ05cIixcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBDTlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBDTlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnNhdmVTdXBlcnRhYkNvdW50XCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IENOXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB0byB0aGlzIFN1cGVydGFiIHdpbGwgYmUgbG9zdC4gQ05cIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IENOXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gQ05cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIENOXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBDTlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIENOXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gQ05cIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgQ05cIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIENOXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgQ05cIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IENOXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIENOXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXQgQ05cIn0nKSxLYT1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIuaWsOimlueql1wiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwi5paw6aCB6Z2iXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLpgoTljp/liLDkuIrmrKHlhLLlrZjnmoTorormm7RcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwi5YiH5o+b5bel5L2c56m66ZaTXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLlpJbop4BcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIuWEsuWtmOW3peS9nOepuumWk1wiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLlsIflt6XkvZznqbrplpPlj6blrZjngrouLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi6YeN5paw5ZG95ZCN5bel5L2c56m66ZaTXCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIuWIqumZpOW3peS9nOepuumWk1wiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCLkuIvovIlcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLlhLLlrZjpoIHpnaJcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIuWwh+mggemdouWPpuWtmOeCui4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIuWIl+WNsC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIuaTt+WPlueVq+mdolwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIumXnOmWieimlueql1wiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIuaJk+mWiyBTdG9yZWZyb250XCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIumAgOWHuuW5s+WPsFwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwi5paw6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi5L2/55So6aCQ6Kit57ay6aCB54CP6Ka95Zmo5omT6ZaL6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIuS9v+eUqOmgkOioree2sumggeeAj+imveWZqOaJk+mWi+imluWcllwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgWkhcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIumHjeaWsOi8ieWFpeimluWcllwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld3NcIjpcIumHjeaWsOi8ieWFpeimluWcllwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgWkhcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcIuikh+Wvq+imluWcllwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcIuikh+Wvq+imluWcllwiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwi5bCH6KaW5ZyW5paw5aKe6Iez6aC76YGTXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3c1wiOlwi5bCH6KaW5ZyW5paw5aKe6Iez6aC76YGTXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCLlvp7poLvpgZPkuK3np7vpmaToppblnJZcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCLlvp7poLvpgZPkuK3np7vpmaToppblnJZcIixcImNvbnRleHRNZW51LmNsb3NlVmlld1wiOlwi6Zec6ZaJ6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCLpl5zplonoppblnJZcIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgWkhcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcIuikh+Wvq+mggemdolwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwi5YiX5Y2wXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCLliJfljbDlhajpg6hcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi5bCH5bel5L2c56m66ZaT5Y+m5a2Y54K6XCIsXCJzYXZlTWVudS5zYXZlUGFnZUFzXCI6XCLpoIHpnaLlj6blrZjngrpcIixcInNhdmVNb2RhbC5lbnRlclZhbHVlXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBaSFwiLFwic2F2ZU1vZGFsLmFscmVhZHlFeGlzdHNcIjpcInt7dGl0bGV9fSDlt7LntpPlrZjlnKjjgIJcIixcInNhdmVNb2RhbC5wbGVhc2VFbnRlclZhbGlkTmFtZVwiOlwi6KuL6Ly45YWl5LiA5YCL5pyJ5pWI55qE5ZCN56ixXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwi6YeN5paw5ZG95ZCN6aCB6Z2iXCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCLpl5zplonpoIHpnaJcIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwi5o2o5qOE6K6K5pu0XCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwi5YWo6YOo5o2o5qOEXCIsXCJzYXZlTW9kYWwuc2F2ZUFsbFwiOlwi5YSy5a2Y5YWo6YOoXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIuimgeWFiOWEsuWtmCAoe3tjb3VudH19KSDlgIvpoIHpnaLlho3pl5zplonll47vvJ9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgWkhcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBaSFwiLFwiYWRkTmV3UGFnZVwiOlwi5paw5aKe5paw6aCB6Z2iXCIsXCJhZGROZXdUYWJcIjpcIuaWsOWinuaWsOe0ouW8leaomeexpFwiLFwiYWRkTmV3Vmlld1wiOlwi5paw6KaW5ZyWXCIsXCJyZXN0b3JlTW9kYWxcIjpcIuaCqOeiuuWumuimgemChOWOn+WIsOS4iuasoeWEsuWtmOeahOiuiuabtOWXju+8n1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIuS7u+S9leacquWEsuWtmOeahOiuiuabtOmDveWwh+iiq+aNqOajhFwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCLlnKjmraTpoIHpnaLku7vkvZXmnKrlhLLlrZjnmoTorormm7Tpg73lsIfpgbrlpLHjgIJcIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLopoHlhYjlhLLlrZjorormm7Tlho3pl5zplonll47vvJ9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwi6aCB6Z2i6Zec6ZaJXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwi5oKo56K65a6a6KaB5YiH5o+b5YiwIHt7d29ya3NwYWNlfX3vvJ9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuS7u+S9leacquWEsuWtmOeahOiuiuabtOmDveWwh+iiq+aNqOajhFwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIuaCqOeiuuWumuimgeawuOS5heWIqumZpOatpOW3peS9nOepuumWk+WXju+8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuWFt+acieWQjeeosSB7e3dvcmtzcGFjZX19IOeahOW3peS9nOepuumWk+W3sue2k+WtmOWcqOOAguS9oOimgeabtOaPm+Wug+WXju+8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi55u45ZCM5ZCN56ix55qE5bel5L2c56m66ZaT5bey57aT5a2Y5Zyo44CC5pu05o+b5a6D5b6M77yM5bCH5pyD6KaG6JOL55uu5YmN5YWn5a6544CCXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi5pu05o+bXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLpl5zplonlubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCLpl5zplokge3t3b3Jrc3BhY2V9fSDlubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi6Zec6ZaJ5bmz5Y+w5b6M77yM5bCH6Zec6ZaJ5q2j5Zyo5Z+36KGM55qE5Lu75L2V5bel5L2c56m66ZaT44CBQVBQIOaIlua1geeoi+OAglwiLFwiYmFja1wiOlwi5LiK5LiA6aCBXCIsXCJmb3J3YXJkXCI6XCLkuIvkuIDpoIFcIixcInJlbG9hZFwiOlwi6YeN5paw6LyJ5YWlXCIsXCJncmVlblwiOlwi57agXCIsXCJwdXJwbGVcIjpcIue0q1wiLFwib3JhbmdlXCI6XCLmqZhcIixcInJlZFwiOlwi57SF6ImyXCIsXCJwaW5rXCI6XCLnsonntIVcIixcInllbGxvd1wiOlwi6buDXCIsXCJ0aGVtZS5saWdodFwiOlwi5re6XCIsXCJ0aGVtZS5kYXJrXCI6XCLmt7FcIixcInRoZW1lLnN5c3RlbVwiOlwi6IiHIE9TIOioreWumuWQjOatpVwiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi6Zqx6JeP57Si5byV5qiZ57GkXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLpoa/npLrntKLlvJXmqJnnsaRcIixcInRvb2xiYXIubG9ja1wiOlwi5LiK6Y6WXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi6Kej6Y6WXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwi6aGP6Imy6YCj57WQXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi6K6K5pu054mI6Z2iXCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCLlhLLlrZjpgbjllq5cIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIuacgOWkp+WMluimlueql1wiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLpgoTljp/oppbnqpdcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIuacgOWwj+WMluimlueql1wiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwi5YWo6J6i5bmV5a+s5bqmXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi6KGMXCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi5YiXXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi57ay5qC8XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLlt6XkvZznqbrplpPlt7LliIfmj5tcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLntKLlvJXmqJnnsaTlt7LpmrHol49cIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIue0ouW8leaomeexpOW3sumhr+ekulwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIumggemdouW3suS4iumOllwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwi6aCB6Z2i5bey6Kej6Y6WXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCLlt6XkvZznqbrplpPlt7LlhLLlrZhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi5bel5L2c56m66ZaT5bey5Y+m5a2Y54K6IHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi5bel5L2c56m66ZaT5bey6YeN5paw5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi6aCB6Z2i5bey5YSy5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gWkhcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi6aCB6Z2i5bey5Y+m5a2Y54K6IHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwi6aCB6Z2i5bey6YeN5paw5ZG95ZCNXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIuiEiOe1oee+pOe1hOW3suWll+eUqFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX0g6ISI57Wh576k57WE5bey5aWX55SoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCLlvp7ohIjntaHnvqTntYTkuK3np7vpmaTnmoToppblnJZcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld3NSZW1vdmVkXCI6XCLlvp7ohIjntaHnvqTntYTkuK3np7vpmaTnmoToppblnJZcIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwie3tsYXlvdXROYW1lfX0g54mI6Z2i5bey5aWX55SoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuW3peS9nOepuumWk+W3suWIqumZpFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIumggemdoueEoeazleWEsuWtmFwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi5bel5L2c56m66ZaT54Sh5rOV5YSy5a2YXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIueEoeazleikh+Wvq+mggemdolwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLmiJHlgJHlmJfoqablsI3mraTntKLlvJXmqJnnsaTpgLLooYzpoY/oibLpgKPntZDvvIzkvYbntrLnq5kv5YWn5a655omA5pyJ6ICF5bCa5pyq5ZWf55So6Kmy5Yqf6IO9XCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLlj5bmtohcIixcImdsb2JhbC5jb25maXJtXCI6XCLnorroqo1cIixcImdsb2JhbC5zYXZlXCI6XCLlhLLlrZhcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBaSFwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnQgWkhcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIFpIXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIFpIXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLplovllZ/ngI/opr3lmajpgbjllq5cIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIueAj+imveWZqOe0ouW8leaomeexpFwiLFwiYXJpYS52aWV3VGFiXCI6XCJ7e3RpdGxlfX0g55qE6KaW5ZyW57Si5byV5qiZ57GkXCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwi6Zec6ZaJIHt7dGl0bGV9fSDnmoTpoIHpnaLntKLlvJXmqJnnsaTmjInpiJVcIixcImFyaWEuY2xvc2VUYWJcIjpcIumXnOmWiee0ouW8leaomeexpCB7e3RpdGxlfX1cIixcImFyaWEudGl0bGVcIjpcIuaomemhjFwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwi5L2/55SoIEVzYyDpjbXpl5zplonohIjntaHnvqTntYTpgbjlj5blsI3oqbHmoYZcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCLpoa/npLrmiJbpmrHol4/poY/oibLpgKPntZBcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIuiri+mBuOWPluimgeWll+eUqOmhj+iJsumAo+e1kOeahOimluWcllwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwi55uu5YmN6KaW5ZyW5YiG6YWN57WmIHt7bmFtZX19IOiEiOe1oee+pOe1hFwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcIuebruWJjeimluWcluWIhumFjee1piB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwi5bCH5ZWf55So6KaW5ZyW6Kit5a6a54K6IHt7bmFtZX19IOiEiOe1oee+pOe1hFwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3c1wiOlwi5bCH5ZWf55So6KaW5ZyW6Kit5a6a54K6IHt7bmFtZX19IOiEiOe1oee+pOe1hFwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcIuS9v+eUqCBFc2Mg6Y216Zec6ZaJ6K6K5pu054mI6Z2i5bCN6Kmx5qGGXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIFpIXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgWkhcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBaSFwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgWkhcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgWkhcIixcImJvb2ttYXJrcy5jbG9zZVBhbmVsXCI6XCJDbG9zZSBCb29rbWFya3MgUGFuZWwgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBaSFwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBaSFwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIFpIXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIFpIXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IFpIXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIFpIXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIFpIXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIFpIXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBaSFwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIFpIXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggWkhcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IFpIXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIFpIXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gWkhcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBaSFwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBaSFwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgWkhcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBaSFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIFpIXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBaSFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIFpIXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgWkhcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gWkhcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5zYXZlU3VwZXJ0YWJDb3VudFwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBaSFwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgdG8gdGhpcyBTdXBlcnRhYiB3aWxsIGJlIGxvc3QuIFpIXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBaSFwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIFpIXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBaSFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC4gWkhcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBaSFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIFpIXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIFpIXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBaSFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIFpIXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBaSFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBaSFwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IFpIXCJ9JyksemE9SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCJOZXcgV2luZG93XCIsXCJjb250ZXh0TWVudS5uZXdQYWdlXCI6XCJOZXcgUGFnZVwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwiUmVzdG9yZSB0byBMYXN0IFNhdmVkIENoYW5nZXNcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwiU3dpdGNoIFdvcmtzcGFjZVwiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwiQXBwZWFyYW5jZVwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwiU2F2ZSBXb3Jrc3BhY2VcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiU2F2ZSBXb3Jrc3BhY2UgQXMuLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwiUmVuYW1lIFdvcmtzcGFjZVwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCJEZWxldGUgV29ya3NwYWNlXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIkRvd25sb2Fkc1wiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIlNhdmUgUGFnZVwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwiU2F2ZSBQYWdlIEFzLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwiUHJpbnQuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCJQcmludCBTY3JlZW5cIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCJDbG9zZSBXaW5kb3dcIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCJPcGVuIFN0b3JlZnJvbnRcIixcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiOlwiUXVpdCB7e3BsYXRmb3JtTGFiZWx9fVwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwiTmV3IFZpZXdcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCJPcGVuIFZpZXcgd2l0aCBEZWZhdWx0IFdlYiBCcm93c2VyXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIk9wZW4gVmlld3Mgd2l0aCBEZWZhdWx0IFdlYiBCcm93c2VyXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZFwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwiUmVsb2FkIFZpZXdcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCJSZWxvYWQgVmlld3NcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCJEdXBsaWNhdGUgVmlld1wiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcIkR1cGxpY2F0ZSBWaWV3c1wiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwiQWRkIFZpZXcgdG8gQ2hhbm5lbFwiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIkFkZCBWaWV3cyB0byBDaGFubmVsXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCJSZW1vdmUgVmlldyBmcm9tIENoYW5uZWxcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCJSZW1vdmUgVmlld3MgZnJvbSBDaGFubmVsXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIkNsb3NlIFZpZXdcIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIkNsb3NlIFZpZXdzXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCJEdXBsaWNhdGUgUGFnZVwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwiUHJpbnRcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIlByaW50IEFsbFwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCJTYXZlIFdvcmtzcGFjZSBBc1wiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwiU2F2ZSBQYWdlIEFzXCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWVcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0gYWxyZWFkeSBleGlzdHMuXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbGlkIG5hbWVcIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCJSZW5hbWUgUGFnZVwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwiQ2xvc2UgUGFnZVwiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCJEaXNjYXJkIENoYW5nZXNcIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCJEaXNjYXJkIEFsbFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIlNhdmUgQWxsXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIlNhdmUgKHt7Y291bnR9fSkgcGFnZXMgYmVmb3JlIGNsb3Npbmc/XCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWJcIixcImFkZE5ld1BhZ2VcIjpcIk5ldyBQYWdlXCIsXCJhZGROZXdUYWJcIjpcIkFkZCBOZXcgVGFiXCIsXCJhZGROZXdWaWV3XCI6XCJOZXcgVmlld1wiLFwicmVzdG9yZU1vZGFsXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzdG9yZSB0byBsYXN0IHNhdmVkIGNoYW5nZXM/XCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGRpc2NhcmRlZFwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHRvIHRoaXMgcGFnZSB3aWxsIGJlIGxvc3QuXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwiU2F2ZSBjaGFuZ2VzIGJlZm9yZSBjbG9zaW5nP1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCJQYWdlIENsb3NlXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHN3aXRjaCB0byB7e3dvcmtzcGFjZX19P1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGRpc2NhcmRlZFwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwZXJtYW5lbnRseSBkZWxldGUgdGhpcyB3b3Jrc3BhY2U/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwiQSBXb3Jrc3BhY2Ugd2l0aCB0aGUgbmFtZSB7e3dvcmtzcGFjZX19IGFscmVhZHkgZXhpc3RzLiBEbyB5b3Ugd2FudCB0byByZXBsYWNlIGl0P1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwiQSB3b3Jrc3BhY2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzLiBSZXBsYWNpbmcgaXQgd2lsbCBvdmVyd3JpdGUgaXRzIGN1cnJlbnQgY29udGVudHMuXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwiUmVwbGFjZVwiLFwiY2xvc2VQbGF0Zm9ybVwiOlwiQ2xvc2UgdGhlIHBsYXRmb3JtXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwiQ2xvc2UgdGhlIHt7d29ya3NwYWNlfX0gUGxhdGZvcm1cIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwiQ2xvc2luZyBhIHBsYXRmb3JtIHdpbGwgY2xvc2UgYW55IHdvcmtzcGFjZXMsIGFwcHMgb3IgYW55IHByb2Nlc3NlcyB0aGF0IGFyZSBydW5uaW5nLlwiLFwiYmFja1wiOlwiQmFja1wiLFwiZm9yd2FyZFwiOlwiRm9yd2FyZFwiLFwicmVsb2FkXCI6XCJSZWxvYWRcIixcImdyZWVuXCI6XCJHcmVlblwiLFwicHVycGxlXCI6XCJQdXJwbGVcIixcIm9yYW5nZVwiOlwiT3JhbmdlXCIsXCJyZWRcIjpcIlJlZFwiLFwicGlua1wiOlwiUGlua1wiLFwieWVsbG93XCI6XCJZZWxsb3dcIixcInRoZW1lLmxpZ2h0XCI6XCJMaWdodFwiLFwidGhlbWUuZGFya1wiOlwiRGFya1wiLFwidGhlbWUuc3lzdGVtXCI6XCJTeW5jIHdpdGggT1Mgc2V0dGluZ1wiLFwidG9vbGJhci5oaWRlVGFic1wiOlwiSGlkZSBUYWJzXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCJTaG93IFRhYnNcIixcInRvb2xiYXIubG9ja1wiOlwiTG9ja1wiLFwidG9vbGJhci51bmxvY2tcIjpcIlVubG9ja1wiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIkNvbG9yIExpbmtpbmdcIixcInRvb2xiYXIuY2hhbmdlTGF5b3V0XCI6XCJDaGFuZ2UgTGF5b3V0XCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCJTYXZlIE1lbnVcIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIk1heGltaXplIFdpbmRvd1wiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCJSZXN0b3JlIFdpbmRvd1wiLFwidG9vbGJhci5taW5pbWl6ZVdpbmRvd1wiOlwiTWluaW1pemUgV2luZG93XCIsXCJjaGFuZ2VMYXlvdXQuZnVsbFdpZHRoXCI6XCJGdWxsIFdpZHRoXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwiQ29sdW1uc1wiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIlJvd3NcIixcImNoYW5nZUxheW91dC5HcmlkXCI6XCJHcmlkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCJXb3Jrc3BhY2UgU3dpdGNoZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCJUYWJzIGFyZSBIaWRkZW5cIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIlRhYnMgYXJlIFNob3duXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxvY2tlZFwiOlwiUGFnZSBpcyBMb2NrZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIlBhZ2UgaXMgVW5sb2NrZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIjpcIldvcmtzcGFjZSBzYXZlZFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZEFzXCI6XCJXb3Jrc3BhY2Ugc2F2ZWQgYXMge3t3b3Jrc3BhY2V9fVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VSZW5hbWVkXCI6XCJXb3Jrc3BhY2UgcmVuYW1lZFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIlBhZ2UgU2F2ZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLlwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCJQYWdlIHNhdmVkIGFzIHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwiUGFnZSByZW5hbWVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIkNvbnRleHQgZ3JvdXAgYXBwbGllZFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX0gY29udGV4dCBncm91cCBhcHBsaWVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCJWaWV3IHJlbW92ZWQgZnJvbSBjb250ZXh0IGdyb3VwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwiVmlld3MgcmVtb3ZlZCBmcm9tIGNvbnRleHQgZ3JvdXBcIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwie3tsYXlvdXROYW1lfX0gbGF5b3V0IGFwcGxpZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwiV29ya3NwYWNlIGRlbGV0ZWRcIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCJQYWdlIGZhaWxlZCB0byBzYXZlXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCJXb3Jrc3BhY2UgZmFpbGVkIHRvIHNhdmVcIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBQYWdlXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcIldlIGF0dGVtcHRlZCB0byBjb2xvciBsaW5rIHRoaXMgdGFiLCBidXQgdGhlIHNpdGUvY29udGVudCBvd25lciBoYXMgbm90IGVuYWJsZWQgaXQgeWV0XCIsXCJnbG9iYWwuY2FuY2VsXCI6XCJDYW5jZWxcIixcImdsb2JhbC5jb25maXJtXCI6XCJDb25maXJtXCIsXCJnbG9iYWwuc2F2ZVwiOlwiU2F2ZVwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudFwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWRcIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmVcIixcImFyaWEub3BlbkJyb3dzZXJcIjpcIk9wZW4gQnJvd3NlciBNZW51XCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCJCcm93c2VyIFRhYnNcIixcImFyaWEudmlld1RhYlwiOlwiVmlldyBUYWIgZm9yIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIkNsb3NlIFBhZ2UgVGFiIEJ1dHRvbiBmb3Ige3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCJUaXRsZVwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwiVXNlIGVzY2FwZSB0byBjbG9zZSBjb250ZXh0IGdyb3VwIHNlbGVjdGlvbiBkaWFsb2dcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCJTaG93IG9yIGhpZGUgY29sb3IgbGlua2luZ1wiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwiUGxlYXNlIHNlbGVjdCBhIHZpZXcgdG8gYXBwbHkgY29sb3IgbGlua2luZ1wiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwiQ3VycmVudCB2aWV3IGFzc2lnbmVkIHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCJDdXJyZW50IHZpZXdzIGFzc2lnbmVkIHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwiU2V0IGFjdGl2ZSB2aWV3IHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIlNldCBhY3RpdmUgdmlld3MgdG8ge3tuYW1lfX0gY29udGV4dCBncm91cFwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcIlVzZSBlc2NhcGUgdG8gY2xvc2UgY2hhbmdlIGxheW91dCBkaWFsb2dcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWJcIixcImdsb2JhbC50YWJcIjpcIlRhYlwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFya1wiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZVwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbFwiLFwiYm9va21hcmtzLmNsb3NlUGFuZWxcIjpcIkNsb3NlIEJvb2ttYXJrcyBQYW5lbFwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXNcIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3NcIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXRcIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXJcIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXJcIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3NcIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmRcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaFwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXRcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXJcIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fVwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZVwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIlwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXNcIixcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnNhdmVTdXBlcnRhYkNvdW50XCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/XCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB0byB0aGlzIFN1cGVydGFiIHdpbGwgYmUgbG9zdC5cIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/XCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC5cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC5cIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWJcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWJcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19XCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXRcIixcImRvY2sucmVtb3ZlRmF2b3JpdGVcIjpcIlJlbW92ZVwifScpLEphPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwiTmV1ZXMgRmVuc3RlclwiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwiTmV1ZSBTZWl0ZVwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwiV2llZGVyaGVyc3RlbGxlbiBkZXIgenVsZXR6dCBnZXNwZWljaGVydGVuIMOEbmRlcnVuZ2VuXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIldvcmtzcGFjZSB3ZWNoc2VsblwiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwiRXJzY2hlaW51bmdzYmlsZFwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwiV29ya3NwYWNlIHNwZWljaGVyblwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCJXb3Jrc3BhY2Ugc3BlaWNoZXJuIHVudGVyLi4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIldvcmtzcGFjZSB1bWJlbmVubmVuXCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIldvcmtzcGFjZSBsw7ZzY2hlblwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCJEb3dubG9hZHNcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCJTZWl0ZSBzcGVpY2hlcm5cIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIlNlaXRlIHNwZWljaGVybiB1bnRlci4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIkRydWNrZW4uLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCJCaWxkc2NoaXJtYW5zaWNodCBkcnVja2VuXCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwiRmVuc3RlciBzY2hsaWXDn2VuXCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwiU2NoYXVmZW5zdGVyIMO2ZmZuZW5cIixcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiOlwiUGxhdHRmb3JtIHZlcmxhc3NlblwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwiTmV1ZSBBbnNpY2h0XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwiQW5zaWNodCBtaXQgU3RhbmRhcmQtV2ViYnJvd3NlciDDtmZmbmVuXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIkFuc2ljaHRlbiBtaXQgU3RhbmRhcmQtV2ViYnJvd3NlciDDtmZmbmVuXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBERVwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwiQW5zaWNodCBuZXUgbGFkZW5cIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCJBbnNpY2h0ZW4gbmV1IGxhZGVuXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBERVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwiQW5zaWNodCBkdXBsaXppZXJlblwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcIkFuc2ljaHRlbiBkdXBsaXppZXJlblwiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwiQW5zaWNodCB6dW0gQ2hhbm5lbCBoaW56dWbDvGdlblwiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIkFuc2ljaHRlbiB6dW0gQ2hhbm5lbCBoaW56dWbDvGdlblwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwiQW5zaWNodCBhdXMgZGVtIENoYW5uZWwgZW50ZmVybmVuXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwiQW5zaWNodGVuIGF1cyBkZW0gQ2hhbm5lbCBlbnRmZXJuZW5cIixcImNvbnRleHRNZW51LmNsb3NlVmlld1wiOlwiQW5zaWNodCBzY2hsaWXDn2VuXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCJBbnNpY2h0ZW4gc2NobGllw59lblwiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBERVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwiU2VpdGUgZHVwbGl6aWVyZW5cIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIkRydWNrZW5cIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIkFsbGUgZHJ1Y2tlblwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCJXb3Jrc3BhY2Ugc3BlaWNoZXJuIHVudGVyXCIsXCJzYXZlTWVudS5zYXZlUGFnZUFzXCI6XCJTZWl0ZSBzcGVpY2hlcm4gdW50ZXJcIixcInNhdmVNb2RhbC5lbnRlclZhbHVlXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBERVwiLFwic2F2ZU1vZGFsLmFscmVhZHlFeGlzdHNcIjpcInt7dGl0bGV9fSBleGlzdGllcnQgYmVyZWl0cy5cIixcInNhdmVNb2RhbC5wbGVhc2VFbnRlclZhbGlkTmFtZVwiOlwiQml0dGUgZ2ViZW4gU2llIGVpbmVuIGfDvGx0aWdlbiBOYW1lbiBlaW5cIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCJTZWl0ZSB1bWJlbmVubmVuXCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCJTZWl0ZSBzY2hsaWXDn2VuXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIsOEbmRlcnVuZ2VuIHZlcndlcmZlblwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIkFsbGUgdmVyd2VyZmVuXCIsXCJzYXZlTW9kYWwuc2F2ZUFsbFwiOlwiQWxsZSBzcGVpY2hlcm5cIixcInNhdmVNb2RhbC5zYXZlUGFnZXNDb3VudFwiOlwiKHt7Y291bnR9fSkgU2VpdGVuIHZvciBkZW0gU2NobGllw59lbiBzcGVpY2hlcm4/XCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIERFXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgREVcIixcImFkZE5ld1BhZ2VcIjpcIk5ldWUgU2VpdGUgaGluenVmw7xnZW5cIixcImFkZE5ld1RhYlwiOlwiTmV1ZW4gVGFiIGhpbnp1ZsO8Z2VuXCIsXCJhZGROZXdWaWV3XCI6XCJOZXVlIEFuc2ljaHRcIixcInJlc3RvcmVNb2RhbFwiOlwiU2luZCBTaWUgc2ljaGVyLCBkYXNzIFNpZSBkaWUgenVsZXR6dCBnZXNwZWljaGVydGVuIMOEbmRlcnVuZ2VuIHdpZWRlcmhlcnN0ZWxsZW4gd29sbGVuP1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIkFsbGUgbmljaHQgZ2VzcGVpY2hlcnRlbiDDhG5kZXJ1bmdlbiB3ZXJkZW4gdmVyd29yZmVuXCIsXCJtb2RhbC5kaXNjYXJkUGFnZVdhcm5pbmdcIjpcIkFsbGUgbmljaHQgZ2VzcGVpY2hlcnRlbiDDhG5kZXJ1bmdlbiBhdWYgZGllc2VyIFNlaXRlIGdlaGVuIHZlcmxvcmVuLlwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcIsOEbmRlcnVuZ2VuIHZvciBkZW0gU2NobGllw59lbiBzcGVpY2hlcm4/XCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcIlNlaXRlIHNjaGxpZcOfZW5cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCI6XCJTaW5kIFNpZSBzaWNoZXIsIGRhc3MgU2llIHp1IHt7d29ya3NwYWNlfX13ZWNoc2VsbiB3b2xsZW4/XCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCJBbGxlIG5pY2h0IGdlc3BlaWNoZXJ0ZW4gw4RuZGVydW5nZW4gd2VyZGVuIHZlcndvcmZlblwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIlNpbmQgU2llIHNpY2hlciwgZGFzcyBTaWUgZGllc2VuIFdvcmtzcGFjZSBkYXVlcmhhZnQgbMO2c2NoZW4gd29sbGVuP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIkVpbiBXb3Jrc3BhY2UgbWl0IGRlbSBOYW1lbiB7e3dvcmtzcGFjZX19IGV4aXN0aWVydCBiZXJlaXRzLiBNw7ZjaHRlbiBTaWUgaWhuIGVyc2V0emVuP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwiRWluIFdvcmtzcGFjZSBtaXQgZGVtc2VsYmVuIE5hbWVuIGV4aXN0aWVydCBiZXJlaXRzLiBXZW5uIFNpZSBpaG4gZXJzZXR6ZW4sIHdpcmQgZGVyIGFrdHVlbGxlIEluaGFsdCDDvGJlcnNjaHJpZWJlbi5cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC5yZXBsYWNlXCI6XCJFcnNldHplblwiLFwiY2xvc2VQbGF0Zm9ybVwiOlwiUGxhdHRmb3JtIHNjaGxpZcOfZW5cIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCJEaWUge3t3b3Jrc3BhY2V9fSBQbGF0dGZvcm0gc2NobGllw59lblwiLFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCI6XCJXZW5uIFNpZSBlaW5lIFBsYXR0Zm9ybSBzY2hsaWXDn2VuLCB3ZXJkZW4gYWxsZSBXb3Jrc3BhY2VzLCBBcHBzIHVuZCBsYXVmZW5kZW4gUHJvemVzc2UgYmVlbmRldC5cIixcImJhY2tcIjpcIlp1csO8Y2tcIixcImZvcndhcmRcIjpcIldlaXRlclwiLFwicmVsb2FkXCI6XCJOZXUgbGFkZW5cIixcImdyZWVuXCI6XCJHcsO8blwiLFwicHVycGxlXCI6XCJMaWxhXCIsXCJvcmFuZ2VcIjpcIk9yYW5nZVwiLFwicmVkXCI6XCJSb3RcIixcInBpbmtcIjpcIlBpbmtcIixcInllbGxvd1wiOlwiR2VsYlwiLFwidGhlbWUubGlnaHRcIjpcIkhlbGxcIixcInRoZW1lLmRhcmtcIjpcIkR1bmtlbFwiLFwidGhlbWUuc3lzdGVtXCI6XCJTeW5jaHJvbmlzaWVydW5nIG1pdCBPUy1FaW5zdGVsbHVuZ1wiLFwidG9vbGJhci5oaWRlVGFic1wiOlwiVGFicyBhdXNibGVuZGVuXCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCJUYWJzIGFuemVpZ2VuXCIsXCJ0b29sYmFyLmxvY2tcIjpcIlNwZXJyZW5cIixcInRvb2xiYXIudW5sb2NrXCI6XCJGcmVpc2NoYWx0ZW5cIixcInRvb2xiYXIuY29sb3JMaW5raW5nXCI6XCJGYXJidmVya27DvHBmdW5nXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwiTGF5b3V0IMOkbmRlcm5cIixcInRvb2xiYXIuc2F2ZU1lbnVcIjpcIk1lbsO8IHNwZWljaGVyblwiLFwidG9vbGJhci5tYXhpbWl6ZVdpbmRvd1wiOlwiRmVuc3RlciBtYXhpbWllcmVuXCIsXCJ0b29sYmFyLnJlc3RvcmVXaW5kb3dcIjpcIkZlbnN0ZXIgd2llZGVyaGVyc3RlbGxlblwiLFwidG9vbGJhci5taW5pbWl6ZVdpbmRvd1wiOlwiRmVuc3RlciBtaW5pbWllcmVuXCIsXCJjaGFuZ2VMYXlvdXQuZnVsbFdpZHRoXCI6XCJWb2xsZSBCcmVpdGVcIixcImNoYW5nZUxheW91dC5jb2x1bW5zXCI6XCJTcGFsdGVuXCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwiWmVpbGVuXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwiUmFzdGVyXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCJXb3Jrc3BhY2UgZ2V3ZWNoc2VsdFwiLFwic3VjY2Vzc0luZGljYXRvci5oaWRkZW5cIjpcIlRhYnMgc2luZCBhdXNnZWJsZW5kZXRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIlRhYnMgd2VyZGVuIGFuZ2V6ZWlndFwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIlNlaXRlIGlzdCBnZXNwZXJydFwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwiU2VpdGUgaXN0IGZyZWlnZXNjaGFsdGV0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCJXb3Jrc3BhY2UgZ2VzcGVpY2hlcnRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwiV29ya3NwYWNlIGdlc3BlaWNoZXJ0IGFscyB7e3dvcmtzcGFjZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIldvcmtzcGFjZSB1bWJlbmFubnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCI6XCJTZWl0ZSBnZXNwZWljaGVydFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIERFXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcIlNlaXRlIGdlc3BlaWNoZXJ0IGFscyB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIlNlaXRlIHVtYmVuYW5udFwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJBbmdld2FuZHRlIEtvbnRleHRncnVwcGVcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJ7e2NvbG9yTmFtZX19IGFuZ2V3YW5kdGUgS29udGV4dGdydXBwZVwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwiQW5zaWNodCBhdXMgZGVyIEtvbnRleHRncnVwcGUgZW50ZmVybnRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld3NSZW1vdmVkXCI6XCJBbnNpY2h0ZW4gYXVzIGRlciBLb250ZXh0Z3J1cHBlIGVudGZlcm50XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX19IGFuZ2V3YW5kdGVzIExheW91dFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCI6XCJXb3Jrc3BhY2UgZ2Vsw7ZzY2h0XCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwiU2VpdGUga29ubnRlIG5pY2h0IGdlc3BlaWNoZXJ0IHdlcmRlblwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwiV29ya3NwYWNlIGtvbm50ZSBuaWNodCBnZXNwZWljaGVydCB3ZXJkZW5cIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwiU2VpdGUga2FubiBuaWNodCBkdXBsaXppZXJ0IHdlcmRlblwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCJXaXIgaGFiZW4gdmVyc3VjaHQsIGRpZXNlbSBUYWIgZWluZSBGYXJiZSB6dW9yZG5lbiwgYWJlciBkZXIgRWlnZW50w7xtZXIgZGVyIFdlYnNpdGUvZGVzIEluaGFsdHMgaGF0IHNpZSBub2NoIG5pY2h0IGFrdGl2aWVydFwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwiQWJicmVjaGVuXCIsXCJnbG9iYWwuY29uZmlybVwiOlwiQmVzdMOkdGlnZW5cIixcImdsb2JhbC5zYXZlXCI6XCJTcGVpY2hlcm5cIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBERVwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnQgRENcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIERDXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIERFXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCJCcm93c2VyLU1lbsO8IMO2ZmZuZW5cIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIkJyb3dzZXItVGFiXCIsXCJhcmlhLnZpZXdUYWJcIjpcIlRhYiDigJ5BbnNpY2h04oCcIGbDvHIge3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwiQnV0dG9uIOKAnlNlaXRlIHNjaGxpZcOfZW7igJwgZsO8ciB7e3RpdGxlfX1cIixcImFyaWEuY2xvc2VUYWJcIjpcIlRhYiBzY2hsaWXDn2VuIHt7dGl0bGV9fVwiLFwiYXJpYS50aXRsZVwiOlwiQmV6ZWljaG51bmdcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIlZlcndlbmRlbiBTaWUgZGllIEVzY2FwZS1UYXN0ZSwgdW0gZGVuIERpYWxvZyB6dXIgQXVzd2FobCB2b24gS29udGV4dGdydXBwZW4genUgc2NobGllw59lblwiLFwiYXJpYS5jb2xvckxpbmtpbmdcIjpcIkZhcmJ2ZXJrbsO8cGZ1bmcgZWluLSBvZGVyIGF1c2JsZW5kZW5cIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIkJpdHRlIHfDpGhsZW4gU2llIGVpbmUgQW5zaWNodCwgdW0gZGllIEZhcmJ2ZXJrbsO8cGZ1bmcgYW56dXdlbmRlblwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwiQWt0dWVsbGUgQW5zaWNodCwgZGllIGRlciBLb250ZXh0Z3J1cHBlIHt7bmFtZX19IHp1Z2VvcmRuZXQgaXN0XCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwiQWt0dWVsbGUgQW5zaWNodGVuLCBkaWUgZGVyIEtvbnRleHRncnVwcGUge3tuYW1lfX0genVnZW9yZG5ldCBzaW5kXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIkFrdGl2ZSBBbnNpY2h0IGF1ZiBkaWUgS29udGV4dGdydXBwZSB7e25hbWV9fSBzZXR6ZW5cIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIkFrdGl2ZSBBbnNpY2h0ZW4gYXVmIGRpZSBLb250ZXh0Z3J1cHBlIHt7bmFtZX19IHNldHplblwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcIlZlcndlbmRlbiBTaWUgZGllIEVzY2FwZS1UYXN0ZSwgdW0gZGVuIERpYWxvZyB6dXIgTGF5b3V0w6RuZGVydW5nIHp1IHNjaGxpZcOfZW5cIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWIgREVcIixcImdsb2JhbC50YWJcIjpcIlRhYiBERVwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFyayBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkIERFXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZSBERVwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlIERFXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbCBERVwiLFwiYm9va21hcmtzLmNsb3NlUGFuZWxcIjpcIkNsb3NlIEJvb2ttYXJrcyBQYW5lbCBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzIERFXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzIERFXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXMgREVcIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3MgREVcIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXQgREVcIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyIERFXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXIgREVcIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXIgREVcIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyIERFXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3MgREVcIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzIERFXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmQgREVcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaCBERVwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXQgREVcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXIgREVcIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fSBERVwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzIERFXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluIERFXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZSBERVwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmUgREVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkIERFXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIiBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZCBERVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYiBERVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uIERFXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgREVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMgREVcIixcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBERVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBERVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnNhdmVTdXBlcnRhYkNvdW50XCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IERFXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB0byB0aGlzIFN1cGVydGFiIHdpbGwgYmUgbG9zdC4gREVcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IERFXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gREVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIERFXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBERVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIERFXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gREVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgREVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgREVcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IERFXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIERFXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXQgREVcIn0nKSxxYT1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIuaWsOOBl+OBhOOCpuOCo+ODs+ODieOCplwiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwi5paw44GX44GE44Oa44O844K4XCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLmnIDlvozjgavkv53lrZjjgZXjgozjgZ/lpInmm7TjgavmiLvjgZlcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwi44Ov44O844Kv44K544Oa44O844K544Gr5YiH44KK5pu/44GI44KLXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLlpJboprNcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOCkuS/neWtmFwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLliKXlkI3jgafkv53lrZguLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi44Ov44O844Kv44K544Oa44O844K55ZCN44KS5aSJ5pu0XCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOCkuWJiumZpFwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCLjg4Djgqbjg7Pjg63jg7zjg4lcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLjg5rjg7zjgrjjgpLkv53lrZhcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIuODmuODvOOCuOOCkuWIpeWQjeOBp+S/neWtmC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIuWNsOWIty4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIuODl+ODquODs+ODiOOCueOCr+ODquODvOODs1wiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIuOCpuOCo+ODs+ODieOCpuOCkumWieOBmOOCi1wiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIuOCueODiOOCouODleODreODs+ODiOOCkumWi+OBj1wiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLjg5fjg6njg4Pjg4jjg5Xjgqnjg7zjg6DjgpLntYLkuobjgZnjgotcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIuaWsOOBl+OBhOODk+ODpeODvFwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIuODh+ODleOCqeODq+ODiOOBruOCpuOCp+ODluODluODqeOCpuOCtuODvOOBp+ODk+ODpeODvOOCkumWi+OBj1wiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCLjg4fjg5Xjgqnjg6vjg4jjga7jgqbjgqfjg5bjg5bjg6njgqbjgrbjg7zjgafjg5Pjg6Xjg7zjgpLplovjgY9cIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIEpQXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCLjg5Pjg6Xjg7zjgpLjg6rjg63jg7zjg4lcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLjg5Pjg6Xjg7zjgpLjg6rjg63jg7zjg4lcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIEpQXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLjg5Pjg6Xjg7zjgpLopIfoo71cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLjg5Pjg6Xjg7zjgpLopIfoo71cIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIuODk+ODpeODvOOCkuODgeODo+ODjeODq+OBq+i/veWKoFwiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIuODk+ODpeODvOOCkuODgeODo+ODjeODq+OBq+i/veWKoFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi44OB44Oj44ON44Or44GL44KJ44OT44Ol44O844KS5YmK6ZmkXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwi44OB44Oj44ON44Or44GL44KJ44OT44Ol44O844KS5YmK6ZmkXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIuODk+ODpeODvOOCkumWieOBmOOCi1wiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi44OT44Ol44O844KS6ZaJ44GY44KLXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIEpQXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCLjg5rjg7zjgrjjgpLopIfoo71cIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIuWNsOWIt1wiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi44GZ44G544Gm44KS5Y2w5Yi3XCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOCkuWIpeWQjeOBp+S/neWtmFwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi44Oa44O844K444KS5Yil5ZCN44Gn5L+d5a2YXCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgSlBcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX3jga/jgZnjgafjgavlrZjlnKjjgZfjgabjgYTjgb7jgZnjgIJcIixcInNhdmVNb2RhbC5wbGVhc2VFbnRlclZhbGlkTmFtZVwiOlwi5pyJ5Yq544Gq5ZCN5YmN44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GEXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwi44Oa44O844K45ZCN44KS5aSJ5pu0XCIsXCJzYXZlTW9kYWwuY2xvc2VQYWdlXCI6XCLjg5rjg7zjgrjjgpLplonjgZjjgotcIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwi5aSJ5pu044KS56C05qOEXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwi44GZ44G544Gm56C05qOEXCIsXCJzYXZlTW9kYWwuc2F2ZUFsbFwiOlwi44GZ44G544Gm5L+d5a2YXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIumWieOBmOOCi+WJjeOBq++8iHt7Y291bnR9fe+8ieOBpOOBruODmuODvOOCuOOCkuS/neWtmOOBl+OBvuOBmeOBi++8n1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZSBKUFwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiIEpQXCIsXCJhZGROZXdQYWdlXCI6XCLmlrDjgZfjgYTjg5rjg7zjgrjjgpLov73liqBcIixcImFkZE5ld1RhYlwiOlwi5paw44GX44GE44K/44OW44KS6L+95YqgXCIsXCJhZGROZXdWaWV3XCI6XCLmlrDjgZfjgYTjg5Pjg6Xjg7xcIixcInJlc3RvcmVNb2RhbFwiOlwi5pys5b2T44Gr5pyA5b6M44Gr5L+d5a2Y44GV44KM44Gf5aSJ5pu044Gr5oi744GX44G+44GZ44GL77yfXCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwi5L+d5a2Y44GV44KM44Gm44GE44Gq44GE5aSJ5pu044Gv56C05qOE44GV44KM44G+44GZXCIsXCJtb2RhbC5kaXNjYXJkUGFnZVdhcm5pbmdcIjpcIuS/neWtmOOBleOCjOOBpuOBhOOBquOBhOOBk+OBruODmuODvOOCuOOBuOOBruWkieabtOOBr+WkseOCj+OCjOOBvuOBmeOAglwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcIumWieOBmOOCi+WJjeOBq+WkieabtOOCkuS/neWtmOOBl+OBvuOBmeOBi++8n1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCLjg5rjg7zjgrjjgpLplonjgZjjgotcIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCI6XCLmnKzlvZPjgat7e3dvcmtzcGFjZX1944Gr5YiH44KK5pu/44GI44G+44GZ44GL77yfXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLkv53lrZjjgZXjgozjgabjgYTjgarjgYTlpInmm7Tjga/noLTmo4TjgZXjgozjgb7jgZlcIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCLjgZPjga7jg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLmsLjkuYXjgavliYrpmaTjgZfjgabjgoLjgojjgo3jgZfjgYTjgafjgZnjgYvvvJ9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCJ7e3dvcmtzcGFjZX1944Go44GE44GG5ZCN5YmN44Gu44Ov44O844Kv44K544Oa44O844K544GM44GZ44Gn44Gr5a2Y5Zyo44GX44G+44GZ44CC572u44GN5o+b44GI44G+44GZ44GL77yfXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZy5ib2R5XCI6XCLlkIzjgZjlkI3liY3jga7jg6/jg7zjgq/jgrnjg5rjg7zjgrnjgYzjgZnjgafjgavlrZjlnKjjgZfjgb7jgZnjgILnva7jgY3mj5vjgYjjgovjgajjgIHnj77lnKjjga7lhoXlrrnjga/kuIrmm7jjgY3jgZXjgozjgb7jgZnjgIJcIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC5yZXBsYWNlXCI6XCLnva7jgY3mj5vjgYjjgotcIixcImNsb3NlUGxhdGZvcm1cIjpcIuODl+ODqeODg+ODiOODleOCqeODvOODoOOCkumWieOBmOOCi1wiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcInt7d29ya3NwYWNlfX3jg5fjg6njg4Pjg4jjg5Xjgqnjg7zjg6DjgpLplonjgZjjgotcIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi44OX44Op44OD44OI44OV44Kp44O844Og44KS6ZaJ44GY44KL44Go44CB5a6f6KGM5Lit44Gu44Ov44O844Kv44K544Oa44O844K544CB44Ki44OX44Oq44CB44OX44Ot44K744K544GM44GZ44G544Gm6ZaJ44GY44G+44GZ44CCXCIsXCJiYWNrXCI6XCLmiLvjgotcIixcImZvcndhcmRcIjpcIumAsuOCgFwiLFwicmVsb2FkXCI6XCLjg6rjg63jg7zjg4lcIixcImdyZWVuXCI6XCLjgrDjg6rjg7zjg7NcIixcInB1cnBsZVwiOlwi44OR44O844OX44OrXCIsXCJvcmFuZ2VcIjpcIuOCquODrOODs+OCuFwiLFwicmVkXCI6XCLjg6zjg4Pjg4lcIixcInBpbmtcIjpcIuODlOODs+OCr1wiLFwieWVsbG93XCI6XCLjgqTjgqjjg63jg7xcIixcInRoZW1lLmxpZ2h0XCI6XCLjg6njgqTjg4hcIixcInRoZW1lLmRhcmtcIjpcIuODgOODvOOCr1wiLFwidGhlbWUuc3lzdGVtXCI6XCJPU+OBruioreWumuOBqOWQjOacn1wiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi44K/44OW44KS6Z2e6KGo56S6XCIsXCJ0b29sYmFyLnNob3dUYWJzXCI6XCLjgr/jg5bjgpLooajnpLpcIixcInRvb2xiYXIubG9ja1wiOlwi44Ot44OD44KvXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi44Ot44OD44Kv6Kej6ZmkXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwi44Kr44Op44O844Oq44Oz44KvXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi44Os44Kk44Ki44Km44OI44KS5aSJ5pu0XCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCLjg6Hjg4vjg6Xjg7zjgpLkv53lrZhcIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIuOCpuOCo+ODs+ODieOCpuOCkuacgOWkp+WMluOBmeOCi1wiLFwidG9vbGJhci5yZXN0b3JlV2luZG93XCI6XCLjgqbjgqPjg7Pjg4njgqbjgpLlvqnlhYNcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIuOCpuOCo+ODs+ODieOCpuOCkuacgOWwj+WMluOBmeOCi1wiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwi5YWo5bmFXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi5YiXXCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi6KGMXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi44Kw44Oq44OD44OJXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgYzliIfjgormm7/jgo/jgorjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLjgr/jg5bjgYzpnZ7ooajnpLrjgavjgarjgaPjgabjgYTjgb7jgZlcIixcInN1Y2Nlc3NJbmRpY2F0b3Iuc2hvd25cIjpcIuOCv+ODluOBjOihqOekuuOBleOCjOOBpuOBhOOBvuOBmVwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIuODmuODvOOCuOOBjOODreODg+OCr+OBleOCjOOBpuOBhOOBvuOBmVwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwi44Oa44O844K444Gu44Ot44OD44Kv44GM6Kej6Zmk44GV44KM44Gm44GE44G+44GZXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgYzkv53lrZjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi44Ov44O844Kv44K544Oa44O844K544GMe3t3b3Jrc3BhY2V9feOBqOOBl+OBpuS/neWtmOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VSZW5hbWVkXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnlkI3jgYzlpInmm7TjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCI6XCLjg5rjg7zjgrjjgYzkv53lrZjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLiBKUFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCLjg5rjg7zjgrjjgYx7e3RpdGxlfX3jgajjgZfjgabkv53lrZjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIuODmuODvOOCuOWQjeOBjOWkieabtOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLjgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgYzpgannlKjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJ7e2NvbG9yTmFtZX1944Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44GM6YGp55So44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCLjgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgYvjgonjg5Pjg6Xjg7zjgYzliYrpmaTjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld3NSZW1vdmVkXCI6XCLjgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgYvjgonjg5Pjg6Xjg7zjgYzliYrpmaTjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwie3tsYXlvdXROYW1lfX3jg6zjgqTjgqLjgqbjg4jjgYzpgannlKjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwi44Ov44O844Kv44K544Oa44O844K544GM5YmK6Zmk44GV44KM44G+44GX44GfXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwi44Oa44O844K444KS5L+d5a2Y44Gn44GN44G+44Gb44KT44Gn44GX44GfXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgpLkv53lrZjjgafjgY3jgb7jgZvjgpPjgafjgZfjgZ9cIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwi44Oa44O844K444KS6KSH6KO944Gn44GN44G+44Gb44KT44Gn44GX44GfXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcIuOBk+OBruOCv+ODluOCkuOCq+ODqeODvOODquODs+OCr+OBl+OCiOOBhuOBqOOBl+OBvuOBl+OBn+OBjOOAgeOCteOCpOODiC/jgrPjg7Pjg4bjg7Pjg4Tjga7jgqrjg7zjg4rjg7zjgYzjgb7jgaDjgZPjgozjgpLmnInlirnjgavjgZfjgabjgYTjgb7jgZvjgpNcIixcImdsb2JhbC5jYW5jZWxcIjpcIuOCreODo+ODs+OCu+ODq1wiLFwiZ2xvYmFsLmNvbmZpcm1cIjpcIueiuuiqjVwiLFwiZ2xvYmFsLnNhdmVcIjpcIuS/neWtmFwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlIEpQXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgY29udGVudCBKUFwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWQgSlBcIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmUgSlBcIixcImFyaWEub3BlbkJyb3dzZXJcIjpcIuODluODqeOCpuOCtuODvOODoeODi+ODpeODvOOCkumWi+OBj1wiLFwiYXJpYS5icm93c2VyVGFic1wiOlwi44OW44Op44Km44K244O844K/44OWXCIsXCJhcmlhLnZpZXdUYWJcIjpcInt7dGl0bGV9feOBruOCv+ODluOCkuihqOekulwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcInt7dGl0bGV9feOBruODmuODvOOCuOOCv+ODluODnOOCv+ODs+OCkumWieOBmOOCi1wiLFwiYXJpYS5jbG9zZVRhYlwiOlwie3t0aXRsZX1944K/44OW44KS6ZaJ44GY44KLXCIsXCJhcmlhLnRpdGxlXCI6XCLjgr/jgqTjg4jjg6tcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIuOCqOOCueOCseODvOODl+OCkuS9v+eUqOOBl+OBpuOAgeOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+mBuOaKnuODgOOCpOOCouODreOCsOOCkumWieOBmOOCi1wiLFwiYXJpYS5jb2xvckxpbmtpbmdcIjpcIuOCq+ODqeODvOODquODs+OCr+OBruihqOekui/pnZ7ooajnpLpcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIuOCq+ODqeODvOODquODs+OCr+OCkumBqeeUqOOBmeOCi+ODk+ODpeODvOOCkumBuOaKnuOBl+OBpuOBj+OBoOOBleOBhFwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwi54++5Zyo44Gu44OT44Ol44O844Gve3tuYW1lfX3jgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgavlibLjgorlvZPjgabjgonjgozjgabjgYTjgb7jgZlcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCLnj77lnKjjga7jg5Pjg6Xjg7zjga97e25hbWV9feOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBq+WJsuOCiuW9k+OBpuOCieOCjOOBpuOBhOOBvuOBmVwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCLjgqLjgq/jg4bjgqPjg5bjg5Pjg6Xjg7zjgpJ7e25hbWV9feOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBq+ioreWumlwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3c1wiOlwi44Ki44Kv44OG44Kj44OW44OT44Ol44O844KSe3tuYW1lfX3jgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgavoqK3lrppcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLjgqjjgrnjgrHjg7zjg5fjgpLkvb/nlKjjgZfjgabjgIHjg6zjgqTjgqLjgqbjg4jlpInmm7Tpgbjmip7jg4DjgqTjgqLjg63jgrDjgpLplonjgZjjgotcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWIgSlBcIixcImdsb2JhbC50YWJcIjpcIlRhYiBKUFwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFyayBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkIEpQXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZSBKUFwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbCBKUFwiLFwiYm9va21hcmtzLmNsb3NlUGFuZWxcIjpcIkNsb3NlIEJvb2ttYXJrcyBQYW5lbCBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzIEpQXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzIEpQXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXMgSlBcIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3MgSlBcIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXQgSlBcIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyIEpQXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXIgSlBcIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXIgSlBcIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3MgSlBcIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzIEpQXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmQgSlBcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaCBKUFwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXQgSlBcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXIgSlBcIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fSBKUFwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzIEpQXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluIEpQXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZSBKUFwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmUgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIiBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZCBKUFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYiBKUFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uIEpQXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgSlBcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMgSlBcIixcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnNhdmVTdXBlcnRhYkNvdW50XCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IEpQXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB0byB0aGlzIFN1cGVydGFiIHdpbGwgYmUgbG9zdC4gSlBcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IEpQXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gSlBcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIEpQXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBKUFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIEpQXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gSlBcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgSlBcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgSlBcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IEpQXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIEpQXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXQgSlBcIn0nKSxaYT1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIuyDiCDssL1cIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIuyDiCDtjpjsnbTsp4BcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIuuniOyngOunieycvOuhnCDsoIDsnqXtlZwg67OA6rK9IOyCrO2VreycvOuhnCDrs7Xsm5BcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwi7J6R7JeFIOqzteqwhCDsoITtmZhcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIuuqqOyWkVwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwi7J6R7JeFIOqzteqwhCDsoIDsnqVcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi64uk66W4IOydtOumhOycvOuhnCDsnpHsl4Ug6rO16rCEIOyggOyepS4uLlwiLFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCI6XCLsnpHsl4Ug6rO16rCEIOydtOumhCDrsJTqvrjquLBcIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwi7J6R7JeFIOqzteqwhCDsgq3soJxcIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwi64uk7Jq066Gc65OcXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwi7Y6Y7J207KeAIOyggOyepVwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwi64uk66W4IOydtOumhOycvOuhnCDtjpjsnbTsp4Ag7KCA7J6lLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwi7J247IeELi4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwi7ZmU66m0IOyduOyHhFwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIuywvSDri6vquLBcIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCLrp6TsnqUg7Je06riwXCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIu2UjOueq+2PvCDsooXro4xcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIuyDiCDrt7BcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCLquLDrs7gg7Ju5IOu4jOudvOyasOyggOuhnCDrt7Ag7Je06riwXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIuq4sOuzuCDsm7kg67iM65287Jqw7KCA66GcIOu3sCDsl7TquLBcIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIEtSXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCLrt7Ag64uk7IucIOuhnOuTnFwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld3NcIjpcIuu3sCDri6Tsi5wg66Gc65OcXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBLUlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwi67ewIOuzteygnFwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcIuu3sCDrs7XsoJxcIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIuyxhOuEkOyXkCDrt7Ag7LaU6rCAXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3c1wiOlwi7LGE64SQ7JeQIOu3sCDstpTqsIBcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcIuyxhOuEkOyXkOyEnCDrt7Ag7KCc6rGwXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwi7LGE64SQ7JeQ7IScIOu3sCDsoJzqsbBcIixcImNvbnRleHRNZW51LmNsb3NlVmlld1wiOlwi67ewIOuLq+q4sFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi67ewIOuLq+q4sFwiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBLUlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwi7Y6Y7J207KeAIOuzteygnFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwi7J247IeEXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCLrqqjrkZAg7J247IeEXCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuuLpOuluCDsnbTrpoTsnLzroZwg7J6R7JeFIOqzteqwhCDsoIDsnqVcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIuuLpOuluCDsnbTrpoTsnLzroZwg7Y6Y7J207KeAIOyggOyepVwiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlIEtSXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX197J20KOqwgCkg7J2066+4IOyhtOyerO2VqeuLiOuLpC5cIixcInNhdmVNb2RhbC5wbGVhc2VFbnRlclZhbGlkTmFtZVwiOlwi7Jyg7Zqo7ZWcIOydtOumhOydhCDsnoXroKXtlZjsi63si5zsmKQuXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwi7Y6Y7J207KeAIOydtOumhCDrsJTqvrjquLBcIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcIu2OmOydtOyngCDri6vquLBcIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwi67OA6rK9IOyCrO2VrSDtj5DquLBcIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCLrqqjrkZAg7Y+Q6riwXCIsXCJzYXZlTW9kYWwuc2F2ZUFsbFwiOlwi66qo65GQIOyggOyepVwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLri6vquLAg7KCE7JeQIO2OmOydtOyngCh7e2NvdW50fX3qsJwp66W8IOyggOyepe2VmOyLnOqyoOyKteuLiOq5jD9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgS1JcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBLUlwiLFwiYWRkTmV3UGFnZVwiOlwi7IOIIO2OmOydtOyngCDstpTqsIBcIixcImFkZE5ld1RhYlwiOlwi7IOIIO2DrSDstpTqsIBcIixcImFkZE5ld1ZpZXdcIjpcIuyDiCDrt7BcIixcInJlc3RvcmVNb2RhbFwiOlwi66eI7KeA66eJ7Jy866GcIOyggOyepe2VnCDrs4Dqsr0g7IKs7ZWt7Jy866GcIOuzteybkO2VmOyLnOqyoOyKteuLiOq5jD9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLsoIDsnqXtlZjsp4Ag7JWK7J2AIOuzgOqyvSDsgqztla3snYAg66qo65GQIO2PkOq4sOuQqeuLiOuLpFwiLFwibW9kYWwuZGlzY2FyZFBhZ2VXYXJuaW5nXCI6XCLsnbQg7Y6Y7J207KeA7J2YIOyggOyepe2VmOyngCDslYrsnYAg67OA6rK9IOyCrO2VreydgCDrqqjrkZAg7IaQ7Iuk65Cp64uI64ukLlwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcIuuLq+q4sCDsoITsl5Ag67OA6rK9IOyCrO2VreydhCDsoIDsnqXtlZjsi5zqsqDsirXri4jquYw/XCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcIu2OmOydtOyngCDri6vquLBcIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCI6XCJ7e3dvcmtzcGFjZX19KOycvCnroZwg7KCE7ZmY7ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi7KCA7J6l7ZWY7KeAIOyViuydgCDrs4Dqsr0g7IKs7ZWt7J2AIOuqqOuRkCDtj5DquLDrkKnri4jri6RcIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCLsnbQg7J6R7JeFIOqzteqwhOydhCDsmIHqtazsoIHsnLzroZwg7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcInt7d29ya3NwYWNlfX0o7J20KeudvOuKlCDsnbTrpoTsnZgg7J6R7JeFIOqzteqwhOydtCDsnbTrr7gg7KG07J6s7ZWp64uI64ukLiDqtZDssrTtlZjsi5zqsqDsirXri4jquYw/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZy5ib2R5XCI6XCLqsJnsnYAg7J2066aE7J2YIOyekeyXhSDqs7XqsITsnbQg7J2066+4IOyhtOyerO2VqeuLiOuLpC4g6rWQ7LK07ZWY66m0IO2YhOyerCDrgrTsmqnsnYQg642u7Ja07JOw6rKMIOuQqeuLiOuLpC5cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC5yZXBsYWNlXCI6XCLqtZDssrRcIixcImNsb3NlUGxhdGZvcm1cIjpcIu2UjOueq+2PvCDri6vquLBcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCJ7e3dvcmtzcGFjZX19IO2UjOueq+2PvCDri6vquLBcIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi7ZSM656r7Y+87J2EIOuLq+ycvOuptCDsi6Ttlokg7KSR7J24IOuqqOuToCDsnpHsl4Ug6rO16rCELCDslbEg65iQ64qUIO2UhOuhnOyEuOyKpOqwgCDri6vtnpnri4jri6QuXCIsXCJiYWNrXCI6XCLrkqTroZwg6rCA6riwXCIsXCJmb3J3YXJkXCI6XCLslZ7snLzroZwg6rCA6riwXCIsXCJyZWxvYWRcIjpcIuyDiOuhnOqzoOy5qFwiLFwiZ3JlZW5cIjpcIuuFueyDiVwiLFwicHVycGxlXCI6XCLrs7Trnbzsg4lcIixcIm9yYW5nZVwiOlwi7Jik66CM7KeA7IOJXCIsXCJyZWRcIjpcIuu5qOqwhOyDiVwiLFwicGlua1wiOlwi7ZWR7YGs7IOJXCIsXCJ5ZWxsb3dcIjpcIuuFuOuegOyDiVwiLFwidGhlbWUubGlnaHRcIjpcIuuwneydgFwiLFwidGhlbWUuZGFya1wiOlwi7Ja065GQ7Jq0XCIsXCJ0aGVtZS5zeXN0ZW1cIjpcIk9TIOyEpOygleqzvCDrj5nquLDtmZRcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIu2DrSDsiKjquLDquLBcIixcInRvb2xiYXIuc2hvd1RhYnNcIjpcIu2DrSDtkZzsi5xcIixcInRvb2xiYXIubG9ja1wiOlwi7J6g6riIXCIsXCJ0b29sYmFyLnVubG9ja1wiOlwi7J6g6riIIO2VtOygnFwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIuyDieyDgSDsl7DqsrBcIixcInRvb2xiYXIuY2hhbmdlTGF5b3V0XCI6XCLroIjsnbTslYTsm4Mg67OA6rK9XCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCLsoIDsnqUg66mU64m0XCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLssL0g7LWc64yA7ZmUXCIsXCJ0b29sYmFyLnJlc3RvcmVXaW5kb3dcIjpcIuywvSDrs7Xsm5BcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIuywvSDstZzshoztmZRcIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIuyghOyytCDrhIjruYRcIixcImNoYW5nZUxheW91dC5jb2x1bW5zXCI6XCLsl7RcIixcImNoYW5nZUxheW91dC5Sb3dzXCI6XCLtlolcIixcImNoYW5nZUxheW91dC5HcmlkXCI6XCLqt7jrpqzrk5xcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU3dpdGNoZWRcIjpcIuyekeyXhSDqs7XqsIQg7KCE7ZmYXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi7YOtIOyIqOq5gFwiLFwic3VjY2Vzc0luZGljYXRvci5zaG93blwiOlwi7YOtIO2RnOyLnFwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIu2OmOydtOyngCDsnqDquIhcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIu2OmOydtOyngCDsnqDquIgg7ZW07KCc65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCLsnpHsl4Ug6rO16rCEIOyggOyepeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZEFzXCI6XCLsnpHsl4Ug6rO16rCE7J20IHt7d29ya3NwYWNlfX0o7Jy8KeuhnCDsoIDsnqXrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwi7J6R7JeFIOqzteqwhCDsnbTrpoQg67OA6rK965CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi7Y6Y7J207KeAIOyggOyepeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIEtSXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcIu2OmOydtOyngOqwgCB7e3RpdGxlfX0o7Jy8KeuhnCDsoIDsnqXrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIu2OmOydtOyngCDsnbTrpoQg67OA6rK965CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIuy7qO2FjeyKpO2KuCDqt7jro7kg7KCB7Jqp65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLm5hbWVkQ29udGV4dEdyb3VwQXBwbGllZFwiOlwie3tjb2xvck5hbWV9fSDsu6jthY3siqTtirgg6re466O5IOyggeyaqeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi7Luo7YWN7Iqk7Yq4IOq3uOujueyXkOyEnCDrt7Ag7KCc6rGw65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi7Luo7YWN7Iqk7Yq4IOq3uOujueyXkOyEnCDrt7Ag7KCc6rGw65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX19IOugiOydtOyVhOybgyDsoIHsmqnrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwi7J6R7JeFIOqzteqwhCDsgq3soJzrkKhcIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCLtjpjsnbTsp4Ag7KCA7J6lIOyLpO2MqFwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi7J6R7JeFIOqzteqwhCDsoIDsnqUg7Iuk7YyoXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIu2OmOydtOyngCDrs7XsoJwg7Iuk7YyoXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcIuydtCDtg63snZgg7IOJ7IOBIOunge2BrOulvCDsi5zrj4Ttlojsp4Drp4wg7IKs7J207Yq4L+y9mO2FkOy4oCDshozsnKDsnpDqsIAg7JWE7KeBIO2ZnOyEse2ZlO2VmOyngCDslYrslZjsirXri4jri6QuXCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLst6jshoxcIixcImdsb2JhbC5jb25maXJtXCI6XCLtmZXsnbhcIixcImdsb2JhbC5zYXZlXCI6XCLsoIDsnqVcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBLUlwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnQgS1JcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIEtSXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIEtSXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLruIzrnbzsmrDsoIAg66mU64m0IOyXtOq4sFwiLFwiYXJpYS5icm93c2VyVGFic1wiOlwi67iM65287Jqw7KCAIO2DrVwiLFwiYXJpYS52aWV3VGFiXCI6XCJ7e3RpdGxlfX3snZgg67ewIO2DrVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcInt7dGl0bGV9feydmCDtjpjsnbTsp4Ag64ur6riwIO2DrVwiLFwiYXJpYS5jbG9zZVRhYlwiOlwi7YOtIHt7dGl0bGV9fSDri6vquLBcIixcImFyaWEudGl0bGVcIjpcIuygnOuqqVwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwi7J207Iqk7LyA7J207ZSE66W8IOyCrOyaqe2VmOyXrCDsu6jthY3siqTtirgg6re466O5IOyEoO2DnSDrjIDtmZTsg4HsnpAg64ur6riwXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi7IOJ7IOBIOyXsOqysCDtkZzsi5wg65iQ64qUIOyIqOq4sOq4sFwiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwi7IOJ7IOBIOyXsOqysOydhCDsoIHsmqntlZjroKTrqbQg67ew66W8IOyEoO2Dne2VmOyLreyLnOyYpC5cIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcInt7bmFtZX19IOy7qO2FjeyKpO2KuCDqt7jro7nsl5Ag7ZWg64u565CcIO2YhOyerCDrt7BcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCJ7e25hbWV9fSDsu6jthY3siqTtirgg6re466O57JeQIO2VoOuLueuQnCDtmITsnqwg67ewXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIu2ZnOyEsSDrt7Drpbwge3tuYW1lfX0g7Luo7YWN7Iqk7Yq4IOq3uOujueycvOuhnCDshKTsoJVcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIu2ZnOyEsSDrt7Drpbwge3tuYW1lfX0g7Luo7YWN7Iqk7Yq4IOq3uOujueycvOuhnCDshKTsoJVcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLsnbTsiqTsvIDsnbTtlITrpbwg7IKs7Jqp7ZWY7JesIOugiOydtOyVhOybgyDrs4Dqsr0g64yA7ZmU7IOB7J6QIOuLq+q4sFwiLFwiZ2xvYmFsLnN1cGVydGFiXCI6XCJTdXBlcnRhYiBLUlwiLFwiZ2xvYmFsLnRhYlwiOlwiVGFiIEtSXCIsXCJib29rbWFya3MuZWRpdEJvb2ttYXJrXCI6XCJFZGl0IEJvb2ttYXJrIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFwiOlwiQm9va21hcmsgYWRkZWQgS1JcIixcImJvb2ttYXJrcy5kb25lXCI6XCJEb25lIEtSXCIsXCJib29rbWFya3MucmVtb3ZlXCI6XCJSZW1vdmUgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya3NQYW5lbFwiOlwiQm9va21hcmtzIFBhbmVsIEtSXCIsXCJib29rbWFya3MuY2xvc2VQYW5lbFwiOlwiQ2xvc2UgQm9va21hcmtzIFBhbmVsIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtzXCI6XCJCb29rbWFya3MgS1JcIixcImJvb2ttYXJrcy5hbGxCb29rbWFya3NcIjpcIkFsbCBCb29rbWFya3MgS1JcIixcImJvb2ttYXJrcy5mYXZvcml0ZXNcIjpcIkZhdm9yaXRlcyBLUlwiLFwiYm9va21hcmtzLnNlYXJjaEJvb2ttYXJrc1wiOlwiU2VhcmNoIEJvb2ttYXJrcyBLUlwiLFwiYm9va21hcmtzLmNsZWFyU2VhcmNoSW5wdXRcIjpcIkNsZWFyIFNlYXJjaCBJbnB1dCBLUlwiLFwiYm9va21hcmtzLmNyZWF0ZUZvbGRlclwiOlwiQ3JlYXRlIE5ldyBGb2xkZXIgS1JcIixcImJvb2ttYXJrcy5leGl0Rm9sZGVyXCI6XCJFeGl0IEZvbGRlciBLUlwiLFwiYm9va21hcmtzLm5ld0ZvbGRlclwiOlwiTmV3IEZvbGRlciBLUlwiLFwiYm9va21hcmtzLm5hbWVkRm9sZGVyXCI6XCJ7e25hbWV9fSBGb2xkZXIgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya1NldHRpbmdzXCI6XCJ7e25hbWV9fSBCb29rbWFyayBTZXR0aW5ncyBLUlwiLFwiYm9va21hcmtzLmZvbGRlclNldHRpbmdzXCI6XCJ7e25hbWV9fSBGb2xkZXIgU2V0dGluZ3MgS1JcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFwiOlwiTm8gcmVzdWx0cyBmb3VuZCBLUlwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kU3VidGV4dFwiOlwiVGhlcmUgYXJlIG5vIGJvb2ttYXJrcyB0aGF0IG1hdGNoIHlvdXIgc2VhcmNoIEtSXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1wiOlwiTm90aGluZyB0byBzaG93IHlldCBLUlwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dTdWJ0ZXh0XCI6XCJBZGQgYSBib29rbWFyayB0byB0aGlzIGZvbGRlciBLUlwiLFwiYm9va21hcmtzLnJlc3VsdHNGb3VuZEluXCI6XCJSZXN1bHRzIGZvdW5kIGluIHt7bmFtZX19IEtSXCIsXCJib29rbWFya3MucmVzdWx0c0luT3RoZXJGb2xkZXJzXCI6XCJSZXN1bHRzIGZvdW5kIGluIG90aGVyIGZvbGRlcnMgS1JcIixcImJvb2ttYXJrcy5hbGxSZXN1bHRzRm91bmRJblwiOlwiQWxsIHJlc3VsdHMgZm91bmQgaW4gS1JcIixcImJvb2ttYXJrcy5lZGl0TmFtZVwiOlwiRWRpdCBOYW1lIEtSXCIsXCJib29rbWFya3MubW92ZVwiOlwiTW92ZSBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUaXRsZVwiOlwiQm9va21hcmsgQWRkZWQgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVG9Gb2xkZXJcIjpcIllvdXIgYm9va21hcmsgd2FzIGFkZGVkIHRvIFxcXFxcInt7Zm9sZGVyTmFtZX19XFxcXFwiIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtFZGl0ZWRUaXRsZVwiOlwiQm9va21hcmsgRWRpdGVkIEtSXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJTYXZlIFN1cGVydGFiIEtSXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMuLi4gS1JcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBLUlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcIk5ldyBUYWIgS1JcIixcImVudGVycHJpc2VTYXZlTWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcyBLUlwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgS1JcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VTYXZlTW9kYWwuc2F2ZVN1cGVydGFiQ291bnRcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFicyBiZWZvcmUgY2xvc2luZz8gS1JcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHRvIHRoaXMgU3VwZXJ0YWIgd2lsbCBiZSBsb3N0LiBLUlwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgdGhlIFxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYj8gS1JcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBTdXBlcnRhYj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSBhbmQgaXMgcGVybWFuZW50LiBLUlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwiU3VwZXJ0YWIgU2F2ZWQgS1JcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gc2F2ZWQuIEtSXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkRlbGV0ZWRcIjpcIlN1cGVydGFiIERlbGV0ZWQgS1JcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlbkRlbGV0ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBkZWxldGVkLiBLUlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlVGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFRhYiBLUlwiLFwiZW50ZXJwcmlzZUVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlU3VwZXJ0YWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VDb21tYW5kQmFyLnN3aXRjaFRvU3VwZXJ0YWJcIjpcIlN3aXRjaCB0byBTdXBlcnRhYiBLUlwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuZ29Ub1wiOlwiR28gdG8ge3t0eXBlfX0gS1JcIixcImVudGVycHJpc2VDb21tYW5kQmFyLnZpZXdNb3JlXCI6XCJWaWV3IE1vcmUgS1JcIixcImNvbnRleHRNZW51LnF1aXRFbnRlcnByaXNlQnJvd3NlclwiOlwiUXVpdCBLUlwifScpLGphPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwi0J3QvtCy0L7QtSDQvtC60L3QvlwiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwi0J3QvtCy0LDRjyDRgdGC0YDQsNC90LjRhtCwXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLQktC+0YHRgdGC0LDQvdC+0LLQuNGC0Ywg0L/QvtGB0LvQtdC00L3QuNC1INGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcItCf0LXRgNC10LrQu9GO0YfQuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0YxcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcItCS0L3QtdGI0L3QuNC5INCy0LjQtFwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjCDQutCw0LouLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi0J/QtdGA0LXQuNC80LXQvdC+0LLQsNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0YxcIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwi0KPQtNCw0LvQuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0YxcIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwi0JfQsNCz0YDRg9C30LrQuFwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YHRgtGA0LDQvdC40YbRgyDQutCw0LouLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCLQn9C10YfQsNGC0YwuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCLQoNCw0YHQv9C10YfQsNGC0LDRgtGMINGN0LrRgNCw0L1cIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCLQl9Cw0LrRgNGL0YLRjCDQvtC60L3QvlwiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcItCe0YLQutGA0YvRgtGMIFN0b3JlZnJvbnRcIixcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiOlwi0JLRi9C50YLQuCDQuNC3INC/0LvQsNGC0YTQvtGA0LzRi1wiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwi0J3QvtCy0L7QtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtVwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcItCe0YLQutGA0YvRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INGBINC/0L7QvNC+0YnRjNGOINCy0LXQsS3QsdGA0LDRg9C30LXRgNCwINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcItCe0YLQutGA0YvRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPINGBINC/0L7QvNC+0YnRjNGOINCy0LXQsS3QsdGA0LDRg9C30LXRgNCwINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOXCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBSVVwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwi0J/QtdGA0LXQt9Cw0LPRgNGD0LfQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LVcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLQn9C10YDQtdC30LDQs9GA0YPQt9C40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRj1wiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgUlVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcItCU0YPQsdC70LjRgNC+0LLQsNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LVcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLQlNGD0LHQu9C40YDQvtCy0LDRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCLQlNC+0LHQsNCy0LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INC90LAg0LrQsNC90LDQu1wiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcItCU0L7QsdCw0LLQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8g0L3QsCDQutCw0L3QsNC7XCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCLQo9C00LDQu9C40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDQuNC3INC60LDQvdCw0LvQsFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcItCj0LTQsNC70LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPINC40Lcg0LrQsNC90LDQu9CwXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcItCX0LDQutGA0YvRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCLQl9Cw0LrRgNGL0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRj1wiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBSVVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwi0JTRg9Cx0LvQuNGA0L7QstCw0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCLQn9C10YfQsNGC0LDRgtGMXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCLQn9C10YfQsNGC0LDRgtGMINCy0YHQtVwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0Ywg0LrQsNC6XCIsXCJzYXZlTWVudS5zYXZlUGFnZUFzXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YHRgtGA0LDQvdC40YbRgyDQutCw0LpcIixcInNhdmVNb2RhbC5lbnRlclZhbHVlXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBSVVwiLFwic2F2ZU1vZGFsLmFscmVhZHlFeGlzdHNcIjpcInt7dGl0bGV9fSDRg9C20LUg0YHRg9GJ0LXRgdGC0LLRg9C10YIuXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcItCS0LLQtdC00LjRgtC1INC/0L7QtNGF0L7QtNGP0YnQtdC1INC40LzRj1wiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcItCf0LXRgNC10LjQvNC10L3QvtCy0LDRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcItCX0LDQutGA0YvRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwi0J7RgtC80LXQvdC40YLRjCDQuNC30LzQtdC90LXQvdC40Y9cIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCLQntGC0LzQtdC90LjRgtGMINCy0YHQtVwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDQstGB0LVcIixcInNhdmVNb2RhbC5zYXZlUGFnZXNDb3VudFwiOlwi0KHQvtGF0YDQsNC90LjRgtGMICh7e2NvdW50fX0pINGB0YLRgNCw0L3QuNGGINC/0LXRgNC10LQg0LfQsNC60YDRi9GC0LjQtdC8P1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZSBSVVwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiIFJVXCIsXCJhZGROZXdQYWdlXCI6XCLQlNC+0LHQsNCy0LjRgtGMINC90L7QstGD0Y4g0YHRgtGA0LDQvdC40YbRg1wiLFwiYWRkTmV3VGFiXCI6XCLQlNC+0LHQsNCy0LjRgtGMINC90L7QstGD0Y4g0LLQutC70LDQtNC60YNcIixcImFkZE5ld1ZpZXdcIjpcItCd0L7QstC+0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LVcIixcInJlc3RvcmVNb2RhbFwiOlwi0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDQstC+0YHRgdGC0LDQvdC+0LLQuNGC0Ywg0L/QvtGB0LvQtdC00L3QuNC1INGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPP1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcItCS0YHQtSDQvdC10YHQvtGF0YDQsNC90LXQvdC90YvQtSDQuNC30LzQtdC90LXQvdC40Y8g0LHRg9C00YPRgiDQvtGC0LzQtdC90LXQvdGLXCIsXCJtb2RhbC5kaXNjYXJkUGFnZVdhcm5pbmdcIjpcItCS0YHQtSDQvdC10YHQvtGF0YDQsNC90LXQvdC90YvQtSDQuNC30LzQtdC90LXQvdC40Y8g0L3QsCDRjdGC0L7QuSDRgdGC0YDQsNC90LjRhtC1INCx0YPQtNGD0YIg0L/QvtGC0LXRgNGP0L3Riy5cIixcIm1vZGFsLnNhdmVDaGFuZ2VzUHJvbXB0XCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0LjQt9C80LXQvdC10L3QuNGPINC/0LXRgNC10LQg0LfQsNC60YDRi9GC0LjQtdC8P1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCLQl9Cw0LrRgNGL0YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbFwiOlwi0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDQv9C10YDQtdC50YLQuCDQsiB7e3dvcmtzcGFjZX19P1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi0JLRgdC1INC90LXRgdC+0YXRgNCw0L3QtdC90L3Ri9C1INC40LfQvNC10L3QtdC90LjRjyDQsdGD0LTRg9GCINC+0YLQvNC10L3QtdC90YtcIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INC90LDQstGB0LXQs9C00LAg0YPQtNCw0LvQuNGC0Ywg0Y3RgtGDINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINGBINC40LzQtdC90LXQvCB7e3dvcmtzcGFjZX19INGD0LbQtSDRgdGD0YnQtdGB0YLQstGD0LXRgi4g0JLRiyDRhdC+0YLQuNGC0LUg0LfQsNC80LXQvdC40YLRjCDQtdC1P1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0YEg0YLQsNC60LjQvCDQttC1INC40LzQtdC90LXQvCDRg9C20LUg0YHRg9GJ0LXRgdGC0LLRg9C10YIuINCf0YDQuCDQtdC1INC30LDQvNC10L3QtSDRgtC10LrRg9GJ0LXQtSDRgdC+0LTQtdGA0LbQuNC80L7QtSDQsdGD0LTQtdGCINC/0LXRgNC10LfQsNC/0LjRgdCw0L3Qvi5cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC5yZXBsYWNlXCI6XCLQl9Cw0LzQtdC90LjRgtGMXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLQl9Cw0LrRgNGL0YLRjCDQv9C70LDRgtGE0L7RgNC80YNcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCLQl9Cw0LrRgNGL0YLRjCDQv9C70LDRgtGE0L7RgNC80YMge3t3b3Jrc3BhY2V9fVwiLFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCI6XCLQl9Cw0LrRgNGL0YLQuNC1INC/0LvQsNGC0YTQvtGA0LzRiyDQv9GA0LjQstC10LTQtdGCINC6INC30LDQutGA0YvRgtC40Y4g0LLRgdC10YUg0YDQsNCx0L7Rh9C40YUg0L7QsdC70LDRgdGC0LXQuSwg0L/RgNC40LvQvtC20LXQvdC40Lkg0Lgg0LfQsNC/0YPRidC10L3QvdGL0YUg0L/RgNC+0YbQtdGB0YHQvtCyLlwiLFwiYmFja1wiOlwi0J3QsNC30LDQtFwiLFwiZm9yd2FyZFwiOlwi0JLQv9C10YDQtdC0XCIsXCJyZWxvYWRcIjpcItCf0LXRgNC10LfQsNCz0YDRg9C30LjRgtGMwqBcIixcImdyZWVuXCI6XCLQl9C10LvQtdC90YvQuVwiLFwicHVycGxlXCI6XCLQpNC40L7Qu9C10YLQvtCy0YvQuVwiLFwib3JhbmdlXCI6XCLQntGA0LDQvdC20LXQstGL0LlcIixcInJlZFwiOlwi0JrRgNCw0YHQvdGL0LlcIixcInBpbmtcIjpcItCg0L7Qt9C+0LLRi9C5XCIsXCJ5ZWxsb3dcIjpcItCW0LXQu9GC0YvQuVwiLFwidGhlbWUubGlnaHRcIjpcItCh0LLQtdGC0LvRi9C5XCIsXCJ0aGVtZS5kYXJrXCI6XCLQotC10LzQvdGL0LlcIixcInRoZW1lLnN5c3RlbVwiOlwi0KHQuNC90YXRgNC+0L3QuNC30LjRgNC+0LLQsNGC0Ywg0YEg0L3QsNGB0YLRgNC+0LnQutCw0LzQuCDQntChXCIsXCJ0b29sYmFyLmhpZGVUYWJzXCI6XCLQodC60YDRi9GC0Ywg0LLQutC70LDQtNC60LhcIixcInRvb2xiYXIuc2hvd1RhYnNcIjpcItCf0L7QutCw0LfQsNGC0Ywg0LLQutC70LDQtNC60LhcIixcInRvb2xiYXIubG9ja1wiOlwi0JfQsNCx0LvQvtC60LjRgNC+0LLQsNGC0YxcIixcInRvb2xiYXIudW5sb2NrXCI6XCLQoNCw0LfQsdC70L7QutC40YDQvtCy0LDRgtGMXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwi0J/RgNC40LLRj9C30LrQsCDQuiDRhtCy0LXRgtGDXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwi0JjQt9C80LXQvdC40YLRjCDQvNCw0LrQtdGCXCIsXCJ0b29sYmFyLnNhdmVNZW51XCI6XCLQnNC10L3RjiDRgdC+0YXRgNCw0L3QtdC90LjRj1wiLFwidG9vbGJhci5tYXhpbWl6ZVdpbmRvd1wiOlwi0KPQstC10LvQuNGH0LjRgtGMINC+0LrQvdC+XCIsXCJ0b29sYmFyLnJlc3RvcmVXaW5kb3dcIjpcItCS0L7RgdGB0YLQsNC90L7QstC40YLRjCDQvtC60L3QvlwiLFwidG9vbGJhci5taW5pbWl6ZVdpbmRvd1wiOlwi0KHQstC10YDQvdGD0YLRjCDQvtC60L3QvlwiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwi0J/QvtC70L3QsNGPINGI0LjRgNC40L3QsFwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcItCh0YLQvtC70LHRhtGLXCIsXCJjaGFuZ2VMYXlvdXQuUm93c1wiOlwi0KHRgtGA0L7QutC4XCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwi0KHQtdGC0LrQsFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0L/QtdGA0LXQutC70Y7Rh9C10L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci5oaWRkZW5cIjpcItCS0LrQu9Cw0LTQutC4INGB0LrRgNGL0YLRi1wiLFwic3VjY2Vzc0luZGljYXRvci5zaG93blwiOlwi0JLQutC70LDQtNC60Lgg0L/QvtC60LDQt9Cw0L3Ri1wiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcItCh0YLRgNCw0L3QuNGG0LAg0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcItCh0YLRgNCw0L3QuNGG0LAg0YDQsNC30LHQu9C+0LrQuNGA0L7QstCw0L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0YHQvtGF0YDQsNC90LXQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINGB0L7RhdGA0LDQvdC10L3QsCDQutCw0Loge3t3b3Jrc3BhY2V9fVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VSZW5hbWVkXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDQv9C10YDQtdC40LzQtdC90L7QstCw0L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcItCh0YLRgNCw0L3QuNGG0LAg0YHQvtGF0YDQsNC90LXQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gUlVcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi0KHRgtGA0LDQvdC40YbQsCDRgdC+0YXRgNCw0L3QtdC90LAg0LrQsNC6IHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwi0KHRgtGA0LDQvdC40YbQsCDQv9C10YDQtdC40LzQtdC90L7QstCw0L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLQmtC+0L3RgtC10LrRgdGC0L3QsNGPINCz0YDRg9C/0L/QsCDQv9GA0LjQvNC10L3QtdC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLQmtC+0L3RgtC10LrRgdGC0L3QsNGPINCz0YDRg9C/0L/QsCB7e2NvbG9yTmFtZX19INC/0YDQuNC80LXQvdC10L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi0J/RgNC10LTRgdGC0LDQstC70LXQvdC40LUg0YPQtNCw0LvQtdC90L4g0LjQtyDQutC+0L3RgtC10LrRgdGC0L3QvtC5INCz0YDRg9C/0L/Ri1wiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcItCf0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPINGD0LTQsNC70LXQvdGLINC40Lcg0LrQvtC90YLQtdC60YHRgtC90L7QuSDQs9GA0YPQv9C/0YtcIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwi0JzQsNC60LXRgiB7e2xheW91dE5hbWV9fSDQv9GA0LjQvNC10L3QtdC9XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINGD0LTQsNC70LXQvdCwXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwi0J3QtSDRg9C00LDQu9C+0YHRjCDRgdC+0YXRgNCw0L3QuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi0J3QtSDRg9C00LDQu9C+0YHRjCDRgdC+0YXRgNCw0L3QuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0YxcIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwi0J3QtSDRg9C00LDQu9C+0YHRjCDQv9GA0L7QtNGD0LHQu9C40YDQvtCy0LDRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcImluZm9JbmRpY2F0b3IuY29sb3JMaW5rQXR0ZW1wdFwiOlwi0JzRiyDQv9C+0L/Ri9GC0LDQu9C40YHRjCDQv9GA0LjQstGP0LfQsNGC0Ywg0YbQstC10YIg0Log0Y3RgtC+0Lkg0LLQutC70LDQtNC60LUsINC90L4g0LLQu9Cw0LTQtdC70LXRhiDRgdCw0LnRgtCwL9C60L7QvdGC0LXQvdGC0LAg0LXRidC1INC90LUg0LLQutC70Y7Rh9C40Lsg0Y3RgtGDINCy0L7Qt9C80L7QttC90L7RgdGC0YxcIixcImdsb2JhbC5jYW5jZWxcIjpcItCe0YLQvNC10L3QuNGC0YxcIixcImdsb2JhbC5jb25maXJtXCI6XCLQn9C+0LTRgtCy0LXRgNC00LjRgtGMXCIsXCJnbG9iYWwuc2F2ZVwiOlwi0KHQvtGF0YDQsNC90LjRgtGMXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgUlVcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBDb250ZW50IFJVXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBSVVwiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBSVVwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwi0J7RgtC60YDRi9GC0Ywg0LzQtdC90Y4g0LHRgNCw0YPQt9C10YDQsFwiLFwiYXJpYS5icm93c2VyVGFic1wiOlwi0JLQutC70LDQtNC60Lgg0LHRgNCw0YPQt9C10YDQsFwiLFwiYXJpYS52aWV3VGFiXCI6XCLQktC60LvQsNC00LrQsCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyB7e3RpdGxlfX1cIixcImFyaWEuY2xvc2VQYWdlXCI6XCLQmtC90L7Qv9C60LAgwqvQl9Cw0LrRgNGL0YLRjMK7INC90LAg0LLQutC70LDQtNC60LUg0LTQu9GPINGB0YLRgNCw0L3QuNGG0Ysge3t0aXRsZX19XCIsXCJhcmlhLmNsb3NlVGFiXCI6XCLQl9Cw0LrRgNGL0YLRjCDQstC60LvQsNC00LrRgyB7e3RpdGxlfX1cIixcImFyaWEudGl0bGVcIjpcItCd0LDQt9Cy0LDQvdC40LVcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcItCn0YLQvtCx0Ysg0LfQsNC60YDRi9GC0Ywg0LTQuNCw0LvQvtCzINCy0YvQsdC+0YDQsCDQutC+0L3RgtC10LrRgdGC0L3QvtC5INCz0YDRg9C/0L/Riywg0LjRgdC/0L7Qu9GM0LfRg9C50YLQtSBlc2NhcGVcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCLQn9C+0LrQsNC30LDRgtGMINC40LvQuCDRgdC60YDRi9GC0Ywg0L/RgNC40LLRj9C30LrRgyDQuiDRhtCy0LXRgtGDXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLQktGL0LHQtdGA0LjRgtC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1LCDRh9GC0L7QsdGLINC/0YDQuNC80LXQvdC40YLRjCDQv9GA0LjQstGP0LfQutGDINC6INGG0LLQtdGC0YNcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcItCi0LXQutGD0YnQtdC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1LCDQvdCw0LfQvdCw0YfQtdC90L3QvtC1INC60L7QvdGC0LXQutGB0YLQvdC+0Lkg0LPRgNGD0L/Qv9C1IHt7bmFtZX19XCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwi0KLQtdC60YPRidC40LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8sINC90LDQt9C90LDRh9C10L3QvdGL0LUg0LrQvtC90YLQtdC60YHRgtC90L7QuSDQs9GA0YPQv9C/0LUge3tuYW1lfX1cIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwi0KPRgdGC0LDQvdC+0LLQuNGC0Ywg0LDQutGC0LjQstC90L7QtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDQsiDQutC+0L3RgtC10LrRgdGC0L3Rg9GOINCz0YDRg9C/0L/RgyB7e25hbWV9fVwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3c1wiOlwi0KPRgdGC0LDQvdC+0LLQuNGC0Ywg0LDQutGC0LjQstC90YvQtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDQsiDQutC+0L3RgtC10LrRgdGC0L3Rg9GOINCz0YDRg9C/0L/RgyB7e25hbWV9fVwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcItCn0YLQvtCx0Ysg0LfQsNC60YDRi9GC0Ywg0LTQuNCw0LvQvtCzINC40LfQvNC10L3QtdC90LjRjyDQvNCw0LrQtdGC0LAsINC40YHQv9C+0LvRjNC30YPQudGC0LUgZXNjYXBlXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIFJVXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgUlVcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBSVVwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgUlVcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgUlVcIixcImJvb2ttYXJrcy5jbG9zZVBhbmVsXCI6XCJDbG9zZSBCb29rbWFya3MgUGFuZWwgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBSVVwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBSVVwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIFJVXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIFJVXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IFJVXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBSVVwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIFJVXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIFJVXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIFJVXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBSVVwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIFJVXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggUlVcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IFJVXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIFJVXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gUlVcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBSVVwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBSVVwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgUlVcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgUlVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgUlVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBSVVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIFJVXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBSVVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIFJVXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgUlVcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gUlVcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5zYXZlU3VwZXJ0YWJDb3VudFwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBSVVwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgdG8gdGhpcyBTdXBlcnRhYiB3aWxsIGJlIGxvc3QuIFJVXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBSVVwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIFJVXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBSVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC5SVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIFJVXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gUlVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgUlVcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgUlVcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IFJVXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIFJVXCIsXCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcIlF1aXQgUlVcIn0nKTtjb25zdCBRYT1IYSgpLnQsWWE9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcXQoZSk7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goZWEuR2V0UGFnZXMpfSxYYT1hc3luYyBlPT4oYXdhaXQgcXQoZS5pZGVudGl0eSkpLmRpc3BhdGNoKGVhLlVwZGF0ZVBhZ2VGb3JXaW5kb3csZSk7bGV0IGVuPSExO2FzeW5jIGZ1bmN0aW9uIHRuKGUsdCl7Y29uc3QgYT0hIXQ7bGV0IG49bmV3IFNldDtpZihhKXtjb25zdHtpZGVudGl0eTplLHBhZ2VJZDphfT10LG89QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUpLHI9YXdhaXQgby5nZXRQYWdlKGEpO3I/LnBhbmVscyYmKG49bmV3IFNldChyLnBhbmVscy5tYXAoKCh7dmlld09wdGlvbnM6ZX0pPT5lLm5hbWUpKSkpfXJldHVybiBlLm1hcCgoZT0+e2NvbnN0IHQ9ZS52aWV3T3B0aW9ucy5uYW1lLG89dD8uc3RhcnRzV2l0aChUYSk7byYmKCFhfHxhJiYhbi5oYXModCkpJiZkZWxldGUgZS52aWV3T3B0aW9ucy5uYW1lO2NvbnN0IHI9KGk9ZS52aWV3T3B0aW9ucyxpLm5hbWV8fD1gJHtUYX0ke1J0KCl9YCxpKTt2YXIgaTtyZXR1cm57Li4uZSx2aWV3T3B0aW9uczp7Li4ucix1dWlkOndlLnV1aWR9fX0pKX1hc3luYyBmdW5jdGlvbiBhbihlKXtmb3IoY29uc3QgdCBvZiBlKXQucGFuZWxzJiZhd2FpdCBvbih0LnBhbmVscyl9Y29uc3Qgbm49ZT0+bnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIm1lc3NhZ2VcImluIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLm1lc3NhZ2UmJi9FUlJfKFtBLVpdK18qKSsvLnRlc3QoZS5tZXNzYWdlKTthc3luYyBmdW5jdGlvbiBvbihlKXtjb25zdCB0PWUubWFwKChlPT5maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVWaWV3KGUudmlld09wdGlvbnMsZmluLm1lLmlkZW50aXR5KS5jYXRjaCgoZT0+e2lmKCFubihlKSl0aHJvdyBlO2NvbnNvbGUuZXJyb3IoZSl9KSkpKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodCl9Y29uc3Qgcm49KGUsdCk9PiF0LmZpbmQoKHQ9PnQ9PT1lKSksc249KGUsdCk9PmAke2V9ICgke3R9KWAsY249KGUsdCk9PntpZihybihlLHQpKXJldHVybiBlO2xldCBhPTE7Y29uc3Qgbj1lLnJlcGxhY2UoLyAqXFwoXFxkK1xcKSQvLFwiXCIpO2Zvcig7IXJuKHNuKG4sYSksdCk7KWErPTE7cmV0dXJuIHNuKG4sYSl9LGxuPWFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGJlKCk7cmV0dXJuKGF3YWl0IFByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT57dHJ5e3JldHVybiBZYShlLmlkZW50aXR5KX1jYXRjaCh0KXtKU09OLnN0cmluZ2lmeShlLmlkZW50aXR5KTtjb25zdCBhPWF3YWl0IGUuZ2V0T3B0aW9ucygpO3JldHVybiBhLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlc3x8W119fSkpKSkucmVkdWNlKCgoZSx0KT0+ZS5jb25jYXQodCkpLFtdKX0sZG49YXN5bmMoKT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuR2V0U2F2ZWRQYWdlcyx2b2lkIDApLHVuPWFzeW5jIGU9Pihhd2FpdCBwdCh3ZSkpLmRpc3BhdGNoKGx0LkdldFNhdmVkUGFnZSxlKSxwbj1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChhc3luYyBlPT4oYXdhaXQgbG4oKSkuZmluZCgodD0+dC5wYWdlSWQ9PT1lKSkpKGUpO3JldHVybiFhfHxhLnRpdGxlPT09dC50aXRsZSYmZT09PXQucGFnZUlkfHxhd2FpdCBYYSh7aWRlbnRpdHk6YS5wYXJlbnRJZGVudGl0eSxwYWdlSWQ6ZSxwYWdlOntwYWdlSWQ6dC5wYWdlSWQsdGl0bGU6dC50aXRsZX19KSxhfSx3bj1hc3luYyh7cGFnZTplfSk9Pnthd2FpdCBwbihlLnBhZ2VJZCxlKSxhd2FpdChhc3luYyBlPT4oYXdhaXQgcHQod2UpKS5kaXNwYXRjaChsdC5DcmVhdGVTYXZlZFBhZ2UsZSkpKHtwYWdlOmV9KX0saG49YXN5bmMgZT0+e2F3YWl0IHVuKGUpJiZhd2FpdChhc3luYyBlPT4oYXdhaXQgcHQod2UpKS5kaXNwYXRjaChsdC5EZWxldGVTYXZlZFBhZ2UsZSkpKGUpfSxnbj1hc3luYyh7cGFnZUlkOmUscGFnZTp0fSk9Pnthd2FpdCBwbihlLHQpO3JldHVybiBhd2FpdChhc3luYyBlPT4oYXdhaXQgcHQod2UpKS5kaXNwYXRjaChsdC5VcGRhdGVTYXZlZFBhZ2UsZSkpKHtwYWdlSWQ6ZSxwYWdlOnR9KX0sbW49YXN5bmMgZT0+YXdhaXQgdW4oZS5wYWdlSWQpP2duKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTplfSk6d24oe3BhZ2U6ZX0pLGtuPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgcXQoZS5pZGVudGl0eSkpLmRpc3BhdGNoKGVhLkF0dGFjaFBhZ2VzVG9XaW5kb3csZSkpKGUpfSxibj1hc3luYyBlPT57Y29uc3QgdD17Li4uZS5wYWdlLHBhbmVsczplLnBhZ2UucGFuZWxzJiZhd2FpdCB0bihlLnBhZ2UucGFuZWxzLGUpfTt0LnBhbmVscyYmYXdhaXQgb24odC5wYW5lbHMpLGF3YWl0IFhhKHsuLi5lLHBhZ2U6dH0pfSx5bj1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHF0KGUuaWRlbnRpdHkpKS5kaXNwYXRjaChlYS5EZXRhY2hQYWdlc0Zyb21XaW5kb3csZSkpKGUpfSxmbj1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHF0KGUuaWRlbnRpdHkpKS5kaXNwYXRjaChlYS5TZXRBY3RpdmVQYWdlRm9yV2luZG93LGUpKShlKX0sU249ZT0+WWEoZSksdm49YXN5bmMoe2lkZW50aXR5OmUscGFnZUlkOnR9KT0+KGF3YWl0IFNuKGUpKS5maW5kKChlPT5lLnBhZ2VJZD09PXQpKSxQbj1hc3luYyBlPT57YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHF0KGUuaWRlbnRpdHkpKS5kaXNwYXRjaChlYS5SZW9yZGVyUGFnZXNGb3JXaW5kb3csZSkpKGUpfSxDbj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnF1ZXVlPVtdLHRoaXMubG9ja2VkPSExfWxvY2soKXtyZXR1cm4gbmV3IFByb21pc2UoKGU9Pnt0aGlzLmxvY2tlZD90aGlzLnF1ZXVlLnB1c2goZSk6KHRoaXMubG9ja2VkPSEwLGUoKSl9KSl9dW5sb2NrKCl7aWYodGhpcy5xdWV1ZS5sZW5ndGg+MCl7Y29uc3QgZT10aGlzLnF1ZXVlLnNoaWZ0KCk7ZSYmZSgpfWVsc2UgdGhpcy5sb2NrZWQ9ITF9fTthc3luYyBmdW5jdGlvbiBNbihlKXthd2FpdCBDbi5sb2NrKCk7dHJ5e2NvbnN0IHQ9UWEoZW4/XCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiZGVmYXVsdFBhZ2VUaXRsZVwiKSxhPWU/P3QsW24sb109YXdhaXQgUHJvbWlzZS5hbGwoW2RuKCksbG4oKV0pLHI9Wy4uLm4sLi4ub10ubWFwKCgoe3RpdGxlOmV9KT0+ZSkpO3JldHVybiBjbihhLHIpfWZpbmFsbHl7Q24udW5sb2NrKCl9fWFzeW5jIGZ1bmN0aW9uIHhuKHtwYWdlOmV9KXtyZXR1cm57c2hvdWxkU2hvd01vZGFsOiEoIWV8fCFlLmhhc1Vuc2F2ZWRDaGFuZ2VzKX19YXN5bmMgZnVuY3Rpb24gSW4oe3BhZ2U6ZSxpZGVudGl0eTp0fSl7Y29uc3QgYT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTtpZigoYXdhaXQgYS5nZXRJbmZvKCkpLmluaXRpYWxPcHRpb25zLmVuYWJsZUJlZm9yZVVubG9hZCl7Y29uc3QgYT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRWaWV3cygpLG49TmEoZS5sYXlvdXQuY29udGVudCkuZmlsdGVyKChlPT5lLm5hbWUmJmEuc29tZSgodD0+dC5pZGVudGl0eS5uYW1lPT09ZS5uYW1lKSkpKS5tYXAoKGU9PmZpbi5WaWV3LndyYXBTeW5jKHtuYW1lOmUubmFtZSx1dWlkOnQudXVpZH0pKSksbz1hd2FpdCB0aGlzLmNoZWNrVmlld3NGb3JQcmV2ZW50VW5sb2FkKG4pO2lmKG8udmlld3NQcmV2ZW50aW5nVW5sb2FkLmxlbmd0aD4wKXtpZigoYXdhaXQgdGhpcy5nZXRVc2VyRGVjaXNpb25Gb3JCZWZvcmVVbmxvYWQoey4uLm8sd2luZG93SWQ6dCx3aW5kb3dTaG91bGRDbG9zZTohMSxjbG9zZVR5cGU6XCJwYWdlXCJ9KSkudmlld3NUb0Nsb3NlLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiBlLnBhZ2VJZCx7c2hvdWxkUGFnZUNsb3NlOiExfX19cmV0dXJue3Nob3VsZFBhZ2VDbG9zZTohMH19YXN5bmMgZnVuY3Rpb24gQW4oe3BhZ2VzOmUsaWRlbnRpdHk6dH0pe2NvbnN0IGE9YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGU9PnRoaXMuc2hvdWxkUGFnZUNsb3NlKHtwYWdlOmUsY2xvc2VUeXBlOlwid2luZG93XCIsaWRlbnRpdHk6dH0pKSkpLHtwYWdlc1ByZXZlbnRpbmdDbG9zZTpuLHBhZ2VzTm90UHJldmVudGluZ0Nsb3NlOm99PWUucmVkdWNlKCgoZSx0LG4pPT4hYVtuXS5zaG91bGRQYWdlQ2xvc2U/e3BhZ2VzTm90UHJldmVudGluZ0Nsb3NlOmUucGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2UscGFnZXNQcmV2ZW50aW5nQ2xvc2U6Wy4uLmUucGFnZXNQcmV2ZW50aW5nQ2xvc2UsdF19OntwYWdlc1ByZXZlbnRpbmdDbG9zZTplLnBhZ2VzUHJldmVudGluZ0Nsb3NlLHBhZ2VzTm90UHJldmVudGluZ0Nsb3NlOlsuLi5lLnBhZ2VzTm90UHJldmVudGluZ0Nsb3NlLHRdfSkse3BhZ2VzUHJldmVudGluZ0Nsb3NlOltdLHBhZ2VzTm90UHJldmVudGluZ0Nsb3NlOltdfSk7cmV0dXJuIHRoaXMuaGFuZGxlUGFnZXNBbmRXaW5kb3dDbG9zZSh7cGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2U6byxwYWdlc1ByZXZlbnRpbmdDbG9zZTpuLGlkZW50aXR5OnR9KX1hc3luYyBmdW5jdGlvbiBXbih7cGFnZXNQcmV2ZW50aW5nQ2xvc2U6ZSxwYWdlc05vdFByZXZlbnRpbmdDbG9zZTp0LGlkZW50aXR5OmF9KXtyZXR1cm57c2hvdWxkV2luZG93Q2xvc2U6MD09PWUubGVuZ3RofX1hc3luYyBmdW5jdGlvbiBEbih7cGFnZTplfSl7cmV0dXJuIFV0KGUpfWFzeW5jIGZ1bmN0aW9uIFRuKGUpe3JldHVybntoYXNVbnNhdmVkQ2hhbmdlczohMH19Y29uc3QgUm49YXN5bmMoKT0+e2NvbnN0IGU9QWEoKSx0PShhd2FpdCBiZSgpKS5tYXAoKHQ9PmUuQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KSkpO2F3YWl0IFByb21pc2UuYWxsKHQubWFwKChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmdldFBhZ2VzKCk7YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIHQ9Pnt0LnRpdGxlLGF3YWl0IGUudXBkYXRlUGFnZSh7cGFnZUlkOnQucGFnZUlkLHBhZ2U6e2hhc1Vuc2F2ZWRDaGFuZ2VzOiExfX0pLHQucGFnZUlkLHQudGl0bGUsYXdhaXQgbW4oey4uLnQsaGFzVW5zYXZlZENoYW5nZXM6ITF9KX0pKSl9KSkpfSxCbj1uZXcgTWFwLEVuPSgpPT5CbixGbj1lPT5Cbi5kZWxldGUoZSk7bGV0IFZuPSExO2NvbnN0IE5uPSgpPT57Vm58fChWbj0hMCxmaW4uV2luZG93LndyYXBTeW5jKGdlKS5vbmNlKFwiY2xvc2VkXCIsKCgpPT57Vm49ITEsKGFzeW5jKGUsdCk9Pnthd2FpdCAkZShIZShlKSx7c291cmNlOlwiU3RvcmVcIiwuLi50fSl9KShmaW4ubWUuaWRlbnRpdHkse3R5cGU6XCJOYXZpZ2F0aW9uXCIsYWN0aW9uOlwiQ2xvc2UgU3RvcmVcIixza2lwVmFsdWVIYXNoaW5nOiEwfSl9KSkpfTtsZXQgTG4sX24sT247Y29uc3QgVW49YXN5bmMoKT0+KHZvaWQgMD09PU9uJiYoT249ISEoYXdhaXQgUSgpKS5kaXNhYmxlT3BlbkZpbkFuYWx5dGljcyksT24pO2FzeW5jIGZ1bmN0aW9uIEduKGUpe2UuZm9yRWFjaCgoZT0+e3ZhciB0LGE7XCJQYWdlXCI9PT1lLnR5cGU/XCJPcGVuIFBhZ2VcIj09PWUuYWN0aW9uPyh0PWUuZGF0YS51dWlkLGE9ZSxCbi5zZXQodCxhKSk6XCJDbG9zZSBQYWdlXCI9PT1lLmFjdGlvbiYmRm4oZS5kYXRhLnV1aWQpOlwiU3RvcmVcIj09PWUuc291cmNlJiZcIkNsb3NlXCIhPT1lLmFjdGlvbiYmTm4oKX0pKSxhd2FpdChhc3luYyBlPT57TG4/LnNlbmRUb09wZW5GaW4mJihhd2FpdCBVbigpfHxlLmZvckVhY2goKGFzeW5jIGU9Pntjb25zdCB0PUF0KHt9LGUpO3QuZW50aXR5SWQmJih0LmVudGl0eUlkLnV1aWQ9YXdhaXQgeHQodC5lbnRpdHlJZC51dWlkKSx0LmVudGl0eUlkLm5hbWU9YXdhaXQgeHQodC5lbnRpdHlJZC5uYW1lKSksIWUuc2tpcFZhbHVlSGFzaGluZyYmXCJ2YWx1ZVwiaW4gdCYmKHQudmFsdWU9YXdhaXQgeHQodC52YWx1ZSkpLF9uKHQpfSkpKX0pKGUpO2NvbnN0IHQ9ZS5tYXAoKCh7c2tpcFZhbHVlSGFzaGluZzplLC4uLnR9KT0+dCkpO3RoaXMuaGFuZGxlQW5hbHl0aWNzKHQpfWNvbnN0IEhuPWFzeW5jIGU9PntMbj1lO0xuPy5zZW5kVG9PcGVuRmluJiYhYXdhaXQgVW4oKSYmKCgpPT57Y29uc3QgZT1OLHQ9ZStLLkFuYWx5dGljcyxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7YS5zZXRBdHRyaWJ1dGUoXCJzcmNcIix0KSxhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMHB4ICFpbXBvcnRhbnRcIiksYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiaGVpZ2h0OiAwcHggIWltcG9ydGFudFwiKSxhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5OiBub25lICFpbXBvcnRhbnRcIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxfbj1hc3luYyB0PT57YS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHQsZSl9fSkoKTtjb25zdCB0PWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpO3QuYWRkTGlzdGVuZXIoXCJ2aWV3LWNyZWF0ZWRcIiwoYXN5bmMgZT0+e3ZhciB0O0tlKHt0eXBlOlwiVmlld1wiLGFjdGlvbjpcIk9wZW4gVmlld1wiLHZhbHVlOmUudmlld0lkZW50aXR5Lm5hbWUsZGF0YTp7dXVpZDplLnZpZXdJZGVudGl0eS51dWlkLHVybDphd2FpdCh0PWUudmlld0lkZW50aXR5LGZpbi5WaWV3LndyYXBTeW5jKHQpLmdldEluZm8oKS50aGVuKChlPT5lLnVybCkpKX19KX0pKSx0LmFkZExpc3RlbmVyKFwidmlldy1kZXN0cm95ZWRcIiwoYXN5bmMgZT0+e0tlKHt0eXBlOlwiVmlld1wiLGFjdGlvbjpcIkNsb3NlIFZpZXdcIix2YWx1ZTplLnZpZXdJZGVudGl0eS5uYW1lLGRhdGE6e3V1aWQ6ZS52aWV3SWRlbnRpdHkudXVpZH19KX0pKSx0LmFkZExpc3RlbmVyKFwid2luZG93LWNsb3NlZFwiLChlPT57ZS5uYW1lLnN0YXJ0c1dpdGgoZGUuQnJvd3Nlck1lbnUpfHwoS2Uoe3R5cGU6XCJXaW5kb3dcIixhY3Rpb246XCJDbG9zZSBXaW5kb3dcIix2YWx1ZTplLm5hbWUsZGF0YTp7dXVpZDplLnV1aWR9fSksKGFzeW5jKCk9Pntjb25zdCBlPUVuKCksdD1hd2FpdCBsbigpO2lmKHQubGVuZ3RoPT09ZS5zaXplKXJldHVybjtjb25zdCBhPXQucmVkdWNlKCgoZSx0KT0+ZS5zZXQodC5wYWdlSWQsMSkpLG5ldyBNYXApO2Zvcihjb25zdFt0LG5db2YgZSlhLmhhcyh0KXx8KG4uYWN0aW9uPVwiQ2xvc2UgUGFnZVwiLEtlKG4pLEZuKHQpKX0pKCkpfSkpfSwkbj1DZSh7YWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITEsZnJhbWU6ITEscmVzaXphYmxlOiExLHNob3dUYXNrYmFySWNvbjohMX0pO2NvbnN0IEtuPWZ1bmN0aW9uKGU9JG4pe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm4gYXN5bmMoYSxuLG8scixpKT0+e2lmKHQuaGFzKGEpKXtjb25zdHtjdXJyZW50VXJsOmUsY3VycmVudE5hbWU6b309dC5nZXQoYSk7aWYoZT09PW4pcmV0dXJuO2NvbnN0IHI9ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDpmaW4ubWUudXVpZCxuYW1lOm99KTthd2FpdCByLmNsb3NlKCl9Y29uc3Qgcz1gJHtkZS5Ib21lSW50ZXJuYWx9LSR7RGF0ZS5ub3coKX0ke01hdGgucmFuZG9tKCl9YDt0LnNldChhLHtjdXJyZW50VXJsOm4sY3VycmVudE5hbWU6c30pO2NvbnN0IGM9YE5ldyAke3J9IGluZGljYXRvcjogJHtvfSAke2l9YCxsPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh7Li4uZSxuYW1lOnMsdXJsOm59KTsoKGUsdCk9Pntjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxhLnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLHR8fFwicG9saXRlXCIpLChlPT57ZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS53aWR0aD1cIjFweFwiLGUuc3R5bGUuaGVpZ2h0PVwiMXB4XCIsZS5zdHlsZS5wYWRkaW5nPVwiMFwiLGUuc3R5bGUubWFyZ2luPVwiLTFweFwiLGUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixlLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIixlLnN0eWxlLmJvcmRlcj1cIjBcIn0pKGEpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksc2V0VGltZW91dCgoKCk9PnthLmlubmVySFRNTD1lfSksMzAwKSxzZXRUaW1lb3V0KCgoKT0+e2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSl9KSwxZTMpfSkoYyksbC5vbmNlKFwiY2xvc2VkXCIsKCgpPT57dC5kZWxldGUoYSl9KSl9fSgpO2FzeW5jIGZ1bmN0aW9uIHpuKGUsdCxhLG4sbyxyKXtpZihhJiZmaW4ubWUubmFtZSE9PWEpe2NvbnN0IGk9e3R5cGU6ZSxtZXNzYWdlOnQscGFyZW50QnJvd3Nlck5hbWU6YSxzZWNvbmRhcnlNZXNzYWdlOm4saWNvbjpvLGlzRW50ZXJwcmlzZTpyfTtyZXR1cm4oYXdhaXQgcXQoe3V1aWQ6ZmluLm1lLnV1aWQsbmFtZTphfSkpLmRpc3BhdGNoKGVhLlNob3dCcm93c2VySW5kaWNhdG9yLGkpfWNvbnN0IGk9bmV3IFVSTFNlYXJjaFBhcmFtcztpZihpLmFwcGVuZChcInR5cGVcIixlKSxpLmFwcGVuZChcIm1lc3NhZ2VcIix0KSxpLmFwcGVuZChcInBhcmVudE5hbWVcIixhfHxcIlwiKSxpLmFwcGVuZChcInNlY29uZGFyeU1lc3NhZ2VcIixufHxcIlwiKSxpLmFwcGVuZChcImljb25cIixvfHxcIlwiKSxpLmFwcGVuZChcImlzRW50ZXJwcmlzZVwiLGAke3J9YHx8XCJcIiksYSl7Y29uc3QgZT1wZShhP3t1dWlkOlIsbmFtZTphfTp2b2lkIDApLHQ9YCR7KHM9YXdhaXQgZS5nZXRCb3VuZHMoKSkudG9wfSwke3MubGVmdH0sJHtzLmhlaWdodH0sJHtzLndpZHRofSwke3MuYm90dG9tfSwke3MucmlnaHR9LCR7cy5jb250ZW50LnRvcH0sJHtzLmNvbnRlbnQubGVmdH0sJHtzLmNvbnRlbnQuaGVpZ2h0fSwke3MuY29udGVudC53aWR0aH1gO2kuYXBwZW5kKFwicGFyZW50Qm91bmRzXCIsdCl9dmFyIHM7Y29uc3QgYz1gJHsocj9hd2FpdCBhZSgpOmF3YWl0IHRlKCkpK0suQnJvd3NlckluZGljYXRvcn0jJHtpLnRvU3RyaW5nKCl9YDtyZXR1cm4gS24oXCJicm93c2VyXCIrYSxjLHQsZSxuKX1hc3luYyBmdW5jdGlvbiBKbihlLHQsYSxuKXtjb25zdCBvPWF3YWl0IEFlKHQpO3JldHVybiB6bihcInN1Y2Nlc3NcIixlLHQubmFtZSxhLG4sbyl9Y29uc3QgcW49YXN5bmMoZT13ZSk9Pntjb25zdHt3b3Jrc3BhY2VQbGF0Zm9ybTp0fT1hd2FpdCBwZShlKS5nZXRPcHRpb25zKCksYT10Py5uZXdQYWdlVXJsLG49dD8ubmV3VGFiVXJsO3JldHVybntuZXdQYWdlVXJsOmEsbmV3VGFiVXJsOm59fSxabj1hc3luYyhlPXdlKT0+e2NvbnN0IHQ9YXdhaXQgQWUoZSl8fGVuLGE9YXdhaXQgQWEoKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZSgpO2xldCBuO2lmKGUmJmF3YWl0IGtlKGUpKW49YXdhaXQoYXN5bmMoZSx0PXdlKT0+e2NvbnN0e25ld1BhZ2VVcmw6YX09YXdhaXQgcW4odCk7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtyZXR1cm4gTGEoZSxhLHQpfSkoYSxlKTtlbHNlIGlmKHQpe2NvbnN0IGU9YXdhaXQgbmUoKTtuPWF3YWl0IExhKGEsZSl9dCYmKG4uc2V0dGluZ3M9bi5zZXR0aW5ncz8/e30sbi5kaW1lbnNpb25zPW4uZGltZW5zaW9ucz8/e30sbi5zZXR0aW5ncy5oYXNIZWFkZXJzPSExLG4uc2V0dGluZ3MucmVvcmRlckVuYWJsZWQ9ITAsbi5kaW1lbnNpb25zLmhlYWRlckhlaWdodD0wKTtjb25zdCBvPWF3YWl0IE90KGEsbik7cmV0dXJuIHQmJihvLmhhc1Vuc2F2ZWRDaGFuZ2VzPSExKSxvfTt2YXIgam47IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXJcIixlLkVudGVycHJpc2U9XCIvZW50ZXJwcmlzZVwiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXJcIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udFwiLGUuRG9jaz1cIi9kb2NrXCJ9KGpufHwoam49e30pKTtmdW5jdGlvbiBRbihlLHQpe3JldHVybiBhc3luYyhhLC4uLm4pPT57ZS5oYXMoYSkmJmUuZ2V0KGEpLmZvckVhY2goKGU9PmUoLi4ubikpKSx0JiZhd2FpdCB0KHtldmVudDphLHBheWxvYWQ6bn0pfX1mdW5jdGlvbiBZbihlLHQpe3JldHVybiB0JiZ0KCh0PT57Y29uc3R7ZXZlbnQ6YSxwYXlsb2FkOm59PXQ7ZS5oYXMoYSkmJmUuZ2V0KGEpLmZvckVhY2goKGU9PmUoLi4ubikpKX0pKSwodCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpLGUuZ2V0KHQpLmFkZChhKX19ZnVuY3Rpb24gWG4oZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KTtjb25zdCBuPWUuZ2V0KHQpLG89KC4uLmUpPT57YSguLi5lKSxuLmRlbGV0ZShvKX07bi5hZGQobyl9fWZ1bmN0aW9uIGVvKGUpe3JldHVybih0LGEpPT57ZS5oYXModCkmJmUuZ2V0KHQpLmRlbGV0ZShhKX19Y29uc3QgdG89e25hbWU6ZGUuQnJvd3Nlck1lbnUsYWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITAsZnJhbWU6ITEscmVzaXphYmxlOiExLGJhY2tncm91bmRDb2xvcjpcIiMyZjMxMzZcIixzbWFsbFdpbmRvdzohMCxzaG93VGFza2Jhckljb246ITEsYmFja2dyb3VuZFRocm90dGxpbmc6ITEsc2F2ZVdpbmRvd1N0YXRlOiExfTtmdW5jdGlvbiBhbyhlKXtjb25zdCB0PXsuLi50bywuLi5lfTtyZXR1cm4gdC51cmw9ZnVuY3Rpb24oZSx0KXtpZighVyl0aHJvdyBuZXcgRXJyb3IoXCJyZXNvbHZlQWJzb2x1dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7Y29uc3QgYT10Pz93aW5kb3cubG9jYXRpb247aWYoL14oPzpbYS16XSs6KT9cXC9cXC8vaS50ZXN0KGUpKXJldHVybiBlO2NvbnN0IG49YCR7YS5wcm90b2NvbH0vLyR7YS5ob3N0bmFtZX1gO3JldHVybiBuZXcgVVJMKGUsbikuaHJlZn0odC51cmw/P1wiXCIpLHR9Y29uc3Qgbm89ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybntlbWl0OlFuKHQsKHQ9PkEmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2goZSx0KSkpLGFkZExpc3RlbmVyOlluKHQsKHQ9PkEmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUudXVpZH0sZSx0KSkpLGFkZExpc3RlbmVyV2l0aFVVSUQ6YT0+WW4odCwodD0+QSYmZmluLkludGVyQXBwbGljYXRpb25CdXMuc3Vic2NyaWJlKHt1dWlkOmF9LGUsdCkpKSxyZW1vdmVMaXN0ZW5lcjplbyh0KSxvbmNlOlhuKHQpfX0oXCJ3aW5kb3cubWVudVwiKSxvbz0oZSx0KT0+ZmluLldpbmRvdy53cmFwU3luYyhlKS51cGRhdGVPcHRpb25zKHtvcGFjaXR5OnR9KSxybz1lPT5uby5lbWl0KFwicmVzcG9uc2VcIixlKSxpbz1SZSgoKCk9PmxlKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLDUwMCk7Y29uc3Qgc289bmV3IE1hcDthc3luYyBmdW5jdGlvbiBjbyhlLHQpe2NvbnN0IGE9YW8oZSksbj17dG9wOmEudG9wLGxlZnQ6YS5sZWZ0LHdpZHRoOmEuZGVmYXVsdFdpZHRofHxhLndpZHRoLGhlaWdodDphLmRlZmF1bHRIZWlnaHR8fGEuaGVpZ2h0fTtyZXR1cm4gdC5zZXQoXCJwYXJlbnROYW1lXCIsZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLmlkZW50aXR5Lm5hbWUpLHtuYW1lOmEubmFtZSxib3VuZHM6bixyb3V0ZTpgJHthLnVybH0jJHt0LnRvU3RyaW5nKCl9YH19YXN5bmMgZnVuY3Rpb24gbG8oe29wdGlvbnM6ZSxwYXJhbWV0ZXJzOnR9KXtjb25zdCBhPXQ/P25ldyBVUkxTZWFyY2hQYXJhbXMsbj1hbyhlKSx7bmFtZTpvLG1vZGFsUGFyZW50SWRlbnRpdHk6cn09bjtpZighYS5oYXMoXCJpc0VudGVycHJpc2VcIikpe2NvbnN0IGU9YCR7YXdhaXQoYXN5bmMgZT0+KERlfHwoRGU9YXdhaXQgQWUoZSkpLERlKSkocil9YDthLnNldChcImlzRW50ZXJwcmlzZVwiLGUpfWxldCBpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybihhd2FpdCBpbygpKS5maW5kKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1lKSl9KG8pO2lmKGkpYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdHtuYW1lOmEsYm91bmRzOm4scm91dGU6b309YXdhaXQgY28oZSx0KSxyPXt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkLG5hbWU6YX0saT1maW4uV2luZG93LndyYXBTeW5jKHIpO2F3YWl0IFByb21pc2UuYWxsKFtvbyhyLDApLGkuc2V0Qm91bmRzKG4pXSksaS5vbmNlKFwiYmx1cnJlZFwiLCgoKT0+e29vKHIsMCksaS5oaWRlKCkscm8oe25hbWU6ci5uYW1lLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KX0pKSxuby5lbWl0KFwidXBkYXRlXCIsYSxuLG8pLGF3YWl0IHJvKHtuYW1lOmEsZGF0YTp7YWN0aW9uTmFtZTpcIkNhbmNlbFwifX0pfShuLGEpO2Vsc2V7Y29uc3R7cm91dGU6dCxib3VuZHM6b309YXdhaXQgY28oZSxhKTtpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCxhKXtjb25zdCBuPWFvKGUpLG89YXdhaXQgdnQoZmluLm1lLmlkZW50aXR5KSxyPWF3YWl0IFB0KGZpbi5tZS5pZGVudGl0eSk9PT1tLkRhcmssaT1vPy50aGVtZTtpZihuLmJhY2tncm91bmRDb2xvcj1pPy5bcj9tLkRhcms6bS5MaWdodF0/LnBhbGV0dGU/LmlucHV0QmFja2dyb3VuZHx8bi5iYWNrZ3JvdW5kQ29sb3IsIXNvLmhhcyhuLm5hbWUpKXJldHVybiBuZXcgUHJvbWlzZSgoZT0+e25vLm9uY2UoXCJyZWFkeVwiLChhc3luYyB0PT57aWYodC5uYW1lPT09bi5uYW1lKXtjb25zdCBhPWF3YWl0IHNvLmdldChuLm5hbWUpO2Eub25jZShcImJsdXJyZWRcIiwoYXN5bmMoKT0+e2lmKG9vKHQsMCksYS5oaWRlKCkscm8oe25hbWU6bi5uYW1lLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KSxhLmlkZW50aXR5Lm5hbWU9PT1kZS5Ccm93c2VyU2F2ZU1lbnUpe2NvbnN0IGU9YXdhaXQgYS5nZXRPcHRpb25zKCk7XCJzdWJtaXR0aW5nXCIhPT1lLmN1c3RvbUNvbnRleHQmJlwiZXJyb3JcIiE9PWUuY3VzdG9tQ29udGV4dCYmYS5jbG9zZSgpfWVsc2UgYS5pZGVudGl0eS5uYW1lLnN0YXJ0c1dpdGgoZGUuQnJvd3Nlck1lbnUpJiZhLmNsb3NlKCl9KSksc2V0VGltZW91dCgoYXN5bmMoKT0+e2F3YWl0IG9vKHQsMSksMSE9PShhd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKHQpLmdldE9wdGlvbnMoKSkub3BhY2l0eSYmb28odCwxKX0pKSxlKGEpfX0pKTtjb25zdCBvPShhc3luYygpPT57Y29uc3QgZT1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3coQ2Uoey4uLm4sb3BhY2l0eTowLHVybDp0fHxuLnVybCxkZWZhdWx0TGVmdDphPy5sZWZ0LGRlZmF1bHRUb3A6YT8udG9wLGRlZmF1bHRXaWR0aDphPy53aWR0aCxkZWZhdWx0SGVpZ2h0OmE/LmhlaWdodH0sITApKTtyZXR1cm4gZS5vbmNlKFwiY2xvc2VkXCIsKCgpPT57c28uZGVsZXRlKG4ubmFtZSl9KSksZX0pKCk7c28uc2V0KG4ubmFtZSxvKX0pKTtyZXR1cm4gc28uZ2V0KG4ubmFtZSl9KHsuLi5ufSx0LG8pfXJldHVybiBpfWNvbnN0IHVvPWFzeW5jKHtvcHRpb25zOmUsY29udGVudDp0LHBhcmFtZXRlcnM6YX0pPT57Y29uc3Qgbj1hPz9uZXcgVVJMU2VhcmNoUGFyYW1zO24uc2V0KFwiY29udGVudFwiLEpTT04uc3RyaW5naWZ5KHsuLi50LGludm9jYXRpb25JZDpSdCgpfSkpO2NvbnN0IG89ey4uLmUsbmFtZTpgJHtlLm5hbWV9LS0ke2UubW9kYWxQYXJlbnRJZGVudGl0eT8ubmFtZT8/XCJcIn1gfTtyZXR1cm4gYXdhaXQgbG8oe29wdGlvbnM6byxwYXJhbWV0ZXJzOm59KSxuZXcgUHJvbWlzZSgoZT0+e25vLm9uY2UoXCJyZXNwb25zZVwiLChhc3luYyB0PT57dC5uYW1lPT09by5uYW1lJiZlKHtkYXRhOnQuZGF0YX0pfSkpfSkpfSxwbz1hc3luYyhlLHQsYSk9Pntjb25zdHt3aW5kb3dPcHRpb25zOm4sY29udGVudDpvfT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBBZSh0KTtyZXR1cm57dGl0bGU6XCJTd2l0Y2ggV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOmF3YWl0IG9lKGEsITEpK0suUmVzcG9uc2VNb2RhbCxuYW1lOmRlLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTM0LGRlZmF1bHRXaWR0aDo0MTAsbW9kYWxQYXJlbnRJZGVudGl0eTp0fSxjb250ZW50Ont0aXRsZTpRYShcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCIse3dvcmtzcGFjZTplfSksYm9keTpRYShcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIiksYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpRYShcImdsb2JhbC5jYW5jZWxcIiksdHlwZTpcInNlY29uZGFyeVwiLGlkOlwiQ2FuY2VsXCJ9LHtsYWJlbDpRYShcImdsb2JhbC5jb25maXJtXCIpLHR5cGU6XCJwcmltYXJ5XCIsaWQ6XCJDb25maXJtXCJ9XX19fX0pKHQsYT92b2lkIDA6ZSkscj1hd2FpdCBMZShuLGUsYSksaT17Li4ubix0b3A6ci50b3AsbGVmdDpyLmxlZnR9O3JldHVyblwiQ29uZmlybVwiPT09KGF3YWl0IHVvKHtvcHRpb25zOmksY29udGVudDpvfSkpLmRhdGEuYWN0aW9uTmFtZX0sd289YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IEFlKGUpO3JldHVybnt0aXRsZTpcIkRlbGV0ZSBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6YXdhaXQgb2UoYSwhMSkrSy5SZXNwb25zZU1vZGFsLG5hbWU6ZGUuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxNDQsZGVmYXVsdFdpZHRoOjQxMCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlFhKFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIiksYm9keTpgJHt0fWAsYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpRYShcImdsb2JhbC5jYW5jZWxcIiksdHlwZTpcInNlY29uZGFyeVwiLGlkOlwiQ2FuY2VsXCJ9LHtsYWJlbDpRYShcImdsb2JhbC5jb25maXJtXCIpLHR5cGU6XCJwcmltYXJ5XCIsaWQ6XCJDb25maXJtXCJ9XX19fX0pKGUsdCksbz1hd2FpdCBMZShhLGEubW9kYWxQYXJlbnRJZGVudGl0eSkscj17Li4uYSx0b3A6by50b3AsbGVmdDpvLmxlZnR9O3JldHVyblwiQ29uZmlybVwiPT09KGF3YWl0IHVvKHtvcHRpb25zOnIsY29udGVudDpufSkpLmRhdGEuYWN0aW9uTmFtZX0saG89YXN5bmMoZSx0LGEpPT57Y29uc3R7d2luZG93T3B0aW9uczpuLGNvbnRlbnQ6b309YXdhaXQoYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1hd2FpdCBBZShlKTtyZXR1cm57dGl0bGU6XCJQbGF0Zm9ybSBRdWl0XCIsd2luZG93T3B0aW9uczp7dXJsOmF3YWl0IG9lKG4sITEpK0suUmVzcG9uc2VNb2RhbCxuYW1lOmRlLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTM0LGRlZmF1bHRXaWR0aDo0MTAsbW9kYWxQYXJlbnRJZGVudGl0eTphP3ZvaWQgMDplfSxjb250ZW50Ont0aXRsZTpRYShcIlBsYXRmb3JtXCI9PT10P1wiY2xvc2VQbGF0Zm9ybVwiOlwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIix7d29ya3NwYWNlOnR9KSxib2R5OlFhKFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCIpLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6UWEoXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwifSx7bGFiZWw6UWEoXCJnbG9iYWwuY29uZmlybVwiKSx0eXBlOlwicHJpbWFyeVwiLGlkOlwiQ29uZmlybVwifV19fX19KShlLHQsYSkscj1hd2FpdCBMZShuLGUsYSksaT17Li4ubix0b3A6ci50b3AsbGVmdDpyLmxlZnR9O3JldHVyblwiQ29uZmlybVwiPT09KGF3YWl0IHVvKHtvcHRpb25zOmksY29udGVudDpvfSkpLmRhdGEuYWN0aW9uTmFtZX0sZ289YXN5bmMgZT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6dCxjb250ZW50OmF9PWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IEFlKGUpO3JldHVybnt0aXRsZTpcIlJlc3RvcmUgQ2hhbmdlc1wiLHdpbmRvd09wdGlvbnM6e3VybDphd2FpdCBvZSh0LCExKStLLlJlc3BvbnNlTW9kYWwsbmFtZTpkZS5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjEzNCxkZWZhdWx0V2lkdGg6NDEwLG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6UWEoXCJyZXN0b3JlTW9kYWxcIiksYm9keTpRYShcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCIpLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6UWEoXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwifSx7bGFiZWw6UWEoXCJnbG9iYWwuY29uZmlybVwiKSx0eXBlOlwicHJpbWFyeVwiLGlkOlwiQ29uZmlybVwifV19fX19KShlKSxuPWF3YWl0IExlKHQsdC5tb2RhbFBhcmVudElkZW50aXR5KSxvPXsuLi50LHRvcDpuLnRvcCxsZWZ0Om4ubGVmdH07cmV0dXJuXCJDb25maXJtXCI9PT0oYXdhaXQgdW8oe29wdGlvbnM6byxjb250ZW50OmF9KSkuZGF0YS5hY3Rpb25OYW1lfSxtbz1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgQWUoZSk7cmV0dXJue3RpdGxlOlwiRGVsZXRlIFBhZ2VcIix3aW5kb3dPcHRpb25zOnt1cmw6bmV3IFVSTChhd2FpdCBvZShhLCExKStLLlJlc3BvbnNlTW9kYWwpLnRvU3RyaW5nKCksbmFtZTpkZS5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjE3MixkZWZhdWx0V2lkdGg6NDY0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6UWEoXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIix7dGl0bGU6dH0pLGJvZHk6UWEoXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCIpLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6UWEoXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwiLHZhcmlhbnQ6YT9cIm91dGxpbmVcIjp2b2lkIDB9LHtsYWJlbDpRYShcImdsb2JhbC5kZWxldGVcIiksdHlwZTpcInByaW1hcnlcIixpZDpcIkRlbGV0ZVwiLHZhcmlhbnQ6YT9cInN1Ym1pdFwiOnZvaWQgMH1dfX19fSkoZSx0KSxvPWF3YWl0IExlKGEsYS5tb2RhbFBhcmVudElkZW50aXR5KSxyPXsuLi5hLHRvcDpvLnRvcCxsZWZ0Om8ubGVmdH07cmV0dXJuXCJEZWxldGVcIj09PShhd2FpdCB1byh7b3B0aW9uczpyLGNvbnRlbnQ6bn0pKS5kYXRhLmFjdGlvbk5hbWV9O2FzeW5jIGZ1bmN0aW9uIGtvKHtvcHRpb25zOmUsLi4udH0pe2lmKCEoISFlPy5za2lwUHJvbXB0fHxhd2FpdCBwbyhlPy5wcm9tcHRDb250YWluZXJXaW5kb3dJZGVudGl0eSx0LnRpdGxlLGU/LnNob3VsZENlbnRlck1vZGFsT25Nb25pdG9yKSkpcmV0dXJuITE7Y29uc3QgYT1BYSgpO3JldHVybiBhd2FpdCBhLmFwcGx5U25hcHNob3QodC5zbmFwc2hvdCx7Li4uZT8uYXBwbHlTbmFwc2hvdE9wdGlvbnM/P3t9LGNsb3NlRXhpc3RpbmdXaW5kb3dzOmU/LmFwcGx5U25hcHNob3RPcHRpb25zPy5jbG9zZUV4aXN0aW5nV2luZG93cz8/ITB9KSxmbyh0KSx6bihcInN1Y2Nlc3NcIixRYShcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU3dpdGNoZWRcIikpLmNhdGNoKGNvbnNvbGUud2FybiksITB9YXN5bmMgZnVuY3Rpb24gYm8oZSl7dHJ5e3JldHVybiBhd2FpdCBrbyhlKX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBhcHBseSB0aGUgY3VycmVudCB3b3Jrc3BhY2U6IFwiLGUpLCExfX1hc3luYyBmdW5jdGlvbiB5byhlKXt0cnl7Y29uc3QgdD1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9QWEoKSx0PWF3YWl0IGUuZ2V0Q3VycmVudFdvcmtzcGFjZSgpO3JldHVybihhd2FpdCBlLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpfSgpO2lmKCF0KXJldHVyblwibm90LXNhdmVkLXdvcmtzcGFjZVwiO3JldHVybiEhZT8uc2tpcFByb21wdHx8YXdhaXQgZ28oZT8ucHJvbXB0Q29udGFpbmVyV2luZG93SWRlbnRpdHkpPyhhd2FpdCBrbyh7b3B0aW9uczp7c2tpcFByb21wdDohMCxhcHBseVNuYXBzaG90T3B0aW9uczplPy5hcHBseVNuYXBzaG90T3B0aW9uc30sLi4udH0pLFwic3VjY2Vzc1wiKTpcInVzZXItZGVjbGluZWRcIn1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIHJlc3RvcmUgbGFzdCBzYXZlZCB3b3Jrc3BhY2U6IFwiLGUpLGV9fWZ1bmN0aW9uIGZvKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7c2EoQnQuQ3VycmVudFdvcmtzcGFjZUlkLHQpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gc2V0IHRoZSBhY3RpdmUgd29ya3NwYWNlOiBcIixlKX19YXN5bmMgZnVuY3Rpb24gU28oKXtjb25zdCBlPUFhKCksdD1hd2FpdCBlLmdldFNuYXBzaG90KCk7cmV0dXJue3dvcmtzcGFjZUlkOlJ0KCksdGl0bGU6YXdhaXQgTW8oKSxtZXRhZGF0YTp7QVBJVmVyc2lvbjpPfSxzbmFwc2hvdDp0fX1hc3luYyBmdW5jdGlvbiB2bygpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2UpcmV0dXJuIFNvKCk7Y29uc3QgZT1jYShCdC5DdXJyZW50V29ya3NwYWNlSWQpO2lmKCFlKXJldHVybiBTbygpO2NvbnN0IHQ9SlNPTi5wYXJzZShlKSxhPUFhKCksbj1hd2FpdCBhLmdldFNuYXBzaG90KCk7cmV0dXJuey4uLnQsbWV0YWRhdGE6e0FQSVZlcnNpb246T30sc25hcHNob3Q6bn19Y29uc3QgUG89YXN5bmMoKT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuR2V0U2F2ZWRXb3Jrc3BhY2VzLHZvaWQgMCksQ289YXN5bmMgZT0+YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuR2V0U2F2ZWRXb3Jrc3BhY2UsZSkpKGUud29ya3NwYWNlSWQpPyhhc3luYyBlPT4oYXdhaXQgcHQod2UpKS5kaXNwYXRjaChsdC5VcGRhdGVTYXZlZFdvcmtzcGFjZSxlKSkoe3dvcmtzcGFjZUlkOmUud29ya3NwYWNlSWQsd29ya3NwYWNlOmV9KTooYXN5bmMgZT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2U6ZX0pO2FzeW5jIGZ1bmN0aW9uIE1vKGU9XCJVbnRpdGxlZCBXb3Jrc3BhY2VcIil7Y29uc3QgdD0oYXdhaXQgUG8oKSkubWFwKCgoe3RpdGxlOmV9KT0+ZSkpO3JldHVybiBjbihlLHQpfWNvbnN0IHhvPWU9Pih7Li4uZSxzbmFwc2hvdDp7Li4uZS5zbmFwc2hvdCx3aW5kb3dzOmUuc25hcHNob3Qud2luZG93cy5tYXAoKGU9Pih7Li4uZSx3b3Jrc3BhY2VQbGF0Zm9ybTp7Li4uZS53b3Jrc3BhY2VQbGF0Zm9ybSxwYWdlczplLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubWFwKChlPT4oey4uLmUsaGFzVW5zYXZlZENoYW5nZXM6ITF9KSkpfX0pKSl9fSksSW89YXN5bmMoZSx0KT0+e2NvbnN0IGE9dD8/QWEoKTthd2FpdCBhLlN0b3JhZ2Uuc2F2ZVdvcmtzcGFjZSh4byhlKSksYXdhaXQoYXN5bmMoKT0+KGF3YWl0IHB0KHdlKSkuZGlzcGF0Y2gobHQuTWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbCx2b2lkIDApKSgpfSxBbz1hc3luYyBlPT57Y29uc3QgdD1BYSgpLGE9YXdhaXQgdC5nZXRDdXJyZW50V29ya3NwYWNlKCksbj1hd2FpdCB0LlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpLG89YS53b3Jrc3BhY2VJZDtpZihuLnNvbWUoKGU9PmUud29ya3NwYWNlSWQ9PT1vKSkpYXdhaXQgSW8oYSx0KSxhd2FpdCB0LnNldEFjdGl2ZVdvcmtzcGFjZShhKSxhd2FpdCBKbihRYShcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIiksZSk7ZWxzZXtjb25zdCBhPXQuQnJvd3Nlci53cmFwU3luYyhlKTthd2FpdCBhLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTp4LlNBVkVfV09SS1NQQUNFfSl9fSxXbz1lPT57QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTp4LlNBVkVfV09SS1NQQUNFX0FTfSl9LERvPWFzeW5jIGU9Pntjb25zdCB0PUFhKCkuQnJvd3Nlci53cmFwU3luYyhlKSx7bmV3UGFnZVVybDphfT1hd2FpdCBxbigpLG49YXdhaXQgWm4oZSksbz1hfHx2b2lkIDA7YXdhaXQgdC5fYWRkRGVmYXVsdFBhZ2Uoe2lkZW50aXR5OmUscGFnZTpuLG5ld1BhZ2VVcmw6b30pfSxUbz1hc3luYyhlLHQpPT57Y29uc3QgYT1BYSgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj1hd2FpdCBBYSgpLlN0b3JhZ2UuZ2V0UGFnZXMoKSxvPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKSxyPW4uc29tZSgoZT0+by5wYWdlSWQ9PT1lLnBhZ2VJZCkpLGk9YXdhaXQgQWUoZSk7aWYocil0cnl7YXdhaXQgQWEoKS5TdG9yYWdlLnNhdmVQYWdlKChkPW8sey4uLmQsaGFzVW5zYXZlZENoYW5nZXM6dm9pZCAwLHBhcmVudElkZW50aXR5OnZvaWQgMCxpc0FjdGl2ZTp2b2lkIDAsbGF5b3V0OlZhKGQubGF5b3V0KX0pKSxhd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDpvLnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMX19KSxKbihRYShpP1wiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIiksZSxRYShpP1wiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiLHt0aXRsZTpvLnRpdGxlfSkpfWNhdGNoe3M9UWEoXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiKSxjPW8ucGFyZW50SWRlbnRpdHkubmFtZSx6bihcImVycm9yXCIscyxjLGwpfWVsc2UgYS5fb3BlblNhdmVNb2RhbCh7aWQ6by5wYWdlSWQsbWVudVR5cGU6eC5TQVZFX1BBR0V9KTt2YXIgcyxjLGwsZH0sUm89YXN5bmMoZSx0KT0+e2NvbnN0IGE9QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49KGF3YWl0IGEuZ2V0UGFnZXMoKSkuZmluZCgoZT0+dD9lLnBhZ2VJZD09PXQ6ZS5pc0FjdGl2ZSkpO2EuX29wZW5TYXZlTW9kYWwoe2lkOm4ucGFnZUlkLG1lbnVUeXBlOnguU0FWRV9QQUdFX0FTfSksS2Uoe3R5cGU6XCJQYWdlIE1vZGFsXCIsYWN0aW9uOlwiU2VsZWN0IFNhdmUgQXNcIix2YWx1ZTpuLnRpdGxlLHNraXBWYWx1ZUhhc2hpbmc6ITB9KX0sQm89e3RpdGxlOlwiRG93bmxvYWRzXCIscGFnZUlkOlwiZG93bmxvYWRzLXBhZ2UtaWRcIixsYXlvdXQ6e2NvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e25hbWU6XCJzaG93LWRvd25sb2FkLXZpZXdcIix1cmw6XCJjaHJvbWU6Ly9kb3dubG9hZHMvXCJ9fV19XX19LEVvPWFzeW5jIGU9Pntjb25zdCB0PXBlKGUpLGE9YXdhaXQgdC5nZXRDdXJyZW50Vmlld3MoKSxuPShhd2FpdCBBYSgpLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSkuZ2V0UGFnZXMoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO3RyeXtjb25zdCB0PShhd2FpdCBQcm9taXNlLmFsbChhLm1hcCgoYXN5bmMgZT0+KHtpZGVudGl0eTplLmlkZW50aXR5LGluZm86YXdhaXQgZmluLlZpZXcud3JhcFN5bmMoZS5pZGVudGl0eSkuZ2V0SW5mbygpfSkpKSkpLmZpbmQoKGU9PlwiY2hyb21lOi8vZG93bmxvYWRzL1wiPT09ZS5pbmZvLnVybCkpO2lmKHQpYXdhaXQgZmluLlZpZXcud3JhcFN5bmModC5pZGVudGl0eSkuZm9jdXMoKTtlbHNle2NvbnN0IHQ9QWEoKTtpZihuPy5pc0xvY2tlZCl7Y29uc3QgZT0oYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbmQoKGU9Plwic2hvdy1kb3dubG9hZC13aW5kb3dcIj09PWUuaWRlbnRpdHkubmFtZSkpO3JldHVybiB2b2lkKGU/YXdhaXQgZS5mb2N1cygpOnQuQnJvd3Nlci5jcmVhdGVXaW5kb3coe25hbWU6XCJzaG93LWRvd25sb2FkLXdpbmRvd1wiLHdvcmtzcGFjZVBsYXRmb3JtOntwYWdlczpbQm9dfX0pKX0oYXdhaXQgQWEoKS5jcmVhdGVWaWV3KHtuYW1lOlwic2hvdy1kb3dubG9hZC12aWV3XCIsdXJsOlwiY2hyb21lOi8vZG93bmxvYWRzL1wiLHRhcmdldDplfSxlKSkuZm9jdXMoKX19Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkNvdWxkbid0IG9wZW4gZG93bmxvYWRzIHZpZXdcIixlKX19LEZvPWFzeW5jIGU9Pntjb25zdCB0PWUubWFwKChlPT5maW4uVmlldy53cmFwU3luYyhlKS5wcmludCgpKSk7YXdhaXQgUHJvbWlzZS5hbGwodCl9LFZvPWU9Pntjb25zdFt0LGEsbl09ZS5zcGxpdChcIi5cIikubWFwKChlPT5cInhcIj09PWU/MDoxKSk7cmV0dXJuIDEwMCp0KzEwKmErMSpufTtjbGFzcyBObyBleHRlbmRzIEVycm9ye31jb25zdCBMbz1hc3luYyBlPT57dHJ5e2NvbnN0IGE9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWF3YWl0IFEoKSx0PWU/LnRyYW5zbGF0aW9uT3ZlcnJpZGVzVXJsPz9cImh0dHBzOi8vd29ya3NwYWNlLm9wZW5maW4uY28vd29ya3NwYWNlL2Fzc2V0cy90cmFuc2xhdGlvbi1vdmVycmlkZS5qc29uXCI7aWYoXCJcIj09PXQpdGhyb3cgbmV3IE5vKFwiRW1wdHkgc3RyaW5nIHByb3ZpZGVkIGFzIHVybCB0byB0cmFuc2xhdGlvbk92ZXJyaWRlc1VybCwgb3ZlcnJpZGVzIHdpbGwgbm90IGJlIGZldGNoZWQuXCIpO3JldHVybiBhd2FpdCBmZXRjaCh0KS50aGVuKChlPT5lLmpzb24oKSkpfSgpOyh0PShlPT57Y29uc3QgdD1PLnNwbGl0KFwiLlwiKTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKChlPT57Y29uc3QgYT1lLnNwbGl0KFwiLlwiKTtpZigzIT09YS5sZW5ndGgpcmV0dXJuIGNvbnNvbGUud2FybihgRW5jb3VudGVyZWQgYSB0cmFuc2xhdGlvbiBvdmVycmlkZSB2ZXJzaW9uIHN0cmluZyBpbiBhbiB1bnN1cHBvcnRlZCBmb3JtYXQ6ICR7ZX0uIFZlcnNpb25zIG11c3QgYmUgaW4gQS5CLkMgZm9ybWF0IHdoZXJlIEEsIEIsIEMgYXJlIGVpdGhlciBpbnRlZ2VycyBvciB0aGUgd2lsZGNhcmQgc3ltYm9sICd4Jy5gKSwhMTtjb25zdFtuLG8scl09YTtyZXR1cm4hKG4hPT10WzBdJiZcInhcIiE9PW58fG8hPT10WzFdJiZcInhcIiE9PW98fHIhPT10WzJdJiZcInhcIiE9PXIpfSkpfSkoYSksWy4uLnRdLnNvcnQoKChlLHQpPT5WbyhlKS1Wbyh0KSkpKS5mb3JFYWNoKCh0PT57Y29uc3Qgbj1hW3RdO09iamVjdC5rZXlzKG4pLmZvckVhY2goKHQ9PntlLmFkZFJlc291cmNlQnVuZGxlKHQsXCJ0cmFuc2xhdGlvblwiLG5bdF0sITAsITApfSkpfSkpfWNhdGNoKGUpe2UgaW5zdGFuY2VvZiBObz9jb25zb2xlLndhcm4oZS5tZXNzYWdlKTpjb25zb2xlLmVycm9yKFwiRXJyb3IgYXBwbHlpbmcgYSB0cmFuc2xhdGlvbiBvdmVycmlkZTogXCIsZSl9dmFyIHR9O2Z1bmN0aW9uIF9vKCl7cmV0dXJuIEhhKCkubGFuZ3VhZ2V9Y29uc3QgT289YXN5bmMgZT0+e0hvKGUpLChlPT57SGEoKS5jaGFuZ2VMYW5ndWFnZShlKX0pKGUpLGF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGJlKCk7cmV0dXJuIFByb21pc2UuYWxsKHQubWFwKChhc3luYyB0PT57Y29uc3QgYT1hd2FpdCBxdCh0LmlkZW50aXR5KTthd2FpdCBhLmRpc3BhdGNoKGVhLlNldFNlbGVjdGVkTGFuZ3VhZ2UsZSl9KSkpfSkoZSl9O2Z1bmN0aW9uIFVvKCl7aWYoIUhhKCkub3B0aW9ucy5yZXNvdXJjZXMpdGhyb3cgbmV3IEVycm9yKFwiTm8gbGFuZ3VhZ2UgcmVzb3VyY2VzIGZvdW5kXCIpO3JldHVybntjdXJyZW50TGFuZ3VhZ2U6X28oKSxyZXNvdXJjZXM6SGEoKS5vcHRpb25zLnJlc291cmNlc319YXN5bmMgZnVuY3Rpb24gR28oZT1cImVuLVVTXCIpe0hvKGUpLGZ1bmN0aW9uKGU9XCJlbi1VU1wiKXtIYSgpLnVzZShVYS5pbml0UmVhY3RJMThuZXh0KS5pbml0KHtsbmc6ZSxmYWxsYmFja0xuZzpcImVuLVVTXCIscmVzb3VyY2VzOntcImVuLVVTXCI6e3RyYW5zbGF0aW9uOnphfSxcImphLUpQXCI6e3RyYW5zbGF0aW9uOnFhfSxcInpoLUNOXCI6e3RyYW5zbGF0aW9uOiRhfSxcImtvLUtSXCI6e3RyYW5zbGF0aW9uOlphfSxcInJ1LVJVXCI6e3RyYW5zbGF0aW9uOmphfSxcImRlLURFXCI6e3RyYW5zbGF0aW9uOkphfSxcInpoLUhhbnRcIjp7dHJhbnNsYXRpb246S2F9fSxpbnRlcnBvbGF0aW9uOntlc2NhcGVWYWx1ZTohMX19KX0oZSksYXdhaXQgTG8oSGEoKSl9ZnVuY3Rpb24gSG8oZSl7aWYoIU0uaW5jbHVkZXMoZSkpdGhyb3cgbmV3IEVycm9yKGBUaGUgSVNPIGxhbmd1YWdlIHByb3ZpZGVkICR7ZX0gaXMgbm90IHN1cHBvcnRlZGApfWNvbnN0ICRvPVtcImdyZWVuXCIsXCJwdXJwbGVcIixcIm9yYW5nZVwiLFwicmVkXCIsXCJwaW5rXCIsXCJ5ZWxsb3dcIl0sS289XCJDT05URVhUX0dST1VQX1BBR0VcIix6bz0oKT0+ZT0+Y2xhc3MgZXh0ZW5kcyBle2dldENvbnRleHRHcm91cHMoKXtyZXR1cm4gc3VwZXIuZ2V0Q29udGV4dEdyb3VwcygpLm1hcCgoZT0+JG8uaW5jbHVkZXMoZS5kaXNwbGF5TWV0YWRhdGE/Lm5hbWUpP3suLi5lLGRpc3BsYXlNZXRhZGF0YTp7Li4uZS5kaXNwbGF5TWV0YWRhdGEsbmFtZTpRYShlLmRpc3BsYXlNZXRhZGF0YT8ubmFtZSl9fTplKSl9fSxKbz0oKT0+e2NvbnN0IGU9bmV3IFNldDtyZXR1cm4gdD0+Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLm9uQ2xpZW50Q29ubmVjdGVkPWU9PntlLm5hbWUuc3RhcnRzV2l0aChcImludGVybmFsLWdlbmVyYXRlZC12aWV3XCIpJiZ0aGlzLmpvaW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOktvLHRhcmdldDplfSx7dXVpZDp0aGlzLmZpbi5tZS51dWlkLG5hbWU6dGhpcy5maW4ubWUubmFtZX0pfTtjb25zdCBlPXRoaXMuaW50ZXJvcENsaWVudHMuc2V0O3RoaXMuaW50ZXJvcENsaWVudHMuc2V0PSh0LGEpPT57ZS5jYWxsKHRoaXMuaW50ZXJvcENsaWVudHMsdCxhKSx0aGlzLm9uQ2xpZW50Q29ubmVjdGVkKGEuY2xpZW50SWRlbnRpdHkpfX1hc3luYyBqb2luQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDp0LHRhcmdldDphfSxuKXtpZih0IT09S28pcmV0dXJuIHN1cGVyLmpvaW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOnQsdGFyZ2V0OmF9LG4pO3RyeXtjb25zdCB0PShhd2FpdCBBYSgpLkJyb3dzZXIuZ2V0UGFnZUJ5Vmlld0lkZW50aXR5KGEpKS5wYWdlLmxheW91dE5hbWU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVmlldyBkb2VzIG5vdCBiZWxvbmcgdG8gYSBwYWdlXCIpO2lmKCFlLmhhcyh0KSYmKGUuYWRkKHQpLCF0aGlzLmNvbnRleHRHcm91cHNCeUlkLmhhcyh0KSkpe2NvbnN0IGU9bmV3IE1hcDt0aGlzLmNvbnRleHRHcm91cHNCeUlkLnNldCh0LGUpfWF3YWl0IHN1cGVyLmpvaW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOnQsdGFyZ2V0OmF9LG4pLGEubmFtZX1jYXRjaChlKXtKU09OLnN0cmluZ2lmeShhKSxlLnN0YWNrfX1nZXRDb250ZXh0R3JvdXBzKCl7cmV0dXJuIEFycmF5LmZyb20oZSkubWFwKChlPT4oe2lkOmUsZGlzcGxheU1ldGFkYXRhOnt9fSkpKX1zZXRDb250ZXh0Rm9yR3JvdXAoZSx0KXtpZighdGhpcy5jb250ZXh0R3JvdXBzQnlJZC5oYXModCkpe2NvbnN0IGU9bmV3IE1hcDt0aGlzLmNvbnRleHRHcm91cHNCeUlkLnNldCh0LGUpfXJldHVybiBzdXBlci5zZXRDb250ZXh0Rm9yR3JvdXAoZSx0KX19fSxxbz0oZSx0KT0+e2NvbnN0IGE9KGU9PldlKGUpP0pvKCk6em8oKSkodCk7dHJ5e3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/dD0+ZShhKHQpKTpBcnJheS5pc0FycmF5KGUpP1suLi5lLGFdOmU9Pm5ldyhhKGUpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0IEVycm9yOlwiLGUpfX0sWm89bmV3IE1hcDthc3luYyBmdW5jdGlvbiBqbygpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IGU9Y2EoQnQuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93KTtpZighZSlyZXR1cm47Y29uc3QgdD1KU09OLnBhcnNlKGUpO2lmKGF3YWl0IGZlKHQpKXJldHVybiB0fWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGdldCBsYXN0IGZvY3VzZWQgYnJvd3NlciB3aW5kb3c6ICR7ZX1gKX19YXN5bmMgZnVuY3Rpb24gUW8oZT1maW4ubWUuaWRlbnRpdHkpe2F3YWl0IGtlKGUpJiYoWm8uZGVsZXRlKGUubmFtZSksWm8uc2V0KGUubmFtZSxlKSxmdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO3NhKEJ0Lkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx0KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIHNhdmUgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93OiBcIixlKX19KGUpKX1hc3luYyBmdW5jdGlvbiBZbyhlPWZpbi5tZS5pZGVudGl0eSl7Wm8uZGVsZXRlKGUubmFtZSl9Y29uc3QgWG89VHQoKSgoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuQXBwbGljYXRpb24uZ2V0Q2hpbGRXaW5kb3dzKCk7bGV0IHQsYT0hMTtmb3IoY29uc3QgbiBvZiBlKWlmKG4uaWRlbnRpdHkubmFtZT09PWRlLkJyb3dzZXJNZW51fHxuLmlkZW50aXR5Lm5hbWU9PT1kZS5Ccm93c2VyU2F2ZU1lbnU/dD1uOmF3YWl0IGtlKG4uaWRlbnRpdHkpJiYoYT0hMCksYSlicmVhazshYSYmdCYmdC5jbG9zZSgpfSksMTAwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSk7bGV0IGVyPXt9O2NvbnN0IHRyPWFzeW5jKHthY3Rpb25JZDplLHBheWxvYWQ6dH0pPT57aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZXJbZV0pdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGNvbmZpZ3VyZWQgZnVuY3Rpb24gZm9yIHRoZSBhY3Rpb24gJyR7ZX0nYCk7cmV0dXJuIGVyW2VdKHQpfSxhcj0oKT0+YGN1c3RvbS1jb250ZXh0LW1lbnUtJHtBYSgpLmlkZW50aXR5LnV1aWR9LSR7T31gLG5yPSgpPT5gY3VzdG9tLWJvb2ttYXJrLWNvbnRleHQtbWVudS0ke0FhKCkuaWRlbnRpdHkudXVpZH0tJHtPfWAsb3I9KCk9PmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChhcigpKTt2YXIgcnIsaXI7IWZ1bmN0aW9uKGUpe2UuU2F2ZT1cIlNhdmVcIixlLlNhdmVBcz1cIlNhdmVBc1wifShycnx8KHJyPXt9KSksZnVuY3Rpb24oZSl7ZS5HbG9iYWxNZW51PVwiZ2xvYmFsLW1lbnVcIixlLkNvbnRleHRNZW51PVwiY29udGV4dC1tZW51XCIsZS5SZW5hbWVTdXBlcnRhYj1cInJlbmFtZS1zdXBlcnRhYlwiLGUuQWRkRWRpdEJvb2ttYXJrPVwiYWRkLWVkaXQtYm9va21hcmtcIixlLkRyb3Bkb3duTWVudT1cImRyb3Bkb3duLW1lbnVcIn0oaXJ8fChpcj17fSkpO2NvbnN0IHNyPXJlcXVpcmUoXCJkZXhpZVwiKSxjcj1lPT5lK1wiLVwiK2Zpbi5tZS51dWlkLGxyPShlLHQpPT57Y29uc3QgYT1EJiZBJiZuZXcgc3IuRGV4aWUoZSk7cmV0dXJuIGEmJmEudmVyc2lvbiguMSkuc3RvcmVzKHtbdF06XCJcIn0pLGF9LGRyPShlLHQpPT57Y29uc3QgYT1scihjcihlKSx0KSxuPWxyKGUsdCk7aWYoIWF8fCFuKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBtaWdyYXRlIHN0b3JlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO3JldHVybihhc3luYyhlLHQsYSk9Pntjb25zdCBuPWNhKEJ0Lkhhc01vdmVkU3RvcmUpLG89bj9KU09OLnBhcnNlKG4pOnt9O2lmKG8mJm9bYV0pcmV0dXJuO29bYV09ITAsc2EoQnQuSGFzTW92ZWRTdG9yZSxKU09OLnN0cmluZ2lmeShvKSk7Y29uc3Qgcj1hd2FpdCBlW2FdLnRvQXJyYXkoKTthd2FpdCB0W2FdLmJ1bGtQdXQocil9KShuLGEsZSksYX0sdXI9KGUsdD1cIlwiKT0+ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSkscHI9XCJ2aXNpdGVkLXNpdGVzXCIsd3I9XCJyZW1vdmVkLXRhYi1zdGFja1wiLGhyPUQmJkEmJmRyKFwib3BlbmZpbi1ob21lLXBhZ2VzXCIsXCJwYWdlc1wiKSxncj1EJiZBJiZuZXcgc3IuRGV4aWUoY3IoXCJvcGVuZmluLWVudGVycHJpc2Utc2l0ZS1oaXN0b3J5XCIpKTtnciYmZ3IudmVyc2lvbiguMSkuc3RvcmVzKHtbcHJdOlwiaWQsIHVybFwifSk7Y29uc3QgbXI9RCYmQSYmbmV3IHNyLkRleGllKGNyKFwib3BlbmZpbi1lbnRlcnByaXNlLXRhYi1oaXN0b3J5XCIpKTthc3luYyBmdW5jdGlvbiBrcihlKXtpZighaHIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBwYWdlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9YXdhaXQgaHIucGFnZXMuZ2V0KGUpO2lmKHQpcmV0dXJuIHQucGFnZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQucGFnZUlkLHR9YXN5bmMgZnVuY3Rpb24gYnIoZSl7aWYoIWhyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgcGFnZSBsaXN0IC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9YXdhaXQgaHIucGFnZXMudG9Db2xsZWN0aW9uKCkua2V5cygpLGE9KGF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5rcihlLnRvU3RyaW5nKCkpKSkpKS5maWx0ZXIoKGU9PiEhZSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT51cih0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiB5cih7cGFnZTplfSl7aWYoIWhyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgcGFnZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTthd2FpdCBoci5wYWdlcy5wdXQoZSxlLnBhZ2VJZCl9YXN5bmMgZnVuY3Rpb24gZnIoZSl7aWYoIWhyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWxldGUgcGFnZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTthd2FpdCBoci5wYWdlcy5kZWxldGUoZSl9YXN5bmMgZnVuY3Rpb24gU3Ioe3BhZ2VJZDplLHBhZ2U6dH0pe2lmKCFocil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gdXBkYXRlIHBhZ2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7aWYodm9pZCAwPT09YXdhaXQga3IoZSkpdGhyb3cgbmV3IEVycm9yKFwicGFnZSBub3QgZm91bmRcIik7YXdhaXQgeXIoe3BhZ2U6dH0pLGUhPT10LnBhZ2VJZCYmYXdhaXQgZnIoZSl9bXImJm1yLnZlcnNpb24oLjEpLnN0b3Jlcyh7W3dyXTpcIlwifSk7Y29uc3QgdnI9YXN5bmMgZT0+e2lmKCFtcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gYWRkIHJlbW92ZWQgdGFiIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IHQ9RGF0ZS5ub3coKS50b1N0cmluZygpLGE9ey4uLmUsaWQ6dH07YXdhaXQgbXJbd3JdLnB1dChhLHQpfTtmdW5jdGlvbiBQcihlKXtyZXR1cm5cImFwcFwiPT09ZS50eXBlfHxcIndlYnNpdGVcIj09PWUudHlwZX1jb25zdCBDcj1hc3luYyBlPT57aWYoXCJ3ZWJzaXRlXCI9PT1lLnR5cGUpe2NvbnN0IHQ9ZSxhPXQudXJsfHxcIlwiO2xldCBuPWF3YWl0IGdyW3ByXS5nZXQoYSk7biYmUHIobik/KG4uaWNvbj10Lmljb24sbi50aXRsZT10LnRpdGxlLG4udHlwZT10LnR5cGUsbi52aXNpdENvdW50PShuLnZpc2l0Q291bnR8fDApKzEsbi51cmw9dC51cmwpOm49ey4uLnQsaWQ6YSx2aXNpdENvdW50OjEsYWNjZXNzVGltZTp2b2lkIDB9LG4uYWNjZXNzVGltZT1EYXRlLm5vdygpLGF3YWl0IGdyW3ByXS5wdXQobixhKX19LE1yPWFzeW5jKCk9PntpZighZ3IpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBmcmVxdWVudGx5IHZpc2l0ZWQgc2l0ZXMgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgZT1ncltwcl0sdD1hd2FpdCBlLnRvQ29sbGVjdGlvbigpLnRvQXJyYXkoKTt0LnNvcnQoKChlLHQpPT4odC52aXNpdENvdW50fHwwKS0oZS52aXNpdENvdW50fHwwKSkpO3JldHVybih0Lmxlbmd0aD41P3Quc2xpY2UoMCw1KTp0KS5tYXAoKCh7aWQ6ZSwuLi50fSk9PnQpKX07Y29uc3QgeHI9YXN5bmMoKT0+KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0SG9zdFNwZWNzKCkpLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIndpbmRvd3NcIiksSXI9YXN5bmMgZT0+e2NvbnN0e2N0cmxLZXk6dCxtZXRhS2V5OmEsc2hpZnRLZXk6bn09ZS5zb3VyY2VFdmVudCx7dXJsOm99PWUuYm9va21hcmsse3NvdXJjZUlkZW50aXR5OnJ9PWUsaT1hd2FpdCB4cigpO2lmKCFhd2FpdCBrZShyKSlyZXR1cm4gYXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9QWEoKSxhPWF3YWl0IExhKGUudXJsLGUudXJsKSxuPWF3YWl0IE90KGUudXJsLGEpO21lKChhd2FpdCB0LkJyb3dzZXIuY3JlYXRlV2luZG93KHt3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W25dfX0pKS5pZGVudGl0eSl9KShlLmJvb2ttYXJrKTtjb25zdCBzPUFhKCkuQnJvd3Nlci53cmFwU3luYyhyKSxjPWF3YWl0IHMuZ2V0UGFnZXMoKSxsPShhd2FpdCBzLl9nZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3MoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2lmKCFsKXRocm93IEVycm9yKGBCcm93c2VyICR7cn0gZG9lcyBub3QgaGF2ZSBhbnkgYWN0aXZlIGxheW91dHNgKTtjb25zdCBkPWMuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpLHU9MT09PU9hKGQubGF5b3V0LmNvbnRlbnQpLHA9bC5zZWxlY3RlZFZpZXdzWzBdO3U/YXdhaXQoYXN5bmMoe2lzV2luZG93czplLGN0cmxLZXk6dCxtZXRhS2V5OmEsY3VycmVudFZpZXdJZDpuLGJyb3dzZXJJZGVudGl0eTpvLHVybDpyLHNoaWZ0S2V5OmksYWN0aXZlUGFnZTpzLHBhZ2VzOmN9KT0+e2lmKGU/dDphKXtjb25zdCBlPUFhKCkuQnJvd3Nlci53cmFwU3luYyhvKSx0PWF3YWl0IExhKHIscixvKSxhPXsuLi5hd2FpdCBPdChyLHQpLGF0dGFjaGVkUGFnZVR5cGU6XCJzaW5nbGVWaWV3XCIsc2luZ2xlVmlld05hbWU6cn0sbj1jLmZpbmRJbmRleCgoZT0+ZS5wYWdlSWQ9PT1zLnBhZ2VJZCkpO2F3YWl0IGUuX2FkZFBhZ2UoYSx7aW5kZXg6bisxfSksaSYmZS5zZXRBY3RpdmVQYWdlKGEucGFnZUlkKX1lbHNlIGZpbi5WaWV3LndyYXBTeW5jKG4pLm5hdmlnYXRlKHIpfSkoe2lzV2luZG93czppLGN0cmxLZXk6dCxtZXRhS2V5OmEsY3VycmVudFZpZXdJZDpwLGJyb3dzZXJJZGVudGl0eTpyLHVybDpvLHNoaWZ0S2V5Om4sYWN0aXZlUGFnZTpkLHBhZ2VzOmN9KTphd2FpdChhc3luYyh7aXNXaW5kb3dzOmUsY3RybEtleTp0LG1ldGFLZXk6YSxjdXJyZW50Vmlld0lkOm4sYnJvd3NlcklkZW50aXR5Om8sdXJsOnIsc2hpZnRLZXk6aSxhY3RpdmVMYXlvdXQ6c30pPT57aWYoZT90OmEpe2NvbnN0IGU9ZmluLlZpZXcud3JhcFN5bmMobiksdD1hd2FpdCBlLmdldEN1cnJlbnRTdGFjaygpLGE9KGF3YWl0IHQuZ2V0Vmlld3MoKSkuZmluZEluZGV4KChlPT5lLm5hbWU9PT1uLm5hbWUpKSxpPXt1cmw6cixicm93c2VySWRlbnRpdHk6byx0aXRsZTpyfTthd2FpdCB0LmFkZFZpZXcoaSx7aW5kZXg6YSsxfSl9ZWxzZSBhd2FpdCBmaW4uVmlldy53cmFwU3luYyhzLnNlbGVjdGVkVmlld3NbMF0pLm5hdmlnYXRlKHIpfSkoe2lzV2luZG93czppLGN0cmxLZXk6dCxtZXRhS2V5OmEsY3VycmVudFZpZXdJZDpwLGJyb3dzZXJJZGVudGl0eTpyLHVybDpvLHNoaWZ0S2V5Om4sYWN0aXZlTGF5b3V0Omx9KX07dmFyIEFyOyFmdW5jdGlvbihlKXtlLkxhYmVsPVwibm9ybWFsXCIsZS5TZXBhcmF0b3I9XCJzZXBhcmF0b3JcIixlLlN1Ym1lbnU9XCJzdWJtZW51XCIsZS5DaGVja2JveD1cImNoZWNrYm94XCJ9KEFyfHwoQXI9e30pKTtjb25zdCBXcj17dHlwZTpBci5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LERyPWFzeW5jKCk9Pih7dHlwZTpBci5TdWJtZW51LGxhYmVsOlFhKFwiY29udGV4dE1lbnUucHJpbnRcIiksc3VibWVudTpbe3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCIpLGRhdGE6e3R5cGU6Zi5QcmludH19LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiKSxkYXRhOnt0eXBlOmYuUHJpbnRBbGx9fSxXcix7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCIpLGRhdGE6e3R5cGU6Zi5QcmludFNjcmVlbn19XX0pLFRyPSgpPT4oe3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiKSxkYXRhOnt0eXBlOmcuQ2xvc2VXaW5kb3d9fSksUnI9ZT0+KHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKGU/XCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiKSxkYXRhOnt0eXBlOmcuUXVpdH19KSxCcj0oKT0+KHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUubmV3V2luZG93XCIpLGRhdGE6e3R5cGU6Zy5OZXdXaW5kb3d9fSksRXI9ZT0+KHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKGU/XCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJjb250ZXh0TWVudS5zYXZlUGFnZVwiKSxkYXRhOnt0eXBlOmcuU2F2ZVBhZ2V9fSksRnI9ZT0+KHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKGU/XCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIiksZGF0YTp7dHlwZTpnLlNhdmVQYWdlQXN9fSksVnI9KGUsdCk9Pih7dHlwZTpBci5MYWJlbCxsYWJlbDpRYSh0P1wiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiY29udGV4dE1lbnUubmV3UGFnZVwiKSxkYXRhOnt0eXBlOmcuTmV3UGFnZX0sZW5hYmxlZDplfSksTnI9KCk9Pih7bGFiZWw6UWEoXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIil9KSxMcj0oKT0+KHtsYWJlbDpRYShcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiKX0pLF9yPSgpPT4oe2xhYmVsOlFhKFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiKX0pLE9yPShlLHQsYSk9PnQubWFwKCh0PT57Y29uc3Qgbj10LndvcmtzcGFjZUlkPT09ZS53b3Jrc3BhY2VJZDtyZXR1cm57bGFiZWw6dC50aXRsZSx0eXBlOkFyLkNoZWNrYm94LGVuYWJsZWQ6IW4sY2hlY2tlZDpuLGRhdGE6e3R5cGU6YSx3b3Jrc3BhY2VJZDp0LndvcmtzcGFjZUlkfX19KSksVXI9YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgQWEoKS5UaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpO3JldHVyblt7bGFiZWw6UWEoXCJ0aGVtZS5saWdodFwiKSx0eXBlOkFyLkNoZWNrYm94LGNoZWNrZWQ6ZT09PW0uTGlnaHQsZGF0YTp7dHlwZTpnLkFwcGVhcmFuY2Usc2NoZW1lOm0uTGlnaHR9fSx7bGFiZWw6UWEoXCJ0aGVtZS5kYXJrXCIpLHR5cGU6QXIuQ2hlY2tib3gsY2hlY2tlZDplPT09bS5EYXJrLGRhdGE6e3R5cGU6Zy5BcHBlYXJhbmNlLHNjaGVtZTptLkRhcmt9fSx7bGFiZWw6UWEoXCJ0aGVtZS5zeXN0ZW1cIiksdHlwZTpBci5DaGVja2JveCxjaGVja2VkOmU9PT1tLlN5c3RlbSxkYXRhOnt0eXBlOmcuQXBwZWFyYW5jZSxzY2hlbWU6bS5TeXN0ZW19fV19LEdyPWFzeW5jKGUsdD1bXSk9Pntjb25zdCBhPWF3YWl0IFNlKCkse25ld1BhZ2VVcmw6bn09YXdhaXQgcW4oZSksbz1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1wZShlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmRpc2FibGVNdWx0aXBsZVBhZ2VzfSkoZSkscj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1wZShlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmlzTG9ja2VkfSkoZSksaT1hd2FpdCBBZShlKSxzPVtdLGM9dC5sZW5ndGg+MDtuJiYocy5wdXNoKEJyKCkpLG98fHMucHVzaChWcighcixpKSkpLHMucHVzaChXcik7Y29uc3QgbD1BYSgpLGQ9YXdhaXQgbC5nZXRDdXJyZW50V29ya3NwYWNlKCksdT1hd2FpdCBsLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpLHA9dS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09ZC53b3Jrc3BhY2VJZCkpO3MucHVzaCh7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnJlc3RvcmVcIiksZGF0YTp7dHlwZTpnLlJlc3RvcmVDaGFuZ2VzfSxlbmFibGVkOiEhcH0pLHMucHVzaCh7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIiksZGF0YTp7dHlwZTpnLlNhdmVXb3Jrc3BhY2V9LGVuYWJsZWQ6ISFwfSkscy5wdXNoKHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCIpLGRhdGE6e3R5cGU6Zy5TYXZlV29ya3NwYWNlQXN9fSkscy5wdXNoKHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCIpLGRhdGE6e3R5cGU6Zy5SZW5hbWVXb3Jrc3BhY2V9LGVuYWJsZWQ6ISFwfSksdS5zb21lKChlPT5lLndvcmtzcGFjZUlkIT09ZC53b3Jrc3BhY2VJZCkpP3MucHVzaCh7bGFiZWw6TnIoKS5sYWJlbCxzdWJtZW51Ok9yKGQsdSxnLlN3aXRjaFdvcmtzcGFjZSksZGF0YTp2b2lkIDB9LHtsYWJlbDpMcigpLmxhYmVsLHN1Ym1lbnU6T3IoZCx1LGcuRGVsZXRlV29ya3NwYWNlKSxkYXRhOnZvaWQgMH0pOnMucHVzaCh7bGFiZWw6TnIoKS5sYWJlbCxlbmFibGVkOiExLGRhdGE6dm9pZCAwfSx7bGFiZWw6THIoKS5sYWJlbCxlbmFibGVkOiExLGRhdGE6dm9pZCAwfSkscy5wdXNoKHtsYWJlbDpRYShcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiKSxkYXRhOnt0eXBlOmcuRG93bmxvYWRzfX0pO2NvbnN0IHc9YXdhaXQgbC5UaGVtZS5nZXRUaGVtZXMoKTtyZXR1cm4od1swXSYmXCJwYWxldHRlc1wiaW4gd1swXXx8IXdbMF18fDA9PT13Lmxlbmd0aCkmJnMucHVzaCh7bGFiZWw6X3IoKS5sYWJlbCxzdWJtZW51OmF3YWl0IFVyKCksZGF0YTp2b2lkIDB9KSxzLnB1c2goV3IsRXIoaSksRnIoaSksYXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgeHIoKTtyZXR1cm57bGFiZWw6UWEoXCJjb250ZXh0TWVudS5wcmludFwiKSxzdWJtZW51Olt7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIiksZGF0YTp7dHlwZTpnLlByaW50fSxlbmFibGVkOmV9LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiKSxkYXRhOnt0eXBlOmcuUHJpbnRBbGx9fSwuLi50P1tXcix7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCIpLGRhdGE6e3R5cGU6Zy5QcmludFNjcmVlbn19XTpbXV0sZGF0YTp2b2lkIDB9fSkoYykpLGE/Wy4uLnMsVHIoKSxXcix7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCIpLGRhdGE6e3R5cGU6Zy5PcGVuU3RvcmVmcm9udH19LFdyLFJyKCldOlsuLi5zLFdyLFRyKCksV3IsUnIoKV19LEhyPWFzeW5jKGUsdCk9Pntjb25zdCBhPXQuc2VsZWN0ZWRWaWV3c1swXSxuPWZpbi5WaWV3LndyYXBTeW5jKGEpLG89YXdhaXQoYXN5bmMgZT0+e2NvbnN0e25ld1RhYlVybDp0fT1hd2FpdCBxbihlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IHBhZ2Ugd2l0aG91dCBhIG5ld1RhYlVybCBzZXRcIik7cmV0dXJue3VybDp0LHRhcmdldDplLHRpdGxlOlwiTmV3IFRhYlwifX0pKGUpO2F3YWl0IEFhKCkuY3JlYXRlVmlldyhvLGUsbi5pZGVudGl0eSl9LCRyPWFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKSxvPWF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoZSkuZ2V0Q3VycmVudFZpZXdzKCk7aWYodC5sZW5ndGg9PT1vLmxlbmd0aC0obi5wYW5lbHM/P1tdKS5sZW5ndGgpe3JldHVybiB2b2lkKGF3YWl0IHF0KGUpKS5kaXNwYXRjaChlYS5DbG9zZVBhZ2Use3BhZ2VJZDpuPy5wYWdlSWR9KX1jb25zdCByPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3QuZm9yRWFjaCgoYXN5bmMgdD0+e2NvbnN0IG89YXdhaXQgZmluLlZpZXcud3JhcFN5bmModCkuZ2V0UGFyZW50TGF5b3V0KCk7YXdhaXQgci5jbG9zZVZpZXcodCk7Y29uc3R7aGFzVW5zYXZlZENoYW5nZXM6aX09YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHd0KHdlKSkuZGlzcGF0Y2gobHQuSGFuZGxlUGFnZUNoYW5nZXMsZSkpKHtwYWdlOnsuLi5uLGxheW91dDphd2FpdCBvLmdldENvbmZpZygpfSxpZGVudGl0eTplLGV2ZW50RGV0YWlsczp7dHlwZTpoLlZpZXdSZW1vdmVkLHZpZXdJZGVudGl0eTp0fX0pO2kmJmF3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOm4ucGFnZUlkLHBhZ2U6e2hhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX0pfSkpfSxLcj1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChlPT5Qcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkuZ2V0SW5mbygpKSkpKSh0KSx7bmV3UGFnZVVybDpuLG5ld1RhYlVybDpvfT1hd2FpdCBxbihlKTthLmZvckVhY2goKGFzeW5jIGU9PntlLnVybCE9PW4mJmUudXJsIT09byYmYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZS51cmwpfSkpfSx6cj0oZSx0KT0+e3QuZm9yRWFjaCgoYXN5bmMgdD0+e2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCk7YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0e3VybDphfT1hd2FpdCB0LmdldEluZm8oKSxuPXsuLi5hd2FpdCB0LmdldE9wdGlvbnMoKSx1cmw6YSx0YXJnZXQ6ZSxuYW1lOnZvaWQgMH07YXdhaXQgQWEoKS5jcmVhdGVWaWV3KG4sZSx0LmlkZW50aXR5KX0pKGUsYSl9KSl9LEpyPWFzeW5jKGUsdCxhKT0+e2NvbnN0IG49e25ld0NoYW5uZWxJZDp0LHNlbGVjdGVkVmlld3M6YX07KGF3YWl0IHF0KGUpKS5kaXNwYXRjaChlYS5BZGRUb0NoYW5uZWwsbil9LHFyPWFzeW5jKGUsdCk9PnsoYXdhaXQgcXQoZSkpLmRpc3BhdGNoKGVhLlJlbW92ZUZyb21DaGFubmVsLHQpfSxacj1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eSxuPWZpbi5XaW5kb3cud3JhcFN5bmMoYSk7c3dpdGNoKEtlKHt0eXBlOlwiVmlldyBUYWIgTWVudVwiLGFjdGlvbjpcIlNlbGVjdCBNZW51IEl0ZW1cIix2YWx1ZTplLnR5cGUsc2tpcFZhbHVlSGFzaGluZzohMH0pLGUudHlwZSl7Y2FzZSBmLkJhY2s6YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9ZS5tYXAoKGU9PmZpbi5WaWV3LndyYXBTeW5jKGUpLm5hdmlnYXRlQmFjaygpKSk7YXdhaXQgUHJvbWlzZS5hbGwodCl9KSh0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5Gb3J3YXJkOmF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWUubWFwKChlPT5maW4uVmlldy53cmFwU3luYyhlKS5uYXZpZ2F0ZUZvcndhcmQoKSkpO2F3YWl0IFByb21pc2UuYWxsKHQpfSkodC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuUHJpbnQ6YXdhaXQgRm8odC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuUHJpbnRBbGw6YXdhaXQgbi5wcmludCh7Y29udGVudDpcInZpZXdzXCIsaW5jbHVkZVNlbGY6ITF9KTticmVhaztjYXNlIGYuUHJpbnRTY3JlZW46YXdhaXQgbi5wcmludCh7Y29udGVudDpcInNjcmVlbnNob3RcIn0pO2JyZWFrO2Nhc2UgZi5DbG9zZVZpZXdzOmF3YWl0ICRyKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcjphd2FpdCBLcihhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBmLlJlbG9hZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cy5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LnJlbG9hZCgpfSkpO2JyZWFrO2Nhc2UgZi5OZXdWaWV3OmF3YWl0IEhyKGEsdCk7YnJlYWs7Y2FzZSBmLkR1cGxpY2F0ZVZpZXdzOnpyKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuQWRkVG9DaGFubmVsOkpyKGEsZS5vcHRpb24sdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGYuUmVtb3ZlRnJvbUNoYW5uZWw6cXIoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgZi5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IG49e2NhbGxlclR5cGU6Qy5WaWV3VGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxzZWxlY3RlZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cyxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O0FhKCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxuKX19fTtsZXQganI9XCJQbGF0Zm9ybVwiO2NvbnN0IFFyPWFzeW5jKCk9PmpyO2NvbnN0IFlyPWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm47Y29uc3QgYT10LmlkZW50aXR5LG49YXdhaXQgcXQoYSksbz1BYSgpLkJyb3dzZXIud3JhcFN5bmMoYSkscj1maW4uV2luZG93LndyYXBTeW5jKGEpO2lmKEtlKHt0eXBlOlwiR2xvYmFsIE1lbnVcIixhY3Rpb246XCJTZWxlY3QgTWVudSBJdGVtXCIsdmFsdWU6ZS50eXBlLHNraXBWYWx1ZUhhc2hpbmc6ITAsZGF0YTp7YWN0aW9uOmUuYWN0aW9uPy5pZH19KSxhd2FpdCBBZShhKSl7Y29uc3QgYT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT10LmlkZW50aXR5LG49QWEoKS5Ccm93c2VyLndyYXBTeW5jKGEpLG89KGF3YWl0IG4uZ2V0UGFnZXMoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpLHI9R3Qoey4uLmEsbGF5b3V0TmFtZTpvLmxheW91dENvbnRhaW5lcktleX0pLGk9dC5zZWxlY3RlZFZpZXdzO3N3aXRjaChlPy50eXBlKXtjYXNlIGIuTG9jazphd2FpdCBuLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDpvLnBhZ2VJZCxwYWdlOntpc0xvY2tlZDohby5pc0xvY2tlZH19KTticmVhaztjYXNlIGIuQWRkVG9DaGFuZWw6ZS5vcHRpb24/YXdhaXQgSnIoYSxlLm9wdGlvbixpKTpudWxsPT09ZS5vcHRpb24mJmF3YWl0IHFyKGEsaSk7YnJlYWs7Y2FzZSBnLk5ld1dpbmRvdzp7Y29uc3QgZT1hd2FpdCBabihhKTthd2FpdCBBYSgpLkJyb3dzZXIuY3JlYXRlV2luZG93KHt3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W2VdLHdpbmRvd1R5cGU6XCJlbnRlcnByaXNlXCJ9fSk7YnJlYWt9Y2FzZSBiLlBpbjp7Y29uc3R7YWx3YXlzT25Ub3A6ZX09YXdhaXQgbi5vcGVuZmluV2luZG93LmdldE9wdGlvbnMoKTthd2FpdCBuLm9wZW5maW5XaW5kb3cudXBkYXRlT3B0aW9ucyh7YWx3YXlzT25Ub3A6IWV9KTticmVha31jYXNlIGIuU2hvd0hpZGVUYWJzOmF3YWl0IHIuaXNTaG93aW5nVGFicygpP2F3YWl0IHIuaGlkZSgpOmF3YWl0IHIuc2hvdygpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9cmV0dXJuITB9KShlLHQpO2lmKGEpcmV0dXJufXN3aXRjaChlLnR5cGUpe2Nhc2UgZy5OZXdXaW5kb3c6e2NvbnN0e25ld1BhZ2VVcmw6ZX09YXdhaXQgcW4oYSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBlbXB0eSB3aW5kb3cgd2l0aG91dCBhIG5ld1BhZ2VVcmwgc2V0XCIpO0FhKCkuY3JlYXRlVmlldyh7dGFyZ2V0OnZvaWQgMCx1cmw6ZX0pO2JyZWFrfWNhc2UgZy5OZXdQYWdlOmF3YWl0IERvKGEpO2JyZWFrO2Nhc2UgZy5DbG9zZVdpbmRvdzpuLmRpc3BhdGNoKGVhLkNsb3NlQnJvd3NlcldpbmRvdyk7YnJlYWs7Y2FzZSBnLlNhdmVXb3Jrc3BhY2U6YXdhaXQgQW8oYSk7YnJlYWs7Y2FzZSBnLlNhdmVQYWdlOmF3YWl0IFRvKGEpO2JyZWFrO2Nhc2UgZy5TYXZlUGFnZUFzOmF3YWl0IFJvKGEpO2JyZWFrO2Nhc2UgZy5TYXZlV29ya3NwYWNlQXM6YXdhaXQgV28oYSk7YnJlYWs7Y2FzZSBnLlJlbmFtZVdvcmtzcGFjZTpvLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTp4LlJFTkFNRV9XT1JLU1BBQ0V9KTticmVhaztjYXNlIGcuU3dpdGNoV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTthLmFwcGx5V29ya3NwYWNlKG4se3NraXBQcm9tcHQ6ITEscHJvbXB0Q29udGFpbmVyV2luZG93SWRlbnRpdHk6ZX0pfSkoYSxlKTticmVhaztjYXNlIGcuRGVsZXRlV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTtuJiZhd2FpdCB3byhlLG4udGl0bGUpJiYoYXdhaXQgYS5TdG9yYWdlLmRlbGV0ZVdvcmtzcGFjZSh0LndvcmtzcGFjZUlkKSxKbihRYShcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiKSxlKSl9KShhLGUpO2JyZWFrO2Nhc2UgZy5Eb3dubG9hZHM6YXdhaXQgRW8oYSk7YnJlYWs7Y2FzZSBnLkFwcGVhcmFuY2U6YXdhaXQgQWEoKS5UaGVtZS5zZXRTZWxlY3RlZFNjaGVtZShlLnNjaGVtZSk7YnJlYWs7Y2FzZSBnLlF1aXQ6e2NvbnN0IGU9UXIoKTthd2FpdCBobyhhLGF3YWl0IGUpJiZmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCl9YnJlYWs7Y2FzZSBnLk9wZW5TdG9yZWZyb250Oihhc3luYygpPT57YXdhaXQgU2UoKSYmbWUoZ2UpfSkoKTticmVhaztjYXNlIGcuUmVzdG9yZUNoYW5nZXM6YXdhaXQgeW8oKTticmVhaztjYXNlIGcuUHJpbnQ6YXdhaXQgRm8odC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGcuUHJpbnRBbGw6YXdhaXQgci5wcmludCh7Y29udGVudDpcInZpZXdzXCIsaW5jbHVkZVNlbGY6ITF9KTticmVhaztjYXNlIGcuUHJpbnRTY3JlZW46YXdhaXQgci5wcmludCh7Y29udGVudDpcInNjcmVlbnNob3RcIn0pO2JyZWFrO2Nhc2UgZy5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IHQ9e2NhbGxlclR5cGU6Qy5HbG9iYWxDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07QWEoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLHQpfWVsc2UgY29uc29sZS53YXJuKGBFbmNvdW50ZXJlZCBhIEN1c3RvbSBjb250ZXh0IG1lbnUgb3B0aW9uIHdpdGggYW4gXCJhY3Rpb25cIiBwcm9wZXJ0eSB3aXRoIHZhbHVlIFwiJHtlLmFjdGlvbn1cImApfX0sWHI9YXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1BYSgpLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSksbz1maW4uV2luZG93LndyYXBTeW5jKHQuaWRlbnRpdHkpLHI9YXdhaXQgcXQodC5pZGVudGl0eSksaT1hd2FpdCBBZSgpO3N3aXRjaChlJiZLZSh7dHlwZTpcIlBhZ2UgVGFiIE1lbnVcIixhY3Rpb246XCJTZWxlY3QgTWVudSBJdGVtXCIsdmFsdWU6ZS50eXBlLHNraXBWYWx1ZUhhc2hpbmc6ITB9KSxlPy50eXBlKXtjYXNlIGsuU2F2ZTphd2FpdCBUbyh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIGsuU2F2ZUFzOmF3YWl0IFJvKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugay5OZXdQYWdlOmF3YWl0IERvKHQuaWRlbnRpdHkpO2JyZWFrO2Nhc2Ugay5EZWxldGVQYWdlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCksbj1hLkJyb3dzZXIud3JhcFN5bmMoZSksbz0oYXdhaXQgYS5TdG9yYWdlLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUucGFnZUlkPT09dCkpO28mJmF3YWl0IG1vKGUsby50aXRsZSkmJihhd2FpdCBhLlN0b3JhZ2UuZGVsZXRlUGFnZShvLnBhZ2VJZCksYXdhaXQgbi5yZW1vdmVQYWdlKHQpLEpuKFFhKFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCIpLGUsUWEoXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCIse3RpdGxlOm8udGl0bGV9KSkpfSkodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBrLlJlbmFtZTppZihhd2FpdCBBZSh0LmlkZW50aXR5KSl7YXdhaXQgbi5zZXRBY3RpdmVQYWdlKHQucGFnZUlkKTtjb25zdCBlPWF3YWl0IG9yKCk7YXdhaXQgZS5kaXNwYXRjaChcIm9wZW5cIix7cGFyZW50SWRlbnRpdHk6dC5pZGVudGl0eSx0eXBlOmlyLlJlbmFtZVN1cGVydGFiLGFuY2hvckJlaGF2aW9yOnRpLkNlbnRlcix4OmEubGVmdCthLndpZHRoLzItMTY0LHk6YS5ib3R0b20tOCxwYXlsb2FkOntwYWdlSWQ6dC5wYWdlSWR9fSl9ZWxzZSBhd2FpdCBuLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTp4LlJFTkFNRV9QQUdFLGlkOnQucGFnZUlkfSk7YnJlYWs7Y2FzZSBrLkR1cGxpY2F0ZTpyLmRpc3BhdGNoKGVhLkR1cGxpY2F0ZVBhZ2UsdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugay5DbG9zZTppP2F3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUFhKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPWF3YWl0IGEuZ2V0UGFnZXMoKTtmb3IoY29uc3QgbyBvZiBuKWlmKG8ucGFnZUlkPT09dCl7YXdhaXQgYS5yZW1vdmVQYWdlKG8ucGFnZUlkKSxhd2FpdCBhLl90cmFja1JlbW92ZWRUYWIoe2lkZW50aXR5OmUscGFnZTpvfSk7YnJlYWt9fSkodC5pZGVudGl0eSx0LnBhZ2VJZCk6ci5kaXNwYXRjaChlYS5DbG9zZVBhZ2Use3BhZ2VJZDp0LnBhZ2VJZH0pO2JyZWFrO2Nhc2Ugay5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IGE9e2NhbGxlclR5cGU6Qy5QYWdlVGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6dC5pZGVudGl0eSxwYWdlSWQ6dC5wYWdlSWQsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtBYSgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsYSl9ZWxzZSBjb25zb2xlLndhcm4oYEVuY291bnRlcmVkIGEgQ3VzdG9tIGNvbnRleHQgbWVudSBvcHRpb24gd2l0aCBhbiBcImFjdGlvblwiIHByb3BlcnR5IHdpdGggdmFsdWUgXCIke2UuYWN0aW9ufVwiYCk7YnJlYWs7Y2FzZSBrLlJlZnJlc2g6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9QWEoKSxuPWEuQnJvd3Nlci53cmFwU3luYyhlKSxvPShhd2FpdCBuLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKTtvPy5sYXlvdXQ/LmNvbnRlbnQmJk5hKG8ubGF5b3V0LmNvbnRlbnQpLmZvckVhY2goKGFzeW5jIGU9PnsoYXdhaXQgZmluLlZpZXcud3JhcCh7dXVpZDphLmlkZW50aXR5LnV1aWQsbmFtZTplLm5hbWV9KSkucmVsb2FkKCl9KSl9KSh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIGsuQ2xvc2VPdGhlcnM6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9QWEoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49YXdhaXQgYS5nZXRQYWdlcygpO2Zvcihjb25zdCBvIG9mIG4pby5wYWdlSWQhPT10JiYoYXdhaXQgYS5yZW1vdmVQYWdlKG8ucGFnZUlkKSxhd2FpdCBhLl90cmFja1JlbW92ZWRUYWIoe2lkZW50aXR5OmUscGFnZTpvfSkpfSkodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBrLlNhdmVXb3Jrc3BhY2VBczphd2FpdCBXbyh0LmlkZW50aXR5KTticmVhaztjYXNlIGsuUHJpbnQ6e2NvbnN0IGU9YXdhaXQgbi5fZ2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzKCkse3NlbGVjdGVkVmlld3M6YX09ZS5maW5kKChlPT5lLnBhZ2VJZD09PXQucGFnZUlkKSk7YXdhaXQgRm8oYSk7YnJlYWt9Y2FzZSBrLlByaW50QWxsOmF3YWl0IG4uc2V0QWN0aXZlUGFnZSh0LnBhZ2VJZCksYXdhaXQgby5wcmludCh7Y29udGVudDpcInZpZXdzXCIsaW5jbHVkZVNlbGY6ITF9KTticmVhaztjYXNlIGsuUHJpbnRTY3JlZW46YXdhaXQgbi5zZXRBY3RpdmVQYWdlKHQucGFnZUlkKSxhd2FpdCBvLnByaW50KHtjb250ZW50Olwic2NyZWVuc2hvdFwifSl9fSxlaT1hc3luYyhlLHQpPT57aWYoZT8udHlwZSl7Y29uc3QgYT10LmlkZW50aXR5O3N3aXRjaChlLnR5cGUpe2Nhc2Ugdi5TYXZlUGFnZTphd2FpdCBUbyhhKTticmVhaztjYXNlIHYuU2F2ZVdvcmtzcGFjZTphd2FpdCBBbyhhKTticmVhaztjYXNlIHYuU2F2ZVBhZ2VBczphd2FpdCBSbyhhKTticmVhaztjYXNlIHYuU2F2ZVdvcmtzcGFjZUFzOmF3YWl0IFdvKGEpO2JyZWFrO2Nhc2Ugdi5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IGE9e2NhbGxlclR5cGU6Qy5TYXZlQnV0dG9uQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6dC5pZGVudGl0eSxwYWdlSWQ6dC5wYWdlSWQsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtBYSgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsYSl9ZWxzZSBjb25zb2xlLndhcm4oYEVuY291bnRlcmVkIGEgQ3VzdG9tIGNvbnRleHQgbWVudSBvcHRpb24gd2l0aCBhbiBcImFjdGlvblwiIHByb3BlcnR5IHdpdGggdmFsdWUgXCIke2UuYWN0aW9ufVwiYCl9fX07dmFyIHRpOyFmdW5jdGlvbihlKXtlW2UuVG9wTGVmdD0wXT1cIlRvcExlZnRcIixlW2UuVG9wUmlnaHQ9MV09XCJUb3BSaWdodFwiLGVbZS5Cb3R0b21MZWZ0PTJdPVwiQm90dG9tTGVmdFwiLGVbZS5Cb3R0b21SaWdodD0zXT1cIkJvdHRvbVJpZ2h0XCIsZVtlLkNlbnRlcj00XT1cIkNlbnRlclwifSh0aXx8KHRpPXt9KSk7Y29uc3QgYWk9YXN5bmMoZSx0LGEsbik9Pntjb25zdHt4Om8seTpyLGlkZW50aXR5OmksdGVtcGxhdGU6cyxjYWxsYmFjazpjfT1lLGw9YXdhaXQgQWUoaSkse2RhdGE6ZH09bD9hd2FpdChhc3luYyhlLHQsYSxuKT0+e2lmKCFBKXRocm93IG5ldyBFcnJvcihcInNob3dFbnRlcnByaXNlQ29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhIEhlcmUgZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtpZighbiYmIWZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93RW50ZXJwcmlzZUNvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYSBIZXJlIHdpbmRvdy5cIik7Y29uc3Qgbz1maW4uV2luZG93LndyYXBTeW5jKHt1dWlkOndlLnV1aWQsbmFtZTpkZS5FbnRlcnByaXNlQ29udGV4dE1lbnV9KTthd2FpdCBvLmlzU2hvd2luZygpJiZhd2FpdCBvLmJsdXIoKTtjb25zdCByPWF3YWl0IG9yKCksaT1uZXcgUHJvbWlzZSgoKGUsdCk9PntyLnJlZ2lzdGVyKFwicmVzcG9uc2VcIiwodD0+e2UodCl9KSl9KSkse3g6cyx5OmMsdGVtcGxhdGU6bH09ZTtyZXR1cm4gYXdhaXQgci5kaXNwYXRjaChcIm9wZW5cIix7cGFyZW50SWRlbnRpdHk6bi5pZGVudGl0eSxyZXNwb25zZUlkZW50aXR5OndlLHR5cGU6dCxhbmNob3JCZWhhdmlvcjphLHg6cyx5OmMscGF5bG9hZDp7dGVtcGxhdGU6bH19KSxpfSkoe3g6byx5OnIsdGVtcGxhdGU6c30sYSxuLGZpbi5XaW5kb3cud3JhcFN5bmMoaSkpOmF3YWl0IGZ1bmN0aW9uKGUsdCl7aWYoIUEpdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO2lmKCF0JiYhZmluLm1lLmlzV2luZG93KXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gd2luZG93LlwiKTtyZXR1cm4odHx8ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpKS5zaG93UG9wdXBNZW51KGUpfSh7eDpvLHk6cix0ZW1wbGF0ZTpzfSxmaW4uV2luZG93LndyYXBTeW5jKGkpKTtjKGQsZSl9O2FzeW5jIGZ1bmN0aW9uIG5pKGUsdCl7Y29uc3QgYT1hd2FpdCBBZShlLmlkZW50aXR5KSxuPWE/YXdhaXQoYXN5bmMoe2lkZW50aXR5OmUsc2VsZWN0ZWRWaWV3czp0fSk9Pntjb25zdCBhPUFhKCksbj1hLkJyb3dzZXIud3JhcFN5bmMoZSksbz0oYXdhaXQgbi5nZXRQYWdlcygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSkscj1PYShvLmxheW91dC5jb250ZW50KT4xLGk9YXdhaXQgQWUoZSkscz1hd2FpdCBhLlRoZW1lLmdldFRoZW1lcygpLGM9c1swXSYmXCJwYWxldHRlc1wiaW4gc1swXXx8IXNbMF18fDA9PT1zLmxlbmd0aCxsPXsuLi5FcihpKSxlbmFibGVkOnJ9LGQ9ey4uLkZyKGkpLGVuYWJsZWQ6cn07cmV0dXJuW0JyKCksVnIoITAsaSkse3R5cGU6QXIuU2VwYXJhdG9yfSxsLGQse3R5cGU6QXIuU2VwYXJhdG9yfSwuLi5jP1t7dHlwZTpBci5TdWJtZW51LGxhYmVsOl9yKCkubGFiZWwsc3VibWVudTphd2FpdCBVcigpfV06W10se3R5cGU6QXIuU2VwYXJhdG9yfSxUcigpLHt0eXBlOkFyLlNlcGFyYXRvcn0sUnIoITApXX0pKHtpZGVudGl0eTplLmlkZW50aXR5LHNlbGVjdGVkVmlld3M6ZS5zZWxlY3RlZFZpZXdzfSk6YXdhaXQgR3IoZS5pZGVudGl0eSxlLnNlbGVjdGVkVmlld3MpLG89YXdhaXQgUXIoKTthfHwobi5maW5kKChlPT5lLmRhdGE/LnR5cGU9PT1nLlF1aXQpKS5sYWJlbD1gUXVpdCAke299YCk7Y29uc3R7cmVjdDpyLC4uLml9PWUse3g6cyx5OmN9PWE/e3g6ci5sZWZ0K3Iud2lkdGgseTpyLmJvdHRvbX06ZSxsPXsuLi5pLHg6cyx5OmMsdGVtcGxhdGU6bixjYWxsYmFjazpZcn07YXdhaXQgdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnUobCx0KX1hc3luYyBmdW5jdGlvbiBvaShlLHQpe2NvbnN0IGE9ey4uLmUsY2FsbGJhY2s6WnJ9O2F3YWl0IHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudShhLHQpfWFzeW5jIGZ1bmN0aW9uIHJpKGUsdCl7Y29uc3QgYT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBBYSgpLlN0b3JhZ2UuZ2V0UGFnZShlKSxuPWF3YWl0IGxuKCksbz1hd2FpdCBBZSh0KSxyPW4uZmluZCgodD0+dC5wYWdlSWQ9PT1lKSksaT1PYShyLmxheW91dC5jb250ZW50KT4xLHt3b3Jrc3BhY2VQbGF0Zm9ybTpzfT1hd2FpdCBwZSh0KS5nZXRPcHRpb25zKCksYz0hKHMuaXNMb2NrZWR8fHMucHJldmVudFBhZ2VDbG9zZXx8ci5jbG9zZUJ1dHRvbj8uZGlzYWJsZWR8fHIuY2xvc2VCdXR0b24/LmhpZGRlbiksbD1be3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCIpLGRhdGE6e3R5cGU6ay5OZXdQYWdlfX0sV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJyZWxvYWRcIiksZGF0YTp7dHlwZTprLlJlZnJlc2h9fSx7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIiksZGF0YTp7dHlwZTprLkR1cGxpY2F0ZX0sZW5hYmxlZDohcy5pc0xvY2tlZH0sYXdhaXQgRHIoKSxXcix7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShpP1wiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCIpLGRhdGE6e3R5cGU6ay5DbG9zZX0sZW5hYmxlZDpjfV0sZD1be3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCIpLGRhdGE6e3R5cGU6ay5OZXdQYWdlfX0sV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCIpLGRhdGE6e3R5cGU6ay5SZW5hbWV9LGVuYWJsZWQ6IXMuaXNMb2NrZWQmJiEhYSYmaX0se3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCIpLGRhdGE6e3R5cGU6ay5EdXBsaWNhdGV9LGVuYWJsZWQ6IXMuaXNMb2NrZWR9LFdyLHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiKSxkYXRhOnt0eXBlOmsuU2F2ZX0sZW5hYmxlZDppfSx7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiKSxkYXRhOnt0eXBlOmsuU2F2ZUFzfSxlbmFibGVkOml9LFdyLHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCIpLGRhdGE6e3R5cGU6ay5EZWxldGVQYWdlfSxlbmFibGVkOiEhYX0sV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoaT9cImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiKSxkYXRhOnt0eXBlOmsuQ2xvc2V9LGVuYWJsZWQ6Y31dLHU9W3t0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIiksZGF0YTp7dHlwZTprLlNhdmV9LGVuYWJsZWQ6ITB9LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiKSxkYXRhOnt0eXBlOmsuU2F2ZUFzfSxlbmFibGVkOiEwfSx7dHlwZTpBci5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlIEFzXCIsZGF0YTp7dHlwZTprLlNhdmVXb3Jrc3BhY2VBc319LHt0eXBlOkFyLkxhYmVsLGxhYmVsOlwiUmVmcmVzaFwiLGRhdGE6e3R5cGU6ay5SZWZyZXNofX0sV3Ise3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiKSxkYXRhOnt0eXBlOmsuUmVuYW1lfSxlbmFibGVkOiEhYX0se3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCIpLGRhdGE6e3R5cGU6ay5EdXBsaWNhdGV9LGVuYWJsZWQ6IXMuaXNMb2NrZWR9LFdyLHt0eXBlOkFyLkxhYmVsLGxhYmVsOlFhKFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiKSxkYXRhOnt0eXBlOmsuQ2xvc2V9LGVuYWJsZWQ6Y31dO3JldHVybiBvP2k/ZDpsOnV9KShlLnBhZ2VJZCxlLmlkZW50aXR5KSxuPXsuLi5lLHRlbXBsYXRlOmEsY2FsbGJhY2s6KHQsYSk9PntYcih0LGEsZS5yZWN0KX19O2F3YWl0IHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudShuLHQpfWFzeW5jIGZ1bmN0aW9uIGlpKGUsdCl7Y29uc3QgYT17Li4uZSx0ZW1wbGF0ZTphd2FpdChhc3luYygpPT57Y29uc3QgZT1BYSgpLHQ9YXdhaXQgZS5nZXRDdXJyZW50V29ya3NwYWNlKCksYT0oYXdhaXQgZS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTtyZXR1cm5be3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCIpLGVuYWJsZWQ6ISFhLGRhdGE6e3R5cGU6di5TYXZlV29ya3NwYWNlfX0se3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIiksZGF0YTp7dHlwZTp2LlNhdmVXb3Jrc3BhY2VBc319LHt0eXBlOkFyLlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6QXIuTGFiZWwsbGFiZWw6UWEoXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiKSxkYXRhOnt0eXBlOnYuU2F2ZVBhZ2V9fSx7dHlwZTpBci5MYWJlbCxsYWJlbDpRYShcInNhdmVNZW51LnNhdmVQYWdlQXNcIiksZGF0YTp7dHlwZTp2LlNhdmVQYWdlQXN9fV19KSgpLGNhbGxiYWNrOmVpfTthd2FpdCB0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoYSx0KX1jb25zdCBzaT1cImRvY2stY29tcGFuaW9uLXVwZGF0ZXNcIixjaT1hc3luYygpPT4oYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbmQoKGU9PmUuaWRlbnRpdHkubmFtZT09PWRlLkRvY2tDb21wYW5pb24pKSxsaT1vdChgJHtcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4/Lm1lLmlkZW50aXR5LnV1aWR9LWVudGVycHJpc2UtZG9ja2ApLGRpPWFzeW5jKCk9Pntjb25zdCBlPUFhKCk7bGV0IHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPUFycmF5LmZyb20oWm8udmFsdWVzKCkpO2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZVt0XSk7aWYoYXdhaXQgYS5pc1Nob3dpbmcoKSlyZXR1cm4gZVt0XX19KCk7aWYodCl7Y29uc3QgYT1lLkJyb3dzZXIud3JhcFN5bmModCksbj0oYXdhaXQgYS5nZXRQYWdlcygpKS5hdCgtMSksbz1OYShuLmxheW91dC5jb250ZW50KTtpZigxPT09by5sZW5ndGgmJlRlKG9bMF0udXJsKSlhd2FpdCBhLnNldEFjdGl2ZVBhZ2Uobi5wYWdlSWQpO2Vsc2V7Y29uc3QgZT1hd2FpdCBabih0KSx7bmV3UGFnZVVybDpufT1hd2FpdCBxbigpO2F3YWl0IGEuX2FkZERlZmF1bHRQYWdlKHtpZGVudGl0eTphLmlkZW50aXR5LHBhZ2U6ZSxuZXdQYWdlVXJsOm58fHZvaWQgMH0pfX1lbHNle2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDpmaW4ubWUudXVpZCxuYW1lOmRlLkRvY2tDb21wYW5pb259KSxuPWF3YWl0IFBlKGF3YWl0IGEuZ2V0Qm91bmRzKCkpLG89YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGEpe2NvbnN0IG49YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpLG89YT8uYXZhaWxhYmxlUmVjdD8/bi5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LHI9e3dpZHRoOm8ucmlnaHQtby5sZWZ0LGhlaWdodDpvLmJvdHRvbS1vLnRvcH0saT1NYXRoLm1pbihlLHIuaGVpZ2h0KSxzPU1hdGgubWluKHQsci53aWR0aCksYz1vLnRvcCtNYXRoLmZsb29yKChyLmhlaWdodC1pKS8yKTtyZXR1cm57aGVpZ2h0Omksd2lkdGg6cyxsZWZ0Om8ubGVmdCtNYXRoLmZsb29yKChyLndpZHRoLXMpLzIpLHRvcDpjfX0oNjAwLDkwMCxuKSxyPWF3YWl0IFpuKCk7dD0oYXdhaXQgZS5Ccm93c2VyLmNyZWF0ZVdpbmRvdyh7ZGVmYXVsdEhlaWdodDo2MDAsZGVmYXVsdFdpZHRoOjkwMCxkZWZhdWx0TGVmdDpvLmxlZnQsZGVmYXVsdFRvcDpvLnRvcCx3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W3JdfX0pKS5pZGVudGl0eX0oYXdhaXQgcXQodCkpLmRpc3BhdGNoKGVhLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWwpfSx1aT1cImRvY2stcHJvdmlkZXItY29uZmlnc1wiLHBpPUQmJkEmJm5ldyBzci5EZXhpZShjcihcImRvY2stcHJvdmlkZXItY29uZmlnc1wiKSk7YXN5bmMgZnVuY3Rpb24gd2koZSl7aWYoIXBpKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgRG9jayBwcm92aWRlciBjb25maWcgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7dHJ5e3JldHVybiBhd2FpdCBwaVt1aV0uZ2V0KGUpfWNhdGNoKGUpe3JldHVybiB2b2lkIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byByZXRyaWV2ZSBEb2NrIHByb3ZpZGVyIGNvbmZpZyBmcm9tIEluZGV4ZWREQlwiLGUpfX1hc3luYyBmdW5jdGlvbiBoaShlKXtpZighcGkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHNhdmUgRG9jayBwcm92aWRlciBjb25maWcgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgcGlbdWldLnB1dChlLGUuaWQpfXBpJiZwaS52ZXJzaW9uKC4xKS5zdG9yZXMoe1t1aV06XCJcIn0pO2NvbnN0IGdpPVwid29ya3NwYWNlc1wiLG1pPUQmJkEmJmRyKFwib3BlbmZpbi13b3Jrc3BhY2UtcGxhdGZvcm0td29ya3NwYWNlc1wiLGdpKTthc3luYyBmdW5jdGlvbiBraShlKXtpZighbWkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCB3b3Jrc3BhY2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgdD1hd2FpdCBtaVtnaV0uZ2V0KGUpO3JldHVybiB0JiYodC53b3Jrc3BhY2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LndvcmtzcGFjZUlkKSx0fWFzeW5jIGZ1bmN0aW9uIGJpKGUpe2lmKCFtaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IHdvcmtzcGFjZXMgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgdD1hd2FpdCBtaVtnaV0udG9Db2xsZWN0aW9uKCkua2V5cygpLGE9KGF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5raShlLnRvU3RyaW5nKCkpKSkpKS5maWx0ZXIoKGU9PiEhZSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT51cih0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiB5aSh7d29ya3NwYWNlOmV9KXtpZighbWkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSB3b3Jrc3BhY2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgdD0oYXdhaXQgYmkoKSkuZmluZCgodD0+dC50aXRsZT09PWUudGl0bGUpKTtpZih0JiZ0LndvcmtzcGFjZUlkIT09ZS53b3Jrc3BhY2VJZCl0aHJvdyBuZXcgRXJyb3IoYFdvcmtzcGFjZSB3aXRoIHRpdGxlICcke2UudGl0bGV9JyBhbHJlYWR5IGV4aXN0cy5gKTthd2FpdCBtaVtnaV0ucHV0KGUsZS53b3Jrc3BhY2VJZCl9YXN5bmMgZnVuY3Rpb24gZmkoZSl7aWYoIW1pKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWxldGUgd29ya3NwYWNlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2F3YWl0IG1pW2dpXS5kZWxldGUoZSl9YXN5bmMgZnVuY3Rpb24gU2koe3dvcmtzcGFjZUlkOmUsd29ya3NwYWNlOnR9KXtpZighbWkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHVwZGF0ZSB3b3Jrc3BhY2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7aWYoIWF3YWl0IGtpKGUpKXRocm93IG5ldyBFcnJvcihcIndvcmtzcGFjZSBub3QgZm91bmRcIik7YXdhaXQgeWkoe3dvcmtzcGFjZTp0fSksZSE9PXQud29ya3NwYWNlSWQmJmF3YWl0IGZpKGUpfWNvbnN0IHZpPWU9Pntjb25zdCB0PWUubGF5b3V0LGE9dC5jb250ZW50P05hKHQuY29udGVudCk6W10sbj1hLmxlbmd0aDtyZXR1cm4gbj4xP3suLi5lLHNpbmdsZVZpZXdOYW1lOm51bGx9OjE9PT1uP3suLi5lLHNpbmdsZVZpZXdOYW1lOmFbMF0ubmFtZX06dm9pZCAwfSxQaT1hc3luYyhlLHQsYSk9Pntjb25zdCBuPWF3YWl0IEFhKCkuQnJvd3Nlci5nZXRBbGxBdHRhY2hlZFBhZ2VzKCksbz1uZXcgU2V0KG4ubWFwKChlPT5lLnRpdGxlKSkuZmlsdGVyKChlPT4hIWUpKSkscj1uZXcgU2V0KG4ubWFwKChlPT5lLnBhZ2VJZCkpLmZpbHRlcigoZT0+ISFlKSkpLGk9dD8uZGVmYXVsdFBhZ2VPcHRpb25zLHM9XCJlbnRlcnByaXNlXCI9PT1hPy53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZXx8XCJlbnRlcnByaXNlXCI9PT10Py5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUsYz1hd2FpdCBlZSgpLGw9YXdhaXQoYXN5bmMoZSx0LGEpPT57aWYoYSlyZXR1cm4gbmUoKTtjb25zdCBuPXQ/LndvcmtzcGFjZVBsYXRmb3JtPy5uZXdUYWJVcmw7aWYobilyZXR1cm4gbjtjb25zdCBvPWU/LmRlZmF1bHRXaW5kb3dPcHRpb25zPy53b3Jrc3BhY2VQbGF0Zm9ybT8ubmV3VGFiVXJsO3JldHVybiBvfHx2b2lkIDB9KSh0LGEscyk7cmV0dXJuIFByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT57aWYoXCJyZXBhcmVudFwiPT09ZS5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yKXJldHVybnsuLi5lLGxheW91dENvbnRhaW5lcktleTpSdCgpfTsoKGUsdCk9PntlLnBhZ2VJZHx8PVJ0KCksdC5oYXMoZS5wYWdlSWQpJiYoY29uc29sZS53YXJuKFwiUGFnZUlEIGNvbGxpc2lvbiBkZXRlY3RlZC4gQWxsIFBhZ2UgSURzIHNob3VsZCBiZSB1bmlxdWUuIEEgcmFuZG9tIG5ldyBwYWdlSWQgd2lsbCBiZSBnZW5lcmF0ZWRcIiksZS5wYWdlSWQ9UnQoKSksdC5hZGQoZS5wYWdlSWQpfSkoZSxyKSxzP2UuaWNvblVybD1gJHtjfS9lbnRlcnByaXNlL2ljb25zL2VudGVycHJpc2UtcGFnZS5zdmdgOmUudGl0bGU9Y24oZS50aXRsZSxBcnJheS5mcm9tKG8ua2V5cygpKSksby5hZGQoZS50aXRsZSksZS5wYW5lbHM/LnJlZHVjZSgoKGUsdCk9Pntjb25zdCBhPU9iamVjdC52YWx1ZXModyk7aWYoIWEuaW5jbHVkZXModC5wb3NpdGlvbikpdGhyb3cgbmV3IEVycm9yKGBFbmNvdW50ZXJlZCBhIHBhbmVsIHdpdGggdW5zdXBwb3J0ZWQgcG9zaXRpb24gXCIke3QucG9zaXRpb259XCIuIFN1cHBvcnRlZCBwb3NpdGlvbnMgYXJlOiAke2EudG9TdHJpbmcoKX1gKTtpZigxPT1lW3QucG9zaXRpb25dKXRocm93IG5ldyBFcnJvcihgRm91bmQgbW9yZSB0aGFuIDEgcGFuZWwgYXQgcG9zaXRpb246ICR7dC5wb3NpdGlvbn0uIE9ubHkgMSBwYW5lbCBhdCBhIGdpdmVuIHBvc2l0aW9uIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQuYCk7cmV0dXJuey4uLmUsW3QucG9zaXRpb25dOmVbdC5wb3NpdGlvbl0rMX19KSx7W3cuTGVmdF06MCxbdy5SaWdodF06MCxbdy5Ub3BdOjAsW3cuQm90dG9tXTowfSk7Y29uc3QgYT1cInBhbmVsc1wiaW4gZT9lLnBhbmVsczppPy5wYW5lbHM7bGV0IG49KGQ9ZS5sYXlvdXQsdT10Py5kZWZhdWx0Vmlld09wdGlvbnMsUmEoey4uLmR9LChlPT5CYShlLHUpKSkpO3ZhciBkLHU7bCYmIW4/LnNldHRpbmdzPy5uZXdUYWJCdXR0b24mJihuPXsuLi5uLHNldHRpbmdzOnsuLi5uPy5zZXR0aW5ncyxuZXdUYWJCdXR0b246e3VybDpsfX19KTtyZXR1cm57Li4uaSwuLi5lLHBhbmVsczphJiZhd2FpdCB0bihhKSxsYXlvdXRDb250YWluZXJLZXk6UnQoKSxsYXlvdXQ6bixpc0xheW91dENyZWF0ZWQ6ITF9fSkpKX07YXN5bmMgZnVuY3Rpb24gQ2koZSl7cmV0dXJuIGU/XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09XCI6KGF3YWl0IFEoKSkuZGlzcGxheVZpZXdUYWJEZWZhdWx0SWNvbj9cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCI6XCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIwc3R5bGUlM0QlMjJiYWNrZ3JvdW5kLWNvbG9yJTNBJTIzN0Q4MDhBJTIyJTIwd2lkdGglM0QlMjIxMCUyMiUyMGhlaWdodCUzRCUyMjEwJTIyJTIwdmlld0JveCUzRCUyMjAlMjAwJTIwMTAlMjAxMCUyMiUyMGZpbGwlM0QlMjJub25lJTIyJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlM0UlM0NwYXRoJTIwZmlsbC1ydWxlJTNEJTIyZXZlbm9kZCUyMiUyMGNsaXAtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMjBkJTNEJTIyTTQuNjQ2NDglMjAwLjg3NDk2MkM0Ljg0MTc0JTIwMC42Nzk3JTIwNS4xNTgzMyUyMDAuNjc5NyUyMDUuMzUzNTklMjAwLjg3NDk2Mkw5LjEyNDgyJTIwNC42NDYyQzkuMzIwMDklMjA0Ljg0MTQ2JTIwOS4zMjAwOSUyMDUuMTU4MDQlMjA5LjEyNDgyJTIwNS4zNTMzTDUuMzUzNTklMjA5LjEyNDU0QzUuMTU4MzMlMjA5LjMxOTglMjA0Ljg0MTc0JTIwOS4zMTk4JTIwNC42NDY0OCUyMDkuMTI0NTRMMC44NzUyNDUlMjA1LjM1MzNDMC42Nzk5ODIlMjA1LjE1ODA0JTIwMC42Nzk5ODIlMjA0Ljg0MTQ2JTIwMC44NzUyNDUlMjA0LjY0NjJMNC42NDY0OCUyMDAuODc0OTYyWk01LjAwMDAzJTIwMS45MzU2MkwxLjkzNTklMjA0Ljk5OTc1TDUuMDAwMDMlMjA4LjA2Mzg4TDguMDY0MTYlMjA0Ljk5OTc1TDUuMDAwMDMlMjAxLjkzNTYyWiUyMiUyMGZpbGwlM0QlMjJ3aGl0ZSUyMiUyRiUzRSUzQyUyRnN2ZyUzRVwifWNvbnN0IE1pPXtkaW1lbnNpb25zOntib3JkZXJXaWR0aDozLGhlYWRlckhlaWdodDozMH19LHhpPSh3ZS51dWlkLGRlLkJyb3dzZXJBZGRyZXNzU2VhcmNoUHJlZml4KTthc3luYyBmdW5jdGlvbiBJaShlLHQsYSl7bGV0IG49ZTtjb25zdCBvPVwiZW50ZXJwcmlzZVwiPT09bi53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZXx8XCJlbnRlcnByaXNlXCI9PT10Py5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGU7aWYobi5sYXlvdXQmJiFuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoKXtjb25zdCBlPWF3YWl0IE1uKCksYT17Li4uYXdhaXQgT3QoZSxuLmxheW91dCksaXNBY3RpdmU6ITB9O24ud29ya3NwYWNlUGxhdGZvcm18fD17fSxuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPWF3YWl0IFBpKFthXSx0LG4pfXQ/LmJyb3dzZXJJY29uU2l6ZSYmKG4ud29ya3NwYWNlUGxhdGZvcm18fD17fSxuLndvcmtzcGFjZVBsYXRmb3JtLmJyb3dzZXJJY29uU2l6ZT10LmJyb3dzZXJJY29uU2l6ZSk7Y29uc3Qgcj1hPy50aGVtZXM/LlswXTtpZihuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoKXtjb25zdCBlPWF3YWl0IFBpKG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMsdCxuKSxpPWUscz0oZT0+e2lmKCFlKXJldHVybjtsZXQgdD1lLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTtyZXR1cm4hdCYmZS5sZW5ndGg+MCYmKGVbMF0uaXNBY3RpdmU9ITAsdD1lWzBdKSx0fSkoaSk7aWYoaS5mb3JFYWNoKChlPT57ZS5wYWdlSWQhPT1zPy5wYWdlSWQmJihlLmlzQWN0aXZlPSExKX0pKSxhd2FpdCBhbihpKSxuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPWUsbj1BdCh7fSxhd2FpdChhc3luYyBlPT4oe2NvbnRleHRNZW51T3B0aW9uczp7ZW5hYmxlZDohMX0sZXhwZXJpbWVudGFsOntzaG93RmF2aWNvbnM6ITAsZGVmYXVsdEZhdmljb25Vcmw6YXdhaXQgQ2koZSl9LHZpZXdWaXNpYmlsaXR5OntzaG93Vmlld3NPblNwbGl0dGVyRHJhZzp7ZW5hYmxlZDohMH0sc2hvd1ZpZXdzT25XaW5kb3dSZXNpemU6e2VuYWJsZWQ6ITB9fX0pKShvKSx0Py5kZWZhdWx0V2luZG93T3B0aW9ucyxuLGF3YWl0KGFzeW5jIGU9Pih7YmFja2dyb3VuZFRocm90dGxpbmc6ITAsdXJsOmF3YWl0IG9lKGUsITApLGNvbnRleHRNZW51OiEwLGNsb3NlT25MYXN0Vmlld1JlbW92ZWQ6ITEscGVybWlzc2lvbnM6e1N5c3RlbTp7b3BlblVybFdpdGhCcm93c2VyOntlbmFibGVkOiEwLHByb3RvY29sczpbXCJtYWlsdG9cIl19fX19KSkobykpLHMubGF5b3V0PUF0KHMubGF5b3V0LE1pKSxhc3luYyBmdW5jdGlvbihlKXtpZihlLmljb258fGUudGFza2Jhckljb24pe2NvbnN0IHQ9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCksYT1hd2FpdChhd2FpdCB0LmdldFdpbmRvdygpKS5nZXRPcHRpb25zKCk7ZS50YXNrYmFySWNvbkdyb3VwfHw9YS50YXNrYmFySWNvbkdyb3VwfHxmaW4ubWUuaWRlbnRpdHkudXVpZH1pZihlLndvcmtzcGFjZVBsYXRmb3JtLmljb24paWYoXCJvYmplY3RcIj09dHlwZW9mIGUud29ya3NwYWNlUGxhdGZvcm0uaWNvbil7Y29uc3QgdD13aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIik7ZS5pY29uPXQubWF0Y2hlcz9lLndvcmtzcGFjZVBsYXRmb3JtLmljb24uZGFyazplLndvcmtzcGFjZVBsYXRmb3JtLmljb24ubGlnaHR9ZWxzZSBlLmljb249ZS53b3Jrc3BhY2VQbGF0Zm9ybS5pY29ufShuKSwhbi5iYWNrZ3JvdW5kQ29sb3ImJnIpaWYoXCJwYWxldHRlXCJpbiByKW4uYmFja2dyb3VuZENvbG9yPXI/LnBhbGV0dGU/LmJhY2tncm91bmQyfHxyPy5wYWxldHRlPy5iYWNrZ3JvdW5kUHJpbWFyeTtlbHNle2NvbnN0IGU9YS5zZWxlY3RlZFNjaGVtZT09PW0uRGFya3x8YS5zZWxlY3RlZFNjaGVtZT09PW0uU3lzdGVtJiZ3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIik/cj8ucGFsZXR0ZXMuZGFyazpyPy5wYWxldHRlcy5saWdodDtuLmJhY2tncm91bmRDb2xvcj1lPy5iYWNrZ3JvdW5kMnx8ZT8uYmFja2dyb3VuZFByaW1hcnl9bj1DZShuLCEwKTtjb25zdCBjPWF3YWl0IG9lKG8sITApO2MmJihuLnVybD1jKSxuLmxheW91dD1zLmxheW91dCxuLmxheW91dFNuYXBzaG90PSgoZSx0KT0+KHtsYXlvdXRzOmUucmVkdWNlKCgoZSxhKT0+e2lmKCFhLmlzQWN0aXZlKXtpZighdClyZXR1cm4gZTtpZighdmkoYSkuc2luZ2xlVmlld05hbWUpcmV0dXJuIGV9cmV0dXJuIGVbYS5sYXlvdXRDb250YWluZXJLZXldPWEubGF5b3V0LGV9KSx7fSkscGFnZXM6ZX0pKShuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLG8pLG4ud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZT1uLndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGU/P1AuQnJvd3Nlcn1pZihuLmNvcm5lclJvdW5kaW5nJiZkZWxldGUgbi5jb3JuZXJSb3VuZGluZyxuLm5hbWV8fG4ubGF5b3V0U25hcHNob3Q/bi5jb250ZXh0TWVudU9wdGlvbnM/LnRlbXBsYXRlPy5sZW5ndGg+MD9uLmNvbnRleHRNZW51T3B0aW9ucy50ZW1wbGF0ZT1uLmNvbnRleHRNZW51T3B0aW9ucy50ZW1wbGF0ZS5maWx0ZXIoKGU9PlwicHJpbnRcIiE9PWUpKTpuLmNvbnRleHRNZW51T3B0aW9ucz17dGVtcGxhdGU6W10sZW5hYmxlZDohMX06bi5uYW1lPWAke2RlLkNsYXNzaWNXaW5kb3d9LSR7UnQoKX1gLG4ud29ya3NwYWNlUGxhdGZvcm0mJmEmJihuLndvcmtzcGFjZVBsYXRmb3JtLl90aGVtZURhdGE9YSksbyl7Y29uc3QgZT1hd2FpdCBuZSgpO24ud29ya3NwYWNlUGxhdGZvcm0ubmV3UGFnZVVybD1lLG4ud29ya3NwYWNlUGxhdGZvcm0ubmV3VGFiVXJsPWUsbi5sYXlvdXQmJihuLmxheW91dC5kaW1lbnNpb25zLmJvcmRlcldpZHRoPTQsbi5sYXlvdXQuZGltZW5zaW9ucy5oZWFkZXJIZWlnaHQ9MjgpLG4ubmFtZT1uLm5hbWV8fGAke2RlLkJyb3dzZXJXaW5kb3d9LSR7UnQoKX1gO2NvbnN0IHQ9eGkrbi5uYW1lLGE9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCk7aWYoIShhd2FpdCBhLmdldFZpZXdzKCkpLnNvbWUoKGU9PmUuaWRlbnRpdHkubmFtZT09PXQpKSYmbi5uYW1lLnN0YXJ0c1dpdGgoZGUuQnJvd3NlcldpbmRvdykpe2NvbnN0IGU9YXdhaXQgYWUoKStLLkJyb3dzZXJQb3B1cE1lbnVBZGRyZXNzU2VhcmNoUmVzdWx0c1ZpZXc7KGF3YWl0IGZpbi5WaWV3LmNyZWF0ZSh7bmFtZTp0LGNvbnRleHRNZW51T3B0aW9uczp7ZW5hYmxlZDohMH0sdXJsOmUsdGFyZ2V0OmZpbi5tZS5pZGVudGl0eSxib3VuZHM6e3RvcDowLGxlZnQ6MCx3aWR0aDowLGhlaWdodDowfX0pKS5uYXZpZ2F0ZShlKX19cmV0dXJuIG59Y29uc3QgQWk9YXN5bmMoZSx0KT0+e2NvbnN0IGE9e3V1aWQ6dC51dWlkLG5hbWU6dC5uYW1lfTthd2FpdCBobyhhLGUudGl0bGU/P2F3YWl0IFFyKCksZS5zaG91bGRDZW50ZXJPbk1vbml0b3IpJiZmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCl9LFdpPWU9Pntjb25zdCB0PWUubmFtZT09PWRlLkhvbWUsYT1lLm5hbWU/LnN0YXJ0c1dpdGgoZGUuSG9tZUludGVybmFsKSxuPWUubmFtZT8uc3RhcnRzV2l0aChkZS5Ccm93c2VyTWVudSl8fGUubmFtZT8uc3RhcnRzV2l0aChkZS5Ccm93c2VyU2F2ZU1lbnUpO3JldHVybiF0JiYhYSYmIW59O2NvbnN0IERpPWU9PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpO2FzeW5jIGZ1bmN0aW9uIFRpKGUsdCxhKXtjb25zdCBuPWUubWFuaWZlc3RVcmw/YXdhaXQgdCh7bWFuaWZlc3RVcmw6ZS5tYW5pZmVzdFVybH0sYSk6dm9pZCAwO2lmKG4/LmludGVyb3AmJmUuaW50ZXJvcCl7Y29uc3QgdD17Li4uZSwuLi5uLGludGVyb3A6ZS5pbnRlcm9wfTtyZXR1cm4gZGVsZXRlIHQubWFuaWZlc3RVcmwsdH1yZXR1cm4gZX1jb25zdCBSaT1lPT57Y29uc3QgdD1EaShlKTtyZXR1cm4gdC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy5icm93c2VyTmF2aWdhdGlvbkJ1dHRvbnMmJih0LndvcmtzcGFjZVBsYXRmb3JtPXsuLi50LndvcmtzcGFjZVBsYXRmb3JtLGJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9uczp0Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGEuYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zfSxkZWxldGUgdC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhLmJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9ucyksdH0sQmk9ZT0+e2NvbnN0IHQ9RGkoZSk7cmV0dXJuIHQud29ya3NwYWNlUGxhdGZvcm0mJih0Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGE9ey4uLnQuX2ludGVybmFsV29ya3NwYWNlRGF0YSwuLi50LndvcmtzcGFjZVBsYXRmb3JtfSxkZWxldGUgdC53b3Jrc3BhY2VQbGF0Zm9ybSksdH0sRWk9e3JlbG9hZDpbe2tleXM6XCJDdHJsK1JcIixwcmV2ZW50RGVmYXVsdDohMH1dLGJhY2s6W3trZXlzOlwiQWx0K0xlZnRcIixwcmV2ZW50RGVmYXVsdDohMH1dLGZvcndhcmQ6W3trZXlzOlwiQWx0K1JpZ2h0XCIscHJldmVudERlZmF1bHQ6ITB9XX0sRmk9e3JlbG9hZDpbe2tleXM6XCJDbWQrUlwiLHByZXZlbnREZWZhdWx0OiEwfV0sYmFjazpbe2tleXM6XCJDbWQrW1wiLHByZXZlbnREZWZhdWx0OiEwfSx7a2V5czpcIkNtZCtMZWZ0XCIscHJldmVudERlZmF1bHQ6ITB9XSxmb3J3YXJkOlt7a2V5czpcIkNtZCtdXCIscHJldmVudERlZmF1bHQ6ITB9LHtrZXlzOlwiQ21kK1JpZ2h0XCIscHJldmVudERlZmF1bHQ6ITB9XX0sVmk9YXN5bmMoKT0+YXdhaXQgeHIoKT9FaTpGaSxOaT0oZSx0KT0+e2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmMoZSk7aWYoIXQpcmV0dXJuO2NvbnN0IG49ZT0+eyhhc3luYyhlLHQsYSk9PntpZihcImtleURvd25cIiE9PWEuaW5wdXRUeXBlKXJldHVybjtjb25zdCBuPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuZ2V0Q3VycmVudFdpbmRvdygpLGE9YXdhaXQgdC5nZXRPcHRpb25zKCksbj1hLndvcmtzcGFjZVBsYXRmb3JtPy5uYXZpZ2F0aW9uQnV0dG9ucztyZXR1cm4gbi5lbmFibGVkJiYhbi5ob3RrZXlzRGlzYWJsZWR9KShlKSxvPWF3YWl0IHhyKCk7aWYobil7aWYodC5yZWxvYWQpe2NvbnN0IG49YS5jdHJsS2V5JiYhYS5hbHRLZXkmJiFhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcInJcIj09PWEua2V5LHI9IWEuY3RybEtleSYmIWEuYWx0S2V5JiZhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcInJcIj09PWEua2V5OyhvP246cikmJnQ/LnJlbG9hZCYmKGUucmVsb2FkKCksS2Uoe3R5cGU6XCJWaWV3XCIsYWN0aW9uOlwiUmVsb2FkXCIsdmFsdWU6ZS5pZGVudGl0eS5uYW1lfSkpfWlmKHQuYmFjayl7Y29uc3Qgbj0hYS5jdHJsS2V5JiZhLmFsdEtleSYmIWEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiQXJyb3dMZWZ0XCI9PT1hLmtleSxyPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJBcnJvd0xlZnRcIj09PWEua2V5LGk9IWEuY3RybEtleSYmIWEuYWx0S2V5JiZhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcIltcIj09PWEua2V5OyhvP246cnx8aSkmJnQ/LmJhY2smJihlLm5hdmlnYXRlQmFjaygpLEtlKHt0eXBlOlwiVmlld1wiLGFjdGlvbjpcIkJhY2tcIix2YWx1ZTplLmlkZW50aXR5Lm5hbWV9KSl9aWYodC5mb3J3YXJkKXtjb25zdCBuPSFhLmN0cmxLZXkmJmEuYWx0S2V5JiYhYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJBcnJvd1JpZ2h0XCI9PT1hLmtleSxyPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJBcnJvd1JpZ2h0XCI9PT1hLmtleSxpPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJdXCI9PT1hLmtleTsobz9uOnJ8fGkpJiZ0Py5mb3J3YXJkJiYoZS5uYXZpZ2F0ZUZvcndhcmQoKSxLZSh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJGb3J3YXJkXCIsdmFsdWU6ZS5pZGVudGl0eS5uYW1lfSkpfX19KShhLHQsZSl9O2EuYWRkTGlzdGVuZXIoXCJob3RrZXlcIixuKSxhLm9uY2UoXCJkZXN0cm95ZWRcIiwoKCk9PnthLnJlbW92ZUxpc3RlbmVyKFwiaG90a2V5XCIsbil9KSl9LExpPShlLHQpPT5EaShlKS5tYXAoKGU9PihcImNvbXBvbmVudFN0YXRlXCJpbiBlP2UuY29tcG9uZW50U3RhdGU9dChlLmNvbXBvbmVudFN0YXRlKTpcImNvbnRlbnRcImluIGUmJihlLmNvbnRlbnQ9TGkoZS5jb250ZW50LHQpKSxlKSkpLF9pPWU9PntpZihlKXtjb25zdCB0PURpKGUpO3JldHVybiB0LmNvbnRlbnQmJih0LmNvbnRlbnQ9TGkodC5jb250ZW50LFJpKSksdH1yZXR1cm4gZX0sT2k9ZT0+e2lmKGUpe2NvbnN0IHQ9RGkoZSk7cmV0dXJuIHQuY29udGVudCYmKHQuY29udGVudD1MaSh0LmNvbnRlbnQsQmkpKSx0fXJldHVybiBlfTthc3luYyBmdW5jdGlvbiBVaSh7YXBwOmUsdGFyZ2V0OnR9KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3N3aXRjaChlLm1hbmlmZXN0VHlwZSl7Y2FzZSBjLlNuYXBzaG90OnJldHVybiBhLmFwcGx5U25hcHNob3QoZS5tYW5pZmVzdCk7Y2FzZSBjLlZpZXc6cmV0dXJuIGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtpZihcInZpZXdcIj09PXQuZW50aXR5VHlwZSl7Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyh0KSxuPWF3YWl0IGEuZ2V0UGFyZW50TGF5b3V0KCk7cmV0dXJuIGF3YWl0IG4ucmVwbGFjZVZpZXcodCx7bWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx1cmw6dm9pZCAwLHRhcmdldDp2b2lkIDB9KSxhLmRlc3Ryb3koKX1yZXR1cm4gYS5jcmVhdGVWaWV3KHtuYW1lOnZvaWQgMCx1cmw6dm9pZCAwLG1hbmlmZXN0VXJsOmUubWFuaWZlc3QsdGFyZ2V0OnZvaWQgMH0pfShlLHQpO2Nhc2UgYy5FeHRlcm5hbDpyZXR1cm4gZmluLlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3Moe3BhdGg6ZS5tYW5pZmVzdCx1dWlkOmUuYXBwSWR9KTtkZWZhdWx0OnJldHVybiBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QoZS5tYW5pZmVzdCl9fWxldCBHaTtjb25zdCBIaT0oKT0+e2lmKCFHaSl7Y29uc3QgZT1vdChgJHtcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1hcHAtZGlyZWN0b3J5YCk7R2k9ZSgpfXJldHVybiBHaX07YXN5bmMgZnVuY3Rpb24gJGkoZSl7aWYoIWF3YWl0IEFlKGUuaWRlbnRpdHkpKXJldHVybltdO3JldHVybihhd2FpdCBIaSgpKS5kaXNwYXRjaChRdC5HZXRBcHBzLGUucmVxKX1hc3luYyBmdW5jdGlvbiBLaShlKXtpZighYXdhaXQgQWUoZS5pZGVudGl0eSkpcmV0dXJuW107cmV0dXJuKGF3YWl0IEhpKCkpLmRpc3BhdGNoKFF0LkdldFNlYXJjaFByb3ZpZGVycyxlKX1hc3luYyBmdW5jdGlvbiB6aShlKXtyZXR1cm4oYXdhaXQgSGkoKSkuZGlzcGF0Y2goUXQuR2V0Q3VyYXRlZENvbnRlbnQsZSl9YXN5bmMgZnVuY3Rpb24gSmkoZSl7cmV0dXJuKGF3YWl0IEhpKCkpLmRpc3BhdGNoKFF0LkdldFJlY2VudGx5VmlzaXRlZCxlKX1hc3luYyBmdW5jdGlvbiBxaShlKXtjb25zdCB0PShhd2FpdCBiZSgpKS5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuZ2V0T3B0aW9ucygpO3Qud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzJiZ0LmxheW91dCYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHF0KGUpKS5kaXNwYXRjaChlYS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnMpKShlLmlkZW50aXR5KX0pKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodCksZT9lKCk6THQoKX1sZXQgWmk9W107Y29uc3Qgamk9KCk9PlppO2FzeW5jIGZ1bmN0aW9uIFFpKGUpe2NvbnN0IHQ9ZT0+e2lmKCFlLmluY2x1ZGVzKFwiI1wiKSYmIWUuaW5jbHVkZXMoXCJyZ2JcIikmJiFlLmluY2x1ZGVzKFwiaHNsXCIpKXRocm93IG5ldyBFcnJvcihcIkJhY2tncm91bmQgcHJpbWFyeSBjb2xvciBpcyBub3QgdGhlIHJpZ2h0IGZvcm1hdC5cIil9O2UuZm9yRWFjaCgoZT0+e1wicGFsZXR0ZVwiaW4gZSYmdChlLnBhbGV0dGUuYmFja2dyb3VuZFByaW1hcnkpLFwicGFsZXR0ZXNcImluIGUmJih0KGUucGFsZXR0ZXMuZGFyay5iYWNrZ3JvdW5kUHJpbWFyeSksdChlLnBhbGV0dGVzLmxpZ2h0LmJhY2tncm91bmRQcmltYXJ5KSl9KSksKGU9Pntjb25zdCB0PWVbMF07aWYoXCJwYWxldHRlXCJpbiB0KXtjb25zdHtwYWxldHRlOmV9PXQ7d2Euc2V0UGFsZXR0ZXMoe2Rhcms6ZSxsaWdodDplfSl9aWYoXCJwYWxldHRlc1wiaW4gdCl7Y29uc3R7ZGFyazplLGxpZ2h0OmF9PXQucGFsZXR0ZXM7d2Euc2V0UGFsZXR0ZXMoe2Rhcms6ZSxsaWdodDphfSl9fSkoZSksWmk9ZX1jb25zdCBZaT0oZSx0KT0+YT0+e2NvbnN0IG49bnVsbCE9PWU7cmV0dXJuIGNsYXNzIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc1dvcmtzcGFjZVBsYXRmb3JtPSgpPT4oe2lzV29ya3NwYWNlUGxhdGZvcm06ITAsaXNCcm93c2VySW5pdGlhbGl6ZWQ6ISFlLGFuYWx5dGljczp7aXNTdXBwb3J0ZWQ6ITB9fSksdGhpcy5kZXRhY2hQYWdlc0Zyb21XaW5kb3c9eW4sdGhpcy5nZXRBbGxBdHRhY2hlZFBhZ2VzPWxuLHRoaXMuZ2V0UGFnZXNGb3JXaW5kb3c9U24sdGhpcy5nZXRQYWdlRm9yV2luZG93PXZuLHRoaXMubWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD1Sbix0aGlzLmxhdW5jaEFwcD1VaSx0aGlzLnNhdmVQYWdlPW1uLHRoaXMuc2F2ZVdvcmtzcGFjZT1Dbyx0aGlzLmNyZWF0ZVNhdmVkUGFnZUludGVybmFsPXduLHRoaXMudXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9Z24sdGhpcy5kZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1obix0aGlzLnJlb3JkZXJQYWdlc0ZvcldpbmRvdz1Qbix0aGlzLmdldFVuaXF1ZVBhZ2VUaXRsZT1Nbix0aGlzLnVwZGF0ZVBhZ2VGb3JXaW5kb3c9Ym4sdGhpcy5nZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9am8sdGhpcy5nZXRUaGVtZXM9amksdGhpcy5pbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbD10cix0aGlzLnJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1BaSx0aGlzLmdldEN1cnJlbnRXb3Jrc3BhY2U9dm8sdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9Zm8sdGhpcy5nZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsPVVvLHRoaXMuZ2V0UGFnZUJ5Vmlld0lkZW50aXR5PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5QbGF0Zm9ybS5MYXlvdXQuZ2V0TGF5b3V0QnlWaWV3SWRlbnRpdHkoZSksYT10LmlkZW50aXR5O2lmKCEoXCJsYXlvdXROYW1lXCJpbiBhKSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IGxheW91dCdzIGlkZW50aXR5XCIpO2NvbnN0IG49YXdhaXQgQWEoKS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpLmdldFBhZ2VzKCksbz1uLmZpbmRJbmRleCgoZT0+ZS5sYXlvdXROYW1lPT09YS5sYXlvdXROYW1lKSk7aWYoLTE9PT1vKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgcGFnZSdzIGluZGV4XCIpO3JldHVybnt3aW5kb3dJZGVudGl0eTp7bmFtZTp0LmlkZW50aXR5Lm5hbWUsdXVpZDp0LmlkZW50aXR5LnV1aWR9LHBhZ2U6bltvXSxwYWdlSW5kZXg6b319LHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51PXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2VzPXRoaXMuZ2V0U2F2ZWRQYWdlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlPXRoaXMuZ2V0U2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFBhZ2U9dGhpcy5jcmVhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkUGFnZT10aGlzLnVwZGF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRQYWdlPXRoaXMuZGVsZXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5oYW5kbGVQYWdlQ2hhbmdlcz10aGlzLmhhbmRsZVBhZ2VDaGFuZ2VzLmJpbmQodGhpcyksdGhpcy5hdHRhY2hQYWdlc1RvV2luZG93PXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdy5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51PXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51PXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZT10aGlzLmdldFNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFdvcmtzcGFjZT10aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy51cGRhdGVTYXZlZFdvcmtzcGFjZT10aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFdvcmtzcGFjZT10aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPXRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnPXRoaXMuZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnLmJpbmQodGhpcyksdGhpcy5zYXZlRG9ja1Byb3ZpZGVyQ29uZmlnPXRoaXMuc2F2ZURvY2tQcm92aWRlckNvbmZpZy5iaW5kKHRoaXMpLHRoaXMuYXBwbHlXb3Jrc3BhY2U9dGhpcy5hcHBseVdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMucmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsPXRoaXMucmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9dGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldFNlbGVjdGVkU2NoZW1lPXRoaXMuZ2V0U2VsZWN0ZWRTY2hlbWUuYmluZCh0aGlzKSx0aGlzLnNldFNlbGVjdGVkU2NoZW1lPXRoaXMuc2V0U2VsZWN0ZWRTY2hlbWUuYmluZCh0aGlzKSx0aGlzLmFuYWx5dGljc0ludGVybmFsPXRoaXMuYW5hbHl0aWNzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmhhbmRsZUFuYWx5dGljcz10aGlzLmhhbmRsZUFuYWx5dGljcy5iaW5kKHRoaXMpLHRoaXMuZ2V0TGFuZ3VhZ2U9dGhpcy5nZXRMYW5ndWFnZS5iaW5kKHRoaXMpLHRoaXMuc2V0TGFuZ3VhZ2U9dGhpcy5zZXRMYW5ndWFnZS5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2U9dGhpcy5oYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZS5iaW5kKHRoaXMpLHRoaXMuc2hvdWxkUGFnZUNsb3NlPXRoaXMuc2hvdWxkUGFnZUNsb3NlLmJpbmQodGhpcyksdGhpcy5zaG91bGRXaW5kb3dDbG9zZT10aGlzLnNob3VsZFdpbmRvd0Nsb3NlLmJpbmQodGhpcyksdGhpcy5oYW5kbGVQYWdlc0FuZFdpbmRvd0Nsb3NlPXRoaXMuaGFuZGxlUGFnZXNBbmRXaW5kb3dDbG9zZS5iaW5kKHRoaXMpLHRoaXMuc2V0QWN0aXZlUGFnZT10aGlzLnNldEFjdGl2ZVBhZ2UuYmluZCh0aGlzKSx0aGlzLmhhbmRsZVBhZ2VDaGFuZ2VzPXRoaXMuaGFuZGxlUGFnZUNoYW5nZXMuYmluZCh0aGlzKSx0aGlzLmNvcHlQYWdlPXRoaXMuY29weVBhZ2UuYmluZCh0aGlzKSx0aGlzLmFkZFBhZ2U9dGhpcy5hZGRQYWdlLmJpbmQodGhpcyksdGhpcy5hZGREZWZhdWx0UGFnZT10aGlzLmFkZERlZmF1bHRQYWdlLmJpbmQodGhpcyksdGhpcy5tYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsPXRoaXMubWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMudHJhY2tSZW1vdmVkVGFiSW50ZXJuYWw9dGhpcy50cmFja1JlbW92ZWRUYWJJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMucmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbD10aGlzLnJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbD10aGlzLnRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD10aGlzLmdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD10aGlzLmdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuc2VhcmNoU2l0ZXNJbnRlcm5hbD10aGlzLnNlYXJjaFNpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsPXRoaXMuZ2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWw9dGhpcy5nZXRDdXJhdGVkQ29udGVudEludGVybmFsLmJpbmQodGhpcyksdGhpcy5oYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsPXRoaXMuaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMucmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPXRoaXMucmVmcmVzaEJvb2ttYXJrc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5sYXVuY2hCb29rbWFya0ludGVybmFsPXRoaXMubGF1bmNoQm9va21hcmtJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuZ2V0Tm90aWZpY2F0aW9uc0NvbmZpZz10aGlzLmdldE5vdGlmaWNhdGlvbnNDb25maWcuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbD10aGlzLnVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMudXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbD10aGlzLnVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmxhdW5jaERvY2tFbnRyeUludGVybmFsPXRoaXMubGF1bmNoRG9ja0VudHJ5SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsPXRoaXMuc2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbD10aGlzLm5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuc2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbD10aGlzLnNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLmdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbD10aGlzLmhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsPXRoaXMucmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmFkZERvY2tGYXZvcml0ZUludGVybmFsPXRoaXMuYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9dGhpcy5mb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsLmJpbmQodGhpcyl9YXN5bmMgYXBwbHlXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIGJvLmFwcGx5KHRoaXMsZSl9YXN5bmMgcmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsKC4uLmUpe3JldHVybiB5by5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNuYXBzaG90KCl7Y29uc3QgZT1uP2F3YWl0IHFpKChhc3luYygpPT5MdChhd2FpdCBzdXBlci5nZXRTbmFwc2hvdCh2b2lkIDAsZmluLm1lLmlkZW50aXR5KSkpKTphd2FpdCBMdChhd2FpdCBzdXBlci5nZXRTbmFwc2hvdCh2b2lkIDAsZmluLm1lLmlkZW50aXR5KSk7bGV0IHQ9ey4uLmUsd2luZG93czplLndpbmRvd3MuZmlsdGVyKFdpKS5tYXAoTnQpfTtyZXR1cm4gdD0oZT0+e2NvbnN0IHQ9RGkoZSk7cmV0dXJuIHQud2luZG93cy5mb3JFYWNoKChlPT57ZS5sYXlvdXQmJihlLmxheW91dD1faShlLmxheW91dCkpLGUud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5mb3JFYWNoKChlPT57ZT8ubGF5b3V0JiYoZS5sYXlvdXQ9X2koZS5sYXlvdXQpKX0pKX0pKSx0fSkodCksdH1hc3luYyBnZXRWaWV3U25hcHNob3QoZSl7bGV0IHQ9YXdhaXQgc3VwZXIuZ2V0Vmlld1NuYXBzaG90KGUpO3JldHVybiB0PVJpKHQpLHR9YXN5bmMgYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6ZSxvcHRpb25zOnR9KXtsZXQgYT1lO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1hd2FpdCBzdXBlci5mZXRjaE1hbmlmZXN0KHttYW5pZmVzdFVybDphfSxmaW4ubWUuaWRlbnRpdHkpKTtjb25zdCBvPWZ1bmN0aW9uKGUpe2Zvcihjb25zdCB0IG9mIGUud2luZG93cylpZih0LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoKXJldHVybiEwO3JldHVybiExfShhKTtpZighbiYmbyl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNuYXBzaG90IGNhbm5vdCBiZSBhcHBsaWVkIGFzIHRoZSBwbGF0Zm9ybSBoYXMgYmVlbiBpbml0aWFsaXplZCB3aXRob3V0IHRoZSBicm93c2VyLlwiKTtyZXR1cm4gYT0oZT0+e2NvbnN0IHQ9RGkoZSk7cmV0dXJuIHQud2luZG93cy5mb3JFYWNoKChlPT57ZS5sYXlvdXQ9T2koZS5sYXlvdXQpLGUud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5mb3JFYWNoKChlPT57ZS5sYXlvdXQ9T2koZS5sYXlvdXQpfSkpfSkpLHR9KShhKSxzdXBlci5hcHBseVNuYXBzaG90KHtzbmFwc2hvdDphLG9wdGlvbnM6dH0pfWFzeW5jIGNyZWF0ZVdpbmRvdyh0LGEpe2lmKG4mJlwidGVhcm91dFwiPT09dC5yZWFzb24pe2NvbnN0IGU9YXdhaXQgZmluLldpbmRvdy53cmFwU3luYyhhKS5nZXRPcHRpb25zKCksbj1lLndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlO3QudGFza2Jhckljb25Hcm91cD1lLnRhc2tiYXJJY29uR3JvdXAsbiYmKHQud29ya3NwYWNlUGxhdGZvcm18fD17fSx0LndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGU9ZS53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlLG49PT1QLlBsYXRmb3JtJiYodC51cmw9ZS51cmwpKX1pZighbnx8dC53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZT09PVAuUGxhdGZvcm0pe2NvbnN0IGU9YXdhaXQgc3VwZXIuY3JlYXRlV2luZG93KHQsYSk7cmV0dXJuIEtlKHt0eXBlOlwiV2luZG93XCIsYWN0aW9uOlwiT3BlbiBXaW5kb3dcIix2YWx1ZTplLmlkZW50aXR5Lm5hbWUsZGF0YTp7dXVpZDplLmlkZW50aXR5LnV1aWR9fSksZX12YXIgbztvPXthbGxvd2VkOiEwfSxVZXx8KFVlPSEwLE9lKF9lLkJyb3dzZXIsbykpLCgoZT1bXSk9Pntjb25zdCB0PWUuZmlsdGVyKChlPT5lLnR5cGUhPT1TLkN1c3RvbSkpLGE9bmV3IFNldCxuPVtdO2Zvcihjb25zdCBlIG9mIHQpYS5oYXMoZS50eXBlKSYmbi5wdXNoKGUudHlwZSksYS5hZGQoZS50eXBlKTtpZihuLmxlbmd0aD4wKXtjb25zdCBlPW4uam9pbihcIiwgXCIpO3Rocm93IG5ldyBFcnJvcihgRW5jb3VudGVyZWQgYSBkdXBsaWNhdGUgXCIke2V9XCIgdG9vbGJhciBidXR0b24uIE5vIG1vcmUgdGhhbiBvbmUgaW5zdGFuY2Ugb2YgYSBidXR0b24gdHlwZSBtYXkgYmUgcHJvdmlkZWQuYCl9fSkodC53b3Jrc3BhY2VQbGF0Zm9ybT8udG9vbGJhck9wdGlvbnM/LmJ1dHRvbnMpO2xldCByPShlPT5cIndvcmtzcGFjZVBsYXRmb3JtXCJpbiBlP2U6KCh7d29ya3N0YWNrczplLHBhZ2VzOnQsLi4uYX0pPT4oey4uLmEsd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOnR8fGV8fG51bGx9fSkpKGUpKSh0KTtlPy5kZWZhdWx0V2luZG93T3B0aW9ucz8uaG90a2V5cyYmKHIuaG90a2V5cz1lLmRlZmF1bHRXaW5kb3dPcHRpb25zLmhvdGtleXMpLHI9YXdhaXQgSWkocixlLHt0aGVtZXM6amkoKSxzZWxlY3RlZFNjaGVtZTp0aGlzLmdldFNlbGVjdGVkU2NoZW1lKCl9KSxyPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKTtsZXQgYT10LnByaW1hcnlNb25pdG9yO2NvbnN0IG49ZS5kZWZhdWx0TGVmdCxvPWUuZGVmYXVsdFRvcDt0Lm5vblByaW1hcnlNb25pdG9ycy5mb3JFYWNoKChlPT57Y29uc3R7dG9wOnQsYm90dG9tOnIsbGVmdDppLHJpZ2h0OnN9PWUuYXZhaWxhYmxlUmVjdDtuPj1pJiZuPD1zJiZvPj10JiZvPD1yJiYoYT1lKX0pKTtjb25zdCByPWEuYXZhaWxhYmxlUmVjdC5ib3R0b20tYS5hdmFpbGFibGVSZWN0LnRvcCxpPWEuYXZhaWxhYmxlUmVjdC5yaWdodC1hLmF2YWlsYWJsZVJlY3QubGVmdDtyZXR1cm4gZS5kZWZhdWx0SGVpZ2h0PU1hdGgubWluKGUuZGVmYXVsdEhlaWdodHx8ODAwLHIpLGUuZGVmYXVsdFdpZHRoPU1hdGgubWluKGUuZGVmYXVsdFdpZHRofHw4MDAsaSksZX0pKHIpO2NvbnN0IGk9YXdhaXQoZT0+YXN5bmModCxhKT0+e2xldCBuPSExO2NvbnN0IG89YXdhaXQgZSh0LGEpO3JldHVybiB0Py53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uZGVmZXJTaG93RW5hYmxlZD8oYXdhaXQgby5hZGRMaXN0ZW5lcihcInNob3ctcmVxdWVzdGVkXCIsKGFzeW5jKCk9PntpZihuKXJldHVybjtjb25zdCBlPWF3YWl0IG8uZ2V0T3B0aW9ucygpO2F3YWl0IG8udXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06ey4uLmUud29ya3NwYWNlUGxhdGZvcm0sX2ludGVybmFsRGVmZXJTaG93T3B0aW9uczp7Li4uZS53b3Jrc3BhY2VQbGF0Zm9ybS5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zLGF1dG9TaG93OiEwfX19KSxuPSEwfSkpLG8pOm99KSgoKGUsdCk9PnN1cGVyLmNyZWF0ZVdpbmRvdyhlLHQpKSkocixhKTtyZXR1cm4gS2Uoe3R5cGU6XCJXaW5kb3dcIixhY3Rpb246XCJPcGVuIFdpbmRvd1wiLHZhbHVlOmkuaWRlbnRpdHkubmFtZSxkYXRhOnt1dWlkOmkuaWRlbnRpdHkudXVpZH19KSxpfWFzeW5jIGNyZWF0ZVZpZXcodCxhKXt0Lm9wdHM9RGEodC5vcHRzLGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksZT8uZGVmYXVsdFZpZXdPcHRpb25zPy5ob3RrZXlzJiYodC5vcHRzLmhvdGtleXM9ZS5kZWZhdWx0Vmlld09wdGlvbnMuaG90a2V5cyksdC5vcHRzPWF3YWl0IFRpKHQub3B0cyx0aGlzLmZldGNoTWFuaWZlc3QsYSksdC5vcHRzPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PURpKGUpLGE9dC53b3Jrc3BhY2VQbGF0Zm9ybT8uYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zO2lmKGEpe2NvbnN0IGU9T2JqZWN0LmtleXMoYSk7Zm9yKGNvbnN0IG4gb2YgZSlpZihhW25dKXtjb25zdCBlPShhd2FpdCBWaSgpKVtuXTt0LmhvdGtleXM/dC5ob3RrZXlzLnB1c2goLi4uZSk6dC5ob3RrZXlzPVsuLi5lXX19cmV0dXJuIHR9KSh0Lm9wdHMpLHQub3B0cz1CaSh0Lm9wdHMpO2NvbnN0IG49YXdhaXQgc3VwZXIuY3JlYXRlVmlldyh0LGEpO3JldHVybiBOaShuLmlkZW50aXR5LHQub3B0cy5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy5icm93c2VyTmF2aWdhdGlvbkJ1dHRvbnMpLG59YXN5bmMgcmVwbGFjZVZpZXcodCxhKXtyZXR1cm4gdC5vcHRzLm5ld1ZpZXc9YXdhaXQgRGEodC5vcHRzLm5ld1ZpZXcsZT8uZGVmYXVsdFZpZXdPcHRpb25zKSx0Lm9wdHMubmV3Vmlldz1hd2FpdCBUaSh0Lm9wdHMubmV3Vmlldyx0aGlzLmZldGNoTWFuaWZlc3QsYSksc3VwZXIucmVwbGFjZVZpZXcodCxhKX1hc3luYyByZXBsYWNlTGF5b3V0KGUsdCl7cmV0dXJuIGF3YWl0IEFlKHQpfHxkZWxldGUgZS5vcHRzLmxheW91dD8uZGltZW5zaW9ucyxzdXBlci5yZXBsYWNlTGF5b3V0KGUsdCl9YXN5bmMgZ2V0U2F2ZWRQYWdlKC4uLmUpe3JldHVybiBrci5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkUGFnZXMoLi4uZSl7cmV0dXJuIGJyLmFwcGx5KHRoaXMsZSl9YXN5bmMgY3JlYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiB5ci5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gZnIuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIFNyLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIGtpLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2VzKC4uLmUpe3JldHVybiBiaS5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiB5aS5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBmaS5hcHBseSh0aGlzLGUpfWFzeW5jIHVwZGF0ZVNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiBTaS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldERvY2tQcm92aWRlckNvbmZpZyguLi5lKXtyZXR1cm4gd2kuYXBwbHkodGhpcyxlKX1hc3luYyBzYXZlRG9ja1Byb3ZpZGVyQ29uZmlnKC4uLmUpe3JldHVybiBoaS5hcHBseSh0aGlzLGUpfWFzeW5jIGF0dGFjaFBhZ2VzVG9XaW5kb3codCl7Y29uc3QgYT1hd2FpdCBQaSh0LnBhZ2VzLGUpO2F3YWl0IGFuKGEpLGF3YWl0IGtuKHsuLi50LHBhZ2VzOmF9KX1hc3luYyBhZGRQYWdlKGUpe2NvbnN0IHQ9YXdhaXQgQWUoZS5pZGVudGl0eSksYT1hd2FpdCB3dChlLmlkZW50aXR5KSx7cGFnZTpuLGluc2VydGlvbkluZGV4Om99PWU7bj8udGl0bGV8fChuLnRpdGxlPWF3YWl0IGEuZGlzcGF0Y2gobHQuR2V0VW5pcXVlUGFnZVRpdGxlLHZvaWQgMCkpO2NvbnN0IHI9KGF3YWl0IHRoaXMuZ2V0QWxsQXR0YWNoZWRQYWdlcygpKS5maW5kKChlPT5lLnBhZ2VJZD09PW4ucGFnZUlkfHxlLnRpdGxlPT09bi50aXRsZSkpO2lmKHIpe2lmKHIucGFnZUlkPT09bi5wYWdlSWQpdGhyb3cgbmV3IEVycm9yKGBwYWdlIHdpdGggaWQgJHtuLnBhZ2VJZH0gaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIGJyb3dzZXIgd2luZG93ICR7ci5wYXJlbnRJZGVudGl0eS5uYW1lfWApO2lmKCF0KXRocm93IG5ldyBFcnJvcihgYWRkUGFnZSB0aXRsZSBjb2xsaXNpb24sIHBhZ2Ugd2l0aCB0aXRsZSAke24udGl0bGV9IGFscmVhZHkgZXhpc3RzLCBjb25mbGljdGluZyBwYWdlIGlkOiAke3IucGFnZUlkfSB3aXRoIHRpdGxlICR7ci50aXRsZX1gKX1jb25zdCBpPXtpZGVudGl0eTplLmlkZW50aXR5LHBhZ2VzOlt7Li4ubixtdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yOmUubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcnx8XCJkdXBsaWNhdGVcIn1dLGluc2VydGlvbkluZGV4Om99O2F3YWl0IHRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdyhpKX1hc3luYyBhZGREZWZhdWx0UGFnZShlKXthd2FpdCB0aGlzLmFkZFBhZ2UoZSksYXdhaXQgdGhpcy5zZXRBY3RpdmVQYWdlKHtpZGVudGl0eTplLmlkZW50aXR5LHBhZ2VJZDplLnBhZ2UucGFnZUlkfSl9YXN5bmMgc2V0QWN0aXZlUGFnZSguLi5lKXtyZXR1cm4gZm4uYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gbmkuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuR2xvYmFsQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIGFpLmFwcGx5KHRoaXMsWy4uLmUsaXIuR2xvYmFsTWVudSx0aS5Cb3R0b21SaWdodF0pfWFzeW5jIG9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gb2kuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBhaS5hcHBseSh0aGlzLFsuLi5lLGlyLkNvbnRleHRNZW51XSl9YXN5bmMgb3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiByaS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIGFpLmFwcGx5KHRoaXMsWy4uLmUsaXIuQ29udGV4dE1lbnVdKX1hc3luYyBvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBhaS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gaWkuYXBwbHkodGhpcyxlKX1nZXRTZWxlY3RlZFNjaGVtZSguLi5lKXtyZXR1cm4geGEuYXBwbHkodGhpcyxlKX1hc3luYyBzZXRTZWxlY3RlZFNjaGVtZSguLi5lKXtyZXR1cm4gTWEuYXBwbHkodGhpcyxlKX1hc3luYyBoYW5kbGVQYWdlQ2hhbmdlcyguLi5lKXtyZXR1cm4gVG4uYXBwbHkodGhpcyxlKX1hc3luYyBhbmFseXRpY3NJbnRlcm5hbCguLi5lKXtyZXR1cm4gR24uYXBwbHkodGhpcyxlKX1hc3luYyBoYW5kbGVBbmFseXRpY3MoLi4uZSl7fWFzeW5jIGhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlKC4uLmUpe3JldHVybiB4bi5hcHBseSh0aGlzLGUpfWFzeW5jIHNob3VsZFBhZ2VDbG9zZSguLi5lKXtyZXR1cm4gSW4uYXBwbHkodGhpcyxlKX1hc3luYyBzaG91bGRXaW5kb3dDbG9zZSguLi5lKXtyZXR1cm4gQW4uYXBwbHkodGhpcyxlKX1oYW5kbGVQYWdlc0FuZFdpbmRvd0Nsb3NlKC4uLmUpe3JldHVybiBXbi5hcHBseSh0aGlzLGUpfWFzeW5jIGNvcHlQYWdlKC4uLmUpe3JldHVybiBEbi5hcHBseSh0aGlzLGUpfWFzeW5jIGdldE5vdGlmaWNhdGlvbnNDb25maWcoKXtyZXR1cm4gdH1hc3luYyBzZXRMYW5ndWFnZSguLi5lKXtyZXR1cm4gT28uYXBwbHkodGhpcyxlKX1hc3luYyBnZXRMYW5ndWFnZSgpe3JldHVybiBfby5hcHBseSh0aGlzKX1hc3luYyB0cmFja1JlbW92ZWRUYWJJbnRlcm5hbCguLi5lKXtyZXR1cm4gdnIuYXBwbHkodGhpcyxlKX1hc3luYyByZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsKCl7Y29uc3QgZT1hd2FpdChhc3luYygpPT57aWYoIW1yKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBwb3AgbGFzdCByZW1vdmVkIHRhYiAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCBlPW1yW3dyXSx0PWF3YWl0IGUudG9Db2xsZWN0aW9uKCkua2V5cygpO2lmKHQubGVuZ3RoPjApe2NvbnN0IGE9TWF0aC5tYXgoLi4udC5tYXAoKGU9Pk51bWJlcihlKSkpKS50b1N0cmluZygpLG49YXdhaXQgZS5nZXQoYSk7aWYobil7YXdhaXQgZS5kZWxldGUoYSk7Y29uc3R7aWQ6dCwuLi5vfT1uO3JldHVybiBvfX19KSgpO2lmKFwicGFnZVwiaW4gZSlpZihhd2FpdCBmZShlLmlkZW50aXR5KSl7Y29uc3QgdD1BYSgpLkJyb3dzZXIud3JhcFN5bmMoZS5pZGVudGl0eSk7YXdhaXQgdC5hZGRQYWdlKGUucGFnZSksYXdhaXQgdC5zZXRBY3RpdmVQYWdlKGUucGFnZS5wYWdlSWQpfWVsc2UgQWEoKS5jcmVhdGVXaW5kb3coe25hbWU6ZS5pZGVudGl0eS5uYW1lLHdvcmtzcGFjZVBsYXRmb3JtOntwYWdlczpbZS5wYWdlXSx3aW5kb3dUeXBlOlAuQnJvd3Nlcn19KTtlbHNlKGZ1bmN0aW9uKGUpe3JldHVyblwid2luZG93XCJpbiBlfSkoZSkmJkFhKCkuY3JlYXRlV2luZG93KHt3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6ZS53aW5kb3cucGFnZXMsd2luZG93VHlwZTpQLkJyb3dzZXJ9fSl9YXN5bmMgdHJhY2tWaXNpdGVkU2l0ZUludGVybmFsKC4uLmUpe3JldHVybiBDci5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwoLi4uZSl7cmV0dXJuIGF3YWl0IEppLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsKC4uLmUpe3JldHVybiBNci5hcHBseSh0aGlzLGUpfWFzeW5jIHNlYXJjaFNpdGVzSW50ZXJuYWwoLi4uZSl7cmV0dXJuIGF3YWl0ICRpLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwoLi4uZSl7cmV0dXJuIGF3YWl0IEtpLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbCguLi5lKXtyZXR1cm4gYXdhaXQgemkuYXBwbHkodGhpcyxlKX1hc3luYyBoYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsKC4uLmUpe31hc3luYyByZWZyZXNoQm9va21hcmtzSW50ZXJuYWwoKXsoYXdhaXQgQWEoKS5Ccm93c2VyLmdldEFsbFdpbmRvd3MoKSkuZm9yRWFjaCgoYXN5bmMoe2lkZW50aXR5OmV9KT0+eyhhd2FpdCBxdChlKSkuZGlzcGF0Y2goZWEuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKX0pKTsoYXdhaXQgSnQobnIoKSkpLmRpc3BhdGNoKGVhLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCksYXdhaXQoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgY2koKTtpZihlKXtjb25zdCB0PWF3YWl0IHF0KGUuaWRlbnRpdHksc2kpO2F3YWl0IHQuZGlzcGF0Y2goZWEuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKX19KSgpfWFzeW5jIGxhdW5jaEJvb2ttYXJrSW50ZXJuYWwoZSl7cmV0dXJuIElyKGUpfWFzeW5jIHVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgY2koKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDb21wYW5pb24gRG9jayB3aW5kb3cgbm90IGZvdW5kXCIpO3tjb25zdCBhPWF3YWl0IHF0KHQuaWRlbnRpdHksc2kpO2F3YWl0IGEuZGlzcGF0Y2goWHQuVXBkYXRlRmF2b3JpdGVFbnRyaWVzLGUpfX0pKGUpfWFzeW5jIHVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGNpKCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFuaW9uIERvY2sgd2luZG93IG5vdCBmb3VuZFwiKTt7Y29uc3QgYT1hd2FpdCBxdCh0LmlkZW50aXR5LHNpKTthd2FpdCBhLmRpc3BhdGNoKFh0LlVwZGF0ZUNvbnRlbnRNZW51LGUpfX0pKGUpfWFzeW5jIGxhdW5jaERvY2tFbnRyeUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgbGkoKSkuZGlzcGF0Y2goXCJsYXVuY2gtZW50cnlcIixlKSkoZSl9YXN5bmMgc2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IGxpKCkpLmRpc3BhdGNoKFwic2V0LWRlZmF1bHQtZG9jay1idXR0b25zLW9yZGVyXCIsZSkpKGUpfWFzeW5jIHNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgbGkoKSkuZGlzcGF0Y2goXCJzZXQtZG9jay1mYXZvcml0ZXMtb3JkZXJcIixlKSkoZSl9YXN5bmMgYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBsaSgpKS5kaXNwYXRjaChcImFkZC1mYXZvcml0ZS1lbnRyeVwiLGUpKShlKX1hc3luYyByZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IGxpKCkpLmRpc3BhdGNoKFwicmVtb3ZlLWZhdm9yaXRlLWVudHJ5XCIsZSkpKGUpfWFzeW5jIG5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgY2koKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDb21wYW5pb24gRG9jayB3aW5kb3cgbm90IGZvdW5kXCIpO3tjb25zdCBhPWF3YWl0IHF0KHQuaWRlbnRpdHksc2kpO2F3YWl0IGEuZGlzcGF0Y2goWHQuTmF2aWdhdGVDb250ZW50TWVudSxlKX19KShlKX1hc3luYyBnZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWwoKXtyZXR1cm4oYXN5bmMoKT0+KGF3YWl0IGxpKCkpLmRpc3BhdGNoKFwiZ2V0LWRvY2std29ya3NwYWNlcy1jb250ZXh0LW1lbnVcIix2b2lkIDApKSgpfWFzeW5jIGhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBsaSgpKS5kaXNwYXRjaChcImhhbmRsZS1kb2NrLXdvcmtzcGFjZXMtbWVudS1yZXNwb25zZVwiLGUpKShlKX1hc3luYyBmb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsKCl7cmV0dXJuIGRpKCl9fX07ZnVuY3Rpb24gWGkoZSx0LGEpe2NvbnN0IG49WWkoZSxhKTt0cnl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lPT50KG4oZSkpOkFycmF5LmlzQXJyYXkodCk/Wy4uLnQsbl06ZT0+bmV3KG4oZSkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZVBsYXRmb3JtLmluaXQgRXJyb3I6XCIsZSl9fWFzeW5jIGZ1bmN0aW9uIGVzKCl7KGFzeW5jKCk9PntsZSgpLm9uKFwid2luZG93LWNsb3NlZFwiLFhvKX0pKCksYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpO2F3YWl0IGUuYWRkTGlzdGVuZXIoXCJ3aW5kb3ctZm9jdXNlZFwiLFFvKSxhd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWNsb3NlZFwiLFlvKX0oKTtmbyhhd2FpdCBTbygpKX1sZXQgdHM7YXN5bmMgZnVuY3Rpb24gYXMoZSx0KXtpZighYXdhaXQgZmUoe3V1aWQ6d2UudXVpZCxuYW1lOmRlLkRvY2tDb21wYW5pb259KSl7Y29uc3QgYT1hd2FpdCBWZSh3ZSk7YXdhaXQgdC5jcmVhdGVXaW5kb3coQ2Uoe25hbWU6ZGUuRG9ja0NvbXBhbmlvbix1cmw6YXdhaXQgYWUoKStLLkVudGVycHJpc2VEb2NrLGF1dG9TaG93OiEwLGZyYW1lOiExLHNtYWxsV2luZG93OiEwLHNhdmVXaW5kb3dTdGF0ZTohMSxkZWZhdWx0SGVpZ2h0Ok1lLGRlZmF1bHRXaWR0aDp4ZSxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsZGVmYXVsdFRvcDplLmRvY2tQb3NpdGlvbj8udG9wPz9JZSxkZWZhdWx0TGVmdDplLmRvY2tQb3NpdGlvbj8ubGVmdD8/YS5sZWZ0LXhlLzIsd29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1R5cGU6XCJlbnRlcnByaXNlXCIsLi4uZX0sdGhyb3R0bGluZzpcImRpc2FibGVkXCIscmVzaXphYmxlOiExLG1heGltaXphYmxlOiExLGJhY2tncm91bmRDb2xvcjphd2FpdCBDdChcImJhY2tncm91bmQxXCIpfSkpfX1mdW5jdGlvbiBucyh7b3ZlcnJpZGVDYWxsYmFjazplLGludGVyb3BPdmVycmlkZTp0LGJyb3dzZXI6YSxub3RpZmljYXRpb25zOm4sYW5hbHl0aWNzOm8saW50ZWdyYXRpb25zOnI9W10sd29ya3NwYWNlQXNhcjppfSl7aWYoIUEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi5cIik7cmV0dXJuIHRzfHwodHM9KGFzeW5jKCk9Pntjb25zdCBzPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3ZhciBjLGw7aWYocy5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsKCgpPT5lcygpKSkscy5vbihcIndpbmRvdy1zaG93LWFsbC1kb3dubG9hZHNcIiwoKHtuYW1lOmUsdXVpZDp0fSk9PntFbyh7bmFtZTplLHV1aWQ6dH0pfSkpLGE/LnRpdGxlJiYoYz1hLnRpdGxlLGpyPWMpLEhuKG8pLGkpe2NvbnN0IGU9YHdvcmtzcGFjZS0ke2VuY29kZVVSSUNvbXBvbmVudChmaW4ubWUudXVpZCl9YCx7YmFzZVVybDp0fT1hd2FpdCBmaW4uU3lzdGVtLnNlcnZlQXNzZXQoey4uLmksaG9zdE5hbWU6ZX0pO1kodCl9aWYoYT8uYnJvd3NlckJhc2VVcmwmJlkoYS5icm93c2VyQmFzZVVybCksV2UoYSkpe2VuPSEwO2NvbnN0IGU9aGEoKTtlLnNldFdvcmtzcGFjZVN0b3JhZ2VQcm94eShhd2FpdChhc3luYyBlPT57Y29uc3QgdD1gc3RvcmFnZS1wcm94eS13aW5kb3ctJHtjcnlwdG8ucmFuZG9tVVVJRCgpfWAsW2Esbl09YXdhaXQgUHJvbWlzZS5hbGwoW2Zpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChgY2hhbm5lbC0ke3R9YCx7d2FpdDohMH0pLGZpbi5XaW5kb3cuY3JlYXRlKHthdXRvU2hvdzohMSxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsbmFtZTp0LHVybDplfSldKTtyZXR1cm57c2V0SXRlbTooZSx0KT0+YS5kaXNwYXRjaChcInNldEl0ZW1cIix7a2V5OmUsdmFsdWU6dH0pLGRlc3Ryb3k6KCk9Pm4uY2xvc2UoKX19KShgJHthd2FpdCBlZSgpfSR7Sy5FbnRlcnByaXNlU3RvcmFnZVByb3h5fWApKSxhd2FpdCBlLnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZSgpfXJldHVybiBhd2FpdCBmaW4uUGxhdGZvcm0uaW5pdCh7b3ZlcnJpZGVDYWxsYmFjazpYaShhLGV8fGE/Lm92ZXJyaWRlQ2FsbGJhY2ssbiksaW50ZXJvcE92ZXJyaWRlOnFvKHR8fGE/LmludGVyb3BPdmVycmlkZSxhKX0pLGw9e2FsbG93ZWQ6ITB9LE9lKF9lLlBsYXRmb3JtLGwpLGF3YWl0IFByb21pc2UuYWxsKHIubWFwKChhc3luYyBlPT57KChlLHQpPT57T2UoYCR7X2UuTWljcm9mbG93fToke2V9YCx0LFwiaW50ZWdyYXRpb24tZmVhdHVyZVwiKX0pKGUud29ya2Zsb3dJbnRlZ3JhdGlvbk5hbWUse2FsbG93ZWQ6ITAsYXBpVmVyc2lvbjpffSksYXdhaXQgZS5faW5pdGlhbGl6ZVdvcmtmbG93cygpfSkpKSxzfSkoKSksdHN9Y29uc3Qgb3M9YXN5bmMoe3RoZW1lOmUsY3VzdG9tQWN0aW9uczp0LGxhbmd1YWdlOmEsLi4ubn0pPT57Y29uc3Qgbz1fLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSkscj1hd2FpdChhc3luYyBlPT57aWYoKGF3YWl0IFEoKSkuZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9uKXJldHVybiEwO2lmKGF3YWl0IEFlKCkpcmV0dXJuITA7Y29uc3QgdD0oYXdhaXQgZmluLlN5c3RlbS5nZXRWZXJzaW9uKCkpLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSk7cmV0dXJuIGUuZXZlcnkoKChhLG4pPT4hKG48Myl8fHRbbl09PT1lW25dKSl9KShvKTtpZighcil0aHJvdyBuZXcgRXJyb3IoYFJ1bnRpbWUgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydGVkLiAgJHtvWzBdfS4ke29bMV19LiR7b1syXX0uKiBpcyByZXF1aXJlZGApO3ZhciBpO3JldHVybiBlJiYoUWkoZSksaT17YWxsb3dlZDohMH0sT2UoX2UuVGhlbWluZyxpKSksdCYmKGVyPXQpLGF3YWl0IEdvKGE/LmluaXRpYWxMYW5ndWFnZSksbnMobil9fSkoKSxtb2R1bGUuZXhwb3J0cz1ufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIigoKT0+e3ZhciBlPXs4NDc6KGUsdCk9Pnt2YXIgYT17MjM0NjpmdW5jdGlvbihlLHQsYSl7dmFyIG49dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRNb3N0UmVhZGFibGU9dC5kYXJrZW5Db2xvcj10LmxpZ2h0ZW5Db2xvcj12b2lkIDA7Y29uc3Qgcj1uKGEoNjUzNSkpO3QubGlnaHRlbkNvbG9yPShlLHQpPT5vKGUsXCJsaWdodGVuXCIsdCksdC5kYXJrZW5Db2xvcj0oZSx0KT0+byhlLFwiZGFya2VuXCIsdCk7Y29uc3Qgbz0oZSx0LGEpPT57aWYoYSYmKGE8MHx8YT4xMDApKXRocm93IG5ldyBFcnJvcihgJHthfSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwYCk7cmV0dXJuKDAsci5kZWZhdWx0KShlKVt0XShhKS50b1N0cmluZygpfTt0LmdldE1vc3RSZWFkYWJsZT0oZSx0KT0+ci5kZWZhdWx0Lm1vc3RSZWFkYWJsZShlLHQpLnRvSGV4U3RyaW5nKCl9LDIzMTc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lkljb25TaXplPXQuVHJhbnNpdGlvbj10LkxpbmVIZWlnaHQ9dC5Gb250V2VpZ2h0PXQuRm9udFNpemU9dC5Gb250RmFtaWx5PXQuU2hhZG93PXQuUmFkaXVzPXQuVW5pdFB4PXQuVW5pdD10LlNpemVOYW1lPXQuU2l6ZT10LkNvbG9yPXZvaWQgMCx0LkNvbG9yPXt3aGl0ZTpcIiNGRkZGRkZcIixsaWdodEdyYXkxOlwiI0ZBRkJGRVwiLGxpZ2h0R3JheTI6XCIjRjNGNUY4XCIsbGlnaHRHcmF5MzpcIiNFQ0VFRjFcIixsaWdodEdyYXk0OlwiI0REREZFNFwiLGxpZ2h0R3JheTU6XCIjQzlDQkQyXCIsbmV1dHJhbEdyYXk6XCIjN0Q4MDhBXCIsbmV1dHJhbEdyYXk4MDpcInJnYmEoMTI1LDEyOCwxMzgsMC44KVwiLHNpbHZlckdyYXk6XCIjQzBDMUMyXCIsZGFya0dyYXkxOlwiIzUzNTY1RlwiLGRhcmtHcmF5MjpcIiMzODNBNDBcIixkYXJrR3JheTM6XCIjMkYzMTM2XCIsZGFya0dyYXk0OlwiIzI0MjYyQlwiLGRhcmtHcmF5NTpcIiMxRTFGMjNcIixkYXJrR3JheTY6XCIjMTExMjE0XCIsb3BlbkZpbkRhcmtlc3Q6XCIjM0QzOUNEXCIsb3BlbkZpbkRhcmtlcjpcIiM0NjQyRTBcIixvcGVuRmluOlwiIzUwNENGRlwiLG9wZW5GaW5MaWdodDpcIiM1MjU0RkJcIixvcGVuRmluTGlnaHRlcjpcIiM1QzVFRkVcIixvcGVuRmluTGlnaHRlc3Q6XCIjNjg2NEZGXCIsZnVuY3Rpb25hbDE6XCIjMjA3NzM1XCIsZnVuY3Rpb25hbDI6XCIjNDZDOEYxXCIsZnVuY3Rpb25hbDM6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDQ6XCIjNkNBREU1XCIsZnVuY3Rpb25hbDU6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDY6XCIjODgyQkZFXCIsZnVuY3Rpb25hbDc6XCIjRjMxODE4XCIsZnVuY3Rpb25hbDg6XCIjQzkzNDAwXCIsZnVuY3Rpb25hbDk6XCIjRkY1RTYwXCIsZnVuY3Rpb25hbDEwOlwiI0Y0OEYwMFwiLHB1cnBsZTpcIiM4QzYxRkZcIixsaWdodGJsdWU6XCIjMzZDM0ZFXCIsYXF1YTpcIiMwMENDODhcIix5ZWxsb3c6XCIjRkZFQjAwXCIsc2FsbW9uOlwiI0ZGOEM0Q1wiLHBpbms6XCIjRkY1RTYwXCIsbGlnaHRwaW5rOlwiI0ZGOEZCOFwiLHdoaXRlMDA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMClcIix3aGl0ZTEwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjEpXCIsd2hpdGUyMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4yKVwiLHdoaXRlMzA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMylcIix3aGl0ZTQwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjQpXCIsd2hpdGU1MDpcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiLHdoaXRlNjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNilcIix3aGl0ZTcwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCIsd2hpdGU4MDpcInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiLHdoaXRlOTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIixibGFjazAwOlwicmdiYSgwLDAsMCwwLjApXCIsYmxhY2sxMDpcInJnYmEoMCwwLDAsMC4xKVwiLGJsYWNrMjA6XCJyZ2JhKDAsMCwwLDAuMilcIixibGFjazMwOlwicmdiYSgwLDAsMCwwLjMpXCIsYmxhY2s0MDpcInJnYmEoMCwwLDAsMC40KVwiLGJsYWNrNTA6XCJyZ2JhKDAsMCwwLDAuNSlcIixibGFjazYwOlwicmdiYSgwLDAsMCwwLjYpXCIsYmxhY2s3MDpcInJnYmEoMCwwLDAsMC43KVwiLGJsYWNrODA6XCJyZ2JhKDAsMCwwLDAuOClcIixibGFjazkwOlwicmdiYSgwLDAsMCwwLjkpXCIsdHJhbnNwYXJlbnQ6XCJ0cmFuc3BhcmVudFwifSx0LlNpemU9e3hzbWFsbDpcInhzbWFsbFwiLHNtYWxsOlwic21hbGxcIixiYXNlOlwiYmFzZVwiLGxhcmdlOlwibGFyZ2VcIix4bGFyZ2U6XCJ4bGFyZ2VcIix4eGxhcmdlOlwieHhsYXJnZVwiLHh4eGxhcmdlOlwieHh4bGFyZ2VcIix4eHh4bGFyZ2U6XCJ4eHh4bGFyZ2VcIn0sdC5TaXplTmFtZT17W3QuU2l6ZS54c21hbGxdOlwiRXh0cmEgU21hbGxcIixbdC5TaXplLnNtYWxsXTpcIlNtYWxsXCIsW3QuU2l6ZS5iYXNlXTpcIkJhc2VcIixbdC5TaXplLmxhcmdlXTpcIkxhcmdlXCIsW3QuU2l6ZS54bGFyZ2VdOlwiRXh0cmEgTGFyZ2VcIixbdC5TaXplLnh4bGFyZ2VdOlwiMlggTGFyZ2VcIixbdC5TaXplLnh4eGxhcmdlXTpcIjNYIExhcmdlXCIsW3QuU2l6ZS54eHh4bGFyZ2VdOlwiNFggTGFyZ2VcIn0sdC5Vbml0PXtbdC5TaXplLnhzbWFsbF06NCxbdC5TaXplLnNtYWxsXTo4LFt0LlNpemUuYmFzZV06MTIsW3QuU2l6ZS5sYXJnZV06MTYsW3QuU2l6ZS54bGFyZ2VdOjIwLFt0LlNpemUueHhsYXJnZV06MjQsW3QuU2l6ZS54eHhsYXJnZV06MzIsW3QuU2l6ZS54eHh4bGFyZ2VdOjQ4fSx0LlVuaXRQeD17W3QuU2l6ZS54c21hbGxdOlwiNHB4XCIsW3QuU2l6ZS5zbWFsbF06XCI4cHhcIixbdC5TaXplLmJhc2VdOlwiMTJweFwiLFt0LlNpemUubGFyZ2VdOlwiMTZweFwiLFt0LlNpemUueGxhcmdlXTpcIjIwcHhcIixbdC5TaXplLnh4bGFyZ2VdOlwiMjRweFwiLFt0LlNpemUueHh4bGFyZ2VdOlwiMzJweFwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjQ4cHhcIn0sdC5SYWRpdXM9e1t0LlNpemUueHNtYWxsXTpcIjJweFwiLFt0LlNpemUuc21hbGxdOlwiNHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjhweFwiLFt0LlNpemUubGFyZ2VdOlwiMjRweFwiLHBpbGw6XCIxMDB2aFwiLHJvdW5kOlwiNTAlXCIsbm9uZTpcIjBcIn0sdC5TaGFkb3c9e1t0LlNpemUuYmFzZV06XCIwIDRweCA0cHggcmdiYSgwLCAwLCAwLCAwLjI1KVwifSx0LkZvbnRGYW1pbHk9W1wiSW50ZXJcIixcInN5c3RlbS11aVwiLFwiQmxpbmtNYWNTeXN0ZW1Gb250XCIsXCJTZWdvZSBVSVwiLFwiUm9ib3RvXCIsXCJPeHlnZW4tU2Fuc1wiLFwiVWJ1bnR1XCIsXCJDYW50YXJlbGxcIixcIkhlbHZldGljYSBOZXVlXCIsXCJzYW5zLXNlcmlmXCJdLmpvaW4oXCIsXCIpLHQuRm9udFNpemU9e1t0LlNpemUueHNtYWxsXTpcIjhweFwiLFt0LlNpemUuc21hbGxdOlwiMTBweFwiLFt0LlNpemUuYmFzZV06XCIxMnB4XCIsW3QuU2l6ZS5sYXJnZV06XCIxNHB4XCIsW3QuU2l6ZS54bGFyZ2VdOlwiMTZweFwiLFt0LlNpemUueHhsYXJnZV06XCIxOHB4XCIsW3QuU2l6ZS54eHhsYXJnZV06XCIyMHB4XCIsW3QuU2l6ZS54eHh4bGFyZ2VdOlwiNDBweFwifSx0LkZvbnRXZWlnaHQ9e25vcm1hbDo0MDAsYm9sZDo2MDB9LHQuTGluZUhlaWdodD17dWk6MSxoZWFkaW5nOjEuMix0ZXh0OjEuNX0sdC5UcmFuc2l0aW9uPXtiYXNlOlwiMjAwbXMgY3ViaWMtYmV6aWVyKDAuMTYsIDEsIDAuMywgMSlcIixub25lOlwiMG1zXCJ9LHQuSWNvblNpemU9e1t0LlNpemUueHNtYWxsXTp0LlVuaXRQeC5zbWFsbCxbdC5TaXplLnNtYWxsXTp0LlVuaXRQeC5iYXNlLFt0LlNpemUuYmFzZV06XCIxNXB4XCIsW3QuU2l6ZS5sYXJnZV06dC5Vbml0UHgueGxhcmdlLFt0LlNpemUueGxhcmdlXTp0LlVuaXRQeC54eGxhcmdlLFt0LlNpemUueHhsYXJnZV06dC5Vbml0UHgueHh4bGFyZ2UsW3QuU2l6ZS54eHhsYXJnZV06dC5Vbml0UHgueHh4eGxhcmdlfX0sNjg5MzooZSx0LGEpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGVUaGVtZT12b2lkIDA7Y29uc3Qgbj1hKDIzMTcpLHI9YSgyMzQ2KSxvPWEoNTkzOSksaT17Zm9udEZhbWlseTpuLkZvbnRGYW1pbHksZm9udFNpemU6bi5Gb250U2l6ZSxmb250V2VpZ2h0Om4uRm9udFdlaWdodCxsaW5lSGVpZ2h0Om4uTGluZUhlaWdodCxpY29uU2l6ZTpuLkljb25TaXplLHJhZGl1czpuLlJhZGl1cyxzaGFkb3c6bi5TaGFkb3csdHJhbnNpdGlvbjpuLlRyYW5zaXRpb24sdW5pdDpuLlVuaXQscHg6bi5Vbml0UHh9LHM9KGUsdCk9Pih7W2Ake2V9QWN0aXZlYF06KDAsci5kYXJrZW5Db2xvcikodCwyKSxbYCR7ZX1Ib3ZlcmBdOigwLHIubGlnaHRlbkNvbG9yKSh0LDUpLFtgJHtlfUZvY3VzZWRgXTooMCxyLmdldE1vc3RSZWFkYWJsZSkodCxbbi5Db2xvci53aGl0ZSxuLkNvbG9yLmRhcmtHcmF5NV0pLFtgJHtlfVRleHRgXTooMCxyLmdldE1vc3RSZWFkYWJsZSkodCxbbi5Db2xvci53aGl0ZSxuLkNvbG9yLmRhcmtHcmF5NV0pfSk7dC5jcmVhdGVUaGVtZT1lPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkse3BhbGV0dGU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkscyhvLlBhbGV0dGUuYnJhbmRQcmltYXJ5LGUuYnJhbmRQcmltYXJ5KSkscyhvLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnksZS5icmFuZFNlY29uZGFyeSkpfSl9LDU5Mzk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlBhbGV0dGU9dm9pZCAwLHQuUGFsZXR0ZT17YmFja2dyb3VuZDE6XCJiYWNrZ3JvdW5kMVwiLGJhY2tncm91bmQyOlwiYmFja2dyb3VuZDJcIixiYWNrZ3JvdW5kMzpcImJhY2tncm91bmQzXCIsYmFja2dyb3VuZDQ6XCJiYWNrZ3JvdW5kNFwiLGJhY2tncm91bmQ1OlwiYmFja2dyb3VuZDVcIixiYWNrZ3JvdW5kNjpcImJhY2tncm91bmQ2XCIsYnJhbmRQcmltYXJ5OlwiYnJhbmRQcmltYXJ5XCIsYnJhbmRTZWNvbmRhcnk6XCJicmFuZFNlY29uZGFyeVwiLGJyYW5kUHJpbWFyeUFjdGl2ZTpcImJyYW5kUHJpbWFyeUFjdGl2ZVwiLGJyYW5kUHJpbWFyeUhvdmVyOlwiYnJhbmRQcmltYXJ5SG92ZXJcIixicmFuZFByaW1hcnlGb2N1c2VkOlwiYnJhbmRQcmltYXJ5Rm9jdXNlZFwiLGJyYW5kUHJpbWFyeVRleHQ6XCJicmFuZFByaW1hcnlUZXh0XCIsYnJhbmRTZWNvbmRhcnlBY3RpdmU6XCJicmFuZFNlY29uZGFyeUFjdGl2ZVwiLGJyYW5kU2Vjb25kYXJ5SG92ZXI6XCJicmFuZFNlY29uZGFyeUhvdmVyXCIsYnJhbmRTZWNvbmRhcnlGb2N1c2VkOlwiYnJhbmRTZWNvbmRhcnlGb2N1c2VkXCIsYnJhbmRTZWNvbmRhcnlUZXh0OlwiYnJhbmRTZWNvbmRhcnlUZXh0XCIsaW5wdXRCYWNrZ3JvdW5kOlwiaW5wdXRCYWNrZ3JvdW5kXCIsaW5wdXRDb2xvcjpcImlucHV0Q29sb3JcIixpbnB1dFBsYWNlaG9sZGVyOlwiaW5wdXRQbGFjZWhvbGRlclwiLGlucHV0RGlzYWJsZWQ6XCJpbnB1dERpc2FibGVkXCIsaW5wdXRGb2N1c2VkOlwiaW5wdXRGb2N1c2VkXCIsaW5wdXRCb3JkZXI6XCJpbnB1dEJvcmRlclwiLHN0YXR1c1N1Y2Nlc3M6XCJzdGF0dXNTdWNjZXNzXCIsc3RhdHVzV2FybmluZzpcInN0YXR1c1dhcm5pbmdcIixzdGF0dXNDcml0aWNhbDpcInN0YXR1c0NyaXRpY2FsXCIsc3RhdHVzQWN0aXZlOlwic3RhdHVzQWN0aXZlXCIsdGV4dERlZmF1bHQ6XCJ0ZXh0RGVmYXVsdFwiLHRleHRIZWxwOlwidGV4dEhlbHBcIix0ZXh0SW5hY3RpdmU6XCJ0ZXh0SW5hY3RpdmVcIixib3JkZXJOZXV0cmFsOlwiYm9yZGVyTmV1dHJhbFwiLGNvbnRlbnRCYWNrZ3JvdW5kMTpcImNvbnRlbnRCYWNrZ3JvdW5kMVwiLGNvbnRlbnRCYWNrZ3JvdW5kMjpcImNvbnRlbnRCYWNrZ3JvdW5kMlwiLGNvbnRlbnRCYWNrZ3JvdW5kMzpcImNvbnRlbnRCYWNrZ3JvdW5kM1wiLGNvbnRlbnRCYWNrZ3JvdW5kNDpcImNvbnRlbnRCYWNrZ3JvdW5kNFwiLGNvbnRlbnRCYWNrZ3JvdW5kNTpcImNvbnRlbnRCYWNrZ3JvdW5kNVwiLGxpbmtEZWZhdWx0OlwibGlua0RlZmF1bHRcIixsaW5rSG92ZXI6XCJsaW5rSG92ZXJcIn19LDY1MzU6ZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4oZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkodCl9dmFyIHQ9L15cXHMrLyxhPS9cXHMrJC87ZnVuY3Rpb24gbihyLG8pe2lmKG89b3x8e30sKHI9cnx8XCJcIilpbnN0YW5jZW9mIG4pcmV0dXJuIHI7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpcmV0dXJuIG5ldyBuKHIsbyk7dmFyIGk9ZnVuY3Rpb24obil7dmFyIHIsbyxpLHM9e3I6MCxnOjAsYjowfSxjPTEsZD1udWxsLGw9bnVsbCx1PW51bGwscD0hMSxoPSExO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1mdW5jdGlvbihlKXtlPWUucmVwbGFjZSh0LFwiXCIpLnJlcGxhY2UoYSxcIlwiKS50b0xvd2VyQ2FzZSgpO3ZhciBuLHI9ITE7aWYoa1tlXSllPWtbZV0scj0hMDtlbHNlIGlmKFwidHJhbnNwYXJlbnRcIj09ZSlyZXR1cm57cjowLGc6MCxiOjAsYTowLGZvcm1hdDpcIm5hbWVcIn07cmV0dXJuKG49Ty5yZ2IuZXhlYyhlKSk/e3I6blsxXSxnOm5bMl0sYjpuWzNdfToobj1PLnJnYmEuZXhlYyhlKSk/e3I6blsxXSxnOm5bMl0sYjpuWzNdLGE6bls0XX06KG49Ty5oc2wuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sbDpuWzNdfToobj1PLmhzbGEuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sbDpuWzNdLGE6bls0XX06KG49Ty5oc3YuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sdjpuWzNdfToobj1PLmhzdmEuZXhlYyhlKSk/e2g6blsxXSxzOm5bMl0sdjpuWzNdLGE6bls0XX06KG49Ty5oZXg4LmV4ZWMoZSkpP3tyOngoblsxXSksZzp4KG5bMl0pLGI6eChuWzNdKSxhOkYobls0XSksZm9ybWF0OnI/XCJuYW1lXCI6XCJoZXg4XCJ9OihuPU8uaGV4Ni5leGVjKGUpKT97cjp4KG5bMV0pLGc6eChuWzJdKSxiOngoblszXSksZm9ybWF0OnI/XCJuYW1lXCI6XCJoZXhcIn06KG49Ty5oZXg0LmV4ZWMoZSkpP3tyOngoblsxXStcIlwiK25bMV0pLGc6eChuWzJdK1wiXCIrblsyXSksYjp4KG5bM10rXCJcIituWzNdKSxhOkYobls0XStcIlwiK25bNF0pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4OFwifTohIShuPU8uaGV4My5leGVjKGUpKSYme3I6eChuWzFdK1wiXCIrblsxXSksZzp4KG5bMl0rXCJcIituWzJdKSxiOngoblszXStcIlwiK25bM10pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4XCJ9fShuKSksXCJvYmplY3RcIj09ZShuKSYmKEQobi5yKSYmRChuLmcpJiZEKG4uYik/KHI9bi5yLG89bi5nLGk9bi5iLHM9e3I6MjU1KlAociwyNTUpLGc6MjU1KlAobywyNTUpLGI6MjU1KlAoaSwyNTUpfSxwPSEwLGg9XCIlXCI9PT1TdHJpbmcobi5yKS5zdWJzdHIoLTEpP1wicHJnYlwiOlwicmdiXCIpOkQobi5oKSYmRChuLnMpJiZEKG4udik/KGQ9TShuLnMpLGw9TShuLnYpLHM9ZnVuY3Rpb24oZSx0LGEpe2U9NipQKGUsMzYwKSx0PVAodCwxMDApLGE9UChhLDEwMCk7dmFyIG49TWF0aC5mbG9vcihlKSxyPWUtbixvPWEqKDEtdCksaT1hKigxLXIqdCkscz1hKigxLSgxLXIpKnQpLGM9biU2O3JldHVybntyOjI1NSpbYSxpLG8sbyxzLGFdW2NdLGc6MjU1KltzLGEsYSxpLG8sb11bY10sYjoyNTUqW28sbyxzLGEsYSxpXVtjXX19KG4uaCxkLGwpLHA9ITAsaD1cImhzdlwiKTpEKG4uaCkmJkQobi5zKSYmRChuLmwpJiYoZD1NKG4ucyksdT1NKG4ubCkscz1mdW5jdGlvbihlLHQsYSl7dmFyIG4scixvO2Z1bmN0aW9uIGkoZSx0LGEpe3JldHVybiBhPDAmJihhKz0xKSxhPjEmJihhLT0xKSxhPDEvNj9lKzYqKHQtZSkqYTphPC41P3Q6YTwyLzM/ZSsodC1lKSooMi8zLWEpKjY6ZX1pZihlPVAoZSwzNjApLHQ9UCh0LDEwMCksYT1QKGEsMTAwKSwwPT09dCluPXI9bz1hO2Vsc2V7dmFyIHM9YTwuNT9hKigxK3QpOmErdC1hKnQsYz0yKmEtcztuPWkoYyxzLGUrMS8zKSxyPWkoYyxzLGUpLG89aShjLHMsZS0xLzMpfXJldHVybntyOjI1NSpuLGc6MjU1KnIsYjoyNTUqb319KG4uaCxkLHUpLHA9ITAsaD1cImhzbFwiKSxuLmhhc093blByb3BlcnR5KFwiYVwiKSYmKGM9bi5hKSksYz1TKGMpLHtvazpwLGZvcm1hdDpuLmZvcm1hdHx8aCxyOk1hdGgubWluKDI1NSxNYXRoLm1heChzLnIsMCkpLGc6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuZywwKSksYjpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5iLDApKSxhOmN9fShyKTt0aGlzLl9vcmlnaW5hbElucHV0PXIsdGhpcy5fcj1pLnIsdGhpcy5fZz1pLmcsdGhpcy5fYj1pLmIsdGhpcy5fYT1pLmEsdGhpcy5fcm91bmRBPU1hdGgucm91bmQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzLl9mb3JtYXQ9by5mb3JtYXR8fGkuZm9ybWF0LHRoaXMuX2dyYWRpZW50VHlwZT1vLmdyYWRpZW50VHlwZSx0aGlzLl9yPDEmJih0aGlzLl9yPU1hdGgucm91bmQodGhpcy5fcikpLHRoaXMuX2c8MSYmKHRoaXMuX2c9TWF0aC5yb3VuZCh0aGlzLl9nKSksdGhpcy5fYjwxJiYodGhpcy5fYj1NYXRoLnJvdW5kKHRoaXMuX2IpKSx0aGlzLl9vaz1pLm9rfWZ1bmN0aW9uIHIoZSx0LGEpe2U9UChlLDI1NSksdD1QKHQsMjU1KSxhPVAoYSwyNTUpO3ZhciBuLHIsbz1NYXRoLm1heChlLHQsYSksaT1NYXRoLm1pbihlLHQsYSkscz0obytpKS8yO2lmKG89PWkpbj1yPTA7ZWxzZXt2YXIgYz1vLWk7c3dpdGNoKHI9cz4uNT9jLygyLW8taSk6Yy8obytpKSxvKXtjYXNlIGU6bj0odC1hKS9jKyh0PGE/NjowKTticmVhaztjYXNlIHQ6bj0oYS1lKS9jKzI7YnJlYWs7Y2FzZSBhOm49KGUtdCkvYys0fW4vPTZ9cmV0dXJue2g6bixzOnIsbDpzfX1mdW5jdGlvbiBvKGUsdCxhKXtlPVAoZSwyNTUpLHQ9UCh0LDI1NSksYT1QKGEsMjU1KTt2YXIgbixyLG89TWF0aC5tYXgoZSx0LGEpLGk9TWF0aC5taW4oZSx0LGEpLHM9byxjPW8taTtpZihyPTA9PT1vPzA6Yy9vLG89PWkpbj0wO2Vsc2V7c3dpdGNoKG8pe2Nhc2UgZTpuPSh0LWEpL2MrKHQ8YT82OjApO2JyZWFrO2Nhc2UgdDpuPShhLWUpL2MrMjticmVhaztjYXNlIGE6bj0oZS10KS9jKzR9bi89Nn1yZXR1cm57aDpuLHM6cix2OnN9fWZ1bmN0aW9uIGkoZSx0LGEsbil7dmFyIHI9W0EoTWF0aC5yb3VuZChlKS50b1N0cmluZygxNikpLEEoTWF0aC5yb3VuZCh0KS50b1N0cmluZygxNikpLEEoTWF0aC5yb3VuZChhKS50b1N0cmluZygxNikpXTtyZXR1cm4gbiYmclswXS5jaGFyQXQoMCk9PXJbMF0uY2hhckF0KDEpJiZyWzFdLmNoYXJBdCgwKT09clsxXS5jaGFyQXQoMSkmJnJbMl0uY2hhckF0KDApPT1yWzJdLmNoYXJBdCgxKT9yWzBdLmNoYXJBdCgwKStyWzFdLmNoYXJBdCgwKStyWzJdLmNoYXJBdCgwKTpyLmpvaW4oXCJcIil9ZnVuY3Rpb24gcyhlLHQsYSxuKXtyZXR1cm5bQShJKG4pKSxBKE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKV0uam9pbihcIlwiKX1mdW5jdGlvbiBjKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5zLT10LzEwMCxhLnM9QyhhLnMpLG4oYSl9ZnVuY3Rpb24gZChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEucys9dC8xMDAsYS5zPUMoYS5zKSxuKGEpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIG4oZSkuZGVzYXR1cmF0ZSgxMDApfWZ1bmN0aW9uIHUoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLmwrPXQvMTAwLGEubD1DKGEubCksbihhKX1mdW5jdGlvbiBwKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9SZ2IoKTtyZXR1cm4gYS5yPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuci1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksYS5nPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuZy1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksYS5iPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGEuYi1NYXRoLnJvdW5kKC10LzEwMCoyNTUpKSksbihhKX1mdW5jdGlvbiBoKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5sLT10LzEwMCxhLmw9QyhhLmwpLG4oYSl9ZnVuY3Rpb24gZihlLHQpe3ZhciBhPW4oZSkudG9Ic2woKSxyPShhLmgrdCklMzYwO3JldHVybiBhLmg9cjwwPzM2MCtyOnIsbihhKX1mdW5jdGlvbiBnKGUpe3ZhciB0PW4oZSkudG9Ic2woKTtyZXR1cm4gdC5oPSh0LmgrMTgwKSUzNjAsbih0KX1mdW5jdGlvbiBtKGUsdCl7aWYoaXNOYU4odCl8fHQ8PTApdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgdG8gcG9seWFkIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7Zm9yKHZhciBhPW4oZSkudG9Ic2woKSxyPVtuKGUpXSxvPTM2MC90LGk9MTtpPHQ7aSsrKXIucHVzaChuKHtoOihhLmgraSpvKSUzNjAsczphLnMsbDphLmx9KSk7cmV0dXJuIHJ9ZnVuY3Rpb24gdyhlKXt2YXIgdD1uKGUpLnRvSHNsKCksYT10Lmg7cmV0dXJuW24oZSksbih7aDooYSs3MiklMzYwLHM6dC5zLGw6dC5sfSksbih7aDooYSsyMTYpJTM2MCxzOnQucyxsOnQubH0pXX1mdW5jdGlvbiB5KGUsdCxhKXt0PXR8fDYsYT1hfHwzMDt2YXIgcj1uKGUpLnRvSHNsKCksbz0zNjAvYSxpPVtuKGUpXTtmb3Ioci5oPShyLmgtKG8qdD4+MSkrNzIwKSUzNjA7LS10OylyLmg9KHIuaCtvKSUzNjAsaS5wdXNoKG4ocikpO3JldHVybiBpfWZ1bmN0aW9uIHYoZSx0KXt0PXR8fDY7Zm9yKHZhciBhPW4oZSkudG9Ic3YoKSxyPWEuaCxvPWEucyxpPWEudixzPVtdLGM9MS90O3QtLTspcy5wdXNoKG4oe2g6cixzOm8sdjppfSkpLGk9KGkrYyklMTtyZXR1cm4gc31uLnByb3RvdHlwZT17aXNEYXJrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnJpZ2h0bmVzcygpPDEyOH0saXNMaWdodDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzRGFyaygpfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29rfSxnZXRPcmlnaW5hbElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWdpbmFsSW5wdXR9LGdldEZvcm1hdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JtYXR9LGdldEFscGhhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F9LGdldEJyaWdodG5lc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRvUmdiKCk7cmV0dXJuKDI5OSplLnIrNTg3KmUuZysxMTQqZS5iKS8xZTN9LGdldEx1bWluYW5jZTpmdW5jdGlvbigpe3ZhciBlLHQsYSxuPXRoaXMudG9SZ2IoKTtyZXR1cm4gZT1uLnIvMjU1LHQ9bi5nLzI1NSxhPW4uYi8yNTUsLjIxMjYqKGU8PS4wMzkyOD9lLzEyLjkyOk1hdGgucG93KChlKy4wNTUpLzEuMDU1LDIuNCkpKy43MTUyKih0PD0uMDM5Mjg/dC8xMi45MjpNYXRoLnBvdygodCsuMDU1KS8xLjA1NSwyLjQpKSsuMDcyMiooYTw9LjAzOTI4P2EvMTIuOTI6TWF0aC5wb3coKGErLjA1NSkvMS4wNTUsMi40KSl9LHNldEFscGhhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hPVMoZSksdGhpcy5fcm91bmRBPU1hdGgucm91bmQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzfSx0b0hzdjpmdW5jdGlvbigpe3ZhciBlPW8odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsdjplLnYsYTp0aGlzLl9hfX0sdG9Ic3ZTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PU1hdGgucm91bmQoMzYwKmUuaCksYT1NYXRoLnJvdW5kKDEwMCplLnMpLG49TWF0aC5yb3VuZCgxMDAqZS52KTtyZXR1cm4gMT09dGhpcy5fYT9cImhzdihcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUpXCI6XCJoc3ZhKFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hzbDpmdW5jdGlvbigpe3ZhciBlPXIodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsbDplLmwsYTp0aGlzLl9hfX0sdG9Ic2xTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1yKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PU1hdGgucm91bmQoMzYwKmUuaCksYT1NYXRoLnJvdW5kKDEwMCplLnMpLG49TWF0aC5yb3VuZCgxMDAqZS5sKTtyZXR1cm4gMT09dGhpcy5fYT9cImhzbChcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUpXCI6XCJoc2xhKFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hleDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYixlKX0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuXCIjXCIrdGhpcy50b0hleChlKX0sdG9IZXg4OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsYSxuLHIpe3ZhciBvPVtBKE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSxBKE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKSxBKEkobikpXTtyZXR1cm4gciYmb1swXS5jaGFyQXQoMCk9PW9bMF0uY2hhckF0KDEpJiZvWzFdLmNoYXJBdCgwKT09b1sxXS5jaGFyQXQoMSkmJm9bMl0uY2hhckF0KDApPT1vWzJdLmNoYXJBdCgxKSYmb1szXS5jaGFyQXQoMCk9PW9bM10uY2hhckF0KDEpP29bMF0uY2hhckF0KDApK29bMV0uY2hhckF0KDApK29bMl0uY2hhckF0KDApK29bM10uY2hhckF0KDApOm8uam9pbihcIlwiKX0odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsdGhpcy5fYSxlKX0sdG9IZXg4U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK3RoaXMudG9IZXg4KGUpfSx0b1JnYjpmdW5jdGlvbigpe3JldHVybntyOk1hdGgucm91bmQodGhpcy5fciksZzpNYXRoLnJvdW5kKHRoaXMuX2cpLGI6TWF0aC5yb3VuZCh0aGlzLl9iKSxhOnRoaXMuX2F9fSx0b1JnYlN0cmluZzpmdW5jdGlvbigpe3JldHVybiAxPT10aGlzLl9hP1wicmdiKFwiK01hdGgucm91bmQodGhpcy5fcikrXCIsIFwiK01hdGgucm91bmQodGhpcy5fZykrXCIsIFwiK01hdGgucm91bmQodGhpcy5fYikrXCIpXCI6XCJyZ2JhKFwiK01hdGgucm91bmQodGhpcy5fcikrXCIsIFwiK01hdGgucm91bmQodGhpcy5fZykrXCIsIFwiK01hdGgucm91bmQodGhpcy5fYikrXCIsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9QZXJjZW50YWdlUmdiOmZ1bmN0aW9uKCl7cmV0dXJue3I6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9yLDI1NSkpK1wiJVwiLGc6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9nLDI1NSkpK1wiJVwiLGI6TWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9iLDI1NSkpK1wiJVwiLGE6dGhpcy5fYX19LHRvUGVyY2VudGFnZVJnYlN0cmluZzpmdW5jdGlvbigpe3JldHVybiAxPT10aGlzLl9hP1wicmdiKFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiUpXCI6XCJyZ2JhKFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiUsIFwiK01hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9OYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9hP1widHJhbnNwYXJlbnRcIjohKHRoaXMuX2E8MSkmJihiW2kodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsITApXXx8ITEpfSx0b0ZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdD1cIiNcIitzKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EpLGE9dCxyPXRoaXMuX2dyYWRpZW50VHlwZT9cIkdyYWRpZW50VHlwZSA9IDEsIFwiOlwiXCI7aWYoZSl7dmFyIG89bihlKTthPVwiI1wiK3Moby5fcixvLl9nLG8uX2Isby5fYSl9cmV0dXJuXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoXCIrcitcInN0YXJ0Q29sb3JzdHI9XCIrdCtcIixlbmRDb2xvcnN0cj1cIithK1wiKVwifSx0b1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD0hIWU7ZT1lfHx0aGlzLl9mb3JtYXQ7dmFyIGE9ITEsbj10aGlzLl9hPDEmJnRoaXMuX2E+PTA7cmV0dXJuIHR8fCFufHxcImhleFwiIT09ZSYmXCJoZXg2XCIhPT1lJiZcImhleDNcIiE9PWUmJlwiaGV4NFwiIT09ZSYmXCJoZXg4XCIhPT1lJiZcIm5hbWVcIiE9PWU/KFwicmdiXCI9PT1lJiYoYT10aGlzLnRvUmdiU3RyaW5nKCkpLFwicHJnYlwiPT09ZSYmKGE9dGhpcy50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcoKSksXCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZXx8KGE9dGhpcy50b0hleFN0cmluZygpKSxcImhleDNcIj09PWUmJihhPXRoaXMudG9IZXhTdHJpbmcoITApKSxcImhleDRcIj09PWUmJihhPXRoaXMudG9IZXg4U3RyaW5nKCEwKSksXCJoZXg4XCI9PT1lJiYoYT10aGlzLnRvSGV4OFN0cmluZygpKSxcIm5hbWVcIj09PWUmJihhPXRoaXMudG9OYW1lKCkpLFwiaHNsXCI9PT1lJiYoYT10aGlzLnRvSHNsU3RyaW5nKCkpLFwiaHN2XCI9PT1lJiYoYT10aGlzLnRvSHN2U3RyaW5nKCkpLGF8fHRoaXMudG9IZXhTdHJpbmcoKSk6XCJuYW1lXCI9PT1lJiYwPT09dGhpcy5fYT90aGlzLnRvTmFtZSgpOnRoaXMudG9SZ2JTdHJpbmcoKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLnRvU3RyaW5nKCkpfSxfYXBwbHlNb2RpZmljYXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgYT1lLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSk7cmV0dXJuIHRoaXMuX3I9YS5fcix0aGlzLl9nPWEuX2csdGhpcy5fYj1hLl9iLHRoaXMuc2V0QWxwaGEoYS5fYSksdGhpc30sbGlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbih1LGFyZ3VtZW50cyl9LGJyaWdodGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHAsYXJndW1lbnRzKX0sZGFya2VuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGgsYXJndW1lbnRzKX0sZGVzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihjLGFyZ3VtZW50cyl9LHNhdHVyYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGQsYXJndW1lbnRzKX0sZ3JleXNjYWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGwsYXJndW1lbnRzKX0sc3BpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihmLGFyZ3VtZW50cyl9LF9hcHBseUNvbWJpbmF0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXBwbHkobnVsbCxbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwodCkpKX0sYW5hbG9nb3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oeSxhcmd1bWVudHMpfSxjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oZyxhcmd1bWVudHMpfSxtb25vY2hyb21hdGljOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odixhcmd1bWVudHMpfSxzcGxpdGNvbXBsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbih3LGFyZ3VtZW50cyl9LHRyaWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obSxbM10pfSx0ZXRyYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihtLFs0XSl9fSxuLmZyb21SYXRpbz1mdW5jdGlvbih0LGEpe2lmKFwib2JqZWN0XCI9PWUodCkpe3ZhciByPXt9O2Zvcih2YXIgbyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJihyW29dPVwiYVwiPT09bz90W29dOk0odFtvXSkpO3Q9cn1yZXR1cm4gbih0LGEpfSxuLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiEoIWV8fCF0KSYmbihlKS50b1JnYlN0cmluZygpPT1uKHQpLnRvUmdiU3RyaW5nKCl9LG4ucmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZnJvbVJhdGlvKHtyOk1hdGgucmFuZG9tKCksZzpNYXRoLnJhbmRvbSgpLGI6TWF0aC5yYW5kb20oKX0pfSxuLm1peD1mdW5jdGlvbihlLHQsYSl7YT0wPT09YT8wOmF8fDUwO3ZhciByPW4oZSkudG9SZ2IoKSxvPW4odCkudG9SZ2IoKSxpPWEvMTAwO3JldHVybiBuKHtyOihvLnItci5yKSppK3IucixnOihvLmctci5nKSppK3IuZyxiOihvLmItci5iKSppK3IuYixhOihvLmEtci5hKSppK3IuYX0pfSxuLnJlYWRhYmlsaXR5PWZ1bmN0aW9uKGUsdCl7dmFyIGE9bihlKSxyPW4odCk7cmV0dXJuKE1hdGgubWF4KGEuZ2V0THVtaW5hbmNlKCksci5nZXRMdW1pbmFuY2UoKSkrLjA1KS8oTWF0aC5taW4oYS5nZXRMdW1pbmFuY2UoKSxyLmdldEx1bWluYW5jZSgpKSsuMDUpfSxuLmlzUmVhZGFibGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciByLG8saSxzLGMsZD1uLnJlYWRhYmlsaXR5KGUsdCk7c3dpdGNoKG89ITEsKGk9YSxcIkFBXCIhPT0ocz0oKGk9aXx8e2xldmVsOlwiQUFcIixzaXplOlwic21hbGxcIn0pLmxldmVsfHxcIkFBXCIpLnRvVXBwZXJDYXNlKCkpJiZcIkFBQVwiIT09cyYmKHM9XCJBQVwiKSxcInNtYWxsXCIhPT0oYz0oaS5zaXplfHxcInNtYWxsXCIpLnRvTG93ZXJDYXNlKCkpJiZcImxhcmdlXCIhPT1jJiYoYz1cInNtYWxsXCIpLHI9e2xldmVsOnMsc2l6ZTpjfSkubGV2ZWwrci5zaXplKXtjYXNlXCJBQXNtYWxsXCI6Y2FzZVwiQUFBbGFyZ2VcIjpvPWQ+PTQuNTticmVhaztjYXNlXCJBQWxhcmdlXCI6bz1kPj0zO2JyZWFrO2Nhc2VcIkFBQXNtYWxsXCI6bz1kPj03fXJldHVybiBvfSxuLm1vc3RSZWFkYWJsZT1mdW5jdGlvbihlLHQsYSl7dmFyIHIsbyxpLHMsYz1udWxsLGQ9MDtvPShhPWF8fHt9KS5pbmNsdWRlRmFsbGJhY2tDb2xvcnMsaT1hLmxldmVsLHM9YS5zaXplO2Zvcih2YXIgbD0wO2w8dC5sZW5ndGg7bCsrKShyPW4ucmVhZGFiaWxpdHkoZSx0W2xdKSk+ZCYmKGQ9cixjPW4odFtsXSkpO3JldHVybiBuLmlzUmVhZGFibGUoZSxjLHtsZXZlbDppLHNpemU6c30pfHwhbz9jOihhLmluY2x1ZGVGYWxsYmFja0NvbG9ycz0hMSxuLm1vc3RSZWFkYWJsZShlLFtcIiNmZmZcIixcIiMwMDBcIl0sYSkpfTt2YXIgaz1uLm5hbWVzPXthbGljZWJsdWU6XCJmMGY4ZmZcIixhbnRpcXVld2hpdGU6XCJmYWViZDdcIixhcXVhOlwiMGZmXCIsYXF1YW1hcmluZTpcIjdmZmZkNFwiLGF6dXJlOlwiZjBmZmZmXCIsYmVpZ2U6XCJmNWY1ZGNcIixiaXNxdWU6XCJmZmU0YzRcIixibGFjazpcIjAwMFwiLGJsYW5jaGVkYWxtb25kOlwiZmZlYmNkXCIsYmx1ZTpcIjAwZlwiLGJsdWV2aW9sZXQ6XCI4YTJiZTJcIixicm93bjpcImE1MmEyYVwiLGJ1cmx5d29vZDpcImRlYjg4N1wiLGJ1cm50c2llbm5hOlwiZWE3ZTVkXCIsY2FkZXRibHVlOlwiNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIjdmZmYwMFwiLGNob2NvbGF0ZTpcImQyNjkxZVwiLGNvcmFsOlwiZmY3ZjUwXCIsY29ybmZsb3dlcmJsdWU6XCI2NDk1ZWRcIixjb3Juc2lsazpcImZmZjhkY1wiLGNyaW1zb246XCJkYzE0M2NcIixjeWFuOlwiMGZmXCIsZGFya2JsdWU6XCIwMDAwOGJcIixkYXJrY3lhbjpcIjAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCJiODg2MGJcIixkYXJrZ3JheTpcImE5YTlhOVwiLGRhcmtncmVlbjpcIjAwNjQwMFwiLGRhcmtncmV5OlwiYTlhOWE5XCIsZGFya2toYWtpOlwiYmRiNzZiXCIsZGFya21hZ2VudGE6XCI4YjAwOGJcIixkYXJrb2xpdmVncmVlbjpcIjU1NmIyZlwiLGRhcmtvcmFuZ2U6XCJmZjhjMDBcIixkYXJrb3JjaGlkOlwiOTkzMmNjXCIsZGFya3JlZDpcIjhiMDAwMFwiLGRhcmtzYWxtb246XCJlOTk2N2FcIixkYXJrc2VhZ3JlZW46XCI4ZmJjOGZcIixkYXJrc2xhdGVibHVlOlwiNDgzZDhiXCIsZGFya3NsYXRlZ3JheTpcIjJmNGY0ZlwiLGRhcmtzbGF0ZWdyZXk6XCIyZjRmNGZcIixkYXJrdHVycXVvaXNlOlwiMDBjZWQxXCIsZGFya3Zpb2xldDpcIjk0MDBkM1wiLGRlZXBwaW5rOlwiZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIwMGJmZmZcIixkaW1ncmF5OlwiNjk2OTY5XCIsZGltZ3JleTpcIjY5Njk2OVwiLGRvZGdlcmJsdWU6XCIxZTkwZmZcIixmaXJlYnJpY2s6XCJiMjIyMjJcIixmbG9yYWx3aGl0ZTpcImZmZmFmMFwiLGZvcmVzdGdyZWVuOlwiMjI4YjIyXCIsZnVjaHNpYTpcImYwZlwiLGdhaW5zYm9ybzpcImRjZGNkY1wiLGdob3N0d2hpdGU6XCJmOGY4ZmZcIixnb2xkOlwiZmZkNzAwXCIsZ29sZGVucm9kOlwiZGFhNTIwXCIsZ3JheTpcIjgwODA4MFwiLGdyZWVuOlwiMDA4MDAwXCIsZ3JlZW55ZWxsb3c6XCJhZGZmMmZcIixncmV5OlwiODA4MDgwXCIsaG9uZXlkZXc6XCJmMGZmZjBcIixob3RwaW5rOlwiZmY2OWI0XCIsaW5kaWFucmVkOlwiY2Q1YzVjXCIsaW5kaWdvOlwiNGIwMDgyXCIsaXZvcnk6XCJmZmZmZjBcIixraGFraTpcImYwZTY4Y1wiLGxhdmVuZGVyOlwiZTZlNmZhXCIsbGF2ZW5kZXJibHVzaDpcImZmZjBmNVwiLGxhd25ncmVlbjpcIjdjZmMwMFwiLGxlbW9uY2hpZmZvbjpcImZmZmFjZFwiLGxpZ2h0Ymx1ZTpcImFkZDhlNlwiLGxpZ2h0Y29yYWw6XCJmMDgwODBcIixsaWdodGN5YW46XCJlMGZmZmZcIixsaWdodGdvbGRlbnJvZHllbGxvdzpcImZhZmFkMlwiLGxpZ2h0Z3JheTpcImQzZDNkM1wiLGxpZ2h0Z3JlZW46XCI5MGVlOTBcIixsaWdodGdyZXk6XCJkM2QzZDNcIixsaWdodHBpbms6XCJmZmI2YzFcIixsaWdodHNhbG1vbjpcImZmYTA3YVwiLGxpZ2h0c2VhZ3JlZW46XCIyMGIyYWFcIixsaWdodHNreWJsdWU6XCI4N2NlZmFcIixsaWdodHNsYXRlZ3JheTpcIjc4OVwiLGxpZ2h0c2xhdGVncmV5OlwiNzg5XCIsbGlnaHRzdGVlbGJsdWU6XCJiMGM0ZGVcIixsaWdodHllbGxvdzpcImZmZmZlMFwiLGxpbWU6XCIwZjBcIixsaW1lZ3JlZW46XCIzMmNkMzJcIixsaW5lbjpcImZhZjBlNlwiLG1hZ2VudGE6XCJmMGZcIixtYXJvb246XCI4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiNjZjZGFhXCIsbWVkaXVtYmx1ZTpcIjAwMDBjZFwiLG1lZGl1bW9yY2hpZDpcImJhNTVkM1wiLG1lZGl1bXB1cnBsZTpcIjkzNzBkYlwiLG1lZGl1bXNlYWdyZWVuOlwiM2NiMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiN2I2OGVlXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIwMGZhOWFcIixtZWRpdW10dXJxdW9pc2U6XCI0OGQxY2NcIixtZWRpdW12aW9sZXRyZWQ6XCJjNzE1ODVcIixtaWRuaWdodGJsdWU6XCIxOTE5NzBcIixtaW50Y3JlYW06XCJmNWZmZmFcIixtaXN0eXJvc2U6XCJmZmU0ZTFcIixtb2NjYXNpbjpcImZmZTRiNVwiLG5hdmFqb3doaXRlOlwiZmZkZWFkXCIsbmF2eTpcIjAwMDA4MFwiLG9sZGxhY2U6XCJmZGY1ZTZcIixvbGl2ZTpcIjgwODAwMFwiLG9saXZlZHJhYjpcIjZiOGUyM1wiLG9yYW5nZTpcImZmYTUwMFwiLG9yYW5nZXJlZDpcImZmNDUwMFwiLG9yY2hpZDpcImRhNzBkNlwiLHBhbGVnb2xkZW5yb2Q6XCJlZWU4YWFcIixwYWxlZ3JlZW46XCI5OGZiOThcIixwYWxldHVycXVvaXNlOlwiYWZlZWVlXCIscGFsZXZpb2xldHJlZDpcImRiNzA5M1wiLHBhcGF5YXdoaXA6XCJmZmVmZDVcIixwZWFjaHB1ZmY6XCJmZmRhYjlcIixwZXJ1OlwiY2Q4NTNmXCIscGluazpcImZmYzBjYlwiLHBsdW06XCJkZGEwZGRcIixwb3dkZXJibHVlOlwiYjBlMGU2XCIscHVycGxlOlwiODAwMDgwXCIscmViZWNjYXB1cnBsZTpcIjY2MzM5OVwiLHJlZDpcImYwMFwiLHJvc3licm93bjpcImJjOGY4ZlwiLHJveWFsYmx1ZTpcIjQxNjllMVwiLHNhZGRsZWJyb3duOlwiOGI0NTEzXCIsc2FsbW9uOlwiZmE4MDcyXCIsc2FuZHlicm93bjpcImY0YTQ2MFwiLHNlYWdyZWVuOlwiMmU4YjU3XCIsc2Vhc2hlbGw6XCJmZmY1ZWVcIixzaWVubmE6XCJhMDUyMmRcIixzaWx2ZXI6XCJjMGMwYzBcIixza3libHVlOlwiODdjZWViXCIsc2xhdGVibHVlOlwiNmE1YWNkXCIsc2xhdGVncmF5OlwiNzA4MDkwXCIsc2xhdGVncmV5OlwiNzA4MDkwXCIsc25vdzpcImZmZmFmYVwiLHNwcmluZ2dyZWVuOlwiMDBmZjdmXCIsc3RlZWxibHVlOlwiNDY4MmI0XCIsdGFuOlwiZDJiNDhjXCIsdGVhbDpcIjAwODA4MFwiLHRoaXN0bGU6XCJkOGJmZDhcIix0b21hdG86XCJmZjYzNDdcIix0dXJxdW9pc2U6XCI0MGUwZDBcIix2aW9sZXQ6XCJlZTgyZWVcIix3aGVhdDpcImY1ZGViM1wiLHdoaXRlOlwiZmZmXCIsd2hpdGVzbW9rZTpcImY1ZjVmNVwiLHllbGxvdzpcImZmMFwiLHllbGxvd2dyZWVuOlwiOWFjZDMyXCJ9LGI9bi5oZXhOYW1lcz1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIGEgaW4gZSllLmhhc093blByb3BlcnR5KGEpJiYodFtlW2FdXT1hKTtyZXR1cm4gdH0oayk7ZnVuY3Rpb24gUyhlKXtyZXR1cm4gZT1wYXJzZUZsb2F0KGUpLChpc05hTihlKXx8ZTwwfHxlPjEpJiYoZT0xKSxlfWZ1bmN0aW9uIFAoZSx0KXsoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCIuXCIpJiYxPT09cGFyc2VGbG9hdChlKX0pKGUpJiYoZT1cIjEwMCVcIik7dmFyIGE9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCIlXCIpfShlKTtyZXR1cm4gZT1NYXRoLm1pbih0LE1hdGgubWF4KDAscGFyc2VGbG9hdChlKSkpLGEmJihlPXBhcnNlSW50KGUqdCwxMCkvMTAwKSxNYXRoLmFicyhlLXQpPDFlLTY/MTplJXQvcGFyc2VGbG9hdCh0KX1mdW5jdGlvbiBDKGUpe3JldHVybiBNYXRoLm1pbigxLE1hdGgubWF4KDAsZSkpfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIHBhcnNlSW50KGUsMTYpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIDE9PWUubGVuZ3RoP1wiMFwiK2U6XCJcIitlfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIGU8PTEmJihlPTEwMCplK1wiJVwiKSxlfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIE1hdGgucm91bmQoMjU1KnBhcnNlRmxvYXQoZSkpLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBGKGUpe3JldHVybiB4KGUpLzI1NX12YXIgVyxULF8sTz0oVD1cIltcXFxcc3xcXFxcKF0rKFwiKyhXPVwiKD86Wy1cXFxcK10/XFxcXGQqXFxcXC5cXFxcZCslPyl8KD86Wy1cXFxcK10/XFxcXGQrJT8pXCIpK1wiKVssfFxcXFxzXSsoXCIrVytcIilbLHxcXFxcc10rKFwiK1crXCIpXFxcXHMqXFxcXCk/XCIsXz1cIltcXFxcc3xcXFxcKF0rKFwiK1crXCIpWyx8XFxcXHNdKyhcIitXK1wiKVssfFxcXFxzXSsoXCIrVytcIilbLHxcXFxcc10rKFwiK1crXCIpXFxcXHMqXFxcXCk/XCIse0NTU19VTklUOm5ldyBSZWdFeHAoVykscmdiOm5ldyBSZWdFeHAoXCJyZ2JcIitUKSxyZ2JhOm5ldyBSZWdFeHAoXCJyZ2JhXCIrXyksaHNsOm5ldyBSZWdFeHAoXCJoc2xcIitUKSxoc2xhOm5ldyBSZWdFeHAoXCJoc2xhXCIrXyksaHN2Om5ldyBSZWdFeHAoXCJoc3ZcIitUKSxoc3ZhOm5ldyBSZWdFeHAoXCJoc3ZhXCIrXyksaGV4MzovXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8saGV4NjovXiM/KFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC8saGV4NDovXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDg6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkL30pO2Z1bmN0aW9uIEQoZSl7cmV0dXJuISFPLkNTU19VTklULmV4ZWMoZSl9cmV0dXJuIG59KCl9fSxuPXt9O2Z1bmN0aW9uIHIoZSl7dmFyIHQ9bltlXTtpZih2b2lkIDAhPT10KXJldHVybiB0LmV4cG9ydHM7dmFyIG89bltlXT17ZXhwb3J0czp7fX07cmV0dXJuIGFbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5leHBvcnRzfXZhciBvPXt9OygoKT0+e3ZhciBlPW87T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5jcmVhdGVUaGVtZT1lLlBhbGV0dGU9ZS5Db2xvcj12b2lkIDA7dmFyIHQ9cigyMzE3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkNvbG9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQ29sb3J9fSk7dmFyIGE9cig1OTM5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlBhbGV0dGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5QYWxldHRlfX0pO3ZhciBuPXIoNjg5Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjcmVhdGVUaGVtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmNyZWF0ZVRoZW1lfX0pfSkoKTt2YXIgaT10O2Zvcih2YXIgcyBpbiBvKWlbc109b1tzXTtvLl9fZXNNb2R1bGUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSw4Nzc6KCk9Pnt9LDY3OigpPT57fSw5Nzg6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtOdDooKT0+an0pO3ZhciBuPXt9O2EucihuKSxhLmQobix7Z2V0SXRlbTooKT0+RyxyZW1vdmVJdGVtOigpPT5VLHNldEl0ZW06KCk9PiR9KTt2YXIgcj1hKDY3NSksbz1hKDcyMyk7YSgxODEpO3ZhciBpPWEoNzApO2NvbnN0IHM9YXN5bmMgZT0+e2NvbnN0IHQ9ZT9maW4uV2luZG93LndyYXBTeW5jKGUpOmZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKSxhPWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhLndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlJiZcImVudGVycHJpc2VcIj09PWEud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZX07Y29uc3QgYz0oZSx0PTApPT57bGV0IGEsbixyPSExO2NvbnN0IG89YXN5bmMgbj0+e2NvbnN0IGk9YXdhaXQgZSguLi5uKTtpZihyKXthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLHQpKSk7Y29uc3QgZT1hO3JldHVybiBhPXZvaWQgMCxyPSExLG8oZSl9cmV0dXJuIGl9O3JldHVybiguLi5lKT0+KG4/KHI9ITAsYT1lKTpuPW8oZSkuY2F0Y2goKGU9Pnt0aHJvdyBjb25zb2xlLmVycm9yKFwibWFrZURlYm91bmNlZEZ1bmNcIixlKSxlfSkpLmZpbmFsbHkoKCgpPT57bj12b2lkIDB9KSksbil9O3ZhciBkOyFmdW5jdGlvbihlKXtlLlRvcD1cInRvcFwiLGUuQmVsb3c9XCJiZWxvd1wifShkfHwoZD17fSkpO2NvbnN0IGw9YXN5bmMgZT0+e3RyeXtyZXR1cm4hIWUmJlwibWF4aW1pemVkXCI9PT1hd2FpdCBlLmdldFN0YXRlKCl9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcInBhcmVudFdpbmRvd01heGltaXplZCAtIEZhaWxlZCB0byBnZXQgcGFyZW50IHdpbmRvdyBzdGF0ZVwiLGUpLCExfX07YXN5bmMgZnVuY3Rpb24gdShlLHQsYSxuLHIsbyl7Y29uc3Qgcz0hIWUmJigwLGkuSXEpKGUpLGM9YXdhaXQoYXN5bmMoZSx0KT0+e3RyeXtyZXR1cm4gZT9hd2FpdCBlLmdldEJvdW5kcygpOnR9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcImdldFBhcmVudFdpbmRvd0JvdW5kcyAtIEZhaWxlZCB0byBnZXQgcGFyZW50IHdpbmRvdyBib3VuZHNcIixlKSx0fX0pKHMsbyk7aWYobj09PWQuQmVsb3cpe2lmKCFzfHxhd2FpdCBsKHMpKXtjb25zdCBlPXM/KGF3YWl0KDAsaS51cikoYykpLmF2YWlsYWJsZVJlY3Q6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdDtyZXR1cm57bGVmdDooMCxpLlYxKShlKS5sZWZ0LXQvMix0b3A6cj9lLmJvdHRvbS0xMjg6ZS5ib3R0b20rMTIsd2lkdGg6dCxoZWlnaHQ6YX19cmV0dXJue2xlZnQ6KDAsaS5WMSkoYykubGVmdC10LzIsdG9wOnI/Yy5ib3R0b20tMTI4OmMuYm90dG9tKzEyLHdpZHRoOnQsaGVpZ2h0OmF9fWlmKCFzfHxhd2FpdCBsKHMpKXtjb25zdCBlPXM/KGF3YWl0KDAsaS51cikoYykpLmF2YWlsYWJsZVJlY3Q6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdDtyZXR1cm57bGVmdDooMCxpLlYxKShlKS5sZWZ0LXQvMix0b3A6ZS50b3ArMjAsd2lkdGg6dCxoZWlnaHQ6YX19cmV0dXJue2xlZnQ6KDAsaS5WMSkoYykubGVmdC10LzIsdG9wOmMudG9wKzIwLHdpZHRoOnQsaGVpZ2h0OmF9fWMoKGFzeW5jIGZ1bmN0aW9uKGUsdCxhLG4scil7Y29uc3Qgbz10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9YXdhaXQgdShlLG8ud2lkdGgsby5oZWlnaHQsYSxuLHIpO2lmKDA9PT1zLndpZHRofHwwPT09cy5oZWlnaHQpcmV0dXJuO2NvbnN0IGM9KDAsaS5UdikoKTthd2FpdCBjLnNldEJvdW5kcyhzKSxhd2FpdCBjLnNob3coKTtjb25zdCBkPXNldFRpbWVvdXQoKCgpPT5jLmNsb3NlKCkpLG4/NWUzOjNlMyksbD0oKT0+e2NsZWFyVGltZW91dChkKSxjLmNsb3NlKCl9O2lmKGUpe2NvbnN0IHQ9KDAsaS5JcSkoZSk7dC5vbihcImJvdW5kcy1jaGFuZ2luZ1wiLCgoKT0+bCgpKSksdC5vbihcImJsdXJyZWRcIiwoKCk9PmwoKSkpLHQub24oXCJtYXhpbWl6ZWRcIiwoKCk9PmwoKSkpLHQub24oXCJtaW5pbWl6ZWRcIiwoKCk9PmwoKSkpLHQub24oXCJyZXN0b3JlZFwiLCgoKT0+bCgpKSl9fSksMTApO2EoMjc3KSxhKDk1Nyk7dmFyIHA9YSg0MzgpO2NvbnN0IGg9cmVxdWlyZShcImxvZGFzaC5kZWJvdW5jZVwiKTt2YXIgZixnPWEubihoKTshZnVuY3Rpb24oZSl7ZS5DdXJyZW50V29ya3NwYWNlSWQ9XCJjdXJyZW50V29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIixlLkRvY2tQb3NpdGlvbj1cIkRvY2tQb3NpdGlvblwiLGUuU2VsZWN0ZWRDb2xvclNjaGVtZT1cIlNlbGVjdGVkQ29sb3JTY2hlbWVcIixlLlRoZW1lUGFsZXR0ZVNoZWV0PVwiVGhlbWVQYWxldHRlU2hlZXRcIixlLkhhc01vdmVkU3RvcmU9XCJIYXNNb3ZlZFN0b3JlXCIsZS5QYWdlRHJhZ1N0YXRlPVwiQnJvd3NlclBhZ2VEcmFnU3RhdGVcIn0oZnx8KGY9e30pKTtjb25zdCBtPWY7ZnVuY3Rpb24gdygpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShtLk1hY2hpbmVOYW1lKT8/XCJ1bmtub3duXCJ9bGV0IHk7YXN5bmMgZnVuY3Rpb24gdigpe3JldHVybiB5fHwoeT1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSx5fXZhciBrPWEoMzMzKTtjb25zdCBiPWFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgdigpLG1hY2hpbmVOYW1lOncoKX19KSxTPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0KGFzeW5jKGUsdCk9Pih7cGFnZUlkOigwLGsuTikoKSx0aXRsZTplLGxheW91dDphd2FpdCBiKHQpLGlzUmVhZE9ubHk6ITF9KSkoZS50aXRsZSxRKGUubGF5b3V0KSk7cmV0dXJuIGUucGFuZWxzJiYodC5wYW5lbHM9ZS5wYW5lbHMubWFwKChlPT4oey4uLmUsdmlld09wdGlvbnM6SyhlLnZpZXdPcHRpb25zKX0pKSkpLHsuLi5lLC4uLnR9fTt2YXIgUD1hKDc5KSxDPWEoNzg2KTt2YXIgeD1hKDEwMik7Y29uc3QgQT0oZSx0KT0+dD9gJHt0fS0ke2UudXVpZH0tJHtlLm5hbWV9YDpgX19icm93c2VyX3dpbmRvd19fLSR7ZS51dWlkfS0ke2UubmFtZX1gLE09bmV3IE1hcCxJPShlLHQpPT57Y29uc3QgYT1BKGUsdCk7cmV0dXJuIG49YSxNLmhhcyhuKXx8TS5zZXQobiwoMCx4LkEpKG4pKSxNLmdldChuKSgpO3ZhciBufTt2YXIgRixXLFQsXyxPOyFmdW5jdGlvbihlKXtlLkNsb3NlQnJvd3NlcldpbmRvdz1cImNsb3NlLWJyb3dzZXItd2luZG93XCIsZS5RdWl0UGxhdGZvcm09XCJxdWl0LXBsYXRmb3JtXCIsZS5DbG9zZVBhZ2U9XCJjbG9zZS1wYWdlXCIsZS5BZGRUb0NoYW5uZWw9XCJhZGQtdG8tY2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJyZW1vdmUtZnJvbS1jaGFubmVsXCIsZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWw9XCJvcGVuLXNhdmUtbW9kYWwtaW50ZXJuYWxcIixlLkR1cGxpY2F0ZVBhZ2U9XCJkdXBsaWNhdGUtcGFnZVwiLGUuU2V0U2VsZWN0ZWRTY2hlbWU9XCJzZXQtc2VsZWN0ZWQtc2NoZW1lXCIsZS5TaG93QnJvd3NlckluZGljYXRvcj1cInNob3ctYnJvd3Nlci1pbmRpY2F0b3JcIixlLlNldFNlbGVjdGVkTGFuZ3VhZ2U9XCJzZXQtc2VsZWN0ZWQtbGFuZ3VhZ2VcIixlLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD1cInJlZnJlc2gtYm9va21hcmtzXCIsZS5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbD1cImdldC1sYXlvdXRzLXdpdGgtc2VsZWN0ZWQtdmlld3NcIixlLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9XCJmb2N1cy1hbmQtZXhwYW5kLXNlYXJjaFwifShGfHwoRj17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0UGFnZXM9XCJnZXQtcGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJnZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaC1wYWdlcy1mcm9tLXdpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cInNldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5SZW5hbWVQYWdlPVwicmVuYW1lLXBhZ2VcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXItcGFnZXMtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZS1wYWdlLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucz1cInVwZGF0ZS1wYWdlcy13aW5kb3ctb3B0aW9uc1wiLGUuSXNEZXRhY2hpbmdQYWdlcz1cImlzLWRldGFjaGluZy1wYWdlc1wiLGUuSXNBY3RpdmVQYWdlQ2hhbmdpbmc9XCJpcy1hY3RpdmUtcGFnZS1jaGFuZ2luZ1wifShXfHwoVz17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0QXBwcz1cImdldC1hcHBzXCIsZS5HZXRDdXJhdGVkQ29udGVudD1cImdldC1jdXJhdGVkLWNvbnRlbnRcIixlLkdldFJlY2VudGx5VmlzaXRlZD1cImdldC1yZWNlbnRseS12aXNpdGVkXCIsZS5HZXRTZWFyY2hQcm92aWRlcnM9XCJnZXQtc2VhcmNoLXByb3ZpZGVyc1wifShUfHwoVD17fSkpLGZ1bmN0aW9uKGUpe2UuQ3JlYXRlQm9va21hcmtOb2RlPVwiY3JlYXRlLWJvb2ttYXJrLW5vZGVcIixlLkdldEJvb2ttYXJrTm9kZT1cImdldC1ib29rbWFyay1ub2RlXCIsZS5TZWFyY2hCb29rbWFya05vZGVzPVwic2VhcmNoLWJvb2ttYXJrLW5vZGVzXCIsZS5VcGRhdGVCb29rbWFya05vZGU9XCJ1cGRhdGUtYm9va21hcmstbm9kZVwiLGUuRGVsZXRlQm9va21hcmtOb2RlPVwiZGVsZXRlLWJvb2ttYXJrLW5vZGVcIn0oX3x8KF89e30pKSxmdW5jdGlvbihlKXtlLlVwZGF0ZUZhdm9yaXRlRW50cmllcz1cInVwZGF0ZS1mYXZvcml0ZS1lbnRyaWVzXCIsZS5VcGRhdGVDb250ZW50TWVudT1cInVwZGF0ZS1jb250ZW50LW1lbnVcIixlLk5hdmlnYXRlQ29udGVudE1lbnU9XCJuYXZpZ2F0ZS1jb250ZW50LW1lbnVcIn0oT3x8KE89e30pKTtjb25zdCBEPXsuLi5GLC4uLlcsLi4uT30sRT0oMCx4LkEpKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbj8ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1ib29rbWFya3NgKSxSPWU9Pih7aWRlbnRpdHk6ZSxvcGVuZmluV2luZG93OmZpbi5XaW5kb3cud3JhcFN5bmMoZSksX2Jvb2ttYXJrczp7X2NyZWF0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEUoKSkuZGlzcGF0Y2goXy5DcmVhdGVCb29rbWFya05vZGUsZSkpKGUpLF9nZXRCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBFKCkpLmRpc3BhdGNoKF8uR2V0Qm9va21hcmtOb2RlLGUpKShlKSxfc2VhcmNoQm9va21hcmtOb2Rlczphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEUoKSkuZGlzcGF0Y2goXy5TZWFyY2hCb29rbWFya05vZGVzLGUpKShlKSxfdXBkYXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgRSgpKS5kaXNwYXRjaChfLlVwZGF0ZUJvb2ttYXJrTm9kZSxlKSkoZSksX2RlbGV0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEUoKSkuZGlzcGF0Y2goXy5EZWxldGVCb29rbWFya05vZGUsZSkpKGUpfSxnZXRQYWdlczphc3luYygpPT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRQYWdlc0ZvcldpbmRvdyxlKSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkdldFBhZ2VGb3JXaW5kb3cse2lkZW50aXR5OmUscGFnZUlkOnR9KSxhZGRQYWdlOmFzeW5jIHQ9PmooKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9hZGRQYWdlKHQpLF9hZGRQYWdlOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0KDAsUC5iVykoZSkscj17aWRlbnRpdHk6ZSxwYWdlOnQsaW5zZXJ0aW9uSW5kZXg6YT8uaW5kZXgsbXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcjphPy5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yfTtyZXR1cm4gbi5kaXNwYXRjaChQLk9GLkFkZFBhZ2Uscil9LHJlbW92ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuRGV0YWNoUGFnZXNGcm9tV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZHM6W3RdfSkscmVwYXJlbnRQYWdlOmFzeW5jIHQ9PmooKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9yZXBhcmVudFBhZ2UodCksX3JlcGFyZW50UGFnZTphc3luYyB0PT57Y29uc3R7cGFnZUlkOmF9PXQsbj1hd2FpdCgwLFAuYlcpKGUpLHI9KGF3YWl0IG4uZGlzcGF0Y2goUC5PRi5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCkpLmZpbmQoKCh7cGFnZUlkOmV9KT0+ZT09PWEpKTtpZighcil0aHJvdyBuZXcgRXJyb3IoYFJlcGFyZW50IFBhZ2UgRXJyb3I6IFRhcmdldCBwYWdlIHdpdGggcGFnZUlkICR7YX0gbm90IGZvdW5kYCk7ci5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yPVwicmVwYXJlbnRcIjtjb25zdCBvPXtpZGVudGl0eTplLHBhZ2VzOltyXSxpbnNlcnRpb25JbmRleDp0LmluZGV4fTtyZXR1cm4gbi5kaXNwYXRjaChQLk9GLkF0dGFjaFBhZ2VzVG9XaW5kb3csbyl9LHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuU2V0QWN0aXZlUGFnZSx7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxQLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goUC5PRi5VcGRhdGVQYWdlRm9yV2luZG93LHQpfSxyZW9yZGVyUGFnZXM6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxQLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goUC5PRi5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxQLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goUC5PRi5PcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0scmVwbGFjZVRvb2xiYXJPcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCgwLFAuYlcpKGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCgwLFAuYlcpKGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6dH19KX0sdXBkYXRlQnJvd3NlcldpbmRvd1RpdGxlOmFzeW5jIHQ9Pntjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7XCJzdHJpbmdcIiE9dHlwZW9mIHQ/YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7dGl0bGU6dH19KTpjb25zb2xlLndhcm4oXCJUeXBlIHN0cmluZyBmb3Igd2luZG93IHRpdGxlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgV2luZG93VGl0bGUgdHlwZSBpbnN0ZWFkXCIsdCl9LF9vcGVuVmlld1RhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsUC5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKFAuT0YuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblBhZ2VUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLFAuYlcpKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChQLk9GLk9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5TYXZlTW9kYWw6YXN5bmMgdD0+e2F3YWl0KDAsUC5iVykoZSk7cmV0dXJuKGF3YWl0IEkoZSkpLmRpc3BhdGNoKEQuT3BlblNhdmVNb2RhbEludGVybmFsLHQpfSxfZ2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzOmFzeW5jKCk9Pihhd2FpdCBJKGUpKS5kaXNwYXRjaChELkdldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3c0ludGVybmFsLGUpLF9vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsUC5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKFAuT0YuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLHQpfSxfYWRkRGVmYXVsdFBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxQLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goUC5PRi5BZGREZWZhdWx0UGFnZSx0KX0sX3RyYWNrUmVtb3ZlZFRhYjphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5UcmFja1JlbW92ZWRUYWJJbnRlcm5hbCx0KSxfcmVzdG9yZVJlbW92ZWRUYWI6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuUmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbCx0KSxfdHJhY2tWaXNpdGVkU2l0ZTphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5UcmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWwsdCksX2dldFJlY2VudGx5VmlzaXRlZFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwsdCksX2dldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXM6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9zZWFyY2hTaXRlczphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5TZWFyY2hTaXRlc0ludGVybmFsLHtpZGVudGl0eTplLHJlcTp0fSksX2dldFNlYXJjaFByb3ZpZGVyczphc3luYygpPT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbCx7aWRlbnRpdHk6ZX0pLF9nZXRDdXJhdGVkQ29udGVudDphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRDdXJhdGVkQ29udGVudEludGVybmFsLHtpZGVudGl0eTplLHJlcTp0fSksX2hhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWwsdCl9KSxCPWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm57d3JhcFN5bmM6ZT0+UihlKSxjcmVhdGVXaW5kb3c6YXN5bmMgYT0+e2NvbnN0IG49KCgpPT57Y29uc3QgZT1gYnJvd3Nlci13aW5kb3ctc3RhcnR1cC0keygwLGsuTikoKX1gO3JldHVybiBDLkEubWFya1N0YXJ0KGUpLGV9KSgpOyhlPT57ZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkfSkub25jZShcIndpbmRvdy1zaG93blwiLCgoKT0+e0MuQS5tYXJrQW5kTWVhc3VyZShcImJyb3dzZXItd2luZG93LXNob3duXCIsZSl9KSl9KShuKSxhd2FpdCgwLFAuYlcpKGUpO2NvbnN0IHI9YXdhaXQgdC5jcmVhdGVXaW5kb3coYSk7cmV0dXJuKGU9PntDLkEubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLXdpbmRvdy1zdGFydGVkXCIsZSl9KShuKSxSKHIuaWRlbnRpdHkpfSxnZXRBbGxBdHRhY2hlZFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSxnZXRBbGxXaW5kb3dzOmFzeW5jKCk9Pnthd2FpdCgwLFAuYlcpKGUpO3JldHVybihhd2FpdCgwLGkuSW8pKCkpLm1hcCgoZT0+UihlLmlkZW50aXR5KSkpfSxnZXRVbmlxdWVQYWdlVGl0bGU6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0VW5pcXVlUGFnZVRpdGxlLHQpLGdldExhc3RGb2N1c2VkV2luZG93OmFzeW5jKCk9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx2b2lkIDApLGdldFBhZ2VCeVZpZXdJZGVudGl0eTphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRQYWdlQnlWaWV3SWRlbnRpdHksdCl9fSxOPWU9Pih7Y3JlYXRlUGFnZTphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxkZWxldGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuYlcpKGUpKS5kaXNwYXRjaChQLk9GLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsLHQpLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRTYXZlZFBhZ2UsdCksZ2V0UGFnZXM6YXN5bmMgdD0+KGF3YWl0KDAsUC5iVykoZSkpLmRpc3BhdGNoKFAuT0YuR2V0U2F2ZWRQYWdlcyx0KSxzYXZlUGFnZTphc3luYyB0PT4oYXdhaXQoMCxQLmJXKShlKSkuZGlzcGF0Y2goUC5PRi5TYXZlUGFnZSx0KSxjcmVhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5DcmVhdGVTYXZlZFdvcmtzcGFjZSx0KSxkZWxldGVXb3Jrc3BhY2U6YXN5bmMgdD0+e2NvbnN0IGE9aigpLG49YXdhaXQgYS5nZXRDdXJyZW50V29ya3NwYWNlKCk7aWYobi53b3Jrc3BhY2VJZD09PXQpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZGVsZXRlIGN1cnJlbnQgYWN0aXZlIHdvcmtzcGFjZSAke24udGl0bGV9YCk7cmV0dXJuKGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5EZWxldGVTYXZlZFdvcmtzcGFjZSx0KX0sdXBkYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuR2V0U2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlczphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkdldFNhdmVkV29ya3NwYWNlcyx0KSxzYXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuU2F2ZVdvcmtzcGFjZSx0KSxnZXREb2NrUHJvdmlkZXJDb25maWc6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5HZXREb2NrUHJvdmlkZXJDb25maWcsdCksc2F2ZURvY2tQcm92aWRlckNvbmZpZzphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlNhdmVEb2NrUHJvdmlkZXJDb25maWcsdCl9KTt2YXIgTDshZnVuY3Rpb24oZSl7ZS5VcGRhdGVQbGF0Zm9ybVRoZW1lU2NoZW1lPVwidXBkYXRlLXBsYXRmb3JtLXRoZW1lLXNjaGVtZVwifShMfHwoTD17fSkpOygwLHguQSkoXCJvZi13b3Jrc3BhY2Utbm90aWZpY2F0aW9ucy1zeW5jXCIpO2EoNjk1KTtjb25zdCAkPShlLHQpPT57bG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7by4kaH0tJHtlfWAsdCl9LEc9ZT0+bG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7by4kaH0tJHtlfWApLFU9ZT0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYCR7by4kaH0tJHtlfWApLFY9ci5xVC5TeXN0ZW0sej1lPT5PYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKChlLFt0LGFdKT0+YCR7ZX0tLXdvcmtzcGFjZS1wYWxldHRlLSR7dH06ICR7YX07YCksXCJcIiksSD0oZSx0KT0+KHtzZWxlY3RlZFRhYjpcImRhcmtcIj09PXQ/ZS5iYWNrZ3JvdW5kMzplLmJhY2tncm91bmQxfSk7bmV3IGNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXJTdG9yYWdlPWUsdGhpcy5nZXRWYXJzQnlTY2hlbWU9ZT0+XCJkYXJrXCI9PT1lP3RoaXMuZGFya1BhbGV0dGVWYXJzOnRoaXMubGlnaHRQYWxldHRlVmFycyx0aGlzLnNldFdvcmtzcGFjZVN0b3JhZ2VQcm94eT1lPT57dGhpcy53b3Jrc3BhY2VTdG9yYWdlPWV9LHRoaXMudHJ5U3luY2hyb25pemVXb3Jrc3BhY2VTdG9yYWdlPWFzeW5jKCk9PntpZih0aGlzLndvcmtzcGFjZVN0b3JhZ2Upe2NvbnN0IGU9dGhpcy5nZXRTY2hlbWUoKTtpZihhd2FpdCB0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShtLlNlbGVjdGVkQ29sb3JTY2hlbWUsZSksdGhpcy5kYXJrUGFsZXR0ZVZhcnMmJnRoaXMubGlnaHRQYWxldHRlVmFycylpZihcImRhcmtcIj09PWV8fFwibGlnaHRcIj09PWUpYXdhaXQgdGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0obS5UaGVtZVBhbGV0dGVTaGVldCxgOnJvb3R7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShlKX19YCk7ZWxzZXtjb25zdCBlPWBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXs6cm9vdCB7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShcImRhcmtcIil9fX1gLHQ9YEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KXs6cm9vdHske3RoaXMuZ2V0VmFyc0J5U2NoZW1lKFwibGlnaHRcIil9fX1gO2F3YWl0IHRoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKG0uVGhlbWVQYWxldHRlU2hlZXQsYCR7dH0ke2V9YCl9fX0sdGhpcy5zZXRQYWxldHRlcz1hc3luYyh7bGlnaHQ6ZSxkYXJrOnR9KT0+e3RoaXMubGlnaHRQYWxldHRlVmFycz16KHsuLi5lLC4uLkgoZSxcImxpZ2h0XCIpfSksdGhpcy5kYXJrUGFsZXR0ZVZhcnM9eih7Li4udCwuLi5IKHQsXCJkYXJrXCIpfSl9fXNldFNjaGVtZShlKXt0aGlzLnByb3ZpZGVyU3RvcmFnZS5zZXRJdGVtKG0uU2VsZWN0ZWRDb2xvclNjaGVtZSxlKX1nZXRTY2hlbWUoKXtyZXR1cm4gbnVsbD09PXRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0obS5TZWxlY3RlZENvbG9yU2NoZW1lKSYmdGhpcy5wcm92aWRlclN0b3JhZ2Uuc2V0SXRlbShtLlNlbGVjdGVkQ29sb3JTY2hlbWUsViksdGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShtLlNlbGVjdGVkQ29sb3JTY2hlbWUpfX0obik7Y29uc3QgcT1lPT4oe2dldFRoZW1lczphc3luYygpPT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkdldFRoZW1lcyx2b2lkIDApLHNldFNlbGVjdGVkU2NoZW1lOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuU2V0U2VsZWN0ZWRTY2hlbWUsdCksZ2V0U2VsZWN0ZWRTY2hlbWU6YXN5bmMoKT0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRTZWxlY3RlZFNjaGVtZSx2b2lkIDApfSksaj0oKT0+KGU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtsZXQgYTtjb25zdCBuPU9iamVjdC5hc3NpZ24odCx7YXBwbHlTbmFwc2hvdDphc3luYyh0LGEpPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiF0Py53aW5kb3dzKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIGJyb3dzZXIgc25hcHNob3RcIik7cmV0dXJuIGZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5hcHBseVNuYXBzaG90KHQsYSl9LGdldFNuYXBzaG90OigpPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0U25hcHNob3QoKS50aGVuKChlPT5lKSksZ2V0Vmlld1NuYXBzaG90OnQ9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRWaWV3U25hcHNob3QodCksY3JlYXRlVmlldzoodCxhLG4pPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuY3JlYXRlVmlldyh0LGEsbiksbGF1bmNoQXBwOmFzeW5jIHQ9Pihjb25zb2xlLndhcm4oXCJsYXVuY2hBcHAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBjcmVhdGVWaWV3IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNhZGQtYS12aWV3LXRvLWFuLWV4aXN0aW5nLXdpbmRvdyBvciAgY3JlYXRlV2luZG93IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNjcmVhdGUtYS1wbGF0Zm9ybS13aW5kb3cgaW5zdGVhZC5cIiksdC50YXJnZXR8fCh0LnRhcmdldD17dXVpZDpvLiRoLG5hbWU6by52TCxlbnRpdHlUeXBlOm8uZlR8fFwidW5rbm93blwifSksKGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5MYXVuY2hBcHAsdCkpLF9pbnZva2VDdXN0b21BY3Rpb246YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQoMCxQLk4pKGUpLG89e2FjdGlvbklkOnQscGF5bG9hZDp7Li4uYSxjYWxsZXJUeXBlOmEuY2FsbGVyVHlwZXx8ci52Yy5BUEl9fTtyZXR1cm4gbi5kaXNwYXRjaChQLk9GLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsLG8pfSxfcmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZzphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbCx0KSxnZXRDdXJyZW50V29ya3NwYWNlOmFzeW5jKCk9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuR2V0Q3VycmVudFdvcmtzcGFjZSx2b2lkIDApLGFwcGx5V29ya3NwYWNlOmFzeW5jKHQsYSk9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuQXBwbHlXb3Jrc3BhY2Usey4uLnQsb3B0aW9uczphfSkscmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbCx0KSxzZXRBY3RpdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5TZXRBY3RpdmVXb3Jrc3BhY2UsdCksZ2V0TGFuZ3VhZ2U6YXN5bmMoKT0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5HZXRMYW5ndWFnZSksX2dldExhbmd1YWdlUmVzb3VyY2VzOmFzeW5jKCk9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbCksc2V0TGFuZ3VhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5TZXRMYW5ndWFnZSx0KSxfcmFpc2VBbmFseXRpY3M6YXN5bmMgdD0+e2lmKGF8fChhPWF3YWl0KDAsUC5LWikoZSkpLFwib2JqZWN0XCI9PXR5cGVvZiBhJiZhPy5hbmFseXRpY3M/LmlzU3VwcG9ydGVkKXJldHVybihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuQW5hbHl0aWNzLHQpO2UudXVpZH0sZ2V0Tm90aWZpY2F0aW9uc0NvbmZpZzphc3luYygpPT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkdldE5vdGlmaWNhdGlvbnNDb25maWcpLF9yZWZyZXNoQm9va21hcmtzSW50ZXJuYWw6YXN5bmMoKT0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWwpLF9sYXVuY2hCb29rbWFya0ludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuTGF1bmNoQm9va21hcmtJbnRlcm5hbCx0KSxfdXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuVXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsLHQpLF91cGRhdGVDb250ZW50TWVudUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuVXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbCx0KSxfbGF1bmNoRG9ja0VudHJ5SW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5MYXVuY2hEb2NrRW50cnlJbnRlcm5hbCx0KSxfc2V0RG9ja0Zhdm9yaXRlc0ludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuU2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWwsdCksX3NldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5TZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsLHQpLF9yZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLlJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsLHQpLF9hZGREb2NrRmF2b3JpdGVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkFkZERvY2tGYXZvcml0ZUludGVybmFsLHQpLF9uYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5OYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWwsdCksX29wZW5Eb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWw6YXN5bmMoKT0+KGF3YWl0KDAsUC5OKShlKSkuZGlzcGF0Y2goUC5PRi5HZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWwpLF9oYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLFAuTikoZSkpLmRpc3BhdGNoKFAuT0YuSGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbCx0KSxfZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxQLk4pKGUpKS5kaXNwYXRjaChQLk9GLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWwpLFRoZW1lOnEoZSksQnJvd3NlcjpCKGUpLFN0b3JhZ2U6TihlKX0pO3JldHVybiBufSkoZmluLm1lLmlkZW50aXR5KTtjb25zdCBYPShlLHQpPT5lLmNvbnRlbnQ/ey4uLmUsY29udGVudDplLmNvbnRlbnQubWFwKChlPT5YKGUsdCkpKX06ey4uLmUsY29tcG9uZW50U3RhdGU6dChlLmNvbXBvbmVudFN0YXRlKX0sSz1lPT4oey4uLmUsbmFtZTp2b2lkIDB9KSxRPWU9Pntjb25zdCB0PXsuLi5lfTtyZXR1cm4gWCh0LEspfSxaPWU9Pntjb25zdCB0PVtdO3JldHVybihlJiZBcnJheS5pc0FycmF5KGUpP2U6W10pLmZvckVhY2goKGU9PntpZihcImNvbXBvbmVudFwiPT09ZS50eXBlKXJldHVybiB0LnB1c2goZS5jb21wb25lbnRTdGF0ZSk7Y29uc3QgYT1aKGUuY29udGVudCk7dC5wdXNoKC4uLmEpfSkpLHR9O25ldyBNYXAsbmV3IE1hcDtjb25zdCBZPWFzeW5jKGUsdCk9Pntjb25zdCBhPShlPT57Y29uc3QgdD1maW4uUGxhdGZvcm0uTGF5b3V0LndyYXBTeW5jKGUpO3JldHVybntzaG93OmFzeW5jKCk9Pntjb25zdCBhPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm4sZGltZW5zaW9uczpyfT1hLG89YXdhaXQgcyhlKTthd2FpdCB0LnJlcGxhY2Uoey4uLmEsc2V0dGluZ3M6ey4uLm4saGFzSGVhZGVyczohMCxyZW9yZGVyRW5hYmxlZDohMH0sZGltZW5zaW9uczp7Li4ucixoZWFkZXJIZWlnaHQ6bz8yODozMH19KX0saGlkZTphc3luYyBlPT57Y29uc3QgYT1hd2FpdCB0LmdldENvbmZpZygpLHtzZXR0aW5nczpuLGRpbWVuc2lvbnM6cn09YXdhaXQgYTthd2FpdCB0LnJlcGxhY2Uoey4uLmEsc2V0dGluZ3M6ey4uLm4saGFzSGVhZGVyczohMSxyZW9yZGVyRW5hYmxlZDplPy5zZXR0aW5ncz8ucmVvcmRlckVuYWJsZWQ/PyExfSxkaW1lbnNpb25zOnsuLi5yLGhlYWRlckhlaWdodDowfX0pfSxpc1Nob3dpbmdUYWJzOmFzeW5jKCk9Pnt0cnl7Y29uc3QgZT1hd2FpdCB0LmdldENvbmZpZygpLHtzZXR0aW5nczphfT1hd2FpdCBlO3JldHVybiBhLmhhc0hlYWRlcnN9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gZ2V0IGxheW91dCBjb25maWc6IFwiLGUpLCEwfX19fSkoey4uLmkuJHAsbGF5b3V0TmFtZTplLmxheW91dENvbnRhaW5lcktleX0pLG49YXdhaXQgYS5pc1Nob3dpbmdUYWJzKCk7dD4xP258fGF3YWl0IGEuc2hvdygpOjE9PT10JiZuJiZhd2FpdCBhLmhpZGUoe3NldHRpbmdzOntyZW9yZGVyRW5hYmxlZDohMH19KX0sSj0oZygpKChhc3luYyBlPT57dHJ5e2NvbnN0IHQ9YXdhaXQoYXN5bmMgZT0+ZmluLlBsYXRmb3JtLkxheW91dC53cmFwU3luYyh7Li4uZmluLm1lLmlkZW50aXR5LGxheW91dE5hbWU6ZX0pLmdldENvbmZpZygpKShlLmxheW91dENvbnRhaW5lcktleSksYT10LmNvbnRlbnQ/Wih0LmNvbnRlbnQpOltdLG49YS5sZW5ndGg7bj4xPyhlPT57XCJtdWx0aVZpZXdcIiE9PWUuYXR0YWNoZWRQYWdlVHlwZSYmaigpLkJyb3dzZXIud3JhcFN5bmMoaS4kcCkudXBkYXRlUGFnZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6e3NpbmdsZVZpZXdOYW1lOm51bGwsYXR0YWNoZWRQYWdlVHlwZTpcIm11bHRpVmlld1wifX0pfSkoZSk6MT09PW4mJihhc3luYyhlLHQpPT57Y29uc3QgYT1qKCkuQnJvd3Nlci53cmFwU3luYyhpLiRwKTtpZihcInNpbmdsZVZpZXdcIiE9PWUuYXR0YWNoZWRQYWdlVHlwZSl7Y29uc3Qgbj1hd2FpdCBTKGUpLHI9YXdhaXQgaigpLkJyb3dzZXIuZ2V0VW5pcXVlUGFnZVRpdGxlKCk7ZGVsZXRlIG4ubGF5b3V0O2NvbnN0IG89ey4uLm4sc2luZ2xlVmlld05hbWU6dCx0aXRsZTpyLGhhc1Vuc2F2ZWRDaGFuZ2VzOiExLGF0dGFjaGVkUGFnZVR5cGU6XCJzaW5nbGVWaWV3XCJ9O2F3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6b30pfX0pKGUsYVswXS5uYW1lKSxhd2FpdCBZKGUsbil9Y2F0Y2goZSl7fX0pLDUwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSkscmVxdWlyZShcInJlYWN0LWkxOG5leHRcIikscmVxdWlyZShcImkxOG5leHRcIikpO2EubihKKSgpLnQ7bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5xdWV1ZT1bXSx0aGlzLmxvY2tlZD0hMX1sb2NrKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlPT57dGhpcy5sb2NrZWQ/dGhpcy5xdWV1ZS5wdXNoKGUpOih0aGlzLmxvY2tlZD0hMCxlKCkpfSkpfXVubG9jaygpe2lmKHRoaXMucXVldWUubGVuZ3RoPjApe2NvbnN0IGU9dGhpcy5xdWV1ZS5zaGlmdCgpO2UmJmUoKX1lbHNlIHRoaXMubG9ja2VkPSExfX07bmV3IE1hcDtjb25zdCBlZT0oKGUsdCk9Pntjb25zdCBhPWU7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm18fChhLndvcmtzcGFjZVBsYXRmb3JtPXt9KSxhLndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM9e3NldEFzRm9yZWdyb3VuZDohIXQsZGVmZXJTaG93RW5hYmxlZDohMCxhdXRvU2hvdzphLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8YS53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uYXV0b1Nob3d8fHZvaWQgMD09PWEuYXV0b1Nob3d8fGEuYXV0b1Nob3d9LGEuYXV0b1Nob3c9ITEsYX0pKHthbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxmcmFtZTohMSxyZXNpemFibGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExfSk7IWZ1bmN0aW9uKGU9ZWUpe2NvbnN0IHQ9bmV3IE1hcH0oKTthKDUyMyk7ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gYXN5bmMoYSwuLi5uKT0+e2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSksdCYmYXdhaXQgdCh7ZXZlbnQ6YSxwYXlsb2FkOm59KX19ZnVuY3Rpb24gYWUoZSx0KXtyZXR1cm4gdCYmdCgodD0+e2NvbnN0e2V2ZW50OmEscGF5bG9hZDpufT10O2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSl9KSksKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KS5hZGQoYSl9fWZ1bmN0aW9uIG5lKGUpe3JldHVybih0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCk7Y29uc3Qgbj1lLmdldCh0KSxyPSguLi5lKT0+e2EoLi4uZSksbi5kZWxldGUocil9O24uYWRkKHIpfX1mdW5jdGlvbiByZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpJiZlLmdldCh0KS5kZWxldGUoYSl9fWkuUS5Ccm93c2VyTWVudTsoZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgTWFwO3RlKHQsKHQ9Pm8uY0kmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2goZSx0KSkpLGFlKHQsKHQ9Pm8uY0kmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUudXVpZH0sZSx0KSkpLHJlKHQpLG5lKHQpfSkoXCJ3aW5kb3cubWVudVwiKSxjKCgoKT0+KDAscC52MSkoKS5nZXRDaGlsZFdpbmRvd3MoKSksNTAwKTtuZXcgTWFwO25ldyBNYXA7ZygpKChhc3luYygpPT57Y29uc3QgZT1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5BcHBsaWNhdGlvbi5nZXRDaGlsZFdpbmRvd3MoKTtsZXQgdCxhPSExO2Zvcihjb25zdCBuIG9mIGUpaWYobi5pZGVudGl0eS5uYW1lPT09aS5RLkJyb3dzZXJNZW51fHxuLmlkZW50aXR5Lm5hbWU9PT1pLlEuQnJvd3NlclNhdmVNZW51P3Q9bjphd2FpdCgwLGkuaGIpKG4uaWRlbnRpdHkpJiYoYT0hMCksYSlicmVhazshYSYmdCYmdC5jbG9zZSgpfSksMTAwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSk7dmFyIG9lLGllOyFmdW5jdGlvbihlKXtlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlQXNcIn0ob2V8fChvZT17fSkpLGZ1bmN0aW9uKGUpe2UuR2xvYmFsTWVudT1cImdsb2JhbC1tZW51XCIsZS5Db250ZXh0TWVudT1cImNvbnRleHQtbWVudVwiLGUuUmVuYW1lU3VwZXJ0YWI9XCJyZW5hbWUtc3VwZXJ0YWJcIixlLkFkZEVkaXRCb29rbWFyaz1cImFkZC1lZGl0LWJvb2ttYXJrXCIsZS5Ecm9wZG93bk1lbnU9XCJkcm9wZG93bi1tZW51XCJ9KGllfHwoaWU9e30pKTtjb25zdCBzZT1yZXF1aXJlKFwiZGV4aWVcIiksY2U9ZT0+ZStcIi1cIitmaW4ubWUudXVpZCxkZT0oZSx0KT0+e2NvbnN0IGE9by5BVCYmby5jSSYmbmV3IHNlLkRleGllKGUpO3JldHVybiBhJiZhLnZlcnNpb24oLjEpLnN0b3Jlcyh7W3RdOlwiXCJ9KSxhfSxsZT0oZSx0KT0+e2NvbnN0IGE9ZGUoY2UoZSksdCksbj1kZShlLHQpO2lmKCFhfHwhbil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbWlncmF0ZSBzdG9yZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4oYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1HKG0uSGFzTW92ZWRTdG9yZSkscj1uP0pTT04ucGFyc2Uobik6e307aWYociYmclthXSlyZXR1cm47clthXT0hMCwkKG0uSGFzTW92ZWRTdG9yZSxKU09OLnN0cmluZ2lmeShyKSk7Y29uc3Qgbz1hd2FpdCBlW2FdLnRvQXJyYXkoKTthd2FpdCB0W2FdLmJ1bGtQdXQobyl9KShuLGEsZSksYX0sdWU9XCJ2aXNpdGVkLXNpdGVzXCIscGU9XCJyZW1vdmVkLXRhYi1zdGFja1wiLGhlPShvLkFUJiZvLmNJJiZsZShcIm9wZW5maW4taG9tZS1wYWdlc1wiLFwicGFnZXNcIiksby5BVCYmby5jSSYmbmV3IHNlLkRleGllKGNlKFwib3BlbmZpbi1lbnRlcnByaXNlLXNpdGUtaGlzdG9yeVwiKSkpO2hlJiZoZS52ZXJzaW9uKC4xKS5zdG9yZXMoe1t1ZV06XCJpZCwgdXJsXCJ9KTtjb25zdCBmZT1vLkFUJiZvLmNJJiZuZXcgc2UuRGV4aWUoY2UoXCJvcGVuZmluLWVudGVycHJpc2UtdGFiLWhpc3RvcnlcIikpO2ZlJiZmZS52ZXJzaW9uKC4xKS5zdG9yZXMoe1twZV06XCJcIn0pO3ZhciBnZTshZnVuY3Rpb24oZSl7ZS5MYWJlbD1cIm5vcm1hbFwiLGUuU2VwYXJhdG9yPVwic2VwYXJhdG9yXCIsZS5TdWJtZW51PVwic3VibWVudVwiLGUuQ2hlY2tib3g9XCJjaGVja2JveFwifShnZXx8KGdlPXt9KSk7Z2UuU2VwYXJhdG9yO3ZhciBtZTshZnVuY3Rpb24oZSl7ZVtlLlRvcExlZnQ9MF09XCJUb3BMZWZ0XCIsZVtlLlRvcFJpZ2h0PTFdPVwiVG9wUmlnaHRcIixlW2UuQm90dG9tTGVmdD0yXT1cIkJvdHRvbUxlZnRcIixlW2UuQm90dG9tUmlnaHQ9M109XCJCb3R0b21SaWdodFwiLGVbZS5DZW50ZXI9NF09XCJDZW50ZXJcIn0obWV8fChtZT17fSkpOygwLHguQSkoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluPy5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLWRvY2tgKTtjb25zdCB3ZT1cImRvY2stcHJvdmlkZXItY29uZmlnc1wiLHllPW8uQVQmJm8uY0kmJm5ldyBzZS5EZXhpZShjZShcImRvY2stcHJvdmlkZXItY29uZmlnc1wiKSk7eWUmJnllLnZlcnNpb24oLjEpLnN0b3Jlcyh7W3dlXTpcIlwifSk7Y29uc3QgdmU9XCJ3b3Jrc3BhY2VzXCI7by5BVCYmby5jSSYmbGUoXCJvcGVuZmluLXdvcmtzcGFjZS1wbGF0Zm9ybS13b3Jrc3BhY2VzXCIsdmUpO2EoMjUwKTtpLiRwLnV1aWQsaS5RLkJyb3dzZXJBZGRyZXNzU2VhcmNoUHJlZml4O2EoMTc5KX0sNjc1OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7cVQ6KCk9Pm8sdmM6KCk9Pmh9KTt2YXIgbixyLG8saSxzLGMsZCxsLHUscCxoO2EoMTc5KSxhKDI1MCk7IWZ1bmN0aW9uKGUpe2UuVXJsQ2hhbmdlPVwiVVJMX0NIQU5HRVwiLGUuVmlld0FkZGVkPVwiVklFV19BRERFRFwiLGUuVmlld1JlbW92ZWQ9XCJWSUVXX1JFTU9WRURcIixlLlBhZ2VDb250ZXh0QWRkZWQ9XCJQQUdFX0NPTlRFWFRfQURERURcIixlLlBhZ2VDb250ZXh0UmVtb3ZlZD1cIlBBR0VfQ09OVEVYVF9SRU1PVkVEXCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdXaW5kb3c9XCJOZXdXaW5kb3dcIixlLk5ld1BhZ2U9XCJOZXdQYWdlXCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ2xvc2VXaW5kb3c9XCJDbG9zZVdpbmRvd1wiLGUuUmVzdG9yZUNoYW5nZXM9XCJSZXN0b3JlQ2hhbmdlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVuYW1lV29ya3NwYWNlPVwiUmVuYW1lV29ya3NwYWNlXCIsZS5Td2l0Y2hXb3Jrc3BhY2U9XCJTd2l0Y2hXb3Jrc3BhY2VcIixlLkRlbGV0ZVdvcmtzcGFjZT1cIkRlbGV0ZVdvcmtzcGFjZVwiLGUuRG93bmxvYWRzPVwiRG93bmxvYWRzXCIsZS5PcGVuU3RvcmVmcm9udD1cIk9wZW5TdG9yZWZyb250XCIsZS5BcHBlYXJhbmNlPVwiQXBwZWFyYW5jZVwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTGlnaHQ9XCJsaWdodFwiLGUuRGFyaz1cImRhcmtcIixlLlN5c3RlbT1cInN5c3RlbVwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlIEFzXCIsZS5OZXdQYWdlPVwiTmV3IFBhZ2VcIixlLkRlbGV0ZVBhZ2U9XCJEZWxldGUgUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZWZyZXNoPVwiUmVmcmVzaFwiLGUuQ2xvc2VPdGhlcnM9XCJDbG9zZSBvdGhlcnNcIixlLkRlbGV0ZT1cIkRlbGV0ZVwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGl8fChpPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NrPVwiTG9ja1wiLGUuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5BZGRUb0NoYW5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUGluPVwiUGluXCJ9KHN8fChzPXt9KSksZnVuY3Rpb24oZSl7ZS5FZGl0TmFtZT1cIkVkaXQgTmFtZVwiLGUuTW92ZT1cIk1vdmVcIixlLkRlbGV0ZT1cIkRlbGV0ZVwifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3Vmlldz1cIk5ld1ZpZXdcIixlLkR1cGxpY2F0ZVZpZXdzPVwiRHVwbGljYXRlVmlld1wiLGUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcj1cIk9wZW5XaXRoRGVmYXVsdEJyb3dzZXJcIixlLlJlbG9hZFZpZXdzPVwiUmVsb2FkVGFiXCIsZS5DbG9zZVZpZXdzPVwiQ2xvc2VUYWJcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJSZW1vdmVGcm9tQ2hhbm5lbFwiLGUuQmFjaz1cIkJhY2tcIixlLkZvcndhcmQ9XCJGb3J3YXJkXCIsZS5QcmludD1cIlByaW50XCIsZS5QcmludEFsbD1cIlByaW50QWxsXCIsZS5QcmludFNjcmVlbj1cIlByaW50U2NyZWVuXCIsZS5DdXN0b209XCJDdXN0b21cIn0oZHx8KGQ9e30pKSxmdW5jdGlvbihlKXtlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQ29sb3JMaW5raW5nPVwiQ29sb3JMaW5raW5nXCIsZS5QcmVzZXRMYXlvdXRzPVwiUHJlc2V0TGF5b3V0c1wiLGUuTG9ja1VubG9ja1BhZ2U9XCJMb2NrVW5sb2NrUGFnZVwiLGUuU2F2ZU1lbnU9XCJTYXZlTWVudVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuTWluaW1pc2U9XCJNaW5pbWlzZVwiLGUuTWF4aW1pc2U9XCJNYXhpbWlzZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiYnJvd3NlclwiLGUuUGxhdGZvcm09XCJwbGF0Zm9ybVwifShwfHwocD17fSkpLGZ1bmN0aW9uKGUpe2UuQ3VzdG9tQnV0dG9uPVwiQ3VzdG9tQnV0dG9uXCIsZS5TdG9yZUN1c3RvbUJ1dHRvbj1cIlN0b3JlQ3VzdG9tQnV0dG9uXCIsZS5DdXN0b21Ecm9wZG93bkl0ZW09XCJDdXN0b21Ecm9wZG93bkl0ZW1cIixlLkdsb2JhbENvbnRleHRNZW51PVwiR2xvYmFsQ29udGV4dE1lbnVcIixlLlZpZXdUYWJDb250ZXh0TWVudT1cIlZpZXdUYWJDb250ZXh0TWVudVwiLGUuUGFnZVRhYkNvbnRleHRNZW51PVwiUGFnZVRhYkNvbnRleHRNZW51XCIsZS5TYXZlQnV0dG9uQ29udGV4dE1lbnU9XCJTYXZlQnV0dG9uQ29udGV4dE1lbnVcIixlLkFQST1cIkFQSVwifShofHwoaD17fSkpO3ZhciBmOyFmdW5jdGlvbihlKXtlLlNBVkVfUEFHRT1cIlNBVkVfUEFHRVwiLGUuU0FWRV9XT1JLU1BBQ0U9XCJTQVZFX1dPUktTUEFDRVwiLGUuU0FWRV9QQUdFX0FTPVwiU0FWRV9QQUdFX0FTXCIsZS5TQVZFX1dPUktTUEFDRV9BUz1cIlNBVkVfV09SS1NQQUNFX0FTXCIsZS5SRU5BTUVfUEFHRT1cIlJFTkFNRV9QQUdFXCIsZS5SRU5BTUVfV09SS1NQQUNFPVwiUkVOQU1FX1dPUktTUEFDRVwifShmfHwoZj17fSkpfSwyNDg6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtIOigpPT5vfSk7dmFyIG49YSg0MzgpLHI9YSg3ODYpO2NvbnN0IG89KGUsdCk9PntyLkEubWFya1N0YXJ0KGAke2V9LXJlZ2lzdHJhdGlvbmApLCgwLG4uQlkpKCkub25jZShcInN0YXJ0ZWRcIiwoKCk9PnIuQS5tYXJrQW5kTWVhc3VyZShcIndvcmtzcGFjZS1hcHAtc3RhcnRlZFwiLGAke2V9LXJlZ2lzdHJhdGlvbmApKSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKHQpO2Eub25jZShcImluaXRpYWxpemVkXCIsKCgpPT5yLkEubWFya0FuZE1lYXN1cmUoYCR7ZX0td2luZG93LWluaXRpYWxpemVkYCxgJHtlfS1yZWdpc3RyYXRpb25gKSkpLGEub25jZShcInNob3duXCIsKCgpPT57ci5BLm1hcmtBbmRNZWFzdXJlKGAke2V9LXNob3dgLGAke2V9LXJlZ2lzdHJhdGlvbmApfSkpfX0sODM0OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLnIodCksYS5kKHQse0NMSUFjdGlvbjooKT0+QS5QSyxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5BLm9vLENMSVRlbXBsYXRlOigpPT5BLmZDLGRlcmVnaXN0ZXI6KCk9PkYsaGlkZTooKT0+VCxyZWdpc3RlcjooKT0+SSxzaG93OigpPT5XfSk7dmFyIG49YSg3MjMpLHI9YSg3ODYpLG89YSgyNzcpLGk9YSg3MCk7Y29uc3Qgcz1cIjBcIixjPVwiMlwiLGQ9XCIzXCIsbD1cIjVcIix1PVwiNlwiO3ZhciBwPWEoNjk1KSxoPWEoNzkpLGY9YSg1NzUpO3ZhciBnPWEoOTA1KTtjb25zdCBtPSgpPT57fTtmdW5jdGlvbiB3KGUpe2NvbnN0IHQ9e307bGV0IGE9W107bGV0IG49W107bGV0IHI9bnVsbDtsZXQgbz1nLlpvLkluaXRpYWw7dC5nZXRTdGF0dXM9KCk9Pm8sdC5nZXRSZXN1bHRCdWZmZXI9KCk9PmEsdC5zZXRSZXN1bHRCdWZmZXI9ZT0+e2E9ZSxhPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5nZXRSZXZva2VkQnVmZmVyPSgpPT5uLHQuc2V0UmV2b2tlZEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LnNldFVwZGF0ZWRDb250ZXh0PWU9PntyPWUsbnVsbCE9PXImJnQub25DaGFuZ2UoKX0sdC5nZXRVcGRhdGVkQ29udGV4dD0oKT0+cix0Lm9uQ2hhbmdlPW07Y29uc3QgaT17fTtyZXR1cm4gdC5yZXM9aSxpLmNsb3NlPSgpPT57byE9PWcuWm8uQ2xvc2UmJihvPWcuWm8uQ2xvc2UsdC5vbkNoYW5nZSgpKX0saS5vcGVuPSgpPT57byE9PWcuWm8uT3BlbiYmKG89Zy5aby5PcGVuLHQub25DaGFuZ2UoKSl9LGkucmVzcG9uZD1hPT57Y29uc3Qgbj1mdW5jdGlvbihlPVtdLHQ9W10sYT1cImFzY2VuZGluZ1wiKXtjb25zdCBuPVtdLHI9bmV3IE1hcDt0LmZvckVhY2goKGU9PntpZihlLmtleSlyZXR1cm4gci5zZXQoZS5rZXksZSk7bi5wdXNoKGUpfSkpO2xldCBvPWUubWFwKChlPT57aWYoZS5rZXkpe2NvbnN0IHQ9ci5nZXQoZS5rZXkpO2lmKHQpcmV0dXJuIHIuZGVsZXRlKGUua2V5KSx0fXJldHVybiBlfSkpO3JldHVybiBvLnB1c2goLi4uci52YWx1ZXMoKSwuLi5uKSxvPVwiYXNjZW5kaW5nXCI9PT1hP28uc29ydCgoKGUsdCk9PihlPy5zY29yZT8/MS8wKS0odD8uc2NvcmU/PzEvMCkpKTpvLnNvcnQoKChlLHQpPT4odD8uc2NvcmU/PzEvMCktKGU/LnNjb3JlPz8xLzApKSksb30odC5nZXRSZXN1bHRCdWZmZXIoKSxhLGUpO3Quc2V0UmVzdWx0QnVmZmVyKG4pfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBhPW5ldyBTZXQoZSksbj10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1hLmhhcyhlKTtyZXR1cm4gdCYmYS5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIobiksYS5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+YS5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLmFdKSl9LGkudXBkYXRlQ29udGV4dD1lPT57dC5zZXRVcGRhdGVkQ29udGV4dChlKX0sdH1jb25zdCB5PW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gdihlKXtjb25zdHtpZDp0LHByb3ZpZGVySWQ6YX09ZSxuPVAuZ2V0UHJvdmlkZXJPckZhaWwoYSk7bGV0IHI9eS5nZXQodCk7cnx8KHI9ZnVuY3Rpb24oZSx0KXtjb25zdCBhPW5ldyBTZXQ7bGV0IG49ITE7cmV0dXJue2Nsb3NlOigpPT57bj0hMDtmb3IoY29uc3QgZSBvZiBhKWUoKX0scmVxOntpZDplLC4uLnQsY29udGV4dDp0Py5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PnthLmFkZChlKSxuJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PnthLmRlbGV0ZShlKX19fX0odCxlKSx5LnNldCh0LHIpKTtjb25zdCBvPXcoKSxpPSgpPT57Y29uc3QgZT1vLmdldFJlc3VsdEJ1ZmZlcigpO28uc2V0UmVzdWx0QnVmZmVyKFtdKTtjb25zdCBuPW8uZ2V0UmV2b2tlZEJ1ZmZlcigpO28uc2V0UmV2b2tlZEJ1ZmZlcihbXSk7Y29uc3Qgcj1vLmdldFVwZGF0ZWRDb250ZXh0KCk7by5zZXRVcGRhdGVkQ29udGV4dChudWxsKTtjb25zdCBpPW8uZ2V0U3RhdHVzKCk7IWFzeW5jIGZ1bmN0aW9uKGUpeyhhd2FpdCgwLHAuZ2opKCkpLmRpc3BhdGNoKHMsZSl9KHtpZDp0LHByb3ZpZGVySWQ6YSxyZXN1bHRzOmUscmV2b2tlZDpuLHN0YXR1czppLGNvbnRleHQ6cn0pfTtsZXQgYz0hMCxkPSExO28ub25DaGFuZ2U9KCk9PntpZihjKXJldHVybiBjPSExLHZvaWQgaSgpO2R8fChkPSEwLHNldFRpbWVvdXQoKCgpPT57ZD0hMSxpKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0Oml9PWF3YWl0IG4ub25Vc2VySW5wdXQoci5yZXEsby5yZXMpLHM9by5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6dCxwcm92aWRlcklkOmEsc3RhdHVzOnMscmVzdWx0czplLGNvbnRleHQ6aX19Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoYE9wZW5GaW4vV29ya3NwYWNlL0hvbWUuIFVuY2F1Z2h0IGV4Y2VwdGlvbiBpbiBzZWFyY2ggcHJvdmlkZXIgJHthfSBmb3Igc2VhcmNoICR7dH1gLFwiVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBzZWFyY2ggcHJvdmlkZXIuXCIsZSkse2lkOnQscHJvdmlkZXJJZDphLGVycm9yOmU/Lm1lc3NhZ2V9fX1hc3luYyBmdW5jdGlvbiBrKCl7Zm9yKGNvbnN0e3JlcTplLGNsb3NlOnR9b2YgeS52YWx1ZXMoKSl0KCkseS5kZWxldGUoZS5pZCl9YXN5bmMgZnVuY3Rpb24gYihlLHQpe2NvbnN0IGE9UC5nZXRQcm92aWRlck9yRmFpbChlLnByb3ZpZGVySWQpO3JldHVybiBlLnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9dCxhLm9uUmVzdWx0RGlzcGF0Y2g/LihlLnJlc3VsdCl9ZnVuY3Rpb24gUyhlKXtjb25zdCB0PXkuZ2V0KGUuaWQpO3Q/LmNsb3NlKCkseS5kZWxldGUoZS5pZCl9Y29uc3QgUD1uZXcgZi54TShcImhvbWVcIiksQz1hc3luYyBlPT57YXdhaXQoMCxwLm5BKSgpOyEoXCJza2lwUGxhdGZvcm1Jbml0Q2hlY2tcImluIGUmJiEwPT09ZS5za2lwUGxhdGZvcm1Jbml0Q2hlY2spJiZhd2FpdCgwLGguS1opKGZpbi5tZS5pZGVudGl0eSk7UC5hc3NlcnROb3RBbHJlYWR5UmVnaXN0ZXJlZChlLmlkKSxQLnNldFByb3ZpZGVyKGUpO2NvbnN0IHQ9YXdhaXQoMCxwLmdqKSgpO3JldHVybiBmdW5jdGlvbihlKXtlLmhvbWVDaGFubmVsQWN0aW9uc1JlZ2lzdGVyZWR8fChlLmhvbWVDaGFubmVsQWN0aW9uc1JlZ2lzdGVyZWQ9ITAsZS5yZWdpc3RlcihzLHYpLGUucmVnaXN0ZXIodSxTKSxlLnJlZ2lzdGVyKGwsYiksZS5hZGREaXNjb25uZWN0aW9uTGlzdGVuZXIoaykpfSh0KSx0LmRpc3BhdGNoKGMse2lkOmUuaWQsdGl0bGU6ZS50aXRsZSxpY29uOmUuaWNvbixjbGllbnRBUElWZXJzaW9uOm4uZXQsaWRlbnRpdHk6ZmluLm1lLmlkZW50aXR5LHNjb3JlT3JkZXI6ZS5zY29yZU9yZGVyLGNvbW1hbmRDb2RlOmUuY29tbWFuZENvZGUsZGVzY3JpcHRpb246ZS5kZXNjcmlwdGlvbixoaWRkZW46ZS5oaWRkZW4sbGlzdFRpdGxlOmUubGlzdFRpdGxlLGlucHV0UGxhY2Vob2xkZXI6ZS5pbnB1dFBsYWNlaG9sZGVyLGxvZ29Vcmw6ZS5sb2dvVXJsLGRpc3BhdGNoRm9jdXNFdmVudHM6ZS5kaXNwYXRjaEZvY3VzRXZlbnRzfSl9O3ZhciB4PWEoMjQ4KSxBPWEoODcyKTtsZXQgTTtjb25zdCBJPWFzeW5jIGU9PntpZighZS5pY29uKXRocm93IG5ldyBFcnJvcihgJHtlLmlkfSBwcm92aWRlciBuZWVkcyB0byBoYXZlIGljb24gcHJvcGVydHkgZGVmaW5lZC5gKTsoMCx4LkgpKFwiaG9tZVwiLGkuRjIpO2NvbnN0IHQ9YXdhaXQgQyhlKTtyZXR1cm4gTT1uZXcgUHJvbWlzZSgoKGEsaSk9Pnt0cnl7KDAsby5HUikoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjp0Py53b3Jrc3BhY2VWZXJzaW9ufSksbi5ldCxhKHsuLi50LGNsaWVudEFQSVZlcnNpb246bi5ldCxzZXRTZWFyY2hRdWVyeTphc3luYyB0PT4oYXdhaXQoMCxwLk43KSgpKS5kaXNwYXRjaChcInNldC1zZWFyY2gtcXVlcnlcIix7cXVlcnk6dCxwcm92aWRlcklEOmUuaWR9KX0pfWNhdGNoKGUpeygwLG8uR1IpKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZSBpbnN0YW5jZW9mIEVycm9yP2UubWVzc2FnZTpcInVua25vd25cIn0pLGkoZSl9ZmluYWxseXtyLkEubWFya0VuZEFuZE1lYXN1cmUoXCJob21lLXJlZ2lzdHJhdGlvblwiKX19KSksTX0sRj1hc3luYyBlPT57UC5kZWxldGVQcm92aWRlcihlKTtjb25zdCB0PWF3YWl0KDAscC5naikoKTthd2FpdCB0LmRpc3BhdGNoKGQsZSl9O2FzeW5jIGZ1bmN0aW9uIFcoKXtyLkEubWFya1N0YXJ0KFwiaG9tZS1zaG93XCIpLGF3YWl0IE07Y29uc3QgZT1hd2FpdCgwLHAuTjcpKCk7YXdhaXQgZS5kaXNwYXRjaChcInNob3ctaG9tZVwiLHZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gVCgpe2F3YWl0IE07Y29uc3QgZT1hd2FpdCgwLHAuTjcpKCk7YXdhaXQgZS5kaXNwYXRjaChcImhpZGUtaG9tZVwiLHZvaWQgMCl9fSw1NzU6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHt4TTooKT0+c30pO2NvbnN0IG49cmVxdWlyZShcInRpdGxlLWNhc2VcIik7Y2xhc3MgciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7Y29uc3QgYT0oMCxuLnRpdGxlQ2FzZSkoZSk7c3VwZXIoYCR7YX0gUHJvdmlkZXIuICR7YX0gUHJvdmlkZXIke3Q/YCB3aXRoIGlkICR7dH1gOlwiXCJ9IGlzIG5vdCBjdXJyZW50bHkgcmVnaXN0ZXJlZC5gKX19Y2xhc3MgbyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7Y29uc3QgYT0oMCxuLnRpdGxlQ2FzZSkoZSk7c3VwZXIoYCR7YX0gUHJvdmlkZXIuICR7YX0gUHJvdmlkZXIke3Q/YCB3aXRoIGlkICR7dH1gOlwiXCJ9IGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gQ2FsbCBcXGBkZXJlZ2lzdGVyXFxgIGJlZm9yZSByZWdpc3RlcmluZyBhZ2Fpbi5gKX19Y2xhc3MgaSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7Y29uc3QgYT0oMCxuLnRpdGxlQ2FzZSkoZSk7c3VwZXIoYEZhaWxlZCB0byBnZXQgJHthfSBQcm92aWRlci4gJHthfSBQcm92aWRlciB3aXRoIGlkICR7dH0gaXMgbm90IGN1cnJlbnRseSByZWdpc3RlcmVkLmApfX1jbGFzcyBze2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXJzTWFwPW5ldyBNYXAsdGhpcy5wcm92aWRlclR5cGU9ZX1hc3NlcnROb3RBbHJlYWR5UmVnaXN0ZXJlZChlKXtpZih0aGlzLmhhc1Byb3ZpZGVyKGUpKXRocm93IG5ldyBvKHRoaXMucHJvdmlkZXJUeXBlLGUpfWFzc2VydFJlZ2lzdGVyZWQoZSl7aWYoIXRoaXMuaGFzUHJvdmlkZXIoZSkpdGhyb3cgbmV3IHIodGhpcy5wcm92aWRlclR5cGUsZSl9Z2V0UHJvdmlkZXIoZSl7cmV0dXJuIHRoaXMucHJvdmlkZXJzTWFwLmdldChlKX1oYXNQcm92aWRlcihlKXtyZXR1cm4gdGhpcy5wcm92aWRlcnNNYXAuaGFzKGUpfXNldFByb3ZpZGVyKGUpe3RoaXMucHJvdmlkZXJzTWFwLnNldChlLmlkLGUpfWRlbGV0ZVByb3ZpZGVyKGUpe3RoaXMucHJvdmlkZXJzTWFwLmRlbGV0ZShlKX1nZXRQcm92aWRlck9yRmFpbChlKXtjb25zdCB0PXRoaXMuZ2V0UHJvdmlkZXIoZSk7aWYoIXQpdGhyb3cgbmV3IGkodGhpcy5wcm92aWRlclR5cGUsZSk7cmV0dXJuIHR9Y2xlYXJQcm92aWRlcnMoKXt0aGlzLnByb3ZpZGVyc01hcC5jbGVhcigpfX19LDEyOTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG4scixvO2EuZCh0LHtQOigpPT5yLFI6KCk9Pm99KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5Vc2VyQWN0aW9uPVwidXNlci1hY3Rpb25cIixlLkZvY3VzQ2hhbmdlPVwiZm9jdXMtY2hhbmdlXCIsZS5SZWxvYWQ9XCJyZWxvYWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkFjdGl2ZT1cImFjdGl2ZVwiLGUuRGVmYXVsdD1cImRlZmF1bHRcIn0ob3x8KG89e30pKX0sNjAwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbjthLmQodCx7YTooKT0+bn0pLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KG58fChuPXt9KSl9LDg3MjooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG4scixvO2EuZCh0LHtQSzooKT0+bixmQzooKT0+cixvbzooKT0+b30pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0ob3x8KG89e30pKX0sMTc5OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthKDEyOSksYSg4NzIpLGEoNzEwKSxhKDE4NCksYSg2MDApfSw3MTA6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuLHI7YS5kKHQse3Y6KCk9Pm4sejooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KHJ8fChyPXt9KSl9LDE4NDooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse1NNOigpPT5vLGNlOigpPT5uLGluOigpPT5pLG5wOigpPT5yfSk7Y29uc3Qgbj17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCIsU3BsaXRCdXR0b246XCJTcGxpdEJ1dHRvblwifSxyPXtUZXh0OlwiVGV4dFwiLEltYWdlOlwiSW1hZ2VcIixMaXN0OlwiTGlzdFwifSxvPXsuLi5uLC4uLnJ9O3ZhciBpOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0oaXx8KGk9e30pKX0sNTk4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLnIodCksYS5kKHQse0FwcE1hbmlmZXN0VHlwZTooKT0+by52LFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+by56LGRlcmVnaXN0ZXI6KCk9PnksaGlkZTooKT0+dixyZWdpc3RlcjooKT0+dyxzaG93OigpPT5rfSk7dmFyIG49YSgyNzcpLHI9YSg2OTUpLG89YSg3MTApLGk9YSg3MjMpLHM9YSg3ODYpLGM9YSg3MCksZD1hKDc5KSxsPWEoNTc1KTtsZXQgdT0hMTthc3luYyBmdW5jdGlvbiBwKGUsdCxhKXtjb25zdCBuPWF3YWl0KDAsci5wNCkoKTt0cnl7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goZS5hY3Rpb24sZS5wYXlsb2FkKX1jYXRjaChyKXtpZihyIGluc3RhbmNlb2YgRXJyb3ImJi0xIT09ci50b1N0cmluZygpLmluZGV4T2YoZS5hY3Rpb24pKXJldHVybiB1fHxjb25zb2xlLndhcm4oXCJZb3UgYXJlIHVzaW5nIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgV29ya3NwYWNlIGNsaWVudCBsaWJyYXJ5IHRoYXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudGx5IHJ1bm5pbmcgd29ya3NwYWNlIHByb3ZpZGVyLiBQbGVhc2UgdXBncmFkZSB0aGUgV29ya3NwYWNlIHRvIHZlcnNpb24gOS4wIG9yIGxhdGVyLlwiKSx1PSEwLGF3YWl0IG4uZGlzcGF0Y2godC5hY3Rpb24sdC5wYXlsb2FkKSxhO3Rocm93IHJ9fWNvbnN0IGg9bmV3IGwueE0oXCJzdG9yZWZyb250XCIpLGY9YXN5bmMgZT0+e2F3YWl0KDAsZC5LWikoZmluLm1lLmlkZW50aXR5KTtjb25zdCB0PWF3YWl0KDAsci5ONykoKTtyZXR1cm4gaC5hc3NlcnROb3RBbHJlYWR5UmVnaXN0ZXJlZChlLmlkKSxoLnNldFByb3ZpZGVyKGUpLChlPT57ZS5zdG9yZWZyb250Q2hhbm5lbEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5zdG9yZWZyb250Q2hhbm5lbEFjdGlvbnNSZWdpc3RlcmVkPSEwLGUucmVnaXN0ZXIoXCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsKGU9PmguZ2V0UHJvdmlkZXJPckZhaWwoZSkuZ2V0QXBwcygpKSksZS5yZWdpc3RlcihcImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLChlPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihcImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLChlPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKFwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLChlPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmdldE5hdmlnYXRpb24oKSkpLGUucmVnaXN0ZXIoXCJsYXVuY2gtc3RvcmVmcm9udC1wcm92aWRlci1hcHBcIiwoKHtpZDplLGFwcDp0fSk9PmguZ2V0UHJvdmlkZXJPckZhaWwoZSkubGF1bmNoQXBwKHQpKSkpfSkodCksZS5jbGllbnRBUElWZXJzaW9uPWkuZXQscCh7YWN0aW9uOlwicmVnaXN0ZXItcHJvdmlkZXJcIixwYXlsb2FkOntwcm92aWRlclR5cGU6XCJzdG9yZWZyb250XCIsaW5mbzplfX0se2FjdGlvbjpcInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixwYXlsb2FkOmV9LHt3b3Jrc3BhY2VWZXJzaW9uOlwidW5rbm93blwifSl9O3ZhciBnPWEoMjQ4KTtsZXQgbTtjb25zdCB3PWFzeW5jIGU9PnsoMCxnLkgpKFwic3RvcmVcIixjLmdRKTtjb25zdCB0PWF3YWl0IGYoZSk7cmV0dXJuIG09bmV3IFByb21pc2UoKChhLG8pPT57dHJ5eygwLG4ueHQpKHthbGxvd2VkOiEwLGNvbXBvbmVudFZlcnNpb246dD8ud29ya3NwYWNlVmVyc2lvbn0pLGkuZXQsYSh7Y2xpZW50QVBJVmVyc2lvbjppLmV0LHdvcmtzcGFjZVZlcnNpb246dD8ud29ya3NwYWNlVmVyc2lvbj8/XCJcIix1cGRhdGVBcHBDYXJkQnV0dG9uczphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLHIubVEpKCk7YXdhaXQgYS5kaXNwYXRjaChcInVwZGF0ZS1hcHAtY2FyZC1idXR0b24tY29uZmlnXCIsey4uLnQsaWQ6ZS5pZCx0aXRsZTplLnRpdGxlLGljb246ZS5pY29uLHBsYXRmb3JtSWRlbnRpdHk6ZmluLm1lLmlkZW50aXR5fSl9fSl9Y2F0Y2goZSl7KDAsbi54dCkoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplIGluc3RhbmNlb2YgRXJyb3I/ZS5tZXNzYWdlOlwidW5rbm93blwifSksbyhlKX1maW5hbGx5e3MuQS5tYXJrRW5kQW5kTWVhc3VyZShcInN0b3JlLXJlZ2lzdHJhdGlvblwiKX19KSksbX0seT1hc3luYyBlPT4oYXdhaXQgbSxoLmFzc2VydFJlZ2lzdGVyZWQoZSksaC5kZWxldGVQcm92aWRlcihlKSxhd2FpdCgwLHIubkEpKCkscCh7YWN0aW9uOlwiZGVyZWdpc3Rlci1wcm92aWRlclwiLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTpcInN0b3JlZnJvbnRcIixpZDplfX0se2FjdGlvbjpcImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLHBheWxvYWQ6ZX0pKSx2PWFzeW5jKCk9Pihhd2FpdCBtLGF3YWl0KDAsci5uQSkoKSxwKHthY3Rpb246XCJoaWRlLXByb3ZpZGVyLXdpbmRvd1wiLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTpcInN0b3JlZnJvbnRcIn19LHthY3Rpb246XCJoaWRlLXN0b3JlZnJvbnRcIn0pKSxrPWFzeW5jKCk9PihzLkEubWFya1N0YXJ0KFwic3RvcmUtc2hvd1wiKSxhd2FpdCBtLGF3YWl0KDAsci5uQSkoKSxwKHthY3Rpb246XCJzaG93LXByb3ZpZGVyLXdpbmRvd1wiLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTpcInN0b3JlZnJvbnRcIn19LHthY3Rpb246XCJzaG93LXN0b3JlZnJvbnRcIn0pKX0sMjUwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbjshZnVuY3Rpb24oZSl7ZS5MZWZ0PVwiTGVmdFwiLGUuUmlnaHQ9XCJSaWdodFwiLGUuVG9wPVwiVG9wXCIsZS5Cb3R0b209XCJCb3R0b21cIn0obnx8KG49e30pKX0sNzk6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuO2EuZCh0LHtLWjooKT0+byxOOigpPT5pLE9GOigpPT5uLGJXOigpPT5zfSksZnVuY3Rpb24oZSl7ZS5MYXVuY2hBcHA9XCJsYXVuY2hBcHBcIixlLlNhdmVQYWdlPVwic2F2ZVBhZ2VcIixlLkdldFNhdmVkUGFnZT1cImdldFNhdmVkUGFnZVwiLGUuQ3JlYXRlU2F2ZWRQYWdlPVwiY3JlYXRlU2F2ZWRQYWdlXCIsZS5VcGRhdGVTYXZlZFBhZ2U9XCJ1cGRhdGVTYXZlZFBhZ2VcIixlLkRlbGV0ZVNhdmVkUGFnZT1cImRlbGV0ZVNhdmVkUGFnZVwiLGUuR2V0U2F2ZWRQYWdlcz1cImdldFNhdmVkUGFnZXNcIixlLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsPVwiY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsPVwidXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsPVwiZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGVQYWdlRm9yV2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoUGFnZXNUb1dpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoUGFnZXNGcm9tV2luZG93XCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyUGFnZXNGb3JXaW5kb3dcIixlLlNldEFjdGl2ZVBhZ2U9XCJzZXRBY3RpdmVQYWdlXCIsZS5BZGRQYWdlPVwiYWRkUGFnZVwiLGUuQWRkRGVmYXVsdFBhZ2U9XCJhZGREZWZhdWx0UGFnZVwiLGUuR2V0QWxsQXR0YWNoZWRQYWdlcz1cImdldEFsbEF0dGFjaGVkUGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvdz1cImdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvd1wiLGUuR2V0UGFnZXNGb3JXaW5kb3c9XCJnZXRQYWdlc0ZvcldpbmRvd1wiLGUuR2V0UGFnZUZvcldpbmRvdz1cImdldFBhZ2VGb3JXaW5kb3dcIixlLkdldFNhdmVkUGFnZU1ldGFkYXRhPVwiZ2V0U2F2ZWRQYWdlTWV0YWRhdGFcIixlLkdldFVuaXF1ZVBhZ2VUaXRsZT1cImdldFVuaXF1ZVBhZ2VUaXRsZVwiLGUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwiZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5HZXRQYWdlQnlWaWV3SWRlbnRpdHk9XCJnZXRQYWdlQnlWaWV3SWRlbnRpdHlcIixlLkdldFRoZW1lcz1cImdldFRoZW1lc1wiLGUuR2V0U2VsZWN0ZWRTY2hlbWU9XCJnZXRTZWxlY3RlZFNjaGVtZVwiLGUuU2V0U2VsZWN0ZWRTY2hlbWU9XCJzZXRTZWxlY3RlZFNjaGVtZVwiLGUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9XCJpbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbFwiLGUuUmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsPVwicmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsXCIsZS5HZXRTYXZlZFdvcmtzcGFjZT1cImdldFNhdmVkV29ya3NwYWNlXCIsZS5DcmVhdGVTYXZlZFdvcmtzcGFjZT1cImNyZWF0ZVNhdmVkV29ya3NwYWNlXCIsZS5VcGRhdGVTYXZlZFdvcmtzcGFjZT1cInVwZGF0ZVNhdmVkV29ya3NwYWNlXCIsZS5EZWxldGVTYXZlZFdvcmtzcGFjZT1cImRlbGV0ZVNhdmVkV29ya3NwYWNlXCIsZS5HZXRTYXZlZFdvcmtzcGFjZXM9XCJnZXRTYXZlZFdvcmtzcGFjZXNcIixlLlNhdmVXb3Jrc3BhY2U9XCJzYXZlV29ya3NwYWNlXCIsZS5HZXRDdXJyZW50V29ya3NwYWNlPVwiZ2V0Q3VycmVudFdvcmtzcGFjZVwiLGUuQXBwbHlXb3Jrc3BhY2U9XCJhcHBseVdvcmtzcGFjZVwiLGUuUmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsPVwicmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsXCIsZS5TZXRBY3RpdmVXb3Jrc3BhY2U9XCJzZXRBY3RpdmVXb3Jrc3BhY2VcIixlLklzQnJvd3NlckluaXRpYWxpemVkPVwiaXNCcm93c2VySW5pdGlhbGl6ZWRcIixlLkFuYWx5dGljcz1cImFuYWx5dGljc0ludGVybmFsXCIsZS5HZXRMYW5ndWFnZT1cImdldExhbmd1YWdlXCIsZS5HZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsPVwiZ2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbFwiLGUuU2V0TGFuZ3VhZ2U9XCJzZXRMYW5ndWFnZVwiLGUuR2V0RG9ja1Byb3ZpZGVyQ29uZmlnPVwiZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnXCIsZS5TYXZlRG9ja1Byb3ZpZGVyQ29uZmlnPVwic2F2ZURvY2tQcm92aWRlckNvbmZpZ1wiLGUuSGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2U9XCJoYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZVwiLGUuU2hvdWxkUGFnZUNsb3NlPVwic2hvdWxkUGFnZUNsb3NlXCIsZS5TaG91bGRXaW5kb3dDbG9zZT1cInNob3VsZFdpbmRvd0Nsb3NlXCIsZS5Db3B5UGFnZT1cImNvcHlQYWdlXCIsZS5IYW5kbGVQYWdlQ2hhbmdlcz1cImhhbmRsZVBhZ2VDaGFuZ2VzXCIsZS5NYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsPVwibWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbFwiLGUuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWw9XCJ0cmFja1JlbW92ZWRUYWJJbnRlcm5hbFwiLGUuUmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbD1cInJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWxcIixlLlRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbD1cInRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbFwiLGUuR2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD1cImdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWxcIixlLkdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD1cImdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbFwiLGUuU2VhcmNoU2l0ZXNJbnRlcm5hbD1cInNlYXJjaFNpdGVzSW50ZXJuYWxcIixlLkdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsPVwiZ2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWxcIixlLkdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWw9XCJnZXRDdXJhdGVkQ29udGVudEludGVybmFsXCIsZS5IYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsPVwiaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbFwiLGUuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPVwicmVmcmVzaEJvb2ttYXJrc0ludGVybmFsXCIsZS5MYXVuY2hCb29rbWFya0ludGVybmFsPVwibGF1bmNoQm9va21hcmtJbnRlcm5hbFwiLGUuR2V0Tm90aWZpY2F0aW9uc0NvbmZpZz1cImdldE5vdGlmaWNhdGlvbnNDb25maWdcIixlLlVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbD1cInVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbFwiLGUuVXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbD1cInVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWxcIixlLkxhdW5jaERvY2tFbnRyeUludGVybmFsPVwibGF1bmNoRG9ja0VudHJ5SW50ZXJuYWxcIixlLlNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsPVwic2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWxcIixlLk5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbD1cIm5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbFwiLGUuU2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbD1cInNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWxcIixlLkdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbD1cImdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbD1cImhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWxcIixlLlJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsPVwicmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWxcIixlLkFkZERvY2tGYXZvcml0ZUludGVybmFsPVwiYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWxcIixlLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9XCJmb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsXCJ9KG58fChuPXt9KSk7Y29uc3Qgcj1hc3luYyBlPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0Q2xpZW50KCksbz1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCByKGUpLGE9XCJUYXJnZXQgaXMgbm90IGEgV29ya3NwYWNlIFBsYXRmb3JtLiBUYXJnZXQgbXVzdCBjYWxsIFdvcmtzcGFjZVBsYXRmb3JtLmluaXRcIjtsZXQgbjt0cnl7bj1hd2FpdCB0LmRpc3BhdGNoKFwiaXNXb3Jrc3BhY2VQbGF0Zm9ybVwiKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoXCJib29sZWFuXCI9PXR5cGVvZiBuJiZuKXJldHVybiBjb25zb2xlLndhcm4oXCJZb3UgYXJlIHVzaW5nIGFuIG9sZGVyIHZlcnNpb24gb2YgdGhlIHdvcmtzcGFjZSBwbGF0Zm9ybS4gUGxlYXNlIHVwZGF0ZSB5b3VyIHdvcmtzcGFjZSBwbGF0Zm9ybS5cIiksbjtpZihcIm9iamVjdFwiPT10eXBlb2YgbiYmbi5pc1dvcmtzcGFjZVBsYXRmb3JtKXJldHVybiBuO3Rocm93IG5ldyBFcnJvcihhKX0saT1hc3luYyBlPT4oYXdhaXQgbyhlKSxyKGUpKSxzPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IG8oZSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEwIT09dD8uaXNCcm93c2VySW5pdGlhbGl6ZWQpdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGlzIG5vdCBhIEJyb3dzZXItZW5hYmxlZCBXb3Jrc3BhY2UgUGxhdGZvcm0uXCIpO3JldHVybiByKGUpfX0sNjk1OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7Tjc6KCk9PmYsZ2o6KCk9PmwsbVE6KCk9PmgsbkE6KCk9PnAscDQ6KCk9PmN9KTt2YXIgbj1hKDEwMikscj1hKDcyMyksbz1hKDcwKSxpPWEoOTA1KTtjb25zdCBzPSgwLG4uQSkoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLGM9cyxkPXMsbD0oMCxuLkEpKGkuQlQpLHU9ZT0+e2NvbnN0IHQ9bmV3IFVSTChlKTtyZXR1cm4gdC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiaXNMYXVuY2hlZFZpYUxpYlwiLFwidHJ1ZVwiKSx0LnRvU3RyaW5nKCl9LHA9YXN5bmMoKT0+e2lmKCFhd2FpdCgwLG8uQykoby54dCkpe2lmKHIuand8fC0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiV2luXCIpKXJldHVybiB2b2lkIGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdCh1KHIubTcpKTthd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3Nlcih1KHIudDgpKX19LGg9YXN5bmMoKT0+KGF3YWl0IHAoKSxjKCkpLGY9YXN5bmMoKT0+KGF3YWl0IHAoKSxkKCkpfSw5MDU6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtCVDooKT0+bixabzooKT0+b30pO2NvbnN0IG49XCJfX3NlYXJjaC1vcGVuZmluLWJyb3dzZXItaG9tZS10b3BpY19fXCI7dmFyIHIsbzshZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5Jbml0aWFsPTBdPVwiSW5pdGlhbFwiLGVbZS5PcGVuPTFdPVwiT3BlblwiLGVbZS5DbG9zZT0yXT1cIkNsb3NlXCJ9KG98fChvPXt9KSl9LDk1NzooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49YSg4NDcpLHI9KGEoNzApLGEoOTc4KSxhKDY3NSksYSg4NzcpKSxvPWEubihyKSxpPWEoNjcpLHM9YS5uKGkpO3MoKSxvKCk7YSg2OTUpLGEoNzkpO2NvbnN0IGM9e1tuLlBhbGV0dGUuYnJhbmRQcmltYXJ5XTpcIiMwQTc2RDNcIixbbi5QYWxldHRlLnN0YXR1c1N1Y2Nlc3NdOm4uQ29sb3IuZnVuY3Rpb25hbDEsW24uUGFsZXR0ZS5zdGF0dXNXYXJuaW5nXTpuLkNvbG9yLmZ1bmN0aW9uYWwxMCxbbi5QYWxldHRlLnN0YXR1c0NyaXRpY2FsXTpuLkNvbG9yLmZ1bmN0aW9uYWw3LFtuLlBhbGV0dGUuc3RhdHVzQWN0aXZlXTpuLkNvbG9yLmZ1bmN0aW9uYWwzLFtuLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQxXTpcIiMwQTc2RDNcIixbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kMl06XCIjMDAwMDAwXCIsW24uUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDNdOlwiIzAwMDAwMFwiLFtuLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQ0XTpcIiMwMDAwMDBcIixbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kNV06XCIjMDAwMDAwXCJ9LGQ9ey4uLmMsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMV06bi5Db2xvci53aGl0ZSxbbi5QYWxldHRlLmJhY2tncm91bmQyXTpuLkNvbG9yLmxpZ2h0R3JheTEsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kM106bi5Db2xvci5saWdodEdyYXkyLFtuLlBhbGV0dGUuYmFja2dyb3VuZDRdOm4uQ29sb3IubGlnaHRHcmF5Myxbbi5QYWxldHRlLmJhY2tncm91bmQ1XTpuLkNvbG9yLmxpZ2h0R3JheTQsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNl06bi5Db2xvci5saWdodEdyYXk1LFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnldOm4uQ29sb3IubGlnaHRHcmF5NCxbbi5QYWxldHRlLmlucHV0QmFja2dyb3VuZF06bi5Db2xvci5saWdodEdyYXkzLFtuLlBhbGV0dGUuaW5wdXRDb2xvcl06bi5Db2xvci5kYXJrR3JheTUsW24uUGFsZXR0ZS5pbnB1dFBsYWNlaG9sZGVyXTpuLkNvbG9yLmRhcmtHcmF5Mixbbi5QYWxldHRlLmlucHV0RGlzYWJsZWRdOm4uQ29sb3IubmV1dHJhbEdyYXksW24uUGFsZXR0ZS5pbnB1dEZvY3VzZWRdOm4uQ29sb3IubGlnaHRHcmF5NSxbbi5QYWxldHRlLmlucHV0Qm9yZGVyXTpuLkNvbG9yLm5ldXRyYWxHcmF5LFtuLlBhbGV0dGUudGV4dERlZmF1bHRdOm4uQ29sb3IuZGFya0dyYXk1LFtuLlBhbGV0dGUudGV4dEhlbHBdOm4uQ29sb3IuZGFya0dyYXkzLFtuLlBhbGV0dGUudGV4dEluYWN0aXZlXTpuLkNvbG9yLm5ldXRyYWxHcmF5fSxsPXsuLi5jLFtuLlBhbGV0dGUuYmFja2dyb3VuZDFdOm4uQ29sb3IuZGFya0dyYXk2LFtuLlBhbGV0dGUuYmFja2dyb3VuZDJdOm4uQ29sb3IuZGFya0dyYXk1LFtuLlBhbGV0dGUuYmFja2dyb3VuZDNdOm4uQ29sb3IuZGFya0dyYXk0LFtuLlBhbGV0dGUuYmFja2dyb3VuZDRdOm4uQ29sb3IuZGFya0dyYXkzLFtuLlBhbGV0dGUuYmFja2dyb3VuZDVdOm4uQ29sb3IuZGFya0dyYXkyLFtuLlBhbGV0dGUuYmFja2dyb3VuZDZdOm4uQ29sb3IuZGFya0dyYXkxLFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnldOm4uQ29sb3IuZGFya0dyYXkyLFtuLlBhbGV0dGUuaW5wdXRCYWNrZ3JvdW5kXTpuLkNvbG9yLmRhcmtHcmF5MSxbbi5QYWxldHRlLmlucHV0Q29sb3JdOm4uQ29sb3Iud2hpdGUsW24uUGFsZXR0ZS5pbnB1dFBsYWNlaG9sZGVyXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS5pbnB1dERpc2FibGVkXTpuLkNvbG9yLm5ldXRyYWxHcmF5LFtuLlBhbGV0dGUuaW5wdXRGb2N1c2VkXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS5pbnB1dEJvcmRlcl06bi5Db2xvci5uZXV0cmFsR3JheSxbbi5QYWxldHRlLnRleHREZWZhdWx0XTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUudGV4dEhlbHBdOm4uQ29sb3IubGlnaHRHcmF5NSxbbi5QYWxldHRlLnRleHRJbmFjdGl2ZV06bi5Db2xvci5uZXV0cmFsR3JheX07bi5Db2xvci5saWdodEdyYXk0LG4uQ29sb3IuZGFya0dyYXk1LG4uQ29sb3IuZGFya0dyYXkyLG4uQ29sb3IuZGFya0dyYXk1fSw0Mzg6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtCWTooKT0+bCxNVzooKT0+bix2MTooKT0+ZH0pO3ZhciBuLHIsbz1hKDcyMyk7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi13b3Jrc3BhY2VcIixlLk9sZFdvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0ocnx8KHI9e30pKTtjb25zdCBpPXt1dWlkOm8uJGh9LHM9e3V1aWQ6bi5Xb3Jrc3BhY2V9LGM9ZT0+e2lmKCFvLmNJKXRocm93IG5ldyBFcnJvcihcImdldEFwcGxpY2F0aW9uIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKGUpfSxkPSgpPT5jKGkpLGw9KCk9PmMocyl9LDEwMjooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse0E6KCk9Pm99KTt2YXIgbj1hKDcyMyk7Y29uc3Qgcj1uLllZJiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTtmdW5jdGlvbiBvKGUpe2xldCB0O2NvbnN0IGE9bmV3IFNldDtyZXR1cm4oKT0+e2lmKCFuLmNJKXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IHI7Y29uc3Qgbz17Y2xpZW50QVBJVmVyc2lvbjpuLmV0fSxpPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlLHtwYXlsb2FkOm99KTtyZXR1cm4gaS5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9PnthLmZvckVhY2goKGU9PmUoKSkpLGEuY2xlYXIoKSxjb25zb2xlLndhcm4oYGRpc2Nvbm5lY3RlZCBmcm9tIGNoYW5uZWwgcHJvdmlkZXIgJHtlfWApLHQ9dm9pZCAwfSkpLGl9KSgpLnRoZW4oKGU9PihlLmFkZERpc2Nvbm5lY3Rpb25MaXN0ZW5lcj1lPT57YS5hZGQoZSl9LGUpKSkuY2F0Y2goKGE9Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHthfWApfSkpKSx0fX19LDcyMzooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG47YS5kKHQseyRoOigpPT5jLEFUOigpPT5pLFlZOigpPT5vLGNJOigpPT5yLGV0OigpPT5nLGZUOigpPT5sLGp3OigpPT51LG03OigpPT5oLHQ4OigpPT5wLHZMOigpPT5kfSksZnVuY3Rpb24oZSl7ZS5Mb2NhbD1cImxvY2FsXCIsZS5EZXY9XCJkZXZcIixlLlN0YWdpbmc9XCJzdGFnaW5nXCIsZS5Qcm9kPVwicHJvZFwifShufHwobj17fSkpO2NvbnN0IHI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbixvPShcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8cHJvY2Vzcy5lbnYsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyksaT1vJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaW5kZXhlZERCLHM9bz93aW5kb3cub3JpZ2luOm4uTG9jYWwsYz1yJiZmaW4ubWUudXVpZCxkPXImJmZpbi5tZS5uYW1lLGw9ciYmZmluLm1lLmVudGl0eVR5cGUsdT1cInByb2RcIj09PW4uTG9jYWwscD0obi5EZXYsbi5TdGFnaW5nLG4uUHJvZCxcImZpbnM6Ly9zeXN0ZW0tYXBwcy93b3Jrc3BhY2VcIiksaD1cImh0dHBzOi8vd29ya3NwYWNlLm9wZW5maW4uY28vd29ya3NwYWNlLzIxLjAuMTYvYXBwLmpzb25cIixmPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLGc9KGYoXCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMS4wLjE2XCIpLGYoXCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMS4wLjE2XCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJmYoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmZihXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKSxcIjIxLjAuMTZcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9CVUlMRF9TSEEmJldPUktTUEFDRV9CVUlMRF9TSEF9LDc4NjooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse0E6KCk9PnJ9KTtjb25zdCBuPVwib2Ytd29ya3NwYWNlLVwiO2NvbnN0IHI9bmV3IGNsYXNze21hcmsoZSl7cGVyZm9ybWFuY2UubWFyayhgJHtufSR7ZX1gKX1tYXJrU3RhcnQoZSl7cGVyZm9ybWFuY2UubWFyayhgJHtufSR7ZX0tc3RhcnRgKX1tYXJrRW5kKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9LWVuZGApfW1hcmtFbmRBbmRNZWFzdXJlKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bn0ke2V9LWVuZGApO3RyeXtyZXR1cm4gcGVyZm9ybWFuY2UubWVhc3VyZShgJHtufSR7ZX1gLGAke259JHtlfS1zdGFydGAsYCR7bn0ke2V9LWVuZGApfWNhdGNoKGUpezB9fW1hcmtBbmRNZWFzdXJlKGUsdCl7cGVyZm9ybWFuY2UubWFyayhgJHtufSR7ZX1gKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7bn0ke2V9LW1lYXN1cmVgLGAke259JHt0fS1zdGFydGAsYCR7bn0ke2V9YCl9Y2F0Y2goZSl7MH19cmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2VFbnRyaWVzKCl7cmV0dXJuIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJtZWFzdXJlXCIpLmZpbHRlcigoZT0+ZS5uYW1lLnN0YXJ0c1dpdGgobikpKX1yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZSgpe3JldHVybiB0aGlzLnJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlRW50cmllcygpLm1hcCgoZT0+KHtuYW1lOmUubmFtZS5yZXBsYWNlKGAke259YCxcIlwiKS5yZXBsYWNlKFwiLW1lYXN1cmVcIixcIlwiKSxkdXJhdGlvbjplLmR1cmF0aW9ufSkpKX19fSwxODE6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuLHI7YS5kKHQse3NQOigpPT5pfSksZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvP2RlZXBsaW5rPXNlYXJjaFwiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9kb2NrL1wiLGUuRG9jcz1cIi9wcm92aWRlci9kb2NzL1wiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250L1wiLGUuRGVwcmVjYXRlZEFsZXJ0PVwiL3Byb3ZpZGVyL2RlcHJlY2F0ZWQtYWxlcnQvXCIsZS5BbmFseXRpY3M9XCIvcHJvdmlkZXIvYW5hbHl0aWNzL1wiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXIvXCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL3BvcHVwLW1lbnUvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2F2ZU1vZGFsPVwiL3BvcHVwLW1lbnUvc2F2ZS1tb2RhbC9cIixlLkJyb3dzZXJQb3B1cE1lbnVMYXlvdXRzPVwiL3BvcHVwLW1lbnUvbGF5b3V0cy9sYXlvdXRzL1wiLGUuQnJvd3NlclBvcHVwTWVudUNvbG9yTGlua2luZz1cIi9wb3B1cC1tZW51L2NvbG9yLWxpbmtpbmcvY29sb3ItbGlua2luZy9cIixlLkJyb3dzZXJJbmRpY2F0b3I9XCIvaW5kaWNhdG9yL1wiLGUuQnJvd3NlclBvcHVwTWVudUFkZHJlc3NTZWFyY2hSZXN1bHRzVmlldz1cIi9wb3B1cC1tZW51L2FkZHJlc3Mtc2VhcmNoLXJlc3VsdHMtdmlldy9cIixlLlJlc3BvbnNlTW9kYWw9XCIvcG9wdXAtbWVudS9yZXNwb25zZS1tb2RhbC9cIixlLkNsb3NlQ29uZmlybWF0aW9uTW9kYWw9XCIvcG9wdXAtbWVudS9jbG9zZS1jb25maXJtYXRpb24tbW9kYWwvXCIsZS5FbnRlcnByaXNlQnJvd3Nlcj1cIi9lbnRlcnByaXNlL1wiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwiL2NvbnRleHQtbWVudS9cIixlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZz1cIi9ib29rbWFyay1kaWFsb2cvXCIsZS5FbnRlcnByaXNlU3RvcmFnZVByb3h5PVwiL2VudGVycHJpc2Uvc3RvcmFnZS1wcm94eVwiLGUuRHJvcGRvd25NZW51PVwiL2Ryb3Bkb3duLW1lbnUvXCIsZS5FbnRlcnByaXNlRG9jaz1cIi9kb2NrL1wifShyfHwocj17fSkpO2NvbnN0IG89XCIvbWljcm9zb2Z0LTM2NS1pbnRlZ3JhdGlvbi1hc3NldHMvXCIsaT17SWNvbk9wZW5GaW5Mb2dvOlwiL2ljb25zL29wZW5maW5sb2dvLnN2Z1wiLEljb25GaWx0ZXI6XCIvaWNvbnMvZmlsdGVyLnN2Z1wiLExpZ2h0U3RvcmVmcm9udDpcIi9pY29ucy9zdG9yZS1pY29uLWxpZ2h0LnBuZ1wiLERhcmtTdG9yZWZyb250OlwiL2ljb25zL3N0b3JlLWljb24tZGFyay5wbmdcIixDYWxsSWNvbkxpZ2h0OlwiL2ljb25zL2NhbGwtaWNvbi1saWdodC5zdmdcIixDYWxsSWNvbkRhcms6XCIvaWNvbnMvY2FsbC1pY29uLWRhcmsuc3ZnXCIsQ2hhdEljb25MaWdodDpcIi9pY29ucy9jaGF0LWljb24tbGlnaHQuc3ZnXCIsQ2hhdEljb25EYXJrOlwiL2ljb25zL2NoYXQtaWNvbi1kYXJrLnN2Z1wiLE1lc3NhZ2VJY29uTGlnaHQ6XCIvaWNvbnMvbWVzc2FnZS1pY29uLWxpZ2h0LnN2Z1wiLE1lc3NhZ2VJY29uRGFyazpcIi9pY29ucy9tZXNzYWdlLWljb24tZGFyay5zdmdcIixNaWNyb3NvZnQzNjVBc3NldHM6e01pY3Jvc29mdDM2NURvY3VtZW50SWNvbjpgJHtvfW1pY3Jvc29mdC0zNjUtZG9jdW1lbnQtaWNvbi5zdmdgLE1pY3Jvc29mdDM2NUV4Y2VsSWNvbjpgJHtvfW1pY3Jvc29mdC0zNjUtZXhjZWwtaWNvbi5zdmdgLE1pY3Jvc29mdDM2NVBvd2VycG9pbnRJY29uOmAke299bWljcm9zb2Z0LTM2NS1wb3dlcnBvaW50LWljb24uc3ZnYCxNaWNyb3NvZnQzNjVPdXRsb29rSWNvbjpgJHtvfW1pY3Jvc29mdC0zNjUtb3V0bG9vay1pY29uLnN2Z2AsTWljcm9zb2Z0MzY1VGVhbXNJY29uOmAke299bWljcm9zb2Z0LTM2NS10ZWFtcy1pY29uLnN2Z2AsTWljcm9zb2Z0MzY1SWNvbjpgJHtvfW1pY3Jvc29mdC0zNjUtaWNvbi5zdmdgLFBERkZpbGVJY29uOmAke299cGRmLWZpbGUtaWNvbi5zdmdgfSxEb2NrSWNvbkxpZ2h0OlwiL2ljb25zL2RvY2staWNvbi1saWdodC5wbmdcIixEb2NrSWNvbkRhcms6XCIvaWNvbnMvZG9jay1pY29uLWRhcmsucG5nXCJ9O3ZhciBzOyFmdW5jdGlvbihlKXtlLlNlYXJjaD1cInNlYXJjaFwifShzfHwocz17fSkpfSw1MjM6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtPWDooKT0+b30pO3ZhciBuO2EoNzIzKTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWVcIixlLkJyb3dzZXI9XCIvYnJvd3NlclwiLGUuRW50ZXJwcmlzZT1cIi9lbnRlcnByaXNlXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlclwiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250XCIsZS5Eb2NrPVwiL2RvY2tcIn0obnx8KG49e30pKTtjb25zdCByPVwiL3dvcmtzcGFjZS8yMS4wLjE2XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gcitlfX0sMjc3OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7R1I6KCk9PnMsa2k6KCk9PmQseHQ6KCk9PmN9KTt2YXIgbixyPWEoNzIzKSxvPWEoNzApO2EoOTc4KTshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuRG9jaz1cIkRvY2tcIixlLkVudGVycHJpc2VEb2NrPVwiRW50ZXJwcmlzZURvY2tcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wiLGUuTWljcm9mbG93PVwiTWljcm9mbG93XCJ9KG58fChuPXt9KSk7Y29uc3QgaT1hc3luYyhlLHQsYT1cIndvcmtzcGFjZS1saWNlbnNpbmdcIik9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8ci5ldCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fHIuZXQsYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTphLGRhdGE6bn0pfTtjb25zdCBzPWU9PntvLkYyLnV1aWQ9PT1vLiRwLnV1aWQmJm8uRjIubmFtZT09PW8uJHAubmFtZXx8aShuLkhvbWUsZSl9LGM9ZT0+e2kobi5TdG9yZWZyb250LGUpfSxkPWU9PntpKG4uRG9jayxlKX07bmV3IE1hcH0sMzMzOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7cmV0dXJuIHZvaWQgMCE9PXR5cGVvZiBjcnlwdG8mJlwicmFuZG9tVVVJRFwiaW4gY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjcnlwdG8ucmFuZG9tVVVJRD9jcnlwdG8ucmFuZG9tVVVJRCgpOlwiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwXCIucmVwbGFjZSgvWzAxOF0vZywoZT0+KGVeY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+PmUvNCkudG9TdHJpbmcoMTYpKSl9YS5kKHQse046KCk9Pm59KX0sNzA6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHskcDooKT0+YyxDOigpPT5tLEYyOigpPT5sLElvOigpPT5nLElxOigpPT5zLFE6KCk9Pm4sVDc6KCk9PnUsVHY6KCk9PmQsVjE6KCk9PmksZ1E6KCk9PnAsaGI6KCk9PmYsdXI6KCk9PncseHQ6KCk9Pmh9KTt2YXIgbixyPWEoNDM4KSxvPWEoNzIzKTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJTYXZlTWVudT1cIm9wZW5maW4tYnJvd3Nlci1zYXZlLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wiLGUuQ2xhc3NpY1dpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC1jbGFzc2ljLXdpbmRvd1wiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwib3BlbmZpbi1lbnRlcnByaXNlLWNvbnRleHQtbWVudVwiLGUuQnJvd3NlckFkZHJlc3NTZWFyY2hQcmVmaXg9XCJvcGVuZmluLWJyb3dzZXItbWVudS1hZGRyZXNzLXNlYXJjaC1cIixlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZ1dpbmRvdz1cIm9wZW5maW4tZW50ZXJwcmlzZS1ib29rbWFyay1kaWFsb2dcIixlLkRyb3Bkb3duTWVudT1cIm9wZW5maW4tZW50ZXJwcmlzZS1kcm9wZG93bi1tZW51XCIsZS5Eb2NrQ29tcGFuaW9uPVwib3BlbmZpbi1kb2NrLWNvbXBhbmlvblwifShufHwobj17fSkpO2NvbnN0IGk9ZT0+KHtsZWZ0OihlLmxlZnQrKGUucmlnaHQ/P2UubGVmdCtlLndpZHRoKSkvMix0b3A6KGUudG9wKyhlLmJvdHRvbT8/ZS50b3ArZS5oZWlnaHQpKS8yfSk7ZnVuY3Rpb24gcyhlKXtpZighby5jSSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1jb25zdCBjPXtuYW1lOm8udkwsdXVpZDpvLiRofTtmdW5jdGlvbiBkKCl7cmV0dXJuIHMoYyl9Y29uc3QgbD17bmFtZTpuLkhvbWUsdXVpZDpyLk1XLldvcmtzcGFjZX0sdT17bmFtZTpuLkRvY2ssdXVpZDpyLk1XLldvcmtzcGFjZX0scD17bmFtZTpuLlN0b3JlZnJvbnQsdXVpZDpyLk1XLldvcmtzcGFjZX0saD17bmFtZTpyLk1XLldvcmtzcGFjZSx1dWlkOnIuTVcuV29ya3NwYWNlfTtjb25zdCBmPWFzeW5jIGU9Pnt0cnl7Y29uc3QgdD1hd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKHtuYW1lOmUubmFtZSx1dWlkOmUudXVpZD8/ZmluLm1lLnV1aWR9KS5nZXRPcHRpb25zKCk7cmV0dXJuKFwiYnJvd3NlclwiPT09dC53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZXx8XCJlbnRlcnByaXNlXCI9PT10LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlKSYmdC53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXN9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcImlzQnJvd3NlcldpbmRvdyBlcnJvcjogXCIsZSksITF9fTthc3luYyBmdW5jdGlvbiBnKCl7Y29uc3QgZT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSx0PWF3YWl0IFByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT5mKGUuaWRlbnRpdHkpKSkpO3JldHVybiBlLmZpbHRlcigoKGUsYSk9PnRbYV0pKX1jb25zdCBtPWU9PnMoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKTthc3luYyBmdW5jdGlvbiB3KGUpe2NvbnN0IHQ9YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpO3JldHVyblt0LnByaW1hcnlNb25pdG9yLC4uLnQubm9uUHJpbWFyeU1vbml0b3JzXS5yZWR1Y2UoKCh0LGEpPT57Y29uc3Qgbj1mdW5jdGlvbihlLHQpe2NvbnN0IGE9ZS50b3Asbj1lLmxlZnQscj1lLnRvcCtlLmhlaWdodCxvPWUubGVmdCtlLndpZHRoLGk9dC5tb25pdG9yUmVjdC50b3Ascz10Lm1vbml0b3JSZWN0LmxlZnQsYz10Lm1vbml0b3JSZWN0LmJvdHRvbSxkPXQubW9uaXRvclJlY3QucmlnaHQ7aWYoYT5jfHxyPGl8fG4+ZHx8bzxzKXJldHVybiAwO2NvbnN0IGw9TWF0aC5tYXgoYSxpKSx1PU1hdGgubWF4KG4scyk7cmV0dXJuKE1hdGgubWluKHIsYyktbCkqKE1hdGgubWluKG8sZCktdSkvKGUuaGVpZ2h0KmUud2lkdGgpfShlLGEpO3JldHVybiBuPnQucGVyY2VudGFnZT97cGVyY2VudGFnZTpuLG1vbml0b3I6YX06dH0pLHtwZXJjZW50YWdlOjAsbW9uaXRvcjp0LnByaW1hcnlNb25pdG9yfSkubW9uaXRvcn19fSx0PXt9O2Z1bmN0aW9uIGEobil7dmFyIHI9dFtuXTtpZih2b2lkIDAhPT1yKXJldHVybiByLmV4cG9ydHM7dmFyIG89dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0obyxvLmV4cG9ydHMsYSksby5leHBvcnRzfWEubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIGEuZCh0LHthOnR9KSx0fSxhLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClhLm8odCxuKSYmIWEubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGEubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksYS5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbj17fTsoKCk9PntcInVzZSBzdHJpY3RcIjthLnIobiksYS5kKG4se0FjdGlvblRyaWdnZXI6KCk9PlJlLlAsQXBwTWFuaWZlc3RUeXBlOigpPT5OZS52LEJ1dHRvblN0eWxlOigpPT5CZS5pbixDTElBY3Rpb246KCk9PiQuUEssQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+JC5vbyxDTElUZW1wbGF0ZTooKT0+JC5mQyxDb250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PkJlLmNlLERvY2s6KCk9PmUsRG9ja0J1dHRvbk5hbWVzOigpPT51LmEsSG9tZTooKT0+UyxJbnRlZ3JhdGlvbnM6KCk9PnQsUHJlc2VudGF0aW9uVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5CZS5ucCxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT5SZS5SLFN0b3JlZnJvbnQ6KCk9PkVlLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+TmUueixUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PkJlLlNNfSk7dmFyIGU9e307YS5yKGUpLGEuZChlLHtEb2NrQnV0dG9uTmFtZXM6KCk9PnUuYSxkZXJlZ2lzdGVyOigpPT5tLG1pbmltaXplOigpPT53LHJlZ2lzdGVyOigpPT5nLHNob3c6KCk9Pnl9KTt2YXIgdD17fTthLnIodCksYS5kKHQse01pY3Jvc29mdDM2NVdvcmtmbG93SW50ZWdyYXRpb246KCk9PkRlfSk7dmFyIHI9YSg3MjMpLG89YSg3ODYpLGk9YSgyNzcpLHM9YSg3MCksYz1hKDY5NSksZD1hKDc5KTt2YXIgbD1hKDI0OCksdT1hKDYwMCk7bGV0IHAsaDtjb25zdCBmPShlPVtdKT0+e2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PiEhZS5pZCkpLm1hcCgoZT0+ZS5pZCkpO2lmKG5ldyBTZXQodCkuc2l6ZSE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkRvY2sgcHJvdmlkZXIgYnV0dG9ucyBtdXN0IGhhdmUgdW5pcXVlIGlkZW50aWZpZXJzIGlmIHNwZWNpZmllZC5cIil9LGc9YXN5bmMgZT0+eygwLGwuSCkoXCJkb2NrXCIscy5UNyk7Y29uc3QgdD1hd2FpdChhc3luYyBlPT57YXdhaXQoMCxkLktaKShmaW4ubWUuaWRlbnRpdHkpO2NvbnN0IHQ9YXdhaXQoMCxjLk43KSgpO2lmKGgpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdXNpbmcgYERvY2sucmVnaXN0ZXJgLiBBIERvY2sgcHJvdmlkZXIgZm9yIHRoaXMgV29ya3NwYWNlIFBsYXRmb3JtIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gQ2FsbCBgRG9jay5kZXJlZ2lzdGVyYCBiZWZvcmUgY2FsbGluZyBgRG9jay5yZWdpc3RlcmAgYWdhaW4uXCIpO3JldHVybiBoPWUsZS5jbGllbnRBUElWZXJzaW9uPXIuZXQsdC5kaXNwYXRjaChcInJlZ2lzdGVyLXByb3ZpZGVyXCIse3Byb3ZpZGVyVHlwZTpcImRvY2tcIixpbmZvOmV9KX0pKGUpO3JldHVybiBwPW5ldyBQcm9taXNlKCgoYSxuKT0+e3RyeXsoZT0+e2Uud29ya3NwYWNlQ29tcG9uZW50cyYmIUFycmF5LmlzQXJyYXkoZS53b3Jrc3BhY2VDb21wb25lbnRzKSYmY29uc29sZS53YXJuKFwiVXNpbmcgdGhlIGBXb3Jrc3BhY2VDb21wb25lbnRCdXR0b25PcHRpb25zYCB0eXBlIHRvIGNvbmZpZ3VyZSB0aGUgV29ya3NwYWNlIENvbXBvbmVudHMgQnV0dG9ucyBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBXb3Jrc3BhY2VCdXR0b25zQ29uZmlnYCBpbnN0ZWFkLlwiKX0pKGUpLGYoZS5idXR0b25zKSwoMCxpLmtpKSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOnQ/LndvcmtzcGFjZVZlcnNpb259KSxyLmV0LGEoe2NsaWVudEFQSVZlcnNpb246ci5ldCx3b3Jrc3BhY2VWZXJzaW9uOnQ/LndvcmtzcGFjZVZlcnNpb24/P1wiXCIsdXBkYXRlRG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9PntpZighaCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB1c2luZyBgRG9jay51cGRhdGVEb2NrUHJvdmlkZXJDb25maWdgLiBEb2NrIHByb3ZpZGVyIGlzIG5vdCByZWdpc3RlcmVkLiBNYWtlIHN1cmUgdG8gY2FsbCBgRG9jay5yZWdpc3RlcmAgZmlyc3QuXCIpO2YodC5idXR0b25zKTtjb25zdCBhPWF3YWl0KDAsYy5ONykoKTthd2FpdCBhLmRpc3BhdGNoKFwidXBkYXRlLXByb3ZpZGVyXCIse3Byb3ZpZGVyVHlwZTpcImRvY2tcIixwcm92aWRlcjp7Li4uZSx3b3Jrc3BhY2VDb21wb25lbnRzOnQud29ya3NwYWNlQ29tcG9uZW50cyxidXR0b25zOnQuYnV0dG9ucyx0aXRsZTp0LnRpdGxlLGljb246dC5pY29uLGRpc2FibGVVc2VyUmVhcnJhbmdlbWVudDp0LmRpc2FibGVVc2VyUmVhcnJhbmdlbWVudCxpZDplLmlkfX0pfX0pfWNhdGNoKGUpeygwLGkua2kpKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZSBpbnN0YW5jZW9mIEVycm9yP2UubWVzc2FnZTpcInVua25vd25cIn0pLG4oZSkscD12b2lkIDB9ZmluYWxseXtvLkEubWFya0VuZEFuZE1lYXN1cmUoXCJkb2NrLXJlZ2lzdHJhdGlvblwiKX19KSkscH0sbT1hc3luYygpPT57aWYoYXdhaXQgcCwhaCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB1c2luZyBgRG9jay5kZXJlZ2lzdGVyYC4gRG9jayBwcm92aWRlciBpcyBub3QgcmVnaXN0ZXJlZC4gQ2FsbCBgRG9jay5yZWdpc3RlcmAgYmVmb3JlIGNhbGxpbmcgYERvY2suZGVyZWdpc3RlcmAuXCIpO2NvbnN0IGU9YXdhaXQoMCxjLk43KSgpO2F3YWl0IGUuZGlzcGF0Y2goXCJkZXJlZ2lzdGVyLXByb3ZpZGVyXCIse3Byb3ZpZGVyVHlwZTpcImRvY2tcIixpZDpoLmlkfSksaD12b2lkIDAscD12b2lkIDB9LHc9YXN5bmMoKT0+e2F3YWl0IHAsYXdhaXQoMCxjLm5BKSgpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCgwLGMucDQpKCkpLmRpc3BhdGNoKFwiaGlkZS1wcm92aWRlci13aW5kb3dcIix7cHJvdmlkZXJUeXBlOmV9KSkoXCJkb2NrXCIpfSx5PWFzeW5jKCk9PntvLkEubWFya1N0YXJ0KFwiZG9jay1zaG93XCIpLGF3YWl0IHAsYXdhaXQoMCxjLm5BKSgpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCgwLGMucDQpKCkpLmRpc3BhdGNoKFwic2hvdy1wcm92aWRlci13aW5kb3dcIix7cHJvdmlkZXJUeXBlOmV9KSkoXCJkb2NrXCIpfTt2YXIgdixrLGIsUz1hKDgzNCksUD1mdW5jdGlvbihlLHQsYSxuLHIpe2lmKFwibVwiPT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO2lmKFwiYVwiPT09biYmIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhcjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwiYVwiPT09bj9yLmNhbGwoZSxhKTpyP3IudmFsdWU9YTp0LnNldChlLGEpLGF9LEM9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfTt2PW5ldyBXZWFrTWFwLGs9bmV3IFdlYWtNYXAsYj1uZXcgV2Vha01hcDtjb25zdCB4PWNsYXNze2NvbnN0cnVjdG9yKGUpe3Yuc2V0KHRoaXMsdm9pZCAwKSxrLnNldCh0aGlzLHZvaWQgMCksYi5zZXQodGhpcyx2b2lkIDApLFAodGhpcyx2LGUsXCJmXCIpLFAodGhpcyxrLG5ldyBNYXAsXCJmXCIpLFAodGhpcyxiLFtdLFwiZlwiKX1nZXQoZSl7aWYoQyh0aGlzLGssXCJmXCIpLmhhcyhlKSlyZXR1cm4gdGhpcy51cGRhdGVRdWV1ZShlKSxDKHRoaXMsayxcImZcIikuZ2V0KGUpfWhhcyhlKXtyZXR1cm4gQyh0aGlzLGssXCJmXCIpLmhhcyhlKX1wdXQoZSx0KXtpZihDKHRoaXMsayxcImZcIikuaGFzKGUpKUModGhpcyxrLFwiZlwiKS5zZXQoZSx0KSx0aGlzLnVwZGF0ZVF1ZXVlKGUpO2Vsc2V7aWYoQyh0aGlzLGIsXCJmXCIpLmxlbmd0aD09PUModGhpcyx2LFwiZlwiKSl7Y29uc3QgZT1DKHRoaXMsYixcImZcIikuc2hpZnQoKTtlJiZDKHRoaXMsayxcImZcIikuZGVsZXRlKGUpfUModGhpcyxrLFwiZlwiKS5zZXQoZSx0KSxDKHRoaXMsYixcImZcIikucHVzaChlKX19dXBkYXRlUXVldWUoZSl7Y29uc3QgdD1DKHRoaXMsYixcImZcIikuaW5kZXhPZihlKTstMSE9PXQmJihDKHRoaXMsYixcImZcIikuc3BsaWNlKHQsMSksQyh0aGlzLGIsXCJmXCIpLnB1c2goZSkpfX07ZnVuY3Rpb24gQShlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIE0oZSwuLi50KXtpZighdC5sZW5ndGgpcmV0dXJuIGU7Y29uc3QgYT10LnNoaWZ0KCk7cmV0dXJuIEEoZSkmJkEoYSkmJk9iamVjdC5lbnRyaWVzKGEpLmZvckVhY2goKChbdCxhXSk9PntpZihBKGEpKXJldHVybiBlW3RdfHwoZVt0XT17fSksTShlW3RdLGEpO2VbdF09YX0pKSxNKGUsLi4udCl9dmFyIEksRixXLFQsXyxPPWEoMTgxKSxEPWEoNTIzKSxFPWZ1bmN0aW9uKGUsdCxhLG4scil7aWYoXCJtXCI9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7aWYoXCJhXCI9PT1uJiYhcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFyOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJhXCI9PT1uP3IuY2FsbChlLGEpOnI/ci52YWx1ZT1hOnQuc2V0KGUsYSksYX0sUj1mdW5jdGlvbihlLHQsYSxuKXtpZihcImFcIj09PWEmJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IW46IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJtXCI9PT1hP246XCJhXCI9PT1hP24uY2FsbChlKTpuP24udmFsdWU6dC5nZXQoZSl9O0Y9bmV3IFdlYWtNYXAsVz1uZXcgV2Vha01hcCxUPW5ldyBXZWFrTWFwLEk9bmV3IFdlYWtTZXQsXz1mdW5jdGlvbigpe2NvbnN0IGU9QXJyYXkuZnJvbShSKHRoaXMsRixcImZcIikuZW50cmllcygpKS5yZWR1Y2UoKChlLHQpPT4hZXx8dFsxXS50aW1lc3RhbXA8ZVsxXS50aW1lc3RhbXA/dDplKSxudWxsKTtyZXR1cm4gZT9lWzBdOm51bGx9O2NvbnN0IEI9Y2xhc3N7Y29uc3RydWN0b3IoZT0zZTUsdD0xMDApe0kuYWRkKHRoaXMpLEYuc2V0KHRoaXMsdm9pZCAwKSxXLnNldCh0aGlzLHZvaWQgMCksVC5zZXQodGhpcyx2b2lkIDApLEUodGhpcyxGLG5ldyBNYXAsXCJmXCIpLEUodGhpcyxXLGUsXCJmXCIpLEUodGhpcyxULHQsXCJmXCIpfWdldChlKXtjb25zdCB0PVIodGhpcyxGLFwiZlwiKS5nZXQoZSk7aWYoIXQpcmV0dXJuIG51bGw7cmV0dXJuIERhdGUubm93KCktdC50aW1lc3RhbXA8Uih0aGlzLFcsXCJmXCIpP3QudmFsdWU6KFIodGhpcyxGLFwiZlwiKS5kZWxldGUoZSksbnVsbCl9cHV0KGUsdCl7aWYoUih0aGlzLEYsXCJmXCIpLnNpemU+PVIodGhpcyxULFwiZlwiKSl7Y29uc3QgZT1SKHRoaXMsSSxcIm1cIixfKS5jYWxsKHRoaXMpO251bGwhPWUmJlIodGhpcyxGLFwiZlwiKS5kZWxldGUoZSl9Uih0aGlzLEYsXCJmXCIpLnNldChlLHt2YWx1ZTp0LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9cmVtb3ZlKGUpe1IodGhpcyxGLFwiZlwiKS5kZWxldGUoZSl9Y2xlYXIoKXtSKHRoaXMsRixcImZcIikuY2xlYXIoKX19O3ZhciBOLEw9YSgzMzMpLCQ9YSg4NzIpLEc9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfTtjb25zdCBVPXt9O2NsYXNzIFZ7Y29uc3RydWN0b3IoZSl7Ti5zZXQodGhpcyxuZXcgU2V0KSx0aGlzLl9pbml0aWFsaXplV29ya2Zsb3dzPWFzeW5jKGU9dGhpcy5jb25maWcpPT57Y29uc3R7d29ya2Zsb3dzOnR9PWU7Zm9yKGNvbnN0IGUgaW4gdCl7aWYoIXRbZV0uZGlzYWJsZUF1dG9Jbml0aWFsaXplKXRyeXtHKHRoaXMsTixcImZcIikuaGFzKGUpP2NvbnNvbGUud2FybihgV29ya2Zsb3cgJHtlfSBhbHJlYWR5IGluaXRpYWxpemVkLmApOihHKHRoaXMsTixcImZcIikuYWRkKGUpLGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVdvcmtmbG93KGUpKX1jYXRjaCh0KXtHKHRoaXMsTixcImZcIikuZGVsZXRlKGUpLGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlZ2lzdGVyaW5nICR7ZX06YCx0KX19fTtjb25zdCB0PU0oe30sVSxlKTt0aGlzLmNvbmZpZz10fWFzeW5jIGluaXRpYWxpemVXb3JrZmxvdyhlKXtHKHRoaXMsTixcImZcIikuYWRkKGUpfX1OPW5ldyBXZWFrTWFwO2NvbnN0IHo9cmVxdWlyZShcIkBvcGVuZmluL21pY3Jvc29mdDM2NVwiKTtsZXQgSD0wO2NvbnN0IHE9e2NoYXRNZXNzYWdlOlwiQ2hhdCBNZXNzYWdlXCIsZXZlbnQ6XCJFdmVudFwiLG1lc3NhZ2U6XCJFbWFpbFwiLGRyaXZlOlwiRG9jdW1lbnRcIixjb250YWN0OlwiQ29udGFjdFwiLHVzZXI6XCJVc2VyXCIsbGlzdDpcIkxpc3RcIn0saj17cGRmOlwiUERGXCIsZG9jeDpcIldvcmRcIixwcHR4OlwiUG93ZXJQb2ludFwiLHhsc3g6XCJFeGNlbFwiLG9uZW5vdGU6XCJPbmVOb3RlXCJ9LFg9e2NoYXRNZXNzYWdlOltcIkNoYXQuUmVhZFwiLFwiQ2hhbm5lbE1lc3NhZ2UuUmVhZC5BbGxcIl0sbGlzdDpbXCJTaXRlcy5SZWFkLkFsbFwiXSxldmVudDpbXCJDYWxlbmRhcnMuUmVhZFwiXSxtZXNzYWdlOltcIk1haWwuUmVhZFdyaXRlLlNoYXJlZFwiXSxjb250YWN0OltcIkNvbnRhY3RzLlJlYWQuU2hhcmVkXCIsXCJNYWlsLlJlYWRXcml0ZS5TaGFyZWRcIl0sdXNlcjpbXCJVc2VyLlJlYWQuQWxsXCIsXCJQcmVzZW5jZS5SZWFkLkFsbFwiXX0sSz1cIk1JQ1JPU09GVF8zNjVfU0VBUkNIX1RZUEVfRklMVEVSXCIsUT1cIk1JQ1JPU09GVF8zNjVfU0VBUkNIX0ZJTEVfVFlQRV9GSUxURVJcIixaPVwiTUlDUk9TT0ZUXzM2NV9TRUFSQ0hfREVQQVJUTUVOVF9GSUxURVJcIixZPVwiTUlDUk9TT0ZUXzM2NV9TRUFSQ0hfSk9CX1RJVExFX0ZJTFRFUlwiLEo9XCJUZWFtcyBDYWxsXCIsZWU9XCJUZWFtcyBDaGF0XCIsdGU9XCJFbWFpbFwiLGFlPShlLHQpPT57Y29uc3QgYT1bXSxuPXtpdGVtOmUuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1LKSksZG9jdW1lbnRUeXBlOmUuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1RKSl9LHI9W3t2YWx1ZTpcIkRvY3VtZW50XCIsaXNTZWxlY3RlZDohIW4uaXRlbT8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTplfSk9PlwiRmlsZVwiPT09ZSkpPy5pc1NlbGVjdGVkfSx7dmFsdWU6XCJDb250YWN0XCIsaXNTZWxlY3RlZDohIW4uaXRlbT8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTplfSk9PlwiQ29udGFjdFwiPT09ZSkpPy5pc1NlbGVjdGVkfSx7dmFsdWU6XCJDaGF0IE1lc3NhZ2VcIixpc1NlbGVjdGVkOiEhbi5pdGVtPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJDaGF0IE1lc3NhZ2VcIj09PWUpKT8uaXNTZWxlY3RlZH0se3ZhbHVlOlwiRW1haWxcIixpc1NlbGVjdGVkOiEhbi5pdGVtPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJFbWFpbFwiPT09ZSkpPy5pc1NlbGVjdGVkfSx7dmFsdWU6XCJFdmVudFwiLGlzU2VsZWN0ZWQ6ISFuLml0ZW0/Lm9wdGlvbnM/LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkV2ZW50XCI9PT1lKSk/LmlzU2VsZWN0ZWR9LHt2YWx1ZTpcIkxpc3RcIixpc1NlbGVjdGVkOiEhbi5pdGVtPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJMaXN0XCI9PT1lKSk/LmlzU2VsZWN0ZWR9XTtyZXR1cm4gYS5wdXNoKHtpZDpLLHRpdGxlOlwiVHlwZVwiLHR5cGU6JC5vby5NdWx0aVNlbGVjdCxvcHRpb25zOnIuZmlsdGVyKChlPT50LmhhcyhlLnZhbHVlKSkpfSksXCJEb2N1bWVudFwiPT09bi5pdGVtPy5vcHRpb25zPy5maWx0ZXIoKGU9PmUuaXNTZWxlY3RlZCkpPy5bMF0udmFsdWUmJmEucHVzaCh7aWQ6USx0aXRsZTpcIkZpbGUgVHlwZVwiLHR5cGU6JC5vby5NdWx0aVNlbGVjdCxvcHRpb25zOk9iamVjdC5lbnRyaWVzKGopLm1hcCgoKFssZV0pPT4oe3ZhbHVlOmUsaXNTZWxlY3RlZDohIW4uZG9jdW1lbnRUeXBlPy5vcHRpb25zPy5maWx0ZXIoKGU9PmUuaXNTZWxlY3RlZCkpPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJGaWxlXCI9PT1lKSk/LmlzU2VsZWN0ZWR9KSkpfSksYX0sbmU9KGUsdCk9Pntjb25zdCBhPXQuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1LKSk/Lm9wdGlvbnM7aWYoIUFycmF5LmlzQXJyYXkoYSl8fCFhLmZpbmQoKGU9PlwiQ29udGFjdFwiPT09ZS52YWx1ZXx8XCJVc2VyXCI9PT1lLnZhbHVlKSk/LmlzU2VsZWN0ZWQpcmV0dXJuW107Y29uc3R7ZGVwYXJ0bWVudDpuLGpvYlRpdGxlOnJ9PWUucmVkdWNlKCgoZSx0KT0+KHQuZGVwYXJ0bWVudCYmZS5kZXBhcnRtZW50LmFkZCh0LmRlcGFydG1lbnQpLHQuam9iVGl0bGUmJmUuam9iVGl0bGUuYWRkKHQuam9iVGl0bGUpLGUpKSx7ZGVwYXJ0bWVudDpuZXcgU2V0LGpvYlRpdGxlOm5ldyBTZXR9KSxvPXQuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1aKSksaT1BcnJheS5mcm9tKG4pLm1hcCgoZT0+KHt2YWx1ZTplLGlzU2VsZWN0ZWQ6ISFvPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOnR9KT0+dD09PWUpKT8uaXNTZWxlY3RlZH0pKSkscz10LmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09WikpLGM9QXJyYXkuZnJvbShyKS5tYXAoKGU9Pih7dmFsdWU6ZSxpc1NlbGVjdGVkOiEhcz8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTp0fSk9PnQ9PT1lKSk/LmlzU2VsZWN0ZWR9KSkpO3JldHVyblt7aWQ6Wix0aXRsZTpcIkRlcGFydG1lbnRcIix0eXBlOiQub28uTXVsdGlTZWxlY3Qsb3B0aW9uczppfSx7aWQ6WSx0aXRsZTpcIkpvYiBUaXRsZVwiLHR5cGU6JC5vby5NdWx0aVNlbGVjdCxvcHRpb25zOmN9XX0scmU9ZT0+e2NvbnN0IHQ9ZS5jb250ZXh0LnNlbGVjdGVkRmlsdGVycz8uZmluZCgoZT0+ZS5pZD09PVopKSxhPUFycmF5LmlzQXJyYXkodD8ub3B0aW9ucyk/dC5vcHRpb25zLmZpbHRlcigoZT0+ZS5pc1NlbGVjdGVkKSkubWFwKChlPT5lLnZhbHVlKSk6W10sbj1lLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09WSkpO3JldHVybntkZXBhcnRtZW50OmEsam9iVGl0bGU6QXJyYXkuaXNBcnJheShuPy5vcHRpb25zKT9uLm9wdGlvbnMuZmlsdGVyKChlPT5lLmlzU2VsZWN0ZWQpKS5tYXAoKGU9PmUudmFsdWUpKTpbXX19LG9lPShlLHQpPT57Y29uc3R7ZGVwYXJ0bWVudDphLGpvYlRpdGxlOm59PXQ7cmV0dXJuIGUuZmlsdGVyKChlPT4oIWEubGVuZ3RofHxhLmluY2x1ZGVzKGUuZGVwYXJ0bWVudCkpJiYoIW4ubGVuZ3RofHxuLmluY2x1ZGVzKGUuam9iVGl0bGUpKSkpfSxpZT1lPT57Y29uc3QgdD1BcnJheS5pc0FycmF5KGUuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1RKSk/Lm9wdGlvbnMpP2UuY29udGV4dC5zZWxlY3RlZEZpbHRlcnMuZmluZCgoZT0+ZS5pZD09PVEpKT8ub3B0aW9uczpbXTtyZXR1cm57ZmlsdGVyRmlsZXM6dCYmdC5zb21lKCgoe2lzU2VsZWN0ZWQ6ZX0pPT5lKSksc2hvd1dvcmQ6dC5maW5kKCgoe3ZhbHVlOmV9KT0+XCJXb3JkXCI9PT1lKSk/LmlzU2VsZWN0ZWQsc2hvd0V4Y2VsOnQuZmluZCgoKHt2YWx1ZTplfSk9PlwiRXhjZWxcIj09PWUpKT8uaXNTZWxlY3RlZCxzaG93UG93ZXJQb2ludDp0LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIlBvd2VyUG9pbnRcIj09PWUpKT8uaXNTZWxlY3RlZCxzaG93UERGOnQuZmluZCgoKHt2YWx1ZTplfSk9PlwiUERGXCI9PT1lKSk/LmlzU2VsZWN0ZWQsc2hvd09uZU5vdGU6dC5maW5kKCgoe3ZhbHVlOmV9KT0+XCJPbmVOb3RlXCI9PT1lKSk/LmlzU2VsZWN0ZWR9fSxzZT0oZSx0KT0+e2NvbnN0IGE9W107cmV0dXJuIHQuc2hvd1dvcmQmJmEucHVzaChcIi5kb2N4XCIpLHQuc2hvd0V4Y2VsJiZhLnB1c2goXCIueGxzeFwiKSx0LnNob3dQb3dlclBvaW50JiZhLnB1c2goXCIucHB0eFwiKSx0LnNob3dQREYmJmEucHVzaChcIi5wZGZcIiksdC5zaG93T25lTm90ZSYmYS5wdXNoKFwiLm9uZVwiKSxlLmZpbHRlcigoZT0+e2lmKGUuZmlsZSl7Y29uc3QgdD1lLm5hbWUuc3Vic3RyaW5nKGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIikpO3JldHVybiBhLmluY2x1ZGVzKHQpfXJldHVybiExfSkpfSxjZT0oZT1cIlwiKT0+e3N3aXRjaChlLnNwbGl0KFwiLlwiKS5wb3AoKT8udG9Mb3dlckNhc2UoKT8/XCJcIil7Y2FzZVwiZG9jeFwiOmNhc2VcImRvY1wiOnJldHVyblwiTWljcm9zb2Z0IFdvcmRcIjtjYXNlXCJ4bHN4XCI6Y2FzZVwieGxzXCI6cmV0dXJuXCJNaWNyb3NvZnQgRXhjZWxcIjtjYXNlXCJwcHR4XCI6Y2FzZVwicHB0XCI6cmV0dXJuXCJNaWNyb3NvZnQgUG93ZXJQb2ludFwiO2Nhc2VcInBkZlwiOnJldHVyblwiUERGXCI7Y2FzZVwicG5nXCI6Y2FzZVwianBnXCI6Y2FzZVwianBlZ1wiOmNhc2VcImdpZlwiOnJldHVyblwiSW1hZ2VcIjtjYXNlXCJ0eHRcIjpyZXR1cm5cIlRleHRcIjtkZWZhdWx0OnJldHVyblwiRmlsZVwifX0sZGU9KGU9XCJcIik9Pntzd2l0Y2goZS5zcGxpdChcIi5cIikucG9wKCk/LnRvTG93ZXJDYXNlKCk/P1wiXCIpe2Nhc2VcImRvY3hcIjpjYXNlXCJkb2NcIjpyZXR1cm4oMCxELk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVEb2N1bWVudEljb24pO2Nhc2VcInhsc3hcIjpjYXNlXCJ4bHNcIjpyZXR1cm4oMCxELk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVFeGNlbEljb24pO2Nhc2VcInBwdHhcIjpjYXNlXCJwcHRcIjpyZXR1cm4oMCxELk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVQb3dlcnBvaW50SWNvbik7Y2FzZVwicGRmXCI6cmV0dXJuKDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuUERGRmlsZUljb24pO2RlZmF1bHQ6cmV0dXJufX0sbGU9ZT0+ZS5yZXBsYWNlKC9cXCsvZyxcIl9cIikucmVwbGFjZSgvXFwvL2csXCItXCIpO3ZhciB1ZSxwZSxoZSxmZSxnZSxtZSx3ZSx5ZSx2ZSxrZSxiZSxTZSxQZSxDZSx4ZSxBZSxNZSxJZSxGZSxXZSxUZSxfZT1mdW5jdGlvbihlLHQsYSxuKXtpZihcImFcIj09PWEmJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IW46IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJtXCI9PT1hP246XCJhXCI9PT1hP24uY2FsbChlKTpuP24udmFsdWU6dC5nZXQoZSl9LE9lPWZ1bmN0aW9uKGUsdCxhLG4scil7aWYoXCJtXCI9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7aWYoXCJhXCI9PT1uJiYhcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFyOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJhXCI9PT1uP3IuY2FsbChlLGEpOnI/ci52YWx1ZT1hOnQuc2V0KGUsYSksYX07Y2xhc3MgRGUgZXh0ZW5kcyBWe2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9TSh7fSx7d29ya2Zsb3dzOntzZWFyY2g6KEgrPTEse2hvbWVQcm92aWRlcjp7ZGVzY3JpcHRpb246XCJNaWNyb3NvZnQgMzY1IHNlYXJjaCByZXN1bHRzIHByb3ZpZGVyXCIsaWQ6YE1TMzY1LSR7ZmluLm1lLmlkZW50aXR5LnV1aWR9LSR7SH1gLGxvZ29Vcmw6KDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1SWNvbiksaWNvbjooMCxELk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVJY29uKSx0aXRsZTpcIk1pY3Jvc29mdCAzNjUgU2VhcmNoXCIsaW5wdXRQbGFjZWhvbGRlcjpcIldoYXQgd291bGQgeW91IGxpa2UgdG8gc2VhcmNoIGluIE1pY3Jvc29mdCAzNjUgdG9kYXk/XCIsZGlzcGF0Y2hGb2N1c0V2ZW50czohMH0sbWljcm9zb2Z0RW50aXR5VHlwZUNvbmZpZzp7bWVzc2FnZTohMCxjaGF0TWVzc2FnZTohMCxkcml2ZTohMCxldmVudDohMCx1c2VyOiEwLGNvbnRhY3Q6ITAsbGlzdDohMH0sdXNlVGVhbXNEZWVwTGluazohMH0pfX0sZSk7c3VwZXIodCksdWUuYWRkKHRoaXMpLHBlLnNldCh0aGlzLHZvaWQgMCksdGhpcy53b3JrZmxvd0ludGVncmF0aW9uTmFtZT1cIk1pY3Jvc29mdCAzNjVcIixoZS5zZXQodGhpcyx2b2lkIDApLGZlLnNldCh0aGlzLHZvaWQgMCksZ2Uuc2V0KHRoaXMsMSksbWUuc2V0KHRoaXMsbmV3IFNldCksd2Uuc2V0KHRoaXMsbmV3IHgoMTAwKSkseWUuc2V0KHRoaXMsbmV3IEIoNmU0KSksdGhpcy5jb25uZWN0PWFzeW5jKGU9dGhpcy5jb25maWcuY29ubmVjdCk9Pntjb25zdHtjbGllbnRJZDp0LHRlbmFudElkOmEscmVkaXJlY3RVcmk6bn09ZSxyPXRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoP09iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoPy5taWNyb3NvZnRFbnRpdHlUeXBlQ29uZmlnPz97fSkuZmlsdGVyKCgoW2UsdF0pPT50KSkubWFwKCgoW2VdKT0+WFtlXSkpLmZpbHRlcigoZT0+dm9pZCAwIT09ZSkpLmZsYXQoKTpbXTt0aGlzLmNvbmZpZy5jb25uZWN0PWUsT2UodGhpcyxwZSxhd2FpdCgwLHouY29ubmVjdCkodCxhLG4sWy4uLm5ldyBTZXQocildKSxcImZcIil9LHZlLnNldCh0aGlzLCgoKT0+e2lmKCFfZSh0aGlzLHBlLFwiZlwiKSl0aHJvdyBuZXcgRXJyb3IoXCJNaWNyb3NvZnQzNjVXb3JrZmxvd0ludGVncmF0aW9uIG5vdCBjb25uZWN0ZWRcIik7cmV0dXJuIF9lKHRoaXMscGUsXCJmXCIpfSkpLENlLnNldCh0aGlzLChhc3luYyBlPT57aWYoT2UodGhpcyxmZSxlLFwiZlwiKSxlLmRhdGE/Lml0ZW0/LmlkKXtjb25zdCB0PV9lKHRoaXMseWUsXCJmXCIpLmdldChlLmRhdGEuaXRlbS5pZCk7aWYodClyZXR1cm4gdm9pZCBfZSh0aGlzLGhlLFwiZlwiKS5yZXNwb25kKFt0XSl9aWYoXCJ1c2VyXCI9PT1lLmRhdGE/LnR5cGUpX2UodGhpcyxGZSxcImZcIikuY2FsbCh0aGlzLGUpfSkpLHhlLnNldCh0aGlzLChhc3luYyBlPT57YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KHtsYXlvdXQ6e2NvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e3VybDplfX1dfV19LHdvcmtzcGFjZVBsYXRmb3JtOnZvaWQgMH0pfSkpLEFlLnNldCh0aGlzLChhc3luYyBlPT57aWYoZS5kYXRhLml0ZW0uY2hhbm5lbElkZW50aXR5LnRlYW1JZCl7Y29uc3QgdD1uZXcgVVJMKGBtc3RlYW1zOi9sL2NoYW5uZWwvJHtlLmRhdGEuaXRlbS5jaGFubmVsSWRlbnRpdHkuY2hhbm5lbElkfS8ke2UuZGF0YS5pdGVtLmlkfWApO3JldHVybiExPT09dGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmsmJih0LnByb3RvY29sPVwiaHR0cHM6XCIpLHQuc2VhcmNoUGFyYW1zLmFwcGVuZChcImNvbnRleHRcIixKU09OLnN0cmluZ2lmeSh7Y29udGV4dFR5cGU6XCJjaGFubmVsXCJ9KSksdm9pZCBhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3Nlcih0LnRvU3RyaW5nKCkpfWNvbnN0IHQ9bmV3IFVSTChgbXN0ZWFtczovbC9tZXNzYWdlLyR7ZS5kYXRhLml0ZW0uY2hhdElkfS8ke2UuZGF0YS5pdGVtLmlkfWApOyExPT09dGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmsmJih0LnByb3RvY29sPVwiaHR0cHM6XCIpLHQuc2VhcmNoUGFyYW1zLmFwcGVuZChcImNvbnRleHRcIixKU09OLnN0cmluZ2lmeSh7Y29udGV4dFR5cGU6XCJjaGF0XCJ9KSksYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIodC50b1N0cmluZygpKX0pKSxNZS5zZXQodGhpcywoYXN5bmMgZT0+e3N3aXRjaChlLmFjdGlvbi5uYW1lKXtjYXNlIEo6e2NvbnN0IHQ9bmV3IHouVGVhbXNDb25uZWN0aW9uKF9lKHRoaXMsdmUsXCJmXCIpLmNhbGwodGhpcyksdGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmspO19lKHRoaXMsdWUsXCJtXCIsa2UpLmNhbGwodGhpcywoKCk9PnQuc3RhcnRDYWxsKFtlLmRhdGEuaXRlbS5tYWlsXSkpKTticmVha31jYXNlIHRlOntjb25zdCB0PWF3YWl0IHRoaXMuZXhlY3V0ZUFwaVJlcXVlc3QoXCIvdjEuMC9tZS9tZXNzYWdlc1wiLFwiUE9TVFwiLHt0b1JlY2lwaWVudHM6W3tlbWFpbEFkZHJlc3M6e2FkZHJlc3M6ZS5kYXRhLml0ZW0ubWFpbH19XX0pO2xldCBhPXQuZGF0YS53ZWJMaW5rO2NvbnN0IG49bmV3IFVSTCh0LmRhdGEud2ViTGluayk7aWYoXCIvb3dhL1wiPT09bi5wYXRobmFtZSl7Y29uc3QgZT1uLnNlYXJjaC5zbGljZSgxKS5zcGxpdChcIiZcIikucmVkdWNlKCgoZSx0KT0+e2NvbnN0W2Esbl09dC5zcGxpdChcIj1cIik7cmV0dXJuIGVbYV09bixlfSkse30pO2lmKGUuSXRlbUlEKXtjb25zdCB0PWUuSXRlbUlEO2E9YCR7bi5vcmlnaW59L21haWwvZGVlcGxpbmsvY29tcG9zZS8ke3R9P0l0ZW1JRD0ke3R9JmV4dnN1cmw9MWB9fWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVZpZXcoe3VybDphfSk7YnJlYWt9Y2FzZSBlZTp7Y29uc3QgdD1fZSh0aGlzLHZlLFwiZlwiKS5jYWxsKHRoaXMpLGE9bmV3IHouVGVhbXNDb25uZWN0aW9uKHQsdGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmspO19lKHRoaXMsdWUsXCJtXCIsa2UpLmNhbGwodGhpcywoKCk9PmEuc3RhcnRDaGF0KHtlbWFpbEFkZHJlc3NlczpbdC5jdXJyZW50VXNlci5tYWlsLGUuZGF0YS5pdGVtLm1haWxdfSkpKTticmVha31kZWZhdWx0OmNvbnNvbGUud2FybihcIlVuaGFuZGxlZCB1c2VyIGFjdGlvbiBmb3IgcmVzdWx0OlwiLGUsYFVua25vd24gYWN0aW9uIFwiJHtlLmFjdGlvbi5uYW1lfVwiYCl9fSkpLEllLnNldCh0aGlzLChhc3luYyBlPT57c3dpdGNoKGUuZGF0YS50eXBlKXtjYXNlXCJkcml2ZUl0ZW1cIjpfZSh0aGlzLHhlLFwiZlwiKS5jYWxsKHRoaXMsZS5kYXRhLml0ZW0ud2ViVXJsKTticmVhaztjYXNlXCJldmVudFwiOntjb25zdCB0PWUuZGF0YS5pdGVtLGE9YXdhaXQgdGhpcy5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvbWUvZXZlbnRzLyR7dC5pZH1gKTtfZSh0aGlzLHhlLFwiZlwiKS5jYWxsKHRoaXMsYS5kYXRhLndlYkxpbmspO2JyZWFrfWNhc2VcImNoYXRNZXNzYWdlXCI6X2UodGhpcyxBZSxcImZcIikuY2FsbCh0aGlzLGUpO2JyZWFrO2Nhc2VcIm1lc3NhZ2VcIjpfZSh0aGlzLHhlLFwiZlwiKS5jYWxsKHRoaXMsZS5kYXRhLml0ZW0ud2ViTGluayk7YnJlYWs7Y2FzZVwibGlzdFwiOntjb25zdCB0PWUuZGF0YS5pdGVtLGE9YXdhaXQgdGhpcy5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvc2l0ZXMvJHt0LnBhcmVudFJlZmVyZW5jZT8uc2l0ZUlkfS9saXN0cy8ke3QuaWR9YCk7X2UodGhpcyx4ZSxcImZcIikuY2FsbCh0aGlzLGEuZGF0YS53ZWJVcmwpO2JyZWFrfWNhc2VcInVzZXJcIjpfZSh0aGlzLE1lLFwiZlwiKS5jYWxsKHRoaXMsZSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJVbmhhbmRsZWQgdXNlciBhY3Rpb24gZm9yIHJlc3VsdDpcIixlLGBVbmtub3duIHJlc3VsdCB0eXBlIFwiJHtlLmRhdGEudHlwZX1cImApfX0pKSxGZS5zZXQodGhpcywoYXN5bmMgZT0+e2xldCB0LGE7Y29uc3Qgbj1bXSxyPWUuZGF0YS5pdGVtO19lKHRoaXMsd2UsXCJmXCIpLmhhcyhyLmlkKT90PV9lKHRoaXMsd2UsXCJmXCIpLmdldChyLmlkKTpuLnB1c2goe2lkOlwiY29udGFjdFBob3RvXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvdXNlcnMvJHtlLmRhdGEuaXRlbS5pZH0vcGhvdG8vJHZhbHVlYCxoZWFkZXJzOntDb25zaXN0ZW5jeUxldmVsOlwiZXZlbnR1YWxcIn19KSxuLnB1c2goe2lkOlwicHJlc2VuY2VcIixtZXRob2Q6XCJHRVRcIix1cmw6YC91c2Vycy8ke2UuZGF0YS5pdGVtLmlkfS9wcmVzZW5jZWB9KTt0cnl7Y29uc3QgZT1hd2FpdCBfZSh0aGlzLHVlLFwibVwiLGJlKS5jYWxsKHRoaXMsbiksaT1lLmRhdGE/LnJlc3BvbnNlcy5maW5kKChlPT5cImNvbnRhY3RQaG90b1wiPT09ZS5pZCkpO2kmJjIwMCE9PWkuc3RhdHVzJiZjb25zb2xlLndhcm4oXCJFcnJvciBmZXRjaGluZyB1c2VyIHBob3RvXCIsaSksaT8uYm9keSYmMjAwPT09aT8uc3RhdHVzJiYodD1gZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwke2kuYm9keX1gLF9lKHRoaXMsd2UsXCJmXCIpLnB1dChyLmlkLHQpKTtjb25zdCBzPWUuZGF0YT8ucmVzcG9uc2VzLmZpbmQoKGU9PlwicHJlc2VuY2VcIj09PWUuaWQpKTsyMDAhPT1zLnN0YXR1cyYmY29uc29sZS53YXJuKFwiRXJyb3IgZmV0Y2hpbmcgdXNlciBwcmVzZW5jZVwiLHMpLHM/LmJvZHkmJjIwMD09PXMuc3RhdHVzJiYobz1zLmJvZHksYT17YXZhaWxhYmxlOlwiYXZhaWxhYmxlXCIsYXZhaWxhYmxlaWRsZTpcImF2YWlsYWJsZVwiLGF3YXk6XCJhd2F5XCIsYmVyaWdodGJhY2s6XCJhd2F5XCIsYnVzeTpcImJ1c3lcIixidXN5aWRsZTpcImJ1c3lcIixkb25vdGRpc3R1cmI6XCJkby1ub3QtZGlzdHVyYlwiLG9mZmxpbmU6XCJvZmZsaW5lXCIscHJlc2VuY2V1bmtub3duOlwib2ZmbGluZVwifVtvLmF2YWlsYWJpbGl0eT8udG9Mb3dlckNhc2UoKV0pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIGRhdGFcIixlKX12YXIgbztjb25zdCBpPVtbXCJEZXBhcnRtZW50XCIsci5kZXBhcnRtZW50fHxcIk4vQVwiXSxbXCJFbWFpbFwiLHIubWFpbHx8XCJOL0FcIl0sW1wiV29yayBQaG9uZVwiLHIuYnVzaW5lc3NQaG9uZXM/LlswXXx8XCJOL0FcIl0sW1wiTW9iaWxlXCIsci5tb2JpbGVQaG9uZXx8XCJOL0FcIl0sW1wiTG9jYXRpb25cIixyLm9mZmljZUxvY2F0aW9ufHxcIk4vQVwiXV0scz17Li4uZSx0ZW1wbGF0ZTokLmZDLkNvbnRhY3QsdGVtcGxhdGVDb250ZW50OntuYW1lOmUuZGF0YS5pdGVtLmRpc3BsYXlOYW1lLHRpdGxlOmUuZGF0YS5pdGVtLmpvYlRpdGxlLGRldGFpbHM6W2ldLHBob3RvVXJsOnQsb25saW5lU3RhdHVzOmEsYnV0dG9uczpbe3R5cGU6XCJidXR0b25cIixpY29uOntsaWdodDooMCxELk9YKShPLnNQLkNhbGxJY29uTGlnaHQpLGRhcms6KDAsRC5PWCkoTy5zUC5DYWxsSWNvbkRhcmspfSx0b29sdGlwOlwiVGVhbXMgQ2FsbFwiLGFjdGlvbjpKfSx7dHlwZTpcImJ1dHRvblwiLGljb246e2xpZ2h0OigwLEQuT1gpKE8uc1AuQ2hhdEljb25MaWdodCksZGFyazooMCxELk9YKShPLnNQLkNoYXRJY29uRGFyayl9LHRvb2x0aXA6XCJDaGF0XCIsYWN0aW9uOmVlfSx7dHlwZTpcImJ1dHRvblwiLGljb246e2xpZ2h0OigwLEQuT1gpKE8uc1AuTWVzc2FnZUljb25MaWdodCksZGFyazooMCxELk9YKShPLnNQLk1lc3NhZ2VJY29uRGFyayl9LHRvb2x0aXA6XCJFLW1haWxcIixhY3Rpb246dGV9XX19O19lKHRoaXMseWUsXCJmXCIpLnB1dChlLmRhdGEuaXRlbS5pZCxzKSxfZSh0aGlzLGhlLFwiZlwiKS5yZXNwb25kKFtzXSl9KSksV2Uuc2V0KHRoaXMsKGFzeW5jKGUsdCk9PntpZihfZSh0aGlzLGhlLFwiZlwiKSYmX2UodGhpcyxoZSxcImZcIikuY2xvc2UoKSxPZSh0aGlzLGhlLHQsXCJmXCIpLF9lKHRoaXMsaGUsXCJmXCIpLm9wZW4oKSxlLnF1ZXJ5Lmxlbmd0aDxfZSh0aGlzLGdlLFwiZlwiKSlyZXR1cm57cmVzdWx0czpbXX07Y29uc3QgYT1lbmNvZGVVUklDb21wb25lbnQoZS5xdWVyeSksbj1bXSxyPSgoZSx0KT0+e2NvbnN0IGE9QXJyYXkuaXNBcnJheShlLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09SykpPy5vcHRpb25zKT9lLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzLmZpbmQoKGU9PmUuaWQ9PT1LKSk/Lm9wdGlvbnM6W10sbj1hLmV2ZXJ5KCgoe2lzU2VsZWN0ZWQ6ZX0pPT4hZSkpO3JldHVybntzaG93RG9jdW1lbnRzOnQuaGFzKFwiRG9jdW1lbnRcIikmJihufHwhIWEuZmluZCgoKHt2YWx1ZTplfSk9PlwiRG9jdW1lbnRcIj09PWUpKT8uaXNTZWxlY3RlZCksc2hvd0NvbnRhY3RzOnQuaGFzKFwiQ29udGFjdFwiKSYmKG58fCEhYS5maW5kKCgoe3ZhbHVlOmV9KT0+XCJDb250YWN0XCI9PT1lKSk/LmlzU2VsZWN0ZWQpLHNob3dDaGF0TWVzc2FnZXM6dC5oYXMoXCJDaGF0IE1lc3NhZ2VcIikmJihufHwhIWEuZmluZCgoKHt2YWx1ZTplfSk9PlwiQ2hhdCBNZXNzYWdlXCI9PT1lKSk/LmlzU2VsZWN0ZWQpLHNob3dNZXNzYWdlczp0LmhhcyhcIkVtYWlsXCIpJiYobnx8ISFhLmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkVtYWlsXCI9PT1lKSk/LmlzU2VsZWN0ZWQpLHNob3dFdmVudHM6dC5oYXMoXCJFdmVudFwiKSYmKG58fCEhYS5maW5kKCgoe3ZhbHVlOmV9KT0+XCJFdmVudFwiPT09ZSkpPy5pc1NlbGVjdGVkKSxzaG93TGlzdHM6dC5oYXMoXCJMaXN0XCIpJiYobnx8ISFhLmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkxpc3RcIj09PWUpKT8uaXNTZWxlY3RlZCl9fSkoZSxfZSh0aGlzLG1lLFwiZlwiKSk7aWYoci5zaG93RG9jdW1lbnRzKXtjb25zdCBlPWAnJHthfSdgO24ucHVzaCh7aWQ6XCJkcml2ZUl0ZW1cIixtZXRob2Q6XCJHRVRcIix1cmw6YC9tZS9kcml2ZS9yb290L3NlYXJjaChxPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfSlgLGhlYWRlcnM6e0NvbnNpc3RlbmN5TGV2ZWw6XCJldmVudHVhbFwifX0pfWlmKHIuc2hvd0V2ZW50cyYmbi5wdXNoKHtpZDpcImV2ZW50XCIsdXJsOlwiL3NlYXJjaC9xdWVyeVwiLG1ldGhvZDpcIlBPU1RcIixib2R5OntyZXF1ZXN0czpbe2VudGl0eVR5cGVzOltcImV2ZW50XCJdLHF1ZXJ5OntxdWVyeVN0cmluZzplLnF1ZXJ5fSxmcm9tOjAsc2l6ZToxMH1dfSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifX0pLHIuc2hvd0NvbnRhY3RzKXtjb25zdCB0PWBcIiR7ZS5xdWVyeX1cImA7bi5wdXNoKHtpZDpcImNvbnRhY3RcIixtZXRob2Q6XCJHRVRcIix1cmw6YC9tZS9jb250YWN0cz8kc2VhcmNoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQpfSYkdG9wPTEwYH0pO2NvbnN0IGE9W1wiZGlzcGxheU5hbWVcIixcImdpdmVuTmFtZVwiLFwic3VybmFtZVwiXS5tYXAoKHQ9PmBcIiR7dH06JHtlLnF1ZXJ5fVwiYCkpLmpvaW4oXCIgT1IgXCIpO24ucHVzaCh7aWQ6XCJ1c2VyXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvdXNlcnM/JHNlYXJjaD0ke2VuY29kZVVSSUNvbXBvbmVudChhKX0mJHRvcD0xMCYkc2VsZWN0PWlkLGRpc3BsYXlOYW1lLGRlcGFydG1lbnQsbWFpbCxidXNpbmVzc1Bob25lcyxtb2JpbGVQaG9uZSxvZmZpY2VMb2NhdGlvbixqb2JUaXRsZWAsaGVhZGVyczp7Q29uc2lzdGVuY3lMZXZlbDpcImV2ZW50dWFsXCJ9fSl9aWYoci5zaG93TWVzc2FnZXMmJm4ucHVzaCh7aWQ6XCJtZXNzYWdlXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvbWUvbWVzc2FnZXM/JHNlbGVjdD1zZW5kZXIsc3ViamVjdCxib2R5UHJldmlldyxyZWNlaXZlZERhdGVUaW1lLHdlYkxpbmsmJHNlYXJjaD0ke2VuY29kZVVSSUNvbXBvbmVudChgXCIke2UucXVlcnl9XCJgKX0mJHRvcD0xMGB9KSxyLnNob3dDaGF0TWVzc2FnZXMmJm4ucHVzaCh7aWQ6XCJjaGF0TWVzc2FnZVwiLHVybDpcIi9zZWFyY2gvcXVlcnlcIixtZXRob2Q6XCJQT1NUXCIsYm9keTp7cmVxdWVzdHM6W3tlbnRpdHlUeXBlczpbXCJjaGF0TWVzc2FnZVwiXSxxdWVyeTp7cXVlcnlTdHJpbmc6ZS5xdWVyeX0sZnJvbTowLHNpemU6MTB9XX0saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn19KSxyLnNob3dMaXN0cyYmbi5wdXNoKHtpZDpcImxpc3RcIix1cmw6XCIvc2VhcmNoL3F1ZXJ5XCIsbWV0aG9kOlwiUE9TVFwiLGJvZHk6e3JlcXVlc3RzOlt7ZW50aXR5VHlwZXM6W1wibGlzdFwiXSxxdWVyeTp7cXVlcnlTdHJpbmc6ZS5xdWVyeX0sZnJvbTowLHNpemU6MTB9XX0saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn19KSwwPT09bi5sZW5ndGgpcmV0dXJue3Jlc3VsdHM6W119O2NvbnN0e3Jlc3VsdHM6byxmaWx0ZXJzOml9PWF3YWl0IF9lKHRoaXMsdWUsXCJtXCIsU2UpLmNhbGwodGhpcyxuLGUpO3JldHVybiBvLmZpbmQoKGU9PmUua2V5PT09X2UodGhpcyxmZSxcImZcIik/LmtleSkpPy50ZW1wbGF0ZT09PSQuZkMuTG9hZGluZyYmX2UodGhpcyxDZSxcImZcIikuY2FsbCh0aGlzLF9lKHRoaXMsZmUsXCJmXCIpKSx7cmVzdWx0czpvLGNvbnRleHQ6e2ZpbHRlcnM6aX19fSkpLFRlLnNldCh0aGlzLChhc3luYyBlPT57c3dpdGNoKGUuYWN0aW9uLnRyaWdnZXIpe2Nhc2UgUmUuUC5Gb2N1c0NoYW5nZTpfZSh0aGlzLENlLFwiZlwiKS5jYWxsKHRoaXMsZSk7YnJlYWs7Y2FzZSBSZS5QLlVzZXJBY3Rpb246X2UodGhpcyxJZSxcImZcIikuY2FsbCh0aGlzLGUpO2JyZWFrO2Nhc2UgUmUuUC5SZWxvYWQ6YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oYFVua25vd24gYWN0aW9uIHRyaWdnZXI6ICR7ZS5hY3Rpb24udHJpZ2dlcn1gKX19KSksdGhpcy5pbml0aWFsaXplV29ya2Zsb3c9YXN5bmMgZT0+e2lmKFwic2VhcmNoXCIhPT1lKXRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGluaXRpYWxpemUgdW5rbm93biB3b3JrZmxvdzogJHtlfWApO2F3YWl0IFMucmVnaXN0ZXIoey4uLnRoaXMuY29uZmlnLndvcmtmbG93cy5zZWFyY2guaG9tZVByb3ZpZGVyLG9uVXNlcklucHV0Ol9lKHRoaXMsV2UsXCJmXCIpLG9uUmVzdWx0RGlzcGF0Y2g6X2UodGhpcyxUZSxcImZcIil9KSwoMCx6LmVuYWJsZUxvZ2dpbmcpKCksYXdhaXQgdGhpcy5jb25uZWN0KCksc3VwZXIuaW5pdGlhbGl6ZVdvcmtmbG93KGUpfSxPYmplY3QuZW50cmllcyh0LndvcmtmbG93cz8uc2VhcmNoPy5taWNyb3NvZnRFbnRpdHlUeXBlQ29uZmlnfHx7fSkuZmlsdGVyKCgoW2UsdF0pPT50KSkuZm9yRWFjaCgoKFtlXSk9PntfZSh0aGlzLG1lLFwiZlwiKS5hZGQocVtlXSl9KSl9YXN5bmMgZXhlY3V0ZUFwaVJlcXVlc3QoLi4uZSl7cmV0dXJuIF9lKHRoaXMsdWUsXCJtXCIsa2UpLmNhbGwodGhpcywoKCk9Pl9lKHRoaXMsdmUsXCJmXCIpLmNhbGwodGhpcykuZXhlY3V0ZUFwaVJlcXVlc3QoLi4uZSkpKX19cGU9bmV3IFdlYWtNYXAsaGU9bmV3IFdlYWtNYXAsZmU9bmV3IFdlYWtNYXAsZ2U9bmV3IFdlYWtNYXAsbWU9bmV3IFdlYWtNYXAsd2U9bmV3IFdlYWtNYXAseWU9bmV3IFdlYWtNYXAsdmU9bmV3IFdlYWtNYXAsQ2U9bmV3IFdlYWtNYXAseGU9bmV3IFdlYWtNYXAsQWU9bmV3IFdlYWtNYXAsTWU9bmV3IFdlYWtNYXAsSWU9bmV3IFdlYWtNYXAsRmU9bmV3IFdlYWtNYXAsV2U9bmV3IFdlYWtNYXAsVGU9bmV3IFdlYWtNYXAsdWU9bmV3IFdlYWtTZXQsa2U9YXN5bmMgZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBhd2FpdCBlKCl9Y2F0Y2godCl7aWYodCBpbnN0YW5jZW9mIHouQXV0aFRva2VuRXhwaXJlZEVycm9yKXJldHVybiBhd2FpdCB0aGlzLmNvbm5lY3QoKSxlKCk7dGhyb3cgdH19LGJlPWFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmV4ZWN1dGVBcGlSZXF1ZXN0KFwiL3YxLjAvJGJhdGNoXCIsXCJQT1NUXCIse3JlcXVlc3RzOmV9KX0sU2U9YXN5bmMgZnVuY3Rpb24oZSx0KXt0cnl7Y29uc3QgYT1hd2FpdCBfZSh0aGlzLHVlLFwibVwiLGJlKS5jYWxsKHRoaXMsZSk7cmV0dXJue2ZpbHRlcnM6Wy4uLmFlKHQsX2UodGhpcyxtZSxcImZcIikpLC4uLm5lKGEuZGF0YS5yZXNwb25zZXMuZmluZCgoZT0+XCJ1c2VyXCI9PT1lLmlkKSk/LmJvZHk/LnZhbHVlfHxbXSx0KV0scmVzdWx0czpfZSh0aGlzLHVlLFwibVwiLFBlKS5jYWxsKHRoaXMsYSx0KX19Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBleGVjdXRlIEJhdGNoIEFQSSByZXF1ZXN0OiBcIixlKSx7ZmlsdGVyczpbXSxyZXN1bHRzOlt7a2V5OigwLEwuTikoKSx0aXRsZTpcIkVycm9yIEZldGNoaW5nIFNlYXJjaCBSZXN1bHRzXCIsZGVzY3JpcHRpb246XCJcIixhY3Rpb25zOltdLHRlbXBsYXRlOiQuZkMuRXJyb3IsdGVtcGxhdGVDb250ZW50OmBGYWlsZWQgdG8gZXhlY3V0ZSBCYXRjaCBBUEkgcmVxdWVzdDogJHtKU09OLnN0cmluZ2lmeShlKX1gfV19fX0sUGU9ZnVuY3Rpb24oZSx0KXtsZXQgYT1bXTtmb3IoY29uc3QgbiBvZiBlLmRhdGEucmVzcG9uc2VzKWlmKDIwMD09PW4uc3RhdHVzKXN3aXRjaChuLmlkKXtjYXNlXCJkcml2ZUl0ZW1cIjp7Y29uc3QgZT1pZSh0KSxyPWUuZmlsdGVyRmlsZXM/c2Uobi5ib2R5LnZhbHVlLGUpOm4uYm9keS52YWx1ZTthLnB1c2goLi4uKHJ8fFtdKS5tYXAoKGU9Pih7a2V5OmUuaWQ/PygwLEwuTikoKSx0aXRsZTplLm5hbWU/P1wiXCIsZGVzY3JpcHRpb246ZS5maWxlPy5taW1lVHlwZT8/XCJcIixsYWJlbDpjZShlLm5hbWUpLGljb246ZGUoZS5uYW1lKSxkYXRhOnt0eXBlOlwiZHJpdmVJdGVtXCIsaXRlbTplfSxhY3Rpb25zOlt7bmFtZTpcIkxhdW5jaFwifV0sdGVtcGxhdGU6JC5mQy5QbGFpbix0ZW1wbGF0ZUNvbnRlbnQ6dm9pZCAwfSkpKSk7YnJlYWt9Y2FzZVwiZXZlbnRcIjphLnB1c2goLi4ubi5ib2R5Py52YWx1ZT8uWzBdPy5oaXRzQ29udGFpbmVycz8uWzBdPy5oaXRzPy5maWx0ZXIoKGU9PmUucmVzb3VyY2Uuc3ViamVjdCkpLm1hcCgoZT0+e2NvbnN0IHQ9ZS5yZXNvdXJjZSxhPWxlKGUuaGl0SWQpO3JldHVybntrZXk6YSx0aXRsZTp0LnN1YmplY3Q/P1wiXCIsbGFiZWw6XCJDYWxlbmRhciBFdmVudFwiLGljb246KDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1T3V0bG9va0ljb24pLGFjdGlvbnM6W3tuYW1lOlwiTGF1bmNoXCJ9XSxkYXRhOnt0eXBlOlwiZXZlbnRcIixpdGVtOnsuLi50LGlkOmF9fSx0ZW1wbGF0ZTokLmZDLlBsYWluLHRlbXBsYXRlQ29udGVudDp2b2lkIDB9fSkpfHxbXSk7YnJlYWs7Y2FzZVwiY29udGFjdFwiOntjb25zdCBlPXJlKHQpLHI9b2Uobi5ib2R5LnZhbHVlfHxbXSxlKTthLnB1c2goLi4uKHJ8fFtdKS5tYXAoKGU9Pih7a2V5OmUuaWQ/PygwLEwuTikoKSx0aXRsZTplLmRpc3BsYXlOYW1lPz9cIlwiLGxhYmVsOlwiT3V0bG9vayBjb250YWN0XCIsaWNvbjooMCxELk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVPdXRsb29rSWNvbiksYWN0aW9uczpbXSxkYXRhOnt0eXBlOlwiY29udGFjdFwiLGl0ZW06ZX0sdGVtcGxhdGU6JC5mQy5QbGFpbix0ZW1wbGF0ZUNvbnRlbnQ6dm9pZCAwfSkpKSk7YnJlYWt9Y2FzZVwidXNlclwiOntjb25zdCBlPXJlKHQpLHI9b2Uobi5ib2R5LnZhbHVlfHxbXSxlKTthLnB1c2goLi4uKHJ8fFtdKS5tYXAoKGU9Pih7a2V5OmUuaWQ/PygwLEwuTikoKSx0aXRsZTplLmRpc3BsYXlOYW1lPz9cIlwiLGxhYmVsOlwiVGVhbXMgY29udGFjdFwiLGljb246KDAsRC5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1VGVhbXNJY29uKSxhY3Rpb25zOltdLGRhdGE6e3R5cGU6XCJ1c2VyXCIsaXRlbTplfSx0ZW1wbGF0ZTokLmZDLkxvYWRpbmcsdGVtcGxhdGVDb250ZW50OnZvaWQgMH0pKSkpO2JyZWFrfWNhc2VcIm1lc3NhZ2VcIjphLnB1c2goLi4uKG4uYm9keS52YWx1ZXx8W10pLm1hcCgoZT0+KHtrZXk6ZS5pZD8/KDAsTC5OKSgpLHRpdGxlOmAke2Uuc3ViamVjdD8/XCJVbnRpdGxlZCBNZXNzYWdlXCJ9JHtlLmlzRHJhZnQ/XCIgKERyYWZ0KVwiOlwiXCJ9YCxsYWJlbDpcIkVtYWlsXCIsaWNvbjooMCxELk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVPdXRsb29rSWNvbiksYWN0aW9uczpbXSxkYXRhOnt0eXBlOlwibWVzc2FnZVwiLGl0ZW06ZX0sdGVtcGxhdGU6JC5mQy5QbGFpbix0ZW1wbGF0ZUNvbnRlbnQ6dm9pZCAwfSkpKSk7YnJlYWs7Y2FzZVwiY2hhdE1lc3NhZ2VcIjphLnB1c2goLi4ubi5ib2R5Py52YWx1ZT8uWzBdPy5oaXRzQ29udGFpbmVycz8uWzBdPy5oaXRzPy5tYXAoKGU9Pntjb25zdCB0PWUucmVzb3VyY2U7cmV0dXJue2tleTp0LmlkPz8oMCxMLk4pKCksdGl0bGU6ZS5zdW1tYXJ5Pz9cIlVudGl0bGVkIE1lc3NhZ2VcIixsYWJlbDpcIkNoYXRcIixpY29uOigwLEQuT1gpKE8uc1AuTWljcm9zb2Z0MzY1QXNzZXRzLk1pY3Jvc29mdDM2NVRlYW1zSWNvbiksYWN0aW9uczpbXSxkYXRhOnt0eXBlOlwiY2hhdE1lc3NhZ2VcIixpdGVtOnR9LHRlbXBsYXRlOiQuZkMuUGxhaW4sdGVtcGxhdGVDb250ZW50OnZvaWQgMH19KSl8fFtdKTticmVhaztjYXNlXCJsaXN0XCI6YS5wdXNoKC4uLm4uYm9keT8udmFsdWU/LlswXT8uaGl0c0NvbnRhaW5lcnM/LlswXT8uaGl0cz8ubWFwKChlPT57Y29uc3QgdD1lLnJlc291cmNlLGE9bGUoZS5oaXRJZCk7cmV0dXJue2tleTphLHRpdGxlOnQuZGlzcGxheU5hbWU/P1wiVW50aXRsZWQgTGlzdFwiLGxhYmVsOlwiTGlzdFwiLGFjdGlvbnM6W3tuYW1lOlwiTGF1bmNoXCJ9XSxkYXRhOnt0eXBlOlwibGlzdFwiLGl0ZW06ey4uLnQsaWQ6YX19LHRlbXBsYXRlOiQuZkMuUGxhaW4sdGVtcGxhdGVDb250ZW50OnZvaWQgMH19KSl8fFtdKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybihgVW5rbm93biBiYXRjaCByZXNwb25zZSBpZDogJHtuLmlkfWAsbi5ib2R5KX1lbHNlIGNvbnNvbGUud2FybihcIkJhdGNoIEFQSSByZXF1ZXN0IGZhaWxlZDogXCIsbik7cmV0dXJuIGE9YS5tYXAoKGU9PntpZighZS5kYXRhPy5pdGVtPy5pZClyZXR1cm4gZTtjb25zdCB0PV9lKHRoaXMseWUsXCJmXCIpLmdldChlLmRhdGEuaXRlbS5pZCk7cmV0dXJuIHQ/ey4uLmUsdGVtcGxhdGU6dC50ZW1wbGF0ZSx0ZW1wbGF0ZUNvbnRlbnQ6dC50ZW1wbGF0ZUNvbnRlbnR9OmV9KSksYS5zb3J0KCgoZSx0KT0+ZS50aXRsZT50LnRpdGxlPzE6LTEpKX07dmFyIEVlPWEoNTk4KSxSZT1hKDEyOSksQmU9YSgxODQpLE5lPWEoNzEwKX0pKCksbW9kdWxlLmV4cG9ydHM9bn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKlxuICogRGV4aWUuanMgLSBhIG1pbmltYWxpc3RpYyB3cmFwcGVyIGZvciBJbmRleGVkREJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogQnkgRGF2aWQgRmFobGFuZGVyLCBkYXZpZC5mYWhsYW5kZXJAZ21haWwuY29tXG4gKlxuICogVmVyc2lvbiA0LjAuMTEsIFdlZCBKYW4gMTUgMjAyNVxuICpcbiAqIGh0dHBzOi8vZGV4aWUub3JnXG4gKlxuICogQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIEphbnVhcnkgMjAwNCwgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL1xuICovXG4gXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5EZXhpZSA9IGZhY3RvcnkoKSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbiAgICBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG4gICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuICAgIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbiAgICBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuICAgIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcbiAgICBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9XG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG4gICAgfVxuXG4gICAgdmFyIF9nbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDpcbiAgICAgICAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6XG4gICAgICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6XG4gICAgICAgICAgICAgICAgZ2xvYmFsO1xuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cztcbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAhX2dsb2JhbC5Qcm9taXNlKSB7XG4gICAgICAgIF9nbG9iYWwuUHJvbWlzZSA9IFByb21pc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4dGVuZChvYmosIGV4dGVuc2lvbikge1xuICAgICAgICBpZiAodHlwZW9mIGV4dGVuc2lvbiAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICBrZXlzKGV4dGVuc2lvbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGV4dGVuc2lvbltrZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICAgIHZhciBfaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG4gICAgZnVuY3Rpb24gaGFzT3duKG9iaiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gX2hhc093bi5jYWxsKG9iaiwgcHJvcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BzKHByb3RvLCBleHRlbnNpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBleHRlbnNpb24gPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24oZ2V0UHJvdG8ocHJvdG8pKTtcbiAgICAgICAgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8ga2V5cyA6IFJlZmxlY3Qub3duS2V5cykoZXh0ZW5zaW9uKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHNldFByb3AocHJvdG8sIGtleSwgZXh0ZW5zaW9uW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICAgIGZ1bmN0aW9uIHNldFByb3Aob2JqLCBwcm9wLCBmdW5jdGlvbk9yR2V0U2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgZXh0ZW5kKGZ1bmN0aW9uT3JHZXRTZXQgJiYgaGFzT3duKGZ1bmN0aW9uT3JHZXRTZXQsIFwiZ2V0XCIpICYmIHR5cGVvZiBmdW5jdGlvbk9yR2V0U2V0LmdldCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICB7IGdldDogZnVuY3Rpb25PckdldFNldC5nZXQsIHNldDogZnVuY3Rpb25PckdldFNldC5zZXQsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IDpcbiAgICAgICAgICAgIHsgdmFsdWU6IGZ1bmN0aW9uT3JHZXRTZXQsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXJpdmUoQ2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IGZ1bmN0aW9uIChQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBDaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBhcmVudC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIHNldFByb3AoQ2hpbGQucHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIENoaWxkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQ6IHByb3BzLmJpbmQobnVsbCwgQ2hpbGQucHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgIGZ1bmN0aW9uIGdldFByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApIHtcbiAgICAgICAgdmFyIHBkID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgcHJvcCk7XG4gICAgICAgIHZhciBwcm90bztcbiAgICAgICAgcmV0dXJuIHBkIHx8IChwcm90byA9IGdldFByb3RvKG9iaikpICYmIGdldFByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgcHJvcCk7XG4gICAgfVxuICAgIHZhciBfc2xpY2UgPSBbXS5zbGljZTtcbiAgICBmdW5jdGlvbiBzbGljZShhcmdzLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHJldHVybiBfc2xpY2UuY2FsbChhcmdzLCBzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3ZlcnJpZGUob3JpZ0Z1bmMsIG92ZXJyaWRlZEZhY3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIG92ZXJyaWRlZEZhY3Rvcnkob3JpZ0Z1bmMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc3NlcnQoYikge1xuICAgICAgICBpZiAoIWIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3NlcnRpb24gRmFpbGVkXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc2FwJDEoZm4pIHtcbiAgICAgICAgaWYgKF9nbG9iYWwuc2V0SW1tZWRpYXRlKVxuICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyYXksIGV4dHJhY3Rvcikge1xuICAgICAgICByZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIHZhciBuYW1lQW5kVmFsdWUgPSBleHRyYWN0b3IoaXRlbSwgaSk7XG4gICAgICAgICAgICBpZiAobmFtZUFuZFZhbHVlKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtuYW1lQW5kVmFsdWVbMF1dID0gbmFtZUFuZFZhbHVlWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgJiYgaGFzT3duKG9iaiwga2V5UGF0aCkpXG4gICAgICAgICAgICByZXR1cm4gb2JqW2tleVBhdGhdO1xuICAgICAgICBpZiAoIWtleVBhdGgpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgcnYgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5UGF0aC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gZ2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aFtpXSk7XG4gICAgICAgICAgICAgICAgcnYucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwZXJpb2QgPSBrZXlQYXRoLmluZGV4T2YoJy4nKTtcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBpbm5lck9iaiA9IG9ialtrZXlQYXRoLnN1YnN0cigwLCBwZXJpb2QpXTtcbiAgICAgICAgICAgIHJldHVybiBpbm5lck9iaiA9PSBudWxsID8gdW5kZWZpbmVkIDogZ2V0QnlLZXlQYXRoKGlubmVyT2JqLCBrZXlQYXRoLnN1YnN0cihwZXJpb2QgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFvYmogfHwga2V5UGF0aCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoJ2lzRnJvemVuJyBpbiBPYmplY3QgJiYgT2JqZWN0LmlzRnJvemVuKG9iaikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0eXBlb2Yga2V5UGF0aCAhPT0gJ3N0cmluZycgJiYgJ2xlbmd0aCcgaW4ga2V5UGF0aCkge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgJ2xlbmd0aCcgaW4gdmFsdWUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlQYXRoLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGhbaV0sIHZhbHVlW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwZXJpb2QgPSBrZXlQYXRoLmluZGV4T2YoJy4nKTtcbiAgICAgICAgICAgIGlmIChwZXJpb2QgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRLZXlQYXRoID0ga2V5UGF0aC5zdWJzdHIoMCwgcGVyaW9kKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nS2V5UGF0aCA9IGtleVBhdGguc3Vic3RyKHBlcmlvZCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmdLZXlQYXRoID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkob2JqKSAmJiAhaXNOYU4ocGFyc2VJbnQoY3VycmVudEtleVBhdGgpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc3BsaWNlKGN1cnJlbnRLZXlQYXRoLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2N1cnJlbnRLZXlQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbY3VycmVudEtleVBhdGhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbm5lck9iaiA9IG9ialtjdXJyZW50S2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5uZXJPYmogfHwgIWhhc093bihvYmosIGN1cnJlbnRLZXlQYXRoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyT2JqID0gKG9ialtjdXJyZW50S2V5UGF0aF0gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChpbm5lck9iaiwgcmVtYWluaW5nS2V5UGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KG9iaikgJiYgIWlzTmFOKHBhcnNlSW50KGtleVBhdGgpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zcGxpY2Uoa2V5UGF0aCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleVBhdGhdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsQnlLZXlQYXRoKG9iaiwga2V5UGF0aCkge1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgdW5kZWZpbmVkKTtcbiAgICAgICAgZWxzZSBpZiAoJ2xlbmd0aCcgaW4ga2V5UGF0aClcbiAgICAgICAgICAgIFtdLm1hcC5jYWxsKGtleVBhdGgsIGZ1bmN0aW9uIChrcCkge1xuICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtwLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNoYWxsb3dDbG9uZShvYmopIHtcbiAgICAgICAgdmFyIHJ2ID0ge307XG4gICAgICAgIGZvciAodmFyIG0gaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duKG9iaiwgbSkpXG4gICAgICAgICAgICAgICAgcnZbbV0gPSBvYmpbbV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICB2YXIgY29uY2F0ID0gW10uY29uY2F0O1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYSkge1xuICAgICAgICByZXR1cm4gY29uY2F0LmFwcGx5KFtdLCBhKTtcbiAgICB9XG4gICAgdmFyIGludHJpbnNpY1R5cGVOYW1lcyA9IFwiQmlnVWludDY0QXJyYXksQmlnSW50NjRBcnJheSxBcnJheSxCb29sZWFuLFN0cmluZyxEYXRlLFJlZ0V4cCxCbG9iLEZpbGUsRmlsZUxpc3QsRmlsZVN5c3RlbUZpbGVIYW5kbGUsRmlsZVN5c3RlbURpcmVjdG9yeUhhbmRsZSxBcnJheUJ1ZmZlcixEYXRhVmlldyxVaW50OENsYW1wZWRBcnJheSxJbWFnZUJpdG1hcCxJbWFnZURhdGEsTWFwLFNldCxDcnlwdG9LZXlcIlxuICAgICAgICAuc3BsaXQoJywnKS5jb25jYXQoZmxhdHRlbihbOCwgMTYsIDMyLCA2NF0ubWFwKGZ1bmN0aW9uIChudW0pIHsgcmV0dXJuIFtcIkludFwiLCBcIlVpbnRcIiwgXCJGbG9hdFwiXS5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKyBudW0gKyBcIkFycmF5XCI7IH0pOyB9KSkpLmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gX2dsb2JhbFt0XTsgfSk7XG4gICAgdmFyIGludHJpbnNpY1R5cGVzID0gbmV3IFNldChpbnRyaW5zaWNUeXBlTmFtZXMubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiBfZ2xvYmFsW3RdOyB9KSk7XG4gICAgZnVuY3Rpb24gY2xvbmVTaW1wbGVPYmplY3RUcmVlKG8pIHtcbiAgICAgICAgdmFyIHJ2ID0ge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gbylcbiAgICAgICAgICAgIGlmIChoYXNPd24obywgaykpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IG9ba107XG4gICAgICAgICAgICAgICAgcnZba10gPSAhdiB8fCB0eXBlb2YgdiAhPT0gJ29iamVjdCcgfHwgaW50cmluc2ljVHlwZXMuaGFzKHYuY29uc3RydWN0b3IpID8gdiA6IGNsb25lU2ltcGxlT2JqZWN0VHJlZSh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYmplY3RJc0VtcHR5KG8pIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvKVxuICAgICAgICAgICAgaWYgKGhhc093bihvLCBrKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgY2lyY3VsYXJSZWZzID0gbnVsbDtcbiAgICBmdW5jdGlvbiBkZWVwQ2xvbmUoYW55KSB7XG4gICAgICAgIGNpcmN1bGFyUmVmcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHZhciBydiA9IGlubmVyRGVlcENsb25lKGFueSk7XG4gICAgICAgIGNpcmN1bGFyUmVmcyA9IG51bGw7XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5uZXJEZWVwQ2xvbmUoeCkge1xuICAgICAgICBpZiAoIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIHZhciBydiA9IGNpcmN1bGFyUmVmcy5nZXQoeCk7XG4gICAgICAgIGlmIChydilcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgaWYgKGlzQXJyYXkoeCkpIHtcbiAgICAgICAgICAgIHJ2ID0gW107XG4gICAgICAgICAgICBjaXJjdWxhclJlZnMuc2V0KHgsIHJ2KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0geC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICBydi5wdXNoKGlubmVyRGVlcENsb25lKHhbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnRyaW5zaWNUeXBlcy5oYXMoeC5jb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHJ2ID0geDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IGdldFByb3RvKHgpO1xuICAgICAgICAgICAgcnYgPSBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSA/IHt9IDogT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICAgICAgICBjaXJjdWxhclJlZnMuc2V0KHgsIHJ2KTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4geCkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd24oeCwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcnZbcHJvcF0gPSBpbm5lckRlZXBDbG9uZSh4W3Byb3BdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICB2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcbiAgICBmdW5jdGlvbiB0b1N0cmluZ1RhZyhvKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICBTeW1ib2wuaXRlcmF0b3IgOlxuICAgICAgICAnQEBpdGVyYXRvcic7XG4gICAgdmFyIGdldEl0ZXJhdG9yT2YgPSB0eXBlb2YgaXRlcmF0b3JTeW1ib2wgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgcmV0dXJuIHggIT0gbnVsbCAmJiAoaSA9IHhbaXRlcmF0b3JTeW1ib2xdKSAmJiBpLmFwcGx5KHgpO1xuICAgIH0gOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgIGZ1bmN0aW9uIGRlbEFycmF5SXRlbShhLCB4KSB7XG4gICAgICAgIHZhciBpID0gYS5pbmRleE9mKHgpO1xuICAgICAgICBpZiAoaSA+PSAwKVxuICAgICAgICAgICAgYS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybiBpID49IDA7XG4gICAgfVxuICAgIHZhciBOT19DSEFSX0FSUkFZID0ge307XG4gICAgZnVuY3Rpb24gZ2V0QXJyYXlPZihhcnJheUxpa2UpIHtcbiAgICAgICAgdmFyIGksIGEsIHgsIGl0O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJyYXlMaWtlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXlMaWtlLnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcyA9PT0gTk9fQ0hBUl9BUlJBWSAmJiB0eXBlb2YgYXJyYXlMaWtlID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FycmF5TGlrZV07XG4gICAgICAgICAgICBpZiAoKGl0ID0gZ2V0SXRlcmF0b3JPZihhcnJheUxpa2UpKSkge1xuICAgICAgICAgICAgICAgIGEgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKHggPSBpdC5uZXh0KCkpLCAheC5kb25lKVxuICAgICAgICAgICAgICAgICAgICBhLnB1c2goeC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJyYXlMaWtlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgICAgICAgICAgaSA9IGFycmF5TGlrZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgYSA9IG5ldyBBcnJheShpKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgICAgICBhW2ldID0gYXJyYXlMaWtlW2ldO1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhID0gbmV3IEFycmF5KGkpO1xuICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgYVtpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIHZhciBpc0FzeW5jRnVuY3Rpb24gPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm5bU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0FzeW5jRnVuY3Rpb24nOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07XG5cbiAgICB2YXIgZGV4aWVFcnJvck5hbWVzID0gW1xuICAgICAgICAnTW9kaWZ5JyxcbiAgICAgICAgJ0J1bGsnLFxuICAgICAgICAnT3BlbkZhaWxlZCcsXG4gICAgICAgICdWZXJzaW9uQ2hhbmdlJyxcbiAgICAgICAgJ1NjaGVtYScsXG4gICAgICAgICdVcGdyYWRlJyxcbiAgICAgICAgJ0ludmFsaWRUYWJsZScsXG4gICAgICAgICdNaXNzaW5nQVBJJyxcbiAgICAgICAgJ05vU3VjaERhdGFiYXNlJyxcbiAgICAgICAgJ0ludmFsaWRBcmd1bWVudCcsXG4gICAgICAgICdTdWJUcmFuc2FjdGlvbicsXG4gICAgICAgICdVbnN1cHBvcnRlZCcsXG4gICAgICAgICdJbnRlcm5hbCcsXG4gICAgICAgICdEYXRhYmFzZUNsb3NlZCcsXG4gICAgICAgICdQcmVtYXR1cmVDb21taXQnLFxuICAgICAgICAnRm9yZWlnbkF3YWl0J1xuICAgIF07XG4gICAgdmFyIGlkYkRvbUVycm9yTmFtZXMgPSBbXG4gICAgICAgICdVbmtub3duJyxcbiAgICAgICAgJ0NvbnN0cmFpbnQnLFxuICAgICAgICAnRGF0YScsXG4gICAgICAgICdUcmFuc2FjdGlvbkluYWN0aXZlJyxcbiAgICAgICAgJ1JlYWRPbmx5JyxcbiAgICAgICAgJ1ZlcnNpb24nLFxuICAgICAgICAnTm90Rm91bmQnLFxuICAgICAgICAnSW52YWxpZFN0YXRlJyxcbiAgICAgICAgJ0ludmFsaWRBY2Nlc3MnLFxuICAgICAgICAnQWJvcnQnLFxuICAgICAgICAnVGltZW91dCcsXG4gICAgICAgICdRdW90YUV4Y2VlZGVkJyxcbiAgICAgICAgJ1N5bnRheCcsXG4gICAgICAgICdEYXRhQ2xvbmUnXG4gICAgXTtcbiAgICB2YXIgZXJyb3JMaXN0ID0gZGV4aWVFcnJvck5hbWVzLmNvbmNhdChpZGJEb21FcnJvck5hbWVzKTtcbiAgICB2YXIgZGVmYXVsdFRleHRzID0ge1xuICAgICAgICBWZXJzaW9uQ2hhbmdlZDogXCJEYXRhYmFzZSB2ZXJzaW9uIGNoYW5nZWQgYnkgb3RoZXIgZGF0YWJhc2UgY29ubmVjdGlvblwiLFxuICAgICAgICBEYXRhYmFzZUNsb3NlZDogXCJEYXRhYmFzZSBoYXMgYmVlbiBjbG9zZWRcIixcbiAgICAgICAgQWJvcnQ6IFwiVHJhbnNhY3Rpb24gYWJvcnRlZFwiLFxuICAgICAgICBUcmFuc2FjdGlvbkluYWN0aXZlOiBcIlRyYW5zYWN0aW9uIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCBvciBmYWlsZWRcIixcbiAgICAgICAgTWlzc2luZ0FQSTogXCJJbmRleGVkREIgQVBJIG1pc3NpbmcuIFBsZWFzZSB2aXNpdCBodHRwczovL3Rpbnl1cmwuY29tL3kydXV2c2tiXCJcbiAgICB9O1xuICAgIGZ1bmN0aW9uIERleGllRXJyb3IobmFtZSwgbXNnKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1zZztcbiAgICB9XG4gICAgZGVyaXZlKERleGllRXJyb3IpLmZyb20oRXJyb3IpLmV4dGVuZCh7XG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5hbWUgKyBcIjogXCIgKyB0aGlzLm1lc3NhZ2U7IH1cbiAgICB9KTtcbiAgICBmdW5jdGlvbiBnZXRNdWx0aUVycm9yTWVzc2FnZShtc2csIGZhaWx1cmVzKSB7XG4gICAgICAgIHJldHVybiBtc2cgKyBcIi4gRXJyb3JzOiBcIiArIE9iamVjdC5rZXlzKGZhaWx1cmVzKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmYWlsdXJlc1trZXldLnRvU3RyaW5nKCk7IH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBzKSB7IHJldHVybiBzLmluZGV4T2YodikgPT09IGk7IH0pXG4gICAgICAgICAgICAuam9pbignXFxuJyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIE1vZGlmeUVycm9yKG1zZywgZmFpbHVyZXMsIHN1Y2Nlc3NDb3VudCwgZmFpbGVkS2V5cykge1xuICAgICAgICB0aGlzLmZhaWx1cmVzID0gZmFpbHVyZXM7XG4gICAgICAgIHRoaXMuZmFpbGVkS2V5cyA9IGZhaWxlZEtleXM7XG4gICAgICAgIHRoaXMuc3VjY2Vzc0NvdW50ID0gc3VjY2Vzc0NvdW50O1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBnZXRNdWx0aUVycm9yTWVzc2FnZShtc2csIGZhaWx1cmVzKTtcbiAgICB9XG4gICAgZGVyaXZlKE1vZGlmeUVycm9yKS5mcm9tKERleGllRXJyb3IpO1xuICAgIGZ1bmN0aW9uIEJ1bGtFcnJvcihtc2csIGZhaWx1cmVzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQnVsa0Vycm9yXCI7XG4gICAgICAgIHRoaXMuZmFpbHVyZXMgPSBPYmplY3Qua2V5cyhmYWlsdXJlcykubWFwKGZ1bmN0aW9uIChwb3MpIHsgcmV0dXJuIGZhaWx1cmVzW3Bvc107IH0pO1xuICAgICAgICB0aGlzLmZhaWx1cmVzQnlQb3MgPSBmYWlsdXJlcztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZ2V0TXVsdGlFcnJvck1lc3NhZ2UobXNnLCB0aGlzLmZhaWx1cmVzKTtcbiAgICB9XG4gICAgZGVyaXZlKEJ1bGtFcnJvcikuZnJvbShEZXhpZUVycm9yKTtcbiAgICB2YXIgZXJybmFtZXMgPSBlcnJvckxpc3QucmVkdWNlKGZ1bmN0aW9uIChvYmosIG5hbWUpIHsgcmV0dXJuIChvYmpbbmFtZV0gPSBuYW1lICsgXCJFcnJvclwiLCBvYmopOyB9LCB7fSk7XG4gICAgdmFyIEJhc2VFeGNlcHRpb24gPSBEZXhpZUVycm9yO1xuICAgIHZhciBleGNlcHRpb25zID0gZXJyb3JMaXN0LnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgICAgIHZhciBmdWxsTmFtZSA9IG5hbWUgKyBcIkVycm9yXCI7XG4gICAgICAgIGZ1bmN0aW9uIERleGllRXJyb3IobXNnT3JJbm5lciwgaW5uZXIpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICAgICAgaWYgKCFtc2dPcklubmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZGVmYXVsdFRleHRzW25hbWVdIHx8IGZ1bGxOYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1zZ09ySW5uZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJcIi5jb25jYXQobXNnT3JJbm5lcikuY29uY2F0KCFpbm5lciA/ICcnIDogJ1xcbiAnICsgaW5uZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBpbm5lciB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1zZ09ySW5uZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJcIi5jb25jYXQobXNnT3JJbm5lci5uYW1lLCBcIiBcIikuY29uY2F0KG1zZ09ySW5uZXIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lciA9IG1zZ09ySW5uZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVyaXZlKERleGllRXJyb3IpLmZyb20oQmFzZUV4Y2VwdGlvbik7XG4gICAgICAgIG9ialtuYW1lXSA9IERleGllRXJyb3I7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGV4Y2VwdGlvbnMuU3ludGF4ID0gU3ludGF4RXJyb3I7XG4gICAgZXhjZXB0aW9ucy5UeXBlID0gVHlwZUVycm9yO1xuICAgIGV4Y2VwdGlvbnMuUmFuZ2UgPSBSYW5nZUVycm9yO1xuICAgIHZhciBleGNlcHRpb25NYXAgPSBpZGJEb21FcnJvck5hbWVzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgICAgIG9ialtuYW1lICsgXCJFcnJvclwiXSA9IGV4Y2VwdGlvbnNbbmFtZV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGZ1bmN0aW9uIG1hcEVycm9yKGRvbUVycm9yLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghZG9tRXJyb3IgfHwgZG9tRXJyb3IgaW5zdGFuY2VvZiBEZXhpZUVycm9yIHx8IGRvbUVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yIHx8IGRvbUVycm9yIGluc3RhbmNlb2YgU3ludGF4RXJyb3IgfHwgIWRvbUVycm9yLm5hbWUgfHwgIWV4Y2VwdGlvbk1hcFtkb21FcnJvci5uYW1lXSlcbiAgICAgICAgICAgIHJldHVybiBkb21FcnJvcjtcbiAgICAgICAgdmFyIHJ2ID0gbmV3IGV4Y2VwdGlvbk1hcFtkb21FcnJvci5uYW1lXShtZXNzYWdlIHx8IGRvbUVycm9yLm1lc3NhZ2UsIGRvbUVycm9yKTtcbiAgICAgICAgaWYgKFwic3RhY2tcIiBpbiBkb21FcnJvcikge1xuICAgICAgICAgICAgc2V0UHJvcChydiwgXCJzdGFja1wiLCB7IGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbm5lci5zdGFjaztcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgdmFyIGZ1bGxOYW1lRXhjZXB0aW9ucyA9IGVycm9yTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgICAgICBpZiAoW1wiU3ludGF4XCIsIFwiVHlwZVwiLCBcIlJhbmdlXCJdLmluZGV4T2YobmFtZSkgPT09IC0xKVxuICAgICAgICAgICAgb2JqW25hbWUgKyBcIkVycm9yXCJdID0gZXhjZXB0aW9uc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB7fSk7XG4gICAgZnVsbE5hbWVFeGNlcHRpb25zLk1vZGlmeUVycm9yID0gTW9kaWZ5RXJyb3I7XG4gICAgZnVsbE5hbWVFeGNlcHRpb25zLkRleGllRXJyb3IgPSBEZXhpZUVycm9yO1xuICAgIGZ1bGxOYW1lRXhjZXB0aW9ucy5CdWxrRXJyb3IgPSBCdWxrRXJyb3I7XG5cbiAgICBmdW5jdGlvbiBub3AoKSB7IH1cbiAgICBmdW5jdGlvbiBtaXJyb3IodmFsKSB7IHJldHVybiB2YWw7IH1cbiAgICBmdW5jdGlvbiBwdXJlRnVuY3Rpb25DaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09IG51bGwgfHwgZjEgPT09IG1pcnJvcilcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmMihmMSh2YWwpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbEJvdGgob24xLCBvbjIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9uMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgb24yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhvb2tDcmVhdGluZ0NoYWluKGYxLCBmMikge1xuICAgICAgICBpZiAoZjEgPT09IG5vcClcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHJlcztcbiAgICAgICAgICAgIHZhciBvbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyxcbiAgICAgICAgICAgIG9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XG4gICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHJlczIgPSBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzID8gY2FsbEJvdGgob25zdWNjZXNzLCB0aGlzLm9uc3VjY2VzcykgOiBvbnN1Y2Nlc3M7XG4gICAgICAgICAgICBpZiAob25lcnJvcilcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiByZXMyICE9PSB1bmRlZmluZWQgPyByZXMyIDogcmVzO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBob29rRGVsZXRpbmdDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgdmFyIG9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzLFxuICAgICAgICAgICAgb25lcnJvciA9IHRoaXMub25lcnJvcjtcbiAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIGYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAob25zdWNjZXNzKVxuICAgICAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MgPyBjYWxsQm90aChvbnN1Y2Nlc3MsIHRoaXMub25zdWNjZXNzKSA6IG9uc3VjY2VzcztcbiAgICAgICAgICAgIGlmIChvbmVycm9yKVxuICAgICAgICAgICAgICAgIHRoaXMub25lcnJvciA9IHRoaXMub25lcnJvciA/IGNhbGxCb3RoKG9uZXJyb3IsIHRoaXMub25lcnJvcikgOiBvbmVycm9yO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBob29rVXBkYXRpbmdDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9kaWZpY2F0aW9ucykge1xuICAgICAgICAgICAgdmFyIHJlcyA9IGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBleHRlbmQobW9kaWZpY2F0aW9ucywgcmVzKTtcbiAgICAgICAgICAgIHZhciBvbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyxcbiAgICAgICAgICAgIG9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XG4gICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHJlczIgPSBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzID8gY2FsbEJvdGgob25zdWNjZXNzLCB0aGlzLm9uc3VjY2VzcykgOiBvbnN1Y2Nlc3M7XG4gICAgICAgICAgICBpZiAob25lcnJvcilcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICAgICAgICAgIHJldHVybiByZXMgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgKHJlczIgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHJlczIpIDpcbiAgICAgICAgICAgICAgICAoZXh0ZW5kKHJlcywgcmVzMikpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXZlcnNlU3RvcHBhYmxlRXZlbnRDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb21pc2FibGVDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChyZXMgJiYgdHlwZW9mIHJlcy50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXogPSB0aGlzLCBpID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShpKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmMi5hcHBseSh0aGl6LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBkZWJ1ZyA9IHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgL14oaHR0cHxodHRwcyk6XFwvXFwvKGxvY2FsaG9zdHwxMjdcXC4wXFwuMFxcLjEpLy50ZXN0KGxvY2F0aW9uLmhyZWYpO1xuICAgIGZ1bmN0aW9uIHNldERlYnVnKHZhbHVlLCBmaWx0ZXIpIHtcbiAgICAgICAgZGVidWcgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgSU5URVJOQUwgPSB7fTtcbiAgICB2YXIgWk9ORV9FQ0hPX0xJTUlUID0gMTAwLCBfYSQxID0gdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgW10gOlxuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGdsb2JhbFAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJyB8fCAhY3J5cHRvLnN1YnRsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW2dsb2JhbFAsIGdldFByb3RvKGdsb2JhbFApLCBnbG9iYWxQXTtcbiAgICAgICAgICAgIHZhciBuYXRpdmVQID0gY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtNTEyXCIsIG5ldyBVaW50OEFycmF5KFswXSkpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuYXRpdmVQLFxuICAgICAgICAgICAgICAgIGdldFByb3RvKG5hdGl2ZVApLFxuICAgICAgICAgICAgICAgIGdsb2JhbFBcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0pKCksIHJlc29sdmVkTmF0aXZlUHJvbWlzZSA9IF9hJDFbMF0sIG5hdGl2ZVByb21pc2VQcm90byA9IF9hJDFbMV0sIHJlc29sdmVkR2xvYmFsUHJvbWlzZSA9IF9hJDFbMl0sIG5hdGl2ZVByb21pc2VUaGVuID0gbmF0aXZlUHJvbWlzZVByb3RvICYmIG5hdGl2ZVByb21pc2VQcm90by50aGVuO1xuICAgIHZhciBOYXRpdmVQcm9taXNlID0gcmVzb2x2ZWROYXRpdmVQcm9taXNlICYmIHJlc29sdmVkTmF0aXZlUHJvbWlzZS5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgcGF0Y2hHbG9iYWxQcm9taXNlID0gISFyZXNvbHZlZEdsb2JhbFByb21pc2U7XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVQaHlzaWNhbFRpY2soKSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKHBoeXNpY2FsVGljayk7XG4gICAgfVxuICAgIHZhciBhc2FwID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgICAgIG1pY3JvdGlja1F1ZXVlLnB1c2goW2NhbGxiYWNrLCBhcmdzXSk7XG4gICAgICAgIGlmIChuZWVkc05ld1BoeXNpY2FsVGljaykge1xuICAgICAgICAgICAgc2NoZWR1bGVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBpc091dHNpZGVNaWNyb1RpY2sgPSB0cnVlLFxuICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gdHJ1ZSxcbiAgICB1bmhhbmRsZWRFcnJvcnMgPSBbXSxcbiAgICByZWplY3RpbmdFcnJvcnMgPSBbXSxcbiAgICByZWplY3Rpb25NYXBwZXIgPSBtaXJyb3I7XG4gICAgdmFyIGdsb2JhbFBTRCA9IHtcbiAgICAgICAgaWQ6ICdnbG9iYWwnLFxuICAgICAgICBnbG9iYWw6IHRydWUsXG4gICAgICAgIHJlZjogMCxcbiAgICAgICAgdW5oYW5kbGVkczogW10sXG4gICAgICAgIG9udW5oYW5kbGVkOiBub3AsXG4gICAgICAgIHBncDogZmFsc2UsXG4gICAgICAgIGVudjoge30sXG4gICAgICAgIGZpbmFsaXplOiBub3BcbiAgICB9O1xuICAgIHZhciBQU0QgPSBnbG9iYWxQU0Q7XG4gICAgdmFyIG1pY3JvdGlja1F1ZXVlID0gW107XG4gICAgdmFyIG51bVNjaGVkdWxlZENhbGxzID0gMDtcbiAgICB2YXIgdGlja0ZpbmFsaXplcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBEZXhpZVByb21pc2UoZm4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbGliID0gZmFsc2U7XG4gICAgICAgIHZhciBwc2QgPSAodGhpcy5fUFNEID0gUFNEKTtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKGZuICE9PSBJTlRFUk5BTClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb3QgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgaGFuZGxlUmVqZWN0aW9uKHRoaXMsIHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICAgICAgKytwc2QucmVmO1xuICAgICAgICBleGVjdXRlUHJvbWlzZVRhc2sodGhpcywgZm4pO1xuICAgIH1cbiAgICB2YXIgdGhlblByb3AgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBzZCA9IFBTRCwgbWljcm9UYXNrSWQgPSB0b3RhbEVjaG9lcztcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZUF3YWl0ID0gIXBzZC5nbG9iYWwgJiYgKHBzZCAhPT0gUFNEIHx8IG1pY3JvVGFza0lkICE9PSB0b3RhbEVjaG9lcyk7XG4gICAgICAgICAgICAgICAgdmFyIGNsZWFudXAgPSBwb3NzaWJsZUF3YWl0ICYmICFkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgICAgIHZhciBydiA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGVUb0xpc3RlbmVyKF90aGlzLCBuZXcgTGlzdGVuZXIobmF0aXZlQXdhaXRDb21wYXRpYmxlV3JhcChvbkZ1bGZpbGxlZCwgcHNkLCBwb3NzaWJsZUF3YWl0LCBjbGVhbnVwKSwgbmF0aXZlQXdhaXRDb21wYXRpYmxlV3JhcChvblJlamVjdGVkLCBwc2QsIHBvc3NpYmxlQXdhaXQsIGNsZWFudXApLCByZXNvbHZlLCByZWplY3QsIHBzZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25zb2xlVGFzaylcbiAgICAgICAgICAgICAgICAgICAgcnYuX2NvbnNvbGVUYXNrID0gdGhpcy5fY29uc29sZVRhc2s7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhlbi5wcm90b3R5cGUgPSBJTlRFUk5BTDtcbiAgICAgICAgICAgIHJldHVybiB0aGVuO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc2V0UHJvcCh0aGlzLCAndGhlbicsIHZhbHVlICYmIHZhbHVlLnByb3RvdHlwZSA9PT0gSU5URVJOQUwgP1xuICAgICAgICAgICAgICAgIHRoZW5Qcm9wIDpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IHRoZW5Qcm9wLnNldFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwcm9wcyhEZXhpZVByb21pc2UucHJvdG90eXBlLCB7XG4gICAgICAgIHRoZW46IHRoZW5Qcm9wLFxuICAgICAgICBfdGhlbjogZnVuY3Rpb24gKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgICAgICBwcm9wYWdhdGVUb0xpc3RlbmVyKHRoaXMsIG5ldyBMaXN0ZW5lcihudWxsLCBudWxsLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgUFNEKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhdGNoOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzWzBdLCBoYW5kbGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdGhpcy50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyIGluc3RhbmNlb2YgdHlwZSA/IGhhbmRsZXIoZXJyKSA6IFByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiB0aGlzLnRoZW4obnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyICYmIGVyci5uYW1lID09PSB0eXBlID8gaGFuZGxlcihlcnIpIDogUHJvbWlzZVJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmaW5hbGx5OiBmdW5jdGlvbiAob25GaW5hbGx5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2VSZWplY3QoZXJyKTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dDogZnVuY3Rpb24gKG1zLCBtc2cpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gbXMgPCBJbmZpbml0eSA/XG4gICAgICAgICAgICAgICAgbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChuZXcgZXhjZXB0aW9ucy5UaW1lb3V0KG1zZykpOyB9LCBtcyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KS5maW5hbGx5KGNsZWFyVGltZW91dC5iaW5kKG51bGwsIGhhbmRsZSkpO1xuICAgICAgICAgICAgICAgIH0pIDogdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpXG4gICAgICAgIHNldFByb3AoRGV4aWVQcm9taXNlLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCAnRGV4aWUuUHJvbWlzZScpO1xuICAgIGdsb2JhbFBTRC5lbnYgPSBzbmFwU2hvdCgpO1xuICAgIGZ1bmN0aW9uIExpc3RlbmVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCByZXNvbHZlLCByZWplY3QsIHpvbmUpIHtcbiAgICAgICAgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogbnVsbDtcbiAgICAgICAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG4gICAgICAgIHRoaXMucHNkID0gem9uZTtcbiAgICB9XG4gICAgcHJvcHMoRGV4aWVQcm9taXNlLCB7XG4gICAgICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIC5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKGEpLnRoZW4oZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0geDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEtLXJlbWFpbmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9LCByZWplY3QpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZXNvbHZlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERleGllUHJvbWlzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcnYgPSBuZXcgRGV4aWVQcm9taXNlKElOVEVSTkFMLCB0cnVlLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdDogUHJvbWlzZVJlamVjdCxcbiAgICAgICAgcmFjZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgUFNEOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFBTRDsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBQU0QgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICB0b3RhbEVjaG9lczogeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRvdGFsRWNob2VzOyB9IH0sXG4gICAgICAgIG5ld1BTRDogbmV3U2NvcGUsXG4gICAgICAgIHVzZVBTRDogdXNlUFNELFxuICAgICAgICBzY2hlZHVsZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXNhcDsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IGFzYXAgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb25NYXBwZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVqZWN0aW9uTWFwcGVyOyB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmVqZWN0aW9uTWFwcGVyID0gdmFsdWU7IH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9sbG93OiBmdW5jdGlvbiAoZm4sIHpvbmVQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwc2QgPSBQU0Q7XG4gICAgICAgICAgICAgICAgICAgIHBzZC51bmhhbmRsZWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHBzZC5vbnVuaGFuZGxlZCA9IHJlamVjdDtcbiAgICAgICAgICAgICAgICAgICAgcHNkLmZpbmFsaXplID0gY2FsbEJvdGgoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hdF9lbmRfb2ZfdGhpc19vcl9uZXh0X3BoeXNpY2FsX3RpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVuaGFuZGxlZHMubGVuZ3RoID09PSAwID8gcmVzb2x2ZSgpIDogcmVqZWN0KF90aGlzLnVuaGFuZGxlZHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHBzZC5maW5hbGl6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfSwgem9uZVByb3BzLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoTmF0aXZlUHJvbWlzZSkge1xuICAgICAgICBpZiAoTmF0aXZlUHJvbWlzZS5hbGxTZXR0bGVkKVxuICAgICAgICAgICAgc2V0UHJvcChEZXhpZVByb21pc2UsIFwiYWxsU2V0dGxlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3NpYmxlUHJvbWlzZXMgPSBnZXRBcnJheU9mLmFwcGx5KG51bGwsIGFyZ3VtZW50cykubWFwKG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlUHJvbWlzZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSBwb3NzaWJsZVByb21pc2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkocmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVQcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpKSB7IHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShwKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcmVzdWx0c1tpXSA9IHsgc3RhdHVzOiBcImZ1bGZpbGxlZFwiLCB2YWx1ZTogdmFsdWUgfTsgfSwgZnVuY3Rpb24gKHJlYXNvbikgeyByZXR1cm4gcmVzdWx0c1tpXSA9IHsgc3RhdHVzOiBcInJlamVjdGVkXCIsIHJlYXNvbjogcmVhc29uIH07IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHJlc3VsdHMpOyB9KTsgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKE5hdGl2ZVByb21pc2UuYW55ICYmIHR5cGVvZiBBZ2dyZWdhdGVFcnJvciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICBzZXRQcm9wKERleGllUHJvbWlzZSwgXCJhbnlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZVByb21pc2VzID0gZ2V0QXJyYXlPZi5hcHBseShudWxsLCBhcmd1bWVudHMpLm1hcChvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlUHJvbWlzZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihbXSkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gcG9zc2libGVQcm9taXNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IG5ldyBBcnJheShyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVByb21pc2VzLmZvckVhY2goZnVuY3Rpb24gKHAsIGkpIHsgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHApLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSwgZnVuY3Rpb24gKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzW2ldID0gZmFpbHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihmYWlsdXJlcykpO1xuICAgICAgICAgICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKE5hdGl2ZVByb21pc2Uud2l0aFJlc29sdmVycylcbiAgICAgICAgICAgIERleGllUHJvbWlzZS53aXRoUmVzb2x2ZXJzID0gTmF0aXZlUHJvbWlzZS53aXRoUmVzb2x2ZXJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBleGVjdXRlUHJvbWlzZVRhc2socHJvbWlzZSwgZm4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcHJvbWlzZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4nKTtcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkRXhlY3V0ZVRpY2sgPSBwcm9taXNlLl9saWIgJiYgYmVnaW5NaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBleGVjdXRlUHJvbWlzZVRhc2socHJvbWlzZSwgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBEZXhpZVByb21pc2UgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLl90aGVuKHJlc29sdmUsIHJlamVjdCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9zdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUFsbExpc3RlbmVycyhwcm9taXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEV4ZWN1dGVUaWNrKVxuICAgICAgICAgICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgfSwgaGFuZGxlUmVqZWN0aW9uLmJpbmQobnVsbCwgcHJvbWlzZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgaGFuZGxlUmVqZWN0aW9uKHByb21pc2UsIGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVSZWplY3Rpb24ocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgICAgIHJlamVjdGluZ0Vycm9ycy5wdXNoKHJlYXNvbik7XG4gICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHNob3VsZEV4ZWN1dGVUaWNrID0gcHJvbWlzZS5fbGliICYmIGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgcmVhc29uID0gcmVqZWN0aW9uTWFwcGVyKHJlYXNvbik7XG4gICAgICAgIHByb21pc2UuX3N0YXRlID0gZmFsc2U7XG4gICAgICAgIHByb21pc2UuX3ZhbHVlID0gcmVhc29uO1xuICAgICAgICBhZGRQb3NzaWJseVVuaGFuZGxlZEVycm9yKHByb21pc2UpO1xuICAgICAgICBwcm9wYWdhdGVBbGxMaXN0ZW5lcnMocHJvbWlzZSk7XG4gICAgICAgIGlmIChzaG91bGRFeGVjdXRlVGljaylcbiAgICAgICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZUFsbExpc3RlbmVycyhwcm9taXNlKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBwcm9taXNlLl9saXN0ZW5lcnM7XG4gICAgICAgIHByb21pc2UuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBwcm9wYWdhdGVUb0xpc3RlbmVyKHByb21pc2UsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBzZCA9IHByb21pc2UuX1BTRDtcbiAgICAgICAgLS1wc2QucmVmIHx8IHBzZC5maW5hbGl6ZSgpO1xuICAgICAgICBpZiAobnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApIHtcbiAgICAgICAgICAgICsrbnVtU2NoZWR1bGVkQ2FsbHM7XG4gICAgICAgICAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoLS1udW1TY2hlZHVsZWRDYWxscyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgZmluYWxpemVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVUb0xpc3RlbmVyKHByb21pc2UsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvbWlzZS5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYiA9IHByb21pc2UuX3N0YXRlID8gbGlzdGVuZXIub25GdWxmaWxsZWQgOiBsaXN0ZW5lci5vblJlamVjdGVkO1xuICAgICAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAocHJvbWlzZS5fc3RhdGUgPyBsaXN0ZW5lci5yZXNvbHZlIDogbGlzdGVuZXIucmVqZWN0KShwcm9taXNlLl92YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgKytsaXN0ZW5lci5wc2QucmVmO1xuICAgICAgICArK251bVNjaGVkdWxlZENhbGxzO1xuICAgICAgICBhc2FwKGNhbGxMaXN0ZW5lciwgW2NiLCBwcm9taXNlLCBsaXN0ZW5lcl0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsTGlzdGVuZXIoY2IsIHByb21pc2UsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmV0LCB2YWx1ZSA9IHByb21pc2UuX3ZhbHVlO1xuICAgICAgICAgICAgaWYgKCFwcm9taXNlLl9zdGF0ZSAmJiByZWplY3RpbmdFcnJvcnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJlamVjdGluZ0Vycm9ycyA9IFtdO1xuICAgICAgICAgICAgcmV0ID0gZGVidWcgJiYgcHJvbWlzZS5fY29uc29sZVRhc2sgPyBwcm9taXNlLl9jb25zb2xlVGFzay5ydW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY2IodmFsdWUpOyB9KSA6IGNiKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICghcHJvbWlzZS5fc3RhdGUgJiYgcmVqZWN0aW5nRXJyb3JzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hcmtFcnJvckFzSGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyLnJlc29sdmUocmV0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbGlzdGVuZXIucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKC0tbnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApXG4gICAgICAgICAgICAgICAgZmluYWxpemVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgICAgIC0tbGlzdGVuZXIucHNkLnJlZiB8fCBsaXN0ZW5lci5wc2QuZmluYWxpemUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwaHlzaWNhbFRpY2soKSB7XG4gICAgICAgIHVzZVBTRChnbG9iYWxQU0QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJlZ2luTWljcm9UaWNrU2NvcGUoKSAmJiBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmVnaW5NaWNyb1RpY2tTY29wZSgpIHtcbiAgICAgICAgdmFyIHdhc1Jvb3RFeGVjID0gaXNPdXRzaWRlTWljcm9UaWNrO1xuICAgICAgICBpc091dHNpZGVNaWNyb1RpY2sgPSBmYWxzZTtcbiAgICAgICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHdhc1Jvb3RFeGVjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbmRNaWNyb1RpY2tTY29wZSgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrcywgaSwgbDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgd2hpbGUgKG1pY3JvdGlja1F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSBtaWNyb3RpY2tRdWV1ZTtcbiAgICAgICAgICAgICAgICBtaWNyb3RpY2tRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGwgPSBjYWxsYmFja3MubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjYWxsYmFja3NbaV07XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1bMF0uYXBwbHkobnVsbCwgaXRlbVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChtaWNyb3RpY2tRdWV1ZS5sZW5ndGggPiAwKTtcbiAgICAgICAgaXNPdXRzaWRlTWljcm9UaWNrID0gdHJ1ZTtcbiAgICAgICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5hbGl6ZVBoeXNpY2FsVGljaygpIHtcbiAgICAgICAgdmFyIHVuaGFuZGxlZEVycnMgPSB1bmhhbmRsZWRFcnJvcnM7XG4gICAgICAgIHVuaGFuZGxlZEVycm9ycyA9IFtdO1xuICAgICAgICB1bmhhbmRsZWRFcnJzLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgIHAuX1BTRC5vbnVuaGFuZGxlZC5jYWxsKG51bGwsIHAuX3ZhbHVlLCBwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBmaW5hbGl6ZXJzID0gdGlja0ZpbmFsaXplcnMuc2xpY2UoMCk7XG4gICAgICAgIHZhciBpID0gZmluYWxpemVycy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpKVxuICAgICAgICAgICAgZmluYWxpemVyc1stLWldKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bl9hdF9lbmRfb2ZfdGhpc19vcl9uZXh0X3BoeXNpY2FsX3RpY2soZm4pIHtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVyKCkge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIHRpY2tGaW5hbGl6ZXJzLnNwbGljZSh0aWNrRmluYWxpemVycy5pbmRleE9mKGZpbmFsaXplciksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRpY2tGaW5hbGl6ZXJzLnB1c2goZmluYWxpemVyKTtcbiAgICAgICAgKytudW1TY2hlZHVsZWRDYWxscztcbiAgICAgICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoLS1udW1TY2hlZHVsZWRDYWxscyA9PT0gMClcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZVBoeXNpY2FsVGljaygpO1xuICAgICAgICB9LCBbXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFBvc3NpYmx5VW5oYW5kbGVkRXJyb3IocHJvbWlzZSkge1xuICAgICAgICBpZiAoIXVuaGFuZGxlZEVycm9ycy5zb21lKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLl92YWx1ZSA9PT0gcHJvbWlzZS5fdmFsdWU7IH0pKVxuICAgICAgICAgICAgdW5oYW5kbGVkRXJyb3JzLnB1c2gocHJvbWlzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtFcnJvckFzSGFuZGxlZChwcm9taXNlKSB7XG4gICAgICAgIHZhciBpID0gdW5oYW5kbGVkRXJyb3JzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGkpXG4gICAgICAgICAgICBpZiAodW5oYW5kbGVkRXJyb3JzWy0taV0uX3ZhbHVlID09PSBwcm9taXNlLl92YWx1ZSkge1xuICAgICAgICAgICAgICAgIHVuaGFuZGxlZEVycm9ycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBQcm9taXNlUmVqZWN0KHJlYXNvbikge1xuICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShJTlRFUk5BTCwgZmFsc2UsIHJlYXNvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdyYXAoZm4sIGVycm9yQ2F0Y2hlcikge1xuICAgICAgICB2YXIgcHNkID0gUFNEO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdhc1Jvb3RFeGVjID0gYmVnaW5NaWNyb1RpY2tTY29wZSgpLCBvdXRlclNjb3BlID0gUFNEO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hUb1pvbmUocHNkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYXRjaGVyICYmIGVycm9yQ2F0Y2hlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHN3aXRjaFRvWm9uZShvdXRlclNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHdhc1Jvb3RFeGVjKVxuICAgICAgICAgICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgdGFzayA9IHsgYXdhaXRzOiAwLCBlY2hvZXM6IDAsIGlkOiAwIH07XG4gICAgdmFyIHRhc2tDb3VudGVyID0gMDtcbiAgICB2YXIgem9uZVN0YWNrID0gW107XG4gICAgdmFyIHpvbmVFY2hvZXMgPSAwO1xuICAgIHZhciB0b3RhbEVjaG9lcyA9IDA7XG4gICAgdmFyIHpvbmVfaWRfY291bnRlciA9IDA7XG4gICAgZnVuY3Rpb24gbmV3U2NvcGUoZm4sIHByb3BzLCBhMSwgYTIpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IFBTRCwgcHNkID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpO1xuICAgICAgICBwc2QucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBwc2QucmVmID0gMDtcbiAgICAgICAgcHNkLmdsb2JhbCA9IGZhbHNlO1xuICAgICAgICBwc2QuaWQgPSArK3pvbmVfaWRfY291bnRlcjtcbiAgICAgICAgZ2xvYmFsUFNELmVudjtcbiAgICAgICAgcHNkLmVudiA9IHBhdGNoR2xvYmFsUHJvbWlzZSA/IHtcbiAgICAgICAgICAgIFByb21pc2U6IERleGllUHJvbWlzZSxcbiAgICAgICAgICAgIFByb21pc2VQcm9wOiB7IHZhbHVlOiBEZXhpZVByb21pc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIGFsbDogRGV4aWVQcm9taXNlLmFsbCxcbiAgICAgICAgICAgIHJhY2U6IERleGllUHJvbWlzZS5yYWNlLFxuICAgICAgICAgICAgYWxsU2V0dGxlZDogRGV4aWVQcm9taXNlLmFsbFNldHRsZWQsXG4gICAgICAgICAgICBhbnk6IERleGllUHJvbWlzZS5hbnksXG4gICAgICAgICAgICByZXNvbHZlOiBEZXhpZVByb21pc2UucmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogRGV4aWVQcm9taXNlLnJlamVjdCxcbiAgICAgICAgfSA6IHt9O1xuICAgICAgICBpZiAocHJvcHMpXG4gICAgICAgICAgICBleHRlbmQocHNkLCBwcm9wcyk7XG4gICAgICAgICsrcGFyZW50LnJlZjtcbiAgICAgICAgcHNkLmZpbmFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLS10aGlzLnBhcmVudC5yZWYgfHwgdGhpcy5wYXJlbnQuZmluYWxpemUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJ2ID0gdXNlUFNEKHBzZCwgZm4sIGExLCBhMik7XG4gICAgICAgIGlmIChwc2QucmVmID09PSAwKVxuICAgICAgICAgICAgcHNkLmZpbmFsaXplKCk7XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKSB7XG4gICAgICAgIGlmICghdGFzay5pZClcbiAgICAgICAgICAgIHRhc2suaWQgPSArK3Rhc2tDb3VudGVyO1xuICAgICAgICArK3Rhc2suYXdhaXRzO1xuICAgICAgICB0YXNrLmVjaG9lcyArPSBaT05FX0VDSE9fTElNSVQ7XG4gICAgICAgIHJldHVybiB0YXNrLmlkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpIHtcbiAgICAgICAgaWYgKCF0YXNrLmF3YWl0cylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKC0tdGFzay5hd2FpdHMgPT09IDApXG4gICAgICAgICAgICB0YXNrLmlkID0gMDtcbiAgICAgICAgdGFzay5lY2hvZXMgPSB0YXNrLmF3YWl0cyAqIFpPTkVfRUNIT19MSU1JVDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgoJycgKyBuYXRpdmVQcm9taXNlVGhlbikuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpID09PSAtMSkge1xuICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cyA9IGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzID0gbm9wO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMocG9zc2libGVQcm9taXNlKSB7XG4gICAgICAgIGlmICh0YXNrLmVjaG9lcyAmJiBwb3NzaWJsZVByb21pc2UgJiYgcG9zc2libGVQcm9taXNlLmNvbnN0cnVjdG9yID09PSBOYXRpdmVQcm9taXNlKSB7XG4gICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvc3NpYmxlUHJvbWlzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gem9uZUVudGVyRWNobyh0YXJnZXRab25lKSB7XG4gICAgICAgICsrdG90YWxFY2hvZXM7XG4gICAgICAgIGlmICghdGFzay5lY2hvZXMgfHwgLS10YXNrLmVjaG9lcyA9PT0gMCkge1xuICAgICAgICAgICAgdGFzay5lY2hvZXMgPSB0YXNrLmF3YWl0cyA9IHRhc2suaWQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHpvbmVTdGFjay5wdXNoKFBTRCk7XG4gICAgICAgIHN3aXRjaFRvWm9uZSh0YXJnZXRab25lLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gem9uZUxlYXZlRWNobygpIHtcbiAgICAgICAgdmFyIHpvbmUgPSB6b25lU3RhY2tbem9uZVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICB6b25lU3RhY2sucG9wKCk7XG4gICAgICAgIHN3aXRjaFRvWm9uZSh6b25lLCBmYWxzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN3aXRjaFRvWm9uZSh0YXJnZXRab25lLCBiRW50ZXJpbmdab25lKSB7XG4gICAgICAgIHZhciBjdXJyZW50Wm9uZSA9IFBTRDtcbiAgICAgICAgaWYgKGJFbnRlcmluZ1pvbmUgPyB0YXNrLmVjaG9lcyAmJiAoIXpvbmVFY2hvZXMrKyB8fCB0YXJnZXRab25lICE9PSBQU0QpIDogem9uZUVjaG9lcyAmJiAoIS0tem9uZUVjaG9lcyB8fCB0YXJnZXRab25lICE9PSBQU0QpKSB7XG4gICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhiRW50ZXJpbmdab25lID8gem9uZUVudGVyRWNoby5iaW5kKG51bGwsIHRhcmdldFpvbmUpIDogem9uZUxlYXZlRWNobyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldFpvbmUgPT09IFBTRClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgUFNEID0gdGFyZ2V0Wm9uZTtcbiAgICAgICAgaWYgKGN1cnJlbnRab25lID09PSBnbG9iYWxQU0QpXG4gICAgICAgICAgICBnbG9iYWxQU0QuZW52ID0gc25hcFNob3QoKTtcbiAgICAgICAgaWYgKHBhdGNoR2xvYmFsUHJvbWlzZSkge1xuICAgICAgICAgICAgdmFyIEdsb2JhbFByb21pc2UgPSBnbG9iYWxQU0QuZW52LlByb21pc2U7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RW52ID0gdGFyZ2V0Wm9uZS5lbnY7XG4gICAgICAgICAgICBpZiAoY3VycmVudFpvbmUuZ2xvYmFsIHx8IHRhcmdldFpvbmUuZ2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9nbG9iYWwsICdQcm9taXNlJywgdGFyZ2V0RW52LlByb21pc2VQcm9wKTtcbiAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLmFsbCA9IHRhcmdldEVudi5hbGw7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5yYWNlID0gdGFyZ2V0RW52LnJhY2U7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5yZXNvbHZlID0gdGFyZ2V0RW52LnJlc29sdmU7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5yZWplY3QgPSB0YXJnZXRFbnYucmVqZWN0O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbnYuYWxsU2V0dGxlZClcbiAgICAgICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5hbGxTZXR0bGVkID0gdGFyZ2V0RW52LmFsbFNldHRsZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEVudi5hbnkpXG4gICAgICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UuYW55ID0gdGFyZ2V0RW52LmFueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzbmFwU2hvdCgpIHtcbiAgICAgICAgdmFyIEdsb2JhbFByb21pc2UgPSBfZ2xvYmFsLlByb21pc2U7XG4gICAgICAgIHJldHVybiBwYXRjaEdsb2JhbFByb21pc2UgPyB7XG4gICAgICAgICAgICBQcm9taXNlOiBHbG9iYWxQcm9taXNlLFxuICAgICAgICAgICAgUHJvbWlzZVByb3A6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2dsb2JhbCwgXCJQcm9taXNlXCIpLFxuICAgICAgICAgICAgYWxsOiBHbG9iYWxQcm9taXNlLmFsbCxcbiAgICAgICAgICAgIHJhY2U6IEdsb2JhbFByb21pc2UucmFjZSxcbiAgICAgICAgICAgIGFsbFNldHRsZWQ6IEdsb2JhbFByb21pc2UuYWxsU2V0dGxlZCxcbiAgICAgICAgICAgIGFueTogR2xvYmFsUHJvbWlzZS5hbnksXG4gICAgICAgICAgICByZXNvbHZlOiBHbG9iYWxQcm9taXNlLnJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IEdsb2JhbFByb21pc2UucmVqZWN0LFxuICAgICAgICB9IDoge307XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZVBTRChwc2QsIGZuLCBhMSwgYTIsIGEzKSB7XG4gICAgICAgIHZhciBvdXRlclNjb3BlID0gUFNEO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoVG9ab25lKHBzZCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gZm4oYTEsIGEyLCBhMyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzd2l0Y2hUb1pvbmUob3V0ZXJTY29wZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAoZm4sIHpvbmUsIHBvc3NpYmxlQXdhaXQsIGNsZWFudXApIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJyA/IGZuIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG91dGVyWm9uZSA9IFBTRDtcbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUF3YWl0KVxuICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICBzd2l0Y2hUb1pvbmUoem9uZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoVG9ab25lKG91dGVyWm9uZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKVxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4ZWNJbkdsb2JhbENvbnRleHQoY2IpIHtcbiAgICAgICAgaWYgKFByb21pc2UgPT09IE5hdGl2ZVByb21pc2UgJiYgdGFzay5lY2hvZXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh6b25lRWNob2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVucXVldWVOYXRpdmVNaWNyb1Rhc2soY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChjYiwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlamVjdGlvbiA9IERleGllUHJvbWlzZS5yZWplY3Q7XG5cbiAgICBmdW5jdGlvbiB0ZW1wVHJhbnNhY3Rpb24oZGIsIG1vZGUsIHN0b3JlTmFtZXMsIGZuKSB7XG4gICAgICAgIGlmICghZGIuaWRiZGIgfHwgKCFkYi5fc3RhdGUub3BlbkNvbXBsZXRlICYmICghUFNELmxldFRocm91Z2ggJiYgIWRiLl92aXApKSkge1xuICAgICAgICAgICAgaWYgKGRiLl9zdGF0ZS5vcGVuQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKGRiLl9zdGF0ZS5kYk9wZW5FcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYi5fc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICghZGIuX3N0YXRlLmF1dG9PcGVuKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgIGRiLm9wZW4oKS5jYXRjaChub3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRiLl9zdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRlbXBUcmFuc2FjdGlvbihkYiwgbW9kZSwgc3RvcmVOYW1lcywgZm4pOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0cmFucyA9IGRiLl9jcmVhdGVUcmFuc2FjdGlvbihtb2RlLCBzdG9yZU5hbWVzLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0cmFucy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICBkYi5fc3RhdGUuUFIxMzk4X21heExvb3AgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4Lm5hbWUgPT09IGVycm5hbWVzLkludmFsaWRTdGF0ZSAmJiBkYi5pc09wZW4oKSAmJiAtLWRiLl9zdGF0ZS5QUjEzOThfbWF4TG9vcCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXhpZTogTmVlZCB0byByZW9wZW4gZGInKTtcbiAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoeyBkaXNhYmxlQXV0b09wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGIub3BlbigpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdGVtcFRyYW5zYWN0aW9uKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBmbik7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cmFucy5fcHJvbWlzZShtb2RlLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Njb3BlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgUFNELnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihyZXNvbHZlLCByZWplY3QsIHRyYW5zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAncmVhZHdyaXRlJylcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zLmNvbW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGUgPT09ICdyZWFkb25seScgPyByZXN1bHQgOiB0cmFucy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc3VsdDsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBERVhJRV9WRVJTSU9OID0gJzQuMC4xMSc7XG4gICAgdmFyIG1heFN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzUpO1xuICAgIHZhciBtaW5LZXkgPSAtSW5maW5pdHk7XG4gICAgdmFyIElOVkFMSURfS0VZX0FSR1VNRU5UID0gXCJJbnZhbGlkIGtleSBwcm92aWRlZC4gS2V5cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLCBudW1iZXIsIERhdGUgb3IgQXJyYXk8c3RyaW5nIHwgbnVtYmVyIHwgRGF0ZT4uXCI7XG4gICAgdmFyIFNUUklOR19FWFBFQ1RFRCA9IFwiU3RyaW5nIGV4cGVjdGVkLlwiO1xuICAgIHZhciBjb25uZWN0aW9ucyA9IFtdO1xuICAgIHZhciBEQk5BTUVTX0RCID0gJ19fZGJuYW1lcyc7XG4gICAgdmFyIFJFQURPTkxZID0gJ3JlYWRvbmx5JztcbiAgICB2YXIgUkVBRFdSSVRFID0gJ3JlYWR3cml0ZSc7XG5cbiAgICBmdW5jdGlvbiBjb21iaW5lKGZpbHRlcjEsIGZpbHRlcjIpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlcjEgP1xuICAgICAgICAgICAgZmlsdGVyMiA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpICYmIGZpbHRlcjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSA6XG4gICAgICAgICAgICAgICAgZmlsdGVyMSA6XG4gICAgICAgICAgICBmaWx0ZXIyO1xuICAgIH1cblxuICAgIHZhciBBbnlSYW5nZSA9IHtcbiAgICAgICAgdHlwZTogMyAsXG4gICAgICAgIGxvd2VyOiAtSW5maW5pdHksXG4gICAgICAgIGxvd2VyT3BlbjogZmFsc2UsXG4gICAgICAgIHVwcGVyOiBbW11dLFxuICAgICAgICB1cHBlck9wZW46IGZhbHNlXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBrZXlQYXRoID09PSBcInN0cmluZ1wiICYmICEvXFwuLy50ZXN0KGtleVBhdGgpXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2tleVBhdGhdID09PSB1bmRlZmluZWQgJiYgKGtleVBhdGggaW4gb2JqKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmogPSBkZWVwQ2xvbmUob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqOyB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEVudGl0eSgpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9ucy5UeXBlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY21wKGEsIGIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0YSA9IHR5cGUoYSk7XG4gICAgICAgICAgICB2YXIgdGIgPSB0eXBlKGIpO1xuICAgICAgICAgICAgaWYgKHRhICE9PSB0Yikge1xuICAgICAgICAgICAgICAgIGlmICh0YSA9PT0gJ0FycmF5JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiID09PSAnQXJyYXknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKHRhID09PSAnYmluYXJ5JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiID09PSAnYmluYXJ5JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIGlmICh0YSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGlmICh0YiA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAodGEgPT09ICdEYXRlJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiICE9PSAnRGF0ZScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh0YSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JpbmFyeSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVVaW50OEFycmF5cyhnZXRVaW50OEFycmF5KGEpLCBnZXRVaW50OEFycmF5KGIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZUFycmF5cyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlQXJyYXlzKGEsIGIpIHtcbiAgICAgICAgdmFyIGFsID0gYS5sZW5ndGg7XG4gICAgICAgIHZhciBibCA9IGIubGVuZ3RoO1xuICAgICAgICB2YXIgbCA9IGFsIDwgYmwgPyBhbCA6IGJsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IGNtcChhW2ldLCBiW2ldKTtcbiAgICAgICAgICAgIGlmIChyZXMgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWwgPT09IGJsID8gMCA6IGFsIDwgYmwgPyAtMSA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVVaW50OEFycmF5cyhhLCBiKSB7XG4gICAgICAgIHZhciBhbCA9IGEubGVuZ3RoO1xuICAgICAgICB2YXIgYmwgPSBiLmxlbmd0aDtcbiAgICAgICAgdmFyIGwgPSBhbCA8IGJsID8gYWwgOiBibDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBhW2ldIDwgYltpXSA/IC0xIDogMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWwgPT09IGJsID8gMCA6IGFsIDwgYmwgPyAtMSA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHR5cGUoeCkge1xuICAgICAgICB2YXIgdCA9IHR5cGVvZiB4O1xuICAgICAgICBpZiAodCAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh4KSlcbiAgICAgICAgICAgIHJldHVybiAnYmluYXJ5JztcbiAgICAgICAgdmFyIHRzVGFnID0gdG9TdHJpbmdUYWcoeCk7XG4gICAgICAgIHJldHVybiB0c1RhZyA9PT0gJ0FycmF5QnVmZmVyJyA/ICdiaW5hcnknIDogdHNUYWc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFVpbnQ4QXJyYXkoYSkge1xuICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhLmJ1ZmZlciwgYS5ieXRlT2Zmc2V0LCBhLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSk7XG4gICAgfVxuXG4gICAgdmFyIFRhYmxlID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFRhYmxlKCkge1xuICAgICAgICB9XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5fdHJhbnMgPSBmdW5jdGlvbiAobW9kZSwgZm4sIHdyaXRlTG9ja2VkKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSB0aGlzLl90eCB8fCBQU0QudHJhbnM7XG4gICAgICAgICAgICB2YXIgdGFibGVOYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICAgICAgdmFyIHRhc2sgPSBkZWJ1ZyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5jcmVhdGVUYXNrICYmIGNvbnNvbGUuY3JlYXRlVGFzayhcIkRleGllOiBcIi5jb25jYXQobW9kZSA9PT0gJ3JlYWRvbmx5JyA/ICdyZWFkJyA6ICd3cml0ZScsIFwiIFwiKS5jb25jYXQodGhpcy5uYW1lKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1RhYmxlSW5UcmFuc2FjdGlvbihyZXNvbHZlLCByZWplY3QsIHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFucy5zY2hlbWFbdGFibGVOYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTm90Rm91bmQoXCJUYWJsZSBcIiArIHRhYmxlTmFtZSArIFwiIG5vdCBwYXJ0IG9mIHRyYW5zYWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cmFucy5pZGJ0cmFucywgdHJhbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdhc1Jvb3RFeGVjID0gYmVnaW5NaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHRyYW5zICYmIHRyYW5zLmRiLl9ub3ZpcCA9PT0gdGhpcy5kYi5fbm92aXAgP1xuICAgICAgICAgICAgICAgICAgICB0cmFucyA9PT0gUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLl9wcm9taXNlKG1vZGUsIGNoZWNrVGFibGVJblRyYW5zYWN0aW9uLCB3cml0ZUxvY2tlZCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NvcGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJhbnMuX3Byb21pc2UobW9kZSwgY2hlY2tUYWJsZUluVHJhbnNhY3Rpb24sIHdyaXRlTG9ja2VkKTsgfSwgeyB0cmFuczogdHJhbnMsIHRyYW5zbGVzczogUFNELnRyYW5zbGVzcyB8fCBQU0QgfSkgOlxuICAgICAgICAgICAgICAgICAgICB0ZW1wVHJhbnNhY3Rpb24odGhpcy5kYiwgbW9kZSwgW3RoaXMubmFtZV0sIGNoZWNrVGFibGVJblRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICBwLl9jb25zb2xlVGFzayA9IHRhc2s7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKHdhc1Jvb3RFeGVjKVxuICAgICAgICAgICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleU9yQ3JpdCwgY2IpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoa2V5T3JDcml0ICYmIGtleU9yQ3JpdC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndoZXJlKGtleU9yQ3JpdCkuZmlyc3QoY2IpO1xuICAgICAgICAgICAgaWYgKGtleU9yQ3JpdCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuVHlwZShcIkludmFsaWQgYXJndW1lbnQgdG8gVGFibGUuZ2V0KClcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkb25seScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLmdldCh7IHRyYW5zOiB0cmFucywga2V5OiBrZXlPckNyaXQgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gX3RoaXMuaG9vay5yZWFkaW5nLmZpcmUocmVzKTsgfSk7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLndoZXJlID0gZnVuY3Rpb24gKGluZGV4T3JDcml0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4T3JDcml0ID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcywgaW5kZXhPckNyaXQpO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoaW5kZXhPckNyaXQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzLCBcIltcIi5jb25jYXQoaW5kZXhPckNyaXQuam9pbignKycpLCBcIl1cIikpO1xuICAgICAgICAgICAgdmFyIGtleVBhdGhzID0ga2V5cyhpbmRleE9yQ3JpdCk7XG4gICAgICAgICAgICBpZiAoa2V5UGF0aHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC53aGVyZShrZXlQYXRoc1swXSlcbiAgICAgICAgICAgICAgICAgICAgLmVxdWFscyhpbmRleE9yQ3JpdFtrZXlQYXRoc1swXV0pO1xuICAgICAgICAgICAgdmFyIGNvbXBvdW5kSW5kZXggPSB0aGlzLnNjaGVtYS5pbmRleGVzLmNvbmNhdCh0aGlzLnNjaGVtYS5wcmltS2V5KS5maWx0ZXIoZnVuY3Rpb24gKGl4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGl4LmNvbXBvdW5kICYmXG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGhzLmV2ZXJ5KGZ1bmN0aW9uIChrZXlQYXRoKSB7IHJldHVybiBpeC5rZXlQYXRoLmluZGV4T2Yoa2V5UGF0aCkgPj0gMDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlQYXRocy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVBhdGhzLmluZGV4T2YoaXgua2V5UGF0aFtpXSkgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5rZXlQYXRoLmxlbmd0aCAtIGIua2V5UGF0aC5sZW5ndGg7IH0pWzBdO1xuICAgICAgICAgICAgaWYgKGNvbXBvdW5kSW5kZXggJiYgdGhpcy5kYi5fbWF4S2V5ICE9PSBtYXhTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5UGF0aHNJblZhbGlkT3JkZXIgPSBjb21wb3VuZEluZGV4LmtleVBhdGguc2xpY2UoMCwga2V5UGF0aHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAud2hlcmUoa2V5UGF0aHNJblZhbGlkT3JkZXIpXG4gICAgICAgICAgICAgICAgICAgIC5lcXVhbHMoa2V5UGF0aHNJblZhbGlkT3JkZXIubWFwKGZ1bmN0aW9uIChrcCkgeyByZXR1cm4gaW5kZXhPckNyaXRba3BdOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbXBvdW5kSW5kZXggJiYgZGVidWcpXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhlIHF1ZXJ5IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShpbmRleE9yQ3JpdCksIFwiIG9uIFwiKS5jb25jYXQodGhpcy5uYW1lLCBcIiB3b3VsZCBiZW5lZml0IGZyb20gYSBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcImNvbXBvdW5kIGluZGV4IFtcIi5jb25jYXQoa2V5UGF0aHMuam9pbignKycpLCBcIl1cIikpO1xuICAgICAgICAgICAgdmFyIGlkeEJ5TmFtZSA9IHRoaXMuc2NoZW1hLmlkeEJ5TmFtZTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtcChhLCBiKSA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IGtleVBhdGhzLnJlZHVjZShmdW5jdGlvbiAoX2EsIGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldkluZGV4ID0gX2FbMF0sIHByZXZGaWx0ZXJGbiA9IF9hWzFdO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGlkeEJ5TmFtZVtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmRleE9yQ3JpdFtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXggfHwgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleCB8fCAhaW5kZXggP1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmluZShwcmV2RmlsdGVyRm4sIGluZGV4ICYmIGluZGV4Lm11bHRpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IGdldEJ5S2V5UGF0aCh4LCBrZXlQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkocHJvcCkgJiYgcHJvcC5zb21lKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBlcXVhbHModmFsdWUsIGl0ZW0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGVxdWFscyh2YWx1ZSwgZ2V0QnlLZXlQYXRoKHgsIGtleVBhdGgpKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcHJldkZpbHRlckZuXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0sIFtudWxsLCBudWxsXSksIGlkeCA9IF9hWzBdLCBmaWx0ZXJGdW5jdGlvbiA9IF9hWzFdO1xuICAgICAgICAgICAgcmV0dXJuIGlkeCA/XG4gICAgICAgICAgICAgICAgdGhpcy53aGVyZShpZHgubmFtZSkuZXF1YWxzKGluZGV4T3JDcml0W2lkeC5rZXlQYXRoXSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmaWx0ZXJGdW5jdGlvbikgOlxuICAgICAgICAgICAgICAgIGNvbXBvdW5kSW5kZXggP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcihmaWx0ZXJGdW5jdGlvbikgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndoZXJlKGtleVBhdGhzKS5lcXVhbHMoJycpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5hbmQoZmlsdGVyRnVuY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAodGhlblNob3J0Y3V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5jb3VudCh0aGVuU2hvcnRjdXQpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkub2Zmc2V0KG9mZnNldCk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uIChudW1Sb3dzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5saW1pdChudW1Sb3dzKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmVhY2goY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICh0aGVuU2hvcnRjdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLnRvQXJyYXkodGhlblNob3J0Y3V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnRvQ29sbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5Db2xsZWN0aW9uKG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLm9yZGVyQnkgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5Db2xsZWN0aW9uKG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMsIGlzQXJyYXkoaW5kZXgpID9cbiAgICAgICAgICAgICAgICBcIltcIi5jb25jYXQoaW5kZXguam9pbignKycpLCBcIl1cIikgOlxuICAgICAgICAgICAgICAgIGluZGV4KSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkucmV2ZXJzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUubWFwVG9DbGFzcyA9IGZ1bmN0aW9uIChjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgZGIgPSBfYS5kYiwgdGFibGVOYW1lID0gX2EubmFtZTtcbiAgICAgICAgICAgIHRoaXMuc2NoZW1hLm1hcHBlZENsYXNzID0gY29uc3RydWN0b3I7XG4gICAgICAgICAgICBpZiAoY29uc3RydWN0b3IucHJvdG90eXBlIGluc3RhbmNlb2YgRW50aXR5KSB7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSAgKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgX19leHRlbmRzKGNsYXNzXzEsIF9zdXBlcik7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNsYXNzXzEoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzXzEucHJvdG90eXBlLCBcImRiXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGI7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0YWJsZU5hbWU7IH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc18xO1xuICAgICAgICAgICAgICAgIH0oY29uc3RydWN0b3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmhlcml0ZWRQcm9wcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3RvID0gY29uc3RydWN0b3IucHJvdG90eXBlOyBwcm90bzsgcHJvdG8gPSBnZXRQcm90byhwcm90bykpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90bykuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHsgcmV0dXJuIGluaGVyaXRlZFByb3BzLmFkZChwcm9wTmFtZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlYWRIb29rID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIGlmICghb2JqKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgICAgIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbSBpbiBvYmopXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5oZXJpdGVkUHJvcHMuaGFzKG0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNbbV0gPSBvYmpbbV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodGhpcy5zY2hlbWEucmVhZEhvb2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhvb2sucmVhZGluZy51bnN1YnNjcmliZSh0aGlzLnNjaGVtYS5yZWFkSG9vayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjaGVtYS5yZWFkSG9vayA9IHJlYWRIb29rO1xuICAgICAgICAgICAgdGhpcy5ob29rKFwicmVhZGluZ1wiLCByZWFkSG9vayk7XG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5kZWZpbmVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIENsYXNzKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBUb0NsYXNzKENsYXNzKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuc2NoZW1hLnByaW1LZXksIGF1dG8gPSBfYS5hdXRvLCBrZXlQYXRoID0gX2Eua2V5UGF0aDtcbiAgICAgICAgICAgIHZhciBvYmpUb0FkZCA9IG9iajtcbiAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGF1dG8pIHtcbiAgICAgICAgICAgICAgICBvYmpUb0FkZCA9IHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2FkZCcsIGtleXM6IGtleSAhPSBudWxsID8gW2tleV0gOiBudWxsLCB2YWx1ZXM6IFtvYmpUb0FkZF0gfSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHJlcy5sYXN0UmVzdWx0OyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIGxhc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChrZXlPck9iamVjdCwgbW9kaWZpY2F0aW9ucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXlPck9iamVjdCA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXkoa2V5T3JPYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldEJ5S2V5UGF0aChrZXlPck9iamVjdCwgdGhpcy5zY2hlbWEucHJpbUtleS5rZXlQYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiR2l2ZW4gb2JqZWN0IGRvZXMgbm90IGNvbnRhaW4gaXRzIHByaW1hcnkga2V5XCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShcIjppZFwiKS5lcXVhbHMoa2V5KS5tb2RpZnkobW9kaWZpY2F0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShcIjppZFwiKS5lcXVhbHMoa2V5T3JPYmplY3QpLm1vZGlmeShtb2RpZmljYXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuc2NoZW1hLnByaW1LZXksIGF1dG8gPSBfYS5hdXRvLCBrZXlQYXRoID0gX2Eua2V5UGF0aDtcbiAgICAgICAgICAgIHZhciBvYmpUb0FkZCA9IG9iajtcbiAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGF1dG8pIHtcbiAgICAgICAgICAgICAgICBvYmpUb0FkZCA9IHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdwdXQnLCB2YWx1ZXM6IFtvYmpUb0FkZF0sIGtleXM6IGtleSAhPSBudWxsID8gW2tleV0gOiBudWxsIH0pOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHJlcy5sYXN0UmVzdWx0OyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIGxhc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGUnLCBrZXlzOiBba2V5XSB9KTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMubnVtRmFpbHVyZXMgPyBEZXhpZVByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSkgOiB1bmRlZmluZWQ7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnZGVsZXRlUmFuZ2UnLCByYW5nZTogQW55UmFuZ2UgfSk7IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLm51bUZhaWx1cmVzID8gRGV4aWVQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pIDogdW5kZWZpbmVkOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmJ1bGtHZXQgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZG9ubHknLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5nZXRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQubWFwKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIF90aGlzLmhvb2sucmVhZGluZy5maXJlKHJlcyk7IH0pOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa0FkZCA9IGZ1bmN0aW9uIChvYmplY3RzLCBrZXlzT3JPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBBcnJheS5pc0FycmF5KGtleXNPck9wdGlvbnMpID8ga2V5c09yT3B0aW9ucyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IChrZXlzID8gdW5kZWZpbmVkIDoga2V5c09yT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgd2FudFJlc3VsdHMgPSBvcHRpb25zID8gb3B0aW9ucy5hbGxLZXlzIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zY2hlbWEucHJpbUtleSwgYXV0byA9IF9hLmF1dG8sIGtleVBhdGggPSBfYS5rZXlQYXRoO1xuICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGtleXMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcImJ1bGtBZGQoKToga2V5cyBhcmd1bWVudCBpbnZhbGlkIG9uIHRhYmxlcyB3aXRoIGluYm91bmQga2V5c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5cyAmJiBrZXlzLmxlbmd0aCAhPT0gb2JqZWN0cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkFyZ3VtZW50cyBvYmplY3RzIGFuZCBrZXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgICAgICAgICAgICAgdmFyIG51bU9iamVjdHMgPSBvYmplY3RzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0c1RvQWRkID0ga2V5UGF0aCAmJiBhdXRvID9cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5tYXAod29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkpIDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdhZGQnLCBrZXlzOiBrZXlzLCB2YWx1ZXM6IG9iamVjdHNUb0FkZCwgd2FudFJlc3VsdHM6IHdhbnRSZXN1bHRzIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgcmVzdWx0cyA9IF9hLnJlc3VsdHMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0LCBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gd2FudFJlc3VsdHMgPyByZXN1bHRzIDogbGFzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1bGtFcnJvcihcIlwiLmNvbmNhdChfdGhpcy5uYW1lLCBcIi5idWxrQWRkKCk6IFwiKS5jb25jYXQobnVtRmFpbHVyZXMsIFwiIG9mIFwiKS5jb25jYXQobnVtT2JqZWN0cywgXCIgb3BlcmF0aW9ucyBmYWlsZWRcIiksIGZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa1B1dCA9IGZ1bmN0aW9uIChvYmplY3RzLCBrZXlzT3JPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBBcnJheS5pc0FycmF5KGtleXNPck9wdGlvbnMpID8ga2V5c09yT3B0aW9ucyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IChrZXlzID8gdW5kZWZpbmVkIDoga2V5c09yT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgd2FudFJlc3VsdHMgPSBvcHRpb25zID8gb3B0aW9ucy5hbGxLZXlzIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5zY2hlbWEucHJpbUtleSwgYXV0byA9IF9hLmF1dG8sIGtleVBhdGggPSBfYS5rZXlQYXRoO1xuICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGtleXMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcImJ1bGtQdXQoKToga2V5cyBhcmd1bWVudCBpbnZhbGlkIG9uIHRhYmxlcyB3aXRoIGluYm91bmQga2V5c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5cyAmJiBrZXlzLmxlbmd0aCAhPT0gb2JqZWN0cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkFyZ3VtZW50cyBvYmplY3RzIGFuZCBrZXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgICAgICAgICAgICAgdmFyIG51bU9iamVjdHMgPSBvYmplY3RzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0c1RvUHV0ID0ga2V5UGF0aCAmJiBhdXRvID9cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5tYXAod29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkpIDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdwdXQnLCBrZXlzOiBrZXlzLCB2YWx1ZXM6IG9iamVjdHNUb1B1dCwgd2FudFJlc3VsdHM6IHdhbnRSZXN1bHRzIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgcmVzdWx0cyA9IF9hLnJlc3VsdHMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0LCBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gd2FudFJlc3VsdHMgPyByZXN1bHRzIDogbGFzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1bGtFcnJvcihcIlwiLmNvbmNhdChfdGhpcy5uYW1lLCBcIi5idWxrUHV0KCk6IFwiKS5jb25jYXQobnVtRmFpbHVyZXMsIFwiIG9mIFwiKS5jb25jYXQobnVtT2JqZWN0cywgXCIgb3BlcmF0aW9ucyBmYWlsZWRcIiksIGZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa1VwZGF0ZSA9IGZ1bmN0aW9uIChrZXlzQW5kQ2hhbmdlcykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjb3JlVGFibGUgPSB0aGlzLmNvcmU7XG4gICAgICAgICAgICB2YXIga2V5cyA9IGtleXNBbmRDaGFuZ2VzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmtleTsgfSk7XG4gICAgICAgICAgICB2YXIgY2hhbmdlU3BlY3MgPSBrZXlzQW5kQ2hhbmdlcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS5jaGFuZ2VzOyB9KTtcbiAgICAgICAgICAgIHZhciBvZmZzZXRNYXAgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmVUYWJsZS5nZXRNYW55KHsgdHJhbnM6IHRyYW5zLCBrZXlzOiBrZXlzLCBjYWNoZTogJ2Nsb25lJyB9KS50aGVuKGZ1bmN0aW9uIChvYmpzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRLZXlzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRPYmpzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGtleXNBbmRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKF9hLCBpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYS5rZXksIGNoYW5nZXMgPSBfYS5jaGFuZ2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IG9ianNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9iID0gT2JqZWN0LmtleXMoY2hhbmdlcyk7IF9pIDwgX2IubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoID0gX2JbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjaGFuZ2VzW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCA9PT0gX3RoaXMuc2NoZW1hLnByaW1LZXkua2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNtcCh2YWx1ZSwga2V5KSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkNvbnN0cmFpbnQoXCJDYW5ub3QgdXBkYXRlIHByaW1hcnkga2V5IGluIGJ1bGtVcGRhdGUoKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRNYXAucHVzaChpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdEtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE9ianMucHVzaChvYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUVudHJpZXMgPSByZXN1bHRLZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLm11dGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHJlc3VsdEtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHJlc3VsdE9ianMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTcGVjczogY2hhbmdlU3BlY3NcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bUVudHJpZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9iID0gT2JqZWN0LmtleXMoZmFpbHVyZXMpOyBfaSA8IF9iLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBfYltfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcHBlZE9mZnNldCA9IG9mZnNldE1hcFtOdW1iZXIob2Zmc2V0KV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcHBlZE9mZnNldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlID0gZmFpbHVyZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZhaWx1cmVzW29mZnNldF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzW21hcHBlZE9mZnNldF0gPSBmYWlsdXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBCdWxrRXJyb3IoXCJcIi5jb25jYXQoX3RoaXMubmFtZSwgXCIuYnVsa1VwZGF0ZSgpOiBcIikuY29uY2F0KG51bUZhaWx1cmVzLCBcIiBvZiBcIikuY29uY2F0KG51bUVudHJpZXMsIFwiIG9wZXJhdGlvbnMgZmFpbGVkXCIpLCBmYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrRGVsZXRlID0gZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbnVtS2V5cyA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGUnLCBrZXlzOiBrZXlzIH0pO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgbGFzdFJlc3VsdCA9IF9hLmxhc3RSZXN1bHQsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgaWYgKG51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQnVsa0Vycm9yKFwiXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiLmJ1bGtEZWxldGUoKTogXCIpLmNvbmNhdChudW1GYWlsdXJlcywgXCIgb2YgXCIpLmNvbmNhdChudW1LZXlzLCBcIiBvcGVyYXRpb25zIGZhaWxlZFwiKSwgZmFpbHVyZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBUYWJsZTtcbiAgICB9KCkpO1xuXG4gICAgZnVuY3Rpb24gRXZlbnRzKGN0eCkge1xuICAgICAgICB2YXIgZXZzID0ge307XG4gICAgICAgIHZhciBydiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KGkgLSAxKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoLS1pKVxuICAgICAgICAgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBldnNbZXZlbnROYW1lXS5zdWJzY3JpYmUuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiAoZXZlbnROYW1lKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZzW2V2ZW50TmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJ2LmFkZEV2ZW50VHlwZSA9IGFkZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICBhZGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIGZ1bmN0aW9uIGFkZChldmVudE5hbWUsIGNoYWluRnVuY3Rpb24sIGRlZmF1bHRGdW5jdGlvbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudE5hbWUgPT09ICdvYmplY3QnKVxuICAgICAgICAgICAgICAgIHJldHVybiBhZGRDb25maWd1cmVkRXZlbnRzKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICBpZiAoIWNoYWluRnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgY2hhaW5GdW5jdGlvbiA9IHJldmVyc2VTdG9wcGFibGVFdmVudENoYWluO1xuICAgICAgICAgICAgaWYgKCFkZWZhdWx0RnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgZGVmYXVsdEZ1bmN0aW9uID0gbm9wO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcnM6IFtdLFxuICAgICAgICAgICAgICAgIGZpcmU6IGRlZmF1bHRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5zdWJzY3JpYmVycy5pbmRleE9mKGNiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Vic2NyaWJlcnMucHVzaChjYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpcmUgPSBjaGFpbkZ1bmN0aW9uKGNvbnRleHQuZmlyZSwgY2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Vic2NyaWJlcnMgPSBjb250ZXh0LnN1YnNjcmliZXJzLmZpbHRlcihmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuICE9PSBjYjsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlyZSA9IGNvbnRleHQuc3Vic2NyaWJlcnMucmVkdWNlKGNoYWluRnVuY3Rpb24sIGRlZmF1bHRGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGV2c1tldmVudE5hbWVdID0gcnZbZXZlbnROYW1lXSA9IGNvbnRleHQ7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRDb25maWd1cmVkRXZlbnRzKGNmZykge1xuICAgICAgICAgICAga2V5cyhjZmcpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gY2ZnW2V2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJncykpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkKGV2ZW50TmFtZSwgY2ZnW2V2ZW50TmFtZV1bMF0sIGNmZ1tldmVudE5hbWVdWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncyA9PT0gJ2FzYXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gYWRkKGV2ZW50TmFtZSwgbWlycm9yLCBmdW5jdGlvbiBmaXJlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzYXAkMShmdW5jdGlvbiBmaXJlRXZlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkludmFsaWQgZXZlbnQgY29uZmlnXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQ2xhc3NDb25zdHJ1Y3Rvcihwcm90b3R5cGUsIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGRlcml2ZShjb25zdHJ1Y3RvcikuZnJvbSh7IHByb3RvdHlwZTogcHJvdG90eXBlIH0pO1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVGFibGVDb25zdHJ1Y3RvcihkYikge1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzQ29uc3RydWN0b3IoVGFibGUucHJvdG90eXBlLCBmdW5jdGlvbiBUYWJsZShuYW1lLCB0YWJsZVNjaGVtYSwgdHJhbnMpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX3R4ID0gdHJhbnM7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWEgPSB0YWJsZVNjaGVtYTtcbiAgICAgICAgICAgIHRoaXMuaG9vayA9IGRiLl9hbGxUYWJsZXNbbmFtZV0gPyBkYi5fYWxsVGFibGVzW25hbWVdLmhvb2sgOiBFdmVudHMobnVsbCwge1xuICAgICAgICAgICAgICAgIFwiY3JlYXRpbmdcIjogW2hvb2tDcmVhdGluZ0NoYWluLCBub3BdLFxuICAgICAgICAgICAgICAgIFwicmVhZGluZ1wiOiBbcHVyZUZ1bmN0aW9uQ2hhaW4sIG1pcnJvcl0sXG4gICAgICAgICAgICAgICAgXCJ1cGRhdGluZ1wiOiBbaG9va1VwZGF0aW5nQ2hhaW4sIG5vcF0sXG4gICAgICAgICAgICAgICAgXCJkZWxldGluZ1wiOiBbaG9va0RlbGV0aW5nQ2hhaW4sIG5vcF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BsYWluS2V5UmFuZ2UoY3R4LCBpZ25vcmVMaW1pdEZpbHRlcikge1xuICAgICAgICByZXR1cm4gIShjdHguZmlsdGVyIHx8IGN0eC5hbGdvcml0aG0gfHwgY3R4Lm9yKSAmJlxuICAgICAgICAgICAgKGlnbm9yZUxpbWl0RmlsdGVyID8gY3R4Lmp1c3RMaW1pdCA6ICFjdHgucmVwbGF5RmlsdGVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRmlsdGVyKGN0eCwgZm4pIHtcbiAgICAgICAgY3R4LmZpbHRlciA9IGNvbWJpbmUoY3R4LmZpbHRlciwgZm4pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRSZXBsYXlGaWx0ZXIoY3R4LCBmYWN0b3J5LCBpc0xpbWl0RmlsdGVyKSB7XG4gICAgICAgIHZhciBjdXJyID0gY3R4LnJlcGxheUZpbHRlcjtcbiAgICAgICAgY3R4LnJlcGxheUZpbHRlciA9IGN1cnIgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lKGN1cnIoKSwgZmFjdG9yeSgpKTsgfSA6IGZhY3Rvcnk7XG4gICAgICAgIGN0eC5qdXN0TGltaXQgPSBpc0xpbWl0RmlsdGVyICYmICFjdXJyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRNYXRjaEZpbHRlcihjdHgsIGZuKSB7XG4gICAgICAgIGN0eC5pc01hdGNoID0gY29tYmluZShjdHguaXNNYXRjaCwgZm4pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbmRleE9yU3RvcmUoY3R4LCBjb3JlU2NoZW1hKSB7XG4gICAgICAgIGlmIChjdHguaXNQcmltS2V5KVxuICAgICAgICAgICAgcmV0dXJuIGNvcmVTY2hlbWEucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGluZGV4ID0gY29yZVNjaGVtYS5nZXRJbmRleEJ5S2V5UGF0aChjdHguaW5kZXgpO1xuICAgICAgICBpZiAoIWluZGV4KVxuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiS2V5UGF0aCBcIiArIGN0eC5pbmRleCArIFwiIG9uIG9iamVjdCBzdG9yZSBcIiArIGNvcmVTY2hlbWEubmFtZSArIFwiIGlzIG5vdCBpbmRleGVkXCIpO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW5DdXJzb3IoY3R4LCBjb3JlVGFibGUsIHRyYW5zKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4T3JTdG9yZShjdHgsIGNvcmVUYWJsZS5zY2hlbWEpO1xuICAgICAgICByZXR1cm4gY29yZVRhYmxlLm9wZW5DdXJzb3Ioe1xuICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgdmFsdWVzOiAhY3R4LmtleXNPbmx5LFxuICAgICAgICAgICAgcmV2ZXJzZTogY3R4LmRpciA9PT0gJ3ByZXYnLFxuICAgICAgICAgICAgdW5pcXVlOiAhIWN0eC51bmlxdWUsXG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpdGVyKGN0eCwgZm4sIGNvcmVUcmFucywgY29yZVRhYmxlKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBjdHgucmVwbGF5RmlsdGVyID8gY29tYmluZShjdHguZmlsdGVyLCBjdHgucmVwbGF5RmlsdGVyKCkpIDogY3R4LmZpbHRlcjtcbiAgICAgICAgaWYgKCFjdHgub3IpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRlKG9wZW5DdXJzb3IoY3R4LCBjb3JlVGFibGUsIGNvcmVUcmFucyksIGNvbWJpbmUoY3R4LmFsZ29yaXRobSwgZmlsdGVyKSwgZm4sICFjdHgua2V5c09ubHkgJiYgY3R4LnZhbHVlTWFwcGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzZXRfMSA9IHt9O1xuICAgICAgICAgICAgdmFyIHVuaW9uID0gZnVuY3Rpb24gKGl0ZW0sIGN1cnNvciwgYWR2YW5jZSkge1xuICAgICAgICAgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihjdXJzb3IsIGFkdmFuY2UsIGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIGN1cnNvci5zdG9wKHJlc3VsdCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGN1cnNvci5mYWlsKGVycik7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSAnJyArIHByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAnJyArIG5ldyBVaW50OEFycmF5KHByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc093bihzZXRfMSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0XzFba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbihpdGVtLCBjdXJzb3IsIGFkdmFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgY3R4Lm9yLl9pdGVyYXRlKHVuaW9uLCBjb3JlVHJhbnMpLFxuICAgICAgICAgICAgICAgIGl0ZXJhdGUob3BlbkN1cnNvcihjdHgsIGNvcmVUYWJsZSwgY29yZVRyYW5zKSwgY3R4LmFsZ29yaXRobSwgdW5pb24sICFjdHgua2V5c09ubHkgJiYgY3R4LnZhbHVlTWFwcGVyKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXRlcmF0ZShjdXJzb3JQcm9taXNlLCBmaWx0ZXIsIGZuLCB2YWx1ZU1hcHBlcikge1xuICAgICAgICB2YXIgbWFwcGVkRm4gPSB2YWx1ZU1hcHBlciA/IGZ1bmN0aW9uICh4LCBjLCBhKSB7IHJldHVybiBmbih2YWx1ZU1hcHBlcih4KSwgYywgYSk7IH0gOiBmbjtcbiAgICAgICAgdmFyIHdyYXBwZWRGbiA9IHdyYXAobWFwcGVkRm4pO1xuICAgICAgICByZXR1cm4gY3Vyc29yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yLnN0YXJ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjdXJzb3IuY29udGludWUoKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGN1cnNvciwgZnVuY3Rpb24gKGFkdmFuY2VyKSB7IHJldHVybiBjID0gYWR2YW5jZXI7IH0sIGZ1bmN0aW9uICh2YWwpIHsgY3Vyc29yLnN0b3AodmFsKTsgYyA9IG5vcDsgfSwgZnVuY3Rpb24gKGUpIHsgY3Vyc29yLmZhaWwoZSk7IGMgPSBub3A7IH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEZuKGN1cnNvci52YWx1ZSwgY3Vyc29yLCBmdW5jdGlvbiAoYWR2YW5jZXIpIHsgcmV0dXJuIGMgPSBhZHZhbmNlcjsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIFByb3BNb2RpZmljYXRpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gUHJvcE1vZGlmaWNhdGlvbihzcGVjKSB7XG4gICAgICAgICAgICB0aGlzW1wiQEBwcm9wbW9kXCJdID0gc3BlYztcbiAgICAgICAgfVxuICAgICAgICBQcm9wTW9kaWZpY2F0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgc3BlYyA9IHRoaXNbXCJAQHByb3Btb2RcIl07XG4gICAgICAgICAgICBpZiAoc3BlYy5hZGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gc3BlYy5hZGQ7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkodGVybSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgKGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSksIHRydWUpLCB0ZXJtLCB0cnVlKS5zb3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVybSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoTnVtYmVyKHZhbHVlKSB8fCAwKSArIHRlcm07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXJtID09PSAnYmlnaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSkgKyB0ZXJtO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCgwKSArIHRlcm07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGVybSBcIi5jb25jYXQodGVybSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNwZWMucmVtb3ZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VidHJhaGVuZF8xID0gc3BlYy5yZW1vdmU7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoc3VidHJhaGVuZF8xKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuICFzdWJ0cmFoZW5kXzEuaW5jbHVkZXMoaXRlbSk7IH0pLnNvcnQoKSA6IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN1YnRyYWhlbmRfMSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpIC0gc3VidHJhaGVuZF8xO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VidHJhaGVuZF8xID09PSAnYmlnaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSkgLSBzdWJ0cmFoZW5kXzE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KDApIC0gc3VidHJhaGVuZF8xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN1YnRyYWhlbmQgXCIuY29uY2F0KHN1YnRyYWhlbmRfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZWZpeFRvUmVwbGFjZSA9IChfYSA9IHNwZWMucmVwbGFjZVByZWZpeCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzBdO1xuICAgICAgICAgICAgaWYgKHByZWZpeFRvUmVwbGFjZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnN0YXJ0c1dpdGgocHJlZml4VG9SZXBsYWNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGVjLnJlcGxhY2VQcmVmaXhbMV0gKyB2YWx1ZS5zdWJzdHJpbmcocHJlZml4VG9SZXBsYWNlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBQcm9wTW9kaWZpY2F0aW9uO1xuICAgIH0oKSk7XG5cbiAgICB2YXIgQ29sbGVjdGlvbiA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgICAgICB9XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKGZuLCBjYikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIHJldHVybiBjdHguZXJyb3IgP1xuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMobnVsbCwgcmVqZWN0aW9uLmJpbmQobnVsbCwgY3R4LmVycm9yKSkgOlxuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMoJ3JlYWRvbmx5JywgZm4pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gY3R4LmVycm9yID9cbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKG51bGwsIHJlamVjdGlvbi5iaW5kKG51bGwsIGN0eC5lcnJvcikpIDpcbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKCdyZWFkd3JpdGUnLCBmbiwgXCJsb2NrZWRcIik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGRBbGdvcml0aG0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBjdHguYWxnb3JpdGhtID0gY29tYmluZShjdHguYWxnb3JpdGhtLCBmbik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCBjb3JlVHJhbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyKHRoaXMuX2N0eCwgZm4sIGNvcmVUcmFucywgdGhpcy5fY3R4LnRhYmxlLmNvcmUpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgdmFyIHJ2ID0gT2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSksIGN0eCA9IE9iamVjdC5jcmVhdGUodGhpcy5fY3R4KTtcbiAgICAgICAgICAgIGlmIChwcm9wcylcbiAgICAgICAgICAgICAgICBleHRlbmQoY3R4LCBwcm9wcyk7XG4gICAgICAgICAgICBydi5fY3R4ID0gY3R4O1xuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHgudmFsdWVNYXBwZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIGl0ZXIoY3R4LCBmbiwgdHJhbnMsIGN0eC50YWJsZS5jb3JlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IF90aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgdmFyIGNvcmVUYWJsZSA9IGN0eC50YWJsZS5jb3JlO1xuICAgICAgICAgICAgICAgIGlmIChpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlLmNvdW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGdldEluZGV4T3JTdG9yZShjdHgsIGNvcmVUYWJsZS5zY2hlbWEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoY291bnQpIHsgcmV0dXJuIE1hdGgubWluKGNvdW50LCBjdHgubGltaXQpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVyKGN0eCwgZnVuY3Rpb24gKCkgeyArK2NvdW50OyByZXR1cm4gZmFsc2U7IH0sIHRyYW5zLCBjb3JlVGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBjb3VudDsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIChrZXlQYXRoLCBjYikge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0ga2V5UGF0aC5zcGxpdCgnLicpLnJldmVyc2UoKSwgbGFzdFBhcnQgPSBwYXJ0c1swXSwgbGFzdEluZGV4ID0gcGFydHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldHZhbChvYmosIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHZhbChvYmpbcGFydHNbaV1dLCBpIC0gMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ialtsYXN0UGFydF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3JkZXIgPSB0aGlzLl9jdHguZGlyID09PSBcIm5leHRcIiA/IDEgOiAtMTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNvcnRlcihhLCBiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFWYWwgPSBnZXR2YWwoYSwgbGFzdEluZGV4KSwgYlZhbCA9IGdldHZhbChiLCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbXAoYVZhbCwgYlZhbCkgKiBvcmRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5zb3J0KHNvcnRlcik7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSBfdGhpcy5fY3R4O1xuICAgICAgICAgICAgICAgIGlmIChjdHguZGlyID09PSAnbmV4dCcgJiYgaXNQbGFpbktleVJhbmdlKGN0eCwgdHJ1ZSkgJiYgY3R4LmxpbWl0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVNYXBwZXJfMSA9IGN0eC52YWx1ZU1hcHBlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgY3R4LnRhYmxlLmNvcmUuc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC50YWJsZS5jb3JlLnF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiBjdHgubGltaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlTWFwcGVyXzEgPyByZXN1bHQubWFwKHZhbHVlTWFwcGVyXzEpIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhXzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXIoY3R4LCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gYV8xLnB1c2goaXRlbSk7IH0sIHRyYW5zLCBjdHgudGFibGUuY29yZSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBhXzE7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGN0eC5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKGlzUGxhaW5LZXlSYW5nZShjdHgpKSB7XG4gICAgICAgICAgICAgICAgYWRkUmVwbGF5RmlsdGVyKGN0eCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXRMZWZ0ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldExlZnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLW9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmFkdmFuY2Uob2Zmc2V0TGVmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcihjdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldExlZnQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiAoLS1vZmZzZXRMZWZ0IDwgMCk7IH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbiAobnVtUm93cykge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmxpbWl0ID0gTWF0aC5taW4odGhpcy5fY3R4LmxpbWl0LCBudW1Sb3dzKTtcbiAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93c0xlZnQgPSBudW1Sb3dzO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgtLXJvd3NMZWZ0IDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93c0xlZnQgPj0gMDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudW50aWwgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24sIGJJbmNsdWRlU3RvcEVudHJ5KSB7XG4gICAgICAgICAgICBhZGRGaWx0ZXIodGhpcy5fY3R4LCBmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckZ1bmN0aW9uKGN1cnNvci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJJbmNsdWRlU3RvcEVudHJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbWl0KDEpLnRvQXJyYXkoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGFbMF07IH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3QoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyRnVuY3Rpb24oY3Vyc29yLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWRkTWF0Y2hGaWx0ZXIodGhpcy5fY3R4LCBmaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuYW5kID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gKGluZGV4TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMuX2N0eC50YWJsZSwgaW5kZXhOYW1lLCB0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5kaXIgPSAodGhpcy5fY3R4LmRpciA9PT0gXCJwcmV2XCIgPyBcIm5leHRcIiA6IFwicHJldlwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSlcbiAgICAgICAgICAgICAgICB0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSh0aGlzLl9jdHguZGlyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kZXNjID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5lYWNoS2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodmFsLCBjdXJzb3IpIHsgY2IoY3Vyc29yLmtleSwgY3Vyc29yKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2hVbmlxdWVLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC51bmlxdWUgPSBcInVuaXF1ZVwiO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaEtleShjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2hQcmltYXJ5S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodmFsLCBjdXJzb3IpIHsgY2IoY3Vyc29yLnByaW1hcnlLZXksIGN1cnNvcik7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGl0ZW0sIGN1cnNvcikge1xuICAgICAgICAgICAgICAgIGEucHVzaChjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnByaW1hcnlLZXlzID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgaWYgKGN0eC5kaXIgPT09ICduZXh0JyAmJiBpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSAmJiBjdHgubGltaXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4T3JTdG9yZShjdHgsIGN0eC50YWJsZS5jb3JlLnNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5xdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGN0eC5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5rZXlzT25seSA9ICFjdHguaXNNYXRjaDtcbiAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpdGVtLCBjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudW5pcXVlS2V5cyA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdGhpcy5fY3R4LnVuaXF1ZSA9IFwidW5pcXVlXCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlzKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3RLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbWl0KDEpLmtleXMoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGFbMF07IH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5sYXN0S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3RLZXkoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kaXN0aW5jdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHgsIGlkeCA9IGN0eC5pbmRleCAmJiBjdHgudGFibGUuc2NoZW1hLmlkeEJ5TmFtZVtjdHguaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFpZHggfHwgIWlkeC5tdWx0aSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIHZhciBzZXQgPSB7fTtcbiAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RyS2V5ID0gY3Vyc29yLnByaW1hcnlLZXkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBoYXNPd24oc2V0LCBzdHJLZXkpO1xuICAgICAgICAgICAgICAgIHNldFtzdHJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWZvdW5kO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubW9kaWZ5ID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZnllcjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYW5nZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBjaGFuZ2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGhzID0ga2V5cyhjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUtleXMgPSBrZXlQYXRocy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmeWVyID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbnl0aGluZ01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUtleXM7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoID0ga2V5UGF0aHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGNoYW5nZXNba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdWYWwgPSBnZXRCeUtleVBhdGgoaXRlbSwga2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFByb3BNb2RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKGl0ZW0sIGtleVBhdGgsIHZhbC5leGVjdXRlKG9yaWdWYWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55dGhpbmdNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9yaWdWYWwgIT09IHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgoaXRlbSwga2V5UGF0aCwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55dGhpbmdNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFueXRoaW5nTW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb3JlVGFibGUgPSBjdHgudGFibGUuY29yZTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBjb3JlVGFibGUuc2NoZW1hLnByaW1hcnlLZXksIG91dGJvdW5kID0gX2Eub3V0Ym91bmQsIGV4dHJhY3RLZXkgPSBfYS5leHRyYWN0S2V5O1xuICAgICAgICAgICAgICAgIHZhciBsaW1pdCA9IDIwMDtcbiAgICAgICAgICAgICAgICB2YXIgbW9kaWZ5Q2h1bmtTaXplID0gX3RoaXMuZGIuX29wdGlvbnMubW9kaWZ5Q2h1bmtTaXplO1xuICAgICAgICAgICAgICAgIGlmIChtb2RpZnlDaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2RpZnlDaHVua1NpemUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0ID0gbW9kaWZ5Q2h1bmtTaXplW2NvcmVUYWJsZS5uYW1lXSB8fCBtb2RpZnlDaHVua1NpemVbJyonXSB8fCAyMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IG1vZGlmeUNodW5rU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdG90YWxGYWlsdXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBmYWlsZWRLZXlzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGFwcGx5TXV0YXRlUmVzdWx0ID0gZnVuY3Rpb24gKGV4cGVjdGVkQ291bnQsIHJlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSByZXMuZmFpbHVyZXMsIG51bUZhaWx1cmVzID0gcmVzLm51bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQgKz0gZXhwZWN0ZWRDb3VudCAtIG51bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0ga2V5cyhmYWlsdXJlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxGYWlsdXJlcy5wdXNoKGZhaWx1cmVzW3Bvc10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2xvbmUoKS5wcmltYXJ5S2V5cygpLnRoZW4oZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyaXRlcmlhID0gaXNQbGFpbktleVJhbmdlKGN0eCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5saW1pdCA9PT0gSW5maW5pdHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgY2hhbmdlcyAhPT0gJ2Z1bmN0aW9uJyB8fCBjaGFuZ2VzID09PSBkZWxldGVDYWxsYmFjaykgJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGN0eC5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaHVuayA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IE1hdGgubWluKGxpbWl0LCBrZXlzLmxlbmd0aCAtIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlLmdldE1hbnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY291bnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBcImltbXV0YWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkVmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHB1dFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwdXRLZXlzID0gb3V0Ym91bmQgPyBbXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZUtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdWYWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eF8xID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRlZXBDbG9uZShvcmlnVmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbUtleToga2V5c1tvZmZzZXQgKyBpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZ5ZXIuY2FsbChjdHhfMSwgY3R4XzEudmFsdWUsIGN0eF8xKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHhfMS52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlS2V5cy5wdXNoKGtleXNbb2Zmc2V0ICsgaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW91dGJvdW5kICYmIGNtcChleHRyYWN0S2V5KG9yaWdWYWx1ZSksIGV4dHJhY3RLZXkoY3R4XzEudmFsdWUpKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUtleXMucHVzaChrZXlzW29mZnNldCArIGldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRWYWx1ZXMucHVzaChjdHhfMS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYWx1ZXMucHVzaChjdHhfMS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGJvdW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRLZXlzLnB1c2goa2V5c1tvZmZzZXQgKyBpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhZGRWYWx1ZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlVGFibGUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnYWRkJywgdmFsdWVzOiBhZGRWYWx1ZXMgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBvcyBpbiByZXMuZmFpbHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVLZXlzLnNwbGljZShwYXJzZUludChwb3MpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5TXV0YXRlUmVzdWx0KGFkZFZhbHVlcy5sZW5ndGgsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIChwdXRWYWx1ZXMubGVuZ3RoID4gMCB8fCAoY3JpdGVyaWEgJiYgdHlwZW9mIGNoYW5nZXMgPT09ICdvYmplY3QnKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZVRhYmxlLm11dGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHB1dEtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHB1dFZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhOiBjcml0ZXJpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVNwZWM6IHR5cGVvZiBjaGFuZ2VzICE9PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWRkaXRpb25hbENodW5rOiBvZmZzZXQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gYXBwbHlNdXRhdGVSZXN1bHQocHV0VmFsdWVzLmxlbmd0aCwgcmVzKTsgfSk7IH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gKGRlbGV0ZUtleXMubGVuZ3RoID4gMCB8fCAoY3JpdGVyaWEgJiYgY2hhbmdlcyA9PT0gZGVsZXRlQ2FsbGJhY2spKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlVGFibGUubXV0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5czogZGVsZXRlS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhOiBjcml0ZXJpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWRkaXRpb25hbENodW5rOiBvZmZzZXQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gYXBwbHlNdXRhdGVSZXN1bHQoZGVsZXRlS2V5cy5sZW5ndGgsIHJlcyk7IH0pOyB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXMubGVuZ3RoID4gb2Zmc2V0ICsgY291bnQgJiYgbmV4dENodW5rKG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dENodW5rKDApLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsRmFpbHVyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kaWZ5RXJyb3IoXCJFcnJvciBtb2RpZnlpbmcgb25lIG9yIG1vcmUgb2JqZWN0c1wiLCB0b3RhbEZhaWx1cmVzLCBzdWNjZXNzQ291bnQsIGZhaWxlZEtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4LCByYW5nZSA9IGN0eC5yYW5nZTtcbiAgICAgICAgICAgIGlmIChpc1BsYWluS2V5UmFuZ2UoY3R4KSAmJlxuICAgICAgICAgICAgICAgIChjdHguaXNQcmltS2V5IHx8IHJhbmdlLnR5cGUgPT09IDMgKSlcbiAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleSA9IGN0eC50YWJsZS5jb3JlLnNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29yZVJhbmdlID0gcmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5jb3VudCh7IHRyYW5zOiB0cmFucywgcXVlcnk6IHsgaW5kZXg6IHByaW1hcnlLZXksIHJhbmdlOiBjb3JlUmFuZ2UgfSB9KS50aGVuKGZ1bmN0aW9uIChjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC50YWJsZS5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2RlbGV0ZVJhbmdlJywgcmFuZ2U6IGNvcmVSYW5nZSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzOyBfYS5sYXN0UmVzdWx0OyBfYS5yZXN1bHRzOyB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RpZnlFcnJvcihcIkNvdWxkIG5vdCBkZWxldGUgc29tZSB2YWx1ZXNcIiwgT2JqZWN0LmtleXMoZmFpbHVyZXMpLm1hcChmdW5jdGlvbiAocG9zKSB7IHJldHVybiBmYWlsdXJlc1twb3NdOyB9KSwgY291bnQgLSBudW1GYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50IC0gbnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RpZnkoZGVsZXRlQ2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQ29sbGVjdGlvbjtcbiAgICB9KCkpO1xuICAgIHZhciBkZWxldGVDYWxsYmFjayA9IGZ1bmN0aW9uICh2YWx1ZSwgY3R4KSB7IHJldHVybiBjdHgudmFsdWUgPSBudWxsOyB9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29sbGVjdGlvbkNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihDb2xsZWN0aW9uLnByb3RvdHlwZSwgZnVuY3Rpb24gQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwga2V5UmFuZ2VHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHZhciBrZXlSYW5nZSA9IEFueVJhbmdlLCBlcnJvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoa2V5UmFuZ2VHZW5lcmF0b3IpXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAga2V5UmFuZ2UgPSBrZXlSYW5nZUdlbmVyYXRvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd2hlcmVDdHggPSB3aGVyZUNsYXVzZS5fY3R4O1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gd2hlcmVDdHgudGFibGU7XG4gICAgICAgICAgICB2YXIgcmVhZGluZ0hvb2sgPSB0YWJsZS5ob29rLnJlYWRpbmcuZmlyZTtcbiAgICAgICAgICAgIHRoaXMuX2N0eCA9IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHdoZXJlQ3R4LmluZGV4LFxuICAgICAgICAgICAgICAgIGlzUHJpbUtleTogKCF3aGVyZUN0eC5pbmRleCB8fCAodGFibGUuc2NoZW1hLnByaW1LZXkua2V5UGF0aCAmJiB3aGVyZUN0eC5pbmRleCA9PT0gdGFibGUuc2NoZW1hLnByaW1LZXkubmFtZSkpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBrZXlSYW5nZSxcbiAgICAgICAgICAgICAgICBrZXlzT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlyOiBcIm5leHRcIixcbiAgICAgICAgICAgICAgICB1bmlxdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgYWxnb3JpdGhtOiBudWxsLFxuICAgICAgICAgICAgICAgIGZpbHRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICByZXBsYXlGaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAganVzdExpbWl0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzTWF0Y2g6IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGxpbWl0OiBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgb3I6IHdoZXJlQ3R4Lm9yLFxuICAgICAgICAgICAgICAgIHZhbHVlTWFwcGVyOiByZWFkaW5nSG9vayAhPT0gbWlycm9yID8gcmVhZGluZ0hvb2sgOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpbXBsZUNvbXBhcmVSZXZlcnNlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPiBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmFpbChjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZSwgZXJyLCBUKSB7XG4gICAgICAgIHZhciBjb2xsZWN0aW9uID0gY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UgaW5zdGFuY2VvZiBXaGVyZUNsYXVzZSA/XG4gICAgICAgICAgICBuZXcgY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UuQ29sbGVjdGlvbihjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZSkgOlxuICAgICAgICAgICAgY29sbGVjdGlvbk9yV2hlcmVDbGF1c2U7XG4gICAgICAgIGNvbGxlY3Rpb24uX2N0eC5lcnJvciA9IFQgPyBuZXcgVChlcnIpIDogbmV3IFR5cGVFcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1wdHlDb2xsZWN0aW9uKHdoZXJlQ2xhdXNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgd2hlcmVDbGF1c2UuQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmFuZ2VFcXVhbChcIlwiKTsgfSkubGltaXQoMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwcGVyRmFjdG9yeShkaXIpIHtcbiAgICAgICAgcmV0dXJuIGRpciA9PT0gXCJuZXh0XCIgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfSA6XG4gICAgICAgICAgICBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50b0xvd2VyQ2FzZSgpOyB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb3dlckZhY3RvcnkoZGlyKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09IFwibmV4dFwiID9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRvTG93ZXJDYXNlKCk7IH0gOlxuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dENhc2luZyhrZXksIGxvd2VyS2V5LCB1cHBlck5lZWRsZSwgbG93ZXJOZWVkbGUsIGNtcCwgZGlyKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihrZXkubGVuZ3RoLCBsb3dlck5lZWRsZS5sZW5ndGgpO1xuICAgICAgICB2YXIgbGxwID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsd3JLZXlDaGFyID0gbG93ZXJLZXlbaV07XG4gICAgICAgICAgICBpZiAobHdyS2V5Q2hhciAhPT0gbG93ZXJOZWVkbGVbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoY21wKGtleVtpXSwgdXBwZXJOZWVkbGVbaV0pIDwgMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgaSkgKyB1cHBlck5lZWRsZVtpXSArIHVwcGVyTmVlZGxlLnN1YnN0cihpICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChrZXlbaV0sIGxvd2VyTmVlZGxlW2ldKSA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGkpICsgbG93ZXJOZWVkbGVbaV0gKyB1cHBlck5lZWRsZS5zdWJzdHIoaSArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChsbHAgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgbGxwKSArIGxvd2VyS2V5W2xscF0gKyB1cHBlck5lZWRsZS5zdWJzdHIobGxwICsgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY21wKGtleVtpXSwgbHdyS2V5Q2hhcikgPCAwKVxuICAgICAgICAgICAgICAgIGxscCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA8IGxvd2VyTmVlZGxlLmxlbmd0aCAmJiBkaXIgPT09IFwibmV4dFwiKVxuICAgICAgICAgICAgcmV0dXJuIGtleSArIHVwcGVyTmVlZGxlLnN1YnN0cihrZXkubGVuZ3RoKTtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGtleS5sZW5ndGggJiYgZGlyID09PSBcInByZXZcIilcbiAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIHVwcGVyTmVlZGxlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiAobGxwIDwgMCA/IG51bGwgOiBrZXkuc3Vic3RyKDAsIGxscCkgKyBsb3dlck5lZWRsZVtsbHBdICsgdXBwZXJOZWVkbGUuc3Vic3RyKGxscCArIDEpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh3aGVyZUNsYXVzZSwgbWF0Y2gsIG5lZWRsZXMsIHN1ZmZpeCkge1xuICAgICAgICB2YXIgdXBwZXIsIGxvd2VyLCBjb21wYXJlLCB1cHBlck5lZWRsZXMsIGxvd2VyTmVlZGxlcywgZGlyZWN0aW9uLCBuZXh0S2V5U3VmZml4LCBuZWVkbGVzTGVuID0gbmVlZGxlcy5sZW5ndGg7XG4gICAgICAgIGlmICghbmVlZGxlcy5ldmVyeShmdW5jdGlvbiAocykgeyByZXR1cm4gdHlwZW9mIHMgPT09ICdzdHJpbmcnOyB9KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhaWwod2hlcmVDbGF1c2UsIFNUUklOR19FWFBFQ1RFRCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaW5pdERpcmVjdGlvbihkaXIpIHtcbiAgICAgICAgICAgIHVwcGVyID0gdXBwZXJGYWN0b3J5KGRpcik7XG4gICAgICAgICAgICBsb3dlciA9IGxvd2VyRmFjdG9yeShkaXIpO1xuICAgICAgICAgICAgY29tcGFyZSA9IChkaXIgPT09IFwibmV4dFwiID8gc2ltcGxlQ29tcGFyZSA6IHNpbXBsZUNvbXBhcmVSZXZlcnNlKTtcbiAgICAgICAgICAgIHZhciBuZWVkbGVCb3VuZHMgPSBuZWVkbGVzLm1hcChmdW5jdGlvbiAobmVlZGxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbG93ZXI6IGxvd2VyKG5lZWRsZSksIHVwcGVyOiB1cHBlcihuZWVkbGUpIH07XG4gICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUoYS5sb3dlciwgYi5sb3dlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVwcGVyTmVlZGxlcyA9IG5lZWRsZUJvdW5kcy5tYXAoZnVuY3Rpb24gKG5iKSB7IHJldHVybiBuYi51cHBlcjsgfSk7XG4gICAgICAgICAgICBsb3dlck5lZWRsZXMgPSBuZWVkbGVCb3VuZHMubWFwKGZ1bmN0aW9uIChuYikgeyByZXR1cm4gbmIubG93ZXI7IH0pO1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gZGlyO1xuICAgICAgICAgICAgbmV4dEtleVN1ZmZpeCA9IChkaXIgPT09IFwibmV4dFwiID8gXCJcIiA6IHN1ZmZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdERpcmVjdGlvbihcIm5leHRcIik7XG4gICAgICAgIHZhciBjID0gbmV3IHdoZXJlQ2xhdXNlLkNvbGxlY3Rpb24od2hlcmVDbGF1c2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVwcGVyTmVlZGxlc1swXSwgbG93ZXJOZWVkbGVzW25lZWRsZXNMZW4gLSAxXSArIHN1ZmZpeCk7IH0pO1xuICAgICAgICBjLl9vbmRpcmVjdGlvbmNoYW5nZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGluaXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZpcnN0UG9zc2libGVOZWVkbGUgPSAwO1xuICAgICAgICBjLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxvd2VyS2V5ID0gbG93ZXIoa2V5KTtcbiAgICAgICAgICAgIGlmIChtYXRjaChsb3dlcktleSwgbG93ZXJOZWVkbGVzLCBmaXJzdFBvc3NpYmxlTmVlZGxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RQb3NzaWJsZU5lZWRsZTsgaSA8IG5lZWRsZXNMZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FzaW5nID0gbmV4dENhc2luZyhrZXksIGxvd2VyS2V5LCB1cHBlck5lZWRsZXNbaV0sIGxvd2VyTmVlZGxlc1tpXSwgY29tcGFyZSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhc2luZyA9PT0gbnVsbCAmJiBsb3dlc3RQb3NzaWJsZUNhc2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVOZWVkbGUgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobG93ZXN0UG9zc2libGVDYXNpbmcgPT09IG51bGwgfHwgY29tcGFyZShsb3dlc3RQb3NzaWJsZUNhc2luZywgY2FzaW5nKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID0gY2FzaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsb3dlc3RQb3NzaWJsZUNhc2luZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHsgY3Vyc29yLmNvbnRpbnVlKGxvd2VzdFBvc3NpYmxlQ2FzaW5nICsgbmV4dEtleVN1ZmZpeCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGxvd2VyLCB1cHBlciwgbG93ZXJPcGVuLCB1cHBlck9wZW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IDIgLFxuICAgICAgICAgICAgbG93ZXI6IGxvd2VyLFxuICAgICAgICAgICAgdXBwZXI6IHVwcGVyLFxuICAgICAgICAgICAgbG93ZXJPcGVuOiBsb3dlck9wZW4sXG4gICAgICAgICAgICB1cHBlck9wZW46IHVwcGVyT3BlblxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByYW5nZUVxdWFsKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAxICxcbiAgICAgICAgICAgIGxvd2VyOiB2YWx1ZSxcbiAgICAgICAgICAgIHVwcGVyOiB2YWx1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBXaGVyZUNsYXVzZSA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBXaGVyZUNsYXVzZSgpIHtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2hlcmVDbGF1c2UucHJvdG90eXBlLCBcIkNvbGxlY3Rpb25cIiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N0eC50YWJsZS5kYi5Db2xsZWN0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYmV0d2VlbiA9IGZ1bmN0aW9uIChsb3dlciwgdXBwZXIsIGluY2x1ZGVMb3dlciwgaW5jbHVkZVVwcGVyKSB7XG4gICAgICAgICAgICBpbmNsdWRlTG93ZXIgPSBpbmNsdWRlTG93ZXIgIT09IGZhbHNlO1xuICAgICAgICAgICAgaW5jbHVkZVVwcGVyID0gaW5jbHVkZVVwcGVyID09PSB0cnVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuX2NtcChsb3dlciwgdXBwZXIpID4gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX2NtcChsb3dlciwgdXBwZXIpID09PSAwICYmIChpbmNsdWRlTG93ZXIgfHwgaW5jbHVkZVVwcGVyKSAmJiAhKGluY2x1ZGVMb3dlciAmJiBpbmNsdWRlVXBwZXIpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZShsb3dlciwgdXBwZXIsICFpbmNsdWRlTG93ZXIsICFpbmNsdWRlVXBwZXIpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiByYW5nZUVxdWFsKHZhbHVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hYm92ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UodmFsdWUsIHVuZGVmaW5lZCwgdHJ1ZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYWJvdmVPckVxdWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZSh2YWx1ZSwgdW5kZWZpbmVkLCBmYWxzZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYmVsb3cgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVuZGVmaW5lZCwgdmFsdWUsIGZhbHNlLCB0cnVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5iZWxvd09yRXF1YWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVuZGVmaW5lZCwgdmFsdWUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLnN0YXJ0c1dpdGggPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgU1RSSU5HX0VYUEVDVEVEKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJldHdlZW4oc3RyLCBzdHIgKyBtYXhTdHJpbmcsIHRydWUsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aElnbm9yZUNhc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAoc3RyID09PSBcIlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0c1dpdGgoc3RyKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiB4LmluZGV4T2YoYVswXSkgPT09IDA7IH0sIFtzdHJdLCBtYXhTdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuZXF1YWxzSWdub3JlQ2FzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiB4ID09PSBhWzBdOyB9LCBbc3RyXSwgXCJcIik7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hbnlPZklnbm9yZUNhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiBhLmluZGV4T2YoeCkgIT09IC0xOyB9LCBzZXQsIFwiXCIpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aEFueU9mSWdub3JlQ2FzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZElnbm9yZUNhc2VBbGdvcml0aG0odGhpcywgZnVuY3Rpb24gKHgsIGEpIHsgcmV0dXJuIGEuc29tZShmdW5jdGlvbiAobikgeyByZXR1cm4geC5pbmRleE9mKG4pID09PSAwOyB9KTsgfSwgc2V0LCBtYXhTdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYW55T2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjb21wYXJlID0gdGhpcy5fY21wO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZXQuc29ydChjb21wYXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHZhciBjID0gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZShzZXRbMF0sIHNldFtzZXQubGVuZ3RoIC0gMV0pOyB9KTtcbiAgICAgICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbXBhcmUgPSAoZGlyZWN0aW9uID09PSBcIm5leHRcIiA/XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9hc2NlbmRpbmcgOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGVzY2VuZGluZyk7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQoY29tcGFyZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgYy5fYWRkQWxnb3JpdGhtKGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gY3Vyc29yLmtleTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZShrZXksIHNldFtpXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHNldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUoa2V5LCBzZXRbaV0pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7IGN1cnNvci5jb250aW51ZShzZXRbaV0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5ub3RFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5BbnlSYW5nZShbW21pbktleSwgdmFsdWVdLCBbdmFsdWUsIHRoaXMuZGIuX21heEtleV1dLCB7IGluY2x1ZGVMb3dlcnM6IGZhbHNlLCBpbmNsdWRlVXBwZXJzOiBmYWxzZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLm5vbmVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQodGhpcy5fYXNjZW5kaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHNldC5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgdmFsKSB7IHJldHVybiByZXMgP1xuICAgICAgICAgICAgICAgIHJlcy5jb25jYXQoW1tyZXNbcmVzLmxlbmd0aCAtIDFdWzFdLCB2YWxdXSkgOlxuICAgICAgICAgICAgICAgIFtbbWluS2V5LCB2YWxdXTsgfSwgbnVsbCk7XG4gICAgICAgICAgICByYW5nZXMucHVzaChbc2V0W3NldC5sZW5ndGggLSAxXSwgdGhpcy5kYi5fbWF4S2V5XSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKHJhbmdlcywgeyBpbmNsdWRlTG93ZXJzOiBmYWxzZSwgaW5jbHVkZVVwcGVyczogZmFsc2UgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5pbkFueVJhbmdlID0gZnVuY3Rpb24gKHJhbmdlcywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjbXAgPSB0aGlzLl9jbXAsIGFzY2VuZGluZyA9IHRoaXMuX2FzY2VuZGluZywgZGVzY2VuZGluZyA9IHRoaXMuX2Rlc2NlbmRpbmcsIG1pbiA9IHRoaXMuX21pbiwgbWF4ID0gdGhpcy5fbWF4O1xuICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2VzLmV2ZXJ5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZVswXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlWzFdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNjZW5kaW5nKHJhbmdlWzBdLCByYW5nZVsxXSkgPD0gMDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgXCJGaXJzdCBhcmd1bWVudCB0byBpbkFueVJhbmdlKCkgbXVzdCBiZSBhbiBBcnJheSBvZiB0d28tdmFsdWUgQXJyYXlzIFtsb3dlcix1cHBlcl0gd2hlcmUgdXBwZXIgbXVzdCBub3QgYmUgbG93ZXIgdGhhbiBsb3dlclwiLCBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5jbHVkZUxvd2VycyA9ICFvcHRpb25zIHx8IG9wdGlvbnMuaW5jbHVkZUxvd2VycyAhPT0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaW5jbHVkZVVwcGVycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbmNsdWRlVXBwZXJzID09PSB0cnVlO1xuICAgICAgICAgICAgZnVuY3Rpb24gYWRkUmFuZ2UocmFuZ2VzLCBuZXdSYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gMCwgbCA9IHJhbmdlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY21wKG5ld1JhbmdlWzBdLCByYW5nZVsxXSkgPCAwICYmIGNtcChuZXdSYW5nZVsxXSwgcmFuZ2VbMF0pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VbMF0gPSBtaW4ocmFuZ2VbMF0sIG5ld1JhbmdlWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlWzFdID0gbWF4KHJhbmdlWzFdLCBuZXdSYW5nZVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbClcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3UmFuZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc29ydERpcmVjdGlvbiA9IGFzY2VuZGluZztcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJhbmdlU29ydGVyKGEsIGIpIHsgcmV0dXJuIHNvcnREaXJlY3Rpb24oYVswXSwgYlswXSk7IH1cbiAgICAgICAgICAgIHZhciBzZXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNldCA9IHJhbmdlcy5yZWR1Y2UoYWRkUmFuZ2UsIFtdKTtcbiAgICAgICAgICAgICAgICBzZXQuc29ydChyYW5nZVNvcnRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmFuZ2VQb3MgPSAwO1xuICAgICAgICAgICAgdmFyIGtleUlzQmV5b25kQ3VycmVudEVudHJ5ID0gaW5jbHVkZVVwcGVycyA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYXNjZW5kaW5nKGtleSwgc2V0W3JhbmdlUG9zXVsxXSkgPiAwOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhc2NlbmRpbmcoa2V5LCBzZXRbcmFuZ2VQb3NdWzFdKSA+PSAwOyB9O1xuICAgICAgICAgICAgdmFyIGtleUlzQmVmb3JlQ3VycmVudEVudHJ5ID0gaW5jbHVkZUxvd2VycyA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGVzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMF0pID4gMDsgfSA6XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGVzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMF0pID49IDA7IH07XG4gICAgICAgICAgICBmdW5jdGlvbiBrZXlXaXRoaW5DdXJyZW50UmFuZ2Uoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFrZXlJc0JleW9uZEN1cnJlbnRFbnRyeShrZXkpICYmICFrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoZWNrS2V5ID0ga2V5SXNCZXlvbmRDdXJyZW50RW50cnk7XG4gICAgICAgICAgICB2YXIgYyA9IG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2Uoc2V0WzBdWzBdLCBzZXRbc2V0Lmxlbmd0aCAtIDFdWzFdLCAhaW5jbHVkZUxvd2VycywgIWluY2x1ZGVVcHBlcnMpOyB9KTtcbiAgICAgICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrS2V5ID0ga2V5SXNCZXlvbmRDdXJyZW50RW50cnk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnREaXJlY3Rpb24gPSBhc2NlbmRpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0tleSA9IGtleUlzQmVmb3JlQ3VycmVudEVudHJ5O1xuICAgICAgICAgICAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gZGVzY2VuZGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQocmFuZ2VTb3J0ZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGMuX2FkZEFsZ29yaXRobShmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNoZWNrS2V5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgKytyYW5nZVBvcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlUG9zID09PSBzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXlXaXRoaW5DdXJyZW50UmFuZ2Uoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuX2NtcChrZXksIHNldFtyYW5nZVBvc11bMV0pID09PSAwIHx8IF90aGlzLl9jbXAoa2V5LCBzZXRbcmFuZ2VQb3NdWzBdKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3J0RGlyZWN0aW9uID09PSBhc2NlbmRpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKHNldFtyYW5nZVBvc11bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZShzZXRbcmFuZ2VQb3NdWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aEFueU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICghc2V0LmV2ZXJ5KGZ1bmN0aW9uIChzKSB7IHJldHVybiB0eXBlb2YgcyA9PT0gJ3N0cmluZyc7IH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgXCJzdGFydHNXaXRoQW55T2YoKSBvbmx5IHdvcmtzIHdpdGggc3RyaW5nc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKHNldC5tYXAoZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gW3N0ciwgc3RyICsgbWF4U3RyaW5nXTsgfSkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gV2hlcmVDbGF1c2U7XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVdoZXJlQ2xhdXNlQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFdoZXJlQ2xhdXNlLnByb3RvdHlwZSwgZnVuY3Rpb24gV2hlcmVDbGF1c2UodGFibGUsIGluZGV4LCBvckNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX2N0eCA9IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4ID09PSBcIjppZFwiID8gbnVsbCA6IGluZGV4LFxuICAgICAgICAgICAgICAgIG9yOiBvckNvbGxlY3Rpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9jbXAgPSB0aGlzLl9hc2NlbmRpbmcgPSBjbXA7XG4gICAgICAgICAgICB0aGlzLl9kZXNjZW5kaW5nID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNtcChiLCBhKTsgfTtcbiAgICAgICAgICAgIHRoaXMuX21heCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjbXAoYSwgYikgPiAwID8gYSA6IGI7IH07XG4gICAgICAgICAgICB0aGlzLl9taW4gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gY21wKGEsIGIpIDwgMCA/IGEgOiBiOyB9O1xuICAgICAgICAgICAgdGhpcy5fSURCS2V5UmFuZ2UgPSBkYi5fZGVwcy5JREJLZXlSYW5nZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fSURCS2V5UmFuZ2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KSB7XG4gICAgICAgIHJldHVybiB3cmFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICAgICAgcmVqZWN0KGV2ZW50LnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyIERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FID0gJ3N0b3JhZ2VtdXRhdGVkJztcbiAgICB2YXIgU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FID0gJ3gtc3RvcmFnZW11dGF0ZWQtMSc7XG4gICAgdmFyIGdsb2JhbEV2ZW50cyA9IEV2ZW50cyhudWxsLCBERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSk7XG5cbiAgICB2YXIgVHJhbnNhY3Rpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNhY3Rpb24oKSB7XG4gICAgICAgIH1cbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXNzZXJ0KCFQU0QuZ2xvYmFsKTtcbiAgICAgICAgICAgICsrdGhpcy5fcmVjdWxvY2s7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVjdWxvY2sgPT09IDEgJiYgIVBTRC5nbG9iYWwpXG4gICAgICAgICAgICAgICAgUFNELmxvY2tPd25lckZvciA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl91bmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQoIVBTRC5nbG9iYWwpO1xuICAgICAgICAgICAgaWYgKC0tdGhpcy5fcmVjdWxvY2sgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoIVBTRC5nbG9iYWwpXG4gICAgICAgICAgICAgICAgICAgIFBTRC5sb2NrT3duZXJGb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLl9ibG9ja2VkRnVuY3MubGVuZ3RoID4gMCAmJiAhdGhpcy5fbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuQW5kUFNEID0gdGhpcy5fYmxvY2tlZEZ1bmNzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VQU0QoZm5BbmRQU0RbMV0sIGZuQW5kUFNEWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fbG9ja2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY3Vsb2NrICYmIFBTRC5sb2NrT3duZXJGb3IgIT09IHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIHZhciBpZGJkYiA9IHRoaXMuZGIuaWRiZGI7XG4gICAgICAgICAgICB2YXIgZGJPcGVuRXJyb3IgPSB0aGlzLmRiLl9zdGF0ZS5kYk9wZW5FcnJvcjtcbiAgICAgICAgICAgIGFzc2VydCghdGhpcy5pZGJ0cmFucyk7XG4gICAgICAgICAgICBpZiAoIWlkYnRyYW5zICYmICFpZGJkYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGJPcGVuRXJyb3IgJiYgZGJPcGVuRXJyb3IubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGF0YWJhc2VDbG9zZWRFcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTWlzc2luZ0FQSUVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKGRiT3BlbkVycm9yLm1lc3NhZ2UsIGRiT3BlbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk9wZW5GYWlsZWQoZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVHJhbnNhY3Rpb25JbmFjdGl2ZSgpO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2NvbXBsZXRpb24uX3N0YXRlID09PSBudWxsKTtcbiAgICAgICAgICAgIGlkYnRyYW5zID0gdGhpcy5pZGJ0cmFucyA9IGlkYnRyYW5zIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuZGIuY29yZVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZGIuY29yZS50cmFuc2FjdGlvbih0aGlzLnN0b3JlTmFtZXMsIHRoaXMubW9kZSwgeyBkdXJhYmlsaXR5OiB0aGlzLmNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSB9KVxuICAgICAgICAgICAgICAgICAgICA6IGlkYmRiLnRyYW5zYWN0aW9uKHRoaXMuc3RvcmVOYW1lcywgdGhpcy5tb2RlLCB7IGR1cmFiaWxpdHk6IHRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5IH0pKTtcbiAgICAgICAgICAgIGlkYnRyYW5zLm9uZXJyb3IgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0KGlkYnRyYW5zLmVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWRidHJhbnMub25hYm9ydCA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXYpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSAmJiBfdGhpcy5fcmVqZWN0KG5ldyBleGNlcHRpb25zLkFib3J0KGlkYnRyYW5zLmVycm9yKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMub24oXCJhYm9ydFwiKS5maXJlKGV2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWRidHJhbnMub25jb21wbGV0ZSA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCdtdXRhdGVkUGFydHMnIGluIGlkYnRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5zdG9yYWdlbXV0YXRlZC5maXJlKGlkYnRyYW5zW1wibXV0YXRlZFBhcnRzXCJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3Byb21pc2UgPSBmdW5jdGlvbiAobW9kZSwgZm4sIGJXcml0ZUxvY2spIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3JlYWR3cml0ZScgJiYgdGhpcy5tb2RlICE9PSAncmVhZHdyaXRlJylcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlJlYWRPbmx5KFwiVHJhbnNhY3Rpb24gaXMgcmVhZG9ubHlcIikpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlRyYW5zYWN0aW9uSW5hY3RpdmUoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ibG9ja2VkRnVuY3MucHVzaChbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wcm9taXNlKG1vZGUsIGZuLCBiV3JpdGVMb2NrKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBQU0RdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJXcml0ZUxvY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGZuKHJlc29sdmUsIHJlamVjdCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ2ICYmIHJ2LnRoZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnYudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcC5maW5hbGx5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl91bmxvY2soKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHAuX2xpYiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gZm4ocmVzb2x2ZSwgcmVqZWN0LCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydiAmJiBydi50aGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgcnYudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHAuX2xpYiA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fcm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50Ll9yb290KCkgOiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUud2FpdEZvciA9IGZ1bmN0aW9uIChwcm9taXNlTGlrZSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSB0aGlzLl9yb290KCk7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IERleGllUHJvbWlzZS5yZXNvbHZlKHByb21pc2VMaWtlKTtcbiAgICAgICAgICAgIGlmIChyb290Ll93YWl0aW5nRm9yKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IHJvb3QuX3dhaXRpbmdGb3IudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9taXNlOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdGb3IgPSBwcm9taXNlO1xuICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHJvb3QuaWRidHJhbnMub2JqZWN0U3RvcmUocm9vdC5zdG9yZU5hbWVzWzBdKTtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gc3BpbigpIHtcbiAgICAgICAgICAgICAgICAgICAgKytyb290Ll9zcGluQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyb290Ll93YWl0aW5nUXVldWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKHJvb3QuX3dhaXRpbmdRdWV1ZS5zaGlmdCgpKSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdC5fd2FpdGluZ0ZvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmdldCgtSW5maW5pdHkpLm9uc3VjY2VzcyA9IHNwaW47XG4gICAgICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50V2FpdFByb21pc2UgPSByb290Ll93YWl0aW5nRm9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByb290Ll93YWl0aW5nUXVldWUucHVzaCh3cmFwKHJlc29sdmUuYmluZChudWxsLCByZXMpKSk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJvb3QuX3dhaXRpbmdRdWV1ZS5wdXNoKHdyYXAocmVqZWN0LmJpbmQobnVsbCwgZXJyKSkpOyB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3QuX3dhaXRpbmdGb3IgPT09IGN1cnJlbnRXYWl0UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkYnRyYW5zKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkYnRyYW5zLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG5ldyBleGNlcHRpb25zLkFib3J0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICB2YXIgbWVtb2l6ZWRUYWJsZXMgPSAodGhpcy5fbWVtb2l6ZWRUYWJsZXMgfHwgKHRoaXMuX21lbW9pemVkVGFibGVzID0ge30pKTtcbiAgICAgICAgICAgIGlmIChoYXNPd24obWVtb2l6ZWRUYWJsZXMsIHRhYmxlTmFtZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkVGFibGVzW3RhYmxlTmFtZV07XG4gICAgICAgICAgICB2YXIgdGFibGVTY2hlbWEgPSB0aGlzLnNjaGVtYVt0YWJsZU5hbWVdO1xuICAgICAgICAgICAgaWYgKCF0YWJsZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk5vdEZvdW5kKFwiVGFibGUgXCIgKyB0YWJsZU5hbWUgKyBcIiBub3QgcGFydCBvZiB0cmFuc2FjdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbkJvdW5kVGFibGUgPSBuZXcgdGhpcy5kYi5UYWJsZSh0YWJsZU5hbWUsIHRhYmxlU2NoZW1hLCB0aGlzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uQm91bmRUYWJsZS5jb3JlID0gdGhpcy5kYi5jb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICBtZW1vaXplZFRhYmxlc1t0YWJsZU5hbWVdID0gdHJhbnNhY3Rpb25Cb3VuZFRhYmxlO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uQm91bmRUYWJsZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbkNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihUcmFuc2FjdGlvbi5wcm90b3R5cGUsIGZ1bmN0aW9uIFRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBjaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHksIHBhcmVudCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgICAgICB0aGlzLnN0b3JlTmFtZXMgPSBzdG9yZU5hbWVzO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWEgPSBkYnNjaGVtYTtcbiAgICAgICAgICAgIHRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5ID0gY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5O1xuICAgICAgICAgICAgdGhpcy5pZGJ0cmFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uID0gRXZlbnRzKHRoaXMsIFwiY29tcGxldGVcIiwgXCJlcnJvclwiLCBcImFib3J0XCIpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vsb2NrID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2NrZWRGdW5jcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fd2FpdGluZ0ZvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl93YWl0aW5nUXVldWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fc3BpbkNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRpb24gPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbi5jb21wbGV0ZS5maXJlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciB3YXNBY3RpdmUgPSBfdGhpcy5hY3RpdmU7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMub24uZXJyb3IuZmlyZShlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQgP1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQuX3JlamVjdChlKSA6XG4gICAgICAgICAgICAgICAgICAgIHdhc0FjdGl2ZSAmJiBfdGhpcy5pZGJ0cmFucyAmJiBfdGhpcy5pZGJ0cmFucy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhTcGVjKG5hbWUsIGtleVBhdGgsIHVuaXF1ZSwgbXVsdGksIGF1dG8sIGNvbXBvdW5kLCBpc1ByaW1LZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBrZXlQYXRoOiBrZXlQYXRoLFxuICAgICAgICAgICAgdW5pcXVlOiB1bmlxdWUsXG4gICAgICAgICAgICBtdWx0aTogbXVsdGksXG4gICAgICAgICAgICBhdXRvOiBhdXRvLFxuICAgICAgICAgICAgY29tcG91bmQ6IGNvbXBvdW5kLFxuICAgICAgICAgICAgc3JjOiAodW5pcXVlICYmICFpc1ByaW1LZXkgPyAnJicgOiAnJykgKyAobXVsdGkgPyAnKicgOiAnJykgKyAoYXV0byA/IFwiKytcIiA6IFwiXCIpICsgbmFtZUZyb21LZXlQYXRoKGtleVBhdGgpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5hbWVGcm9tS2V5UGF0aChrZXlQYXRoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAga2V5UGF0aCA6XG4gICAgICAgICAgICBrZXlQYXRoID8gKCdbJyArIFtdLmpvaW4uY2FsbChrZXlQYXRoLCAnKycpICsgJ10nKSA6IFwiXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVGFibGVTY2hlbWEobmFtZSwgcHJpbUtleSwgaW5kZXhlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHByaW1LZXk6IHByaW1LZXksXG4gICAgICAgICAgICBpbmRleGVzOiBpbmRleGVzLFxuICAgICAgICAgICAgbWFwcGVkQ2xhc3M6IG51bGwsXG4gICAgICAgICAgICBpZHhCeU5hbWU6IGFycmF5VG9PYmplY3QoaW5kZXhlcywgZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiBbaW5kZXgubmFtZSwgaW5kZXhdOyB9KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhZmFyaU11bHRpU3RvcmVGaXgoc3RvcmVOYW1lcykge1xuICAgICAgICByZXR1cm4gc3RvcmVOYW1lcy5sZW5ndGggPT09IDEgPyBzdG9yZU5hbWVzWzBdIDogc3RvcmVOYW1lcztcbiAgICB9XG4gICAgdmFyIGdldE1heEtleSA9IGZ1bmN0aW9uIChJZGJLZXlSYW5nZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgSWRiS2V5UmFuZ2Uub25seShbW11dKTtcbiAgICAgICAgICAgIGdldE1heEtleSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtbXV07IH07XG4gICAgICAgICAgICByZXR1cm4gW1tdXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2V0TWF4S2V5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF4U3RyaW5nOyB9O1xuICAgICAgICAgICAgcmV0dXJuIG1heFN0cmluZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aCkge1xuICAgICAgICBpZiAoa2V5UGF0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGdldFNpbmdsZVBhdGhLZXlFeHRyYWN0b3Ioa2V5UGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gZ2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCk7IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2luZ2xlUGF0aEtleUV4dHJhY3RvcihrZXlQYXRoKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGtleVBhdGguc3BsaXQoJy4nKTtcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9ialtrZXlQYXRoXTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKTsgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFycmF5aWZ5KGFycmF5TGlrZSkge1xuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChhcnJheUxpa2UpO1xuICAgIH1cbiAgICB2YXIgX2lkX2NvdW50ZXIgPSAwO1xuICAgIGZ1bmN0aW9uIGdldEtleVBhdGhBbGlhcyhrZXlQYXRoKSB7XG4gICAgICAgIHJldHVybiBrZXlQYXRoID09IG51bGwgP1xuICAgICAgICAgICAgXCI6aWRcIiA6XG4gICAgICAgICAgICB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGtleVBhdGggOlxuICAgICAgICAgICAgICAgIFwiW1wiLmNvbmNhdChrZXlQYXRoLmpvaW4oJysnKSwgXCJdXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVEQkNvcmUoZGIsIElkYktleVJhbmdlLCB0bXBUcmFucykge1xuICAgICAgICBmdW5jdGlvbiBleHRyYWN0U2NoZW1hKGRiLCB0cmFucykge1xuICAgICAgICAgICAgdmFyIHRhYmxlcyA9IGFycmF5aWZ5KGRiLm9iamVjdFN0b3JlTmFtZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZGIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzOiB0YWJsZXMubWFwKGZ1bmN0aW9uICh0YWJsZSkgeyByZXR1cm4gdHJhbnMub2JqZWN0U3RvcmUodGFibGUpOyB9KS5tYXAoZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IHN0b3JlLmtleVBhdGgsIGF1dG9JbmNyZW1lbnQgPSBzdG9yZS5hdXRvSW5jcmVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvdW5kID0gaXNBcnJheShrZXlQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRib3VuZCA9IGtleVBhdGggPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleEJ5S2V5UGF0aCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdG9yZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRib3VuZDogb3V0Ym91bmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvdW5kOiBjb21wb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aDoga2V5UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogYXV0b0luY3JlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0S2V5OiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXM6IGFycmF5aWZ5KHN0b3JlLmluZGV4TmFtZXMpLm1hcChmdW5jdGlvbiAoaW5kZXhOYW1lKSB7IHJldHVybiBzdG9yZS5pbmRleChpbmRleE5hbWUpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGluZGV4Lm5hbWUsIHVuaXF1ZSA9IGluZGV4LnVuaXF1ZSwgbXVsdGlFbnRyeSA9IGluZGV4Lm11bHRpRW50cnksIGtleVBhdGggPSBpbmRleC5rZXlQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG91bmQgPSBpc0FycmF5KGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvdW5kOiBjb21wb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IGtleVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IHVuaXF1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpRW50cnk6IG11bHRpRW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0S2V5OiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhCeUtleVBhdGhbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRJbmRleEJ5S2V5UGF0aDogZnVuY3Rpb24gKGtleVBhdGgpIHsgcmV0dXJuIGluZGV4QnlLZXlQYXRoW2dldEtleVBhdGhBbGlhcyhrZXlQYXRoKV07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleEJ5S2V5UGF0aFtcIjppZFwiXSA9IHJlc3VsdC5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4QnlLZXlQYXRoW2dldEtleVBhdGhBbGlhcyhrZXlQYXRoKV0gPSByZXN1bHQucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYXNHZXRBbGw6IHRhYmxlcy5sZW5ndGggPiAwICYmICgnZ2V0QWxsJyBpbiB0cmFucy5vYmplY3RTdG9yZSh0YWJsZXNbMF0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAhKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICEvKENocm9tZVxcL3xFZGdlXFwvKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgW10uY29uY2F0KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaVxcLyhcXGQqKS8pKVsxXSA8IDYwNClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUlEQktleVJhbmdlKHJhbmdlKSB7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gMyApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gNCApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgbmV2ZXIgdHlwZSB0byBJREJLZXlSYW5nZVwiKTtcbiAgICAgICAgICAgIHZhciBsb3dlciA9IHJhbmdlLmxvd2VyLCB1cHBlciA9IHJhbmdlLnVwcGVyLCBsb3dlck9wZW4gPSByYW5nZS5sb3dlck9wZW4sIHVwcGVyT3BlbiA9IHJhbmdlLnVwcGVyT3BlbjtcbiAgICAgICAgICAgIHZhciBpZGJSYW5nZSA9IGxvd2VyID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgIHVwcGVyID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBudWxsIDpcbiAgICAgICAgICAgICAgICAgICAgSWRiS2V5UmFuZ2UudXBwZXJCb3VuZCh1cHBlciwgISF1cHBlck9wZW4pIDpcbiAgICAgICAgICAgICAgICB1cHBlciA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgSWRiS2V5UmFuZ2UubG93ZXJCb3VuZChsb3dlciwgISFsb3dlck9wZW4pIDpcbiAgICAgICAgICAgICAgICAgICAgSWRiS2V5UmFuZ2UuYm91bmQobG93ZXIsIHVwcGVyLCAhIWxvd2VyT3BlbiwgISF1cHBlck9wZW4pO1xuICAgICAgICAgICAgcmV0dXJuIGlkYlJhbmdlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURiQ29yZVRhYmxlKHRhYmxlU2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVOYW1lID0gdGFibGVTY2hlbWEubmFtZTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG11dGF0ZShfYSkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IF9hLnRyYW5zLCB0eXBlID0gX2EudHlwZSwga2V5cyA9IF9hLmtleXMsIHZhbHVlcyA9IF9hLnZhbHVlcywgcmFuZ2UgPSBfYS5yYW5nZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dGJvdW5kID0gc3RvcmUua2V5UGF0aCA9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNBZGRPclB1dCA9IHR5cGUgPT09IFwicHV0XCIgfHwgdHlwZSA9PT0gXCJhZGRcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0FkZE9yUHV0ICYmIHR5cGUgIT09ICdkZWxldGUnICYmIHR5cGUgIT09ICdkZWxldGVSYW5nZScpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9wZXJhdGlvbiB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gKGtleXMgfHwgdmFsdWVzIHx8IHsgbGVuZ3RoOiAxIH0pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMgJiYgdmFsdWVzICYmIGtleXMubGVuZ3RoICE9PSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiBrZXlzIGFycmF5IG11c3QgaGF2ZSBzYW1lIGxlbmd0aCBhcyBnaXZlbiB2YWx1ZXMgYXJyYXkuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IG51bUZhaWx1cmVzOiAwLCBmYWlsdXJlczoge30sIHJlc3VsdHM6IFtdLCBsYXN0UmVzdWx0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXE7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXFzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK251bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2RlbGV0ZVJhbmdlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnR5cGUgPT09IDQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgbnVtRmFpbHVyZXM6IG51bUZhaWx1cmVzLCBmYWlsdXJlczogZmFpbHVyZXMsIHJlc3VsdHM6IFtdLCBsYXN0UmVzdWx0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gMyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IHN0b3JlLmNsZWFyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXMucHVzaChyZXEgPSBzdG9yZS5kZWxldGUobWFrZUlEQktleVJhbmdlKHJhbmdlKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gaXNBZGRPclB1dCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Ym91bmQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWVzLCBrZXlzXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZXMsIG51bGxdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5cywgbnVsbF0sIGFyZ3MxID0gX2FbMF0sIGFyZ3MyID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBZGRPclB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IChhcmdzMiAmJiBhcmdzMltpXSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW3R5cGVdKGFyZ3MxW2ldLCBhcmdzMltpXSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbdHlwZV0oYXJnczFbaV0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXJyb3JIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IHN0b3JlW3R5cGVdKGFyZ3MxW2ldKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXJyb3JIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RSZXN1bHQgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXEsIGkpIHsgcmV0dXJuIHJlcS5lcnJvciAhPSBudWxsICYmIChmYWlsdXJlc1tpXSA9IHJlcS5lcnJvcik7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtRmFpbHVyZXM6IG51bUZhaWx1cmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzOiBmYWlsdXJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiB0eXBlID09PSBcImRlbGV0ZVwiID8ga2V5cyA6IHJlcXMubWFwKGZ1bmN0aW9uIChyZXEpIHsgcmV0dXJuIHJlcS5yZXN1bHQ7IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZXN1bHQ6IGxhc3RSZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZG9uZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9wZW5DdXJzb3IoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBfYS50cmFucywgdmFsdWVzID0gX2EudmFsdWVzLCBxdWVyeSA9IF9hLnF1ZXJ5LCByZXZlcnNlID0gX2EucmV2ZXJzZSwgdW5pcXVlID0gX2EudW5pcXVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBxdWVyeS5pbmRleCwgcmFuZ2UgPSBxdWVyeS5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGluZGV4LmlzUHJpbWFyeUtleSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5pbmRleChpbmRleC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHJldmVyc2UgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZ1bmlxdWVcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5leHR1bmlxdWVcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuZXh0XCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSB2YWx1ZXMgfHwgISgnb3BlbktleUN1cnNvcicgaW4gc291cmNlKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub3BlbkN1cnNvcihtYWtlSURCS2V5UmFuZ2UocmFuZ2UpLCBkaXJlY3Rpb24pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuS2V5Q3Vyc29yKG1ha2VJREJLZXlSYW5nZShyYW5nZSksIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLl9fX2lkID0gKytfaWRfY291bnRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2N1cnNvckNvbnRpbnVlID0gY3Vyc29yLmNvbnRpbnVlLmJpbmQoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5ID0gY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkgPSBfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5LmJpbmQoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3Vyc29yQWR2YW5jZSA9IGN1cnNvci5hZHZhbmNlLmJpbmQoY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb1Rocm93Q3Vyc29ySXNOb3RTdGFydGVkID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDdXJzb3Igbm90IHN0YXJ0ZWRcIik7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9UaHJvd0N1cnNvcklzU3RvcHBlZCA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ3Vyc29yIG5vdCBzdG9wcGVkXCIpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCA9IGN1cnNvci5jb250aW51ZSA9IGN1cnNvci5jb250aW51ZVByaW1hcnlLZXkgPSBjdXJzb3IuYWR2YW5jZSA9IGRvVGhyb3dDdXJzb3JJc05vdFN0YXJ0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZmFpbCA9IHdyYXAocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdvdE9uZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ290T25lLS0gPyBfdGhpcy5jb250aW51ZSgpIDogX3RoaXMuc3RvcCgpOyB9KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RhcnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlcmF0aW9uUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlSXRlcmF0aW9uLCByZWplY3RJdGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUl0ZXJhdGlvbiA9IHdyYXAocmVzb2x2ZUl0ZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdEl0ZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5mYWlsID0gcmVqZWN0SXRlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0b3AgPSBjdXJzb3IuY29udGludWUgPSBjdXJzb3IuY29udGludWVQcmltYXJ5S2V5ID0gY3Vyc29yLmFkdmFuY2UgPSBkb1Rocm93Q3Vyc29ySXNTdG9wcGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUl0ZXJhdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGd1YXJkZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZmFpbChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLnN0YXJ0ID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDdXJzb3IgYmVoaW5kIGxhc3QgZW50cnlcIik7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGd1YXJkZWRDYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlID0gX2N1cnNvckNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZVByaW1hcnlLZXkgPSBfY3Vyc29yQ29udGludWVQcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5hZHZhbmNlID0gX2N1cnNvckFkdmFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdGlvblByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcXVlcnkoaGFzR2V0QWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IHJlcXVlc3QudHJhbnMsIHZhbHVlcyA9IHJlcXVlc3QudmFsdWVzLCBsaW1pdCA9IHJlcXVlc3QubGltaXQsIHF1ZXJ5ID0gcmVxdWVzdC5xdWVyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub25JbmZpbml0TGltaXQgPSBsaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBsaW1pdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHF1ZXJ5LmluZGV4LCByYW5nZSA9IHF1ZXJ5LnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBpbmRleC5pc1ByaW1hcnlLZXkgPyBzdG9yZSA6IHN0b3JlLmluZGV4KGluZGV4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkYktleVJhbmdlID0gbWFrZUlEQktleVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHJlc3VsdDogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzR2V0QWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHZhbHVlcyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5nZXRBbGwoaWRiS2V5UmFuZ2UsIG5vbkluZmluaXRMaW1pdCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZ2V0QWxsS2V5cyhpZGJLZXlSYW5nZSwgbm9uSW5maW5pdExpbWl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiByZXNvbHZlKHsgcmVzdWx0OiBldmVudC50YXJnZXQucmVzdWx0IH0pOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRfMSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcV8xID0gdmFsdWVzIHx8ICEoJ29wZW5LZXlDdXJzb3InIGluIHNvdXJjZSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub3BlbkN1cnNvcihpZGJLZXlSYW5nZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uub3BlbktleUN1cnNvcihpZGJLZXlSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdF8xID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxXzEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXFfMS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoeyByZXN1bHQ6IHJlc3VsdF8xIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRfMS5wdXNoKHZhbHVlcyA/IGN1cnNvci52YWx1ZSA6IGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCsrY291bnRfMSA9PT0gbGltaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHJlc3VsdDogcmVzdWx0XzEgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxXzEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0YWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0YWJsZVNjaGVtYSxcbiAgICAgICAgICAgICAgICBtdXRhdGU6IG11dGF0ZSxcbiAgICAgICAgICAgICAgICBnZXRNYW55OiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gX2EudHJhbnMsIGtleXMgPSBfYS5rZXlzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2Vzc0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVzdWx0W3JlcS5fcG9zXSA9IHJlcS5yZXN1bHQpICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytjYWxsYmFja0NvdW50ID09PSBrZXlDb3VudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckhhbmRsZXIgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxID0gc3RvcmUuZ2V0KGtleXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEuX3BvcyA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBzdWNjZXNzSGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsra2V5Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleUNvdW50ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBfYS50cmFucywga2V5ID0gX2Eua2V5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5KGhhc0dldEFsbCksXG4gICAgICAgICAgICAgICAgb3BlbkN1cnNvcjogb3BlbkN1cnNvcixcbiAgICAgICAgICAgICAgICBjb3VudDogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IF9hLnF1ZXJ5LCB0cmFucyA9IF9hLnRyYW5zO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBxdWVyeS5pbmRleCwgcmFuZ2UgPSBxdWVyeS5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gaW5kZXguaXNQcmltYXJ5S2V5ID8gc3RvcmUgOiBzdG9yZS5pbmRleChpbmRleC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZGJLZXlSYW5nZSA9IG1ha2VJREJLZXlSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gaWRiS2V5UmFuZ2UgPyBzb3VyY2UuY291bnQoaWRiS2V5UmFuZ2UpIDogc291cmNlLmNvdW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHJlc29sdmUoZXYudGFyZ2V0LnJlc3VsdCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBleHRyYWN0U2NoZW1hKGRiLCB0bXBUcmFucyksIHNjaGVtYSA9IF9hLnNjaGVtYSwgaGFzR2V0QWxsID0gX2EuaGFzR2V0QWxsO1xuICAgICAgICB2YXIgdGFibGVzID0gc2NoZW1hLnRhYmxlcy5tYXAoZnVuY3Rpb24gKHRhYmxlU2NoZW1hKSB7IHJldHVybiBjcmVhdGVEYkNvcmVUYWJsZSh0YWJsZVNjaGVtYSk7IH0pO1xuICAgICAgICB2YXIgdGFibGVNYXAgPSB7fTtcbiAgICAgICAgdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7IHJldHVybiB0YWJsZU1hcFt0YWJsZS5uYW1lXSA9IHRhYmxlOyB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IGRiLnRyYW5zYWN0aW9uLmJpbmQoZGIpLFxuICAgICAgICAgICAgdGFibGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhYmxlTWFwW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYWJsZSAnXCIuY29uY2F0KG5hbWUsIFwiJyBub3QgZm91bmRcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZU1hcFtuYW1lXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBNSU5fS0VZOiAtSW5maW5pdHksXG4gICAgICAgICAgICBNQVhfS0VZOiBnZXRNYXhLZXkoSWRiS2V5UmFuZ2UpLFxuICAgICAgICAgICAgc2NoZW1hOiBzY2hlbWFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVNaWRkbGV3YXJlU3RhY2soc3RhY2tJbXBsLCBtaWRkbGV3YXJlcykge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZXMucmVkdWNlKGZ1bmN0aW9uIChkb3duLCBfYSkge1xuICAgICAgICAgICAgdmFyIGNyZWF0ZSA9IF9hLmNyZWF0ZTtcbiAgICAgICAgICAgIHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd24pLCBjcmVhdGUoZG93bikpKTtcbiAgICAgICAgfSwgc3RhY2tJbXBsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlTWlkZGxld2FyZVN0YWNrcyhtaWRkbGV3YXJlcywgaWRiZGIsIF9hLCB0bXBUcmFucykge1xuICAgICAgICB2YXIgSURCS2V5UmFuZ2UgPSBfYS5JREJLZXlSYW5nZTsgX2EuaW5kZXhlZERCO1xuICAgICAgICB2YXIgZGJjb3JlID0gY3JlYXRlTWlkZGxld2FyZVN0YWNrKGNyZWF0ZURCQ29yZShpZGJkYiwgSURCS2V5UmFuZ2UsIHRtcFRyYW5zKSwgbWlkZGxld2FyZXMuZGJjb3JlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRiY29yZTogZGJjb3JlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgdmFyIGlkYmRiID0gdG1wVHJhbnMuZGI7XG4gICAgICAgIHZhciBzdGFja3MgPSBjcmVhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLl9taWRkbGV3YXJlcywgaWRiZGIsIGRiLl9kZXBzLCB0bXBUcmFucyk7XG4gICAgICAgIGRiLmNvcmUgPSBzdGFja3MuZGJjb3JlO1xuICAgICAgICBkYi50YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgIHZhciB0YWJsZU5hbWUgPSB0YWJsZS5uYW1lO1xuICAgICAgICAgICAgaWYgKGRiLmNvcmUuc2NoZW1hLnRhYmxlcy5zb21lKGZ1bmN0aW9uICh0YmwpIHsgcmV0dXJuIHRibC5uYW1lID09PSB0YWJsZU5hbWU7IH0pKSB7XG4gICAgICAgICAgICAgICAgdGFibGUuY29yZSA9IGRiLmNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoZGJbdGFibGVOYW1lXSBpbnN0YW5jZW9mIGRiLlRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiW3RhYmxlTmFtZV0uY29yZSA9IHRhYmxlLmNvcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBcGlPblBsYWNlKGRiLCBvYmpzLCB0YWJsZU5hbWVzLCBkYnNjaGVtYSkge1xuICAgICAgICB0YWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgdmFyIHNjaGVtYSA9IGRic2NoZW1hW3RhYmxlTmFtZV07XG4gICAgICAgICAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wRGVzYyA9IGdldFByb3BlcnR5RGVzY3JpcHRvcihvYmosIHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wRGVzYyB8fCAoXCJ2YWx1ZVwiIGluIHByb3BEZXNjICYmIHByb3BEZXNjLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmogPT09IGRiLlRyYW5zYWN0aW9uLnByb3RvdHlwZSB8fCBvYmogaW5zdGFuY2VvZiBkYi5UcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChvYmosIHRhYmxlTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50YWJsZSh0YWJsZU5hbWUpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMsIHRhYmxlTmFtZSwgeyB2YWx1ZTogdmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbdGFibGVOYW1lXSA9IG5ldyBkYi5UYWJsZSh0YWJsZU5hbWUsIHNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZVRhYmxlc0FwaShkYiwgb2Jqcykge1xuICAgICAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpba2V5XSBpbnN0YW5jZW9mIGRiLlRhYmxlKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb3dlclZlcnNpb25GaXJzdChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLl9jZmcudmVyc2lvbiAtIGIuX2NmZy52ZXJzaW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5VcGdyYWRlcnMoZGIsIG9sZFZlcnNpb24sIGlkYlVwZ3JhZGVUcmFucywgcmVqZWN0KSB7XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWE7XG4gICAgICAgIGlmIChpZGJVcGdyYWRlVHJhbnMub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnJG1ldGEnKSAmJiAhZ2xvYmFsU2NoZW1hLiRtZXRhKSB7XG4gICAgICAgICAgICBnbG9iYWxTY2hlbWEuJG1ldGEgPSBjcmVhdGVUYWJsZVNjaGVtYShcIiRtZXRhXCIsIHBhcnNlSW5kZXhTeW50YXgoXCJcIilbMF0sIFtdKTtcbiAgICAgICAgICAgIGRiLl9zdG9yZU5hbWVzLnB1c2goJyRtZXRhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zID0gZGIuX2NyZWF0ZVRyYW5zYWN0aW9uKCdyZWFkd3JpdGUnLCBkYi5fc3RvcmVOYW1lcywgZ2xvYmFsU2NoZW1hKTtcbiAgICAgICAgdHJhbnMuY3JlYXRlKGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIHRyYW5zLl9jb21wbGV0aW9uLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIHZhciByZWplY3RUcmFuc2FjdGlvbiA9IHRyYW5zLl9yZWplY3QuYmluZCh0cmFucyk7XG4gICAgICAgIHZhciB0cmFuc2xlc3MgPSBQU0QudHJhbnNsZXNzIHx8IFBTRDtcbiAgICAgICAgbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUFNELnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICBQU0QudHJhbnNsZXNzID0gdHJhbnNsZXNzO1xuICAgICAgICAgICAgaWYgKG9sZFZlcnNpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICBrZXlzKGdsb2JhbFNjaGVtYSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYmxlKGlkYlVwZ3JhZGVUcmFucywgdGFibGVOYW1lLCBnbG9iYWxTY2hlbWFbdGFibGVOYW1lXS5wcmltS2V5LCBnbG9iYWxTY2hlbWFbdGFibGVOYW1lXS5pbmRleGVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7IHJldHVybiBkYi5vbi5wb3B1bGF0ZS5maXJlKHRyYW5zKTsgfSkuY2F0Y2gocmVqZWN0VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRFeGlzdGluZ1ZlcnNpb24oZGIsIHRyYW5zLCBvbGRWZXJzaW9uKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAob2xkVmVyc2lvbikgeyByZXR1cm4gdXBkYXRlVGFibGVzQW5kSW5kZXhlcyhkYiwgb2xkVmVyc2lvbiwgdHJhbnMsIGlkYlVwZ3JhZGVUcmFucyk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3RUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXRjaEN1cnJlbnRWZXJzaW9uKGRiLCBpZGJVcGdyYWRlVHJhbnMpIHtcbiAgICAgICAgY3JlYXRlTWlzc2luZ1RhYmxlcyhkYi5fZGJTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIGlmIChpZGJVcGdyYWRlVHJhbnMuZGIudmVyc2lvbiAlIDEwID09PSAwICYmICFpZGJVcGdyYWRlVHJhbnMub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnJG1ldGEnKSkge1xuICAgICAgICAgICAgaWRiVXBncmFkZVRyYW5zLmRiLmNyZWF0ZU9iamVjdFN0b3JlKCckbWV0YScpLmFkZChNYXRoLmNlaWwoKGlkYlVwZ3JhZGVUcmFucy5kYi52ZXJzaW9uIC8gMTApIC0gMSksICd2ZXJzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBkYi5pZGJkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIGRiLl9kYlNjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgdmFyIGRpZmYgPSBnZXRTY2hlbWFEaWZmKGdsb2JhbFNjaGVtYSwgZGIuX2RiU2NoZW1hKTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAodGFibGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIGlmICh0YWJsZUNoYW5nZS5jaGFuZ2UubGVuZ3RoIHx8IHRhYmxlQ2hhbmdlLnJlY3JlYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIHBhdGNoIGluZGV4ZXMgb2YgdGFibGUgXCIuY29uY2F0KHRhYmxlQ2hhbmdlLm5hbWUsIFwiIGJlY2F1c2UgaXQgaGFzIGNoYW5nZXMgb24gdGhlIHR5cGUgb2YgaW5kZXggb3IgcHJpbWFyeSBrZXkuXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBpZGJVcGdyYWRlVHJhbnMub2JqZWN0U3RvcmUodGFibGVDaGFuZ2UubmFtZSk7XG4gICAgICAgICAgICB0YWJsZUNoYW5nZS5hZGQuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiRGV4aWUgdXBncmFkZSBwYXRjaDogQ3JlYXRpbmcgbWlzc2luZyBpbmRleCBcIi5jb25jYXQodGFibGVDaGFuZ2UubmFtZSwgXCIuXCIpLmNvbmNhdChpZHguc3JjKSk7XG4gICAgICAgICAgICAgICAgYWRkSW5kZXgoc3RvcmUsIGlkeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGRpZmYuY2hhbmdlOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHRhYmxlQ2hhbmdlID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8xKHRhYmxlQ2hhbmdlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVfMSA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVfMS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFeGlzdGluZ1ZlcnNpb24oZGIsIHRyYW5zLCBvbGRWZXJzaW9uKSB7XG4gICAgICAgIGlmICh0cmFucy5zdG9yZU5hbWVzLmluY2x1ZGVzKCckbWV0YScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnMudGFibGUoJyRtZXRhJykuZ2V0KCd2ZXJzaW9uJykudGhlbihmdW5jdGlvbiAobWV0YVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0YVZlcnNpb24gIT0gbnVsbCA/IG1ldGFWZXJzaW9uIDogb2xkVmVyc2lvbjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKG9sZFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRhYmxlc0FuZEluZGV4ZXMoZGIsIG9sZFZlcnNpb24sIHRyYW5zLCBpZGJVcGdyYWRlVHJhbnMpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gW107XG4gICAgICAgIHZhciB2ZXJzaW9ucyA9IGRiLl92ZXJzaW9ucztcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBkYi5pZGJkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgdmFyIHZlcnNUb1J1biA9IHZlcnNpb25zLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdi5fY2ZnLnZlcnNpb24gPj0gb2xkVmVyc2lvbjsgfSk7XG4gICAgICAgIGlmICh2ZXJzVG9SdW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2ZXJzVG9SdW4uZm9yRWFjaChmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICAgICAgcXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZFNjaGVtYSA9IGdsb2JhbFNjaGVtYTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2NoZW1hID0gdmVyc2lvbi5fY2ZnLmRic2NoZW1hO1xuICAgICAgICAgICAgICAgIGFkanVzdFRvRXhpc3RpbmdJbmRleE5hbWVzKGRiLCBvbGRTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIG5ld1NjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWEgPSBuZXdTY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBnZXRTY2hlbWFEaWZmKG9sZFNjaGVtYSwgbmV3U2NoZW1hKTtcbiAgICAgICAgICAgICAgICBkaWZmLmFkZC5mb3JFYWNoKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYWJsZShpZGJVcGdyYWRlVHJhbnMsIHR1cGxlWzBdLCB0dXBsZVsxXS5wcmltS2V5LCB0dXBsZVsxXS5pbmRleGVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkaWZmLmNoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS5yZWNyZWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVXBncmFkZShcIk5vdCB5ZXQgc3VwcG9ydCBmb3IgY2hhbmdpbmcgcHJpbWFyeSBrZXlcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVfMSA9IGlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZShjaGFuZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuYWRkLmZvckVhY2goZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gYWRkSW5kZXgoc3RvcmVfMSwgaWR4KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuY2hhbmdlLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlXzEuZGVsZXRlSW5kZXgoaWR4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEluZGV4KHN0b3JlXzEsIGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5kZWwuZm9yRWFjaChmdW5jdGlvbiAoaWR4TmFtZSkgeyByZXR1cm4gc3RvcmVfMS5kZWxldGVJbmRleChpZHhOYW1lKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudFVwZ3JhZGUgPSB2ZXJzaW9uLl9jZmcuY29udGVudFVwZ3JhZGU7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRVcGdyYWRlICYmIHZlcnNpb24uX2NmZy52ZXJzaW9uID4gb2xkVmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLl9tZW1vaXplZFRhYmxlcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXBncmFkZVNjaGVtYV8xID0gc2hhbGxvd0Nsb25lKG5ld1NjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIGRpZmYuZGVsLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGdyYWRlU2NoZW1hXzFbdGFibGVdID0gb2xkU2NoZW1hW3RhYmxlXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhYmxlc0FwaShkYiwgW2RiLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRBcGlPblBsYWNlKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSwga2V5cyh1cGdyYWRlU2NoZW1hXzEpLCB1cGdyYWRlU2NoZW1hXzEpO1xuICAgICAgICAgICAgICAgICAgICB0cmFucy5zY2hlbWEgPSB1cGdyYWRlU2NoZW1hXzE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50VXBncmFkZUlzQXN5bmNfMSA9IGlzQXN5bmNGdW5jdGlvbihjb250ZW50VXBncmFkZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VXBncmFkZUlzQXN5bmNfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWVfMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2VGb2xsb3dlZCA9IERleGllUHJvbWlzZS5mb2xsb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWVfMSA9IGNvbnRlbnRVcGdyYWRlKHRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRVcGdyYWRlSXNBc3luY18xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNyZW1lbnRvciA9IGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzLmJpbmQobnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlXzEudGhlbihkZWNyZW1lbnRvciwgZGVjcmVtZW50b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAocmV0dXJuVmFsdWVfMSAmJiB0eXBlb2YgcmV0dXJuVmFsdWVfMS50aGVuID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICAgICAgICAgIERleGllUHJvbWlzZS5yZXNvbHZlKHJldHVyblZhbHVlXzEpIDogcHJvbWlzZUZvbGxvd2VkLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmV0dXJuVmFsdWVfMTsgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcXVldWUucHVzaChmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2NoZW1hID0gdmVyc2lvbi5fY2ZnLmRic2NoZW1hO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVJlbW92ZWRUYWJsZXMobmV3U2NoZW1hLCBpZGJ0cmFucyk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGFibGVzQXBpKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSk7XG4gICAgICAgICAgICAgICAgc2V0QXBpT25QbGFjZShkYiwgW2RiLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0sIGRiLl9zdG9yZU5hbWVzLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICAgICAgICAgIHRyYW5zLnNjaGVtYSA9IGRiLl9kYlNjaGVtYTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcXVldWUucHVzaChmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGIuaWRiZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnJG1ldGEnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5jZWlsKGRiLmlkYmRiLnZlcnNpb24gLyAxMCkgPT09IHZlcnNpb24uX2NmZy52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5pZGJkYi5kZWxldGVPYmplY3RTdG9yZSgnJG1ldGEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkYi5fZGJTY2hlbWEuJG1ldGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5fc3RvcmVOYW1lcyA9IGRiLl9zdG9yZU5hbWVzLmZpbHRlcihmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmFtZSAhPT0gJyRtZXRhJzsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJ0cmFucy5vYmplY3RTdG9yZSgnJG1ldGEnKS5wdXQodmVyc2lvbi5fY2ZnLnZlcnNpb24sICd2ZXJzaW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIHJ1blF1ZXVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlLmxlbmd0aCA/IERleGllUHJvbWlzZS5yZXNvbHZlKHF1ZXVlLnNoaWZ0KCkodHJhbnMuaWRidHJhbnMpKS50aGVuKHJ1blF1ZXVlKSA6XG4gICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVuUXVldWUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNyZWF0ZU1pc3NpbmdUYWJsZXMoZ2xvYmFsU2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2NoZW1hRGlmZihvbGRTY2hlbWEsIG5ld1NjaGVtYSkge1xuICAgICAgICB2YXIgZGlmZiA9IHtcbiAgICAgICAgICAgIGRlbDogW10sXG4gICAgICAgICAgICBhZGQ6IFtdLFxuICAgICAgICAgICAgY2hhbmdlOiBbXVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGFibGU7XG4gICAgICAgIGZvciAodGFibGUgaW4gb2xkU2NoZW1hKSB7XG4gICAgICAgICAgICBpZiAoIW5ld1NjaGVtYVt0YWJsZV0pXG4gICAgICAgICAgICAgICAgZGlmZi5kZWwucHVzaCh0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh0YWJsZSBpbiBuZXdTY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBvbGREZWYgPSBvbGRTY2hlbWFbdGFibGVdLCBuZXdEZWYgPSBuZXdTY2hlbWFbdGFibGVdO1xuICAgICAgICAgICAgaWYgKCFvbGREZWYpIHtcbiAgICAgICAgICAgICAgICBkaWZmLmFkZC5wdXNoKFt0YWJsZSwgbmV3RGVmXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmOiBuZXdEZWYsXG4gICAgICAgICAgICAgICAgICAgIHJlY3JlYXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGVsOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKChcbiAgICAgICAgICAgICAgICAnJyArIChvbGREZWYucHJpbUtleS5rZXlQYXRoIHx8ICcnKSkgIT09ICgnJyArIChuZXdEZWYucHJpbUtleS5rZXlQYXRoIHx8ICcnKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKG9sZERlZi5wcmltS2V5LmF1dG8gIT09IG5ld0RlZi5wcmltS2V5LmF1dG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZS5yZWNyZWF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRpZmYuY2hhbmdlLnB1c2goY2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRJbmRleGVzID0gb2xkRGVmLmlkeEJ5TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0luZGV4ZXMgPSBuZXdEZWYuaWR4QnlOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWR4TmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpZHhOYW1lIGluIG9sZEluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV3SW5kZXhlc1tpZHhOYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuZGVsLnB1c2goaWR4TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpZHhOYW1lIGluIG5ld0luZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRJZHggPSBvbGRJbmRleGVzW2lkeE5hbWVdLCBuZXdJZHggPSBuZXdJbmRleGVzW2lkeE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvbGRJZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmFkZC5wdXNoKG5ld0lkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvbGRJZHguc3JjICE9PSBuZXdJZHguc3JjKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2UucHVzaChuZXdJZHgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UuZGVsLmxlbmd0aCA+IDAgfHwgY2hhbmdlLmFkZC5sZW5ndGggPiAwIHx8IGNoYW5nZS5jaGFuZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZi5jaGFuZ2UucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVUYWJsZShpZGJ0cmFucywgdGFibGVOYW1lLCBwcmltS2V5LCBpbmRleGVzKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IGlkYnRyYW5zLmRiLmNyZWF0ZU9iamVjdFN0b3JlKHRhYmxlTmFtZSwgcHJpbUtleS5rZXlQYXRoID9cbiAgICAgICAgICAgIHsga2V5UGF0aDogcHJpbUtleS5rZXlQYXRoLCBhdXRvSW5jcmVtZW50OiBwcmltS2V5LmF1dG8gfSA6XG4gICAgICAgICAgICB7IGF1dG9JbmNyZW1lbnQ6IHByaW1LZXkuYXV0byB9KTtcbiAgICAgICAgaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHsgcmV0dXJuIGFkZEluZGV4KHN0b3JlLCBpZHgpOyB9KTtcbiAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNaXNzaW5nVGFibGVzKG5ld1NjaGVtYSwgaWRidHJhbnMpIHtcbiAgICAgICAga2V5cyhuZXdTY2hlbWEpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgaWYgKCFpZGJ0cmFucy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHRhYmxlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0RleGllOiBDcmVhdGluZyBtaXNzaW5nIHRhYmxlJywgdGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVUYWJsZShpZGJ0cmFucywgdGFibGVOYW1lLCBuZXdTY2hlbWFbdGFibGVOYW1lXS5wcmltS2V5LCBuZXdTY2hlbWFbdGFibGVOYW1lXS5pbmRleGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbGV0ZVJlbW92ZWRUYWJsZXMobmV3U2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICBbXS5zbGljZS5jYWxsKGlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXMpLmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NjaGVtYVtzdG9yZU5hbWVdID09IG51bGwgJiYgaWRidHJhbnMuZGIuZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEluZGV4KHN0b3JlLCBpZHgpIHtcbiAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoaWR4Lm5hbWUsIGlkeC5rZXlQYXRoLCB7IHVuaXF1ZTogaWR4LnVuaXF1ZSwgbXVsdGlFbnRyeTogaWR4Lm11bHRpIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBidWlsZEdsb2JhbFNjaGVtYShkYiwgaWRiZGIsIHRtcFRyYW5zKSB7XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSB7fTtcbiAgICAgICAgdmFyIGRiU3RvcmVOYW1lcyA9IHNsaWNlKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMsIDApO1xuICAgICAgICBkYlN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSB0bXBUcmFucy5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgdmFyIGtleVBhdGggPSBzdG9yZS5rZXlQYXRoO1xuICAgICAgICAgICAgdmFyIHByaW1LZXkgPSBjcmVhdGVJbmRleFNwZWMobmFtZUZyb21LZXlQYXRoKGtleVBhdGgpLCBrZXlQYXRoIHx8IFwiXCIsIHRydWUsIGZhbHNlLCAhIXN0b3JlLmF1dG9JbmNyZW1lbnQsIGtleVBhdGggJiYgdHlwZW9mIGtleVBhdGggIT09IFwic3RyaW5nXCIsIHRydWUpO1xuICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3RvcmUuaW5kZXhOYW1lcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHZhciBpZGJpbmRleCA9IHN0b3JlLmluZGV4KHN0b3JlLmluZGV4TmFtZXNbal0pO1xuICAgICAgICAgICAgICAgIGtleVBhdGggPSBpZGJpbmRleC5rZXlQYXRoO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGNyZWF0ZUluZGV4U3BlYyhpZGJpbmRleC5uYW1lLCBrZXlQYXRoLCAhIWlkYmluZGV4LnVuaXF1ZSwgISFpZGJpbmRleC5tdWx0aUVudHJ5LCBmYWxzZSwga2V5UGF0aCAmJiB0eXBlb2Yga2V5UGF0aCAhPT0gXCJzdHJpbmdcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbG9iYWxTY2hlbWFbc3RvcmVOYW1lXSA9IGNyZWF0ZVRhYmxlU2NoZW1hKHN0b3JlTmFtZSwgcHJpbUtleSwgaW5kZXhlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ2xvYmFsU2NoZW1hO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkR2xvYmFsU2NoZW1hKGRiLCBpZGJkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgZGIudmVybm8gPSBpZGJkYi52ZXJzaW9uIC8gMTA7XG4gICAgICAgIHZhciBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWEgPSBidWlsZEdsb2JhbFNjaGVtYShkYiwgaWRiZGIsIHRtcFRyYW5zKTtcbiAgICAgICAgZGIuX3N0b3JlTmFtZXMgPSBzbGljZShpZGJkYi5vYmplY3RTdG9yZU5hbWVzLCAwKTtcbiAgICAgICAgc2V0QXBpT25QbGFjZShkYiwgW2RiLl9hbGxUYWJsZXNdLCBrZXlzKGdsb2JhbFNjaGVtYSksIGdsb2JhbFNjaGVtYSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZlcmlmeUluc3RhbGxlZFNjaGVtYShkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgdmFyIGluc3RhbGxlZFNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBkYi5pZGJkYiwgdG1wVHJhbnMpO1xuICAgICAgICB2YXIgZGlmZiA9IGdldFNjaGVtYURpZmYoaW5zdGFsbGVkU2NoZW1hLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICByZXR1cm4gIShkaWZmLmFkZC5sZW5ndGggfHwgZGlmZi5jaGFuZ2Uuc29tZShmdW5jdGlvbiAoY2gpIHsgcmV0dXJuIGNoLmFkZC5sZW5ndGggfHwgY2guY2hhbmdlLmxlbmd0aDsgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgc2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICB2YXIgc3RvcmVOYW1lcyA9IGlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RvcmVOYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHN0b3JlTmFtZSA9IHN0b3JlTmFtZXNbaV07XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBpZGJ0cmFucy5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgZGIuX2hhc0dldEFsbCA9ICdnZXRBbGwnIGluIHN0b3JlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdG9yZS5pbmRleE5hbWVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4TmFtZSA9IHN0b3JlLmluZGV4TmFtZXNbal07XG4gICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBzdG9yZS5pbmRleChpbmRleE5hbWUpLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIGRleGllTmFtZSA9IHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/IGtleVBhdGggOiBcIltcIiArIHNsaWNlKGtleVBhdGgpLmpvaW4oJysnKSArIFwiXVwiO1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWFbc3RvcmVOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhTcGVjID0gc2NoZW1hW3N0b3JlTmFtZV0uaWR4QnlOYW1lW2RleGllTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleFNwZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4U3BlYy5uYW1lID0gaW5kZXhOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYVtzdG9yZU5hbWVdLmlkeEJ5TmFtZVtkZXhpZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hW3N0b3JlTmFtZV0uaWR4QnlOYW1lW2luZGV4TmFtZV0gPSBpbmRleFNwZWM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICEvKENocm9tZVxcL3xFZGdlXFwvKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgX2dsb2JhbC5Xb3JrZXJHbG9iYWxTY29wZSAmJiBfZ2xvYmFsIGluc3RhbmNlb2YgX2dsb2JhbC5Xb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgICAgICAgICAgW10uY29uY2F0KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaVxcLyhcXGQqKS8pKVsxXSA8IDYwNCkge1xuICAgICAgICAgICAgZGIuX2hhc0dldEFsbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlSW5kZXhTeW50YXgocHJpbUtleUFuZEluZGV4ZXMpIHtcbiAgICAgICAgcmV0dXJuIHByaW1LZXlBbmRJbmRleGVzLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChpbmRleCwgaW5kZXhOdW0pIHtcbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXgudHJpbSgpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbmRleC5yZXBsYWNlKC8oWyYqXXxcXCtcXCspL2csIFwiXCIpO1xuICAgICAgICAgICAgdmFyIGtleVBhdGggPSAvXlxcWy8udGVzdChuYW1lKSA/IG5hbWUubWF0Y2goL15cXFsoLiopXFxdJC8pWzFdLnNwbGl0KCcrJykgOiBuYW1lO1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUluZGV4U3BlYyhuYW1lLCBrZXlQYXRoIHx8IG51bGwsIC9cXCYvLnRlc3QoaW5kZXgpLCAvXFwqLy50ZXN0KGluZGV4KSwgL1xcK1xcKy8udGVzdChpbmRleCksIGlzQXJyYXkoa2V5UGF0aCksIGluZGV4TnVtID09PSAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIFZlcnNpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVmVyc2lvbigpIHtcbiAgICAgICAgfVxuICAgICAgICBWZXJzaW9uLnByb3RvdHlwZS5fcGFyc2VTdG9yZXNTcGVjID0gZnVuY3Rpb24gKHN0b3Jlcywgb3V0U2NoZW1hKSB7XG4gICAgICAgICAgICBrZXlzKHN0b3JlcykuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3Jlc1t0YWJsZU5hbWVdICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleGVzID0gcGFyc2VJbmRleFN5bnRheChzdG9yZXNbdGFibGVOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltS2V5ID0gaW5kZXhlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBwcmltS2V5LnVuaXF1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmltS2V5Lm11bHRpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiUHJpbWFyeSBrZXkgY2Fubm90IGJlIG11bHRpLXZhbHVlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHguYXV0bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJPbmx5IHByaW1hcnkga2V5IGNhbiBiZSBtYXJrZWQgYXMgYXV0b0luY3JlbWVudCAoKyspXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpZHgua2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJJbmRleCBtdXN0IGhhdmUgYSBuYW1lIGFuZCBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3V0U2NoZW1hW3RhYmxlTmFtZV0gPSBjcmVhdGVUYWJsZVNjaGVtYSh0YWJsZU5hbWUsIHByaW1LZXksIGluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBWZXJzaW9uLnByb3RvdHlwZS5zdG9yZXMgPSBmdW5jdGlvbiAoc3RvcmVzKSB7XG4gICAgICAgICAgICB2YXIgZGIgPSB0aGlzLmRiO1xuICAgICAgICAgICAgdGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZSA9IHRoaXMuX2NmZy5zdG9yZXNTb3VyY2UgP1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLl9jZmcuc3RvcmVzU291cmNlLCBzdG9yZXMpIDpcbiAgICAgICAgICAgICAgICBzdG9yZXM7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbnMgPSBkYi5fdmVyc2lvbnM7XG4gICAgICAgICAgICB2YXIgc3RvcmVzU3BlYyA9IHt9O1xuICAgICAgICAgICAgdmFyIGRic2NoZW1hID0ge307XG4gICAgICAgICAgICB2ZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHN0b3Jlc1NwZWMsIHZlcnNpb24uX2NmZy5zdG9yZXNTb3VyY2UpO1xuICAgICAgICAgICAgICAgIGRic2NoZW1hID0gKHZlcnNpb24uX2NmZy5kYnNjaGVtYSA9IHt9KTtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uLl9wYXJzZVN0b3Jlc1NwZWMoc3RvcmVzU3BlYywgZGJzY2hlbWEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkYi5fZGJTY2hlbWEgPSBkYnNjaGVtYTtcbiAgICAgICAgICAgIHJlbW92ZVRhYmxlc0FwaShkYiwgW2RiLl9hbGxUYWJsZXMsIGRiLCBkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdKTtcbiAgICAgICAgICAgIHNldEFwaU9uUGxhY2UoZGIsIFtkYi5fYWxsVGFibGVzLCBkYiwgZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlLCB0aGlzLl9jZmcudGFibGVzXSwga2V5cyhkYnNjaGVtYSksIGRic2NoZW1hKTtcbiAgICAgICAgICAgIGRiLl9zdG9yZU5hbWVzID0ga2V5cyhkYnNjaGVtYSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUudXBncmFkZSA9IGZ1bmN0aW9uICh1cGdyYWRlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2NmZy5jb250ZW50VXBncmFkZSA9IHByb21pc2FibGVDaGFpbih0aGlzLl9jZmcuY29udGVudFVwZ3JhZGUgfHwgbm9wLCB1cGdyYWRlRnVuY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBWZXJzaW9uO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVWZXJzaW9uQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFZlcnNpb24ucHJvdG90eXBlLCBmdW5jdGlvbiBWZXJzaW9uKHZlcnNpb25OdW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX2NmZyA9IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uTnVtYmVyLFxuICAgICAgICAgICAgICAgIHN0b3Jlc1NvdXJjZTogbnVsbCxcbiAgICAgICAgICAgICAgICBkYnNjaGVtYToge30sXG4gICAgICAgICAgICAgICAgdGFibGVzOiB7fSxcbiAgICAgICAgICAgICAgICBjb250ZW50VXBncmFkZTogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpIHtcbiAgICAgICAgdmFyIGRiTmFtZXNEQiA9IGluZGV4ZWREQltcIl9kYk5hbWVzREJcIl07XG4gICAgICAgIGlmICghZGJOYW1lc0RCKSB7XG4gICAgICAgICAgICBkYk5hbWVzREIgPSBpbmRleGVkREJbXCJfZGJOYW1lc0RCXCJdID0gbmV3IERleGllJDEoREJOQU1FU19EQiwge1xuICAgICAgICAgICAgICAgIGFkZG9uczogW10sXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCOiBpbmRleGVkREIsXG4gICAgICAgICAgICAgICAgSURCS2V5UmFuZ2U6IElEQktleVJhbmdlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkYk5hbWVzREIudmVyc2lvbigxKS5zdG9yZXMoeyBkYm5hbWVzOiBcIm5hbWVcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGJOYW1lc0RCLnRhYmxlKFwiZGJuYW1lc1wiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzRGF0YWJhc2VzTmF0aXZlKGluZGV4ZWREQikge1xuICAgICAgICByZXR1cm4gaW5kZXhlZERCICYmIHR5cGVvZiBpbmRleGVkREIuZGF0YWJhc2VzID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGFiYXNlTmFtZXMoX2EpIHtcbiAgICAgICAgdmFyIGluZGV4ZWREQiA9IF9hLmluZGV4ZWREQiwgSURCS2V5UmFuZ2UgPSBfYS5JREJLZXlSYW5nZTtcbiAgICAgICAgcmV0dXJuIGhhc0RhdGFiYXNlc05hdGl2ZShpbmRleGVkREIpXG4gICAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZShpbmRleGVkREIuZGF0YWJhc2VzKCkpLnRoZW4oZnVuY3Rpb24gKGluZm9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZm9zXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGluZm8ubmFtZTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmFtZSAhPT0gREJOQU1FU19EQjsgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBnZXREYk5hbWVzVGFibGUoaW5kZXhlZERCLCBJREJLZXlSYW5nZSkudG9Db2xsZWN0aW9uKCkucHJpbWFyeUtleXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX29uRGF0YWJhc2VDcmVhdGVkKF9hLCBuYW1lKSB7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBfYS5pbmRleGVkREIsIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7XG4gICAgICAgICFoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gREJOQU1FU19EQiAmJlxuICAgICAgICAgICAgZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpLnB1dCh7IG5hbWU6IG5hbWUgfSkuY2F0Y2gobm9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX29uRGF0YWJhc2VEZWxldGVkKF9hLCBuYW1lKSB7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBfYS5pbmRleGVkREIsIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7XG4gICAgICAgICFoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gREJOQU1FU19EQiAmJlxuICAgICAgICAgICAgZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpLmRlbGV0ZShuYW1lKS5jYXRjaChub3ApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpcChmbikge1xuICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUFNELmxldFRocm91Z2ggPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlkYlJlYWR5KCkge1xuICAgICAgICB2YXIgaXNTYWZhcmkgPSAhbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEgJiZcbiAgICAgICAgICAgIC9TYWZhcmlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICEvQ2hyb20oZXxpdW0pXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICBpZiAoIWlzU2FmYXJpIHx8ICFpbmRleGVkREIuZGF0YWJhc2VzKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB2YXIgaW50ZXJ2YWxJZDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIgdHJ5SWRiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5kZXhlZERCLmRhdGFiYXNlcygpLmZpbmFsbHkocmVzb2x2ZSk7IH07XG4gICAgICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodHJ5SWRiLCAxMDApO1xuICAgICAgICAgICAgdHJ5SWRiKCk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsgfSk7XG4gICAgfVxuXG4gICAgdmFyIF9hO1xuICAgIGZ1bmN0aW9uIGlzRW1wdHlSYW5nZShub2RlKSB7XG4gICAgICAgIHJldHVybiAhKFwiZnJvbVwiIGluIG5vZGUpO1xuICAgIH1cbiAgICB2YXIgUmFuZ2VTZXQgPSBmdW5jdGlvbiAoZnJvbU9yVHJlZSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMpIHtcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID8geyBkOiAxLCBmcm9tOiBmcm9tT3JUcmVlLCB0bzogYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0byA6IGZyb21PclRyZWUgfSA6IHsgZDogMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBSYW5nZVNldCgpO1xuICAgICAgICAgICAgaWYgKGZyb21PclRyZWUgJiYgKFwiZFwiIGluIGZyb21PclRyZWUpKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJ2LCBmcm9tT3JUcmVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvcHMoUmFuZ2VTZXQucHJvdG90eXBlLCAoX2EgPSB7XG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChyYW5nZVNldCkge1xuICAgICAgICAgICAgICAgIG1lcmdlUmFuZ2VzKHRoaXMsIHJhbmdlU2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRLZXk6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBhZGRSYW5nZSh0aGlzLCBrZXksIGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkS2V5czogZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhZGRSYW5nZShfdGhpcywga2V5LCBrZXkpOyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNLZXk6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGdldFJhbmdlU2V0SXRlcmF0b3IodGhpcykubmV4dChrZXkpLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlICYmIGNtcChub2RlLmZyb20sIGtleSkgPD0gMCAmJiBjbXAobm9kZS50bywga2V5KSA+PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfYVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UmFuZ2VTZXRJdGVyYXRvcih0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2EpKTtcbiAgICBmdW5jdGlvbiBhZGRSYW5nZSh0YXJnZXQsIGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBkaWZmID0gY21wKGZyb20sIHRvKTtcbiAgICAgICAgaWYgKGlzTmFOKGRpZmYpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZGlmZiA+IDApXG4gICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCk7XG4gICAgICAgIGlmIChpc0VtcHR5UmFuZ2UodGFyZ2V0KSlcbiAgICAgICAgICAgIHJldHVybiBleHRlbmQodGFyZ2V0LCB7IGZyb206IGZyb20sIHRvOiB0bywgZDogMSB9KTtcbiAgICAgICAgdmFyIGxlZnQgPSB0YXJnZXQubDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gdGFyZ2V0LnI7XG4gICAgICAgIGlmIChjbXAodG8sIHRhcmdldC5mcm9tKSA8IDApIHtcbiAgICAgICAgICAgIGxlZnRcbiAgICAgICAgICAgICAgICA/IGFkZFJhbmdlKGxlZnQsIGZyb20sIHRvKVxuICAgICAgICAgICAgICAgIDogKHRhcmdldC5sID0geyBmcm9tOiBmcm9tLCB0bzogdG8sIGQ6IDEsIGw6IG51bGwsIHI6IG51bGwgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmViYWxhbmNlKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNtcChmcm9tLCB0YXJnZXQudG8pID4gMCkge1xuICAgICAgICAgICAgcmlnaHRcbiAgICAgICAgICAgICAgICA/IGFkZFJhbmdlKHJpZ2h0LCBmcm9tLCB0bylcbiAgICAgICAgICAgICAgICA6ICh0YXJnZXQuciA9IHsgZnJvbTogZnJvbSwgdG86IHRvLCBkOiAxLCBsOiBudWxsLCByOiBudWxsIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlYmFsYW5jZSh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbXAoZnJvbSwgdGFyZ2V0LmZyb20pIDwgMCkge1xuICAgICAgICAgICAgdGFyZ2V0LmZyb20gPSBmcm9tO1xuICAgICAgICAgICAgdGFyZ2V0LmwgPSBudWxsO1xuICAgICAgICAgICAgdGFyZ2V0LmQgPSByaWdodCA/IHJpZ2h0LmQgKyAxIDogMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21wKHRvLCB0YXJnZXQudG8pID4gMCkge1xuICAgICAgICAgICAgdGFyZ2V0LnRvID0gdG87XG4gICAgICAgICAgICB0YXJnZXQuciA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQuZCA9IHRhcmdldC5sID8gdGFyZ2V0LmwuZCArIDEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciByaWdodFdhc0N1dE9mZiA9ICF0YXJnZXQucjtcbiAgICAgICAgaWYgKGxlZnQgJiYgIXRhcmdldC5sKSB7XG4gICAgICAgICAgICBtZXJnZVJhbmdlcyh0YXJnZXQsIGxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyaWdodCAmJiByaWdodFdhc0N1dE9mZikge1xuICAgICAgICAgICAgbWVyZ2VSYW5nZXModGFyZ2V0LCByaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VSYW5nZXModGFyZ2V0LCBuZXdTZXQpIHtcbiAgICAgICAgZnVuY3Rpb24gX2FkZFJhbmdlU2V0KHRhcmdldCwgX2EpIHtcbiAgICAgICAgICAgIHZhciBmcm9tID0gX2EuZnJvbSwgdG8gPSBfYS50bywgbCA9IF9hLmwsIHIgPSBfYS5yO1xuICAgICAgICAgICAgYWRkUmFuZ2UodGFyZ2V0LCBmcm9tLCB0byk7XG4gICAgICAgICAgICBpZiAobClcbiAgICAgICAgICAgICAgICBfYWRkUmFuZ2VTZXQodGFyZ2V0LCBsKTtcbiAgICAgICAgICAgIGlmIChyKVxuICAgICAgICAgICAgICAgIF9hZGRSYW5nZVNldCh0YXJnZXQsIHIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbXB0eVJhbmdlKG5ld1NldCkpXG4gICAgICAgICAgICBfYWRkUmFuZ2VTZXQodGFyZ2V0LCBuZXdTZXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByYW5nZXNPdmVybGFwKHJhbmdlU2V0MSwgcmFuZ2VTZXQyKSB7XG4gICAgICAgIHZhciBpMSA9IGdldFJhbmdlU2V0SXRlcmF0b3IocmFuZ2VTZXQyKTtcbiAgICAgICAgdmFyIG5leHRSZXN1bHQxID0gaTEubmV4dCgpO1xuICAgICAgICBpZiAobmV4dFJlc3VsdDEuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGEgPSBuZXh0UmVzdWx0MS52YWx1ZTtcbiAgICAgICAgdmFyIGkyID0gZ2V0UmFuZ2VTZXRJdGVyYXRvcihyYW5nZVNldDEpO1xuICAgICAgICB2YXIgbmV4dFJlc3VsdDIgPSBpMi5uZXh0KGEuZnJvbSk7XG4gICAgICAgIHZhciBiID0gbmV4dFJlc3VsdDIudmFsdWU7XG4gICAgICAgIHdoaWxlICghbmV4dFJlc3VsdDEuZG9uZSAmJiAhbmV4dFJlc3VsdDIuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGNtcChiLmZyb20sIGEudG8pIDw9IDAgJiYgY21wKGIudG8sIGEuZnJvbSkgPj0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNtcChhLmZyb20sIGIuZnJvbSkgPCAwXG4gICAgICAgICAgICAgICAgPyAoYSA9IChuZXh0UmVzdWx0MSA9IGkxLm5leHQoYi5mcm9tKSkudmFsdWUpXG4gICAgICAgICAgICAgICAgOiAoYiA9IChuZXh0UmVzdWx0MiA9IGkyLm5leHQoYS5mcm9tKSkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmFuZ2VTZXRJdGVyYXRvcihub2RlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGlzRW1wdHlSYW5nZShub2RlKSA/IG51bGwgOiB7IHM6IDAsIG46IG5vZGUgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5UHJvdmlkZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0ZS5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucyA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVByb3ZpZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5uLmwgJiYgY21wKGtleSwgc3RhdGUubi5mcm9tKSA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLmwsIHM6IDEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5uLmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLmwsIHM6IDEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucyA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXlQcm92aWRlZCB8fCBjbXAoa2V5LCBzdGF0ZS5uLnRvKSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogc3RhdGUubiwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUubi5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnMgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLnIsIHM6IDAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGUudXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmViYWxhbmNlKHRhcmdldCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgZGlmZiA9ICgoKF9hID0gdGFyZ2V0LnIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kKSB8fCAwKSAtICgoKF9iID0gdGFyZ2V0LmwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kKSB8fCAwKTtcbiAgICAgICAgdmFyIHIgPSBkaWZmID4gMSA/IFwiclwiIDogZGlmZiA8IC0xID8gXCJsXCIgOiBcIlwiO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgdmFyIGwgPSByID09PSBcInJcIiA/IFwibFwiIDogXCJyXCI7XG4gICAgICAgICAgICB2YXIgcm9vdENsb25lID0gX19hc3NpZ24oe30sIHRhcmdldCk7XG4gICAgICAgICAgICB2YXIgb2xkUm9vdFJpZ2h0ID0gdGFyZ2V0W3JdO1xuICAgICAgICAgICAgdGFyZ2V0LmZyb20gPSBvbGRSb290UmlnaHQuZnJvbTtcbiAgICAgICAgICAgIHRhcmdldC50byA9IG9sZFJvb3RSaWdodC50bztcbiAgICAgICAgICAgIHRhcmdldFtyXSA9IG9sZFJvb3RSaWdodFtyXTtcbiAgICAgICAgICAgIHJvb3RDbG9uZVtyXSA9IG9sZFJvb3RSaWdodFtsXTtcbiAgICAgICAgICAgIHRhcmdldFtsXSA9IHJvb3RDbG9uZTtcbiAgICAgICAgICAgIHJvb3RDbG9uZS5kID0gY29tcHV0ZURlcHRoKHJvb3RDbG9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmQgPSBjb21wdXRlRGVwdGgodGFyZ2V0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcHV0ZURlcHRoKF9hKSB7XG4gICAgICAgIHZhciByID0gX2EuciwgbCA9IF9hLmw7XG4gICAgICAgIHJldHVybiAociA/IChsID8gTWF0aC5tYXgoci5kLCBsLmQpIDogci5kKSA6IGwgPyBsLmQgOiAwKSArIDE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCh0YXJnZXQsIG5ld1NldCkge1xuICAgICAgICBrZXlzKG5ld1NldCkuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldFtwYXJ0XSlcbiAgICAgICAgICAgICAgICBtZXJnZVJhbmdlcyh0YXJnZXRbcGFydF0sIG5ld1NldFtwYXJ0XSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFyZ2V0W3BhcnRdID0gY2xvbmVTaW1wbGVPYmplY3RUcmVlKG5ld1NldFtwYXJ0XSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9ic1NldHNPdmVybGFwKG9zMSwgb3MyKSB7XG4gICAgICAgIHJldHVybiBvczEuYWxsIHx8IG9zMi5hbGwgfHwgT2JqZWN0LmtleXMob3MxKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9zMltrZXldICYmIHJhbmdlc092ZXJsYXAob3MyW2tleV0sIG9zMVtrZXldKTsgfSk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlID0ge307XG5cbiAgICB2YXIgdW5zaWduYWxlZFBhcnRzID0ge307XG4gICAgdmFyIGlzVGFza0VucXVldWVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocGFydCwgb3B0aW1pc3RpYykge1xuICAgICAgICBleHRlbmRPYnNlcnZhYmlsaXR5U2V0KHVuc2lnbmFsZWRQYXJ0cywgcGFydCk7XG4gICAgICAgIGlmICghaXNUYXNrRW5xdWV1ZWQpIHtcbiAgICAgICAgICAgIGlzVGFza0VucXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlzVGFza0VucXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gdW5zaWduYWxlZFBhcnRzO1xuICAgICAgICAgICAgICAgIHVuc2lnbmFsZWRQYXJ0cyA9IHt9O1xuICAgICAgICAgICAgICAgIHNpZ25hbFN1YnNjcmliZXJzTm93KHBhcnRzLCBmYWxzZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzaWduYWxTdWJzY3JpYmVyc05vdyh1cGRhdGVkUGFydHMsIGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgIGlmIChkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyA9PT0gdm9pZCAwKSB7IGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHF1ZXJpZXNUb1NpZ25hbCA9IG5ldyBTZXQoKTtcbiAgICAgICAgaWYgKHVwZGF0ZWRQYXJ0cy5hbGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QudmFsdWVzKGNhY2hlKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgY29sbGVjdFRhYmxlU3Vic2NyaWJlcnModGJsQ2FjaGUsIHVwZGF0ZWRQYXJ0cywgcXVlcmllc1RvU2lnbmFsLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdXBkYXRlZFBhcnRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gL15pZGJcXDpcXC9cXC8oLiopXFwvKC4qKVxcLy8uZXhlYyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGJOYW1lID0gcGFydHNbMV0sIHRhYmxlTmFtZSA9IHBhcnRzWzJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YmxDYWNoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RUYWJsZVN1YnNjcmliZXJzKHRibENhY2hlLCB1cGRhdGVkUGFydHMsIHF1ZXJpZXNUb1NpZ25hbCwgZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWVyaWVzVG9TaWduYWwuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gcmVxdWVyeSgpOyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29sbGVjdFRhYmxlU3Vic2NyaWJlcnModGJsQ2FjaGUsIHVwZGF0ZWRQYXJ0cywgb3V0UXVlcmllc1RvU2lnbmFsLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcykge1xuICAgICAgICB2YXIgdXBkYXRlZEVudHJ5TGlzdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKHRibENhY2hlLnF1ZXJpZXMucXVlcnkpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIF9iID0gX2FbX2ldLCBpbmRleE5hbWUgPSBfYlswXSwgZW50cmllcyA9IF9iWzFdO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkRW50cmllcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfYyA8IGVudHJpZXNfMS5sZW5ndGg7IF9jKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2NdO1xuICAgICAgICAgICAgICAgIGlmIChvYnNTZXRzT3ZlcmxhcCh1cGRhdGVkUGFydHMsIGVudHJ5Lm9ic1NldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gb3V0UXVlcmllc1RvU2lnbmFsLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpXG4gICAgICAgICAgICAgICAgdXBkYXRlZEVudHJ5TGlzdHMucHVzaChbaW5kZXhOYW1lLCBmaWx0ZXJlZEVudHJpZXNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9kID0gMCwgdXBkYXRlZEVudHJ5TGlzdHNfMSA9IHVwZGF0ZWRFbnRyeUxpc3RzOyBfZCA8IHVwZGF0ZWRFbnRyeUxpc3RzXzEubGVuZ3RoOyBfZCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9lID0gdXBkYXRlZEVudHJ5TGlzdHNfMVtfZF0sIGluZGV4TmFtZSA9IF9lWzBdLCBmaWx0ZXJlZEVudHJpZXMgPSBfZVsxXTtcbiAgICAgICAgICAgICAgICB0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5W2luZGV4TmFtZV0gPSBmaWx0ZXJlZEVudHJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXhpZU9wZW4oZGIpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZGIuX3N0YXRlO1xuICAgICAgICB2YXIgaW5kZXhlZERCID0gZGIuX2RlcHMuaW5kZXhlZERCO1xuICAgICAgICBpZiAoc3RhdGUuaXNCZWluZ09wZW5lZCB8fCBkYi5pZGJkYilcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRlLmRiT3BlbkVycm9yID9cbiAgICAgICAgICAgICAgICByZWplY3Rpb24oc3RhdGUuZGJPcGVuRXJyb3IpIDpcbiAgICAgICAgICAgICAgICBkYjsgfSk7XG4gICAgICAgIHN0YXRlLmlzQmVpbmdPcGVuZWQgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IG51bGw7XG4gICAgICAgIHN0YXRlLm9wZW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgb3BlbkNhbmNlbGxlciA9IHN0YXRlLm9wZW5DYW5jZWxsZXI7XG4gICAgICAgIHZhciBuYXRpdmVWZXJUb09wZW4gPSBNYXRoLnJvdW5kKGRiLnZlcm5vICogMTApO1xuICAgICAgICB2YXIgc2NoZW1hUGF0Y2hNb2RlID0gZmFsc2U7XG4gICAgICAgIGZ1bmN0aW9uIHRocm93SWZDYW5jZWxsZWQoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUub3BlbkNhbmNlbGxlciAhPT0gb3BlbkNhbmNlbGxlcilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgnZGIub3BlbigpIHdhcyBjYW5jZWxsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb2x2ZURiUmVhZHkgPSBzdGF0ZS5kYlJlYWR5UmVzb2x2ZSxcbiAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uID0gbnVsbCwgd2FzQ3JlYXRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJ5T3BlbkRCID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB0aHJvd0lmQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBpZiAoIWluZGV4ZWREQilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKCk7XG4gICAgICAgICAgICB2YXIgZGJOYW1lID0gZGIubmFtZTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdGF0ZS5hdXRvU2NoZW1hIHx8ICFuYXRpdmVWZXJUb09wZW4gP1xuICAgICAgICAgICAgICAgIGluZGV4ZWREQi5vcGVuKGRiTmFtZSkgOlxuICAgICAgICAgICAgICAgIGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgbmF0aXZlVmVyVG9PcGVuKTtcbiAgICAgICAgICAgIGlmICghcmVxKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoKTtcbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICByZXEub25ibG9ja2VkID0gd3JhcChkYi5fZmlyZU9uQmxvY2tlZCk7XG4gICAgICAgICAgICByZXEub251cGdyYWRlbmVlZGVkID0gd3JhcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbiA9IHJlcS50cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYXV0b1NjaGVtYSAmJiAhZGIuX29wdGlvbnMuYWxsb3dFbXB0eURCKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gcHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbi5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICByZXEucmVzdWx0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxyZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgZGVscmVxLm9uc3VjY2VzcyA9IGRlbHJlcS5vbmVycm9yID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGV4Y2VwdGlvbnMuTm9TdWNoRGF0YWJhc2UoXCJEYXRhYmFzZSBcIi5jb25jYXQoZGJOYW1lLCBcIiBkb2VzbnQgZXhpc3RcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24ub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkVmVyID0gZS5vbGRWZXJzaW9uID4gTWF0aC5wb3coMiwgNjIpID8gMCA6IGUub2xkVmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgd2FzQ3JlYXRlZCA9IG9sZFZlciA8IDE7XG4gICAgICAgICAgICAgICAgICAgIGRiLmlkYmRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtYVBhdGNoTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hDdXJyZW50VmVyc2lvbihkYiwgdXBncmFkZVRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBydW5VcGdyYWRlcnMoZGIsIG9sZFZlciAvIDEwLCB1cGdyYWRlVHJhbnNhY3Rpb24sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBpZGJkYiA9IGRiLmlkYmRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmVOYW1lcyA9IHNsaWNlKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMpO1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3RTdG9yZU5hbWVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wVHJhbnMgPSBpZGJkYi50cmFuc2FjdGlvbihzYWZhcmlNdWx0aVN0b3JlRml4KG9iamVjdFN0b3JlTmFtZXMpLCAncmVhZG9ubHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5hdXRvU2NoZW1hKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRHbG9iYWxTY2hlbWEoZGIsIGlkYmRiLCB0bXBUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgZGIuX2RiU2NoZW1hLCB0bXBUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2ZXJpZnlJbnN0YWxsZWRTY2hlbWEoZGIsIHRtcFRyYW5zKSAmJiAhc2NoZW1hUGF0Y2hNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkRleGllIFNjaGVtYURpZmY6IFNjaGVtYSB3YXMgZXh0ZW5kZWQgd2l0aG91dCBpbmNyZWFzaW5nIHRoZSBudW1iZXIgcGFzc2VkIHRvIGRiLnZlcnNpb24oKS4gRGV4aWUgd2lsbCBhZGQgbWlzc2luZyBwYXJ0cyBhbmQgaW5jcmVtZW50IG5hdGl2ZSB2ZXJzaW9uIG51bWJlciB0byB3b3JrYXJvdW5kIHRoaXMuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGJkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVWZXJUb09wZW4gPSBpZGJkYi52ZXJzaW9uICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hUGF0Y2hNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ5T3BlbkRCKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgdG1wVHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5wdXNoKGRiKTtcbiAgICAgICAgICAgICAgICBpZGJkYi5vbnZlcnNpb25jaGFuZ2UgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS52Y0ZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGIub24oXCJ2ZXJzaW9uY2hhbmdlXCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlkYmRiLm9uY2xvc2UgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICBkYi5vbihcImNsb3NlXCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh3YXNDcmVhdGVkKVxuICAgICAgICAgICAgICAgICAgICBfb25EYXRhYmFzZUNyZWF0ZWQoZGIuX2RlcHMsIGRiTmFtZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3dpdGNoIChlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnIubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJVbmtub3duRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlBSMTM5OF9tYXhMb29wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUFIxMzk4X21heExvb3AtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV4aWU6IFdvcmthcm91bmQgZm9yIENocm9tZSBVbmtub3duRXJyb3Igb24gb3BlbigpJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ5T3BlbkRCKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlZlcnNpb25FcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAobmF0aXZlVmVyVG9PcGVuID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmVyVG9PcGVuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlPcGVuREIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH0pOyB9O1xuICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgb3BlbkNhbmNlbGxlcixcbiAgICAgICAgICAgICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyA/IERleGllUHJvbWlzZS5yZXNvbHZlKCkgOiBpZGJSZWFkeSgpKS50aGVuKHRyeU9wZW5EQilcbiAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvd0lmQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHZpcChmdW5jdGlvbiAoKSB7IHJldHVybiBkYi5vbi5yZWFkeS5maXJlKGRiLnZpcCk7IH0pKS50aGVuKGZ1bmN0aW9uIGZpcmVSZW1haW5kZXJzKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5kZXJzXzEgPSBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZC5yZWR1Y2UocHJvbWlzYWJsZUNoYWluLCBub3ApO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUodmlwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbWFpbmRlcnNfMShkYi52aXApOyB9KSkudGhlbihmaXJlUmVtYWluZGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLm9wZW5DYW5jZWxsZXIgPT09IG9wZW5DYW5jZWxsZXIpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RhdGUuaXNCZWluZ09wZW5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IGVycjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uICYmIHVwZ3JhZGVUcmFuc2FjdGlvbi5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7IH1cbiAgICAgICAgICAgIGlmIChvcGVuQ2FuY2VsbGVyID09PSBzdGF0ZS5vcGVuQ2FuY2VsbGVyKSB7XG4gICAgICAgICAgICAgICAgZGIuX2Nsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGVycik7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhdGUub3BlbkNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc29sdmVEYlJlYWR5KCk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHdhc0NyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlcnl0aGluZ18xID0ge307XG4gICAgICAgICAgICAgICAgZGIudGFibGVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLnNjaGVtYS5pbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZXJ5dGhpbmdfMVtcImlkYjovL1wiLmNvbmNhdChkYi5uYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlLm5hbWUsIFwiL1wiKS5jb25jYXQoaWR4Lm5hbWUpXSA9IG5ldyBSYW5nZVNldCgtSW5maW5pdHksIFtbW11dXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBldmVyeXRoaW5nXzFbXCJpZGI6Ly9cIi5jb25jYXQoZGIubmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZS5uYW1lLCBcIi9cIildID0gZXZlcnl0aGluZ18xW1wiaWRiOi8vXCIuY29uY2F0KGRiLm5hbWUsIFwiL1wiKS5jb25jYXQodGFibGUubmFtZSwgXCIvOmRlbHNcIildID0gbmV3IFJhbmdlU2V0KC1JbmZpbml0eSwgW1tbXV1dKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUpLmZpcmUoZXZlcnl0aGluZ18xKTtcbiAgICAgICAgICAgICAgICBzaWduYWxTdWJzY3JpYmVyc05vdyhldmVyeXRoaW5nXzEsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRiO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhd2FpdEl0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBjYWxsTmV4dCA9IGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIGl0ZXJhdG9yLm5leHQocmVzdWx0KTsgfSwgZG9UaHJvdyA9IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaXRlcmF0b3IudGhyb3coZXJyb3IpOyB9LCBvblN1Y2Nlc3MgPSBzdGVwKGNhbGxOZXh0KSwgb25FcnJvciA9IHN0ZXAoZG9UaHJvdyk7XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAoZ2V0TmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGdldE5leHQodmFsKSwgdmFsdWUgPSBuZXh0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0LmRvbmUgPyB2YWx1ZSA6XG4gICAgICAgICAgICAgICAgICAgICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlLnRoZW4gIT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheSh2YWx1ZSkgPyBQcm9taXNlLmFsbCh2YWx1ZSkudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpIDogb25TdWNjZXNzKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcikpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RlcChjYWxsTmV4dCkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0VHJhbnNhY3Rpb25BcmdzKG1vZGUsIF90YWJsZUFyZ3NfLCBzY29wZUZ1bmMpIHtcbiAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAoaSA8IDIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJUb28gZmV3IGFyZ3VtZW50c1wiKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoaSAtIDEpO1xuICAgICAgICB3aGlsZSAoLS1pKVxuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHNjb3BlRnVuYyA9IGFyZ3MucG9wKCk7XG4gICAgICAgIHZhciB0YWJsZXMgPSBmbGF0dGVuKGFyZ3MpO1xuICAgICAgICByZXR1cm4gW21vZGUsIHRhYmxlcywgc2NvcGVGdW5jXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW50ZXJUcmFuc2FjdGlvblNjb3BlKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBwYXJlbnRUcmFuc2FjdGlvbiwgc2NvcGVGdW5jKSB7XG4gICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zbGVzcyA9IFBTRC50cmFuc2xlc3MgfHwgUFNEO1xuICAgICAgICAgICAgdmFyIHRyYW5zID0gZGIuX2NyZWF0ZVRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRiLl9kYlNjaGVtYSwgcGFyZW50VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgdHJhbnMuZXhwbGljaXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHpvbmVQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgdHJhbnNsZXNzOiB0cmFuc2xlc3NcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucyA9IHBhcmVudFRyYW5zYWN0aW9uLmlkYnRyYW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zLl9leHBsaWNpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRiLl9zdGF0ZS5QUjEzOThfbWF4TG9vcCA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXgubmFtZSA9PT0gZXJybmFtZXMuSW52YWxpZFN0YXRlICYmIGRiLmlzT3BlbigpICYmIC0tZGIuX3N0YXRlLlBSMTM5OF9tYXhMb29wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXhpZTogTmVlZCB0byByZW9wZW4gZGInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5vcGVuKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBlbnRlclRyYW5zYWN0aW9uU2NvcGUoZGIsIG1vZGUsIHN0b3JlTmFtZXMsIG51bGwsIHNjb3BlRnVuYyk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzY29wZUZ1bmNJc0FzeW5jID0gaXNBc3luY0Z1bmN0aW9uKHNjb3BlRnVuYyk7XG4gICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZUZvbGxvd2VkID0gRGV4aWVQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBzY29wZUZ1bmMuY2FsbCh0cmFucywgdHJhbnMpO1xuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY3JlbWVudG9yID0gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMuYmluZChudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4oZGVjcmVtZW50b3IsIGRlY3JlbWVudG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUubmV4dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gYXdhaXRJdGVyYXRvcihyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB6b25lUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXR1cm5WYWx1ZSAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUocmV0dXJuVmFsdWUpLnRoZW4oZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHRyYW5zLmFjdGl2ZSA/XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgICAgOiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuUHJlbWF0dXJlQ29tbWl0KFwiVHJhbnNhY3Rpb24gY29tbWl0dGVkIHRvbyBlYXJseS4gU2VlIGh0dHA6Ly9iaXQubHkvMmtkY2tNblwiKSk7IH0pXG4gICAgICAgICAgICAgICAgOiBwcm9taXNlRm9sbG93ZWQudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXR1cm5WYWx1ZTsgfSkpLnRoZW4oZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zLl9jb21wbGV0aW9uLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zLl9yZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYWQoYSwgdmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBpc0FycmF5KGEpID8gYS5zbGljZSgpIDogW2FdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpXG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVZpcnR1YWxJbmRleE1pZGRsZXdhcmUoZG93bikge1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd24pLCB7IHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gZG93bi50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBzY2hlbWEgPSB0YWJsZS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4TG9va3VwID0ge307XG4gICAgICAgICAgICAgICAgdmFyIGFsbFZpcnR1YWxJbmRleGVzID0gW107XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkVmlydHVhbEluZGV4ZXMoa2V5UGF0aCwga2V5VGFpbCwgbG93TGV2ZWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aEFsaWFzID0gZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhMaXN0ID0gKGluZGV4TG9va3VwW2tleVBhdGhBbGlhc10gPSBpbmRleExvb2t1cFtrZXlQYXRoQWxpYXNdIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleUxlbmd0aCA9IGtleVBhdGggPT0gbnVsbCA/IDAgOiB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgPyAxIDoga2V5UGF0aC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1ZpcnR1YWwgPSBrZXlUYWlsID4gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpcnR1YWxJbmRleCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBsb3dMZXZlbEluZGV4KSwgeyBuYW1lOiBpc1ZpcnR1YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCIuY29uY2F0KGtleVBhdGhBbGlhcywgXCIodmlydHVhbC1mcm9tOlwiKS5jb25jYXQobG93TGV2ZWxJbmRleC5uYW1lLCBcIilcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGxvd0xldmVsSW5kZXgubmFtZSwgbG93TGV2ZWxJbmRleDogbG93TGV2ZWxJbmRleCwgaXNWaXJ0dWFsOiBpc1ZpcnR1YWwsIGtleVRhaWw6IGtleVRhaWwsIGtleUxlbmd0aDoga2V5TGVuZ3RoLCBleHRyYWN0S2V5OiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aCksIHVuaXF1ZTogIWlzVmlydHVhbCAmJiBsb3dMZXZlbEluZGV4LnVuaXF1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhMaXN0LnB1c2godmlydHVhbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXJ0dWFsSW5kZXguaXNQcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWaXJ0dWFsSW5kZXhlcy5wdXNoKHZpcnR1YWxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleUxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXJ0dWFsS2V5UGF0aCA9IGtleUxlbmd0aCA9PT0gMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aFswXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aC5zbGljZSgwLCBrZXlMZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpcnR1YWxJbmRleGVzKHZpcnR1YWxLZXlQYXRoLCBrZXlUYWlsICsgMSwgbG93TGV2ZWxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5kZXhMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEua2V5VGFpbCAtIGIua2V5VGFpbDsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXJ0dWFsSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gYWRkVmlydHVhbEluZGV4ZXMoc2NoZW1hLnByaW1hcnlLZXkua2V5UGF0aCwgMCwgc2NoZW1hLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgIGluZGV4TG9va3VwW1wiOmlkXCJdID0gW3ByaW1hcnlLZXldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzY2hlbWEuaW5kZXhlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICBhZGRWaXJ0dWFsSW5kZXhlcyhpbmRleC5rZXlQYXRoLCAwLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRCZXN0SW5kZXgoa2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5kZXhMb29rdXBbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAmJiByZXN1bHRbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVJhbmdlKHJhbmdlLCBrZXlUYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByYW5nZS50eXBlID09PSAxICA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlcjogcGFkKHJhbmdlLmxvd2VyLCByYW5nZS5sb3dlck9wZW4gPyBkb3duLk1BWF9LRVkgOiBkb3duLk1JTl9LRVksIGtleVRhaWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXI6IHBhZChyYW5nZS51cHBlciwgcmFuZ2UudXBwZXJPcGVuID8gZG93bi5NSU5fS0VZIDogZG93bi5NQVhfS0VZLCBrZXlUYWlsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyT3BlbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmFuc2xhdGVSZXF1ZXN0KHJlcSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSByZXEucXVlcnkuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleC5pc1ZpcnR1YWwgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxKSwgeyBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleC5sb3dMZXZlbEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiB0cmFuc2xhdGVSYW5nZShyZXEucXVlcnkucmFuZ2UsIGluZGV4LmtleVRhaWwpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pIDogcmVxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRhYmxlKSwgeyBzY2hlbWE6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzY2hlbWEpLCB7IHByaW1hcnlLZXk6IHByaW1hcnlLZXksIGluZGV4ZXM6IGFsbFZpcnR1YWxJbmRleGVzLCBnZXRJbmRleEJ5S2V5UGF0aDogZmluZEJlc3RJbmRleCB9KSwgY291bnQ6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5jb3VudCh0cmFuc2xhdGVSZXF1ZXN0KHJlcSkpO1xuICAgICAgICAgICAgICAgICAgICB9LCBxdWVyeTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLnF1ZXJ5KHRyYW5zbGF0ZVJlcXVlc3QocmVxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wZW5DdXJzb3I6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IHJlcS5xdWVyeS5pbmRleCwga2V5VGFpbCA9IF9hLmtleVRhaWwsIGlzVmlydHVhbCA9IF9hLmlzVmlydHVhbCwga2V5TGVuZ3RoID0gX2Eua2V5TGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZpcnR1YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLm9wZW5DdXJzb3IocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVZpcnR1YWxDdXJzb3IoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX2NvbnRpbnVlKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgIT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUocGFkKGtleSwgcmVxLnJldmVyc2UgPyBkb3duLk1BWF9LRVkgOiBkb3duLk1JTl9LRVksIGtleVRhaWwpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudW5pcXVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoY3Vyc29yLmtleS5zbGljZSgwLCBrZXlMZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQocmVxLnJldmVyc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkb3duLk1JTl9LRVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb3duLk1BWF9LRVksIGtleVRhaWwpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXJ0dWFsQ3Vyc29yID0gT2JqZWN0LmNyZWF0ZShjdXJzb3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6IHsgdmFsdWU6IF9jb250aW51ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVByaW1hcnlLZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoa2V5LCBwcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleShwYWQoa2V5LCBkb3duLk1BWF9LRVksIGtleVRhaWwpLCBwcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlMZW5ndGggPT09IDEgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlbMF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkuc2xpY2UoMCwga2V5TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlydHVhbEN1cnNvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5vcGVuQ3Vyc29yKHRyYW5zbGF0ZVJlcXVlc3QocmVxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoY3Vyc29yKSB7IHJldHVybiBjdXJzb3IgJiYgY3JlYXRlVmlydHVhbEN1cnNvcihjdXJzb3IpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgdmFyIHZpcnR1YWxJbmRleE1pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBuYW1lOiBcIlZpcnR1YWxJbmRleE1pZGRsZXdhcmVcIixcbiAgICAgICAgbGV2ZWw6IDEsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlVmlydHVhbEluZGV4TWlkZGxld2FyZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRPYmplY3REaWZmKGEsIGIsIHJ2LCBwcmZ4KSB7XG4gICAgICAgIHJ2ID0gcnYgfHwge307XG4gICAgICAgIHByZnggPSBwcmZ4IHx8ICcnO1xuICAgICAgICBrZXlzKGEpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duKGIsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGFwID0gYVtwcm9wXSwgYnAgPSBiW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXAgPT09ICdvYmplY3QnICYmIHR5cGVvZiBicCA9PT0gJ29iamVjdCcgJiYgYXAgJiYgYnApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwVHlwZU5hbWUgPSB0b1N0cmluZ1RhZyhhcCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBicFR5cGVOYW1lID0gdG9TdHJpbmdUYWcoYnApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBUeXBlTmFtZSAhPT0gYnBUeXBlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcFR5cGVOYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T2JqZWN0RGlmZihhcCwgYnAsIHJ2LCBwcmZ4ICsgcHJvcCArICcuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXAgIT09IGJwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFwICE9PSBicClcbiAgICAgICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGtleXMoYikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd24oYSwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKSB7XG4gICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ2RlbGV0ZScpXG4gICAgICAgICAgICByZXR1cm4gcmVxLmtleXM7XG4gICAgICAgIHJldHVybiByZXEua2V5cyB8fCByZXEudmFsdWVzLm1hcChwcmltYXJ5S2V5LmV4dHJhY3RLZXkpO1xuICAgIH1cblxuICAgIHZhciBob29rc01pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBuYW1lOiBcIkhvb2tzTWlkZGxld2FyZVwiLFxuICAgICAgICBsZXZlbDogMixcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoZG93bkNvcmUpIHsgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93bkNvcmUpLCB7IHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvd25UYWJsZSA9IGRvd25Db3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBkb3duVGFibGUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlTWlkZGxld2FyZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duVGFibGUpLCB7IG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR4VHJhbnMgPSBQU0QudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBkeFRyYW5zLnRhYmxlKHRhYmxlTmFtZSkuaG9vaywgZGVsZXRpbmcgPSBfYS5kZWxldGluZywgY3JlYXRpbmcgPSBfYS5jcmVhdGluZywgdXBkYXRpbmcgPSBfYS51cGRhdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVxLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhZGRQdXRPckRlbGV0ZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwdXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRpbmcuZmlyZSA9PT0gbm9wICYmIHVwZGF0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkUHV0T3JEZWxldGUocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkUHV0T3JEZWxldGUocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlUmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWxldGVSYW5nZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUubXV0YXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRQdXRPckRlbGV0ZShyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHhUcmFucyA9IFBTRC50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IHJlcS5rZXlzIHx8IGdldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWtleXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIktleXMgbWlzc2luZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSByZXEudHlwZSA9PT0gJ2FkZCcgfHwgcmVxLnR5cGUgPT09ICdwdXQnID8gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsga2V5czoga2V5cyB9KSA6IF9fYXNzaWduKHt9LCByZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEudHlwZSAhPT0gJ2RlbGV0ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXMgPSBfX3NwcmVhZEFycmF5KFtdLCByZXEudmFsdWVzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLmtleXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5rZXlzID0gX19zcHJlYWRBcnJheShbXSwgcmVxLmtleXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRFeGlzdGluZ1ZhbHVlcyhkb3duVGFibGUsIHJlcSwga2V5cykudGhlbihmdW5jdGlvbiAoZXhpc3RpbmdWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHRzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSBleGlzdGluZ1ZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHggPSB7IG9uZXJyb3I6IG51bGwsIG9uc3VjY2VzczogbnVsbCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlID09PSAnZGVsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0aW5nLmZpcmUuY2FsbChjdHgsIGtleSwgZXhpc3RpbmdWYWx1ZSwgZHhUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXEudHlwZSA9PT0gJ2FkZCcgfHwgZXhpc3RpbmdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlZFByaW1hcnlLZXkgPSBjcmVhdGluZy5maXJlLmNhbGwoY3R4LCBrZXksIHJlcS52YWx1ZXNbaV0sIGR4VHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gbnVsbCAmJiBnZW5lcmF0ZWRQcmltYXJ5S2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ2VuZXJhdGVkUHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLmtleXNbaV0gPSBrZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJpbWFyeUtleS5vdXRib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKHJlcS52YWx1ZXNbaV0sIHByaW1hcnlLZXkua2V5UGF0aCwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3REaWZmID0gZ2V0T2JqZWN0RGlmZihleGlzdGluZ1ZhbHVlLCByZXEudmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25hbENoYW5nZXNfMSA9IHVwZGF0aW5nLmZpcmUuY2FsbChjdHgsIG9iamVjdERpZmYsIGtleSwgZXhpc3RpbmdWYWx1ZSwgZHhUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxDaGFuZ2VzXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RlZFZhbHVlXzEgPSByZXEudmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhZGRpdGlvbmFsQ2hhbmdlc18xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHJlcXVlc3RlZFZhbHVlXzEsIGtleVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkVmFsdWVfMVtrZXlQYXRoXSA9IGFkZGl0aW9uYWxDaGFuZ2VzXzFba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgocmVxdWVzdGVkVmFsdWVfMSwga2V5UGF0aCwgYWRkaXRpb25hbENoYW5nZXNfMVtrZXlQYXRoXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcywgcmVzdWx0cyA9IF9hLnJlc3VsdHMsIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1LZXkgPSByZXN1bHRzID8gcmVzdWx0c1tpXSA6IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNvbnRleHRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmltS2V5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm9uZXJyb3IgJiYgY3R4Lm9uZXJyb3IoZmFpbHVyZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm9uc3VjY2VzcyAmJiBjdHgub25zdWNjZXNzKHJlcS50eXBlID09PSAncHV0JyAmJiBleGlzdGluZ1ZhbHVlc1tpXSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudmFsdWVzW2ldIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1LZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmYWlsdXJlczogZmFpbHVyZXMsIHJlc3VsdHM6IHJlc3VsdHMsIG51bUZhaWx1cmVzOiBudW1GYWlsdXJlcywgbGFzdFJlc3VsdDogbGFzdFJlc3VsdCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRzLmZvckVhY2goZnVuY3Rpb24gKGN0eCkgeyByZXR1cm4gY3R4Lm9uZXJyb3IgJiYgY3R4Lm9uZXJyb3IoZXJyb3IpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlUmFuZ2UocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZU5leHRDaHVuayhyZXEudHJhbnMsIHJlcS5yYW5nZSwgMTAwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlTmV4dENodW5rKHRyYW5zLCByYW5nZSwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLnF1ZXJ5KHsgdHJhbnM6IHRyYW5zLCB2YWx1ZXM6IGZhbHNlLCBxdWVyeTogeyBpbmRleDogcHJpbWFyeUtleSwgcmFuZ2U6IHJhbmdlIH0sIGxpbWl0OiBsaW1pdCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZFB1dE9yRGVsZXRlKHsgdHlwZTogJ2RlbGV0ZScsIGtleXM6IHJlc3VsdCwgdHJhbnM6IHRyYW5zIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5udW1GYWlsdXJlcyA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZmFpbHVyZXM6IFtdLCBudW1GYWlsdXJlczogMCwgbGFzdFJlc3VsdDogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlTmV4dENodW5rKHRyYW5zLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmFuZ2UpLCB7IGxvd2VyOiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLCBsb3dlck9wZW46IHRydWUgfSksIGxpbWl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlTWlkZGxld2FyZTtcbiAgICAgICAgICAgIH0gfSkpOyB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRFeGlzdGluZ1ZhbHVlcyh0YWJsZSwgcmVxLCBlZmZlY3RpdmVLZXlzKSB7XG4gICAgICAgIHJldHVybiByZXEudHlwZSA9PT0gXCJhZGRcIlxuICAgICAgICAgICAgPyBQcm9taXNlLnJlc29sdmUoW10pXG4gICAgICAgICAgICA6IHRhYmxlLmdldE1hbnkoeyB0cmFuczogcmVxLnRyYW5zLCBrZXlzOiBlZmZlY3RpdmVLZXlzLCBjYWNoZTogXCJpbW11dGFibGVcIiB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRGcm9tVHJhbnNhY3Rpb25DYWNoZShrZXlzLCBjYWNoZSwgY2xvbmUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghY2FjaGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAoY2FjaGUua2V5cy5sZW5ndGggPCBrZXlzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IGNhY2hlLmtleXMubGVuZ3RoICYmIGogPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChjYWNoZS5rZXlzW2ldLCBrZXlzW2pdKSAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2xvbmUgPyBkZWVwQ2xvbmUoY2FjaGUudmFsdWVzW2ldKSA6IGNhY2hlLnZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgKytqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IGtleXMubGVuZ3RoID8gcmVzdWx0IDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBjYWNoZUV4aXN0aW5nVmFsdWVzTWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgIGxldmVsOiAtMSxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YWJsZTogZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBjb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGFibGUpLCB7IGdldE1hbnk6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcS5jYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUuZ2V0TWFueShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVkUmVzdWx0ID0gZ2V0RnJvbVRyYW5zYWN0aW9uQ2FjaGUocmVxLmtleXMsIHJlcS50cmFuc1tcIl9jYWNoZVwiXSwgcmVxLmNhY2hlID09PSBcImNsb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKGNhY2hlZFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5nZXRNYW55KHJlcSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS50cmFuc1tcIl9jYWNoZVwiXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHJlcS5rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiByZXEuY2FjaGUgPT09IFwiY2xvbmVcIiA/IGRlZXBDbG9uZShyZXMpIDogcmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlICE9PSBcImFkZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudHJhbnNbXCJfY2FjaGVcIl0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzQ2FjaGFibGVDb250ZXh0KGN0eCwgdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIChjdHgudHJhbnMubW9kZSA9PT0gJ3JlYWRvbmx5JyAmJlxuICAgICAgICAgICAgISFjdHguc3Vic2NyICYmXG4gICAgICAgICAgICAhY3R4LnRyYW5zLmV4cGxpY2l0ICYmXG4gICAgICAgICAgICBjdHgudHJhbnMuZGIuX29wdGlvbnMuY2FjaGUgIT09ICdkaXNhYmxlZCcgJiZcbiAgICAgICAgICAgICF0YWJsZS5zY2hlbWEucHJpbWFyeUtleS5vdXRib3VuZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDYWNoYWJsZVJlcXVlc3QodHlwZSwgcmVxKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncXVlcnknOlxuICAgICAgICAgICAgICAgIHJldHVybiByZXEudmFsdWVzICYmICFyZXEudW5pcXVlO1xuICAgICAgICAgICAgY2FzZSAnZ2V0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdnZXRNYW55JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdjb3VudCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAnb3BlbkN1cnNvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG9ic2VydmFiaWxpdHlNaWRkbGV3YXJlID0ge1xuICAgICAgICBzdGFjazogXCJkYmNvcmVcIixcbiAgICAgICAgbGV2ZWw6IDAsXG4gICAgICAgIG5hbWU6IFwiT2JzZXJ2YWJpbGl0eVwiLFxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChjb3JlKSB7XG4gICAgICAgICAgICB2YXIgZGJOYW1lID0gY29yZS5zY2hlbWEubmFtZTtcbiAgICAgICAgICAgIHZhciBGVUxMX1JBTkdFID0gbmV3IFJhbmdlU2V0KGNvcmUuTUlOX0tFWSwgY29yZS5NQVhfS0VZKTtcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29yZSksIHsgdHJhbnNhY3Rpb246IGZ1bmN0aW9uIChzdG9yZXMsIG1vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBTRC5zdWJzY3IgJiYgbW9kZSAhPT0gJ3JlYWRvbmx5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuUmVhZE9ubHkoXCJSZWFkd3JpdGUgdHJhbnNhY3Rpb24gaW4gbGl2ZVF1ZXJ5IGNvbnRleHQuIFF1ZXJpZXIgc291cmNlOiBcIi5jb25jYXQoUFNELnF1ZXJpZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZS50cmFuc2FjdGlvbihzdG9yZXMsIG1vZGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sIHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjaGVtYSA9IHRhYmxlLnNjaGVtYTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBzY2hlbWEucHJpbWFyeUtleSwgaW5kZXhlcyA9IHNjaGVtYS5pbmRleGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFjdEtleSA9IHByaW1hcnlLZXkuZXh0cmFjdEtleSwgb3V0Ym91bmQgPSBwcmltYXJ5S2V5Lm91dGJvdW5kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhlc1dpdGhBdXRvSW5jUEsgPSBwcmltYXJ5S2V5LmF1dG9JbmNyZW1lbnQgJiYgaW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiBpbmRleC5jb21wb3VuZCAmJiBpbmRleC5rZXlQYXRoLmluY2x1ZGVzKHByaW1hcnlLZXkua2V5UGF0aCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVDbG9uZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0YWJsZSksIHsgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSByZXEudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG11dGF0ZWRQYXJ0cyA9IHJlcS5tdXRhdGVkUGFydHMgfHwgKHJlcS5tdXRhdGVkUGFydHMgPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldFJhbmdlU2V0ID0gZnVuY3Rpb24gKGluZGV4TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IFwiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUsIFwiL1wiKS5jb25jYXQoaW5kZXhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtdXRhdGVkUGFydHNbcGFydF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtdXRhdGVkUGFydHNbcGFydF0gPSBuZXcgUmFuZ2VTZXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrUmFuZ2VTZXQgPSBnZXRSYW5nZVNldChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsc1JhbmdlU2V0ID0gZ2V0UmFuZ2VTZXQoXCI6ZGVsc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHJlcS50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYyA9IHJlcS50eXBlID09PSBcImRlbGV0ZVJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbcmVxLnJhbmdlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlcS50eXBlID09PSBcImRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtyZXEua2V5c11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVxLnZhbHVlcy5sZW5ndGggPCA1MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2dldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBpZDsgfSksIHJlcS52YWx1ZXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSwga2V5cyA9IF9jWzBdLCBuZXdPYmpzID0gX2NbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZENhY2hlID0gcmVxLnRyYW5zW1wiX2NhY2hlXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGtleXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXQuYWRkS2V5cyhrZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZE9ianMgPSB0eXBlID09PSAnZGVsZXRlJyB8fCBrZXlzLmxlbmd0aCA9PT0gbmV3T2Jqcy5sZW5ndGggPyBnZXRGcm9tVHJhbnNhY3Rpb25DYWNoZShrZXlzLCBvbGRDYWNoZSkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9sZE9ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldC5hZGRLZXlzKGtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRPYmpzIHx8IG5ld09ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrQWZmZWN0ZWRJbmRleGVzKGdldFJhbmdlU2V0LCBzY2hlbWEsIG9sZE9ianMsIG5ld09ianMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogKF9hID0ga2V5cy5sb3dlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29yZS5NSU5fS0VZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86IChfYiA9IGtleXMudXBwZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvcmUuTUFYX0tFWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXQuYWRkKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGQocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldC5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS5pbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gZ2V0UmFuZ2VTZXQoaWR4Lm5hbWUpLmFkZChGVUxMX1JBTkdFKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5tdXRhdGUocmVxKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMgJiYgKHJlcS50eXBlID09PSAnYWRkJyB8fCByZXEudHlwZSA9PT0gJ3B1dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0LmFkZEtleXMocmVzLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ZXNXaXRoQXV0b0luY1BLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1dpdGhBdXRvSW5jUEsuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhWYWxzID0gcmVxLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGlkeC5leHRyYWN0S2V5KHYpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrUG9zID0gaWR4LmtleVBhdGguZmluZEluZGV4KGZ1bmN0aW9uIChwcm9wKSB7IHJldHVybiBwcm9wID09PSBwcmltYXJ5S2V5LmtleVBhdGg7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzLnJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFZhbHNbaV1bcGtQb3NdID0gcmVzLnJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UmFuZ2VTZXQoaWR4Lm5hbWUpLmFkZEtleXMoaWR4VmFscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMubXV0YXRlZFBhcnRzID0gZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCh0cmFucy5tdXRhdGVkUGFydHMgfHwge30sIG11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0UmFuZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2QgPSBfYS5xdWVyeSwgaW5kZXggPSBfZC5pbmRleCwgcmFuZ2UgPSBfZC5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlU2V0KChfYiA9IHJhbmdlLmxvd2VyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb3JlLk1JTl9LRVksIChfYyA9IHJhbmdlLnVwcGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjb3JlLk1BWF9LRVkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRTdWJzY3JpYmVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHJlcSkgeyByZXR1cm4gW3ByaW1hcnlLZXksIG5ldyBSYW5nZVNldChyZXEua2V5KV07IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYW55OiBmdW5jdGlvbiAocmVxKSB7IHJldHVybiBbcHJpbWFyeUtleSwgbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhyZXEua2V5cyldOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGdldFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGdldFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkN1cnNvcjogZ2V0UmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGtleXMocmVhZFN1YnNjcmliZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlQ2xvbmVbbWV0aG9kXSA9IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Vic2NyID0gUFNELnN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNMaXZlUXVlcnkgPSAhIXN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGFibGUgPSBpc0NhY2hhYmxlQ29udGV4dChQU0QsIHRhYmxlKSAmJiBpc0NhY2hhYmxlUmVxdWVzdChtZXRob2QsIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9ic1NldCA9IGNhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVxLm9ic1NldCA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc3Vic2NyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xpdmVRdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0UmFuZ2VTZXQgPSBmdW5jdGlvbiAoaW5kZXhOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IFwiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUsIFwiL1wiKS5jb25jYXQoaW5kZXhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAob2JzU2V0W3BhcnRdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9ic1NldFtwYXJ0XSA9IG5ldyBSYW5nZVNldCgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa1JhbmdlU2V0XzEgPSBnZXRSYW5nZVNldChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHNSYW5nZVNldF8xID0gZ2V0UmFuZ2VTZXQoXCI6ZGVsc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcmVhZFN1YnNjcmliZXJzW21ldGhvZF0ocmVxKSwgcXVlcmllZEluZGV4ID0gX2FbMF0sIHF1ZXJpZWRSYW5nZXMgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ3F1ZXJ5JyAmJiBxdWVyaWVkSW5kZXguaXNQcmltYXJ5S2V5ICYmICFyZXEudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGQocXVlcmllZFJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRSYW5nZVNldChxdWVyaWVkSW5kZXgubmFtZSB8fCBcIlwiKS5hZGQocXVlcmllZFJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFxdWVyaWVkSW5kZXguaXNQcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSBcImNvdW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5c1Byb21pc2VfMSA9IG1ldGhvZCA9PT0gXCJxdWVyeVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGJvdW5kICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUucXVlcnkoX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsgdmFsdWVzOiBmYWxzZSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJxdWVyeVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0Ym91bmQgJiYgcmVxLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzUHJvbWlzZV8xLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRpbmdLZXlzID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0XzEuYWRkS2V5cyhyZXN1bHRpbmdLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwS2V5cyA9IHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlcy5yZXN1bHQubWFwKGV4dHJhY3RLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXMucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0XzEuYWRkS2V5cyhwS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGRLZXlzKHBLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtZXRob2QgPT09IFwib3BlbkN1cnNvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yXzEgPSByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2FudFZhbHVlc18xID0gcmVxLnZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY3Vyc29yXzEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuY3JlYXRlKGN1cnNvcl8xLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkS2V5KGN1cnNvcl8xLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JfMS5rZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5S2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtleSA9IGN1cnNvcl8xLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkS2V5KHBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwa2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbnRWYWx1ZXNfMSAmJiBwa1JhbmdlU2V0XzEuYWRkS2V5KGN1cnNvcl8xLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVDbG9uZTtcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gdHJhY2tBZmZlY3RlZEluZGV4ZXMoZ2V0UmFuZ2VTZXQsIHNjaGVtYSwgb2xkT2JqcywgbmV3T2Jqcykge1xuICAgICAgICBmdW5jdGlvbiBhZGRBZmZlY3RlZEluZGV4KGl4KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2VTZXQgPSBnZXRSYW5nZVNldChpeC5uYW1lIHx8IFwiXCIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZXh0cmFjdEtleShvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICE9IG51bGwgPyBpeC5leHRyYWN0S2V5KG9iaikgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGFkZEtleU9yS2V5cyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGl4Lm11bHRpRW50cnkgJiYgaXNBcnJheShrZXkpXG4gICAgICAgICAgICAgICAgPyBrZXkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiByYW5nZVNldC5hZGRLZXkoa2V5KTsgfSlcbiAgICAgICAgICAgICAgICA6IHJhbmdlU2V0LmFkZEtleShrZXkpOyB9O1xuICAgICAgICAgICAgKG9sZE9ianMgfHwgbmV3T2JqcykuZm9yRWFjaChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRLZXkgPSBvbGRPYmpzICYmIGV4dHJhY3RLZXkob2xkT2Jqc1tpXSk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0tleSA9IG5ld09ianMgJiYgZXh0cmFjdEtleShuZXdPYmpzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoY21wKG9sZEtleSwgbmV3S2V5KSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2xkS2V5ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRLZXlPcktleXMob2xkS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0tleSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5T3JLZXlzKG5ld0tleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmluZGV4ZXMuZm9yRWFjaChhZGRBZmZlY3RlZEluZGV4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGp1c3RPcHRpbWlzdGljRnJvbUZhaWx1cmVzKHRibENhY2hlLCByZXEsIHJlcykge1xuICAgICAgICBpZiAocmVzLm51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHJlcTtcbiAgICAgICAgaWYgKHJlcS50eXBlID09PSAnZGVsZXRlUmFuZ2UnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtQnVsa09wcyA9IHJlcS5rZXlzXG4gICAgICAgICAgICA/IHJlcS5rZXlzLmxlbmd0aFxuICAgICAgICAgICAgOiAndmFsdWVzJyBpbiByZXEgJiYgcmVxLnZhbHVlc1xuICAgICAgICAgICAgICAgID8gcmVxLnZhbHVlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICA6IDE7XG4gICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPT09IG51bUJ1bGtPcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbG9uZSA9IF9fYXNzaWduKHt9LCByZXEpO1xuICAgICAgICBpZiAoaXNBcnJheShjbG9uZS5rZXlzKSkge1xuICAgICAgICAgICAgY2xvbmUua2V5cyA9IGNsb25lLmtleXMuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7IHJldHVybiAhKGkgaW4gcmVzLmZhaWx1cmVzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd2YWx1ZXMnIGluIGNsb25lICYmIGlzQXJyYXkoY2xvbmUudmFsdWVzKSkge1xuICAgICAgICAgICAgY2xvbmUudmFsdWVzID0gY2xvbmUudmFsdWVzLmZpbHRlcihmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4gIShpIGluIHJlcy5mYWlsdXJlcyk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Fib3ZlTG93ZXIoa2V5LCByYW5nZSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UubG93ZXIgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IHJhbmdlLmxvd2VyT3BlblxuICAgICAgICAgICAgICAgID8gY21wKGtleSwgcmFuZ2UubG93ZXIpID4gMFxuICAgICAgICAgICAgICAgIDogY21wKGtleSwgcmFuZ2UubG93ZXIpID49IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQmVsb3dVcHBlcihrZXksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiByYW5nZS51cHBlciA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgIDogcmFuZ2UudXBwZXJPcGVuXG4gICAgICAgICAgICAgICAgPyBjbXAoa2V5LCByYW5nZS51cHBlcikgPCAwXG4gICAgICAgICAgICAgICAgOiBjbXAoa2V5LCByYW5nZS51cHBlcikgPD0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNXaXRoaW5SYW5nZShrZXksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBpc0Fib3ZlTG93ZXIoa2V5LCByYW5nZSkgJiYgaXNCZWxvd1VwcGVyKGtleSwgcmFuZ2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5T3B0aW1pc3RpY09wcyhyZXN1bHQsIHJlcSwgb3BzLCB0YWJsZSwgY2FjaGVFbnRyeSwgaW1tdXRhYmxlKSB7XG4gICAgICAgIGlmICghb3BzIHx8IG9wcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSByZXEucXVlcnkuaW5kZXg7XG4gICAgICAgIHZhciBtdWx0aUVudHJ5ID0gaW5kZXgubXVsdGlFbnRyeTtcbiAgICAgICAgdmFyIHF1ZXJ5UmFuZ2UgPSByZXEucXVlcnkucmFuZ2U7XG4gICAgICAgIHZhciBwcmltYXJ5S2V5ID0gdGFibGUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgIHZhciBleHRyYWN0UHJpbUtleSA9IHByaW1hcnlLZXkuZXh0cmFjdEtleTtcbiAgICAgICAgdmFyIGV4dHJhY3RJbmRleCA9IGluZGV4LmV4dHJhY3RLZXk7XG4gICAgICAgIHZhciBleHRyYWN0TG93TGV2ZWxJbmRleCA9IChpbmRleC5sb3dMZXZlbEluZGV4IHx8IGluZGV4KS5leHRyYWN0S2V5O1xuICAgICAgICB2YXIgZmluYWxSZXN1bHQgPSBvcHMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIG9wKSB7XG4gICAgICAgICAgICB2YXIgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICAgIHZhciBpbmNsdWRlZFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKG9wLnR5cGUgPT09ICdhZGQnIHx8IG9wLnR5cGUgPT09ICdwdXQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVkUEtzID0gbmV3IFJhbmdlU2V0KCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IG9wLnZhbHVlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvcC52YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBwayA9IGV4dHJhY3RQcmltS2V5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVkUEtzLmhhc0tleShwaykpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGV4dHJhY3RJbmRleCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtdWx0aUVudHJ5ICYmIGlzQXJyYXkoa2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBrZXkuc29tZShmdW5jdGlvbiAoaykgeyByZXR1cm4gaXNXaXRoaW5SYW5nZShrLCBxdWVyeVJhbmdlKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXNXaXRoaW5SYW5nZShrZXksIHF1ZXJ5UmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlZFBLcy5hZGRLZXkocGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZWRWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhZGQnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ0tleXNfMSA9IG5ldyBSYW5nZVNldCgpLmFkZEtleXMocmVxLnZhbHVlcyA/IHJlc3VsdC5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGV4dHJhY3RQcmltS2V5KHYpOyB9KSA6IHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmZWRSZXN1bHQgPSByZXN1bHQuY29uY2F0KHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5jbHVkZWRWYWx1ZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGV4dHJhY3RQcmltS2V5KHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0tleXNfMS5oYXNLZXkoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nS2V5c18xLmFkZEtleShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jbHVkZWRWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5c18xLmhhc0tleShrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nS2V5c18xLmFkZEtleShrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3B1dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVNldF8xID0gbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhvcC52YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIWtleVNldF8xLmhhc0tleShyZXEudmFsdWVzID8gZXh0cmFjdFByaW1LZXkoaXRlbSkgOiBpdGVtKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5jbHVkZWRWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jbHVkZWRWYWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXNUb0RlbGV0ZV8xID0gbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhvcC5rZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAha2V5c1RvRGVsZXRlXzEuaGFzS2V5KHJlcS52YWx1ZXMgPyBleHRyYWN0UHJpbUtleShpdGVtKSA6IGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlUmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VfMSA9IG9wLnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIWlzV2l0aGluUmFuZ2UoZXh0cmFjdFByaW1LZXkoaXRlbSksIHJhbmdlXzEpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kaWZlZFJlc3VsdDtcbiAgICAgICAgfSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKGZpbmFsUmVzdWx0ID09PSByZXN1bHQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBmaW5hbFJlc3VsdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gY21wKGV4dHJhY3RMb3dMZXZlbEluZGV4KGEpLCBleHRyYWN0TG93TGV2ZWxJbmRleChiKSkgfHxcbiAgICAgICAgICAgICAgICBjbXAoZXh0cmFjdFByaW1LZXkoYSksIGV4dHJhY3RQcmltS2V5KGIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXEubGltaXQgJiYgcmVxLmxpbWl0IDwgSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGlmIChmaW5hbFJlc3VsdC5sZW5ndGggPiByZXEubGltaXQpIHtcbiAgICAgICAgICAgICAgICBmaW5hbFJlc3VsdC5sZW5ndGggPSByZXEubGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQubGVuZ3RoID09PSByZXEubGltaXQgJiYgZmluYWxSZXN1bHQubGVuZ3RoIDwgcmVxLmxpbWl0KSB7XG4gICAgICAgICAgICAgICAgY2FjaGVFbnRyeS5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltbXV0YWJsZSA/IE9iamVjdC5mcmVlemUoZmluYWxSZXN1bHQpIDogZmluYWxSZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJlUmFuZ2VzRXF1YWwocjEsIHIyKSB7XG4gICAgICAgIHJldHVybiAoY21wKHIxLmxvd2VyLCByMi5sb3dlcikgPT09IDAgJiZcbiAgICAgICAgICAgIGNtcChyMS51cHBlciwgcjIudXBwZXIpID09PSAwICYmXG4gICAgICAgICAgICAhIXIxLmxvd2VyT3BlbiA9PT0gISFyMi5sb3dlck9wZW4gJiZcbiAgICAgICAgICAgICEhcjEudXBwZXJPcGVuID09PSAhIXIyLnVwcGVyT3Blbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGFyZUxvd2Vycyhsb3dlcjEsIGxvd2VyMiwgbG93ZXJPcGVuMSwgbG93ZXJPcGVuMikge1xuICAgICAgICBpZiAobG93ZXIxID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gbG93ZXIyICE9PSB1bmRlZmluZWQgPyAtMSA6IDA7XG4gICAgICAgIGlmIChsb3dlcjIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB2YXIgYyA9IGNtcChsb3dlcjEsIGxvd2VyMik7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICBpZiAobG93ZXJPcGVuMSAmJiBsb3dlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKGxvd2VyT3BlbjEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAobG93ZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVVcHBlcnModXBwZXIxLCB1cHBlcjIsIHVwcGVyT3BlbjEsIHVwcGVyT3BlbjIpIHtcbiAgICAgICAgaWYgKHVwcGVyMSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHVwcGVyMiAhPT0gdW5kZWZpbmVkID8gMSA6IDA7XG4gICAgICAgIGlmICh1cHBlcjIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgdmFyIGMgPSBjbXAodXBwZXIxLCB1cHBlcjIpO1xuICAgICAgICBpZiAoYyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHVwcGVyT3BlbjEgJiYgdXBwZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmICh1cHBlck9wZW4xKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmICh1cHBlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1N1cGVyUmFuZ2UocjEsIHIyKSB7XG4gICAgICAgIHJldHVybiAoY29tcGFyZUxvd2VycyhyMS5sb3dlciwgcjIubG93ZXIsIHIxLmxvd2VyT3BlbiwgcjIubG93ZXJPcGVuKSA8PSAwICYmXG4gICAgICAgICAgICBjb21wYXJlVXBwZXJzKHIxLnVwcGVyLCByMi51cHBlciwgcjEudXBwZXJPcGVuLCByMi51cHBlck9wZW4pID49IDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRDb21wYXRpYmxlUXVlcnkoZGJOYW1lLCB0YWJsZU5hbWUsIHR5cGUsIHJlcSkge1xuICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgIGlmICghdGJsQ2FjaGUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHZhciBxdWVyaWVzID0gdGJsQ2FjaGUucXVlcmllc1t0eXBlXTtcbiAgICAgICAgaWYgKCFxdWVyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBmYWxzZSwgdGJsQ2FjaGUsIG51bGxdO1xuICAgICAgICB2YXIgaW5kZXhOYW1lID0gcmVxLnF1ZXJ5ID8gcmVxLnF1ZXJ5LmluZGV4Lm5hbWUgOiBudWxsO1xuICAgICAgICB2YXIgZW50cmllcyA9IHF1ZXJpZXNbaW5kZXhOYW1lIHx8ICcnXTtcbiAgICAgICAgaWYgKCFlbnRyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBmYWxzZSwgdGJsQ2FjaGUsIG51bGxdO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3F1ZXJ5JzpcbiAgICAgICAgICAgICAgICB2YXIgZXF1YWxFbnRyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnJlcS5saW1pdCA9PT0gcmVxLmxpbWl0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5yZXEudmFsdWVzID09PSByZXEudmFsdWVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVSYW5nZXNFcXVhbChlbnRyeS5yZXEucXVlcnkucmFuZ2UsIHJlcS5xdWVyeS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVxdWFsRW50cnkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVhbEVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllcyxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJFbnRyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBlbnRyeS5yZXEgPyBlbnRyeS5yZXEubGltaXQgOiBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsaW1pdCA+PSByZXEubGltaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXEudmFsdWVzID8gZW50cnkucmVxLnZhbHVlcyA6IHRydWUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1cGVyUmFuZ2UoZW50cnkucmVxLnF1ZXJ5LnJhbmdlLCByZXEucXVlcnkucmFuZ2UpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3N1cGVyRW50cnksIGZhbHNlLCB0YmxDYWNoZSwgZW50cmllc107XG4gICAgICAgICAgICBjYXNlICdjb3VudCc6XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50UXVlcnkgPSBlbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmVSYW5nZXNFcXVhbChlbnRyeS5yZXEucXVlcnkucmFuZ2UsIHJlcS5xdWVyeS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtjb3VudFF1ZXJ5LCAhIWNvdW50UXVlcnksIHRibENhY2hlLCBlbnRyaWVzXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvQ2FjaGVFbnRyeShjYWNoZUVudHJ5LCBjb250YWluZXIsIHJlcXVlcnksIHNpZ25hbCkge1xuICAgICAgICBjYWNoZUVudHJ5LnN1YnNjcmliZXJzLmFkZChyZXF1ZXJ5KTtcbiAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWNoZUVudHJ5LnN1YnNjcmliZXJzLmRlbGV0ZShyZXF1ZXJ5KTtcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LnN1YnNjcmliZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbnF1ZUZvckRlbGV0aW9uKGNhY2hlRW50cnksIGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZUZvckRlbGV0aW9uKGNhY2hlRW50cnksIGNvbnRhaW5lcikge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LnN1YnNjcmliZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0oY29udGFpbmVyLCBjYWNoZUVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlTWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6ICdkYmNvcmUnLFxuICAgICAgICBsZXZlbDogMCxcbiAgICAgICAgbmFtZTogJ0NhY2hlJyxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICAgICAgdmFyIGRiTmFtZSA9IGNvcmUuc2NoZW1hLm5hbWU7XG4gICAgICAgICAgICB2YXIgY29yZU1XID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvcmUpLCB7IHRyYW5zYWN0aW9uOiBmdW5jdGlvbiAoc3RvcmVzLCBtb2RlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZGJ0cmFucyA9IGNvcmUudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWNfMSA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaWduYWwgPSBhY18xLnNpZ25hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uICh3YXNDb21taXR0ZWQpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY18xLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZmZlY3RlZFN1YnNjcmliZXJzXzEgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgc3RvcmVzXzEgPSBzdG9yZXM7IF9pIDwgc3RvcmVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVOYW1lID0gc3RvcmVzXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRibENhY2hlID0gY2FjaGVbXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHN0b3JlTmFtZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRibENhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gY29yZS50YWJsZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHMgPSB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLnRyYW5zID09PSBpZGJ0cmFuczsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkYnRyYW5zLl9leHBsaWNpdCAmJiB3YXNDb21taXR0ZWQgJiYgaWRidHJhbnMubXV0YXRlZFBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBPYmplY3QudmFsdWVzKHRibENhY2hlLnF1ZXJpZXMucXVlcnkpOyBfYSA8IF9iLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJpZXMgPSBfYltfYV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IDAsIF9kID0gZW50cmllcy5zbGljZSgpOyBfYyA8IF9kLmxlbmd0aDsgX2MrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IF9kW19jXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JzU2V0c092ZXJsYXAoZW50cnkub2JzU2V0LCBpZGJ0cmFucy5tdXRhdGVkUGFydHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIGFmZmVjdGVkU3Vic2NyaWJlcnNfMS5hZGQocmVxdWVyeSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzID0gdGJsQ2FjaGUub3B0aW1pc3RpY09wcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC50cmFucyAhPT0gaWRidHJhbnM7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZSA9IDAsIF9mID0gT2JqZWN0LnZhbHVlcyh0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5KTsgX2UgPCBfZi5sZW5ndGg7IF9lKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyaWVzID0gX2ZbX2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2cgPSAwLCBfaCA9IGVudHJpZXMuc2xpY2UoKTsgX2cgPCBfaC5sZW5ndGg7IF9nKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBfaFtfZ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnJlcyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLm11dGF0ZWRQYXJ0c1xuICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2FzQ29tbWl0dGVkICYmICFlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyZWV6ZVJlc3VsdHMgPSBPYmplY3QuaXNGcm96ZW4oZW50cnkucmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RSZXMgPSBhcHBseU9wdGltaXN0aWNPcHMoZW50cnkucmVzLCBlbnRyeS5yZXEsIG9wcywgdGFibGUsIGVudHJ5LCBmcmVlemVSZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gYWZmZWN0ZWRTdWJzY3JpYmVyc18xLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RSZXMgIT09IGVudHJ5LnJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnJlcyA9IG1vZFJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5wcm9taXNlID0gRGV4aWVQcm9taXNlLnJlc29sdmUoeyByZXN1bHQ6IG1vZFJlcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiBhZmZlY3RlZFN1YnNjcmliZXJzXzEuYWRkKHJlcXVlcnkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFN1YnNjcmliZXJzXzEuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gcmVxdWVyeSgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9OyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlbmRUcmFuc2FjdGlvbihmYWxzZSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlbmRUcmFuc2FjdGlvbihmYWxzZSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBlbmRUcmFuc2FjdGlvbih0cnVlKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkYnRyYW5zO1xuICAgICAgICAgICAgICAgIH0sIHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb3duVGFibGUgPSBjb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltS2V5ID0gZG93blRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVNVyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duVGFibGUpLCB7IG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IFBTRC50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpbUtleS5vdXRib3VuZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5kYi5fb3B0aW9ucy5jYWNoZSA9PT0gJ2Rpc2FibGVkJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5leHBsaWNpdCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucy5tb2RlICE9PSAncmVhZHdyaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YmxDYWNoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlcS50eXBlID09PSAnYWRkJyB8fCByZXEudHlwZSA9PT0gJ3B1dCcpICYmIChyZXEudmFsdWVzLmxlbmd0aCA+PSA1MCB8fCBnZXRFZmZlY3RpdmVLZXlzKHByaW1LZXksIHJlcSkuc29tZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBrZXkgPT0gbnVsbDsgfSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxV2l0aFJlc29sdmVkS2V5cyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXEpLCB7IHZhbHVlczogcmVxLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5mYWlsdXJlc1tpXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlV2l0aEtleSA9ICgoX2EgPSBwcmltS2V5LmtleVBhdGgpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcygnLicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkZWVwQ2xvbmUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF9fYXNzaWduKHt9LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aCh2YWx1ZVdpdGhLZXksIHByaW1LZXkua2V5UGF0aCwgcmVzLnJlc3VsdHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVXaXRoS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdGVkUmVxID0gYWRqdXN0T3B0aW1pc3RpY0Zyb21GYWlsdXJlcyh0YmxDYWNoZSwgcmVxV2l0aFJlc29sdmVkS2V5cywgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLm9wdGltaXN0aWNPcHMucHVzaChhZGp1c3RlZFJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7IHJldHVybiByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLnB1c2gocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm11dGF0ZWRQYXJ0cyAmJiBzaWduYWxTdWJzY3JpYmVyc0xhemlseShyZXEubXV0YXRlZFBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKHRibENhY2hlLm9wdGltaXN0aWNPcHMsIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdGVkUmVxID0gYWRqdXN0T3B0aW1pc3RpY0Zyb21GYWlsdXJlcyh0YmxDYWNoZSwgcmVxLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGp1c3RlZFJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLnB1c2goYWRqdXN0ZWRSZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0odGJsQ2FjaGUub3B0aW1pc3RpY09wcywgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5tdXRhdGVkUGFydHMgJiYgc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocmVxLm11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHF1ZXJ5OiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDYWNoYWJsZUNvbnRleHQoUFNELCBkb3duVGFibGUpIHx8ICFpc0NhY2hhYmxlUmVxdWVzdChcInF1ZXJ5XCIsIHJlcSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUucXVlcnkocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJlZXplUmVzdWx0cyA9ICgoX2EgPSBQU0QudHJhbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kYi5fb3B0aW9ucy5jYWNoZSkgPT09ICdpbW11dGFibGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiA9IFBTRCwgcmVxdWVyeSA9IF9iLnJlcXVlcnksIHNpZ25hbCA9IF9iLnNpZ25hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2MgPSBmaW5kQ29tcGF0aWJsZVF1ZXJ5KGRiTmFtZSwgdGFibGVOYW1lLCAncXVlcnknLCByZXEpLCBjYWNoZUVudHJ5ID0gX2NbMF0sIGV4YWN0TWF0Y2ggPSBfY1sxXSwgdGJsQ2FjaGUgPSBfY1syXSwgY29udGFpbmVyID0gX2NbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkgJiYgZXhhY3RNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5Lm9ic1NldCA9IHJlcS5vYnNTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGRvd25UYWJsZS5xdWVyeShyZXEpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlcy5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVFbnRyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5LnJlcyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVlemVSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUocmVzdWx0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlc3VsdCA9IGRlZXBDbG9uZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyICYmIGNhY2hlRW50cnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKGNvbnRhaW5lciwgY2FjaGVFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic1NldDogcmVxLm9ic1NldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyczogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcTogcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlydHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucHVzaChjYWNoZUVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IFtjYWNoZUVudHJ5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGJsQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZSA9IGNhY2hlW1wiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpzOiBuZXcgTWFwKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGltaXN0aWNPcHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25hbGVkUGFydHM6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLnF1ZXJpZXMucXVlcnlbcmVxLnF1ZXJ5LmluZGV4Lm5hbWUgfHwgJyddID0gY29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZVRvQ2FjaGVFbnRyeShjYWNoZUVudHJ5LCBjb250YWluZXIsIHJlcXVlcnksIHNpZ25hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnkucHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXBwbHlPcHRpbWlzdGljT3BzKHJlcy5yZXN1bHQsIHJlcSwgdGJsQ2FjaGUgPT09IG51bGwgfHwgdGJsQ2FjaGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRibENhY2hlLm9wdGltaXN0aWNPcHMsIGRvd25UYWJsZSwgY2FjaGVFbnRyeSwgZnJlZXplUmVzdWx0cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVNVztcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNvcmVNVztcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdmlwaWZ5KHRhcmdldCwgdmlwRGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh0YXJnZXQsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RiJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcERiO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIERleGllJDEgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gRGV4aWUobmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX21pZGRsZXdhcmVzID0ge307XG4gICAgICAgICAgICB0aGlzLnZlcm5vID0gMDtcbiAgICAgICAgICAgIHZhciBkZXBzID0gRGV4aWUuZGVwZW5kZW5jaWVzO1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgPSBfX2Fzc2lnbih7XG4gICAgICAgICAgICAgICAgYWRkb25zOiBEZXhpZS5hZGRvbnMsIGF1dG9PcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluZGV4ZWREQjogZGVwcy5pbmRleGVkREIsIElEQktleVJhbmdlOiBkZXBzLklEQktleVJhbmdlLCBjYWNoZTogJ2Nsb25lZCcgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9kZXBzID0ge1xuICAgICAgICAgICAgICAgIGluZGV4ZWREQjogb3B0aW9ucy5pbmRleGVkREIsXG4gICAgICAgICAgICAgICAgSURCS2V5UmFuZ2U6IG9wdGlvbnMuSURCS2V5UmFuZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgYWRkb25zID0gb3B0aW9ucy5hZGRvbnM7XG4gICAgICAgICAgICB0aGlzLl9kYlNjaGVtYSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fdmVyc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlTmFtZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2FsbFRhYmxlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5pZGJkYiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9ub3ZpcCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgZGJPcGVuRXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgaXNCZWluZ09wZW5lZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25SZWFkeUJlaW5nRmlyZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgb3BlbkNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYlJlYWR5UmVzb2x2ZTogbm9wLFxuICAgICAgICAgICAgICAgIGRiUmVhZHlQcm9taXNlOiBudWxsLFxuICAgICAgICAgICAgICAgIGNhbmNlbE9wZW46IG5vcCxcbiAgICAgICAgICAgICAgICBvcGVuQ2FuY2VsbGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGF1dG9TY2hlbWE6IHRydWUsXG4gICAgICAgICAgICAgICAgUFIxMzk4X21heExvb3A6IDMsXG4gICAgICAgICAgICAgICAgYXV0b09wZW46IG9wdGlvbnMuYXV0b09wZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVByb21pc2UgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0ZS5vcGVuQ2FuY2VsbGVyID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY2FuY2VsT3BlbiA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLm9uID0gRXZlbnRzKHRoaXMsIFwicG9wdWxhdGVcIiwgXCJibG9ja2VkXCIsIFwidmVyc2lvbmNoYW5nZVwiLCBcImNsb3NlXCIsIHsgcmVhZHk6IFtwcm9taXNhYmxlQ2hhaW4sIG5vcF0gfSk7XG4gICAgICAgICAgICB0aGlzLm9uLnJlYWR5LnN1YnNjcmliZSA9IG92ZXJyaWRlKHRoaXMub24ucmVhZHkuc3Vic2NyaWJlLCBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBiU3RpY2t5KSB7XG4gICAgICAgICAgICAgICAgICAgIERleGllLnZpcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBfdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUub3BlbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5kYk9wZW5FcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUoKS50aGVuKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiU3RpY2t5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkLnB1c2goc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJTdGlja3kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGJfMSA9IF90aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYlN0aWNreSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJfMS5vbi5yZWFkeS51bnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiXzEub24ucmVhZHkudW5zdWJzY3JpYmUodW5zdWJzY3JpYmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5Db2xsZWN0aW9uID0gY3JlYXRlQ29sbGVjdGlvbkNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5UYWJsZSA9IGNyZWF0ZVRhYmxlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLlRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb25Db25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuVmVyc2lvbiA9IGNyZWF0ZVZlcnNpb25Db25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuV2hlcmVDbGF1c2UgPSBjcmVhdGVXaGVyZUNsYXVzZUNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbihcInZlcnNpb25jaGFuZ2VcIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2Lm5ld1ZlcnNpb24gPiAwKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbm90aGVyIGNvbm5lY3Rpb24gd2FudHMgdG8gdXBncmFkZSBkYXRhYmFzZSAnXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiJy4gQ2xvc2luZyBkYiBub3cgdG8gcmVzdW1lIHRoZSB1cGdyYWRlLlwiKSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbm90aGVyIGNvbm5lY3Rpb24gd2FudHMgdG8gZGVsZXRlIGRhdGFiYXNlICdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInLiBDbG9zaW5nIGRiIG5vdyB0byByZXN1bWUgdGhlIGRlbGV0ZSByZXF1ZXN0LlwiKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xvc2UoeyBkaXNhYmxlQXV0b09wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uKFwiYmxvY2tlZFwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2Lm5ld1ZlcnNpb24gfHwgZXYubmV3VmVyc2lvbiA8IGV2Lm9sZFZlcnNpb24pXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkRleGllLmRlbGV0ZSgnXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiJykgd2FzIGJsb2NrZWRcIikpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVXBncmFkZSAnXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiJyBibG9ja2VkIGJ5IG90aGVyIGNvbm5lY3Rpb24gaG9sZGluZyB2ZXJzaW9uIFwiKS5jb25jYXQoZXYub2xkVmVyc2lvbiAvIDEwKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX21heEtleSA9IGdldE1heEtleShvcHRpb25zLklEQktleVJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBwYXJlbnRUcmFuc2FjdGlvbikgeyByZXR1cm4gbmV3IF90aGlzLlRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBfdGhpcy5fb3B0aW9ucy5jaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHksIHBhcmVudFRyYW5zYWN0aW9uKTsgfTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVPbkJsb2NrZWQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbihcImJsb2NrZWRcIikuZmlyZShldik7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5uYW1lID09PSBfdGhpcy5uYW1lICYmIGMgIT09IF90aGlzICYmICFjLl9zdGF0ZS52Y0ZpcmVkOyB9KVxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm9uKFwidmVyc2lvbmNoYW5nZVwiKS5maXJlKGV2KTsgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy51c2UoY2FjaGVFeGlzdGluZ1ZhbHVlc01pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2UoY2FjaGVNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHRoaXMudXNlKG9ic2VydmFiaWxpdHlNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHRoaXMudXNlKHZpcnR1YWxJbmRleE1pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2UoaG9va3NNaWRkbGV3YXJlKTtcbiAgICAgICAgICAgIHZhciB2aXBEQiA9IG5ldyBQcm94eSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoXywgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdfdmlwJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3RhYmxlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFibGVOYW1lKSB7IHJldHVybiB2aXBpZnkoX3RoaXMudGFibGUodGFibGVOYW1lKSwgdmlwREIpOyB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcnYgPSBSZWZsZWN0LmdldChfLCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydiBpbnN0YW5jZW9mIFRhYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcGlmeShydiwgdmlwREIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3RhYmxlcycpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnYubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiB2aXBpZnkodCwgdmlwREIpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdfY3JlYXRlVHJhbnNhY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHggPSBydi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXBpZnkodHgsIHZpcERCKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudmlwID0gdmlwREI7XG4gICAgICAgICAgICBhZGRvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWRkb24pIHsgcmV0dXJuIGFkZG9uKF90aGlzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk51bWJlcikge1xuICAgICAgICAgICAgaWYgKGlzTmFOKHZlcnNpb25OdW1iZXIpIHx8IHZlcnNpb25OdW1iZXIgPCAwLjEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVHlwZShcIkdpdmVuIHZlcnNpb24gaXMgbm90IGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgICAgICAgICAgdmVyc2lvbk51bWJlciA9IE1hdGgucm91bmQodmVyc2lvbk51bWJlciAqIDEwKSAvIDEwO1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRiZGIgfHwgdGhpcy5fc3RhdGUuaXNCZWluZ09wZW5lZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJDYW5ub3QgYWRkIHZlcnNpb24gd2hlbiBkYXRhYmFzZSBpcyBvcGVuXCIpO1xuICAgICAgICAgICAgdGhpcy52ZXJubyA9IE1hdGgubWF4KHRoaXMudmVybm8sIHZlcnNpb25OdW1iZXIpO1xuICAgICAgICAgICAgdmFyIHZlcnNpb25zID0gdGhpcy5fdmVyc2lvbnM7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbkluc3RhbmNlID0gdmVyc2lvbnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Ll9jZmcudmVyc2lvbiA9PT0gdmVyc2lvbk51bWJlcjsgfSlbMF07XG4gICAgICAgICAgICBpZiAodmVyc2lvbkluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uSW5zdGFuY2U7XG4gICAgICAgICAgICB2ZXJzaW9uSW5zdGFuY2UgPSBuZXcgdGhpcy5WZXJzaW9uKHZlcnNpb25OdW1iZXIpO1xuICAgICAgICAgICAgdmVyc2lvbnMucHVzaCh2ZXJzaW9uSW5zdGFuY2UpO1xuICAgICAgICAgICAgdmVyc2lvbnMuc29ydChsb3dlclZlcnNpb25GaXJzdCk7XG4gICAgICAgICAgICB2ZXJzaW9uSW5zdGFuY2Uuc3RvcmVzKHt9KTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmF1dG9TY2hlbWEgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uSW5zdGFuY2U7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5fd2hlblJlYWR5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmlkYmRiICYmICh0aGlzLl9zdGF0ZS5vcGVuQ29tcGxldGUgfHwgUFNELmxldFRocm91Z2ggfHwgdGhpcy5fdmlwKSkgPyBmbigpIDogbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zdGF0ZS5vcGVuQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZChfdGhpcy5fc3RhdGUuZGJPcGVuRXJyb3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9zdGF0ZS5hdXRvT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9wZW4oKS5jYXRjaChub3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSkudGhlbihmbik7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IF9hLnN0YWNrLCBjcmVhdGUgPSBfYS5jcmVhdGUsIGxldmVsID0gX2EubGV2ZWwsIG5hbWUgPSBfYS5uYW1lO1xuICAgICAgICAgICAgaWYgKG5hbWUpXG4gICAgICAgICAgICAgICAgdGhpcy51bnVzZSh7IHN0YWNrOiBzdGFjaywgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgICAgIHZhciBtaWRkbGV3YXJlcyA9IHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXSB8fCAodGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdID0gW10pO1xuICAgICAgICAgICAgbWlkZGxld2FyZXMucHVzaCh7IHN0YWNrOiBzdGFjaywgY3JlYXRlOiBjcmVhdGUsIGxldmVsOiBsZXZlbCA9PSBudWxsID8gMTAgOiBsZXZlbCwgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgICAgIG1pZGRsZXdhcmVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEubGV2ZWwgLSBiLmxldmVsOyB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUudW51c2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IF9hLnN0YWNrLCBuYW1lID0gX2EubmFtZSwgY3JlYXRlID0gX2EuY3JlYXRlO1xuICAgICAgICAgICAgaWYgKHN0YWNrICYmIHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXSA9IHRoaXMuX21pZGRsZXdhcmVzW3N0YWNrXS5maWx0ZXIoZnVuY3Rpb24gKG13KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGUgPyBtdy5jcmVhdGUgIT09IGNyZWF0ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID8gbXcubmFtZSAhPT0gbmFtZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHVzZVBTRChnbG9iYWxQU0QsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXhpZU9wZW4oX3RoaXMpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLl9jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICAgICAgdmFyIGlkeCA9IGNvbm5lY3Rpb25zLmluZGV4T2YodGhpcyk7XG4gICAgICAgICAgICBpZiAoaWR4ID49IDApXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pZGJkYikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRiZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgICAgIHRoaXMuaWRiZGIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVByb21pc2UgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuQ2FuY2VsbGVyID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmNhbmNlbE9wZW4gPSByZWplY3Q7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHsgZGlzYWJsZUF1dG9PcGVuOiB0cnVlIH0gOiBfYSwgZGlzYWJsZUF1dG9PcGVuID0gX2IuZGlzYWJsZUF1dG9PcGVuO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZUF1dG9PcGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY2FuY2VsT3BlbihuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hdXRvT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRiT3BlbkVycm9yID0gbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXV0b09wZW4gPSB0aGlzLl9vcHRpb25zLmF1dG9PcGVuIHx8XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzQmVpbmdPcGVuZWQ7XG4gICAgICAgICAgICAgICAgc3RhdGUub3BlbkNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJPcGVuRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGNsb3NlT3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChjbG9zZU9wdGlvbnMgPT09IHZvaWQgMCkgeyBjbG9zZU9wdGlvbnMgPSB7IGRpc2FibGVBdXRvT3BlbjogdHJ1ZSB9OyB9XG4gICAgICAgICAgICB2YXIgaGFzSW52YWxpZEFyZ3VtZW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdvYmplY3QnO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvRGVsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZShjbG9zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gX3RoaXMuX2RlcHMuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKF90aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb25EYXRhYmFzZURlbGV0ZWQoX3RoaXMuX2RlcHMsIF90aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uYmxvY2tlZCA9IF90aGlzLl9maXJlT25CbG9ja2VkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGhhc0ludmFsaWRBcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkludmFsaWQgY2xvc2VPcHRpb25zIGFyZ3VtZW50IHRvIGRiLmRlbGV0ZSgpXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlQcm9taXNlLnRoZW4oZG9EZWxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9EZWxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmJhY2tlbmREQiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkYmRiO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRiZGIgIT09IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5oYXNCZWVuQ2xvc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiT3BlbkVycm9yID0gdGhpcy5fc3RhdGUuZGJPcGVuRXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gZGJPcGVuRXJyb3IgJiYgKGRiT3BlbkVycm9yLm5hbWUgPT09ICdEYXRhYmFzZUNsb3NlZCcpO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuaGFzRmFpbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmRiT3BlbkVycm9yICE9PSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuZHluYW1pY2FsbHlPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuYXV0b1NjaGVtYTtcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERleGllLnByb3RvdHlwZSwgXCJ0YWJsZXNcIiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5cyh0aGlzLl9hbGxUYWJsZXMpLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gX3RoaXMuX2FsbFRhYmxlc1tuYW1lXTsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIERleGllLnByb3RvdHlwZS50cmFuc2FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gZXh0cmFjdFRyYW5zYWN0aW9uQXJncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuX3RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKG1vZGUsIHRhYmxlcywgc2NvcGVGdW5jKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHBhcmVudFRyYW5zYWN0aW9uID0gUFNELnRyYW5zO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnRUcmFuc2FjdGlvbiB8fCBwYXJlbnRUcmFuc2FjdGlvbi5kYiAhPT0gdGhpcyB8fCBtb2RlLmluZGV4T2YoJyEnKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgdmFyIG9ubHlJZkNvbXBhdGlibGUgPSBtb2RlLmluZGV4T2YoJz8nKSAhPT0gLTE7XG4gICAgICAgICAgICBtb2RlID0gbW9kZS5yZXBsYWNlKCchJywgJycpLnJlcGxhY2UoJz8nLCAnJyk7XG4gICAgICAgICAgICB2YXIgaWRiTW9kZSwgc3RvcmVOYW1lcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RvcmVOYW1lcyA9IHRhYmxlcy5tYXAoZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSB0YWJsZSBpbnN0YW5jZW9mIF90aGlzLlRhYmxlID8gdGFibGUubmFtZSA6IHRhYmxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlTmFtZSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB0YWJsZSBhcmd1bWVudCB0byBEZXhpZS50cmFuc2FjdGlvbigpLiBPbmx5IFRhYmxlIG9yIFN0cmluZyBhcmUgYWxsb3dlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlTmFtZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PSBcInJcIiB8fCBtb2RlID09PSBSRUFET05MWSlcbiAgICAgICAgICAgICAgICAgICAgaWRiTW9kZSA9IFJFQURPTkxZO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gXCJyd1wiIHx8IG1vZGUgPT0gUkVBRFdSSVRFKVxuICAgICAgICAgICAgICAgICAgICBpZGJNb2RlID0gUkVBRFdSSVRFO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiSW52YWxpZCB0cmFuc2FjdGlvbiBtb2RlOiBcIiArIG1vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24ubW9kZSA9PT0gUkVBRE9OTFkgJiYgaWRiTW9kZSA9PT0gUkVBRFdSSVRFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob25seUlmQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TdWJUcmFuc2FjdGlvbihcIkNhbm5vdCBlbnRlciBhIHN1Yi10cmFuc2FjdGlvbiB3aXRoIFJFQURXUklURSBtb2RlIHdoZW4gcGFyZW50IHRyYW5zYWN0aW9uIGlzIFJFQURPTkxZXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24gJiYgcGFyZW50VHJhbnNhY3Rpb24uc3RvcmVOYW1lcy5pbmRleE9mKHN0b3JlTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmx5SWZDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU3ViVHJhbnNhY3Rpb24oXCJUYWJsZSBcIiArIHN0b3JlTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgbm90IGluY2x1ZGVkIGluIHBhcmVudCB0cmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ubHlJZkNvbXBhdGlibGUgJiYgcGFyZW50VHJhbnNhY3Rpb24gJiYgIXBhcmVudFRyYW5zYWN0aW9uLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50VHJhbnNhY3Rpb24gP1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbi5fcHJvbWlzZShudWxsLCBmdW5jdGlvbiAoXywgcmVqZWN0KSB7IHJlamVjdChlKTsgfSkgOlxuICAgICAgICAgICAgICAgICAgICByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZW50ZXJUcmFuc2FjdGlvbiA9IGVudGVyVHJhbnNhY3Rpb25TY29wZS5iaW5kKG51bGwsIHRoaXMsIGlkYk1vZGUsIHN0b3JlTmFtZXMsIHBhcmVudFRyYW5zYWN0aW9uLCBzY29wZUZ1bmMpO1xuICAgICAgICAgICAgcmV0dXJuIChwYXJlbnRUcmFuc2FjdGlvbiA/XG4gICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24uX3Byb21pc2UoaWRiTW9kZSwgZW50ZXJUcmFuc2FjdGlvbiwgXCJsb2NrXCIpIDpcbiAgICAgICAgICAgICAgICBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgICAgICB1c2VQU0QoUFNELnRyYW5zbGVzcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3doZW5SZWFkeShlbnRlclRyYW5zYWN0aW9uKTsgfSkgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93aGVuUmVhZHkoZW50ZXJUcmFuc2FjdGlvbikpO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWhhc093bih0aGlzLl9hbGxUYWJsZXMsIHRhYmxlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkVGFibGUoXCJUYWJsZSBcIi5jb25jYXQodGFibGVOYW1lLCBcIiBkb2VzIG5vdCBleGlzdFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsVGFibGVzW3RhYmxlTmFtZV07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBEZXhpZTtcbiAgICB9KCkpO1xuXG4gICAgdmFyIHN5bWJvbE9ic2VydmFibGUgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFwib2JzZXJ2YWJsZVwiIGluIFN5bWJvbFxuICAgICAgICA/IFN5bWJvbC5vYnNlcnZhYmxlXG4gICAgICAgIDogXCJAQG9ic2VydmFibGVcIjtcbiAgICB2YXIgT2JzZXJ2YWJsZSA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uICh4LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoIXggfHwgdHlwZW9mIHggPT09IFwiZnVuY3Rpb25cIiA/IHsgbmV4dDogeCwgZXJyb3I6IGVycm9yLCBjb21wbGV0ZTogY29tcGxldGUgfSA6IHgpO1xuICAgICAgICB9O1xuICAgICAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtzeW1ib2xPYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbiAgICB9KCkpO1xuXG4gICAgdmFyIGRvbURlcHM7XG4gICAgdHJ5IHtcbiAgICAgICAgZG9tRGVwcyA9IHtcbiAgICAgICAgICAgIGluZGV4ZWREQjogX2dsb2JhbC5pbmRleGVkREIgfHwgX2dsb2JhbC5tb3pJbmRleGVkREIgfHwgX2dsb2JhbC53ZWJraXRJbmRleGVkREIgfHwgX2dsb2JhbC5tc0luZGV4ZWREQixcbiAgICAgICAgICAgIElEQktleVJhbmdlOiBfZ2xvYmFsLklEQktleVJhbmdlIHx8IF9nbG9iYWwud2Via2l0SURCS2V5UmFuZ2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZG9tRGVwcyA9IHsgaW5kZXhlZERCOiBudWxsLCBJREJLZXlSYW5nZTogbnVsbCB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpdmVRdWVyeShxdWVyaWVyKSB7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlO1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIHNjb3BlRnVuY0lzQXN5bmMgPSBpc0FzeW5jRnVuY3Rpb24ocXVlcmllcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBleGVjdXRlKGN0eCkge1xuICAgICAgICAgICAgICAgIHZhciB3YXNSb290RXhlYyA9IGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcnYgPSBuZXdTY29wZShxdWVyaWVyLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnYgPSBydi5maW5hbGx5KGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB3YXNSb290RXhlYyAmJiBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhYm9ydENvbnRyb2xsZXI7XG4gICAgICAgICAgICB2YXIgYWNjdW1NdXRzID0ge307XG4gICAgICAgICAgICB2YXIgY3VycmVudE9icyA9IHt9O1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBnZXQgY2xvc2VkKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VkO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRlZExpc3RlbmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5zdG9yYWdlbXV0YXRlZC51bnN1YnNjcmliZShtdXRhdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9ic2VydmVyLnN0YXJ0ICYmIG9ic2VydmVyLnN0YXJ0KHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB2YXIgc3RhcnRlZExpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGRvUXVlcnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBleGVjSW5HbG9iYWxDb250ZXh0KF9kb1F1ZXJ5KTsgfTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3VsZE5vdGlmeSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzU2V0c092ZXJsYXAoY3VycmVudE9icywgYWNjdW1NdXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtdXRhdGlvbkxpc3RlbmVyID0gZnVuY3Rpb24gKHBhcnRzKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldChhY2N1bU11dHMsIHBhcnRzKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkTm90aWZ5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9RdWVyeSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgX2RvUXVlcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlZCB8fFxuICAgICAgICAgICAgICAgICAgICAhZG9tRGVwcy5pbmRleGVkREIpXG4gICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhY2N1bU11dHMgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgc3Vic2NyID0ge307XG4gICAgICAgICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcilcbiAgICAgICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcjogc3Vic2NyLFxuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlcnk6IGRvUXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXI6IHF1ZXJpZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gZXhlY3V0ZShjdHgpO1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShyZXQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZCB8fCBjdHguc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY2N1bU11dHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9icyA9IHN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmplY3RJc0VtcHR5KGN1cnJlbnRPYnMpICYmICFzdGFydGVkTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUsIG11dGF0aW9uTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRlZExpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhlY0luR2xvYmFsQ29udGV4dChmdW5jdGlvbiAoKSB7IHJldHVybiAhY2xvc2VkICYmIG9ic2VydmVyLm5leHQgJiYgb2JzZXJ2ZXIubmV4dChyZXN1bHQpOyB9KTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghWydEYXRhYmFzZUNsb3NlZEVycm9yJywgJ0Fib3J0RXJyb3InXS5pbmNsdWRlcyhlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnIubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xvc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNJbkdsb2JhbENvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvciAmJiBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2V0VGltZW91dChkb1F1ZXJ5LCAwKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZhYmxlLmhhc1ZhbHVlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaGFzVmFsdWU7IH07XG4gICAgICAgIG9ic2VydmFibGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjdXJyZW50VmFsdWU7IH07XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH1cblxuICAgIHZhciBEZXhpZSA9IERleGllJDE7XG4gICAgcHJvcHMoRGV4aWUsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBmdWxsTmFtZUV4Y2VwdGlvbnMpLCB7XG4gICAgICAgIGRlbGV0ZTogZnVuY3Rpb24gKGRhdGFiYXNlTmFtZSkge1xuICAgICAgICAgICAgdmFyIGRiID0gbmV3IERleGllKGRhdGFiYXNlTmFtZSwgeyBhZGRvbnM6IFtdIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRiLmRlbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBleGlzdHM6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllKG5hbWUsIHsgYWRkb25zOiBbXSB9KS5vcGVuKCkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSkuY2F0Y2goJ05vU3VjaERhdGFiYXNlRXJyb3InLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldERhdGFiYXNlTmFtZXM6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGF0YWJhc2VOYW1lcyhEZXhpZS5kZXBlbmRlbmNpZXMpLnRoZW4oY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWZpbmVDbGFzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gQ2xhc3MoY29udGVudCkge1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBDbGFzcztcbiAgICAgICAgfSwgaWdub3JlVHJhbnNhY3Rpb246IGZ1bmN0aW9uIChzY29wZUZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgIHVzZVBTRChQU0QudHJhbnNsZXNzLCBzY29wZUZ1bmMpIDpcbiAgICAgICAgICAgICAgICBzY29wZUZ1bmMoKTtcbiAgICAgICAgfSwgdmlwOiB2aXAsIGFzeW5jOiBmdW5jdGlvbiAoZ2VuZXJhdG9yRm4pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gYXdhaXRJdGVyYXRvcihnZW5lcmF0b3JGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFydiB8fCB0eXBlb2YgcnYudGhlbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShydik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBzcGF3bjogZnVuY3Rpb24gKGdlbmVyYXRvckZuLCBhcmdzLCB0aGl6KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBydiA9IGF3YWl0SXRlcmF0b3IoZ2VuZXJhdG9yRm4uYXBwbHkodGhpeiwgYXJncyB8fCBbXSkpO1xuICAgICAgICAgICAgICAgIGlmICghcnYgfHwgdHlwZW9mIHJ2LnRoZW4gIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShydik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50VHJhbnNhY3Rpb246IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUFNELnRyYW5zIHx8IG51bGw7IH1cbiAgICAgICAgfSwgd2FpdEZvcjogZnVuY3Rpb24gKHByb21pc2VPckZ1bmN0aW9uLCBvcHRpb25hbFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gRGV4aWVQcm9taXNlLnJlc29sdmUodHlwZW9mIHByb21pc2VPckZ1bmN0aW9uID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICBEZXhpZS5pZ25vcmVUcmFuc2FjdGlvbihwcm9taXNlT3JGdW5jdGlvbikgOlxuICAgICAgICAgICAgICAgIHByb21pc2VPckZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgIC50aW1lb3V0KG9wdGlvbmFsVGltZW91dCB8fCA2MDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICBQU0QudHJhbnMud2FpdEZvcihwcm9taXNlKSA6XG4gICAgICAgICAgICAgICAgcHJvbWlzZTtcbiAgICAgICAgfSxcbiAgICAgICAgUHJvbWlzZTogRGV4aWVQcm9taXNlLFxuICAgICAgICBkZWJ1Zzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWJ1ZzsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0RGVidWcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXJpdmU6IGRlcml2ZSwgZXh0ZW5kOiBleHRlbmQsIHByb3BzOiBwcm9wcywgb3ZlcnJpZGU6IG92ZXJyaWRlLFxuICAgICAgICBFdmVudHM6IEV2ZW50cywgb246IGdsb2JhbEV2ZW50cywgbGl2ZVF1ZXJ5OiBsaXZlUXVlcnksIGV4dGVuZE9ic2VydmFiaWxpdHlTZXQ6IGV4dGVuZE9ic2VydmFiaWxpdHlTZXQsXG4gICAgICAgIGdldEJ5S2V5UGF0aDogZ2V0QnlLZXlQYXRoLCBzZXRCeUtleVBhdGg6IHNldEJ5S2V5UGF0aCwgZGVsQnlLZXlQYXRoOiBkZWxCeUtleVBhdGgsIHNoYWxsb3dDbG9uZTogc2hhbGxvd0Nsb25lLCBkZWVwQ2xvbmU6IGRlZXBDbG9uZSwgZ2V0T2JqZWN0RGlmZjogZ2V0T2JqZWN0RGlmZiwgY21wOiBjbXAsIGFzYXA6IGFzYXAkMSxcbiAgICAgICAgbWluS2V5OiBtaW5LZXksXG4gICAgICAgIGFkZG9uczogW10sXG4gICAgICAgIGNvbm5lY3Rpb25zOiBjb25uZWN0aW9ucyxcbiAgICAgICAgZXJybmFtZXM6IGVycm5hbWVzLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IGRvbURlcHMsIGNhY2hlOiBjYWNoZSxcbiAgICAgICAgc2VtVmVyOiBERVhJRV9WRVJTSU9OLCB2ZXJzaW9uOiBERVhJRV9WRVJTSU9OLnNwbGl0KCcuJylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHBhcnNlSW50KG4pOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAocCwgYywgaSkgeyByZXR1cm4gcCArIChjIC8gTWF0aC5wb3coMTAsIGkgKiAyKSk7IH0pIH0pKTtcbiAgICBEZXhpZS5tYXhLZXkgPSBnZXRNYXhLZXkoRGV4aWUuZGVwZW5kZW5jaWVzLklEQktleVJhbmdlKTtcblxuICAgIGlmICh0eXBlb2YgZGlzcGF0Y2hFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGdsb2JhbEV2ZW50cyhERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSwgZnVuY3Rpb24gKHVwZGF0ZWRQYXJ0cykge1xuICAgICAgICAgICAgaWYgKCFwcm9wYWdhdGluZ0xvY2FsbHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMTtcbiAgICAgICAgICAgICAgICBldmVudF8xID0gbmV3IEN1c3RvbUV2ZW50KFNUT1JBR0VfTVVUQVRFRF9ET01fRVZFTlRfTkFNRSwge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHVwZGF0ZWRQYXJ0c1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0aW5nTG9jYWxseSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudF8xKTtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGluZ0xvY2FsbHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBkZXRhaWwgPSBfYS5kZXRhaWw7XG4gICAgICAgICAgICBpZiAoIXByb3BhZ2F0aW5nTG9jYWxseSkge1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUxvY2FsbHkoZGV0YWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZUxvY2FsbHkodXBkYXRlUGFydHMpIHtcbiAgICAgICAgdmFyIHdhc01lID0gcHJvcGFnYXRpbmdMb2NhbGx5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcHJvcGFnYXRpbmdMb2NhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5zdG9yYWdlbXV0YXRlZC5maXJlKHVwZGF0ZVBhcnRzKTtcbiAgICAgICAgICAgIHNpZ25hbFN1YnNjcmliZXJzTm93KHVwZGF0ZVBhcnRzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHByb3BhZ2F0aW5nTG9jYWxseSA9IHdhc01lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBwcm9wYWdhdGluZ0xvY2FsbHkgPSBmYWxzZTtcblxuICAgIHZhciBiYztcbiAgICB2YXIgY3JlYXRlQkMgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgaWYgKHR5cGVvZiBCcm9hZGNhc3RDaGFubmVsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjcmVhdGVCQyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJjID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FKTtcbiAgICAgICAgICAgIGJjLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldikgeyByZXR1cm4gZXYuZGF0YSAmJiBwcm9wYWdhdGVMb2NhbGx5KGV2LmRhdGEpOyB9O1xuICAgICAgICB9O1xuICAgICAgICBjcmVhdGVCQygpO1xuICAgICAgICBpZiAodHlwZW9mIGJjLnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBiYy51bnJlZigpO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbEV2ZW50cyhERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSwgZnVuY3Rpb24gKGNoYW5nZWRQYXJ0cykge1xuICAgICAgICAgICAgaWYgKCFwcm9wYWdhdGluZ0xvY2FsbHkpIHtcbiAgICAgICAgICAgICAgICBiYy5wb3N0TWVzc2FnZShjaGFuZ2VkUGFydHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VoaWRlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIURleGllJDEuZGlzYWJsZUJmQ2FjaGUgJiYgZXZlbnQucGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEZXhpZTogaGFuZGxpbmcgcGVyc2lzdGVkIHBhZ2VoaWRlJyk7XG4gICAgICAgICAgICAgICAgYmMgPT09IG51bGwgfHwgYmMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJjLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBjb25uZWN0aW9uc18xID0gY29ubmVjdGlvbnM7IF9pIDwgY29ubmVjdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gY29ubmVjdGlvbnNfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlc2hvdycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCFEZXhpZSQxLmRpc2FibGVCZkNhY2hlICYmIGV2ZW50LnBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRGV4aWU6IGhhbmRsaW5nIHBlcnNpc3RlZCBwYWdlc2hvdycpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZUJDKCk7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRlTG9jYWxseSh7IGFsbDogbmV3IFJhbmdlU2V0KC1JbmZpbml0eSwgW1tdXSkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BNb2RpZmljYXRpb24oeyBhZGQ6IHZhbHVlIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BNb2RpZmljYXRpb24oeyByZW1vdmU6IHZhbHVlIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VQcmVmaXgoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BNb2RpZmljYXRpb24oeyByZXBsYWNlUHJlZml4OiBbYSwgYl0gfSk7XG4gICAgfVxuXG4gICAgRGV4aWVQcm9taXNlLnJlamVjdGlvbk1hcHBlciA9IG1hcEVycm9yO1xuICAgIHNldERlYnVnKGRlYnVnKTtcblxuICAgIHZhciBuYW1lZEV4cG9ydHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICAgICAgRGV4aWU6IERleGllJDEsXG4gICAgICAgIGxpdmVRdWVyeTogbGl2ZVF1ZXJ5LFxuICAgICAgICBFbnRpdHk6IEVudGl0eSxcbiAgICAgICAgY21wOiBjbXAsXG4gICAgICAgIFByb3BNb2RpZmljYXRpb246IFByb3BNb2RpZmljYXRpb24sXG4gICAgICAgIHJlcGxhY2VQcmVmaXg6IHJlcGxhY2VQcmVmaXgsXG4gICAgICAgIGFkZDogYWRkLFxuICAgICAgICByZW1vdmU6IHJlbW92ZSxcbiAgICAgICAgJ2RlZmF1bHQnOiBEZXhpZSQxLFxuICAgICAgICBSYW5nZVNldDogUmFuZ2VTZXQsXG4gICAgICAgIG1lcmdlUmFuZ2VzOiBtZXJnZVJhbmdlcyxcbiAgICAgICAgcmFuZ2VzT3ZlcmxhcDogcmFuZ2VzT3ZlcmxhcFxuICAgIH0pO1xuXG4gICAgX19hc3NpZ24oRGV4aWUkMSwgbmFtZWRFeHBvcnRzLCB7IGRlZmF1bHQ6IERleGllJDEgfSk7XG5cbiAgICByZXR1cm4gRGV4aWUkMTtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV4aWUuanMubWFwXG4iLCIvLyBNYWtpbmcgdGhlIG1vZHVsZSB2ZXJzaW9uIGNvbnN1bWFibGUgdmlhIHJlcXVpcmUgLSB0byBwcm9oaWJpdFxuLy8gbXVsdGlwbGUgb2NjdXJyYW5jaWVzIG9mIHRoZSBzYW1lIG1vZHVsZSBpbiB0aGUgc2FtZSBhcHBcbi8vIChkdWFsIHBhY2thZ2UgaGF6YXJkLCBodHRwczovL25vZGVqcy5vcmcvYXBpL3BhY2thZ2VzLmh0bWwjZHVhbC1wYWNrYWdlLWhhemFyZClcbmltcG9ydCBfRGV4aWUgZnJvbSBcIi4vZGlzdC9kZXhpZS5qc1wiO1xuY29uc3QgRGV4aWVTeW1ib2wgPSBTeW1ib2wuZm9yKFwiRGV4aWVcIik7XG5jb25zdCBEZXhpZSA9IGdsb2JhbFRoaXNbRGV4aWVTeW1ib2xdIHx8IChnbG9iYWxUaGlzW0RleGllU3ltYm9sXSA9IF9EZXhpZSk7XG5pZiAoX0RleGllLnNlbVZlciAhPT0gRGV4aWUuc2VtVmVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUd28gZGlmZmVyZW50IHZlcnNpb25zIG9mIERleGllIGxvYWRlZCBpbiB0aGUgc2FtZSBhcHA6ICR7X0RleGllLnNlbVZlcn0gYW5kICR7RGV4aWUuc2VtVmVyfWApO1xufVxuY29uc3QgeyBsaXZlUXVlcnksIG1lcmdlUmFuZ2VzLCByYW5nZXNPdmVybGFwLCBSYW5nZVNldCwgY21wLCBFbnRpdHksXG4gICAgUHJvcE1vZGlmaWNhdGlvbiwgcmVwbGFjZVByZWZpeCwgYWRkLCByZW1vdmUgfSA9IERleGllO1xuZXhwb3J0IHsgbGl2ZVF1ZXJ5LCBtZXJnZVJhbmdlcywgcmFuZ2VzT3ZlcmxhcCwgUmFuZ2VTZXQsIGNtcCwgRGV4aWUsIEVudGl0eSxcbiAgICBQcm9wTW9kaWZpY2F0aW9uLCByZXBsYWNlUHJlZml4LCBhZGQsIHJlbW92ZSB9O1xuZXhwb3J0IGRlZmF1bHQgRGV4aWU7XG4iLCJpbXBvcnQgZSBmcm9tXCJ2b2lkLWVsZW1lbnRzXCI7dmFyIHQ9L1xccyhbXidcIi9cXHM+PF0rPylbXFxzLz5dfChbXlxccz1dKyk9XFxzPyhcIi4qP1wifCcuKj8nKS9nO2Z1bmN0aW9uIG4obil7dmFyIHI9e3R5cGU6XCJ0YWdcIixuYW1lOlwiXCIsdm9pZEVsZW1lbnQ6ITEsYXR0cnM6e30sY2hpbGRyZW46W119LGk9bi5tYXRjaCgvPFxcLz8oW15cXHNdKz8pWy9cXHM+XS8pO2lmKGkmJihyLm5hbWU9aVsxXSwoZVtpWzFdXXx8XCIvXCI9PT1uLmNoYXJBdChuLmxlbmd0aC0yKSkmJihyLnZvaWRFbGVtZW50PSEwKSxyLm5hbWUuc3RhcnRzV2l0aChcIiEtLVwiKSkpe3ZhciBzPW4uaW5kZXhPZihcIi0tXFx4M2VcIik7cmV0dXJue3R5cGU6XCJjb21tZW50XCIsY29tbWVudDotMSE9PXM/bi5zbGljZSg0LHMpOlwiXCJ9fWZvcih2YXIgYT1uZXcgUmVnRXhwKHQpLGM9bnVsbDtudWxsIT09KGM9YS5leGVjKG4pKTspaWYoY1swXS50cmltKCkpaWYoY1sxXSl7dmFyIG89Y1sxXS50cmltKCksbD1bbyxcIlwiXTtvLmluZGV4T2YoXCI9XCIpPi0xJiYobD1vLnNwbGl0KFwiPVwiKSksci5hdHRyc1tsWzBdXT1sWzFdLGEubGFzdEluZGV4LS19ZWxzZSBjWzJdJiYoci5hdHRyc1tjWzJdXT1jWzNdLnRyaW0oKS5zdWJzdHJpbmcoMSxjWzNdLmxlbmd0aC0xKSk7cmV0dXJuIHJ9dmFyIHI9LzxbYS16QS1aMC05XFwtXFwhXFwvXSg/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIj5dKSo+L2csaT0vXlxccyokLyxzPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gYShlLHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInRleHRcIjpyZXR1cm4gZSt0LmNvbnRlbnQ7Y2FzZVwidGFnXCI6cmV0dXJuIGUrPVwiPFwiK3QubmFtZSsodC5hdHRycz9mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2gobisnPVwiJytlW25dKydcIicpO3JldHVybiB0Lmxlbmd0aD9cIiBcIit0LmpvaW4oXCIgXCIpOlwiXCJ9KHQuYXR0cnMpOlwiXCIpKyh0LnZvaWRFbGVtZW50P1wiLz5cIjpcIj5cIiksdC52b2lkRWxlbWVudD9lOmUrdC5jaGlsZHJlbi5yZWR1Y2UoYSxcIlwiKStcIjwvXCIrdC5uYW1lK1wiPlwiO2Nhc2VcImNvbW1lbnRcIjpyZXR1cm4gZStcIlxceDNjIS0tXCIrdC5jb21tZW50K1wiLS1cXHgzZVwifX12YXIgYz17cGFyc2U6ZnVuY3Rpb24oZSx0KXt0fHwodD17fSksdC5jb21wb25lbnRzfHwodC5jb21wb25lbnRzPXMpO3ZhciBhLGM9W10sbz1bXSxsPS0xLG09ITE7aWYoMCE9PWUuaW5kZXhPZihcIjxcIikpe3ZhciB1PWUuaW5kZXhPZihcIjxcIik7Yy5wdXNoKHt0eXBlOlwidGV4dFwiLGNvbnRlbnQ6LTE9PT11P2U6ZS5zdWJzdHJpbmcoMCx1KX0pfXJldHVybiBlLnJlcGxhY2UocixmdW5jdGlvbihyLHMpe2lmKG0pe2lmKHIhPT1cIjwvXCIrYS5uYW1lK1wiPlwiKXJldHVybjttPSExfXZhciB1LGY9XCIvXCIhPT1yLmNoYXJBdCgxKSxoPXIuc3RhcnRzV2l0aChcIlxceDNjIS0tXCIpLHA9cytyLmxlbmd0aCxkPWUuY2hhckF0KHApO2lmKGgpe3ZhciB2PW4ocik7cmV0dXJuIGw8MD8oYy5wdXNoKHYpLGMpOigodT1vW2xdKS5jaGlsZHJlbi5wdXNoKHYpLGMpfWlmKGYmJihsKyssXCJ0YWdcIj09PShhPW4ocikpLnR5cGUmJnQuY29tcG9uZW50c1thLm5hbWVdJiYoYS50eXBlPVwiY29tcG9uZW50XCIsbT0hMCksYS52b2lkRWxlbWVudHx8bXx8IWR8fFwiPFwiPT09ZHx8YS5jaGlsZHJlbi5wdXNoKHt0eXBlOlwidGV4dFwiLGNvbnRlbnQ6ZS5zbGljZShwLGUuaW5kZXhPZihcIjxcIixwKSl9KSwwPT09bCYmYy5wdXNoKGEpLCh1PW9bbC0xXSkmJnUuY2hpbGRyZW4ucHVzaChhKSxvW2xdPWEpLCghZnx8YS52b2lkRWxlbWVudCkmJihsPi0xJiYoYS52b2lkRWxlbWVudHx8YS5uYW1lPT09ci5zbGljZSgyLC0xKSkmJihsLS0sYT0tMT09PWw/YzpvW2xdKSwhbSYmXCI8XCIhPT1kJiZkKSl7dT0tMT09PWw/YzpvW2xdLmNoaWxkcmVuO3ZhciB4PWUuaW5kZXhPZihcIjxcIixwKSxnPWUuc2xpY2UocCwtMT09PXg/dm9pZCAwOngpO2kudGVzdChnKSYmKGc9XCIgXCIpLCh4Pi0xJiZsK3UubGVuZ3RoPj0wfHxcIiBcIiE9PWcpJiZ1LnB1c2goe3R5cGU6XCJ0ZXh0XCIsY29udGVudDpnfSl9fSksY30sc3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK2EoXCJcIix0KX0sXCJcIil9fTtleHBvcnQgZGVmYXVsdCBjO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRtbC1wYXJzZS1zdHJpbmdpZnkubW9kdWxlLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBpc1N0cmluZyA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbmNvbnN0IGRlZmVyID0gKCkgPT4ge1xuICBsZXQgcmVzO1xuICBsZXQgcmVqO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlcyA9IHJlc29sdmU7XG4gICAgcmVqID0gcmVqZWN0O1xuICB9KTtcbiAgcHJvbWlzZS5yZXNvbHZlID0gcmVzO1xuICBwcm9taXNlLnJlamVjdCA9IHJlajtcbiAgcmV0dXJuIHByb21pc2U7XG59O1xuY29uc3QgbWFrZVN0cmluZyA9IG9iamVjdCA9PiB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICcnO1xuICByZXR1cm4gJycgKyBvYmplY3Q7XG59O1xuY29uc3QgY29weSA9IChhLCBzLCB0KSA9PiB7XG4gIGEuZm9yRWFjaChtID0+IHtcbiAgICBpZiAoc1ttXSkgdFttXSA9IHNbbV07XG4gIH0pO1xufTtcbmNvbnN0IGxhc3RPZlBhdGhTZXBhcmF0b3JSZWdFeHAgPSAvIyMjL2c7XG5jb25zdCBjbGVhbktleSA9IGtleSA9PiBrZXkgJiYga2V5LmluZGV4T2YoJyMjIycpID4gLTEgPyBrZXkucmVwbGFjZShsYXN0T2ZQYXRoU2VwYXJhdG9yUmVnRXhwLCAnLicpIDoga2V5O1xuY29uc3QgY2FuTm90VHJhdmVyc2VEZWVwZXIgPSBvYmplY3QgPT4gIW9iamVjdCB8fCBpc1N0cmluZyhvYmplY3QpO1xuY29uc3QgZ2V0TGFzdE9mUGF0aCA9IChvYmplY3QsIHBhdGgsIEVtcHR5KSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gIWlzU3RyaW5nKHBhdGgpID8gcGF0aCA6IHBhdGguc3BsaXQoJy4nKTtcbiAgbGV0IHN0YWNrSW5kZXggPSAwO1xuICB3aGlsZSAoc3RhY2tJbmRleCA8IHN0YWNrLmxlbmd0aCAtIDEpIHtcbiAgICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIob2JqZWN0KSkgcmV0dXJuIHt9O1xuICAgIGNvbnN0IGtleSA9IGNsZWFuS2V5KHN0YWNrW3N0YWNrSW5kZXhdKTtcbiAgICBpZiAoIW9iamVjdFtrZXldICYmIEVtcHR5KSBvYmplY3Rba2V5XSA9IG5ldyBFbXB0eSgpO1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0ID0ge307XG4gICAgfVxuICAgICsrc3RhY2tJbmRleDtcbiAgfVxuICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIob2JqZWN0KSkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIG9iajogb2JqZWN0LFxuICAgIGs6IGNsZWFuS2V5KHN0YWNrW3N0YWNrSW5kZXhdKVxuICB9O1xufTtcbmNvbnN0IHNldFBhdGggPSAob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpO1xuICBpZiAob2JqICE9PSB1bmRlZmluZWQgfHwgcGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICBvYmpba10gPSBuZXdWYWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGUgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIGxldCBwID0gcGF0aC5zbGljZSgwLCBwYXRoLmxlbmd0aCAtIDEpO1xuICBsZXQgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICB3aGlsZSAobGFzdC5vYmogPT09IHVuZGVmaW5lZCAmJiBwLmxlbmd0aCkge1xuICAgIGUgPSBgJHtwW3AubGVuZ3RoIC0gMV19LiR7ZX1gO1xuICAgIHAgPSBwLnNsaWNlKDAsIHAubGVuZ3RoIC0gMSk7XG4gICAgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICAgIGlmIChsYXN0ICYmIGxhc3Qub2JqICYmIHR5cGVvZiBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxhc3Qub2JqID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSA9IG5ld1ZhbHVlO1xufTtcbmNvbnN0IHB1c2hQYXRoID0gKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUsIGNvbmNhdCkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpO1xuICBvYmpba10gPSBvYmpba10gfHwgW107XG4gIG9ialtrXS5wdXNoKG5ld1ZhbHVlKTtcbn07XG5jb25zdCBnZXRQYXRoID0gKG9iamVjdCwgcGF0aCkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoKTtcbiAgaWYgKCFvYmopIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBvYmpba107XG59O1xuY29uc3QgZ2V0UGF0aFdpdGhEZWZhdWx0cyA9IChkYXRhLCBkZWZhdWx0RGF0YSwga2V5KSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZ2V0UGF0aChkYXRhLCBrZXkpO1xuICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gZ2V0UGF0aChkZWZhdWx0RGF0YSwga2V5KTtcbn07XG5jb25zdCBkZWVwRXh0ZW5kID0gKHRhcmdldCwgc291cmNlLCBvdmVyd3JpdGUpID0+IHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIGlmIChwcm9wICE9PSAnX19wcm90b19fJyAmJiBwcm9wICE9PSAnY29uc3RydWN0b3InKSB7XG4gICAgICBpZiAocHJvcCBpbiB0YXJnZXQpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHRhcmdldFtwcm9wXSkgfHwgdGFyZ2V0W3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nIHx8IGlzU3RyaW5nKHNvdXJjZVtwcm9wXSkgfHwgc291cmNlW3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgICAgaWYgKG92ZXJ3cml0ZSkgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0sIG92ZXJ3cml0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCByZWdleEVzY2FwZSA9IHN0ciA9PiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcbnZhciBfZW50aXR5TWFwID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnLFxuICAnLyc6ICcmI3gyRjsnXG59O1xuY29uc3QgZXNjYXBlID0gZGF0YSA9PiB7XG4gIGlmIChpc1N0cmluZyhkYXRhKSkge1xuICAgIHJldHVybiBkYXRhLnJlcGxhY2UoL1smPD5cIidcXC9dL2csIHMgPT4gX2VudGl0eU1hcFtzXSk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59O1xuY2xhc3MgUmVnRXhwQ2FjaGUge1xuICBjb25zdHJ1Y3RvcihjYXBhY2l0eSkge1xuICAgIHRoaXMuY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICB0aGlzLnJlZ0V4cE1hcCA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlZ0V4cFF1ZXVlID0gW107XG4gIH1cbiAgZ2V0UmVnRXhwKHBhdHRlcm4pIHtcbiAgICBjb25zdCByZWdFeHBGcm9tQ2FjaGUgPSB0aGlzLnJlZ0V4cE1hcC5nZXQocGF0dGVybik7XG4gICAgaWYgKHJlZ0V4cEZyb21DYWNoZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcmVnRXhwRnJvbUNhY2hlO1xuICAgIH1cbiAgICBjb25zdCByZWdFeHBOZXcgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgIGlmICh0aGlzLnJlZ0V4cFF1ZXVlLmxlbmd0aCA9PT0gdGhpcy5jYXBhY2l0eSkge1xuICAgICAgdGhpcy5yZWdFeHBNYXAuZGVsZXRlKHRoaXMucmVnRXhwUXVldWUuc2hpZnQoKSk7XG4gICAgfVxuICAgIHRoaXMucmVnRXhwTWFwLnNldChwYXR0ZXJuLCByZWdFeHBOZXcpO1xuICAgIHRoaXMucmVnRXhwUXVldWUucHVzaChwYXR0ZXJuKTtcbiAgICByZXR1cm4gcmVnRXhwTmV3O1xuICB9XG59XG5jb25zdCBjaGFycyA9IFsnICcsICcsJywgJz8nLCAnIScsICc7J107XG5jb25zdCBsb29rc0xpa2VPYmplY3RQYXRoUmVnRXhwQ2FjaGUgPSBuZXcgUmVnRXhwQ2FjaGUoMjApO1xuY29uc3QgbG9va3NMaWtlT2JqZWN0UGF0aCA9IChrZXksIG5zU2VwYXJhdG9yLCBrZXlTZXBhcmF0b3IpID0+IHtcbiAgbnNTZXBhcmF0b3IgPSBuc1NlcGFyYXRvciB8fCAnJztcbiAga2V5U2VwYXJhdG9yID0ga2V5U2VwYXJhdG9yIHx8ICcnO1xuICBjb25zdCBwb3NzaWJsZUNoYXJzID0gY2hhcnMuZmlsdGVyKGMgPT4gbnNTZXBhcmF0b3IuaW5kZXhPZihjKSA8IDAgJiYga2V5U2VwYXJhdG9yLmluZGV4T2YoYykgPCAwKTtcbiAgaWYgKHBvc3NpYmxlQ2hhcnMubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgY29uc3QgciA9IGxvb2tzTGlrZU9iamVjdFBhdGhSZWdFeHBDYWNoZS5nZXRSZWdFeHAoYCgke3Bvc3NpYmxlQ2hhcnMubWFwKGMgPT4gYyA9PT0gJz8nID8gJ1xcXFw/JyA6IGMpLmpvaW4oJ3wnKX0pYCk7XG4gIGxldCBtYXRjaGVkID0gIXIudGVzdChrZXkpO1xuICBpZiAoIW1hdGNoZWQpIHtcbiAgICBjb25zdCBraSA9IGtleS5pbmRleE9mKGtleVNlcGFyYXRvcik7XG4gICAgaWYgKGtpID4gMCAmJiAhci50ZXN0KGtleS5zdWJzdHJpbmcoMCwga2kpKSkge1xuICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRjaGVkO1xufTtcbmNvbnN0IGRlZXBGaW5kID0gZnVuY3Rpb24gKG9iaiwgcGF0aCkge1xuICBsZXQga2V5U2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnLic7XG4gIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAob2JqW3BhdGhdKSByZXR1cm4gb2JqW3BhdGhdO1xuICBjb25zdCB0b2tlbnMgPSBwYXRoLnNwbGl0KGtleVNlcGFyYXRvcik7XG4gIGxldCBjdXJyZW50ID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7KSB7XG4gICAgaWYgKCFjdXJyZW50IHx8IHR5cGVvZiBjdXJyZW50ICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IG5leHQ7XG4gICAgbGV0IG5leHRQYXRoID0gJyc7XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCB0b2tlbnMubGVuZ3RoOyArK2opIHtcbiAgICAgIGlmIChqICE9PSBpKSB7XG4gICAgICAgIG5leHRQYXRoICs9IGtleVNlcGFyYXRvcjtcbiAgICAgIH1cbiAgICAgIG5leHRQYXRoICs9IHRva2Vuc1tqXTtcbiAgICAgIG5leHQgPSBjdXJyZW50W25leHRQYXRoXTtcbiAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ10uaW5kZXhPZih0eXBlb2YgbmV4dCkgPiAtMSAmJiBqIDwgdG9rZW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpICs9IGogLSBpICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGN1cnJlbnQgPSBuZXh0O1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufTtcbmNvbnN0IGdldENsZWFuZWRDb2RlID0gY29kZSA9PiBjb2RlICYmIGNvZGUucmVwbGFjZSgnXycsICctJyk7XG5cbmNvbnN0IGNvbnNvbGVMb2dnZXIgPSB7XG4gIHR5cGU6ICdsb2dnZXInLFxuICBsb2coYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdsb2cnLCBhcmdzKTtcbiAgfSxcbiAgd2FybihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ3dhcm4nLCBhcmdzKTtcbiAgfSxcbiAgZXJyb3IoYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdlcnJvcicsIGFyZ3MpO1xuICB9LFxuICBvdXRwdXQodHlwZSwgYXJncykge1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGVbdHlwZV0pIGNvbnNvbGVbdHlwZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn07XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3Rvcihjb25jcmV0ZUxvZ2dlcikge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLmluaXQoY29uY3JldGVMb2dnZXIsIG9wdGlvbnMpO1xuICB9XG4gIGluaXQoY29uY3JldGVMb2dnZXIpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdGhpcy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCAnaTE4bmV4dDonO1xuICAgIHRoaXMubG9nZ2VyID0gY29uY3JldGVMb2dnZXIgfHwgY29uc29sZUxvZ2dlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuICB9XG4gIGxvZygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ2xvZycsICcnLCB0cnVlKTtcbiAgfVxuICB3YXJuKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJycsIHRydWUpO1xuICB9XG4gIGVycm9yKCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICdlcnJvcicsICcnKTtcbiAgfVxuICBkZXByZWNhdGUoKSB7XG4gICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ3dhcm4nLCAnV0FSTklORyBERVBSRUNBVEVEOiAnLCB0cnVlKTtcbiAgfVxuICBmb3J3YXJkKGFyZ3MsIGx2bCwgcHJlZml4LCBkZWJ1Z09ubHkpIHtcbiAgICBpZiAoZGVidWdPbmx5ICYmICF0aGlzLmRlYnVnKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFyZ3NbMF0gPSBgJHtwcmVmaXh9JHt0aGlzLnByZWZpeH0gJHthcmdzWzBdfWA7XG4gICAgcmV0dXJuIHRoaXMubG9nZ2VyW2x2bF0oYXJncyk7XG4gIH1cbiAgY3JlYXRlKG1vZHVsZU5hbWUpIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLmxvZ2dlciwge1xuICAgICAgLi4ue1xuICAgICAgICBwcmVmaXg6IGAke3RoaXMucHJlZml4fToke21vZHVsZU5hbWV9OmBcbiAgICAgIH0sXG4gICAgICAuLi50aGlzLm9wdGlvbnNcbiAgICB9KTtcbiAgfVxuICBjbG9uZShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgdGhpcy5vcHRpb25zO1xuICAgIG9wdGlvbnMucHJlZml4ID0gb3B0aW9ucy5wcmVmaXggfHwgdGhpcy5wcmVmaXg7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIodGhpcy5sb2dnZXIsIG9wdGlvbnMpO1xuICB9XG59XG52YXIgYmFzZUxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5vYnNlcnZlcnMgPSB7fTtcbiAgfVxuICBvbihldmVudHMsIGxpc3RlbmVyKSB7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkgdGhpcy5vYnNlcnZlcnNbZXZlbnRdID0gbmV3IE1hcCgpO1xuICAgICAgY29uc3QgbnVtTGlzdGVuZXJzID0gdGhpcy5vYnNlcnZlcnNbZXZlbnRdLmdldChsaXN0ZW5lcikgfHwgMDtcbiAgICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5zZXQobGlzdGVuZXIsIG51bUxpc3RlbmVycyArIDEpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkgcmV0dXJuO1xuICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tldmVudF07XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5kZWxldGUobGlzdGVuZXIpO1xuICB9XG4gIGVtaXQoZXZlbnQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkge1xuICAgICAgY29uc3QgY2xvbmVkID0gQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1tldmVudF0uZW50cmllcygpKTtcbiAgICAgIGNsb25lZC5mb3JFYWNoKF9yZWYgPT4ge1xuICAgICAgICBsZXQgW29ic2VydmVyLCBudW1UaW1lc0FkZGVkXSA9IF9yZWY7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVGltZXNBZGRlZDsgaSsrKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZlcnNbJyonXSkge1xuICAgICAgY29uc3QgY2xvbmVkID0gQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1snKiddLmVudHJpZXMoKSk7XG4gICAgICBjbG9uZWQuZm9yRWFjaChfcmVmMiA9PiB7XG4gICAgICAgIGxldCBbb2JzZXJ2ZXIsIG51bVRpbWVzQWRkZWRdID0gX3JlZjI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVGltZXNBZGRlZDsgaSsrKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudCwgLi4uYXJnc10pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgUmVzb3VyY2VTdG9yZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgICAgIGRlZmF1bHROUzogJ3RyYW5zbGF0aW9uJ1xuICAgIH07XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9ICcuJztcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgYWRkTmFtZXNwYWNlcyhucykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihucykgPCAwKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubnMucHVzaChucyk7XG4gICAgfVxuICB9XG4gIHJlbW92ZU5hbWVzcGFjZXMobnMpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG5zKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5vcHRpb25zLm5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG4gIGdldFJlc291cmNlKGxuZywgbnMsIGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IGlnbm9yZUpTT05TdHJ1Y3R1cmUgPSBvcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSA6IHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlO1xuICAgIGxldCBwYXRoO1xuICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgIHBhdGgucHVzaCguLi5rZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGtleSkgJiYga2V5U2VwYXJhdG9yKSB7XG4gICAgICAgICAgcGF0aC5wdXNoKC4uLmtleS5zcGxpdChrZXlTZXBhcmF0b3IpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRoLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCk7XG4gICAgaWYgKCFyZXN1bHQgJiYgIW5zICYmICFrZXkgJiYgbG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBsbmcgPSBwYXRoWzBdO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgICAga2V5ID0gcGF0aC5zbGljZSgyKS5qb2luKCcuJyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgfHwgIWlnbm9yZUpTT05TdHJ1Y3R1cmUgfHwgIWlzU3RyaW5nKGtleSkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIGRlZXBGaW5kKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGFbbG5nXSAmJiB0aGlzLmRhdGFbbG5nXVtuc10sIGtleSwga2V5U2VwYXJhdG9yKTtcbiAgfVxuICBhZGRSZXNvdXJjZShsbmcsIG5zLCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHtcbiAgICAgIHNpbGVudDogZmFsc2VcbiAgICB9O1xuICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgbGV0IHBhdGggPSBbbG5nLCBuc107XG4gICAgaWYgKGtleSkgcGF0aCA9IHBhdGguY29uY2F0KGtleVNlcGFyYXRvciA/IGtleS5zcGxpdChrZXlTZXBhcmF0b3IpIDoga2V5KTtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICB2YWx1ZSA9IG5zO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgIH1cbiAgICB0aGlzLmFkZE5hbWVzcGFjZXMobnMpO1xuICAgIHNldFBhdGgodGhpcy5kYXRhLCBwYXRoLCB2YWx1ZSk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIGtleSwgdmFsdWUpO1xuICB9XG4gIGFkZFJlc291cmNlcyhsbmcsIG5zLCByZXNvdXJjZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge1xuICAgICAgc2lsZW50OiBmYWxzZVxuICAgIH07XG4gICAgZm9yIChjb25zdCBtIGluIHJlc291cmNlcykge1xuICAgICAgaWYgKGlzU3RyaW5nKHJlc291cmNlc1ttXSkgfHwgQXJyYXkuaXNBcnJheShyZXNvdXJjZXNbbV0pKSB0aGlzLmFkZFJlc291cmNlKGxuZywgbnMsIG0sIHJlc291cmNlc1ttXSwge1xuICAgICAgICBzaWxlbnQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLmVtaXQoJ2FkZGVkJywgbG5nLCBucywgcmVzb3VyY2VzKTtcbiAgfVxuICBhZGRSZXNvdXJjZUJ1bmRsZShsbmcsIG5zLCByZXNvdXJjZXMsIGRlZXAsIG92ZXJ3cml0ZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB7XG4gICAgICBzaWxlbnQ6IGZhbHNlLFxuICAgICAgc2tpcENvcHk6IGZhbHNlXG4gICAgfTtcbiAgICBsZXQgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICBkZWVwID0gcmVzb3VyY2VzO1xuICAgICAgcmVzb3VyY2VzID0gbnM7XG4gICAgICBucyA9IHBhdGhbMV07XG4gICAgfVxuICAgIHRoaXMuYWRkTmFtZXNwYWNlcyhucyk7XG4gICAgbGV0IHBhY2sgPSBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCkgfHwge307XG4gICAgaWYgKCFvcHRpb25zLnNraXBDb3B5KSByZXNvdXJjZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc291cmNlcykpO1xuICAgIGlmIChkZWVwKSB7XG4gICAgICBkZWVwRXh0ZW5kKHBhY2ssIHJlc291cmNlcywgb3ZlcndyaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFjayA9IHtcbiAgICAgICAgLi4ucGFjayxcbiAgICAgICAgLi4ucmVzb3VyY2VzXG4gICAgICB9O1xuICAgIH1cbiAgICBzZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCwgcGFjayk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIHJlc291cmNlcyk7XG4gIH1cbiAgcmVtb3ZlUmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSB7XG4gICAgICBkZWxldGUgdGhpcy5kYXRhW2xuZ11bbnNdO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZU5hbWVzcGFjZXMobnMpO1xuICAgIHRoaXMuZW1pdCgncmVtb3ZlZCcsIGxuZywgbnMpO1xuICB9XG4gIGhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKSAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIGdldFJlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICBpZiAoIW5zKSBucyA9IHRoaXMub3B0aW9ucy5kZWZhdWx0TlM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJID09PSAndjEnKSByZXR1cm4ge1xuICAgICAgLi4ue30sXG4gICAgICAuLi50aGlzLmdldFJlc291cmNlKGxuZywgbnMpXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKTtcbiAgfVxuICBnZXREYXRhQnlMYW5ndWFnZShsbmcpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhW2xuZ107XG4gIH1cbiAgaGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKGxuZykge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGFCeUxhbmd1YWdlKGxuZyk7XG4gICAgY29uc3QgbiA9IGRhdGEgJiYgT2JqZWN0LmtleXMoZGF0YSkgfHwgW107XG4gICAgcmV0dXJuICEhbi5maW5kKHYgPT4gZGF0YVt2XSAmJiBPYmplY3Qua2V5cyhkYXRhW3ZdKS5sZW5ndGggPiAwKTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgfVxufVxuXG52YXIgcG9zdFByb2Nlc3NvciA9IHtcbiAgcHJvY2Vzc29yczoge30sXG4gIGFkZFBvc3RQcm9jZXNzb3IobW9kdWxlKSB7XG4gICAgdGhpcy5wcm9jZXNzb3JzW21vZHVsZS5uYW1lXSA9IG1vZHVsZTtcbiAgfSxcbiAgaGFuZGxlKHByb2Nlc3NvcnMsIHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpIHtcbiAgICBwcm9jZXNzb3JzLmZvckVhY2gocHJvY2Vzc29yID0+IHtcbiAgICAgIGlmICh0aGlzLnByb2Nlc3NvcnNbcHJvY2Vzc29yXSkgdmFsdWUgPSB0aGlzLnByb2Nlc3NvcnNbcHJvY2Vzc29yXS5wcm9jZXNzKHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuY29uc3QgY2hlY2tlZExvYWRlZEZvciA9IHt9O1xuY2xhc3MgVHJhbnNsYXRvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHN1cGVyKCk7XG4gICAgY29weShbJ3Jlc291cmNlU3RvcmUnLCAnbGFuZ3VhZ2VVdGlscycsICdwbHVyYWxSZXNvbHZlcicsICdpbnRlcnBvbGF0b3InLCAnYmFja2VuZENvbm5lY3RvcicsICdpMThuRm9ybWF0JywgJ3V0aWxzJ10sIHNlcnZpY2VzLCB0aGlzKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmICh0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ3RyYW5zbGF0b3InKTtcbiAgfVxuICBjaGFuZ2VMYW5ndWFnZShsbmcpIHtcbiAgICBpZiAobG5nKSB0aGlzLmxhbmd1YWdlID0gbG5nO1xuICB9XG4gIGV4aXN0cyhrZXkpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgaW50ZXJwb2xhdGlvbjoge31cbiAgICB9O1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQucmVzICE9PSB1bmRlZmluZWQ7XG4gIH1cbiAgZXh0cmFjdEZyb21LZXkoa2V5LCBvcHRpb25zKSB7XG4gICAgbGV0IG5zU2VwYXJhdG9yID0gb3B0aW9ucy5uc1NlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc1NlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICBpZiAobnNTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkgbnNTZXBhcmF0b3IgPSAnOic7XG4gICAgY29uc3Qga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5U2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBsZXQgbmFtZXNwYWNlcyA9IG9wdGlvbnMubnMgfHwgdGhpcy5vcHRpb25zLmRlZmF1bHROUyB8fCBbXTtcbiAgICBjb25zdCB3b3VsZENoZWNrRm9yTnNJbktleSA9IG5zU2VwYXJhdG9yICYmIGtleS5pbmRleE9mKG5zU2VwYXJhdG9yKSA+IC0xO1xuICAgIGNvbnN0IHNlZW1zTmF0dXJhbExhbmd1YWdlID0gIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZEtleVNlcGFyYXRvciAmJiAhb3B0aW9ucy5rZXlTZXBhcmF0b3IgJiYgIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yICYmICFvcHRpb25zLm5zU2VwYXJhdG9yICYmICFsb29rc0xpa2VPYmplY3RQYXRoKGtleSwgbnNTZXBhcmF0b3IsIGtleVNlcGFyYXRvcik7XG4gICAgaWYgKHdvdWxkQ2hlY2tGb3JOc0luS2V5ICYmICFzZWVtc05hdHVyYWxMYW5ndWFnZSkge1xuICAgICAgY29uc3QgbSA9IGtleS5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtcbiAgICAgIGlmIChtICYmIG0ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBuYW1lc3BhY2VzOiBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KG5zU2VwYXJhdG9yKTtcbiAgICAgIGlmIChuc1NlcGFyYXRvciAhPT0ga2V5U2VwYXJhdG9yIHx8IG5zU2VwYXJhdG9yID09PSBrZXlTZXBhcmF0b3IgJiYgdGhpcy5vcHRpb25zLm5zLmluZGV4T2YocGFydHNbMF0pID4gLTEpIG5hbWVzcGFjZXMgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAga2V5ID0gcGFydHMuam9pbihrZXlTZXBhcmF0b3IpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAga2V5LFxuICAgICAgbmFtZXNwYWNlczogaXNTdHJpbmcobmFtZXNwYWNlcykgPyBbbmFtZXNwYWNlc10gOiBuYW1lc3BhY2VzXG4gICAgfTtcbiAgfVxuICB0cmFuc2xhdGUoa2V5cywgb3B0aW9ucywgbGFzdEtleSkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgJiYgdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKSB7XG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICBpZiAoa2V5cyA9PT0gdW5kZWZpbmVkIHx8IGtleXMgPT09IG51bGwpIHJldHVybiAnJztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5cykpIGtleXMgPSBbU3RyaW5nKGtleXMpXTtcbiAgICBjb25zdCByZXR1cm5EZXRhaWxzID0gb3B0aW9ucy5yZXR1cm5EZXRhaWxzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJldHVybkRldGFpbHMgOiB0aGlzLm9wdGlvbnMucmV0dXJuRGV0YWlscztcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IHtcbiAgICAgIGtleSxcbiAgICAgIG5hbWVzcGFjZXNcbiAgICB9ID0gdGhpcy5leHRyYWN0RnJvbUtleShrZXlzW2tleXMubGVuZ3RoIC0gMV0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IG5hbWVzcGFjZXNbbmFtZXNwYWNlcy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlO1xuICAgIGNvbnN0IGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlID0gb3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZSB8fCB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU7XG4gICAgaWYgKGxuZyAmJiBsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHtcbiAgICAgIGlmIChhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSkge1xuICAgICAgICBjb25zdCBuc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXM6IGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWAsXG4gICAgICAgICAgICB1c2VkS2V5OiBrZXksXG4gICAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICAgIHVzZWRMbmc6IGxuZyxcbiAgICAgICAgICAgIHVzZWROUzogbmFtZXNwYWNlLFxuICAgICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWA7XG4gICAgICB9XG4gICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlczoga2V5LFxuICAgICAgICAgIHVzZWRLZXk6IGtleSxcbiAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICB1c2VkTG5nOiBsbmcsXG4gICAgICAgICAgdXNlZE5TOiBuYW1lc3BhY2UsXG4gICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5cywgb3B0aW9ucyk7XG4gICAgbGV0IHJlcyA9IHJlc29sdmVkICYmIHJlc29sdmVkLnJlcztcbiAgICBjb25zdCByZXNVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQudXNlZEtleSB8fCBrZXk7XG4gICAgY29uc3QgcmVzRXhhY3RVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQuZXhhY3RVc2VkS2V5IHx8IGtleTtcbiAgICBjb25zdCByZXNUeXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShyZXMpO1xuICAgIGNvbnN0IG5vT2JqZWN0ID0gWydbb2JqZWN0IE51bWJlcl0nLCAnW29iamVjdCBGdW5jdGlvbl0nLCAnW29iamVjdCBSZWdFeHBdJ107XG4gICAgY29uc3Qgam9pbkFycmF5cyA9IG9wdGlvbnMuam9pbkFycmF5cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5qb2luQXJyYXlzIDogdGhpcy5vcHRpb25zLmpvaW5BcnJheXM7XG4gICAgY29uc3QgaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgPSAhdGhpcy5pMThuRm9ybWF0IHx8IHRoaXMuaTE4bkZvcm1hdC5oYW5kbGVBc09iamVjdDtcbiAgICBjb25zdCBoYW5kbGVBc09iamVjdCA9ICFpc1N0cmluZyhyZXMpICYmIHR5cGVvZiByZXMgIT09ICdib29sZWFuJyAmJiB0eXBlb2YgcmVzICE9PSAnbnVtYmVyJztcbiAgICBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgcmVzICYmIGhhbmRsZUFzT2JqZWN0ICYmIG5vT2JqZWN0LmluZGV4T2YocmVzVHlwZSkgPCAwICYmICEoaXNTdHJpbmcoam9pbkFycmF5cykgJiYgQXJyYXkuaXNBcnJheShyZXMpKSkge1xuICAgICAgaWYgKCFvcHRpb25zLnJldHVybk9iamVjdHMgJiYgIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2FjY2Vzc2luZyBhbiBvYmplY3QgLSBidXQgcmV0dXJuT2JqZWN0cyBvcHRpb25zIGlzIG5vdCBlbmFibGVkIScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyID8gdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcihyZXNVc2VkS2V5LCByZXMsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIG5zOiBuYW1lc3BhY2VzXG4gICAgICAgIH0pIDogYGtleSAnJHtrZXl9ICgke3RoaXMubGFuZ3VhZ2V9KScgcmV0dXJuZWQgYW4gb2JqZWN0IGluc3RlYWQgb2Ygc3RyaW5nLmA7XG4gICAgICAgIGlmIChyZXR1cm5EZXRhaWxzKSB7XG4gICAgICAgICAgcmVzb2x2ZWQucmVzID0gcjtcbiAgICAgICAgICByZXNvbHZlZC51c2VkUGFyYW1zID0gdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgICBpZiAoa2V5U2VwYXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IHJlc1R5cGVJc0FycmF5ID0gQXJyYXkuaXNBcnJheShyZXMpO1xuICAgICAgICBjb25zdCBjb3B5ID0gcmVzVHlwZUlzQXJyYXkgPyBbXSA6IHt9O1xuICAgICAgICBjb25zdCBuZXdLZXlUb1VzZSA9IHJlc1R5cGVJc0FycmF5ID8gcmVzRXhhY3RVc2VkS2V5IDogcmVzVXNlZEtleTtcbiAgICAgICAgZm9yIChjb25zdCBtIGluIHJlcykge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzLCBtKSkge1xuICAgICAgICAgICAgY29uc3QgZGVlcEtleSA9IGAke25ld0tleVRvVXNlfSR7a2V5U2VwYXJhdG9yfSR7bX1gO1xuICAgICAgICAgICAgY29weVttXSA9IHRoaXMudHJhbnNsYXRlKGRlZXBLZXksIHtcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgLi4ue1xuICAgICAgICAgICAgICAgIGpvaW5BcnJheXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5zOiBuYW1lc3BhY2VzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNvcHlbbV0gPT09IGRlZXBLZXkpIGNvcHlbbV0gPSByZXNbbV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlcyA9IGNvcHk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCAmJiBpc1N0cmluZyhqb2luQXJyYXlzKSAmJiBBcnJheS5pc0FycmF5KHJlcykpIHtcbiAgICAgIHJlcyA9IHJlcy5qb2luKGpvaW5BcnJheXMpO1xuICAgICAgaWYgKHJlcykgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleXMsIG9wdGlvbnMsIGxhc3RLZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdXNlZERlZmF1bHQgPSBmYWxzZTtcbiAgICAgIGxldCB1c2VkS2V5ID0gZmFsc2U7XG4gICAgICBjb25zdCBuZWVkc1BsdXJhbEhhbmRsaW5nID0gb3B0aW9ucy5jb3VudCAhPT0gdW5kZWZpbmVkICYmICFpc1N0cmluZyhvcHRpb25zLmNvdW50KTtcbiAgICAgIGNvbnN0IGhhc0RlZmF1bHRWYWx1ZSA9IFRyYW5zbGF0b3IuaGFzRGVmYXVsdFZhbHVlKG9wdGlvbnMpO1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlU3VmZml4ID0gbmVlZHNQbHVyYWxIYW5kbGluZyA/IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGxuZywgb3B0aW9ucy5jb3VudCwgb3B0aW9ucykgOiAnJztcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZVN1ZmZpeE9yZGluYWxGYWxsYmFjayA9IG9wdGlvbnMub3JkaW5hbCAmJiBuZWVkc1BsdXJhbEhhbmRsaW5nID8gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgobG5nLCBvcHRpb25zLmNvdW50LCB7XG4gICAgICAgIG9yZGluYWw6IGZhbHNlXG4gICAgICB9KSA6ICcnO1xuICAgICAgY29uc3QgbmVlZHNaZXJvU3VmZml4TG9va3VwID0gbmVlZHNQbHVyYWxIYW5kbGluZyAmJiAhb3B0aW9ucy5vcmRpbmFsICYmIG9wdGlvbnMuY291bnQgPT09IDAgJiYgdGhpcy5wbHVyYWxSZXNvbHZlci5zaG91bGRVc2VJbnRsQXBpKCk7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBuZWVkc1plcm9TdWZmaXhMb29rdXAgJiYgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gXSB8fCBvcHRpb25zW2BkZWZhdWx0VmFsdWUke2RlZmF1bHRWYWx1ZVN1ZmZpeH1gXSB8fCBvcHRpb25zW2BkZWZhdWx0VmFsdWUke2RlZmF1bHRWYWx1ZVN1ZmZpeE9yZGluYWxGYWxsYmFja31gXSB8fCBvcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkTG9va3VwKHJlcykgJiYgaGFzRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHVzZWREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgcmVzID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSkge1xuICAgICAgICB1c2VkS2V5ID0gdHJ1ZTtcbiAgICAgICAgcmVzID0ga2V5O1xuICAgICAgfVxuICAgICAgY29uc3QgbWlzc2luZ0tleU5vVmFsdWVGYWxsYmFja1RvS2V5ID0gb3B0aW9ucy5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgfHwgdGhpcy5vcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleTtcbiAgICAgIGNvbnN0IHJlc0Zvck1pc3NpbmcgPSBtaXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgJiYgdXNlZEtleSA/IHVuZGVmaW5lZCA6IHJlcztcbiAgICAgIGNvbnN0IHVwZGF0ZU1pc3NpbmcgPSBoYXNEZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlICE9PSByZXMgJiYgdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7XG4gICAgICBpZiAodXNlZEtleSB8fCB1c2VkRGVmYXVsdCB8fCB1cGRhdGVNaXNzaW5nKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyh1cGRhdGVNaXNzaW5nID8gJ3VwZGF0ZUtleScgOiAnbWlzc2luZ0tleScsIGxuZywgbmFtZXNwYWNlLCBrZXksIHVwZGF0ZU1pc3NpbmcgPyBkZWZhdWx0VmFsdWUgOiByZXMpO1xuICAgICAgICBpZiAoa2V5U2VwYXJhdG9yKSB7XG4gICAgICAgICAgY29uc3QgZmsgPSB0aGlzLnJlc29sdmUoa2V5LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAga2V5U2VwYXJhdG9yOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChmayAmJiBmay5yZXMpIHRoaXMubG9nZ2VyLndhcm4oJ1NlZW1zIHRoZSBsb2FkZWQgdHJhbnNsYXRpb25zIHdlcmUgaW4gZmxhdCBKU09OIGZvcm1hdCBpbnN0ZWFkIG9mIG5lc3RlZC4gRWl0aGVyIHNldCBrZXlTZXBhcmF0b3I6IGZhbHNlIG9uIGluaXQgb3IgbWFrZSBzdXJlIHlvdXIgdHJhbnNsYXRpb25zIGFyZSBwdWJsaXNoZWQgaW4gbmVzdGVkIGZvcm1hdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbG5ncyA9IFtdO1xuICAgICAgICBjb25zdCBmYWxsYmFja0xuZ3MgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsIG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdmYWxsYmFjaycgJiYgZmFsbGJhY2tMbmdzICYmIGZhbGxiYWNrTG5nc1swXSkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFsbGJhY2tMbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsbmdzLnB1c2goZmFsbGJhY2tMbmdzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdhbGwnKSB7XG4gICAgICAgICAgbG5ncyA9IHRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkob3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG5ncy5wdXNoKG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbmQgPSAobCwgaywgc3BlY2lmaWNEZWZhdWx0VmFsdWUpID0+IHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0Rm9yTWlzc2luZyA9IGhhc0RlZmF1bHRWYWx1ZSAmJiBzcGVjaWZpY0RlZmF1bHRWYWx1ZSAhPT0gcmVzID8gc3BlY2lmaWNEZWZhdWx0VmFsdWUgOiByZXNGb3JNaXNzaW5nO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcihsLCBuYW1lc3BhY2UsIGssIGRlZmF1bHRGb3JNaXNzaW5nLCB1cGRhdGVNaXNzaW5nLCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFja2VuZENvbm5lY3RvciAmJiB0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZyhsLCBuYW1lc3BhY2UsIGssIGRlZmF1bHRGb3JNaXNzaW5nLCB1cGRhdGVNaXNzaW5nLCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5lbWl0KCdtaXNzaW5nS2V5JywgbCwgbmFtZXNwYWNlLCBrLCByZXMpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nKSB7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1BsdXJhbHMgJiYgbmVlZHNQbHVyYWxIYW5kbGluZykge1xuICAgICAgICAgICAgbG5ncy5mb3JFYWNoKGxhbmd1YWdlID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3VmZml4ZXMgPSB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeGVzKGxhbmd1YWdlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCAmJiBvcHRpb25zW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdICYmIHN1ZmZpeGVzLmluZGV4T2YoYCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgc3VmZml4ZXMucHVzaChgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdWZmaXhlcy5mb3JFYWNoKHN1ZmZpeCA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZChbbGFuZ3VhZ2VdLCBrZXkgKyBzdWZmaXgsIG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7c3VmZml4fWBdIHx8IGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmQobG5ncywga2V5LCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleXMsIG9wdGlvbnMsIHJlc29sdmVkLCBsYXN0S2V5KTtcbiAgICAgIGlmICh1c2VkS2V5ICYmIHJlcyA9PT0ga2V5ICYmIHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXkpIHJlcyA9IGAke25hbWVzcGFjZX06JHtrZXl9YDtcbiAgICAgIGlmICgodXNlZEtleSB8fCB1c2VkRGVmYXVsdCkgJiYgdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnKSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIodGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSA/IGAke25hbWVzcGFjZX06JHtrZXl9YCA6IGtleSwgdXNlZERlZmF1bHQgPyByZXMgOiB1bmRlZmluZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcyA9IHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJldHVybkRldGFpbHMpIHtcbiAgICAgIHJlc29sdmVkLnJlcyA9IHJlcztcbiAgICAgIHJlc29sdmVkLnVzZWRQYXJhbXMgPSB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5LCBvcHRpb25zLCByZXNvbHZlZCwgbGFzdEtleSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQucGFyc2UpIHtcbiAgICAgIHJlcyA9IHRoaXMuaTE4bkZvcm1hdC5wYXJzZShyZXMsIHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nLCByZXNvbHZlZC51c2VkTlMsIHJlc29sdmVkLnVzZWRLZXksIHtcbiAgICAgICAgcmVzb2x2ZWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMuc2tpcEludGVycG9sYXRpb24pIHtcbiAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHRoaXMuaW50ZXJwb2xhdG9yLmluaXQoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi57XG4gICAgICAgICAgaW50ZXJwb2xhdGlvbjoge1xuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24sXG4gICAgICAgICAgICAuLi5vcHRpb25zLmludGVycG9sYXRpb25cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc2tpcE9uVmFyaWFibGVzID0gaXNTdHJpbmcocmVzKSAmJiAob3B0aW9ucyAmJiBvcHRpb25zLmludGVycG9sYXRpb24gJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyA6IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyk7XG4gICAgICBsZXQgbmVzdEJlZjtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmIgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIG5lc3RCZWYgPSBuYiAmJiBuYi5sZW5ndGg7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiAhaXNTdHJpbmcob3B0aW9ucy5yZXBsYWNlKSA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcykgZGF0YSA9IHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfTtcbiAgICAgIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHJlcywgZGF0YSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nLCBvcHRpb25zKTtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmEgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIGNvbnN0IG5lc3RBZnQgPSBuYSAmJiBuYS5sZW5ndGg7XG4gICAgICAgIGlmIChuZXN0QmVmIDwgbmVzdEFmdCkgb3B0aW9ucy5uZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMubG5nICYmIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnICYmIHJlc29sdmVkICYmIHJlc29sdmVkLnJlcykgb3B0aW9ucy5sbmcgPSB0aGlzLmxhbmd1YWdlIHx8IHJlc29sdmVkLnVzZWRMbmc7XG4gICAgICBpZiAob3B0aW9ucy5uZXN0ICE9PSBmYWxzZSkgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IubmVzdChyZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdEtleSAmJiBsYXN0S2V5WzBdID09PSBhcmdzWzBdICYmICFvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihgSXQgc2VlbXMgeW91IGFyZSBuZXN0aW5nIHJlY3Vyc2l2ZWx5IGtleTogJHthcmdzWzBdfSBpbiBrZXk6ICR7a2V5WzBdfWApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcy50cmFuc2xhdGUoLi4uYXJncywga2V5KTtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKTtcbiAgICB9XG4gICAgY29uc3QgcG9zdFByb2Nlc3MgPSBvcHRpb25zLnBvc3RQcm9jZXNzIHx8IHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcztcbiAgICBjb25zdCBwb3N0UHJvY2Vzc29yTmFtZXMgPSBpc1N0cmluZyhwb3N0UHJvY2VzcykgPyBbcG9zdFByb2Nlc3NdIDogcG9zdFByb2Nlc3M7XG4gICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkICYmIHJlcyAhPT0gbnVsbCAmJiBwb3N0UHJvY2Vzc29yTmFtZXMgJiYgcG9zdFByb2Nlc3Nvck5hbWVzLmxlbmd0aCAmJiBvcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciAhPT0gZmFsc2UpIHtcbiAgICAgIHJlcyA9IHBvc3RQcm9jZXNzb3IuaGFuZGxlKHBvc3RQcm9jZXNzb3JOYW1lcywgcmVzLCBrZXksIHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQgPyB7XG4gICAgICAgIGkxOG5SZXNvbHZlZDoge1xuICAgICAgICAgIC4uLnJlc29sdmVkLFxuICAgICAgICAgIHVzZWRQYXJhbXM6IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucylcbiAgICAgICAgfSxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSA6IG9wdGlvbnMsIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIHJlc29sdmUoa2V5cykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgZm91bmQ7XG4gICAgbGV0IHVzZWRLZXk7XG4gICAgbGV0IGV4YWN0VXNlZEtleTtcbiAgICBsZXQgdXNlZExuZztcbiAgICBsZXQgdXNlZE5TO1xuICAgIGlmIChpc1N0cmluZyhrZXlzKSkga2V5cyA9IFtrZXlzXTtcbiAgICBrZXlzLmZvckVhY2goayA9PiB7XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZXh0cmFjdGVkID0gdGhpcy5leHRyYWN0RnJvbUtleShrLCBvcHRpb25zKTtcbiAgICAgIGNvbnN0IGtleSA9IGV4dHJhY3RlZC5rZXk7XG4gICAgICB1c2VkS2V5ID0ga2V5O1xuICAgICAgbGV0IG5hbWVzcGFjZXMgPSBleHRyYWN0ZWQubmFtZXNwYWNlcztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmFsbGJhY2tOUykgbmFtZXNwYWNlcyA9IG5hbWVzcGFjZXMuY29uY2F0KHRoaXMub3B0aW9ucy5mYWxsYmFja05TKTtcbiAgICAgIGNvbnN0IG5lZWRzUGx1cmFsSGFuZGxpbmcgPSBvcHRpb25zLmNvdW50ICE9PSB1bmRlZmluZWQgJiYgIWlzU3RyaW5nKG9wdGlvbnMuY291bnQpO1xuICAgICAgY29uc3QgbmVlZHNaZXJvU3VmZml4TG9va3VwID0gbmVlZHNQbHVyYWxIYW5kbGluZyAmJiAhb3B0aW9ucy5vcmRpbmFsICYmIG9wdGlvbnMuY291bnQgPT09IDAgJiYgdGhpcy5wbHVyYWxSZXNvbHZlci5zaG91bGRVc2VJbnRsQXBpKCk7XG4gICAgICBjb25zdCBuZWVkc0NvbnRleHRIYW5kbGluZyA9IG9wdGlvbnMuY29udGV4dCAhPT0gdW5kZWZpbmVkICYmIChpc1N0cmluZyhvcHRpb25zLmNvbnRleHQpIHx8IHR5cGVvZiBvcHRpb25zLmNvbnRleHQgPT09ICdudW1iZXInKSAmJiBvcHRpb25zLmNvbnRleHQgIT09ICcnO1xuICAgICAgY29uc3QgY29kZXMgPSBvcHRpb25zLmxuZ3MgPyBvcHRpb25zLmxuZ3MgOiB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UsIG9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcbiAgICAgICAgdXNlZE5TID0gbnM7XG4gICAgICAgIGlmICghY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSAmJiB0aGlzLnV0aWxzICYmIHRoaXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlICYmICF0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSh1c2VkTlMpKSB7XG4gICAgICAgICAgY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2Fybihga2V5IFwiJHt1c2VkS2V5fVwiIGZvciBsYW5ndWFnZXMgXCIke2NvZGVzLmpvaW4oJywgJyl9XCIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSBcIiR7dXNlZE5TfVwiIHdhcyBub3QgeWV0IGxvYWRlZGAsICdUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICAgICAgdXNlZExuZyA9IGNvZGU7XG4gICAgICAgICAgY29uc3QgZmluYWxLZXlzID0gW2tleV07XG4gICAgICAgICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cykge1xuICAgICAgICAgICAgdGhpcy5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMoZmluYWxLZXlzLCBrZXksIGNvZGUsIG5zLCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBsdXJhbFN1ZmZpeDtcbiAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSBwbHVyYWxTdWZmaXggPSB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChjb2RlLCBvcHRpb25zLmNvdW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHplcm9TdWZmaXggPSBgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gO1xuICAgICAgICAgICAgY29uc3Qgb3JkaW5hbFByZWZpeCA9IGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9b3JkaW5hbCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn1gO1xuICAgICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgcGx1cmFsU3VmZml4KTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobmVlZHNaZXJvU3VmZml4TG9va3VwKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgemVyb1N1ZmZpeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZWVkc0NvbnRleHRIYW5kbGluZykge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZXh0S2V5ID0gYCR7a2V5fSR7dGhpcy5vcHRpb25zLmNvbnRleHRTZXBhcmF0b3J9JHtvcHRpb25zLmNvbnRleHR9YDtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSk7XG4gICAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHplcm9TdWZmaXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcG9zc2libGVLZXk7XG4gICAgICAgICAgd2hpbGUgKHBvc3NpYmxlS2V5ID0gZmluYWxLZXlzLnBvcCgpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHtcbiAgICAgICAgICAgICAgZXhhY3RVc2VkS2V5ID0gcG9zc2libGVLZXk7XG4gICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5nZXRSZXNvdXJjZShjb2RlLCBucywgcG9zc2libGVLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzOiBmb3VuZCxcbiAgICAgIHVzZWRLZXksXG4gICAgICBleGFjdFVzZWRLZXksXG4gICAgICB1c2VkTG5nLFxuICAgICAgdXNlZE5TXG4gICAgfTtcbiAgfVxuICBpc1ZhbGlkTG9va3VwKHJlcykge1xuICAgIHJldHVybiByZXMgIT09IHVuZGVmaW5lZCAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuTnVsbCAmJiByZXMgPT09IG51bGwpICYmICEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyAmJiByZXMgPT09ICcnKTtcbiAgfVxuICBnZXRSZXNvdXJjZShjb2RlLCBucywga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKSByZXR1cm4gdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKGNvZGUsIG5zLCBrZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlU3RvcmUuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSwgb3B0aW9ucyk7XG4gIH1cbiAgZ2V0VXNlZFBhcmFtc0RldGFpbHMoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IG9wdGlvbnNLZXlzID0gWydkZWZhdWx0VmFsdWUnLCAnb3JkaW5hbCcsICdjb250ZXh0JywgJ3JlcGxhY2UnLCAnbG5nJywgJ2xuZ3MnLCAnZmFsbGJhY2tMbmcnLCAnbnMnLCAna2V5U2VwYXJhdG9yJywgJ25zU2VwYXJhdG9yJywgJ3JldHVybk9iamVjdHMnLCAncmV0dXJuRGV0YWlscycsICdqb2luQXJyYXlzJywgJ3Bvc3RQcm9jZXNzJywgJ2ludGVycG9sYXRpb24nXTtcbiAgICBjb25zdCB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPSBvcHRpb25zLnJlcGxhY2UgJiYgIWlzU3RyaW5nKG9wdGlvbnMucmVwbGFjZSk7XG4gICAgbGV0IGRhdGEgPSB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPyBvcHRpb25zLnJlcGxhY2UgOiBvcHRpb25zO1xuICAgIGlmICh1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgJiYgdHlwZW9mIG9wdGlvbnMuY291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLmNvdW50ID0gb3B0aW9ucy5jb3VudDtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlT3B0aW9uc1JlcGxhY2VGb3JEYXRhKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5kYXRhXG4gICAgICB9O1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygb3B0aW9uc0tleXMpIHtcbiAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgc3RhdGljIGhhc0RlZmF1bHRWYWx1ZShvcHRpb25zKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ2RlZmF1bHRWYWx1ZSc7XG4gICAgZm9yIChjb25zdCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIHByZWZpeCA9PT0gb3B0aW9uLnN1YnN0cmluZygwLCBwcmVmaXgubGVuZ3RoKSAmJiB1bmRlZmluZWQgIT09IG9wdGlvbnNbb3B0aW9uXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IGNhcGl0YWxpemUgPSBzdHJpbmcgPT4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuY2xhc3MgTGFuZ3VhZ2VVdGlsIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5zdXBwb3J0ZWRMbmdzID0gdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MgfHwgZmFsc2U7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnbGFuZ3VhZ2VVdGlscycpO1xuICB9XG4gIGdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKSB7XG4gICAgY29kZSA9IGdldENsZWFuZWRDb2RlKGNvZGUpO1xuICAgIGlmICghY29kZSB8fCBjb2RlLmluZGV4T2YoJy0nKSA8IDApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgaWYgKHAubGVuZ3RoID09PSAyKSByZXR1cm4gbnVsbDtcbiAgICBwLnBvcCgpO1xuICAgIGlmIChwW3AubGVuZ3RoIC0gMV0udG9Mb3dlckNhc2UoKSA9PT0gJ3gnKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocC5qb2luKCctJykpO1xuICB9XG4gIGdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpIHtcbiAgICBjb2RlID0gZ2V0Q2xlYW5lZENvZGUoY29kZSk7XG4gICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIGNvZGU7XG4gICAgY29uc3QgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocFswXSk7XG4gIH1cbiAgZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpIHtcbiAgICBpZiAoaXNTdHJpbmcoY29kZSkgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgaWYgKHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgSW50bC5nZXRDYW5vbmljYWxMb2NhbGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCBmb3JtYXR0ZWRDb2RlID0gSW50bC5nZXRDYW5vbmljYWxMb2NhbGVzKGNvZGUpWzBdO1xuICAgICAgICAgIGlmIChmb3JtYXR0ZWRDb2RlICYmIHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmcpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZENvZGUgPSBmb3JtYXR0ZWRDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmb3JtYXR0ZWRDb2RlKSByZXR1cm4gZm9ybWF0dGVkQ29kZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIGNvbnN0IHNwZWNpYWxDYXNlcyA9IFsnaGFucycsICdoYW50JywgJ2xhdG4nLCAnY3lybCcsICdjYW5zJywgJ21vbmcnLCAnYXJhYiddO1xuICAgICAgbGV0IHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZykge1xuICAgICAgICBwID0gcC5tYXAocGFydCA9PiBwYXJ0LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsxXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzFdID0gY2FwaXRhbGl6ZShwWzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAocFsxXS5sZW5ndGggPT09IDIpIHBbMV0gPSBwWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChwWzBdICE9PSAnc2duJyAmJiBwWzJdLmxlbmd0aCA9PT0gMikgcFsyXSA9IHBbMl0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMV0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsxXSA9IGNhcGl0YWxpemUocFsxXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMl0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsyXSA9IGNhcGl0YWxpemUocFsyXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwLmpvaW4oJy0nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGVhbkNvZGUgfHwgdGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZyA/IGNvZGUudG9Mb3dlckNhc2UoKSA6IGNvZGU7XG4gIH1cbiAgaXNTdXBwb3J0ZWRDb2RlKGNvZGUpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgPT09ICdsYW5ndWFnZU9ubHknIHx8IHRoaXMub3B0aW9ucy5ub25FeHBsaWNpdFN1cHBvcnRlZExuZ3MpIHtcbiAgICAgIGNvZGUgPSB0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpO1xuICAgIH1cbiAgICByZXR1cm4gIXRoaXMuc3VwcG9ydGVkTG5ncyB8fCAhdGhpcy5zdXBwb3J0ZWRMbmdzLmxlbmd0aCB8fCB0aGlzLnN1cHBvcnRlZExuZ3MuaW5kZXhPZihjb2RlKSA+IC0xO1xuICB9XG4gIGdldEJlc3RNYXRjaEZyb21Db2Rlcyhjb2Rlcykge1xuICAgIGlmICghY29kZXMpIHJldHVybiBudWxsO1xuICAgIGxldCBmb3VuZDtcbiAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG4gICAgICBjb25zdCBjbGVhbmVkTG5nID0gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSk7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzIHx8IHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGNsZWFuZWRMbmcpKSBmb3VuZCA9IGNsZWFuZWRMbmc7XG4gICAgfSk7XG4gICAgaWYgKCFmb3VuZCAmJiB0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncykge1xuICAgICAgY29kZXMuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxuZ09ubHkgPSB0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpO1xuICAgICAgICBpZiAodGhpcy5pc1N1cHBvcnRlZENvZGUobG5nT25seSkpIHJldHVybiBmb3VuZCA9IGxuZ09ubHk7XG4gICAgICAgIGZvdW5kID0gdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MuZmluZChzdXBwb3J0ZWRMbmcgPT4ge1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcgPT09IGxuZ09ubHkpIHJldHVybiBzdXBwb3J0ZWRMbmc7XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZy5pbmRleE9mKCctJykgPCAwICYmIGxuZ09ubHkuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuO1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcuaW5kZXhPZignLScpID4gMCAmJiBsbmdPbmx5LmluZGV4T2YoJy0nKSA8IDAgJiYgc3VwcG9ydGVkTG5nLnN1YnN0cmluZygwLCBzdXBwb3J0ZWRMbmcuaW5kZXhPZignLScpKSA9PT0gbG5nT25seSkgcmV0dXJuIHN1cHBvcnRlZExuZztcbiAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nLmluZGV4T2YobG5nT25seSkgPT09IDAgJiYgbG5nT25seS5sZW5ndGggPiAxKSByZXR1cm4gc3VwcG9ydGVkTG5nO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IHRoaXMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpWzBdO1xuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuICBnZXRGYWxsYmFja0NvZGVzKGZhbGxiYWNrcywgY29kZSkge1xuICAgIGlmICghZmFsbGJhY2tzKSByZXR1cm4gW107XG4gICAgaWYgKHR5cGVvZiBmYWxsYmFja3MgPT09ICdmdW5jdGlvbicpIGZhbGxiYWNrcyA9IGZhbGxiYWNrcyhjb2RlKTtcbiAgICBpZiAoaXNTdHJpbmcoZmFsbGJhY2tzKSkgZmFsbGJhY2tzID0gW2ZhbGxiYWNrc107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmFsbGJhY2tzKSkgcmV0dXJuIGZhbGxiYWNrcztcbiAgICBpZiAoIWNvZGUpIHJldHVybiBmYWxsYmFja3MuZGVmYXVsdCB8fCBbXTtcbiAgICBsZXQgZm91bmQgPSBmYWxsYmFja3NbY29kZV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbdGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSldO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrcy5kZWZhdWx0O1xuICAgIHJldHVybiBmb3VuZCB8fCBbXTtcbiAgfVxuICB0b1Jlc29sdmVIaWVyYXJjaHkoY29kZSwgZmFsbGJhY2tDb2RlKSB7XG4gICAgY29uc3QgZmFsbGJhY2tDb2RlcyA9IHRoaXMuZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja0NvZGUgfHwgdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIHx8IFtdLCBjb2RlKTtcbiAgICBjb25zdCBjb2RlcyA9IFtdO1xuICAgIGNvbnN0IGFkZENvZGUgPSBjID0+IHtcbiAgICAgIGlmICghYykgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGMpKSB7XG4gICAgICAgIGNvZGVzLnB1c2goYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGByZWplY3RpbmcgbGFuZ3VhZ2UgY29kZSBub3QgZm91bmQgaW4gc3VwcG9ydGVkTG5nczogJHtjfWApO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlzU3RyaW5nKGNvZGUpICYmIChjb2RlLmluZGV4T2YoJy0nKSA+IC0xIHx8IGNvZGUuaW5kZXhPZignXycpID4gLTEpKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknKSBhZGRDb2RlKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2xhbmd1YWdlT25seScgJiYgdGhpcy5vcHRpb25zLmxvYWQgIT09ICdjdXJyZW50T25seScpIGFkZENvZGUodGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkpO1xuICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoY29kZSkpIHtcbiAgICAgIGFkZENvZGUodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkpO1xuICAgIH1cbiAgICBmYWxsYmFja0NvZGVzLmZvckVhY2goZmMgPT4ge1xuICAgICAgaWYgKGNvZGVzLmluZGV4T2YoZmMpIDwgMCkgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShmYykpO1xuICAgIH0pO1xuICAgIHJldHVybiBjb2RlcztcbiAgfVxufVxuXG5sZXQgc2V0cyA9IFt7XG4gIGxuZ3M6IFsnYWNoJywgJ2FrJywgJ2FtJywgJ2FybicsICdicicsICdmaWwnLCAnZ3VuJywgJ2xuJywgJ21mZScsICdtZycsICdtaScsICdvYycsICdwdCcsICdwdC1CUicsICd0ZycsICd0bCcsICd0aScsICd0cicsICd1eicsICd3YSddLFxuICBucjogWzEsIDJdLFxuICBmYzogMVxufSwge1xuICBsbmdzOiBbJ2FmJywgJ2FuJywgJ2FzdCcsICdheicsICdiZycsICdibicsICdjYScsICdkYScsICdkZScsICdkZXYnLCAnZWwnLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLCAnZmknLCAnZm8nLCAnZnVyJywgJ2Z5JywgJ2dsJywgJ2d1JywgJ2hhJywgJ2hpJywgJ2h1JywgJ2h5JywgJ2lhJywgJ2l0JywgJ2trJywgJ2tuJywgJ2t1JywgJ2xiJywgJ21haScsICdtbCcsICdtbicsICdtcicsICduYWgnLCAnbmFwJywgJ25iJywgJ25lJywgJ25sJywgJ25uJywgJ25vJywgJ25zbycsICdwYScsICdwYXAnLCAncG1zJywgJ3BzJywgJ3B0LVBUJywgJ3JtJywgJ3NjbycsICdzZScsICdzaScsICdzbycsICdzb24nLCAnc3EnLCAnc3YnLCAnc3cnLCAndGEnLCAndGUnLCAndGsnLCAndXInLCAneW8nXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydheScsICdibycsICdjZ2cnLCAnZmEnLCAnaHQnLCAnaWQnLCAnamEnLCAnamJvJywgJ2thJywgJ2ttJywgJ2tvJywgJ2t5JywgJ2xvJywgJ21zJywgJ3NhaCcsICdzdScsICd0aCcsICd0dCcsICd1ZycsICd2aScsICd3bycsICd6aCddLFxuICBucjogWzFdLFxuICBmYzogM1xufSwge1xuICBsbmdzOiBbJ2JlJywgJ2JzJywgJ2NucicsICdkeicsICdocicsICdydScsICdzcicsICd1ayddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogNFxufSwge1xuICBsbmdzOiBbJ2FyJ10sXG4gIG5yOiBbMCwgMSwgMiwgMywgMTEsIDEwMF0sXG4gIGZjOiA1XG59LCB7XG4gIGxuZ3M6IFsnY3MnLCAnc2snXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDZcbn0sIHtcbiAgbG5nczogWydjc2InLCAncGwnXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDdcbn0sIHtcbiAgbG5nczogWydjeSddLFxuICBucjogWzEsIDIsIDMsIDhdLFxuICBmYzogOFxufSwge1xuICBsbmdzOiBbJ2ZyJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiA5XG59LCB7XG4gIGxuZ3M6IFsnZ2EnXSxcbiAgbnI6IFsxLCAyLCAzLCA3LCAxMV0sXG4gIGZjOiAxMFxufSwge1xuICBsbmdzOiBbJ2dkJ10sXG4gIG5yOiBbMSwgMiwgMywgMjBdLFxuICBmYzogMTFcbn0sIHtcbiAgbG5nczogWydpcyddLFxuICBucjogWzEsIDJdLFxuICBmYzogMTJcbn0sIHtcbiAgbG5nczogWydqdiddLFxuICBucjogWzAsIDFdLFxuICBmYzogMTNcbn0sIHtcbiAgbG5nczogWydrdyddLFxuICBucjogWzEsIDIsIDMsIDRdLFxuICBmYzogMTRcbn0sIHtcbiAgbG5nczogWydsdCddLFxuICBucjogWzEsIDIsIDEwXSxcbiAgZmM6IDE1XG59LCB7XG4gIGxuZ3M6IFsnbHYnXSxcbiAgbnI6IFsxLCAyLCAwXSxcbiAgZmM6IDE2XG59LCB7XG4gIGxuZ3M6IFsnbWsnXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDE3XG59LCB7XG4gIGxuZ3M6IFsnbW5rJ10sXG4gIG5yOiBbMCwgMSwgMl0sXG4gIGZjOiAxOFxufSwge1xuICBsbmdzOiBbJ210J10sXG4gIG5yOiBbMSwgMiwgMTEsIDIwXSxcbiAgZmM6IDE5XG59LCB7XG4gIGxuZ3M6IFsnb3InXSxcbiAgbnI6IFsyLCAxXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydybyddLFxuICBucjogWzEsIDIsIDIwXSxcbiAgZmM6IDIwXG59LCB7XG4gIGxuZ3M6IFsnc2wnXSxcbiAgbnI6IFs1LCAxLCAyLCAzXSxcbiAgZmM6IDIxXG59LCB7XG4gIGxuZ3M6IFsnaGUnLCAnaXcnXSxcbiAgbnI6IFsxLCAyLCAyMCwgMjFdLFxuICBmYzogMjJcbn1dO1xubGV0IF9ydWxlc1BsdXJhbHNUeXBlcyA9IHtcbiAgMTogbiA9PiBOdW1iZXIobiA+IDEpLFxuICAyOiBuID0+IE51bWJlcihuICE9IDEpLFxuICAzOiBuID0+IDAsXG4gIDQ6IG4gPT4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDQgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyKSxcbiAgNTogbiA9PiBOdW1iZXIobiA9PSAwID8gMCA6IG4gPT0gMSA/IDEgOiBuID09IDIgPyAyIDogbiAlIDEwMCA+PSAzICYmIG4gJSAxMDAgPD0gMTAgPyAzIDogbiAlIDEwMCA+PSAxMSA/IDQgOiA1KSxcbiAgNjogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPj0gMiAmJiBuIDw9IDQgPyAxIDogMiksXG4gIDc6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpLFxuICA4OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gIT0gOCAmJiBuICE9IDExID8gMiA6IDMpLFxuICA5OiBuID0+IE51bWJlcihuID49IDIpLFxuICAxMDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuIDwgNyA/IDIgOiBuIDwgMTEgPyAzIDogNCksXG4gIDExOiBuID0+IE51bWJlcihuID09IDEgfHwgbiA9PSAxMSA/IDAgOiBuID09IDIgfHwgbiA9PSAxMiA/IDEgOiBuID4gMiAmJiBuIDwgMjAgPyAyIDogMyksXG4gIDEyOiBuID0+IE51bWJlcihuICUgMTAgIT0gMSB8fCBuICUgMTAwID09IDExKSxcbiAgMTM6IG4gPT4gTnVtYmVyKG4gIT09IDApLFxuICAxNDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuID09IDMgPyAyIDogMyksXG4gIDE1OiBuID0+IE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gJSAxMCA+PSAyICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMiksXG4gIDE2OiBuID0+IE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gIT09IDAgPyAxIDogMiksXG4gIDE3OiBuID0+IE51bWJlcihuID09IDEgfHwgbiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiAxKSxcbiAgMTg6IG4gPT4gTnVtYmVyKG4gPT0gMCA/IDAgOiBuID09IDEgPyAxIDogMiksXG4gIDE5OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAwIHx8IG4gJSAxMDAgPiAxICYmIG4gJSAxMDAgPCAxMSA/IDEgOiBuICUgMTAwID4gMTAgJiYgbiAlIDEwMCA8IDIwID8gMiA6IDMpLFxuICAyMDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMCB8fCBuICUgMTAwID4gMCAmJiBuICUgMTAwIDwgMjAgPyAxIDogMiksXG4gIDIxOiBuID0+IE51bWJlcihuICUgMTAwID09IDEgPyAxIDogbiAlIDEwMCA9PSAyID8gMiA6IG4gJSAxMDAgPT0gMyB8fCBuICUgMTAwID09IDQgPyAzIDogMCksXG4gIDIyOiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IChuIDwgMCB8fCBuID4gMTApICYmIG4gJSAxMCA9PSAwID8gMiA6IDMpXG59O1xuY29uc3Qgbm9uSW50bFZlcnNpb25zID0gWyd2MScsICd2MicsICd2MyddO1xuY29uc3QgaW50bFZlcnNpb25zID0gWyd2NCddO1xuY29uc3Qgc3VmZml4ZXNPcmRlciA9IHtcbiAgemVybzogMCxcbiAgb25lOiAxLFxuICB0d286IDIsXG4gIGZldzogMyxcbiAgbWFueTogNCxcbiAgb3RoZXI6IDVcbn07XG5jb25zdCBjcmVhdGVSdWxlcyA9ICgpID0+IHtcbiAgY29uc3QgcnVsZXMgPSB7fTtcbiAgc2V0cy5mb3JFYWNoKHNldCA9PiB7XG4gICAgc2V0LmxuZ3MuZm9yRWFjaChsID0+IHtcbiAgICAgIHJ1bGVzW2xdID0ge1xuICAgICAgICBudW1iZXJzOiBzZXQubnIsXG4gICAgICAgIHBsdXJhbHM6IF9ydWxlc1BsdXJhbHNUeXBlc1tzZXQuZmNdXG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHJ1bGVzO1xufTtcbmNsYXNzIFBsdXJhbFJlc29sdmVyIHtcbiAgY29uc3RydWN0b3IobGFuZ3VhZ2VVdGlscykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLmxhbmd1YWdlVXRpbHMgPSBsYW5ndWFnZVV0aWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgncGx1cmFsUmVzb2x2ZXInKTtcbiAgICBpZiAoKCF0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gfHwgaW50bFZlcnNpb25zLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTikpICYmICh0eXBlb2YgSW50bCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUludGwuUGx1cmFsUnVsZXMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gPSAndjMnO1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1lvdXIgZW52aXJvbm1lbnQgc2VlbXMgbm90IHRvIGJlIEludGwgQVBJIGNvbXBhdGlibGUsIHVzZSBhbiBJbnRsLlBsdXJhbFJ1bGVzIHBvbHlmaWxsLiBXaWxsIGZhbGxiYWNrIHRvIHRoZSBjb21wYXRpYmlsaXR5SlNPTiB2MyBmb3JtYXQgaGFuZGxpbmcuJyk7XG4gICAgfVxuICAgIHRoaXMucnVsZXMgPSBjcmVhdGVSdWxlcygpO1xuICAgIHRoaXMucGx1cmFsUnVsZXNDYWNoZSA9IHt9O1xuICB9XG4gIGFkZFJ1bGUobG5nLCBvYmopIHtcbiAgICB0aGlzLnJ1bGVzW2xuZ10gPSBvYmo7XG4gIH1cbiAgY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGUgPSB7fTtcbiAgfVxuICBnZXRSdWxlKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICBjb25zdCBjbGVhbmVkQ29kZSA9IGdldENsZWFuZWRDb2RlKGNvZGUgPT09ICdkZXYnID8gJ2VuJyA6IGNvZGUpO1xuICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMub3JkaW5hbCA/ICdvcmRpbmFsJyA6ICdjYXJkaW5hbCc7XG4gICAgICBjb25zdCBjYWNoZUtleSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgY2xlYW5lZENvZGUsXG4gICAgICAgIHR5cGVcbiAgICAgIH0pO1xuICAgICAgaWYgKGNhY2hlS2V5IGluIHRoaXMucGx1cmFsUnVsZXNDYWNoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlW2NhY2hlS2V5XTtcbiAgICAgIH1cbiAgICAgIGxldCBydWxlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVsZSA9IG5ldyBJbnRsLlBsdXJhbFJ1bGVzKGNsZWFuZWRDb2RlLCB7XG4gICAgICAgICAgdHlwZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIWNvZGUubWF0Y2goLy18Xy8pKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxuZ1BhcnQgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgICAgIHJ1bGUgPSB0aGlzLmdldFJ1bGUobG5nUGFydCwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGVbY2FjaGVLZXldID0gcnVsZTtcbiAgICAgIHJldHVybiBydWxlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ydWxlc1tjb2RlXSB8fCB0aGlzLnJ1bGVzW3RoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKV07XG4gIH1cbiAgbmVlZHNQbHVyYWwoY29kZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjb25zdCBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUsIG9wdGlvbnMpO1xuICAgIGlmICh0aGlzLnNob3VsZFVzZUludGxBcGkoKSkge1xuICAgICAgcmV0dXJuIHJ1bGUgJiYgcnVsZS5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLmxlbmd0aCA+IDE7XG4gICAgfVxuICAgIHJldHVybiBydWxlICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPiAxO1xuICB9XG4gIGdldFBsdXJhbEZvcm1zT2ZLZXkoY29kZSwga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHJldHVybiB0aGlzLmdldFN1ZmZpeGVzKGNvZGUsIG9wdGlvbnMpLm1hcChzdWZmaXggPT4gYCR7a2V5fSR7c3VmZml4fWApO1xuICB9XG4gIGdldFN1ZmZpeGVzKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY29uc3QgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlLCBvcHRpb25zKTtcbiAgICBpZiAoIXJ1bGUpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICByZXR1cm4gcnVsZS5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLnNvcnQoKHBsdXJhbENhdGVnb3J5MSwgcGx1cmFsQ2F0ZWdvcnkyKSA9PiBzdWZmaXhlc09yZGVyW3BsdXJhbENhdGVnb3J5MV0gLSBzdWZmaXhlc09yZGVyW3BsdXJhbENhdGVnb3J5Ml0pLm1hcChwbHVyYWxDYXRlZ29yeSA9PiBgJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke29wdGlvbnMub3JkaW5hbCA/IGBvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gIDogJyd9JHtwbHVyYWxDYXRlZ29yeX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bGUubnVtYmVycy5tYXAobnVtYmVyID0+IHRoaXMuZ2V0U3VmZml4KGNvZGUsIG51bWJlciwgb3B0aW9ucykpO1xuICB9XG4gIGdldFN1ZmZpeChjb2RlLCBjb3VudCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjb25zdCBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUsIG9wdGlvbnMpO1xuICAgIGlmIChydWxlKSB7XG4gICAgICBpZiAodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5wcmVwZW5kfSR7b3B0aW9ucy5vcmRpbmFsID8gYG9yZGluYWwke3RoaXMub3B0aW9ucy5wcmVwZW5kfWAgOiAnJ30ke3J1bGUuc2VsZWN0KGNvdW50KX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0U3VmZml4UmV0cm9Db21wYXRpYmxlKHJ1bGUsIGNvdW50KTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIud2Fybihgbm8gcGx1cmFsIHJ1bGUgZm91bmQgZm9yOiAke2NvZGV9YCk7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShydWxlLCBjb3VudCkge1xuICAgIGNvbnN0IGlkeCA9IHJ1bGUubm9BYnMgPyBydWxlLnBsdXJhbHMoY291bnQpIDogcnVsZS5wbHVyYWxzKE1hdGguYWJzKGNvdW50KSk7XG4gICAgbGV0IHN1ZmZpeCA9IHJ1bGUubnVtYmVyc1tpZHhdO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXggJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMiAmJiBydWxlLm51bWJlcnNbMF0gPT09IDEpIHtcbiAgICAgIGlmIChzdWZmaXggPT09IDIpIHtcbiAgICAgICAgc3VmZml4ID0gJ3BsdXJhbCc7XG4gICAgICB9IGVsc2UgaWYgKHN1ZmZpeCA9PT0gMSkge1xuICAgICAgICBzdWZmaXggPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmV0dXJuU3VmZml4ID0gKCkgPT4gdGhpcy5vcHRpb25zLnByZXBlbmQgJiYgc3VmZml4LnRvU3RyaW5nKCkgPyB0aGlzLm9wdGlvbnMucHJlcGVuZCArIHN1ZmZpeC50b1N0cmluZygpIDogc3VmZml4LnRvU3RyaW5nKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9PT0gJ3YxJykge1xuICAgICAgaWYgKHN1ZmZpeCA9PT0gMSkgcmV0dXJuICcnO1xuICAgICAgaWYgKHR5cGVvZiBzdWZmaXggPT09ICdudW1iZXInKSByZXR1cm4gYF9wbHVyYWxfJHtzdWZmaXgudG9TdHJpbmcoKX1gO1xuICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjInKSB7XG4gICAgICByZXR1cm4gcmV0dXJuU3VmZml4KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXggJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMiAmJiBydWxlLm51bWJlcnNbMF0gPT09IDEpIHtcbiAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wcmVwZW5kICYmIGlkeC50b1N0cmluZygpID8gdGhpcy5vcHRpb25zLnByZXBlbmQgKyBpZHgudG9TdHJpbmcoKSA6IGlkeC50b1N0cmluZygpO1xuICB9XG4gIHNob3VsZFVzZUludGxBcGkoKSB7XG4gICAgcmV0dXJuICFub25JbnRsVmVyc2lvbnMuaW5jbHVkZXModGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OKTtcbiAgfVxufVxuXG5jb25zdCBkZWVwRmluZFdpdGhEZWZhdWx0cyA9IGZ1bmN0aW9uIChkYXRhLCBkZWZhdWx0RGF0YSwga2V5KSB7XG4gIGxldCBrZXlTZXBhcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICcuJztcbiAgbGV0IGlnbm9yZUpTT05TdHJ1Y3R1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XG4gIGxldCBwYXRoID0gZ2V0UGF0aFdpdGhEZWZhdWx0cyhkYXRhLCBkZWZhdWx0RGF0YSwga2V5KTtcbiAgaWYgKCFwYXRoICYmIGlnbm9yZUpTT05TdHJ1Y3R1cmUgJiYgaXNTdHJpbmcoa2V5KSkge1xuICAgIHBhdGggPSBkZWVwRmluZChkYXRhLCBrZXksIGtleVNlcGFyYXRvcik7XG4gICAgaWYgKHBhdGggPT09IHVuZGVmaW5lZCkgcGF0aCA9IGRlZXBGaW5kKGRlZmF1bHREYXRhLCBrZXksIGtleVNlcGFyYXRvcik7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuY29uc3QgcmVnZXhTYWZlID0gdmFsID0+IHZhbC5yZXBsYWNlKC9cXCQvZywgJyQkJCQnKTtcbmNsYXNzIEludGVycG9sYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdpbnRlcnBvbGF0b3InKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgfHwgKHZhbHVlID0+IHZhbHVlKTtcbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKCFvcHRpb25zLmludGVycG9sYXRpb24pIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHtcbiAgICAgIGVzY2FwZVZhbHVlOiB0cnVlXG4gICAgfTtcbiAgICBjb25zdCB7XG4gICAgICBlc2NhcGU6IGVzY2FwZSQxLFxuICAgICAgZXNjYXBlVmFsdWUsXG4gICAgICB1c2VSYXdWYWx1ZVRvRXNjYXBlLFxuICAgICAgcHJlZml4LFxuICAgICAgcHJlZml4RXNjYXBlZCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHN1ZmZpeEVzY2FwZWQsXG4gICAgICBmb3JtYXRTZXBhcmF0b3IsXG4gICAgICB1bmVzY2FwZVN1ZmZpeCxcbiAgICAgIHVuZXNjYXBlUHJlZml4LFxuICAgICAgbmVzdGluZ1ByZWZpeCxcbiAgICAgIG5lc3RpbmdQcmVmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ1N1ZmZpeCxcbiAgICAgIG5lc3RpbmdTdWZmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IsXG4gICAgICBtYXhSZXBsYWNlcyxcbiAgICAgIGFsd2F5c0Zvcm1hdFxuICAgIH0gPSBvcHRpb25zLmludGVycG9sYXRpb247XG4gICAgdGhpcy5lc2NhcGUgPSBlc2NhcGUkMSAhPT0gdW5kZWZpbmVkID8gZXNjYXBlJDEgOiBlc2NhcGU7XG4gICAgdGhpcy5lc2NhcGVWYWx1ZSA9IGVzY2FwZVZhbHVlICE9PSB1bmRlZmluZWQgPyBlc2NhcGVWYWx1ZSA6IHRydWU7XG4gICAgdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlID0gdXNlUmF3VmFsdWVUb0VzY2FwZSAhPT0gdW5kZWZpbmVkID8gdXNlUmF3VmFsdWVUb0VzY2FwZSA6IGZhbHNlO1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4ID8gcmVnZXhFc2NhcGUocHJlZml4KSA6IHByZWZpeEVzY2FwZWQgfHwgJ3t7JztcbiAgICB0aGlzLnN1ZmZpeCA9IHN1ZmZpeCA/IHJlZ2V4RXNjYXBlKHN1ZmZpeCkgOiBzdWZmaXhFc2NhcGVkIHx8ICd9fSc7XG4gICAgdGhpcy5mb3JtYXRTZXBhcmF0b3IgPSBmb3JtYXRTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMudW5lc2NhcGVQcmVmaXggPSB1bmVzY2FwZVN1ZmZpeCA/ICcnIDogdW5lc2NhcGVQcmVmaXggfHwgJy0nO1xuICAgIHRoaXMudW5lc2NhcGVTdWZmaXggPSB0aGlzLnVuZXNjYXBlUHJlZml4ID8gJycgOiB1bmVzY2FwZVN1ZmZpeCB8fCAnJztcbiAgICB0aGlzLm5lc3RpbmdQcmVmaXggPSBuZXN0aW5nUHJlZml4ID8gcmVnZXhFc2NhcGUobmVzdGluZ1ByZWZpeCkgOiBuZXN0aW5nUHJlZml4RXNjYXBlZCB8fCByZWdleEVzY2FwZSgnJHQoJyk7XG4gICAgdGhpcy5uZXN0aW5nU3VmZml4ID0gbmVzdGluZ1N1ZmZpeCA/IHJlZ2V4RXNjYXBlKG5lc3RpbmdTdWZmaXgpIDogbmVzdGluZ1N1ZmZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyknKTtcbiAgICB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yID0gbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMubWF4UmVwbGFjZXMgPSBtYXhSZXBsYWNlcyB8fCAxMDAwO1xuICAgIHRoaXMuYWx3YXlzRm9ybWF0ID0gYWx3YXlzRm9ybWF0ICE9PSB1bmRlZmluZWQgPyBhbHdheXNGb3JtYXQgOiBmYWxzZTtcbiAgICB0aGlzLnJlc2V0UmVnRXhwKCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5pbml0KHRoaXMub3B0aW9ucyk7XG4gIH1cbiAgcmVzZXRSZWdFeHAoKSB7XG4gICAgY29uc3QgZ2V0T3JSZXNldFJlZ0V4cCA9IChleGlzdGluZ1JlZ0V4cCwgcGF0dGVybikgPT4ge1xuICAgICAgaWYgKGV4aXN0aW5nUmVnRXhwICYmIGV4aXN0aW5nUmVnRXhwLnNvdXJjZSA9PT0gcGF0dGVybikge1xuICAgICAgICBleGlzdGluZ1JlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdSZWdFeHA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnZycpO1xuICAgIH07XG4gICAgdGhpcy5yZWdleHAgPSBnZXRPclJlc2V0UmVnRXhwKHRoaXMucmVnZXhwLCBgJHt0aGlzLnByZWZpeH0oLis/KSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5yZWdleHBVbmVzY2FwZSA9IGdldE9yUmVzZXRSZWdFeHAodGhpcy5yZWdleHBVbmVzY2FwZSwgYCR7dGhpcy5wcmVmaXh9JHt0aGlzLnVuZXNjYXBlUHJlZml4fSguKz8pJHt0aGlzLnVuZXNjYXBlU3VmZml4fSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5uZXN0aW5nUmVnZXhwID0gZ2V0T3JSZXNldFJlZ0V4cCh0aGlzLm5lc3RpbmdSZWdleHAsIGAke3RoaXMubmVzdGluZ1ByZWZpeH0oLis/KSR7dGhpcy5uZXN0aW5nU3VmZml4fWApO1xuICB9XG4gIGludGVycG9sYXRlKHN0ciwgZGF0YSwgbG5nLCBvcHRpb25zKSB7XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgcmVwbGFjZXM7XG4gICAgY29uc3QgZGVmYXVsdERhdGEgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24gJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyB8fCB7fTtcbiAgICBjb25zdCBoYW5kbGVGb3JtYXQgPSBrZXkgPT4ge1xuICAgICAgaWYgKGtleS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSA8IDApIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRlZXBGaW5kV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrZXksIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWx3YXlzRm9ybWF0ID8gdGhpcy5mb3JtYXQocGF0aCwgdW5kZWZpbmVkLCBsbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgaW50ZXJwb2xhdGlvbmtleToga2V5XG4gICAgICAgIH0pIDogcGF0aDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHAgPSBrZXkuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpO1xuICAgICAgY29uc3QgayA9IHAuc2hpZnQoKS50cmltKCk7XG4gICAgICBjb25zdCBmID0gcC5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKS50cmltKCk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVlcEZpbmRXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGssIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKSwgZiwgbG5nLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGludGVycG9sYXRpb25rZXk6IGtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZXNldFJlZ0V4cCgpO1xuICAgIGNvbnN0IG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgfHwgdGhpcy5vcHRpb25zLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjtcbiAgICBjb25zdCBza2lwT25WYXJpYWJsZXMgPSBvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzIDogdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzO1xuICAgIGNvbnN0IHRvZG9zID0gW3tcbiAgICAgIHJlZ2V4OiB0aGlzLnJlZ2V4cFVuZXNjYXBlLFxuICAgICAgc2FmZVZhbHVlOiB2YWwgPT4gcmVnZXhTYWZlKHZhbClcbiAgICB9LCB7XG4gICAgICByZWdleDogdGhpcy5yZWdleHAsXG4gICAgICBzYWZlVmFsdWU6IHZhbCA9PiB0aGlzLmVzY2FwZVZhbHVlID8gcmVnZXhTYWZlKHRoaXMuZXNjYXBlKHZhbCkpIDogcmVnZXhTYWZlKHZhbClcbiAgICB9XTtcbiAgICB0b2Rvcy5mb3JFYWNoKHRvZG8gPT4ge1xuICAgICAgcmVwbGFjZXMgPSAwO1xuICAgICAgd2hpbGUgKG1hdGNoID0gdG9kby5yZWdleC5leGVjKHN0cikpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZFZhciA9IG1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgdmFsdWUgPSBoYW5kbGVGb3JtYXQobWF0Y2hlZFZhcik7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIoc3RyLCBtYXRjaCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YWx1ZSA9IGlzU3RyaW5nKHRlbXApID8gdGVtcCA6ICcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgbWF0Y2hlZFZhcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgJHttYXRjaGVkVmFyfSBmb3IgaW50ZXJwb2xhdGluZyAke3N0cn1gKTtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyh2YWx1ZSkgJiYgIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSkge1xuICAgICAgICAgIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FmZVZhbHVlID0gdG9kby5zYWZlVmFsdWUodmFsdWUpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgc2FmZVZhbHVlKTtcbiAgICAgICAgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICAgIHRvZG8ucmVnZXgubGFzdEluZGV4ICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB0b2RvLnJlZ2V4Lmxhc3RJbmRleCAtPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9kby5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJlcGxhY2VzKys7XG4gICAgICAgIGlmIChyZXBsYWNlcyA+PSB0aGlzLm1heFJlcGxhY2VzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIG5lc3Qoc3RyLCBmYykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBsZXQgbWF0Y2g7XG4gICAgbGV0IHZhbHVlO1xuICAgIGxldCBjbG9uZWRPcHRpb25zO1xuICAgIGNvbnN0IGhhbmRsZUhhc09wdGlvbnMgPSAoa2V5LCBpbmhlcml0ZWRPcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBzZXAgPSB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yO1xuICAgICAgaWYgKGtleS5pbmRleE9mKHNlcCkgPCAwKSByZXR1cm4ga2V5O1xuICAgICAgY29uc3QgYyA9IGtleS5zcGxpdChuZXcgUmVnRXhwKGAke3NlcH1bIF0qe2ApKTtcbiAgICAgIGxldCBvcHRpb25zU3RyaW5nID0gYHske2NbMV19YDtcbiAgICAgIGtleSA9IGNbMF07XG4gICAgICBvcHRpb25zU3RyaW5nID0gdGhpcy5pbnRlcnBvbGF0ZShvcHRpb25zU3RyaW5nLCBjbG9uZWRPcHRpb25zKTtcbiAgICAgIGNvbnN0IG1hdGNoZWRTaW5nbGVRdW90ZXMgPSBvcHRpb25zU3RyaW5nLm1hdGNoKC8nL2cpO1xuICAgICAgY29uc3QgbWF0Y2hlZERvdWJsZVF1b3RlcyA9IG9wdGlvbnNTdHJpbmcubWF0Y2goL1wiL2cpO1xuICAgICAgaWYgKG1hdGNoZWRTaW5nbGVRdW90ZXMgJiYgbWF0Y2hlZFNpbmdsZVF1b3Rlcy5sZW5ndGggJSAyID09PSAwICYmICFtYXRjaGVkRG91YmxlUXVvdGVzIHx8IG1hdGNoZWREb3VibGVRdW90ZXMubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICBvcHRpb25zU3RyaW5nID0gb3B0aW9uc1N0cmluZy5yZXBsYWNlKC8nL2csICdcIicpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY2xvbmVkT3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9uc1N0cmluZyk7XG4gICAgICAgIGlmIChpbmhlcml0ZWRPcHRpb25zKSBjbG9uZWRPcHRpb25zID0ge1xuICAgICAgICAgIC4uLmluaGVyaXRlZE9wdGlvbnMsXG4gICAgICAgICAgLi4uY2xvbmVkT3B0aW9uc1xuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBmYWlsZWQgcGFyc2luZyBvcHRpb25zIHN0cmluZyBpbiBuZXN0aW5nIGZvciBrZXkgJHtrZXl9YCwgZSk7XG4gICAgICAgIHJldHVybiBgJHtrZXl9JHtzZXB9JHtvcHRpb25zU3RyaW5nfWA7XG4gICAgICB9XG4gICAgICBpZiAoY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWUgJiYgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWUuaW5kZXhPZih0aGlzLnByZWZpeCkgPiAtMSkgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9O1xuICAgIHdoaWxlIChtYXRjaCA9IHRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKHN0cikpIHtcbiAgICAgIGxldCBmb3JtYXR0ZXJzID0gW107XG4gICAgICBjbG9uZWRPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9O1xuICAgICAgY2xvbmVkT3B0aW9ucyA9IGNsb25lZE9wdGlvbnMucmVwbGFjZSAmJiAhaXNTdHJpbmcoY2xvbmVkT3B0aW9ucy5yZXBsYWNlKSA/IGNsb25lZE9wdGlvbnMucmVwbGFjZSA6IGNsb25lZE9wdGlvbnM7XG4gICAgICBjbG9uZWRPcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciA9IGZhbHNlO1xuICAgICAgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgbGV0IGRvUmVkdWNlID0gZmFsc2U7XG4gICAgICBpZiAobWF0Y2hbMF0uaW5kZXhPZih0aGlzLmZvcm1hdFNlcGFyYXRvcikgIT09IC0xICYmICEvey4qfS8udGVzdChtYXRjaFsxXSkpIHtcbiAgICAgICAgY29uc3QgciA9IG1hdGNoWzFdLnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKS5tYXAoZWxlbSA9PiBlbGVtLnRyaW0oKSk7XG4gICAgICAgIG1hdGNoWzFdID0gci5zaGlmdCgpO1xuICAgICAgICBmb3JtYXR0ZXJzID0gcjtcbiAgICAgICAgZG9SZWR1Y2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBmYyhoYW5kbGVIYXNPcHRpb25zLmNhbGwodGhpcywgbWF0Y2hbMV0udHJpbSgpLCBjbG9uZWRPcHRpb25zKSwgY2xvbmVkT3B0aW9ucyk7XG4gICAgICBpZiAodmFsdWUgJiYgbWF0Y2hbMF0gPT09IHN0ciAmJiAhaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICBpZiAoIWlzU3RyaW5nKHZhbHVlKSkgdmFsdWUgPSBtYWtlU3RyaW5nKHZhbHVlKTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHJlc29sdmUgJHttYXRjaFsxXX0gZm9yIG5lc3RpbmcgJHtzdHJ9YCk7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZWR1Y2UpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXR0ZXJzLnJlZHVjZSgodiwgZikgPT4gdGhpcy5mb3JtYXQodiwgZiwgb3B0aW9ucy5sbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIGludGVycG9sYXRpb25rZXk6IG1hdGNoWzFdLnRyaW0oKVxuICAgICAgICB9KSwgdmFsdWUudHJpbSgpKTtcbiAgICAgIH1cbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCB2YWx1ZSk7XG4gICAgICB0aGlzLnJlZ2V4cC5sYXN0SW5kZXggPSAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmNvbnN0IHBhcnNlRm9ybWF0U3RyID0gZm9ybWF0U3RyID0+IHtcbiAgbGV0IGZvcm1hdE5hbWUgPSBmb3JtYXRTdHIudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gIGNvbnN0IGZvcm1hdE9wdGlvbnMgPSB7fTtcbiAgaWYgKGZvcm1hdFN0ci5pbmRleE9mKCcoJykgPiAtMSkge1xuICAgIGNvbnN0IHAgPSBmb3JtYXRTdHIuc3BsaXQoJygnKTtcbiAgICBmb3JtYXROYW1lID0gcFswXS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBjb25zdCBvcHRTdHIgPSBwWzFdLnN1YnN0cmluZygwLCBwWzFdLmxlbmd0aCAtIDEpO1xuICAgIGlmIChmb3JtYXROYW1lID09PSAnY3VycmVuY3knICYmIG9wdFN0ci5pbmRleE9mKCc6JykgPCAwKSB7XG4gICAgICBpZiAoIWZvcm1hdE9wdGlvbnMuY3VycmVuY3kpIGZvcm1hdE9wdGlvbnMuY3VycmVuY3kgPSBvcHRTdHIudHJpbSgpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0TmFtZSA9PT0gJ3JlbGF0aXZldGltZScgJiYgb3B0U3RyLmluZGV4T2YoJzonKSA8IDApIHtcbiAgICAgIGlmICghZm9ybWF0T3B0aW9ucy5yYW5nZSkgZm9ybWF0T3B0aW9ucy5yYW5nZSA9IG9wdFN0ci50cmltKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9wdHMgPSBvcHRTdHIuc3BsaXQoJzsnKTtcbiAgICAgIG9wdHMuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgY29uc3QgW2tleSwgLi4ucmVzdF0gPSBvcHQuc3BsaXQoJzonKTtcbiAgICAgICAgICBjb25zdCB2YWwgPSByZXN0LmpvaW4oJzonKS50cmltKCkucmVwbGFjZSgvXicrfCcrJC9nLCAnJyk7XG4gICAgICAgICAgY29uc3QgdHJpbW1lZEtleSA9IGtleS50cmltKCk7XG4gICAgICAgICAgaWYgKCFmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldKSBmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldID0gdmFsO1xuICAgICAgICAgIGlmICh2YWwgPT09ICdmYWxzZScpIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSBmYWxzZTtcbiAgICAgICAgICBpZiAodmFsID09PSAndHJ1ZScpIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSB0cnVlO1xuICAgICAgICAgIGlmICghaXNOYU4odmFsKSkgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IHBhcnNlSW50KHZhbCwgMTApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmb3JtYXROYW1lLFxuICAgIGZvcm1hdE9wdGlvbnNcbiAgfTtcbn07XG5jb25zdCBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIgPSBmbiA9PiB7XG4gIGNvbnN0IGNhY2hlID0ge307XG4gIHJldHVybiAodmFsLCBsbmcsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgb3B0Rm9yQ2FjaGUgPSBvcHRpb25zO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbmtleSAmJiBvcHRpb25zLmZvcm1hdFBhcmFtcyAmJiBvcHRpb25zLmZvcm1hdFBhcmFtc1tvcHRpb25zLmludGVycG9sYXRpb25rZXldICYmIG9wdGlvbnNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSkge1xuICAgICAgb3B0Rm9yQ2FjaGUgPSB7XG4gICAgICAgIC4uLm9wdEZvckNhY2hlLFxuICAgICAgICBbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XTogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBsbmcgKyBKU09OLnN0cmluZ2lmeShvcHRGb3JDYWNoZSk7XG4gICAgbGV0IGZvcm1hdHRlciA9IGNhY2hlW2tleV07XG4gICAgaWYgKCFmb3JtYXR0ZXIpIHtcbiAgICAgIGZvcm1hdHRlciA9IGZuKGdldENsZWFuZWRDb2RlKGxuZyksIG9wdGlvbnMpO1xuICAgICAgY2FjaGVba2V5XSA9IGZvcm1hdHRlcjtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdHRlcih2YWwpO1xuICB9O1xufTtcbmNsYXNzIEZvcm1hdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdmb3JtYXR0ZXInKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZm9ybWF0cyA9IHtcbiAgICAgIG51bWJlcjogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pLFxuICAgICAgY3VycmVuY3k6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdCxcbiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5J1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIGRhdGV0aW1lOiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIHJlbGF0aXZldGltZTogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsLCBvcHQucmFuZ2UgfHwgJ2RheScpO1xuICAgICAgfSksXG4gICAgICBsaXN0OiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkxpc3RGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pXG4gICAgfTtcbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgaW5pdChzZXJ2aWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBpbnRlcnBvbGF0aW9uOiB7fVxuICAgIH07XG4gICAgdGhpcy5mb3JtYXRTZXBhcmF0b3IgPSBvcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcbiAgfVxuICBhZGQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBmYztcbiAgfVxuICBhZGRDYWNoZWQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoZmMpO1xuICB9XG4gIGZvcm1hdCh2YWx1ZSwgZm9ybWF0LCBsbmcpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgY29uc3QgZm9ybWF0cyA9IGZvcm1hdC5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcik7XG4gICAgaWYgKGZvcm1hdHMubGVuZ3RoID4gMSAmJiBmb3JtYXRzWzBdLmluZGV4T2YoJygnKSA+IDEgJiYgZm9ybWF0c1swXS5pbmRleE9mKCcpJykgPCAwICYmIGZvcm1hdHMuZmluZChmID0+IGYuaW5kZXhPZignKScpID4gLTEpKSB7XG4gICAgICBjb25zdCBsYXN0SW5kZXggPSBmb3JtYXRzLmZpbmRJbmRleChmID0+IGYuaW5kZXhPZignKScpID4gLTEpO1xuICAgICAgZm9ybWF0c1swXSA9IFtmb3JtYXRzWzBdLCAuLi5mb3JtYXRzLnNwbGljZSgxLCBsYXN0SW5kZXgpXS5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0cy5yZWR1Y2UoKG1lbSwgZikgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXROYW1lLFxuICAgICAgICBmb3JtYXRPcHRpb25zXG4gICAgICB9ID0gcGFyc2VGb3JtYXRTdHIoZik7XG4gICAgICBpZiAodGhpcy5mb3JtYXRzW2Zvcm1hdE5hbWVdKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSBtZW07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdmFsT3B0aW9ucyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSB8fCB7fTtcbiAgICAgICAgICBjb25zdCBsID0gdmFsT3B0aW9ucy5sb2NhbGUgfHwgdmFsT3B0aW9ucy5sbmcgfHwgb3B0aW9ucy5sb2NhbGUgfHwgb3B0aW9ucy5sbmcgfHwgbG5nO1xuICAgICAgICAgIGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0c1tmb3JtYXROYW1lXShtZW0sIGwsIHtcbiAgICAgICAgICAgIC4uLmZvcm1hdE9wdGlvbnMsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgLi4udmFsT3B0aW9uc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGB0aGVyZSB3YXMgbm8gZm9ybWF0IGZ1bmN0aW9uIGZvciAke2Zvcm1hdE5hbWV9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmNvbnN0IHJlbW92ZVBlbmRpbmcgPSAocSwgbmFtZSkgPT4ge1xuICBpZiAocS5wZW5kaW5nW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWxldGUgcS5wZW5kaW5nW25hbWVdO1xuICAgIHEucGVuZGluZ0NvdW50LS07XG4gIH1cbn07XG5jbGFzcyBDb25uZWN0b3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihiYWNrZW5kLCBzdG9yZSwgc2VydmljZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJhY2tlbmQgPSBiYWNrZW5kO1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLnNlcnZpY2VzID0gc2VydmljZXM7XG4gICAgdGhpcy5sYW5ndWFnZVV0aWxzID0gc2VydmljZXMubGFuZ3VhZ2VVdGlscztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2JhY2tlbmRDb25uZWN0b3InKTtcbiAgICB0aGlzLndhaXRpbmdSZWFkcyA9IFtdO1xuICAgIHRoaXMubWF4UGFyYWxsZWxSZWFkcyA9IG9wdGlvbnMubWF4UGFyYWxsZWxSZWFkcyB8fCAxMDtcbiAgICB0aGlzLnJlYWRpbmdDYWxscyA9IDA7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID49IDAgPyBvcHRpb25zLm1heFJldHJpZXMgOiA1O1xuICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gb3B0aW9ucy5yZXRyeVRpbWVvdXQgPj0gMSA/IG9wdGlvbnMucmV0cnlUaW1lb3V0IDogMzUwO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgaWYgKHRoaXMuYmFja2VuZCAmJiB0aGlzLmJhY2tlbmQuaW5pdCkge1xuICAgICAgdGhpcy5iYWNrZW5kLmluaXQoc2VydmljZXMsIG9wdGlvbnMuYmFja2VuZCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIHF1ZXVlTG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgdG9Mb2FkID0ge307XG4gICAgY29uc3QgcGVuZGluZyA9IHt9O1xuICAgIGNvbnN0IHRvTG9hZExhbmd1YWdlcyA9IHt9O1xuICAgIGNvbnN0IHRvTG9hZE5hbWVzcGFjZXMgPSB7fTtcbiAgICBsYW5ndWFnZXMuZm9yRWFjaChsbmcgPT4ge1xuICAgICAgbGV0IGhhc0FsbE5hbWVzcGFjZXMgPSB0cnVlO1xuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke2xuZ318JHtuc31gO1xuICAgICAgICBpZiAoIW9wdGlvbnMucmVsb2FkICYmIHRoaXMuc3RvcmUuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlW25hbWVdID0gMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlW25hbWVdIDwgMCkgOyBlbHNlIGlmICh0aGlzLnN0YXRlW25hbWVdID09PSAxKSB7XG4gICAgICAgICAgaWYgKHBlbmRpbmdbbmFtZV0gPT09IHVuZGVmaW5lZCkgcGVuZGluZ1tuYW1lXSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZVtuYW1lXSA9IDE7XG4gICAgICAgICAgaGFzQWxsTmFtZXNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChwZW5kaW5nW25hbWVdID09PSB1bmRlZmluZWQpIHBlbmRpbmdbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGlmICh0b0xvYWRbbmFtZV0gPT09IHVuZGVmaW5lZCkgdG9Mb2FkW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodG9Mb2FkTmFtZXNwYWNlc1tuc10gPT09IHVuZGVmaW5lZCkgdG9Mb2FkTmFtZXNwYWNlc1tuc10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghaGFzQWxsTmFtZXNwYWNlcykgdG9Mb2FkTGFuZ3VhZ2VzW2xuZ10gPSB0cnVlO1xuICAgIH0pO1xuICAgIGlmIChPYmplY3Qua2V5cyh0b0xvYWQpLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhwZW5kaW5nKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaCh7XG4gICAgICAgIHBlbmRpbmcsXG4gICAgICAgIHBlbmRpbmdDb3VudDogT2JqZWN0LmtleXMocGVuZGluZykubGVuZ3RoLFxuICAgICAgICBsb2FkZWQ6IHt9LFxuICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0b0xvYWQ6IE9iamVjdC5rZXlzKHRvTG9hZCksXG4gICAgICBwZW5kaW5nOiBPYmplY3Qua2V5cyhwZW5kaW5nKSxcbiAgICAgIHRvTG9hZExhbmd1YWdlczogT2JqZWN0LmtleXModG9Mb2FkTGFuZ3VhZ2VzKSxcbiAgICAgIHRvTG9hZE5hbWVzcGFjZXM6IE9iamVjdC5rZXlzKHRvTG9hZE5hbWVzcGFjZXMpXG4gICAgfTtcbiAgfVxuICBsb2FkZWQobmFtZSwgZXJyLCBkYXRhKSB7XG4gICAgY29uc3QgcyA9IG5hbWUuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBsbmcgPSBzWzBdO1xuICAgIGNvbnN0IG5zID0gc1sxXTtcbiAgICBpZiAoZXJyKSB0aGlzLmVtaXQoJ2ZhaWxlZExvYWRpbmcnLCBsbmcsIG5zLCBlcnIpO1xuICAgIGlmICghZXJyICYmIGRhdGEpIHtcbiAgICAgIHRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgZGF0YSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgICAgICAgc2tpcENvcHk6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlW25hbWVdID0gZXJyID8gLTEgOiAyO1xuICAgIGlmIChlcnIgJiYgZGF0YSkgdGhpcy5zdGF0ZVtuYW1lXSA9IDA7XG4gICAgY29uc3QgbG9hZGVkID0ge307XG4gICAgdGhpcy5xdWV1ZS5mb3JFYWNoKHEgPT4ge1xuICAgICAgcHVzaFBhdGgocS5sb2FkZWQsIFtsbmddLCBucyk7XG4gICAgICByZW1vdmVQZW5kaW5nKHEsIG5hbWUpO1xuICAgICAgaWYgKGVycikgcS5lcnJvcnMucHVzaChlcnIpO1xuICAgICAgaWYgKHEucGVuZGluZ0NvdW50ID09PSAwICYmICFxLmRvbmUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocS5sb2FkZWQpLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgaWYgKCFsb2FkZWRbbF0pIGxvYWRlZFtsXSA9IHt9O1xuICAgICAgICAgIGNvbnN0IGxvYWRlZEtleXMgPSBxLmxvYWRlZFtsXTtcbiAgICAgICAgICBpZiAobG9hZGVkS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvYWRlZEtleXMuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxvYWRlZFtsXVtuXSA9PT0gdW5kZWZpbmVkKSBsb2FkZWRbbF1bbl0gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcS5kb25lID0gdHJ1ZTtcbiAgICAgICAgaWYgKHEuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgIHEuY2FsbGJhY2socS5lcnJvcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHEuY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgbG9hZGVkKTtcbiAgICB0aGlzLnF1ZXVlID0gdGhpcy5xdWV1ZS5maWx0ZXIocSA9PiAhcS5kb25lKTtcbiAgfVxuICByZWFkKGxuZywgbnMsIGZjTmFtZSkge1xuICAgIGxldCB0cmllZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICBsZXQgd2FpdCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdGhpcy5yZXRyeVRpbWVvdXQ7XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFsbmcubGVuZ3RoKSByZXR1cm4gY2FsbGJhY2sobnVsbCwge30pO1xuICAgIGlmICh0aGlzLnJlYWRpbmdDYWxscyA+PSB0aGlzLm1heFBhcmFsbGVsUmVhZHMpIHtcbiAgICAgIHRoaXMud2FpdGluZ1JlYWRzLnB1c2goe1xuICAgICAgICBsbmcsXG4gICAgICAgIG5zLFxuICAgICAgICBmY05hbWUsXG4gICAgICAgIHRyaWVkLFxuICAgICAgICB3YWl0LFxuICAgICAgICBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVhZGluZ0NhbGxzKys7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICB0aGlzLnJlYWRpbmdDYWxscy0tO1xuICAgICAgaWYgKHRoaXMud2FpdGluZ1JlYWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMud2FpdGluZ1JlYWRzLnNoaWZ0KCk7XG4gICAgICAgIHRoaXMucmVhZChuZXh0LmxuZywgbmV4dC5ucywgbmV4dC5mY05hbWUsIG5leHQudHJpZWQsIG5leHQud2FpdCwgbmV4dC5jYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBpZiAoZXJyICYmIGRhdGEgJiYgdHJpZWQgPCB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZWFkLmNhbGwodGhpcywgbG5nLCBucywgZmNOYW1lLCB0cmllZCArIDEsIHdhaXQgKiAyLCBjYWxsYmFjayk7XG4gICAgICAgIH0sIHdhaXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICAgIH07XG4gICAgY29uc3QgZmMgPSB0aGlzLmJhY2tlbmRbZmNOYW1lXS5iaW5kKHRoaXMuYmFja2VuZCk7XG4gICAgaWYgKGZjLmxlbmd0aCA9PT0gMikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgciA9IGZjKGxuZywgbnMpO1xuICAgICAgICBpZiAociAmJiB0eXBlb2Ygci50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgci50aGVuKGRhdGEgPT4gcmVzb2x2ZXIobnVsbCwgZGF0YSkpLmNhdGNoKHJlc29sdmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlcihudWxsLCByKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlc29sdmVyKGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmYyhsbmcsIG5zLCByZXNvbHZlcik7XG4gIH1cbiAgcHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIGlmICghdGhpcy5iYWNrZW5kKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdObyBiYWNrZW5kIHdhcyBhZGRlZCB2aWEgaTE4bmV4dC51c2UuIFdpbGwgbm90IGxvYWQgcmVzb3VyY2VzLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhsYW5ndWFnZXMpKSBsYW5ndWFnZXMgPSB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGxhbmd1YWdlcyk7XG4gICAgaWYgKGlzU3RyaW5nKG5hbWVzcGFjZXMpKSBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdO1xuICAgIGNvbnN0IHRvTG9hZCA9IHRoaXMucXVldWVMb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIGlmICghdG9Mb2FkLnRvTG9hZC5sZW5ndGgpIHtcbiAgICAgIGlmICghdG9Mb2FkLnBlbmRpbmcubGVuZ3RoKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRvTG9hZC50b0xvYWQuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIHRoaXMubG9hZE9uZShuYW1lKTtcbiAgICB9KTtcbiAgfVxuICBsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgY2FsbGJhY2spIHtcbiAgICB0aGlzLnByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcywge30sIGNhbGxiYWNrKTtcbiAgfVxuICByZWxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBjYWxsYmFjaykge1xuICAgIHRoaXMucHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCB7XG4gICAgICByZWxvYWQ6IHRydWVcbiAgICB9LCBjYWxsYmFjayk7XG4gIH1cbiAgbG9hZE9uZShuYW1lKSB7XG4gICAgbGV0IHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gICAgY29uc3QgcyA9IG5hbWUuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBsbmcgPSBzWzBdO1xuICAgIGNvbnN0IG5zID0gc1sxXTtcbiAgICB0aGlzLnJlYWQobG5nLCBucywgJ3JlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGVycikgdGhpcy5sb2dnZXIud2FybihgJHtwcmVmaXh9bG9hZGluZyBuYW1lc3BhY2UgJHtuc30gZm9yIGxhbmd1YWdlICR7bG5nfSBmYWlsZWRgLCBlcnIpO1xuICAgICAgaWYgKCFlcnIgJiYgZGF0YSkgdGhpcy5sb2dnZXIubG9nKGAke3ByZWZpeH1sb2FkZWQgbmFtZXNwYWNlICR7bnN9IGZvciBsYW5ndWFnZSAke2xuZ31gLCBkYXRhKTtcbiAgICAgIHRoaXMubG9hZGVkKG5hbWUsIGVyciwgZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgc2F2ZU1pc3NpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgaXNVcGRhdGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDoge307XG4gICAgbGV0IGNsYiA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogKCkgPT4ge307XG4gICAgaWYgKHRoaXMuc2VydmljZXMudXRpbHMgJiYgdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIXRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYGRpZCBub3Qgc2F2ZSBrZXkgXCIke2tleX1cIiBhcyB0aGUgbmFtZXNwYWNlIFwiJHtuYW1lc3BhY2V9XCIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwgJ1RoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHwga2V5ID09PSBudWxsIHx8IGtleSA9PT0gJycpIHJldHVybjtcbiAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5jcmVhdGUpIHtcbiAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGlzVXBkYXRlXG4gICAgICB9O1xuICAgICAgY29uc3QgZmMgPSB0aGlzLmJhY2tlbmQuY3JlYXRlLmJpbmQodGhpcy5iYWNrZW5kKTtcbiAgICAgIGlmIChmYy5sZW5ndGggPCA2KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHI7XG4gICAgICAgICAgaWYgKGZjLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgciA9IGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIG9wdHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByID0gZmMobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyICYmIHR5cGVvZiByLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHIudGhlbihkYXRhID0+IGNsYihudWxsLCBkYXRhKSkuY2F0Y2goY2xiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xiKG51bGwsIHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY2xiKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIGNsYiwgb3B0cyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbGFuZ3VhZ2VzIHx8ICFsYW5ndWFnZXNbMF0pIHJldHVybjtcbiAgICB0aGlzLnN0b3JlLmFkZFJlc291cmNlKGxhbmd1YWdlc1swXSwgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUpO1xuICB9XG59XG5cbmNvbnN0IGdldCA9ICgpID0+ICh7XG4gIGRlYnVnOiBmYWxzZSxcbiAgaW5pdEltbWVkaWF0ZTogdHJ1ZSxcbiAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgZGVmYXVsdE5TOiBbJ3RyYW5zbGF0aW9uJ10sXG4gIGZhbGxiYWNrTG5nOiBbJ2RldiddLFxuICBmYWxsYmFja05TOiBmYWxzZSxcbiAgc3VwcG9ydGVkTG5nczogZmFsc2UsXG4gIG5vbkV4cGxpY2l0U3VwcG9ydGVkTG5nczogZmFsc2UsXG4gIGxvYWQ6ICdhbGwnLFxuICBwcmVsb2FkOiBmYWxzZSxcbiAgc2ltcGxpZnlQbHVyYWxTdWZmaXg6IHRydWUsXG4gIGtleVNlcGFyYXRvcjogJy4nLFxuICBuc1NlcGFyYXRvcjogJzonLFxuICBwbHVyYWxTZXBhcmF0b3I6ICdfJyxcbiAgY29udGV4dFNlcGFyYXRvcjogJ18nLFxuICBwYXJ0aWFsQnVuZGxlZExhbmd1YWdlczogZmFsc2UsXG4gIHNhdmVNaXNzaW5nOiBmYWxzZSxcbiAgdXBkYXRlTWlzc2luZzogZmFsc2UsXG4gIHNhdmVNaXNzaW5nVG86ICdmYWxsYmFjaycsXG4gIHNhdmVNaXNzaW5nUGx1cmFsczogdHJ1ZSxcbiAgbWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLFxuICBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI6IGZhbHNlLFxuICBwb3N0UHJvY2VzczogZmFsc2UsXG4gIHBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkOiBmYWxzZSxcbiAgcmV0dXJuTnVsbDogZmFsc2UsXG4gIHJldHVybkVtcHR5U3RyaW5nOiB0cnVlLFxuICByZXR1cm5PYmplY3RzOiBmYWxzZSxcbiAgam9pbkFycmF5czogZmFsc2UsXG4gIHJldHVybmVkT2JqZWN0SGFuZGxlcjogZmFsc2UsXG4gIHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLFxuICBhcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk6IGZhbHNlLFxuICBhcHBlbmROYW1lc3BhY2VUb0NJTW9kZTogZmFsc2UsXG4gIG92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyOiBhcmdzID0+IHtcbiAgICBsZXQgcmV0ID0ge307XG4gICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnb2JqZWN0JykgcmV0ID0gYXJnc1sxXTtcbiAgICBpZiAoaXNTdHJpbmcoYXJnc1sxXSkpIHJldC5kZWZhdWx0VmFsdWUgPSBhcmdzWzFdO1xuICAgIGlmIChpc1N0cmluZyhhcmdzWzJdKSkgcmV0LnREZXNjcmlwdGlvbiA9IGFyZ3NbMl07XG4gICAgaWYgKHR5cGVvZiBhcmdzWzJdID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgYXJnc1szXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWzNdIHx8IGFyZ3NbMl07XG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHJldFtrZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG4gIGludGVycG9sYXRpb246IHtcbiAgICBlc2NhcGVWYWx1ZTogdHJ1ZSxcbiAgICBmb3JtYXQ6IHZhbHVlID0+IHZhbHVlLFxuICAgIHByZWZpeDogJ3t7JyxcbiAgICBzdWZmaXg6ICd9fScsXG4gICAgZm9ybWF0U2VwYXJhdG9yOiAnLCcsXG4gICAgdW5lc2NhcGVQcmVmaXg6ICctJyxcbiAgICBuZXN0aW5nUHJlZml4OiAnJHQoJyxcbiAgICBuZXN0aW5nU3VmZml4OiAnKScsXG4gICAgbmVzdGluZ09wdGlvbnNTZXBhcmF0b3I6ICcsJyxcbiAgICBtYXhSZXBsYWNlczogMTAwMCxcbiAgICBza2lwT25WYXJpYWJsZXM6IHRydWVcbiAgfVxufSk7XG5jb25zdCB0cmFuc2Zvcm1PcHRpb25zID0gb3B0aW9ucyA9PiB7XG4gIGlmIChpc1N0cmluZyhvcHRpb25zLm5zKSkgb3B0aW9ucy5ucyA9IFtvcHRpb25zLm5zXTtcbiAgaWYgKGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMbmcpKSBvcHRpb25zLmZhbGxiYWNrTG5nID0gW29wdGlvbnMuZmFsbGJhY2tMbmddO1xuICBpZiAoaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja05TKSkgb3B0aW9ucy5mYWxsYmFja05TID0gW29wdGlvbnMuZmFsbGJhY2tOU107XG4gIGlmIChvcHRpb25zLnN1cHBvcnRlZExuZ3MgJiYgb3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoJ2NpbW9kZScpIDwgMCkge1xuICAgIG9wdGlvbnMuc3VwcG9ydGVkTG5ncyA9IG9wdGlvbnMuc3VwcG9ydGVkTG5ncy5jb25jYXQoWydjaW1vZGUnXSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5jb25zdCBiaW5kTWVtYmVyRnVuY3Rpb25zID0gaW5zdCA9PiB7XG4gIGNvbnN0IG1lbXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5zdCkpO1xuICBtZW1zLmZvckVhY2gobWVtID0+IHtcbiAgICBpZiAodHlwZW9mIGluc3RbbWVtXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5zdFttZW1dID0gaW5zdFttZW1dLmJpbmQoaW5zdCk7XG4gICAgfVxuICB9KTtcbn07XG5jbGFzcyBJMThuIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gdHJhbnNmb3JtT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0aGlzLnNlcnZpY2VzID0ge307XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyO1xuICAgIHRoaXMubW9kdWxlcyA9IHtcbiAgICAgIGV4dGVybmFsOiBbXVxuICAgIH07XG4gICAgYmluZE1lbWJlckZ1bmN0aW9ucyh0aGlzKTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgIXRoaXMuaXNJbml0aWFsaXplZCAmJiAhb3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKSB7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH1cbiAgaW5pdCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gdHJ1ZTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmRlZmF1bHROUyAmJiBvcHRpb25zLmRlZmF1bHROUyAhPT0gZmFsc2UgJiYgb3B0aW9ucy5ucykge1xuICAgICAgaWYgKGlzU3RyaW5nKG9wdGlvbnMubnMpKSB7XG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdE5TID0gb3B0aW9ucy5ucztcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5ucy5pbmRleE9mKCd0cmFuc2xhdGlvbicpIDwgMCkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHROUyA9IG9wdGlvbnMubnNbMF07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlZk9wdHMgPSBnZXQoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5kZWZPcHRzLFxuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4udHJhbnNmb3JtT3B0aW9ucyhvcHRpb25zKVxuICAgIH07XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHtcbiAgICAgICAgLi4uZGVmT3B0cy5pbnRlcnBvbGF0aW9uLFxuICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy51c2VyRGVmaW5lZEtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5uc1NlcGFyYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3I7XG4gICAgfVxuICAgIGNvbnN0IGNyZWF0ZUNsYXNzT25EZW1hbmQgPSBDbGFzc09yT2JqZWN0ID0+IHtcbiAgICAgIGlmICghQ2xhc3NPck9iamVjdCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAodHlwZW9mIENsYXNzT3JPYmplY3QgPT09ICdmdW5jdGlvbicpIHJldHVybiBuZXcgQ2xhc3NPck9iamVjdCgpO1xuICAgICAgcmV0dXJuIENsYXNzT3JPYmplY3Q7XG4gICAgfTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmxvZ2dlcikge1xuICAgICAgICBiYXNlTG9nZ2VyLmluaXQoY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMubG9nZ2VyKSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VMb2dnZXIuaW5pdChudWxsLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgbGV0IGZvcm1hdHRlcjtcbiAgICAgIGlmICh0aGlzLm1vZHVsZXMuZm9ybWF0dGVyKSB7XG4gICAgICAgIGZvcm1hdHRlciA9IHRoaXMubW9kdWxlcy5mb3JtYXR0ZXI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmb3JtYXR0ZXIgPSBGb3JtYXR0ZXI7XG4gICAgICB9XG4gICAgICBjb25zdCBsdSA9IG5ldyBMYW5ndWFnZVV0aWwodGhpcy5vcHRpb25zKTtcbiAgICAgIHRoaXMuc3RvcmUgPSBuZXcgUmVzb3VyY2VTdG9yZSh0aGlzLm9wdGlvbnMucmVzb3VyY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgcyA9IHRoaXMuc2VydmljZXM7XG4gICAgICBzLmxvZ2dlciA9IGJhc2VMb2dnZXI7XG4gICAgICBzLnJlc291cmNlU3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgcy5sYW5ndWFnZVV0aWxzID0gbHU7XG4gICAgICBzLnBsdXJhbFJlc29sdmVyID0gbmV3IFBsdXJhbFJlc29sdmVyKGx1LCB7XG4gICAgICAgIHByZXBlbmQ6IHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IsXG4gICAgICAgIGNvbXBhdGliaWxpdHlKU09OOiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04sXG4gICAgICAgIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiB0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXhcbiAgICAgIH0pO1xuICAgICAgaWYgKGZvcm1hdHRlciAmJiAoIXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCB8fCB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgPT09IGRlZk9wdHMuaW50ZXJwb2xhdGlvbi5mb3JtYXQpKSB7XG4gICAgICAgIHMuZm9ybWF0dGVyID0gY3JlYXRlQ2xhc3NPbkRlbWFuZChmb3JtYXR0ZXIpO1xuICAgICAgICBzLmZvcm1hdHRlci5pbml0KHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCA9IHMuZm9ybWF0dGVyLmZvcm1hdC5iaW5kKHMuZm9ybWF0dGVyKTtcbiAgICAgIH1cbiAgICAgIHMuaW50ZXJwb2xhdG9yID0gbmV3IEludGVycG9sYXRvcih0aGlzLm9wdGlvbnMpO1xuICAgICAgcy51dGlscyA9IHtcbiAgICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiB0aGlzLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKHRoaXMpXG4gICAgICB9O1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yID0gbmV3IENvbm5lY3RvcihjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5iYWNrZW5kKSwgcy5yZXNvdXJjZVN0b3JlLCBzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSB7XG4gICAgICAgIHMubGFuZ3VhZ2VEZXRlY3RvciA9IGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IpO1xuICAgICAgICBpZiAocy5sYW5ndWFnZURldGVjdG9yLmluaXQpIHMubGFuZ3VhZ2VEZXRlY3Rvci5pbml0KHMsIHRoaXMub3B0aW9ucy5kZXRlY3Rpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpIHtcbiAgICAgICAgcy5pMThuRm9ybWF0ID0gY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCk7XG4gICAgICAgIGlmIChzLmkxOG5Gb3JtYXQuaW5pdCkgcy5pMThuRm9ybWF0LmluaXQodGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcih0aGlzLnNlcnZpY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tb2R1bGVzLmV4dGVybmFsLmZvckVhY2gobSA9PiB7XG4gICAgICAgIGlmIChtLmluaXQpIG0uaW5pdCh0aGlzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmZvcm1hdCA9IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdDtcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyAmJiAhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLm9wdGlvbnMubG5nKSB7XG4gICAgICBjb25zdCBjb2RlcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICBpZiAoY29kZXMubGVuZ3RoID4gMCAmJiBjb2Rlc1swXSAhPT0gJ2RldicpIHRoaXMub3B0aW9ucy5sbmcgPSBjb2Rlc1swXTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMub3B0aW9ucy5sbmcpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2luaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWQnKTtcbiAgICB9XG4gICAgY29uc3Qgc3RvcmVBcGkgPSBbJ2dldFJlc291cmNlJywgJ2hhc1Jlc291cmNlQnVuZGxlJywgJ2dldFJlc291cmNlQnVuZGxlJywgJ2dldERhdGFCeUxhbmd1YWdlJ107XG4gICAgc3RvcmVBcGkuZm9yRWFjaChmY05hbWUgPT4ge1xuICAgICAgdGhpc1tmY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVbZmNOYW1lXSguLi5hcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBzdG9yZUFwaUNoYWluZWQgPSBbJ2FkZFJlc291cmNlJywgJ2FkZFJlc291cmNlcycsICdhZGRSZXNvdXJjZUJ1bmRsZScsICdyZW1vdmVSZXNvdXJjZUJ1bmRsZSddO1xuICAgIHN0b3JlQXBpQ2hhaW5lZC5mb3JFYWNoKGZjTmFtZSA9PiB7XG4gICAgICB0aGlzW2ZjTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnN0b3JlW2ZjTmFtZV0oLi4uYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbmlzaCA9IChlcnIsIHQpID0+IHtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkICYmICF0aGlzLmluaXRpYWxpemVkU3RvcmVPbmNlKSB0aGlzLmxvZ2dlci53YXJuKCdpbml0OiBpMThuZXh0IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFlvdSBzaG91bGQgY2FsbCBpbml0IGp1c3Qgb25jZSEnKTtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSkgdGhpcy5sb2dnZXIubG9nKCdpbml0aWFsaXplZCcsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW1pdCgnaW5pdGlhbGl6ZWQnLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHQpO1xuICAgICAgICBjYWxsYmFjayhlcnIsIHQpO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSAhPT0gJ3YxJyAmJiAhdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm4gZmluaXNoKG51bGwsIHRoaXMudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2UodGhpcy5vcHRpb25zLmxuZywgZmluaXNoKTtcbiAgICB9O1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVzb3VyY2VzIHx8ICF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSkge1xuICAgICAgbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGxvYWQsIDApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgbG9hZFJlc291cmNlcyhsYW5ndWFnZSkge1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBsZXQgdXNlZENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgY29uc3QgdXNlZExuZyA9IGlzU3RyaW5nKGxhbmd1YWdlKSA/IGxhbmd1YWdlIDogdGhpcy5sYW5ndWFnZTtcbiAgICBpZiAodHlwZW9mIGxhbmd1YWdlID09PSAnZnVuY3Rpb24nKSB1c2VkQ2FsbGJhY2sgPSBsYW5ndWFnZTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZXNvdXJjZXMgfHwgdGhpcy5vcHRpb25zLnBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzKSB7XG4gICAgICBpZiAodXNlZExuZyAmJiB1c2VkTG5nLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnICYmICghdGhpcy5vcHRpb25zLnByZWxvYWQgfHwgdGhpcy5vcHRpb25zLnByZWxvYWQubGVuZ3RoID09PSAwKSkgcmV0dXJuIHVzZWRDYWxsYmFjaygpO1xuICAgICAgY29uc3QgdG9Mb2FkID0gW107XG4gICAgICBjb25zdCBhcHBlbmQgPSBsbmcgPT4ge1xuICAgICAgICBpZiAoIWxuZykgcmV0dXJuO1xuICAgICAgICBpZiAobG5nID09PSAnY2ltb2RlJykgcmV0dXJuO1xuICAgICAgICBjb25zdCBsbmdzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsbmcpO1xuICAgICAgICBsbmdzLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgaWYgKGwgPT09ICdjaW1vZGUnKSByZXR1cm47XG4gICAgICAgICAgaWYgKHRvTG9hZC5pbmRleE9mKGwpIDwgMCkgdG9Mb2FkLnB1c2gobCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGlmICghdXNlZExuZykge1xuICAgICAgICBjb25zdCBmYWxsYmFja3MgPSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgICBmYWxsYmFja3MuZm9yRWFjaChsID0+IGFwcGVuZChsKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBlbmQodXNlZExuZyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnByZWxvYWQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChsID0+IGFwcGVuZChsKSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IubG9hZCh0b0xvYWQsIHRoaXMub3B0aW9ucy5ucywgZSA9PiB7XG4gICAgICAgIGlmICghZSAmJiAhdGhpcy5yZXNvbHZlZExhbmd1YWdlICYmIHRoaXMubGFuZ3VhZ2UpIHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgdXNlZENhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZWRDYWxsYmFjayhudWxsKTtcbiAgICB9XG4gIH1cbiAgcmVsb2FkUmVzb3VyY2VzKGxuZ3MsIG5zLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBpZiAodHlwZW9mIGxuZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gbG5ncztcbiAgICAgIGxuZ3MgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gbnM7XG4gICAgICBucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFsbmdzKSBsbmdzID0gdGhpcy5sYW5ndWFnZXM7XG4gICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMubnM7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBub29wO1xuICAgIHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5yZWxvYWQobG5ncywgbnMsIGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICB1c2UobW9kdWxlKSB7XG4gICAgaWYgKCFtb2R1bGUpIHRocm93IG5ldyBFcnJvcignWW91IGFyZSBwYXNzaW5nIGFuIHVuZGVmaW5lZCBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKCFtb2R1bGUudHlwZSkgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHBhc3NpbmcgYSB3cm9uZyBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnYmFja2VuZCcpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5iYWNrZW5kID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsb2dnZXInIHx8IG1vZHVsZS5sb2cgJiYgbW9kdWxlLndhcm4gJiYgbW9kdWxlLmVycm9yKSB7XG4gICAgICB0aGlzLm1vZHVsZXMubG9nZ2VyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsYW5ndWFnZURldGVjdG9yJykge1xuICAgICAgdGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2kxOG5Gb3JtYXQnKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAncG9zdFByb2Nlc3NvcicpIHtcbiAgICAgIHBvc3RQcm9jZXNzb3IuYWRkUG9zdFByb2Nlc3Nvcihtb2R1bGUpO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdmb3JtYXR0ZXInKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuZm9ybWF0dGVyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICczcmRQYXJ0eScpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5wdXNoKG1vZHVsZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFJlc29sdmVkTGFuZ3VhZ2UobCkge1xuICAgIGlmICghbCB8fCAhdGhpcy5sYW5ndWFnZXMpIHJldHVybjtcbiAgICBpZiAoWydjaW1vZGUnLCAnZGV2J10uaW5kZXhPZihsKSA+IC0xKSByZXR1cm47XG4gICAgZm9yIChsZXQgbGkgPSAwOyBsaSA8IHRoaXMubGFuZ3VhZ2VzLmxlbmd0aDsgbGkrKykge1xuICAgICAgY29uc3QgbG5nSW5MbmdzID0gdGhpcy5sYW5ndWFnZXNbbGldO1xuICAgICAgaWYgKFsnY2ltb2RlJywgJ2RldiddLmluZGV4T2YobG5nSW5MbmdzKSA+IC0xKSBjb250aW51ZTtcbiAgICAgIGlmICh0aGlzLnN0b3JlLmhhc0xhbmd1YWdlU29tZVRyYW5zbGF0aW9ucyhsbmdJbkxuZ3MpKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IGxuZ0luTG5ncztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNoYW5nZUxhbmd1YWdlKGxuZywgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gbG5nO1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdpbmcnLCBsbmcpO1xuICAgIGNvbnN0IHNldExuZ1Byb3BzID0gbCA9PiB7XG4gICAgICB0aGlzLmxhbmd1YWdlID0gbDtcbiAgICAgIHRoaXMubGFuZ3VhZ2VzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsKTtcbiAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZShsKTtcbiAgICB9O1xuICAgIGNvbnN0IGRvbmUgPSAoZXJyLCBsKSA9PiB7XG4gICAgICBpZiAobCkge1xuICAgICAgICBzZXRMbmdQcm9wcyhsKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuICAgICAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnQoLi4uYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi50KC4uLmFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNldExuZyA9IGxuZ3MgPT4ge1xuICAgICAgaWYgKCFsbmcgJiYgIWxuZ3MgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yKSBsbmdzID0gW107XG4gICAgICBjb25zdCBsID0gaXNTdHJpbmcobG5ncykgPyBsbmdzIDogdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEJlc3RNYXRjaEZyb21Db2RlcyhsbmdzKTtcbiAgICAgIGlmIChsKSB7XG4gICAgICAgIGlmICghdGhpcy5sYW5ndWFnZSkge1xuICAgICAgICAgIHNldExuZ1Byb3BzKGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy50cmFuc2xhdG9yLmxhbmd1YWdlKSB0aGlzLnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UobCk7XG4gICAgICAgIGlmICh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmNhY2hlVXNlckxhbmd1YWdlKSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UobCk7XG4gICAgICB9XG4gICAgICB0aGlzLmxvYWRSZXNvdXJjZXMobCwgZXJyID0+IHtcbiAgICAgICAgZG9uZShlcnIsIGwpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAoIWxuZyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYykge1xuICAgICAgc2V0TG5nKHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoKSk7XG4gICAgfSBlbHNlIGlmICghbG5nICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmMpIHtcbiAgICAgIGlmICh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KCkudGhlbihzZXRMbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdChzZXRMbmcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRMbmcobG5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGdldEZpeGVkVChsbmcsIG5zLCBrZXlQcmVmaXgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICBjb25zdCBmaXhlZFQgPSBmdW5jdGlvbiAoa2V5LCBvcHRzKSB7XG4gICAgICBsZXQgb3B0aW9ucztcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICByZXN0W19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBfdGhpczMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihba2V5LCBvcHRzXS5jb25jYXQocmVzdCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5vcHRzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBvcHRpb25zLmxuZyA9IG9wdGlvbnMubG5nIHx8IGZpeGVkVC5sbmc7XG4gICAgICBvcHRpb25zLmxuZ3MgPSBvcHRpb25zLmxuZ3MgfHwgZml4ZWRULmxuZ3M7XG4gICAgICBvcHRpb25zLm5zID0gb3B0aW9ucy5ucyB8fCBmaXhlZFQubnM7XG4gICAgICBpZiAob3B0aW9ucy5rZXlQcmVmaXggIT09ICcnKSBvcHRpb25zLmtleVByZWZpeCA9IG9wdGlvbnMua2V5UHJlZml4IHx8IGtleVByZWZpeCB8fCBmaXhlZFQua2V5UHJlZml4O1xuICAgICAgY29uc3Qga2V5U2VwYXJhdG9yID0gX3RoaXMzLm9wdGlvbnMua2V5U2VwYXJhdG9yIHx8ICcuJztcbiAgICAgIGxldCByZXN1bHRLZXk7XG4gICAgICBpZiAob3B0aW9ucy5rZXlQcmVmaXggJiYgQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgIHJlc3VsdEtleSA9IGtleS5tYXAoayA9PiBgJHtvcHRpb25zLmtleVByZWZpeH0ke2tleVNlcGFyYXRvcn0ke2t9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRLZXkgPSBvcHRpb25zLmtleVByZWZpeCA/IGAke29wdGlvbnMua2V5UHJlZml4fSR7a2V5U2VwYXJhdG9yfSR7a2V5fWAgOiBrZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3RoaXMzLnQocmVzdWx0S2V5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGlmIChpc1N0cmluZyhsbmcpKSB7XG4gICAgICBmaXhlZFQubG5nID0gbG5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXhlZFQubG5ncyA9IGxuZztcbiAgICB9XG4gICAgZml4ZWRULm5zID0gbnM7XG4gICAgZml4ZWRULmtleVByZWZpeCA9IGtleVByZWZpeDtcbiAgICByZXR1cm4gZml4ZWRUO1xuICB9XG4gIHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiB0aGlzLnRyYW5zbGF0b3IudHJhbnNsYXRlKC4uLmFyZ3VtZW50cyk7XG4gIH1cbiAgZXhpc3RzKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IgJiYgdGhpcy50cmFuc2xhdG9yLmV4aXN0cyguLi5hcmd1bWVudHMpO1xuICB9XG4gIHNldERlZmF1bHROYW1lc3BhY2UobnMpIHtcbiAgICB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TID0gbnM7XG4gIH1cbiAgaGFzTG9hZGVkTmFtZXNwYWNlKG5zKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG5leHQgd2FzIG5vdCBpbml0aWFsaXplZCcsIHRoaXMubGFuZ3VhZ2VzKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmxhbmd1YWdlcyB8fCAhdGhpcy5sYW5ndWFnZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG4ubGFuZ3VhZ2VzIHdlcmUgdW5kZWZpbmVkIG9yIGVtcHR5JywgdGhpcy5sYW5ndWFnZXMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLnJlc29sdmVkTGFuZ3VhZ2UgfHwgdGhpcy5sYW5ndWFnZXNbMF07XG4gICAgY29uc3QgZmFsbGJhY2tMbmcgPSB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcgOiBmYWxzZTtcbiAgICBjb25zdCBsYXN0TG5nID0gdGhpcy5sYW5ndWFnZXNbdGhpcy5sYW5ndWFnZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgbG9hZE5vdFBlbmRpbmcgPSAobCwgbikgPT4ge1xuICAgICAgY29uc3QgbG9hZFN0YXRlID0gdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnN0YXRlW2Ake2x9fCR7bn1gXTtcbiAgICAgIHJldHVybiBsb2FkU3RhdGUgPT09IC0xIHx8IGxvYWRTdGF0ZSA9PT0gMCB8fCBsb2FkU3RhdGUgPT09IDI7XG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5wcmVjaGVjaykge1xuICAgICAgY29uc3QgcHJlUmVzdWx0ID0gb3B0aW9ucy5wcmVjaGVjayh0aGlzLCBsb2FkTm90UGVuZGluZyk7XG4gICAgICBpZiAocHJlUmVzdWx0ICE9PSB1bmRlZmluZWQpIHJldHVybiBwcmVSZXN1bHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kIHx8IHRoaXMub3B0aW9ucy5yZXNvdXJjZXMgJiYgIXRoaXMub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykgcmV0dXJuIHRydWU7XG4gICAgaWYgKGxvYWROb3RQZW5kaW5nKGxuZywgbnMpICYmICghZmFsbGJhY2tMbmcgfHwgbG9hZE5vdFBlbmRpbmcobGFzdExuZywgbnMpKSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxvYWROYW1lc3BhY2VzKG5zLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5ucykge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcobnMpKSBucyA9IFtuc107XG4gICAgbnMuZm9yRWFjaChuID0+IHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihuKSA8IDApIHRoaXMub3B0aW9ucy5ucy5wdXNoKG4pO1xuICAgIH0pO1xuICAgIHRoaXMubG9hZFJlc291cmNlcyhlcnIgPT4ge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICBsb2FkTGFuZ3VhZ2VzKGxuZ3MsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIGlmIChpc1N0cmluZyhsbmdzKSkgbG5ncyA9IFtsbmdzXTtcbiAgICBjb25zdCBwcmVsb2FkZWQgPSB0aGlzLm9wdGlvbnMucHJlbG9hZCB8fCBbXTtcbiAgICBjb25zdCBuZXdMbmdzID0gbG5ncy5maWx0ZXIobG5nID0+IHByZWxvYWRlZC5pbmRleE9mKGxuZykgPCAwICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5pc1N1cHBvcnRlZENvZGUobG5nKSk7XG4gICAgaWYgKCFuZXdMbmdzLmxlbmd0aCkge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMucHJlbG9hZCA9IHByZWxvYWRlZC5jb25jYXQobmV3TG5ncyk7XG4gICAgdGhpcy5sb2FkUmVzb3VyY2VzKGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGRpcihsbmcpIHtcbiAgICBpZiAoIWxuZykgbG5nID0gdGhpcy5yZXNvbHZlZExhbmd1YWdlIHx8ICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLmxhbmd1YWdlcy5sZW5ndGggPiAwID8gdGhpcy5sYW5ndWFnZXNbMF0gOiB0aGlzLmxhbmd1YWdlKTtcbiAgICBpZiAoIWxuZykgcmV0dXJuICdydGwnO1xuICAgIGNvbnN0IHJ0bExuZ3MgPSBbJ2FyJywgJ3NodScsICdzcXInLCAnc3NoJywgJ3hhYScsICd5aGQnLCAneXVkJywgJ2FhbycsICdhYmgnLCAnYWJ2JywgJ2FjbScsICdhY3EnLCAnYWN3JywgJ2FjeCcsICdhY3knLCAnYWRmJywgJ2FkcycsICdhZWInLCAnYWVjJywgJ2FmYicsICdhanAnLCAnYXBjJywgJ2FwZCcsICdhcmInLCAnYXJxJywgJ2FycycsICdhcnknLCAnYXJ6JywgJ2F1eicsICdhdmwnLCAnYXloJywgJ2F5bCcsICdheW4nLCAnYXlwJywgJ2JieicsICdwZ2EnLCAnaGUnLCAnaXcnLCAncHMnLCAncGJ0JywgJ3BidScsICdwc3QnLCAncHJwJywgJ3ByZCcsICd1ZycsICd1cicsICd5ZGQnLCAneWRzJywgJ3lpaCcsICdqaScsICd5aScsICdoYm8nLCAnbWVuJywgJ3htbicsICdmYScsICdqcHInLCAncGVvJywgJ3BlcycsICdwcnMnLCAnZHYnLCAnc2FtJywgJ2NrYiddO1xuICAgIGNvbnN0IGxhbmd1YWdlVXRpbHMgPSB0aGlzLnNlcnZpY2VzICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscyB8fCBuZXcgTGFuZ3VhZ2VVdGlsKGdldCgpKTtcbiAgICByZXR1cm4gcnRsTG5ncy5pbmRleE9mKGxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUobG5nKSkgPiAtMSB8fCBsbmcudG9Mb3dlckNhc2UoKS5pbmRleE9mKCctYXJhYicpID4gMSA/ICdydGwnIDogJ2x0cic7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZUluc3RhbmNlKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IEkxOG4ob3B0aW9ucywgY2FsbGJhY2spO1xuICB9XG4gIGNsb25lSW5zdGFuY2UoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBjb25zdCBmb3JrUmVzb3VyY2VTdG9yZSA9IG9wdGlvbnMuZm9ya1Jlc291cmNlU3RvcmU7XG4gICAgaWYgKGZvcmtSZXNvdXJjZVN0b3JlKSBkZWxldGUgb3B0aW9ucy5mb3JrUmVzb3VyY2VTdG9yZTtcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIC4uLntcbiAgICAgICAgaXNDbG9uZTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvbmUgPSBuZXcgSTE4bihtZXJnZWRPcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5kZWJ1ZyAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsb25lLmxvZ2dlciA9IGNsb25lLmxvZ2dlci5jbG9uZShvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgbWVtYmVyc1RvQ29weSA9IFsnc3RvcmUnLCAnc2VydmljZXMnLCAnbGFuZ3VhZ2UnXTtcbiAgICBtZW1iZXJzVG9Db3B5LmZvckVhY2gobSA9PiB7XG4gICAgICBjbG9uZVttXSA9IHRoaXNbbV07XG4gICAgfSk7XG4gICAgY2xvbmUuc2VydmljZXMgPSB7XG4gICAgICAuLi50aGlzLnNlcnZpY2VzXG4gICAgfTtcbiAgICBjbG9uZS5zZXJ2aWNlcy51dGlscyA9IHtcbiAgICAgIGhhc0xvYWRlZE5hbWVzcGFjZTogY2xvbmUuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQoY2xvbmUpXG4gICAgfTtcbiAgICBpZiAoZm9ya1Jlc291cmNlU3RvcmUpIHtcbiAgICAgIGNsb25lLnN0b3JlID0gbmV3IFJlc291cmNlU3RvcmUodGhpcy5zdG9yZS5kYXRhLCBtZXJnZWRPcHRpb25zKTtcbiAgICAgIGNsb25lLnNlcnZpY2VzLnJlc291cmNlU3RvcmUgPSBjbG9uZS5zdG9yZTtcbiAgICB9XG4gICAgY2xvbmUudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKGNsb25lLnNlcnZpY2VzLCBtZXJnZWRPcHRpb25zKTtcbiAgICBjbG9uZS50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuICAgICAgY2xvbmUuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfSk7XG4gICAgY2xvbmUuaW5pdChtZXJnZWRPcHRpb25zLCBjYWxsYmFjayk7XG4gICAgY2xvbmUudHJhbnNsYXRvci5vcHRpb25zID0gbWVyZ2VkT3B0aW9ucztcbiAgICBjbG9uZS50cmFuc2xhdG9yLmJhY2tlbmRDb25uZWN0b3Iuc2VydmljZXMudXRpbHMgPSB7XG4gICAgICBoYXNMb2FkZWROYW1lc3BhY2U6IGNsb25lLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGNsb25lKVxuICAgIH07XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgc3RvcmU6IHRoaXMuc3RvcmUsXG4gICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGxhbmd1YWdlczogdGhpcy5sYW5ndWFnZXMsXG4gICAgICByZXNvbHZlZExhbmd1YWdlOiB0aGlzLnJlc29sdmVkTGFuZ3VhZ2VcbiAgICB9O1xuICB9XG59XG5jb25zdCBpbnN0YW5jZSA9IEkxOG4uY3JlYXRlSW5zdGFuY2UoKTtcbmluc3RhbmNlLmNyZWF0ZUluc3RhbmNlID0gSTE4bi5jcmVhdGVJbnN0YW5jZTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnN0YW5jZTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJMThuQ29udGV4dCB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gSTE4bmV4dFByb3ZpZGVyKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBpMThuLFxuICAgIGRlZmF1bHROUyxcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjtcbiAgY29uc3QgdmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgaTE4bixcbiAgICBkZWZhdWx0TlNcbiAgfSksIFtpMThuLCBkZWZhdWx0TlNdKTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSTE4bkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZVxuICB9LCBjaGlsZHJlbik7XG59IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG5vZGVzVG9TdHJpbmcsIFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuZXhwb3J0IHsgbm9kZXNUb1N0cmluZyB9O1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjb3VudCxcbiAgICBwYXJlbnQsXG4gICAgaTE4bktleSxcbiAgICBjb250ZXh0LFxuICAgIHRPcHRpb25zID0ge30sXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnMsXG4gICAgaTE4bjogaTE4bkZyb21Qcm9wcyxcbiAgICB0OiB0RnJvbVByb3BzLFxuICAgIHNob3VsZFVuZXNjYXBlLFxuICAgIC4uLmFkZGl0aW9uYWxQcm9wc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgY29uc3QgdCA9IHRGcm9tUHJvcHMgfHwgaTE4biAmJiBpMThuLnQuYmluZChpMThuKTtcbiAgcmV0dXJuIFRyYW5zV2l0aG91dENvbnRleHQoe1xuICAgIGNoaWxkcmVuLFxuICAgIGNvdW50LFxuICAgIHBhcmVudCxcbiAgICBpMThuS2V5LFxuICAgIGNvbnRleHQsXG4gICAgdE9wdGlvbnMsXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnM6IG5zIHx8IHQgJiYgdC5ucyB8fCBkZWZhdWx0TlNGcm9tQ29udGV4dCB8fCBpMThuICYmIGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuZGVmYXVsdE5TLFxuICAgIGkxOG4sXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSk7XG59IiwiaW1wb3J0IHsgRnJhZ21lbnQsIGlzVmFsaWRFbGVtZW50LCBjbG9uZUVsZW1lbnQsIGNyZWF0ZUVsZW1lbnQsIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhUTUwgZnJvbSAnaHRtbC1wYXJzZS1zdHJpbmdpZnknO1xuaW1wb3J0IHsgaXNPYmplY3QsIGlzU3RyaW5nLCB3YXJuLCB3YXJuT25jZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5jb25zdCBoYXNDaGlsZHJlbiA9IChub2RlLCBjaGVja0xlbmd0aCkgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgYmFzZSA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgaWYgKGNoZWNrTGVuZ3RoKSByZXR1cm4gYmFzZS5sZW5ndGggPiAwO1xuICByZXR1cm4gISFiYXNlO1xufTtcbmNvbnN0IGdldENoaWxkcmVuID0gbm9kZSA9PiB7XG4gIGlmICghbm9kZSkgcmV0dXJuIFtdO1xuICBjb25zdCBjaGlsZHJlbiA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgcmV0dXJuIG5vZGUucHJvcHMgJiYgbm9kZS5wcm9wcy5pMThuSXNEeW5hbWljTGlzdCA/IGdldEFzQXJyYXkoY2hpbGRyZW4pIDogY2hpbGRyZW47XG59O1xuY29uc3QgaGFzVmFsaWRSZWFjdENoaWxkcmVuID0gY2hpbGRyZW4gPT4gQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZXZlcnkoaXNWYWxpZEVsZW1lbnQpO1xuY29uc3QgZ2V0QXNBcnJheSA9IGRhdGEgPT4gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG5jb25zdCBtZXJnZVByb3BzID0gKHNvdXJjZSwgdGFyZ2V0KSA9PiB7XG4gIGNvbnN0IG5ld1RhcmdldCA9IHtcbiAgICAuLi50YXJnZXRcbiAgfTtcbiAgbmV3VGFyZ2V0LnByb3BzID0gT2JqZWN0LmFzc2lnbihzb3VyY2UucHJvcHMsIHRhcmdldC5wcm9wcyk7XG4gIHJldHVybiBuZXdUYXJnZXQ7XG59O1xuZXhwb3J0IGNvbnN0IG5vZGVzVG9TdHJpbmcgPSAoY2hpbGRyZW4sIGkxOG5PcHRpb25zKSA9PiB7XG4gIGlmICghY2hpbGRyZW4pIHJldHVybiAnJztcbiAgbGV0IHN0cmluZ05vZGUgPSAnJztcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRyZW4pO1xuICBjb25zdCBrZWVwQXJyYXkgPSBpMThuT3B0aW9ucy50cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlcyAmJiBpMThuT3B0aW9ucy50cmFuc0tlZXBCYXNpY0h0bWxOb2Rlc0ZvciA/IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIDogW107XG4gIGNoaWxkcmVuQXJyYXkuZm9yRWFjaCgoY2hpbGQsIGNoaWxkSW5kZXgpID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoY2hpbGQpKSB7XG4gICAgICBzdHJpbmdOb2RlICs9IGAke2NoaWxkfWA7XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBjaGlsZDtcbiAgICAgIGNvbnN0IGNoaWxkUHJvcHNDb3VudCA9IE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGg7XG4gICAgICBjb25zdCBzaG91bGRLZWVwQ2hpbGQgPSBrZWVwQXJyYXkuaW5kZXhPZih0eXBlKSA+IC0xO1xuICAgICAgY29uc3QgY2hpbGRDaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKCFjaGlsZENoaWxkcmVuICYmIHNob3VsZEtlZXBDaGlsZCAmJiAhY2hpbGRQcm9wc0NvdW50KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9Lz5gO1xuICAgICAgfSBlbHNlIGlmICghY2hpbGRDaGlsZHJlbiAmJiAoIXNob3VsZEtlZXBDaGlsZCB8fCBjaGlsZFByb3BzQ291bnQpIHx8IHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke2NoaWxkSW5kZXh9PjwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRLZWVwQ2hpbGQgJiYgY2hpbGRQcm9wc0NvdW50ID09PSAxICYmIGlzU3RyaW5nKGNoaWxkQ2hpbGRyZW4pKSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9PiR7Y2hpbGRDaGlsZHJlbn08LyR7dHlwZX0+YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBub2Rlc1RvU3RyaW5nKGNoaWxkQ2hpbGRyZW4sIGkxOG5PcHRpb25zKTtcbiAgICAgICAgc3RyaW5nTm9kZSArPSBgPCR7Y2hpbGRJbmRleH0+JHtjb250ZW50fTwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hpbGQgPT09IG51bGwpIHtcbiAgICAgIHdhcm4oYFRyYW5zOiB0aGUgcGFzc2VkIGluIHZhbHVlIGlzIGludmFsaWQgLSBzZWVtcyB5b3UgcGFzc2VkIGluIGEgbnVsbCBjaGlsZC5gKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXQsXG4gICAgICAgIC4uLmNsb25lXG4gICAgICB9ID0gY2hpbGQ7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY2xvbmUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZm9ybWF0ID8gYCR7a2V5c1swXX0sICR7Zm9ybWF0fWAgOiBrZXlzWzBdO1xuICAgICAgICBzdHJpbmdOb2RlICs9IGB7eyR7dmFsdWV9fX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybihgcmVhY3QtaTE4bmV4dDogdGhlIHBhc3NlZCBpbiBvYmplY3QgY29udGFpbmVkIG1vcmUgdGhhbiBvbmUgdmFyaWFibGUgLSB0aGUgb2JqZWN0IHNob3VsZCBsb29rIGxpa2Uge3sgdmFsdWUsIGZvcm1hdCB9fSB3aGVyZSBmb3JtYXQgaXMgb3B0aW9uYWwuYCwgY2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBUcmFuczogdGhlIHBhc3NlZCBpbiB2YWx1ZSBpcyBpbnZhbGlkIC0gc2VlbXMgeW91IHBhc3NlZCBpbiBhIHZhcmlhYmxlIGxpa2Uge251bWJlcn0gLSBwbGVhc2UgcGFzcyBpbiB2YXJpYWJsZXMgZm9yIGludGVycG9sYXRpb24gYXMgZnVsbCBvYmplY3RzIGxpa2Uge3tudW1iZXJ9fS5gLCBjaGlsZCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cmluZ05vZGU7XG59O1xuY29uc3QgcmVuZGVyTm9kZXMgPSAoY2hpbGRyZW4sIHRhcmdldFN0cmluZywgaTE4biwgaTE4bk9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKSA9PiB7XG4gIGlmICh0YXJnZXRTdHJpbmcgPT09ICcnKSByZXR1cm4gW107XG4gIGNvbnN0IGtlZXBBcnJheSA9IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIHx8IFtdO1xuICBjb25zdCBlbXB0eUNoaWxkcmVuQnV0TmVlZHNIYW5kbGluZyA9IHRhcmdldFN0cmluZyAmJiBuZXcgUmVnRXhwKGtlZXBBcnJheS5tYXAoa2VlcCA9PiBgPCR7a2VlcH1gKS5qb2luKCd8JykpLnRlc3QodGFyZ2V0U3RyaW5nKTtcbiAgaWYgKCFjaGlsZHJlbiAmJiAhZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgIXNob3VsZFVuZXNjYXBlKSByZXR1cm4gW3RhcmdldFN0cmluZ107XG4gIGNvbnN0IGRhdGEgPSB7fTtcbiAgY29uc3QgZ2V0RGF0YSA9IGNoaWxkcyA9PiB7XG4gICAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRzKTtcbiAgICBjaGlsZHJlbkFycmF5LmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaWYgKGlzU3RyaW5nKGNoaWxkKSkgcmV0dXJuO1xuICAgICAgaWYgKGhhc0NoaWxkcmVuKGNoaWxkKSkgZ2V0RGF0YShnZXRDaGlsZHJlbihjaGlsZCkpO2Vsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSBPYmplY3QuYXNzaWduKGRhdGEsIGNoaWxkKTtcbiAgICB9KTtcbiAgfTtcbiAgZ2V0RGF0YShjaGlsZHJlbik7XG4gIGNvbnN0IGFzdCA9IEhUTUwucGFyc2UoYDwwPiR7dGFyZ2V0U3RyaW5nfTwvMD5gKTtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICAuLi5kYXRhLFxuICAgIC4uLmNvbWJpbmVkVE9wdHNcbiAgfTtcbiAgY29uc3QgcmVuZGVySW5uZXIgPSAoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpID0+IHtcbiAgICBjb25zdCBjaGlsZHMgPSBnZXRDaGlsZHJlbihjaGlsZCk7XG4gICAgY29uc3QgbWFwcGVkQ2hpbGRyZW4gPSBtYXBBU1QoY2hpbGRzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICByZXR1cm4gaGFzVmFsaWRSZWFjdENoaWxkcmVuKGNoaWxkcykgJiYgbWFwcGVkQ2hpbGRyZW4ubGVuZ3RoID09PSAwIHx8IGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0ID8gY2hpbGRzIDogbWFwcGVkQ2hpbGRyZW47XG4gIH07XG4gIGNvbnN0IHB1c2hUcmFuc2xhdGVkSlNYID0gKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBpc1ZvaWQpID0+IHtcbiAgICBpZiAoY2hpbGQuZHVtbXkpIHtcbiAgICAgIGNoaWxkLmNoaWxkcmVuID0gaW5uZXI7XG4gICAgICBtZW0ucHVzaChjbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAga2V5OiBpXG4gICAgICB9LCBpc1ZvaWQgPyB1bmRlZmluZWQgOiBpbm5lcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW0ucHVzaCguLi5DaGlsZHJlbi5tYXAoW2NoaWxkXSwgYyA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgIC4uLmMucHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgZGVsZXRlIHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0O1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChjLnR5cGUsIHtcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgcmVmOiBjLnJlZlxuICAgICAgICB9LCBpc1ZvaWQgPyBudWxsIDogaW5uZXIpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbWFwQVNUID0gKHJlYWN0Tm9kZSwgYXN0Tm9kZSwgcm9vdFJlYWN0Tm9kZSkgPT4ge1xuICAgIGNvbnN0IHJlYWN0Tm9kZXMgPSBnZXRBc0FycmF5KHJlYWN0Tm9kZSk7XG4gICAgY29uc3QgYXN0Tm9kZXMgPSBnZXRBc0FycmF5KGFzdE5vZGUpO1xuICAgIHJldHVybiBhc3ROb2Rlcy5yZWR1Y2UoKG1lbSwgbm9kZSwgaSkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNsYXRpb25Db250ZW50ID0gbm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuWzBdICYmIG5vZGUuY2hpbGRyZW5bMF0uY29udGVudCAmJiBpMThuLnNlcnZpY2VzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShub2RlLmNoaWxkcmVuWzBdLmNvbnRlbnQsIG9wdHMsIGkxOG4ubGFuZ3VhZ2UpO1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ3RhZycpIHtcbiAgICAgICAgbGV0IHRtcCA9IHJlYWN0Tm9kZXNbcGFyc2VJbnQobm9kZS5uYW1lLCAxMCldO1xuICAgICAgICBpZiAocm9vdFJlYWN0Tm9kZS5sZW5ndGggPT09IDEgJiYgIXRtcCkgdG1wID0gcm9vdFJlYWN0Tm9kZVswXVtub2RlLm5hbWVdO1xuICAgICAgICBpZiAoIXRtcCkgdG1wID0ge307XG4gICAgICAgIGNvbnN0IGNoaWxkID0gT2JqZWN0LmtleXMobm9kZS5hdHRycykubGVuZ3RoICE9PSAwID8gbWVyZ2VQcm9wcyh7XG4gICAgICAgICAgcHJvcHM6IG5vZGUuYXR0cnNcbiAgICAgICAgfSwgdG1wKSA6IHRtcDtcbiAgICAgICAgY29uc3QgaXNFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQoY2hpbGQpO1xuICAgICAgICBjb25zdCBpc1ZhbGlkVHJhbnNsYXRpb25XaXRoQ2hpbGRyZW4gPSBpc0VsZW1lbnQgJiYgaGFzQ2hpbGRyZW4obm9kZSwgdHJ1ZSkgJiYgIW5vZGUudm9pZEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRW1wdHlUcmFuc1dpdGhIVE1MID0gZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgaXNPYmplY3QoY2hpbGQpICYmIGNoaWxkLmR1bW15ICYmICFpc0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzS25vd25Db21wb25lbnQgPSBpc09iamVjdChjaGlsZHJlbikgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2hpbGRyZW4sIG5vZGUubmFtZSk7XG4gICAgICAgIGlmIChpc1N0cmluZyhjaGlsZCkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKGNoaWxkLCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgICBtZW0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hpbGRyZW4oY2hpbGQpIHx8IGlzVmFsaWRUcmFuc2xhdGlvbldpdGhDaGlsZHJlbikge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gcmVuZGVySW5uZXIoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VtcHR5VHJhbnNXaXRoSFRNTCkge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gbWFwQVNUKHJlYWN0Tm9kZXMsIG5vZGUuY2hpbGRyZW4sIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VGbG9hdChub2RlLm5hbWUpKSkge1xuICAgICAgICAgIGlmIChpc0tub3duQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IHJlbmRlcklubmVyKGNoaWxkLCBub2RlLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBub2RlLnZvaWRFbGVtZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkxOG5PcHRpb25zLnRyYW5zU3VwcG9ydEJhc2ljSHRtbE5vZGVzICYmIGtlZXBBcnJheS5pbmRleE9mKG5vZGUubmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKG5vZGUudm9pZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgbWVtLnB1c2goY3JlYXRlRWxlbWVudChub2RlLm5hbWUsIHtcbiAgICAgICAgICAgICAgICBrZXk6IGAke25vZGUubmFtZX0tJHtpfWBcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSBtYXBBU1QocmVhY3ROb2Rlcywgbm9kZS5jaGlsZHJlbiwgcm9vdFJlYWN0Tm9kZSk7XG4gICAgICAgICAgICAgIG1lbS5wdXNoKGNyZWF0ZUVsZW1lbnQobm9kZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAga2V5OiBgJHtub2RlLm5hbWV9LSR7aX1gXG4gICAgICAgICAgICAgIH0sIGlubmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnZvaWRFbGVtZW50KSB7XG4gICAgICAgICAgICBtZW0ucHVzaChgPCR7bm9kZS5uYW1lfSAvPmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IG1hcEFTVChyZWFjdE5vZGVzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIG1lbS5wdXNoKGA8JHtub2RlLm5hbWV9PiR7aW5uZXJ9PC8ke25vZGUubmFtZX0+YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNFbGVtZW50KSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IG5vZGUuY2hpbGRyZW5bMF0gPyB0cmFuc2xhdGlvbkNvbnRlbnQgOiBudWxsO1xuICAgICAgICAgIGlmIChjb250ZW50KSBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwdXNoVHJhbnNsYXRlZEpTWChjaGlsZCwgdHJhbnNsYXRpb25Db250ZW50LCBtZW0sIGksIG5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9PSAxIHx8ICF0cmFuc2xhdGlvbkNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnN0IHdyYXBUZXh0Tm9kZXMgPSBpMThuT3B0aW9ucy50cmFuc1dyYXBUZXh0Tm9kZXM7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBzaG91bGRVbmVzY2FwZSA/IGkxOG5PcHRpb25zLnVuZXNjYXBlKGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKG5vZGUuY29udGVudCwgb3B0cywgaTE4bi5sYW5ndWFnZSkpIDogaTE4bi5zZXJ2aWNlcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobm9kZS5jb250ZW50LCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgaWYgKHdyYXBUZXh0Tm9kZXMpIHtcbiAgICAgICAgICBtZW0ucHVzaChjcmVhdGVFbGVtZW50KHdyYXBUZXh0Tm9kZXMsIHtcbiAgICAgICAgICAgIGtleTogYCR7bm9kZS5uYW1lfS0ke2l9YFxuICAgICAgICAgIH0sIGNvbnRlbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbTtcbiAgICB9LCBbXSk7XG4gIH07XG4gIGNvbnN0IHJlc3VsdCA9IG1hcEFTVChbe1xuICAgIGR1bW15OiB0cnVlLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbiB8fCBbXVxuICB9XSwgYXN0LCBnZXRBc0FycmF5KGNoaWxkcmVuIHx8IFtdKSk7XG4gIHJldHVybiBnZXRDaGlsZHJlbihyZXN1bHRbMF0pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBUcmFucyhfcmVmKSB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW4sXG4gICAgY291bnQsXG4gICAgcGFyZW50LFxuICAgIGkxOG5LZXksXG4gICAgY29udGV4dCxcbiAgICB0T3B0aW9ucyA9IHt9LFxuICAgIHZhbHVlcyxcbiAgICBkZWZhdWx0cyxcbiAgICBjb21wb25lbnRzLFxuICAgIG5zLFxuICAgIGkxOG46IGkxOG5Gcm9tUHJvcHMsXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGdldEkxOG4oKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGkxOG5leHRSZWFjdE1vZHVsZScpO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICBjb25zdCB0ID0gdEZyb21Qcm9wcyB8fCBpMThuLnQuYmluZChpMThuKSB8fCAoayA9PiBrKTtcbiAgY29uc3QgcmVhY3RJMThuZXh0T3B0aW9ucyA9IHtcbiAgICAuLi5nZXREZWZhdWx0cygpLFxuICAgIC4uLihpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLnJlYWN0KVxuICB9O1xuICBsZXQgbmFtZXNwYWNlcyA9IG5zIHx8IHQubnMgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBjb25zdCBub2RlQXNTdHJpbmcgPSBub2Rlc1RvU3RyaW5nKGNoaWxkcmVuLCByZWFjdEkxOG5leHRPcHRpb25zKTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlID0gZGVmYXVsdHMgfHwgbm9kZUFzU3RyaW5nIHx8IHJlYWN0STE4bmV4dE9wdGlvbnMudHJhbnNFbXB0eU5vZGVWYWx1ZSB8fCBpMThuS2V5O1xuICBjb25zdCB7XG4gICAgaGFzaFRyYW5zS2V5XG4gIH0gPSByZWFjdEkxOG5leHRPcHRpb25zO1xuICBjb25zdCBrZXkgPSBpMThuS2V5IHx8IChoYXNoVHJhbnNLZXkgPyBoYXNoVHJhbnNLZXkobm9kZUFzU3RyaW5nIHx8IGRlZmF1bHRWYWx1ZSkgOiBub2RlQXNTdHJpbmcgfHwgZGVmYXVsdFZhbHVlKTtcbiAgaWYgKGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzICYmIE9iamVjdC5rZXlzKHZhbHVlcykubGVuZ3RoID4gMCA/IHtcbiAgICAgIC4uLnZhbHVlcyxcbiAgICAgIC4uLmkxOG4ub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXNcbiAgICB9IDoge1xuICAgICAgLi4uaTE4bi5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc1xuICAgIH07XG4gIH1cbiAgY29uc3QgaW50ZXJwb2xhdGlvbk92ZXJyaWRlID0gdmFsdWVzIHx8IGNvdW50ICE9PSB1bmRlZmluZWQgfHwgIWNoaWxkcmVuID8gdE9wdGlvbnMuaW50ZXJwb2xhdGlvbiA6IHtcbiAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICAuLi50T3B0aW9ucy5pbnRlcnBvbGF0aW9uLFxuICAgICAgcHJlZml4OiAnIyQ/JyxcbiAgICAgIHN1ZmZpeDogJz8kIydcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvbWJpbmVkVE9wdHMgPSB7XG4gICAgLi4udE9wdGlvbnMsXG4gICAgY29udGV4dDogY29udGV4dCB8fCB0T3B0aW9ucy5jb250ZXh0LFxuICAgIGNvdW50LFxuICAgIC4uLnZhbHVlcyxcbiAgICAuLi5pbnRlcnBvbGF0aW9uT3ZlcnJpZGUsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIG5zOiBuYW1lc3BhY2VzXG4gIH07XG4gIGNvbnN0IHRyYW5zbGF0aW9uID0ga2V5ID8gdChrZXksIGNvbWJpbmVkVE9wdHMpIDogZGVmYXVsdFZhbHVlO1xuICBpZiAoY29tcG9uZW50cykge1xuICAgIE9iamVjdC5rZXlzKGNvbXBvbmVudHMpLmZvckVhY2goYyA9PiB7XG4gICAgICBjb25zdCBjb21wID0gY29tcG9uZW50c1tjXTtcbiAgICAgIGlmICh0eXBlb2YgY29tcC50eXBlID09PSAnZnVuY3Rpb24nIHx8ICFjb21wLnByb3BzIHx8ICFjb21wLnByb3BzLmNoaWxkcmVuIHx8IHRyYW5zbGF0aW9uLmluZGV4T2YoYCR7Y30vPmApIDwgMCAmJiB0cmFuc2xhdGlvbi5pbmRleE9mKGAke2N9IC8+YCkgPCAwKSByZXR1cm47XG4gICAgICBmdW5jdGlvbiBDb21wb25lbnRpemVkKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY29tcCk7XG4gICAgICB9XG4gICAgICBjb21wb25lbnRzW2NdID0gY3JlYXRlRWxlbWVudChDb21wb25lbnRpemVkKTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBjb250ZW50ID0gcmVuZGVyTm9kZXMoY29tcG9uZW50cyB8fCBjaGlsZHJlbiwgdHJhbnNsYXRpb24sIGkxOG4sIHJlYWN0STE4bmV4dE9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKTtcbiAgY29uc3QgdXNlQXNQYXJlbnQgPSBwYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmVudCA6IHJlYWN0STE4bmV4dE9wdGlvbnMuZGVmYXVsdFRyYW5zUGFyZW50O1xuICByZXR1cm4gdXNlQXNQYXJlbnQgPyBjcmVhdGVFbGVtZW50KHVzZUFzUGFyZW50LCBhZGRpdGlvbmFsUHJvcHMsIGNvbnRlbnQpIDogY29udGVudDtcbn0iLCJpbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJy4vdXNlVHJhbnNsYXRpb24uanMnO1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zbGF0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBucyxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5vcHRpb25zXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW3QsIGkxOG4sIHJlYWR5XSA9IHVzZVRyYW5zbGF0aW9uKG5zLCBvcHRpb25zKTtcbiAgcmV0dXJuIGNoaWxkcmVuKHQsIHtcbiAgICBpMThuLFxuICAgIGxuZzogaTE4bi5sYW5ndWFnZVxuICB9LCByZWFkeSk7XG59IiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldERlZmF1bHRzLCBzZXREZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgc2V0STE4biB9IGZyb20gJy4vaTE4bkluc3RhbmNlLmpzJztcbmltcG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgZ2V0RGVmYXVsdHMsIHNldERlZmF1bHRzLCBnZXRJMThuLCBzZXRJMThuLCBpbml0UmVhY3RJMThuZXh0IH07XG5leHBvcnQgY29uc3QgSTE4bkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5leHBvcnQgY2xhc3MgUmVwb3J0TmFtZXNwYWNlcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXNlZE5hbWVzcGFjZXMgPSB7fTtcbiAgfVxuICBhZGRVc2VkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKSB7XG4gICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgIGlmICghdGhpcy51c2VkTmFtZXNwYWNlc1tuc10pIHRoaXMudXNlZE5hbWVzcGFjZXNbbnNdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBnZXRVc2VkTmFtZXNwYWNlcyA9ICgpID0+IE9iamVjdC5rZXlzKHRoaXMudXNlZE5hbWVzcGFjZXMpO1xufVxuZXhwb3J0IGNvbnN0IGNvbXBvc2VJbml0aWFsUHJvcHMgPSBGb3JDb21wb25lbnQgPT4gYXN5bmMgY3R4ID0+IHtcbiAgY29uc3QgY29tcG9uZW50c0luaXRpYWxQcm9wcyA9IEZvckNvbXBvbmVudC5nZXRJbml0aWFsUHJvcHMgPyBhd2FpdCBGb3JDb21wb25lbnQuZ2V0SW5pdGlhbFByb3BzKGN0eCkgOiB7fTtcbiAgY29uc3QgaTE4bkluaXRpYWxQcm9wcyA9IGdldEluaXRpYWxQcm9wcygpO1xuICByZXR1cm4ge1xuICAgIC4uLmNvbXBvbmVudHNJbml0aWFsUHJvcHMsXG4gICAgLi4uaTE4bkluaXRpYWxQcm9wc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXRJbml0aWFsUHJvcHMgPSAoKSA9PiB7XG4gIGNvbnN0IGkxOG4gPSBnZXRJMThuKCk7XG4gIGNvbnN0IG5hbWVzcGFjZXMgPSBpMThuLnJlcG9ydE5hbWVzcGFjZXMgPyBpMThuLnJlcG9ydE5hbWVzcGFjZXMuZ2V0VXNlZE5hbWVzcGFjZXMoKSA6IFtdO1xuICBjb25zdCByZXQgPSB7fTtcbiAgY29uc3QgaW5pdGlhbEkxOG5TdG9yZSA9IHt9O1xuICBpMThuLmxhbmd1YWdlcy5mb3JFYWNoKGwgPT4ge1xuICAgIGluaXRpYWxJMThuU3RvcmVbbF0gPSB7fTtcbiAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgaW5pdGlhbEkxOG5TdG9yZVtsXVtuc10gPSBpMThuLmdldFJlc291cmNlQnVuZGxlKGwsIG5zKSB8fCB7fTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldC5pbml0aWFsSTE4blN0b3JlID0gaW5pdGlhbEkxOG5TdG9yZTtcbiAgcmV0LmluaXRpYWxMYW5ndWFnZSA9IGkxOG4ubGFuZ3VhZ2U7XG4gIHJldHVybiByZXQ7XG59OyIsImltcG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG5sZXQgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGJpbmRJMThuOiAnbGFuZ3VhZ2VDaGFuZ2VkJyxcbiAgYmluZEkxOG5TdG9yZTogJycsXG4gIHRyYW5zRW1wdHlOb2RlVmFsdWU6ICcnLFxuICB0cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlczogdHJ1ZSxcbiAgdHJhbnNXcmFwVGV4dE5vZGVzOiAnJyxcbiAgdHJhbnNLZWVwQmFzaWNIdG1sTm9kZXNGb3I6IFsnYnInLCAnc3Ryb25nJywgJ2knLCAncCddLFxuICB1c2VTdXNwZW5zZTogdHJ1ZSxcbiAgdW5lc2NhcGVcbn07XG5leHBvcnQgY29uc3Qgc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0cyA9ICgpID0+IGRlZmF1bHRPcHRpb25zOyIsImxldCBpMThuSW5zdGFuY2U7XG5leHBvcnQgY29uc3Qgc2V0STE4biA9IGluc3RhbmNlID0+IHtcbiAgaTE4bkluc3RhbmNlID0gaW5zdGFuY2U7XG59O1xuZXhwb3J0IGNvbnN0IGdldEkxOG4gPSAoKSA9PiBpMThuSW5zdGFuY2U7IiwiZXhwb3J0IHsgVHJhbnMgfSBmcm9tICcuL1RyYW5zLmpzJztcbmV4cG9ydCB7IFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuZXhwb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICcuL3VzZVRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IHdpdGhUcmFuc2xhdGlvbiB9IGZyb20gJy4vd2l0aFRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSAnLi9UcmFuc2xhdGlvbi5qcyc7XG5leHBvcnQgeyBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICcuL0kxOG5leHRQcm92aWRlci5qcyc7XG5leHBvcnQgeyB3aXRoU1NSIH0gZnJvbSAnLi93aXRoU1NSLmpzJztcbmV4cG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmV4cG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgc2V0RGVmYXVsdHMsIGdldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5leHBvcnQgeyBzZXRJMThuLCBnZXRJMThuIH0gZnJvbSAnLi9pMThuSW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgSTE4bkNvbnRleHQsIGNvbXBvc2VJbml0aWFsUHJvcHMsIGdldEluaXRpYWxQcm9wcyB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgY29uc3QgZGF0ZSA9ICgpID0+ICcnO1xuZXhwb3J0IGNvbnN0IHRpbWUgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBudW1iZXIgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3QgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBwbHVyYWwgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3RPcmRpbmFsID0gKCkgPT4gJyc7IiwiaW1wb3J0IHsgc2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IHNldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5leHBvcnQgY29uc3QgaW5pdFJlYWN0STE4bmV4dCA9IHtcbiAgdHlwZTogJzNyZFBhcnR5JyxcbiAgaW5pdChpbnN0YW5jZSkge1xuICAgIHNldERlZmF1bHRzKGluc3RhbmNlLm9wdGlvbnMucmVhY3QpO1xuICAgIHNldEkxOG4oaW5zdGFuY2UpO1xuICB9XG59OyIsImNvbnN0IG1hdGNoSHRtbEVudGl0eSA9IC8mKD86YW1wfCMzOHxsdHwjNjB8Z3R8IzYyfGFwb3N8IzM5fHF1b3R8IzM0fG5ic3B8IzE2MHxjb3B5fCMxNjl8cmVnfCMxNzR8aGVsbGlwfCM4MjMwfCN4MkZ8IzQ3KTsvZztcbmNvbnN0IGh0bWxFbnRpdGllcyA9IHtcbiAgJyZhbXA7JzogJyYnLFxuICAnJiMzODsnOiAnJicsXG4gICcmbHQ7JzogJzwnLFxuICAnJiM2MDsnOiAnPCcsXG4gICcmZ3Q7JzogJz4nLFxuICAnJiM2MjsnOiAnPicsXG4gICcmYXBvczsnOiBcIidcIixcbiAgJyYjMzk7JzogXCInXCIsXG4gICcmcXVvdDsnOiAnXCInLFxuICAnJiMzNDsnOiAnXCInLFxuICAnJm5ic3A7JzogJyAnLFxuICAnJiMxNjA7JzogJyAnLFxuICAnJmNvcHk7JzogJ8KpJyxcbiAgJyYjMTY5Oyc6ICfCqScsXG4gICcmcmVnOyc6ICfCricsXG4gICcmIzE3NDsnOiAnwq4nLFxuICAnJmhlbGxpcDsnOiAn4oCmJyxcbiAgJyYjODIzMDsnOiAn4oCmJyxcbiAgJyYjeDJGOyc6ICcvJyxcbiAgJyYjNDc7JzogJy8nXG59O1xuY29uc3QgdW5lc2NhcGVIdG1sRW50aXR5ID0gbSA9PiBodG1sRW50aXRpZXNbbV07XG5leHBvcnQgY29uc3QgdW5lc2NhcGUgPSB0ZXh0ID0+IHRleHQucmVwbGFjZShtYXRjaEh0bWxFbnRpdHksIHVuZXNjYXBlSHRtbEVudGl0eSk7IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldEkxOG4sIEkxOG5Db250ZXh0IH0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmV4cG9ydCBjb25zdCB1c2VTU1IgPSBmdW5jdGlvbiAoaW5pdGlhbEkxOG5TdG9yZSwgaW5pdGlhbExhbmd1YWdlKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dFxuICB9ID0gdXNlQ29udGV4dChJMThuQ29udGV4dCkgfHwge307XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGkxOG5Gcm9tQ29udGV4dCB8fCBnZXRJMThuKCk7XG4gIGlmIChpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLmlzQ2xvbmUpIHJldHVybjtcbiAgaWYgKGluaXRpYWxJMThuU3RvcmUgJiYgIWkxOG4uaW5pdGlhbGl6ZWRTdG9yZU9uY2UpIHtcbiAgICBpMThuLnNlcnZpY2VzLnJlc291cmNlU3RvcmUuZGF0YSA9IGluaXRpYWxJMThuU3RvcmU7XG4gICAgaTE4bi5vcHRpb25zLm5zID0gT2JqZWN0LnZhbHVlcyhpbml0aWFsSTE4blN0b3JlKS5yZWR1Y2UoKG1lbSwgbG5nUmVzb3VyY2VzKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhsbmdSZXNvdXJjZXMpLmZvckVhY2gobnMgPT4ge1xuICAgICAgICBpZiAobWVtLmluZGV4T2YobnMpIDwgMCkgbWVtLnB1c2gobnMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIGkxOG4ub3B0aW9ucy5ucyk7XG4gICAgaTE4bi5pbml0aWFsaXplZFN0b3JlT25jZSA9IHRydWU7XG4gICAgaTE4bi5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuICBpZiAoaW5pdGlhbExhbmd1YWdlICYmICFpMThuLmluaXRpYWxpemVkTGFuZ3VhZ2VPbmNlKSB7XG4gICAgaTE4bi5jaGFuZ2VMYW5ndWFnZShpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIGkxOG4uaW5pdGlhbGl6ZWRMYW5ndWFnZU9uY2UgPSB0cnVlO1xuICB9XG59OyIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRJMThuLCBnZXREZWZhdWx0cywgUmVwb3J0TmFtZXNwYWNlcywgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgd2Fybk9uY2UsIGxvYWROYW1lc3BhY2VzLCBsb2FkTGFuZ3VhZ2VzLCBoYXNMb2FkZWROYW1lc3BhY2UsIGlzU3RyaW5nLCBpc09iamVjdCB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgdXNlUHJldmlvdXMgPSAodmFsdWUsIGlnbm9yZSkgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGlnbm9yZSA/IHJlZi5jdXJyZW50IDogdmFsdWU7XG4gIH0sIFt2YWx1ZSwgaWdub3JlXSk7XG4gIHJldHVybiByZWYuY3VycmVudDtcbn07XG5jb25zdCBhbHdheXNOZXdUID0gKGkxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeCkgPT4gaTE4bi5nZXRGaXhlZFQobGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KTtcbmNvbnN0IHVzZU1lbW9pemVkVCA9IChpMThuLCBsYW5ndWFnZSwgbmFtZXNwYWNlLCBrZXlQcmVmaXgpID0+IHVzZUNhbGxiYWNrKGFsd2F5c05ld1QoaTE4biwgbGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KSwgW2kxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeF0pO1xuZXhwb3J0IGNvbnN0IHVzZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKG5zKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgaWYgKGkxOG4gJiYgIWkxOG4ucmVwb3J0TmFtZXNwYWNlcykgaTE4bi5yZXBvcnROYW1lc3BhY2VzID0gbmV3IFJlcG9ydE5hbWVzcGFjZXMoKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGluaXRSZWFjdEkxOG5leHQnKTtcbiAgICBjb25zdCBub3RSZWFkeVQgPSAoaywgb3B0c09yRGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNTdHJpbmcob3B0c09yRGVmYXVsdFZhbHVlKSkgcmV0dXJuIG9wdHNPckRlZmF1bHRWYWx1ZTtcbiAgICAgIGlmIChpc09iamVjdChvcHRzT3JEZWZhdWx0VmFsdWUpICYmIGlzU3RyaW5nKG9wdHNPckRlZmF1bHRWYWx1ZS5kZWZhdWx0VmFsdWUpKSByZXR1cm4gb3B0c09yRGVmYXVsdFZhbHVlLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGspID8ga1trLmxlbmd0aCAtIDFdIDogaztcbiAgICB9O1xuICAgIGNvbnN0IHJldE5vdFJlYWR5ID0gW25vdFJlYWR5VCwge30sIGZhbHNlXTtcbiAgICByZXROb3RSZWFkeS50ID0gbm90UmVhZHlUO1xuICAgIHJldE5vdFJlYWR5LmkxOG4gPSB7fTtcbiAgICByZXROb3RSZWFkeS5yZWFkeSA9IGZhbHNlO1xuICAgIHJldHVybiByZXROb3RSZWFkeTtcbiAgfVxuICBpZiAoaTE4bi5vcHRpb25zLnJlYWN0ICYmIGkxOG4ub3B0aW9ucy5yZWFjdC53YWl0ICE9PSB1bmRlZmluZWQpIHdhcm5PbmNlKCdJdCBzZWVtcyB5b3UgYXJlIHN0aWxsIHVzaW5nIHRoZSBvbGQgd2FpdCBvcHRpb24sIHlvdSBtYXkgbWlncmF0ZSB0byB0aGUgbmV3IHVzZVN1c3BlbnNlIGJlaGF2aW91ci4nKTtcbiAgY29uc3QgaTE4bk9wdGlvbnMgPSB7XG4gICAgLi4uZ2V0RGVmYXVsdHMoKSxcbiAgICAuLi5pMThuLm9wdGlvbnMucmVhY3QsXG4gICAgLi4ucHJvcHNcbiAgfTtcbiAgY29uc3Qge1xuICAgIHVzZVN1c3BlbnNlLFxuICAgIGtleVByZWZpeFxuICB9ID0gaTE4bk9wdGlvbnM7XG4gIGxldCBuYW1lc3BhY2VzID0gbnMgfHwgZGVmYXVsdE5TRnJvbUNvbnRleHQgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBpZiAoaTE4bi5yZXBvcnROYW1lc3BhY2VzLmFkZFVzZWROYW1lc3BhY2VzKSBpMThuLnJlcG9ydE5hbWVzcGFjZXMuYWRkVXNlZE5hbWVzcGFjZXMobmFtZXNwYWNlcyk7XG4gIGNvbnN0IHJlYWR5ID0gKGkxOG4uaXNJbml0aWFsaXplZCB8fCBpMThuLmluaXRpYWxpemVkU3RvcmVPbmNlKSAmJiBuYW1lc3BhY2VzLmV2ZXJ5KG4gPT4gaGFzTG9hZGVkTmFtZXNwYWNlKG4sIGkxOG4sIGkxOG5PcHRpb25zKSk7XG4gIGNvbnN0IG1lbW9HZXRUID0gdXNlTWVtb2l6ZWRUKGkxOG4sIHByb3BzLmxuZyB8fCBudWxsLCBpMThuT3B0aW9ucy5uc01vZGUgPT09ICdmYWxsYmFjaycgPyBuYW1lc3BhY2VzIDogbmFtZXNwYWNlc1swXSwga2V5UHJlZml4KTtcbiAgY29uc3QgZ2V0VCA9ICgpID0+IG1lbW9HZXRUO1xuICBjb25zdCBnZXROZXdUID0gKCkgPT4gYWx3YXlzTmV3VChpMThuLCBwcm9wcy5sbmcgfHwgbnVsbCwgaTE4bk9wdGlvbnMubnNNb2RlID09PSAnZmFsbGJhY2snID8gbmFtZXNwYWNlcyA6IG5hbWVzcGFjZXNbMF0sIGtleVByZWZpeCk7XG4gIGNvbnN0IFt0LCBzZXRUXSA9IHVzZVN0YXRlKGdldFQpO1xuICBsZXQgam9pbmVkTlMgPSBuYW1lc3BhY2VzLmpvaW4oKTtcbiAgaWYgKHByb3BzLmxuZykgam9pbmVkTlMgPSBgJHtwcm9wcy5sbmd9JHtqb2luZWROU31gO1xuICBjb25zdCBwcmV2aW91c0pvaW5lZE5TID0gdXNlUHJldmlvdXMoam9pbmVkTlMpO1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYodHJ1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYmluZEkxOG4sXG4gICAgICBiaW5kSTE4blN0b3JlXG4gICAgfSA9IGkxOG5PcHRpb25zO1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAoIXJlYWR5ICYmICF1c2VTdXNwZW5zZSkge1xuICAgICAgaWYgKHByb3BzLmxuZykge1xuICAgICAgICBsb2FkTGFuZ3VhZ2VzKGkxOG4sIHByb3BzLmxuZywgbmFtZXNwYWNlcywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkgc2V0VChnZXROZXdUKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSBzZXRUKGdldE5ld1QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlYWR5ICYmIHByZXZpb3VzSm9pbmVkTlMgJiYgcHJldmlvdXNKb2luZWROUyAhPT0gam9pbmVkTlMgJiYgaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgIHNldFQoZ2V0TmV3VCk7XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kUmVzZXQgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHNldFQoZ2V0TmV3VCk7XG4gICAgfTtcbiAgICBpZiAoYmluZEkxOG4gJiYgaTE4bikgaTE4bi5vbihiaW5kSTE4biwgYm91bmRSZXNldCk7XG4gICAgaWYgKGJpbmRJMThuU3RvcmUgJiYgaTE4bikgaTE4bi5zdG9yZS5vbihiaW5kSTE4blN0b3JlLCBib3VuZFJlc2V0KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlmIChiaW5kSTE4biAmJiBpMThuKSBiaW5kSTE4bi5zcGxpdCgnICcpLmZvckVhY2goZSA9PiBpMThuLm9mZihlLCBib3VuZFJlc2V0KSk7XG4gICAgICBpZiAoYmluZEkxOG5TdG9yZSAmJiBpMThuKSBiaW5kSTE4blN0b3JlLnNwbGl0KCcgJykuZm9yRWFjaChlID0+IGkxOG4uc3RvcmUub2ZmKGUsIGJvdW5kUmVzZXQpKTtcbiAgICB9O1xuICB9LCBbaTE4biwgam9pbmVkTlNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQgJiYgcmVhZHkpIHtcbiAgICAgIHNldFQoZ2V0VCk7XG4gICAgfVxuICB9LCBbaTE4biwga2V5UHJlZml4LCByZWFkeV0pO1xuICBjb25zdCByZXQgPSBbdCwgaTE4biwgcmVhZHldO1xuICByZXQudCA9IHQ7XG4gIHJldC5pMThuID0gaTE4bjtcbiAgcmV0LnJlYWR5ID0gcmVhZHk7XG4gIGlmIChyZWFkeSkgcmV0dXJuIHJldDtcbiAgaWYgKCFyZWFkeSAmJiAhdXNlU3VzcGVuc2UpIHJldHVybiByZXQ7XG4gIHRocm93IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGlmIChwcm9wcy5sbmcpIHtcbiAgICAgIGxvYWRMYW5ndWFnZXMoaTE4biwgcHJvcHMubG5nLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cbiAgfSk7XG59OyIsImV4cG9ydCBmdW5jdGlvbiB3YXJuKCkge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmdzWzBdKSkgYXJnc1swXSA9IGByZWFjdC1pMThuZXh0OjogJHthcmdzWzBdfWA7XG4gICAgY29uc29sZS53YXJuKC4uLmFyZ3MpO1xuICB9XG59XG5jb25zdCBhbHJlYWR5V2FybmVkID0ge307XG5leHBvcnQgZnVuY3Rpb24gd2Fybk9uY2UoKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkgJiYgYWxyZWFkeVdhcm5lZFthcmdzWzBdXSkgcmV0dXJuO1xuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFscmVhZHlXYXJuZWRbYXJnc1swXV0gPSBuZXcgRGF0ZSgpO1xuICB3YXJuKC4uLmFyZ3MpO1xufVxuY29uc3QgbG9hZGVkQ2xiID0gKGkxOG4sIGNiKSA9PiAoKSA9PiB7XG4gIGlmIChpMThuLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICBjYigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGluaXRpYWxpemVkID0gKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGkxOG4ub2ZmKCdpbml0aWFsaXplZCcsIGluaXRpYWxpemVkKTtcbiAgICAgIH0sIDApO1xuICAgICAgY2IoKTtcbiAgICB9O1xuICAgIGkxOG4ub24oJ2luaXRpYWxpemVkJywgaW5pdGlhbGl6ZWQpO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGxvYWROYW1lc3BhY2VzID0gKGkxOG4sIG5zLCBjYikgPT4ge1xuICBpMThuLmxvYWROYW1lc3BhY2VzKG5zLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5leHBvcnQgY29uc3QgbG9hZExhbmd1YWdlcyA9IChpMThuLCBsbmcsIG5zLCBjYikgPT4ge1xuICBpZiAoaXNTdHJpbmcobnMpKSBucyA9IFtuc107XG4gIG5zLmZvckVhY2gobiA9PiB7XG4gICAgaWYgKGkxOG4ub3B0aW9ucy5ucy5pbmRleE9mKG4pIDwgMCkgaTE4bi5vcHRpb25zLm5zLnB1c2gobik7XG4gIH0pO1xuICBpMThuLmxvYWRMYW5ndWFnZXMobG5nLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5jb25zdCBvbGRJMThuZXh0SGFzTG9hZGVkTmFtZXNwYWNlID0gZnVuY3Rpb24gKG5zLCBpMThuKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgY29uc3QgbG5nID0gaTE4bi5sYW5ndWFnZXNbMF07XG4gIGNvbnN0IGZhbGxiYWNrTG5nID0gaTE4bi5vcHRpb25zID8gaTE4bi5vcHRpb25zLmZhbGxiYWNrTG5nIDogZmFsc2U7XG4gIGNvbnN0IGxhc3RMbmcgPSBpMThuLmxhbmd1YWdlc1tpMThuLmxhbmd1YWdlcy5sZW5ndGggLSAxXTtcbiAgaWYgKGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHRydWU7XG4gIGNvbnN0IGxvYWROb3RQZW5kaW5nID0gKGwsIG4pID0+IHtcbiAgICBjb25zdCBsb2FkU3RhdGUgPSBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3Iuc3RhdGVbYCR7bH18JHtufWBdO1xuICAgIHJldHVybiBsb2FkU3RhdGUgPT09IC0xIHx8IGxvYWRTdGF0ZSA9PT0gMjtcbiAgfTtcbiAgaWYgKG9wdGlvbnMuYmluZEkxOG4gJiYgb3B0aW9ucy5iaW5kSTE4bi5pbmRleE9mKCdsYW5ndWFnZUNoYW5naW5nJykgPiAtMSAmJiBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvICYmICFsb2FkTm90UGVuZGluZyhpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvLCBucykpIHJldHVybiBmYWxzZTtcbiAgaWYgKGkxOG4uaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHJldHVybiB0cnVlO1xuICBpZiAoIWkxOG4uc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kIHx8IGkxOG4ub3B0aW9ucy5yZXNvdXJjZXMgJiYgIWkxOG4ub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykgcmV0dXJuIHRydWU7XG4gIGlmIChsb2FkTm90UGVuZGluZyhsbmcsIG5zKSAmJiAoIWZhbGxiYWNrTG5nIHx8IGxvYWROb3RQZW5kaW5nKGxhc3RMbmcsIG5zKSkpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IGNvbnN0IGhhc0xvYWRlZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIChucywgaTE4bikge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGlmICghaTE4bi5sYW5ndWFnZXMgfHwgIWkxOG4ubGFuZ3VhZ2VzLmxlbmd0aCkge1xuICAgIHdhcm5PbmNlKCdpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eScsIGkxOG4ubGFuZ3VhZ2VzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBpc05ld2VySTE4bmV4dCA9IGkxOG4ub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlICE9PSB1bmRlZmluZWQ7XG4gIGlmICghaXNOZXdlckkxOG5leHQpIHtcbiAgICByZXR1cm4gb2xkSTE4bmV4dEhhc0xvYWRlZE5hbWVzcGFjZShucywgaTE4biwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIGkxOG4uaGFzTG9hZGVkTmFtZXNwYWNlKG5zLCB7XG4gICAgbG5nOiBvcHRpb25zLmxuZyxcbiAgICBwcmVjaGVjazogKGkxOG5JbnN0YW5jZSwgbG9hZE5vdFBlbmRpbmcpID0+IHtcbiAgICAgIGlmIChvcHRpb25zLmJpbmRJMThuICYmIG9wdGlvbnMuYmluZEkxOG4uaW5kZXhPZignbGFuZ3VhZ2VDaGFuZ2luZycpID4gLTEgJiYgaTE4bkluc3RhbmNlLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuSW5zdGFuY2UuaXNMYW5ndWFnZUNoYW5naW5nVG8gJiYgIWxvYWROb3RQZW5kaW5nKGkxOG5JbnN0YW5jZS5pc0xhbmd1YWdlQ2hhbmdpbmdUbywgbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGlzcGxheU5hbWUgPSBDb21wb25lbnQgPT4gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8IChpc1N0cmluZyhDb21wb25lbnQpICYmIENvbXBvbmVudC5sZW5ndGggPiAwID8gQ29tcG9uZW50IDogJ1Vua25vd24nKTtcbmV4cG9ydCBjb25zdCBpc1N0cmluZyA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmltcG9ydCB7IGNvbXBvc2VJbml0aWFsUHJvcHMgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0RGlzcGxheU5hbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmV4cG9ydCBjb25zdCB3aXRoU1NSID0gKCkgPT4gZnVuY3Rpb24gRXh0ZW5kKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gSTE4bmV4dFdpdGhTU1IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBpbml0aWFsSTE4blN0b3JlLFxuICAgICAgaW5pdGlhbExhbmd1YWdlLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSBfcmVmO1xuICAgIHVzZVNTUihpbml0aWFsSTE4blN0b3JlLCBpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHtcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxuICBJMThuZXh0V2l0aFNTUi5nZXRJbml0aWFsUHJvcHMgPSBjb21wb3NlSW5pdGlhbFByb3BzKFdyYXBwZWRDb21wb25lbnQpO1xuICBJMThuZXh0V2l0aFNTUi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFNTUigke2dldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpfSlgO1xuICBJMThuZXh0V2l0aFNTUi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgcmV0dXJuIEkxOG5leHRXaXRoU1NSO1xufTsiLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmIGFzIGZvcndhcmRSZWZSZWFjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAnLi91c2VUcmFuc2xhdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXREaXNwbGF5TmFtZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChucykge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHJldHVybiBmdW5jdGlvbiBFeHRlbmQoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIEkxOG5leHRXaXRoVHJhbnNsYXRpb24oX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgZm9yd2FyZGVkUmVmLFxuICAgICAgICAuLi5yZXN0XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIGNvbnN0IFt0LCBpMThuLCByZWFkeV0gPSB1c2VUcmFuc2xhdGlvbihucywge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBrZXlQcmVmaXg6IG9wdGlvbnMua2V5UHJlZml4XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHBhc3NEb3duUHJvcHMgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIHQsXG4gICAgICAgIGkxOG4sXG4gICAgICAgIHRSZWFkeTogcmVhZHlcbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucy53aXRoUmVmICYmIGZvcndhcmRlZFJlZikge1xuICAgICAgICBwYXNzRG93blByb3BzLnJlZiA9IGZvcndhcmRlZFJlZjtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMud2l0aFJlZiAmJiBmb3J3YXJkZWRSZWYpIHtcbiAgICAgICAgcGFzc0Rvd25Qcm9wcy5mb3J3YXJkZWRSZWYgPSBmb3J3YXJkZWRSZWY7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBwYXNzRG93blByb3BzKTtcbiAgICB9XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFRyYW5zbGF0aW9uKCR7Z2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCl9KWA7XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgICBjb25zdCBmb3J3YXJkUmVmID0gKHByb3BzLCByZWYpID0+IGNyZWF0ZUVsZW1lbnQoSTE4bmV4dFdpdGhUcmFuc2xhdGlvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIGZvcndhcmRlZFJlZjogcmVmXG4gICAgfSkpO1xuICAgIHJldHVybiBvcHRpb25zLndpdGhSZWYgPyBmb3J3YXJkUmVmUmVhY3QoZm9yd2FyZFJlZikgOiBJMThuZXh0V2l0aFRyYW5zbGF0aW9uO1xuICB9O1xufTsiLCIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcobWV0aG9kTmFtZSwgaW5mbykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCIlcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlc1wiLFxuICAgICAgICAgICAgaW5mb1swXSxcbiAgICAgICAgICAgIGluZm9bMV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gbWF5YmVJdGVyYWJsZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBtYXliZUl0ZXJhYmxlID1cbiAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgIG1heWJlSXRlcmFibGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlSXRlcmFibGUgPyBtYXliZUl0ZXJhYmxlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIHB1YmxpY0luc3RhbmNlID1cbiAgICAgICAgKChwdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yKSAmJlxuICAgICAgICAgIChwdWJsaWNJbnN0YW5jZS5kaXNwbGF5TmFtZSB8fCBwdWJsaWNJbnN0YW5jZS5uYW1lKSkgfHxcbiAgICAgICAgXCJSZWFjdENsYXNzXCI7XG4gICAgICB2YXIgd2FybmluZ0tleSA9IHB1YmxpY0luc3RhbmNlICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgIGNsYXNzIHByb3BlcnR5IHdpdGggdGhlIGRlc2lyZWQgc3RhdGUgaW4gdGhlICVzIGNvbXBvbmVudC5cIixcbiAgICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICAgIHB1YmxpY0luc3RhbmNlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbiAgICBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhc2tOYW1lKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSByZXR1cm4gXCI8PlwiO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRVxuICAgICAgKVxuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHJldHVybiBuYW1lID8gXCI8XCIgKyBuYW1lICsgXCI+XCIgOiBcIjwuLi4+XCI7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmtub3duT3duZXIoKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KFxuICAgICAgdHlwZSxcbiAgICAgIGtleSxcbiAgICAgIHNlbGYsXG4gICAgICBzb3VyY2UsXG4gICAgICBvd25lcixcbiAgICAgIHByb3BzLFxuICAgICAgZGVidWdTdGFjayxcbiAgICAgIGRlYnVnVGFza1xuICAgICkge1xuICAgICAgc2VsZiA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSBzZWxmID8gc2VsZiA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnU3RhY2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdTdGFja1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdUYXNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnVGFza1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgICBuZXdLZXkgPSBSZWFjdEVsZW1lbnQoXG4gICAgICAgIG9sZEVsZW1lbnQudHlwZSxcbiAgICAgICAgbmV3S2V5LFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgb2xkRWxlbWVudC5fb3duZXIsXG4gICAgICAgIG9sZEVsZW1lbnQucHJvcHMsXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnU3RhY2ssXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnVGFza1xuICAgICAgKTtcbiAgICAgIG9sZEVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgIChuZXdLZXkuX3N0b3JlLnZhbGlkYXRlZCA9IG9sZEVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCk7XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gICAgICB2YXIgZXNjYXBlckxvb2t1cCA9IHsgXCI9XCI6IFwiPTBcIiwgXCI6XCI6IFwiPTJcIiB9O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCIkXCIgK1xuICAgICAgICBrZXkucmVwbGFjZSgvWz06XS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFbGVtZW50S2V5KGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPT0gZWxlbWVudCAmJlxuICAgICAgICBudWxsICE9IGVsZW1lbnQua2V5XG4gICAgICAgID8gKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oZWxlbWVudC5rZXkpLCBlc2NhcGUoXCJcIiArIGVsZW1lbnQua2V5KSlcbiAgICAgICAgOiBpbmRleC50b1N0cmluZygzNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMSgpIHt9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzXG4gICAgICAgICAgICAgID8gdGhlbmFibGUudGhlbihub29wJDEsIG5vb3AkMSlcbiAgICAgICAgICAgICAgOiAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicGVuZGluZ1wiKSxcbiAgICAgICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGZ1bGZpbGxlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS52YWx1ZSA9IGZ1bGZpbGxlZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgKHRoZW5hYmxlLnJlYXNvbiA9IGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB0aGVuYWJsZS5zdGF0dXMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcEludG9BcnJheShjaGlsZHJlbiwgYXJyYXksIGVzY2FwZWRQcmVmaXgsIG5hbWVTb0ZhciwgY2FsbGJhY2spIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGUgfHwgXCJib29sZWFuXCIgPT09IHR5cGUpIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZhciBpbnZva2VDYWxsYmFjayA9ICExO1xuICAgICAgaWYgKG51bGwgPT09IGNoaWxkcmVuKSBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbi5faW5pdCksXG4gICAgICAgICAgICAgICAgICBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrKGNoaWxkcmVuLl9wYXlsb2FkKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbjtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayhpbnZva2VDYWxsYmFjayk7XG4gICAgICAgIHZhciBjaGlsZEtleSA9XG4gICAgICAgICAgXCJcIiA9PT0gbmFtZVNvRmFyID8gXCIuXCIgKyBnZXRFbGVtZW50S2V5KGludm9rZUNhbGxiYWNrLCAwKSA6IG5hbWVTb0ZhcjtcbiAgICAgICAgaXNBcnJheUltcGwoY2FsbGJhY2spXG4gICAgICAgICAgPyAoKGVzY2FwZWRQcmVmaXggPSBcIlwiKSxcbiAgICAgICAgICAgIG51bGwgIT0gY2hpbGRLZXkgJiZcbiAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXggPVxuICAgICAgICAgICAgICAgIGNoaWxkS2V5LnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsIFwiJCYvXCIpICsgXCIvXCIpLFxuICAgICAgICAgICAgbWFwSW50b0FycmF5KGNhbGxiYWNrLCBhcnJheSwgZXNjYXBlZFByZWZpeCwgXCJcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IG51bGwgIT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIChpc1ZhbGlkRWxlbWVudChjYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gY2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgKChpbnZva2VDYWxsYmFjayAmJiBpbnZva2VDYWxsYmFjay5rZXkgPT09IGNhbGxiYWNrLmtleSkgfHxcbiAgICAgICAgICAgICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY2FsbGJhY2sua2V5KSksXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID0gY2xvbmVBbmRSZXBsYWNlS2V5KFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXggK1xuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY2FsbGJhY2sua2V5IHx8XG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpXG4gICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICA6IChcIlwiICsgY2FsbGJhY2sua2V5KS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiQmL1wiXG4gICAgICAgICAgICAgICAgICAgICAgKSArIFwiL1wiKSArXG4gICAgICAgICAgICAgICAgICBjaGlsZEtleVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgXCJcIiAhPT0gbmFtZVNvRmFyICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBpbnZva2VDYWxsYmFjayAmJlxuICAgICAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGludm9rZUNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgPT0gaW52b2tlQ2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2suX3N0b3JlICYmXG4gICAgICAgICAgICAgICAgIWludm9rZUNhbGxiYWNrLl9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeC5fc3RvcmUudmFsaWRhdGVkID0gMiksXG4gICAgICAgICAgICAgIChjYWxsYmFjayA9IGVzY2FwZWRQcmVmaXgpKSxcbiAgICAgICAgICAgIGFycmF5LnB1c2goY2FsbGJhY2spKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpbnZva2VDYWxsYmFjayA9IDA7XG4gICAgICBjaGlsZEtleSA9IFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiIDogbmFtZVNvRmFyICsgXCI6XCI7XG4gICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBjaGlsZHJlbltpXSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkpKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKCgoaSA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSkpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaSA9PT0gY2hpbGRyZW4uZW50cmllcyAmJlxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgfHxcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyA9ICEwKSksXG4gICAgICAgICAgICBjaGlsZHJlbiA9IGkuY2FsbChjaGlsZHJlbiksXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAhKG5hbWVTb0ZhciA9IGNoaWxkcmVuLm5leHQoKSkuZG9uZTtcblxuICAgICAgICApXG4gICAgICAgICAgKG5hbWVTb0ZhciA9IG5hbWVTb0Zhci52YWx1ZSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkrKykpLFxuICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICs9IG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICkpO1xuICAgICAgZWxzZSBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZSkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2hpbGRyZW4udGhlbilcbiAgICAgICAgICByZXR1cm4gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgcmVzb2x2ZVRoZW5hYmxlKGNoaWxkcmVuKSxcbiAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKTtcbiAgICAgICAgYXJyYXkgPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgK1xuICAgICAgICAgICAgKFwiW29iamVjdCBPYmplY3RdXCIgPT09IGFycmF5XG4gICAgICAgICAgICAgID8gXCJvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgICA6IGFycmF5KSArXG4gICAgICAgICAgICBcIikuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgICAgaWYgKG51bGwgPT0gY2hpbGRyZW4pIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgbWFwSW50b0FycmF5KGNoaWxkcmVuLCByZXN1bHQsIFwiXCIsIFwiXCIsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBjb3VudCsrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGF6eUluaXRpYWxpemVyKHBheWxvYWQpIHtcbiAgICAgIGlmICgtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgIHZhciBjdG9yID0gcGF5bG9hZC5fcmVzdWx0O1xuICAgICAgICBjdG9yID0gY3RvcigpO1xuICAgICAgICBjdG9yLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKG1vZHVsZU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMSksIChwYXlsb2FkLl9yZXN1bHQgPSBtb2R1bGVPYmplY3QpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgICAgICAgIChwYXlsb2FkLl9zdGF0dXMgPSAyKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIC0xID09PSBwYXlsb2FkLl9zdGF0dXMgJiZcbiAgICAgICAgICAoKHBheWxvYWQuX3N0YXR1cyA9IDApLCAocGF5bG9hZC5fcmVzdWx0ID0gY3RvcikpO1xuICAgICAgfVxuICAgICAgaWYgKDEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoY3RvciA9IHBheWxvYWQuX3Jlc3VsdCksXG4gICAgICAgICAgdm9pZCAwID09PSBjdG9yICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVxcblxcbkRpZCB5b3UgYWNjaWRlbnRhbGx5IHB1dCBjdXJseSBicmFjZXMgYXJvdW5kIHRoZSBpbXBvcnQ/XCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXCJkZWZhdWx0XCIgaW4gY3RvciB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcIixcbiAgICAgICAgICAgICAgY3RvclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBjdG9yLmRlZmF1bHRcbiAgICAgICAgKTtcbiAgICAgIHRocm93IHBheWxvYWQuX3Jlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVGFzayh0YXNrKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZW5xdWV1ZVRhc2tJbXBsKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXF1aXJlU3RyaW5nID0gKFwicmVxdWlyZVwiICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMCwgNyk7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gKG1vZHVsZSAmJiBtb2R1bGVbcmVxdWlyZVN0cmluZ10pLmNhbGwoXG4gICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICBcInRpbWVyc1wiXG4gICAgICAgICAgKS5zZXRJbW1lZGlhdGU7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICBlbnF1ZXVlVGFza0ltcGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICExID09PSBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCAmJlxuICAgICAgICAgICAgICAoKGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITApLFxuICAgICAgICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBhIE1lc3NhZ2VDaGFubmVsIGltcGxlbWVudGF0aW9uLCBzbyBlbnF1ZXVpbmcgdGFza3MgdmlhIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pIHdpbGwgZmFpbC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3VlcyBpZiB5b3UgZW5jb3VudGVyIHRoaXMgd2FybmluZy5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKHZvaWQgMCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIGVucXVldWVUYXNrSW1wbCh0YXNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWdncmVnYXRlRXJyb3JzKGVycm9ycykge1xuICAgICAgcmV0dXJuIDEgPCBlcnJvcnMubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yXG4gICAgICAgID8gbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycylcbiAgICAgICAgOiBlcnJvcnNbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgIHByZXZBY3RTY29wZURlcHRoICE9PSBhY3RTY29wZURlcHRoIC0gMSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHNlZW0gdG8gaGF2ZSBvdmVybGFwcGluZyBhY3QoKSBjYWxscywgdGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBCZSBzdXJlIHRvIGF3YWl0IHByZXZpb3VzIGFjdCgpIGNhbGxzIGJlZm9yZSBtYWtpbmcgYSBuZXcgb25lLiBcIlxuICAgICAgICApO1xuICAgICAgYWN0U2NvcGVEZXB0aCA9IHByZXZBY3RTY29wZURlcHRoO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBxdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKVxuICAgICAgICBpZiAoMCAhPT0gcXVldWUubGVuZ3RoKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKTtcbiAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGw7XG4gICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICA/ICgocXVldWUgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICByZWplY3QocXVldWUpKVxuICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgICAgaXNGbHVzaGluZyA9ICEwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UgPSAhMTtcbiAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbiA9IGNhbGxiYWNrKCExKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGNvbnRpbnVhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICBxdWV1ZVtpXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGNvbnRpbnVhdGlvbjtcbiAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkgKyAxKSwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzRmx1c2hpbmcgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX0FDVElWSVRZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuYWN0aXZpdHlcIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fSxcbiAgICAgIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInJlcGxhY2VTdGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJzZXRTdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBlbXB0eU9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBudWxsICE9IHBhcnRpYWxTdGF0ZVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcInRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiXG4gICAgICAgICk7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIFwic2V0U3RhdGVcIik7XG4gICAgfTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgIH07XG4gICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgICBpc01vdW50ZWQ6IFtcbiAgICAgICAgICBcImlzTW91bnRlZFwiLFxuICAgICAgICAgIFwiSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXCJcbiAgICAgICAgXSxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBbXG4gICAgICAgICAgXCJyZXBsYWNlU3RhdGVcIixcbiAgICAgICAgICBcIlJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuXCJcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGZuTmFtZTtcbiAgICBmb3IgKGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcylcbiAgICAgIGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkgJiZcbiAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgQ29tcG9uZW50RHVtbXkucHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7XG4gICAgZGVwcmVjYXRlZEFQSXMuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50O1xuICAgIGFzc2lnbihkZXByZWNhdGVkQVBJcywgQ29tcG9uZW50LnByb3RvdHlwZSk7XG4gICAgZGVwcmVjYXRlZEFQSXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSAhMDtcbiAgICB2YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSB7XG4gICAgICAgIEg6IG51bGwsXG4gICAgICAgIEE6IG51bGwsXG4gICAgICAgIFQ6IG51bGwsXG4gICAgICAgIFM6IG51bGwsXG4gICAgICAgIFY6IG51bGwsXG4gICAgICAgIGFjdFF1ZXVlOiBudWxsLFxuICAgICAgICBpc0JhdGNoaW5nTGVnYWN5OiAhMSxcbiAgICAgICAgZGlkU2NoZWR1bGVMZWdhY3lVcGRhdGU6ICExLFxuICAgICAgICBkaWRVc2VQcm9taXNlOiAhMSxcbiAgICAgICAgdGhyb3duRXJyb3JzOiBbXSxcbiAgICAgICAgZ2V0Q3VycmVudFN0YWNrOiBudWxsLFxuICAgICAgICByZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrczogMFxuICAgICAgfSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIGNyZWF0ZVRhc2sgPSBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgPyBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9O1xuICAgIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLCBkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBkZXByZWNhdGVkQVBJc1tcbiAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICBdLmJpbmQoZGVwcmVjYXRlZEFQSXMsIFVua25vd25Pd25lcikoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0TWFwcyA9ICExLFxuICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nLFxuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXBvcnRFcnJvclxuICAgICAgICAgID8gcmVwb3J0RXJyb3JcbiAgICAgICAgICA6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHdpbmRvdy5FcnJvckV2ZW50XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuRXJyb3JFdmVudChcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9jZXNzLmVtaXRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICExLFxuICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gbnVsbCxcbiAgICAgIGFjdFNjb3BlRGVwdGggPSAwLFxuICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgPSAhMSxcbiAgICAgIGlzRmx1c2hpbmcgPSAhMSxcbiAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgID8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWVNaWNyb3Rhc2soY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IGVucXVldWVUYXNrO1xuICAgIGRlcHJlY2F0ZWRBUElzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICBjOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZXhwb3J0cy5DaGlsZHJlbiA9IHtcbiAgICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgICBmb3JFYWNoOiBmdW5jdGlvbiAoY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgICAgICBtYXBDaGlsZHJlbihcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3JFYWNoRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9yRWFjaENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjb3VudDogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0sXG4gICAgICB0b0FycmF5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvbmx5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gICAgZXhwb3J0cy5QdXJlQ29tcG9uZW50ID0gUHVyZUNvbXBvbmVudDtcbiAgICBleHBvcnRzLlN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgIGV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIGV4cG9ydHMuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuX19DT01QSUxFUl9SVU5USU1FID0gZGVwcmVjYXRlZEFQSXM7XG4gICAgZXhwb3J0cy5hY3QgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBwcmV2QWN0UXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSxcbiAgICAgICAgcHJldkFjdFNjb3BlRGVwdGggPSBhY3RTY29wZURlcHRoO1xuICAgICAgYWN0U2NvcGVEZXB0aCsrO1xuICAgICAgdmFyIHF1ZXVlID0gKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID1cbiAgICAgICAgICBudWxsICE9PSBwcmV2QWN0UXVldWUgPyBwcmV2QWN0UXVldWUgOiBbXSksXG4gICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICExO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAocG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCksXG4gICAgICAgICAgKGNhbGxiYWNrID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgY2FsbGJhY2spXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHJlc3VsdCAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmVzdWx0ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3VsdC50aGVuXG4gICAgICApIHtcbiAgICAgICAgdmFyIHRoZW5hYmxlID0gcmVzdWx0O1xuICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0IHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgY2FsbGVkIGFjdChhc3luYyAoKSA9PiAuLi4pIHdpdGhvdXQgYXdhaXQuIFRoaXMgY291bGQgbGVhZCB0byB1bmV4cGVjdGVkIHRlc3RpbmcgYmVoYXZpb3VyLCBpbnRlcmxlYXZpbmcgbXVsdGlwbGUgYWN0IGNhbGxzIGFuZCBtaXhpbmcgdGhlaXIgc2NvcGVzLiBZb3Ugc2hvdWxkIC0gYXdhaXQgYWN0KGFzeW5jICgpID0+IC4uLik7XCJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBwcmV2QWN0U2NvcGVEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvciQwKSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yJDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhyb3duRXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoX3Rocm93bkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICA/ICgoZXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpKVxuICAgICAgICAgICAgICAgICAgOiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciByZXR1cm5WYWx1ZSRqc2NvbXAkMCA9IHJlc3VsdDtcbiAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgMCA9PT0gcHJldkFjdFNjb3BlRGVwdGggJiZcbiAgICAgICAgKGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAwICE9PSBxdWV1ZS5sZW5ndGggJiZcbiAgICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCB8fFxuICAgICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgc3VzcGVuZGVkIGluc2lkZSBhbiBgYWN0YCBzY29wZSwgYnV0IHRoZSBgYWN0YCBjYWxsIHdhcyBub3QgYXdhaXRlZC4gV2hlbiB0ZXN0aW5nIFJlYWN0IGNvbXBvbmVudHMgdGhhdCBkZXBlbmQgb24gYXN5bmNocm9ub3VzIGRhdGEsIHlvdSBtdXN0IGF3YWl0IHRoZSByZXN1bHQ6XFxuXFxuYXdhaXQgYWN0KCgpID0+IC4uLilcIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gbnVsbCkpO1xuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICEwO1xuICAgICAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoXG4gICAgICAgICAgICA/ICgoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBxdWV1ZSksXG4gICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhcbiAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlJGpzY29tcCQwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FjaGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FwdHVyZU93bmVyU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZ2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGdldEN1cnJlbnRTdGFjayA/IG51bGwgOiBnZXRDdXJyZW50U3RhY2soKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09PSBlbGVtZW50IHx8IHZvaWQgMCA9PT0gZWxlbWVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICtcbiAgICAgICAgICAgIGVsZW1lbnQgK1xuICAgICAgICAgICAgXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyksXG4gICAgICAgIGtleSA9IGVsZW1lbnQua2V5LFxuICAgICAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJyZWZcIikgJiZcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgIFwicmVmXCJcbiAgICAgICAgICAgICkuZ2V0KSAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmlzUmVhY3RXYXJuaW5nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IHZvaWQgMCAhPT0gY29uZmlnLnJlZjtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiYgKG93bmVyID0gZ2V0T3duZXIoKSk7XG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGtleSA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpIHx8XG4gICAgICAgICAgICBcImtleVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NlbGZcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIChcInJlZlwiID09PSBwcm9wTmFtZSAmJiB2b2lkIDAgPT09IGNvbmZpZy5yZWYpIHx8XG4gICAgICAgICAgICAocHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBwcm9wTmFtZSkgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBwcm9wTmFtZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBBcnJheShwcm9wTmFtZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcE5hbWU7IGkrKylcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBlbGVtZW50LnR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIG93bmVyLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgZWxlbWVudC5fZGVidWdTdGFjayxcbiAgICAgICAgZWxlbWVudC5fZGVidWdUYXNrXG4gICAgICApO1xuICAgICAgZm9yIChrZXkgPSAyOyBrZXkgPCBhcmd1bWVudHMubGVuZ3RoOyBrZXkrKylcbiAgICAgICAgKG93bmVyID0gYXJndW1lbnRzW2tleV0pLFxuICAgICAgICAgIGlzVmFsaWRFbGVtZW50KG93bmVyKSAmJiBvd25lci5fc3RvcmUgJiYgKG93bmVyLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfY3VycmVudFZhbHVlMjogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDAsXG4gICAgICAgIFByb3ZpZGVyOiBudWxsLFxuICAgICAgICBDb25zdW1lcjogbnVsbFxuICAgICAgfTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Qcm92aWRlciA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Db25zdW1lciA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlNVTUVSX1RZUEUsXG4gICAgICAgIF9jb250ZXh0OiBkZWZhdWx0VmFsdWVcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlciA9IG51bGw7XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlcjIgPSBudWxsO1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZSkgJiYgbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgfVxuICAgICAgaSA9IHt9O1xuICAgICAgbm9kZSA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgfHxcbiAgICAgICAgICAhKFwiX19zZWxmXCIgaW4gY29uZmlnKSB8fFxuICAgICAgICAgIFwia2V5XCIgaW4gY29uZmlnIHx8XG4gICAgICAgICAgKChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lID0gITApLFxuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiWW91ciBhcHAgKG9yIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzKSBpcyB1c2luZyBhbiBvdXRkYXRlZCBKU1ggdHJhbnNmb3JtLiBVcGRhdGUgdG8gdGhlIG1vZGVybiBKU1ggdHJhbnNmb3JtIGZvciBmYXN0ZXIgcGVyZm9ybWFuY2U6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbmV3LWpzeC10cmFuc2Zvcm1cIlxuICAgICAgICAgICkpLFxuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChub2RlID0gXCJcIiArIGNvbmZpZy5rZXkpKSxcbiAgICAgICAgY29uZmlnKSlcbiAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmXG4gICAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NlbGZcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIChpW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gY2hpbGRyZW5MZW5ndGgpIGkuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBjaGlsZHJlbkxlbmd0aCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpLCBfaSA9IDA7XG4gICAgICAgICAgX2kgPCBjaGlsZHJlbkxlbmd0aDtcbiAgICAgICAgICBfaSsrXG4gICAgICAgIClcbiAgICAgICAgICBjaGlsZEFycmF5W19pXSA9IGFyZ3VtZW50c1tfaSArIDJdO1xuICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRBcnJheSk7XG4gICAgICAgIGkuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKChjaGlsZHJlbkxlbmd0aCA9IHR5cGUuZGVmYXVsdFByb3BzKSwgY2hpbGRyZW5MZW5ndGgpKVxuICAgICAgICAgIHZvaWQgMCA9PT0gaVtwcm9wTmFtZV0gJiYgKGlbcHJvcE5hbWVdID0gY2hpbGRyZW5MZW5ndGhbcHJvcE5hbWVdKTtcbiAgICAgIG5vZGUgJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgaSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wTmFtZSA9IDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBub2RlLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgZ2V0T3duZXIoKSxcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcE5hbWUgPyBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKSA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHByb3BOYW1lID8gY3JlYXRlVGFzayhnZXRUYXNrTmFtZSh0eXBlKSkgOiB1bmtub3duT3duZXJEZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZVJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZWZPYmplY3QgPSB7IGN1cnJlbnQ6IG51bGwgfTtcbiAgICAgIE9iamVjdC5zZWFsKHJlZk9iamVjdCk7XG4gICAgICByZXR1cm4gcmVmT2JqZWN0O1xuICAgIH07XG4gICAgZXhwb3J0cy5mb3J3YXJkUmVmID0gZnVuY3Rpb24gKHJlbmRlcikge1xuICAgICAgbnVsbCAhPSByZW5kZXIgJiYgcmVuZGVyLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEVcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCByZWNlaXZlZCBhIGBtZW1vYCBjb21wb25lbnQuIEluc3RlYWQgb2YgZm9yd2FyZFJlZihtZW1vKC4uLikpLCB1c2UgbWVtbyhmb3J3YXJkUmVmKC4uLikpLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlbmRlclxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuXCIsXG4gICAgICAgICAgICAgIG51bGwgPT09IHJlbmRlciA/IFwibnVsbFwiIDogdHlwZW9mIHJlbmRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogMCAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgMiAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgYWNjZXB0IGV4YWN0bHkgdHdvIHBhcmFtZXRlcnM6IHByb3BzIGFuZCByZWYuICVzXCIsXG4gICAgICAgICAgICAgIDEgPT09IHJlbmRlci5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IFwiRGlkIHlvdSBmb3JnZXQgdG8gdXNlIHRoZSByZWYgcGFyYW1ldGVyP1wiXG4gICAgICAgICAgICAgICAgOiBcIkFueSBhZGRpdGlvbmFsIHBhcmFtZXRlciB3aWxsIGJlIHVuZGVmaW5lZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmXG4gICAgICAgIG51bGwgIT0gcmVuZGVyLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGRvIG5vdCBzdXBwb3J0IGRlZmF1bHRQcm9wcy4gRGlkIHlvdSBhY2NpZGVudGFsbHkgcGFzcyBhIFJlYWN0IGNvbXBvbmVudD9cIlxuICAgICAgICApO1xuICAgICAgdmFyIGVsZW1lbnRUeXBlID0geyAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSwgcmVuZGVyOiByZW5kZXIgfSxcbiAgICAgICAgb3duTmFtZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50VHlwZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHJlbmRlci5uYW1lIHx8XG4gICAgICAgICAgICByZW5kZXIuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkocmVuZGVyLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgIChyZW5kZXIuZGlzcGxheU5hbWUgPSBuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnRUeXBlO1xuICAgIH07XG4gICAgZXhwb3J0cy5pc1ZhbGlkRWxlbWVudCA9IGlzVmFsaWRFbGVtZW50O1xuICAgIGV4cG9ydHMubGF6eSA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgICAgICBfcGF5bG9hZDogeyBfc3RhdHVzOiAtMSwgX3Jlc3VsdDogY3RvciB9LFxuICAgICAgICBfaW5pdDogbGF6eUluaXRpYWxpemVyXG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5tZW1vID0gZnVuY3Rpb24gKHR5cGUsIGNvbXBhcmUpIHtcbiAgICAgIG51bGwgPT0gdHlwZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwibWVtbzogVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBjb21wb25lbnQuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXCIsXG4gICAgICAgICAgbnVsbCA9PT0gdHlwZSA/IFwibnVsbFwiIDogdHlwZW9mIHR5cGVcbiAgICAgICAgKTtcbiAgICAgIGNvbXBhcmUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9NRU1PX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvbXBhcmU6IHZvaWQgMCA9PT0gY29tcGFyZSA/IG51bGwgOiBjb21wYXJlXG4gICAgICB9O1xuICAgICAgdmFyIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcGFyZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHR5cGUubmFtZSB8fFxuICAgICAgICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgICh0eXBlLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb21wYXJlO1xuICAgIH07XG4gICAgZXhwb3J0cy5zdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHNjb3BlKCksXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiAmJlxuICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4obm9vcCwgcmVwb3J0R2xvYmFsRXJyb3IpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICgoc2NvcGUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgIDEwIDwgc2NvcGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3VzZUNhY2hlUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUNhY2hlUmVmcmVzaCgpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2UgPSBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2UodXNhYmxlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQWN0aW9uU3RhdGUoXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgICBwZXJtYWxpbmtcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNvbnRleHQgPSBmdW5jdGlvbiAoQ29udGV4dCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICAgICAgQ29udGV4dC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FsbGluZyB1c2VDb250ZXh0KENvbnRleHQuQ29uc3VtZXIpIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgY2F1c2UgYnVncy4gRGlkIHlvdSBtZWFuIHRvIGNhbGwgdXNlQ29udGV4dChDb250ZXh0KSBpbnN0ZWFkP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRGVidWdWYWx1ZSh2YWx1ZSwgZm9ybWF0dGVyRm4pO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWZlcnJlZFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGNyZWF0ZURlcHMsIHVwZGF0ZSkge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB1cGRhdGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwidXNlRWZmZWN0IENSVUQgb3ZlcmxvYWQgaXMgbm90IGVuYWJsZWQgaW4gdGhpcyBidWlsZCBvZiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXIudXNlRWZmZWN0KGNyZWF0ZSwgY3JlYXRlRGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSWQoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSW1wZXJhdGl2ZUhhbmRsZSA9IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUluc2VydGlvbkVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIG51bGwgPT0gY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlJlYWN0IEhvb2sgdXNlSW5zZXJ0aW9uRWZmZWN0IHJlcXVpcmVzIGFuIGVmZmVjdCBjYWxsYmFjay4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyBhIGNhbGxiYWNrIHRvIHRoZSBob29rP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbnNlcnRpb25FZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VMYXlvdXRFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VNZW1vID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVkdWNlciA9IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWYgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3RhdGUgPSBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IGZ1bmN0aW9uIChcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVRyYW5zaXRpb24oKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMS4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwidmFyIFNNQUxMX1dPUkRTID0gL1xcYig/OmFuP2Q/fGFbc3RdfGJlY2F1c2V8YnV0fGJ5fGVufGZvcnxpW2ZuXXxuZWl0aGVyfG5vcnxvW2Zucl18b25seXxvdmVyfHBlcnxzb3xzb21lfHRoYVt0bl18dGhlfHRvfHVwfHVwb258dnM/XFwuP3x2ZXJzdXN8dmlhfHdoZW58d2l0aHx3aXRob3V0fHlldClcXGIvaTtcbnZhciBUT0tFTlMgPSAvW15cXHM64oCT4oCULV0rfC4vZztcbnZhciBXSElURVNQQUNFID0gL1xccy87XG52YXIgSVNfTUFOVUFMX0NBU0UgPSAvLig/PVtBLVpdfFxcLi4pLztcbnZhciBBTFBIQU5VTUVSSUNfUEFUVEVSTiA9IC9bQS1aYS16MC05XFx1MDBDMC1cXHUwMEZGXS87XG5leHBvcnQgZnVuY3Rpb24gdGl0bGVDYXNlKGlucHV0KSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgdmFyIG07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChtID0gVE9LRU5TLmV4ZWMoaW5wdXQpKSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgdG9rZW4gPSBtWzBdLCBpbmRleCA9IG0uaW5kZXg7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gSWdub3JlIGFscmVhZHkgY2FwaXRhbGl6ZWQgd29yZHMuXG4gICAgICAgICFJU19NQU5VQUxfQ0FTRS50ZXN0KHRva2VuKSAmJlxuICAgICAgICAgICAgLy8gSWdub3JlIHNtYWxsIHdvcmRzIGV4Y2VwdCBhdCBiZWdpbm5pbmcgb3IgZW5kLlxuICAgICAgICAgICAgKCFTTUFMTF9XT1JEUy50ZXN0KHRva2VuKSB8fFxuICAgICAgICAgICAgICAgIGluZGV4ID09PSAwIHx8XG4gICAgICAgICAgICAgICAgaW5kZXggKyB0b2tlbi5sZW5ndGggPT09IGlucHV0Lmxlbmd0aCkgJiZcbiAgICAgICAgICAgIC8vIElnbm9yZSBVUkxzLlxuICAgICAgICAgICAgKGlucHV0LmNoYXJBdChpbmRleCArIHRva2VuLmxlbmd0aCkgIT09IFwiOlwiIHx8XG4gICAgICAgICAgICAgICAgV0hJVEVTUEFDRS50ZXN0KGlucHV0LmNoYXJBdChpbmRleCArIHRva2VuLmxlbmd0aCArIDEpKSkpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgYW5kIHVwcGVyY2FzZSBmaXJzdCB3b3JkIGNoYXJhY3Rlciwgc2tpcHMgb3ZlciAqbW9kaWZpZXJzKi5cbiAgICAgICAgICAgIHJlc3VsdCArPSB0b2tlbi5yZXBsYWNlKEFMUEhBTlVNRVJJQ19QQVRURVJOLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbS50b1VwcGVyQ2FzZSgpOyB9KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSB0b2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogVGhpcyBmaWxlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZyb20gYHByZS1wdWJsaXNoLmpzYC5cbiAqIERvIG5vdCBtYW51YWxseSBlZGl0LlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBcImFyZWFcIjogdHJ1ZSxcbiAgXCJiYXNlXCI6IHRydWUsXG4gIFwiYnJcIjogdHJ1ZSxcbiAgXCJjb2xcIjogdHJ1ZSxcbiAgXCJlbWJlZFwiOiB0cnVlLFxuICBcImhyXCI6IHRydWUsXG4gIFwiaW1nXCI6IHRydWUsXG4gIFwiaW5wdXRcIjogdHJ1ZSxcbiAgXCJsaW5rXCI6IHRydWUsXG4gIFwibWV0YVwiOiB0cnVlLFxuICBcInBhcmFtXCI6IHRydWUsXG4gIFwic291cmNlXCI6IHRydWUsXG4gIFwidHJhY2tcIjogdHJ1ZSxcbiAgXCJ3YnJcIjogdHJ1ZVxufTtcbiIsImltcG9ydCB0eXBlIE9wZW5GaW4gZnJvbSBcIkBvcGVuZmluL2NvcmVcIjtcbmltcG9ydCB0eXBlIHsgQXBwIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHsgQXBwTWFuaWZlc3RUeXBlLCBnZXRDdXJyZW50U3luYyB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm1cIjtcblxuLyoqXG4gKiBHZXQgdGhlIGxpc3Qgb2YgYXBwcyB0byBkaXNwbGF5LlxuICogQHJldHVybnMgTGlzdCBvZiBhcHAgZGVmaW5pdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHBzKCk6IEFwcFtdIHtcblx0cmV0dXJuIFtPUEVORklOX0lORk9STUFUSU9OX0FQUCwgRkRDM19CUk9BRENBU1QsIElOVEVST1BfQlJPQURDQVNULCBFWENFTF9XSU5ET1ddO1xufVxuXG4vKipcbiAqIEFwcCBkZWZpbml0aW9uIHRvIHVzZSBmb3IgZGVtb25zdHJhdGlvbiB3aGljaCBzaG93IE9wZW5GaW4gZW52aXJvbm1lbnQgaW5mb3JtYXRpb24uXG4gKi9cbmNvbnN0IE9QRU5GSU5fSU5GT1JNQVRJT05fQVBQOiBBcHAgPSB7XG5cdGFwcElkOiBcIm9wZW5maW4taW5mb3JtYXRpb25cIixcblx0dGl0bGU6IFwiT3BlbkZpbiBJbmZvcm1hdGlvblwiLFxuXHRkZXNjcmlwdGlvbjogXCJEaXNwbGF5IGluZm9ybWF0aW9uIGFib3V0IHRoZSBPcGVuRmluIGVudmlyb25tZW50XCIsXG5cdG1hbmlmZXN0OiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vdmlld3MvcGxhdGZvcm0vb2YtaW5mby52aWV3LmZpbi5qc29uXCIsXG5cdG1hbmlmZXN0VHlwZTogXCJ2aWV3XCIsXG5cdGljb25zOiBbXG5cdFx0e1xuXHRcdFx0c3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL2ljb24tYmx1ZS5wbmdcIlxuXHRcdH1cblx0XSxcblx0Y29udGFjdEVtYWlsOiBcImNvbnRhY3RAZXhhbXBsZS5jb21cIixcblx0c3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcblx0cHVibGlzaGVyOiBcIk9wZW5GaW5cIixcblx0aW50ZW50czogW10sXG5cdGltYWdlczogW1xuXHRcdHtcblx0XHRcdHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvY29tbW9uL2ltYWdlcy9wcmV2aWV3cy9vZi1pbmZvLnBuZ1wiXG5cdFx0fVxuXHRdLFxuXHR0YWdzOiBbXCJ2aWV3XCIsIFwib3BlbmZpblwiLCBcInZlcnNpb25zXCJdXG59O1xuXG4vKipcbiAqIEFwcCBkZWZpbml0aW9uIGZvciB0aGUgRkRDMyBJbnRlcm9wIEJyb2FkY2FzdCBWaWV3LlxuICovXG5jb25zdCBGREMzX0JST0FEQ0FTVDogQXBwID0ge1xuXHRhcHBJZDogXCJmZGMzLWJyb2FkY2FzdC12aWV3XCIsXG5cdHRpdGxlOiBcIkNvbnRleHQgdXNpbmcgRkRDM1wiLFxuXHRkZXNjcmlwdGlvbjpcblx0XHRcIlRoaXMgaXMgYW4gZXhhbXBsZSB2aWV3IHVzZWQgdG8gZGVtb25zdHJhdGUgdGhlIGJyb2FkY2FzdGluZyBhbmQgbGlzdGVuaW5nIG9mIHBhc3NlZCBjb250ZXh0IG9iamVjdHMgdXNpbmcgdGhlIGZkYzMgYXBpLlwiLFxuXHRtYW5pZmVzdDpcblx0XHRcImh0dHBzOi8vYnVpbHQtb24tb3BlbmZpbi5naXRodWIuaW8vZGV2LWV4dGVuc2lvbnMvZXh0ZW5zaW9ucy92MjEuMC4wL2ludGVyb3AvZmRjMy9jb250ZXh0L2ZkYzMtYnJvYWRjYXN0LXZpZXcuanNvblwiLFxuXHRtYW5pZmVzdFR5cGU6IFwidmlld1wiLFxuXHRpY29uczogW1xuXHRcdHtcblx0XHRcdHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvY29tbW9uL2ltYWdlcy9pY29uLWJsdWUucG5nXCJcblx0XHR9XG5cdF0sXG5cdGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXG5cdHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QGV4YW1wbGUuY29tXCIsXG5cdHB1Ymxpc2hlcjogXCJPcGVuRmluXCIsXG5cdGludGVudHM6IFtdLFxuXHRpbWFnZXM6IFtcblx0XHR7XG5cdFx0XHRzcmM6IFwiaHR0cHM6Ly9idWlsdC1vbi1vcGVuZmluLmdpdGh1Yi5pby9kZXYtZXh0ZW5zaW9ucy9leHRlbnNpb25zL3YyMS4wLjAvaW50ZXJvcC9pbWFnZXMvcHJldmlld3Mvdmlldy1jb250ZXh0LWZkYzMucG5nXCJcblx0XHR9XG5cdF0sXG5cdHRhZ3M6IFtcInZpZXdcIiwgXCJmZGMzXCIsIFwidG9vbHNcIl1cbn07XG5cbi8qKlxuICogQXBwIGRlZmluaXRpb24gZm9yIHRoZSBGREMzIEludGVyb3AgQnJvYWRjYXN0IFZpZXcuXG4gKi9cbmNvbnN0IElOVEVST1BfQlJPQURDQVNUOiBBcHAgPSB7XG5cdGFwcElkOiBcImludGVyb3AtYnJvYWRjYXN0LXZpZXdcIixcblx0dGl0bGU6IFwiQ29udGV4dCB1c2luZyBJbnRlcm9wIEFQSVwiLFxuXHRkZXNjcmlwdGlvbjpcblx0XHRcIlRoaXMgaXMgYW4gZXhhbXBsZSBvZiBzZXR0aW5nIGFuZCBsaXN0ZW5pbmcgdG8gY29udGV4dCB1c2luZyB0aGUgaW50ZXJvcCBhcGkgYW5kIHNlZWluZyBhIGNvZGUgc2FtcGxlIG9mIGhvdyB0byBkbyBpdC5cIixcblx0bWFuaWZlc3Q6XG5cdFx0XCJodHRwczovL2J1aWx0LW9uLW9wZW5maW4uZ2l0aHViLmlvL2Rldi1leHRlbnNpb25zL2V4dGVuc2lvbnMvdjIxLjAuMC9pbnRlcm9wL2ludGVyb3AtYXBpL2NvbnRleHQvaW50ZXJvcC1icm9hZGNhc3Qtdmlldy5qc29uXCIsXG5cdG1hbmlmZXN0VHlwZTogXCJ2aWV3XCIsXG5cdGljb25zOiBbXG5cdFx0e1xuXHRcdFx0c3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL2ljb24tYmx1ZS5wbmdcIlxuXHRcdH1cblx0XSxcblx0Y29udGFjdEVtYWlsOiBcImNvbnRhY3RAZXhhbXBsZS5jb21cIixcblx0c3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcblx0cHVibGlzaGVyOiBcIk9wZW5GaW5cIixcblx0aW50ZW50czogW10sXG5cdGltYWdlczogW1xuXHRcdHtcblx0XHRcdHNyYzogXCJodHRwczovL2J1aWx0LW9uLW9wZW5maW4uZ2l0aHViLmlvL2Rldi1leHRlbnNpb25zL2V4dGVuc2lvbnMvdjIxLjAuMC9pbnRlcm9wL2ltYWdlcy9wcmV2aWV3cy92aWV3LWNvbnRleHQtaW50ZXJvcC1hcGkucG5nXCJcblx0XHR9XG5cdF0sXG5cdHRhZ3M6IFtcInZpZXdcIiwgXCJpbnRlcm9wXCIsIFwidG9vbHNcIl1cbn07XG5cbi8qKlxuICogQXBwIGRlZmluaXRpb24gZm9yIHRoZSBGREMzIEludGVyb3AgQnJvYWRjYXN0IFZpZXcuXG4gKi9cbmNvbnN0IEVYQ0VMX1dJTkRPVzogQXBwID0ge1xuXHRhcHBJZDogXCJleGNlbC13aW5kb3dcIixcblx0dGl0bGU6IFwiRXhjZWwgV2luZG93XCIsXG5cdGRlc2NyaXB0aW9uOlxuXHRcdFwiQSB3aW5kb3cgdGhhdCBsYXVuY2hlcyBFeGNlbCBhbmQgbGlzdGVucyBmb3IgY2hhbmdlcy4gVGhpcyBpcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgRXhjZWwgSG9tZSBpbnRlZ3JhdGlvbi5cIixcblx0bWFuaWZlc3Q6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3dpbmRvd3MvZXhjZWwud2luZG93LmZpbi5qc29uXCIsXG5cdG1hbmlmZXN0VHlwZTogXCJ3aW5kb3dcIixcblx0aWNvbnM6IFtcblx0XHR7XG5cdFx0XHRzcmM6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NvbW1vbi9pbWFnZXMvaWNvbi1ibHVlLnBuZ1wiXG5cdFx0fVxuXHRdLFxuXHRjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxuXHRzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxuXHRwdWJsaXNoZXI6IFwiT3BlbkZpblwiLFxuXHRpbnRlbnRzOiBbXSxcblx0aW1hZ2VzOiBbXSxcblx0dGFnczogW1wid2luZG93XCIsIFwiZXhjZWxcIiwgXCJ0b29sc1wiXVxufTtcblxuLyoqXG4gKiBMYXVuY2ggdGhlIHBhc3NlZCBhcHAgdXNpbmcgaXRzIG1hbmlmZXN0IHR5cGUgdG8gZGV0ZXJtaW5lIGhvdyB0byBsYXVuY2ggaXQuXG4gKiBAcGFyYW0gYXBwIFRoZSBhcHAgdG8gbGF1bmNoLlxuICogQHJldHVybnMgVGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBsYXVuY2guXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsYXVuY2hBcHAoXG5cdGFwcDogQXBwXG4pOiBQcm9taXNlPFxuXHRPcGVuRmluLlBsYXRmb3JtIHwgT3BlbkZpbi5JZGVudGl0eSB8IE9wZW5GaW4uVmlldyB8IE9wZW5GaW4uQXBwbGljYXRpb24gfCBPcGVuRmluLldpbmRvdyB8IHVuZGVmaW5lZFxuPiB7XG5cdGlmICghYXBwLm1hbmlmZXN0KSB7XG5cdFx0Y29uc29sZS5lcnJvcihgTm8gbWFuaWZlc3Qgd2FzIHByb3ZpZGVkIGZvciB0eXBlICR7YXBwLm1hbmlmZXN0VHlwZX1gKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRsZXQgcmV0OlxuXHRcdHwgT3BlbkZpbi5QbGF0Zm9ybVxuXHRcdHwgT3BlbkZpbi5JZGVudGl0eVxuXHRcdHwgT3BlbkZpbi5WaWV3XG5cdFx0fCBPcGVuRmluLkFwcGxpY2F0aW9uXG5cdFx0fCBPcGVuRmluLldpbmRvd1xuXHRcdHwgdW5kZWZpbmVkO1xuXG5cdGNvbnNvbGUubG9nKFwiQXBwbGljYXRpb24gbGF1bmNoIHJlcXVlc3RlZDpcIiwgYXBwKTtcblxuXHRzd2l0Y2ggKGFwcC5tYW5pZmVzdFR5cGUpIHtcblx0XHRjYXNlIEFwcE1hbmlmZXN0VHlwZS5TbmFwc2hvdDoge1xuXHRcdFx0Y29uc3QgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xuXHRcdFx0cmV0ID0gYXdhaXQgcGxhdGZvcm0uYXBwbHlTbmFwc2hvdChhcHAubWFuaWZlc3QpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Y2FzZSBBcHBNYW5pZmVzdFR5cGUuVmlldzoge1xuXHRcdFx0Y29uc3QgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xuXHRcdFx0cmV0ID0gYXdhaXQgcGxhdGZvcm0uY3JlYXRlVmlldyh7IG1hbmlmZXN0VXJsOiBhcHAubWFuaWZlc3QgfSk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRjYXNlIEFwcE1hbmlmZXN0VHlwZS5FeHRlcm5hbDoge1xuXHRcdFx0cmV0ID0gYXdhaXQgZmluLlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3MoeyBwYXRoOiBhcHAubWFuaWZlc3QsIHV1aWQ6IGFwcC5hcHBJZCB9KTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGNhc2UgXCJ3aW5kb3dcIjoge1xuXHRcdFx0Y29uc3QgbWFuaWZlc3Q6IE9wZW5GaW4uV2luZG93Q3JlYXRpb25PcHRpb25zID0gYXdhaXQgZmV0Y2goYXBwLm1hbmlmZXN0KS50aGVuKGFzeW5jIChyZXNwb25zZSkgPT5cblx0XHRcdFx0cmVzcG9uc2UuanNvbigpXG5cdFx0XHQpO1xuXHRcdFx0cmV0ID0gYXdhaXQgZmluLldpbmRvdy5jcmVhdGUobWFuaWZlc3QpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0ZGVmYXVsdDoge1xuXHRcdFx0cmV0ID0gYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGFwcC5tYW5pZmVzdCk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRjb25zb2xlLmxvZyhcIkZpbmlzaGVkIGFwcGxpY2F0aW9uIGxhdW5jaCByZXF1ZXN0XCIpO1xuXG5cdHJldHVybiByZXQ7XG59XG4iLCJpbXBvcnQge1xuXHRDTElUZW1wbGF0ZSxcblx0dHlwZSBIb21lRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcblx0dHlwZSBIb21lU2VhcmNoUmVzcG9uc2UsXG5cdHR5cGUgSG9tZVNlYXJjaFJlc3VsdFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgeyBpbml0IGFzIGluaXRFeGNlbCwgY2xvc2VEb3duIGFzIGNsb3NlRG93bkV4Y2VsLCBsYXVuY2hFeGNlbCB9IGZyb20gXCIuL2V4Y2VsXCI7XG5pbXBvcnQgdHlwZSB7IEV4Y2VsQXNzZXRTZXR0aW5ncywgRXhjZWxTZXR0aW5ncyB9IGZyb20gXCIuL3NoYXBlc1wiO1xuXG4vKipcbiAqIEltcGxlbWVudCB0aGUgaW50ZWdyYXRpb24gZm9yIEV4Y2VsLlxuICovXG5leHBvcnQgY2xhc3MgRXhjZWxJbnRlZ3JhdGlvbiB7XG5cdC8qKlxuXHQgKiBUaGUga2V5IHRvIHVzZSBmb3IgYSBzaGVldCBvcGVuIGFjdGlvbi5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBfRVhDRUxfUFJPVklERVJfT1BFTl9LRVlfQUNUSU9OID0gXCJPcGVuIEV4Y2VsXCI7XG5cblx0LyoqXG5cdCAqIFRoZSBzZXR0aW5ncyBmb3IgdGhlIGludGVncmF0aW9uLlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHByaXZhdGUgX3NldHRpbmdzOiBFeGNlbFNldHRpbmdzIHwgdW5kZWZpbmVkO1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIHRoZSBtb2R1bGUuXG5cdCAqIEBwYXJhbSBzZXR0aW5ncyBUaGUgc2V0dGluZ3MgZm9yIHRoZSBpbnRlZ3JhdGlvbi5cblx0ICogQHJldHVybnMgTm90aGluZy5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBpbml0aWFsaXplKHNldHRpbmdzOiBFeGNlbFNldHRpbmdzKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcblxuXHRcdGF3YWl0IGluaXRFeGNlbChzZXR0aW5ncyk7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG1vZHVsZSBpcyBiZWluZyBkZXJlZ2lzdGVyZWQuXG5cdCAqIEByZXR1cm5zIE5vdGhpbmcuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgY2xvc2Vkb3duKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IGNsb3NlRG93bkV4Y2VsKCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IGEgbGlzdCBvZiBzZWFyY2ggcmVzdWx0cyBiYXNlZCBvbiB0aGUgcXVlcnkgYW5kIGZpbHRlcnMuXG5cdCAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gc2VhcmNoIGZvci5cblx0ICogQHJldHVybnMgVGhlIGxpc3Qgb2YgcmVzdWx0cyBhbmQgbmV3IGZpbHRlcnMuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgZ2V0U2VhcmNoUmVzdWx0cyhxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxIb21lU2VhcmNoUmVzcG9uc2U+IHtcblx0XHRpZiAodGhpcy5fc2V0dGluZ3M/LmFzc2V0ICYmIHF1ZXJ5Lmxlbmd0aCA8IDMpIHtcblx0XHRcdHJldHVybiB7IHJlc3VsdHM6IFt0aGlzLmNyZWF0ZVJlc3VsdCh0aGlzLl9zZXR0aW5ncy5hc3NldCldIH07XG5cdFx0fVxuXHRcdGlmIChcblx0XHRcdHRoaXMuX3NldHRpbmdzPy5hc3NldCAmJlxuXHRcdFx0cXVlcnkubGVuZ3RoID49IDMgJiZcblx0XHRcdHRoaXMuX3NldHRpbmdzLmFzc2V0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcblx0XHQpIHtcblx0XHRcdHJldHVybiB7IHJlc3VsdHM6IFt0aGlzLmNyZWF0ZVJlc3VsdCh0aGlzLl9zZXR0aW5ncy5hc3NldCldIH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3VsdHM6IFtdXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBbiBlbnRyeSBoYXMgYmVlbiBzZWxlY3RlZC5cblx0ICogQHBhcmFtIHJlc3VsdCBUaGUgZGlzcGF0Y2hlZCByZXN1bHQuXG5cdCAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGl0ZW0gd2FzIGhhbmRsZWQuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgaXRlbVNlbGVjdGlvbihyZXN1bHQ6IEhvbWVEaXNwYXRjaGVkU2VhcmNoUmVzdWx0KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0aWYgKFxuXHRcdFx0cmVzdWx0LmFjdGlvbi5uYW1lID09PSBFeGNlbEludGVncmF0aW9uLl9FWENFTF9QUk9WSURFUl9PUEVOX0tFWV9BQ1RJT04gJiZcblx0XHRcdHJlc3VsdC5hY3Rpb24udHJpZ2dlciA9PT0gXCJ1c2VyLWFjdGlvblwiICYmXG5cdFx0XHRyZXN1bHQuZGF0YS53b3JrYm9va1xuXHRcdCkge1xuXHRcdFx0YXdhaXQgbGF1bmNoRXhjZWwocmVzdWx0LmRhdGEgYXMgRXhjZWxBc3NldFNldHRpbmdzKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBzZWFyY2ggcmVzdWx0LlxuXHQgKiBAcGFyYW0gZXhjZWxBc3NldCBUaGUgZXhjZWwgZG9jdW1lbnQgYXNzZXQgYWxpYXMuXG5cdCAqIEByZXR1cm5zIFRoZSBzZWFyY2ggcmVzdWx0LlxuXHQgKi9cblx0cHJpdmF0ZSBjcmVhdGVSZXN1bHQoZXhjZWxBc3NldDogRXhjZWxBc3NldFNldHRpbmdzKTogSG9tZVNlYXJjaFJlc3VsdCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGtleTogYGV4Y2VsLSR7ZXhjZWxBc3NldC53b3JrYm9va31gLFxuXHRcdFx0dGl0bGU6IGV4Y2VsQXNzZXQudGl0bGUsXG5cdFx0XHRsYWJlbDogXCJFeGNlbFwiLFxuXHRcdFx0aWNvbjogdGhpcy5fc2V0dGluZ3M/Lmljb24sXG5cdFx0XHRhY3Rpb25zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBFeGNlbEludGVncmF0aW9uLl9FWENFTF9QUk9WSURFUl9PUEVOX0tFWV9BQ1RJT04sXG5cdFx0XHRcdFx0aG90a2V5OiBcIkVudGVyXCJcblx0XHRcdFx0fVxuXHRcdFx0XSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0cHJvdmlkZXJJZDogXCJleGNlbFwiLFxuXHRcdFx0XHQuLi5leGNlbEFzc2V0XG5cdFx0XHR9LFxuXHRcdFx0dGVtcGxhdGU6IENMSVRlbXBsYXRlLlNpbXBsZVRleHQsXG5cdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IGV4Y2VsQXNzZXQuZGVzY3JpcHRpb25cblx0XHR9O1xuXHR9XG59XG4iLCJpbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5pbXBvcnQgeyBlbmFibGVMb2dnaW5nLCBnZXRFeGNlbEFwcGxpY2F0aW9uLCB0eXBlIENlbGwsIHR5cGUgRXhjZWxBcHBsaWNhdGlvbiB9IGZyb20gXCJAb3BlbmZpbi9leGNlbFwiO1xuaW1wb3J0IHR5cGUgeyBFeGNlbEFzc2V0U2V0dGluZ3MsIEV4Y2VsU2V0dGluZ3MsIEV4Y2VsV29ya3NoZWV0U2V0dGluZ3MgfSBmcm9tIFwiLi9zaGFwZXNcIjtcblxubGV0IGV4Y2VsOiBFeGNlbEFwcGxpY2F0aW9uIHwgdW5kZWZpbmVkO1xuLyoqXG4gKiBUaGUgaW50ZXJvcCBjbGllbnRzIGZvciB0aGUgZGlmZmVyZW50IGNvbnRleHRzLlxuICovXG5sZXQgaW50ZXJvcENsaWVudHM6IHsgW2lkOiBzdHJpbmddOiBPcGVuRmluLkludGVyb3BDbGllbnQgfSB8IHVuZGVmaW5lZDtcblxubGV0IHNldHRpbmdzOiBFeGNlbFNldHRpbmdzIHwgdW5kZWZpbmVkO1xuXG5sZXQgd29ya2Jvb2tGb3VuZDogYm9vbGVhbjtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBFeGNlbCBpbnRlcm9wLlxuICogQHBhcmFtIGV4Y2VsU2V0dGluZ3MgVGhlIHNldHRpbmdzIHRvIHVzZSBmb3IgaW5pdGlhbGl6aW5nIHRoZSBFeGNlbCBpbnRlcm9wLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdChleGNlbFNldHRpbmdzOiBFeGNlbFNldHRpbmdzKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmICghc2V0dGluZ3MpIHtcblx0XHRzZXR0aW5ncyA9IGV4Y2VsU2V0dGluZ3M7XG5cdFx0Y29uc3QgYnJva2VyQ2xpZW50ID0gZmluLkludGVyb3AuY29ubmVjdFN5bmMoZmluLm1lLmlkZW50aXR5LnV1aWQsIHt9KTtcblx0XHRjb25zdCBjb250ZXh0R3JvdXBzID0gYXdhaXQgYnJva2VyQ2xpZW50LmdldENvbnRleHRHcm91cHMoKTtcblx0XHRpbnRlcm9wQ2xpZW50cyA9IHt9O1xuXHRcdGZvciAoY29uc3QgY29udGV4dEdyb3VwIG9mIGNvbnRleHRHcm91cHMpIHtcblx0XHRcdGNvbnN0IGNvbnRleHRDbGllbnQgPSBmaW4uSW50ZXJvcC5jb25uZWN0U3luYyhmaW4ubWUuaWRlbnRpdHkudXVpZCwge30pO1xuXHRcdFx0YXdhaXQgY29udGV4dENsaWVudC5qb2luQ29udGV4dEdyb3VwKGNvbnRleHRHcm91cC5pZCk7XG5cdFx0XHRhd2FpdCBjb250ZXh0Q2xpZW50LmFkZENvbnRleHRIYW5kbGVyKGFzeW5jIChjdHgpID0+IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlQ29udGV4dChjb250ZXh0R3JvdXAuaWQsIGN0eCk7XG5cdFx0XHR9KTtcblx0XHRcdGludGVyb3BDbGllbnRzW2NvbnRleHRHcm91cC5pZF0gPSBjb250ZXh0Q2xpZW50O1xuXHRcdH1cblxuXHRcdGVuYWJsZUxvZ2dpbmcoKTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB0aGUgRXhjZWwgYXBwbGljYXRpb24uXG4gKiBAcGFyYW0gYXNzZXRTZXR0aW5ncyBUaGUgc2V0dGluZ3MgdG8gdXNlIGZvciBnZXR0aW5nIHRoZSBFeGNlbCBhcHBsaWNhdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBFeGNlbCBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxhdW5jaEV4Y2VsKGFzc2V0U2V0dGluZ3M6IEV4Y2VsQXNzZXRTZXR0aW5ncyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRjb25zdCBhc3NldEF2YWlsYWJsZSA9IGF3YWl0IGdldEFwcEFzc2V0KCk7XG5cdGlmICghYXNzZXRBdmFpbGFibGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0YXdhaXQgZmluLlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3Moe1xuXHRcdGFsaWFzOiBzZXR0aW5ncz8uYXBwQXNzZXQuYWxpYXNcblx0fSk7XG5cdC8vIFRoZSB3b3JrYm9vayBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZSBpbW1lZGlhdGVseSwgc28gc3RhcnQgYSBiYWNrZ3JvdW5kIHByb2Nlc3Ncblx0Ly8gdG8gd2FpdCBmb3IgdGhlIHdvcmtib29rIGJlaW5nIHJlYWR5XG5cblx0YXdhaXQgbGlzdGVuVG9FeGNlbChhc3NldFNldHRpbmdzKTtcblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogTGlzdGVuIHRvIHRoZSBFeGNlbCBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSBhc3NldFNldHRpbmdzIFRoZSBzZXR0aW5ncyB0byB1c2UgZm9yIGxpc3RlbmluZyB0byB0aGUgRXhjZWwgYXBwbGljYXRpb24uXG4gKiBAcGFyYW0gdHJ5Q291bnQgVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gY2FsbGVkLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgRXhjZWwgYXBwbGljYXRpb24gaXMgYXZhaWxhYmxlLlxuICovXG5hc3luYyBmdW5jdGlvbiBsaXN0ZW5Ub0V4Y2VsKGFzc2V0U2V0dGluZ3M6IEV4Y2VsQXNzZXRTZXR0aW5ncywgdHJ5Q291bnQgPSAwKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmICh0cnlDb3VudCA9PT0gMTApIHtcblx0XHRjb25zb2xlLmVycm9yKFwiRXhjZWwgd29ya2Jvb2sgbm90IGF2YWlsYWJsZSBhZnRlciAxMCBhdHRlbXB0c1wiKTtcblx0XHRyZXR1cm47XG5cdH1cblx0aWYgKHdvcmtib29rRm91bmQpIHtcblx0XHRjb25zb2xlLmluZm8oXCJXb3JrYm9vayBhbHJlYWR5IGZvdW5kXCIpO1xuXHRcdHJldHVybjtcblx0fVxuXHRzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBleGNlbEluc3RhbmNlID0gYXdhaXQgZ2V0RXhjZWwoKTtcblx0XHRpZiAoZXhjZWxJbnN0YW5jZSkge1xuXHRcdFx0Y29uc3Qgd29ya2Jvb2tzID0gYXdhaXQgZXhjZWxJbnN0YW5jZS5nZXRXb3JrYm9va3MoKTtcblx0XHRcdGlmICh3b3JrYm9va3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdHRyeUNvdW50Kys7XG5cdFx0XHRcdGF3YWl0IGxpc3RlblRvRXhjZWwoYXNzZXRTZXR0aW5ncywgdHJ5Q291bnQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d29ya2Jvb2tGb3VuZCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHdvcmtib29rIG9mIHdvcmtib29rcykge1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSBhd2FpdCB3b3JrYm9vay5nZXROYW1lKCk7XG5cdFx0XHRcdFx0aWYgKG5hbWUgPT09IGFzc2V0U2V0dGluZ3Mud29ya2Jvb2spIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3Qgd29ya3NoZWV0U2V0dGluZ3Mgb2YgYXNzZXRTZXR0aW5ncy53b3Jrc2hlZXRzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHdvcmtzaGVldCA9IGF3YWl0IHdvcmtib29rLmdldFdvcmtzaGVldEJ5TmFtZSh3b3Jrc2hlZXRTZXR0aW5ncy5uYW1lKTtcblx0XHRcdFx0XHRcdFx0aWYgKHdvcmtzaGVldCkge1xuXHRcdFx0XHRcdFx0XHRcdHdvcmtib29rRm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHdvcmtzaGVldC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGFzeW5jIChjZWxscykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgaGFuZGxlQ2VsbENoYW5nZXMoYXNzZXRTZXR0aW5ncywgd29ya3NoZWV0U2V0dGluZ3MsIGNlbGxzKTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIXdvcmtib29rRm91bmQpIHtcblx0XHRcdFx0XHR0cnlDb3VudCsrO1xuXHRcdFx0XHRcdGF3YWl0IGxpc3RlblRvRXhjZWwoYXNzZXRTZXR0aW5ncywgdHJ5Q291bnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCAxMDAwKTtcbn1cblxuLyoqXG4gKiBEbyBhbnkgY2xlYW51cCB0aGF0IGlzIHJlcXVpcmVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VEb3duKCk6IFByb21pc2U8dm9pZD4ge1xuXHRmb3IgKGNvbnN0IGNsaWVudCBpbiBpbnRlcm9wQ2xpZW50cykge1xuXHRcdGF3YWl0IGludGVyb3BDbGllbnRzW2NsaWVudF0ucmVtb3ZlRnJvbUNvbnRleHRHcm91cCgpO1xuXHR9XG5cdGludGVyb3BDbGllbnRzID0ge307XG59XG5cbi8qKlxuICogR2V0cyB0aGUgY29uZmlndXJlZCBhcHAgYXNzZXQgYW5kIGVuc3VyZXMgaXQgaXMgYXZhaWxhYmxlLlxuICogQHJldHVybnMgQSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIGFwcCBhc3NldCBpcyBhdmFpbGFibGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEFwcEFzc2V0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRsZXQgYXZhaWxhYmxlQXBwQXNzZXQ6IE9wZW5GaW4uQXBwQXNzZXRJbmZvIHwgdW5kZWZpbmVkO1xuXHR0cnkge1xuXHRcdGlmIChzZXR0aW5ncz8uYXBwQXNzZXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0YXZhaWxhYmxlQXBwQXNzZXQgPSBhd2FpdCBmaW4uU3lzdGVtLmdldEFwcEFzc2V0SW5mbyh7IGFsaWFzOiBzZXR0aW5ncy5hcHBBc3NldC5hbGlhcyB9KTtcblx0XHR9XG5cdH0gY2F0Y2ggKGFwcEFzc2V0RXJyb3IpIHtcblx0XHRjb25zb2xlLmRlYnVnKFxuXHRcdFx0YEFwcCBhc3NldCBpbmZvIGZvciBhbGlhczogJHtzZXR0aW5ncz8uYXBwQXNzZXQuYWxpYXN9IGlzIG5vdCBhdmFpbGFibGUuIFJlc3BvbnNlIGZyb20gZ2V0QXBwQXNzZXRJbmZvYCxcblx0XHRcdGFwcEFzc2V0RXJyb3Jcblx0XHQpO1xuXHR9XG5cdGlmIChcblx0XHQoYXZhaWxhYmxlQXBwQXNzZXQgPT09IHVuZGVmaW5lZCB8fCBzZXR0aW5ncz8uYXBwQXNzZXQudmVyc2lvbiAhPT0gYXZhaWxhYmxlQXBwQXNzZXQudmVyc2lvbikgJiZcblx0XHRzZXR0aW5ncz8uYXBwQXNzZXQgIT09IHVuZGVmaW5lZFxuXHQpIHtcblx0XHRjb25zb2xlLmluZm8oYEFwcCBhc3NldCB3aXRoIGFsaWFzOiAke3NldHRpbmdzPy5hcHBBc3NldC5hbGlhc30gZG9lcyBub3QgZXhpc3QgaW4gbWVtb3J5LiBGZXRjaGluZyBpdC5gKTtcblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgZmluLlN5c3RlbS5kb3dubG9hZEFzc2V0KHNldHRpbmdzLmFwcEFzc2V0LCAocHJvZ3Jlc3MpID0+IHtcblx0XHRcdFx0Y29uc3QgZG93bmxvYWRlZFBlcmNlbnQgPSBNYXRoLmZsb29yKChwcm9ncmVzcy5kb3dubG9hZGVkQnl0ZXMgLyBwcm9ncmVzcy50b3RhbEJ5dGVzKSAqIDEwMCk7XG5cdFx0XHRcdGNvbnNvbGUuaW5mbyhcblx0XHRcdFx0XHRgRG93bmxvYWRlZCAke2Rvd25sb2FkZWRQZXJjZW50fSUgb2YgYXBwIGFzc2V0IHdpdGggYWxpYXMgb2YgJHtzZXR0aW5ncz8uYXBwQXNzZXQuYWxpYXN9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIHRyeWluZyB0byBkb3dubG9hZCBhcHAgYXNzZXQgd2l0aCBhbGlhczogJHtzZXR0aW5ncz8uYXBwQXNzZXQuYWxpYXN9YCwgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGV4Y2VsIGFwcGxpY2F0aW9uLlxuICogQHJldHVybnMgVGhlIGFwcGxpY2F0aW9uLlxuICogQGludGVybmFsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEV4Y2VsKCk6IFByb21pc2U8RXhjZWxBcHBsaWNhdGlvbiB8IHVuZGVmaW5lZD4ge1xuXHR0cnkge1xuXHRcdGV4Y2VsID0gYXdhaXQgZ2V0RXhjZWxBcHBsaWNhdGlvbigpO1xuXHRcdHJldHVybiBleGNlbDtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgRXhjZWwgYXBwbGljYXRpb25cIiwgZXJyKTtcblx0fVxufVxuXG4vKipcbiAqIEhhbmRsZSB0aGUgY2VsbCBjaGFuZ2VzLlxuICogQHBhcmFtIGV4Y2VsQXNzZXQgVGhlIGFzc2V0IHRvIHVzZSBmb3IgcHJvY2Vzc2luZyB0aGUgY2VsbCBjaGFuZ2VzLlxuICogQHBhcmFtIHdvcmtzaGVldCBUaGUgYXNzZXQgdG8gdXNlIGZvciBwcm9jZXNzaW5nIHRoZSBjZWxsIGNoYW5nZXMuXG4gKiBAcGFyYW0gY2VsbHMgVGhlIGNlbGxzIHRoYXQgaGF2ZSBjaGFuZ2VkLlxuICovXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVDZWxsQ2hhbmdlcyhcblx0ZXhjZWxBc3NldDogRXhjZWxBc3NldFNldHRpbmdzLFxuXHR3b3Jrc2hlZXQ6IEV4Y2VsV29ya3NoZWV0U2V0dGluZ3MsXG5cdGNlbGxzOiBDZWxsW11cbik6IFByb21pc2U8dm9pZD4ge1xuXHRpZiAoaW50ZXJvcENsaWVudHMgJiYgd29ya3NoZWV0LmNlbGxIYW5kbGVycykge1xuXHRcdGZvciAoY29uc3QgY2VsbCBvZiBjZWxscykge1xuXHRcdFx0Y29uc3QgY2VsbEhhbmRsZXIgPSB3b3Jrc2hlZXQuY2VsbEhhbmRsZXJzLmZpbmQoKGMpID0+IGMuY2VsbCA9PT0gY2VsbC5hZGRyZXNzKTtcblxuXHRcdFx0aWYgKGNlbGxIYW5kbGVyKSB7XG5cdFx0XHRcdGNvbnN0IGNsaWVudCA9IGludGVyb3BDbGllbnRzW2NlbGxIYW5kbGVyLmNvbnRleHRHcm91cF07XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRjbGllbnQgJiZcblx0XHRcdFx0XHQoY2VsbEhhbmRsZXIudHlwZXMuaW5jbHVkZXMoXCJpbnN0cnVtZW50XCIpIHx8IGNlbGxIYW5kbGVyLnR5cGVzLmluY2x1ZGVzKFwiZmRjMy5pbnN0cnVtZW50XCIpKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRhd2FpdCBjbGllbnQuc2V0Q29udGV4dCh7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImZkYzMuaW5zdHJ1bWVudFwiLFxuXHRcdFx0XHRcdFx0aWQ6IHtcblx0XHRcdFx0XHRcdFx0dGlja2VyOiBjZWxsLnZhbHVlLFxuXHRcdFx0XHRcdFx0XHRfc291cmNlOiBgZXhjZWwuJHtleGNlbEFzc2V0Lndvcmtib29rfS4ke3dvcmtzaGVldC5uYW1lfWBcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEhhbmRsZSBhIGNvbnRleHQuXG4gKiBAcGFyYW0gY29udGV4dEdyb3VwIFRoZSBncm91cCByZWNlaXZpbmcgdGhlIGNvbnRleHQuXG4gKiBAcGFyYW0gY29udGV4dCBUaGUgY29udGV4dCBiZWluZyByZWNlaXZlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29udGV4dChjb250ZXh0R3JvdXA6IHN0cmluZywgY29udGV4dDogT3BlbkZpbi5Db250ZXh0KTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmIChzZXR0aW5ncz8uYXNzZXQpIHtcblx0XHRjb25zdCBleGNlbEluc3RhbmNlID0gYXdhaXQgZ2V0RXhjZWwoKTtcblx0XHRpZiAoZXhjZWxJbnN0YW5jZSkge1xuXHRcdFx0Y29uc3Qgd29ya2Jvb2tzID0gYXdhaXQgZXhjZWxJbnN0YW5jZS5nZXRXb3JrYm9va3MoKTtcblx0XHRcdGZvciAoY29uc3Qgd29ya2Jvb2sgb2Ygd29ya2Jvb2tzKSB7XG5cdFx0XHRcdGNvbnN0IHdvcmtib29rTmFtZSA9IGF3YWl0IHdvcmtib29rLmdldE5hbWUoKTtcblxuXHRcdFx0XHRjb25zdCBjb25uZWN0ZWRXb3JrYm9vayA9IHNldHRpbmdzPy5hc3NldDtcblx0XHRcdFx0aWYgKGNvbm5lY3RlZFdvcmtib29rPy53b3Jrc2hlZXRzKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCB3b3Jrc2hlZXRTZXR0aW5ncyBvZiBjb25uZWN0ZWRXb3JrYm9vay53b3Jrc2hlZXRzKSB7XG5cdFx0XHRcdFx0XHRpZiAod29ya3NoZWV0U2V0dGluZ3MuY2VsbEhhbmRsZXJzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGluY29taW5nU291cmNlID0gYGV4Y2VsLiR7d29ya2Jvb2tOYW1lfS4ke3dvcmtzaGVldFNldHRpbmdzLm5hbWV9YDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaW5jb21pbmdTb3VyY2UgIT09IGNvbnRleHQ/LmlkPy5fc291cmNlKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgY2VsbEhhbmRsZXJzID0gd29ya3NoZWV0U2V0dGluZ3MuY2VsbEhhbmRsZXJzPy5maWx0ZXIoXG5cdFx0XHRcdFx0XHRcdFx0XHQoY2gpID0+IGNoLmNvbnRleHRHcm91cCA9PT0gY29udGV4dEdyb3VwICYmIGNoLnR5cGVzLmluY2x1ZGVzKGNvbnRleHQudHlwZSlcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgY2VsbEhhbmRsZXIgb2YgY2VsbEhhbmRsZXJzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB3b3Jrc2hlZXQgPSBhd2FpdCB3b3JrYm9vay5nZXRXb3Jrc2hlZXRCeU5hbWUod29ya3NoZWV0U2V0dGluZ3MubmFtZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmICh3b3Jrc2hlZXQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IGNlbGxWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY29udGV4dC50eXBlID09PSBcImZkYzMuaW5zdHJ1bWVudFwiIHx8IGNvbnRleHQudHlwZSA9PT0gXCJpbnN0cnVtZW50XCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjZWxsVmFsdWUgPSBjb250ZXh0LmlkPy50aWNrZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNlbGxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgd29ya3NoZWV0LnNldENlbGxWYWx1ZXMoY2VsbEhhbmRsZXIuY2VsbCwgW1tjZWxsVmFsdWVdXSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsImltcG9ydCB0eXBlIE9wZW5GaW4gZnJvbSBcIkBvcGVuZmluL2NvcmVcIjtcbmltcG9ydCB7XG5cdENMSVRlbXBsYXRlLFxuXHRIb21lLFxuXHR0eXBlIEFwcCxcblx0dHlwZSBIb21lRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcblx0dHlwZSBIb21lU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LFxuXHR0eXBlIEhvbWVTZWFyY2hSZXN1bHRcbn0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHsgaW5pdCB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm1cIjtcbmltcG9ydCB7IGdldEFwcHMsIGxhdW5jaEFwcCB9IGZyb20gXCIuL2FwcHNcIjtcbmltcG9ydCB7IEV4Y2VsSW50ZWdyYXRpb24gfSBmcm9tIFwiLi9leGNlbC1pbnRlZ3JhdGlvblwiO1xuaW1wb3J0IHR5cGUgeyBDdXN0b21TZXR0aW5ncyB9IGZyb20gXCIuL3NoYXBlc1wiO1xuXG5jb25zdCBQTEFURk9STV9JRCA9IFwiaW50ZWdyYXRlLXdpdGgtZXhjZWxcIjtcbmNvbnN0IFBMQVRGT1JNX1RJVExFID0gXCJJbnRlZ3JhdGUgd2l0aCBFeGNlbFwiO1xuY29uc3QgUExBVEZPUk1fSUNPTiA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2Zhdmljb24uaWNvXCI7XG5cbmxldCBleGNlbEludGVncmF0aW9uOiBFeGNlbEludGVncmF0aW9uIHwgdW5kZWZpbmVkO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuXHQvLyBXaGVuIHRoZSBwbGF0Zm9ybSBhcGkgaXMgcmVhZHkgd2UgYm9vdHN0cmFwIHRoZSBwbGF0Zm9ybS5cblx0Y29uc3QgcGxhdGZvcm0gPSBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtcblx0YXdhaXQgcGxhdGZvcm0ub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCBhc3luYyAoKSA9PiB7XG5cdFx0Ly8gTG9hZCB0aGUgY3VzdG9tIHNldHRpbmdzIGFuZCBpbml0aWFsaXplIHRoZSBleGNlbCBpbnRlZ3JhdGlvblxuXHRcdC8vIHdlIG11c3QgZG8gdGhpcyBiZWZvcmUgaG9tZSBpcyByZWdpc3RlcmVkIHNvIHRoYXQgdGhlIGluaXRpYWxcblx0XHQvLyBob21lIHJlcXVlc3QgZm9yIGdldCByZXN1bHRzIGluY2x1ZGVzIHRoZSBleGNlbCByZXN1bHRzLlxuXHRcdGNvbnN0IGN1c3RvbVNldHRpbmdzID0gYXdhaXQgZ2V0TWFuaWZlc3RDdXN0b21TZXR0aW5ncygpO1xuXHRcdGlmIChjdXN0b21TZXR0aW5ncy5leGNlbCkge1xuXHRcdFx0ZXhjZWxJbnRlZ3JhdGlvbiA9IG5ldyBFeGNlbEludGVncmF0aW9uKCk7XG5cdFx0XHRhd2FpdCBleGNlbEludGVncmF0aW9uLmluaXRpYWxpemUoY3VzdG9tU2V0dGluZ3MuZXhjZWwpO1xuXHRcdH1cblxuXHRcdGF3YWl0IGluaXRpYWxpemVXb3Jrc3BhY2VDb21wb25lbnRzKCk7XG5cdH0pO1xuXG5cdC8vIFRoZSBET00gaXMgcmVhZHkgc28gaW5pdGlhbGl6ZSB0aGUgcGxhdGZvcm1cblx0YXdhaXQgaW5pdGlhbGl6ZVdvcmtzcGFjZVBsYXRmb3JtKCk7XG59KTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVXb3Jrc3BhY2VQbGF0Zm9ybSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgd29ya3NwYWNlIHBsYXRmb3JtXCIpO1xuXG5cdGF3YWl0IGluaXQoe1xuXHRcdGJyb3dzZXI6IHtcblx0XHRcdGRlZmF1bHRXaW5kb3dPcHRpb25zOiB7XG5cdFx0XHRcdGljb246IFBMQVRGT1JNX0lDT04sXG5cdFx0XHRcdHdvcmtzcGFjZVBsYXRmb3JtOiB7XG5cdFx0XHRcdFx0cGFnZXM6IFtdLFxuXHRcdFx0XHRcdGZhdmljb246IFBMQVRGT1JNX0lDT05cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGhlbWU6IFtcblx0XHRcdHtcblx0XHRcdFx0bGFiZWw6IFwiRGVmYXVsdFwiLFxuXHRcdFx0XHRkZWZhdWx0OiBcImRhcmtcIixcblx0XHRcdFx0cGFsZXR0ZToge1xuXHRcdFx0XHRcdGJyYW5kUHJpbWFyeTogXCIjMEE3NkQzXCIsXG5cdFx0XHRcdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzM4M0E0MFwiLFxuXHRcdFx0XHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiMxRTFGMjNcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XVxuXHR9KTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHdvcmtzcGFjZSBjb21wb25lbnRzLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplV29ya3NwYWNlQ29tcG9uZW50cygpOiBQcm9taXNlPHZvaWQ+IHtcblx0YXdhaXQgSG9tZS5yZWdpc3Rlcih7XG5cdFx0dGl0bGU6IFBMQVRGT1JNX1RJVExFLFxuXHRcdGlkOiBQTEFURk9STV9JRCxcblx0XHRpY29uOiBQTEFURk9STV9JQ09OLFxuXHRcdG9uVXNlcklucHV0OiBhc3luYyAocmVxdWVzdDogSG9tZVNlYXJjaExpc3RlbmVyUmVxdWVzdCkgPT4ge1xuXHRcdFx0bGV0IHJlc3VsdHM6IEhvbWVTZWFyY2hSZXN1bHRbXSA9IFtdO1xuXG5cdFx0XHRpZiAoZXhjZWxJbnRlZ3JhdGlvbikge1xuXHRcdFx0XHQvLyBHZXQgYW55IGhvbWUgcmVzdWx0cyBmcm9tIHRoZSBleGNlbCBpbnRlZ3JhdGlvblxuXHRcdFx0XHRjb25zdCBleGNlbFJlc3VsdHMgPSBhd2FpdCBleGNlbEludGVncmF0aW9uLmdldFNlYXJjaFJlc3VsdHMocmVxdWVzdC5xdWVyeSk7XG5cdFx0XHRcdHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChleGNlbFJlc3VsdHMucmVzdWx0cyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBhbnkgYXBwc1xuXHRcdFx0bGV0IGFwcHMgPSBnZXRBcHBzKCk7XG5cdFx0XHRpZiAocmVxdWVzdC5xdWVyeS5sZW5ndGggPj0gMykge1xuXHRcdFx0XHRhcHBzID0gYXBwcy5maWx0ZXIoKGEpID0+IGEudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhyZXF1ZXN0LnF1ZXJ5LnRvTG93ZXJDYXNlKCkpKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KFxuXHRcdFx0XHRhcHBzLm1hcChcblx0XHRcdFx0XHQoYXBwKSA9PlxuXHRcdFx0XHRcdFx0KHtcblx0XHRcdFx0XHRcdFx0a2V5OiBhcHAuYXBwSWQsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBhcHAudGl0bGUsXG5cdFx0XHRcdFx0XHRcdGljb246IGFwcC5pY29uc1swXT8uc3JjLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiBhcHAsXG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIkFwcFwiLFxuXHRcdFx0XHRcdFx0XHRhY3Rpb25zOiBbeyBuYW1lOiBcIkxhdW5jaCBBcHBcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG5cdFx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBhcHAuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0XHRcdHNob3J0RGVzY3JpcHRpb246IGFwcC5kZXNjcmlwdGlvbixcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6IENMSVRlbXBsYXRlLlNpbXBsZVRleHQsXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlQ29udGVudDogYXBwLmRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0XHR9KSBhcyBIb21lU2VhcmNoUmVzdWx0XG5cdFx0XHRcdClcblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHJlc3VsdHNcblx0XHRcdH07XG5cdFx0fSxcblx0XHRvblJlc3VsdERpc3BhdGNoOiBhc3luYyAocmVzdWx0OiBIb21lRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCkgPT4ge1xuXHRcdFx0Ly8gSWYgdGhlIHJlc3VsdCBoYXMgdGhlIGV4Y2VsIGludGVncmF0aW9uIHNldCB0aGVuIGhhbmQgdGhlIHJlc3VsdFxuXHRcdFx0Ly8gb3ZlciB0byB0aGUgaW50ZWdyYXRpb24gdG8gaGFuZGxlXG5cdFx0XHRpZiAocmVzdWx0Py5kYXRhPy5wcm92aWRlcklkID09PSBcImV4Y2VsXCIpIHtcblx0XHRcdFx0aWYgKGV4Y2VsSW50ZWdyYXRpb24pIHtcblx0XHRcdFx0XHRhd2FpdCBleGNlbEludGVncmF0aW9uLml0ZW1TZWxlY3Rpb24ocmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXdhaXQgbGF1bmNoQXBwKHJlc3VsdC5kYXRhIGFzIEFwcCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRhd2FpdCBIb21lLnNob3coKTtcblxuXHRjb25zdCBwcm92aWRlcldpbmRvdyA9IGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKTtcblx0YXdhaXQgcHJvdmlkZXJXaW5kb3cub25jZShcImNsb3NlLXJlcXVlc3RlZFwiLCBhc3luYyAoZXZlbnQpID0+IHtcblx0XHRpZiAoZXhjZWxJbnRlZ3JhdGlvbikge1xuXHRcdFx0YXdhaXQgZXhjZWxJbnRlZ3JhdGlvbi5jbG9zZWRvd24oKTtcblx0XHR9XG5cdFx0YXdhaXQgSG9tZS5kZXJlZ2lzdGVyKFBMQVRGT1JNX0lEKTtcblx0XHRhd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIFJlYWQgdGhlIGN1c3RvbSBzZXR0aW5ncyBmcm9tIHRoZSBtYW5pZmVzdC5maW4uanNvbi5cbiAqIEByZXR1cm5zIFRoZSBjdXN0b20gc2V0dGluZ3MgZnJvbSB0aGUgbWFuaWZlc3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldE1hbmlmZXN0Q3VzdG9tU2V0dGluZ3MoKTogUHJvbWlzZTxDdXN0b21TZXR0aW5ncz4ge1xuXHQvLyBHZXQgdGhlIG1hbmlmZXN0IGZvciB0aGUgY3VycmVudCBhcHBsaWNhdGlvblxuXHRjb25zdCBhcHAgPSBhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudCgpO1xuXG5cdC8vIEV4dHJhY3QgdGhlIGN1c3RvbSBzZXR0aW5ncyBmb3IgdGhpcyBhcHBsaWNhdGlvblxuXHRjb25zdCBtYW5pZmVzdDogT3BlbkZpbi5NYW5pZmVzdCAmIHsgY3VzdG9tU2V0dGluZ3M/OiBDdXN0b21TZXR0aW5ncyB9ID0gYXdhaXQgYXBwLmdldE1hbmlmZXN0KCk7XG5cdHJldHVybiBtYW5pZmVzdC5jdXN0b21TZXR0aW5ncyA/PyB7fTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==