/******/ var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/excel/openfin.excel.js":
/*!**********************************************************!*\
  !*** ../../node_modules/@openfin/excel/openfin.excel.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AdapterError": () => (/* binding */ r),
/* harmony export */   "ApiError": () => (/* binding */ o),
/* harmony export */   "EventError": () => (/* binding */ s),
/* harmony export */   "ExcelCellBorderLineStyle": () => (/* binding */ a),
/* harmony export */   "ExcelCellHorizontalAlignment": () => (/* binding */ c),
/* harmony export */   "ExcelCellPattern": () => (/* binding */ d),
/* harmony export */   "ExcelCellVerticalAlignment": () => (/* binding */ h),
/* harmony export */   "ExcelFilterOperator": () => (/* binding */ l),
/* harmony export */   "InitializationError": () => (/* binding */ u),
/* harmony export */   "ParameterError": () => (/* binding */ p),
/* harmony export */   "disableLogging": () => (/* binding */ w),
/* harmony export */   "enableLogging": () => (/* binding */ y),
/* harmony export */   "getExcelApplication": () => (/* binding */ f)
/* harmony export */ });
var e={3885:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(4794);class s extends i.Base{async wrap(e){this.wire.sendAction("wrap-application").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.Application(this.wire,e)}wrapSync(e){this.wire.sendAction("wrap-application-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.Application(this.wire,e)}async _create(e){return void 0===e.waitForPageLoad&&(e.waitForPageLoad=!1),void 0===e.autoShow&&void 0===e.isPlatformController&&(e.autoShow=!0),await this.wire.sendAction("create-application",e),this.wrap({uuid:e.uuid})}create(e){return console.warn("Deprecation Warning: fin.Application.create is deprecated. Please use fin.Application.start"),this.wire.sendAction("application-create").catch((e=>{})),this._create(e)}async start(e){this.wire.sendAction("start-application").catch((e=>{}));const t=await this._create(e);return await this.wire.sendAction("run-application",{uuid:e.uuid}),t}async startManyManifests(e){return this.wire.sendAction("run-applications",{applications:e}).then((()=>{}))}getCurrent(){return this.wire.sendAction("get-current-application").catch((e=>{})),this.wrap({uuid:this.wire.me.uuid})}getCurrentSync(){return this.wire.sendAction("get-current-application-sync").catch((e=>{})),this.wrapSync({uuid:this.wire.me.uuid})}async startFromManifest(e,t){this.wire.sendAction("application-start-from-manifest").catch((e=>{}));const n=await this._createFromManifest(e);return await n._run(t),n}createFromManifest(e){return console.warn("Deprecation Warning: fin.Application.createFromManifest is deprecated. Please use fin.Application.startFromManifest"),this.wire.sendAction("application-create-from-manifest").catch((e=>{})),this._createFromManifest(e)}_createFromManifest(e){return this.wire.sendAction("get-application-manifest",{manifestUrl:e}).then((({payload:e})=>{const t=e.data.platform?e.data.platform.uuid:e.data.startup_app.uuid;return this.wrap({uuid:t})})).then((t=>(t._manifestUrl=e,t)))}}t.default=s},4794:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;const i=n(9659),r=n(4997),o=n(4169);class s extends i.EmitterBase{constructor(e,t){super(e,"application",t.uuid),this.identity=t,this.window=new r._Window(this.wire,{uuid:this.identity.uuid,name:this.identity.uuid})}windowListFromIdentityList(e){const t=[];return e.forEach((e=>{t.push(new r._Window(this.wire,{uuid:e.uuid,name:e.name}))})),t}isRunning(){return this.wire.sendAction("is-application-running",this.identity).then((({payload:e})=>e.data))}async quit(e=!1){await this._close(e),await this.wire.sendAction("destroy-application",{force:e,...this.identity})}_close(e=!1){return this.wire.sendAction("close-application",{force:e,...this.identity}).then((()=>{}))}close(e=!1){return console.warn("Deprecation Warning: Application.close is deprecated Please use Application.quit"),this.wire.sendAction("application-close",this.identity).catch((e=>{})),this._close(e)}getChildWindows(){return this.wire.sendAction("get-child-windows",this.identity).then((({payload:e})=>{const t=[];return e.data.forEach((e=>{t.push({uuid:this.identity.uuid,name:e})})),this.windowListFromIdentityList(t)}))}getManifest(){return this.wire.sendAction("get-application-manifest",this.identity).then((({payload:e})=>e.data))}getParentUuid(){return this.wire.sendAction("get-parent-application",this.identity).then((({payload:e})=>e.data))}getShortcuts(){return this.wire.sendAction("get-shortcuts",this.identity).then((({payload:e})=>e.data))}async getViews(){const{payload:e}=await this.wire.sendAction("application-get-views",this.identity);return e.data.map((e=>new o.View(this.wire,e)))}getZoomLevel(){return this.wire.sendAction("get-application-zoom-level",this.identity).then((({payload:e})=>e.data))}getWindow(){return this.wire.sendAction("application-get-window",this.identity).catch((e=>{})),Promise.resolve(this.window)}registerUser(e,t){return this.wire.sendAction("register-user",{userName:e,appName:t,...this.identity}).then((()=>{}))}removeTrayIcon(){return this.wire.sendAction("remove-tray-icon",this.identity).then((()=>{}))}restart(){return this.wire.sendAction("restart-application",this.identity).then((()=>{}))}run(){return console.warn("Deprecation Warning: Application.run is deprecated Please use fin.Application.start"),this.wire.sendAction("application-run",this.identity).catch((e=>{})),this._run()}_run(e={}){return this.wire.sendAction("run-application",{manifestUrl:this._manifestUrl,opts:e,...this.identity}).then((()=>{}))}scheduleRestart(){return this.wire.sendAction("relaunch-on-close",this.identity).then((()=>{}))}async sendApplicationLog(){const{payload:e}=await this.wire.sendAction("send-application-log",this.identity);return e.data}async setJumpList(e){await this.wire.sendAction("set-jump-list",{config:e,...this.identity})}setTrayIcon(e){return this.wire.sendAction("set-tray-icon",{enabledIcon:e,...this.identity}).then((()=>{}))}setShortcuts(e){return this.wire.sendAction("set-shortcuts",{data:e,...this.identity}).then((()=>{}))}async setShortcutQueryParams(e){await this.wire.sendAction("set-shortcut-query-args",{data:e,...this.identity})}setZoomLevel(e){return this.wire.sendAction("set-application-zoom-level",{level:e,...this.identity}).then((()=>{}))}async setAppLogUsername(e){await this.wire.sendAction("set-app-log-username",{data:e,...this.identity})}getTrayIconInfo(){return this.wire.sendAction("get-tray-icon-info",this.identity).then((({payload:e})=>e.data))}terminate(){return this.wire.sendAction("terminate-application",this.identity).then((()=>{}))}wait(){return this.wire.sendAction("wait-for-hung-application",this.identity).then((()=>{}))}getInfo(){return this.wire.sendAction("get-info",this.identity).then((({payload:e})=>e.data))}async getProcessInfo(){const{payload:{data:e}}=await this.wire.sendAction("application-get-process-info",this.identity);return e}async setFileDownloadLocation(e){await this.wire.sendAction("set-file-download-location",{downloadLocation:e,...this.identity})}}t.Application=s},7264:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3885);r(n(4794),t),t.default=o.default},9659:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Reply=t.EmitterBase=t.Base=void 0;const s=n(3442),a=n(8068);class c{constructor(e){this.isNodeEnvironment=()=>"NodeEnvironment"===this.wire.environment.constructor.name,this.isOpenFinEnvironment=()=>"OpenFinEnvironment"===this.wire.environment.constructor.name,this.wire=e}get fin(){return a.getFin(this.wire)}get me(){return this.wire.me}}t.Base=c,t.EmitterBase=class extends c{constructor(e,t,...n){super(e),this.topic=t,i.set(this,void 0),this.eventNames=()=>this.hasEmitter()?this.getOrCreateEmitter().eventNames():[],this.emit=(e,t,...n)=>!!this.hasEmitter()&&this.getOrCreateEmitter().emit(e,t,...n),this.hasEmitter=()=>this.wire.eventAggregator.has(o(this,i)),this.getOrCreateEmitter=()=>this.wire.eventAggregator.getOrCreate(o(this,i)),this.listeners=e=>this.hasEmitter()?this.getOrCreateEmitter().listeners(e):[],this.listenerCount=e=>this.hasEmitter()?this.getOrCreateEmitter().listenerCount(e):0,this.registerEventListener=async(e,t={},n,i)=>{const r={...this.identity,timestamp:t.timestamp||Date.now(),topic:this.topic,type:e},o=this.getOrCreateEmitter();n(o);try{await this.wire.sendAction("subscribe-to-desktop-event",r)}catch(e){throw i(o),this.deleteEmitterIfNothingRegistered(o),e}},this.deregisterEventListener=async(e,t={})=>{if(this.hasEmitter()){const n={...this.identity,timestamp:t.timestamp||Date.now(),topic:this.topic,type:e};return await this.wire.sendAction("unsubscribe-to-desktop-event",n).catch((()=>null)),this.getOrCreateEmitter()}return Promise.resolve()},this.on=async(e,t,n)=>(await this.registerEventListener(e,n,(n=>{n.on(e,t)}),(n=>{n.removeListener(e,t)})),this),this.addListener=this.on,this.once=async(e,t,n)=>{const i=()=>this.deregisterEventListener(e);return await this.registerEventListener(e,n,(n=>{n.once(e,i),n.once(e,t)}),(n=>{n.removeListener(e,i),n.removeListener(e,t)})),this},this.prependListener=async(e,t,n)=>(await this.registerEventListener(e,n,(n=>{n.prependListener(e,t)}),(n=>{n.removeListener(e,t)})),this),this.prependOnceListener=async(e,t,n)=>{const i=()=>this.deregisterEventListener(e);return await this.registerEventListener(e,n,(n=>{n.prependOnceListener(e,t),n.once(e,i)}),(n=>{n.removeListener(e,t),n.removeListener(e,i)})),this},this.removeListener=async(e,t,n)=>{const i=await this.deregisterEventListener(e,n);return i&&(i.removeListener(e,t),this.deleteEmitterIfNothingRegistered(i)),this},this.deregisterAllListeners=async e=>{const t={...this.identity,type:e,topic:this.topic};if(this.hasEmitter()){const e=this.getOrCreateEmitter(),n=e.listenerCount(t.type),i=[];for(let e=0;e<n;e++)i.push(this.wire.sendAction("unsubscribe-to-desktop-event",t).catch((()=>null)));return await Promise.all(i),e}},this.removeAllListeners=async e=>{const t=async e=>{const t=await this.deregisterAllListeners(e);t&&(t.removeAllListeners(e),this.deleteEmitterIfNothingRegistered(t))};if(e)await t(e);else if(this.hasEmitter()){const e=this.getOrCreateEmitter().eventNames();await s.promiseMap(e,t)}return this},r(this,i,[t,...n]),this.listeners=e=>this.hasEmitter()?this.getOrCreateEmitter().listeners(e):[]}deleteEmitterIfNothingRegistered(e){0===e.eventNames().length&&this.wire.eventAggregator.delete(o(this,i))}},i=new WeakMap,t.Reply=class{}},3427:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659);class r extends i.Base{writeText(e){return this.wire.sendAction("clipboard-write-text",e).then((()=>{}))}readText(e){return this.wire.sendAction("clipboard-read-text",e).then((({payload:e})=>e.data))}writeHtml(e){return this.wire.sendAction("clipboard-write-html",e).then((()=>{}))}readHtml(e){return this.wire.sendAction("clipboard-read-html",e).then((({payload:e})=>e.data))}writeRtf(e){return this.wire.sendAction("clipboard-write-rtf",e).then((()=>{}))}readRtf(e){return this.wire.sendAction("clipboard-read-rtf",e).then((({payload:e})=>e.data))}write(e){return this.wire.sendAction("clipboard-write",e).then((()=>{}))}getAvailableFormats(e){return this.wire.sendAction("clipboard-read-formats",e).then((({payload:e})=>e.data))}}t.default=r},7813:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmitterMap=void 0;const i=n(6465);function r(e){return Buffer.from(e).toString("base64")}t.EmitterMap=class{constructor(){this.storage=new Map}hashKeys(e){return e.map(r).join("/")}getOrCreate(e){const t=this.hashKeys(e);return this.storage.has(t)||this.storage.set(t,new i.EventEmitter),this.storage.get(t)}has(e){return this.storage.has(this.hashKeys(e))}delete(e){const t=this.hashKeys(e);return this.storage.delete(t)}}},2734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(7813);class r extends i.EmitterMap{constructor(){super(...arguments),this.dispatchEvent=e=>{if(function(e){return"process-desktop-event"===e.action}(e)){const{payload:t}=e,n=function(e){const{topic:t}=e;if("frame"===t){const{uuid:n,name:i}=e;return[t,n,i]}if("window"===t){const{uuid:n,name:i}=e;return[t,n,i]}if("application"===t){const{uuid:n}=e;return[t,n]}if("view"===t){const{uuid:n,name:i}=e;return[t,n,i]}return[t]}(t);if(this.has(n))return this.getOrCreate(n).emit(t.type,t),!0}return!1}}}t.default=r},7168:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(8298);class o extends i.Base{wrap(e){return this.wire.sendAction("external-application-wrap").catch((e=>{})),Promise.resolve(new r.ExternalApplication(this.wire,{uuid:e}))}wrapSync(e){return this.wire.sendAction("external-application-wrap-sync").catch((e=>{})),new r.ExternalApplication(this.wire,{uuid:e})}}t.default=o},8298:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalApplication=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e,t){super(e,"external-application",t.uuid),this.identity=t}getInfo(){return this.wire.sendAction("get-external-application-info",this.identity).then((({payload:e})=>e.data))}}t.ExternalApplication=r},9021:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(7168);t.default=o.default,r(n(8298),t)},6545:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(6465),r=n(3641),o=n(4997),s=n(7264),a=n(8347),c=n(3427),d=n(9021),h=n(6720),l=n(9211),u=n(4169),p=n(609),w=n(9641),y=n(8068),f=n(8706),g=n(7153);class m extends i.EventEmitter{constructor(e){super(),y.registerFin(e,this),this.wire=e,this.System=new r.default(e),this.Window=new o.default(e),this.Application=new s.default(e),this.InterApplicationBus=new a.default(e),this.Clipboard=new c.default(e),this.ExternalApplication=new d.default(e),this.Frame=new h.default(e),this.GlobalHotkey=new l.default(e),this.Platform=new p.default(e,this.InterApplicationBus.Channel),this.View=new u.default(e),this.Interop=new f.default(e),this.SnapshotSource=new g.default(e),this.me=w.getMe(e),e.on("disconnected",(()=>{this.emit("disconnected")}))}}t.default=m},1778:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(8161);class s extends i.Base{async wrap(e){this.wire.sendAction("frame-wrap").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Frame(this.wire,e)}wrapSync(e){this.wire.sendAction("frame-wrap-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Frame(this.wire,e)}getCurrent(){return this.wire.sendAction("frame-get-current").catch((e=>{})),Promise.resolve(new o._Frame(this.wire,this.wire.environment.getCurrentEntityIdentity()))}getCurrentSync(){return this.wire.sendAction("frame-get-current-sync").catch((e=>{})),new o._Frame(this.wire,this.wire.environment.getCurrentEntityIdentity())}}t.default=s},8161:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._Frame=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e,t){super(e,"frame",t.uuid,t.name),this.identity=t}getInfo(){return this.wire.sendAction("get-frame-info",this.identity).then((({payload:e})=>e.data))}getParentWindow(){return this.wire.sendAction("get-parent-window",this.identity).then((({payload:e})=>e.data))}}t._Frame=r},6720:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1778);t.default=o.default,r(n(8161),t)},9211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659);class r extends i.EmitterBase{constructor(e){super(e,"global-hotkey")}async register(e,t){await this.on(e,t),await this.wire.sendAction("global-hotkey-register",{hotkey:e})}async unregister(e){await this.removeAllListeners(e),await this.wire.sendAction("global-hotkey-unregister",{hotkey:e})}async unregisterAll(){await Promise.all(this.eventNames().filter((e=>!("registered"===e||"unregistered"===e))).map((e=>this.removeAllListeners(e)))),await this.wire.sendAction("global-hotkey-unregister-all",{})}async isRegistered(e){const{payload:{data:t}}=await this.wire.sendAction("global-hotkey-is-registered",{hotkey:e});return t}}t.default=r},7539:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelBase=t.ProtectedItems=void 0;const n=e=>(t,n,i)=>{const r=e(t,n,i);return void 0===r?n:r};t.ProtectedItems=class{constructor(e,t){this.providerIdentity=e,this.wire=t}};class i{constructor(){this.subscriptions=new Map}static defaultAction(e){throw new Error(`No action registered at target for ${e}`)}async processAction(e,t,n){try{const r=this.subscriptions.has(e)?this.subscriptions.get(e):(t,n)=>{var r;return(null!==(r=this.defaultAction)&&void 0!==r?r:i.defaultAction)(e,t,n)},o=this.preAction?await this.preAction(e,t,n):t,s=await r(o,n);return this.postAction?await this.postAction(e,s,n):s}catch(t){if(this.errorMiddleware)return this.errorMiddleware(e,t,n);throw t}}beforeAction(e){if(this.preAction)throw new Error("Already registered beforeAction middleware");this.preAction=n(e)}onError(e){if(this.errorMiddleware)throw new Error("Already registered error middleware");this.errorMiddleware=e}afterAction(e){if(this.postAction)throw new Error("Already registered afterAction middleware");this.postAction=n(e)}remove(e){this.subscriptions.delete(e)}setDefaultAction(e){if(this.defaultAction)throw new Error("default action can only be set once");this.defaultAction=e}register(e,t){if(this.subscriptions.has(e))throw new Error(`Subscription already registered for action: ${e}. Unsubscribe before adding new subscription`);return this.subscriptions.set(e,t),!0}}t.ChannelBase=i},8378:function(e,t,n){var i,r,o,s=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const c=n(7539),d=new Map;class h extends c.ChannelBase{constructor(e,t,n){super(),i.set(this,void 0),r.set(this,void 0),this.processAction=(e,t,n)=>super.processAction(e,t,n),o.set(this,(()=>{d.delete(this.endpointId),a(this,r).close()})),s(this,i,new c.ProtectedItems(e,t)),this.disconnectListener=()=>{},this.endpointId=e.endpointId,s(this,r,n),d.set(this.endpointId,this),n.receive(this.processAction)}static closeChannelByEndpointId(e){const t=d.get(e);t&&a(t,o).call(t)}static handleProviderDisconnect(e,t){e.disconnectListener(t),a(e,o).call(e)}get providerIdentity(){return a(this,i).providerIdentity}async dispatch(e,t){if(a(this,r).isEndpointConnected(this.providerIdentity.channelId))return a(this,r).send(this.providerIdentity.channelId,e,t);throw new Error("The client you are trying to dispatch from is disconnected from the target provider.")}onDisconnection(e){this.disconnectListener=t=>{try{e(t)}catch(e){throw new Error(`Error while calling the onDisconnection callback: ${e.message}`)}finally{this.disconnectListener=()=>{}}}}async disconnect(){const e=a(this,i),{channelName:t,uuid:n,name:r}=e.providerIdentity;await e.wire.sendAction("disconnect-from-channel",{channelName:t,uuid:n,name:r,endpointId:this.endpointId}),a(this,o).call(this)}}t.default=h,i=new WeakMap,r=new WeakMap,o=new WeakMap},6711:function(e,t,n){var i,r,o=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;const a=n(3917),c=n(9659),d=n(1046),h=n(3870),l=n(569),u=n(2942),p=n(3749),w=n(3037),y=n(7113);class f extends c.Base{constructor(e){super(e),i.set(this,void 0),r.set(this,void 0),this.removeChannelFromProviderMap=e=>{this.providerMap.delete(e)},this.onmessage=e=>"process-channel-connection"===e.action&&(this.processChannelConnection(e),!0),this.providerMap=new Map,this.protocolManager=new w.ProtocolManager(this.isNodeEnvironment()?["classic"]:["rtc","classic"]),o(this,i,new p.MessageReceiver(e)),o(this,r,new l.RTCICEManager(e)),e.registerMessageHandler(this.onmessage.bind(this))}static getProtocolOptionsFromStrings(e){return e.map((e=>{switch(e){case"rtc":return h.RTCInfo;case"classic":return d.ClassicInfo;default:return a.exhaustiveCheck(e,["rtc","classic"])}}))}createProvider(e,t){const n=Object.assign(this.wire.environment.getDefaultChannelOptions().create,e||{}),r=this.protocolManager.getProviderProtocols(null==n?void 0:n.protocols),o=r.map((e=>{switch(e){case"rtc":return new h.RTCStrategy;case"classic":return new d.ClassicStrategy(this.wire,s(this,i),t.channelId,t);default:return a.exhaustiveCheck(e,["rtc","classic"])}}));let c;if(2===o.length){const[e,t]=o;c=y.default.combine(e,t)}else{if(1!==o.length)throw new Error("failed to combine strategies");[c]=o}const l=new u.ChannelProvider(t,this.wire,c),p=t.channelId;return this.providerMap.set(p,{provider:l,strategy:c,supportedProtocols:f.getProtocolOptionsFromStrings(r)}),u.ChannelProvider.setProviderRemoval(l,this.removeChannelFromProviderMap.bind(this)),l}async createClientOffer(e){const t=this.protocolManager.getClientProtocols(null==e?void 0:e.protocols);let n;return{offer:{supportedProtocols:await Promise.all(t.map((async e=>{switch(e){case"rtc":{const{rtcClient:e,channels:t,offer:i,rtcConnectionId:o,channelsOpened:a}=await s(this,r).startClientOffer();return n={rtcClient:e,channels:t,channelsOpened:a},{type:"rtc",version:h.RTCInfo.version,payload:{offer:i,rtcConnectionId:o}}}case"classic":return{type:"classic",version:d.ClassicInfo.version};default:return a.exhaustiveCheck(e,["rtc","classic"])}}))),maxProtocols:2},rtc:n}}async createClientStrategy(e,t){var n;t.endpointId||(t.endpointId=this.wire.environment.getNextMessageId(),s(this,i).checkForPreviousClientConnection(t.channelId));const o=null!==(n=t.answer)&&void 0!==n?n:{supportedProtocols:[{type:"classic",version:1}]},a=(await Promise.all(o.supportedProtocols.map((async n=>"rtc"===n.type&&e?(await s(this,r).finishClientOffer(e.rtcClient,n.payload.answer,e.channelsOpened),new h.RTCStrategy):"classic"===n.type?new d.ClassicStrategy(this.wire,s(this,i),t.endpointId,t):null)))).filter((e=>null!==e));let c;if(e&&!a.some((e=>e instanceof h.RTCStrategy))&&e&&e.rtcClient.close(),a.length>=2)c=y.default.combine(a[0],a[1]);else{if(!a.length)throw new Error("No compatible protocols");[c]=a}const l={endpointIdentity:t,rtc:e};return c.addEndpoint(t.channelId,l),c}async processChannelConnection(e){const{clientIdentity:t,providerIdentity:n,ackToSender:i,payload:o,offer:a}=e.payload;t.endpointId?t.isLocalEndpointId=!1:(t.endpointId=this.wire.environment.getNextMessageId(),t.isLocalEndpointId=!0);const c=n.channelId,l=this.providerMap.get(c);if(!l)return i.payload.success=!1,i.payload.reason=`Channel "${n.channelName}" has been destroyed.`,this.wire.sendRaw(i);const{provider:p,strategy:w,supportedProtocols:y}=l;try{if(!(p instanceof u.ChannelProvider))throw Error("Cannot connect to a channel client");const e=null!=a?a:{supportedProtocols:[{type:"classic",version:1}],maxProtocols:1},n=this.protocolManager.getCompatibleProtocols(y,e);if(!n.length)throw new Error("This provider does not support any of the offered protocols.");const c=await p.processConnection(t,o);i.payload.payload=i.payload.payload||{};let l={supportedProtocols:[],endpointPayloadPromise:Promise.resolve({endpointIdentity:t})};return l=await n.reduce((async(e,t)=>{const n=await e;if("rtc"===t.type){const{answer:e,rtcClient:i,channels:o}=await s(this,r).createProviderAnswer(t.payload.rtcConnectionId,t.payload.offer);n.supportedProtocols.push({type:"rtc",version:h.RTCInfo.version,payload:{answer:e}}),n.endpointPayloadPromise=n.endpointPayloadPromise.then((e=>o.then((t=>({...e,rtc:{rtcClient:i,channels:t}})))))}else n.supportedProtocols.push({type:"classic",version:d.ClassicInfo.version});return n}),Promise.resolve(l)),l.endpointPayloadPromise.then((e=>w.addEndpoint(t.endpointId,e))),i.payload.payload.result=c,i.payload.payload.answer=l,this.wire.sendRaw(i)}catch(e){return i.payload.success=!1,i.payload.reason=e.message,this.wire.sendRaw(i)}}}t.ConnectionManager=f,i=new WeakMap,r=new WeakMap},7722:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;const s=n(8378),a=n(2942),c=n(9659),d=n(6711),h=()=>{};class l extends c.EmitterBase{constructor(e){super(e,"channel"),i.set(this,void 0),r(this,i,new d.ConnectionManager(e))}async getAllChannels(){return this.wire.sendAction("get-all-channels").then((({payload:e})=>e.data))}async onChannelConnect(e){await this.on("connected",e)}async onChannelDisconnect(e){await this.on("disconnected",e)}async connect(e,t){if(!e||"string"!=typeof e)throw new Error("Please provide a channelName string to connect to a channel.");const n=Object.assign(this.wire.environment.getDefaultChannelOptions().connect,t||{});let r=h,a=h;const c=new Promise((t=>{r=t,a=i=>{e===i.channelName&&(this.removeListener("connected",a),this.connect(e,n).then((e=>{t(e)})))},this.on("connected",a)}));try{const{offer:t,rtc:c}=await o(this,i).createClientOffer(n),d=await this.wire.sendAction("connect-to-channel",{channelName:e,...n,offer:t}),{payload:{data:h}}=d;r&&r(),this.removeListener("connected",a);const l=await o(this,i).createClientStrategy(c,h),u=new s.default(h,this.wire,l);return l.onEndpointDisconnect(h.channelId,(async()=>{try{await u.disconnect()}catch(e){console.warn(`Something went wrong during disconnect for client with uuid: ${h.uuid} / name: ${h.name} / endpointId: ${h.endpointId}.`)}finally{s.default.handleProviderDisconnect(u,h)}})),this.on("disconnected",(t=>{t.channelName===e&&s.default.handleProviderDisconnect(u,t)})),u}catch(t){const i="internal-nack";if({wait:!0,...n}.wait&&t.message&&t.message.includes(i))return console.warn(`Channel not found for channelName: ${e}, waiting for channel connection.`),c;throw t.message===i?new Error(`No channel found for channelName: ${e}`):new Error(t)}}async create(e,t){if(!e)throw new Error("Please provide a channelName to create a channel");const{payload:{data:n}}=await this.wire.sendAction("create-channel",{channelName:e}),r=o(this,i).createProvider(t,n);return this.on("client-disconnected",(t=>{t.channelName===e&&a.ChannelProvider.handleClientDisconnection(r,t)})),r}}t.Channel=l,i=new WeakMap},3749:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageReceiver=void 0;const i=n(8378),r=n(9659);class o extends r.Base{constructor(e){super(e),this.onmessage=e=>"process-channel-message"===e.action&&(this.processChannelMessage(e),!0),this.endpointMap=new Map,this.latestEndpointIdByChannelId=new Map,e.registerMessageHandler(this.onmessage.bind(this))}async processChannelMessage(e){var t,n;const{senderIdentity:i,providerIdentity:r,action:o,ackToSender:s,payload:a,intendedTargetIdentity:c}=e.payload,d=null!==(n=null!==(t=c.channelId)&&void 0!==t?t:c.endpointId)&&void 0!==n?n:this.latestEndpointIdByChannelId.get(r.channelId),h=this.endpointMap.get(d);if(!h)return s.payload.success=!1,s.payload.reason=`Client connection with identity uuid: ${this.wire.me.uuid} / name: ${this.wire.me.name} / endpointId: ${d} no longer connected.`,this.wire.sendRaw(s);try{const e=await h(o,a,i);return s.payload.payload=s.payload.payload||{},s.payload.payload.result=e,this.wire.sendRaw(s)}catch(e){return s.payload.success=!1,s.payload.reason=e.message,this.wire.sendRaw(s)}}addEndpoint(e,t,n){this.endpointMap.set(n,e),t!==n&&this.latestEndpointIdByChannelId.set(t,n)}removeEndpoint(e,t){this.endpointMap.delete(t),this.latestEndpointIdByChannelId.get(e)===t&&this.latestEndpointIdByChannelId.delete(e)}checkForPreviousClientConnection(e){const t=this.latestEndpointIdByChannelId.get(e);t&&(i.default.closeChannelByEndpointId(t),console.warn("You have created a second connection to an older provider. First connection has been removed from the clientMap"),console.warn("If the provider calls publish(), you may receive multiple messages."))}}t.MessageReceiver=o},1046:function(e,t){var n,i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ClassicInfo=t.ClassicStrategy=void 0,t.ClassicStrategy=class{constructor(e,t,s,a){this.messageReceiver=t,this.endpointId=s,this.providerIdentity=a,n.set(this,void 0),i.set(this,new Map),this.send=async(e,t,r)=>{const s=o(this,i).get(e);if(!s)throw new Error(`Could not locate routing info for endpoint ${e}`);const a={...s};return a.isLocalEndpointId&&delete a.endpointId,delete a.isLocalEndpointId,(await o(this,n).sendAction("send-channel-message",{...a,providerIdentity:this.providerIdentity,action:t,payload:r}).catch((e=>{throw new Error(e.message)}))).payload.data.result},this.close=async()=>{this.messageReceiver.removeEndpoint(this.providerIdentity.channelId,this.endpointId),r(this,i,new Map)},r(this,n,e)}onEndpointDisconnect(e,t){}receive(e){this.messageReceiver.addEndpoint(e,this.providerIdentity.channelId,this.endpointId)}async closeEndpoint(e){o(this,i).delete(e)}isEndpointConnected(e){return o(this,i).has(e)}addEndpoint(e,t){o(this,i).set(e,t.endpointIdentity)}isValidEndpointPayload(e){var t,n;return"string"==typeof(null===(t=null==e?void 0:e.endpointIdentity)||void 0===t?void 0:t.endpointId)||"string"==typeof(null===(n=null==e?void 0:e.endpointIdentity)||void 0===n?void 0:n.channelId)}},n=new WeakMap,i=new WeakMap,t.ClassicInfo={version:5,minimumVersion:0,type:"classic"}},7113:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.primary=e,this.secondary=t}static combine(e,t){return new n(e,t)}onEndpointDisconnect(e,t){this.primary.onEndpointDisconnect(e,(()=>{this.secondary.isEndpointConnected(e)||t()})),this.secondary.onEndpointDisconnect(e,(()=>{this.primary.isEndpointConnected(e)||t()}))}isValidEndpointPayload(e){return this.primary.isValidEndpointPayload(e)||this.secondary.isValidEndpointPayload(e)}async closeEndpoint(e){await this.primary.closeEndpoint(e),await this.secondary.closeEndpoint(e)}isEndpointConnected(e){return this.primary.isEndpointConnected(e)||this.secondary.isEndpointConnected(e)}async addEndpoint(e,t){this.primary.isValidEndpointPayload(t)&&await this.primary.addEndpoint(e,t),this.secondary.isValidEndpointPayload(t)&&await this.secondary.addEndpoint(e,t)}receive(e){this.primary.receive(e),this.secondary.receive(e)}send(e,t,n){return this.primary.isEndpointConnected(e)?this.primary.send(e,t,n):this.secondary.send(e,t,n)}async close(){await Promise.all([this.primary.close(),this.secondary.close()])}}t.default=n},3037:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolManager=void 0,t.ProtocolManager=class{constructor(e){this.ProtocolsInPreferenceOrder=e,this.DefaultClientProtocols=["classic"],this.DefaultProviderProtocols=["classic"],this.getClientProtocols=e=>{const t=e?this.ProtocolsInPreferenceOrder.filter((t=>e.includes(t))):this.DefaultClientProtocols;if(!t.length)throw new Error(`No valid protocols were passed in. Accepted values are: ${this.ProtocolsInPreferenceOrder.join(", ")}.`);return t},this.getProviderProtocols=e=>{const t=e?this.ProtocolsInPreferenceOrder.filter((t=>e.includes(t))):this.DefaultProviderProtocols;if(!t.length)throw new Error(`No valid protocols were passed in. Accepted values are: ${this.ProtocolsInPreferenceOrder.join(", ")}.`);return t},this.getCompatibleProtocols=(e,t)=>t.supportedProtocols.filter((t=>e.some((e=>{var n;return e.type===t.type&&t.version>=e.minimumVersion&&e.version>=(null!==(n=t.minimumVersion)&&void 0!==n?n:0)})))).slice(0,t.maxProtocols)}}},8776:function(e,t,n){var i,r,o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.RTCEndpoint=void 0;const a=n(2366);t.RTCEndpoint=class{constructor(e,t){this.rtc=e,this.endpointIdentity=t,this.responseMap=new Map,i.set(this,null),r.set(this,void 0),this.connectionStateChangeHandler=e=>{"connected"!==this.rtc.rtcClient.connectionState&&(this.rtc.rtcClient.removeEventListener("connectionstatechange",this.connectionStateChangeHandler),this.close(),o(this,r)&&o(this,r).call(this))},this.send=async(e,t)=>{const n=`message-${Math.random()}`,i=new Promise(((e,t)=>{this.responseMap.set(n,{resolve:e,reject:t})}));return this.rtc.channels.request.send(JSON.stringify({action:e,payload:t,messageId:n})),i},this.close=()=>{this.responseMap.forEach((e=>e.reject("Connection has closed."))),this.responseMap=new Map,this.rtc.channels.request.close(),this.rtc.channels.response.close(),this.rtc.rtcClient.close()},this.rtc.channels.response.addEventListener("message",(e=>{var t;const{messageId:n,payload:i,success:r,error:o}=JSON.parse(e.data),{resolve:s,reject:a}=null!==(t=this.responseMap.get(n))&&void 0!==t?t:{};s&&a?(this.responseMap.delete(n),r?s(i):a(o)):(console.log("Could not find id in responseMap."),console.log(e))})),this.rtc.channels.request.addEventListener("message",(async e=>{const{messageId:n,action:r,payload:s}=JSON.parse(e.data);if(o(this,i))try{const e=await o(this,i).call(this,r,s,t);this.rtc.channels.response.send(JSON.stringify({messageId:n,payload:e,success:!0}))}catch(e){"open"===this.rtc.channels.response.readyState&&this.rtc.channels.response.send(JSON.stringify({messageId:n,error:a.errorToPOJO(e),success:!1}))}else"open"===this.rtc.channels.response.readyState&&this.rtc.channels.response.send(JSON.stringify({messageId:n,success:!1,error:"Connection not ready."}))})),this.rtc.rtcClient.addEventListener("connectionstatechange",this.connectionStateChangeHandler),Object.values(this.rtc.channels).forEach((e=>{e.onclose=e=>{[...this.responseMap.values()].forEach((e=>e.reject(new Error("RTCDataChannel closed unexpectedly, this is most commonly caused by message size. Note: RTC Channels have a message size limit of ~255kB.")))),this.close(),o(this,r)&&o(this,r).call(this)}}))}onDisconnect(e){if(o(this,r))throw new Error("RTCEndpoint disconnectListener cannot be set twice.");s(this,r,e)}receive(e){if(o(this,i))throw new Error("You have already set a listener for this RTC Endpoint.");s(this,i,e)}get connected(){return"connected"===this.rtc.rtcClient.connectionState}},i=new WeakMap,r=new WeakMap},569:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RTCICEManager=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e){super(e,"channel"),this.ensureChannelOpened=e=>new Promise(((t,n)=>{if("open"===e.readyState)t();else if("connecting"===e.readyState){const n=()=>{e.removeEventListener("open",n),t()};e.addEventListener("open",n)}else n(new Error("This Channel has already closed"))}))}static createDataChannelPromise(e,t){let n;const i=new Promise((e=>{n=e})),r=i=>{const o=()=>{i.channel.removeEventListener("open",o),n(i.channel)};i.channel.label===e&&(i.channel.addEventListener("open",o),t.removeEventListener("datachannel",r))};return t.addEventListener("datachannel",r),i}async listenForProviderIce(e,t){await this.on(this.createProviderEventName(e),t,{timestamp:Date.now()})}async raiseProviderIce(e,t){await this.wire.environment.raiseEvent(this.createRouteString(this.createProviderEventName(e)),t)}async listenForClientIce(e,t){await this.on(this.createClientEventName(e),t,{timestamp:Date.now()})}async raiseClientIce(e,t){await this.wire.environment.raiseEvent(this.createRouteString(this.createClientEventName(e)),t)}cleanupIceListeners(e){this.removeAllListeners(this.createClientEventName(e)),this.removeAllListeners(this.createProviderEventName(e))}createClientEventName(e){return`ice-client-${e}`}createProviderEventName(e){return`ice-provider-${e}`}createRouteString(e){return`channel/${e}`}createRtcPeer(){return this.wire.environment.getRtcPeer()}async startClientOffer(){const e=Math.random().toString(),t=this.createRtcPeer();t.addEventListener("icecandidate",(async t=>{var n;t.candidate&&await this.raiseClientIce(e,{candidate:null===(n=t.candidate)||void 0===n?void 0:n.toJSON()})})),await this.listenForProviderIce(e,(async e=>{await t.addIceCandidate(e.candidate)}));const n={request:t.createDataChannel("request"),response:t.createDataChannel("response")},i=await t.createOffer();await t.setLocalDescription(i);const r=Promise.all([n.request,n.response].map(this.ensureChannelOpened)).then((()=>{}));return{rtcClient:t,channels:n,offer:i,rtcConnectionId:e,channelsOpened:r}}async finishClientOffer(e,t,n){return await e.setRemoteDescription(t),await n,!0}async createProviderAnswer(e,t){const n=this.createRtcPeer(),i=r.createDataChannelPromise("request",n),o=r.createDataChannelPromise("response",n);n.addEventListener("icecandidate",(async t=>{var n;t.candidate&&await this.raiseProviderIce(e,{candidate:null===(n=t.candidate)||void 0===n?void 0:n.toJSON()})})),await this.listenForClientIce(e,(async e=>{await n.addIceCandidate(e.candidate)})),await n.setRemoteDescription(t);const s=await n.createAnswer();await n.setLocalDescription(s);const a=Promise.all([i,o]).then((([t,n])=>(this.cleanupIceListeners(e),{request:t,response:n})));return{rtcClient:n,answer:s,channels:a}}}t.RTCICEManager=r},3870:function(e,t,n){var i,r,o,s=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.RTCInfo=t.RTCStrategy=void 0;const c=n(8776);t.RTCStrategy=class{constructor(){i.set(this,null),r.set(this,new Map),o.set(this,!0),this.send=async(e,t,n)=>this.getEndpointById(e).send(t,n),this.close=async()=>{s(this,o)&&(s(this,r).forEach((e=>e.close())),a(this,r,new Map)),a(this,o,!1)}}onEndpointDisconnect(e,t){this.getEndpointById(e).onDisconnect(t)}receive(e){if(s(this,i))throw new Error("You have already set a listener for this RTC Strategy");a(this,i,e),s(this,r).forEach((e=>e.receive(s(this,i))))}getEndpointById(e){const t=s(this,r).get(e);if(!t)throw new Error(`Client with endpoint id ${e} is not connected`);return t}get connected(){return s(this,o)}isEndpointConnected(e){return s(this,r).has(e)}addEndpoint(e,t){if(!s(this,o))return void console.warn("Adding endpoint to disconnected RTC Strategy");const n=new c.RTCEndpoint(t.rtc,t.endpointIdentity);s(this,i)&&n.receive(s(this,i)),s(this,r).set(e,n)}async closeEndpoint(e){s(this,r).delete(e)}isValidEndpointPayload(e){const t=e=>"object"==typeof e&&null!==e;return t(e)&&t(e.endpointIdentity)&&t(e.rtc)&&"string"==typeof e.endpointIdentity.endpointId}},i=new WeakMap,r=new WeakMap,o=new WeakMap,t.RTCInfo={version:1,minimumVersion:0,type:"rtc"}},2942:function(e,t,n){var i=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelProvider=void 0;const o=n(7539),s=n(2300);let a=(()=>{var e,t,n,a,c;class d extends o.ChannelBase{constructor(h,l,u){super(),e.set(this,void 0),t.set(this,void 0),n.set(this,void 0),a.set(this,(t=>{const o=this.connections.filter((e=>e.endpointId!==t.endpointId));r(this,n).closeEndpoint(t.endpointId),i(this,e,o)})),this.processAction=async(e,t,n)=>(d.clientIsMultiRuntime(n)&&!s.runtimeUuidMeetsMinimumRuntimeVersion(n.runtimeUuid,"18.87.56.0")?this.handleMultiRuntimeLegacyClient(n):this.checkForClientConnection(n),super.processAction(e,t,n)),c.set(this,(()=>{r(this,n).close();const e=d.removalMap.get(this);e&&e()})),i(this,t,new o.ProtectedItems(h,l)),this.connectListener=()=>{},this.disconnectListener=()=>{},i(this,e,[]),i(this,n,u),u.receive(this.processAction)}get connections(){return[...r(this,e)]}static handleClientDisconnection(e,t){const n=e.connections.find((e=>e.endpointId===t.endpointId));n?r(e,a).call(e,n):e.connections.filter((e=>e.uuid===t.uuid&&e.name===t.name)).forEach(r(e,a)),e.disconnectListener(t)}static setProviderRemoval(e,t){d.removalMap.set(e,t)}dispatch(e,t,i){var o;const s=null!==(o=e.endpointId)&&void 0!==o?o:this.getEndpointIdForOpenFinId(e,t);return s&&r(this,n).isEndpointConnected(s)?r(this,n).send(s,t,i):Promise.reject(new Error(`Client connection with identity uuid: ${e.uuid} / name: ${e.name} / endpointId: ${s} no longer connected.`))}async processConnection(t,n){return r(this,e).push(t),this.connectListener(t,n)}publish(e,t){return this.connections.map((i=>r(this,n).send(i.endpointId,e,t)))}onConnection(e){this.connectListener=e}onDisconnection(e){this.disconnectListener=e}async destroy(){const n=r(this,t),{channelName:o}=n.providerIdentity;i(this,e,[]),await n.wire.sendAction("destroy-channel",{channelName:o}),r(this,c).call(this)}checkForClientConnection(e){if(!this.isClientConnected(e))throw new Error(`This action was sent from a client that is not connected to the provider.\n                    Client Identity: {uuid: ${e.uuid}, name: ${e.name}, endpointId: ${e.endpointId}}`)}isClientConnected(e){return d.clientIdentityIncludesEndpointId(e)?this.connections.some((t=>t.endpointId===e.endpointId&&t.uuid===e.uuid&&t.name===e.name)):this.isLegacyClientConnected(e)}isLegacyClientConnected(e){return this.connections.some((t=>t.uuid===e.uuid&&t.name===e.name))}handleMultiRuntimeLegacyClient(e){if(!this.isLegacyClientConnected(e))throw new Error(`This action was sent from a client that is not connected to the provider. Client Identity:\n                    {uuid: ${e.uuid}, name: ${e.name}, endpointId: ${e.endpointId}}`)}getEndpointIdForOpenFinId(e,n){var i;const o=this.connections.filter((t=>t.name===e.name&&t.uuid===e.uuid));if(o.length>=2){const i=r(this,t),{uuid:o,name:s}=e,a=null==i?void 0:i.providerIdentity.uuid,c=null==i?void 0:i.providerIdentity.name;console.warn(`WARNING: Dispatch call may have unintended results. The "to" argument of your dispatch call is missing the\n                "endpointId" parameter. The identity you are dispatching to ({uuid: ${o}, name: ${s}})\n                has multiple channelClients for this channel. Your dispatched action: (${n}) from the provider:\n                ({uuid: ${a}, name: ${c}}) will only be processed by the most recently-created client.`)}return null===(i=o.pop())||void 0===i?void 0:i.endpointId}static clientIdentityIncludesEndpointId(e){return void 0!==e.endpointId}static clientIsMultiRuntime(e){return void 0!==e.runtimeUuid}}return e=new WeakMap,t=new WeakMap,n=new WeakMap,a=new WeakMap,c=new WeakMap,d.removalMap=new WeakMap,d})();t.ChannelProvider=a},8347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InterAppPayload=void 0;const i=n(6465),r=n(9659),o=n(3127),s=n(7722),a=n(4999);class c extends r.Base{constructor(e){super(e),this.events={subscriberAdded:"subscriber-added",subscriberRemoved:"subscriber-removed"},this.refCounter=new o.default,this.Channel=new s.Channel(e),this.emitter=new i.EventEmitter,e.registerMessageHandler(this.onmessage.bind(this)),this.on=this.emitter.on.bind(this.emitter),this.removeAllListeners=this.emitter.removeAllListeners.bind(this.emitter)}publish(e,t){return this.wire.sendAction("publish-message",{topic:e,message:t,sourceWindowName:this.me.name}).then((()=>{}))}async send(e,t,n){const i=a.validateIdentity(e);if(i)throw new Error(i);await this.wire.sendAction("send-message",{destinationUuid:e.uuid,destinationWindowName:e.name,topic:t,message:n,sourceWindowName:this.me.name})}subscribe(e,t,n){const i=this.createSubscriptionKey(e.uuid,e.name||"*",t);return this.emitter.on(i,n),this.refCounter.actOnFirst(i,(()=>this.wire.sendAction("subscribe",{sourceUuid:e.uuid,sourceWindowName:e.name||"*",topic:t,destinationWindowName:this.me.name})),(()=>Promise.resolve()))}unsubscribe(e,t,n){const i=e.name||"*",r=this.createSubscriptionKey(e.uuid,i,t);return this.emitter.removeListener(r,n),this.refCounter.actOnLast(r,(()=>this.wire.sendAction("unsubscribe",{sourceUuid:e.uuid,sourceWindowName:i,topic:t,destinationWindowName:this.me.name})),(()=>new Promise((e=>e)).then((()=>{}))))}processMessage(e){const{payload:{message:t,sourceWindowName:n,sourceUuid:i,topic:r}}=e,o=[this.createSubscriptionKey(i,n,r),this.createSubscriptionKey(i,"*",r),this.createSubscriptionKey("*","*",r)],s={uuid:i,name:n};o.forEach((e=>{this.emitter.emit(e,t,s)}))}emitSubscriverEvent(e,t){const{payload:{targetName:n,uuid:i,topic:r}}=t,o={name:n,uuid:i,topic:r};this.emitter.emit(e,o)}createSubscriptionKey(e,t,n){const i=t||"*";if(!(e&&i&&n))throw new Error("Missing uuid, name, or topic string");return function(...e){return e.map((e=>Buffer.from(`${e}`).toString("base64"))).join("/")}(e,i,n)}onmessage(e){const{action:t}=e;switch(t){case"process-message":this.processMessage(e);break;case this.events.subscriberAdded:this.emitSubscriverEvent(this.events.subscriberAdded,e);break;case this.events.subscriberRemoved:this.emitSubscriverEvent(this.events.subscriberRemoved,e)}return!0}}t.default=c,t.InterAppPayload=class{}},2977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(2057),o=n(7138),s=(e,...t)=>new e(...t);class a extends i.Base{async init(e,t=s){this.wire.sendAction("interop-init").catch((e=>{}));const n=await this.fin.InterApplicationBus.Channel.create(`interop-broker-${e}`),i=await this.fin.Application.getCurrentSync().getInfo();return t(r.InteropBroker,this.wire,n,i.initialOptions.interopBrokerConfiguration||{})}connectSync(e,t){return this.wire.sendAction("interop-connect-sync").catch((e=>{})),new o.InteropClient(this.wire,e,t)}}t.default=a},2057:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InteropBroker=void 0;const i=n(9659),r=n(7115),o=n(1787);let s=[{id:"green",displayMetadata:{color:"#00CC88",name:"green"}},{id:"purple",displayMetadata:{color:"#8C61FF",name:"purple"}},{id:"orange",displayMetadata:{color:"#FF8C4C",name:"orange"}},{id:"red",displayMetadata:{color:"#FF5E60",name:"red"}},{id:"pink",displayMetadata:{color:"#FF8FB8",name:"pink"}},{id:"yellow",displayMetadata:{color:"#E9FF8F",name:"yellow"}}];class a extends i.Base{constructor(e,t,n){super(e),this.channel=t,this.interopClients=new Map,this.contextGroupsById=new Map,n.contextGroups&&(s=n.contextGroups),this.intentClientMap=new Map,this.lastContextMap=new Map,this.sessionContextGroupMap=new Map,this.setContextGroupMap(),this.wireChannel(t)}setContext({context:e},t){this.wire.sendAction("interop-broker-set-context").catch((e=>{}));const n=this.getClientState(t);if(!n||!n.contextGroupId)throw n?new Error("You must join a context group before you can set context."):new Error(`Client with Identity: ${t.uuid} ${t.name} not in Client State Map`);{const{contextGroupId:t}=n;if(!this.contextGroupsById.has(t))throw new Error(`Client has a context group that isn't in the context group mapping: ${t}.`);const i=a.checkContextIntegrity(e);if(!1===i.isValid)throw new Error(`Failed to set Context - bad Context. Reason: ${i.reason}. Context: ${JSON.stringify(e)}`);const r=this.contextGroupsById.get(t),o=e.type;r.set(o,e),this.lastContextMap.set(t,o),Array.from(this.interopClients.values()).filter((e=>e.contextGroupId===t)).forEach((t=>{for(const[,n]of t.contextHandlers)a.isContextTypeCompatible(o,n.contextType)&&this.invokeContextHandler(t.clientIdentity,n.handlerId,e)}))}}getCurrentContext(e,t){var n;this.wire.sendAction("interop-broker-get-current-context").catch((e=>{}));const i=this.getClientState(t);if(!(null==i?void 0:i.contextGroupId))throw new Error("You must be a member of a context group to call getCurrentContext");const{contextGroupId:r}=i,o=this.contextGroupsById.get(r),s=this.lastContextMap.get(r),a=null!==(n=null==e?void 0:e.contextType)&&void 0!==n?n:s;return o&&a?o.get(a):void 0}async joinContextGroup({contextGroupId:e,target:t},n){if(this.wire.sendAction("interop-broker-join-context-group").catch((e=>{})),t){a.hasEndpointId(t)&&await this.addClientToContextGroup({contextGroupId:e},t);const n=this.channel.connections.filter((e=>e.uuid===t.uuid&&e.name===t.name));if(!n.length)throw new Error(`Given Identity ${t.uuid} ${t.name} is not connected to the Interop Broker.`);n.length>1&&console.warn(`More than one connection found for identity ${t.uuid} ${t.name}`);const i=[];for(const t of n)i.push(this.addClientToContextGroup({contextGroupId:e},t));await Promise.all(i)}else await this.addClientToContextGroup({contextGroupId:e},n)}async addClientToContextGroup({contextGroupId:e},t){this.wire.sendAction("interop-broker-add-client-to-context-group").catch((e=>{}));const n=this.getClientState(t);if(!n)throw new Error(`Client with Identity: ${t.uuid} ${t.name} not in Client State Map`);if(!this.getContextGroups().find((t=>t.id===e)))throw new Error(`Attempting to join a context group that does not exist: ${e}. You may only join existing context groups.`);if(n.contextGroupId!==e){n.contextGroupId=e,await a.setCurrentContextGroupInClientOptions(t,e);const i=this.contextGroupsById.get(e);for(const[,e]of n.contextHandlers){const{contextType:n,handlerId:r}=e;if(void 0===n)i.forEach(((e,n)=>{this.invokeContextHandler(t,r,e)}));else if(i.has(n)){const e=i.get(n);e&&this.invokeContextHandler(t,r,e)}}}}async removeFromContextGroup({target:e},t){if(this.wire.sendAction("interop-broker-remove-from-context-group").catch((e=>{})),e){a.hasEndpointId(e)&&await this.removeClientFromContextGroup(e);const t=this.channel.connections.filter((t=>t.uuid===e.uuid&&t.name===e.name));if(!t.length)throw new Error(`No connection found for given Identity ${e.uuid} ${e.name}`);t.length>1&&console.warn(`More than one connection found for identity ${e.uuid} ${e.name}`);const n=[];for(const e of t)n.push(this.removeClientFromContextGroup(e));await Promise.all(n)}else await this.removeClientFromContextGroup(t)}async removeClientFromContextGroup(e){this.wire.sendAction("interop-broker-remove-client-from-context-group").catch((e=>{}));const t=this.getClientState(e);t&&(t.contextGroupId=void 0),await a.setCurrentContextGroupInClientOptions(e,null)}getContextGroups(){return this.wire.sendAction("interop-broker-get-context-groups").catch((e=>{})),s.map((e=>({...e})))}getInfoForContextGroup({contextGroupId:e}){return this.wire.sendAction("interop-broker-get-info-for-context-group").catch((e=>{})),this.getContextGroups().find((t=>t.id===e))}getAllClientsInContextGroup({contextGroupId:e}){return this.wire.sendAction("interop-broker-get-all-clients-in-context-group").catch((e=>{})),Array.from(this.interopClients.values()).filter((t=>t.contextGroupId===e)).map((e=>e.clientIdentity))}async handleFiredIntent(e,t){const n=o.generateOverrideWarning("interopClient.fireIntent","fdc3.raiseIntent","InteropBroker.handleFiredIntent",t);throw console.warn(n),new Error(o.BROKER_ERRORS.fireIntent)}async setIntentTarget(e,t){this.wire.sendAction("interop-broker-set-intent-target").catch((e=>{}));const n=this.intentClientMap.get(t.name),i=`intent-handler-${e.name}`;if(n){const t=n.get(i);if(t){if(t.pendingIntents.push(e),t.clientIdentity&&t.isReady){const{clientIdentity:e,pendingIntents:n}=t;try{const r=n[n.length-1];await this.channel.dispatch(e,i,r),t.pendingIntents=[]}catch(n){console.error(`Error invoking intent handler for client ${e.uuid}/${e.name}/${e.endpointId}`),t.isReady=!1}}}else n.set(i,{isReady:!1,pendingIntents:[e]})}else{this.intentClientMap.set(t.name,new Map);const n=this.intentClientMap.get(t.name);n&&n.set(i,{isReady:!1,pendingIntents:[e]})}}async handleInfoForIntent(e,t){const n=o.generateOverrideWarning("interopClient.getInfoForIntent","fdc3.findIntent","InteropBroker.handleInfoForIntent",t);throw console.warn(n),new Error(o.BROKER_ERRORS.getInfoForIntent)}async handleInfoForIntentsByContext(e,t){const n=o.generateOverrideWarning("interopClient.getInfoForIntentsByContext","fdc3.findIntentsByContext","InteropBroker.handleInfoForIntentsByContext",t);throw console.warn(n),new Error(o.BROKER_ERRORS.getInfoForIntentsByContext)}async handleFiredIntentForContext(e,t){const n=o.generateOverrideWarning("interopClient.fireIntentForContext","fdc3.raiseIntentForContext","InteropBroker.handleFiredIntentForContext",t);throw console.warn(n),new Error(o.BROKER_ERRORS.fireIntentForContext)}decorateSnapshot(e){return{...e,interopSnapshotDetails:{contextGroupStates:this.getContextGroupStates()}}}applySnapshot(e,t){var n;const i=null===(n=null==e?void 0:e.interopSnapshotDetails)||void 0===n?void 0:n.contextGroupStates;i&&((null==t?void 0:t.closeExistingWindows)||this.updateExistingClients(i),this.rehydrateContextGroupStates(i))}updateExistingClients(e){this.interopClients.forEach((t=>{const{clientIdentity:n,contextGroupId:i,contextHandlers:r}=t;if(i){const t=e[i];for(const[,e]of Object.entries(t))r.forEach((t=>{const{handlerId:i,contextType:r}=t;a.isContextTypeCompatible(e.type,r)&&this.invokeContextHandler(n,i,e)}))}}))}getContextGroupStates(){return a.toObject(this.contextGroupsById)}rehydrateContextGroupStates(e){const t=Object.entries(e);for(const[e,n]of t){const t=Object.entries(n);for(const[n,i]of t)this.contextGroupsById.has(e)?this.contextGroupsById.get(e).set(n,i):console.warn(`Attempting to set a context group that isn't in the context group mapping. Skipping context group rehydration for: ${e}`)}}contextHandlerRegistered({contextType:e,handlerId:t},n){const i={contextType:e,handlerId:t},r=this.getClientState(n);if(null==r||r.contextHandlers.set(t,i),r&&r.contextGroupId){const{contextGroupId:i}=r,o=this.contextGroupsById.get(i);if(void 0===e)o.forEach(((e,i)=>{this.invokeContextHandler(n,t,e)}));else if(o.has(e)){const i=o.get(e);i&&this.invokeContextHandler(n,t,i)}}}async intentHandlerRegistered(e,t){const{handlerId:n}=e,i=this.intentClientMap.get(t.name),r=null==i?void 0:i.get(n);if(i)if(r){const{pendingIntents:e}=r;r.clientIdentity=t,r.isReady=!0;try{if(e.length>0){const i=e[e.length-1];await this.channel.dispatch(t,n,i),r.pendingIntents=[]}}catch(e){console.error(`Error invoking intent handler: ${n} for client ${t.uuid}/${t.name}/${t.endpointId}`)}}else i.set(n,{isReady:!0,pendingIntents:[],clientIdentity:t});else{this.intentClientMap.set(t.name,new Map);const e=this.intentClientMap.get(t.name);e&&e.set(n,{isReady:!0,pendingIntents:[],clientIdentity:t})}}invokeContextHandler(e,t,n){this.channel.dispatch(e,t,n).catch((i=>{console.error(`Error invoking context handler ${t} for context type ${n.type} in client ${e.uuid}/${e.name}/${e.endpointId}`,i)}))}removeContextHandler({handlerId:e},t){const n=this.getClientState(t);n&&n.contextHandlers.delete(e)}handleJoinSessionContextGroup({sessionContextGroupId:e},t){try{if(!e)throw new Error("Failed to join session context group: must specify group id.");const n=this.sessionContextGroupMap.get(e);if(n)n.registerNewClient(t);else{const n=new r.default(this.channel,e);n.registerNewClient(t),this.sessionContextGroupMap.set(e,n)}return{hasConflict:this.contextGroupsById.has(e)}}catch(e){throw new Error(e)}}getClientState(e){return this.interopClients.get(e.endpointId)}static toObject(e){const t=Object.fromEntries(e),n={};return Object.entries(t).forEach((([e,t])=>{const i=Object.fromEntries(t);n[e]=i})),n}static checkContextIntegrity(e){if(!e)return{isValid:!1,reason:"No context supplied"};if("object"!=typeof e)return{isValid:!1,reason:"Context must be an Object"};if(!e.type)return{isValid:!1,reason:"Context must have a type property"};if(e.id&&"object"!=typeof e.id)return{isValid:!1,reason:"Context id must be an Object populated with key-value identifiers (if set)"};if(e.id){const{id:t}=e,n=Object.keys(t);let i=!1;if(!n.length)return{isValid:!1,reason:"Context id must have at least one key-value identifier"};if(n.forEach((e=>{"string"==typeof e&&"string"==typeof t[e]||(i=!0)})),i)return{isValid:!1,reason:"Context id key-value identifiers must be of type string"}}return e.name&&"string"!=typeof e.name?{isValid:!1,reason:"Context name must be of string type (if set)"}:{isValid:!0}}static hasEndpointId(e){return void 0!==e.endpointId}static isContextTypeCompatible(e,t){return void 0===t||e===t}setContextGroupMap(){for(const e of this.getContextGroups())this.contextGroupsById.set(e.id,new Map)}static async setCurrentContextGroupInClientOptions(e,t){const n=await fin.System.getEntityInfo(e.uuid,e.name);let i;"view"===n.entityType?i=await fin.View.wrap(e):"window"===n.entityType&&(i=await fin.Window.wrap(e)),i?await i.updateOptions({interop:{currentContextGroup:t}}):console.warn(`Setting Current Context Group: Entity with identity ${e.uuid}, ${e.name} is not a window or view. It is a ${n.entityType} instead.`)}wireChannel(e){e.onConnection(((e,t)=>{if(!this.isConnectionAuthorized(e,t))throw new Error(`Connection not authorized for ${e.uuid}, ${e.name}`);if(!e.endpointId)throw new Error("Version too old to be compatible with Interop. Please upgrade your runtime to a more recent version.");const n={contextGroupId:void 0,contextHandlers:new Map,clientIdentity:e};(null==t?void 0:t.currentContextGroup)&&this.contextGroupsById.has(t.currentContextGroup)&&(n.contextGroupId=null==t?void 0:t.currentContextGroup),this.interopClients.set(e.endpointId,n)})),e.onDisconnection((e=>{this.interopClients.delete(e.endpointId);const t=this.intentClientMap.get(e.name);t&&e.uuid===fin.me.identity.uuid&&t.forEach((e=>{e.isReady=!1})),this.sessionContextGroupMap.forEach((t=>{t.onDisconnection(e)}))})),e.beforeAction(((e,t,n)=>{if(!this.isActionAuthorized(e,t,n))throw new Error(`Action (${e}) not authorized for ${n.uuid}, ${n.name}`);console.log(e,t,n)})),e.afterAction(console.log),e.register("setContext",this.setContext.bind(this)),e.register("fireIntent",this.handleFiredIntent.bind(this)),e.register("getCurrentContext",this.getCurrentContext.bind(this)),e.register("getInfoForIntent",this.handleInfoForIntent.bind(this)),e.register("getInfoForIntentsByContext",this.handleInfoForIntentsByContext.bind(this)),e.register("fireIntentForContext",this.handleFiredIntentForContext.bind(this)),e.register("getContextGroups",this.getContextGroups.bind(this)),e.register("joinContextGroup",this.joinContextGroup.bind(this)),e.register("removeFromContextGroup",this.removeFromContextGroup.bind(this)),e.register("getAllClientsInContextGroup",this.getAllClientsInContextGroup.bind(this)),e.register("getInfoForContextGroup",this.getInfoForContextGroup.bind(this)),e.register("contextHandlerRegistered",this.contextHandlerRegistered.bind(this)),e.register("intentHandlerRegistered",this.intentHandlerRegistered.bind(this)),e.register("removeContextHandler",this.removeContextHandler.bind(this)),e.register("sessionContextGroup:createIfNeeded",this.handleJoinSessionContextGroup.bind(this))}async isConnectionAuthorized(e,t){return this.wire.sendAction("interop-broker-is-connection-authorized").catch((e=>{})),!0}async isActionAuthorized(e,t,n){return this.wire.sendAction("interop-broker-is-action-authorized").catch((e=>{})),!0}}t.InteropBroker=a},7138:function(e,t,n){var i,r,o=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.InteropClient=void 0;const a=n(9659),c=n(822),d=n(1787);class h extends a.Base{constructor(e,t,n){super(e),i.set(this,void 0),r.set(this,void 0),o(this,r,new Map),o(this,i,this.wire.environment.whenReady().then((()=>this.fin.InterApplicationBus.Channel.connect(`interop-broker-${t}`,{payload:n}))))}async setContext(e){return this.wire.sendAction("interop-client-set-context").catch((e=>{})),(await s(this,i)).dispatch("setContext",{context:e})}async addContextHandler(e,t){this.wire.sendAction("interop-client-add-context-handler").catch((e=>{}));const n=await s(this,i);let r;t?(r=`invokeContextHandler-${t}-${d.generateId()}`,console.warn(`Warning: By providing a contextType (${t}), you are using the experimental addContextHandler. To avoid issues, make sure you are adding your context handlers at the top level in your application.`)):r="invokeContextHandler";const o=d.wrapContextHandler(e,r);return n.register(r,o),await n.dispatch("contextHandlerRegistered",{handlerId:r,contextType:t}),{unsubscribe:async()=>{n.remove(r),await n.dispatch("removeContextHandler",{handlerId:r})}}}async getContextGroups(){return this.wire.sendAction("interop-client-get-context-groups").catch((e=>{})),(await s(this,i)).dispatch("getContextGroups")}async joinContextGroup(e,t){this.wire.sendAction("interop-client-join-context-group").catch((e=>{}));const n=await s(this,i);if(!e)throw new Error("No contextGroupId specified for joinContextGroup.");return n.dispatch("joinContextGroup",{contextGroupId:e,target:t})}async removeFromContextGroup(e){return this.wire.sendAction("interop-client-remove-from-context-group").catch((e=>{})),(await s(this,i)).dispatch("removeFromContextGroup",{target:e})}async getAllClientsInContextGroup(e){this.wire.sendAction("interop-client-get-all-clients-in-context-group").catch((e=>{}));const t=await s(this,i);if(!e)throw new Error("No contextGroupId specified for getAllClientsInContextGroup.");return t.dispatch("getAllClientsInContextGroup",{contextGroupId:e})}async getInfoForContextGroup(e){this.wire.sendAction("interop-client-get-info-for-context-group").catch((e=>{}));const t=await s(this,i);if(!e)throw new Error("No contextGroupId specified for getInfoForContextGroup.");return t.dispatch("getInfoForContextGroup",{contextGroupId:e})}async fireIntent(e){return this.wire.sendAction("interop-client-fire-intent").catch((e=>{})),(await s(this,i)).dispatch("fireIntent",e)}async registerIntentHandler(e,t){this.wire.sendAction("interop-client-register-intent-handler").catch((e=>{}));const n=await s(this,i),r=`intent-handler-${t}`,o=this.wrapIntentHandler(e,r);try{await n.register(r,o),await n.dispatch("intentHandlerRegistered",{handlerId:r})}catch(e){throw new Error("Unable to register intent handler")}return{unsubscribe:async()=>{n.remove(r)}}}async getCurrentContext(e){return this.wire.sendAction("interop-client-get-current-context").catch((e=>{})),(await s(this,i)).dispatch("getCurrentContext",{contextType:e})}async getInfoForIntent(e){return this.wire.sendAction("interop-client-get-info-for-intent").catch((e=>{})),(await s(this,i)).dispatch("getInfoForIntent",e)}async getInfoForIntentsByContext(e){return this.wire.sendAction("interop-client-get-info-for-intents-by-context").catch((e=>{})),(await s(this,i)).dispatch("getInfoForIntentsByContext",e)}async fireIntentForContext(e){return this.wire.sendAction("interop-client-fire-intent-for-context").catch((e=>{})),(await s(this,i)).dispatch("fireIntentForContext",e)}async joinSessionContextGroup(e){try{const t=s(this,r).get(e);if(t)return t.getUserInstance();const n=await s(this,i),{hasConflict:o}=await n.dispatch("sessionContextGroup:createIfNeeded",{sessionContextGroupId:e});o&&console.warn(`A (non-session) context group with the name "${e}" already exists. If you are trying to join a Context Group, call joinContextGroup instead.`);const a=new c.default(this.wire,s(this,i),e);return s(this,r).set(e,a),a.getUserInstance()}catch(t){throw console.error(`Error thrown trying to create Session Context Group with id "${e}": ${t}`),t}}wrapIntentHandler(e,t){return async n=>{try{await e(n)}catch(e){throw console.error(`Error thrown by handler ${t}: ${e}`),e}}}}t.InteropClient=h,i=new WeakMap,r=new WeakMap},7115:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(8706);t.default=class{constructor(e,t){this.provider=e,this.id=t,this.lastContext=void 0,this.contextGroupMap=new Map,this.clients=new Map,this.registerListeners()}registerListeners(){this.provider.register(`sessionContextGroup:getContext-${this.id}`,this.getCurrentContext.bind(this)),this.provider.register(`sessionContextGroup:setContext-${this.id}`,this.setContext.bind(this)),this.provider.register(`sessionContextGroup:handlerAdded-${this.id}`,this.handlerAdded.bind(this)),this.provider.register(`sessionContextGroup:handlerRemoved-${this.id}`,this.handlerRemoved.bind(this))}getCurrentContext(e){return e.type?this.contextGroupMap.get(e.type):this.lastContext}setContext(e,t){const{context:n}=e,r=i.InteropBroker.checkContextIntegrity(n);if(!1===r.isValid)throw new Error(`Failed to set Context - bad Context. Reason: ${r.reason}. Context: ${JSON.stringify(n)}`);if(!this.getClientState(t))throw new Error(`Client with Identity: ${t.uuid} ${t.name} not in Session Client State Map`);this.contextGroupMap.set(n.type,n),this.lastContext=n,Array.from(this.clients.values()).forEach((e=>{var t;null===(t=e.contextHandlers.get(n.type))||void 0===t||t.forEach((t=>{this.provider.dispatch(e.clientIdentity,t,n)})),e.globalHandler&&this.provider.dispatch(e.clientIdentity,e.globalHandler,n)}))}getClientState(e){return this.clients.get(e.endpointId)}handlerAdded(e,t){const{handlerId:n,contextType:i}=e,r=this.getClientState(t);if(!r)throw new Error(`Client with Identity: ${t.uuid} ${t.name} not in Client State Map`);if(i){const e=r.contextHandlers.get(i)||[];r.contextHandlers.set(i,[...e,n]);const o=this.contextGroupMap.get(i);o&&this.provider.dispatch(t,n,o)}else r.globalHandler=n,[...this.contextGroupMap.keys()].forEach((e=>{const i=this.contextGroupMap.get(e);i&&this.provider.dispatch(t,n,i)}))}handlerRemoved(e,t){const{handlerId:n}=e,i=this.clients.get(t.endpointId);i?(Array.from(i.contextHandlers).forEach((([,e])=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)})),i.globalHandler===n&&(i.globalHandler=void 0)):console.warn(`Trying to remove a handler from a client that isn't mapped. handlerId: ${n}. clientIdentity: ${t}`)}registerNewClient(e){if(!this.clients.has(e.endpointId)){const t={contextHandlers:new Map,clientIdentity:e,globalHandler:void 0};this.clients.set(e.endpointId,t)}}onDisconnection(e){this.clients.delete(e.endpointId)}}},822:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const s=n(9659),a=n(1787);class c extends s.Base{constructor(e,t,n){super(e),i.set(this,void 0),this.id=n,r(this,i,t)}async setContext(e){return this.wire.sendAction("interop-session-context-group-set-context").catch((e=>{})),(await o(this,i)).dispatch(`sessionContextGroup:setContext-${this.id}`,{sessionContextGroupId:this.id,context:e})}async getCurrentContext(e){return this.wire.sendAction("interop-session-context-group-get-context").catch((e=>{})),(await o(this,i)).dispatch(`sessionContextGroup:getContext-${this.id}`,{sessionContextGroupId:this.id,type:e})}async addContextHandler(e,t){this.wire.sendAction("interop-session-context-group-add-handler").catch((e=>{}));const n=await o(this,i);let r;return r=t?`sessionContextHandler:invoke-${this.id}-${t}-${a.generateId()}`:`sessionContextHandler:invoke-${this.id}`,n.register(r,a.wrapContextHandler(e,r)),n.dispatch(`sessionContextGroup:handlerAdded-${this.id}`,{handlerId:r,contextType:t}),{unsubscribe:await this.createUnsubscribeCb(r)}}async createUnsubscribeCb(e){const t=await o(this,i);return async()=>{t.remove(e),await t.dispatch(`sessionContextGroup:handlerRemoved-${this.id}`,{handlerId:e})}}getUserInstance(){return{id:this.id,setContext:a.wrapInTryCatch(this.setContext.bind(this),"Failed to set context: "),getCurrentContext:a.wrapInTryCatch(this.getCurrentContext.bind(this),"Failed to get context: "),addContextHandler:a.wrapInTryCatch(this.addContextHandler.bind(this),"Failed to add context handler: ")}}}t.default=c,i=new WeakMap},8706:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2977);t.default=o.default,r(n(7138),t),r(n(2057),t)},1787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BROKER_ERRORS=t.generateOverrideWarning=t.generateOverrideError=t.wrapContextHandler=t.wrapInTryCatch=t.generateId=void 0,t.generateId=()=>`${Math.random()}${Date.now()}`,t.wrapInTryCatch=(e,t)=>(...n)=>{try{return e(...n)}catch(e){throw new Error((t||"")+e)}},t.wrapContextHandler=(e,t)=>async n=>{try{await e(n)}catch(e){throw console.error(`Error thrown by handler ${t} for context type ${n.type}: ${e}`),e}},t.generateOverrideError=(e,t)=>`You have tried to to use ${e} but ${t} has not been overridden in the Interop Broker. Please override this function. Refer to our documentation for more info.`,t.generateOverrideWarning=(e,t,n,i)=>{const{uuid:r,name:o}=i;return`Entity with identity: ${r}/${o} has called ${e} or ${t} but ${n} has not been overridden.`},t.BROKER_ERRORS={fireIntent:t.generateOverrideError("fireIntent","handleFiredIntent"),fireIntentForContext:t.generateOverrideError("fireIntentForContext","handleFiredIntentForContext"),getInfoForIntent:t.generateOverrideError("getInfoForIntent","handleInfoForIntent"),getInfoForIntentsByContext:t.generateOverrideError("getInfoForIntentsByContext","handleInfoForIntentsByContext")}},9641:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMe=t.getBaseMe=void 0;const i=n(4169),r=n(6720),o=n(4997);function s(e,t,n){return{isView:"view"===e,isWindow:"window"===e,isFrame:"iframe"===e,isExternal:"external connection"===e,uuid:t,name:n,entityType:e}}t.getBaseMe=s,t.getMe=function(e){const{uuid:t,name:n,entityType:a}=e.me,c={setContext(){throw new Error("Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.")},addContextHandler(){throw new Error("Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.")},getContextGroups(){throw new Error("Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.")},joinContextGroup(){throw new Error("Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.")},removeFromContextGroup(){throw new Error("Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.")},getAllClientsInContextGroup(){throw new Error("Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.")},getInfoForContextGroup(){throw new Error("Interop API has not been instantiated. Either connection has failed or you have not declared interop in your config.")}};switch(a){case"view":return Object.assign(new i.View(e,{uuid:t,name:n}),s(a,t,n),{interop:c});case"window":return Object.assign(new o._Window(e,{uuid:t,name:n}),s(a,t,n),{interop:c});case"iframe":return Object.assign(new r._Frame(e,{uuid:t,name:n}),s(a,t,n),{interop:c});default:return{...s(a,t,n)}}}},7283:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(6394),o=n(9872);class s extends i.Base{constructor(e,t){super(e),this._channel=t,this._initializer=(...e)=>this.wire.environment.getProviderInitializer().then((t=>t(this.wire.environment)(...e))),this.Layout=new r.LayoutModule(this.wire)}async init(e){const t=null==e?void 0:e.overrideCallback,n=await this.fin.Interop.init(this.fin.me.uuid,null==e?void 0:e.interopOverride);return window.interopBroker=n,this._initializer(t,n)}async wrap(e){return this.wire.sendAction("platform-wrap").catch((e=>{})),new o.Platform({uuid:e.uuid},this._channel)}wrapSync(e){return this.wire.sendAction("platform-wrap-sync").catch((e=>{})),new o.Platform({uuid:e.uuid},this._channel)}async getCurrent(){return this.wire.sendAction("platform-get-current").catch((e=>{})),this.wrap({uuid:this.wire.me.uuid})}getCurrentSync(){return this.wire.sendAction("platform-get-current-sync").catch((e=>{})),this.wrapSync({uuid:this.wire.me.uuid})}start(e){return this.wire.sendAction("platform-start").catch((e=>{})),new Promise((async(t,n)=>{try{const{uuid:n}=e,i=await this.fin.Application._create({...e,isPlatformController:!0});i.once("platform-api-ready",(()=>t(this.wrapSync({uuid:n})))),i._run({uuid:n})}catch(e){n(e)}}))}startFromManifest(e,t){return this.wire.sendAction("platform-start-from-manifest").catch((e=>{})),new Promise((async(n,i)=>{try{const i=await this.fin.Application._createFromManifest(e);i.once("platform-api-ready",(()=>n(this.wrapSync({uuid:i.identity.uuid})))),i._run(t)}catch(e){i(e)}}))}}t.default=s},9872:function(e,t,n){var i,r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0;const o=n(9659),s=n(4999),a=new Map;class c extends o.EmitterBase{constructor(e,t){super(t.wire,"application",e.uuid),this.getClient=e=>{this.wire.sendAction("platform-get-client",this.identity).catch((e=>{}));const t=e||this.identity,{uuid:n}=t;if(!a.has(n)){const e=r(this,i).call(this,n);a.set(n,e)}return a.get(n)},i.set(this,(async e=>{try{const t=`custom-frame-${e}`,n=await this._channel.connect(t,{wait:!1});return n.onDisconnection((()=>{a.delete(e)})),n}catch(t){throw a.delete(e),new Error("The targeted Platform is not currently running. Listen for application-started event for the given Uuid.")}})),this.launchLegacyManifest=this.launchContentManifest;const n=s.validateIdentity(e);if(n)throw new Error(n);this._channel=t,this.identity={uuid:e.uuid},this.Layout=this.fin.Platform.Layout,this.Application=this.fin.Application.wrapSync(this.identity)}async createView(e,t,n){this.wire.sendAction("platform-create-view",this.identity).catch((e=>{}));const i=await this.getClient(),r=await i.dispatch("create-view",{target:t,opts:e,targetView:n});if(!r||s.validateIdentity(r.identity))throw new Error(`When overwriting the createView call, please return an object that has a valid 'identity' property: ${JSON.stringify(r)}`);return this.fin.View.wrapSync(r.identity)}async createWindow(e){this.wire.sendAction("platform-create-window",this.identity).catch((e=>{}));const t=await this.getClient();e.reason||(e.reason="api-call");const n=await t.dispatch("create-view-container",e);if(!n||s.validateIdentity(n.identity))throw new Error(`When overwriting the createWindow call, please return an object that has a valid 'identity' property: ${JSON.stringify(n)}`);const{identity:i}=n,r=this.fin.Window.wrapSync(i);return r.name=i.name,r.uuid=i.uuid,r}async quit(){return this.wire.sendAction("platform-quit",this.identity).catch((e=>{})),(await this.getClient()).dispatch("quit")}async closeView(e){this.wire.sendAction("platform-close-view",this.identity).catch((e=>{}));const t=await this.getClient();await t.dispatch("close-view",{view:e})}async reparentView(e,t){var n;console.warn("Platform.reparentView has been deprecated, please use Platform.createView"),this.wire.sendAction("platform-reparent-view",this.identity).catch((e=>{}));const i={...e,uuid:null!==(n=e.uuid)&&void 0!==n?n:this.identity.uuid},r=await this.fin.View.wrap(i),o=await r.getOptions();return this.createView(o,t)}async getSnapshot(){return this.wire.sendAction("platform-get-snapshot",this.identity).catch((e=>{})),(await this.getClient()).dispatch("get-snapshot")}async applySnapshot(e,t){this.wire.sendAction("platform-apply-snapshot",this.identity).catch((e=>{}));const n="Requested snapshot must be a valid Snapshot object, or a url or filepath to such an object.";let i;if("string"==typeof e)try{i=(await this._channel.wire.sendAction("get-application-manifest",{manifestUrl:e})).payload.data}catch(e){throw new Error(`${n}: ${e}`)}else i=e;if(!i.windows)throw new Error(n);const r=await this.getClient();return await r.dispatch("apply-snapshot",{snapshot:i,options:t}),this}async fetchManifest(e){return(await this.getClient()).dispatch("platform-fetch-manifest",{manifestUrl:e})}async launchContentManifest(e){this.wire.sendAction("platform-launch-content-manifest",this.identity).catch((e=>{}));const t=await this.getClient(),n=await this.fetchManifest(e);return t.dispatch("launch-into-platform",{manifest:n}),this}async setWindowContext(e={},t){if(this.wire.sendAction("platform-set-window-context",this.identity).catch((e=>{})),!e)throw new Error("Please provide a serializable object or string to set the context.");const n=await this.getClient(),{entityType:i}=t?await this.fin.System.getEntityInfo(t.uuid,t.name):this.fin.me;await n.dispatch("set-window-context",{context:e,entityType:i,target:t||{uuid:this.fin.me.uuid,name:this.fin.me.name}})}async getWindowContext(e){this.wire.sendAction("platform-get-window-context",this.identity).catch((e=>{}));const t=await this.getClient(),{entityType:n}=e?await this.fin.System.getEntityInfo(e.uuid,e.name):this.fin.me;return t.dispatch("get-window-context",{target:e||{uuid:this.fin.me.uuid,name:this.fin.me.name},entityType:n})}}t.Platform=c,i=new WeakMap},4386:(e,t)=>{function n(e){switch(e){case"columns":case"grid":case"rows":case"tabs":return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPresetType=void 0,t.isValidPresetType=n,t.default={isValidPresetType:n}},609:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(7283);t.default=o.default,r(n(9872),t)},4210:function(e,t,n){var i,r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutModule=void 0;const s=n(8111),a=n(9659);class c extends a.Base{constructor(){super(...arguments),i.set(this,void 0),this.init=async(e={})=>{if(this.wire.sendAction("layout-init").catch((e=>{})),!this.fin.me.isWindow)throw new Error("Layout.init can only be called from a Window context.");if(r(this,i))throw new Error("Layout for this window already initialized, please use Layout.replace call to replace the layout.");const t=await this.wire.environment.getManagerConstructor();o(this,i,new t);let{layout:n,containerId:s}=e;n&&console.warn("We recommend using a layout in window options.\n                This layout has not been sanitized and unexpected behavior can occur."),n=n||(await this.fin.Window.getCurrentSync().getOptions()).layout,s=s||"layout-container";const a=document.getElementById(s);return await r(this,i).initManager(),await r(this,i).createLayout(n,a),Object.assign(this.getCurrentSync(),{layoutManager:r(this,i)})}}async wrap(e){return this.wire.sendAction("layout-wrap").catch((e=>{})),new s.Layout(e,this.wire)}wrapSync(e){return this.wire.sendAction("layout-wrap-sync").catch((e=>{})),new s.Layout(e,this.wire)}async getCurrent(){if(this.wire.sendAction("layout-get-current").catch((e=>{})),!this.fin.me.isWindow)throw new Error("You are not in a Window context.  Only Windows can have a Layout.");const{uuid:e,name:t}=this.fin.me;return this.wrap({uuid:e,name:t})}getCurrentSync(){if(this.wire.sendAction("layout-get-current-sync").catch((e=>{})),!this.fin.me.isWindow)throw new Error("You are not in a Window context.  Only Windows can have a Layout.");const{uuid:e,name:t}=this.fin.me;return this.wrapSync({uuid:e,name:t})}}t.LayoutModule=c,i=new WeakMap},8111:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;const i=n(4999),r=n(4386),o=n(9659);class s extends o.Base{constructor(e,t){super(t),this.replace=async e=>{this.wire.sendAction("layout-replace").catch((e=>{}));const t=await this.platform.getClient();await t.dispatch("replace-layout",{target:this.identity,opts:{layout:e}})},this.replaceView=async(e,t)=>{this.wire.sendAction("layout-replace-view").catch((e=>{}));const n=await this.platform.getClient();await n.dispatch("replace-view",{target:this.identity,opts:{viewToReplace:e,newView:t}})},this.applyPreset=async e=>{this.wire.sendAction("layout-apply-preset").catch((e=>{}));const t=await this.platform.getClient(),{presetType:n}=e;if(!n||!r.isValidPresetType(n))throw new Error("Cannot apply preset layout, please include an applicable presetType property in the PresetLayoutOptions.");await t.dispatch("apply-preset-layout",{target:this.identity,opts:{presetType:n}})};const n=i.validateIdentity(e);if(n)throw new Error(n);this.identity=e,this.platform=this.fin.Platform.wrapSync({uuid:e.uuid}),e.uuid===this.fin.me.uuid&&e.name===this.fin.me.name&&(this.init=this.fin.Platform.Layout.init)}async getConfig(){return this.wire.sendAction("layout-get-config").catch((e=>{})),(await this.platform.getClient()).dispatch("get-frame-snapshot",{target:this.identity})}}t.Layout=s},6394:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4210),t),r(n(8111),t)},1746:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(2878),o=n(6215);class s extends i.Base{async init(e){if(this.wire.sendAction("snapshot-source-init").catch((e=>{})),"object"!=typeof e||"function"!=typeof e.getSnapshot||"function"!=typeof e.applySnapshot)throw new Error("you must pass in a valid SnapshotProvider");const t=await this.fin.InterApplicationBus.Channel.create(o.getSnapshotSourceChannelName(fin.me.identity));t.register("get-snapshot",(async()=>({snapshot:await e.getSnapshot()}))),t.register("apply-snapshot",(({snapshot:t})=>e.applySnapshot(t)))}wrapSync(e){return this.wire.sendAction("snapshot-source-wrap-sync").catch((e=>{})),new r.SnapshotSource(this.wire,e)}async wrap(e){return this.wire.sendAction("snapshot-source-wrap").catch((e=>{})),this.wrapSync(e)}}t.default=s},2878:function(e,t,n){var i,r,o,s,a,c=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},d=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.SnapshotSource=void 0;const h=n(9659),l=n(6215),u=new Map;class p extends h.Base{constructor(e,t){super(e),i.set(this,void 0),r.set(this,(()=>(u.has(this.identity.uuid)||u.set(this.identity.uuid,{eventFired:null,clientPromise:null}),u.get(this.identity.uuid)))),o.set(this,(()=>(d(this,r).call(this).clientPromise||(d(this,r).call(this).clientPromise=d(this,s).call(this)),d(this,r).call(this).clientPromise))),s.set(this,(async()=>{const e=l.getSnapshotSourceChannelName(this.identity);try{d(this,r).call(this).eventFired||await d(this,a).call(this);const t=await this.fin.InterApplicationBus.Channel.connect(e,{wait:!1});return t.onDisconnection((()=>{d(this,r).call(this).clientPromise=null,d(this,r).call(this).eventFired=null})),t}catch(e){throw d(this,r).call(this).clientPromise=null,new Error("The targeted SnapshotSource is not currently initialized. Await this object's ready() method.")}})),a.set(this,(async()=>{const e=l.getSnapshotSourceChannelName(this.identity);let t,n;const i=new Promise(((e,i)=>{t=e,n=i}));d(this,r).call(this).eventFired=i;const o=async i=>{try{i.channelName===e&&(t(),await this.fin.InterApplicationBus.Channel.removeListener("connected",o))}catch(e){n(e)}};await this.fin.InterApplicationBus.Channel.on("connected",o)})),c(this,i,t)}get identity(){return d(this,i)}async ready(){this.wire.sendAction("snapshot-source-ready").catch((e=>{}));try{await d(this,o).call(this)}catch(e){await d(this,r).call(this).eventFired}}async getSnapshot(){this.wire.sendAction("snapshot-source-get-snapshot").catch((e=>{}));const e=await d(this,o).call(this),t=await e.dispatch("get-snapshot");return(await t).snapshot}async applySnapshot(e){return this.wire.sendAction("snapshot-source-apply-snapshot").catch((e=>{})),(await d(this,o).call(this)).dispatch("apply-snapshot",{snapshot:e})}}t.SnapshotSource=p,i=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap},7153:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1746);t.default=o.default,r(n(2878),t)},6215:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSnapshotSourceChannelName=void 0,t.getSnapshotSourceChannelName=e=>`snapshot-source-provider-${e.uuid}`},3641:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(5007),o=n(4997);class s extends i.EmitterBase{constructor(e){super(e,"system")}sendExternalProcessRequest(e,t){return new Promise(((n,i)=>{const r="external-process-exited";let s,a,c,d;"function"==typeof t.listener&&(c=e=>{const n=e||{};a={topic:"exited",uuid:n.processUuid||"",exitCode:n.exitCode||0},s===e.processUuid&&(t.listener(a),d.removeListener(r,c))},this.wire.me.name||(this.wire.me.name=this.wire.me.uuid),d=new o._Window(this.wire,this.wire.me),d.on(r,c)),this.wire.sendAction(e,t).then((({payload:e})=>{s=e.data.uuid,n(e.data),a&&s===a.uuid&&(t.listener(a),d.removeListener(r,c))})).catch((e=>{d&&d.removeListener(r,c),i(e)}))}))}getVersion(){return this.wire.sendAction("get-version").then((({payload:e})=>e.data))}clearCache(e){return this.wire.sendAction("clear-cache",e).then((()=>{}))}deleteCacheOnExit(){return this.wire.sendAction("delete-cache-request").then((()=>{}))}exit(){return this.wire.sendAction("exit-desktop").then((()=>{}))}async fetchManifest(e){const{payload:{data:t}}=await this.wire.sendAction("fetch-manifest",{manifestUrl:e});return t}flushCookieStore(){return this.wire.sendAction("flush-cookie-store").then((()=>{}))}getAllWindows(){return this.wire.sendAction("get-all-windows").then((({payload:e})=>e.data))}getAllApplications(){return this.wire.sendAction("get-all-applications").then((({payload:e})=>e.data))}getCommandLineArguments(){return this.wire.sendAction("get-command-line-arguments").then((({payload:e})=>e.data))}async getCrashReporterState(){const{payload:{data:{diagnosticMode:e,isRunning:t}}}=await this.wire.sendAction("get-crash-reporter-state");return console.warn("diagnosticMode property is deprecated. It will be removed in a future version"),{diagnosticMode:e,diagnosticsMode:e,isRunning:t}}async startCrashReporter(e){const t=e,n={...t,diagnosticMode:t.diagnosticsMode||t.diagnosticMode},{payload:{data:{diagnosticMode:i,isRunning:r}}}=await this.wire.sendAction("start-crash-reporter",n);return{diagnosticMode:i,diagnosticsMode:i,isRunning:r}}getUniqueUserId(){return this.wire.sendAction("get-unique-user-id").then((({payload:e})=>e.data))}getEntityInfo(e,t){return this.wire.sendAction("get-entity-info",{uuid:e,name:t}).then((({payload:e})=>e.data))}getEnvironmentVariable(e){return this.wire.sendAction("get-environment-variable",{environmentVariables:e}).then((({payload:e})=>e.data))}getFocusedWindow(){return this.wire.sendAction("get-focused-window").then((({payload:e})=>e.data))}async isAppCertified(e){const{payload:{data:{certifiedInfo:t}}}=await this.wire.sendAction("is-app-certified",{manifestUrl:e});return t}getInstalledRuntimes(){return this.wire.sendAction("get-installed-runtimes").then((({payload:e})=>e.data.runtimes))}async getInstalledApps(){const{payload:{data:{installedApps:e}}}=await this.wire.sendAction("get-installed-apps");return e}getLog(e){return this.wire.sendAction("view-log",e).then((({payload:e})=>e.data))}getMachineId(){return this.wire.sendAction("get-machine-id").then((({payload:e})=>e.data))}getMinLogLevel(){return this.wire.sendAction("get-min-log-level").then((({payload:e})=>e.data))}getLogList(){return this.wire.sendAction("list-logs").then((({payload:e})=>e.data))}getMonitorInfo(){return this.wire.sendAction("get-monitor-info").then((({payload:e})=>e.data))}getMousePosition(){return this.wire.sendAction("get-mouse-position").then((({payload:e})=>e.data))}getProcessList(){return console.warn("System.getProcessList has been deprecated. Please consider using our new process APIs: Window.getProcessInfo, View.getProcessInfo, Application.getProcessInfo, System.getAllProcessInfo"),this.wire.sendAction("process-snapshot").then((({payload:e})=>e.data))}async getAllProcessInfo(){const{payload:{data:e}}=await this.wire.sendAction("get-all-process-info",this.identity);return e}getProxySettings(){return this.wire.sendAction("get-proxy-settings").then((({payload:e})=>e.data))}getRuntimeInfo(){return this.wire.sendAction("get-runtime-info").then((({payload:e})=>e.data))}getRvmInfo(){return this.wire.sendAction("get-rvm-info").then((({payload:e})=>e.data))}getHostSpecs(){return this.wire.sendAction("get-host-specs").then((({payload:e})=>e.data))}launchExternalProcess(e){return this.sendExternalProcessRequest("launch-external-process",e)}monitorExternalProcess(e){return this.sendExternalProcessRequest("monitor-external-process",e)}log(e,t){return this.wire.sendAction("write-to-log",{level:e,message:t}).then((()=>{}))}openUrlWithBrowser(e){return this.wire.sendAction("open-url-with-browser",{url:e}).then((()=>{}))}releaseExternalProcess(e){return this.wire.sendAction("release-external-process",{uuid:e}).then((()=>{}))}showDeveloperTools(e){return this.wire.sendAction("show-developer-tools",e).then((()=>{}))}terminateExternalProcess(e){return this.wire.sendAction("terminate-external-process",e).then((()=>{}))}updateProxySettings(e){return this.wire.sendAction("update-proxy",e).then((()=>{}))}downloadAsset(e,t){return new Promise(((n,i)=>{if("NodeEnvironment"===this.wire.environment.constructor.name)return void i(new r.NotSupportedError("downloadAsset only supported in an OpenFin Render process"));const o=this.wire.environment.getNextMessageId().toString(),s=`asset-download-progress-${o}`,a=`asset-download-error-${o}`,c=`asset-download-complete-${o}`,d=e=>{const n={downloadedBytes:e.downloadedBytes,totalBytes:e.totalBytes};t(n)},h=()=>{this.removeListener(s,d)};this.on(s,d),this.once(a,((e,t)=>{const n=t||e;h(),i(new r.RuntimeError(n))})),this.once(c,(()=>{h(),n()}));const l=Object.assign(e,{downloadId:o});this.wire.sendAction("download-asset",l).catch((e=>{h(),i(e)}))}))}downloadRuntime(e,t){return new Promise(((n,i)=>{if("NodeEnvironment"===this.wire.environment.constructor.name)return void i(new r.NotSupportedError("downloadRuntime only supported in an OpenFin Render process"));const o=this.wire.environment.getNextMessageId().toString(),s=`runtime-download-progress-${o}`,a=`runtime-download-error-${o}`,c=`runtime-download-complete-${o}`,d=e=>{const n={downloadedBytes:e.downloadedBytes,totalBytes:e.totalBytes};t(n)},h=()=>{this.removeListener(s,d)};this.on(s,d),this.once(a,((e,t)=>{const n=t||e;h(),i(new r.RuntimeError(n))})),this.once(c,(()=>{h(),n()}));const l=Object.assign(e,{downloadId:o});this.wire.sendAction("download-runtime",l).catch((e=>{h(),i(e)}))}))}downloadPreloadScripts(e){return this.wire.sendAction("download-preload-scripts",{scripts:e}).then((({payload:e})=>e.data))}getAllExternalApplications(){return this.wire.sendAction("get-all-external-applications").then((({payload:e})=>e.data))}getAppAssetInfo(e){return this.wire.sendAction("get-app-asset-info",e).then((({payload:e})=>e.data))}getCookies(e){const t=this.wire.environment.getUrl(),n=Object.assign(e,{url:t});return this.wire.sendAction("get-cookies",n).then((({payload:e})=>e.data))}setMinLogLevel(e){return this.wire.sendAction("set-min-log-level",{level:e}).then((()=>{}))}resolveUuid(e){return this.wire.sendAction("resolve-uuid",{entityKey:e}).then((({payload:e})=>e.data))}executeOnRemote(e,t){return t.requestingIdentity=e,this.wire.ferryAction(t)}readRegistryValue(e,t,n){return this.wire.sendAction("read-registry-value",{rootKey:e,subkey:t,value:n}).then((({payload:e})=>e.data))}registerExternalConnection(e){return this.wire.sendAction("register-external-connection",{uuid:e}).then((({payload:e})=>e.data))}async getServiceConfiguration(e){if("string"!=typeof e.name)throw new Error("Must provide an object with a `name` property having a string value");const{name:t}=e;return this.wire.sendAction("get-service-configuration",{name:t}).then((({payload:e})=>e.data))}async getSystemAppConfig(e){if("string"!=typeof e)throw new Error("Must provide a string value for name of system app");return this.wire.sendAction("get-system-app-configuration",{name:e}).then((({payload:e})=>e.data))}runRvmHealthCheck(){return this.wire.sendAction("run-rvm-health-check").then((({payload:e})=>e.data))}async launchManifest(e,t){return(await this.wire.sendAction("launch-manifest",{manifestUrl:e,opts:t})).payload.data.manifest}async queryPermissionForCurrentContext(e){const t={uuid:this.wire.me.uuid,name:this.wire.me.name};return(await this.wire.sendAction("query-permission-for-current-context",{apiName:e,identity:t})).payload.data}async enableNativeWindowIntegrationProvider(e){const{payload:t}=await this.wire.sendAction("enable-native-window-integration-provider",{permissions:e});return t.data}async registerUsage({data:e,type:t}){await this.wire.sendAction("register-usage",{data:e,type:t})}}t.default=s},240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(4169);class s extends i.Base{async create(e){const{uuid:t}=this.wire.me;if(!e.name||"string"!=typeof e.name)throw new Error("Please provide a name property as a string in order to create a View.");return this.wire.environment.childViews?await this.wire.environment.createChildContent({entityType:"view",options:{...e,uuid:t}}):await this.wire.sendAction("create-view",{...e,uuid:t}),this.wrapSync({uuid:t,name:e.name})}async wrap(e){this.wire.sendAction("view-wrap");const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.View(this.wire,e)}wrapSync(e){this.wire.sendAction("view-wrap-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o.View(this.wire,e)}getCurrent(){if(this.wire.sendAction("view-get-current").catch((e=>{})),!this.wire.me.isView)throw new Error("You are not in a View context");const{uuid:e,name:t}=this.wire.me;return this.wrap({uuid:e,name:t})}getCurrentSync(){if(this.wire.sendAction("view-get-current-sync").catch((e=>{})),!this.wire.me.isView)throw new Error("You are not in a View context");const{uuid:e,name:t}=this.wire.me;return this.wrapSync({uuid:e,name:t})}}t.default=s},3163:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;const i=n(4636),r=n(4997);class o extends i.WebContents{constructor(e,t){super(e,t,"view"),this.identity=t,this.attach=async e=>{await this.wire.sendAction("attach-view",{target:e,...this.identity})},this.destroy=async()=>{await this.wire.sendAction("destroy-view",{...this.identity})},this.show=async()=>{await this.wire.sendAction("show-view",{...this.identity})},this.hide=async()=>{await this.wire.sendAction("hide-view",{...this.identity})},this.setBounds=async e=>{await this.wire.sendAction("set-view-bounds",{bounds:e,...this.identity})},this.getBounds=async()=>(await this.wire.sendAction("get-view-bounds",{...this.identity})).payload.data,this.getInfo=async()=>(await this.wire.sendAction("get-view-info",{...this.identity})).payload.data,this.getParentLayout=async()=>(this.wire.sendAction("view-get-parent-layout",{...this.identity}).catch((e=>{})),(await this.getCurrentWindow()).getLayout()),this.getOptions=async()=>this.wire.sendAction("get-view-options",{...this.identity}).then((({payload:e})=>e.data)),this.updateOptions=async e=>this.wire.sendAction("update-view-options",{options:e,...this.identity}).then((()=>{})),this.getCurrentWindow=async()=>{const{payload:{data:e}}=await this.wire.sendAction("get-view-window",{...this.identity});return new r._Window(this.wire,e)}}async focus({emitSynthFocused:e}={emitSynthFocused:!0}){const t=await this.getCurrentWindow();await t.focusedWebViewWasChanged(),await super.focus({emitSynthFocused:e})}}t.View=o},4169:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(240);t.default=o.default,r(n(3163),t)},4636:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebContents=void 0;const i=n(9659);class r extends i.EmitterBase{constructor(e,t,n){super(e,n,t.uuid,t.name),this.entityType=n}capturePage(e){return this.wire.sendAction("capture-page",{options:e,...this.identity}).then((({payload:e})=>e.data))}executeJavaScript(e){return this.wire.sendAction("execute-javascript-in-window",{...this.identity,code:e}).then((({payload:e})=>e.data))}getZoomLevel(){return this.wire.sendAction("get-zoom-level",this.identity).then((({payload:e})=>e.data))}setZoomLevel(e){return this.wire.sendAction("set-zoom-level",{...this.identity,level:e}).then((()=>{}))}navigate(e){return this.wire.sendAction("navigate-window",{...this.identity,url:e}).then((()=>{}))}navigateBack(){return this.wire.sendAction("navigate-window-back",{...this.identity}).then((()=>{}))}async navigateForward(){await this.wire.sendAction("navigate-window-forward",{...this.identity})}stopNavigation(){return this.wire.sendAction("stop-window-navigation",{...this.identity}).then((()=>{}))}reload(e=!1){return this.wire.sendAction("reload-window",{ignoreCache:e,...this.identity}).then((()=>{}))}print(e){return this.wire.sendAction("print",{...this.identity,options:e}).then((()=>{}))}findInPage(e,t){return this.wire.sendAction("find-in-page",{...this.identity,searchTerm:e,options:t}).then((({payload:e})=>e.data))}stopFindInPage(e){return this.wire.sendAction("stop-find-in-page",{...this.identity,action:e}).then((()=>{}))}getPrinters(){return this.wire.sendAction("get-printers",{...this.identity}).then((({payload:e})=>e.data))}async focus({emitSynthFocused:e}={emitSynthFocused:!0}){await this.wire.sendAction("focus-window",{emitSynthFocused:e,...this.identity})}async showDeveloperTools(){await this.wire.sendAction("show-developer-tools",this.identity)}async getProcessInfo(){const{payload:{data:e}}=await this.wire.sendAction("get-process-info",this.identity);return e}async getSharedWorkers(){return this.wire.sendAction("get-shared-workers",this.identity).then((({payload:e})=>e.data))}async inspectSharedWorker(){await this.wire.sendAction("inspect-shared-worker",{...this.identity})}async inspectSharedWorkerById(e){await this.wire.sendAction("inspect-shared-worker-by-id",{...this.identity,workerId:e})}async inspectServiceWorker(){await this.wire.sendAction("inspect-service-worker",{...this.identity})}}t.WebContents=r},2163:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9659),r=n(4999),o=n(5047);class s extends i.Base{async wrap(e){this.wire.sendAction("window-wrap").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Window(this.wire,e)}wrapSync(e){this.wire.sendAction("window-wrap-sync").catch((e=>{}));const t=r.validateIdentity(e);if(t)throw new Error(t);return new o._Window(this.wire,e)}create(e){return this.wire.sendAction("create-window").catch((e=>{})),new o._Window(this.wire,{uuid:this.me.uuid,name:e.name}).createWindow(e)}getCurrent(){if(this.wire.sendAction("get-current-window").catch((e=>{})),!this.wire.me.isWindow)throw new Error("You are not in a Window context");const{uuid:e,name:t}=this.wire.me;return this.wrap({uuid:e,name:t})}getCurrentSync(){if(this.wire.sendAction("get-current-window-sync").catch((e=>{})),!this.wire.me.isWindow)throw new Error("You are not in a Window context");const{uuid:e,name:t}=this.wire.me;return this.wrapSync({uuid:e,name:t})}}t.default=s},5047:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._Window=void 0;const i=n(7264),r=n(4636),o=n(4169);class s extends r.WebContents{constructor(e,t){super(e,t,"window"),this.identity=t}createWindow(e){return this.wire.sendAction("window-create-window",this.identity).catch((e=>{})),new Promise(((t,n)=>{const i="fire-constructor-callback",r=new Promise((e=>{this.on(i,(function t(n){let r;const{success:o}=n,s=n.data,{message:a}=s;r=o?{httpResponseCode:s.httpResponseCode,apiInjected:s.apiInjected}:{message:s.message,networkErrorCode:s.networkErrorCode,stack:s.stack},this.removeListener(i,t),e({message:a,cbPayload:r,success:o})}))}));void 0===e.waitForPageLoad&&(e.waitForPageLoad=!1),void 0===e.autoShow&&(e.autoShow=!0);const o=this.wire.environment.createChildContent({entityType:"window",options:e});Promise.all([r,o]).then((e=>{const i=e[0];i.success?t(this):n(i);try{this.getWebWindow().fin.__internal_.openerSuccessCBCalled()}catch(e){}})).catch(n)}))}getAllFrames(){return this.wire.sendAction("get-all-frames",this.identity).then((({payload:e})=>e.data))}getBounds(){return this.wire.sendAction("get-window-bounds",this.identity).then((({payload:e})=>e.data))}center(){return this.wire.sendAction("center-window",this.identity).then((()=>{}))}blur(){return this.wire.sendAction("blur-window",this.identity).then((()=>{}))}bringToFront(){return this.wire.sendAction("bring-window-to-front",this.identity).then((()=>{}))}animate(e,t){return this.wire.sendAction("animate-window",{transitions:e,options:t,...this.identity}).then((()=>{}))}hide(){return this.wire.sendAction("hide-window",this.identity).then((()=>{}))}close(e=!1){return this.wire.sendAction("close-window",{force:e,...this.identity}).then((()=>{Object.setPrototypeOf(this,null)}))}focusedWebViewWasChanged(){return this.wire.sendAction("focused-webview-changed",this.identity).then((()=>{}))}getNativeId(){return this.wire.sendAction("get-window-native-id",this.identity).then((({payload:e})=>e.data))}async getCurrentViews(){const{payload:e}=await this.wire.sendAction("window-get-views",this.identity);return e.data.map((e=>new o.View(this.wire,e)))}disableFrame(){return console.warn("Function is deprecated; use disableUserMovement instead."),this.wire.sendAction("disable-window-frame",this.identity).then((()=>{}))}disableUserMovement(){return this.wire.sendAction("disable-window-frame",this.identity).then((()=>{}))}enableFrame(){return console.warn("Function is deprecated; use enableUserMovement instead."),this.wire.sendAction("enable-window-frame",this.identity).then((()=>{}))}enableUserMovement(){return this.wire.sendAction("enable-window-frame",this.identity).then((()=>{}))}flash(){return this.wire.sendAction("flash-window",this.identity).then((()=>{}))}stopFlashing(){return this.wire.sendAction("stop-flash-window",this.identity).then((()=>{}))}getInfo(){return this.wire.sendAction("get-window-info",this.identity).then((({payload:e})=>e.data))}async getLayout(){if(this.wire.sendAction("window-get-layout",this.identity).catch((e=>{})),!(await this.getOptions()).layout)throw new Error("Window does not have a Layout");return this.fin.Platform.Layout.wrap(this.identity)}getOptions(){return this.wire.sendAction("get-window-options",this.identity).then((({payload:e})=>e.data))}getParentApplication(){return this.wire.sendAction("window-get-parent-application",this.identity).catch((e=>{})),Promise.resolve(new i.Application(this.wire,this.identity))}getParentWindow(){return this.wire.sendAction("window-get-parent-window",this.identity).catch((e=>{})),Promise.resolve(new i.Application(this.wire,this.identity)).then((e=>e.getWindow()))}async getSnapshot(e){const t={area:e,...this.identity};return console.warn("Window.getSnapshot has been deprecated, please use Window.capturePage"),(await this.wire.sendAction("get-window-snapshot",t)).payload.data}getState(){return this.wire.sendAction("get-window-state",this.identity).then((({payload:e})=>e.data))}getWebWindow(){return this.wire.sendAction("window-get-web-window",this.identity).catch((e=>{})),this.wire.environment.getWebWindow(this.identity)}isMainWindow(){return this.wire.sendAction("window-is-main-window",this.identity).catch((e=>{})),this.me.uuid===this.me.name}isShowing(){return this.wire.sendAction("is-window-showing",this.identity).then((({payload:e})=>e.data))}maximize(){return this.wire.sendAction("maximize-window",this.identity).then((()=>{}))}minimize(){return this.wire.sendAction("minimize-window",this.identity).then((()=>{}))}moveBy(e,t){return this.wire.sendAction("move-window-by",{deltaLeft:e,deltaTop:t,...this.identity}).then((()=>{}))}moveTo(e,t){return this.wire.sendAction("move-window",{left:e,top:t,...this.identity}).then((()=>{}))}resizeBy(e,t,n){return this.wire.sendAction("resize-window-by",{deltaWidth:Math.floor(e),deltaHeight:Math.floor(t),anchor:n,...this.identity}).then((()=>{}))}resizeTo(e,t,n){return this.wire.sendAction("resize-window",{width:Math.floor(e),height:Math.floor(t),anchor:n,...this.identity}).then((()=>{}))}restore(){return this.wire.sendAction("restore-window",this.identity).then((()=>{}))}setAsForeground(){return this.wire.sendAction("set-foreground-window",this.identity).then((()=>{}))}setBounds(e){return this.wire.sendAction("set-window-bounds",{...e,...this.identity}).then((()=>{}))}show(e=!1){return this.wire.sendAction("show-window",{force:e,...this.identity}).then((()=>{}))}showAt(e,t,n=!1){return this.wire.sendAction("show-at-window",{force:n,left:Math.floor(e),top:Math.floor(t),...this.identity}).then((()=>{}))}updateOptions(e){return this.wire.sendAction("update-window-options",{options:e,...this.identity}).then((()=>{}))}authenticate(e,t){return this.wire.sendAction("window-authenticate",{userName:e,password:t,...this.identity}).then((()=>{}))}async showPopupMenu(e){const{payload:t}=await this.wire.sendAction("show-popup-menu",{options:e,...this.identity});return t.data}async closePopupMenu(){return this.wire.sendAction("close-popup-menu",{...this.identity}).then((()=>{}))}}t._Window=s},4997:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2163);t.default=o.default,r(n(5047),t)},1681:(e,t,n)=>{var i;t.H=void 0;const r=n(6465),o=n(6545),s=n(9298);class a extends r.EventEmitter{connect(e){throw new Error("You are not running in OpenFin.")}connectSync(){throw new Error("You are not running in OpenFin.")}send(e){throw new Error("You are not running in OpenFin.")}shutdown(){throw new Error("You are not running in OpenFin.")}constructor(){super()}}class c{constructor(){this.childViews=!0}getDefaultChannelOptions(){throw new Error("Method not implemented.")}getRtcPeer(){throw new Error("Method not implemented.")}getManagerConstructor(){throw new Error("Method not implemented.")}getProviderInitializer(){throw new Error("Method not implemented.")}writeToken(e,t){throw new Error("Method not implemented.")}retrievePort(e){throw new Error("Method not implemented.")}getNextMessageId(){throw new Error("Method not implemented.")}getRandomId(){throw new Error("Method not implemented.")}createChildContent(e){throw new Error("Method not implemented.")}getWebWindow(e){throw new Error("Method not implemented.")}getCurrentEntityIdentity(){throw new Error("Method not implemented.")}getCurrentEntityType(){return"unknown"}raiseEvent(e,t){throw new Error("Method not implemented.")}getUrl(){throw new Error("Method not implemented.")}whenReady(){throw new Error("Method not implemented.")}}t.H="undefined"!=typeof window&&(null===(i=window)||void 0===i?void 0:i.fin)||(()=>{const e=new c,t=new s.default(a,e,{uuid:"",name:""});return new o.default(t)})()},8068:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFin=t.registerFin=void 0;const n=new WeakMap;t.registerFin=function(e,t){n.set(e,t)},t.getFin=function(e){const t=n.get(e);if(!t)throw new Error("Could not locate fin api for given transport");return t}},5007:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeError=t.NotSupportedError=t.NotImplementedError=t.NoAckError=t.DuplicateCorrelationError=t.UnexpectedActionError=t.DisconnectedError=void 0;class n extends Error{constructor(e){super(`Expected websocket state OPEN but found ${e}`),this.readyState=e}}t.DisconnectedError=n;class i extends Error{}t.UnexpectedActionError=i;class r extends Error{}t.DuplicateCorrelationError=r;class o extends Error{}t.NoAckError=o;class s extends Error{}t.NotImplementedError=s;class a extends Error{}t.NotSupportedError=a;class c extends Error{constructor(e){const t=e.payload||e,{reason:n,error:i}=t;super(n),this.name="RuntimeError",(null==i?void 0:i.stack)&&(this.stack=i.stack)}}t.RuntimeError=c},9298:function(e,t,n){var i,r=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const s=n(6465),a=n(8624),c=n(5007),d=n(2734),h=n(9641);class l extends s.EventEmitter{constructor(e,t,n){super(),this.wireListeners=new Map,this.topicRefMap=new Map,this.eventAggregator=new d.default,this.messageHandlers=[this.eventAggregator.dispatchEvent],i.set(this,void 0),this.connectSync=()=>{o(this,i).connectSync()},this.getPort=()=>{if("NodeEnvironment"!==this.environment.constructor.name)throw new c.NotImplementedError("Not Implemented");return o(this,i).wire.url.split(":").slice(-1)[0]},r(this,i,new e(this.onmessage.bind(this))),this.environment=t,this.sendRaw=o(this,i).send.bind(o(this,i)),this.registerMessageHandler(this.handleMessage.bind(this)),o(this,i).on("disconnected",(()=>{for(const[,{reject:e}]of this.wireListeners)e("Remote connection has closed");this.wireListeners.clear(),this.emit("disconnected")}));const{uuid:s,name:a}=n,l=this.environment.getCurrentEntityType();this.me=h.getBaseMe(l,s,a)}shutdown(){return o(this,i).shutdown()}async connect(e){if(a.isExistingConnectConfig(e))return this.connectByPort(e);if(a.isNewConnectConfig(e)){const t=await this.environment.retrievePort(e);return this.connectByPort({...e,address:`ws://localhost:${t}`})}}async connectByPort(e){const{address:t,uuid:n}=e,r={...e,type:"file-token"},s=o(this,i);await s.connect(t);const a=await this.sendAction("request-external-authorization",{uuid:n,type:"file-token"},!0);if("external-authorization-response"!==a.action)throw new c.UnexpectedActionError(a.action);const{token:d}=a.payload;await this.environment.writeToken(a.payload.file,a.payload.token);const h=await this.sendAction("request-authorization",r,!0);if("authorization-response"!==h.action)throw new c.UnexpectedActionError(h.action);if(!0!==h.payload.success)throw new c.RuntimeError(h.payload);return d}sendAction(e,t={},n=!1){return new Promise(((r,s)=>{const a=this.environment.getNextMessageId(),c={action:e,payload:t,messageId:a},d=o(this,i);return this.addWireListener(a,r,s,n),d.send(c).catch(s)}))}ferryAction(e){return new Promise(((t,n)=>{const r=this.environment.getNextMessageId();e.messageId=r;const s=e=>{t(e.payload)};return o(this,i).send(e).then((()=>this.addWireListener(r,s,n,!1))).catch(n)}))}registerMessageHandler(e){this.messageHandlers.push(e)}addWireListener(e,t,n,i){i?this.uncorrelatedListener=t:this.wireListeners.has(e)?n(new c.DuplicateCorrelationError(String(e))):this.wireListeners.set(e,{resolve:t,reject:n})}onmessage(e){for(const t of this.messageHandlers)t.call(null,e)}handleMessage(e){const t=e.correlationId||NaN;if("correlationId"in e){if(!this.wireListeners.has(t))return!1;{const{resolve:n,reject:i}=this.wireListeners.get(t);"ack"!==e.action?i(new c.NoAckError(e.action)):"payload"in e?e.payload.success?n.call(null,e):i(new c.RuntimeError(e.payload)):i(new c.RuntimeError(e)),this.wireListeners.delete(t)}}else this.uncorrelatedListener&&this.uncorrelatedListener.call(null,e),this.uncorrelatedListener=()=>{};return!0}}i=new WeakMap,t.default=l},8624:(e,t)=>{function n(e){return"string"==typeof e.manifestUrl}function i(e){return r(e)&&"string"==typeof e.address}function r(e){return"string"==typeof e.uuid}function o(e){return e.runtime&&"string"==typeof e.runtime.version}function s(e){return r(e)&&o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isInternalConnectConfig=t.isPortDiscoveryConfig=t.isNewConnectConfig=t.isExistingConnectConfig=t.isExternalConfig=void 0,t.isExternalConfig=n,t.isExistingConnectConfig=i,t.isNewConnectConfig=s,t.isPortDiscoveryConfig=function(e){return n(e)&&o(e)||s(e)},t.isInternalConnectConfig=function(e){return i(e)||s(e)}},2366:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.errorToPOJO=void 0,t.errorToPOJO=function(e){return{stack:e.stack,message:e.message,toString:e.toString}}},3917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustiveCheck=void 0,t.exhaustiveCheck=function(e,t){throw new Error(`Unsupported value: ${e}${t?`\n Supported values are: ${t.join("")}`:""}`)}},3442:(e,t)=>{async function n(e){const t=[];for(const n of e){const e=await n();t.push(e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.promiseMapSerial=t.serial=t.promiseMap=t.promisify=void 0,t.promisify=function(e){return(...t)=>new Promise(((n,i)=>{e(...t,((e,t)=>e?i(e):n(t)))}))},t.promiseMap=async function(e,t){return Promise.all(e.map(t))},t.serial=n,t.promiseMapSerial=async function(e,t){return n(e.map(((e,n,i)=>()=>t(e,n,i))))}},3127:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.topicRefMap=new Map}incRefCount(e){const t=this.topicRefMap.get(e);let n;if(t){const i=t+1;n=i,this.topicRefMap.set(e,i)}else this.topicRefMap.set(e,1),n=1;return n}decRefCount(e){const t=this.topicRefMap.get(e);let n;if(t){const i=t-1;this.topicRefMap.set(e,i),n=i}else n=-1;return n}actOnFirst(e,t,n){return 1===this.incRefCount(e)?t():n()}actOnLast(e,t,n){return 0===this.decRefCount(e)?t():n()}}},2300:(e,t)=>{function n(e){return[...e.split(".").reverse().entries()].reduce(((e,[t,n])=>e+ +n*1e4**t),0)}function i(e,t){return n(e)>=n(t)}function r(e){return e.split("/")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeUuidMeetsMinimumRuntimeVersion=t.parseRuntimeUuid=t.meetsMinimumRuntimeVersion=void 0,t.meetsMinimumRuntimeVersion=i,t.parseRuntimeUuid=r,t.runtimeUuidMeetsMinimumRuntimeVersion=function(e,t){return i(r(e),t)}},4999:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateIdentity=void 0,t.validateIdentity=function(e){let t;return"object"==typeof e&&"string"==typeof e.uuid||(t="Not a valid identity object"),t}},6465:e=>{var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s,d;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=c(e))>0&&s.length>r&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=s.length,d=h,console&&console.warn&&console.warn(d)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function u(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):w(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function w(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function y(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var d=c.length,h=w(c,d);for(n=0;n<d;++n)i(h[n],this,t)}return!0},o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,s;if(a(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return u(this,e,!0)},o.prototype.rawListeners=function(e){return u(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{n.d(i,{dq:()=>a,MS:()=>s,xQ:()=>c,sO:()=>fe,Zu:()=>ge,I3:()=>me,$U:()=>ve,i0:()=>Ce,cX:()=>d,_W:()=>h,U$:()=>w,U7:()=>y,rd:()=>pe});var e,t,r,o=n(1681);class s extends Error{constructor(e="An unexpected error has occurred",t){var n;super(e),t&&(this.innerError=t&&t),this.stack=null===(n=this.stack)||void 0===n?void 0:n.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class a extends s{constructor(e="Failed to execute adapter function",t){super(e,t)}}class c extends s{constructor(e="Failed to raise event",t){super(e,t)}}class d extends s{constructor(e="Failed to initialize adapter",t){super(e,t)}}class h extends s{constructor(e="Invalid parameter value",t){super(e,t)}}!function(e){e.ActivateWorkbook="ActivateWorkbook",e.ActivateWorksheet="ActivateWorksheet",e.AddWorksheet="AddWorksheet",e.CalculateWorkbook="CalculateWorkbook",e.CalculateWorksheet="CalculateWorksheet",e.ClearAllCells="ClearAllCells",e.ClearAllCellValues="ClearAllCellValues",e.ClearAllCellFormatting="ClearAllCellFormatting",e.ClearCellValues="ClearCellValues",e.ClearCellFormatting="ClearCellFormatting",e.ClearCells="ClearCells",e.CloseWorkbook="CloseWorkbook",e.CreateWorkbook="CreateWorkbook",e.DeleteWorksheet="DeleteWorksheet",e.DeregisterEvent="DeregisterEvent",e.EventFired="EventFired",e.GetCalculationMode="GetCalculationMode",e.GetCells="GetCells",e.GetWorkbookById="GetWorkbookById",e.GetWorkbookName="GetWorkbookName",e.GetWorkbooks="GetWorkbooks",e.GetWorksheetById="GetWorksheetById",e.GetWorksheetByName="GetWorksheetByName",e.GetWorksheetName="GetWorksheetName",e.GetWorksheets="GetWorksheets",e.LogMessage="LogMessage",e.OpenWorkbook="OpenWorkbook",e.ProtectWorksheet="ProtectWorksheet",e.RegisterEvent="RegisterEvent",e.SaveWorkbook="SaveWorkbook",e.SaveWorkbookAs="SaveWorkbookAs",e.SetCellValues="SetCellValues",e.SetCellFormatting="SetCellFormatting",e.SetCellName="SetCellName",e.SetWorksheetName="SetWorksheetName",e.FilterCells="FilterCells",e.QuitApplication="QuitApplication"}(e||(e={})),function(e){e.Activate="Activate",e.AddWorksheet="AddWorksheet",e.Change="Change",e.Close="Close",e.Deactivate="Deactivate",e.DeleteWorksheet="DeleteWorksheet"}(t||(t={})),function(e){e.Workbook="Workbook",e.Worksheet="Worksheet"}(r||(r={}));const l="1.3.0";let u=!1;const p="[@openfin/excel]",w=()=>{u=!1},y=()=>{u=!0,g("v1.3.0")},f=(e,t)=>{u&&(e.innerError?console.error(t?`${p} ${t}`:p,e,"\n\n(inner)",e.innerError):console.error(t?`${p} ${t}`:p,e))},g=(...e)=>{u&&console.log(p,...e)},m=(...e)=>{u&&console.warn(p,...e)};o.H||Object.assign(window,{fin:{}}),Object.assign(o.H,{Integrations:{Excel:{enableLogging:y,disableLogging:w}}});const v=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),C=new Map,I=(t,n)=>async()=>{g(`Worksheet: Activate (${n})`);try{await t.dispatch(e.ActivateWorksheet,n)}catch(e){throw new a}},x=(t,n)=>async()=>{g(`Worksheet: Calculate (${n})`);try{await t.dispatch(e.CalculateWorksheet,n)}catch(e){throw new a}},A=(t,n)=>async()=>{g(`Worksheet: Clear all cell values (${n})`);try{await t.dispatch(e.ClearAllCellValues,n)}catch(e){throw new a}},b=(t,n)=>async()=>{g(`Worksheet: Clear all cell formatting (${n})`);try{await t.dispatch(e.ClearAllCellFormatting,n)}catch(e){throw new a}},E=(t,n)=>async()=>{g(`Worksheet: Clear all cells (${n})`);try{await t.dispatch(e.ClearAllCells,n)}catch(e){throw new a}},P=(t,n)=>async i=>{g(`Worksheet: Clear cell values; cellRange:${i} (${n})`);const r={cellRange:i,objectId:n};try{await t.dispatch(e.ClearCellValues,r)}catch(e){throw new a}},k=(t,n)=>async i=>{g(`Worksheet: Clear cell formatting; cellRange:${i} (${n})`);const r={cellRange:i,objectId:n};try{await t.dispatch(e.ClearCellFormatting,r)}catch(e){throw new a}},M=(t,n)=>async i=>{g(`Worksheet: Clear cells; cellRange:${i} (${n})`);const r={cellRange:i,objectId:n};try{await t.dispatch(e.ClearCells,r)}catch(e){throw new a}},_=(e,t)=>(n,i,r=1e3)=>{if(Number.isNaN(r)||r<=0)throw new s("Update interval must be a positive number");const o=v();g(`Worksheet: Create data stream; streamId:${o}; cellRange:${n}; updateInterval:${r} (${t})`);const a={close:()=>{g(`Closed stream (${o})`),(e=>{var t;try{const n=C.get(e);if(!n)throw new s(`Unable to find registered data stream with id ${e}`);void 0!==(null!==(t=n.timer)&&void 0!==t?t:void 0)&&T(e),C.delete(e)}catch(e){throw f(e),e}})(o)},cellRange:n,id:o,start:()=>{g(`Started streaming (${o})`),B(o,i,e,t)},stop:()=>{g(`Stopped streaming (${o})`),T(o)},updateInterval:r,worksheetId:t};return C.set(o,{dataStream:a}),a},S=(e,t,n,i)=>{const o={eventTarget:r.Worksheet,objectId:t};return{objectId:t,activate:I(e,t),addEventListener:n(e,o),calculate:x(e,t),clearAllCellFormatting:b(e,t),clearAllCells:E(e,t),clearAllCellValues:A(e,t),clearCellFormatting:k(e,t),clearCells:M(e,t),clearCellValues:P(e,t),createDataStream:_(e,t),delete:O(e,t),filterCells:W(e,t),getCells:F(e,t),getName:L(e,t),protect:R(e,t),removeEventListener:i(e),setCellFormatting:$(e,t),setCellName:G(e,t),setCellValues:j(e,t),setName:N(e,t)}},O=(t,n)=>async()=>{g(`Worksheet: Delete (${n})`);try{await t.dispatch(e.DeleteWorksheet,n)}catch(e){throw new a}},W=(t,n)=>async(i,r,o,s,c,d=!0)=>{g(`Worksheet: Filter cells; cellRange:${i} (${n})`,{columnIndex:r,filterOperator:o,criteria1:s,criteria2:c,visibleDropDown:d});const h={cellRange:i,criteria1:s,criteria2:c,columnIndex:r,filterOperator:o,objectId:n,visibleDropDown:d};try{await t.dispatch(e.FilterCells,h)}catch(e){throw new a}},F=(t,n)=>async i=>{g(`Worksheet: Get cells; cellRange:${i} (${n})`);const r={cellRange:i,objectId:n};let o=[];try{o=await t.dispatch(e.GetCells,r),g(`${i}:`,o)}catch(e){throw new a}return o},L=(t,n)=>async()=>{g(`Worksheet: Get name (${n})`);try{return await t.dispatch(e.GetWorksheetName,n)}catch(e){throw new a}},R=(t,n)=>async()=>{g(`Worksheet: Protect (${n})`);try{await t.dispatch(e.ProtectWorksheet,n)}catch(e){throw new a}},$=(t,n)=>async(i,r)=>{g(`Worksheet: Set cell formatting; cellRange:${i} (${n})`,r);const o={cellRange:i,formatting:r,objectId:n};try{await t.dispatch(e.SetCellFormatting,o)}catch(e){throw new a}},G=(t,n)=>async(i,r)=>{const o=r.trim();let s;if(!o)throw s=new h("Cell range name cannot be an empty string"),f(s),s;if(o.length>255)throw s=new h("Cell range name must be 255 characters or less"),f(s),s;if(/[^a-z0-9_.?\\"']/.test(o))throw s=new h("Cell range name contains invalid characters"),f(s),s;if(/^\d|\d$/.test(o))throw s=new h("Cell range name must not start or end with a number"),f(s),s;g(`Worksheet: Set cell name; cellRange:${i}; newCellRangeName:${o} (${n})`);const c={cellRange:i,name:o,objectId:n};try{await t.dispatch(e.SetCellName,c)}catch(e){throw new a}},j=(t,n)=>async(i,r)=>{g(`Worksheet: Set cell values; cellRange:${i} (${n})`,r);const o={cellRange:i,objectId:n,valuesMap:r};try{await t.dispatch(e.SetCellValues,o)}catch(e){throw new a}},N=(t,n)=>async i=>{const r=i.trim();let o;if(!r)throw o=new h("Worksheet name cannot be an empty string"),f(o),o;if(r.length>31)throw o=new h("Worksheet name must be 31 characters or less"),f(o),o;g(`Worksheet: Set name; newWorksheetName:${r} (${n})`);const s={newWorksheetName:r,objectId:n};try{return await t.dispatch(e.SetWorksheetName,s)}catch(e){throw new a}},B=(e,t,n,i)=>{var r;try{const o=C.get(e);if(!o)throw new s(`Unable to find registered data stream with id ${e}`);void 0!==(null!==(r=o.timer)&&void 0!==r?r:void 0)&&T(e);const{cellRange:a,updateInterval:c}=o.dataStream,d=async()=>{const r=await t();try{await j(n,i)(a,[[r]])}catch(t){m(`Unable to update cell range for stream with id ${e}: ${null==t?void 0:t.message}`)}},h=window.setInterval(d,c);o.timer=h}catch(e){throw f(e),e}},T=e=>{var t;try{const n=C.get(e);if(!n)throw new s(`Unable to find registered data stream with id ${e}`);if(void 0===(null!==(t=n.timer)&&void 0!==t?t:void 0))return;window.clearInterval(n.timer),n.timer=void 0}catch(e){throw f(e),e}},D=new Map,V=(n,i)=>async(r,o)=>{if(!i||!i.eventTarget||!i.objectId){const e=new c("Event registration missing required values");throw f(e),e}const s=Object.keys(t).find((e=>e.toLowerCase()===r.toLowerCase()));if(!s){const e=new c(`Unsupported event name: ${r}`);throw f(e),e}i.eventName=t[s],g("Registering event",i);try{const t=await n.dispatch(e.RegisterEvent,i);D.set(t,o)}catch(e){throw new a(void 0,e)}},H=t=>async n=>{let i;for(const[e,t]of D)if(t===n){i=e;break}if(!i)throw new c;g("Deregistering event:",i);try{await t.dispatch(e.DeregisterEvent,i),D.delete(i)}catch(e){throw new a}},U=(t,n)=>async()=>{g(`Workbook: Activate (${n})`);try{return await t.dispatch(e.ActivateWorkbook,n)}catch(e){throw new a}},z=(t,n,i,r)=>async()=>{let o;g(`Workbook: Add worksheet (${n})`);try{o=await t.dispatch(e.AddWorksheet,n)}catch(e){throw new a}return S(t,o,i,r)},q=(t,n)=>async()=>{g(`Workbook: Calculate (${n})`);try{await t.dispatch(e.CalculateWorkbook,n)}catch(e){throw new a}},J=(t,n)=>async()=>{g(`Workbook: Close (${n})`);try{return await t.dispatch(e.CloseWorkbook,n)}catch(e){throw new a}},K=(e,t,n,i)=>{const o={eventTarget:r.Workbook,objectId:t};return{objectId:t,activate:U(e,t),addWorksheet:z(e,t,n,i),addEventListener:n(e,o),calculate:q(e,t),close:J(e,t),getCalculationMode:Y(e,t),getName:Q(e,t),getWorksheetByName:Z(e,t,n,i),getWorksheets:X(e,t,n,i),removeEventListener:i(e),save:ee(e,t),saveAs:te(e,t)}},Y=(t,n)=>async()=>{g("Workbook: Get calculation mode");try{return await t.dispatch(e.GetCalculationMode,n)}catch(e){throw new a}},Q=(t,n)=>async()=>{g(`Workbook: Get name (${n})`);try{return await t.dispatch(e.GetWorkbookName,n)}catch(e){throw new a}},Z=(t,n,i,r)=>async o=>{let s;g(`Workbook: Get worksheet by name: ${o} (${n})`);try{if(s=await t.dispatch(e.GetWorksheetByName,{objectId:n,worksheetName:o}),null===s)return null}catch(e){throw new a}return S(t,s,i,r)},X=(t,n,i,r)=>async()=>{let o;g(`Workbook: Get worksheets (${n})`);try{o=await t.dispatch(e.GetWorksheets,n)}catch(e){throw new a}return o.map((e=>S(t,e,i,r)))},ee=(t,n)=>async()=>{g(`Workbook: Save (${n})`);try{return await t.dispatch(e.SaveWorkbook,n)}catch(e){throw new a}},te=(t,n)=>async i=>{g(`Workbook: Save as; filePath:${i} (${n})`);try{return await t.dispatch(e.SaveWorkbookAs,{filePath:i,objectId:n})}catch(e){throw new a}},ne=t=>async()=>{let n;g("Application: Create workbook");try{n=await t.dispatch(e.CreateWorkbook)}catch(e){throw new a}return K(t,n,V,H)},ie=t=>async n=>{let i;g(`Application: Get workbook; id:${n}`);try{i=await t.dispatch(e.GetWorkbookById,n)}catch(e){throw new a}return K(t,i,V,H)},re=t=>async()=>{let n;g("Application: Get workbooks");try{n=await t.dispatch(e.GetWorkbooks)}catch(e){throw new a}return n.map((e=>K(t,e,V,H)))},oe=t=>async n=>{g(`Application: Get worksheet; id:${n}`);try{n=await t.dispatch(e.GetWorksheetById,n)}catch(e){throw new a}return S(t,n,V,H)},se=t=>async n=>{let i;g(`Application: Open workbook; filePath:${n}`);try{i=await t.dispatch(e.OpenWorkbook,n)}catch(e){throw new a}return K(t,i,V,H)},ae=t=>async(n=!0)=>{g(`Application: Quit; displayAlerts:${n}`);try{return await t.dispatch(e.QuitApplication,n)}catch(e){throw new a}};var ce;!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error"}(ce||(ce={}));const de="excel-adapter",he=v();let le,ue;const pe=async()=>{try{if(!le||!await(async e=>(await o.H.InterApplicationBus.Channel.getAllChannels()).some((t=>t.channelName===e)))(he)){await(async()=>{var e;const t=null===(e=(await o.H.Application.getCurrentSync().getManifest()).appAssets)||void 0===e?void 0:e.find((e=>e.alias===de));if(t)return void m("Detected adapter package in app manifest appAssets",t);if(await ye())return void g("Using existing adapter package");const n={alias:de,src:"https://cdn.openfin.co/release/integrations/excel/1.3.0/OpenFin.Excel.zip",target:"OpenFin.Excel.exe",version:l};g("Downloading adapter package",n);try{await o.H.System.downloadAsset(n,(()=>{}))}catch(e){throw f("Unable to download adapter package"),e}})();const e=await o.H.System.getRuntimeInfo(),t=o.H.Application.me.uuid,n=e.version,i=e.securityRealm;g("Initializing adapter",{appId:t,channelName:he,runtimeVersion:n,securityRealm:i}),le=await o.H.System.launchExternalProcess({alias:de,arguments:`${t} ${n} ${i} ${he}`}),g(`Adapter running with uuid ${le.uuid}`)}const i=o.H.InterApplicationBus.Channel.connect(he,{payload:{version:l}}),s=new Promise((e=>{setTimeout(e,2e4)})).then((()=>{throw new Error("Connection to adapter timed out")}));ue=await Promise.race([i,s]),g(`Connected to adapter on channel ${he}`),ue.register(e.LogMessage,we),ue.register(e.EventFired,(n=ue,e=>{const{eventRegistrationId:i}=e,o=D.get(i);if(!o)throw new c(`No registered event listener found for id: ${i}`);g("Event payload received",e),((e,n,i)=>{var o,s;switch(i.eventTarget){case r.Workbook:switch(null===(o=i.eventName)||void 0===o?void 0:o.toUpperCase()){case t.Activate.toUpperCase():case t.Close.toUpperCase():case t.Deactivate.toUpperCase():return e();case t.AddWorksheet.toUpperCase():case t.DeleteWorksheet.toUpperCase():return e(S(n,i.worksheetObjectId,V,H));default:throw new c(`Unexpected workbook event: ${i.eventName}`)}case r.Worksheet:switch(null===(s=i.eventName)||void 0===s?void 0:s.toUpperCase()){case t.Activate.toUpperCase():return e();case t.Change.toUpperCase():return e(i.changedCells);case t.Deactivate.toUpperCase():return e();default:throw new c(`Unexpected worksheet event: ${i.eventName}`)}default:throw new c(`Unexpected event target: ${i.eventTarget}`)}})(o,n,e)}))}catch(e){const t=new d(void 0,e);throw f(t),t}var n;return{adapter:{channelName:he,version:l},createWorkbook:ne(ue),getWorkbookById:ie(ue),getWorkbooks:re(ue),getWorksheetById:oe(ue),openWorkbook:se(ue),quit:ae(ue)}},we=e=>{const{message:t,type:n}=e,i="[adapter]";switch(n){case ce.Error:f(t,i);break;case ce.Info:g(i,t);break;case ce.Warn:m(i,t)}},ye=async()=>{try{const e=await o.H.System.getAppAssetInfo({alias:de});return e&&e.version===l}catch(e){return!1}};var fe,ge,me,ve,Ce;!function(e){e.Continuous="Continuous",e.Dash="Dash",e.DashDot="DashDot",e.DashDotDot="DashDotDot",e.Dot="Dot",e.Double="Double",e.SlantDashDot="SlantDashDot",e.None="None"}(fe||(fe={})),function(e){e.Center="Center",e.CenterAcrossSelection="CenterAcrossSelection",e.Distributed="Distributed",e.Fill="Fill",e.General="General",e.Justify="Justify",e.Left="Left",e.Right="Right"}(ge||(ge={})),function(e){e.Automatic="Automatic",e.Checker="Checker",e.CrissCross="CrissCross",e.Down="Down",e.Gray16="Gray16",e.Gray25="Gray25",e.Gray50="Gray50",e.Gray75="Gray75",e.Gray8="Gray8",e.Grid="Grid",e.Horizontal="Horizontal",e.LightDown="LightDown",e.LightHorizontal="LightHorizontal",e.LightUp="LightUp",e.LightVertical="LightVertical",e.LinearGradient="LinearGradient",e.None="None",e.RectangularGradient="RectangularGradient",e.SemiGray75="SemiGray75",e.Solid="Solid",e.Up="Up",e.Vertical="Vertical"}(me||(me={})),function(e){e.Bottom="Bottom",e.Center="Center",e.Distributed="Distributed",e.Justify="Justify",e.Top="Top"}(ve||(ve={})),function(e){e.And="And",e.Or="Or",e.Top10Items="Top10Items",e.Bottom10Items="Bottom10Items",e.Top10Percent="Top10Percent",e.Bottom10Percent="Bottom10Percent",e.FilterValues="FilterValues"}(Ce||(Ce={}))})();var r=i.dq,o=i.MS,s=i.xQ,a=i.sO,c=i.Zu,d=i.I3,h=i.$U,l=i.i0,u=i.cX,p=i._W,w=i.U$,y=i.U7,f=i.rd;

/***/ }),

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={703:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,deregister:()=>tt,hide:()=>ot,register:()=>et,show:()=>nt});var o={};n.r(o),n.d(o,{subscribe:()=>ce});var r={};n.r(r),n.d(r,{create:()=>Ne});var i=n(678),s=n(532),a=n(436);const c="home";var d;!function(e){e.Commands="home-commands"}(d||(d={}));var u,p=n(806),l=(n(298),n(758));n(114),n(109),n(427);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(u||(u={}));var f=n(316);const w="all",g="0",h="5",y="6",v=()=>{};function m(e,t){return e?`${e}-${t}`:t}function P(e){return`__search-${e}-topic__`}const S=new Map;function k(e,t){S.has(e)||S.set(e,new Set),S.get(e).add(t)}function C(e,t){const n=S.get(e);n&&n.delete(t)}const W=new Map;function R(e,t){W.has(e)||W.set(e,new Set),W.get(e).add(t)}function I(e,t){const n=W.get(e);n&&n.delete(t)}const T=new Map;async function b(e,t){T.has(e)||T.set(e,new Map),T.get(e).set(t.id,t);const n=S.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function D(e,t){const n=T.get(e);if(!n)return;n.delete(t);const o=W.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function B(e){const t=T.get(e);return t?[...t.values()]:[]}function F(e){const t=T.get(e);t&&t.clear()}function A(e,t){const n=T.get(e);return n?n.get(t):null}function L(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function O(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let s=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...r),s="ascending"===n?s.sort(((e,t)=>(e?.score??1/0)-(t?.score??1/0))):s.sort(((e,t)=>(t?.score??1/0)-(e?.score??1/0))),s}function x(e){const t={};let n=[];let o=[];let r=u.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=v;const i={};return t.res=i,i.close=()=>{r!==u.Close&&(r=u.Close,t.onChange())},i.open=()=>{r!==u.Open&&(r=u.Open,t.onChange())},i.respond=n=>{const o=O(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function V(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function E(){return{name:fin.me.name,uuid:fin.me.uuid}}function M(){let e;try{e=fin.Platform.getCurrentSync().identity.uuid}catch(e){}return e}const _="deregistered or does not exist",$=new Error(`provider ${_}`),q=new Error("provider with name already exists"),G=new Error("bad payload"),H=new Error("subscription rejected"),N=new Error(`channel ${_}`),U=new Map;function j(e){const t=X(e);if(t)return t;throw N}function X(e){const t=U.get(e);if(t)return t}function K(e,t){U.set(e,t)}function J(e){console.error("OpenFin Search API: ",e)}const z=new Map;function Z(e){z.has(e)||z.set(e,new Map);const t=z.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function Y(e,t){return(await j(e)).dispatch(g,t)}function Q({namespacedTopic:e,topic:t}){const n=A.bind(null,e),o=Z(e),r=Y.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=G;return J(e),{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=$;return J(e),{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=V(t,s,e),d.set(e.id,u));const p=x(),l=()=>{const e=p.getResultBuffer();p.setResultBuffer([]);const t=p.getRevokedBuffer();p.setRevokedBuffer([]);const n=p.getStatus();r({id:s,providerId:a,results:e,revoked:t,status:n})};let f=!0,w=!1;p.onChange=()=>{if(f)return f=!1,void l();w||(w=!0,setTimeout((()=>{w=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,p.res),n=p.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return J(e),{id:s,providerId:a,error:e?.message}}}}async function ee(e,t,n){const o=n||await j(e),r=E(),i={...t,identity:r,onResultDispatch:void 0},s=await o.dispatch("2",i);return await b(e,{identity:r,...t}),s}async function te(e,t){const n=await j(e);return await n.dispatch("3",t),D(e,t)}async function ne(e,t,n,o){const r=L(n,E(),o),i=A(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const s={providerId:t,result:r};return(await j(e)).dispatch(h,s)}async function oe(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await j(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id||"",o.close=()=>{!async function(e,t){(await j(e)).dispatch(y,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function re(e){return(await j(e)).dispatch("4",null)}async function ie(e){const t=await j(e);var n;n=e,U.delete(n),F(e),await t.disconnect()}function se(e){const{namespacedTopic:t}=e,n=Z(t);return async o=>{if(!X(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);K(t,(async e=>{const{namespacedTopic:t}=e,n=await ae(e);for(const e of B(t))await ee(t,e,n);return n})(e))}}async function ae(e){const{namespacedTopic:t}=e,n=P(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(g,Q(e)),o.register(y,function(e){const t=Z(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return void J(G);const o=A(e,t.providerId);if(!o)return void J($);const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(se(e)),o}async function ce(e){const t="string"==typeof e?e:e.topic,n="string"==typeof e?void 0:e.uuid,o=t||w,r=n||M()||"",i=m(r,o),s={topic:o,namespace:r,namespacedTopic:i};let a=X(i);return a||(a=ae(s),K(i,a),await a),{getAllProviders:re.bind(null,i),register:ee.bind(null,i),search:oe.bind(null,i),deregister:te.bind(null,i),dispatch:ne.bind(null,i),disconnect:ie.bind(null,i)}}const de=new Map;function ue(e){const t=pe(e);if(t)return t;throw N}function pe(e){const t=de.get(e);if(t)return t}const le=new Map;function fe(e,t){le.has(e)||le.set(e,new Set),le.get(e).add(t)}function we(e,t){const n=le.get(e);n&&n.delete(t)}async function ge(e){return[...B(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function he(e,t){if(A(e,t.id))throw new Error("provider with name already exists");const n=E();return await b(e,{identity:n,...t}),{workspaceVersion:i.u0||"",clientAPIVersion:t.clientAPIVersion||""}}async function ye(e,t){await D(e,t)}async function ve(e,t,n,o){const r=A(e,t);if(!r)throw $;const{onResultDispatch:i}=r;if(!i)return;return i(L(n,E(),o))}async function*me(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const s of e){const e=x(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon,dispatchFocusEvents:s.dispatchFocusEvents}};n.push(a),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await s.onUserInput(t,e.res);a.results=O(a.results||[],n),a.context={...a.context,...o}}catch(e){a.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>A(e,t))).filter((e=>!!e)):[...B(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:s,initialResponsePromises:a}=o,c=f.De.Fetching;const d=e=>{c=e,n.setState(c)};let p,l=!1;t.onClose((()=>{l=!0,p&&p()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(d(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},w=[];for(const t of s){const n=i[t],s=r[t],a=n.getStatus();(a===u.Open||c===f.De.Fetching&&a===u.Initial)&&(w.push(t),n.onChange=o);const d=n.getResultBuffer();d.length&&(n.setResultBuffer([]),s.results=O(s.results||[],d),e=!0);const p=n.getRevokedBuffer();if(p.length){n.setRevokedBuffer([]);const t=new Set(p);s.results=(s.results||[]).filter((({key:e})=>!t.has(e))),e=!0}}if(s=w,e&&(yield r),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{p=e}))])}while(s.length||a.length);return d(f.De.Complete),r}let Pe=0;async function Se({namespacedTopic:e,topic:t},n){Pe+=1;const o=V(t,Pe.toString(),n),r=me(e,o.req,{setState:e=>{r.state=e}});return r.id=Pe.toString(),r.close=o.close,r.state=f.De.Fetching,r}const ke=new Map;function Ce(e,t){return`${e}:${t}`}function We(e){return async t=>{if(!t)return J(G),{error:G.message};let n;if(t.id)n=Ce(e.namespacedTopic,t.id);else{const o=await Se(e,t);n=Ce(e.namespacedTopic,o.id),t.id=o.id,ke.set(n,{generator:o})}const o=ke.get(n);clearTimeout(o.timeout);const r=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{ke.delete(e)}),1e4)}(n),{...r,id:t.id,state:o.generator.state}}}function Re(e,t,n){return ue(e).dispatch(t,y,{id:n})}function Ie(e){return t=>function(e,t){const n=Ce(e,t),o=ke.get(n);o&&o.generator.close()}(e,t.id)}async function Te(e,t,{id:n,query:o,context:r,targets:i=[]}){const s=ue(e),a={id:n,query:o,context:r,targets:i,providerId:t.id},c=await s.dispatch(t.identity,g,a),d=c.error;if(d)throw new Error(d);return c}const be=new Map;function De(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Be=new Map;function Fe(e,t,n){return`${e}:${t}:${n}`}function Ae(e,t){const n=De.bind(null,e,t.identity),o=Re.bind(null,e,t.identity),r=Te.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!be.has(a)){const e=()=>{o(i.id),be.delete(a)};be.set(a,e),i.onClose(e)}const c=Fe(e,t.id,i.id),d=()=>{Be.delete(c),s.close()};i.onClose(d),Be.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===u.Open&&s.open(),e.status===u.Close&&d()}));const p=await r(i);return p.status===u.Open&&s.open(),p.status!==u.Close&&p.status!==u.Initial||d(),p}}function Le(e,t){return async n=>{const o=ue(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,h,r)}}const Oe=new Map;function xe(e,t){return`${e}-${t.name}-${t.uuid}`}function Ve(e){return async(t,n)=>{if(!t||!t.id)return J(new Error(JSON.stringify(t))),void J(G);if(A(e,t.id))throw q;return t.identity=n,await async function(e,t){const n=xe(e,t.identity);Oe.has(n)||Oe.set(n,[]),Oe.get(n).push(t.id),await b(e,{...t,onUserInput:Ae(e,t),onResultDispatch:Le(e,t)})}(e,t),{workspaceVersion:i.u0||"",clientAPIVersion:t.clientAPIVersion||""}}}function Ee(e){return t=>{t?function(e,t){const n=A(e,t);if(!n)return;const o=xe(e,n.identity),r=Oe.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),D(e,t))}}(e,t):J(G)}}const Me=new Map;function _e(e,t){Me.has(e)||Me.set(e,new Set),Me.get(e).add(t)}function $e(e,t){const n=Me.get(e);n&&n.delete(t)}function qe(e){return async t=>{!function(e,t){const n=xe(e,t),o=Oe.get(n);if(o){for(const t of o)D(e,t);Oe.delete(n)}}(e,t);const n=Me.get(e);n&&n.forEach((e=>e(t)))}}async function Ge(e){const{namespacedTopic:t}=e,n=P(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=le.get(e);if(n)for(const e of n)if(!await e(t))throw H}}(e)),o.onDisconnection(qe(t)),o.register(y,Ie(t)),o.register(g,function(e){return t=>{const n=Fe(e,t.providerId,t.id),o=Be.get(n);o&&o(t)}}(t)),o.register("2",Ve(t)),o.register("3",Ee(t)),o.register("4",function(e){return async()=>ge(e)}(t)),o.register("1",We(e)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return void J(G);const o=A(e,t.providerId);if(!o)throw $;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function He(e){const t=ue(e);var n;n=e,de.delete(n),await t.destroy(),F(e)}async function Ne(e){const t=("string"==typeof e?e:e?.topic||"")||w,n=M()||"",o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=pe(o);i||(i=await Ge(r),function(e,t){de.set(e,t)}(o,i));const s=we.bind(null,o),a=$e.bind(null,o),c=C.bind(null,o),d=I.bind(null,o);return{getAllProviders:ge.bind(null,o),search:Se.bind(null,r),register:he.bind(null,o),deregister:ye.bind(null,o),onSubscription:fe.bind(null,o),onDisconnect:_e.bind(null,o),onRegister:k.bind(null,o),onDeregister:R.bind(null,o),dispatch:ve.bind(null,o),disconnect:He.bind(null,o),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ue}=r,{subscribe:je}=o,Xe={create:Ue,subscribe:je,defaultTopic:"all"},Ke=()=>{window.search=Xe},Je=e=>{const t=()=>{Ke(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ke();const e="load",t=Je(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=Je(n);window.addEventListener(n,o)}const ze=new Map;async function Ze(){await async function(e){ze.set(e,await je({topic:e,uuid:p.q9.Workspace}))}(c)}let Ye;async function Qe(e){return await async function(){return Ye||(Ye=Ze()),Ye}(),ze.get(e)}const et=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,a.aB)();const t=await Qe(c);try{e.clientAPIVersion=i.u0;const n=await t.register(e);return(0,s.ck)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,i.u0,n}catch(e){throw(0,s.ck)({allowed:!1,rejectionCode:e.message}),e}},tt=async e=>{await(0,a.aB)();return(await Qe(c)).deregister(e)};async function nt(){return(await(0,a.Xl)()).dispatch(a.WF.ShowHome,void 0)}async function ot(){return(await(0,a.Xl)()).dispatch(a.WF.HideHome,void 0)}},298:(e,t,n)=>{n.d(t,{p:()=>o.px,w:()=>o.wt});var o=n(316)},427:(e,t,n)=>{var o;n.d(t,{v:()=>o}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(o||(o={}))},758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,el:()=>i,yW:()=>r}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},109:(e,t,n)=>{n.d(t,{Go:()=>r,ZJ:()=>s,bI:()=>i,p6:()=>o});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},528:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>s.L,StorefrontTemplate:()=>s.T,deregister:()=>g,hide:()=>h,register:()=>w,show:()=>y});var o=n(532),r=n(436),i=n(82),s=n(114),a=n(678);let c,d=!1;async function u(e,t,n){const o=await(0,r.Dm)();try{return await o.dispatch(e.action,e.payload)}catch(r){if(-1!==r.toString().indexOf(e.action))return d||console.warn("You are using a newer version of the Workspace client library that is not supported by the currently running workspace provider. Please upgrade the Workspace to version 9.0 or later."),d=!0,await o.dispatch(t.action,t.payload),n;throw r}}const p=new Map,l=e=>{if(!p.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return p.get(e)},f=async e=>{const t=await(0,r.Xl)();if(p.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return p.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.WF.GetStorefrontProviderApps,(e=>l(e).getApps())),e.register(r.WF.GetStorefrontProviderFooter,(e=>l(e).getFooter())),e.register(r.WF.GetStorefrontProviderLandingPage,(e=>l(e).getLandingPage())),e.register(r.WF.GetStorefrontProviderNavigation,(e=>l(e).getNavigation())),e.register(r.WF.LaunchStorefrontProviderApp,(({id:e,app:t})=>l(e).launchApp(t))))})(t),e.clientAPIVersion=a.u0,u({action:r.WF.RegisterProvider,payload:{providerType:i.lP.Storefront,info:e}},{action:r.WF.RegisterStorefrontProvider,payload:e},{workspaceVersion:"unknown"})},w=e=>(c=new Promise((async(t,n)=>{try{const n=await f(e);(0,o.d9)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,a.u0,t({clientAPIVersion:a.u0,workspaceVersion:n?.workspaceVersion??""})}catch(e){(0,o.d9)({allowed:!1,rejectionCode:e.message}),n(e)}})),c),g=async e=>(await c,p.delete(e),await(0,r.aB)(),u({action:r.WF.DeregisterProvider,payload:{providerType:i.lP.Storefront,id:e}},{action:r.WF.DeregisterStorefrontProvider,payload:e})),h=async()=>(await c,await(0,r.aB)(),u({action:r.WF.HideProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.HideStorefront})),y=async()=>(await c,await(0,r.aB)(),u({action:r.WF.ShowProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.ShowStorefront}))},436:(e,t,n)=>{n.d(t,{WF:()=>s,Dm:()=>a,Xl:()=>p,aB:()=>u});var o=n(678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(s||(s={}));const a=function(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n={clientAPIVersion:o.u0},i=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return i.onDisconnection((async()=>{console.warn(`disconnected from channel provider ${e}`),t=void 0})),i})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{await(0,i.JV)(i.iW)||((o.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(o.aW)),await fin.System.openUrlWithBrowser(d(o.GX)))},p=async()=>(await u(),a())},82:(e,t,n)=>{n.d(t,{R8:()=>s,X_:()=>i,lP:()=>o});var o,r=n(436);!function(e){e.Storefront="storefront",e.Dock="dock"}(o||(o={}));const i=async e=>(await(0,r.Dm)()).dispatch(r.WF.ShowProviderWindow,{providerType:e}),s=async e=>(await(0,r.Dm)()).dispatch(r.WF.HideProviderWindow,{providerType:e})},806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,s=n(678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,o.Workspace},678:(e,t,n)=>{var o;n.d(t,{AB:()=>a,Ax:()=>i,GX:()=>u,ZK:()=>d,aW:()=>p,oC:()=>c,sS:()=>r,u0:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:o.Local,a=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),p="https://cdn.openfin.co/workspace/9.2.4/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,f=(l("https://cdn.openfin.co/workspace/9.2.4"),l("https://cdn.openfin.co/workspace/9.2.4"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"9.2.4")},532:(e,t,n)=>{n.d(t,{Wn:()=>d,ck:()=>a,d9:()=>c});var o,r=n(678),i=n(121);!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:t.componentVersion||r.u0,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(o.Home,e)},c=async e=>{s(o.Storefront,e)},d=async e=>{s(o.Dock,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>d,JV:()=>l,OI:()=>u,iW:()=>p});var o,r,i,s=n(806),a=n(678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={})),function(e){e.BeforeUnload="beforeunload"}(i||(i={}));function c(e){if(!a.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const d={name:a.oC,uuid:a.AB};const u={name:o.Home,uuid:s.q9.Workspace},p=(o.Dock,s.q9.Workspace,o.Storefront,s.q9.Workspace,{name:s.q9.Workspace,uuid:s.q9.Workspace});const l=e=>c(e).getOptions().then((()=>!0)).catch((()=>!1))},316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{ActionTrigger:()=>S.p,AppManifestType:()=>W.L,ButtonStyle:()=>k.ZJ,CLIAction:()=>C.Pt,CLIFilterOptionType:()=>C.el,CLITemplate:()=>C.yW,ContainerTemplateFragmentNames:()=>k.p6,Dock:()=>e,DockButtonNames:()=>c.v,Home:()=>h,Legacy:()=>t,PresentationTemplateFragmentNames:()=>k.Go,SearchTagBackground:()=>S.w,Storefront:()=>P,StorefrontTemplate:()=>W.T,TemplateFragmentTypes:()=>k.bI});var e={};n.r(e),n.d(e,{DockButtonNames:()=>c.v,deregister:()=>l,minimize:()=>f,register:()=>p,show:()=>w});var t={};n.r(t),n.d(t,{getPages:()=>v,getWorkspaces:()=>m});var r=n(678),i=n(532),s=n(436),a=n(82),c=n(427);let d,u=!1;const p=e=>(d=new Promise((async(t,n)=>{try{const n=await(async e=>{const t=await(0,s.Xl)();if(u)throw new Error("A dock provider for the platform is already registered.");return u=!0,e.clientAPIVersion=r.u0,t.dispatch(s.WF.RegisterProvider,{providerType:a.lP.Dock,info:e})})(e);(0,i.Wn)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,r.u0,t({clientAPIVersion:r.u0,workspaceVersion:n?.workspaceVersion??""})}catch(e){(0,i.Wn)({allowed:!1,rejectionCode:e.message}),n(e),d=null}})),d),l=async()=>{await d,u=!1;return(await(0,s.Xl)()).dispatch(s.WF.DeregisterProvider,{providerType:a.lP.Dock})},f=async()=>{await d,await(0,s.aB)(),await(0,a.R8)(a.lP.Dock)},w=async()=>{await d,await(0,s.aB)(),await(0,a.X_)(a.lP.Dock)};var g,h=n(703);n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(g||(g={}));new Map;var y;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition"}(y||(y={}));const v=()=>async function(){return(await(0,s.Dm)()).dispatch(s.WF.GetLegacyPages,void 0)}(),m=()=>(async()=>(await(0,s.Dm)()).dispatch(s.WF.GetLegacyWorkspaces,void 0))();var P=n(528),S=n(298),k=n(109),C=n(758),W=n(114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/excel/integration-provider.ts":
/*!***************************************************************!*\
  !*** ./client/src/integrations/excel/integration-provider.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExcelIntegrationProvider": () => (/* binding */ ExcelIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_excel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/excel */ "../../node_modules/@openfin/excel/openfin.excel.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);


/**
 * Implement the integration provider for Excel.
 */
class ExcelIntegrationProvider {
    /**
     * Initialize the module.
     * @param definition The definition of the module from configuration include custom options.
     * @param loggerCreator For logging entries.
     * @param helpers Helper methods for the module to interact with the application core.
     * @returns Nothing.
     */
    async initialize(definition, loggerCreator, helpers) {
        this._integrationHelpers = helpers;
        this._moduleDefinition = definition;
        this._settings = definition.data;
        const brokerClient = fin.Interop.connectSync(fin.me.identity.uuid, {});
        const contextGroups = await brokerClient.getContextGroups();
        this._interopClients = {};
        for (const contextGroup of contextGroups) {
            const contextClient = fin.Interop.connectSync(fin.me.identity.uuid, {});
            await contextClient.joinContextGroup(contextGroup.id);
            await contextClient.addContextHandler(async (ctx) => {
                await this.handleContext(contextGroup.id, ctx);
            });
            this._interopClients[contextGroup.id] = contextClient;
        }
        (0,_openfin_excel__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
    }
    /**
     * The module is being deregistered.
     * @returns Nothing.
     */
    async closedown() {
        for (const client in this._interopClients) {
            await this._interopClients[client].removeFromContextGroup();
        }
        this._interopClients = {};
    }
    /**
     * An entry has been selected.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(result, lastResponse) {
        if (result.action.name === ExcelIntegrationProvider._EXCEL_PROVIDER_OPEN_KEY_ACTION &&
            result.data.workbook &&
            this._integrationHelpers.launchAsset) {
            const excelAsset = result.data;
            await this._integrationHelpers.launchAsset({
                alias: excelAsset.workbook
            });
            const excel = await this.getExcel();
            if (excel) {
                const workbooks = await excel.getWorkbooks();
                for (const workbook of workbooks) {
                    const name = await workbook.getName();
                    if (name === excelAsset.workbook) {
                        for (const worksheetSettings of excelAsset.worksheets) {
                            const worksheet = await workbook.getWorksheetByName(worksheetSettings.name);
                            await worksheet.addEventListener("change", async (cells) => {
                                await this.handleCellChanges(excelAsset, worksheetSettings, cells);
                            });
                        }
                    }
                }
                return true;
            }
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(query, filters, lastResponse) {
        const results = this._settings?.assets.map((a) => this.createResult(a));
        return {
            results
        };
    }
    /**
     * Create a search result.
     * @param excelAsset The excel document asset alias.
     * @returns The search result.
     */
    createResult(excelAsset) {
        return {
            key: `excel-${excelAsset.workbook}`,
            title: excelAsset.title,
            label: "Excel",
            icon: this._moduleDefinition.icon,
            actions: [
                {
                    name: ExcelIntegrationProvider._EXCEL_PROVIDER_OPEN_KEY_ACTION,
                    hotkey: "Enter"
                }
            ],
            data: {
                providerId: ExcelIntegrationProvider._PROVIDER_ID,
                ...excelAsset
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.SimpleText,
            templateContent: excelAsset.description
        };
    }
    /**
     * Get the excel application.
     * @returns The application.
     * @internal
     */
    async getExcel() {
        try {
            this._excel = await (0,_openfin_excel__WEBPACK_IMPORTED_MODULE_0__.getExcelApplication)();
            return this._excel;
        }
        catch (err) {
            console.error("Error getting Excel application", err);
        }
    }
    /**
     * Handle the cell changes.
     * @param excelAsset The asset to use for processing the cell changes.
     * @param worksheetName The asset to use for processing the cell changes.
     * @param cells The cells that have changed.
     */
    async handleCellChanges(excelAsset, worksheet, cells) {
        if (worksheet.cellHandlers) {
            for (const cell of cells) {
                const cellHandler = worksheet.cellHandlers.find((c) => c.cell === cell.address);
                if (cellHandler) {
                    const client = this._interopClients[cellHandler.contextGroup];
                    if (client &&
                        (cellHandler.types.includes("instrument") || cellHandler.types.includes("fdc3.instrument"))) {
                        await client.setContext({
                            type: "fdc3.instrument",
                            id: {
                                ticker: cell.value,
                                _source: `excel.${excelAsset.workbook}.${worksheet.name}`
                            }
                        });
                    }
                }
            }
        }
    }
    /**
     * Handle a context.
     * @param contextGroup The group receiving the context.
     * @param context The context being received.
     */
    async handleContext(contextGroup, context) {
        if (this._settings?.assets) {
            const excel = await this.getExcel();
            if (excel) {
                const workbooks = await excel.getWorkbooks();
                for (const workbook of workbooks) {
                    const workbookName = await workbook.getName();
                    const connectedWorkbook = this._settings?.assets.find((a) => a.workbook === workbookName);
                    if (connectedWorkbook?.worksheets) {
                        for (const worksheetSettings of connectedWorkbook.worksheets) {
                            if (worksheetSettings.cellHandlers) {
                                const incomingSource = `excel.${workbookName}.${worksheetSettings.name}`;
                                if (incomingSource !== context?.id?._source) {
                                    const cellHandlers = worksheetSettings.cellHandlers?.filter((ch) => ch.contextGroup === contextGroup && ch.types.includes(context.type));
                                    for (const cellHandler of cellHandlers) {
                                        const worksheet = await workbook.getWorksheetByName(worksheetSettings.name);
                                        let cellValue;
                                        if (context.type === "fdc3.instrument" || context.type === "instrument") {
                                            cellValue = context.id?.ticker;
                                        }
                                        if (cellValue !== undefined) {
                                            await worksheet.setCellValues(cellHandler.cell, [[cellValue]]);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
/**
 * Provider id.
 * @internal
 */
ExcelIntegrationProvider._PROVIDER_ID = "excel";
/**
 * The key to use for a sheet open action.
 * @internal
 */
ExcelIntegrationProvider._EXCEL_PROVIDER_OPEN_KEY_ACTION = "Open Excel";


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!************************************************!*\
  !*** ./client/src/integrations/excel/index.ts ***!
  \************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "entryPoints": () => (/* binding */ entryPoints)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/excel/integration-provider.ts");

const entryPoints = {
    integrations: new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.ExcelIntegrationProvider()
};

})();

var __webpack_exports__entryPoints = __webpack_exports__.entryPoints;
export { __webpack_exports__entryPoints as entryPoints };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt5Q0FDL0Q7cUNBQ0Q7aUNBQ0Q7NkJBQ0Q7eUJBQ0Q7cUJBQ0Q7aUJBQ0Q7YUFDRDtTQUNEO0lBQ0YsQ0FBQzs7QUFwUUQ7OztHQUdHO0FBQ3FCLHFDQUFZLEdBQUcsT0FBTyxDQUFDO0FBRS9DOzs7R0FHRztBQUNxQix3REFBK0IsR0FBRyxZQUFZLENBQUM7Ozs7Ozs7U0MxQnhFO1NBQ0E7O1NBRUE7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7O1NBRUE7U0FDQTs7U0FFQTtTQUNBO1NBQ0E7Ozs7O1VDdEJBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQSxpQ0FBaUMsV0FBVztVQUM1QztVQUNBOzs7OztVQ1BBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EseUNBQXlDLHdDQUF3QztVQUNqRjtVQUNBO1VBQ0E7Ozs7O1VDUEE7Ozs7O1VDQUE7VUFDQTtVQUNBO1VBQ0EsdURBQXVELGlCQUFpQjtVQUN4RTtVQUNBLGdEQUFnRCxhQUFhO1VBQzdEOzs7Ozs7Ozs7Ozs7Ozs7QUNOa0U7QUFFM0QsTUFBTSxXQUFXLEdBQStDO0lBQ3RFLFlBQVksRUFBRSxJQUFJLDJFQUF3QixFQUFFO0NBQzVDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL2V4Y2VsL29wZW5maW4uZXhjZWwuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsLy4vY2xpZW50L3NyYy9pbnRlZ3JhdGlvbnMvZXhjZWwvaW50ZWdyYXRpb24tcHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWludGVncmF0ZS13aXRoLWV4Y2VsL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0taW50ZWdyYXRlLXdpdGgtZXhjZWwvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1pbnRlZ3JhdGUtd2l0aC1leGNlbC8uL2NsaWVudC9zcmMvaW50ZWdyYXRpb25zL2V4Y2VsL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlPXszODg1OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSkscj1uKDQ5OTkpLG89big0Nzk0KTtjbGFzcyBzIGV4dGVuZHMgaS5CYXNle2FzeW5jIHdyYXAoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3cmFwLWFwcGxpY2F0aW9uXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9ci52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKHQpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBuZXcgby5BcHBsaWNhdGlvbih0aGlzLndpcmUsZSl9d3JhcFN5bmMoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3cmFwLWFwcGxpY2F0aW9uLXN5bmNcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgdD1yLnZhbGlkYXRlSWRlbnRpdHkoZSk7aWYodCl0aHJvdyBuZXcgRXJyb3IodCk7cmV0dXJuIG5ldyBvLkFwcGxpY2F0aW9uKHRoaXMud2lyZSxlKX1hc3luYyBfY3JlYXRlKGUpe3JldHVybiB2b2lkIDA9PT1lLndhaXRGb3JQYWdlTG9hZCYmKGUud2FpdEZvclBhZ2VMb2FkPSExKSx2b2lkIDA9PT1lLmF1dG9TaG93JiZ2b2lkIDA9PT1lLmlzUGxhdGZvcm1Db250cm9sbGVyJiYoZS5hdXRvU2hvdz0hMCksYXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjcmVhdGUtYXBwbGljYXRpb25cIixlKSx0aGlzLndyYXAoe3V1aWQ6ZS51dWlkfSl9Y3JlYXRlKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJEZXByZWNhdGlvbiBXYXJuaW5nOiBmaW4uQXBwbGljYXRpb24uY3JlYXRlIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgZmluLkFwcGxpY2F0aW9uLnN0YXJ0XCIpLHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiYXBwbGljYXRpb24tY3JlYXRlXCIpLmNhdGNoKChlPT57fSkpLHRoaXMuX2NyZWF0ZShlKX1hc3luYyBzdGFydChlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcInN0YXJ0LWFwcGxpY2F0aW9uXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fY3JlYXRlKGUpO3JldHVybiBhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJ1bi1hcHBsaWNhdGlvblwiLHt1dWlkOmUudXVpZH0pLHR9YXN5bmMgc3RhcnRNYW55TWFuaWZlc3RzKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJ1bi1hcHBsaWNhdGlvbnNcIix7YXBwbGljYXRpb25zOmV9KS50aGVuKCgoKT0+e30pKX1nZXRDdXJyZW50KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWN1cnJlbnQtYXBwbGljYXRpb25cIikuY2F0Y2goKGU9Pnt9KSksdGhpcy53cmFwKHt1dWlkOnRoaXMud2lyZS5tZS51dWlkfSl9Z2V0Q3VycmVudFN5bmMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY3VycmVudC1hcHBsaWNhdGlvbi1zeW5jXCIpLmNhdGNoKChlPT57fSkpLHRoaXMud3JhcFN5bmMoe3V1aWQ6dGhpcy53aXJlLm1lLnV1aWR9KX1hc3luYyBzdGFydEZyb21NYW5pZmVzdChlLHQpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiYXBwbGljYXRpb24tc3RhcnQtZnJvbS1tYW5pZmVzdFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPWF3YWl0IHRoaXMuX2NyZWF0ZUZyb21NYW5pZmVzdChlKTtyZXR1cm4gYXdhaXQgbi5fcnVuKHQpLG59Y3JlYXRlRnJvbU1hbmlmZXN0KGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJEZXByZWNhdGlvbiBXYXJuaW5nOiBmaW4uQXBwbGljYXRpb24uY3JlYXRlRnJvbU1hbmlmZXN0IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0XCIpLHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiYXBwbGljYXRpb24tY3JlYXRlLWZyb20tbWFuaWZlc3RcIikuY2F0Y2goKGU9Pnt9KSksdGhpcy5fY3JlYXRlRnJvbU1hbmlmZXN0KGUpfV9jcmVhdGVGcm9tTWFuaWZlc3QoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWFwcGxpY2F0aW9uLW1hbmlmZXN0XCIse21hbmlmZXN0VXJsOmV9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT57Y29uc3QgdD1lLmRhdGEucGxhdGZvcm0/ZS5kYXRhLnBsYXRmb3JtLnV1aWQ6ZS5kYXRhLnN0YXJ0dXBfYXBwLnV1aWQ7cmV0dXJuIHRoaXMud3JhcCh7dXVpZDp0fSl9KSkudGhlbigodD0+KHQuX21hbmlmZXN0VXJsPWUsdCkpKX19dC5kZWZhdWx0PXN9LDQ3OTQ6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQXBwbGljYXRpb249dm9pZCAwO2NvbnN0IGk9big5NjU5KSxyPW4oNDk5Nyksbz1uKDQxNjkpO2NsYXNzIHMgZXh0ZW5kcyBpLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxcImFwcGxpY2F0aW9uXCIsdC51dWlkKSx0aGlzLmlkZW50aXR5PXQsdGhpcy53aW5kb3c9bmV3IHIuX1dpbmRvdyh0aGlzLndpcmUse3V1aWQ6dGhpcy5pZGVudGl0eS51dWlkLG5hbWU6dGhpcy5pZGVudGl0eS51dWlkfSl9d2luZG93TGlzdEZyb21JZGVudGl0eUxpc3QoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57dC5wdXNoKG5ldyByLl9XaW5kb3codGhpcy53aXJlLHt1dWlkOmUudXVpZCxuYW1lOmUubmFtZX0pKX0pKSx0fWlzUnVubmluZygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImlzLWFwcGxpY2F0aW9uLXJ1bm5pbmdcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1hc3luYyBxdWl0KGU9ITEpe2F3YWl0IHRoaXMuX2Nsb3NlKGUpLGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZGVzdHJveS1hcHBsaWNhdGlvblwiLHtmb3JjZTplLC4uLnRoaXMuaWRlbnRpdHl9KX1fY2xvc2UoZT0hMSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xvc2UtYXBwbGljYXRpb25cIix7Zm9yY2U6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9Y2xvc2UoZT0hMSl7cmV0dXJuIGNvbnNvbGUud2FybihcIkRlcHJlY2F0aW9uIFdhcm5pbmc6IEFwcGxpY2F0aW9uLmNsb3NlIGlzIGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBBcHBsaWNhdGlvbi5xdWl0XCIpLHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiYXBwbGljYXRpb24tY2xvc2VcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSx0aGlzLl9jbG9zZShlKX1nZXRDaGlsZFdpbmRvd3MoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY2hpbGQtd2luZG93c1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9Pntjb25zdCB0PVtdO3JldHVybiBlLmRhdGEuZm9yRWFjaCgoZT0+e3QucHVzaCh7dXVpZDp0aGlzLmlkZW50aXR5LnV1aWQsbmFtZTplfSl9KSksdGhpcy53aW5kb3dMaXN0RnJvbUlkZW50aXR5TGlzdCh0KX0pKX1nZXRNYW5pZmVzdCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1hcHBsaWNhdGlvbi1tYW5pZmVzdFwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFBhcmVudFV1aWQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcGFyZW50LWFwcGxpY2F0aW9uXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0U2hvcnRjdXRzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXNob3J0Y3V0c1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldFZpZXdzKCl7Y29uc3R7cGF5bG9hZDplfT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImFwcGxpY2F0aW9uLWdldC12aWV3c1wiLHRoaXMuaWRlbnRpdHkpO3JldHVybiBlLmRhdGEubWFwKChlPT5uZXcgby5WaWV3KHRoaXMud2lyZSxlKSkpfWdldFpvb21MZXZlbCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1hcHBsaWNhdGlvbi16b29tLWxldmVsXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0V2luZG93KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiYXBwbGljYXRpb24tZ2V0LXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLFByb21pc2UucmVzb2x2ZSh0aGlzLndpbmRvdyl9cmVnaXN0ZXJVc2VyKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVnaXN0ZXItdXNlclwiLHt1c2VyTmFtZTplLGFwcE5hbWU6dCwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cmVtb3ZlVHJheUljb24oKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJyZW1vdmUtdHJheS1pY29uXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9cmVzdGFydCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlc3RhcnQtYXBwbGljYXRpb25cIix0aGlzLmlkZW50aXR5KS50aGVuKCgoKT0+e30pKX1ydW4oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiRGVwcmVjYXRpb24gV2FybmluZzogQXBwbGljYXRpb24ucnVuIGlzIGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBmaW4uQXBwbGljYXRpb24uc3RhcnRcIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJhcHBsaWNhdGlvbi1ydW5cIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSx0aGlzLl9ydW4oKX1fcnVuKGU9e30pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJ1bi1hcHBsaWNhdGlvblwiLHttYW5pZmVzdFVybDp0aGlzLl9tYW5pZmVzdFVybCxvcHRzOmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfXNjaGVkdWxlUmVzdGFydCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlbGF1bmNoLW9uLWNsb3NlXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9YXN5bmMgc2VuZEFwcGxpY2F0aW9uTG9nKCl7Y29uc3R7cGF5bG9hZDplfT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNlbmQtYXBwbGljYXRpb24tbG9nXCIsdGhpcy5pZGVudGl0eSk7cmV0dXJuIGUuZGF0YX1hc3luYyBzZXRKdW1wTGlzdChlKXthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC1qdW1wLWxpc3RcIix7Y29uZmlnOmUsLi4udGhpcy5pZGVudGl0eX0pfXNldFRyYXlJY29uKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC10cmF5LWljb25cIix7ZW5hYmxlZEljb246ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9c2V0U2hvcnRjdXRzKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC1zaG9ydGN1dHNcIix7ZGF0YTplLC4uLnRoaXMuaWRlbnRpdHl9KS50aGVuKCgoKT0+e30pKX1hc3luYyBzZXRTaG9ydGN1dFF1ZXJ5UGFyYW1zKGUpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2V0LXNob3J0Y3V0LXF1ZXJ5LWFyZ3NcIix7ZGF0YTplLC4uLnRoaXMuaWRlbnRpdHl9KX1zZXRab29tTGV2ZWwoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2V0LWFwcGxpY2F0aW9uLXpvb20tbGV2ZWxcIix7bGV2ZWw6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9YXN5bmMgc2V0QXBwTG9nVXNlcm5hbWUoZSl7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzZXQtYXBwLWxvZy11c2VybmFtZVwiLHtkYXRhOmUsLi4udGhpcy5pZGVudGl0eX0pfWdldFRyYXlJY29uSW5mbygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC10cmF5LWljb24taW5mb1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfXRlcm1pbmF0ZSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInRlcm1pbmF0ZS1hcHBsaWNhdGlvblwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfXdhaXQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3YWl0LWZvci1odW5nLWFwcGxpY2F0aW9uXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9Z2V0SW5mbygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1pbmZvXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgZ2V0UHJvY2Vzc0luZm8oKXtjb25zdHtwYXlsb2FkOntkYXRhOmV9fT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImFwcGxpY2F0aW9uLWdldC1wcm9jZXNzLWluZm9cIix0aGlzLmlkZW50aXR5KTtyZXR1cm4gZX1hc3luYyBzZXRGaWxlRG93bmxvYWRMb2NhdGlvbihlKXthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC1maWxlLWRvd25sb2FkLWxvY2F0aW9uXCIse2Rvd25sb2FkTG9jYXRpb246ZSwuLi50aGlzLmlkZW50aXR5fSl9fXQuQXBwbGljYXRpb249c30sNzI2NDpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHx0Lmhhc093blByb3BlcnR5KG4pfHxpKHQsZSxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbz1uKDM4ODUpO3Iobig0Nzk0KSx0KSx0LmRlZmF1bHQ9by5kZWZhdWx0fSw5NjU5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldHx8ZnVuY3Rpb24oZSx0LG4pe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5zZXQoZSxuKSxufSxvPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldHx8ZnVuY3Rpb24oZSx0KXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuZ2V0KGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJlcGx5PXQuRW1pdHRlckJhc2U9dC5CYXNlPXZvaWQgMDtjb25zdCBzPW4oMzQ0MiksYT1uKDgwNjgpO2NsYXNzIGN7Y29uc3RydWN0b3IoZSl7dGhpcy5pc05vZGVFbnZpcm9ubWVudD0oKT0+XCJOb2RlRW52aXJvbm1lbnRcIj09PXRoaXMud2lyZS5lbnZpcm9ubWVudC5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMuaXNPcGVuRmluRW52aXJvbm1lbnQ9KCk9PlwiT3BlbkZpbkVudmlyb25tZW50XCI9PT10aGlzLndpcmUuZW52aXJvbm1lbnQuY29uc3RydWN0b3IubmFtZSx0aGlzLndpcmU9ZX1nZXQgZmluKCl7cmV0dXJuIGEuZ2V0RmluKHRoaXMud2lyZSl9Z2V0IG1lKCl7cmV0dXJuIHRoaXMud2lyZS5tZX19dC5CYXNlPWMsdC5FbWl0dGVyQmFzZT1jbGFzcyBleHRlbmRzIGN7Y29uc3RydWN0b3IoZSx0LC4uLm4pe3N1cGVyKGUpLHRoaXMudG9waWM9dCxpLnNldCh0aGlzLHZvaWQgMCksdGhpcy5ldmVudE5hbWVzPSgpPT50aGlzLmhhc0VtaXR0ZXIoKT90aGlzLmdldE9yQ3JlYXRlRW1pdHRlcigpLmV2ZW50TmFtZXMoKTpbXSx0aGlzLmVtaXQ9KGUsdCwuLi5uKT0+ISF0aGlzLmhhc0VtaXR0ZXIoKSYmdGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKS5lbWl0KGUsdCwuLi5uKSx0aGlzLmhhc0VtaXR0ZXI9KCk9PnRoaXMud2lyZS5ldmVudEFnZ3JlZ2F0b3IuaGFzKG8odGhpcyxpKSksdGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXI9KCk9PnRoaXMud2lyZS5ldmVudEFnZ3JlZ2F0b3IuZ2V0T3JDcmVhdGUobyh0aGlzLGkpKSx0aGlzLmxpc3RlbmVycz1lPT50aGlzLmhhc0VtaXR0ZXIoKT90aGlzLmdldE9yQ3JlYXRlRW1pdHRlcigpLmxpc3RlbmVycyhlKTpbXSx0aGlzLmxpc3RlbmVyQ291bnQ9ZT0+dGhpcy5oYXNFbWl0dGVyKCk/dGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKS5saXN0ZW5lckNvdW50KGUpOjAsdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXI9YXN5bmMoZSx0PXt9LG4saSk9Pntjb25zdCByPXsuLi50aGlzLmlkZW50aXR5LHRpbWVzdGFtcDp0LnRpbWVzdGFtcHx8RGF0ZS5ub3coKSx0b3BpYzp0aGlzLnRvcGljLHR5cGU6ZX0sbz10aGlzLmdldE9yQ3JlYXRlRW1pdHRlcigpO24obyk7dHJ5e2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic3Vic2NyaWJlLXRvLWRlc2t0b3AtZXZlbnRcIixyKX1jYXRjaChlKXt0aHJvdyBpKG8pLHRoaXMuZGVsZXRlRW1pdHRlcklmTm90aGluZ1JlZ2lzdGVyZWQobyksZX19LHRoaXMuZGVyZWdpc3RlckV2ZW50TGlzdGVuZXI9YXN5bmMoZSx0PXt9KT0+e2lmKHRoaXMuaGFzRW1pdHRlcigpKXtjb25zdCBuPXsuLi50aGlzLmlkZW50aXR5LHRpbWVzdGFtcDp0LnRpbWVzdGFtcHx8RGF0ZS5ub3coKSx0b3BpYzp0aGlzLnRvcGljLHR5cGU6ZX07cmV0dXJuIGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwidW5zdWJzY3JpYmUtdG8tZGVza3RvcC1ldmVudFwiLG4pLmNhdGNoKCgoKT0+bnVsbCkpLHRoaXMuZ2V0T3JDcmVhdGVFbWl0dGVyKCl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSx0aGlzLm9uPWFzeW5jKGUsdCxuKT0+KGF3YWl0IHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKGUsbiwobj0+e24ub24oZSx0KX0pLChuPT57bi5yZW1vdmVMaXN0ZW5lcihlLHQpfSkpLHRoaXMpLHRoaXMuYWRkTGlzdGVuZXI9dGhpcy5vbix0aGlzLm9uY2U9YXN5bmMoZSx0LG4pPT57Y29uc3QgaT0oKT0+dGhpcy5kZXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihlKTtyZXR1cm4gYXdhaXQgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoZSxuLChuPT57bi5vbmNlKGUsaSksbi5vbmNlKGUsdCl9KSwobj0+e24ucmVtb3ZlTGlzdGVuZXIoZSxpKSxuLnJlbW92ZUxpc3RlbmVyKGUsdCl9KSksdGhpc30sdGhpcy5wcmVwZW5kTGlzdGVuZXI9YXN5bmMoZSx0LG4pPT4oYXdhaXQgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXIoZSxuLChuPT57bi5wcmVwZW5kTGlzdGVuZXIoZSx0KX0pLChuPT57bi5yZW1vdmVMaXN0ZW5lcihlLHQpfSkpLHRoaXMpLHRoaXMucHJlcGVuZE9uY2VMaXN0ZW5lcj1hc3luYyhlLHQsbik9Pntjb25zdCBpPSgpPT50aGlzLmRlcmVnaXN0ZXJFdmVudExpc3RlbmVyKGUpO3JldHVybiBhd2FpdCB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihlLG4sKG49PntuLnByZXBlbmRPbmNlTGlzdGVuZXIoZSx0KSxuLm9uY2UoZSxpKX0pLChuPT57bi5yZW1vdmVMaXN0ZW5lcihlLHQpLG4ucmVtb3ZlTGlzdGVuZXIoZSxpKX0pKSx0aGlzfSx0aGlzLnJlbW92ZUxpc3RlbmVyPWFzeW5jKGUsdCxuKT0+e2NvbnN0IGk9YXdhaXQgdGhpcy5kZXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihlLG4pO3JldHVybiBpJiYoaS5yZW1vdmVMaXN0ZW5lcihlLHQpLHRoaXMuZGVsZXRlRW1pdHRlcklmTm90aGluZ1JlZ2lzdGVyZWQoaSkpLHRoaXN9LHRoaXMuZGVyZWdpc3RlckFsbExpc3RlbmVycz1hc3luYyBlPT57Y29uc3QgdD17Li4udGhpcy5pZGVudGl0eSx0eXBlOmUsdG9waWM6dGhpcy50b3BpY307aWYodGhpcy5oYXNFbWl0dGVyKCkpe2NvbnN0IGU9dGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKSxuPWUubGlzdGVuZXJDb3VudCh0LnR5cGUpLGk9W107Zm9yKGxldCBlPTA7ZTxuO2UrKylpLnB1c2godGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ1bnN1YnNjcmliZS10by1kZXNrdG9wLWV2ZW50XCIsdCkuY2F0Y2goKCgpPT5udWxsKSkpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChpKSxlfX0sdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnM9YXN5bmMgZT0+e2NvbnN0IHQ9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgdGhpcy5kZXJlZ2lzdGVyQWxsTGlzdGVuZXJzKGUpO3QmJih0LnJlbW92ZUFsbExpc3RlbmVycyhlKSx0aGlzLmRlbGV0ZUVtaXR0ZXJJZk5vdGhpbmdSZWdpc3RlcmVkKHQpKX07aWYoZSlhd2FpdCB0KGUpO2Vsc2UgaWYodGhpcy5oYXNFbWl0dGVyKCkpe2NvbnN0IGU9dGhpcy5nZXRPckNyZWF0ZUVtaXR0ZXIoKS5ldmVudE5hbWVzKCk7YXdhaXQgcy5wcm9taXNlTWFwKGUsdCl9cmV0dXJuIHRoaXN9LHIodGhpcyxpLFt0LC4uLm5dKSx0aGlzLmxpc3RlbmVycz1lPT50aGlzLmhhc0VtaXR0ZXIoKT90aGlzLmdldE9yQ3JlYXRlRW1pdHRlcigpLmxpc3RlbmVycyhlKTpbXX1kZWxldGVFbWl0dGVySWZOb3RoaW5nUmVnaXN0ZXJlZChlKXswPT09ZS5ldmVudE5hbWVzKCkubGVuZ3RoJiZ0aGlzLndpcmUuZXZlbnRBZ2dyZWdhdG9yLmRlbGV0ZShvKHRoaXMsaSkpfX0saT1uZXcgV2Vha01hcCx0LlJlcGx5PWNsYXNze319LDM0Mjc6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KTtjbGFzcyByIGV4dGVuZHMgaS5CYXNle3dyaXRlVGV4dChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjbGlwYm9hcmQtd3JpdGUtdGV4dFwiLGUpLnRoZW4oKCgpPT57fSkpfXJlYWRUZXh0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsaXBib2FyZC1yZWFkLXRleHRcIixlKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX13cml0ZUh0bWwoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xpcGJvYXJkLXdyaXRlLWh0bWxcIixlKS50aGVuKCgoKT0+e30pKX1yZWFkSHRtbChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjbGlwYm9hcmQtcmVhZC1odG1sXCIsZSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9d3JpdGVSdGYoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xpcGJvYXJkLXdyaXRlLXJ0ZlwiLGUpLnRoZW4oKCgpPT57fSkpfXJlYWRSdGYoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xpcGJvYXJkLXJlYWQtcnRmXCIsZSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9d3JpdGUoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xpcGJvYXJkLXdyaXRlXCIsZSkudGhlbigoKCk9Pnt9KSl9Z2V0QXZhaWxhYmxlRm9ybWF0cyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjbGlwYm9hcmQtcmVhZC1mb3JtYXRzXCIsZSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9fXQuZGVmYXVsdD1yfSw3ODEzOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkVtaXR0ZXJNYXA9dm9pZCAwO2NvbnN0IGk9big2NDY1KTtmdW5jdGlvbiByKGUpe3JldHVybiBCdWZmZXIuZnJvbShlKS50b1N0cmluZyhcImJhc2U2NFwiKX10LkVtaXR0ZXJNYXA9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnN0b3JhZ2U9bmV3IE1hcH1oYXNoS2V5cyhlKXtyZXR1cm4gZS5tYXAocikuam9pbihcIi9cIil9Z2V0T3JDcmVhdGUoZSl7Y29uc3QgdD10aGlzLmhhc2hLZXlzKGUpO3JldHVybiB0aGlzLnN0b3JhZ2UuaGFzKHQpfHx0aGlzLnN0b3JhZ2Uuc2V0KHQsbmV3IGkuRXZlbnRFbWl0dGVyKSx0aGlzLnN0b3JhZ2UuZ2V0KHQpfWhhcyhlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLmhhcyh0aGlzLmhhc2hLZXlzKGUpKX1kZWxldGUoZSl7Y29uc3QgdD10aGlzLmhhc2hLZXlzKGUpO3JldHVybiB0aGlzLnN0b3JhZ2UuZGVsZXRlKHQpfX19LDI3MzQ6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big3ODEzKTtjbGFzcyByIGV4dGVuZHMgaS5FbWl0dGVyTWFwe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRpc3BhdGNoRXZlbnQ9ZT0+e2lmKGZ1bmN0aW9uKGUpe3JldHVyblwicHJvY2Vzcy1kZXNrdG9wLWV2ZW50XCI9PT1lLmFjdGlvbn0oZSkpe2NvbnN0e3BheWxvYWQ6dH09ZSxuPWZ1bmN0aW9uKGUpe2NvbnN0e3RvcGljOnR9PWU7aWYoXCJmcmFtZVwiPT09dCl7Y29uc3R7dXVpZDpuLG5hbWU6aX09ZTtyZXR1cm5bdCxuLGldfWlmKFwid2luZG93XCI9PT10KXtjb25zdHt1dWlkOm4sbmFtZTppfT1lO3JldHVyblt0LG4saV19aWYoXCJhcHBsaWNhdGlvblwiPT09dCl7Y29uc3R7dXVpZDpufT1lO3JldHVyblt0LG5dfWlmKFwidmlld1wiPT09dCl7Y29uc3R7dXVpZDpuLG5hbWU6aX09ZTtyZXR1cm5bdCxuLGldfXJldHVyblt0XX0odCk7aWYodGhpcy5oYXMobikpcmV0dXJuIHRoaXMuZ2V0T3JDcmVhdGUobikuZW1pdCh0LnR5cGUsdCksITB9cmV0dXJuITF9fX10LmRlZmF1bHQ9cn0sNzE2ODooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDk2NTkpLHI9big4Mjk4KTtjbGFzcyBvIGV4dGVuZHMgaS5CYXNle3dyYXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZXh0ZXJuYWwtYXBwbGljYXRpb24td3JhcFwiKS5jYXRjaCgoZT0+e30pKSxQcm9taXNlLnJlc29sdmUobmV3IHIuRXh0ZXJuYWxBcHBsaWNhdGlvbih0aGlzLndpcmUse3V1aWQ6ZX0pKX13cmFwU3luYyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJleHRlcm5hbC1hcHBsaWNhdGlvbi13cmFwLXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksbmV3IHIuRXh0ZXJuYWxBcHBsaWNhdGlvbih0aGlzLndpcmUse3V1aWQ6ZX0pfX10LmRlZmF1bHQ9b30sODI5ODooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5FeHRlcm5hbEFwcGxpY2F0aW9uPXZvaWQgMDtjb25zdCBpPW4oOTY1OSk7Y2xhc3MgciBleHRlbmRzIGkuRW1pdHRlckJhc2V7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLFwiZXh0ZXJuYWwtYXBwbGljYXRpb25cIix0LnV1aWQpLHRoaXMuaWRlbnRpdHk9dH1nZXRJbmZvKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWV4dGVybmFsLWFwcGxpY2F0aW9uLWluZm9cIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX19dC5FeHRlcm5hbEFwcGxpY2F0aW9uPXJ9LDkwMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8dC5oYXNPd25Qcm9wZXJ0eShuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IG89big3MTY4KTt0LmRlZmF1bHQ9by5kZWZhdWx0LHIobig4Mjk4KSx0KX0sNjU0NTooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDY0NjUpLHI9bigzNjQxKSxvPW4oNDk5Nykscz1uKDcyNjQpLGE9big4MzQ3KSxjPW4oMzQyNyksZD1uKDkwMjEpLGg9big2NzIwKSxsPW4oOTIxMSksdT1uKDQxNjkpLHA9big2MDkpLHc9big5NjQxKSx5PW4oODA2OCksZj1uKDg3MDYpLGc9big3MTUzKTtjbGFzcyBtIGV4dGVuZHMgaS5FdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx5LnJlZ2lzdGVyRmluKGUsdGhpcyksdGhpcy53aXJlPWUsdGhpcy5TeXN0ZW09bmV3IHIuZGVmYXVsdChlKSx0aGlzLldpbmRvdz1uZXcgby5kZWZhdWx0KGUpLHRoaXMuQXBwbGljYXRpb249bmV3IHMuZGVmYXVsdChlKSx0aGlzLkludGVyQXBwbGljYXRpb25CdXM9bmV3IGEuZGVmYXVsdChlKSx0aGlzLkNsaXBib2FyZD1uZXcgYy5kZWZhdWx0KGUpLHRoaXMuRXh0ZXJuYWxBcHBsaWNhdGlvbj1uZXcgZC5kZWZhdWx0KGUpLHRoaXMuRnJhbWU9bmV3IGguZGVmYXVsdChlKSx0aGlzLkdsb2JhbEhvdGtleT1uZXcgbC5kZWZhdWx0KGUpLHRoaXMuUGxhdGZvcm09bmV3IHAuZGVmYXVsdChlLHRoaXMuSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsKSx0aGlzLlZpZXc9bmV3IHUuZGVmYXVsdChlKSx0aGlzLkludGVyb3A9bmV3IGYuZGVmYXVsdChlKSx0aGlzLlNuYXBzaG90U291cmNlPW5ldyBnLmRlZmF1bHQoZSksdGhpcy5tZT13LmdldE1lKGUpLGUub24oXCJkaXNjb25uZWN0ZWRcIiwoKCk9Pnt0aGlzLmVtaXQoXCJkaXNjb25uZWN0ZWRcIil9KSl9fXQuZGVmYXVsdD1tfSwxNzc4OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSkscj1uKDQ5OTkpLG89big4MTYxKTtjbGFzcyBzIGV4dGVuZHMgaS5CYXNle2FzeW5jIHdyYXAoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJmcmFtZS13cmFwXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9ci52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKHQpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBuZXcgby5fRnJhbWUodGhpcy53aXJlLGUpfXdyYXBTeW5jKGUpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiZnJhbWUtd3JhcC1zeW5jXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9ci52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKHQpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBuZXcgby5fRnJhbWUodGhpcy53aXJlLGUpfWdldEN1cnJlbnQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJmcmFtZS1nZXQtY3VycmVudFwiKS5jYXRjaCgoZT0+e30pKSxQcm9taXNlLnJlc29sdmUobmV3IG8uX0ZyYW1lKHRoaXMud2lyZSx0aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0Q3VycmVudEVudGl0eUlkZW50aXR5KCkpKX1nZXRDdXJyZW50U3luYygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImZyYW1lLWdldC1jdXJyZW50LXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksbmV3IG8uX0ZyYW1lKHRoaXMud2lyZSx0aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0Q3VycmVudEVudGl0eUlkZW50aXR5KCkpfX10LmRlZmF1bHQ9c30sODE2MTooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5fRnJhbWU9dm9pZCAwO2NvbnN0IGk9big5NjU5KTtjbGFzcyByIGV4dGVuZHMgaS5FbWl0dGVyQmFzZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsXCJmcmFtZVwiLHQudXVpZCx0Lm5hbWUpLHRoaXMuaWRlbnRpdHk9dH1nZXRJbmZvKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWZyYW1lLWluZm9cIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRQYXJlbnRXaW5kb3coKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcGFyZW50LXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfX10Ll9GcmFtZT1yfSw2NzIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oMTc3OCk7dC5kZWZhdWx0PW8uZGVmYXVsdCxyKG4oODE2MSksdCl9LDkyMTE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KTtjbGFzcyByIGV4dGVuZHMgaS5FbWl0dGVyQmFzZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlLFwiZ2xvYmFsLWhvdGtleVwiKX1hc3luYyByZWdpc3RlcihlLHQpe2F3YWl0IHRoaXMub24oZSx0KSxhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdsb2JhbC1ob3RrZXktcmVnaXN0ZXJcIix7aG90a2V5OmV9KX1hc3luYyB1bnJlZ2lzdGVyKGUpe2F3YWl0IHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGUpLGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2xvYmFsLWhvdGtleS11bnJlZ2lzdGVyXCIse2hvdGtleTplfSl9YXN5bmMgdW5yZWdpc3RlckFsbCgpe2F3YWl0IFByb21pc2UuYWxsKHRoaXMuZXZlbnROYW1lcygpLmZpbHRlcigoZT0+IShcInJlZ2lzdGVyZWRcIj09PWV8fFwidW5yZWdpc3RlcmVkXCI9PT1lKSkpLm1hcCgoZT0+dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoZSkpKSksYXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnbG9iYWwtaG90a2V5LXVucmVnaXN0ZXItYWxsXCIse30pfWFzeW5jIGlzUmVnaXN0ZXJlZChlKXtjb25zdHtwYXlsb2FkOntkYXRhOnR9fT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdsb2JhbC1ob3RrZXktaXMtcmVnaXN0ZXJlZFwiLHtob3RrZXk6ZX0pO3JldHVybiB0fX10LmRlZmF1bHQ9cn0sNzUzOTooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hhbm5lbEJhc2U9dC5Qcm90ZWN0ZWRJdGVtcz12b2lkIDA7Y29uc3Qgbj1lPT4odCxuLGkpPT57Y29uc3Qgcj1lKHQsbixpKTtyZXR1cm4gdm9pZCAwPT09cj9uOnJ9O3QuUHJvdGVjdGVkSXRlbXM9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnByb3ZpZGVySWRlbnRpdHk9ZSx0aGlzLndpcmU9dH19O2NsYXNzIGl7Y29uc3RydWN0b3IoKXt0aGlzLnN1YnNjcmlwdGlvbnM9bmV3IE1hcH1zdGF0aWMgZGVmYXVsdEFjdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoYE5vIGFjdGlvbiByZWdpc3RlcmVkIGF0IHRhcmdldCBmb3IgJHtlfWApfWFzeW5jIHByb2Nlc3NBY3Rpb24oZSx0LG4pe3RyeXtjb25zdCByPXRoaXMuc3Vic2NyaXB0aW9ucy5oYXMoZSk/dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKToodCxuKT0+e3ZhciByO3JldHVybihudWxsIT09KHI9dGhpcy5kZWZhdWx0QWN0aW9uKSYmdm9pZCAwIT09cj9yOmkuZGVmYXVsdEFjdGlvbikoZSx0LG4pfSxvPXRoaXMucHJlQWN0aW9uP2F3YWl0IHRoaXMucHJlQWN0aW9uKGUsdCxuKTp0LHM9YXdhaXQgcihvLG4pO3JldHVybiB0aGlzLnBvc3RBY3Rpb24/YXdhaXQgdGhpcy5wb3N0QWN0aW9uKGUscyxuKTpzfWNhdGNoKHQpe2lmKHRoaXMuZXJyb3JNaWRkbGV3YXJlKXJldHVybiB0aGlzLmVycm9yTWlkZGxld2FyZShlLHQsbik7dGhyb3cgdH19YmVmb3JlQWN0aW9uKGUpe2lmKHRoaXMucHJlQWN0aW9uKXRocm93IG5ldyBFcnJvcihcIkFscmVhZHkgcmVnaXN0ZXJlZCBiZWZvcmVBY3Rpb24gbWlkZGxld2FyZVwiKTt0aGlzLnByZUFjdGlvbj1uKGUpfW9uRXJyb3IoZSl7aWYodGhpcy5lcnJvck1pZGRsZXdhcmUpdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSByZWdpc3RlcmVkIGVycm9yIG1pZGRsZXdhcmVcIik7dGhpcy5lcnJvck1pZGRsZXdhcmU9ZX1hZnRlckFjdGlvbihlKXtpZih0aGlzLnBvc3RBY3Rpb24pdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSByZWdpc3RlcmVkIGFmdGVyQWN0aW9uIG1pZGRsZXdhcmVcIik7dGhpcy5wb3N0QWN0aW9uPW4oZSl9cmVtb3ZlKGUpe3RoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoZSl9c2V0RGVmYXVsdEFjdGlvbihlKXtpZih0aGlzLmRlZmF1bHRBY3Rpb24pdGhyb3cgbmV3IEVycm9yKFwiZGVmYXVsdCBhY3Rpb24gY2FuIG9ubHkgYmUgc2V0IG9uY2VcIik7dGhpcy5kZWZhdWx0QWN0aW9uPWV9cmVnaXN0ZXIoZSx0KXtpZih0aGlzLnN1YnNjcmlwdGlvbnMuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3Vic2NyaXB0aW9uIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgYWN0aW9uOiAke2V9LiBVbnN1YnNjcmliZSBiZWZvcmUgYWRkaW5nIG5ldyBzdWJzY3JpcHRpb25gKTtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnNldChlLHQpLCEwfX10LkNoYW5uZWxCYXNlPWl9LDgzNzg6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbyxzPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldHx8ZnVuY3Rpb24oZSx0LG4pe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5zZXQoZSxuKSxufSxhPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldHx8ZnVuY3Rpb24oZSx0KXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuZ2V0KGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBjPW4oNzUzOSksZD1uZXcgTWFwO2NsYXNzIGggZXh0ZW5kcyBjLkNoYW5uZWxCYXNle2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcigpLGkuc2V0KHRoaXMsdm9pZCAwKSxyLnNldCh0aGlzLHZvaWQgMCksdGhpcy5wcm9jZXNzQWN0aW9uPShlLHQsbik9PnN1cGVyLnByb2Nlc3NBY3Rpb24oZSx0LG4pLG8uc2V0KHRoaXMsKCgpPT57ZC5kZWxldGUodGhpcy5lbmRwb2ludElkKSxhKHRoaXMscikuY2xvc2UoKX0pKSxzKHRoaXMsaSxuZXcgYy5Qcm90ZWN0ZWRJdGVtcyhlLHQpKSx0aGlzLmRpc2Nvbm5lY3RMaXN0ZW5lcj0oKT0+e30sdGhpcy5lbmRwb2ludElkPWUuZW5kcG9pbnRJZCxzKHRoaXMscixuKSxkLnNldCh0aGlzLmVuZHBvaW50SWQsdGhpcyksbi5yZWNlaXZlKHRoaXMucHJvY2Vzc0FjdGlvbil9c3RhdGljIGNsb3NlQ2hhbm5lbEJ5RW5kcG9pbnRJZChlKXtjb25zdCB0PWQuZ2V0KGUpO3QmJmEodCxvKS5jYWxsKHQpfXN0YXRpYyBoYW5kbGVQcm92aWRlckRpc2Nvbm5lY3QoZSx0KXtlLmRpc2Nvbm5lY3RMaXN0ZW5lcih0KSxhKGUsbykuY2FsbChlKX1nZXQgcHJvdmlkZXJJZGVudGl0eSgpe3JldHVybiBhKHRoaXMsaSkucHJvdmlkZXJJZGVudGl0eX1hc3luYyBkaXNwYXRjaChlLHQpe2lmKGEodGhpcyxyKS5pc0VuZHBvaW50Q29ubmVjdGVkKHRoaXMucHJvdmlkZXJJZGVudGl0eS5jaGFubmVsSWQpKXJldHVybiBhKHRoaXMscikuc2VuZCh0aGlzLnByb3ZpZGVySWRlbnRpdHkuY2hhbm5lbElkLGUsdCk7dGhyb3cgbmV3IEVycm9yKFwiVGhlIGNsaWVudCB5b3UgYXJlIHRyeWluZyB0byBkaXNwYXRjaCBmcm9tIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSB0YXJnZXQgcHJvdmlkZXIuXCIpfW9uRGlzY29ubmVjdGlvbihlKXt0aGlzLmRpc2Nvbm5lY3RMaXN0ZW5lcj10PT57dHJ5e2UodCl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGBFcnJvciB3aGlsZSBjYWxsaW5nIHRoZSBvbkRpc2Nvbm5lY3Rpb24gY2FsbGJhY2s6ICR7ZS5tZXNzYWdlfWApfWZpbmFsbHl7dGhpcy5kaXNjb25uZWN0TGlzdGVuZXI9KCk9Pnt9fX19YXN5bmMgZGlzY29ubmVjdCgpe2NvbnN0IGU9YSh0aGlzLGkpLHtjaGFubmVsTmFtZTp0LHV1aWQ6bixuYW1lOnJ9PWUucHJvdmlkZXJJZGVudGl0eTthd2FpdCBlLndpcmUuc2VuZEFjdGlvbihcImRpc2Nvbm5lY3QtZnJvbS1jaGFubmVsXCIse2NoYW5uZWxOYW1lOnQsdXVpZDpuLG5hbWU6cixlbmRwb2ludElkOnRoaXMuZW5kcG9pbnRJZH0pLGEodGhpcyxvKS5jYWxsKHRoaXMpfX10LmRlZmF1bHQ9aCxpPW5ldyBXZWFrTWFwLHI9bmV3IFdlYWtNYXAsbz1uZXcgV2Vha01hcH0sNjcxMTpmdW5jdGlvbihlLHQsbil7dmFyIGkscixvPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldHx8ZnVuY3Rpb24oZSx0LG4pe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5zZXQoZSxuKSxufSxzPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldHx8ZnVuY3Rpb24oZSx0KXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuZ2V0KGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvbm5lY3Rpb25NYW5hZ2VyPXZvaWQgMDtjb25zdCBhPW4oMzkxNyksYz1uKDk2NTkpLGQ9bigxMDQ2KSxoPW4oMzg3MCksbD1uKDU2OSksdT1uKDI5NDIpLHA9bigzNzQ5KSx3PW4oMzAzNykseT1uKDcxMTMpO2NsYXNzIGYgZXh0ZW5kcyBjLkJhc2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksaS5zZXQodGhpcyx2b2lkIDApLHIuc2V0KHRoaXMsdm9pZCAwKSx0aGlzLnJlbW92ZUNoYW5uZWxGcm9tUHJvdmlkZXJNYXA9ZT0+e3RoaXMucHJvdmlkZXJNYXAuZGVsZXRlKGUpfSx0aGlzLm9ubWVzc2FnZT1lPT5cInByb2Nlc3MtY2hhbm5lbC1jb25uZWN0aW9uXCI9PT1lLmFjdGlvbiYmKHRoaXMucHJvY2Vzc0NoYW5uZWxDb25uZWN0aW9uKGUpLCEwKSx0aGlzLnByb3ZpZGVyTWFwPW5ldyBNYXAsdGhpcy5wcm90b2NvbE1hbmFnZXI9bmV3IHcuUHJvdG9jb2xNYW5hZ2VyKHRoaXMuaXNOb2RlRW52aXJvbm1lbnQoKT9bXCJjbGFzc2ljXCJdOltcInJ0Y1wiLFwiY2xhc3NpY1wiXSksbyh0aGlzLGksbmV3IHAuTWVzc2FnZVJlY2VpdmVyKGUpKSxvKHRoaXMscixuZXcgbC5SVENJQ0VNYW5hZ2VyKGUpKSxlLnJlZ2lzdGVyTWVzc2FnZUhhbmRsZXIodGhpcy5vbm1lc3NhZ2UuYmluZCh0aGlzKSl9c3RhdGljIGdldFByb3RvY29sT3B0aW9uc0Zyb21TdHJpbmdzKGUpe3JldHVybiBlLm1hcCgoZT0+e3N3aXRjaChlKXtjYXNlXCJydGNcIjpyZXR1cm4gaC5SVENJbmZvO2Nhc2VcImNsYXNzaWNcIjpyZXR1cm4gZC5DbGFzc2ljSW5mbztkZWZhdWx0OnJldHVybiBhLmV4aGF1c3RpdmVDaGVjayhlLFtcInJ0Y1wiLFwiY2xhc3NpY1wiXSl9fSkpfWNyZWF0ZVByb3ZpZGVyKGUsdCl7Y29uc3Qgbj1PYmplY3QuYXNzaWduKHRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXREZWZhdWx0Q2hhbm5lbE9wdGlvbnMoKS5jcmVhdGUsZXx8e30pLHI9dGhpcy5wcm90b2NvbE1hbmFnZXIuZ2V0UHJvdmlkZXJQcm90b2NvbHMobnVsbD09bj92b2lkIDA6bi5wcm90b2NvbHMpLG89ci5tYXAoKGU9Pntzd2l0Y2goZSl7Y2FzZVwicnRjXCI6cmV0dXJuIG5ldyBoLlJUQ1N0cmF0ZWd5O2Nhc2VcImNsYXNzaWNcIjpyZXR1cm4gbmV3IGQuQ2xhc3NpY1N0cmF0ZWd5KHRoaXMud2lyZSxzKHRoaXMsaSksdC5jaGFubmVsSWQsdCk7ZGVmYXVsdDpyZXR1cm4gYS5leGhhdXN0aXZlQ2hlY2soZSxbXCJydGNcIixcImNsYXNzaWNcIl0pfX0pKTtsZXQgYztpZigyPT09by5sZW5ndGgpe2NvbnN0W2UsdF09bztjPXkuZGVmYXVsdC5jb21iaW5lKGUsdCl9ZWxzZXtpZigxIT09by5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGNvbWJpbmUgc3RyYXRlZ2llc1wiKTtbY109b31jb25zdCBsPW5ldyB1LkNoYW5uZWxQcm92aWRlcih0LHRoaXMud2lyZSxjKSxwPXQuY2hhbm5lbElkO3JldHVybiB0aGlzLnByb3ZpZGVyTWFwLnNldChwLHtwcm92aWRlcjpsLHN0cmF0ZWd5OmMsc3VwcG9ydGVkUHJvdG9jb2xzOmYuZ2V0UHJvdG9jb2xPcHRpb25zRnJvbVN0cmluZ3Mocil9KSx1LkNoYW5uZWxQcm92aWRlci5zZXRQcm92aWRlclJlbW92YWwobCx0aGlzLnJlbW92ZUNoYW5uZWxGcm9tUHJvdmlkZXJNYXAuYmluZCh0aGlzKSksbH1hc3luYyBjcmVhdGVDbGllbnRPZmZlcihlKXtjb25zdCB0PXRoaXMucHJvdG9jb2xNYW5hZ2VyLmdldENsaWVudFByb3RvY29scyhudWxsPT1lP3ZvaWQgMDplLnByb3RvY29scyk7bGV0IG47cmV0dXJue29mZmVyOntzdXBwb3J0ZWRQcm90b2NvbHM6YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIGU9Pntzd2l0Y2goZSl7Y2FzZVwicnRjXCI6e2NvbnN0e3J0Y0NsaWVudDplLGNoYW5uZWxzOnQsb2ZmZXI6aSxydGNDb25uZWN0aW9uSWQ6byxjaGFubmVsc09wZW5lZDphfT1hd2FpdCBzKHRoaXMscikuc3RhcnRDbGllbnRPZmZlcigpO3JldHVybiBuPXtydGNDbGllbnQ6ZSxjaGFubmVsczp0LGNoYW5uZWxzT3BlbmVkOmF9LHt0eXBlOlwicnRjXCIsdmVyc2lvbjpoLlJUQ0luZm8udmVyc2lvbixwYXlsb2FkOntvZmZlcjppLHJ0Y0Nvbm5lY3Rpb25JZDpvfX19Y2FzZVwiY2xhc3NpY1wiOnJldHVybnt0eXBlOlwiY2xhc3NpY1wiLHZlcnNpb246ZC5DbGFzc2ljSW5mby52ZXJzaW9ufTtkZWZhdWx0OnJldHVybiBhLmV4aGF1c3RpdmVDaGVjayhlLFtcInJ0Y1wiLFwiY2xhc3NpY1wiXSl9fSkpKSxtYXhQcm90b2NvbHM6Mn0scnRjOm59fWFzeW5jIGNyZWF0ZUNsaWVudFN0cmF0ZWd5KGUsdCl7dmFyIG47dC5lbmRwb2ludElkfHwodC5lbmRwb2ludElkPXRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXROZXh0TWVzc2FnZUlkKCkscyh0aGlzLGkpLmNoZWNrRm9yUHJldmlvdXNDbGllbnRDb25uZWN0aW9uKHQuY2hhbm5lbElkKSk7Y29uc3Qgbz1udWxsIT09KG49dC5hbnN3ZXIpJiZ2b2lkIDAhPT1uP246e3N1cHBvcnRlZFByb3RvY29sczpbe3R5cGU6XCJjbGFzc2ljXCIsdmVyc2lvbjoxfV19LGE9KGF3YWl0IFByb21pc2UuYWxsKG8uc3VwcG9ydGVkUHJvdG9jb2xzLm1hcCgoYXN5bmMgbj0+XCJydGNcIj09PW4udHlwZSYmZT8oYXdhaXQgcyh0aGlzLHIpLmZpbmlzaENsaWVudE9mZmVyKGUucnRjQ2xpZW50LG4ucGF5bG9hZC5hbnN3ZXIsZS5jaGFubmVsc09wZW5lZCksbmV3IGguUlRDU3RyYXRlZ3kpOlwiY2xhc3NpY1wiPT09bi50eXBlP25ldyBkLkNsYXNzaWNTdHJhdGVneSh0aGlzLndpcmUscyh0aGlzLGkpLHQuZW5kcG9pbnRJZCx0KTpudWxsKSkpKS5maWx0ZXIoKGU9Pm51bGwhPT1lKSk7bGV0IGM7aWYoZSYmIWEuc29tZSgoZT0+ZSBpbnN0YW5jZW9mIGguUlRDU3RyYXRlZ3kpKSYmZSYmZS5ydGNDbGllbnQuY2xvc2UoKSxhLmxlbmd0aD49MiljPXkuZGVmYXVsdC5jb21iaW5lKGFbMF0sYVsxXSk7ZWxzZXtpZighYS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm8gY29tcGF0aWJsZSBwcm90b2NvbHNcIik7W2NdPWF9Y29uc3QgbD17ZW5kcG9pbnRJZGVudGl0eTp0LHJ0YzplfTtyZXR1cm4gYy5hZGRFbmRwb2ludCh0LmNoYW5uZWxJZCxsKSxjfWFzeW5jIHByb2Nlc3NDaGFubmVsQ29ubmVjdGlvbihlKXtjb25zdHtjbGllbnRJZGVudGl0eTp0LHByb3ZpZGVySWRlbnRpdHk6bixhY2tUb1NlbmRlcjppLHBheWxvYWQ6byxvZmZlcjphfT1lLnBheWxvYWQ7dC5lbmRwb2ludElkP3QuaXNMb2NhbEVuZHBvaW50SWQ9ITE6KHQuZW5kcG9pbnRJZD10aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0TmV4dE1lc3NhZ2VJZCgpLHQuaXNMb2NhbEVuZHBvaW50SWQ9ITApO2NvbnN0IGM9bi5jaGFubmVsSWQsbD10aGlzLnByb3ZpZGVyTWFwLmdldChjKTtpZighbClyZXR1cm4gaS5wYXlsb2FkLnN1Y2Nlc3M9ITEsaS5wYXlsb2FkLnJlYXNvbj1gQ2hhbm5lbCBcIiR7bi5jaGFubmVsTmFtZX1cIiBoYXMgYmVlbiBkZXN0cm95ZWQuYCx0aGlzLndpcmUuc2VuZFJhdyhpKTtjb25zdHtwcm92aWRlcjpwLHN0cmF0ZWd5Oncsc3VwcG9ydGVkUHJvdG9jb2xzOnl9PWw7dHJ5e2lmKCEocCBpbnN0YW5jZW9mIHUuQ2hhbm5lbFByb3ZpZGVyKSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjb25uZWN0IHRvIGEgY2hhbm5lbCBjbGllbnRcIik7Y29uc3QgZT1udWxsIT1hP2E6e3N1cHBvcnRlZFByb3RvY29sczpbe3R5cGU6XCJjbGFzc2ljXCIsdmVyc2lvbjoxfV0sbWF4UHJvdG9jb2xzOjF9LG49dGhpcy5wcm90b2NvbE1hbmFnZXIuZ2V0Q29tcGF0aWJsZVByb3RvY29scyh5LGUpO2lmKCFuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHByb3ZpZGVyIGRvZXMgbm90IHN1cHBvcnQgYW55IG9mIHRoZSBvZmZlcmVkIHByb3RvY29scy5cIik7Y29uc3QgYz1hd2FpdCBwLnByb2Nlc3NDb25uZWN0aW9uKHQsbyk7aS5wYXlsb2FkLnBheWxvYWQ9aS5wYXlsb2FkLnBheWxvYWR8fHt9O2xldCBsPXtzdXBwb3J0ZWRQcm90b2NvbHM6W10sZW5kcG9pbnRQYXlsb2FkUHJvbWlzZTpQcm9taXNlLnJlc29sdmUoe2VuZHBvaW50SWRlbnRpdHk6dH0pfTtyZXR1cm4gbD1hd2FpdCBuLnJlZHVjZSgoYXN5bmMoZSx0KT0+e2NvbnN0IG49YXdhaXQgZTtpZihcInJ0Y1wiPT09dC50eXBlKXtjb25zdHthbnN3ZXI6ZSxydGNDbGllbnQ6aSxjaGFubmVsczpvfT1hd2FpdCBzKHRoaXMscikuY3JlYXRlUHJvdmlkZXJBbnN3ZXIodC5wYXlsb2FkLnJ0Y0Nvbm5lY3Rpb25JZCx0LnBheWxvYWQub2ZmZXIpO24uc3VwcG9ydGVkUHJvdG9jb2xzLnB1c2goe3R5cGU6XCJydGNcIix2ZXJzaW9uOmguUlRDSW5mby52ZXJzaW9uLHBheWxvYWQ6e2Fuc3dlcjplfX0pLG4uZW5kcG9pbnRQYXlsb2FkUHJvbWlzZT1uLmVuZHBvaW50UGF5bG9hZFByb21pc2UudGhlbigoZT0+by50aGVuKCh0PT4oey4uLmUscnRjOntydGNDbGllbnQ6aSxjaGFubmVsczp0fX0pKSkpKX1lbHNlIG4uc3VwcG9ydGVkUHJvdG9jb2xzLnB1c2goe3R5cGU6XCJjbGFzc2ljXCIsdmVyc2lvbjpkLkNsYXNzaWNJbmZvLnZlcnNpb259KTtyZXR1cm4gbn0pLFByb21pc2UucmVzb2x2ZShsKSksbC5lbmRwb2ludFBheWxvYWRQcm9taXNlLnRoZW4oKGU9PncuYWRkRW5kcG9pbnQodC5lbmRwb2ludElkLGUpKSksaS5wYXlsb2FkLnBheWxvYWQucmVzdWx0PWMsaS5wYXlsb2FkLnBheWxvYWQuYW5zd2VyPWwsdGhpcy53aXJlLnNlbmRSYXcoaSl9Y2F0Y2goZSl7cmV0dXJuIGkucGF5bG9hZC5zdWNjZXNzPSExLGkucGF5bG9hZC5yZWFzb249ZS5tZXNzYWdlLHRoaXMud2lyZS5zZW5kUmF3KGkpfX19dC5Db25uZWN0aW9uTWFuYWdlcj1mLGk9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcH0sNzcyMjpmdW5jdGlvbihlLHQsbil7dmFyIGkscj10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0sbz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DaGFubmVsPXZvaWQgMDtjb25zdCBzPW4oODM3OCksYT1uKDI5NDIpLGM9big5NjU5KSxkPW4oNjcxMSksaD0oKT0+e307Y2xhc3MgbCBleHRlbmRzIGMuRW1pdHRlckJhc2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxcImNoYW5uZWxcIiksaS5zZXQodGhpcyx2b2lkIDApLHIodGhpcyxpLG5ldyBkLkNvbm5lY3Rpb25NYW5hZ2VyKGUpKX1hc3luYyBnZXRBbGxDaGFubmVscygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1hbGwtY2hhbm5lbHNcIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgb25DaGFubmVsQ29ubmVjdChlKXthd2FpdCB0aGlzLm9uKFwiY29ubmVjdGVkXCIsZSl9YXN5bmMgb25DaGFubmVsRGlzY29ubmVjdChlKXthd2FpdCB0aGlzLm9uKFwiZGlzY29ubmVjdGVkXCIsZSl9YXN5bmMgY29ubmVjdChlLHQpe2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhIGNoYW5uZWxOYW1lIHN0cmluZyB0byBjb25uZWN0IHRvIGEgY2hhbm5lbC5cIik7Y29uc3Qgbj1PYmplY3QuYXNzaWduKHRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXREZWZhdWx0Q2hhbm5lbE9wdGlvbnMoKS5jb25uZWN0LHR8fHt9KTtsZXQgcj1oLGE9aDtjb25zdCBjPW5ldyBQcm9taXNlKCh0PT57cj10LGE9aT0+e2U9PT1pLmNoYW5uZWxOYW1lJiYodGhpcy5yZW1vdmVMaXN0ZW5lcihcImNvbm5lY3RlZFwiLGEpLHRoaXMuY29ubmVjdChlLG4pLnRoZW4oKGU9Pnt0KGUpfSkpKX0sdGhpcy5vbihcImNvbm5lY3RlZFwiLGEpfSkpO3RyeXtjb25zdHtvZmZlcjp0LHJ0YzpjfT1hd2FpdCBvKHRoaXMsaSkuY3JlYXRlQ2xpZW50T2ZmZXIobiksZD1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNvbm5lY3QtdG8tY2hhbm5lbFwiLHtjaGFubmVsTmFtZTplLC4uLm4sb2ZmZXI6dH0pLHtwYXlsb2FkOntkYXRhOmh9fT1kO3ImJnIoKSx0aGlzLnJlbW92ZUxpc3RlbmVyKFwiY29ubmVjdGVkXCIsYSk7Y29uc3QgbD1hd2FpdCBvKHRoaXMsaSkuY3JlYXRlQ2xpZW50U3RyYXRlZ3koYyxoKSx1PW5ldyBzLmRlZmF1bHQoaCx0aGlzLndpcmUsbCk7cmV0dXJuIGwub25FbmRwb2ludERpc2Nvbm5lY3QoaC5jaGFubmVsSWQsKGFzeW5jKCk9Pnt0cnl7YXdhaXQgdS5kaXNjb25uZWN0KCl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKGBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgZGlzY29ubmVjdCBmb3IgY2xpZW50IHdpdGggdXVpZDogJHtoLnV1aWR9IC8gbmFtZTogJHtoLm5hbWV9IC8gZW5kcG9pbnRJZDogJHtoLmVuZHBvaW50SWR9LmApfWZpbmFsbHl7cy5kZWZhdWx0LmhhbmRsZVByb3ZpZGVyRGlzY29ubmVjdCh1LGgpfX0pKSx0aGlzLm9uKFwiZGlzY29ubmVjdGVkXCIsKHQ9Pnt0LmNoYW5uZWxOYW1lPT09ZSYmcy5kZWZhdWx0LmhhbmRsZVByb3ZpZGVyRGlzY29ubmVjdCh1LHQpfSkpLHV9Y2F0Y2godCl7Y29uc3QgaT1cImludGVybmFsLW5hY2tcIjtpZih7d2FpdDohMCwuLi5ufS53YWl0JiZ0Lm1lc3NhZ2UmJnQubWVzc2FnZS5pbmNsdWRlcyhpKSlyZXR1cm4gY29uc29sZS53YXJuKGBDaGFubmVsIG5vdCBmb3VuZCBmb3IgY2hhbm5lbE5hbWU6ICR7ZX0sIHdhaXRpbmcgZm9yIGNoYW5uZWwgY29ubmVjdGlvbi5gKSxjO3Rocm93IHQubWVzc2FnZT09PWk/bmV3IEVycm9yKGBObyBjaGFubmVsIGZvdW5kIGZvciBjaGFubmVsTmFtZTogJHtlfWApOm5ldyBFcnJvcih0KX19YXN5bmMgY3JlYXRlKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBjaGFubmVsTmFtZSB0byBjcmVhdGUgYSBjaGFubmVsXCIpO2NvbnN0e3BheWxvYWQ6e2RhdGE6bn19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY3JlYXRlLWNoYW5uZWxcIix7Y2hhbm5lbE5hbWU6ZX0pLHI9byh0aGlzLGkpLmNyZWF0ZVByb3ZpZGVyKHQsbik7cmV0dXJuIHRoaXMub24oXCJjbGllbnQtZGlzY29ubmVjdGVkXCIsKHQ9Pnt0LmNoYW5uZWxOYW1lPT09ZSYmYS5DaGFubmVsUHJvdmlkZXIuaGFuZGxlQ2xpZW50RGlzY29ubmVjdGlvbihyLHQpfSkpLHJ9fXQuQ2hhbm5lbD1sLGk9bmV3IFdlYWtNYXB9LDM3NDk6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTWVzc2FnZVJlY2VpdmVyPXZvaWQgMDtjb25zdCBpPW4oODM3OCkscj1uKDk2NTkpO2NsYXNzIG8gZXh0ZW5kcyByLkJhc2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5vbm1lc3NhZ2U9ZT0+XCJwcm9jZXNzLWNoYW5uZWwtbWVzc2FnZVwiPT09ZS5hY3Rpb24mJih0aGlzLnByb2Nlc3NDaGFubmVsTWVzc2FnZShlKSwhMCksdGhpcy5lbmRwb2ludE1hcD1uZXcgTWFwLHRoaXMubGF0ZXN0RW5kcG9pbnRJZEJ5Q2hhbm5lbElkPW5ldyBNYXAsZS5yZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKHRoaXMub25tZXNzYWdlLmJpbmQodGhpcykpfWFzeW5jIHByb2Nlc3NDaGFubmVsTWVzc2FnZShlKXt2YXIgdCxuO2NvbnN0e3NlbmRlcklkZW50aXR5OmkscHJvdmlkZXJJZGVudGl0eTpyLGFjdGlvbjpvLGFja1RvU2VuZGVyOnMscGF5bG9hZDphLGludGVuZGVkVGFyZ2V0SWRlbnRpdHk6Y309ZS5wYXlsb2FkLGQ9bnVsbCE9PShuPW51bGwhPT0odD1jLmNoYW5uZWxJZCkmJnZvaWQgMCE9PXQ/dDpjLmVuZHBvaW50SWQpJiZ2b2lkIDAhPT1uP246dGhpcy5sYXRlc3RFbmRwb2ludElkQnlDaGFubmVsSWQuZ2V0KHIuY2hhbm5lbElkKSxoPXRoaXMuZW5kcG9pbnRNYXAuZ2V0KGQpO2lmKCFoKXJldHVybiBzLnBheWxvYWQuc3VjY2Vzcz0hMSxzLnBheWxvYWQucmVhc29uPWBDbGllbnQgY29ubmVjdGlvbiB3aXRoIGlkZW50aXR5IHV1aWQ6ICR7dGhpcy53aXJlLm1lLnV1aWR9IC8gbmFtZTogJHt0aGlzLndpcmUubWUubmFtZX0gLyBlbmRwb2ludElkOiAke2R9IG5vIGxvbmdlciBjb25uZWN0ZWQuYCx0aGlzLndpcmUuc2VuZFJhdyhzKTt0cnl7Y29uc3QgZT1hd2FpdCBoKG8sYSxpKTtyZXR1cm4gcy5wYXlsb2FkLnBheWxvYWQ9cy5wYXlsb2FkLnBheWxvYWR8fHt9LHMucGF5bG9hZC5wYXlsb2FkLnJlc3VsdD1lLHRoaXMud2lyZS5zZW5kUmF3KHMpfWNhdGNoKGUpe3JldHVybiBzLnBheWxvYWQuc3VjY2Vzcz0hMSxzLnBheWxvYWQucmVhc29uPWUubWVzc2FnZSx0aGlzLndpcmUuc2VuZFJhdyhzKX19YWRkRW5kcG9pbnQoZSx0LG4pe3RoaXMuZW5kcG9pbnRNYXAuc2V0KG4sZSksdCE9PW4mJnRoaXMubGF0ZXN0RW5kcG9pbnRJZEJ5Q2hhbm5lbElkLnNldCh0LG4pfXJlbW92ZUVuZHBvaW50KGUsdCl7dGhpcy5lbmRwb2ludE1hcC5kZWxldGUodCksdGhpcy5sYXRlc3RFbmRwb2ludElkQnlDaGFubmVsSWQuZ2V0KGUpPT09dCYmdGhpcy5sYXRlc3RFbmRwb2ludElkQnlDaGFubmVsSWQuZGVsZXRlKGUpfWNoZWNrRm9yUHJldmlvdXNDbGllbnRDb25uZWN0aW9uKGUpe2NvbnN0IHQ9dGhpcy5sYXRlc3RFbmRwb2ludElkQnlDaGFubmVsSWQuZ2V0KGUpO3QmJihpLmRlZmF1bHQuY2xvc2VDaGFubmVsQnlFbmRwb2ludElkKHQpLGNvbnNvbGUud2FybihcIllvdSBoYXZlIGNyZWF0ZWQgYSBzZWNvbmQgY29ubmVjdGlvbiB0byBhbiBvbGRlciBwcm92aWRlci4gRmlyc3QgY29ubmVjdGlvbiBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIGNsaWVudE1hcFwiKSxjb25zb2xlLndhcm4oXCJJZiB0aGUgcHJvdmlkZXIgY2FsbHMgcHVibGlzaCgpLCB5b3UgbWF5IHJlY2VpdmUgbXVsdGlwbGUgbWVzc2FnZXMuXCIpKX19dC5NZXNzYWdlUmVjZWl2ZXI9b30sMTA0NjpmdW5jdGlvbihlLHQpe3ZhciBuLGkscj10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0sbz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DbGFzc2ljSW5mbz10LkNsYXNzaWNTdHJhdGVneT12b2lkIDAsdC5DbGFzc2ljU3RyYXRlZ3k9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHMsYSl7dGhpcy5tZXNzYWdlUmVjZWl2ZXI9dCx0aGlzLmVuZHBvaW50SWQ9cyx0aGlzLnByb3ZpZGVySWRlbnRpdHk9YSxuLnNldCh0aGlzLHZvaWQgMCksaS5zZXQodGhpcyxuZXcgTWFwKSx0aGlzLnNlbmQ9YXN5bmMoZSx0LHIpPT57Y29uc3Qgcz1vKHRoaXMsaSkuZ2V0KGUpO2lmKCFzKXRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGxvY2F0ZSByb3V0aW5nIGluZm8gZm9yIGVuZHBvaW50ICR7ZX1gKTtjb25zdCBhPXsuLi5zfTtyZXR1cm4gYS5pc0xvY2FsRW5kcG9pbnRJZCYmZGVsZXRlIGEuZW5kcG9pbnRJZCxkZWxldGUgYS5pc0xvY2FsRW5kcG9pbnRJZCwoYXdhaXQgbyh0aGlzLG4pLnNlbmRBY3Rpb24oXCJzZW5kLWNoYW5uZWwtbWVzc2FnZVwiLHsuLi5hLHByb3ZpZGVySWRlbnRpdHk6dGhpcy5wcm92aWRlcklkZW50aXR5LGFjdGlvbjp0LHBheWxvYWQ6cn0pLmNhdGNoKChlPT57dGhyb3cgbmV3IEVycm9yKGUubWVzc2FnZSl9KSkpLnBheWxvYWQuZGF0YS5yZXN1bHR9LHRoaXMuY2xvc2U9YXN5bmMoKT0+e3RoaXMubWVzc2FnZVJlY2VpdmVyLnJlbW92ZUVuZHBvaW50KHRoaXMucHJvdmlkZXJJZGVudGl0eS5jaGFubmVsSWQsdGhpcy5lbmRwb2ludElkKSxyKHRoaXMsaSxuZXcgTWFwKX0scih0aGlzLG4sZSl9b25FbmRwb2ludERpc2Nvbm5lY3QoZSx0KXt9cmVjZWl2ZShlKXt0aGlzLm1lc3NhZ2VSZWNlaXZlci5hZGRFbmRwb2ludChlLHRoaXMucHJvdmlkZXJJZGVudGl0eS5jaGFubmVsSWQsdGhpcy5lbmRwb2ludElkKX1hc3luYyBjbG9zZUVuZHBvaW50KGUpe28odGhpcyxpKS5kZWxldGUoZSl9aXNFbmRwb2ludENvbm5lY3RlZChlKXtyZXR1cm4gbyh0aGlzLGkpLmhhcyhlKX1hZGRFbmRwb2ludChlLHQpe28odGhpcyxpKS5zZXQoZSx0LmVuZHBvaW50SWRlbnRpdHkpfWlzVmFsaWRFbmRwb2ludFBheWxvYWQoZSl7dmFyIHQsbjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YobnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUuZW5kcG9pbnRJZGVudGl0eSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5kcG9pbnRJZCl8fFwic3RyaW5nXCI9PXR5cGVvZihudWxsPT09KG49bnVsbD09ZT92b2lkIDA6ZS5lbmRwb2ludElkZW50aXR5KXx8dm9pZCAwPT09bj92b2lkIDA6bi5jaGFubmVsSWQpfX0sbj1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwLHQuQ2xhc3NpY0luZm89e3ZlcnNpb246NSxtaW5pbXVtVmVyc2lvbjowLHR5cGU6XCJjbGFzc2ljXCJ9fSw3MTEzOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y2xhc3Mgbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMucHJpbWFyeT1lLHRoaXMuc2Vjb25kYXJ5PXR9c3RhdGljIGNvbWJpbmUoZSx0KXtyZXR1cm4gbmV3IG4oZSx0KX1vbkVuZHBvaW50RGlzY29ubmVjdChlLHQpe3RoaXMucHJpbWFyeS5vbkVuZHBvaW50RGlzY29ubmVjdChlLCgoKT0+e3RoaXMuc2Vjb25kYXJ5LmlzRW5kcG9pbnRDb25uZWN0ZWQoZSl8fHQoKX0pKSx0aGlzLnNlY29uZGFyeS5vbkVuZHBvaW50RGlzY29ubmVjdChlLCgoKT0+e3RoaXMucHJpbWFyeS5pc0VuZHBvaW50Q29ubmVjdGVkKGUpfHx0KCl9KSl9aXNWYWxpZEVuZHBvaW50UGF5bG9hZChlKXtyZXR1cm4gdGhpcy5wcmltYXJ5LmlzVmFsaWRFbmRwb2ludFBheWxvYWQoZSl8fHRoaXMuc2Vjb25kYXJ5LmlzVmFsaWRFbmRwb2ludFBheWxvYWQoZSl9YXN5bmMgY2xvc2VFbmRwb2ludChlKXthd2FpdCB0aGlzLnByaW1hcnkuY2xvc2VFbmRwb2ludChlKSxhd2FpdCB0aGlzLnNlY29uZGFyeS5jbG9zZUVuZHBvaW50KGUpfWlzRW5kcG9pbnRDb25uZWN0ZWQoZSl7cmV0dXJuIHRoaXMucHJpbWFyeS5pc0VuZHBvaW50Q29ubmVjdGVkKGUpfHx0aGlzLnNlY29uZGFyeS5pc0VuZHBvaW50Q29ubmVjdGVkKGUpfWFzeW5jIGFkZEVuZHBvaW50KGUsdCl7dGhpcy5wcmltYXJ5LmlzVmFsaWRFbmRwb2ludFBheWxvYWQodCkmJmF3YWl0IHRoaXMucHJpbWFyeS5hZGRFbmRwb2ludChlLHQpLHRoaXMuc2Vjb25kYXJ5LmlzVmFsaWRFbmRwb2ludFBheWxvYWQodCkmJmF3YWl0IHRoaXMuc2Vjb25kYXJ5LmFkZEVuZHBvaW50KGUsdCl9cmVjZWl2ZShlKXt0aGlzLnByaW1hcnkucmVjZWl2ZShlKSx0aGlzLnNlY29uZGFyeS5yZWNlaXZlKGUpfXNlbmQoZSx0LG4pe3JldHVybiB0aGlzLnByaW1hcnkuaXNFbmRwb2ludENvbm5lY3RlZChlKT90aGlzLnByaW1hcnkuc2VuZChlLHQsbik6dGhpcy5zZWNvbmRhcnkuc2VuZChlLHQsbil9YXN5bmMgY2xvc2UoKXthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wcmltYXJ5LmNsb3NlKCksdGhpcy5zZWNvbmRhcnkuY2xvc2UoKV0pfX10LmRlZmF1bHQ9bn0sMzAzNzooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUHJvdG9jb2xNYW5hZ2VyPXZvaWQgMCx0LlByb3RvY29sTWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLlByb3RvY29sc0luUHJlZmVyZW5jZU9yZGVyPWUsdGhpcy5EZWZhdWx0Q2xpZW50UHJvdG9jb2xzPVtcImNsYXNzaWNcIl0sdGhpcy5EZWZhdWx0UHJvdmlkZXJQcm90b2NvbHM9W1wiY2xhc3NpY1wiXSx0aGlzLmdldENsaWVudFByb3RvY29scz1lPT57Y29uc3QgdD1lP3RoaXMuUHJvdG9jb2xzSW5QcmVmZXJlbmNlT3JkZXIuZmlsdGVyKCh0PT5lLmluY2x1ZGVzKHQpKSk6dGhpcy5EZWZhdWx0Q2xpZW50UHJvdG9jb2xzO2lmKCF0Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYE5vIHZhbGlkIHByb3RvY29scyB3ZXJlIHBhc3NlZCBpbi4gQWNjZXB0ZWQgdmFsdWVzIGFyZTogJHt0aGlzLlByb3RvY29sc0luUHJlZmVyZW5jZU9yZGVyLmpvaW4oXCIsIFwiKX0uYCk7cmV0dXJuIHR9LHRoaXMuZ2V0UHJvdmlkZXJQcm90b2NvbHM9ZT0+e2NvbnN0IHQ9ZT90aGlzLlByb3RvY29sc0luUHJlZmVyZW5jZU9yZGVyLmZpbHRlcigodD0+ZS5pbmNsdWRlcyh0KSkpOnRoaXMuRGVmYXVsdFByb3ZpZGVyUHJvdG9jb2xzO2lmKCF0Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYE5vIHZhbGlkIHByb3RvY29scyB3ZXJlIHBhc3NlZCBpbi4gQWNjZXB0ZWQgdmFsdWVzIGFyZTogJHt0aGlzLlByb3RvY29sc0luUHJlZmVyZW5jZU9yZGVyLmpvaW4oXCIsIFwiKX0uYCk7cmV0dXJuIHR9LHRoaXMuZ2V0Q29tcGF0aWJsZVByb3RvY29scz0oZSx0KT0+dC5zdXBwb3J0ZWRQcm90b2NvbHMuZmlsdGVyKCh0PT5lLnNvbWUoKGU9Pnt2YXIgbjtyZXR1cm4gZS50eXBlPT09dC50eXBlJiZ0LnZlcnNpb24+PWUubWluaW11bVZlcnNpb24mJmUudmVyc2lvbj49KG51bGwhPT0obj10Lm1pbmltdW1WZXJzaW9uKSYmdm9pZCAwIT09bj9uOjApfSkpKSkuc2xpY2UoMCx0Lm1heFByb3RvY29scyl9fX0sODc3NjpmdW5jdGlvbihlLHQsbil7dmFyIGkscixvPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldHx8ZnVuY3Rpb24oZSx0KXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuZ2V0KGUpfSxzPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldHx8ZnVuY3Rpb24oZSx0LG4pe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5zZXQoZSxuKSxufTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJUQ0VuZHBvaW50PXZvaWQgMDtjb25zdCBhPW4oMjM2Nik7dC5SVENFbmRwb2ludD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMucnRjPWUsdGhpcy5lbmRwb2ludElkZW50aXR5PXQsdGhpcy5yZXNwb25zZU1hcD1uZXcgTWFwLGkuc2V0KHRoaXMsbnVsbCksci5zZXQodGhpcyx2b2lkIDApLHRoaXMuY29ubmVjdGlvblN0YXRlQ2hhbmdlSGFuZGxlcj1lPT57XCJjb25uZWN0ZWRcIiE9PXRoaXMucnRjLnJ0Y0NsaWVudC5jb25uZWN0aW9uU3RhdGUmJih0aGlzLnJ0Yy5ydGNDbGllbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuY29ubmVjdGlvblN0YXRlQ2hhbmdlSGFuZGxlciksdGhpcy5jbG9zZSgpLG8odGhpcyxyKSYmbyh0aGlzLHIpLmNhbGwodGhpcykpfSx0aGlzLnNlbmQ9YXN5bmMoZSx0KT0+e2NvbnN0IG49YG1lc3NhZ2UtJHtNYXRoLnJhbmRvbSgpfWAsaT1uZXcgUHJvbWlzZSgoKGUsdCk9Pnt0aGlzLnJlc3BvbnNlTWFwLnNldChuLHtyZXNvbHZlOmUscmVqZWN0OnR9KX0pKTtyZXR1cm4gdGhpcy5ydGMuY2hhbm5lbHMucmVxdWVzdC5zZW5kKEpTT04uc3RyaW5naWZ5KHthY3Rpb246ZSxwYXlsb2FkOnQsbWVzc2FnZUlkOm59KSksaX0sdGhpcy5jbG9zZT0oKT0+e3RoaXMucmVzcG9uc2VNYXAuZm9yRWFjaCgoZT0+ZS5yZWplY3QoXCJDb25uZWN0aW9uIGhhcyBjbG9zZWQuXCIpKSksdGhpcy5yZXNwb25zZU1hcD1uZXcgTWFwLHRoaXMucnRjLmNoYW5uZWxzLnJlcXVlc3QuY2xvc2UoKSx0aGlzLnJ0Yy5jaGFubmVscy5yZXNwb25zZS5jbG9zZSgpLHRoaXMucnRjLnJ0Y0NsaWVudC5jbG9zZSgpfSx0aGlzLnJ0Yy5jaGFubmVscy5yZXNwb25zZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChlPT57dmFyIHQ7Y29uc3R7bWVzc2FnZUlkOm4scGF5bG9hZDppLHN1Y2Nlc3M6cixlcnJvcjpvfT1KU09OLnBhcnNlKGUuZGF0YSkse3Jlc29sdmU6cyxyZWplY3Q6YX09bnVsbCE9PSh0PXRoaXMucmVzcG9uc2VNYXAuZ2V0KG4pKSYmdm9pZCAwIT09dD90Ont9O3MmJmE/KHRoaXMucmVzcG9uc2VNYXAuZGVsZXRlKG4pLHI/cyhpKTphKG8pKTooY29uc29sZS5sb2coXCJDb3VsZCBub3QgZmluZCBpZCBpbiByZXNwb25zZU1hcC5cIiksY29uc29sZS5sb2coZSkpfSkpLHRoaXMucnRjLmNoYW5uZWxzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwoYXN5bmMgZT0+e2NvbnN0e21lc3NhZ2VJZDpuLGFjdGlvbjpyLHBheWxvYWQ6c309SlNPTi5wYXJzZShlLmRhdGEpO2lmKG8odGhpcyxpKSl0cnl7Y29uc3QgZT1hd2FpdCBvKHRoaXMsaSkuY2FsbCh0aGlzLHIscyx0KTt0aGlzLnJ0Yy5jaGFubmVscy5yZXNwb25zZS5zZW5kKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlSWQ6bixwYXlsb2FkOmUsc3VjY2VzczohMH0pKX1jYXRjaChlKXtcIm9wZW5cIj09PXRoaXMucnRjLmNoYW5uZWxzLnJlc3BvbnNlLnJlYWR5U3RhdGUmJnRoaXMucnRjLmNoYW5uZWxzLnJlc3BvbnNlLnNlbmQoSlNPTi5zdHJpbmdpZnkoe21lc3NhZ2VJZDpuLGVycm9yOmEuZXJyb3JUb1BPSk8oZSksc3VjY2VzczohMX0pKX1lbHNlXCJvcGVuXCI9PT10aGlzLnJ0Yy5jaGFubmVscy5yZXNwb25zZS5yZWFkeVN0YXRlJiZ0aGlzLnJ0Yy5jaGFubmVscy5yZXNwb25zZS5zZW5kKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlSWQ6bixzdWNjZXNzOiExLGVycm9yOlwiQ29ubmVjdGlvbiBub3QgcmVhZHkuXCJ9KSl9KSksdGhpcy5ydGMucnRjQ2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix0aGlzLmNvbm5lY3Rpb25TdGF0ZUNoYW5nZUhhbmRsZXIpLE9iamVjdC52YWx1ZXModGhpcy5ydGMuY2hhbm5lbHMpLmZvckVhY2goKGU9PntlLm9uY2xvc2U9ZT0+e1suLi50aGlzLnJlc3BvbnNlTWFwLnZhbHVlcygpXS5mb3JFYWNoKChlPT5lLnJlamVjdChuZXcgRXJyb3IoXCJSVENEYXRhQ2hhbm5lbCBjbG9zZWQgdW5leHBlY3RlZGx5LCB0aGlzIGlzIG1vc3QgY29tbW9ubHkgY2F1c2VkIGJ5IG1lc3NhZ2Ugc2l6ZS4gTm90ZTogUlRDIENoYW5uZWxzIGhhdmUgYSBtZXNzYWdlIHNpemUgbGltaXQgb2YgfjI1NWtCLlwiKSkpKSx0aGlzLmNsb3NlKCksbyh0aGlzLHIpJiZvKHRoaXMscikuY2FsbCh0aGlzKX19KSl9b25EaXNjb25uZWN0KGUpe2lmKG8odGhpcyxyKSl0aHJvdyBuZXcgRXJyb3IoXCJSVENFbmRwb2ludCBkaXNjb25uZWN0TGlzdGVuZXIgY2Fubm90IGJlIHNldCB0d2ljZS5cIik7cyh0aGlzLHIsZSl9cmVjZWl2ZShlKXtpZihvKHRoaXMsaSkpdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgYSBsaXN0ZW5lciBmb3IgdGhpcyBSVEMgRW5kcG9pbnQuXCIpO3ModGhpcyxpLGUpfWdldCBjb25uZWN0ZWQoKXtyZXR1cm5cImNvbm5lY3RlZFwiPT09dGhpcy5ydGMucnRjQ2xpZW50LmNvbm5lY3Rpb25TdGF0ZX19LGk9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcH0sNTY5OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJUQ0lDRU1hbmFnZXI9dm9pZCAwO2NvbnN0IGk9big5NjU5KTtjbGFzcyByIGV4dGVuZHMgaS5FbWl0dGVyQmFzZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlLFwiY2hhbm5lbFwiKSx0aGlzLmVuc3VyZUNoYW5uZWxPcGVuZWQ9ZT0+bmV3IFByb21pc2UoKCh0LG4pPT57aWYoXCJvcGVuXCI9PT1lLnJlYWR5U3RhdGUpdCgpO2Vsc2UgaWYoXCJjb25uZWN0aW5nXCI9PT1lLnJlYWR5U3RhdGUpe2NvbnN0IG49KCk9PntlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsbiksdCgpfTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsbil9ZWxzZSBuKG5ldyBFcnJvcihcIlRoaXMgQ2hhbm5lbCBoYXMgYWxyZWFkeSBjbG9zZWRcIikpfSkpfXN0YXRpYyBjcmVhdGVEYXRhQ2hhbm5lbFByb21pc2UoZSx0KXtsZXQgbjtjb25zdCBpPW5ldyBQcm9taXNlKChlPT57bj1lfSkpLHI9aT0+e2NvbnN0IG89KCk9PntpLmNoYW5uZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9wZW5cIixvKSxuKGkuY2hhbm5lbCl9O2kuY2hhbm5lbC5sYWJlbD09PWUmJihpLmNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIixvKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkYXRhY2hhbm5lbFwiLHIpKX07cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihcImRhdGFjaGFubmVsXCIsciksaX1hc3luYyBsaXN0ZW5Gb3JQcm92aWRlckljZShlLHQpe2F3YWl0IHRoaXMub24odGhpcy5jcmVhdGVQcm92aWRlckV2ZW50TmFtZShlKSx0LHt0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfWFzeW5jIHJhaXNlUHJvdmlkZXJJY2UoZSx0KXthd2FpdCB0aGlzLndpcmUuZW52aXJvbm1lbnQucmFpc2VFdmVudCh0aGlzLmNyZWF0ZVJvdXRlU3RyaW5nKHRoaXMuY3JlYXRlUHJvdmlkZXJFdmVudE5hbWUoZSkpLHQpfWFzeW5jIGxpc3RlbkZvckNsaWVudEljZShlLHQpe2F3YWl0IHRoaXMub24odGhpcy5jcmVhdGVDbGllbnRFdmVudE5hbWUoZSksdCx7dGltZXN0YW1wOkRhdGUubm93KCl9KX1hc3luYyByYWlzZUNsaWVudEljZShlLHQpe2F3YWl0IHRoaXMud2lyZS5lbnZpcm9ubWVudC5yYWlzZUV2ZW50KHRoaXMuY3JlYXRlUm91dGVTdHJpbmcodGhpcy5jcmVhdGVDbGllbnRFdmVudE5hbWUoZSkpLHQpfWNsZWFudXBJY2VMaXN0ZW5lcnMoZSl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnModGhpcy5jcmVhdGVDbGllbnRFdmVudE5hbWUoZSkpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHRoaXMuY3JlYXRlUHJvdmlkZXJFdmVudE5hbWUoZSkpfWNyZWF0ZUNsaWVudEV2ZW50TmFtZShlKXtyZXR1cm5gaWNlLWNsaWVudC0ke2V9YH1jcmVhdGVQcm92aWRlckV2ZW50TmFtZShlKXtyZXR1cm5gaWNlLXByb3ZpZGVyLSR7ZX1gfWNyZWF0ZVJvdXRlU3RyaW5nKGUpe3JldHVybmBjaGFubmVsLyR7ZX1gfWNyZWF0ZVJ0Y1BlZXIoKXtyZXR1cm4gdGhpcy53aXJlLmVudmlyb25tZW50LmdldFJ0Y1BlZXIoKX1hc3luYyBzdGFydENsaWVudE9mZmVyKCl7Y29uc3QgZT1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCksdD10aGlzLmNyZWF0ZVJ0Y1BlZXIoKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJpY2VjYW5kaWRhdGVcIiwoYXN5bmMgdD0+e3ZhciBuO3QuY2FuZGlkYXRlJiZhd2FpdCB0aGlzLnJhaXNlQ2xpZW50SWNlKGUse2NhbmRpZGF0ZTpudWxsPT09KG49dC5jYW5kaWRhdGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRvSlNPTigpfSl9KSksYXdhaXQgdGhpcy5saXN0ZW5Gb3JQcm92aWRlckljZShlLChhc3luYyBlPT57YXdhaXQgdC5hZGRJY2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUpfSkpO2NvbnN0IG49e3JlcXVlc3Q6dC5jcmVhdGVEYXRhQ2hhbm5lbChcInJlcXVlc3RcIikscmVzcG9uc2U6dC5jcmVhdGVEYXRhQ2hhbm5lbChcInJlc3BvbnNlXCIpfSxpPWF3YWl0IHQuY3JlYXRlT2ZmZXIoKTthd2FpdCB0LnNldExvY2FsRGVzY3JpcHRpb24oaSk7Y29uc3Qgcj1Qcm9taXNlLmFsbChbbi5yZXF1ZXN0LG4ucmVzcG9uc2VdLm1hcCh0aGlzLmVuc3VyZUNoYW5uZWxPcGVuZWQpKS50aGVuKCgoKT0+e30pKTtyZXR1cm57cnRjQ2xpZW50OnQsY2hhbm5lbHM6bixvZmZlcjppLHJ0Y0Nvbm5lY3Rpb25JZDplLGNoYW5uZWxzT3BlbmVkOnJ9fWFzeW5jIGZpbmlzaENsaWVudE9mZmVyKGUsdCxuKXtyZXR1cm4gYXdhaXQgZS5zZXRSZW1vdGVEZXNjcmlwdGlvbih0KSxhd2FpdCBuLCEwfWFzeW5jIGNyZWF0ZVByb3ZpZGVyQW5zd2VyKGUsdCl7Y29uc3Qgbj10aGlzLmNyZWF0ZVJ0Y1BlZXIoKSxpPXIuY3JlYXRlRGF0YUNoYW5uZWxQcm9taXNlKFwicmVxdWVzdFwiLG4pLG89ci5jcmVhdGVEYXRhQ2hhbm5lbFByb21pc2UoXCJyZXNwb25zZVwiLG4pO24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLChhc3luYyB0PT57dmFyIG47dC5jYW5kaWRhdGUmJmF3YWl0IHRoaXMucmFpc2VQcm92aWRlckljZShlLHtjYW5kaWRhdGU6bnVsbD09PShuPXQuY2FuZGlkYXRlKXx8dm9pZCAwPT09bj92b2lkIDA6bi50b0pTT04oKX0pfSkpLGF3YWl0IHRoaXMubGlzdGVuRm9yQ2xpZW50SWNlKGUsKGFzeW5jIGU9Pnthd2FpdCBuLmFkZEljZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZSl9KSksYXdhaXQgbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih0KTtjb25zdCBzPWF3YWl0IG4uY3JlYXRlQW5zd2VyKCk7YXdhaXQgbi5zZXRMb2NhbERlc2NyaXB0aW9uKHMpO2NvbnN0IGE9UHJvbWlzZS5hbGwoW2ksb10pLnRoZW4oKChbdCxuXSk9Pih0aGlzLmNsZWFudXBJY2VMaXN0ZW5lcnMoZSkse3JlcXVlc3Q6dCxyZXNwb25zZTpufSkpKTtyZXR1cm57cnRjQ2xpZW50Om4sYW5zd2VyOnMsY2hhbm5lbHM6YX19fXQuUlRDSUNFTWFuYWdlcj1yfSwzODcwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG8scz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX0sYT10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SVENJbmZvPXQuUlRDU3RyYXRlZ3k9dm9pZCAwO2NvbnN0IGM9big4Nzc2KTt0LlJUQ1N0cmF0ZWd5PWNsYXNze2NvbnN0cnVjdG9yKCl7aS5zZXQodGhpcyxudWxsKSxyLnNldCh0aGlzLG5ldyBNYXApLG8uc2V0KHRoaXMsITApLHRoaXMuc2VuZD1hc3luYyhlLHQsbik9PnRoaXMuZ2V0RW5kcG9pbnRCeUlkKGUpLnNlbmQodCxuKSx0aGlzLmNsb3NlPWFzeW5jKCk9PntzKHRoaXMsbykmJihzKHRoaXMscikuZm9yRWFjaCgoZT0+ZS5jbG9zZSgpKSksYSh0aGlzLHIsbmV3IE1hcCkpLGEodGhpcyxvLCExKX19b25FbmRwb2ludERpc2Nvbm5lY3QoZSx0KXt0aGlzLmdldEVuZHBvaW50QnlJZChlKS5vbkRpc2Nvbm5lY3QodCl9cmVjZWl2ZShlKXtpZihzKHRoaXMsaSkpdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgYSBsaXN0ZW5lciBmb3IgdGhpcyBSVEMgU3RyYXRlZ3lcIik7YSh0aGlzLGksZSkscyh0aGlzLHIpLmZvckVhY2goKGU9PmUucmVjZWl2ZShzKHRoaXMsaSkpKSl9Z2V0RW5kcG9pbnRCeUlkKGUpe2NvbnN0IHQ9cyh0aGlzLHIpLmdldChlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYENsaWVudCB3aXRoIGVuZHBvaW50IGlkICR7ZX0gaXMgbm90IGNvbm5lY3RlZGApO3JldHVybiB0fWdldCBjb25uZWN0ZWQoKXtyZXR1cm4gcyh0aGlzLG8pfWlzRW5kcG9pbnRDb25uZWN0ZWQoZSl7cmV0dXJuIHModGhpcyxyKS5oYXMoZSl9YWRkRW5kcG9pbnQoZSx0KXtpZighcyh0aGlzLG8pKXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcIkFkZGluZyBlbmRwb2ludCB0byBkaXNjb25uZWN0ZWQgUlRDIFN0cmF0ZWd5XCIpO2NvbnN0IG49bmV3IGMuUlRDRW5kcG9pbnQodC5ydGMsdC5lbmRwb2ludElkZW50aXR5KTtzKHRoaXMsaSkmJm4ucmVjZWl2ZShzKHRoaXMsaSkpLHModGhpcyxyKS5zZXQoZSxuKX1hc3luYyBjbG9zZUVuZHBvaW50KGUpe3ModGhpcyxyKS5kZWxldGUoZSl9aXNWYWxpZEVuZHBvaW50UGF5bG9hZChlKXtjb25zdCB0PWU9Plwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZTtyZXR1cm4gdChlKSYmdChlLmVuZHBvaW50SWRlbnRpdHkpJiZ0KGUucnRjKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZW5kcG9pbnRJZGVudGl0eS5lbmRwb2ludElkfX0saT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwLG89bmV3IFdlYWtNYXAsdC5SVENJbmZvPXt2ZXJzaW9uOjEsbWluaW11bVZlcnNpb246MCx0eXBlOlwicnRjXCJ9fSwyOTQyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0scj10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DaGFubmVsUHJvdmlkZXI9dm9pZCAwO2NvbnN0IG89big3NTM5KSxzPW4oMjMwMCk7bGV0IGE9KCgpPT57dmFyIGUsdCxuLGEsYztjbGFzcyBkIGV4dGVuZHMgby5DaGFubmVsQmFzZXtjb25zdHJ1Y3RvcihoLGwsdSl7c3VwZXIoKSxlLnNldCh0aGlzLHZvaWQgMCksdC5zZXQodGhpcyx2b2lkIDApLG4uc2V0KHRoaXMsdm9pZCAwKSxhLnNldCh0aGlzLCh0PT57Y29uc3Qgbz10aGlzLmNvbm5lY3Rpb25zLmZpbHRlcigoZT0+ZS5lbmRwb2ludElkIT09dC5lbmRwb2ludElkKSk7cih0aGlzLG4pLmNsb3NlRW5kcG9pbnQodC5lbmRwb2ludElkKSxpKHRoaXMsZSxvKX0pKSx0aGlzLnByb2Nlc3NBY3Rpb249YXN5bmMoZSx0LG4pPT4oZC5jbGllbnRJc011bHRpUnVudGltZShuKSYmIXMucnVudGltZVV1aWRNZWV0c01pbmltdW1SdW50aW1lVmVyc2lvbihuLnJ1bnRpbWVVdWlkLFwiMTguODcuNTYuMFwiKT90aGlzLmhhbmRsZU11bHRpUnVudGltZUxlZ2FjeUNsaWVudChuKTp0aGlzLmNoZWNrRm9yQ2xpZW50Q29ubmVjdGlvbihuKSxzdXBlci5wcm9jZXNzQWN0aW9uKGUsdCxuKSksYy5zZXQodGhpcywoKCk9PntyKHRoaXMsbikuY2xvc2UoKTtjb25zdCBlPWQucmVtb3ZhbE1hcC5nZXQodGhpcyk7ZSYmZSgpfSkpLGkodGhpcyx0LG5ldyBvLlByb3RlY3RlZEl0ZW1zKGgsbCkpLHRoaXMuY29ubmVjdExpc3RlbmVyPSgpPT57fSx0aGlzLmRpc2Nvbm5lY3RMaXN0ZW5lcj0oKT0+e30saSh0aGlzLGUsW10pLGkodGhpcyxuLHUpLHUucmVjZWl2ZSh0aGlzLnByb2Nlc3NBY3Rpb24pfWdldCBjb25uZWN0aW9ucygpe3JldHVyblsuLi5yKHRoaXMsZSldfXN0YXRpYyBoYW5kbGVDbGllbnREaXNjb25uZWN0aW9uKGUsdCl7Y29uc3Qgbj1lLmNvbm5lY3Rpb25zLmZpbmQoKGU9PmUuZW5kcG9pbnRJZD09PXQuZW5kcG9pbnRJZCkpO24/cihlLGEpLmNhbGwoZSxuKTplLmNvbm5lY3Rpb25zLmZpbHRlcigoZT0+ZS51dWlkPT09dC51dWlkJiZlLm5hbWU9PT10Lm5hbWUpKS5mb3JFYWNoKHIoZSxhKSksZS5kaXNjb25uZWN0TGlzdGVuZXIodCl9c3RhdGljIHNldFByb3ZpZGVyUmVtb3ZhbChlLHQpe2QucmVtb3ZhbE1hcC5zZXQoZSx0KX1kaXNwYXRjaChlLHQsaSl7dmFyIG87Y29uc3Qgcz1udWxsIT09KG89ZS5lbmRwb2ludElkKSYmdm9pZCAwIT09bz9vOnRoaXMuZ2V0RW5kcG9pbnRJZEZvck9wZW5GaW5JZChlLHQpO3JldHVybiBzJiZyKHRoaXMsbikuaXNFbmRwb2ludENvbm5lY3RlZChzKT9yKHRoaXMsbikuc2VuZChzLHQsaSk6UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBDbGllbnQgY29ubmVjdGlvbiB3aXRoIGlkZW50aXR5IHV1aWQ6ICR7ZS51dWlkfSAvIG5hbWU6ICR7ZS5uYW1lfSAvIGVuZHBvaW50SWQ6ICR7c30gbm8gbG9uZ2VyIGNvbm5lY3RlZC5gKSl9YXN5bmMgcHJvY2Vzc0Nvbm5lY3Rpb24odCxuKXtyZXR1cm4gcih0aGlzLGUpLnB1c2godCksdGhpcy5jb25uZWN0TGlzdGVuZXIodCxuKX1wdWJsaXNoKGUsdCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbnMubWFwKChpPT5yKHRoaXMsbikuc2VuZChpLmVuZHBvaW50SWQsZSx0KSkpfW9uQ29ubmVjdGlvbihlKXt0aGlzLmNvbm5lY3RMaXN0ZW5lcj1lfW9uRGlzY29ubmVjdGlvbihlKXt0aGlzLmRpc2Nvbm5lY3RMaXN0ZW5lcj1lfWFzeW5jIGRlc3Ryb3koKXtjb25zdCBuPXIodGhpcyx0KSx7Y2hhbm5lbE5hbWU6b309bi5wcm92aWRlcklkZW50aXR5O2kodGhpcyxlLFtdKSxhd2FpdCBuLndpcmUuc2VuZEFjdGlvbihcImRlc3Ryb3ktY2hhbm5lbFwiLHtjaGFubmVsTmFtZTpvfSkscih0aGlzLGMpLmNhbGwodGhpcyl9Y2hlY2tGb3JDbGllbnRDb25uZWN0aW9uKGUpe2lmKCF0aGlzLmlzQ2xpZW50Q29ubmVjdGVkKGUpKXRocm93IG5ldyBFcnJvcihgVGhpcyBhY3Rpb24gd2FzIHNlbnQgZnJvbSBhIGNsaWVudCB0aGF0IGlzIG5vdCBjb25uZWN0ZWQgdG8gdGhlIHByb3ZpZGVyLlxcbiAgICAgICAgICAgICAgICAgICAgQ2xpZW50IElkZW50aXR5OiB7dXVpZDogJHtlLnV1aWR9LCBuYW1lOiAke2UubmFtZX0sIGVuZHBvaW50SWQ6ICR7ZS5lbmRwb2ludElkfX1gKX1pc0NsaWVudENvbm5lY3RlZChlKXtyZXR1cm4gZC5jbGllbnRJZGVudGl0eUluY2x1ZGVzRW5kcG9pbnRJZChlKT90aGlzLmNvbm5lY3Rpb25zLnNvbWUoKHQ9PnQuZW5kcG9pbnRJZD09PWUuZW5kcG9pbnRJZCYmdC51dWlkPT09ZS51dWlkJiZ0Lm5hbWU9PT1lLm5hbWUpKTp0aGlzLmlzTGVnYWN5Q2xpZW50Q29ubmVjdGVkKGUpfWlzTGVnYWN5Q2xpZW50Q29ubmVjdGVkKGUpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25zLnNvbWUoKHQ9PnQudXVpZD09PWUudXVpZCYmdC5uYW1lPT09ZS5uYW1lKSl9aGFuZGxlTXVsdGlSdW50aW1lTGVnYWN5Q2xpZW50KGUpe2lmKCF0aGlzLmlzTGVnYWN5Q2xpZW50Q29ubmVjdGVkKGUpKXRocm93IG5ldyBFcnJvcihgVGhpcyBhY3Rpb24gd2FzIHNlbnQgZnJvbSBhIGNsaWVudCB0aGF0IGlzIG5vdCBjb25uZWN0ZWQgdG8gdGhlIHByb3ZpZGVyLiBDbGllbnQgSWRlbnRpdHk6XFxuICAgICAgICAgICAgICAgICAgICB7dXVpZDogJHtlLnV1aWR9LCBuYW1lOiAke2UubmFtZX0sIGVuZHBvaW50SWQ6ICR7ZS5lbmRwb2ludElkfX1gKX1nZXRFbmRwb2ludElkRm9yT3BlbkZpbklkKGUsbil7dmFyIGk7Y29uc3Qgbz10aGlzLmNvbm5lY3Rpb25zLmZpbHRlcigodD0+dC5uYW1lPT09ZS5uYW1lJiZ0LnV1aWQ9PT1lLnV1aWQpKTtpZihvLmxlbmd0aD49Mil7Y29uc3QgaT1yKHRoaXMsdCkse3V1aWQ6byxuYW1lOnN9PWUsYT1udWxsPT1pP3ZvaWQgMDppLnByb3ZpZGVySWRlbnRpdHkudXVpZCxjPW51bGw9PWk/dm9pZCAwOmkucHJvdmlkZXJJZGVudGl0eS5uYW1lO2NvbnNvbGUud2FybihgV0FSTklORzogRGlzcGF0Y2ggY2FsbCBtYXkgaGF2ZSB1bmludGVuZGVkIHJlc3VsdHMuIFRoZSBcInRvXCIgYXJndW1lbnQgb2YgeW91ciBkaXNwYXRjaCBjYWxsIGlzIG1pc3NpbmcgdGhlXFxuICAgICAgICAgICAgICAgIFwiZW5kcG9pbnRJZFwiIHBhcmFtZXRlci4gVGhlIGlkZW50aXR5IHlvdSBhcmUgZGlzcGF0Y2hpbmcgdG8gKHt1dWlkOiAke299LCBuYW1lOiAke3N9fSlcXG4gICAgICAgICAgICAgICAgaGFzIG11bHRpcGxlIGNoYW5uZWxDbGllbnRzIGZvciB0aGlzIGNoYW5uZWwuIFlvdXIgZGlzcGF0Y2hlZCBhY3Rpb246ICgke259KSBmcm9tIHRoZSBwcm92aWRlcjpcXG4gICAgICAgICAgICAgICAgKHt1dWlkOiAke2F9LCBuYW1lOiAke2N9fSkgd2lsbCBvbmx5IGJlIHByb2Nlc3NlZCBieSB0aGUgbW9zdCByZWNlbnRseS1jcmVhdGVkIGNsaWVudC5gKX1yZXR1cm4gbnVsbD09PShpPW8ucG9wKCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuZHBvaW50SWR9c3RhdGljIGNsaWVudElkZW50aXR5SW5jbHVkZXNFbmRwb2ludElkKGUpe3JldHVybiB2b2lkIDAhPT1lLmVuZHBvaW50SWR9c3RhdGljIGNsaWVudElzTXVsdGlSdW50aW1lKGUpe3JldHVybiB2b2lkIDAhPT1lLnJ1bnRpbWVVdWlkfX1yZXR1cm4gZT1uZXcgV2Vha01hcCx0PW5ldyBXZWFrTWFwLG49bmV3IFdlYWtNYXAsYT1uZXcgV2Vha01hcCxjPW5ldyBXZWFrTWFwLGQucmVtb3ZhbE1hcD1uZXcgV2Vha01hcCxkfSkoKTt0LkNoYW5uZWxQcm92aWRlcj1hfSw4MzQ3OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkludGVyQXBwUGF5bG9hZD12b2lkIDA7Y29uc3QgaT1uKDY0NjUpLHI9big5NjU5KSxvPW4oMzEyNykscz1uKDc3MjIpLGE9big0OTk5KTtjbGFzcyBjIGV4dGVuZHMgci5CYXNle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZXZlbnRzPXtzdWJzY3JpYmVyQWRkZWQ6XCJzdWJzY3JpYmVyLWFkZGVkXCIsc3Vic2NyaWJlclJlbW92ZWQ6XCJzdWJzY3JpYmVyLXJlbW92ZWRcIn0sdGhpcy5yZWZDb3VudGVyPW5ldyBvLmRlZmF1bHQsdGhpcy5DaGFubmVsPW5ldyBzLkNoYW5uZWwoZSksdGhpcy5lbWl0dGVyPW5ldyBpLkV2ZW50RW1pdHRlcixlLnJlZ2lzdGVyTWVzc2FnZUhhbmRsZXIodGhpcy5vbm1lc3NhZ2UuYmluZCh0aGlzKSksdGhpcy5vbj10aGlzLmVtaXR0ZXIub24uYmluZCh0aGlzLmVtaXR0ZXIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzPXRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMuYmluZCh0aGlzLmVtaXR0ZXIpfXB1Ymxpc2goZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwdWJsaXNoLW1lc3NhZ2VcIix7dG9waWM6ZSxtZXNzYWdlOnQsc291cmNlV2luZG93TmFtZTp0aGlzLm1lLm5hbWV9KS50aGVuKCgoKT0+e30pKX1hc3luYyBzZW5kKGUsdCxuKXtjb25zdCBpPWEudmFsaWRhdGVJZGVudGl0eShlKTtpZihpKXRocm93IG5ldyBFcnJvcihpKTthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNlbmQtbWVzc2FnZVwiLHtkZXN0aW5hdGlvblV1aWQ6ZS51dWlkLGRlc3RpbmF0aW9uV2luZG93TmFtZTplLm5hbWUsdG9waWM6dCxtZXNzYWdlOm4sc291cmNlV2luZG93TmFtZTp0aGlzLm1lLm5hbWV9KX1zdWJzY3JpYmUoZSx0LG4pe2NvbnN0IGk9dGhpcy5jcmVhdGVTdWJzY3JpcHRpb25LZXkoZS51dWlkLGUubmFtZXx8XCIqXCIsdCk7cmV0dXJuIHRoaXMuZW1pdHRlci5vbihpLG4pLHRoaXMucmVmQ291bnRlci5hY3RPbkZpcnN0KGksKCgpPT50aGlzLndpcmUuc2VuZEFjdGlvbihcInN1YnNjcmliZVwiLHtzb3VyY2VVdWlkOmUudXVpZCxzb3VyY2VXaW5kb3dOYW1lOmUubmFtZXx8XCIqXCIsdG9waWM6dCxkZXN0aW5hdGlvbldpbmRvd05hbWU6dGhpcy5tZS5uYW1lfSkpLCgoKT0+UHJvbWlzZS5yZXNvbHZlKCkpKX11bnN1YnNjcmliZShlLHQsbil7Y29uc3QgaT1lLm5hbWV8fFwiKlwiLHI9dGhpcy5jcmVhdGVTdWJzY3JpcHRpb25LZXkoZS51dWlkLGksdCk7cmV0dXJuIHRoaXMuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihyLG4pLHRoaXMucmVmQ291bnRlci5hY3RPbkxhc3QociwoKCk9PnRoaXMud2lyZS5zZW5kQWN0aW9uKFwidW5zdWJzY3JpYmVcIix7c291cmNlVXVpZDplLnV1aWQsc291cmNlV2luZG93TmFtZTppLHRvcGljOnQsZGVzdGluYXRpb25XaW5kb3dOYW1lOnRoaXMubWUubmFtZX0pKSwoKCk9Pm5ldyBQcm9taXNlKChlPT5lKSkudGhlbigoKCk9Pnt9KSkpKX1wcm9jZXNzTWVzc2FnZShlKXtjb25zdHtwYXlsb2FkOnttZXNzYWdlOnQsc291cmNlV2luZG93TmFtZTpuLHNvdXJjZVV1aWQ6aSx0b3BpYzpyfX09ZSxvPVt0aGlzLmNyZWF0ZVN1YnNjcmlwdGlvbktleShpLG4sciksdGhpcy5jcmVhdGVTdWJzY3JpcHRpb25LZXkoaSxcIipcIixyKSx0aGlzLmNyZWF0ZVN1YnNjcmlwdGlvbktleShcIipcIixcIipcIixyKV0scz17dXVpZDppLG5hbWU6bn07by5mb3JFYWNoKChlPT57dGhpcy5lbWl0dGVyLmVtaXQoZSx0LHMpfSkpfWVtaXRTdWJzY3JpdmVyRXZlbnQoZSx0KXtjb25zdHtwYXlsb2FkOnt0YXJnZXROYW1lOm4sdXVpZDppLHRvcGljOnJ9fT10LG89e25hbWU6bix1dWlkOmksdG9waWM6cn07dGhpcy5lbWl0dGVyLmVtaXQoZSxvKX1jcmVhdGVTdWJzY3JpcHRpb25LZXkoZSx0LG4pe2NvbnN0IGk9dHx8XCIqXCI7aWYoIShlJiZpJiZuKSl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHV1aWQsIG5hbWUsIG9yIHRvcGljIHN0cmluZ1wiKTtyZXR1cm4gZnVuY3Rpb24oLi4uZSl7cmV0dXJuIGUubWFwKChlPT5CdWZmZXIuZnJvbShgJHtlfWApLnRvU3RyaW5nKFwiYmFzZTY0XCIpKSkuam9pbihcIi9cIil9KGUsaSxuKX1vbm1lc3NhZ2UoZSl7Y29uc3R7YWN0aW9uOnR9PWU7c3dpdGNoKHQpe2Nhc2VcInByb2Nlc3MtbWVzc2FnZVwiOnRoaXMucHJvY2Vzc01lc3NhZ2UoZSk7YnJlYWs7Y2FzZSB0aGlzLmV2ZW50cy5zdWJzY3JpYmVyQWRkZWQ6dGhpcy5lbWl0U3Vic2NyaXZlckV2ZW50KHRoaXMuZXZlbnRzLnN1YnNjcmliZXJBZGRlZCxlKTticmVhaztjYXNlIHRoaXMuZXZlbnRzLnN1YnNjcmliZXJSZW1vdmVkOnRoaXMuZW1pdFN1YnNjcml2ZXJFdmVudCh0aGlzLmV2ZW50cy5zdWJzY3JpYmVyUmVtb3ZlZCxlKX1yZXR1cm4hMH19dC5kZWZhdWx0PWMsdC5JbnRlckFwcFBheWxvYWQ9Y2xhc3N7fX0sMjk3NzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDk2NTkpLHI9bigyMDU3KSxvPW4oNzEzOCkscz0oZSwuLi50KT0+bmV3IGUoLi4udCk7Y2xhc3MgYSBleHRlbmRzIGkuQmFzZXthc3luYyBpbml0KGUsdD1zKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtaW5pdFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPWF3YWl0IHRoaXMuZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jcmVhdGUoYGludGVyb3AtYnJva2VyLSR7ZX1gKSxpPWF3YWl0IHRoaXMuZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0SW5mbygpO3JldHVybiB0KHIuSW50ZXJvcEJyb2tlcix0aGlzLndpcmUsbixpLmluaXRpYWxPcHRpb25zLmludGVyb3BCcm9rZXJDb25maWd1cmF0aW9ufHx7fSl9Y29ubmVjdFN5bmMoZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNvbm5lY3Qtc3luY1wiKS5jYXRjaCgoZT0+e30pKSxuZXcgby5JbnRlcm9wQ2xpZW50KHRoaXMud2lyZSxlLHQpfX10LmRlZmF1bHQ9YX0sMjA1NzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JbnRlcm9wQnJva2VyPXZvaWQgMDtjb25zdCBpPW4oOTY1OSkscj1uKDcxMTUpLG89bigxNzg3KTtsZXQgcz1be2lkOlwiZ3JlZW5cIixkaXNwbGF5TWV0YWRhdGE6e2NvbG9yOlwiIzAwQ0M4OFwiLG5hbWU6XCJncmVlblwifX0se2lkOlwicHVycGxlXCIsZGlzcGxheU1ldGFkYXRhOntjb2xvcjpcIiM4QzYxRkZcIixuYW1lOlwicHVycGxlXCJ9fSx7aWQ6XCJvcmFuZ2VcIixkaXNwbGF5TWV0YWRhdGE6e2NvbG9yOlwiI0ZGOEM0Q1wiLG5hbWU6XCJvcmFuZ2VcIn19LHtpZDpcInJlZFwiLGRpc3BsYXlNZXRhZGF0YTp7Y29sb3I6XCIjRkY1RTYwXCIsbmFtZTpcInJlZFwifX0se2lkOlwicGlua1wiLGRpc3BsYXlNZXRhZGF0YTp7Y29sb3I6XCIjRkY4RkI4XCIsbmFtZTpcInBpbmtcIn19LHtpZDpcInllbGxvd1wiLGRpc3BsYXlNZXRhZGF0YTp7Y29sb3I6XCIjRTlGRjhGXCIsbmFtZTpcInllbGxvd1wifX1dO2NsYXNzIGEgZXh0ZW5kcyBpLkJhc2V7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKGUpLHRoaXMuY2hhbm5lbD10LHRoaXMuaW50ZXJvcENsaWVudHM9bmV3IE1hcCx0aGlzLmNvbnRleHRHcm91cHNCeUlkPW5ldyBNYXAsbi5jb250ZXh0R3JvdXBzJiYocz1uLmNvbnRleHRHcm91cHMpLHRoaXMuaW50ZW50Q2xpZW50TWFwPW5ldyBNYXAsdGhpcy5sYXN0Q29udGV4dE1hcD1uZXcgTWFwLHRoaXMuc2Vzc2lvbkNvbnRleHRHcm91cE1hcD1uZXcgTWFwLHRoaXMuc2V0Q29udGV4dEdyb3VwTWFwKCksdGhpcy53aXJlQ2hhbm5lbCh0KX1zZXRDb250ZXh0KHtjb250ZXh0OmV9LHQpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItc2V0LWNvbnRleHRcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj10aGlzLmdldENsaWVudFN0YXRlKHQpO2lmKCFufHwhbi5jb250ZXh0R3JvdXBJZCl0aHJvdyBuP25ldyBFcnJvcihcIllvdSBtdXN0IGpvaW4gYSBjb250ZXh0IGdyb3VwIGJlZm9yZSB5b3UgY2FuIHNldCBjb250ZXh0LlwiKTpuZXcgRXJyb3IoYENsaWVudCB3aXRoIElkZW50aXR5OiAke3QudXVpZH0gJHt0Lm5hbWV9IG5vdCBpbiBDbGllbnQgU3RhdGUgTWFwYCk7e2NvbnN0e2NvbnRleHRHcm91cElkOnR9PW47aWYoIXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuaGFzKHQpKXRocm93IG5ldyBFcnJvcihgQ2xpZW50IGhhcyBhIGNvbnRleHQgZ3JvdXAgdGhhdCBpc24ndCBpbiB0aGUgY29udGV4dCBncm91cCBtYXBwaW5nOiAke3R9LmApO2NvbnN0IGk9YS5jaGVja0NvbnRleHRJbnRlZ3JpdHkoZSk7aWYoITE9PT1pLmlzVmFsaWQpdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2V0IENvbnRleHQgLSBiYWQgQ29udGV4dC4gUmVhc29uOiAke2kucmVhc29ufS4gQ29udGV4dDogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtjb25zdCByPXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuZ2V0KHQpLG89ZS50eXBlO3Iuc2V0KG8sZSksdGhpcy5sYXN0Q29udGV4dE1hcC5zZXQodCxvKSxBcnJheS5mcm9tKHRoaXMuaW50ZXJvcENsaWVudHMudmFsdWVzKCkpLmZpbHRlcigoZT0+ZS5jb250ZXh0R3JvdXBJZD09PXQpKS5mb3JFYWNoKCh0PT57Zm9yKGNvbnN0WyxuXW9mIHQuY29udGV4dEhhbmRsZXJzKWEuaXNDb250ZXh0VHlwZUNvbXBhdGlibGUobyxuLmNvbnRleHRUeXBlKSYmdGhpcy5pbnZva2VDb250ZXh0SGFuZGxlcih0LmNsaWVudElkZW50aXR5LG4uaGFuZGxlcklkLGUpfSkpfX1nZXRDdXJyZW50Q29udGV4dChlLHQpe3ZhciBuO3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItZ2V0LWN1cnJlbnQtY29udGV4dFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBpPXRoaXMuZ2V0Q2xpZW50U3RhdGUodCk7aWYoIShudWxsPT1pP3ZvaWQgMDppLmNvbnRleHRHcm91cElkKSl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBiZSBhIG1lbWJlciBvZiBhIGNvbnRleHQgZ3JvdXAgdG8gY2FsbCBnZXRDdXJyZW50Q29udGV4dFwiKTtjb25zdHtjb250ZXh0R3JvdXBJZDpyfT1pLG89dGhpcy5jb250ZXh0R3JvdXBzQnlJZC5nZXQocikscz10aGlzLmxhc3RDb250ZXh0TWFwLmdldChyKSxhPW51bGwhPT0obj1udWxsPT1lP3ZvaWQgMDplLmNvbnRleHRUeXBlKSYmdm9pZCAwIT09bj9uOnM7cmV0dXJuIG8mJmE/by5nZXQoYSk6dm9pZCAwfWFzeW5jIGpvaW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOmUsdGFyZ2V0OnR9LG4pe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItam9pbi1jb250ZXh0LWdyb3VwXCIpLmNhdGNoKChlPT57fSkpLHQpe2EuaGFzRW5kcG9pbnRJZCh0KSYmYXdhaXQgdGhpcy5hZGRDbGllbnRUb0NvbnRleHRHcm91cCh7Y29udGV4dEdyb3VwSWQ6ZX0sdCk7Y29uc3Qgbj10aGlzLmNoYW5uZWwuY29ubmVjdGlvbnMuZmlsdGVyKChlPT5lLnV1aWQ9PT10LnV1aWQmJmUubmFtZT09PXQubmFtZSkpO2lmKCFuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYEdpdmVuIElkZW50aXR5ICR7dC51dWlkfSAke3QubmFtZX0gaXMgbm90IGNvbm5lY3RlZCB0byB0aGUgSW50ZXJvcCBCcm9rZXIuYCk7bi5sZW5ndGg+MSYmY29uc29sZS53YXJuKGBNb3JlIHRoYW4gb25lIGNvbm5lY3Rpb24gZm91bmQgZm9yIGlkZW50aXR5ICR7dC51dWlkfSAke3QubmFtZX1gKTtjb25zdCBpPVtdO2Zvcihjb25zdCB0IG9mIG4paS5wdXNoKHRoaXMuYWRkQ2xpZW50VG9Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOmV9LHQpKTthd2FpdCBQcm9taXNlLmFsbChpKX1lbHNlIGF3YWl0IHRoaXMuYWRkQ2xpZW50VG9Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOmV9LG4pfWFzeW5jIGFkZENsaWVudFRvQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDplfSx0KXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLWFkZC1jbGllbnQtdG8tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPXRoaXMuZ2V0Q2xpZW50U3RhdGUodCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgd2l0aCBJZGVudGl0eTogJHt0LnV1aWR9ICR7dC5uYW1lfSBub3QgaW4gQ2xpZW50IFN0YXRlIE1hcGApO2lmKCF0aGlzLmdldENvbnRleHRHcm91cHMoKS5maW5kKCh0PT50LmlkPT09ZSkpKXRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGluZyB0byBqb2luIGEgY29udGV4dCBncm91cCB0aGF0IGRvZXMgbm90IGV4aXN0OiAke2V9LiBZb3UgbWF5IG9ubHkgam9pbiBleGlzdGluZyBjb250ZXh0IGdyb3Vwcy5gKTtpZihuLmNvbnRleHRHcm91cElkIT09ZSl7bi5jb250ZXh0R3JvdXBJZD1lLGF3YWl0IGEuc2V0Q3VycmVudENvbnRleHRHcm91cEluQ2xpZW50T3B0aW9ucyh0LGUpO2NvbnN0IGk9dGhpcy5jb250ZXh0R3JvdXBzQnlJZC5nZXQoZSk7Zm9yKGNvbnN0WyxlXW9mIG4uY29udGV4dEhhbmRsZXJzKXtjb25zdHtjb250ZXh0VHlwZTpuLGhhbmRsZXJJZDpyfT1lO2lmKHZvaWQgMD09PW4paS5mb3JFYWNoKCgoZSxuKT0+e3RoaXMuaW52b2tlQ29udGV4dEhhbmRsZXIodCxyLGUpfSkpO2Vsc2UgaWYoaS5oYXMobikpe2NvbnN0IGU9aS5nZXQobik7ZSYmdGhpcy5pbnZva2VDb250ZXh0SGFuZGxlcih0LHIsZSl9fX19YXN5bmMgcmVtb3ZlRnJvbUNvbnRleHRHcm91cCh7dGFyZ2V0OmV9LHQpe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItcmVtb3ZlLWZyb20tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKSxlKXthLmhhc0VuZHBvaW50SWQoZSkmJmF3YWl0IHRoaXMucmVtb3ZlQ2xpZW50RnJvbUNvbnRleHRHcm91cChlKTtjb25zdCB0PXRoaXMuY2hhbm5lbC5jb25uZWN0aW9ucy5maWx0ZXIoKHQ9PnQudXVpZD09PWUudXVpZCYmdC5uYW1lPT09ZS5uYW1lKSk7aWYoIXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgTm8gY29ubmVjdGlvbiBmb3VuZCBmb3IgZ2l2ZW4gSWRlbnRpdHkgJHtlLnV1aWR9ICR7ZS5uYW1lfWApO3QubGVuZ3RoPjEmJmNvbnNvbGUud2FybihgTW9yZSB0aGFuIG9uZSBjb25uZWN0aW9uIGZvdW5kIGZvciBpZGVudGl0eSAke2UudXVpZH0gJHtlLm5hbWV9YCk7Y29uc3Qgbj1bXTtmb3IoY29uc3QgZSBvZiB0KW4ucHVzaCh0aGlzLnJlbW92ZUNsaWVudEZyb21Db250ZXh0R3JvdXAoZSkpO2F3YWl0IFByb21pc2UuYWxsKG4pfWVsc2UgYXdhaXQgdGhpcy5yZW1vdmVDbGllbnRGcm9tQ29udGV4dEdyb3VwKHQpfWFzeW5jIHJlbW92ZUNsaWVudEZyb21Db250ZXh0R3JvdXAoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWJyb2tlci1yZW1vdmUtY2xpZW50LWZyb20tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXRoaXMuZ2V0Q2xpZW50U3RhdGUoZSk7dCYmKHQuY29udGV4dEdyb3VwSWQ9dm9pZCAwKSxhd2FpdCBhLnNldEN1cnJlbnRDb250ZXh0R3JvdXBJbkNsaWVudE9wdGlvbnMoZSxudWxsKX1nZXRDb250ZXh0R3JvdXBzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1icm9rZXItZ2V0LWNvbnRleHQtZ3JvdXBzXCIpLmNhdGNoKChlPT57fSkpLHMubWFwKChlPT4oey4uLmV9KSkpfWdldEluZm9Gb3JDb250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOmV9KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWJyb2tlci1nZXQtaW5mby1mb3ItY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKSx0aGlzLmdldENvbnRleHRHcm91cHMoKS5maW5kKCh0PT50LmlkPT09ZSkpfWdldEFsbENsaWVudHNJbkNvbnRleHRHcm91cCh7Y29udGV4dEdyb3VwSWQ6ZX0pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLWdldC1hbGwtY2xpZW50cy1pbi1jb250ZXh0LWdyb3VwXCIpLmNhdGNoKChlPT57fSkpLEFycmF5LmZyb20odGhpcy5pbnRlcm9wQ2xpZW50cy52YWx1ZXMoKSkuZmlsdGVyKCh0PT50LmNvbnRleHRHcm91cElkPT09ZSkpLm1hcCgoZT0+ZS5jbGllbnRJZGVudGl0eSkpfWFzeW5jIGhhbmRsZUZpcmVkSW50ZW50KGUsdCl7Y29uc3Qgbj1vLmdlbmVyYXRlT3ZlcnJpZGVXYXJuaW5nKFwiaW50ZXJvcENsaWVudC5maXJlSW50ZW50XCIsXCJmZGMzLnJhaXNlSW50ZW50XCIsXCJJbnRlcm9wQnJva2VyLmhhbmRsZUZpcmVkSW50ZW50XCIsdCk7dGhyb3cgY29uc29sZS53YXJuKG4pLG5ldyBFcnJvcihvLkJST0tFUl9FUlJPUlMuZmlyZUludGVudCl9YXN5bmMgc2V0SW50ZW50VGFyZ2V0KGUsdCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWJyb2tlci1zZXQtaW50ZW50LXRhcmdldFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPXRoaXMuaW50ZW50Q2xpZW50TWFwLmdldCh0Lm5hbWUpLGk9YGludGVudC1oYW5kbGVyLSR7ZS5uYW1lfWA7aWYobil7Y29uc3QgdD1uLmdldChpKTtpZih0KXtpZih0LnBlbmRpbmdJbnRlbnRzLnB1c2goZSksdC5jbGllbnRJZGVudGl0eSYmdC5pc1JlYWR5KXtjb25zdHtjbGllbnRJZGVudGl0eTplLHBlbmRpbmdJbnRlbnRzOm59PXQ7dHJ5e2NvbnN0IHI9bltuLmxlbmd0aC0xXTthd2FpdCB0aGlzLmNoYW5uZWwuZGlzcGF0Y2goZSxpLHIpLHQucGVuZGluZ0ludGVudHM9W119Y2F0Y2gobil7Y29uc29sZS5lcnJvcihgRXJyb3IgaW52b2tpbmcgaW50ZW50IGhhbmRsZXIgZm9yIGNsaWVudCAke2UudXVpZH0vJHtlLm5hbWV9LyR7ZS5lbmRwb2ludElkfWApLHQuaXNSZWFkeT0hMX19fWVsc2Ugbi5zZXQoaSx7aXNSZWFkeTohMSxwZW5kaW5nSW50ZW50czpbZV19KX1lbHNle3RoaXMuaW50ZW50Q2xpZW50TWFwLnNldCh0Lm5hbWUsbmV3IE1hcCk7Y29uc3Qgbj10aGlzLmludGVudENsaWVudE1hcC5nZXQodC5uYW1lKTtuJiZuLnNldChpLHtpc1JlYWR5OiExLHBlbmRpbmdJbnRlbnRzOltlXX0pfX1hc3luYyBoYW5kbGVJbmZvRm9ySW50ZW50KGUsdCl7Y29uc3Qgbj1vLmdlbmVyYXRlT3ZlcnJpZGVXYXJuaW5nKFwiaW50ZXJvcENsaWVudC5nZXRJbmZvRm9ySW50ZW50XCIsXCJmZGMzLmZpbmRJbnRlbnRcIixcIkludGVyb3BCcm9rZXIuaGFuZGxlSW5mb0ZvckludGVudFwiLHQpO3Rocm93IGNvbnNvbGUud2FybihuKSxuZXcgRXJyb3Ioby5CUk9LRVJfRVJST1JTLmdldEluZm9Gb3JJbnRlbnQpfWFzeW5jIGhhbmRsZUluZm9Gb3JJbnRlbnRzQnlDb250ZXh0KGUsdCl7Y29uc3Qgbj1vLmdlbmVyYXRlT3ZlcnJpZGVXYXJuaW5nKFwiaW50ZXJvcENsaWVudC5nZXRJbmZvRm9ySW50ZW50c0J5Q29udGV4dFwiLFwiZmRjMy5maW5kSW50ZW50c0J5Q29udGV4dFwiLFwiSW50ZXJvcEJyb2tlci5oYW5kbGVJbmZvRm9ySW50ZW50c0J5Q29udGV4dFwiLHQpO3Rocm93IGNvbnNvbGUud2FybihuKSxuZXcgRXJyb3Ioby5CUk9LRVJfRVJST1JTLmdldEluZm9Gb3JJbnRlbnRzQnlDb250ZXh0KX1hc3luYyBoYW5kbGVGaXJlZEludGVudEZvckNvbnRleHQoZSx0KXtjb25zdCBuPW8uZ2VuZXJhdGVPdmVycmlkZVdhcm5pbmcoXCJpbnRlcm9wQ2xpZW50LmZpcmVJbnRlbnRGb3JDb250ZXh0XCIsXCJmZGMzLnJhaXNlSW50ZW50Rm9yQ29udGV4dFwiLFwiSW50ZXJvcEJyb2tlci5oYW5kbGVGaXJlZEludGVudEZvckNvbnRleHRcIix0KTt0aHJvdyBjb25zb2xlLndhcm4obiksbmV3IEVycm9yKG8uQlJPS0VSX0VSUk9SUy5maXJlSW50ZW50Rm9yQ29udGV4dCl9ZGVjb3JhdGVTbmFwc2hvdChlKXtyZXR1cm57Li4uZSxpbnRlcm9wU25hcHNob3REZXRhaWxzOntjb250ZXh0R3JvdXBTdGF0ZXM6dGhpcy5nZXRDb250ZXh0R3JvdXBTdGF0ZXMoKX19fWFwcGx5U25hcHNob3QoZSx0KXt2YXIgbjtjb25zdCBpPW51bGw9PT0obj1udWxsPT1lP3ZvaWQgMDplLmludGVyb3BTbmFwc2hvdERldGFpbHMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvbnRleHRHcm91cFN0YXRlcztpJiYoKG51bGw9PXQ/dm9pZCAwOnQuY2xvc2VFeGlzdGluZ1dpbmRvd3MpfHx0aGlzLnVwZGF0ZUV4aXN0aW5nQ2xpZW50cyhpKSx0aGlzLnJlaHlkcmF0ZUNvbnRleHRHcm91cFN0YXRlcyhpKSl9dXBkYXRlRXhpc3RpbmdDbGllbnRzKGUpe3RoaXMuaW50ZXJvcENsaWVudHMuZm9yRWFjaCgodD0+e2NvbnN0e2NsaWVudElkZW50aXR5Om4sY29udGV4dEdyb3VwSWQ6aSxjb250ZXh0SGFuZGxlcnM6cn09dDtpZihpKXtjb25zdCB0PWVbaV07Zm9yKGNvbnN0WyxlXW9mIE9iamVjdC5lbnRyaWVzKHQpKXIuZm9yRWFjaCgodD0+e2NvbnN0e2hhbmRsZXJJZDppLGNvbnRleHRUeXBlOnJ9PXQ7YS5pc0NvbnRleHRUeXBlQ29tcGF0aWJsZShlLnR5cGUscikmJnRoaXMuaW52b2tlQ29udGV4dEhhbmRsZXIobixpLGUpfSkpfX0pKX1nZXRDb250ZXh0R3JvdXBTdGF0ZXMoKXtyZXR1cm4gYS50b09iamVjdCh0aGlzLmNvbnRleHRHcm91cHNCeUlkKX1yZWh5ZHJhdGVDb250ZXh0R3JvdXBTdGF0ZXMoZSl7Y29uc3QgdD1PYmplY3QuZW50cmllcyhlKTtmb3IoY29uc3RbZSxuXW9mIHQpe2NvbnN0IHQ9T2JqZWN0LmVudHJpZXMobik7Zm9yKGNvbnN0W24saV1vZiB0KXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuaGFzKGUpP3RoaXMuY29udGV4dEdyb3Vwc0J5SWQuZ2V0KGUpLnNldChuLGkpOmNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBzZXQgYSBjb250ZXh0IGdyb3VwIHRoYXQgaXNuJ3QgaW4gdGhlIGNvbnRleHQgZ3JvdXAgbWFwcGluZy4gU2tpcHBpbmcgY29udGV4dCBncm91cCByZWh5ZHJhdGlvbiBmb3I6ICR7ZX1gKX19Y29udGV4dEhhbmRsZXJSZWdpc3RlcmVkKHtjb250ZXh0VHlwZTplLGhhbmRsZXJJZDp0fSxuKXtjb25zdCBpPXtjb250ZXh0VHlwZTplLGhhbmRsZXJJZDp0fSxyPXRoaXMuZ2V0Q2xpZW50U3RhdGUobik7aWYobnVsbD09cnx8ci5jb250ZXh0SGFuZGxlcnMuc2V0KHQsaSksciYmci5jb250ZXh0R3JvdXBJZCl7Y29uc3R7Y29udGV4dEdyb3VwSWQ6aX09cixvPXRoaXMuY29udGV4dEdyb3Vwc0J5SWQuZ2V0KGkpO2lmKHZvaWQgMD09PWUpby5mb3JFYWNoKCgoZSxpKT0+e3RoaXMuaW52b2tlQ29udGV4dEhhbmRsZXIobix0LGUpfSkpO2Vsc2UgaWYoby5oYXMoZSkpe2NvbnN0IGk9by5nZXQoZSk7aSYmdGhpcy5pbnZva2VDb250ZXh0SGFuZGxlcihuLHQsaSl9fX1hc3luYyBpbnRlbnRIYW5kbGVyUmVnaXN0ZXJlZChlLHQpe2NvbnN0e2hhbmRsZXJJZDpufT1lLGk9dGhpcy5pbnRlbnRDbGllbnRNYXAuZ2V0KHQubmFtZSkscj1udWxsPT1pP3ZvaWQgMDppLmdldChuKTtpZihpKWlmKHIpe2NvbnN0e3BlbmRpbmdJbnRlbnRzOmV9PXI7ci5jbGllbnRJZGVudGl0eT10LHIuaXNSZWFkeT0hMDt0cnl7aWYoZS5sZW5ndGg+MCl7Y29uc3QgaT1lW2UubGVuZ3RoLTFdO2F3YWl0IHRoaXMuY2hhbm5lbC5kaXNwYXRjaCh0LG4saSksci5wZW5kaW5nSW50ZW50cz1bXX19Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihgRXJyb3IgaW52b2tpbmcgaW50ZW50IGhhbmRsZXI6ICR7bn0gZm9yIGNsaWVudCAke3QudXVpZH0vJHt0Lm5hbWV9LyR7dC5lbmRwb2ludElkfWApfX1lbHNlIGkuc2V0KG4se2lzUmVhZHk6ITAscGVuZGluZ0ludGVudHM6W10sY2xpZW50SWRlbnRpdHk6dH0pO2Vsc2V7dGhpcy5pbnRlbnRDbGllbnRNYXAuc2V0KHQubmFtZSxuZXcgTWFwKTtjb25zdCBlPXRoaXMuaW50ZW50Q2xpZW50TWFwLmdldCh0Lm5hbWUpO2UmJmUuc2V0KG4se2lzUmVhZHk6ITAscGVuZGluZ0ludGVudHM6W10sY2xpZW50SWRlbnRpdHk6dH0pfX1pbnZva2VDb250ZXh0SGFuZGxlcihlLHQsbil7dGhpcy5jaGFubmVsLmRpc3BhdGNoKGUsdCxuKS5jYXRjaCgoaT0+e2NvbnNvbGUuZXJyb3IoYEVycm9yIGludm9raW5nIGNvbnRleHQgaGFuZGxlciAke3R9IGZvciBjb250ZXh0IHR5cGUgJHtuLnR5cGV9IGluIGNsaWVudCAke2UudXVpZH0vJHtlLm5hbWV9LyR7ZS5lbmRwb2ludElkfWAsaSl9KSl9cmVtb3ZlQ29udGV4dEhhbmRsZXIoe2hhbmRsZXJJZDplfSx0KXtjb25zdCBuPXRoaXMuZ2V0Q2xpZW50U3RhdGUodCk7biYmbi5jb250ZXh0SGFuZGxlcnMuZGVsZXRlKGUpfWhhbmRsZUpvaW5TZXNzaW9uQ29udGV4dEdyb3VwKHtzZXNzaW9uQ29udGV4dEdyb3VwSWQ6ZX0sdCl7dHJ5e2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBqb2luIHNlc3Npb24gY29udGV4dCBncm91cDogbXVzdCBzcGVjaWZ5IGdyb3VwIGlkLlwiKTtjb25zdCBuPXRoaXMuc2Vzc2lvbkNvbnRleHRHcm91cE1hcC5nZXQoZSk7aWYobiluLnJlZ2lzdGVyTmV3Q2xpZW50KHQpO2Vsc2V7Y29uc3Qgbj1uZXcgci5kZWZhdWx0KHRoaXMuY2hhbm5lbCxlKTtuLnJlZ2lzdGVyTmV3Q2xpZW50KHQpLHRoaXMuc2Vzc2lvbkNvbnRleHRHcm91cE1hcC5zZXQoZSxuKX1yZXR1cm57aGFzQ29uZmxpY3Q6dGhpcy5jb250ZXh0R3JvdXBzQnlJZC5oYXMoZSl9fWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihlKX19Z2V0Q2xpZW50U3RhdGUoZSl7cmV0dXJuIHRoaXMuaW50ZXJvcENsaWVudHMuZ2V0KGUuZW5kcG9pbnRJZCl9c3RhdGljIHRvT2JqZWN0KGUpe2NvbnN0IHQ9T2JqZWN0LmZyb21FbnRyaWVzKGUpLG49e307cmV0dXJuIE9iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKChbZSx0XSk9Pntjb25zdCBpPU9iamVjdC5mcm9tRW50cmllcyh0KTtuW2VdPWl9KSksbn1zdGF0aWMgY2hlY2tDb250ZXh0SW50ZWdyaXR5KGUpe2lmKCFlKXJldHVybntpc1ZhbGlkOiExLHJlYXNvbjpcIk5vIGNvbnRleHQgc3VwcGxpZWRcIn07aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJue2lzVmFsaWQ6ITEscmVhc29uOlwiQ29udGV4dCBtdXN0IGJlIGFuIE9iamVjdFwifTtpZighZS50eXBlKXJldHVybntpc1ZhbGlkOiExLHJlYXNvbjpcIkNvbnRleHQgbXVzdCBoYXZlIGEgdHlwZSBwcm9wZXJ0eVwifTtpZihlLmlkJiZcIm9iamVjdFwiIT10eXBlb2YgZS5pZClyZXR1cm57aXNWYWxpZDohMSxyZWFzb246XCJDb250ZXh0IGlkIG11c3QgYmUgYW4gT2JqZWN0IHBvcHVsYXRlZCB3aXRoIGtleS12YWx1ZSBpZGVudGlmaWVycyAoaWYgc2V0KVwifTtpZihlLmlkKXtjb25zdHtpZDp0fT1lLG49T2JqZWN0LmtleXModCk7bGV0IGk9ITE7aWYoIW4ubGVuZ3RoKXJldHVybntpc1ZhbGlkOiExLHJlYXNvbjpcIkNvbnRleHQgaWQgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBrZXktdmFsdWUgaWRlbnRpZmllclwifTtpZihuLmZvckVhY2goKGU9PntcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJzdHJpbmdcIj09dHlwZW9mIHRbZV18fChpPSEwKX0pKSxpKXJldHVybntpc1ZhbGlkOiExLHJlYXNvbjpcIkNvbnRleHQgaWQga2V5LXZhbHVlIGlkZW50aWZpZXJzIG11c3QgYmUgb2YgdHlwZSBzdHJpbmdcIn19cmV0dXJuIGUubmFtZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUubmFtZT97aXNWYWxpZDohMSxyZWFzb246XCJDb250ZXh0IG5hbWUgbXVzdCBiZSBvZiBzdHJpbmcgdHlwZSAoaWYgc2V0KVwifTp7aXNWYWxpZDohMH19c3RhdGljIGhhc0VuZHBvaW50SWQoZSl7cmV0dXJuIHZvaWQgMCE9PWUuZW5kcG9pbnRJZH1zdGF0aWMgaXNDb250ZXh0VHlwZUNvbXBhdGlibGUoZSx0KXtyZXR1cm4gdm9pZCAwPT09dHx8ZT09PXR9c2V0Q29udGV4dEdyb3VwTWFwKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRDb250ZXh0R3JvdXBzKCkpdGhpcy5jb250ZXh0R3JvdXBzQnlJZC5zZXQoZS5pZCxuZXcgTWFwKX1zdGF0aWMgYXN5bmMgc2V0Q3VycmVudENvbnRleHRHcm91cEluQ2xpZW50T3B0aW9ucyhlLHQpe2NvbnN0IG49YXdhaXQgZmluLlN5c3RlbS5nZXRFbnRpdHlJbmZvKGUudXVpZCxlLm5hbWUpO2xldCBpO1widmlld1wiPT09bi5lbnRpdHlUeXBlP2k9YXdhaXQgZmluLlZpZXcud3JhcChlKTpcIndpbmRvd1wiPT09bi5lbnRpdHlUeXBlJiYoaT1hd2FpdCBmaW4uV2luZG93LndyYXAoZSkpLGk/YXdhaXQgaS51cGRhdGVPcHRpb25zKHtpbnRlcm9wOntjdXJyZW50Q29udGV4dEdyb3VwOnR9fSk6Y29uc29sZS53YXJuKGBTZXR0aW5nIEN1cnJlbnQgQ29udGV4dCBHcm91cDogRW50aXR5IHdpdGggaWRlbnRpdHkgJHtlLnV1aWR9LCAke2UubmFtZX0gaXMgbm90IGEgd2luZG93IG9yIHZpZXcuIEl0IGlzIGEgJHtuLmVudGl0eVR5cGV9IGluc3RlYWQuYCl9d2lyZUNoYW5uZWwoZSl7ZS5vbkNvbm5lY3Rpb24oKChlLHQpPT57aWYoIXRoaXMuaXNDb25uZWN0aW9uQXV0aG9yaXplZChlLHQpKXRocm93IG5ldyBFcnJvcihgQ29ubmVjdGlvbiBub3QgYXV0aG9yaXplZCBmb3IgJHtlLnV1aWR9LCAke2UubmFtZX1gKTtpZighZS5lbmRwb2ludElkKXRocm93IG5ldyBFcnJvcihcIlZlcnNpb24gdG9vIG9sZCB0byBiZSBjb21wYXRpYmxlIHdpdGggSW50ZXJvcC4gUGxlYXNlIHVwZ3JhZGUgeW91ciBydW50aW1lIHRvIGEgbW9yZSByZWNlbnQgdmVyc2lvbi5cIik7Y29uc3Qgbj17Y29udGV4dEdyb3VwSWQ6dm9pZCAwLGNvbnRleHRIYW5kbGVyczpuZXcgTWFwLGNsaWVudElkZW50aXR5OmV9OyhudWxsPT10P3ZvaWQgMDp0LmN1cnJlbnRDb250ZXh0R3JvdXApJiZ0aGlzLmNvbnRleHRHcm91cHNCeUlkLmhhcyh0LmN1cnJlbnRDb250ZXh0R3JvdXApJiYobi5jb250ZXh0R3JvdXBJZD1udWxsPT10P3ZvaWQgMDp0LmN1cnJlbnRDb250ZXh0R3JvdXApLHRoaXMuaW50ZXJvcENsaWVudHMuc2V0KGUuZW5kcG9pbnRJZCxuKX0pKSxlLm9uRGlzY29ubmVjdGlvbigoZT0+e3RoaXMuaW50ZXJvcENsaWVudHMuZGVsZXRlKGUuZW5kcG9pbnRJZCk7Y29uc3QgdD10aGlzLmludGVudENsaWVudE1hcC5nZXQoZS5uYW1lKTt0JiZlLnV1aWQ9PT1maW4ubWUuaWRlbnRpdHkudXVpZCYmdC5mb3JFYWNoKChlPT57ZS5pc1JlYWR5PSExfSkpLHRoaXMuc2Vzc2lvbkNvbnRleHRHcm91cE1hcC5mb3JFYWNoKCh0PT57dC5vbkRpc2Nvbm5lY3Rpb24oZSl9KSl9KSksZS5iZWZvcmVBY3Rpb24oKChlLHQsbik9PntpZighdGhpcy5pc0FjdGlvbkF1dGhvcml6ZWQoZSx0LG4pKXRocm93IG5ldyBFcnJvcihgQWN0aW9uICgke2V9KSBub3QgYXV0aG9yaXplZCBmb3IgJHtuLnV1aWR9LCAke24ubmFtZX1gKTtjb25zb2xlLmxvZyhlLHQsbil9KSksZS5hZnRlckFjdGlvbihjb25zb2xlLmxvZyksZS5yZWdpc3RlcihcInNldENvbnRleHRcIix0aGlzLnNldENvbnRleHQuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImZpcmVJbnRlbnRcIix0aGlzLmhhbmRsZUZpcmVkSW50ZW50LmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJnZXRDdXJyZW50Q29udGV4dFwiLHRoaXMuZ2V0Q3VycmVudENvbnRleHQuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImdldEluZm9Gb3JJbnRlbnRcIix0aGlzLmhhbmRsZUluZm9Gb3JJbnRlbnQuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImdldEluZm9Gb3JJbnRlbnRzQnlDb250ZXh0XCIsdGhpcy5oYW5kbGVJbmZvRm9ySW50ZW50c0J5Q29udGV4dC5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwiZmlyZUludGVudEZvckNvbnRleHRcIix0aGlzLmhhbmRsZUZpcmVkSW50ZW50Rm9yQ29udGV4dC5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwiZ2V0Q29udGV4dEdyb3Vwc1wiLHRoaXMuZ2V0Q29udGV4dEdyb3Vwcy5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwiam9pbkNvbnRleHRHcm91cFwiLHRoaXMuam9pbkNvbnRleHRHcm91cC5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwicmVtb3ZlRnJvbUNvbnRleHRHcm91cFwiLHRoaXMucmVtb3ZlRnJvbUNvbnRleHRHcm91cC5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwiZ2V0QWxsQ2xpZW50c0luQ29udGV4dEdyb3VwXCIsdGhpcy5nZXRBbGxDbGllbnRzSW5Db250ZXh0R3JvdXAuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImdldEluZm9Gb3JDb250ZXh0R3JvdXBcIix0aGlzLmdldEluZm9Gb3JDb250ZXh0R3JvdXAuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcImNvbnRleHRIYW5kbGVyUmVnaXN0ZXJlZFwiLHRoaXMuY29udGV4dEhhbmRsZXJSZWdpc3RlcmVkLmJpbmQodGhpcykpLGUucmVnaXN0ZXIoXCJpbnRlbnRIYW5kbGVyUmVnaXN0ZXJlZFwiLHRoaXMuaW50ZW50SGFuZGxlclJlZ2lzdGVyZWQuYmluZCh0aGlzKSksZS5yZWdpc3RlcihcInJlbW92ZUNvbnRleHRIYW5kbGVyXCIsdGhpcy5yZW1vdmVDb250ZXh0SGFuZGxlci5iaW5kKHRoaXMpKSxlLnJlZ2lzdGVyKFwic2Vzc2lvbkNvbnRleHRHcm91cDpjcmVhdGVJZk5lZWRlZFwiLHRoaXMuaGFuZGxlSm9pblNlc3Npb25Db250ZXh0R3JvdXAuYmluZCh0aGlzKSl9YXN5bmMgaXNDb25uZWN0aW9uQXV0aG9yaXplZChlLHQpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLWlzLWNvbm5lY3Rpb24tYXV0aG9yaXplZFwiKS5jYXRjaCgoZT0+e30pKSwhMH1hc3luYyBpc0FjdGlvbkF1dGhvcml6ZWQoZSx0LG4pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtYnJva2VyLWlzLWFjdGlvbi1hdXRob3JpemVkXCIpLmNhdGNoKChlPT57fSkpLCEwfX10LkludGVyb3BCcm9rZXI9YX0sNzEzODpmdW5jdGlvbihlLHQsbil7dmFyIGkscixvPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldHx8ZnVuY3Rpb24oZSx0LG4pe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5zZXQoZSxuKSxufSxzPXRoaXMmJnRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldHx8ZnVuY3Rpb24oZSx0KXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuZ2V0KGUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkludGVyb3BDbGllbnQ9dm9pZCAwO2NvbnN0IGE9big5NjU5KSxjPW4oODIyKSxkPW4oMTc4Nyk7Y2xhc3MgaCBleHRlbmRzIGEuQmFzZXtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSksaS5zZXQodGhpcyx2b2lkIDApLHIuc2V0KHRoaXMsdm9pZCAwKSxvKHRoaXMscixuZXcgTWFwKSxvKHRoaXMsaSx0aGlzLndpcmUuZW52aXJvbm1lbnQud2hlblJlYWR5KCkudGhlbigoKCk9PnRoaXMuZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGBpbnRlcm9wLWJyb2tlci0ke3R9YCx7cGF5bG9hZDpufSkpKSl9YXN5bmMgc2V0Q29udGV4dChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1zZXQtY29udGV4dFwiKS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgcyh0aGlzLGkpKS5kaXNwYXRjaChcInNldENvbnRleHRcIix7Y29udGV4dDplfSl9YXN5bmMgYWRkQ29udGV4dEhhbmRsZXIoZSx0KXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWFkZC1jb250ZXh0LWhhbmRsZXJcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj1hd2FpdCBzKHRoaXMsaSk7bGV0IHI7dD8ocj1gaW52b2tlQ29udGV4dEhhbmRsZXItJHt0fS0ke2QuZ2VuZXJhdGVJZCgpfWAsY29uc29sZS53YXJuKGBXYXJuaW5nOiBCeSBwcm92aWRpbmcgYSBjb250ZXh0VHlwZSAoJHt0fSksIHlvdSBhcmUgdXNpbmcgdGhlIGV4cGVyaW1lbnRhbCBhZGRDb250ZXh0SGFuZGxlci4gVG8gYXZvaWQgaXNzdWVzLCBtYWtlIHN1cmUgeW91IGFyZSBhZGRpbmcgeW91ciBjb250ZXh0IGhhbmRsZXJzIGF0IHRoZSB0b3AgbGV2ZWwgaW4geW91ciBhcHBsaWNhdGlvbi5gKSk6cj1cImludm9rZUNvbnRleHRIYW5kbGVyXCI7Y29uc3Qgbz1kLndyYXBDb250ZXh0SGFuZGxlcihlLHIpO3JldHVybiBuLnJlZ2lzdGVyKHIsbyksYXdhaXQgbi5kaXNwYXRjaChcImNvbnRleHRIYW5kbGVyUmVnaXN0ZXJlZFwiLHtoYW5kbGVySWQ6cixjb250ZXh0VHlwZTp0fSkse3Vuc3Vic2NyaWJlOmFzeW5jKCk9PntuLnJlbW92ZShyKSxhd2FpdCBuLmRpc3BhdGNoKFwicmVtb3ZlQ29udGV4dEhhbmRsZXJcIix7aGFuZGxlcklkOnJ9KX19fWFzeW5jIGdldENvbnRleHRHcm91cHMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1nZXQtY29udGV4dC1ncm91cHNcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHModGhpcyxpKSkuZGlzcGF0Y2goXCJnZXRDb250ZXh0R3JvdXBzXCIpfWFzeW5jIGpvaW5Db250ZXh0R3JvdXAoZSx0KXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWpvaW4tY29udGV4dC1ncm91cFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPWF3YWl0IHModGhpcyxpKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0R3JvdXBJZCBzcGVjaWZpZWQgZm9yIGpvaW5Db250ZXh0R3JvdXAuXCIpO3JldHVybiBuLmRpc3BhdGNoKFwiam9pbkNvbnRleHRHcm91cFwiLHtjb250ZXh0R3JvdXBJZDplLHRhcmdldDp0fSl9YXN5bmMgcmVtb3ZlRnJvbUNvbnRleHRHcm91cChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1yZW1vdmUtZnJvbS1jb250ZXh0LWdyb3VwXCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBzKHRoaXMsaSkpLmRpc3BhdGNoKFwicmVtb3ZlRnJvbUNvbnRleHRHcm91cFwiLHt0YXJnZXQ6ZX0pfWFzeW5jIGdldEFsbENsaWVudHNJbkNvbnRleHRHcm91cChlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWdldC1hbGwtY2xpZW50cy1pbi1jb250ZXh0LWdyb3VwXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9YXdhaXQgcyh0aGlzLGkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIk5vIGNvbnRleHRHcm91cElkIHNwZWNpZmllZCBmb3IgZ2V0QWxsQ2xpZW50c0luQ29udGV4dEdyb3VwLlwiKTtyZXR1cm4gdC5kaXNwYXRjaChcImdldEFsbENsaWVudHNJbkNvbnRleHRHcm91cFwiLHtjb250ZXh0R3JvdXBJZDplfSl9YXN5bmMgZ2V0SW5mb0ZvckNvbnRleHRHcm91cChlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWdldC1pbmZvLWZvci1jb250ZXh0LWdyb3VwXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9YXdhaXQgcyh0aGlzLGkpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIk5vIGNvbnRleHRHcm91cElkIHNwZWNpZmllZCBmb3IgZ2V0SW5mb0ZvckNvbnRleHRHcm91cC5cIik7cmV0dXJuIHQuZGlzcGF0Y2goXCJnZXRJbmZvRm9yQ29udGV4dEdyb3VwXCIse2NvbnRleHRHcm91cElkOmV9KX1hc3luYyBmaXJlSW50ZW50KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWZpcmUtaW50ZW50XCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBzKHRoaXMsaSkpLmRpc3BhdGNoKFwiZmlyZUludGVudFwiLGUpfWFzeW5jIHJlZ2lzdGVySW50ZW50SGFuZGxlcihlLHQpe3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1jbGllbnQtcmVnaXN0ZXItaW50ZW50LWhhbmRsZXJcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3Qgbj1hd2FpdCBzKHRoaXMsaSkscj1gaW50ZW50LWhhbmRsZXItJHt0fWAsbz10aGlzLndyYXBJbnRlbnRIYW5kbGVyKGUscik7dHJ5e2F3YWl0IG4ucmVnaXN0ZXIocixvKSxhd2FpdCBuLmRpc3BhdGNoKFwiaW50ZW50SGFuZGxlclJlZ2lzdGVyZWRcIix7aGFuZGxlcklkOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmVnaXN0ZXIgaW50ZW50IGhhbmRsZXJcIil9cmV0dXJue3Vuc3Vic2NyaWJlOmFzeW5jKCk9PntuLnJlbW92ZShyKX19fWFzeW5jIGdldEN1cnJlbnRDb250ZXh0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWdldC1jdXJyZW50LWNvbnRleHRcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHModGhpcyxpKSkuZGlzcGF0Y2goXCJnZXRDdXJyZW50Q29udGV4dFwiLHtjb250ZXh0VHlwZTplfSl9YXN5bmMgZ2V0SW5mb0ZvckludGVudChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnRlcm9wLWNsaWVudC1nZXQtaW5mby1mb3ItaW50ZW50XCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBzKHRoaXMsaSkpLmRpc3BhdGNoKFwiZ2V0SW5mb0ZvckludGVudFwiLGUpfWFzeW5jIGdldEluZm9Gb3JJbnRlbnRzQnlDb250ZXh0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWdldC1pbmZvLWZvci1pbnRlbnRzLWJ5LWNvbnRleHRcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHModGhpcyxpKSkuZGlzcGF0Y2goXCJnZXRJbmZvRm9ySW50ZW50c0J5Q29udGV4dFwiLGUpfWFzeW5jIGZpcmVJbnRlbnRGb3JDb250ZXh0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3AtY2xpZW50LWZpcmUtaW50ZW50LWZvci1jb250ZXh0XCIpLmNhdGNoKChlPT57fSkpLChhd2FpdCBzKHRoaXMsaSkpLmRpc3BhdGNoKFwiZmlyZUludGVudEZvckNvbnRleHRcIixlKX1hc3luYyBqb2luU2Vzc2lvbkNvbnRleHRHcm91cChlKXt0cnl7Y29uc3QgdD1zKHRoaXMscikuZ2V0KGUpO2lmKHQpcmV0dXJuIHQuZ2V0VXNlckluc3RhbmNlKCk7Y29uc3Qgbj1hd2FpdCBzKHRoaXMsaSkse2hhc0NvbmZsaWN0Om99PWF3YWl0IG4uZGlzcGF0Y2goXCJzZXNzaW9uQ29udGV4dEdyb3VwOmNyZWF0ZUlmTmVlZGVkXCIse3Nlc3Npb25Db250ZXh0R3JvdXBJZDplfSk7byYmY29uc29sZS53YXJuKGBBIChub24tc2Vzc2lvbikgY29udGV4dCBncm91cCB3aXRoIHRoZSBuYW1lIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzLiBJZiB5b3UgYXJlIHRyeWluZyB0byBqb2luIGEgQ29udGV4dCBHcm91cCwgY2FsbCBqb2luQ29udGV4dEdyb3VwIGluc3RlYWQuYCk7Y29uc3QgYT1uZXcgYy5kZWZhdWx0KHRoaXMud2lyZSxzKHRoaXMsaSksZSk7cmV0dXJuIHModGhpcyxyKS5zZXQoZSxhKSxhLmdldFVzZXJJbnN0YW5jZSgpfWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IoYEVycm9yIHRocm93biB0cnlpbmcgdG8gY3JlYXRlIFNlc3Npb24gQ29udGV4dCBHcm91cCB3aXRoIGlkIFwiJHtlfVwiOiAke3R9YCksdH19d3JhcEludGVudEhhbmRsZXIoZSx0KXtyZXR1cm4gYXN5bmMgbj0+e3RyeXthd2FpdCBlKG4pfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoYEVycm9yIHRocm93biBieSBoYW5kbGVyICR7dH06ICR7ZX1gKSxlfX19fXQuSW50ZXJvcENsaWVudD1oLGk9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcH0sNzExNTooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDg3MDYpO3QuZGVmYXVsdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMucHJvdmlkZXI9ZSx0aGlzLmlkPXQsdGhpcy5sYXN0Q29udGV4dD12b2lkIDAsdGhpcy5jb250ZXh0R3JvdXBNYXA9bmV3IE1hcCx0aGlzLmNsaWVudHM9bmV3IE1hcCx0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCl9cmVnaXN0ZXJMaXN0ZW5lcnMoKXt0aGlzLnByb3ZpZGVyLnJlZ2lzdGVyKGBzZXNzaW9uQ29udGV4dEdyb3VwOmdldENvbnRleHQtJHt0aGlzLmlkfWAsdGhpcy5nZXRDdXJyZW50Q29udGV4dC5iaW5kKHRoaXMpKSx0aGlzLnByb3ZpZGVyLnJlZ2lzdGVyKGBzZXNzaW9uQ29udGV4dEdyb3VwOnNldENvbnRleHQtJHt0aGlzLmlkfWAsdGhpcy5zZXRDb250ZXh0LmJpbmQodGhpcykpLHRoaXMucHJvdmlkZXIucmVnaXN0ZXIoYHNlc3Npb25Db250ZXh0R3JvdXA6aGFuZGxlckFkZGVkLSR7dGhpcy5pZH1gLHRoaXMuaGFuZGxlckFkZGVkLmJpbmQodGhpcykpLHRoaXMucHJvdmlkZXIucmVnaXN0ZXIoYHNlc3Npb25Db250ZXh0R3JvdXA6aGFuZGxlclJlbW92ZWQtJHt0aGlzLmlkfWAsdGhpcy5oYW5kbGVyUmVtb3ZlZC5iaW5kKHRoaXMpKX1nZXRDdXJyZW50Q29udGV4dChlKXtyZXR1cm4gZS50eXBlP3RoaXMuY29udGV4dEdyb3VwTWFwLmdldChlLnR5cGUpOnRoaXMubGFzdENvbnRleHR9c2V0Q29udGV4dChlLHQpe2NvbnN0e2NvbnRleHQ6bn09ZSxyPWkuSW50ZXJvcEJyb2tlci5jaGVja0NvbnRleHRJbnRlZ3JpdHkobik7aWYoITE9PT1yLmlzVmFsaWQpdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2V0IENvbnRleHQgLSBiYWQgQ29udGV4dC4gUmVhc29uOiAke3IucmVhc29ufS4gQ29udGV4dDogJHtKU09OLnN0cmluZ2lmeShuKX1gKTtpZighdGhpcy5nZXRDbGllbnRTdGF0ZSh0KSl0aHJvdyBuZXcgRXJyb3IoYENsaWVudCB3aXRoIElkZW50aXR5OiAke3QudXVpZH0gJHt0Lm5hbWV9IG5vdCBpbiBTZXNzaW9uIENsaWVudCBTdGF0ZSBNYXBgKTt0aGlzLmNvbnRleHRHcm91cE1hcC5zZXQobi50eXBlLG4pLHRoaXMubGFzdENvbnRleHQ9bixBcnJheS5mcm9tKHRoaXMuY2xpZW50cy52YWx1ZXMoKSkuZm9yRWFjaCgoZT0+e3ZhciB0O251bGw9PT0odD1lLmNvbnRleHRIYW5kbGVycy5nZXQobi50eXBlKSl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgodD0+e3RoaXMucHJvdmlkZXIuZGlzcGF0Y2goZS5jbGllbnRJZGVudGl0eSx0LG4pfSkpLGUuZ2xvYmFsSGFuZGxlciYmdGhpcy5wcm92aWRlci5kaXNwYXRjaChlLmNsaWVudElkZW50aXR5LGUuZ2xvYmFsSGFuZGxlcixuKX0pKX1nZXRDbGllbnRTdGF0ZShlKXtyZXR1cm4gdGhpcy5jbGllbnRzLmdldChlLmVuZHBvaW50SWQpfWhhbmRsZXJBZGRlZChlLHQpe2NvbnN0e2hhbmRsZXJJZDpuLGNvbnRleHRUeXBlOml9PWUscj10aGlzLmdldENsaWVudFN0YXRlKHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihgQ2xpZW50IHdpdGggSWRlbnRpdHk6ICR7dC51dWlkfSAke3QubmFtZX0gbm90IGluIENsaWVudCBTdGF0ZSBNYXBgKTtpZihpKXtjb25zdCBlPXIuY29udGV4dEhhbmRsZXJzLmdldChpKXx8W107ci5jb250ZXh0SGFuZGxlcnMuc2V0KGksWy4uLmUsbl0pO2NvbnN0IG89dGhpcy5jb250ZXh0R3JvdXBNYXAuZ2V0KGkpO28mJnRoaXMucHJvdmlkZXIuZGlzcGF0Y2godCxuLG8pfWVsc2Ugci5nbG9iYWxIYW5kbGVyPW4sWy4uLnRoaXMuY29udGV4dEdyb3VwTWFwLmtleXMoKV0uZm9yRWFjaCgoZT0+e2NvbnN0IGk9dGhpcy5jb250ZXh0R3JvdXBNYXAuZ2V0KGUpO2kmJnRoaXMucHJvdmlkZXIuZGlzcGF0Y2godCxuLGkpfSkpfWhhbmRsZXJSZW1vdmVkKGUsdCl7Y29uc3R7aGFuZGxlcklkOm59PWUsaT10aGlzLmNsaWVudHMuZ2V0KHQuZW5kcG9pbnRJZCk7aT8oQXJyYXkuZnJvbShpLmNvbnRleHRIYW5kbGVycykuZm9yRWFjaCgoKFssZV0pPT57Y29uc3QgdD1lLmluZGV4T2Yobik7dD4tMSYmZS5zcGxpY2UodCwxKX0pKSxpLmdsb2JhbEhhbmRsZXI9PT1uJiYoaS5nbG9iYWxIYW5kbGVyPXZvaWQgMCkpOmNvbnNvbGUud2FybihgVHJ5aW5nIHRvIHJlbW92ZSBhIGhhbmRsZXIgZnJvbSBhIGNsaWVudCB0aGF0IGlzbid0IG1hcHBlZC4gaGFuZGxlcklkOiAke259LiBjbGllbnRJZGVudGl0eTogJHt0fWApfXJlZ2lzdGVyTmV3Q2xpZW50KGUpe2lmKCF0aGlzLmNsaWVudHMuaGFzKGUuZW5kcG9pbnRJZCkpe2NvbnN0IHQ9e2NvbnRleHRIYW5kbGVyczpuZXcgTWFwLGNsaWVudElkZW50aXR5OmUsZ2xvYmFsSGFuZGxlcjp2b2lkIDB9O3RoaXMuY2xpZW50cy5zZXQoZS5lbmRwb2ludElkLHQpfX1vbkRpc2Nvbm5lY3Rpb24oZSl7dGhpcy5jbGllbnRzLmRlbGV0ZShlLmVuZHBvaW50SWQpfX19LDgyMjpmdW5jdGlvbihlLHQsbil7dmFyIGkscj10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0sbz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcz1uKDk2NTkpLGE9bigxNzg3KTtjbGFzcyBjIGV4dGVuZHMgcy5CYXNle2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlKSxpLnNldCh0aGlzLHZvaWQgMCksdGhpcy5pZD1uLHIodGhpcyxpLHQpfWFzeW5jIHNldENvbnRleHQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1zZXNzaW9uLWNvbnRleHQtZ3JvdXAtc2V0LWNvbnRleHRcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IG8odGhpcyxpKSkuZGlzcGF0Y2goYHNlc3Npb25Db250ZXh0R3JvdXA6c2V0Q29udGV4dC0ke3RoaXMuaWR9YCx7c2Vzc2lvbkNvbnRleHRHcm91cElkOnRoaXMuaWQsY29udGV4dDplfSl9YXN5bmMgZ2V0Q3VycmVudENvbnRleHQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW50ZXJvcC1zZXNzaW9uLWNvbnRleHQtZ3JvdXAtZ2V0LWNvbnRleHRcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IG8odGhpcyxpKSkuZGlzcGF0Y2goYHNlc3Npb25Db250ZXh0R3JvdXA6Z2V0Q29udGV4dC0ke3RoaXMuaWR9YCx7c2Vzc2lvbkNvbnRleHRHcm91cElkOnRoaXMuaWQsdHlwZTplfSl9YXN5bmMgYWRkQ29udGV4dEhhbmRsZXIoZSx0KXt0aGlzLndpcmUuc2VuZEFjdGlvbihcImludGVyb3Atc2Vzc2lvbi1jb250ZXh0LWdyb3VwLWFkZC1oYW5kbGVyXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IG49YXdhaXQgbyh0aGlzLGkpO2xldCByO3JldHVybiByPXQ/YHNlc3Npb25Db250ZXh0SGFuZGxlcjppbnZva2UtJHt0aGlzLmlkfS0ke3R9LSR7YS5nZW5lcmF0ZUlkKCl9YDpgc2Vzc2lvbkNvbnRleHRIYW5kbGVyOmludm9rZS0ke3RoaXMuaWR9YCxuLnJlZ2lzdGVyKHIsYS53cmFwQ29udGV4dEhhbmRsZXIoZSxyKSksbi5kaXNwYXRjaChgc2Vzc2lvbkNvbnRleHRHcm91cDpoYW5kbGVyQWRkZWQtJHt0aGlzLmlkfWAse2hhbmRsZXJJZDpyLGNvbnRleHRUeXBlOnR9KSx7dW5zdWJzY3JpYmU6YXdhaXQgdGhpcy5jcmVhdGVVbnN1YnNjcmliZUNiKHIpfX1hc3luYyBjcmVhdGVVbnN1YnNjcmliZUNiKGUpe2NvbnN0IHQ9YXdhaXQgbyh0aGlzLGkpO3JldHVybiBhc3luYygpPT57dC5yZW1vdmUoZSksYXdhaXQgdC5kaXNwYXRjaChgc2Vzc2lvbkNvbnRleHRHcm91cDpoYW5kbGVyUmVtb3ZlZC0ke3RoaXMuaWR9YCx7aGFuZGxlcklkOmV9KX19Z2V0VXNlckluc3RhbmNlKCl7cmV0dXJue2lkOnRoaXMuaWQsc2V0Q29udGV4dDphLndyYXBJblRyeUNhdGNoKHRoaXMuc2V0Q29udGV4dC5iaW5kKHRoaXMpLFwiRmFpbGVkIHRvIHNldCBjb250ZXh0OiBcIiksZ2V0Q3VycmVudENvbnRleHQ6YS53cmFwSW5UcnlDYXRjaCh0aGlzLmdldEN1cnJlbnRDb250ZXh0LmJpbmQodGhpcyksXCJGYWlsZWQgdG8gZ2V0IGNvbnRleHQ6IFwiKSxhZGRDb250ZXh0SGFuZGxlcjphLndyYXBJblRyeUNhdGNoKHRoaXMuYWRkQ29udGV4dEhhbmRsZXIuYmluZCh0aGlzKSxcIkZhaWxlZCB0byBhZGQgY29udGV4dCBoYW5kbGVyOiBcIil9fX10LmRlZmF1bHQ9YyxpPW5ldyBXZWFrTWFwfSw4NzA2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oMjk3Nyk7dC5kZWZhdWx0PW8uZGVmYXVsdCxyKG4oNzEzOCksdCkscihuKDIwNTcpLHQpfSwxNzg3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CUk9LRVJfRVJST1JTPXQuZ2VuZXJhdGVPdmVycmlkZVdhcm5pbmc9dC5nZW5lcmF0ZU92ZXJyaWRlRXJyb3I9dC53cmFwQ29udGV4dEhhbmRsZXI9dC53cmFwSW5UcnlDYXRjaD10LmdlbmVyYXRlSWQ9dm9pZCAwLHQuZ2VuZXJhdGVJZD0oKT0+YCR7TWF0aC5yYW5kb20oKX0ke0RhdGUubm93KCl9YCx0LndyYXBJblRyeUNhdGNoPShlLHQpPT4oLi4ubik9Pnt0cnl7cmV0dXJuIGUoLi4ubil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKCh0fHxcIlwiKStlKX19LHQud3JhcENvbnRleHRIYW5kbGVyPShlLHQpPT5hc3luYyBuPT57dHJ5e2F3YWl0IGUobil9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihgRXJyb3IgdGhyb3duIGJ5IGhhbmRsZXIgJHt0fSBmb3IgY29udGV4dCB0eXBlICR7bi50eXBlfTogJHtlfWApLGV9fSx0LmdlbmVyYXRlT3ZlcnJpZGVFcnJvcj0oZSx0KT0+YFlvdSBoYXZlIHRyaWVkIHRvIHRvIHVzZSAke2V9IGJ1dCAke3R9IGhhcyBub3QgYmVlbiBvdmVycmlkZGVuIGluIHRoZSBJbnRlcm9wIEJyb2tlci4gUGxlYXNlIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24uIFJlZmVyIHRvIG91ciBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGluZm8uYCx0LmdlbmVyYXRlT3ZlcnJpZGVXYXJuaW5nPShlLHQsbixpKT0+e2NvbnN0e3V1aWQ6cixuYW1lOm99PWk7cmV0dXJuYEVudGl0eSB3aXRoIGlkZW50aXR5OiAke3J9LyR7b30gaGFzIGNhbGxlZCAke2V9IG9yICR7dH0gYnV0ICR7bn0gaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW4uYH0sdC5CUk9LRVJfRVJST1JTPXtmaXJlSW50ZW50OnQuZ2VuZXJhdGVPdmVycmlkZUVycm9yKFwiZmlyZUludGVudFwiLFwiaGFuZGxlRmlyZWRJbnRlbnRcIiksZmlyZUludGVudEZvckNvbnRleHQ6dC5nZW5lcmF0ZU92ZXJyaWRlRXJyb3IoXCJmaXJlSW50ZW50Rm9yQ29udGV4dFwiLFwiaGFuZGxlRmlyZWRJbnRlbnRGb3JDb250ZXh0XCIpLGdldEluZm9Gb3JJbnRlbnQ6dC5nZW5lcmF0ZU92ZXJyaWRlRXJyb3IoXCJnZXRJbmZvRm9ySW50ZW50XCIsXCJoYW5kbGVJbmZvRm9ySW50ZW50XCIpLGdldEluZm9Gb3JJbnRlbnRzQnlDb250ZXh0OnQuZ2VuZXJhdGVPdmVycmlkZUVycm9yKFwiZ2V0SW5mb0ZvckludGVudHNCeUNvbnRleHRcIixcImhhbmRsZUluZm9Gb3JJbnRlbnRzQnlDb250ZXh0XCIpfX0sOTY0MTooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRNZT10LmdldEJhc2VNZT12b2lkIDA7Y29uc3QgaT1uKDQxNjkpLHI9big2NzIwKSxvPW4oNDk5Nyk7ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJue2lzVmlldzpcInZpZXdcIj09PWUsaXNXaW5kb3c6XCJ3aW5kb3dcIj09PWUsaXNGcmFtZTpcImlmcmFtZVwiPT09ZSxpc0V4dGVybmFsOlwiZXh0ZXJuYWwgY29ubmVjdGlvblwiPT09ZSx1dWlkOnQsbmFtZTpuLGVudGl0eVR5cGU6ZX19dC5nZXRCYXNlTWU9cyx0LmdldE1lPWZ1bmN0aW9uKGUpe2NvbnN0e3V1aWQ6dCxuYW1lOm4sZW50aXR5VHlwZTphfT1lLm1lLGM9e3NldENvbnRleHQoKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm9wIEFQSSBoYXMgbm90IGJlZW4gaW5zdGFudGlhdGVkLiBFaXRoZXIgY29ubmVjdGlvbiBoYXMgZmFpbGVkIG9yIHlvdSBoYXZlIG5vdCBkZWNsYXJlZCBpbnRlcm9wIGluIHlvdXIgY29uZmlnLlwiKX0sYWRkQ29udGV4dEhhbmRsZXIoKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm9wIEFQSSBoYXMgbm90IGJlZW4gaW5zdGFudGlhdGVkLiBFaXRoZXIgY29ubmVjdGlvbiBoYXMgZmFpbGVkIG9yIHlvdSBoYXZlIG5vdCBkZWNsYXJlZCBpbnRlcm9wIGluIHlvdXIgY29uZmlnLlwiKX0sZ2V0Q29udGV4dEdyb3Vwcygpe3Rocm93IG5ldyBFcnJvcihcIkludGVyb3AgQVBJIGhhcyBub3QgYmVlbiBpbnN0YW50aWF0ZWQuIEVpdGhlciBjb25uZWN0aW9uIGhhcyBmYWlsZWQgb3IgeW91IGhhdmUgbm90IGRlY2xhcmVkIGludGVyb3AgaW4geW91ciBjb25maWcuXCIpfSxqb2luQ29udGV4dEdyb3VwKCl7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJvcCBBUEkgaGFzIG5vdCBiZWVuIGluc3RhbnRpYXRlZC4gRWl0aGVyIGNvbm5lY3Rpb24gaGFzIGZhaWxlZCBvciB5b3UgaGF2ZSBub3QgZGVjbGFyZWQgaW50ZXJvcCBpbiB5b3VyIGNvbmZpZy5cIil9LHJlbW92ZUZyb21Db250ZXh0R3JvdXAoKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm9wIEFQSSBoYXMgbm90IGJlZW4gaW5zdGFudGlhdGVkLiBFaXRoZXIgY29ubmVjdGlvbiBoYXMgZmFpbGVkIG9yIHlvdSBoYXZlIG5vdCBkZWNsYXJlZCBpbnRlcm9wIGluIHlvdXIgY29uZmlnLlwiKX0sZ2V0QWxsQ2xpZW50c0luQ29udGV4dEdyb3VwKCl7dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJvcCBBUEkgaGFzIG5vdCBiZWVuIGluc3RhbnRpYXRlZC4gRWl0aGVyIGNvbm5lY3Rpb24gaGFzIGZhaWxlZCBvciB5b3UgaGF2ZSBub3QgZGVjbGFyZWQgaW50ZXJvcCBpbiB5b3VyIGNvbmZpZy5cIil9LGdldEluZm9Gb3JDb250ZXh0R3JvdXAoKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm9wIEFQSSBoYXMgbm90IGJlZW4gaW5zdGFudGlhdGVkLiBFaXRoZXIgY29ubmVjdGlvbiBoYXMgZmFpbGVkIG9yIHlvdSBoYXZlIG5vdCBkZWNsYXJlZCBpbnRlcm9wIGluIHlvdXIgY29uZmlnLlwiKX19O3N3aXRjaChhKXtjYXNlXCJ2aWV3XCI6cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IGkuVmlldyhlLHt1dWlkOnQsbmFtZTpufSkscyhhLHQsbikse2ludGVyb3A6Y30pO2Nhc2VcIndpbmRvd1wiOnJldHVybiBPYmplY3QuYXNzaWduKG5ldyBvLl9XaW5kb3coZSx7dXVpZDp0LG5hbWU6bn0pLHMoYSx0LG4pLHtpbnRlcm9wOmN9KTtjYXNlXCJpZnJhbWVcIjpyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgci5fRnJhbWUoZSx7dXVpZDp0LG5hbWU6bn0pLHMoYSx0LG4pLHtpbnRlcm9wOmN9KTtkZWZhdWx0OnJldHVybnsuLi5zKGEsdCxuKX19fX0sNzI4MzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDk2NTkpLHI9big2Mzk0KSxvPW4oOTg3Mik7Y2xhc3MgcyBleHRlbmRzIGkuQmFzZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuX2NoYW5uZWw9dCx0aGlzLl9pbml0aWFsaXplcj0oLi4uZSk9PnRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXRQcm92aWRlckluaXRpYWxpemVyKCkudGhlbigodD0+dCh0aGlzLndpcmUuZW52aXJvbm1lbnQpKC4uLmUpKSksdGhpcy5MYXlvdXQ9bmV3IHIuTGF5b3V0TW9kdWxlKHRoaXMud2lyZSl9YXN5bmMgaW5pdChlKXtjb25zdCB0PW51bGw9PWU/dm9pZCAwOmUub3ZlcnJpZGVDYWxsYmFjayxuPWF3YWl0IHRoaXMuZmluLkludGVyb3AuaW5pdCh0aGlzLmZpbi5tZS51dWlkLG51bGw9PWU/dm9pZCAwOmUuaW50ZXJvcE92ZXJyaWRlKTtyZXR1cm4gd2luZG93LmludGVyb3BCcm9rZXI9bix0aGlzLl9pbml0aWFsaXplcih0LG4pfWFzeW5jIHdyYXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicGxhdGZvcm0td3JhcFwiKS5jYXRjaCgoZT0+e30pKSxuZXcgby5QbGF0Zm9ybSh7dXVpZDplLnV1aWR9LHRoaXMuX2NoYW5uZWwpfXdyYXBTeW5jKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXdyYXAtc3luY1wiKS5jYXRjaCgoZT0+e30pKSxuZXcgby5QbGF0Zm9ybSh7dXVpZDplLnV1aWR9LHRoaXMuX2NoYW5uZWwpfWFzeW5jIGdldEN1cnJlbnQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1nZXQtY3VycmVudFwiKS5jYXRjaCgoZT0+e30pKSx0aGlzLndyYXAoe3V1aWQ6dGhpcy53aXJlLm1lLnV1aWR9KX1nZXRDdXJyZW50U3luYygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWdldC1jdXJyZW50LXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksdGhpcy53cmFwU3luYyh7dXVpZDp0aGlzLndpcmUubWUudXVpZH0pfXN0YXJ0KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXN0YXJ0XCIpLmNhdGNoKChlPT57fSkpLG5ldyBQcm9taXNlKChhc3luYyh0LG4pPT57dHJ5e2NvbnN0e3V1aWQ6bn09ZSxpPWF3YWl0IHRoaXMuZmluLkFwcGxpY2F0aW9uLl9jcmVhdGUoey4uLmUsaXNQbGF0Zm9ybUNvbnRyb2xsZXI6ITB9KTtpLm9uY2UoXCJwbGF0Zm9ybS1hcGktcmVhZHlcIiwoKCk9PnQodGhpcy53cmFwU3luYyh7dXVpZDpufSkpKSksaS5fcnVuKHt1dWlkOm59KX1jYXRjaChlKXtuKGUpfX0pKX1zdGFydEZyb21NYW5pZmVzdChlLHQpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXN0YXJ0LWZyb20tbWFuaWZlc3RcIikuY2F0Y2goKGU9Pnt9KSksbmV3IFByb21pc2UoKGFzeW5jKG4saSk9Pnt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLmZpbi5BcHBsaWNhdGlvbi5fY3JlYXRlRnJvbU1hbmlmZXN0KGUpO2kub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+bih0aGlzLndyYXBTeW5jKHt1dWlkOmkuaWRlbnRpdHkudXVpZH0pKSkpLGkuX3J1bih0KX1jYXRjaChlKXtpKGUpfX0pKX19dC5kZWZhdWx0PXN9LDk4NzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGxhdGZvcm09dm9pZCAwO2NvbnN0IG89big5NjU5KSxzPW4oNDk5OSksYT1uZXcgTWFwO2NsYXNzIGMgZXh0ZW5kcyBvLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodC53aXJlLFwiYXBwbGljYXRpb25cIixlLnV1aWQpLHRoaXMuZ2V0Q2xpZW50PWU9Pnt0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWdldC1jbGllbnRcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWV8fHRoaXMuaWRlbnRpdHkse3V1aWQ6bn09dDtpZighYS5oYXMobikpe2NvbnN0IGU9cih0aGlzLGkpLmNhbGwodGhpcyxuKTthLnNldChuLGUpfXJldHVybiBhLmdldChuKX0saS5zZXQodGhpcywoYXN5bmMgZT0+e3RyeXtjb25zdCB0PWBjdXN0b20tZnJhbWUtJHtlfWAsbj1hd2FpdCB0aGlzLl9jaGFubmVsLmNvbm5lY3QodCx7d2FpdDohMX0pO3JldHVybiBuLm9uRGlzY29ubmVjdGlvbigoKCk9PnthLmRlbGV0ZShlKX0pKSxufWNhdGNoKHQpe3Rocm93IGEuZGVsZXRlKGUpLG5ldyBFcnJvcihcIlRoZSB0YXJnZXRlZCBQbGF0Zm9ybSBpcyBub3QgY3VycmVudGx5IHJ1bm5pbmcuIExpc3RlbiBmb3IgYXBwbGljYXRpb24tc3RhcnRlZCBldmVudCBmb3IgdGhlIGdpdmVuIFV1aWQuXCIpfX0pKSx0aGlzLmxhdW5jaExlZ2FjeU1hbmlmZXN0PXRoaXMubGF1bmNoQ29udGVudE1hbmlmZXN0O2NvbnN0IG49cy52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4pO3RoaXMuX2NoYW5uZWw9dCx0aGlzLmlkZW50aXR5PXt1dWlkOmUudXVpZH0sdGhpcy5MYXlvdXQ9dGhpcy5maW4uUGxhdGZvcm0uTGF5b3V0LHRoaXMuQXBwbGljYXRpb249dGhpcy5maW4uQXBwbGljYXRpb24ud3JhcFN5bmModGhpcy5pZGVudGl0eSl9YXN5bmMgY3JlYXRlVmlldyhlLHQsbil7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1jcmVhdGUtdmlld1wiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5nZXRDbGllbnQoKSxyPWF3YWl0IGkuZGlzcGF0Y2goXCJjcmVhdGUtdmlld1wiLHt0YXJnZXQ6dCxvcHRzOmUsdGFyZ2V0VmlldzpufSk7aWYoIXJ8fHMudmFsaWRhdGVJZGVudGl0eShyLmlkZW50aXR5KSl0aHJvdyBuZXcgRXJyb3IoYFdoZW4gb3ZlcndyaXRpbmcgdGhlIGNyZWF0ZVZpZXcgY2FsbCwgcGxlYXNlIHJldHVybiBhbiBvYmplY3QgdGhhdCBoYXMgYSB2YWxpZCAnaWRlbnRpdHknIHByb3BlcnR5OiAke0pTT04uc3RyaW5naWZ5KHIpfWApO3JldHVybiB0aGlzLmZpbi5WaWV3LndyYXBTeW5jKHIuaWRlbnRpdHkpfWFzeW5jIGNyZWF0ZVdpbmRvdyhlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWNyZWF0ZS13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWF3YWl0IHRoaXMuZ2V0Q2xpZW50KCk7ZS5yZWFzb258fChlLnJlYXNvbj1cImFwaS1jYWxsXCIpO2NvbnN0IG49YXdhaXQgdC5kaXNwYXRjaChcImNyZWF0ZS12aWV3LWNvbnRhaW5lclwiLGUpO2lmKCFufHxzLnZhbGlkYXRlSWRlbnRpdHkobi5pZGVudGl0eSkpdGhyb3cgbmV3IEVycm9yKGBXaGVuIG92ZXJ3cml0aW5nIHRoZSBjcmVhdGVXaW5kb3cgY2FsbCwgcGxlYXNlIHJldHVybiBhbiBvYmplY3QgdGhhdCBoYXMgYSB2YWxpZCAnaWRlbnRpdHknIHByb3BlcnR5OiAke0pTT04uc3RyaW5naWZ5KG4pfWApO2NvbnN0e2lkZW50aXR5Oml9PW4scj10aGlzLmZpbi5XaW5kb3cud3JhcFN5bmMoaSk7cmV0dXJuIHIubmFtZT1pLm5hbWUsci51dWlkPWkudXVpZCxyfWFzeW5jIHF1aXQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1xdWl0XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHRoaXMuZ2V0Q2xpZW50KCkpLmRpc3BhdGNoKFwicXVpdFwiKX1hc3luYyBjbG9zZVZpZXcoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1jbG9zZS12aWV3XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgdD1hd2FpdCB0aGlzLmdldENsaWVudCgpO2F3YWl0IHQuZGlzcGF0Y2goXCJjbG9zZS12aWV3XCIse3ZpZXc6ZX0pfWFzeW5jIHJlcGFyZW50VmlldyhlLHQpe3ZhciBuO2NvbnNvbGUud2FybihcIlBsYXRmb3JtLnJlcGFyZW50VmlldyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBsYXRmb3JtLmNyZWF0ZVZpZXdcIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1yZXBhcmVudC12aWV3XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgaT17Li4uZSx1dWlkOm51bGwhPT0obj1lLnV1aWQpJiZ2b2lkIDAhPT1uP246dGhpcy5pZGVudGl0eS51dWlkfSxyPWF3YWl0IHRoaXMuZmluLlZpZXcud3JhcChpKSxvPWF3YWl0IHIuZ2V0T3B0aW9ucygpO3JldHVybiB0aGlzLmNyZWF0ZVZpZXcobyx0KX1hc3luYyBnZXRTbmFwc2hvdCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLWdldC1zbmFwc2hvdFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLChhd2FpdCB0aGlzLmdldENsaWVudCgpKS5kaXNwYXRjaChcImdldC1zbmFwc2hvdFwiKX1hc3luYyBhcHBseVNuYXBzaG90KGUsdCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1hcHBseS1zbmFwc2hvdFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpO2NvbnN0IG49XCJSZXF1ZXN0ZWQgc25hcHNob3QgbXVzdCBiZSBhIHZhbGlkIFNuYXBzaG90IG9iamVjdCwgb3IgYSB1cmwgb3IgZmlsZXBhdGggdG8gc3VjaCBhbiBvYmplY3QuXCI7bGV0IGk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpdHJ5e2k9KGF3YWl0IHRoaXMuX2NoYW5uZWwud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWFwcGxpY2F0aW9uLW1hbmlmZXN0XCIse21hbmlmZXN0VXJsOmV9KSkucGF5bG9hZC5kYXRhfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgJHtufTogJHtlfWApfWVsc2UgaT1lO2lmKCFpLndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKG4pO2NvbnN0IHI9YXdhaXQgdGhpcy5nZXRDbGllbnQoKTtyZXR1cm4gYXdhaXQgci5kaXNwYXRjaChcImFwcGx5LXNuYXBzaG90XCIse3NuYXBzaG90Omksb3B0aW9uczp0fSksdGhpc31hc3luYyBmZXRjaE1hbmlmZXN0KGUpe3JldHVybihhd2FpdCB0aGlzLmdldENsaWVudCgpKS5kaXNwYXRjaChcInBsYXRmb3JtLWZldGNoLW1hbmlmZXN0XCIse21hbmlmZXN0VXJsOmV9KX1hc3luYyBsYXVuY2hDb250ZW50TWFuaWZlc3QoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1sYXVuY2gtY29udGVudC1tYW5pZmVzdFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5nZXRDbGllbnQoKSxuPWF3YWl0IHRoaXMuZmV0Y2hNYW5pZmVzdChlKTtyZXR1cm4gdC5kaXNwYXRjaChcImxhdW5jaC1pbnRvLXBsYXRmb3JtXCIse21hbmlmZXN0Om59KSx0aGlzfWFzeW5jIHNldFdpbmRvd0NvbnRleHQoZT17fSx0KXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcInBsYXRmb3JtLXNldC13aW5kb3ctY29udGV4dFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLCFlKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgc2VyaWFsaXphYmxlIG9iamVjdCBvciBzdHJpbmcgdG8gc2V0IHRoZSBjb250ZXh0LlwiKTtjb25zdCBuPWF3YWl0IHRoaXMuZ2V0Q2xpZW50KCkse2VudGl0eVR5cGU6aX09dD9hd2FpdCB0aGlzLmZpbi5TeXN0ZW0uZ2V0RW50aXR5SW5mbyh0LnV1aWQsdC5uYW1lKTp0aGlzLmZpbi5tZTthd2FpdCBuLmRpc3BhdGNoKFwic2V0LXdpbmRvdy1jb250ZXh0XCIse2NvbnRleHQ6ZSxlbnRpdHlUeXBlOmksdGFyZ2V0OnR8fHt1dWlkOnRoaXMuZmluLm1lLnV1aWQsbmFtZTp0aGlzLmZpbi5tZS5uYW1lfX0pfWFzeW5jIGdldFdpbmRvd0NvbnRleHQoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwbGF0Zm9ybS1nZXQtd2luZG93LWNvbnRleHRcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PWF3YWl0IHRoaXMuZ2V0Q2xpZW50KCkse2VudGl0eVR5cGU6bn09ZT9hd2FpdCB0aGlzLmZpbi5TeXN0ZW0uZ2V0RW50aXR5SW5mbyhlLnV1aWQsZS5uYW1lKTp0aGlzLmZpbi5tZTtyZXR1cm4gdC5kaXNwYXRjaChcImdldC13aW5kb3ctY29udGV4dFwiLHt0YXJnZXQ6ZXx8e3V1aWQ6dGhpcy5maW4ubWUudXVpZCxuYW1lOnRoaXMuZmluLm1lLm5hbWV9LGVudGl0eVR5cGU6bn0pfX10LlBsYXRmb3JtPWMsaT1uZXcgV2Vha01hcH0sNDM4NjooZSx0KT0+e2Z1bmN0aW9uIG4oZSl7c3dpdGNoKGUpe2Nhc2VcImNvbHVtbnNcIjpjYXNlXCJncmlkXCI6Y2FzZVwicm93c1wiOmNhc2VcInRhYnNcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmlzVmFsaWRQcmVzZXRUeXBlPXZvaWQgMCx0LmlzVmFsaWRQcmVzZXRUeXBlPW4sdC5kZWZhdWx0PXtpc1ZhbGlkUHJlc2V0VHlwZTpufX0sNjA5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oNzI4Myk7dC5kZWZhdWx0PW8uZGVmYXVsdCxyKG4oOTg3MiksdCl9LDQyMTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9LG89dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGF5b3V0TW9kdWxlPXZvaWQgMDtjb25zdCBzPW4oODExMSksYT1uKDk2NTkpO2NsYXNzIGMgZXh0ZW5kcyBhLkJhc2V7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLGkuc2V0KHRoaXMsdm9pZCAwKSx0aGlzLmluaXQ9YXN5bmMoZT17fSk9PntpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1pbml0XCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLmZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJMYXlvdXQuaW5pdCBjYW4gb25seSBiZSBjYWxsZWQgZnJvbSBhIFdpbmRvdyBjb250ZXh0LlwiKTtpZihyKHRoaXMsaSkpdGhyb3cgbmV3IEVycm9yKFwiTGF5b3V0IGZvciB0aGlzIHdpbmRvdyBhbHJlYWR5IGluaXRpYWxpemVkLCBwbGVhc2UgdXNlIExheW91dC5yZXBsYWNlIGNhbGwgdG8gcmVwbGFjZSB0aGUgbGF5b3V0LlwiKTtjb25zdCB0PWF3YWl0IHRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXRNYW5hZ2VyQ29uc3RydWN0b3IoKTtvKHRoaXMsaSxuZXcgdCk7bGV0e2xheW91dDpuLGNvbnRhaW5lcklkOnN9PWU7biYmY29uc29sZS53YXJuKFwiV2UgcmVjb21tZW5kIHVzaW5nIGEgbGF5b3V0IGluIHdpbmRvdyBvcHRpb25zLlxcbiAgICAgICAgICAgICAgICBUaGlzIGxheW91dCBoYXMgbm90IGJlZW4gc2FuaXRpemVkIGFuZCB1bmV4cGVjdGVkIGJlaGF2aW9yIGNhbiBvY2N1ci5cIiksbj1ufHwoYXdhaXQgdGhpcy5maW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkuZ2V0T3B0aW9ucygpKS5sYXlvdXQscz1zfHxcImxheW91dC1jb250YWluZXJcIjtjb25zdCBhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpO3JldHVybiBhd2FpdCByKHRoaXMsaSkuaW5pdE1hbmFnZXIoKSxhd2FpdCByKHRoaXMsaSkuY3JlYXRlTGF5b3V0KG4sYSksT2JqZWN0LmFzc2lnbih0aGlzLmdldEN1cnJlbnRTeW5jKCkse2xheW91dE1hbmFnZXI6cih0aGlzLGkpfSl9fWFzeW5jIHdyYXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LXdyYXBcIikuY2F0Y2goKGU9Pnt9KSksbmV3IHMuTGF5b3V0KGUsdGhpcy53aXJlKX13cmFwU3luYyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJsYXlvdXQtd3JhcC1zeW5jXCIpLmNhdGNoKChlPT57fSkpLG5ldyBzLkxheW91dChlLHRoaXMud2lyZSl9YXN5bmMgZ2V0Q3VycmVudCgpe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LWdldC1jdXJyZW50XCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLmZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBpbiBhIFdpbmRvdyBjb250ZXh0LiAgT25seSBXaW5kb3dzIGNhbiBoYXZlIGEgTGF5b3V0LlwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLmZpbi5tZTtyZXR1cm4gdGhpcy53cmFwKHt1dWlkOmUsbmFtZTp0fSl9Z2V0Q3VycmVudFN5bmMoKXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1nZXQtY3VycmVudC1zeW5jXCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLmZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBpbiBhIFdpbmRvdyBjb250ZXh0LiAgT25seSBXaW5kb3dzIGNhbiBoYXZlIGEgTGF5b3V0LlwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLmZpbi5tZTtyZXR1cm4gdGhpcy53cmFwU3luYyh7dXVpZDplLG5hbWU6dH0pfX10LkxheW91dE1vZHVsZT1jLGk9bmV3IFdlYWtNYXB9LDgxMTE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGF5b3V0PXZvaWQgMDtjb25zdCBpPW4oNDk5OSkscj1uKDQzODYpLG89big5NjU5KTtjbGFzcyBzIGV4dGVuZHMgby5CYXNle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5yZXBsYWNlPWFzeW5jIGU9Pnt0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1yZXBsYWNlXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5wbGF0Zm9ybS5nZXRDbGllbnQoKTthd2FpdCB0LmRpc3BhdGNoKFwicmVwbGFjZS1sYXlvdXRcIix7dGFyZ2V0OnRoaXMuaWRlbnRpdHksb3B0czp7bGF5b3V0OmV9fSl9LHRoaXMucmVwbGFjZVZpZXc9YXN5bmMoZSx0KT0+e3RoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LXJlcGxhY2Utdmlld1wiKS5jYXRjaCgoZT0+e30pKTtjb25zdCBuPWF3YWl0IHRoaXMucGxhdGZvcm0uZ2V0Q2xpZW50KCk7YXdhaXQgbi5kaXNwYXRjaChcInJlcGxhY2Utdmlld1wiLHt0YXJnZXQ6dGhpcy5pZGVudGl0eSxvcHRzOnt2aWV3VG9SZXBsYWNlOmUsbmV3Vmlldzp0fX0pfSx0aGlzLmFwcGx5UHJlc2V0PWFzeW5jIGU9Pnt0aGlzLndpcmUuc2VuZEFjdGlvbihcImxheW91dC1hcHBseS1wcmVzZXRcIikuY2F0Y2goKGU9Pnt9KSk7Y29uc3QgdD1hd2FpdCB0aGlzLnBsYXRmb3JtLmdldENsaWVudCgpLHtwcmVzZXRUeXBlOm59PWU7aWYoIW58fCFyLmlzVmFsaWRQcmVzZXRUeXBlKG4pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhcHBseSBwcmVzZXQgbGF5b3V0LCBwbGVhc2UgaW5jbHVkZSBhbiBhcHBsaWNhYmxlIHByZXNldFR5cGUgcHJvcGVydHkgaW4gdGhlIFByZXNldExheW91dE9wdGlvbnMuXCIpO2F3YWl0IHQuZGlzcGF0Y2goXCJhcHBseS1wcmVzZXQtbGF5b3V0XCIse3RhcmdldDp0aGlzLmlkZW50aXR5LG9wdHM6e3ByZXNldFR5cGU6bn19KX07Y29uc3Qgbj1pLnZhbGlkYXRlSWRlbnRpdHkoZSk7aWYobil0aHJvdyBuZXcgRXJyb3Iobik7dGhpcy5pZGVudGl0eT1lLHRoaXMucGxhdGZvcm09dGhpcy5maW4uUGxhdGZvcm0ud3JhcFN5bmMoe3V1aWQ6ZS51dWlkfSksZS51dWlkPT09dGhpcy5maW4ubWUudXVpZCYmZS5uYW1lPT09dGhpcy5maW4ubWUubmFtZSYmKHRoaXMuaW5pdD10aGlzLmZpbi5QbGF0Zm9ybS5MYXlvdXQuaW5pdCl9YXN5bmMgZ2V0Q29uZmlnKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF5b3V0LWdldC1jb25maWdcIikuY2F0Y2goKGU9Pnt9KSksKGF3YWl0IHRoaXMucGxhdGZvcm0uZ2V0Q2xpZW50KCkpLmRpc3BhdGNoKFwiZ2V0LWZyYW1lLXNuYXBzaG90XCIse3RhcmdldDp0aGlzLmlkZW50aXR5fSl9fXQuTGF5b3V0PXN9LDYzOTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8dC5oYXNPd25Qcm9wZXJ0eShuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIobig0MjEwKSx0KSxyKG4oODExMSksdCl9LDE3NDY6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KSxyPW4oMjg3OCksbz1uKDYyMTUpO2NsYXNzIHMgZXh0ZW5kcyBpLkJhc2V7YXN5bmMgaW5pdChlKXtpZih0aGlzLndpcmUuc2VuZEFjdGlvbihcInNuYXBzaG90LXNvdXJjZS1pbml0XCIpLmNhdGNoKChlPT57fSkpLFwib2JqZWN0XCIhPXR5cGVvZiBlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmdldFNuYXBzaG90fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmFwcGx5U25hcHNob3QpdGhyb3cgbmV3IEVycm9yKFwieW91IG11c3QgcGFzcyBpbiBhIHZhbGlkIFNuYXBzaG90UHJvdmlkZXJcIik7Y29uc3QgdD1hd2FpdCB0aGlzLmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKG8uZ2V0U25hcHNob3RTb3VyY2VDaGFubmVsTmFtZShmaW4ubWUuaWRlbnRpdHkpKTt0LnJlZ2lzdGVyKFwiZ2V0LXNuYXBzaG90XCIsKGFzeW5jKCk9Pih7c25hcHNob3Q6YXdhaXQgZS5nZXRTbmFwc2hvdCgpfSkpKSx0LnJlZ2lzdGVyKFwiYXBwbHktc25hcHNob3RcIiwoKHtzbmFwc2hvdDp0fSk9PmUuYXBwbHlTbmFwc2hvdCh0KSkpfXdyYXBTeW5jKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNuYXBzaG90LXNvdXJjZS13cmFwLXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksbmV3IHIuU25hcHNob3RTb3VyY2UodGhpcy53aXJlLGUpfWFzeW5jIHdyYXAoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic25hcHNob3Qtc291cmNlLXdyYXBcIikuY2F0Y2goKGU9Pnt9KSksdGhpcy53cmFwU3luYyhlKX19dC5kZWZhdWx0PXN9LDI4Nzg6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbyxzLGEsYz10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXR8fGZ1bmN0aW9uKGUsdCxuKXtpZighdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7cmV0dXJuIHQuc2V0KGUsbiksbn0sZD10aGlzJiZ0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXR8fGZ1bmN0aW9uKGUsdCl7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LmdldChlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TbmFwc2hvdFNvdXJjZT12b2lkIDA7Y29uc3QgaD1uKDk2NTkpLGw9big2MjE1KSx1PW5ldyBNYXA7Y2xhc3MgcCBleHRlbmRzIGguQmFzZXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLGkuc2V0KHRoaXMsdm9pZCAwKSxyLnNldCh0aGlzLCgoKT0+KHUuaGFzKHRoaXMuaWRlbnRpdHkudXVpZCl8fHUuc2V0KHRoaXMuaWRlbnRpdHkudXVpZCx7ZXZlbnRGaXJlZDpudWxsLGNsaWVudFByb21pc2U6bnVsbH0pLHUuZ2V0KHRoaXMuaWRlbnRpdHkudXVpZCkpKSksby5zZXQodGhpcywoKCk9PihkKHRoaXMscikuY2FsbCh0aGlzKS5jbGllbnRQcm9taXNlfHwoZCh0aGlzLHIpLmNhbGwodGhpcykuY2xpZW50UHJvbWlzZT1kKHRoaXMscykuY2FsbCh0aGlzKSksZCh0aGlzLHIpLmNhbGwodGhpcykuY2xpZW50UHJvbWlzZSkpKSxzLnNldCh0aGlzLChhc3luYygpPT57Y29uc3QgZT1sLmdldFNuYXBzaG90U291cmNlQ2hhbm5lbE5hbWUodGhpcy5pZGVudGl0eSk7dHJ5e2QodGhpcyxyKS5jYWxsKHRoaXMpLmV2ZW50RmlyZWR8fGF3YWl0IGQodGhpcyxhKS5jYWxsKHRoaXMpO2NvbnN0IHQ9YXdhaXQgdGhpcy5maW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7d2FpdDohMX0pO3JldHVybiB0Lm9uRGlzY29ubmVjdGlvbigoKCk9PntkKHRoaXMscikuY2FsbCh0aGlzKS5jbGllbnRQcm9taXNlPW51bGwsZCh0aGlzLHIpLmNhbGwodGhpcykuZXZlbnRGaXJlZD1udWxsfSkpLHR9Y2F0Y2goZSl7dGhyb3cgZCh0aGlzLHIpLmNhbGwodGhpcykuY2xpZW50UHJvbWlzZT1udWxsLG5ldyBFcnJvcihcIlRoZSB0YXJnZXRlZCBTbmFwc2hvdFNvdXJjZSBpcyBub3QgY3VycmVudGx5IGluaXRpYWxpemVkLiBBd2FpdCB0aGlzIG9iamVjdCdzIHJlYWR5KCkgbWV0aG9kLlwiKX19KSksYS5zZXQodGhpcywoYXN5bmMoKT0+e2NvbnN0IGU9bC5nZXRTbmFwc2hvdFNvdXJjZUNoYW5uZWxOYW1lKHRoaXMuaWRlbnRpdHkpO2xldCB0LG47Y29uc3QgaT1uZXcgUHJvbWlzZSgoKGUsaSk9Pnt0PWUsbj1pfSkpO2QodGhpcyxyKS5jYWxsKHRoaXMpLmV2ZW50RmlyZWQ9aTtjb25zdCBvPWFzeW5jIGk9Pnt0cnl7aS5jaGFubmVsTmFtZT09PWUmJih0KCksYXdhaXQgdGhpcy5maW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLnJlbW92ZUxpc3RlbmVyKFwiY29ubmVjdGVkXCIsbykpfWNhdGNoKGUpe24oZSl9fTthd2FpdCB0aGlzLmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwub24oXCJjb25uZWN0ZWRcIixvKX0pKSxjKHRoaXMsaSx0KX1nZXQgaWRlbnRpdHkoKXtyZXR1cm4gZCh0aGlzLGkpfWFzeW5jIHJlYWR5KCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzbmFwc2hvdC1zb3VyY2UtcmVhZHlcIikuY2F0Y2goKGU9Pnt9KSk7dHJ5e2F3YWl0IGQodGhpcyxvKS5jYWxsKHRoaXMpfWNhdGNoKGUpe2F3YWl0IGQodGhpcyxyKS5jYWxsKHRoaXMpLmV2ZW50RmlyZWR9fWFzeW5jIGdldFNuYXBzaG90KCl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzbmFwc2hvdC1zb3VyY2UtZ2V0LXNuYXBzaG90XCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IGU9YXdhaXQgZCh0aGlzLG8pLmNhbGwodGhpcyksdD1hd2FpdCBlLmRpc3BhdGNoKFwiZ2V0LXNuYXBzaG90XCIpO3JldHVybihhd2FpdCB0KS5zbmFwc2hvdH1hc3luYyBhcHBseVNuYXBzaG90KGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNuYXBzaG90LXNvdXJjZS1hcHBseS1zbmFwc2hvdFwiKS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgZCh0aGlzLG8pLmNhbGwodGhpcykpLmRpc3BhdGNoKFwiYXBwbHktc25hcHNob3RcIix7c25hcHNob3Q6ZX0pfX10LlNuYXBzaG90U291cmNlPXAsaT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwLG89bmV3IFdlYWtNYXAscz1uZXcgV2Vha01hcCxhPW5ldyBXZWFrTWFwfSw3MTUzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oMTc0Nik7dC5kZWZhdWx0PW8uZGVmYXVsdCxyKG4oMjg3OCksdCl9LDYyMTU6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldFNuYXBzaG90U291cmNlQ2hhbm5lbE5hbWU9dm9pZCAwLHQuZ2V0U25hcHNob3RTb3VyY2VDaGFubmVsTmFtZT1lPT5gc25hcHNob3Qtc291cmNlLXByb3ZpZGVyLSR7ZS51dWlkfWB9LDM2NDE6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9big5NjU5KSxyPW4oNTAwNyksbz1uKDQ5OTcpO2NsYXNzIHMgZXh0ZW5kcyBpLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsXCJzeXN0ZW1cIil9c2VuZEV4dGVybmFsUHJvY2Vzc1JlcXVlc3QoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKChuLGkpPT57Y29uc3Qgcj1cImV4dGVybmFsLXByb2Nlc3MtZXhpdGVkXCI7bGV0IHMsYSxjLGQ7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5saXN0ZW5lciYmKGM9ZT0+e2NvbnN0IG49ZXx8e307YT17dG9waWM6XCJleGl0ZWRcIix1dWlkOm4ucHJvY2Vzc1V1aWR8fFwiXCIsZXhpdENvZGU6bi5leGl0Q29kZXx8MH0scz09PWUucHJvY2Vzc1V1aWQmJih0Lmxpc3RlbmVyKGEpLGQucmVtb3ZlTGlzdGVuZXIocixjKSl9LHRoaXMud2lyZS5tZS5uYW1lfHwodGhpcy53aXJlLm1lLm5hbWU9dGhpcy53aXJlLm1lLnV1aWQpLGQ9bmV3IG8uX1dpbmRvdyh0aGlzLndpcmUsdGhpcy53aXJlLm1lKSxkLm9uKHIsYykpLHRoaXMud2lyZS5zZW5kQWN0aW9uKGUsdCkudGhlbigoKHtwYXlsb2FkOmV9KT0+e3M9ZS5kYXRhLnV1aWQsbihlLmRhdGEpLGEmJnM9PT1hLnV1aWQmJih0Lmxpc3RlbmVyKGEpLGQucmVtb3ZlTGlzdGVuZXIocixjKSl9KSkuY2F0Y2goKGU9PntkJiZkLnJlbW92ZUxpc3RlbmVyKHIsYyksaShlKX0pKX0pKX1nZXRWZXJzaW9uKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXZlcnNpb25cIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Y2xlYXJDYWNoZShlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJjbGVhci1jYWNoZVwiLGUpLnRoZW4oKCgpPT57fSkpfWRlbGV0ZUNhY2hlT25FeGl0KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZGVsZXRlLWNhY2hlLXJlcXVlc3RcIikudGhlbigoKCk9Pnt9KSl9ZXhpdCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImV4aXQtZGVza3RvcFwiKS50aGVuKCgoKT0+e30pKX1hc3luYyBmZXRjaE1hbmlmZXN0KGUpe2NvbnN0e3BheWxvYWQ6e2RhdGE6dH19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZmV0Y2gtbWFuaWZlc3RcIix7bWFuaWZlc3RVcmw6ZX0pO3JldHVybiB0fWZsdXNoQ29va2llU3RvcmUoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJmbHVzaC1jb29raWUtc3RvcmVcIikudGhlbigoKCk9Pnt9KSl9Z2V0QWxsV2luZG93cygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1hbGwtd2luZG93c1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRBbGxBcHBsaWNhdGlvbnMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLWFwcGxpY2F0aW9uc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRDb21tYW5kTGluZUFyZ3VtZW50cygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1jb21tYW5kLWxpbmUtYXJndW1lbnRzXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldENyYXNoUmVwb3J0ZXJTdGF0ZSgpe2NvbnN0e3BheWxvYWQ6e2RhdGE6e2RpYWdub3N0aWNNb2RlOmUsaXNSdW5uaW5nOnR9fX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY3Jhc2gtcmVwb3J0ZXItc3RhdGVcIik7cmV0dXJuIGNvbnNvbGUud2FybihcImRpYWdub3N0aWNNb2RlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uXCIpLHtkaWFnbm9zdGljTW9kZTplLGRpYWdub3N0aWNzTW9kZTplLGlzUnVubmluZzp0fX1hc3luYyBzdGFydENyYXNoUmVwb3J0ZXIoZSl7Y29uc3QgdD1lLG49ey4uLnQsZGlhZ25vc3RpY01vZGU6dC5kaWFnbm9zdGljc01vZGV8fHQuZGlhZ25vc3RpY01vZGV9LHtwYXlsb2FkOntkYXRhOntkaWFnbm9zdGljTW9kZTppLGlzUnVubmluZzpyfX19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic3RhcnQtY3Jhc2gtcmVwb3J0ZXJcIixuKTtyZXR1cm57ZGlhZ25vc3RpY01vZGU6aSxkaWFnbm9zdGljc01vZGU6aSxpc1J1bm5pbmc6cn19Z2V0VW5pcXVlVXNlcklkKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXVuaXF1ZS11c2VyLWlkXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldEVudGl0eUluZm8oZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtZW50aXR5LWluZm9cIix7dXVpZDplLG5hbWU6dH0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldEVudmlyb25tZW50VmFyaWFibGUoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWVudmlyb25tZW50LXZhcmlhYmxlXCIse2Vudmlyb25tZW50VmFyaWFibGVzOmV9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRGb2N1c2VkV2luZG93KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWZvY3VzZWQtd2luZG93XCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGlzQXBwQ2VydGlmaWVkKGUpe2NvbnN0e3BheWxvYWQ6e2RhdGE6e2NlcnRpZmllZEluZm86dH19fT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImlzLWFwcC1jZXJ0aWZpZWRcIix7bWFuaWZlc3RVcmw6ZX0pO3JldHVybiB0fWdldEluc3RhbGxlZFJ1bnRpbWVzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWluc3RhbGxlZC1ydW50aW1lc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEucnVudGltZXMpKX1hc3luYyBnZXRJbnN0YWxsZWRBcHBzKCl7Y29uc3R7cGF5bG9hZDp7ZGF0YTp7aW5zdGFsbGVkQXBwczplfX19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWluc3RhbGxlZC1hcHBzXCIpO3JldHVybiBlfWdldExvZyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LWxvZ1wiLGUpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldE1hY2hpbmVJZCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1tYWNoaW5lLWlkXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldE1pbkxvZ0xldmVsKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LW1pbi1sb2ctbGV2ZWxcIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0TG9nTGlzdCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImxpc3QtbG9nc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRNb25pdG9ySW5mbygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1tb25pdG9yLWluZm9cIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0TW91c2VQb3NpdGlvbigpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1tb3VzZS1wb3NpdGlvblwiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRQcm9jZXNzTGlzdCgpe3JldHVybiBjb25zb2xlLndhcm4oXCJTeXN0ZW0uZ2V0UHJvY2Vzc0xpc3QgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIGNvbnNpZGVyIHVzaW5nIG91ciBuZXcgcHJvY2VzcyBBUElzOiBXaW5kb3cuZ2V0UHJvY2Vzc0luZm8sIFZpZXcuZ2V0UHJvY2Vzc0luZm8sIEFwcGxpY2F0aW9uLmdldFByb2Nlc3NJbmZvLCBTeXN0ZW0uZ2V0QWxsUHJvY2Vzc0luZm9cIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJwcm9jZXNzLXNuYXBzaG90XCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldEFsbFByb2Nlc3NJbmZvKCl7Y29uc3R7cGF5bG9hZDp7ZGF0YTplfX09YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLXByb2Nlc3MtaW5mb1wiLHRoaXMuaWRlbnRpdHkpO3JldHVybiBlfWdldFByb3h5U2V0dGluZ3MoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcHJveHktc2V0dGluZ3NcIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0UnVudGltZUluZm8oKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcnVudGltZS1pbmZvXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFJ2bUluZm8oKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtcnZtLWluZm9cIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0SG9zdFNwZWNzKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWhvc3Qtc3BlY3NcIikudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9bGF1bmNoRXh0ZXJuYWxQcm9jZXNzKGUpe3JldHVybiB0aGlzLnNlbmRFeHRlcm5hbFByb2Nlc3NSZXF1ZXN0KFwibGF1bmNoLWV4dGVybmFsLXByb2Nlc3NcIixlKX1tb25pdG9yRXh0ZXJuYWxQcm9jZXNzKGUpe3JldHVybiB0aGlzLnNlbmRFeHRlcm5hbFByb2Nlc3NSZXF1ZXN0KFwibW9uaXRvci1leHRlcm5hbC1wcm9jZXNzXCIsZSl9bG9nKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid3JpdGUtdG8tbG9nXCIse2xldmVsOmUsbWVzc2FnZTp0fSkudGhlbigoKCk9Pnt9KSl9b3BlblVybFdpdGhCcm93c2VyKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcIm9wZW4tdXJsLXdpdGgtYnJvd3NlclwiLHt1cmw6ZX0pLnRoZW4oKCgpPT57fSkpfXJlbGVhc2VFeHRlcm5hbFByb2Nlc3MoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVsZWFzZS1leHRlcm5hbC1wcm9jZXNzXCIse3V1aWQ6ZX0pLnRoZW4oKCgpPT57fSkpfXNob3dEZXZlbG9wZXJUb29scyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzaG93LWRldmVsb3Blci10b29sc1wiLGUpLnRoZW4oKCgpPT57fSkpfXRlcm1pbmF0ZUV4dGVybmFsUHJvY2VzcyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ0ZXJtaW5hdGUtZXh0ZXJuYWwtcHJvY2Vzc1wiLGUpLnRoZW4oKCgpPT57fSkpfXVwZGF0ZVByb3h5U2V0dGluZ3MoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwidXBkYXRlLXByb3h5XCIsZSkudGhlbigoKCk9Pnt9KSl9ZG93bmxvYWRBc3NldChlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoKG4saSk9PntpZihcIk5vZGVFbnZpcm9ubWVudFwiPT09dGhpcy53aXJlLmVudmlyb25tZW50LmNvbnN0cnVjdG9yLm5hbWUpcmV0dXJuIHZvaWQgaShuZXcgci5Ob3RTdXBwb3J0ZWRFcnJvcihcImRvd25sb2FkQXNzZXQgb25seSBzdXBwb3J0ZWQgaW4gYW4gT3BlbkZpbiBSZW5kZXIgcHJvY2Vzc1wiKSk7Y29uc3Qgbz10aGlzLndpcmUuZW52aXJvbm1lbnQuZ2V0TmV4dE1lc3NhZ2VJZCgpLnRvU3RyaW5nKCkscz1gYXNzZXQtZG93bmxvYWQtcHJvZ3Jlc3MtJHtvfWAsYT1gYXNzZXQtZG93bmxvYWQtZXJyb3ItJHtvfWAsYz1gYXNzZXQtZG93bmxvYWQtY29tcGxldGUtJHtvfWAsZD1lPT57Y29uc3Qgbj17ZG93bmxvYWRlZEJ5dGVzOmUuZG93bmxvYWRlZEJ5dGVzLHRvdGFsQnl0ZXM6ZS50b3RhbEJ5dGVzfTt0KG4pfSxoPSgpPT57dGhpcy5yZW1vdmVMaXN0ZW5lcihzLGQpfTt0aGlzLm9uKHMsZCksdGhpcy5vbmNlKGEsKChlLHQpPT57Y29uc3Qgbj10fHxlO2goKSxpKG5ldyByLlJ1bnRpbWVFcnJvcihuKSl9KSksdGhpcy5vbmNlKGMsKCgpPT57aCgpLG4oKX0pKTtjb25zdCBsPU9iamVjdC5hc3NpZ24oZSx7ZG93bmxvYWRJZDpvfSk7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkb3dubG9hZC1hc3NldFwiLGwpLmNhdGNoKChlPT57aCgpLGkoZSl9KSl9KSl9ZG93bmxvYWRSdW50aW1lKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKCgobixpKT0+e2lmKFwiTm9kZUVudmlyb25tZW50XCI9PT10aGlzLndpcmUuZW52aXJvbm1lbnQuY29uc3RydWN0b3IubmFtZSlyZXR1cm4gdm9pZCBpKG5ldyByLk5vdFN1cHBvcnRlZEVycm9yKFwiZG93bmxvYWRSdW50aW1lIG9ubHkgc3VwcG9ydGVkIGluIGFuIE9wZW5GaW4gUmVuZGVyIHByb2Nlc3NcIikpO2NvbnN0IG89dGhpcy53aXJlLmVudmlyb25tZW50LmdldE5leHRNZXNzYWdlSWQoKS50b1N0cmluZygpLHM9YHJ1bnRpbWUtZG93bmxvYWQtcHJvZ3Jlc3MtJHtvfWAsYT1gcnVudGltZS1kb3dubG9hZC1lcnJvci0ke299YCxjPWBydW50aW1lLWRvd25sb2FkLWNvbXBsZXRlLSR7b31gLGQ9ZT0+e2NvbnN0IG49e2Rvd25sb2FkZWRCeXRlczplLmRvd25sb2FkZWRCeXRlcyx0b3RhbEJ5dGVzOmUudG90YWxCeXRlc307dChuKX0saD0oKT0+e3RoaXMucmVtb3ZlTGlzdGVuZXIocyxkKX07dGhpcy5vbihzLGQpLHRoaXMub25jZShhLCgoZSx0KT0+e2NvbnN0IG49dHx8ZTtoKCksaShuZXcgci5SdW50aW1lRXJyb3IobikpfSkpLHRoaXMub25jZShjLCgoKT0+e2goKSxuKCl9KSk7Y29uc3QgbD1PYmplY3QuYXNzaWduKGUse2Rvd25sb2FkSWQ6b30pO3RoaXMud2lyZS5zZW5kQWN0aW9uKFwiZG93bmxvYWQtcnVudGltZVwiLGwpLmNhdGNoKChlPT57aCgpLGkoZSl9KSl9KSl9ZG93bmxvYWRQcmVsb2FkU2NyaXB0cyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkb3dubG9hZC1wcmVsb2FkLXNjcmlwdHNcIix7c2NyaXB0czplfSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0QWxsRXh0ZXJuYWxBcHBsaWNhdGlvbnMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLWV4dGVybmFsLWFwcGxpY2F0aW9uc1wiKS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1nZXRBcHBBc3NldEluZm8oZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWFwcC1hc3NldC1pbmZvXCIsZSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0Q29va2llcyhlKXtjb25zdCB0PXRoaXMud2lyZS5lbnZpcm9ubWVudC5nZXRVcmwoKSxuPU9iamVjdC5hc3NpZ24oZSx7dXJsOnR9KTtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY29va2llc1wiLG4pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfXNldE1pbkxvZ0xldmVsKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC1taW4tbG9nLWxldmVsXCIse2xldmVsOmV9KS50aGVuKCgoKT0+e30pKX1yZXNvbHZlVXVpZChlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJyZXNvbHZlLXV1aWRcIix7ZW50aXR5S2V5OmV9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1leGVjdXRlT25SZW1vdGUoZSx0KXtyZXR1cm4gdC5yZXF1ZXN0aW5nSWRlbnRpdHk9ZSx0aGlzLndpcmUuZmVycnlBY3Rpb24odCl9cmVhZFJlZ2lzdHJ5VmFsdWUoZSx0LG4pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlYWQtcmVnaXN0cnktdmFsdWVcIix7cm9vdEtleTplLHN1YmtleTp0LHZhbHVlOm59KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1yZWdpc3RlckV4dGVybmFsQ29ubmVjdGlvbihlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJyZWdpc3Rlci1leHRlcm5hbC1jb25uZWN0aW9uXCIse3V1aWQ6ZX0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGdldFNlcnZpY2VDb25maWd1cmF0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlLm5hbWUpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGFuIG9iamVjdCB3aXRoIGEgYG5hbWVgIHByb3BlcnR5IGhhdmluZyBhIHN0cmluZyB2YWx1ZVwiKTtjb25zdHtuYW1lOnR9PWU7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXNlcnZpY2UtY29uZmlndXJhdGlvblwiLHtuYW1lOnR9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1hc3luYyBnZXRTeXN0ZW1BcHBDb25maWcoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGEgc3RyaW5nIHZhbHVlIGZvciBuYW1lIG9mIHN5c3RlbSBhcHBcIik7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXN5c3RlbS1hcHAtY29uZmlndXJhdGlvblwiLHtuYW1lOmV9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1ydW5Sdm1IZWFsdGhDaGVjaygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJ1bi1ydm0taGVhbHRoLWNoZWNrXCIpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWFzeW5jIGxhdW5jaE1hbmlmZXN0KGUsdCl7cmV0dXJuKGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibGF1bmNoLW1hbmlmZXN0XCIse21hbmlmZXN0VXJsOmUsb3B0czp0fSkpLnBheWxvYWQuZGF0YS5tYW5pZmVzdH1hc3luYyBxdWVyeVBlcm1pc3Npb25Gb3JDdXJyZW50Q29udGV4dChlKXtjb25zdCB0PXt1dWlkOnRoaXMud2lyZS5tZS51dWlkLG5hbWU6dGhpcy53aXJlLm1lLm5hbWV9O3JldHVybihhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInF1ZXJ5LXBlcm1pc3Npb24tZm9yLWN1cnJlbnQtY29udGV4dFwiLHthcGlOYW1lOmUsaWRlbnRpdHk6dH0pKS5wYXlsb2FkLmRhdGF9YXN5bmMgZW5hYmxlTmF0aXZlV2luZG93SW50ZWdyYXRpb25Qcm92aWRlcihlKXtjb25zdHtwYXlsb2FkOnR9PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZW5hYmxlLW5hdGl2ZS13aW5kb3ctaW50ZWdyYXRpb24tcHJvdmlkZXJcIix7cGVybWlzc2lvbnM6ZX0pO3JldHVybiB0LmRhdGF9YXN5bmMgcmVnaXN0ZXJVc2FnZSh7ZGF0YTplLHR5cGU6dH0pe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVnaXN0ZXItdXNhZ2VcIix7ZGF0YTplLHR5cGU6dH0pfX10LmRlZmF1bHQ9c30sMjQwOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSkscj1uKDQ5OTkpLG89big0MTY5KTtjbGFzcyBzIGV4dGVuZHMgaS5CYXNle2FzeW5jIGNyZWF0ZShlKXtjb25zdHt1dWlkOnR9PXRoaXMud2lyZS5tZTtpZighZS5uYW1lfHxcInN0cmluZ1wiIT10eXBlb2YgZS5uYW1lKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgbmFtZSBwcm9wZXJ0eSBhcyBhIHN0cmluZyBpbiBvcmRlciB0byBjcmVhdGUgYSBWaWV3LlwiKTtyZXR1cm4gdGhpcy53aXJlLmVudmlyb25tZW50LmNoaWxkVmlld3M/YXdhaXQgdGhpcy53aXJlLmVudmlyb25tZW50LmNyZWF0ZUNoaWxkQ29udGVudCh7ZW50aXR5VHlwZTpcInZpZXdcIixvcHRpb25zOnsuLi5lLHV1aWQ6dH19KTphd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNyZWF0ZS12aWV3XCIsey4uLmUsdXVpZDp0fSksdGhpcy53cmFwU3luYyh7dXVpZDp0LG5hbWU6ZS5uYW1lfSl9YXN5bmMgd3JhcChlKXt0aGlzLndpcmUuc2VuZEFjdGlvbihcInZpZXctd3JhcFwiKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uVmlldyh0aGlzLndpcmUsZSl9d3JhcFN5bmMoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LXdyYXAtc3luY1wiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uVmlldyh0aGlzLndpcmUsZSl9Z2V0Q3VycmVudCgpe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwidmlldy1nZXQtY3VycmVudFwiKS5jYXRjaCgoZT0+e30pKSwhdGhpcy53aXJlLm1lLmlzVmlldyl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBpbiBhIFZpZXcgY29udGV4dFwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLndpcmUubWU7cmV0dXJuIHRoaXMud3JhcCh7dXVpZDplLG5hbWU6dH0pfWdldEN1cnJlbnRTeW5jKCl7aWYodGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LWdldC1jdXJyZW50LXN5bmNcIikuY2F0Y2goKGU9Pnt9KSksIXRoaXMud2lyZS5tZS5pc1ZpZXcpdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgaW4gYSBWaWV3IGNvbnRleHRcIik7Y29uc3R7dXVpZDplLG5hbWU6dH09dGhpcy53aXJlLm1lO3JldHVybiB0aGlzLndyYXBTeW5jKHt1dWlkOmUsbmFtZTp0fSl9fXQuZGVmYXVsdD1zfSwzMTYzOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlZpZXc9dm9pZCAwO2NvbnN0IGk9big0NjM2KSxyPW4oNDk5Nyk7Y2xhc3MgbyBleHRlbmRzIGkuV2ViQ29udGVudHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsXCJ2aWV3XCIpLHRoaXMuaWRlbnRpdHk9dCx0aGlzLmF0dGFjaD1hc3luYyBlPT57YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJhdHRhY2gtdmlld1wiLHt0YXJnZXQ6ZSwuLi50aGlzLmlkZW50aXR5fSl9LHRoaXMuZGVzdHJveT1hc3luYygpPT57YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkZXN0cm95LXZpZXdcIix7Li4udGhpcy5pZGVudGl0eX0pfSx0aGlzLnNob3c9YXN5bmMoKT0+e2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy12aWV3XCIsey4uLnRoaXMuaWRlbnRpdHl9KX0sdGhpcy5oaWRlPWFzeW5jKCk9Pnthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImhpZGUtdmlld1wiLHsuLi50aGlzLmlkZW50aXR5fSl9LHRoaXMuc2V0Qm91bmRzPWFzeW5jIGU9Pnthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC12aWV3LWJvdW5kc1wiLHtib3VuZHM6ZSwuLi50aGlzLmlkZW50aXR5fSl9LHRoaXMuZ2V0Qm91bmRzPWFzeW5jKCk9Pihhd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC12aWV3LWJvdW5kc1wiLHsuLi50aGlzLmlkZW50aXR5fSkpLnBheWxvYWQuZGF0YSx0aGlzLmdldEluZm89YXN5bmMoKT0+KGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXZpZXctaW5mb1wiLHsuLi50aGlzLmlkZW50aXR5fSkpLnBheWxvYWQuZGF0YSx0aGlzLmdldFBhcmVudExheW91dD1hc3luYygpPT4odGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ2aWV3LWdldC1wYXJlbnQtbGF5b3V0XCIsey4uLnRoaXMuaWRlbnRpdHl9KS5jYXRjaCgoZT0+e30pKSwoYXdhaXQgdGhpcy5nZXRDdXJyZW50V2luZG93KCkpLmdldExheW91dCgpKSx0aGlzLmdldE9wdGlvbnM9YXN5bmMoKT0+dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtdmlldy1vcHRpb25zXCIsey4uLnRoaXMuaWRlbnRpdHl9KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKSx0aGlzLnVwZGF0ZU9wdGlvbnM9YXN5bmMgZT0+dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ1cGRhdGUtdmlldy1vcHRpb25zXCIse29wdGlvbnM6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSksdGhpcy5nZXRDdXJyZW50V2luZG93PWFzeW5jKCk9Pntjb25zdHtwYXlsb2FkOntkYXRhOmV9fT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC12aWV3LXdpbmRvd1wiLHsuLi50aGlzLmlkZW50aXR5fSk7cmV0dXJuIG5ldyByLl9XaW5kb3codGhpcy53aXJlLGUpfX1hc3luYyBmb2N1cyh7ZW1pdFN5bnRoRm9jdXNlZDplfT17ZW1pdFN5bnRoRm9jdXNlZDohMH0pe2NvbnN0IHQ9YXdhaXQgdGhpcy5nZXRDdXJyZW50V2luZG93KCk7YXdhaXQgdC5mb2N1c2VkV2ViVmlld1dhc0NoYW5nZWQoKSxhd2FpdCBzdXBlci5mb2N1cyh7ZW1pdFN5bnRoRm9jdXNlZDplfSl9fXQuVmlldz1vfSw0MTY5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fHQuaGFzT3duUHJvcGVydHkobil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBvPW4oMjQwKTt0LmRlZmF1bHQ9by5kZWZhdWx0LHIobigzMTYzKSx0KX0sNDYzNjooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XZWJDb250ZW50cz12b2lkIDA7Y29uc3QgaT1uKDk2NTkpO2NsYXNzIHIgZXh0ZW5kcyBpLkVtaXR0ZXJCYXNle2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLG4sdC51dWlkLHQubmFtZSksdGhpcy5lbnRpdHlUeXBlPW59Y2FwdHVyZVBhZ2UoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2FwdHVyZS1wYWdlXCIse29wdGlvbnM6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9ZXhlY3V0ZUphdmFTY3JpcHQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZXhlY3V0ZS1qYXZhc2NyaXB0LWluLXdpbmRvd1wiLHsuLi50aGlzLmlkZW50aXR5LGNvZGU6ZX0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFpvb21MZXZlbCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC16b29tLWxldmVsXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9c2V0Wm9vbUxldmVsKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC16b29tLWxldmVsXCIsey4uLnRoaXMuaWRlbnRpdHksbGV2ZWw6ZX0pLnRoZW4oKCgpPT57fSkpfW5hdmlnYXRlKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcIm5hdmlnYXRlLXdpbmRvd1wiLHsuLi50aGlzLmlkZW50aXR5LHVybDplfSkudGhlbigoKCk9Pnt9KSl9bmF2aWdhdGVCYWNrKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibmF2aWdhdGUtd2luZG93LWJhY2tcIix7Li4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfWFzeW5jIG5hdmlnYXRlRm9yd2FyZCgpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibmF2aWdhdGUtd2luZG93LWZvcndhcmRcIix7Li4udGhpcy5pZGVudGl0eX0pfXN0b3BOYXZpZ2F0aW9uKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic3RvcC13aW5kb3ctbmF2aWdhdGlvblwiLHsuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cmVsb2FkKGU9ITEpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlbG9hZC13aW5kb3dcIix7aWdub3JlQ2FjaGU6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cHJpbnQoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicHJpbnRcIix7Li4udGhpcy5pZGVudGl0eSxvcHRpb25zOmV9KS50aGVuKCgoKT0+e30pKX1maW5kSW5QYWdlKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZmluZC1pbi1wYWdlXCIsey4uLnRoaXMuaWRlbnRpdHksc2VhcmNoVGVybTplLG9wdGlvbnM6dH0pLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfXN0b3BGaW5kSW5QYWdlKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInN0b3AtZmluZC1pbi1wYWdlXCIsey4uLnRoaXMuaWRlbnRpdHksYWN0aW9uOmV9KS50aGVuKCgoKT0+e30pKX1nZXRQcmludGVycygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC1wcmludGVyc1wiLHsuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgZm9jdXMoe2VtaXRTeW50aEZvY3VzZWQ6ZX09e2VtaXRTeW50aEZvY3VzZWQ6ITB9KXthd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcImZvY3VzLXdpbmRvd1wiLHtlbWl0U3ludGhGb2N1c2VkOmUsLi4udGhpcy5pZGVudGl0eX0pfWFzeW5jIHNob3dEZXZlbG9wZXJUb29scygpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy1kZXZlbG9wZXItdG9vbHNcIix0aGlzLmlkZW50aXR5KX1hc3luYyBnZXRQcm9jZXNzSW5mbygpe2NvbnN0e3BheWxvYWQ6e2RhdGE6ZX19PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXByb2Nlc3MtaW5mb1wiLHRoaXMuaWRlbnRpdHkpO3JldHVybiBlfWFzeW5jIGdldFNoYXJlZFdvcmtlcnMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtc2hhcmVkLXdvcmtlcnNcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1hc3luYyBpbnNwZWN0U2hhcmVkV29ya2VyKCl7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnNwZWN0LXNoYXJlZC13b3JrZXJcIix7Li4udGhpcy5pZGVudGl0eX0pfWFzeW5jIGluc3BlY3RTaGFyZWRXb3JrZXJCeUlkKGUpe2F3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaW5zcGVjdC1zaGFyZWQtd29ya2VyLWJ5LWlkXCIsey4uLnRoaXMuaWRlbnRpdHksd29ya2VySWQ6ZX0pfWFzeW5jIGluc3BlY3RTZXJ2aWNlV29ya2VyKCl7YXdhaXQgdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJpbnNwZWN0LXNlcnZpY2Utd29ya2VyXCIsey4uLnRoaXMuaWRlbnRpdHl9KX19dC5XZWJDb250ZW50cz1yfSwyMTYzOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oOTY1OSkscj1uKDQ5OTkpLG89big1MDQ3KTtjbGFzcyBzIGV4dGVuZHMgaS5CYXNle2FzeW5jIHdyYXAoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctd3JhcFwiKS5jYXRjaCgoZT0+e30pKTtjb25zdCB0PXIudmFsaWRhdGVJZGVudGl0eShlKTtpZih0KXRocm93IG5ldyBFcnJvcih0KTtyZXR1cm4gbmV3IG8uX1dpbmRvdyh0aGlzLndpcmUsZSl9d3JhcFN5bmMoZSl7dGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctd3JhcC1zeW5jXCIpLmNhdGNoKChlPT57fSkpO2NvbnN0IHQ9ci52YWxpZGF0ZUlkZW50aXR5KGUpO2lmKHQpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBuZXcgby5fV2luZG93KHRoaXMud2lyZSxlKX1jcmVhdGUoZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY3JlYXRlLXdpbmRvd1wiKS5jYXRjaCgoZT0+e30pKSxuZXcgby5fV2luZG93KHRoaXMud2lyZSx7dXVpZDp0aGlzLm1lLnV1aWQsbmFtZTplLm5hbWV9KS5jcmVhdGVXaW5kb3coZSl9Z2V0Q3VycmVudCgpe2lmKHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LWN1cnJlbnQtd2luZG93XCIpLmNhdGNoKChlPT57fSkpLCF0aGlzLndpcmUubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgaW4gYSBXaW5kb3cgY29udGV4dFwiKTtjb25zdHt1dWlkOmUsbmFtZTp0fT10aGlzLndpcmUubWU7cmV0dXJuIHRoaXMud3JhcCh7dXVpZDplLG5hbWU6dH0pfWdldEN1cnJlbnRTeW5jKCl7aWYodGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtY3VycmVudC13aW5kb3ctc3luY1wiKS5jYXRjaCgoZT0+e30pKSwhdGhpcy53aXJlLm1lLmlzV2luZG93KXRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGluIGEgV2luZG93IGNvbnRleHRcIik7Y29uc3R7dXVpZDplLG5hbWU6dH09dGhpcy53aXJlLm1lO3JldHVybiB0aGlzLndyYXBTeW5jKHt1dWlkOmUsbmFtZTp0fSl9fXQuZGVmYXVsdD1zfSw1MDQ3OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Ll9XaW5kb3c9dm9pZCAwO2NvbnN0IGk9big3MjY0KSxyPW4oNDYzNiksbz1uKDQxNjkpO2NsYXNzIHMgZXh0ZW5kcyByLldlYkNvbnRlbnRze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LFwid2luZG93XCIpLHRoaXMuaWRlbnRpdHk9dH1jcmVhdGVXaW5kb3coZSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid2luZG93LWNyZWF0ZS13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSxuZXcgUHJvbWlzZSgoKHQsbik9Pntjb25zdCBpPVwiZmlyZS1jb25zdHJ1Y3Rvci1jYWxsYmFja1wiLHI9bmV3IFByb21pc2UoKGU9Pnt0aGlzLm9uKGksKGZ1bmN0aW9uIHQobil7bGV0IHI7Y29uc3R7c3VjY2VzczpvfT1uLHM9bi5kYXRhLHttZXNzYWdlOmF9PXM7cj1vP3todHRwUmVzcG9uc2VDb2RlOnMuaHR0cFJlc3BvbnNlQ29kZSxhcGlJbmplY3RlZDpzLmFwaUluamVjdGVkfTp7bWVzc2FnZTpzLm1lc3NhZ2UsbmV0d29ya0Vycm9yQ29kZTpzLm5ldHdvcmtFcnJvckNvZGUsc3RhY2s6cy5zdGFja30sdGhpcy5yZW1vdmVMaXN0ZW5lcihpLHQpLGUoe21lc3NhZ2U6YSxjYlBheWxvYWQ6cixzdWNjZXNzOm99KX0pKX0pKTt2b2lkIDA9PT1lLndhaXRGb3JQYWdlTG9hZCYmKGUud2FpdEZvclBhZ2VMb2FkPSExKSx2b2lkIDA9PT1lLmF1dG9TaG93JiYoZS5hdXRvU2hvdz0hMCk7Y29uc3Qgbz10aGlzLndpcmUuZW52aXJvbm1lbnQuY3JlYXRlQ2hpbGRDb250ZW50KHtlbnRpdHlUeXBlOlwid2luZG93XCIsb3B0aW9uczplfSk7UHJvbWlzZS5hbGwoW3Isb10pLnRoZW4oKGU9Pntjb25zdCBpPWVbMF07aS5zdWNjZXNzP3QodGhpcyk6bihpKTt0cnl7dGhpcy5nZXRXZWJXaW5kb3coKS5maW4uX19pbnRlcm5hbF8ub3BlbmVyU3VjY2Vzc0NCQ2FsbGVkKCl9Y2F0Y2goZSl7fX0pKS5jYXRjaChuKX0pKX1nZXRBbGxGcmFtZXMoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtYWxsLWZyYW1lc1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldEJvdW5kcygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC13aW5kb3ctYm91bmRzXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Y2VudGVyKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2VudGVyLXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWJsdXIoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJibHVyLXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWJyaW5nVG9Gcm9udCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImJyaW5nLXdpbmRvdy10by1mcm9udFwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWFuaW1hdGUoZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJhbmltYXRlLXdpbmRvd1wiLHt0cmFuc2l0aW9uczplLG9wdGlvbnM6dCwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9aGlkZSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImhpZGUtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9Y2xvc2UoZT0hMSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiY2xvc2Utd2luZG93XCIse2ZvcmNlOmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57T2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsbnVsbCl9KSl9Zm9jdXNlZFdlYlZpZXdXYXNDaGFuZ2VkKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZm9jdXNlZC13ZWJ2aWV3LWNoYW5nZWRcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoKT0+e30pKX1nZXROYXRpdmVJZCgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC13aW5kb3ctbmF0aXZlLWlkXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgZ2V0Q3VycmVudFZpZXdzKCl7Y29uc3R7cGF5bG9hZDplfT1hd2FpdCB0aGlzLndpcmUuc2VuZEFjdGlvbihcIndpbmRvdy1nZXQtdmlld3NcIix0aGlzLmlkZW50aXR5KTtyZXR1cm4gZS5kYXRhLm1hcCgoZT0+bmV3IG8uVmlldyh0aGlzLndpcmUsZSkpKX1kaXNhYmxlRnJhbWUoKXtyZXR1cm4gY29uc29sZS53YXJuKFwiRnVuY3Rpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGRpc2FibGVVc2VyTW92ZW1lbnQgaW5zdGVhZC5cIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkaXNhYmxlLXdpbmRvdy1mcmFtZVwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWRpc2FibGVVc2VyTW92ZW1lbnQoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJkaXNhYmxlLXdpbmRvdy1mcmFtZVwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWVuYWJsZUZyYW1lKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIkZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBlbmFibGVVc2VyTW92ZW1lbnQgaW5zdGVhZC5cIiksdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJlbmFibGUtd2luZG93LWZyYW1lXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9ZW5hYmxlVXNlck1vdmVtZW50KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZW5hYmxlLXdpbmRvdy1mcmFtZVwiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfWZsYXNoKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZmxhc2gtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9c3RvcEZsYXNoaW5nKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic3RvcC1mbGFzaC13aW5kb3dcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoKT0+e30pKX1nZXRJbmZvKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXdpbmRvdy1pbmZvXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9YXN5bmMgZ2V0TGF5b3V0KCl7aWYodGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctZ2V0LWxheW91dFwiLHRoaXMuaWRlbnRpdHkpLmNhdGNoKChlPT57fSkpLCEoYXdhaXQgdGhpcy5nZXRPcHRpb25zKCkpLmxheW91dCl0aHJvdyBuZXcgRXJyb3IoXCJXaW5kb3cgZG9lcyBub3QgaGF2ZSBhIExheW91dFwiKTtyZXR1cm4gdGhpcy5maW4uUGxhdGZvcm0uTGF5b3V0LndyYXAodGhpcy5pZGVudGl0eSl9Z2V0T3B0aW9ucygpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImdldC13aW5kb3ctb3B0aW9uc1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCh7cGF5bG9hZDplfSk9PmUuZGF0YSkpfWdldFBhcmVudEFwcGxpY2F0aW9uKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid2luZG93LWdldC1wYXJlbnQtYXBwbGljYXRpb25cIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSxQcm9taXNlLnJlc29sdmUobmV3IGkuQXBwbGljYXRpb24odGhpcy53aXJlLHRoaXMuaWRlbnRpdHkpKX1nZXRQYXJlbnRXaW5kb3coKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctZ2V0LXBhcmVudC13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSxQcm9taXNlLnJlc29sdmUobmV3IGkuQXBwbGljYXRpb24odGhpcy53aXJlLHRoaXMuaWRlbnRpdHkpKS50aGVuKChlPT5lLmdldFdpbmRvdygpKSl9YXN5bmMgZ2V0U25hcHNob3QoZSl7Y29uc3QgdD17YXJlYTplLC4uLnRoaXMuaWRlbnRpdHl9O3JldHVybiBjb25zb2xlLndhcm4oXCJXaW5kb3cuZ2V0U25hcHNob3QgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBXaW5kb3cuY2FwdHVyZVBhZ2VcIiksKGF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiZ2V0LXdpbmRvdy1zbmFwc2hvdFwiLHQpKS5wYXlsb2FkLmRhdGF9Z2V0U3RhdGUoKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJnZXQtd2luZG93LXN0YXRlXCIsdGhpcy5pZGVudGl0eSkudGhlbigoKHtwYXlsb2FkOmV9KT0+ZS5kYXRhKSl9Z2V0V2ViV2luZG93KCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwid2luZG93LWdldC13ZWItd2luZG93XCIsdGhpcy5pZGVudGl0eSkuY2F0Y2goKGU9Pnt9KSksdGhpcy53aXJlLmVudmlyb25tZW50LmdldFdlYldpbmRvdyh0aGlzLmlkZW50aXR5KX1pc01haW5XaW5kb3coKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctaXMtbWFpbi13aW5kb3dcIix0aGlzLmlkZW50aXR5KS5jYXRjaCgoZT0+e30pKSx0aGlzLm1lLnV1aWQ9PT10aGlzLm1lLm5hbWV9aXNTaG93aW5nKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwiaXMtd2luZG93LXNob3dpbmdcIix0aGlzLmlkZW50aXR5KS50aGVuKCgoe3BheWxvYWQ6ZX0pPT5lLmRhdGEpKX1tYXhpbWl6ZSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcIm1heGltaXplLXdpbmRvd1wiLHRoaXMuaWRlbnRpdHkpLnRoZW4oKCgpPT57fSkpfW1pbmltaXplKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibWluaW1pemUtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9bW92ZUJ5KGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibW92ZS13aW5kb3ctYnlcIix7ZGVsdGFMZWZ0OmUsZGVsdGFUb3A6dCwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9bW92ZVRvKGUsdCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwibW92ZS13aW5kb3dcIix7bGVmdDplLHRvcDp0LC4uLnRoaXMuaWRlbnRpdHl9KS50aGVuKCgoKT0+e30pKX1yZXNpemVCeShlLHQsbil7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwicmVzaXplLXdpbmRvdy1ieVwiLHtkZWx0YVdpZHRoOk1hdGguZmxvb3IoZSksZGVsdGFIZWlnaHQ6TWF0aC5mbG9vcih0KSxhbmNob3I6biwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cmVzaXplVG8oZSx0LG4pe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlc2l6ZS13aW5kb3dcIix7d2lkdGg6TWF0aC5mbG9vcihlKSxoZWlnaHQ6TWF0aC5mbG9vcih0KSxhbmNob3I6biwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9cmVzdG9yZSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInJlc3RvcmUtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9c2V0QXNGb3JlZ3JvdW5kKCl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2V0LWZvcmVncm91bmQtd2luZG93XCIsdGhpcy5pZGVudGl0eSkudGhlbigoKCk9Pnt9KSl9c2V0Qm91bmRzKGUpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcInNldC13aW5kb3ctYm91bmRzXCIsey4uLmUsLi4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfXNob3coZT0hMSl7cmV0dXJuIHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy13aW5kb3dcIix7Zm9yY2U6ZSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9c2hvd0F0KGUsdCxuPSExKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJzaG93LWF0LXdpbmRvd1wiLHtmb3JjZTpuLGxlZnQ6TWF0aC5mbG9vcihlKSx0b3A6TWF0aC5mbG9vcih0KSwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9dXBkYXRlT3B0aW9ucyhlKXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ1cGRhdGUtd2luZG93LW9wdGlvbnNcIix7b3B0aW9uczplLC4uLnRoaXMuaWRlbnRpdHl9KS50aGVuKCgoKT0+e30pKX1hdXRoZW50aWNhdGUoZSx0KXtyZXR1cm4gdGhpcy53aXJlLnNlbmRBY3Rpb24oXCJ3aW5kb3ctYXV0aGVudGljYXRlXCIse3VzZXJOYW1lOmUscGFzc3dvcmQ6dCwuLi50aGlzLmlkZW50aXR5fSkudGhlbigoKCk9Pnt9KSl9YXN5bmMgc2hvd1BvcHVwTWVudShlKXtjb25zdHtwYXlsb2FkOnR9PWF3YWl0IHRoaXMud2lyZS5zZW5kQWN0aW9uKFwic2hvdy1wb3B1cC1tZW51XCIse29wdGlvbnM6ZSwuLi50aGlzLmlkZW50aXR5fSk7cmV0dXJuIHQuZGF0YX1hc3luYyBjbG9zZVBvcHVwTWVudSgpe3JldHVybiB0aGlzLndpcmUuc2VuZEFjdGlvbihcImNsb3NlLXBvcHVwLW1lbnVcIix7Li4udGhpcy5pZGVudGl0eX0pLnRoZW4oKCgpPT57fSkpfX10Ll9XaW5kb3c9c30sNDk5NzpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHx0Lmhhc093blByb3BlcnR5KG4pfHxpKHQsZSxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgbz1uKDIxNjMpO3QuZGVmYXVsdD1vLmRlZmF1bHQscihuKDUwNDcpLHQpfSwxNjgxOihlLHQsbik9Pnt2YXIgaTt0Lkg9dm9pZCAwO2NvbnN0IHI9big2NDY1KSxvPW4oNjU0NSkscz1uKDkyOTgpO2NsYXNzIGEgZXh0ZW5kcyByLkV2ZW50RW1pdHRlcntjb25uZWN0KGUpe3Rocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IHJ1bm5pbmcgaW4gT3BlbkZpbi5cIil9Y29ubmVjdFN5bmMoKXt0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBydW5uaW5nIGluIE9wZW5GaW4uXCIpfXNlbmQoZSl7dGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgcnVubmluZyBpbiBPcGVuRmluLlwiKX1zaHV0ZG93bigpe3Rocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IHJ1bm5pbmcgaW4gT3BlbkZpbi5cIil9Y29uc3RydWN0b3IoKXtzdXBlcigpfX1jbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5jaGlsZFZpZXdzPSEwfWdldERlZmF1bHRDaGFubmVsT3B0aW9ucygpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfWdldFJ0Y1BlZXIoKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX1nZXRNYW5hZ2VyQ29uc3RydWN0b3IoKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX1nZXRQcm92aWRlckluaXRpYWxpemVyKCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9d3JpdGVUb2tlbihlLHQpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfXJldHJpZXZlUG9ydChlKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX1nZXROZXh0TWVzc2FnZUlkKCl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9Z2V0UmFuZG9tSWQoKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX1jcmVhdGVDaGlsZENvbnRlbnQoZSl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIil9Z2V0V2ViV2luZG93KGUpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfWdldEN1cnJlbnRFbnRpdHlJZGVudGl0eSgpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfWdldEN1cnJlbnRFbnRpdHlUeXBlKCl7cmV0dXJuXCJ1bmtub3duXCJ9cmFpc2VFdmVudChlLHQpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfWdldFVybCgpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfXdoZW5SZWFkeSgpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfX10Lkg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKG51bGw9PT0oaT13aW5kb3cpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmZpbil8fCgoKT0+e2NvbnN0IGU9bmV3IGMsdD1uZXcgcy5kZWZhdWx0KGEsZSx7dXVpZDpcIlwiLG5hbWU6XCJcIn0pO3JldHVybiBuZXcgby5kZWZhdWx0KHQpfSkoKX0sODA2ODooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0RmluPXQucmVnaXN0ZXJGaW49dm9pZCAwO2NvbnN0IG49bmV3IFdlYWtNYXA7dC5yZWdpc3RlckZpbj1mdW5jdGlvbihlLHQpe24uc2V0KGUsdCl9LHQuZ2V0RmluPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bi5nZXQoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGxvY2F0ZSBmaW4gYXBpIGZvciBnaXZlbiB0cmFuc3BvcnRcIik7cmV0dXJuIHR9fSw1MDA3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SdW50aW1lRXJyb3I9dC5Ob3RTdXBwb3J0ZWRFcnJvcj10Lk5vdEltcGxlbWVudGVkRXJyb3I9dC5Ob0Fja0Vycm9yPXQuRHVwbGljYXRlQ29ycmVsYXRpb25FcnJvcj10LlVuZXhwZWN0ZWRBY3Rpb25FcnJvcj10LkRpc2Nvbm5lY3RlZEVycm9yPXZvaWQgMDtjbGFzcyBuIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoYEV4cGVjdGVkIHdlYnNvY2tldCBzdGF0ZSBPUEVOIGJ1dCBmb3VuZCAke2V9YCksdGhpcy5yZWFkeVN0YXRlPWV9fXQuRGlzY29ubmVjdGVkRXJyb3I9bjtjbGFzcyBpIGV4dGVuZHMgRXJyb3J7fXQuVW5leHBlY3RlZEFjdGlvbkVycm9yPWk7Y2xhc3MgciBleHRlbmRzIEVycm9ye310LkR1cGxpY2F0ZUNvcnJlbGF0aW9uRXJyb3I9cjtjbGFzcyBvIGV4dGVuZHMgRXJyb3J7fXQuTm9BY2tFcnJvcj1vO2NsYXNzIHMgZXh0ZW5kcyBFcnJvcnt9dC5Ob3RJbXBsZW1lbnRlZEVycm9yPXM7Y2xhc3MgYSBleHRlbmRzIEVycm9ye310Lk5vdFN1cHBvcnRlZEVycm9yPWE7Y2xhc3MgYyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9ZS5wYXlsb2FkfHxlLHtyZWFzb246bixlcnJvcjppfT10O3N1cGVyKG4pLHRoaXMubmFtZT1cIlJ1bnRpbWVFcnJvclwiLChudWxsPT1pP3ZvaWQgMDppLnN0YWNrKSYmKHRoaXMuc3RhY2s9aS5zdGFjayl9fXQuUnVudGltZUVycm9yPWN9LDkyOTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0fHxmdW5jdGlvbihlLHQsbil7aWYoIXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO3JldHVybiB0LnNldChlLG4pLG59LG89dGhpcyYmdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0fHxmdW5jdGlvbihlLHQpe2lmKCF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gdC5nZXQoZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHM9big2NDY1KSxhPW4oODYyNCksYz1uKDUwMDcpLGQ9bigyNzM0KSxoPW4oOTY0MSk7Y2xhc3MgbCBleHRlbmRzIHMuRXZlbnRFbWl0dGVye2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcigpLHRoaXMud2lyZUxpc3RlbmVycz1uZXcgTWFwLHRoaXMudG9waWNSZWZNYXA9bmV3IE1hcCx0aGlzLmV2ZW50QWdncmVnYXRvcj1uZXcgZC5kZWZhdWx0LHRoaXMubWVzc2FnZUhhbmRsZXJzPVt0aGlzLmV2ZW50QWdncmVnYXRvci5kaXNwYXRjaEV2ZW50XSxpLnNldCh0aGlzLHZvaWQgMCksdGhpcy5jb25uZWN0U3luYz0oKT0+e28odGhpcyxpKS5jb25uZWN0U3luYygpfSx0aGlzLmdldFBvcnQ9KCk9PntpZihcIk5vZGVFbnZpcm9ubWVudFwiIT09dGhpcy5lbnZpcm9ubWVudC5jb25zdHJ1Y3Rvci5uYW1lKXRocm93IG5ldyBjLk5vdEltcGxlbWVudGVkRXJyb3IoXCJOb3QgSW1wbGVtZW50ZWRcIik7cmV0dXJuIG8odGhpcyxpKS53aXJlLnVybC5zcGxpdChcIjpcIikuc2xpY2UoLTEpWzBdfSxyKHRoaXMsaSxuZXcgZSh0aGlzLm9ubWVzc2FnZS5iaW5kKHRoaXMpKSksdGhpcy5lbnZpcm9ubWVudD10LHRoaXMuc2VuZFJhdz1vKHRoaXMsaSkuc2VuZC5iaW5kKG8odGhpcyxpKSksdGhpcy5yZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKHRoaXMuaGFuZGxlTWVzc2FnZS5iaW5kKHRoaXMpKSxvKHRoaXMsaSkub24oXCJkaXNjb25uZWN0ZWRcIiwoKCk9Pntmb3IoY29uc3RbLHtyZWplY3Q6ZX1db2YgdGhpcy53aXJlTGlzdGVuZXJzKWUoXCJSZW1vdGUgY29ubmVjdGlvbiBoYXMgY2xvc2VkXCIpO3RoaXMud2lyZUxpc3RlbmVycy5jbGVhcigpLHRoaXMuZW1pdChcImRpc2Nvbm5lY3RlZFwiKX0pKTtjb25zdHt1dWlkOnMsbmFtZTphfT1uLGw9dGhpcy5lbnZpcm9ubWVudC5nZXRDdXJyZW50RW50aXR5VHlwZSgpO3RoaXMubWU9aC5nZXRCYXNlTWUobCxzLGEpfXNodXRkb3duKCl7cmV0dXJuIG8odGhpcyxpKS5zaHV0ZG93bigpfWFzeW5jIGNvbm5lY3QoZSl7aWYoYS5pc0V4aXN0aW5nQ29ubmVjdENvbmZpZyhlKSlyZXR1cm4gdGhpcy5jb25uZWN0QnlQb3J0KGUpO2lmKGEuaXNOZXdDb25uZWN0Q29uZmlnKGUpKXtjb25zdCB0PWF3YWl0IHRoaXMuZW52aXJvbm1lbnQucmV0cmlldmVQb3J0KGUpO3JldHVybiB0aGlzLmNvbm5lY3RCeVBvcnQoey4uLmUsYWRkcmVzczpgd3M6Ly9sb2NhbGhvc3Q6JHt0fWB9KX19YXN5bmMgY29ubmVjdEJ5UG9ydChlKXtjb25zdHthZGRyZXNzOnQsdXVpZDpufT1lLHI9ey4uLmUsdHlwZTpcImZpbGUtdG9rZW5cIn0scz1vKHRoaXMsaSk7YXdhaXQgcy5jb25uZWN0KHQpO2NvbnN0IGE9YXdhaXQgdGhpcy5zZW5kQWN0aW9uKFwicmVxdWVzdC1leHRlcm5hbC1hdXRob3JpemF0aW9uXCIse3V1aWQ6bix0eXBlOlwiZmlsZS10b2tlblwifSwhMCk7aWYoXCJleHRlcm5hbC1hdXRob3JpemF0aW9uLXJlc3BvbnNlXCIhPT1hLmFjdGlvbil0aHJvdyBuZXcgYy5VbmV4cGVjdGVkQWN0aW9uRXJyb3IoYS5hY3Rpb24pO2NvbnN0e3Rva2VuOmR9PWEucGF5bG9hZDthd2FpdCB0aGlzLmVudmlyb25tZW50LndyaXRlVG9rZW4oYS5wYXlsb2FkLmZpbGUsYS5wYXlsb2FkLnRva2VuKTtjb25zdCBoPWF3YWl0IHRoaXMuc2VuZEFjdGlvbihcInJlcXVlc3QtYXV0aG9yaXphdGlvblwiLHIsITApO2lmKFwiYXV0aG9yaXphdGlvbi1yZXNwb25zZVwiIT09aC5hY3Rpb24pdGhyb3cgbmV3IGMuVW5leHBlY3RlZEFjdGlvbkVycm9yKGguYWN0aW9uKTtpZighMCE9PWgucGF5bG9hZC5zdWNjZXNzKXRocm93IG5ldyBjLlJ1bnRpbWVFcnJvcihoLnBheWxvYWQpO3JldHVybiBkfXNlbmRBY3Rpb24oZSx0PXt9LG49ITEpe3JldHVybiBuZXcgUHJvbWlzZSgoKHIscyk9Pntjb25zdCBhPXRoaXMuZW52aXJvbm1lbnQuZ2V0TmV4dE1lc3NhZ2VJZCgpLGM9e2FjdGlvbjplLHBheWxvYWQ6dCxtZXNzYWdlSWQ6YX0sZD1vKHRoaXMsaSk7cmV0dXJuIHRoaXMuYWRkV2lyZUxpc3RlbmVyKGEscixzLG4pLGQuc2VuZChjKS5jYXRjaChzKX0pKX1mZXJyeUFjdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LG4pPT57Y29uc3Qgcj10aGlzLmVudmlyb25tZW50LmdldE5leHRNZXNzYWdlSWQoKTtlLm1lc3NhZ2VJZD1yO2NvbnN0IHM9ZT0+e3QoZS5wYXlsb2FkKX07cmV0dXJuIG8odGhpcyxpKS5zZW5kKGUpLnRoZW4oKCgpPT50aGlzLmFkZFdpcmVMaXN0ZW5lcihyLHMsbiwhMSkpKS5jYXRjaChuKX0pKX1yZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKGUpe3RoaXMubWVzc2FnZUhhbmRsZXJzLnB1c2goZSl9YWRkV2lyZUxpc3RlbmVyKGUsdCxuLGkpe2k/dGhpcy51bmNvcnJlbGF0ZWRMaXN0ZW5lcj10OnRoaXMud2lyZUxpc3RlbmVycy5oYXMoZSk/bihuZXcgYy5EdXBsaWNhdGVDb3JyZWxhdGlvbkVycm9yKFN0cmluZyhlKSkpOnRoaXMud2lyZUxpc3RlbmVycy5zZXQoZSx7cmVzb2x2ZTp0LHJlamVjdDpufSl9b25tZXNzYWdlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMubWVzc2FnZUhhbmRsZXJzKXQuY2FsbChudWxsLGUpfWhhbmRsZU1lc3NhZ2UoZSl7Y29uc3QgdD1lLmNvcnJlbGF0aW9uSWR8fE5hTjtpZihcImNvcnJlbGF0aW9uSWRcImluIGUpe2lmKCF0aGlzLndpcmVMaXN0ZW5lcnMuaGFzKHQpKXJldHVybiExO3tjb25zdHtyZXNvbHZlOm4scmVqZWN0Oml9PXRoaXMud2lyZUxpc3RlbmVycy5nZXQodCk7XCJhY2tcIiE9PWUuYWN0aW9uP2kobmV3IGMuTm9BY2tFcnJvcihlLmFjdGlvbikpOlwicGF5bG9hZFwiaW4gZT9lLnBheWxvYWQuc3VjY2Vzcz9uLmNhbGwobnVsbCxlKTppKG5ldyBjLlJ1bnRpbWVFcnJvcihlLnBheWxvYWQpKTppKG5ldyBjLlJ1bnRpbWVFcnJvcihlKSksdGhpcy53aXJlTGlzdGVuZXJzLmRlbGV0ZSh0KX19ZWxzZSB0aGlzLnVuY29ycmVsYXRlZExpc3RlbmVyJiZ0aGlzLnVuY29ycmVsYXRlZExpc3RlbmVyLmNhbGwobnVsbCxlKSx0aGlzLnVuY29ycmVsYXRlZExpc3RlbmVyPSgpPT57fTtyZXR1cm4hMH19aT1uZXcgV2Vha01hcCx0LmRlZmF1bHQ9bH0sODYyNDooZSx0KT0+e2Z1bmN0aW9uIG4oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUubWFuaWZlc3RVcmx9ZnVuY3Rpb24gaShlKXtyZXR1cm4gcihlKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuYWRkcmVzc31mdW5jdGlvbiByKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlLnV1aWR9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZS5ydW50aW1lJiZcInN0cmluZ1wiPT10eXBlb2YgZS5ydW50aW1lLnZlcnNpb259ZnVuY3Rpb24gcyhlKXtyZXR1cm4gcihlKSYmbyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmlzSW50ZXJuYWxDb25uZWN0Q29uZmlnPXQuaXNQb3J0RGlzY292ZXJ5Q29uZmlnPXQuaXNOZXdDb25uZWN0Q29uZmlnPXQuaXNFeGlzdGluZ0Nvbm5lY3RDb25maWc9dC5pc0V4dGVybmFsQ29uZmlnPXZvaWQgMCx0LmlzRXh0ZXJuYWxDb25maWc9bix0LmlzRXhpc3RpbmdDb25uZWN0Q29uZmlnPWksdC5pc05ld0Nvbm5lY3RDb25maWc9cyx0LmlzUG9ydERpc2NvdmVyeUNvbmZpZz1mdW5jdGlvbihlKXtyZXR1cm4gbihlKSYmbyhlKXx8cyhlKX0sdC5pc0ludGVybmFsQ29ubmVjdENvbmZpZz1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8cyhlKX19LDIzNjY6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmVycm9yVG9QT0pPPXZvaWQgMCx0LmVycm9yVG9QT0pPPWZ1bmN0aW9uKGUpe3JldHVybntzdGFjazplLnN0YWNrLG1lc3NhZ2U6ZS5tZXNzYWdlLHRvU3RyaW5nOmUudG9TdHJpbmd9fX0sMzkxNzooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZXhoYXVzdGl2ZUNoZWNrPXZvaWQgMCx0LmV4aGF1c3RpdmVDaGVjaz1mdW5jdGlvbihlLHQpe3Rocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdmFsdWU6ICR7ZX0ke3Q/YFxcbiBTdXBwb3J0ZWQgdmFsdWVzIGFyZTogJHt0LmpvaW4oXCJcIil9YDpcIlwifWApfX0sMzQ0MjooZSx0KT0+e2FzeW5jIGZ1bmN0aW9uIG4oZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPWF3YWl0IG4oKTt0LnB1c2goZSl9cmV0dXJuIHR9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wcm9taXNlTWFwU2VyaWFsPXQuc2VyaWFsPXQucHJvbWlzZU1hcD10LnByb21pc2lmeT12b2lkIDAsdC5wcm9taXNpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuKC4uLnQpPT5uZXcgUHJvbWlzZSgoKG4saSk9PntlKC4uLnQsKChlLHQpPT5lP2koZSk6bih0KSkpfSkpfSx0LnByb21pc2VNYXA9YXN5bmMgZnVuY3Rpb24oZSx0KXtyZXR1cm4gUHJvbWlzZS5hbGwoZS5tYXAodCkpfSx0LnNlcmlhbD1uLHQucHJvbWlzZU1hcFNlcmlhbD1hc3luYyBmdW5jdGlvbihlLHQpe3JldHVybiBuKGUubWFwKCgoZSxuLGkpPT4oKT0+dChlLG4saSkpKSl9fSwzMTI3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy50b3BpY1JlZk1hcD1uZXcgTWFwfWluY1JlZkNvdW50KGUpe2NvbnN0IHQ9dGhpcy50b3BpY1JlZk1hcC5nZXQoZSk7bGV0IG47aWYodCl7Y29uc3QgaT10KzE7bj1pLHRoaXMudG9waWNSZWZNYXAuc2V0KGUsaSl9ZWxzZSB0aGlzLnRvcGljUmVmTWFwLnNldChlLDEpLG49MTtyZXR1cm4gbn1kZWNSZWZDb3VudChlKXtjb25zdCB0PXRoaXMudG9waWNSZWZNYXAuZ2V0KGUpO2xldCBuO2lmKHQpe2NvbnN0IGk9dC0xO3RoaXMudG9waWNSZWZNYXAuc2V0KGUsaSksbj1pfWVsc2Ugbj0tMTtyZXR1cm4gbn1hY3RPbkZpcnN0KGUsdCxuKXtyZXR1cm4gMT09PXRoaXMuaW5jUmVmQ291bnQoZSk/dCgpOm4oKX1hY3RPbkxhc3QoZSx0LG4pe3JldHVybiAwPT09dGhpcy5kZWNSZWZDb3VudChlKT90KCk6bigpfX19LDIzMDA6KGUsdCk9PntmdW5jdGlvbiBuKGUpe3JldHVyblsuLi5lLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCkuZW50cmllcygpXS5yZWR1Y2UoKChlLFt0LG5dKT0+ZSsgK24qMWU0Kip0KSwwKX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG4oZSk+PW4odCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5zcGxpdChcIi9cIilbMF19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5ydW50aW1lVXVpZE1lZXRzTWluaW11bVJ1bnRpbWVWZXJzaW9uPXQucGFyc2VSdW50aW1lVXVpZD10Lm1lZXRzTWluaW11bVJ1bnRpbWVWZXJzaW9uPXZvaWQgMCx0Lm1lZXRzTWluaW11bVJ1bnRpbWVWZXJzaW9uPWksdC5wYXJzZVJ1bnRpbWVVdWlkPXIsdC5ydW50aW1lVXVpZE1lZXRzTWluaW11bVJ1bnRpbWVWZXJzaW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkocihlKSx0KX19LDQ5OTk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnZhbGlkYXRlSWRlbnRpdHk9dm9pZCAwLHQudmFsaWRhdGVJZGVudGl0eT1mdW5jdGlvbihlKXtsZXQgdDtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUudXVpZHx8KHQ9XCJOb3QgYSB2YWxpZCBpZGVudGl0eSBvYmplY3RcIiksdH19LDY0NjU6ZT0+e3ZhciB0LG49XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLGk9biYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5hcHBseT9uLmFwcGx5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSx0LG4pfTt0PW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub3duS2V5cz9uLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSl9O3ZhciByPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9O2Z1bmN0aW9uIG8oKXtvLmluaXQuY2FsbCh0aGlzKX1lLmV4cG9ydHM9byxlLmV4cG9ydHMub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXtmdW5jdGlvbiByKG4pe2UucmVtb3ZlTGlzdGVuZXIodCxvKSxpKG4pfWZ1bmN0aW9uIG8oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlbW92ZUxpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixyKSxuKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9eShlLHQsbyx7b25jZTohMH0pLFwiZXJyb3JcIiE9PXQmJmZ1bmN0aW9uKGUsdCxuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uJiZ5KGUsXCJlcnJvclwiLHQse29uY2U6ITB9KX0oZSxyKX0pKX0sby5FdmVudEVtaXR0ZXI9byxvLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxvLnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCxvLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgcz0xMDtmdW5jdGlvbiBhKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gdm9pZCAwPT09ZS5fbWF4TGlzdGVuZXJzP28uZGVmYXVsdE1heExpc3RlbmVyczplLl9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gZChlLHQsbixpKXt2YXIgcixvLHMsZDtpZihhKG4pLHZvaWQgMD09PShvPWUuX2V2ZW50cyk/KG89ZS5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksZS5fZXZlbnRzQ291bnQ9MCk6KHZvaWQgMCE9PW8ubmV3TGlzdGVuZXImJihlLmVtaXQoXCJuZXdMaXN0ZW5lclwiLHQsbi5saXN0ZW5lcj9uLmxpc3RlbmVyOm4pLG89ZS5fZXZlbnRzKSxzPW9bdF0pLHZvaWQgMD09PXMpcz1vW3RdPW4sKytlLl9ldmVudHNDb3VudDtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHM/cz1vW3RdPWk/W24sc106W3Msbl06aT9zLnVuc2hpZnQobik6cy5wdXNoKG4pLChyPWMoZSkpPjAmJnMubGVuZ3RoPnImJiFzLndhcm5lZCl7cy53YXJuZWQ9ITA7dmFyIGg9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitzLmxlbmd0aCtcIiBcIitTdHJpbmcodCkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTtoLm5hbWU9XCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIixoLmVtaXR0ZXI9ZSxoLnR5cGU9dCxoLmNvdW50PXMubGVuZ3RoLGQ9aCxjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihkKX1yZXR1cm4gZX1mdW5jdGlvbiBoKCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCwwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBsKGUsdCxuKXt2YXIgaT17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6ZSx0eXBlOnQsbGlzdGVuZXI6bn0scj1oLmJpbmQoaSk7cmV0dXJuIHIubGlzdGVuZXI9bixpLndyYXBGbj1yLHJ9ZnVuY3Rpb24gdShlLHQsbil7dmFyIGk9ZS5fZXZlbnRzO2lmKHZvaWQgMD09PWkpcmV0dXJuW107dmFyIHI9aVt0XTtyZXR1cm4gdm9pZCAwPT09cj9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiByP24/W3IubGlzdGVuZXJ8fHJdOltyXTpuP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLG49MDtuPHQubGVuZ3RoOysrbil0W25dPWVbbl0ubGlzdGVuZXJ8fGVbbl07cmV0dXJuIHR9KHIpOncocixyLmxlbmd0aCl9ZnVuY3Rpb24gcChlKXt2YXIgdD10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09dCl7dmFyIG49dFtlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiAxO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG4ubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIHcoZSx0KXtmb3IodmFyIG49bmV3IEFycmF5KHQpLGk9MDtpPHQ7KytpKW5baV09ZVtpXTtyZXR1cm4gbn1mdW5jdGlvbiB5KGUsdCxuLGkpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub24paS5vbmNlP2Uub25jZSh0LG4pOmUub24odCxuKTtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTtlLmFkZEV2ZW50TGlzdGVuZXIodCwoZnVuY3Rpb24gcihvKXtpLm9uY2UmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHIpLG4obyl9KSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8cihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7cz1lfX0pLG8uaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LG8ucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxyKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sby5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGModGhpcyl9LG8ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChhcmd1bWVudHNbbl0pO3ZhciByPVwiZXJyb3JcIj09PWUsbz10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09bylyPXImJnZvaWQgMD09PW8uZXJyb3I7ZWxzZSBpZighcilyZXR1cm4hMTtpZihyKXt2YXIgcztpZih0Lmxlbmd0aD4wJiYocz10WzBdKSxzIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgczt2YXIgYT1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKHM/XCIgKFwiK3MubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgYS5jb250ZXh0PXMsYX12YXIgYz1vW2VdO2lmKHZvaWQgMD09PWMpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYylpKGMsdGhpcyx0KTtlbHNle3ZhciBkPWMubGVuZ3RoLGg9dyhjLGQpO2ZvcihuPTA7bjxkOysrbilpKGhbbl0sdGhpcyx0KX1yZXR1cm4hMH0sby5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZCh0aGlzLGUsdCwhMSl9LG8ucHJvdG90eXBlLm9uPW8ucHJvdG90eXBlLmFkZExpc3RlbmVyLG8ucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBkKHRoaXMsZSx0LCEwKX0sby5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBhKHQpLHRoaXMub24oZSxsKHRoaXMsZSx0KSksdGhpc30sby5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBhKHQpLHRoaXMucHJlcGVuZExpc3RlbmVyKGUsbCh0aGlzLGUsdCkpLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG8scztpZihhKHQpLHZvaWQgMD09PShpPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KG49aVtlXSkpcmV0dXJuIHRoaXM7aWYobj09PXR8fG4ubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBpW2VdLGkucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxuLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXtmb3Iocj0tMSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0paWYobltvXT09PXR8fG5bb10ubGlzdGVuZXI9PT10KXtzPW5bb10ubGlzdGVuZXIscj1vO2JyZWFrfWlmKHI8MClyZXR1cm4gdGhpczswPT09cj9uLnNoaWZ0KCk6ZnVuY3Rpb24oZSx0KXtmb3IoO3QrMTxlLmxlbmd0aDt0KyspZVt0XT1lW3QrMV07ZS5wb3AoKX0obixyKSwxPT09bi5sZW5ndGgmJihpW2VdPW5bMF0pLHZvaWQgMCE9PWkucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxzfHx0KX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUub2ZmPW8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLG8ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuLGk7aWYodm9pZCAwPT09KG49dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1uLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09bltlXSYmKDA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIG5bZV0pLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByLG89T2JqZWN0LmtleXMobik7Zm9yKGk9MDtpPG8ubGVuZ3RoOysraSlcInJlbW92ZUxpc3RlbmVyXCIhPT0ocj1vW2ldKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMocik7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9bltlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodm9pZCAwIT09dClmb3IoaT10Lmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0W2ldKTtyZXR1cm4gdGhpc30sby5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsZSwhMCl9LG8ucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLGUsITEpfSxvLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOnAuY2FsbChlLHQpfSxvLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PXAsby5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP3QodGhpcy5fZXZlbnRzKTpbXX19fSx0PXt9O2Z1bmN0aW9uIG4oaSl7dmFyIHI9dFtpXTtpZih2b2lkIDAhPT1yKXJldHVybiByLmV4cG9ydHM7dmFyIG89dFtpXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5leHBvcnRzfW4uZD0oZSx0KT0+e2Zvcih2YXIgaSBpbiB0KW4ubyh0LGkpJiYhbi5vKGUsaSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OnRbaV19KX0sbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KTt2YXIgaT17fTsoKCk9PntuLmQoaSx7ZHE6KCk9PmEsTVM6KCk9PnMseFE6KCk9PmMsc086KCk9PmZlLFp1OigpPT5nZSxJMzooKT0+bWUsJFU6KCk9PnZlLGkwOigpPT5DZSxjWDooKT0+ZCxfVzooKT0+aCxVJDooKT0+dyxVNzooKT0+eSxyZDooKT0+cGV9KTt2YXIgZSx0LHIsbz1uKDE2ODEpO2NsYXNzIHMgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWRcIix0KXt2YXIgbjtzdXBlcihlKSx0JiYodGhpcy5pbm5lckVycm9yPXQmJnQpLHRoaXMuc3RhY2s9bnVsbD09PShuPXRoaXMuc3RhY2spfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJlcGxhY2UoL14oXFx3KkVycm9yKS8sYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApfX1jbGFzcyBhIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGV4ZWN1dGUgYWRhcHRlciBmdW5jdGlvblwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGMgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGU9XCJGYWlsZWQgdG8gcmFpc2UgZXZlbnRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBkIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlPVwiRmFpbGVkIHRvIGluaXRpYWxpemUgYWRhcHRlclwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGggZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGU9XCJJbnZhbGlkIHBhcmFtZXRlciB2YWx1ZVwiLHQpe3N1cGVyKGUsdCl9fSFmdW5jdGlvbihlKXtlLkFjdGl2YXRlV29ya2Jvb2s9XCJBY3RpdmF0ZVdvcmtib29rXCIsZS5BY3RpdmF0ZVdvcmtzaGVldD1cIkFjdGl2YXRlV29ya3NoZWV0XCIsZS5BZGRXb3Jrc2hlZXQ9XCJBZGRXb3Jrc2hlZXRcIixlLkNhbGN1bGF0ZVdvcmtib29rPVwiQ2FsY3VsYXRlV29ya2Jvb2tcIixlLkNhbGN1bGF0ZVdvcmtzaGVldD1cIkNhbGN1bGF0ZVdvcmtzaGVldFwiLGUuQ2xlYXJBbGxDZWxscz1cIkNsZWFyQWxsQ2VsbHNcIixlLkNsZWFyQWxsQ2VsbFZhbHVlcz1cIkNsZWFyQWxsQ2VsbFZhbHVlc1wiLGUuQ2xlYXJBbGxDZWxsRm9ybWF0dGluZz1cIkNsZWFyQWxsQ2VsbEZvcm1hdHRpbmdcIixlLkNsZWFyQ2VsbFZhbHVlcz1cIkNsZWFyQ2VsbFZhbHVlc1wiLGUuQ2xlYXJDZWxsRm9ybWF0dGluZz1cIkNsZWFyQ2VsbEZvcm1hdHRpbmdcIixlLkNsZWFyQ2VsbHM9XCJDbGVhckNlbGxzXCIsZS5DbG9zZVdvcmtib29rPVwiQ2xvc2VXb3JrYm9va1wiLGUuQ3JlYXRlV29ya2Jvb2s9XCJDcmVhdGVXb3JrYm9va1wiLGUuRGVsZXRlV29ya3NoZWV0PVwiRGVsZXRlV29ya3NoZWV0XCIsZS5EZXJlZ2lzdGVyRXZlbnQ9XCJEZXJlZ2lzdGVyRXZlbnRcIixlLkV2ZW50RmlyZWQ9XCJFdmVudEZpcmVkXCIsZS5HZXRDYWxjdWxhdGlvbk1vZGU9XCJHZXRDYWxjdWxhdGlvbk1vZGVcIixlLkdldENlbGxzPVwiR2V0Q2VsbHNcIixlLkdldFdvcmtib29rQnlJZD1cIkdldFdvcmtib29rQnlJZFwiLGUuR2V0V29ya2Jvb2tOYW1lPVwiR2V0V29ya2Jvb2tOYW1lXCIsZS5HZXRXb3JrYm9va3M9XCJHZXRXb3JrYm9va3NcIixlLkdldFdvcmtzaGVldEJ5SWQ9XCJHZXRXb3Jrc2hlZXRCeUlkXCIsZS5HZXRXb3Jrc2hlZXRCeU5hbWU9XCJHZXRXb3Jrc2hlZXRCeU5hbWVcIixlLkdldFdvcmtzaGVldE5hbWU9XCJHZXRXb3Jrc2hlZXROYW1lXCIsZS5HZXRXb3Jrc2hlZXRzPVwiR2V0V29ya3NoZWV0c1wiLGUuTG9nTWVzc2FnZT1cIkxvZ01lc3NhZ2VcIixlLk9wZW5Xb3JrYm9vaz1cIk9wZW5Xb3JrYm9va1wiLGUuUHJvdGVjdFdvcmtzaGVldD1cIlByb3RlY3RXb3Jrc2hlZXRcIixlLlJlZ2lzdGVyRXZlbnQ9XCJSZWdpc3RlckV2ZW50XCIsZS5TYXZlV29ya2Jvb2s9XCJTYXZlV29ya2Jvb2tcIixlLlNhdmVXb3JrYm9va0FzPVwiU2F2ZVdvcmtib29rQXNcIixlLlNldENlbGxWYWx1ZXM9XCJTZXRDZWxsVmFsdWVzXCIsZS5TZXRDZWxsRm9ybWF0dGluZz1cIlNldENlbGxGb3JtYXR0aW5nXCIsZS5TZXRDZWxsTmFtZT1cIlNldENlbGxOYW1lXCIsZS5TZXRXb3Jrc2hlZXROYW1lPVwiU2V0V29ya3NoZWV0TmFtZVwiLGUuRmlsdGVyQ2VsbHM9XCJGaWx0ZXJDZWxsc1wiLGUuUXVpdEFwcGxpY2F0aW9uPVwiUXVpdEFwcGxpY2F0aW9uXCJ9KGV8fChlPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmF0ZT1cIkFjdGl2YXRlXCIsZS5BZGRXb3Jrc2hlZXQ9XCJBZGRXb3Jrc2hlZXRcIixlLkNoYW5nZT1cIkNoYW5nZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuRGVhY3RpdmF0ZT1cIkRlYWN0aXZhdGVcIixlLkRlbGV0ZVdvcmtzaGVldD1cIkRlbGV0ZVdvcmtzaGVldFwifSh0fHwodD17fSkpLGZ1bmN0aW9uKGUpe2UuV29ya2Jvb2s9XCJXb3JrYm9va1wiLGUuV29ya3NoZWV0PVwiV29ya3NoZWV0XCJ9KHJ8fChyPXt9KSk7Y29uc3QgbD1cIjEuMy4wXCI7bGV0IHU9ITE7Y29uc3QgcD1cIltAb3BlbmZpbi9leGNlbF1cIix3PSgpPT57dT0hMX0seT0oKT0+e3U9ITAsZyhcInYxLjMuMFwiKX0sZj0oZSx0KT0+e3UmJihlLmlubmVyRXJyb3I/Y29uc29sZS5lcnJvcih0P2Ake3B9ICR7dH1gOnAsZSxcIlxcblxcbihpbm5lcilcIixlLmlubmVyRXJyb3IpOmNvbnNvbGUuZXJyb3IodD9gJHtwfSAke3R9YDpwLGUpKX0sZz0oLi4uZSk9Pnt1JiZjb25zb2xlLmxvZyhwLC4uLmUpfSxtPSguLi5lKT0+e3UmJmNvbnNvbGUud2FybihwLC4uLmUpfTtvLkh8fE9iamVjdC5hc3NpZ24od2luZG93LHtmaW46e319KSxPYmplY3QuYXNzaWduKG8uSCx7SW50ZWdyYXRpb25zOntFeGNlbDp7ZW5hYmxlTG9nZ2luZzp5LGRpc2FibGVMb2dnaW5nOnd9fX0pO2NvbnN0IHY9KCk9PlwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLChlPT57Y29uc3QgdD0xNipNYXRoLnJhbmRvbSgpfDA7cmV0dXJuKFwieFwiPT09ZT90OjMmdHw4KS50b1N0cmluZygxNil9KSksQz1uZXcgTWFwLEk9KHQsbik9PmFzeW5jKCk9PntnKGBXb3Jrc2hlZXQ6IEFjdGl2YXRlICgke259KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQWN0aXZhdGVXb3Jrc2hlZXQsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSx4PSh0LG4pPT5hc3luYygpPT57ZyhgV29ya3NoZWV0OiBDYWxjdWxhdGUgKCR7bn0pYCk7dHJ5e2F3YWl0IHQuZGlzcGF0Y2goZS5DYWxjdWxhdGVXb3Jrc2hlZXQsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSxBPSh0LG4pPT5hc3luYygpPT57ZyhgV29ya3NoZWV0OiBDbGVhciBhbGwgY2VsbCB2YWx1ZXMgKCR7bn0pYCk7dHJ5e2F3YWl0IHQuZGlzcGF0Y2goZS5DbGVhckFsbENlbGxWYWx1ZXMsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSxiPSh0LG4pPT5hc3luYygpPT57ZyhgV29ya3NoZWV0OiBDbGVhciBhbGwgY2VsbCBmb3JtYXR0aW5nICgke259KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2xlYXJBbGxDZWxsRm9ybWF0dGluZyxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LEU9KHQsbik9PmFzeW5jKCk9PntnKGBXb3Jrc2hlZXQ6IENsZWFyIGFsbCBjZWxscyAoJHtufSlgKTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLkNsZWFyQWxsQ2VsbHMsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSxQPSh0LG4pPT5hc3luYyBpPT57ZyhgV29ya3NoZWV0OiBDbGVhciBjZWxsIHZhbHVlczsgY2VsbFJhbmdlOiR7aX0gKCR7bn0pYCk7Y29uc3Qgcj17Y2VsbFJhbmdlOmksb2JqZWN0SWQ6bn07dHJ5e2F3YWl0IHQuZGlzcGF0Y2goZS5DbGVhckNlbGxWYWx1ZXMscil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSxrPSh0LG4pPT5hc3luYyBpPT57ZyhgV29ya3NoZWV0OiBDbGVhciBjZWxsIGZvcm1hdHRpbmc7IGNlbGxSYW5nZToke2l9ICgke259KWApO2NvbnN0IHI9e2NlbGxSYW5nZTppLG9iamVjdElkOm59O3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuQ2xlYXJDZWxsRm9ybWF0dGluZyxyKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LE09KHQsbik9PmFzeW5jIGk9PntnKGBXb3Jrc2hlZXQ6IENsZWFyIGNlbGxzOyBjZWxsUmFuZ2U6JHtpfSAoJHtufSlgKTtjb25zdCByPXtjZWxsUmFuZ2U6aSxvYmplY3RJZDpufTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLkNsZWFyQ2VsbHMscil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSxfPShlLHQpPT4obixpLHI9MWUzKT0+e2lmKE51bWJlci5pc05hTihyKXx8cjw9MCl0aHJvdyBuZXcgcyhcIlVwZGF0ZSBpbnRlcnZhbCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO2NvbnN0IG89digpO2coYFdvcmtzaGVldDogQ3JlYXRlIGRhdGEgc3RyZWFtOyBzdHJlYW1JZDoke299OyBjZWxsUmFuZ2U6JHtufTsgdXBkYXRlSW50ZXJ2YWw6JHtyfSAoJHt0fSlgKTtjb25zdCBhPXtjbG9zZTooKT0+e2coYENsb3NlZCBzdHJlYW0gKCR7b30pYCksKGU9Pnt2YXIgdDt0cnl7Y29uc3Qgbj1DLmdldChlKTtpZighbil0aHJvdyBuZXcgcyhgVW5hYmxlIHRvIGZpbmQgcmVnaXN0ZXJlZCBkYXRhIHN0cmVhbSB3aXRoIGlkICR7ZX1gKTt2b2lkIDAhPT0obnVsbCE9PSh0PW4udGltZXIpJiZ2b2lkIDAhPT10P3Q6dm9pZCAwKSYmVChlKSxDLmRlbGV0ZShlKX1jYXRjaChlKXt0aHJvdyBmKGUpLGV9fSkobyl9LGNlbGxSYW5nZTpuLGlkOm8sc3RhcnQ6KCk9PntnKGBTdGFydGVkIHN0cmVhbWluZyAoJHtvfSlgKSxCKG8saSxlLHQpfSxzdG9wOigpPT57ZyhgU3RvcHBlZCBzdHJlYW1pbmcgKCR7b30pYCksVChvKX0sdXBkYXRlSW50ZXJ2YWw6cix3b3Jrc2hlZXRJZDp0fTtyZXR1cm4gQy5zZXQobyx7ZGF0YVN0cmVhbTphfSksYX0sUz0oZSx0LG4saSk9Pntjb25zdCBvPXtldmVudFRhcmdldDpyLldvcmtzaGVldCxvYmplY3RJZDp0fTtyZXR1cm57b2JqZWN0SWQ6dCxhY3RpdmF0ZTpJKGUsdCksYWRkRXZlbnRMaXN0ZW5lcjpuKGUsbyksY2FsY3VsYXRlOngoZSx0KSxjbGVhckFsbENlbGxGb3JtYXR0aW5nOmIoZSx0KSxjbGVhckFsbENlbGxzOkUoZSx0KSxjbGVhckFsbENlbGxWYWx1ZXM6QShlLHQpLGNsZWFyQ2VsbEZvcm1hdHRpbmc6ayhlLHQpLGNsZWFyQ2VsbHM6TShlLHQpLGNsZWFyQ2VsbFZhbHVlczpQKGUsdCksY3JlYXRlRGF0YVN0cmVhbTpfKGUsdCksZGVsZXRlOk8oZSx0KSxmaWx0ZXJDZWxsczpXKGUsdCksZ2V0Q2VsbHM6RihlLHQpLGdldE5hbWU6TChlLHQpLHByb3RlY3Q6UihlLHQpLHJlbW92ZUV2ZW50TGlzdGVuZXI6aShlKSxzZXRDZWxsRm9ybWF0dGluZzokKGUsdCksc2V0Q2VsbE5hbWU6RyhlLHQpLHNldENlbGxWYWx1ZXM6aihlLHQpLHNldE5hbWU6TihlLHQpfX0sTz0odCxuKT0+YXN5bmMoKT0+e2coYFdvcmtzaGVldDogRGVsZXRlICgke259KWApO3RyeXthd2FpdCB0LmRpc3BhdGNoKGUuRGVsZXRlV29ya3NoZWV0LG4pfWNhdGNoKGUpe3Rocm93IG5ldyBhfX0sVz0odCxuKT0+YXN5bmMoaSxyLG8scyxjLGQ9ITApPT57ZyhgV29ya3NoZWV0OiBGaWx0ZXIgY2VsbHM7IGNlbGxSYW5nZToke2l9ICgke259KWAse2NvbHVtbkluZGV4OnIsZmlsdGVyT3BlcmF0b3I6byxjcml0ZXJpYTE6cyxjcml0ZXJpYTI6Yyx2aXNpYmxlRHJvcERvd246ZH0pO2NvbnN0IGg9e2NlbGxSYW5nZTppLGNyaXRlcmlhMTpzLGNyaXRlcmlhMjpjLGNvbHVtbkluZGV4OnIsZmlsdGVyT3BlcmF0b3I6byxvYmplY3RJZDpuLHZpc2libGVEcm9wRG93bjpkfTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLkZpbHRlckNlbGxzLGgpfWNhdGNoKGUpe3Rocm93IG5ldyBhfX0sRj0odCxuKT0+YXN5bmMgaT0+e2coYFdvcmtzaGVldDogR2V0IGNlbGxzOyBjZWxsUmFuZ2U6JHtpfSAoJHtufSlgKTtjb25zdCByPXtjZWxsUmFuZ2U6aSxvYmplY3RJZDpufTtsZXQgbz1bXTt0cnl7bz1hd2FpdCB0LmRpc3BhdGNoKGUuR2V0Q2VsbHMsciksZyhgJHtpfTpgLG8pfWNhdGNoKGUpe3Rocm93IG5ldyBhfXJldHVybiBvfSxMPSh0LG4pPT5hc3luYygpPT57ZyhgV29ya3NoZWV0OiBHZXQgbmFtZSAoJHtufSlgKTt0cnl7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goZS5HZXRXb3Jrc2hlZXROYW1lLG4pfWNhdGNoKGUpe3Rocm93IG5ldyBhfX0sUj0odCxuKT0+YXN5bmMoKT0+e2coYFdvcmtzaGVldDogUHJvdGVjdCAoJHtufSlgKTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLlByb3RlY3RXb3Jrc2hlZXQsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSwkPSh0LG4pPT5hc3luYyhpLHIpPT57ZyhgV29ya3NoZWV0OiBTZXQgY2VsbCBmb3JtYXR0aW5nOyBjZWxsUmFuZ2U6JHtpfSAoJHtufSlgLHIpO2NvbnN0IG89e2NlbGxSYW5nZTppLGZvcm1hdHRpbmc6cixvYmplY3RJZDpufTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLlNldENlbGxGb3JtYXR0aW5nLG8pfWNhdGNoKGUpe3Rocm93IG5ldyBhfX0sRz0odCxuKT0+YXN5bmMoaSxyKT0+e2NvbnN0IG89ci50cmltKCk7bGV0IHM7aWYoIW8pdGhyb3cgcz1uZXcgaChcIkNlbGwgcmFuZ2UgbmFtZSBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nXCIpLGYocykscztpZihvLmxlbmd0aD4yNTUpdGhyb3cgcz1uZXcgaChcIkNlbGwgcmFuZ2UgbmFtZSBtdXN0IGJlIDI1NSBjaGFyYWN0ZXJzIG9yIGxlc3NcIiksZihzKSxzO2lmKC9bXmEtejAtOV8uP1xcXFxcIiddLy50ZXN0KG8pKXRocm93IHM9bmV3IGgoXCJDZWxsIHJhbmdlIG5hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzXCIpLGYocykscztpZigvXlxcZHxcXGQkLy50ZXN0KG8pKXRocm93IHM9bmV3IGgoXCJDZWxsIHJhbmdlIG5hbWUgbXVzdCBub3Qgc3RhcnQgb3IgZW5kIHdpdGggYSBudW1iZXJcIiksZihzKSxzO2coYFdvcmtzaGVldDogU2V0IGNlbGwgbmFtZTsgY2VsbFJhbmdlOiR7aX07IG5ld0NlbGxSYW5nZU5hbWU6JHtvfSAoJHtufSlgKTtjb25zdCBjPXtjZWxsUmFuZ2U6aSxuYW1lOm8sb2JqZWN0SWQ6bn07dHJ5e2F3YWl0IHQuZGlzcGF0Y2goZS5TZXRDZWxsTmFtZSxjKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LGo9KHQsbik9PmFzeW5jKGkscik9PntnKGBXb3Jrc2hlZXQ6IFNldCBjZWxsIHZhbHVlczsgY2VsbFJhbmdlOiR7aX0gKCR7bn0pYCxyKTtjb25zdCBvPXtjZWxsUmFuZ2U6aSxvYmplY3RJZDpuLHZhbHVlc01hcDpyfTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLlNldENlbGxWYWx1ZXMsbyl9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSxOPSh0LG4pPT5hc3luYyBpPT57Y29uc3Qgcj1pLnRyaW0oKTtsZXQgbztpZighcil0aHJvdyBvPW5ldyBoKFwiV29ya3NoZWV0IG5hbWUgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZ1wiKSxmKG8pLG87aWYoci5sZW5ndGg+MzEpdGhyb3cgbz1uZXcgaChcIldvcmtzaGVldCBuYW1lIG11c3QgYmUgMzEgY2hhcmFjdGVycyBvciBsZXNzXCIpLGYobyksbztnKGBXb3Jrc2hlZXQ6IFNldCBuYW1lOyBuZXdXb3Jrc2hlZXROYW1lOiR7cn0gKCR7bn0pYCk7Y29uc3Qgcz17bmV3V29ya3NoZWV0TmFtZTpyLG9iamVjdElkOm59O3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLlNldFdvcmtzaGVldE5hbWUscyl9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9fSxCPShlLHQsbixpKT0+e3ZhciByO3RyeXtjb25zdCBvPUMuZ2V0KGUpO2lmKCFvKXRocm93IG5ldyBzKGBVbmFibGUgdG8gZmluZCByZWdpc3RlcmVkIGRhdGEgc3RyZWFtIHdpdGggaWQgJHtlfWApO3ZvaWQgMCE9PShudWxsIT09KHI9by50aW1lcikmJnZvaWQgMCE9PXI/cjp2b2lkIDApJiZUKGUpO2NvbnN0e2NlbGxSYW5nZTphLHVwZGF0ZUludGVydmFsOmN9PW8uZGF0YVN0cmVhbSxkPWFzeW5jKCk9Pntjb25zdCByPWF3YWl0IHQoKTt0cnl7YXdhaXQgaihuLGkpKGEsW1tyXV0pfWNhdGNoKHQpe20oYFVuYWJsZSB0byB1cGRhdGUgY2VsbCByYW5nZSBmb3Igc3RyZWFtIHdpdGggaWQgJHtlfTogJHtudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2V9YCl9fSxoPXdpbmRvdy5zZXRJbnRlcnZhbChkLGMpO28udGltZXI9aH1jYXRjaChlKXt0aHJvdyBmKGUpLGV9fSxUPWU9Pnt2YXIgdDt0cnl7Y29uc3Qgbj1DLmdldChlKTtpZighbil0aHJvdyBuZXcgcyhgVW5hYmxlIHRvIGZpbmQgcmVnaXN0ZXJlZCBkYXRhIHN0cmVhbSB3aXRoIGlkICR7ZX1gKTtpZih2b2lkIDA9PT0obnVsbCE9PSh0PW4udGltZXIpJiZ2b2lkIDAhPT10P3Q6dm9pZCAwKSlyZXR1cm47d2luZG93LmNsZWFySW50ZXJ2YWwobi50aW1lciksbi50aW1lcj12b2lkIDB9Y2F0Y2goZSl7dGhyb3cgZihlKSxlfX0sRD1uZXcgTWFwLFY9KG4saSk9PmFzeW5jKHIsbyk9PntpZighaXx8IWkuZXZlbnRUYXJnZXR8fCFpLm9iamVjdElkKXtjb25zdCBlPW5ldyBjKFwiRXZlbnQgcmVnaXN0cmF0aW9uIG1pc3NpbmcgcmVxdWlyZWQgdmFsdWVzXCIpO3Rocm93IGYoZSksZX1jb25zdCBzPU9iamVjdC5rZXlzKHQpLmZpbmQoKGU9PmUudG9Mb3dlckNhc2UoKT09PXIudG9Mb3dlckNhc2UoKSkpO2lmKCFzKXtjb25zdCBlPW5ldyBjKGBVbnN1cHBvcnRlZCBldmVudCBuYW1lOiAke3J9YCk7dGhyb3cgZihlKSxlfWkuZXZlbnROYW1lPXRbc10sZyhcIlJlZ2lzdGVyaW5nIGV2ZW50XCIsaSk7dHJ5e2NvbnN0IHQ9YXdhaXQgbi5kaXNwYXRjaChlLlJlZ2lzdGVyRXZlbnQsaSk7RC5zZXQodCxvKX1jYXRjaChlKXt0aHJvdyBuZXcgYSh2b2lkIDAsZSl9fSxIPXQ9PmFzeW5jIG49PntsZXQgaTtmb3IoY29uc3RbZSx0XW9mIEQpaWYodD09PW4pe2k9ZTticmVha31pZighaSl0aHJvdyBuZXcgYztnKFwiRGVyZWdpc3RlcmluZyBldmVudDpcIixpKTt0cnl7YXdhaXQgdC5kaXNwYXRjaChlLkRlcmVnaXN0ZXJFdmVudCxpKSxELmRlbGV0ZShpKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LFU9KHQsbik9PmFzeW5jKCk9PntnKGBXb3JrYm9vazogQWN0aXZhdGUgKCR7bn0pYCk7dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuQWN0aXZhdGVXb3JrYm9vayxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LHo9KHQsbixpLHIpPT5hc3luYygpPT57bGV0IG87ZyhgV29ya2Jvb2s6IEFkZCB3b3Jrc2hlZXQgKCR7bn0pYCk7dHJ5e289YXdhaXQgdC5kaXNwYXRjaChlLkFkZFdvcmtzaGVldCxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX1yZXR1cm4gUyh0LG8saSxyKX0scT0odCxuKT0+YXN5bmMoKT0+e2coYFdvcmtib29rOiBDYWxjdWxhdGUgKCR7bn0pYCk7dHJ5e2F3YWl0IHQuZGlzcGF0Y2goZS5DYWxjdWxhdGVXb3JrYm9vayxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LEo9KHQsbik9PmFzeW5jKCk9PntnKGBXb3JrYm9vazogQ2xvc2UgKCR7bn0pYCk7dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuQ2xvc2VXb3JrYm9vayxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LEs9KGUsdCxuLGkpPT57Y29uc3Qgbz17ZXZlbnRUYXJnZXQ6ci5Xb3JrYm9vayxvYmplY3RJZDp0fTtyZXR1cm57b2JqZWN0SWQ6dCxhY3RpdmF0ZTpVKGUsdCksYWRkV29ya3NoZWV0OnooZSx0LG4saSksYWRkRXZlbnRMaXN0ZW5lcjpuKGUsbyksY2FsY3VsYXRlOnEoZSx0KSxjbG9zZTpKKGUsdCksZ2V0Q2FsY3VsYXRpb25Nb2RlOlkoZSx0KSxnZXROYW1lOlEoZSx0KSxnZXRXb3Jrc2hlZXRCeU5hbWU6WihlLHQsbixpKSxnZXRXb3Jrc2hlZXRzOlgoZSx0LG4saSkscmVtb3ZlRXZlbnRMaXN0ZW5lcjppKGUpLHNhdmU6ZWUoZSx0KSxzYXZlQXM6dGUoZSx0KX19LFk9KHQsbik9PmFzeW5jKCk9PntnKFwiV29ya2Jvb2s6IEdldCBjYWxjdWxhdGlvbiBtb2RlXCIpO3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLkdldENhbGN1bGF0aW9uTW9kZSxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LFE9KHQsbik9PmFzeW5jKCk9PntnKGBXb3JrYm9vazogR2V0IG5hbWUgKCR7bn0pYCk7dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuR2V0V29ya2Jvb2tOYW1lLG4pfWNhdGNoKGUpe3Rocm93IG5ldyBhfX0sWj0odCxuLGkscik9PmFzeW5jIG89PntsZXQgcztnKGBXb3JrYm9vazogR2V0IHdvcmtzaGVldCBieSBuYW1lOiAke299ICgke259KWApO3RyeXtpZihzPWF3YWl0IHQuZGlzcGF0Y2goZS5HZXRXb3Jrc2hlZXRCeU5hbWUse29iamVjdElkOm4sd29ya3NoZWV0TmFtZTpvfSksbnVsbD09PXMpcmV0dXJuIG51bGx9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9cmV0dXJuIFModCxzLGkscil9LFg9KHQsbixpLHIpPT5hc3luYygpPT57bGV0IG87ZyhgV29ya2Jvb2s6IEdldCB3b3Jrc2hlZXRzICgke259KWApO3RyeXtvPWF3YWl0IHQuZGlzcGF0Y2goZS5HZXRXb3Jrc2hlZXRzLG4pfWNhdGNoKGUpe3Rocm93IG5ldyBhfXJldHVybiBvLm1hcCgoZT0+Uyh0LGUsaSxyKSkpfSxlZT0odCxuKT0+YXN5bmMoKT0+e2coYFdvcmtib29rOiBTYXZlICgke259KWApO3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLlNhdmVXb3JrYm9vayxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19LHRlPSh0LG4pPT5hc3luYyBpPT57ZyhgV29ya2Jvb2s6IFNhdmUgYXM7IGZpbGVQYXRoOiR7aX0gKCR7bn0pYCk7dHJ5e3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKGUuU2F2ZVdvcmtib29rQXMse2ZpbGVQYXRoOmksb2JqZWN0SWQ6bn0pfWNhdGNoKGUpe3Rocm93IG5ldyBhfX0sbmU9dD0+YXN5bmMoKT0+e2xldCBuO2coXCJBcHBsaWNhdGlvbjogQ3JlYXRlIHdvcmtib29rXCIpO3RyeXtuPWF3YWl0IHQuZGlzcGF0Y2goZS5DcmVhdGVXb3JrYm9vayl9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9cmV0dXJuIEsodCxuLFYsSCl9LGllPXQ9PmFzeW5jIG49PntsZXQgaTtnKGBBcHBsaWNhdGlvbjogR2V0IHdvcmtib29rOyBpZDoke259YCk7dHJ5e2k9YXdhaXQgdC5kaXNwYXRjaChlLkdldFdvcmtib29rQnlJZCxuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX1yZXR1cm4gSyh0LGksVixIKX0scmU9dD0+YXN5bmMoKT0+e2xldCBuO2coXCJBcHBsaWNhdGlvbjogR2V0IHdvcmtib29rc1wiKTt0cnl7bj1hd2FpdCB0LmRpc3BhdGNoKGUuR2V0V29ya2Jvb2tzKX1jYXRjaChlKXt0aHJvdyBuZXcgYX1yZXR1cm4gbi5tYXAoKGU9PksodCxlLFYsSCkpKX0sb2U9dD0+YXN5bmMgbj0+e2coYEFwcGxpY2F0aW9uOiBHZXQgd29ya3NoZWV0OyBpZDoke259YCk7dHJ5e249YXdhaXQgdC5kaXNwYXRjaChlLkdldFdvcmtzaGVldEJ5SWQsbil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9cmV0dXJuIFModCxuLFYsSCl9LHNlPXQ9PmFzeW5jIG49PntsZXQgaTtnKGBBcHBsaWNhdGlvbjogT3BlbiB3b3JrYm9vazsgZmlsZVBhdGg6JHtufWApO3RyeXtpPWF3YWl0IHQuZGlzcGF0Y2goZS5PcGVuV29ya2Jvb2ssbil9Y2F0Y2goZSl7dGhyb3cgbmV3IGF9cmV0dXJuIEsodCxpLFYsSCl9LGFlPXQ9PmFzeW5jKG49ITApPT57ZyhgQXBwbGljYXRpb246IFF1aXQ7IGRpc3BsYXlBbGVydHM6JHtufWApO3RyeXtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChlLlF1aXRBcHBsaWNhdGlvbixuKX1jYXRjaChlKXt0aHJvdyBuZXcgYX19O3ZhciBjZTshZnVuY3Rpb24oZSl7ZVtlLkluZm89MV09XCJJbmZvXCIsZVtlLldhcm49Ml09XCJXYXJuXCIsZVtlLkVycm9yPTNdPVwiRXJyb3JcIn0oY2V8fChjZT17fSkpO2NvbnN0IGRlPVwiZXhjZWwtYWRhcHRlclwiLGhlPXYoKTtsZXQgbGUsdWU7Y29uc3QgcGU9YXN5bmMoKT0+e3RyeXtpZighbGV8fCFhd2FpdChhc3luYyBlPT4oYXdhaXQgby5ILkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5nZXRBbGxDaGFubmVscygpKS5zb21lKCh0PT50LmNoYW5uZWxOYW1lPT09ZSkpKShoZSkpe2F3YWl0KGFzeW5jKCk9Pnt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT0oYXdhaXQgby5ILkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0TWFuaWZlc3QoKSkuYXBwQXNzZXRzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5maW5kKChlPT5lLmFsaWFzPT09ZGUpKTtpZih0KXJldHVybiB2b2lkIG0oXCJEZXRlY3RlZCBhZGFwdGVyIHBhY2thZ2UgaW4gYXBwIG1hbmlmZXN0IGFwcEFzc2V0c1wiLHQpO2lmKGF3YWl0IHllKCkpcmV0dXJuIHZvaWQgZyhcIlVzaW5nIGV4aXN0aW5nIGFkYXB0ZXIgcGFja2FnZVwiKTtjb25zdCBuPXthbGlhczpkZSxzcmM6XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3JlbGVhc2UvaW50ZWdyYXRpb25zL2V4Y2VsLzEuMy4wL09wZW5GaW4uRXhjZWwuemlwXCIsdGFyZ2V0OlwiT3BlbkZpbi5FeGNlbC5leGVcIix2ZXJzaW9uOmx9O2coXCJEb3dubG9hZGluZyBhZGFwdGVyIHBhY2thZ2VcIixuKTt0cnl7YXdhaXQgby5ILlN5c3RlbS5kb3dubG9hZEFzc2V0KG4sKCgpPT57fSkpfWNhdGNoKGUpe3Rocm93IGYoXCJVbmFibGUgdG8gZG93bmxvYWQgYWRhcHRlciBwYWNrYWdlXCIpLGV9fSkoKTtjb25zdCBlPWF3YWl0IG8uSC5TeXN0ZW0uZ2V0UnVudGltZUluZm8oKSx0PW8uSC5BcHBsaWNhdGlvbi5tZS51dWlkLG49ZS52ZXJzaW9uLGk9ZS5zZWN1cml0eVJlYWxtO2coXCJJbml0aWFsaXppbmcgYWRhcHRlclwiLHthcHBJZDp0LGNoYW5uZWxOYW1lOmhlLHJ1bnRpbWVWZXJzaW9uOm4sc2VjdXJpdHlSZWFsbTppfSksbGU9YXdhaXQgby5ILlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3Moe2FsaWFzOmRlLGFyZ3VtZW50czpgJHt0fSAke259ICR7aX0gJHtoZX1gfSksZyhgQWRhcHRlciBydW5uaW5nIHdpdGggdXVpZCAke2xlLnV1aWR9YCl9Y29uc3QgaT1vLkguSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoaGUse3BheWxvYWQ6e3ZlcnNpb246bH19KSxzPW5ldyBQcm9taXNlKChlPT57c2V0VGltZW91dChlLDJlNCl9KSkudGhlbigoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoXCJDb25uZWN0aW9uIHRvIGFkYXB0ZXIgdGltZWQgb3V0XCIpfSkpO3VlPWF3YWl0IFByb21pc2UucmFjZShbaSxzXSksZyhgQ29ubmVjdGVkIHRvIGFkYXB0ZXIgb24gY2hhbm5lbCAke2hlfWApLHVlLnJlZ2lzdGVyKGUuTG9nTWVzc2FnZSx3ZSksdWUucmVnaXN0ZXIoZS5FdmVudEZpcmVkLChuPXVlLGU9Pntjb25zdHtldmVudFJlZ2lzdHJhdGlvbklkOml9PWUsbz1ELmdldChpKTtpZighbyl0aHJvdyBuZXcgYyhgTm8gcmVnaXN0ZXJlZCBldmVudCBsaXN0ZW5lciBmb3VuZCBmb3IgaWQ6ICR7aX1gKTtnKFwiRXZlbnQgcGF5bG9hZCByZWNlaXZlZFwiLGUpLCgoZSxuLGkpPT57dmFyIG8scztzd2l0Y2goaS5ldmVudFRhcmdldCl7Y2FzZSByLldvcmtib29rOnN3aXRjaChudWxsPT09KG89aS5ldmVudE5hbWUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRvVXBwZXJDYXNlKCkpe2Nhc2UgdC5BY3RpdmF0ZS50b1VwcGVyQ2FzZSgpOmNhc2UgdC5DbG9zZS50b1VwcGVyQ2FzZSgpOmNhc2UgdC5EZWFjdGl2YXRlLnRvVXBwZXJDYXNlKCk6cmV0dXJuIGUoKTtjYXNlIHQuQWRkV29ya3NoZWV0LnRvVXBwZXJDYXNlKCk6Y2FzZSB0LkRlbGV0ZVdvcmtzaGVldC50b1VwcGVyQ2FzZSgpOnJldHVybiBlKFMobixpLndvcmtzaGVldE9iamVjdElkLFYsSCkpO2RlZmF1bHQ6dGhyb3cgbmV3IGMoYFVuZXhwZWN0ZWQgd29ya2Jvb2sgZXZlbnQ6ICR7aS5ldmVudE5hbWV9YCl9Y2FzZSByLldvcmtzaGVldDpzd2l0Y2gobnVsbD09PShzPWkuZXZlbnROYW1lKXx8dm9pZCAwPT09cz92b2lkIDA6cy50b1VwcGVyQ2FzZSgpKXtjYXNlIHQuQWN0aXZhdGUudG9VcHBlckNhc2UoKTpyZXR1cm4gZSgpO2Nhc2UgdC5DaGFuZ2UudG9VcHBlckNhc2UoKTpyZXR1cm4gZShpLmNoYW5nZWRDZWxscyk7Y2FzZSB0LkRlYWN0aXZhdGUudG9VcHBlckNhc2UoKTpyZXR1cm4gZSgpO2RlZmF1bHQ6dGhyb3cgbmV3IGMoYFVuZXhwZWN0ZWQgd29ya3NoZWV0IGV2ZW50OiAke2kuZXZlbnROYW1lfWApfWRlZmF1bHQ6dGhyb3cgbmV3IGMoYFVuZXhwZWN0ZWQgZXZlbnQgdGFyZ2V0OiAke2kuZXZlbnRUYXJnZXR9YCl9fSkobyxuLGUpfSkpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IGQodm9pZCAwLGUpO3Rocm93IGYodCksdH12YXIgbjtyZXR1cm57YWRhcHRlcjp7Y2hhbm5lbE5hbWU6aGUsdmVyc2lvbjpsfSxjcmVhdGVXb3JrYm9vazpuZSh1ZSksZ2V0V29ya2Jvb2tCeUlkOmllKHVlKSxnZXRXb3JrYm9va3M6cmUodWUpLGdldFdvcmtzaGVldEJ5SWQ6b2UodWUpLG9wZW5Xb3JrYm9vazpzZSh1ZSkscXVpdDphZSh1ZSl9fSx3ZT1lPT57Y29uc3R7bWVzc2FnZTp0LHR5cGU6bn09ZSxpPVwiW2FkYXB0ZXJdXCI7c3dpdGNoKG4pe2Nhc2UgY2UuRXJyb3I6Zih0LGkpO2JyZWFrO2Nhc2UgY2UuSW5mbzpnKGksdCk7YnJlYWs7Y2FzZSBjZS5XYXJuOm0oaSx0KX19LHllPWFzeW5jKCk9Pnt0cnl7Y29uc3QgZT1hd2FpdCBvLkguU3lzdGVtLmdldEFwcEFzc2V0SW5mbyh7YWxpYXM6ZGV9KTtyZXR1cm4gZSYmZS52ZXJzaW9uPT09bH1jYXRjaChlKXtyZXR1cm4hMX19O3ZhciBmZSxnZSxtZSx2ZSxDZTshZnVuY3Rpb24oZSl7ZS5Db250aW51b3VzPVwiQ29udGludW91c1wiLGUuRGFzaD1cIkRhc2hcIixlLkRhc2hEb3Q9XCJEYXNoRG90XCIsZS5EYXNoRG90RG90PVwiRGFzaERvdERvdFwiLGUuRG90PVwiRG90XCIsZS5Eb3VibGU9XCJEb3VibGVcIixlLlNsYW50RGFzaERvdD1cIlNsYW50RGFzaERvdFwiLGUuTm9uZT1cIk5vbmVcIn0oZmV8fChmZT17fSkpLGZ1bmN0aW9uKGUpe2UuQ2VudGVyPVwiQ2VudGVyXCIsZS5DZW50ZXJBY3Jvc3NTZWxlY3Rpb249XCJDZW50ZXJBY3Jvc3NTZWxlY3Rpb25cIixlLkRpc3RyaWJ1dGVkPVwiRGlzdHJpYnV0ZWRcIixlLkZpbGw9XCJGaWxsXCIsZS5HZW5lcmFsPVwiR2VuZXJhbFwiLGUuSnVzdGlmeT1cIkp1c3RpZnlcIixlLkxlZnQ9XCJMZWZ0XCIsZS5SaWdodD1cIlJpZ2h0XCJ9KGdlfHwoZ2U9e30pKSxmdW5jdGlvbihlKXtlLkF1dG9tYXRpYz1cIkF1dG9tYXRpY1wiLGUuQ2hlY2tlcj1cIkNoZWNrZXJcIixlLkNyaXNzQ3Jvc3M9XCJDcmlzc0Nyb3NzXCIsZS5Eb3duPVwiRG93blwiLGUuR3JheTE2PVwiR3JheTE2XCIsZS5HcmF5MjU9XCJHcmF5MjVcIixlLkdyYXk1MD1cIkdyYXk1MFwiLGUuR3JheTc1PVwiR3JheTc1XCIsZS5HcmF5OD1cIkdyYXk4XCIsZS5HcmlkPVwiR3JpZFwiLGUuSG9yaXpvbnRhbD1cIkhvcml6b250YWxcIixlLkxpZ2h0RG93bj1cIkxpZ2h0RG93blwiLGUuTGlnaHRIb3Jpem9udGFsPVwiTGlnaHRIb3Jpem9udGFsXCIsZS5MaWdodFVwPVwiTGlnaHRVcFwiLGUuTGlnaHRWZXJ0aWNhbD1cIkxpZ2h0VmVydGljYWxcIixlLkxpbmVhckdyYWRpZW50PVwiTGluZWFyR3JhZGllbnRcIixlLk5vbmU9XCJOb25lXCIsZS5SZWN0YW5ndWxhckdyYWRpZW50PVwiUmVjdGFuZ3VsYXJHcmFkaWVudFwiLGUuU2VtaUdyYXk3NT1cIlNlbWlHcmF5NzVcIixlLlNvbGlkPVwiU29saWRcIixlLlVwPVwiVXBcIixlLlZlcnRpY2FsPVwiVmVydGljYWxcIn0obWV8fChtZT17fSkpLGZ1bmN0aW9uKGUpe2UuQm90dG9tPVwiQm90dG9tXCIsZS5DZW50ZXI9XCJDZW50ZXJcIixlLkRpc3RyaWJ1dGVkPVwiRGlzdHJpYnV0ZWRcIixlLkp1c3RpZnk9XCJKdXN0aWZ5XCIsZS5Ub3A9XCJUb3BcIn0odmV8fCh2ZT17fSkpLGZ1bmN0aW9uKGUpe2UuQW5kPVwiQW5kXCIsZS5Pcj1cIk9yXCIsZS5Ub3AxMEl0ZW1zPVwiVG9wMTBJdGVtc1wiLGUuQm90dG9tMTBJdGVtcz1cIkJvdHRvbTEwSXRlbXNcIixlLlRvcDEwUGVyY2VudD1cIlRvcDEwUGVyY2VudFwiLGUuQm90dG9tMTBQZXJjZW50PVwiQm90dG9tMTBQZXJjZW50XCIsZS5GaWx0ZXJWYWx1ZXM9XCJGaWx0ZXJWYWx1ZXNcIn0oQ2V8fChDZT17fSkpfSkoKTt2YXIgcj1pLmRxLG89aS5NUyxzPWkueFEsYT1pLnNPLGM9aS5adSxkPWkuSTMsaD1pLiRVLGw9aS5pMCx1PWkuY1gscD1pLl9XLHc9aS5VJCx5PWkuVTcsZj1pLnJkO2V4cG9ydHtyIGFzIEFkYXB0ZXJFcnJvcixvIGFzIEFwaUVycm9yLHMgYXMgRXZlbnRFcnJvcixhIGFzIEV4Y2VsQ2VsbEJvcmRlckxpbmVTdHlsZSxjIGFzIEV4Y2VsQ2VsbEhvcml6b250YWxBbGlnbm1lbnQsZCBhcyBFeGNlbENlbGxQYXR0ZXJuLGggYXMgRXhjZWxDZWxsVmVydGljYWxBbGlnbm1lbnQsbCBhcyBFeGNlbEZpbHRlck9wZXJhdG9yLHUgYXMgSW5pdGlhbGl6YXRpb25FcnJvcixwIGFzIFBhcmFtZXRlckVycm9yLHcgYXMgZGlzYWJsZUxvZ2dpbmcseSBhcyBlbmFibGVMb2dnaW5nLGYgYXMgZ2V0RXhjZWxBcHBsaWNhdGlvbn07IiwiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezcwMzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtDTElBY3Rpb246KCk9PmwuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+bC5lbCxDTElUZW1wbGF0ZTooKT0+bC55VyxkZXJlZ2lzdGVyOigpPT50dCxoaWRlOigpPT5vdCxyZWdpc3RlcjooKT0+ZXQsc2hvdzooKT0+bnR9KTt2YXIgbz17fTtuLnIobyksbi5kKG8se3N1YnNjcmliZTooKT0+Y2V9KTt2YXIgcj17fTtuLnIociksbi5kKHIse2NyZWF0ZTooKT0+TmV9KTt2YXIgaT1uKDY3OCkscz1uKDUzMiksYT1uKDQzNik7Y29uc3QgYz1cImhvbWVcIjt2YXIgZDshZnVuY3Rpb24oZSl7ZS5Db21tYW5kcz1cImhvbWUtY29tbWFuZHNcIn0oZHx8KGQ9e30pKTt2YXIgdSxwPW4oODA2KSxsPShuKDI5OCksbig3NTgpKTtuKDExNCksbigxMDkpLG4oNDI3KTshZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0odXx8KHU9e30pKTt2YXIgZj1uKDMxNik7Y29uc3Qgdz1cImFsbFwiLGc9XCIwXCIsaD1cIjVcIix5PVwiNlwiLHY9KCk9Pnt9O2Z1bmN0aW9uIG0oZSx0KXtyZXR1cm4gZT9gJHtlfS0ke3R9YDp0fWZ1bmN0aW9uIFAoZSl7cmV0dXJuYF9fc2VhcmNoLSR7ZX0tdG9waWNfX2B9Y29uc3QgUz1uZXcgTWFwO2Z1bmN0aW9uIGsoZSx0KXtTLmhhcyhlKXx8Uy5zZXQoZSxuZXcgU2V0KSxTLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gQyhlLHQpe2NvbnN0IG49Uy5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgVz1uZXcgTWFwO2Z1bmN0aW9uIFIoZSx0KXtXLmhhcyhlKXx8Vy5zZXQoZSxuZXcgU2V0KSxXLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gSShlLHQpe2NvbnN0IG49Vy5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgVD1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIGIoZSx0KXtULmhhcyhlKXx8VC5zZXQoZSxuZXcgTWFwKSxULmdldChlKS5zZXQodC5pZCx0KTtjb25zdCBuPVMuZ2V0KGUpO2lmKCFuKXJldHVybjtjb25zdCBvPVsuLi5uXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pfWFzeW5jIGZ1bmN0aW9uIEQoZSx0KXtjb25zdCBuPVQuZ2V0KGUpO2lmKCFuKXJldHVybjtuLmRlbGV0ZSh0KTtjb25zdCBvPVcuZ2V0KGUpO2lmKCFvKXJldHVybjtjb25zdCByPVsuLi5vXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKHIpfWZ1bmN0aW9uIEIoZSl7Y29uc3QgdD1ULmdldChlKTtyZXR1cm4gdD9bLi4udC52YWx1ZXMoKV06W119ZnVuY3Rpb24gRihlKXtjb25zdCB0PVQuZ2V0KGUpO3QmJnQuY2xlYXIoKX1mdW5jdGlvbiBBKGUsdCl7Y29uc3Qgbj1ULmdldChlKTtyZXR1cm4gbj9uLmdldCh0KTpudWxsfWZ1bmN0aW9uIEwoZSx0LG4pe3JldHVybnsuLi5lLGFjdGlvbjpufHx7Li4uZS5hY3Rpb25zWzBdLHRyaWdnZXI6Zi5weC5Vc2VyQWN0aW9ufSxkaXNwYXRjaGVySWRlbnRpdHk6dH19ZnVuY3Rpb24gTyhlLHQsbj1cImFzY2VuZGluZ1wiKXtjb25zdCBvPWV8fFtdO2lmKCF0Py5sZW5ndGgpcmV0dXJuIG87Y29uc3Qgcj1bXSxpPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIGkuc2V0KGUua2V5LGUpO3IucHVzaChlKX0pKTtsZXQgcz1vLm1hcCgoZT0+e2NvbnN0e2tleTp0fT1lO2lmKHQmJmkuaGFzKHQpKXtjb25zdCBlPWkuZ2V0KHQpO3JldHVybiBpLmRlbGV0ZSh0KSxlfXJldHVybiBlfSkpO3JldHVybiBzLnB1c2goLi4uaS52YWx1ZXMoKSwuLi5yKSxzPVwiYXNjZW5kaW5nXCI9PT1uP3Muc29ydCgoKGUsdCk9PihlPy5zY29yZT8/MS8wKS0odD8uc2NvcmU/PzEvMCkpKTpzLnNvcnQoKChlLHQpPT4odD8uc2NvcmU/PzEvMCktKGU/LnNjb3JlPz8xLzApKSksc31mdW5jdGlvbiB4KGUpe2NvbnN0IHQ9e307bGV0IG49W107bGV0IG89W107bGV0IHI9dS5Jbml0aWFsO3QuZ2V0U3RhdHVzPSgpPT5yLHQuZ2V0UmVzdWx0QnVmZmVyPSgpPT5uLHQuc2V0UmVzdWx0QnVmZmVyPWU9PntuPWUsbj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0UmV2b2tlZEJ1ZmZlcj0oKT0+byx0LnNldFJldm9rZWRCdWZmZXI9ZT0+e289ZSxvPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5vbkNoYW5nZT12O2NvbnN0IGk9e307cmV0dXJuIHQucmVzPWksaS5jbG9zZT0oKT0+e3IhPT11LkNsb3NlJiYocj11LkNsb3NlLHQub25DaGFuZ2UoKSl9LGkub3Blbj0oKT0+e3IhPT11Lk9wZW4mJihyPXUuT3Blbix0Lm9uQ2hhbmdlKCkpfSxpLnJlc3BvbmQ9bj0+e2NvbnN0IG89Tyh0LmdldFJlc3VsdEJ1ZmZlcigpLG4sZSk7dC5zZXRSZXN1bHRCdWZmZXIobyl9LGkucmV2b2tlPSguLi5lKT0+e2NvbnN0IG49bmV3IFNldChlKSxvPXQuZ2V0UmVzdWx0QnVmZmVyKCkuZmlsdGVyKCgoe2tleTplfSk9Pntjb25zdCB0PW4uaGFzKGUpO3JldHVybiB0JiZuLmRlbGV0ZShlKSwhdH0pKTt0LnNldFJlc3VsdEJ1ZmZlcihvKSxuLnNpemUmJih0LmdldFJldm9rZWRCdWZmZXIoKS5mb3JFYWNoKChlPT5uLmFkZChlKSkpLHQuc2V0UmV2b2tlZEJ1ZmZlcihbLi4ubl0pKX0sdH1mdW5jdGlvbiBWKGUsdCxuKXtjb25zdCBvPW5ldyBTZXQ7bGV0IHI9ITE7cmV0dXJue2Nsb3NlOigpPT57cj0hMDtmb3IoY29uc3QgZSBvZiBvKWUoKX0scmVxOntpZDp0LHRvcGljOmUsLi4ubixjb250ZXh0Om4/LmNvbnRleHR8fHt9LG9uQ2xvc2U6ZT0+e28uYWRkKGUpLHImJmUoKX0scmVtb3ZlTGlzdGVuZXI6ZT0+e28uZGVsZXRlKGUpfX19fWZ1bmN0aW9uIEUoKXtyZXR1cm57bmFtZTpmaW4ubWUubmFtZSx1dWlkOmZpbi5tZS51dWlkfX1mdW5jdGlvbiBNKCl7bGV0IGU7dHJ5e2U9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuaWRlbnRpdHkudXVpZH1jYXRjaChlKXt9cmV0dXJuIGV9Y29uc3QgXz1cImRlcmVnaXN0ZXJlZCBvciBkb2VzIG5vdCBleGlzdFwiLCQ9bmV3IEVycm9yKGBwcm92aWRlciAke199YCkscT1uZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIiksRz1uZXcgRXJyb3IoXCJiYWQgcGF5bG9hZFwiKSxIPW5ldyBFcnJvcihcInN1YnNjcmlwdGlvbiByZWplY3RlZFwiKSxOPW5ldyBFcnJvcihgY2hhbm5lbCAke199YCksVT1uZXcgTWFwO2Z1bmN0aW9uIGooZSl7Y29uc3QgdD1YKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgTn1mdW5jdGlvbiBYKGUpe2NvbnN0IHQ9VS5nZXQoZSk7aWYodClyZXR1cm4gdH1mdW5jdGlvbiBLKGUsdCl7VS5zZXQoZSx0KX1mdW5jdGlvbiBKKGUpe2NvbnNvbGUuZXJyb3IoXCJPcGVuRmluIFNlYXJjaCBBUEk6IFwiLGUpfWNvbnN0IHo9bmV3IE1hcDtmdW5jdGlvbiBaKGUpe3ouaGFzKGUpfHx6LnNldChlLG5ldyBNYXApO2NvbnN0IHQ9ei5nZXQoZSk7cmV0dXJue2dldFJlcXVlc3RzRm9ySWRlbnRpdHk6ZT0+e2NvbnN0IG49ZnVuY3Rpb24oZSl7cmV0dXJuYCR7ZS51dWlkfToke2UubmFtZX1gfShlKTtyZXR1cm4gdC5oYXMobil8fHQuc2V0KG4sbmV3IE1hcCksdC5nZXQobil9fX1hc3luYyBmdW5jdGlvbiBZKGUsdCl7cmV0dXJuKGF3YWl0IGooZSkpLmRpc3BhdGNoKGcsdCl9ZnVuY3Rpb24gUSh7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0pe2NvbnN0IG49QS5iaW5kKG51bGwsZSksbz1aKGUpLHI9WS5iaW5kKG51bGwsZSk7cmV0dXJuIGFzeW5jKGUsaSk9PntpZighZXx8IWUuaWR8fCFlLnByb3ZpZGVySWQpe2NvbnN0IGU9RztyZXR1cm4gSihlKSx7ZXJyb3I6ZS5tZXNzYWdlfX1jb25zdHtpZDpzLHByb3ZpZGVySWQ6YX09ZSxjPW4oYSk7aWYoIWMpe2NvbnN0IGU9JDtyZXR1cm4gSihlKSx7ZXJyb3I6ZS5tZXNzYWdlfX1jb25zdCBkPW8uZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShpKTtsZXQgdT1kLmdldChlLmlkKTt1fHwodT1WKHQscyxlKSxkLnNldChlLmlkLHUpKTtjb25zdCBwPXgoKSxsPSgpPT57Y29uc3QgZT1wLmdldFJlc3VsdEJ1ZmZlcigpO3Auc2V0UmVzdWx0QnVmZmVyKFtdKTtjb25zdCB0PXAuZ2V0UmV2b2tlZEJ1ZmZlcigpO3Auc2V0UmV2b2tlZEJ1ZmZlcihbXSk7Y29uc3Qgbj1wLmdldFN0YXR1cygpO3Ioe2lkOnMscHJvdmlkZXJJZDphLHJlc3VsdHM6ZSxyZXZva2VkOnQsc3RhdHVzOm59KX07bGV0IGY9ITAsdz0hMTtwLm9uQ2hhbmdlPSgpPT57aWYoZilyZXR1cm4gZj0hMSx2b2lkIGwoKTt3fHwodz0hMCxzZXRUaW1lb3V0KCgoKT0+e3c9ITEsbCgpfSksMTAwKSl9O3RyeXtjb25zdHtyZXN1bHRzOmUsY29udGV4dDp0fT1hd2FpdCBjLm9uVXNlcklucHV0KHUucmVxLHAucmVzKSxuPXAuZ2V0U3RhdHVzKCk7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLHN0YXR1czpuLHJlc3VsdHM6ZSxjb250ZXh0OnR9fWNhdGNoKGUpe3JldHVybiBKKGUpLHtpZDpzLHByb3ZpZGVySWQ6YSxlcnJvcjplPy5tZXNzYWdlfX19fWFzeW5jIGZ1bmN0aW9uIGVlKGUsdCxuKXtjb25zdCBvPW58fGF3YWl0IGooZSkscj1FKCksaT17Li4udCxpZGVudGl0eTpyLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfSxzPWF3YWl0IG8uZGlzcGF0Y2goXCIyXCIsaSk7cmV0dXJuIGF3YWl0IGIoZSx7aWRlbnRpdHk6ciwuLi50fSksc31hc3luYyBmdW5jdGlvbiB0ZShlLHQpe2NvbnN0IG49YXdhaXQgaihlKTtyZXR1cm4gYXdhaXQgbi5kaXNwYXRjaChcIjNcIix0KSxEKGUsdCl9YXN5bmMgZnVuY3Rpb24gbmUoZSx0LG4sbyl7Y29uc3Qgcj1MKG4sRSgpLG8pLGk9QShlLHQpO2lmKGkpe2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6ZX09aTtpZighZSlyZXR1cm47cmV0dXJuIGUocil9Y29uc3Qgcz17cHJvdmlkZXJJZDp0LHJlc3VsdDpyfTtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goaCxzKX1hc3luYyBmdW5jdGlvbiBvZShlLHQpe2NvbnN0IG49ey4uLnQsY29udGV4dDp0Py5jb250ZXh0fHx7fX0sbz17fSxyPWFzeW5jIGZ1bmN0aW9uKihlLHQse3NldFN0YXRlOm59KXtjb25zdCBvPWF3YWl0IGooZSk7Zm9yKDs7KXtjb25zdCBlPWF3YWl0IG8uZGlzcGF0Y2goXCIxXCIsdCkscj1lLmVycm9yO2lmKHIpdGhyb3cgbmV3IEVycm9yKHIpO2NvbnN0IGk9ZTtpZih0LmlkPWkuaWQsbihpLnN0YXRlKSxpLmRvbmUpcmV0dXJuIGkudmFsdWU7eWllbGQgaS52YWx1ZX19KGUsbix7c2V0U3RhdGU6ZT0+e28uc3RhdGU9ZX19KTtsZXQgaT1hd2FpdCByLm5leHQoKTtyZXR1cm4gby5pZD1uLmlkfHxcIlwiLG8uY2xvc2U9KCk9PnshYXN5bmMgZnVuY3Rpb24oZSx0KXsoYXdhaXQgaihlKSkuZGlzcGF0Y2goeSx7aWQ6dH0pfShlLG8uaWQpfSxvLm5leHQ9KCk9PntpZihpKXtjb25zdCBlPWk7cmV0dXJuIGk9dm9pZCAwLGV9cmV0dXJuIHIubmV4dCgpfSxvfWFzeW5jIGZ1bmN0aW9uIHJlKGUpe3JldHVybihhd2FpdCBqKGUpKS5kaXNwYXRjaChcIjRcIixudWxsKX1hc3luYyBmdW5jdGlvbiBpZShlKXtjb25zdCB0PWF3YWl0IGooZSk7dmFyIG47bj1lLFUuZGVsZXRlKG4pLEYoZSksYXdhaXQgdC5kaXNjb25uZWN0KCl9ZnVuY3Rpb24gc2UoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1aKHQpO3JldHVybiBhc3luYyBvPT57aWYoIVgodCkpcmV0dXJuO2NvbnN0IHI9bi5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG8pO2Zvcihjb25zdHtyZXE6ZSxjbG9zZTp0fW9mIHIudmFsdWVzKCkpdCgpLHIuZGVsZXRlKGUuaWQpO0sodCwoYXN5bmMgZT0+e2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49YXdhaXQgYWUoZSk7Zm9yKGNvbnN0IGUgb2YgQih0KSlhd2FpdCBlZSh0LGUsbik7cmV0dXJuIG59KShlKSl9fWFzeW5jIGZ1bmN0aW9uIGFlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49UCh0KSxvPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8NTA7dCsrKXRyeXtyZXR1cm4gYXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3dhaXQ6ITF9KX1jYXRjaChlKXtpZig0OT09PXQpdGhyb3cgZTthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLDFlMykpKX19KG4pO3JldHVybiBvLnJlZ2lzdGVyKGcsUShlKSksby5yZWdpc3Rlcih5LGZ1bmN0aW9uKGUpe2NvbnN0IHQ9WihlKTtyZXR1cm4oZSxuKT0+e2NvbnN0IG89dC5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG4pLHI9by5nZXQoZS5pZCk7ciYmKHIuY2xvc2UoKSxvLmRlbGV0ZShlLmlkKSl9fSh0KSksby5yZWdpc3RlcihoLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm4gdm9pZCBKKEcpO2NvbnN0IG89QShlLHQucHJvdmlkZXJJZCk7aWYoIW8pcmV0dXJuIHZvaWQgSigkKTtjb25zdHtvblJlc3VsdERpc3BhdGNoOnJ9PW87cmV0dXJuIHI/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLHIodC5yZXN1bHQpKTp2b2lkIDB9fSh0KSksby5vbkRpc2Nvbm5lY3Rpb24oc2UoZSkpLG99YXN5bmMgZnVuY3Rpb24gY2UoZSl7Y29uc3QgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9lOmUudG9waWMsbj1cInN0cmluZ1wiPT10eXBlb2YgZT92b2lkIDA6ZS51dWlkLG89dHx8dyxyPW58fE0oKXx8XCJcIixpPW0ocixvKSxzPXt0b3BpYzpvLG5hbWVzcGFjZTpyLG5hbWVzcGFjZWRUb3BpYzppfTtsZXQgYT1YKGkpO3JldHVybiBhfHwoYT1hZShzKSxLKGksYSksYXdhaXQgYSkse2dldEFsbFByb3ZpZGVyczpyZS5iaW5kKG51bGwsaSkscmVnaXN0ZXI6ZWUuYmluZChudWxsLGkpLHNlYXJjaDpvZS5iaW5kKG51bGwsaSksZGVyZWdpc3Rlcjp0ZS5iaW5kKG51bGwsaSksZGlzcGF0Y2g6bmUuYmluZChudWxsLGkpLGRpc2Nvbm5lY3Q6aWUuYmluZChudWxsLGkpfX1jb25zdCBkZT1uZXcgTWFwO2Z1bmN0aW9uIHVlKGUpe2NvbnN0IHQ9cGUoZSk7aWYodClyZXR1cm4gdDt0aHJvdyBOfWZ1bmN0aW9uIHBlKGUpe2NvbnN0IHQ9ZGUuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9Y29uc3QgbGU9bmV3IE1hcDtmdW5jdGlvbiBmZShlLHQpe2xlLmhhcyhlKXx8bGUuc2V0KGUsbmV3IFNldCksbGUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiB3ZShlLHQpe2NvbnN0IG49bGUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWFzeW5jIGZ1bmN0aW9uIGdlKGUpe3JldHVyblsuLi5CKGUpXS5tYXAoKGU9Pih7Li4uZSxvblVzZXJJbnB1dDp2b2lkIDAsb25SZXN1bHREaXNwYXRjaDp2b2lkIDB9KSkpfWFzeW5jIGZ1bmN0aW9uIGhlKGUsdCl7aWYoQShlLHQuaWQpKXRocm93IG5ldyBFcnJvcihcInByb3ZpZGVyIHdpdGggbmFtZSBhbHJlYWR5IGV4aXN0c1wiKTtjb25zdCBuPUUoKTtyZXR1cm4gYXdhaXQgYihlLHtpZGVudGl0eTpuLC4uLnR9KSx7d29ya3NwYWNlVmVyc2lvbjppLnUwfHxcIlwiLGNsaWVudEFQSVZlcnNpb246dC5jbGllbnRBUElWZXJzaW9ufHxcIlwifX1hc3luYyBmdW5jdGlvbiB5ZShlLHQpe2F3YWl0IEQoZSx0KX1hc3luYyBmdW5jdGlvbiB2ZShlLHQsbixvKXtjb25zdCByPUEoZSx0KTtpZighcil0aHJvdyAkO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6aX09cjtpZighaSlyZXR1cm47cmV0dXJuIGkoTChuLEUoKSxvKSl9YXN5bmMgZnVuY3Rpb24qbWUoZSx0LG4pe2NvbnN0IG89ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdLG89W10scj1bXSxpPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9eChzLnNjb3JlT3JkZXIpLGE9e3Jlc3VsdHM6W10scHJvdmlkZXI6e2lkOnMuaWQsaWRlbnRpdHk6cy5pZGVudGl0eSx0aXRsZTpzLnRpdGxlLHNjb3JlT3JkZXI6cy5zY29yZU9yZGVyLGljb246cy5pY29uLGRpc3BhdGNoRm9jdXNFdmVudHM6cy5kaXNwYXRjaEZvY3VzRXZlbnRzfX07bi5wdXNoKGEpLG8ucHVzaChlKTtjb25zdCBjPShhc3luYygpPT57dHJ5e2NvbnN0e3Jlc3VsdHM6bixjb250ZXh0Om99PWF3YWl0IHMub25Vc2VySW5wdXQodCxlLnJlcyk7YS5yZXN1bHRzPU8oYS5yZXN1bHRzfHxbXSxuKSxhLmNvbnRleHQ9ey4uLmEuY29udGV4dCwuLi5vfX1jYXRjaChlKXthLmVycm9yPWV9fSkoKTtjLmZpbmFsbHkoKCgpPT57Yy5kb25lPSEwfSkpLGkucHVzaChjKSxyLnB1c2goci5sZW5ndGgpfXJldHVybntwcm92aWRlclJlc3BvbnNlczpuLGxpc3RlbmVyUmVzcG9uc2VzOm8sb3Blbkxpc3RlbmVyUmVzcG9uc2VzOnIsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6aX19KHQudGFyZ2V0cz90LnRhcmdldHMubWFwKCh0PT5BKGUsdCkpKS5maWx0ZXIoKGU9PiEhZSkpOlsuLi5CKGUpLmZpbHRlcigoZT0+IWUuaGlkZGVuKSldLHQpLHtwcm92aWRlclJlc3BvbnNlczpyLGxpc3RlbmVyUmVzcG9uc2VzOml9PW87bGV0e29wZW5MaXN0ZW5lclJlc3BvbnNlczpzLGluaXRpYWxSZXNwb25zZVByb21pc2VzOmF9PW8sYz1mLkRlLkZldGNoaW5nO2NvbnN0IGQ9ZT0+e2M9ZSxuLnNldFN0YXRlKGMpfTtsZXQgcCxsPSExO3Qub25DbG9zZSgoKCk9PntsPSEwLHAmJnAoKX0pKTtkb3tsZXQgZT0hMTtpZihhLmxlbmd0aCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBhKW4uZG9uZT9lPSEwOnQucHVzaChuKTthPXQsYS5sZW5ndGh8fChkKGYuRGUuRmV0Y2hlZCksZT0hMCl9bGV0IHQsbj0hMTtjb25zdCBvPSgpPT57bj0hMCx0JiZ0KCl9LHc9W107Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1pW3RdLHM9clt0XSxhPW4uZ2V0U3RhdHVzKCk7KGE9PT11Lk9wZW58fGM9PT1mLkRlLkZldGNoaW5nJiZhPT09dS5Jbml0aWFsKSYmKHcucHVzaCh0KSxuLm9uQ2hhbmdlPW8pO2NvbnN0IGQ9bi5nZXRSZXN1bHRCdWZmZXIoKTtkLmxlbmd0aCYmKG4uc2V0UmVzdWx0QnVmZmVyKFtdKSxzLnJlc3VsdHM9TyhzLnJlc3VsdHN8fFtdLGQpLGU9ITApO2NvbnN0IHA9bi5nZXRSZXZva2VkQnVmZmVyKCk7aWYocC5sZW5ndGgpe24uc2V0UmV2b2tlZEJ1ZmZlcihbXSk7Y29uc3QgdD1uZXcgU2V0KHApO3MucmVzdWx0cz0ocy5yZXN1bHRzfHxbXSkuZmlsdGVyKCgoe2tleTplfSk9PiF0LmhhcyhlKSkpLGU9ITB9fWlmKHM9dyxlJiYoeWllbGQgciksbClicmVhaztufHwocy5sZW5ndGh8fGEubGVuZ3RoKSYmYXdhaXQgUHJvbWlzZS5yYWNlKFsuLi5hLG5ldyBQcm9taXNlKChlPT57dD1lfSkpLG5ldyBQcm9taXNlKChlPT57cD1lfSkpXSl9d2hpbGUocy5sZW5ndGh8fGEubGVuZ3RoKTtyZXR1cm4gZChmLkRlLkNvbXBsZXRlKSxyfWxldCBQZT0wO2FzeW5jIGZ1bmN0aW9uIFNlKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSxuKXtQZSs9MTtjb25zdCBvPVYodCxQZS50b1N0cmluZygpLG4pLHI9bWUoZSxvLnJlcSx7c2V0U3RhdGU6ZT0+e3Iuc3RhdGU9ZX19KTtyZXR1cm4gci5pZD1QZS50b1N0cmluZygpLHIuY2xvc2U9by5jbG9zZSxyLnN0YXRlPWYuRGUuRmV0Y2hpbmcscn1jb25zdCBrZT1uZXcgTWFwO2Z1bmN0aW9uIENlKGUsdCl7cmV0dXJuYCR7ZX06JHt0fWB9ZnVuY3Rpb24gV2UoZSl7cmV0dXJuIGFzeW5jIHQ9PntpZighdClyZXR1cm4gSihHKSx7ZXJyb3I6Ry5tZXNzYWdlfTtsZXQgbjtpZih0LmlkKW49Q2UoZS5uYW1lc3BhY2VkVG9waWMsdC5pZCk7ZWxzZXtjb25zdCBvPWF3YWl0IFNlKGUsdCk7bj1DZShlLm5hbWVzcGFjZWRUb3BpYyxvLmlkKSx0LmlkPW8uaWQsa2Uuc2V0KG4se2dlbmVyYXRvcjpvfSl9Y29uc3Qgbz1rZS5nZXQobik7Y2xlYXJUaW1lb3V0KG8udGltZW91dCk7Y29uc3Qgcj1hd2FpdCBvLmdlbmVyYXRvci5uZXh0KCk7cmV0dXJuIG8udGltZW91dD1mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoKCgpPT57a2UuZGVsZXRlKGUpfSksMWU0KX0obiksey4uLnIsaWQ6dC5pZCxzdGF0ZTpvLmdlbmVyYXRvci5zdGF0ZX19fWZ1bmN0aW9uIFJlKGUsdCxuKXtyZXR1cm4gdWUoZSkuZGlzcGF0Y2godCx5LHtpZDpufSl9ZnVuY3Rpb24gSWUoZSl7cmV0dXJuIHQ9PmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1DZShlLHQpLG89a2UuZ2V0KG4pO28mJm8uZ2VuZXJhdG9yLmNsb3NlKCl9KGUsdC5pZCl9YXN5bmMgZnVuY3Rpb24gVGUoZSx0LHtpZDpuLHF1ZXJ5Om8sY29udGV4dDpyLHRhcmdldHM6aT1bXX0pe2NvbnN0IHM9dWUoZSksYT17aWQ6bixxdWVyeTpvLGNvbnRleHQ6cix0YXJnZXRzOmkscHJvdmlkZXJJZDp0LmlkfSxjPWF3YWl0IHMuZGlzcGF0Y2godC5pZGVudGl0eSxnLGEpLGQ9Yy5lcnJvcjtpZihkKXRocm93IG5ldyBFcnJvcihkKTtyZXR1cm4gY31jb25zdCBiZT1uZXcgTWFwO2Z1bmN0aW9uIERlKGUsdCxuKXtyZXR1cm5gJHtlfToke3QubmFtZX06JHt0LnV1aWR9OiR7bn1gfWNvbnN0IEJlPW5ldyBNYXA7ZnVuY3Rpb24gRmUoZSx0LG4pe3JldHVybmAke2V9OiR7dH06JHtufWB9ZnVuY3Rpb24gQWUoZSx0KXtjb25zdCBuPURlLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLG89UmUuYmluZChudWxsLGUsdC5pZGVudGl0eSkscj1UZS5iaW5kKG51bGwsZSx0KTtyZXR1cm4gYXN5bmMoaSxzKT0+e2NvbnN0IGE9bihpLmlkKTtpZighYmUuaGFzKGEpKXtjb25zdCBlPSgpPT57byhpLmlkKSxiZS5kZWxldGUoYSl9O2JlLnNldChhLGUpLGkub25DbG9zZShlKX1jb25zdCBjPUZlKGUsdC5pZCxpLmlkKSxkPSgpPT57QmUuZGVsZXRlKGMpLHMuY2xvc2UoKX07aS5vbkNsb3NlKGQpLEJlLnNldChjLChlPT57ZS5yZXN1bHRzPy5sZW5ndGgmJnMucmVzcG9uZChlLnJlc3VsdHMpLGUucmV2b2tlZD8ubGVuZ3RoJiZzLnJldm9rZSguLi5lLnJldm9rZWQpLGUuc3RhdHVzPT09dS5PcGVuJiZzLm9wZW4oKSxlLnN0YXR1cz09PXUuQ2xvc2UmJmQoKX0pKTtjb25zdCBwPWF3YWl0IHIoaSk7cmV0dXJuIHAuc3RhdHVzPT09dS5PcGVuJiZzLm9wZW4oKSxwLnN0YXR1cyE9PXUuQ2xvc2UmJnAuc3RhdHVzIT09dS5Jbml0aWFsfHxkKCkscH19ZnVuY3Rpb24gTGUoZSx0KXtyZXR1cm4gYXN5bmMgbj0+e2NvbnN0IG89dWUoZSkscj17cHJvdmlkZXJJZDp0LmlkLHJlc3VsdDpufTtyZXR1cm4gby5kaXNwYXRjaCh0LmlkZW50aXR5LGgscil9fWNvbnN0IE9lPW5ldyBNYXA7ZnVuY3Rpb24geGUoZSx0KXtyZXR1cm5gJHtlfS0ke3QubmFtZX0tJHt0LnV1aWR9YH1mdW5jdGlvbiBWZShlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5pZClyZXR1cm4gSihuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkodCkpKSx2b2lkIEooRyk7aWYoQShlLHQuaWQpKXRocm93IHE7cmV0dXJuIHQuaWRlbnRpdHk9bixhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IG49eGUoZSx0LmlkZW50aXR5KTtPZS5oYXMobil8fE9lLnNldChuLFtdKSxPZS5nZXQobikucHVzaCh0LmlkKSxhd2FpdCBiKGUsey4uLnQsb25Vc2VySW5wdXQ6QWUoZSx0KSxvblJlc3VsdERpc3BhdGNoOkxlKGUsdCl9KX0oZSx0KSx7d29ya3NwYWNlVmVyc2lvbjppLnUwfHxcIlwiLGNsaWVudEFQSVZlcnNpb246dC5jbGllbnRBUElWZXJzaW9ufHxcIlwifX19ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIHQ9Pnt0P2Z1bmN0aW9uKGUsdCl7Y29uc3Qgbj1BKGUsdCk7aWYoIW4pcmV0dXJuO2NvbnN0IG89eGUoZSxuLmlkZW50aXR5KSxyPU9lLmdldChvKTtpZihyKXtjb25zdCBuPXIuZmluZEluZGV4KChlPT5lPT09dCkpOy0xIT09biYmKHIuc3BsaWNlKG4sMSksRChlLHQpKX19KGUsdCk6SihHKX19Y29uc3QgTWU9bmV3IE1hcDtmdW5jdGlvbiBfZShlLHQpe01lLmhhcyhlKXx8TWUuc2V0KGUsbmV3IFNldCksTWUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiAkZShlLHQpe2NvbnN0IG49TWUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWZ1bmN0aW9uIHFlKGUpe3JldHVybiBhc3luYyB0PT57IWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj14ZShlLHQpLG89T2UuZ2V0KG4pO2lmKG8pe2Zvcihjb25zdCB0IG9mIG8pRChlLHQpO09lLmRlbGV0ZShuKX19KGUsdCk7Y29uc3Qgbj1NZS5nZXQoZSk7biYmbi5mb3JFYWNoKChlPT5lKHQpKSl9fWFzeW5jIGZ1bmN0aW9uIEdlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49UChlLm5hbWVzcGFjZWRUb3BpYyksbz1hd2FpdChyPW4sZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jcmVhdGUocikpO3ZhciByO3JldHVybiBvLm9uQ29ubmVjdGlvbihmdW5jdGlvbih7bmFtZXNwYWNlZFRvcGljOmV9KXtyZXR1cm4gYXN5bmMgdD0+e2NvbnN0IG49bGUuZ2V0KGUpO2lmKG4pZm9yKGNvbnN0IGUgb2YgbilpZighYXdhaXQgZSh0KSl0aHJvdyBIfX0oZSkpLG8ub25EaXNjb25uZWN0aW9uKHFlKHQpKSxvLnJlZ2lzdGVyKHksSWUodCkpLG8ucmVnaXN0ZXIoZyxmdW5jdGlvbihlKXtyZXR1cm4gdD0+e2NvbnN0IG49RmUoZSx0LnByb3ZpZGVySWQsdC5pZCksbz1CZS5nZXQobik7byYmbyh0KX19KHQpKSxvLnJlZ2lzdGVyKFwiMlwiLFZlKHQpKSxvLnJlZ2lzdGVyKFwiM1wiLEVlKHQpKSxvLnJlZ2lzdGVyKFwiNFwiLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYygpPT5nZShlKX0odCkpLG8ucmVnaXN0ZXIoXCIxXCIsV2UoZSkpLG8ucmVnaXN0ZXIoaCxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuIHZvaWQgSihHKTtjb25zdCBvPUEoZSx0LnByb3ZpZGVySWQpO2lmKCFvKXRocm93ICQ7Y29uc3R7b25SZXN1bHREaXNwYXRjaDpyfT1vO3JldHVybiByPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixyKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLG99YXN5bmMgZnVuY3Rpb24gSGUoZSl7Y29uc3QgdD11ZShlKTt2YXIgbjtuPWUsZGUuZGVsZXRlKG4pLGF3YWl0IHQuZGVzdHJveSgpLEYoZSl9YXN5bmMgZnVuY3Rpb24gTmUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpY3x8XCJcIil8fHcsbj1NKCl8fFwiXCIsbz1tKG4sdCkscj17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6b307bGV0IGk9cGUobyk7aXx8KGk9YXdhaXQgR2UociksZnVuY3Rpb24oZSx0KXtkZS5zZXQoZSx0KX0obyxpKSk7Y29uc3Qgcz13ZS5iaW5kKG51bGwsbyksYT0kZS5iaW5kKG51bGwsbyksYz1DLmJpbmQobnVsbCxvKSxkPUkuYmluZChudWxsLG8pO3JldHVybntnZXRBbGxQcm92aWRlcnM6Z2UuYmluZChudWxsLG8pLHNlYXJjaDpTZS5iaW5kKG51bGwscikscmVnaXN0ZXI6aGUuYmluZChudWxsLG8pLGRlcmVnaXN0ZXI6eWUuYmluZChudWxsLG8pLG9uU3Vic2NyaXB0aW9uOmZlLmJpbmQobnVsbCxvKSxvbkRpc2Nvbm5lY3Q6X2UuYmluZChudWxsLG8pLG9uUmVnaXN0ZXI6ay5iaW5kKG51bGwsbyksb25EZXJlZ2lzdGVyOlIuYmluZChudWxsLG8pLGRpc3BhdGNoOnZlLmJpbmQobnVsbCxvKSxkaXNjb25uZWN0OkhlLmJpbmQobnVsbCxvKSxyZW1vdmVMaXN0ZW5lcjplPT57cyhlKSxhKGUpLGMoZSksZChlKX19fWNvbnN0e2NyZWF0ZTpVZX09cix7c3Vic2NyaWJlOmplfT1vLFhlPXtjcmVhdGU6VWUsc3Vic2NyaWJlOmplLGRlZmF1bHRUb3BpYzpcImFsbFwifSxLZT0oKT0+e3dpbmRvdy5zZWFyY2g9WGV9LEplPWU9Pntjb25zdCB0PSgpPT57S2UoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpfTtyZXR1cm4gdH07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7S2UoKTtjb25zdCBlPVwibG9hZFwiLHQ9SmUoZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZSx0KTtjb25zdCBuPVwiRE9NQ29udGVudExvYWRlZFwiLG89SmUobik7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIobixvKX1jb25zdCB6ZT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIFplKCl7YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7emUuc2V0KGUsYXdhaXQgamUoe3RvcGljOmUsdXVpZDpwLnE5LldvcmtzcGFjZX0pKX0oYyl9bGV0IFllO2FzeW5jIGZ1bmN0aW9uIFFlKGUpe3JldHVybiBhd2FpdCBhc3luYyBmdW5jdGlvbigpe3JldHVybiBZZXx8KFllPVplKCkpLFllfSgpLHplLmdldChlKX1jb25zdCBldD1hc3luYyBlPT57aWYoIWUuaWNvbil0aHJvdyBuZXcgRXJyb3IoYCR7ZS5pZH0gcHJvdmlkZXIgbmVlZHMgdG8gaGF2ZSBpY29uIHByb3BlcnR5IGRlZmluZWQuYCk7YXdhaXQoMCxhLmFCKSgpO2NvbnN0IHQ9YXdhaXQgUWUoYyk7dHJ5e2UuY2xpZW50QVBJVmVyc2lvbj1pLnUwO2NvbnN0IG49YXdhaXQgdC5yZWdpc3RlcihlKTtyZXR1cm4oMCxzLmNrKSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb259KSxuPy53b3Jrc3BhY2VWZXJzaW9uLGkudTAsbn1jYXRjaChlKXt0aHJvdygwLHMuY2spKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZS5tZXNzYWdlfSksZX19LHR0PWFzeW5jIGU9Pnthd2FpdCgwLGEuYUIpKCk7cmV0dXJuKGF3YWl0IFFlKGMpKS5kZXJlZ2lzdGVyKGUpfTthc3luYyBmdW5jdGlvbiBudCgpe3JldHVybihhd2FpdCgwLGEuWGwpKCkpLmRpc3BhdGNoKGEuV0YuU2hvd0hvbWUsdm9pZCAwKX1hc3luYyBmdW5jdGlvbiBvdCgpe3JldHVybihhd2FpdCgwLGEuWGwpKCkpLmRpc3BhdGNoKGEuV0YuSGlkZUhvbWUsdm9pZCAwKX19LDI5ODooZSx0LG4pPT57bi5kKHQse3A6KCk9Pm8ucHgsdzooKT0+by53dH0pO3ZhciBvPW4oMzE2KX0sNDI3OihlLHQsbik9Pnt2YXIgbztuLmQodCx7djooKT0+b30pLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KG98fChvPXt9KSl9LDc1ODooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtQdDooKT0+byxlbDooKT0+aSx5VzooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sMTE0OihlLHQsbik9Pnt2YXIgbyxyO24uZCh0LHtMOigpPT5vLFQ6KCk9PnJ9KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShyfHwocj17fSkpfSwxMDk6KGUsdCxuKT0+e24uZCh0LHtHbzooKT0+cixaSjooKT0+cyxiSTooKT0+aSxwNjooKT0+b30pO2NvbnN0IG89e0NvbnRhaW5lcjpcIkNvbnRhaW5lclwiLEJ1dHRvbjpcIkJ1dHRvblwifSxyPXtUZXh0OlwiVGV4dFwiLEltYWdlOlwiSW1hZ2VcIixMaXN0OlwiTGlzdFwifSxpPXsuLi5vLC4uLnJ9O3ZhciBzOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0oc3x8KHM9e30pKX0sNTI4OihlLHQsbik9PntuLnIodCksbi5kKHQse0FwcE1hbmlmZXN0VHlwZTooKT0+cy5MLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+cy5ULGRlcmVnaXN0ZXI6KCk9PmcsaGlkZTooKT0+aCxyZWdpc3RlcjooKT0+dyxzaG93OigpPT55fSk7dmFyIG89big1MzIpLHI9big0MzYpLGk9big4Mikscz1uKDExNCksYT1uKDY3OCk7bGV0IGMsZD0hMTthc3luYyBmdW5jdGlvbiB1KGUsdCxuKXtjb25zdCBvPWF3YWl0KDAsci5EbSkoKTt0cnl7cmV0dXJuIGF3YWl0IG8uZGlzcGF0Y2goZS5hY3Rpb24sZS5wYXlsb2FkKX1jYXRjaChyKXtpZigtMSE9PXIudG9TdHJpbmcoKS5pbmRleE9mKGUuYWN0aW9uKSlyZXR1cm4gZHx8Y29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhIG5ld2VyIHZlcnNpb24gb2YgdGhlIFdvcmtzcGFjZSBjbGllbnQgbGlicmFyeSB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnRseSBydW5uaW5nIHdvcmtzcGFjZSBwcm92aWRlci4gUGxlYXNlIHVwZ3JhZGUgdGhlIFdvcmtzcGFjZSB0byB2ZXJzaW9uIDkuMCBvciBsYXRlci5cIiksZD0hMCxhd2FpdCBvLmRpc3BhdGNoKHQuYWN0aW9uLHQucGF5bG9hZCksbjt0aHJvdyByfX1jb25zdCBwPW5ldyBNYXAsbD1lPT57aWYoIXAuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcC5nZXQoZSl9LGY9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxyLlhsKSgpO2lmKHAuaGFzKGUuaWQpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBwcm92aWRlciB3aXRoIGlkICR7ZS5pZH0gYWxyZWFkeSByZWdpc3RlcmVkYCk7cmV0dXJuIHAuc2V0KGUuaWQsZSksKGU9PntlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcywoZT0+bChlKS5nZXRBcHBzKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyLChlPT5sKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihyLldGLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlLChlPT5sKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKHIuV0YuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbiwoZT0+bChlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKHIuV0YuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwLCgoe2lkOmUsYXBwOnR9KT0+bChlKS5sYXVuY2hBcHAodCkpKSl9KSh0KSxlLmNsaWVudEFQSVZlcnNpb249YS51MCx1KHthY3Rpb246ci5XRi5SZWdpc3RlclByb3ZpZGVyLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnQsaW5mbzplfX0se2FjdGlvbjpyLldGLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLHBheWxvYWQ6ZX0se3dvcmtzcGFjZVZlcnNpb246XCJ1bmtub3duXCJ9KX0sdz1lPT4oYz1uZXcgUHJvbWlzZSgoYXN5bmModCxuKT0+e3RyeXtjb25zdCBuPWF3YWl0IGYoZSk7KDAsby5kOSkoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksbj8ud29ya3NwYWNlVmVyc2lvbixhLnUwLHQoe2NsaWVudEFQSVZlcnNpb246YS51MCx3b3Jrc3BhY2VWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb24/P1wiXCJ9KX1jYXRjaChlKXsoMCxvLmQ5KSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUubWVzc2FnZX0pLG4oZSl9fSkpLGMpLGc9YXN5bmMgZT0+KGF3YWl0IGMscC5kZWxldGUoZSksYXdhaXQoMCxyLmFCKSgpLHUoe2FjdGlvbjpyLldGLkRlcmVnaXN0ZXJQcm92aWRlcixwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250LGlkOmV9fSx7YWN0aW9uOnIuV0YuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixwYXlsb2FkOmV9KSksaD1hc3luYygpPT4oYXdhaXQgYyxhd2FpdCgwLHIuYUIpKCksdSh7YWN0aW9uOnIuV0YuSGlkZVByb3ZpZGVyV2luZG93LHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnR9fSx7YWN0aW9uOnIuV0YuSGlkZVN0b3JlZnJvbnR9KSkseT1hc3luYygpPT4oYXdhaXQgYyxhd2FpdCgwLHIuYUIpKCksdSh7YWN0aW9uOnIuV0YuU2hvd1Byb3ZpZGVyV2luZG93LHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnR9fSx7YWN0aW9uOnIuV0YuU2hvd1N0b3JlZnJvbnR9KSl9LDQzNjooZSx0LG4pPT57bi5kKHQse1dGOigpPT5zLERtOigpPT5hLFhsOigpPT5wLGFCOigpPT51fSk7dmFyIG89big2NzgpO2NvbnN0IHI9by5BeCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7dmFyIGk9bigxMjEpO3ZhciBzOyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyUHJvdmlkZXI9XCJyZWdpc3Rlci1wcm92aWRlclwiLGUuRGVyZWdpc3RlclByb3ZpZGVyPVwiZGVyZWdpc3Rlci1wcm92aWRlclwiLGUuQ3JlYXRlUHJvdmlkZXJXaW5kb3c9XCJjcmVhdGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRQcm92aWRlcnM9XCJnZXQtcHJvdmlkZXJzXCIsZS5TaG93UHJvdmlkZXJXaW5kb3c9XCJzaG93LXByb3ZpZGVyLXdpbmRvd1wiLGUuSGlkZVByb3ZpZGVyV2luZG93PVwiaGlkZS1wcm92aWRlci13aW5kb3dcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93SG9tZT1cInNob3ctaG9tZVwiLGUuSGlkZUhvbWU9XCJoaWRlLWhvbWVcIixlLkFzc2lnbkhvbWVTZWFyY2hDb250ZXh0PVwiYXNzaWduLWhvbWUtc2VhcmNoLWNvbnRleHRcIixlLkdldExlZ2FjeVBhZ2VzPVwiZ2V0LWxlZ2FjeS1wYWdlc1wiLGUuR2V0TGVnYWN5V29ya3NwYWNlcz1cImdldC1sZWdhY3ktd29ya3NwYWNlc1wiLGUuR2V0Q29tcHV0ZWRQbGF0Zm9ybVRoZW1lPVwiZ2V0LWNvbXB1dGVkLXBsYXRmb3JtLXRoZW1lXCIsZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwifShzfHwocz17fSkpO2NvbnN0IGE9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuKCk9PntpZighby5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCByO2NvbnN0IG49e2NsaWVudEFQSVZlcnNpb246by51MH0saT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDpufSk7cmV0dXJuIGkub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57Y29uc29sZS53YXJuKGBkaXNjb25uZWN0ZWQgZnJvbSBjaGFubmVsIHByb3ZpZGVyICR7ZX1gKSx0PXZvaWQgMH0pKSxpfSkoKS50aGVuKChlPT5lKSkuY2F0Y2goKG49Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHtufWApfSkpKSx0fX0oXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLGM9XCJpc0xhdW5jaGVkVmlhTGliXCIsZD1lPT57Y29uc3QgdD1uZXcgVVJMKGUpO3JldHVybiB0LnNlYXJjaFBhcmFtcy5hcHBlbmQoYyxcInRydWVcIiksdC50b1N0cmluZygpfSx1PWFzeW5jKCk9Pnthd2FpdCgwLGkuSlYpKGkuaVcpfHwoKG8uWkt8fC0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiV2luXCIpKSYmYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGQoby5hVykpLGF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGQoby5HWCkpKX0scD1hc3luYygpPT4oYXdhaXQgdSgpLGEoKSl9LDgyOihlLHQsbik9PntuLmQodCx7Ujg6KCk9PnMsWF86KCk9PmksbFA6KCk9Pm99KTt2YXIgbyxyPW4oNDM2KTshZnVuY3Rpb24oZSl7ZS5TdG9yZWZyb250PVwic3RvcmVmcm9udFwiLGUuRG9jaz1cImRvY2tcIn0ob3x8KG89e30pKTtjb25zdCBpPWFzeW5jIGU9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuV0YuU2hvd1Byb3ZpZGVyV2luZG93LHtwcm92aWRlclR5cGU6ZX0pLHM9YXN5bmMgZT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5XRi5IaWRlUHJvdmlkZXJXaW5kb3cse3Byb3ZpZGVyVHlwZTplfSl9LDgwNjooZSx0LG4pPT57bi5kKHQse3E5OigpPT5vfSk7dmFyIG8scixpLHM9big2NzgpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KGl8fChpPXt9KSk7cy5BQixvLldvcmtzcGFjZX0sNjc4OihlLHQsbik9Pnt2YXIgbztuLmQodCx7QUI6KCk9PmEsQXg6KCk9PmksR1g6KCk9PnUsWks6KCk9PmQsYVc6KCk9PnAsb0M6KCk9PmMsc1M6KCk9PnIsdTA6KCk9PmZ9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KG98fChvPXt9KSk7Y29uc3Qgcj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdykscz1pP3dpbmRvdy5vcmlnaW46by5Mb2NhbCxhPXImJmZpbi5tZS51dWlkLGM9ciYmZmluLm1lLm5hbWUsZD0ociYmZmluLm1lLmVudGl0eVR5cGUsXCJwcm9kXCI9PT1vLkxvY2FsKSx1PShvLkRldixvLlN0YWdpbmcsby5Qcm9kLFwiZmluczovL3N5c3RlbS1hcHBzL3dvcmtzcGFjZVwiKSxwPVwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4yLjQvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLGY9KGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjIuNFwiKSxsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOS4yLjRcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZsKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiOS4yLjRcIil9LDUzMjooZSx0LG4pPT57bi5kKHQse1duOigpPT5kLGNrOigpPT5hLGQ5OigpPT5jfSk7dmFyIG8scj1uKDY3OCksaT1uKDEyMSk7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIn0ob3x8KG89e30pKTtjb25zdCBzPWFzeW5jKGUsdCk9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8ci51MCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fHIudTAsYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcIndvcmtzcGFjZS1saWNlbnNpbmdcIixkYXRhOm59KX0sYT1hc3luYyBlPT57aS5PSS51dWlkPT09aS5HaS51dWlkJiZpLk9JLm5hbWU9PT1pLkdpLm5hbWV8fHMoby5Ib21lLGUpfSxjPWFzeW5jIGU9PntzKG8uU3RvcmVmcm9udCxlKX0sZD1hc3luYyBlPT57cyhvLkRvY2ssZSl9fSwxMjE6KGUsdCxuKT0+e24uZCh0LHtHaTooKT0+ZCxKVjooKT0+bCxPSTooKT0+dSxpVzooKT0+cH0pO3ZhciBvLHIsaSxzPW4oODA2KSxhPW4oNjc4KTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wiLGUuQ2xhc3NpY1dpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC1jbGFzc2ljLXdpbmRvd1wifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VkPVwiY2xvc2VkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkJlZm9yZVVubG9hZD1cImJlZm9yZXVubG9hZFwifShpfHwoaT17fSkpO2Z1bmN0aW9uIGMoZSl7aWYoIWEuc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgZD17bmFtZTphLm9DLHV1aWQ6YS5BQn07Y29uc3QgdT17bmFtZTpvLkhvbWUsdXVpZDpzLnE5LldvcmtzcGFjZX0scD0oby5Eb2NrLHMucTkuV29ya3NwYWNlLG8uU3RvcmVmcm9udCxzLnE5LldvcmtzcGFjZSx7bmFtZTpzLnE5LldvcmtzcGFjZSx1dWlkOnMucTkuV29ya3NwYWNlfSk7Y29uc3QgbD1lPT5jKGUpLmdldE9wdGlvbnMoKS50aGVuKCgoKT0+ITApKS5jYXRjaCgoKCk9PiExKSl9LDMxNjooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtEZTooKT0+byxweDooKT0+cix3dDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShpfHwoaT17fSkpfX0sdD17fTtmdW5jdGlvbiBuKG8pe3ZhciByPXRbb107aWYodm9pZCAwIT09cilyZXR1cm4gci5leHBvcnRzO3ZhciBpPXRbb109e2V4cG9ydHM6e319O3JldHVybiBlW29dKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KGUsdCk9Pntmb3IodmFyIG8gaW4gdCluLm8odCxvKSYmIW4ubyhlLG8pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLHtlbnVtZXJhYmxlOiEwLGdldDp0W29dfSl9LG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbz17fTsoKCk9PntuLnIobyksbi5kKG8se0FjdGlvblRyaWdnZXI6KCk9PlMucCxBcHBNYW5pZmVzdFR5cGU6KCk9PlcuTCxCdXR0b25TdHlsZTooKT0+ay5aSixDTElBY3Rpb246KCk9PkMuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+Qy5lbCxDTElUZW1wbGF0ZTooKT0+Qy55VyxDb250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmsucDYsRG9jazooKT0+ZSxEb2NrQnV0dG9uTmFtZXM6KCk9PmMudixIb21lOigpPT5oLExlZ2FjeTooKT0+dCxQcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmsuR28sU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+Uy53LFN0b3JlZnJvbnQ6KCk9PlAsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5XLlQsVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5rLmJJfSk7dmFyIGU9e307bi5yKGUpLG4uZChlLHtEb2NrQnV0dG9uTmFtZXM6KCk9PmMudixkZXJlZ2lzdGVyOigpPT5sLG1pbmltaXplOigpPT5mLHJlZ2lzdGVyOigpPT5wLHNob3c6KCk9Pnd9KTt2YXIgdD17fTtuLnIodCksbi5kKHQse2dldFBhZ2VzOigpPT52LGdldFdvcmtzcGFjZXM6KCk9Pm19KTt2YXIgcj1uKDY3OCksaT1uKDUzMikscz1uKDQzNiksYT1uKDgyKSxjPW4oNDI3KTtsZXQgZCx1PSExO2NvbnN0IHA9ZT0+KGQ9bmV3IFByb21pc2UoKGFzeW5jKHQsbik9Pnt0cnl7Y29uc3Qgbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCgwLHMuWGwpKCk7aWYodSl0aHJvdyBuZXcgRXJyb3IoXCJBIGRvY2sgcHJvdmlkZXIgZm9yIHRoZSBwbGF0Zm9ybSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO3JldHVybiB1PSEwLGUuY2xpZW50QVBJVmVyc2lvbj1yLnUwLHQuZGlzcGF0Y2gocy5XRi5SZWdpc3RlclByb3ZpZGVyLHtwcm92aWRlclR5cGU6YS5sUC5Eb2NrLGluZm86ZX0pfSkoZSk7KDAsaS5Xbikoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksbj8ud29ya3NwYWNlVmVyc2lvbixyLnUwLHQoe2NsaWVudEFQSVZlcnNpb246ci51MCx3b3Jrc3BhY2VWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb24/P1wiXCJ9KX1jYXRjaChlKXsoMCxpLlduKSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUubWVzc2FnZX0pLG4oZSksZD1udWxsfX0pKSxkKSxsPWFzeW5jKCk9Pnthd2FpdCBkLHU9ITE7cmV0dXJuKGF3YWl0KDAscy5YbCkoKSkuZGlzcGF0Y2gocy5XRi5EZXJlZ2lzdGVyUHJvdmlkZXIse3Byb3ZpZGVyVHlwZTphLmxQLkRvY2t9KX0sZj1hc3luYygpPT57YXdhaXQgZCxhd2FpdCgwLHMuYUIpKCksYXdhaXQoMCxhLlI4KShhLmxQLkRvY2spfSx3PWFzeW5jKCk9Pnthd2FpdCBkLGF3YWl0KDAscy5hQikoKSxhd2FpdCgwLGEuWF8pKGEubFAuRG9jayl9O3ZhciBnLGg9big3MDMpO24oMTIxKTshZnVuY3Rpb24oZSl7ZS5UYWJDcmVhdGVkPVwidGFiLWNyZWF0ZWRcIixlLkNvbnRhaW5lckNyZWF0ZWQ9XCJjb250YWluZXItY3JlYXRlZFwiLGUuQ29udGFpbmVyUmVzaXplZD1cImNvbnRhaW5lci1yZXNpemVkXCJ9KGd8fChnPXt9KSk7bmV3IE1hcDt2YXIgeTshZnVuY3Rpb24oZSl7ZS5DdXJyZW50V29ya3NwYWNlSWQ9XCJjdXJyZW50V29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIixlLkRvY2tQb3NpdGlvbj1cIkRvY2tQb3NpdGlvblwifSh5fHwoeT17fSkpO2NvbnN0IHY9KCk9PmFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5XRi5HZXRMZWdhY3lQYWdlcyx2b2lkIDApfSgpLG09KCk9Pihhc3luYygpPT4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLldGLkdldExlZ2FjeVdvcmtzcGFjZXMsdm9pZCAwKSkoKTt2YXIgUD1uKDUyOCksUz1uKDI5OCksaz1uKDEwOSksQz1uKDc1OCksVz1uKDExNCl9KSgpLG1vZHVsZS5leHBvcnRzPW99KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgQ2VsbCwgZW5hYmxlTG9nZ2luZywgRXhjZWxBcHBsaWNhdGlvbiwgZ2V0RXhjZWxBcHBsaWNhdGlvbiB9IGZyb20gXCJAb3BlbmZpbi9leGNlbFwiO1xuaW1wb3J0IHtcblx0Q0xJVGVtcGxhdGUsXG5cdHR5cGUgQ0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcblx0dHlwZSBDTElGaWx0ZXIsXG5cdHR5cGUgQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSxcblx0dHlwZSBIb21lU2VhcmNoUmVzcG9uc2UsXG5cdHR5cGUgSG9tZVNlYXJjaFJlc3VsdFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgdHlwZSB7IEludGVncmF0aW9uLCBJbnRlZ3JhdGlvbkhlbHBlcnMsIEludGVncmF0aW9uTW9kdWxlIH0gZnJvbSBcIi4uLy4uL2ludGVncmF0aW9ucy1zaGFwZXNcIjtcbmltcG9ydCB0eXBlIHsgRXhjZWxBc3NldFNldHRpbmdzLCBFeGNlbFNldHRpbmdzLCBFeGNlbFdvcmtzaGVldFNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbi8qKlxuICogSW1wbGVtZW50IHRoZSBpbnRlZ3JhdGlvbiBwcm92aWRlciBmb3IgRXhjZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBFeGNlbEludGVncmF0aW9uUHJvdmlkZXIgaW1wbGVtZW50cyBJbnRlZ3JhdGlvbk1vZHVsZTxFeGNlbFNldHRpbmdzPiB7XG5cdC8qKlxuXHQgKiBQcm92aWRlciBpZC5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIHN0YXRpYyByZWFkb25seSBfUFJPVklERVJfSUQgPSBcImV4Y2VsXCI7XG5cblx0LyoqXG5cdCAqIFRoZSBrZXkgdG8gdXNlIGZvciBhIHNoZWV0IG9wZW4gYWN0aW9uLlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9FWENFTF9QUk9WSURFUl9PUEVOX0tFWV9BQ1RJT04gPSBcIk9wZW4gRXhjZWxcIjtcblxuXHQvKipcblx0ICogVGhlIGludGVncmF0aW9uIGhlbHBlcnMuXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0cHJpdmF0ZSBfaW50ZWdyYXRpb25IZWxwZXJzOiBJbnRlZ3JhdGlvbkhlbHBlcnMgfCB1bmRlZmluZWQ7XG5cblx0LyoqXG5cdCAqIFRoZSBtb2R1bGUgZGVmaW5pdGlvbiBmb3IgdGhlIGludGVncmF0aW9uLlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHByaXZhdGUgX21vZHVsZURlZmluaXRpb246IEludGVncmF0aW9uPEV4Y2VsU2V0dGluZ3M+IHwgdW5kZWZpbmVkO1xuXG5cdC8qKlxuXHQgKiBUaGUgc2V0dGluZ3MgZm9yIHRoZSBpbnRlZ3JhdGlvbi5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIF9zZXR0aW5nczogRXhjZWxTZXR0aW5ncyB8IHVuZGVmaW5lZDtcblxuXHQvKipcblx0ICogVGhlIEV4Y2VsIGFwcGxpY2F0aW9uIGludGVyb3AuXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0cHJpdmF0ZSBfZXhjZWw6IEV4Y2VsQXBwbGljYXRpb24gfCB1bmRlZmluZWQ7XG5cblx0LyoqXG5cdCAqIFRoZSBpbnRlcm9wIGNsaWVudHMgZm9yIHRoZSBkaWZmZXJlbnQgY29udGV4dHMuXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0cHJpdmF0ZSBfaW50ZXJvcENsaWVudHM6IHsgW2lkOiBzdHJpbmddOiBPcGVuRmluLkludGVyb3BDbGllbnQgfTtcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZSB0aGUgbW9kdWxlLlxuXHQgKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgZGVmaW5pdGlvbiBvZiB0aGUgbW9kdWxlIGZyb20gY29uZmlndXJhdGlvbiBpbmNsdWRlIGN1c3RvbSBvcHRpb25zLlxuXHQgKiBAcGFyYW0gbG9nZ2VyQ3JlYXRvciBGb3IgbG9nZ2luZyBlbnRyaWVzLlxuXHQgKiBAcGFyYW0gaGVscGVycyBIZWxwZXIgbWV0aG9kcyBmb3IgdGhlIG1vZHVsZSB0byBpbnRlcmFjdCB3aXRoIHRoZSBhcHBsaWNhdGlvbiBjb3JlLlxuXHQgKiBAcmV0dXJucyBOb3RoaW5nLlxuXHQgKi9cblx0cHVibGljIGFzeW5jIGluaXRpYWxpemUoXG5cdFx0ZGVmaW5pdGlvbjogSW50ZWdyYXRpb248RXhjZWxTZXR0aW5ncz4sXG5cdFx0bG9nZ2VyQ3JlYXRvcjogKCkgPT4gdm9pZCxcblx0XHRoZWxwZXJzOiBJbnRlZ3JhdGlvbkhlbHBlcnNcblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dGhpcy5faW50ZWdyYXRpb25IZWxwZXJzID0gaGVscGVycztcblx0XHR0aGlzLl9tb2R1bGVEZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcblx0XHR0aGlzLl9zZXR0aW5ncyA9IGRlZmluaXRpb24uZGF0YTtcblxuXHRcdGNvbnN0IGJyb2tlckNsaWVudCA9IGZpbi5JbnRlcm9wLmNvbm5lY3RTeW5jKGZpbi5tZS5pZGVudGl0eS51dWlkLCB7fSk7XG5cdFx0Y29uc3QgY29udGV4dEdyb3VwcyA9IGF3YWl0IGJyb2tlckNsaWVudC5nZXRDb250ZXh0R3JvdXBzKCk7XG5cdFx0dGhpcy5faW50ZXJvcENsaWVudHMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IGNvbnRleHRHcm91cCBvZiBjb250ZXh0R3JvdXBzKSB7XG5cdFx0XHRjb25zdCBjb250ZXh0Q2xpZW50ID0gZmluLkludGVyb3AuY29ubmVjdFN5bmMoZmluLm1lLmlkZW50aXR5LnV1aWQsIHt9KTtcblx0XHRcdGF3YWl0IGNvbnRleHRDbGllbnQuam9pbkNvbnRleHRHcm91cChjb250ZXh0R3JvdXAuaWQpO1xuXHRcdFx0YXdhaXQgY29udGV4dENsaWVudC5hZGRDb250ZXh0SGFuZGxlcihhc3luYyAoY3R4KSA9PiB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuaGFuZGxlQ29udGV4dChjb250ZXh0R3JvdXAuaWQsIGN0eCk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuX2ludGVyb3BDbGllbnRzW2NvbnRleHRHcm91cC5pZF0gPSBjb250ZXh0Q2xpZW50O1xuXHRcdH1cblxuXHRcdGVuYWJsZUxvZ2dpbmcoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgbW9kdWxlIGlzIGJlaW5nIGRlcmVnaXN0ZXJlZC5cblx0ICogQHJldHVybnMgTm90aGluZy5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBjbG9zZWRvd24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Zm9yIChjb25zdCBjbGllbnQgaW4gdGhpcy5faW50ZXJvcENsaWVudHMpIHtcblx0XHRcdGF3YWl0IHRoaXMuX2ludGVyb3BDbGllbnRzW2NsaWVudF0ucmVtb3ZlRnJvbUNvbnRleHRHcm91cCgpO1xuXHRcdH1cblx0XHR0aGlzLl9pbnRlcm9wQ2xpZW50cyA9IHt9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFuIGVudHJ5IGhhcyBiZWVuIHNlbGVjdGVkLlxuXHQgKiBAcGFyYW0gcmVzdWx0IFRoZSBkaXNwYXRjaGVkIHJlc3VsdC5cblx0ICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCByZXNwb25zZS5cblx0ICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgaXRlbSB3YXMgaGFuZGxlZC5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBpdGVtU2VsZWN0aW9uKFxuXHRcdHJlc3VsdDogQ0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcblx0XHRsYXN0UmVzcG9uc2U6IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcblx0KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0aWYgKFxuXHRcdFx0cmVzdWx0LmFjdGlvbi5uYW1lID09PSBFeGNlbEludGVncmF0aW9uUHJvdmlkZXIuX0VYQ0VMX1BST1ZJREVSX09QRU5fS0VZX0FDVElPTiAmJlxuXHRcdFx0cmVzdWx0LmRhdGEud29ya2Jvb2sgJiZcblx0XHRcdHRoaXMuX2ludGVncmF0aW9uSGVscGVycy5sYXVuY2hBc3NldFxuXHRcdCkge1xuXHRcdFx0Y29uc3QgZXhjZWxBc3NldCA9IHJlc3VsdC5kYXRhIGFzIEV4Y2VsQXNzZXRTZXR0aW5ncztcblxuXHRcdFx0YXdhaXQgdGhpcy5faW50ZWdyYXRpb25IZWxwZXJzLmxhdW5jaEFzc2V0KHtcblx0XHRcdFx0YWxpYXM6IGV4Y2VsQXNzZXQud29ya2Jvb2tcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBleGNlbCA9IGF3YWl0IHRoaXMuZ2V0RXhjZWwoKTtcblx0XHRcdGlmIChleGNlbCkge1xuXHRcdFx0XHRjb25zdCB3b3JrYm9va3MgPSBhd2FpdCBleGNlbC5nZXRXb3JrYm9va3MoKTtcblx0XHRcdFx0Zm9yIChjb25zdCB3b3JrYm9vayBvZiB3b3JrYm9va3MpIHtcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gYXdhaXQgd29ya2Jvb2suZ2V0TmFtZSgpO1xuXHRcdFx0XHRcdGlmIChuYW1lID09PSBleGNlbEFzc2V0Lndvcmtib29rKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHdvcmtzaGVldFNldHRpbmdzIG9mIGV4Y2VsQXNzZXQud29ya3NoZWV0cykge1xuXHRcdFx0XHRcdFx0XHRjb25zdCB3b3Jrc2hlZXQgPSBhd2FpdCB3b3JrYm9vay5nZXRXb3Jrc2hlZXRCeU5hbWUod29ya3NoZWV0U2V0dGluZ3MubmFtZSk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHdvcmtzaGVldC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGFzeW5jIChjZWxscykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuaGFuZGxlQ2VsbENoYW5nZXMoZXhjZWxBc3NldCwgd29ya3NoZWV0U2V0dGluZ3MsIGNlbGxzKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgYSBsaXN0IG9mIHNlYXJjaCByZXN1bHRzIGJhc2VkIG9uIHRoZSBxdWVyeSBhbmQgZmlsdGVycy5cblx0ICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yLlxuXHQgKiBAcGFyYW0gZmlsdGVycyBUaGUgZmlsdGVycyB0byBhcHBseS5cblx0ICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCBzZWFyY2ggcmVzcG9uc2UgdXNlZCBmb3IgdXBkYXRpbmcgZXhpc3RpbmcgcmVzdWx0cy5cblx0ICogQHJldHVybnMgVGhlIGxpc3Qgb2YgcmVzdWx0cyBhbmQgbmV3IGZpbHRlcnMuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgZ2V0U2VhcmNoUmVzdWx0cyhcblx0XHRxdWVyeTogc3RyaW5nLFxuXHRcdGZpbHRlcnM6IENMSUZpbHRlcltdLFxuXHRcdGxhc3RSZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuXHQpOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT4ge1xuXHRcdGNvbnN0IHJlc3VsdHMgPSB0aGlzLl9zZXR0aW5ncz8uYXNzZXRzLm1hcCgoYSkgPT4gdGhpcy5jcmVhdGVSZXN1bHQoYSkpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3VsdHNcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIHNlYXJjaCByZXN1bHQuXG5cdCAqIEBwYXJhbSBleGNlbEFzc2V0IFRoZSBleGNlbCBkb2N1bWVudCBhc3NldCBhbGlhcy5cblx0ICogQHJldHVybnMgVGhlIHNlYXJjaCByZXN1bHQuXG5cdCAqL1xuXHRwcml2YXRlIGNyZWF0ZVJlc3VsdChleGNlbEFzc2V0OiBFeGNlbEFzc2V0U2V0dGluZ3MpOiBIb21lU2VhcmNoUmVzdWx0IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0a2V5OiBgZXhjZWwtJHtleGNlbEFzc2V0Lndvcmtib29rfWAsXG5cdFx0XHR0aXRsZTogZXhjZWxBc3NldC50aXRsZSxcblx0XHRcdGxhYmVsOiBcIkV4Y2VsXCIsXG5cdFx0XHRpY29uOiB0aGlzLl9tb2R1bGVEZWZpbml0aW9uLmljb24sXG5cdFx0XHRhY3Rpb25zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiBFeGNlbEludGVncmF0aW9uUHJvdmlkZXIuX0VYQ0VMX1BST1ZJREVSX09QRU5fS0VZX0FDVElPTixcblx0XHRcdFx0XHRob3RrZXk6IFwiRW50ZXJcIlxuXHRcdFx0XHR9XG5cdFx0XHRdLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRwcm92aWRlcklkOiBFeGNlbEludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxuXHRcdFx0XHQuLi5leGNlbEFzc2V0XG5cdFx0XHR9LFxuXHRcdFx0dGVtcGxhdGU6IENMSVRlbXBsYXRlLlNpbXBsZVRleHQsXG5cdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IGV4Y2VsQXNzZXQuZGVzY3JpcHRpb25cblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgZXhjZWwgYXBwbGljYXRpb24uXG5cdCAqIEByZXR1cm5zIFRoZSBhcHBsaWNhdGlvbi5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIGdldEV4Y2VsKCk6IFByb21pc2U8RXhjZWxBcHBsaWNhdGlvbj4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLl9leGNlbCA9IGF3YWl0IGdldEV4Y2VsQXBwbGljYXRpb24oKTtcblx0XHRcdHJldHVybiB0aGlzLl9leGNlbDtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIEV4Y2VsIGFwcGxpY2F0aW9uXCIsIGVycik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEhhbmRsZSB0aGUgY2VsbCBjaGFuZ2VzLlxuXHQgKiBAcGFyYW0gZXhjZWxBc3NldCBUaGUgYXNzZXQgdG8gdXNlIGZvciBwcm9jZXNzaW5nIHRoZSBjZWxsIGNoYW5nZXMuXG5cdCAqIEBwYXJhbSB3b3Jrc2hlZXROYW1lIFRoZSBhc3NldCB0byB1c2UgZm9yIHByb2Nlc3NpbmcgdGhlIGNlbGwgY2hhbmdlcy5cblx0ICogQHBhcmFtIGNlbGxzIFRoZSBjZWxscyB0aGF0IGhhdmUgY2hhbmdlZC5cblx0ICovXG5cdHByaXZhdGUgYXN5bmMgaGFuZGxlQ2VsbENoYW5nZXMoXG5cdFx0ZXhjZWxBc3NldDogRXhjZWxBc3NldFNldHRpbmdzLFxuXHRcdHdvcmtzaGVldDogRXhjZWxXb3Jrc2hlZXRTZXR0aW5ncyxcblx0XHRjZWxsczogQ2VsbFtdXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGlmICh3b3Jrc2hlZXQuY2VsbEhhbmRsZXJzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGNlbGwgb2YgY2VsbHMpIHtcblx0XHRcdFx0Y29uc3QgY2VsbEhhbmRsZXIgPSB3b3Jrc2hlZXQuY2VsbEhhbmRsZXJzLmZpbmQoKGMpID0+IGMuY2VsbCA9PT0gY2VsbC5hZGRyZXNzKTtcblxuXHRcdFx0XHRpZiAoY2VsbEhhbmRsZXIpIHtcblx0XHRcdFx0XHRjb25zdCBjbGllbnQgPSB0aGlzLl9pbnRlcm9wQ2xpZW50c1tjZWxsSGFuZGxlci5jb250ZXh0R3JvdXBdO1xuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGNsaWVudCAmJlxuXHRcdFx0XHRcdFx0KGNlbGxIYW5kbGVyLnR5cGVzLmluY2x1ZGVzKFwiaW5zdHJ1bWVudFwiKSB8fCBjZWxsSGFuZGxlci50eXBlcy5pbmNsdWRlcyhcImZkYzMuaW5zdHJ1bWVudFwiKSlcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGF3YWl0IGNsaWVudC5zZXRDb250ZXh0KHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJmZGMzLmluc3RydW1lbnRcIixcblx0XHRcdFx0XHRcdFx0aWQ6IHtcblx0XHRcdFx0XHRcdFx0XHR0aWNrZXI6IGNlbGwudmFsdWUsXG5cdFx0XHRcdFx0XHRcdFx0X3NvdXJjZTogYGV4Y2VsLiR7ZXhjZWxBc3NldC53b3JrYm9va30uJHt3b3Jrc2hlZXQubmFtZX1gXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBIYW5kbGUgYSBjb250ZXh0LlxuXHQgKiBAcGFyYW0gY29udGV4dEdyb3VwIFRoZSBncm91cCByZWNlaXZpbmcgdGhlIGNvbnRleHQuXG5cdCAqIEBwYXJhbSBjb250ZXh0IFRoZSBjb250ZXh0IGJlaW5nIHJlY2VpdmVkLlxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBoYW5kbGVDb250ZXh0KGNvbnRleHRHcm91cDogc3RyaW5nLCBjb250ZXh0OiBPcGVuRmluLkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAodGhpcy5fc2V0dGluZ3M/LmFzc2V0cykge1xuXHRcdFx0Y29uc3QgZXhjZWwgPSBhd2FpdCB0aGlzLmdldEV4Y2VsKCk7XG5cdFx0XHRpZiAoZXhjZWwpIHtcblx0XHRcdFx0Y29uc3Qgd29ya2Jvb2tzID0gYXdhaXQgZXhjZWwuZ2V0V29ya2Jvb2tzKCk7XG5cdFx0XHRcdGZvciAoY29uc3Qgd29ya2Jvb2sgb2Ygd29ya2Jvb2tzKSB7XG5cdFx0XHRcdFx0Y29uc3Qgd29ya2Jvb2tOYW1lID0gYXdhaXQgd29ya2Jvb2suZ2V0TmFtZSgpO1xuXG5cdFx0XHRcdFx0Y29uc3QgY29ubmVjdGVkV29ya2Jvb2sgPSB0aGlzLl9zZXR0aW5ncz8uYXNzZXRzLmZpbmQoKGEpID0+IGEud29ya2Jvb2sgPT09IHdvcmtib29rTmFtZSk7XG5cdFx0XHRcdFx0aWYgKGNvbm5lY3RlZFdvcmtib29rPy53b3Jrc2hlZXRzKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHdvcmtzaGVldFNldHRpbmdzIG9mIGNvbm5lY3RlZFdvcmtib29rLndvcmtzaGVldHMpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHdvcmtzaGVldFNldHRpbmdzLmNlbGxIYW5kbGVycykge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGluY29taW5nU291cmNlID0gYGV4Y2VsLiR7d29ya2Jvb2tOYW1lfS4ke3dvcmtzaGVldFNldHRpbmdzLm5hbWV9YDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbmNvbWluZ1NvdXJjZSAhPT0gY29udGV4dD8uaWQ/Ll9zb3VyY2UpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGNlbGxIYW5kbGVycyA9IHdvcmtzaGVldFNldHRpbmdzLmNlbGxIYW5kbGVycz8uZmlsdGVyKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoY2gpID0+IGNoLmNvbnRleHRHcm91cCA9PT0gY29udGV4dEdyb3VwICYmIGNoLnR5cGVzLmluY2x1ZGVzKGNvbnRleHQudHlwZSlcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGNlbGxIYW5kbGVyIG9mIGNlbGxIYW5kbGVycykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB3b3Jrc2hlZXQgPSBhd2FpdCB3b3JrYm9vay5nZXRXb3Jrc2hlZXRCeU5hbWUod29ya3NoZWV0U2V0dGluZ3MubmFtZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IGNlbGxWYWx1ZTogc3RyaW5nO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY29udGV4dC50eXBlID09PSBcImZkYzMuaW5zdHJ1bWVudFwiIHx8IGNvbnRleHQudHlwZSA9PT0gXCJpbnN0cnVtZW50XCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjZWxsVmFsdWUgPSBjb250ZXh0LmlkPy50aWNrZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNlbGxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgd29ya3NoZWV0LnNldENlbGxWYWx1ZXMoY2VsbEhhbmRsZXIuY2VsbCwgW1tjZWxsVmFsdWVdXSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBFeGNlbEludGVncmF0aW9uUHJvdmlkZXIgfSBmcm9tIFwiLi9pbnRlZ3JhdGlvbi1wcm92aWRlclwiO1xuXG5leHBvcnQgY29uc3QgZW50cnlQb2ludHM6IHsgW2lkOiBzdHJpbmddOiBFeGNlbEludGVncmF0aW9uUHJvdmlkZXIgfSA9IHtcblx0aW50ZWdyYXRpb25zOiBuZXcgRXhjZWxJbnRlZ3JhdGlvblByb3ZpZGVyKClcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=