var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function o(t){return function(t){return null!=t&&"string"==typeof t}(t)&&t.trim().length>0}function n(t){return void 0===t?void 0:JSON.parse(JSON.stringify(t))}t.d(e,{k:()=>s});const s={endpoint:new class{async initialize(t,e,o){this._logger=e("ExampleContextProcessorEndpoint"),this._logger.info("Was passed the following options",t.data)}async requestResponse(t,e){if("module"!==t.type)return this._logger?.warn(`We only expect endpoints of type module. Unable to action request/response for: ${t.id}`),{context:n(e?.context)};const s={context:n(e?.context)};if(this._logger?.info("This is an example of an endpoint that can process a context object that was passed to the broker and needs processing."),"org.dayofinterest"===e?.context?.type){t?.options?.logContext&&this._logger?.info(`Context Type ${e.context.type} matched. Incoming context:`,e.context);const n=e.context.id;if(n&&null!=n.date){const e=new Date(n.date);o(n.day)||(n.day=`${e.getDate()}`),o(n.month)||(n.month=`${e.getMonth()+1}`),o(n.year)||(n.year=`${e.getFullYear()}`),o(n.epoch)||(n.epoch=""+e.getTime()/1e3),o(n.utc)||(n.utc=`${e.toUTCString()}`),o(n.iso)||(n.iso=`${e.toISOString()}`),t?.options?.logContext&&this._logger?.info(`Context Type ${s.context.type} matched. Processed context:`,s.context)}else this._logger?.warn(`Unable to process ${e.context.type} as it did not have date as part of the id`)}return s}}};var r=e.k;export{r as entryPoints};
//# sourceMappingURL=example.context.processor.bundle.js.map