/******/ var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/salesforce/openfin.salesforce.js":
/*!****************************************************************!*\
  !*** ./node_modules/@openfin/salesforce/openfin.salesforce.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApiError": () => (/* binding */ o),
/* harmony export */   "AuthorizationError": () => (/* binding */ s),
/* harmony export */   "ConnectionError": () => (/* binding */ i),
/* harmony export */   "ObjectDataError": () => (/* binding */ a),
/* harmony export */   "ParameterError": () => (/* binding */ c),
/* harmony export */   "QueryError": () => (/* binding */ u),
/* harmony export */   "RestApiError": () => (/* binding */ l),
/* harmony export */   "SearchError": () => (/* binding */ f),
/* harmony export */   "WorkspaceError": () => (/* binding */ d),
/* harmony export */   "connect": () => (/* binding */ p),
/* harmony export */   "disableLogging": () => (/* binding */ h),
/* harmony export */   "enableLogging": () => (/* binding */ w),
/* harmony export */   "getConnection": () => (/* binding */ m)
/* harmony export */ });
var e={421:(e,t,r)=>{e.exports=r(448)},994:(e,t,r)=>{var n=r(446),o=r(322),s=r(58),i=r(982),a=r(63),c=r(541),u=r(497),l=r(988),f=r(242),d=r(14);e.exports=function(e){return new Promise((function(t,r){var p,h=e.data,w=e.headers,m=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(h)&&delete w["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";w.Authorization="Basic "+btoa(y+":"+b)}var x=a(e.baseURL,e.url);function E(){if(g){var n="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,s={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};o((function(e){t(e),v()}),(function(e){r(e),v()}),s),g=null}}if(g.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(E)},g.onabort=function(){g&&(r(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var k=(e.withCredentials||u(x))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;k&&(w[e.xsrfHeaderName]=k)}"setRequestHeader"in g&&n.forEach(w,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete w[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){g&&(r(!e||e&&e.type?new d("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),g.send(h)}))}},448:(e,t,r)=>{var n=r(446),o=r(962),s=r(495),i=r(149),a=function e(t){var r=new s(t),a=o(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(r(242));a.Axios=s,a.Cancel=r(14),a.CancelToken=r(543),a.isCancel=r(181),a.VERSION=r(474).version,a.all=function(e){return Promise.all(e)},a.spread=r(67),a.isAxiosError=r(726),e.exports=a,e.exports.default=a},14:e=>{function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},543:(e,t,r)=>{var n=r(14);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},181:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},495:(e,t,r)=>{var n=r(446),o=r(982),s=r(582),i=r(862),a=r(149),c=r(166),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new s,response:new s}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var f=[i,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(l),s=Promise.resolve(t);f.length;)s=s.then(f.shift(),f.shift());return s}for(var d=t;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{s=i(d)}catch(e){return Promise.reject(e)}for(;l.length;)s=s.then(l.shift(),l.shift());return s},l.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=l},582:(e,t,r)=>{var n=r(446);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},63:(e,t,r)=>{var n=r(452),o=r(123);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},988:(e,t,r)=>{var n=r(477);e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},862:(e,t,r)=>{var n=r(446),o=r(255),s=r(181),i=r(242),a=r(14);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},477:e=>{e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},149:(e,t,r)=>{var n=r(446);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||s,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}},322:(e,t,r)=>{var n=r(988);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},255:(e,t,r)=>{var n=r(446),o=r(242);e.exports=function(e,t,r){var s=this||o;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},242:(e,t,r)=>{var n=r(446),o=r(964),s=r(477),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(994)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u},474:e=>{e.exports={version:"0.26.0"}},962:e=>{e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},982:(e,t,r)=>{var n=r(446);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},123:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},58:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},452:e=>{e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},726:(e,t,r)=>{var n=r(446);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},497:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},964:(e,t,r)=>{var n=r(446);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},541:(e,t,r)=>{var n=r(446),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},67:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},166:(e,t,r)=>{var n=r(474).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,i){if(!1===e)throw new Error(o(n," has been removed"+(t?" in "+t:"")));return t&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,i)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],i=t[s];if(i){var a=e[s],c=void 0===a||i(a,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:o}},446:(e,t,r)=>{var n=r(962),o=Object.prototype.toString;function s(e){return Array.isArray(e)}function i(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)f(arguments[n],r);return t},extend:function(e,t,r){return f(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{r.d(n,{MS:()=>o,M_:()=>s,hY:()=>i,G4:()=>a,_W:()=>c,o:()=>u,C3:()=>f,fB:()=>l,if:()=>d,$j:()=>T,U$:()=>w,U7:()=>m,B5:()=>$});var e=r(421),t=r.n(e);class o extends Error{constructor(e="An unexpected error has occurred",t){var r;super(e),t&&(this.innerError=t&&t),this.stack=null===(r=this.stack)||void 0===r?void 0:r.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class s extends o{constructor(e="Unable to authorize connection to Salesforce",t){var r,n,o;super(e,t),t&&t.isAxiosError&&(t.message=null!==(o=null===(n=null===(r=t.response)||void 0===r?void 0:r.data)||void 0===n?void 0:n.error_description)&&void 0!==o?o:t.message)}}class i extends o{constructor(e="Not connected to Salesforce",t){super(e,t)}}class a extends o{constructor(e="Retrieve Salesforce object data failed",t){super(e,t)}}class c extends o{constructor(e="Invalid parameter detected",t){super(e,t)}}class u extends o{constructor(e="Execute Salesforce query failed",t){super(e,t)}}class l extends o{constructor(e="Unable to retrieve search results from Salesforce",t){super(e,t)}}class f extends o{constructor(e,t="Execute Salesforce REST API request failed"){var r,n,o,s,i;super(t,null!=e?e:void 0),this.restApiErrorCode="",this.restApiErrorDescription="",this.restApiResponseStatus=void 0;const a=e;if(null==a?void 0:a.isAxiosError){if(this.restApiResponseStatus=null===(r=a.response)||void 0===r?void 0:r.status,!(null===(o=null===(n=a.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.length))return;const e=null===(i=null===(s=a.response)||void 0===s?void 0:s.data)||void 0===i?void 0:i[0];if(e){const{errorCode:t,message:r}=e;this.restApiErrorCode=t,this.restApiErrorDescription=r}}}}class d extends o{constructor(e="An unexpected error occurred",t){super(e,t)}}let p=!1;const h="[@openfin/salesforce]",w=()=>{p=!1},m=()=>{p=!0,g("v2.1.3")},v=e=>{if(p&&(e.innerError?console.error(h,e,"\n\n(inner)",e.innerError):console.error(h,e),e instanceof f)){const{restApiErrorCode:t,restApiErrorDescription:r}=e;if(r){const e=r.replace(/\n/g," ").trim(),n=t?`${t}: ${e}`:e;console.warn(h,n)}}},g=(...e)=>{p&&console.log(h,...e)},y=(...e)=>{p&&console.warn(h,...e)};window.fin||Object.assign(window,{fin:{}}),Object.assign(window.fin,{Integrations:{Salesforce:{enableLogging:m,disableLogging:w}}});const b="54.0",x=/vXX\.X/i,E=e=>(Array.isArray(e)?e:Object.entries(e)).reduce(((e,t)=>{const r=Array.isArray(e)?t:t[1];let n;switch(!0){case null==r:n=r;break;case"string"==typeof r:n=r.replace(x,"v54.0");break;case Array.isArray(r):case"object"==typeof r:n=E(r);break;default:n=r}return Array.isArray(e)?e.push(n):e[t[0]]=n,e}),Array.isArray(e)?[]:{}),k="salesforce-auth",S="https://login.salesforce.com/services/oauth2/success",A=(e,t,r)=>{e.accessToken&&window.localStorage.setItem(_(t,r),e.accessToken),e.refreshToken&&window.localStorage.setItem(L(t,r),e.refreshToken)},T=async(e,t,r=!1)=>{let n;try{n=new URL(e).origin}catch(e){throw new c("Invalid Salesforce URL")}if(!/salesforce.com$/i.test(n))throw new c("Invalid Salesforce URL");if(void 0===(null!=t?t:void 0)||""===t.trim())throw new c("Consumer key not provided");g(`Connecting to ${n} using key ${t}`);const o=await $(e,t);if(o)return o;g("No existing connection found, starting auth flow");const a=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===k));a&&await a.close(!0);const u=r?"https://test.salesforce.com":"https://login.salesforce.com",l=(new Date).getTime().toString(),f=j(),d=await O(f),p=`${u}/services/oauth2/authorize?\n    client_id=${t}&\n    redirect_uri=${S}&\n    response_type=code&\n    scope=api+refresh_token&\n    state=${l}&\n    code_challenge=${d}&\n    display=popup&\n    prompt=select_account\n    `.replace(/\s/g,""),h=await fin.Window.create({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:700,defaultWidth:600,includeInSnapshots:!1,name:k,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:p}),w=await new Promise(((e,t)=>{let r;const n=window.setTimeout((()=>{window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners(),h.close(!0);const e=new s("Authorization timed out");v(e),t(e)}),3e5);h.addListener("closing",(async()=>{g("User closed auth window"),window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners();const e=new s("Failed to complete authorization");v(e),t(e)})),r=window.setInterval((()=>(async(e,t,r,n,o,i)=>{let a;try{a=await e.getInfo()}catch(e){window.clearInterval(t),window.clearTimeout(r);const n=new s("Could not locate oauth flow window");return v(n),i(n)}const c=new URL(a.url);if(0===new URL(a.url).href.toLowerCase().indexOf(S.toLowerCase())){if(window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0),c.searchParams.get("state")!==n){const e=new s("State mismatch");return v(e),i(e)}const a=c.searchParams.get("code");if(!a){const e=new s("Authorization code missing");return v(e),i(e)}return g("Authorization code received"),o(a)}const u=await e.executeJavaScript("window.document.body.innerText"),l=new URLSearchParams(u).get("error_description");if(l){window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0);const n=l[0].toUpperCase()+l.slice(1),o=new s(n);v(o),i(o)}else await e.isShowing()||(g("Showing auth window"),await e.show(!0),await e.focus())})(h,r,n,l,e,t)),500)})),m=await R(w,f,n,t);if(g("Checking connection with new access token"),!await D(m.accessToken,n)){const e=new i("Invalid Salesforce org URL or access token");throw v(e),e}return g("Connection established"),A(m,n,t),{consumerKey:t,disconnect:C(n,t),getAuthTokens:()=>U(n,t),orgUrl:n,executeApiRequest:P(n,t)}},C=(e,r)=>async()=>{g("Disconnecting from Salesforce");let n=window.localStorage.getItem(L(e,r));if(n)g("Revoking refresh token");else{if(n=window.localStorage.getItem(_(e,r)),!n)return void g("No tokens found in storage");g("Revoking access token")}try{await t().get(`${e}/services/oauth2/revoke?token=${n}`)}catch(e){y("Failed to revoke tokens",null==e?void 0:e.message)}B(e,r)},R=async(e,r,n,o)=>{g("Exchanging auth code for tokens");const i=`${n}/services/oauth2/token`,a=`\n    grant_type=authorization_code&\n    client_id=${o}&\n    code=${e}&\n    code_verifier=${r}&\n    redirect_uri=${S}\n    `.replace(/\s/g,"");let c;try{c=(await t().post(i,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){const t=new s("Failed to exchange authorization code for auth tokens",e);throw v(t),t}const{access_token:u,refresh_token:l}=c;if(!u||!l)throw new s("Missing access token or refresh token during code exchange");return g("Tokens received"),{accessToken:u,refreshToken:l}},O=async e=>{const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(r)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+\$/,"")},j=()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.substr(-2))).join("")},_=(e,t)=>`access-token_#_${new URL(e).hostname}_#_${t}`,U=(e,t)=>({accessToken:window.localStorage.getItem(_(e,t)),refreshToken:window.localStorage.getItem(L(e,t))}),$=async(e,t)=>{let r;if(g("Checking for existing connection"),!e||!t)return null;try{r=new URL(e).origin}catch(e){return null}const{accessToken:n}=U(r,t);if(!n)return null;if(!await D(n,r))try{await I(r,t)}catch(e){return null}return g(`Connection exists to ${e}`),{consumerKey:t,disconnect:C(r,t),getAuthTokens:()=>U(r,t),orgUrl:r,executeApiRequest:P(r,t)}},P=(e,r)=>async(n,o,s,a,u)=>{const{accessToken:l}=U(e,r);if(!l){const e=new i;throw v(e),e}const d=r=>(async(e,r,n,o="GET",s={},i={},a=!0)=>{var u,l;if(!n)throw new c("API endpoint not provided");let d;if(n=(l=n).startsWith("/")?l:`/${l}`,/^\/services\/data\//i.test(n)){const e=null===(u=/\/v(\w{2}\.\w)\//.exec(n))||void 0===u?void 0:u[1];if(!e)throw new f(null,"REST API version not specified");x.test(n)?n=n.replace(e,b):e!==b&&y(`Requested REST API version (${e}) is different to the current supported version (54.0). Using an API version other than current supported version may cause errors.`),d=new RegExp("/services/data/v54.0/composite","i").test(n)?E(s):s}else d=s;g(`Executing ${o.toUpperCase()} API request to ${n}`,d,i),a&&Object.assign(i,{Authorization:`Bearer ${r}`});try{let r;switch(o.toUpperCase()){case"DELETE":r=await t().delete(`${e}${n}`,{headers:i});break;case"GET":r=await t().get(`${e}${n}`,{headers:i});break;case"HEAD":r=await t().head(`${e}${n}`,{headers:i});break;case"PATCH":r=await t().patch(`${e}${n}`,s,{headers:i});break;case"POST":r=await t().post(`${e}${n}`,d,{headers:i});break;default:throw new f(null,"Invalid HTTP method")}return{data:r.data,status:r.status}}catch(e){if(e instanceof f)throw e;throw new f(e)}})(e,r,n,o,s,a,u);let p;try{p=await d(l)}catch(t){if(!(t instanceof f))throw v(t),t;return await N(t,e,r,l,d)}return p},L=(e,t)=>`refresh-token_#_${new URL(e).hostname}_#_${t}`,N=async(e,t,r,n,o)=>{if(v(e),await q(e,t,n))try{const e=await I(t,r);return g("Retrying request"),await o(e.accessToken)}catch(e){throw v(e),e}throw e},I=async(e,r)=>{var n,o;const{refreshToken:s}=U(e,r);if(!s)throw B(e,r),new i("No refresh token available");g("Refreshing access token");const a=`${e}/services/oauth2/token`,c=`\n    grant_type=refresh_token&\n    client_id=${r}&\n    refresh_token=${s}\n    `.replace(/\s/g,"");let u;try{u=(await t().post(a,c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(t){const s=null===(o=null===(n=t.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.error_description,a="Failed to refresh access token";throw g(s?`${a}: ${s}`:a),B(e,r),new i(a)}const{access_token:l}=u;if(!l)throw new i("Missing access token after refreshing");const f={accessToken:l,refreshToken:s};return A(f,e,r),f},B=(e,t)=>{window.localStorage.removeItem(_(e,t)),window.localStorage.removeItem(L(e,t))},q=async(e,t,r)=>{var n;return("Network Error"===(null===(n=e.innerError)||void 0===n?void 0:n.message)||"Network Error"===e.message)&&!await D(r,t)},D=async(e,r)=>{try{await t().get(`${r}/services/oauth2/userinfo?oauth_token=${e}`)}catch(e){return!1}return!0}})();var o=n.MS,s=n.M_,i=n.hY,a=n.G4,c=n._W,u=n.o,l=n.C3,f=n.fB,d=n.if,p=n.$j,h=n.U$,w=n.U7,m=n.B5;

/***/ }),

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>ze.Pt,CLIFilterOptionType:()=>ze.el,CLITemplate:()=>ze.yW,deregister:()=>Ye,hide:()=>tt,register:()=>Qe,show:()=>et});var r={};n.r(r),n.d(r,{subscribe:()=>oe});var o={};n.r(o),n.d(o,{create:()=>Ge});var i=n(6532),s=n(7405);const a="home";var c;!function(e){e.Commands="home-commands"}(c||(c={}));var d,u=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(d||(d={}));const f="all",l="0",p="5",g="6",w=()=>{};function h(e,t){return e?`${e}-${t}`:t}function y(e){return`__search-${e}-topic__`}const v=new Map;function m(e,t){v.has(e)||v.set(e,new Set),v.get(e).add(t)}function S(e,t){const n=v.get(e);n&&n.delete(t)}const C=new Map;function P(e,t){C.has(e)||C.set(e,new Set),C.get(e).add(t)}function R(e,t){const n=C.get(e);n&&n.delete(t)}const b=new Map;async function T(e,t){b.has(e)||b.set(e,new Map),b.get(e).set(t.id,t);const n=v.get(e);if(!n)return;const r=[...n].map((e=>e()));await Promise.all(r)}async function I(e,t){const n=b.get(e);if(!n)return;n.delete(t);const r=C.get(e);if(!r)return;const o=[...r].map((e=>e()));await Promise.all(o)}function L(e){return b.get(e)?[...b.get(e).values()]:[]}function k(e){const t=b.get(e);t&&t.clear()}function M(e,t){const n=b.get(e);return n?n.get(t):null}function B(e,t,n){return{...e,action:n||e.actions[0],dispatcherIdentity:t}}function O(e,t,n="ascending"){const r=e||[];if(!t?.length)return r;const o=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);o.push(e)}));let s=r.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...o),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function W(e){const t={};let n=[];let r=[];let o=d.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>r,t.setRevokedBuffer=e=>{r=e,r?.length&&t.onChange()},t.onChange=w;const i={};return t.res=i,i.close=()=>{o!==d.Close&&(o=d.Close,t.onChange())},i.open=()=>{o!==d.Open&&(o=d.Open,t.onChange())},i.respond=n=>{const r=O(t.getResultBuffer(),n,e);t.setResultBuffer(r)},i.revoke=(...e)=>{const n=new Set(e),r=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(r),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function D(e,t,n){const r=new Set;let o=!1;return{close:()=>{o=!0;for(const e of r)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{r.add(e),o&&e()},removeListener:e=>{r.delete(e)}}}}function x(){return{name:fin.me.name,uuid:fin.me.uuid}}function A(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const E="deregistered or does not exist",F=new Error(`provider ${E}`),_=new Error("provider with name already exists"),$=new Error("bad payload"),q=new Error("subscription rejected"),G=new Error(`channel ${E}`),N=new Map;function H(e){const t=U(e);if(t)return t;throw G}function U(e){const t=N.get(e);if(t)return t}function V(e,t){N.set(e,t)}const j=new Map;function K(e){j.has(e)||j.set(e,new Map);const t=j.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function X(e,t){return(await H(e)).dispatch(l,t)}function J({namespacedTopic:e,topic:t}){const n=M.bind(null,e),r=K(e),o=X.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=$;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=F;return{error:e.message}}const d=r.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=D(t,s,e),d.set(e.id,u));const f=W(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();o({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function Z(e,t,n){const r=n||await H(e),o=x(),i={identity:o,...t,onUserInput:void 0,onResultDispatch:void 0};await r.dispatch("2",i),await T(e,{identity:o,...t})}async function z(e,t){const n=await H(e);return await n.dispatch("3",t),I(e,t)}async function Q(e,t,n,r){const o=B(n,x(),r),i=M(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(o)}const s={providerId:t,result:o};return(await H(e)).dispatch(p,s)}async function Y(e,t){const n={...t,context:t?.context||{}},r={},o=async function*(e,t,{setState:n}){const r=await H(e);for(;;){const e=await r.dispatch("1",t),o=e.error;if(o)throw new Error(o);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{r.state=e}});let i=await o.next();return r.id=n.id,r.close=()=>{!async function(e,t){(await H(e)).dispatch(g,{id:t})}(e,r.id)},r.next=()=>{if(i){const e=i;return i=void 0,e}return o.next()},r}async function ee(e){return(await H(e)).dispatch("4",null)}async function te(e){const t=await H(e);var n;n=e,N.delete(n),k(e),await t.disconnect()}function ne(e){const{namespacedTopic:t}=e,n=K(t);return async r=>{if(!U(t))return;const o=n.getRequestsForIdentity(r);for(const{req:e,close:t}of o.values())t(),o.delete(e.id);V(t,(async e=>{const{namespacedTopic:t}=e,n=await re(e);for(const e of L(t))await Z(t,e,n);return n})(e))}}async function re(e){const{namespacedTopic:t}=e,n=y(t),r=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return r.register(l,J(e)),r.register(g,function(e){const t=K(e);return(e,n)=>{const r=t.getRequestsForIdentity(n),o=r.get(e.id);o&&(o.close(),r.delete(e.id))}}(t)),r.register(p,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)return;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r.onDisconnection(ne(e)),r}async function oe(e){const t=("string"==typeof e?e:e?.topic)||f,n=("string"==typeof e?null:e?.uuid)||A(),r=h(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=U(r);return i||(i=re(o),V(r,i),await i),{getAllProviders:ee.bind(null,r),register:Z.bind(null,r),search:Y.bind(null,r),deregister:z.bind(null,r),dispatch:Q.bind(null,r),disconnect:te.bind(null,r)}}const ie=new Map;function se(e){const t=ae(e);if(t)return t;throw G}function ae(e){const t=ie.get(e);if(t)return t}const ce=new Map;function de(e,t){ce.has(e)||ce.set(e,new Set),ce.get(e).add(t)}function ue(e,t){const n=ce.get(e);n&&n.delete(t)}var fe=n(5316);function le(e){return[...L(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function pe(e,t){if(M(e,t.id))throw new Error("provider with name already exists");const n=x();await T(e,{identity:n,...t})}function ge(e,t){I(e,t)}async function we(e,t,n,r){const o=M(e,t);if(!o)throw F;const{onResultDispatch:i}=o;if(!i)return;return i(B(n,x(),r))}async function*he(e,t,n){const r=function(e,t){const n=[],r=[],o=[],i=[];for(const s of e){const e=W(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon}};n.push(a),r.push(e);const c=(async()=>{try{const{results:n,context:r}=await s.onUserInput(t,e.res);a.results=O(a.results,n),a.context={...a.context,...r}}catch(e){a.error=e}c.done=!0})();i.push(c),o.push(o.length)}return{providerResponses:n,listenerResponses:r,openListenerResponses:o,initialResponsePromises:i}}(t.targets?t.targets.map((t=>M(e,t))).filter((e=>!!e)):[...L(e).filter((e=>!e.hidden))],t),{providerResponses:o,listenerResponses:i}=r;let{openListenerResponses:s,initialResponsePromises:a}=r,c=fe.D.Fetching;const u=e=>{c=e,n.setState(c)};let f,l=!1;t.onClose((()=>{l=!0,f&&f()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(fe.D.Fetched),e=!0)}let t,n=!1;const r=()=>{n=!0,t&&t()},p=[];for(const t of s){const n=i[t],s=o[t],a=n.getStatus();(a===d.Open||c===fe.D.Fetching&&a===d.Initial)&&(p.push(t),n.onChange=r);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=O(s.results,u),e=!0);const f=n.getRevokedBuffer();if(f.length){n.setRevokedBuffer([]);const t=new Set(f);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=p,e&&(yield o),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{f=e}))])}while(s.length||a.length);return u(fe.D.Complete),o}let ye=0;function ve({namespacedTopic:e,topic:t},n){ye+=1;const r=D(t,ye.toString(),n),o=he(e,r.req,{setState:e=>{o.state=e}});return o.id=ye.toString(),o.close=r.close,o.state=fe.D.Fetching,o}const me=new Map;function Se(e,t){return`${e}:${t}`}function Ce(e){return async(t,...n)=>{if(!t)return{error:$.message};let r;if(t.id)r=Se(e.namespacedTopic,t.id);else{const n=ve(e,t);r=Se(e.namespacedTopic,n.id),t.id=n.id,me.set(r,{generator:n})}const o=me.get(r);clearTimeout(o.timeout);const i=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{me.delete(e)}),1e4)}(r),{...i,id:t.id,state:o.generator.state}}}function Pe(e,t,n){return se(e).dispatch(t,g,{id:n})}function Re(e){return t=>function(e,t){const n=Se(e,t),r=me.get(n);r&&r.generator.close()}(e,t.id)}async function be(e,t,{id:n,query:r,context:o,targets:i}){const s=se(e),a={id:n,query:r,context:o,targets:i,providerId:t.id},c=await s.dispatch(t.identity,l,a),d=c.error;if(d)throw new Error(d);return c}const Te=new Map;function Ie(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Le=new Map;function ke(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Ie.bind(null,e,t.identity),r=Pe.bind(null,e,t.identity),o=be.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!Te.has(a)){const e=()=>{r(i.id),Te.delete(a)};Te.set(a,e),i.onClose(e)}const c=ke(e,t.id,i.id),u=()=>{Le.delete(c),s.close()};i.onClose(u),Le.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===d.Open&&s.open(),e.status===d.Close&&u()}));const f=await o(i);return f.status===d.Open&&s.open(),f.status!==d.Close&&f.status!==d.Initial||u(),f}}function Be(e,t){return async n=>{const r=se(e),o={providerId:t.id,result:n};return r.dispatch(t.identity,p,o)}}const Oe=new Map;function We(e,t){return`${e}-${t.name}-${t.uuid}`}function De(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(M(e,t.id))throw _;t.identity=n,await async function(e,t){const n=We(e,t.identity);Oe.has(n)||Oe.set(n,[]),Oe.get(n).push(t.id),await T(e,{...t,onUserInput:Me(e,t),onResultDispatch:Be(e,t)})}(e,t)}}function xe(e){return t=>{t&&function(e,t){const n=M(e,t);if(!n)return;const r=We(e,n.identity),o=Oe.get(r);if(o){const n=o.findIndex((e=>e===t));-1!==n&&(o.splice(n,1),I(e,t))}}(e,t)}}const Ae=new Map;function Ee(e,t){Ae.has(e)||Ae.set(e,new Set),Ae.get(e).add(t)}function Fe(e,t){const n=Ae.get(e);n&&n.delete(t)}function _e(e){return async t=>{!function(e,t){const n=We(e,t),r=Oe.get(n);if(r){for(const t of r)I(e,t);Oe.delete(n)}}(e,t);const n=Ae.get(e);n&&n.forEach((e=>e(t)))}}async function $e(e){const{namespacedTopic:t}=e,n=y(e.namespacedTopic),r=await(o=n,fin.InterApplicationBus.Channel.create(o));var o;return r.onConnection(function({namespacedTopic:e}){return async t=>{const n=ce.get(e);if(n)for(const e of n)if(!await e(t))throw q}}(e)),r.onDisconnection(_e(t)),r.register(g,Re(t)),r.register(l,function(e){return t=>{const n=ke(e,t.providerId,t.id),r=Le.get(n);r&&r(t)}}(t)),r.register("2",De(t)),r.register("3",xe(t)),r.register("4",function(e){return async()=>le(e)}(t)),r.register("1",Ce(e)),r.register(p,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)throw F;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r}async function qe(e){const t=se(e);var n;n=e,ie.delete(n),await t.destroy(),k(e)}async function Ge(e){const t=("string"==typeof e?e:e?.topic)||f,n=A(),r=h(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=ae(r);i||(i=await $e(o),function(e,t){ie.set(e,t)}(r,i));const s=ue.bind(null,r),a=Fe.bind(null,r),c=S.bind(null,r),d=R.bind(null,r);return{getAllProviders:le.bind(null,r),search:ve.bind(null,o),register:pe.bind(null,r),deregister:ge.bind(null,r),onSubscription:de.bind(null,r),onDisconnect:Ee.bind(null,r),onRegister:m.bind(null,r),onDeregister:P.bind(null,r),dispatch:we.bind(null,o),disconnect:qe.bind(null,r),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ne}=o,{subscribe:He}=r,Ue={create:Ne,subscribe:He,defaultTopic:"all"},Ve=()=>{const e=window;e.search=Ue,e.fin&&(e.fin.Search=Ue)},je=e=>{const t=()=>{Ve(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ve();const e="load",t=je(e);window.addEventListener(e,t);const n="DOMContentLoaded",r=je(n);window.addEventListener(n,r)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await He({topic:e,uuid:u.q9.Workspace}))}(a)}let Je;async function Ze(e){return await async function(){return Je||(Je=Xe()),Je}(),Ke.get(e)}var ze=n(3758);const Qe=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,s.aB)();const t=await Ze(a);try{const n=await t.register(e);return(0,i.ck)({allowed:!0}),n}catch(e){throw(0,i.ck)({allowed:!1,rejectionCode:e.message}),e}},Ye=async e=>{await(0,s.aB)();return(await Ze(a)).deregister(e)};async function et(){return(await(0,s.Xl)()).dispatch(s.Ml.ShowHome,void 0)}async function tt(){return(await(0,s.Xl)()).dispatch(s.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>r.w});var r=n(5316)},3758:(e,t,n)=>{var r,o,i;n.d(t,{Pt:()=>r,yW:()=>o,el:()=>i}),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var r,o;n.d(t,{L:()=>r,T:()=>o}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(o||(o={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>r,Go:()=>o,bI:()=>i,ZJ:()=>s});const r={Container:"Container",Button:"Button"},o={Text:"Text",Image:"Image",List:"List"},i={...r,...o};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>i.L,StorefrontTemplate:()=>i.T,deregister:()=>f,hide:()=>l,register:()=>u,show:()=>p});var r=n(6532),o=n(7405);n(7564);var i=n(6114);let s;const a=new Map,c=e=>{if(!a.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return a.get(e)},d=async e=>{const t=await(0,o.Xl)();if(a.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return a.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(o.Ml.GetStorefrontProviderApps,(e=>c(e).getApps())),e.register(o.Ml.GetStorefrontProviderFooter,(e=>c(e).getFooter())),e.register(o.Ml.GetStorefrontProviderLandingPage,(e=>c(e).getLandingPage())),e.register(o.Ml.GetStorefrontProviderNavigation,(e=>c(e).getNavigation())),e.register(o.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>c(e).launchApp(t))))})(t),t.dispatch(o.Ml.RegisterStorefrontProvider,e)},u=e=>(s=d(e),(0,r.d9)({allowed:!0}),s),f=async e=>{await s,a.delete(e);return(await(0,o.Xl)()).dispatch(o.Ml.DeregisterStorefrontProvider,e)},l=async()=>{await s,await(0,o.aB)(),await(async()=>(await(0,o.Dm)()).dispatch(o.Ml.HideStorefront,void 0))()},p=async()=>{await s,await(0,o.aB)(),await(async()=>(await(0,o.Dm)()).dispatch(o.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var r=n(6678);const o=r.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!r.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await o;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),fin.System.openUrlWithBrowser(d(r.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>r});var r,o,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(r||(r={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,r.Workspace,r.Workspace},6678:(e,t,n)=>{var r;n.d(t,{sS:()=>o,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f,u0:()=>p}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(r||(r={}));const o="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:r.Local,a=o&&fin.me.uuid,c=o&&fin.me.name,d=(o&&fin.me.entityType,"prod"===r.Local),u=(r.Dev,r.Staging,r.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/7.3.7/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,p=(l("https://cdn.openfin.co/workspace/7.3.7"),l("https://cdn.openfin.co/workspace/7.3.7"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"7.3.7")},6532:(e,t,n)=>{n.d(t,{ck:()=>a,d9:()=>c});var r,o=n(6678),i=n(121);!function(e){e.Browser="Browser",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(r||(r={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||o.u0,componentName:e,componentVersion:o.u0,...t};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(r.Home,e)},c=async e=>{s(r.Storefront,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>c,OI:()=>d,iW:()=>u,JV:()=>f});var r,o,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(r||(r={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(o||(o={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const c={name:s.oC,uuid:s.AB};const d={name:r.Home,uuid:i.q9.Workspace},u=(r.Dock,i.q9.Workspace,r.Storefront,i.q9.Workspace,{name:i.q9.Workspace,uuid:i.q9.Workspace});const f=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var r,o;n.d(t,{D:()=>r,w:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>o,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,o=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=r})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/salesforce/integration-provider.ts":
/*!********************************************************************!*\
  !*** ./client/src/integrations/salesforce/integration-provider.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SalesForceIntegrationProvider": () => (/* binding */ SalesForceIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/salesforce */ "./node_modules/@openfin/salesforce/openfin.salesforce.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);


/**
 * Implement the integration provider for SalesForce.
 */
class SalesForceIntegrationProvider {
    /**
     * The module is being registered.
     * @param integrationManager The manager for the integration.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async register(integrationManager, integration) {
        this._integrationManager = integrationManager;
        console.log("Registering SalesForce");
        try {
            await this.openConnection(integration);
        }
        catch (err) {
            console.error("Error connecting to SalesForce", err);
        }
    }
    /**
     * The module is being deregistered.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async deregister(integration) {
        await this.closeConnection();
    }
    /**
     * Get a list of the static application entries.
     * @param integration The integration details.
     * @returns The list of application entries.
     */
    async getAppSearchEntries(integration) {
        const results = [];
        if (integration?.data?.orgUrl) {
            results.push({
                actions: [{ name: "Browse", hotkey: "enter" }],
                data: {
                    providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                    pageUrl: integration?.data?.orgUrl,
                    tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                },
                icon: integration.icon,
                key: SalesForceIntegrationProvider._BROWSE_SEARCH_RESULT_KEY,
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Plain,
                templateContent: undefined,
                title: "Browse Salesforce"
            });
            if (!this._salesForceConnection) {
                results.push(this.getReconnectSearchResult(integration));
            }
        }
        return results;
    }
    /**
     * An entry has been selected.
     * @param integration The integration details.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(integration, result, lastResponse) {
        // if the user clicked the reconnect result, reconnect to salesforce and re-run query
        if (result.key === SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY) {
            await this.openConnection(integration);
            if (result.data?.query) {
                const results = await this.getSearchResults(integration, result.data?.query, result.data?.filters, lastResponse);
                if (lastResponse) {
                    lastResponse.revoke(SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY);
                    lastResponse.respond(results.results);
                }
            }
            return true;
        }
        // otherwise open the result page url in browser
        const data = result.data;
        if (data !== undefined && this._integrationManager && this._integrationManager.rootUrl && this._integrationManager.launchView) {
            const preload = `${this._integrationManager.rootUrl}/views/salesforce/preload.js`;
            const viewOptions = {
                url: data.pageUrl,
                fdc3InteropApi: "1.2",
                interop: {
                    currentContextGroup: "green"
                },
                customData: { buttonLabel: "Process Participant" },
                preloadScripts: [{ url: preload }],
                target: { name: "", url: "", uuid: "" }
            };
            await this._integrationManager.launchView(viewOptions);
            return true;
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param integration The integration details.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(integration, query, filters, lastResponse) {
        if (this._salesForceConnection) {
            let searchResults;
            let selectedObjects = [];
            if (Array.isArray(filters) && filters.length > 0) {
                const objectsFilter = filters.find(x => x.id === SalesForceIntegrationProvider._OBJECTS_FILTER_ID);
                if (objectsFilter) {
                    selectedObjects = (Array.isArray(objectsFilter.options) ? objectsFilter.options : [objectsFilter.options])
                        .filter(x => Boolean(x.isSelected))
                        .map(x => (x.value === "Note" ? "ContentNote" : x.value));
                }
            }
            try {
                searchResults = await this.getApiSearchResults(query, selectedObjects);
                const results = searchResults.map(searchResult => {
                    if ("Website" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Name,
                            icon: integration?.data?.iconMap.account,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.Name,
                                title: searchResult.Industry,
                                details: [
                                    [
                                        ["Phone", searchResult.Phone],
                                        ["Type", searchResult.Type],
                                        ["Website", searchResult.Website]
                                    ]
                                ]
                            }
                        };
                    }
                    else if ("Email" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Name,
                            icon: integration?.data?.iconMap.contact,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.Name,
                                title: searchResult.Title,
                                useInitials: true,
                                details: [
                                    [
                                        ["Department", searchResult.Department],
                                        ["Email", searchResult.Email],
                                        ["Work #", searchResult.Phone]
                                    ]
                                ]
                            }
                        };
                    }
                    else if ("Description" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Subject,
                            icon: integration?.data?.iconMap.task,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: "List",
                            templateContent: [
                                ["Subject", searchResult.Subject],
                                ["Comments", searchResult.Description]
                            ]
                        };
                    }
                    else if ("TextPreview" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: "Note",
                            key: searchResult.Id,
                            title: searchResult.Title,
                            icon: integration?.data?.iconMap.note,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: "List",
                            templateContent: [
                                ["Title", searchResult.Title],
                                ["Content", searchResult?.TextPreview]
                            ]
                        };
                    }
                    else if ("actor" in searchResult &&
                        (searchResult.type === "TextPost" || searchResult.type === "ContentPost")) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: "Chatter",
                            key: searchResult.id,
                            title: searchResult.actor?.displayName,
                            icon: integration?.data?.iconMap.chatter,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.actor?.displayName,
                                useInitials: true,
                                details: [
                                    [
                                        ["Header", searchResult?.header?.text],
                                        ["Note", searchResult?.body?.text]
                                    ]
                                ]
                            }
                        };
                    }
                    // in this case we are only searching for accounts, contacts, tasks, content notes and chatter
                });
                const filteredResults = results.filter(Boolean);
                // eslint-disable-next-line no-confusing-arrow
                const objects = searchResults.map(result => "attributes" in result ? result.attributes.type : "Chatter");
                return {
                    results: filteredResults,
                    context: {
                        filters: this.getSearchFilters(objects.map(c => (c === "ContentNote" ? "Note" : c)))
                    }
                };
            }
            catch (err) {
                await this.closeConnection();
                if (err instanceof _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.ConnectionError) {
                    return {
                        results: [this.getReconnectSearchResult(integration, query, filters)]
                    };
                }
                console.error("Error retrieving SalesForce search results", err);
            }
        }
        return {
            results: []
        };
    }
    /**
     * Open the connection to SaleForce.
     * @param integration The integration details.
     * @internal
     */
    async openConnection(integration) {
        if (integration?.data?.orgUrl && !this._salesForceConnection) {
            (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
            this._salesForceConnection = await (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.connect)(integration?.data.orgUrl, integration?.data.consumerKey, integration?.data.isSandbox);
        }
    }
    /**
     * Close the connection to SalesForce.
     * @internal
     */
    async closeConnection() {
        if (this._salesForceConnection) {
            try {
                await this._salesForceConnection.disconnect();
            }
            catch (err) {
                console.error("Error disconnecting SalesForce", err);
            }
            finally {
                this._salesForceConnection = undefined;
            }
        }
    }
    /**
     * Create the object url from the if and origin.
     * @param objectId The object id.
     * @param salesforceOrgOrigin The origin url.
     * @returns Then object url.
     * @internal
     */
    getObjectUrl(objectId, salesforceOrgOrigin) {
        if (!salesforceOrgOrigin) {
            return "";
        }
        return `${salesforceOrgOrigin}/${objectId}`;
    }
    /**
     * Get results from the API using a query.
     * @param query The query to call the API with.
     * @param selectedObjects The selected filters.
     * @returns The search result objects from the API.
     * @internal
     */
    async getApiSearchResults(query, selectedObjects) {
        const accountFieldSpec = "Account(Id, Industry, Name, Phone, Type, Website)";
        const contactFieldSpec = "Contact(Department, Email, Id, Name, Phone, Title)";
        const taskFieldSpec = "Task(Id, Subject, Description)";
        const contentNoteFieldSpec = "ContentNote(Id, Title, Content, TextPreview)";
        const fieldSpecMap = new Map([
            ["Account", accountFieldSpec],
            ["Contact", contactFieldSpec],
            ["Task", taskFieldSpec],
            ["ContentNote", contentNoteFieldSpec]
        ]);
        const fieldSpec = [...fieldSpecMap]
            .filter(x => {
            if (Array.isArray(selectedObjects) && selectedObjects.length > 0) {
                return selectedObjects.includes(x[0]);
            }
            return true;
        })
            .map(x => x[1])
            .join(", ");
        const batch = [];
        if (fieldSpec.length > 0) {
            const salesforceSearchQuery = `FIND {${this.escapeQuery(query)}} IN ALL FIELDS RETURNING ${fieldSpec} LIMIT 25`;
            batch.push({
                method: "GET",
                url: `/services/data/vXX.X/search?q=${encodeURIComponent(salesforceSearchQuery)}`
            });
        }
        const includeChatter = !selectedObjects?.length || selectedObjects.includes("Chatter");
        if (includeChatter) {
            batch.push({
                method: "GET",
                url: `/services/data/vXX.X/chatter/feed-elements?q=${query}&pageSize=25&sort=LastModifiedDateDesc`
            });
        }
        const batchedResults = await this.getBatchedResults(batch);
        let results = [];
        if (batchedResults.length > 0) {
            let idx = 0;
            if (fieldSpec.length > 0) {
                const searchResponse = batchedResults[idx++];
                if (searchResponse.searchRecords) {
                    results = results.concat(searchResponse.searchRecords);
                }
            }
            if (includeChatter) {
                const chatterResponse = batchedResults[idx++];
                if (chatterResponse.elements) {
                    results = results.concat(chatterResponse.elements);
                }
            }
        }
        return results;
    }
    /**
     * Get batched results from SalesForce api.
     * @param batchRequests The batch requests to send.
     * @returns The results from the batch request.
     * @internal
     */
    async getBatchedResults(batchRequests) {
        if (batchRequests.length === 0 || !this._salesForceConnection) {
            return [];
        }
        const batch = { batchRequests, haltOnError: false };
        const response = await this._salesForceConnection.executeApiRequest("/services/data/vXX.X/composite/batch/", "POST", batch, { "Content-Type": "application/json" });
        return response.data?.results.map(r => r.result) ?? [];
    }
    /**
     * Escape any characters needed in SalesForce API calls.
     * @param query The query to escape.
     * @returns The escaped query.
     * @internal
     */
    escapeQuery(query) {
        // There are some reserved characters for queries so we need to escape them
        // https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_sosl_find.htm
        return query.replace(/[!"&'()*+:?[\\\]^{|}~-]/gm, "\\$&");
    }
    /**
     * Get the search result to display when SalesForce needs to reconnect.
     * @param integration The integration details.
     * @param query The query that needs to reconnect.
     * @param filters The filter for the reconnect.
     * @returns The search result entry.
     * @internal
     */
    getReconnectSearchResult(integration, query, filters) {
        return {
            actions: [{ name: "Reconnect", hotkey: "enter" }],
            key: SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY,
            icon: integration?.icon,
            title: "Reconnect to Salesforce",
            data: {
                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                query,
                filters
            }
        };
    }
    /**
     * Get the search filters based on the results.
     * @param objects The object types to create the filters from.
     * @returns The filters.
     * @internal
     */
    getSearchFilters(objects) {
        if (Array.isArray(objects) && objects.length > 0) {
            const filters = [];
            const uniqueObjects = [...new Set(objects.sort())];
            const objectFilter = {
                id: SalesForceIntegrationProvider._OBJECTS_FILTER_ID,
                title: "Objects",
                type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLIFilterOptionType.MultiSelect,
                options: []
            };
            for (const object of uniqueObjects) {
                if (Array.isArray(objectFilter.options)) {
                    objectFilter.options.push({
                        value: object,
                        isSelected: false
                    });
                }
            }
            filters.push(objectFilter);
            return filters;
        }
        return [];
    }
}
/**
 * Provider id.
 * @internal
 */
SalesForceIntegrationProvider._PROVIDER_ID = "salesforce";
/**
 * The key to use for a SalesForce result.
 * @internal
 */
SalesForceIntegrationProvider._BROWSE_SEARCH_RESULT_KEY = "browse-salesforce";
/**
 * The id for the SaleForce filters.
 * @internal
 */
SalesForceIntegrationProvider._OBJECTS_FILTER_ID = "salesforce-objects";
/**
 * The id of the not connected result.
 * @internal
 */
SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY = "salesforce-not-connected-result";


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*****************************************************!*\
  !*** ./client/src/integrations/salesforce/index.ts ***!
  \*****************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "integration": () => (/* binding */ integration)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/salesforce/integration-provider.ts");

const integration = new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.SalesForceIntegrationProvider();

})();

var __webpack_exports__integration = __webpack_exports__.integration;
export { __webpack_exports__integration as integration };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBOztTQUVBO1NBQ0E7O1NBRUE7U0FDQTtTQUNBOzs7OztVQ3RCQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EsaUNBQWlDLFdBQVc7VUFDNUM7VUFDQTs7Ozs7VUNQQTtVQUNBO1VBQ0E7VUFDQTtVQUNBLHlDQUF5Qyx3Q0FBd0M7VUFDakY7VUFDQTtVQUNBOzs7OztVQ1BBOzs7OztVQ0FBO1VBQ0E7VUFDQTtVQUNBLHVEQUF1RCxpQkFBaUI7VUFDeEU7VUFDQSxnREFBZ0QsYUFBYTtVQUM3RDs7Ozs7Ozs7Ozs7Ozs7O0FDTnVFO0FBRWhFLE1BQU0sV0FBVyxHQUFHLElBQUksZ0ZBQTZCLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3NhbGVzZm9yY2Uvb3BlbmZpbi5zYWxlc2ZvcmNlLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL2NsaWVudC9zcmMvaW50ZWdyYXRpb25zL3NhbGVzZm9yY2UvaW50ZWdyYXRpb24tcHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2Uvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2Uvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL2NsaWVudC9zcmMvaW50ZWdyYXRpb25zL3NhbGVzZm9yY2UvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGU9ezQyMTooZSx0LHIpPT57ZS5leHBvcnRzPXIoNDQ4KX0sOTk0OihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDMyMikscz1yKDU4KSxpPXIoOTgyKSxhPXIoNjMpLGM9cig1NDEpLHU9cig0OTcpLGw9cig5ODgpLGY9cigyNDIpLGQ9cigxNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXt2YXIgcCxoPWUuZGF0YSx3PWUuaGVhZGVycyxtPWUucmVzcG9uc2VUeXBlO2Z1bmN0aW9uIHYoKXtlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKHApLGUuc2lnbmFsJiZlLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixwKX1uLmlzRm9ybURhdGEoaCkmJmRlbGV0ZSB3W1wiQ29udGVudC1UeXBlXCJdO3ZhciBnPW5ldyBYTUxIdHRwUmVxdWVzdDtpZihlLmF1dGgpe3ZhciB5PWUuYXV0aC51c2VybmFtZXx8XCJcIixiPWUuYXV0aC5wYXNzd29yZD91bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZS5hdXRoLnBhc3N3b3JkKSk6XCJcIjt3LkF1dGhvcml6YXRpb249XCJCYXNpYyBcIitidG9hKHkrXCI6XCIrYil9dmFyIHg9YShlLmJhc2VVUkwsZS51cmwpO2Z1bmN0aW9uIEUoKXtpZihnKXt2YXIgbj1cImdldEFsbFJlc3BvbnNlSGVhZGVyc1wiaW4gZz9jKGcuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpOm51bGwscz17ZGF0YTptJiZcInRleHRcIiE9PW0mJlwianNvblwiIT09bT9nLnJlc3BvbnNlOmcucmVzcG9uc2VUZXh0LHN0YXR1czpnLnN0YXR1cyxzdGF0dXNUZXh0Omcuc3RhdHVzVGV4dCxoZWFkZXJzOm4sY29uZmlnOmUscmVxdWVzdDpnfTtvKChmdW5jdGlvbihlKXt0KGUpLHYoKX0pLChmdW5jdGlvbihlKXtyKGUpLHYoKX0pLHMpLGc9bnVsbH19aWYoZy5vcGVuKGUubWV0aG9kLnRvVXBwZXJDYXNlKCksaSh4LGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplciksITApLGcudGltZW91dD1lLnRpbWVvdXQsXCJvbmxvYWRlbmRcImluIGc/Zy5vbmxvYWRlbmQ9RTpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2cmJjQ9PT1nLnJlYWR5U3RhdGUmJigwIT09Zy5zdGF0dXN8fGcucmVzcG9uc2VVUkwmJjA9PT1nLnJlc3BvbnNlVVJMLmluZGV4T2YoXCJmaWxlOlwiKSkmJnNldFRpbWVvdXQoRSl9LGcub25hYm9ydD1mdW5jdGlvbigpe2cmJihyKGwoXCJSZXF1ZXN0IGFib3J0ZWRcIixlLFwiRUNPTk5BQk9SVEVEXCIsZykpLGc9bnVsbCl9LGcub25lcnJvcj1mdW5jdGlvbigpe3IobChcIk5ldHdvcmsgRXJyb3JcIixlLG51bGwsZykpLGc9bnVsbH0sZy5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt2YXIgdD1lLnRpbWVvdXQ/XCJ0aW1lb3V0IG9mIFwiK2UudGltZW91dCtcIm1zIGV4Y2VlZGVkXCI6XCJ0aW1lb3V0IGV4Y2VlZGVkXCIsbj1lLnRyYW5zaXRpb25hbHx8Zi50cmFuc2l0aW9uYWw7ZS50aW1lb3V0RXJyb3JNZXNzYWdlJiYodD1lLnRpbWVvdXRFcnJvck1lc3NhZ2UpLHIobCh0LGUsbi5jbGFyaWZ5VGltZW91dEVycm9yP1wiRVRJTUVET1VUXCI6XCJFQ09OTkFCT1JURURcIixnKSksZz1udWxsfSxuLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpe3ZhciBrPShlLndpdGhDcmVkZW50aWFsc3x8dSh4KSkmJmUueHNyZkNvb2tpZU5hbWU/cy5yZWFkKGUueHNyZkNvb2tpZU5hbWUpOnZvaWQgMDtrJiYod1tlLnhzcmZIZWFkZXJOYW1lXT1rKX1cInNldFJlcXVlc3RIZWFkZXJcImluIGcmJm4uZm9yRWFjaCh3LChmdW5jdGlvbihlLHQpe3ZvaWQgMD09PWgmJlwiY29udGVudC10eXBlXCI9PT10LnRvTG93ZXJDYXNlKCk/ZGVsZXRlIHdbdF06Zy5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksbi5pc1VuZGVmaW5lZChlLndpdGhDcmVkZW50aWFscyl8fChnLndpdGhDcmVkZW50aWFscz0hIWUud2l0aENyZWRlbnRpYWxzKSxtJiZcImpzb25cIiE9PW0mJihnLnJlc3BvbnNlVHlwZT1lLnJlc3BvbnNlVHlwZSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkRvd25sb2FkUHJvZ3Jlc3MmJmcuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZS5vbkRvd25sb2FkUHJvZ3Jlc3MpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25VcGxvYWRQcm9ncmVzcyYmZy51cGxvYWQmJmcudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLGUub25VcGxvYWRQcm9ncmVzcyksKGUuY2FuY2VsVG9rZW58fGUuc2lnbmFsKSYmKHA9ZnVuY3Rpb24oZSl7ZyYmKHIoIWV8fGUmJmUudHlwZT9uZXcgZChcImNhbmNlbGVkXCIpOmUpLGcuYWJvcnQoKSxnPW51bGwpfSxlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnN1YnNjcmliZShwKSxlLnNpZ25hbCYmKGUuc2lnbmFsLmFib3J0ZWQ/cCgpOmUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHApKSksaHx8KGg9bnVsbCksZy5zZW5kKGgpfSkpfX0sNDQ4OihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDk2Mikscz1yKDQ5NSksaT1yKDE0OSksYT1mdW5jdGlvbiBlKHQpe3ZhciByPW5ldyBzKHQpLGE9byhzLnByb3RvdHlwZS5yZXF1ZXN0LHIpO3JldHVybiBuLmV4dGVuZChhLHMucHJvdG90eXBlLHIpLG4uZXh0ZW5kKGEsciksYS5jcmVhdGU9ZnVuY3Rpb24ocil7cmV0dXJuIGUoaSh0LHIpKX0sYX0ocigyNDIpKTthLkF4aW9zPXMsYS5DYW5jZWw9cigxNCksYS5DYW5jZWxUb2tlbj1yKDU0MyksYS5pc0NhbmNlbD1yKDE4MSksYS5WRVJTSU9OPXIoNDc0KS52ZXJzaW9uLGEuYWxsPWZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLmFsbChlKX0sYS5zcHJlYWQ9cig2NyksYS5pc0F4aW9zRXJyb3I9cig3MjYpLGUuZXhwb3J0cz1hLGUuZXhwb3J0cy5kZWZhdWx0PWF9LDE0OmU9PntmdW5jdGlvbiB0KGUpe3RoaXMubWVzc2FnZT1lfXQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJDYW5jZWxcIisodGhpcy5tZXNzYWdlP1wiOiBcIit0aGlzLm1lc3NhZ2U6XCJcIil9LHQucHJvdG90eXBlLl9fQ0FOQ0VMX189ITAsZS5leHBvcnRzPXR9LDU0MzooZSx0LHIpPT57dmFyIG49cigxNCk7ZnVuY3Rpb24gbyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO3ZhciB0O3RoaXMucHJvbWlzZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dD1lfSkpO3ZhciByPXRoaXM7dGhpcy5wcm9taXNlLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHIuX2xpc3RlbmVycyl7dmFyIHQsbj1yLl9saXN0ZW5lcnMubGVuZ3RoO2Zvcih0PTA7dDxuO3QrKylyLl9saXN0ZW5lcnNbdF0oZSk7ci5fbGlzdGVuZXJzPW51bGx9fSkpLHRoaXMucHJvbWlzZS50aGVuPWZ1bmN0aW9uKGUpe3ZhciB0LG49bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3Iuc3Vic2NyaWJlKGUpLHQ9ZX0pKS50aGVuKGUpO3JldHVybiBuLmNhbmNlbD1mdW5jdGlvbigpe3IudW5zdWJzY3JpYmUodCl9LG59LGUoKGZ1bmN0aW9uKGUpe3IucmVhc29ufHwoci5yZWFzb249bmV3IG4oZSksdChyLnJlYXNvbikpfSkpfW8ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYXNvbil0aHJvdyB0aGlzLnJlYXNvbn0sby5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3RoaXMucmVhc29uP2UodGhpcy5yZWFzb24pOnRoaXMuX2xpc3RlbmVycz90aGlzLl9saXN0ZW5lcnMucHVzaChlKTp0aGlzLl9saXN0ZW5lcnM9W2VdfSxvLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbihlKXtpZih0aGlzLl9saXN0ZW5lcnMpe3ZhciB0PXRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fbGlzdGVuZXJzLnNwbGljZSh0LDEpfX0sby5zb3VyY2U9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm57dG9rZW46bmV3IG8oKGZ1bmN0aW9uKHQpe2U9dH0pKSxjYW5jZWw6ZX19LGUuZXhwb3J0cz1vfSwxODE6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5fX0NBTkNFTF9fKX19LDQ5NTooZSx0LHIpPT57dmFyIG49cig0NDYpLG89cig5ODIpLHM9cig1ODIpLGk9cig4NjIpLGE9cigxNDkpLGM9cigxNjYpLHU9Yy52YWxpZGF0b3JzO2Z1bmN0aW9uIGwoZSl7dGhpcy5kZWZhdWx0cz1lLHRoaXMuaW50ZXJjZXB0b3JzPXtyZXF1ZXN0Om5ldyBzLHJlc3BvbnNlOm5ldyBzfX1sLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIGU/KHQ9dHx8e30pLnVybD1lOnQ9ZXx8e30sKHQ9YSh0aGlzLmRlZmF1bHRzLHQpKS5tZXRob2Q/dC5tZXRob2Q9dC5tZXRob2QudG9Mb3dlckNhc2UoKTp0aGlzLmRlZmF1bHRzLm1ldGhvZD90Lm1ldGhvZD10aGlzLmRlZmF1bHRzLm1ldGhvZC50b0xvd2VyQ2FzZSgpOnQubWV0aG9kPVwiZ2V0XCI7dmFyIHI9dC50cmFuc2l0aW9uYWw7dm9pZCAwIT09ciYmYy5hc3NlcnRPcHRpb25zKHIse3NpbGVudEpTT05QYXJzaW5nOnUudHJhbnNpdGlvbmFsKHUuYm9vbGVhbiksZm9yY2VkSlNPTlBhcnNpbmc6dS50cmFuc2l0aW9uYWwodS5ib29sZWFuKSxjbGFyaWZ5VGltZW91dEVycm9yOnUudHJhbnNpdGlvbmFsKHUuYm9vbGVhbil9LCExKTt2YXIgbj1bXSxvPSEwO3RoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5ydW5XaGVuJiYhMT09PWUucnVuV2hlbih0KXx8KG89byYmZS5zeW5jaHJvbm91cyxuLnVuc2hpZnQoZS5mdWxmaWxsZWQsZS5yZWplY3RlZCkpfSkpO3ZhciBzLGw9W107aWYodGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bC5wdXNoKGUuZnVsZmlsbGVkLGUucmVqZWN0ZWQpfSkpLCFvKXt2YXIgZj1baSx2b2lkIDBdO2ZvcihBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShmLG4pLGY9Zi5jb25jYXQobCkscz1Qcm9taXNlLnJlc29sdmUodCk7Zi5sZW5ndGg7KXM9cy50aGVuKGYuc2hpZnQoKSxmLnNoaWZ0KCkpO3JldHVybiBzfWZvcih2YXIgZD10O24ubGVuZ3RoOyl7dmFyIHA9bi5zaGlmdCgpLGg9bi5zaGlmdCgpO3RyeXtkPXAoZCl9Y2F0Y2goZSl7aChlKTticmVha319dHJ5e3M9aShkKX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9Zm9yKDtsLmxlbmd0aDspcz1zLnRoZW4obC5zaGlmdCgpLGwuc2hpZnQoKSk7cmV0dXJuIHN9LGwucHJvdG90eXBlLmdldFVyaT1mdW5jdGlvbihlKXtyZXR1cm4gZT1hKHRoaXMuZGVmYXVsdHMsZSksbyhlLnVybCxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cXD8vLFwiXCIpfSxuLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcIm9wdGlvbnNcIl0sKGZ1bmN0aW9uKGUpe2wucHJvdG90eXBlW2VdPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMucmVxdWVzdChhKHJ8fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOihyfHx7fSkuZGF0YX0pKX19KSksbi5mb3JFYWNoKFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGZ1bmN0aW9uKGUpe2wucHJvdG90eXBlW2VdPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KGEobnx8e30se21ldGhvZDplLHVybDp0LGRhdGE6cn0pKX19KSksZS5leHBvcnRzPWx9LDU4MjooZSx0LHIpPT57dmFyIG49cig0NDYpO2Z1bmN0aW9uIG8oKXt0aGlzLmhhbmRsZXJzPVtdfW8ucHJvdG90eXBlLnVzZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuaGFuZGxlcnMucHVzaCh7ZnVsZmlsbGVkOmUscmVqZWN0ZWQ6dCxzeW5jaHJvbm91czohIXImJnIuc3luY2hyb25vdXMscnVuV2hlbjpyP3IucnVuV2hlbjpudWxsfSksdGhpcy5oYW5kbGVycy5sZW5ndGgtMX0sby5wcm90b3R5cGUuZWplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVyc1tlXSYmKHRoaXMuaGFuZGxlcnNbZV09bnVsbCl9LG8ucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSl7bi5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsKGZ1bmN0aW9uKHQpe251bGwhPT10JiZlKHQpfSkpfSxlLmV4cG9ydHM9b30sNjM6KGUsdCxyKT0+e3ZhciBuPXIoNDUyKSxvPXIoMTIzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmIW4odCk/byhlLHQpOnR9fSw5ODg6KGUsdCxyKT0+e3ZhciBuPXIoNDc3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyxzKXt2YXIgaT1uZXcgRXJyb3IoZSk7cmV0dXJuIG4oaSx0LHIsbyxzKX19LDg2MjooZSx0LHIpPT57dmFyIG49cig0NDYpLG89cigyNTUpLHM9cigxODEpLGk9cigyNDIpLGE9cigxNCk7ZnVuY3Rpb24gYyhlKXtpZihlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKSxlLnNpZ25hbCYmZS5zaWduYWwuYWJvcnRlZCl0aHJvdyBuZXcgYShcImNhbmNlbGVkXCIpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gYyhlKSxlLmhlYWRlcnM9ZS5oZWFkZXJzfHx7fSxlLmRhdGE9by5jYWxsKGUsZS5kYXRhLGUuaGVhZGVycyxlLnRyYW5zZm9ybVJlcXVlc3QpLGUuaGVhZGVycz1uLm1lcmdlKGUuaGVhZGVycy5jb21tb258fHt9LGUuaGVhZGVyc1tlLm1ldGhvZF18fHt9LGUuaGVhZGVycyksbi5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCIsXCJjb21tb25cIl0sKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmhlYWRlcnNbdF19KSksKGUuYWRhcHRlcnx8aS5hZGFwdGVyKShlKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gYyhlKSx0LmRhdGE9by5jYWxsKGUsdC5kYXRhLHQuaGVhZGVycyxlLnRyYW5zZm9ybVJlc3BvbnNlKSx0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBzKHQpfHwoYyhlKSx0JiZ0LnJlc3BvbnNlJiYodC5yZXNwb25zZS5kYXRhPW8uY2FsbChlLHQucmVzcG9uc2UuZGF0YSx0LnJlc3BvbnNlLmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSkpKSxQcm9taXNlLnJlamVjdCh0KX0pKX19LDQ3NzplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4sbyl7cmV0dXJuIGUuY29uZmlnPXQsciYmKGUuY29kZT1yKSxlLnJlcXVlc3Q9bixlLnJlc3BvbnNlPW8sZS5pc0F4aW9zRXJyb3I9ITAsZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57bWVzc2FnZTp0aGlzLm1lc3NhZ2UsbmFtZTp0aGlzLm5hbWUsZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbixudW1iZXI6dGhpcy5udW1iZXIsZmlsZU5hbWU6dGhpcy5maWxlTmFtZSxsaW5lTnVtYmVyOnRoaXMubGluZU51bWJlcixjb2x1bW5OdW1iZXI6dGhpcy5jb2x1bW5OdW1iZXIsc3RhY2s6dGhpcy5zdGFjayxjb25maWc6dGhpcy5jb25maWcsY29kZTp0aGlzLmNvZGUsc3RhdHVzOnRoaXMucmVzcG9uc2UmJnRoaXMucmVzcG9uc2Uuc3RhdHVzP3RoaXMucmVzcG9uc2Uuc3RhdHVzOm51bGx9fSxlfX0sMTQ5OihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcj17fTtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIG4uaXNQbGFpbk9iamVjdChlKSYmbi5pc1BsYWluT2JqZWN0KHQpP24ubWVyZ2UoZSx0KTpuLmlzUGxhaW5PYmplY3QodCk/bi5tZXJnZSh7fSx0KTpuLmlzQXJyYXkodCk/dC5zbGljZSgpOnR9ZnVuY3Rpb24gcyhyKXtyZXR1cm4gbi5pc1VuZGVmaW5lZCh0W3JdKT9uLmlzVW5kZWZpbmVkKGVbcl0pP3ZvaWQgMDpvKHZvaWQgMCxlW3JdKTpvKGVbcl0sdFtyXSl9ZnVuY3Rpb24gaShlKXtpZighbi5pc1VuZGVmaW5lZCh0W2VdKSlyZXR1cm4gbyh2b2lkIDAsdFtlXSl9ZnVuY3Rpb24gYShyKXtyZXR1cm4gbi5pc1VuZGVmaW5lZCh0W3JdKT9uLmlzVW5kZWZpbmVkKGVbcl0pP3ZvaWQgMDpvKHZvaWQgMCxlW3JdKTpvKHZvaWQgMCx0W3JdKX1mdW5jdGlvbiBjKHIpe3JldHVybiByIGluIHQ/byhlW3JdLHRbcl0pOnIgaW4gZT9vKHZvaWQgMCxlW3JdKTp2b2lkIDB9dmFyIHU9e3VybDppLG1ldGhvZDppLGRhdGE6aSxiYXNlVVJMOmEsdHJhbnNmb3JtUmVxdWVzdDphLHRyYW5zZm9ybVJlc3BvbnNlOmEscGFyYW1zU2VyaWFsaXplcjphLHRpbWVvdXQ6YSx0aW1lb3V0TWVzc2FnZTphLHdpdGhDcmVkZW50aWFsczphLGFkYXB0ZXI6YSxyZXNwb25zZVR5cGU6YSx4c3JmQ29va2llTmFtZTphLHhzcmZIZWFkZXJOYW1lOmEsb25VcGxvYWRQcm9ncmVzczphLG9uRG93bmxvYWRQcm9ncmVzczphLGRlY29tcHJlc3M6YSxtYXhDb250ZW50TGVuZ3RoOmEsbWF4Qm9keUxlbmd0aDphLHRyYW5zcG9ydDphLGh0dHBBZ2VudDphLGh0dHBzQWdlbnQ6YSxjYW5jZWxUb2tlbjphLHNvY2tldFBhdGg6YSxyZXNwb25zZUVuY29kaW5nOmEsdmFsaWRhdGVTdGF0dXM6Y307cmV0dXJuIG4uZm9yRWFjaChPYmplY3Qua2V5cyhlKS5jb25jYXQoT2JqZWN0LmtleXModCkpLChmdW5jdGlvbihlKXt2YXIgdD11W2VdfHxzLG89dChlKTtuLmlzVW5kZWZpbmVkKG8pJiZ0IT09Y3x8KHJbZV09byl9KSkscn19LDMyMjooZSx0LHIpPT57dmFyIG49cig5ODgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG89ci5jb25maWcudmFsaWRhdGVTdGF0dXM7ci5zdGF0dXMmJm8mJiFvKHIuc3RhdHVzKT90KG4oXCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiK3Iuc3RhdHVzLHIuY29uZmlnLG51bGwsci5yZXF1ZXN0LHIpKTplKHIpfX0sMjU1OihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDI0Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz10aGlzfHxvO3JldHVybiBuLmZvckVhY2gociwoZnVuY3Rpb24ocil7ZT1yLmNhbGwocyxlLHQpfSkpLGV9fSwyNDI6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoOTY0KSxzPXIoNDc3KSxpPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9O2Z1bmN0aW9uIGEoZSx0KXshbi5pc1VuZGVmaW5lZChlKSYmbi5pc1VuZGVmaW5lZChlW1wiQ29udGVudC1UeXBlXCJdKSYmKGVbXCJDb250ZW50LVR5cGVcIl09dCl9dmFyIGMsdT17dHJhbnNpdGlvbmFsOntzaWxlbnRKU09OUGFyc2luZzohMCxmb3JjZWRKU09OUGFyc2luZzohMCxjbGFyaWZ5VGltZW91dEVycm9yOiExfSxhZGFwdGVyOigoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykpJiYoYz1yKDk5NCkpLGMpLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uKGUsdCl7cmV0dXJuIG8odCxcIkFjY2VwdFwiKSxvKHQsXCJDb250ZW50LVR5cGVcIiksbi5pc0Zvcm1EYXRhKGUpfHxuLmlzQXJyYXlCdWZmZXIoZSl8fG4uaXNCdWZmZXIoZSl8fG4uaXNTdHJlYW0oZSl8fG4uaXNGaWxlKGUpfHxuLmlzQmxvYihlKT9lOm4uaXNBcnJheUJ1ZmZlclZpZXcoZSk/ZS5idWZmZXI6bi5pc1VSTFNlYXJjaFBhcmFtcyhlKT8oYSh0LFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIiksZS50b1N0cmluZygpKTpuLmlzT2JqZWN0KGUpfHx0JiZcImFwcGxpY2F0aW9uL2pzb25cIj09PXRbXCJDb250ZW50LVR5cGVcIl0/KGEodCxcImFwcGxpY2F0aW9uL2pzb25cIiksZnVuY3Rpb24oZSx0LHIpe2lmKG4uaXNTdHJpbmcoZSkpdHJ5e3JldHVybigwLEpTT04ucGFyc2UpKGUpLG4udHJpbShlKX1jYXRjaChlKXtpZihcIlN5bnRheEVycm9yXCIhPT1lLm5hbWUpdGhyb3cgZX1yZXR1cm4oMCxKU09OLnN0cmluZ2lmeSkoZSl9KGUpKTplfV0sdHJhbnNmb3JtUmVzcG9uc2U6W2Z1bmN0aW9uKGUpe3ZhciB0PXRoaXMudHJhbnNpdGlvbmFsfHx1LnRyYW5zaXRpb25hbCxyPXQmJnQuc2lsZW50SlNPTlBhcnNpbmcsbz10JiZ0LmZvcmNlZEpTT05QYXJzaW5nLGk9IXImJlwianNvblwiPT09dGhpcy5yZXNwb25zZVR5cGU7aWYoaXx8byYmbi5pc1N0cmluZyhlKSYmZS5sZW5ndGgpdHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe2lmKGkpe2lmKFwiU3ludGF4RXJyb3JcIj09PWUubmFtZSl0aHJvdyBzKGUsdGhpcyxcIkVfSlNPTl9QQVJTRVwiKTt0aHJvdyBlfX1yZXR1cm4gZX1dLHRpbWVvdXQ6MCx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwiLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbihlKXtyZXR1cm4gZT49MjAwJiZlPDMwMH0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIn19fTtuLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIl0sKGZ1bmN0aW9uKGUpe3UuaGVhZGVyc1tlXT17fX0pKSxuLmZvckVhY2goW1wicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiXSwoZnVuY3Rpb24oZSl7dS5oZWFkZXJzW2VdPW4ubWVyZ2UoaSl9KSksZS5leHBvcnRzPXV9LDQ3NDplPT57ZS5leHBvcnRzPXt2ZXJzaW9uOlwiMC4yNi4wXCJ9fSw5NjI6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgcj1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksbj0wO248ci5sZW5ndGg7bisrKXJbbl09YXJndW1lbnRzW25dO3JldHVybiBlLmFwcGx5KHQscil9fX0sOTgyOihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyUzQS9naSxcIjpcIikucmVwbGFjZSgvJTI0L2csXCIkXCIpLnJlcGxhY2UoLyUyQy9naSxcIixcIikucmVwbGFjZSgvJTIwL2csXCIrXCIpLnJlcGxhY2UoLyU1Qi9naSxcIltcIikucmVwbGFjZSgvJTVEL2dpLFwiXVwiKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKCF0KXJldHVybiBlO3ZhciBzO2lmKHIpcz1yKHQpO2Vsc2UgaWYobi5pc1VSTFNlYXJjaFBhcmFtcyh0KSlzPXQudG9TdHJpbmcoKTtlbHNle3ZhciBpPVtdO24uZm9yRWFjaCh0LChmdW5jdGlvbihlLHQpe251bGwhPWUmJihuLmlzQXJyYXkoZSk/dCs9XCJbXVwiOmU9W2VdLG4uZm9yRWFjaChlLChmdW5jdGlvbihlKXtuLmlzRGF0ZShlKT9lPWUudG9JU09TdHJpbmcoKTpuLmlzT2JqZWN0KGUpJiYoZT1KU09OLnN0cmluZ2lmeShlKSksaS5wdXNoKG8odCkrXCI9XCIrbyhlKSl9KSkpfSkpLHM9aS5qb2luKFwiJlwiKX1pZihzKXt2YXIgYT1lLmluZGV4T2YoXCIjXCIpOy0xIT09YSYmKGU9ZS5zbGljZSgwLGEpKSxlKz0oLTE9PT1lLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiKStzfXJldHVybiBlfX0sMTIzOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9lLnJlcGxhY2UoL1xcLyskLyxcIlwiKStcIi9cIit0LnJlcGxhY2UoL15cXC8rLyxcIlwiKTplfX0sNTg6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9bi5pc1N0YW5kYXJkQnJvd3NlckVudigpP3t3cml0ZTpmdW5jdGlvbihlLHQscixvLHMsaSl7dmFyIGE9W107YS5wdXNoKGUrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKSxuLmlzTnVtYmVyKHIpJiZhLnB1c2goXCJleHBpcmVzPVwiK25ldyBEYXRlKHIpLnRvR01UU3RyaW5nKCkpLG4uaXNTdHJpbmcobykmJmEucHVzaChcInBhdGg9XCIrbyksbi5pc1N0cmluZyhzKSYmYS5wdXNoKFwiZG9tYWluPVwiK3MpLCEwPT09aSYmYS5wdXNoKFwic2VjdXJlXCIpLGRvY3VtZW50LmNvb2tpZT1hLmpvaW4oXCI7IFwiKX0scmVhZDpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cChcIihefDtcXFxccyopKFwiK2UrXCIpPShbXjtdKilcIikpO3JldHVybiB0P2RlY29kZVVSSUNvbXBvbmVudCh0WzNdKTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZShlLFwiXCIsRGF0ZS5ub3coKS04NjRlNSl9fTp7d3JpdGU6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKCl7fX19LDQ1MjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybi9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KGUpfX0sNzI2OihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmlzT2JqZWN0KGUpJiYhMD09PWUuaXNBeGlvc0Vycm9yfX0sNDk3OihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZS5leHBvcnRzPW4uaXNTdGFuZGFyZEJyb3dzZXJFbnYoKT9mdW5jdGlvbigpe3ZhciBlLHQ9Lyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2Z1bmN0aW9uIG8oZSl7dmFyIG49ZTtyZXR1cm4gdCYmKHIuc2V0QXR0cmlidXRlKFwiaHJlZlwiLG4pLG49ci5ocmVmKSxyLnNldEF0dHJpYnV0ZShcImhyZWZcIixuKSx7aHJlZjpyLmhyZWYscHJvdG9jb2w6ci5wcm90b2NvbD9yLnByb3RvY29sLnJlcGxhY2UoLzokLyxcIlwiKTpcIlwiLGhvc3Q6ci5ob3N0LHNlYXJjaDpyLnNlYXJjaD9yLnNlYXJjaC5yZXBsYWNlKC9eXFw/LyxcIlwiKTpcIlwiLGhhc2g6ci5oYXNoP3IuaGFzaC5yZXBsYWNlKC9eIy8sXCJcIik6XCJcIixob3N0bmFtZTpyLmhvc3RuYW1lLHBvcnQ6ci5wb3J0LHBhdGhuYW1lOlwiL1wiPT09ci5wYXRobmFtZS5jaGFyQXQoMCk/ci5wYXRobmFtZTpcIi9cIityLnBhdGhuYW1lfX1yZXR1cm4gZT1vKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxmdW5jdGlvbih0KXt2YXIgcj1uLmlzU3RyaW5nKHQpP28odCk6dDtyZXR1cm4gci5wcm90b2NvbD09PWUucHJvdG9jb2wmJnIuaG9zdD09PWUuaG9zdH19KCk6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LDk2NDooZSx0LHIpPT57dmFyIG49cig0NDYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe24uZm9yRWFjaChlLChmdW5jdGlvbihyLG4pe24hPT10JiZuLnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkmJihlW3RdPXIsZGVsZXRlIGVbbl0pfSkpfX0sNTQxOihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1bXCJhZ2VcIixcImF1dGhvcml6YXRpb25cIixcImNvbnRlbnQtbGVuZ3RoXCIsXCJjb250ZW50LXR5cGVcIixcImV0YWdcIixcImV4cGlyZXNcIixcImZyb21cIixcImhvc3RcIixcImlmLW1vZGlmaWVkLXNpbmNlXCIsXCJpZi11bm1vZGlmaWVkLXNpbmNlXCIsXCJsYXN0LW1vZGlmaWVkXCIsXCJsb2NhdGlvblwiLFwibWF4LWZvcndhcmRzXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJyZWZlcmVyXCIsXCJyZXRyeS1hZnRlclwiLFwidXNlci1hZ2VudFwiXTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzLGk9e307cmV0dXJuIGU/KG4uZm9yRWFjaChlLnNwbGl0KFwiXFxuXCIpLChmdW5jdGlvbihlKXtpZihzPWUuaW5kZXhPZihcIjpcIiksdD1uLnRyaW0oZS5zdWJzdHIoMCxzKSkudG9Mb3dlckNhc2UoKSxyPW4udHJpbShlLnN1YnN0cihzKzEpKSx0KXtpZihpW3RdJiZvLmluZGV4T2YodCk+PTApcmV0dXJuO2lbdF09XCJzZXQtY29va2llXCI9PT10PyhpW3RdP2lbdF06W10pLmNvbmNhdChbcl0pOmlbdF0/aVt0XStcIiwgXCIrcjpyfX0pKSxpKTppfX0sNjc6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkobnVsbCx0KX19fSwxNjY6KGUsdCxyKT0+e3ZhciBuPXIoNDc0KS52ZXJzaW9uLG89e307W1wib2JqZWN0XCIsXCJib29sZWFuXCIsXCJudW1iZXJcIixcImZ1bmN0aW9uXCIsXCJzdHJpbmdcIixcInN5bWJvbFwiXS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe29bZV09ZnVuY3Rpb24ocil7cmV0dXJuIHR5cGVvZiByPT09ZXx8XCJhXCIrKHQ8MT9cIm4gXCI6XCIgXCIpK2V9fSkpO3ZhciBzPXt9O28udHJhbnNpdGlvbmFsPWZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuXCJbQXhpb3MgdlwiK24rXCJdIFRyYW5zaXRpb25hbCBvcHRpb24gJ1wiK2UrXCInXCIrdCsocj9cIi4gXCIrcjpcIlwiKX1yZXR1cm4gZnVuY3Rpb24ocixuLGkpe2lmKCExPT09ZSl0aHJvdyBuZXcgRXJyb3IobyhuLFwiIGhhcyBiZWVuIHJlbW92ZWRcIisodD9cIiBpbiBcIit0OlwiXCIpKSk7cmV0dXJuIHQmJiFzW25dJiYoc1tuXT0hMCxjb25zb2xlLndhcm4obyhuLFwiIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdlwiK3QrXCIgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmVcIikpKSwhZXx8ZShyLG4saSl9fSxlLmV4cG9ydHM9e2Fzc2VydE9wdGlvbnM6ZnVuY3Rpb24oZSx0LHIpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0XCIpO2Zvcih2YXIgbj1PYmplY3Qua2V5cyhlKSxvPW4ubGVuZ3RoO28tLSA+MDspe3ZhciBzPW5bb10saT10W3NdO2lmKGkpe3ZhciBhPWVbc10sYz12b2lkIDA9PT1hfHxpKGEscyxlKTtpZighMCE9PWMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbiBcIitzK1wiIG11c3QgYmUgXCIrYyl9ZWxzZSBpZighMCE9PXIpdGhyb3cgRXJyb3IoXCJVbmtub3duIG9wdGlvbiBcIitzKX19LHZhbGlkYXRvcnM6b319LDQ0NjooZSx0LHIpPT57dmFyIG49cig5NjIpLG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztmdW5jdGlvbiBzKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gYShlKXtyZXR1cm5cIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1vLmNhbGwoZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gbnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfWZ1bmN0aW9uIHUoZSl7aWYoXCJbb2JqZWN0IE9iamVjdF1cIiE9PW8uY2FsbChlKSlyZXR1cm4hMTt2YXIgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cmV0dXJuIG51bGw9PT10fHx0PT09T2JqZWN0LnByb3RvdHlwZX1mdW5jdGlvbiBsKGUpe3JldHVyblwiW29iamVjdCBGdW5jdGlvbl1cIj09PW8uY2FsbChlKX1mdW5jdGlvbiBmKGUsdCl7aWYobnVsbCE9ZSlpZihcIm9iamVjdFwiIT10eXBlb2YgZSYmKGU9W2VdKSxzKGUpKWZvcih2YXIgcj0wLG49ZS5sZW5ndGg7cjxuO3IrKyl0LmNhbGwobnVsbCxlW3JdLHIsZSk7ZWxzZSBmb3IodmFyIG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdC5jYWxsKG51bGwsZVtvXSxvLGUpfWUuZXhwb3J0cz17aXNBcnJheTpzLGlzQXJyYXlCdWZmZXI6YSxpc0J1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJiFpKGUpJiZudWxsIT09ZS5jb25zdHJ1Y3RvciYmIWkoZS5jb25zdHJ1Y3RvcikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29uc3RydWN0b3IuaXNCdWZmZXImJmUuY29uc3RydWN0b3IuaXNCdWZmZXIoZSl9LGlzRm9ybURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEZvcm1EYXRhXVwiPT09by5jYWxsKGUpfSxpc0FycmF5QnVmZmVyVmlldzpmdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJkFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcoZSk6ZSYmZS5idWZmZXImJmEoZS5idWZmZXIpfSxpc1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0saXNOdW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9LGlzT2JqZWN0OmMsaXNQbGFpbk9iamVjdDp1LGlzVW5kZWZpbmVkOmksaXNEYXRlOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09by5jYWxsKGUpfSxpc0ZpbGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEZpbGVdXCI9PT1vLmNhbGwoZSl9LGlzQmxvYjpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQmxvYl1cIj09PW8uY2FsbChlKX0saXNGdW5jdGlvbjpsLGlzU3RyZWFtOmZ1bmN0aW9uKGUpe3JldHVybiBjKGUpJiZsKGUucGlwZSl9LGlzVVJMU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBVUkxTZWFyY2hQYXJhbXNdXCI9PT1vLmNhbGwoZSl9LGlzU3RhbmRhcmRCcm93c2VyRW52OmZ1bmN0aW9uKCl7cmV0dXJuKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuYXZpZ2F0b3J8fFwiUmVhY3ROYXRpdmVcIiE9PW5hdmlnYXRvci5wcm9kdWN0JiZcIk5hdGl2ZVNjcmlwdFwiIT09bmF2aWdhdG9yLnByb2R1Y3QmJlwiTlNcIiE9PW5hdmlnYXRvci5wcm9kdWN0KSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50fSxmb3JFYWNoOmYsbWVyZ2U6ZnVuY3Rpb24gZSgpe3ZhciB0PXt9O2Z1bmN0aW9uIHIocixuKXt1KHRbbl0pJiZ1KHIpP3Rbbl09ZSh0W25dLHIpOnUocik/dFtuXT1lKHt9LHIpOnMocik/dFtuXT1yLnNsaWNlKCk6dFtuXT1yfWZvcih2YXIgbj0wLG89YXJndW1lbnRzLmxlbmd0aDtuPG87bisrKWYoYXJndW1lbnRzW25dLHIpO3JldHVybiB0fSxleHRlbmQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmKHQsKGZ1bmN0aW9uKHQsbyl7ZVtvXT1yJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P24odCxyKTp0fSkpLGV9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9LHN0cmlwQk9NOmZ1bmN0aW9uKGUpe3JldHVybiA2NTI3OT09PWUuY2hhckNvZGVBdCgwKSYmKGU9ZS5zbGljZSgxKSksZX19fX0sdD17fTtmdW5jdGlvbiByKG4pe3ZhciBvPXRbbl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBzPXRbbl09e2V4cG9ydHM6e319O3JldHVybiBlW25dKHMscy5leHBvcnRzLHIpLHMuZXhwb3J0c31yLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiByLmQodCx7YTp0fSksdH0sci5kPShlLHQpPT57Zm9yKHZhciBuIGluIHQpci5vKHQsbikmJiFyLm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6dFtuXX0pfSxyLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpO3ZhciBuPXt9OygoKT0+e3IuZChuLHtNUzooKT0+byxNXzooKT0+cyxoWTooKT0+aSxHNDooKT0+YSxfVzooKT0+YyxvOigpPT51LEMzOigpPT5mLGZCOigpPT5sLGlmOigpPT5kLCRqOigpPT5ULFUkOigpPT53LFU3OigpPT5tLEI1OigpPT4kfSk7dmFyIGU9cig0MjEpLHQ9ci5uKGUpO2NsYXNzIG8gZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWRcIix0KXt2YXIgcjtzdXBlcihlKSx0JiYodGhpcy5pbm5lckVycm9yPXQmJnQpLHRoaXMuc3RhY2s9bnVsbD09PShyPXRoaXMuc3RhY2spfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnJlcGxhY2UoL14oXFx3KkVycm9yKS8sYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApfX1jbGFzcyBzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiVW5hYmxlIHRvIGF1dGhvcml6ZSBjb25uZWN0aW9uIHRvIFNhbGVzZm9yY2VcIix0KXt2YXIgcixuLG87c3VwZXIoZSx0KSx0JiZ0LmlzQXhpb3NFcnJvciYmKHQubWVzc2FnZT1udWxsIT09KG89bnVsbD09PShuPW51bGw9PT0ocj10LnJlc3BvbnNlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5kYXRhKXx8dm9pZCAwPT09bj92b2lkIDA6bi5lcnJvcl9kZXNjcmlwdGlvbikmJnZvaWQgMCE9PW8/bzp0Lm1lc3NhZ2UpfX1jbGFzcyBpIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiTm90IGNvbm5lY3RlZCB0byBTYWxlc2ZvcmNlXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgYSBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIlJldHJpZXZlIFNhbGVzZm9yY2Ugb2JqZWN0IGRhdGEgZmFpbGVkXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgYyBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIkludmFsaWQgcGFyYW1ldGVyIGRldGVjdGVkXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgdSBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIkV4ZWN1dGUgU2FsZXNmb3JjZSBxdWVyeSBmYWlsZWRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBsIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiVW5hYmxlIHRvIHJldHJpZXZlIHNlYXJjaCByZXN1bHRzIGZyb20gU2FsZXNmb3JjZVwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGYgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGUsdD1cIkV4ZWN1dGUgU2FsZXNmb3JjZSBSRVNUIEFQSSByZXF1ZXN0IGZhaWxlZFwiKXt2YXIgcixuLG8scyxpO3N1cGVyKHQsbnVsbCE9ZT9lOnZvaWQgMCksdGhpcy5yZXN0QXBpRXJyb3JDb2RlPVwiXCIsdGhpcy5yZXN0QXBpRXJyb3JEZXNjcmlwdGlvbj1cIlwiLHRoaXMucmVzdEFwaVJlc3BvbnNlU3RhdHVzPXZvaWQgMDtjb25zdCBhPWU7aWYobnVsbD09YT92b2lkIDA6YS5pc0F4aW9zRXJyb3Ipe2lmKHRoaXMucmVzdEFwaVJlc3BvbnNlU3RhdHVzPW51bGw9PT0ocj1hLnJlc3BvbnNlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zdGF0dXMsIShudWxsPT09KG89bnVsbD09PShuPWEucmVzcG9uc2UpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRhdGEpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCkpcmV0dXJuO2NvbnN0IGU9bnVsbD09PShpPW51bGw9PT0ocz1hLnJlc3BvbnNlKXx8dm9pZCAwPT09cz92b2lkIDA6cy5kYXRhKXx8dm9pZCAwPT09aT92b2lkIDA6aVswXTtpZihlKXtjb25zdHtlcnJvckNvZGU6dCxtZXNzYWdlOnJ9PWU7dGhpcy5yZXN0QXBpRXJyb3JDb2RlPXQsdGhpcy5yZXN0QXBpRXJyb3JEZXNjcmlwdGlvbj1yfX19fWNsYXNzIGQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsdCl7c3VwZXIoZSx0KX19bGV0IHA9ITE7Y29uc3QgaD1cIltAb3BlbmZpbi9zYWxlc2ZvcmNlXVwiLHc9KCk9PntwPSExfSxtPSgpPT57cD0hMCxnKFwidjIuMS4zXCIpfSx2PWU9PntpZihwJiYoZS5pbm5lckVycm9yP2NvbnNvbGUuZXJyb3IoaCxlLFwiXFxuXFxuKGlubmVyKVwiLGUuaW5uZXJFcnJvcik6Y29uc29sZS5lcnJvcihoLGUpLGUgaW5zdGFuY2VvZiBmKSl7Y29uc3R7cmVzdEFwaUVycm9yQ29kZTp0LHJlc3RBcGlFcnJvckRlc2NyaXB0aW9uOnJ9PWU7aWYocil7Y29uc3QgZT1yLnJlcGxhY2UoL1xcbi9nLFwiIFwiKS50cmltKCksbj10P2Ake3R9OiAke2V9YDplO2NvbnNvbGUud2FybihoLG4pfX19LGc9KC4uLmUpPT57cCYmY29uc29sZS5sb2coaCwuLi5lKX0seT0oLi4uZSk9PntwJiZjb25zb2xlLndhcm4oaCwuLi5lKX07d2luZG93LmZpbnx8T2JqZWN0LmFzc2lnbih3aW5kb3cse2Zpbjp7fX0pLE9iamVjdC5hc3NpZ24od2luZG93LmZpbix7SW50ZWdyYXRpb25zOntTYWxlc2ZvcmNlOntlbmFibGVMb2dnaW5nOm0sZGlzYWJsZUxvZ2dpbmc6d319fSk7Y29uc3QgYj1cIjU0LjBcIix4PS92WFhcXC5YL2ksRT1lPT4oQXJyYXkuaXNBcnJheShlKT9lOk9iamVjdC5lbnRyaWVzKGUpKS5yZWR1Y2UoKChlLHQpPT57Y29uc3Qgcj1BcnJheS5pc0FycmF5KGUpP3Q6dFsxXTtsZXQgbjtzd2l0Y2goITApe2Nhc2UgbnVsbD09cjpuPXI7YnJlYWs7Y2FzZVwic3RyaW5nXCI9PXR5cGVvZiByOm49ci5yZXBsYWNlKHgsXCJ2NTQuMFwiKTticmVhaztjYXNlIEFycmF5LmlzQXJyYXkocik6Y2FzZVwib2JqZWN0XCI9PXR5cGVvZiByOm49RShyKTticmVhaztkZWZhdWx0Om49cn1yZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnB1c2gobik6ZVt0WzBdXT1uLGV9KSxBcnJheS5pc0FycmF5KGUpP1tdOnt9KSxrPVwic2FsZXNmb3JjZS1hdXRoXCIsUz1cImh0dHBzOi8vbG9naW4uc2FsZXNmb3JjZS5jb20vc2VydmljZXMvb2F1dGgyL3N1Y2Nlc3NcIixBPShlLHQscik9PntlLmFjY2Vzc1Rva2VuJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXyh0LHIpLGUuYWNjZXNzVG9rZW4pLGUucmVmcmVzaFRva2VuJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTCh0LHIpLGUucmVmcmVzaFRva2VuKX0sVD1hc3luYyhlLHQscj0hMSk9PntsZXQgbjt0cnl7bj1uZXcgVVJMKGUpLm9yaWdpbn1jYXRjaChlKXt0aHJvdyBuZXcgYyhcIkludmFsaWQgU2FsZXNmb3JjZSBVUkxcIil9aWYoIS9zYWxlc2ZvcmNlLmNvbSQvaS50ZXN0KG4pKXRocm93IG5ldyBjKFwiSW52YWxpZCBTYWxlc2ZvcmNlIFVSTFwiKTtpZih2b2lkIDA9PT0obnVsbCE9dD90OnZvaWQgMCl8fFwiXCI9PT10LnRyaW0oKSl0aHJvdyBuZXcgYyhcIkNvbnN1bWVyIGtleSBub3QgcHJvdmlkZWRcIik7ZyhgQ29ubmVjdGluZyB0byAke259IHVzaW5nIGtleSAke3R9YCk7Y29uc3Qgbz1hd2FpdCAkKGUsdCk7aWYobylyZXR1cm4gbztnKFwiTm8gZXhpc3RpbmcgY29ubmVjdGlvbiBmb3VuZCwgc3RhcnRpbmcgYXV0aCBmbG93XCIpO2NvbnN0IGE9KGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maW5kKChlPT5lLmlkZW50aXR5Lm5hbWU9PT1rKSk7YSYmYXdhaXQgYS5jbG9zZSghMCk7Y29uc3QgdT1yP1wiaHR0cHM6Ly90ZXN0LnNhbGVzZm9yY2UuY29tXCI6XCJodHRwczovL2xvZ2luLnNhbGVzZm9yY2UuY29tXCIsbD0obmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpLGY9aigpLGQ9YXdhaXQgTyhmKSxwPWAke3V9L3NlcnZpY2VzL29hdXRoMi9hdXRob3JpemU/XFxuICAgIGNsaWVudF9pZD0ke3R9JlxcbiAgICByZWRpcmVjdF91cmk9JHtTfSZcXG4gICAgcmVzcG9uc2VfdHlwZT1jb2RlJlxcbiAgICBzY29wZT1hcGkrcmVmcmVzaF90b2tlbiZcXG4gICAgc3RhdGU9JHtsfSZcXG4gICAgY29kZV9jaGFsbGVuZ2U9JHtkfSZcXG4gICAgZGlzcGxheT1wb3B1cCZcXG4gICAgcHJvbXB0PXNlbGVjdF9hY2NvdW50XFxuICAgIGAucmVwbGFjZSgvXFxzL2csXCJcIiksaD1hd2FpdCBmaW4uV2luZG93LmNyZWF0ZSh7YWx3YXlzT25Ub3A6ITAsbWF4aW1pemFibGU6ITEsbWluaW1pemFibGU6ITEsYXV0b1Nob3c6ITEsZGVmYXVsdENlbnRlcmVkOiEwLGRlZmF1bHRIZWlnaHQ6NzAwLGRlZmF1bHRXaWR0aDo2MDAsaW5jbHVkZUluU25hcHNob3RzOiExLG5hbWU6ayxyZXNpemFibGU6ITEsc2F2ZVdpbmRvd1N0YXRlOiExLHNob3dUYXNrYmFySWNvbjohMSx1cmw6cH0pLHc9YXdhaXQgbmV3IFByb21pc2UoKChlLHQpPT57bGV0IHI7Y29uc3Qgbj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt3aW5kb3cuY2xlYXJJbnRlcnZhbChyKSx3aW5kb3cuY2xlYXJUaW1lb3V0KG4pLGgucmVtb3ZlQWxsTGlzdGVuZXJzKCksaC5jbG9zZSghMCk7Y29uc3QgZT1uZXcgcyhcIkF1dGhvcml6YXRpb24gdGltZWQgb3V0XCIpO3YoZSksdChlKX0pLDNlNSk7aC5hZGRMaXN0ZW5lcihcImNsb3NpbmdcIiwoYXN5bmMoKT0+e2coXCJVc2VyIGNsb3NlZCBhdXRoIHdpbmRvd1wiKSx3aW5kb3cuY2xlYXJJbnRlcnZhbChyKSx3aW5kb3cuY2xlYXJUaW1lb3V0KG4pLGgucmVtb3ZlQWxsTGlzdGVuZXJzKCk7Y29uc3QgZT1uZXcgcyhcIkZhaWxlZCB0byBjb21wbGV0ZSBhdXRob3JpemF0aW9uXCIpO3YoZSksdChlKX0pKSxyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pihhc3luYyhlLHQscixuLG8saSk9PntsZXQgYTt0cnl7YT1hd2FpdCBlLmdldEluZm8oKX1jYXRjaChlKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KSx3aW5kb3cuY2xlYXJUaW1lb3V0KHIpO2NvbnN0IG49bmV3IHMoXCJDb3VsZCBub3QgbG9jYXRlIG9hdXRoIGZsb3cgd2luZG93XCIpO3JldHVybiB2KG4pLGkobil9Y29uc3QgYz1uZXcgVVJMKGEudXJsKTtpZigwPT09bmV3IFVSTChhLnVybCkuaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoUy50b0xvd2VyQ2FzZSgpKSl7aWYod2luZG93LmNsZWFySW50ZXJ2YWwodCksd2luZG93LmNsZWFyVGltZW91dChyKSxlLnJlbW92ZUFsbExpc3RlbmVycygpLGUuY2xvc2UoITApLGMuc2VhcmNoUGFyYW1zLmdldChcInN0YXRlXCIpIT09bil7Y29uc3QgZT1uZXcgcyhcIlN0YXRlIG1pc21hdGNoXCIpO3JldHVybiB2KGUpLGkoZSl9Y29uc3QgYT1jLnNlYXJjaFBhcmFtcy5nZXQoXCJjb2RlXCIpO2lmKCFhKXtjb25zdCBlPW5ldyBzKFwiQXV0aG9yaXphdGlvbiBjb2RlIG1pc3NpbmdcIik7cmV0dXJuIHYoZSksaShlKX1yZXR1cm4gZyhcIkF1dGhvcml6YXRpb24gY29kZSByZWNlaXZlZFwiKSxvKGEpfWNvbnN0IHU9YXdhaXQgZS5leGVjdXRlSmF2YVNjcmlwdChcIndpbmRvdy5kb2N1bWVudC5ib2R5LmlubmVyVGV4dFwiKSxsPW5ldyBVUkxTZWFyY2hQYXJhbXModSkuZ2V0KFwiZXJyb3JfZGVzY3JpcHRpb25cIik7aWYobCl7d2luZG93LmNsZWFySW50ZXJ2YWwodCksd2luZG93LmNsZWFyVGltZW91dChyKSxlLnJlbW92ZUFsbExpc3RlbmVycygpLGUuY2xvc2UoITApO2NvbnN0IG49bFswXS50b1VwcGVyQ2FzZSgpK2wuc2xpY2UoMSksbz1uZXcgcyhuKTt2KG8pLGkobyl9ZWxzZSBhd2FpdCBlLmlzU2hvd2luZygpfHwoZyhcIlNob3dpbmcgYXV0aCB3aW5kb3dcIiksYXdhaXQgZS5zaG93KCEwKSxhd2FpdCBlLmZvY3VzKCkpfSkoaCxyLG4sbCxlLHQpKSw1MDApfSkpLG09YXdhaXQgUih3LGYsbix0KTtpZihnKFwiQ2hlY2tpbmcgY29ubmVjdGlvbiB3aXRoIG5ldyBhY2Nlc3MgdG9rZW5cIiksIWF3YWl0IEQobS5hY2Nlc3NUb2tlbixuKSl7Y29uc3QgZT1uZXcgaShcIkludmFsaWQgU2FsZXNmb3JjZSBvcmcgVVJMIG9yIGFjY2VzcyB0b2tlblwiKTt0aHJvdyB2KGUpLGV9cmV0dXJuIGcoXCJDb25uZWN0aW9uIGVzdGFibGlzaGVkXCIpLEEobSxuLHQpLHtjb25zdW1lcktleTp0LGRpc2Nvbm5lY3Q6QyhuLHQpLGdldEF1dGhUb2tlbnM6KCk9PlUobix0KSxvcmdVcmw6bixleGVjdXRlQXBpUmVxdWVzdDpQKG4sdCl9fSxDPShlLHIpPT5hc3luYygpPT57ZyhcIkRpc2Nvbm5lY3RpbmcgZnJvbSBTYWxlc2ZvcmNlXCIpO2xldCBuPXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMKGUscikpO2lmKG4pZyhcIlJldm9raW5nIHJlZnJlc2ggdG9rZW5cIik7ZWxzZXtpZihuPXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShfKGUscikpLCFuKXJldHVybiB2b2lkIGcoXCJObyB0b2tlbnMgZm91bmQgaW4gc3RvcmFnZVwiKTtnKFwiUmV2b2tpbmcgYWNjZXNzIHRva2VuXCIpfXRyeXthd2FpdCB0KCkuZ2V0KGAke2V9L3NlcnZpY2VzL29hdXRoMi9yZXZva2U/dG9rZW49JHtufWApfWNhdGNoKGUpe3koXCJGYWlsZWQgdG8gcmV2b2tlIHRva2Vuc1wiLG51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSl9QihlLHIpfSxSPWFzeW5jKGUscixuLG8pPT57ZyhcIkV4Y2hhbmdpbmcgYXV0aCBjb2RlIGZvciB0b2tlbnNcIik7Y29uc3QgaT1gJHtufS9zZXJ2aWNlcy9vYXV0aDIvdG9rZW5gLGE9YFxcbiAgICBncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZSZcXG4gICAgY2xpZW50X2lkPSR7b30mXFxuICAgIGNvZGU9JHtlfSZcXG4gICAgY29kZV92ZXJpZmllcj0ke3J9JlxcbiAgICByZWRpcmVjdF91cmk9JHtTfVxcbiAgICBgLnJlcGxhY2UoL1xccy9nLFwiXCIpO2xldCBjO3RyeXtjPShhd2FpdCB0KCkucG9zdChpLGEse2hlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn19KSkuZGF0YX1jYXRjaChlKXtjb25zdCB0PW5ldyBzKFwiRmFpbGVkIHRvIGV4Y2hhbmdlIGF1dGhvcml6YXRpb24gY29kZSBmb3IgYXV0aCB0b2tlbnNcIixlKTt0aHJvdyB2KHQpLHR9Y29uc3R7YWNjZXNzX3Rva2VuOnUscmVmcmVzaF90b2tlbjpsfT1jO2lmKCF1fHwhbCl0aHJvdyBuZXcgcyhcIk1pc3NpbmcgYWNjZXNzIHRva2VuIG9yIHJlZnJlc2ggdG9rZW4gZHVyaW5nIGNvZGUgZXhjaGFuZ2VcIik7cmV0dXJuIGcoXCJUb2tlbnMgcmVjZWl2ZWRcIikse2FjY2Vzc1Rva2VuOnUscmVmcmVzaFRva2VuOmx9fSxPPWFzeW5jIGU9Pntjb25zdCB0PShuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKSxyPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIix0KTtyZXR1cm4gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShyKSkpKS5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXCJfXCIpLnJlcGxhY2UoLz0rXFwkLyxcIlwiKX0saj0oKT0+e2NvbnN0IGU9bmV3IFVpbnQzMkFycmF5KDY0KTtyZXR1cm4gd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZSksQXJyYXkuZnJvbShlLChlPT5gMCR7ZS50b1N0cmluZygxNil9YC5zdWJzdHIoLTIpKSkuam9pbihcIlwiKX0sXz0oZSx0KT0+YGFjY2Vzcy10b2tlbl8jXyR7bmV3IFVSTChlKS5ob3N0bmFtZX1fI18ke3R9YCxVPShlLHQpPT4oe2FjY2Vzc1Rva2VuOndpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShfKGUsdCkpLHJlZnJlc2hUb2tlbjp3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTChlLHQpKX0pLCQ9YXN5bmMoZSx0KT0+e2xldCByO2lmKGcoXCJDaGVja2luZyBmb3IgZXhpc3RpbmcgY29ubmVjdGlvblwiKSwhZXx8IXQpcmV0dXJuIG51bGw7dHJ5e3I9bmV3IFVSTChlKS5vcmlnaW59Y2F0Y2goZSl7cmV0dXJuIG51bGx9Y29uc3R7YWNjZXNzVG9rZW46bn09VShyLHQpO2lmKCFuKXJldHVybiBudWxsO2lmKCFhd2FpdCBEKG4scikpdHJ5e2F3YWl0IEkocix0KX1jYXRjaChlKXtyZXR1cm4gbnVsbH1yZXR1cm4gZyhgQ29ubmVjdGlvbiBleGlzdHMgdG8gJHtlfWApLHtjb25zdW1lcktleTp0LGRpc2Nvbm5lY3Q6QyhyLHQpLGdldEF1dGhUb2tlbnM6KCk9PlUocix0KSxvcmdVcmw6cixleGVjdXRlQXBpUmVxdWVzdDpQKHIsdCl9fSxQPShlLHIpPT5hc3luYyhuLG8scyxhLHUpPT57Y29uc3R7YWNjZXNzVG9rZW46bH09VShlLHIpO2lmKCFsKXtjb25zdCBlPW5ldyBpO3Rocm93IHYoZSksZX1jb25zdCBkPXI9Pihhc3luYyhlLHIsbixvPVwiR0VUXCIscz17fSxpPXt9LGE9ITApPT57dmFyIHUsbDtpZighbil0aHJvdyBuZXcgYyhcIkFQSSBlbmRwb2ludCBub3QgcHJvdmlkZWRcIik7bGV0IGQ7aWYobj0obD1uKS5zdGFydHNXaXRoKFwiL1wiKT9sOmAvJHtsfWAsL15cXC9zZXJ2aWNlc1xcL2RhdGFcXC8vaS50ZXN0KG4pKXtjb25zdCBlPW51bGw9PT0odT0vXFwvdihcXHd7Mn1cXC5cXHcpXFwvLy5leGVjKG4pKXx8dm9pZCAwPT09dT92b2lkIDA6dVsxXTtpZighZSl0aHJvdyBuZXcgZihudWxsLFwiUkVTVCBBUEkgdmVyc2lvbiBub3Qgc3BlY2lmaWVkXCIpO3gudGVzdChuKT9uPW4ucmVwbGFjZShlLGIpOmUhPT1iJiZ5KGBSZXF1ZXN0ZWQgUkVTVCBBUEkgdmVyc2lvbiAoJHtlfSkgaXMgZGlmZmVyZW50IHRvIHRoZSBjdXJyZW50IHN1cHBvcnRlZCB2ZXJzaW9uICg1NC4wKS4gVXNpbmcgYW4gQVBJIHZlcnNpb24gb3RoZXIgdGhhbiBjdXJyZW50IHN1cHBvcnRlZCB2ZXJzaW9uIG1heSBjYXVzZSBlcnJvcnMuYCksZD1uZXcgUmVnRXhwKFwiL3NlcnZpY2VzL2RhdGEvdjU0LjAvY29tcG9zaXRlXCIsXCJpXCIpLnRlc3Qobik/RShzKTpzfWVsc2UgZD1zO2coYEV4ZWN1dGluZyAke28udG9VcHBlckNhc2UoKX0gQVBJIHJlcXVlc3QgdG8gJHtufWAsZCxpKSxhJiZPYmplY3QuYXNzaWduKGkse0F1dGhvcml6YXRpb246YEJlYXJlciAke3J9YH0pO3RyeXtsZXQgcjtzd2l0Y2goby50b1VwcGVyQ2FzZSgpKXtjYXNlXCJERUxFVEVcIjpyPWF3YWl0IHQoKS5kZWxldGUoYCR7ZX0ke259YCx7aGVhZGVyczppfSk7YnJlYWs7Y2FzZVwiR0VUXCI6cj1hd2FpdCB0KCkuZ2V0KGAke2V9JHtufWAse2hlYWRlcnM6aX0pO2JyZWFrO2Nhc2VcIkhFQURcIjpyPWF3YWl0IHQoKS5oZWFkKGAke2V9JHtufWAse2hlYWRlcnM6aX0pO2JyZWFrO2Nhc2VcIlBBVENIXCI6cj1hd2FpdCB0KCkucGF0Y2goYCR7ZX0ke259YCxzLHtoZWFkZXJzOml9KTticmVhaztjYXNlXCJQT1NUXCI6cj1hd2FpdCB0KCkucG9zdChgJHtlfSR7bn1gLGQse2hlYWRlcnM6aX0pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IGYobnVsbCxcIkludmFsaWQgSFRUUCBtZXRob2RcIil9cmV0dXJue2RhdGE6ci5kYXRhLHN0YXR1czpyLnN0YXR1c319Y2F0Y2goZSl7aWYoZSBpbnN0YW5jZW9mIGYpdGhyb3cgZTt0aHJvdyBuZXcgZihlKX19KShlLHIsbixvLHMsYSx1KTtsZXQgcDt0cnl7cD1hd2FpdCBkKGwpfWNhdGNoKHQpe2lmKCEodCBpbnN0YW5jZW9mIGYpKXRocm93IHYodCksdDtyZXR1cm4gYXdhaXQgTih0LGUscixsLGQpfXJldHVybiBwfSxMPShlLHQpPT5gcmVmcmVzaC10b2tlbl8jXyR7bmV3IFVSTChlKS5ob3N0bmFtZX1fI18ke3R9YCxOPWFzeW5jKGUsdCxyLG4sbyk9PntpZih2KGUpLGF3YWl0IHEoZSx0LG4pKXRyeXtjb25zdCBlPWF3YWl0IEkodCxyKTtyZXR1cm4gZyhcIlJldHJ5aW5nIHJlcXVlc3RcIiksYXdhaXQgbyhlLmFjY2Vzc1Rva2VuKX1jYXRjaChlKXt0aHJvdyB2KGUpLGV9dGhyb3cgZX0sST1hc3luYyhlLHIpPT57dmFyIG4sbztjb25zdHtyZWZyZXNoVG9rZW46c309VShlLHIpO2lmKCFzKXRocm93IEIoZSxyKSxuZXcgaShcIk5vIHJlZnJlc2ggdG9rZW4gYXZhaWxhYmxlXCIpO2coXCJSZWZyZXNoaW5nIGFjY2VzcyB0b2tlblwiKTtjb25zdCBhPWAke2V9L3NlcnZpY2VzL29hdXRoMi90b2tlbmAsYz1gXFxuICAgIGdyYW50X3R5cGU9cmVmcmVzaF90b2tlbiZcXG4gICAgY2xpZW50X2lkPSR7cn0mXFxuICAgIHJlZnJlc2hfdG9rZW49JHtzfVxcbiAgICBgLnJlcGxhY2UoL1xccy9nLFwiXCIpO2xldCB1O3RyeXt1PShhd2FpdCB0KCkucG9zdChhLGMse2hlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn19KSkuZGF0YX1jYXRjaCh0KXtjb25zdCBzPW51bGw9PT0obz1udWxsPT09KG49dC5yZXNwb25zZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGF0YSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZXJyb3JfZGVzY3JpcHRpb24sYT1cIkZhaWxlZCB0byByZWZyZXNoIGFjY2VzcyB0b2tlblwiO3Rocm93IGcocz9gJHthfTogJHtzfWA6YSksQihlLHIpLG5ldyBpKGEpfWNvbnN0e2FjY2Vzc190b2tlbjpsfT11O2lmKCFsKXRocm93IG5ldyBpKFwiTWlzc2luZyBhY2Nlc3MgdG9rZW4gYWZ0ZXIgcmVmcmVzaGluZ1wiKTtjb25zdCBmPXthY2Nlc3NUb2tlbjpsLHJlZnJlc2hUb2tlbjpzfTtyZXR1cm4gQShmLGUsciksZn0sQj0oZSx0KT0+e3dpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShfKGUsdCkpLHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMKGUsdCkpfSxxPWFzeW5jKGUsdCxyKT0+e3ZhciBuO3JldHVybihcIk5ldHdvcmsgRXJyb3JcIj09PShudWxsPT09KG49ZS5pbm5lckVycm9yKXx8dm9pZCAwPT09bj92b2lkIDA6bi5tZXNzYWdlKXx8XCJOZXR3b3JrIEVycm9yXCI9PT1lLm1lc3NhZ2UpJiYhYXdhaXQgRChyLHQpfSxEPWFzeW5jKGUscik9Pnt0cnl7YXdhaXQgdCgpLmdldChgJHtyfS9zZXJ2aWNlcy9vYXV0aDIvdXNlcmluZm8/b2F1dGhfdG9rZW49JHtlfWApfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfX0pKCk7dmFyIG89bi5NUyxzPW4uTV8saT1uLmhZLGE9bi5HNCxjPW4uX1csdT1uLm8sbD1uLkMzLGY9bi5mQixkPW4uaWYscD1uLiRqLGg9bi5VJCx3PW4uVTcsbT1uLkI1O2V4cG9ydHtvIGFzIEFwaUVycm9yLHMgYXMgQXV0aG9yaXphdGlvbkVycm9yLGkgYXMgQ29ubmVjdGlvbkVycm9yLGEgYXMgT2JqZWN0RGF0YUVycm9yLGMgYXMgUGFyYW1ldGVyRXJyb3IsdSBhcyBRdWVyeUVycm9yLGwgYXMgUmVzdEFwaUVycm9yLGYgYXMgU2VhcmNoRXJyb3IsZCBhcyBXb3Jrc3BhY2VFcnJvcixwIGFzIGNvbm5lY3QsaCBhcyBkaXNhYmxlTG9nZ2luZyx3IGFzIGVuYWJsZUxvZ2dpbmcsbSBhcyBnZXRDb25uZWN0aW9ufTsiLCIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17MzEzMzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtDTElBY3Rpb246KCk9PnplLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PnplLmVsLENMSVRlbXBsYXRlOigpPT56ZS55VyxkZXJlZ2lzdGVyOigpPT5ZZSxoaWRlOigpPT50dCxyZWdpc3RlcjooKT0+UWUsc2hvdzooKT0+ZXR9KTt2YXIgcj17fTtuLnIociksbi5kKHIse3N1YnNjcmliZTooKT0+b2V9KTt2YXIgbz17fTtuLnIobyksbi5kKG8se2NyZWF0ZTooKT0+R2V9KTt2YXIgaT1uKDY1MzIpLHM9big3NDA1KTtjb25zdCBhPVwiaG9tZVwiO3ZhciBjOyFmdW5jdGlvbihlKXtlLkNvbW1hbmRzPVwiaG9tZS1jb21tYW5kc1wifShjfHwoYz17fSkpO3ZhciBkLHU9big1ODA2KTtuKDc1NjQpOyFmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifShkfHwoZD17fSkpO2NvbnN0IGY9XCJhbGxcIixsPVwiMFwiLHA9XCI1XCIsZz1cIjZcIix3PSgpPT57fTtmdW5jdGlvbiBoKGUsdCl7cmV0dXJuIGU/YCR7ZX0tJHt0fWA6dH1mdW5jdGlvbiB5KGUpe3JldHVybmBfX3NlYXJjaC0ke2V9LXRvcGljX19gfWNvbnN0IHY9bmV3IE1hcDtmdW5jdGlvbiBtKGUsdCl7di5oYXMoZSl8fHYuc2V0KGUsbmV3IFNldCksdi5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIFMoZSx0KXtjb25zdCBuPXYuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IEM9bmV3IE1hcDtmdW5jdGlvbiBQKGUsdCl7Qy5oYXMoZSl8fEMuc2V0KGUsbmV3IFNldCksQy5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIFIoZSx0KXtjb25zdCBuPUMuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IGI9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBUKGUsdCl7Yi5oYXMoZSl8fGIuc2V0KGUsbmV3IE1hcCksYi5nZXQoZSkuc2V0KHQuaWQsdCk7Y29uc3Qgbj12LmdldChlKTtpZighbilyZXR1cm47Y29uc3Qgcj1bLi4ubl0ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChyKX1hc3luYyBmdW5jdGlvbiBJKGUsdCl7Y29uc3Qgbj1iLmdldChlKTtpZighbilyZXR1cm47bi5kZWxldGUodCk7Y29uc3Qgcj1DLmdldChlKTtpZighcilyZXR1cm47Y29uc3Qgbz1bLi4ucl0ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChvKX1mdW5jdGlvbiBMKGUpe3JldHVybiBiLmdldChlKT9bLi4uYi5nZXQoZSkudmFsdWVzKCldOltdfWZ1bmN0aW9uIGsoZSl7Y29uc3QgdD1iLmdldChlKTt0JiZ0LmNsZWFyKCl9ZnVuY3Rpb24gTShlLHQpe2NvbnN0IG49Yi5nZXQoZSk7cmV0dXJuIG4/bi5nZXQodCk6bnVsbH1mdW5jdGlvbiBCKGUsdCxuKXtyZXR1cm57Li4uZSxhY3Rpb246bnx8ZS5hY3Rpb25zWzBdLGRpc3BhdGNoZXJJZGVudGl0eTp0fX1mdW5jdGlvbiBPKGUsdCxuPVwiYXNjZW5kaW5nXCIpe2NvbnN0IHI9ZXx8W107aWYoIXQ/Lmxlbmd0aClyZXR1cm4gcjtjb25zdCBvPVtdLGk9bmV3IE1hcDt0LmZvckVhY2goKGU9PntpZihlLmtleSlyZXR1cm4gaS5zZXQoZS5rZXksZSk7by5wdXNoKGUpfSkpO2xldCBzPXIubWFwKChlPT57Y29uc3R7a2V5OnR9PWU7aWYodCYmaS5oYXModCkpe2NvbnN0IGU9aS5nZXQodCk7cmV0dXJuIGkuZGVsZXRlKHQpLGV9cmV0dXJuIGV9KSk7cmV0dXJuIHMucHVzaCguLi5pLnZhbHVlcygpLC4uLm8pLHM9XCJhc2NlbmRpbmdcIj09PW4/cy5zb3J0KCgoZSx0KT0+KG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKS0obnVsbCE9PXQuc2NvcmUmJnZvaWQgMCE9PXQuc2NvcmU/dC5zY29yZToxLzApKSk6cy5zb3J0KCgoZSx0KT0+KG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKS0obnVsbCE9PWUuc2NvcmUmJnZvaWQgMCE9PWUuc2NvcmU/ZS5zY29yZToxLzApKSksc31mdW5jdGlvbiBXKGUpe2NvbnN0IHQ9e307bGV0IG49W107bGV0IHI9W107bGV0IG89ZC5Jbml0aWFsO3QuZ2V0U3RhdHVzPSgpPT5vLHQuZ2V0UmVzdWx0QnVmZmVyPSgpPT5uLHQuc2V0UmVzdWx0QnVmZmVyPWU9PntuPWUsbj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0UmV2b2tlZEJ1ZmZlcj0oKT0+cix0LnNldFJldm9rZWRCdWZmZXI9ZT0+e3I9ZSxyPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5vbkNoYW5nZT13O2NvbnN0IGk9e307cmV0dXJuIHQucmVzPWksaS5jbG9zZT0oKT0+e28hPT1kLkNsb3NlJiYobz1kLkNsb3NlLHQub25DaGFuZ2UoKSl9LGkub3Blbj0oKT0+e28hPT1kLk9wZW4mJihvPWQuT3Blbix0Lm9uQ2hhbmdlKCkpfSxpLnJlc3BvbmQ9bj0+e2NvbnN0IHI9Tyh0LmdldFJlc3VsdEJ1ZmZlcigpLG4sZSk7dC5zZXRSZXN1bHRCdWZmZXIocil9LGkucmV2b2tlPSguLi5lKT0+e2NvbnN0IG49bmV3IFNldChlKSxyPXQuZ2V0UmVzdWx0QnVmZmVyKCkuZmlsdGVyKCgoe2tleTplfSk9Pntjb25zdCB0PW4uaGFzKGUpO3JldHVybiB0JiZuLmRlbGV0ZShlKSwhdH0pKTt0LnNldFJlc3VsdEJ1ZmZlcihyKSxuLnNpemUmJih0LmdldFJldm9rZWRCdWZmZXIoKS5mb3JFYWNoKChlPT5uLmFkZChlKSkpLHQuc2V0UmV2b2tlZEJ1ZmZlcihbLi4ubl0pKX0sdH1mdW5jdGlvbiBEKGUsdCxuKXtjb25zdCByPW5ldyBTZXQ7bGV0IG89ITE7cmV0dXJue2Nsb3NlOigpPT57bz0hMDtmb3IoY29uc3QgZSBvZiByKWUoKX0scmVxOntpZDp0LHRvcGljOmUsLi4ubixjb250ZXh0Om4/LmNvbnRleHR8fHt9LG9uQ2xvc2U6ZT0+e3IuYWRkKGUpLG8mJmUoKX0scmVtb3ZlTGlzdGVuZXI6ZT0+e3IuZGVsZXRlKGUpfX19fWZ1bmN0aW9uIHgoKXtyZXR1cm57bmFtZTpmaW4ubWUubmFtZSx1dWlkOmZpbi5tZS51dWlkfX1mdW5jdGlvbiBBKCl7bGV0IGU7dHJ5e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoIXQ/LmlkZW50aXR5KXJldHVybjtlPXQuaWRlbnRpdHkudXVpZH1jYXRjaChlKXt9cmV0dXJuIGV9Y29uc3QgRT1cImRlcmVnaXN0ZXJlZCBvciBkb2VzIG5vdCBleGlzdFwiLEY9bmV3IEVycm9yKGBwcm92aWRlciAke0V9YCksXz1uZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIiksJD1uZXcgRXJyb3IoXCJiYWQgcGF5bG9hZFwiKSxxPW5ldyBFcnJvcihcInN1YnNjcmlwdGlvbiByZWplY3RlZFwiKSxHPW5ldyBFcnJvcihgY2hhbm5lbCAke0V9YCksTj1uZXcgTWFwO2Z1bmN0aW9uIEgoZSl7Y29uc3QgdD1VKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgR31mdW5jdGlvbiBVKGUpe2NvbnN0IHQ9Ti5nZXQoZSk7aWYodClyZXR1cm4gdH1mdW5jdGlvbiBWKGUsdCl7Ti5zZXQoZSx0KX1jb25zdCBqPW5ldyBNYXA7ZnVuY3Rpb24gSyhlKXtqLmhhcyhlKXx8ai5zZXQoZSxuZXcgTWFwKTtjb25zdCB0PWouZ2V0KGUpO3JldHVybntnZXRSZXF1ZXN0c0ZvcklkZW50aXR5OmU9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybmAke2UudXVpZH06JHtlLm5hbWV9YH0oZSk7cmV0dXJuIHQuaGFzKG4pfHx0LnNldChuLG5ldyBNYXApLHQuZ2V0KG4pfX19YXN5bmMgZnVuY3Rpb24gWChlLHQpe3JldHVybihhd2FpdCBIKGUpKS5kaXNwYXRjaChsLHQpfWZ1bmN0aW9uIEooe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9KXtjb25zdCBuPU0uYmluZChudWxsLGUpLHI9SyhlKSxvPVguYmluZChudWxsLGUpO3JldHVybiBhc3luYyhlLGkpPT57aWYoIWV8fCFlLmlkfHwhZS5wcm92aWRlcklkKXtjb25zdCBlPSQ7cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3R7aWQ6cyxwcm92aWRlcklkOmF9PWUsYz1uKGEpO2lmKCFjKXtjb25zdCBlPUY7cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3QgZD1yLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkoaSk7bGV0IHU9ZC5nZXQoZS5pZCk7dXx8KHU9RCh0LHMsZSksZC5zZXQoZS5pZCx1KSk7Y29uc3QgZj1XKCksbD0oKT0+e2NvbnN0IGU9Zi5nZXRSZXN1bHRCdWZmZXIoKTtmLnNldFJlc3VsdEJ1ZmZlcihbXSk7Y29uc3QgdD1mLmdldFJldm9rZWRCdWZmZXIoKTtmLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IG49Zi5nZXRTdGF0dXMoKTtvKHtpZDpzLHByb3ZpZGVySWQ6YSxyZXN1bHRzOmUscmV2b2tlZDp0LHN0YXR1czpufSl9O2xldCBwPSEwLGc9ITE7Zi5vbkNoYW5nZT0oKT0+e2lmKHApcmV0dXJuIHA9ITEsdm9pZCBsKCk7Z3x8KGc9ITAsc2V0VGltZW91dCgoKCk9PntnPSExLGwoKX0pLDEwMCkpfTt0cnl7Y29uc3R7cmVzdWx0czplLGNvbnRleHQ6dH09YXdhaXQgYy5vblVzZXJJbnB1dCh1LnJlcSxmLnJlcyksbj1mLmdldFN0YXR1cygpO3JldHVybntpZDpzLHByb3ZpZGVySWQ6YSxzdGF0dXM6bixyZXN1bHRzOmUsY29udGV4dDp0fX1jYXRjaChlKXtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsZXJyb3I6ZS5tZXNzYWdlfX19fWFzeW5jIGZ1bmN0aW9uIFooZSx0LG4pe2NvbnN0IHI9bnx8YXdhaXQgSChlKSxvPXgoKSxpPXtpZGVudGl0eTpvLC4uLnQsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfTthd2FpdCByLmRpc3BhdGNoKFwiMlwiLGkpLGF3YWl0IFQoZSx7aWRlbnRpdHk6bywuLi50fSl9YXN5bmMgZnVuY3Rpb24geihlLHQpe2NvbnN0IG49YXdhaXQgSChlKTtyZXR1cm4gYXdhaXQgbi5kaXNwYXRjaChcIjNcIix0KSxJKGUsdCl9YXN5bmMgZnVuY3Rpb24gUShlLHQsbixyKXtjb25zdCBvPUIobix4KCksciksaT1NKGUsdCk7aWYoaSl7Y29uc3R7b25SZXN1bHREaXNwYXRjaDplfT1pO2lmKCFlKXJldHVybjtyZXR1cm4gZShvKX1jb25zdCBzPXtwcm92aWRlcklkOnQscmVzdWx0Om99O3JldHVybihhd2FpdCBIKGUpKS5kaXNwYXRjaChwLHMpfWFzeW5jIGZ1bmN0aW9uIFkoZSx0KXtjb25zdCBuPXsuLi50LGNvbnRleHQ6dD8uY29udGV4dHx8e319LHI9e30sbz1hc3luYyBmdW5jdGlvbiooZSx0LHtzZXRTdGF0ZTpufSl7Y29uc3Qgcj1hd2FpdCBIKGUpO2Zvcig7Oyl7Y29uc3QgZT1hd2FpdCByLmRpc3BhdGNoKFwiMVwiLHQpLG89ZS5lcnJvcjtpZihvKXRocm93IG5ldyBFcnJvcihvKTtjb25zdCBpPWU7aWYodC5pZD1pLmlkLG4oaS5zdGF0ZSksaS5kb25lKXJldHVybiBpLnZhbHVlO3lpZWxkIGkudmFsdWV9fShlLG4se3NldFN0YXRlOmU9PntyLnN0YXRlPWV9fSk7bGV0IGk9YXdhaXQgby5uZXh0KCk7cmV0dXJuIHIuaWQ9bi5pZCxyLmNsb3NlPSgpPT57IWFzeW5jIGZ1bmN0aW9uKGUsdCl7KGF3YWl0IEgoZSkpLmRpc3BhdGNoKGcse2lkOnR9KX0oZSxyLmlkKX0sci5uZXh0PSgpPT57aWYoaSl7Y29uc3QgZT1pO3JldHVybiBpPXZvaWQgMCxlfXJldHVybiBvLm5leHQoKX0scn1hc3luYyBmdW5jdGlvbiBlZShlKXtyZXR1cm4oYXdhaXQgSChlKSkuZGlzcGF0Y2goXCI0XCIsbnVsbCl9YXN5bmMgZnVuY3Rpb24gdGUoZSl7Y29uc3QgdD1hd2FpdCBIKGUpO3ZhciBuO249ZSxOLmRlbGV0ZShuKSxrKGUpLGF3YWl0IHQuZGlzY29ubmVjdCgpfWZ1bmN0aW9uIG5lKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49Syh0KTtyZXR1cm4gYXN5bmMgcj0+e2lmKCFVKHQpKXJldHVybjtjb25zdCBvPW4uZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShyKTtmb3IoY29uc3R7cmVxOmUsY2xvc2U6dH1vZiBvLnZhbHVlcygpKXQoKSxvLmRlbGV0ZShlLmlkKTtWKHQsKGFzeW5jIGU9Pntjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWF3YWl0IHJlKGUpO2Zvcihjb25zdCBlIG9mIEwodCkpYXdhaXQgWih0LGUsbik7cmV0dXJuIG59KShlKSl9fWFzeW5jIGZ1bmN0aW9uIHJlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49eSh0KSxyPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8NTA7dCsrKXRyeXtyZXR1cm4gYXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3dhaXQ6ITF9KX1jYXRjaChlKXtpZig0OT09PXQpdGhyb3cgZTthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLDFlMykpKX19KG4pO3JldHVybiByLnJlZ2lzdGVyKGwsSihlKSksci5yZWdpc3RlcihnLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9SyhlKTtyZXR1cm4oZSxuKT0+e2NvbnN0IHI9dC5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG4pLG89ci5nZXQoZS5pZCk7byYmKG8uY2xvc2UoKSxyLmRlbGV0ZShlLmlkKSl9fSh0KSksci5yZWdpc3RlcihwLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgcj1NKGUsdC5wcm92aWRlcklkKTtpZighcilyZXR1cm47Y29uc3R7b25SZXN1bHREaXNwYXRjaDpvfT1yO3JldHVybiBvPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixvKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLHIub25EaXNjb25uZWN0aW9uKG5lKGUpKSxyfWFzeW5jIGZ1bmN0aW9uIG9lKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHxmLG49KFwic3RyaW5nXCI9PXR5cGVvZiBlP251bGw6ZT8udXVpZCl8fEEoKSxyPWgobix0KSxvPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpyfTtsZXQgaT1VKHIpO3JldHVybiBpfHwoaT1yZShvKSxWKHIsaSksYXdhaXQgaSkse2dldEFsbFByb3ZpZGVyczplZS5iaW5kKG51bGwscikscmVnaXN0ZXI6Wi5iaW5kKG51bGwsciksc2VhcmNoOlkuYmluZChudWxsLHIpLGRlcmVnaXN0ZXI6ei5iaW5kKG51bGwsciksZGlzcGF0Y2g6US5iaW5kKG51bGwsciksZGlzY29ubmVjdDp0ZS5iaW5kKG51bGwscil9fWNvbnN0IGllPW5ldyBNYXA7ZnVuY3Rpb24gc2UoZSl7Y29uc3QgdD1hZShlKTtpZih0KXJldHVybiB0O3Rocm93IEd9ZnVuY3Rpb24gYWUoZSl7Y29uc3QgdD1pZS5nZXQoZSk7aWYodClyZXR1cm4gdH1jb25zdCBjZT1uZXcgTWFwO2Z1bmN0aW9uIGRlKGUsdCl7Y2UuaGFzKGUpfHxjZS5zZXQoZSxuZXcgU2V0KSxjZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIHVlKGUsdCl7Y29uc3Qgbj1jZS5nZXQoZSk7biYmbi5kZWxldGUodCl9dmFyIGZlPW4oNTMxNik7ZnVuY3Rpb24gbGUoZSl7cmV0dXJuWy4uLkwoZSldLm1hcCgoZT0+KHsuLi5lLG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0pKSl9YXN5bmMgZnVuY3Rpb24gcGUoZSx0KXtpZihNKGUsdC5pZCkpdGhyb3cgbmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpO2NvbnN0IG49eCgpO2F3YWl0IFQoZSx7aWRlbnRpdHk6biwuLi50fSl9ZnVuY3Rpb24gZ2UoZSx0KXtJKGUsdCl9YXN5bmMgZnVuY3Rpb24gd2UoZSx0LG4scil7Y29uc3Qgbz1NKGUsdCk7aWYoIW8pdGhyb3cgRjtjb25zdHtvblJlc3VsdERpc3BhdGNoOml9PW87aWYoIWkpcmV0dXJuO3JldHVybiBpKEIobix4KCkscikpfWFzeW5jIGZ1bmN0aW9uKmhlKGUsdCxuKXtjb25zdCByPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXSxyPVtdLG89W10saT1bXTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPVcocy5zY29yZU9yZGVyKSxhPXtyZXN1bHRzOltdLHByb3ZpZGVyOntpZDpzLmlkLGlkZW50aXR5OnMuaWRlbnRpdHksdGl0bGU6cy50aXRsZSxzY29yZU9yZGVyOnMuc2NvcmVPcmRlcixpY29uOnMuaWNvbn19O24ucHVzaChhKSxyLnB1c2goZSk7Y29uc3QgYz0oYXN5bmMoKT0+e3RyeXtjb25zdHtyZXN1bHRzOm4sY29udGV4dDpyfT1hd2FpdCBzLm9uVXNlcklucHV0KHQsZS5yZXMpO2EucmVzdWx0cz1PKGEucmVzdWx0cyxuKSxhLmNvbnRleHQ9ey4uLmEuY29udGV4dCwuLi5yfX1jYXRjaChlKXthLmVycm9yPWV9Yy5kb25lPSEwfSkoKTtpLnB1c2goYyksby5wdXNoKG8ubGVuZ3RoKX1yZXR1cm57cHJvdmlkZXJSZXNwb25zZXM6bixsaXN0ZW5lclJlc3BvbnNlczpyLG9wZW5MaXN0ZW5lclJlc3BvbnNlczpvLGluaXRpYWxSZXNwb25zZVByb21pc2VzOml9fSh0LnRhcmdldHM/dC50YXJnZXRzLm1hcCgodD0+TShlLHQpKSkuZmlsdGVyKChlPT4hIWUpKTpbLi4uTChlKS5maWx0ZXIoKGU9PiFlLmhpZGRlbikpXSx0KSx7cHJvdmlkZXJSZXNwb25zZXM6byxsaXN0ZW5lclJlc3BvbnNlczppfT1yO2xldHtvcGVuTGlzdGVuZXJSZXNwb25zZXM6cyxpbml0aWFsUmVzcG9uc2VQcm9taXNlczphfT1yLGM9ZmUuRC5GZXRjaGluZztjb25zdCB1PWU9PntjPWUsbi5zZXRTdGF0ZShjKX07bGV0IGYsbD0hMTt0Lm9uQ2xvc2UoKCgpPT57bD0hMCxmJiZmKCl9KSk7ZG97bGV0IGU9ITE7aWYoYS5sZW5ndGgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gb2YgYSluLmRvbmU/ZT0hMDp0LnB1c2gobik7YT10LGEubGVuZ3RofHwodShmZS5ELkZldGNoZWQpLGU9ITApfWxldCB0LG49ITE7Y29uc3Qgcj0oKT0+e249ITAsdCYmdCgpfSxwPVtdO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IG49aVt0XSxzPW9bdF0sYT1uLmdldFN0YXR1cygpOyhhPT09ZC5PcGVufHxjPT09ZmUuRC5GZXRjaGluZyYmYT09PWQuSW5pdGlhbCkmJihwLnB1c2godCksbi5vbkNoYW5nZT1yKTtjb25zdCB1PW4uZ2V0UmVzdWx0QnVmZmVyKCk7dS5sZW5ndGgmJihuLnNldFJlc3VsdEJ1ZmZlcihbXSkscy5yZXN1bHRzPU8ocy5yZXN1bHRzLHUpLGU9ITApO2NvbnN0IGY9bi5nZXRSZXZva2VkQnVmZmVyKCk7aWYoZi5sZW5ndGgpe24uc2V0UmV2b2tlZEJ1ZmZlcihbXSk7Y29uc3QgdD1uZXcgU2V0KGYpO3MucmVzdWx0cz1zLnJlc3VsdHMuZmlsdGVyKCgoe2tleTplfSk9PiF0LmhhcyhlKSkpLGU9ITB9fWlmKHM9cCxlJiYoeWllbGQgbyksbClicmVhaztufHwocy5sZW5ndGh8fGEubGVuZ3RoKSYmYXdhaXQgUHJvbWlzZS5yYWNlKFsuLi5hLG5ldyBQcm9taXNlKChlPT57dD1lfSkpLG5ldyBQcm9taXNlKChlPT57Zj1lfSkpXSl9d2hpbGUocy5sZW5ndGh8fGEubGVuZ3RoKTtyZXR1cm4gdShmZS5ELkNvbXBsZXRlKSxvfWxldCB5ZT0wO2Z1bmN0aW9uIHZlKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSxuKXt5ZSs9MTtjb25zdCByPUQodCx5ZS50b1N0cmluZygpLG4pLG89aGUoZSxyLnJlcSx7c2V0U3RhdGU6ZT0+e28uc3RhdGU9ZX19KTtyZXR1cm4gby5pZD15ZS50b1N0cmluZygpLG8uY2xvc2U9ci5jbG9zZSxvLnN0YXRlPWZlLkQuRmV0Y2hpbmcsb31jb25zdCBtZT1uZXcgTWFwO2Z1bmN0aW9uIFNlKGUsdCl7cmV0dXJuYCR7ZX06JHt0fWB9ZnVuY3Rpb24gQ2UoZSl7cmV0dXJuIGFzeW5jKHQsLi4ubik9PntpZighdClyZXR1cm57ZXJyb3I6JC5tZXNzYWdlfTtsZXQgcjtpZih0LmlkKXI9U2UoZS5uYW1lc3BhY2VkVG9waWMsdC5pZCk7ZWxzZXtjb25zdCBuPXZlKGUsdCk7cj1TZShlLm5hbWVzcGFjZWRUb3BpYyxuLmlkKSx0LmlkPW4uaWQsbWUuc2V0KHIse2dlbmVyYXRvcjpufSl9Y29uc3Qgbz1tZS5nZXQocik7Y2xlYXJUaW1lb3V0KG8udGltZW91dCk7Y29uc3QgaT1hd2FpdCBvLmdlbmVyYXRvci5uZXh0KCk7cmV0dXJuIG8udGltZW91dD1mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoKCgpPT57bWUuZGVsZXRlKGUpfSksMWU0KX0ociksey4uLmksaWQ6dC5pZCxzdGF0ZTpvLmdlbmVyYXRvci5zdGF0ZX19fWZ1bmN0aW9uIFBlKGUsdCxuKXtyZXR1cm4gc2UoZSkuZGlzcGF0Y2godCxnLHtpZDpufSl9ZnVuY3Rpb24gUmUoZSl7cmV0dXJuIHQ9PmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1TZShlLHQpLHI9bWUuZ2V0KG4pO3ImJnIuZ2VuZXJhdG9yLmNsb3NlKCl9KGUsdC5pZCl9YXN5bmMgZnVuY3Rpb24gYmUoZSx0LHtpZDpuLHF1ZXJ5OnIsY29udGV4dDpvLHRhcmdldHM6aX0pe2NvbnN0IHM9c2UoZSksYT17aWQ6bixxdWVyeTpyLGNvbnRleHQ6byx0YXJnZXRzOmkscHJvdmlkZXJJZDp0LmlkfSxjPWF3YWl0IHMuZGlzcGF0Y2godC5pZGVudGl0eSxsLGEpLGQ9Yy5lcnJvcjtpZihkKXRocm93IG5ldyBFcnJvcihkKTtyZXR1cm4gY31jb25zdCBUZT1uZXcgTWFwO2Z1bmN0aW9uIEllKGUsdCxuKXtyZXR1cm5gJHtlfToke3QubmFtZX06JHt0LnV1aWR9OiR7bn1gfWNvbnN0IExlPW5ldyBNYXA7ZnVuY3Rpb24ga2UoZSx0LG4pe3JldHVybmAke2V9OiR7dH06JHtufWB9ZnVuY3Rpb24gTWUoZSx0KXtjb25zdCBuPUllLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLHI9UGUuYmluZChudWxsLGUsdC5pZGVudGl0eSksbz1iZS5iaW5kKG51bGwsZSx0KTtyZXR1cm4gYXN5bmMoaSxzKT0+e2NvbnN0IGE9bihpLmlkKTtpZighVGUuaGFzKGEpKXtjb25zdCBlPSgpPT57cihpLmlkKSxUZS5kZWxldGUoYSl9O1RlLnNldChhLGUpLGkub25DbG9zZShlKX1jb25zdCBjPWtlKGUsdC5pZCxpLmlkKSx1PSgpPT57TGUuZGVsZXRlKGMpLHMuY2xvc2UoKX07aS5vbkNsb3NlKHUpLExlLnNldChjLChlPT57ZS5yZXN1bHRzPy5sZW5ndGgmJnMucmVzcG9uZChlLnJlc3VsdHMpLGUucmV2b2tlZD8ubGVuZ3RoJiZzLnJldm9rZSguLi5lLnJldm9rZWQpLGUuc3RhdHVzPT09ZC5PcGVuJiZzLm9wZW4oKSxlLnN0YXR1cz09PWQuQ2xvc2UmJnUoKX0pKTtjb25zdCBmPWF3YWl0IG8oaSk7cmV0dXJuIGYuc3RhdHVzPT09ZC5PcGVuJiZzLm9wZW4oKSxmLnN0YXR1cyE9PWQuQ2xvc2UmJmYuc3RhdHVzIT09ZC5Jbml0aWFsfHx1KCksZn19ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gYXN5bmMgbj0+e2NvbnN0IHI9c2UoZSksbz17cHJvdmlkZXJJZDp0LmlkLHJlc3VsdDpufTtyZXR1cm4gci5kaXNwYXRjaCh0LmlkZW50aXR5LHAsbyl9fWNvbnN0IE9lPW5ldyBNYXA7ZnVuY3Rpb24gV2UoZSx0KXtyZXR1cm5gJHtlfS0ke3QubmFtZX0tJHt0LnV1aWR9YH1mdW5jdGlvbiBEZShlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5pZClyZXR1cm4gdm9pZCBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkodCkpO2lmKE0oZSx0LmlkKSl0aHJvdyBfO3QuaWRlbnRpdHk9bixhd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IG49V2UoZSx0LmlkZW50aXR5KTtPZS5oYXMobil8fE9lLnNldChuLFtdKSxPZS5nZXQobikucHVzaCh0LmlkKSxhd2FpdCBUKGUsey4uLnQsb25Vc2VySW5wdXQ6TWUoZSx0KSxvblJlc3VsdERpc3BhdGNoOkJlKGUsdCl9KX0oZSx0KX19ZnVuY3Rpb24geGUoZSl7cmV0dXJuIHQ9Pnt0JiZmdW5jdGlvbihlLHQpe2NvbnN0IG49TShlLHQpO2lmKCFuKXJldHVybjtjb25zdCByPVdlKGUsbi5pZGVudGl0eSksbz1PZS5nZXQocik7aWYobyl7Y29uc3Qgbj1vLmZpbmRJbmRleCgoZT0+ZT09PXQpKTstMSE9PW4mJihvLnNwbGljZShuLDEpLEkoZSx0KSl9fShlLHQpfX1jb25zdCBBZT1uZXcgTWFwO2Z1bmN0aW9uIEVlKGUsdCl7QWUuaGFzKGUpfHxBZS5zZXQoZSxuZXcgU2V0KSxBZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIEZlKGUsdCl7Y29uc3Qgbj1BZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gX2UoZSl7cmV0dXJuIGFzeW5jIHQ9PnshZnVuY3Rpb24oZSx0KXtjb25zdCBuPVdlKGUsdCkscj1PZS5nZXQobik7aWYocil7Zm9yKGNvbnN0IHQgb2YgcilJKGUsdCk7T2UuZGVsZXRlKG4pfX0oZSx0KTtjb25zdCBuPUFlLmdldChlKTtuJiZuLmZvckVhY2goKGU9PmUodCkpKX19YXN5bmMgZnVuY3Rpb24gJGUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj15KGUubmFtZXNwYWNlZFRvcGljKSxyPWF3YWl0KG89bixmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNyZWF0ZShvKSk7dmFyIG87cmV0dXJuIHIub25Db25uZWN0aW9uKGZ1bmN0aW9uKHtuYW1lc3BhY2VkVG9waWM6ZX0pe3JldHVybiBhc3luYyB0PT57Y29uc3Qgbj1jZS5nZXQoZSk7aWYobilmb3IoY29uc3QgZSBvZiBuKWlmKCFhd2FpdCBlKHQpKXRocm93IHF9fShlKSksci5vbkRpc2Nvbm5lY3Rpb24oX2UodCkpLHIucmVnaXN0ZXIoZyxSZSh0KSksci5yZWdpc3RlcihsLGZ1bmN0aW9uKGUpe3JldHVybiB0PT57Y29uc3Qgbj1rZShlLHQucHJvdmlkZXJJZCx0LmlkKSxyPUxlLmdldChuKTtyJiZyKHQpfX0odCkpLHIucmVnaXN0ZXIoXCIyXCIsRGUodCkpLHIucmVnaXN0ZXIoXCIzXCIseGUodCkpLHIucmVnaXN0ZXIoXCI0XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKCk9PmxlKGUpfSh0KSksci5yZWdpc3RlcihcIjFcIixDZShlKSksci5yZWdpc3RlcihwLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgcj1NKGUsdC5wcm92aWRlcklkKTtpZighcil0aHJvdyBGO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6b309cjtyZXR1cm4gbz8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4sbyh0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxyfWFzeW5jIGZ1bmN0aW9uIHFlKGUpe2NvbnN0IHQ9c2UoZSk7dmFyIG47bj1lLGllLmRlbGV0ZShuKSxhd2FpdCB0LmRlc3Ryb3koKSxrKGUpfWFzeW5jIGZ1bmN0aW9uIEdlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHxmLG49QSgpLHI9aChuLHQpLG89e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOnJ9O2xldCBpPWFlKHIpO2l8fChpPWF3YWl0ICRlKG8pLGZ1bmN0aW9uKGUsdCl7aWUuc2V0KGUsdCl9KHIsaSkpO2NvbnN0IHM9dWUuYmluZChudWxsLHIpLGE9RmUuYmluZChudWxsLHIpLGM9Uy5iaW5kKG51bGwsciksZD1SLmJpbmQobnVsbCxyKTtyZXR1cm57Z2V0QWxsUHJvdmlkZXJzOmxlLmJpbmQobnVsbCxyKSxzZWFyY2g6dmUuYmluZChudWxsLG8pLHJlZ2lzdGVyOnBlLmJpbmQobnVsbCxyKSxkZXJlZ2lzdGVyOmdlLmJpbmQobnVsbCxyKSxvblN1YnNjcmlwdGlvbjpkZS5iaW5kKG51bGwsciksb25EaXNjb25uZWN0OkVlLmJpbmQobnVsbCxyKSxvblJlZ2lzdGVyOm0uYmluZChudWxsLHIpLG9uRGVyZWdpc3RlcjpQLmJpbmQobnVsbCxyKSxkaXNwYXRjaDp3ZS5iaW5kKG51bGwsbyksZGlzY29ubmVjdDpxZS5iaW5kKG51bGwscikscmVtb3ZlTGlzdGVuZXI6ZT0+e3MoZSksYShlKSxjKGUpLGQoZSl9fX1jb25zdHtjcmVhdGU6TmV9PW8se3N1YnNjcmliZTpIZX09cixVZT17Y3JlYXRlOk5lLHN1YnNjcmliZTpIZSxkZWZhdWx0VG9waWM6XCJhbGxcIn0sVmU9KCk9Pntjb25zdCBlPXdpbmRvdztlLnNlYXJjaD1VZSxlLmZpbiYmKGUuZmluLlNlYXJjaD1VZSl9LGplPWU9Pntjb25zdCB0PSgpPT57VmUoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpfTtyZXR1cm4gdH07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7VmUoKTtjb25zdCBlPVwibG9hZFwiLHQ9amUoZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZSx0KTtjb25zdCBuPVwiRE9NQ29udGVudExvYWRlZFwiLHI9amUobik7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIobixyKX1jb25zdCBLZT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIFhlKCl7YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7S2Uuc2V0KGUsYXdhaXQgSGUoe3RvcGljOmUsdXVpZDp1LnE5LldvcmtzcGFjZX0pKX0oYSl9bGV0IEplO2FzeW5jIGZ1bmN0aW9uIFplKGUpe3JldHVybiBhd2FpdCBhc3luYyBmdW5jdGlvbigpe3JldHVybiBKZXx8KEplPVhlKCkpLEplfSgpLEtlLmdldChlKX12YXIgemU9bigzNzU4KTtjb25zdCBRZT1hc3luYyBlPT57aWYoIWUuaWNvbil0aHJvdyBuZXcgRXJyb3IoYCR7ZS5pZH0gcHJvdmlkZXIgbmVlZHMgdG8gaGF2ZSBpY29uIHByb3BlcnR5IGRlZmluZWQuYCk7YXdhaXQoMCxzLmFCKSgpO2NvbnN0IHQ9YXdhaXQgWmUoYSk7dHJ5e2NvbnN0IG49YXdhaXQgdC5yZWdpc3RlcihlKTtyZXR1cm4oMCxpLmNrKSh7YWxsb3dlZDohMH0pLG59Y2F0Y2goZSl7dGhyb3coMCxpLmNrKSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUubWVzc2FnZX0pLGV9fSxZZT1hc3luYyBlPT57YXdhaXQoMCxzLmFCKSgpO3JldHVybihhd2FpdCBaZShhKSkuZGVyZWdpc3RlcihlKX07YXN5bmMgZnVuY3Rpb24gZXQoKXtyZXR1cm4oYXdhaXQoMCxzLlhsKSgpKS5kaXNwYXRjaChzLk1sLlNob3dIb21lLHZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gdHQoKXtyZXR1cm4oYXdhaXQoMCxzLlhsKSgpKS5kaXNwYXRjaChzLk1sLkhpZGVIb21lLHZvaWQgMCl9fSwzMjk4OihlLHQsbik9PntuLmQodCx7dzooKT0+ci53fSk7dmFyIHI9big1MzE2KX0sMzc1ODooZSx0LG4pPT57dmFyIHIsbyxpO24uZCh0LHtQdDooKT0+cix5VzooKT0+byxlbDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShpfHwoaT17fSkpfSw3NTY0OihlLHQsbik9PntuKDMyOTgpLG4oMzc1OCksbig2MTE0KSxuKDIxMDkpfSw2MTE0OihlLHQsbik9Pnt2YXIgcixvO24uZCh0LHtMOigpPT5yLFQ6KCk9Pm99KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShvfHwobz17fSkpfSwyMTA5OihlLHQsbik9PntuLmQodCx7cDY6KCk9PnIsR286KCk9Pm8sYkk6KCk9PmksWko6KCk9PnN9KTtjb25zdCByPXtDb250YWluZXI6XCJDb250YWluZXJcIixCdXR0b246XCJCdXR0b25cIn0sbz17VGV4dDpcIlRleHRcIixJbWFnZTpcIkltYWdlXCIsTGlzdDpcIkxpc3RcIn0saT17Li4uciwuLi5vfTt2YXIgczshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KHN8fChzPXt9KSl9LDMxNzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtBcHBNYW5pZmVzdFR5cGU6KCk9PmkuTCxTdG9yZWZyb250VGVtcGxhdGU6KCk9PmkuVCxkZXJlZ2lzdGVyOigpPT5mLGhpZGU6KCk9PmwscmVnaXN0ZXI6KCk9PnUsc2hvdzooKT0+cH0pO3ZhciByPW4oNjUzMiksbz1uKDc0MDUpO24oNzU2NCk7dmFyIGk9big2MTE0KTtsZXQgcztjb25zdCBhPW5ldyBNYXAsYz1lPT57aWYoIWEuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gYS5nZXQoZSl9LGQ9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxvLlhsKSgpO2lmKGEuaGFzKGUuaWQpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBwcm92aWRlciB3aXRoIGlkICR7ZS5pZH0gYWxyZWFkeSByZWdpc3RlcmVkYCk7cmV0dXJuIGEuc2V0KGUuaWQsZSksKGU9PntlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKG8uTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcywoZT0+YyhlKS5nZXRBcHBzKCkpKSxlLnJlZ2lzdGVyKG8uTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyLChlPT5jKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihvLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlLChlPT5jKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKG8uTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbiwoZT0+YyhlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKG8uTWwuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwLCgoe2lkOmUsYXBwOnR9KT0+YyhlKS5sYXVuY2hBcHAodCkpKSl9KSh0KSx0LmRpc3BhdGNoKG8uTWwuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIsZSl9LHU9ZT0+KHM9ZChlKSwoMCxyLmQ5KSh7YWxsb3dlZDohMH0pLHMpLGY9YXN5bmMgZT0+e2F3YWl0IHMsYS5kZWxldGUoZSk7cmV0dXJuKGF3YWl0KDAsby5YbCkoKSkuZGlzcGF0Y2goby5NbC5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLGUpfSxsPWFzeW5jKCk9Pnthd2FpdCBzLGF3YWl0KDAsby5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxvLkRtKSgpKS5kaXNwYXRjaChvLk1sLkhpZGVTdG9yZWZyb250LHZvaWQgMCkpKCl9LHA9YXN5bmMoKT0+e2F3YWl0IHMsYXdhaXQoMCxvLmFCKSgpLGF3YWl0KGFzeW5jKCk9Pihhd2FpdCgwLG8uRG0pKCkpLmRpc3BhdGNoKG8uTWwuU2hvd1N0b3JlZnJvbnQsbnVsbCkpKCl9fSw3NDA1OihlLHQsbik9PntuLmQodCx7TWw6KCk9PnMsRG06KCk9PmEsWGw6KCk9PmYsYUI6KCk9PnV9KTt2YXIgcj1uKDY2NzgpO2NvbnN0IG89ci5BeCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7dmFyIGk9bigxMjEpO3ZhciBzOyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVycz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyc1wiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwiLGUuQ3JlYXRlU3RvcmVmcm9udFdpbmRvdz1cImNyZWF0ZS1zdG9yZWZyb250LXdpbmRvd1wiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwifShzfHwocz17fSkpO2NvbnN0IGE9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuKCk9PntpZighci5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCBvO2NvbnN0IG49YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUpO3JldHVybiBuLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLG59KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgobj0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke259YCl9KSkpLHR9fShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksYz1cImlzTGF1bmNoZWRWaWFMaWJcIixkPWU9Pntjb25zdCB0PW5ldyBVUkwoZSk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLmFwcGVuZChjLFwidHJ1ZVwiKSx0LnRvU3RyaW5nKCl9LHU9YXN5bmMoKT0+e2lmKCFhd2FpdCgwLGkuSlYpKGkuaVcpKXJldHVybihyLlpLfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSkmJmF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChkKHIuYVcpKSxmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihkKHIuR1gpKX0sZj1hc3luYygpPT4oYXdhaXQgdSgpLGEoKSl9LDU4MDY6KGUsdCxuKT0+e24uZCh0LHtxOTooKT0+cn0pO3ZhciByLG8saSxzPW4oNjY3OCk7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oaXx8KGk9e30pKTtzLkFCLHMuQUIsci5Xb3Jrc3BhY2Usci5Xb3Jrc3BhY2V9LDY2Nzg6KGUsdCxuKT0+e3ZhciByO24uZCh0LHtzUzooKT0+byxBeDooKT0+aSxBQjooKT0+YSxvQzooKT0+YyxaSzooKT0+ZCxHWDooKT0+dSxhVzooKT0+Zix1MDooKT0+cH0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0ocnx8KHI9e30pKTtjb25zdCBvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4saT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxzPWk/d2luZG93Lm9yaWdpbjpyLkxvY2FsLGE9byYmZmluLm1lLnV1aWQsYz1vJiZmaW4ubWUubmFtZSxkPShvJiZmaW4ubWUuZW50aXR5VHlwZSxcInByb2RcIj09PXIuTG9jYWwpLHU9KHIuRGV2LHIuU3RhZ2luZyxyLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLGY9XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS83LjMuNy9hcHAuanNvblwiLGw9ZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTpzK2UscD0obChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzcuMy43XCIpLGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS83LjMuN1wiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZsKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJmwoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCI3LjMuN1wiKX0sNjUzMjooZSx0LG4pPT57bi5kKHQse2NrOigpPT5hLGQ5OigpPT5jfSk7dmFyIHIsbz1uKDY2NzgpLGk9bigxMjEpOyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJCcm93c2VyXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIn0ocnx8KHI9e30pKTtjb25zdCBzPWFzeW5jKGUsdCk9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8by51MCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjpvLnUwLC4uLnR9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcIndvcmtzcGFjZS1saWNlbnNpbmdcIixkYXRhOm59KX0sYT1hc3luYyBlPT57aS5PSS51dWlkPT09aS5HaS51dWlkJiZpLk9JLm5hbWU9PT1pLkdpLm5hbWV8fHMoci5Ib21lLGUpfSxjPWFzeW5jIGU9PntzKHIuU3RvcmVmcm9udCxlKX19LDEyMTooZSx0LG4pPT57bi5kKHQse0dpOigpPT5jLE9JOigpPT5kLGlXOigpPT51LEpWOigpPT5mfSk7dmFyIHIsbyxpPW4oNTgwNikscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0ob3x8KG89e30pKTtmdW5jdGlvbiBhKGUpe2lmKCFzLnNTKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IGM9e25hbWU6cy5vQyx1dWlkOnMuQUJ9O2NvbnN0IGQ9e25hbWU6ci5Ib21lLHV1aWQ6aS5xOS5Xb3Jrc3BhY2V9LHU9KHIuRG9jayxpLnE5LldvcmtzcGFjZSxyLlN0b3JlZnJvbnQsaS5xOS5Xb3Jrc3BhY2Use25hbWU6aS5xOS5Xb3Jrc3BhY2UsdXVpZDppLnE5LldvcmtzcGFjZX0pO2NvbnN0IGY9ZT0+YShlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpfSw1MzE2OihlLHQsbik9Pnt2YXIgcixvO24uZCh0LHtEOigpPT5yLHc6KCk9Pm99KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KG98fChvPXt9KSl9fSx0PXt9O2Z1bmN0aW9uIG4ocil7dmFyIG89dFtyXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIGk9dFtyXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbcl0oaSxpLmV4cG9ydHMsbiksaS5leHBvcnRzfW4uZD0oZSx0KT0+e2Zvcih2YXIgciBpbiB0KW4ubyh0LHIpJiYhbi5vKGUscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITAsZ2V0OnRbcl19KX0sbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciByPXt9OygoKT0+e24ucihyKSxuLmQocix7QXBwTWFuaWZlc3RUeXBlOigpPT5wLkwsQnV0dG9uU3R5bGU6KCk9PmYuWkosQ0xJQWN0aW9uOigpPT5sLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PmwuZWwsQ0xJVGVtcGxhdGU6KCk9PmwueVcsQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5mLnA2LEhvbWU6KCk9Pm8sTGVnYWN5OigpPT5lLFByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5HbyxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT51LncsU3RvcmVmcm9udDooKT0+ZCxTdG9yZWZyb250VGVtcGxhdGU6KCk9PnAuVCxUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PmYuYkl9KTt2YXIgZT17fTtuLnIoZSksbi5kKGUse2dldFBhZ2VzOigpPT5hLGdldFdvcmtzcGFjZXM6KCk9PmN9KTt2YXIgdCxvPW4oMzEzMyk7big2Njc4KSxuKDEyMSk7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifSh0fHwodD17fSkpO25ldyBNYXA7dmFyIGk7IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCJ9KGl8fChpPXt9KSk7dmFyIHM9big3NDA1KTtjb25zdCBhPSgpPT5hc3luYyBmdW5jdGlvbigpe3JldHVybihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuTWwuR2V0TGVnYWN5UGFnZXMsdm9pZCAwKX0oKSxjPSgpPT4oYXN5bmMoKT0+KGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5NbC5HZXRMZWdhY3lXb3Jrc3BhY2VzLHZvaWQgMCkpKCk7dmFyIGQ9bigzMTcpLHU9bigzMjk4KSxmPW4oMjEwOSksbD1uKDM3NTgpLHA9big2MTE0KX0pKCksbW9kdWxlLmV4cG9ydHM9cn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQge1xuICAgIGNvbm5lY3QsXG4gICAgQ29ubmVjdGlvbkVycm9yLFxuICAgIGVuYWJsZUxvZ2dpbmcsXG4gICAgdHlwZSBTYWxlc2ZvcmNlQ29ubmVjdGlvbixcbiAgICB0eXBlIFNhbGVzZm9yY2VSZXN0QXBpU2VhcmNoUmVzcG9uc2Vcbn0gZnJvbSBcIkBvcGVuZmluL3NhbGVzZm9yY2VcIjtcbmltcG9ydCB7XG4gICAgQ0xJRmlsdGVyT3B0aW9uVHlwZSxcbiAgICBDTElUZW1wbGF0ZSxcbiAgICB0eXBlIENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG4gICAgdHlwZSBDTElGaWx0ZXIsXG4gICAgdHlwZSBDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlLFxuICAgIHR5cGUgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdCxcbiAgICB0eXBlIENMSVNlYXJjaFJlc3VsdExpc3QsXG4gICAgdHlwZSBDTElTZWFyY2hSZXN1bHRQbGFpbixcbiAgICB0eXBlIENMSVNlYXJjaFJlc3VsdFNpbXBsZVRleHQsXG4gICAgdHlwZSBIb21lU2VhcmNoUmVzcG9uc2UsXG4gICAgdHlwZSBIb21lU2VhcmNoUmVzdWx0XG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB0eXBlIHsgSW50ZWdyYXRpb24sIEludGVncmF0aW9uTWFuYWdlciwgSW50ZWdyYXRpb25Nb2R1bGUgfSBmcm9tIFwiLi4vLi4vaW50ZWdyYXRpb25zLXNoYXBlc1wiO1xuaW1wb3J0IHR5cGUge1xuICAgIFNhbGVzZm9yY2VBY2NvdW50LFxuICAgIFNhbGVzZm9yY2VCYXRjaFJlcXVlc3QsXG4gICAgU2FsZXNmb3JjZUJhdGNoUmVxdWVzdEl0ZW0sXG4gICAgU2FsZXNmb3JjZUJhdGNoUmVzcG9uc2UsXG4gICAgU2FsZXNmb3JjZUNvbnRhY3QsXG4gICAgU2FsZXNmb3JjZUNvbnRlbnROb3RlLFxuICAgIFNhbGVzZm9yY2VGZWVkRWxlbWVudFBhZ2UsXG4gICAgU2FsZXNmb3JjZUZlZWRJdGVtLFxuICAgIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxuICAgIFNhbGVzZm9yY2VTZXR0aW5ncyxcbiAgICBTYWxlc2ZvcmNlVGFza1xufSBmcm9tIFwiLi9zaGFwZXNcIjtcblxuLyoqXG4gKiBJbXBsZW1lbnQgdGhlIGludGVncmF0aW9uIHByb3ZpZGVyIGZvciBTYWxlc0ZvcmNlLlxuICovXG5leHBvcnQgY2xhc3MgU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIgaW1wbGVtZW50cyBJbnRlZ3JhdGlvbk1vZHVsZTxTYWxlc2ZvcmNlU2V0dGluZ3M+IHtcbiAgICAvKipcbiAgICAgKiBQcm92aWRlciBpZC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfUFJPVklERVJfSUQgPSBcInNhbGVzZm9yY2VcIjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgdG8gdXNlIGZvciBhIFNhbGVzRm9yY2UgcmVzdWx0LlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9CUk9XU0VfU0VBUkNIX1JFU1VMVF9LRVkgPSBcImJyb3dzZS1zYWxlc2ZvcmNlXCI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgZm9yIHRoZSBTYWxlRm9yY2UgZmlsdGVycy5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfT0JKRUNUU19GSUxURVJfSUQgPSBcInNhbGVzZm9yY2Utb2JqZWN0c1wiO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBub3QgY29ubmVjdGVkIHJlc3VsdC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfTk9UX0NPTk5FQ1RFRF9TRUFSQ0hfUkVTVUxUX0tFWSA9IFwic2FsZXNmb3JjZS1ub3QtY29ubmVjdGVkLXJlc3VsdFwiO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGludGVncmF0aW9uIG1hbmFnZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBfaW50ZWdyYXRpb25NYW5hZ2VyOiBJbnRlZ3JhdGlvbk1hbmFnZXIgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29ubmVjdGlvbiB0byBTYWxlc0ZvcmNlLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHByaXZhdGUgX3NhbGVzRm9yY2VDb25uZWN0aW9uOiBTYWxlc2ZvcmNlQ29ubmVjdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtb2R1bGUgaXMgYmVpbmcgcmVnaXN0ZXJlZC5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb25NYW5hZ2VyIFRoZSBtYW5hZ2VyIGZvciB0aGUgaW50ZWdyYXRpb24uXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIE5vdGhpbmcuXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIHJlZ2lzdGVyKFxuICAgICAgICBpbnRlZ3JhdGlvbk1hbmFnZXI6IEludGVncmF0aW9uTWFuYWdlcixcbiAgICAgICAgaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz5cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyID0gaW50ZWdyYXRpb25NYW5hZ2VyO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlZ2lzdGVyaW5nIFNhbGVzRm9yY2VcIik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9wZW5Db25uZWN0aW9uKGludGVncmF0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY29ubmVjdGluZyB0byBTYWxlc0ZvcmNlXCIsIGVycik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW9kdWxlIGlzIGJlaW5nIGRlcmVnaXN0ZXJlZC5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQHJldHVybnMgTm90aGluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgZGVyZWdpc3RlcihpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2YgdGhlIHN0YXRpYyBhcHBsaWNhdGlvbiBlbnRyaWVzLlxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyBUaGUgbGlzdCBvZiBhcHBsaWNhdGlvbiBlbnRyaWVzLlxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBnZXRBcHBTZWFyY2hFbnRyaWVzKGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+KTogUHJvbWlzZTxIb21lU2VhcmNoUmVzdWx0W10+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICBpZiAoaW50ZWdyYXRpb24/LmRhdGE/Lm9yZ1VybCkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIkJyb3dzZVwiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVySWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZVVybDogaW50ZWdyYXRpb24/LmRhdGE/Lm9yZ1VybCxcbiAgICAgICAgICAgICAgICAgICAgdGFnczogW1NhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRF1cbiAgICAgICAgICAgICAgICB9IGFzIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxuICAgICAgICAgICAgICAgIGljb246IGludGVncmF0aW9uLmljb24sXG4gICAgICAgICAgICAgICAga2V5OiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fQlJPV1NFX1NFQVJDSF9SRVNVTFRfS0VZLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5QbGFpbixcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJCcm93c2UgU2FsZXNmb3JjZVwiXG4gICAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdFBsYWluKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmdldFJlY29ubmVjdFNlYXJjaFJlc3VsdChpbnRlZ3JhdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gZW50cnkgaGFzIGJlZW4gc2VsZWN0ZWQuXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSByZXN1bHQgVGhlIGRpc3BhdGNoZWQgcmVzdWx0LlxuICAgICAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3QgcmVzcG9uc2UuXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgaXRlbSB3YXMgaGFuZGxlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgaXRlbVNlbGVjdGlvbihcbiAgICAgICAgaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4sXG4gICAgICAgIHJlc3VsdDogQ0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcbiAgICAgICAgbGFzdFJlc3BvbnNlOiBDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGNsaWNrZWQgdGhlIHJlY29ubmVjdCByZXN1bHQsIHJlY29ubmVjdCB0byBzYWxlc2ZvcmNlIGFuZCByZS1ydW4gcXVlcnlcbiAgICAgICAgaWYgKHJlc3VsdC5rZXkgPT09IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9OT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9wZW5Db25uZWN0aW9uKGludGVncmF0aW9uKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhPy5xdWVyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLmdldFNlYXJjaFJlc3VsdHMoaW50ZWdyYXRpb24sIHJlc3VsdC5kYXRhPy5xdWVyeSwgcmVzdWx0LmRhdGE/LmZpbHRlcnMsIGxhc3RSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UmVzcG9uc2UucmV2b2tlKFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9OT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3BvbnNlLnJlc3BvbmQocmVzdWx0cy5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG90aGVyd2lzZSBvcGVuIHRoZSByZXN1bHQgcGFnZSB1cmwgaW4gYnJvd3NlclxuICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEgYXMgU2FsZXNmb3JjZVJlc3VsdERhdGE7XG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQgJiYgdGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyICYmIHRoaXMuX2ludGVncmF0aW9uTWFuYWdlci5yb290VXJsICYmIHRoaXMuX2ludGVncmF0aW9uTWFuYWdlci5sYXVuY2hWaWV3KSB7XG4gICAgICAgICAgICBjb25zdCBwcmVsb2FkID0gYCR7dGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyLnJvb3RVcmx9L3ZpZXdzL3NhbGVzZm9yY2UvcHJlbG9hZC5qc2A7XG4gICAgICAgICAgICBjb25zdCB2aWV3T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IGRhdGEucGFnZVVybCxcbiAgICAgICAgICAgICAgICBmZGMzSW50ZXJvcEFwaTogXCIxLjJcIixcbiAgICAgICAgICAgICAgICBpbnRlcm9wOiB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0R3JvdXA6IFwiZ3JlZW5cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3VzdG9tRGF0YTogeyBidXR0b25MYWJlbDogXCJQcm9jZXNzIFBhcnRpY2lwYW50XCIgfSxcbiAgICAgICAgICAgICAgICBwcmVsb2FkU2NyaXB0czogW3sgdXJsOiBwcmVsb2FkIH1dLFxuICAgICAgICAgICAgICAgIHRhcmdldDogeyBuYW1lOiBcIlwiLCB1cmw6IFwiXCIsIHV1aWQ6IFwiXCIgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2ludGVncmF0aW9uTWFuYWdlci5sYXVuY2hWaWV3KHZpZXdPcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHNlYXJjaCByZXN1bHRzIGJhc2VkIG9uIHRoZSBxdWVyeSBhbmQgZmlsdGVycy5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3Qgc2VhcmNoIHJlc3BvbnNlIHVzZWQgZm9yIHVwZGF0aW5nIGV4aXN0aW5nIHJlc3VsdHMuXG4gICAgICogQHJldHVybnMgVGhlIGxpc3Qgb2YgcmVzdWx0cyBhbmQgbmV3IGZpbHRlcnMuXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGdldFNlYXJjaFJlc3VsdHMoXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+LFxuICAgICAgICBxdWVyeTogc3RyaW5nLFxuICAgICAgICBmaWx0ZXJzOiBDTElGaWx0ZXJbXSwgXG4gICAgICAgIGxhc3RSZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuICAgICk6IFByb21pc2U8SG9tZVNlYXJjaFJlc3BvbnNlPiB7XG4gICAgICAgIGlmICh0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgbGV0IHNlYXJjaFJlc3VsdHM6IChcbiAgICAgICAgICAgICAgICB8IFNhbGVzZm9yY2VBY2NvdW50XG4gICAgICAgICAgICAgICAgfCBTYWxlc2ZvcmNlQ29udGFjdFxuICAgICAgICAgICAgICAgIHwgU2FsZXNmb3JjZVRhc2tcbiAgICAgICAgICAgICAgICB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZVxuICAgICAgICAgICAgICAgIHwgU2FsZXNmb3JjZUZlZWRJdGVtXG4gICAgICAgICAgICApW107XG5cbiAgICAgICAgICAgIGxldCBzZWxlY3RlZE9iamVjdHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJzKSAmJiBmaWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RzRmlsdGVyID0gZmlsdGVycy5maW5kKHggPT4geC5pZCA9PT0gU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX09CSkVDVFNfRklMVEVSX0lEKTtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0c0ZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9iamVjdHMgPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG9iamVjdHNGaWx0ZXIub3B0aW9ucykgPyBvYmplY3RzRmlsdGVyLm9wdGlvbnMgOiBbb2JqZWN0c0ZpbHRlci5vcHRpb25zXVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHggPT4gQm9vbGVhbih4LmlzU2VsZWN0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCh4ID0+ICh4LnZhbHVlID09PSBcIk5vdGVcIiA/IFwiQ29udGVudE5vdGVcIiA6IHgudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0cyA9IGF3YWl0IHRoaXMuZ2V0QXBpU2VhcmNoUmVzdWx0cyhxdWVyeSwgc2VsZWN0ZWRPYmplY3RzKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBzZWFyY2hSZXN1bHRzLm1hcChzZWFyY2hSZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJXZWJzaXRlXCIgaW4gc2VhcmNoUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc2VhcmNoUmVzdWx0LmF0dHJpYnV0ZXMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlYXJjaFJlc3VsdC5JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0Lk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24/LmRhdGE/Lmljb25NYXAuYWNjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVySWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVVybDogdGhpcy5nZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiBbU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lEXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IENMSVRlbXBsYXRlLkNvbnRhY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlYXJjaFJlc3VsdC5OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0LkluZHVzdHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiUGhvbmVcIiwgc2VhcmNoUmVzdWx0LlBob25lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJUeXBlXCIsIHNlYXJjaFJlc3VsdC5UeXBlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJXZWJzaXRlXCIsIHNlYXJjaFJlc3VsdC5XZWJzaXRlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRDb250YWN0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiRW1haWxcIiBpbiBzZWFyY2hSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5jb250YWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJJZDogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiB0aGlzLmdldE9iamVjdFVybChzZWFyY2hSZXN1bHQuSWQsIGludGVncmF0aW9uLmRhdGE/Lm9yZ1VybCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ29udGFjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2VhcmNoUmVzdWx0Lk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUluaXRpYWxzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiRGVwYXJ0bWVudFwiLCBzZWFyY2hSZXN1bHQuRGVwYXJ0bWVudF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiRW1haWxcIiwgc2VhcmNoUmVzdWx0LkVtYWlsXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJXb3JrICNcIiwgc2VhcmNoUmVzdWx0LlBob25lXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRDb250YWN0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiRGVzY3JpcHRpb25cIiBpbiBzZWFyY2hSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuU3ViamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC50YXNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJJZDogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiB0aGlzLmdldE9iamVjdFVybChzZWFyY2hSZXN1bHQuSWQsIGludGVncmF0aW9uLmRhdGE/Lm9yZ1VybCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCJMaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlN1YmplY3RcIiwgc2VhcmNoUmVzdWx0LlN1YmplY3RdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJDb21tZW50c1wiLCBzZWFyY2hSZXN1bHQuRGVzY3JpcHRpb25dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRMaXN0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiVGV4dFByZXZpZXdcIiBpbiBzZWFyY2hSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIk5vdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlYXJjaFJlc3VsdC5JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0LlRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGludGVncmF0aW9uPy5kYXRhPy5pY29uTWFwLm5vdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VVcmw6IHRoaXMuZ2V0T2JqZWN0VXJsKHNlYXJjaFJlc3VsdC5JZCwgaW50ZWdyYXRpb24uZGF0YT8ub3JnVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogW1NhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIkxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiVGl0bGVcIiwgc2VhcmNoUmVzdWx0LlRpdGxlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiQ29udGVudFwiLCBzZWFyY2hSZXN1bHQ/LlRleHRQcmV2aWV3XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0TGlzdDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0b3JcIiBpbiBzZWFyY2hSZXN1bHQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWFyY2hSZXN1bHQudHlwZSA9PT0gXCJUZXh0UG9zdFwiIHx8IHNlYXJjaFJlc3VsdC50eXBlID09PSBcIkNvbnRlbnRQb3N0XCIpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2hhdHRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuYWN0b3I/LmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGludGVncmF0aW9uPy5kYXRhPy5pY29uTWFwLmNoYXR0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VVcmw6IHRoaXMuZ2V0T2JqZWN0VXJsKHNlYXJjaFJlc3VsdC5pZCwgaW50ZWdyYXRpb24uZGF0YT8ub3JnVXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogW1NhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5Db250YWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlQ29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZWFyY2hSZXN1bHQuYWN0b3I/LmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VJbml0aWFsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIkhlYWRlclwiLCBzZWFyY2hSZXN1bHQ/LmhlYWRlcj8udGV4dF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiTm90ZVwiLCBzZWFyY2hSZXN1bHQ/LmJvZHk/LnRleHRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlIHdlIGFyZSBvbmx5IHNlYXJjaGluZyBmb3IgYWNjb3VudHMsIGNvbnRhY3RzLCB0YXNrcywgY29udGVudCBub3RlcyBhbmQgY2hhdHRlclxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoQm9vbGVhbikgYXMgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdFtdO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25mdXNpbmctYXJyb3dcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RzID0gc2VhcmNoUmVzdWx0cy5tYXAocmVzdWx0ID0+XG4gICAgICAgICAgICAgICAgICAgIFwiYXR0cmlidXRlc1wiIGluIHJlc3VsdCA/IHJlc3VsdC5hdHRyaWJ1dGVzLnR5cGUgOiBcIkNoYXR0ZXJcIlxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBmaWx0ZXJlZFJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IHRoaXMuZ2V0U2VhcmNoRmlsdGVycyhvYmplY3RzLm1hcChjID0+IChjID09PSBcIkNvbnRlbnROb3RlXCIgPyBcIk5vdGVcIiA6IGMpKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBDb25uZWN0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFt0aGlzLmdldFJlY29ubmVjdFNlYXJjaFJlc3VsdChpbnRlZ3JhdGlvbiwgcXVlcnksIGZpbHRlcnMpXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBTYWxlc0ZvcmNlIHNlYXJjaCByZXN1bHRzXCIsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBjb25uZWN0aW9uIHRvIFNhbGVGb3JjZS5cbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBvcGVuQ29ubmVjdGlvbihpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoaW50ZWdyYXRpb24/LmRhdGE/Lm9yZ1VybCAmJiAhdGhpcy5fc2FsZXNGb3JjZUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdChcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdGlvbj8uZGF0YS5vcmdVcmwsXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb24/LmRhdGEuY29uc3VtZXJLZXksXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb24/LmRhdGEuaXNTYW5kYm94XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGNvbm5lY3Rpb24gdG8gU2FsZXNGb3JjZS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGNsb3NlQ29ubmVjdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkaXNjb25uZWN0aW5nIFNhbGVzRm9yY2VcIiwgZXJyKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2FsZXNGb3JjZUNvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIG9iamVjdCB1cmwgZnJvbSB0aGUgaWYgYW5kIG9yaWdpbi5cbiAgICAgKiBAcGFyYW0gb2JqZWN0SWQgVGhlIG9iamVjdCBpZC5cbiAgICAgKiBAcGFyYW0gc2FsZXNmb3JjZU9yZ09yaWdpbiBUaGUgb3JpZ2luIHVybC5cbiAgICAgKiBAcmV0dXJucyBUaGVuIG9iamVjdCB1cmwuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRPYmplY3RVcmwob2JqZWN0SWQ6IHN0cmluZywgc2FsZXNmb3JjZU9yZ09yaWdpbj86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmICghc2FsZXNmb3JjZU9yZ09yaWdpbikge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3NhbGVzZm9yY2VPcmdPcmlnaW59LyR7b2JqZWN0SWR9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcmVzdWx0cyBmcm9tIHRoZSBBUEkgdXNpbmcgYSBxdWVyeS5cbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIGNhbGwgdGhlIEFQSSB3aXRoLlxuICAgICAqIEBwYXJhbSBzZWxlY3RlZE9iamVjdHMgVGhlIHNlbGVjdGVkIGZpbHRlcnMuXG4gICAgICogQHJldHVybnMgVGhlIHNlYXJjaCByZXN1bHQgb2JqZWN0cyBmcm9tIHRoZSBBUEkuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRBcGlTZWFyY2hSZXN1bHRzKFxuICAgICAgICBxdWVyeTogc3RyaW5nLFxuICAgICAgICBzZWxlY3RlZE9iamVjdHM/OiBzdHJpbmdbXVxuICAgICk6IFByb21pc2U8XG4gICAgICAgIChTYWxlc2ZvcmNlQ29udGFjdCB8IFNhbGVzZm9yY2VBY2NvdW50IHwgU2FsZXNmb3JjZVRhc2sgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGUgfCBTYWxlc2ZvcmNlRmVlZEl0ZW0pW11cbiAgICA+IHtcbiAgICAgICAgY29uc3QgYWNjb3VudEZpZWxkU3BlYyA9IFwiQWNjb3VudChJZCwgSW5kdXN0cnksIE5hbWUsIFBob25lLCBUeXBlLCBXZWJzaXRlKVwiO1xuICAgICAgICBjb25zdCBjb250YWN0RmllbGRTcGVjID0gXCJDb250YWN0KERlcGFydG1lbnQsIEVtYWlsLCBJZCwgTmFtZSwgUGhvbmUsIFRpdGxlKVwiO1xuICAgICAgICBjb25zdCB0YXNrRmllbGRTcGVjID0gXCJUYXNrKElkLCBTdWJqZWN0LCBEZXNjcmlwdGlvbilcIjtcbiAgICAgICAgY29uc3QgY29udGVudE5vdGVGaWVsZFNwZWMgPSBcIkNvbnRlbnROb3RlKElkLCBUaXRsZSwgQ29udGVudCwgVGV4dFByZXZpZXcpXCI7XG4gICAgICAgIGNvbnN0IGZpZWxkU3BlY01hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KFtcbiAgICAgICAgICAgIFtcIkFjY291bnRcIiwgYWNjb3VudEZpZWxkU3BlY10sXG4gICAgICAgICAgICBbXCJDb250YWN0XCIsIGNvbnRhY3RGaWVsZFNwZWNdLFxuICAgICAgICAgICAgW1wiVGFza1wiLCB0YXNrRmllbGRTcGVjXSxcbiAgICAgICAgICAgIFtcIkNvbnRlbnROb3RlXCIsIGNvbnRlbnROb3RlRmllbGRTcGVjXVxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgZmllbGRTcGVjID0gWy4uLmZpZWxkU3BlY01hcF1cbiAgICAgICAgICAgIC5maWx0ZXIoeCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0ZWRPYmplY3RzKSAmJiBzZWxlY3RlZE9iamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRPYmplY3RzLmluY2x1ZGVzKHhbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwKHggPT4geFsxXSlcbiAgICAgICAgICAgIC5qb2luKFwiLCBcIik7XG5cbiAgICAgICAgY29uc3QgYmF0Y2g6IFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtW10gPSBbXTtcblxuICAgICAgICBpZiAoZmllbGRTcGVjLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbGVzZm9yY2VTZWFyY2hRdWVyeSA9IGBGSU5EIHske3RoaXMuZXNjYXBlUXVlcnkoXG4gICAgICAgICAgICAgICAgcXVlcnlcbiAgICAgICAgICAgICl9fSBJTiBBTEwgRklFTERTIFJFVFVSTklORyAke2ZpZWxkU3BlY30gTElNSVQgMjVgO1xuXG4gICAgICAgICAgICBiYXRjaC5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBgL3NlcnZpY2VzL2RhdGEvdlhYLlgvc2VhcmNoP3E9JHtlbmNvZGVVUklDb21wb25lbnQoc2FsZXNmb3JjZVNlYXJjaFF1ZXJ5KX1gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluY2x1ZGVDaGF0dGVyID0gIXNlbGVjdGVkT2JqZWN0cz8ubGVuZ3RoIHx8IHNlbGVjdGVkT2JqZWN0cy5pbmNsdWRlcyhcIkNoYXR0ZXJcIik7XG4gICAgICAgIGlmIChpbmNsdWRlQ2hhdHRlcikge1xuICAgICAgICAgICAgYmF0Y2gucHVzaCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIHVybDogYC9zZXJ2aWNlcy9kYXRhL3ZYWC5YL2NoYXR0ZXIvZmVlZC1lbGVtZW50cz9xPSR7cXVlcnl9JnBhZ2VTaXplPTI1JnNvcnQ9TGFzdE1vZGlmaWVkRGF0ZURlc2NgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJhdGNoZWRSZXN1bHRzID0gYXdhaXQgdGhpcy5nZXRCYXRjaGVkUmVzdWx0czxcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZVJlc3RBcGlTZWFyY2hSZXNwb25zZTxcbiAgICAgICAgICAgICAgICAgIFNhbGVzZm9yY2VBY2NvdW50IHwgU2FsZXNmb3JjZUNvbnRhY3QgfCBTYWxlc2ZvcmNlVGFzayB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICB8IFNhbGVzZm9yY2VGZWVkRWxlbWVudFBhZ2VcbiAgICAgICAgPihiYXRjaCk7XG5cbiAgICAgICAgbGV0IHJlc3VsdHM6IChcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUFjY291bnRcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUNvbnRhY3RcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZVRhc2tcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUNvbnRlbnROb3RlXG4gICAgICAgICAgICB8IFNhbGVzZm9yY2VGZWVkSXRlbVxuICAgICAgICApW10gPSBbXTtcblxuICAgICAgICBpZiAoYmF0Y2hlZFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICAgICAgICBpZiAoZmllbGRTcGVjLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hSZXNwb25zZSA9IGJhdGNoZWRSZXN1bHRzW2lkeCsrXSBhcyBTYWxlc2ZvcmNlUmVzdEFwaVNlYXJjaFJlc3BvbnNlPFxuICAgICAgICAgICAgICAgICAgICBTYWxlc2ZvcmNlQWNjb3VudCB8IFNhbGVzZm9yY2VDb250YWN0IHwgU2FsZXNmb3JjZVRhc2sgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGVcbiAgICAgICAgICAgICAgICA+O1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZXNwb25zZS5zZWFyY2hSZWNvcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChzZWFyY2hSZXNwb25zZS5zZWFyY2hSZWNvcmRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbmNsdWRlQ2hhdHRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXR0ZXJSZXNwb25zZSA9IGJhdGNoZWRSZXN1bHRzW2lkeCsrXSBhcyBTYWxlc2ZvcmNlRmVlZEVsZW1lbnRQYWdlO1xuICAgICAgICAgICAgICAgIGlmIChjaGF0dGVyUmVzcG9uc2UuZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGNoYXR0ZXJSZXNwb25zZS5lbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGJhdGNoZWQgcmVzdWx0cyBmcm9tIFNhbGVzRm9yY2UgYXBpLlxuICAgICAqIEBwYXJhbSBiYXRjaFJlcXVlc3RzIFRoZSBiYXRjaCByZXF1ZXN0cyB0byBzZW5kLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXN1bHRzIGZyb20gdGhlIGJhdGNoIHJlcXVlc3QuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRCYXRjaGVkUmVzdWx0czxUPihiYXRjaFJlcXVlc3RzOiBTYWxlc2ZvcmNlQmF0Y2hSZXF1ZXN0SXRlbVtdKTogUHJvbWlzZTxUW10+IHtcbiAgICAgICAgaWYgKGJhdGNoUmVxdWVzdHMubGVuZ3RoID09PSAwIHx8ICF0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhdGNoOiBTYWxlc2ZvcmNlQmF0Y2hSZXF1ZXN0ID0geyBiYXRjaFJlcXVlc3RzLCBoYWx0T25FcnJvcjogZmFsc2UgfTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uLmV4ZWN1dGVBcGlSZXF1ZXN0PFNhbGVzZm9yY2VCYXRjaFJlc3BvbnNlPihcbiAgICAgICAgICAgIFwiL3NlcnZpY2VzL2RhdGEvdlhYLlgvY29tcG9zaXRlL2JhdGNoL1wiLFxuICAgICAgICAgICAgXCJQT1NUXCIsXG4gICAgICAgICAgICBiYXRjaCxcbiAgICAgICAgICAgIHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhPy5yZXN1bHRzLm1hcChyID0+IHIucmVzdWx0IGFzIFQpID8/IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZSBhbnkgY2hhcmFjdGVycyBuZWVkZWQgaW4gU2FsZXNGb3JjZSBBUEkgY2FsbHMuXG4gICAgICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMgVGhlIGVzY2FwZWQgcXVlcnkuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBlc2NhcGVRdWVyeShxdWVyeTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHNvbWUgcmVzZXJ2ZWQgY2hhcmFjdGVycyBmb3IgcXVlcmllcyBzbyB3ZSBuZWVkIHRvIGVzY2FwZSB0aGVtXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLnNhbGVzZm9yY2UuY29tL2RvY3MvYXRsYXMuZW4tdXMuc29xbF9zb3NsLm1ldGEvc29xbF9zb3NsL3Nmb3JjZV9hcGlfY2FsbHNfc29zbF9maW5kLmh0bVxuICAgICAgICByZXR1cm4gcXVlcnkucmVwbGFjZSgvWyFcIiYnKCkqKzo/W1xcXFxcXF1ee3x9fi1dL2dtLCBcIlxcXFwkJlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNlYXJjaCByZXN1bHQgdG8gZGlzcGxheSB3aGVuIFNhbGVzRm9yY2UgbmVlZHMgdG8gcmVjb25uZWN0LlxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRoYXQgbmVlZHMgdG8gcmVjb25uZWN0LlxuICAgICAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXIgZm9yIHRoZSByZWNvbm5lY3QuXG4gICAgICogQHJldHVybnMgVGhlIHNlYXJjaCByZXN1bHQgZW50cnkuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRSZWNvbm5lY3RTZWFyY2hSZXN1bHQoXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+LFxuICAgICAgICBxdWVyeT86IHN0cmluZyxcbiAgICAgICAgZmlsdGVycz86IENMSUZpbHRlcltdXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlJlY29ubmVjdFwiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcbiAgICAgICAgICAgIGtleTogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX05PVF9DT05ORUNURURfU0VBUkNIX1JFU1VMVF9LRVksXG4gICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uaWNvbixcbiAgICAgICAgICAgIHRpdGxlOiBcIlJlY29ubmVjdCB0byBTYWxlc2ZvcmNlXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJJZDogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxuICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgIGZpbHRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRTaW1wbGVUZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2VhcmNoIGZpbHRlcnMgYmFzZWQgb24gdGhlIHJlc3VsdHMuXG4gICAgICogQHBhcmFtIG9iamVjdHMgVGhlIG9iamVjdCB0eXBlcyB0byBjcmVhdGUgdGhlIGZpbHRlcnMgZnJvbS5cbiAgICAgKiBAcmV0dXJucyBUaGUgZmlsdGVycy5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFNlYXJjaEZpbHRlcnMob2JqZWN0czogc3RyaW5nW10pOiBDTElGaWx0ZXJbXSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdHMpICYmIG9iamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyczogQ0xJRmlsdGVyW10gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZU9iamVjdHMgPSBbLi4ubmV3IFNldChvYmplY3RzLnNvcnQoKSldO1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0RmlsdGVyOiBDTElGaWx0ZXIgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9PQkpFQ1RTX0ZJTFRFUl9JRCxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJPYmplY3RzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogQ0xJRmlsdGVyT3B0aW9uVHlwZS5NdWx0aVNlbGVjdCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YgdW5pcXVlT2JqZWN0cykge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdEZpbHRlci5vcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RGaWx0ZXIub3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlcnMucHVzaChvYmplY3RGaWx0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlciB9IGZyb20gXCIuL2ludGVncmF0aW9uLXByb3ZpZGVyXCI7XG5cbmV4cG9ydCBjb25zdCBpbnRlZ3JhdGlvbiA9IG5ldyBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlcigpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==