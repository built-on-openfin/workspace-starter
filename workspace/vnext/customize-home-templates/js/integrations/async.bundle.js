/******/ var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={703:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>p.Pt,CLIFilterOptionType:()=>p.el,CLITemplate:()=>p.yW,deregister:()=>tt,hide:()=>ot,register:()=>et,show:()=>nt});var o={};n.r(o),n.d(o,{subscribe:()=>ce});var r={};n.r(r),n.d(r,{create:()=>Ue});var i=n(678),a=n(532),s=n(150);const c="home";var d;!function(e){e.Commands="home-commands"}(d||(d={}));var u,l=n(806),p=(n(298),n(758));n(114),n(109),n(427);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(u||(u={}));var f=n(316);const g="all",w="0",h="5",v="6",y=()=>{};function m(e,t){return e?`${e}-${t}`:t}function S(e){return`__search-${e}-topic__`}const P=new Map;function W(e,t){P.has(e)||P.set(e,new Set),P.get(e).add(t)}function k(e,t){const n=P.get(e);n&&n.delete(t)}const C=new Map;function I(e,t){C.has(e)||C.set(e,new Set),C.get(e).add(t)}function T(e,t){const n=C.get(e);n&&n.delete(t)}const b=new Map;async function A(e,t){b.has(e)||b.set(e,new Map),b.get(e).set(t.id,t);const n=P.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function F(e,t){const n=b.get(e);if(!n)return;n.delete(t);const o=C.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function R(e){const t=b.get(e);return t?[...t.values()]:[]}function D(e){const t=b.get(e);t&&t.clear()}function B(e,t){const n=b.get(e);return n?n.get(t):null}function L(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function x(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let a=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return a.push(...i.values(),...r),a="ascending"===n?a.sort(((e,t)=>(e?.score??1/0)-(t?.score??1/0))):a.sort(((e,t)=>(t?.score??1/0)-(e?.score??1/0))),a}function O(e){const t={};let n=[];let o=[];let r=u.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=y;const i={};return t.res=i,i.close=()=>{r!==u.Close&&(r=u.Close,t.onChange())},i.open=()=>{r!==u.Open&&(r=u.Open,t.onChange())},i.respond=n=>{const o=x(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function M(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function E(){return{name:fin.me.name,uuid:fin.me.uuid}}function V(){let e;try{e=fin.Platform.getCurrentSync().identity.uuid}catch(e){}return e}const G="deregistered or does not exist",q=new Error(`provider ${G}`),_=new Error("provider with name already exists"),H=new Error("bad payload"),$=new Error("subscription rejected"),U=new Error(`channel ${G}`),N=new Map;function j(e){const t=X(e);if(t)return t;throw U}function X(e){const t=N.get(e);if(t)return t}function K(e,t){N.set(e,t)}function z(e){console.error("OpenFin Search API: ",e)}const J=new Map;function Q(e){J.has(e)||J.set(e,new Map);const t=J.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function Z(e,t){return(await j(e)).dispatch(w,t)}function Y({namespacedTopic:e,topic:t}){const n=B.bind(null,e),o=Q(e),r=Z.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=H;return z(e),{error:e.message}}const{id:a,providerId:s}=e,c=n(s);if(!c){const e=q;return z(e),{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=M(t,a,e),d.set(e.id,u));const l=O(),p=()=>{const e=l.getResultBuffer();l.setResultBuffer([]);const t=l.getRevokedBuffer();l.setRevokedBuffer([]);const n=l.getStatus();r({id:a,providerId:s,results:e,revoked:t,status:n})};let f=!0,g=!1;l.onChange=()=>{if(f)return f=!1,void p();g||(g=!0,setTimeout((()=>{g=!1,p()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,l.res),n=l.getStatus();return{id:a,providerId:s,status:n,results:e,context:t}}catch(e){return z(e),{id:a,providerId:s,error:e?.message}}}}async function ee(e,t,n){const o=n||await j(e),r=E(),i={...t,identity:r,onResultDispatch:void 0},a=await o.dispatch("2",i);return await A(e,{identity:r,...t}),a}async function te(e,t){const n=await j(e);return await n.dispatch("3",t),F(e,t)}async function ne(e,t,n,o){const r=L(n,E(),o),i=B(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const a={providerId:t,result:r};return(await j(e)).dispatch(h,a)}async function oe(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await j(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id||"",o.close=()=>{!async function(e,t){(await j(e)).dispatch(v,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function re(e){return(await j(e)).dispatch("4",null)}async function ie(e){const t=await j(e);var n;n=e,N.delete(n),D(e),await t.disconnect()}function ae(e){const{namespacedTopic:t}=e,n=Q(t);return async o=>{if(!X(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);K(t,(async e=>{const{namespacedTopic:t}=e,n=await se(e);for(const e of R(t))await ee(t,e,n);return n})(e))}}async function se(e){const{namespacedTopic:t}=e,n=S(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(w,Y(e)),o.register(v,function(e){const t=Q(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return void z(H);const o=B(e,t.providerId);if(!o)return void z(q);const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(ae(e)),o}async function ce(e){const t="string"==typeof e?e:e.topic,n="string"==typeof e?void 0:e.uuid,o=t||g,r=n||V()||"",i=m(r,o),a={topic:o,namespace:r,namespacedTopic:i};let s=X(i);return s||(s=se(a),K(i,s),await s),{getAllProviders:re.bind(null,i),register:ee.bind(null,i),search:oe.bind(null,i),deregister:te.bind(null,i),dispatch:ne.bind(null,i),disconnect:ie.bind(null,i)}}const de=new Map;function ue(e){const t=le(e);if(t)return t;throw U}function le(e){const t=de.get(e);if(t)return t}const pe=new Map;function fe(e,t){pe.has(e)||pe.set(e,new Set),pe.get(e).add(t)}function ge(e,t){const n=pe.get(e);n&&n.delete(t)}async function we(e){return[...R(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function he(e,t){if(B(e,t.id))throw new Error("provider with name already exists");const n=E();return await A(e,{identity:n,...t}),{workspaceVersion:i.u0||"",clientAPIVersion:t.clientAPIVersion||""}}async function ve(e,t){await F(e,t)}async function ye(e,t,n,o){const r=B(e,t);if(!r)throw q;const{onResultDispatch:i}=r;if(!i)return;return i(L(n,E(),o))}async function*me(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const a of e){const e=O(a.scoreOrder),s={results:[],provider:{id:a.id,identity:a.identity,title:a.title,scoreOrder:a.scoreOrder,icon:a.icon,dispatchFocusEvents:a.dispatchFocusEvents}};n.push(s),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await a.onUserInput(t,e.res);s.results=x(s.results||[],n),s.context={...s.context,...o}}catch(e){s.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>B(e,t))).filter((e=>!!e)):[...R(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:a,initialResponsePromises:s}=o,c=f.De.Fetching;const d=e=>{c=e,n.setState(c)};let l,p=!1;t.onClose((()=>{p=!0,l&&l()}));do{let e=!1;if(s.length){const t=[];for(const n of s)n.done?e=!0:t.push(n);s=t,s.length||(d(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},g=[];for(const t of a){const n=i[t],a=r[t],s=n.getStatus();(s===u.Open||c===f.De.Fetching&&s===u.Initial)&&(g.push(t),n.onChange=o);const d=n.getResultBuffer();d.length&&(n.setResultBuffer([]),a.results=x(a.results||[],d),e=!0);const l=n.getRevokedBuffer();if(l.length){n.setRevokedBuffer([]);const t=new Set(l);a.results=(a.results||[]).filter((({key:e})=>!t.has(e))),e=!0}}if(a=g,e&&(yield r),p)break;n||(a.length||s.length)&&await Promise.race([...s,new Promise((e=>{t=e})),new Promise((e=>{l=e}))])}while(a.length||s.length);return d(f.De.Complete),r}let Se=0;async function Pe({namespacedTopic:e,topic:t},n){Se+=1;const o=M(t,Se.toString(),n),r=me(e,o.req,{setState:e=>{r.state=e}});return r.id=Se.toString(),r.close=o.close,r.state=f.De.Fetching,r}const We=new Map;function ke(e,t){return`${e}:${t}`}function Ce(e){return async t=>{if(!t)return z(H),{error:H.message};let n;if(t.id)n=ke(e.namespacedTopic,t.id);else{const o=await Pe(e,t);n=ke(e.namespacedTopic,o.id),t.id=o.id,We.set(n,{generator:o})}const o=We.get(n);clearTimeout(o.timeout);const r=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{We.delete(e)}),1e4)}(n),{...r,id:t.id,state:o.generator.state}}}function Ie(e,t,n){return ue(e).dispatch(t,v,{id:n})}function Te(e){return t=>function(e,t){const n=ke(e,t),o=We.get(n);o&&o.generator.close()}(e,t.id)}async function be(e,t,{id:n,query:o,context:r,targets:i=[]}){const a=ue(e),s={id:n,query:o,context:r,targets:i,providerId:t.id},c=await a.dispatch(t.identity,w,s),d=c.error;if(d)throw new Error(d);return c}const Ae=new Map;function Fe(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Re=new Map;function De(e,t,n){return`${e}:${t}:${n}`}function Be(e,t){const n=Fe.bind(null,e,t.identity),o=Ie.bind(null,e,t.identity),r=be.bind(null,e,t);return async(i,a)=>{const s=n(i.id);if(!Ae.has(s)){const e=()=>{o(i.id),Ae.delete(s)};Ae.set(s,e),i.onClose(e)}const c=De(e,t.id,i.id),d=()=>{Re.delete(c),a.close()};i.onClose(d),Re.set(c,(e=>{e.results?.length&&a.respond(e.results),e.revoked?.length&&a.revoke(...e.revoked),e.status===u.Open&&a.open(),e.status===u.Close&&d()}));const l=await r(i);return l.status===u.Open&&a.open(),l.status!==u.Close&&l.status!==u.Initial||d(),l}}function Le(e,t){return async n=>{const o=ue(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,h,r)}}const xe=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function Me(e){return async(t,n)=>{if(!t||!t.id)return z(new Error(JSON.stringify(t))),void z(H);if(B(e,t.id))throw _;return t.identity=n,await async function(e,t){const n=Oe(e,t.identity);xe.has(n)||xe.set(n,[]),xe.get(n).push(t.id),await A(e,{...t,onUserInput:Be(e,t),onResultDispatch:Le(e,t)})}(e,t),{workspaceVersion:i.u0||"",clientAPIVersion:t.clientAPIVersion||""}}}function Ee(e){return t=>{t?function(e,t){const n=B(e,t);if(!n)return;const o=Oe(e,n.identity),r=xe.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),F(e,t))}}(e,t):z(H)}}const Ve=new Map;function Ge(e,t){Ve.has(e)||Ve.set(e,new Set),Ve.get(e).add(t)}function qe(e,t){const n=Ve.get(e);n&&n.delete(t)}function _e(e){return async t=>{!function(e,t){const n=Oe(e,t),o=xe.get(n);if(o){for(const t of o)F(e,t);xe.delete(n)}}(e,t);const n=Ve.get(e);n&&n.forEach((e=>e(t)))}}async function He(e){const{namespacedTopic:t}=e,n=S(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=pe.get(e);if(n)for(const e of n)if(!await e(t))throw $}}(e)),o.onDisconnection(_e(t)),o.register(v,Te(t)),o.register(w,function(e){return t=>{const n=De(e,t.providerId,t.id),o=Re.get(n);o&&o(t)}}(t)),o.register("2",Me(t)),o.register("3",Ee(t)),o.register("4",function(e){return async()=>we(e)}(t)),o.register("1",Ce(e)),o.register(h,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return void z(H);const o=B(e,t.providerId);if(!o)throw q;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function $e(e){const t=ue(e);var n;n=e,de.delete(n),await t.destroy(),D(e)}async function Ue(e){const t=("string"==typeof e?e:e?.topic||"")||g,n=V()||"",o=m(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=le(o);i||(i=await He(r),function(e,t){de.set(e,t)}(o,i));const a=ge.bind(null,o),s=qe.bind(null,o),c=k.bind(null,o),d=T.bind(null,o);return{getAllProviders:we.bind(null,o),search:Pe.bind(null,r),register:he.bind(null,o),deregister:ve.bind(null,o),onSubscription:fe.bind(null,o),onDisconnect:Ge.bind(null,o),onRegister:W.bind(null,o),onDeregister:I.bind(null,o),dispatch:ye.bind(null,o),disconnect:$e.bind(null,o),removeListener:e=>{a(e),s(e),c(e),d(e)}}}const{create:Ne}=r,{subscribe:je}=o,Xe={create:Ne,subscribe:je,defaultTopic:"all"},Ke=()=>{window.search=Xe},ze=e=>{const t=()=>{Ke(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ke();const e="load",t=ze(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=ze(n);window.addEventListener(n,o)}const Je=new Map;async function Qe(){await async function(e){Je.set(e,await je({topic:e,uuid:l.q9.Workspace}))}(c)}let Ze;async function Ye(e){return await async function(){return Ze||(Ze=Qe()),Ze}(),Je.get(e)}const et=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,s.aB)();const t=await Ye(c);try{e.clientAPIVersion=i.u0;const n=await t.register(e);return(0,a.ck)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,i.u0,{...n,setSearchQuery:async t=>(await(0,s.Xl)()).dispatch(s.WF.SetSearchQuery,{query:t,providerID:e.id})}}catch(e){throw(0,a.ck)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),e}},tt=async e=>{await(0,s.aB)();return(await Ye(c)).deregister(e)};async function nt(){return(await(0,s.Xl)()).dispatch(s.WF.ShowHome,void 0)}async function ot(){return(await(0,s.Xl)()).dispatch(s.WF.HideHome,void 0)}},298:(e,t,n)=>{n.d(t,{p:()=>o.px,w:()=>o.wt});var o=n(316)},427:(e,t,n)=>{var o;n.d(t,{v:()=>o}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(o||(o={}))},758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,el:()=>i,yW:()=>r}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},109:(e,t,n)=>{n.d(t,{Go:()=>r,ZJ:()=>a,bI:()=>i,p6:()=>o});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var a;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(a||(a={}))},528:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>a.L,StorefrontTemplate:()=>a.T,deregister:()=>h,hide:()=>v,register:()=>w,show:()=>y});var o=n(532),r=n(150),i=n(82),a=n(114),s=n(678),c=n(438);let d,u=!1;async function l(e,t,n){const o=await(0,r.Dm)();try{return await o.dispatch(e.action,e.payload)}catch(r){if(-1!==r.toString().indexOf(e.action))return u||console.warn("You are using a newer version of the Workspace client library that is not supported by the currently running workspace provider. Please upgrade the Workspace to version 9.0 or later."),u=!0,await o.dispatch(t.action,t.payload),n;throw r}}const p=new Map,f=e=>{if(!p.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return p.get(e)},g=async e=>{await(0,c.Hh)(fin.me.identity);const t=await(0,r.Xl)();if(p.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return p.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.WF.GetStorefrontProviderApps,(e=>f(e).getApps())),e.register(r.WF.GetStorefrontProviderFooter,(e=>f(e).getFooter())),e.register(r.WF.GetStorefrontProviderLandingPage,(e=>f(e).getLandingPage())),e.register(r.WF.GetStorefrontProviderNavigation,(e=>f(e).getNavigation())),e.register(r.WF.LaunchStorefrontProviderApp,(({id:e,app:t})=>f(e).launchApp(t))))})(t),e.clientAPIVersion=s.u0,l({action:r.WF.RegisterProvider,payload:{providerType:i.lP.Storefront,info:e}},{action:r.WF.RegisterStorefrontProvider,payload:e},{workspaceVersion:"unknown"})},w=e=>(d=new Promise((async(t,n)=>{try{const n=await g(e);(0,o.d9)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,s.u0,t({clientAPIVersion:s.u0,workspaceVersion:n?.workspaceVersion??""})}catch(e){(0,o.d9)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),n(e)}})),d),h=async e=>(await d,p.delete(e),await(0,r.aB)(),l({action:r.WF.DeregisterProvider,payload:{providerType:i.lP.Storefront,id:e}},{action:r.WF.DeregisterStorefrontProvider,payload:e})),v=async()=>(await d,await(0,r.aB)(),l({action:r.WF.HideProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.HideStorefront})),y=async()=>(await d,await(0,r.aB)(),l({action:r.WF.ShowProviderWindow,payload:{providerType:i.lP.Storefront}},{action:r.WF.ShowStorefront}))},438:(e,t,n)=>{var o;n.d(t,{Hh:()=>i}),function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized"}(o||(o={}));const r=async e=>fin.Platform.wrapSync(e).getClient(),i=async e=>{const t=await r(e),n="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let o;try{o=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(n)}if("boolean"==typeof o&&o)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),o;if("object"==typeof o&&o.isWorkspacePlatform)return o;throw new Error(n)}},150:(e,t,n)=>{n.d(t,{Dm:()=>s,WF:()=>a,Xl:()=>l,aB:()=>u});var o=n(117),r=n(678),i=n(121);var a;!function(e){e.RegisterProvider="register-provider",e.DeregisterProvider="deregister-provider",e.CreateProviderWindow="create-provider-window",e.GetProviders="get-providers",e.ShowProviderWindow="show-provider-window",e.HideProviderWindow="hide-provider-window",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.SetSearchQuery="set-search-query",e.OpenHomeAndSetSearchQuery="open-home-and-set-search-query",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme",e.SetSelectedScheme="set-selected-scheme",e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.HideStorefront="hide-storefront",e.ShowStorefront="show-storefront"}(a||(a={}));const s=(0,o.Z)("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{await(0,i.JV)(i.iW)||((r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),await fin.System.openUrlWithBrowser(d(r.GX)))},l=async()=>(await u(),s())},82:(e,t,n)=>{n.d(t,{R8:()=>a,X_:()=>i,lP:()=>o});var o,r=n(150);!function(e){e.Storefront="storefront",e.Dock="dock"}(o||(o={}));const i=async e=>(await(0,r.Dm)()).dispatch(r.WF.ShowProviderWindow,{providerType:e}),a=async e=>(await(0,r.Dm)()).dispatch(r.WF.HideProviderWindow,{providerType:e})},806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,a=n(678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));a.AB,o.Workspace},117:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function i(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n={clientAPIVersion:o.u0},i=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return i.onDisconnection((async()=>{console.warn(`disconnected from channel provider ${e}`),t=void 0})),i})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}},678:(e,t,n)=>{var o;n.d(t,{AB:()=>s,Ax:()=>i,GX:()=>u,ZK:()=>d,aW:()=>l,oC:()=>c,sS:()=>r,u0:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),a=i?window.origin:o.Local,s=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),l="https://cdn.openfin.co/workspace/9.6.0/app.json",p=e=>e.startsWith("http://")||e.startsWith("https://")?e:a+e,f=(p("https://cdn.openfin.co/workspace/9.6.0"),p("https://cdn.openfin.co/workspace/9.6.0"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&p(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&p(WORKSPACE_DOCS_CLIENT_URL),"9.6.0")},532:(e,t,n)=>{n.d(t,{Wn:()=>d,ck:()=>s,d9:()=>c});var o,r=n(678),i=n(121);!function(e){e.Browser="Browser",e.Dock="Dock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const a=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:t.componentVersion||r.u0,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:"workspace-licensing",data:n})},s=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||a(o.Home,e)},c=async e=>{a(o.Storefront,e)},d=async e=>{a(o.Dock,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>d,JV:()=>p,OI:()=>u,iW:()=>l});var o,r,i,a=n(806),s=n(678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.Closed="closed",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={})),function(e){e.BeforeUnload="beforeunload"}(i||(i={}));function c(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const d={name:s.oC,uuid:s.AB};const u={name:o.Home,uuid:a.q9.Workspace},l=(o.Dock,a.q9.Workspace,o.Storefront,a.q9.Workspace,{name:a.q9.Workspace,uuid:a.q9.Workspace});const p=e=>c(e).getOptions().then((()=>!0)).catch((()=>!1))},316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{ActionTrigger:()=>W.p,AppManifestType:()=>I.L,ButtonStyle:()=>k.ZJ,CLIAction:()=>C.Pt,CLIFilterOptionType:()=>C.el,CLITemplate:()=>C.yW,ContainerTemplateFragmentNames:()=>k.p6,Dock:()=>e,DockButtonNames:()=>d.v,Home:()=>v,Legacy:()=>t,PresentationTemplateFragmentNames:()=>k.Go,SearchTagBackground:()=>W.w,Storefront:()=>P,StorefrontTemplate:()=>I.T,TemplateFragmentTypes:()=>k.bI});var e={};n.r(e),n.d(e,{DockButtonNames:()=>d.v,deregister:()=>f,minimize:()=>g,register:()=>p,show:()=>w});var t={};n.r(t),n.d(t,{getPages:()=>m,getWorkspaces:()=>S});var r=n(678),i=n(532),a=n(150),s=n(438),c=n(82),d=n(427);let u,l=!1;const p=e=>(u=new Promise((async(t,n)=>{try{const n=await(async e=>{await(0,s.Hh)(fin.me.identity);const t=await(0,a.Xl)();if(l)throw new Error("A dock provider for the platform is already registered.");return l=!0,e.clientAPIVersion=r.u0,t.dispatch(a.WF.RegisterProvider,{providerType:c.lP.Dock,info:e})})(e);(0,i.Wn)({allowed:!0,componentVersion:n?.workspaceVersion}),n?.workspaceVersion,r.u0,t({clientAPIVersion:r.u0,workspaceVersion:n?.workspaceVersion??""})}catch(e){(0,i.Wn)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),n(e),u=null}})),u),f=async()=>{await u,l=!1;return(await(0,a.Xl)()).dispatch(a.WF.DeregisterProvider,{providerType:c.lP.Dock})},g=async()=>{await u,await(0,a.aB)(),await(0,c.R8)(c.lP.Dock)},w=async()=>{await u,await(0,a.aB)(),await(0,c.X_)(c.lP.Dock)};var h,v=n(703);n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(h||(h={}));new Map;var y;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.HasMovedStore="HasMovedStore"}(y||(y={}));const m=()=>async function(){return(await(0,a.Dm)()).dispatch(a.WF.GetLegacyPages,void 0)}(),S=()=>(async()=>(await(0,a.Dm)()).dispatch(a.WF.GetLegacyWorkspaces,void 0))();var P=n(528),W=n(298),k=n(109),C=n(758),I=n(114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/async/integration-provider.ts":
/*!***************************************************************!*\
  !*** ./client/src/integrations/async/integration-provider.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AsyncIntegrationProvider": () => (/* binding */ AsyncIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _templates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates */ "./client/src/templates.ts");


/**
 * Implement the integration provider for async results.
 */
class AsyncIntegrationProvider {
    /**
     * Initialize the module.
     * @param definition The definition of the module from configuration include custom options.
     * @param loggerCreator For logging entries.
     * @param helpers Helper methods for the module to interact with the application core.
     * @returns Nothing.
     */
    async initialize(definition, loggerCreator, helpers) {
        this._integrationHelpers = helpers;
        this._settings = definition.data;
    }
    /**
     * The module is being deregistered.
     * @returns Nothing.
     */
    async closedown() { }
    /**
     * Get a list of the static help entries.
     * @returns The list of help entries.
     */
    async getHelpSearchEntries() {
        return [
            {
                key: `${AsyncIntegrationProvider._PROVIDER_ID}-help1`,
                title: "/contacts-sync",
                label: "Help",
                actions: [],
                data: {
                    providerId: AsyncIntegrationProvider._PROVIDER_ID
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: await (0,_templates__WEBPACK_IMPORTED_MODULE_1__.createHelp)("/contacts-sync", [
                    "The contacts-sync command can be used to search for a contact.",
                    "It demonstrates how a long running retrieval would have to wait for the response before anything is display.",
                    "For example to search for a contact containing the letter a."
                ], ["/contacts-sync a"])
            },
            {
                key: `${AsyncIntegrationProvider._PROVIDER_ID}-help2`,
                title: "/contacts-partial",
                label: "Help",
                actions: [],
                data: {
                    providerId: AsyncIntegrationProvider._PROVIDER_ID
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: await (0,_templates__WEBPACK_IMPORTED_MODULE_1__.createHelp)("/contacts-partial", [
                    "The contacts-partial command can be used to search for a contact.",
                    "It demonstrates how we would display results instantly while asynchronously retrieving all the results.",
                    "For example to search for a contact containing the letter a."
                ], ["/contacts-partial a"])
            },
            {
                key: `${AsyncIntegrationProvider._PROVIDER_ID}-help3`,
                title: "/contacts",
                label: "Help",
                actions: [],
                data: {
                    providerId: AsyncIntegrationProvider._PROVIDER_ID
                },
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Custom,
                templateContent: await (0,_templates__WEBPACK_IMPORTED_MODULE_1__.createHelp)("/contacts", [
                    "The contacts command can be used to search for a contact.",
                    "It demonstrates how we would display results instantly and only retrieve full data on entry selection.",
                    "Contacts starting with E will show error on first load.",
                    "For example to search for a contact containing the letter a."
                ], ["/contacts a", "/contacts e"])
            }
        ];
    }
    /**
     * An entry has been selected.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(result, lastResponse) {
        const data = result.data;
        if (result.action.trigger === "user-action" &&
            result.action.name === AsyncIntegrationProvider._ASYNC_PROVIDER_DETAILS_ACTION &&
            data.url &&
            this._integrationHelpers.openUrl) {
            await this._integrationHelpers.openUrl(data.url);
            return true;
        }
        else if ((result.action.trigger === "focus-change" && result.data?.state === "loading") ||
            (result.action.trigger === "reload" && result.data?.state === "error")) {
            setTimeout(async () => {
                const contactResponse = await fetch(`${this._settings?.rootUrl}${result.data.contact.id}.json`);
                const contactFull = await contactResponse.json();
                lastResponse.respond([this.createResult(contactFull)]);
            }, 0);
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(query, filters, lastResponse) {
        const results = [];
        if (query.startsWith("/contacts-sync ")) {
            await this.contactsSync(query.slice(15), results);
        }
        else if (query.startsWith("/contacts-partial ")) {
            await this.contactsPartial(query.slice(18), results, lastResponse);
        }
        else if (query.startsWith("/contacts ")) {
            await this.contactsAsync(query.slice(10), results, lastResponse);
        }
        return {
            results
        };
    }
    /**
     * Retrieve the contacts in a synchronous manner.
     * @param query The query to search for
     * @param results The result list to populate.
     */
    async contactsSync(query, results) {
        const wildcard = query.trim().toLowerCase();
        if (wildcard.length > 0) {
            try {
                const response = await fetch(`${this._settings?.rootUrl}index.json`);
                const json = await response.json();
                for (const contact of json.data) {
                    if (contact.firstName.toLowerCase().includes(wildcard) ||
                        contact.lastName.toLowerCase().includes(wildcard)) {
                        const contactResponse = await fetch(`${this._settings?.rootUrl}${contact.id}.json`);
                        const contactFull = await contactResponse.json();
                        results.push(this.createResult(contactFull));
                    }
                }
            }
            catch (err) {
                console.error(err);
            }
        }
    }
    /**
     * Retrieve the contacts in a partially asynchronous manner.
     * @param query The query to search for
     * @param results The result list to populate.
     * @param lastResponse The last response to use for updating results.
     */
    async contactsPartial(query, results, lastResponse) {
        const wildcard = query.trim().toLowerCase();
        if (wildcard.length > 0) {
            try {
                const response = await fetch(`${this._settings?.rootUrl}index.json`);
                const json = await response.json();
                const finalContacts = [];
                for (const contact of json.data) {
                    if (contact.firstName.toLowerCase().includes(wildcard) ||
                        contact.lastName.toLowerCase().includes(wildcard)) {
                        finalContacts.push(contact);
                        results.push(this.createResult(contact));
                    }
                }
                setTimeout(async () => {
                    for (const contact of finalContacts) {
                        const contactResponse = await fetch(`${this._settings?.rootUrl}${contact.id}.json`);
                        const contactFull = await contactResponse.json();
                        lastResponse.respond([this.createResult(contactFull)]);
                    }
                }, 0);
            }
            catch (err) {
                console.error(err);
            }
        }
    }
    /**
     * Retrieve the contacts in an asynchronous manner.
     * @param query The query to search for
     * @param results The result list to populate.
     * @param lastResponse The last response to use for updating results.
     */
    async contactsAsync(query, results, lastResponse) {
        const wildcard = query.trim().toLowerCase();
        if (wildcard.length > 0) {
            try {
                const response = await fetch(`${this._settings?.rootUrl}index.json`);
                const json = await response.json();
                const finalContacts = [];
                for (const contact of json.data) {
                    if (contact.firstName.toLowerCase().includes(wildcard) ||
                        contact.lastName.toLowerCase().includes(wildcard)) {
                        finalContacts.push(contact);
                        // If a contact starts with E show it in errored state
                        if (contact.firstName.startsWith("E")) {
                            results.push(this.createResultErrored(contact));
                        }
                        else {
                            results.push(this.createResultLoading(contact));
                        }
                    }
                }
            }
            catch (err) {
                console.error(err);
            }
        }
    }
    /**
     * Create a search result.
     * @param contact The contact.
     * @returns The search result.
     */
    createResult(contact) {
        const fullName = `${contact.firstName} ${contact.lastName}`;
        const details = [];
        if (contact.email) {
            details.push(["E-mail", contact.email]);
        }
        return {
            key: `contact-${contact.id}`,
            title: fullName,
            label: "Information",
            actions: [],
            data: {
                providerId: AsyncIntegrationProvider._PROVIDER_ID,
                contact
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Contact,
            templateContent: {
                name: fullName,
                details: [details]
            }
        };
    }
    /**
     * Create a search result in loading state.
     * @param contact The contact.
     * @returns The search result.
     */
    createResultLoading(contact) {
        const fullName = `${contact.firstName} ${contact.lastName}`;
        return {
            key: `contact-${contact.id}`,
            title: fullName,
            label: "Information",
            actions: [],
            data: {
                providerId: AsyncIntegrationProvider._PROVIDER_ID,
                contact,
                state: "loading"
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Loading,
            templateContent: undefined
        };
    }
    /**
     * Create a search result in errored state.
     * @param contact The contact.
     * @returns The search result.
     */
    createResultErrored(contact) {
        const fullName = `${contact.firstName} ${contact.lastName}`;
        return {
            key: `contact-${contact.id}`,
            title: fullName,
            label: "Information",
            actions: [],
            data: {
                providerId: AsyncIntegrationProvider._PROVIDER_ID,
                contact,
                state: "error"
            },
            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.CLITemplate.Error,
            templateContent: "Unable to load data"
        };
    }
}
/**
 * Provider id.
 * @internal
 */
AsyncIntegrationProvider._PROVIDER_ID = "async";
/**
 * The key to use for a async result.
 * @internal
 */
AsyncIntegrationProvider._ASYNC_PROVIDER_DETAILS_ACTION = "Async Details";


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSettings": () => (/* binding */ getSettings)
/* harmony export */ });
let settings;
async function getConfiguredSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    if (manifest.customSettings !== undefined) {
        settings = manifest.customSettings;
    }
    else {
        settings = {};
    }
    return settings;
}
async function getSettings() {
    if (settings === undefined) {
        settings = await getConfiguredSettings();
    }
    return settings;
}


/***/ }),

/***/ "./client/src/templates.ts":
/*!*********************************!*\
  !*** ./client/src/templates.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createButton": () => (/* binding */ createButton),
/* harmony export */   "createContainer": () => (/* binding */ createContainer),
/* harmony export */   "createHelp": () => (/* binding */ createHelp),
/* harmony export */   "createImage": () => (/* binding */ createImage),
/* harmony export */   "createText": () => (/* binding */ createText),
/* harmony export */   "createTitle": () => (/* binding */ createTitle)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./themes */ "./client/src/themes.ts");


async function createHelp(title, description, examples
// eslint-disable-next-line @typescript-eslint/no-explicit-any
) {
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getCurrentTheme)();
    const additionalData = {};
    const fragments = [];
    for (let i = 0; i < description.length; i++) {
        const descriptionKey = `desc-${i}`;
        additionalData[descriptionKey] = description[i];
        fragments.push(await createText(descriptionKey, 12, {
            padding: "6px 0px"
        }));
    }
    const exampleFragments = [];
    for (let i = 0; i < examples.length; i++) {
        const exampleKey = `line-${i}`;
        additionalData[exampleKey] = examples[i];
        exampleFragments.push(await createText(exampleKey, 12, {
            fontFamily: "monospace",
            whiteSpace: "nowrap"
        }));
    }
    if (exampleFragments.length > 0) {
        fragments.push(await createContainer("column", exampleFragments, {
            padding: "10px",
            marginTop: "6px",
            backgroundColor: theme.palette.background5,
            color: theme.palette.inputColor,
            borderRadius: "5px",
            overflow: "auto"
        }));
    }
    return {
        layout: await createContainer("column", [
            await createTitle("title", undefined, undefined, {
                marginBottom: "10px",
                borderBottom: `1px solid ${theme.palette.background6}`
            }),
            ...fragments
        ], {
            padding: "10px"
        }),
        data: {
            title,
            ...additionalData
        }
    };
}
async function createContainer(containerType, children, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Container,
        style: {
            display: "flex",
            flexDirection: containerType,
            ...style
        },
        children
    };
}
async function createTitle(dataKey, fontSize = 16, fontWeight = "bold", style) {
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getCurrentTheme)();
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Text,
        dataKey,
        style: {
            color: theme.palette.textDefault,
            fontSize: `${fontSize ?? 16}px`,
            fontWeight,
            ...style
        }
    };
}
async function createText(dataKey, fontSize = 14, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Text,
        dataKey,
        style: {
            fontSize: `${fontSize ?? 14}px`,
            ...style
        }
    };
}
async function createImage(dataKey, alternativeText, style) {
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Image,
        dataKey,
        alternativeText,
        style: {
            ...style
        }
    };
}
async function createButton(buttonStyle, titleKey, action, style) {
    const theme = await (0,_themes__WEBPACK_IMPORTED_MODULE_1__.getCurrentTheme)();
    const buttonOptions = buttonStyle === _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.ButtonStyle.Secondary
        ? {
            border: `1px solid ${theme.palette.inputColor}`
        }
        : {};
    return {
        type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.TemplateFragmentTypes.Button,
        buttonStyle,
        children: [await createText(titleKey, 12)],
        action,
        style: {
            ...buttonOptions,
            ...style
        }
    };
}


/***/ }),

/***/ "./client/src/themes.ts":
/*!******************************!*\
  !*** ./client/src/themes.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCurrentTheme": () => (/* binding */ getCurrentTheme),
/* harmony export */   "getThemes": () => (/* binding */ getThemes),
/* harmony export */   "validateThemes": () => (/* binding */ validateThemes)
/* harmony export */ });
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");

const DEFAULT_PALETTES = {
    light: {
        brandPrimary: "#504CFF",
        brandSecondary: "#1E1F23",
        backgroundPrimary: "#FAFBFE",
        contentBackground1: "#504CFF",
        background1: "#FFFFFF",
        background2: "#FAFBFE",
        background3: "#F3F5F8",
        background4: "#ECEEF1",
        background5: "#DDDFE4",
        background6: "#C9CBD2",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#ECEEF1",
        inputColor: "#1E1F23",
        inputPlaceholder: "#383A40",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#1E1F23",
        textHelp: "#2F3136",
        textInactive: "#7D808A"
    },
    dark: {
        brandPrimary: "#504CFF",
        brandSecondary: "#383A40",
        backgroundPrimary: "#1E1F23",
        contentBackground1: "#504CFF",
        background1: "#111214",
        background2: "#1E1F23",
        background3: "#24262B",
        background4: "#2F3136",
        background5: "#383A40",
        background6: "#53565F",
        statusSuccess: "#35C759",
        statusWarning: "#F48F00",
        statusCritical: "#BE1D1F",
        statusActive: "#0498FB",
        inputBackground: "#53565F",
        inputColor: "#FFFFFF",
        inputPlaceholder: "#C9CBD2",
        inputDisabled: "#7D808A",
        inputFocused: "#C9CBD2",
        textDefault: "#FFFFFF",
        textHelp: "#C9CBD2",
        textInactive: "#7D808A"
    }
};
let validatedThemes;
function getSystemPreferredColorScheme() {
    if (window.matchMedia?.("(prefers-color-scheme: dark)").matches) {
        return "dark";
    }
    return "light";
}
async function getCurrentTheme() {
    const themes = await getThemes();
    if (themes.length === 0) {
        return {
            label: "default",
            palette: DEFAULT_PALETTES.dark
        };
    }
    return themes[0];
}
async function getThemes() {
    if (!validatedThemes) {
        const settings = await (0,_settings__WEBPACK_IMPORTED_MODULE_0__.getSettings)();
        validatedThemes = validateThemes(settings?.themeProvider?.themes);
    }
    return validatedThemes.slice();
}
function validateThemes(themes) {
    const customThemes = [];
    if (Array.isArray(themes)) {
        const preferredColorScheme = getSystemPreferredColorScheme();
        for (let i = 0; i < themes.length; i++) {
            const themeToValidate = themes[i];
            const palette = validatePalette(themeToValidate.palette, themeToValidate.label);
            if (palette !== null) {
                themeToValidate.palette = palette;
            }
            else {
                // don't pass an empty object as there are no theme properties
                themeToValidate.palette = undefined;
            }
            if (themeToValidate.label.toLowerCase() === preferredColorScheme) {
                console.log(`Found a theme that matches system color scheme preferences and making it the default theme: ${preferredColorScheme}`);
                customThemes.unshift(themeToValidate);
            }
            else {
                customThemes.push(themeToValidate);
            }
        }
    }
    return customThemes;
}
function validatePalette(themePalette, themeLabel) {
    if (!themePalette) {
        return null;
    }
    const keys = Object.keys(themePalette);
    if (keys.length === 0) {
        return null;
    }
    const palette = {
        ...DEFAULT_PALETTES.dark
    };
    for (const key of keys) {
        if (themePalette[key] !== undefined &&
            themePalette[key] !== null &&
            themePalette[key].trim().length > 0) {
            palette[key] = themePalette[key];
        }
    }
    const brandPrimaryKey = "brandPrimary";
    const brandSecondaryKey = "brandSecondary";
    const backgroundPrimaryKey = "backgroundPrimary";
    if (!themePalette[brandPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    if (!themePalette[brandSecondaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${brandSecondaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandSecondary}`);
    }
    if (!themePalette[backgroundPrimaryKey]) {
        console.warn(`Theme: ${themeLabel} : ${backgroundPrimaryKey} not specified (it is required if specifying other theme palette settings). Providing default of: ${DEFAULT_PALETTES.dark.brandPrimary}`);
    }
    return palette;
}


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!************************************************!*\
  !*** ./client/src/integrations/async/index.ts ***!
  \************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "entryPoints": () => (/* binding */ entryPoints)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/async/integration-provider.ts");

const entryPoints = {
    integrations: new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.AsyncIntegrationProvider()
};

})();

var __webpack_exports__entryPoints = __webpack_exports__.entryPoints;
export { __webpack_exports__entryPoints as entryPoints };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7O1NDcEtEO1NBQ0E7O1NBRUE7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7O1NBRUE7U0FDQTs7U0FFQTtTQUNBO1NBQ0E7Ozs7O1VDdEJBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQSxpQ0FBaUMsV0FBVztVQUM1QztVQUNBOzs7OztVQ1BBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EseUNBQXlDLHdDQUF3QztVQUNqRjtVQUNBO1VBQ0E7Ozs7O1VDUEE7Ozs7O1VDQUE7VUFDQTtVQUNBO1VBQ0EsdURBQXVELGlCQUFpQjtVQUN4RTtVQUNBLGdEQUFnRCxhQUFhO1VBQzdEOzs7Ozs7Ozs7Ozs7Ozs7QUNOa0U7QUFFM0QsTUFBTSxXQUFXLEdBQStDO0lBQ3RFLFlBQVksRUFBRSxJQUFJLDJFQUF3QixFQUFFO0NBQzVDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy8uL2NsaWVudC9zcmMvaW50ZWdyYXRpb25zL2FzeW5jL2ludGVncmF0aW9uLXByb3ZpZGVyLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvLi9jbGllbnQvc3JjL3NldHRpbmdzLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvLi9jbGllbnQvc3JjL3RlbXBsYXRlcy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzLy4vY2xpZW50L3NyYy90aGVtZXMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtaG9tZS10ZW1wbGF0ZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLWhvbWUtdGVtcGxhdGVzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS1ob21lLXRlbXBsYXRlcy8uL2NsaWVudC9zcmMvaW50ZWdyYXRpb25zL2FzeW5jL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs3MDM6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7Q0xJQWN0aW9uOigpPT5wLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PnAuZWwsQ0xJVGVtcGxhdGU6KCk9PnAueVcsZGVyZWdpc3RlcjooKT0+dHQsaGlkZTooKT0+b3QscmVnaXN0ZXI6KCk9PmV0LHNob3c6KCk9Pm50fSk7dmFyIG89e307bi5yKG8pLG4uZChvLHtzdWJzY3JpYmU6KCk9PmNlfSk7dmFyIHI9e307bi5yKHIpLG4uZChyLHtjcmVhdGU6KCk9PlVlfSk7dmFyIGk9big2NzgpLGE9big1MzIpLHM9bigxNTApO2NvbnN0IGM9XCJob21lXCI7dmFyIGQ7IWZ1bmN0aW9uKGUpe2UuQ29tbWFuZHM9XCJob21lLWNvbW1hbmRzXCJ9KGR8fChkPXt9KSk7dmFyIHUsbD1uKDgwNikscD0obigyOTgpLG4oNzU4KSk7bigxMTQpLG4oMTA5KSxuKDQyNyk7IWZ1bmN0aW9uKGUpe2VbZS5Jbml0aWFsPTBdPVwiSW5pdGlhbFwiLGVbZS5PcGVuPTFdPVwiT3BlblwiLGVbZS5DbG9zZT0yXT1cIkNsb3NlXCJ9KHV8fCh1PXt9KSk7dmFyIGY9bigzMTYpO2NvbnN0IGc9XCJhbGxcIix3PVwiMFwiLGg9XCI1XCIsdj1cIjZcIix5PSgpPT57fTtmdW5jdGlvbiBtKGUsdCl7cmV0dXJuIGU/YCR7ZX0tJHt0fWA6dH1mdW5jdGlvbiBTKGUpe3JldHVybmBfX3NlYXJjaC0ke2V9LXRvcGljX19gfWNvbnN0IFA9bmV3IE1hcDtmdW5jdGlvbiBXKGUsdCl7UC5oYXMoZSl8fFAuc2V0KGUsbmV3IFNldCksUC5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIGsoZSx0KXtjb25zdCBuPVAuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IEM9bmV3IE1hcDtmdW5jdGlvbiBJKGUsdCl7Qy5oYXMoZSl8fEMuc2V0KGUsbmV3IFNldCksQy5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIFQoZSx0KXtjb25zdCBuPUMuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IGI9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBBKGUsdCl7Yi5oYXMoZSl8fGIuc2V0KGUsbmV3IE1hcCksYi5nZXQoZSkuc2V0KHQuaWQsdCk7Y29uc3Qgbj1QLmdldChlKTtpZighbilyZXR1cm47Y29uc3Qgbz1bLi4ubl0ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChvKX1hc3luYyBmdW5jdGlvbiBGKGUsdCl7Y29uc3Qgbj1iLmdldChlKTtpZighbilyZXR1cm47bi5kZWxldGUodCk7Y29uc3Qgbz1DLmdldChlKTtpZighbylyZXR1cm47Y29uc3Qgcj1bLi4ub10ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChyKX1mdW5jdGlvbiBSKGUpe2NvbnN0IHQ9Yi5nZXQoZSk7cmV0dXJuIHQ/Wy4uLnQudmFsdWVzKCldOltdfWZ1bmN0aW9uIEQoZSl7Y29uc3QgdD1iLmdldChlKTt0JiZ0LmNsZWFyKCl9ZnVuY3Rpb24gQihlLHQpe2NvbnN0IG49Yi5nZXQoZSk7cmV0dXJuIG4/bi5nZXQodCk6bnVsbH1mdW5jdGlvbiBMKGUsdCxuKXtyZXR1cm57Li4uZSxhY3Rpb246bnx8ey4uLmUuYWN0aW9uc1swXSx0cmlnZ2VyOmYucHguVXNlckFjdGlvbn0sZGlzcGF0Y2hlcklkZW50aXR5OnR9fWZ1bmN0aW9uIHgoZSx0LG49XCJhc2NlbmRpbmdcIil7Y29uc3Qgbz1lfHxbXTtpZighdD8ubGVuZ3RoKXJldHVybiBvO2NvbnN0IHI9W10saT1uZXcgTWFwO3QuZm9yRWFjaCgoZT0+e2lmKGUua2V5KXJldHVybiBpLnNldChlLmtleSxlKTtyLnB1c2goZSl9KSk7bGV0IGE9by5tYXAoKGU9Pntjb25zdHtrZXk6dH09ZTtpZih0JiZpLmhhcyh0KSl7Y29uc3QgZT1pLmdldCh0KTtyZXR1cm4gaS5kZWxldGUodCksZX1yZXR1cm4gZX0pKTtyZXR1cm4gYS5wdXNoKC4uLmkudmFsdWVzKCksLi4uciksYT1cImFzY2VuZGluZ1wiPT09bj9hLnNvcnQoKChlLHQpPT4oZT8uc2NvcmU/PzEvMCktKHQ/LnNjb3JlPz8xLzApKSk6YS5zb3J0KCgoZSx0KT0+KHQ/LnNjb3JlPz8xLzApLShlPy5zY29yZT8/MS8wKSkpLGF9ZnVuY3Rpb24gTyhlKXtjb25zdCB0PXt9O2xldCBuPVtdO2xldCBvPVtdO2xldCByPXUuSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+cix0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+bix0LnNldFJlc3VsdEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9Pm8sdC5zZXRSZXZva2VkQnVmZmVyPWU9PntvPWUsbz8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQub25DaGFuZ2U9eTtjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntyIT09dS5DbG9zZSYmKHI9dS5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntyIT09dS5PcGVuJiYocj11Lk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPW49Pntjb25zdCBvPXgodC5nZXRSZXN1bHRCdWZmZXIoKSxuLGUpO3Quc2V0UmVzdWx0QnVmZmVyKG8pfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBuPW5ldyBTZXQoZSksbz10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1uLmhhcyhlKTtyZXR1cm4gdCYmbi5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIobyksbi5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+bi5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLm5dKSl9LHR9ZnVuY3Rpb24gTShlLHQsbil7Y29uc3Qgbz1uZXcgU2V0O2xldCByPSExO3JldHVybntjbG9zZTooKT0+e3I9ITA7Zm9yKGNvbnN0IGUgb2YgbyllKCl9LHJlcTp7aWQ6dCx0b3BpYzplLC4uLm4sY29udGV4dDpuPy5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PntvLmFkZChlKSxyJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PntvLmRlbGV0ZShlKX19fX1mdW5jdGlvbiBFKCl7cmV0dXJue25hbWU6ZmluLm1lLm5hbWUsdXVpZDpmaW4ubWUudXVpZH19ZnVuY3Rpb24gVigpe2xldCBlO3RyeXtlPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmlkZW50aXR5LnV1aWR9Y2F0Y2goZSl7fXJldHVybiBlfWNvbnN0IEc9XCJkZXJlZ2lzdGVyZWQgb3IgZG9lcyBub3QgZXhpc3RcIixxPW5ldyBFcnJvcihgcHJvdmlkZXIgJHtHfWApLF89bmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpLEg9bmV3IEVycm9yKFwiYmFkIHBheWxvYWRcIiksJD1uZXcgRXJyb3IoXCJzdWJzY3JpcHRpb24gcmVqZWN0ZWRcIiksVT1uZXcgRXJyb3IoYGNoYW5uZWwgJHtHfWApLE49bmV3IE1hcDtmdW5jdGlvbiBqKGUpe2NvbnN0IHQ9WChlKTtpZih0KXJldHVybiB0O3Rocm93IFV9ZnVuY3Rpb24gWChlKXtjb25zdCB0PU4uZ2V0KGUpO2lmKHQpcmV0dXJuIHR9ZnVuY3Rpb24gSyhlLHQpe04uc2V0KGUsdCl9ZnVuY3Rpb24geihlKXtjb25zb2xlLmVycm9yKFwiT3BlbkZpbiBTZWFyY2ggQVBJOiBcIixlKX1jb25zdCBKPW5ldyBNYXA7ZnVuY3Rpb24gUShlKXtKLmhhcyhlKXx8Si5zZXQoZSxuZXcgTWFwKTtjb25zdCB0PUouZ2V0KGUpO3JldHVybntnZXRSZXF1ZXN0c0ZvcklkZW50aXR5OmU9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybmAke2UudXVpZH06JHtlLm5hbWV9YH0oZSk7cmV0dXJuIHQuaGFzKG4pfHx0LnNldChuLG5ldyBNYXApLHQuZ2V0KG4pfX19YXN5bmMgZnVuY3Rpb24gWihlLHQpe3JldHVybihhd2FpdCBqKGUpKS5kaXNwYXRjaCh3LHQpfWZ1bmN0aW9uIFkoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9KXtjb25zdCBuPUIuYmluZChudWxsLGUpLG89UShlKSxyPVouYmluZChudWxsLGUpO3JldHVybiBhc3luYyhlLGkpPT57aWYoIWV8fCFlLmlkfHwhZS5wcm92aWRlcklkKXtjb25zdCBlPUg7cmV0dXJuIHooZSkse2Vycm9yOmUubWVzc2FnZX19Y29uc3R7aWQ6YSxwcm92aWRlcklkOnN9PWUsYz1uKHMpO2lmKCFjKXtjb25zdCBlPXE7cmV0dXJuIHooZSkse2Vycm9yOmUubWVzc2FnZX19Y29uc3QgZD1vLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkoaSk7bGV0IHU9ZC5nZXQoZS5pZCk7dXx8KHU9TSh0LGEsZSksZC5zZXQoZS5pZCx1KSk7Y29uc3QgbD1PKCkscD0oKT0+e2NvbnN0IGU9bC5nZXRSZXN1bHRCdWZmZXIoKTtsLnNldFJlc3VsdEJ1ZmZlcihbXSk7Y29uc3QgdD1sLmdldFJldm9rZWRCdWZmZXIoKTtsLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IG49bC5nZXRTdGF0dXMoKTtyKHtpZDphLHByb3ZpZGVySWQ6cyxyZXN1bHRzOmUscmV2b2tlZDp0LHN0YXR1czpufSl9O2xldCBmPSEwLGc9ITE7bC5vbkNoYW5nZT0oKT0+e2lmKGYpcmV0dXJuIGY9ITEsdm9pZCBwKCk7Z3x8KGc9ITAsc2V0VGltZW91dCgoKCk9PntnPSExLHAoKX0pLDEwMCkpfTt0cnl7Y29uc3R7cmVzdWx0czplLGNvbnRleHQ6dH09YXdhaXQgYy5vblVzZXJJbnB1dCh1LnJlcSxsLnJlcyksbj1sLmdldFN0YXR1cygpO3JldHVybntpZDphLHByb3ZpZGVySWQ6cyxzdGF0dXM6bixyZXN1bHRzOmUsY29udGV4dDp0fX1jYXRjaChlKXtyZXR1cm4geihlKSx7aWQ6YSxwcm92aWRlcklkOnMsZXJyb3I6ZT8ubWVzc2FnZX19fX1hc3luYyBmdW5jdGlvbiBlZShlLHQsbil7Y29uc3Qgbz1ufHxhd2FpdCBqKGUpLHI9RSgpLGk9ey4uLnQsaWRlbnRpdHk6cixvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0sYT1hd2FpdCBvLmRpc3BhdGNoKFwiMlwiLGkpO3JldHVybiBhd2FpdCBBKGUse2lkZW50aXR5OnIsLi4udH0pLGF9YXN5bmMgZnVuY3Rpb24gdGUoZSx0KXtjb25zdCBuPWF3YWl0IGooZSk7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goXCIzXCIsdCksRihlLHQpfWFzeW5jIGZ1bmN0aW9uIG5lKGUsdCxuLG8pe2NvbnN0IHI9TChuLEUoKSxvKSxpPUIoZSx0KTtpZihpKXtjb25zdHtvblJlc3VsdERpc3BhdGNoOmV9PWk7aWYoIWUpcmV0dXJuO3JldHVybiBlKHIpfWNvbnN0IGE9e3Byb3ZpZGVySWQ6dCxyZXN1bHQ6cn07cmV0dXJuKGF3YWl0IGooZSkpLmRpc3BhdGNoKGgsYSl9YXN5bmMgZnVuY3Rpb24gb2UoZSx0KXtjb25zdCBuPXsuLi50LGNvbnRleHQ6dD8uY29udGV4dHx8e319LG89e30scj1hc3luYyBmdW5jdGlvbiooZSx0LHtzZXRTdGF0ZTpufSl7Y29uc3Qgbz1hd2FpdCBqKGUpO2Zvcig7Oyl7Y29uc3QgZT1hd2FpdCBvLmRpc3BhdGNoKFwiMVwiLHQpLHI9ZS5lcnJvcjtpZihyKXRocm93IG5ldyBFcnJvcihyKTtjb25zdCBpPWU7aWYodC5pZD1pLmlkLG4oaS5zdGF0ZSksaS5kb25lKXJldHVybiBpLnZhbHVlO3lpZWxkIGkudmFsdWV9fShlLG4se3NldFN0YXRlOmU9PntvLnN0YXRlPWV9fSk7bGV0IGk9YXdhaXQgci5uZXh0KCk7cmV0dXJuIG8uaWQ9bi5pZHx8XCJcIixvLmNsb3NlPSgpPT57IWFzeW5jIGZ1bmN0aW9uKGUsdCl7KGF3YWl0IGooZSkpLmRpc3BhdGNoKHYse2lkOnR9KX0oZSxvLmlkKX0sby5uZXh0PSgpPT57aWYoaSl7Y29uc3QgZT1pO3JldHVybiBpPXZvaWQgMCxlfXJldHVybiByLm5leHQoKX0sb31hc3luYyBmdW5jdGlvbiByZShlKXtyZXR1cm4oYXdhaXQgaihlKSkuZGlzcGF0Y2goXCI0XCIsbnVsbCl9YXN5bmMgZnVuY3Rpb24gaWUoZSl7Y29uc3QgdD1hd2FpdCBqKGUpO3ZhciBuO249ZSxOLmRlbGV0ZShuKSxEKGUpLGF3YWl0IHQuZGlzY29ubmVjdCgpfWZ1bmN0aW9uIGFlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49USh0KTtyZXR1cm4gYXN5bmMgbz0+e2lmKCFYKHQpKXJldHVybjtjb25zdCByPW4uZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShvKTtmb3IoY29uc3R7cmVxOmUsY2xvc2U6dH1vZiByLnZhbHVlcygpKXQoKSxyLmRlbGV0ZShlLmlkKTtLKHQsKGFzeW5jIGU9Pntjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWF3YWl0IHNlKGUpO2Zvcihjb25zdCBlIG9mIFIodCkpYXdhaXQgZWUodCxlLG4pO3JldHVybiBufSkoZSkpfX1hc3luYyBmdW5jdGlvbiBzZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPVModCksbz1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtmb3IobGV0IHQ9MDt0PDUwO3QrKyl0cnl7cmV0dXJuIGF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlLHt3YWl0OiExfSl9Y2F0Y2goZSl7aWYoNDk9PT10KXRocm93IGU7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSwxZTMpKSl9fShuKTtyZXR1cm4gby5yZWdpc3Rlcih3LFkoZSkpLG8ucmVnaXN0ZXIodixmdW5jdGlvbihlKXtjb25zdCB0PVEoZSk7cmV0dXJuKGUsbik9Pntjb25zdCBvPXQuZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShuKSxyPW8uZ2V0KGUuaWQpO3ImJihyLmNsb3NlKCksby5kZWxldGUoZS5pZCkpfX0odCkpLG8ucmVnaXN0ZXIoaCxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuIHZvaWQgeihIKTtjb25zdCBvPUIoZSx0LnByb3ZpZGVySWQpO2lmKCFvKXJldHVybiB2b2lkIHoocSk7Y29uc3R7b25SZXN1bHREaXNwYXRjaDpyfT1vO3JldHVybiByPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixyKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLG8ub25EaXNjb25uZWN0aW9uKGFlKGUpKSxvfWFzeW5jIGZ1bmN0aW9uIGNlKGUpe2NvbnN0IHQ9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplLnRvcGljLG49XCJzdHJpbmdcIj09dHlwZW9mIGU/dm9pZCAwOmUudXVpZCxvPXR8fGcscj1ufHxWKCl8fFwiXCIsaT1tKHIsbyksYT17dG9waWM6byxuYW1lc3BhY2U6cixuYW1lc3BhY2VkVG9waWM6aX07bGV0IHM9WChpKTtyZXR1cm4gc3x8KHM9c2UoYSksSyhpLHMpLGF3YWl0IHMpLHtnZXRBbGxQcm92aWRlcnM6cmUuYmluZChudWxsLGkpLHJlZ2lzdGVyOmVlLmJpbmQobnVsbCxpKSxzZWFyY2g6b2UuYmluZChudWxsLGkpLGRlcmVnaXN0ZXI6dGUuYmluZChudWxsLGkpLGRpc3BhdGNoOm5lLmJpbmQobnVsbCxpKSxkaXNjb25uZWN0OmllLmJpbmQobnVsbCxpKX19Y29uc3QgZGU9bmV3IE1hcDtmdW5jdGlvbiB1ZShlKXtjb25zdCB0PWxlKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgVX1mdW5jdGlvbiBsZShlKXtjb25zdCB0PWRlLmdldChlKTtpZih0KXJldHVybiB0fWNvbnN0IHBlPW5ldyBNYXA7ZnVuY3Rpb24gZmUoZSx0KXtwZS5oYXMoZSl8fHBlLnNldChlLG5ldyBTZXQpLHBlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gZ2UoZSx0KXtjb25zdCBuPXBlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1hc3luYyBmdW5jdGlvbiB3ZShlKXtyZXR1cm5bLi4uUihlKV0ubWFwKChlPT4oey4uLmUsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfSkpKX1hc3luYyBmdW5jdGlvbiBoZShlLHQpe2lmKEIoZSx0LmlkKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIik7Y29uc3Qgbj1FKCk7cmV0dXJuIGF3YWl0IEEoZSx7aWRlbnRpdHk6biwuLi50fSkse3dvcmtzcGFjZVZlcnNpb246aS51MHx8XCJcIixjbGllbnRBUElWZXJzaW9uOnQuY2xpZW50QVBJVmVyc2lvbnx8XCJcIn19YXN5bmMgZnVuY3Rpb24gdmUoZSx0KXthd2FpdCBGKGUsdCl9YXN5bmMgZnVuY3Rpb24geWUoZSx0LG4sbyl7Y29uc3Qgcj1CKGUsdCk7aWYoIXIpdGhyb3cgcTtjb25zdHtvblJlc3VsdERpc3BhdGNoOml9PXI7aWYoIWkpcmV0dXJuO3JldHVybiBpKEwobixFKCksbykpfWFzeW5jIGZ1bmN0aW9uKm1lKGUsdCxuKXtjb25zdCBvPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXSxvPVtdLHI9W10saT1bXTtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPU8oYS5zY29yZU9yZGVyKSxzPXtyZXN1bHRzOltdLHByb3ZpZGVyOntpZDphLmlkLGlkZW50aXR5OmEuaWRlbnRpdHksdGl0bGU6YS50aXRsZSxzY29yZU9yZGVyOmEuc2NvcmVPcmRlcixpY29uOmEuaWNvbixkaXNwYXRjaEZvY3VzRXZlbnRzOmEuZGlzcGF0Y2hGb2N1c0V2ZW50c319O24ucHVzaChzKSxvLnB1c2goZSk7Y29uc3QgYz0oYXN5bmMoKT0+e3RyeXtjb25zdHtyZXN1bHRzOm4sY29udGV4dDpvfT1hd2FpdCBhLm9uVXNlcklucHV0KHQsZS5yZXMpO3MucmVzdWx0cz14KHMucmVzdWx0c3x8W10sbikscy5jb250ZXh0PXsuLi5zLmNvbnRleHQsLi4ub319Y2F0Y2goZSl7cy5lcnJvcj1lfX0pKCk7Yy5maW5hbGx5KCgoKT0+e2MuZG9uZT0hMH0pKSxpLnB1c2goYyksci5wdXNoKHIubGVuZ3RoKX1yZXR1cm57cHJvdmlkZXJSZXNwb25zZXM6bixsaXN0ZW5lclJlc3BvbnNlczpvLG9wZW5MaXN0ZW5lclJlc3BvbnNlczpyLGluaXRpYWxSZXNwb25zZVByb21pc2VzOml9fSh0LnRhcmdldHM/dC50YXJnZXRzLm1hcCgodD0+QihlLHQpKSkuZmlsdGVyKChlPT4hIWUpKTpbLi4uUihlKS5maWx0ZXIoKGU9PiFlLmhpZGRlbikpXSx0KSx7cHJvdmlkZXJSZXNwb25zZXM6cixsaXN0ZW5lclJlc3BvbnNlczppfT1vO2xldHtvcGVuTGlzdGVuZXJSZXNwb25zZXM6YSxpbml0aWFsUmVzcG9uc2VQcm9taXNlczpzfT1vLGM9Zi5EZS5GZXRjaGluZztjb25zdCBkPWU9PntjPWUsbi5zZXRTdGF0ZShjKX07bGV0IGwscD0hMTt0Lm9uQ2xvc2UoKCgpPT57cD0hMCxsJiZsKCl9KSk7ZG97bGV0IGU9ITE7aWYocy5sZW5ndGgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gb2YgcyluLmRvbmU/ZT0hMDp0LnB1c2gobik7cz10LHMubGVuZ3RofHwoZChmLkRlLkZldGNoZWQpLGU9ITApfWxldCB0LG49ITE7Y29uc3Qgbz0oKT0+e249ITAsdCYmdCgpfSxnPVtdO2Zvcihjb25zdCB0IG9mIGEpe2NvbnN0IG49aVt0XSxhPXJbdF0scz1uLmdldFN0YXR1cygpOyhzPT09dS5PcGVufHxjPT09Zi5EZS5GZXRjaGluZyYmcz09PXUuSW5pdGlhbCkmJihnLnB1c2godCksbi5vbkNoYW5nZT1vKTtjb25zdCBkPW4uZ2V0UmVzdWx0QnVmZmVyKCk7ZC5sZW5ndGgmJihuLnNldFJlc3VsdEJ1ZmZlcihbXSksYS5yZXN1bHRzPXgoYS5yZXN1bHRzfHxbXSxkKSxlPSEwKTtjb25zdCBsPW4uZ2V0UmV2b2tlZEJ1ZmZlcigpO2lmKGwubGVuZ3RoKXtuLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IHQ9bmV3IFNldChsKTthLnJlc3VsdHM9KGEucmVzdWx0c3x8W10pLmZpbHRlcigoKHtrZXk6ZX0pPT4hdC5oYXMoZSkpKSxlPSEwfX1pZihhPWcsZSYmKHlpZWxkIHIpLHApYnJlYWs7bnx8KGEubGVuZ3RofHxzLmxlbmd0aCkmJmF3YWl0IFByb21pc2UucmFjZShbLi4ucyxuZXcgUHJvbWlzZSgoZT0+e3Q9ZX0pKSxuZXcgUHJvbWlzZSgoZT0+e2w9ZX0pKV0pfXdoaWxlKGEubGVuZ3RofHxzLmxlbmd0aCk7cmV0dXJuIGQoZi5EZS5Db21wbGV0ZSkscn1sZXQgU2U9MDthc3luYyBmdW5jdGlvbiBQZSh7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0sbil7U2UrPTE7Y29uc3Qgbz1NKHQsU2UudG9TdHJpbmcoKSxuKSxyPW1lKGUsby5yZXEse3NldFN0YXRlOmU9PntyLnN0YXRlPWV9fSk7cmV0dXJuIHIuaWQ9U2UudG9TdHJpbmcoKSxyLmNsb3NlPW8uY2xvc2Usci5zdGF0ZT1mLkRlLkZldGNoaW5nLHJ9Y29uc3QgV2U9bmV3IE1hcDtmdW5jdGlvbiBrZShlLHQpe3JldHVybmAke2V9OiR7dH1gfWZ1bmN0aW9uIENlKGUpe3JldHVybiBhc3luYyB0PT57aWYoIXQpcmV0dXJuIHooSCkse2Vycm9yOkgubWVzc2FnZX07bGV0IG47aWYodC5pZCluPWtlKGUubmFtZXNwYWNlZFRvcGljLHQuaWQpO2Vsc2V7Y29uc3Qgbz1hd2FpdCBQZShlLHQpO249a2UoZS5uYW1lc3BhY2VkVG9waWMsby5pZCksdC5pZD1vLmlkLFdlLnNldChuLHtnZW5lcmF0b3I6b30pfWNvbnN0IG89V2UuZ2V0KG4pO2NsZWFyVGltZW91dChvLnRpbWVvdXQpO2NvbnN0IHI9YXdhaXQgby5nZW5lcmF0b3IubmV4dCgpO3JldHVybiBvLnRpbWVvdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e1dlLmRlbGV0ZShlKX0pLDFlNCl9KG4pLHsuLi5yLGlkOnQuaWQsc3RhdGU6by5nZW5lcmF0b3Iuc3RhdGV9fX1mdW5jdGlvbiBJZShlLHQsbil7cmV0dXJuIHVlKGUpLmRpc3BhdGNoKHQsdix7aWQ6bn0pfWZ1bmN0aW9uIFRlKGUpe3JldHVybiB0PT5mdW5jdGlvbihlLHQpe2NvbnN0IG49a2UoZSx0KSxvPVdlLmdldChuKTtvJiZvLmdlbmVyYXRvci5jbG9zZSgpfShlLHQuaWQpfWFzeW5jIGZ1bmN0aW9uIGJlKGUsdCx7aWQ6bixxdWVyeTpvLGNvbnRleHQ6cix0YXJnZXRzOmk9W119KXtjb25zdCBhPXVlKGUpLHM9e2lkOm4scXVlcnk6byxjb250ZXh0OnIsdGFyZ2V0czppLHByb3ZpZGVySWQ6dC5pZH0sYz1hd2FpdCBhLmRpc3BhdGNoKHQuaWRlbnRpdHksdyxzKSxkPWMuZXJyb3I7aWYoZCl0aHJvdyBuZXcgRXJyb3IoZCk7cmV0dXJuIGN9Y29uc3QgQWU9bmV3IE1hcDtmdW5jdGlvbiBGZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0Lm5hbWV9OiR7dC51dWlkfToke259YH1jb25zdCBSZT1uZXcgTWFwO2Z1bmN0aW9uIERlKGUsdCxuKXtyZXR1cm5gJHtlfToke3R9OiR7bn1gfWZ1bmN0aW9uIEJlKGUsdCl7Y29uc3Qgbj1GZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxvPUllLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLHI9YmUuYmluZChudWxsLGUsdCk7cmV0dXJuIGFzeW5jKGksYSk9Pntjb25zdCBzPW4oaS5pZCk7aWYoIUFlLmhhcyhzKSl7Y29uc3QgZT0oKT0+e28oaS5pZCksQWUuZGVsZXRlKHMpfTtBZS5zZXQocyxlKSxpLm9uQ2xvc2UoZSl9Y29uc3QgYz1EZShlLHQuaWQsaS5pZCksZD0oKT0+e1JlLmRlbGV0ZShjKSxhLmNsb3NlKCl9O2kub25DbG9zZShkKSxSZS5zZXQoYywoZT0+e2UucmVzdWx0cz8ubGVuZ3RoJiZhLnJlc3BvbmQoZS5yZXN1bHRzKSxlLnJldm9rZWQ/Lmxlbmd0aCYmYS5yZXZva2UoLi4uZS5yZXZva2VkKSxlLnN0YXR1cz09PXUuT3BlbiYmYS5vcGVuKCksZS5zdGF0dXM9PT11LkNsb3NlJiZkKCl9KSk7Y29uc3QgbD1hd2FpdCByKGkpO3JldHVybiBsLnN0YXR1cz09PXUuT3BlbiYmYS5vcGVuKCksbC5zdGF0dXMhPT11LkNsb3NlJiZsLnN0YXR1cyE9PXUuSW5pdGlhbHx8ZCgpLGx9fWZ1bmN0aW9uIExlKGUsdCl7cmV0dXJuIGFzeW5jIG49Pntjb25zdCBvPXVlKGUpLHI9e3Byb3ZpZGVySWQ6dC5pZCxyZXN1bHQ6bn07cmV0dXJuIG8uZGlzcGF0Y2godC5pZGVudGl0eSxoLHIpfX1jb25zdCB4ZT1uZXcgTWFwO2Z1bmN0aW9uIE9lKGUsdCl7cmV0dXJuYCR7ZX0tJHt0Lm5hbWV9LSR7dC51dWlkfWB9ZnVuY3Rpb24gTWUoZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQuaWQpcmV0dXJuIHoobmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHQpKSksdm9pZCB6KEgpO2lmKEIoZSx0LmlkKSl0aHJvdyBfO3JldHVybiB0LmlkZW50aXR5PW4sYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9lKGUsdC5pZGVudGl0eSk7eGUuaGFzKG4pfHx4ZS5zZXQobixbXSkseGUuZ2V0KG4pLnB1c2godC5pZCksYXdhaXQgQShlLHsuLi50LG9uVXNlcklucHV0OkJlKGUsdCksb25SZXN1bHREaXNwYXRjaDpMZShlLHQpfSl9KGUsdCkse3dvcmtzcGFjZVZlcnNpb246aS51MHx8XCJcIixjbGllbnRBUElWZXJzaW9uOnQuY2xpZW50QVBJVmVyc2lvbnx8XCJcIn19fWZ1bmN0aW9uIEVlKGUpe3JldHVybiB0PT57dD9mdW5jdGlvbihlLHQpe2NvbnN0IG49QihlLHQpO2lmKCFuKXJldHVybjtjb25zdCBvPU9lKGUsbi5pZGVudGl0eSkscj14ZS5nZXQobyk7aWYocil7Y29uc3Qgbj1yLmZpbmRJbmRleCgoZT0+ZT09PXQpKTstMSE9PW4mJihyLnNwbGljZShuLDEpLEYoZSx0KSl9fShlLHQpOnooSCl9fWNvbnN0IFZlPW5ldyBNYXA7ZnVuY3Rpb24gR2UoZSx0KXtWZS5oYXMoZSl8fFZlLnNldChlLG5ldyBTZXQpLFZlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gcWUoZSx0KXtjb25zdCBuPVZlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1mdW5jdGlvbiBfZShlKXtyZXR1cm4gYXN5bmMgdD0+eyFmdW5jdGlvbihlLHQpe2NvbnN0IG49T2UoZSx0KSxvPXhlLmdldChuKTtpZihvKXtmb3IoY29uc3QgdCBvZiBvKUYoZSx0KTt4ZS5kZWxldGUobil9fShlLHQpO2NvbnN0IG49VmUuZ2V0KGUpO24mJm4uZm9yRWFjaCgoZT0+ZSh0KSkpfX1hc3luYyBmdW5jdGlvbiBIZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPVMoZS5uYW1lc3BhY2VkVG9waWMpLG89YXdhaXQocj1uLGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKHIpKTt2YXIgcjtyZXR1cm4gby5vbkNvbm5lY3Rpb24oZnVuY3Rpb24oe25hbWVzcGFjZWRUb3BpYzplfSl7cmV0dXJuIGFzeW5jIHQ9Pntjb25zdCBuPXBlLmdldChlKTtpZihuKWZvcihjb25zdCBlIG9mIG4paWYoIWF3YWl0IGUodCkpdGhyb3cgJH19KGUpKSxvLm9uRGlzY29ubmVjdGlvbihfZSh0KSksby5yZWdpc3Rlcih2LFRlKHQpKSxvLnJlZ2lzdGVyKHcsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9Pntjb25zdCBuPURlKGUsdC5wcm92aWRlcklkLHQuaWQpLG89UmUuZ2V0KG4pO28mJm8odCl9fSh0KSksby5yZWdpc3RlcihcIjJcIixNZSh0KSksby5yZWdpc3RlcihcIjNcIixFZSh0KSksby5yZWdpc3RlcihcIjRcIixmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmMoKT0+d2UoZSl9KHQpKSxvLnJlZ2lzdGVyKFwiMVwiLENlKGUpKSxvLnJlZ2lzdGVyKGgsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybiB2b2lkIHooSCk7Y29uc3Qgbz1CKGUsdC5wcm92aWRlcklkKTtpZighbyl0aHJvdyBxO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6cn09bztyZXR1cm4gcj8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4scih0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxvfWFzeW5jIGZ1bmN0aW9uICRlKGUpe2NvbnN0IHQ9dWUoZSk7dmFyIG47bj1lLGRlLmRlbGV0ZShuKSxhd2FpdCB0LmRlc3Ryb3koKSxEKGUpfWFzeW5jIGZ1bmN0aW9uIFVlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWN8fFwiXCIpfHxnLG49VigpfHxcIlwiLG89bShuLHQpLHI9e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOm99O2xldCBpPWxlKG8pO2l8fChpPWF3YWl0IEhlKHIpLGZ1bmN0aW9uKGUsdCl7ZGUuc2V0KGUsdCl9KG8saSkpO2NvbnN0IGE9Z2UuYmluZChudWxsLG8pLHM9cWUuYmluZChudWxsLG8pLGM9ay5iaW5kKG51bGwsbyksZD1ULmJpbmQobnVsbCxvKTtyZXR1cm57Z2V0QWxsUHJvdmlkZXJzOndlLmJpbmQobnVsbCxvKSxzZWFyY2g6UGUuYmluZChudWxsLHIpLHJlZ2lzdGVyOmhlLmJpbmQobnVsbCxvKSxkZXJlZ2lzdGVyOnZlLmJpbmQobnVsbCxvKSxvblN1YnNjcmlwdGlvbjpmZS5iaW5kKG51bGwsbyksb25EaXNjb25uZWN0OkdlLmJpbmQobnVsbCxvKSxvblJlZ2lzdGVyOlcuYmluZChudWxsLG8pLG9uRGVyZWdpc3RlcjpJLmJpbmQobnVsbCxvKSxkaXNwYXRjaDp5ZS5iaW5kKG51bGwsbyksZGlzY29ubmVjdDokZS5iaW5kKG51bGwsbykscmVtb3ZlTGlzdGVuZXI6ZT0+e2EoZSkscyhlKSxjKGUpLGQoZSl9fX1jb25zdHtjcmVhdGU6TmV9PXIse3N1YnNjcmliZTpqZX09byxYZT17Y3JlYXRlOk5lLHN1YnNjcmliZTpqZSxkZWZhdWx0VG9waWM6XCJhbGxcIn0sS2U9KCk9Pnt3aW5kb3cuc2VhcmNoPVhlfSx6ZT1lPT57Y29uc3QgdD0oKT0+e0tlKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX07cmV0dXJuIHR9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe0tlKCk7Y29uc3QgZT1cImxvYWRcIix0PXplKGUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCk7Y29uc3Qgbj1cIkRPTUNvbnRlbnRMb2FkZWRcIixvPXplKG4pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4sbyl9Y29uc3QgSmU9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBRZSgpe2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe0plLnNldChlLGF3YWl0IGplKHt0b3BpYzplLHV1aWQ6bC5xOS5Xb3Jrc3BhY2V9KSl9KGMpfWxldCBaZTthc3luYyBmdW5jdGlvbiBZZShlKXtyZXR1cm4gYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4gWmV8fChaZT1RZSgpKSxaZX0oKSxKZS5nZXQoZSl9Y29uc3QgZXQ9YXN5bmMgZT0+e2lmKCFlLmljb24pdGhyb3cgbmV3IEVycm9yKGAke2UuaWR9IHByb3ZpZGVyIG5lZWRzIHRvIGhhdmUgaWNvbiBwcm9wZXJ0eSBkZWZpbmVkLmApO2F3YWl0KDAscy5hQikoKTtjb25zdCB0PWF3YWl0IFllKGMpO3RyeXtlLmNsaWVudEFQSVZlcnNpb249aS51MDtjb25zdCBuPWF3YWl0IHQucmVnaXN0ZXIoZSk7cmV0dXJuKDAsYS5jaykoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksbj8ud29ya3NwYWNlVmVyc2lvbixpLnUwLHsuLi5uLHNldFNlYXJjaFF1ZXJ5OmFzeW5jIHQ9Pihhd2FpdCgwLHMuWGwpKCkpLmRpc3BhdGNoKHMuV0YuU2V0U2VhcmNoUXVlcnkse3F1ZXJ5OnQscHJvdmlkZXJJRDplLmlkfSl9fWNhdGNoKGUpe3Rocm93KDAsYS5jaykoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplIGluc3RhbmNlb2YgRXJyb3I/ZS5tZXNzYWdlOlwidW5rbm93blwifSksZX19LHR0PWFzeW5jIGU9Pnthd2FpdCgwLHMuYUIpKCk7cmV0dXJuKGF3YWl0IFllKGMpKS5kZXJlZ2lzdGVyKGUpfTthc3luYyBmdW5jdGlvbiBudCgpe3JldHVybihhd2FpdCgwLHMuWGwpKCkpLmRpc3BhdGNoKHMuV0YuU2hvd0hvbWUsdm9pZCAwKX1hc3luYyBmdW5jdGlvbiBvdCgpe3JldHVybihhd2FpdCgwLHMuWGwpKCkpLmRpc3BhdGNoKHMuV0YuSGlkZUhvbWUsdm9pZCAwKX19LDI5ODooZSx0LG4pPT57bi5kKHQse3A6KCk9Pm8ucHgsdzooKT0+by53dH0pO3ZhciBvPW4oMzE2KX0sNDI3OihlLHQsbik9Pnt2YXIgbztuLmQodCx7djooKT0+b30pLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KG98fChvPXt9KSl9LDc1ODooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtQdDooKT0+byxlbDooKT0+aSx5VzooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sMTE0OihlLHQsbik9Pnt2YXIgbyxyO24uZCh0LHtMOigpPT5vLFQ6KCk9PnJ9KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShyfHwocj17fSkpfSwxMDk6KGUsdCxuKT0+e24uZCh0LHtHbzooKT0+cixaSjooKT0+YSxiSTooKT0+aSxwNjooKT0+b30pO2NvbnN0IG89e0NvbnRhaW5lcjpcIkNvbnRhaW5lclwiLEJ1dHRvbjpcIkJ1dHRvblwifSxyPXtUZXh0OlwiVGV4dFwiLEltYWdlOlwiSW1hZ2VcIixMaXN0OlwiTGlzdFwifSxpPXsuLi5vLC4uLnJ9O3ZhciBhOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0oYXx8KGE9e30pKX0sNTI4OihlLHQsbik9PntuLnIodCksbi5kKHQse0FwcE1hbmlmZXN0VHlwZTooKT0+YS5MLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+YS5ULGRlcmVnaXN0ZXI6KCk9PmgsaGlkZTooKT0+dixyZWdpc3RlcjooKT0+dyxzaG93OigpPT55fSk7dmFyIG89big1MzIpLHI9bigxNTApLGk9big4MiksYT1uKDExNCkscz1uKDY3OCksYz1uKDQzOCk7bGV0IGQsdT0hMTthc3luYyBmdW5jdGlvbiBsKGUsdCxuKXtjb25zdCBvPWF3YWl0KDAsci5EbSkoKTt0cnl7cmV0dXJuIGF3YWl0IG8uZGlzcGF0Y2goZS5hY3Rpb24sZS5wYXlsb2FkKX1jYXRjaChyKXtpZigtMSE9PXIudG9TdHJpbmcoKS5pbmRleE9mKGUuYWN0aW9uKSlyZXR1cm4gdXx8Y29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhIG5ld2VyIHZlcnNpb24gb2YgdGhlIFdvcmtzcGFjZSBjbGllbnQgbGlicmFyeSB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnRseSBydW5uaW5nIHdvcmtzcGFjZSBwcm92aWRlci4gUGxlYXNlIHVwZ3JhZGUgdGhlIFdvcmtzcGFjZSB0byB2ZXJzaW9uIDkuMCBvciBsYXRlci5cIiksdT0hMCxhd2FpdCBvLmRpc3BhdGNoKHQuYWN0aW9uLHQucGF5bG9hZCksbjt0aHJvdyByfX1jb25zdCBwPW5ldyBNYXAsZj1lPT57aWYoIXAuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcC5nZXQoZSl9LGc9YXN5bmMgZT0+e2F3YWl0KDAsYy5IaCkoZmluLm1lLmlkZW50aXR5KTtjb25zdCB0PWF3YWl0KDAsci5YbCkoKTtpZihwLmhhcyhlLmlkKSl0aHJvdyBuZXcgRXJyb3IoYFN0b3JlZnJvbnQgcHJvdmlkZXIgd2l0aCBpZCAke2UuaWR9IGFscmVhZHkgcmVnaXN0ZXJlZGApO3JldHVybiBwLnNldChlLmlkLGUpLChlPT57ZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZHx8KGUuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWQ9ITAsZS5yZWdpc3RlcihyLldGLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHMsKGU9PmYoZSkuZ2V0QXBwcygpKSksZS5yZWdpc3RlcihyLldGLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3RlciwoZT0+ZihlKS5nZXRGb290ZXIoKSkpLGUucmVnaXN0ZXIoci5XRi5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZSwoZT0+ZihlKS5nZXRMYW5kaW5nUGFnZSgpKSksZS5yZWdpc3RlcihyLldGLkdldFN0b3JlZnJvbnRQcm92aWRlck5hdmlnYXRpb24sKGU9PmYoZSkuZ2V0TmF2aWdhdGlvbigpKSksZS5yZWdpc3RlcihyLldGLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcCwoKHtpZDplLGFwcDp0fSk9PmYoZSkubGF1bmNoQXBwKHQpKSkpfSkodCksZS5jbGllbnRBUElWZXJzaW9uPXMudTAsbCh7YWN0aW9uOnIuV0YuUmVnaXN0ZXJQcm92aWRlcixwYXlsb2FkOntwcm92aWRlclR5cGU6aS5sUC5TdG9yZWZyb250LGluZm86ZX19LHthY3Rpb246ci5XRi5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixwYXlsb2FkOmV9LHt3b3Jrc3BhY2VWZXJzaW9uOlwidW5rbm93blwifSl9LHc9ZT0+KGQ9bmV3IFByb21pc2UoKGFzeW5jKHQsbik9Pnt0cnl7Y29uc3Qgbj1hd2FpdCBnKGUpOygwLG8uZDkpKHthbGxvd2VkOiEwLGNvbXBvbmVudFZlcnNpb246bj8ud29ya3NwYWNlVmVyc2lvbn0pLG4/LndvcmtzcGFjZVZlcnNpb24scy51MCx0KHtjbGllbnRBUElWZXJzaW9uOnMudTAsd29ya3NwYWNlVmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9uPz9cIlwifSl9Y2F0Y2goZSl7KDAsby5kOSkoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplIGluc3RhbmNlb2YgRXJyb3I/ZS5tZXNzYWdlOlwidW5rbm93blwifSksbihlKX19KSksZCksaD1hc3luYyBlPT4oYXdhaXQgZCxwLmRlbGV0ZShlKSxhd2FpdCgwLHIuYUIpKCksbCh7YWN0aW9uOnIuV0YuRGVyZWdpc3RlclByb3ZpZGVyLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTppLmxQLlN0b3JlZnJvbnQsaWQ6ZX19LHthY3Rpb246ci5XRi5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLHBheWxvYWQ6ZX0pKSx2PWFzeW5jKCk9Pihhd2FpdCBkLGF3YWl0KDAsci5hQikoKSxsKHthY3Rpb246ci5XRi5IaWRlUHJvdmlkZXJXaW5kb3cscGF5bG9hZDp7cHJvdmlkZXJUeXBlOmkubFAuU3RvcmVmcm9udH19LHthY3Rpb246ci5XRi5IaWRlU3RvcmVmcm9udH0pKSx5PWFzeW5jKCk9Pihhd2FpdCBkLGF3YWl0KDAsci5hQikoKSxsKHthY3Rpb246ci5XRi5TaG93UHJvdmlkZXJXaW5kb3cscGF5bG9hZDp7cHJvdmlkZXJUeXBlOmkubFAuU3RvcmVmcm9udH19LHthY3Rpb246ci5XRi5TaG93U3RvcmVmcm9udH0pKX0sNDM4OihlLHQsbik9Pnt2YXIgbztuLmQodCx7SGg6KCk9Pml9KSxmdW5jdGlvbihlKXtlLkxhdW5jaEFwcD1cImxhdW5jaEFwcFwiLGUuU2F2ZVBhZ2U9XCJzYXZlUGFnZVwiLGUuR2V0U2F2ZWRQYWdlPVwiZ2V0U2F2ZWRQYWdlXCIsZS5DcmVhdGVTYXZlZFBhZ2U9XCJjcmVhdGVTYXZlZFBhZ2VcIixlLlVwZGF0ZVNhdmVkUGFnZT1cInVwZGF0ZVNhdmVkUGFnZVwiLGUuRGVsZXRlU2F2ZWRQYWdlPVwiZGVsZXRlU2F2ZWRQYWdlXCIsZS5HZXRTYXZlZFBhZ2VzPVwiZ2V0U2F2ZWRQYWdlc1wiLGUuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJjcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJ1cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJkZWxldGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuU2hhcmVQYWdlPVwic2hhcmVQYWdlXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuR2V0QWxsQXR0YWNoZWRQYWdlcz1cImdldEFsbEF0dGFjaGVkUGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvdz1cImdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvd1wiLGUuR2V0UGFnZXNGb3JXaW5kb3c9XCJnZXRQYWdlc0ZvcldpbmRvd1wiLGUuR2V0UGFnZUZvcldpbmRvdz1cImdldFBhZ2VGb3JXaW5kb3dcIixlLkdldFNhdmVkUGFnZU1ldGFkYXRhPVwiZ2V0U2F2ZWRQYWdlTWV0YWRhdGFcIixlLkdldFVuaXF1ZVBhZ2VUaXRsZT1cImdldFVuaXF1ZVBhZ2VUaXRsZVwiLGUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwiZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLkdldFNlbGVjdGVkU2NoZW1lPVwiZ2V0U2VsZWN0ZWRTY2hlbWVcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0U2VsZWN0ZWRTY2hlbWVcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIixlLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1cInJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlNldEFjdGl2ZVdvcmtzcGFjZT1cInNldEFjdGl2ZVdvcmtzcGFjZVwiLGUuSXNCcm93c2VySW5pdGlhbGl6ZWQ9XCJpc0Jyb3dzZXJJbml0aWFsaXplZFwifShvfHwobz17fSkpO2NvbnN0IHI9YXN5bmMgZT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldENsaWVudCgpLGk9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcihlKSxuPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7bGV0IG87dHJ5e289YXdhaXQgdC5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKG4pfWlmKFwiYm9vbGVhblwiPT10eXBlb2YgbyYmbylyZXR1cm4gY29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uIFBsZWFzZSB1cGRhdGUgeW91ciB3b3Jrc3BhY2UgcGxhdGZvcm0uXCIpLG87aWYoXCJvYmplY3RcIj09dHlwZW9mIG8mJm8uaXNXb3Jrc3BhY2VQbGF0Zm9ybSlyZXR1cm4gbzt0aHJvdyBuZXcgRXJyb3Iobil9fSwxNTA6KGUsdCxuKT0+e24uZCh0LHtEbTooKT0+cyxXRjooKT0+YSxYbDooKT0+bCxhQjooKT0+dX0pO3ZhciBvPW4oMTE3KSxyPW4oNjc4KSxpPW4oMTIxKTt2YXIgYTshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclByb3ZpZGVyPVwicmVnaXN0ZXItcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJQcm92aWRlcj1cImRlcmVnaXN0ZXItcHJvdmlkZXJcIixlLkNyZWF0ZVByb3ZpZGVyV2luZG93PVwiY3JlYXRlLXByb3ZpZGVyLXdpbmRvd1wiLGUuR2V0UHJvdmlkZXJzPVwiZ2V0LXByb3ZpZGVyc1wiLGUuU2hvd1Byb3ZpZGVyV2luZG93PVwic2hvdy1wcm92aWRlci13aW5kb3dcIixlLkhpZGVQcm92aWRlcldpbmRvdz1cImhpZGUtcHJvdmlkZXItd2luZG93XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5TZXRTZWFyY2hRdWVyeT1cInNldC1zZWFyY2gtcXVlcnlcIixlLk9wZW5Ib21lQW5kU2V0U2VhcmNoUXVlcnk9XCJvcGVuLWhvbWUtYW5kLXNldC1zZWFyY2gtcXVlcnlcIixlLkdldExlZ2FjeVBhZ2VzPVwiZ2V0LWxlZ2FjeS1wYWdlc1wiLGUuR2V0TGVnYWN5V29ya3NwYWNlcz1cImdldC1sZWdhY3ktd29ya3NwYWNlc1wiLGUuR2V0Q29tcHV0ZWRQbGF0Zm9ybVRoZW1lPVwiZ2V0LWNvbXB1dGVkLXBsYXRmb3JtLXRoZW1lXCIsZS5TZXRTZWxlY3RlZFNjaGVtZT1cInNldC1zZWxlY3RlZC1zY2hlbWVcIixlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLlNob3dTdG9yZWZyb250PVwic2hvdy1zdG9yZWZyb250XCJ9KGF8fChhPXt9KSk7Y29uc3Qgcz0oMCxvLlopKFwiX19vZl93b3Jrc3BhY2VfcHJvdG9jb2xfX1wiKSxjPVwiaXNMYXVuY2hlZFZpYUxpYlwiLGQ9ZT0+e2NvbnN0IHQ9bmV3IFVSTChlKTtyZXR1cm4gdC5zZWFyY2hQYXJhbXMuYXBwZW5kKGMsXCJ0cnVlXCIpLHQudG9TdHJpbmcoKX0sdT1hc3luYygpPT57YXdhaXQoMCxpLkpWKShpLmlXKXx8KChyLlpLfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSkmJmF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChkKHIuYVcpKSxhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihkKHIuR1gpKSl9LGw9YXN5bmMoKT0+KGF3YWl0IHUoKSxzKCkpfSw4MjooZSx0LG4pPT57bi5kKHQse1I4OigpPT5hLFhfOigpPT5pLGxQOigpPT5vfSk7dmFyIG8scj1uKDE1MCk7IWZ1bmN0aW9uKGUpe2UuU3RvcmVmcm9udD1cInN0b3JlZnJvbnRcIixlLkRvY2s9XCJkb2NrXCJ9KG98fChvPXt9KSk7Y29uc3QgaT1hc3luYyBlPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLldGLlNob3dQcm92aWRlcldpbmRvdyx7cHJvdmlkZXJUeXBlOmV9KSxhPWFzeW5jIGU9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuV0YuSGlkZVByb3ZpZGVyV2luZG93LHtwcm92aWRlclR5cGU6ZX0pfSw4MDY6KGUsdCxuKT0+e24uZCh0LHtxOTooKT0+b30pO3ZhciBvLHIsaSxhPW4oNjc4KTshZnVuY3Rpb24oZSl7ZS5Xb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlJ1blJlcXVlc3RlZD1cInJ1bi1yZXF1ZXN0ZWRcIixlLldpbmRvd09wdGlvbnNDaGFuZ2VkPVwid2luZG93LW9wdGlvbnMtY2hhbmdlZFwiLGUuV2luZG93Q2xvc2VkPVwid2luZG93LWNsb3NlZFwiLGUuV2luZG93Q3JlYXRlZD1cIndpbmRvdy1jcmVhdGVkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifShpfHwoaT17fSkpO2EuQUIsby5Xb3Jrc3BhY2V9LDExNzooZSx0LG4pPT57bi5kKHQse1o6KCk9Pml9KTt2YXIgbz1uKDY3OCk7Y29uc3Qgcj1vLkF4JiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTtmdW5jdGlvbiBpKGUpe2xldCB0O3JldHVybigpPT57aWYoIW8uc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgcjtjb25zdCBuPXtjbGllbnRBUElWZXJzaW9uOm8udTB9LGk9YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3BheWxvYWQ6bn0pO3JldHVybiBpLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e2NvbnNvbGUud2FybihgZGlzY29ubmVjdGVkIGZyb20gY2hhbm5lbCBwcm92aWRlciAke2V9YCksdD12b2lkIDB9KSksaX0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChuPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7bn1gKX0pKSksdH19fSw2Nzg6KGUsdCxuKT0+e3ZhciBvO24uZCh0LHtBQjooKT0+cyxBeDooKT0+aSxHWDooKT0+dSxaSzooKT0+ZCxhVzooKT0+bCxvQzooKT0+YyxzUzooKT0+cix1MDooKT0+Zn0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0ob3x8KG89e30pKTtjb25zdCByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4saT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxhPWk/d2luZG93Lm9yaWdpbjpvLkxvY2FsLHM9ciYmZmluLm1lLnV1aWQsYz1yJiZmaW4ubWUubmFtZSxkPShyJiZmaW4ubWUuZW50aXR5VHlwZSxcInByb2RcIj09PW8uTG9jYWwpLHU9KG8uRGV2LG8uU3RhZ2luZyxvLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLGw9XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjYuMC9hcHAuanNvblwiLHA9ZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTphK2UsZj0ocChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzkuNi4wXCIpLHAoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS85LjYuMFwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZwKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJnAoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCI5LjYuMFwiKX0sNTMyOihlLHQsbik9PntuLmQodCx7V246KCk9PmQsY2s6KCk9PnMsZDk6KCk9PmN9KTt2YXIgbyxyPW4oNjc4KSxpPW4oMTIxKTshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuRG9jaz1cIkRvY2tcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wifShvfHwobz17fSkpO2NvbnN0IGE9YXN5bmMoZSx0KT0+e2NvbnN0IG49e2FwaVZlcnNpb246dC5hcGlWZXJzaW9ufHxyLnUwLGNvbXBvbmVudE5hbWU6ZSxjb21wb25lbnRWZXJzaW9uOnQuY29tcG9uZW50VmVyc2lvbnx8ci51MCxhbGxvd2VkOnQuYWxsb3dlZCxyZWplY3Rpb25Db2RlOnQucmVqZWN0aW9uQ29kZX07ZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwid29ya3NwYWNlLWxpY2Vuc2luZ1wiLGRhdGE6bn0pfSxzPWFzeW5jIGU9PntpLk9JLnV1aWQ9PT1pLkdpLnV1aWQmJmkuT0kubmFtZT09PWkuR2kubmFtZXx8YShvLkhvbWUsZSl9LGM9YXN5bmMgZT0+e2Eoby5TdG9yZWZyb250LGUpfSxkPWFzeW5jIGU9PnthKG8uRG9jayxlKX19LDEyMTooZSx0LG4pPT57bi5kKHQse0dpOigpPT5kLEpWOigpPT5wLE9JOigpPT51LGlXOigpPT5sfSk7dmFyIG8scixpLGE9big4MDYpLHM9big2NzgpOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCIsZS5DbGFzc2ljV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLWNsYXNzaWMtd2luZG93XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZWQ9XCJjbG9zZWRcIixlLkNsb3NlUmVxdWVzdGVkPVwiY2xvc2UtcmVxdWVzdGVkXCIsZS5Gb2N1c2VkPVwiZm9jdXNlZFwiLGUuU2hvd1JlcXVlc3RlZD1cInNob3ctcmVxdWVzdGVkXCIsZS5WaWV3Q3Jhc2hlZD1cInZpZXctY3Jhc2hlZFwiLGUuVmlld0F0dGFjaGVkPVwidmlldy1hdHRhY2hlZFwiLGUuVmlld0RldGFjaGVkPVwidmlldy1kZXRhY2hlZFwiLGUuVmlld1BhZ2VUaXRsZVVwZGF0ZWQ9XCJ2aWV3LXBhZ2UtdGl0bGUtdXBkYXRlZFwiLGUuVmlld0Rlc3Ryb3llZD1cInZpZXctZGVzdHJveWVkXCIsZS5PcHRpb25zQ2hhbmdlZD1cIm9wdGlvbnMtY2hhbmdlZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQmVmb3JlVW5sb2FkPVwiYmVmb3JldW5sb2FkXCJ9KGl8fChpPXt9KSk7ZnVuY3Rpb24gYyhlKXtpZighcy5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1jb25zdCBkPXtuYW1lOnMub0MsdXVpZDpzLkFCfTtjb25zdCB1PXtuYW1lOm8uSG9tZSx1dWlkOmEucTkuV29ya3NwYWNlfSxsPShvLkRvY2ssYS5xOS5Xb3Jrc3BhY2Usby5TdG9yZWZyb250LGEucTkuV29ya3NwYWNlLHtuYW1lOmEucTkuV29ya3NwYWNlLHV1aWQ6YS5xOS5Xb3Jrc3BhY2V9KTtjb25zdCBwPWU9PmMoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKX0sMzE2OihlLHQsbik9Pnt2YXIgbyxyLGk7bi5kKHQse0RlOigpPT5vLHB4OigpPT5yLHd0OigpPT5pfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KGl8fChpPXt9KSl9fSx0PXt9O2Z1bmN0aW9uIG4obyl7dmFyIHI9dFtvXTtpZih2b2lkIDAhPT1yKXJldHVybiByLmV4cG9ydHM7dmFyIGk9dFtvXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbb10oaSxpLmV4cG9ydHMsbiksaS5leHBvcnRzfW4uZD0oZSx0KT0+e2Zvcih2YXIgbyBpbiB0KW4ubyh0LG8pJiYhbi5vKGUsbykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8se2VudW1lcmFibGU6ITAsZ2V0OnRbb119KX0sbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBvPXt9OygoKT0+e24ucihvKSxuLmQobyx7QWN0aW9uVHJpZ2dlcjooKT0+Vy5wLEFwcE1hbmlmZXN0VHlwZTooKT0+SS5MLEJ1dHRvblN0eWxlOigpPT5rLlpKLENMSUFjdGlvbjooKT0+Qy5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5DLmVsLENMSVRlbXBsYXRlOigpPT5DLnlXLENvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+ay5wNixEb2NrOigpPT5lLERvY2tCdXR0b25OYW1lczooKT0+ZC52LEhvbWU6KCk9PnYsTGVnYWN5OigpPT50LFByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+ay5HbyxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT5XLncsU3RvcmVmcm9udDooKT0+UCxTdG9yZWZyb250VGVtcGxhdGU6KCk9PkkuVCxUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PmsuYkl9KTt2YXIgZT17fTtuLnIoZSksbi5kKGUse0RvY2tCdXR0b25OYW1lczooKT0+ZC52LGRlcmVnaXN0ZXI6KCk9PmYsbWluaW1pemU6KCk9PmcscmVnaXN0ZXI6KCk9PnAsc2hvdzooKT0+d30pO3ZhciB0PXt9O24ucih0KSxuLmQodCx7Z2V0UGFnZXM6KCk9Pm0sZ2V0V29ya3NwYWNlczooKT0+U30pO3ZhciByPW4oNjc4KSxpPW4oNTMyKSxhPW4oMTUwKSxzPW4oNDM4KSxjPW4oODIpLGQ9big0MjcpO2xldCB1LGw9ITE7Y29uc3QgcD1lPT4odT1uZXcgUHJvbWlzZSgoYXN5bmModCxuKT0+e3RyeXtjb25zdCBuPWF3YWl0KGFzeW5jIGU9Pnthd2FpdCgwLHMuSGgpKGZpbi5tZS5pZGVudGl0eSk7Y29uc3QgdD1hd2FpdCgwLGEuWGwpKCk7aWYobCl0aHJvdyBuZXcgRXJyb3IoXCJBIGRvY2sgcHJvdmlkZXIgZm9yIHRoZSBwbGF0Zm9ybSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO3JldHVybiBsPSEwLGUuY2xpZW50QVBJVmVyc2lvbj1yLnUwLHQuZGlzcGF0Y2goYS5XRi5SZWdpc3RlclByb3ZpZGVyLHtwcm92aWRlclR5cGU6Yy5sUC5Eb2NrLGluZm86ZX0pfSkoZSk7KDAsaS5Xbikoe2FsbG93ZWQ6ITAsY29tcG9uZW50VmVyc2lvbjpuPy53b3Jrc3BhY2VWZXJzaW9ufSksbj8ud29ya3NwYWNlVmVyc2lvbixyLnUwLHQoe2NsaWVudEFQSVZlcnNpb246ci51MCx3b3Jrc3BhY2VWZXJzaW9uOm4/LndvcmtzcGFjZVZlcnNpb24/P1wiXCJ9KX1jYXRjaChlKXsoMCxpLlduKSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUgaW5zdGFuY2VvZiBFcnJvcj9lLm1lc3NhZ2U6XCJ1bmtub3duXCJ9KSxuKGUpLHU9bnVsbH19KSksdSksZj1hc3luYygpPT57YXdhaXQgdSxsPSExO3JldHVybihhd2FpdCgwLGEuWGwpKCkpLmRpc3BhdGNoKGEuV0YuRGVyZWdpc3RlclByb3ZpZGVyLHtwcm92aWRlclR5cGU6Yy5sUC5Eb2NrfSl9LGc9YXN5bmMoKT0+e2F3YWl0IHUsYXdhaXQoMCxhLmFCKSgpLGF3YWl0KDAsYy5SOCkoYy5sUC5Eb2NrKX0sdz1hc3luYygpPT57YXdhaXQgdSxhd2FpdCgwLGEuYUIpKCksYXdhaXQoMCxjLlhfKShjLmxQLkRvY2spfTt2YXIgaCx2PW4oNzAzKTtuKDEyMSk7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifShofHwoaD17fSkpO25ldyBNYXA7dmFyIHk7IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCIsZS5Eb2NrUG9zaXRpb249XCJEb2NrUG9zaXRpb25cIixlLlNlbGVjdGVkQ29sb3JTY2hlbWU9XCJTZWxlY3RlZENvbG9yU2NoZW1lXCIsZS5IYXNNb3ZlZFN0b3JlPVwiSGFzTW92ZWRTdG9yZVwifSh5fHwoeT17fSkpO2NvbnN0IG09KCk9PmFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKGF3YWl0KDAsYS5EbSkoKSkuZGlzcGF0Y2goYS5XRi5HZXRMZWdhY3lQYWdlcyx2b2lkIDApfSgpLFM9KCk9Pihhc3luYygpPT4oYXdhaXQoMCxhLkRtKSgpKS5kaXNwYXRjaChhLldGLkdldExlZ2FjeVdvcmtzcGFjZXMsdm9pZCAwKSkoKTt2YXIgUD1uKDUyOCksVz1uKDI5OCksaz1uKDEwOSksQz1uKDc1OCksST1uKDExNCl9KSgpLG1vZHVsZS5leHBvcnRzPW99KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHtcblx0Q0xJVGVtcGxhdGUsXG5cdHR5cGUgSG9tZURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG5cdHR5cGUgQ0xJRmlsdGVyLFxuXHR0eXBlIEhvbWVTZWFyY2hMaXN0ZW5lclJlc3BvbnNlLFxuXHR0eXBlIEhvbWVTZWFyY2hSZXNwb25zZSxcblx0dHlwZSBIb21lU2VhcmNoUmVzdWx0XG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB0eXBlIHsgSW50ZWdyYXRpb24sIEludGVncmF0aW9uSGVscGVycywgSW50ZWdyYXRpb25Nb2R1bGUgfSBmcm9tIFwiLi4vLi4vaW50ZWdyYXRpb25zLXNoYXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlSGVscCB9IGZyb20gXCIuLi8uLi90ZW1wbGF0ZXNcIjtcbmltcG9ydCB0eXBlIHsgQXN5bmNTZXR0aW5ncywgQ29udGFjdCwgQ29udGFjdEZ1bGwsIENvbnRhY3RzUmVzdWx0IH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbi8qKlxuICogSW1wbGVtZW50IHRoZSBpbnRlZ3JhdGlvbiBwcm92aWRlciBmb3IgYXN5bmMgcmVzdWx0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIEludGVncmF0aW9uTW9kdWxlPEFzeW5jU2V0dGluZ3M+IHtcblx0LyoqXG5cdCAqIFByb3ZpZGVyIGlkLlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9QUk9WSURFUl9JRCA9IFwiYXN5bmNcIjtcblxuXHQvKipcblx0ICogVGhlIGtleSB0byB1c2UgZm9yIGEgYXN5bmMgcmVzdWx0LlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9BU1lOQ19QUk9WSURFUl9ERVRBSUxTX0FDVElPTiA9IFwiQXN5bmMgRGV0YWlsc1wiO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW50ZWdyYXRpb24gaGVscGVycy5cblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRwcml2YXRlIF9pbnRlZ3JhdGlvbkhlbHBlcnM6IEludGVncmF0aW9uSGVscGVycyB8IHVuZGVmaW5lZDtcblxuXHQvKipcblx0ICogVGhlIHNldHRpbmdzIGZvciB0aGUgaW50ZWdyYXRpb24uXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0cHJpdmF0ZSBfc2V0dGluZ3M6IEFzeW5jU2V0dGluZ3MgfCB1bmRlZmluZWQ7XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgdGhlIG1vZHVsZS5cblx0ICogQHBhcmFtIGRlZmluaXRpb24gVGhlIGRlZmluaXRpb24gb2YgdGhlIG1vZHVsZSBmcm9tIGNvbmZpZ3VyYXRpb24gaW5jbHVkZSBjdXN0b20gb3B0aW9ucy5cblx0ICogQHBhcmFtIGxvZ2dlckNyZWF0b3IgRm9yIGxvZ2dpbmcgZW50cmllcy5cblx0ICogQHBhcmFtIGhlbHBlcnMgSGVscGVyIG1ldGhvZHMgZm9yIHRoZSBtb2R1bGUgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgYXBwbGljYXRpb24gY29yZS5cblx0ICogQHJldHVybnMgTm90aGluZy5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBpbml0aWFsaXplKFxuXHRcdGRlZmluaXRpb246IEludGVncmF0aW9uPEFzeW5jU2V0dGluZ3M+LFxuXHRcdGxvZ2dlckNyZWF0b3I6ICgpID0+IHZvaWQsXG5cdFx0aGVscGVyczogSW50ZWdyYXRpb25IZWxwZXJzXG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuX2ludGVncmF0aW9uSGVscGVycyA9IGhlbHBlcnM7XG5cdFx0dGhpcy5fc2V0dGluZ3MgPSBkZWZpbml0aW9uLmRhdGE7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIG1vZHVsZSBpcyBiZWluZyBkZXJlZ2lzdGVyZWQuXG5cdCAqIEByZXR1cm5zIE5vdGhpbmcuXG5cdCAqL1xuXHRwdWJsaWMgYXN5bmMgY2xvc2Vkb3duKCk6IFByb21pc2U8dm9pZD4ge31cblxuXHQvKipcblx0ICogR2V0IGEgbGlzdCBvZiB0aGUgc3RhdGljIGhlbHAgZW50cmllcy5cblx0ICogQHJldHVybnMgVGhlIGxpc3Qgb2YgaGVscCBlbnRyaWVzLlxuXHQgKi9cblx0cHVibGljIGFzeW5jIGdldEhlbHBTZWFyY2hFbnRyaWVzPygpOiBQcm9taXNlPEhvbWVTZWFyY2hSZXN1bHRbXT4ge1xuXHRcdHJldHVybiBbXG5cdFx0XHR7XG5cdFx0XHRcdGtleTogYCR7QXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRH0taGVscDFgLFxuXHRcdFx0XHR0aXRsZTogXCIvY29udGFjdHMtc3luY1wiLFxuXHRcdFx0XHRsYWJlbDogXCJIZWxwXCIsXG5cdFx0XHRcdGFjdGlvbnM6IFtdLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0cHJvdmlkZXJJZDogQXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ3VzdG9tLFxuXHRcdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IGF3YWl0IGNyZWF0ZUhlbHAoXG5cdFx0XHRcdFx0XCIvY29udGFjdHMtc3luY1wiLFxuXHRcdFx0XHRcdFtcblx0XHRcdFx0XHRcdFwiVGhlIGNvbnRhY3RzLXN5bmMgY29tbWFuZCBjYW4gYmUgdXNlZCB0byBzZWFyY2ggZm9yIGEgY29udGFjdC5cIixcblx0XHRcdFx0XHRcdFwiSXQgZGVtb25zdHJhdGVzIGhvdyBhIGxvbmcgcnVubmluZyByZXRyaWV2YWwgd291bGQgaGF2ZSB0byB3YWl0IGZvciB0aGUgcmVzcG9uc2UgYmVmb3JlIGFueXRoaW5nIGlzIGRpc3BsYXkuXCIsXG5cdFx0XHRcdFx0XHRcIkZvciBleGFtcGxlIHRvIHNlYXJjaCBmb3IgYSBjb250YWN0IGNvbnRhaW5pbmcgdGhlIGxldHRlciBhLlwiXG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRbXCIvY29udGFjdHMtc3luYyBhXCJdXG5cdFx0XHRcdClcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGtleTogYCR7QXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRH0taGVscDJgLFxuXHRcdFx0XHR0aXRsZTogXCIvY29udGFjdHMtcGFydGlhbFwiLFxuXHRcdFx0XHRsYWJlbDogXCJIZWxwXCIsXG5cdFx0XHRcdGFjdGlvbnM6IFtdLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0cHJvdmlkZXJJZDogQXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ3VzdG9tLFxuXHRcdFx0XHR0ZW1wbGF0ZUNvbnRlbnQ6IGF3YWl0IGNyZWF0ZUhlbHAoXG5cdFx0XHRcdFx0XCIvY29udGFjdHMtcGFydGlhbFwiLFxuXHRcdFx0XHRcdFtcblx0XHRcdFx0XHRcdFwiVGhlIGNvbnRhY3RzLXBhcnRpYWwgY29tbWFuZCBjYW4gYmUgdXNlZCB0byBzZWFyY2ggZm9yIGEgY29udGFjdC5cIixcblx0XHRcdFx0XHRcdFwiSXQgZGVtb25zdHJhdGVzIGhvdyB3ZSB3b3VsZCBkaXNwbGF5IHJlc3VsdHMgaW5zdGFudGx5IHdoaWxlIGFzeW5jaHJvbm91c2x5IHJldHJpZXZpbmcgYWxsIHRoZSByZXN1bHRzLlwiLFxuXHRcdFx0XHRcdFx0XCJGb3IgZXhhbXBsZSB0byBzZWFyY2ggZm9yIGEgY29udGFjdCBjb250YWluaW5nIHRoZSBsZXR0ZXIgYS5cIlxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0W1wiL2NvbnRhY3RzLXBhcnRpYWwgYVwiXVxuXHRcdFx0XHQpXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRrZXk6IGAke0FzeW5jSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUR9LWhlbHAzYCxcblx0XHRcdFx0dGl0bGU6IFwiL2NvbnRhY3RzXCIsXG5cdFx0XHRcdGxhYmVsOiBcIkhlbHBcIixcblx0XHRcdFx0YWN0aW9uczogW10sXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRwcm92aWRlcklkOiBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lEXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5DdXN0b20sXG5cdFx0XHRcdHRlbXBsYXRlQ29udGVudDogYXdhaXQgY3JlYXRlSGVscChcblx0XHRcdFx0XHRcIi9jb250YWN0c1wiLFxuXHRcdFx0XHRcdFtcblx0XHRcdFx0XHRcdFwiVGhlIGNvbnRhY3RzIGNvbW1hbmQgY2FuIGJlIHVzZWQgdG8gc2VhcmNoIGZvciBhIGNvbnRhY3QuXCIsXG5cdFx0XHRcdFx0XHRcIkl0IGRlbW9uc3RyYXRlcyBob3cgd2Ugd291bGQgZGlzcGxheSByZXN1bHRzIGluc3RhbnRseSBhbmQgb25seSByZXRyaWV2ZSBmdWxsIGRhdGEgb24gZW50cnkgc2VsZWN0aW9uLlwiLFxuXHRcdFx0XHRcdFx0XCJDb250YWN0cyBzdGFydGluZyB3aXRoIEUgd2lsbCBzaG93IGVycm9yIG9uIGZpcnN0IGxvYWQuXCIsXG5cdFx0XHRcdFx0XHRcIkZvciBleGFtcGxlIHRvIHNlYXJjaCBmb3IgYSBjb250YWN0IGNvbnRhaW5pbmcgdGhlIGxldHRlciBhLlwiXG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRbXCIvY29udGFjdHMgYVwiLCBcIi9jb250YWN0cyBlXCJdXG5cdFx0XHRcdClcblx0XHRcdH1cblx0XHRdO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFuIGVudHJ5IGhhcyBiZWVuIHNlbGVjdGVkLlxuXHQgKiBAcGFyYW0gcmVzdWx0IFRoZSBkaXNwYXRjaGVkIHJlc3VsdC5cblx0ICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCByZXNwb25zZS5cblx0ICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgaXRlbSB3YXMgaGFuZGxlZC5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBpdGVtU2VsZWN0aW9uKFxuXHRcdHJlc3VsdDogSG9tZURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG5cdFx0bGFzdFJlc3BvbnNlOiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuXHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCBkYXRhOiB7IHVybD86IHN0cmluZyB9ID0gcmVzdWx0LmRhdGE7XG5cblx0XHRpZiAoXG5cdFx0XHRyZXN1bHQuYWN0aW9uLnRyaWdnZXIgPT09IFwidXNlci1hY3Rpb25cIiAmJlxuXHRcdFx0cmVzdWx0LmFjdGlvbi5uYW1lID09PSBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIuX0FTWU5DX1BST1ZJREVSX0RFVEFJTFNfQUNUSU9OICYmXG5cdFx0XHRkYXRhLnVybCAmJlxuXHRcdFx0dGhpcy5faW50ZWdyYXRpb25IZWxwZXJzLm9wZW5Vcmxcblx0XHQpIHtcblx0XHRcdGF3YWl0IHRoaXMuX2ludGVncmF0aW9uSGVscGVycy5vcGVuVXJsKGRhdGEudXJsKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHQocmVzdWx0LmFjdGlvbi50cmlnZ2VyID09PSBcImZvY3VzLWNoYW5nZVwiICYmIHJlc3VsdC5kYXRhPy5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHx8XG5cdFx0XHQocmVzdWx0LmFjdGlvbi50cmlnZ2VyID09PSBcInJlbG9hZFwiICYmIHJlc3VsdC5kYXRhPy5zdGF0ZSA9PT0gXCJlcnJvclwiKVxuXHRcdCkge1xuXHRcdFx0c2V0VGltZW91dChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNvbnRhY3RSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX3NldHRpbmdzPy5yb290VXJsfSR7cmVzdWx0LmRhdGEuY29udGFjdC5pZH0uanNvbmApO1xuXG5cdFx0XHRcdGNvbnN0IGNvbnRhY3RGdWxsOiBDb250YWN0RnVsbCA9IGF3YWl0IGNvbnRhY3RSZXNwb25zZS5qc29uKCk7XG5cblx0XHRcdFx0bGFzdFJlc3BvbnNlLnJlc3BvbmQoW3RoaXMuY3JlYXRlUmVzdWx0KGNvbnRhY3RGdWxsKV0pO1xuXHRcdFx0fSwgMCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBhIGxpc3Qgb2Ygc2VhcmNoIHJlc3VsdHMgYmFzZWQgb24gdGhlIHF1ZXJ5IGFuZCBmaWx0ZXJzLlxuXHQgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIHNlYXJjaCBmb3IuXG5cdCAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuXHQgKiBAcGFyYW0gbGFzdFJlc3BvbnNlIFRoZSBsYXN0IHNlYXJjaCByZXNwb25zZSB1c2VkIGZvciB1cGRhdGluZyBleGlzdGluZyByZXN1bHRzLlxuXHQgKiBAcmV0dXJucyBUaGUgbGlzdCBvZiByZXN1bHRzIGFuZCBuZXcgZmlsdGVycy5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBnZXRTZWFyY2hSZXN1bHRzKFxuXHRcdHF1ZXJ5OiBzdHJpbmcsXG5cdFx0ZmlsdGVyczogQ0xJRmlsdGVyW10sXG5cdFx0bGFzdFJlc3BvbnNlOiBIb21lU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxuXHQpOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT4ge1xuXHRcdGNvbnN0IHJlc3VsdHM6IEhvbWVTZWFyY2hSZXN1bHRbXSA9IFtdO1xuXG5cdFx0aWYgKHF1ZXJ5LnN0YXJ0c1dpdGgoXCIvY29udGFjdHMtc3luYyBcIikpIHtcblx0XHRcdGF3YWl0IHRoaXMuY29udGFjdHNTeW5jKHF1ZXJ5LnNsaWNlKDE1KSwgcmVzdWx0cyk7XG5cdFx0fSBlbHNlIGlmIChxdWVyeS5zdGFydHNXaXRoKFwiL2NvbnRhY3RzLXBhcnRpYWwgXCIpKSB7XG5cdFx0XHRhd2FpdCB0aGlzLmNvbnRhY3RzUGFydGlhbChxdWVyeS5zbGljZSgxOCksIHJlc3VsdHMsIGxhc3RSZXNwb25zZSk7XG5cdFx0fSBlbHNlIGlmIChxdWVyeS5zdGFydHNXaXRoKFwiL2NvbnRhY3RzIFwiKSkge1xuXHRcdFx0YXdhaXQgdGhpcy5jb250YWN0c0FzeW5jKHF1ZXJ5LnNsaWNlKDEwKSwgcmVzdWx0cywgbGFzdFJlc3BvbnNlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVzdWx0c1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogUmV0cmlldmUgdGhlIGNvbnRhY3RzIGluIGEgc3luY2hyb25vdXMgbWFubmVyLlxuXHQgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIHNlYXJjaCBmb3Jcblx0ICogQHBhcmFtIHJlc3VsdHMgVGhlIHJlc3VsdCBsaXN0IHRvIHBvcHVsYXRlLlxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBjb250YWN0c1N5bmMocXVlcnk6IHN0cmluZywgcmVzdWx0czogSG9tZVNlYXJjaFJlc3VsdFtdKSB7XG5cdFx0Y29uc3Qgd2lsZGNhcmQgPSBxdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICh3aWxkY2FyZC5sZW5ndGggPiAwKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX3NldHRpbmdzPy5yb290VXJsfWluZGV4Lmpzb25gKTtcblxuXHRcdFx0XHRjb25zdCBqc29uOiBDb250YWN0c1Jlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbnRhY3Qgb2YganNvbi5kYXRhKSB7XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0Y29udGFjdC5maXJzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh3aWxkY2FyZCkgfHxcblx0XHRcdFx0XHRcdGNvbnRhY3QubGFzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh3aWxkY2FyZClcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGNvbnRhY3RSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX3NldHRpbmdzPy5yb290VXJsfSR7Y29udGFjdC5pZH0uanNvbmApO1xuXG5cdFx0XHRcdFx0XHRjb25zdCBjb250YWN0RnVsbDogQ29udGFjdEZ1bGwgPSBhd2FpdCBjb250YWN0UmVzcG9uc2UuanNvbigpO1xuXG5cdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2godGhpcy5jcmVhdGVSZXN1bHQoY29udGFjdEZ1bGwpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHJpZXZlIHRoZSBjb250YWN0cyBpbiBhIHBhcnRpYWxseSBhc3luY2hyb25vdXMgbWFubmVyLlxuXHQgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIHNlYXJjaCBmb3Jcblx0ICogQHBhcmFtIHJlc3VsdHMgVGhlIHJlc3VsdCBsaXN0IHRvIHBvcHVsYXRlLlxuXHQgKiBAcGFyYW0gbGFzdFJlc3BvbnNlIFRoZSBsYXN0IHJlc3BvbnNlIHRvIHVzZSBmb3IgdXBkYXRpbmcgcmVzdWx0cy5cblx0ICovXG5cdHByaXZhdGUgYXN5bmMgY29udGFjdHNQYXJ0aWFsKFxuXHRcdHF1ZXJ5OiBzdHJpbmcsXG5cdFx0cmVzdWx0czogSG9tZVNlYXJjaFJlc3VsdFtdLFxuXHRcdGxhc3RSZXNwb25zZTogSG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcblx0KSB7XG5cdFx0Y29uc3Qgd2lsZGNhcmQgPSBxdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICh3aWxkY2FyZC5sZW5ndGggPiAwKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX3NldHRpbmdzPy5yb290VXJsfWluZGV4Lmpzb25gKTtcblxuXHRcdFx0XHRjb25zdCBqc29uOiBDb250YWN0c1Jlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0Y29uc3QgZmluYWxDb250YWN0cyA9IFtdO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgY29udGFjdCBvZiBqc29uLmRhdGEpIHtcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRjb250YWN0LmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHdpbGRjYXJkKSB8fFxuXHRcdFx0XHRcdFx0Y29udGFjdC5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHdpbGRjYXJkKVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0ZmluYWxDb250YWN0cy5wdXNoKGNvbnRhY3QpO1xuXHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKHRoaXMuY3JlYXRlUmVzdWx0KGNvbnRhY3QpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGNvbnRhY3Qgb2YgZmluYWxDb250YWN0cykge1xuXHRcdFx0XHRcdFx0Y29uc3QgY29udGFjdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5fc2V0dGluZ3M/LnJvb3RVcmx9JHtjb250YWN0LmlkfS5qc29uYCk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGNvbnRhY3RGdWxsOiBDb250YWN0RnVsbCA9IGF3YWl0IGNvbnRhY3RSZXNwb25zZS5qc29uKCk7XG5cblx0XHRcdFx0XHRcdGxhc3RSZXNwb25zZS5yZXNwb25kKFt0aGlzLmNyZWF0ZVJlc3VsdChjb250YWN0RnVsbCldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIDApO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmV0cmlldmUgdGhlIGNvbnRhY3RzIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXIuXG5cdCAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gc2VhcmNoIGZvclxuXHQgKiBAcGFyYW0gcmVzdWx0cyBUaGUgcmVzdWx0IGxpc3QgdG8gcG9wdWxhdGUuXG5cdCAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3QgcmVzcG9uc2UgdG8gdXNlIGZvciB1cGRhdGluZyByZXN1bHRzLlxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBjb250YWN0c0FzeW5jKFxuXHRcdHF1ZXJ5OiBzdHJpbmcsXG5cdFx0cmVzdWx0czogSG9tZVNlYXJjaFJlc3VsdFtdLFxuXHRcdGxhc3RSZXNwb25zZTogSG9tZVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcblx0KSB7XG5cdFx0Y29uc3Qgd2lsZGNhcmQgPSBxdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICh3aWxkY2FyZC5sZW5ndGggPiAwKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuX3NldHRpbmdzPy5yb290VXJsfWluZGV4Lmpzb25gKTtcblxuXHRcdFx0XHRjb25zdCBqc29uOiBDb250YWN0c1Jlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0Y29uc3QgZmluYWxDb250YWN0cyA9IFtdO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgY29udGFjdCBvZiBqc29uLmRhdGEpIHtcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRjb250YWN0LmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHdpbGRjYXJkKSB8fFxuXHRcdFx0XHRcdFx0Y29udGFjdC5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHdpbGRjYXJkKVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0ZmluYWxDb250YWN0cy5wdXNoKGNvbnRhY3QpO1xuXHRcdFx0XHRcdFx0Ly8gSWYgYSBjb250YWN0IHN0YXJ0cyB3aXRoIEUgc2hvdyBpdCBpbiBlcnJvcmVkIHN0YXRlXG5cdFx0XHRcdFx0XHRpZiAoY29udGFjdC5maXJzdE5hbWUuc3RhcnRzV2l0aChcIkVcIikpIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKHRoaXMuY3JlYXRlUmVzdWx0RXJyb3JlZChjb250YWN0KSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2godGhpcy5jcmVhdGVSZXN1bHRMb2FkaW5nKGNvbnRhY3QpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIHNlYXJjaCByZXN1bHQuXG5cdCAqIEBwYXJhbSBjb250YWN0IFRoZSBjb250YWN0LlxuXHQgKiBAcmV0dXJucyBUaGUgc2VhcmNoIHJlc3VsdC5cblx0ICovXG5cdHByaXZhdGUgY3JlYXRlUmVzdWx0KGNvbnRhY3Q6IFBhcnRpYWw8Q29udGFjdEZ1bGw+KTogSG9tZVNlYXJjaFJlc3VsdCB7XG5cdFx0Y29uc3QgZnVsbE5hbWUgPSBgJHtjb250YWN0LmZpcnN0TmFtZX0gJHtjb250YWN0Lmxhc3ROYW1lfWA7XG5cdFx0Y29uc3QgZGV0YWlscyA9IFtdO1xuXHRcdGlmIChjb250YWN0LmVtYWlsKSB7XG5cdFx0XHRkZXRhaWxzLnB1c2goW1wiRS1tYWlsXCIsIGNvbnRhY3QuZW1haWxdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdGtleTogYGNvbnRhY3QtJHtjb250YWN0LmlkfWAsXG5cdFx0XHR0aXRsZTogZnVsbE5hbWUsXG5cdFx0XHRsYWJlbDogXCJJbmZvcm1hdGlvblwiLFxuXHRcdFx0YWN0aW9uczogW10sXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdHByb3ZpZGVySWQ6IEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG5cdFx0XHRcdGNvbnRhY3Rcblx0XHRcdH0sXG5cdFx0XHR0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ29udGFjdCxcblx0XHRcdHRlbXBsYXRlQ29udGVudDoge1xuXHRcdFx0XHRuYW1lOiBmdWxsTmFtZSxcblx0XHRcdFx0ZGV0YWlsczogW2RldGFpbHNdXG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBzZWFyY2ggcmVzdWx0IGluIGxvYWRpbmcgc3RhdGUuXG5cdCAqIEBwYXJhbSBjb250YWN0IFRoZSBjb250YWN0LlxuXHQgKiBAcmV0dXJucyBUaGUgc2VhcmNoIHJlc3VsdC5cblx0ICovXG5cdHByaXZhdGUgY3JlYXRlUmVzdWx0TG9hZGluZyhjb250YWN0OiBDb250YWN0KTogSG9tZVNlYXJjaFJlc3VsdCB7XG5cdFx0Y29uc3QgZnVsbE5hbWUgPSBgJHtjb250YWN0LmZpcnN0TmFtZX0gJHtjb250YWN0Lmxhc3ROYW1lfWA7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGtleTogYGNvbnRhY3QtJHtjb250YWN0LmlkfWAsXG5cdFx0XHR0aXRsZTogZnVsbE5hbWUsXG5cdFx0XHRsYWJlbDogXCJJbmZvcm1hdGlvblwiLFxuXHRcdFx0YWN0aW9uczogW10sXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdHByb3ZpZGVySWQ6IEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXG5cdFx0XHRcdGNvbnRhY3QsXG5cdFx0XHRcdHN0YXRlOiBcImxvYWRpbmdcIlxuXHRcdFx0fSxcblx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5Mb2FkaW5nLFxuXHRcdFx0dGVtcGxhdGVDb250ZW50OiB1bmRlZmluZWRcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIHNlYXJjaCByZXN1bHQgaW4gZXJyb3JlZCBzdGF0ZS5cblx0ICogQHBhcmFtIGNvbnRhY3QgVGhlIGNvbnRhY3QuXG5cdCAqIEByZXR1cm5zIFRoZSBzZWFyY2ggcmVzdWx0LlxuXHQgKi9cblx0cHJpdmF0ZSBjcmVhdGVSZXN1bHRFcnJvcmVkKGNvbnRhY3Q6IENvbnRhY3QpOiBIb21lU2VhcmNoUmVzdWx0IHtcblx0XHRjb25zdCBmdWxsTmFtZSA9IGAke2NvbnRhY3QuZmlyc3ROYW1lfSAke2NvbnRhY3QubGFzdE5hbWV9YDtcblx0XHRyZXR1cm4ge1xuXHRcdFx0a2V5OiBgY29udGFjdC0ke2NvbnRhY3QuaWR9YCxcblx0XHRcdHRpdGxlOiBmdWxsTmFtZSxcblx0XHRcdGxhYmVsOiBcIkluZm9ybWF0aW9uXCIsXG5cdFx0XHRhY3Rpb25zOiBbXSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0cHJvdmlkZXJJZDogQXN5bmNJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcblx0XHRcdFx0Y29udGFjdCxcblx0XHRcdFx0c3RhdGU6IFwiZXJyb3JcIlxuXHRcdFx0fSxcblx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5FcnJvcixcblx0XHRcdHRlbXBsYXRlQ29udGVudDogXCJVbmFibGUgdG8gbG9hZCBkYXRhXCJcblx0XHR9O1xuXHR9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEN1c3RvbVNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmxldCBzZXR0aW5nczogQ3VzdG9tU2V0dGluZ3M7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbmZpZ3VyZWRTZXR0aW5ncygpOiBQcm9taXNlPEN1c3RvbVNldHRpbmdzPiB7XG5cdGNvbnN0IGFwcCA9IGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50KCk7XG5cdGNvbnN0IG1hbmlmZXN0OiBPcGVuRmluLk1hbmlmZXN0ICYgeyBjdXN0b21TZXR0aW5ncz86IEN1c3RvbVNldHRpbmdzIH0gPSBhd2FpdCBhcHAuZ2V0TWFuaWZlc3QoKTtcblxuXHRpZiAobWFuaWZlc3QuY3VzdG9tU2V0dGluZ3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdHNldHRpbmdzID0gbWFuaWZlc3QuY3VzdG9tU2V0dGluZ3M7XG5cdH0gZWxzZSB7XG5cdFx0c2V0dGluZ3MgPSB7fTtcblx0fVxuXG5cdHJldHVybiBzZXR0aW5ncztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNldHRpbmdzKCk6IFByb21pc2U8Q3VzdG9tU2V0dGluZ3M+IHtcblx0aWYgKHNldHRpbmdzID09PSB1bmRlZmluZWQpIHtcblx0XHRzZXR0aW5ncyA9IGF3YWl0IGdldENvbmZpZ3VyZWRTZXR0aW5ncygpO1xuXHR9XG5cdHJldHVybiBzZXR0aW5ncztcbn1cbiIsImltcG9ydCB7XG5cdEJ1dHRvblN0eWxlLFxuXHRCdXR0b25UZW1wbGF0ZUZyYWdtZW50LFxuXHRJbWFnZVRlbXBsYXRlRnJhZ21lbnQsXG5cdFBsYWluQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudCxcblx0VGVtcGxhdGVGcmFnbWVudCxcblx0VGVtcGxhdGVGcmFnbWVudFR5cGVzLFxuXHRUZXh0VGVtcGxhdGVGcmFnbWVudFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgdHlwZSAqIGFzIENTUyBmcm9tIFwiY3NzdHlwZVwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFRoZW1lIH0gZnJvbSBcIi4vdGhlbWVzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVIZWxwKFxuXHR0aXRsZTogc3RyaW5nLFxuXHRkZXNjcmlwdGlvbjogc3RyaW5nW10sXG5cdGV4YW1wbGVzOiBzdHJpbmdbXVxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKTogUHJvbWlzZTx7IGxheW91dDogUGxhaW5Db250YWluZXJUZW1wbGF0ZUZyYWdtZW50OyBkYXRhOiBhbnkgfT4ge1xuXHRjb25zdCB0aGVtZSA9IGF3YWl0IGdldEN1cnJlbnRUaGVtZSgpO1xuXHRjb25zdCBhZGRpdGlvbmFsRGF0YSA9IHt9O1xuXHRjb25zdCBmcmFnbWVudHM6IFRlbXBsYXRlRnJhZ21lbnRbXSA9IFtdO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGRlc2NyaXB0aW9uLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgZGVzY3JpcHRpb25LZXkgPSBgZGVzYy0ke2l9YDtcblx0XHRhZGRpdGlvbmFsRGF0YVtkZXNjcmlwdGlvbktleV0gPSBkZXNjcmlwdGlvbltpXTtcblx0XHRmcmFnbWVudHMucHVzaChcblx0XHRcdGF3YWl0IGNyZWF0ZVRleHQoZGVzY3JpcHRpb25LZXksIDEyLCB7XG5cdFx0XHRcdHBhZGRpbmc6IFwiNnB4IDBweFwiXG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblx0Y29uc3QgZXhhbXBsZUZyYWdtZW50czogVGVtcGxhdGVGcmFnbWVudFtdID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZXhhbXBsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBleGFtcGxlS2V5ID0gYGxpbmUtJHtpfWA7XG5cdFx0YWRkaXRpb25hbERhdGFbZXhhbXBsZUtleV0gPSBleGFtcGxlc1tpXTtcblx0XHRleGFtcGxlRnJhZ21lbnRzLnB1c2goXG5cdFx0XHRhd2FpdCBjcmVhdGVUZXh0KGV4YW1wbGVLZXksIDEyLCB7XG5cdFx0XHRcdGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG5cdFx0XHRcdHdoaXRlU3BhY2U6IFwibm93cmFwXCJcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXHRpZiAoZXhhbXBsZUZyYWdtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0ZnJhZ21lbnRzLnB1c2goXG5cdFx0XHRhd2FpdCBjcmVhdGVDb250YWluZXIoXCJjb2x1bW5cIiwgZXhhbXBsZUZyYWdtZW50cywge1xuXHRcdFx0XHRwYWRkaW5nOiBcIjEwcHhcIixcblx0XHRcdFx0bWFyZ2luVG9wOiBcIjZweFwiLFxuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZDUsXG5cdFx0XHRcdGNvbG9yOiB0aGVtZS5wYWxldHRlLmlucHV0Q29sb3IsXG5cdFx0XHRcdGJvcmRlclJhZGl1czogXCI1cHhcIixcblx0XHRcdFx0b3ZlcmZsb3c6IFwiYXV0b1wiXG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblx0cmV0dXJuIHtcblx0XHRsYXlvdXQ6IGF3YWl0IGNyZWF0ZUNvbnRhaW5lcihcblx0XHRcdFwiY29sdW1uXCIsXG5cdFx0XHRbXG5cdFx0XHRcdGF3YWl0IGNyZWF0ZVRpdGxlKFwidGl0bGVcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcblx0XHRcdFx0XHRtYXJnaW5Cb3R0b206IFwiMTBweFwiLFxuXHRcdFx0XHRcdGJvcmRlckJvdHRvbTogYDFweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUuYmFja2dyb3VuZDZ9YFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0Li4uZnJhZ21lbnRzXG5cdFx0XHRdLFxuXHRcdFx0e1xuXHRcdFx0XHRwYWRkaW5nOiBcIjEwcHhcIlxuXHRcdFx0fVxuXHRcdCksXG5cdFx0ZGF0YToge1xuXHRcdFx0dGl0bGUsXG5cdFx0XHQuLi5hZGRpdGlvbmFsRGF0YVxuXHRcdH1cblx0fTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcihcblx0Y29udGFpbmVyVHlwZTogXCJjb2x1bW5cIiB8IFwicm93XCIsXG5cdGNoaWxkcmVuOiBUZW1wbGF0ZUZyYWdtZW50W10sXG5cdHN0eWxlPzogQ1NTLlByb3BlcnRpZXNcbik6IFByb21pc2U8UGxhaW5Db250YWluZXJUZW1wbGF0ZUZyYWdtZW50PiB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLkNvbnRhaW5lcixcblx0XHRzdHlsZToge1xuXHRcdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0XHRmbGV4RGlyZWN0aW9uOiBjb250YWluZXJUeXBlLFxuXHRcdFx0Li4uc3R5bGVcblx0XHR9LFxuXHRcdGNoaWxkcmVuXG5cdH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUaXRsZShcblx0ZGF0YUtleTogc3RyaW5nLFxuXHRmb250U2l6ZTogbnVtYmVyID0gMTYsXG5cdGZvbnRXZWlnaHQ6IHN0cmluZyA9IFwiYm9sZFwiLFxuXHRzdHlsZT86IENTUy5Qcm9wZXJ0aWVzXG4pOiBQcm9taXNlPFRleHRUZW1wbGF0ZUZyYWdtZW50PiB7XG5cdGNvbnN0IHRoZW1lID0gYXdhaXQgZ2V0Q3VycmVudFRoZW1lKCk7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogVGVtcGxhdGVGcmFnbWVudFR5cGVzLlRleHQsXG5cdFx0ZGF0YUtleSxcblx0XHRzdHlsZToge1xuXHRcdFx0Y29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dERlZmF1bHQsXG5cdFx0XHRmb250U2l6ZTogYCR7Zm9udFNpemUgPz8gMTZ9cHhgLFxuXHRcdFx0Zm9udFdlaWdodCxcblx0XHRcdC4uLnN0eWxlXG5cdFx0fVxuXHR9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGV4dChcblx0ZGF0YUtleTogc3RyaW5nLFxuXHRmb250U2l6ZTogbnVtYmVyID0gMTQsXG5cdHN0eWxlPzogQ1NTLlByb3BlcnRpZXNcbik6IFByb21pc2U8VGV4dFRlbXBsYXRlRnJhZ21lbnQ+IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBUZW1wbGF0ZUZyYWdtZW50VHlwZXMuVGV4dCxcblx0XHRkYXRhS2V5LFxuXHRcdHN0eWxlOiB7XG5cdFx0XHRmb250U2l6ZTogYCR7Zm9udFNpemUgPz8gMTR9cHhgLFxuXHRcdFx0Li4uc3R5bGVcblx0XHR9XG5cdH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVJbWFnZShcblx0ZGF0YUtleTogc3RyaW5nLFxuXHRhbHRlcm5hdGl2ZVRleHQ6IHN0cmluZyxcblx0c3R5bGU/OiBDU1MuUHJvcGVydGllc1xuKTogUHJvbWlzZTxJbWFnZVRlbXBsYXRlRnJhZ21lbnQ+IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBUZW1wbGF0ZUZyYWdtZW50VHlwZXMuSW1hZ2UsXG5cdFx0ZGF0YUtleSxcblx0XHRhbHRlcm5hdGl2ZVRleHQsXG5cdFx0c3R5bGU6IHtcblx0XHRcdC4uLnN0eWxlXG5cdFx0fVxuXHR9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKFxuXHRidXR0b25TdHlsZTogQnV0dG9uU3R5bGUsXG5cdHRpdGxlS2V5OiBzdHJpbmcsXG5cdGFjdGlvbjogc3RyaW5nLFxuXHRzdHlsZT86IENTUy5Qcm9wZXJ0aWVzXG4pOiBQcm9taXNlPEJ1dHRvblRlbXBsYXRlRnJhZ21lbnQ+IHtcblx0Y29uc3QgdGhlbWUgPSBhd2FpdCBnZXRDdXJyZW50VGhlbWUoKTtcblx0Y29uc3QgYnV0dG9uT3B0aW9ucyA9XG5cdFx0YnV0dG9uU3R5bGUgPT09IEJ1dHRvblN0eWxlLlNlY29uZGFyeVxuXHRcdFx0PyB7XG5cdFx0XHRcdFx0Ym9yZGVyOiBgMXB4IHNvbGlkICR7dGhlbWUucGFsZXR0ZS5pbnB1dENvbG9yfWBcblx0XHRcdCAgfVxuXHRcdFx0OiB7fTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBUZW1wbGF0ZUZyYWdtZW50VHlwZXMuQnV0dG9uLFxuXHRcdGJ1dHRvblN0eWxlLFxuXHRcdGNoaWxkcmVuOiBbYXdhaXQgY3JlYXRlVGV4dCh0aXRsZUtleSwgMTIpXSxcblx0XHRhY3Rpb24sXG5cdFx0c3R5bGU6IHtcblx0XHRcdC4uLmJ1dHRvbk9wdGlvbnMsXG5cdFx0XHQuLi5zdHlsZVxuXHRcdH1cblx0fTtcbn1cbiIsImltcG9ydCB0eXBlIHtcblx0Q3VzdG9tUGFsZXR0ZVNldCxcblx0Q3VzdG9tVGhlbWVPcHRpb25zXG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vY29tbW9uL3NyYy9hcGkvdGhlbWluZ1wiO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5jb25zdCBERUZBVUxUX1BBTEVUVEVTID0ge1xuXHRsaWdodDoge1xuXHRcdGJyYW5kUHJpbWFyeTogXCIjNTA0Q0ZGXCIsXG5cdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzFFMUYyM1wiLFxuXHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiNGQUZCRkVcIixcblx0XHRjb250ZW50QmFja2dyb3VuZDE6IFwiIzUwNENGRlwiLFxuXHRcdGJhY2tncm91bmQxOiBcIiNGRkZGRkZcIixcblx0XHRiYWNrZ3JvdW5kMjogXCIjRkFGQkZFXCIsXG5cdFx0YmFja2dyb3VuZDM6IFwiI0YzRjVGOFwiLFxuXHRcdGJhY2tncm91bmQ0OiBcIiNFQ0VFRjFcIixcblx0XHRiYWNrZ3JvdW5kNTogXCIjRERERkU0XCIsXG5cdFx0YmFja2dyb3VuZDY6IFwiI0M5Q0JEMlwiLFxuXHRcdHN0YXR1c1N1Y2Nlc3M6IFwiIzM1Qzc1OVwiLFxuXHRcdHN0YXR1c1dhcm5pbmc6IFwiI0Y0OEYwMFwiLFxuXHRcdHN0YXR1c0NyaXRpY2FsOiBcIiNCRTFEMUZcIixcblx0XHRzdGF0dXNBY3RpdmU6IFwiIzA0OThGQlwiLFxuXHRcdGlucHV0QmFja2dyb3VuZDogXCIjRUNFRUYxXCIsXG5cdFx0aW5wdXRDb2xvcjogXCIjMUUxRjIzXCIsXG5cdFx0aW5wdXRQbGFjZWhvbGRlcjogXCIjMzgzQTQwXCIsXG5cdFx0aW5wdXREaXNhYmxlZDogXCIjN0Q4MDhBXCIsXG5cdFx0aW5wdXRGb2N1c2VkOiBcIiNDOUNCRDJcIixcblx0XHR0ZXh0RGVmYXVsdDogXCIjMUUxRjIzXCIsXG5cdFx0dGV4dEhlbHA6IFwiIzJGMzEzNlwiLFxuXHRcdHRleHRJbmFjdGl2ZTogXCIjN0Q4MDhBXCJcblx0fSxcblx0ZGFyazoge1xuXHRcdGJyYW5kUHJpbWFyeTogXCIjNTA0Q0ZGXCIsXG5cdFx0YnJhbmRTZWNvbmRhcnk6IFwiIzM4M0E0MFwiLFxuXHRcdGJhY2tncm91bmRQcmltYXJ5OiBcIiMxRTFGMjNcIixcblx0XHRjb250ZW50QmFja2dyb3VuZDE6IFwiIzUwNENGRlwiLFxuXHRcdGJhY2tncm91bmQxOiBcIiMxMTEyMTRcIixcblx0XHRiYWNrZ3JvdW5kMjogXCIjMUUxRjIzXCIsXG5cdFx0YmFja2dyb3VuZDM6IFwiIzI0MjYyQlwiLFxuXHRcdGJhY2tncm91bmQ0OiBcIiMyRjMxMzZcIixcblx0XHRiYWNrZ3JvdW5kNTogXCIjMzgzQTQwXCIsXG5cdFx0YmFja2dyb3VuZDY6IFwiIzUzNTY1RlwiLFxuXHRcdHN0YXR1c1N1Y2Nlc3M6IFwiIzM1Qzc1OVwiLFxuXHRcdHN0YXR1c1dhcm5pbmc6IFwiI0Y0OEYwMFwiLFxuXHRcdHN0YXR1c0NyaXRpY2FsOiBcIiNCRTFEMUZcIixcblx0XHRzdGF0dXNBY3RpdmU6IFwiIzA0OThGQlwiLFxuXHRcdGlucHV0QmFja2dyb3VuZDogXCIjNTM1NjVGXCIsXG5cdFx0aW5wdXRDb2xvcjogXCIjRkZGRkZGXCIsXG5cdFx0aW5wdXRQbGFjZWhvbGRlcjogXCIjQzlDQkQyXCIsXG5cdFx0aW5wdXREaXNhYmxlZDogXCIjN0Q4MDhBXCIsXG5cdFx0aW5wdXRGb2N1c2VkOiBcIiNDOUNCRDJcIixcblx0XHR0ZXh0RGVmYXVsdDogXCIjRkZGRkZGXCIsXG5cdFx0dGV4dEhlbHA6IFwiI0M5Q0JEMlwiLFxuXHRcdHRleHRJbmFjdGl2ZTogXCIjN0Q4MDhBXCJcblx0fVxufTtcblxubGV0IHZhbGlkYXRlZFRoZW1lczogQ3VzdG9tVGhlbWVPcHRpb25zW107XG5cbmZ1bmN0aW9uIGdldFN5c3RlbVByZWZlcnJlZENvbG9yU2NoZW1lKCk6IFwibGlnaHRcIiB8IFwiZGFya1wiIHtcblx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhPy4oXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMpIHtcblx0XHRyZXR1cm4gXCJkYXJrXCI7XG5cdH1cblx0cmV0dXJuIFwibGlnaHRcIjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRUaGVtZSgpOiBQcm9taXNlPEN1c3RvbVRoZW1lT3B0aW9ucz4ge1xuXHRjb25zdCB0aGVtZXMgPSBhd2FpdCBnZXRUaGVtZXMoKTtcblx0aWYgKHRoZW1lcy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGFiZWw6IFwiZGVmYXVsdFwiLFxuXHRcdFx0cGFsZXR0ZTogREVGQVVMVF9QQUxFVFRFUy5kYXJrXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdGhlbWVzWzBdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGhlbWVzKCk6IFByb21pc2U8Q3VzdG9tVGhlbWVPcHRpb25zW10+IHtcblx0aWYgKCF2YWxpZGF0ZWRUaGVtZXMpIHtcblx0XHRjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGdldFNldHRpbmdzKCk7XG5cdFx0dmFsaWRhdGVkVGhlbWVzID0gdmFsaWRhdGVUaGVtZXMoc2V0dGluZ3M/LnRoZW1lUHJvdmlkZXI/LnRoZW1lcyk7XG5cdH1cblx0cmV0dXJuIHZhbGlkYXRlZFRoZW1lcy5zbGljZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUaGVtZXModGhlbWVzOiBDdXN0b21UaGVtZU9wdGlvbnNbXSk6IEN1c3RvbVRoZW1lT3B0aW9uc1tdIHtcblx0Y29uc3QgY3VzdG9tVGhlbWVzOiBDdXN0b21UaGVtZU9wdGlvbnNbXSA9IFtdO1xuXG5cdGlmIChBcnJheS5pc0FycmF5KHRoZW1lcykpIHtcblx0XHRjb25zdCBwcmVmZXJyZWRDb2xvclNjaGVtZSA9IGdldFN5c3RlbVByZWZlcnJlZENvbG9yU2NoZW1lKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoZW1lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgdGhlbWVUb1ZhbGlkYXRlID0gdGhlbWVzW2ldO1xuXHRcdFx0Y29uc3QgcGFsZXR0ZSA9IHZhbGlkYXRlUGFsZXR0ZSh0aGVtZVRvVmFsaWRhdGUucGFsZXR0ZSwgdGhlbWVUb1ZhbGlkYXRlLmxhYmVsKTtcblx0XHRcdGlmIChwYWxldHRlICE9PSBudWxsKSB7XG5cdFx0XHRcdHRoZW1lVG9WYWxpZGF0ZS5wYWxldHRlID0gcGFsZXR0ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGRvbid0IHBhc3MgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZXJlIGFyZSBubyB0aGVtZSBwcm9wZXJ0aWVzXG5cdFx0XHRcdHRoZW1lVG9WYWxpZGF0ZS5wYWxldHRlID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoZW1lVG9WYWxpZGF0ZS5sYWJlbC50b0xvd2VyQ2FzZSgpID09PSBwcmVmZXJyZWRDb2xvclNjaGVtZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcblx0XHRcdFx0XHRgRm91bmQgYSB0aGVtZSB0aGF0IG1hdGNoZXMgc3lzdGVtIGNvbG9yIHNjaGVtZSBwcmVmZXJlbmNlcyBhbmQgbWFraW5nIGl0IHRoZSBkZWZhdWx0IHRoZW1lOiAke3ByZWZlcnJlZENvbG9yU2NoZW1lfWBcblx0XHRcdFx0KTtcblx0XHRcdFx0Y3VzdG9tVGhlbWVzLnVuc2hpZnQodGhlbWVUb1ZhbGlkYXRlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1c3RvbVRoZW1lcy5wdXNoKHRoZW1lVG9WYWxpZGF0ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGN1c3RvbVRoZW1lcztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQYWxldHRlKFxuXHR0aGVtZVBhbGV0dGU6IEN1c3RvbVBhbGV0dGVTZXQgfCB1bmRlZmluZWQsXG5cdHRoZW1lTGFiZWw6IHN0cmluZ1xuKTogQ3VzdG9tUGFsZXR0ZVNldCB8IG51bGwge1xuXHRpZiAoIXRoZW1lUGFsZXR0ZSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoZW1lUGFsZXR0ZSk7XG5cdGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgcGFsZXR0ZTogQ3VzdG9tUGFsZXR0ZVNldCA9IHtcblx0XHQuLi5ERUZBVUxUX1BBTEVUVEVTLmRhcmtcblx0fTtcblxuXHRmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG5cdFx0aWYgKFxuXHRcdFx0dGhlbWVQYWxldHRlW2tleV0gIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0dGhlbWVQYWxldHRlW2tleV0gIT09IG51bGwgJiZcblx0XHRcdHRoZW1lUGFsZXR0ZVtrZXldLnRyaW0oKS5sZW5ndGggPiAwXG5cdFx0KSB7XG5cdFx0XHRwYWxldHRlW2tleV0gPSB0aGVtZVBhbGV0dGVba2V5XTtcblx0XHR9XG5cdH1cblxuXHRjb25zdCBicmFuZFByaW1hcnlLZXkgPSBcImJyYW5kUHJpbWFyeVwiO1xuXHRjb25zdCBicmFuZFNlY29uZGFyeUtleSA9IFwiYnJhbmRTZWNvbmRhcnlcIjtcblx0Y29uc3QgYmFja2dyb3VuZFByaW1hcnlLZXkgPSBcImJhY2tncm91bmRQcmltYXJ5XCI7XG5cblx0aWYgKCF0aGVtZVBhbGV0dGVbYnJhbmRQcmltYXJ5S2V5XSkge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBUaGVtZTogJHt0aGVtZUxhYmVsfSA6ICR7YnJhbmRQcmltYXJ5S2V5fSBub3Qgc3BlY2lmaWVkIChpdCBpcyByZXF1aXJlZCBpZiBzcGVjaWZ5aW5nIG90aGVyIHRoZW1lIHBhbGV0dGUgc2V0dGluZ3MpLiBQcm92aWRpbmcgZGVmYXVsdCBvZjogJHtERUZBVUxUX1BBTEVUVEVTLmRhcmsuYnJhbmRQcmltYXJ5fWBcblx0XHQpO1xuXHR9XG5cblx0aWYgKCF0aGVtZVBhbGV0dGVbYnJhbmRTZWNvbmRhcnlLZXldKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YFRoZW1lOiAke3RoZW1lTGFiZWx9IDogJHticmFuZFNlY29uZGFyeUtleX0gbm90IHNwZWNpZmllZCAoaXQgaXMgcmVxdWlyZWQgaWYgc3BlY2lmeWluZyBvdGhlciB0aGVtZSBwYWxldHRlIHNldHRpbmdzKS4gUHJvdmlkaW5nIGRlZmF1bHQgb2Y6ICR7REVGQVVMVF9QQUxFVFRFUy5kYXJrLmJyYW5kU2Vjb25kYXJ5fWBcblx0XHQpO1xuXHR9XG5cblx0aWYgKCF0aGVtZVBhbGV0dGVbYmFja2dyb3VuZFByaW1hcnlLZXldKSB7XG5cdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0YFRoZW1lOiAke3RoZW1lTGFiZWx9IDogJHtiYWNrZ3JvdW5kUHJpbWFyeUtleX0gbm90IHNwZWNpZmllZCAoaXQgaXMgcmVxdWlyZWQgaWYgc3BlY2lmeWluZyBvdGhlciB0aGVtZSBwYWxldHRlIHNldHRpbmdzKS4gUHJvdmlkaW5nIGRlZmF1bHQgb2Y6ICR7REVGQVVMVF9QQUxFVFRFUy5kYXJrLmJyYW5kUHJpbWFyeX1gXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiBwYWxldHRlO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlciB9IGZyb20gXCIuL2ludGVncmF0aW9uLXByb3ZpZGVyXCI7XG5cbmV4cG9ydCBjb25zdCBlbnRyeVBvaW50czogeyBbaWQ6IHN0cmluZ106IEFzeW5jSW50ZWdyYXRpb25Qcm92aWRlciB9ID0ge1xuXHRpbnRlZ3JhdGlvbnM6IG5ldyBBc3luY0ludGVncmF0aW9uUHJvdmlkZXIoKVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==