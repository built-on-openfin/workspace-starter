/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/cloud-interop/out/index.js":
/*!**************************************************************!*\
  !*** ../../node_modules/@openfin/cloud-interop/out/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cloudInteropOverride: () => (/* binding */ cloudInteropOverride)
/* harmony export */ });
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ "../../node_modules/buffer/index.js");


var ds=Object.defineProperty;var zg=Object.getOwnPropertyDescriptor;var Kg=Object.getOwnPropertyNames;var Gg=Object.prototype.hasOwnProperty;var we=(t,e)=>()=>(t&&(e=t(t=0)),e);var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Qt=(t,e)=>{for(var r in e)ds(t,r,{get:e[r],enumerable:!0});},Qg=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Kg(e))!Gg.call(t,n)&&n!==r&&ds(t,n,{get:()=>e[n],enumerable:!(i=zg(e,n))||i.enumerable});return t};var X=t=>Qg(ds({},"__esModule",{value:!0}),t);var B,_=we(()=>{B={deviceMemory:8,hardwareConcurrency:8,language:"en-US"};});var P={};Qt(P,{_debugEnd:()=>yu,_debugProcess:()=>gu,_events:()=>ku,_eventsCount:()=>xu,_exiting:()=>Yl,_fatalExceptions:()=>cu,_getActiveHandles:()=>eu,_getActiveRequests:()=>Zl,_kill:()=>ru,_linkedBinding:()=>Gl,_maxListeners:()=>Ou,_preload_modules:()=>Cu,_rawDebug:()=>zl,_startProfilerIdleNotifier:()=>bu,_stopProfilerIdleNotifier:()=>wu,_tickCallback:()=>pu,abort:()=>Eu,addListener:()=>Mu,allowedNodeEnvironmentFlags:()=>lu,arch:()=>xl,argv:()=>Ul,argv0:()=>Ru,assert:()=>uu,binding:()=>Fl,chdir:()=>Hl,config:()=>Jl,cpuUsage:()=>Fi,cwd:()=>$l,debugPort:()=>Tu,default:()=>$u,dlopen:()=>Xl,domain:()=>Ql,emit:()=>Du,emitWarning:()=>jl,env:()=>Ll,execArgv:()=>Nl,execPath:()=>Iu,exit:()=>ou,features:()=>fu,hasUncaughtExceptionCaptureCallback:()=>du,hrtime:()=>ji,kill:()=>su,listeners:()=>Wu,memoryUsage:()=>nu,moduleLoadList:()=>Kl,nextTick:()=>Pl,off:()=>Uu,on:()=>bt,once:()=>Lu,openStdin:()=>au,pid:()=>Su,platform:()=>Ml,ppid:()=>Au,prependListener:()=>ju,prependOnceListener:()=>Fu,reallyExit:()=>tu,release:()=>Vl,removeAllListeners:()=>qu,removeListener:()=>Nu,resourceUsage:()=>iu,setSourceMapsEnabled:()=>Bu,setUncaughtExceptionCaptureCallback:()=>hu,stderr:()=>mu,stdin:()=>vu,stdout:()=>_u,title:()=>kl,umask:()=>Wl,uptime:()=>Pu,version:()=>ql,versions:()=>Dl});function ys(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Yg(){!xr||!Yt||(xr=!1,Yt.length?yt=Yt.concat(yt):Di=-1,yt.length&&Bl());}function Bl(){if(!xr){var t=setTimeout(Yg,0);xr=!0;for(var e=yt.length;e;){for(Yt=yt,yt=[];++Di<e;)Yt&&Yt[Di].run();Di=-1,e=yt.length;}Yt=null,xr=!1,clearTimeout(t);}}function Pl(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];yt.push(new Ol(t,e)),yt.length===1&&!xr&&setTimeout(Bl,0);}function Ol(t,e){this.fun=t,this.array=e;}function ve(){}function Gl(t){ys("_linkedBinding");}function Xl(t){ys("dlopen");}function Zl(){return []}function eu(){return []}function uu(t,e){if(!t)throw new Error(e||"assertion error")}function du(){return !1}function Pu(){return Mt.now()/1e3}function ji(t){var e=Math.floor((Date.now()-Mt.now())*.001),r=Mt.now()*.001,i=Math.floor(r)+e,n=Math.floor(r%1*1e9);return t&&(i=i-t[0],n=n-t[1],n<0&&(i--,n+=gs)),[i,n]}function bt(){return $u}function Wu(t){return []}var yt,xr,Yt,Di,kl,xl,Ml,Ll,Ul,Nl,ql,Dl,jl,Fl,Wl,$l,Hl,Vl,zl,Kl,Ql,Yl,Jl,tu,ru,Fi,iu,nu,su,ou,au,lu,fu,cu,hu,pu,gu,yu,bu,wu,_u,mu,vu,Eu,Su,Au,Iu,Tu,Ru,Cu,Bu,Mt,ps,gs,Ou,ku,xu,Mu,Lu,Uu,Nu,qu,Du,ju,Fu,$u,Hu=we(()=>{v();m();_();yt=[],xr=!1,Di=-1;Ol.prototype.run=function(){this.fun.apply(null,this.array);};kl="browser",xl="x64",Ml="browser",Ll={PATH:"/usr/bin",LANG:B.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Ul=["/usr/bin/node"],Nl=[],ql="v16.8.0",Dl={},jl=function(t,e){console.warn((e?e+": ":"")+t);},Fl=function(t){ys("binding");},Wl=function(t){return 0},$l=function(){return "/"},Hl=function(t){},Vl={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};zl=ve,Kl=[];Ql={},Yl=!1,Jl={};tu=ve,ru=ve,Fi=function(){return {}},iu=Fi,nu=Fi,su=ve,ou=ve,au=ve,lu={};fu={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},cu=ve,hu=ve;pu=ve,gu=ve,yu=ve,bu=ve,wu=ve,_u=void 0,mu=void 0,vu=void 0,Eu=ve,Su=2,Au=1,Iu="/bin/usr/node",Tu=9229,Ru="node",Cu=[],Bu=ve,Mt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};Mt.now===void 0&&(ps=Date.now(),Mt.timing&&Mt.timing.navigationStart&&(ps=Mt.timing.navigationStart),Mt.now=()=>Date.now()-ps);gs=1e9;ji.bigint=function(t){var e=ji(t);return typeof BigInt>"u"?e[0]*gs+e[1]:BigInt(e[0]*gs)+BigInt(e[1])};Ou=10,ku={},xu=0;Mu=bt,Lu=bt,Uu=bt,Nu=bt,qu=bt,Du=ve,ju=bt,Fu=bt;$u={version:ql,versions:Dl,arch:xl,platform:Ml,release:Vl,_rawDebug:zl,moduleLoadList:Kl,binding:Fl,_linkedBinding:Gl,_events:ku,_eventsCount:xu,_maxListeners:Ou,on:bt,addListener:Mu,once:Lu,off:Uu,removeListener:Nu,removeAllListeners:qu,emit:Du,prependListener:ju,prependOnceListener:Fu,listeners:Wu,domain:Ql,_exiting:Yl,config:Jl,dlopen:Xl,uptime:Pu,_getActiveRequests:Zl,_getActiveHandles:eu,reallyExit:tu,_kill:ru,cpuUsage:Fi,resourceUsage:iu,memoryUsage:nu,kill:su,exit:ou,openStdin:au,allowedNodeEnvironmentFlags:lu,assert:uu,features:fu,_fatalExceptions:cu,setUncaughtExceptionCaptureCallback:hu,hasUncaughtExceptionCaptureCallback:du,emitWarning:jl,nextTick:Pl,_tickCallback:pu,_debugProcess:gu,_debugEnd:yu,_startProfilerIdleNotifier:bu,_stopProfilerIdleNotifier:wu,stdout:_u,stdin:vu,stderr:mu,abort:Eu,umask:Wl,chdir:Hl,cwd:$l,env:Ll,title:kl,argv:Ul,execArgv:Nl,pid:Su,ppid:Au,execPath:Iu,debugPort:Tu,hrtime:ji,argv0:Ru,_preload_modules:Cu,setSourceMapsEnabled:Bu};});var m=we(()=>{Hu();});var _e={};Qt(_e,{Buffer:()=>x,INSPECT_MAX_BYTES:()=>ey,default:()=>Lt,kMaxLength:()=>ty});function Jg(){if(Vu)return ui;Vu=!0,ui.byteLength=a,ui.toByteArray=c,ui.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=i.length;n<o;++n)t[n]=i[n],e[i.charCodeAt(n)]=n;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function s(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=y.indexOf("=");E===-1&&(E=w);var S=E===w?0:4-E%4;return [E,S]}function a(y){var w=s(y),E=w[0],S=w[1];return (E+S)*3/4-S}function u(y,w,E){return (w+E)*3/4-E}function c(y){var w,E=s(y),S=E[0],I=E[1],C=new r(u(y,S,I)),R=0,U=I>0?S-4:S,N;for(N=0;N<U;N+=4)w=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],C[R++]=w>>16&255,C[R++]=w>>8&255,C[R++]=w&255;return I===2&&(w=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,C[R++]=w&255),I===1&&(w=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,C[R++]=w>>8&255,C[R++]=w&255),C}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function d(y,w,E){for(var S,I=[],C=w;C<E;C+=3)S=(y[C]<<16&16711680)+(y[C+1]<<8&65280)+(y[C+2]&255),I.push(h(S));return I.join("")}function g(y){for(var w,E=y.length,S=E%3,I=[],C=16383,R=0,U=E-S;R<U;R+=C)I.push(d(y,R,R+C>U?U:R+C));return S===1?(w=y[E-1],I.push(t[w>>2]+t[w<<4&63]+"==")):S===2&&(w=(y[E-2]<<8)+y[E-1],I.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),I.join("")}return ui}function Xg(){if(zu)return Wi;zu=!0;return Wi.read=function(t,e,r,i,n){var o,s,a=n*8-i-1,u=(1<<a)-1,c=u>>1,h=-7,d=r?n-1:0,g=r?-1:1,y=t[e+d];for(d+=g,o=y&(1<<-h)-1,y>>=-h,h+=a;h>0;o=o*256+t[e+d],d+=g,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=s*256+t[e+d],d+=g,h-=8);if(o===0)o=1-c;else {if(o===u)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-c;}return (y?-1:1)*s*Math.pow(2,o-i)},Wi.write=function(t,e,r,i,n,o){var s,a,u,c=o*8-n-1,h=(1<<c)-1,d=h>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:o-1,w=i?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+d>=1?e+=g/u:e+=g*Math.pow(2,1-d),e*u>=2&&(s++,u/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(e*u-1)*Math.pow(2,n),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+y]=a&255,y+=w,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;t[r+y]=s&255,y+=w,s/=256,c-=8);t[r+y-w]|=E*128;},Wi}function Zg(){if(Ku)return Jt;Ku=!0;let t=Jg(),e=Xg(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Jt.Buffer=s,Jt.SlowBuffer=I,Jt.INSPECT_MAX_BYTES=50;let i=2147483647;Jt.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=n(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{let p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return !1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');let l=new Uint8Array(p);return Object.setPrototypeOf(l,s.prototype),l}function s(p,l,f){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(p)}return a(p,l,f)}s.poolSize=8192;function a(p,l,f){if(typeof p=="string")return d(p,l);if(ArrayBuffer.isView(p))return y(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Ye(p,ArrayBuffer)||p&&Ye(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(p,SharedArrayBuffer)||p&&Ye(p.buffer,SharedArrayBuffer)))return w(p,l,f);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let b=p.valueOf&&p.valueOf();if(b!=null&&b!==p)return s.from(b,l,f);let A=E(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return s.from(p[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}s.from=function(p,l,f){return a(p,l,f)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function c(p,l,f){return u(p),p<=0?o(p):l!==void 0?typeof f=="string"?o(p).fill(l,f):o(p).fill(l):o(p)}s.alloc=function(p,l,f){return c(p,l,f)};function h(p){return u(p),o(p<0?0:S(p)|0)}s.allocUnsafe=function(p){return h(p)},s.allocUnsafeSlow=function(p){return h(p)};function d(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!s.isEncoding(l))throw new TypeError("Unknown encoding: "+l);let f=C(p,l)|0,b=o(f),A=b.write(p,l);return A!==f&&(b=b.slice(0,A)),b}function g(p){let l=p.length<0?0:S(p.length)|0,f=o(l);for(let b=0;b<l;b+=1)f[b]=p[b]&255;return f}function y(p){if(Ye(p,Uint8Array)){let l=new Uint8Array(p);return w(l.buffer,l.byteOffset,l.byteLength)}return g(p)}function w(p,l,f){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let b;return l===void 0&&f===void 0?b=new Uint8Array(p):f===void 0?b=new Uint8Array(p,l):b=new Uint8Array(p,l,f),Object.setPrototypeOf(b,s.prototype),b}function E(p){if(s.isBuffer(p)){let l=S(p.length)|0,f=o(l);return f.length===0||p.copy(f,0,0,l),f}if(p.length!==void 0)return typeof p.length!="number"||hs(p.length)?o(0):g(p);if(p.type==="Buffer"&&Array.isArray(p.data))return g(p.data)}function S(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function I(p){return +p!=p&&(p=0),s.alloc(+p)}s.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==s.prototype},s.compare=function(l,f){if(Ye(l,Uint8Array)&&(l=s.from(l,l.offset,l.byteLength)),Ye(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),!s.isBuffer(l)||!s.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let b=l.length,A=f.length;for(let T=0,O=Math.min(b,A);T<O;++T)if(l[T]!==f[T]){b=l[T],A=f[T];break}return b<A?-1:A<b?1:0},s.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},s.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return s.alloc(0);let b;if(f===void 0)for(f=0,b=0;b<l.length;++b)f+=l[b].length;let A=s.allocUnsafe(f),T=0;for(b=0;b<l.length;++b){let O=l[b];if(Ye(O,Uint8Array))T+O.length>A.length?(s.isBuffer(O)||(O=s.from(O)),O.copy(A,T)):Uint8Array.prototype.set.call(A,O,T);else if(s.isBuffer(O))O.copy(A,T);else throw new TypeError('"list" argument must be an Array of Buffers');T+=O.length;}return A};function C(p,l){if(s.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Ye(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);let f=p.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&f===0)return 0;let A=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return cs(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Cl(p).length;default:if(A)return b?-1:cs(p).length;l=(""+l).toLowerCase(),A=!0;}}s.byteLength=C;function R(p,l,f){let b=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,l>>>=0,f<=l))return "";for(p||(p="utf8");;)switch(p){case"hex":return Ng(this,l,f);case"utf8":case"utf-8":return Cr(this,l,f);case"ascii":return us(this,l,f);case"latin1":case"binary":return Ug(this,l,f);case"base64":return pe(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qg(this,l,f);default:if(b)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),b=!0;}}s.prototype._isBuffer=!0;function U(p,l,f){let b=p[l];p[l]=p[f],p[f]=b;}s.prototype.swap16=function(){let l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)U(this,f,f+1);return this},s.prototype.swap32=function(){let l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)U(this,f,f+3),U(this,f+1,f+2);return this},s.prototype.swap64=function(){let l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)U(this,f,f+7),U(this,f+1,f+6),U(this,f+2,f+5),U(this,f+3,f+4);return this},s.prototype.toString=function(){let l=this.length;return l===0?"":arguments.length===0?Cr(this,0,l):R.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(l){if(!s.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:s.compare(this,l)===0},s.prototype.inspect=function(){let l="",f=Jt.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(l,f,b,A,T){if(Ye(l,Uint8Array)&&(l=s.from(l,l.offset,l.byteLength)),!s.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(f===void 0&&(f=0),b===void 0&&(b=l?l.length:0),A===void 0&&(A=0),T===void 0&&(T=this.length),f<0||b>l.length||A<0||T>this.length)throw new RangeError("out of range index");if(A>=T&&f>=b)return 0;if(A>=T)return -1;if(f>=b)return 1;if(f>>>=0,b>>>=0,A>>>=0,T>>>=0,this===l)return 0;let O=T-A,$=b-f,se=Math.min(O,$),te=this.slice(A,T),oe=l.slice(f,b);for(let J=0;J<se;++J)if(te[J]!==oe[J]){O=te[J],$=oe[J];break}return O<$?-1:$<O?1:0};function N(p,l,f,b,A){if(p.length===0)return -1;if(typeof f=="string"?(b=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,hs(f)&&(f=A?0:p.length-1),f<0&&(f=p.length+f),f>=p.length){if(A)return -1;f=p.length-1;}else if(f<0)if(A)f=0;else return -1;if(typeof l=="string"&&(l=s.from(l,b)),s.isBuffer(l))return l.length===0?-1:W(p,l,f,b,A);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,l,f):Uint8Array.prototype.lastIndexOf.call(p,l,f):W(p,[l],f,b,A);throw new TypeError("val must be string, number or Buffer")}function W(p,l,f,b,A){let T=1,O=p.length,$=l.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(p.length<2||l.length<2)return -1;T=2,O/=2,$/=2,f/=2;}function se(oe,J){return T===1?oe[J]:oe.readUInt16BE(J*T)}let te;if(A){let oe=-1;for(te=f;te<O;te++)if(se(p,te)===se(l,oe===-1?0:te-oe)){if(oe===-1&&(oe=te),te-oe+1===$)return oe*T}else oe!==-1&&(te-=te-oe),oe=-1;}else for(f+$>O&&(f=O-$),te=f;te>=0;te--){let oe=!0;for(let J=0;J<$;J++)if(se(p,te+J)!==se(l,J)){oe=!1;break}if(oe)return te}return -1}s.prototype.includes=function(l,f,b){return this.indexOf(l,f,b)!==-1},s.prototype.indexOf=function(l,f,b){return N(this,l,f,b,!0)},s.prototype.lastIndexOf=function(l,f,b){return N(this,l,f,b,!1)};function K(p,l,f,b){f=Number(f)||0;let A=p.length-f;b?(b=Number(b),b>A&&(b=A)):b=A;let T=l.length;b>T/2&&(b=T/2);let O;for(O=0;O<b;++O){let $=parseInt(l.substr(O*2,2),16);if(hs($))return O;p[f+O]=$;}return O}function z(p,l,f,b){return qi(cs(l,p.length-f),p,f,b)}function Q(p,l,f,b){return qi(Wg(l),p,f,b)}function de(p,l,f,b){return qi(Cl(l),p,f,b)}function Gt(p,l,f,b){return qi($g(l,p.length-f),p,f,b)}s.prototype.write=function(l,f,b,A){if(f===void 0)A="utf8",b=this.length,f=0;else if(b===void 0&&typeof f=="string")A=f,b=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(b)?(b=b>>>0,A===void 0&&(A="utf8")):(A=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let T=this.length-f;if((b===void 0||b>T)&&(b=T),l.length>0&&(b<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let O=!1;for(;;)switch(A){case"hex":return K(this,l,f,b);case"utf8":case"utf-8":return z(this,l,f,b);case"ascii":case"latin1":case"binary":return Q(this,l,f,b);case"base64":return de(this,l,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gt(this,l,f,b);default:if(O)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),O=!0;}},s.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(p,l,f){return l===0&&f===p.length?t.fromByteArray(p):t.fromByteArray(p.slice(l,f))}function Cr(p,l,f){f=Math.min(p.length,f);let b=[],A=l;for(;A<f;){let T=p[A],O=null,$=T>239?4:T>223?3:T>191?2:1;if(A+$<=f){let se,te,oe,J;switch($){case 1:T<128&&(O=T);break;case 2:se=p[A+1],(se&192)===128&&(J=(T&31)<<6|se&63,J>127&&(O=J));break;case 3:se=p[A+1],te=p[A+2],(se&192)===128&&(te&192)===128&&(J=(T&15)<<12|(se&63)<<6|te&63,J>2047&&(J<55296||J>57343)&&(O=J));break;case 4:se=p[A+1],te=p[A+2],oe=p[A+3],(se&192)===128&&(te&192)===128&&(oe&192)===128&&(J=(T&15)<<18|(se&63)<<12|(te&63)<<6|oe&63,J>65535&&J<1114112&&(O=J));}}O===null?(O=65533,$=1):O>65535&&(O-=65536,b.push(O>>>10&1023|55296),O=56320|O&1023),b.push(O),A+=$;}return Pr(b)}let Br=4096;function Pr(p){let l=p.length;if(l<=Br)return String.fromCharCode.apply(String,p);let f="",b=0;for(;b<l;)f+=String.fromCharCode.apply(String,p.slice(b,b+=Br));return f}function us(p,l,f){let b="";f=Math.min(p.length,f);for(let A=l;A<f;++A)b+=String.fromCharCode(p[A]&127);return b}function Ug(p,l,f){let b="";f=Math.min(p.length,f);for(let A=l;A<f;++A)b+=String.fromCharCode(p[A]);return b}function Ng(p,l,f){let b=p.length;(!l||l<0)&&(l=0),(!f||f<0||f>b)&&(f=b);let A="";for(let T=l;T<f;++T)A+=Hg[p[T]];return A}function qg(p,l,f){let b=p.slice(l,f),A="";for(let T=0;T<b.length-1;T+=2)A+=String.fromCharCode(b[T]+b[T+1]*256);return A}s.prototype.slice=function(l,f){let b=this.length;l=~~l,f=f===void 0?b:~~f,l<0?(l+=b,l<0&&(l=0)):l>b&&(l=b),f<0?(f+=b,f<0&&(f=0)):f>b&&(f=b),f<l&&(f=l);let A=this.subarray(l,f);return Object.setPrototypeOf(A,s.prototype),A};function ge(p,l,f){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>f)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(l,f,b){l=l>>>0,f=f>>>0,b||ge(l,f,this.length);let A=this[l],T=1,O=0;for(;++O<f&&(T*=256);)A+=this[l+O]*T;return A},s.prototype.readUintBE=s.prototype.readUIntBE=function(l,f,b){l=l>>>0,f=f>>>0,b||ge(l,f,this.length);let A=this[l+--f],T=1;for(;f>0&&(T*=256);)A+=this[l+--f]*T;return A},s.prototype.readUint8=s.prototype.readUInt8=function(l,f){return l=l>>>0,f||ge(l,1,this.length),this[l]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(l,f){return l=l>>>0,f||ge(l,2,this.length),this[l]|this[l+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(l,f){return l=l>>>0,f||ge(l,2,this.length),this[l]<<8|this[l+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(l,f){return l=l>>>0,f||ge(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(l,f){return l=l>>>0,f||ge(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},s.prototype.readBigUInt64LE=xt(function(l){l=l>>>0,kr(l,"offset");let f=this[l],b=this[l+7];(f===void 0||b===void 0)&&li(l,this.length-8);let A=f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,T=this[++l]+this[++l]*2**8+this[++l]*2**16+b*2**24;return BigInt(A)+(BigInt(T)<<BigInt(32))}),s.prototype.readBigUInt64BE=xt(function(l){l=l>>>0,kr(l,"offset");let f=this[l],b=this[l+7];(f===void 0||b===void 0)&&li(l,this.length-8);let A=f*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],T=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+b;return (BigInt(A)<<BigInt(32))+BigInt(T)}),s.prototype.readIntLE=function(l,f,b){l=l>>>0,f=f>>>0,b||ge(l,f,this.length);let A=this[l],T=1,O=0;for(;++O<f&&(T*=256);)A+=this[l+O]*T;return T*=128,A>=T&&(A-=Math.pow(2,8*f)),A},s.prototype.readIntBE=function(l,f,b){l=l>>>0,f=f>>>0,b||ge(l,f,this.length);let A=f,T=1,O=this[l+--A];for(;A>0&&(T*=256);)O+=this[l+--A]*T;return T*=128,O>=T&&(O-=Math.pow(2,8*f)),O},s.prototype.readInt8=function(l,f){return l=l>>>0,f||ge(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},s.prototype.readInt16LE=function(l,f){l=l>>>0,f||ge(l,2,this.length);let b=this[l]|this[l+1]<<8;return b&32768?b|4294901760:b},s.prototype.readInt16BE=function(l,f){l=l>>>0,f||ge(l,2,this.length);let b=this[l+1]|this[l]<<8;return b&32768?b|4294901760:b},s.prototype.readInt32LE=function(l,f){return l=l>>>0,f||ge(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},s.prototype.readInt32BE=function(l,f){return l=l>>>0,f||ge(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},s.prototype.readBigInt64LE=xt(function(l){l=l>>>0,kr(l,"offset");let f=this[l],b=this[l+7];(f===void 0||b===void 0)&&li(l,this.length-8);let A=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(b<<24);return (BigInt(A)<<BigInt(32))+BigInt(f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),s.prototype.readBigInt64BE=xt(function(l){l=l>>>0,kr(l,"offset");let f=this[l],b=this[l+7];(f===void 0||b===void 0)&&li(l,this.length-8);let A=(f<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return (BigInt(A)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+b)}),s.prototype.readFloatLE=function(l,f){return l=l>>>0,f||ge(l,4,this.length),e.read(this,l,!0,23,4)},s.prototype.readFloatBE=function(l,f){return l=l>>>0,f||ge(l,4,this.length),e.read(this,l,!1,23,4)},s.prototype.readDoubleLE=function(l,f){return l=l>>>0,f||ge(l,8,this.length),e.read(this,l,!0,52,8)},s.prototype.readDoubleBE=function(l,f){return l=l>>>0,f||ge(l,8,this.length),e.read(this,l,!1,52,8)};function Ce(p,l,f,b,A,T){if(!s.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>A||l<T)throw new RangeError('"value" argument is out of bounds');if(f+b>p.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(l,f,b,A){if(l=+l,f=f>>>0,b=b>>>0,!A){let $=Math.pow(2,8*b)-1;Ce(this,l,f,b,$,0);}let T=1,O=0;for(this[f]=l&255;++O<b&&(T*=256);)this[f+O]=l/T&255;return f+b},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(l,f,b,A){if(l=+l,f=f>>>0,b=b>>>0,!A){let $=Math.pow(2,8*b)-1;Ce(this,l,f,b,$,0);}let T=b-1,O=1;for(this[f+T]=l&255;--T>=0&&(O*=256);)this[f+T]=l/O&255;return f+b},s.prototype.writeUint8=s.prototype.writeUInt8=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,1,255,0),this[f]=l&255,f+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,2,65535,0),this[f]=l&255,this[f+1]=l>>>8,f+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=l&255,f+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=l&255,f+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4};function vl(p,l,f,b,A){Rl(l,b,A,p,f,7);let T=Number(l&BigInt(4294967295));p[f++]=T,T=T>>8,p[f++]=T,T=T>>8,p[f++]=T,T=T>>8,p[f++]=T;let O=Number(l>>BigInt(32)&BigInt(4294967295));return p[f++]=O,O=O>>8,p[f++]=O,O=O>>8,p[f++]=O,O=O>>8,p[f++]=O,f}function El(p,l,f,b,A){Rl(l,b,A,p,f,7);let T=Number(l&BigInt(4294967295));p[f+7]=T,T=T>>8,p[f+6]=T,T=T>>8,p[f+5]=T,T=T>>8,p[f+4]=T;let O=Number(l>>BigInt(32)&BigInt(4294967295));return p[f+3]=O,O=O>>8,p[f+2]=O,O=O>>8,p[f+1]=O,O=O>>8,p[f]=O,f+8}s.prototype.writeBigUInt64LE=xt(function(l,f=0){return vl(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=xt(function(l,f=0){return El(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(l,f,b,A){if(l=+l,f=f>>>0,!A){let se=Math.pow(2,8*b-1);Ce(this,l,f,b,se-1,-se);}let T=0,O=1,$=0;for(this[f]=l&255;++T<b&&(O*=256);)l<0&&$===0&&this[f+T-1]!==0&&($=1),this[f+T]=(l/O>>0)-$&255;return f+b},s.prototype.writeIntBE=function(l,f,b,A){if(l=+l,f=f>>>0,!A){let se=Math.pow(2,8*b-1);Ce(this,l,f,b,se-1,-se);}let T=b-1,O=1,$=0;for(this[f+T]=l&255;--T>=0&&(O*=256);)l<0&&$===0&&this[f+T+1]!==0&&($=1),this[f+T]=(l/O>>0)-$&255;return f+b},s.prototype.writeInt8=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=l&255,f+1},s.prototype.writeInt16LE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,2,32767,-32768),this[f]=l&255,this[f+1]=l>>>8,f+2},s.prototype.writeInt16BE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=l&255,f+2},s.prototype.writeInt32LE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,4,2147483647,-2147483648),this[f]=l&255,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},s.prototype.writeInt32BE=function(l,f,b){return l=+l,f=f>>>0,b||Ce(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4},s.prototype.writeBigInt64LE=xt(function(l,f=0){return vl(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=xt(function(l,f=0){return El(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Sl(p,l,f,b,A,T){if(f+b>p.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function Al(p,l,f,b,A){return l=+l,f=f>>>0,A||Sl(p,l,f,4),e.write(p,l,f,b,23,4),f+4}s.prototype.writeFloatLE=function(l,f,b){return Al(this,l,f,!0,b)},s.prototype.writeFloatBE=function(l,f,b){return Al(this,l,f,!1,b)};function Il(p,l,f,b,A){return l=+l,f=f>>>0,A||Sl(p,l,f,8),e.write(p,l,f,b,52,8),f+8}s.prototype.writeDoubleLE=function(l,f,b){return Il(this,l,f,!0,b)},s.prototype.writeDoubleBE=function(l,f,b){return Il(this,l,f,!1,b)},s.prototype.copy=function(l,f,b,A){if(!s.isBuffer(l))throw new TypeError("argument should be a Buffer");if(b||(b=0),!A&&A!==0&&(A=this.length),f>=l.length&&(f=l.length),f||(f=0),A>0&&A<b&&(A=b),A===b||l.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-f<A-b&&(A=l.length-f+b);let T=A-b;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,b,A):Uint8Array.prototype.set.call(l,this.subarray(b,A),f),T},s.prototype.fill=function(l,f,b,A){if(typeof l=="string"){if(typeof f=="string"?(A=f,f=0,b=this.length):typeof b=="string"&&(A=b,b=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!s.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){let O=l.charCodeAt(0);(A==="utf8"&&O<128||A==="latin1")&&(l=O);}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(f<0||this.length<f||this.length<b)throw new RangeError("Out of range index");if(b<=f)return this;f=f>>>0,b=b===void 0?this.length:b>>>0,l||(l=0);let T;if(typeof l=="number")for(T=f;T<b;++T)this[T]=l;else {let O=s.isBuffer(l)?l:s.from(l,A),$=O.length;if($===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(T=0;T<b-f;++T)this[T+f]=O[T%$];}return this};let Or={};function fs(p,l,f){Or[p]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name;}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0});}toString(){return `${this.name} [${p}]: ${this.message}`}};}fs("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fs("ERR_INVALID_ARG_TYPE",function(p,l){return `The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),fs("ERR_OUT_OF_RANGE",function(p,l,f){let b=`The value of "${p}" is out of range.`,A=f;return Number.isInteger(f)&&Math.abs(f)>2**32?A=Tl(String(f)):typeof f=="bigint"&&(A=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(A=Tl(A)),A+="n"),b+=` It must be ${l}. Received ${A}`,b},RangeError);function Tl(p){let l="",f=p.length,b=p[0]==="-"?1:0;for(;f>=b+4;f-=3)l=`_${p.slice(f-3,f)}${l}`;return `${p.slice(0,f)}${l}`}function Dg(p,l,f){kr(l,"offset"),(p[l]===void 0||p[l+f]===void 0)&&li(l,p.length-(f+1));}function Rl(p,l,f,b,A,T){if(p>f||p<l){let O=typeof l=="bigint"?"n":"",$;throw T>3?l===0||l===BigInt(0)?$=`>= 0${O} and < 2${O} ** ${(T+1)*8}${O}`:$=`>= -(2${O} ** ${(T+1)*8-1}${O}) and < 2 ** ${(T+1)*8-1}${O}`:$=`>= ${l}${O} and <= ${f}${O}`,new Or.ERR_OUT_OF_RANGE("value",$,p)}Dg(b,A,T);}function kr(p,l){if(typeof p!="number")throw new Or.ERR_INVALID_ARG_TYPE(l,"number",p)}function li(p,l,f){throw Math.floor(p)!==p?(kr(p,f),new Or.ERR_OUT_OF_RANGE(f||"offset","an integer",p)):l<0?new Or.ERR_BUFFER_OUT_OF_BOUNDS:new Or.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${l}`,p)}let jg=/[^+/0-9A-Za-z-_]/g;function Fg(p){if(p=p.split("=")[0],p=p.trim().replace(jg,""),p.length<2)return "";for(;p.length%4!==0;)p=p+"=";return p}function cs(p,l){l=l||1/0;let f,b=p.length,A=null,T=[];for(let O=0;O<b;++O){if(f=p.charCodeAt(O),f>55295&&f<57344){if(!A){if(f>56319){(l-=3)>-1&&T.push(239,191,189);continue}else if(O+1===b){(l-=3)>-1&&T.push(239,191,189);continue}A=f;continue}if(f<56320){(l-=3)>-1&&T.push(239,191,189),A=f;continue}f=(A-55296<<10|f-56320)+65536;}else A&&(l-=3)>-1&&T.push(239,191,189);if(A=null,f<128){if((l-=1)<0)break;T.push(f);}else if(f<2048){if((l-=2)<0)break;T.push(f>>6|192,f&63|128);}else if(f<65536){if((l-=3)<0)break;T.push(f>>12|224,f>>6&63|128,f&63|128);}else if(f<1114112){if((l-=4)<0)break;T.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128);}else throw new Error("Invalid code point")}return T}function Wg(p){let l=[];for(let f=0;f<p.length;++f)l.push(p.charCodeAt(f)&255);return l}function $g(p,l){let f,b,A,T=[];for(let O=0;O<p.length&&!((l-=2)<0);++O)f=p.charCodeAt(O),b=f>>8,A=f%256,T.push(A),T.push(b);return T}function Cl(p){return t.toByteArray(Fg(p))}function qi(p,l,f,b){let A;for(A=0;A<b&&!(A+f>=l.length||A>=p.length);++A)l[A+f]=p[A];return A}function Ye(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function hs(p){return p!==p}let Hg=function(){let p="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){let b=f*16;for(let A=0;A<16;++A)l[b+A]=p[f]+p[A];}return l}();function xt(p){return typeof BigInt>"u"?Vg:p}function Vg(){throw new Error("BigInt not supported")}return Jt}var ui,Vu,Wi,zu,Jt,Ku,Lt,x,ey,ty,ye=we(()=>{v();m();_();ui={},Vu=!1;Wi={},zu=!1;Jt={},Ku=!1;Lt=Zg();Lt.Buffer;Lt.SlowBuffer;Lt.INSPECT_MAX_BYTES;Lt.kMaxLength;x=Lt.Buffer,ey=Lt.INSPECT_MAX_BYTES,ty=Lt.kMaxLength;});var v=we(()=>{ye();});var Gu=M(ws=>{v();m();_();Object.defineProperty(ws,"__esModule",{value:!0});var bs=class{constructor(e){this.aliasToTopic={},this.max=e;}put(e,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={};}};ws.default=bs;});var ce=M((PA,Qu)=>{v();m();_();Qu.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array};});var Je=M((jA,ms)=>{v();m();_();var ry=(ye(),X(_e)),iy=Object.getPrototypeOf(async function(){}).constructor,Yu=globalThis.Blob||ry.Blob,ny=typeof Yu<"u"?function(e){return e instanceof Yu}:function(e){return !1},_s=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e;}};ms.exports={AggregateError:_s,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r));}},createDeferredPromise:function(){let t,e;return {promise:new Promise((i,n)=>{t=i,e=n;}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n));})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return `\`${t}\``}else return `"${t}"`;return `'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return `${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return "{}"}},types:{isAsyncFunction(t){return t instanceof iy},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:ny};ms.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom");});var Hi=M((YA,$i)=>{v();m();_();var{AbortController:Ju,AbortSignal:sy}=typeof self<"u"?self:typeof window<"u"?window:void 0;$i.exports=Ju;$i.exports.AbortSignal=sy;$i.exports.default=Ju;});var Se=M((oI,ef)=>{v();m();_();var{format:oy,inspect:Vi,AggregateError:ay}=Je(),ly=globalThis.AggregateError||ay,uy=Symbol("kIsNodeError"),fy=["string","function","number","object","Function","Object","boolean","bigint","symbol"],cy=/^([A-Z][a-z0-9]*)+$/,hy="__node_internal_",zi={};function Xt(t,e){if(!t)throw new zi.ERR_INTERNAL_ASSERTION(e)}function Xu(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return `${t.slice(0,r)}${e}`}function dy(t,e,r){if(typeof e=="function")return Xt(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return Xt(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:oy(e,...r)}function me(t,e,r){r||(r=Error);class i extends r{constructor(...o){super(dy(t,e,o));}toString(){return `${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return `${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[uy]=!0,zi[t]=i;}function Zu(t){let e=hy+t.name;return Object.defineProperty(t,"name",{value:e}),t}function py(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new ly([e,t],e.message);return r.code=e.code,r}return t||e}var vs=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new zi.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError";}};me("ERR_ASSERTION","%s",Error);me("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Xt(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],o=[],s=[];for(let u of e)Xt(typeof u=="string","All expected entries have to be of type string"),fy.includes(u)?n.push(u.toLowerCase()):cy.test(u)?o.push(u):(Xt(u!=="object",'The value "object" should be written as "Object"'),s.push(u));if(o.length>0){let u=n.indexOf("object");u!==-1&&(n.splice(n,u,1),o.push("Object"));}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let u=n.pop();i+=`one of type ${n.join(", ")}, or ${u}`;}}(o.length>0||s.length>0)&&(i+=" or ");}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let u=o.pop();i+=`an instance of ${o.join(", ")}, or ${u}`;}}s.length>0&&(i+=" or ");}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(i+="an "),i+=`${s[0]}`;break;case 2:i+=`one of ${s[0]} or ${s[1]}`;break;default:{let u=s.pop();i+=`one of ${s.join(", ")}, or ${u}`;}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)i+=`. Received an instance of ${r.constructor.name}`;else {let u=Vi(r,{depth:-1});i+=`. Received ${u}`;}}else {let u=Vi(r,{colors:!1});u.length>25&&(u=`${u.slice(0,25)}...`),i+=`. Received type ${typeof r} (${u})`;}return i},TypeError);me("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=Vi(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);me("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return `Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);me("ERR_MISSING_ARGS",(...t)=>{Xt(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`;}break}return `${e} must be specified`},TypeError);me("ERR_OUT_OF_RANGE",(t,e,r)=>{Xt(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Xu(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=Xu(i)),i+="n"):i=Vi(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);me("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);me("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);me("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);me("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);me("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);me("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);me("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);me("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);me("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);me("ERR_STREAM_WRITE_AFTER_END","write after end",Error);me("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);ef.exports={AbortError:vs,aggregateTwoErrors:Zu(py),hideStackFrames:Zu,codes:zi};});var fi=M((yI,ff)=>{v();m();_();var{ArrayIsArray:Ss,ArrayPrototypeIncludes:sf,ArrayPrototypeJoin:of,ArrayPrototypeMap:gy,NumberIsInteger:As,NumberIsNaN:yy,NumberMAX_SAFE_INTEGER:by,NumberMIN_SAFE_INTEGER:wy,NumberParseInt:_y,ObjectPrototypeHasOwnProperty:my,RegExpPrototypeExec:af,String:vy,StringPrototypeToUpperCase:Ey,StringPrototypeTrim:Sy}=ce(),{hideStackFrames:Ue,codes:{ERR_SOCKET_BAD_PORT:Ay,ERR_INVALID_ARG_TYPE:Ae,ERR_INVALID_ARG_VALUE:Mr,ERR_OUT_OF_RANGE:Zt,ERR_UNKNOWN_SIGNAL:tf}}=Se(),{normalizeEncoding:Iy}=Je(),{isAsyncFunction:Ty,isArrayBufferView:Ry}=Je().types,rf={};function Cy(t){return t===(t|0)}function By(t){return t===t>>>0}var Py=/^[0-7]+$/,Oy="must be a 32-bit unsigned integer or an octal string";function ky(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(af(Py,t)===null)throw new Mr(e,t,Oy);t=_y(t,8);}return lf(t,e),t}var xy=Ue((t,e,r=wy,i=by)=>{if(typeof t!="number")throw new Ae(e,"number",t);if(!As(t))throw new Zt(e,"an integer",t);if(t<r||t>i)throw new Zt(e,`>= ${r} && <= ${i}`,t)}),My=Ue((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new Ae(e,"number",t);if(!As(t))throw new Zt(e,"an integer",t);if(t<r||t>i)throw new Zt(e,`>= ${r} && <= ${i}`,t)}),lf=Ue((t,e,r=!1)=>{if(typeof t!="number")throw new Ae(e,"number",t);if(!As(t))throw new Zt(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new Zt(e,`>= ${i} && <= ${n}`,t)});function Is(t,e){if(typeof t!="string")throw new Ae(e,"string",t)}function Ly(t,e,r=void 0,i){if(typeof t!="number")throw new Ae(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&yy(t))throw new Zt(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var Uy=Ue((t,e,r)=>{if(!sf(r,t)){let n="must be one of: "+of(gy(r,o=>typeof o=="string"?`'${o}'`:vy(o)),", ");throw new Mr(e,t,n)}});function uf(t,e){if(typeof t!="boolean")throw new Ae(e,"boolean",t)}function Es(t,e,r){return t==null||!my(t,e)?r:t[e]}var Ny=Ue((t,e,r=null)=>{let i=Es(r,"allowArray",!1),n=Es(r,"allowFunction",!1);if(!Es(r,"nullable",!1)&&t===null||!i&&Ss(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new Ae(e,"Object",t)}),qy=Ue((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Ae(e,"a dictionary",t)}),Ts=Ue((t,e,r=0)=>{if(!Ss(t))throw new Ae(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new Mr(e,t,i)}});function Dy(t,e){Ts(t,e);for(let r=0;r<t.length;r++)Is(t[r],`${e}[${r}]`);}function jy(t,e){Ts(t,e);for(let r=0;r<t.length;r++)uf(t[r],`${e}[${r}]`);}function Fy(t,e="signal"){if(Is(t,e),rf[t]===void 0)throw rf[Ey(t)]!==void 0?new tf(t+" (signals must use all capital letters)"):new tf(t)}var Wy=Ue((t,e="buffer")=>{if(!Ry(t))throw new Ae(e,["Buffer","TypedArray","DataView"],t)});function $y(t,e){let r=Iy(e),i=t.length;if(r==="hex"&&i%2!==0)throw new Mr("encoding",e,`is invalid for data of length ${i}`)}function Hy(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Sy(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Ay(e,t,r);return t|0}var Vy=Ue((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ae(e,"AbortSignal",t)}),zy=Ue((t,e)=>{if(typeof t!="function")throw new Ae(e,"Function",t)}),Ky=Ue((t,e)=>{if(typeof t!="function"||Ty(t))throw new Ae(e,"Function",t)}),Gy=Ue((t,e)=>{if(t!==void 0)throw new Ae(e,"undefined",t)});function Qy(t,e,r){if(!sf(r,t))throw new Ae(e,`('${of(r,"|")}')`,t)}var Yy=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function nf(t,e){if(typeof t>"u"||!af(Yy,t))throw new Mr(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Jy(t){if(typeof t=="string")return nf(t,"hints"),t;if(Ss(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];nf(n,"hints"),r+=n,i!==e-1&&(r+=", ");}return r}throw new Mr("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ff.exports={isInt32:Cy,isUint32:By,parseFileMode:ky,validateArray:Ts,validateStringArray:Dy,validateBooleanArray:jy,validateBoolean:uf,validateBuffer:Wy,validateDictionary:qy,validateEncoding:$y,validateFunction:zy,validateInt32:My,validateInteger:xy,validateNumber:Ly,validateObject:Ny,validateOneOf:Uy,validatePlainFunction:Ky,validatePort:Hy,validateSignalName:Fy,validateString:Is,validateUint32:lf,validateUndefined:Gy,validateUnion:Qy,validateAbortSignal:Vy,validateLinkHeaderValue:Jy};});var Ut=M((TI,pf)=>{v();m();_();var ae=pf.exports={},Xe,Ze;function Rs(){throw new Error("setTimeout has not been defined")}function Cs(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Xe=setTimeout:Xe=Rs;}catch{Xe=Rs;}try{typeof clearTimeout=="function"?Ze=clearTimeout:Ze=Cs;}catch{Ze=Cs;}})();function cf(t){if(Xe===setTimeout)return setTimeout(t,0);if((Xe===Rs||!Xe)&&setTimeout)return Xe=setTimeout,setTimeout(t,0);try{return Xe(t,0)}catch{try{return Xe.call(null,t,0)}catch{return Xe.call(this,t,0)}}}function Xy(t){if(Ze===clearTimeout)return clearTimeout(t);if((Ze===Cs||!Ze)&&clearTimeout)return Ze=clearTimeout,clearTimeout(t);try{return Ze(t)}catch{try{return Ze.call(null,t)}catch{return Ze.call(this,t)}}}var wt=[],Lr=!1,er,Ki=-1;function Zy(){!Lr||!er||(Lr=!1,er.length?wt=er.concat(wt):Ki=-1,wt.length&&hf());}function hf(){if(!Lr){var t=cf(Zy);Lr=!0;for(var e=wt.length;e;){for(er=wt,wt=[];++Ki<e;)er&&er[Ki].run();Ki=-1,e=wt.length;}er=null,Lr=!1,Xy(t);}}ae.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];wt.push(new df(t,e)),wt.length===1&&!Lr&&cf(hf);};function df(t,e){this.fun=t,this.array=e;}df.prototype.run=function(){this.fun.apply(null,this.array);};ae.title="browser";ae.browser=!0;ae.env={};ae.argv=[];ae.version="";ae.versions={};function _t(){}ae.on=_t;ae.addListener=_t;ae.once=_t;ae.off=_t;ae.removeListener=_t;ae.removeAllListeners=_t;ae.emit=_t;ae.prependListener=_t;ae.prependOnceListener=_t;ae.listeners=function(t){return []};ae.binding=function(t){throw new Error("process.binding is not supported")};ae.cwd=function(){return "/"};ae.chdir=function(t){throw new Error("process.chdir is not supported")};ae.umask=function(){return 0};});var tt=M((UI,Pf)=>{v();m();_();var{Symbol:Gi,SymbolAsyncIterator:gf,SymbolIterator:yf,SymbolFor:bf}=ce(),wf=Gi("kDestroyed"),_f=Gi("kIsErrored"),Bs=Gi("kIsReadable"),mf=Gi("kIsDisturbed"),eb=bf("nodejs.webstream.isClosedPromise"),tb=bf("nodejs.webstream.controllerErrorFunction");function Qi(t,e=!1){var r;return !!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Yi(t){var e;return !!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function rb(t){return !!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function et(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function vf(t){return !!(t&&!et(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Ef(t){return !!(t&&!et(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Sf(t){return !!(t&&!et(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function ib(t){return vf(t)||Ef(t)||Sf(t)}function nb(t,e){return t==null?!1:e===!0?typeof t[gf]=="function":e===!1?typeof t[yf]=="function":typeof t[gf]=="function"||typeof t[yf]=="function"}function Ji(t){if(!et(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return !!(t.destroyed||t[wf]||i!=null&&i.destroyed)}function Af(t){if(!Yi(t))return null;if(t.writableEnded===!0)return !0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function sb(t,e){if(!Yi(t))return null;if(t.writableFinished===!0)return !0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function ob(t){if(!Qi(t))return null;if(t.readableEnded===!0)return !0;let e=t._readableState;return !e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function If(t,e){if(!Qi(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Tf(t){return t&&t[Bs]!=null?t[Bs]:typeof t?.readable!="boolean"?null:Ji(t)?!1:Qi(t)&&t.readable&&!If(t)}function Rf(t){return typeof t?.writable!="boolean"?null:Ji(t)?!1:Yi(t)&&t.writable&&!Af(t)}function ab(t,e){return et(t)?Ji(t)?!0:!(e?.readable!==!1&&Tf(t)||e?.writable!==!1&&Rf(t)):null}function lb(t){var e,r;return et(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function ub(t){var e,r;return et(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function fb(t){if(!et(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Cf(t)?t._closed:null}function Cf(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Bf(t){return typeof t._sent100=="boolean"&&Cf(t)}function cb(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function hb(t){if(!et(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return !i&&Bf(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function db(t){var e;return !!(t&&((e=t[mf])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function pb(t){var e,r,i,n,o,s,a,u,c,h;return !!(t&&((e=(r=(i=(n=(o=(s=t[_f])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&i!==void 0?i:(u=t._writableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((h=t._writableState)===null||h===void 0)&&h.errored))}Pf.exports={kDestroyed:wf,isDisturbed:db,kIsDisturbed:mf,isErrored:pb,kIsErrored:_f,isReadable:Tf,kIsReadable:Bs,kIsClosedPromise:eb,kControllerErrorFunction:tb,isClosed:fb,isDestroyed:Ji,isDuplexNodeStream:rb,isFinished:ab,isIterable:nb,isReadableNodeStream:Qi,isReadableStream:vf,isReadableEnded:ob,isReadableFinished:If,isReadableErrored:ub,isNodeStream:et,isWebStream:ib,isWritable:Rf,isWritableNodeStream:Yi,isWritableStream:Ef,isWritableEnded:Af,isWritableFinished:sb,isWritableErrored:lb,isServerRequest:cb,isServerResponse:Bf,willEmitClose:hb,isTransformStream:Sf};});var mt=M((zI,Ms)=>{v();m();_();var Nt=Ut(),{AbortError:Df,codes:gb}=Se(),{ERR_INVALID_ARG_TYPE:yb,ERR_STREAM_PREMATURE_CLOSE:Of}=gb,{kEmptyObject:Os,once:ks}=Je(),{validateAbortSignal:bb,validateFunction:wb,validateObject:_b,validateBoolean:mb}=fi(),{Promise:vb,PromisePrototypeThen:Eb}=ce(),{isClosed:Sb,isReadable:kf,isReadableNodeStream:Ps,isReadableStream:Ab,isReadableFinished:xf,isReadableErrored:Mf,isWritable:Lf,isWritableNodeStream:Uf,isWritableStream:Ib,isWritableFinished:Nf,isWritableErrored:qf,isNodeStream:Tb,willEmitClose:Rb,kIsClosedPromise:Cb}=tt();function Bb(t){return t.setHeader&&typeof t.abort=="function"}var xs=()=>{};function jf(t,e,r){var i,n;if(arguments.length===2?(r=e,e=Os):e==null?e=Os:_b(e,"options"),wb(r,"callback"),bb(e.signal,"options.signal"),r=ks(r),Ab(t)||Ib(t))return Pb(t,e,r);if(!Tb(t))throw new yb("stream",["ReadableStream","WritableStream","Stream"],t);let o=(i=e.readable)!==null&&i!==void 0?i:Ps(t),s=(n=e.writable)!==null&&n!==void 0?n:Uf(t),a=t._writableState,u=t._readableState,c=()=>{t.writable||g();},h=Rb(t)&&Ps(t)===o&&Uf(t)===s,d=Nf(t,!1),g=()=>{d=!0,t.destroyed&&(h=!1),!(h&&(!t.readable||o))&&(!o||y)&&r.call(t);},y=xf(t,!1),w=()=>{y=!0,t.destroyed&&(h=!1),!(h&&(!t.writable||s))&&(!s||d)&&r.call(t);},E=N=>{r.call(t,N);},S=Sb(t),I=()=>{S=!0;let N=qf(t)||Mf(t);if(N&&typeof N!="boolean")return r.call(t,N);if(o&&!y&&Ps(t,!0)&&!xf(t,!1))return r.call(t,new Of);if(s&&!d&&!Nf(t,!1))return r.call(t,new Of);r.call(t);},C=()=>{S=!0;let N=qf(t)||Mf(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t);},R=()=>{t.req.on("finish",g);};Bb(t)?(t.on("complete",g),h||t.on("abort",I),t.req?R():t.on("request",R)):s&&!a&&(t.on("end",c),t.on("close",c)),!h&&typeof t.aborted=="boolean"&&t.on("aborted",I),t.on("end",w),t.on("finish",g),e.error!==!1&&t.on("error",E),t.on("close",I),S?Nt.nextTick(I):a!=null&&a.errorEmitted||u!=null&&u.errorEmitted?h||Nt.nextTick(C):(!o&&(!h||kf(t))&&(d||Lf(t)===!1)||!s&&(!h||Lf(t))&&(y||kf(t)===!1)||u&&t.req&&t.aborted)&&Nt.nextTick(C);let U=()=>{r=xs,t.removeListener("aborted",I),t.removeListener("complete",g),t.removeListener("abort",I),t.removeListener("request",R),t.req&&t.req.removeListener("finish",g),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",g),t.removeListener("end",w),t.removeListener("error",E),t.removeListener("close",I);};if(e.signal&&!S){let N=()=>{let W=r;U(),W.call(t,new Df(void 0,{cause:e.signal.reason}));};if(e.signal.aborted)Nt.nextTick(N);else {let W=r;r=ks((...K)=>{e.signal.removeEventListener("abort",N),W.apply(t,K);}),e.signal.addEventListener("abort",N);}}return U}function Pb(t,e,r){let i=!1,n=xs;if(e.signal)if(n=()=>{i=!0,r.call(t,new Df(void 0,{cause:e.signal.reason}));},e.signal.aborted)Nt.nextTick(n);else {let s=r;r=ks((...a)=>{e.signal.removeEventListener("abort",n),s.apply(t,a);}),e.signal.addEventListener("abort",n);}let o=(...s)=>{i||Nt.nextTick(()=>r.apply(t,s));};return Eb(t[Cb].promise,o,o),xs}function Ob(t,e){var r;let i=!1;return e===null&&(e=Os),(r=e)!==null&&r!==void 0&&r.cleanup&&(mb(e.cleanup,"cleanup"),i=e.cleanup),new vb((n,o)=>{let s=jf(t,e,a=>{i&&s(),a?o(a):n();});})}Ms.exports=jf;Ms.exports.finished=Ob;});var tr=M((rT,Gf)=>{v();m();_();var rt=Ut(),{aggregateTwoErrors:kb,codes:{ERR_MULTIPLE_CALLBACK:xb},AbortError:Mb}=Se(),{Symbol:$f}=ce(),{kDestroyed:Lb,isDestroyed:Ub,isFinished:Nb,isServerRequest:qb}=tt(),Hf=$f("kDestroy"),Ls=$f("kConstruct");function Vf(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t));}function Db(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Vf(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?Ff(this,t,e):this.once(Hf,function(o){Ff(this,kb(o,t),e);}),this)}function Ff(t,e,r){let i=!1;function n(o){if(i)return;i=!0;let s=t._readableState,a=t._writableState;Vf(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?rt.nextTick(jb,t,o):rt.nextTick(zf,t);}try{t._destroy(e||null,n);}catch(o){n(o);}}function jb(t,e){Us(t,e),zf(t);}function zf(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close");}function Us(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e));}function Fb(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1);}function Ns(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?rt.nextTick(Us,t,e):Us(t,e));}function Wb(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(Ls,e),!(t.listenerCount(Ls)>1)&&rt.nextTick($b,t);}function $b(t){let e=!1;function r(i){if(e){Ns(t,i??new xb);return}e=!0;let n=t._readableState,o=t._writableState,s=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(Hf,i):i?Ns(t,i,!0):rt.nextTick(Hb,t);}try{t._construct(i=>{rt.nextTick(r,i);});}catch(i){rt.nextTick(r,i);}}function Hb(t){t.emit(Ls);}function Wf(t){return t?.setHeader&&typeof t.abort=="function"}function Kf(t){t.emit("close");}function Vb(t,e){t.emit("error",e),rt.nextTick(Kf,t);}function zb(t,e){!t||Ub(t)||(!e&&!Nb(t)&&(e=new Mb),qb(t)?(t.socket=null,t.destroy(e)):Wf(t)?t.abort():Wf(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?rt.nextTick(Vb,t,e):rt.nextTick(Kf,t),t.destroyed||(t[Lb]=!0));}Gf.exports={construct:Wb,destroyer:zb,destroy:Db,undestroy:Fb,errorOrDestroy:Ns};});function Y(){Y.init.call(this);}function Xi(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function nc(t){return t._maxListeners===void 0?Y.defaultMaxListeners:t._maxListeners}function Xf(t,e,r,i){var n,o,s,a;if(Xi(r),(o=t._events)===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=nc(t))>0&&s.length>n&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a);}return t}function Kb(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Zf(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Kb.bind(i);return n.listener=r,i.wrapFn=n,n}function ec(t,e,r){var i=t._events;if(i===void 0)return [];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(n):sc(n,n.length)}function tc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function sc(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}var rc,ic,Ur,Qf,Yf,Jf,Be,qs=we(()=>{v();m();_();Ur=typeof Reflect=="object"?Reflect:null,Qf=Ur&&typeof Ur.apply=="function"?Ur.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};ic=Ur&&typeof Ur.ownKeys=="function"?Ur.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};Yf=Number.isNaN||function(t){return t!=t};rc=Y,Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;Jf=10;Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return Jf},set:function(t){if(typeof t!="number"||t<0||Yf(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Jf=t;}}),Y.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0;},Y.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Yf(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Y.prototype.getMaxListeners=function(){return nc(this)},Y.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=t==="error",n=this._events;if(n!==void 0)i=i&&n.error===void 0;else if(!i)return !1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=n[t];if(a===void 0)return !1;if(typeof a=="function")Qf(a,this,e);else {var u=a.length,c=sc(a,u);for(r=0;r<u;++r)Qf(c[r],this,e);}return !0},Y.prototype.addListener=function(t,e){return Xf(this,t,e,!1)},Y.prototype.on=Y.prototype.addListener,Y.prototype.prependListener=function(t,e){return Xf(this,t,e,!0)},Y.prototype.once=function(t,e){return Xi(e),this.on(t,Zf(this,t,e)),this},Y.prototype.prependOnceListener=function(t,e){return Xi(e),this.prependListener(t,Zf(this,t,e)),this},Y.prototype.removeListener=function(t,e){var r,i,n,o,s;if(Xi(e),(i=this._events)===void 0)return this;if((r=i[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,n=o;break}if(n<0)return this;n===0?r.shift():function(a,u){for(;u+1<a.length;u++)a[u]=a[u+1];a.pop();}(r,n),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||e);}return this},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(t){var e,r,i;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var n,o=Object.keys(r);for(i=0;i<o.length;++i)(n=o[i])!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},Y.prototype.listeners=function(t){return ec(this,t,!0)},Y.prototype.rawListeners=function(t){return ec(this,t,!1)},Y.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):tc.call(t,e)},Y.prototype.listenerCount=tc,Y.prototype.eventNames=function(){return this._eventsCount>0?ic(this._events):[]};Be=rc;Be.EventEmitter;Be.defaultMaxListeners;Be.init;Be.listenerCount;Be.EventEmitter;Be.defaultMaxListeners;Be.init;Be.listenerCount;});var rr={};Qt(rr,{EventEmitter:()=>Gb,default:()=>Be,defaultMaxListeners:()=>Qb,init:()=>Yb,listenerCount:()=>Jb,on:()=>Xb,once:()=>Zb});var Gb,Qb,Yb,Jb,Xb,Zb,ir=we(()=>{v();m();_();qs();qs();Be.once=function(t,e){return new Promise((r,i)=>{function n(...s){o!==void 0&&t.removeListener("error",o),r(s);}let o;e!=="error"&&(o=s=>{t.removeListener(name,n),i(s);},t.once("error",o)),t.once(e,n);})};Be.on=function(t,e){let r=[],i=[],n=null,o=!1,s={async next(){let c=r.shift();if(c)return createIterResult(c,!1);if(n){let h=Promise.reject(n);return n=null,h}return o?createIterResult(void 0,!0):new Promise((h,d)=>i.push({resolve:h,reject:d}))},async return(){t.removeListener(e,a),t.removeListener("error",u),o=!0;for(let c of i)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){n=c,t.removeListener(e,a),t.removeListener("error",u);},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",u),s;function a(...c){let h=i.shift();h?h.resolve(createIterResult(c,!1)):r.push(c);}function u(c){o=!0;let h=i.shift();h?h.reject(c):n=c,s.return();}};({EventEmitter:Gb,defaultMaxListeners:Qb,init:Yb,listenerCount:Jb,on:Xb,once:Zb}=Be);});var tn=M((xT,ac)=>{v();m();_();var{ArrayIsArray:ew,ObjectSetPrototypeOf:oc}=ce(),{EventEmitter:Zi}=(ir(),X(rr));function en(t){Zi.call(this,t);}oc(en.prototype,Zi.prototype);oc(en,Zi);en.prototype.pipe=function(t,e){let r=this;function i(h){t.writable&&t.write(h)===!1&&r.pause&&r.pause();}r.on("data",i);function n(){r.readable&&r.resume&&r.resume();}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));let o=!1;function s(){o||(o=!0,t.end());}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy());}function u(h){c(),Zi.listenerCount(this,"error")===0&&this.emit("error",h);}Ds(r,"error",u),Ds(t,"error",u);function c(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c);}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Ds(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ew(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]];}ac.exports={Stream:en,prependListener:Ds};});var ci=M(($T,rn)=>{v();m();_();var{AbortError:lc,codes:tw}=Se(),{isNodeStream:uc,isWebStream:rw,kControllerErrorFunction:iw}=tt(),nw=mt(),{ERR_INVALID_ARG_TYPE:fc}=tw,sw=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new fc(e,"AbortSignal",t)};rn.exports.addAbortSignal=function(e,r){if(sw(e,"signal"),!uc(r)&&!rw(r))throw new fc("stream",["ReadableStream","WritableStream","Stream"],r);return rn.exports.addAbortSignalNoValidate(e,r)};rn.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=uc(e)?()=>{e.destroy(new lc(void 0,{cause:t.reason}));}:()=>{e[iw](new lc(void 0,{cause:t.reason}));};return t.aborted?r():(t.addEventListener("abort",r),nw(e,()=>t.removeEventListener("abort",r))),e};});var dc=M((e2,hc)=>{v();m();_();var{StringPrototypeSlice:cc,SymbolIterator:ow,TypedArrayPrototypeSet:nn,Uint8Array:aw}=ce(),{Buffer:js}=(ye(),X(_e)),{inspect:lw}=Je();hc.exports=class{constructor(){this.head=null,this.tail=null,this.length=0;}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length;}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length;}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0;}join(e){if(this.length===0)return "";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return js.alloc(0);let r=js.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)nn(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[ow](){for(let e=this.head;e;e=e.next)yield e.data;}_getString(e){let r="",i=this.head,n=0;do{let o=i.data;if(e>o.length)r+=o,e-=o.length;else {e===o.length?(r+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=cc(o,0,e),this.head=i,i.data=cc(o,e));break}++n;}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=js.allocUnsafe(e),i=e,n=this.head,o=0;do{let s=n.data;if(e>s.length)nn(r,s,i-e),e-=s.length;else {e===s.length?(nn(r,s,i-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(nn(r,new aw(s.buffer,s.byteOffset,e),i-e),this.head=n,n.data=s.slice(e));break}++o;}while((n=n.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return lw(this,{...r,depth:0,customInspect:!1})}};});var sn=M((f2,gc)=>{v();m();_();var{MathFloor:uw,NumberIsInteger:fw}=ce(),{ERR_INVALID_ARG_VALUE:cw}=Se().codes;function hw(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function pc(t){return t?16:16*1024}function dw(t,e,r,i){let n=hw(e,i,r);if(n!=null){if(!fw(n)||n<0){let o=i?`options.${r}`:"options.highWaterMark";throw new cw(o,n)}return uw(n)}return pc(t.objectMode)}gc.exports={getHighWaterMark:dw,getDefaultHighWaterMark:pc};});function wc(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=e),[r,r===e?0:4-r%4]}function pw(t,e,r){for(var i,n,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push($e[(n=i)>>18&63]+$e[n>>12&63]+$e[n>>6&63]+$e[63&n]);return o.join("")}function vt(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,k.prototype),e}function k(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Hs(t)}return Cc(t,e,r)}function Cc(t,e,r){if(typeof t=="string")return function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!k.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|Pc(o,s),u=vt(a),c=u.write(o,s);return c!==a&&(u=u.slice(0,c)),u}(t,e);if(ArrayBuffer.isView(t))return Fs(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Et(t,ArrayBuffer)||t&&Et(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Et(t,SharedArrayBuffer)||t&&Et(t.buffer,SharedArrayBuffer)))return mc(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return k.from(i,e,r);var n=function(o){if(k.isBuffer(o)){var s=0|Ks(o.length),a=vt(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||Gs(o.length)?vt(0):Fs(o);if(o.type==="Buffer"&&Array.isArray(o.data))return Fs(o.data)}(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return k.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function Bc(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Hs(t){return Bc(t),vt(t<0?0:0|Ks(t))}function Fs(t){for(var e=t.length<0?0:0|Ks(t.length),r=vt(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function mc(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(i,k.prototype),i}function Ks(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|t}function Pc(t,e){if(k.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Et(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Vs(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Mc(t).length;default:if(n)return i?-1:Vs(t).length;e=(""+e).toLowerCase(),n=!0;}}function yw(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return "";for(t||(t="utf8");;)switch(t){case"hex":return Iw(this,e,r);case"utf8":case"utf-8":return kc(this,e,r);case"ascii":return Sw(this,e,r);case"latin1":case"binary":return Aw(this,e,r);case"base64":return Ew(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tw(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0;}}function sr(t,e,r){var i=t[e];t[e]=t[r],t[r]=i;}function vc(t,e,r,i,n){if(t.length===0)return -1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Gs(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return -1;r=t.length-1;}else if(r<0){if(!n)return -1;r=0;}if(typeof e=="string"&&(e=k.from(e,i)),k.isBuffer(e))return e.length===0?-1:Ec(t,e,r,i,n);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Ec(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function Ec(t,e,r,i,n){var o,s=1,a=t.length,u=e.length;if(i!==void 0&&((i=String(i).toLowerCase())==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return -1;s=2,a/=2,u/=2,r/=2;}function c(y,w){return s===1?y[w]:y.readUInt16BE(w*s)}if(n){var h=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,h===-1?0:o-h)){if(h===-1&&(h=o),o-h+1===u)return h*s}else h!==-1&&(o-=o-h),h=-1;}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var d=!0,g=0;g<u;g++)if(c(t,o+g)!==c(e,g)){d=!1;break}if(d)return o}return -1}function bw(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(Gs(a))return s;t[r+s]=a;}return s}function ww(t,e,r,i){return un(Vs(e,t.length-r),t,r,i)}function Oc(t,e,r,i){return un(function(n){for(var o=[],s=0;s<n.length;++s)o.push(255&n.charCodeAt(s));return o}(e),t,r,i)}function _w(t,e,r,i){return Oc(t,e,r,i)}function mw(t,e,r,i){return un(Mc(e),t,r,i)}function vw(t,e,r,i){return un(function(n,o){for(var s,a,u,c=[],h=0;h<n.length&&!((o-=2)<0);++h)s=n.charCodeAt(h),a=s>>8,u=s%256,c.push(u),c.push(a);return c}(e,t.length-r),t,r,i)}function Ew(t,e,r){return e===0&&r===t.length?$s.fromByteArray(t):$s.fromByteArray(t.slice(e,r))}function kc(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,u,c=t[n],h=null,d=c>239?4:c>223?3:c>191?2:1;if(n+d<=r)switch(d){case 1:c<128&&(h=c);break;case 2:(192&(o=t[n+1]))==128&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[n+1],s=t[n+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u);}h===null?(h=65533,d=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),n+=d;}return function(g){var y=g.length;if(y<=4096)return String.fromCharCode.apply(String,g);for(var w="",E=0;E<y;)w+=String.fromCharCode.apply(String,g.slice(E,E+=4096));return w}(i)}function Sw(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function Aw(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function Iw(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=Cw[t[o]];return n}function Tw(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function be(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Pe(t,e,r,i,n,o){if(!k.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function xc(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Sc(t,e,r,i,n){return e=+e,r>>>=0,n||xc(t,0,r,4),Nr.write(t,e,r,i,23,4),r+4}function Ac(t,e,r,i,n){return e=+e,r>>>=0,n||xc(t,0,r,8),Nr.write(t,e,r,i,52,8),r+8}function Vs(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320);}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r);}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128);}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128);}else {if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128);}}return o}function Mc(t){return $s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Rw,"")).length<2)return "";for(;e.length%4!=0;)e+="=";return e}(t))}function un(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Et(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Gs(t){return t!=t}function Ic(t,e){for(var r in t)e[r]=t[r];}function or(t,e,r){return it(t,e,r)}function hi(t){var e;switch(this.encoding=function(r){var i=function(n){if(!n)return "utf8";for(var o;;)switch(n){case"utf8":case"utf-8":return "utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return "utf16le";case"latin1":case"binary":return "latin1";case"base64":case"ascii":case"hex":return n;default:if(o)return;n=(""+n).toLowerCase(),o=!0;}}(r);if(typeof i!="string"&&(zs.isEncoding===Tc||!Tc(r)))throw new Error("Unknown encoding: "+r);return i||r}(t),this.encoding){case"utf16le":this.text=Ow,this.end=kw,e=4;break;case"utf8":this.fillLast=Pw,e=4;break;case"base64":this.text=xw,this.end=Mw,e=3;break;default:return this.write=Lw,this.end=Uw,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=zs.allocUnsafe(e);}function Ws(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Pw(t){var e=this.lastTotal-this.lastNeed,r=function(i,n,o){if((192&n[0])!=128)return i.lastNeed=0,"\uFFFD";if(i.lastNeed>1&&n.length>1){if((192&n[1])!=128)return i.lastNeed=1,"\uFFFD";if(i.lastNeed>2&&n.length>2&&(192&n[2])!=128)return i.lastNeed=2,"\uFFFD"}}(this,t);return r!==void 0?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function Ow(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function kw(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function xw(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Mw(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Lw(t){return t.toString(this.encoding)}function Uw(t){return t&&t.length?this.write(t):""}var Rc,$e,ke,yc,on,nr,bc,gw,St,$s,Nr,_c,Rw,Cw,an,ln,it,Bw,ar,zs,Tc,Qs=we(()=>{v();m();_();for(Rc={byteLength:function(t){var e=wc(t),r=e[0],i=e[1];return 3*(r+i)/4-i},toByteArray:function(t){var e,r,i=wc(t),n=i[0],o=i[1],s=new yc(function(c,h,d){return 3*(h+d)/4-d}(0,n,o)),a=0,u=o>0?n-4:n;for(r=0;r<u;r+=4)e=ke[t.charCodeAt(r)]<<18|ke[t.charCodeAt(r+1)]<<12|ke[t.charCodeAt(r+2)]<<6|ke[t.charCodeAt(r+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return o===2&&(e=ke[t.charCodeAt(r)]<<2|ke[t.charCodeAt(r+1)]>>4,s[a++]=255&e),o===1&&(e=ke[t.charCodeAt(r)]<<10|ke[t.charCodeAt(r+1)]<<4|ke[t.charCodeAt(r+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},fromByteArray:function(t){for(var e,r=t.length,i=r%3,n=[],o=0,s=r-i;o<s;o+=16383)n.push(pw(t,o,o+16383>s?s:o+16383));return i===1?(e=t[r-1],n.push($e[e>>2]+$e[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push($e[e>>10]+$e[e>>4&63]+$e[e<<2&63]+"=")),n.join("")}},$e=[],ke=[],yc=typeof Uint8Array<"u"?Uint8Array:Array,on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nr=0,bc=on.length;nr<bc;++nr)$e[nr]=on[nr],ke[on.charCodeAt(nr)]=nr;ke["-".charCodeAt(0)]=62,ke["_".charCodeAt(0)]=63;gw={read:function(t,e,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,c=u>>1,h=-7,d=r?n-1:0,g=r?-1:1,y=t[e+d];for(d+=g,o=y&(1<<-h)-1,y>>=-h,h+=a;h>0;o=256*o+t[e+d],d+=g,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=256*s+t[e+d],d+=g,h-=8);if(o===0)o=1-c;else {if(o===u)return s?NaN:1/0*(y?-1:1);s+=Math.pow(2,i),o-=c;}return (y?-1:1)*s*Math.pow(2,o-i)},write:function(t,e,r,i,n,o){var s,a,u,c=8*o-n-1,h=(1<<c)-1,d=h>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:o-1,w=i?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+d>=1?g/u:g*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(e*u-1)*Math.pow(2,n),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+y]=255&a,y+=w,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;t[r+y]=255&s,y+=w,s/=256,c-=8);t[r+y-w]|=128*E;}},St={},$s=Rc,Nr=gw,_c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;St.Buffer=k,St.SlowBuffer=function(t){return +t!=t&&(t=0),k.alloc(+t)},St.INSPECT_MAX_BYTES=50;St.kMaxLength=2147483647,k.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return !1}}(),k.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}}),k.poolSize=8192,k.from=function(t,e,r){return Cc(t,e,r)},Object.setPrototypeOf(k.prototype,Uint8Array.prototype),Object.setPrototypeOf(k,Uint8Array),k.alloc=function(t,e,r){return function(i,n,o){return Bc(i),i<=0?vt(i):n!==void 0?typeof o=="string"?vt(i).fill(n,o):vt(i).fill(n):vt(i)}(t,e,r)},k.allocUnsafe=function(t){return Hs(t)},k.allocUnsafeSlow=function(t){return Hs(t)},k.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==k.prototype},k.compare=function(t,e){if(Et(t,Uint8Array)&&(t=k.from(t,t.offset,t.byteLength)),Et(e,Uint8Array)&&(e=k.from(e,e.offset,e.byteLength)),!k.isBuffer(t)||!k.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},k.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},k.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return k.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=k.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(Et(o,Uint8Array)&&(o=k.from(o)),!k.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length;}return i},k.byteLength=Pc,k.prototype._isBuffer=!0,k.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)sr(this,e,e+1);return this},k.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)sr(this,e,e+3),sr(this,e+1,e+2);return this},k.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)sr(this,e,e+7),sr(this,e+1,e+6),sr(this,e+2,e+5),sr(this,e+3,e+4);return this},k.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?kc(this,0,t):yw.apply(this,arguments)},k.prototype.toLocaleString=k.prototype.toString,k.prototype.equals=function(t){if(!k.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||k.compare(this,t)===0},k.prototype.inspect=function(){var t="",e=St.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},_c&&(k.prototype[_c]=k.prototype.inspect),k.prototype.compare=function(t,e,r,i,n){if(Et(t,Uint8Array)&&(t=k.from(t,t.offset,t.byteLength)),!k.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),i===void 0&&(i=0),n===void 0&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return -1;if(e>=r)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(i,n),c=t.slice(e,r),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},k.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},k.prototype.indexOf=function(t,e,r){return vc(this,t,e,r,!0)},k.prototype.lastIndexOf=function(t,e,r){return vc(this,t,e,r,!1)},k.prototype.write=function(t,e,r,i){if(e===void 0)i="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")i=e,r=this.length,e=0;else {if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,i===void 0&&(i="utf8")):(i=r,r=void 0);}var n=this.length-e;if((r===void 0||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return bw(this,t,e,r);case"utf8":case"utf-8":return ww(this,t,e,r);case"ascii":return Oc(this,t,e,r);case"latin1":case"binary":return _w(this,t,e,r);case"base64":return mw(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vw(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0;}},k.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,k.prototype),i},k.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||be(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},k.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||be(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},k.prototype.readUInt8=function(t,e){return t>>>=0,e||be(t,1,this.length),this[t]},k.prototype.readUInt16LE=function(t,e){return t>>>=0,e||be(t,2,this.length),this[t]|this[t+1]<<8},k.prototype.readUInt16BE=function(t,e){return t>>>=0,e||be(t,2,this.length),this[t]<<8|this[t+1]},k.prototype.readUInt32LE=function(t,e){return t>>>=0,e||be(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},k.prototype.readUInt32BE=function(t,e){return t>>>=0,e||be(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},k.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||be(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},k.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||be(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},k.prototype.readInt8=function(t,e){return t>>>=0,e||be(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},k.prototype.readInt16LE=function(t,e){t>>>=0,e||be(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},k.prototype.readInt16BE=function(t,e){t>>>=0,e||be(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},k.prototype.readInt32LE=function(t,e){return t>>>=0,e||be(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},k.prototype.readInt32BE=function(t,e){return t>>>=0,e||be(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},k.prototype.readFloatLE=function(t,e){return t>>>=0,e||be(t,4,this.length),Nr.read(this,t,!0,23,4)},k.prototype.readFloatBE=function(t,e){return t>>>=0,e||be(t,4,this.length),Nr.read(this,t,!1,23,4)},k.prototype.readDoubleLE=function(t,e){return t>>>=0,e||be(t,8,this.length),Nr.read(this,t,!0,52,8)},k.prototype.readDoubleBE=function(t,e){return t>>>=0,e||be(t,8,this.length),Nr.read(this,t,!1,52,8)},k.prototype.writeUIntLE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||Pe(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},k.prototype.writeUIntBE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||Pe(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},k.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,1,255,0),this[e]=255&t,e+1},k.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},k.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},k.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},k.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},k.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);Pe(this,t,e,r,n-1,-n);}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&a===0&&this[e+o-1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},k.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);Pe(this,t,e,r,n-1,-n);}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&a===0&&this[e+o+1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},k.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},k.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},k.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},k.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},k.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},k.prototype.writeFloatLE=function(t,e,r){return Sc(this,t,e,!0,r)},k.prototype.writeFloatBE=function(t,e,r){return Sc(this,t,e,!1,r)},k.prototype.writeDoubleLE=function(t,e,r){return Ac(this,t,e,!0,r)},k.prototype.writeDoubleBE=function(t,e,r){return Ac(this,t,e,!1,r)},k.prototype.copy=function(t,e,r,i){if(!k.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||i===0||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n=i-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,i);else if(this===t&&r<e&&e<i)for(var o=n-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),e);return n},k.prototype.fill=function(t,e,r,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!k.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var n=t.charCodeAt(0);(i==="utf8"&&n<128||i==="latin1")&&(t=n);}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(o=e;o<r;++o)this[o]=t;else {var s=k.isBuffer(t)?t:k.from(t,i),a=s.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a];}return this};Rw=/[^+/0-9A-Za-z-_]/g;Cw=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,i=0;i<16;++i)t[r+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t}();St.Buffer;St.INSPECT_MAX_BYTES;St.kMaxLength;an={},ln=St,it=ln.Buffer;it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?an=ln:(Ic(ln,an),an.Buffer=or),or.prototype=Object.create(it.prototype),Ic(it,or),or.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return it(t,e,r)},or.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=it(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i},or.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return it(t)},or.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ln.SlowBuffer(t)};Bw=an,ar={},zs=Bw.Buffer,Tc=zs.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return !0;default:return !1}};ar.StringDecoder=hi,hi.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},hi.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e},hi.prototype.text=function(t,e){var r=function(n,o,s){var a=o.length-1;if(a<s)return 0;var u=Ws(o[a]);return u>=0?(u>0&&(n.lastNeed=u-1),u):--a<s||u===-2?0:(u=Ws(o[a]))>=0?(u>0&&(n.lastNeed=u-2),u):--a<s||u===-2?0:(u=Ws(o[a]))>=0?(u>0&&(u===2?u=0:n.lastNeed=u-3),u):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},hi.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};ar.StringDecoder;ar.StringDecoder;});var Lc={};Qt(Lc,{StringDecoder:()=>Nw,default:()=>ar});var Nw,Uc=we(()=>{v();m();_();Qs();Qs();Nw=ar.StringDecoder;});var Ys=M((F2,jc)=>{v();m();_();var Nc=Ut(),{PromisePrototypeThen:qw,SymbolAsyncIterator:qc,SymbolIterator:Dc}=ce(),{Buffer:Dw}=(ye(),X(_e)),{ERR_INVALID_ARG_TYPE:jw,ERR_STREAM_NULL_VALUES:Fw}=Se().codes;function Ww(t,e,r){let i;if(typeof e=="string"||e instanceof Dw)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null);}});let n;if(e&&e[qc])n=!0,i=e[qc]();else if(e&&e[Dc])n=!1,i=e[Dc]();else throw new jw("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,u());},o._destroy=function(c,h){qw(a(c),()=>Nc.nextTick(h,c),d=>Nc.nextTick(h,d||c));};async function a(c){let h=c!=null,d=typeof i.throw=="function";if(h&&d){let{value:g,done:y}=await i.throw(c);if(await g,y)return}if(typeof i.return=="function"){let{value:g}=await i.return();await g;}}async function u(){for(;;){try{let{value:c,done:h}=n?await i.next():i.next();if(h)o.push(null);else {let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw s=!1,new Fw;if(o.push(d))continue;s=!1;}}catch(c){o.destroy(c);}break}}return o}jc.exports=Ww;});var di=M((J2,Zc)=>{v();m();_();var He=Ut(),{ArrayPrototypeIndexOf:$w,NumberIsInteger:Hw,NumberIsNaN:Vw,NumberParseInt:zw,ObjectDefineProperties:$c,ObjectKeys:Kw,ObjectSetPrototypeOf:Hc,Promise:Gw,SafeSet:Qw,SymbolAsyncIterator:Yw,Symbol:Jw}=ce();Zc.exports=F;F.ReadableState=ro;var{EventEmitter:Xw}=(ir(),X(rr)),{Stream:qt,prependListener:Zw}=tn(),{Buffer:Js}=(ye(),X(_e)),{addAbortSignal:e_}=ci(),t_=mt(),H=Je().debuglog("stream",t=>{H=t;}),r_=dc(),Dr=tr(),{getHighWaterMark:i_,getDefaultHighWaterMark:n_}=sn(),{aggregateTwoErrors:Fc,codes:{ERR_INVALID_ARG_TYPE:s_,ERR_METHOD_NOT_IMPLEMENTED:o_,ERR_OUT_OF_RANGE:a_,ERR_STREAM_PUSH_AFTER_EOF:l_,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:u_}}=Se(),{validateObject:f_}=fi(),lr=Jw("kPaused"),{StringDecoder:Vc}=(Uc(),X(Lc)),c_=Ys();Hc(F.prototype,qt.prototype);Hc(F,qt);var Xs=()=>{},{errorOrDestroy:qr}=Dr;function ro(t,e,r){typeof r!="boolean"&&(r=e instanceof nt()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?i_(this,t,"readableHighWaterMark",r):n_(!1),this.buffer=new r_,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[lr]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Vc(t.encoding),this.encoding=t.encoding);}function F(t){if(!(this instanceof F))return new F(t);let e=this instanceof nt();this._readableState=new ro(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&e_(t.signal,this)),qt.call(this,t),Dr.construct(this,()=>{this._readableState.needReadable&&fn(this,this._readableState);});}F.prototype.destroy=Dr.destroy;F.prototype._undestroy=Dr.undestroy;F.prototype._destroy=function(t,e){e(t);};F.prototype[Xw.captureRejectionSymbol]=function(t){this.destroy(t);};F.prototype.push=function(t,e){return zc(this,t,e,!1)};F.prototype.unshift=function(t,e){return zc(this,t,e,!0)};function zc(t,e,r,i){H("readableAddChunk",e);let n=t._readableState,o;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=Js.from(e,r).toString(n.encoding):(e=Js.from(e,r),r=""))):e instanceof Js?r="":qt._isUint8Array(e)?(e=qt._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new s_("chunk",["string","Buffer","Uint8Array"],e))),o)qr(t,o);else if(e===null)n.reading=!1,p_(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)qr(t,new u_);else {if(n.destroyed||n.errored)return !1;Zs(t,n,e,!0);}else if(n.ended)qr(t,new l_);else {if(n.destroyed||n.errored)return !1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?Zs(t,n,e,!1):fn(t,n)):Zs(t,n,e,!1);}else i||(n.reading=!1,fn(t,n));return !n.ended&&(n.length<n.highWaterMark||n.length===0)}function Zs(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&cn(t)),fn(t,e);}F.prototype.isPaused=function(){let t=this._readableState;return t[lr]===!0||t.flowing===!1};F.prototype.setEncoding=function(t){let e=new Vc(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var h_=1073741824;function d_(t){if(t>h_)throw new a_("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Wc(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:Vw(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}F.prototype.read=function(t){H("read",t),t===void 0?t=NaN:Hw(t)||(t=zw(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=d_(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return H("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?eo(this):cn(this),null;if(t=Wc(t,e),t===0&&e.ended)return e.length===0&&eo(this),null;let i=e.needReadable;if(H("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,H("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,H("reading, ended or constructing",i);else if(i){H("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark);}catch(o){qr(this,o);}e.sync=!1,e.reading||(t=Wc(r,e));}let n;return t>0?n=Jc(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&eo(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function p_(t,e){if(H("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length);}e.ended=!0,e.sync?cn(t):(e.needReadable=!1,e.emittedReadable=!0,Kc(t));}}function cn(t){let e=t._readableState;H("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(H("emitReadable",e.flowing),e.emittedReadable=!0,He.nextTick(Kc,t));}function Kc(t){let e=t._readableState;H("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Qc(t);}function fn(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,He.nextTick(g_,t,e));}function g_(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(H("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1;}F.prototype._read=function(t){throw new o_("_read()")};F.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new Qw(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),H("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&t!==He.stdout&&t!==He.stderr?a:S;i.endEmitted?He.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){H("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,h());}function a(){H("onend"),t.end();}let u,c=!1;function h(){H("cleanup"),t.removeListener("close",w),t.removeListener("finish",E),u&&t.removeListener("drain",u),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",g),c=!0,u&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&u();}function d(){c||(i.pipes.length===1&&i.pipes[0]===t?(H("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(H("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),u||(u=y_(r,t),t.on("drain",u));}r.on("data",g);function g(I){H("ondata");let C=t.write(I);H("dest.write",C),C===!1&&d();}function y(I){if(H("onerror",I),S(),t.removeListener("error",y),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?qr(t,I):t.emit("error",I);}}Zw(t,"error",y);function w(){t.removeListener("finish",E),S();}t.once("close",w);function E(){H("onfinish"),t.removeListener("close",w),S();}t.once("finish",E);function S(){H("unpipe"),r.unpipe(t);}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&d():i.flowing||(H("pipe resume"),r.resume()),t};function y_(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(H("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(H("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume();}}F.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=$w(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};F.prototype.on=function(t,e){let r=qt.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,H("on readable",i.length,i.reading),i.length?cn(this):i.reading||He.nextTick(b_,this)),r};F.prototype.addListener=F.prototype.on;F.prototype.removeListener=function(t,e){let r=qt.prototype.removeListener.call(this,t,e);return t==="readable"&&He.nextTick(Gc,this),r};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(t){let e=qt.prototype.removeAllListeners.apply(this,arguments);return (t==="readable"||t===void 0)&&He.nextTick(Gc,this),e};function Gc(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[lr]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null);}function b_(t){H("readable nexttick read 0"),t.read(0);}F.prototype.resume=function(){let t=this._readableState;return t.flowing||(H("resume"),t.flowing=!t.readableListening,w_(this,t)),t[lr]=!1,this};function w_(t,e){e.resumeScheduled||(e.resumeScheduled=!0,He.nextTick(__,t,e));}function __(t,e){H("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Qc(t),e.flowing&&!e.reading&&t.read(0);}F.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[lr]=!0,this};function Qc(t){let e=t._readableState;for(H("flow",e.flowing);e.flowing&&t.read()!==null;);}F.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause());}),t.on("end",()=>{this.push(null);}),t.on("error",i=>{qr(this,i);}),t.on("close",()=>{this.destroy();}),t.on("destroy",()=>{this.destroy();}),this._read=()=>{e&&t.resume&&(e=!1,t.resume());};let r=Kw(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t));}return this};F.prototype[Yw]=function(){return Yc(this)};F.prototype.iterator=function(t){return t!==void 0&&f_(t,"options"),Yc(this,t)};function Yc(t,e){typeof t.read!="function"&&(t=F.wrap(t,{objectMode:!0}));let r=m_(t,e);return r.stream=t,r}async function*m_(t,e){let r=Xs;function i(s){this===t?(r(),r=Xs):r=s;}t.on("readable",i);let n,o=t_(t,{writable:!1},s=>{n=s?Fc(n,s):null,r(),r=Xs;});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else {if(n)throw n;if(n===null)return;await new Gw(i);}}}catch(s){throw n=Fc(n,s),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?Dr.destroyer(t,null):(t.off("readable",i),o());}}$c(F.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return !!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t);}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return !!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t);}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t);}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});$c(ro.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[lr]!==!1},set(t){this[lr]=!!t;}}});F._fromList=Jc;function Jc(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function eo(t){let e=t._readableState;H("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,He.nextTick(v_,e,t));}function v_(t,e){if(H("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)He.nextTick(E_,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy();}}}function E_(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end();}F.from=function(t,e){return c_(F,t,e)};var to;function Xc(){return to===void 0&&(to={}),to}F.fromWeb=function(t,e){return Xc().newStreamReadableFromReadableStream(t,e)};F.toWeb=function(t,e){return Xc().newReadableStreamFromStreamReadable(t,e)};F.wrap=function(t,e){var r,i;return new F({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,o){Dr.destroyer(t,n),o(n);}}).wrap(t)};});var uo=M((aR,ch)=>{v();m();_();var ur=Ut(),{ArrayPrototypeSlice:rh,Error:S_,FunctionPrototypeSymbolHasInstance:ih,ObjectDefineProperty:nh,ObjectDefineProperties:A_,ObjectSetPrototypeOf:sh,StringPrototypeToLowerCase:I_,Symbol:T_,SymbolHasInstance:R_}=ce();ch.exports=ie;ie.WritableState=yi;var{EventEmitter:C_}=(ir(),X(rr)),pi=tn().Stream,{Buffer:hn}=(ye(),X(_e)),gn=tr(),{addAbortSignal:B_}=ci(),{getHighWaterMark:P_,getDefaultHighWaterMark:O_}=sn(),{ERR_INVALID_ARG_TYPE:k_,ERR_METHOD_NOT_IMPLEMENTED:x_,ERR_MULTIPLE_CALLBACK:oh,ERR_STREAM_CANNOT_PIPE:M_,ERR_STREAM_DESTROYED:gi,ERR_STREAM_ALREADY_FINISHED:L_,ERR_STREAM_NULL_VALUES:U_,ERR_STREAM_WRITE_AFTER_END:N_,ERR_UNKNOWN_ENCODING:ah}=Se().codes,{errorOrDestroy:jr}=gn;sh(ie.prototype,pi.prototype);sh(ie,pi);function so(){}var Fr=T_("kOnFinished");function yi(t,e,r){typeof r!="boolean"&&(r=e instanceof nt()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?P_(this,t,"writableHighWaterMark",r):O_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D_.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,pn(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Fr]=[];}function pn(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0;}yi.prototype.getBuffer=function(){return rh(this.buffered,this.bufferedIndex)};nh(yi.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(t){let e=this instanceof nt();if(!e&&!ih(ie,this))return new ie(t);this._writableState=new yi(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&B_(t.signal,this)),pi.call(this,t),gn.construct(this,()=>{let r=this._writableState;r.writing||ao(this,r),lo(this,r);});}nh(ie,R_,{__proto__:null,value:function(t){return ih(this,t)?!0:this!==ie?!1:t&&t._writableState instanceof yi}});ie.prototype.pipe=function(){jr(this,new M_);};function lh(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else {if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!hn.isEncoding(r))throw new ah(r);typeof i!="function"&&(i=so);}if(e===null)throw new U_;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=hn.from(e,r),r="buffer");else if(e instanceof hn)r="buffer";else if(pi._isUint8Array(e))e=pi._uint8ArrayToBuffer(e),r="buffer";else throw new k_("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new N_:n.destroyed&&(o=new gi("write")),o?(ur.nextTick(i,o),jr(t,o,!0),o):(n.pendingcb++,q_(t,n,e,r,i))}ie.prototype.write=function(t,e,r){return lh(this,t,e,r)===!0};ie.prototype.cork=function(){this._writableState.corked++;};ie.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||ao(this,t));};ie.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=I_(e)),!hn.isEncoding(e))throw new ah(e);return this._writableState.defaultEncoding=e,this};function q_(t,e,r,i,n){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==so&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function eh(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new gi("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1;}function th(t,e,r,i){--e.pendingcb,i(r),oo(e),jr(t,r);}function D_(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){jr(t,new oh);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?ur.nextTick(th,t,r,e,n):th(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&ao(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},ur.nextTick(j_,r.afterWriteTickInfo)):uh(t,r,1,n));}function j_({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,uh(t,e,r,i)}function uh(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&oo(e),lo(t,e);}function oo(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:s}=t.buffered[n],a=t.objectMode?1:o.length;t.length-=a,s((e=t.errored)!==null&&e!==void 0?e:new gi("write"));}let r=t[Fr].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new gi("end"));}pn(t);}function ao(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,o=r.length-i;if(!o)return;let s=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let a=e.allNoop?so:c=>{for(let h=s;h<r.length;++h)r[h].callback(c);},u=e.allNoop&&s===0?r:rh(r,s);u.allBuffers=e.allBuffers,eh(t,e,!0,e.length,u,"",a),pn(e);}else {do{let{chunk:a,encoding:u,callback:c}=r[s];r[s++]=null;let h=n?1:a.length;eh(t,e,!1,h,a,u,c);}while(s<r.length&&!e.writing);s===r.length?pn(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s;}e.bufferProcessing=!1;}ie.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new x_("_write()")};ie.prototype._writev=null;ie.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let o=lh(this,t,e);o instanceof S_&&(n=o);}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,lo(this,i,!0),i.ended=!0):i.finished?n=new L_("end"):i.destroyed&&(n=new gi("end"))),typeof r=="function"&&(n||i.finished?ur.nextTick(r,n):i[Fr].push(r)),this};function dn(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function F_(t,e){let r=!1;function i(n){if(r){jr(t,n??oh());return}if(r=!0,e.pendingcb--,n){let o=e[Fr].splice(0);for(let s=0;s<o.length;s++)o[s](n);jr(t,n,e.sync);}else dn(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,ur.nextTick(no,t,e));}e.sync=!0,e.pendingcb++;try{t._final(i);}catch(n){i(n);}e.sync=!1;}function W_(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,F_(t,e)):(e.prefinished=!0,t.emit("prefinish")));}function lo(t,e,r){dn(e)&&(W_(t,e),e.pendingcb===0&&(r?(e.pendingcb++,ur.nextTick((i,n)=>{dn(n)?no(i,n):n.pendingcb--;},t,e)):dn(e)&&(e.pendingcb++,no(t,e))));}function no(t,e){e.pendingcb--,e.finished=!0;let r=e[Fr].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy();}}A_(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t);}},writable:{__proto__:null,get(){let t=this._writableState;return !!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t);}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return !!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var $_=gn.destroy;ie.prototype.destroy=function(t,e){let r=this._writableState;return !r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Fr].length)&&ur.nextTick(oo,r),$_.call(this,t,e),this};ie.prototype._undestroy=gn.undestroy;ie.prototype._destroy=function(t,e){e(t);};ie.prototype[C_.captureRejectionSymbol]=function(t){this.destroy(t);};var io;function fh(){return io===void 0&&(io={}),io}ie.fromWeb=function(t,e){return fh().newStreamWritableFromWritableStream(t,e)};ie.toWeb=function(t){return fh().newWritableStreamFromStreamWritable(t)};});var Sh=M((bR,Eh)=>{v();m();_();var fo=Ut(),H_=(ye(),X(_e)),{isReadable:V_,isWritable:z_,isIterable:hh,isNodeStream:K_,isReadableNodeStream:dh,isWritableNodeStream:ph,isDuplexNodeStream:G_}=tt(),gh=mt(),{AbortError:vh,codes:{ERR_INVALID_ARG_TYPE:Q_,ERR_INVALID_RETURN_VALUE:yh}}=Se(),{destroyer:Wr}=tr(),Y_=nt(),J_=di(),{createDeferredPromise:bh}=Je(),wh=Ys(),_h=globalThis.Blob||H_.Blob,X_=typeof _h<"u"?function(e){return e instanceof _h}:function(e){return !1},Z_=globalThis.AbortController||Hi().AbortController,{FunctionPrototypeCall:mh}=ce(),fr=class extends Y_{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0);}};Eh.exports=function t(e,r){if(G_(e))return e;if(dh(e))return yn({readable:e});if(ph(e))return yn({writable:e});if(K_(e))return yn({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:o,final:s,destroy:a}=e0(e);if(hh(n))return wh(fr,n,{objectMode:!0,write:o,final:s,destroy:a});let u=n?.then;if(typeof u=="function"){let c,h=mh(u,n,d=>{if(d!=null)throw new yh("nully","body",d)},d=>{Wr(c,d);});return c=new fr({objectMode:!0,readable:!1,write:o,final(d){s(async()=>{try{await h,fo.nextTick(d,null);}catch(g){fo.nextTick(d,g);}});},destroy:a})}throw new yh("Iterable, AsyncIterable or AsyncFunction",r,n)}if(X_(e))return t(e.arrayBuffer());if(hh(e))return wh(fr,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?dh(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?ph(e?.writable)?e?.writable:t(e.writable):void 0;return yn({readable:n,writable:o})}let i=e?.then;if(typeof i=="function"){let n;return mh(i,e,o=>{o!=null&&n.push(o),n.push(null);},o=>{Wr(n,o);}),n=new fr({objectMode:!0,writable:!1,read(){}})}throw new Q_(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function e0(t){let{promise:e,resolve:r}=bh(),i=new Z_,n=i.signal;return {value:t(async function*(){for(;;){let s=e;e=null;let{chunk:a,done:u,cb:c}=await s;if(fo.nextTick(c),u)return;if(n.aborted)throw new vh(void 0,{cause:n.reason});(({promise:e,resolve:r}=bh())),yield a;}}(),{signal:n}),write(s,a,u){let c=r;r=null,c({chunk:s,done:!1,cb:u});},final(s){let a=r;r=null,a({done:!0,cb:s});},destroy(s,a){i.abort(),a(s);}}}function yn(t){let e=t.readable&&typeof t.readable.read!="function"?J_.wrap(t.readable):t.readable,r=t.writable,i=!!V_(e),n=!!z_(r),o,s,a,u,c;function h(d){let g=u;u=null,g?g(d):d&&c.destroy(d);}return c=new fr({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(gh(r,d=>{n=!1,d&&Wr(e,d),h(d);}),c._write=function(d,g,y){r.write(d,g)?y():o=y;},c._final=function(d){r.end(),s=d;},r.on("drain",function(){if(o){let d=o;o=null,d();}}),r.on("finish",function(){if(s){let d=s;s=null,d();}})),i&&(gh(e,d=>{i=!1,d&&Wr(e,d),h(d);}),e.on("readable",function(){if(a){let d=a;a=null,d();}}),e.on("end",function(){c.push(null);}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,g){!d&&u!==null&&(d=new vh),a=null,o=null,s=null,u===null?g(d):(u=g,Wr(r,d),Wr(e,d));},c}});var nt=M((RR,Th)=>{v();m();_();var{ObjectDefineProperties:t0,ObjectGetOwnPropertyDescriptor:At,ObjectKeys:r0,ObjectSetPrototypeOf:Ah}=ce();Th.exports=Ve;var po=di(),Ne=uo();Ah(Ve.prototype,po.prototype);Ah(Ve,po);{let t=r0(Ne.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ve.prototype[r]||(Ve.prototype[r]=Ne.prototype[r]);}}function Ve(t){if(!(this instanceof Ve))return new Ve(t);po.call(this,t),Ne.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0;}t0(Ve.prototype,{writable:{__proto__:null,...At(Ne.prototype,"writable")},writableHighWaterMark:{__proto__:null,...At(Ne.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...At(Ne.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...At(Ne.prototype,"writableBuffer")},writableLength:{__proto__:null,...At(Ne.prototype,"writableLength")},writableFinished:{__proto__:null,...At(Ne.prototype,"writableFinished")},writableCorked:{__proto__:null,...At(Ne.prototype,"writableCorked")},writableEnded:{__proto__:null,...At(Ne.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...At(Ne.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t);}}});var co;function Ih(){return co===void 0&&(co={}),co}Ve.fromWeb=function(t,e){return Ih().newStreamDuplexFromReadableWritablePair(t,e)};Ve.toWeb=function(t){return Ih().newReadableWritablePairFromDuplex(t)};var ho;Ve.from=function(t){return ho||(ho=Sh()),ho(t,"body")};});var bo=M((NR,Ch)=>{v();m();_();var{ObjectSetPrototypeOf:Rh,Symbol:i0}=ce();Ch.exports=It;var{ERR_METHOD_NOT_IMPLEMENTED:n0}=Se().codes,yo=nt(),{getHighWaterMark:s0}=sn();Rh(It.prototype,yo.prototype);Rh(It,yo);var bi=i0("kCallback");function It(t){if(!(this instanceof It))return new It(t);let e=t?s0(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),yo.call(this,t),this._readableState.sync=!1,this[bi]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",o0);}function go(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t();}):(this.push(null),t&&t());}function o0(){this._final!==go&&go.call(this);}It.prototype._final=go;It.prototype._transform=function(t,e,r){throw new n0("_transform()")};It.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,(s,a)=>{if(s){r(s);return}a!=null&&this.push(a),n.ended||o===i.length||i.length<i.highWaterMark?r():this[bi]=r;});};It.prototype._read=function(){if(this[bi]){let t=this[bi];this[bi]=null,t();}};});var _o=M((KR,Ph)=>{v();m();_();var{ObjectSetPrototypeOf:Bh}=ce();Ph.exports=$r;var wo=bo();Bh($r.prototype,wo.prototype);Bh($r,wo);function $r(t){if(!(this instanceof $r))return new $r(t);wo.call(this,t);}$r.prototype._transform=function(t,e,r){r(null,t);};});var mn=M((iC,Lh)=>{v();m();_();var wi=Ut(),{ArrayIsArray:a0,Promise:l0,SymbolAsyncIterator:u0}=ce(),_n=mt(),{once:f0}=Je(),c0=tr(),Oh=nt(),{aggregateTwoErrors:h0,codes:{ERR_INVALID_ARG_TYPE:Ro,ERR_INVALID_RETURN_VALUE:mo,ERR_MISSING_ARGS:d0,ERR_STREAM_DESTROYED:p0,ERR_STREAM_PREMATURE_CLOSE:g0},AbortError:y0}=Se(),{validateFunction:b0,validateAbortSignal:w0}=fi(),{isIterable:cr,isReadable:vo,isReadableNodeStream:wn,isNodeStream:kh,isTransformStream:Hr,isWebStream:_0,isReadableStream:Eo,isReadableEnded:m0}=tt(),v0=globalThis.AbortController||Hi().AbortController,So,Ao;function xh(t,e,r){let i=!1;t.on("close",()=>{i=!0;});let n=_n(t,{readable:e,writable:r},o=>{i=!o;});return {destroy:o=>{i||(i=!0,c0.destroyer(t,o||new p0("pipe")));},cleanup:n}}function E0(t){return b0(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Io(t){if(cr(t))return t;if(wn(t))return S0(t);throw new Ro("val",["Readable","Iterable","AsyncIterable"],t)}async function*S0(t){Ao||(Ao=di()),yield*Ao.prototype[u0].call(t);}async function bn(t,e,r,{end:i}){let n,o=null,s=c=>{if(c&&(n=c),o){let h=o;o=null,h();}},a=()=>new l0((c,h)=>{n?h(n):o=()=>{n?h(n):c();};});e.on("drain",s);let u=_n(e,{readable:!1},s);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();i&&e.end(),await a(),r();}catch(c){r(n!==c?h0(n,c):c);}finally{u(),e.off("drain",s);}}async function To(t,e,r,{end:i}){Hr(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,i&&await n.close(),r();}catch(o){try{await n.abort(o),r(o);}catch(s){r(s);}}}function A0(...t){return Mh(t,f0(E0(t)))}function Mh(t,e,r){if(t.length===1&&a0(t[0])&&(t=t[0]),t.length<2)throw new d0("streams");let i=new v0,n=i.signal,o=r?.signal,s=[];w0(o,"options.signal");function a(){y(new y0);}o?.addEventListener("abort",a);let u,c,h=[],d=0;function g(C){y(C,--d===0);}function y(C,R){if(C&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=C),!(!u&&!R)){for(;h.length;)h.shift()(u);o?.removeEventListener("abort",a),i.abort(),R&&(u||s.forEach(U=>U()),wi.nextTick(e,u,c));}}let w;for(let C=0;C<t.length;C++){let R=t[C],U=C<t.length-1,N=C>0,W=U||r?.end!==!1,K=C===t.length-1;if(kh(R)){let z=function(Q){Q&&Q.name!=="AbortError"&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"&&g(Q);};if(W){let{destroy:Q,cleanup:de}=xh(R,U,N);h.push(Q),vo(R)&&K&&s.push(de);}R.on("error",z),vo(R)&&K&&s.push(()=>{R.removeListener("error",z);});}if(C===0)if(typeof R=="function"){if(w=R({signal:n}),!cr(w))throw new mo("Iterable, AsyncIterable or Stream","source",w)}else cr(R)||wn(R)||Hr(R)?w=R:w=Oh.from(R);else if(typeof R=="function"){if(Hr(w)){var E;w=Io((E=w)===null||E===void 0?void 0:E.readable);}else w=Io(w);if(w=R(w,{signal:n}),U){if(!cr(w,!0))throw new mo("AsyncIterable",`transform[${C-1}]`,w)}else {var S;So||(So=_o());let z=new So({objectMode:!0}),Q=(S=w)===null||S===void 0?void 0:S.then;if(typeof Q=="function")d++,Q.call(w,pe=>{c=pe,pe!=null&&z.write(pe),W&&z.end(),wi.nextTick(g);},pe=>{z.destroy(pe),wi.nextTick(g,pe);});else if(cr(w,!0))d++,bn(w,z,g,{end:W});else if(Eo(w)||Hr(w)){let pe=w.readable||w;d++,bn(pe,z,g,{end:W});}else throw new mo("AsyncIterable or Promise","destination",w);w=z;let{destroy:de,cleanup:Gt}=xh(w,!1,!0);h.push(de),K&&s.push(Gt);}}else if(kh(R)){if(wn(w)){d+=2;let z=I0(w,R,g,{end:W});vo(R)&&K&&s.push(z);}else if(Hr(w)||Eo(w)){let z=w.readable||w;d++,bn(z,R,g,{end:W});}else if(cr(w))d++,bn(w,R,g,{end:W});else throw new Ro("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=R;}else if(_0(R)){if(wn(w))d++,To(Io(w),R,g,{end:W});else if(Eo(w)||cr(w))d++,To(w,R,g,{end:W});else if(Hr(w))d++,To(w.readable,R,g,{end:W});else throw new Ro("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=R;}else w=Oh.from(R);}return (n!=null&&n.aborted||o!=null&&o.aborted)&&wi.nextTick(a),w}function I0(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new g0);}),t.pipe(e,{end:!1}),i){let s=function(){n=!0,e.end();};m0(t)?wi.nextTick(s):t.once("end",s);}else r();return _n(t,{readable:!0,writable:!1},s=>{let a=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(s);}),_n(e,{readable:!1,writable:!0},r)}Lh.exports={pipelineImpl:Mh,pipeline:A0};});var Bo=M((dC,Fh)=>{v();m();_();var{pipeline:T0}=mn(),vn=nt(),{destroyer:R0}=tr(),{isNodeStream:En,isReadable:Uh,isWritable:Nh,isWebStream:Co,isTransformStream:hr,isWritableStream:qh,isReadableStream:Dh}=tt(),{AbortError:C0,codes:{ERR_INVALID_ARG_VALUE:jh,ERR_MISSING_ARGS:B0}}=Se(),P0=mt();Fh.exports=function(...e){if(e.length===0)throw new B0("streams");if(e.length===1)return vn.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=vn.from(e[0])),typeof e[e.length-1]=="function"){let y=e.length-1;e[y]=vn.from(e[y]);}for(let y=0;y<e.length;++y)if(!(!En(e[y])&&!Co(e[y]))){if(y<e.length-1&&!(Uh(e[y])||Dh(e[y])||hr(e[y])))throw new jh(`streams[${y}]`,r[y],"must be readable");if(y>0&&!(Nh(e[y])||qh(e[y])||hr(e[y])))throw new jh(`streams[${y}]`,r[y],"must be writable")}let i,n,o,s,a;function u(y){let w=s;s=null,w?w(y):y?a.destroy(y):!g&&!d&&a.destroy();}let c=e[0],h=T0(e,u),d=!!(Nh(c)||qh(c)||hr(c)),g=!!(Uh(h)||Dh(h)||hr(h));if(a=new vn({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(h!=null&&h.writableObjectMode),writable:d,readable:g}),d){if(En(c))a._write=function(w,E,S){c.write(w,E)?S():i=S;},a._final=function(w){c.end(),n=w;},c.on("drain",function(){if(i){let w=i;i=null,w();}});else if(Co(c)){let E=(hr(c)?c.writable:c).getWriter();a._write=async function(S,I,C){try{await E.ready,E.write(S).catch(()=>{}),C();}catch(R){C(R);}},a._final=async function(S){try{await E.ready,E.close().catch(()=>{}),n=S;}catch(I){S(I);}};}let y=hr(h)?h.readable:h;P0(y,()=>{if(n){let w=n;n=null,w();}});}if(g){if(En(h))h.on("readable",function(){if(o){let y=o;o=null,y();}}),h.on("end",function(){a.push(null);}),a._read=function(){for(;;){let y=h.read();if(y===null){o=a._read;return}if(!a.push(y))return}};else if(Co(h)){let w=(hr(h)?h.readable:h).getReader();a._read=async function(){for(;;)try{let{value:E,done:S}=await w.read();if(!a.push(E))return;if(S){a.push(null);return}}catch{return}};}}return a._destroy=function(y,w){!y&&s!==null&&(y=new C0),o=null,i=null,n=null,s===null?w(y):(s=w,En(h)&&R0(h,y));},a};});var Qh=M((SC,ko)=>{v();m();_();var Vh=globalThis.AbortController||Hi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:O0,ERR_INVALID_ARG_TYPE:_i,ERR_MISSING_ARGS:k0,ERR_OUT_OF_RANGE:x0},AbortError:st}=Se(),{validateAbortSignal:dr,validateInteger:M0,validateObject:pr}=fi(),L0=ce().Symbol("kWeak"),{finished:U0}=mt(),N0=Bo(),{addAbortSignalNoValidate:q0}=ci(),{isWritable:D0,isNodeStream:j0}=tt(),{ArrayPrototypePush:F0,MathFloor:W0,Number:$0,NumberIsNaN:H0,Promise:Wh,PromiseReject:$h,PromisePrototypeThen:V0,Symbol:zh}=ce(),Sn=zh("kEmpty"),Hh=zh("kEof");function z0(t,e){if(e!=null&&pr(e,"options"),e?.signal!=null&&dr(e.signal,"options.signal"),j0(t)&&!D0(t))throw new O0("stream",t,"must be writable");let r=N0(this,t);return e!=null&&e.signal&&q0(e.signal,r),r}function An(t,e){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);e!=null&&pr(e,"options"),e?.signal!=null&&dr(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=W0(e.concurrency)),M0(r,"concurrency",1),async function*(){var n,o;let s=new Vh,a=this,u=[],c=s.signal,h={signal:c},d=()=>s.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&d(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",d);let g,y,w=!1;function E(){w=!0;}async function S(){try{for await(let R of a){var I;if(w)return;if(c.aborted)throw new st;try{R=t(R,h);}catch(U){R=$h(U);}R!==Sn&&(typeof((I=R)===null||I===void 0?void 0:I.catch)=="function"&&R.catch(E),u.push(R),g&&(g(),g=null),!w&&u.length&&u.length>=r&&await new Wh(U=>{y=U;}));}u.push(Hh);}catch(R){let U=$h(R);V0(U,void 0,E),u.push(U);}finally{var C;w=!0,g&&(g(),g=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",d);}}S();try{for(;;){for(;u.length>0;){let I=await u[0];if(I===Hh)return;if(c.aborted)throw new st;I!==Sn&&(yield I),u.shift(),y&&(y(),y=null);}await new Wh(I=>{g=I;});}}finally{s.abort(),w=!0,y&&(y(),y=null);}}.call(this)}function K0(t=void 0){return t!=null&&pr(t,"options"),t?.signal!=null&&dr(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new st({cause:t.signal.reason});yield [r++,n];}}.call(this)}async function Kh(t,e=void 0){for await(let r of Oo.call(this,t,e))return !0;return !1}async function G0(t,e=void 0){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);return !await Kh.call(this,async(...r)=>!await t(...r),e)}async function Q0(t,e){for await(let r of Oo.call(this,t,e))return r}async function Y0(t,e){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),Sn}for await(let i of An.call(this,r,e));}function Oo(t,e){if(typeof t!="function")throw new _i("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:Sn}return An.call(this,r,e)}var Po=class extends k0{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value";}};async function J0(t,e,r){var i;if(typeof t!="function")throw new _i("reducer",["Function","AsyncFunction"],t);r!=null&&pr(r,"options"),r?.signal!=null&&dr(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let c=new st(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await U0(this.destroy(c)),c}let o=new Vh,s=o.signal;if(r!=null&&r.signal){let c={once:!0,[L0]:this};r.signal.addEventListener("abort",()=>o.abort(),c);}let a=!1;try{for await(let c of this){var u;if(a=!0,r!=null&&(u=r.signal)!==null&&u!==void 0&&u.aborted)throw new st;n?e=await t(e,c,{signal:s}):(e=c,n=!0);}if(!a&&!n)throw new Po}finally{o.abort();}return e}async function X0(t){t!=null&&pr(t,"options"),t?.signal!=null&&dr(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new st(void 0,{cause:t.signal.reason});F0(e,i);}return e}function Z0(t,e){let r=An.call(this,t,e);return async function*(){for await(let n of r)yield*n;}.call(this)}function Gh(t){if(t=$0(t),H0(t))return 0;if(t<0)throw new x0("number",">= 0",t);return t}function em(t,e=void 0){return e!=null&&pr(e,"options"),e?.signal!=null&&dr(e.signal,"options.signal"),t=Gh(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new st;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new st;t--<=0&&(yield o);}}.call(this)}function tm(t,e=void 0){return e!=null&&pr(e,"options"),e?.signal!=null&&dr(e.signal,"options.signal"),t=Gh(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new st;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new st;if(t-- >0)yield o;else return}}.call(this)}ko.exports.streamReturningOperators={asIndexedPairs:K0,drop:em,filter:Oo,flatMap:Z0,map:An,take:tm,compose:z0};ko.exports.promiseReturningOperators={every:G0,forEach:Y0,reduce:J0,toArray:X0,some:Kh,find:Q0};});var xo=M((xC,Yh)=>{v();m();_();var{ArrayPrototypePop:rm,Promise:im}=ce(),{isIterable:nm,isNodeStream:sm,isWebStream:om}=tt(),{pipelineImpl:am}=mn(),{finished:lm}=mt();Mo();function um(...t){return new im((e,r)=>{let i,n,o=t[t.length-1];if(o&&typeof o=="object"&&!sm(o)&&!nm(o)&&!om(o)){let s=rm(t);i=s.signal,n=s.end;}am(t,(s,a)=>{s?r(s):e(a);},{signal:i,end:n});})}Yh.exports={finished:lm,pipeline:um};});var Mo=M(($C,sd)=>{v();m();_();var{Buffer:fm}=(ye(),X(_e)),{ObjectDefineProperty:Tt,ObjectKeys:Zh,ReflectApply:ed}=ce(),{promisify:{custom:td}}=Je(),{streamReturningOperators:Jh,promiseReturningOperators:Xh}=Qh(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:rd}}=Se(),cm=Bo(),{pipeline:id}=mn(),{destroyer:hm}=tr(),nd=mt(),Lo=xo(),Uo=tt(),le=sd.exports=tn().Stream;le.isDisturbed=Uo.isDisturbed;le.isErrored=Uo.isErrored;le.isReadable=Uo.isReadable;le.Readable=di();for(let t of Zh(Jh)){let r=function(...i){if(new.target)throw rd();return le.Readable.from(ed(e,this,i))};let e=Jh[t];Tt(r,"name",{__proto__:null,value:e.name}),Tt(r,"length",{__proto__:null,value:e.length}),Tt(le.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0});}for(let t of Zh(Xh)){let r=function(...n){if(new.target)throw rd();return ed(e,this,n)};let e=Xh[t];Tt(r,"name",{__proto__:null,value:e.name}),Tt(r,"length",{__proto__:null,value:e.length}),Tt(le.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0});}le.Writable=uo();le.Duplex=nt();le.Transform=bo();le.PassThrough=_o();le.pipeline=id;var{addAbortSignal:dm}=ci();le.addAbortSignal=dm;le.finished=nd;le.destroy=hm;le.compose=cm;Tt(le,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Lo}});Tt(id,td,{__proto__:null,enumerable:!0,get(){return Lo.pipeline}});Tt(nd,td,{__proto__:null,enumerable:!0,get(){return Lo.finished}});le.Stream=le;le._isUint8Array=function(e){return e instanceof Uint8Array};le._uint8ArrayToBuffer=function(e){return fm.from(e.buffer,e.byteOffset,e.byteLength)};});var Dt=M((ZC,ue)=>{v();m();_();var he=Mo(),pm=xo(),gm=he.Readable.destroy;ue.exports=he.Readable;ue.exports._uint8ArrayToBuffer=he._uint8ArrayToBuffer;ue.exports._isUint8Array=he._isUint8Array;ue.exports.isDisturbed=he.isDisturbed;ue.exports.isErrored=he.isErrored;ue.exports.isReadable=he.isReadable;ue.exports.Readable=he.Readable;ue.exports.Writable=he.Writable;ue.exports.Duplex=he.Duplex;ue.exports.Transform=he.Transform;ue.exports.PassThrough=he.PassThrough;ue.exports.addAbortSignal=he.addAbortSignal;ue.exports.finished=he.finished;ue.exports.destroy=he.destroy;ue.exports.destroy=gm;ue.exports.pipeline=he.pipeline;ue.exports.compose=he.compose;Object.defineProperty(he,"promises",{configurable:!0,enumerable:!0,get(){return pm}});ue.exports.Stream=he.Stream;ue.exports.default=ue.exports;});var od=M((uB,qo)=>{v();m();_();typeof Object.create=="function"?qo.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}));}:qo.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e;}};});var ud=M((_B,ld)=>{v();m();_();var{Buffer:ze}=(ye(),X(_e)),ad=Symbol.for("BufferList");function ee(t){if(!(this instanceof ee))return new ee(t);ee._init.call(this,t);}ee._init=function(e){Object.defineProperty(this,ad,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e);};ee.prototype._new=function(e){return new ee(e)};ee.prototype._offset=function(e){if(e===0)return [0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return [i,e-r];r=n;}};ee.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};ee.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};ee.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};ee.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||ze.alloc(0);let o=!!e,s=this._offset(i),a=n-i,u=a,c=o&&r||0,h=s[1];if(i===0&&n===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:ze.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,c),c+=this._bufs[d].length;return e}if(u<=this._bufs[s[0]].length-h)return o?this._bufs[s[0]].copy(e,r,h,h+u):this._bufs[s[0]].slice(h,h+u);o||(e=ze.allocUnsafe(a));for(let d=s[0];d<this._bufs.length;d++){let g=this._bufs[d].length-h;if(u>g)this._bufs[d].copy(e,c,h),c+=g;else {this._bufs[d].copy(e,c,h,h+u),c+=g;break}u-=g,h&&(h=0);}return e.length>c?e.slice(0,c):e};ee.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),o=this._bufs.slice(i[0],n[0]+1);return n[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),i[1]!==0&&(o[0]=o[0].slice(i[1])),this._new(o)};ee.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};ee.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else {this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};ee.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};ee.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(ze.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(ze.from(e));return this};ee.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length;};ee.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=ze.from([t]):typeof t=="string"?t=ze.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=ze.from(t.buffer,t.byteOffset,t.byteLength):ze.isBuffer(t)||(t=ze.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],o=i[1];for(;n<this._bufs.length;n++){let s=this._bufs[n];for(;o<s.length;)if(s.length-o>=t.length){let u=s.indexOf(t,o);if(u!==-1)return this._reverseOffset([n,u]);o=s.length-t.length+1;}else {let u=this._reverseOffset([n,o]);if(this._match(u,t))return u;o++;}o=0;}return -1};ee.prototype._match=function(t,e){if(this.length-t<e.length)return !1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return !1;return !0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?ee.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:ee.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)};})(e);})();ee.prototype._isBufferList=function(e){return e instanceof ee||ee.isBufferList(e)};ee.isBufferList=function(e){return e!=null&&e[ad]};ld.exports=ee;});var fd=M((BB,In)=>{v();m();_();var Do=Dt().Duplex,ym=od(),mi=ud();function Ee(t){if(!(this instanceof Ee))return new Ee(t);if(typeof t=="function"){this._callback=t;let e=function(i){this._callback&&(this._callback(i),this._callback=null);}.bind(this);this.on("pipe",function(i){i.on("error",e);}),this.on("unpipe",function(i){i.removeListener("error",e);}),t=null;}mi._init.call(this,t),Do.call(this);}ym(Ee,Do);Object.assign(Ee.prototype,mi.prototype);Ee.prototype._new=function(e){return new Ee(e)};Ee.prototype._write=function(e,r,i){this._appendBuffer(e),typeof i=="function"&&i();};Ee.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e);};Ee.prototype.end=function(e){Do.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null);};Ee.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e);};Ee.prototype._isBufferList=function(e){return e instanceof Ee||e instanceof mi||Ee.isBufferList(e)};Ee.isBufferList=mi.isBufferList;In.exports=Ee;In.exports.BufferListStream=Ee;In.exports.BufferList=mi;});var hd=M((DB,cd)=>{v();m();_();var jo=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null;}};cd.exports=jo;});var Fo=M((QB,dd)=>{v();m();_();var L=dd.exports,{Buffer:Oe}=(ye(),X(_e));L.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"};L.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0};L.requiredHeaderFlagsErrors={};for(let t in L.requiredHeaderFlags){let e=L.requiredHeaderFlags[t];L.requiredHeaderFlagsErrors[t]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+L.types[t]+" packet";}L.codes={};for(let t in L.types){let e=L.types[t];L.codes[e]=t;}L.CMD_SHIFT=4;L.CMD_MASK=240;L.DUP_MASK=8;L.QOS_MASK=3;L.QOS_SHIFT=1;L.RETAIN_MASK=1;L.VARBYTEINT_MASK=127;L.VARBYTEINT_FIN_MASK=128;L.VARBYTEINT_MAX=268435455;L.SESSIONPRESENT_MASK=1;L.SESSIONPRESENT_HEADER=Oe.from([L.SESSIONPRESENT_MASK]);L.CONNACK_HEADER=Oe.from([L.codes.connack<<L.CMD_SHIFT]);L.USERNAME_MASK=128;L.PASSWORD_MASK=64;L.WILL_RETAIN_MASK=32;L.WILL_QOS_MASK=24;L.WILL_QOS_SHIFT=3;L.WILL_FLAG_MASK=4;L.CLEAN_SESSION_MASK=2;L.CONNECT_HEADER=Oe.from([L.codes.connect<<L.CMD_SHIFT]);L.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11};L.propertiesCodes={};for(let t in L.properties){let e=L.properties[t];L.propertiesCodes[e]=t;}L.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function jt(t){return [0,1,2].map(e=>[0,1].map(r=>[0,1].map(i=>{let n=Oe.alloc(1);return n.writeUInt8(L.codes[t]<<L.CMD_SHIFT|(r?L.DUP_MASK:0)|e<<L.QOS_SHIFT|i,0,!0),n})))}L.PUBLISH_HEADER=jt("publish");L.SUBSCRIBE_HEADER=jt("subscribe");L.SUBSCRIBE_OPTIONS_QOS_MASK=3;L.SUBSCRIBE_OPTIONS_NL_MASK=1;L.SUBSCRIBE_OPTIONS_NL_SHIFT=2;L.SUBSCRIBE_OPTIONS_RAP_MASK=1;L.SUBSCRIBE_OPTIONS_RAP_SHIFT=3;L.SUBSCRIBE_OPTIONS_RH_MASK=3;L.SUBSCRIBE_OPTIONS_RH_SHIFT=4;L.SUBSCRIBE_OPTIONS_RH=[0,16,32];L.SUBSCRIBE_OPTIONS_NL=4;L.SUBSCRIBE_OPTIONS_RAP=8;L.SUBSCRIBE_OPTIONS_QOS=[0,1,2];L.UNSUBSCRIBE_HEADER=jt("unsubscribe");L.ACKS={unsuback:jt("unsuback"),puback:jt("puback"),pubcomp:jt("pubcomp"),pubrel:jt("pubrel"),pubrec:jt("pubrec")};L.SUBACK_HEADER=Oe.from([L.codes.suback<<L.CMD_SHIFT]);L.VERSION3=Oe.from([3]);L.VERSION4=Oe.from([4]);L.VERSION5=Oe.from([5]);L.VERSION131=Oe.from([131]);L.VERSION132=Oe.from([132]);L.QOS=[0,1,2].map(t=>Oe.from([t]));L.EMPTY={pingreq:Oe.from([L.codes.pingreq<<4,0]),pingresp:Oe.from([L.codes.pingresp<<4,0]),disconnect:Oe.from([L.codes.disconnect<<4,0])};L.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"};L.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"};L.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};L.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"};L.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};L.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"};});var gd=M((sP,pd)=>{v();m();_();var Vr=1e3,zr=Vr*60,Kr=zr*60,gr=Kr*24,bm=gr*7,wm=gr*365.25;pd.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return _m(t);if(r==="number"&&isFinite(t))return e.long?vm(t):mm(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function _m(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*wm;case"weeks":case"week":case"w":return r*bm;case"days":case"day":case"d":return r*gr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Kr;case"minutes":case"minute":case"mins":case"min":case"m":return r*zr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Vr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function mm(t){var e=Math.abs(t);return e>=gr?Math.round(t/gr)+"d":e>=Kr?Math.round(t/Kr)+"h":e>=zr?Math.round(t/zr)+"m":e>=Vr?Math.round(t/Vr)+"s":t+"ms"}function vm(t){var e=Math.abs(t);return e>=gr?Tn(t,e,gr,"day"):e>=Kr?Tn(t,e,Kr,"hour"):e>=zr?Tn(t,e,zr,"minute"):e>=Vr?Tn(t,e,Vr,"second"):t+" ms"}function Tn(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var bd=M((gP,yd)=>{v();m();_();function Em(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=n,r.enabled=s,r.humanize=gd(),r.destroy=c,Object.keys(t).forEach(h=>{r[h]=t[h];}),r.names=[],r.skips=[],r.formatters={};function e(h){let d=0;for(let g=0;g<h.length;g++)d=(d<<5)-d+h.charCodeAt(g),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(h){let d,g=null,y,w;function E(...S){if(!E.enabled)return;let I=E,C=Number(new Date),R=C-(d||C);I.diff=R,I.prev=d,I.curr=C,d=C,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let U=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(W,K)=>{if(W==="%%")return "%";U++;let z=r.formatters[K];if(typeof z=="function"){let Q=S[U];W=z.call(I,Q),S.splice(U,1),U--;}return W}),r.formatArgs.call(I,S),(I.log||r.log).apply(I,S);}return E.namespace=h,E.useColors=r.useColors(),E.color=r.selectColor(h),E.extend=i,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,w=r.enabled(h)),w),set:S=>{g=S;}}),typeof r.init=="function"&&r.init(E),E}function i(h,d){let g=r(this.namespace+(typeof d>"u"?":":d)+h);return g.log=this.log,g}function n(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let d,g=(typeof h=="string"?h:"").split(/[\s,]+/),y=g.length;for(d=0;d<y;d++)g[d]&&(h=g[d].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")));}function o(){let h=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),h}function s(h){if(h[h.length-1]==="*")return !0;let d,g;for(d=0,g=r.skips.length;d<g;d++)if(r.skips[d].test(h))return !1;for(d=0,g=r.names.length;d<g;d++)if(r.names[d].test(h))return !0;return !1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function u(h){return h instanceof Error?h.stack||h.message:h}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return r.enable(r.load()),r}yd.exports=Em;});var ot=M((xe,Rn)=>{v();m();_();xe.formatArgs=Am;xe.save=Im;xe.load=Tm;xe.useColors=Sm;xe.storage=Rm();xe.destroy=(()=>{let t=!1;return ()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));}})();xe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Sm(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof B<"u"&&B.userAgent&&B.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof B<"u"&&B.userAgent&&B.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof B<"u"&&B.userAgent&&B.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Am(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Rn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r));}),t.splice(i,0,e);}xe.log=console.debug||console.log||(()=>{});function Im(t){try{t?xe.storage.setItem("debug",t):xe.storage.removeItem("debug");}catch{}}function Tm(){let t;try{t=xe.storage.getItem("debug");}catch{}return !t&&typeof P<"u"&&"env"in P&&(t=P.env.DEBUG),t}function Rm(){try{return localStorage}catch{}}Rn.exports=bd()(xe);var{formatters:Cm}=Rn.exports;Cm.j=function(t){try{return JSON.stringify(t)}catch(e){return "[UnexpectedJSONParseError]: "+e.message}};});var md=M((MP,_d)=>{v();m();_();var Bm=fd(),{EventEmitter:Pm}=(ir(),X(rr)),wd=hd(),V=Fo(),D=ot()("mqtt-packet:parser"),Wo=class t extends Pm{constructor(){super(),this.parser=this.constructor.parser;}static parser(e){return this instanceof t?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new t().parser(e)}_resetState(){D("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new wd,this.error=null,this._list=Bm(),this._stateCounter=0;}parse(e){for(this.error&&this._resetState(),this._list.append(e),D("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,D("parse: state complete. _stateCounter is now: %d",this._stateCounter),D("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return D("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let e=this._list.readUInt8(0),r=e>>V.CMD_SHIFT;this.packet.cmd=V.types[r];let i=e&15,n=V.requiredHeaderFlags[r];return n!=null&&i!==n?this._emitError(new Error(V.requiredHeaderFlagsErrors[r])):(this.packet.retain=(e&V.RETAIN_MASK)!==0,this.packet.qos=e>>V.QOS_SHIFT&V.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(e&V.DUP_MASK)!==0,D("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),D("_parseLength %d",e.value),!!e}_parsePayload(){D("_parsePayload: payload %O",this._list);let e=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"));}e=!0;}return D("_parsePayload complete result: %s",e),e}_parseConnect(){D("_parseConnect");let e,r,i,n,o={},s=this.packet,a=this._parseString();if(a===null)return this._emitError(new Error("Cannot parse protocolId"));if(a!=="MQTT"&&a!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(s.protocolId=a,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(s.protocolVersion=this._list.readUInt8(this._pos),s.protocolVersion>=128&&(s.bridgeMode=!0,s.protocolVersion=s.protocolVersion-128),s.protocolVersion!==3&&s.protocolVersion!==4&&s.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));o.username=this._list.readUInt8(this._pos)&V.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&V.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&V.WILL_FLAG_MASK;let u=!!(this._list.readUInt8(this._pos)&V.WILL_RETAIN_MASK),c=(this._list.readUInt8(this._pos)&V.WILL_QOS_MASK)>>V.WILL_QOS_SHIFT;if(o.will)s.will={},s.will.retain=u,s.will.qos=c;else {if(u)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(c)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(s.clean=(this._list.readUInt8(this._pos)&V.CLEAN_SESSION_MASK)!==0,this._pos++,s.keepalive=this._parseNum(),s.keepalive===-1)return this._emitError(new Error("Packet too short"));if(s.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(s.properties=d);}let h=this._parseString();if(h===null)return this._emitError(new Error("Packet too short"));if(s.clientId=h,D("_parseConnect: packet.clientId: %s",s.clientId),o.will){if(s.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(s.will.properties=d);}if(e=this._parseString(),e===null)return this._emitError(new Error("Cannot parse will topic"));if(s.will.topic=e,D("_parseConnect: packet.will.topic: %s",s.will.topic),r=this._parseBuffer(),r===null)return this._emitError(new Error("Cannot parse will payload"));s.will.payload=r,D("_parseConnect: packet.will.paylaod: %s",s.will.payload);}if(o.username){if(n=this._parseString(),n===null)return this._emitError(new Error("Cannot parse username"));s.username=n,D("_parseConnect: packet.username: %s",s.username);}if(o.password){if(i=this._parseBuffer(),i===null)return this._emitError(new Error("Cannot parse password"));s.password=i;}return this.settings=s,D("_parseConnect: complete"),s}_parseConnack(){D("_parseConnack");let e=this.packet;if(this._list.length<1)return null;let r=this._list.readUInt8(this._pos++);if(r>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(r&V.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else {if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++);}if(e.returnCode===-1||e.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(e.properties=i);}D("_parseConnack: complete");}_parsePublish(){D("_parsePublish");let e=this.packet;if(e.topic=this._parseString(),e.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}e.payload=this._list.slice(this._pos,e.length),D("_parsePublish: payload from buffer list: %o",e.payload);}}_parseSubscribe(){D("_parseSubscribe");let e=this.packet,r,i,n,o,s,a,u;if(e.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(e.properties=c);}if(e.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<e.length;){if(r=this._parseString(),r===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(i=this._parseByte(),this.settings.protocolVersion===5){if(i&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(i&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(n=i&V.SUBSCRIBE_OPTIONS_QOS_MASK,n>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(a=(i>>V.SUBSCRIBE_OPTIONS_NL_SHIFT&V.SUBSCRIBE_OPTIONS_NL_MASK)!==0,s=(i>>V.SUBSCRIBE_OPTIONS_RAP_SHIFT&V.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,o=i>>V.SUBSCRIBE_OPTIONS_RH_SHIFT&V.SUBSCRIBE_OPTIONS_RH_MASK,o>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));u={topic:r,qos:n},this.settings.protocolVersion===5?(u.nl=a,u.rap=s,u.rh=o):this.settings.bridgeMode&&(u.rh=0,u.rap=!0,u.nl=!0),D("_parseSubscribe: push subscription `%s` to subscription",u),e.subscriptions.push(u);}}}_parseSuback(){D("_parseSuback");let e=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}if(e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let r=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!V.MQTT5_SUBACK_CODES[r])return this._emitError(new Error("Invalid suback code"))}else if(r>2&&r!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(r);}}}_parseUnsubscribe(){D("_parseUnsubscribe");let e=this.packet;if(e.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}if(e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){let r=this._parseString();if(r===null)return this._emitError(new Error("Cannot parse topic"));D("_parseUnsubscribe: push topic `%s` to unsubscriptions",r),e.unsubscriptions.push(r);}}}_parseUnsuback(){D("_parseUnsuback");let e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&e.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let r=this._parseProperties();for(Object.getOwnPropertyNames(r).length&&(e.properties=r),e.granted=[];this._pos<this.packet.length;){let i=this._list.readUInt8(this._pos++);if(!V.MQTT5_UNSUBACK_CODES[i])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(i);}}}_parseConfirmation(){D("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let e=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(e.length>2){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!V.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!V.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}D("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode);}else e.reasonCode=0;if(e.length>3){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}}return !0}_parseDisconnect(){let e=this.packet;if(D("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(e.reasonCode=this._parseByte(),V.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0;let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}return D("_parseDisconnect result: true"),!0}_parseAuth(){D("_parseAuth");let e=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!V.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let r=this._parseProperties();return Object.getOwnPropertyNames(r).length&&(e.properties=r),D("_parseAuth: result: true"),!0}_parseMessageId(){let e=this.packet;return e.messageId=this._parseNum(),e.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(D("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){let r=this._parseNum(),i=r+this._pos;if(r===-1||i>this._list.length||i>this.packet.length)return null;let n=this._list.toString("utf8",this._pos,i);return this._pos+=r,D("_parseString: result: %s",n),n}_parseStringPair(){return D("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let e=this._parseNum(),r=e+this._pos;if(e===-1||r>this._list.length||r>this.packet.length)return null;let i=this._list.slice(this._pos,r);return this._pos+=e,D("_parseBuffer: result: %o",i),i}_parseNum(){if(this._list.length-this._pos<2)return -1;let e=this._list.readUInt16BE(this._pos);return this._pos+=2,D("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return -1;let e=this._list.readUInt32BE(this._pos);return this._pos+=4,D("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){D("_parseVarByteNum");let r=4,i=0,n=1,o=0,s=!1,a,u=this._pos?this._pos:0;for(;i<r&&u+i<this._list.length;){if(a=this._list.readUInt8(u+i++),o+=n*(a&V.VARBYTEINT_MASK),n*=128,!(a&V.VARBYTEINT_FIN_MASK)){s=!0;break}if(this._list.length<=i)break}return !s&&i===r&&this._list.length>=i&&this._emitError(new Error("Invalid variable byte integer")),u&&(this._pos+=i),s?e?s={bytes:i,value:o}:s=o:s=!1,D("_parseVarByteNum: result: %o",s),s}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),D("_parseByte: result: %o",e),e}_parseByType(e){switch(D("_parseByType: type: %s",e),e){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){D("_parseProperties");let e=this._parseVarByteNum(),i=this._pos+e,n={};for(;this._pos<i;){let o=this._parseByte();if(!o)return this._emitError(new Error("Cannot parse property code type")),!1;let s=V.propertiesCodes[o];if(!s)return this._emitError(new Error("Unknown property")),!1;if(s==="userProperties"){n[s]||(n[s]=Object.create(null));let a=this._parseByType(V.propertiesTypes[s]);if(n[s][a.name])if(Array.isArray(n[s][a.name]))n[s][a.name].push(a.value);else {let u=n[s][a.name];n[s][a.name]=[u],n[s][a.name].push(a.value);}else n[s][a.name]=a.value;continue}n[s]?Array.isArray(n[s])?n[s].push(this._parseByType(V.propertiesTypes[s])):(n[s]=[n[s]],n[s].push(this._parseByType(V.propertiesTypes[s]))):n[s]=this._parseByType(V.propertiesTypes[s]);}return n}_newPacket(){return D("_newPacket"),this.packet&&(this._list.consume(this.packet.length),D("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),D("_newPacket: new packet"),this.packet=new wd,this._pos=0,!0}_emitError(e){D("_emitError",e),this.error=e,this.emit("error",e);}};_d.exports=Wo;});var Ad=M((HP,Sd)=>{v();m();_();var{Buffer:vi}=(ye(),X(_e)),Om=65536,vd={},km=vi.isBuffer(vi.from([1,2]).subarray(0,1));function Ed(t){let e=vi.allocUnsafe(2);return e.writeUInt8(t>>8,0),e.writeUInt8(t&255,0+1),e}function xm(){for(let t=0;t<Om;t++)vd[t]=Ed(t);}function Mm(t){let r=0,i=0,n=vi.allocUnsafe(4);do r=t%128|0,t=t/128|0,t>0&&(r=r|128),n.writeUInt8(r,i++);while(t>0&&i<4);return t>0&&(i=0),km?n.subarray(0,i):n.slice(0,i)}function Lm(t){let e=vi.allocUnsafe(4);return e.writeUInt32BE(t,0),e}Sd.exports={cache:vd,generateCache:xm,generateNumber:Ed,genBufVariableByteInt:Mm,generate4ByteBuffer:Lm};});var Id=M((eO,$o)=>{v();m();_();typeof P>"u"||!P.version||P.version.indexOf("v0.")===0||P.version.indexOf("v1.")===0&&P.version.indexOf("v1.8.")!==0?$o.exports={nextTick:Um}:$o.exports=P;function Um(t,e,r,i){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,o,s;switch(n){case 0:case 1:return P.nextTick(t);case 2:return P.nextTick(function(){t.call(null,e);});case 3:return P.nextTick(function(){t.call(null,e,r);});case 4:return P.nextTick(function(){t.call(null,e,r,i);});default:for(o=new Array(n-1),s=0;s<o.length;)o[s++]=arguments[s];return P.nextTick(function(){t.apply(null,o);})}}});var zo=M((fO,xd)=>{v();m();_();var j=Fo(),{Buffer:q}=(ye(),X(_e)),Nm=q.allocUnsafe(0),qm=q.from([0]),Ei=Ad(),Dm=Id().nextTick,qe=ot()("mqtt-packet:writeToStream"),Cn=Ei.cache,jm=Ei.generateNumber,Fm=Ei.generateCache,Ho=Ei.genBufVariableByteInt,Wm=Ei.generate4ByteBuffer,Ie=Vo,Bn=!0;function Od(t,e,r){switch(qe("generate called"),e.cork&&(e.cork(),Dm($m,e)),Bn&&(Bn=!1,Fm()),qe("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return Hm(t,e);case"connack":return Vm(t,e,r);case"publish":return zm(t,e,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return Km(t,e,r);case"subscribe":return Gm(t,e,r);case"suback":return Qm(t,e,r);case"unsubscribe":return Ym(t,e,r);case"unsuback":return Jm(t,e,r);case"pingreq":case"pingresp":return Xm(t,e);case"disconnect":return Zm(t,e,r);case"auth":return e1(t,e,r);default:return e.destroy(new Error("Unknown command")),!1}}Object.defineProperty(Od,"cacheNumbers",{get(){return Ie===Vo},set(t){t?((!Cn||Object.keys(Cn).length===0)&&(Bn=!0),Ie=Vo):(Bn=!1,Ie=t1);}});function $m(t){t.uncork();}function Hm(t,e,r){let i=t||{},n=i.protocolId||"MQTT",o=i.protocolVersion||4,s=i.will,a=i.clean,u=i.keepalive||0,c=i.clientId||"",h=i.username,d=i.password,g=i.properties;a===void 0&&(a=!0);let y=0;if(!n||typeof n!="string"&&!q.isBuffer(n))return e.destroy(new Error("Invalid protocolId")),!1;if(y+=n.length+2,o!==3&&o!==4&&o!==5)return e.destroy(new Error("Invalid protocol version")),!1;if(y+=1,(typeof c=="string"||q.isBuffer(c))&&(c||o>=4)&&(c||a))y+=q.byteLength(c)+2;else {if(o<4)return e.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(a*1===0)return e.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof u!="number"||u<0||u>65535||u%1!==0)return e.destroy(new Error("Invalid keepalive")),!1;y+=2,y+=1;let w,E;if(o===5){if(w=Ft(e,g),!w)return !1;y+=w.length;}if(s){if(typeof s!="object")return e.destroy(new Error("Invalid will")),!1;if(!s.topic||typeof s.topic!="string")return e.destroy(new Error("Invalid will topic")),!1;if(y+=q.byteLength(s.topic)+2,y+=2,s.payload)if(s.payload.length>=0)typeof s.payload=="string"?y+=q.byteLength(s.payload):y+=s.payload.length;else return e.destroy(new Error("Invalid will payload")),!1;if(E={},o===5){if(E=Ft(e,s.properties),!E)return !1;y+=E.length;}}let S=!1;if(h!=null)if(Pd(h))S=!0,y+=q.byteLength(h)+2;else return e.destroy(new Error("Invalid username")),!1;if(d!=null){if(!S)return e.destroy(new Error("Username is required to use password")),!1;if(Pd(d))y+=kd(d)+2;else return e.destroy(new Error("Invalid password")),!1}e.write(j.CONNECT_HEADER),De(e,y),Gr(e,n),i.bridgeMode&&(o+=128),e.write(o===131?j.VERSION131:o===132?j.VERSION132:o===4?j.VERSION4:o===5?j.VERSION5:j.VERSION3);let I=0;return I|=h!=null?j.USERNAME_MASK:0,I|=d!=null?j.PASSWORD_MASK:0,I|=s&&s.retain?j.WILL_RETAIN_MASK:0,I|=s&&s.qos?s.qos<<j.WILL_QOS_SHIFT:0,I|=s?j.WILL_FLAG_MASK:0,I|=a?j.CLEAN_SESSION_MASK:0,e.write(q.from([I])),Ie(e,u),o===5&&w.write(),Gr(e,c),s&&(o===5&&E.write(),yr(e,s.topic),Gr(e,s.payload)),h!=null&&Gr(e,h),d!=null&&Gr(e,d),!0}function Vm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=i===5?n.reasonCode:n.returnCode,s=n.properties,a=2;if(typeof o!="number")return e.destroy(new Error("Invalid return code")),!1;let u=null;if(i===5){if(u=Ft(e,s),!u)return !1;a+=u.length;}return e.write(j.CONNACK_HEADER),De(e,a),e.write(n.sessionPresent?j.SESSIONPRESENT_HEADER:qm),e.write(q.from([o])),u?.write(),!0}function zm(t,e,r){qe("publish: packet: %o",t);let i=r?r.protocolVersion:4,n=t||{},o=n.qos||0,s=n.retain?j.RETAIN_MASK:0,a=n.topic,u=n.payload||Nm,c=n.messageId,h=n.properties,d=0;if(typeof a=="string")d+=q.byteLength(a)+2;else if(q.isBuffer(a))d+=a.length+2;else return e.destroy(new Error("Invalid topic")),!1;if(q.isBuffer(u)?d+=u.length:d+=q.byteLength(u),o&&typeof c!="number")return e.destroy(new Error("Invalid messageId")),!1;o&&(d+=2);let g=null;if(i===5){if(g=Ft(e,h),!g)return !1;d+=g.length;}return e.write(j.PUBLISH_HEADER[o][n.dup?1:0][s?1:0]),De(e,d),Ie(e,kd(a)),e.write(a),o>0&&Ie(e,c),g?.write(),qe("publish: payload: %o",u),e.write(u)}function Km(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.cmd||"puback",s=n.messageId,a=n.dup&&o==="pubrel"?j.DUP_MASK:0,u=0,c=n.reasonCode,h=n.properties,d=i===5?3:2;if(o==="pubrel"&&(u=1),typeof s!="number")return e.destroy(new Error("Invalid messageId")),!1;let g=null;if(i===5&&typeof h=="object"){if(g=Si(e,h,r,d),!g)return !1;d+=g.length;}return e.write(j.ACKS[o][u][a][0]),d===3&&(d+=c!==0?1:-1),De(e,d),Ie(e,s),i===5&&d!==2&&e.write(q.from([c])),g!==null?g.write():d===4&&e.write(q.from([0])),!0}function Gm(t,e,r){qe("subscribe: packet: ");let i=r?r.protocolVersion:4,n=t||{},o=n.dup?j.DUP_MASK:0,s=n.messageId,a=n.subscriptions,u=n.properties,c=0;if(typeof s!="number")return e.destroy(new Error("Invalid messageId")),!1;c+=2;let h=null;if(i===5){if(h=Ft(e,u),!h)return !1;c+=h.length;}if(typeof a=="object"&&a.length)for(let g=0;g<a.length;g+=1){let y=a[g].topic,w=a[g].qos;if(typeof y!="string")return e.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof w!="number")return e.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(i===5){if(typeof(a[g].nl||!1)!="boolean")return e.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(a[g].rap||!1)!="boolean")return e.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let I=a[g].rh||0;if(typeof I!="number"||I>2)return e.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}c+=q.byteLength(y)+2+1;}else return e.destroy(new Error("Invalid subscriptions")),!1;qe("subscribe: writing to stream: %o",j.SUBSCRIBE_HEADER),e.write(j.SUBSCRIBE_HEADER[1][o?1:0][0]),De(e,c),Ie(e,s),h!==null&&h.write();let d=!0;for(let g of a){let y=g.topic,w=g.qos,E=+g.nl,S=+g.rap,I=g.rh,C;yr(e,y),C=j.SUBSCRIBE_OPTIONS_QOS[w],i===5&&(C|=E?j.SUBSCRIBE_OPTIONS_NL:0,C|=S?j.SUBSCRIBE_OPTIONS_RAP:0,C|=I?j.SUBSCRIBE_OPTIONS_RH[I]:0),d=e.write(q.from([C]));}return d}function Qm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.granted,a=n.properties,u=0;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(u+=2,typeof s=="object"&&s.length)for(let h=0;h<s.length;h+=1){if(typeof s[h]!="number")return e.destroy(new Error("Invalid qos vector")),!1;u+=1;}else return e.destroy(new Error("Invalid qos vector")),!1;let c=null;if(i===5){if(c=Si(e,a,r,u),!c)return !1;u+=c.length;}return e.write(j.SUBACK_HEADER),De(e,u),Ie(e,o),c!==null&&c.write(),e.write(q.from(s))}function Ym(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.dup?j.DUP_MASK:0,a=n.unsubscriptions,u=n.properties,c=0;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(c+=2,typeof a=="object"&&a.length)for(let g=0;g<a.length;g+=1){if(typeof a[g]!="string")return e.destroy(new Error("Invalid unsubscriptions")),!1;c+=q.byteLength(a[g])+2;}else return e.destroy(new Error("Invalid unsubscriptions")),!1;let h=null;if(i===5){if(h=Ft(e,u),!h)return !1;c+=h.length;}e.write(j.UNSUBSCRIBE_HEADER[1][s?1:0][0]),De(e,c),Ie(e,o),h!==null&&h.write();let d=!0;for(let g=0;g<a.length;g++)d=yr(e,a[g]);return d}function Jm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.dup?j.DUP_MASK:0,a=n.granted,u=n.properties,c=n.cmd,h=0,d=2;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(i===5)if(typeof a=="object"&&a.length)for(let y=0;y<a.length;y+=1){if(typeof a[y]!="number")return e.destroy(new Error("Invalid qos vector")),!1;d+=1;}else return e.destroy(new Error("Invalid qos vector")),!1;let g=null;if(i===5){if(g=Si(e,u,r,d),!g)return !1;d+=g.length;}return e.write(j.ACKS[c][h][s][0]),De(e,d),Ie(e,o),g!==null&&g.write(),i===5&&e.write(q.from(a)),!0}function Xm(t,e,r){return e.write(j.EMPTY[t.cmd])}function Zm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.reasonCode,s=n.properties,a=i===5?1:0,u=null;if(i===5){if(u=Si(e,s,r,a),!u)return !1;a+=u.length;}return e.write(q.from([j.codes.disconnect<<4])),De(e,a),i===5&&e.write(q.from([o])),u!==null&&u.write(),!0}function e1(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.reasonCode,s=n.properties,a=i===5?1:0;i!==5&&e.destroy(new Error("Invalid mqtt version for auth packet"));let u=Si(e,s,r,a);return u?(a+=u.length,e.write(q.from([j.codes.auth<<4])),De(e,a),e.write(q.from([o])),u!==null&&u.write(),!0):!1}var Td={};function De(t,e){if(e>j.VARBYTEINT_MAX)return t.destroy(new Error(`Invalid variable byte integer: ${e}`)),!1;let r=Td[e];return r||(r=Ho(e),e<16384&&(Td[e]=r)),qe("writeVarByteInt: writing to stream: %o",r),t.write(r)}function yr(t,e){let r=q.byteLength(e);return Ie(t,r),qe("writeString: %s",e),t.write(e,"utf8")}function Rd(t,e,r){yr(t,e),yr(t,r);}function Vo(t,e){return qe("writeNumberCached: number: %d",e),qe("writeNumberCached: %o",Cn[e]),t.write(Cn[e])}function t1(t,e){let r=jm(e);return qe("writeNumberGenerated: %o",r),t.write(r)}function r1(t,e){let r=Wm(e);return qe("write4ByteNumber: %o",r),t.write(r)}function Gr(t,e){typeof e=="string"?yr(t,e):e?(Ie(t,e.length),t.write(e)):Ie(t,0);}function Ft(t,e){if(typeof e!="object"||e.length!=null)return {length:1,write(){Bd(t,{},0);}};let r=0;function i(o,s){let a=j.propertiesTypes[o],u=0;switch(a){case"byte":{if(typeof s!="boolean")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=1+1;break}case"int8":{if(typeof s!="number"||s<0||s>255)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=1+1;break}case"binary":{if(s&&s===null)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=1+q.byteLength(s)+2;break}case"int16":{if(typeof s!="number"||s<0||s>65535)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=1+2;break}case"int32":{if(typeof s!="number"||s<0||s>4294967295)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=1+4;break}case"var":{if(typeof s!="number"||s<0||s>268435455)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=1+q.byteLength(Ho(s));break}case"string":{if(typeof s!="string")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=1+2+q.byteLength(s.toString());break}case"pair":{if(typeof s!="object")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;u+=Object.getOwnPropertyNames(s).reduce((c,h)=>{let d=s[h];return Array.isArray(d)?c+=d.reduce((g,y)=>(g+=1+2+q.byteLength(h.toString())+2+q.byteLength(y.toString()),g),0):c+=1+2+q.byteLength(h.toString())+2+q.byteLength(s[h].toString()),c},0);break}default:return t.destroy(new Error(`Invalid property ${o}: ${s}`)),!1}return u}if(e)for(let o in e){let s=0,a=0,u=e[o];if(Array.isArray(u))for(let c=0;c<u.length;c++){if(a=i(o,u[c]),!a)return !1;s+=a;}else {if(a=i(o,u),!a)return !1;s=a;}if(!s)return !1;r+=s;}return {length:q.byteLength(Ho(r))+r,write(){Bd(t,e,r);}}}function Si(t,e,r,i){let n=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=Ft(t,e);if(o)for(;i+s.length>o;){let a=n.shift();if(a&&e[a])delete e[a],s=Ft(t,e);else return !1}return s}function Cd(t,e,r){switch(j.propertiesTypes[e]){case"byte":{t.write(q.from([j.properties[e]])),t.write(q.from([+r]));break}case"int8":{t.write(q.from([j.properties[e]])),t.write(q.from([r]));break}case"binary":{t.write(q.from([j.properties[e]])),Gr(t,r);break}case"int16":{t.write(q.from([j.properties[e]])),Ie(t,r);break}case"int32":{t.write(q.from([j.properties[e]])),r1(t,r);break}case"var":{t.write(q.from([j.properties[e]])),De(t,r);break}case"string":{t.write(q.from([j.properties[e]])),yr(t,r);break}case"pair":{Object.getOwnPropertyNames(r).forEach(n=>{let o=r[n];Array.isArray(o)?o.forEach(s=>{t.write(q.from([j.properties[e]])),Rd(t,n.toString(),s.toString());}):(t.write(q.from([j.properties[e]])),Rd(t,n.toString(),o.toString()));});break}default:return t.destroy(new Error(`Invalid property ${e} value: ${r}`)),!1}}function Bd(t,e,r){De(t,r);for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==null){let n=e[i];if(Array.isArray(n))for(let o=0;o<n.length;o++)Cd(t,i,n[o]);else Cd(t,i,n);}}function kd(t){return t?t instanceof q?t.length:q.byteLength(t):0}function Pd(t){return typeof t=="string"||t instanceof q}xd.exports=Od;});var Ud=M((mO,Ld)=>{v();m();_();var i1=zo(),{EventEmitter:n1}=(ir(),X(rr)),{Buffer:Md}=(ye(),X(_e));function s1(t,e){let r=new Ko;return i1(t,r,e),r.concat()}var Ko=class extends n1{constructor(){super(),this._array=new Array(20),this._i=0;}write(e){return this._array[this._i++]=e,!0}concat(){let e=0,r=new Array(this._array.length),i=this._array,n=0,o;for(o=0;o<i.length&&i[o]!==void 0;o++)typeof i[o]!="string"?r[o]=i[o].length:r[o]=Md.byteLength(i[o]),e+=r[o];let s=Md.allocUnsafe(e);for(o=0;o<i.length&&i[o]!==void 0;o++)typeof i[o]!="string"?(i[o].copy(s,n),n+=r[o]):(s.write(i[o],n),n+=r[o]);return s}destroy(e){e&&this.emit("error",e);}};Ld.exports=s1;});var Nd=M(Pn=>{v();m();_();Pn.parser=md().parser;Pn.generate=Ud();Pn.writeToStream=zo();});var Yo=M(Qo=>{v();m();_();Object.defineProperty(Qo,"__esModule",{value:!0});var Go=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535));}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return !0}deallocate(e){}clear(){}};Qo.default=Go;});var Dd=M((YO,qd)=>{v();m();_();qd.exports=o1;function Qr(t){return t instanceof x?x.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function o1(t){if(t=t||{},t.circles)return a1(t);return t.proto?i:r;function e(n,o){for(var s=Object.keys(n),a=new Array(s.length),u=0;u<s.length;u++){var c=s[u],h=n[c];typeof h!="object"||h===null?a[c]=h:h instanceof Date?a[c]=new Date(h):ArrayBuffer.isView(h)?a[c]=Qr(h):a[c]=o(h);}return a}function r(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,r);if(n instanceof Map)return new Map(e(Array.from(n),r));if(n instanceof Set)return new Set(e(Array.from(n),r));var o={};for(var s in n)if(Object.hasOwnProperty.call(n,s)!==!1){var a=n[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),r)):a instanceof Set?o[s]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?o[s]=Qr(a):o[s]=r(a);}return o}function i(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,i);if(n instanceof Map)return new Map(e(Array.from(n),i));if(n instanceof Set)return new Set(e(Array.from(n),i));var o={};for(var s in n){var a=n[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),i)):a instanceof Set?o[s]=new Set(e(Array.from(a),i)):ArrayBuffer.isView(a)?o[s]=Qr(a):o[s]=i(a);}return o}}function a1(t){var e=[],r=[];return t.proto?o:n;function i(s,a){for(var u=Object.keys(s),c=new Array(u.length),h=0;h<u.length;h++){var d=u[h],g=s[d];if(typeof g!="object"||g===null)c[d]=g;else if(g instanceof Date)c[d]=new Date(g);else if(ArrayBuffer.isView(g))c[d]=Qr(g);else {var y=e.indexOf(g);y!==-1?c[d]=r[y]:c[d]=a(g);}}return c}function n(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return i(s,n);if(s instanceof Map)return new Map(i(Array.from(s),n));if(s instanceof Set)return new Set(i(Array.from(s),n));var a={};e.push(s),r.push(a);for(var u in s)if(Object.hasOwnProperty.call(s,u)!==!1){var c=s[u];if(typeof c!="object"||c===null)a[u]=c;else if(c instanceof Date)a[u]=new Date(c);else if(c instanceof Map)a[u]=new Map(i(Array.from(c),n));else if(c instanceof Set)a[u]=new Set(i(Array.from(c),n));else if(ArrayBuffer.isView(c))a[u]=Qr(c);else {var h=e.indexOf(c);h!==-1?a[u]=r[h]:a[u]=n(c);}}return e.pop(),r.pop(),a}function o(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return i(s,o);if(s instanceof Map)return new Map(i(Array.from(s),o));if(s instanceof Set)return new Set(i(Array.from(s),o));var a={};e.push(s),r.push(a);for(var u in s){var c=s[u];if(typeof c!="object"||c===null)a[u]=c;else if(c instanceof Date)a[u]=new Date(c);else if(c instanceof Map)a[u]=new Map(i(Array.from(c),o));else if(c instanceof Set)a[u]=new Set(i(Array.from(c),o));else if(ArrayBuffer.isView(c))a[u]=Qr(c);else {var h=e.indexOf(c);h!==-1?a[u]=r[h]:a[u]=o(c);}}return e.pop(),r.pop(),a}}});var Fd=M((ok,jd)=>{v();m();_();jd.exports=Dd()();});var $d=M(Yr=>{v();m();_();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.validateTopics=Yr.validateTopic=void 0;function Wd(t){let e=t.split("/");for(let r=0;r<e.length;r++)if(e[r]!=="+"){if(e[r]==="#")return r===e.length-1;if(e[r].indexOf("+")!==-1||e[r].indexOf("#")!==-1)return !1}return !0}Yr.validateTopic=Wd;function l1(t){if(t.length===0)return "empty_topic_list";for(let e=0;e<t.length;e++)if(!Wd(t[e]))return t[e];return null}Yr.validateTopics=l1;});var Zo=M(Xo=>{v();m();_();Object.defineProperty(Xo,"__esModule",{value:!0});var u1=Dt(),f1={objectMode:!0},c1={clean:!0},Jo=class{constructor(e){this.options=e||{},this.options=Object.assign(Object.assign({},c1),e),this._inflights=new Map;}put(e,r){return this._inflights.set(e.messageId,e),r&&r(),this}createStream(){let e=new u1.Readable(f1),r=[],i=!1,n=0;return this._inflights.forEach((o,s)=>{r.push(o);}),e._read=()=>{!i&&n<r.length?e.push(r[n++]):e.push(null);},e.destroy=o=>{if(!i)return i=!0,setTimeout(()=>{e.emit("close");},0),e},e}del(e,r){let i=this._inflights.get(e.messageId);return i?(this._inflights.delete(e.messageId),r(null,i)):r&&r(new Error("missing packet")),this}get(e,r){let i=this._inflights.get(e.messageId);return i?r(null,i):r&&r(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e();}};Xo.default=Jo;});var Vd=M(ea=>{v();m();_();Object.defineProperty(ea,"__esModule",{value:!0});var Hd=[0,16,128,131,135,144,145,151,153],h1=(t,e,r)=>{t.log("handlePublish: packet %o",e),r=typeof r<"u"?r:t.noop;let i=e.topic.toString(),n=e.payload,{qos:o}=e,{messageId:s}=e,{options:a}=t;if(t.options.protocolVersion===5){let u;if(e.properties&&(u=e.properties.topicAlias),typeof u<"u")if(i.length===0)if(u>0&&u<=65535){let c=t.topicAliasRecv.getTopicByAlias(u);if(c)i=c,t.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,u);else {t.log("handlePublish :: unregistered topic alias. alias: %d",u),t.emit("error",new Error("Received unregistered Topic Alias"));return}}else {t.log("handlePublish :: topic alias out of range. alias: %d",u),t.emit("error",new Error("Received Topic Alias is out of range"));return}else if(t.topicAliasRecv.put(i,u))t.log("handlePublish :: registered topic: %s - alias: %d",i,u);else {t.log("handlePublish :: topic alias out of range. alias: %d",u),t.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(t.log("handlePublish: qos %d",o),o){case 2:{a.customHandleAcks(i,n,e,(u,c)=>{if(typeof u=="number"&&(c=u,u=null),u)return t.emit("error",u);if(Hd.indexOf(c)===-1)return t.emit("error",new Error("Wrong reason code for pubrec"));c?t._sendPacket({cmd:"pubrec",messageId:s,reasonCode:c},r):t.incomingStore.put(e,()=>{t._sendPacket({cmd:"pubrec",messageId:s},r);});});break}case 1:{a.customHandleAcks(i,n,e,(u,c)=>{if(typeof u=="number"&&(c=u,u=null),u)return t.emit("error",u);if(Hd.indexOf(c)===-1)return t.emit("error",new Error("Wrong reason code for puback"));c||t.emit("message",i,n,e),t.handleMessage(e,h=>{if(h)return r&&r(h);t._sendPacket({cmd:"puback",messageId:s,reasonCode:c},r);});});break}case 0:t.emit("message",i,n,e),t.handleMessage(e,r);break;default:t.log("handlePublish: unknown QoS. Doing nothing.");break}};ea.default=h1;});var Jr=M(Wt=>{v();m();_();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.nextTick=Wt.applyMixin=Wt.ErrorWithReasonCode=void 0;var ta=class t extends Error{constructor(e,r){super(e),this.code=r,Object.setPrototypeOf(this,t.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode";}};Wt.ErrorWithReasonCode=ta;function d1(t,e,r=!1){var i;let n=[e];for(;;){let o=n[0],s=Object.getPrototypeOf(o);if(s?.prototype)n.unshift(s);else break}for(let o of n)for(let s of Object.getOwnPropertyNames(o.prototype))(r||s!=="constructor")&&Object.defineProperty(t.prototype,s,(i=Object.getOwnPropertyDescriptor(o.prototype,s))!==null&&i!==void 0?i:Object.create(null));}Wt.applyMixin=d1;Wt.nextTick=typeof(P===null||P===void 0?void 0:P.nextTick)=="function"?P.nextTick:t=>{setTimeout(t,0);};});var Ai=M(br=>{v();m();_();Object.defineProperty(br,"__esModule",{value:!0});br.ReasonCodes=void 0;br.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var p1=(t,e)=>{let{messageId:r}=e,i=e.cmd,n=null,o=t.outgoing[r]?t.outgoing[r].cb:null,s;if(!o){t.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(t.log("_handleAck :: packet type",i),i){case"pubcomp":case"puback":{let a=e.reasonCode;a&&a>0&&a!==16?(s=new Error(`Publish error: ${br.ReasonCodes[a]}`),s.code=a,t._removeOutgoingAndStoreMessage(r,()=>{o(s,e);})):t._removeOutgoingAndStoreMessage(r,o);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:r};let a=e.reasonCode;a&&a>0&&a!==16?(s=new Error(`Publish error: ${br.ReasonCodes[a]}`),s.code=a,t._removeOutgoingAndStoreMessage(r,()=>{o(s,e);})):t._sendPacket(n);break}case"suback":{delete t.outgoing[r],t.messageIdProvider.deallocate(r);let a=e.granted;for(let u=0;u<a.length;u++)if(a[u]&128){let c=t.messageIdToTopic[r];c&&c.forEach(h=>{delete t._resubscribeTopics[h];});}delete t.messageIdToTopic[r],t._invokeStoreProcessingQueue(),o(null,e);break}case"unsuback":{delete t.outgoing[r],t.messageIdProvider.deallocate(r),t._invokeStoreProcessingQueue(),o(null);break}default:t.emit("error",new Error("unrecognized packet type"));}t.disconnecting&&Object.keys(t.outgoing).length===0&&t.emit("outgoingEmpty");};br.default=p1;});var Kd=M(ra=>{v();m();_();Object.defineProperty(ra,"__esModule",{value:!0});var zd=Jr(),g1=Ai(),y1=(t,e)=>{let{options:r}=t,i=r.protocolVersion,n=i===5?e.reasonCode:e.returnCode;if(i!==5){let o=new zd.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${i}`,n);t.emit("error",o);return}t.handleAuth(e,(o,s)=>{if(o){t.emit("error",o);return}if(n===24)t.reconnecting=!1,t._sendPacket(s);else {let a=new zd.ErrorWithReasonCode(`Connection refused: ${g1.ReasonCodes[n]}`,n);t.emit("error",a);}});};ra.default=y1;});var Xd=M(kn=>{v();m();_();Object.defineProperty(kn,"__esModule",{value:!0});kn.LRUCache=void 0;var Ii=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Qd=new Set,ia=typeof P=="object"&&P?P:{},Yd=(t,e,r,i)=>{typeof ia.emitWarning=="function"?ia.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`);},On=globalThis.AbortController,Gd=globalThis.AbortSignal;if(typeof On>"u"){Gd=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n);}},On=class{constructor(){e();}signal=new Gd;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i);}}};let t=ia.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,Yd("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e));};}var b1=t=>!Qd.has(t),$t=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Jd=t=>$t(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Xr:null:null,Xr=class extends Array{constructor(e){super(e),this.fill(0);}},na=class t{heap;length;static#l=!1;static create(e){let r=Jd(e);if(!r)return [];t.#l=!0;let i=new t(e,r);return t.#l=!1,i}constructor(e,r){if(!t.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0;}push(e){this.heap[this.length++]=e;}pop(){return this.heap[--this.length]}},sa=class t{#l;#c;#p;#g;#B;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#n;#r;#e;#u;#h;#a;#s;#b;#o;#E;#S;#w;#_;#I;#f;static unsafeExposeInternals(e){return {starts:e.#S,ttls:e.#w,sizes:e.#E,keyMap:e.#n,keyList:e.#r,valList:e.#e,next:e.#u,prev:e.#h,get head(){return e.#a},get tail(){return e.#s},free:e.#b,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,i,n,o)=>e.#k(r,i,n,o),moveToTail:r=>e.#C(r),indexes:r=>e.#m(r),rindexes:r=>e.#v(r),isStale:r=>e.#d(r)}}get max(){return this.#l}get maxSize(){return this.#c}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#B}get dispose(){return this.#p}get disposeAfter(){return this.#g}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:a,allowStale:u,dispose:c,disposeAfter:h,noDisposeOnSet:d,noUpdateTTL:g,maxSize:y=0,maxEntrySize:w=0,sizeCalculation:E,fetchMethod:S,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:U,ignoreFetchAbort:N}=e;if(r!==0&&!$t(r))throw new TypeError("max option must be a nonnegative integer");let W=r?Jd(r):Array;if(!W)throw new Error("invalid max value: "+r);if(this.#l=r,this.#c=y,this.maxEntrySize=w||this.#c,this.sizeCalculation=E,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#B=S,this.#I=!!S,this.#n=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#u=new W(r),this.#h=new W(r),this.#a=0,this.#s=0,this.#b=na.create(r),this.#i=0,this.#y=0,typeof c=="function"&&(this.#p=c),typeof h=="function"?(this.#g=h,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#_=!!this.#p,this.#f=!!this.#g,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!U,this.ignoreFetchAbort=!!N,this.maxEntrySize!==0){if(this.#c!==0&&!$t(this.#c))throw new TypeError("maxSize must be a positive integer if specified");if(!$t(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#q();}if(this.allowStale=!!u,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!a,this.ttlResolution=$t(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!$t(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#x();}if(this.#l===0&&this.ttl===0&&this.#c===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#c){let K="LRU_CACHE_UNBOUNDED";b1(K)&&(Qd.add(K),Yd("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",K,t));}}getRemainingTTL(e){return this.#n.has(e)?1/0:0}#x(){let e=new Xr(this.#l),r=new Xr(this.#l);this.#w=e,this.#S=r,this.#M=(o,s,a=Ii.now())=>{if(r[o]=s!==0?a:0,e[o]=s,s!==0&&this.ttlAutopurge){let u=setTimeout(()=>{this.#d(o)&&this.delete(this.#r[o]);},s+1);u.unref&&u.unref();}},this.#T=o=>{r[o]=e[o]!==0?Ii.now():0;},this.#A=(o,s)=>{if(e[s]){let a=e[s],u=r[s];o.ttl=a,o.start=u,o.now=i||n();let c=o.now-u;o.remainingTTL=a-c;}};let i=0,n=()=>{let o=Ii.now();if(this.ttlResolution>0){i=o;let s=setTimeout(()=>i=0,this.ttlResolution);s.unref&&s.unref();}return o};this.getRemainingTTL=o=>{let s=this.#n.get(o);if(s===void 0)return 0;let a=e[s],u=r[s];if(a===0||u===0)return 1/0;let c=(i||n())-u;return a-c},this.#d=o=>e[o]!==0&&r[o]!==0&&(i||n())-r[o]>e[o];}#T=()=>{};#A=()=>{};#M=()=>{};#d=()=>!1;#q(){let e=new Xr(this.#l);this.#y=0,this.#E=e,this.#R=r=>{this.#y-=e[r],e[r]=0;},this.#L=(r,i,n,o)=>{if(this.#t(i))return 0;if(!$t(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,r),!$t(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#P=(r,i,n)=>{if(e[r]=i,this.#c){let o=this.#c-e[r];for(;this.#y>o;)this.#O(!0);}this.#y+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#y);};}#R=e=>{};#P=(e,r,i)=>{};#L=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#m({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#s;!(!this.#U(r)||((e||!this.#d(r))&&(yield r),r===this.#a));)r=this.#h[r];}*#v({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#a;!(!this.#U(r)||((e||!this.#d(r))&&(yield r),r===this.#s));)r=this.#u[r];}#U(e){return e!==void 0&&this.#n.get(this.#r[e])===e}*entries(){for(let e of this.#m())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*rentries(){for(let e of this.#v())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*keys(){for(let e of this.#m()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*rkeys(){for(let e of this.#v()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*values(){for(let e of this.#m())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}*rvalues(){for(let e of this.#v())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.#m()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;if(o!==void 0&&e(o,this.#r[i],this))return this.get(this.#r[i],r)}}forEach(e,r=this){for(let i of this.#m()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this);}}rforEach(e,r=this){for(let i of this.#v()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this);}}purgeStale(){let e=!1;for(let r of this.#v({allowStale:!0}))this.#d(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#m({allowStale:!0})){let i=this.#r[r],n=this.#e[r],o=this.#t(n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;let s={value:o};if(this.#w&&this.#S){s.ttl=this.#w[r];let a=Ii.now()-this.#S[r];s.start=Math.floor(Date.now()-a);}this.#E&&(s.size=this.#E[r]),e.unshift([i,s]);}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=Ii.now()-n;}this.set(r,i.value,i);}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:o,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:u}=i,{noUpdateTTL:c=this.noUpdateTTL}=i,h=this.#L(e,r,i.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),this.delete(e),this;let d=this.#i===0?void 0:this.#n.get(e);if(d===void 0)d=this.#i===0?this.#s:this.#b.length!==0?this.#b.pop():this.#i===this.#l?this.#O(!1):this.#i,this.#r[d]=e,this.#e[d]=r,this.#n.set(e,d),this.#u[this.#s]=d,this.#h[d]=this.#s,this.#s=d,this.#i++,this.#P(d,h,u),u&&(u.set="add"),c=!1;else {this.#C(d);let g=this.#e[d];if(r!==g){if(this.#I&&this.#t(g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:y}=g;y!==void 0&&!s&&(this.#_&&this.#p?.(y,e,"set"),this.#f&&this.#o?.push([y,e,"set"]));}else s||(this.#_&&this.#p?.(g,e,"set"),this.#f&&this.#o?.push([g,e,"set"]));if(this.#R(d),this.#P(d,h,u),this.#e[d]=r,u){u.set="replace";let y=g&&this.#t(g)?g.__staleWhileFetching:g;y!==void 0&&(u.oldValue=y);}}else u&&(u.set="update");}if(n!==0&&!this.#w&&this.#x(),this.#w&&(c||this.#M(d,n,o),u&&this.#A(u,d)),!s&&this.#f&&this.#o){let g=this.#o,y;for(;y=g?.shift();)this.#g?.(...y);}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#a];if(this.#O(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#f&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#g?.(...r);}}}#O(e){let r=this.#a,i=this.#r[r],n=this.#e[r];return this.#I&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#_||this.#f)&&(this.#_&&this.#p?.(n,i,"evict"),this.#f&&this.#o?.push([n,i,"evict"])),this.#R(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#b.push(r)),this.#i===1?(this.#a=this.#s=0,this.#b.length=0):this.#a=this.#u[r],this.#n.delete(i),this.#i--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,o=this.#n.get(e);if(o!==void 0){let s=this.#e[o];if(this.#t(s)&&s.__staleWhileFetching===void 0)return !1;if(this.#d(o))n&&(n.has="stale",this.#A(n,o));else return i&&this.#T(o),n&&(n.has="hit",this.#A(n,o)),!0}else n&&(n.has="miss");return !1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#n.get(e);if(n!==void 0&&(i||!this.#d(n))){let o=this.#e[n];return this.#t(o)?o.__staleWhileFetching:o}}#k(e,r,i,n){let o=r===void 0?void 0:this.#e[r];if(this.#t(o))return o;let s=new On,{signal:a}=i;a?.addEventListener("abort",()=>s.abort(a.reason),{signal:s.signal});let u={signal:s.signal,options:i,context:n},c=(E,S=!1)=>{let{aborted:I}=s.signal,C=i.ignoreFetchAbort&&E!==void 0;if(i.status&&(I&&!S?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,C&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),I&&!C&&!S)return d(s.signal.reason);let R=y;return this.#e[r]===y&&(E===void 0?R.__staleWhileFetching?this.#e[r]=R.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,E,u.options))),E},h=E=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=E),d(E)),d=E=>{let{aborted:S}=s.signal,I=S&&i.allowStaleOnFetchAbort,C=I||i.allowStaleOnFetchRejection,R=C||i.noDeleteOnFetchRejection,U=y;if(this.#e[r]===y&&(!R||U.__staleWhileFetching===void 0?this.delete(e):I||(this.#e[r]=U.__staleWhileFetching)),C)return i.status&&U.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),U.__staleWhileFetching;if(U.__returned===U)throw E},g=(E,S)=>{let I=this.#B?.(e,o,u);I&&I instanceof Promise&&I.then(C=>E(C===void 0?void 0:C),S),s.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(E(void 0),i.allowStaleOnFetchAbort&&(E=C=>c(C,!0)));});};i.status&&(i.status.fetchDispatched=!0);let y=new Promise(g).then(c,h),w=Object.assign(y,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,w,{...u.options,status:void 0}),r=this.#n.get(e)):this.#e[r]=w,w}#t(e){if(!this.#I)return !1;let r=e;return !!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof On}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:u=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:w=this.allowStaleOnFetchAbort,context:E,forceRefresh:S=!1,status:I,signal:C}=r;if(!this.#I)return I&&(I.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:I});let R={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:a,size:u,sizeCalculation:c,noUpdateTTL:h,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:w,ignoreFetchAbort:y,status:I,signal:C},U=this.#n.get(e);if(U===void 0){I&&(I.fetch="miss");let N=this.#k(e,U,R,E);return N.__returned=N}else {let N=this.#e[U];if(this.#t(N)){let de=i&&N.__staleWhileFetching!==void 0;return I&&(I.fetch="inflight",de&&(I.returnedStale=!0)),de?N.__staleWhileFetching:N.__returned=N}let W=this.#d(U);if(!S&&!W)return I&&(I.fetch="hit"),this.#C(U),n&&this.#T(U),I&&this.#A(I,U),N;let K=this.#k(e,U,R,E),Q=K.__staleWhileFetching!==void 0&&i;return I&&(I.fetch=W?"stale":"refresh",Q&&W&&(I.returnedStale=!0)),Q?K.__staleWhileFetching:K.__returned=K}}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=r,a=this.#n.get(e);if(a!==void 0){let u=this.#e[a],c=this.#t(u);return s&&this.#A(s,a),this.#d(a)?(s&&(s.get="stale"),c?(s&&i&&u.__staleWhileFetching!==void 0&&(s.returnedStale=!0),i?u.__staleWhileFetching:void 0):(o||this.delete(e),s&&i&&(s.returnedStale=!0),i?u:void 0)):(s&&(s.get="hit"),c?u.__staleWhileFetching:(this.#C(a),n&&this.#T(a),u))}else s&&(s.get="miss");}#N(e,r){this.#h[r]=e,this.#u[e]=r;}#C(e){e!==this.#s&&(e===this.#a?this.#a=this.#u[e]:this.#N(this.#h[e],this.#u[e]),this.#N(this.#s,e),this.#s=e);}delete(e){let r=!1;if(this.#i!==0){let i=this.#n.get(e);if(i!==void 0)if(r=!0,this.#i===1)this.clear();else {this.#R(i);let n=this.#e[i];this.#t(n)?n.__abortController.abort(new Error("deleted")):(this.#_||this.#f)&&(this.#_&&this.#p?.(n,e,"delete"),this.#f&&this.#o?.push([n,e,"delete"])),this.#n.delete(e),this.#r[i]=void 0,this.#e[i]=void 0,i===this.#s?this.#s=this.#h[i]:i===this.#a?this.#a=this.#u[i]:(this.#u[this.#h[i]]=this.#u[i],this.#h[this.#u[i]]=this.#h[i]),this.#i--,this.#b.push(i);}}if(this.#f&&this.#o?.length){let i=this.#o,n;for(;n=i?.shift();)this.#g?.(...n);}return r}clear(){for(let e of this.#v({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else {let i=this.#r[e];this.#_&&this.#p?.(r,i,"delete"),this.#f&&this.#o?.push([r,i,"delete"]);}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#w&&this.#S&&(this.#w.fill(0),this.#S.fill(0)),this.#E&&this.#E.fill(0),this.#a=0,this.#s=0,this.#b.length=0,this.#y=0,this.#i=0,this.#f&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#g?.(...r);}}};kn.LRUCache=sa;});var at=M(Ht=>{v();m();_();Object.defineProperty(Ht,"t",{value:!0});Ht.ContainerIterator=Ht.Container=Ht.Base=void 0;var oa=class{constructor(e=0){this.iteratorType=e;}equals(e){return this.o===e.o}};Ht.ContainerIterator=oa;var xn=class{constructor(){this.i=0;}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};Ht.Base=xn;var aa=class extends xn{};Ht.Container=aa;});var Zd=M(Mn=>{v();m();_();Object.defineProperty(Mn,"t",{value:!0});Mn.default=void 0;var w1=at(),la=class extends w1.Base{constructor(e=[]){super(),this.S=[];let r=this;e.forEach(function(i){r.push(i);});}clear(){this.i=0,this.S=[];}push(e){return this.S.push(e),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},_1=la;Mn.default=_1;});var ep=M(Ln=>{v();m();_();Object.defineProperty(Ln,"t",{value:!0});Ln.default=void 0;var m1=at(),ua=class extends m1.Base{constructor(e=[]){super(),this.j=0,this.q=[];let r=this;e.forEach(function(i){r.push(i);});}clear(){this.q=[],this.i=this.j=0;}push(e){let r=this.q.length;if(this.j/r>.5&&this.j+this.i>=r&&r>4096){let i=this.i;for(let n=0;n<i;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=e;}else this.q[this.j+this.i]=e;return ++this.i}pop(){if(this.i===0)return;let e=this.q[this.j++];return this.i-=1,e}front(){if(this.i!==0)return this.q[this.j]}},v1=ua;Ln.default=v1;});var tp=M(Un=>{v();m();_();Object.defineProperty(Un,"t",{value:!0});Un.default=void 0;var E1=at(),fa=class extends E1.Base{constructor(e=[],r=function(n,o){return n>o?-1:n<o?1:0},i=!0){if(super(),this.v=r,Array.isArray(e))this.C=i?[...e]:e;else {this.C=[];let o=this;e.forEach(function(s){o.C.push(s);});}this.i=this.C.length;let n=this.i>>1;for(let o=this.i-1>>1;o>=0;--o)this.k(o,n);}m(e){let r=this.C[e];for(;e>0;){let i=e-1>>1,n=this.C[i];if(this.v(n,r)<=0)break;this.C[e]=n,e=i;}this.C[e]=r;}k(e,r){let i=this.C[e];for(;e<r;){let n=e<<1|1,o=n+1,s=this.C[n];if(o<this.i&&this.v(s,this.C[o])>0&&(n=o,s=this.C[o]),this.v(s,i)>=0)break;this.C[e]=s,e=n;}this.C[e]=i;}clear(){this.i=0,this.C.length=0;}push(e){this.C.push(e),this.m(this.i),this.i+=1;}pop(){if(this.i===0)return;let e=this.C[0],r=this.C.pop();return this.i-=1,this.i&&(this.C[0]=r,this.k(0,this.i>>1)),e}top(){return this.C[0]}find(e){return this.C.indexOf(e)>=0}remove(e){let r=this.C.indexOf(e);return r<0?!1:(r===0?this.pop():r===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(r,1,this.C.pop()),this.i-=1,this.m(r),this.k(r,this.i>>1)),!0)}updateItem(e){let r=this.C.indexOf(e);return r<0?!1:(this.m(r),this.k(r,this.i>>1),!0)}toArray(){return [...this.C]}},S1=fa;Un.default=S1;});var qn=M(Nn=>{v();m();_();Object.defineProperty(Nn,"t",{value:!0});Nn.default=void 0;var A1=at(),ca=class extends A1.Container{},I1=ca;Nn.default=I1;});var lt=M(ha=>{v();m();_();Object.defineProperty(ha,"t",{value:!0});ha.throwIteratorAccessError=T1;function T1(){throw new RangeError("Iterator access denied!")}});var pa=M(jn=>{v();m();_();Object.defineProperty(jn,"t",{value:!0});jn.RandomIterator=void 0;var R1=at(),Dn=lt(),da=class extends R1.ContainerIterator{constructor(e,r){super(r),this.o=e,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0, Dn.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0, Dn.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0, Dn.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0, Dn.throwIteratorAccessError)(),this.o-=1,this});}get pointer(){return this.container.getElementByPos(this.o)}set pointer(e){this.container.setElementByPos(this.o,e);}};jn.RandomIterator=da;});var rp=M(Fn=>{v();m();_();Object.defineProperty(Fn,"t",{value:!0});Fn.default=void 0;var C1=P1(qn()),B1=pa();function P1(t){return t&&t.t?t:{default:t}}var wr=class t extends B1.RandomIterator{constructor(e,r,i){super(e,i),this.container=r;}copy(){return new t(this.o,this.container,this.iteratorType)}},ga=class extends C1.default{constructor(e=[],r=!0){if(super(),Array.isArray(e))this.J=r?[...e]:e,this.i=e.length;else {this.J=[];let i=this;e.forEach(function(n){i.pushBack(n);});}}clear(){this.i=0,this.J.length=0;}begin(){return new wr(0,this)}end(){return new wr(this.i,this)}rBegin(){return new wr(this.i-1,this,1)}rEnd(){return new wr(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),this.i-=1,this.i}eraseElementByValue(e){let r=0;for(let i=0;i<this.i;++i)this.J[i]!==e&&(this.J[r++]=this.J[i]);return this.i=this.J.length=r,this.i}eraseElementByIterator(e){let r=e.o;return e=e.next(),this.eraseElementByPos(r),e}pushBack(e){return this.J.push(e),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;return this.J.splice(e,0,...new Array(i).fill(r)),this.i+=i,this.i}find(e){for(let r=0;r<this.i;++r)if(this.J[r]===e)return new wr(r,this);return this.end()}reverse(){this.J.reverse();}unique(){let e=1;for(let r=1;r<this.i;++r)this.J[r]!==this.J[r-1]&&(this.J[e++]=this.J[r]);return this.i=this.J.length=e,this.i}sort(e){this.J.sort(e);}forEach(e){for(let r=0;r<this.i;++r)e(this.J[r],r,this);}[Symbol.iterator](){return function*(){yield*this.J;}.bind(this)()}},O1=ga;Fn.default=O1;});var ip=M(Wn=>{v();m();_();Object.defineProperty(Wn,"t",{value:!0});Wn.default=void 0;var k1=M1(qn()),x1=at(),_r=lt();function M1(t){return t&&t.t?t:{default:t}}var mr=class t extends x1.ContainerIterator{constructor(e,r,i,n){super(n),this.o=e,this.h=r,this.container=i,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0, _r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0, _r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0, _r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0, _r.throwIteratorAccessError)(),this.o=this.o.L,this});}get pointer(){return this.o===this.h&&(0, _r.throwIteratorAccessError)(),this.o.l}set pointer(e){this.o===this.h&&(0, _r.throwIteratorAccessError)(),this.o.l=e;}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},ya=class extends k1.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let r=this;e.forEach(function(i){r.pushBack(i);});}V(e){let{L:r,B:i}=e;r.B=i,i.L=r,e===this.p&&(this.p=i),e===this._&&(this._=r),this.i-=1;}G(e,r){let i=r.B,n={l:e,L:r,B:i};r.B=n,i.L=n,r===this.h&&(this.p=n),i===this.h&&(this._=n),this.i+=1;}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h;}begin(){return new mr(this.p,this.h,this)}end(){return new mr(this.h,this.h,this)}rBegin(){return new mr(this._,this.h,this,1)}rEnd(){return new mr(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return r.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return this.V(r),this.i}eraseElementByValue(e){let r=this.p;for(;r!==this.h;)r.l===e&&this.V(r),r=r.B;return this.i}eraseElementByIterator(e){let r=e.o;return r===this.h&&(0, _r.throwIteratorAccessError)(),e=e.next(),this.V(r),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;i.l=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;if(i<=0)return this.i;if(e===0)for(;i--;)this.pushFront(r);else if(e===this.i)for(;i--;)this.pushBack(r);else {let n=this.p;for(let s=1;s<e;++s)n=n.B;let o=n.B;for(this.i+=i;i--;)n.B={l:r,L:n},n.B.L=n,n=n.B;n.B=o,o.L=n;}return this.i}find(e){let r=this.p;for(;r!==this.h;){if(r.l===e)return new mr(r,this.h,this);r=r.B;}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,r=this._,i=0;for(;i<<1<this.i;){let n=e.l;e.l=r.l,r.l=n,e=e.B,r=r.L,i+=1;}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let r=e;for(;r.B!==this.h&&r.l===r.B.l;)r=r.B,this.i-=1;e.B=r.B,e.B.L=e,e=e.B;}return this.i}sort(e){if(this.i<=1)return;let r=[];this.forEach(function(n){r.push(n);}),r.sort(e);let i=this.p;r.forEach(function(n){i.l=n,i=i.B;});}merge(e){let r=this;if(this.i===0)e.forEach(function(i){r.pushBack(i);});else {let i=this.p;e.forEach(function(n){for(;i!==r.h&&i.l<=n;)i=i.B;r.G(n,i.L);});}return this.i}forEach(e){let r=this.p,i=0;for(;r!==this.h;)e(r.l,i++,this),r=r.B;}[Symbol.iterator](){return function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B;}.bind(this)()}},L1=ya;Wn.default=L1;});var np=M($n=>{v();m();_();Object.defineProperty($n,"t",{value:!0});$n.default=void 0;var U1=q1(qn()),N1=pa();function q1(t){return t&&t.t?t:{default:t}}var vr=class t extends N1.RandomIterator{constructor(e,r,i){super(e,i),this.container=r;}copy(){return new t(this.o,this.container,this.iteratorType)}},ba=class extends U1.default{constructor(e=[],r=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.size=="function")return e.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=r,this.P=Math.max(Math.ceil(i/this.F),1);for(let s=0;s<this.P;++s)this.A.push(new Array(this.F));let n=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(n>>1),this.D=this.N=this.F-i%this.F>>1;let o=this;e.forEach(function(s){o.pushBack(s);});}T(){let e=[],r=Math.max(this.P>>1,1);for(let i=0;i<r;++i)e[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)e[e.length]=this.A[i];for(let i=0;i<this.R;++i)e[e.length]=this.A[i];e[e.length]=[...this.A[this.R]],this.j=r,this.R=e.length-1;for(let i=0;i<r;++i)e[e.length]=new Array(this.F);this.A=e,this.P=e.length;}O(e){let r=this.D+e+1,i=r%this.F,n=i-1,o=this.j+(r-i)/this.F;return i===0&&(o-=1),o%=this.P,n<0&&(n+=this.F),{curNodeBucketIndex:o,curNodePointerIndex:n}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1;}begin(){return new vr(0,this)}end(){return new vr(this.i,this)}rBegin(){return new vr(this.i-1,this,1)}rEnd(){return new vr(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(e){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}popBack(){if(this.i===0)return;let e=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,e}pushFront(e){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}popFront(){if(this.i===0)return;let e=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,e}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:r,curNodePointerIndex:i}=this.O(e);return this.A[r][i]}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:n}=this.O(e);this.A[i][n]=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;if(e===0)for(;i--;)this.pushFront(r);else if(e===this.i)for(;i--;)this.pushBack(r);else {let n=[];for(let o=e;o<this.i;++o)n.push(this.getElementByPos(o));this.cut(e-1);for(let o=0;o<i;++o)this.pushBack(r);for(let o=0;o<n.length;++o)this.pushBack(n[o]);}return this.i}cut(e){if(e<0)return this.clear(),0;let{curNodeBucketIndex:r,curNodePointerIndex:i}=this.O(e);return this.R=r,this.N=i,this.i=e+1,this.i}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;if(e===0)this.popFront();else if(e===this.i-1)this.popBack();else {let r=[];for(let n=e+1;n<this.i;++n)r.push(this.getElementByPos(n));this.cut(e),this.popBack();let i=this;r.forEach(function(n){i.pushBack(n);});}return this.i}eraseElementByValue(e){if(this.i===0)return 0;let r=[];for(let n=0;n<this.i;++n){let o=this.getElementByPos(n);o!==e&&r.push(o);}let i=r.length;for(let n=0;n<i;++n)this.setElementByPos(n,r[n]);return this.cut(i-1)}eraseElementByIterator(e){let r=e.o;return this.eraseElementByPos(r),e=e.next(),e}find(e){for(let r=0;r<this.i;++r)if(this.getElementByPos(r)===e)return new vr(r,this);return this.end()}reverse(){let e=0,r=this.i-1;for(;e<r;){let i=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(r)),this.setElementByPos(r,i),e+=1,r-=1;}}unique(){if(this.i<=1)return this.i;let e=1,r=this.getElementByPos(0);for(let i=1;i<this.i;++i){let n=this.getElementByPos(i);n!==r&&(r=n,this.setElementByPos(e++,n));}for(;this.i>e;)this.popBack();return this.i}sort(e){let r=[];for(let i=0;i<this.i;++i)r.push(this.getElementByPos(i));r.sort(e);for(let i=0;i<this.i;++i)this.setElementByPos(i,r[i]);}shrinkToFit(){if(this.i===0)return;let e=[];this.forEach(function(r){e.push(r);}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let r=0;r<this.P;++r)this.A.push(new Array(this.F));for(let r=0;r<e.length;++r)this.pushBack(e[r]);}forEach(e){for(let r=0;r<this.i;++r)e(this.getElementByPos(r),r,this);}[Symbol.iterator](){return function*(){for(let e=0;e<this.i;++e)yield this.getElementByPos(e);}.bind(this)()}},D1=ba;$n.default=D1;});var sp=M(Zr=>{v();m();_();Object.defineProperty(Zr,"t",{value:!0});Zr.TreeNodeEnableIndex=Zr.TreeNode=void 0;var Hn=class{constructor(e,r){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=e,this.l=r;}L(){let e=this;if(e.ee===1&&e.tt.tt===e)e=e.W;else if(e.U)for(e=e.U;e.W;)e=e.W;else {let r=e.tt;for(;r.U===e;)e=r,r=e.tt;e=r;}return e}B(){let e=this;if(e.W){for(e=e.W;e.U;)e=e.U;return e}else {let r=e.tt;for(;r.W===e;)e=r,r=e.tt;return e.W!==r?r:e}}te(){let e=this.tt,r=this.W,i=r.U;return e.tt===this?e.tt=r:e.U===this?e.U=r:e.W=r,r.tt=e,r.U=this,this.tt=r,this.W=i,i&&(i.tt=this),r}se(){let e=this.tt,r=this.U,i=r.W;return e.tt===this?e.tt=r:e.U===this?e.U=r:e.W=r,r.tt=e,r.W=this,this.tt=r,this.U=i,i&&(i.tt=this),r}};Zr.TreeNode=Hn;var wa=class extends Hn{constructor(){super(...arguments),this.rt=1;}te(){let e=super.te();return this.ie(),e.ie(),e}se(){let e=super.se();return this.ie(),e.ie(),e}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt);}};Zr.TreeNodeEnableIndex=wa;});var ma=M(Vn=>{v();m();_();Object.defineProperty(Vn,"t",{value:!0});Vn.default=void 0;var op=sp(),j1=at(),ap=lt(),_a=class extends j1.Container{constructor(e=function(i,n){return i<n?-1:i>n?1:0},r=!1){super(),this.Y=void 0,this.v=e,r?(this.re=op.TreeNodeEnableIndex,this.M=function(i,n,o){let s=this.ne(i,n,o);if(s){let a=s.tt;for(;a!==this.h;)a.rt+=1,a=a.tt;let u=this.he(s);if(u){let{parentNode:c,grandParent:h,curNode:d}=u;c.ie(),h.ie(),d.ie();}}return this.i},this.V=function(i){let n=this.fe(i);for(;n!==this.h;)n.rt-=1,n=n.tt;}):(this.re=op.TreeNode,this.M=function(i,n,o){let s=this.ne(i,n,o);return s&&this.he(s),this.i},this.V=this.fe),this.h=new this.re;}X(e,r){let i=this.h;for(;e;){let n=this.v(e.u,r);if(n<0)e=e.W;else if(n>0)i=e,e=e.U;else return e}return i}Z(e,r){let i=this.h;for(;e;)this.v(e.u,r)<=0?e=e.W:(i=e,e=e.U);return i}$(e,r){let i=this.h;for(;e;){let n=this.v(e.u,r);if(n<0)i=e,e=e.W;else if(n>0)e=e.U;else return e}return i}rr(e,r){let i=this.h;for(;e;)this.v(e.u,r)<0?(i=e,e=e.W):e=e.U;return i}ue(e){for(;;){let r=e.tt;if(r===this.h)return;if(e.ee===1){e.ee=0;return}if(e===r.U){let i=r.W;if(i.ee===1)i.ee=0,r.ee=1,r===this.Y?this.Y=r.te():r.te();else if(i.W&&i.W.ee===1){i.ee=r.ee,r.ee=0,i.W.ee=0,r===this.Y?this.Y=r.te():r.te();return}else i.U&&i.U.ee===1?(i.ee=1,i.U.ee=0,i.se()):(i.ee=1,e=r);}else {let i=r.U;if(i.ee===1)i.ee=0,r.ee=1,r===this.Y?this.Y=r.se():r.se();else if(i.U&&i.U.ee===1){i.ee=r.ee,r.ee=0,i.U.ee=0,r===this.Y?this.Y=r.se():r.se();return}else i.W&&i.W.ee===1?(i.ee=1,i.W.ee=0,i.te()):(i.ee=1,e=r);}}}fe(e){if(this.i===1)return this.clear(),this.h;let r=e;for(;r.U||r.W;){if(r.W)for(r=r.W;r.U;)r=r.U;else r=r.U;[e.u,r.u]=[r.u,e.u],[e.l,r.l]=[r.l,e.l],e=r;}this.h.U===r?this.h.U=r.tt:this.h.W===r&&(this.h.W=r.tt),this.ue(r);let i=r.tt;return r===i.U?i.U=void 0:i.W=void 0,this.i-=1,this.Y.ee=0,i}oe(e,r){return e===void 0?!1:this.oe(e.U,r)||r(e)?!0:this.oe(e.W,r)}he(e){for(;;){let r=e.tt;if(r.ee===0)return;let i=r.tt;if(r===i.U){let n=i.W;if(n&&n.ee===1){if(n.ee=r.ee=0,i===this.Y)return;i.ee=1,e=i;continue}else if(e===r.W){if(e.ee=0,e.U&&(e.U.tt=r),e.W&&(e.W.tt=i),r.W=e.U,i.U=e.W,e.U=r,e.W=i,i===this.Y)this.Y=e,this.h.tt=e;else {let o=i.tt;o.U===i?o.U=e:o.W=e;}return e.tt=i.tt,r.tt=e,i.tt=e,i.ee=1,{parentNode:r,grandParent:i,curNode:e}}else r.ee=0,i===this.Y?this.Y=i.se():i.se(),i.ee=1;}else {let n=i.U;if(n&&n.ee===1){if(n.ee=r.ee=0,i===this.Y)return;i.ee=1,e=i;continue}else if(e===r.U){if(e.ee=0,e.U&&(e.U.tt=i),e.W&&(e.W.tt=r),i.W=e.U,r.U=e.W,e.U=i,e.W=r,i===this.Y)this.Y=e,this.h.tt=e;else {let o=i.tt;o.U===i?o.U=e:o.W=e;}return e.tt=i.tt,r.tt=e,i.tt=e,i.ee=1,{parentNode:r,grandParent:i,curNode:e}}else r.ee=0,i===this.Y?this.Y=i.te():i.te(),i.ee=1;}return}}ne(e,r,i){if(this.Y===void 0){this.i+=1,this.Y=new this.re(e,r),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let n,o=this.h.U,s=this.v(o.u,e);if(s===0){o.l=r;return}else if(s>0)o.U=new this.re(e,r),o.U.tt=o,n=o.U,this.h.U=n;else {let a=this.h.W,u=this.v(a.u,e);if(u===0){a.l=r;return}else if(u<0)a.W=new this.re(e,r),a.W.tt=a,n=a.W,this.h.W=n;else {if(i!==void 0){let c=i.o;if(c!==this.h){let h=this.v(c.u,e);if(h===0){c.l=r;return}else if(h>0){let d=c.L(),g=this.v(d.u,e);if(g===0){d.l=r;return}else g<0&&(n=new this.re(e,r),d.W===void 0?(d.W=n,n.tt=d):(c.U=n,n.tt=c));}}}if(n===void 0)for(n=this.Y;;){let c=this.v(n.u,e);if(c>0){if(n.U===void 0){n.U=new this.re(e,r),n.U.tt=n,n=n.U;break}n=n.U;}else if(c<0){if(n.W===void 0){n.W=new this.re(e,r),n.W.tt=n,n=n.W;break}n=n.W;}else {n.l=r;return}}}}return this.i+=1,n}I(e,r){for(;e;){let i=this.v(e.u,r);if(i<0)e=e.W;else if(i>0)e=e.U;else return e}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0;}updateKeyByIterator(e,r){let i=e.o;if(i===this.h&&(0, ap.throwIteratorAccessError)(),this.i===1)return i.u=r,!0;if(i===this.h.U)return this.v(i.B().u,r)>0?(i.u=r,!0):!1;if(i===this.h.W)return this.v(i.L().u,r)<0?(i.u=r,!0):!1;let n=i.L().u;if(this.v(n,r)>=0)return !1;let o=i.B().u;return this.v(o,r)<=0?!1:(i.u=r,!0)}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=0,i=this;return this.oe(this.Y,function(n){return e===r?(i.V(n),!0):(r+=1,!1)}),this.i}eraseElementByKey(e){if(this.i===0)return !1;let r=this.I(this.Y,e);return r===this.h?!1:(this.V(r),!0)}eraseElementByIterator(e){let r=e.o;r===this.h&&(0, ap.throwIteratorAccessError)();let i=r.W===void 0;return e.iteratorType===0?i&&e.next():(!i||r.U===void 0)&&e.next(),this.V(r),e}forEach(e){let r=0;for(let i of this)e(i,r++,this);}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r,i=0;for(let n of this){if(i===e){r=n;break}i+=1;}return r}getHeight(){if(this.i===0)return 0;let e=function(r){return r?Math.max(e(r.U),e(r.W))+1:0};return e(this.Y)}},F1=_a;Vn.default=F1;});var Ea=M(Kn=>{v();m();_();Object.defineProperty(Kn,"t",{value:!0});Kn.default=void 0;var W1=at(),zn=lt(),va=class extends W1.ContainerIterator{constructor(e,r,i){super(i),this.o=e,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0, zn.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0, zn.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0, zn.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0, zn.throwIteratorAccessError)(),this.o=this.o.L(),this});}get index(){let e=this.o,r=this.h.tt;if(e===this.h)return r?r.rt-1:0;let i=0;for(e.U&&(i+=e.U.rt);e!==r;){let n=e.tt;e===n.W&&(i+=1,n.U&&(i+=n.U.rt)),e=n;}return i}},$1=va;Kn.default=$1;});var up=M(Gn=>{v();m();_();Object.defineProperty(Gn,"t",{value:!0});Gn.default=void 0;var H1=lp(ma()),V1=lp(Ea()),z1=lt();function lp(t){return t&&t.t?t:{default:t}}var Ke=class t extends V1.default{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){return this.o===this.h&&(0, z1.throwIteratorAccessError)(),this.o.u}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Sa=class extends H1.default{constructor(e=[],r,i){super(r,i);let n=this;e.forEach(function(o){n.insert(o);});}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W));}begin(){return new Ke(this.h.U||this.h,this.h,this)}end(){return new Ke(this.h,this.h,this)}rBegin(){return new Ke(this.h.W||this.h,this.h,this,1)}rEnd(){return new Ke(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,r){return this.M(e,void 0,r)}find(e){let r=this.I(this.Y,e);return new Ke(r,this.h,this)}lowerBound(e){let r=this.X(this.Y,e);return new Ke(r,this.h,this)}upperBound(e){let r=this.Z(this.Y,e);return new Ke(r,this.h,this)}reverseLowerBound(e){let r=this.$(this.Y,e);return new Ke(r,this.h,this)}reverseUpperBound(e){let r=this.rr(this.Y,e);return new Ke(r,this.h,this)}union(e){let r=this;return e.forEach(function(i){r.insert(i);}),this.i}[Symbol.iterator](){return this.K(this.Y)}},K1=Sa;Gn.default=K1;});var cp=M(Qn=>{v();m();_();Object.defineProperty(Qn,"t",{value:!0});Qn.default=void 0;var G1=fp(ma()),Q1=fp(Ea()),Y1=lt();function fp(t){return t&&t.t?t:{default:t}}var Ge=class t extends Q1.default{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){this.o===this.h&&(0, Y1.throwIteratorAccessError)();let e=this;return new Proxy([],{get(r,i){if(i==="0")return e.o.u;if(i==="1")return e.o.l},set(r,i,n){if(i!=="1")throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Aa=class extends G1.default{constructor(e=[],r,i){super(r,i);let n=this;e.forEach(function(o){n.setElement(o[0],o[1]);});}*K(e){e!==void 0&&(yield*this.K(e.U),yield [e.u,e.l],yield*this.K(e.W));}begin(){return new Ge(this.h.U||this.h,this.h,this)}end(){return new Ge(this.h,this.h,this)}rBegin(){return new Ge(this.h.W||this.h,this.h,this,1)}rEnd(){return new Ge(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return [e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return [e.u,e.l]}lowerBound(e){let r=this.X(this.Y,e);return new Ge(r,this.h,this)}upperBound(e){let r=this.Z(this.Y,e);return new Ge(r,this.h,this)}reverseLowerBound(e){let r=this.$(this.Y,e);return new Ge(r,this.h,this)}reverseUpperBound(e){let r=this.rr(this.Y,e);return new Ge(r,this.h,this)}setElement(e,r,i){return this.M(e,r,i)}find(e){let r=this.I(this.Y,e);return new Ge(r,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let r=this;return e.forEach(function(i){r.setElement(i[0],i[1]);}),this.i}[Symbol.iterator](){return this.K(this.Y)}},J1=Aa;Qn.default=J1;});var Ta=M(Ia=>{v();m();_();Object.defineProperty(Ia,"t",{value:!0});Ia.default=X1;function X1(t){let e=typeof t;return e==="object"&&t!==null||e==="function"}});var Pa=M(ei=>{v();m();_();Object.defineProperty(ei,"t",{value:!0});ei.HashContainerIterator=ei.HashContainer=void 0;var hp=at(),Ra=Z1(Ta()),Ti=lt();function Z1(t){return t&&t.t?t:{default:t}}var Ca=class extends hp.ContainerIterator{constructor(e,r,i){super(i),this.o=e,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0, Ti.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0, Ti.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0, Ti.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0, Ti.throwIteratorAccessError)(),this.o=this.o.L,this});}};ei.HashContainerIterator=Ca;var Ba=class extends hp.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h;}V(e){let{L:r,B:i}=e;r.B=i,i.L=r,e===this.p&&(this.p=i),e===this._&&(this._=r),this.i-=1;}M(e,r,i){i===void 0&&(i=(0, Ra.default)(e));let n;if(i){let o=e[this.HASH_TAG];if(o!==void 0)return this.H[o].l=r,this.i;Object.defineProperty(e,this.HASH_TAG,{value:this.H.length,configurable:!0}),n={u:e,l:r,L:this._,B:this.h},this.H.push(n);}else {let o=this.g[e];if(o)return o.l=r,this.i;n={u:e,l:r,L:this._,B:this.h},this.g[e]=n;}return this.i===0?(this.p=n,this.h.B=n):this._.B=n,this._=n,this.h.L=n,++this.i}I(e,r){if(r===void 0&&(r=(0, Ra.default)(e)),r){let i=e[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[e]||this.h}clear(){let e=this.HASH_TAG;this.H.forEach(function(r){delete r.u[e];}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h;}eraseElementByKey(e,r){let i;if(r===void 0&&(r=(0, Ra.default)(e)),r){let n=e[this.HASH_TAG];if(n===void 0)return !1;delete e[this.HASH_TAG],i=this.H[n],delete this.H[n];}else {if(i=this.g[e],i===void 0)return !1;delete this.g[e];}return this.V(i),!0}eraseElementByIterator(e){let r=e.o;return r===this.h&&(0, Ti.throwIteratorAccessError)(),this.V(r),e.next()}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return this.V(r),this.i}};ei.HashContainer=Ba;});var pp=M(Yn=>{v();m();_();Object.defineProperty(Yn,"t",{value:!0});Yn.default=void 0;var dp=Pa(),ev=lt(),Er=class t extends dp.HashContainerIterator{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){return this.o===this.h&&(0, ev.throwIteratorAccessError)(),this.o.u}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Oa=class extends dp.HashContainer{constructor(e=[]){super();let r=this;e.forEach(function(i){r.insert(i);});}begin(){return new Er(this.p,this.h,this)}end(){return new Er(this.h,this.h,this)}rBegin(){return new Er(this._,this.h,this,1)}rEnd(){return new Er(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,r){return this.M(e,void 0,r)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return r.u}find(e,r){let i=this.I(e,r);return new Er(i,this.h,this)}forEach(e){let r=0,i=this.p;for(;i!==this.h;)e(i.u,r++,this),i=i.B;}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B;}.bind(this)()}},tv=Oa;Yn.default=tv;});var yp=M(Jn=>{v();m();_();Object.defineProperty(Jn,"t",{value:!0});Jn.default=void 0;var gp=Pa(),rv=nv(Ta()),iv=lt();function nv(t){return t&&t.t?t:{default:t}}var Sr=class t extends gp.HashContainerIterator{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){this.o===this.h&&(0, iv.throwIteratorAccessError)();let e=this;return new Proxy([],{get(r,i){if(i==="0")return e.o.u;if(i==="1")return e.o.l},set(r,i,n){if(i!=="1")throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},ka=class extends gp.HashContainer{constructor(e=[]){super();let r=this;e.forEach(function(i){r.setElement(i[0],i[1]);});}begin(){return new Sr(this.p,this.h,this)}end(){return new Sr(this.h,this.h,this)}rBegin(){return new Sr(this._,this.h,this,1)}rEnd(){return new Sr(this.h,this.h,this,1)}front(){if(this.i!==0)return [this.p.u,this.p.l]}back(){if(this.i!==0)return [this._.u,this._.l]}setElement(e,r,i){return this.M(e,r,i)}getElementByKey(e,r){if(r===void 0&&(r=(0, rv.default)(e)),r){let n=e[this.HASH_TAG];return n!==void 0?this.H[n].l:void 0}let i=this.g[e];return i?i.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return [r.u,r.l]}find(e,r){let i=this.I(e,r);return new Sr(i,this.h,this)}forEach(e){let r=0,i=this.p;for(;i!==this.h;)e([i.u,i.l],r++,this),i=i.B;}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield [e.u,e.l],e=e.B;}.bind(this)()}},sv=ka;Jn.default=sv;});var bp=M(je=>{v();m();_();Object.defineProperty(je,"t",{value:!0});Object.defineProperty(je,"Deque",{enumerable:!0,get:function(){return cv.default}});Object.defineProperty(je,"HashMap",{enumerable:!0,get:function(){return gv.default}});Object.defineProperty(je,"HashSet",{enumerable:!0,get:function(){return pv.default}});Object.defineProperty(je,"LinkList",{enumerable:!0,get:function(){return fv.default}});Object.defineProperty(je,"OrderedMap",{enumerable:!0,get:function(){return dv.default}});Object.defineProperty(je,"OrderedSet",{enumerable:!0,get:function(){return hv.default}});Object.defineProperty(je,"PriorityQueue",{enumerable:!0,get:function(){return lv.default}});Object.defineProperty(je,"Queue",{enumerable:!0,get:function(){return av.default}});Object.defineProperty(je,"Stack",{enumerable:!0,get:function(){return ov.default}});Object.defineProperty(je,"Vector",{enumerable:!0,get:function(){return uv.default}});var ov=ut(Zd()),av=ut(ep()),lv=ut(tp()),uv=ut(rp()),fv=ut(ip()),cv=ut(np()),hv=ut(up()),dv=ut(cp()),pv=ut(pp()),gv=ut(yp());function ut(t){return t&&t.t?t:{default:t}}});var _p=M((mN,wp)=>{v();m();_();var yv=bp().OrderedSet,ft=ot()("number-allocator:trace"),bv=ot()("number-allocator:error");function Te(t,e){this.low=t,this.high=e;}Te.prototype.equals=function(t){return this.low===t.low&&this.high===t.high};Te.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function ct(t,e){if(!(this instanceof ct))return new ct(t,e);this.min=t,this.max=e,this.ss=new yv([],(r,i)=>r.compare(i)),ft("Create"),this.clear();}ct.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low};ct.prototype.alloc=function(){if(this.ss.size()===0)return ft("alloc():empty"),null;let t=this.ss.begin(),e=t.pointer.low,r=t.pointer.high,i=e;return i+1<=r?this.ss.updateKeyByIterator(t,new Te(e+1,r)):this.ss.eraseElementByPos(0),ft("alloc():"+i),i};ct.prototype.use=function(t){let e=new Te(t,t),r=this.ss.lowerBound(e);if(!r.equals(this.ss.end())){let i=r.pointer.low,n=r.pointer.high;return r.pointer.equals(e)?(this.ss.eraseElementByIterator(r),ft("use():"+t),!0):i>t?!1:i===t?(this.ss.updateKeyByIterator(r,new Te(i+1,n)),ft("use():"+t),!0):n===t?(this.ss.updateKeyByIterator(r,new Te(i,n-1)),ft("use():"+t),!0):(this.ss.updateKeyByIterator(r,new Te(t+1,n)),this.ss.insert(new Te(i,t-1)),ft("use():"+t),!0)}return ft("use():failed"),!1};ct.prototype.free=function(t){if(t<this.min||t>this.max){bv("free():"+t+" is out of range");return}let e=new Te(t,t),r=this.ss.upperBound(e);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin())){this.ss.insert(e);return}r.pre();let i=r.pointer.high;r.pointer.high+1===t?this.ss.updateKeyByIterator(r,new Te(i,t)):this.ss.insert(e);}else if(r.equals(this.ss.begin()))if(t+1===r.pointer.low){let i=r.pointer.high;this.ss.updateKeyByIterator(r,new Te(t,i));}else this.ss.insert(e);else {let i=r.pointer.low,n=r.pointer.high;r.pre();let o=r.pointer.low;r.pointer.high+1===t?t+1===i?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new Te(o,n))):this.ss.updateKeyByIterator(r,new Te(o,t)):t+1===i?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new Te(t,n))):this.ss.insert(e);}ft("free():"+t);};ct.prototype.clear=function(){ft("clear()"),this.ss.clear(),this.ss.insert(new Te(this.min,this.max));};ct.prototype.intervalCount=function(){return this.ss.size()};ct.prototype.dump=function(){console.log("length:"+this.ss.size());for(let t of this.ss)console.log(t);};wp.exports=ct;});var xa=M((PN,mp)=>{v();m();_();var wv=_p();mp.exports.NumberAllocator=wv;});var vp=M(La=>{v();m();_();Object.defineProperty(La,"__esModule",{value:!0});var _v=Xd(),mv=xa(),Ma=class{constructor(e){e>0&&(this.aliasToTopic=new _v.LRUCache({max:e}),this.topicToAlias={},this.numberAllocator=new mv.NumberAllocator(1,e),this.max=e,this.length=0);}put(e,r){if(r===0||r>this.max)return !1;let i=this.aliasToTopic.get(r);return i&&delete this.topicToAlias[i],this.aliasToTopic.set(r,e),this.topicToAlias[e]=r,this.numberAllocator.use(r),this.length=this.aliasToTopic.size,!0}getTopicByAlias(e){return this.aliasToTopic.get(e)}getAliasByTopic(e){let r=this.topicToAlias[e];return typeof r<"u"&&this.aliasToTopic.get(r),r}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0;}getLruAlias(){let e=this.numberAllocator.firstVacant();return e||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};La.default=Ma;});var Ep=M(Ri=>{v();m();_();var vv=Ri&&Ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});var Ev=Ai(),Sv=vv(vp()),Av=Jr(),Iv=(t,e)=>{t.log("_handleConnack");let{options:r}=t,n=r.protocolVersion===5?e.reasonCode:e.returnCode;if(clearTimeout(t.connackTimer),delete t.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535){t.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}e.properties.topicAliasMaximum>0&&(t.topicAliasSend=new Sv.default(e.properties.topicAliasMaximum));}e.properties.serverKeepAlive&&r.keepalive&&(r.keepalive=e.properties.serverKeepAlive,t._shiftPingInterval()),e.properties.maximumPacketSize&&(r.properties||(r.properties={}),r.properties.maximumPacketSize=e.properties.maximumPacketSize);}if(n===0)t.reconnecting=!1,t._onConnect(e);else if(n>0){let o=new Av.ErrorWithReasonCode(`Connection refused: ${Ev.ReasonCodes[n]}`,n);t.emit("error",o);}};Ri.default=Iv;});var Sp=M(Ua=>{v();m();_();Object.defineProperty(Ua,"__esModule",{value:!0});var Tv=(t,e,r)=>{t.log("handling pubrel packet");let i=typeof r<"u"?r:t.noop,{messageId:n}=e,o={cmd:"pubcomp",messageId:n};t.incomingStore.get(e,(s,a)=>{s?t._sendPacket(o,i):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,u=>{if(u)return i(u);t.incomingStore.del(a,t.noop),t._sendPacket(o,i);}));});};Ua.default=Tv;});var Ap=M(Ci=>{v();m();_();var Bi=Ci&&Ci.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});var Rv=Bi(Vd()),Cv=Bi(Kd()),Bv=Bi(Ep()),Pv=Bi(Ai()),Ov=Bi(Sp()),kv=(t,e,r)=>{let{options:i}=t;if(i.protocolVersion===5&&i.properties&&i.properties.maximumPacketSize&&i.properties.maximumPacketSize<e.length)return t.emit("error",new Error(`exceeding packets size ${e.cmd}`)),t.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),t;switch(t.log("_handlePacket :: emitting packetreceive"),t.emit("packetreceive",e),e.cmd){case"publish":(0, Rv.default)(t,e,r);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0, Pv.default)(t,e),r();break;case"pubrel":(0, Ov.default)(t,e,r);break;case"connack":(0, Bv.default)(t,e),r();break;case"auth":(0, Cv.default)(t,e),r();break;case"pingresp":t.pingResp=!0,r();break;case"disconnect":t.emit("disconnect",e),r();break;default:t.log("_handlePacket :: unknown command"),r();break}};Ci.default=kv;});var Ip=M(ti=>{v();m();_();var xv=ti&&ti.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ti,"__esModule",{value:!0});ti.TypedEventEmitter=void 0;var Mv=xv((ir(),X(rr))),Lv=Jr(),Xn=class{};ti.TypedEventEmitter=Xn;(0, Lv.applyMixin)(Xn,Mv.default);});var Pi=M(Ar=>{v();m();_();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.isReactNativeBrowser=Ar.isWebWorker=void 0;var Uv=()=>typeof window<"u"&&typeof window.document<"u",Tp=()=>{var t,e;return !!(typeof self=="object"&&(!((e=(t=self?.constructor)===null||t===void 0?void 0:t.name)===null||e===void 0)&&e.includes("WorkerGlobalScope")))},Rp=()=>typeof B<"u"&&B.product==="ReactNative",Nv=Uv()||Tp()||Rp();Ar.isWebWorker=Tp();Ar.isReactNativeBrowser=Rp();Ar.default=Nv;});var Bp=M((Zn,Cp)=>{v();m();_();(function(t,e){typeof Zn=="object"&&typeof Cp<"u"?e(Zn):typeof define=="function"&&__webpack_require__.amdO?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.fastUniqueNumbers={}));})(Zn,function(t){var e=function(g){return function(y){var w=g(y);return y.add(w),w}},r=function(g){return function(y,w){return g.set(y,w),w}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,o=n*2,s=function(g,y){return function(w){var E=y.get(w),S=E===void 0?w.size:E<o?E+1:0;if(!w.has(S))return g(w,S);if(w.size<n){for(;w.has(S);)S=Math.floor(Math.random()*o);return g(w,S)}if(w.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;w.has(S);)S=Math.floor(Math.random()*i);return g(w,S)}},a=new WeakMap,u=r(a),c=s(u,a),h=e(c);t.addUniqueNumber=h,t.generateUniqueNumber=c;});});var Op=M((es,Pp)=>{v();m();_();(function(t,e){typeof es=="object"&&typeof Pp<"u"?e(es,Bp()):typeof define=="function"&&__webpack_require__.amdO?define(["exports","fast-unique-numbers"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.workerTimersBroker={},t.fastUniqueNumbers));})(es,function(t,e){var r=function(s){return s.method!==void 0&&s.method==="call"},i=function(s){return s.error===null&&typeof s.id=="number"},n=function(s){var a=new Map([[0,function(){}]]),u=new Map([[0,function(){}]]),c=new Map,h=new Worker(s);h.addEventListener("message",function(E){var S=E.data;if(r(S)){var I=S.params,C=I.timerId,R=I.timerType;if(R==="interval"){var U=a.get(C);if(typeof U=="number"){var N=c.get(U);if(N===void 0||N.timerId!==C||N.timerType!==R)throw new Error("The timer is in an undefined state.")}else if(typeof U<"u")U();else throw new Error("The timer is in an undefined state.")}else if(R==="timeout"){var W=u.get(C);if(typeof W=="number"){var K=c.get(W);if(K===void 0||K.timerId!==C||K.timerType!==R)throw new Error("The timer is in an undefined state.")}else if(typeof W<"u")W(),u.delete(C);else throw new Error("The timer is in an undefined state.")}}else if(i(S)){var z=S.id,Q=c.get(z);if(Q===void 0)throw new Error("The timer is in an undefined state.");var de=Q.timerId,Gt=Q.timerType;c.delete(z),Gt==="interval"?a.delete(de):u.delete(de);}else {var pe=S.error.message;throw new Error(pe)}});var d=function(S){var I=e.generateUniqueNumber(c);c.set(I,{timerId:S,timerType:"interval"}),a.set(S,I),h.postMessage({id:I,method:"clear",params:{timerId:S,timerType:"interval"}});},g=function(S){var I=e.generateUniqueNumber(c);c.set(I,{timerId:S,timerType:"timeout"}),u.set(S,I),h.postMessage({id:I,method:"clear",params:{timerId:S,timerType:"timeout"}});},y=function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=e.generateUniqueNumber(a);return a.set(C,function(){S(),typeof a.get(C)=="function"&&h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"interval"}});}),h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"interval"}}),C},w=function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=e.generateUniqueNumber(u);return u.set(C,S),h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"timeout"}}),C};return {clearInterval:d,clearTimeout:g,setInterval:y,setTimeout:w}};t.load=n;});});var xp=M((ts,kp)=>{v();m();_();(function(t,e){typeof ts=="object"&&typeof kp<"u"?e(ts,Op()):typeof define=="function"&&__webpack_require__.amdO?define(["exports","worker-timers-broker"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.workerTimers={},t.workerTimersBroker));})(ts,function(t,e){var r=function(h,d){var g=null;return function(){if(g!==null)return g;var y=new Blob([d],{type:"application/javascript; charset=utf-8"}),w=URL.createObjectURL(y);return g=h(w),setTimeout(function(){return URL.revokeObjectURL(w)}),g}},i=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,n=r(e.load,i),o=function(h){return n().clearInterval(h)},s=function(h){return n().clearTimeout(h)},a=function(){var h;return (h=n()).setInterval.apply(h,arguments)},u=function(){var h;return (h=n()).setTimeout.apply(h,arguments)};t.clearInterval=o,t.clearTimeout=s,t.setInterval=a,t.setTimeout=u;});});var Np=M(Rt=>{v();m();_();var qv=Rt&&Rt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),Dv=Rt&&Rt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),jv=Rt&&Rt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qv(e,t,r);return Dv(e,t),e};Object.defineProperty(Rt,"__esModule",{value:!0});var Na=jv(Pi()),Mp=xp(),Lp={set:Mp.setTimeout,clear:Mp.clearTimeout},Up={set:(t,e)=>setTimeout(t,e),clear:t=>clearTimeout(t)},Fv=t=>{switch(t){case"native":return Up;case"worker":return Lp;case"auto":default:return Na.default&&!Na.isWebWorker&&!Na.isReactNativeBrowser?Lp:Up}};Rt.default=Fv;});var Da=M(Oi=>{v();m();_();var Wv=Oi&&Oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});var $v=Wv(Np()),qa=class{constructor(e,r,i){this.keepalive=e*1e3,this.checkPing=r,this.timer=(0, $v.default)(i),this.reschedule();}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null);}reschedule(){this.clear(),this.timerId=this.timer.set(()=>{this.checkPing(),this.timerId&&this.reschedule();},this.keepalive);}};Oi.default=qa;});var ns=M(Qe=>{v();m();_();var Hv=Qe&&Qe.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),Vv=Qe&&Qe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),Wp=Qe&&Qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hv(e,t,r);return Vv(e,t),e},Vt=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qe,"__esModule",{value:!0});var zv=Vt(Gu()),ja=Vt(Nd()),Kv=Vt(Yo()),Gv=Dt(),qp=Vt(Fd()),Dp=Wp($d()),Qv=Vt(ot()),rs=Vt(Zo()),Yv=Vt(Ap()),Wa=Jr(),Jv=Ip(),Xv=Vt(Da()),jp=Wp(Pi()),Fa=globalThis.setImmediate||((...t)=>{let e=t.shift();(0, Wa.nextTick)(()=>{e(...t);});}),Fp={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},is=class t extends Jv.TypedEventEmitter{static defaultId(){return `mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(e,r){super(),this.options=r||{};for(let i in Fp)typeof this.options[i]>"u"?this.options[i]=Fp[i]:this.options[i]=r[i];this.log=this.options.log||(0, Qv.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",t.VERSION),jp.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",jp.default?"browser":"node"),this.log("MqttClient :: options.protocol",r.protocol),this.log("MqttClient :: options.protocolVersion",r.protocolVersion),this.log("MqttClient :: options.username",r.username),this.log("MqttClient :: options.keepalive",r.keepalive),this.log("MqttClient :: options.reconnectPeriod",r.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",r.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",r.properties?r.properties.topicAliasMaximum:void 0),this.options.clientId=typeof r.clientId=="string"?r.clientId:t.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=r.protocolVersion===5&&r.customHandleAcks?r.customHandleAcks:(...i)=>{i[3](null,0);},this.options.writeCache||(ja.default.writeToStream.cacheNumbers=!1),this.streamBuilder=e,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new Kv.default:this.options.messageIdProvider,this.outgoingStore=r.outgoingStore||new rs.default,this.incomingStore=r.incomingStore||new rs.default,this.queueQoSZero=r.queueQoSZero===void 0?!0:r.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,r.properties&&r.properties.topicAliasMaximum>0&&(r.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new zv.default(r.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:i}=this,n=()=>{let o=i.shift();this.log("deliver :: entry %o",o);let s=null;if(!o){this._resubscribe();return}s=o.packet,this.log("deliver :: call _sendPacket for %o",s);let a=!0;s.messageId&&s.messageId!==0&&(this.messageIdProvider.register(s.messageId)||(a=!1)),a?this._sendPacket(s,u=>{o.cb&&o.cb(u),n();}):(this.log("messageId: %d has already used. The message is skipped and removed.",s.messageId),n());};this.log("connect :: sending queued packets"),n();}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect();}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect());}handleAuth(e,r){r();}handleMessage(e,r){r();}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var e;let r=new Gv.Writable,i=ja.default.parser(this.options),n=null,o=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),i.on("packet",h=>{this.log("parser :: on packet push to packets array."),o.push(h);});let s=()=>{this.log("work :: getting next packet in queue");let h=o.shift();if(h)this.log("work :: packet pulled from queue"),(0, Yv.default)(this,h,a);else {this.log("work :: no packets in queue");let d=n;n=null,this.log("work :: done flag is %s",!!d),d&&d();}},a=()=>{if(o.length)(0, Wa.nextTick)(s);else {let h=n;n=null,h();}};r._write=(h,d,g)=>{n=g,this.log("writable stream :: parsing buffer"),i.parse(h),s();};let u=h=>{this.log("streamErrorHandler :: error",h.message),h.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",h)):this.noop(h);};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(r),this.stream.on("error",u),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close");}),this.log("connect: sending packet `connect`");let c={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(c.will=Object.assign(Object.assign({},this.options.will),{payload:(e=this.options.will)===null||e===void 0?void 0:e.payload})),this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(c),i.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let h=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(h);}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0);},this.options.connectTimeout),this}publish(e,r,i,n){this.log("publish :: message `%s` to topic `%s`",r,e);let{options:o}=this;typeof i=="function"&&(n=i,i=null),i=i||{},i=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),i);let{qos:a,retain:u,dup:c,properties:h,cbStorePut:d}=i;if(this._checkDisconnecting(n))return this;let g=()=>{let y=0;if((a===1||a===2)&&(y=this._nextId(),y===null))return this.log("No messageId left"),!1;let w={cmd:"publish",topic:e,payload:r,qos:a,retain:u,messageId:y,dup:c};switch(o.protocolVersion===5&&(w.properties=h),this.log("publish :: qos",a),a){case 1:case 2:this.outgoing[w.messageId]={volatile:!1,cb:n||this.noop},this.log("MqttClient:publish: packet cmd: %s",w.cmd),this._sendPacket(w,void 0,d);break;default:this.log("MqttClient:publish: packet cmd: %s",w.cmd),this._sendPacket(w,n,d);break}return !0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!g())&&this._storeProcessingQueue.push({invoke:g,cbStorePut:i.cbStorePut,callback:n}),this}publishAsync(e,r,i){return new Promise((n,o)=>{this.publish(e,r,i,(s,a)=>{s?o(s):n(a);});})}subscribe(e,r,i){let n=this.options.protocolVersion;typeof r=="function"&&(i=r),i=i||this.noop;let o=!1,s=[];typeof e=="string"?(e=[e],s=e):Array.isArray(e)?s=e:typeof e=="object"&&(o=e.resubscribe,delete e.resubscribe,s=Object.keys(e));let a=Dp.validateTopics(s);if(a!==null)return Fa(i,new Error(`Invalid topic ${a}`)),this;if(this._checkDisconnecting(i))return this.log("subscribe: discconecting true"),this;let u={qos:0};n===5&&(u.nl=!1,u.rap=!1,u.rh=0),r=Object.assign(Object.assign({},u),r);let c=r.properties,h=[],d=(y,w)=>{if(w=w||r,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,y)||this._resubscribeTopics[y].qos<w.qos||o){let E={topic:y,qos:w.qos};n===5&&(E.nl=w.nl,E.rap=w.rap,E.rh=w.rh,E.properties=c),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",E.topic,E.qos),h.push(E);}};if(Array.isArray(e)?e.forEach(y=>{this.log("subscribe: array topic %s",y),d(y);}):Object.keys(e).forEach(y=>{this.log("subscribe: object topic %s, %o",y,e[y]),d(y,e[y]);}),!h.length)return i(null,[]),this;let g=()=>{let y=this._nextId();if(y===null)return this.log("No messageId left"),!1;let w={cmd:"subscribe",subscriptions:h,messageId:y};if(c&&(w.properties=c),this.options.resubscribe){this.log("subscribe :: resubscribe true");let E=[];h.forEach(S=>{if(this.options.reconnectPeriod>0){let I={qos:S.qos};n===5&&(I.nl=S.nl||!1,I.rap=S.rap||!1,I.rh=S.rh||0,I.properties=S.properties),this._resubscribeTopics[S.topic]=I,E.push(S.topic);}}),this.messageIdToTopic[w.messageId]=E;}return this.outgoing[w.messageId]={volatile:!0,cb(E,S){if(!E){let{granted:I}=S;for(let C=0;C<I.length;C+=1)h[C].qos=I[C];}i(E,h);}},this.log("subscribe :: call _sendPacket"),this._sendPacket(w),!0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!g())&&this._storeProcessingQueue.push({invoke:g,callback:i}),this}subscribeAsync(e,r){return new Promise((i,n)=>{this.subscribe(e,r,(o,s)=>{o?n(o):i(s);});})}unsubscribe(e,r,i){typeof e=="string"&&(e=[e]),typeof r=="function"&&(i=r),i=i||this.noop;let n=Dp.validateTopics(e);if(n!==null)return Fa(i,new Error(`Invalid topic ${n}`)),this;if(this._checkDisconnecting(i))return this;let o=()=>{let s=this._nextId();if(s===null)return this.log("No messageId left"),!1;let a={cmd:"unsubscribe",messageId:s,unsubscriptions:[]};return typeof e=="string"?a.unsubscriptions=[e]:Array.isArray(e)&&(a.unsubscriptions=e),this.options.resubscribe&&a.unsubscriptions.forEach(u=>{delete this._resubscribeTopics[u];}),typeof r=="object"&&r.properties&&(a.properties=r.properties),this.outgoing[a.messageId]={volatile:!0,cb:i},this.log("unsubscribe: call _sendPacket"),this._sendPacket(a),!0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!o())&&this._storeProcessingQueue.push({invoke:o,callback:i}),this}unsubscribeAsync(e,r){return new Promise((i,n)=>{this.unsubscribe(e,r,(o,s)=>{o?n(o):i(s);});})}end(e,r,i){this.log("end :: (%s)",this.options.clientId),(e==null||typeof e!="boolean")&&(i=i||r,r=e,e=!1),typeof r!="object"&&(i=i||r,r=null),this.log("end :: cb? %s",!!i),(!i||typeof i!="function")&&(i=this.noop);let n=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(s=>{this.outgoingStore.close(a=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),i){let u=s||a;this.log("end :: closeStores: invoking callback with args"),i(u);}});}),this._deferredReconnect&&this._deferredReconnect();},o=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,e),this._cleanUp(e,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0, Wa.nextTick)(n);},r);};return this.disconnecting?(i(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),o()),this)}endAsync(e,r){return new Promise((i,n)=>{this.end(e,r,o=>{o?n(o):i();});})}removeOutgoingMessage(e){if(this.outgoing[e]){let{cb:r}=this.outgoing[e];this._removeOutgoingAndStoreMessage(e,()=>{r(new Error("Message removed"));});}return this}reconnect(e){this.log("client reconnect");let r=()=>{e?(this.options.incomingStore=e.incomingStore,this.options.outgoingStore=e.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new rs.default,this.outgoingStore=this.options.outgoingStore||new rs.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect();};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(e=>{this.outgoing[e].volatile&&typeof this.outgoing[e].cb=="function"&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e]);}));}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(e=>{typeof this.outgoing[e].cb=="function"&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e]);}));}_removeTopicAliasAndRecoverTopicName(e){let r;e.properties&&(r=e.properties.topicAlias);let i=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",r,i),i.length===0){if(typeof r>"u")return new Error("Unregistered Topic Alias");if(i=this.topicAliasSend.getTopicByAlias(r),typeof i>"u")return new Error("Unregistered Topic Alias");e.topic=i;}r&&delete e.properties.topicAlias;}_checkDisconnecting(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect();}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect());}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect();},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...");}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null);}_cleanUp(e,r,i={}){if(r&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",r)),this.log("_cleanUp :: forced? %s",e),e)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else {let n=Object.assign({cmd:"disconnect"},i);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(n,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),Fa(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId);});});});}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),r&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",r),r());}_storeAndSend(e,r,i){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let n=e,o;if(n.cmd==="publish"&&(n=(0, qp.default)(e),o=this._removeTopicAliasAndRecoverTopicName(n),o))return r&&r(o);this.outgoingStore.put(n,s=>{if(s)return r&&r(s);i(),this._writePacket(e,r);});}_applyTopicAlias(e){if(this.options.protocolVersion===5&&e.cmd==="publish"){let r;e.properties&&(r=e.properties.topicAlias);let i=e.topic.toString();if(this.topicAliasSend)if(r){if(i.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",i,r),!this.topicAliasSend.put(i,r)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}else i.length!==0&&(this.options.autoAssignTopicAlias?(r=this.topicAliasSend.getAliasByTopic(i),r?(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",i,r)):(r=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(i,r),e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",i,r))):this.options.autoUseTopicAlias&&(r=this.topicAliasSend.getAliasByTopic(i),r&&(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",i,r))));else if(r)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}}_noop(e){this.log("noop ::",e);}_writePacket(e,r){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");let i=ja.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",i),!i&&r&&r!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",r)):r&&(this.log("_writePacket :: invoking cb"),r());}_sendPacket(e,r,i,n){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),i=i||this.noop,r=r||this.noop;let o=this._applyTopicAlias(e);if(o){r(o);return}if(!this.connected){if(e.cmd==="auth"){this._writePacket(e,r);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(e,r,i);return}if(n){this._writePacket(e,r);return}switch(e.cmd){case"publish":break;case"pubrel":this._storeAndSend(e,r,i);return;default:this._writePacket(e,r);return}switch(e.qos){case 2:case 1:this._storeAndSend(e,r,i);break;case 0:default:this._writePacket(e,r);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId);}_storePacket(e,r,i){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!r),i=i||this.noop;let n=e;if(n.cmd==="publish"){n=(0, qp.default)(e);let s=this._removeTopicAliasAndRecoverTopicName(n);if(s)return r&&r(s)}let o=n.qos||0;o===0&&this.queueQoSZero||n.cmd!=="publish"?this.queue.push({packet:n,cb:r}):o>0?(r=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,s=>{if(s)return r&&r(s);i();})):r&&r(new Error("No connection to broker"));}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=new Xv.default(this.options.keepalive,()=>{this._checkPing();},this.options.timerVariant));}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule();}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.emit("error",new Error("Keepalive timeout")),this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0));}_resubscribe(){this.log("_resubscribe");let e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let r=0;r<e.length;r++){let i={};i[e[r]]=this._resubscribeTopics[e[r]],i.resubscribe=!0,this.subscribe(i,{properties:i[e[r]].properties});}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1;}_onConnect(e){if(this.disconnected){this.emit("connect",e);return}this.connackPacket=e,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;let r=()=>{let i=this.outgoingStore.createStream(),n=()=>{i.destroy(),i=null,this._flushStoreProcessingQueue(),o();},o=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={};};this.once("close",n),i.on("error",a=>{o(),this._flushStoreProcessingQueue(),this.removeListener("close",n),this.emit("error",a);});let s=()=>{if(!i)return;let a=i.read(1),u;if(!a){i.once("readable",s);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[a.messageId]){s();return}!this.disconnecting&&!this.reconnectTimer?(u=this.outgoing[a.messageId]?this.outgoing[a.messageId].cb:null,this.outgoing[a.messageId]={volatile:!1,cb(c,h){u&&u(c,h),s();}},this._packetIdsDuringStoreProcessing[a.messageId]=!0,this.messageIdProvider.register(a.messageId)?this._sendPacket(a,void 0,void 0,!0):this.log("messageId: %d has already used.",a.messageId)):i.destroy&&i.destroy();};i.on("end",()=>{let a=!0;for(let u in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[u]){a=!1;break}this.removeListener("close",n),a?(o(),this._invokeAllStoreProcessingQueue(),this.emit("connect",e)):r();}),s();};r();}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return !1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0);}_removeOutgoingAndStoreMessage(e,r){delete this.outgoing[e],this.outgoingStore.del({messageId:e},(i,n)=>{r(i,n),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue();});}};is.VERSION="5.5.2";Qe.default=is;});var $p=M(Ha=>{v();m();_();Object.defineProperty(Ha,"__esModule",{value:!0});var Zv=xa(),$a=class{constructor(){this.numberAllocator=new Zv.NumberAllocator(1,65535);}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(e){return this.numberAllocator.use(e)}deallocate(e){this.numberAllocator.free(e);}clear(){this.numberAllocator.clear();}};Ha.default=$a;});function Ir(t){throw new RangeError(iE[t])}function Hp(t,e){let r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]);let n=function(o,s){let a=[],u=o.length;for(;u--;)a[u]=s(o[u]);return a}((t=t.replace(rE,".")).split("."),e).join(".");return i+n}function Gp(t){let e=[],r=0,i=t.length;for(;r<i;){let n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){let o=t.charCodeAt(r++);(64512&o)==56320?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),r--);}else e.push(n);}return e}var eE,tE,rE,iE,ht,Va,Vp,Qp,zp,Kp,zt,Yp=we(()=>{v();m();_();eE=/^xn--/,tE=/[^\0-\x7E]/,rE=/[\x2E\u3002\uFF0E\uFF61]/g,iE={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ht=Math.floor,Va=String.fromCharCode;Vp=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Qp=function(t,e,r){let i=0;for(t=r?ht(t/700):t>>1,t+=ht(t/e);t>455;i+=36)t=ht(t/35);return ht(i+36*t/(t+38))},zp=function(t){let e=[],r=t.length,i=0,n=128,o=72,s=t.lastIndexOf("-");s<0&&(s=0);for(let u=0;u<s;++u)t.charCodeAt(u)>=128&&Ir("not-basic"),e.push(t.charCodeAt(u));for(let u=s>0?s+1:0;u<r;){let c=i;for(let d=1,g=36;;g+=36){u>=r&&Ir("invalid-input");let y=(a=t.charCodeAt(u++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(y>=36||y>ht((2147483647-i)/d))&&Ir("overflow"),i+=y*d;let w=g<=o?1:g>=o+26?26:g-o;if(y<w)break;let E=36-w;d>ht(2147483647/E)&&Ir("overflow"),d*=E;}let h=e.length+1;o=Qp(i-c,h,c==0),ht(i/h)>2147483647-n&&Ir("overflow"),n+=ht(i/h),i%=h,e.splice(i++,0,n);}var a;return String.fromCodePoint(...e)},Kp=function(t){let e=[],r=(t=Gp(t)).length,i=128,n=0,o=72;for(let u of t)u<128&&e.push(Va(u));let s=e.length,a=s;for(s&&e.push("-");a<r;){let u=2147483647;for(let h of t)h>=i&&h<u&&(u=h);let c=a+1;u-i>ht((2147483647-n)/c)&&Ir("overflow"),n+=(u-i)*c,i=u;for(let h of t)if(h<i&&++n>2147483647&&Ir("overflow"),h==i){let d=n;for(let g=36;;g+=36){let y=g<=o?1:g>=o+26?26:g-o;if(d<y)break;let w=d-y,E=36-y;e.push(Va(Vp(y+w%E,0))),d=ht(w/E);}e.push(Va(Vp(d,0))),o=Qp(n,c,a==s),n=0,++a;}++n,++i;}return e.join("")},zt={version:"2.1.0",ucs2:{decode:Gp,encode:t=>String.fromCodePoint(...t)},decode:zp,encode:Kp,toASCII:function(t){return Hp(t,function(e){return tE.test(e)?"xn--"+Kp(e):e})},toUnicode:function(t){return Hp(t,function(e){return eE.test(e)?zp(e.slice(4).toLowerCase()):e})}};zt.decode;zt.encode;zt.toASCII;zt.toUnicode;zt.ucs2;zt.version;});function nE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var sE,ki,oE,dt,Jp=we(()=>{v();m();_();sE=function(t,e,r,i){e=e||"&",r=r||"=";var n={};if(typeof t!="string"||t.length===0)return n;var o=/\+/g;t=t.split(e);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,h,d,g,y=t[u].replace(o,"%20"),w=y.indexOf(r);w>=0?(c=y.substr(0,w),h=y.substr(w+1)):(c=y,h=""),d=decodeURIComponent(c),g=decodeURIComponent(h),nE(n,d)?Array.isArray(n[d])?n[d].push(g):n[d]=[n[d],g]:n[d]=g;}return n},ki=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return ""}},oE=function(t,e,r,i){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(n){var o=encodeURIComponent(ki(n))+r;return Array.isArray(t[n])?t[n].map(function(s){return o+encodeURIComponent(ki(s))}).join(e):o+encodeURIComponent(ki(t[n]))}).join(e):i?encodeURIComponent(ki(i))+r+encodeURIComponent(ki(t)):""},dt={};dt.decode=dt.parse=sE,dt.encode=dt.stringify=oE;dt.decode;dt.encode;dt.parse;dt.stringify;});function za(){throw new Error("setTimeout has not been defined")}function Ka(){throw new Error("clearTimeout has not been defined")}function eg(t){if(Bt===setTimeout)return setTimeout(t,0);if((Bt===za||!Bt)&&setTimeout)return Bt=setTimeout,setTimeout(t,0);try{return Bt(t,0)}catch{try{return Bt.call(null,t,0)}catch{return Bt.call(this||ii,t,0)}}}function aE(){ri&&Tr&&(ri=!1,Tr.length?Ot=Tr.concat(Ot):ss=-1,Ot.length&&tg());}function tg(){if(!ri){var t=eg(aE);ri=!0;for(var e=Ot.length;e;){for(Tr=Ot,Ot=[];++ss<e;)Tr&&Tr[ss].run();ss=-1,e=Ot.length;}Tr=null,ri=!1,function(r){if(Pt===clearTimeout)return clearTimeout(r);if((Pt===Ka||!Pt)&&clearTimeout)return Pt=clearTimeout,clearTimeout(r);try{Pt(r);}catch{try{return Pt.call(null,r)}catch{return Pt.call(this||ii,r)}}}(t);}}function Xp(t,e){(this||ii).fun=t,(this||ii).array=e;}function Ct(){}var Zp,Bt,Pt,ii,fe,Tr,Ot,ri,ss,ne,rg=we(()=>{v();m();_();ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:__webpack_require__.g,fe=Zp={};(function(){try{Bt=typeof setTimeout=="function"?setTimeout:za;}catch{Bt=za;}try{Pt=typeof clearTimeout=="function"?clearTimeout:Ka;}catch{Pt=Ka;}})();Ot=[],ri=!1,ss=-1;fe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ot.push(new Xp(t,e)),Ot.length!==1||ri||eg(tg);},Xp.prototype.run=function(){(this||ii).fun.apply(null,(this||ii).array);},fe.title="browser",fe.browser=!0,fe.env={},fe.argv=[],fe.version="",fe.versions={},fe.on=Ct,fe.addListener=Ct,fe.once=Ct,fe.off=Ct,fe.removeListener=Ct,fe.removeAllListeners=Ct,fe.emit=Ct,fe.prependListener=Ct,fe.prependOnceListener=Ct,fe.listeners=function(t){return []},fe.binding=function(t){throw new Error("process.binding is not supported")},fe.cwd=function(){return "/"},fe.chdir=function(t){throw new Error("process.chdir is not supported")},fe.umask=function(){return 0};ne=Zp;ne.addListener;ne.argv;ne.binding;ne.browser;ne.chdir;ne.cwd;ne.emit;ne.env;ne.listeners;ne.nextTick;ne.off;ne.on;ne.once;ne.prependListener;ne.prependOnceListener;ne.removeAllListeners;ne.removeListener;ne.title;ne.umask;ne.version;ne.versions;});function lE(){if(ig)return Ga;ig=!0;var t=Ga={},e,r;function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i;}catch{e=i;}try{typeof clearTimeout=="function"?r=clearTimeout:r=n;}catch{r=n;}})();function o(E){if(e===setTimeout)return setTimeout(E,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(E,0);try{return e(E,0)}catch{try{return e.call(null,E,0)}catch{return e.call(this||ni,E,0)}}}function s(E){if(r===clearTimeout)return clearTimeout(E);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(E);try{return r(E)}catch{try{return r.call(null,E)}catch{return r.call(this||ni,E)}}}var a=[],u=!1,c,h=-1;function d(){!u||!c||(u=!1,c.length?a=c.concat(a):h=-1,a.length&&g());}function g(){if(!u){var E=o(d);u=!0;for(var S=a.length;S;){for(c=a,a=[];++h<S;)c&&c[h].run();h=-1,S=a.length;}c=null,u=!1,s(E);}}t.nextTick=function(E){var S=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)S[I-1]=arguments[I];a.push(new y(E,S)),a.length===1&&!u&&o(g);};function y(E,S){(this||ni).fun=E,(this||ni).array=S;}y.prototype.run=function(){(this||ni).fun.apply(null,(this||ni).array);},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function w(){}return t.on=w,t.addListener=w,t.once=w,t.off=w,t.removeListener=w,t.removeAllListeners=w,t.emit=w,t.prependListener=w,t.prependOnceListener=w,t.listeners=function(E){return []},t.binding=function(E){throw new Error("process.binding is not supported")},t.cwd=function(){return "/"},t.chdir=function(E){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Ga}var Ga,ig,ni,re,Qa=we(()=>{v();m();_();Ga={},ig=!1,ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:__webpack_require__.g;re=lE();re.platform="browser";re.addListener;re.argv;re.binding;re.browser;re.chdir;re.cwd;re.emit;re.env;re.listeners;re.nextTick;re.off;re.on;re.once;re.prependListener;re.prependOnceListener;re.removeAllListeners;re.removeListener;re.title;re.umask;re.version;re.versions;});function uE(){if(ng)return Ya;ng=!0;var t=re;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",u=0,c=-1,h=0,d,g=0;g<=o.length;++g){if(g<o.length)d=o.charCodeAt(g);else {if(d===47)break;d=47;}if(d===47){if(!(c===g-1||h===1))if(c!==g-1&&h===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",u=0):(a=a.slice(0,y),u=a.length-1-a.lastIndexOf("/")),c=g,h=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=g,h=0;continue}}s&&(a.length>0?a+="/..":a="..",u=2);}else a.length>0?a+="/"+o.slice(c+1,g):a=o.slice(c+1,g),u=g-c-1;c=g,h=0;}else d===46&&h!==-1?++h:h=-1;}return a}function i(o,s){var a=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+u:a+o+u:u}var n={resolve:function(){for(var s="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(u===void 0&&(u=t.cwd()),h=u),e(h),h.length!==0&&(s=h+"/"+s,a=h.charCodeAt(0)===47);}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return ".";var a=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&u&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var s,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(s===void 0?s=u:s+="/"+u);}return s===void 0?".":n.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=n.resolve(s),a=n.resolve(a),s===a))return "";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var c=s.length,h=c-u,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var g=a.length,y=g-d,w=h<y?h:y,E=-1,S=0;S<=w;++S){if(S===w){if(y>w){if(a.charCodeAt(d+S)===47)return a.slice(d+S+1);if(S===0)return a.slice(d+S)}else h>w&&(s.charCodeAt(u+S)===47?E=S:S===0&&(E=0));break}var I=s.charCodeAt(u+S),C=a.charCodeAt(d+S);if(I!==C)break;I===47&&(E=S);}var R="";for(S=u+E+1;S<=c;++S)(S===c||s.charCodeAt(S)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+a.slice(d+E):(d+=E,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return ".";for(var a=s.charCodeAt(0),u=a===47,c=-1,h=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?u?"/":".":u&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var u=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return "";var g=a.length-1,y=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!h){u=d+1;break}}else y===-1&&(h=!1,y=d+1),g>=0&&(w===a.charCodeAt(g)?--g===-1&&(c=d):(g=-1,c=y));}return u===c?c=y:c===-1&&(c=s.length),s.slice(u,c)}else {for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!h){u=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":s.slice(u,c)}},extname:function(s){e(s);for(var a=-1,u=0,c=-1,h=!0,d=0,g=s.length-1;g>=0;--g){var y=s.charCodeAt(g);if(y===47){if(!h){u=g+1;break}continue}c===-1&&(h=!1,c=g+1),y===46?a===-1?a=g:d!==1&&(d=1):a!==-1&&(d=-1);}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===u+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return i("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var u=s.charCodeAt(0),c=u===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,g=0,y=-1,w=!0,E=s.length-1,S=0;E>=h;--E){if(u=s.charCodeAt(E),u===47){if(!w){g=E+1;break}continue}y===-1&&(w=!1,y=E+1),u===46?d===-1?d=E:S!==1&&(S=1):d!==-1&&(S=-1);}return d===-1||y===-1||S===0||S===1&&d===y-1&&d===g+1?y!==-1&&(g===0&&c?a.base=a.name=s.slice(1,y):a.base=a.name=s.slice(g,y)):(g===0&&c?(a.name=s.slice(1,d),a.base=s.slice(1,y)):(a.name=s.slice(g,d),a.base=s.slice(g,y)),a.ext=s.slice(d,y)),g>0?a.dir=s.slice(0,g-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Ya=n,Ya}var Ya,ng,Ja,sg=we(()=>{v();m();_();Qa();Ya={},ng=!1;Ja=uE();});var dg={};Qt(dg,{URL:()=>DE,Url:()=>ME,default:()=>Z,fileURLToPath:()=>cg,format:()=>LE,parse:()=>qE,pathToFileURL:()=>hg,resolve:()=>UE,resolveObject:()=>NE});function Fe(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null;}function xi(t,e,r){if(t&&pt.isObject(t)&&t instanceof Fe)return t;var i=new Fe;return i.parse(t,e,r),i}function bE(){if(ug)return el;ug=!0;var t=ne;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",u=0,c=-1,h=0,d,g=0;g<=o.length;++g){if(g<o.length)d=o.charCodeAt(g);else {if(d===47)break;d=47;}if(d===47){if(!(c===g-1||h===1))if(c!==g-1&&h===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",u=0):(a=a.slice(0,y),u=a.length-1-a.lastIndexOf("/")),c=g,h=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=g,h=0;continue}}s&&(a.length>0?a+="/..":a="..",u=2);}else a.length>0?a+="/"+o.slice(c+1,g):a=o.slice(c+1,g),u=g-c-1;c=g,h=0;}else d===46&&h!==-1?++h:h=-1;}return a}function i(o,s){var a=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+u:a+o+u:u}var n={resolve:function(){for(var s="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(u===void 0&&(u=t.cwd()),h=u),e(h),h.length!==0&&(s=h+"/"+s,a=h.charCodeAt(0)===47);}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return ".";var a=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&u&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var s,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(s===void 0?s=u:s+="/"+u);}return s===void 0?".":n.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=n.resolve(s),a=n.resolve(a),s===a))return "";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var c=s.length,h=c-u,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var g=a.length,y=g-d,w=h<y?h:y,E=-1,S=0;S<=w;++S){if(S===w){if(y>w){if(a.charCodeAt(d+S)===47)return a.slice(d+S+1);if(S===0)return a.slice(d+S)}else h>w&&(s.charCodeAt(u+S)===47?E=S:S===0&&(E=0));break}var I=s.charCodeAt(u+S),C=a.charCodeAt(d+S);if(I!==C)break;I===47&&(E=S);}var R="";for(S=u+E+1;S<=c;++S)(S===c||s.charCodeAt(S)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+a.slice(d+E):(d+=E,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return ".";for(var a=s.charCodeAt(0),u=a===47,c=-1,h=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?u?"/":".":u&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var u=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return "";var g=a.length-1,y=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!h){u=d+1;break}}else y===-1&&(h=!1,y=d+1),g>=0&&(w===a.charCodeAt(g)?--g===-1&&(c=d):(g=-1,c=y));}return u===c?c=y:c===-1&&(c=s.length),s.slice(u,c)}else {for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!h){u=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":s.slice(u,c)}},extname:function(s){e(s);for(var a=-1,u=0,c=-1,h=!0,d=0,g=s.length-1;g>=0;--g){var y=s.charCodeAt(g);if(y===47){if(!h){u=g+1;break}continue}c===-1&&(h=!1,c=g+1),y===46?a===-1?a=g:d!==1&&(d=1):a!==-1&&(d=-1);}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===u+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return i("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var u=s.charCodeAt(0),c=u===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,g=0,y=-1,w=!0,E=s.length-1,S=0;E>=h;--E){if(u=s.charCodeAt(E),u===47){if(!w){g=E+1;break}continue}y===-1&&(w=!1,y=E+1),u===46?d===-1?d=E:S!==1&&(S=1):d!==-1&&(S=-1);}return d===-1||y===-1||S===0||S===1&&d===y-1&&d===g+1?y!==-1&&(g===0&&c?a.base=a.name=s.slice(1,y):a.base=a.name=s.slice(g,y)):(g===0&&c?(a.name=s.slice(1,d),a.base=s.slice(1,y)):(a.name=s.slice(g,d),a.base=s.slice(g,y)),a.ext=s.slice(d,y)),g>0?a.dir=s.slice(0,g-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,el=n,el}function BE(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return rl?PE(t):OE(t)}function PE(t){let e=t.hostname,r=t.pathname;for(let i=0;i<r.length;i++)if(r[i]==="%"){let n=r.codePointAt(i+2)||32;if(r[i+1]==="2"&&n===102||r[i+1]==="5"&&n===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(SE,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let i=r.codePointAt(1)|32,n=r[2];if(i<vE||i>EE||n!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function OE(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function kE(t){let e=fg.resolve(t),r=t.charCodeAt(t.length-1);(r===mE||rl&&r===_E)&&e[e.length-1]!==fg.sep&&(e+="/");let i=new URL("file://");return e.includes("%")&&(e=e.replace(AE,"%25")),!rl&&e.includes("\\")&&(e=e.replace(IE,"%5C")),e.includes(`
`)&&(e=e.replace(TE,"%0A")),e.includes("\r")&&(e=e.replace(RE,"%0D")),e.includes("	")&&(e=e.replace(CE,"%09")),i.pathname=e,i}function cg(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return il?YE(t):JE(t)}function YE(t){let e=t.hostname,r=t.pathname;for(let i=0;i<r.length;i++)if(r[i]==="%"){let n=r.codePointAt(i+2)||32;if(r[i+1]==="2"&&n===102||r[i+1]==="5"&&n===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(HE,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let i=r.codePointAt(1)|32,n=r[2];if(i<WE||i>$E||n!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function JE(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function hg(t){let e=Ja.resolve(t),r=t.charCodeAt(t.length-1);(r===FE||il&&r===jE)&&e[e.length-1]!==Ja.sep&&(e+="/");let i=new URL("file://");return e.includes("%")&&(e=e.replace(VE,"%25")),!il&&e.includes("\\")&&(e=e.replace(zE,"%5C")),e.includes(`
`)&&(e=e.replace(KE,"%0A")),e.includes("\r")&&(e=e.replace(GE,"%0D")),e.includes("	")&&(e=e.replace(QE,"%09")),i.pathname=e,i}var Z,fE,pt,cE,hE,dE,pE,tl,og,ag,lg,gE,yE,Xa,si,Za,el,ug,fg,wE,_E,mE,vE,EE,rl,SE,AE,IE,TE,RE,CE,xE,ME,LE,UE,NE,qE,DE,jE,FE,WE,$E,il,HE,VE,zE,KE,GE,QE,pg=we(()=>{v();m();_();Yp();Jp();rg();sg();Qa();Z={},fE=zt,pt={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}};Z.parse=xi,Z.resolve=function(t,e){return xi(t,!1,!0).resolve(e)},Z.resolveObject=function(t,e){return t?xi(t,!1,!0).resolveObject(e):e},Z.format=function(t){return pt.isString(t)&&(t=xi(t)),t instanceof Fe?t.format():Fe.prototype.format.call(t)},Z.Url=Fe;cE=/^([a-z0-9.+-]+:)/i,hE=/:[0-9]*$/,dE=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,pE=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),tl=["'"].concat(pE),og=["%","/","?",";","#"].concat(tl),ag=["/","?","#"],lg=/^[+a-z0-9A-Z_-]{0,63}$/,gE=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yE={javascript:!0,"javascript:":!0},Xa={javascript:!0,"javascript:":!0},si={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Za=dt;Fe.prototype.parse=function(t,e,r){if(!pt.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!r&&t.split("#").length===1){var a=dE.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?Za.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=cE.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length);}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=s.substr(0,2)==="//";!h||u&&Xa[u]||(s=s.substr(2),this.slashes=!0);}if(!Xa[u]&&(h||u&&!si[u])){for(var d,g,y=-1,w=0;w<ag.length;w++)(E=s.indexOf(ag[w]))!==-1&&(y===-1||E<y)&&(y=E);for((g=y===-1?s.lastIndexOf("@"):s.lastIndexOf("@",y))!==-1&&(d=s.slice(0,g),s=s.slice(g+1),this.auth=decodeURIComponent(d)),y=-1,w=0;w<og.length;w++){var E;(E=s.indexOf(og[w]))!==-1&&(y===-1||E<y)&&(y=E);}y===-1&&(y=s.length),this.host=s.slice(0,y),s=s.slice(y),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var I=this.hostname.split(/\./),C=(w=0,I.length);w<C;w++){var R=I[w];if(R&&!R.match(lg)){for(var U="",N=0,W=R.length;N<W;N++)R.charCodeAt(N)>127?U+="x":U+=R[N];if(!U.match(lg)){var K=I.slice(0,w),z=I.slice(w+1),Q=R.match(gE);Q&&(K.push(Q[1]),z.unshift(Q[2])),z.length&&(s="/"+z.join(".")+s),this.hostname=K.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=fE.toASCII(this.hostname));var de=this.port?":"+this.port:"",Gt=this.hostname||"";this.host=Gt+de,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s));}if(!yE[c])for(w=0,C=tl.length;w<C;w++){var pe=tl[w];if(s.indexOf(pe)!==-1){var Cr=encodeURIComponent(pe);Cr===pe&&(Cr=escape(pe)),s=s.split(pe).join(Cr);}}var Br=s.indexOf("#");Br!==-1&&(this.hash=s.substr(Br),s=s.slice(0,Br));var Pr=s.indexOf("?");if(Pr!==-1?(this.search=s.substr(Pr),this.query=s.substr(Pr+1),e&&(this.query=Za.parse(this.query)),s=s.slice(0,Pr)):e&&(this.search="",this.query={}),s&&(this.pathname=s),si[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){de=this.pathname||"";var us=this.search||"";this.path=de+us;}return this.href=this.format(),this},Fe.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&pt.isObject(this.query)&&Object.keys(this.query).length&&(o=Za.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||si[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),s&&s.charAt(0)!=="?"&&(s="?"+s),e+n+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},Fe.prototype.resolve=function(t){return this.resolveObject(xi(t,!1,!0)).format()},Fe.prototype.resolveObject=function(t){if(pt.isString(t)){var e=new Fe;e.parse(t,!1,!0),t=e;}for(var r=new Fe,i=Object.keys(this),n=0;n<i.length;n++){var o=i[n];r[o]=this[o];}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];u!=="protocol"&&(r[u]=t[u]);}return si[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!si[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var d=c[h];r[d]=t[d];}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||Xa[t.protocol])r.pathname=t.pathname;else {for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/");}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",w=r.search||"";r.path=y+w;}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var E=r.pathname&&r.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=S||E||r.host&&t.pathname,C=I,R=r.pathname&&r.pathname.split("/")||[],U=(g=t.pathname&&t.pathname.split("/")||[],r.protocol&&!si[r.protocol]);if(U&&(r.hostname="",r.port=null,r.host&&(R[0]===""?R[0]=r.host:R.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),I=I&&(g[0]===""||R[0]==="")),S)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,R=g;else if(g.length)R||(R=[]),R.pop(),R=R.concat(g),r.search=t.search,r.query=t.query;else if(!pt.isNullOrUndefined(t.search))return U&&(r.hostname=r.host=R.shift(),(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),r.search=t.search,r.query=t.query,pt.isNull(r.pathname)&&pt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!R.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=R.slice(-1)[0],W=(r.host||t.host||R.length>1)&&(N==="."||N==="..")||N==="",K=0,z=R.length;z>=0;z--)(N=R[z])==="."?R.splice(z,1):N===".."?(R.splice(z,1),K++):K&&(R.splice(z,1),K--);if(!I&&!C)for(;K--;K)R.unshift("..");!I||R[0]===""||R[0]&&R[0].charAt(0)==="/"||R.unshift(""),W&&R.join("/").substr(-1)!=="/"&&R.push("");var Q,de=R[0]===""||R[0]&&R[0].charAt(0)==="/";return U&&(r.hostname=r.host=de?"":R.length?R.shift():"",(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),(I=I||r.host&&R.length)&&!de&&R.unshift(""),R.length?r.pathname=R.join("/"):(r.pathname=null,r.path=null),pt.isNull(r.pathname)&&pt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Fe.prototype.parseHost=function(){var t=this.host,e=hE.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t);};Z.Url;Z.format;Z.resolve;Z.resolveObject;el={},ug=!1;fg=bE(),wE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Z.URL=typeof URL<"u"?URL:null;Z.pathToFileURL=kE;Z.fileURLToPath=BE;Z.Url;Z.format;Z.resolve;Z.resolveObject;Z.URL;_E=92,mE=47,vE=97,EE=122,rl=wE==="win32",SE=/\//g,AE=/%/g,IE=/\\/g,TE=/\n/g,RE=/\r/g,CE=/\t/g;xE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Z.URL=typeof URL<"u"?URL:null;Z.pathToFileURL=hg;Z.fileURLToPath=cg;ME=Z.Url,LE=Z.format,UE=Z.resolve,NE=Z.resolveObject,qE=Z.parse,DE=Z.URL,jE=92,FE=47,WE=97,$E=122,il=xE==="win32",HE=/\//g,VE=/%/g,zE=/\\/g,KE=/\n/g,GE=/\r/g,QE=/\t/g;});var nl={};Qt(nl,{Server:()=>Me,Socket:()=>Me,Stream:()=>Me,_createServerHandle:()=>Me,_normalizeArgs:()=>Me,_setSimultaneousAccepts:()=>Me,connect:()=>Me,createConnection:()=>Me,createServer:()=>Me,default:()=>XE,isIP:()=>Me,isIPv4:()=>Me,isIPv6:()=>Me});function Me(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var XE,sl=we(()=>{v();m();_();XE={_createServerHandle:Me,_normalizeArgs:Me,_setSimultaneousAccepts:Me,connect:Me,createConnection:Me,createServer:Me,isIP:Me,isIPv4:Me,isIPv6:Me,Server:Me,Socket:Me,Stream:Me};});var ol=M(Mi=>{v();m();_();var gg=Mi&&Mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mi,"__esModule",{value:!0});var ZE=gg((sl(),X(nl))),eS=gg(ot()),tS=(0, eS.default)("mqttjs:tcp"),rS=(t,e)=>{e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";let{port:r}=e,i=e.hostname;return tS("port %d and host %s",r,i),ZE.default.createConnection(r,i)};Mi.default=rS;});var yg={};Qt(yg,{default:()=>iS});var iS,bg=we(()=>{v();m();_();iS={};});var ll=M(Li=>{v();m();_();var al=Li&&Li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});var nS=al((bg(),X(yg))),sS=al((sl(),X(nl))),oS=al(ot()),aS=(0, oS.default)("mqttjs:tls"),lS=(t,e)=>{e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",sS.default.isIP(e.host)===0&&(e.servername=e.host),e.rejectUnauthorized=e.rejectUnauthorized!==!1,delete e.path,aS("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);let r=nS.default.connect(e);r.on("secureConnect",()=>{e.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",i);});function i(n){e.rejectUnauthorized&&t.emit("error",n),r.end();}return r.on("error",i),r};Li.default=lS;});var os=M(oi=>{v();m();_();Object.defineProperty(oi,"__esModule",{value:!0});oi.BufferedDuplex=oi.writev=void 0;var uS=Dt(),wg=(ye(),X(_e));function _g(t,e){let r=new Array(t.length);for(let i=0;i<t.length;i++)typeof t[i].chunk=="string"?r[i]=wg.Buffer.from(t[i].chunk,"utf8"):r[i]=t[i].chunk;this._write(wg.Buffer.concat(r),"binary",e);}oi.writev=_g;var ul=class extends uS.Duplex{constructor(e,r,i){super({objectMode:!0}),this.proxy=r,this.socket=i,this.writeQueue=[],e.objectMode||(this._writev=_g.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",n=>{this.push(n);});}_read(e){this.proxy.read(e);}_write(e,r,i){this.isSocketOpen?this.writeToProxy(e,r,i):this.writeQueue.push({chunk:e,encoding:r,cb:i});}_final(e){this.writeQueue=[],this.proxy.end(e);}_destroy(e,r){this.writeQueue=[],this.proxy.destroy(),r(e);}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue();}writeToProxy(e,r,i){this.proxy.write(e,r)===!1?this.proxy.once("drain",i):i();}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:r,cb:i}=this.writeQueue.shift();this.writeToProxy(e,r,i);}}};oi.BufferedDuplex=ul;});var hl=M(cl=>{v();m();_();Object.defineProperty(cl,"__esModule",{value:!0});var mg=(ye(),X(_e)),fS=Dt(),cS=os(),gt,fl,Le;function hS(){let t=new fS.Transform;return t._write=(e,r,i)=>{gt.send({data:e.buffer,success(){i();},fail(n){i(new Error(n));}});},t._flush=e=>{gt.close({success(){e();}});},t}function dS(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={});}function pS(t,e){let r=t.protocol==="wxs"?"wss":"ws",i=`${r}://${t.hostname}${t.path}`;return t.port&&t.port!==80&&t.port!==443&&(i=`${r}://${t.hostname}:${t.port}${t.path}`),typeof t.transformWsUrl=="function"&&(i=t.transformWsUrl(i,t,e)),i}function gS(){gt.onOpen(()=>{Le.socketReady();}),gt.onMessage(t=>{let{data:e}=t;e instanceof ArrayBuffer?e=mg.Buffer.from(e):e=mg.Buffer.from(e,"utf8"),fl.push(e);}),gt.onClose(()=>{Le.emit("close"),Le.end(),Le.destroy();}),gt.onError(t=>{let e=new Error(t.errMsg);Le.destroy(e);});}var yS=(t,e)=>{if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt";dS(e);let i=pS(e,t);gt=wx.connectSocket({url:i,protocols:[r]}),fl=hS(),Le=new cS.BufferedDuplex(e,fl,gt),Le._destroy=(o,s)=>{gt.close({success(){s&&s(o);}});};let n=Le.destroy;return Le.destroy=(o,s)=>(Le.destroy=n,setTimeout(()=>{gt.close({fail(){Le._destroy(o,s);}});},0),Le),gS(),Le};cl.default=yS;});var gl=M(pl=>{v();m();_();Object.defineProperty(pl,"__esModule",{value:!0});var dl=(ye(),X(_e)),bS=Dt(),wS=os(),kt,as,ai,vg=!1;function _S(){let t=new bS.Transform;return t._write=(e,r,i)=>{kt.sendSocketMessage({data:e.buffer,success(){i();},fail(){i(new Error);}});},t._flush=e=>{kt.closeSocket({success(){e();}});},t}function mS(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={});}function vS(t,e){let r=t.protocol==="alis"?"wss":"ws",i=`${r}://${t.hostname}${t.path}`;return t.port&&t.port!==80&&t.port!==443&&(i=`${r}://${t.hostname}:${t.port}${t.path}`),typeof t.transformWsUrl=="function"&&(i=t.transformWsUrl(i,t,e)),i}function ES(){vg||(vg=!0,kt.onSocketOpen(()=>{ai.socketReady();}),kt.onSocketMessage(t=>{if(typeof t.data=="string"){let e=dl.Buffer.from(t.data,"base64");as.push(e);}else {let e=new FileReader;e.addEventListener("load",()=>{let r=e.result;r instanceof ArrayBuffer?r=dl.Buffer.from(r):r=dl.Buffer.from(r,"utf8"),as.push(r);}),e.readAsArrayBuffer(t.data);}}),kt.onSocketClose(()=>{ai.end(),ai.destroy();}),kt.onSocketError(t=>{ai.destroy(t);}));}var SS=(t,e)=>{if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt";mS(e);let i=vS(e,t);return kt=e.my,kt.connectSocket({url:i,protocols:r}),as=_S(),ai=new wS.BufferedDuplex(e,as,kt),ES(),ai};pl.default=SS;});var Sg=M((PD,Eg)=>{v();m();_();Eg.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};});var _l=M(Ui=>{v();m();_();var wl=Ui&&Ui.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});var yl=(ye(),X(_e)),Ag=wl(Sg()),AS=wl(ot()),IS=Dt(),Ig=wl(Pi()),bl=os(),Kt=(0, AS.default)("mqttjs:ws"),TS=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function Tg(t,e){let r=`${t.protocol}://${t.hostname}:${t.port}${t.path}`;return typeof t.transformWsUrl=="function"&&(r=t.transformWsUrl(r,t,e)),r}function Rg(t){let e=t;return t.hostname||(e.hostname="localhost"),t.port||(t.protocol==="wss"?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),!Ig.default&&t.protocol==="wss"&&TS.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r]);}),e}function RS(t){let e=Rg(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let r=new URL(document.URL);e.hostname=r.hostname,e.port||(e.port=Number(r.port));}return e.objectMode===void 0&&(e.objectMode=!(e.binary===!0||e.binary===void 0)),e}function CS(t,e,r){Kt("createWebSocket"),Kt(`protocol: ${r.protocolId} ${r.protocolVersion}`);let i=r.protocolId==="MQIsdp"&&r.protocolVersion===3?"mqttv3.1":"mqtt";Kt(`creating new Websocket for url: ${e} and protocol: ${i}`);let n;return r.createWebsocket?n=r.createWebsocket(e,[i],r):n=new Ag.default(e,[i],r.wsOptions),n}function BS(t,e){let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt",i=Tg(e,t),n;return e.createWebsocket?n=e.createWebsocket(i,[r],e):n=new WebSocket(i,[r]),n.binaryType="arraybuffer",n}var PS=(t,e)=>{Kt("streamBuilder");let r=Rg(e),i=Tg(r,t),n=CS(t,i,r),o=Ag.default.createWebSocketStream(n,r.wsOptions);return o.url=i,n.on("close",()=>{o.destroy();}),o},OS=(t,e)=>{Kt("browserStreamBuilder");let r,n=RS(e).browserBufferSize||1024*512,o=e.browserBufferTimeout||1e3,s=!e.objectMode,a=BS(t,e),u=h(e,E,S);e.objectMode||(u._writev=bl.writev.bind(u)),u.on("close",()=>{a.close();});let c=typeof a.addEventListener<"u";a.readyState===a.OPEN?(r=u,r.socket=a):(r=new bl.BufferedDuplex(e,u,a),c?a.addEventListener("open",d):a.onopen=d),c?(a.addEventListener("close",g),a.addEventListener("error",y),a.addEventListener("message",w)):(a.onclose=g,a.onerror=y,a.onmessage=w);function h(I,C,R){let U=new IS.Transform({objectMode:I.objectMode});return U._write=C,U._flush=R,U}function d(){Kt("WebSocket onOpen"),r instanceof bl.BufferedDuplex&&r.socketReady();}function g(I){Kt("WebSocket onClose",I),r.end(),r.destroy();}function y(I){Kt("WebSocket onError",I);let C=new Error("WebSocket error");C.event=I,r.destroy(C);}function w(I){let{data:C}=I;C instanceof ArrayBuffer?C=yl.Buffer.from(C):C=yl.Buffer.from(C,"utf8"),u.push(C);}function E(I,C,R){if(a.bufferedAmount>n){setTimeout(E,o,I,C,R);return}s&&typeof I=="string"&&(I=yl.Buffer.from(I,"utf8"));try{a.send(I);}catch(U){return R(U)}R();}function S(I){a.close(),I();}return r};Ui.default=Ig.default?OS:PS;});var Pg=M(Rr=>{v();m();_();var ls=Rr&&Rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.connectAsync=void 0;var kS=ls(ot()),xS=ls((pg(),X(dg))),MS=ls(ns()),LS=ls(Pi()),Cg=(0, kS.default)("mqttjs"),Re={};LS.default?(Re.wx=hl().default,Re.wxs=hl().default,Re.ali=gl().default,Re.alis=gl().default):(Re.mqtt=ol().default,Re.tcp=ol().default,Re.ssl=ll().default,Re.tls=Re.ssl,Re.mqtts=ll().default);Re.ws=_l().default;Re.wss=_l().default;function US(t){let e;t.auth&&(e=t.auth.match(/^(.+):(.+)$/),e?(t.username=e[1],t.password=e[2]):t.username=t.auth);}function Bg(t,e){if(Cg("connecting to an MQTT broker..."),typeof t=="object"&&!e&&(e=t,t=""),e=e||{},t&&typeof t=="string"){let n=xS.default.parse(t,!0);if(n.port!=null&&(n.port=Number(n.port)),e=Object.assign(Object.assign({},n),e),e.protocol===null)throw new Error("Missing protocol");e.protocol=e.protocol.replace(/:$/,"");}if(US(e),e.query&&typeof e.query.clientId=="string"&&(e.clientId=e.query.clientId),e.cert&&e.key)if(e.protocol){if(["mqtts","wss","wxs","alis"].indexOf(e.protocol)===-1)switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${e.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!Re[e.protocol]){let n=["mqtts","wss"].indexOf(e.protocol)!==-1;e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((o,s)=>n&&s%2===0?!1:typeof Re[o]=="function")[0];}if(e.clean===!1&&!e.clientId)throw new Error("Missing clientId for unclean clients");e.protocol&&(e.defaultProtocol=e.protocol);function r(n){return e.servers&&((!n._reconnectCount||n._reconnectCount===e.servers.length)&&(n._reconnectCount=0),e.host=e.servers[n._reconnectCount].host,e.port=e.servers[n._reconnectCount].port,e.protocol=e.servers[n._reconnectCount].protocol?e.servers[n._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,n._reconnectCount++),Cg("calling streambuilder for",e.protocol),Re[e.protocol](n,e)}let i=new MS.default(r,e);return i.on("error",()=>{}),i}function NS(t,e,r=!0){return new Promise((i,n)=>{let o=Bg(t,e),s={connect:u=>{a(),i(o);},end:()=>{a(),i(o);},error:u=>{a(),o.end(),n(u);}};r===!1&&(s.close=()=>{s.error(new Error("Couldn't connect to server"));});function a(){Object.keys(s).forEach(u=>{o.off(u,s[u]);});}Object.keys(s).forEach(u=>{o.on(u,s[u]);});})}Rr.connectAsync=NS;Rr.default=Bg;});var ml=M(G=>{v();m();_();var Og=G&&G.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),qS=G&&G.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),DS=G&&G.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Og(e,t,r);return qS(e,t),e},kg=G&&G.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Og(e,t,r);},Ni=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G,"__esModule",{value:!0});G.ReasonCodes=G.PingTimer=G.UniqueMessageIdProvider=G.DefaultMessageIdProvider=G.Store=G.MqttClient=G.connectAsync=G.connect=G.Client=void 0;var xg=Ni(ns());G.MqttClient=xg.default;var jS=Ni(Yo());G.DefaultMessageIdProvider=jS.default;var FS=Ni($p());G.UniqueMessageIdProvider=FS.default;var WS=Ni(Zo());G.Store=WS.default;var Mg=DS(Pg());G.connect=Mg.default;Object.defineProperty(G,"connectAsync",{enumerable:!0,get:function(){return Mg.connectAsync}});var $S=Ni(Da());G.PingTimer=$S.default;G.Client=xg.default;kg(ns(),G);kg(Jr(),G);var HS=Ai();Object.defineProperty(G,"ReasonCodes",{enumerable:!0,get:function(){return HS.ReasonCodes}});});var QS=M(We=>{v();m();_();var Lg=We&&We.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),VS=We&&We.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),zS=We&&We.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lg(e,t,r);return VS(e,t),e},KS=We&&We.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lg(e,t,r);};Object.defineProperty(We,"__esModule",{value:!0});var GS=zS(ml());We.default=GS;KS(ml(),We);});var mqtt = QS();
/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/

class CloudInteropAPIError extends Error {
    code;
    constructor(message = 'An unexpected error has occurred', code = 'UNEXPECTED_ERROR', cause) {
        super(message, { cause: cause });
        this.name = this.constructor.name;
        this.code = code;
    }
}
class AuthorizationError extends CloudInteropAPIError {
    constructor(message = 'Not authorized', code = 'ERR_UNAUTHORIZED') {
        super(message, code, undefined);
    }
}

class EventController {
    #eventListeners = new Map();
    addEventListener(type, callback) {
        const listeners = this.#eventListeners.get(type) || [];
        listeners.push(callback);
        this.#eventListeners.set(type, listeners);
    }
    removeEventListener(type, callback) {
        const listeners = this.#eventListeners.get(type) || [];
        const index = listeners.indexOf(callback);
        if (index !== -1) {
            listeners.splice(index, 1);
        }
        this.#eventListeners.set(type, listeners);
    }
    once(type, callback) {
        const listener = (...args) => {
            this.removeEventListener(type, listener);
            // @ts-expect-error - TS doesn't like the spread operator here
            callback(...args);
        };
        this.addEventListener(type, listener);
    }
    emitEvent(type, ...args) {
        const listeners = this.#eventListeners.get(type) || [];
        listeners.forEach((listener) => listener(...args));
    }
}

const isErrorIntentResult = (result) => 'error' in result;

const APP_ID_DELIM = '::';
const getRequestHeaders = (connectionParameters) => {
    const headers = {};
    headers['Content-Type'] = 'application/json';
    if (connectionParameters.authenticationType === 'jwt' && connectionParameters.jwtAuthenticationParameters) {
        const tokenResult = connectionParameters.jwtAuthenticationParameters.jwtRequestCallback();
        if (!tokenResult) {
            throw new Error('jwtRequestCallback must return a token');
        }
        headers['x-of-auth-id'] = connectionParameters.jwtAuthenticationParameters.authenticationId;
        headers['Authorization'] =
            typeof tokenResult === 'string' ? `Bearer ${tokenResult}` : `Bearer ${buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(JSON.stringify(tokenResult)).toString('base64')}`;
    }
    if (connectionParameters.authenticationType === 'basic' && connectionParameters.basicAuthenticationParameters) {
        const { username, password } = connectionParameters.basicAuthenticationParameters;
        headers['Authorization'] = `Basic ${buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(`${username}:${password}`).toString('base64')}`;
    }
    return headers;
};
/**
 * Encodes all app intents in the format: `appId::sourceId::sessionId`,
 * where sourceId and sessionId are URI encoded
 * @param appIntents
 * @param source
 * @returns
 */
const encodeAppIntents = (appIntents, source) => appIntents.map((intent) => ({
    ...intent,
    apps: intent.apps.map((app) => ({ ...app, appId: encodeAppId(app.appId, source) })),
}));
/**
 * Decodes all app intents by URI decoding the parts previously encoded by `encodeAppIntents`
 * @param appIntents
 * @returns
 */
const decodeAppIntents = (appIntents) => appIntents.map((intent) => ({
    ...intent,
    apps: intent.apps.map((app) => ({ ...app, appId: decodeAppId(app.appId) })),
}));
const encodeAppId = (appIdString, { sessionId, sourceId }) => {
    const id = encodeURIComponent(appIdString);
    const sId = encodeURIComponent(sourceId);
    return `${id}${APP_ID_DELIM}${sId}${APP_ID_DELIM}${sessionId}`;
};
const decodeAppId = (appId) => {
    const [encodedAppId, encodedSourceId, sessionId] = appId.split(APP_ID_DELIM);
    const id = decodeURIComponent(encodedAppId);
    const sourceId = decodeURIComponent(encodedSourceId);
    return `${id}${APP_ID_DELIM}${sourceId}${APP_ID_DELIM}${sessionId}`;
};
/**
 * Decodes the AppIdentifier to extract the appId, sourceId, and sessionId.
 * @returns an object with:
 * - appId: The appId, or the original appId if unable to parse.
 * - sourceId: The sourceId, or an '' if unable to parse.
 * - sessionId: The sessionId, or an '' if unable to parse.
 */
const parseCloudAppId = (appId = '') => {
    const originalAppString = typeof appId === 'string' ? appId : (appId.appId ?? '');
    const parts = originalAppString.split(APP_ID_DELIM);
    return {
        appId: parts[0]?.trim() ?? originalAppString,
        sourceId: parts[1]?.trim() ?? '',
        sessionId: parts[2]?.trim() ?? '',
    };
};
const getSourceFromSession = (sessionDetails) => ({
    sessionId: sessionDetails.sessionId,
    sourceId: sessionDetails.sourceId,
    userId: sessionDetails.sub,
    orgId: sessionDetails.orgId,
    platformId: sessionDetails.platformId,
});

const MIN_TIMEOUT = 500;
const DEFAULT_TIMEOUT$1 = 3000;
const newDiscovery = () => ({
    id: undefined,
    pendingIntentDetailsEvents: [],
    sessionCount: 0,
    responseCount: 0,
    state: 'not-started',
});
class IntentController {
    #url;
    #mqttClient;
    #sessionDetails;
    #connectionParams;
    #events;
    #logger;
    #discovery = newDiscovery();
    #discoveryTimeout;
    constructor(url, mqttClient, sessionDetails, connectionParameters, events, logger) {
        this.#url = url;
        this.#mqttClient = mqttClient;
        this.#sessionDetails = sessionDetails;
        this.#connectionParams = connectionParameters;
        this.#events = events;
        this.#logger = logger;
    }
    async startIntentDiscovery(options) {
        if (this.#discovery.state === 'in-progress') {
            throw new Error('Intent discovery already in progress');
        }
        const { timeout = DEFAULT_TIMEOUT$1, findOptions } = options;
        // clamp min value to 500ms
        const clampedTimeout = Math.max(timeout, MIN_TIMEOUT);
        try {
            const startResponse = await fetch(`${this.#url}/api/intents/${this.#sessionDetails.sessionId}`, {
                method: 'POST',
                headers: getRequestHeaders(this.#connectionParams),
                body: JSON.stringify({ findOptions }),
            });
            if (!startResponse.ok) {
                throw new Error(startResponse.statusText);
            }
            // TODO: type this response?
            const json = await startResponse.json();
            this.#discovery.id = json.discoveryId;
            this.#discovery.sessionCount = json.sessionCount;
            this.#discovery.state = 'in-progress';
            // Listen out for discovery results directly sent to us
            await this.#mqttClient.subscribeAsync(`${this.#sessionDetails.sessionRootTopic}/commands/${this.#discovery.id}`);
            this.#discoveryTimeout = setTimeout(() => this.#endIntentDiscovery(), clampedTimeout);
        }
        catch (error) {
            // Clean up any ongoing discoveries
            this.#endIntentDiscovery();
            throw new CloudInteropAPIError('Error starting intent discovery', 'ERR_STARTING_INTENT_DISCOVERY', error);
        }
    }
    async #endIntentDiscovery() {
        if (this.#discovery.state !== 'in-progress') {
            // TODO: remove debug logs
            this.#logger('debug', 'Intent discovery not in progress');
            return;
        }
        if (this.#discoveryTimeout) {
            clearTimeout(this.#discoveryTimeout);
            this.#discoveryTimeout = undefined;
        }
        this.#discovery.state = 'ended';
        // emit our aggregated events
        this.#events.emitEvent('aggregate-intent-details', { responses: this.#discovery.pendingIntentDetailsEvents });
        // gracefully end discovery
        await this.#mqttClient.unsubscribeAsync(`${this.#sessionDetails.sessionRootTopic}/commands/${this.#discovery.id}`).catch(() => {
            this.#logger('warn', `Error ending intent discovery: could not unsubscribe from discovery id ${this.#discovery.id}`);
        });
        await fetch(`${this.#url}/api/intents/${this.#sessionDetails.sessionId}/${this.#discovery.id}`, {
            method: 'DELETE',
            headers: getRequestHeaders(this.#connectionParams),
        })
            .then((deleteResponse) => {
            if (!deleteResponse.ok) {
                throw new Error(`Error ending intent discovery: ${deleteResponse.statusText}`);
            }
            this.#logger('debug', 'Intent discovery ended');
        })
            .catch((error) => {
            this.#logger('warn', `Error ending intent discovery: ${error}`);
        });
        // clean up
        this.#discovery = newDiscovery();
    }
    async raiseIntent({ raiseOptions, appId }) {
        const targetSessionId = parseCloudAppId(appId).sessionId;
        if (!targetSessionId) {
            // TODO: should we add more info here about the format?
            throw new CloudInteropAPIError(`Invalid AppId specified, must be encoded as a cloud-session app id`, 'ERR_INVALID_TARGET_SESSION_ID');
        }
        const postResponse = await fetch(`${this.#url}/api/intents/${this.#sessionDetails.sessionId}/sessions/${targetSessionId}`, {
            method: 'POST',
            headers: getRequestHeaders(this.#connectionParams),
            body: JSON.stringify({ raiseOptions }),
        });
        if (!postResponse.ok) {
            // TODO: maybe add a debug flag to print these when dev'ing?
            // console.log(`Error raising intent: ${await postResponse.text()}`);
            throw new CloudInteropAPIError(`Error raising intent`, 'ERR_RAISING_INTENT', new Error(postResponse.statusText));
        }
    }
    async reportAppIntents(discoveryId, intents) {
        intents = encodeAppIntents(intents, getSourceFromSession(this.#sessionDetails));
        try {
            const reportResponse = await fetch(`${this.#url}/api/intents/${this.#sessionDetails.sessionId}/${discoveryId}`, {
                method: 'POST',
                headers: getRequestHeaders(this.#connectionParams),
                body: JSON.stringify({ intents }),
            });
            if (reportResponse.ok) {
                return true;
            }
            throw new CloudInteropAPIError('Error reporting intents', 'ERR_REPORTING_INTENTS', new Error(reportResponse.statusText));
        }
        catch (error) {
            this.#logger('warn', `Error reporting intents for discovery ID ${discoveryId}: ${error}`);
        }
        return false;
    }
    async sendIntentResult(initiatingSessionId, result) {
        if (!isErrorIntentResult(result)) {
            // cloud-encode the source app id
            const source = getSourceFromSession(this.#sessionDetails);
            const encoded = encodeAppId(typeof result.source === 'string' ? result.source : result.source.appId, source);
            result.source = typeof result.source === 'string' ? encoded : { ...result.source, appId: encoded };
        }
        const { sessionId } = getSourceFromSession(this.#sessionDetails);
        const resultResponse = await fetch(`${this.#url}/api/intents/${initiatingSessionId}/result/${sessionId}`, {
            method: 'POST',
            headers: getRequestHeaders(this.#connectionParams),
            body: JSON.stringify({ result }),
        });
        if (!resultResponse.ok) {
            throw new CloudInteropAPIError('Error sending intent result', 'ERR_SENDING_INTENT_RESULT', new Error(resultResponse.statusText));
        }
    }
    handleCommandMessage(message) {
        switch (message.command) {
            case 'report-intents': {
                if (message.initiatingSessionId === this.#sessionDetails?.sessionId) {
                    // Ignore if this originated from us
                    return;
                }
                const { command: _, ...event } = message;
                this.#events.emitEvent('report-intents', event);
                break;
            }
            case 'intent-details': {
                /**
                 * We aggregate intent details commands from all connected sessions on the server side
                 * to ensure upstream clients don't have to do this. Also given @openfin/cloud-interop
                 * exposes FDC3 compliant APIs, there is no concept of streaming available, hence we
                 * aggregate the responses here and send them in a synchronous manner.
                 */
                const { command: _, ...event } = message;
                // Decode intents before emitting to client
                event.intents = decodeAppIntents(event.intents);
                // always emit individual intent-details events in addition to aggregate-intent-details
                // for flexibility after intent discovery has ended, this can be useful for late-joining
                // clients nearing the timeout
                this.#events.emitEvent('intent-details', event);
                if (message.discoveryId !== this.#discovery.id || this.#discovery.state !== 'in-progress') {
                    // Ignore if its any other discovery id for some reason, or
                    // if we're not in the middle of a discovery
                    return;
                }
                this.#discovery.responseCount += 1;
                this.#logger('debug', `Received intent details from ${message.source.sessionId}, received: ${this.#discovery.responseCount}, out of connected sessions: ${this.#discovery.sessionCount - 1}`);
                this.#discovery.pendingIntentDetailsEvents.push(event);
                const allResponded = this.#discovery.responseCount === this.#discovery.sessionCount - 1;
                if (allResponded) {
                    this.#endIntentDiscovery();
                }
                break;
            }
            case 'raise-intent': {
                if (message.targetSessionId === this.#sessionDetails?.sessionId) {
                    const { command: _, ...event } = message;
                    this.#events.emitEvent('raise-intent', event);
                }
                break;
            }
            case 'intent-result': {
                if (message.initiatingSessionId === this.#sessionDetails?.sessionId) {
                    // Return result to originator and end discovery
                    const { command: _, ...resultEvent } = message;
                    this.#events.emitEvent('intent-result', resultEvent);
                }
                break;
            }
            default: {
                this.#logger('warn', `Unknown command message received:\n${JSON.stringify(message, null, 2)}`);
                break;
            }
        }
    }
}

// Error codes as defined in https://docs.emqx.com/en/cloud/latest/connect_to_deployments/mqtt_client_error_codes.html
const BadUserNamePasswordError = 134;
/**
 * Represents a single connection to a Cloud Interop service
 *
 * @public
 * @class
 */
class CloudInteropAPI {
    #cloudInteropSettings;
    #sessionDetails;
    #mqttClient;
    #reconnectRetryLimit = 30;
    #keepAliveIntervalSeconds = 30;
    #logger = (level, message) => {
        console[level](message);
    };
    #reconnectRetries = 0;
    #connectionParams;
    #attemptingToReconnect = false;
    #events = new EventController();
    #intents;
    constructor(cloudInteropSettings) {
        this.#cloudInteropSettings = cloudInteropSettings;
    }
    get sessionDetails() {
        return this.#sessionDetails;
    }
    get mqttClient() {
        return this.#mqttClient;
    }
    /**
     * Connects and creates a session on the Cloud Interop service
     *
     * @param {ConnectParameters} parameters - The parameters to use to connect
     * @returns {*} {Promise<void>}
     * @memberof CloudInteropAPI
     * @throws {CloudInteropAPIError} - If an error occurs during connection
     * @throws {AuthorizationError} - If the connection is unauthorized
     */
    async connect(parameters) {
        this.#validateConnectParams(parameters);
        this.#connectionParams = parameters;
        this.#reconnectRetryLimit = parameters.reconnectRetryLimit || this.#reconnectRetryLimit;
        this.#keepAliveIntervalSeconds = parameters.keepAliveIntervalSeconds || this.#keepAliveIntervalSeconds;
        this.#logger = parameters.logger || this.#logger;
        const { sourceId, platformId } = this.#connectionParams;
        const createSessionResponse = await fetch(`${this.#cloudInteropSettings.url}/api/sessions`, {
            method: 'POST',
            headers: getRequestHeaders(this.#connectionParams),
            body: JSON.stringify({ sourceId: sourceId.trim(), platformId }),
        });
        if (!createSessionResponse.ok) {
            if (createSessionResponse.status === 401 || createSessionResponse.status === 403) {
                throw new AuthorizationError();
            }
            throw new CloudInteropAPIError();
        }
        if (createSessionResponse.status !== 201) {
            throw new CloudInteropAPIError(`Failed to connect to the Cloud Interop service: ${this.#cloudInteropSettings.url}`, 'ERR_CONNECT', new Error(createSessionResponse.statusText));
        }
        this.#sessionDetails = (await createSessionResponse.json());
        const sessionRootTopic = this.#sessionDetails.sessionRootTopic;
        const clientOptions = {
            keepalive: this.#keepAliveIntervalSeconds,
            clientId: this.#sessionDetails.sessionId,
            clean: true,
            protocolVersion: 5,
            // The "will" message will be published on an unexpected disconnection
            // The server can then tidy up.  So it needs every for this client to do that, the session details is perfect
            will: {
                topic: 'interop/lastwill',
                payload: buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(JSON.stringify(this.#sessionDetails)),
                qos: 0,
                retain: false,
            },
            username: this.#sessionDetails.token,
        };
        this.#mqttClient = await mqtt.connectAsync(this.#sessionDetails.url, clientOptions);
        // TODO: Dynamic intent discovery
        // search for any ongoing discoveries in DB and fire report-intents on self
        this.#logger('log', `Cloud Interop successfully connected to ${this.#cloudInteropSettings.url}`);
        this.#mqttClient.on('error', async (error) => {
            // We will receive errors for each failed reconnection attempt
            // We don't want to disconnect on these else we will never reconnect
            if (!this.#attemptingToReconnect) {
                await this.#disconnect(false);
            }
            if (error instanceof mqtt.ErrorWithReasonCode) {
                switch (error.code) {
                    case BadUserNamePasswordError: {
                        await this.#disconnect(false);
                        this.#logger('warn', `Session expired`);
                        this.#events.emitEvent('session-expired');
                        return;
                    }
                    default: {
                        this.#logger('error', `Unknown Infrastructure Error Code ${error.code} : ${error.message}${this.#attemptingToReconnect ? ' during reconnection attempt' : ''}`);
                        // As we are in the middle of a reconnect, lets not emit an error to cut down on the event noise
                        if (!this.#attemptingToReconnect) {
                            this.#events.emitEvent('error', new CloudInteropAPIError(`Unknown Infrastructure Error Code ${error.code} : ${error.message}`, 'ERR_INFRASTRUCTURE', error));
                            break;
                        }
                    }
                }
            }
            else {
                this.#logger('error', `Unknown Error${this.#attemptingToReconnect ? ' during reconnection attempt' : ''}: ${error}`);
                // As we are in the middle of a reconnect, lets not emit an error to cut down on the event noise
                if (!this.#attemptingToReconnect) {
                    this.#events.emitEvent('error', new CloudInteropAPIError(`Unknown Error`, 'ERR_UNKNOWN', error));
                }
            }
        });
        this.#mqttClient.on('reconnect', () => {
            this.#attemptingToReconnect = true;
            this.#reconnectRetries += 1;
            this.#logger('debug', `Cloud Interop attempting reconnection - ${this.#reconnectRetries}...`);
            if (this.#reconnectRetries === this.#reconnectRetryLimit) {
                this.#logger('warn', `Cloud Interop reached max reconnection attempts - ${this.#reconnectRetryLimit}...`);
                this.#disconnect(true);
            }
            this.#events.emitEvent('reconnecting', this.#reconnectRetries);
        });
        // Does not fire on initial connection, only successful reconnection attempts
        this.#mqttClient.on('connect', () => {
            this.#logger('debug', `Cloud Interop successfully reconnected after ${this.#reconnectRetries} attempts`);
            this.#reconnectRetries = 0;
            this.#attemptingToReconnect = false;
            this.#events.emitEvent('reconnected');
        });
        this.#mqttClient.on('message', (topic, message) => {
            if (!this.#sessionDetails) {
                this.#logger('warn', 'Received message when session not connected');
                return;
            }
            this.#handleMessage(topic, message, this.#sessionDetails);
        });
        // Subscribe to all context groups
        this.#mqttClient.subscribe(`${sessionRootTopic}/context-groups/#`);
        // Listen out for global commands
        this.#mqttClient.subscribe(`${sessionRootTopic}/commands`);
        this.#initControllers(this.#mqttClient, this.#sessionDetails, this.#connectionParams);
    }
    /**
     * Disconnects from the Cloud Interop service
     *
     * @returns {*} {Promise<void>}
     * @memberof CloudInteropAPI
     * @throws {CloudInteropAPIError} - If an error occurs during disconnection
     */
    async disconnect() {
        await this.#disconnect(true);
    }
    /**
     * Publishes a new context for the given context group to the other connected sessions
     *
     * @param {string} contextGroup - The context group to publish to
     * @param {object} context - The context to publish
     * @returns {*} {Promise<void>}
     * @memberof CloudInteropAPI
     */
    async setContext(contextGroup, context) {
        // TODO: make context of type OpenFin.Context
        if (!this.#sessionDetails || !this.#connectionParams) {
            throw new Error('Session not connected');
        }
        if (!this.#mqttClient) {
            throw new Error('MQTT client not connected');
        }
        const payload = {
            context,
            timestamp: Date.now(),
        };
        const postResponse = await fetch(`${this.#cloudInteropSettings.url}/api/context-groups/${this.#sessionDetails.sessionId}/${contextGroup}`, {
            method: 'POST',
            headers: getRequestHeaders(this.#connectionParams),
            body: JSON.stringify(payload),
        });
        if (!postResponse.ok) {
            throw new CloudInteropAPIError(`Error setting context for ${contextGroup}`, 'ERR_SETTING_CONTEXT', new Error(postResponse.statusText));
        }
    }
    /**
     * Starts an intent discovery operation
     *
     * @returns {*} {Promise<void>}
     * @memberof CloudInteropAPI
     * @throws {CloudInteropAPIError} - If an error occurs during intent discovery
     */
    async startIntentDiscovery(options) {
        this.#throwIfNotConnected();
        return this.#intents?.startIntentDiscovery(options);
    }
    async raiseIntent(options) {
        this.#throwIfNotConnected();
        return this.#intents?.raiseIntent(options);
    }
    async reportAppIntents(discoveryId, intents) {
        this.#throwIfNotConnected();
        return this.#intents?.reportAppIntents(discoveryId, intents) ?? false;
    }
    async sendIntentResult(initiatingSessionId, result) {
        this.#throwIfNotConnected();
        return this.#intents?.sendIntentResult(initiatingSessionId, result);
    }
    parseSessionId(appId) {
        return parseCloudAppId(appId).sessionId;
    }
    parseAppId(appId) {
        return parseCloudAppId(appId).appId;
    }
    addEventListener(type, callback) {
        this.#events.addEventListener(type, callback);
    }
    removeEventListener(type, callback) {
        this.#events.removeEventListener(type, callback);
    }
    once(type, callback) {
        this.#events.once(type, callback);
    }
    async #disconnect(fireDisconnectedEvent) {
        if (!this.#sessionDetails) {
            return;
        }
        try {
            if (!this.#connectionParams) {
                throw new Error('Connect parameters must be provided');
            }
            const disconnectResponse = await fetch(`${this.#cloudInteropSettings.url}/api/sessions/${this.#sessionDetails.sessionId}`, {
                method: 'DELETE',
                headers: getRequestHeaders(this.#connectionParams),
            });
            if (disconnectResponse.status !== 200) {
                throw new CloudInteropAPIError('Error during session tear down - unexpected status', 'ERR_DISCONNECT', new Error(disconnectResponse.statusText));
            }
        }
        catch (error) {
            throw new CloudInteropAPIError('Error during disconnection', 'ERR_DISCONNECT', error);
        }
        finally {
            this.#destroyControllers();
            this.#mqttClient?.removeAllListeners();
            await this.#mqttClient?.endAsync(true);
            this.#sessionDetails = undefined;
            this.#mqttClient = undefined;
            this.#reconnectRetries = 0;
            this.#attemptingToReconnect = false;
            if (fireDisconnectedEvent) {
                this.#events.emitEvent('disconnected');
            }
        }
    }
    #handleMessage(topic, message, sessionDetails) {
        if (message.length === 0 || !sessionDetails) {
            // Ignore clean up messages
            return;
        }
        const messageEnvelope = JSON.parse(message.toString());
        if (topic.startsWith(`${sessionDetails.sessionRootTopic}/context-groups/`)) {
            const contextEvent = messageEnvelope;
            if (contextEvent.source.sessionId === sessionDetails.sessionId) {
                return;
            }
            const { contextGroup, context, source, history } = contextEvent;
            this.#events.emitEvent('context', { contextGroup, context, source, history: { ...history, clientReceived: Date.now() } });
        }
        else if (topic.startsWith(`${sessionDetails.sessionRootTopic}/commands`)) {
            this.#handleCommandMessage(messageEnvelope);
        }
    }
    #handleCommandMessage(message) {
        switch (message.command) {
            case 'report-intents':
            case 'intent-details':
            case 'raise-intent':
            case 'intent-result': {
                this.#intents?.handleCommandMessage(message);
                break;
            }
            default: {
                this.#logger('warn', `Unknown command message received:\n${JSON.stringify(message, null, 2)}`);
                break;
            }
        }
    }
    #validateConnectParams = (parameters) => {
        if (!parameters) {
            throw new Error('Connect parameters must be provided');
        }
        if (!parameters.sourceId) {
            throw new Error('sourceId must be provided');
        }
        if (parameters.sourceId.includes(APP_ID_DELIM)) {
            throw new Error(`sourceId cannot contain "${APP_ID_DELIM}"`);
        }
        if (!parameters.platformId) {
            throw new Error('platformId must be provided');
        }
        if (parameters.authenticationType === 'jwt' &&
            (!parameters.jwtAuthenticationParameters?.jwtRequestCallback || !parameters.jwtAuthenticationParameters?.authenticationId)) {
            throw new Error('jwtAuthenticationParameters must be provided when using jwt authentication');
        }
        if (parameters.authenticationType === 'basic' &&
            (!parameters.basicAuthenticationParameters?.username || !parameters.basicAuthenticationParameters?.password)) {
            throw new Error('basicAuthenticationParameters must be provided when using basic authentication');
        }
    };
    #initControllers(mqttClient, sessionDetails, connectionParameters) {
        this.#intents = new IntentController(this.#cloudInteropSettings.url, mqttClient, sessionDetails, connectionParameters, this.#events, this.#logger);
    }
    #destroyControllers() {
        this.#intents = undefined;
    }
    #throwIfNotConnected() {
        if (!this.#sessionDetails || !this.#connectionParams) {
            throw new Error('Session not connected');
        }
        if (!this.#mqttClient) {
            throw new Error('MQTT client not connected');
        }
    }
}

/* eslint-disable no-console */
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["DEBUG"] = 0] = "DEBUG";
    LogLevel[LogLevel["INFO"] = 1] = "INFO";
    LogLevel[LogLevel["WARN"] = 2] = "WARN";
    // TODO: eventually support NONE = 3
})(LogLevel || (LogLevel = {}));
const levelToStr = new Map([
    [LogLevel.DEBUG, 'debug'],
    [LogLevel.INFO, 'info'],
    [LogLevel.WARN, 'warn']
]);
const strToLevel = new Map([
    ['debug', LogLevel.DEBUG],
    ['info', LogLevel.INFO],
    ['warn', LogLevel.WARN],
    // reduce 'error' and 'log' to warn/info
    ['error', LogLevel.WARN],
    ['log', LogLevel.INFO]
]);
const getTimestamp = () => new Date().toISOString().replace('T', ' ').replace('Z', '');
/**
 * This logger retrofits on top of the CloudAPILogger function signature so it must use CloudAPILogLevel inputs
 */
class Logger {
    logLevel;
    // eslint-disable-next-line no-useless-constructor
    constructor(level = 'warn') {
        this.logLevel = strToLevel.get(level) ?? LogLevel.WARN;
    }
    log(logLevel, message, ...args) {
        const level = strToLevel.get(logLevel) ?? this.logLevel;
        if (this.logLevel <= level) {
            // always write to console.debug to avoid cluttering client logs
            // TODO(RUN-9370): Change this to console.debug after this runtime ticket is fixed
            console.log(`${getTimestamp()} | CloudInteropOverride [${levelToStr.get(level)}] ${message}`, ...args);
        }
    }
}

const isContext = (chan) => {
    const c = chan;
    return c && typeof c === 'object' && 'type' in c && !('broadcast' in c);
};

const DEFAULT_TIMEOUT = 3000;
/**
 * Enhances InteropBroker with Cloud Interop functionality
 *
 * Ensure that CloudInteropOverride comes first in the list of composable overrides, for example:
 * ```
 * const CloudInteropOverride = await cloudInteropOverride(settings);
 * await fin.Platform.init({
 *     ...,
 *     interopOverride: [
 *         CloudInteropOverride, // <--- must come first
 *         (BaseProvider) => class MyCustomProvider extends BaseProvider { ... }
 *     ]
 * });
 * ```
 *
 * @param {CloudInteropOverrideParams} config Configuration to connect to the Cloud Interop service
 */
async function cloudInteropOverride(config) {
    const { url, findIntentTimeout = DEFAULT_TIMEOUT, logLevel = 'warn', logger = new Logger(logLevel), ...settings } = config;
    const client = new CloudInteropAPI({ url });
    // create closure to use computed settings above in the CloudInteropOverride::reconnect function below
    const initConnect = async (connectParams = settings) => {
        client.connect({
            ...connectParams,
            // shim our logSink onto cloud-api logger func
            logger: (level, msg) => logger.log(level, msg)
        });
    };
    const isLocalTargetSession = (targetAppId) => {
        const target = typeof targetAppId === 'string' ? targetAppId : targetAppId.appId;
        const targetSessionId = client.parseSessionId(target);
        return !targetSessionId || targetSessionId === client.sessionDetails?.sessionId;
    };
    try {
        await initConnect();
    }
    catch (err) {
        // eslint-disable-next-line no-console
        logger.log('warn', `Failed to connect to Cloud Interop Service. Call interopBroker.cloudReconnect() to attempt reconnection`, err);
    }
    return (BaseProvider) => {
        return class CloudInteropOverride extends BaseProvider {
            contextListener;
            setContextFilter = (context) => true;
            constructor() {
                super();
                this.contextListener = (event) => {
                    const { contextGroup, context, source } = event;
                    if (this.getContextGroups()
                        .map(({ id }) => id)
                        .includes(contextGroup) &&
                        client.sessionDetails?.sessionId !== source.sessionId) {
                        super.setContextForGroup({ context: context }, contextGroup);
                    }
                };
                client.addEventListener('context', this.contextListener);
                client.addEventListener('report-intents', async ({ discoveryId, initiatingSessionId, findOptions }) => {
                    logger.log('debug', `Received report-intents request from ${initiatingSessionId}`);
                    let appIntents = [];
                    try {
                        if (findOptions.type === 'find-intent') {
                            const intent = (await super.handleInfoForIntent({
                                name: findOptions.intent,
                                metadata: { resultType: findOptions.resultType },
                                context: findOptions.context
                            }, null));
                            appIntents = [intent];
                        }
                        else {
                            appIntents = (await super.handleInfoForIntentsByContext({ context: findOptions.context, metadata: { resultType: findOptions.resultType } }, null));
                        }
                    }
                    catch (e) {
                        logger.log('warn', `Error in report-intents listener, proceeding with an empty response: ${e}`);
                    }
                    logger.log('debug', `Reporting intents :\n${JSON.stringify(appIntents, null, 2)}`);
                    await this.#maybeReconnect();
                    await client.reportAppIntents(discoveryId, appIntents);
                });
                client.addEventListener('raise-intent', async ({ initiatingSessionId, raiseOptions }) => {
                    logger.log('debug', `Received raise-intent request from ${initiatingSessionId}`);
                    if ('metadata' in raiseOptions.context && raiseOptions.context.metadata.target) {
                        raiseOptions.context.metadata.target = {
                            ...raiseOptions.context.metadata.target,
                            appId: client.parseAppId(raiseOptions.context.metadata.target)
                        };
                    }
                    let result;
                    try {
                        const intentResolution = (raiseOptions.type === 'raise-intent'
                            ? await super.handleFiredIntent({ name: raiseOptions.intent, context: raiseOptions.context }, null)
                            : await super.handleFiredIntentForContext(raiseOptions.context, null));
                        const intentResult = await intentResolution.getResult();
                        const { intent, source, version } = intentResolution;
                        result = { intent, source, version };
                        logger.log('debug', `Intent result: ${JSON.stringify(intentResult, null, 2)}`);
                        if (isContext(intentResult)) {
                            // currently only supporting Contexts as results
                            result.getResult = intentResult;
                        }
                    }
                    catch (e) {
                        logger.log('warn', `Error in raise-intent, forwarding error response to the cloud: ${e}`, e.stack);
                        result = { error: e.message };
                    }
                    logger.log('debug', `Sending intent result to ${initiatingSessionId}:\n${JSON.stringify(result, null, 2)}`);
                    await this.#maybeReconnect();
                    await client.sendIntentResult(initiatingSessionId, result);
                });
            }
            async handleInfoForIntent(options, clientIdentity) {
                logger.log('debug', `in handleInfoForIntent`, options);
                const { name, context, metadata } = options;
                const intentsPromise = super.handleInfoForIntent(options, clientIdentity);
                return this.#handleInfoForIntent(intentsPromise, name, context, metadata?.resultType);
            }
            async handleInfoForIntentsByContext(context, clientIdentity) {
                logger.log('debug', `in handleInfoForIntentsByContext`, context);
                const intentsPromise = super.handleInfoForIntentsByContext(context, clientIdentity);
                return 'type' in context
                    ? this.#handleInfoForIntent(intentsPromise, undefined, context, undefined)
                    : this.#handleInfoForIntent(intentsPromise, undefined, context.context, context.metadata?.resultType);
            }
            async handleFiredIntent(intent, clientIdentity) {
                logger.log('debug', `in handleFiredIntent`, intent);
                return this.#handleFiredIntent(clientIdentity, intent);
            }
            async handleFiredIntentForContext(contextForIntent, clientIdentity) {
                logger.log('debug', `in handleFiredIntentForContext`, contextForIntent);
                return this.#handleFiredIntent(clientIdentity, contextForIntent);
            }
            async #handleInfoForIntent(
            /**
             * Promise to execute in parallel with intent discovery
             */
            localIntentsPromise, 
            /**
             * if present -> findIntent
             */
            intent, 
            /**
             * if present -> findIntentsByContext
             */
            context, resultType) {
                logger.log('debug', `in #handleInfoForIntent`, { intent, context, resultType });
                if (!intent && !context) {
                    throw new Error('[CloudInteropOverride] #handleInfoForIntent requires intent or context');
                }
                if (context?.metadata?.target) {
                    // safeguard MQ traffic by short circuiting here
                    // if session id not parsable, it's a local intent, also if session id
                    // is parsed and matches the current session, treat it as a local findIntent action
                    if (isLocalTargetSession(context.metadata.target)) {
                        logger.log('debug', `#handleInfoForIntent received an appId for the same session, returning local intent results only`);
                        return localIntentsPromise;
                    }
                }
                await this.#maybeReconnect();
                const appIntentMap = new Map();
                const upsertToMap = ({ intent, apps }) => {
                    // merge all apps for the same intent
                    const existingApps = appIntentMap.get(intent.name) ?? [];
                    appIntentMap.set(intent.name, [...existingApps, ...apps]);
                };
                let aggregateResolve;
                const aggregatePromise = new Promise((resolve) => {
                    aggregateResolve = resolve;
                });
                client.once('aggregate-intent-details', ({ responses }) => {
                    logger.log('debug', `Received aggregate intent details, length: ${responses.length}`);
                    responses.forEach(({ intents }) => intents.forEach(upsertToMap));
                    aggregateResolve();
                });
                const options = {
                    timeout: findIntentTimeout,
                    findOptions: intent
                        ? { type: 'find-intent', intent, context, resultType }
                        : { type: 'find-intents-by-context', context: context, resultType }
                };
                logger.log('debug', 'Starting intent discovery');
                await client.startIntentDiscovery(options);
                await aggregatePromise;
                logger.log('debug', 'Intent discovery completed');
                const localAppIntents = (await localIntentsPromise
                    .then((intents) => (Array.isArray(intents) ? intents : [intents]))
                    .catch(() => []));
                localAppIntents.forEach(upsertToMap);
                const appIntents = Array.from(appIntentMap.entries()).map(([intent, apps]) => ({
                    intent: { name: intent, displayName: intent },
                    apps
                }));
                if (appIntents.length === 0) {
                    throw new Error('NoAppsFound');
                }
                return (intent ? appIntents[0] : appIntents);
            }
            async #handleFiredIntent(clientIdentity, input) {
                logger.log('debug', `in #handleFiredIntent`, { input });
                await this.#maybeReconnect();
                const targetApp = input?.metadata?.target;
                if (!targetApp) {
                    throw new Error(`[CloudInteropOverride] handleFiredIntent requires intent.metadata.target or context.metadata.target to be an appId`);
                }
                const isIntent = (input) => 'name' in input;
                // safeguard MQ traffic by short circuiting here
                // if session id not parsable, it's a local intent, also if session id
                // is parsed and matches the current session, treat it as a local intent
                if (isLocalTargetSession(targetApp)) {
                    logger.log('debug', `#handleFiredIntent received an appId for the same session, firing intent locally`);
                    return (isIntent(input)
                        ? super.handleFiredIntent(input, clientIdentity)
                        : super.handleFiredIntentForContext(input, clientIdentity));
                }
                let intentResolve;
                const intentResultPromise = new Promise((resolve) => {
                    intentResolve = resolve;
                });
                client.once('intent-result', ({ result, source }) => {
                    logger.log('debug', `Received intent-result`, JSON.stringify({ source, result }, null, 2));
                    intentResolve(result);
                });
                const raiseOptions = isIntent(input)
                    ? { type: 'raise-intent', intent: input.name, context: input.context }
                    : { type: 'raise-intent-for-context', context: input };
                await client.raiseIntent({ appId: targetApp, raiseOptions });
                // TODO: raise-intent timeout via promise.race?
                const intentResult = await intentResultPromise;
                const publishLocalResult = async (result) => {
                    // NOTE: since we aren't changing getIntentResolution in the fdc3 impl code,
                    // we "fake" a local intent result to ensure getResult resolves correctly, see:
                    // js-adapter/src/api/interop/fdc3/utils.ts::getIntentResolution::fin.InterApplicationBus.subscribe
                    const intentResolutionResultId = input.metadata?.intentResolutionResultId;
                    // skip for web/external connections
                    if (!this.fin.me.isOpenFin) {
                        return;
                    }
                    if (intentResolutionResultId) {
                        this.fin.InterApplicationBus.publish(intentResolutionResultId, result).catch(() => {
                            logger.log('warn', `#handleFiredIntent could not create an intent resolution for AppId: ${targetApp}, getResult call will not work.`, intentResult);
                        });
                    }
                };
                if ('error' in intentResult) {
                    logger.log('warn', `#handleFiredIntent could not raise intent for AppId: ${targetApp}`);
                    // matching { error: Boolean } type of js-adapter/src/api/interop/fdc3/utils.ts::IntentResultPromisePayload
                    publishLocalResult({ error: true });
                    // Presumably, the error is FDC3 compliant, so throw it as is
                    throw new Error(intentResult.error);
                }
                const source = typeof intentResult.source === 'string' ? { appId: intentResult.source } : intentResult.source;
                const finalResult = { ...intentResult, source };
                publishLocalResult(finalResult.getResult);
                return {
                    ...finalResult,
                    // Currently only supporting contexts as results
                    getResult: async () => finalResult.getResult
                };
            }
            async setContextForGroup({ context }, contextGroupId) {
                // TODO: is this right? should we attempt a reconnect instead of check connected state?
                if (this.cloudConnectionState === 'connected' && this.setContextFilter(context)) {
                    await client.setContext(contextGroupId, context);
                }
                super.setContextForGroup({ context }, contextGroupId);
            }
            /**
             * Attempts reconnection to the Cloud Interop service
             * @param {ConnectParameters} settings Parameters for connecting to the Interop Service
             * @return {*} {Promise<void>}
             * @throws {CloudInteropAPIError}
             * @throws {AuthorizationError}
             * @memberof CloudInteropOverride
             */
            async cloudReconnect(settings) {
                try {
                    if (this.cloudConnectionState === 'connected') {
                        await client.disconnect();
                    }
                    await initConnect(settings);
                }
                catch (err) {
                    logger.log('warn', `Failed reconnection to Cloud Interop Service.`, err);
                }
            }
            /**
             * Sets the listener for context events coming from the Cloud Interop service
             * @param listener Context event listener
             * @return {*} {void}
             * @memberof CloudInteropOverride
             */
            setCloudContextListener(listener) {
                client.removeEventListener('context', this.contextListener);
                this.contextListener = listener;
                client.addEventListener('context', this.contextListener);
            }
            /**
             * Sets a filter that is applied to local context before it is forwarded to the Cloud Interop service
             * @param filter
             * @return {*} {void}
             * @memberof CloudInteropOverride
             */
            setCloudSetContextFilter(filter) {
                this.setContextFilter = filter;
            }
            get cloudConnectionState() {
                if (client.mqttClient?.connected) {
                    return 'connected';
                }
                if (client.mqttClient?.reconnecting) {
                    return 'reconnecting';
                }
                return 'disconnected';
            }
            #maybeReconnect = async () => {
                // TODO: Remove this helper when SAAS-1588 is solved
                if (this.cloudConnectionState !== 'connected') {
                    await this.cloudReconnect();
                }
            };
        };
    };
}




/***/ }),

/***/ "../../node_modules/@openfin/microsoft365/openfin.ms365.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@openfin/microsoft365/openfin.ms365.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiError: () => (/* binding */ o),
/* harmony export */   ApiRequestError: () => (/* binding */ i),
/* harmony export */   AuthTokenExpiredError: () => (/* binding */ a),
/* harmony export */   AuthorizationError: () => (/* binding */ s),
/* harmony export */   InitializationError: () => (/* binding */ u),
/* harmony export */   InteropError: () => (/* binding */ l),
/* harmony export */   ParameterError: () => (/* binding */ c),
/* harmony export */   TeamsConnection: () => (/* binding */ f),
/* harmony export */   connect: () => (/* binding */ d),
/* harmony export */   disableLogging: () => (/* binding */ h),
/* harmony export */   enableLogging: () => (/* binding */ p)
/* harmony export */ });
/*! For license information please see openfin.ms365.js.LICENSE.txt */
var t={876:t=>{const{AbortController:e,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=n,t.exports.default=e},60:(t,e)=>{e.byteLength=function(t){var e=s(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=s(t),a=i[0],u=i[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,u)),c=0,f=u>0?a-4:a;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===u&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===u&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=16383,s=0,l=r-o;s<l;s+=a)i.push(u(t,s,s+a>l?l:s+a));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},485:(t,e,n)=>{const r=n(60),o=n(215),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=s(n);const o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const o=function(t){if(u.isBuffer(t)){const e=0|p(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||K(t.length)?s(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return c(t),s(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(o)return r?-1:V(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,o){let i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(t,i)===l(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(l(t,i+r)!==l(e,r)){n=!1;break}if(n)return i}return-1}function w(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(K(r))return a;t[n+a]=r}return a}function _(t,e,n,r){return J(V(e,t.length-n),t,n,r)}function E(t,e,n,r){return J(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return J(G(e),t,n,r)}function A(t,e,n,r){return J(function(t,e){let n,r,o;const i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function I(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=n){let n,r,s,u;switch(a){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(i=u));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=t[o+1],r=t[o+2],s=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(t){const e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=R));return n}(r)}e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))o+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,o){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(i,a),l=this.slice(r,o),c=t.slice(e,n);for(let t=0;t<s;++t)if(l[t]!==c[t]){i=l[t],a=c[t];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function x(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function C(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function B(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=X[t[r]];return o}function k(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r,o){F(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function j(t,e,n,r,o){F(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function N(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,i){return e=+e,n>>>=0,i||N(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}let o=0,i=1,a=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=u.isBuffer(t)?t:u.from(t,r),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%a]}return this};const W={};function $(t,e,n){W[t]=class NodeError extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function F(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||q(e,t.length-(n+1))}(r,o,i)}function z(t,e){if("number"!=typeof t)throw new W.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=D(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=D(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function V(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},465:t=>{var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}g(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,n)}(t,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,a,l;if(s(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(t))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=c.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)r(c[n],this,e)}return!0},i.prototype.addListener=function(t,e){return l(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return l(this,t,e,!0)},i.prototype.once=function(t,e){return s(e),this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,f(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,o,i,a;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return d(this,t,!0)},i.prototype.rawListeners=function(t){return d(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},215:(t,e)=>{e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+h]=255&a,h+=p,a/=256,l-=8);t[n+h-p]|=128*g}},951:function(t,e,n){var r;t=n.nmd(t),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,y=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],v="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",E="[object Error]",S="[object Function]",A="[object GeneratorFunction]",I="[object Map]",T="[object Number]",R="[object Object]",x="[object Promise]",C="[object RegExp]",B="[object Set]",k="[object String]",L="[object Symbol]",O="[object WeakMap]",U="[object ArrayBuffer]",j="[object DataView]",N="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",W="[object Int16Array]",$="[object Int32Array]",D="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",H=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,K=RegExp(J.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,it=RegExp(ot.source),at=/^\s+/,st=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",It="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="\\u2700-\\u27bf",Rt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Bt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="['’]",Lt="["+At+"]",Ot="["+Bt+"]",Ut="["+It+"]",jt="\\d+",Nt="["+Tt+"]",Mt="["+Rt+"]",Pt="[^"+At+Bt+jt+Tt+Rt+xt+"]",Wt="\\ud83c[\\udffb-\\udfff]",$t="[^"+At+"]",Dt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+xt+"]",qt="\\u200d",Ht="(?:"+Mt+"|"+Pt+")",Vt="(?:"+zt+"|"+Pt+")",Gt="(?:['’](?:d|ll|m|re|s|t|ve))?",Jt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Ut+"|"+Wt+")"+"?",Kt="["+Ct+"]?",Xt=Kt+Yt+("(?:"+qt+"(?:"+[$t,Dt,Ft].join("|")+")"+Kt+Yt+")*"),Zt="(?:"+[Nt,Dt,Ft].join("|")+")"+Xt,Qt="(?:"+[$t+Ut+"?",Ut,Dt,Ft,Lt].join("|")+")",te=RegExp(kt,"g"),ee=RegExp(Ut,"g"),ne=RegExp(Wt+"(?="+Wt+")|"+Qt+Xt,"g"),re=RegExp([zt+"?"+Mt+"+"+Gt+"(?="+[Ot,zt,"$"].join("|")+")",Vt+"+"+Jt+"(?="+[Ot,zt+Ht,"$"].join("|")+")",zt+"?"+Ht+"+"+Gt,zt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,Zt].join("|"),"g"),oe=RegExp("["+qt+At+It+Ct+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,ue={};ue[N]=ue[M]=ue[P]=ue[W]=ue[$]=ue[D]=ue[F]=ue[z]=ue[q]=!0,ue[v]=ue[b]=ue[U]=ue[w]=ue[j]=ue[_]=ue[E]=ue[S]=ue[I]=ue[T]=ue[R]=ue[C]=ue[B]=ue[k]=ue[O]=!1;var le={};le[v]=le[b]=le[U]=le[j]=le[w]=le[_]=le[N]=le[M]=le[P]=le[W]=le[$]=le[I]=le[T]=le[R]=le[C]=le[B]=le[k]=le[L]=le[D]=le[F]=le[z]=le[q]=!0,le[E]=le[S]=le[O]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,de=parseInt,he="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=he||pe||Function("return this")(),ye=e&&!e.nodeType&&e,me=ye&&t&&!t.nodeType&&t,ve=me&&me.exports===ye,be=ve&&he.process,we=function(){try{var t=me&&me.require&&me.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),_e=we&&we.isArrayBuffer,Ee=we&&we.isDate,Se=we&&we.isMap,Ae=we&&we.isRegExp,Ie=we&&we.isSet,Te=we&&we.isTypedArray;function Re(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xe(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Be(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Le(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Oe(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Ue(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function je(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Ne(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Me(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Pe(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function We(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $e=Ge("length");function De(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Fe(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function ze(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Fe(t,He,n)}function qe(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function He(t){return t!=t}function Ve(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:g}function Ge(t){return function(e){return null==e?o:e[t]}}function Je(t){return function(e){return null==t?o:t[e]}}function Ye(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Ke(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function Xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ze(t){return t?t.slice(0,yn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return je(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&ze(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}var on=Je({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ce[t]}function un(t){return oe.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,i[o++]=n)}return i}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):$e(t)}function gn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function yn(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var mn=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var n,r=(e=null==e?ge:vn.defaults(ge.Object(),e,vn.pick(ge,ae))).Array,st=e.Date,At=e.Error,It=e.Function,Tt=e.Math,Rt=e.Object,xt=e.RegExp,Ct=e.String,Bt=e.TypeError,kt=r.prototype,Lt=It.prototype,Ot=Rt.prototype,Ut=e["__core-js_shared__"],jt=Lt.toString,Nt=Ot.hasOwnProperty,Mt=0,Pt=(n=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Wt=Ot.toString,$t=jt.call(Rt),Dt=ge._,Ft=xt("^"+jt.call(Nt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ve?e.Buffer:o,qt=e.Symbol,Ht=e.Uint8Array,Vt=zt?zt.allocUnsafe:o,Gt=cn(Rt.getPrototypeOf,Rt),Jt=Rt.create,Yt=Ot.propertyIsEnumerable,Kt=kt.splice,Xt=qt?qt.isConcatSpreadable:o,Zt=qt?qt.iterator:o,Qt=qt?qt.toStringTag:o,ne=function(){try{var t=hi(Rt,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ce=st&&st.now!==ge.Date.now&&st.now,he=e.setTimeout!==ge.setTimeout&&e.setTimeout,pe=Tt.ceil,ye=Tt.floor,me=Rt.getOwnPropertySymbols,be=zt?zt.isBuffer:o,we=e.isFinite,$e=kt.join,Je=cn(Rt.keys,Rt),bn=Tt.max,wn=Tt.min,_n=st.now,En=e.parseInt,Sn=Tt.random,An=kt.reverse,In=hi(e,"DataView"),Tn=hi(e,"Map"),Rn=hi(e,"Promise"),xn=hi(e,"Set"),Cn=hi(e,"WeakMap"),Bn=hi(Rt,"create"),kn=Cn&&new Cn,Ln={},On=Wi(In),Un=Wi(Tn),jn=Wi(Rn),Nn=Wi(xn),Mn=Wi(Cn),Pn=qt?qt.prototype:o,Wn=Pn?Pn.valueOf:o,$n=Pn?Pn.toString:o;function Dn(t){if(ns(t)&&!Ha(t)&&!(t instanceof Hn)){if(t instanceof qn)return t;if(Nt.call(t,"__wrapped__"))return $i(t)}return new qn(t)}var Fn=function(){function t(){}return function(e){if(!es(e))return{};if(Jt)return Jt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function zn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Jn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Xn(t,e){var n=Ha(t),r=!n&&qa(t),o=!n&&!r&&Ya(t),i=!n&&!r&&!o&&cs(t),a=n||r||o||i,s=a?Xe(t.length,Ct):[],u=s.length;for(var l in t)!e&&!Nt.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wi(l,u))||s.push(l);return s}function Zn(t){var e=t.length;return e?t[Yr(0,e-1)]:o}function Qn(t,e){return Ni(ko(t),ur(e,0,t.length))}function tr(t){return Ni(ko(t))}function er(t,e,n){(n!==o&&!Da(t[e],n)||n===o&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Nt.call(t,e)&&Da(r,n)&&(n!==o||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Da(t[n][0],e))return n;return-1}function or(t,e,n,r){return hr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function ir(t,e){return t&&Lo(e,Ls(e),t)}function ar(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var n=-1,i=e.length,a=r(i),s=null==t;++n<i;)a[n]=s?o:Rs(t,e[n]);return a}function ur(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function lr(t,e,n,r,i,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!es(t))return t;var f=Ha(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return ko(t,s)}else{var d=yi(t),h=d==S||d==A;if(Ya(t))return Io(t,u);if(d==R||d==v||h&&!i){if(s=l||h?{}:vi(t),!u)return l?function(t,e){return Lo(t,gi(t),e)}(t,function(t,e){return t&&Lo(e,Os(e),t)}(s,t)):function(t,e){return Lo(t,pi(t),e)}(t,ir(s,t))}else{if(!le[d])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case U:return To(t);case w:case _:return new r(+t);case j:return function(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case M:case P:case W:case $:case D:case F:case z:case q:return Ro(t,n);case I:return new r;case T:case k:return new r(t);case C:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case B:return new r;case L:return o=t,Wn?Rt(Wn.call(o)):{}}var o}(t,d,u)}}a||(a=new Kn);var p=a.get(t);if(p)return p;a.set(t,s),ss(t)?t.forEach((function(r){s.add(lr(r,e,n,r,t,a))})):rs(t)&&t.forEach((function(r,o){s.set(o,lr(r,e,n,o,t,a))}));var g=f?o:(c?l?ai:ii:l?Os:Ls)(t);return Ce(g||t,(function(r,o){g&&(r=t[o=r]),nr(s,o,lr(r,e,n,o,t,a))})),s}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Rt(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Bt(i);return Li((function(){t.apply(o,n)}),e)}function dr(t,e,n,r){var o=-1,i=Oe,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=je(e,Qe(n))),r?(i=Ue,a=!1):e.length>=200&&(i=en,a=!1,e=new Yn(e));t:for(;++o<s;){var c=t[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(e[d]===f)continue t;u.push(c)}else i(e,f,r)||u.push(c)}return u}Dn.templateSettings={escape:Z,evaluate:Q,interpolate:tt,variable:"",imports:{_:Dn}},Dn.prototype=zn.prototype,Dn.prototype.constructor=Dn,qn.prototype=Fn(zn.prototype),qn.prototype.constructor=qn,Hn.prototype=Fn(zn.prototype),Hn.prototype.constructor=Hn,Vn.prototype.clear=function(){this.__data__=Bn?Bn(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(Bn){var n=e[t];return n===a?o:n}return Nt.call(e,t)?e[t]:o},Vn.prototype.has=function(t){var e=this.__data__;return Bn?e[t]!==o:Nt.call(e,t)},Vn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bn&&e===o?a:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Gn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?o:e[n][1]},Gn.prototype.has=function(t){return rr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Tn||Gn),string:new Vn}},Jn.prototype.delete=function(t){var e=fi(this,t).delete(t);return this.size-=e?1:0,e},Jn.prototype.get=function(t){return fi(this,t).get(t)},Jn.prototype.has=function(t){return fi(this,t).has(t)},Jn.prototype.set=function(t,e){var n=fi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,a),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Tn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(t,e),this.size=n.size,this};var hr=jo(_r),pr=jo(Er,!0);function gr(t,e){var n=!0;return hr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function yr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s==s&&!ls(s):n(s,u)))var u=s,l=a}return l}function mr(t,e){var n=[];return hr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function vr(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=bi),o||(o=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?vr(s,e-1,n,r,o):Ne(o,s):r||(o[o.length]=s)}return o}var br=No(),wr=No(!0);function _r(t,e){return t&&br(t,e,Ls)}function Er(t,e){return t&&wr(t,e,Ls)}function Sr(t,e){return Le(e,(function(e){return Za(t[e])}))}function Ar(t,e){for(var n=0,r=(e=_o(e,t)).length;null!=t&&n<r;)t=t[Pi(e[n++])];return n&&n==r?t:o}function Ir(t,e,n){var r=e(t);return Ha(t)?r:Ne(r,n(t))}function Tr(t){return null==t?t===o?"[object Undefined]":"[object Null]":Qt&&Qt in Rt(t)?function(t){var e=Nt.call(t,Qt),n=t[Qt];try{t[Qt]=o;var r=!0}catch(t){}var i=Wt.call(t);r&&(e?t[Qt]=n:delete t[Qt]);return i}(t):function(t){return Wt.call(t)}(t)}function Rr(t,e){return t>e}function xr(t,e){return null!=t&&Nt.call(t,e)}function Cr(t,e){return null!=t&&e in Rt(t)}function Br(t,e,n){for(var i=n?Ue:Oe,a=t[0].length,s=t.length,u=s,l=r(s),c=1/0,f=[];u--;){var d=t[u];u&&e&&(d=je(d,Qe(e))),c=wn(d.length,c),l[u]=!n&&(e||a>=120&&d.length>=120)?new Yn(u&&d):o}d=t[0];var h=-1,p=l[0];t:for(;++h<a&&f.length<c;){var g=d[h],y=e?e(g):g;if(g=n||0!==g?g:0,!(p?en(p,y):i(f,y,n))){for(u=s;--u;){var m=l[u];if(!(m?en(m,y):i(t[u],y,n)))continue t}p&&p.push(y),f.push(g)}}return f}function kr(t,e,n){var r=null==(t=Ci(t,e=_o(e,t)))?t:t[Pi(Xi(e))];return null==r?o:Re(r,t,n)}function Lr(t){return ns(t)&&Tr(t)==v}function Or(t,e,n,r,i){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=Ha(t),u=Ha(e),l=s?b:yi(t),c=u?b:yi(e),f=(l=l==v?R:l)==R,d=(c=c==v?R:c)==R,h=l==c;if(h&&Ya(t)){if(!Ya(e))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Kn),s||cs(t)?ri(t,e,n,r,i,a):function(t,e,n,r,o,i,a){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case U:return!(t.byteLength!=e.byteLength||!i(new Ht(t),new Ht(e)));case w:case _:case T:return Da(+t,+e);case E:return t.name==e.name&&t.message==e.message;case C:case k:return t==e+"";case I:var s=ln;case B:var u=1&r;if(s||(s=dn),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=ri(s(t),s(e),r,o,i,a);return a.delete(t),c;case L:if(Wn)return Wn.call(t)==Wn.call(e)}return!1}(t,e,l,n,r,i,a);if(!(1&n)){var p=f&&Nt.call(t,"__wrapped__"),g=d&&Nt.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,m=g?e.value():e;return a||(a=new Kn),i(y,m,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(t,e,n,r,i,a){var s=1&n,u=ii(t),l=u.length,c=ii(e),f=c.length;if(l!=f&&!s)return!1;var d=l;for(;d--;){var h=u[d];if(!(s?h in e:Nt.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);var m=s;for(;++d<l;){var v=t[h=u[d]],b=e[h];if(r)var w=s?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(w===o?v===b||i(v,b,n,r,a):w)){y=!1;break}m||(m="constructor"==h)}if(y&&!m){var _=t.constructor,E=e.constructor;_==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(y=!1)}return a.delete(t),a.delete(e),y}(t,e,n,r,i,a)}(t,e,n,r,Or,i))}function Ur(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Rt(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var l=(u=n[i])[0],c=t[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in t))return!1}else{var d=new Kn;if(r)var h=r(c,f,l,t,e,d);if(!(h===o?Or(f,c,3,r,d):h))return!1}}return!0}function jr(t){return!(!es(t)||(e=t,Pt&&Pt in e))&&(Za(t)?Ft:vt).test(Wi(t));// removed by dead control flow
{ var e; }}function Nr(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Ha(t)?Fr(t[0],t[1]):Dr(t):hu(t)}function Mr(t){if(!Ii(t))return Je(t);var e=[];for(var n in Rt(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pr(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Rt(t))e.push(n);return e}(t);var e=Ii(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}function Wr(t,e){return t<e}function $r(t,e){var n=-1,o=Ga(t)?r(t.length):[];return hr(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Dr(t){var e=di(t);return 1==e.length&&e[0][2]?Ri(e[0][0],e[0][1]):function(n){return n===t||Ur(n,t,e)}}function Fr(t,e){return Ei(t)&&Ti(e)?Ri(Pi(t),e):function(n){var r=Rs(n,t);return r===o&&r===e?xs(n,t):Or(e,r,3)}}function zr(t,e,n,r,i){t!==e&&br(e,(function(a,s){if(i||(i=new Kn),es(a))!function(t,e,n,r,i,a,s){var u=Bi(t,n),l=Bi(e,n),c=s.get(l);if(c)return void er(t,n,c);var f=a?a(u,l,n+"",t,e,s):o,d=f===o;if(d){var h=Ha(l),p=!h&&Ya(l),g=!h&&!p&&cs(l);f=l,h||p||g?Ha(u)?f=u:Ja(u)?f=ko(u):p?(d=!1,f=Io(l,!0)):g?(d=!1,f=Ro(l,!0)):f=[]:is(l)||qa(l)?(f=u,qa(u)?f=vs(u):es(u)&&!Za(u)||(f=vi(l))):d=!1}d&&(s.set(l,f),i(f,l,r,a,s),s.delete(l));er(t,n,f)}(t,e,s,n,zr,r,i);else{var u=r?r(Bi(t,s),a,s+"",t,e,i):o;u===o&&(u=a),er(t,s,u)}}),Os)}function qr(t,e){var n=t.length;if(n)return wi(e+=e<0?n:0,n)?t[e]:o}function Hr(t,e,n){e=e.length?je(e,(function(t){return Ha(t)?function(e){return Ar(e,1===t.length?t[0]:t)}:t})):[ou];var r=-1;e=je(e,Qe(ci()));var o=$r(t,(function(t,n,o){var i=je(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(o,(function(t,e){return function(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;for(;++r<a;){var u=xo(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Vr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=Ar(t,a);n(s,a)&&to(i,_o(a,t),s)}return i}function Gr(t,e,n,r){var o=r?qe:ze,i=-1,a=e.length,s=t;for(t===e&&(e=ko(e)),n&&(s=je(t,Qe(n)));++i<a;)for(var u=0,l=e[i],c=n?n(l):l;(u=o(s,c,u,r))>-1;)s!==t&&Kt.call(s,u,1),Kt.call(t,u,1);return t}function Jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;wi(o)?Kt.call(t,o,1):ho(t,o)}}return t}function Yr(t,e){return t+ye(Sn()*(e-t+1))}function Kr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=ye(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return Oi(xi(t,e,ou),t+"")}function Zr(t){return Zn(Ds(t))}function Qr(t,e){var n=Ds(t);return Ni(n,ur(e,0,n.length))}function to(t,e,n,r){if(!es(t))return t;for(var i=-1,a=(e=_o(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var l=Pi(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=es(f)?f:wi(e[i+1])?[]:{})}nr(u,l,c),u=u[l]}return t}var eo=kn?function(t,e){return kn.set(t,e),t}:ou,no=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:ou;function ro(t){return Ni(Ds(t))}function oo(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=r(i);++o<i;)a[o]=t[o+e];return a}function io(t,e){var n;return hr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function ao(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!ls(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return so(t,e,ou,n)}function so(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,l=ls(e),c=e===o;i<a;){var f=ye((i+a)/2),d=n(t[f]),h=d!==o,p=null===d,g=d==d,y=ls(d);if(s)var m=r||g;else m=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!y):!p&&!y&&(r?d<=e:d<e);m?i=f+1:a=f}return wn(a,4294967294)}function uo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Da(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function lo(t){return"number"==typeof t?t:ls(t)?g:+t}function co(t){if("string"==typeof t)return t;if(Ha(t))return je(t,co)+"";if(ls(t))return $n?$n.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fo(t,e,n){var r=-1,o=Oe,i=t.length,a=!0,s=[],u=s;if(n)a=!1,o=Ue;else if(i>=200){var l=e?null:Xo(t);if(l)return dn(l);a=!1,o=en,u=new Yn}else u=e?[]:s;t:for(;++r<i;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),s.push(c)}else o(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function ho(t,e){return null==(t=Ci(t,e=_o(e,t)))||delete t[Pi(Xi(e))]}function po(t,e,n,r){return to(t,e,n(Ar(t,e)),r)}function go(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?oo(t,r?0:i,r?i+1:o):oo(t,r?i+1:0,r?o:i)}function yo(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Me(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function mo(t,e,n){var o=t.length;if(o<2)return o?fo(t[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=t[i],u=-1;++u<o;)u!=i&&(a[i]=dr(a[i]||s,t[u],e,n));return fo(vr(a,1),e,n)}function vo(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function bo(t){return Ja(t)?t:[]}function wo(t){return"function"==typeof t?t:ou}function _o(t,e){return Ha(t)?t:Ei(t,e)?[t]:Mi(bs(t))}var Eo=Xr;function So(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:oo(t,e,n)}var Ao=oe||function(t){return ge.clearTimeout(t)};function Io(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function To(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Ro(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xo(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=ls(t),s=e!==o,u=null===e,l=e==e,c=ls(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Co(t,e,n,o){for(var i=-1,a=t.length,s=n.length,u=-1,l=e.length,c=bn(a-s,0),f=r(l+c),d=!o;++u<l;)f[u]=e[u];for(;++i<s;)(d||i<a)&&(f[n[i]]=t[i]);for(;c--;)f[u++]=t[i++];return f}function Bo(t,e,n,o){for(var i=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,f=bn(a-u,0),d=r(f+c),h=!o;++i<f;)d[i]=t[i];for(var p=i;++l<c;)d[p+l]=e[l];for(;++s<u;)(h||i<a)&&(d[p+n[s]]=t[i++]);return d}function ko(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function Lo(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?ar(n,u,l):nr(n,u,l)}return n}function Oo(t,e){return function(n,r){var o=Ha(n)?xe:or,i=e?e():{};return o(n,t,ci(r,2),i)}}function Uo(t){return Xr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&_i(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Rt(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}function jo(t,e){return function(n,r){if(null==n)return n;if(!Ga(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Rt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function No(t){return function(e,n,r){for(var o=-1,i=Rt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}function Mo(t){return function(e){var n=un(e=bs(e))?gn(e):o,r=n?n[0]:e.charAt(0),i=n?So(n,1).join(""):e.slice(1);return r[t]()+i}}function Po(t){return function(e){return Me(Zs(qs(e).replace(te,"")),t,"")}}function Wo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function $o(t){return function(e,n,r){var i=Rt(e);if(!Ga(e)){var a=ci(n,3);e=Ls(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Do(t){return oi((function(e){var n=e.length,r=n,a=qn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Bt(i);if(a&&!u&&"wrapper"==ui(s))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var l=ui(s=e[r]),c="wrapper"==l?si(s):o;u=c&&Si(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ui(c[0])].apply(u,c[3]):1==s.length&&Si(s)?u[l]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ha(r))return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Fo(t,e,n,i,a,s,u,l,c,d){var h=e&f,p=1&e,g=2&e,y=24&e,m=512&e,v=g?o:Wo(t);return function f(){for(var b=arguments.length,w=r(b),_=b;_--;)w[_]=arguments[_];if(y)var E=li(f),S=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(w,E);if(i&&(w=Co(w,i,a,y)),s&&(w=Bo(w,s,u,y)),b-=S,y&&b<d){var A=fn(w,E);return Yo(t,e,Fo,f.placeholder,n,w,A,l,c,d-b)}var I=p?n:this,T=g?I[t]:t;return b=w.length,l?w=function(t,e){var n=t.length,r=wn(e.length,n),i=ko(t);for(;r--;){var a=e[r];t[r]=wi(a,n)?i[a]:o}return t}(w,l):m&&b>1&&w.reverse(),h&&c<b&&(w.length=c),this&&this!==ge&&this instanceof f&&(T=v||Wo(T)),T.apply(I,w)}}function zo(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function qo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=co(n),r=co(r)):(n=lo(n),r=lo(r)),i=t(n,r)}return i}}function Ho(t){return oi((function(e){return e=je(e,Qe(ci())),Xr((function(n){var r=this;return t(e,(function(t){return Re(t,r,n)}))}))}))}function Vo(t,e){var n=(e=e===o?" ":co(e)).length;if(n<2)return n?Kr(e,t):e;var r=Kr(e,pe(t/pn(e)));return un(e)?So(gn(r),0,t).join(""):r.slice(0,t)}function Go(t){return function(e,n,i){return i&&"number"!=typeof i&&_i(e,n,i)&&(n=i=o),e=ps(e),n===o?(n=e,e=0):n=ps(n),function(t,e,n,o){for(var i=-1,a=bn(pe((e-t)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=t,t+=n;return s}(e,n,i=i===o?e<n?1:-1:ps(i),t)}}function Jo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ms(e),n=ms(n)),t(e,n)}}function Yo(t,e,n,r,i,a,s,u,f,d){var h=8&e;e|=h?l:c,4&(e&=~(h?c:l))||(e&=-4);var p=[t,e,i,h?a:o,h?s:o,h?o:a,h?o:s,u,f,d],g=n.apply(o,p);return Si(t)&&ki(g,p),g.placeholder=r,Ui(g,t,e)}function Ko(t){var e=Tt[t];return function(t,n){if(t=ms(t),(n=null==n?0:wn(gs(n),292))&&we(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Xo=xn&&1/dn(new xn([,-0]))[1]==h?function(t){return new xn(t)}:lu;function Zo(t){return function(e){var n=yi(e);return n==I?ln(e):n==B?hn(e):function(t,e){return je(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qo(t,e,n,a,h,p,g,y){var m=2&e;if(!m&&"function"!=typeof t)throw new Bt(i);var v=a?a.length:0;if(v||(e&=-97,a=h=o),g=g===o?g:bn(gs(g),0),y=y===o?y:gs(y),v-=h?h.length:0,e&c){var b=a,w=h;a=h=o}var _=m?o:si(t),E=[t,e,n,a,h,b,w,p,g,y];if(_&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!a)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Co(l,u,e[4]):u,t[4]=l?fn(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Bo(l,u,e[6]):u,t[6]=l?fn(t[5],s):e[6]);(u=e[7])&&(t[7]=u);r&f&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(E,_),t=E[0],e=E[1],n=E[2],a=E[3],h=E[4],!(y=E[9]=E[9]===o?m?0:t.length:bn(E[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==u?function(t,e,n){var i=Wo(t);return function a(){for(var s=arguments.length,u=r(s),l=s,c=li(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);return(s-=f.length)<n?Yo(t,e,Fo,a.placeholder,o,u,f,o,o,n-s):Re(this&&this!==ge&&this instanceof a?i:t,this,u)}}(t,e,y):e!=l&&33!=e||h.length?Fo.apply(o,E):function(t,e,n,o){var i=1&e,a=Wo(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=o.length,f=r(c+u),d=this&&this!==ge&&this instanceof e?a:t;++l<c;)f[l]=o[l];for(;u--;)f[l++]=arguments[++s];return Re(d,i?n:this,f)}}(t,e,n,a);else var S=function(t,e,n){var r=1&e,o=Wo(t);return function e(){return(this&&this!==ge&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Ui((_?eo:ki)(S,E),t,e)}function ti(t,e,n,r){return t===o||Da(t,Ot[n])&&!Nt.call(r,n)?e:t}function ei(t,e,n,r,i,a){return es(t)&&es(e)&&(a.set(e,t),zr(t,e,o,ei,a),a.delete(e)),t}function ni(t){return is(t)?o:t}function ri(t,e,n,r,i,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,p=2&n?new Yn:o;for(a.set(t,e),a.set(e,t);++d<u;){var g=t[d],y=e[d];if(r)var m=s?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(m!==o){if(m)continue;h=!1;break}if(p){if(!We(e,(function(t,e){if(!en(p,e)&&(g===t||i(g,t,n,r,a)))return p.push(e)}))){h=!1;break}}else if(g!==y&&!i(g,y,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function oi(t){return Oi(xi(t,o,Vi),t+"")}function ii(t){return Ir(t,Ls,pi)}function ai(t){return Ir(t,Os,gi)}var si=kn?function(t){return kn.get(t)}:lu;function ui(t){for(var e=t.name+"",n=Ln[e],r=Nt.call(Ln,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function li(t){return(Nt.call(Dn,"placeholder")?Dn:t).placeholder}function ci(){var t=Dn.iteratee||iu;return t=t===iu?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function fi(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function di(t){for(var e=Ls(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ti(o)]}return e}function hi(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return jr(n)?n:o}var pi=me?function(t){return null==t?[]:(t=Rt(t),Le(me(t),(function(e){return Yt.call(t,e)})))}:yu,gi=me?function(t){for(var e=[];t;)Ne(e,pi(t)),t=Gt(t);return e}:yu,yi=Tr;function mi(t,e,n){for(var r=-1,o=(e=_o(e,t)).length,i=!1;++r<o;){var a=Pi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&ts(o)&&wi(a,o)&&(Ha(t)||qa(t))}function vi(t){return"function"!=typeof t.constructor||Ii(t)?{}:Fn(Gt(t))}function bi(t){return Ha(t)||qa(t)||!!(Xt&&t&&t[Xt])}function wi(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function _i(t,e,n){if(!es(n))return!1;var r=typeof e;return!!("number"==r?Ga(n)&&wi(e,n.length):"string"==r&&e in n)&&Da(n[e],t)}function Ei(t,e){if(Ha(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ls(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Rt(e))}function Si(t){var e=ui(t),n=Dn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=si(n);return!!r&&t===r[0]}(In&&yi(new In(new ArrayBuffer(1)))!=j||Tn&&yi(new Tn)!=I||Rn&&yi(Rn.resolve())!=x||xn&&yi(new xn)!=B||Cn&&yi(new Cn)!=O)&&(yi=function(t){var e=Tr(t),n=e==R?t.constructor:o,r=n?Wi(n):"";if(r)switch(r){case On:return j;case Un:return I;case jn:return x;case Nn:return B;case Mn:return O}return e});var Ai=Ut?Za:mu;function Ii(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ot)}function Ti(t){return t==t&&!es(t)}function Ri(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Rt(n)))}}function xi(t,e,n){return e=bn(e===o?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=bn(o.length-e,0),s=r(a);++i<a;)s[i]=o[e+i];i=-1;for(var u=r(e+1);++i<e;)u[i]=o[i];return u[e]=n(s),Re(t,this,u)}}function Ci(t,e){return e.length<2?t:Ar(t,oo(e,0,-1))}function Bi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ki=ji(eo),Li=he||function(t,e){return ge.setTimeout(t,e)},Oi=ji(no);function Ui(t,e,n){var r=e+"";return Oi(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ce(m,(function(n){var r="_."+n[0];e&n[1]&&!Oe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(r),n)))}function ji(t){var e=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Ni(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Yr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Mi=function(t){var e=ja(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,o){e.push(r?o.replace(ht,"$1"):n||t)})),e}));function Pi(t){if("string"==typeof t||ls(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Wi(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $i(t){if(t instanceof Hn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=ko(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Di=Xr((function(t,e){return Ja(t)?dr(t,vr(e,1,Ja,!0)):[]})),Fi=Xr((function(t,e){var n=Xi(e);return Ja(n)&&(n=o),Ja(t)?dr(t,vr(e,1,Ja,!0),ci(n,2)):[]})),zi=Xr((function(t,e){var n=Xi(e);return Ja(n)&&(n=o),Ja(t)?dr(t,vr(e,1,Ja,!0),o,n):[]}));function qi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=bn(r+o,0)),Fe(t,ci(e,3),o)}function Hi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?bn(r+i,0):wn(i,r-1)),Fe(t,ci(e,3),i,!0)}function Vi(t){return(null==t?0:t.length)?vr(t,1):[]}function Gi(t){return t&&t.length?t[0]:o}var Ji=Xr((function(t){var e=je(t,bo);return e.length&&e[0]===t[0]?Br(e):[]})),Yi=Xr((function(t){var e=Xi(t),n=je(t,bo);return e===Xi(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Br(n,ci(e,2)):[]})),Ki=Xr((function(t){var e=Xi(t),n=je(t,bo);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Br(n,o,e):[]}));function Xi(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Zi=Xr(Qi);function Qi(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var ta=oi((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Jr(t,je(e,(function(t){return wi(t,n)?+t:t})).sort(xo)),r}));function ea(t){return null==t?t:An.call(t)}var na=Xr((function(t){return fo(vr(t,1,Ja,!0))})),ra=Xr((function(t){var e=Xi(t);return Ja(e)&&(e=o),fo(vr(t,1,Ja,!0),ci(e,2))})),oa=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:o,fo(vr(t,1,Ja,!0),o,e)}));function ia(t){if(!t||!t.length)return[];var e=0;return t=Le(t,(function(t){if(Ja(t))return e=bn(t.length,e),!0})),Xe(e,(function(e){return je(t,Ge(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=ia(t);return null==e?n:je(n,(function(t){return Re(e,o,t)}))}var sa=Xr((function(t,e){return Ja(t)?dr(t,e):[]})),ua=Xr((function(t){return mo(Le(t,Ja))})),la=Xr((function(t){var e=Xi(t);return Ja(e)&&(e=o),mo(Le(t,Ja),ci(e,2))})),ca=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:o,mo(Le(t,Ja),o,e)})),fa=Xr(ia);var da=Xr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,aa(t,n)}));function ha(t){var e=Dn(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var ga=oi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&wi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var ya=Oo((function(t,e,n){Nt.call(t,n)?++t[n]:ar(t,n,1)}));var ma=$o(qi),va=$o(Hi);function ba(t,e){return(Ha(t)?Ce:hr)(t,ci(e,3))}function wa(t,e){return(Ha(t)?Be:pr)(t,ci(e,3))}var _a=Oo((function(t,e,n){Nt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var Ea=Xr((function(t,e,n){var o=-1,i="function"==typeof e,a=Ga(t)?r(t.length):[];return hr(t,(function(t){a[++o]=i?Re(e,t,n):kr(t,e,n)})),a})),Sa=Oo((function(t,e,n){ar(t,n,e)}));function Aa(t,e){return(Ha(t)?je:$r)(t,ci(e,3))}var Ia=Oo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ta=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_i(t,e[0],e[1])?e=[]:n>2&&_i(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,vr(e,1),[])})),Ra=ce||function(){return ge.Date.now()};function xa(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Qo(t,f,o,o,o,o,e)}function Ca(t,e){var n;if("function"!=typeof e)throw new Bt(i);return t=gs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ba=Xr((function(t,e,n){var r=1;if(n.length){var o=fn(n,li(Ba));r|=l}return Qo(t,r,e,n,o)})),ka=Xr((function(t,e,n){var r=3;if(n.length){var o=fn(n,li(ka));r|=l}return Qo(e,r,t,n,o)}));function La(t,e,n){var r,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new Bt(i);function g(e){var n=r,i=a;return r=a=o,f=e,u=t.apply(i,n)}function y(t){var n=t-c;return c===o||n>=e||n<0||h&&t-f>=s}function m(){var t=Ra();if(y(t))return v(t);l=Li(m,function(t){var n=e-(t-c);return h?wn(n,s-(t-f)):n}(t))}function v(t){return l=o,p&&r?g(t):(r=a=o,u)}function b(){var t=Ra(),n=y(t);if(r=arguments,a=this,c=t,n){if(l===o)return function(t){return f=t,l=Li(m,e),d?g(t):u}(c);if(h)return Ao(l),l=Li(m,e),g(c)}return l===o&&(l=Li(m,e)),u}return e=ms(e)||0,es(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ms(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&Ao(l),f=0,r=c=a=l=o},b.flush=function(){return l===o?u:v(Ra())},b}var Oa=Xr((function(t,e){return fr(t,1,e)})),Ua=Xr((function(t,e,n){return fr(t,ms(e)||0,n)}));function ja(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Bt(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ja.Cache||Jn),n}function Na(t){if("function"!=typeof t)throw new Bt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ja.Cache=Jn;var Ma=Eo((function(t,e){var n=(e=1==e.length&&Ha(e[0])?je(e[0],Qe(ci())):je(vr(e,1),Qe(ci()))).length;return Xr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Re(t,this,r)}))})),Pa=Xr((function(t,e){var n=fn(e,li(Pa));return Qo(t,l,o,e,n)})),Wa=Xr((function(t,e){var n=fn(e,li(Wa));return Qo(t,c,o,e,n)})),$a=oi((function(t,e){return Qo(t,d,o,o,o,e)}));function Da(t,e){return t===e||t!=t&&e!=e}var Fa=Jo(Rr),za=Jo((function(t,e){return t>=e})),qa=Lr(function(){return arguments}())?Lr:function(t){return ns(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},Ha=r.isArray,Va=_e?Qe(_e):function(t){return ns(t)&&Tr(t)==U};function Ga(t){return null!=t&&ts(t.length)&&!Za(t)}function Ja(t){return ns(t)&&Ga(t)}var Ya=be||mu,Ka=Ee?Qe(Ee):function(t){return ns(t)&&Tr(t)==_};function Xa(t){if(!ns(t))return!1;var e=Tr(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!is(t)}function Za(t){if(!es(t))return!1;var e=Tr(t);return e==S||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==gs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=Se?Qe(Se):function(t){return ns(t)&&yi(t)==I};function os(t){return"number"==typeof t||ns(t)&&Tr(t)==T}function is(t){if(!ns(t)||Tr(t)!=R)return!1;var e=Gt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==$t}var as=Ae?Qe(Ae):function(t){return ns(t)&&Tr(t)==C};var ss=Ie?Qe(Ie):function(t){return ns(t)&&yi(t)==B};function us(t){return"string"==typeof t||!Ha(t)&&ns(t)&&Tr(t)==k}function ls(t){return"symbol"==typeof t||ns(t)&&Tr(t)==L}var cs=Te?Qe(Te):function(t){return ns(t)&&ts(t.length)&&!!ue[Tr(t)]};var fs=Jo(Wr),ds=Jo((function(t,e){return t<=e}));function hs(t){if(!t)return[];if(Ga(t))return us(t)?gn(t):ko(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=yi(t);return(e==I?ln:e==B?dn:Ds)(t)}function ps(t){return t?(t=ms(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gs(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function ys(t){return t?ur(gs(t),0,y):0}function ms(t){if("number"==typeof t)return t;if(ls(t))return g;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var n=mt.test(t);return n||bt.test(t)?de(t.slice(2),n?2:8):yt.test(t)?g:+t}function vs(t){return Lo(t,Os(t))}function bs(t){return null==t?"":co(t)}var ws=Uo((function(t,e){if(Ii(e)||Ga(e))Lo(e,Ls(e),t);else for(var n in e)Nt.call(e,n)&&nr(t,n,e[n])})),_s=Uo((function(t,e){Lo(e,Os(e),t)})),Es=Uo((function(t,e,n,r){Lo(e,Os(e),t,r)})),Ss=Uo((function(t,e,n,r){Lo(e,Ls(e),t,r)})),As=oi(sr);var Is=Xr((function(t,e){t=Rt(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&_i(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=Os(a),u=-1,l=s.length;++u<l;){var c=s[u],f=t[c];(f===o||Da(f,Ot[c])&&!Nt.call(t,c))&&(t[c]=a[c])}return t})),Ts=Xr((function(t){return t.push(o,ei),Re(js,o,t)}));function Rs(t,e,n){var r=null==t?o:Ar(t,e);return r===o?n:r}function xs(t,e){return null!=t&&mi(t,e,Cr)}var Cs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),t[e]=n}),eu(ou)),Bs=zo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Wt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),ci),ks=Xr(kr);function Ls(t){return Ga(t)?Xn(t):Mr(t)}function Os(t){return Ga(t)?Xn(t,!0):Pr(t)}var Us=Uo((function(t,e,n){zr(t,e,n)})),js=Uo((function(t,e,n,r){zr(t,e,n,r)})),Ns=oi((function(t,e){var n={};if(null==t)return n;var r=!1;e=je(e,(function(e){return e=_o(e,t),r||(r=e.length>1),e})),Lo(t,ai(t),n),r&&(n=lr(n,7,ni));for(var o=e.length;o--;)ho(n,e[o]);return n}));var Ms=oi((function(t,e){return null==t?{}:function(t,e){return Vr(t,e,(function(e,n){return xs(t,n)}))}(t,e)}));function Ps(t,e){if(null==t)return{};var n=je(ai(t),(function(t){return[t]}));return e=ci(e),Vr(t,n,(function(t,n){return e(t,n[0])}))}var Ws=Zo(Ls),$s=Zo(Os);function Ds(t){return null==t?[]:tn(t,Ls(t))}var Fs=Po((function(t,e,n){return e=e.toLowerCase(),t+(n?zs(e):e)}));function zs(t){return Xs(bs(t).toLowerCase())}function qs(t){return(t=bs(t))&&t.replace(_t,on).replace(ee,"")}var Hs=Po((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Vs=Po((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Gs=Mo("toLowerCase");var Js=Po((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ys=Po((function(t,e,n){return t+(n?" ":"")+Xs(e)}));var Ks=Po((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Xs=Mo("toUpperCase");function Zs(t,e,n){return t=bs(t),(e=n?o:e)===o?function(t){return ie.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var Qs=Xr((function(t,e){try{return Re(t,o,e)}catch(t){return Xa(t)?t:new At(t)}})),tu=oi((function(t,e){return Ce(e,(function(e){e=Pi(e),ar(t,e,Ba(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Do(),ru=Do(!0);function ou(t){return t}function iu(t){return Nr("function"==typeof t?t:lr(t,1))}var au=Xr((function(t,e){return function(n){return kr(n,t,e)}})),su=Xr((function(t,e){return function(n){return kr(t,n,e)}}));function uu(t,e,n){var r=Ls(e),o=Sr(e,r);null!=n||es(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Sr(e,Ls(e)));var i=!(es(n)&&"chain"in n&&!n.chain),a=Za(t);return Ce(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=ko(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ne([this.value()],arguments))})})),t}function lu(){}var cu=Ho(je),fu=Ho(ke),du=Ho(We);function hu(t){return Ei(t)?Ge(Pi(t)):function(t){return function(e){return Ar(e,t)}}(t)}var pu=Go(),gu=Go(!0);function yu(){return[]}function mu(){return!1}var vu=qo((function(t,e){return t+e}),0),bu=Ko("ceil"),wu=qo((function(t,e){return t/e}),1),_u=Ko("floor");var Eu,Su=qo((function(t,e){return t*e}),1),Au=Ko("round"),Iu=qo((function(t,e){return t-e}),0);return Dn.after=function(t,e){if("function"!=typeof e)throw new Bt(i);return t=gs(t),function(){if(--t<1)return e.apply(this,arguments)}},Dn.ary=xa,Dn.assign=ws,Dn.assignIn=_s,Dn.assignInWith=Es,Dn.assignWith=Ss,Dn.at=As,Dn.before=Ca,Dn.bind=Ba,Dn.bindAll=tu,Dn.bindKey=ka,Dn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ha(t)?t:[t]},Dn.chain=ha,Dn.chunk=function(t,e,n){e=(n?_i(t,e,n):e===o)?1:bn(gs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=r(pe(i/e));a<i;)u[s++]=oo(t,a,a+=e);return u},Dn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Dn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Ne(Ha(n)?ko(n):[n],vr(e,1))},Dn.cond=function(t){var e=null==t?0:t.length,n=ci();return t=e?je(t,(function(t){if("function"!=typeof t[1])throw new Bt(i);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var o=t[r];if(Re(o[0],this,n))return Re(o[1],this,n)}}))},Dn.conforms=function(t){return function(t){var e=Ls(t);return function(n){return cr(n,t,e)}}(lr(t,1))},Dn.constant=eu,Dn.countBy=ya,Dn.create=function(t,e){var n=Fn(t);return null==e?n:ir(n,e)},Dn.curry=function t(e,n,r){var i=Qo(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Dn.curryRight=function t(e,n,r){var i=Qo(e,u,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Dn.debounce=La,Dn.defaults=Is,Dn.defaultsDeep=Ts,Dn.defer=Oa,Dn.delay=Ua,Dn.difference=Di,Dn.differenceBy=Fi,Dn.differenceWith=zi,Dn.drop=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,(e=n||e===o?1:gs(e))<0?0:e,r):[]},Dn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,0,(e=r-(e=n||e===o?1:gs(e)))<0?0:e):[]},Dn.dropRightWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!0,!0):[]},Dn.dropWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!0):[]},Dn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&_i(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ys(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Dn.filter=function(t,e){return(Ha(t)?Le:mr)(t,ci(e,3))},Dn.flatMap=function(t,e){return vr(Aa(t,e),1)},Dn.flatMapDeep=function(t,e){return vr(Aa(t,e),h)},Dn.flatMapDepth=function(t,e,n){return n=n===o?1:gs(n),vr(Aa(t,e),n)},Dn.flatten=Vi,Dn.flattenDeep=function(t){return(null==t?0:t.length)?vr(t,h):[]},Dn.flattenDepth=function(t,e){return(null==t?0:t.length)?vr(t,e=e===o?1:gs(e)):[]},Dn.flip=function(t){return Qo(t,512)},Dn.flow=nu,Dn.flowRight=ru,Dn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Dn.functions=function(t){return null==t?[]:Sr(t,Ls(t))},Dn.functionsIn=function(t){return null==t?[]:Sr(t,Os(t))},Dn.groupBy=_a,Dn.initial=function(t){return(null==t?0:t.length)?oo(t,0,-1):[]},Dn.intersection=Ji,Dn.intersectionBy=Yi,Dn.intersectionWith=Ki,Dn.invert=Cs,Dn.invertBy=Bs,Dn.invokeMap=Ea,Dn.iteratee=iu,Dn.keyBy=Sa,Dn.keys=Ls,Dn.keysIn=Os,Dn.map=Aa,Dn.mapKeys=function(t,e){var n={};return e=ci(e,3),_r(t,(function(t,r,o){ar(n,e(t,r,o),t)})),n},Dn.mapValues=function(t,e){var n={};return e=ci(e,3),_r(t,(function(t,r,o){ar(n,r,e(t,r,o))})),n},Dn.matches=function(t){return Dr(lr(t,1))},Dn.matchesProperty=function(t,e){return Fr(t,lr(e,1))},Dn.memoize=ja,Dn.merge=Us,Dn.mergeWith=js,Dn.method=au,Dn.methodOf=su,Dn.mixin=uu,Dn.negate=Na,Dn.nthArg=function(t){return t=gs(t),Xr((function(e){return qr(e,t)}))},Dn.omit=Ns,Dn.omitBy=function(t,e){return Ps(t,Na(ci(e)))},Dn.once=function(t){return Ca(2,t)},Dn.orderBy=function(t,e,n,r){return null==t?[]:(Ha(e)||(e=null==e?[]:[e]),Ha(n=r?o:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Dn.over=cu,Dn.overArgs=Ma,Dn.overEvery=fu,Dn.overSome=du,Dn.partial=Pa,Dn.partialRight=Wa,Dn.partition=Ia,Dn.pick=Ms,Dn.pickBy=Ps,Dn.property=hu,Dn.propertyOf=function(t){return function(e){return null==t?o:Ar(t,e)}},Dn.pull=Zi,Dn.pullAll=Qi,Dn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,ci(n,2)):t},Dn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,o,n):t},Dn.pullAt=ta,Dn.range=pu,Dn.rangeRight=gu,Dn.rearg=$a,Dn.reject=function(t,e){return(Ha(t)?Le:mr)(t,Na(ci(e,3)))},Dn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=ci(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Jr(t,o),n},Dn.rest=function(t,e){if("function"!=typeof t)throw new Bt(i);return Xr(t,e=e===o?e:gs(e))},Dn.reverse=ea,Dn.sampleSize=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:gs(e),(Ha(t)?Qn:Qr)(t,e)},Dn.set=function(t,e,n){return null==t?t:to(t,e,n)},Dn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:to(t,e,n,r)},Dn.shuffle=function(t){return(Ha(t)?tr:ro)(t)},Dn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_i(t,e,n)?(e=0,n=r):(e=null==e?0:gs(e),n=n===o?r:gs(n)),oo(t,e,n)):[]},Dn.sortBy=Ta,Dn.sortedUniq=function(t){return t&&t.length?uo(t):[]},Dn.sortedUniqBy=function(t,e){return t&&t.length?uo(t,ci(e,2)):[]},Dn.split=function(t,e,n){return n&&"number"!=typeof n&&_i(t,e,n)&&(e=n=o),(n=n===o?y:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=co(e))&&un(t)?So(gn(t),0,n):t.split(e,n):[]},Dn.spread=function(t,e){if("function"!=typeof t)throw new Bt(i);return e=null==e?0:bn(gs(e),0),Xr((function(n){var r=n[e],o=So(n,0,e);return r&&Ne(o,r),Re(t,this,o)}))},Dn.tail=function(t){var e=null==t?0:t.length;return e?oo(t,1,e):[]},Dn.take=function(t,e,n){return t&&t.length?oo(t,0,(e=n||e===o?1:gs(e))<0?0:e):[]},Dn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?oo(t,(e=r-(e=n||e===o?1:gs(e)))<0?0:e,r):[]},Dn.takeRightWhile=function(t,e){return t&&t.length?go(t,ci(e,3),!1,!0):[]},Dn.takeWhile=function(t,e){return t&&t.length?go(t,ci(e,3)):[]},Dn.tap=function(t,e){return e(t),t},Dn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Bt(i);return es(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),La(t,e,{leading:r,maxWait:e,trailing:o})},Dn.thru=pa,Dn.toArray=hs,Dn.toPairs=Ws,Dn.toPairsIn=$s,Dn.toPath=function(t){return Ha(t)?je(t,Pi):ls(t)?[t]:ko(Mi(bs(t)))},Dn.toPlainObject=vs,Dn.transform=function(t,e,n){var r=Ha(t),o=r||Ya(t)||cs(t);if(e=ci(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:es(t)&&Za(i)?Fn(Gt(t)):{}}return(o?Ce:_r)(t,(function(t,r,o){return e(n,t,r,o)})),n},Dn.unary=function(t){return xa(t,1)},Dn.union=na,Dn.unionBy=ra,Dn.unionWith=oa,Dn.uniq=function(t){return t&&t.length?fo(t):[]},Dn.uniqBy=function(t,e){return t&&t.length?fo(t,ci(e,2)):[]},Dn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?fo(t,o,e):[]},Dn.unset=function(t,e){return null==t||ho(t,e)},Dn.unzip=ia,Dn.unzipWith=aa,Dn.update=function(t,e,n){return null==t?t:po(t,e,wo(n))},Dn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:po(t,e,wo(n),r)},Dn.values=Ds,Dn.valuesIn=function(t){return null==t?[]:tn(t,Os(t))},Dn.without=sa,Dn.words=Zs,Dn.wrap=function(t,e){return Pa(wo(e),t)},Dn.xor=ua,Dn.xorBy=la,Dn.xorWith=ca,Dn.zip=fa,Dn.zipObject=function(t,e){return vo(t||[],e||[],nr)},Dn.zipObjectDeep=function(t,e){return vo(t||[],e||[],to)},Dn.zipWith=da,Dn.entries=Ws,Dn.entriesIn=$s,Dn.extend=_s,Dn.extendWith=Es,uu(Dn,Dn),Dn.add=vu,Dn.attempt=Qs,Dn.camelCase=Fs,Dn.capitalize=zs,Dn.ceil=bu,Dn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ms(n))==n?n:0),e!==o&&(e=(e=ms(e))==e?e:0),ur(ms(t),e,n)},Dn.clone=function(t){return lr(t,4)},Dn.cloneDeep=function(t){return lr(t,5)},Dn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:o)},Dn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:o)},Dn.conformsTo=function(t,e){return null==e||cr(t,e,Ls(e))},Dn.deburr=qs,Dn.defaultTo=function(t,e){return null==t||t!=t?e:t},Dn.divide=wu,Dn.endsWith=function(t,e,n){t=bs(t),e=co(e);var r=t.length,i=n=n===o?r:ur(gs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Dn.eq=Da,Dn.escape=function(t){return(t=bs(t))&&X.test(t)?t.replace(Y,an):t},Dn.escapeRegExp=function(t){return(t=bs(t))&&it.test(t)?t.replace(ot,"\\$&"):t},Dn.every=function(t,e,n){var r=Ha(t)?ke:gr;return n&&_i(t,e,n)&&(e=o),r(t,ci(e,3))},Dn.find=ma,Dn.findIndex=qi,Dn.findKey=function(t,e){return De(t,ci(e,3),_r)},Dn.findLast=va,Dn.findLastIndex=Hi,Dn.findLastKey=function(t,e){return De(t,ci(e,3),Er)},Dn.floor=_u,Dn.forEach=ba,Dn.forEachRight=wa,Dn.forIn=function(t,e){return null==t?t:br(t,ci(e,3),Os)},Dn.forInRight=function(t,e){return null==t?t:wr(t,ci(e,3),Os)},Dn.forOwn=function(t,e){return t&&_r(t,ci(e,3))},Dn.forOwnRight=function(t,e){return t&&Er(t,ci(e,3))},Dn.get=Rs,Dn.gt=Fa,Dn.gte=za,Dn.has=function(t,e){return null!=t&&mi(t,e,xr)},Dn.hasIn=xs,Dn.head=Gi,Dn.identity=ou,Dn.includes=function(t,e,n,r){t=Ga(t)?t:Ds(t),n=n&&!r?gs(n):0;var o=t.length;return n<0&&(n=bn(o+n,0)),us(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&ze(t,e,n)>-1},Dn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=bn(r+o,0)),ze(t,e,o)},Dn.inRange=function(t,e,n){return e=ps(e),n===o?(n=e,e=0):n=ps(n),function(t,e,n){return t>=wn(e,n)&&t<bn(e,n)}(t=ms(t),e,n)},Dn.invoke=ks,Dn.isArguments=qa,Dn.isArray=Ha,Dn.isArrayBuffer=Va,Dn.isArrayLike=Ga,Dn.isArrayLikeObject=Ja,Dn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&Tr(t)==w},Dn.isBuffer=Ya,Dn.isDate=Ka,Dn.isElement=function(t){return ns(t)&&1===t.nodeType&&!is(t)},Dn.isEmpty=function(t){if(null==t)return!0;if(Ga(t)&&(Ha(t)||"string"==typeof t||"function"==typeof t.splice||Ya(t)||cs(t)||qa(t)))return!t.length;var e=yi(t);if(e==I||e==B)return!t.size;if(Ii(t))return!Mr(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Dn.isEqual=function(t,e){return Or(t,e)},Dn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Or(t,e,o,n):!!r},Dn.isError=Xa,Dn.isFinite=function(t){return"number"==typeof t&&we(t)},Dn.isFunction=Za,Dn.isInteger=Qa,Dn.isLength=ts,Dn.isMap=rs,Dn.isMatch=function(t,e){return t===e||Ur(t,e,di(e))},Dn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Ur(t,e,di(e),n)},Dn.isNaN=function(t){return os(t)&&t!=+t},Dn.isNative=function(t){if(Ai(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(t)},Dn.isNil=function(t){return null==t},Dn.isNull=function(t){return null===t},Dn.isNumber=os,Dn.isObject=es,Dn.isObjectLike=ns,Dn.isPlainObject=is,Dn.isRegExp=as,Dn.isSafeInteger=function(t){return Qa(t)&&t>=-9007199254740991&&t<=p},Dn.isSet=ss,Dn.isString=us,Dn.isSymbol=ls,Dn.isTypedArray=cs,Dn.isUndefined=function(t){return t===o},Dn.isWeakMap=function(t){return ns(t)&&yi(t)==O},Dn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==Tr(t)},Dn.join=function(t,e){return null==t?"":$e.call(t,e)},Dn.kebabCase=Hs,Dn.last=Xi,Dn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?bn(r+i,0):wn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Fe(t,He,i,!0)},Dn.lowerCase=Vs,Dn.lowerFirst=Gs,Dn.lt=fs,Dn.lte=ds,Dn.max=function(t){return t&&t.length?yr(t,ou,Rr):o},Dn.maxBy=function(t,e){return t&&t.length?yr(t,ci(e,2),Rr):o},Dn.mean=function(t){return Ve(t,ou)},Dn.meanBy=function(t,e){return Ve(t,ci(e,2))},Dn.min=function(t){return t&&t.length?yr(t,ou,Wr):o},Dn.minBy=function(t,e){return t&&t.length?yr(t,ci(e,2),Wr):o},Dn.stubArray=yu,Dn.stubFalse=mu,Dn.stubObject=function(){return{}},Dn.stubString=function(){return""},Dn.stubTrue=function(){return!0},Dn.multiply=Su,Dn.nth=function(t,e){return t&&t.length?qr(t,gs(e)):o},Dn.noConflict=function(){return ge._===this&&(ge._=Dt),this},Dn.noop=lu,Dn.now=Ra,Dn.pad=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Vo(ye(o),n)+t+Vo(pe(o),n)},Dn.padEnd=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?t+Vo(e-r,n):t},Dn.padStart=function(t,e,n){t=bs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?Vo(e-r,n)+t:t},Dn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),En(bs(t).replace(at,""),e||0)},Dn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_i(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ps(t),e===o?(e=t,t=0):e=ps(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Sn();return wn(t+i*(e-t+fe("1e-"+((i+"").length-1))),e)}return Yr(t,e)},Dn.reduce=function(t,e,n){var r=Ha(t)?Me:Ye,o=arguments.length<3;return r(t,ci(e,4),n,o,hr)},Dn.reduceRight=function(t,e,n){var r=Ha(t)?Pe:Ye,o=arguments.length<3;return r(t,ci(e,4),n,o,pr)},Dn.repeat=function(t,e,n){return e=(n?_i(t,e,n):e===o)?1:gs(e),Kr(bs(t),e)},Dn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Dn.result=function(t,e,n){var r=-1,i=(e=_o(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[Pi(e[r])];a===o&&(r=i,a=n),t=Za(a)?a.call(t):a}return t},Dn.round=Au,Dn.runInContext=t,Dn.sample=function(t){return(Ha(t)?Zn:Zr)(t)},Dn.size=function(t){if(null==t)return 0;if(Ga(t))return us(t)?pn(t):t.length;var e=yi(t);return e==I||e==B?t.size:Mr(t).length},Dn.snakeCase=Js,Dn.some=function(t,e,n){var r=Ha(t)?We:io;return n&&_i(t,e,n)&&(e=o),r(t,ci(e,3))},Dn.sortedIndex=function(t,e){return ao(t,e)},Dn.sortedIndexBy=function(t,e,n){return so(t,e,ci(n,2))},Dn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ao(t,e);if(r<n&&Da(t[r],e))return r}return-1},Dn.sortedLastIndex=function(t,e){return ao(t,e,!0)},Dn.sortedLastIndexBy=function(t,e,n){return so(t,e,ci(n,2),!0)},Dn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ao(t,e,!0)-1;if(Da(t[n],e))return n}return-1},Dn.startCase=Ys,Dn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:ur(gs(n),0,t.length),e=co(e),t.slice(n,n+e.length)==e},Dn.subtract=Iu,Dn.sum=function(t){return t&&t.length?Ke(t,ou):0},Dn.sumBy=function(t,e){return t&&t.length?Ke(t,ci(e,2)):0},Dn.template=function(t,e,n){var r=Dn.templateSettings;n&&_i(t,e,n)&&(e=o),t=bs(t),e=Es({},e,r,ti);var i,a,s=Es({},e.imports,r.imports,ti),u=Ls(s),l=tn(s,u),c=0,f=e.interpolate||Et,d="__p += '",h=xt((e.escape||Et).source+"|"+f.source+"|"+(f===tt?pt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(h,(function(e,n,r,o,s,u){return r||(r=o),d+=t.slice(c,u).replace(St,sn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),d+="';\n";var g=Nt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new At("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(V,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Qs((function(){return It(u,p+"return "+d).apply(o,l)}));if(y.source=d,Xa(y))throw y;return y},Dn.times=function(t,e){if((t=gs(t))<1||t>p)return[];var n=y,r=wn(t,y);e=ci(e),t-=y;for(var o=Xe(r,e);++n<t;)e(n);return o},Dn.toFinite=ps,Dn.toInteger=gs,Dn.toLength=ys,Dn.toLower=function(t){return bs(t).toLowerCase()},Dn.toNumber=ms,Dn.toSafeInteger=function(t){return t?ur(gs(t),-9007199254740991,p):0===t?t:0},Dn.toString=bs,Dn.toUpper=function(t){return bs(t).toUpperCase()},Dn.trim=function(t,e,n){if((t=bs(t))&&(n||e===o))return Ze(t);if(!t||!(e=co(e)))return t;var r=gn(t),i=gn(e);return So(r,nn(r,i),rn(r,i)+1).join("")},Dn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.slice(0,yn(t)+1);if(!t||!(e=co(e)))return t;var r=gn(t);return So(r,0,rn(r,gn(e))+1).join("")},Dn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.replace(at,"");if(!t||!(e=co(e)))return t;var r=gn(t);return So(r,nn(r,gn(e))).join("")},Dn.truncate=function(t,e){var n=30,r="...";if(es(e)){var i="separator"in e?e.separator:i;n="length"in e?gs(e.length):n,r="omission"in e?co(e.omission):r}var a=(t=bs(t)).length;if(un(t)){var s=gn(t);a=s.length}if(n>=a)return t;var u=n-pn(r);if(u<1)return r;var l=s?So(s,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),as(i)){if(t.slice(u).search(i)){var c,f=l;for(i.global||(i=xt(i.source,bs(gt.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?u:d)}}else if(t.indexOf(co(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Dn.unescape=function(t){return(t=bs(t))&&K.test(t)?t.replace(J,mn):t},Dn.uniqueId=function(t){var e=++Mt;return bs(t)+e},Dn.upperCase=Ks,Dn.upperFirst=Xs,Dn.each=ba,Dn.eachRight=wa,Dn.first=Gi,uu(Dn,(Eu={},_r(Dn,(function(t,e){Nt.call(Dn.prototype,e)||(Eu[e]=t)})),Eu),{chain:!1}),Dn.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Dn[t].placeholder=Dn})),Ce(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===o?1:bn(gs(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,y),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ci(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ou)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return kr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Na(ci(t)))},Hn.prototype.slice=function(t,e){t=gs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=gs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(y)},_r(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Dn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(Dn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Hn,l=s[0],c=u||Ha(e),f=function(t){var e=i.apply(Dn,Ne([t],s));return r&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=u&&!h;if(!a&&c){e=g?e:new Hn(this);var y=t.apply(e,s);return y.__actions__.push({func:pa,args:[f],thisArg:o}),new qn(y,d)}return p&&g?t.apply(this,s):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=kt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Dn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ha(o)?o:[],t)}return this[n]((function(n){return e.apply(Ha(n)?n:[],t)}))}})),_r(Hn.prototype,(function(t,e){var n=Dn[e];if(n){var r=n.name+"";Nt.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:e,func:n})}})),Ln[Fo(o,2).name]=[{name:"wrapper",func:o}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=ko(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ko(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ko(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ha(t),r=e<0,o=n?t.length:0,i=function(t,e,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=wn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return yo(t,this.__actions__);var p=[];t:for(;u--&&d<h;){for(var g=-1,y=t[l+=e];++g<f;){var m=c[g],v=m.iteratee,b=m.type,w=v(y);if(2==b)y=w;else if(!w){if(1==b)continue t;break t}}p[d++]=y}return p},Dn.prototype.at=ga,Dn.prototype.chain=function(){return ha(this)},Dn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Dn.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Dn.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var r=$i(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Dn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:o}),new qn(e,this.__chain__)}return this.thru(ea)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return yo(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,Zt&&(Dn.prototype[Zt]=function(){return this}),Dn}();ge._=vn,(r=function(){return vn}.call(e,n,e,t))===o||(t.exports=r)}.call(this)},300:(t,e,n)=>{var r,o;t=n.nmd(t),function(e){e.runningInNodeJS=function(){return"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node},e.runningInMainNodeJSModule=function(){return e.runningInNodeJS()&&n.c[n.s]===t},e.commonJSAvailable=function(){return"object"==typeof t.exports},e.runningInWebWorker=function(){return"undefined"==typeof window&&"object"==typeof self&&"function"==typeof self.addEventListener&&"function"==typeof self.close},e.runningInNodeChildProcess=function(){return e.runningInNodeJS()&&"function"==typeof process.send},e.runningInNullOrigin=function(){return"object"==typeof window&&"object"==typeof window.location&&"object"==typeof document&&("http:"!==document.location.protocol&&"https:"!==document.location.protocol)},e.webWorkersAvailable=function(){return"function"==typeof Worker&&!e.runningInNullOrigin()&&(!e.runningInNodeJS()&&!(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0))},e.log=function(t,e){void 0===e&&(e=!1),"object"==typeof console&&(console.log(t),e&&"object"==typeof document&&(document.body.innerHTML+=t+"<br/>"))},e.createErrorMessage=function(t,n){if(void 0===n&&(n="Unhandled exception"),null==t)return n;if(n+=": ","object"==typeof t.content){if(e.runningInNodeJS())return n+t.content.stack;var r=JSON.stringify(t.content);return"{}"!==r?n+r:n+t.content}return"string"==typeof t.content?n+t.content:n+t},e.printExceptionAndStackTraceToConsole=function(t,n){void 0===n&&(n="Unhandled exception"),e.log(e.createErrorMessage(t,n))},e.getGlobalObject=function(){return"object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:{}},e.toString=Object.prototype.toString,e.commonJSAvailable()&&(t.exports=e)}(o||(o={})),function(t){if("function"==typeof Uint8Array&&0!==new Uint8Array(1).subarray(1).byteLength){var e=function(t,e){var n=function(t,e,n){return t<e?e:t>n?n:t};t|=0,e|=0,arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length);var r=(e=n(e,0,this.length))-t;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)},n=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],r=void 0;if("object"==typeof window?r=window:"object"==typeof self&&(r=self),void 0!==r)for(var o=0;o<n.length;o++)r[n[o]]&&(r[n[o]].prototype.subarray=e)}}(r||(r={})),function(t){var e=function(){function e(){}return e.compressAsync=function(e,n,r){var o=new t.Timer,i=new t.Compressor;if(!r)throw new TypeError("compressAsync: No callback argument given");if("string"==typeof e)e=t.encodeUTF8(e);else if(null==e||!(e instanceof Uint8Array))return void r(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));var a=t.ArrayTools.splitByteArray(e,n.blockSize),s=[],u=function(e){if(e<a.length){var l=void 0;try{l=i.compressBlock(a[e])}catch(t){return void r(void 0,t)}s.push(l),o.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),o.restart())}else{var c=t.ArrayTools.concatUint8Arrays(s);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeCompressedBytes(c,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createCompressionStream=function(){var e=new t.Compressor,r=new(n(99).Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var a;try{a=t.BufferTools.uint8ArrayToBuffer(e.compressBlock(t.BufferTools.bufferToUint8Array(n)))}catch(t){return void r.emit("error",t)}r.push(a),i()},r},e}();t.AsyncCompressor=e}(o||(o={})),function(t){var e=function(){function e(){}return e.decompressAsync=function(e,n,r){if(!r)throw new TypeError("decompressAsync: No callback argument given");var o=new t.Timer;try{e=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding)}catch(t){return void r(void 0,t)}var i=new t.Decompressor,a=t.ArrayTools.splitByteArray(e,n.blockSize),s=[],u=function(e){if(e<a.length){var l=void 0;try{l=i.decompressBlock(a[e])}catch(t){return void r(void 0,t)}s.push(l),o.getElapsedTime()<=20?u(e+1):(t.enqueueImmediate((function(){return u(e+1)})),o.restart())}else{var c=t.ArrayTools.concatUint8Arrays(s);t.enqueueImmediate((function(){var e;try{e=t.CompressionCommon.encodeDecompressedBytes(c,n.outputEncoding)}catch(t){return void r(void 0,t)}t.enqueueImmediate((function(){return r(e)}))}))}};t.enqueueImmediate((function(){return u(0)}))},e.createDecompressionStream=function(){var e=new t.Decompressor,r=new(n(99).Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,o,i){var a;try{a=t.BufferTools.uint8ArrayToBuffer(e.decompressBlock(t.BufferTools.bufferToUint8Array(n)))}catch(t){return void r.emit("error",t)}r.push(a),i()},r},e}();t.AsyncDecompressor=e}(o||(o={})),function(t){var e;!function(e){e.compressAsync=function(t,n,r){if("ByteArray"!=n.inputEncoding||t instanceof Uint8Array){var o={token:Math.random().toString(),type:"compress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},i=function(t){var n=t.data;n&&n.token==o.token&&(e.globalWorker.removeEventListener("message",i),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",i),e.globalWorker.postMessage(o,[])}else r(void 0,new TypeError("compressAsync: input is not a Uint8Array"))},e.decompressAsync=function(t,n,r){var o={token:Math.random().toString(),type:"decompress",data:t,inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding},i=function(t){var n=t.data;n&&n.token==o.token&&(e.globalWorker.removeEventListener("message",i),"error"==n.type?r(void 0,new Error(n.error)):r(n.data))};e.globalWorker.addEventListener("message",i),e.globalWorker.postMessage(o,[])},e.installWebWorkerIfNeeded=function(){"object"==typeof self&&void 0===self.document&&null!=self.addEventListener&&(self.addEventListener("message",(function(e){var n=e.data;if("compress"==n.type){var r=void 0;try{r=t.compress(n.data,{outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(o={token:n.token,type:"compressionResult",data:r,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}else if("decompress"==n.type){var o,i=void 0;try{i=t.decompress(n.data,{inputEncoding:n.inputEncoding,outputEncoding:n.outputEncoding})}catch(e){return void self.postMessage({token:n.token,type:"error",error:t.createErrorMessage(e)},[])}(o={token:n.token,type:"decompressionResult",data:i,encoding:n.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(o,[o.data.buffer]):self.postMessage(o,[])}})),self.addEventListener("error",(function(e){t.log(t.createErrorMessage(e.error,"Unexpected LZUTF8 WebWorker exception"))})))},e.createGlobalWorkerIfNeeded=function(){if(e.globalWorker)return!0;if(!t.webWorkersAvailable())return!1;if(!e.scriptURI&&"object"==typeof document){var n=document.getElementById("lzutf8");null!=n&&(e.scriptURI=n.getAttribute("src")||void 0)}return!!e.scriptURI&&(e.globalWorker=new Worker(e.scriptURI),!0)},e.terminate=function(){e.globalWorker&&(e.globalWorker.terminate(),e.globalWorker=void 0)}}(e=t.WebWorker||(t.WebWorker={})),e.installWebWorkerIfNeeded()}(o||(o={})),function(t){var e=function(){function t(t,e,n){this.container=t,this.startPosition=e,this.length=n}return t.prototype.get=function(t){return this.container[this.startPosition+t]},t.prototype.getInReversedOrder=function(t){return this.container[this.startPosition+this.length-1-t]},t.prototype.set=function(t,e){this.container[this.startPosition+t]=e},t}();t.ArraySegment=e}(o||(o={})),function(t){!function(t){t.copyElements=function(t,e,n,r,o){for(;o--;)n[r++]=t[e++]},t.zeroElements=function(t,e,n){for(;n--;)t[e++]=0},t.countNonzeroValuesInArray=function(t){for(var e=0,n=0;n<t.length;n++)t[n]&&e++;return e},t.truncateStartingElements=function(t,e){if(t.length<=e)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var n=t.length-e,r=0;r<e;r++)t[r]=t[n+r];t.length=e},t.doubleByteArrayCapacity=function(t){var e=new Uint8Array(2*t.length);return e.set(t),e},t.concatUint8Arrays=function(t){for(var e=0,n=0,r=t;n<r.length;n++){e+=(u=r[n]).length}for(var o=new Uint8Array(e),i=0,a=0,s=t;a<s.length;a++){var u=s[a];o.set(u,i),i+=u.length}return o},t.splitByteArray=function(t,e){for(var n=[],r=0;r<t.length;){var o=Math.min(e,t.length-r);n.push(t.subarray(r,r+o)),r+=o}return n}}(t.ArrayTools||(t.ArrayTools={}))}(o||(o={})),function(t){!function(t){t.convertToUint8ArrayIfNeeded=function(e){return"function"==typeof Buffer&&Buffer.isBuffer(e)?t.bufferToUint8Array(e):e},t.uint8ArrayToBuffer=function(t){if(Buffer.prototype instanceof Uint8Array){var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return Object.setPrototypeOf(e,Buffer.prototype),e}for(var n=t.length,r=new Buffer(n),o=0;o<n;o++)r[o]=t[o];return r},t.bufferToUint8Array=function(t){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t[r];return n}}(t.BufferTools||(t.BufferTools={}))}(o||(o={})),function(t){!function(e){e.getCroppedBuffer=function(t,e,n,r){void 0===r&&(r=0);var o=new Uint8Array(n+r);return o.set(t.subarray(e,e+n)),o},e.getCroppedAndAppendedByteArray=function(e,n,r,o){return t.ArrayTools.concatUint8Arrays([e.subarray(n,n+r),o])},e.detectCompressionSourceEncoding=function(t){if(null==t)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if("string"==typeof t)return"String";if(t instanceof Uint8Array||"function"==typeof Buffer&&Buffer.isBuffer(t))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},e.encodeCompressedBytes=function(e,n){switch(n){case"ByteArray":return e;case"Buffer":return t.BufferTools.uint8ArrayToBuffer(e);case"Base64":return t.encodeBase64(e);case"BinaryString":return t.encodeBinaryString(e);case"StorageBinaryString":return t.encodeStorageBinaryString(e);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},e.decodeCompressedBytes=function(e,n){if(null==n)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(n){case"ByteArray":case"Buffer":var r=t.BufferTools.convertToUint8ArrayIfNeeded(e);if(!(r instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return r;case"Base64":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return t.decodeBase64(e);case"BinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return t.decodeBinaryString(e);case"StorageBinaryString":if("string"!=typeof e)throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return t.decodeStorageBinaryString(e);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(n,"'"))}},e.encodeDecompressedBytes=function(e,n){switch(n){case"String":return t.decodeUTF8(e);case"ByteArray":return e;case"Buffer":if("function"!=typeof Buffer)throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return t.BufferTools.uint8ArrayToBuffer(e);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}}(t.CompressionCommon||(t.CompressionCommon={}))}(o||(o={})),function(t){var e;!function(e){var n,r=[];e.enqueueImmediate=function(t){r.push(t),1===r.length&&n()},e.initializeScheduler=function(){var e=function(){for(var e=0,n=r;e<n.length;e++){var o=n[e];try{o.call(void 0)}catch(e){t.printExceptionAndStackTraceToConsole(e,"enqueueImmediate exception")}}r.length=0};if(t.runningInNodeJS())n=function(){return setImmediate((function(){return e()}))};else if("object"==typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.postMessage){var o,i="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",(function(t){t.data===i&&e()})),o=t.runningInNullOrigin()?"*":window.location.href,n=function(){return window.postMessage(i,o)}}else if("function"==typeof MessageChannel&&"function"==typeof MessagePort){var a=new MessageChannel;a.port1.onmessage=function(){return e()},n=function(){return a.port2.postMessage(0)}}else n=function(){return setTimeout((function(){return e()}),0)}},e.initializeScheduler()}(e=t.EventLoop||(t.EventLoop={})),t.enqueueImmediate=function(t){return e.enqueueImmediate(t)}}(o||(o={})),function(t){!function(t){t.override=function(e,n){return t.extend(e,n)},t.extend=function(t,e){if(null==t)throw new TypeError("obj is null or undefined");if("object"!=typeof t)throw new TypeError("obj is not an object");if(null==e&&(e={}),"object"!=typeof e)throw new TypeError("newProperties is not an object");if(null!=e)for(var n in e)t[n]=e[n];return t}}(t.ObjectTools||(t.ObjectTools={}))}(o||(o={})),function(t){t.getRandomIntegerInRange=function(t,e){return t+Math.floor(Math.random()*(e-t))},t.getRandomUTF16StringOfLength=function(e){for(var n="",r=0;r<e;r++){var o=void 0;do{o=t.getRandomIntegerInRange(0,1114112)}while(o>=55296&&o<=57343);n+=t.Encoding.CodePoint.decodeToString(o)}return n}}(o||(o={})),function(t){var e=function(){function t(t){void 0===t&&(t=1024),this.outputBufferCapacity=t,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return t.prototype.appendCharCode=function(t){this.outputBuffer[this.outputPosition++]=t,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},t.prototype.appendCharCodes=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t[e])},t.prototype.appendString=function(t){for(var e=0,n=t.length;e<n;e++)this.appendCharCode(t.charCodeAt(e))},t.prototype.appendCodePoint=function(t){if(t<=65535)this.appendCharCode(t);else{if(!(t<=1114111))throw new Error("appendCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"));this.appendCharCode(55296+(t-65536>>>10)),this.appendCharCode(56320+(t-65536&1023))}},t.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},t.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},t}();t.StringBuilder=e}(o||(o={})),function(t){var e=function(){function e(){this.restart()}return e.prototype.restart=function(){this.startTime=e.getTimestamp()},e.prototype.getElapsedTime=function(){return e.getTimestamp()-this.startTime},e.prototype.getElapsedTimeAndRestart=function(){var t=this.getElapsedTime();return this.restart(),t},e.prototype.logAndRestart=function(e,n){void 0===n&&(n=!0);var r=this.getElapsedTime(),o="".concat(e,": ").concat(r.toFixed(3),"ms");return t.log(o,n),this.restart(),r},e.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},e.getMicrosecondTimestamp=function(){return Math.floor(1e3*e.getTimestamp())},e.createGlobalTimestampFunction=function(){if("object"==typeof process&&"function"==typeof process.hrtime){var t=0;this.timestampFunc=function(){var e=process.hrtime(),n=1e3*e[0]+e[1]/1e6;return t+n},t=Date.now()-this.timestampFunc()}else if("object"==typeof chrome&&chrome.Interval){var e=Date.now(),n=new chrome.Interval;n.start(),this.timestampFunc=function(){return e+n.microseconds()/1e3}}else if("object"==typeof performance&&performance.now){var r=Date.now()-performance.now();this.timestampFunc=function(){return r+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return(new Date).getTime()}},e}();t.Timer=e}(o||(o={})),function(t){var e=function(){function e(e){void 0===e&&(e=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,e&&"function"==typeof Uint32Array?this.prefixHashTable=new t.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new t.CompressorSimpleHashTable(this.PrefixHashTableSize)}return e.prototype.compressBlock=function(e){if(null==e)throw new TypeError("compressBlock: undefined or null input received");return"string"==typeof e&&(e=t.encodeUTF8(e)),e=t.BufferTools.convertToUint8ArrayIfNeeded(e),this.compressUtf8Block(e)},e.prototype.compressUtf8Block=function(t){if(!t||0==t.length)return new Uint8Array(0);var e=this.cropAndAddNewBytesToInputBuffer(t),n=this.inputBuffer,r=this.inputBuffer.length;this.outputBuffer=new Uint8Array(t.length),this.outputBufferPosition=0;for(var o=0,i=e;i<r;i++){var a=n[i],s=i<o;if(i>r-this.MinimumSequenceLength)s||this.outputRawByte(a);else{var u=this.getBucketIndexForPrefix(i);if(!s){var l=this.findLongestMatch(i,u);null!=l&&(this.outputPointerBytes(l.length,l.distance),o=i+l.length,s=!0)}s||this.outputRawByte(a);var c=this.inputBufferStreamOffset+i;this.prefixHashTable.addValueToBucket(u,c)}}return this.outputBuffer.subarray(0,this.outputBufferPosition)},e.prototype.findLongestMatch=function(t,e){var n=this.prefixHashTable.getArraySegmentForBucketIndex(e,this.reusableArraySegmentObject);if(null==n)return null;for(var r,o=this.inputBuffer,i=0,a=0;a<n.length;a++){var s=n.getInReversedOrder(a)-this.inputBufferStreamOffset,u=t-s,l=void 0;if(l=void 0===r?this.MinimumSequenceLength-1:r<128&&u>=128?i+(i>>>1):i,u>this.MaximumMatchDistance||l>=this.MaximumSequenceLength||t+l>=o.length)break;if(o[s+l]===o[t+l])for(var c=0;;c++){if(t+c===o.length||o[s+c]!==o[t+c]){c>l&&(r=u,i=c);break}if(c===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}}return void 0!==r?{distance:r,length:i}:null},e.prototype.getBucketIndexForPrefix=function(t){return(7880599*this.inputBuffer[t]+39601*this.inputBuffer[t+1]+199*this.inputBuffer[t+2]+this.inputBuffer[t+3])%this.PrefixHashTableSize},e.prototype.outputPointerBytes=function(t,e){e<128?(this.outputRawByte(192|t),this.outputRawByte(e)):(this.outputRawByte(224|t),this.outputRawByte(e>>>8),this.outputRawByte(255&e))},e.prototype.outputRawByte=function(t){this.outputBuffer[this.outputBufferPosition++]=t},e.prototype.cropAndAddNewBytesToInputBuffer=function(e){if(void 0===this.inputBuffer)return this.inputBuffer=e,0;var n=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),r=this.inputBuffer.length-n;return this.inputBuffer=t.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,r,n,e),this.inputBufferStreamOffset+=r,n},e}();t.Compressor=e}(o||(o={})),function(t){var e=function(){function e(t){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(2*t),this.storage=new Uint32Array(2*t),this.storageIndex=1}return e.prototype.addValueToBucket=function(e,n){e<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var r,o=this.bucketLocators[e];if(0===o)o=this.storageIndex,r=1,this.storage[this.storageIndex]=n,this.storageIndex+=this.minimumBucketCapacity;else{(r=this.bucketLocators[e+1])===this.maximumBucketCapacity-1&&(r=this.truncateBucketToNewerElements(o,r,this.maximumBucketCapacity/2));var i=o+r;0===this.storage[i]?(this.storage[i]=n,i===this.storageIndex&&(this.storageIndex+=r)):(t.ArrayTools.copyElements(this.storage,o,this.storage,this.storageIndex,r),o=this.storageIndex,this.storageIndex+=r,this.storage[this.storageIndex++]=n,this.storageIndex+=r),r++}this.bucketLocators[e]=o,this.bucketLocators[e+1]=r},e.prototype.truncateBucketToNewerElements=function(e,n,r){var o=e+n-r;return t.ArrayTools.copyElements(this.storage,o,this.storage,e,r),t.ArrayTools.zeroElements(this.storage,e+r,n-r),r},e.prototype.compact=function(){var e=this.bucketLocators,n=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var r=0;r<e.length;r+=2){var o=e[r+1];0!==o&&(this.bucketLocators[r]=this.storageIndex,this.bucketLocators[r+1]=o,this.storageIndex+=Math.max(Math.min(2*o,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(8*this.storageIndex);for(r=0;r<e.length;r+=2){var i=e[r];if(0!==i){var a=this.bucketLocators[r],s=this.bucketLocators[r+1];t.ArrayTools.copyElements(n,i,this.storage,a,s)}}},e.prototype.getArraySegmentForBucketIndex=function(e,n){e<<=1;var r=this.bucketLocators[e];return 0===r?null:(void 0===n&&(n=new t.ArraySegment(this.storage,r,this.bucketLocators[e+1])),n)},e.prototype.getUsedBucketCount=function(){return Math.floor(t.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.bucketLocators.length;e+=2)t+=this.bucketLocators[e+1];return t},e}();t.CompressorCustomHashTable=e}(o||(o={})),function(t){var e=function(){function e(t){this.maximumBucketCapacity=64,this.buckets=new Array(t)}return e.prototype.addValueToBucket=function(e,n){var r=this.buckets[e];void 0===r?this.buckets[e]=[n]:(r.length===this.maximumBucketCapacity-1&&t.ArrayTools.truncateStartingElements(r,this.maximumBucketCapacity/2),r.push(n))},e.prototype.getArraySegmentForBucketIndex=function(e,n){var r=this.buckets[e];return void 0===r?null:(void 0===n&&(n=new t.ArraySegment(r,0,r.length)),n)},e.prototype.getUsedBucketCount=function(){return t.ArrayTools.countNonzeroValuesInArray(this.buckets)},e.prototype.getTotalElementCount=function(){for(var t=0,e=0;e<this.buckets.length;e++)void 0!==this.buckets[e]&&(t+=this.buckets[e].length);return t},e}();t.CompressorSimpleHashTable=e}(o||(o={})),function(t){var e=function(){function e(){this.MaximumMatchDistance=32767,this.outputPosition=0}return e.prototype.decompressBlockToString=function(e){return e=t.BufferTools.convertToUint8ArrayIfNeeded(e),t.decodeUTF8(this.decompressBlock(e))},e.prototype.decompressBlock=function(e){this.inputBufferRemainder&&(e=t.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,e]),this.inputBufferRemainder=void 0);for(var n=this.cropOutputBufferToWindowAndInitialize(Math.max(4*e.length,1024)),r=0,o=e.length;r<o;r++){var i=e[r];if(i>>>6==3){var a=i>>>5;if(r==o-1||r==o-2&&7==a){this.inputBufferRemainder=e.subarray(r);break}if(e[r+1]>>>7==1)this.outputByte(i);else{var s=31&i,u=void 0;6==a?(u=e[r+1],r+=1):(u=e[r+1]<<8|e[r+2],r+=2);for(var l=this.outputPosition-u,c=0;c<s;c++)this.outputByte(this.outputBuffer[l+c])}}else this.outputByte(i)}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),t.CompressionCommon.getCroppedBuffer(this.outputBuffer,n,this.outputPosition-n)},e.prototype.outputByte=function(e){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=t.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=e},e.prototype.cropOutputBufferToWindowAndInitialize=function(e){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(e),0;var n=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=t.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-n,n,e),this.outputPosition=n,this.outputBufferRemainder){for(var r=0;r<this.outputBufferRemainder.length;r++)this.outputByte(this.outputBufferRemainder[r]);this.outputBufferRemainder=void 0}return n},e.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var t=1;t<=4&&this.outputPosition-t>=0;t++){var e=this.outputBuffer[this.outputPosition-t];if(t<4&&e>>>3==30||t<3&&e>>>4==14||t<2&&e>>>5==6)return this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-t,this.outputPosition),void(this.outputPosition-=t)}},e}();t.Decompressor=e}(o||(o={})),function(t){!function(e){!function(e){var n=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),r=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]);e.encode=function(n){return n&&0!=n.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(n).toString("base64"):e.encodeWithJS(n):""},e.decode=function(n){return n?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(n,"base64")):e.decodeWithJS(n):new Uint8Array(0)},e.encodeWithJS=function(e,r){if(void 0===r&&(r=!0),!e||0==e.length)return"";for(var o,i=n,a=new t.StringBuilder,s=0,u=e.length;s<u;s+=3)s<=u-3?(o=e[s]<<16|e[s+1]<<8|e[s+2],a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),a.appendCharCode(i[o>>>6&63]),a.appendCharCode(i[63&o]),o=0):s===u-2?(o=e[s]<<16|e[s+1]<<8,a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),a.appendCharCode(i[o>>>6&63]),r&&a.appendCharCode(61)):s===u-1&&(o=e[s]<<16,a.appendCharCode(i[o>>>18&63]),a.appendCharCode(i[o>>>12&63]),r&&(a.appendCharCode(61),a.appendCharCode(61)));return a.getOutputString()},e.decodeWithJS=function(t,e){if(!t||0==t.length)return new Uint8Array(0);var n=t.length%4;if(1===n)throw new Error("Invalid Base64 string: length % 4 == 1");2===n?t+="==":3===n&&(t+="="),e||(e=new Uint8Array(t.length));for(var o=0,i=t.length,a=0;a<i;a+=4){var s=r[t.charCodeAt(a)]<<18|r[t.charCodeAt(a+1)]<<12|r[t.charCodeAt(a+2)]<<6|r[t.charCodeAt(a+3)];e[o++]=s>>>16&255,e[o++]=s>>>8&255,e[o++]=255&s}return 61==t.charCodeAt(i-1)&&o--,61==t.charCodeAt(i-2)&&o--,e.subarray(0,o)}}(e.Base64||(e.Base64={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(e){!function(e){e.encode=function(e){if(null==e)throw new TypeError("BinaryString.encode: undefined or null input received");if(0===e.length)return"";for(var n=e.length,r=new t.StringBuilder,o=0,i=1,a=0;a<n;a+=2){var s=void 0;s=a==n-1?e[a]<<8:e[a]<<8|e[a+1],r.appendCharCode(o<<16-i|s>>>i),o=s&(1<<i)-1,15===i?(r.appendCharCode(o),o=0,i=1):i+=1,a>=n-2&&r.appendCharCode(o<<16-i)}return r.appendCharCode(32768|n%2),r.getOutputString()},e.decode=function(t){if("string"!=typeof t)throw new TypeError("BinaryString.decode: invalid input type");if(""==t)return new Uint8Array(0);for(var e=new Uint8Array(3*t.length),n=0,r=function(t){e[n++]=t>>>8,e[n++]=255&t},o=0,i=0,a=0;a<t.length;a++){var s=t.charCodeAt(a);s>=32768?(32769==s&&n--,i=0):(0==i?o=s:(r(o<<i|s>>>15-i),o=s&(1<<15-i)-1),15==i?i=0:i+=1)}return e.subarray(0,n)}}(e.BinaryString||(e.BinaryString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(t){t.encodeFromString=function(t,e){var n=t.charCodeAt(e);if(n<55296||n>56319)return n;var r=t.charCodeAt(e+1);if(r>=56320&&r<=57343)return r-56320+(n-55296<<10)+65536;throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(n,", followed by ").concat(r,", which is not a trailing surrogate character code."))},t.decodeToString=function(t){if(t<=65535)return String.fromCharCode(t);if(t<=1114111)return String.fromCharCode(55296+(t-65536>>>10),56320+(t-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(t," cannot be encoded in UTF-16"))}}(t.CodePoint||(t.CodePoint={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(t){var e=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];t.encode=function(t){for(var n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n.join(" ")}}(t.DecimalString||(t.DecimalString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(t){!function(e){e.encode=function(e){return t.BinaryString.encode(e).replace(/\0/g,"耂")},e.decode=function(e){return t.BinaryString.decode(e.replace(/\u8002/g,"\0"))}}(t.StorageBinaryString||(t.StorageBinaryString={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){!function(e){!function(n){var r,o;n.encode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(e,"utf8")):n.createNativeTextEncoderAndDecoderIfAvailable()?r.encode(e):n.encodeWithJS(e):new Uint8Array(0)},n.decode=function(e){return e&&0!=e.length?t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(e).toString("utf8"):n.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(e):n.decodeWithJS(e):""},n.encodeWithJS=function(t,n){if(!t||0==t.length)return new Uint8Array(0);n||(n=new Uint8Array(4*t.length));for(var r=0,o=0;o<t.length;o++){var i=e.CodePoint.encodeFromString(t,o);if(i<=127)n[r++]=i;else if(i<=2047)n[r++]=192|i>>>6,n[r++]=128|63&i;else if(i<=65535)n[r++]=224|i>>>12,n[r++]=128|i>>>6&63,n[r++]=128|63&i;else{if(!(i<=1114111))throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)");n[r++]=240|i>>>18,n[r++]=128|i>>>12&63,n[r++]=128|i>>>6&63,n[r++]=128|63&i,o++}}return n.subarray(0,r)},n.decodeWithJS=function(e,n,r){if(void 0===n&&(n=0),!e||0==e.length)return"";void 0===r&&(r=e.length);for(var o,i,a=new t.StringBuilder,s=n,u=r;s<u;){if((i=e[s])>>>7==0)o=i,s+=1;else if(i>>>5==6){if(s+1>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(31&i)<<6|63&e[s+1],s+=2}else if(i>>>4==14){if(s+2>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(15&i)<<12|(63&e[s+1])<<6|63&e[s+2],s+=3}else{if(i>>>3!=30)throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+s);if(s+3>=r)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+s);o=(7&i)<<18|(63&e[s+1])<<12|(63&e[s+2])<<6|63&e[s+3],s+=4}a.appendCodePoint(o)}return a.getOutputString()},n.createNativeTextEncoderAndDecoderIfAvailable=function(){return!!r||"function"==typeof TextEncoder&&(r=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0)}}(e.UTF8||(e.UTF8={}))}(t.Encoding||(t.Encoding={}))}(o||(o={})),function(t){t.compress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("compress: undefined or null input received");var r=t.CompressionCommon.detectCompressionSourceEncoding(e);n=t.ObjectTools.override({inputEncoding:r,outputEncoding:"ByteArray"},n);var o=(new t.Compressor).compressBlock(e);return t.CompressionCommon.encodeCompressedBytes(o,n.outputEncoding)},t.decompress=function(e,n){if(void 0===n&&(n={}),null==e)throw new TypeError("decompress: undefined or null input received");n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},n);var r=t.CompressionCommon.decodeCompressedBytes(e,n.inputEncoding),o=(new t.Decompressor).decompressBlock(r);return t.CompressionCommon.encodeDecompressedBytes(o,n.outputEncoding)},t.compressAsync=function(e,n,r){var o;null==r&&(r=function(){});try{o=t.CompressionCommon.detectCompressionSourceEncoding(e)}catch(t){return void r(void 0,t)}n=t.ObjectTools.override({inputEncoding:o,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},n),t.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.compressAsync(e,n,r):t.AsyncCompressor.compressAsync(e,n,r)}))},t.decompressAsync=function(e,n,r){if(null==r&&(r=function(){}),null!=e){n=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},n);var o=t.BufferTools.convertToUint8ArrayIfNeeded(e);t.EventLoop.enqueueImmediate((function(){n.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.decompressAsync(o,n,r):t.AsyncDecompressor.decompressAsync(e,n,r)}))}else r(void 0,new TypeError("decompressAsync: undefined or null input received"))},t.createCompressionStream=function(){return t.AsyncCompressor.createCompressionStream()},t.createDecompressionStream=function(){return t.AsyncDecompressor.createDecompressionStream()},t.encodeUTF8=function(e){return t.Encoding.UTF8.encode(e)},t.decodeUTF8=function(e){return t.Encoding.UTF8.decode(e)},t.encodeBase64=function(e){return t.Encoding.Base64.encode(e)},t.decodeBase64=function(e){return t.Encoding.Base64.decode(e)},t.encodeBinaryString=function(e){return t.Encoding.BinaryString.encode(e)},t.decodeBinaryString=function(e){return t.Encoding.BinaryString.decode(e)},t.encodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.encode(e)},t.decodeStorageBinaryString=function(e){return t.Encoding.StorageBinaryString.decode(e)}}(o||(o={}))},374:(t,e,n)=>{const{AbortError:r,codes:o}=n(141),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=n(132),u=n(86),{ERR_INVALID_ARG_TYPE:l}=o;t.exports.addAbortSignal=function(e,n){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!i(n)&&!a(n))throw new l("stream",["ReadableStream","WritableStream","Stream"],n);return t.exports.addAbortSignalNoValidate(e,n)},t.exports.addAbortSignalNoValidate=function(t,e){if("object"!=typeof t||!("aborted"in t))return e;const n=i(e)?()=>{e.destroy(new r(void 0,{cause:t.reason}))}:()=>{e[s](new r(void 0,{cause:t.reason}))};return t.aborted?n():(t.addEventListener("abort",n),u(e,(()=>t.removeEventListener("abort",n)))),e}},616:(t,e,n)=>{const{StringPrototypeSlice:r,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:a}=n(191),{Buffer:s}=n(485),{inspect:u}=n(775);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,n=""+e.data;for(;null!==(e=e.next);)n+=t+e.data;return n}concat(t){if(0===this.length)return s.alloc(0);const e=s.allocUnsafe(t>>>0);let n=this.head,r=0;for(;n;)i(e,n.data,r),r+=n.data.length,n=n.next;return e}consume(t,e){const n=this.head.data;if(t<n.length){const e=n.slice(0,t);return this.head.data=n.slice(t),e}return t===n.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[o](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",n=this.head,o=0;do{const i=n.data;if(!(t>i.length)){t===i.length?(e+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(e+=r(i,0,t),this.head=n,n.data=r(i,t));break}e+=i,t-=i.length,++o}while(null!==(n=n.next));return this.length-=o,e}_getBuffer(t){const e=s.allocUnsafe(t),n=t;let r=this.head,o=0;do{const s=r.data;if(!(t>s.length)){t===s.length?(i(e,s,n-t),++o,r.next?this.head=r.next:this.head=this.tail=null):(i(e,new a(s.buffer,s.byteOffset,t),n-t),this.head=r,r.data=s.slice(t));break}i(e,s,n-t),t-=s.length,++o}while(null!==(r=r.next));return this.length-=o,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return u(this,{...e,depth:0,customInspect:!1})}}},818:(t,e,n)=>{const{pipeline:r}=n(754),o=n(182),{destroyer:i}=n(230),{isNodeStream:a,isReadable:s,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:f,isReadableStream:d}=n(132),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=n(141),y=n(86);t.exports=function(...t){if(0===t.length)throw new g("streams");if(1===t.length)return o.from(t[0]);const e=[...t];if("function"==typeof t[0]&&(t[0]=o.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=o.from(t[e])}for(let n=0;n<t.length;++n)if(a(t[n])||l(t[n])){if(n<t.length-1&&!(s(t[n])||d(t[n])||c(t[n])))throw new p(`streams[${n}]`,e[n],"must be readable");if(n>0&&!(u(t[n])||f(t[n])||c(t[n])))throw new p(`streams[${n}]`,e[n],"must be writable")}let n,m,v,b,w;const _=t[0],E=r(t,(function(t){const e=b;b=null,e?e(t):t?w.destroy(t):A||S||w.destroy()})),S=!!(u(_)||f(_)||c(_)),A=!!(s(E)||d(E)||c(E));if(w=new o({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==E||!E.writableObjectMode),writable:S,readable:A}),S){if(a(_))w._write=function(t,e,r){_.write(t,e)?r():n=r},w._final=function(t){_.end(),m=t},_.on("drain",(function(){if(n){const t=n;n=null,t()}}));else if(l(_)){const t=(c(_)?_.writable:_).getWriter();w._write=async function(e,n,r){try{await t.ready,t.write(e).catch((()=>{})),r()}catch(t){r(t)}},w._final=async function(e){try{await t.ready,t.close().catch((()=>{})),m=e}catch(t){e(t)}}}const t=c(E)?E.readable:E;y(t,(()=>{if(m){const t=m;m=null,t()}}))}if(A)if(a(E))E.on("readable",(function(){if(v){const t=v;v=null,t()}})),E.on("end",(function(){w.push(null)})),w._read=function(){for(;;){const t=E.read();if(null===t)return void(v=w._read);if(!w.push(t))return}};else if(l(E)){const t=(c(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{const{value:e,done:n}=await t.read();if(!w.push(e))return;if(n)return void w.push(null)}catch{return}}}return w._destroy=function(t,e){t||null===b||(t=new h),v=null,n=null,m=null,null===b?e(t):(b=e,a(E)&&i(E,t))},w}},230:(t,e,n)=>{const r=n(533),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:a}=n(141),{Symbol:s}=n(191),{kDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:f}=n(132),d=s("kDestroy"),h=s("kConstruct");function p(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function g(t,e,n){let o=!1;function i(e){if(o)return;o=!0;const i=t._readableState,a=t._writableState;p(e,a,i),a&&(a.closed=!0),i&&(i.closed=!0),"function"==typeof n&&n(e),e?r.nextTick(y,t,e):r.nextTick(m,t)}try{t._destroy(e||null,i)}catch(e){i(e)}}function y(t,e){v(t,e),m(t)}function m(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=n&&n.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function v(t,e){const n=t._readableState,r=t._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function b(t,e,n){const o=t._readableState,i=t._writableState;if(null!=i&&i.destroyed||null!=o&&o.destroyed)return this;null!=o&&o.autoDestroy||null!=i&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),o&&!o.errored&&(o.errored=e),n?r.nextTick(v,t,e):v(t,e))}function w(t){let e=!1;function n(n){if(e)return void b(t,null!=n?n:new i);e=!0;const o=t._readableState,a=t._writableState,s=a||o;o&&(o.constructed=!0),a&&(a.constructed=!0),s.destroyed?t.emit(d,n):n?b(t,n,!0):r.nextTick(_,t)}try{t._construct((t=>{r.nextTick(n,t)}))}catch(t){r.nextTick(n,t)}}function _(t){t.emit(h)}function E(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function S(t){t.emit("close")}function A(t,e){t.emit("error",e),r.nextTick(S,t)}t.exports={construct:function(t,e){if("function"!=typeof t._construct)return;const n=t._readableState,o=t._writableState;n&&(n.constructed=!1),o&&(o.constructed=!1),t.once(h,e),t.listenerCount(h)>1||r.nextTick(w,t)},destroyer:function(t,e){t&&!l(t)&&(e||c(t)||(e=new a),f(t)?(t.socket=null,t.destroy(e)):E(t)?t.abort():E(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(e):"function"==typeof t.close?t.close():e?r.nextTick(A,t,e):r.nextTick(S,t),t.destroyed||(t[u]=!0))},destroy:function(t,e){const n=this._readableState,r=this._writableState,i=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof e&&e(),this):(p(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?g(this,t,e):this.once(d,(function(n){g(this,o(n,t),e)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:b}},182:(t,e,n)=>{const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:a}=n(191);t.exports=l;const s=n(858),u=n(373);a(l.prototype,s.prototype),a(l,s);{const t=i(u.prototype);for(let e=0;e<t.length;e++){const n=t[e];l.prototype[n]||(l.prototype[n]=u.prototype[n])}}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),u.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,f;function d(){return void 0===c&&(c={}),c}r(l.prototype,{writable:{__proto__:null,...o(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(u.prototype,"writableLength")},writableFinished:{__proto__:null,...o(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),l.fromWeb=function(t,e){return d().newStreamDuplexFromReadableWritablePair(t,e)},l.toWeb=function(t){return d().newReadableWritablePairFromDuplex(t)},l.from=function(t){return f||(f=n(749)),f(t,"body")}},749:(t,e,n)=>{const r=n(533),o=n(485),{isReadable:i,isWritable:a,isIterable:s,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:f}=n(132),d=n(86),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=n(141),{destroyer:y}=n(230),m=n(182),v=n(858),{createDeferredPromise:b}=n(775),w=n(913),_=globalThis.Blob||o.Blob,E=void 0!==_?function(t){return t instanceof _}:function(t){return!1},S=globalThis.AbortController||n(876).AbortController,{FunctionPrototypeCall:A}=n(191);class I extends m{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(t){const e=t.readable&&"function"!=typeof t.readable.read?v.wrap(t.readable):t.readable,n=t.writable;let r,o,s,u,l,c=!!i(e),f=!!a(n);function p(t){const e=u;u=null,e?e(t):t&&l.destroy(t)}return l=new I({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:c,writable:f}),f&&(d(n,(t=>{f=!1,t&&y(e,t),p(t)})),l._write=function(t,e,o){n.write(t,e)?o():r=o},l._final=function(t){n.end(),o=t},n.on("drain",(function(){if(r){const t=r;r=null,t()}})),n.on("finish",(function(){if(o){const t=o;o=null,t()}}))),c&&(d(e,(t=>{c=!1,t&&y(e,t),p(t)})),e.on("readable",(function(){if(s){const t=s;s=null,t()}})),e.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const t=e.read();if(null===t)return void(s=l._read);if(!l.push(t))return}}),l._destroy=function(t,i){t||null===u||(t=new h),s=null,r=null,o=null,null===u?i(t):(u=i,y(n,t),y(e,t))},l}t.exports=function t(e,n){if(f(e))return e;if(l(e))return T({readable:e});if(c(e))return T({writable:e});if(u(e))return T({writable:!1,readable:!1});if("function"==typeof e){const{value:t,write:o,final:i,destroy:a}=function(t){let{promise:e,resolve:n}=b();const o=new S,i=o.signal,a=t(async function*(){for(;;){const t=e;e=null;const{chunk:o,done:a,cb:s}=await t;if(r.nextTick(s),a)return;if(i.aborted)throw new h(void 0,{cause:i.reason});({promise:e,resolve:n}=b()),yield o}}(),{signal:i});return{value:a,write(t,e,r){const o=n;n=null,o({chunk:t,done:!1,cb:r})},final(t){const e=n;n=null,e({done:!0,cb:t})},destroy(t,e){o.abort(),e(t)}}}(e);if(s(t))return w(I,t,{objectMode:!0,write:o,final:i,destroy:a});const u=null==t?void 0:t.then;if("function"==typeof u){let e;const n=A(u,t,(t=>{if(null!=t)throw new g("nully","body",t)}),(t=>{y(e,t)}));return e=new I({objectMode:!0,readable:!1,write:o,final(t){i((async()=>{try{await n,r.nextTick(t,null)}catch(e){r.nextTick(t,e)}}))},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",n,t)}if(E(e))return t(e.arrayBuffer());if(s(e))return w(I,e,{objectMode:!0,writable:!1});if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable)){return T({readable:null!=e&&e.readable?l(null==e?void 0:e.readable)?null==e?void 0:e.readable:t(e.readable):void 0,writable:null!=e&&e.writable?c(null==e?void 0:e.writable)?null==e?void 0:e.writable:t(e.writable):void 0})}const o=null==e?void 0:e.then;if("function"==typeof o){let t;return A(o,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{y(t,e)})),t=new I({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)}},86:(t,e,n)=>{const r=n(533),{AbortError:o,codes:i}=n(141),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:u,once:l}=n(775),{validateAbortSignal:c,validateFunction:f,validateObject:d,validateBoolean:h}=n(904),{Promise:p,PromisePrototypeThen:g}=n(191),{isClosed:y,isReadable:m,isReadableNodeStream:v,isReadableStream:b,isReadableFinished:w,isReadableErrored:_,isWritable:E,isWritableNodeStream:S,isWritableStream:A,isWritableFinished:I,isWritableErrored:T,isNodeStream:R,willEmitClose:x,kIsClosedPromise:C}=n(132);const B=()=>{};function k(t,e,n){var i,h;if(2===arguments.length?(n=e,e=u):null==e?e=u:d(e,"options"),f(n,"callback"),c(e.signal,"options.signal"),n=l(n),b(t)||A(t))return function(t,e,n){let i=!1,a=B;if(e.signal)if(a=()=>{i=!0,n.call(t,new o(void 0,{cause:e.signal.reason}))},e.signal.aborted)r.nextTick(a);else{const r=n;n=l(((...n)=>{e.signal.removeEventListener("abort",a),r.apply(t,n)})),e.signal.addEventListener("abort",a)}const s=(...e)=>{i||r.nextTick((()=>n.apply(t,e)))};return g(t[C].promise,s,s),B}(t,e,n);if(!R(t))throw new a("stream",["ReadableStream","WritableStream","Stream"],t);const p=null!==(i=e.readable)&&void 0!==i?i:v(t),k=null!==(h=e.writable)&&void 0!==h?h:S(t),L=t._writableState,O=t._readableState,U=()=>{t.writable||M()};let j=x(t)&&v(t)===p&&S(t)===k,N=I(t,!1);const M=()=>{N=!0,t.destroyed&&(j=!1),(!j||t.readable&&!p)&&(p&&!P||n.call(t))};let P=w(t,!1);const W=()=>{P=!0,t.destroyed&&(j=!1),(!j||t.writable&&!k)&&(k&&!N||n.call(t))},$=e=>{n.call(t,e)};let D=y(t);const F=()=>{D=!0;const e=T(t)||_(t);return e&&"boolean"!=typeof e?n.call(t,e):p&&!P&&v(t,!0)&&!w(t,!1)?n.call(t,new s):!k||N||I(t,!1)?void n.call(t):n.call(t,new s)},z=()=>{D=!0;const e=T(t)||_(t);if(e&&"boolean"!=typeof e)return n.call(t,e);n.call(t)},q=()=>{t.req.on("finish",M)};!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?k&&!L&&(t.on("end",U),t.on("close",U)):(t.on("complete",M),j||t.on("abort",F),t.req?q():t.on("request",q)),j||"boolean"!=typeof t.aborted||t.on("aborted",F),t.on("end",W),t.on("finish",M),!1!==e.error&&t.on("error",$),t.on("close",F),D?r.nextTick(F):null!=L&&L.errorEmitted||null!=O&&O.errorEmitted?j||r.nextTick(z):(p||j&&!m(t)||!N&&!1!==E(t))&&(k||j&&!E(t)||!P&&!1!==m(t))?O&&t.req&&t.aborted&&r.nextTick(z):r.nextTick(z);const H=()=>{n=B,t.removeListener("aborted",F),t.removeListener("complete",M),t.removeListener("abort",F),t.removeListener("request",q),t.req&&t.req.removeListener("finish",M),t.removeListener("end",U),t.removeListener("close",U),t.removeListener("finish",M),t.removeListener("end",W),t.removeListener("error",$),t.removeListener("close",F)};if(e.signal&&!D){const i=()=>{const r=n;H(),r.call(t,new o(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)r.nextTick(i);else{const r=n;n=l(((...n)=>{e.signal.removeEventListener("abort",i),r.apply(t,n)})),e.signal.addEventListener("abort",i)}}return H}t.exports=k,t.exports.finished=function(t,e){var n;let r=!1;return null===e&&(e=u),null!==(n=e)&&void 0!==n&&n.cleanup&&(h(e.cleanup,"cleanup"),r=e.cleanup),new p(((n,o)=>{const i=k(t,e,(t=>{r&&i(),t?o(t):n()}))}))}},913:(t,e,n)=>{const r=n(533),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:a}=n(191),{Buffer:s}=n(485),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=n(141).codes;t.exports=function(t,e,n){let c,f;if("string"==typeof e||e instanceof s)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});if(e&&e[i])f=!0,c=e[i]();else{if(!e||!e[a])throw new u("iterable",["Iterable"],e);f=!1,c=e[a]()}const d=new t({objectMode:!0,highWaterMark:1,...n});let h=!1;return d._read=function(){h||(h=!0,async function(){for(;;){try{const{value:t,done:e}=f?await c.next():c.next();if(e)d.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw h=!1,new l;if(d.push(e))continue;h=!1}}catch(t){d.destroy(t)}break}}())},d._destroy=function(t,e){o(async function(t){const e=null!=t,n="function"==typeof c.throw;if(e&&n){const{value:e,done:n}=await c.throw(t);if(await e,n)return}if("function"==typeof c.return){const{value:t}=await c.return();await t}}(t),(()=>r.nextTick(e,t)),(n=>r.nextTick(e,n||t)))},d}},200:(t,e,n)=>{const{ArrayIsArray:r,ObjectSetPrototypeOf:o}=n(191),{EventEmitter:i}=n(465);function a(t){i.call(this,t)}function s(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}o(a.prototype,i.prototype),o(a,i),a.prototype.pipe=function(t,e){const n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",u),n.on("close",l));let a=!1;function u(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){f(),0===i.listenerCount(this,"error")&&this.emit("error",t)}function f(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",u),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return s(n,"error",c),s(t,"error",c),n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t},t.exports={Stream:a,prependListener:s}},554:(t,e,n)=>{const r=globalThis.AbortController||n(876).AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:u}=n(141),{validateAbortSignal:l,validateInteger:c,validateObject:f}=n(904),d=n(191).Symbol("kWeak"),{finished:h}=n(86),p=n(818),{addAbortSignalNoValidate:g}=n(374),{isWritable:y,isNodeStream:m}=n(132),{ArrayPrototypePush:v,MathFloor:b,Number:w,NumberIsNaN:_,Promise:E,PromiseReject:S,PromisePrototypeThen:A,Symbol:I}=n(191),T=I("kEmpty"),R=I("kEof");function x(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");let n=1;return null!=(null==e?void 0:e.concurrency)&&(n=b(e.concurrency)),c(n,"concurrency",1),async function*(){var o,i;const a=new r,s=this,l=[],c=a.signal,f={signal:c},d=()=>a.abort();let h,p;null!=e&&null!==(o=e.signal)&&void 0!==o&&o.aborted&&d(),null==e||null===(i=e.signal)||void 0===i||i.addEventListener("abort",d);let g=!1;function y(){g=!0}!async function(){try{for await(let e of s){var r;if(g)return;if(c.aborted)throw new u;try{e=t(e,f)}catch(t){e=S(t)}e!==T&&("function"==typeof(null===(r=e)||void 0===r?void 0:r.catch)&&e.catch(y),l.push(e),h&&(h(),h=null),!g&&l.length&&l.length>=n&&await new E((t=>{p=t})))}l.push(R)}catch(t){const e=S(t);A(e,void 0,y),l.push(e)}finally{var o;g=!0,h&&(h(),h=null),null==e||null===(o=e.signal)||void 0===o||o.removeEventListener("abort",d)}}();try{for(;;){for(;l.length>0;){const t=await l[0];if(t===R)return;if(c.aborted)throw new u;t!==T&&(yield t),l.shift(),p&&(p(),p=null)}await new E((t=>{h=t}))}}finally{a.abort(),g=!0,p&&(p(),p=null)}}.call(this)}async function C(t,e=void 0){for await(const n of B.call(this,t,e))return!0;return!1}function B(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);return x.call(this,(async function(e,n){return await t(e,n)?e:T}),e)}class k extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function L(t){if(t=w(t),_(t))return 0;if(t<0)throw new s("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:function(t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),async function*(){let e=0;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new u({cause:t.signal.reason});yield[e++,r]}}.call(this)},drop:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new u;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u;t--<=0&&(yield n)}}.call(this)},filter:B,flatMap:function(t,e){const n=x.call(this,t,e);return async function*(){for await(const t of n)yield*t}.call(this)},map:x,take:function(t,e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),t=L(t),async function*(){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new u;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u;if(!(t-- >0))return;yield n}}.call(this)},compose:function(t,e){if(null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),m(t)&&!y(t))throw new o("stream",t,"must be writable");const n=p(this,t);return null!=e&&e.signal&&g(e.signal,n),n}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);return!await C.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new i("fn",["Function","AsyncFunction"],t);for await(const n of x.call(this,(async function(e,n){return await t(e,n),T}),e));},reduce:async function(t,e,n){var o;if("function"!=typeof t)throw new i("reducer",["Function","AsyncFunction"],t);null!=n&&f(n,"options"),null!=(null==n?void 0:n.signal)&&l(n.signal,"options.signal");let a=arguments.length>1;if(null!=n&&null!==(o=n.signal)&&void 0!==o&&o.aborted){const t=new u(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(t)),t}const s=new r,c=s.signal;if(null!=n&&n.signal){const t={once:!0,[d]:this};n.signal.addEventListener("abort",(()=>s.abort()),t)}let p=!1;try{for await(const r of this){var g;if(p=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new u;a?e=await t(e,r,{signal:c}):(e=r,a=!0)}if(!p&&!a)throw new k}finally{s.abort()}return e},toArray:async function(t){null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");const e=[];for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new u(void 0,{cause:t.signal.reason});v(e,r)}return e},some:C,find:async function(t,e){for await(const n of B.call(this,t,e))return n}}},467:(t,e,n)=>{const{ObjectSetPrototypeOf:r}=n(191);t.exports=i;const o=n(210);function i(t){if(!(this instanceof i))return new i(t);o.call(this,t)}r(i.prototype,o.prototype),r(i,o),i.prototype._transform=function(t,e,n){n(null,t)}},754:(t,e,n)=>{const r=n(533),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:a}=n(191),s=n(86),{once:u}=n(775),l=n(230),c=n(182),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:m}=n(141),{validateFunction:v,validateAbortSignal:b}=n(904),{isIterable:w,isReadable:_,isReadableNodeStream:E,isNodeStream:S,isTransformStream:A,isWebStream:I,isReadableStream:T,isReadableEnded:R}=n(132),x=globalThis.AbortController||n(876).AbortController;let C,B;function k(t,e,n){let r=!1;t.on("close",(()=>{r=!0}));return{destroy:e=>{r||(r=!0,l.destroyer(t,e||new g("pipe")))},cleanup:s(t,{readable:e,writable:n},(t=>{r=!t}))}}function L(t){if(w(t))return t;if(E(t))return async function*(t){B||(B=n(858));yield*B.prototype[a].call(t)}(t);throw new d("val",["Readable","Iterable","AsyncIterable"],t)}async function O(t,e,n,{end:r}){let o,a=null;const u=t=>{if(t&&(o=t),a){const t=a;a=null,t()}},l=()=>new i(((t,e)=>{o?e(o):a=()=>{o?e(o):t()}}));e.on("drain",u);const c=s(e,{readable:!1},u);try{e.writableNeedDrain&&await l();for await(const n of t)e.write(n)||await l();r&&e.end(),await l(),n()}catch(t){n(o!==t?f(o,t):t)}finally{c(),e.off("drain",u)}}async function U(t,e,n,{end:r}){A(e)&&(e=e.writable);const o=e.getWriter();try{for await(const e of t)await o.ready,o.write(e).catch((()=>{}));await o.ready,r&&await o.close(),n()}catch(t){try{await o.abort(t),n(t)}catch(t){n(t)}}}function j(t,e,i){if(1===t.length&&o(t[0])&&(t=t[0]),t.length<2)throw new p("streams");const a=new x,s=a.signal,u=null==i?void 0:i.signal,l=[];function f(){M(new m)}let g,y;b(u,"options.signal"),null==u||u.addEventListener("abort",f);const v=[];let R,B=0;function j(t){M(t,0==--B)}function M(t,n){if(!t||g&&"ERR_STREAM_PREMATURE_CLOSE"!==g.code||(g=t),g||n){for(;v.length;)v.shift()(g);null==u||u.removeEventListener("abort",f),a.abort(),n&&(g||l.forEach((t=>t())),r.nextTick(e,g,y))}}for(let D=0;D<t.length;D++){const F=t[D],z=D<t.length-1,q=D>0,H=z||!1!==(null==i?void 0:i.end),V=D===t.length-1;if(S(F)){if(H){const{destroy:G,cleanup:J}=k(F,z,q);v.push(G),_(F)&&V&&l.push(J)}function P(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&j(t)}F.on("error",P),_(F)&&V&&l.push((()=>{F.removeListener("error",P)}))}if(0===D)if("function"==typeof F){if(R=F({signal:s}),!w(R))throw new h("Iterable, AsyncIterable or Stream","source",R)}else R=w(F)||E(F)||A(F)?F:c.from(F);else if("function"==typeof F){var W;if(A(R))R=L(null===(W=R)||void 0===W?void 0:W.readable);else R=L(R);if(R=F(R,{signal:s}),z){if(!w(R,!0))throw new h("AsyncIterable",`transform[${D-1}]`,R)}else{var $;C||(C=n(467));const Y=new C({objectMode:!0}),K=null===($=R)||void 0===$?void 0:$.then;if("function"==typeof K)B++,K.call(R,(t=>{y=t,null!=t&&Y.write(t),H&&Y.end(),r.nextTick(j)}),(t=>{Y.destroy(t),r.nextTick(j,t)}));else if(w(R,!0))B++,O(R,Y,j,{end:H});else{if(!T(R)&&!A(R))throw new h("AsyncIterable or Promise","destination",R);{const Q=R.readable||R;B++,O(Q,Y,j,{end:H})}}R=Y;const{destroy:X,cleanup:Z}=k(R,!1,!0);v.push(X),V&&l.push(Z)}}else if(S(F)){if(E(R)){B+=2;const tt=N(R,F,j,{end:H});_(F)&&V&&l.push(tt)}else if(A(R)||T(R)){const et=R.readable||R;B++,O(et,F,j,{end:H})}else{if(!w(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,O(R,F,j,{end:H})}R=F}else if(I(F)){if(E(R))B++,U(L(R),F,j,{end:H});else if(T(R)||w(R))B++,U(R,F,j,{end:H});else{if(!A(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,U(R.readable,F,j,{end:H})}R=F}else R=c.from(F)}return(null!=s&&s.aborted||null!=u&&u.aborted)&&r.nextTick(f),R}function N(t,e,n,{end:o}){let i=!1;if(e.on("close",(()=>{i||n(new y)})),t.pipe(e,{end:!1}),o){function a(){i=!0,e.end()}R(t)?r.nextTick(a):t.once("end",a)}else n();return s(t,{readable:!0,writable:!1},(e=>{const r=t._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?t.once("end",n).once("error",n):n(e)})),s(e,{readable:!1,writable:!0},n)}t.exports={pipelineImpl:j,pipeline:function(...t){return j(t,u(function(t){return v(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}},858:(t,e,n)=>{const r=n(533),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:f,SafeSet:d,SymbolAsyncIterator:h,Symbol:p}=n(191);t.exports=W,W.ReadableState=P;const{EventEmitter:g}=n(465),{Stream:y,prependListener:m}=n(200),{Buffer:v}=n(485),{addAbortSignal:b}=n(374),w=n(86);let _=n(775).debuglog("stream",(t=>{_=t}));const E=n(616),S=n(230),{getHighWaterMark:A,getDefaultHighWaterMark:I}=n(498),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:k}}=n(141),{validateObject:L}=n(904),O=p("kPaused"),{StringDecoder:U}=n(464),j=n(913);c(W.prototype,y.prototype),c(W,y);const N=()=>{},{errorOrDestroy:M}=S;function P(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(182)),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.readableObjectMode)),this.highWaterMark=t?A(this,t,"readableHighWaterMark",r):I(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[O]=null,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new U(t.encoding),this.encoding=t.encoding)}function W(t){if(!(this instanceof W))return new W(t);const e=this instanceof n(182);this._readableState=new P(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&b(t.signal,this)),y.call(this,t),S.construct(this,(()=>{this._readableState.needReadable&&H(this,this._readableState)}))}function $(t,e,n,r){_("readableAddChunk",e);const o=t._readableState;let i;if(o.objectMode||("string"==typeof e?(n=n||o.defaultEncoding,o.encoding!==n&&(r&&o.encoding?e=v.from(e,n).toString(o.encoding):(e=v.from(e,n),n=""))):e instanceof v?n="":y._isUint8Array(e)?(e=y._uint8ArrayToBuffer(e),n=""):null!=e&&(i=new R("chunk",["string","Buffer","Uint8Array"],e))),i)M(t,i);else if(null===e)o.reading=!1,function(t,e){if(_("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?z(t):(e.needReadable=!1,e.emittedReadable=!0,q(t))}(t,o);else if(o.objectMode||e&&e.length>0)if(r)if(o.endEmitted)M(t,new k);else{if(o.destroyed||o.errored)return!1;D(t,o,e,!0)}else if(o.ended)M(t,new B);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?D(t,o,e,!1):H(t,o)):D(t,o,e,!1)}else r||(o.reading=!1,H(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function D(t,e,n,r){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&z(t)),H(t,e)}W.prototype.destroy=S.destroy,W.prototype._undestroy=S.undestroy,W.prototype._destroy=function(t,e){e(t)},W.prototype[g.captureRejectionSymbol]=function(t){this.destroy(t)},W.prototype.push=function(t,e){return $(this,t,e,!1)},W.prototype.unshift=function(t,e){return $(this,t,e,!0)},W.prototype.isPaused=function(){const t=this._readableState;return!0===t[O]||!1===t.flowing},W.prototype.setEncoding=function(t){const e=new U(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const t of n)r+=e.write(t);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};function F(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:a(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function z(t){const e=t._readableState;_("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(_("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(q,t))}function q(t){const e=t._readableState;_("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,K(t)}function H(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,r.nextTick(V,t,e))}function V(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const n=e.length;if(_("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function G(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[O]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function J(t){_("readable nexttick read 0"),t.read(0)}function Y(t,e){_("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),K(t),e.flowing&&!e.reading&&t.read(0)}function K(t){const e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function X(t,e){"function"!=typeof t.read&&(t=W.wrap(t,{objectMode:!0}));const n=async function*(t,e){let n,r=N;function o(e){this===t?(r(),r=N):r=e}t.on("readable",o);const i=w(t,{writable:!1},(t=>{n=t?T(n,t):null,r(),r=N}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(n)throw n;if(null===n)return;await new f(o)}}}catch(t){throw n=T(n,t),n}finally{!n&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==n&&!t._readableState.autoDestroy?(t.off("readable",o),i()):S.destroyer(t,null)}}(t,e);return n.stream=t,n}function Z(t,e){if(0===e.length)return null;let n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}function Q(t){const e=t._readableState;_("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(tt,e,t))}function tt(t,e){if(_("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,e.emit("end"),e.writable&&!1===e.allowHalfOpen)r.nextTick(et,e);else if(t.autoDestroy){const t=e._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&e.destroy()}}function et(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let nt;function rt(){return void 0===nt&&(nt={}),nt}W.prototype.read=function(t){_("read",t),void 0===t?t=NaN:i(t)||(t=s(t,10));const e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new C("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Q(this):z(this),null;if(0===(t=F(t,e))&&e.ended)return 0===e.length&&Q(this),null;let r,o=e.needReadable;if(_("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&(o=!0,_("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(t){M(this,t)}e.sync=!1,e.reading||(t=F(n,e))}return r=t>0?Z(t,e):null,null===r?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Q(this)),null===r||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",r)),r},W.prototype._read=function(t){throw new x("_read()")},W.prototype.pipe=function(t,e){const n=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new d(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(t),_("pipe count=%d opts=%j",o.pipes.length,e);const i=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?s:y;function a(e,r){_("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){_("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),u&&t.removeListener("drain",u);t.removeListener("error",h),t.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",y),n.removeListener("data",f),l=!0,u&&o.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&u()}())}function s(){_("onend"),t.end()}let u;o.endEmitted?r.nextTick(i):n.once("end",i),t.on("unpipe",a);let l=!1;function c(){l||(1===o.pipes.length&&o.pipes[0]===t?(_("false write response, pause",0),o.awaitDrainWriters=t,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(t)&&(_("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(t)),n.pause()),u||(u=function(t,e){return function(){const n=t._readableState;n.awaitDrainWriters===e?(_("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(_("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(n,t),t.on("drain",u))}function f(e){_("ondata");const n=t.write(e);_("dest.write",n),!1===n&&c()}function h(e){if(_("onerror",e),y(),t.removeListener("error",h),0===t.listenerCount("error")){const n=t._writableState||t._readableState;n&&!n.errorEmitted?M(t,e):t.emit("error",e)}}function p(){t.removeListener("finish",g),y()}function g(){_("onfinish"),t.removeListener("close",p),y()}function y(){_("unpipe"),n.unpipe(t)}return n.on("data",f),m(t,"error",h),t.once("close",p),t.once("finish",g),t.emit("pipe",n),!0===t.writableNeedDrain?o.flowing&&c():o.flowing||(_("pipe resume"),n.resume()),t},W.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const n=o(e.pipes,t);return-1===n||(e.pipes.splice(n,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(t,e){const n=y.prototype.on.call(this,t,e),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===t&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,_("on readable",o.length,o.reading),o.length?z(this):o.reading||r.nextTick(J,this))),n},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(t,e){const n=y.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(G,this),n},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(t){const e=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(G,this),e},W.prototype.resume=function(){const t=this._readableState;return t.flowing||(_("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(Y,t,e))}(this,t)),t[O]=!1,this},W.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[O]=!0,this},W.prototype.wrap=function(t){let e=!1;t.on("data",(n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{M(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const n=l(t);for(let e=1;e<n.length;e++){const r=n[e];void 0===this[r]&&"function"==typeof t[r]&&(this[r]=t[r].bind(t))}return this},W.prototype[h]=function(){return X(this)},W.prototype.iterator=function(t){return void 0!==t&&L(t,"options"),X(this,t)},u(W.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),u(P.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[O]},set(t){this[O]=!!t}}}),W._fromList=Z,W.from=function(t,e){return j(W,t,e)},W.fromWeb=function(t,e){return rt().newStreamReadableFromReadableStream(t,e)},W.toWeb=function(t,e){return rt().newReadableStreamFromStreamReadable(t,e)},W.wrap=function(t,e){var n,r;return new W({objectMode:null===(n=null!==(r=t.readableObjectMode)&&void 0!==r?r:t.objectMode)||void 0===n||n,...e,destroy(e,n){S.destroyer(t,e),n(e)}}).wrap(t)}},498:(t,e,n)=>{const{MathFloor:r,NumberIsInteger:o}=n(191),{ERR_INVALID_ARG_VALUE:i}=n(141).codes;function a(t){return t?16:16384}t.exports={getHighWaterMark:function(t,e,n,s){const u=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,s,n);if(null!=u){if(!o(u)||u<0){throw new i(s?`options.${n}`:"options.highWaterMark",u)}return r(u)}return a(t.objectMode)},getDefaultHighWaterMark:a}},210:(t,e,n)=>{const{ObjectSetPrototypeOf:r,Symbol:o}=n(191);t.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:i}=n(141).codes,a=n(182),{getHighWaterMark:s}=n(498);r(l.prototype,a.prototype),r(l,a);const u=o("kCallback");function l(t){if(!(this instanceof l))return new l(t);const e=t?s(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),a.call(this,t),this._readableState.sync=!1,this[u]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function c(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,n)=>{e?t?t(e):this.destroy(e):(null!=n&&this.push(n),this.push(null),t&&t())}))}function f(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(t,e,n){throw new i("_transform()")},l.prototype._write=function(t,e,n){const r=this._readableState,o=this._writableState,i=r.length;this._transform(t,e,((t,e)=>{t?n(t):(null!=e&&this.push(e),o.ended||i===r.length||r.length<r.highWaterMark?n():this[u]=n)}))},l.prototype._read=function(){if(this[u]){const t=this[u];this[u]=null,t()}}},132:(t,e,n)=>{const{Symbol:r,SymbolAsyncIterator:o,SymbolIterator:i,SymbolFor:a}=n(191),s=r("kDestroyed"),u=r("kIsErrored"),l=r("kIsReadable"),c=r("kIsDisturbed"),f=a("nodejs.webstream.isClosedPromise"),d=a("nodejs.webstream.controllerErrorFunction");function h(t,e=!1){var n;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(n=t._readableState)||void 0===n?void 0:n.readable)||t._writableState&&!t._readableState)}function p(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function g(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function y(t){return!(!t||g(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function m(t){return!(!t||g(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function v(t){return!(!t||g(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function b(t){if(!g(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[s]||null!=r&&r.destroyed)}function w(t){if(!p(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function _(t,e){if(!h(t))return null;const n=t._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===e&&!0===n.ended&&0===n.length))}function E(t){return t&&null!=t[l]?t[l]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!b(t)&&(h(t)&&t.readable&&!_(t))}function S(t){return"boolean"!=typeof(null==t?void 0:t.writable)?null:!b(t)&&(p(t)&&t.writable&&!w(t))}function A(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function I(t){return"boolean"==typeof t._sent100&&A(t)}t.exports={kDestroyed:s,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[c])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:c,isErrored:function(t){var e,n,r,o,i,a,s,l,c,f;return!(!t||!(null!==(e=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=t[u])&&void 0!==a?a:t.readableErrored)&&void 0!==i?i:t.writableErrored)&&void 0!==o?o:null===(s=t._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(l=t._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=t._readableState)||void 0===c?void 0:c.errored)&&void 0!==e?e:null===(f=t._writableState)||void 0===f?void 0:f.errored))},kIsErrored:u,isReadable:E,kIsReadable:l,kIsClosedPromise:f,kControllerErrorFunction:d,isClosed:function(t){if(!g(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,n=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==e?void 0:e.closed)||(null==n?void 0:n.closed):"boolean"==typeof t._closed&&A(t)?t._closed:null},isDestroyed:b,isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return g(t)?!!b(t)||(!1===(null==e?void 0:e.readable)||!E(t))&&(!1===(null==e?void 0:e.writable)||!S(t)):null},isIterable:function(t,e){return null!=t&&(!0===e?"function"==typeof t[o]:!1===e?"function"==typeof t[i]:"function"==typeof t[o]||"function"==typeof t[i])},isReadableNodeStream:h,isReadableStream:y,isReadableEnded:function(t){if(!h(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:_,isReadableErrored:function(t){var e,n;return g(t)?t.readableErrored?t.readableErrored:null!==(e=null===(n=t._readableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isNodeStream:g,isWebStream:function(t){return y(t)||m(t)||v(t)},isWritable:S,isWritableNodeStream:p,isWritableStream:m,isWritableEnded:w,isWritableFinished:function(t,e){if(!p(t))return null;if(!0===t.writableFinished)return!0;const n=t._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===e&&!0===n.ended&&0===n.length))},isWritableErrored:function(t){var e,n;return g(t)?t.writableErrored?t.writableErrored:null!==(e=null===(n=t._writableState)||void 0===n?void 0:n.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:I,willEmitClose:function(t){if(!g(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!r&&I(t)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:v}},373:(t,e,n)=>{const r=n(533),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:f,SymbolHasInstance:d}=n(191);t.exports=U,U.WritableState=L;const{EventEmitter:h}=n(465),p=n(200).Stream,{Buffer:g}=n(485),y=n(230),{addAbortSignal:m}=n(374),{getHighWaterMark:v,getDefaultHighWaterMark:b}=n(498),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:x}=n(141).codes,{errorOrDestroy:C}=y;function B(){}l(U.prototype,p.prototype),l(U,p);const k=f("kOnFinished");function L(t,e,r){"boolean"!=typeof r&&(r=e instanceof n(182)),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?v(this,t,"writableHighWaterMark",r):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const o=!(!t||!1!==t.decodeStrings);this.decodeStrings=!o,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=P.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,O(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function O(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function U(t){const e=this instanceof n(182);if(!e&&!a(U,this))return new U(t);this._writableState=new L(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&m(t.signal,this)),p.call(this,t),y.construct(this,(()=>{const t=this._writableState;t.writing||F(this,t),H(this,t)}))}function j(t,e,n,o){const i=t._writableState;if("function"==typeof n)o=n,n=i.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new x(n)}else n=i.defaultEncoding;"function"!=typeof o&&(o=B)}if(null===e)throw new T;if(!i.objectMode)if("string"==typeof e)!1!==i.decodeStrings&&(e=g.from(e,n),n="buffer");else if(e instanceof g)n="buffer";else{if(!p._isUint8Array(e))throw new w("chunk",["string","Buffer","Uint8Array"],e);e=p._uint8ArrayToBuffer(e),n="buffer"}let a;return i.ending?a=new R:i.destroyed&&(a=new A("write")),a?(r.nextTick(o,a),C(t,a,!0),a):(i.pendingcb++,function(t,e,n,r,o){const i=e.objectMode?1:n.length;e.length+=i;const a=e.length<e.highWaterMark;a||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:n,encoding:r,callback:o}),e.allBuffers&&"buffer"!==r&&(e.allBuffers=!1),e.allNoop&&o!==B&&(e.allNoop=!1)):(e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,t._write(n,r,e.onwrite),e.sync=!1);return a&&!e.errored&&!e.destroyed}(t,i,e,n,o))}function N(t,e,n,r,o,i,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new A("write")):n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function M(t,e,n,r){--e.pendingcb,r(n),D(e),C(t,n)}function P(t,e){const n=t._writableState,o=n.sync,i=n.writecb;"function"==typeof i?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,e?(e.stack,n.errored||(n.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),o?r.nextTick(M,t,n,e,i):M(t,n,e,i)):(n.buffered.length>n.bufferedIndex&&F(t,n),o?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===i?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:i,stream:t,state:n},r.nextTick(W,n.afterWriteTickInfo)):$(t,n,1,i))):C(t,new E)}function W({stream:t,state:e,count:n,cb:r}){return e.afterWriteTickInfo=null,$(t,e,n,r)}function $(t,e,n,r){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));n-- >0;)e.pendingcb--,r();e.destroyed&&D(e),H(t,e)}function D(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;const{chunk:r,callback:o}=t.buffered[n],i=t.objectMode?1:r.length;t.length-=i,o(null!==(e=t.errored)&&void 0!==e?e:new A("write"))}const n=t[k].splice(0);for(let e=0;e<n.length;e++){var r;n[e](null!==(r=t.errored)&&void 0!==r?r:new A("end"))}O(t)}function F(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:i}=e,a=n.length-r;if(!a)return;let s=r;if(e.bufferProcessing=!0,a>1&&t._writev){e.pendingcb-=a-1;const r=e.allNoop?B:t=>{for(let e=s;e<n.length;++e)n[e].callback(t)},i=e.allNoop&&0===s?n:o(n,s);i.allBuffers=e.allBuffers,N(t,e,!0,e.length,i,"",r),O(e)}else{do{const{chunk:r,encoding:o,callback:a}=n[s];n[s++]=null;N(t,e,!1,i?1:r.length,r,o,a)}while(s<n.length&&!e.writing);s===n.length?O(e):s>256?(n.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}function z(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function q(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.finalCalled=!0,function(t,e){let n=!1;function o(o){if(n)C(t,null!=o?o:E());else if(n=!0,e.pendingcb--,o){const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t](o);C(t,o,e.sync)}else z(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,r.nextTick(V,t,e))}e.sync=!0,e.pendingcb++;try{t._final(o)}catch(t){o(t)}e.sync=!1}(t,e)))}function H(t,e,n){z(e)&&(q(t,e),0===e.pendingcb&&(n?(e.pendingcb++,r.nextTick(((t,e)=>{z(e)?V(t,e):e.pendingcb--}),t,e)):z(e)&&(e.pendingcb++,V(t,e))))}function V(t,e){e.pendingcb--,e.finished=!0;const n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}L.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},s(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(U,d,{__proto__:null,value:function(t){return!!a(this,t)||this===U&&(t&&t._writableState instanceof L)}}),U.prototype.pipe=function(){C(this,new S)},U.prototype.write=function(t,e,n){return!0===j(this,t,e,n)},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||F(this,t))},U.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=c(t)),!g.isEncoding(t))throw new x(t);return this._writableState.defaultEncoding=t,this},U.prototype._write=function(t,e,n){if(!this._writev)throw new _("_write()");this._writev([{chunk:t,encoding:e}],n)},U.prototype._writev=null,U.prototype.end=function(t,e,n){const o=this._writableState;let a;if("function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t){const n=j(this,t,e);n instanceof i&&(a=n)}return o.corked&&(o.corked=1,this.uncork()),a||(o.errored||o.ending?o.finished?a=new I("end"):o.destroyed&&(a=new A("end")):(o.ending=!0,H(this,o,!0),o.ended=!0)),"function"==typeof n&&(a||o.finished?r.nextTick(n,a):o[k].push(n)),this},u(U.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=y.destroy;let J;function Y(){return void 0===J&&(J={}),J}U.prototype.destroy=function(t,e){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[k].length)&&r.nextTick(D,n),G.call(this,t,e),this},U.prototype._undestroy=y.undestroy,U.prototype._destroy=function(t,e){e(t)},U.prototype[h.captureRejectionSymbol]=function(t){this.destroy(t)},U.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},U.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)}},904:(t,e,n)=>{const{ArrayIsArray:r,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:f,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=n(191),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:E}}=n(141),{normalizeEncoding:S}=n(775),{isAsyncFunction:A,isArrayBufferView:I}=n(775).types,T={};const R=/^[0-7]+$/;const x=m(((t,e,n=c,r=l)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);if(t<n||t>r)throw new _(e,`>= ${n} && <= ${r}`,t)})),C=m(((t,e,n=-2147483648,r=2147483647)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);if(t<n||t>r)throw new _(e,`>= ${n} && <= ${r}`,t)})),B=m(((t,e,n=!1)=>{if("number"!=typeof t)throw new b(e,"number",t);if(!s(t))throw new _(e,"an integer",t);const r=n?1:0,o=4294967295;if(t<r||t>o)throw new _(e,`>= ${r} && <= ${o}`,t)}));function k(t,e){if("string"!=typeof t)throw new b(e,"string",t)}const L=m(((t,e,n)=>{if(!o(n,t)){const r=i(a(n,(t=>"string"==typeof t?`'${t}'`:p(t))),", ");throw new w(e,t,"must be one of: "+r)}}));function O(t,e){if("boolean"!=typeof t)throw new b(e,"boolean",t)}function U(t,e,n){return null!=t&&d(t,e)?t[e]:n}const j=m(((t,e,n=null)=>{const o=U(n,"allowArray",!1),i=U(n,"allowFunction",!1);if(!U(n,"nullable",!1)&&null===t||!o&&r(t)||"object"!=typeof t&&(!i||"function"!=typeof t))throw new b(e,"Object",t)})),N=m(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new b(e,"a dictionary",t)})),M=m(((t,e,n=0)=>{if(!r(t))throw new b(e,"Array",t);if(t.length<n){throw new w(e,t,`must be longer than ${n}`)}}));const P=m(((t,e="buffer")=>{if(!I(t))throw new b(e,["Buffer","TypedArray","DataView"],t)}));const W=m(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new b(e,"AbortSignal",t)})),$=m(((t,e)=>{if("function"!=typeof t)throw new b(e,"Function",t)})),D=m(((t,e)=>{if("function"!=typeof t||A(t))throw new b(e,"Function",t)})),F=m(((t,e)=>{if(void 0!==t)throw new b(e,"undefined",t)}));const z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(t,e){if(void 0===t||!h(z,t))throw new w(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,n){if(void 0===t&&(t=n),"string"==typeof t){if(null===h(R,t))throw new w(e,t,"must be a 32-bit unsigned integer or an octal string");t=f(t,8)}return B(t,e),t},validateArray:M,validateStringArray:function(t,e){M(t,e);for(let n=0;n<t.length;n++)k(t[n],`${e}[${n}]`)},validateBooleanArray:function(t,e){M(t,e);for(let n=0;n<t.length;n++)O(t[n],`${e}[${n}]`)},validateBoolean:O,validateBuffer:P,validateDictionary:N,validateEncoding:function(t,e){const n=S(e),r=t.length;if("hex"===n&&r%2!=0)throw new w("encoding",e,`is invalid for data of length ${r}`)},validateFunction:$,validateInt32:C,validateInteger:x,validateNumber:function(t,e,n=void 0,r){if("number"!=typeof t)throw new b(e,"number",t);if(null!=n&&t<n||null!=r&&t>r||(null!=n||null!=r)&&u(t))throw new _(e,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,t)},validateObject:j,validateOneOf:L,validatePlainFunction:D,validatePort:function(t,e="Port",n=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===y(t).length||+t!=+t>>>0||t>65535||0===t&&!n)throw new v(e,t,n);return 0|t},validateSignalName:function(t,e="signal"){if(k(t,e),void 0===T[t]){if(void 0!==T[g(t)])throw new E(t+" (signals must use all capital letters)");throw new E(t)}},validateString:k,validateUint32:B,validateUndefined:F,validateUnion:function(t,e,n){if(!o(n,t))throw new b(e,`('${i(n,"|")}')`,t)},validateAbortSignal:W,validateLinkHeaderValue:function(t){if("string"==typeof t)return q(t,"hints"),t;if(r(t)){const e=t.length;let n="";if(0===e)return n;for(let r=0;r<e;r++){const o=t[r];q(o,"hints"),n+=o,r!==e-1&&(n+=", ")}return n}throw new w("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},99:(t,e,n)=>{const r=n(292),o=n(760),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:()=>o}),t.exports.Stream=r.Stream,t.exports.default=t.exports},141:(t,e,n)=>{const{format:r,inspect:o,AggregateError:i}=n(775),a=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c={};function f(t,e){if(!t)throw new c.ERR_INTERNAL_ASSERTION(e)}function d(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function h(t,e,n){n||(n=Error);class NodeError extends n{constructor(...n){super(function(t,e,n){if("function"==typeof e)return f(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const o=(e.match(/%[dfijoOs]/g)||[]).length;return f(o===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${o}).`),0===n.length?e:r(e,...n)}(t,e,n))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(NodeError.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),NodeError.prototype.code=t,NodeError.prototype[s]=!0,c[t]=NodeError}function p(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class AbortError extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new c.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((t,e,n)=>{f("string"==typeof t,"'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";const i=[],a=[],s=[];for(const t of e)f("string"==typeof t,"All expected entries have to be of type string"),u.includes(t)?i.push(t.toLowerCase()):l.test(t)?a.push(t):(f("object"!==t,'The value "object" should be written as "Object"'),s.push(t));if(a.length>0){const t=i.indexOf("object");-1!==t&&(i.splice(i,t,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const t=i.pop();r+=`one of type ${i.join(", ")}, or ${t}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();r+=`an instance of ${a.join(", ")}, or ${t}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const t=s.pop();r+=`one of ${s.join(", ")}, or ${t}`}}if(null==n)r+=`. Received ${n}`;else if("function"==typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"==typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)r+=`. Received an instance of ${n.constructor.name}`;else{r+=`. Received ${o(n,{depth:-1})}`}}else{let t=o(n,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),r+=`. Received type ${typeof n} (${t})`}return r}),TypeError),h("ERR_INVALID_ARG_VALUE",((t,e,n="is invalid")=>{let r=o(e);r.length>128&&(r=r.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((t,e,n)=>{var r;return`Expected ${t} to be returned from the "${e}" function but got ${null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),h("ERR_MISSING_ARGS",((...t)=>{let e;f(t.length>0,"At least one arg needs to be specified");const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}}return`${e} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((t,e,n)=>{let r;return f(e,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=d(String(n)):"bigint"==typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=d(r)),r+="n"):r=o(n),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError,aggregateTwoErrors:p((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new a([e,t],e.message);return n.code=e.code,n}return t||e})),hideStackFrames:p,codes:c}},191:t=>{t.exports={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,n)=>t.slice(e,n),Error,FunctionPrototypeCall:(t,e,...n)=>t.call(e,...n),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,n)=>Object.defineProperty(t,e,n),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,n)=>t.then(e,n),PromiseReject:t=>Promise.reject(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String,StringPrototypeSlice:(t,e,n)=>t.slice(e,n),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(t,e,n)=>t.set(e,n),Uint8Array}},775:(t,e,n)=>{const r=n(485),o=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||r.Blob,a=void 0!==i?function(t){return t instanceof i}:function(t){return!1};class AggregateError extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let n=0;n<t.length;n++)e+=`    ${t[n].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...n){e||(e=!0,t.apply(this,n))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((n,r)=>{t=n,e=r})),resolve:t,reject:e}},promisify:t=>new Promise(((e,n)=>{t(((t,...r)=>t?n(t):e(...r)))})),debuglog:()=>function(){},format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,n]){const r=e.shift();if("f"===n)return r.toFixed(6);if("j"===n)return JSON.stringify(r);if("s"===n&&"object"==typeof r){return`${r.constructor!==Object?r.constructor.name:""} {}`.trim()}return r.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction:t=>t instanceof o,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:a},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},292:(t,e,n)=>{const{Buffer:r}=n(485),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:a}=n(191),{promisify:{custom:s}}=n(775),{streamReturningOperators:u,promiseReturningOperators:l}=n(554),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=n(141),f=n(818),{pipeline:d}=n(754),{destroyer:h}=n(230),p=n(86),g=n(760),y=n(132),m=t.exports=n(200).Stream;m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.Readable=n(858);for(const w of i(u)){const _=u[w];function v(...t){if(new.target)throw c();return m.Readable.from(a(_,this,t))}o(v,"name",{__proto__:null,value:_.name}),o(v,"length",{__proto__:null,value:_.length}),o(m.Readable.prototype,w,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const E of i(l)){const S=l[E];function v(...t){if(new.target)throw c();return a(S,this,t)}o(v,"name",{__proto__:null,value:S.name}),o(v,"length",{__proto__:null,value:S.length}),o(m.Readable.prototype,E,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}m.Writable=n(373),m.Duplex=n(182),m.Transform=n(210),m.PassThrough=n(467),m.pipeline=d;const{addAbortSignal:b}=n(374);m.addAbortSignal=b,m.finished=p,m.destroy=h,m.compose=f,o(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),o(d,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),o(p,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),m.Stream=m,m._isUint8Array=function(t){return t instanceof Uint8Array},m._uint8ArrayToBuffer=function(t){return r.from(t.buffer,t.byteOffset,t.byteLength)}},760:(t,e,n)=>{const{ArrayPrototypePop:r,Promise:o}=n(191),{isIterable:i,isNodeStream:a,isWebStream:s}=n(132),{pipelineImpl:u}=n(754),{finished:l}=n(86);n(91),t.exports={finished:l,pipeline:function(...t){return new o(((e,n)=>{let o,l;const c=t[t.length-1];if(c&&"object"==typeof c&&!a(c)&&!i(c)&&!s(c)){const e=r(t);o=e.signal,l=e.end}u(t,((t,r)=>{t?n(t):e(r)}),{signal:o,end:l})}))}}},533:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var s,u=[],l=!1,c=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},377:(t,e,n)=>{var r=n(485),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),i(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},464:(t,e,n)=>{var r=n(377).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},i.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=a(e[r]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if(o=a(e[r]),o>=0)return o>0&&(t.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if(o=a(e[r]),o>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},54:(t,e,n)=>{n.d(e,{MS:()=>A,cF:()=>I,AK:()=>T,M_:()=>R,cX:()=>x,BT:()=>InteropError,_W:()=>B,Pg:()=>lt,$j:()=>Y,U$:()=>N,U7:()=>M});var r={d:(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},o={};r.d(o,{MS:()=>ApiError,cF:()=>ApiRequestError,AK:()=>AuthTokenExpiredError,M_:()=>AuthorizationError,cX:()=>InitializationError,Yd:()=>l,nj:()=>NotImplementedError,O4:()=>S,_W:()=>ParameterError,U$:()=>a,U7:()=>s});class ApiError extends Error{constructor(t,e){var n,r;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An unexpected error has occurred"),this.name=this.constructor.name,this.stack=(t?this.stack:null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:this.stack).replace(/^(\w*Error)/,`${this.constructor.name}`)}}class ApiRequestError extends ApiError{constructor(t,e,n){var r;super(t=null!==(r=null!=t?t:null==n?void 0:n.message)&&void 0!==r?r:"An error occurred when executing the API request",n),this.status=e}}class AuthorizationError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An authorization error occurred",e)}}class AuthTokenExpiredError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"The API request failed as the authorization tokens have expired",e)}}class InitializationError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An initialization error occurred",e)}}class NotImplementedError extends ApiError{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"The method has not been implemented",e)}}class ParameterError extends ApiError{constructor(t){super(t=null!=t?t:"Invalid parameter detected")}}const i=t=>{let e=fin.Integrations;e||(fin.Integrations={},e=fin.Integrations);let n=e[t];return n||(e[t]={},n=e[t]),n},a=t=>{i(t).loggingEnabled=!1},s=(t,e="0.0.0")=>{i(t).loggingEnabled=!0,console.log(u(t),`v${e}`)},u=t=>`[@openfin/${t.toLowerCase()}]`;class l{constructor(t){this.name=t,this.prefix=u(t),this.isLoggingEnabled=this.isLoggingEnabled.bind(this),this.logError=this.logError.bind(this),this.logInfo=this.logInfo.bind(this),this.logWarning=this.logWarning.bind(this)}isLoggingEnabled(){return i(this.name).loggingEnabled}logError(t){this.isLoggingEnabled()&&(t.innerError?console.error(this.prefix,t,"\n\n(inner)",t.innerError):console.error(this.prefix,t))}logInfo(...t){this.isLoggingEnabled()&&console.log(this.prefix,...t)}logWarning(...t){this.isLoggingEnabled()&&console.warn(this.prefix,...t)}}const c="oauth-api-auth-flow",f=(t,e,n,r,o,i,a,s)=>async u=>{const l=new URL(u);if(0!==l.href.toLowerCase().indexOf(o.toLowerCase()))return!1;if(window.clearInterval(s),window.clearTimeout(e),window.clearTimeout(n),t.removeAllListeners(),t.close(!0),l.searchParams.get("error")){const t=new ApiError("Authorization error");return t.data=l.toString(),a(t),!0}if(l.searchParams.get("state")!==r){const t=new ApiError("State mismatch");return t.data=l.toString(),a(t),!0}const c=l.searchParams.get("code");if(!c){const t=new ApiError("Authorization code missing");return t.data=l.toString(),a(t),!0}return i(c),!0},d=(t,e,n,r)=>async(o,i)=>{let a;const s=window.setTimeout((()=>{window.clearInterval(a),window.clearTimeout(s),t.removeAllListeners(),t.close(!0),i(new ApiError("Authorization timed out"))}),3e5);t.addListener("closing",(async()=>{r.logInfo("User closed auth window"),window.clearInterval(a),window.clearTimeout(s),t.removeAllListeners(),i(new ApiError("Failed to complete authorization code flow"))}));const u=window.setTimeout((async()=>{try{await t.isShowing()||(r.logInfo("Showing auth window"),await t.show(!0),await t.focus())}catch(t){r.logWarning("Unable to show auth window")}}),2e3),{version:l}=await fin.System.getRuntimeInfo();parseInt(l.split(".")[0],10)>=30?await f(t,s,u,e,n,o,i)((await t.getInfo()).url)||await t.addListener("url-changed",(a=>{r.logInfo("Auth window navigated to",a.url),f(t,s,u,e,n,o,i)(a.url)})):a=window.setInterval((()=>(async(t,e,n,r,o,i,a,s)=>{let u;try{u=await t.getInfo()}catch(t){return window.clearInterval(e),window.clearTimeout(n),window.clearTimeout(r),s(new ApiError("Could not locate auth window")),!1}return f(t,n,r,o,i,a,s,e)(u.url)})(t,a,s,u,e,n,o,i)),500)},h=()=>{let t,e,n,r;const o=async(e,n=!1)=>{const{command:r,data:a,id:s}=e,u={command:r,id:s};try{if(!t)throw new Error("Access token not found");const{apiRequestUrl:r,data:s,headers:l,httpMethod:c,includeAuthorization:f}=a,d=await(async(e,n,r,o,i)=>{var a,s;const u=Object.assign({Accept:"application/json"},o);"PATCH"!==n&&"POST"!==n&&"PUT"!==n||/content-type/i.test(Object.keys(u).join(","))||(u["Content-Type"]="application/json"),i&&(u.Authorization=`Bearer ${t}`);const l=await fetch(e,{body:"object"==typeof r?JSON.stringify(r):r,headers:u,method:n});if(!l.ok){const t={message:"Failed to execute API request"};return(null===(a=l.headers.get("Content-Type"))||void 0===a?void 0:a.includes("application/json"))&&(t.data=await l.json()),[l.status,void 0,void 0,t]}let c;const f=null!==(s=l.headers.get("Content-Type"))&&void 0!==s?s:"";switch(!0){case!f:break;case/^application\/(\w+\+)?json/i.test(f):c=await l.json();break;case/^multipart\/form-?data|^application\/x-?www-?form-?urlencoded/i.test(f):c=await l.formData();break;case/^application\/(([^/]+)?xml|vnd\.openxmlformats)|^text\/|^image\/svg/i.test(f):c=await l.text();break;default:c=await l.arrayBuffer()}return[l.status,c,f,void 0]})(r,c,s,l,f),[h,p,g,y]=d;if(u.status=h,y){if(!n&&401===h){const[t,n]=await i();return n?(u.status=t,u.error=n,u):await o(e,!0)}u.error=y}else p&&(u.data=p,u.type=g)}catch(t){t instanceof Error?u.error={message:t.message}:u.error={message:"Failed to execute API request"}}return Promise.resolve(u)},i=async()=>{var o;if(!n)throw new Error("Authorization server metadata not set");if(!e)throw new Error("Client ID not set");const i=`grant_type=refresh_token&client_id=${e}&refresh_token=${r}`,a=await fetch(n.token_endpoint,{body:i,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(!a.ok){const t={message:"Failed to refresh access token"};return(null===(o=a.headers.get("Content-Type"))||void 0===o?void 0:o.includes("application/json"))&&(t.data=await a.json()),[a.status,t]}const s=await a.json();return t=s.access_token,[a.status]};self.onmessage=async i=>{const{command:a,id:s}=i.data;let u={command:a,id:s};switch(a){case"API_REQUEST":u=await o(i.data);break;case"CODE_EXCHANGE":u=await(async o=>{var i;const{command:a,data:s,id:u}=o,l={command:a,id:u};try{if(!n)throw new Error("Authorization server metadata not set");if(!e)throw new Error("Client ID not set");const{code:o,codeVerifier:a,redirectUri:u}=s,c=`grant_type=authorization_code&client_id=${e}&code=${o}&code_verifier=${a}&redirect_uri=${u}`,f=await fetch(n.token_endpoint,{body:c,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST"});if(f.ok){const e=await f.json();t=e.access_token,r=e.refresh_token}else{const t={message:"Failed to retrieve tokens"};(null===(i=f.headers.get("Content-Type"))||void 0===i?void 0:i.includes("application/json"))&&(t.data=await f.json()),l.error=t}}catch(t){t instanceof Error?l.error={message:t.message}:l.error={message:"Failed to retrieve tokens"}}return Promise.resolve(l)})(i.data);break;case"EXPIRE_TOKENS":u=await(async e=>{var o;const{command:i,expireAccessTokenOnly:a,id:s}=e,u={command:i,id:s};try{if(!a&&!r)throw new Error("Refresh token not found");if(!n)throw new Error("Authorization server metadata not set");if(!n.revocation_endpoint)throw new Error("Revocation endpoint missing in authorization server metadata");const e=a?t:r,i=await fetch(`${n.revocation_endpoint}?token=${e}`,{headers:{Accept:"application/json"}});if(!i.ok){const t={message:"Failed to revoke tokens"};(null===(o=i.headers.get("Content-Type"))||void 0===o?void 0:o.includes("application/json"))&&(t.data=await i.json()),u.error=t}}catch(t){t instanceof Error?u.error={message:t.message}:u.error={message:"Failed to revoke tokens"}}return Promise.resolve(u)})(i.data);break;case"INIT":u=await(async t=>{const{command:r,data:o,id:i}=t,a={command:r,id:i};return e=o.clientId,n=o.metadata,Promise.resolve(a)})(i.data);break;default:u.error=new Error(`Unexpected oauth worker command: ${a}`)}self.postMessage(u)}};var p;!function(t){t.ApiRequest="API_REQUEST",t.CodeExchange="CODE_EXCHANGE",t.ExpireTokens="EXPIRE_TOKENS",t.Init="INIT"}(p||(p={}));const g=[],y=t=>{g.push(t)},m=(t,e)=>(n,r,o)=>new Promise(((i,a)=>{const s={command:p.CodeExchange,data:{code:n,codeVerifier:r,redirectUri:o},id:Date.now().toString()},{command:u,id:l}=s;y({command:u,id:l,reject:a,resolve:i}),t.postMessage(s),e.logInfo("Worker request sent",s)})),v=(t,e,n)=>(r,o,i,a,s)=>new Promise(((u,l)=>{const c={command:p.ApiRequest,data:{apiRequestUrl:r,clientId:t,data:i,headers:a,httpMethod:o,includeAuthorization:s},id:Date.now().toString()},{command:f,id:d}=c;y({command:f,id:d,reject:l,resolve:u}),e.postMessage(c),n.logInfo("Worker request sent",c)})),b=(t,e)=>n=>new Promise(((r,o)=>{const i={command:p.ExpireTokens,expireAccessTokenOnly:n,id:Date.now().toString()},{command:a,id:s}=i;y({command:a,id:s,reject:o,resolve:r}),t.postMessage(i),e.logInfo("Worker request sent",i)})),w=t=>e=>{t.logInfo("Worker response received",e.data);const n=e.data,{command:r,error:o,id:i}=n,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(n,["command","error","id"]),s=((t,e)=>g.find((n=>n.command===e&&n.id===t)))(i,r);s?(o?("status"in a&&void 0!==a.status&&(o.status=a.status),s.reject(o)):s.resolve(a),_(i,r)):t.logError(new Error("Unable to locate awaited request"))},_=(t,e)=>{const n=g.findIndex((n=>n.command===e&&n.id===t));n>=0&&g.splice(n,1)},E=(t,e)=>async()=>{try{await b(t,e)(!1)}catch(t){e.logWarning(t.message)}t.terminate(),e.logInfo("Worker terminated")};class S{get apiOrigin(){return this._apiOrigin}get clientId(){return this._clientId}get logger(){return this._logger}get metadata(){return this._metadata}get worker(){return this._worker}constructor(t,e,n,r,o){if(this.executeApiRequest=async(t,e="GET",n,r,o=!0,i=!1)=>{this._logger.logInfo("ExecuteApiRequest started",t,e,n,r);try{const i=await((t,e)=>async(n,r,o,i,a)=>{try{return await e.executeApiRequest(`${t}${n}`,r,o,i,a)}catch(t){let e;const{data:n,message:r,status:o}=t;throw e=t instanceof Error?new ApiRequestError(r,o):"Failed to refresh access token"===r?new AuthTokenExpiredError(r):new ApiRequestError(r,o),e.data=n,e}})(this._apiOrigin,this._worker)(t,e,n,r,o);return this._logger.logInfo("ExecuteApiRequest completed",i),i}catch(t){if(t instanceof ApiRequestError){const{data:e,message:n,name:r,stack:o}=t,i=this.getErrorMessageFromServerResponse(e);i&&(t.message=i,t.stack=null==o?void 0:o.replace(`${r}: ${n}`,`${r}: ${i}`))}throw i&&this.logger.logError(t),t}},!(t&&e&&n&&r&&o))throw new InitializationError("Provider has not been properly initialized (call init to create new instances)");this._apiOrigin=t,this._clientId=e,this._metadata=n,this._worker=r,this._logger=o,this.authorize=this.authorize.bind(this),this.close=this.close.bind(this),this.executeApiRequest=this.executeApiRequest.bind(this),this.expireTokens=this.expireTokens.bind(this),this.getErrorMessageFromServerResponse=this.getErrorMessageFromServerResponse.bind(this)}async authorize(t,e,n){if(this._logger.logInfo("Authorize started",t,e,n),!this._metadata||!this._clientId||!this._worker)throw new InitializationError("Provider has not been properly initialized (call init to create new instances)");try{await(r=this._metadata,o=this._clientId,i=this._worker,a=this._logger,async(t,e,n)=>{const{authorization_endpoint:s}=r,u=fin.Application.getCurrentSync(),l=(await u.getChildWindows()).find((t=>t.identity.name===c));l&&await l.close(!0);const f=(new Date).getTime().toString(),h=(()=>{const t=new Uint32Array(64);return window.crypto.getRandomValues(t),Array.from(t,(t=>`0${t.toString(16)}`.slice(-2))).join("")})(),p=(await(async t=>{const e=(new TextEncoder).encode(t),n=await window.crypto.subtle.digest("SHA-256",e),r=await(t=>new Promise(((e,n)=>{try{const r=new Blob([t]),o=new FileReader;o.onload=t=>{var r,o;const i=null===(r=t.target)||void 0===r?void 0:r.result;if(i){const[,t]=Array.from(null!==(o=i.match(/base64,(.*)$/i))&&void 0!==o?o:[]);e(null!=t?t:"")}n(new Error("Unexpected empty result"))},o.readAsDataURL(r)}catch(t){n(t)}})))(n);return r.replace(/\+/g,"-").replace(/\//g,"_")})(h)).replace(/=+$/,"");let g="";e&&(g="&",g+=Object.entries(e).map((t=>`${encodeURIComponent(t[0])}=${encodeURIComponent(t[1])}`)).join("&"));const y=`${s}?client_id=${encodeURIComponent(o)}&redirect_uri=${encodeURIComponent(t)}&response_type=code&state=${f}&code_challenge=${p}&code_challenge_method=S256${g}`,m=null!=n?n:{},{defaultHeight:v,defaultWidth:b}=m,w=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(m,["defaultHeight","defaultWidth"]);a.logInfo("Starting OAuth flow",y);const _=await fin.Window.create(Object.assign({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:null!=v?v:700,defaultWidth:null!=b?b:600,includeInSnapshots:!1,name:c,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:y},w)),E=await new Promise(d(_,f,t,a));a.logInfo("Received authorization code"),await i.exchangeCodeForTokens(E,h,t),a.logInfo("Received tokens")})(t,e,n),this._logger.logInfo("Authorize completed")}catch(t){let e;if(t instanceof ApiError){const{data:n}=t,r=this.getErrorMessageFromServerResponse(n);e=new AuthorizationError(r,t),e.data=n}else e=new AuthorizationError(void 0,t);throw this.logger.logError(e),e}var r,o,i,a}async close(){var t;this._logger.logInfo("Close started");try{await(null===(t=this._worker)||void 0===t?void 0:t.terminate()),this._worker=void 0,this._apiOrigin=void 0,this._clientId=void 0,this._metadata=void 0,this._logger.logInfo("Close completed")}catch(t){const e=new ApiError(void 0,t);throw this._logger.logError(e),e}}async expireTokens(t=!1){var e;this._logger.logInfo("ExpireTokens started");try{await(null===(e=this._worker)||void 0===e?void 0:e.expireTokens(t)),this._logger.logInfo("ExpireTokens completed")}catch(t){const e=new ApiError(void 0,t);throw this._logger.logError(e),e}}getErrorMessageFromServerResponse(t){t&&this._logger.logWarning(t)}static async init(t,e,n,r,...o){const i=new l(r);let a;i.logInfo("Init started",t,e,n);try{a=new URL(e)}catch(t){const e=new ParameterError("Unexpected invalid API origin");throw i.logError(e),e}try{const e=await(async t=>{let e;try{e=new URL(t)}catch(t){throw new ParameterError("Unexpected invalid metadata URL")}const n=await fetch(e,{headers:{Accept:"application/json"}});if(!n.ok)throw new Error("Failed to retrieve authorization server metadata");const r=await n.json();if(!r)throw new Error("Unexpected empty authorization server metadata response");if(!r.response_types_supported.find((t=>"code"===t.toLowerCase())))throw new Error("Authorization server does not support the authorization code response type");return r})(t),r=await(async(t,e,n)=>{const r=new Blob([`(${h})()`],{type:"text/javascript"}),o=URL.createObjectURL(r),i=new Worker(o);return i.onmessage=w(n),await((t,e,n,r)=>new Promise(((o,i)=>{const a={command:p.Init,data:{clientId:e,metadata:t},id:Date.now().toString()},{command:s,id:u}=a;y({command:s,id:u,reject:i,resolve:o}),n.postMessage(a),r.logInfo("Worker request sent",a)})))(t,e,i,n),{exchangeCodeForTokens:m(i,n),executeApiRequest:v(e,i,n),expireTokens:b(i,n),terminate:E(i,n)}})(e,n,i);return i.logInfo("Init completed",e),new S(a.origin,n,e,r,i)}catch(t){let e;throw e=t instanceof ApiError?t:new InitializationError(void 0,t),i.logError(e),e}}}var A=o.MS,I=o.cF,T=o.AK,R=o.M_,x=o.cX,C=o.O4,B=o._W,k=o.U$,L=o.U7,O=n(951);const U="1.0.1",j="Microsoft365",N=()=>{k(j)},M=()=>{L(j,U)};"undefined"!=typeof window&&("undefined"==typeof fin&&Object.assign(window,{fin:{}}),Object.assign(fin,{Integrations:{Microsoft365:{enableLogging:M,disableLogging:N}}}));const P=t=>async(e,n,r,o,i)=>{var a;return e=(a=e).startsWith("/")?a:`/${a}`,t.executeApiRequest(e,n,r,o,i,!0)},W=async(t,e,n=[])=>{const r=["id","userPrincipalName","userType",...n].join(","),o=await(async(t,e=[])=>{if(!(null==e?void 0:e.length))return[];const n=[];for(let r=0;r<e.length;r+=20){const o={requests:e.slice(r,r+20).map((t=>(t.id=crypto.randomUUID(),t)))};n.push(t.executeApiRequest("/v1.0/$batch","POST",o))}const r=(await Promise.all(n)).flatMap((t=>t.data.responses));return e.map((t=>{var e;return null===(e=r.find((e=>e.id===t.id)))||void 0===e?void 0:e.body}))})(t,e.map((t=>({method:"GET",url:`/users?$filter=mail eq '${encodeURIComponent(t)}'&$select=${r}`})))),i=o.map((t=>{var e;return null===(e=t.value)||void 0===e?void 0:e[0]}));return t.logger.logInfo("Resolved users from email addresses",i,e),i};var $=n(300);const D=t=>t.map((t=>t?{id:t.userPrincipalName,emailAddress:t.mail,name:t.displayName}:void 0)),F=async(t,e)=>{try{await fin.System.registerUsage({type:"integration-feature",data:{apiVersion:U,componentName:t}})}catch(n){e.logWarning(`Unable to register usage for feature ${t}: ${null==n?void 0:n.message}`)}},z=t=>{let e=t;return Array.isArray(t)?t.filter(Boolean).map(z):("object"==typeof t&&(e=Object.fromEntries(Object.entries(t).filter((([,t])=>void 0!==(null!=t?t:void 0))).map((([t,e])=>[t,z(e)])))),e)},q=t=>/#EXT#@/.test(t.userPrincipalName);var H;!function(t){t.MS365="MS-365",t.Teams="MS-TEAMS"}(H||(H={}));class V extends C{get currentUser(){return this._currentUser}get redirectUri(){return this._redirectUri}get permissions(){return this._permissions}get tenantId(){return this._tenantId}constructor(t,e,n,r,o,i,a,s){super(t,e,i,a,s),this._permissions=o,this._redirectUri=r,this._tenantId=n,F(H.MS365,s)}async authorize(t,e,n){await super.authorize(t,e,n);const r=await(async t=>{const{data:e}=await t.executeApiRequest("/v1.0/me");return e})(this);this._currentUser=r}getErrorMessageFromServerResponse(t){var e,n,r;if("string"==typeof t)try{return null===(n=null===(e=new URL(t).searchParams.get("error_description"))||void 0===e?void 0:e.split(/\r\n/))||void 0===n?void 0:n[0]}catch(t){return}return null===(r=null==t?void 0:t.error)||void 0===r?void 0:r.message}static async init(t,e,n,r,o,i,a){const s=await super.init(t,e,n,r);return new V(e,n,o,i,a,null==s?void 0:s.metadata,null==s?void 0:s.worker,null==s?void 0:s.logger)}}const G=["User.ReadBasic.All","Team.ReadBasic.All","Channel.ReadBasic.All","ChannelMessage.Send","Chat.Create","ChatMessage.Send","offline_access"];let J;const Y=async(t,e,n,r=[],o,i)=>{await K(t,e,n,r);const a=Object.assign({scope:[...G,...r].join(" ")},o),s=Object.assign({defaultHeight:600,defaultWidth:550},i);return await J.authorize(n,a,s),{clientId:t,currentUser:J.currentUser,disconnect:J.close,executeApiRequest:P(J),provider:J,tenantId:e}},K=async(t,e,n,r)=>{if(!t)throw new B("Invalid client ID");if(!e)throw new B("Invalid tenant ID");if(!n)throw new B("Invalid redirect URI");const o=`https://login.microsoftonline.com/${e}/v2.0/.well-known/openid-configuration`;(!J||J.clientId!==t||J.tenantId!==e||J.redirectUri!==n||(0,O.xor)(J.permissions,r).length>0)&&(J=await V.init(o,"https://graph.microsoft.com",t,j,e,n,r))};class InteropError extends A{constructor(t,e){var n;super(t=null!==(n=null!=t?t:null==e?void 0:e.message)&&void 0!==n?n:"An interop error occurred",e)}}var X,Z,Q;!function(t){t.AppNotFound="AppNotFound",t.ErrorOnLaunch="ErrorOnLaunch",t.AppTimeout="AppTimeout",t.ResolverUnavailable="ResolverUnavailable"}(X||(X={})),function(t){t.NoAppsFound="NoAppsFound",t.ResolverUnavailable="ResolverUnavailable",t.ResolverTimeout="ResolverTimeout"}(Z||(Z={})),function(t){t.NoChannelFound="NoChannelFound",t.AccessDenied="AccessDenied",t.CreationFailed="CreationFailed"}(Q||(Q={}));var tt,et;tt=function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return B()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function y(){}function m(){}function v(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(b=_);var E=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function I(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=c(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function C(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:B}}function B(){return{value:e,done:!0}}return m.prototype=E.constructor=v,v.constructor=m,m.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(A.prototype),A.prototype[a]=function(){return this},t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),u(E,s,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},tt(et={exports:{}},et.exports);var nt;!function(t){t.Contact="fdc3.contact",t.ContactList="fdc3.contactList",t.Country="fdc3.country",t.Instrument="fdc3.instrument",t.Organization="fdc3.organization",t.Portfolio="fdc3.portfolio",t.Position="fdc3.position"}(nt||(nt={}));var rt;!function(t){t.StartCall="StartCall",t.StartChat="StartChat",t.ViewChart="ViewChart",t.ViewContact="ViewContact",t.ViewQuote="ViewQuote",t.ViewNews="ViewNews",t.ViewInstrument="ViewInstrument",t.ViewAnalysis="ViewAnalysis"}(rt||(rt={}));const ot="ofms365action",it=async(t,e)=>{var n,r,o,i;const{chartImage:a,context:s}=e,{priceCurrent:u,priceHigh:l,priceLow:c,priceOpen:f}=e,d=(null===(r=null===(n=s.id)||void 0===n?void 0:n.ticker)||void 0===r?void 0:r.trim())||void 0,h=(null===(o=s.name)||void 0===o?void 0:o.trim())||void 0;let p,g,y,m,v,b;if(null!=e.timestamp||!a)try{p=new Date(null!==(i=e.timestamp)&&void 0!==i?i:Date.now()).toISOString().replace(/\.\d+Z$/,"+00:00")}catch(n){t.logger.logWarning("Invalid timestamp",e.timestamp)}if(null!=u&&null!=f&&(g=u-f,y=g/f*100,v=g>0?"▲":g<0?"▼":"●",m=g>0?"Good":g<0?"Attention":"Warning"),a){if(!/^image\/(gif|jp(e|e?g)|png)$/i.test(a.type))throw new B("Chart image MIME type not supported");try{b=await(async t=>new Promise(((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(new Error("Failed to convert blob to base64")),r.readAsDataURL(t)})))(a)}catch(t){throw new A("Failed to convert blob to base64",t)}}const w=(await fin.System.getRuntimeInfo()).manifestUrl,_={context:s,intent:a?rt.ViewChart:rt.ViewInstrument,version:U},E=(S=_,(0,$.compress)(JSON.stringify(S),{outputEncoding:"Base64"}));var S;const I=`${w}?$$${ot}=${encodeURIComponent(E)}`,T=`https://start.openfin.co/?manifest=${encodeURIComponent(I)}`,R={$schema:"http://adaptivecards.io/schemas/adaptive-card.json",type:"AdaptiveCard",version:"1.4",body:[{type:"ColumnSet",columns:[{type:"Column",width:"stretch",items:[{type:"Container",items:[{type:"TextBlock",text:null!=h?h:d.toUpperCase(),wrap:!0,size:"Large",spacing:"None"},h&&{type:"TextBlock",text:d.toUpperCase(),isSubtle:!0,wrap:!0,spacing:"None"},p&&{type:"TextBlock",text:`{{DATE(${p}, SHORT)}} {{TIME(${p})}}`,wrap:!0,size:"Small"}]}]},null!=u&&!b&&{type:"Column",width:"stretch",items:[{type:"TextBlock",text:u.toFixed(2),size:"ExtraLarge",wrap:!0,horizontalAlignment:"Right"},null!=g&&null!=y&&{type:"TextBlock",text:`${v} ${g.toFixed(2)} (${y.toFixed(2)}%)`,color:m,spacing:"None",wrap:!0,horizontalAlignment:"Right"},(null!=f||null!=l||null!=c)&&{type:"Container",horizontalAlignment:"Right",items:[{type:"ColumnSet",columns:[{type:"Column",width:"stretch",items:[null!=f&&{type:"TextBlock",text:"Open",wrap:!0,horizontalAlignment:"Right",size:"Small",weight:"Bolder",spacing:"None"},null!=l&&{type:"TextBlock",text:"High",wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small",weight:"Bolder"},null!=c&&{type:"TextBlock",text:"Low",wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small",weight:"Bolder"}]},{type:"Column",width:"auto",items:[null!=f&&{type:"TextBlock",text:f.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"},null!=l&&{type:"TextBlock",text:l.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"},null!=c&&{type:"TextBlock",text:c.toFixed(2),wrap:!0,spacing:"None",horizontalAlignment:"Right",size:"Small"}]}]}],spacing:"Small"}]}]},b&&{type:"Image",url:"../hostedContents/1/$value",spacing:"Small"},{type:"ActionSet",actions:[{type:"Action.OpenUrl",url:T,title:"Open"}]}]},x={attachments:[{id:"1",contentType:"application/vnd.microsoft.card.adaptive",content:JSON.stringify(z(R))}],body:{contentType:"html",content:'<attachment id="1"></attachment>'},summary:"Test summary"};if(b){const[,t,e]=[...b.match(/^data:([^;]+);base64,(.+)$/i)];x.hostedContents=[{"@microsoft.graph.temporaryId":"1",contentBytes:e,contentType:t}]}return x},at=t=>t?"msteams:":"https://teams.microsoft.com",st=async t=>{const e=null==t?void 0:t[ot];if(e)try{const t=(t=>{const e=(0,$.decompress)(t,{inputEncoding:"Base64",outputEncoding:"String"});return JSON.parse(e)})(e),{context:n,intent:r}=t,o={context:n,name:r};return await fin.me.interop.fireIntent(o),o}catch(t){const e=t.message;throw new A("Failed to decompress share payload"+(e?` (${e})`:""),t)}},ut=async(t,e,n)=>{const r=await(async(t,e,n=[])=>{try{const r=["id",...n].join(","),{data:o}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(e)}?$select=${r}`);return o}catch(t){if(404!==t.status)throw t}})(t,e,["displayName"]);if(!r)return;let o;if(t.logger.logInfo("Resolved team",r),n){if(o=await(async(t,e,n,r=[])=>{try{const o=["id",...r].join(","),{data:i}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(n)}/channels/${encodeURIComponent(e)}?$select=${o}`);return i}catch(t){if(404!==t.status)throw t}})(t,n,e,["displayName"]),!o)return void t.logger.logWarning(`Could not resolve channel from id ${n}`)}else{t.logger.logInfo("No channel id supplied, using primary channel");const{data:n}=await t.executeApiRequest(`/v1.0/teams/${encodeURIComponent(e)}/primaryChannel?$select=displayName,id`);o=n}const i={channelId:o.id,channelName:o.displayName,teamId:r.id,teamName:r.displayName};return t.logger.logInfo("Resolved team channel",e,n,i),i};class lt{constructor(t,e=!0){this.logger=t.provider.logger,this.provider=t.provider,this.useMsTeamsProtocol=e,this.registerIntentHandlers=this.registerIntentHandlers.bind(this),this.share=this.share.bind(this),this.startCall=this.startCall.bind(this),this.startChat=this.startChat.bind(this),this.enableSharePayloadHandler(),F(H.Teams,this.logger)}async enableSharePayloadHandler(){const{initialOptions:t}=await fin.Application.getCurrentSync().getInfo(),{userAppConfigArgs:e}=t,n=await st(e);n&&this.logger.logInfo("Firing intent",n),fin.Application.getCurrentSync().addListener("run-requested",(async t=>{try{const e=await st(t.userAppConfigArgs);e&&this.logger.logInfo("Firing intent",e)}catch(t){this.logger.logError(t)}}))}async openUrl(t){this.logger.logInfo("openUrl started",t);try{const e=this.useMsTeamsProtocol?t.replace(/^https:\/\/teams.microsoft.com\//i,"msteams:"):t;this.logger.logInfo("Opening url",e),await fin.System.openUrlWithBrowser(e),this.logger.logInfo("openUrl completed")}catch(t){throw this.logger.logError(t),t}}async registerIntentHandlers(){if(this.logger.logInfo("registerIntentHandlers started"),this.unsubscribeIntentHandlers)return{unsubscribe:this.unsubscribeIntentHandlers};try{await fin.me.interop.getContextGroups();const t=await fin.me.interop.registerIntentHandler((async t=>{try{await((t,e)=>async n=>{var r,o,i,a;if(t.logger.logInfo("handleStartCallIntent started",n),(null===(r=n.name)||void 0===r?void 0:r.toLowerCase())!==rt.StartCall.toLowerCase())throw new A(`Unexpected intent type: ${n.name}`);const{context:s}=n;if((null===(o=s.type)||void 0===o?void 0:o.toLowerCase())!==nt.Contact.toLowerCase()&&(null===(i=s.type)||void 0===i?void 0:i.toLowerCase())!==nt.ContactList.toLowerCase())throw new A(`Unexpected context type: ${s.type}`);const u=(null===(a=s.type)||void 0===a?void 0:a.toLowerCase())===nt.ContactList.toLowerCase()?s.contacts.map((t=>t.id.email)).filter(Boolean):[s.id.email],l=await e(u);t.logger.logInfo("handleStartCallIntent completed",l)})(this.provider,this.startCall)(t)}catch(t){throw this.logger.logError(t),t}}),"StartCall"),e=await fin.me.interop.registerIntentHandler((async t=>{try{await((t,e)=>async n=>{var r,o,i,a;if(t.logger.logInfo("handleStartChatIntent started",n),(null===(r=n.name)||void 0===r?void 0:r.toLowerCase())!==rt.StartChat.toLowerCase())throw new A(`Unexpected intent type: ${n.name}`);const{context:s}=n;if((null===(o=s.type)||void 0===o?void 0:o.toLowerCase())!==nt.Contact.toLowerCase()&&(null===(i=s.type)||void 0===i?void 0:i.toLowerCase())!==nt.ContactList.toLowerCase())throw new A(`Unexpected context type: ${s.type}`);const u=(null===(a=s.type)||void 0===a?void 0:a.toLowerCase())===nt.ContactList.toLowerCase()?s.contacts.map((t=>t.id.email)).filter(Boolean):[s.id.email],l=await e({emailAddresses:u,topicName:s.name});t.logger.logInfo("handleStartChatIntent completed",l)})(this.provider,this.startChat)(t)}catch(t){throw this.logger.logError(t),t}}),"StartChat");return this.unsubscribeIntentHandlers=async()=>{this.logger.logInfo("unsubscribeIntentHandlers started"),await t.unsubscribe(),await e.unsubscribe(),this.unsubscribeIntentHandlers=void 0,this.logger.logInfo("unsubscribeIntentHandlers completed")},this.logger.logInfo("registerIntentHandlers completed"),{unsubscribe:this.unsubscribeIntentHandlers}}catch(t){const e=new InteropError(t.message);throw this.logger.logError(e),e}}async share(t){var e,n,r,o;this.logger.logInfo("share started",t);try{if(!t.target)throw new B("Target not provided");if((null===(e=t.context)||void 0===e?void 0:e.type.toLowerCase())!==nt.Instrument.toLowerCase())throw new B("Unsupported context type");if(!(null===(r=null===(n=t.context)||void 0===n?void 0:n.id)||void 0===r?void 0:r.ticker))throw new B("Ticker not provided");if(!t.chartImage&&null==t.priceCurrent)throw new B("Current price not provided");const i=null===(o=t.showMessage)||void 0===o||o,a=await it(this.provider,t);let s;if(Array.isArray(t.target)){const{target:e}=t,n=await W(this.provider,e,["displayName","mail"]),r=n.filter(Boolean);if(!r.length)return this.logger.logWarning("Could not resolve any valid users from email addresses",e),e.map((()=>{}));const{id:o,webUrl:u}=await(async(t,e)=>{const n={chatType:e.length>2?"group":"oneOnOne",members:e.map((e=>({"@odata.type":"#microsoft.graph.aadUserConversationMember",roles:q(e)?["guest"]:["owner"],"user@odata.bind":`${t.apiOrigin}/v1.0/users('${e.id}')`})))},{data:r}=await t.executeApiRequest("/v1.0/chats","POST",n);return r})(this.provider,[this.provider.currentUser,...r]),{data:l}=await this.provider.executeApiRequest(`/v1.0/chats/${encodeURIComponent(o)}/messages`,"POST",a);this.logger.logInfo("Sent chat message",l),i&&await this.openUrl(u),s=D(n)}else{const{target:e}=t,n=await ut(this.provider,e.teamId,e.channelId);if(!n)return void this.logger.logWarning("Could not resolve team/channel",e.teamId,e.channelId);const{channelId:r,teamId:o}=n,{data:u}=await this.provider.executeApiRequest(`/v1.0/teams/${encodeURIComponent(o)}/channels/${encodeURIComponent(r)}/messages`,"POST",a);this.logger.logInfo("Sent chat message",u),i&&await this.openUrl(u.webUrl),s=n}return this.logger.logInfo("share completed",s),s}catch(t){throw this.logger.logError(t),t}}async startCall(t=[],e=!1){this.logger.logInfo("startCall started",t);try{let n=`${at(this.useMsTeamsProtocol)}/l/call/0/0?`;const r=await W(this.provider,t,["displayName","mail"]),o=r.filter(Boolean).map((t=>encodeURIComponent(t.userPrincipalName)));if(!o.length)return this.logger.logWarning("Could not resolve any valid users from supplied emails",t),t.map((()=>{}));n+=`users=${o.join(",")}&withVideo=${e}`,this.logger.logInfo("Opening Teams",n),await fin.System.openUrlWithBrowser(n);const i=D(r);return this.logger.logInfo("startCall completed",i),i}catch(t){throw this.logger.logError(t),t}}async startChat(t){this.logger.logInfo("startChat started",t);try{let e,n;if("teamId"in t){const{teamId:r,channelId:o}=t,i=await ut(this.provider,r,o);if(!i)return void this.logger.logWarning("Could not resolve team/channel",r,o);e=`${at(this.useMsTeamsProtocol)}/l/channel/${encodeURIComponent(i.channelId)}/${encodeURIComponent(i.channelName)}?groupId=${i.teamId}&tenantId=${this.provider.tenantId}`,n=i}else{const{emailAddresses:r,message:o,topicName:i}=t;e=`${at(this.useMsTeamsProtocol)}/l/chat/0/0?`;const a=await W(this.provider,r,["displayName","mail"]),s=a.filter(Boolean).map((t=>encodeURIComponent(t.userPrincipalName)));if(!s.length)return this.logger.logWarning("Could not resolve any valid users from email addresses",r),r.map((()=>{}));e+=`users=${s.join(",")}`,i&&(e+=`&topicName=${encodeURIComponent(i)}`),o&&(e+=`&message=${encodeURIComponent(o)}`),n=D(a)}return this.logger.logInfo("Opening Teams",e),await fin.System.openUrlWithBrowser(e),this.logger.logInfo("startChat completed",n),n}catch(t){throw this.logger.logError(t),t}}}},91:()=>{}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.c=e,n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r=n(n.s=54),o=r.MS,i=r.cF,a=r.AK,s=r.M_,u=r.cX,l=r.BT,c=r._W,f=r.Pg,d=r.$j,h=r.U$,p=r.U7;

/***/ }),

/***/ "../../node_modules/base64-js/index.js":
/*!*********************************************!*\
  !*** ../../node_modules/base64-js/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "../../node_modules/buffer/index.js":
/*!******************************************!*\
  !*** ../../node_modules/buffer/index.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



const base64 = __webpack_require__(/*! base64-js */ "../../node_modules/base64-js/index.js")
const ieee754 = __webpack_require__(/*! ieee754 */ "../../node_modules/ieee754/index.js")
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

const K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1)
    const proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0
  let buf = createBuffer(length)

  const actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0
  const buf = createBuffer(length)
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0
    const buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length
  let y = b.length

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  const buffer = Buffer.allocUnsafe(length)
  let pos = 0
  for (i = 0; i < list.length; ++i) {
    let buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)
        buf.copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length
  const mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  let loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  const i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  const length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  let str = ''
  const max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  let x = thisEnd - thisStart
  let y = end - start
  const len = Math.min(x, y)

  const thisCopy = this.slice(thisStart, thisEnd)
  const targetCopy = target.slice(start, end)

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1
  let arrLength = arr.length
  let valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i
  if (dir) {
    let foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      let found = true
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  const remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  const strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  let i
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  const res = []

  let i = start
  while (i < end) {
    const firstByte = buf[i]
    let codePoint = null
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = ''
  let i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  let out = ''
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end)
  let res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  const newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  let val = this[offset + --byteLength]
  let mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
})

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
})

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let i = byteLength
  let mul = 1
  let val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24) // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
})

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
})

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let mul = 1
  let i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let i = byteLength - 1
  let mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset + 7] = lo
  lo = lo >> 8
  buf[offset + 6] = lo
  lo = lo >> 8
  buf[offset + 5] = lo
  lo = lo >> 8
  buf[offset + 4] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset + 3] = hi
  hi = hi >> 8
  buf[offset + 2] = hi
  hi = hi >> 8
  buf[offset + 1] = hi
  hi = hi >> 8
  buf[offset] = hi
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = 0
  let mul = 1
  let sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = byteLength - 1
  let mul = 1
  let sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  const len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  let i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    const len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {}
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super()

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      })

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      })
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  }
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError)
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError)
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`
    let received = input
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input))
    } else if (typeof input === 'bigint') {
      received = String(input)
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received)
      }
      received += 'n'
    }
    msg += ` It must be ${range}. Received ${received}`
    return msg
  }, RangeError)

function addNumericalSeparator (val) {
  let res = ''
  let i = val.length
  const start = val[0] === '-' ? 1 : 0
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset')
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1))
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : ''
    let range
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength)
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type)
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  let codePoint
  const length = string.length
  let leadSurrogate = null
  const bytes = []

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef'
  const table = new Array(256)
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}


/***/ }),

/***/ "../../node_modules/dexie/dist/dexie.js":
/*!**********************************************!*\
  !*** ../../node_modules/dexie/dist/dexie.js ***!
  \**********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/*
 * Dexie.js - a minimalistic wrapper for IndexedDB
 * ===============================================
 *
 * By David Fahlander, david.fahlander@gmail.com
 *
 * Version 4.0.11, Wed Jan 15 2025
 *
 * https://dexie.org
 *
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/
 */
 
(function (global, factory) {
     true ? module.exports = factory() :
    0;
})(this, (function () { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    var _global = typeof globalThis !== 'undefined' ? globalThis :
        typeof self !== 'undefined' ? self :
            typeof window !== 'undefined' ? window :
                __webpack_require__.g;

    var keys = Object.keys;
    var isArray = Array.isArray;
    if (typeof Promise !== 'undefined' && !_global.Promise) {
        _global.Promise = Promise;
    }
    function extend(obj, extension) {
        if (typeof extension !== 'object')
            return obj;
        keys(extension).forEach(function (key) {
            obj[key] = extension[key];
        });
        return obj;
    }
    var getProto = Object.getPrototypeOf;
    var _hasOwn = {}.hasOwnProperty;
    function hasOwn(obj, prop) {
        return _hasOwn.call(obj, prop);
    }
    function props(proto, extension) {
        if (typeof extension === 'function')
            extension = extension(getProto(proto));
        (typeof Reflect === "undefined" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {
            setProp(proto, key, extension[key]);
        });
    }
    var defineProperty = Object.defineProperty;
    function setProp(obj, prop, functionOrGetSet, options) {
        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, "get") && typeof functionOrGetSet.get === 'function' ?
            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :
            { value: functionOrGetSet, configurable: true, writable: true }, options));
    }
    function derive(Child) {
        return {
            from: function (Parent) {
                Child.prototype = Object.create(Parent.prototype);
                setProp(Child.prototype, "constructor", Child);
                return {
                    extend: props.bind(null, Child.prototype)
                };
            }
        };
    }
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    function getPropertyDescriptor(obj, prop) {
        var pd = getOwnPropertyDescriptor(obj, prop);
        var proto;
        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);
    }
    var _slice = [].slice;
    function slice(args, start, end) {
        return _slice.call(args, start, end);
    }
    function override(origFunc, overridedFactory) {
        return overridedFactory(origFunc);
    }
    function assert(b) {
        if (!b)
            throw new Error("Assertion Failed");
    }
    function asap$1(fn) {
        if (_global.setImmediate)
            setImmediate(fn);
        else
            setTimeout(fn, 0);
    }
    function arrayToObject(array, extractor) {
        return array.reduce(function (result, item, i) {
            var nameAndValue = extractor(item, i);
            if (nameAndValue)
                result[nameAndValue[0]] = nameAndValue[1];
            return result;
        }, {});
    }
    function getByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))
            return obj[keyPath];
        if (!keyPath)
            return obj;
        if (typeof keyPath !== 'string') {
            var rv = [];
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                var val = getByKeyPath(obj, keyPath[i]);
                rv.push(val);
            }
            return rv;
        }
        var period = keyPath.indexOf('.');
        if (period !== -1) {
            var innerObj = obj[keyPath.substr(0, period)];
            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));
        }
        return undefined;
    }
    function setByKeyPath(obj, keyPath, value) {
        if (!obj || keyPath === undefined)
            return;
        if ('isFrozen' in Object && Object.isFrozen(obj))
            return;
        if (typeof keyPath !== 'string' && 'length' in keyPath) {
            assert(typeof value !== 'string' && 'length' in value);
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                setByKeyPath(obj, keyPath[i], value[i]);
            }
        }
        else {
            var period = keyPath.indexOf('.');
            if (period !== -1) {
                var currentKeyPath = keyPath.substr(0, period);
                var remainingKeyPath = keyPath.substr(period + 1);
                if (remainingKeyPath === "")
                    if (value === undefined) {
                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))
                            obj.splice(currentKeyPath, 1);
                        else
                            delete obj[currentKeyPath];
                    }
                    else
                        obj[currentKeyPath] = value;
                else {
                    var innerObj = obj[currentKeyPath];
                    if (!innerObj || !hasOwn(obj, currentKeyPath))
                        innerObj = (obj[currentKeyPath] = {});
                    setByKeyPath(innerObj, remainingKeyPath, value);
                }
            }
            else {
                if (value === undefined) {
                    if (isArray(obj) && !isNaN(parseInt(keyPath)))
                        obj.splice(keyPath, 1);
                    else
                        delete obj[keyPath];
                }
                else
                    obj[keyPath] = value;
            }
        }
    }
    function delByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string')
            setByKeyPath(obj, keyPath, undefined);
        else if ('length' in keyPath)
            [].map.call(keyPath, function (kp) {
                setByKeyPath(obj, kp, undefined);
            });
    }
    function shallowClone(obj) {
        var rv = {};
        for (var m in obj) {
            if (hasOwn(obj, m))
                rv[m] = obj[m];
        }
        return rv;
    }
    var concat = [].concat;
    function flatten(a) {
        return concat.apply([], a);
    }
    var intrinsicTypeNames = "BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey"
        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return ["Int", "Uint", "Float"].map(function (t) { return t + num + "Array"; }); }))).filter(function (t) { return _global[t]; });
    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));
    function cloneSimpleObjectTree(o) {
        var rv = {};
        for (var k in o)
            if (hasOwn(o, k)) {
                var v = o[k];
                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);
            }
        return rv;
    }
    function objectIsEmpty(o) {
        for (var k in o)
            if (hasOwn(o, k))
                return false;
        return true;
    }
    var circularRefs = null;
    function deepClone(any) {
        circularRefs = new WeakMap();
        var rv = innerDeepClone(any);
        circularRefs = null;
        return rv;
    }
    function innerDeepClone(x) {
        if (!x || typeof x !== 'object')
            return x;
        var rv = circularRefs.get(x);
        if (rv)
            return rv;
        if (isArray(x)) {
            rv = [];
            circularRefs.set(x, rv);
            for (var i = 0, l = x.length; i < l; ++i) {
                rv.push(innerDeepClone(x[i]));
            }
        }
        else if (intrinsicTypes.has(x.constructor)) {
            rv = x;
        }
        else {
            var proto = getProto(x);
            rv = proto === Object.prototype ? {} : Object.create(proto);
            circularRefs.set(x, rv);
            for (var prop in x) {
                if (hasOwn(x, prop)) {
                    rv[prop] = innerDeepClone(x[prop]);
                }
            }
        }
        return rv;
    }
    var toString = {}.toString;
    function toStringTag(o) {
        return toString.call(o).slice(8, -1);
    }
    var iteratorSymbol = typeof Symbol !== 'undefined' ?
        Symbol.iterator :
        '@@iterator';
    var getIteratorOf = typeof iteratorSymbol === "symbol" ? function (x) {
        var i;
        return x != null && (i = x[iteratorSymbol]) && i.apply(x);
    } : function () { return null; };
    function delArrayItem(a, x) {
        var i = a.indexOf(x);
        if (i >= 0)
            a.splice(i, 1);
        return i >= 0;
    }
    var NO_CHAR_ARRAY = {};
    function getArrayOf(arrayLike) {
        var i, a, x, it;
        if (arguments.length === 1) {
            if (isArray(arrayLike))
                return arrayLike.slice();
            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')
                return [arrayLike];
            if ((it = getIteratorOf(arrayLike))) {
                a = [];
                while ((x = it.next()), !x.done)
                    a.push(x.value);
                return a;
            }
            if (arrayLike == null)
                return [arrayLike];
            i = arrayLike.length;
            if (typeof i === 'number') {
                a = new Array(i);
                while (i--)
                    a[i] = arrayLike[i];
                return a;
            }
            return [arrayLike];
        }
        i = arguments.length;
        a = new Array(i);
        while (i--)
            a[i] = arguments[i];
        return a;
    }
    var isAsyncFunction = typeof Symbol !== 'undefined'
        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }
        : function () { return false; };

    var dexieErrorNames = [
        'Modify',
        'Bulk',
        'OpenFailed',
        'VersionChange',
        'Schema',
        'Upgrade',
        'InvalidTable',
        'MissingAPI',
        'NoSuchDatabase',
        'InvalidArgument',
        'SubTransaction',
        'Unsupported',
        'Internal',
        'DatabaseClosed',
        'PrematureCommit',
        'ForeignAwait'
    ];
    var idbDomErrorNames = [
        'Unknown',
        'Constraint',
        'Data',
        'TransactionInactive',
        'ReadOnly',
        'Version',
        'NotFound',
        'InvalidState',
        'InvalidAccess',
        'Abort',
        'Timeout',
        'QuotaExceeded',
        'Syntax',
        'DataClone'
    ];
    var errorList = dexieErrorNames.concat(idbDomErrorNames);
    var defaultTexts = {
        VersionChanged: "Database version changed by other database connection",
        DatabaseClosed: "Database has been closed",
        Abort: "Transaction aborted",
        TransactionInactive: "Transaction has already completed or failed",
        MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"
    };
    function DexieError(name, msg) {
        this.name = name;
        this.message = msg;
    }
    derive(DexieError).from(Error).extend({
        toString: function () { return this.name + ": " + this.message; }
    });
    function getMultiErrorMessage(msg, failures) {
        return msg + ". Errors: " + Object.keys(failures)
            .map(function (key) { return failures[key].toString(); })
            .filter(function (v, i, s) { return s.indexOf(v) === i; })
            .join('\n');
    }
    function ModifyError(msg, failures, successCount, failedKeys) {
        this.failures = failures;
        this.failedKeys = failedKeys;
        this.successCount = successCount;
        this.message = getMultiErrorMessage(msg, failures);
    }
    derive(ModifyError).from(DexieError);
    function BulkError(msg, failures) {
        this.name = "BulkError";
        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });
        this.failuresByPos = failures;
        this.message = getMultiErrorMessage(msg, this.failures);
    }
    derive(BulkError).from(DexieError);
    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + "Error", obj); }, {});
    var BaseException = DexieError;
    var exceptions = errorList.reduce(function (obj, name) {
        var fullName = name + "Error";
        function DexieError(msgOrInner, inner) {
            this.name = fullName;
            if (!msgOrInner) {
                this.message = defaultTexts[name] || fullName;
                this.inner = null;
            }
            else if (typeof msgOrInner === 'string') {
                this.message = "".concat(msgOrInner).concat(!inner ? '' : '\n ' + inner);
                this.inner = inner || null;
            }
            else if (typeof msgOrInner === 'object') {
                this.message = "".concat(msgOrInner.name, " ").concat(msgOrInner.message);
                this.inner = msgOrInner;
            }
        }
        derive(DexieError).from(BaseException);
        obj[name] = DexieError;
        return obj;
    }, {});
    exceptions.Syntax = SyntaxError;
    exceptions.Type = TypeError;
    exceptions.Range = RangeError;
    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {
        obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    function mapError(domError, message) {
        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])
            return domError;
        var rv = new exceptionMap[domError.name](message || domError.message, domError);
        if ("stack" in domError) {
            setProp(rv, "stack", { get: function () {
                    return this.inner.stack;
                } });
        }
        return rv;
    }
    var fullNameExceptions = errorList.reduce(function (obj, name) {
        if (["Syntax", "Type", "Range"].indexOf(name) === -1)
            obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    fullNameExceptions.ModifyError = ModifyError;
    fullNameExceptions.DexieError = DexieError;
    fullNameExceptions.BulkError = BulkError;

    function nop() { }
    function mirror(val) { return val; }
    function pureFunctionChain(f1, f2) {
        if (f1 == null || f1 === mirror)
            return f2;
        return function (val) {
            return f2(f1(val));
        };
    }
    function callBoth(on1, on2) {
        return function () {
            on1.apply(this, arguments);
            on2.apply(this, arguments);
        };
    }
    function hookCreatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res !== undefined)
                arguments[0] = res;
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res2 !== undefined ? res2 : res;
        };
    }
    function hookDeletingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            f1.apply(this, arguments);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = this.onerror = null;
            f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
        };
    }
    function hookUpdatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function (modifications) {
            var res = f1.apply(this, arguments);
            extend(modifications, res);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res === undefined ?
                (res2 === undefined ? undefined : res2) :
                (extend(res, res2));
        };
    }
    function reverseStoppableEventChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            if (f2.apply(this, arguments) === false)
                return false;
            return f1.apply(this, arguments);
        };
    }
    function promisableChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res && typeof res.then === 'function') {
                var thiz = this, i = arguments.length, args = new Array(i);
                while (i--)
                    args[i] = arguments[i];
                return res.then(function () {
                    return f2.apply(thiz, args);
                });
            }
            return f2.apply(this, arguments);
        };
    }

    var debug = typeof location !== 'undefined' &&
        /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
    function setDebug(value, filter) {
        debug = value;
    }

    var INTERNAL = {};
    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?
        [] :
        (function () {
            var globalP = Promise.resolve();
            if (typeof crypto === 'undefined' || !crypto.subtle)
                return [globalP, getProto(globalP), globalP];
            var nativeP = crypto.subtle.digest("SHA-512", new Uint8Array([0]));
            return [
                nativeP,
                getProto(nativeP),
                globalP
            ];
        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;
    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;
    var patchGlobalPromise = !!resolvedGlobalPromise;
    function schedulePhysicalTick() {
        queueMicrotask(physicalTick);
    }
    var asap = function (callback, args) {
        microtickQueue.push([callback, args]);
        if (needsNewPhysicalTick) {
            schedulePhysicalTick();
            needsNewPhysicalTick = false;
        }
    };
    var isOutsideMicroTick = true,
    needsNewPhysicalTick = true,
    unhandledErrors = [],
    rejectingErrors = [],
    rejectionMapper = mirror;
    var globalPSD = {
        id: 'global',
        global: true,
        ref: 0,
        unhandleds: [],
        onunhandled: nop,
        pgp: false,
        env: {},
        finalize: nop
    };
    var PSD = globalPSD;
    var microtickQueue = [];
    var numScheduledCalls = 0;
    var tickFinalizers = [];
    function DexiePromise(fn) {
        if (typeof this !== 'object')
            throw new TypeError('Promises must be constructed via new');
        this._listeners = [];
        this._lib = false;
        var psd = (this._PSD = PSD);
        if (typeof fn !== 'function') {
            if (fn !== INTERNAL)
                throw new TypeError('Not a function');
            this._state = arguments[1];
            this._value = arguments[2];
            if (this._state === false)
                handleRejection(this, this._value);
            return;
        }
        this._state = null;
        this._value = null;
        ++psd.ref;
        executePromiseTask(this, fn);
    }
    var thenProp = {
        get: function () {
            var psd = PSD, microTaskId = totalEchoes;
            function then(onFulfilled, onRejected) {
                var _this = this;
                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);
                var cleanup = possibleAwait && !decrementExpectedAwaits();
                var rv = new DexiePromise(function (resolve, reject) {
                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));
                });
                if (this._consoleTask)
                    rv._consoleTask = this._consoleTask;
                return rv;
            }
            then.prototype = INTERNAL;
            return then;
        },
        set: function (value) {
            setProp(this, 'then', value && value.prototype === INTERNAL ?
                thenProp :
                {
                    get: function () {
                        return value;
                    },
                    set: thenProp.set
                });
        }
    };
    props(DexiePromise.prototype, {
        then: thenProp,
        _then: function (onFulfilled, onRejected) {
            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));
        },
        catch: function (onRejected) {
            if (arguments.length === 1)
                return this.then(null, onRejected);
            var type = arguments[0], handler = arguments[1];
            return typeof type === 'function' ? this.then(null, function (err) {
                return err instanceof type ? handler(err) : PromiseReject(err);
            })
                : this.then(null, function (err) {
                    return err && err.name === type ? handler(err) : PromiseReject(err);
                });
        },
        finally: function (onFinally) {
            return this.then(function (value) {
                return DexiePromise.resolve(onFinally()).then(function () { return value; });
            }, function (err) {
                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });
            });
        },
        timeout: function (ms, msg) {
            var _this = this;
            return ms < Infinity ?
                new DexiePromise(function (resolve, reject) {
                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);
                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));
                }) : this;
        }
    });
    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');
    globalPSD.env = snapShot();
    function Listener(onFulfilled, onRejected, resolve, reject, zone) {
        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
        this.onRejected = typeof onRejected === 'function' ? onRejected : null;
        this.resolve = resolve;
        this.reject = reject;
        this.psd = zone;
    }
    props(DexiePromise, {
        all: function () {
            var values = getArrayOf.apply(null, arguments)
                .map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                if (values.length === 0)
                    resolve([]);
                var remaining = values.length;
                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {
                    values[i] = x;
                    if (!--remaining)
                        resolve(values);
                }, reject); });
            });
        },
        resolve: function (value) {
            if (value instanceof DexiePromise)
                return value;
            if (value && typeof value.then === 'function')
                return new DexiePromise(function (resolve, reject) {
                    value.then(resolve, reject);
                });
            var rv = new DexiePromise(INTERNAL, true, value);
            return rv;
        },
        reject: PromiseReject,
        race: function () {
            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });
            });
        },
        PSD: {
            get: function () { return PSD; },
            set: function (value) { return PSD = value; }
        },
        totalEchoes: { get: function () { return totalEchoes; } },
        newPSD: newScope,
        usePSD: usePSD,
        scheduler: {
            get: function () { return asap; },
            set: function (value) { asap = value; }
        },
        rejectionMapper: {
            get: function () { return rejectionMapper; },
            set: function (value) { rejectionMapper = value; }
        },
        follow: function (fn, zoneProps) {
            return new DexiePromise(function (resolve, reject) {
                return newScope(function (resolve, reject) {
                    var psd = PSD;
                    psd.unhandleds = [];
                    psd.onunhandled = reject;
                    psd.finalize = callBoth(function () {
                        var _this = this;
                        run_at_end_of_this_or_next_physical_tick(function () {
                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);
                        });
                    }, psd.finalize);
                    fn();
                }, zoneProps, resolve, reject);
            });
        }
    });
    if (NativePromise) {
        if (NativePromise.allSettled)
            setProp(DexiePromise, "allSettled", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve) {
                    if (possiblePromises.length === 0)
                        resolve([]);
                    var remaining = possiblePromises.length;
                    var results = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: "fulfilled", value: value }; }, function (reason) { return results[i] = { status: "rejected", reason: reason }; })
                        .then(function () { return --remaining || resolve(results); }); });
                });
            });
        if (NativePromise.any && typeof AggregateError !== 'undefined')
            setProp(DexiePromise, "any", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve, reject) {
                    if (possiblePromises.length === 0)
                        reject(new AggregateError([]));
                    var remaining = possiblePromises.length;
                    var failures = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {
                        failures[i] = failure;
                        if (!--remaining)
                            reject(new AggregateError(failures));
                    }); });
                });
            });
        if (NativePromise.withResolvers)
            DexiePromise.withResolvers = NativePromise.withResolvers;
    }
    function executePromiseTask(promise, fn) {
        try {
            fn(function (value) {
                if (promise._state !== null)
                    return;
                if (value === promise)
                    throw new TypeError('A promise cannot be resolved with itself.');
                var shouldExecuteTick = promise._lib && beginMicroTickScope();
                if (value && typeof value.then === 'function') {
                    executePromiseTask(promise, function (resolve, reject) {
                        value instanceof DexiePromise ?
                            value._then(resolve, reject) :
                            value.then(resolve, reject);
                    });
                }
                else {
                    promise._state = true;
                    promise._value = value;
                    propagateAllListeners(promise);
                }
                if (shouldExecuteTick)
                    endMicroTickScope();
            }, handleRejection.bind(null, promise));
        }
        catch (ex) {
            handleRejection(promise, ex);
        }
    }
    function handleRejection(promise, reason) {
        rejectingErrors.push(reason);
        if (promise._state !== null)
            return;
        var shouldExecuteTick = promise._lib && beginMicroTickScope();
        reason = rejectionMapper(reason);
        promise._state = false;
        promise._value = reason;
        addPossiblyUnhandledError(promise);
        propagateAllListeners(promise);
        if (shouldExecuteTick)
            endMicroTickScope();
    }
    function propagateAllListeners(promise) {
        var listeners = promise._listeners;
        promise._listeners = [];
        for (var i = 0, len = listeners.length; i < len; ++i) {
            propagateToListener(promise, listeners[i]);
        }
        var psd = promise._PSD;
        --psd.ref || psd.finalize();
        if (numScheduledCalls === 0) {
            ++numScheduledCalls;
            asap(function () {
                if (--numScheduledCalls === 0)
                    finalizePhysicalTick();
            }, []);
        }
    }
    function propagateToListener(promise, listener) {
        if (promise._state === null) {
            promise._listeners.push(listener);
            return;
        }
        var cb = promise._state ? listener.onFulfilled : listener.onRejected;
        if (cb === null) {
            return (promise._state ? listener.resolve : listener.reject)(promise._value);
        }
        ++listener.psd.ref;
        ++numScheduledCalls;
        asap(callListener, [cb, promise, listener]);
    }
    function callListener(cb, promise, listener) {
        try {
            var ret, value = promise._value;
            if (!promise._state && rejectingErrors.length)
                rejectingErrors = [];
            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);
            if (!promise._state && rejectingErrors.indexOf(value) === -1) {
                markErrorAsHandled(promise);
            }
            listener.resolve(ret);
        }
        catch (e) {
            listener.reject(e);
        }
        finally {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
            --listener.psd.ref || listener.psd.finalize();
        }
    }
    function physicalTick() {
        usePSD(globalPSD, function () {
            beginMicroTickScope() && endMicroTickScope();
        });
    }
    function beginMicroTickScope() {
        var wasRootExec = isOutsideMicroTick;
        isOutsideMicroTick = false;
        needsNewPhysicalTick = false;
        return wasRootExec;
    }
    function endMicroTickScope() {
        var callbacks, i, l;
        do {
            while (microtickQueue.length > 0) {
                callbacks = microtickQueue;
                microtickQueue = [];
                l = callbacks.length;
                for (i = 0; i < l; ++i) {
                    var item = callbacks[i];
                    item[0].apply(null, item[1]);
                }
            }
        } while (microtickQueue.length > 0);
        isOutsideMicroTick = true;
        needsNewPhysicalTick = true;
    }
    function finalizePhysicalTick() {
        var unhandledErrs = unhandledErrors;
        unhandledErrors = [];
        unhandledErrs.forEach(function (p) {
            p._PSD.onunhandled.call(null, p._value, p);
        });
        var finalizers = tickFinalizers.slice(0);
        var i = finalizers.length;
        while (i)
            finalizers[--i]();
    }
    function run_at_end_of_this_or_next_physical_tick(fn) {
        function finalizer() {
            fn();
            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);
        }
        tickFinalizers.push(finalizer);
        ++numScheduledCalls;
        asap(function () {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
        }, []);
    }
    function addPossiblyUnhandledError(promise) {
        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))
            unhandledErrors.push(promise);
    }
    function markErrorAsHandled(promise) {
        var i = unhandledErrors.length;
        while (i)
            if (unhandledErrors[--i]._value === promise._value) {
                unhandledErrors.splice(i, 1);
                return;
            }
    }
    function PromiseReject(reason) {
        return new DexiePromise(INTERNAL, false, reason);
    }
    function wrap(fn, errorCatcher) {
        var psd = PSD;
        return function () {
            var wasRootExec = beginMicroTickScope(), outerScope = PSD;
            try {
                switchToZone(psd, true);
                return fn.apply(this, arguments);
            }
            catch (e) {
                errorCatcher && errorCatcher(e);
            }
            finally {
                switchToZone(outerScope, false);
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
    }
    var task = { awaits: 0, echoes: 0, id: 0 };
    var taskCounter = 0;
    var zoneStack = [];
    var zoneEchoes = 0;
    var totalEchoes = 0;
    var zone_id_counter = 0;
    function newScope(fn, props, a1, a2) {
        var parent = PSD, psd = Object.create(parent);
        psd.parent = parent;
        psd.ref = 0;
        psd.global = false;
        psd.id = ++zone_id_counter;
        globalPSD.env;
        psd.env = patchGlobalPromise ? {
            Promise: DexiePromise,
            PromiseProp: { value: DexiePromise, configurable: true, writable: true },
            all: DexiePromise.all,
            race: DexiePromise.race,
            allSettled: DexiePromise.allSettled,
            any: DexiePromise.any,
            resolve: DexiePromise.resolve,
            reject: DexiePromise.reject,
        } : {};
        if (props)
            extend(psd, props);
        ++parent.ref;
        psd.finalize = function () {
            --this.parent.ref || this.parent.finalize();
        };
        var rv = usePSD(psd, fn, a1, a2);
        if (psd.ref === 0)
            psd.finalize();
        return rv;
    }
    function incrementExpectedAwaits() {
        if (!task.id)
            task.id = ++taskCounter;
        ++task.awaits;
        task.echoes += ZONE_ECHO_LIMIT;
        return task.id;
    }
    function decrementExpectedAwaits() {
        if (!task.awaits)
            return false;
        if (--task.awaits === 0)
            task.id = 0;
        task.echoes = task.awaits * ZONE_ECHO_LIMIT;
        return true;
    }
    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {
        incrementExpectedAwaits = decrementExpectedAwaits = nop;
    }
    function onPossibleParallellAsync(possiblePromise) {
        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {
            incrementExpectedAwaits();
            return possiblePromise.then(function (x) {
                decrementExpectedAwaits();
                return x;
            }, function (e) {
                decrementExpectedAwaits();
                return rejection(e);
            });
        }
        return possiblePromise;
    }
    function zoneEnterEcho(targetZone) {
        ++totalEchoes;
        if (!task.echoes || --task.echoes === 0) {
            task.echoes = task.awaits = task.id = 0;
        }
        zoneStack.push(PSD);
        switchToZone(targetZone, true);
    }
    function zoneLeaveEcho() {
        var zone = zoneStack[zoneStack.length - 1];
        zoneStack.pop();
        switchToZone(zone, false);
    }
    function switchToZone(targetZone, bEnteringZone) {
        var currentZone = PSD;
        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {
            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);
        }
        if (targetZone === PSD)
            return;
        PSD = targetZone;
        if (currentZone === globalPSD)
            globalPSD.env = snapShot();
        if (patchGlobalPromise) {
            var GlobalPromise = globalPSD.env.Promise;
            var targetEnv = targetZone.env;
            if (currentZone.global || targetZone.global) {
                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);
                GlobalPromise.all = targetEnv.all;
                GlobalPromise.race = targetEnv.race;
                GlobalPromise.resolve = targetEnv.resolve;
                GlobalPromise.reject = targetEnv.reject;
                if (targetEnv.allSettled)
                    GlobalPromise.allSettled = targetEnv.allSettled;
                if (targetEnv.any)
                    GlobalPromise.any = targetEnv.any;
            }
        }
    }
    function snapShot() {
        var GlobalPromise = _global.Promise;
        return patchGlobalPromise ? {
            Promise: GlobalPromise,
            PromiseProp: Object.getOwnPropertyDescriptor(_global, "Promise"),
            all: GlobalPromise.all,
            race: GlobalPromise.race,
            allSettled: GlobalPromise.allSettled,
            any: GlobalPromise.any,
            resolve: GlobalPromise.resolve,
            reject: GlobalPromise.reject,
        } : {};
    }
    function usePSD(psd, fn, a1, a2, a3) {
        var outerScope = PSD;
        try {
            switchToZone(psd, true);
            return fn(a1, a2, a3);
        }
        finally {
            switchToZone(outerScope, false);
        }
    }
    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {
        return typeof fn !== 'function' ? fn : function () {
            var outerZone = PSD;
            if (possibleAwait)
                incrementExpectedAwaits();
            switchToZone(zone, true);
            try {
                return fn.apply(this, arguments);
            }
            finally {
                switchToZone(outerZone, false);
                if (cleanup)
                    queueMicrotask(decrementExpectedAwaits);
            }
        };
    }
    function execInGlobalContext(cb) {
        if (Promise === NativePromise && task.echoes === 0) {
            if (zoneEchoes === 0) {
                cb();
            }
            else {
                enqueueNativeMicroTask(cb);
            }
        }
        else {
            setTimeout(cb, 0);
        }
    }
    var rejection = DexiePromise.reject;

    function tempTransaction(db, mode, storeNames, fn) {
        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {
            if (db._state.openComplete) {
                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));
            }
            if (!db._state.isBeingOpened) {
                if (!db._state.autoOpen)
                    return rejection(new exceptions.DatabaseClosed());
                db.open().catch(nop);
            }
            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });
        }
        else {
            var trans = db._createTransaction(mode, storeNames, db._dbSchema);
            try {
                trans.create();
                db._state.PR1398_maxLoop = 3;
            }
            catch (ex) {
                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                    console.warn('Dexie: Need to reopen db');
                    db.close({ disableAutoOpen: false });
                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });
                }
                return rejection(ex);
            }
            return trans._promise(mode, function (resolve, reject) {
                return newScope(function () {
                    PSD.trans = trans;
                    return fn(resolve, reject, trans);
                });
            }).then(function (result) {
                if (mode === 'readwrite')
                    try {
                        trans.idbtrans.commit();
                    }
                    catch (_a) { }
                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });
            });
        }
    }

    var DEXIE_VERSION = '4.0.11';
    var maxString = String.fromCharCode(65535);
    var minKey = -Infinity;
    var INVALID_KEY_ARGUMENT = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";
    var STRING_EXPECTED = "String expected.";
    var connections = [];
    var DBNAMES_DB = '__dbnames';
    var READONLY = 'readonly';
    var READWRITE = 'readwrite';

    function combine(filter1, filter2) {
        return filter1 ?
            filter2 ?
                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :
                filter1 :
            filter2;
    }

    var AnyRange = {
        type: 3 ,
        lower: -Infinity,
        lowerOpen: false,
        upper: [[]],
        upperOpen: false
    };

    function workaroundForUndefinedPrimKey(keyPath) {
        return typeof keyPath === "string" && !/\./.test(keyPath)
            ? function (obj) {
                if (obj[keyPath] === undefined && (keyPath in obj)) {
                    obj = deepClone(obj);
                    delete obj[keyPath];
                }
                return obj;
            }
            : function (obj) { return obj; };
    }

    function Entity() {
        throw exceptions.Type();
    }

    function cmp(a, b) {
        try {
            var ta = type(a);
            var tb = type(b);
            if (ta !== tb) {
                if (ta === 'Array')
                    return 1;
                if (tb === 'Array')
                    return -1;
                if (ta === 'binary')
                    return 1;
                if (tb === 'binary')
                    return -1;
                if (ta === 'string')
                    return 1;
                if (tb === 'string')
                    return -1;
                if (ta === 'Date')
                    return 1;
                if (tb !== 'Date')
                    return NaN;
                return -1;
            }
            switch (ta) {
                case 'number':
                case 'Date':
                case 'string':
                    return a > b ? 1 : a < b ? -1 : 0;
                case 'binary': {
                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));
                }
                case 'Array':
                    return compareArrays(a, b);
            }
        }
        catch (_a) { }
        return NaN;
    }
    function compareArrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            var res = cmp(a[i], b[i]);
            if (res !== 0)
                return res;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function compareUint8Arrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            if (a[i] !== b[i])
                return a[i] < b[i] ? -1 : 1;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function type(x) {
        var t = typeof x;
        if (t !== 'object')
            return t;
        if (ArrayBuffer.isView(x))
            return 'binary';
        var tsTag = toStringTag(x);
        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;
    }
    function getUint8Array(a) {
        if (a instanceof Uint8Array)
            return a;
        if (ArrayBuffer.isView(a))
            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);
        return new Uint8Array(a);
    }

    var Table =  (function () {
        function Table() {
        }
        Table.prototype._trans = function (mode, fn, writeLocked) {
            var trans = this._tx || PSD.trans;
            var tableName = this.name;
            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask("Dexie: ".concat(mode === 'readonly' ? 'read' : 'write', " ").concat(this.name));
            function checkTableInTransaction(resolve, reject, trans) {
                if (!trans.schema[tableName])
                    throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
                return fn(trans.idbtrans, trans);
            }
            var wasRootExec = beginMicroTickScope();
            try {
                var p = trans && trans.db._novip === this.db._novip ?
                    trans === PSD.trans ?
                        trans._promise(mode, checkTableInTransaction, writeLocked) :
                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :
                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);
                if (task) {
                    p._consoleTask = task;
                    p = p.catch(function (err) {
                        console.trace(err);
                        return rejection(err);
                    });
                }
                return p;
            }
            finally {
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
        Table.prototype.get = function (keyOrCrit, cb) {
            var _this = this;
            if (keyOrCrit && keyOrCrit.constructor === Object)
                return this.where(keyOrCrit).first(cb);
            if (keyOrCrit == null)
                return rejection(new exceptions.Type("Invalid argument to Table.get()"));
            return this._trans('readonly', function (trans) {
                return _this.core.get({ trans: trans, key: keyOrCrit })
                    .then(function (res) { return _this.hook.reading.fire(res); });
            }).then(cb);
        };
        Table.prototype.where = function (indexOrCrit) {
            if (typeof indexOrCrit === 'string')
                return new this.db.WhereClause(this, indexOrCrit);
            if (isArray(indexOrCrit))
                return new this.db.WhereClause(this, "[".concat(indexOrCrit.join('+'), "]"));
            var keyPaths = keys(indexOrCrit);
            if (keyPaths.length === 1)
                return this
                    .where(keyPaths[0])
                    .equals(indexOrCrit[keyPaths[0]]);
            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {
                if (ix.compound &&
                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {
                    for (var i = 0; i < keyPaths.length; ++i) {
                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)
                            return false;
                    }
                    return true;
                }
                return false;
            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];
            if (compoundIndex && this.db._maxKey !== maxString) {
                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);
                return this
                    .where(keyPathsInValidOrder)
                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));
            }
            if (!compoundIndex && debug)
                console.warn("The query ".concat(JSON.stringify(indexOrCrit), " on ").concat(this.name, " would benefit from a ") +
                    "compound index [".concat(keyPaths.join('+'), "]"));
            var idxByName = this.schema.idxByName;
            function equals(a, b) {
                return cmp(a, b) === 0;
            }
            var _a = keyPaths.reduce(function (_a, keyPath) {
                var prevIndex = _a[0], prevFilterFn = _a[1];
                var index = idxByName[keyPath];
                var value = indexOrCrit[keyPath];
                return [
                    prevIndex || index,
                    prevIndex || !index ?
                        combine(prevFilterFn, index && index.multi ?
                            function (x) {
                                var prop = getByKeyPath(x, keyPath);
                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });
                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })
                        : prevFilterFn
                ];
            }, [null, null]), idx = _a[0], filterFunction = _a[1];
            return idx ?
                this.where(idx.name).equals(indexOrCrit[idx.keyPath])
                    .filter(filterFunction) :
                compoundIndex ?
                    this.filter(filterFunction) :
                    this.where(keyPaths).equals('');
        };
        Table.prototype.filter = function (filterFunction) {
            return this.toCollection().and(filterFunction);
        };
        Table.prototype.count = function (thenShortcut) {
            return this.toCollection().count(thenShortcut);
        };
        Table.prototype.offset = function (offset) {
            return this.toCollection().offset(offset);
        };
        Table.prototype.limit = function (numRows) {
            return this.toCollection().limit(numRows);
        };
        Table.prototype.each = function (callback) {
            return this.toCollection().each(callback);
        };
        Table.prototype.toArray = function (thenShortcut) {
            return this.toCollection().toArray(thenShortcut);
        };
        Table.prototype.toCollection = function () {
            return new this.db.Collection(new this.db.WhereClause(this));
        };
        Table.prototype.orderBy = function (index) {
            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?
                "[".concat(index.join('+'), "]") :
                index));
        };
        Table.prototype.reverse = function () {
            return this.toCollection().reverse();
        };
        Table.prototype.mapToClass = function (constructor) {
            var _a = this, db = _a.db, tableName = _a.name;
            this.schema.mappedClass = constructor;
            if (constructor.prototype instanceof Entity) {
                constructor =  (function (_super) {
                    __extends(class_1, _super);
                    function class_1() {
                        return _super !== null && _super.apply(this, arguments) || this;
                    }
                    Object.defineProperty(class_1.prototype, "db", {
                        get: function () { return db; },
                        enumerable: false,
                        configurable: true
                    });
                    class_1.prototype.table = function () { return tableName; };
                    return class_1;
                }(constructor));
            }
            var inheritedProps = new Set();
            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {
                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });
            }
            var readHook = function (obj) {
                if (!obj)
                    return obj;
                var res = Object.create(constructor.prototype);
                for (var m in obj)
                    if (!inheritedProps.has(m))
                        try {
                            res[m] = obj[m];
                        }
                        catch (_) { }
                return res;
            };
            if (this.schema.readHook) {
                this.hook.reading.unsubscribe(this.schema.readHook);
            }
            this.schema.readHook = readHook;
            this.hook("reading", readHook);
            return constructor;
        };
        Table.prototype.defineClass = function () {
            function Class(content) {
                extend(this, content);
            }
            return this.mapToClass(Class);
        };
        Table.prototype.add = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });
            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.update = function (keyOrObject, modifications) {
            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {
                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);
                if (key === undefined)
                    return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));
                return this.where(":id").equals(key).modify(modifications);
            }
            else {
                return this.where(":id").equals(keyOrObject).modify(modifications);
            }
        };
        Table.prototype.put = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.delete = function (key) {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.clear = function () {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.bulkGet = function (keys) {
            var _this = this;
            return this._trans('readonly', function (trans) {
                return _this.core.getMany({
                    keys: keys,
                    trans: trans
                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });
            });
        };
        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToAdd = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkAdd(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToPut = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkPut(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkUpdate = function (keysAndChanges) {
            var _this = this;
            var coreTable = this.core;
            var keys = keysAndChanges.map(function (entry) { return entry.key; });
            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });
            var offsetMap = [];
            return this._trans('readwrite', function (trans) {
                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {
                    var resultKeys = [];
                    var resultObjs = [];
                    keysAndChanges.forEach(function (_a, idx) {
                        var key = _a.key, changes = _a.changes;
                        var obj = objs[idx];
                        if (obj) {
                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {
                                var keyPath = _b[_i];
                                var value = changes[keyPath];
                                if (keyPath === _this.schema.primKey.keyPath) {
                                    if (cmp(value, key) !== 0) {
                                        throw new exceptions.Constraint("Cannot update primary key in bulkUpdate()");
                                    }
                                }
                                else {
                                    setByKeyPath(obj, keyPath, value);
                                }
                            }
                            offsetMap.push(idx);
                            resultKeys.push(key);
                            resultObjs.push(obj);
                        }
                    });
                    var numEntries = resultKeys.length;
                    return coreTable
                        .mutate({
                        trans: trans,
                        type: 'put',
                        keys: resultKeys,
                        values: resultObjs,
                        updates: {
                            keys: keys,
                            changeSpecs: changeSpecs
                        }
                    })
                        .then(function (_a) {
                        var numFailures = _a.numFailures, failures = _a.failures;
                        if (numFailures === 0)
                            return numEntries;
                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {
                            var offset = _b[_i];
                            var mappedOffset = offsetMap[Number(offset)];
                            if (mappedOffset != null) {
                                var failure = failures[offset];
                                delete failures[offset];
                                failures[mappedOffset] = failure;
                            }
                        }
                        throw new BulkError("".concat(_this.name, ".bulkUpdate(): ").concat(numFailures, " of ").concat(numEntries, " operations failed"), failures);
                    });
                });
            });
        };
        Table.prototype.bulkDelete = function (keys) {
            var _this = this;
            var numKeys = keys.length;
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });
            }).then(function (_a) {
                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;
                if (numFailures === 0)
                    return lastResult;
                throw new BulkError("".concat(_this.name, ".bulkDelete(): ").concat(numFailures, " of ").concat(numKeys, " operations failed"), failures);
            });
        };
        return Table;
    }());

    function Events(ctx) {
        var evs = {};
        var rv = function (eventName, subscriber) {
            if (subscriber) {
                var i = arguments.length, args = new Array(i - 1);
                while (--i)
                    args[i - 1] = arguments[i];
                evs[eventName].subscribe.apply(null, args);
                return ctx;
            }
            else if (typeof (eventName) === 'string') {
                return evs[eventName];
            }
        };
        rv.addEventType = add;
        for (var i = 1, l = arguments.length; i < l; ++i) {
            add(arguments[i]);
        }
        return rv;
        function add(eventName, chainFunction, defaultFunction) {
            if (typeof eventName === 'object')
                return addConfiguredEvents(eventName);
            if (!chainFunction)
                chainFunction = reverseStoppableEventChain;
            if (!defaultFunction)
                defaultFunction = nop;
            var context = {
                subscribers: [],
                fire: defaultFunction,
                subscribe: function (cb) {
                    if (context.subscribers.indexOf(cb) === -1) {
                        context.subscribers.push(cb);
                        context.fire = chainFunction(context.fire, cb);
                    }
                },
                unsubscribe: function (cb) {
                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });
                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);
                }
            };
            evs[eventName] = rv[eventName] = context;
            return context;
        }
        function addConfiguredEvents(cfg) {
            keys(cfg).forEach(function (eventName) {
                var args = cfg[eventName];
                if (isArray(args)) {
                    add(eventName, cfg[eventName][0], cfg[eventName][1]);
                }
                else if (args === 'asap') {
                    var context = add(eventName, mirror, function fire() {
                        var i = arguments.length, args = new Array(i);
                        while (i--)
                            args[i] = arguments[i];
                        context.subscribers.forEach(function (fn) {
                            asap$1(function fireEvent() {
                                fn.apply(null, args);
                            });
                        });
                    });
                }
                else
                    throw new exceptions.InvalidArgument("Invalid event config");
            });
        }
    }

    function makeClassConstructor(prototype, constructor) {
        derive(constructor).from({ prototype: prototype });
        return constructor;
    }

    function createTableConstructor(db) {
        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {
            this.db = db;
            this._tx = trans;
            this.name = name;
            this.schema = tableSchema;
            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {
                "creating": [hookCreatingChain, nop],
                "reading": [pureFunctionChain, mirror],
                "updating": [hookUpdatingChain, nop],
                "deleting": [hookDeletingChain, nop]
            });
        });
    }

    function isPlainKeyRange(ctx, ignoreLimitFilter) {
        return !(ctx.filter || ctx.algorithm || ctx.or) &&
            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);
    }
    function addFilter(ctx, fn) {
        ctx.filter = combine(ctx.filter, fn);
    }
    function addReplayFilter(ctx, factory, isLimitFilter) {
        var curr = ctx.replayFilter;
        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;
        ctx.justLimit = isLimitFilter && !curr;
    }
    function addMatchFilter(ctx, fn) {
        ctx.isMatch = combine(ctx.isMatch, fn);
    }
    function getIndexOrStore(ctx, coreSchema) {
        if (ctx.isPrimKey)
            return coreSchema.primaryKey;
        var index = coreSchema.getIndexByKeyPath(ctx.index);
        if (!index)
            throw new exceptions.Schema("KeyPath " + ctx.index + " on object store " + coreSchema.name + " is not indexed");
        return index;
    }
    function openCursor(ctx, coreTable, trans) {
        var index = getIndexOrStore(ctx, coreTable.schema);
        return coreTable.openCursor({
            trans: trans,
            values: !ctx.keysOnly,
            reverse: ctx.dir === 'prev',
            unique: !!ctx.unique,
            query: {
                index: index,
                range: ctx.range
            }
        });
    }
    function iter(ctx, fn, coreTrans, coreTable) {
        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;
        if (!ctx.or) {
            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);
        }
        else {
            var set_1 = {};
            var union = function (item, cursor, advance) {
                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {
                    var primaryKey = cursor.primaryKey;
                    var key = '' + primaryKey;
                    if (key === '[object ArrayBuffer]')
                        key = '' + new Uint8Array(primaryKey);
                    if (!hasOwn(set_1, key)) {
                        set_1[key] = true;
                        fn(item, cursor, advance);
                    }
                }
            };
            return Promise.all([
                ctx.or._iterate(union, coreTrans),
                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)
            ]);
        }
    }
    function iterate(cursorPromise, filter, fn, valueMapper) {
        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;
        var wrappedFn = wrap(mappedFn);
        return cursorPromise.then(function (cursor) {
            if (cursor) {
                return cursor.start(function () {
                    var c = function () { return cursor.continue(); };
                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))
                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });
                    c();
                });
            }
        });
    }

    var PropModification =  (function () {
        function PropModification(spec) {
            this["@@propmod"] = spec;
        }
        PropModification.prototype.execute = function (value) {
            var _a;
            var spec = this["@@propmod"];
            if (spec.add !== undefined) {
                var term = spec.add;
                if (isArray(term)) {
                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();
                }
                if (typeof term === 'number')
                    return (Number(value) || 0) + term;
                if (typeof term === 'bigint') {
                    try {
                        return BigInt(value) + term;
                    }
                    catch (_b) {
                        return BigInt(0) + term;
                    }
                }
                throw new TypeError("Invalid term ".concat(term));
            }
            if (spec.remove !== undefined) {
                var subtrahend_1 = spec.remove;
                if (isArray(subtrahend_1)) {
                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];
                }
                if (typeof subtrahend_1 === 'number')
                    return Number(value) - subtrahend_1;
                if (typeof subtrahend_1 === 'bigint') {
                    try {
                        return BigInt(value) - subtrahend_1;
                    }
                    catch (_c) {
                        return BigInt(0) - subtrahend_1;
                    }
                }
                throw new TypeError("Invalid subtrahend ".concat(subtrahend_1));
            }
            var prefixToReplace = (_a = spec.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];
            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {
                return spec.replacePrefix[1] + value.substring(prefixToReplace.length);
            }
            return value;
        };
        return PropModification;
    }());

    var Collection =  (function () {
        function Collection() {
        }
        Collection.prototype._read = function (fn, cb) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readonly', fn).then(cb);
        };
        Collection.prototype._write = function (fn) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readwrite', fn, "locked");
        };
        Collection.prototype._addAlgorithm = function (fn) {
            var ctx = this._ctx;
            ctx.algorithm = combine(ctx.algorithm, fn);
        };
        Collection.prototype._iterate = function (fn, coreTrans) {
            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);
        };
        Collection.prototype.clone = function (props) {
            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);
            if (props)
                extend(ctx, props);
            rv._ctx = ctx;
            return rv;
        };
        Collection.prototype.raw = function () {
            this._ctx.valueMapper = null;
            return this;
        };
        Collection.prototype.each = function (fn) {
            var ctx = this._ctx;
            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });
        };
        Collection.prototype.count = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                var coreTable = ctx.table.core;
                if (isPlainKeyRange(ctx, true)) {
                    return coreTable.count({
                        trans: trans,
                        query: {
                            index: getIndexOrStore(ctx, coreTable.schema),
                            range: ctx.range
                        }
                    }).then(function (count) { return Math.min(count, ctx.limit); });
                }
                else {
                    var count = 0;
                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)
                        .then(function () { return count; });
                }
            }).then(cb);
        };
        Collection.prototype.sortBy = function (keyPath, cb) {
            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;
            function getval(obj, i) {
                if (i)
                    return getval(obj[parts[i]], i - 1);
                return obj[lastPart];
            }
            var order = this._ctx.dir === "next" ? 1 : -1;
            function sorter(a, b) {
                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);
                return cmp(aVal, bVal) * order;
            }
            return this.toArray(function (a) {
                return a.sort(sorter);
            }).then(cb);
        };
        Collection.prototype.toArray = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                    var valueMapper_1 = ctx.valueMapper;
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        limit: ctx.limit,
                        values: true,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    }).then(function (_a) {
                        var result = _a.result;
                        return valueMapper_1 ? result.map(valueMapper_1) : result;
                    });
                }
                else {
                    var a_1 = [];
                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });
                }
            }, cb);
        };
        Collection.prototype.offset = function (offset) {
            var ctx = this._ctx;
            if (offset <= 0)
                return this;
            ctx.offset += offset;
            if (isPlainKeyRange(ctx)) {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function (cursor, advance) {
                        if (offsetLeft === 0)
                            return true;
                        if (offsetLeft === 1) {
                            --offsetLeft;
                            return false;
                        }
                        advance(function () {
                            cursor.advance(offsetLeft);
                            offsetLeft = 0;
                        });
                        return false;
                    };
                });
            }
            else {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function () { return (--offsetLeft < 0); };
                });
            }
            return this;
        };
        Collection.prototype.limit = function (numRows) {
            this._ctx.limit = Math.min(this._ctx.limit, numRows);
            addReplayFilter(this._ctx, function () {
                var rowsLeft = numRows;
                return function (cursor, advance, resolve) {
                    if (--rowsLeft <= 0)
                        advance(resolve);
                    return rowsLeft >= 0;
                };
            }, true);
            return this;
        };
        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {
            addFilter(this._ctx, function (cursor, advance, resolve) {
                if (filterFunction(cursor.value)) {
                    advance(resolve);
                    return bIncludeStopEntry;
                }
                else {
                    return true;
                }
            });
            return this;
        };
        Collection.prototype.first = function (cb) {
            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.last = function (cb) {
            return this.reverse().first(cb);
        };
        Collection.prototype.filter = function (filterFunction) {
            addFilter(this._ctx, function (cursor) {
                return filterFunction(cursor.value);
            });
            addMatchFilter(this._ctx, filterFunction);
            return this;
        };
        Collection.prototype.and = function (filter) {
            return this.filter(filter);
        };
        Collection.prototype.or = function (indexName) {
            return new this.db.WhereClause(this._ctx.table, indexName, this);
        };
        Collection.prototype.reverse = function () {
            this._ctx.dir = (this._ctx.dir === "prev" ? "next" : "prev");
            if (this._ondirectionchange)
                this._ondirectionchange(this._ctx.dir);
            return this;
        };
        Collection.prototype.desc = function () {
            return this.reverse();
        };
        Collection.prototype.eachKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.key, cursor); });
        };
        Collection.prototype.eachUniqueKey = function (cb) {
            this._ctx.unique = "unique";
            return this.eachKey(cb);
        };
        Collection.prototype.eachPrimaryKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });
        };
        Collection.prototype.keys = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.key);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.primaryKeys = function (cb) {
            var ctx = this._ctx;
            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                return this._read(function (trans) {
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        values: false,
                        limit: ctx.limit,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    });
                }).then(function (_a) {
                    var result = _a.result;
                    return result;
                }).then(cb);
            }
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.primaryKey);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.uniqueKeys = function (cb) {
            this._ctx.unique = "unique";
            return this.keys(cb);
        };
        Collection.prototype.firstKey = function (cb) {
            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.lastKey = function (cb) {
            return this.reverse().firstKey(cb);
        };
        Collection.prototype.distinct = function () {
            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];
            if (!idx || !idx.multi)
                return this;
            var set = {};
            addFilter(this._ctx, function (cursor) {
                var strKey = cursor.primaryKey.toString();
                var found = hasOwn(set, strKey);
                set[strKey] = true;
                return !found;
            });
            return this;
        };
        Collection.prototype.modify = function (changes) {
            var _this = this;
            var ctx = this._ctx;
            return this._write(function (trans) {
                var modifyer;
                if (typeof changes === 'function') {
                    modifyer = changes;
                }
                else {
                    var keyPaths = keys(changes);
                    var numKeys = keyPaths.length;
                    modifyer = function (item) {
                        var anythingModified = false;
                        for (var i = 0; i < numKeys; ++i) {
                            var keyPath = keyPaths[i];
                            var val = changes[keyPath];
                            var origVal = getByKeyPath(item, keyPath);
                            if (val instanceof PropModification) {
                                setByKeyPath(item, keyPath, val.execute(origVal));
                                anythingModified = true;
                            }
                            else if (origVal !== val) {
                                setByKeyPath(item, keyPath, val);
                                anythingModified = true;
                            }
                        }
                        return anythingModified;
                    };
                }
                var coreTable = ctx.table.core;
                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;
                var limit = 200;
                var modifyChunkSize = _this.db._options.modifyChunkSize;
                if (modifyChunkSize) {
                    if (typeof modifyChunkSize == 'object') {
                        limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;
                    }
                    else {
                        limit = modifyChunkSize;
                    }
                }
                var totalFailures = [];
                var successCount = 0;
                var failedKeys = [];
                var applyMutateResult = function (expectedCount, res) {
                    var failures = res.failures, numFailures = res.numFailures;
                    successCount += expectedCount - numFailures;
                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {
                        var pos = _a[_i];
                        totalFailures.push(failures[pos]);
                    }
                };
                return _this.clone().primaryKeys().then(function (keys) {
                    var criteria = isPlainKeyRange(ctx) &&
                        ctx.limit === Infinity &&
                        (typeof changes !== 'function' || changes === deleteCallback) && {
                        index: ctx.index,
                        range: ctx.range
                    };
                    var nextChunk = function (offset) {
                        var count = Math.min(limit, keys.length - offset);
                        return coreTable.getMany({
                            trans: trans,
                            keys: keys.slice(offset, offset + count),
                            cache: "immutable"
                        }).then(function (values) {
                            var addValues = [];
                            var putValues = [];
                            var putKeys = outbound ? [] : null;
                            var deleteKeys = [];
                            for (var i = 0; i < count; ++i) {
                                var origValue = values[i];
                                var ctx_1 = {
                                    value: deepClone(origValue),
                                    primKey: keys[offset + i]
                                };
                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {
                                    if (ctx_1.value == null) {
                                        deleteKeys.push(keys[offset + i]);
                                    }
                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {
                                        deleteKeys.push(keys[offset + i]);
                                        addValues.push(ctx_1.value);
                                    }
                                    else {
                                        putValues.push(ctx_1.value);
                                        if (outbound)
                                            putKeys.push(keys[offset + i]);
                                    }
                                }
                            }
                            return Promise.resolve(addValues.length > 0 &&
                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })
                                    .then(function (res) {
                                    for (var pos in res.failures) {
                                        deleteKeys.splice(parseInt(pos), 1);
                                    }
                                    applyMutateResult(addValues.length, res);
                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'put',
                                    keys: putKeys,
                                    values: putValues,
                                    criteria: criteria,
                                    changeSpec: typeof changes !== 'function'
                                        && changes,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'delete',
                                    keys: deleteKeys,
                                    criteria: criteria,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {
                                return keys.length > offset + count && nextChunk(offset + limit);
                            });
                        });
                    };
                    return nextChunk(0).then(function () {
                        if (totalFailures.length > 0)
                            throw new ModifyError("Error modifying one or more objects", totalFailures, successCount, failedKeys);
                        return keys.length;
                    });
                });
            });
        };
        Collection.prototype.delete = function () {
            var ctx = this._ctx, range = ctx.range;
            if (isPlainKeyRange(ctx) &&
                (ctx.isPrimKey || range.type === 3 ))
             {
                return this._write(function (trans) {
                    var primaryKey = ctx.table.core.schema.primaryKey;
                    var coreRange = range;
                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {
                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })
                            .then(function (_a) {
                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;
                            if (numFailures)
                                throw new ModifyError("Could not delete some values", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);
                            return count - numFailures;
                        });
                    });
                });
            }
            return this.modify(deleteCallback);
        };
        return Collection;
    }());
    var deleteCallback = function (value, ctx) { return ctx.value = null; };

    function createCollectionConstructor(db) {
        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {
            this.db = db;
            var keyRange = AnyRange, error = null;
            if (keyRangeGenerator)
                try {
                    keyRange = keyRangeGenerator();
                }
                catch (ex) {
                    error = ex;
                }
            var whereCtx = whereClause._ctx;
            var table = whereCtx.table;
            var readingHook = table.hook.reading.fire;
            this._ctx = {
                table: table,
                index: whereCtx.index,
                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),
                range: keyRange,
                keysOnly: false,
                dir: "next",
                unique: "",
                algorithm: null,
                filter: null,
                replayFilter: null,
                justLimit: true,
                isMatch: null,
                offset: 0,
                limit: Infinity,
                error: error,
                or: whereCtx.or,
                valueMapper: readingHook !== mirror ? readingHook : null
            };
        });
    }

    function simpleCompare(a, b) {
        return a < b ? -1 : a === b ? 0 : 1;
    }
    function simpleCompareReverse(a, b) {
        return a > b ? -1 : a === b ? 0 : 1;
    }

    function fail(collectionOrWhereClause, err, T) {
        var collection = collectionOrWhereClause instanceof WhereClause ?
            new collectionOrWhereClause.Collection(collectionOrWhereClause) :
            collectionOrWhereClause;
        collection._ctx.error = T ? new T(err) : new TypeError(err);
        return collection;
    }
    function emptyCollection(whereClause) {
        return new whereClause.Collection(whereClause, function () { return rangeEqual(""); }).limit(0);
    }
    function upperFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toUpperCase(); } :
            function (s) { return s.toLowerCase(); };
    }
    function lowerFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toLowerCase(); } :
            function (s) { return s.toUpperCase(); };
    }
    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {
        var length = Math.min(key.length, lowerNeedle.length);
        var llp = -1;
        for (var i = 0; i < length; ++i) {
            var lwrKeyChar = lowerKey[i];
            if (lwrKeyChar !== lowerNeedle[i]) {
                if (cmp(key[i], upperNeedle[i]) < 0)
                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);
                if (cmp(key[i], lowerNeedle[i]) < 0)
                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);
                if (llp >= 0)
                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);
                return null;
            }
            if (cmp(key[i], lwrKeyChar) < 0)
                llp = i;
        }
        if (length < lowerNeedle.length && dir === "next")
            return key + upperNeedle.substr(key.length);
        if (length < key.length && dir === "prev")
            return key.substr(0, upperNeedle.length);
        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));
    }
    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {
        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;
        if (!needles.every(function (s) { return typeof s === 'string'; })) {
            return fail(whereClause, STRING_EXPECTED);
        }
        function initDirection(dir) {
            upper = upperFactory(dir);
            lower = lowerFactory(dir);
            compare = (dir === "next" ? simpleCompare : simpleCompareReverse);
            var needleBounds = needles.map(function (needle) {
                return { lower: lower(needle), upper: upper(needle) };
            }).sort(function (a, b) {
                return compare(a.lower, b.lower);
            });
            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });
            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });
            direction = dir;
            nextKeySuffix = (dir === "next" ? "" : suffix);
        }
        initDirection("next");
        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });
        c._ondirectionchange = function (direction) {
            initDirection(direction);
        };
        var firstPossibleNeedle = 0;
        c._addAlgorithm(function (cursor, advance, resolve) {
            var key = cursor.key;
            if (typeof key !== 'string')
                return false;
            var lowerKey = lower(key);
            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {
                return true;
            }
            else {
                var lowestPossibleCasing = null;
                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {
                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);
                    if (casing === null && lowestPossibleCasing === null)
                        firstPossibleNeedle = i + 1;
                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {
                        lowestPossibleCasing = casing;
                    }
                }
                if (lowestPossibleCasing !== null) {
                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });
                }
                else {
                    advance(resolve);
                }
                return false;
            }
        });
        return c;
    }
    function createRange(lower, upper, lowerOpen, upperOpen) {
        return {
            type: 2 ,
            lower: lower,
            upper: upper,
            lowerOpen: lowerOpen,
            upperOpen: upperOpen
        };
    }
    function rangeEqual(value) {
        return {
            type: 1 ,
            lower: value,
            upper: value
        };
    }

    var WhereClause =  (function () {
        function WhereClause() {
        }
        Object.defineProperty(WhereClause.prototype, "Collection", {
            get: function () {
                return this._ctx.table.db.Collection;
            },
            enumerable: false,
            configurable: true
        });
        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {
            includeLower = includeLower !== false;
            includeUpper = includeUpper === true;
            try {
                if ((this._cmp(lower, upper) > 0) ||
                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))
                    return emptyCollection(this);
                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
        };
        WhereClause.prototype.equals = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return rangeEqual(value); });
        };
        WhereClause.prototype.above = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, true); });
        };
        WhereClause.prototype.aboveOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, false); });
        };
        WhereClause.prototype.below = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });
        };
        WhereClause.prototype.belowOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value); });
        };
        WhereClause.prototype.startsWith = function (str) {
            if (typeof str !== 'string')
                return fail(this, STRING_EXPECTED);
            return this.between(str, str + maxString, true, true);
        };
        WhereClause.prototype.startsWithIgnoreCase = function (str) {
            if (str === "")
                return this.startsWith(str);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);
        };
        WhereClause.prototype.equalsIgnoreCase = function (str) {
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], "");
        };
        WhereClause.prototype.anyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, "");
        };
        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);
        };
        WhereClause.prototype.anyOf = function () {
            var _this = this;
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            var compare = this._cmp;
            try {
                set.sort(compare);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            if (set.length === 0)
                return emptyCollection(this);
            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });
            c._ondirectionchange = function (direction) {
                compare = (direction === "next" ?
                    _this._ascending :
                    _this._descending);
                set.sort(compare);
            };
            var i = 0;
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (compare(key, set[i]) > 0) {
                    ++i;
                    if (i === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (compare(key, set[i]) === 0) {
                    return true;
                }
                else {
                    advance(function () { cursor.continue(set[i]); });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.notEqual = function (value) {
            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.noneOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return new this.Collection(this);
            try {
                set.sort(this._ascending);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var ranges = set.reduce(function (res, val) { return res ?
                res.concat([[res[res.length - 1][1], val]]) :
                [[minKey, val]]; }, null);
            ranges.push([set[set.length - 1], this.db._maxKey]);
            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.inAnyRange = function (ranges, options) {
            var _this = this;
            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;
            if (ranges.length === 0)
                return emptyCollection(this);
            if (!ranges.every(function (range) {
                return range[0] !== undefined &&
                    range[1] !== undefined &&
                    ascending(range[0], range[1]) <= 0;
            })) {
                return fail(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", exceptions.InvalidArgument);
            }
            var includeLowers = !options || options.includeLowers !== false;
            var includeUppers = options && options.includeUppers === true;
            function addRange(ranges, newRange) {
                var i = 0, l = ranges.length;
                for (; i < l; ++i) {
                    var range = ranges[i];
                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {
                        range[0] = min(range[0], newRange[0]);
                        range[1] = max(range[1], newRange[1]);
                        break;
                    }
                }
                if (i === l)
                    ranges.push(newRange);
                return ranges;
            }
            var sortDirection = ascending;
            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }
            var set;
            try {
                set = ranges.reduce(addRange, []);
                set.sort(rangeSorter);
            }
            catch (ex) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var rangePos = 0;
            var keyIsBeyondCurrentEntry = includeUppers ?
                function (key) { return ascending(key, set[rangePos][1]) > 0; } :
                function (key) { return ascending(key, set[rangePos][1]) >= 0; };
            var keyIsBeforeCurrentEntry = includeLowers ?
                function (key) { return descending(key, set[rangePos][0]) > 0; } :
                function (key) { return descending(key, set[rangePos][0]) >= 0; };
            function keyWithinCurrentRange(key) {
                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);
            }
            var checkKey = keyIsBeyondCurrentEntry;
            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });
            c._ondirectionchange = function (direction) {
                if (direction === "next") {
                    checkKey = keyIsBeyondCurrentEntry;
                    sortDirection = ascending;
                }
                else {
                    checkKey = keyIsBeforeCurrentEntry;
                    sortDirection = descending;
                }
                set.sort(rangeSorter);
            };
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (checkKey(key)) {
                    ++rangePos;
                    if (rangePos === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (keyWithinCurrentRange(key)) {
                    return true;
                }
                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {
                    return false;
                }
                else {
                    advance(function () {
                        if (sortDirection === ascending)
                            cursor.continue(set[rangePos][0]);
                        else
                            cursor.continue(set[rangePos][1]);
                    });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.startsWithAnyOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (!set.every(function (s) { return typeof s === 'string'; })) {
                return fail(this, "startsWithAnyOf() only works with strings");
            }
            if (set.length === 0)
                return emptyCollection(this);
            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));
        };
        return WhereClause;
    }());

    function createWhereClauseConstructor(db) {
        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {
            this.db = db;
            this._ctx = {
                table: table,
                index: index === ":id" ? null : index,
                or: orCollection
            };
            this._cmp = this._ascending = cmp;
            this._descending = function (a, b) { return cmp(b, a); };
            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };
            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };
            this._IDBKeyRange = db._deps.IDBKeyRange;
            if (!this._IDBKeyRange)
                throw new exceptions.MissingAPI();
        });
    }

    function eventRejectHandler(reject) {
        return wrap(function (event) {
            preventDefault(event);
            reject(event.target.error);
            return false;
        });
    }
    function preventDefault(event) {
        if (event.stopPropagation)
            event.stopPropagation();
        if (event.preventDefault)
            event.preventDefault();
    }

    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';
    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';
    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);

    var Transaction =  (function () {
        function Transaction() {
        }
        Transaction.prototype._lock = function () {
            assert(!PSD.global);
            ++this._reculock;
            if (this._reculock === 1 && !PSD.global)
                PSD.lockOwnerFor = this;
            return this;
        };
        Transaction.prototype._unlock = function () {
            assert(!PSD.global);
            if (--this._reculock === 0) {
                if (!PSD.global)
                    PSD.lockOwnerFor = null;
                while (this._blockedFuncs.length > 0 && !this._locked()) {
                    var fnAndPSD = this._blockedFuncs.shift();
                    try {
                        usePSD(fnAndPSD[1], fnAndPSD[0]);
                    }
                    catch (e) { }
                }
            }
            return this;
        };
        Transaction.prototype._locked = function () {
            return this._reculock && PSD.lockOwnerFor !== this;
        };
        Transaction.prototype.create = function (idbtrans) {
            var _this = this;
            if (!this.mode)
                return this;
            var idbdb = this.db.idbdb;
            var dbOpenError = this.db._state.dbOpenError;
            assert(!this.idbtrans);
            if (!idbtrans && !idbdb) {
                switch (dbOpenError && dbOpenError.name) {
                    case "DatabaseClosedError":
                        throw new exceptions.DatabaseClosed(dbOpenError);
                    case "MissingAPIError":
                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);
                    default:
                        throw new exceptions.OpenFailed(dbOpenError);
                }
            }
            if (!this.active)
                throw new exceptions.TransactionInactive();
            assert(this._completion._state === null);
            idbtrans = this.idbtrans = idbtrans ||
                (this.db.core
                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })
                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));
            idbtrans.onerror = wrap(function (ev) {
                preventDefault(ev);
                _this._reject(idbtrans.error);
            });
            idbtrans.onabort = wrap(function (ev) {
                preventDefault(ev);
                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));
                _this.active = false;
                _this.on("abort").fire(ev);
            });
            idbtrans.oncomplete = wrap(function () {
                _this.active = false;
                _this._resolve();
                if ('mutatedParts' in idbtrans) {
                    globalEvents.storagemutated.fire(idbtrans["mutatedParts"]);
                }
            });
            return this;
        };
        Transaction.prototype._promise = function (mode, fn, bWriteLock) {
            var _this = this;
            if (mode === 'readwrite' && this.mode !== 'readwrite')
                return rejection(new exceptions.ReadOnly("Transaction is readonly"));
            if (!this.active)
                return rejection(new exceptions.TransactionInactive());
            if (this._locked()) {
                return new DexiePromise(function (resolve, reject) {
                    _this._blockedFuncs.push([function () {
                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);
                        }, PSD]);
                });
            }
            else if (bWriteLock) {
                return newScope(function () {
                    var p = new DexiePromise(function (resolve, reject) {
                        _this._lock();
                        var rv = fn(resolve, reject, _this);
                        if (rv && rv.then)
                            rv.then(resolve, reject);
                    });
                    p.finally(function () { return _this._unlock(); });
                    p._lib = true;
                    return p;
                });
            }
            else {
                var p = new DexiePromise(function (resolve, reject) {
                    var rv = fn(resolve, reject, _this);
                    if (rv && rv.then)
                        rv.then(resolve, reject);
                });
                p._lib = true;
                return p;
            }
        };
        Transaction.prototype._root = function () {
            return this.parent ? this.parent._root() : this;
        };
        Transaction.prototype.waitFor = function (promiseLike) {
            var root = this._root();
            var promise = DexiePromise.resolve(promiseLike);
            if (root._waitingFor) {
                root._waitingFor = root._waitingFor.then(function () { return promise; });
            }
            else {
                root._waitingFor = promise;
                root._waitingQueue = [];
                var store = root.idbtrans.objectStore(root.storeNames[0]);
                (function spin() {
                    ++root._spinCount;
                    while (root._waitingQueue.length)
                        (root._waitingQueue.shift())();
                    if (root._waitingFor)
                        store.get(-Infinity).onsuccess = spin;
                }());
            }
            var currentWaitPromise = root._waitingFor;
            return new DexiePromise(function (resolve, reject) {
                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {
                    if (root._waitingFor === currentWaitPromise) {
                        root._waitingFor = null;
                    }
                });
            });
        };
        Transaction.prototype.abort = function () {
            if (this.active) {
                this.active = false;
                if (this.idbtrans)
                    this.idbtrans.abort();
                this._reject(new exceptions.Abort());
            }
        };
        Transaction.prototype.table = function (tableName) {
            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));
            if (hasOwn(memoizedTables, tableName))
                return memoizedTables[tableName];
            var tableSchema = this.schema[tableName];
            if (!tableSchema) {
                throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
            }
            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);
            transactionBoundTable.core = this.db.core.table(tableName);
            memoizedTables[tableName] = transactionBoundTable;
            return transactionBoundTable;
        };
        return Transaction;
    }());

    function createTransactionConstructor(db) {
        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {
            var _this = this;
            this.db = db;
            this.mode = mode;
            this.storeNames = storeNames;
            this.schema = dbschema;
            this.chromeTransactionDurability = chromeTransactionDurability;
            this.idbtrans = null;
            this.on = Events(this, "complete", "error", "abort");
            this.parent = parent || null;
            this.active = true;
            this._reculock = 0;
            this._blockedFuncs = [];
            this._resolve = null;
            this._reject = null;
            this._waitingFor = null;
            this._waitingQueue = null;
            this._spinCount = 0;
            this._completion = new DexiePromise(function (resolve, reject) {
                _this._resolve = resolve;
                _this._reject = reject;
            });
            this._completion.then(function () {
                _this.active = false;
                _this.on.complete.fire();
            }, function (e) {
                var wasActive = _this.active;
                _this.active = false;
                _this.on.error.fire(e);
                _this.parent ?
                    _this.parent._reject(e) :
                    wasActive && _this.idbtrans && _this.idbtrans.abort();
                return rejection(e);
            });
        });
    }

    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {
        return {
            name: name,
            keyPath: keyPath,
            unique: unique,
            multi: multi,
            auto: auto,
            compound: compound,
            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? "++" : "") + nameFromKeyPath(keyPath)
        };
    }
    function nameFromKeyPath(keyPath) {
        return typeof keyPath === 'string' ?
            keyPath :
            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : "";
    }

    function createTableSchema(name, primKey, indexes) {
        return {
            name: name,
            primKey: primKey,
            indexes: indexes,
            mappedClass: null,
            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })
        };
    }

    function safariMultiStoreFix(storeNames) {
        return storeNames.length === 1 ? storeNames[0] : storeNames;
    }
    var getMaxKey = function (IdbKeyRange) {
        try {
            IdbKeyRange.only([[]]);
            getMaxKey = function () { return [[]]; };
            return [[]];
        }
        catch (e) {
            getMaxKey = function () { return maxString; };
            return maxString;
        }
    };

    function getKeyExtractor(keyPath) {
        if (keyPath == null) {
            return function () { return undefined; };
        }
        else if (typeof keyPath === 'string') {
            return getSinglePathKeyExtractor(keyPath);
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }
    function getSinglePathKeyExtractor(keyPath) {
        var split = keyPath.split('.');
        if (split.length === 1) {
            return function (obj) { return obj[keyPath]; };
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }

    function arrayify(arrayLike) {
        return [].slice.call(arrayLike);
    }
    var _id_counter = 0;
    function getKeyPathAlias(keyPath) {
        return keyPath == null ?
            ":id" :
            typeof keyPath === 'string' ?
                keyPath :
                "[".concat(keyPath.join('+'), "]");
    }
    function createDBCore(db, IdbKeyRange, tmpTrans) {
        function extractSchema(db, trans) {
            var tables = arrayify(db.objectStoreNames);
            return {
                schema: {
                    name: db.name,
                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {
                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;
                        var compound = isArray(keyPath);
                        var outbound = keyPath == null;
                        var indexByKeyPath = {};
                        var result = {
                            name: store.name,
                            primaryKey: {
                                name: null,
                                isPrimaryKey: true,
                                outbound: outbound,
                                compound: compound,
                                keyPath: keyPath,
                                autoIncrement: autoIncrement,
                                unique: true,
                                extractKey: getKeyExtractor(keyPath)
                            },
                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })
                                .map(function (index) {
                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;
                                var compound = isArray(keyPath);
                                var result = {
                                    name: name,
                                    compound: compound,
                                    keyPath: keyPath,
                                    unique: unique,
                                    multiEntry: multiEntry,
                                    extractKey: getKeyExtractor(keyPath)
                                };
                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;
                                return result;
                            }),
                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }
                        };
                        indexByKeyPath[":id"] = result.primaryKey;
                        if (keyPath != null) {
                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;
                        }
                        return result;
                    })
                },
                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&
                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
                        !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
                        [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604)
            };
        }
        function makeIDBKeyRange(range) {
            if (range.type === 3 )
                return null;
            if (range.type === 4 )
                throw new Error("Cannot convert never type to IDBKeyRange");
            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;
            var idbRange = lower === undefined ?
                upper === undefined ?
                    null :
                    IdbKeyRange.upperBound(upper, !!upperOpen) :
                upper === undefined ?
                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :
                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);
            return idbRange;
        }
        function createDbCoreTable(tableSchema) {
            var tableName = tableSchema.name;
            function mutate(_a) {
                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var store = trans.objectStore(tableName);
                    var outbound = store.keyPath == null;
                    var isAddOrPut = type === "put" || type === "add";
                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')
                        throw new Error("Invalid operation type: " + type);
                    var length = (keys || values || { length: 1 }).length;
                    if (keys && values && keys.length !== values.length) {
                        throw new Error("Given keys array must have same length as given values array.");
                    }
                    if (length === 0)
                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });
                    var req;
                    var reqs = [];
                    var failures = [];
                    var numFailures = 0;
                    var errorHandler = function (event) {
                        ++numFailures;
                        preventDefault(event);
                    };
                    if (type === 'deleteRange') {
                        if (range.type === 4 )
                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });
                        if (range.type === 3 )
                            reqs.push(req = store.clear());
                        else
                            reqs.push(req = store.delete(makeIDBKeyRange(range)));
                    }
                    else {
                        var _a = isAddOrPut ?
                            outbound ?
                                [values, keys] :
                                [values, null] :
                            [keys, null], args1 = _a[0], args2 = _a[1];
                        if (isAddOrPut) {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = (args2 && args2[i] !== undefined ?
                                    store[type](args1[i], args2[i]) :
                                    store[type](args1[i])));
                                req.onerror = errorHandler;
                            }
                        }
                        else {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = store[type](args1[i]));
                                req.onerror = errorHandler;
                            }
                        }
                    }
                    var done = function (event) {
                        var lastResult = event.target.result;
                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });
                        resolve({
                            numFailures: numFailures,
                            failures: failures,
                            results: type === "delete" ? keys : reqs.map(function (req) { return req.result; }),
                            lastResult: lastResult
                        });
                    };
                    req.onerror = function (event) {
                        errorHandler(event);
                        done(event);
                    };
                    req.onsuccess = done;
                });
            }
            function openCursor(_a) {
                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var index = query.index, range = query.range;
                    var store = trans.objectStore(tableName);
                    var source = index.isPrimaryKey ?
                        store :
                        store.index(index.name);
                    var direction = reverse ?
                        unique ?
                            "prevunique" :
                            "prev" :
                        unique ?
                            "nextunique" :
                            "next";
                    var req = values || !('openKeyCursor' in source) ?
                        source.openCursor(makeIDBKeyRange(range), direction) :
                        source.openKeyCursor(makeIDBKeyRange(range), direction);
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function (ev) {
                        var cursor = req.result;
                        if (!cursor) {
                            resolve(null);
                            return;
                        }
                        cursor.___id = ++_id_counter;
                        cursor.done = false;
                        var _cursorContinue = cursor.continue.bind(cursor);
                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;
                        if (_cursorContinuePrimaryKey)
                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);
                        var _cursorAdvance = cursor.advance.bind(cursor);
                        var doThrowCursorIsNotStarted = function () { throw new Error("Cursor not started"); };
                        var doThrowCursorIsStopped = function () { throw new Error("Cursor not stopped"); };
                        cursor.trans = trans;
                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;
                        cursor.fail = wrap(reject);
                        cursor.next = function () {
                            var _this = this;
                            var gotOne = 1;
                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });
                        };
                        cursor.start = function (callback) {
                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {
                                resolveIteration = wrap(resolveIteration);
                                req.onerror = eventRejectHandler(rejectIteration);
                                cursor.fail = rejectIteration;
                                cursor.stop = function (value) {
                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;
                                    resolveIteration(value);
                                };
                            });
                            var guardedCallback = function () {
                                if (req.result) {
                                    try {
                                        callback();
                                    }
                                    catch (err) {
                                        cursor.fail(err);
                                    }
                                }
                                else {
                                    cursor.done = true;
                                    cursor.start = function () { throw new Error("Cursor behind last entry"); };
                                    cursor.stop();
                                }
                            };
                            req.onsuccess = wrap(function (ev) {
                                req.onsuccess = guardedCallback;
                                guardedCallback();
                            });
                            cursor.continue = _cursorContinue;
                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;
                            cursor.advance = _cursorAdvance;
                            guardedCallback();
                            return iterationPromise;
                        };
                        resolve(cursor);
                    }, reject);
                });
            }
            function query(hasGetAll) {
                return function (request) {
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;
                        var nonInfinitLimit = limit === Infinity ? undefined : limit;
                        var index = query.index, range = query.range;
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        if (limit === 0)
                            return resolve({ result: [] });
                        if (hasGetAll) {
                            var req = values ?
                                source.getAll(idbKeyRange, nonInfinitLimit) :
                                source.getAllKeys(idbKeyRange, nonInfinitLimit);
                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };
                            req.onerror = eventRejectHandler(reject);
                        }
                        else {
                            var count_1 = 0;
                            var req_1 = values || !('openKeyCursor' in source) ?
                                source.openCursor(idbKeyRange) :
                                source.openKeyCursor(idbKeyRange);
                            var result_1 = [];
                            req_1.onsuccess = function (event) {
                                var cursor = req_1.result;
                                if (!cursor)
                                    return resolve({ result: result_1 });
                                result_1.push(values ? cursor.value : cursor.primaryKey);
                                if (++count_1 === limit)
                                    return resolve({ result: result_1 });
                                cursor.continue();
                            };
                            req_1.onerror = eventRejectHandler(reject);
                        }
                    });
                };
            }
            return {
                name: tableName,
                schema: tableSchema,
                mutate: mutate,
                getMany: function (_a) {
                    var trans = _a.trans, keys = _a.keys;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var length = keys.length;
                        var result = new Array(length);
                        var keyCount = 0;
                        var callbackCount = 0;
                        var req;
                        var successHandler = function (event) {
                            var req = event.target;
                            if ((result[req._pos] = req.result) != null)
                                ;
                            if (++callbackCount === keyCount)
                                resolve(result);
                        };
                        var errorHandler = eventRejectHandler(reject);
                        for (var i = 0; i < length; ++i) {
                            var key = keys[i];
                            if (key != null) {
                                req = store.get(keys[i]);
                                req._pos = i;
                                req.onsuccess = successHandler;
                                req.onerror = errorHandler;
                                ++keyCount;
                            }
                        }
                        if (keyCount === 0)
                            resolve(result);
                    });
                },
                get: function (_a) {
                    var trans = _a.trans, key = _a.key;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var req = store.get(key);
                        req.onsuccess = function (event) { return resolve(event.target.result); };
                        req.onerror = eventRejectHandler(reject);
                    });
                },
                query: query(hasGetAll),
                openCursor: openCursor,
                count: function (_a) {
                    var query = _a.query, trans = _a.trans;
                    var index = query.index, range = query.range;
                    return new Promise(function (resolve, reject) {
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();
                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });
                        req.onerror = eventRejectHandler(reject);
                    });
                }
            };
        }
        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;
        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });
        var tableMap = {};
        tables.forEach(function (table) { return tableMap[table.name] = table; });
        return {
            stack: "dbcore",
            transaction: db.transaction.bind(db),
            table: function (name) {
                var result = tableMap[name];
                if (!result)
                    throw new Error("Table '".concat(name, "' not found"));
                return tableMap[name];
            },
            MIN_KEY: -Infinity,
            MAX_KEY: getMaxKey(IdbKeyRange),
            schema: schema
        };
    }

    function createMiddlewareStack(stackImpl, middlewares) {
        return middlewares.reduce(function (down, _a) {
            var create = _a.create;
            return (__assign(__assign({}, down), create(down)));
        }, stackImpl);
    }
    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {
        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;
        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);
        return {
            dbcore: dbcore
        };
    }
    function generateMiddlewareStacks(db, tmpTrans) {
        var idbdb = tmpTrans.db;
        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);
        db.core = stacks.dbcore;
        db.tables.forEach(function (table) {
            var tableName = table.name;
            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {
                table.core = db.core.table(tableName);
                if (db[tableName] instanceof db.Table) {
                    db[tableName].core = table.core;
                }
            }
        });
    }

    function setApiOnPlace(db, objs, tableNames, dbschema) {
        tableNames.forEach(function (tableName) {
            var schema = dbschema[tableName];
            objs.forEach(function (obj) {
                var propDesc = getPropertyDescriptor(obj, tableName);
                if (!propDesc || ("value" in propDesc && propDesc.value === undefined)) {
                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {
                        setProp(obj, tableName, {
                            get: function () { return this.table(tableName); },
                            set: function (value) {
                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });
                            }
                        });
                    }
                    else {
                        obj[tableName] = new db.Table(tableName, schema);
                    }
                }
            });
        });
    }
    function removeTablesApi(db, objs) {
        objs.forEach(function (obj) {
            for (var key in obj) {
                if (obj[key] instanceof db.Table)
                    delete obj[key];
            }
        });
    }
    function lowerVersionFirst(a, b) {
        return a._cfg.version - b._cfg.version;
    }
    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {
        var globalSchema = db._dbSchema;
        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {
            globalSchema.$meta = createTableSchema("$meta", parseIndexSyntax("")[0], []);
            db._storeNames.push('$meta');
        }
        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);
        trans.create(idbUpgradeTrans);
        trans._completion.catch(reject);
        var rejectTransaction = trans._reject.bind(trans);
        var transless = PSD.transless || PSD;
        newScope(function () {
            PSD.trans = trans;
            PSD.transless = transless;
            if (oldVersion === 0) {
                keys(globalSchema).forEach(function (tableName) {
                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);
                });
                generateMiddlewareStacks(db, idbUpgradeTrans);
                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);
            }
            else {
                generateMiddlewareStacks(db, idbUpgradeTrans);
                return getExistingVersion(db, trans, oldVersion)
                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })
                    .catch(rejectTransaction);
            }
        });
    }
    function patchCurrentVersion(db, idbUpgradeTrans) {
        createMissingTables(db._dbSchema, idbUpgradeTrans);
        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {
            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');
        }
        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);
        var diff = getSchemaDiff(globalSchema, db._dbSchema);
        var _loop_1 = function (tableChange) {
            if (tableChange.change.length || tableChange.recreate) {
                console.warn("Unable to patch indexes of table ".concat(tableChange.name, " because it has changes on the type of index or primary key."));
                return { value: void 0 };
            }
            var store = idbUpgradeTrans.objectStore(tableChange.name);
            tableChange.add.forEach(function (idx) {
                if (debug)
                    console.debug("Dexie upgrade patch: Creating missing index ".concat(tableChange.name, ".").concat(idx.src));
                addIndex(store, idx);
            });
        };
        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {
            var tableChange = _a[_i];
            var state_1 = _loop_1(tableChange);
            if (typeof state_1 === "object")
                return state_1.value;
        }
    }
    function getExistingVersion(db, trans, oldVersion) {
        if (trans.storeNames.includes('$meta')) {
            return trans.table('$meta').get('version').then(function (metaVersion) {
                return metaVersion != null ? metaVersion : oldVersion;
            });
        }
        else {
            return DexiePromise.resolve(oldVersion);
        }
    }
    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {
        var queue = [];
        var versions = db._versions;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });
        if (versToRun.length === 0) {
            return DexiePromise.resolve();
        }
        versToRun.forEach(function (version) {
            queue.push(function () {
                var oldSchema = globalSchema;
                var newSchema = version._cfg.dbschema;
                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);
                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);
                globalSchema = db._dbSchema = newSchema;
                var diff = getSchemaDiff(oldSchema, newSchema);
                diff.add.forEach(function (tuple) {
                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);
                });
                diff.change.forEach(function (change) {
                    if (change.recreate) {
                        throw new exceptions.Upgrade("Not yet support for changing primary key");
                    }
                    else {
                        var store_1 = idbUpgradeTrans.objectStore(change.name);
                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });
                        change.change.forEach(function (idx) {
                            store_1.deleteIndex(idx.name);
                            addIndex(store_1, idx);
                        });
                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });
                    }
                });
                var contentUpgrade = version._cfg.contentUpgrade;
                if (contentUpgrade && version._cfg.version > oldVersion) {
                    generateMiddlewareStacks(db, idbUpgradeTrans);
                    trans._memoizedTables = {};
                    var upgradeSchema_1 = shallowClone(newSchema);
                    diff.del.forEach(function (table) {
                        upgradeSchema_1[table] = oldSchema[table];
                    });
                    removeTablesApi(db, [db.Transaction.prototype]);
                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);
                    trans.schema = upgradeSchema_1;
                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);
                    if (contentUpgradeIsAsync_1) {
                        incrementExpectedAwaits();
                    }
                    var returnValue_1;
                    var promiseFollowed = DexiePromise.follow(function () {
                        returnValue_1 = contentUpgrade(trans);
                        if (returnValue_1) {
                            if (contentUpgradeIsAsync_1) {
                                var decrementor = decrementExpectedAwaits.bind(null, null);
                                returnValue_1.then(decrementor, decrementor);
                            }
                        }
                    });
                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?
                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));
                }
            });
            queue.push(function (idbtrans) {
                var newSchema = version._cfg.dbschema;
                deleteRemovedTables(newSchema, idbtrans);
                removeTablesApi(db, [db.Transaction.prototype]);
                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);
                trans.schema = db._dbSchema;
            });
            queue.push(function (idbtrans) {
                if (db.idbdb.objectStoreNames.contains('$meta')) {
                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {
                        db.idbdb.deleteObjectStore('$meta');
                        delete db._dbSchema.$meta;
                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });
                    }
                    else {
                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');
                    }
                }
            });
        });
        function runQueue() {
            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :
                DexiePromise.resolve();
        }
        return runQueue().then(function () {
            createMissingTables(globalSchema, idbUpgradeTrans);
        });
    }
    function getSchemaDiff(oldSchema, newSchema) {
        var diff = {
            del: [],
            add: [],
            change: []
        };
        var table;
        for (table in oldSchema) {
            if (!newSchema[table])
                diff.del.push(table);
        }
        for (table in newSchema) {
            var oldDef = oldSchema[table], newDef = newSchema[table];
            if (!oldDef) {
                diff.add.push([table, newDef]);
            }
            else {
                var change = {
                    name: table,
                    def: newDef,
                    recreate: false,
                    del: [],
                    add: [],
                    change: []
                };
                if ((
                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||
                    (oldDef.primKey.auto !== newDef.primKey.auto)) {
                    change.recreate = true;
                    diff.change.push(change);
                }
                else {
                    var oldIndexes = oldDef.idxByName;
                    var newIndexes = newDef.idxByName;
                    var idxName = void 0;
                    for (idxName in oldIndexes) {
                        if (!newIndexes[idxName])
                            change.del.push(idxName);
                    }
                    for (idxName in newIndexes) {
                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];
                        if (!oldIdx)
                            change.add.push(newIdx);
                        else if (oldIdx.src !== newIdx.src)
                            change.change.push(newIdx);
                    }
                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {
                        diff.change.push(change);
                    }
                }
            }
        }
        return diff;
    }
    function createTable(idbtrans, tableName, primKey, indexes) {
        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?
            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :
            { autoIncrement: primKey.auto });
        indexes.forEach(function (idx) { return addIndex(store, idx); });
        return store;
    }
    function createMissingTables(newSchema, idbtrans) {
        keys(newSchema).forEach(function (tableName) {
            if (!idbtrans.db.objectStoreNames.contains(tableName)) {
                if (debug)
                    console.debug('Dexie: Creating missing table', tableName);
                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);
            }
        });
    }
    function deleteRemovedTables(newSchema, idbtrans) {
        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {
            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);
        });
    }
    function addIndex(store, idx) {
        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });
    }
    function buildGlobalSchema(db, idbdb, tmpTrans) {
        var globalSchema = {};
        var dbStoreNames = slice(idbdb.objectStoreNames, 0);
        dbStoreNames.forEach(function (storeName) {
            var store = tmpTrans.objectStore(storeName);
            var keyPath = store.keyPath;
            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || "", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== "string", true);
            var indexes = [];
            for (var j = 0; j < store.indexNames.length; ++j) {
                var idbindex = store.index(store.indexNames[j]);
                keyPath = idbindex.keyPath;
                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== "string", false);
                indexes.push(index);
            }
            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);
        });
        return globalSchema;
    }
    function readGlobalSchema(db, idbdb, tmpTrans) {
        db.verno = idbdb.version / 10;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);
        db._storeNames = slice(idbdb.objectStoreNames, 0);
        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);
    }
    function verifyInstalledSchema(db, tmpTrans) {
        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);
        var diff = getSchemaDiff(installedSchema, db._dbSchema);
        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));
    }
    function adjustToExistingIndexNames(db, schema, idbtrans) {
        var storeNames = idbtrans.db.objectStoreNames;
        for (var i = 0; i < storeNames.length; ++i) {
            var storeName = storeNames[i];
            var store = idbtrans.objectStore(storeName);
            db._hasGetAll = 'getAll' in store;
            for (var j = 0; j < store.indexNames.length; ++j) {
                var indexName = store.indexNames[j];
                var keyPath = store.index(indexName).keyPath;
                var dexieName = typeof keyPath === 'string' ? keyPath : "[" + slice(keyPath).join('+') + "]";
                if (schema[storeName]) {
                    var indexSpec = schema[storeName].idxByName[dexieName];
                    if (indexSpec) {
                        indexSpec.name = indexName;
                        delete schema[storeName].idxByName[dexieName];
                        schema[storeName].idxByName[indexName] = indexSpec;
                    }
                }
            }
        }
        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
            !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&
            [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) {
            db._hasGetAll = false;
        }
    }
    function parseIndexSyntax(primKeyAndIndexes) {
        return primKeyAndIndexes.split(',').map(function (index, indexNum) {
            index = index.trim();
            var name = index.replace(/([&*]|\+\+)/g, "");
            var keyPath = /^\[/.test(name) ? name.match(/^\[(.*)\]$/)[1].split('+') : name;
            return createIndexSpec(name, keyPath || null, /\&/.test(index), /\*/.test(index), /\+\+/.test(index), isArray(keyPath), indexNum === 0);
        });
    }

    var Version =  (function () {
        function Version() {
        }
        Version.prototype._parseStoresSpec = function (stores, outSchema) {
            keys(stores).forEach(function (tableName) {
                if (stores[tableName] !== null) {
                    var indexes = parseIndexSyntax(stores[tableName]);
                    var primKey = indexes.shift();
                    primKey.unique = true;
                    if (primKey.multi)
                        throw new exceptions.Schema("Primary key cannot be multi-valued");
                    indexes.forEach(function (idx) {
                        if (idx.auto)
                            throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");
                        if (!idx.keyPath)
                            throw new exceptions.Schema("Index must have a name and cannot be an empty string");
                    });
                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);
                }
            });
        };
        Version.prototype.stores = function (stores) {
            var db = this.db;
            this._cfg.storesSource = this._cfg.storesSource ?
                extend(this._cfg.storesSource, stores) :
                stores;
            var versions = db._versions;
            var storesSpec = {};
            var dbschema = {};
            versions.forEach(function (version) {
                extend(storesSpec, version._cfg.storesSource);
                dbschema = (version._cfg.dbschema = {});
                version._parseStoresSpec(storesSpec, dbschema);
            });
            db._dbSchema = dbschema;
            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);
            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);
            db._storeNames = keys(dbschema);
            return this;
        };
        Version.prototype.upgrade = function (upgradeFunction) {
            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);
            return this;
        };
        return Version;
    }());

    function createVersionConstructor(db) {
        return makeClassConstructor(Version.prototype, function Version(versionNumber) {
            this.db = db;
            this._cfg = {
                version: versionNumber,
                storesSource: null,
                dbschema: {},
                tables: {},
                contentUpgrade: null
            };
        });
    }

    function getDbNamesTable(indexedDB, IDBKeyRange) {
        var dbNamesDB = indexedDB["_dbNamesDB"];
        if (!dbNamesDB) {
            dbNamesDB = indexedDB["_dbNamesDB"] = new Dexie$1(DBNAMES_DB, {
                addons: [],
                indexedDB: indexedDB,
                IDBKeyRange: IDBKeyRange,
            });
            dbNamesDB.version(1).stores({ dbnames: "name" });
        }
        return dbNamesDB.table("dbnames");
    }
    function hasDatabasesNative(indexedDB) {
        return indexedDB && typeof indexedDB.databases === "function";
    }
    function getDatabaseNames(_a) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        return hasDatabasesNative(indexedDB)
            ? Promise.resolve(indexedDB.databases()).then(function (infos) {
                return infos
                    .map(function (info) { return info.name; })
                    .filter(function (name) { return name !== DBNAMES_DB; });
            })
            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();
    }
    function _onDatabaseCreated(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);
    }
    function _onDatabaseDeleted(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);
    }

    function vip(fn) {
        return newScope(function () {
            PSD.letThrough = true;
            return fn();
        });
    }

    function idbReady() {
        var isSafari = !navigator.userAgentData &&
            /Safari\//.test(navigator.userAgent) &&
            !/Chrom(e|ium)\//.test(navigator.userAgent);
        if (!isSafari || !indexedDB.databases)
            return Promise.resolve();
        var intervalId;
        return new Promise(function (resolve) {
            var tryIdb = function () { return indexedDB.databases().finally(resolve); };
            intervalId = setInterval(tryIdb, 100);
            tryIdb();
        }).finally(function () { return clearInterval(intervalId); });
    }

    var _a;
    function isEmptyRange(node) {
        return !("from" in node);
    }
    var RangeSet = function (fromOrTree, to) {
        if (this) {
            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });
        }
        else {
            var rv = new RangeSet();
            if (fromOrTree && ("d" in fromOrTree)) {
                extend(rv, fromOrTree);
            }
            return rv;
        }
    };
    props(RangeSet.prototype, (_a = {
            add: function (rangeSet) {
                mergeRanges(this, rangeSet);
                return this;
            },
            addKey: function (key) {
                addRange(this, key, key);
                return this;
            },
            addKeys: function (keys) {
                var _this = this;
                keys.forEach(function (key) { return addRange(_this, key, key); });
                return this;
            },
            hasKey: function (key) {
                var node = getRangeSetIterator(this).next(key).value;
                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;
            }
        },
        _a[iteratorSymbol] = function () {
            return getRangeSetIterator(this);
        },
        _a));
    function addRange(target, from, to) {
        var diff = cmp(from, to);
        if (isNaN(diff))
            return;
        if (diff > 0)
            throw RangeError();
        if (isEmptyRange(target))
            return extend(target, { from: from, to: to, d: 1 });
        var left = target.l;
        var right = target.r;
        if (cmp(to, target.from) < 0) {
            left
                ? addRange(left, from, to)
                : (target.l = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.to) > 0) {
            right
                ? addRange(right, from, to)
                : (target.r = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.from) < 0) {
            target.from = from;
            target.l = null;
            target.d = right ? right.d + 1 : 1;
        }
        if (cmp(to, target.to) > 0) {
            target.to = to;
            target.r = null;
            target.d = target.l ? target.l.d + 1 : 1;
        }
        var rightWasCutOff = !target.r;
        if (left && !target.l) {
            mergeRanges(target, left);
        }
        if (right && rightWasCutOff) {
            mergeRanges(target, right);
        }
    }
    function mergeRanges(target, newSet) {
        function _addRangeSet(target, _a) {
            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;
            addRange(target, from, to);
            if (l)
                _addRangeSet(target, l);
            if (r)
                _addRangeSet(target, r);
        }
        if (!isEmptyRange(newSet))
            _addRangeSet(target, newSet);
    }
    function rangesOverlap(rangeSet1, rangeSet2) {
        var i1 = getRangeSetIterator(rangeSet2);
        var nextResult1 = i1.next();
        if (nextResult1.done)
            return false;
        var a = nextResult1.value;
        var i2 = getRangeSetIterator(rangeSet1);
        var nextResult2 = i2.next(a.from);
        var b = nextResult2.value;
        while (!nextResult1.done && !nextResult2.done) {
            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)
                return true;
            cmp(a.from, b.from) < 0
                ? (a = (nextResult1 = i1.next(b.from)).value)
                : (b = (nextResult2 = i2.next(a.from)).value);
        }
        return false;
    }
    function getRangeSetIterator(node) {
        var state = isEmptyRange(node) ? null : { s: 0, n: node };
        return {
            next: function (key) {
                var keyProvided = arguments.length > 0;
                while (state) {
                    switch (state.s) {
                        case 0:
                            state.s = 1;
                            if (keyProvided) {
                                while (state.n.l && cmp(key, state.n.from) < 0)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                            else {
                                while (state.n.l)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                        case 1:
                            state.s = 2;
                            if (!keyProvided || cmp(key, state.n.to) <= 0)
                                return { value: state.n, done: false };
                        case 2:
                            if (state.n.r) {
                                state.s = 3;
                                state = { up: state, n: state.n.r, s: 0 };
                                continue;
                            }
                        case 3:
                            state = state.up;
                    }
                }
                return { done: true };
            },
        };
    }
    function rebalance(target) {
        var _a, _b;
        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);
        var r = diff > 1 ? "r" : diff < -1 ? "l" : "";
        if (r) {
            var l = r === "r" ? "l" : "r";
            var rootClone = __assign({}, target);
            var oldRootRight = target[r];
            target.from = oldRootRight.from;
            target.to = oldRootRight.to;
            target[r] = oldRootRight[r];
            rootClone[r] = oldRootRight[l];
            target[l] = rootClone;
            rootClone.d = computeDepth(rootClone);
        }
        target.d = computeDepth(target);
    }
    function computeDepth(_a) {
        var r = _a.r, l = _a.l;
        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;
    }

    function extendObservabilitySet(target, newSet) {
        keys(newSet).forEach(function (part) {
            if (target[part])
                mergeRanges(target[part], newSet[part]);
            else
                target[part] = cloneSimpleObjectTree(newSet[part]);
        });
        return target;
    }

    function obsSetsOverlap(os1, os2) {
        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });
    }

    var cache = {};

    var unsignaledParts = {};
    var isTaskEnqueued = false;
    function signalSubscribersLazily(part, optimistic) {
        extendObservabilitySet(unsignaledParts, part);
        if (!isTaskEnqueued) {
            isTaskEnqueued = true;
            setTimeout(function () {
                isTaskEnqueued = false;
                var parts = unsignaledParts;
                unsignaledParts = {};
                signalSubscribersNow(parts, false);
            }, 0);
        }
    }
    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {
        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }
        var queriesToSignal = new Set();
        if (updatedParts.all) {
            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {
                var tblCache = _a[_i];
                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
            }
        }
        else {
            for (var key in updatedParts) {
                var parts = /^idb\:\/\/(.*)\/(.*)\//.exec(key);
                if (parts) {
                    var dbName = parts[1], tableName = parts[2];
                    var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                    if (tblCache)
                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
                }
            }
        }
        queriesToSignal.forEach(function (requery) { return requery(); });
    }
    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {
        var updatedEntryLists = [];
        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {
            var _b = _a[_i], indexName = _b[0], entries = _b[1];
            var filteredEntries = [];
            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {
                var entry = entries_1[_c];
                if (obsSetsOverlap(updatedParts, entry.obsSet)) {
                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });
                }
                else if (deleteAffectedCacheEntries) {
                    filteredEntries.push(entry);
                }
            }
            if (deleteAffectedCacheEntries)
                updatedEntryLists.push([indexName, filteredEntries]);
        }
        if (deleteAffectedCacheEntries) {
            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {
                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];
                tblCache.queries.query[indexName] = filteredEntries;
            }
        }
    }

    function dexieOpen(db) {
        var state = db._state;
        var indexedDB = db._deps.indexedDB;
        if (state.isBeingOpened || db.idbdb)
            return state.dbReadyPromise.then(function () { return state.dbOpenError ?
                rejection(state.dbOpenError) :
                db; });
        state.isBeingOpened = true;
        state.dbOpenError = null;
        state.openComplete = false;
        var openCanceller = state.openCanceller;
        var nativeVerToOpen = Math.round(db.verno * 10);
        var schemaPatchMode = false;
        function throwIfCancelled() {
            if (state.openCanceller !== openCanceller)
                throw new exceptions.DatabaseClosed('db.open() was cancelled');
        }
        var resolveDbReady = state.dbReadyResolve,
        upgradeTransaction = null, wasCreated = false;
        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {
            throwIfCancelled();
            if (!indexedDB)
                throw new exceptions.MissingAPI();
            var dbName = db.name;
            var req = state.autoSchema || !nativeVerToOpen ?
                indexedDB.open(dbName) :
                indexedDB.open(dbName, nativeVerToOpen);
            if (!req)
                throw new exceptions.MissingAPI();
            req.onerror = eventRejectHandler(reject);
            req.onblocked = wrap(db._fireOnBlocked);
            req.onupgradeneeded = wrap(function (e) {
                upgradeTransaction = req.transaction;
                if (state.autoSchema && !db._options.allowEmptyDB) {
                    req.onerror = preventDefault;
                    upgradeTransaction.abort();
                    req.result.close();
                    var delreq = indexedDB.deleteDatabase(dbName);
                    delreq.onsuccess = delreq.onerror = wrap(function () {
                        reject(new exceptions.NoSuchDatabase("Database ".concat(dbName, " doesnt exist")));
                    });
                }
                else {
                    upgradeTransaction.onerror = eventRejectHandler(reject);
                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;
                    wasCreated = oldVer < 1;
                    db.idbdb = req.result;
                    if (schemaPatchMode) {
                        patchCurrentVersion(db, upgradeTransaction);
                    }
                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);
                }
            }, reject);
            req.onsuccess = wrap(function () {
                upgradeTransaction = null;
                var idbdb = db.idbdb = req.result;
                var objectStoreNames = slice(idbdb.objectStoreNames);
                if (objectStoreNames.length > 0)
                    try {
                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');
                        if (state.autoSchema)
                            readGlobalSchema(db, idbdb, tmpTrans);
                        else {
                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);
                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {
                                console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.");
                                idbdb.close();
                                nativeVerToOpen = idbdb.version + 1;
                                schemaPatchMode = true;
                                return resolve(tryOpenDB());
                            }
                        }
                        generateMiddlewareStacks(db, tmpTrans);
                    }
                    catch (e) {
                    }
                connections.push(db);
                idbdb.onversionchange = wrap(function (ev) {
                    state.vcFired = true;
                    db.on("versionchange").fire(ev);
                });
                idbdb.onclose = wrap(function (ev) {
                    db.on("close").fire(ev);
                });
                if (wasCreated)
                    _onDatabaseCreated(db._deps, dbName);
                resolve();
            }, reject);
        }).catch(function (err) {
            switch (err === null || err === void 0 ? void 0 : err.name) {
                case "UnknownError":
                    if (state.PR1398_maxLoop > 0) {
                        state.PR1398_maxLoop--;
                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');
                        return tryOpenDB();
                    }
                    break;
                case "VersionError":
                    if (nativeVerToOpen > 0) {
                        nativeVerToOpen = 0;
                        return tryOpenDB();
                    }
                    break;
            }
            return DexiePromise.reject(err);
        }); };
        return DexiePromise.race([
            openCanceller,
            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)
        ]).then(function () {
            throwIfCancelled();
            state.onReadyBeingFired = [];
            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {
                if (state.onReadyBeingFired.length > 0) {
                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);
                    state.onReadyBeingFired = [];
                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);
                }
            });
        }).finally(function () {
            if (state.openCanceller === openCanceller) {
                state.onReadyBeingFired = null;
                state.isBeingOpened = false;
            }
        }).catch(function (err) {
            state.dbOpenError = err;
            try {
                upgradeTransaction && upgradeTransaction.abort();
            }
            catch (_a) { }
            if (openCanceller === state.openCanceller) {
                db._close();
            }
            return rejection(err);
        }).finally(function () {
            state.openComplete = true;
            resolveDbReady();
        }).then(function () {
            if (wasCreated) {
                var everything_1 = {};
                db.tables.forEach(function (table) {
                    table.schema.indexes.forEach(function (idx) {
                        if (idx.name)
                            everything_1["idb://".concat(db.name, "/").concat(table.name, "/").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);
                    });
                    everything_1["idb://".concat(db.name, "/").concat(table.name, "/")] = everything_1["idb://".concat(db.name, "/").concat(table.name, "/:dels")] = new RangeSet(-Infinity, [[[]]]);
                });
                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);
                signalSubscribersNow(everything_1, true);
            }
            return db;
        });
    }

    function awaitIterator(iterator) {
        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);
        function step(getNext) {
            return function (val) {
                var next = getNext(val), value = next.value;
                return next.done ? value :
                    (!value || typeof value.then !== 'function' ?
                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :
                        value.then(onSuccess, onError));
            };
        }
        return step(callNext)();
    }

    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {
        var i = arguments.length;
        if (i < 2)
            throw new exceptions.InvalidArgument("Too few arguments");
        var args = new Array(i - 1);
        while (--i)
            args[i - 1] = arguments[i];
        scopeFunc = args.pop();
        var tables = flatten(args);
        return [mode, tables, scopeFunc];
    }
    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {
        return DexiePromise.resolve().then(function () {
            var transless = PSD.transless || PSD;
            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);
            trans.explicit = true;
            var zoneProps = {
                trans: trans,
                transless: transless
            };
            if (parentTransaction) {
                trans.idbtrans = parentTransaction.idbtrans;
            }
            else {
                try {
                    trans.create();
                    trans.idbtrans._explicit = true;
                    db._state.PR1398_maxLoop = 3;
                }
                catch (ex) {
                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                        console.warn('Dexie: Need to reopen db');
                        db.close({ disableAutoOpen: false });
                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });
                    }
                    return rejection(ex);
                }
            }
            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);
            if (scopeFuncIsAsync) {
                incrementExpectedAwaits();
            }
            var returnValue;
            var promiseFollowed = DexiePromise.follow(function () {
                returnValue = scopeFunc.call(trans, trans);
                if (returnValue) {
                    if (scopeFuncIsAsync) {
                        var decrementor = decrementExpectedAwaits.bind(null, null);
                        returnValue.then(decrementor, decrementor);
                    }
                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {
                        returnValue = awaitIterator(returnValue);
                    }
                }
            }, zoneProps);
            return (returnValue && typeof returnValue.then === 'function' ?
                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?
                    x
                    : rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")); })
                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {
                if (parentTransaction)
                    trans._resolve();
                return trans._completion.then(function () { return x; });
            }).catch(function (e) {
                trans._reject(e);
                return rejection(e);
            });
        });
    }

    function pad(a, value, count) {
        var result = isArray(a) ? a.slice() : [a];
        for (var i = 0; i < count; ++i)
            result.push(value);
        return result;
    }
    function createVirtualIndexMiddleware(down) {
        return __assign(__assign({}, down), { table: function (tableName) {
                var table = down.table(tableName);
                var schema = table.schema;
                var indexLookup = {};
                var allVirtualIndexes = [];
                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {
                    var keyPathAlias = getKeyPathAlias(keyPath);
                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);
                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;
                    var isVirtual = keyTail > 0;
                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual
                            ? "".concat(keyPathAlias, "(virtual-from:").concat(lowLevelIndex.name, ")")
                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });
                    indexList.push(virtualIndex);
                    if (!virtualIndex.isPrimaryKey) {
                        allVirtualIndexes.push(virtualIndex);
                    }
                    if (keyLength > 1) {
                        var virtualKeyPath = keyLength === 2 ?
                            keyPath[0] :
                            keyPath.slice(0, keyLength - 1);
                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);
                    }
                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });
                    return virtualIndex;
                }
                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);
                indexLookup[":id"] = [primaryKey];
                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {
                    var index = _a[_i];
                    addVirtualIndexes(index.keyPath, 0, index);
                }
                function findBestIndex(keyPath) {
                    var result = indexLookup[getKeyPathAlias(keyPath)];
                    return result && result[0];
                }
                function translateRange(range, keyTail) {
                    return {
                        type: range.type === 1  ?
                            2  :
                            range.type,
                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),
                        lowerOpen: true,
                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),
                        upperOpen: true
                    };
                }
                function translateRequest(req) {
                    var index = req.query.index;
                    return index.isVirtual ? __assign(__assign({}, req), { query: {
                            index: index.lowLevelIndex,
                            range: translateRange(req.query.range, index.keyTail)
                        } }) : req;
                }
                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {
                        return table.count(translateRequest(req));
                    }, query: function (req) {
                        return table.query(translateRequest(req));
                    }, openCursor: function (req) {
                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;
                        if (!isVirtual)
                            return table.openCursor(req);
                        function createVirtualCursor(cursor) {
                            function _continue(key) {
                                key != null ?
                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :
                                    req.unique ?
                                        cursor.continue(cursor.key.slice(0, keyLength)
                                            .concat(req.reverse
                                            ? down.MIN_KEY
                                            : down.MAX_KEY, keyTail)) :
                                        cursor.continue();
                            }
                            var virtualCursor = Object.create(cursor, {
                                continue: { value: _continue },
                                continuePrimaryKey: {
                                    value: function (key, primaryKey) {
                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);
                                    }
                                },
                                primaryKey: {
                                    get: function () {
                                        return cursor.primaryKey;
                                    }
                                },
                                key: {
                                    get: function () {
                                        var key = cursor.key;
                                        return keyLength === 1 ?
                                            key[0] :
                                            key.slice(0, keyLength);
                                    }
                                },
                                value: {
                                    get: function () {
                                        return cursor.value;
                                    }
                                }
                            });
                            return virtualCursor;
                        }
                        return table.openCursor(translateRequest(req))
                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });
                    } });
                return result;
            } });
    }
    var virtualIndexMiddleware = {
        stack: "dbcore",
        name: "VirtualIndexMiddleware",
        level: 1,
        create: createVirtualIndexMiddleware
    };

    function getObjectDiff(a, b, rv, prfx) {
        rv = rv || {};
        prfx = prfx || '';
        keys(a).forEach(function (prop) {
            if (!hasOwn(b, prop)) {
                rv[prfx + prop] = undefined;
            }
            else {
                var ap = a[prop], bp = b[prop];
                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {
                    var apTypeName = toStringTag(ap);
                    var bpTypeName = toStringTag(bp);
                    if (apTypeName !== bpTypeName) {
                        rv[prfx + prop] = b[prop];
                    }
                    else if (apTypeName === 'Object') {
                        getObjectDiff(ap, bp, rv, prfx + prop + '.');
                    }
                    else if (ap !== bp) {
                        rv[prfx + prop] = b[prop];
                    }
                }
                else if (ap !== bp)
                    rv[prfx + prop] = b[prop];
            }
        });
        keys(b).forEach(function (prop) {
            if (!hasOwn(a, prop)) {
                rv[prfx + prop] = b[prop];
            }
        });
        return rv;
    }

    function getEffectiveKeys(primaryKey, req) {
        if (req.type === 'delete')
            return req.keys;
        return req.keys || req.values.map(primaryKey.extractKey);
    }

    var hooksMiddleware = {
        stack: "dbcore",
        name: "HooksMiddleware",
        level: 2,
        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {
                var downTable = downCore.table(tableName);
                var primaryKey = downTable.schema.primaryKey;
                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {
                        var dxTrans = PSD.trans;
                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;
                        switch (req.type) {
                            case 'add':
                                if (creating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'put':
                                if (creating.fire === nop && updating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'delete':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'deleteRange':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);
                        }
                        return downTable.mutate(req);
                        function addPutOrDelete(req) {
                            var dxTrans = PSD.trans;
                            var keys = req.keys || getEffectiveKeys(primaryKey, req);
                            if (!keys)
                                throw new Error("Keys missing");
                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);
                            if (req.type !== 'delete')
                                req.values = __spreadArray([], req.values, true);
                            if (req.keys)
                                req.keys = __spreadArray([], req.keys, true);
                            return getExistingValues(downTable, req, keys).then(function (existingValues) {
                                var contexts = keys.map(function (key, i) {
                                    var existingValue = existingValues[i];
                                    var ctx = { onerror: null, onsuccess: null };
                                    if (req.type === 'delete') {
                                        deleting.fire.call(ctx, key, existingValue, dxTrans);
                                    }
                                    else if (req.type === 'add' || existingValue === undefined) {
                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);
                                        if (key == null && generatedPrimaryKey != null) {
                                            key = generatedPrimaryKey;
                                            req.keys[i] = key;
                                            if (!primaryKey.outbound) {
                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);
                                            }
                                        }
                                    }
                                    else {
                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);
                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);
                                        if (additionalChanges_1) {
                                            var requestedValue_1 = req.values[i];
                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {
                                                if (hasOwn(requestedValue_1, keyPath)) {
                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];
                                                }
                                                else {
                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);
                                                }
                                            });
                                        }
                                    }
                                    return ctx;
                                });
                                return downTable.mutate(req).then(function (_a) {
                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;
                                    for (var i = 0; i < keys.length; ++i) {
                                        var primKey = results ? results[i] : keys[i];
                                        var ctx = contexts[i];
                                        if (primKey == null) {
                                            ctx.onerror && ctx.onerror(failures[i]);
                                        }
                                        else {
                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?
                                                req.values[i] :
                                                primKey
                                            );
                                        }
                                    }
                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };
                                }).catch(function (error) {
                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });
                                    return Promise.reject(error);
                                });
                            });
                        }
                        function deleteRange(req) {
                            return deleteNextChunk(req.trans, req.range, 10000);
                        }
                        function deleteNextChunk(trans, range, limit) {
                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })
                                .then(function (_a) {
                                var result = _a.result;
                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {
                                    if (res.numFailures > 0)
                                        return Promise.reject(res.failures[0]);
                                    if (result.length < limit) {
                                        return { failures: [], numFailures: 0, lastResult: undefined };
                                    }
                                    else {
                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);
                                    }
                                });
                            });
                        }
                    } });
                return tableMiddleware;
            } })); }
    };
    function getExistingValues(table, req, effectiveKeys) {
        return req.type === "add"
            ? Promise.resolve([])
            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: "immutable" });
    }

    function getFromTransactionCache(keys, cache, clone) {
        try {
            if (!cache)
                return null;
            if (cache.keys.length < keys.length)
                return null;
            var result = [];
            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {
                if (cmp(cache.keys[i], keys[j]) !== 0)
                    continue;
                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);
                ++j;
            }
            return result.length === keys.length ? result : null;
        }
        catch (_a) {
            return null;
        }
    }
    var cacheExistingValuesMiddleware = {
        stack: "dbcore",
        level: -1,
        create: function (core) {
            return {
                table: function (tableName) {
                    var table = core.table(tableName);
                    return __assign(__assign({}, table), { getMany: function (req) {
                            if (!req.cache) {
                                return table.getMany(req);
                            }
                            var cachedResult = getFromTransactionCache(req.keys, req.trans["_cache"], req.cache === "clone");
                            if (cachedResult) {
                                return DexiePromise.resolve(cachedResult);
                            }
                            return table.getMany(req).then(function (res) {
                                req.trans["_cache"] = {
                                    keys: req.keys,
                                    values: req.cache === "clone" ? deepClone(res) : res,
                                };
                                return res;
                            });
                        }, mutate: function (req) {
                            if (req.type !== "add")
                                req.trans["_cache"] = null;
                            return table.mutate(req);
                        } });
                },
            };
        },
    };

    function isCachableContext(ctx, table) {
        return (ctx.trans.mode === 'readonly' &&
            !!ctx.subscr &&
            !ctx.trans.explicit &&
            ctx.trans.db._options.cache !== 'disabled' &&
            !table.schema.primaryKey.outbound);
    }

    function isCachableRequest(type, req) {
        switch (type) {
            case 'query':
                return req.values && !req.unique;
            case 'get':
                return false;
            case 'getMany':
                return false;
            case 'count':
                return false;
            case 'openCursor':
                return false;
        }
    }

    var observabilityMiddleware = {
        stack: "dbcore",
        level: 0,
        name: "Observability",
        create: function (core) {
            var dbName = core.schema.name;
            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);
            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    if (PSD.subscr && mode !== 'readonly') {
                        throw new exceptions.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(PSD.querier));
                    }
                    return core.transaction(stores, mode, options);
                }, table: function (tableName) {
                    var table = core.table(tableName);
                    var schema = table.schema;
                    var primaryKey = schema.primaryKey, indexes = schema.indexes;
                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;
                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });
                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {
                            var _a, _b;
                            var trans = req.trans;
                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});
                            var getRangeSet = function (indexName) {
                                var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                return (mutatedParts[part] ||
                                    (mutatedParts[part] = new RangeSet()));
                            };
                            var pkRangeSet = getRangeSet("");
                            var delsRangeSet = getRangeSet(":dels");
                            var type = req.type;
                            var _c = req.type === "deleteRange"
                                ? [req.range]
                                : req.type === "delete"
                                    ? [req.keys]
                                    : req.values.length < 50
                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]
                                        : [], keys = _c[0], newObjs = _c[1];
                            var oldCache = req.trans["_cache"];
                            if (isArray(keys)) {
                                pkRangeSet.addKeys(keys);
                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;
                                if (!oldObjs) {
                                    delsRangeSet.addKeys(keys);
                                }
                                if (oldObjs || newObjs) {
                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);
                                }
                            }
                            else if (keys) {
                                var range = {
                                    from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,
                                    to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY
                                };
                                delsRangeSet.add(range);
                                pkRangeSet.add(range);
                            }
                            else {
                                pkRangeSet.add(FULL_RANGE);
                                delsRangeSet.add(FULL_RANGE);
                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });
                            }
                            return table.mutate(req).then(function (res) {
                                if (keys && (req.type === 'add' || req.type === 'put')) {
                                    pkRangeSet.addKeys(res.results);
                                    if (indexesWithAutoIncPK) {
                                        indexesWithAutoIncPK.forEach(function (idx) {
                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });
                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });
                                            for (var i = 0, len = res.results.length; i < len; ++i) {
                                                idxVals[i][pkPos] = res.results[i];
                                            }
                                            getRangeSet(idx.name).addKeys(idxVals);
                                        });
                                    }
                                }
                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);
                                return res;
                            });
                        } });
                    var getRange = function (_a) {
                        var _b, _c;
                        var _d = _a.query, index = _d.index, range = _d.range;
                        return [
                            index,
                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),
                        ];
                    };
                    var readSubscribers = {
                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },
                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },
                        count: getRange,
                        query: getRange,
                        openCursor: getRange,
                    };
                    keys(readSubscribers).forEach(function (method) {
                        tableClone[method] = function (req) {
                            var subscr = PSD.subscr;
                            var isLiveQuery = !!subscr;
                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);
                            var obsSet = cachable
                                ? req.obsSet = {}
                                : subscr;
                            if (isLiveQuery) {
                                var getRangeSet = function (indexName) {
                                    var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                    return (obsSet[part] ||
                                        (obsSet[part] = new RangeSet()));
                                };
                                var pkRangeSet_1 = getRangeSet("");
                                var delsRangeSet_1 = getRangeSet(":dels");
                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];
                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {
                                    delsRangeSet_1.add(queriedRanges);
                                }
                                else {
                                    getRangeSet(queriedIndex.name || "").add(queriedRanges);
                                }
                                if (!queriedIndex.isPrimaryKey) {
                                    if (method === "count") {
                                        delsRangeSet_1.add(FULL_RANGE);
                                    }
                                    else {
                                        var keysPromise_1 = method === "query" &&
                                            outbound &&
                                            req.values &&
                                            table.query(__assign(__assign({}, req), { values: false }));
                                        return table[method].apply(this, arguments).then(function (res) {
                                            if (method === "query") {
                                                if (outbound && req.values) {
                                                    return keysPromise_1.then(function (_a) {
                                                        var resultingKeys = _a.result;
                                                        pkRangeSet_1.addKeys(resultingKeys);
                                                        return res;
                                                    });
                                                }
                                                var pKeys = req.values
                                                    ? res.result.map(extractKey)
                                                    : res.result;
                                                if (req.values) {
                                                    pkRangeSet_1.addKeys(pKeys);
                                                }
                                                else {
                                                    delsRangeSet_1.addKeys(pKeys);
                                                }
                                            }
                                            else if (method === "openCursor") {
                                                var cursor_1 = res;
                                                var wantValues_1 = req.values;
                                                return (cursor_1 &&
                                                    Object.create(cursor_1, {
                                                        key: {
                                                            get: function () {
                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.key;
                                                            },
                                                        },
                                                        primaryKey: {
                                                            get: function () {
                                                                var pkey = cursor_1.primaryKey;
                                                                delsRangeSet_1.addKey(pkey);
                                                                return pkey;
                                                            },
                                                        },
                                                        value: {
                                                            get: function () {
                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.value;
                                                            },
                                                        },
                                                    }));
                                            }
                                            return res;
                                        });
                                    }
                                }
                            }
                            return table[method].apply(this, arguments);
                        };
                    });
                    return tableClone;
                } });
        },
    };
    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {
        function addAffectedIndex(ix) {
            var rangeSet = getRangeSet(ix.name || "");
            function extractKey(obj) {
                return obj != null ? ix.extractKey(obj) : null;
            }
            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)
                ? key.forEach(function (key) { return rangeSet.addKey(key); })
                : rangeSet.addKey(key); };
            (oldObjs || newObjs).forEach(function (_, i) {
                var oldKey = oldObjs && extractKey(oldObjs[i]);
                var newKey = newObjs && extractKey(newObjs[i]);
                if (cmp(oldKey, newKey) !== 0) {
                    if (oldKey != null)
                        addKeyOrKeys(oldKey);
                    if (newKey != null)
                        addKeyOrKeys(newKey);
                }
            });
        }
        schema.indexes.forEach(addAffectedIndex);
    }

    function adjustOptimisticFromFailures(tblCache, req, res) {
        if (res.numFailures === 0)
            return req;
        if (req.type === 'deleteRange') {
            return null;
        }
        var numBulkOps = req.keys
            ? req.keys.length
            : 'values' in req && req.values
                ? req.values.length
                : 1;
        if (res.numFailures === numBulkOps) {
            return null;
        }
        var clone = __assign({}, req);
        if (isArray(clone.keys)) {
            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });
        }
        if ('values' in clone && isArray(clone.values)) {
            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });
        }
        return clone;
    }

    function isAboveLower(key, range) {
        return range.lower === undefined
            ? true
            : range.lowerOpen
                ? cmp(key, range.lower) > 0
                : cmp(key, range.lower) >= 0;
    }
    function isBelowUpper(key, range) {
        return range.upper === undefined
            ? true
            : range.upperOpen
                ? cmp(key, range.upper) < 0
                : cmp(key, range.upper) <= 0;
    }
    function isWithinRange(key, range) {
        return isAboveLower(key, range) && isBelowUpper(key, range);
    }

    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {
        if (!ops || ops.length === 0)
            return result;
        var index = req.query.index;
        var multiEntry = index.multiEntry;
        var queryRange = req.query.range;
        var primaryKey = table.schema.primaryKey;
        var extractPrimKey = primaryKey.extractKey;
        var extractIndex = index.extractKey;
        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;
        var finalResult = ops.reduce(function (result, op) {
            var modifedResult = result;
            var includedValues = [];
            if (op.type === 'add' || op.type === 'put') {
                var includedPKs = new RangeSet();
                for (var i = op.values.length - 1; i >= 0; --i) {
                    var value = op.values[i];
                    var pk = extractPrimKey(value);
                    if (includedPKs.hasKey(pk))
                        continue;
                    var key = extractIndex(value);
                    if (multiEntry && isArray(key)
                        ? key.some(function (k) { return isWithinRange(k, queryRange); })
                        : isWithinRange(key, queryRange)) {
                        includedPKs.addKey(pk);
                        includedValues.push(value);
                    }
                }
            }
            switch (op.type) {
                case 'add': {
                    var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) { return extractPrimKey(v); }) : result);
                    modifedResult = result.concat(req.values
                        ? includedValues.filter(function (v) {
                            var key = extractPrimKey(v);
                            if (existingKeys_1.hasKey(key))
                                return false;
                            existingKeys_1.addKey(key);
                            return true;
                        })
                        : includedValues
                            .map(function (v) { return extractPrimKey(v); })
                            .filter(function (k) {
                            if (existingKeys_1.hasKey(k))
                                return false;
                            existingKeys_1.addKey(k);
                            return true;
                        }));
                    break;
                }
                case 'put': {
                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));
                    modifedResult = result
                        .filter(
                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })
                        .concat(
                    req.values
                        ? includedValues
                        : includedValues.map(function (v) { return extractPrimKey(v); }));
                    break;
                }
                case 'delete':
                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);
                    modifedResult = result.filter(function (item) {
                        return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);
                    });
                    break;
                case 'deleteRange':
                    var range_1 = op.range;
                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });
                    break;
            }
            return modifedResult;
        }, result);
        if (finalResult === result)
            return result;
        finalResult.sort(function (a, b) {
            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||
                cmp(extractPrimKey(a), extractPrimKey(b));
        });
        if (req.limit && req.limit < Infinity) {
            if (finalResult.length > req.limit) {
                finalResult.length = req.limit;
            }
            else if (result.length === req.limit && finalResult.length < req.limit) {
                cacheEntry.dirty = true;
            }
        }
        return immutable ? Object.freeze(finalResult) : finalResult;
    }

    function areRangesEqual(r1, r2) {
        return (cmp(r1.lower, r2.lower) === 0 &&
            cmp(r1.upper, r2.upper) === 0 &&
            !!r1.lowerOpen === !!r2.lowerOpen &&
            !!r1.upperOpen === !!r2.upperOpen);
    }

    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {
        if (lower1 === undefined)
            return lower2 !== undefined ? -1 : 0;
        if (lower2 === undefined)
            return 1;
        var c = cmp(lower1, lower2);
        if (c === 0) {
            if (lowerOpen1 && lowerOpen2)
                return 0;
            if (lowerOpen1)
                return 1;
            if (lowerOpen2)
                return -1;
        }
        return c;
    }
    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {
        if (upper1 === undefined)
            return upper2 !== undefined ? 1 : 0;
        if (upper2 === undefined)
            return -1;
        var c = cmp(upper1, upper2);
        if (c === 0) {
            if (upperOpen1 && upperOpen2)
                return 0;
            if (upperOpen1)
                return -1;
            if (upperOpen2)
                return 1;
        }
        return c;
    }
    function isSuperRange(r1, r2) {
        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&
            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);
    }

    function findCompatibleQuery(dbName, tableName, type, req) {
        var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
        if (!tblCache)
            return [];
        var queries = tblCache.queries[type];
        if (!queries)
            return [null, false, tblCache, null];
        var indexName = req.query ? req.query.index.name : null;
        var entries = queries[indexName || ''];
        if (!entries)
            return [null, false, tblCache, null];
        switch (type) {
            case 'query':
                var equalEntry = entries.find(function (entry) {
                    return entry.req.limit === req.limit &&
                        entry.req.values === req.values &&
                        areRangesEqual(entry.req.query.range, req.query.range);
                });
                if (equalEntry)
                    return [
                        equalEntry,
                        true,
                        tblCache,
                        entries,
                    ];
                var superEntry = entries.find(function (entry) {
                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;
                    return (limit >= req.limit &&
                        (req.values ? entry.req.values : true) &&
                        isSuperRange(entry.req.query.range, req.query.range));
                });
                return [superEntry, false, tblCache, entries];
            case 'count':
                var countQuery = entries.find(function (entry) {
                    return areRangesEqual(entry.req.query.range, req.query.range);
                });
                return [countQuery, !!countQuery, tblCache, entries];
        }
    }

    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {
        cacheEntry.subscribers.add(requery);
        signal.addEventListener("abort", function () {
            cacheEntry.subscribers.delete(requery);
            if (cacheEntry.subscribers.size === 0) {
                enqueForDeletion(cacheEntry, container);
            }
        });
    }
    function enqueForDeletion(cacheEntry, container) {
        setTimeout(function () {
            if (cacheEntry.subscribers.size === 0) {
                delArrayItem(container, cacheEntry);
            }
        }, 3000);
    }

    var cacheMiddleware = {
        stack: 'dbcore',
        level: 0,
        name: 'Cache',
        create: function (core) {
            var dbName = core.schema.name;
            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    var idbtrans = core.transaction(stores, mode, options);
                    if (mode === 'readwrite') {
                        var ac_1 = new AbortController();
                        var signal = ac_1.signal;
                        var endTransaction = function (wasCommitted) { return function () {
                            ac_1.abort();
                            if (mode === 'readwrite') {
                                var affectedSubscribers_1 = new Set();
                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {
                                    var storeName = stores_1[_i];
                                    var tblCache = cache["idb://".concat(dbName, "/").concat(storeName)];
                                    if (tblCache) {
                                        var table = core.table(storeName);
                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });
                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {
                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {
                                                var entries = _b[_a];
                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {
                                                    var entry = _d[_c];
                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {
                                                        delArrayItem(entries, entry);
                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                    }
                                                }
                                            }
                                        }
                                        else if (ops.length > 0) {
                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });
                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {
                                                var entries = _f[_e];
                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {
                                                    var entry = _h[_g];
                                                    if (entry.res != null &&
                                                        idbtrans.mutatedParts
    ) {
                                                        if (wasCommitted && !entry.dirty) {
                                                            var freezeResults = Object.isFrozen(entry.res);
                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                            }
                                                            else if (modRes !== entry.res) {
                                                                entry.res = modRes;
                                                                entry.promise = DexiePromise.resolve({ result: modRes });
                                                            }
                                                        }
                                                        else {
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                            }
                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                affectedSubscribers_1.forEach(function (requery) { return requery(); });
                            }
                        }; };
                        idbtrans.addEventListener('abort', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('error', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('complete', endTransaction(true), {
                            signal: signal,
                        });
                    }
                    return idbtrans;
                }, table: function (tableName) {
                    var downTable = core.table(tableName);
                    var primKey = downTable.schema.primaryKey;
                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {
                            var trans = PSD.trans;
                            if (primKey.outbound ||
                                trans.db._options.cache === 'disabled' ||
                                trans.explicit ||
                                trans.idbtrans.mode !== 'readwrite'
                            ) {
                                return downTable.mutate(req);
                            }
                            var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                            if (!tblCache)
                                return downTable.mutate(req);
                            var promise = downTable.mutate(req);
                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {
                                promise.then(function (res) {
                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {
                                            var _a;
                                            if (res.failures[i])
                                                return value;
                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))
                                                ? deepClone(value)
                                                : __assign({}, value);
                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);
                                            return valueWithKey;
                                        }) });
                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);
                                    tblCache.optimisticOps.push(adjustedReq);
                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });
                                });
                            }
                            else {
                                tblCache.optimisticOps.push(req);
                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                promise.then(function (res) {
                                    if (res.numFailures > 0) {
                                        delArrayItem(tblCache.optimisticOps, req);
                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);
                                        if (adjustedReq) {
                                            tblCache.optimisticOps.push(adjustedReq);
                                        }
                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                    }
                                });
                                promise.catch(function () {
                                    delArrayItem(tblCache.optimisticOps, req);
                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                });
                            }
                            return promise;
                        }, query: function (req) {
                            var _a;
                            if (!isCachableContext(PSD, downTable) || !isCachableRequest("query", req))
                                return downTable.query(req);
                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';
                            var _b = PSD, requery = _b.requery, signal = _b.signal;
                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];
                            if (cacheEntry && exactMatch) {
                                cacheEntry.obsSet = req.obsSet;
                            }
                            else {
                                var promise = downTable.query(req).then(function (res) {
                                    var result = res.result;
                                    if (cacheEntry)
                                        cacheEntry.res = result;
                                    if (freezeResults) {
                                        for (var i = 0, l = result.length; i < l; ++i) {
                                            Object.freeze(result[i]);
                                        }
                                        Object.freeze(result);
                                    }
                                    else {
                                        res.result = deepClone(result);
                                    }
                                    return res;
                                }).catch(function (error) {
                                    if (container && cacheEntry)
                                        delArrayItem(container, cacheEntry);
                                    return Promise.reject(error);
                                });
                                cacheEntry = {
                                    obsSet: req.obsSet,
                                    promise: promise,
                                    subscribers: new Set(),
                                    type: 'query',
                                    req: req,
                                    dirty: false,
                                };
                                if (container) {
                                    container.push(cacheEntry);
                                }
                                else {
                                    container = [cacheEntry];
                                    if (!tblCache) {
                                        tblCache = cache["idb://".concat(dbName, "/").concat(tableName)] = {
                                            queries: {
                                                query: {},
                                                count: {},
                                            },
                                            objs: new Map(),
                                            optimisticOps: [],
                                            unsignaledParts: {}
                                        };
                                    }
                                    tblCache.queries.query[req.query.index.name || ''] = container;
                                }
                            }
                            subscribeToCacheEntry(cacheEntry, container, requery, signal);
                            return cacheEntry.promise.then(function (res) {
                                return {
                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),
                                };
                            });
                        } });
                    return tableMW;
                } });
            return coreMW;
        },
    };

    function vipify(target, vipDb) {
        return new Proxy(target, {
            get: function (target, prop, receiver) {
                if (prop === 'db')
                    return vipDb;
                return Reflect.get(target, prop, receiver);
            }
        });
    }

    var Dexie$1 =  (function () {
        function Dexie(name, options) {
            var _this = this;
            this._middlewares = {};
            this.verno = 0;
            var deps = Dexie.dependencies;
            this._options = options = __assign({
                addons: Dexie.addons, autoOpen: true,
                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);
            this._deps = {
                indexedDB: options.indexedDB,
                IDBKeyRange: options.IDBKeyRange
            };
            var addons = options.addons;
            this._dbSchema = {};
            this._versions = [];
            this._storeNames = [];
            this._allTables = {};
            this.idbdb = null;
            this._novip = this;
            var state = {
                dbOpenError: null,
                isBeingOpened: false,
                onReadyBeingFired: null,
                openComplete: false,
                dbReadyResolve: nop,
                dbReadyPromise: null,
                cancelOpen: nop,
                openCanceller: null,
                autoSchema: true,
                PR1398_maxLoop: 3,
                autoOpen: options.autoOpen,
            };
            state.dbReadyPromise = new DexiePromise(function (resolve) {
                state.dbReadyResolve = resolve;
            });
            state.openCanceller = new DexiePromise(function (_, reject) {
                state.cancelOpen = reject;
            });
            this._state = state;
            this.name = name;
            this.on = Events(this, "populate", "blocked", "versionchange", "close", { ready: [promisableChain, nop] });
            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {
                return function (subscriber, bSticky) {
                    Dexie.vip(function () {
                        var state = _this._state;
                        if (state.openComplete) {
                            if (!state.dbOpenError)
                                DexiePromise.resolve().then(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else if (state.onReadyBeingFired) {
                            state.onReadyBeingFired.push(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else {
                            subscribe(subscriber);
                            var db_1 = _this;
                            if (!bSticky)
                                subscribe(function unsubscribe() {
                                    db_1.on.ready.unsubscribe(subscriber);
                                    db_1.on.ready.unsubscribe(unsubscribe);
                                });
                        }
                    });
                };
            });
            this.Collection = createCollectionConstructor(this);
            this.Table = createTableConstructor(this);
            this.Transaction = createTransactionConstructor(this);
            this.Version = createVersionConstructor(this);
            this.WhereClause = createWhereClauseConstructor(this);
            this.on("versionchange", function (ev) {
                if (ev.newVersion > 0)
                    console.warn("Another connection wants to upgrade database '".concat(_this.name, "'. Closing db now to resume the upgrade."));
                else
                    console.warn("Another connection wants to delete database '".concat(_this.name, "'. Closing db now to resume the delete request."));
                _this.close({ disableAutoOpen: false });
            });
            this.on("blocked", function (ev) {
                if (!ev.newVersion || ev.newVersion < ev.oldVersion)
                    console.warn("Dexie.delete('".concat(_this.name, "') was blocked"));
                else
                    console.warn("Upgrade '".concat(_this.name, "' blocked by other connection holding version ").concat(ev.oldVersion / 10));
            });
            this._maxKey = getMaxKey(options.IDBKeyRange);
            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };
            this._fireOnBlocked = function (ev) {
                _this.on("blocked").fire(ev);
                connections
                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })
                    .map(function (c) { return c.on("versionchange").fire(ev); });
            };
            this.use(cacheExistingValuesMiddleware);
            this.use(cacheMiddleware);
            this.use(observabilityMiddleware);
            this.use(virtualIndexMiddleware);
            this.use(hooksMiddleware);
            var vipDB = new Proxy(this, {
                get: function (_, prop, receiver) {
                    if (prop === '_vip')
                        return true;
                    if (prop === 'table')
                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };
                    var rv = Reflect.get(_, prop, receiver);
                    if (rv instanceof Table)
                        return vipify(rv, vipDB);
                    if (prop === 'tables')
                        return rv.map(function (t) { return vipify(t, vipDB); });
                    if (prop === '_createTransaction')
                        return function () {
                            var tx = rv.apply(this, arguments);
                            return vipify(tx, vipDB);
                        };
                    return rv;
                }
            });
            this.vip = vipDB;
            addons.forEach(function (addon) { return addon(_this); });
        }
        Dexie.prototype.version = function (versionNumber) {
            if (isNaN(versionNumber) || versionNumber < 0.1)
                throw new exceptions.Type("Given version is not a positive number");
            versionNumber = Math.round(versionNumber * 10) / 10;
            if (this.idbdb || this._state.isBeingOpened)
                throw new exceptions.Schema("Cannot add version when database is open");
            this.verno = Math.max(this.verno, versionNumber);
            var versions = this._versions;
            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];
            if (versionInstance)
                return versionInstance;
            versionInstance = new this.Version(versionNumber);
            versions.push(versionInstance);
            versions.sort(lowerVersionFirst);
            versionInstance.stores({});
            this._state.autoSchema = false;
            return versionInstance;
        };
        Dexie.prototype._whenReady = function (fn) {
            var _this = this;
            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {
                if (_this._state.openComplete) {
                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));
                }
                if (!_this._state.isBeingOpened) {
                    if (!_this._state.autoOpen) {
                        reject(new exceptions.DatabaseClosed());
                        return;
                    }
                    _this.open().catch(nop);
                }
                _this._state.dbReadyPromise.then(resolve, reject);
            }).then(fn);
        };
        Dexie.prototype.use = function (_a) {
            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;
            if (name)
                this.unuse({ stack: stack, name: name });
            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);
            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });
            middlewares.sort(function (a, b) { return a.level - b.level; });
            return this;
        };
        Dexie.prototype.unuse = function (_a) {
            var stack = _a.stack, name = _a.name, create = _a.create;
            if (stack && this._middlewares[stack]) {
                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {
                    return create ? mw.create !== create :
                        name ? mw.name !== name :
                            false;
                });
            }
            return this;
        };
        Dexie.prototype.open = function () {
            var _this = this;
            return usePSD(globalPSD,
            function () { return dexieOpen(_this); });
        };
        Dexie.prototype._close = function () {
            var state = this._state;
            var idx = connections.indexOf(this);
            if (idx >= 0)
                connections.splice(idx, 1);
            if (this.idbdb) {
                try {
                    this.idbdb.close();
                }
                catch (e) { }
                this.idbdb = null;
            }
            if (!state.isBeingOpened) {
                state.dbReadyPromise = new DexiePromise(function (resolve) {
                    state.dbReadyResolve = resolve;
                });
                state.openCanceller = new DexiePromise(function (_, reject) {
                    state.cancelOpen = reject;
                });
            }
        };
        Dexie.prototype.close = function (_a) {
            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;
            var state = this._state;
            if (disableAutoOpen) {
                if (state.isBeingOpened) {
                    state.cancelOpen(new exceptions.DatabaseClosed());
                }
                this._close();
                state.autoOpen = false;
                state.dbOpenError = new exceptions.DatabaseClosed();
            }
            else {
                this._close();
                state.autoOpen = this._options.autoOpen ||
                    state.isBeingOpened;
                state.openComplete = false;
                state.dbOpenError = null;
            }
        };
        Dexie.prototype.delete = function (closeOptions) {
            var _this = this;
            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }
            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';
            var state = this._state;
            return new DexiePromise(function (resolve, reject) {
                var doDelete = function () {
                    _this.close(closeOptions);
                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);
                    req.onsuccess = wrap(function () {
                        _onDatabaseDeleted(_this._deps, _this.name);
                        resolve();
                    });
                    req.onerror = eventRejectHandler(reject);
                    req.onblocked = _this._fireOnBlocked;
                };
                if (hasInvalidArguments)
                    throw new exceptions.InvalidArgument("Invalid closeOptions argument to db.delete()");
                if (state.isBeingOpened) {
                    state.dbReadyPromise.then(doDelete);
                }
                else {
                    doDelete();
                }
            });
        };
        Dexie.prototype.backendDB = function () {
            return this.idbdb;
        };
        Dexie.prototype.isOpen = function () {
            return this.idbdb !== null;
        };
        Dexie.prototype.hasBeenClosed = function () {
            var dbOpenError = this._state.dbOpenError;
            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');
        };
        Dexie.prototype.hasFailed = function () {
            return this._state.dbOpenError !== null;
        };
        Dexie.prototype.dynamicallyOpened = function () {
            return this._state.autoSchema;
        };
        Object.defineProperty(Dexie.prototype, "tables", {
            get: function () {
                var _this = this;
                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });
            },
            enumerable: false,
            configurable: true
        });
        Dexie.prototype.transaction = function () {
            var args = extractTransactionArgs.apply(this, arguments);
            return this._transaction.apply(this, args);
        };
        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {
            var _this = this;
            var parentTransaction = PSD.trans;
            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)
                parentTransaction = null;
            var onlyIfCompatible = mode.indexOf('?') !== -1;
            mode = mode.replace('!', '').replace('?', '');
            var idbMode, storeNames;
            try {
                storeNames = tables.map(function (table) {
                    var storeName = table instanceof _this.Table ? table.name : table;
                    if (typeof storeName !== 'string')
                        throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");
                    return storeName;
                });
                if (mode == "r" || mode === READONLY)
                    idbMode = READONLY;
                else if (mode == "rw" || mode == READWRITE)
                    idbMode = READWRITE;
                else
                    throw new exceptions.InvalidArgument("Invalid transaction mode: " + mode);
                if (parentTransaction) {
                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {
                        if (onlyIfCompatible) {
                            parentTransaction = null;
                        }
                        else
                            throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
                    }
                    if (parentTransaction) {
                        storeNames.forEach(function (storeName) {
                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {
                                if (onlyIfCompatible) {
                                    parentTransaction = null;
                                }
                                else
                                    throw new exceptions.SubTransaction("Table " + storeName +
                                        " not included in parent transaction.");
                            }
                        });
                    }
                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {
                        parentTransaction = null;
                    }
                }
            }
            catch (e) {
                return parentTransaction ?
                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :
                    rejection(e);
            }
            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);
            return (parentTransaction ?
                parentTransaction._promise(idbMode, enterTransaction, "lock") :
                PSD.trans ?
                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :
                    this._whenReady(enterTransaction));
        };
        Dexie.prototype.table = function (tableName) {
            if (!hasOwn(this._allTables, tableName)) {
                throw new exceptions.InvalidTable("Table ".concat(tableName, " does not exist"));
            }
            return this._allTables[tableName];
        };
        return Dexie;
    }());

    var symbolObservable = typeof Symbol !== "undefined" && "observable" in Symbol
        ? Symbol.observable
        : "@@observable";
    var Observable =  (function () {
        function Observable(subscribe) {
            this._subscribe = subscribe;
        }
        Observable.prototype.subscribe = function (x, error, complete) {
            return this._subscribe(!x || typeof x === "function" ? { next: x, error: error, complete: complete } : x);
        };
        Observable.prototype[symbolObservable] = function () {
            return this;
        };
        return Observable;
    }());

    var domDeps;
    try {
        domDeps = {
            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,
            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange
        };
    }
    catch (e) {
        domDeps = { indexedDB: null, IDBKeyRange: null };
    }

    function liveQuery(querier) {
        var hasValue = false;
        var currentValue;
        var observable = new Observable(function (observer) {
            var scopeFuncIsAsync = isAsyncFunction(querier);
            function execute(ctx) {
                var wasRootExec = beginMicroTickScope();
                try {
                    if (scopeFuncIsAsync) {
                        incrementExpectedAwaits();
                    }
                    var rv = newScope(querier, ctx);
                    if (scopeFuncIsAsync) {
                        rv = rv.finally(decrementExpectedAwaits);
                    }
                    return rv;
                }
                finally {
                    wasRootExec && endMicroTickScope();
                }
            }
            var closed = false;
            var abortController;
            var accumMuts = {};
            var currentObs = {};
            var subscription = {
                get closed() {
                    return closed;
                },
                unsubscribe: function () {
                    if (closed)
                        return;
                    closed = true;
                    if (abortController)
                        abortController.abort();
                    if (startedListening)
                        globalEvents.storagemutated.unsubscribe(mutationListener);
                },
            };
            observer.start && observer.start(subscription);
            var startedListening = false;
            var doQuery = function () { return execInGlobalContext(_doQuery); };
            function shouldNotify() {
                return obsSetsOverlap(currentObs, accumMuts);
            }
            var mutationListener = function (parts) {
                extendObservabilitySet(accumMuts, parts);
                if (shouldNotify()) {
                    doQuery();
                }
            };
            var _doQuery = function () {
                if (closed ||
                    !domDeps.indexedDB)
                 {
                    return;
                }
                accumMuts = {};
                var subscr = {};
                if (abortController)
                    abortController.abort();
                abortController = new AbortController();
                var ctx = {
                    subscr: subscr,
                    signal: abortController.signal,
                    requery: doQuery,
                    querier: querier,
                    trans: null
                };
                var ret = execute(ctx);
                Promise.resolve(ret).then(function (result) {
                    hasValue = true;
                    currentValue = result;
                    if (closed || ctx.signal.aborted) {
                        return;
                    }
                    accumMuts = {};
                    currentObs = subscr;
                    if (!objectIsEmpty(currentObs) && !startedListening) {
                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);
                        startedListening = true;
                    }
                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });
                }, function (err) {
                    hasValue = false;
                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {
                        if (!closed)
                            execInGlobalContext(function () {
                                if (closed)
                                    return;
                                observer.error && observer.error(err);
                            });
                    }
                });
            };
            setTimeout(doQuery, 0);
            return subscription;
        });
        observable.hasValue = function () { return hasValue; };
        observable.getValue = function () { return currentValue; };
        return observable;
    }

    var Dexie = Dexie$1;
    props(Dexie, __assign(__assign({}, fullNameExceptions), {
        delete: function (databaseName) {
            var db = new Dexie(databaseName, { addons: [] });
            return db.delete();
        },
        exists: function (name) {
            return new Dexie(name, { addons: [] }).open().then(function (db) {
                db.close();
                return true;
            }).catch('NoSuchDatabaseError', function () { return false; });
        },
        getDatabaseNames: function (cb) {
            try {
                return getDatabaseNames(Dexie.dependencies).then(cb);
            }
            catch (_a) {
                return rejection(new exceptions.MissingAPI());
            }
        },
        defineClass: function () {
            function Class(content) {
                extend(this, content);
            }
            return Class;
        }, ignoreTransaction: function (scopeFunc) {
            return PSD.trans ?
                usePSD(PSD.transless, scopeFunc) :
                scopeFunc();
        }, vip: vip, async: function (generatorFn) {
            return function () {
                try {
                    var rv = awaitIterator(generatorFn.apply(this, arguments));
                    if (!rv || typeof rv.then !== 'function')
                        return DexiePromise.resolve(rv);
                    return rv;
                }
                catch (e) {
                    return rejection(e);
                }
            };
        }, spawn: function (generatorFn, args, thiz) {
            try {
                var rv = awaitIterator(generatorFn.apply(thiz, args || []));
                if (!rv || typeof rv.then !== 'function')
                    return DexiePromise.resolve(rv);
                return rv;
            }
            catch (e) {
                return rejection(e);
            }
        },
        currentTransaction: {
            get: function () { return PSD.trans || null; }
        }, waitFor: function (promiseOrFunction, optionalTimeout) {
            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?
                Dexie.ignoreTransaction(promiseOrFunction) :
                promiseOrFunction)
                .timeout(optionalTimeout || 60000);
            return PSD.trans ?
                PSD.trans.waitFor(promise) :
                promise;
        },
        Promise: DexiePromise,
        debug: {
            get: function () { return debug; },
            set: function (value) {
                setDebug(value);
            }
        },
        derive: derive, extend: extend, props: props, override: override,
        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,
        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,
        minKey: minKey,
        addons: [],
        connections: connections,
        errnames: errnames,
        dependencies: domDeps, cache: cache,
        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')
            .map(function (n) { return parseInt(n); })
            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));
    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);

    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {
            if (!propagatingLocally) {
                var event_1;
                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {
                    detail: updatedParts
                });
                propagatingLocally = true;
                dispatchEvent(event_1);
                propagatingLocally = false;
            }
        });
        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {
            var detail = _a.detail;
            if (!propagatingLocally) {
                propagateLocally(detail);
            }
        });
    }
    function propagateLocally(updateParts) {
        var wasMe = propagatingLocally;
        try {
            propagatingLocally = true;
            globalEvents.storagemutated.fire(updateParts);
            signalSubscribersNow(updateParts, true);
        }
        finally {
            propagatingLocally = wasMe;
        }
    }
    var propagatingLocally = false;

    var bc;
    var createBC = function () { };
    if (typeof BroadcastChannel !== 'undefined') {
        createBC = function () {
            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);
            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };
        };
        createBC();
        if (typeof bc.unref === 'function') {
            bc.unref();
        }
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {
            if (!propagatingLocally) {
                bc.postMessage(changedParts);
            }
        });
    }

    if (typeof addEventListener !== 'undefined') {
        addEventListener('pagehide', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pagehide');
                bc === null || bc === void 0 ? void 0 : bc.close();
                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {
                    var db = connections_1[_i];
                    db.close({ disableAutoOpen: false });
                }
            }
        });
        addEventListener('pageshow', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pageshow');
                createBC();
                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });
            }
        });
    }

    function add(value) {
        return new PropModification({ add: value });
    }

    function remove(value) {
        return new PropModification({ remove: value });
    }

    function replacePrefix(a, b) {
        return new PropModification({ replacePrefix: [a, b] });
    }

    DexiePromise.rejectionMapper = mapError;
    setDebug(debug);

    var namedExports = /*#__PURE__*/Object.freeze({
        __proto__: null,
        Dexie: Dexie$1,
        liveQuery: liveQuery,
        Entity: Entity,
        cmp: cmp,
        PropModification: PropModification,
        replacePrefix: replacePrefix,
        add: add,
        remove: remove,
        'default': Dexie$1,
        RangeSet: RangeSet,
        mergeRanges: mergeRanges,
        rangesOverlap: rangesOverlap
    });

    __assign(Dexie$1, namedExports, { default: Dexie$1 });

    return Dexie$1;

}));
//# sourceMappingURL=dexie.js.map


/***/ }),

/***/ "../../node_modules/dexie/import-wrapper.mjs":
/*!***************************************************!*\
  !*** ../../node_modules/dexie/import-wrapper.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dexie: () => (/* binding */ Dexie),
/* harmony export */   Entity: () => (/* binding */ Entity),
/* harmony export */   PropModification: () => (/* binding */ PropModification),
/* harmony export */   RangeSet: () => (/* binding */ RangeSet),
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   cmp: () => (/* binding */ cmp),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   liveQuery: () => (/* binding */ liveQuery),
/* harmony export */   mergeRanges: () => (/* binding */ mergeRanges),
/* harmony export */   rangesOverlap: () => (/* binding */ rangesOverlap),
/* harmony export */   remove: () => (/* binding */ remove),
/* harmony export */   replacePrefix: () => (/* binding */ replacePrefix)
/* harmony export */ });
/* harmony import */ var _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/dexie.js */ "../../node_modules/dexie/dist/dexie.js");
// Making the module version consumable via require - to prohibit
// multiple occurrancies of the same module in the same app
// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)

const DexieSymbol = Symbol.for("Dexie");
const Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__);
if (_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer !== Dexie.semVer) {
    throw new Error(`Two different versions of Dexie loaded in the same app: ${_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer} and ${Dexie.semVer}`);
}
const { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity,
    PropModification, replacePrefix, add, remove } = Dexie;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dexie);


/***/ }),

/***/ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! void-elements */ "../../node_modules/void-elements/index.js");
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(void_elements__WEBPACK_IMPORTED_MODULE_0__);
var t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n(n){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=n.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],((void_elements__WEBPACK_IMPORTED_MODULE_0___default())[i[1]]||"/"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=n.indexOf("--\x3e");return{type:"comment",comment:-1!==s?n.slice(4,s):""}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf("<")){var u=e.indexOf("<");c.push({type:"text",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!=="</"+a.name+">")return;m=!1}var u,f="/"!==r.charAt(1),h=r.startsWith("\x3c!--"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,"tag"===(a=n(r)).type&&t.components[a.name]&&(a.type="component",m=!0),a.voidElement||m||!d||"<"===d||a.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&"<"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf("<",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=" "),(x>-1&&l+u.length>=0||" "!==g)&&u.push({type:"text",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a("",t)},"")}};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (c);
//# sourceMappingURL=html-parse-stringify.module.js.map


/***/ }),

/***/ "../../node_modules/i18next/dist/cjs/i18next.js":
/*!******************************************************!*\
  !*** ../../node_modules/i18next/dist/cjs/i18next.js ***!
  \******************************************************/
/***/ ((module) => {

"use strict";


const isString = obj => typeof obj === 'string';
const defer = () => {
  let res;
  let rej;
  const promise = new Promise((resolve, reject) => {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
};
const makeString = object => {
  if (object == null) return '';
  return '' + object;
};
const copy = (a, s, t) => {
  a.forEach(m => {
    if (s[m]) t[m] = s[m];
  });
};
const lastOfPathSeparatorRegExp = /###/g;
const cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;
const canNotTraverseDeeper = object => !object || isString(object);
const getLastOfPath = (object, path, Empty) => {
  const stack = !isString(path) ? path : path.split('.');
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper(object)) return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty) object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper(object)) return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
};
const setPath = (object, path, newValue) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== undefined || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === undefined && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {
      last.obj = undefined;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
};
const pushPath = (object, path, newValue, concat) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  obj[k].push(newValue);
};
const getPath = (object, path) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj) return undefined;
  return obj[k];
};
const getPathWithDefaults = (data, defaultData, key) => {
  const value = getPath(data, key);
  if (value !== undefined) {
    return value;
  }
  return getPath(defaultData, key);
};
const deepExtend = (target, source, overwrite) => {
  for (const prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
};
const regexEscape = str => str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
const escape = data => {
  if (isString(data)) {
    return data.replace(/[&<>"'\/]/g, s => _entityMap[s]);
  }
  return data;
};
class RegExpCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== undefined) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
}
const chars = [' ', ',', '?', '!', ';'];
const looksLikeObjectPathRegExpCache = new RegExpCache(20);
const looksLikeObjectPath = (key, nsSeparator, keySeparator) => {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0) return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\?' : c).join('|')})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
};
const deepFind = function (obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length;) {
    if (!current || typeof current !== 'object') {
      return undefined;
    }
    let next;
    let nextPath = '';
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== undefined) {
        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
};
const getCleanedCode = code => code && code.replace('_', '-');

const consoleLogger = {
  type: 'logger',
  log(args) {
    this.output('log', args);
  },
  warn(args) {
    this.output('warn', args);
  },
  error(args) {
    this.output('error', args);
  },
  output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};
class Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, 'log', '', true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, 'warn', '', true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, 'error', '');
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new Logger(this.logger, options);
  }
}
var baseLogger = new Logger();

class EventEmitter {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(' ').forEach(event => {
      if (!this.observers[event]) this.observers[event] = new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event]) return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach(_ref => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers['*']) {
      const cloned = Array.from(this.observers['*'].entries());
      cloned.forEach(_ref2 => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
}

class ResourceStore extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    if (this.options.ignoreJSONStructure === undefined) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (isString(key) && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf('.') > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join('.');
    }
    if (result || !ignoreJSONStructure || !isString(key)) return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent) this.emit('added', lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {
        silent: true
      });
    }
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit('removed', lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  }
  getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === 'v1') return {
      ...{},
      ...this.getResource(lng, ns)
    };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
}

var postProcessor = {
  processors: {},
  addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach(processor => {
      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

const checkedLoadedFor = {};
class Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super();
    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    this.logger = baseLogger.create('translator');
  }
  changeLanguage(lng) {
    if (lng) this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    if (key === undefined || key === null) {
      return false;
    }
    const resolved = this.resolve(key, options);
    return resolved && resolved.res !== undefined;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces: isString(namespaces) ? [namespaces] : namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    return {
      key,
      namespaces: isString(namespaces) ? [namespaces] : namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === 'object') options = {
      ...options
    };
    if (!options) options = {};
    if (keys === undefined || keys === null) return '';
    if (!Array.isArray(keys)) keys = [String(keys)];
    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved = this.resolve(keys, options);
    let res = resolved && resolved.res;
    const resUsedKey = resolved && resolved.usedKey || key;
    const resExactUsedKey = resolved && resolved.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved.res = r;
          resolved.usedParams = this.getUsedParamsDetails(options);
          return resolved;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy[m] === deepKey) copy[m] = res[m];
          }
        }
        res = copy;
      }
    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const hasDefaultValue = Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : '';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit('missingKey', l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach(language => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach(suffix => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== 'v1') {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved.res = res;
      resolved.usedParams = this.getUsedParamsDetails(options);
      return resolved;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {
        resolved
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation) this.interpolator.init({
        ...options,
        ...{
          interpolation: {
            ...this.options.interpolation,
            ...options.interpolation
          }
        }
      });
      const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && !isString(options.replace) ? options.replace : options;
      if (this.options.interpolation.defaultVariables) data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft) options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;
      if (options.nest !== false) res = this.interpolator.nest(res, function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (lastKey && lastKey[0] === args[0] && !options.context) {
          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
          return null;
        }
        return _this.translate(...args, key);
      }, options);
      if (options.interpolation) this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;
    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (isString(keys)) keys = [keys];
    keys.forEach(k => {
      if (this.isValidLookup(found)) return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach(ns => {
        if (this.isValidLookup(found)) return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(', ')}" won't get resolved as namespace "${usedNS}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        }
        codes.forEach(code => {
          if (this.isValidLookup(found)) return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];
    const useOptionsReplaceForData = options.replace && !isString(options.replace);
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = 'defaultValue';
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
        return true;
      }
    }
    return false;
  }
}

const capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);
class LanguageUtil {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return null;
    const p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === 'x') return null;
    return this.formatLanguageCode(p.join('-'));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return code;
    const p = code.split('-');
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (isString(code) && code.indexOf('-') > -1) {
      if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {
        try {
          let formattedCode = Intl.getCanonicalLocales(code)[0];
          if (formattedCode && this.options.lowerCaseLng) {
            formattedCode = formattedCode.toLowerCase();
          }
          if (formattedCode) return formattedCode;
        } catch (e) {}
      }
      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      let p = code.split('-');
      if (this.options.lowerCaseLng) {
        p = p.map(part => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join('-');
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes) return null;
    let found;
    codes.forEach(code => {
      if (found) return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach(code => {
        if (found) return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly)) return found = lngOnly;
        found = this.options.supportedLngs.find(supportedLng => {
          if (supportedLng === lngOnly) return supportedLng;
          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;
          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;
        });
      });
    }
    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
    if (isString(fallbacks)) fallbacks = [fallbacks];
    if (Array.isArray(fallbacks)) return fallbacks;
    if (!code) return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found) found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = c => {
      if (!c) return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (isString(code)) {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach(fc => {
      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
}

let sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
let _rulesPluralsTypes = {
  1: n => Number(n > 1),
  2: n => Number(n != 1),
  3: n => 0,
  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),
  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),
  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),
  9: n => Number(n >= 2),
  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),
  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),
  12: n => Number(n % 10 != 1 || n % 100 == 11),
  13: n => Number(n !== 0),
  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),
  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),
  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),
  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),
  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),
  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),
  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),
  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)
};
const nonIntlVersions = ['v1', 'v2', 'v3'];
const intlVersions = ['v4'];
const suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
const createRules = () => {
  const rules = {};
  sets.forEach(set => {
    set.lngs.forEach(l => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
};
class PluralResolver {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }
    this.rules = createRules();
    this.pluralRulesCache = {};
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  clearCache() {
    this.pluralRulesCache = {};
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);
      const type = options.ordinal ? 'ordinal' : 'cardinal';
      const cacheKey = JSON.stringify({
        cleanedCode,
        type
      });
      if (cacheKey in this.pluralRulesCache) {
        return this.pluralRulesCache[cacheKey];
      }
      let rule;
      try {
        rule = new Intl.PluralRules(cleanedCode, {
          type
        });
      } catch (err) {
        if (!code.match(/-|_/)) return;
        const lngPart = this.languageUtils.getLanguagePartFromCode(code);
        rule = this.getRule(lngPart, options);
      }
      this.pluralRulesCache[cacheKey] = rule;
      return rule;
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);
    }
    return rule.numbers.map(number => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return '';
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = 'plural';
      } else if (suffix === 1) {
        suffix = '';
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === 'v1') {
      if (suffix === 1) return '';
      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === 'v2') {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
}

const deepFindWithDefaults = function (data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && isString(key)) {
    path = deepFind(data, key, keySeparator);
    if (path === undefined) path = deepFind(defaultData, key, keySeparator);
  }
  return path;
};
const regexSafe = val => val.replace(/\$/g, '$$$$');
class Interpolator {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('interpolator');
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || (value => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (!options.interpolation) options.interpolation = {
      escapeValue: true
    };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== undefined ? escape$1 : escape;
    this.escapeValue = escapeValue !== undefined ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';
    this.formatSeparator = formatSeparator || ',';
    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');
    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';
    this.maxReplaces = maxReplaces || 1000;
    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options) this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, 'g');
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    const handleFormat = key => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, undefined, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: val => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach(todo => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            const temp = missingInterpolationHandler(str, match, options);
            value = isString(temp) ? temp : '';
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = '';
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = '';
          }
        } else if (!isString(value) && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    const handleHasOptions = (key, inheritedOptions) => {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0) return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions) clonedOptions = {
          ...inheritedOptions,
          ...clonedOptions
        };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;
      return key;
    };
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && !isString(value)) return value;
      if (!isString(value)) value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = '';
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
}

const parseFormatStr = formatStr => {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf('(') > -1) {
    const p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(';');
      opts.forEach(opt => {
        if (opt) {
          const [key, ...rest] = opt.split(':');
          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;
          if (val === 'false') formatOptions[trimmedKey] = false;
          if (val === 'true') formatOptions[trimmedKey] = true;
          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
};
const createCachedFormatter = fn => {
  const cache = {};
  return (val, lng, options) => {
    let optForCache = options;
    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {
      optForCache = {
        ...optForCache,
        [options.interpolationkey]: undefined
      };
    }
    const key = lng + JSON.stringify(optForCache);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
};
class Formatter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: 'currency'
        });
        return val => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val, opt.range || 'day');
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    this.formatSeparator = options.interpolation.formatSeparator || ',';
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {
      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);
      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);
    }
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
}

const removePending = (q, name) => {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
};
class Connector extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create('backendConnector');
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach(lng => {
      let hasAllNamespaces = true;
      namespaces.forEach(ns => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {
          if (pending[name] === undefined) pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === undefined) pending[name] = true;
          if (toLoad[name] === undefined) toLoad[name] = true;
          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces) toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    if (err) this.emit('failedLoading', lng, ns, err);
    if (!err && data) {
      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    if (err && data) this.state[name] = 0;
    const loaded = {};
    this.queue.forEach(q => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err) q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach(l => {
          if (!loaded[l]) loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach(n => {
              if (loaded[l][n] === undefined) loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit('loaded', loaded);
    this.queue = this.queue.filter(q => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : undefined;
    if (!lng.length) return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === 'function') {
          r.then(data => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : undefined;
    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);
    if (isString(namespaces)) namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback();
      return null;
    }
    toLoad.toLoad.forEach(name => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {
      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
      return;
    }
    if (key === undefined || key === null || key === '') return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === 'function') {
            r.then(data => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
}

const get = () => ({
  debug: false,
  initImmediate: true,
  ns: ['translation'],
  defaultNS: ['translation'],
  fallbackLng: ['dev'],
  fallbackNS: false,
  supportedLngs: false,
  nonExplicitSupportedLngs: false,
  load: 'all',
  preload: false,
  simplifyPluralSuffix: true,
  keySeparator: '.',
  nsSeparator: ':',
  pluralSeparator: '_',
  contextSeparator: '_',
  partialBundledLanguages: false,
  saveMissing: false,
  updateMissing: false,
  saveMissingTo: 'fallback',
  saveMissingPlurals: true,
  missingKeyHandler: false,
  missingInterpolationHandler: false,
  postProcess: false,
  postProcessPassResolved: false,
  returnNull: false,
  returnEmptyString: true,
  returnObjects: false,
  joinArrays: false,
  returnedObjectHandler: false,
  parseMissingKeyHandler: false,
  appendNamespaceToMissingKey: false,
  appendNamespaceToCIMode: false,
  overloadTranslationOptionHandler: args => {
    let ret = {};
    if (typeof args[1] === 'object') ret = args[1];
    if (isString(args[1])) ret.defaultValue = args[1];
    if (isString(args[2])) ret.tDescription = args[2];
    if (typeof args[2] === 'object' || typeof args[3] === 'object') {
      const options = args[3] || args[2];
      Object.keys(options).forEach(key => {
        ret[key] = options[key];
      });
    }
    return ret;
  },
  interpolation: {
    escapeValue: true,
    format: value => value,
    prefix: '{{',
    suffix: '}}',
    formatSeparator: ',',
    unescapePrefix: '-',
    nestingPrefix: '$t(',
    nestingSuffix: ')',
    nestingOptionsSeparator: ',',
    maxReplaces: 1000,
    skipOnVariables: true
  }
});
const transformOptions = options => {
  if (isString(options.ns)) options.ns = [options.ns];
  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];
  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }
  return options;
};

const noop = () => {};
const bindMemberFunctions = inst => {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(mem => {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
};
class I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    this.isInitializing = true;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (isString(options.ns)) {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf('translation') < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== 'v1') {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== undefined) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== undefined) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    const createClassOnDemand = ClassOrObject => {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    };
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== 'undefined') {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init) s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on('*', function (event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach(m => {
        if (m.init) m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn('init: no languageDetector is used and no lng is defined');
    }
    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
    storeApi.forEach(fcName => {
      this[fcName] = function () {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
    storeApiChained.forEach(fcName => {
      this[fcName] = function () {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');
        this.isInitialized = true;
        if (!this.options.isClone) this.logger.log('initialized', this.options);
        this.emit('initialized', this.options);
        deferred.resolve(t);
        callback(err, t);
      };
      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = isString(language) ? language : this.language;
    if (typeof language === 'function') usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();
      const toLoad = [];
      const append = lng => {
        if (!lng) return;
        if (lng === 'cimode') return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(l => {
          if (l === 'cimode') return;
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(l => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach(l => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, e => {
        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (typeof lngs === 'function') {
      callback = lngs;
      lngs = undefined;
    }
    if (typeof ns === 'function') {
      callback = ns;
      ns = undefined;
    }
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    if (!callback) callback = noop;
    this.services.backendConnector.reload(lngs, ns, err => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module) {
    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');
    if (module.type === 'backend') {
      this.modules.backend = module;
    }
    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }
    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }
    if (module.type === 'i18nFormat') {
      this.modules.i18nFormat = module;
    }
    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }
    if (module.type === 'formatter') {
      this.modules.formatter = module;
    }
    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages) return;
    if (['cimode', 'dev'].indexOf(l) > -1) return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit('languageChanging', lng);
    const setLngProps = l => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = undefined;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = undefined;
        this.emit('languageChanged', l);
        this.logger.log('languageChanged', l);
      } else {
        this.isLanguageChangingTo = undefined;
      }
      deferred.resolve(function () {
        return _this2.t(...arguments);
      });
      if (callback) callback(err, function () {
        return _this2.t(...arguments);
      });
    };
    const setLng = lngs => {
      if (!lng && !lngs && this.services.languageDetector) lngs = [];
      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language) this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, err => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function (key, opts) {
      let options;
      if (typeof opts !== 'object') {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || '.';
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (isString(lng)) {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === 'cimode') return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 0 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== undefined) return preResult;
    }
    if (this.hasResourceBundle(lng, ns)) return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback) callback();
      return Promise.resolve();
    }
    if (isString(ns)) ns = [ns];
    ns.forEach(n => {
      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);
    });
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (isString(lngs)) lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback) callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng) return 'rtl';
    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    return new I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore) delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new I18n(mergedOptions);
    if (options.debug !== undefined || options.prefix !== undefined) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(m => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
}
const instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;

module.exports = instance;


/***/ }),

/***/ "../../node_modules/ieee754/index.js":
/*!*******************************************!*\
  !*** ../../node_modules/ieee754/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "../../node_modules/lodash.debounce/index.js":
/*!***************************************************!*\
  !*** ../../node_modules/lodash.debounce/index.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = debounce;


/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/I18nextProvider.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/I18nextProvider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nextProvider: () => (/* binding */ I18nextProvider)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


function I18nextProvider(_ref) {
  let {
    i18n,
    defaultNS,
    children
  } = _ref;
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    i18n,
    defaultNS
  }), [i18n, defaultNS]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext.Provider, {
    value
  }, children);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Trans.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Trans.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");




function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_2__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const t = tFromProps || i18n && i18n.t.bind(i18n);
  return (0,_TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans)({
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions,
    values,
    defaults,
    components,
    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,
    i18n,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  });
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/TransWithoutContext.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* binding */ nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-parse-stringify */ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");





const hasChildren = (node, checkLength) => {
  if (!node) return false;
  const base = node.props ? node.props.children : node.children;
  if (checkLength) return base.length > 0;
  return !!base;
};
const getChildren = node => {
  if (!node) return [];
  const children = node.props ? node.props.children : node.children;
  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;
};
const hasValidReactChildren = children => Array.isArray(children) && children.every(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement);
const getAsArray = data => Array.isArray(data) ? data : [data];
const mergeProps = (source, target) => {
  const newTarget = {
    ...target
  };
  newTarget.props = Object.assign(source.props, target.props);
  return newTarget;
};
const nodesToString = (children, i18nOptions) => {
  if (!children) return '';
  let stringNode = '';
  const childrenArray = getAsArray(children);
  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];
  childrenArray.forEach((child, childIndex) => {
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
      stringNode += `${child}`;
    } else if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) {
      const {
        props,
        type
      } = child;
      const childPropsCount = Object.keys(props).length;
      const shouldKeepChild = keepArray.indexOf(type) > -1;
      const childChildren = props.children;
      if (!childChildren && shouldKeepChild && !childPropsCount) {
        stringNode += `<${type}/>`;
      } else if (!childChildren && (!shouldKeepChild || childPropsCount) || props.i18nIsDynamicList) {
        stringNode += `<${childIndex}></${childIndex}>`;
      } else if (shouldKeepChild && childPropsCount === 1 && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(childChildren)) {
        stringNode += `<${type}>${childChildren}</${type}>`;
      } else {
        const content = nodesToString(childChildren, i18nOptions);
        stringNode += `<${childIndex}>${content}</${childIndex}>`;
      }
    } else if (child === null) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a null child.`);
    } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child)) {
      const {
        format,
        ...clone
      } = child;
      const keys = Object.keys(clone);
      if (keys.length === 1) {
        const value = format ? `${keys[0]}, ${format}` : keys[0];
        stringNode += `{{${value}}}`;
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);
      }
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);
    }
  });
  return stringNode;
};
const renderNodes = (children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) => {
  if (targetString === '') return [];
  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];
  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);
  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];
  const data = {};
  const getData = childs => {
    const childrenArray = getAsArray(childs);
    childrenArray.forEach(child => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) return;
      if (hasChildren(child)) getData(getChildren(child));else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) Object.assign(data, child);
    });
  };
  getData(children);
  const ast = html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__["default"].parse(`<0>${targetString}</0>`);
  const opts = {
    ...data,
    ...combinedTOpts
  };
  const renderInner = (child, node, rootReactNode) => {
    const childs = getChildren(child);
    const mappedChildren = mapAST(childs, node.children, rootReactNode);
    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;
  };
  const pushTranslatedJSX = (child, inner, mem, i, isVoid) => {
    if (child.dummy) {
      child.children = inner;
      mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
        key: i
      }, isVoid ? undefined : inner));
    } else {
      mem.push(...react__WEBPACK_IMPORTED_MODULE_0__.Children.map([child], c => {
        const props = {
          ...c.props
        };
        delete props.i18nIsDynamicList;
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c.type, {
          ...props,
          key: i,
          ref: c.ref
        }, isVoid ? null : inner);
      }));
    }
  };
  const mapAST = (reactNode, astNode, rootReactNode) => {
    const reactNodes = getAsArray(reactNode);
    const astNodes = getAsArray(astNode);
    return astNodes.reduce((mem, node, i) => {
      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);
      if (node.type === 'tag') {
        let tmp = reactNodes[parseInt(node.name, 10)];
        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];
        if (!tmp) tmp = {};
        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({
          props: node.attrs
        }, tmp) : tmp;
        const isElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child);
        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;
        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && child.dummy && !isElement;
        const isKnownComponent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(children) && Object.hasOwnProperty.call(children, node.name);
        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);
          mem.push(value);
        } else if (hasChildren(child) || isValidTranslationWithChildren) {
          const inner = renderInner(child, node, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (isEmptyTransWithHTML) {
          const inner = mapAST(reactNodes, node.children, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (Number.isNaN(parseFloat(node.name))) {
          if (isKnownComponent) {
            const inner = renderInner(child, node, rootReactNode);
            pushTranslatedJSX(child, inner, mem, i, node.voidElement);
          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {
            if (node.voidElement) {
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }));
            } else {
              const inner = mapAST(reactNodes, node.children, rootReactNode);
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }, inner));
            }
          } else if (node.voidElement) {
            mem.push(`<${node.name} />`);
          } else {
            const inner = mapAST(reactNodes, node.children, rootReactNode);
            mem.push(`<${node.name}>${inner}</${node.name}>`);
          }
        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !isElement) {
          const content = node.children[0] ? translationContent : null;
          if (content) mem.push(content);
        } else {
          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);
        }
      } else if (node.type === 'text') {
        const wrapTextNodes = i18nOptions.transWrapTextNodes;
        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);
        if (wrapTextNodes) {
          mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(wrapTextNodes, {
            key: `${node.name}-${i}`
          }, content));
        } else {
          mem.push(content);
        }
      }
      return mem;
    }, []);
  };
  const result = mapAST([{
    dummy: true,
    children: children || []
  }], ast, getAsArray(children || []));
  return getChildren(result[0]);
};
function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const i18n = i18nFromProps || (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__.getI18n)();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using i18nextReactModule');
    return children;
  }
  const t = tFromProps || i18n.t.bind(i18n) || (k => k);
  const reactI18nextOptions = {
    ...(0,_defaults_js__WEBPACK_IMPORTED_MODULE_3__.getDefaults)(),
    ...(i18n.options && i18n.options.react)
  };
  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  const nodeAsString = nodesToString(children, reactI18nextOptions);
  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;
  const {
    hashTransKey
  } = reactI18nextOptions;
  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);
  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {
    values = values && Object.keys(values).length > 0 ? {
      ...values,
      ...i18n.options.interpolation.defaultVariables
    } : {
      ...i18n.options.interpolation.defaultVariables
    };
  }
  const interpolationOverride = values || count !== undefined || !children ? tOptions.interpolation : {
    interpolation: {
      ...tOptions.interpolation,
      prefix: '#$?',
      suffix: '?$#'
    }
  };
  const combinedTOpts = {
    ...tOptions,
    context: context || tOptions.context,
    count,
    ...values,
    ...interpolationOverride,
    defaultValue,
    ns: namespaces
  };
  const translation = key ? t(key, combinedTOpts) : defaultValue;
  if (components) {
    Object.keys(components).forEach(c => {
      const comp = components[c];
      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;
      function Componentized() {
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, comp);
      }
      components[c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Componentized);
    });
  }
  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);
  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;
  return useAsParent ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(useAsParent, additionalProps, content) : content;
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Translation.js":
/*!***************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Translation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Translation: () => (/* binding */ Translation)
/* harmony export */ });
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");

function Translation(props) {
  const {
    ns,
    children,
    ...options
  } = props;
  const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_0__.useTranslation)(ns, options);
  return children(t, {
    i18n,
    lng: i18n.language
  }, ready);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/context.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/context.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* binding */ I18nContext),
/* harmony export */   ReportNamespaces: () => (/* binding */ ReportNamespaces),
/* harmony export */   composeInitialProps: () => (/* binding */ composeInitialProps),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n),
/* harmony export */   getInitialProps: () => (/* binding */ getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__.initReactI18next),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.setI18n)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");





const I18nContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();
class ReportNamespaces {
  constructor() {
    this.usedNamespaces = {};
  }
  addUsedNamespaces(namespaces) {
    namespaces.forEach(ns => {
      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;
    });
  }
  getUsedNamespaces = () => Object.keys(this.usedNamespaces);
}
const composeInitialProps = ForComponent => async ctx => {
  const componentsInitialProps = ForComponent.getInitialProps ? await ForComponent.getInitialProps(ctx) : {};
  const i18nInitialProps = getInitialProps();
  return {
    ...componentsInitialProps,
    ...i18nInitialProps
  };
};
const getInitialProps = () => {
  const i18n = (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];
  const ret = {};
  const initialI18nStore = {};
  i18n.languages.forEach(l => {
    initialI18nStore[l] = {};
    namespaces.forEach(ns => {
      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};
    });
  });
  ret.initialI18nStore = initialI18nStore;
  ret.initialLanguage = i18n.language;
  return ret;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/defaults.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/defaults.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDefaults: () => (/* binding */ getDefaults),
/* harmony export */   setDefaults: () => (/* binding */ setDefaults)
/* harmony export */ });
/* harmony import */ var _unescape_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unescape.js */ "../../node_modules/react-i18next/dist/es/unescape.js");

let defaultOptions = {
  bindI18n: 'languageChanged',
  bindI18nStore: '',
  transEmptyNodeValue: '',
  transSupportBasicHtmlNodes: true,
  transWrapTextNodes: '',
  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],
  useSuspense: true,
  unescape: _unescape_js__WEBPACK_IMPORTED_MODULE_0__.unescape
};
const setDefaults = function () {
  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  defaultOptions = {
    ...defaultOptions,
    ...options
  };
};
const getDefaults = () => defaultOptions;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/i18nInstance.js":
/*!****************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/i18nInstance.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getI18n: () => (/* binding */ getI18n),
/* harmony export */   setI18n: () => (/* binding */ setI18n)
/* harmony export */ });
let i18nInstance;
const setI18n = instance => {
  i18nInstance = instance;
};
const getI18n = () => i18nInstance;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/index.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.I18nContext),
/* harmony export */   I18nextProvider: () => (/* reexport safe */ _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__.I18nextProvider),
/* harmony export */   Trans: () => (/* reexport safe */ _Trans_js__WEBPACK_IMPORTED_MODULE_0__.Trans),
/* harmony export */   TransWithoutContext: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans),
/* harmony export */   Translation: () => (/* reexport safe */ _Translation_js__WEBPACK_IMPORTED_MODULE_4__.Translation),
/* harmony export */   composeInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.composeInitialProps),
/* harmony export */   date: () => (/* binding */ date),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.getI18n),
/* harmony export */   getInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__.initReactI18next),
/* harmony export */   number: () => (/* binding */ number),
/* harmony export */   plural: () => (/* binding */ plural),
/* harmony export */   select: () => (/* binding */ select),
/* harmony export */   selectOrdinal: () => (/* binding */ selectOrdinal),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.setI18n),
/* harmony export */   time: () => (/* binding */ time),
/* harmony export */   useSSR: () => (/* reexport safe */ _useSSR_js__WEBPACK_IMPORTED_MODULE_7__.useSSR),
/* harmony export */   useTranslation: () => (/* reexport safe */ _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__.useTranslation),
/* harmony export */   withSSR: () => (/* reexport safe */ _withSSR_js__WEBPACK_IMPORTED_MODULE_6__.withSSR),
/* harmony export */   withTranslation: () => (/* reexport safe */ _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__.withTranslation)
/* harmony export */ });
/* harmony import */ var _Trans_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Trans.js */ "../../node_modules/react-i18next/dist/es/Trans.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./withTranslation.js */ "../../node_modules/react-i18next/dist/es/withTranslation.js");
/* harmony import */ var _Translation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Translation.js */ "../../node_modules/react-i18next/dist/es/Translation.js");
/* harmony import */ var _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./I18nextProvider.js */ "../../node_modules/react-i18next/dist/es/I18nextProvider.js");
/* harmony import */ var _withSSR_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./withSSR.js */ "../../node_modules/react-i18next/dist/es/withSSR.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");












const date = () => '';
const time = () => '';
const number = () => '';
const select = () => '';
const plural = () => '';
const selectOrdinal = () => '';

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/initReactI18next.js":
/*!********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/initReactI18next.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initReactI18next: () => (/* binding */ initReactI18next)
/* harmony export */ });
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");


const initReactI18next = {
  type: '3rdParty',
  init(instance) {
    (0,_defaults_js__WEBPACK_IMPORTED_MODULE_0__.setDefaults)(instance.options.react);
    (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__.setI18n)(instance);
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/unescape.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/unescape.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   unescape: () => (/* binding */ unescape)
/* harmony export */ });
const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;
const htmlEntities = {
  '&amp;': '&',
  '&#38;': '&',
  '&lt;': '<',
  '&#60;': '<',
  '&gt;': '>',
  '&#62;': '>',
  '&apos;': "'",
  '&#39;': "'",
  '&quot;': '"',
  '&#34;': '"',
  '&nbsp;': ' ',
  '&#160;': ' ',
  '&copy;': '©',
  '&#169;': '©',
  '&reg;': '®',
  '&#174;': '®',
  '&hellip;': '…',
  '&#8230;': '…',
  '&#x2F;': '/',
  '&#47;': '/'
};
const unescapeHtmlEntity = m => htmlEntities[m];
const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useSSR.js":
/*!**********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useSSR.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSSR: () => (/* binding */ useSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


const useSSR = function (initialI18nStore, initialLanguage) {
  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n.options && i18n.options.isClone) return;
  if (initialI18nStore && !i18n.initializedStoreOnce) {
    i18n.services.resourceStore.data = initialI18nStore;
    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {
      Object.keys(lngResources).forEach(ns => {
        if (mem.indexOf(ns) < 0) mem.push(ns);
      });
      return mem;
    }, i18n.options.ns);
    i18n.initializedStoreOnce = true;
    i18n.isInitialized = true;
  }
  if (initialLanguage && !i18n.initializedLanguageOnce) {
    i18n.changeLanguage(initialLanguage);
    i18n.initializedLanguageOnce = true;
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useTranslation.js":
/*!******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useTranslation.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useTranslation: () => (/* binding */ useTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const usePrevious = (value, ignore) => {
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    ref.current = ignore ? ref.current : value;
  }, [value, ignore]);
  return ref.current;
};
const alwaysNewT = (i18n, language, namespace, keyPrefix) => i18n.getFixedT(language, namespace, keyPrefix);
const useMemoizedT = (i18n, language, namespace, keyPrefix) => (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(alwaysNewT(i18n, language, namespace, keyPrefix), [i18n, language, namespace, keyPrefix]);
const useTranslation = function (ns) {
  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new _context_js__WEBPACK_IMPORTED_MODULE_1__.ReportNamespaces();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using initReactI18next');
    const notReadyT = (k, optsOrDefaultValue) => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue)) return optsOrDefaultValue;
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(optsOrDefaultValue) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;
      return Array.isArray(k) ? k[k.length - 1] : k;
    };
    const retNotReady = [notReadyT, {}, false];
    retNotReady.t = notReadyT;
    retNotReady.i18n = {};
    retNotReady.ready = false;
    return retNotReady;
  }
  if (i18n.options.react && i18n.options.react.wait !== undefined) (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');
  const i18nOptions = {
    ...(0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults)(),
    ...i18n.options.react,
    ...props
  };
  const {
    useSuspense,
    keyPrefix
  } = i18nOptions;
  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);
  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.hasLoadedNamespace)(n, i18n, i18nOptions));
  const memoGetT = useMemoizedT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const getT = () => memoGetT;
  const getNewT = () => alwaysNewT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const [t, setT] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getT);
  let joinedNS = namespaces.join();
  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;
  const previousJoinedNS = usePrevious(joinedNS);
  const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const {
      bindI18n,
      bindI18nStore
    } = i18nOptions;
    isMounted.current = true;
    if (!ready && !useSuspense) {
      if (props.lng) {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      }
    }
    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {
      setT(getNewT);
    }
    const boundReset = () => {
      if (isMounted.current) setT(getNewT);
    };
    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);
    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);
    return () => {
      isMounted.current = false;
      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));
      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));
    };
  }, [i18n, joinedNS]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isMounted.current && ready) {
      setT(getT);
    }
  }, [i18n, keyPrefix, ready]);
  const ret = [t, i18n, ready];
  ret.t = t;
  ret.i18n = i18n;
  ret.ready = ready;
  if (ready) return ret;
  if (!ready && !useSuspense) return ret;
  throw new Promise(resolve => {
    if (props.lng) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => resolve());
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => resolve());
    }
  });
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/utils.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDisplayName: () => (/* binding */ getDisplayName),
/* harmony export */   hasLoadedNamespace: () => (/* binding */ hasLoadedNamespace),
/* harmony export */   isObject: () => (/* binding */ isObject),
/* harmony export */   isString: () => (/* binding */ isString),
/* harmony export */   loadLanguages: () => (/* binding */ loadLanguages),
/* harmony export */   loadNamespaces: () => (/* binding */ loadNamespaces),
/* harmony export */   warn: () => (/* binding */ warn),
/* harmony export */   warnOnce: () => (/* binding */ warnOnce)
/* harmony export */ });
function warn() {
  if (console && console.warn) {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (isString(args[0])) args[0] = `react-i18next:: ${args[0]}`;
    console.warn(...args);
  }
}
const alreadyWarned = {};
function warnOnce() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }
  if (isString(args[0]) && alreadyWarned[args[0]]) return;
  if (isString(args[0])) alreadyWarned[args[0]] = new Date();
  warn(...args);
}
const loadedClb = (i18n, cb) => () => {
  if (i18n.isInitialized) {
    cb();
  } else {
    const initialized = () => {
      setTimeout(() => {
        i18n.off('initialized', initialized);
      }, 0);
      cb();
    };
    i18n.on('initialized', initialized);
  }
};
const loadNamespaces = (i18n, ns, cb) => {
  i18n.loadNamespaces(ns, loadedClb(i18n, cb));
};
const loadLanguages = (i18n, lng, ns, cb) => {
  if (isString(ns)) ns = [ns];
  ns.forEach(n => {
    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);
  });
  i18n.loadLanguages(lng, loadedClb(i18n, cb));
};
const oldI18nextHasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const lng = i18n.languages[0];
  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;
  const lastLng = i18n.languages[i18n.languages.length - 1];
  if (lng.toLowerCase() === 'cimode') return true;
  const loadNotPending = (l, n) => {
    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];
    return loadState === -1 || loadState === 2;
  };
  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;
  if (i18n.hasResourceBundle(lng, ns)) return true;
  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;
  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
  return false;
};
const hasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  if (!i18n.languages || !i18n.languages.length) {
    warnOnce('i18n.languages were undefined or empty', i18n.languages);
    return true;
  }
  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;
  if (!isNewerI18next) {
    return oldI18nextHasLoadedNamespace(ns, i18n, options);
  }
  return i18n.hasLoadedNamespace(ns, {
    lng: options.lng,
    precheck: (i18nInstance, loadNotPending) => {
      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;
    }
  });
};
const getDisplayName = Component => Component.displayName || Component.name || (isString(Component) && Component.length > 0 ? Component : 'Unknown');
const isString = obj => typeof obj === 'string';
const isObject = obj => typeof obj === 'object' && obj !== null;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withSSR.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withSSR.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withSSR: () => (/* binding */ withSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");




const withSSR = () => function Extend(WrappedComponent) {
  function I18nextWithSSR(_ref) {
    let {
      initialI18nStore,
      initialLanguage,
      ...rest
    } = _ref;
    (0,_useSSR_js__WEBPACK_IMPORTED_MODULE_1__.useSSR)(initialI18nStore, initialLanguage);
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, {
      ...rest
    });
  }
  I18nextWithSSR.getInitialProps = (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.composeInitialProps)(WrappedComponent);
  I18nextWithSSR.displayName = `withI18nextSSR(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.getDisplayName)(WrappedComponent)})`;
  I18nextWithSSR.WrappedComponent = WrappedComponent;
  return I18nextWithSSR;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withTranslation.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withTranslation.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withTranslation: () => (/* binding */ withTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const withTranslation = function (ns) {
  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return function Extend(WrappedComponent) {
    function I18nextWithTranslation(_ref) {
      let {
        forwardedRef,
        ...rest
      } = _ref;
      const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(ns, {
        ...rest,
        keyPrefix: options.keyPrefix
      });
      const passDownProps = {
        ...rest,
        t,
        i18n,
        tReady: ready
      };
      if (options.withRef && forwardedRef) {
        passDownProps.ref = forwardedRef;
      } else if (!options.withRef && forwardedRef) {
        passDownProps.forwardedRef = forwardedRef;
      }
      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, passDownProps);
    }
    I18nextWithTranslation.displayName = `withI18nextTranslation(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getDisplayName)(WrappedComponent)})`;
    I18nextWithTranslation.WrappedComponent = WrappedComponent;
    const forwardRef = (props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(I18nextWithTranslation, Object.assign({}, props, {
      forwardedRef: ref
    }));
    return options.withRef ? (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(forwardRef) : I18nextWithTranslation;
  };
};

/***/ }),

/***/ "../../node_modules/react/cjs/react.development.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react/cjs/react.development.js ***!
  \*********************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
/* module decorator */ module = __webpack_require__.nmd(module);
/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


 true &&
  (function () {
    function defineDeprecationWarning(methodName, info) {
      Object.defineProperty(Component.prototype, methodName, {
        get: function () {
          console.warn(
            "%s(...) is deprecated in plain JavaScript React classes. %s",
            info[0],
            info[1]
          );
        }
      });
    }
    function getIteratorFn(maybeIterable) {
      if (null === maybeIterable || "object" !== typeof maybeIterable)
        return null;
      maybeIterable =
        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||
        maybeIterable["@@iterator"];
      return "function" === typeof maybeIterable ? maybeIterable : null;
    }
    function warnNoop(publicInstance, callerName) {
      publicInstance =
        ((publicInstance = publicInstance.constructor) &&
          (publicInstance.displayName || publicInstance.name)) ||
        "ReactClass";
      var warningKey = publicInstance + "." + callerName;
      didWarnStateUpdateForUnmountedComponent[warningKey] ||
        (console.error(
          "Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",
          callerName,
          publicInstance
        ),
        (didWarnStateUpdateForUnmountedComponent[warningKey] = !0));
    }
    function Component(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function ComponentDummy() {}
    function PureComponent(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = !1;
      } catch (e) {
        JSCompiler_inline_result = !0;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 =
          ("function" === typeof Symbol &&
            Symbol.toStringTag &&
            value[Symbol.toStringTag]) ||
          value.constructor.name ||
          "Object";
        JSCompiler_temp_const.call(
          JSCompiler_inline_result,
          "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",
          JSCompiler_inline_result$jscomp$0
        );
        return testStringCoercion(value);
      }
    }
    function getComponentNameFromType(type) {
      if (null == type) return null;
      if ("function" === typeof type)
        return type.$$typeof === REACT_CLIENT_REFERENCE
          ? null
          : type.displayName || type.name || null;
      if ("string" === typeof type) return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if ("object" === typeof type)
        switch (
          ("number" === typeof type.tag &&
            console.error(
              "Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."
            ),
          type.$$typeof)
        ) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return (type.displayName || "Context") + ".Provider";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type ||
              ((type = innerType.displayName || innerType.name || ""),
              (type = "" !== type ? "ForwardRef(" + type + ")" : "ForwardRef"));
            return type;
          case REACT_MEMO_TYPE:
            return (
              (innerType = type.displayName || null),
              null !== innerType
                ? innerType
                : getComponentNameFromType(type.type) || "Memo"
            );
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE) return "<>";
      if (
        "object" === typeof type &&
        null !== type &&
        type.$$typeof === REACT_LAZY_TYPE
      )
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return null === dispatcher ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning) return !1;
      }
      return void 0 !== config.key;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown ||
          ((specialPropKeyWarningShown = !0),
          console.error(
            "%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",
            displayName
          ));
      }
      warnAboutAccessingKey.isReactWarning = !0;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: !0
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] ||
        ((didWarnAboutElementRef[componentName] = !0),
        console.error(
          "Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."
        ));
      componentName = this.props.ref;
      return void 0 !== componentName ? componentName : null;
    }
    function ReactElement(
      type,
      key,
      self,
      source,
      owner,
      props,
      debugStack,
      debugTask
    ) {
      self = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type: type,
        key: key,
        props: props,
        _owner: owner
      };
      null !== (void 0 !== self ? self : null)
        ? Object.defineProperty(type, "ref", {
            enumerable: !1,
            get: elementRefGetterWithDeprecationWarning
          })
        : Object.defineProperty(type, "ref", { enumerable: !1, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function cloneAndReplaceKey(oldElement, newKey) {
      newKey = ReactElement(
        oldElement.type,
        newKey,
        void 0,
        void 0,
        oldElement._owner,
        oldElement.props,
        oldElement._debugStack,
        oldElement._debugTask
      );
      oldElement._store &&
        (newKey._store.validated = oldElement._store.validated);
      return newKey;
    }
    function isValidElement(object) {
      return (
        "object" === typeof object &&
        null !== object &&
        object.$$typeof === REACT_ELEMENT_TYPE
      );
    }
    function escape(key) {
      var escaperLookup = { "=": "=0", ":": "=2" };
      return (
        "$" +
        key.replace(/[=:]/g, function (match) {
          return escaperLookup[match];
        })
      );
    }
    function getElementKey(element, index) {
      return "object" === typeof element &&
        null !== element &&
        null != element.key
        ? (checkKeyStringCoercion(element.key), escape("" + element.key))
        : index.toString(36);
    }
    function noop$1() {}
    function resolveThenable(thenable) {
      switch (thenable.status) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw thenable.reason;
        default:
          switch (
            ("string" === typeof thenable.status
              ? thenable.then(noop$1, noop$1)
              : ((thenable.status = "pending"),
                thenable.then(
                  function (fulfilledValue) {
                    "pending" === thenable.status &&
                      ((thenable.status = "fulfilled"),
                      (thenable.value = fulfilledValue));
                  },
                  function (error) {
                    "pending" === thenable.status &&
                      ((thenable.status = "rejected"),
                      (thenable.reason = error));
                  }
                )),
            thenable.status)
          ) {
            case "fulfilled":
              return thenable.value;
            case "rejected":
              throw thenable.reason;
          }
      }
      throw thenable;
    }
    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
      var type = typeof children;
      if ("undefined" === type || "boolean" === type) children = null;
      var invokeCallback = !1;
      if (null === children) invokeCallback = !0;
      else
        switch (type) {
          case "bigint":
          case "string":
          case "number":
            invokeCallback = !0;
            break;
          case "object":
            switch (children.$$typeof) {
              case REACT_ELEMENT_TYPE:
              case REACT_PORTAL_TYPE:
                invokeCallback = !0;
                break;
              case REACT_LAZY_TYPE:
                return (
                  (invokeCallback = children._init),
                  mapIntoArray(
                    invokeCallback(children._payload),
                    array,
                    escapedPrefix,
                    nameSoFar,
                    callback
                  )
                );
            }
        }
      if (invokeCallback) {
        invokeCallback = children;
        callback = callback(invokeCallback);
        var childKey =
          "" === nameSoFar ? "." + getElementKey(invokeCallback, 0) : nameSoFar;
        isArrayImpl(callback)
          ? ((escapedPrefix = ""),
            null != childKey &&
              (escapedPrefix =
                childKey.replace(userProvidedKeyEscapeRegex, "$&/") + "/"),
            mapIntoArray(callback, array, escapedPrefix, "", function (c) {
              return c;
            }))
          : null != callback &&
            (isValidElement(callback) &&
              (null != callback.key &&
                ((invokeCallback && invokeCallback.key === callback.key) ||
                  checkKeyStringCoercion(callback.key)),
              (escapedPrefix = cloneAndReplaceKey(
                callback,
                escapedPrefix +
                  (null == callback.key ||
                  (invokeCallback && invokeCallback.key === callback.key)
                    ? ""
                    : ("" + callback.key).replace(
                        userProvidedKeyEscapeRegex,
                        "$&/"
                      ) + "/") +
                  childKey
              )),
              "" !== nameSoFar &&
                null != invokeCallback &&
                isValidElement(invokeCallback) &&
                null == invokeCallback.key &&
                invokeCallback._store &&
                !invokeCallback._store.validated &&
                (escapedPrefix._store.validated = 2),
              (callback = escapedPrefix)),
            array.push(callback));
        return 1;
      }
      invokeCallback = 0;
      childKey = "" === nameSoFar ? "." : nameSoFar + ":";
      if (isArrayImpl(children))
        for (var i = 0; i < children.length; i++)
          (nameSoFar = children[i]),
            (type = childKey + getElementKey(nameSoFar, i)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if (((i = getIteratorFn(children)), "function" === typeof i))
        for (
          i === children.entries &&
            (didWarnAboutMaps ||
              console.warn(
                "Using Maps as children is not supported. Use an array of keyed ReactElements instead."
              ),
            (didWarnAboutMaps = !0)),
            children = i.call(children),
            i = 0;
          !(nameSoFar = children.next()).done;

        )
          (nameSoFar = nameSoFar.value),
            (type = childKey + getElementKey(nameSoFar, i++)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if ("object" === type) {
        if ("function" === typeof children.then)
          return mapIntoArray(
            resolveThenable(children),
            array,
            escapedPrefix,
            nameSoFar,
            callback
          );
        array = String(children);
        throw Error(
          "Objects are not valid as a React child (found: " +
            ("[object Object]" === array
              ? "object with keys {" + Object.keys(children).join(", ") + "}"
              : array) +
            "). If you meant to render a collection of children, use an array instead."
        );
      }
      return invokeCallback;
    }
    function mapChildren(children, func, context) {
      if (null == children) return children;
      var result = [],
        count = 0;
      mapIntoArray(children, result, "", "", function (child) {
        return func.call(context, child, count++);
      });
      return result;
    }
    function lazyInitializer(payload) {
      if (-1 === payload._status) {
        var ctor = payload._result;
        ctor = ctor();
        ctor.then(
          function (moduleObject) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 1), (payload._result = moduleObject);
          },
          function (error) {
            if (0 === payload._status || -1 === payload._status)
              (payload._status = 2), (payload._result = error);
          }
        );
        -1 === payload._status &&
          ((payload._status = 0), (payload._result = ctor));
      }
      if (1 === payload._status)
        return (
          (ctor = payload._result),
          void 0 === ctor &&
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",
              ctor
            ),
          "default" in ctor ||
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",
              ctor
            ),
          ctor.default
        );
      throw payload._result;
    }
    function resolveDispatcher() {
      var dispatcher = ReactSharedInternals.H;
      null === dispatcher &&
        console.error(
          "Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem."
        );
      return dispatcher;
    }
    function noop() {}
    function enqueueTask(task) {
      if (null === enqueueTaskImpl)
        try {
          var requireString = ("require" + Math.random()).slice(0, 7);
          enqueueTaskImpl = (module && module[requireString]).call(
            module,
            "timers"
          ).setImmediate;
        } catch (_err) {
          enqueueTaskImpl = function (callback) {
            !1 === didWarnAboutMessageChannel &&
              ((didWarnAboutMessageChannel = !0),
              "undefined" === typeof MessageChannel &&
                console.error(
                  "This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."
                ));
            var channel = new MessageChannel();
            channel.port1.onmessage = callback;
            channel.port2.postMessage(void 0);
          };
        }
      return enqueueTaskImpl(task);
    }
    function aggregateErrors(errors) {
      return 1 < errors.length && "function" === typeof AggregateError
        ? new AggregateError(errors)
        : errors[0];
    }
    function popActScope(prevActQueue, prevActScopeDepth) {
      prevActScopeDepth !== actScopeDepth - 1 &&
        console.error(
          "You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "
        );
      actScopeDepth = prevActScopeDepth;
    }
    function recursivelyFlushAsyncActWork(returnValue, resolve, reject) {
      var queue = ReactSharedInternals.actQueue;
      if (null !== queue)
        if (0 !== queue.length)
          try {
            flushActQueue(queue);
            enqueueTask(function () {
              return recursivelyFlushAsyncActWork(returnValue, resolve, reject);
            });
            return;
          } catch (error) {
            ReactSharedInternals.thrownErrors.push(error);
          }
        else ReactSharedInternals.actQueue = null;
      0 < ReactSharedInternals.thrownErrors.length
        ? ((queue = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          reject(queue))
        : resolve(returnValue);
    }
    function flushActQueue(queue) {
      if (!isFlushing) {
        isFlushing = !0;
        var i = 0;
        try {
          for (; i < queue.length; i++) {
            var callback = queue[i];
            do {
              ReactSharedInternals.didUsePromise = !1;
              var continuation = callback(!1);
              if (null !== continuation) {
                if (ReactSharedInternals.didUsePromise) {
                  queue[i] = callback;
                  queue.splice(0, i);
                  return;
                }
                callback = continuation;
              } else break;
            } while (1);
          }
          queue.length = 0;
        } catch (error) {
          queue.splice(0, i + 1), ReactSharedInternals.thrownErrors.push(error);
        } finally {
          isFlushing = !1;
        }
      }
    }
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
      REACT_PORTAL_TYPE = Symbol.for("react.portal"),
      REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"),
      REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"),
      REACT_PROFILER_TYPE = Symbol.for("react.profiler");
    Symbol.for("react.provider");
    var REACT_CONSUMER_TYPE = Symbol.for("react.consumer"),
      REACT_CONTEXT_TYPE = Symbol.for("react.context"),
      REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"),
      REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"),
      REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"),
      REACT_MEMO_TYPE = Symbol.for("react.memo"),
      REACT_LAZY_TYPE = Symbol.for("react.lazy"),
      REACT_ACTIVITY_TYPE = Symbol.for("react.activity"),
      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
      didWarnStateUpdateForUnmountedComponent = {},
      ReactNoopUpdateQueue = {
        isMounted: function () {
          return !1;
        },
        enqueueForceUpdate: function (publicInstance) {
          warnNoop(publicInstance, "forceUpdate");
        },
        enqueueReplaceState: function (publicInstance) {
          warnNoop(publicInstance, "replaceState");
        },
        enqueueSetState: function (publicInstance) {
          warnNoop(publicInstance, "setState");
        }
      },
      assign = Object.assign,
      emptyObject = {};
    Object.freeze(emptyObject);
    Component.prototype.isReactComponent = {};
    Component.prototype.setState = function (partialState, callback) {
      if (
        "object" !== typeof partialState &&
        "function" !== typeof partialState &&
        null != partialState
      )
        throw Error(
          "takes an object of state variables to update or a function which returns an object of state variables."
        );
      this.updater.enqueueSetState(this, partialState, callback, "setState");
    };
    Component.prototype.forceUpdate = function (callback) {
      this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
    };
    var deprecatedAPIs = {
        isMounted: [
          "isMounted",
          "Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."
        ],
        replaceState: [
          "replaceState",
          "Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."
        ]
      },
      fnName;
    for (fnName in deprecatedAPIs)
      deprecatedAPIs.hasOwnProperty(fnName) &&
        defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);
    ComponentDummy.prototype = Component.prototype;
    deprecatedAPIs = PureComponent.prototype = new ComponentDummy();
    deprecatedAPIs.constructor = PureComponent;
    assign(deprecatedAPIs, Component.prototype);
    deprecatedAPIs.isPureReactComponent = !0;
    var isArrayImpl = Array.isArray,
      REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"),
      ReactSharedInternals = {
        H: null,
        A: null,
        T: null,
        S: null,
        V: null,
        actQueue: null,
        isBatchingLegacy: !1,
        didScheduleLegacyUpdate: !1,
        didUsePromise: !1,
        thrownErrors: [],
        getCurrentStack: null,
        recentlyCreatedOwnerStacks: 0
      },
      hasOwnProperty = Object.prototype.hasOwnProperty,
      createTask = console.createTask
        ? console.createTask
        : function () {
            return null;
          };
    deprecatedAPIs = {
      "react-stack-bottom-frame": function (callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown, didWarnAboutOldJSXRuntime;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = deprecatedAPIs[
      "react-stack-bottom-frame"
    ].bind(deprecatedAPIs, UnknownOwner)();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutMaps = !1,
      userProvidedKeyEscapeRegex = /\/+/g,
      reportGlobalError =
        "function" === typeof reportError
          ? reportError
          : function (error) {
              if (
                "object" === typeof window &&
                "function" === typeof window.ErrorEvent
              ) {
                var event = new window.ErrorEvent("error", {
                  bubbles: !0,
                  cancelable: !0,
                  message:
                    "object" === typeof error &&
                    null !== error &&
                    "string" === typeof error.message
                      ? String(error.message)
                      : String(error),
                  error: error
                });
                if (!window.dispatchEvent(event)) return;
              } else if (
                "object" === typeof process &&
                "function" === typeof process.emit
              ) {
                process.emit("uncaughtException", error);
                return;
              }
              console.error(error);
            },
      didWarnAboutMessageChannel = !1,
      enqueueTaskImpl = null,
      actScopeDepth = 0,
      didWarnNoAwaitAct = !1,
      isFlushing = !1,
      queueSeveralMicrotasks =
        "function" === typeof queueMicrotask
          ? function (callback) {
              queueMicrotask(function () {
                return queueMicrotask(callback);
              });
            }
          : enqueueTask;
    deprecatedAPIs = Object.freeze({
      __proto__: null,
      c: function (size) {
        return resolveDispatcher().useMemoCache(size);
      }
    });
    exports.Children = {
      map: mapChildren,
      forEach: function (children, forEachFunc, forEachContext) {
        mapChildren(
          children,
          function () {
            forEachFunc.apply(this, arguments);
          },
          forEachContext
        );
      },
      count: function (children) {
        var n = 0;
        mapChildren(children, function () {
          n++;
        });
        return n;
      },
      toArray: function (children) {
        return (
          mapChildren(children, function (child) {
            return child;
          }) || []
        );
      },
      only: function (children) {
        if (!isValidElement(children))
          throw Error(
            "React.Children.only expected to receive a single React element child."
          );
        return children;
      }
    };
    exports.Component = Component;
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.Profiler = REACT_PROFILER_TYPE;
    exports.PureComponent = PureComponent;
    exports.StrictMode = REACT_STRICT_MODE_TYPE;
    exports.Suspense = REACT_SUSPENSE_TYPE;
    exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =
      ReactSharedInternals;
    exports.__COMPILER_RUNTIME = deprecatedAPIs;
    exports.act = function (callback) {
      var prevActQueue = ReactSharedInternals.actQueue,
        prevActScopeDepth = actScopeDepth;
      actScopeDepth++;
      var queue = (ReactSharedInternals.actQueue =
          null !== prevActQueue ? prevActQueue : []),
        didAwaitActCall = !1;
      try {
        var result = callback();
      } catch (error) {
        ReactSharedInternals.thrownErrors.push(error);
      }
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          (popActScope(prevActQueue, prevActScopeDepth),
          (callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      if (
        null !== result &&
        "object" === typeof result &&
        "function" === typeof result.then
      ) {
        var thenable = result;
        queueSeveralMicrotasks(function () {
          didAwaitActCall ||
            didWarnNoAwaitAct ||
            ((didWarnNoAwaitAct = !0),
            console.error(
              "You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"
            ));
        });
        return {
          then: function (resolve, reject) {
            didAwaitActCall = !0;
            thenable.then(
              function (returnValue) {
                popActScope(prevActQueue, prevActScopeDepth);
                if (0 === prevActScopeDepth) {
                  try {
                    flushActQueue(queue),
                      enqueueTask(function () {
                        return recursivelyFlushAsyncActWork(
                          returnValue,
                          resolve,
                          reject
                        );
                      });
                  } catch (error$0) {
                    ReactSharedInternals.thrownErrors.push(error$0);
                  }
                  if (0 < ReactSharedInternals.thrownErrors.length) {
                    var _thrownError = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    );
                    ReactSharedInternals.thrownErrors.length = 0;
                    reject(_thrownError);
                  }
                } else resolve(returnValue);
              },
              function (error) {
                popActScope(prevActQueue, prevActScopeDepth);
                0 < ReactSharedInternals.thrownErrors.length
                  ? ((error = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    )),
                    (ReactSharedInternals.thrownErrors.length = 0),
                    reject(error))
                  : reject(error);
              }
            );
          }
        };
      }
      var returnValue$jscomp$0 = result;
      popActScope(prevActQueue, prevActScopeDepth);
      0 === prevActScopeDepth &&
        (flushActQueue(queue),
        0 !== queue.length &&
          queueSeveralMicrotasks(function () {
            didAwaitActCall ||
              didWarnNoAwaitAct ||
              ((didWarnNoAwaitAct = !0),
              console.error(
                "A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"
              ));
          }),
        (ReactSharedInternals.actQueue = null));
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          ((callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      return {
        then: function (resolve, reject) {
          didAwaitActCall = !0;
          0 === prevActScopeDepth
            ? ((ReactSharedInternals.actQueue = queue),
              enqueueTask(function () {
                return recursivelyFlushAsyncActWork(
                  returnValue$jscomp$0,
                  resolve,
                  reject
                );
              }))
            : resolve(returnValue$jscomp$0);
        }
      };
    };
    exports.cache = function (fn) {
      return function () {
        return fn.apply(null, arguments);
      };
    };
    exports.captureOwnerStack = function () {
      var getCurrentStack = ReactSharedInternals.getCurrentStack;
      return null === getCurrentStack ? null : getCurrentStack();
    };
    exports.cloneElement = function (element, config, children) {
      if (null === element || void 0 === element)
        throw Error(
          "The argument must be a React element, but you passed " +
            element +
            "."
        );
      var props = assign({}, element.props),
        key = element.key,
        owner = element._owner;
      if (null != config) {
        var JSCompiler_inline_result;
        a: {
          if (
            hasOwnProperty.call(config, "ref") &&
            (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(
              config,
              "ref"
            ).get) &&
            JSCompiler_inline_result.isReactWarning
          ) {
            JSCompiler_inline_result = !1;
            break a;
          }
          JSCompiler_inline_result = void 0 !== config.ref;
        }
        JSCompiler_inline_result && (owner = getOwner());
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (key = "" + config.key));
        for (propName in config)
          !hasOwnProperty.call(config, propName) ||
            "key" === propName ||
            "__self" === propName ||
            "__source" === propName ||
            ("ref" === propName && void 0 === config.ref) ||
            (props[propName] = config[propName]);
      }
      var propName = arguments.length - 2;
      if (1 === propName) props.children = children;
      else if (1 < propName) {
        JSCompiler_inline_result = Array(propName);
        for (var i = 0; i < propName; i++)
          JSCompiler_inline_result[i] = arguments[i + 2];
        props.children = JSCompiler_inline_result;
      }
      props = ReactElement(
        element.type,
        key,
        void 0,
        void 0,
        owner,
        props,
        element._debugStack,
        element._debugTask
      );
      for (key = 2; key < arguments.length; key++)
        (owner = arguments[key]),
          isValidElement(owner) && owner._store && (owner._store.validated = 1);
      return props;
    };
    exports.createContext = function (defaultValue) {
      defaultValue = {
        $$typeof: REACT_CONTEXT_TYPE,
        _currentValue: defaultValue,
        _currentValue2: defaultValue,
        _threadCount: 0,
        Provider: null,
        Consumer: null
      };
      defaultValue.Provider = defaultValue;
      defaultValue.Consumer = {
        $$typeof: REACT_CONSUMER_TYPE,
        _context: defaultValue
      };
      defaultValue._currentRenderer = null;
      defaultValue._currentRenderer2 = null;
      return defaultValue;
    };
    exports.createElement = function (type, config, children) {
      for (var i = 2; i < arguments.length; i++) {
        var node = arguments[i];
        isValidElement(node) && node._store && (node._store.validated = 1);
      }
      i = {};
      node = null;
      if (null != config)
        for (propName in (didWarnAboutOldJSXRuntime ||
          !("__self" in config) ||
          "key" in config ||
          ((didWarnAboutOldJSXRuntime = !0),
          console.warn(
            "Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform"
          )),
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (node = "" + config.key)),
        config))
          hasOwnProperty.call(config, propName) &&
            "key" !== propName &&
            "__self" !== propName &&
            "__source" !== propName &&
            (i[propName] = config[propName]);
      var childrenLength = arguments.length - 2;
      if (1 === childrenLength) i.children = children;
      else if (1 < childrenLength) {
        for (
          var childArray = Array(childrenLength), _i = 0;
          _i < childrenLength;
          _i++
        )
          childArray[_i] = arguments[_i + 2];
        Object.freeze && Object.freeze(childArray);
        i.children = childArray;
      }
      if (type && type.defaultProps)
        for (propName in ((childrenLength = type.defaultProps), childrenLength))
          void 0 === i[propName] && (i[propName] = childrenLength[propName]);
      node &&
        defineKeyPropWarningGetter(
          i,
          "function" === typeof type
            ? type.displayName || type.name || "Unknown"
            : type
        );
      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return ReactElement(
        type,
        node,
        void 0,
        void 0,
        getOwner(),
        i,
        propName ? Error("react-stack-top-frame") : unknownOwnerDebugStack,
        propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask
      );
    };
    exports.createRef = function () {
      var refObject = { current: null };
      Object.seal(refObject);
      return refObject;
    };
    exports.forwardRef = function (render) {
      null != render && render.$$typeof === REACT_MEMO_TYPE
        ? console.error(
            "forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."
          )
        : "function" !== typeof render
          ? console.error(
              "forwardRef requires a render function but was given %s.",
              null === render ? "null" : typeof render
            )
          : 0 !== render.length &&
            2 !== render.length &&
            console.error(
              "forwardRef render functions accept exactly two parameters: props and ref. %s",
              1 === render.length
                ? "Did you forget to use the ref parameter?"
                : "Any additional parameter will be undefined."
            );
      null != render &&
        null != render.defaultProps &&
        console.error(
          "forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?"
        );
      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render: render },
        ownName;
      Object.defineProperty(elementType, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          render.name ||
            render.displayName ||
            (Object.defineProperty(render, "name", { value: name }),
            (render.displayName = name));
        }
      });
      return elementType;
    };
    exports.isValidElement = isValidElement;
    exports.lazy = function (ctor) {
      return {
        $$typeof: REACT_LAZY_TYPE,
        _payload: { _status: -1, _result: ctor },
        _init: lazyInitializer
      };
    };
    exports.memo = function (type, compare) {
      null == type &&
        console.error(
          "memo: The first argument must be a component. Instead received: %s",
          null === type ? "null" : typeof type
        );
      compare = {
        $$typeof: REACT_MEMO_TYPE,
        type: type,
        compare: void 0 === compare ? null : compare
      };
      var ownName;
      Object.defineProperty(compare, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          type.name ||
            type.displayName ||
            (Object.defineProperty(type, "name", { value: name }),
            (type.displayName = name));
        }
      });
      return compare;
    };
    exports.startTransition = function (scope) {
      var prevTransition = ReactSharedInternals.T,
        currentTransition = {};
      ReactSharedInternals.T = currentTransition;
      currentTransition._updatedFibers = new Set();
      try {
        var returnValue = scope(),
          onStartTransitionFinish = ReactSharedInternals.S;
        null !== onStartTransitionFinish &&
          onStartTransitionFinish(currentTransition, returnValue);
        "object" === typeof returnValue &&
          null !== returnValue &&
          "function" === typeof returnValue.then &&
          returnValue.then(noop, reportGlobalError);
      } catch (error) {
        reportGlobalError(error);
      } finally {
        null === prevTransition &&
          currentTransition._updatedFibers &&
          ((scope = currentTransition._updatedFibers.size),
          currentTransition._updatedFibers.clear(),
          10 < scope &&
            console.warn(
              "Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."
            )),
          (ReactSharedInternals.T = prevTransition);
      }
    };
    exports.unstable_useCacheRefresh = function () {
      return resolveDispatcher().useCacheRefresh();
    };
    exports.use = function (usable) {
      return resolveDispatcher().use(usable);
    };
    exports.useActionState = function (action, initialState, permalink) {
      return resolveDispatcher().useActionState(
        action,
        initialState,
        permalink
      );
    };
    exports.useCallback = function (callback, deps) {
      return resolveDispatcher().useCallback(callback, deps);
    };
    exports.useContext = function (Context) {
      var dispatcher = resolveDispatcher();
      Context.$$typeof === REACT_CONSUMER_TYPE &&
        console.error(
          "Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"
        );
      return dispatcher.useContext(Context);
    };
    exports.useDebugValue = function (value, formatterFn) {
      return resolveDispatcher().useDebugValue(value, formatterFn);
    };
    exports.useDeferredValue = function (value, initialValue) {
      return resolveDispatcher().useDeferredValue(value, initialValue);
    };
    exports.useEffect = function (create, createDeps, update) {
      null == create &&
        console.warn(
          "React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      var dispatcher = resolveDispatcher();
      if ("function" === typeof update)
        throw Error(
          "useEffect CRUD overload is not enabled in this build of React."
        );
      return dispatcher.useEffect(create, createDeps);
    };
    exports.useId = function () {
      return resolveDispatcher().useId();
    };
    exports.useImperativeHandle = function (ref, create, deps) {
      return resolveDispatcher().useImperativeHandle(ref, create, deps);
    };
    exports.useInsertionEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useInsertionEffect(create, deps);
    };
    exports.useLayoutEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useLayoutEffect(create, deps);
    };
    exports.useMemo = function (create, deps) {
      return resolveDispatcher().useMemo(create, deps);
    };
    exports.useOptimistic = function (passthrough, reducer) {
      return resolveDispatcher().useOptimistic(passthrough, reducer);
    };
    exports.useReducer = function (reducer, initialArg, init) {
      return resolveDispatcher().useReducer(reducer, initialArg, init);
    };
    exports.useRef = function (initialValue) {
      return resolveDispatcher().useRef(initialValue);
    };
    exports.useState = function (initialState) {
      return resolveDispatcher().useState(initialState);
    };
    exports.useSyncExternalStore = function (
      subscribe,
      getSnapshot,
      getServerSnapshot
    ) {
      return resolveDispatcher().useSyncExternalStore(
        subscribe,
        getSnapshot,
        getServerSnapshot
      );
    };
    exports.useTransition = function () {
      return resolveDispatcher().useTransition();
    };
    exports.version = "19.1.0";
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  })();


/***/ }),

/***/ "../../node_modules/react/index.js":
/*!*****************************************!*\
  !*** ../../node_modules/react/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (false) // removed by dead control flow
{} else {
  module.exports = __webpack_require__(/*! ./cjs/react.development.js */ "../../node_modules/react/cjs/react.development.js");
}


/***/ }),

/***/ "../../node_modules/title-case/dist.es2015/index.js":
/*!**********************************************************!*\
  !*** ../../node_modules/title-case/dist.es2015/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   titleCase: () => (/* binding */ titleCase)
/* harmony export */ });
var SMALL_WORDS = /\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\.?|versus|via|when|with|without|yet)\b/i;
var TOKENS = /[^\s:–—-]+|./g;
var WHITESPACE = /\s/;
var IS_MANUAL_CASE = /.(?=[A-Z]|\..)/;
var ALPHANUMERIC_PATTERN = /[A-Za-z0-9\u00C0-\u00FF]/;
function titleCase(input) {
    var result = "";
    var m;
    // tslint:disable-next-line
    while ((m = TOKENS.exec(input)) !== null) {
        var token = m[0], index = m.index;
        if (
        // Ignore already capitalized words.
        !IS_MANUAL_CASE.test(token) &&
            // Ignore small words except at beginning or end.
            (!SMALL_WORDS.test(token) ||
                index === 0 ||
                index + token.length === input.length) &&
            // Ignore URLs.
            (input.charAt(index + token.length) !== ":" ||
                WHITESPACE.test(input.charAt(index + token.length + 1)))) {
            // Find and uppercase first word character, skips over *modifiers*.
            result += token.replace(ALPHANUMERIC_PATTERN, function (m) { return m.toUpperCase(); });
            continue;
        }
        result += token;
    }
    return result;
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/void-elements/index.js":
/*!*************************************************!*\
  !*** ../../node_modules/void-elements/index.js ***!
  \*************************************************/
/***/ ((module) => {

/**
 * This file automatically generated from `pre-publish.js`.
 * Do not manually edit.
 */

module.exports = {
  "area": true,
  "base": true,
  "br": true,
  "col": true,
  "embed": true,
  "hr": true,
  "img": true,
  "input": true,
  "link": true,
  "meta": true,
  "param": true,
  "source": true,
  "track": true,
  "wbr": true
};


/***/ }),

/***/ "./client/src/apps.ts":
/*!****************************!*\
  !*** ./client/src/apps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getApp: () => (/* binding */ getApp),
/* harmony export */   getApps: () => (/* binding */ getApps),
/* harmony export */   getAppsByIntent: () => (/* binding */ getAppsByIntent),
/* harmony export */   getIntent: () => (/* binding */ getIntent),
/* harmony export */   getIntentsByContext: () => (/* binding */ getIntentsByContext),
/* harmony export */   launchApp: () => (/* binding */ launchApp)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);

let lastCacheUpdate = 0;
let cachedApps = [];
/**
 * Load the apps from the json feeds configured in the custom settings.
 * @param appSettings The app settings from the manifest.
 * @returns The list of apps.
 */
async function getApps(appSettings) {
    if (appSettings) {
        const cacheDurationInMinutes = appSettings?.cacheDurationInMinutes ?? 1;
        const now = Date.now();
        if (now - lastCacheUpdate > cacheDurationInMinutes * 60 * 1000) {
            lastCacheUpdate = now;
            console.log("Requesting apps.");
            try {
                let apps = [];
                if (appSettings?.appSourceUrls) {
                    for (const url of appSettings.appSourceUrls) {
                        const response = await fetch(url, { credentials: "include" });
                        const json = await response.json();
                        apps = apps.concat(json);
                    }
                }
                cachedApps = await validateEntries(appSettings, apps);
            }
            catch (err) {
                console.error("Error retrieving apps. Returning empty list.", err);
                cachedApps = [];
            }
        }
    }
    else {
        console.warn("No appProvider settings in the manifest");
    }
    return cachedApps;
}
/**
 * Validate that the apps have the correct permissions enabled.
 * @param appSettings The app settings from the manifest.
 * @param apps The apps the validate.
 * @returns The list of validated apps.
 */
async function validateEntries(appSettings, apps) {
    let canLaunchExternalProcessResponse;
    try {
        canLaunchExternalProcessResponse = await fin.System.queryPermissionForCurrentContext("System.launchExternalProcess");
    }
    catch (error) {
        console.error("Error while querying for System.launchExternalProcess permission", error);
    }
    const canLaunchExternalProcess = canLaunchExternalProcessResponse?.granted;
    let canDownloadAppAssetsResponse;
    try {
        canDownloadAppAssetsResponse = await fin.System.queryPermissionForCurrentContext("System.downloadAsset");
    }
    catch (error) {
        console.error("Error while querying for System.downloadAsset permission", error);
    }
    const canDownloadAppAssets = canDownloadAppAssetsResponse?.granted;
    const validatedApps = [];
    const rejectedAppIds = [];
    const appAssetTag = "appasset";
    const supportedManifestTypes = appSettings?.manifestTypes;
    for (const element of apps) {
        const manifestType = element.manifestType;
        if (manifestType) {
            let validApp = true;
            const tags = element.tags;
            if (supportedManifestTypes !== undefined && supportedManifestTypes.length > 0) {
                validApp = supportedManifestTypes.includes(manifestType);
            }
            if (validApp) {
                if (element.manifestType !== "external") {
                    validatedApps.push(element);
                }
                else if (canLaunchExternalProcess === false) {
                    rejectedAppIds.push(element.appId);
                }
                else if (Array.isArray(tags) && tags.includes(appAssetTag) && canDownloadAppAssets === false) {
                    rejectedAppIds.push(element.appId);
                }
                else {
                    validatedApps.push(element);
                }
            }
            else {
                console.warn("Apps.ts: validateEntries: Application is not in the list of supported manifest types", element.appId, manifestType);
            }
        }
    }
    if (rejectedAppIds.length > 0) {
        console.warn("Apps.ts: validateEntries: Not passing the following list of applications as they will not be able to run on this machine due to missing permissions. Alternatively this logic could be moved to the launch function where a selection is not launched but the user is presented with a modal saying they can't launch it due to permissions.", rejectedAppIds);
    }
    return validatedApps;
}
/**
 * Launch the passed app using its manifest type to determine how to launch it.
 * @param app The app to launch.
 * @returns The value returned by the launch.
 */
async function launchApp(app) {
    if (!app.manifest) {
        console.error(`No manifest was provided for type ${app.manifestType}`);
        return;
    }
    let ret;
    console.log("Application launch requested:", app);
    switch (app.manifestType) {
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.Snapshot: {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            ret = await platform.applySnapshot(app.manifest);
            break;
        }
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.View: {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            ret = await platform.createView({ manifestUrl: app.manifest });
            break;
        }
        case _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.AppManifestType.External: {
            ret = await fin.System.launchExternalProcess({ path: app.manifest, uuid: app.appId });
            break;
        }
        case "window": {
            const manifestResponse = await fetch(app.manifest);
            const manifest = await manifestResponse.json();
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            ret = await platform.createWindow(manifest);
            break;
        }
        case "inline-appasset": {
            const appAssetInfo = app.manifest;
            try {
                await fin.System.downloadAsset(appAssetInfo, (progress) => {
                    const downloadedPercent = Math.floor((progress.downloadedBytes / progress.totalBytes) * 100);
                    console.info(`Downloaded ${downloadedPercent}% of app asset with appId of ${app.appId}`);
                });
                ret = await fin.System.launchExternalProcess({
                    alias: appAssetInfo.alias,
                    arguments: appAssetInfo.args
                });
            }
            catch (error) {
                console.error(`Error trying to download app asset with app id: ${app.appId}`, error);
            }
            break;
        }
        default: {
            ret = await fin.Application.startFromManifest(app.manifest);
            break;
        }
    }
    console.log("Finished application launch request");
    return ret;
}
/**
 * Get a single app using it's id.
 * @param appProviderSettings The app provider for retrieving the apps.
 * @param appId The id of the app to retrieve.
 * @returns The app if it exists.
 */
async function getApp(appProviderSettings, appId) {
    const apps = await getApps(appProviderSettings);
    return apps.find((entry) => entry.appId === appId);
}
/**
 * Get all the intents that support the requested context.
 * @param appProviderSettings The app provider for retrieving the apps.
 * @param contextType The context type to find the intents for.
 * @returns The list of intents supporting the context.
 */
async function getIntentsByContext(appProviderSettings, contextType) {
    const apps = await getApps(appProviderSettings);
    if (!Array.isArray(apps)) {
        console.warn("Unable to get apps so we can not get apps and intents that support a particular context");
        return [];
    }
    const intentsMap = {};
    for (const app of apps) {
        if (app.intents !== undefined) {
            for (const appIntent of app.intents) {
                if (Array.isArray(appIntent.contexts) && appIntent.contexts.includes(contextType)) {
                    updateAppIntentsEntry(intentsMap, appIntent, app);
                }
            }
        }
    }
    return Object.values(intentsMap);
}
/**
 * Get the list of apps that support a specific intent.
 * @param appProviderSettings The app provider for retrieving the apps.
 * @param intent The intents to find supported apps.
 * @returns The list of app that support the intent.
 */
async function getAppsByIntent(appProviderSettings, intent) {
    const apps = await getApps(appProviderSettings);
    return apps.filter((value) => {
        if (!Array.isArray(value.intents)) {
            return false;
        }
        for (const valueIntent of value.intents) {
            if (valueIntent.name.toLowerCase() === intent.toLowerCase()) {
                return true;
            }
        }
        return false;
    });
}
/**
 * Get an intent and the apps that support it.
 * @param appProviderSettings The app provider for retrieving the apps.
 * @param intent The intent to look for.
 * @param contextType Optional context type to look for.
 * @returns The intent and its supporting apps if found.
 */
async function getIntent(appProviderSettings, intent, contextType) {
    const apps = await getApps(appProviderSettings);
    if (!Array.isArray(apps)) {
        console.warn("There was no apps returned so we are unable to find apps that support an intent.");
        return;
    }
    const intentsMap = {};
    for (const app of apps) {
        if (app.intents !== undefined) {
            for (const appIntent of app.intents) {
                if (appIntent.name === intent &&
                    (contextType === undefined ||
                        (Array.isArray(appIntent.contexts) && appIntent.contexts.includes(contextType)))) {
                    updateAppIntentsEntry(intentsMap, appIntent, app);
                }
            }
        }
    }
    const results = Object.values(intentsMap);
    if (results.length === 0) {
        console.log(`No results found for findIntent for intent ${intent} and context ${contextType}`);
        return;
    }
    else if (results.length === 1) {
        return results[0];
    }
    console.warn(`Received more than one result for findIntent for intent ${intent} and context ${contextType}. Returning the first entry.`);
    return results[0];
}
/**
 * Update the entry for keeping tracking of supported apps for intents.
 * @param intentsMap The map of intents.
 * @param intent The intent to app an entry for.
 * @param app The application supporting the intent.
 */
function updateAppIntentsEntry(intentsMap, intent, app) {
    if (intentsMap[intent.name] === undefined) {
        // in a production app you would either need to ensure that every app was populated with the same name & displayName for an intent from a golden source (e.g. intents table) so picking the first entry wouldn't make a difference.
        // or you could pull in a golden source of intents from a service and then do a lookup using the intent name to get an object with intent name and official display name.
        intentsMap[intent.name] = {
            intent: {
                name: intent.name,
                displayName: intent.displayName
            },
            apps: []
        };
    }
    intentsMap[intent.name].apps.push(app);
}


/***/ }),

/***/ "./client/src/interopbroker.ts":
/*!*************************************!*\
  !*** ./client/src/interopbroker.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createInteropOverride: () => (/* binding */ createInteropOverride)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");


const NO_APPS_FOUND = "NoAppsFound";
const RESOLVER_TIMEOUT = "ResolverTimeout";
/**
 * Create an override for the platform interop.
 * @param customSettings Custom settings to initialize the platform.
 * @returns The override for the interop broker.
 */
function createInteropOverride(customSettings) {
    return (Base) => 
    /**
     * In Interop Broker Implementation that supports fdc3 1.2
     */
    class InteropOverride extends Base {
        /**
         * Launch an applications with a specific intent.
         * @param app The app to launch.
         * @param intent The intent to launch the app with.
         * @returns The source and version of the app that was launched if there was one.
         */
        async launchAppWithIntent(app, intent) {
            console.log("Launching app with intent.");
            if (app.manifestType !== "view" &&
                app.manifestType !== "inline-view" &&
                app.manifestType !== "snapshot") {
                // optional logic show a prompt to the user to let them know
                console.warn("Unable to raise intent against app as only view/snapshot based apps are supported.");
                return;
            }
            if (app.manifestType === "view" || app.manifestType === "inline-view") {
                console.log(`The supporting app is a view (${app.manifestType})`);
                const identity = await launchView(app);
                if (!identity) {
                    // optional logic show a prompt to the user to let them know
                    console.warn("Unable to raise intent against view as no identity was returned.");
                    return;
                }
                await super.setIntentTarget(intent, identity);
            }
            if (app.manifestType === "snapshot") {
                console.log("The supporting app is a view.");
                const identities = await launchSnapshot(app);
                if (!identities) {
                    // optional logic show a prompt to the user to let them know
                    console.warn("Unable to raise intent against target as no identity was returned.");
                    return;
                }
                for (const identity of identities) {
                    await super.setIntentTarget(intent, identity);
                }
            }
            return {
                source: app.appId,
                version: app.version
            };
        }
        /**
         * Get the target identity of the requested app.
         * @param appId The app id to get the target for.
         * @returns The identity of the target app.
         */
        async getTargetIdentity(appId) {
            if (!appId) {
                return;
            }
            const passedIdentity = appId.split("@");
            const name = passedIdentity[0];
            let uuid = fin.me.identity.uuid;
            if (passedIdentity.length === 2) {
                uuid = passedIdentity[1];
            }
            const resolvedIdentity = { uuid, name };
            try {
                const targetView = await fin.View.wrap({ uuid, name });
                await targetView.getInfo();
                // passed identity found
                return resolvedIdentity;
            }
            catch {
                // passed identity does not exist
            }
        }
        /**
         * Launch a picker to chose an application for an intent.
         * @param launchOptions The launch options for the app.
         * @param launchOptions.apps The optional list of apps to display.
         * @param launchOptions.intent The optional intent to support.
         * @param launchOptions.intents The optional intents to pick from.
         * @returns The picked app.
         */
        async launchAppPicker(launchOptions) {
            // show menu
            // launch a new window and optionally pass the available intents as customData.apps as part of the window options
            // the window can then use raiseIntent against a specific app (the selected one). This is a very basic example.
            const height = customSettings?.platformProvider?.intentPicker?.height ?? 400;
            const width = customSettings?.platformProvider?.intentPicker?.width ?? 400;
            // this logic runs in the provider so we are using it as a way of determining the root (so it works with root hosting and subdirectory based hosting if a url is not provided)
            const url = customSettings?.platformProvider?.intentPicker?.url ??
                "https://built-on-openfin.github.io/workspace-starter/eb/bump-workspace-v22-for-a11y-testing/support-context-and-intents/common/windows/intents/picker.html";
            const winOption = {
                name: "intent-picker",
                includeInSnapshots: false,
                fdc3InteropApi: "1.2",
                defaultWidth: width,
                defaultHeight: height,
                showTaskbarIcon: false,
                saveWindowState: false,
                defaultCentered: true,
                customData: {
                    apps: launchOptions.apps,
                    intent: launchOptions.intent,
                    intents: launchOptions.intents
                },
                url,
                frame: false,
                autoShow: true,
                alwaysOnTop: true
            };
            const win = await fin.Window.create(winOption);
            const webWindow = win.getWebWindow();
            try {
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                const getIntentSelection = webWindow.getIntentSelection;
                if (getIntentSelection) {
                    const selectedAppId = await getIntentSelection();
                    return selectedAppId;
                }
            }
            catch {
                console.error("App for intent not selected/launched.", launchOptions.intent);
            }
        }
        /**
         * Is the connection for the specific identity authorized.
         * @param identity The identity of the connection to check.
         * @param payload The optional payload.
         * @returns True if the connection is authorized.
         */
        async isConnectionAuthorized(identity, payload) {
            console.log("Interop connection being made by the following identity with payload:", identity, payload);
            if (customSettings?.platformProvider?.allowExternalLocalConnections === true) {
                // perform connection validation checks here if required and return false if it shouldn't be allowed.
                return true;
            }
            if (identity.uuid !== fin.me.identity.uuid) {
                console.warn(`The connection is not from the same uuid as the current platform and this platform's interop broker is configured to disallow external connections. Rejected UUID: ${identity.uuid}`);
                return false;
            }
            return true;
        }
        /**
         * Is the action authorized.
         * @param action The action to test for being authorized.
         * @param payload The payload to use in the test.
         * @param identity The identity of the client being asked about the action.
         * @returns True if the action is authorized.
         */
        async isActionAuthorized(action, payload, identity) {
            console.log("Interop Broker is action authorized:", action, payload, identity);
            // perform check here if you wish and return true/false accordingly
            return true;
        }
        /**
         * Get the information for the intents by context.
         * @param context The context to get the information for.
         * @param context.type The type of the context.
         * @param clientIdentity The identity of the client to get the information from.
         * @returns The information about the intents for the context.
         */
        async handleInfoForIntentsByContext(context, clientIdentity) {
            const intents = await (0,_apps__WEBPACK_IMPORTED_MODULE_1__.getIntentsByContext)(customSettings?.appProvider, context.type);
            if (intents.length === 0) {
                throw new Error(NO_APPS_FOUND);
            }
            return intents.map((entry) => ({
                intent: entry.intent,
                apps: entry.apps.map((app) => ({
                    name: app.appId,
                    appId: app.appId,
                    title: app.title
                }))
            }));
        }
        /**
         * Get the information for the apps by intent.
         * @param intentOptions The options for the intent.
         * @param intentOptions.name The name of the intent.
         * @param intentOptions.context The optional context for the intent.
         * @param intentOptions.context.type The context type.
         * @param clientIdentity The client identity to get the information from.
         * @returns The information about the intents for the context.
         */
        async handleInfoForIntent(intentOptions, clientIdentity) {
            const result = await (0,_apps__WEBPACK_IMPORTED_MODULE_1__.getIntent)(customSettings?.appProvider, intentOptions.name, intentOptions.context?.type);
            if (!result) {
                throw new Error(NO_APPS_FOUND);
            }
            return {
                intent: result.intent,
                apps: result.apps.map((app) => {
                    const appEntry = {
                        name: app.appId,
                        appId: app.appId,
                        title: app.title
                    };
                    return appEntry;
                })
            };
        }
        /**
         * Handle and intent for the fired context.
         * @param contextForIntent The context for the intent.
         * @param contextForIntent.type Tht type of the context.
         * @param contextForIntent.metadata The metadata for the context.
         * @param contextForIntent.metadata.target The optional target for the context.
         * @param clientIdentity The identity of the client to handle the intent.
         * @returns The application details for the app that handled the intent.
         */
        async handleFiredIntentForContext(contextForIntent, clientIdentity) {
            const availableIntents = await (0,_apps__WEBPACK_IMPORTED_MODULE_1__.getIntentsByContext)(customSettings?.appProvider, contextForIntent.type);
            if (availableIntents.length === 0) {
                throw new Error(NO_APPS_FOUND);
            }
            const intent = {
                context: contextForIntent,
                name: "",
                displayName: undefined
            };
            let targetApp;
            let targetAppIntent;
            let targetAppIntentCount = 0;
            if (contextForIntent.metadata?.target !== undefined) {
                targetApp = await (0,_apps__WEBPACK_IMPORTED_MODULE_1__.getApp)(customSettings?.appProvider, contextForIntent.metadata?.target);
            }
            if (targetApp !== undefined && Array.isArray(targetApp.intents)) {
                for (const element of targetApp.intents) {
                    targetAppIntent = element;
                    if (Array.isArray(targetAppIntent.contexts) &&
                        targetAppIntent.contexts.includes(contextForIntent.type)) {
                        targetAppIntentCount++;
                    }
                }
            }
            if (targetApp !== undefined && targetAppIntent !== undefined && targetAppIntentCount === 1) {
                // a preferred name for an app was given with the context object
                // the app existed and it supported the context type and there was only one intent that supported
                // that context type. Launch the app with that intent otherwise present the user with a list of
                // everything that supports that context type
                intent.name = targetAppIntent.name;
                intent.displayName = targetAppIntent.name;
                const intentResolver = await this.launchAppWithIntent(targetApp, intent);
                if (!intentResolver) {
                    throw new Error(NO_APPS_FOUND);
                }
                return intentResolver;
            }
            if (availableIntents.length === 1) {
                intent.name = availableIntents[0].intent.name;
                intent.displayName = availableIntents[0].intent.name;
                if (availableIntents[0].apps.length === 1) {
                    const intentResolver = await this.launchAppWithIntent(availableIntents[0].apps[0], intent);
                    if (!intentResolver) {
                        throw new Error(NO_APPS_FOUND);
                    }
                    return intentResolver;
                }
                if (availableIntents[0].apps.length > 1) {
                    try {
                        const userSelection = await this.launchAppPicker({
                            apps: availableIntents[0].apps,
                            intent
                        });
                        if (userSelection) {
                            const selectedApp = availableIntents[0].apps.find((entry) => entry.appId === userSelection.appId && entry.appId !== undefined);
                            if (selectedApp) {
                                const intentResolver = await this.launchAppWithIntent(selectedApp, intent);
                                if (!intentResolver) {
                                    throw new Error(NO_APPS_FOUND);
                                }
                                return intentResolver;
                            }
                        }
                        console.error("We were returned a non existent appId to launch with the intent.");
                        throw new Error(NO_APPS_FOUND);
                    }
                    catch {
                        console.error("App for intent by context not selected/launched.", intent);
                        throw new Error(RESOLVER_TIMEOUT);
                    }
                }
            }
            else {
                try {
                    const userSelection = await this.launchAppPicker({
                        intent,
                        intents: availableIntents
                    });
                    if (userSelection) {
                        const selectedIntent = availableIntents.find((entry) => entry.intent.name === userSelection.intent.name);
                        if (selectedIntent === undefined) {
                            console.error("The user selected an intent but it's name doesn't match the available intents.", userSelection);
                            throw new Error(NO_APPS_FOUND);
                        }
                        const selectedApp = selectedIntent.apps.find((entry) => entry.appId === userSelection.appId && entry.appId !== undefined);
                        if (selectedApp) {
                            intent.displayName = userSelection.intent.displayName;
                            intent.name = userSelection.intent?.name ?? "";
                            const intentResolver = await this.launchAppWithIntent(selectedApp, intent);
                            if (!intentResolver) {
                                throw new Error(NO_APPS_FOUND);
                            }
                            return intentResolver;
                        }
                    }
                    console.error("We were returned a non existent appId to launch with the intent.");
                    throw new Error(NO_APPS_FOUND);
                }
                catch {
                    console.error("App for intent by context not selected/launched.", intent);
                    throw new Error(RESOLVER_TIMEOUT);
                }
            }
        }
        /**
         * Handle an intent that was fired.
         * @param intent The intent that was fired.
         * @returns The source and version of the application that was opened.
         */
        async handleFiredIntent(intent) {
            console.log("Received request for a raised intent:", intent);
            let intentApps = await (0,_apps__WEBPACK_IMPORTED_MODULE_1__.getAppsByIntent)(customSettings?.appProvider, intent.name);
            let targetApp;
            if (intent.metadata?.target) {
                targetApp = await (0,_apps__WEBPACK_IMPORTED_MODULE_1__.getApp)(customSettings?.appProvider, intent.metadata.target);
                if (targetApp === undefined) {
                    // check to see if you have been passed a specific identity for a view that should be targeted instead of an app
                    const targetIdentity = await this.getTargetIdentity(intent.metadata?.target);
                    if (targetIdentity) {
                        console.log("We were passed a view identity instead of an app entry when raising/firing an intent. We will fire the intent at that as it exists and no app entry exists with that name.:", targetIdentity, intent);
                        await super.setIntentTarget(intent, targetIdentity);
                        return {
                            source: targetIdentity.name
                        };
                    }
                }
            }
            if (intentApps.length === 0) {
                console.log("No apps support this intent.");
                throw new Error(NO_APPS_FOUND);
            }
            if (targetApp !== undefined && intentApps.includes(targetApp)) {
                console.log("Assigning selected application with intent.", intent);
                intentApps = [targetApp];
            }
            if (intentApps.length === 1) {
                // handle single entry
                const intentResolver = await this.launchAppWithIntent(intentApps[0], intent);
                if (!intentResolver) {
                    throw new Error(NO_APPS_FOUND);
                }
                return intentResolver;
            }
            // show menu
            // launch a new window and optionally pass the available intents as customData.apps as part of the window options
            // the window can then use raiseIntent against a specific app (the selected one). This is a very basic example.
            try {
                const userSelection = await this.launchAppPicker({
                    apps: intentApps,
                    intent
                });
                if (intentApps === undefined) {
                    console.warn("We should have a list of apps to search from.");
                    intentApps = [];
                }
                const selectedApp = intentApps.find((entry) => entry.appId === userSelection?.appId && entry.appId !== undefined);
                if (selectedApp) {
                    const intentResolver = await this.launchAppWithIntent(selectedApp, intent);
                    if (!intentResolver) {
                        throw new Error(NO_APPS_FOUND);
                    }
                    return intentResolver;
                }
                console.error("We were returned a non existent appId to launch with the intent.");
                throw new Error(NO_APPS_FOUND);
            }
            catch {
                console.error("App for intent not selected/launched.", intent);
                throw new Error(RESOLVER_TIMEOUT);
            }
        }
    };
}
/**
 * Launch an application as a view.
 * @param viewApp The application to launch as a view.
 * @returns The identity of the view that was launched.
 */
async function launchView(viewApp) {
    if (!viewApp) {
        console.warn("No app was passed to launchView");
        return;
    }
    if (viewApp.manifestType !== "view" && viewApp.manifestType !== "inline-view") {
        console.warn("The app passed was not of manifestType view or inline-view.");
        return;
    }
    let manifest;
    if (viewApp.manifestType === "view") {
        if (!viewApp.manifest) {
            return;
        }
        const manifestResponse = await fetch(viewApp.manifest);
        manifest = await manifestResponse.json();
    }
    else {
        // conversion because of manifestType. In most use cases manifest is always a path to an executable or to a manifest file. For views we are demonstrating how it could be used
        // for passing the manifest inline
        manifest = viewApp.manifest;
    }
    const name = manifest.name;
    let identity = { uuid: fin.me.identity.uuid, name };
    const wasNameSpecified = name !== undefined;
    let viewExists = false;
    if (wasNameSpecified) {
        viewExists = await doesViewExist(identity);
    }
    if (!viewExists) {
        try {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            const createdView = await platform.createView(manifest);
            identity = createdView.identity;
        }
        catch (err) {
            console.error("Error launching view", err);
            return;
        }
    }
    return identity;
}
/**
 * Launch a snapshot based application.
 * @param snapshotApp The snapshot application to launch.
 * @returns The identity of the views in the snapshot that was launched.
 */
async function launchSnapshot(snapshotApp) {
    if (!snapshotApp) {
        console.warn("No app was passed to launchSnapshot");
        return;
    }
    if (snapshotApp.manifestType !== "snapshot") {
        console.warn("The app passed was not of manifestType snapshot.");
        return;
    }
    if (!snapshotApp.manifest) {
        return;
    }
    const manifestResponse = await fetch(snapshotApp.manifest);
    const manifest = await manifestResponse.json();
    const windows = manifest.windows;
    const windowsToCreate = [];
    if (Array.isArray(windows)) {
        const windowsToGather = [];
        const viewIds = [];
        for (const win of windows) {
            const getViewIdsForLayout = findViewNames(win.layout);
            if (getViewIdsForLayout.length === 0) {
                const uuid = randomUUID();
                const name = `internal-generated-window-${uuid}`;
                win.name = name;
                windowsToCreate.push(win);
                windowsToGather.push(name);
            }
            else {
                // we have views. Grab the first one to validate existence.
                const viewId = getViewIdsForLayout[0];
                for (const entry of getViewIdsForLayout) {
                    viewIds.push({ name: entry, uuid: fin.me.identity.uuid });
                }
                // these views should be readonly and cannot be pulled out of the page or closed
                if (!(await doesViewExist({ name: viewId, uuid: fin.me.identity.uuid }))) {
                    windowsToCreate.push(win);
                }
            }
        }
        manifest.windows = windowsToCreate;
        if (windowsToCreate.length > 0) {
            const platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            try {
                await platform.applySnapshot(manifest);
            }
            catch (err) {
                console.error("Error trying to apply snapshot to platform.", err, manifest);
            }
        }
        for (const window of windowsToGather) {
            const windowViewIds = await getViewIdentities({ name: window, uuid: fin.me.identity.uuid });
            viewIds.push(...windowViewIds);
        }
        return viewIds;
    }
}
/**
 * Find the names of all the views in the layout.
 * @param layout The layout to find the view names in.
 * @returns The list of view names.
 */
function findViewNames(layout) {
    const collectedNames = [];
    JSON.stringify(layout, (_, nestedValue) => {
        // check to ensure that we have a name field and that we also have a url field in this object (in case name was added to a random part of the layout)
        if (nestedValue?.name?.length && nestedValue.url !== undefined) {
            collectedNames.push(nestedValue.name);
        }
        return nestedValue;
    });
    return collectedNames;
}
/**
 * Does the view exist?
 * @param identity The identity of the view to find.
 * @returns True if the view exists.
 */
async function doesViewExist(identity) {
    const view = fin.View.wrapSync(identity);
    let exists = false;
    try {
        await view.getInfo();
        const viewHost = await view.getCurrentWindow();
        await viewHost.bringToFront();
        exists = true;
    }
    catch {
        exists = false;
    }
    return exists;
}
/**
 * Get all the view identities for the specified window.
 * @param identity The identity of the window to find its views.
 * @returns The list of view identities for the window.
 */
async function getViewIdentities(identity) {
    try {
        const win = fin.Window.wrapSync(identity);
        const views = await win.getCurrentViews();
        const viewIdentities = views.map((view) => view.identity);
        await win.setAsForeground();
        return viewIdentities;
    }
    catch {
        return [];
    }
}
/**
 * Polyfills randomUUID if running in a non-secure context.
 * @returns The random UUID.
 */
function randomUUID() {
    if ("randomUUID" in window.crypto) {
        // eslint-disable-next-line no-restricted-syntax
        return window.crypto.randomUUID();
    }
    // Polyfill the window.crypto.randomUUID if we are running in a non secure context that doesn't have it
    // we are still using window.crypto.getRandomValues which is always available
    // https://stackoverflow.com/a/2117523/2800218
    /**
     * Get random hex value.
     * @param c The number to base the random value on.
     * @returns The random value.
     */
    function getRandomHex(c) {
        // eslint-disable-next-line no-bitwise
        const rnd = window.crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4));
        return (
        // eslint-disable-next-line no-bitwise
        (Number(c) ^ rnd).toString(16));
    }
    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, getRandomHex);
}


/***/ }),

/***/ "./node_modules/@openfin/workspace-platform/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@openfin/workspace-platform/index.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const o=n(a(6535));t.lightenColor=(e,t)=>r(e,"lighten",t),t.darkenColor=(e,t)=>r(e,"darken",t);const r=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,o.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>o.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent",openFinActive:"#4642FF",openFinHover:"#6965FF",lightGray4Active:"#D7DADF",lightGray4Hover:"#EBECEF",darkGray2Active:"#33353B",darkGray2Hover:"#44464E"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),o=a(2346),r=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,o.darkenColor)(t,2),[`${e}Hover`]:(0,o.lightenColor)(t,5),[`${e}Focused`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,o.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},s(r.Palette.brandPrimary,e.brandPrimary)),s(r.Palette.brandSecondary,e.brandSecondary)),e)})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(o,r){if(r=r||{},(o=o||"")instanceof n)return o;if(!(this instanceof n))return new n(o,r);var i=function(n){var o,r,i,s={r:0,g:0,b:0},c=1,l=null,d=null,u=null,p=!1,w=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,o=!1;if(y[e])e=y[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=R.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=R.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=R.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=R.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=R.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=R.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=R.hex8.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:W(n[4]),format:o?"name":"hex8"}:(n=R.hex6.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:o?"name":"hex"}:(n=R.hex4.exec(e))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:W(n[4]+""+n[4]),format:o?"name":"hex8"}:!!(n=R.hex3.exec(e))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:o?"name":"hex"}}(n)),"object"==e(n)&&(E(n.r)&&E(n.g)&&E(n.b)?(o=n.r,r=n.g,i=n.b,s={r:255*P(o,255),g:255*P(r,255),b:255*P(i,255)},p=!0,w="%"===String(n.r).substr(-1)?"prgb":"rgb"):E(n.h)&&E(n.s)&&E(n.v)?(l=I(n.s),d=I(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),o=e-n,r=a*(1-t),i=a*(1-o*t),s=a*(1-(1-o)*t),c=n%6;return{r:255*[a,i,r,r,s,a][c],g:255*[s,a,a,i,r,r][c],b:255*[r,r,s,a,a,i][c]}}(n.h,l,d),p=!0,w="hsv"):E(n.h)&&E(n.s)&&E(n.l)&&(l=I(n.s),u=I(n.l),s=function(e,t,a){var n,o,r;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=o=r=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),o=i(c,s,e),r=i(c,s,e-1/3)}return{r:255*n,g:255*o,b:255*r}}(n.h,l,u),p=!0,w="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=v(c),{ok:p,format:n.format||w,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(o);this._originalInput=o,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=(r+i)/2;if(r==i)n=o=0;else{var c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,l:s}}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,o,r=Math.max(e,t,a),i=Math.min(e,t,a),s=r,c=r-i;if(o=0===r?0:c/r,r==i)n=0;else{switch(r){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:o,v:s}}function i(e,t,a,n){var o=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function s(e,t,a,n){return[x(A(n)),x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function l(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function d(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function w(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function g(e,t){var a=n(e).toHsl(),o=(a.h+t)%360;return a.h=o<0?360+o:o,n(a)}function h(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),o=[n(e)],r=360/t,i=1;i<t;i++)o.push(n({h:(a.h+i*r)%360,s:a.s,l:a.l}));return o}function k(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function b(e,t,a){t=t||6,a=a||30;var o=n(e).toHsl(),r=360/a,i=[n(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,i.push(n(o));return i}function f(e,t){t=t||6;for(var a=n(e).toHsv(),o=a.h,r=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:o,s:r,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=v(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,o){var r=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16)),x(A(n))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var r=n(e);a="#"+s(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(f,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]="a"===r?t[r]:I(t[r]));t=o}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var o=n(e).toRgb(),r=n(t).toRgb(),i=a/100;return n({r:(r.r-o.r)*i+o.r,g:(r.g-o.g)*i+o.g,b:(r.b-o.b)*i+o.b,a:(r.a-o.a)*i+o.a})},n.readability=function(e,t){var a=n(e),o=n(t);return(Math.max(a.getLuminance(),o.getLuminance())+.05)/(Math.min(a.getLuminance(),o.getLuminance())+.05)},n.isReadable=function(e,t,a){var o,r,i,s,c,l=n.readability(e,t);switch(r=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),o={level:s,size:c}).level+o.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},n.mostReadable=function(e,t,a){var o,r,i,s,c=null,l=0;r=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var d=0;d<t.length;d++)(o=n.readability(e,t[d]))>l&&(l=o,c=n(t[d]));return n.isReadable(e,c,{level:i,size:s})||!r?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var y=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(y);function v(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function M(e){return parseInt(e,16)}function x(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function A(e){return Math.round(255*parseFloat(e)).toString(16)}function W(e){return M(e)/255}var D,T,B,R=(T="[\\s|\\(]+("+(D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",B="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",{CSS_UNIT:new RegExp(D),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function E(e){return!!R.CSS_UNIT.exec(e)}return n}()}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e].call(r.exports,r,r.exports,o),r.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=o(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=o(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=o(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in r)i[s]=r[s];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{AppManifestType:()=>l,BookmarkItemContextMenuOptionType:()=>y,BrowserButtonType:()=>v,ColorSchemeOptionType:()=>k,CustomActionCallerType:()=>M,Dock:()=>u,EnterpriseMainContextMenuOptionType:()=>f,GlobalContextMenuOptionType:()=>m,PageChangeEventType:()=>h,PageTabContextMenuOptionType:()=>b,PanelPosition:()=>g,SUPPORTED_LANGUAGES:()=>x,SaveButtonContextMenuOptionType:()=>P,SaveModalType:()=>I,ViewTabMenuOptionType:()=>S,WindowType:()=>C,getCurrentSync:()=>bn,init:()=>Hs,wrapSync:()=>kn});var e={};a.r(e),a.d(e,{createNamespacedLocalStorage:()=>Pt,getItem:()=>xt,removeItem:()=>It,setItem:()=>Mt});var t,o,r,i,s,c,l,d,u={};a.r(u),a.d(u,{init:()=>Gt}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(t||(t={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(o||(o={})),function(e){e.Active="active",e.Default="default"}(r||(r={})),function(e){e.Suggestion="suggestion"}(i||(i={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(s||(s={})),function(e){e.MultiSelect="MultiSelect"}(c||(c={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(l||(l={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(d||(d={}));var p,w,g,h,m,k,b,f,y,S,v,P,C,M;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(p||(p={})),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(w||(w={})),function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(g||(g={})),function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(h||(h={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.ManageDesktopSignals="ManageDesktopSignals",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(m||(m={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(k||(k={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.ManageDesktopSignals="ManageDesktopSignals",e.AddToChannel="AddToChannel",e.Custom="Custom"}(b||(b={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.ManageDesktopSignals="ManageDesktopSignals",e.Print="Print",e.Pin="Pin"}(f||(f={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(y||(y={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(S||(S={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(v||(v={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(P||(P={})),function(e){e.Browser="browser",e.Platform="platform"}(C||(C={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(M||(M={}));const x=["en-US","ja-JP","zh-CN","ko-KR","ru-RU","de-DE","zh-Hant"];var I,A;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(I||(I={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(A||(A={}));const W="undefined"!=typeof window&&"undefined"!=typeof fin,D=("undefined"==typeof process||process.env,"undefined"!=typeof window),T=D&&"undefined"!=typeof indexedDB,B=D?window.origin:A.Local,R=W&&fin.me.uuid,E=W&&fin.me.name,F=W&&fin.me.entityType,V=(A.Local,A.Dev,A.Staging,"prod"===A.Prod),N=e=>e.startsWith("http://")||e.startsWith("https://")?e:B+e,L=N("https://workspace.openfin.co/workspace/22.3.9"),_=N("https://workspace.openfin.co/workspace/22.3.9"),U=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&N(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&N(WORKSPACE_DOCS_CLIENT_URL),"42.138.100.101"),O="22.3.9";"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA;var G,H;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(G||(G={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseLandingPage="/enterprise/landing/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseAboutPage="/popup-menu/about/",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/",e.ZoomControlsDialog="/zoom-controls-dialog/",e.DesktopSignalsModal="/popup-menu/desktop-signals-modal/"}(H||(H={}));const $={...G,...H};var z;!function(e){e.Search="search"}(z||(z={}));const K=$;async function J(){const e="getManifestOverrides",{manifest:t,initialOptions:a}=await fin.Application.getCurrentSync().getInfo();return t?.platform.workspace||t?.platform.home||a?.workspace||a?.home||console.warn(`${e}: Missing Home development manifest overrides, using Desktop Owner Settings.`),t?.platform.workspace?(JSON.stringify(t?.platform.workspace),t?.platform.workspace):t?.platform.home?(JSON.stringify(t?.platform.home),t?.platform.home):a?.workspace?(JSON.stringify(a?.workspace),a?.workspace):a?.home?(JSON.stringify(a?.home),a?.home):{}}const Z=e=>fin.System.getSystemAppConfig(e);async function q(){const e="getDOSOverrides";if(!W)return console.warn(`${e}: the fin API was not available, returning no result`),{};try{let t=await Z("workspace").catch((t=>{console.warn(`${e}: customConfig entry for SystemApp workspace not available in Desktop Owner Settings. ${t?.message}`)}));return t||(t=await Z("home")),JSON.stringify(t),t}catch(t){if(!V)return{};if(!(t instanceof Error))throw t;console.warn(`${e}: Missing Workspace Desktop Owner Settings configuration, using defaults. ${t?.message}`)}return{}}let j,Q;async function Y(){if(j)return j;const e="getOverrides";if(!W)return D&&console.warn(`${e}: The Fin API was not available. Returning an empty result.`),{};const[t,a]=await Promise.all([q(),J()]);return j={...a,...t,disableRuntimeValidation:a.disableRuntimeValidation||t.disableRuntimeValidation},j}function X(e){Q=e}const ee=e=>e.replace(/\/$/,"");async function te(){const e=(await Y()).browserBaseUrl;if(e)try{const t=new URL(e);if(t.pathname.endsWith("/"))t.pathname=ee(t.pathname);else{if("/workspace"===t.pathname)return t.pathname+=`/${O}`,t.toString();console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url, with path: /workspace. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}}catch(t){console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}return Q??_}async function ae(e=!1){const t=await te()+K.Browser;return e?t:ee(t)}async function ne(e=!1){const t=await te()+K.EnterpriseBrowser;return e?t:ee(t)}async function oe(){return await ne()+"/landing/"}const re=async(e,t=!1)=>e?ne(t):ae(t),ie=56,se=728,ce=150,le="dock3",de=e=>{const t=e||"undefined"!=typeof fin&&fin.me.identity.uuid;if(!t)throw new Error("UUID is required to get the Dock3 channel name.");return`${t}-dock3`};var ue,pe;!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(ue||(ue={})),function(e){e.FinProtocol="fin-protocol"}(pe||(pe={}));const we={uuid:R},ge=(ue.Workspace,e=>{if(!W)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),he=()=>ge(we);var me;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion",e.AICompanionPrefix="openfin-ai-companion-",e.UpdateVersionModal="here-update-version-modal",e.ZoomControlsDialog="here-zoom-controls-dialog",e.AboutPageWindow="here-about-page",e.DesktopSignalsModal="here-desktop-signals-modal"}(me||(me={}));const ke=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2}),be=(e,t)=>{const a=t.width/2,n=t.height/2;return{left:Math.round(e.left-a),top:Math.round(e.top-n),width:t.width,height:t.height}};function fe(e){if(!W)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const ye={name:E,uuid:R};function Se(){return fe(ye)}me.Home,ue.Workspace,me.Dock,ue.Workspace;const ve={name:me.Storefront,uuid:ue.Workspace};ue.Workspace,ue.Workspace;async function Pe(e){const t=fe(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.focus()}const Ce=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function Me(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>Ce(e.identity))));return e.filter(((e,a)=>t[a]))}async function xe(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>e.identity.name.startsWith(me.BrowserMenu)))}const Ie=e=>fe(e).getInfo().then((()=>!0)).catch((()=>!1)),Ae=()=>Ie(ve);function We(e,t){const a=e.top,n=e.left,o=e.top+e.height,r=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,l=t.monitorRect.right;if(a>c||o<i||n>l||r<s)return 0;const d=Math.max(a,i),u=Math.max(n,s);return(Math.min(o,c)-d)*(Math.min(r,l)-u)/(e.height*e.width)}async function De(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=We(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}const Te=(e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a};const Be=(e,t=0)=>{let a,n,o=!1;const r=async n=>{const i=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,r(e)}return i};return(...e)=>(n?(o=!0,a=e):n=r(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var Re;!function(e){e.Top="top",e.Below="below"}(Re||(Re={}));const Ee=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function Fe(e,t,a,n,o,r){const i=!!e&&fe(e),s=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(i,r);if(n===Re.Below){if(!i||await Ee(i)){const e=i?(await De(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ke(e).left-t/2,top:o?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:ke(s).left-t/2,top:o?s.bottom-128:s.bottom+12,width:t,height:a}}if(!i||await Ee(i)){const e=i?(await De(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:ke(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:ke(s).left-t/2,top:s.top+20,width:t,height:a}}Be((async function(e,t,a,n,o){const r=t.getBoundingClientRect(),i=await Fe(e,r.width,r.height,a,n,o);if(0===i.width||0===i.height)return;const s=Se();await s.setBounds(i),await s.show();const c=setTimeout((()=>s.close()),n?5e3:3e3),l=()=>{clearTimeout(c),s.close()};if(e){const t=fe(e);t.on("bounds-changing",(()=>l())),t.on("blurred",(()=>l())),t.on("maximized",(()=>l())),t.on("minimized",(()=>l())),t.on("restored",(()=>l()))}}),10);const Ve=async e=>{const t=e&&await fe(e).getBounds(),a=e?await De(t):(await fin.System.getMonitorInfo()).primaryMonitor;return{left:((n=a.availableRect).left+n.right)/2,top:(n.top+n.bottom)/2};// removed by dead control flow
{ var n; }},Ne=async(e,t,a=!1)=>{let n;if(a)n=await Ve(t);else{const e=fe(t),a=await e.getBounds();n=ke(a)}const{defaultHeight:o,defaultWidth:r}=e;return be(n,{height:o,width:r})};async function Le(e,t,a=!1){const n=t&&"maximized"===await fe(t).getState(),o=a||n||!t,r=await Ne(e,t,o);return await(async e=>{const t=await fin.System.getMonitorInfo(),a=[t.primaryMonitor,...t.nonPrimaryMonitors];for(const t of a)if(1===We(e,t))return!1;return!0})(r)?(await fe(t).center(),Ne(e,t,o)):(console.warn("Response modal isn't off screen, not centering parent window"),r)}const _e=()=>e=>e;var Ue=a(847);const Oe=e=>e.replace(/[^\d,]/g,"").split(","),Ge=e=>{if(e.length<2)throw new Error("Invalid color object, cannot convert to HSL.");const t=e[0]/255,a=e[1]/255,n=e[2]/255,o=Math.min(t,a,n),r=Math.max(t,a,n),i=r-o;let s=0,c=0,l=0;return s=0===i?0:r===t?(a-n)/i%6:r===a?(n-t)/i+2:(t-a)/i+4,s=Math.round(60*s),s<0&&(s+=360),l=(r+o)/2,c=0==i?0:i/(1-Math.abs(2*l-1)),c=+(100*c).toFixed(1),l=+(100*l).toFixed(1),{hsl:`hsl(${s}, ${c}%, ${l}%)`,hsla:`hsl(${s}, ${c}%, ${l}%, 1)`,hue:s,lightness:l,saturation:c}},He=e=>{if(!e.includes("#"))throw new Error("Invalid hex value, cannot convert to RGB. Hex value begins with a hashtag.");let t=0,a=0,n=0;if(4===e.length)t=`0x${e[1]}${e[1]}`,a=`0x${e[2]}${e[2]}`,n=`0x${e[3]}${e[3]}`;else{if(7!==e.length)throw new Error("Invalid hex string length, cannot convert to RGB.");t=`0x${e[1]}${e[2]}`,a=`0x${e[3]}${e[4]}`,n=`0x${e[5]}${e[6]}`}return[+t,+a,+n]},$e=e=>{const t=e;if(t.startsWith("#")){return{rgb:He(t).join(", "),alpha:1}}const a=t.match(/\d{1,3}(\.\d+)?/g);if(a){const[e,t,n,o]=a;return{rgb:`${e}, ${t}, ${n}`,alpha:void 0!==o?parseFloat(o):1}}return{rgb:He(e).join(", "),alpha:1}},ze=(e,t=!1)=>{const a=(e=>{if(!e)throw new Error("Color is not defined");const t=e.toLowerCase();let a;if(t.includes("rgb")){const e=Oe(t);e.length>3&&e.pop(),a=Ge(e).hue}if(t.includes("#")){const e=He(t);a=Ge(e).hue}t.includes("hsl")&&(a=Oe(t)[0]);const n=a?.toString();if(!n)throw new Error(`Hue was unable to be extracted from "${t}", check color format. Accepted formats are: rgb(), rgba(), hex, hsl(), and hsla()`);return n})(e);return t?{background1:`hsla(${a}, 0%, 100%, 1)`,background2:`hsla(${a}, 67%, 99%, 1)`,background3:`hsla(${a}, 26%, 96%, 1)`,background4:`hsla(${a}, 15%, 94%, 1)`,background5:`hsla(${a}, 10%, 88%, 1)`,background6:`hsla(${a}, 80%, 80%, 1)`}:{background1:`hsla(${a}, 8%, 7%, 1)`,background2:`hsla(${a}, 8%, 13%, 1)`,background3:`hsla(${a}, 9%, 15%, 1)`,background4:`hsla(${a}, 6%, 23%, 1)`,background5:`hsla(${a}, 21%, 28%, 1)`,background6:`hsla(${a}, 5%, 51%, 1)`}},Ke=(e,t)=>{const a={};return Object.keys(e).forEach((n=>{a[n]=t[n]?t[n]:e[n]})),a};var Je=a(877),Ze=a.n(Je),qe=a(67),je=a.n(qe);const Qe={light:{symbol:je()?.src||""},dark:{symbol:Ze()?.src||""}},Ye=D&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function Xe(e){let t;const a=new Set;return()=>{if(!W)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Ye;const n={clientAPIVersion:O},o=await fin.InterApplicationBus.Channel.connect(e,{payload:n});return o.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),o})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}var et,tt;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(et||(et={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(tt||(tt={}));const at=Xe("__of_workspace_protocol__"),nt=at;Xe("__search-openfin-browser-home-topic__");var ot;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.GetSavedWorkspacesMetadata="getSavedWorkspacesMetadata",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal",e.SendUpdateVersionModalResponseInternal="sendUpdateVersionModalResponseInternal",e.ShowUpdateVersionModalInternal="showUpdateVersionModalInternal"}(ot||(ot={}));const rt=async e=>fin.Platform.wrapSync(e).getClient(),it=async e=>{const t=await rt(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},st=async e=>(await it(e),rt(e)),ct=async e=>{const t=await it(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return rt(e)},lt="dark",dt={[Ue.Palette.brandPrimary]:"#0A76D3",[Ue.Palette.brandPrimaryActive]:"#0A71C9",[Ue.Palette.brandPrimaryHover]:"#0B84EB",[Ue.Palette.brandPrimaryFocused]:Ue.Color.white,[Ue.Palette.brandPrimaryText]:Ue.Color.white,[Ue.Palette.statusSuccess]:Ue.Color.functional1,[Ue.Palette.statusWarning]:Ue.Color.functional10,[Ue.Palette.statusCritical]:Ue.Color.functional7,[Ue.Palette.statusActive]:Ue.Color.functional3,[Ue.Palette.contentBackground1]:"#0A76D3",[Ue.Palette.contentBackground2]:"#000000",[Ue.Palette.contentBackground3]:"#000000",[Ue.Palette.contentBackground4]:"#000000",[Ue.Palette.contentBackground5]:"#000000",[Ue.Palette.borderNeutral]:Ue.Color.silverGray},ut={...dt,[Ue.Palette.background1]:Ue.Color.white,[Ue.Palette.background2]:Ue.Color.lightGray1,[Ue.Palette.background3]:Ue.Color.lightGray2,[Ue.Palette.background4]:Ue.Color.lightGray3,[Ue.Palette.background5]:Ue.Color.lightGray4,[Ue.Palette.background6]:Ue.Color.lightGray5,[Ue.Palette.brandSecondary]:Ue.Color.lightGray4,[Ue.Palette.brandSecondaryActive]:Ue.Color.lightGray4Active,[Ue.Palette.brandSecondaryHover]:Ue.Color.lightGray4Hover,[Ue.Palette.brandSecondaryFocused]:Ue.Color.darkGray5,[Ue.Palette.brandSecondaryText]:Ue.Color.darkGray5,[Ue.Palette.inputBackground]:Ue.Color.lightGray3,[Ue.Palette.inputColor]:Ue.Color.darkGray5,[Ue.Palette.inputPlaceholder]:Ue.Color.darkGray2,[Ue.Palette.inputDisabled]:Ue.Color.neutralGray,[Ue.Palette.inputFocused]:Ue.Color.lightGray5,[Ue.Palette.inputBorder]:Ue.Color.neutralGray,[Ue.Palette.textDefault]:Ue.Color.darkGray5,[Ue.Palette.textHelp]:Ue.Color.darkGray3,[Ue.Palette.textInactive]:Ue.Color.neutralGray},pt={...dt,[Ue.Palette.background1]:Ue.Color.darkGray6,[Ue.Palette.background2]:Ue.Color.darkGray5,[Ue.Palette.background3]:Ue.Color.darkGray4,[Ue.Palette.background4]:Ue.Color.darkGray3,[Ue.Palette.background5]:Ue.Color.darkGray2,[Ue.Palette.background6]:Ue.Color.darkGray1,[Ue.Palette.brandSecondary]:Ue.Color.darkGray2,[Ue.Palette.brandSecondaryActive]:Ue.Color.darkGray2Active,[Ue.Palette.brandSecondaryHover]:Ue.Color.darkGray2Hover,[Ue.Palette.brandSecondaryFocused]:Ue.Color.white,[Ue.Palette.brandSecondaryText]:Ue.Color.white,[Ue.Palette.inputBackground]:Ue.Color.darkGray1,[Ue.Palette.inputColor]:Ue.Color.white,[Ue.Palette.inputPlaceholder]:Ue.Color.lightGray5,[Ue.Palette.inputDisabled]:Ue.Color.neutralGray,[Ue.Palette.inputFocused]:Ue.Color.lightGray5,[Ue.Palette.inputBorder]:Ue.Color.neutralGray,[Ue.Palette.textDefault]:Ue.Color.white,[Ue.Palette.textHelp]:Ue.Color.lightGray5,[Ue.Palette.textInactive]:Ue.Color.neutralGray},wt=[{label:"OpenFin Default Light and Dark Theme",palettes:{light:{...ut,backgroundPrimary:Ue.Color.darkGray5},dark:{...pt,backgroundPrimary:Ue.Color.darkGray5}}}],gt=e=>{const{background:t,foreground:a}=e;return{background:t,foreground:a??"#FFFFFF"}},ht=(e,t)=>({icons:{symbol:e.brand?.icons?.[t]?.symbol||Qe[t].symbol}}),mt=e=>{const{light:t,dark:a}="palettes"in e?e.palettes:{light:e.palette,dark:e.palette},n=Ke(pt,a),o=Ke(ut,t),r=((e,t)=>{const a={...e},n={...t};let o=t.backgroundPrimary?ze(t.backgroundPrimary,!0):{},r=e.backgroundPrimary?ze(e.backgroundPrimary):{};return o={...o,...n},r={...r,...a},{light:{...t,...o},dark:{...e,...r}}})(a,t),i={...(0,Ue.createTheme)({...n,...r?.dark}),brand:ht(e,"dark")},s={...(0,Ue.createTheme)({...o,...r?.light}),brand:ht(e,"light")},{light:c,dark:l}=(e=>{const t=Object.keys(e.notificationIndicatorColors??{});if(t?.length){const a={},n={};return t.forEach((t=>{const o=e.notificationIndicatorColors[t];"background"in o?(a[t]=gt(o),n[t]=gt(o)):(a[t]=gt(o.dark??o.light),n[t]=gt(o.light??o.dark))})),{light:n,dark:a}}return{light:null,dark:null}})(e);return i.notificationIndicatorColors=l,s.notificationIndicatorColors=c,{dark:i,light:s}},kt=async e=>{const{themes:t,selectedScheme:a}=await(async e=>{const t=fin?.__internal_?.initialOptions?.workspacePlatform?._themeData;if(!t||e.uuid!==ye.uuid)return{themes:await kn(e).Theme.getThemes(),selectedScheme:await kn(e).Theme.getSelectedScheme()};return t})(e);var n,o;return(n=t?.length?t:wt,o=a,n.map((e=>{const t="palettes"in e?e.default:lt,{light:a,dark:n}=mt(e);return{label:e.label,logoUrl:e.logoUrl,theme:{dark:n,light:a},defaultScheme:o??t}})))[0]},bt=async e=>{const t=await st(e||fin.me.identity),a=await t.dispatch(ot.GetSelectedScheme,void 0);return a===k.System?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a},ft=async(e,t)=>{const a=await kt(fin.me.identity),n=await bt(fin.me.identity)===k.Dark,o=a?.theme;return o?.[n?k.Dark:k.Light]?.palette?.[e]||t};function yt(e){return function(e,t){const a={};for(const n of t)n in e&&(a[n]=e[n]);return a}(e,_e()(["defaultLeft","defaultTop","defaultCentered","saveWindowState","taskbarIconGroup"]))}function St(){let e,t;return{promise:new Promise(((a,n)=>{e=a,t=n})),resolve:e,reject:t}}const vt=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),Pt=e=>({setItem:(t,a)=>{localStorage.setItem(`${e}-${t}`,a)},getItem:t=>localStorage.getItem(`${e}-${t}`),removeItem:t=>localStorage.removeItem(`${e}-${t}`)}),Ct=Pt(R),Mt=Ct.setItem,xt=Ct.getItem,It=Ct.removeItem;var At;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(At||(At={}));const Wt=At,Dt=e=>e+"-"+fin.me.uuid,Tt=(e,t)=>{const a=T&&W&&new vt.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},Bt=(e,t)=>{const a=Tt(Dt(e),t),n=Tt(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=xt(Wt.HasMovedStore),o=n?JSON.parse(n):{};if(o&&o[a])return;o[a]=!0,Mt(Wt.HasMovedStore,JSON.stringify(o));const r=await e[a].toArray();await t[a].bulkPut(r)})(n,a,e),a},Rt="dock3-provider-config",Et=T&&W&&new vt.Dexie(Dt("dock3-provider-config"));Et&&Et.version(.1).stores({[Rt]:""});var Ft,Vt,Nt,Lt,_t=function(e,t,a,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,a):o?o.value=a:t.set(e,a),a},Ut=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};class Ot{static getOverrideConstructor(...e){return class extends Ot{constructor(){super(...e)}}}constructor(e,t){if(Ft.set(this,void 0),Vt.set(this,void 0),Nt.set(this,null),Lt.set(this,St()),Ot.instance)throw new Error("Dock3Provider has already been initialized.");Ot.instance=this,_t(this,Ft,e,"f"),_t(this,Vt,t,"f"),this.registerChannelActions()}async launchEntry(e){}get ready(){return Ut(this,Lt,"f").promise}async bookmarkContentMenuEntry(e){}get config(){return Ut(this,Ft,"f")}set config(e){_t(this,Ft,e,"f")}async updateConfig(e){await this.handleConfigChange(e)}async shutdown(){await Promise.all([Ut(this,Vt,"f").destroy(),this.getWindowSync().close(!0)]),Ot.instance=null}async saveConfig({config:e}){_t(this,Ft,e,"f"),await async function(e){if(!Et)throw new Error("Unable to save Dock provider config - IndexedDb not supported");await Et[Rt].put(e,"latest")}(e)}async handleConfigChange(e){Ut(this,Nt,"f")&&await Ut(this,Vt,"f").dispatch(Ut(this,Nt,"f"),"handle-dock-config-updated",e)}async loadConfig(){const e=await async function(){if(!Et)throw new Error("Unable to get Dock provider config - IndexedDB not supported");try{return await Et[Rt].get("latest")}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDB",e)}}();return e&&_t(this,Ft,e,"f"),Ut(this,Ft,"f")}getWindowSync(){return fin.Window.wrapSync({uuid:fin.me.identity.uuid,name:le})}registerChannelActions(){Ut(this,Vt,"f").register("launch-entry",this.launchEntry.bind(this)),Ut(this,Vt,"f").register("save-config",this.saveConfig.bind(this)),Ut(this,Vt,"f").register("bookmark-content-menu-entry",this.bookmarkContentMenuEntry.bind(this)),Ut(this,Vt,"f").onConnection((e=>{e.name===le&&_t(this,Nt,e,"f")})),Ut(this,Vt,"f").register("ready",(async(e,t)=>{if(Ut(this,Nt,"f")?.endpointId!==t.endpointId)throw new Error(`Dock3Provider: 'ready' action received from unexpected client ${t.name} (${t.uuid})`);Ut(this,Lt,"f").resolve()})),Ut(this,Vt,"f").onDisconnection((e=>{Ut(this,Nt,"f")?.endpointId===e.endpointId&&(_t(this,Nt,null,"f"),_t(this,Lt,St(),"f"))}))}}async function Gt(e){const{config:t,override:a}=e;if(Ot.instance)throw new Error("Dock3Provider has already been initialized.");const n=await fin.InterApplicationBus.Channel.create(de()),o=new(a(Ot.getOverrideConstructor(t,n)));return await o.loadConfig(),await async function(e,t,a,n){if(!await Ie({uuid:ye.uuid,name:e})){let o;o="number"==typeof a.dockPosition?.left||"number"==typeof n?.defaultLeft?a.dockPosition?.left:(await Ve(ye)).left-se/2;const r={name:e,url:t+K.EnterpriseDock,autoShow:!0,frame:!1,smallWindow:!0,saveWindowState:!1,defaultHeight:ie,defaultWidth:se,includeInSnapshots:!1,defaultTop:a.dockPosition?.top??ce,defaultLeft:o,workspacePlatform:{windowType:a.windowType,...a},throttling:"disabled",resizable:!1,maximizable:!1,backgroundColor:await ft("background1"),...yt(n??{})};await fin.Window.create(Te(r))}}(le,await ae(),o.config,e.windowOptions),await o.ready,o}Ft=new WeakMap,Vt=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,Ot.instance=null;const Ht=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType},$t=e=>{const t=e?.defaultWindowOptions?.workspacePlatform?.windowType;return"enterprise"===t};let zt;const Kt=e=>{if(e)try{return new URL(e).pathname.includes(K.EnterpriseLandingPage.replace(/\/$/,""))}catch(t){console.error("error parsing url: %O",e)}return!1};var Jt;!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(Jt||(Jt={}));const Zt=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||O,componentName:e,componentVersion:t.componentVersion||O,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};let qt=!1;const jt=new Map,Qt=e=>{let t=jt.get(e.uuid);return t||(t=kn(e),t.once("closed",(()=>{jt.delete(e.uuid)})),jt.set(e.uuid,t)),t},Yt=async(e,t)=>{try{await e._raiseAnalytics([t])}catch(e){console.error("failed to raise analytics event",e)}},Xt=async e=>{await Yt(Qt(fin.me.identity),{source:"Browser",...e})};let ea;const ta=async e=>{ea||(ea=new TextEncoder);const t=ea.encode(e),a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map((e=>e.toString(16).padStart(2,"0"))).join("")};function aa(e){return e&&"object"==typeof e&&!Array.isArray(e)}function na(e,...t){if(!t.length)return e;const a=t.shift();return aa(e)&&aa(a)&&Object.entries(a).forEach((([t,a])=>{if(aa(a))return e[t]||(e[t]={}),na(e[t],a);e[t]=a})),na(e,...t)}const oa=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var ra=a.n(oa);function ia(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function sa(){return localStorage.getItem(Wt.MachineName)??"unknown"}let ca;async function la(){return ca||(ca=await fin.System.getMachineId()),ca}const da=e=>{if(Array.isArray(e.workspacePlatform?.pages)&&(e.layoutSnapshot||e.layout)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t){const a=e.layoutSnapshot?e.layoutSnapshot.layouts[t.layoutContainerKey]:e.layout;if(a)if(t.isLocked){const n=Wn(a,t.layout);t.layout=n,e.layout=n}else t.layout=a,e.layout=a}}return e};async function ua(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=sa();return{...t,snapshotDetails:{...t.snapshotDetails,machineId:await la(),machineName:a}}}const pa=async e=>({...e,layoutDetails:{machineId:await la(),machineName:sa()}}),wa=async(e,t)=>({pageId:ia(),title:e,layout:await pa(t),isReadOnly:!1}),ga=async e=>{const t=await wa(e.title,Mn(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:Cn(e.viewOptions)})))),{...e,...t}},ha=e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:o}=a,r=await Ht(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...o,headerHeight:r?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:o}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...o,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}},ma="of-workspace-";const ka=new class{mark(e){performance.mark(`${ma}${e}`)}markStart(e){performance.mark(`${ma}${e}-start`)}markEnd(e){performance.mark(`${ma}${e}-end`)}markEndAndMeasure(e){performance.mark(`${ma}${e}-end`);try{return performance.measure(`${ma}${e}`,`${ma}${e}-start`,`${ma}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${ma}${e}`);try{return performance.measure(`${ma}${e}-measure`,`${ma}${t}-start`,`${ma}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(ma)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${ma}`,"").replace("-measure",""),duration:e.duration})))}},ba=()=>{const e=`browser-context-menu-startup-${ia()}`;return ka.markStart(e),e},fa=e=>{ka.markAndMeasure("browser-context-menu-called",e)},ya=e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{(e=>{ka.markAndMeasure("browser-context-menu-shown",e)})(e)}))},Sa=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,va=new Map,Pa=e=>(va.has(e)||va.set(e,Xe(e)),va.get(e)()),Ca=(e,t)=>{const a=Sa(e,t);return Pa(a)};var Ma,xa,Ia,Aa,Wa,Da;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(Ma||(Ma={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(xa||(xa={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(Ia||(Ia={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(Aa||(Aa={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(Wa||(Wa={})),function(e){e.SendUpdateVersionModalResponse="send-update-version-modal-response"}(Da||(Da={}));const Ta={...Ma,...xa,...Wa},Ba=Xe(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),Ra=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await Ba()).dispatch(Aa.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await Ba()).dispatch(Aa.DeleteBookmarkNode,e))(e)},getPages:async()=>(await ct(e)).dispatch(ot.GetPagesForWindow,e),getPage:async t=>(await ct(e)).dispatch(ot.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>bn().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await ct(e),o={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(ot.AddPage,o)},_addPages:async(t,a,n)=>{const o=await ct(e),r=t.map((({page:e,opts:t})=>({...e,multiInstanceViewBehavior:t?.multiInstanceViewBehavior||"duplicate"}))),i={identity:e,pages:r,insertionIndex:a,replaceActivePage:n};return o.dispatch(ot.AttachPagesToWindow,i)},removePage:async t=>(await ct(e)).dispatch(ot.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>bn().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await ct(e),o=(await n.dispatch(ot.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!o)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);o.multiInstanceViewBehavior="reparent";const r={identity:e,pages:[o],insertionIndex:t.index};return n.dispatch(ot.AttachPagesToWindow,r)},setActivePage:async t=>(await ct(e)).dispatch(ot.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await ct(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await ct(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await ct(e);return(await Ca(e)).dispatch(Ta.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await Ca(e)).dispatch(Ta.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await ct(e);return t.identity=e,a.dispatch(ot.AddDefaultPage,t)},_trackRemovedTab:async t=>(await ct(e)).dispatch(ot.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await ct(e)).dispatch(ot.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await ct(e)).dispatch(ot.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await ct(e)).dispatch(ot.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await ct(e)).dispatch(ot.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await ct(e)).dispatch(ot.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await ct(e)).dispatch(ot.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await ct(e)).dispatch(ot.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await ct(e)).dispatch(ot.HandleRequestNavigationInternal,t),_sendUpdateVersionModalResponse:async t=>(await ct(e)).dispatch(ot.SendUpdateVersionModalResponseInternal,t)}),Ea=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>Ra(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${ia()}`;return ka.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{ka.markAndMeasure("browser-window-shown",e)}))})(n),await ct(e);const o=await t.createWindow(a);return(e=>{ka.markAndMeasure("browser-window-started",e)})(n),Ra(o.identity)},getAllAttachedPages:async()=>(await ct(e)).dispatch(ot.GetAllAttachedPages,void 0),getAllWindows:async()=>{await ct(e);return(await Me()).map((e=>Ra(e.identity)))},getUniquePageTitle:async t=>(await ct(e)).dispatch(ot.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await ct(e)).dispatch(ot.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await ct(e)).dispatch(ot.GetPageByViewIdentity,t)}};var Fa;!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(Fa||(Fa={}));function Va(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function Na(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function La(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function _a(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Ua={name:me.BrowserMenu,alwaysOnTop:!0,autoShow:!0,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!1,saveWindowState:!1};function Oa(e){const t={...Ua,...e};return t.url=function(e,t){if(!D)throw new Error("resolveAbsolutePath can only be used in a window");const a=t??window.location;if(/^(?:[a-z]+:)?\/\//i.test(e))return e;const n=`${a.protocol}//${a.hostname}`;return new URL(e,n).href}(t.url??""),t}const Ga=function(e){const t=new Map;return{emit:Va(t,(t=>W&&fin.InterApplicationBus.publish(e,t))),addListener:Na(t,(t=>W&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),addListenerWithUUID:a=>Na(t,(t=>W&&fin.InterApplicationBus.subscribe({uuid:a},e,t))),removeListener:_a(t),once:La(t)}}("window.menu"),Ha=(e,t)=>fin.Window.wrapSync(e).updateOptions({opacity:t}),$a=e=>Ga.emit("response",e),za=Be((()=>he().getChildWindows()),500);const Ka=new Map;async function Ja(e,t,a){const n=Oa(e),o=await kt(fin.me.identity),r=await bt(fin.me.identity)===k.Dark,i=o?.theme;if(n.backgroundColor=i?.[r?k.Dark:k.Light]?.palette?.inputBackground||n.backgroundColor,!Ka.has(n.name)){return new Promise((o=>{Ga.once("ready",(async e=>{if(e.name===n.name){const t=await Ka.get(n.name);n.preventBlur||t.once("blurred",(async()=>{if(Ha(e,0),t.hide(),$a({name:n.name,data:{actionName:"Cancel"}}),a=t.identity.name,[me.BrowserSaveMenu,me.DesktopSignalsModal].includes(a)){const e=await t.getOptions();"submitting"!==e.customContext&&"error"!==e.customContext&&t.close()}else t.identity.name.startsWith(me.BrowserMenu)&&t.close();var a})),setTimeout((async()=>{await Ha(e,1);1!==(await fin.Window.wrapSync(e).getOptions()).opacity&&Ha(e,1)})),o(t)}}));const r=(async()=>{const o=await fin.Platform.getCurrentSync().createWindow(Te({...n,opacity:0,url:t||n.url,defaultLeft:a?.left,defaultTop:a?.top,defaultWidth:a?.width,defaultHeight:a?.height,workspacePlatform:{preventBlur:e.preventBlur}},!0));return o.once("closed",(()=>{Ka.delete(n.name)})),o})();Ka.set(n.name,r)}))}return Ka.get(n.name)}async function Za(e,t){const a=Oa(e),n={top:a.top,left:a.left,width:a.defaultWidth||a.width,height:a.defaultHeight||a.height};return t.set("parentName",fin.Window.getCurrentSync().identity.name),{name:a.name,bounds:n,route:`${a.url}#${t.toString()}`}}async function qa({options:e,parameters:t}){const a=t??new URLSearchParams,n=Oa(e),{name:o,modalParentIdentity:r}=n;if(!a.has("isEnterprise")){const e=`${await(async e=>(zt||(zt=await Ht(e)),zt))(r)}`;a.set("isEnterprise",e)}let i=await async function(e){return(await za()).find((t=>t.identity.name===e))}(o);if(i)await async function(e,t){const{name:a,bounds:n,route:o}=await Za(e,t),r={uuid:fin.me.identity.uuid,name:a},i=fin.Window.wrapSync(r);await Promise.all([i.hide(),Ha(r,0),i.setBounds(n)]),e.preventBlur||i.once("blurred",(()=>{Ha(r,0),i.hide(),$a({name:r.name,data:{actionName:"Cancel"}})})),Ga.emit("update",a,n,o),await $a({name:a,data:{actionName:"Cancel"}})}(n,a);else{const{route:t,bounds:o}=await Za(e,a);i=await Ja({...n},t,o)}return i}const ja=async({options:e,content:t,parameters:a})=>{const n=a??new URLSearchParams;n.set("content",JSON.stringify({...t,invocationId:ia()}));const o={...e,name:`${e.name}--${e.modalParentIdentity?.name??""}`},r=await qa({options:o,parameters:n});return new Promise((e=>{Ga.once("response",(async t=>{t.name===o.name&&(e({data:t.data}),o?.closeOnResponse&&r.close())}))}))};let Qa;async function Ya(e){return(await(Qa||(Qa=Xe(`${"undefined"!=typeof fin&&fin.me.identity.uuid}-enterprise-modal`)()),Qa)).dispatch(Da.SendUpdateVersionModalResponse,e)}const Xa=async e=>{const t=fe(e),a=await t.getBounds(),n=ke(a),o=be(n,{height:240,width:432});return qa({options:{smallWindow:!0,saveWindowState:!1,showTaskbarIcon:!0,includeInSnapshots:!1,workspacePlatform:{windowType:"enterprise"},resizable:!1,name:me.DesktopSignalsModal,url:await ne()+K.DesktopSignalsModal,defaultWidth:432,defaultHeight:240,preventBlur:!1,...o},parameters:new URLSearchParams({title:"Desktop Signals Modal"})})},en=e=>({createPage:async t=>(await ct(e)).dispatch(ot.CreateSavedPageInternal,t),deletePage:async t=>(await ct(e)).dispatch(ot.DeleteSavedPageInternal,t),updatePage:async t=>(await ct(e)).dispatch(ot.UpdateSavedPageInternal,t),getPage:async t=>(await ct(e)).dispatch(ot.GetSavedPage,t),getPages:async t=>(await ct(e)).dispatch(ot.GetSavedPages,t),savePage:async t=>(await ct(e)).dispatch(ot.SavePage,t),createWorkspace:async t=>(await st(e)).dispatch(ot.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=bn(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await st(e)).dispatch(ot.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await st(e)).dispatch(ot.UpdateSavedWorkspace,t),getWorkspace:async t=>(await st(e)).dispatch(ot.GetSavedWorkspace,t),getWorkspaces:async t=>(await st(e)).dispatch(ot.GetSavedWorkspaces,t),getWorkspacesMetadata:async t=>(await st(e)).dispatch(ot.GetSavedWorkspacesMetadata,t),saveWorkspace:async t=>(await st(e)).dispatch(ot.SaveWorkspace,t),getDockProviderConfig:async t=>(await st(e)).dispatch(ot.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await st(e)).dispatch(ot.SaveDockProviderConfig,t)});var tn;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(tn||(tn={}));const an=Xe("of-workspace-notifications-sync"),nn=k.System,on=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),rn=(e,t)=>{const a=!!e.contentBackground5&&"#000000"!==e.contentBackground5,n=!!e.contentBackground4&&"#000000"!==e.contentBackground4,o=$e(e.textDefault),r=$e(e.textInactive),i=o.rgb,s=r.rgb,c=o.alpha?parseFloat(o.alpha.toString()):1,l=r.alpha?parseFloat(r.alpha.toString()):1;return{dockExpandedContainerBorderColor:a?e.contentBackground5:e.background4,dockExpandedContainerBorderRadius:a&&t?"0":"10px",dockExpandedContainerBackground:n?e.contentBackground4:e.background1,fillerBackgroundColor:n?e.contentBackground4:"inherit",dockCompanionContainerBackground:n?e.contentBackground4:"inherit",dockComponentContainerBackground:a?e.contentBackground5:e.background5,styledDropdownActiveBackground:`${a?e.contentBackground5:e.background4}`,contentMenuWrapperInternalDivBorderColor:a?e.contentBackground5:e.background5,contentMenuItemContainerActiveBackground:a?e.contentBackground5:e.background3,contentMenuItemContainerHoverBackground:a?e.contentBackground5:e.background2,contentMenuHeaderBorderColor:a?e.contentBackground5:e.background5,dockCompanionSeparatorBorderColor:a?e.contentBackground5:e.background3,dockComponentContainerBorderColor:a?e.contentBackground5:e.background5,companionDockButtonActiveBackground:a?e.contentBackground5:e.background4,companionDockButtonHoverBackground:a?e.contentBackground5:e.background4,"computed-scrollbar-thumb-alpha":c,"computed-scrollbar-track-alpha":l,"scrollbar-thumb-rgb":i,"scrollbar-track-rgb":s}},sn=(e,t,a)=>({selectedTab:"dark"===t?e.background3:e.background1,...rn(e,a)});const cn=new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorage=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=()=>{if(this.workspaceStorage){const e=this.getScheme();if(this.workspaceStorage.setItem(Wt.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)this.workspaceStorage.setItem(Wt.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;this.workspaceStorage.setItem(Wt.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t},a)=>{this.lightPaletteVars=on({...e,...sn(e,"light",a)}),this.darkPaletteVars=on({...t,...sn(t,"dark",a)})}}setScheme(e){this.providerStorage.setItem(Wt.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(Wt.SelectedColorScheme)&&this.providerStorage.setItem(Wt.SelectedColorScheme,nn),this.providerStorage.getItem(Wt.SelectedColorScheme)}}(e),ln=()=>cn,dn=e=>({getThemes:async()=>(await st(e)).dispatch(ot.GetThemes,void 0),setSelectedScheme:async t=>(await st(e)).dispatch(ot.SetSelectedScheme,t),getSelectedScheme:async()=>(await st(e)).dispatch(ot.GetSelectedScheme,void 0)}),un=async e=>{const t=await nt();await t.dispatch("set-selected-scheme",e)},pn=async e=>{const t=await an();await t.dispatch(tn.UpdatePlatformThemeScheme,{scheme:e})},wn=async e=>{const t=await Me();return Promise.all(t.map((async t=>{const a=await Ca(t.identity);await a.dispatch(Ta.SetSelectedScheme,e)})))},gn=async e=>{const t=await xe();return Promise.all(t.map((async t=>{const a=await Ca(t.identity);await a.dispatch(Ta.SetSelectedScheme,e)})))},hn=async e=>{try{const t=ln();t.setScheme(e),await Promise.all([await t.trySynchronizeWorkspaceStorage(),pn(e),wn(e),gn(e),un(e)])}catch(e){console.error("failed to set the selected scheme: ",e)}},mn=()=>{try{return ln().getScheme()}catch(e){console.error("failed to get the selected scheme: ",e)}},kn=e=>{const t=fin.Platform.wrapSync(e);let a;return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>{console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:R,name:E,entityType:F||"unknown"});return(await st(e)).dispatch(ot.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await st(e),o={actionId:t,payload:{...a,callerType:a.callerType||M.API}};return n.dispatch(ot.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await st(e)).dispatch(ot.RequestQuitPlatformDialogInternal,t),_showUpdateVersionModal:async t=>(await st(e)).dispatch(ot.ShowUpdateVersionModalInternal,t),getCurrentWorkspace:async t=>(await st(e)).dispatch(ot.GetCurrentWorkspace,t),applyWorkspace:async(t,a)=>(await st(e)).dispatch(ot.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await st(e)).dispatch(ot.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await st(e)).dispatch(ot.SetActiveWorkspace,t),getLanguage:async()=>(await st(e)).dispatch(ot.GetLanguage),_getLanguageResources:async()=>(await st(e)).dispatch(ot.GetLanguageResourcesInternal),setLanguage:async t=>(await st(e)).dispatch(ot.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await it(e)),"object"==typeof a&&a?.analytics?.isSupported){return(await st(e)).dispatch(ot.Analytics,t)}e.uuid},getNotificationsConfig:async()=>(await st(e)).dispatch(ot.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await st(e)).dispatch(ot.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await st(e)).dispatch(ot.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await st(e)).dispatch(ot.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await st(e)).dispatch(ot.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await st(e)).dispatch(ot.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await st(e)).dispatch(ot.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await st(e)).dispatch(ot.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await st(e)).dispatch(ot.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await st(e)).dispatch(ot.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await st(e)).dispatch(ot.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await st(e)).dispatch(ot.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await st(e)).dispatch(ot.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await st(e)).dispatch(ot.FocusAndExpandSearchInternal),_showAboutPagePopup:async e=>(async e=>{const t=new URLSearchParams({...e,title:"About"}),a=await Ve(fin.me.identity),n=e.copyrightMessage?320:286,o=be(a,{height:n,width:360});return qa({options:{frame:!0,smallWindow:!0,saveWindowState:!1,showTaskbarIcon:!0,includeInSnapshots:!1,workspacePlatform:{windowType:"enterprise"},resizable:!1,name:me.AboutPageWindow,url:await ne()+K.EnterpriseAboutPage,defaultWidth:360,defaultHeight:n,preventBlur:!0,...o},parameters:t})})(e),Theme:dn(e),Browser:Ea(e),Storage:en(e)})},bn=()=>kn(fin.me.identity),fn={contextMenuOptions:{enabled:!0,template:["spellCheck","separator","print","separator","cut","copy","paste","undo","redo","selectAll","inspect","reload"]},downloadShelf:{enabled:!0}};function yn(e,t){return na({},fn,t,e)}const Sn="internal-generated-view-",vn=(e,t)=>e.content?{...e,content:e.content.map((e=>vn(e,t)))}:{...e,componentState:t(e.componentState)},Pn=(e,t)=>{return a=yn(e,t),{...a,name:a.name?a.name:`internal-generated-view-${ia()}`,_internalWorkspaceData:{...a._internalWorkspaceData,viewIdentifier:a._internalWorkspaceData?.viewIdentifier||ia()}};// removed by dead control flow
{ var a; }},Cn=e=>({...e,name:void 0}),Mn=e=>{const t={...e};return vn(t,Cn)},xn=e=>{const t={...e};return vn(t,(e=>e.name&&e.name.startsWith(Sn)?Cn(e):e))},In=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=In(e.content);t.push(...a)})),t},An=async(e,t,a=ye)=>{let n;if(await Ce(a)){n=(await fe(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map,new Map;const Wn=(e,t)=>{const a=In(t.content);return{...vn(e,(e=>{const t=a.find((t=>t._internalWorkspaceData?.viewIdentifier===e._internalWorkspaceData?.viewIdentifier)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}},Dn=e=>e?In(e).length:0,Tn=(ra()((async e=>{try{if(!e||!e.layoutContainerKey)return;const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?In(t.content):[],n=a.length;n>1?(async e=>{if("multiView"!==e.attachedPageType){const t=await bn().Browser.getUniquePageTitle();bn().Browser.wrapSync(ye).updatePage({pageId:e.pageId,page:{title:e.title??t,singleViewName:null,attachedPageType:"multiView"}})}})(e):1===n&&(async(e,t)=>{const a=bn().Browser.wrapSync(ye);if("singleView"!==e.attachedPageType){const n=await ga(e);delete n.layout,delete n.pageId;const o=fin.View.wrapSync({uuid:ye.uuid,name:t}),r=await o.getInfo(),i={...n,title:null,singleViewName:t,hasUnsavedChanges:!1,attachedPageType:"singleView",pageIcon:r.favicons[0]};await a.updatePage({pageId:e.pageId,page:i})}})(e,a[0].name),await(async(e,t)=>{const a=ha({...ye,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})})(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js")),Bn=__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js");var Rn=a.n(Bn);const En=JSON.parse('{"contextMenu.newWindow":"新建窗口","contextMenu.newPage":"新建页面","contextMenu.restore":"还原到上次保存的更改","contextMenu.switchWorkspace":"切换工作区","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"外观","contextMenu.saveWorkspace":"保存工作区","contextMenu.saveWorkspaceAs":"将工作区另存为...","contextMenu.renameWorkspace":"重命名工作区","contextMenu.deleteWorkspace":"删除工作区","contextMenu.downloads":"下载","contextMenu.savePage":"保存页面","contextMenu.savePageAs":"将页面另存为...","contextMenu.print":"打印...","contextMenu.printScreen":"打印屏幕","contextMenu.closeWindow":"关闭窗口","contextMenu.openStorefront":"开放式店面","contextMenu.quitPlatform":"退出平台","contextMenu.newView":"新建视图","contextMenu.openView":"使用默认 Web 浏览器打开视图","contextMenu.openViews":"使用默认 Web 浏览器打开视图","contextMenu.reload":"Reload CN","contextMenu.reloadView":"重新加载视图","contextMenu.reloadViews":"重新加载视图","contextMenu.duplicate":"Duplicate CN","contextMenu.duplicateView":"复制视图","contextMenu.duplicateViews":"复制视图","contextMenu.addView":"将视图添加到频道","contextMenu.addViews":"将视图添加到频道","contextMenu.removeView":"从频道中移除视图","contextMenu.removeViews":"从频道中移除视图","contextMenu.closeView":"关闭视图","contextMenu.closeViews":"关闭视图","contextMenu.closeTab":"Close Tab CN","contextMenu.duplicatePage":"复制页面","contextMenu.submenu.print":"打印","contextMenu.submenu.printAll":"全部打印","saveMenu.saveWorkspaceAs":"将工作区另存为","saveMenu.savePageAs":"将页面另存为","saveModal.enterValue":"Please enter a value CN","saveModal.alreadyExists":"{{title}} 已存在。","saveModal.pleaseEnterValidName":"请输入有效名称","saveModal.renamePage":"重新命名页面","saveModal.closePage":"关闭页面","saveModal.discardChanges":"放弃更改","saveModal.discardAll":"全部放弃","saveModal.saveAll":"全部保存","saveModal.savePagesCount":"关闭前保存 ({{count}}) 个页面？","defaultPageTitle":"Untitled Page CN","enterpriseDefaultPageTitle":"Untitled Supertab CN","addNewPage":"添加新页面","addNewTab":"添加新选项卡","addNewView":"新建视图","restoreModal":"您确定要还原到上次保存的更改吗？","modal.discardWarning":"任何未保存的更改都将丢失","modal.discardPageWarning":"对此页的任何未保存的更改都将丢失。","modal.saveChangesPrompt":"关闭前保存更改？","modal.pageClose":"关闭页面","switchWorkspaceModal":"您确定要切换到 {{workspace}} 吗？","switchWorkspaceModal.warning":"任何未保存的更改都将丢失","deleteWorkspaceModal":"您确定要永久删除此工作区吗？","replaceWorkspaceModal.warning":"名称为 {{workspace}} 的工作区已存在。您是否要替换它？","replaceWorkspaceModal.warning.body":"已存在同名的工作区。替换它将覆盖其当前内容。","replaceWorkspaceModal.replace":"替换","closePlatform":"关闭平台","closePlatform.workspace":"关闭 {{workspace}} 平台","closePlatform.warning":"关闭平台将关闭所有工作区、应用或任何正在运行的进程。","back":"后退","forward":"前进","reload":"重新加载","green":"绿色","purple":"紫色","orange":"橙色","red":"红色","pink":"粉红色","yellow":"黄色","theme.light":"浅色","theme.dark":"深色","theme.system":"与操作系统设置同步","toolbar.hideTabs":"隐藏选项卡","toolbar.showTabs":"显示选项卡","toolbar.lock":"锁定","toolbar.unlock":"解锁","toolbar.colorLinking":"颜色链接","toolbar.changeLayout":"更改布局","toolbar.saveMenu":"保存菜单","toolbar.maximizeWindow":"最大化窗口","toolbar.restoreWindow":"还原窗口","toolbar.minimizeWindow":"最小化窗口","changeLayout.fullWidth":"全宽","changeLayout.columns":"列数","changeLayout.Rows":"行数","changeLayout.Grid":"网格","successIndicator.workspaceSwitched":"已切换工作区","successIndicator.hidden":"选项卡已隐藏","successIndicator.shown":"选项卡已显示","successIndicator.locked":"页面已锁定","successIndicator.unlocked":"页面已解锁","successIndicator.workspaceSaved":"工作区已保存","successIndicator.workspaceSavedAs":"工作区已另存为 {{workspace}}","successIndicator.workspaceRenamed":"工作区已重命名","successIndicator.pageSaved":"页面已保存","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. CN","successIndicator.pageCopySaved":"页面已另存为 {{title}}","successIndicator.pageRenamed":"页面已重命名","successIndicator.contextGroupApplied":"已应用上下文组","successIndicator.namedContextGroupApplied":"已应用 {{colorName}} 上下文组","successIndicator.viewRemoved":"从上下文组中移除视图","successIndicator.viewsRemoved":"从上下文组中移除视图","successIndicator.layoutApplied":"已应用 {{layoutName}} 布局","successIndicator.workspaceDeleted":"工作区已删除","errorIndicator.pageSaveFailed":"页面保存失败","errorIndicator.workspaceSaveFailed":"工作区保存失败","errorIndicator.failedToDuplicatePage":"复制页面失败","infoIndicator.colorLinkAttempt":"我们尝试对此选项卡进行颜色链接，但网站/内容所有者尚未启用该功能","global.cancel":"取消","global.confirm":"确认","global.save":"保存","global.delete":"Delete CN","appResults.header":"Featured Content CN","recentlyClosed.header":"Recently Closed CN","landingPage.subheader":"Apps and websites selected by an admin will show here CN","aria.openBrowser":"打开浏览器菜单","aria.browserTabs":"浏览器选项卡","aria.viewTab":"查看 {{title}} 的选项卡","aria.closePage":"关闭 {{title}} 的页面选项卡按钮","aria.closeTab":"关闭选项卡 {{title}}","aria.title":"标题","aria.closeContextGroup":"使用转义关闭上下文组选择对话框","aria.colorLinking":"显示或隐藏颜色链接","aria.applyColorLinking":"请选择一个视图以应用颜色链接","aria.assignColorLinkingCurrentView":"分配给 {{name}} 上下文组的当前视图","aria.assignColorLinkingCurrentViews":"分配给 {{name}} 上下文组的当前视图","aria.setColorLinkingActiveView":"将活动视图设置为 {{name}} 上下文组","aria.setColorLinkingActiveViews":"将活动视图设置为 {{name}} 上下文组","aria.escapeLayoutDialog":"使用转义关闭更改布局对话框","global.supertab":"Supertab CN","global.tab":"Tab CN","bookmarks.editBookmark":"Edit Bookmark CN","bookmarks.bookmarkAdded":"Bookmark added CN","bookmarks.done":"Done CN","bookmarks.remove":"Remove CN","bookmarks.bookmarksPanel":"Bookmarks Panel CN","bookmarks.bookmarks":"Bookmarks CN","bookmarks.allBookmarks":"All Bookmarks CN","bookmarks.favorites":"Favorites CN","bookmarks.searchBookmarks":"Search Bookmarks CN","bookmarks.clearSearchInput":"Clear Search Input CN","bookmarks.createFolder":"Create New Folder CN","bookmarks.exitFolder":"Exit Folder CN","bookmarks.newFolder":"New Folder CN","bookmarks.namedFolder":"{{name}} Folder CN","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings CN","bookmarks.folderSettings":"{{name}} Folder Settings CN","bookmarks.noResultsFound":"No results found CN","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search CN","bookmarks.nothingToShow":"Nothing to show yet CN","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder CN","bookmarks.resultsFoundIn":"Results found in {{name}} CN","bookmarks.resultsInOtherFolders":"Results found in other folders CN","bookmarks.allResultsFoundIn":"All results found in CN","bookmarks.editName":"Edit Name CN","bookmarks.move":"Move CN","bookmarks.bookmarkAddedTitle":"Bookmark Added CN","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" CN","bookmarks.bookmarkEditedTitle":"Bookmark Edited CN","enterpriseContextMenu.saveSupertab":"Save Supertab CN","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... CN","enterpriseContextMenu.duplicate":"Duplicate CN","enterpriseContextMenu.deleteSupertab":"Delete Supertab CN","enterpriseContextMenu.newTab":"New Tab CN","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As CN","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? CN","saveSupertabCount_other":"Save {{count}} Supertabs before closing? CN"},"enterpriseSaveModal.renameSupertab":"Rename CN","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. CN","enterpriseSaveModal.closeTab":"Close Tab CN","enterpriseSaveModal.closeSupertab":"Close Supertab CN","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. CN","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? CN","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. CN","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved CN","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. CN","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted CN","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. CN","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab CN","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab CN","enterpriseCommandBar.switchToSupertab":"Switch to Supertab CN","enterpriseCommandBar.goTo":"Go to {{type}} CN","enterpriseCommandBar.viewMore":"View More CN","sidePanel.aiCenter":"AI Center CN","sidePanel.newChat":"New Chat CN","sidePanel.toggleSidePanel":"Toggle Side Panel CN","sidePanel.closeSidePanel":"Close Side Panel CN","sidePanel.openAiCenter":"Open AI Center CN","contextMenu.quitEnterpriseBrowser":"Quit CN","dock.removeFavorite":"Remove CN"}'),Fn=JSON.parse('{"contextMenu.newWindow":"新視窗","contextMenu.newPage":"新頁面","contextMenu.restore":"還原到上次儲存的變更","contextMenu.switchWorkspace":"切換工作空間","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"外觀","contextMenu.saveWorkspace":"儲存工作空間","contextMenu.saveWorkspaceAs":"將工作空間另存為...","contextMenu.renameWorkspace":"重新命名工作空間","contextMenu.deleteWorkspace":"刪除工作空間","contextMenu.downloads":"下載","contextMenu.savePage":"儲存頁面","contextMenu.savePageAs":"將頁面另存為...","contextMenu.print":"列印...","contextMenu.printScreen":"擷取畫面","contextMenu.closeWindow":"關閉視窗","contextMenu.openStorefront":"打開 Storefront","contextMenu.quitPlatform":"退出平台","contextMenu.newView":"新視圖","contextMenu.openView":"使用預設網頁瀏覽器打開視圖","contextMenu.openViews":"使用預設網頁瀏覽器打開視圖","contextMenu.reload":"Reload ZH","contextMenu.reloadView":"重新載入視圖","contextMenu.reloadViews":"重新載入視圖","contextMenu.duplicate":"Duplicate ZH","contextMenu.duplicateView":"複寫視圖","contextMenu.duplicateViews":"複寫視圖","contextMenu.addView":"將視圖新增至頻道","contextMenu.addViews":"將視圖新增至頻道","contextMenu.removeView":"從頻道中移除視圖","contextMenu.removeViews":"從頻道中移除視圖","contextMenu.closeView":"關閉視圖","contextMenu.closeViews":"關閉視圖","contextMenu.closeTab":"Close Tab ZH","contextMenu.duplicatePage":"複寫頁面","contextMenu.submenu.print":"列印","contextMenu.submenu.printAll":"列印全部","saveMenu.saveWorkspaceAs":"將工作空間另存為","saveMenu.savePageAs":"頁面另存為","saveModal.enterValue":"Please enter a value ZH","saveModal.alreadyExists":"{{title}} 已經存在。","saveModal.pleaseEnterValidName":"請輸入一個有效的名稱","saveModal.renamePage":"重新命名頁面","saveModal.closePage":"關閉頁面","saveModal.discardChanges":"捨棄變更","saveModal.discardAll":"全部捨棄","saveModal.saveAll":"儲存全部","saveModal.savePagesCount":"要先儲存 ({{count}}) 個頁面再關閉嗎？","defaultPageTitle":"Untitled Page ZH","enterpriseDefaultPageTitle":"Untitled Supertab ZH","addNewPage":"新增新頁面","addNewTab":"新增新索引標籤","addNewView":"新視圖","restoreModal":"您確定要還原到上次儲存的變更嗎？","modal.discardWarning":"任何未儲存的變更都將被捨棄","modal.discardPageWarning":"在此頁面任何未儲存的變更都將遺失。","modal.saveChangesPrompt":"要先儲存變更再關閉嗎？","modal.pageClose":"頁面關閉","switchWorkspaceModal":"您確定要切換到 {{workspace}}？","switchWorkspaceModal.warning":"任何未儲存的變更都將被捨棄","deleteWorkspaceModal":"您確定要永久刪除此工作空間嗎？","replaceWorkspaceModal.warning":"具有名稱 {{workspace}} 的工作空間已經存在。你要更換它嗎？","replaceWorkspaceModal.warning.body":"相同名稱的工作空間已經存在。更換它後，將會覆蓋目前內容。","replaceWorkspaceModal.replace":"更換","closePlatform":"關閉平台","closePlatform.workspace":"關閉 {{workspace}} 平台","closePlatform.warning":"關閉平台後，將關閉正在執行的任何工作空間、APP 或流程。","back":"上一頁","forward":"下一頁","reload":"重新載入","green":"綠","purple":"紫","orange":"橘","red":"紅色","pink":"粉紅","yellow":"黃","theme.light":"淺","theme.dark":"深","theme.system":"與 OS 設定同步","toolbar.hideTabs":"隱藏索引標籤","toolbar.showTabs":"顯示索引標籤","toolbar.lock":"上鎖","toolbar.unlock":"解鎖","toolbar.colorLinking":"顏色連結","toolbar.changeLayout":"變更版面","toolbar.saveMenu":"儲存選單","toolbar.maximizeWindow":"最大化視窗","toolbar.restoreWindow":"還原視窗","toolbar.minimizeWindow":"最小化視窗","changeLayout.fullWidth":"全螢幕寬度","changeLayout.columns":"行","changeLayout.Rows":"列","changeLayout.Grid":"網格","successIndicator.workspaceSwitched":"工作空間已切換","successIndicator.hidden":"索引標籤已隱藏","successIndicator.shown":"索引標籤已顯示","successIndicator.locked":"頁面已上鎖","successIndicator.unlocked":"頁面已解鎖","successIndicator.workspaceSaved":"工作空間已儲存","successIndicator.workspaceSavedAs":"工作空間已另存為 {{workspace}}","successIndicator.workspaceRenamed":"工作空間已重新命名","successIndicator.pageSaved":"頁面已儲存","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. ZH","successIndicator.pageCopySaved":"頁面已另存為 {{title}}","successIndicator.pageRenamed":"頁面已重新命名","successIndicator.contextGroupApplied":"脈絡群組已套用","successIndicator.namedContextGroupApplied":"{{colorName}} 脈絡群組已套用","successIndicator.viewRemoved":"從脈絡群組中移除的視圖","successIndicator.viewsRemoved":"從脈絡群組中移除的視圖","successIndicator.layoutApplied":"{{layoutName}} 版面已套用","successIndicator.workspaceDeleted":"工作空間已刪除","errorIndicator.pageSaveFailed":"頁面無法儲存","errorIndicator.workspaceSaveFailed":"工作空間無法儲存","errorIndicator.failedToDuplicatePage":"無法複寫頁面","infoIndicator.colorLinkAttempt":"我們嘗試對此索引標籤進行顏色連結，但網站/內容所有者尚未啟用該功能","global.cancel":"取消","global.confirm":"確認","global.save":"儲存","global.delete":"Delete ZH","appResults.header":"Featured Content ZH","recentlyClosed.header":"Recently Closed ZH","landingPage.subheader":"Apps and websites selected by an admin will show here ZH","aria.openBrowser":"開啟瀏覽器選單","aria.browserTabs":"瀏覽器索引標籤","aria.viewTab":"{{title}} 的視圖索引標籤","aria.closePage":"關閉 {{title}} 的頁面索引標籤按鈕","aria.closeTab":"關閉索引標籤 {{title}}","aria.title":"標題","aria.closeContextGroup":"使用 Esc 鍵關閉脈絡群組選取對話框","aria.colorLinking":"顯示或隱藏顏色連結","aria.applyColorLinking":"請選取要套用顏色連結的視圖","aria.assignColorLinkingCurrentView":"目前視圖分配給 {{name}} 脈絡群組","aria.assignColorLinkingCurrentViews":"目前視圖分配給 {{name}} 脈絡群組","aria.setColorLinkingActiveView":"將啟用視圖設定為 {{name}} 脈絡群組","aria.setColorLinkingActiveViews":"將啟用視圖設定為 {{name}} 脈絡群組","aria.escapeLayoutDialog":"使用 Esc 鍵關閉變更版面對話框","global.supertab":"Supertab ZH","global.tab":"Tab ZH","bookmarks.editBookmark":"Edit Bookmark ZH","bookmarks.bookmarkAdded":"Bookmark added ZH","bookmarks.done":"Done ZH","bookmarks.remove":"Remove ZH","bookmarks.bookmarksPanel":"Bookmarks Panel ZH","bookmarks.bookmarks":"Bookmarks ZH","bookmarks.allBookmarks":"All Bookmarks ZH","bookmarks.favorites":"Favorites ZH","bookmarks.searchBookmarks":"Search Bookmarks ZH","bookmarks.clearSearchInput":"Clear Search Input ZH","bookmarks.createFolder":"Create New Folder ZH","bookmarks.exitFolder":"Exit Folder ZH","bookmarks.newFolder":"New Folder ZH","bookmarks.namedFolder":"{{name}} Folder ZH","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings ZH","bookmarks.folderSettings":"{{name}} Folder Settings ZH","bookmarks.noResultsFound":"No results found ZH","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search ZH","bookmarks.nothingToShow":"Nothing to show yet ZH","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder ZH","bookmarks.resultsFoundIn":"Results found in {{name}} ZH","bookmarks.resultsInOtherFolders":"Results found in other folders ZH","bookmarks.allResultsFoundIn":"All results found in ZH","bookmarks.editName":"Edit Name ZH","bookmarks.move":"Move ZH","bookmarks.bookmarkAddedTitle":"Bookmark Added ZH","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" ZH","bookmarks.bookmarkEditedTitle":"Bookmark Edited ZH","enterpriseContextMenu.saveSupertab":"Save Supertab ZH","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... ZH","enterpriseContextMenu.duplicate":"Duplicate ZH","enterpriseContextMenu.deleteSupertab":"Delete Supertab ZH","enterpriseContextMenu.newTab":"New Tab ZH","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As ZH","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? ZH","saveSupertabCount_other":"Save {{count}} Supertabs before closing? ZH"},"enterpriseSaveModal.renameSupertab":"Rename ZH","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. ZH","enterpriseSaveModal.closeTab":"Close Tab ZH","enterpriseSaveModal.closeSupertab":"Close Supertab ZH","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. ZH","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? ZH","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. ZH","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved ZH","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. ZH","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted ZH","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. ZH","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab ZH","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab ZH","enterpriseCommandBar.switchToSupertab":"Switch to Supertab ZH","enterpriseCommandBar.goTo":"Go to {{type}} ZH","enterpriseCommandBar.viewMore":"View More ZH","sidePanel.aiCenter":"AI Center ZH","sidePanel.newChat":"New Chat ZH","sidePanel.toggleSidePanel":"Toggle Side Panel ZH","sidePanel.closeSidePanel":"Close Side Panel ZH","sidePanel.openAiCenter":"Open AI Center ZH","contextMenu.quitEnterpriseBrowser":"Quit ZH","dock.removeFavorite":"Remove ZH"}'),Vn=JSON.parse('{"contextMenu.newWindow":"New Window","contextMenu.newPage":"New Page","contextMenu.restore":"Restore to Last Saved Changes","contextMenu.switchWorkspace":"Switch Workspace","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"Appearance","contextMenu.saveWorkspace":"Save Workspace","contextMenu.saveWorkspaceAs":"Save Workspace As...","contextMenu.renameWorkspace":"Rename Workspace","contextMenu.deleteWorkspace":"Delete Workspace","contextMenu.downloads":"Downloads","contextMenu.savePage":"Save Page","contextMenu.savePageAs":"Save Page As...","contextMenu.print":"Print...","contextMenu.printScreen":"Print Screen","contextMenu.closeWindow":"Close Window","contextMenu.openStorefront":"Open Storefront","contextMenu.quitPlatform":"Quit {{platformLabel}}","contextMenu.newView":"New View","contextMenu.openView":"Open View with Default Web Browser","contextMenu.openViews":"Open Views with Default Web Browser","contextMenu.reload":"Reload","contextMenu.reloadView":"Reload View","contextMenu.reloadViews":"Reload Views","contextMenu.duplicate":"Duplicate","contextMenu.duplicateView":"Duplicate View","contextMenu.duplicateViews":"Duplicate Views","contextMenu.addView":"Add View to Channel","contextMenu.addViews":"Add Views to Channel","contextMenu.removeView":"Remove View from Channel","contextMenu.removeViews":"Remove Views from Channel","contextMenu.closeView":"Close View","contextMenu.closeViews":"Close Views","contextMenu.closeTab":"Close Tab","contextMenu.duplicatePage":"Duplicate Page","contextMenu.submenu.print":"Print","contextMenu.submenu.printAll":"Print All","saveMenu.saveWorkspaceAs":"Save Workspace As","saveMenu.savePageAs":"Save Page As","saveModal.enterValue":"Please enter a value","saveModal.alreadyExists":"{{title}} already exists.","saveModal.pleaseEnterValidName":"Please enter a valid name","saveModal.renamePage":"Rename Page","saveModal.closePage":"Close Page","saveModal.discardChanges":"Discard Changes","saveModal.discardAll":"Discard All","saveModal.saveAll":"Save All","saveModal.savePagesCount":"Save ({{count}}) pages before closing?","defaultPageTitle":"Untitled Page","enterpriseDefaultPageTitle":"Untitled Supertab","addNewPage":"New Page","addNewTab":"Add New Tab","addNewView":"New View","restoreModal":"Are you sure you want to restore to last saved changes?","modal.discardWarning":"Any unsaved changes will be discarded","modal.discardPageWarning":"Any unsaved changes to this page will be lost.","modal.saveChangesPrompt":"Save changes before closing?","modal.pageClose":"Page Close","switchWorkspaceModal":"Are you sure you want to switch to {{workspace}}?","switchWorkspaceModal.warning":"Any unsaved changes will be discarded","deleteWorkspaceModal":"Are you sure you want to permanently delete this workspace?","replaceWorkspaceModal.warning":"A Workspace with the name {{workspace}} already exists. Do you want to replace it?","replaceWorkspaceModal.warning.body":"A workspace with the same name already exists. Replacing it will overwrite its current contents.","replaceWorkspaceModal.replace":"Replace","closePlatform":"Close the platform","closePlatform.workspace":"Close the {{workspace}} Platform","closePlatform.warning":"Closing a platform will close any workspaces, apps or any processes that are running.","back":"Back","forward":"Forward","reload":"Reload","green":"Green","purple":"Purple","orange":"Orange","red":"Red","pink":"Pink","yellow":"Yellow","theme.light":"Light","theme.dark":"Dark","theme.system":"Sync with OS setting","toolbar.hideTabs":"Hide Tabs","toolbar.showTabs":"Show Tabs","toolbar.lock":"Lock","toolbar.unlock":"Unlock","toolbar.colorLinking":"Color Linking","toolbar.changeLayout":"Change Layout","toolbar.saveMenu":"Save Menu","toolbar.maximizeWindow":"Maximize Window","toolbar.restoreWindow":"Restore Window","toolbar.minimizeWindow":"Minimize Window","changeLayout.fullWidth":"Full Width","changeLayout.columns":"Columns","changeLayout.Rows":"Rows","changeLayout.Grid":"Grid","successIndicator.workspaceSwitched":"Workspace Switched","successIndicator.hidden":"Tabs are Hidden","successIndicator.shown":"Tabs are Shown","successIndicator.locked":"Page is Locked","successIndicator.unlocked":"Page is Unlocked","successIndicator.workspaceSaved":"Workspace saved","successIndicator.workspaceSavedAs":"Workspace saved as {{workspace}}","successIndicator.workspaceRenamed":"Workspace renamed","successIndicator.pageSaved":"Page Saved","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved.","successIndicator.pageCopySaved":"Page saved as {{title}}","successIndicator.pageRenamed":"Page renamed","successIndicator.contextGroupApplied":"Context group applied","successIndicator.namedContextGroupApplied":"{{colorName}} context group applied","successIndicator.viewRemoved":"View removed from context group","successIndicator.viewsRemoved":"Views removed from context group","successIndicator.layoutApplied":"{{layoutName}} layout applied","successIndicator.workspaceDeleted":"Workspace deleted","errorIndicator.pageSaveFailed":"Page failed to save","errorIndicator.workspaceSaveFailed":"Workspace failed to save","errorIndicator.failedToDuplicatePage":"Failed to duplicate Page","infoIndicator.colorLinkAttempt":"We attempted to color link this tab, but the site/content owner has not enabled it yet","global.cancel":"Cancel","global.confirm":"Confirm","global.save":"Save","global.delete":"Delete","appResults.header":"Featured Content","recentlyClosed.header":"Recently Closed","landingPage.subheader":"Apps and websites selected by an admin will show here","aria.openBrowser":"Open Browser Menu","aria.browserTabs":"Browser Tabs","aria.viewTab":"View Tab for {{title}}","aria.closePage":"Close Page Tab Button for {{title}}","aria.closeTab":"Close Tab {{title}}","aria.title":"Title","aria.closeContextGroup":"Use escape to close context group selection dialog","aria.colorLinking":"Show or hide color linking","aria.applyColorLinking":"Please select a view to apply color linking","aria.assignColorLinkingCurrentView":"Current view assigned to {{name}} context group","aria.assignColorLinkingCurrentViews":"Current views assigned to {{name}} context group","aria.setColorLinkingActiveView":"Set active view to {{name}} context group","aria.setColorLinkingActiveViews":"Set active views to {{name}} context group","aria.escapeLayoutDialog":"Use escape to close change layout dialog","global.supertab":"Supertab","global.tab":"Tab","bookmarks.editBookmark":"Edit Bookmark","bookmarks.bookmarkAdded":"Bookmark added","bookmarks.done":"Done","bookmarks.remove":"Remove","bookmarks.bookmarksPanel":"Bookmarks Panel","bookmarks.bookmarks":"Bookmarks","bookmarks.allBookmarks":"All Bookmarks","bookmarks.favorites":"Favorites","bookmarks.searchBookmarks":"Search Bookmarks","bookmarks.clearSearchInput":"Clear Search Input","bookmarks.createFolder":"Create New Folder","bookmarks.exitFolder":"Exit Folder","bookmarks.newFolder":"New Folder","bookmarks.namedFolder":"{{name}} Folder","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings","bookmarks.folderSettings":"{{name}} Folder Settings","bookmarks.noResultsFound":"No results found","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search","bookmarks.nothingToShow":"Nothing to show yet","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder","bookmarks.resultsFoundIn":"Results found in {{name}}","bookmarks.resultsInOtherFolders":"Results found in other folders","bookmarks.allResultsFoundIn":"All results found in","bookmarks.editName":"Edit Name","bookmarks.move":"Move","bookmarks.bookmarkAddedTitle":"Bookmark Added","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\"","bookmarks.bookmarkEditedTitle":"Bookmark Edited","enterpriseContextMenu.saveSupertab":"Save Supertab","enterpriseContextMenu.saveSupertabAs":"Save Supertab As...","enterpriseContextMenu.duplicate":"Duplicate","enterpriseContextMenu.deleteSupertab":"Delete Supertab","enterpriseContextMenu.newTab":"New Tab","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing?","saveSupertabCount_other":"Save {{count}} Supertabs before closing?"},"enterpriseSaveModal.renameSupertab":"Rename","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab.","enterpriseSaveModal.closeTab":"Close Tab","enterpriseSaveModal.closeSupertab":"Close Supertab","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost.","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab?","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent.","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted.","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab","enterpriseCommandBar.switchToSupertab":"Switch to Supertab","enterpriseCommandBar.goTo":"Go to {{type}}","enterpriseCommandBar.viewMore":"View More","sidePanel.aiCenter":"AI Center","sidePanel.newChat":"New Chat","sidePanel.toggleSidePanel":"Toggle Side Panel","sidePanel.closeSidePanel":"Close Side Panel","sidePanel.openAiCenter":"Open AI Center","contextMenu.quitEnterpriseBrowser":"Quit","dock.removeFavorite":"Remove"}'),Nn=JSON.parse('{"contextMenu.newWindow":"Neues Fenster","contextMenu.newPage":"Neue Seite","contextMenu.restore":"Wiederherstellen der zuletzt gespeicherten Änderungen","contextMenu.switchWorkspace":"Workspace wechseln","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"Erscheinungsbild","contextMenu.saveWorkspace":"Workspace speichern","contextMenu.saveWorkspaceAs":"Workspace speichern unter...","contextMenu.renameWorkspace":"Workspace umbenennen","contextMenu.deleteWorkspace":"Workspace löschen","contextMenu.downloads":"Downloads","contextMenu.savePage":"Seite speichern","contextMenu.savePageAs":"Seite speichern unter...","contextMenu.print":"Drucken...","contextMenu.printScreen":"Bildschirmansicht drucken","contextMenu.closeWindow":"Fenster schließen","contextMenu.openStorefront":"Schaufenster öffnen","contextMenu.quitPlatform":"Plattform verlassen","contextMenu.newView":"Neue Ansicht","contextMenu.openView":"Ansicht mit Standard-Webbrowser öffnen","contextMenu.openViews":"Ansichten mit Standard-Webbrowser öffnen","contextMenu.reload":"Reload DE","contextMenu.reloadView":"Ansicht neu laden","contextMenu.reloadViews":"Ansichten neu laden","contextMenu.duplicate":"Duplicate DE","contextMenu.duplicateView":"Ansicht duplizieren","contextMenu.duplicateViews":"Ansichten duplizieren","contextMenu.addView":"Ansicht zum Channel hinzufügen","contextMenu.addViews":"Ansichten zum Channel hinzufügen","contextMenu.removeView":"Ansicht aus dem Channel entfernen","contextMenu.removeViews":"Ansichten aus dem Channel entfernen","contextMenu.closeView":"Ansicht schließen","contextMenu.closeViews":"Ansichten schließen","contextMenu.closeTab":"Close Tab DE","contextMenu.duplicatePage":"Seite duplizieren","contextMenu.submenu.print":"Drucken","contextMenu.submenu.printAll":"Alle drucken","saveMenu.saveWorkspaceAs":"Workspace speichern unter","saveMenu.savePageAs":"Seite speichern unter","saveModal.enterValue":"Please enter a value DE","saveModal.alreadyExists":"{{title}} existiert bereits.","saveModal.pleaseEnterValidName":"Bitte geben Sie einen gültigen Namen ein","saveModal.renamePage":"Seite umbenennen","saveModal.closePage":"Seite schließen","saveModal.discardChanges":"Änderungen verwerfen","saveModal.discardAll":"Alle verwerfen","saveModal.saveAll":"Alle speichern","saveModal.savePagesCount":"({{count}}) Seiten vor dem Schließen speichern?","defaultPageTitle":"Untitled Page DE","enterpriseDefaultPageTitle":"Untitled Supertab DE","addNewPage":"Neue Seite hinzufügen","addNewTab":"Neuen Tab hinzufügen","addNewView":"Neue Ansicht","restoreModal":"Sind Sie sicher, dass Sie die zuletzt gespeicherten Änderungen wiederherstellen wollen?","modal.discardWarning":"Alle nicht gespeicherten Änderungen werden verworfen","modal.discardPageWarning":"Alle nicht gespeicherten Änderungen auf dieser Seite gehen verloren.","modal.saveChangesPrompt":"Änderungen vor dem Schließen speichern?","modal.pageClose":"Seite schließen","switchWorkspaceModal":"Sind Sie sicher, dass Sie zu {{workspace}}wechseln wollen?","switchWorkspaceModal.warning":"Alle nicht gespeicherten Änderungen werden verworfen","deleteWorkspaceModal":"Sind Sie sicher, dass Sie diesen Workspace dauerhaft löschen wollen?","replaceWorkspaceModal.warning":"Ein Workspace mit dem Namen {{workspace}} existiert bereits. Möchten Sie ihn ersetzen?","replaceWorkspaceModal.warning.body":"Ein Workspace mit demselben Namen existiert bereits. Wenn Sie ihn ersetzen, wird der aktuelle Inhalt überschrieben.","replaceWorkspaceModal.replace":"Ersetzen","closePlatform":"Plattform schließen","closePlatform.workspace":"Die {{workspace}} Plattform schließen","closePlatform.warning":"Wenn Sie eine Plattform schließen, werden alle Workspaces, Apps und laufenden Prozesse beendet.","back":"Zurück","forward":"Weiter","reload":"Neu laden","green":"Grün","purple":"Lila","orange":"Orange","red":"Rot","pink":"Pink","yellow":"Gelb","theme.light":"Hell","theme.dark":"Dunkel","theme.system":"Synchronisierung mit OS-Einstellung","toolbar.hideTabs":"Tabs ausblenden","toolbar.showTabs":"Tabs anzeigen","toolbar.lock":"Sperren","toolbar.unlock":"Freischalten","toolbar.colorLinking":"Farbverknüpfung","toolbar.changeLayout":"Layout ändern","toolbar.saveMenu":"Menü speichern","toolbar.maximizeWindow":"Fenster maximieren","toolbar.restoreWindow":"Fenster wiederherstellen","toolbar.minimizeWindow":"Fenster minimieren","changeLayout.fullWidth":"Volle Breite","changeLayout.columns":"Spalten","changeLayout.Rows":"Zeilen","changeLayout.Grid":"Raster","successIndicator.workspaceSwitched":"Workspace gewechselt","successIndicator.hidden":"Tabs sind ausgeblendet","successIndicator.shown":"Tabs werden angezeigt","successIndicator.locked":"Seite ist gesperrt","successIndicator.unlocked":"Seite ist freigeschaltet","successIndicator.workspaceSaved":"Workspace gespeichert","successIndicator.workspaceSavedAs":"Workspace gespeichert als {{workspace}}","successIndicator.workspaceRenamed":"Workspace umbenannt","successIndicator.pageSaved":"Seite gespeichert","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. DE","successIndicator.pageCopySaved":"Seite gespeichert als {{title}}","successIndicator.pageRenamed":"Seite umbenannt","successIndicator.contextGroupApplied":"Angewandte Kontextgruppe","successIndicator.namedContextGroupApplied":"{{colorName}} angewandte Kontextgruppe","successIndicator.viewRemoved":"Ansicht aus der Kontextgruppe entfernt","successIndicator.viewsRemoved":"Ansichten aus der Kontextgruppe entfernt","successIndicator.layoutApplied":"{{layoutName}} angewandtes Layout","successIndicator.workspaceDeleted":"Workspace gelöscht","errorIndicator.pageSaveFailed":"Seite konnte nicht gespeichert werden","errorIndicator.workspaceSaveFailed":"Workspace konnte nicht gespeichert werden","errorIndicator.failedToDuplicatePage":"Seite kann nicht dupliziert werden","infoIndicator.colorLinkAttempt":"Wir haben versucht, diesem Tab eine Farbe zuordnen, aber der Eigentümer der Website/des Inhalts hat sie noch nicht aktiviert","global.cancel":"Abbrechen","global.confirm":"Bestätigen","global.save":"Speichern","global.delete":"Delete DE","appResults.header":"Featured Content DC","recentlyClosed.header":"Recently Closed DC","landingPage.subheader":"Apps and websites selected by an admin will show here DE","aria.openBrowser":"Browser-Menü öffnen","aria.browserTabs":"Browser-Tab","aria.viewTab":"Tab „Ansicht“ für {{title}}","aria.closePage":"Button „Seite schließen“ für {{title}}","aria.closeTab":"Tab schließen {{title}}","aria.title":"Bezeichnung","aria.closeContextGroup":"Verwenden Sie die Escape-Taste, um den Dialog zur Auswahl von Kontextgruppen zu schließen","aria.colorLinking":"Farbverknüpfung ein- oder ausblenden","aria.applyColorLinking":"Bitte wählen Sie eine Ansicht, um die Farbverknüpfung anzuwenden","aria.assignColorLinkingCurrentView":"Aktuelle Ansicht, die der Kontextgruppe {{name}} zugeordnet ist","aria.assignColorLinkingCurrentViews":"Aktuelle Ansichten, die der Kontextgruppe {{name}} zugeordnet sind","aria.setColorLinkingActiveView":"Aktive Ansicht auf die Kontextgruppe {{name}} setzen","aria.setColorLinkingActiveViews":"Aktive Ansichten auf die Kontextgruppe {{name}} setzen","aria.escapeLayoutDialog":"Verwenden Sie die Escape-Taste, um den Dialog zur Layoutänderung zu schließen","global.supertab":"Supertab DE","global.tab":"Tab DE","bookmarks.editBookmark":"Edit Bookmark DE","bookmarks.bookmarkAdded":"Bookmark added DE","bookmarks.done":"Done DE","bookmarks.remove":"Remove DE","bookmarks.bookmarksPanel":"Bookmarks Panel DE","bookmarks.bookmarks":"Bookmarks DE","bookmarks.allBookmarks":"All Bookmarks DE","bookmarks.favorites":"Favorites DE","bookmarks.searchBookmarks":"Search Bookmarks DE","bookmarks.clearSearchInput":"Clear Search Input DE","bookmarks.createFolder":"Create New Folder DE","bookmarks.exitFolder":"Exit Folder DE","bookmarks.newFolder":"New Folder DE","bookmarks.namedFolder":"{{name}} Folder DE","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings DE","bookmarks.folderSettings":"{{name}} Folder Settings DE","bookmarks.noResultsFound":"No results found DE","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search DE","bookmarks.nothingToShow":"Nothing to show yet DE","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder DE","bookmarks.resultsFoundIn":"Results found in {{name}} DE","bookmarks.resultsInOtherFolders":"Results found in other folders DE","bookmarks.allResultsFoundIn":"All results found in DE","bookmarks.editName":"Edit Name DE","bookmarks.move":"Move DE","bookmarks.bookmarkAddedTitle":"Bookmark Added DE","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" DE","bookmarks.bookmarkEditedTitle":"Bookmark Edited DE","enterpriseContextMenu.saveSupertab":"Save Supertab DE","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... DE","enterpriseContextMenu.duplicate":"Duplicate DE","enterpriseContextMenu.deleteSupertab":"Delete Supertab DE","enterpriseContextMenu.newTab":"New Tab DE","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As DE","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? DE","saveSupertabCount_other":"Save {{count}} Supertabs before closing? DE"},"enterpriseSaveModal.renameSupertab":"Rename DE","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. DE","enterpriseSaveModal.closeTab":"Close Tab DE","enterpriseSaveModal.closeSupertab":"Close Supertab DE","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. DE","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? DE","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. DE","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved DE","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. DE","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted DE","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. DE","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab DE","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab DE","enterpriseCommandBar.switchToSupertab":"Switch to Supertab DE","enterpriseCommandBar.goTo":"Go to {{type}} DE","enterpriseCommandBar.viewMore":"View More DE","sidePanel.aiCenter":"AI Center DE","sidePanel.newChat":"New Chat DE","sidePanel.toggleSidePanel":"Toggle Side Panel DE","sidePanel.closeSidePanel":"Close Side Panel DE","sidePanel.openAiCenter":"Open AI Center DE","contextMenu.quitEnterpriseBrowser":"Quit DE","dock.removeFavorite":"Remove DE"}'),Ln=JSON.parse('{"contextMenu.newWindow":"新しいウィンドウ","contextMenu.newPage":"新しいページ","contextMenu.restore":"最後に保存された変更に戻す","contextMenu.switchWorkspace":"ワークスペースに切り替える","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"外観","contextMenu.saveWorkspace":"ワークスペースを保存","contextMenu.saveWorkspaceAs":"ワークスペースを別名で保存...","contextMenu.renameWorkspace":"ワークスペース名を変更","contextMenu.deleteWorkspace":"ワークスペースを削除","contextMenu.downloads":"ダウンロード","contextMenu.savePage":"ページを保存","contextMenu.savePageAs":"ページを別名で保存...","contextMenu.print":"印刷...","contextMenu.printScreen":"プリントスクリーン","contextMenu.closeWindow":"ウィンドウを閉じる","contextMenu.openStorefront":"ストアフロントを開く","contextMenu.quitPlatform":"プラットフォームを終了する","contextMenu.newView":"新しいビュー","contextMenu.openView":"デフォルトのウェブブラウザーでビューを開く","contextMenu.openViews":"デフォルトのウェブブラウザーでビューを開く","contextMenu.reload":"Reload JP","contextMenu.reloadView":"ビューをリロード","contextMenu.reloadViews":"ビューをリロード","contextMenu.duplicate":"Duplicate JP","contextMenu.duplicateView":"ビューを複製","contextMenu.duplicateViews":"ビューを複製","contextMenu.addView":"ビューをチャネルに追加","contextMenu.addViews":"ビューをチャネルに追加","contextMenu.removeView":"チャネルからビューを削除","contextMenu.removeViews":"チャネルからビューを削除","contextMenu.closeView":"ビューを閉じる","contextMenu.closeViews":"ビューを閉じる","contextMenu.closeTab":"Close Tab JP","contextMenu.duplicatePage":"ページを複製","contextMenu.submenu.print":"印刷","contextMenu.submenu.printAll":"すべてを印刷","saveMenu.saveWorkspaceAs":"ワークスペースを別名で保存","saveMenu.savePageAs":"ページを別名で保存","saveModal.enterValue":"Please enter a value JP","saveModal.alreadyExists":"{{title}}はすでに存在しています。","saveModal.pleaseEnterValidName":"有効な名前を入力してください","saveModal.renamePage":"ページ名を変更","saveModal.closePage":"ページを閉じる","saveModal.discardChanges":"変更を破棄","saveModal.discardAll":"すべて破棄","saveModal.saveAll":"すべて保存","saveModal.savePagesCount":"閉じる前に（{{count}}）つのページを保存しますか？","defaultPageTitle":"Untitled Page JP","enterpriseDefaultPageTitle":"Untitled Supertab JP","addNewPage":"新しいページを追加","addNewTab":"新しいタブを追加","addNewView":"新しいビュー","restoreModal":"本当に最後に保存された変更に戻しますか？","modal.discardWarning":"保存されていない変更は破棄されます","modal.discardPageWarning":"保存されていないこのページへの変更は失われます。","modal.saveChangesPrompt":"閉じる前に変更を保存しますか？","modal.pageClose":"ページを閉じる","switchWorkspaceModal":"本当に{{workspace}}に切り替えますか？","switchWorkspaceModal.warning":"保存されていない変更は破棄されます","deleteWorkspaceModal":"このワークスペースを永久に削除してもよろしいですか？","replaceWorkspaceModal.warning":"{{workspace}}という名前のワークスペースがすでに存在します。置き換えますか？","replaceWorkspaceModal.warning.body":"同じ名前のワークスペースがすでに存在します。置き換えると、現在の内容は上書きされます。","replaceWorkspaceModal.replace":"置き換える","closePlatform":"プラットフォームを閉じる","closePlatform.workspace":"{{workspace}}プラットフォームを閉じる","closePlatform.warning":"プラットフォームを閉じると、実行中のワークスペース、アプリ、プロセスがすべて閉じます。","back":"戻る","forward":"進む","reload":"リロード","green":"グリーン","purple":"パープル","orange":"オレンジ","red":"レッド","pink":"ピンク","yellow":"イエロー","theme.light":"ライト","theme.dark":"ダーク","theme.system":"OSの設定と同期","toolbar.hideTabs":"タブを非表示","toolbar.showTabs":"タブを表示","toolbar.lock":"ロック","toolbar.unlock":"ロック解除","toolbar.colorLinking":"カラーリンク","toolbar.changeLayout":"レイアウトを変更","toolbar.saveMenu":"メニューを保存","toolbar.maximizeWindow":"ウィンドウを最大化する","toolbar.restoreWindow":"ウィンドウを復元","toolbar.minimizeWindow":"ウィンドウを最小化する","changeLayout.fullWidth":"全幅","changeLayout.columns":"列","changeLayout.Rows":"行","changeLayout.Grid":"グリッド","successIndicator.workspaceSwitched":"ワークスペースが切り替わりました","successIndicator.hidden":"タブが非表示になっています","successIndicator.shown":"タブが表示されています","successIndicator.locked":"ページがロックされています","successIndicator.unlocked":"ページのロックが解除されています","successIndicator.workspaceSaved":"ワークスペースが保存されました","successIndicator.workspaceSavedAs":"ワークスペースが{{workspace}}として保存されました","successIndicator.workspaceRenamed":"ワークスペース名が変更されました","successIndicator.pageSaved":"ページが保存されました","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. JP","successIndicator.pageCopySaved":"ページが{{title}}として保存されました","successIndicator.pageRenamed":"ページ名が変更されました","successIndicator.contextGroupApplied":"コンテキストグループが適用されました","successIndicator.namedContextGroupApplied":"{{colorName}}コンテキストグループが適用されました","successIndicator.viewRemoved":"コンテキストグループからビューが削除されました","successIndicator.viewsRemoved":"コンテキストグループからビューが削除されました","successIndicator.layoutApplied":"{{layoutName}}レイアウトが適用されました","successIndicator.workspaceDeleted":"ワークスペースが削除されました","errorIndicator.pageSaveFailed":"ページを保存できませんでした","errorIndicator.workspaceSaveFailed":"ワークスペースを保存できませんでした","errorIndicator.failedToDuplicatePage":"ページを複製できませんでした","infoIndicator.colorLinkAttempt":"このタブをカラーリンクしようとしましたが、サイト/コンテンツのオーナーがまだこれを有効にしていません","global.cancel":"キャンセル","global.confirm":"確認","global.save":"保存","global.delete":"Delete JP","appResults.header":"Featured content JP","recentlyClosed.header":"Recently Closed JP","landingPage.subheader":"Apps and websites selected by an admin will show here JP","aria.openBrowser":"ブラウザーメニューを開く","aria.browserTabs":"ブラウザータブ","aria.viewTab":"{{title}}のタブを表示","aria.closePage":"{{title}}のページタブボタンを閉じる","aria.closeTab":"{{title}}タブを閉じる","aria.title":"タイトル","aria.closeContextGroup":"エスケープを使用して、コンテキストグループ選択ダイアログを閉じる","aria.colorLinking":"カラーリンクの表示/非表示","aria.applyColorLinking":"カラーリンクを適用するビューを選択してください","aria.assignColorLinkingCurrentView":"現在のビューは{{name}}コンテキストグループに割り当てられています","aria.assignColorLinkingCurrentViews":"現在のビューは{{name}}コンテキストグループに割り当てられています","aria.setColorLinkingActiveView":"アクティブビューを{{name}}コンテキストグループに設定","aria.setColorLinkingActiveViews":"アクティブビューを{{name}}コンテキストグループに設定","aria.escapeLayoutDialog":"エスケープを使用して、レイアウト変更選択ダイアログを閉じる","global.supertab":"Supertab JP","global.tab":"Tab JP","bookmarks.editBookmark":"Edit Bookmark JP","bookmarks.bookmarkAdded":"Bookmark added JP","bookmarks.done":"Done JP","bookmarks.remove":"Remove JP","bookmarks.bookmarksPanel":"Bookmarks Panel JP","bookmarks.bookmarks":"Bookmarks JP","bookmarks.allBookmarks":"All Bookmarks JP","bookmarks.favorites":"Favorites JP","bookmarks.searchBookmarks":"Search Bookmarks JP","bookmarks.clearSearchInput":"Clear Search Input JP","bookmarks.createFolder":"Create New Folder JP","bookmarks.exitFolder":"Exit Folder JP","bookmarks.newFolder":"New Folder JP","bookmarks.namedFolder":"{{name}} Folder JP","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings JP","bookmarks.folderSettings":"{{name}} Folder Settings JP","bookmarks.noResultsFound":"No results found JP","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search JP","bookmarks.nothingToShow":"Nothing to show yet JP","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder JP","bookmarks.resultsFoundIn":"Results found in {{name}} JP","bookmarks.resultsInOtherFolders":"Results found in other folders JP","bookmarks.allResultsFoundIn":"All results found in JP","bookmarks.editName":"Edit Name JP","bookmarks.move":"Move JP","bookmarks.bookmarkAddedTitle":"Bookmark Added JP","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" JP","bookmarks.bookmarkEditedTitle":"Bookmark Edited JP","enterpriseContextMenu.saveSupertab":"Save Supertab JP","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... JP","enterpriseContextMenu.duplicate":"Duplicate JP","enterpriseContextMenu.deleteSupertab":"Delete Supertab JP","enterpriseContextMenu.newTab":"New Tab JP","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As JP","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? JP","saveSupertabCount_other":"Save {{count}} Supertabs before closing? JP"},"enterpriseSaveModal.renameSupertab":"Rename JP","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. JP","enterpriseSaveModal.closeTab":"Close Tab JP","enterpriseSaveModal.closeSupertab":"Close Supertab JP","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. JP","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? JP","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. JP","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved JP","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. JP","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted JP","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. JP","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab JP","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab JP","enterpriseCommandBar.switchToSupertab":"Switch to Supertab JP","enterpriseCommandBar.goTo":"Go to {{type}} JP","enterpriseCommandBar.viewMore":"View More JP","sidePanel.aiCenter":"AI Center JP","sidePanel.newChat":"New Chat JP","sidePanel.toggleSidePanel":"Toggle Side Panel JP","sidePanel.closeSidePanel":"Close Side Panel JP","sidePanel.openAiCenter":"Open AI Center JP","contextMenu.quitEnterpriseBrowser":"Quit JP","dock.removeFavorite":"Remove JP"}'),_n=JSON.parse('{"contextMenu.newWindow":"새 창","contextMenu.newPage":"새 페이지","contextMenu.restore":"마지막으로 저장한 변경 사항으로 복원","contextMenu.switchWorkspace":"작업 공간 전환","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"모양","contextMenu.saveWorkspace":"작업 공간 저장","contextMenu.saveWorkspaceAs":"다른 이름으로 작업 공간 저장...","contextMenu.renameWorkspace":"작업 공간 이름 바꾸기","contextMenu.deleteWorkspace":"작업 공간 삭제","contextMenu.downloads":"다운로드","contextMenu.savePage":"페이지 저장","contextMenu.savePageAs":"다른 이름으로 페이지 저장...","contextMenu.print":"인쇄...","contextMenu.printScreen":"화면 인쇄","contextMenu.closeWindow":"창 닫기","contextMenu.openStorefront":"매장 열기","contextMenu.quitPlatform":"플랫폼 종료","contextMenu.newView":"새 뷰","contextMenu.openView":"기본 웹 브라우저로 뷰 열기","contextMenu.openViews":"기본 웹 브라우저로 뷰 열기","contextMenu.reload":"Reload KR","contextMenu.reloadView":"뷰 다시 로드","contextMenu.reloadViews":"뷰 다시 로드","contextMenu.duplicate":"Duplicate KR","contextMenu.duplicateView":"뷰 복제","contextMenu.duplicateViews":"뷰 복제","contextMenu.addView":"채널에 뷰 추가","contextMenu.addViews":"채널에 뷰 추가","contextMenu.removeView":"채널에서 뷰 제거","contextMenu.removeViews":"채널에서 뷰 제거","contextMenu.closeView":"뷰 닫기","contextMenu.closeViews":"뷰 닫기","contextMenu.closeTab":"Close Tab KR","contextMenu.duplicatePage":"페이지 복제","contextMenu.submenu.print":"인쇄","contextMenu.submenu.printAll":"모두 인쇄","saveMenu.saveWorkspaceAs":"다른 이름으로 작업 공간 저장","saveMenu.savePageAs":"다른 이름으로 페이지 저장","saveModal.enterValue":"Please enter a value KR","saveModal.alreadyExists":"{{title}}이(가) 이미 존재합니다.","saveModal.pleaseEnterValidName":"유효한 이름을 입력하십시오.","saveModal.renamePage":"페이지 이름 바꾸기","saveModal.closePage":"페이지 닫기","saveModal.discardChanges":"변경 사항 폐기","saveModal.discardAll":"모두 폐기","saveModal.saveAll":"모두 저장","saveModal.savePagesCount":"닫기 전에 페이지({{count}}개)를 저장하시겠습니까?","defaultPageTitle":"Untitled Page KR","enterpriseDefaultPageTitle":"Untitled Supertab KR","addNewPage":"새 페이지 추가","addNewTab":"새 탭 추가","addNewView":"새 뷰","restoreModal":"마지막으로 저장한 변경 사항으로 복원하시겠습니까?","modal.discardWarning":"저장하지 않은 변경 사항은 모두 폐기됩니다","modal.discardPageWarning":"이 페이지의 저장하지 않은 변경 사항은 모두 손실됩니다.","modal.saveChangesPrompt":"닫기 전에 변경 사항을 저장하시겠습니까?","modal.pageClose":"페이지 닫기","switchWorkspaceModal":"{{workspace}}(으)로 전환하시겠습니까?","switchWorkspaceModal.warning":"저장하지 않은 변경 사항은 모두 폐기됩니다","deleteWorkspaceModal":"이 작업 공간을 영구적으로 삭제하시겠습니까?","replaceWorkspaceModal.warning":"{{workspace}}(이)라는 이름의 작업 공간이 이미 존재합니다. 교체하시겠습니까?","replaceWorkspaceModal.warning.body":"같은 이름의 작업 공간이 이미 존재합니다. 교체하면 현재 내용을 덮어쓰게 됩니다.","replaceWorkspaceModal.replace":"교체","closePlatform":"플랫폼 닫기","closePlatform.workspace":"{{workspace}} 플랫폼 닫기","closePlatform.warning":"플랫폼을 닫으면 실행 중인 모든 작업 공간, 앱 또는 프로세스가 닫힙니다.","back":"뒤로 가기","forward":"앞으로 가기","reload":"새로고침","green":"녹색","purple":"보라색","orange":"오렌지색","red":"빨간색","pink":"핑크색","yellow":"노란색","theme.light":"밝은","theme.dark":"어두운","theme.system":"OS 설정과 동기화","toolbar.hideTabs":"탭 숨기기","toolbar.showTabs":"탭 표시","toolbar.lock":"잠금","toolbar.unlock":"잠금 해제","toolbar.colorLinking":"색상 연결","toolbar.changeLayout":"레이아웃 변경","toolbar.saveMenu":"저장 메뉴","toolbar.maximizeWindow":"창 최대화","toolbar.restoreWindow":"창 복원","toolbar.minimizeWindow":"창 최소화","changeLayout.fullWidth":"전체 너비","changeLayout.columns":"열","changeLayout.Rows":"행","changeLayout.Grid":"그리드","successIndicator.workspaceSwitched":"작업 공간 전환","successIndicator.hidden":"탭 숨김","successIndicator.shown":"탭 표시","successIndicator.locked":"페이지 잠금","successIndicator.unlocked":"페이지 잠금 해제됨","successIndicator.workspaceSaved":"작업 공간 저장됨","successIndicator.workspaceSavedAs":"작업 공간이 {{workspace}}(으)로 저장됨","successIndicator.workspaceRenamed":"작업 공간 이름 변경됨","successIndicator.pageSaved":"페이지 저장됨","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. KR","successIndicator.pageCopySaved":"페이지가 {{title}}(으)로 저장됨","successIndicator.pageRenamed":"페이지 이름 변경됨","successIndicator.contextGroupApplied":"컨텍스트 그룹 적용됨","successIndicator.namedContextGroupApplied":"{{colorName}} 컨텍스트 그룹 적용됨","successIndicator.viewRemoved":"컨텍스트 그룹에서 뷰 제거됨","successIndicator.viewsRemoved":"컨텍스트 그룹에서 뷰 제거됨","successIndicator.layoutApplied":"{{layoutName}} 레이아웃 적용됨","successIndicator.workspaceDeleted":"작업 공간 삭제됨","errorIndicator.pageSaveFailed":"페이지 저장 실패","errorIndicator.workspaceSaveFailed":"작업 공간 저장 실패","errorIndicator.failedToDuplicatePage":"페이지 복제 실패","infoIndicator.colorLinkAttempt":"이 탭의 색상 링크를 시도했지만 사이트/콘텐츠 소유자가 아직 활성화하지 않았습니다.","global.cancel":"취소","global.confirm":"확인","global.save":"저장","global.delete":"Delete KR","appResults.header":"Featured Content KR","recentlyClosed.header":"Recently Closed KR","landingPage.subheader":"Apps and websites selected by an admin will show here KR","aria.openBrowser":"브라우저 메뉴 열기","aria.browserTabs":"브라우저 탭","aria.viewTab":"{{title}}의 뷰 탭","aria.closePage":"{{title}}의 페이지 닫기 탭","aria.closeTab":"탭 {{title}} 닫기","aria.title":"제목","aria.closeContextGroup":"이스케이프를 사용하여 컨텍스트 그룹 선택 대화상자 닫기","aria.colorLinking":"색상 연결 표시 또는 숨기기","aria.applyColorLinking":"색상 연결을 적용하려면 뷰를 선택하십시오.","aria.assignColorLinkingCurrentView":"{{name}} 컨텍스트 그룹에 할당된 현재 뷰","aria.assignColorLinkingCurrentViews":"{{name}} 컨텍스트 그룹에 할당된 현재 뷰","aria.setColorLinkingActiveView":"활성 뷰를 {{name}} 컨텍스트 그룹으로 설정","aria.setColorLinkingActiveViews":"활성 뷰를 {{name}} 컨텍스트 그룹으로 설정","aria.escapeLayoutDialog":"이스케이프를 사용하여 레이아웃 변경 대화상자 닫기","global.supertab":"Supertab KR","global.tab":"Tab KR","bookmarks.editBookmark":"Edit Bookmark KR","bookmarks.bookmarkAdded":"Bookmark added KR","bookmarks.done":"Done KR","bookmarks.remove":"Remove KR","bookmarks.bookmarksPanel":"Bookmarks Panel KR","bookmarks.bookmarks":"Bookmarks KR","bookmarks.allBookmarks":"All Bookmarks KR","bookmarks.favorites":"Favorites KR","bookmarks.searchBookmarks":"Search Bookmarks KR","bookmarks.clearSearchInput":"Clear Search Input KR","bookmarks.createFolder":"Create New Folder KR","bookmarks.exitFolder":"Exit Folder KR","bookmarks.newFolder":"New Folder KR","bookmarks.namedFolder":"{{name}} Folder KR","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings KR","bookmarks.folderSettings":"{{name}} Folder Settings KR","bookmarks.noResultsFound":"No results found KR","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search KR","bookmarks.nothingToShow":"Nothing to show yet KR","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder KR","bookmarks.resultsFoundIn":"Results found in {{name}} KR","bookmarks.resultsInOtherFolders":"Results found in other folders KR","bookmarks.allResultsFoundIn":"All results found in KR","bookmarks.editName":"Edit Name KR","bookmarks.move":"Move KR","bookmarks.bookmarkAddedTitle":"Bookmark Added KR","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" KR","bookmarks.bookmarkEditedTitle":"Bookmark Edited KR","enterpriseContextMenu.saveSupertab":"Save Supertab KR","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... KR","enterpriseContextMenu.duplicate":"Duplicate KR","enterpriseContextMenu.deleteSupertab":"Delete Supertab KR","enterpriseContextMenu.newTab":"New Tab KR","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As KR","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? KR","saveSupertabCount_other":"Save {{count}} Supertabs before closing? KR"},"enterpriseSaveModal.renameSupertab":"Rename KR","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. KR","enterpriseSaveModal.closeTab":"Close Tab KR","enterpriseSaveModal.closeSupertab":"Close Supertab KR","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. KR","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? KR","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. KR","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved KR","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved. KR","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted KR","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. KR","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab KR","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab KR","enterpriseCommandBar.switchToSupertab":"Switch to Supertab KR","enterpriseCommandBar.goTo":"Go to {{type}} KR","enterpriseCommandBar.viewMore":"View More KR","sidePanel.aiCenter":"AI Center KR","sidePanel.newChat":"New Chat KR","sidePanel.toggleSidePanel":"Toggle Side Panel KR","sidePanel.closeSidePanel":"Close Side Panel KR","sidePanel.openAiCenter":"Open AI Center KR","contextMenu.quitEnterpriseBrowser":"Quit KR","dock.removeFavorite":"Remove KR"}'),Un=JSON.parse('{"contextMenu.newWindow":"Новое окно","contextMenu.newPage":"Новая страница","contextMenu.restore":"Восстановить последние сохраненные изменения","contextMenu.switchWorkspace":"Переключить рабочую область","contextMenu.manageDesktopSignals":"Manage Desktop Signals","contextMenu.appearance":"Внешний вид","contextMenu.saveWorkspace":"Сохранить рабочую область","contextMenu.saveWorkspaceAs":"Сохранить рабочую область как...","contextMenu.renameWorkspace":"Переименовать рабочую область","contextMenu.deleteWorkspace":"Удалить рабочую область","contextMenu.downloads":"Загрузки","contextMenu.savePage":"Сохранить страницу","contextMenu.savePageAs":"Сохранить страницу как...","contextMenu.print":"Печать...","contextMenu.printScreen":"Распечатать экран","contextMenu.closeWindow":"Закрыть окно","contextMenu.openStorefront":"Открыть Storefront","contextMenu.quitPlatform":"Выйти из платформы","contextMenu.newView":"Новое представление","contextMenu.openView":"Открыть представление с помощью веб-браузера по умолчанию","contextMenu.openViews":"Открыть представления с помощью веб-браузера по умолчанию","contextMenu.reload":"Reload RU","contextMenu.reloadView":"Перезагрузить представление","contextMenu.reloadViews":"Перезагрузить представления","contextMenu.duplicate":"Duplicate RU","contextMenu.duplicateView":"Дублировать представление","contextMenu.duplicateViews":"Дублировать представления","contextMenu.addView":"Добавить представление на канал","contextMenu.addViews":"Добавить представления на канал","contextMenu.removeView":"Удалить представление из канала","contextMenu.removeViews":"Удалить представления из канала","contextMenu.closeView":"Закрыть представление","contextMenu.closeViews":"Закрыть представления","contextMenu.closeTab":"Close Tab RU","contextMenu.duplicatePage":"Дублировать страницу","contextMenu.submenu.print":"Печатать","contextMenu.submenu.printAll":"Печатать все","saveMenu.saveWorkspaceAs":"Сохранить рабочую область как","saveMenu.savePageAs":"Сохранить страницу как","saveModal.enterValue":"Please enter a value RU","saveModal.alreadyExists":"{{title}} уже существует.","saveModal.pleaseEnterValidName":"Введите подходящее имя","saveModal.renamePage":"Переименовать страницу","saveModal.closePage":"Закрыть страницу","saveModal.discardChanges":"Отменить изменения","saveModal.discardAll":"Отменить все","saveModal.saveAll":"Сохранить все","saveModal.savePagesCount":"Сохранить ({{count}}) страниц перед закрытием?","defaultPageTitle":"Untitled Page RU","enterpriseDefaultPageTitle":"Untitled Supertab RU","addNewPage":"Добавить новую страницу","addNewTab":"Добавить новую вкладку","addNewView":"Новое представление","restoreModal":"Вы уверены, что хотите восстановить последние сохраненные изменения?","modal.discardWarning":"Все несохраненные изменения будут отменены","modal.discardPageWarning":"Все несохраненные изменения на этой странице будут потеряны.","modal.saveChangesPrompt":"Сохранить изменения перед закрытием?","modal.pageClose":"Закрыть страницу","switchWorkspaceModal":"Вы уверены, что хотите перейти в {{workspace}}?","switchWorkspaceModal.warning":"Все несохраненные изменения будут отменены","deleteWorkspaceModal":"Вы уверены, что хотите навсегда удалить эту рабочую область?","replaceWorkspaceModal.warning":"Рабочая область с именем {{workspace}} уже существует. Вы хотите заменить ее?","replaceWorkspaceModal.warning.body":"Рабочая область с таким же именем уже существует. При ее замене текущее содержимое будет перезаписано.","replaceWorkspaceModal.replace":"Заменить","closePlatform":"Закрыть платформу","closePlatform.workspace":"Закрыть платформу {{workspace}}","closePlatform.warning":"Закрытие платформы приведет к закрытию всех рабочих областей, приложений и запущенных процессов.","back":"Назад","forward":"Вперед","reload":"Перезагрузить ","green":"Зеленый","purple":"Фиолетовый","orange":"Оранжевый","red":"Красный","pink":"Розовый","yellow":"Желтый","theme.light":"Светлый","theme.dark":"Темный","theme.system":"Синхронизировать с настройками ОС","toolbar.hideTabs":"Скрыть вкладки","toolbar.showTabs":"Показать вкладки","toolbar.lock":"Заблокировать","toolbar.unlock":"Разблокировать","toolbar.colorLinking":"Привязка к цвету","toolbar.changeLayout":"Изменить макет","toolbar.saveMenu":"Меню сохранения","toolbar.maximizeWindow":"Увеличить окно","toolbar.restoreWindow":"Восстановить окно","toolbar.minimizeWindow":"Свернуть окно","changeLayout.fullWidth":"Полная ширина","changeLayout.columns":"Столбцы","changeLayout.Rows":"Строки","changeLayout.Grid":"Сетка","successIndicator.workspaceSwitched":"Рабочая область переключена","successIndicator.hidden":"Вкладки скрыты","successIndicator.shown":"Вкладки показаны","successIndicator.locked":"Страница заблокирована","successIndicator.unlocked":"Страница разблокирована","successIndicator.workspaceSaved":"Рабочая область сохранена","successIndicator.workspaceSavedAs":"Рабочая область сохранена как {{workspace}}","successIndicator.workspaceRenamed":"Рабочая область переименована","successIndicator.pageSaved":"Страница сохранена","successIndicator.pageHasBeenSaved":"\\"{{title}}\\" has been saved. RU","successIndicator.pageCopySaved":"Страница сохранена как {{title}}","successIndicator.pageRenamed":"Страница переименована","successIndicator.contextGroupApplied":"Контекстная группа применена","successIndicator.namedContextGroupApplied":"Контекстная группа {{colorName}} применена","successIndicator.viewRemoved":"Представление удалено из контекстной группы","successIndicator.viewsRemoved":"Представления удалены из контекстной группы","successIndicator.layoutApplied":"Макет {{layoutName}} применен","successIndicator.workspaceDeleted":"Рабочая область удалена","errorIndicator.pageSaveFailed":"Не удалось сохранить страницу","errorIndicator.workspaceSaveFailed":"Не удалось сохранить рабочую область","errorIndicator.failedToDuplicatePage":"Не удалось продублировать страницу","infoIndicator.colorLinkAttempt":"Мы попытались привязать цвет к этой вкладке, но владелец сайта/контента еще не включил эту возможность","global.cancel":"Отменить","global.confirm":"Подтвердить","global.save":"Сохранить","global.delete":"Delete RU","appResults.header":"Featured Content RU","recentlyClosed.header":"Recently Closed RU","landingPage.subheader":"Apps and websites selected by an admin will show here RU","aria.openBrowser":"Открыть меню браузера","aria.browserTabs":"Вкладки браузера","aria.viewTab":"Вкладка представления {{title}}","aria.closePage":"Кнопка «Закрыть» на вкладке для страницы {{title}}","aria.closeTab":"Закрыть вкладку {{title}}","aria.title":"Название","aria.closeContextGroup":"Чтобы закрыть диалог выбора контекстной группы, используйте escape","aria.colorLinking":"Показать или скрыть привязку к цвету","aria.applyColorLinking":"Выберите представление, чтобы применить привязку к цвету","aria.assignColorLinkingCurrentView":"Текущее представление, назначенное контекстной группе {{name}}","aria.assignColorLinkingCurrentViews":"Текущие представления, назначенные контекстной группе {{name}}","aria.setColorLinkingActiveView":"Установить активное представление в контекстную группу {{name}}","aria.setColorLinkingActiveViews":"Установить активные представления в контекстную группу {{name}}","aria.escapeLayoutDialog":"Чтобы закрыть диалог изменения макета, используйте escape","global.supertab":"Supertab RU","global.tab":"Tab RU","bookmarks.editBookmark":"Edit Bookmark RU","bookmarks.bookmarkAdded":"Bookmark added RU","bookmarks.done":"Done RU","bookmarks.remove":"Remove RU","bookmarks.bookmarksPanel":"Bookmarks Panel RU","bookmarks.bookmarks":"Bookmarks RU","bookmarks.allBookmarks":"All Bookmarks RU","bookmarks.favorites":"Favorites RU","bookmarks.searchBookmarks":"Search Bookmarks RU","bookmarks.clearSearchInput":"Clear Search Input RU","bookmarks.createFolder":"Create New Folder RU","bookmarks.exitFolder":"Exit Folder RU","bookmarks.newFolder":"New Folder RU","bookmarks.namedFolder":"{{name}} Folder RU","bookmarks.bookmarkSettings":"{{name}} Bookmark Settings RU","bookmarks.folderSettings":"{{name}} Folder Settings RU","bookmarks.noResultsFound":"No results found RU","bookmarks.noResultsFoundSubtext":"There are no bookmarks that match your search RU","bookmarks.nothingToShow":"Nothing to show yet RU","bookmarks.nothingToShowSubtext":"Add a bookmark to this folder RU","bookmarks.resultsFoundIn":"Results found in {{name}} RU","bookmarks.resultsInOtherFolders":"Results found in other folders RU","bookmarks.allResultsFoundIn":"All results found in RU","bookmarks.editName":"Edit Name RU","bookmarks.move":"Move RU","bookmarks.bookmarkAddedTitle":"Bookmark Added RU","bookmarks.bookmarkAddedToFolder":"Your bookmark was added to \\"{{folderName}}\\" RU","bookmarks.bookmarkEditedTitle":"Bookmark Edited RU","enterpriseContextMenu.saveSupertab":"Save Supertab RU","enterpriseContextMenu.saveSupertabAs":"Save Supertab As... RU","enterpriseContextMenu.duplicate":"Duplicate RU","enterpriseContextMenu.deleteSupertab":"Delete Supertab RU","enterpriseContextMenu.newTab":"New Tab RU","enterpriseSaveMenu.saveSupertabAs":"Save Supertab As RU","enterpriseSaveModal":{"saveSupertabCount_one":"Save {{count}} Supertab before closing? RU","saveSupertabCount_other":"Save {{count}} Supertabs before closing? RU"},"enterpriseSaveModal.renameSupertab":"Rename RU","enterpriseSaveModal.unsavedChanges":"You have unsaved changes in this Tab. RU","enterpriseSaveModal.closeTab":"Close Tab RU","enterpriseSaveModal.closeSupertab":"Close Supertab RU","enterpriseModal.discardSupertabWarning":"Any unsaved changes will be lost. RU","enterpriseDeleteModal.deleteSupertab":"Delete the \\"{{title}}\\" Supertab? RU","enterpriseDeleteModal.deleteSupertabWarning":"Are you sure you want to delete this Supertab? This action cannot be undone and is permanent. RU","enterpriseSuccessIndicator.supertabSaved":"Supertab Saved RU","enterpriseSuccessIndicator.supertabHasBeenSaved":"\\"{{title}}\\" Supertab has been saved.RU","enterpriseSuccessIndicator.supertabDeleted":"Supertab Deleted RU","enterpriseSuccessIndicator.supertabHasBeenDeleted":"\\"{{title}}\\" Supertab has been deleted. RU","enterpriseErrorIndicator.failedToDuplicateTab":"Failed to duplicate Tab RU","enterpriseErrorIndicator.failedToDuplicateSupertab":"Failed to duplicate Supertab RU","enterpriseCommandBar.switchToSupertab":"Switch to Supertab RU","enterpriseCommandBar.goTo":"Go to {{type}} RU","enterpriseCommandBar.viewMore":"View More RU","sidePanel.aiCenter":"AI Center RU","sidePanel.newChat":"New Chat RU","sidePanel.toggleSidePanel":"Toggle Side Panel RU","sidePanel.closeSidePanel":"Close Side Panel RU","sidePanel.openAiCenter":"Open AI Center RU","contextMenu.quitEnterpriseBrowser":"Quit RU","dock.removeFavorite":"Remove RU"}');const On=Rn().t,Gn=async e=>{const t=await Ca(e);return await t.dispatch(Ta.GetPages)},Hn=async e=>(await Ca(e.identity)).dispatch(Ta.UpdatePageForWindow,e);let $n,zn=!1;const Kn=()=>zn,Jn=()=>$n||{enabled:!1};async function Zn(e,t){const a=!!t;let n=new Set;if(a){const{identity:e,pageId:a}=t,o=bn().Browser.wrapSync(e),r=await o.getPage(a);r?.panels&&(n=new Set(r.panels.map((({viewOptions:e})=>e.name))))}return e.map((e=>{const t=e.viewOptions.name,o=t?.startsWith(Sn);o&&(!a||a&&!n.has(t))&&delete e.viewOptions.name;const r=(i=e.viewOptions,i.name||=`${Sn}${ia()}`,i);var i;return{...e,viewOptions:{...r,uuid:ye.uuid}}}))}async function qn(e){for(const t of e)t.panels&&await Qn(t.panels)}const jn=e=>null!==e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&/ERR_([A-Z]+_*)+/.test(e.message);async function Qn(e){const t=e.map((e=>fin.Platform.getCurrentSync().createView(e.viewOptions,fin.me.identity).catch((e=>{if(!jn(e))throw e;console.error(e)}))));return await Promise.all(t)}const Yn=(e,t)=>!t.find((t=>t===e)),Xn=(e,t)=>`${e} (${t})`,eo=(e,t)=>{if(Yn(e,t))return e;let a=1;const n=e.replace(/ *\(\d+\)$/,"");for(;!Yn(Xn(n,a),t);)a+=1;return Xn(n,a)},to=async()=>{const e=await Me();return(await Promise.all(e.map((async e=>{try{return Gn(e.identity)}catch(t){JSON.stringify(e.identity);const a=await e.getOptions();return a.workspacePlatform?.pages||[]}})))).reduce(((e,t)=>e.concat(t)),[])},ao=async()=>(await st(ye)).dispatch(ot.GetSavedPages,void 0),no=async e=>(await st(ye)).dispatch(ot.GetSavedPage,e),oo=async(e,t)=>{const a=await(async e=>(await to()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Hn({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},ro=async({page:e})=>{await oo(e.pageId,e),await(async e=>(await st(ye)).dispatch(ot.CreateSavedPage,e))({page:e})},io=async e=>{await no(e)&&await(async e=>(await st(ye)).dispatch(ot.DeleteSavedPage,e))(e)},so=async({pageId:e,page:t})=>{await oo(e,t);return await(async e=>(await st(ye)).dispatch(ot.UpdateSavedPage,e))({pageId:e,page:t})},co=async e=>await no(e.pageId)?so({pageId:e.pageId,page:e}):ro({page:e}),lo=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.AttachPagesToWindow,e))(e)},uo=async e=>{const t={...e.page,panels:e.page.panels&&await Zn(e.page.panels,e)};t.panels&&await Qn(t.panels),await Hn({...e,page:t})},po=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.DetachPagesFromWindow,e))(e)},wo=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.SetActivePageForWindow,e))(e)},go=e=>Gn(e),ho=async({identity:e,pageId:t})=>(await go(e)).find((e=>e.pageId===t)),mo=async e=>{await(async e=>(await Ca(e.identity)).dispatch(Ta.ReorderPagesForWindow,e))(e)},ko=new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};async function bo(e){await ko.lock();try{const t=Kn()?On("enterpriseDefaultPageTitle"):On("defaultPageTitle"),a=e??t,[n,o]=await Promise.all([ao(),to()]),r=[...n,...o].map((({title:e})=>e));return eo(a,r)}finally{ko.unlock()}}async function fo({page:e}){return{shouldShowModal:!(!e||!e.hasUnsavedChanges)}}async function yo({page:e,identity:t}){const a=fin.Application.getCurrentSync();if((await a.getInfo()).initialOptions.enableBeforeUnload){const a=await fin.Application.getCurrentSync().getViews(),n=In(e.layout.content).filter((e=>e.name&&a.some((t=>t.identity.name===e.name)))).map((e=>fin.View.wrapSync({name:e.name,uuid:t.uuid}))),o=await this.checkViewsForPreventUnload(n);if(o.viewsPreventingUnload.length>0){if((await this.getUserDecisionForBeforeUnload({...o,windowId:t,windowShouldClose:!1,closeType:"page"})).viewsToClose.length!==n.length)return e.pageId,{shouldPageClose:!1}}}return{shouldPageClose:!0}}async function So({pages:e,identity:t}){const a=await Promise.all(e.map((e=>this.shouldPageClose({page:e,closeType:"window",identity:t})))),{pagesPreventingClose:n,pagesNotPreventingClose:o}=e.reduce(((e,t,n)=>!a[n].shouldPageClose?{pagesNotPreventingClose:e.pagesNotPreventingClose,pagesPreventingClose:[...e.pagesPreventingClose,t]}:{pagesPreventingClose:e.pagesPreventingClose,pagesNotPreventingClose:[...e.pagesNotPreventingClose,t]}),{pagesPreventingClose:[],pagesNotPreventingClose:[]});return this.handlePagesAndWindowClose({pagesNotPreventingClose:o,pagesPreventingClose:n,identity:t})}async function vo({pagesPreventingClose:e,pagesNotPreventingClose:t,identity:a}){return{shouldWindowClose:0===e.length}}async function Po({page:e}){return ga(e)}async function Co(e){return{hasUnsavedChanges:!0}}const Mo=async()=>{const e=bn(),t=(await Me()).map((t=>e.Browser.wrapSync(t.identity)));await Promise.all(t.map((async e=>{const t=await e.getPages();await Promise.all(t.map((async t=>{t.title,await e.updatePage({pageId:t.pageId,page:{hasUnsavedChanges:!1}}),t.pageId,t.title,await co({...t,hasUnsavedChanges:!1})})))})))},xo=new Map,Io=()=>xo,Ao=e=>xo.delete(e);let Wo=!1;const Do=()=>{Wo||(Wo=!0,fin.Window.wrapSync(ve).once("closed",(()=>{Wo=!1,(async(e,t)=>{await Yt(Qt(e),{source:"Store",...t})})(fin.me.identity,{type:"Navigation",action:"Close Store",skipValueHashing:!0})})))};let To,Bo,Ro;const Eo=async()=>(void 0===Ro&&(Ro=!!(await Y()).disableOpenFinAnalytics),Ro);async function Fo(e){e.forEach((e=>{var t,a;"Page"===e.type?"Open Page"===e.action?(t=e.data.uuid,a=e,xo.set(t,a)):"Close Page"===e.action&&Ao(e.data.uuid):"Store"===e.source&&"Close"!==e.action&&Do()})),await(async e=>{To?.sendToOpenFin&&(await Eo()||e.forEach((async e=>{const t=na({},e);t.entityId&&(t.entityId.uuid=await ta(t.entityId.uuid),t.entityId.name=await ta(t.entityId.name)),!e.skipValueHashing&&"value"in t&&(t.value=await ta(t.value)),Bo(t)})))})(e);const t=e.map((({skipValueHashing:e,...t})=>t));this.handleAnalytics(t)}const Vo=async e=>{To=e;To?.sendToOpenFin&&!await Eo()&&(()=>{const e=L,t=e+K.Analytics,a=document.createElement("IFRAME");a.setAttribute("src",t),a.setAttribute("style","width: 0px !important"),a.setAttribute("style","height: 0px !important"),a.setAttribute("style","display: none !important"),document.body.appendChild(a),Bo=async t=>{a.contentWindow.postMessage(t,e)}})();const t=fin.Application.getCurrentSync();t.addListener("view-created",(async e=>{var t;Xt({type:"View",action:"Open View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid,url:await(t=e.viewIdentity,fin.View.wrapSync(t).getInfo().then((e=>e.url)))}})})),t.addListener("view-destroyed",(async e=>{Xt({type:"View",action:"Close View",value:e.viewIdentity.name,data:{uuid:e.viewIdentity.uuid}})})),t.addListener("window-closed",(e=>{e.name.startsWith(me.BrowserMenu)||(Xt({type:"Window",action:"Close Window",value:e.name,data:{uuid:e.uuid}}),(async()=>{const e=Io(),t=await to();if(t.length===e.size)return;const a=t.reduce(((e,t)=>e.set(t.pageId,1)),new Map);for(const[t,n]of e)a.has(t)||(n.action="Close Page",Xt(n),Ao(t))})())}))},No=Te({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});const Lo=function(e=No){const t=new Map;return async(a,n,o,r,i)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const r=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await r.close()}const s=`${me.BrowserIndicator}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:s});const c=`New ${r} indicator: ${o} ${i}`,l=await fin.Platform.getCurrentSync().createWindow({...e,name:s,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("role","alert"),a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),300),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(c),l.once("closed",(()=>{t.delete(a)}))}}();async function _o(e,t,a,n,o,r){if(a&&fin.me.name!==a){const i={type:e,message:t,parentBrowserName:a,secondaryMessage:n,icon:o,isEnterprise:r};return(await Ca({uuid:fin.me.uuid,name:a})).dispatch(Ta.ShowBrowserIndicator,i)}const i=new URLSearchParams;if(i.append("type",e),i.append("message",t),i.append("parentName",a||""),i.append("secondaryMessage",n||""),i.append("icon",o||""),i.append("isEnterprise",`${r}`||""),a){const e=fe(a?{uuid:R,name:a}:void 0),t=`${(s=await e.getBounds()).top},${s.left},${s.height},${s.width},${s.bottom},${s.right},${s.content.top},${s.content.left},${s.content.height},${s.content.width}`;i.append("parentBounds",t)}var s;const c=`${(r?await ne():await ae())+K.BrowserIndicator}#${i.toString()}`;return Lo("browser"+a,c,t,e,n)}async function Uo(e,t,a,n){const o=await Ht(t);return _o("success",e,t.name,a,n,o)}const Oo=async(e=ye)=>{const{workspacePlatform:t}=await fe(e).getOptions(),a=t?.newPageUrl,n=t?.newTabUrl;return{newPageUrl:a,newTabUrl:n}},Go=async(e=ye)=>{const t=await Ht(e)||Kn(),a=t?null:await bn().Browser.getUniquePageTitle();let n;if(e&&await Ce(e))n=await(async(e,t=ye)=>{const{newPageUrl:a}=await Oo(t);if(!a)throw new Error("Trying to create a new page without a newPageUrl set");return An(e,a,t)})(a,e);else if(t){const e=await oe();n=await An(a,e)}t&&(n.settings=n.settings??{},n.dimensions=n.dimensions??{},n.settings.hasHeaders=!1,n.settings.reorderEnabled=!0,n.dimensions.headerHeight=0);const o=await wa(a,n);return t&&(o.hasUnsavedChanges=!1),o},Ho=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t)=>{const a=await Ht(t);return{title:"Switch Workspace",windowOptions:{url:await re(a,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:t},content:{title:On("switchWorkspaceModal",{workspace:e}),body:On("switchWorkspaceModal.warning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(t,a?void 0:e),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await ja({options:i,content:o})).data.actionName},$o=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ht(e);return{title:"Delete Workspace",windowOptions:{url:await re(a,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:144,defaultWidth:410,modalParentIdentity:e},content:{title:On("deleteWorkspaceModal"),body:`${t}`,buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Confirm"===(await ja({options:r,content:n})).data.actionName},zo=async(e,t,a)=>{const{windowOptions:n,content:o}=await(async(e,t,a)=>{const n=await Ht(e);return{title:"Platform Quit",windowOptions:{url:await re(n,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:a?void 0:e},content:{title:On("Platform"===t?"closePlatform":"closePlatform.workspace",{workspace:t}),body:On("closePlatform.warning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e,t,a),r=await Le(n,e,a),i={...n,top:r.top,left:r.left};return"Confirm"===(await ja({options:i,content:o})).data.actionName},Ko=async e=>{const{windowOptions:t,content:a}=await(async e=>{const t=await Ht(e);return{title:"Restore Changes",windowOptions:{url:await re(t,!1)+K.ResponseModal,name:me.BrowserMenu,defaultHeight:134,defaultWidth:410,modalParentIdentity:e},content:{title:On("restoreModal"),body:On("modal.discardWarning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel"},{label:On("global.confirm"),type:"primary",id:"Confirm"}]}}}})(e),n=await Le(t,t.modalParentIdentity),o={...t,top:n.top,left:n.left};return"Confirm"===(await ja({options:o,content:a})).data.actionName},Jo=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>{const a=await Ht(e);return{title:"Delete Page",windowOptions:{url:new URL(await re(a,!1)+K.ResponseModal).toString(),name:me.BrowserMenu,defaultHeight:172,defaultWidth:464,modalParentIdentity:e},content:{title:On("enterpriseDeleteModal.deleteSupertab",{title:t}),body:On("enterpriseDeleteModal.deleteSupertabWarning"),buttons:{right:[{label:On("global.cancel"),type:"secondary",id:"Cancel",variant:a?"outline":void 0},{label:On("global.delete"),type:"primary",id:"Delete",variant:a?"submit":void 0}]}}}})(e,t),o=await Le(a,a.modalParentIdentity),r={...a,top:o.top,left:o.left};return"Delete"===(await ja({options:r,content:n})).data.actionName},Zo=async({identity:e,title:t,description:a})=>{const{windowOptions:n,content:o}=await(async(e,t,a)=>({title:"Update Version",windowOptions:{url:await ne()+K.ResponseModal,name:me.UpdateVersionModal,defaultHeight:172,defaultWidth:464,modalParentIdentity:e,preventBlur:!0,closeOnResponse:!0,includeInSnapshots:!1},content:{title:t,body:a,buttons:{right:[{label:"Snooze",type:"secondary",id:"snooze"},{label:"Restart",type:"primary",id:"restart"}]}}}))(e,t,a),r=fin.Window.wrapSync({uuid:e.uuid,name:`${n.name}--${n.modalParentIdentity?.name}`});try{if(await(r?.isShowing()))return}catch(e){}const i=await Le(n,n.modalParentIdentity),s={...n,top:i.top,left:i.left};return(await ja({options:s,content:o})).data};async function qo({options:e,...t}){if(!(!!e?.skipPrompt||await Ho(e?.promptContainerWindowIdentity,t.title,e?.shouldCenterModalOnMonitor)))return!1;const a=!!(await fin.Application.getCurrentSync().getChildWindows()).find((({identity:e})=>e.name===me.DockCompanion||e.name===le));Kn();const n=a||Kn()?{closeExistingWindows:!1,closeSnapshotWindows:!0}:{closeExistingWindows:e?.applySnapshotOptions?.closeExistingWindows??!0},o=bn();return await o.applySnapshot(t.snapshot,{...e?.applySnapshotOptions??{},...n}),Yo(t),_o("success",On("successIndicator.workspaceSwitched")).catch(console.warn),!0}async function jo(e){try{return await qo(e)}catch(e){return console.error("failed to apply the current workspace: ",e),!1}}async function Qo(e){try{const t=await async function(){const e=bn(),t=await e.getCurrentWorkspace({skipSnapshotUpdate:!0});return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();if(!t)return"not-saved-workspace";return!!e?.skipPrompt||await Ko(e?.promptContainerWindowIdentity)?(await qo({options:{skipPrompt:!0,applySnapshotOptions:e?.applySnapshotOptions},...t}),"success"):"user-declined"}catch(e){throw console.error("failed to restore last saved workspace: ",e),e}}function Yo(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);Mt(Wt.CurrentWorkspaceId,t)}catch(e){console.error("failed to set the active workspace: ",e)}}async function Xo(){const e=bn(),t=await e.getSnapshot();return{workspaceId:ia(),title:await nr(),metadata:{APIVersion:O},snapshot:t}}async function er(e){if("undefined"==typeof localStorage)return Xo();const t=xt(Wt.CurrentWorkspaceId);if(!t)return Xo();const a=JSON.parse(t);if(e?.skipSnapshotUpdate)return a;const n=bn(),o=await n.getSnapshot();return{...a,metadata:{APIVersion:O},snapshot:o}}const tr=async()=>(await st(ye)).dispatch(ot.GetSavedWorkspaces,void 0),ar=async e=>await(async e=>(await st(ye)).dispatch(ot.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await st(ye)).dispatch(ot.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await st(ye)).dispatch(ot.CreateSavedWorkspace,e))({workspace:e});async function nr(e="Untitled Workspace"){const t=(await tr()).map((({title:e})=>e));return eo(e,t)}const or=e=>({...e,snapshot:{...e.snapshot,windows:e.snapshot.windows.map((e=>({...e,workspacePlatform:{...e.workspacePlatform,pages:e.workspacePlatform?.pages?.map((e=>({...e,hasUnsavedChanges:!1})))}})))}}),rr=async(e,t)=>{const a=t??bn();await a.Storage.saveWorkspace(or(e)),await(async()=>(await st(ye)).dispatch(ot.MarkUnsavedPagesAsSavedInternal,void 0))()},ir=async e=>{const t=bn(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspacesMetadata(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))await rr(a,t),await t.setActiveWorkspace(a),await Uo(On("successIndicator.workspaceSaved"),e);else{const a=t.Browser.wrapSync(e);await a._openSaveModal({menuType:I.SAVE_WORKSPACE})}},sr=e=>{bn().Browser.wrapSync(e)._openSaveModal({menuType:I.SAVE_WORKSPACE_AS})},cr=async e=>{const t=bn().Browser.wrapSync(e),{newPageUrl:a}=await Oo(),n=await Go(e),o=a||void 0;await t._addDefaultPage({identity:e,page:n,newPageUrl:o})},lr=async(e,t)=>{const a=bn().Browser.wrapSync(e),n=await bn().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive)),r=n.some((e=>o.pageId===e.pageId)),i=await Ht(e);if(r)try{await bn().Storage.savePage((d=o,{...d,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0,layout:xn(d.layout)})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),Uo(On(i?"enterpriseSuccessIndicator.supertabSaved":"successIndicator.pageSaved"),e,On(i?"enterpriseSuccessIndicator.supertabHasBeenSaved":"successIndicator.pageHasBeenSaved",{title:o.title}))}catch{s=On("errorIndicator.pageSaveFailed"),c=o.parentIdentity.name,_o("error",s,c,l)}else a._openSaveModal({id:o.pageId,menuType:I.SAVE_PAGE});var s,c,l,d},dr=async(e,t)=>{const a=bn().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:I.SAVE_PAGE_AS}),Xt({type:"Page Modal",action:"Select Save As",value:n.title,skipValueHashing:!0})},ur={title:"Downloads",pageId:"downloads-page-id",layout:{content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{name:"show-download-view",url:"chrome://downloads/"}}]}]}},pr=async e=>{const t=fe(e),a=await t.getCurrentViews(),n=(await bn().Browser.wrapSync(t.identity).getPages()).find((e=>e.isActive));try{const t=(await Promise.all(a.map((async e=>({identity:e.identity,info:await fin.View.wrapSync(e.identity).getInfo()}))))).find((e=>"chrome://downloads/"===e.info.url));if(t)await fin.View.wrapSync(t.identity).focus();else{const t=bn();if(n?.isLocked){const e=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>"show-download-window"===e.identity.name));return void(e?await e.focus():t.Browser.createWindow({name:"show-download-window",workspacePlatform:{pages:[ur]}}))}(await bn().createView({name:"show-download-view",url:"chrome://downloads/",target:e},e)).focus()}}catch(e){console.error("Couldn't open downloads view",e)}},wr=async e=>{const t=e.map((e=>fin.View.wrapSync(e).print()));await Promise.all(t)},gr=e=>{const[t,a,n]=e.split(".").map((e=>"x"===e?0:1));return 100*t+10*a+1*n};class hr extends Error{}const mr=async e=>{try{const a=await async function(){const e=await Y(),t=e?.translationOverridesUrl??"https://workspace.openfin.co/workspace/assets/translation-override.json";if(""===t)throw new hr("Empty string provided as url to translationOverridesUrl, overrides will not be fetched.");return await fetch(t).then((e=>e.json()))}();(t=(e=>{const t=O.split(".");return Object.keys(e).filter((e=>{const a=e.split(".");if(3!==a.length)return console.warn(`Encountered a translation override version string in an unsupported format: ${e}. Versions must be in A.B.C format where A, B, C are either integers or the wildcard symbol 'x'.`),!1;const[n,o,r]=a;return!(n!==t[0]&&"x"!==n||o!==t[1]&&"x"!==o||r!==t[2]&&"x"!==r)}))})(a),[...t].sort(((e,t)=>gr(e)-gr(t)))).forEach((t=>{const n=a[t];Object.keys(n).forEach((t=>{e.addResourceBundle(t,"translation",n[t],!0,!0)}))}))}catch(e){e instanceof hr?console.warn(e.message):console.error("Error applying a translation override: ",e)}var t};function kr(){return Rn().language}const br=async e=>{Sr(e),(e=>{Rn().changeLanguage(e)})(e),await(async e=>{const t=await Me();return Promise.all(t.map((async t=>{const a=await Ca(t.identity);await a.dispatch(Ta.SetSelectedLanguage,e)})))})(e)};function fr(){if(!Rn().options.resources)throw new Error("No language resources found");return{currentLanguage:kr(),resources:Rn().options.resources}}async function yr(e="en-US"){Sr(e),function(e="en-US"){Rn().use(Tn.initReactI18next).init({lng:e,fallbackLng:"en-US",resources:{"en-US":{translation:Vn},"ja-JP":{translation:Ln},"zh-CN":{translation:En},"ko-KR":{translation:_n},"ru-RU":{translation:Un},"de-DE":{translation:Nn},"zh-Hant":{translation:Fn}},interpolation:{escapeValue:!1}})}(e),await mr(Rn())}function Sr(e){if(!x.includes(e))throw new Error(`The ISO language provided ${e} is not supported`)}const vr=new Map;let Pr=Date.now();function Cr(){const e=Date.now();return Pr=Math.max(e,Pr+1),Pr}async function Mr(){const e=Array.from(vr.values()).sort(((e,t)=>t.lastFocusedTime-e.lastFocusedTime));if(e.length>0)return e[0].identity;try{const e=xt(Wt.LastFocusedBrowserWindow);if(!e)return;const t=JSON.parse(e);if(await Ie(t))return await Ar(t),t}catch(e){console.error("failed to get last focused browser window from localStorage:",e)}}async function xr(){const e=fin.Application.getCurrentSync();return(await e.getChildWindows()).filter((e=>e.identity.name.startsWith(me.BrowserWindow)))}async function Ir(){const e=bn(),t=fin.Window.wrapSync({uuid:fin.me.uuid,name:me.DockCompanion}),a=await De(await t.getBounds()),n=await async function(e,t,a){const n=await fin.System.getMonitorInfo(),o=a?.availableRect??n.primaryMonitor.availableRect,r={width:o.right-o.left,height:o.bottom-o.top},i=Math.min(e,r.height),s=Math.min(t,r.width),c=o.top+Math.floor((r.height-i)/2);return{height:i,width:s,left:o.left+Math.floor((r.width-s)/2),top:c}}(600,900,a),o=await Go();return(await e.Browser.createWindow({defaultHeight:600,defaultWidth:900,defaultLeft:n.left,defaultTop:n.top,workspacePlatform:{pages:[o]}})).identity}async function Ar(e,t,a=!1){if(!await Ce(e))return;const n=fin.Window.wrapSync(e),o=t??await n.isShowing(),r=vr.get(e.name),i={identity:e,lastFocusedTime:a?Cr():r?.lastFocusedTime??Cr(),isVisible:o};vr.set(e.name,i),a&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);Mt(Wt.LastFocusedBrowserWindow,t)}catch(e){console.error("failed to save last focused browser window: ",e)}}(e)}async function Wr(e=fin.me.identity){vr.delete(e.name)}const Dr=ra()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===me.BrowserMenu||n.identity.name===me.BrowserSaveMenu?t=n:await Ce(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});let Tr={};const Br=async({actionId:e,payload:t})=>{if("function"!=typeof Tr[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return Tr[e](t)};let Rr;const Er=()=>`custom-context-menu-${bn().identity.uuid}-${O}`,Fr=()=>`custom-bookmark-context-menu-${bn().identity.uuid}-${O}`,Vr=async()=>(Rr||(Rr=await fin.InterApplicationBus.Channel.connect(Er())),Rr);var Nr,Lr;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(Nr||(Nr={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu",e.ZoomControls="zoom-controls"}(Lr||(Lr={}));const _r=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),Ur="visited-sites",Or="removed-tab-stack",Gr=T&&W&&Bt("openfin-home-pages","pages"),Hr=T&&W&&new vt.Dexie(Dt("openfin-enterprise-site-history"));Hr&&Hr.version(.1).stores({[Ur]:"id, url"});const $r=T&&W&&new vt.Dexie(Dt("openfin-enterprise-tab-history"));async function zr(e){if(!Gr)throw new Error("Unable to get page - IndexDB not supported");const t=await Gr.pages.get(e);if(t)return t.pageId=e.toString(),t.title=t.title||t.pageId,t}async function Kr(e){if(!Gr)throw new Error("Unable to get page list - IndexDB not supported");const t=await Gr.pages.toCollection().keys(),a=(await Promise.all(t.map((e=>zr(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>_r(t.title,e))):a}async function Jr({page:e}){if(!Gr)throw new Error("Unable to create page - IndexDB not supported");await Gr.pages.put(e,e.pageId)}async function Zr(e){if(!Gr)throw new Error("Unable to delete page - IndexDB not supported");await Gr.pages.delete(e)}async function qr({pageId:e,page:t}){if(!Gr)throw new Error("Unable to update page - IndexDB not supported");if(void 0===await zr(e))throw new Error("page not found");await Jr({page:t}),e!==t.pageId&&await Zr(e)}$r&&$r.version(.1).stores({[Or]:""});const jr=async e=>{if(!$r)throw new Error("Unable to add removed tab - IndexDB not supported");const t=Date.now().toString(),a={...e,id:t};await $r[Or].put(a,t)};function Qr(e){return"app"===e.type||"website"===e.type}const Yr=async e=>{if("website"===e.type){const t=e,a=t.url||"";let n=await Hr[Ur].get(a);n&&Qr(n)?(n.icon=t.icon,n.title=t.title,n.type=t.type,n.visitCount=(n.visitCount||0)+1,n.url=t.url):n={...t,id:a,visitCount:1,accessTime:void 0},n.accessTime=Date.now(),await Hr[Ur].put(n,a)}},Xr=async()=>{if(!Hr)throw new Error("Unable to get frequently visited sites - IndexDB not supported");const e=Hr[Ur],t=await e.toCollection().toArray();t.sort(((e,t)=>(t.visitCount||0)-(e.visitCount||0)));return(t.length>5?t.slice(0,5):t).map((({id:e,...t})=>t))};const ei=async()=>(await fin.System.getHostSpecs()).name.toLowerCase().includes("windows"),ti=async({browserIdentity:e,url:t,shiftKey:a,activePage:n,pages:o})=>{const r=bn().Browser.wrapSync(e),i=await An(t,t,e),s={...await wa(t,i),attachedPageType:"singleView",singleViewName:t},c=o.findIndex((e=>e.pageId===n.pageId));await r._addPage(s,{index:c+1}),a&&await r.setActivePage(s.pageId)},ai=async e=>{const{url:t}=e.bookmark,{sourceIdentity:a,sourceEvent:n}=e,o=await ei(),r=bn();let i=!1,s=a;if(!await Ce(a)){const t=await async function(){const e=Array.from(vr.values());for(let t=e.length-1;t>=0;t--)if(e[t].isVisible)return e[t].identity}();if(!t)return await(async e=>{const t=bn(),a=await An(e.url,e.url),n=await wa(e.url,a);Pe((await t.Browser.createWindow({workspacePlatform:{pages:[n]}})).identity)})(e.bookmark);i=!0,s=t}const c=r.Browser.wrapSync(s),l=await c.getPages(),d=(await c._getLayoutsWithSelectedViews()).find((e=>e.isActive));if(!d)throw Error(`Browser ${s} does not have any active layouts`);const u=l.find((e=>e.isActive)),p=1===Dn(u.layout.content),w=d.selectedViews[0];i?await ti({browserIdentity:s,url:t,shiftKey:!0,activePage:u,pages:l}):p?await(async({isWindows:e,currentViewId:t,browserIdentity:a,url:n,activePage:o,pages:r,sourceEvent:i})=>{const{ctrlKey:s,metaKey:c,shiftKey:l}=i;(e?s:c)?await ti({browserIdentity:a,url:n,shiftKey:l,activePage:o,pages:r}):await fin.View.wrapSync(t).navigate(n)})({isWindows:o,currentViewId:w,browserIdentity:s,url:t,activePage:u,pages:l,sourceEvent:n}):await(async({isWindows:e,currentViewId:t,browserIdentity:a,url:n,activeLayout:o,sourceEvent:r})=>{const{ctrlKey:i,metaKey:s,shiftKey:c}=r;if(e?i:s){const e=fin.View.wrapSync(t),o=await e.getCurrentStack(),r=(await o.getViews()).findIndex((e=>e.name===t.name)),i={url:n,browserIdentity:a,title:n};await o.addView(i,{index:r+1})}else await fin.View.wrapSync(o.selectedViews[0]).navigate(n)})({isWindows:o,currentViewId:w,browserIdentity:s,url:t,activeLayout:d,sourceEvent:n})};var ni;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(ni||(ni={}));let oi={locked:!1,x:-1,y:-1};const ri=async(e,t,a,n)=>{if(!W)throw new Error("showEnterpriseContextMenu can only be used in a Here env. Avoid calling this method during pre-rendering.");if(!n&&!fin.me.isWindow)throw new Error("showEnterpriseContextMenu can only be used in a Here window.");const{x:o,y:r,template:i}=e;if(((e,t)=>{const{x:a,y:n,locked:o}=oi;return o&&e===a&&t===n})(o,r))return new Promise(((e,t)=>e({data:void 0})));oi={locked:!0,x:o,y:r};const s=await Vr(),c=ia(),l=new Promise(((e,t)=>{s.register(`response-${c}`,(t=>{oi.locked=!1,s.remove(`response-${c}`),e(t)}))}));return await s.dispatch("open",{parentIdentity:n.identity,responseIdentity:ye,requestId:c,type:t,anchorBehavior:a,x:o,y:r,payload:{template:i}}),l},ii={type:ni.Separator,data:void 0},si=async()=>({type:ni.Submenu,label:On("contextMenu.print"),submenu:[{type:ni.Label,label:On("contextMenu.submenu.print"),data:{type:S.Print}},{type:ni.Label,label:On("contextMenu.submenu.printAll"),data:{type:S.PrintAll}},ii,{type:ni.Label,label:On("contextMenu.printScreen"),data:{type:S.PrintScreen}}]}),ci=()=>({type:ni.Label,label:On("contextMenu.closeWindow"),data:{type:m.CloseWindow}}),li=e=>({type:ni.Label,label:On(e?"contextMenu.quitEnterpriseBrowser":"contextMenu.quitPlatform"),data:{type:m.Quit}}),di=()=>({type:ni.Label,label:On("contextMenu.newWindow"),data:{type:m.NewWindow}}),ui=e=>({type:ni.Label,label:On(e?"enterpriseContextMenu.saveSupertab":"contextMenu.savePage"),data:{type:m.SavePage}}),pi=e=>({type:ni.Label,label:On(e?"enterpriseContextMenu.saveSupertabAs":"contextMenu.savePageAs"),data:{type:m.SavePageAs}}),wi=(e,t)=>({type:ni.Label,label:On(t?"enterpriseContextMenu.newTab":"contextMenu.newPage"),data:{type:m.NewPage},enabled:e}),gi=()=>({label:On("contextMenu.switchWorkspace")}),hi=()=>({label:On("contextMenu.deleteWorkspace")}),mi=()=>({label:On("contextMenu.appearance")}),ki=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:ni.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),bi=async()=>{const e=await bn().Theme.getSelectedScheme();return[{label:On("theme.light"),type:ni.Checkbox,checked:e===k.Light,data:{type:m.Appearance,scheme:k.Light}},{label:On("theme.dark"),type:ni.Checkbox,checked:e===k.Dark,data:{type:m.Appearance,scheme:k.Dark}},{label:On("theme.system"),type:ni.Checkbox,checked:e===k.System,data:{type:m.Appearance,scheme:k.System}}]},fi=async(e,t=[])=>{const a=await Ae(),{newPageUrl:n}=await Oo(e),o=await(async e=>{const t=fe(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),r=await(async e=>{const t=fe(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),i=await Ht(e),s=[],c=t.length>0;n&&(s.push(di()),o||s.push(wi(!r,i))),s.push(ii);const l=bn(),d=await l.getCurrentWorkspace({skipSnapshotUpdate:!0}),u=await l.Storage.getWorkspacesMetadata(),p=u.find((e=>e.workspaceId===d.workspaceId));s.push({type:ni.Label,label:On("contextMenu.restore"),data:{type:m.RestoreChanges},enabled:!!p}),s.push({type:ni.Label,label:On("contextMenu.saveWorkspace"),data:{type:m.SaveWorkspace},enabled:!!p}),s.push({type:ni.Label,label:On("contextMenu.saveWorkspaceAs"),data:{type:m.SaveWorkspaceAs}}),s.push({type:ni.Label,label:On("contextMenu.renameWorkspace"),data:{type:m.RenameWorkspace},enabled:!!p}),u.some((e=>e.workspaceId!==d.workspaceId))?s.push({label:gi().label,submenu:ki(d,u,m.SwitchWorkspace),data:void 0},{label:hi().label,submenu:ki(d,u,m.DeleteWorkspace),data:void 0}):s.push({label:gi().label,enabled:!1,data:void 0},{label:hi().label,enabled:!1,data:void 0}),s.push({label:On("contextMenu.downloads"),data:{type:m.Downloads}});const w=await l.Theme.getThemes();return(w&&w[0]&&"palettes"in w[0]||!w[0]||0===w.length)&&s.push({label:mi().label,submenu:await bi(),data:void 0}),s.push(ii,ui(i),pi(i),await(async e=>{const t=await ei();return{label:On("contextMenu.print"),submenu:[{type:ni.Label,label:On("contextMenu.submenu.print"),data:{type:m.Print},enabled:e},{type:ni.Label,label:On("contextMenu.submenu.printAll"),data:{type:m.PrintAll}},...t?[ii,{type:ni.Label,label:On("contextMenu.printScreen"),data:{type:m.PrintScreen}}]:[]],data:void 0}})(c)),a?[...s,ci(),ii,{type:ni.Label,label:On("contextMenu.openStorefront"),data:{type:m.OpenStorefront}},ii,li()]:[...s,ii,ci(),ii,li()]},yi=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Oo(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{url:t,target:e,title:"New Tab"}})(e);await bn().createView(o,e,n.identity)},Si=async(e,t)=>{const a=bn().Browser.wrapSync(e),n=(await a.getPages()).find((e=>e.isActive)),o=await fin.Window.wrapSync(e).getCurrentViews();if(t.length===o.length-(n.panels??[]).length){return void(await Ca(e)).dispatch(Ta.ClosePage,{pageId:n?.pageId})}const r=fin.Platform.getCurrentSync();t.forEach((async t=>{const o=await fin.View.wrapSync(t).getParentLayout();await r.closeView(t);const{hasUnsavedChanges:i}=await(async e=>(await ct(ye)).dispatch(ot.HandlePageChanges,e))({page:{...n,layout:await o.getConfig()},identity:e,eventDetails:{type:h.ViewRemoved,viewIdentity:t}});i&&await a.updatePage({pageId:n.pageId,page:{hasUnsavedChanges:!0}})}))},vi=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Oo(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},Pi=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await bn().createView(n,e,t.identity)})(e,a)}))},Ci=async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await Ca(e)).dispatch(Ta.AddToChannel,n)},Mi=async(e,t)=>{(await Ca(e)).dispatch(Ta.RemoveFromChannel,t)},xi=async(e,t)=>{if(!e)return;const a=t.identity,n=fin.Window.wrapSync(a);switch(Xt({type:"View Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e.type){case S.Back:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateBack()));await Promise.all(t)})(t.selectedViews);break;case S.Forward:await(async e=>{const t=e.map((e=>fin.View.wrapSync(e).navigateForward()));await Promise.all(t)})(t.selectedViews);break;case S.Print:await wr(t.selectedViews);break;case S.PrintAll:await n.print({content:"views",includeSelf:!1});break;case S.PrintScreen:await n.print({content:"screenshot"});break;case S.CloseViews:await Si(a,t.selectedViews);break;case S.OpenWithDefaultBrowser:await vi(a,t.selectedViews);break;case S.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case S.NewView:await yi(a,t);break;case S.DuplicateViews:Pi(a,t.selectedViews);break;case S.AddToChannel:Ci(a,e.option,t.selectedViews);break;case S.RemoveFromChannel:Mi(a,t.selectedViews);break;case S.Custom:if(e.action){const n={callerType:M.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,n)}}},Ii=(__webpack_require__(/*! title-case */ "../../node_modules/title-case/dist.es2015/index.js"),new Map([["blue",{name:"Blue",color:"#0091EB"}],["indigo",{name:"Indigo",color:"#6450FF"}],["pink",{name:"Pink",color:"#E878CF"}],["teal",{name:"Teal",color:"#24D1D1"}],["green",{name:"Green",color:"#00AF78"}],["orange",{name:"Orange",color:"#FF7D37"}],["red",{name:"Red",color:"#F94144"}],["yellow",{name:"Yellow",color:"#F9C74F"}],["gray",{name:"Gray",color:"#828788"}]]));function Ai(){return{type:ni.Label,label:On("contextMenu.manageDesktopSignals"),data:{type:b.ManageDesktopSignals}}}function Wi(e){const t=Array.from(Ii.entries()),a=e.contextGroup;return{type:"widget",config:{type:"add-to-channel",channels:[...t.map((([e,t])=>({label:t.name,data:{type:b.AddToChannel,option:e},color:t.color,checked:a===e}))),{label:"unlink",data:{type:b.AddToChannel,option:"unlink"},isNone:!0}]},label:"Link to Channel"}}let Di="Platform";const Ti=async()=>Di;const Bi=async(e,t)=>{if(!e)return;const a=t.identity,n=await Ca(a),o=bn().Browser.wrapSync(a),r=fin.Window.wrapSync(a);if(Xt({type:"Global Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0,data:{action:e.action?.id}}),await Ht(a)){const a=await(async(e,t)=>{const a=t.identity,n=bn().Browser.wrapSync(a),o=(await n.getPages()).find((e=>e.isActive)),r=ha({...a,layoutName:o.layoutContainerKey}),i=t.selectedViews;switch(e?.type){case f.Lock:await n.updatePage({pageId:o.pageId,page:{isLocked:!o.isLocked}});break;case f.AddToChanel:e.option?await Ci(a,e.option,i):null===e.option&&await Mi(a,i);break;case f.ManageDesktopSignals:await Xa(a);break;case m.NewWindow:{const e=await Go(a);await bn().Browser.createWindow({workspacePlatform:{pages:[e],windowType:"enterprise"}});break}case f.Pin:{const{alwaysOnTop:e}=await n.openfinWindow.getOptions();await n.openfinWindow.updateOptions({alwaysOnTop:!e});break}case f.ShowHideTabs:await r.isShowingTabs()?await r.hide():await r.show();break;default:return!1}return!0})(e,t);if(a)return}switch(e.type){case m.NewWindow:{const{newPageUrl:e}=await Oo(a);if(!e)throw new Error("Trying to create a new empty window without a newPageUrl set");bn().createView({target:void 0,url:e});break}case m.NewPage:await cr(a);break;case m.CloseWindow:n.dispatch(Ta.CloseBrowserWindow);break;case m.SaveWorkspace:await ir(a);break;case m.SavePage:await lr(a);break;case m.SavePageAs:await dr(a);break;case m.SaveWorkspaceAs:await sr(a);break;case m.RenameWorkspace:o._openSaveModal({menuType:I.RENAME_WORKSPACE});break;case m.SwitchWorkspace:await(async(e,t)=>{const a=bn(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));a.applyWorkspace(n,{skipPrompt:!1,promptContainerWindowIdentity:e})})(a,e);break;case m.DeleteWorkspace:await(async(e,t)=>{const a=bn(),n=(await a.Storage.getWorkspacesMetadata()).find((e=>e.workspaceId===t.workspaceId));n&&await $o(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),Uo(On("successIndicator.workspaceDeleted"),e))})(a,e);break;case m.Downloads:await pr(a);break;case m.Appearance:await bn().Theme.setSelectedScheme(e.scheme);break;case m.Quit:{const e=Ti();await zo(a,await e)&&fin.Platform.getCurrentSync().quit()}break;case m.OpenStorefront:(async()=>{await Ae()&&Pe(ve)})();break;case m.RestoreChanges:await Qo();break;case m.Print:await wr(t.selectedViews);break;case m.PrintAll:await r.print({content:"views",includeSelf:!1});break;case m.PrintScreen:await r.print({content:"screenshot"});break;case m.Custom:if(e.action){const t={callerType:M.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,t)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}},Ri=async(e,t,a)=>{const n=bn().Browser.wrapSync(t.identity),o=fin.Window.wrapSync(t.identity),r=await Ca(t.identity),i=await Ht();switch(e&&Xt({type:"Page Tab Menu",action:"Select Menu Item",value:e.type,skipValueHashing:!0}),e?.type){case b.Save:await lr(t.identity,t.pageId);break;case b.SaveAs:await dr(t.identity,t.pageId);break;case b.NewPage:await cr(t.identity);break;case b.DeletePage:await(async(e,t)=>{const a=bn(),n=a.Browser.wrapSync(e),o=(await a.Storage.getPages()).find((e=>e.pageId===t));o&&await Jo(e,o.title)&&(await a.Storage.deletePage(o.pageId),await n.removePage(t),Uo(On("enterpriseSuccessIndicator.supertabDeleted"),e,On("enterpriseSuccessIndicator.supertabHasBeenDeleted",{title:o.title})))})(t.identity,t.pageId);break;case b.Rename:if(await Ht(t.identity)){await n.setActivePage(t.pageId);const e=await Vr();await e.dispatch("open",{parentIdentity:t.identity,responseIdentity:ye,type:Lr.RenameSupertab,anchorBehavior:Fi.Center,x:a.left+a.width/2-164,y:a.bottom-8,payload:{pageId:t.pageId}})}else await n._openSaveModal({menuType:I.RENAME_PAGE,id:t.pageId});break;case b.Duplicate:r.dispatch(Ta.DuplicatePage,t.pageId);break;case b.Close:i?await(async(e,t)=>{const a=bn().Browser.wrapSync(e),n=await a.getPages();for(const o of n)if(o.pageId===t){await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o});break}})(t.identity,t.pageId):r.dispatch(Ta.ClosePage,{pageId:t.pageId});break;case b.Custom:if(e.action){const a={callerType:M.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`);break;case b.Refresh:await(async(e,t)=>{const a=bn(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>t?e.pageId===t:e.isActive));o?.layout?.content&&In(o.layout.content).forEach((async e=>{(await fin.View.wrap({uuid:a.identity.uuid,name:e.name})).reload()}))})(t.identity,t.pageId);break;case b.CloseOthers:await(async(e,t)=>{const a=bn().Browser.wrapSync(e),n=await a.getPages();for(const o of n)o.pageId!==t&&(await a.removePage(o.pageId),await a._trackRemovedTab({identity:e,page:o}))})(t.identity,t.pageId);break;case b.SaveWorkspaceAs:await sr(t.identity);break;case b.Print:{const e=await n._getLayoutsWithSelectedViews(),{selectedViews:a}=e.find((e=>e.pageId===t.pageId));await wr(a);break}case b.PrintAll:await n.setActivePage(t.pageId),await o.print({content:"views",includeSelf:!1});break;case b.PrintScreen:await n.setActivePage(t.pageId),await o.print({content:"screenshot"});break;case b.AddToChannel:await n.updatePage({pageId:t.pageId,page:{contextGroup:"unlink"===e.option?null:e.option}});break;case b.ManageDesktopSignals:await Xa(t.identity)}},Ei=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case P.SavePage:await lr(a);break;case P.SaveWorkspace:await ir(a);break;case P.SavePageAs:await dr(a);break;case P.SaveWorkspaceAs:await sr(a);break;case P.Custom:if(e.action){const a={callerType:M.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};bn()._invokeCustomAction(e.action.id,a)}else console.warn(`Encountered a Custom context menu option with an "action" property with value "${e.action}"`)}}};var Fi;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(Fi||(Fi={}));const Vi=async(e,t,a,n)=>{const{x:o,y:r,identity:i,template:s,callback:c}=e,l=await Ht(i),{data:d}=l?await ri({x:o,y:r,template:s},a,n,fin.Window.wrapSync(i)):await function(e,t){if(!W)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:o,y:r,template:s},fin.Window.wrapSync(i));c(d,e)};async function Ni(e,t){const a=ba(),n=await Ht(e.identity);n&&ya(a);const o=n?await(async({identity:e,selectedViews:t})=>{const a=bn(),n=a.Browser.wrapSync(e),o=(await n.getPages()).find((e=>e.isActive)),r=await a.Storage.getPage(o.pageId),i=Dn(o.layout.content)>1,s=await Ht(e),c=await a.Theme.getThemes(),l=c[0]&&"palettes"in c[0]||!c[0]||0===c.length,d={...ui(s),enabled:!!r},u={...pi(s),enabled:i};return[di(),wi(!0,s),{type:ni.Separator},d,u,{type:ni.Separator},{type:ni.Label,label:On("contextMenu.manageDesktopSignals"),data:{type:m.ManageDesktopSignals}},{type:ni.Separator},...l?[{type:ni.Submenu,label:mi().label,submenu:await bi()}]:[],{type:ni.Separator},ci(),{type:ni.Separator},li(!0)]})({identity:e.identity,selectedViews:e.selectedViews}):await fi(e.identity,e.selectedViews),r=await Ti();n||(o.find((e=>e.data?.type===m.Quit)).label=`Quit ${r}`);const{rect:i,...s}=e,{x:c,y:l}=n?{x:i.left+i.width,y:i.bottom}:e,d={...s,x:c,y:l,template:o,callback:Bi};fa(a),await this.openGlobalContextMenu(d,t)}async function Li(e,t){const a={...e,callback:xi};await this.openViewTabContextMenu(a,t)}async function _i(e,t){const a=ba(),n=await Ht(e.identity);n&&ya(a);const o=await(async(e,t,a)=>{const n=await bn().Storage.getPage(e),o=(await to()).find((t=>t.pageId===e)),r=Dn(o.layout.content)>1,{workspacePlatform:i}=await fe(t).getOptions(),s=!(i.isLocked||i.preventPageClose||o.closeButton?.disabled||o.closeButton?.hidden),c=[{type:ni.Label,label:On("enterpriseContextMenu.newTab"),data:{type:b.NewPage}},ii,Wi(o),Ai(),ii,{type:ni.Label,label:On("reload"),data:{type:b.Refresh}},{type:ni.Label,label:On("enterpriseContextMenu.duplicate"),data:{type:b.Duplicate},enabled:!i.isLocked},await si(),ii,{type:ni.Label,label:On(r?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:b.Close},enabled:s}],l=[{type:ni.Label,label:On("enterpriseContextMenu.newTab"),data:{type:b.NewPage}},ii,Wi(o),Ai(),ii,{type:ni.Label,label:On("enterpriseSaveModal.renameSupertab"),data:{type:b.Rename},enabled:!i.isLocked&&!!n&&r},{type:ni.Label,label:On("enterpriseContextMenu.duplicate"),data:{type:b.Duplicate},enabled:!i.isLocked},ii,{type:ni.Label,label:On("enterpriseContextMenu.saveSupertab"),data:{type:b.Save},enabled:r&&!!n},{type:ni.Label,label:On("enterpriseContextMenu.saveSupertabAs"),data:{type:b.SaveAs},enabled:r},ii,{type:ni.Label,label:On("enterpriseContextMenu.deleteSupertab"),data:{type:b.DeletePage},enabled:!!n},ii,{type:ni.Label,label:On(r?"enterpriseSaveModal.closeSupertab":"enterpriseSaveModal.closeTab"),data:{type:b.Close},enabled:s}],d=[{type:ni.Label,label:On("contextMenu.savePage"),data:{type:b.Save},enabled:!0},{type:ni.Label,label:On("saveMenu.savePageAs"),data:{type:b.SaveAs},enabled:!0},{type:ni.Label,label:"Save Workspace As",data:{type:b.SaveWorkspaceAs}},{type:ni.Label,label:"Refresh",data:{type:b.Refresh}},ii,{type:ni.Label,label:On("saveModal.renamePage"),data:{type:b.Rename},enabled:!!n},{type:ni.Label,label:On("contextMenu.duplicatePage"),data:{type:b.Duplicate},enabled:!i.isLocked},ii,{type:ni.Label,label:On("saveModal.closePage"),data:{type:b.Close},enabled:s}];return a?r?l:c:d})(e.pageId,e.identity,n),r={...e,template:o,callback:(t,a)=>{Ri(t,a,e.rect)}};fa(a),await this.openPageTabContextMenu(r,t)}async function Ui(e,t){const a={...e,template:await(async()=>{const e=bn(),t=await e.getCurrentWorkspace({skipSnapshotUpdate:!0}),a=(await e.Storage.getWorkspacesMetadata()).find((e=>e.workspaceId===t.workspaceId));return[{type:ni.Label,label:On("contextMenu.saveWorkspace"),enabled:!!a,data:{type:P.SaveWorkspace}},{type:ni.Label,label:On("saveMenu.saveWorkspaceAs"),data:{type:P.SaveWorkspaceAs}},{type:ni.Separator,data:void 0},{type:ni.Label,label:On("contextMenu.savePage"),data:{type:P.SavePage}},{type:ni.Label,label:On("saveMenu.savePageAs"),data:{type:P.SavePageAs}}]})(),callback:Ei};await this.openSaveButtonContextMenu(a,t)}const Oi="dock-companion-updates",Gi=async()=>(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===me.DockCompanion)),Hi=Xe(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`),$i=async()=>{const e=bn(),t=await async function(){const e=await xr();await Promise.all(e.map((async e=>{await Ar(e.identity)})));const t=Array.from(vr.values()).sort(((e,t)=>t.lastFocusedTime-e.lastFocusedTime)),a=t.find((e=>e.isVisible));if(a){const e=fin.Window.wrapSync(a.identity);return await e.focus(),a.identity}const n=t[0];if(n){const e=fin.Window.wrapSync(n.identity);return await e.restore(),await e.focus(),n.identity}return Ir()}(),a=e.Browser.wrapSync(t),n=(await a.getPages()).at(-1),o=In(n.layout.content);if(1===o.length&&Kt(o[0].url))await a.setActivePage(n.pageId);else{const e=await Go(t),{newPageUrl:n}=await Oo();await a._addDefaultPage({identity:a.identity,page:e,newPageUrl:n||void 0})}(await Ca(t)).dispatch(Ta.FocusAndExpandSearchInternal)},zi="dock-provider-configs",Ki=T&&W&&new vt.Dexie(Dt("dock-provider-configs"));async function Ji(e){if(!Ki)throw new Error("Unable to get Dock provider config - IndexedDB not supported");try{return await Ki[zi].get(e)}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDb",e)}}async function Zi(e){if(!Ki)throw new Error("Unable to save Dock provider config - IndexedDb not supported");await Ki[zi].put(e,e.id)}Ki&&Ki.version(.1).stores({[zi]:""});const qi="workspaces",ji=T&&W&&Bt("openfin-workspace-platform-workspaces",qi);async function Qi(e){if(!ji)throw new Error("Unable to get workspace - IndexDB not supported");const t=await ji[qi].get(e);return t&&(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId),t}async function Yi(e){if(!ji)throw new Error("Unable to get workspaces - IndexDB not supported");const t=await ji[qi].toCollection().keys(),a=(await Promise.all(t.map((e=>Qi(e.toString()))))).filter((e=>!!e));return e?a.filter((t=>_r(t.title,e))):a}async function Xi({workspace:e}){if(!ji)throw new Error("Unable to create workspace - IndexDB not supported");const t=(await Yi()).find((t=>t.title===e.title));if(t&&t.workspaceId!==e.workspaceId)throw new Error(`Workspace with title '${e.title}' already exists.`);await ji[qi].put(e,e.workspaceId)}async function es(e){if(!ji)throw new Error("Unable to delete workspace - IndexDB not supported");await ji[qi].delete(e)}async function ts({workspaceId:e,workspace:t}){if(!ji)throw new Error("Unable to update workspace - IndexDB not supported");if(!await Qi(e))throw new Error("workspace not found");await Xi({workspace:t}),e!==t.workspaceId&&await es(e)}const as=e=>{const t=e.layout,a=t.content?In(t.content):[],n=a.length;return n>1?{...e,singleViewName:null}:1===n?{...e,singleViewName:a[0].name}:void 0},ns=async(e,t,a)=>{const n=await bn().Browser.getAllAttachedPages(),o=new Set(n.map((e=>e.title)).filter((e=>!!e))),r=new Set(n.map((e=>e.pageId)).filter((e=>!!e))),i=t?.defaultPageOptions,s="enterprise"===a?.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType,c=await(async(e,t,a)=>{if(a)return oe();const n=t?.workspacePlatform?.newTabUrl;if(n)return n;const o=e?.defaultWindowOptions?.workspacePlatform?.newTabUrl;return o||void 0})(t,a,s);return Promise.all(e.map((async e=>{if("reparent"===e.multiInstanceViewBehavior)return{...e,layoutContainerKey:ia()};((e,t)=>{e.pageId||=ia(),t.has(e.pageId)&&(console.warn("PageID collision detected. All Page IDs should be unique. A random new pageId will be generated"),e.pageId=ia()),t.add(e.pageId)})(e,r),s||(e.title=eo(e.title,Array.from(o.keys()))),o.add(e.title),e.panels?.reduce(((e,t)=>{const a=Object.values(g);if(!a.includes(t.position))throw new Error(`Encountered a panel with unsupported position "${t.position}". Supported positions are: ${a.toString()}`);if(1==e[t.position])throw new Error(`Found more than 1 panel at position: ${t.position}. Only 1 panel at a given position is currently supported.`);return{...e,[t.position]:e[t.position]+1}}),{[g.Left]:0,[g.Right]:0,[g.Top]:0,[g.Bottom]:0});const a="panels"in e?e.panels:i?.panels;let n=(l=e.layout,d=t?.defaultViewOptions,vn({...l},(e=>Pn(e,d))));var l,d;c&&!n?.settings?.newTabButton&&(n={...n,settings:{...n?.settings,newTabButton:{url:c}}});return{...i,...e,panels:a&&await Zn(a),layoutContainerKey:ia(),layout:n,isLayoutCreated:!1}})))},os=async(e,t)=>{try{await fin.Platform.getCurrentSync().createView({name:e,url:t,target:fin.me.identity,bounds:{top:0,left:0,width:0,height:0}},fin.me.identity)}catch(e){}},rs=e=>{const t=e.name===me.Home,a=e.name?.startsWith(me.HomeInternal),n=e.name?.startsWith(me.BrowserMenu)||e.name?.startsWith(me.BrowserSaveMenu);return!t&&!a&&!n};const is=e=>JSON.parse(JSON.stringify(e));async function ss(e){return e?"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==":(await Y()).displayViewTabDefaultIcon?"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==":"data:image/svg+xml,%3Csvg%20style%3D%22background-color%3A%237D808A%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%2010%2010%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M4.64648%200.874962C4.84174%200.6797%205.15833%200.6797%205.35359%200.874962L9.12482%204.6462C9.32009%204.84146%209.32009%205.15804%209.12482%205.3533L5.35359%209.12454C5.15833%209.3198%204.84174%209.3198%204.64648%209.12454L0.875245%205.3533C0.679982%205.15804%200.679982%204.84146%200.875245%204.6462L4.64648%200.874962ZM5.00003%201.93562L1.9359%204.99975L5.00003%208.06388L8.06416%204.99975L5.00003%201.93562Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E"}const cs={dimensions:{borderWidth:3,headerHeight:30}};async function ls(e,t,a){let n=e;const o="enterprise"===n.workspacePlatform?.windowType||"enterprise"===t?.defaultWindowOptions?.workspacePlatform?.windowType;if(n.layout&&!n.workspacePlatform?.pages?.length){const e=await bo(),a={...await wa(e,n.layout),isActive:!0};n.workspacePlatform||={},n.workspacePlatform.pages=await ns([a],t,n)}t?.browserIconSize&&(n.workspacePlatform||={},n.workspacePlatform.browserIconSize=t.browserIconSize);const r=a?.themes?.[0];if(n.workspacePlatform?.pages?.length){const e=await ns(n.workspacePlatform.pages,t,n),i=e,s=(e=>{if(!e)return;let t=e.find((e=>e.isActive));return!t&&e.length>0&&(e[0].isActive=!0,t=e[0]),t})(i);if(i.forEach((e=>{e.pageId!==s?.pageId&&(e.isActive=!1)})),await qn(i),n.workspacePlatform.pages=e,n=na({},await(async e=>({contextMenuOptions:{enabled:!1},experimental:{showFavicons:!0,defaultFaviconUrl:await ss(e)},viewVisibility:{showViewsOnSplitterDrag:{enabled:!0},showViewsOnWindowResize:{enabled:!0}}}))(o),t?.defaultWindowOptions,n,await(async e=>({backgroundThrottling:!0,url:await re(e,!0),contextMenu:!0,closeOnLastViewRemoved:!1,permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}}))(o)),s.layout=na(s.layout,cs),async function(e){if(e.icon||e.taskbarIcon){const t=fin.Application.getCurrentSync(),a=await(await t.getWindow()).getOptions();e.taskbarIconGroup||=a.taskbarIconGroup||fin.me.identity.uuid}if(e.workspacePlatform.icon)if("object"==typeof e.workspacePlatform.icon){const t=window.matchMedia("(prefers-color-scheme: dark)");e.icon=t.matches?e.workspacePlatform.icon.dark:e.workspacePlatform.icon.light}else e.icon=e.workspacePlatform.icon}(n),!n.backgroundColor&&r)if("palette"in r)n.backgroundColor=r?.palette?.background2||r?.palette?.backgroundPrimary;else{const e=a.selectedScheme===k.Dark||a.selectedScheme===k.System&&window.matchMedia("(prefers-color-scheme: dark)")?r?.palettes.dark:r?.palettes.light;n.backgroundColor=e?.background2||e?.backgroundPrimary}n=Te(n,!0);const c=await re(o,!0);if(c&&(n.url=c),n.layout=s.layout,n.layoutSnapshot=((e,t)=>({layouts:e.reduce(((e,a)=>{if(!a.isActive){if(!t)return e;if(!as(a).singleViewName)return e}return e[a.layoutContainerKey]=a.layout,e}),{}),pages:e}))(n.workspacePlatform.pages,o),n.workspacePlatform.windowType=n.workspacePlatform.windowType??C.Browser,o){const e=await oe();n.workspacePlatform.newPageUrl=e,n.workspacePlatform.newTabUrl=e,n.layout&&(n.layout.dimensions.borderWidth=4,n.layout.dimensions.headerHeight=28),n.name=n.name||`${me.BrowserWindow}-${ia()}`,(async e=>{const t=await ne(),a=me.BrowserAddressSearchPrefix+e.name,n=t+K.BrowserPopupMenuAddressSearchResultsView,o=[],r=os(a,n);o.push(r);const i=me.AICompanionPrefix+e.name,{url:s,enabled:c}=Jn();if(c){const e=os(i,s);o.push(e)}await Promise.all(o)})(n);const{enabled:t}=Jn();n.workspacePlatform.isAiEnabled=t,n.minWidth=Math.max(654,n.minWidth??0),n.minHeight=Math.max(488,n.minHeight??0)}else n.minWidth=Math.max(232,n.minWidth??0),function(e){const t=e.workspacePlatform?.viewTabDimensions,a=e.workspacePlatform?.pageTabDimensions,n=/^[0-9]+(px|%)$/;if(t){if(t.minWidth&&!n.test(t.minWidth))throw new Error(`Provided viewTabDimensions.min value "${t.minWidth}" is not in a supported format.`);if(t.maxWidth&&!n.test(t.maxWidth))throw new Error(`Provided viewTabDimensions.max value "${t.maxWidth}" is not in a supported format.`)}if(a){if(a.minWidth&&!n.test(a.minWidth))throw new Error(`Provided pageTabDimensions.min value "${a.minWidth}" is not in a supported format.`);if(a.maxWidth&&!n.test(a.maxWidth))throw new Error(`Provided pageTabDimensions.max value "${a.maxWidth}" is not in a supported format.`)}}(n)}return n.cornerRounding&&delete n.cornerRounding,n.name||n.layoutSnapshot?n.contextMenuOptions?.template?.length>0?n.contextMenuOptions.template=n.contextMenuOptions.template.filter((e=>"print"!==e)):n.contextMenuOptions={template:[],enabled:!1}:n.name=`${me.ClassicWindow}-${ia()}`,n.workspacePlatform&&a&&(n.workspacePlatform._themeData=a),n}const ds=async(e,t)=>{const a={uuid:t.uuid,name:t.name};await zo(a,e.title??await Ti(),e.shouldCenterOnMonitor)&&fin.Platform.getCurrentSync().quit()},us=async(e,t)=>{const a=bn(),n=await a.Browser.getLastFocusedWindow();if(!n)return;const o=a.Browser.wrapSync(n),{title:r,description:i}=e,s=await Zo({title:r,description:i,identity:o.identity});s&&o._sendUpdateVersionModalResponse({identity:t,response:s})};async function ps(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const ws=e=>{const t=is(e);return t._internalWorkspaceData?.browserNavigationButtons&&(t.workspacePlatform={...t.workspacePlatform,browserNavigationButtons:t._internalWorkspaceData.browserNavigationButtons},delete t._internalWorkspaceData.browserNavigationButtons),t},gs=e=>{const t=is(e);return t.workspacePlatform&&(t._internalWorkspaceData={...t._internalWorkspaceData,...t.workspacePlatform},delete t.workspacePlatform),t},hs={reload:[{keys:"Ctrl+R",preventDefault:!0}],back:[{keys:"Alt+Left",preventDefault:!0}],forward:[{keys:"Alt+Right",preventDefault:!0}]},ms={reload:[{keys:"Cmd+R",preventDefault:!0}],back:[{keys:"Cmd+[",preventDefault:!0},{keys:"Cmd+Left",preventDefault:!0}],forward:[{keys:"Cmd+]",preventDefault:!0},{keys:"Cmd+Right",preventDefault:!0}]},ks=async()=>await ei()?hs:ms,bs=(e,t)=>{const a=fin.View.wrapSync(e);if(!t)return;const n=e=>{(async(e,t,a)=>{if("keyDown"!==a.inputType)return;const n=await(async e=>{const t=await e.getCurrentWindow(),a=await t.getOptions(),n=a.workspacePlatform?.navigationButtons;return n.enabled&&!n.hotkeysDisabled})(e),o=await ei();if(n){if(t.reload){const n=a.ctrlKey&&!a.altKey&&!a.metaKey&&!a.shiftKey&&"r"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"r"===a.key;(o?n:r)&&t?.reload&&(e.reload(),Xt({type:"View",action:"Reload",value:e.identity.name}))}if(t.back){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowLeft"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"["===a.key;(o?n:r||i)&&t?.back&&(e.navigateBack(),Xt({type:"View",action:"Back",value:e.identity.name}))}if(t.forward){const n=!a.ctrlKey&&a.altKey&&!a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,r=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"ArrowRight"===a.key,i=!a.ctrlKey&&!a.altKey&&a.metaKey&&!a.shiftKey&&"]"===a.key;(o?n:r||i)&&t?.forward&&(e.navigateForward(),Xt({type:"View",action:"Forward",value:e.identity.name}))}}})(a,t,e)};a.addListener("hotkey",n),a.once("destroyed",(()=>{a.removeListener("hotkey",n)}))},fs=(e,t)=>is(e).map((e=>("componentState"in e?e.componentState=t(e.componentState):"content"in e&&(e.content=fs(e.content,t)),e))),ys=e=>{if(e){const t=is(e);return t.content&&(t.content=fs(t.content,ws)),t}return e},Ss=e=>{if(e){const t=is(e);return t.content&&(t.content=fs(t.content,gs)),t}return e};async function vs({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case l.Snapshot:return a.applySnapshot(e.manifest);case l.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case l.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}let Ps;const Cs=()=>{if(!Ps){const e=Xe(`${"undefined"!=typeof fin&&fin.me.identity.uuid}-enterprise-app-directory`);Ps=e()}return Ps};async function Ms(e){if(!await Ht(e.identity))return[];return(await Cs()).dispatch(Ia.GetApps,e.req)}async function xs(e){if(!await Ht(e.identity))return[];return(await Cs()).dispatch(Ia.GetSearchProviders,e)}async function Is(e){return(await Cs()).dispatch(Ia.GetCuratedContent,e)}async function As(e){return(await Cs()).dispatch(Ia.GetRecentlyVisited,e)}async function Ws(e){const t=(await Me()).map((async e=>{const t=await e.getOptions();t.workspacePlatform?.pages&&t.layout&&await(async e=>(await Ca(e)).dispatch(Ta.UpdatePagesWindowOptions))(e.identity)}));return await Promise.all(t),e?e():ua()}let Ds=[];const Ts=()=>Ds;async function Bs(e){const t=e=>{if(!e.includes("#")&&!e.includes("rgb")&&!e.includes("hsl"))throw new Error("Background primary color is not the right format.")};e?.forEach((e=>{"palette"in e&&t(e.palette.backgroundPrimary),"palettes"in e&&(t(e.palettes.dark.backgroundPrimary),t(e.palettes.light.backgroundPrimary))}));const a=((e,t)=>{if(!e||!e[0]){const{dark:e,light:a}=wt[0].palettes;return cn.setPalettes({dark:e,light:a},t),wt}{const a=e[0];if("palette"in a){const{palette:n}=a,o={...pt,...n};return cn.setPalettes({dark:o,light:o},t),a.palette=o,e}if("palettes"in a){const{dark:n,light:o}=a.palettes,r={...pt,...n},i={...ut,...o};return cn.setPalettes({dark:r,light:i},t),a.palettes={dark:r,light:i},e}}})(e,await ei());Ds=a}const Rs=(e,t)=>a=>{const n=null!==e;return class extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e,analytics:{isSupported:!0}}),this.detachPagesFromWindow=po,this.getAllAttachedPages=to,this.getPagesForWindow=go,this.getPageForWindow=ho,this.markUnsavedPagesAsSavedInternal=Mo,this.launchApp=vs,this.savePage=co,this.saveWorkspace=ar,this.createSavedPageInternal=ro,this.updateSavedPageInternal=so,this.deleteSavedPageInternal=io,this.reorderPagesForWindow=mo,this.getUniquePageTitle=bo,this.updatePageForWindow=uo,this.getLastFocusedBrowserWindow=Mr,this.getThemes=Ts,this.invokeCustomActionInternal=Br,this.requestQuitPlatformDialogInternal=ds,this.getCurrentWorkspace=er,this.setActiveWorkspace=Yo,this.getLanguageResourcesInternal=fr,this.getPageByViewIdentity=async e=>{const t=await fin.Platform.Layout.getLayoutByViewIdentity(e),a=t.identity;if(!("layoutName"in a))throw new Error("Failed to get layout's identity");const n=await bn().Browser.wrapSync(t.identity).getPages(),o=n.findIndex((e=>e.layoutName===a.layoutName));if(-1===o)throw new Error("Failed to get page's index");return{windowIdentity:{name:t.identity.name,uuid:t.identity.uuid},page:n[o],pageIndex:o}},this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspacesMetadata=this.getSavedWorkspacesMetadata.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.getDockProviderConfig=this.getDockProviderConfig.bind(this),this.saveDockProviderConfig=this.saveDockProviderConfig.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.restoreLastSavedWorkspaceInternal=this.restoreLastSavedWorkspaceInternal.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this),this.getSelectedScheme=this.getSelectedScheme.bind(this),this.setSelectedScheme=this.setSelectedScheme.bind(this),this.analyticsInternal=this.analyticsInternal.bind(this),this.handleAnalytics=this.handleAnalytics.bind(this),this.getLanguage=this.getLanguage.bind(this),this.setLanguage=this.setLanguage.bind(this),this.handleSaveModalOnPageClose=this.handleSaveModalOnPageClose.bind(this),this.shouldPageClose=this.shouldPageClose.bind(this),this.shouldWindowClose=this.shouldWindowClose.bind(this),this.handlePagesAndWindowClose=this.handlePagesAndWindowClose.bind(this),this.setActivePage=this.setActivePage.bind(this),this.handlePageChanges=this.handlePageChanges.bind(this),this.copyPage=this.copyPage.bind(this),this.addPage=this.addPage.bind(this),this.addDefaultPage=this.addDefaultPage.bind(this),this.markUnsavedPagesAsSavedInternal=this.markUnsavedPagesAsSavedInternal.bind(this),this.trackRemovedTabInternal=this.trackRemovedTabInternal.bind(this),this.restoreRemovedTabInternal=this.restoreRemovedTabInternal.bind(this),this.trackVisitedSiteInternal=this.trackVisitedSiteInternal.bind(this),this.getRecentlyVisitedSitesInternal=this.getRecentlyVisitedSitesInternal.bind(this),this.getFrequentlyVisitedSitesInternal=this.getFrequentlyVisitedSitesInternal.bind(this),this.searchSitesInternal=this.searchSitesInternal.bind(this),this.getSearchProvidersInternal=this.getSearchProvidersInternal.bind(this),this.getCuratedContentInternal=this.getCuratedContentInternal.bind(this),this.handleRequestNavigationInternal=this.handleRequestNavigationInternal.bind(this),this.refreshBookmarksInternal=this.refreshBookmarksInternal.bind(this),this.launchBookmarkInternal=this.launchBookmarkInternal.bind(this),this.getNotificationsConfig=this.getNotificationsConfig.bind(this),this.updateDockFavoritesInternal=this.updateDockFavoritesInternal.bind(this),this.updateContentMenuInternal=this.updateContentMenuInternal.bind(this),this.launchDockEntryInternal=this.launchDockEntryInternal.bind(this),this.setDockFavoritesOrderInternal=this.setDockFavoritesOrderInternal.bind(this),this.navigateContentMenuInternal=this.navigateContentMenuInternal.bind(this),this.setDefaultDockButtonsOrderInternal=this.setDefaultDockButtonsOrderInternal.bind(this),this.getDockWorkspacesContextMenuInternal=this.getDockWorkspacesContextMenuInternal.bind(this),this.handleDockWorkspacesMenuResponseInternal=this.handleDockWorkspacesMenuResponseInternal.bind(this),this.removeDockFavoriteInternal=this.removeDockFavoriteInternal.bind(this),this.addDockFavoriteInternal=this.addDockFavoriteInternal.bind(this),this.focusAndExpandSearchInternal=this.focusAndExpandSearchInternal.bind(this),this.sendUpdateVersionModalResponseInternal=this.sendUpdateVersionModalResponseInternal.bind(this),this.requestQuitPlatformDialogInternal=ds.bind(this),this.showUpdateVersionModalInternal=us.bind(this)}async applyWorkspace(...e){return jo.apply(this,e)}async restoreLastSavedWorkspaceInternal(...e){return Qo.apply(this,e)}async getSnapshot(){const e=n?await Ws((async()=>ua(await super.getSnapshot(void 0,fin.me.identity)))):await ua(await super.getSnapshot(void 0,fin.me.identity));let t={...e,windows:e.windows.filter(rs).map(da)};return t=(e=>{const t=is(e);return t.windows.forEach((e=>{e.layout&&(e.layout=ys(e.layout)),e.workspacePlatform?.pages?.forEach((e=>{e?.layout&&(e.layout=ys(e.layout))}))})),t})(t),t}async getViewSnapshot(e){let t=await super.getViewSnapshot(e);return t=ws(t),t}async applySnapshot({snapshot:e,options:t}){let a=e;"string"==typeof a&&(a=await super.fetchManifest({manifestUrl:a},fin.me.identity));const o=function(e){for(const t of e.windows)if(t.workspacePlatform?.pages?.length)return!0;return!1}(a);if(!n&&o)throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return a=(e=>{const t=is(e);return t.windows.forEach((e=>{e.layout=Ss(e.layout),e.workspacePlatform?.pages?.forEach((e=>{e.layout=Ss(e.layout)}))})),t})(a),super.applySnapshot({snapshot:a,options:t})}async createWindow(t,a){if(n&&"tearout"===t.reason){const e=await fin.Window.wrapSync(a).getOptions(),n=e.workspacePlatform?.windowType;t.taskbarIconGroup=e.taskbarIconGroup,n&&(t.workspacePlatform||={},t.workspacePlatform.windowType=e.workspacePlatform.windowType,n===C.Platform&&(t.url=e.url))}if(!n||t.workspacePlatform?.windowType===C.Platform){const e=await super.createWindow(t,a);return Xt({type:"Window",action:"Open Window",value:e.identity.name,data:{uuid:e.identity.uuid}}),e}var o;o={allowed:!0},qt||(qt=!0,Zt(Jt.Browser,o)),((e=[])=>{const t=e.filter((e=>e.type!==v.Custom)),a=new Set,n=[];for(const e of t)a.has(e.type)&&n.push(e.type),a.add(e.type);if(n.length>0){const e=n.join(", ");throw new Error(`Encountered a duplicate "${e}" toolbar button. No more than one instance of a button type may be provided.`)}})(t.workspacePlatform?.toolbarOptions?.buttons);let r=(e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e))(t);r=await ls(r,e,{themes:Ts(),selectedScheme:this.getSelectedScheme()}),r=await(async e=>{const t=await fin.System.getMonitorInfo();let a=t.primaryMonitor;const n=e.defaultLeft,o=e.defaultTop;t.nonPrimaryMonitors.forEach((e=>{const{top:t,bottom:r,left:i,right:s}=e.availableRect;n>=i&&n<=s&&o>=t&&o<=r&&(a=e)}));const r=a.availableRect.bottom-a.availableRect.top,i=a.availableRect.right-a.availableRect.left;return e.defaultHeight=Math.min(e.defaultHeight||800,r),e.defaultWidth=Math.min(e.defaultWidth||800,i),e})(r);const i=await(e=>async(t,a)=>{let n=!1;const o=await e(t,a);return t?.workspacePlatform?._internalDeferShowOptions?.deferShowEnabled?(await o.addListener("show-requested",(async()=>{if(n)return;const e=await o.getOptions();await o.updateOptions({workspacePlatform:{...e.workspacePlatform,_internalDeferShowOptions:{...e.workspacePlatform._internalDeferShowOptions,autoShow:!0}}}),n=!0})),o):o})(((e,t)=>super.createWindow(e,t)))(r,a);return Xt({type:"Window",action:"Open Window",value:i.identity.name,data:{uuid:i.identity.uuid}}),i}async createView(t,a){t.opts=yn(t.opts,e?.defaultViewOptions),t.opts=await ps(t.opts,this.fetchManifest,a),t.opts=await(async e=>{const t=is(e),a=t.workspacePlatform?.browserNavigationButtons;if(a){const e=Object.keys(a);for(const n of e)if(a[n]){const e=(await ks())[n];t.hotkeys?t.hotkeys.push(...e):t.hotkeys=[...e]}}return t})(t.opts),t.opts=gs(t.opts);const n=await super.createView(t,a);return bs(n.identity,t.opts._internalWorkspaceData?.browserNavigationButtons),n}async replaceView(t,a){return t.opts.newView=await yn(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await ps(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return await Ht(t)||delete e.opts.layout?.dimensions,super.replaceLayout(e,t)}async getSavedPage(...e){return zr.apply(this,e)}async getSavedPages(...e){return Kr.apply(this,e)}async createSavedPage(...e){return Jr.apply(this,e)}async deleteSavedPage(...e){return Zr.apply(this,e)}async updateSavedPage(...e){return qr.apply(this,e)}async getSavedWorkspace(...e){return Qi.apply(this,e)}async getSavedWorkspaces(...e){return Yi.apply(this,e)}async getSavedWorkspacesMetadata(...e){return(await this.getSavedWorkspaces(...e)).map((e=>({workspaceId:e.workspaceId,title:e.title})))}async createSavedWorkspace(...e){return Xi.apply(this,e)}async deleteSavedWorkspace(...e){return es.apply(this,e)}async updateSavedWorkspace(...e){return ts.apply(this,e)}async getDockProviderConfig(...e){return Ji.apply(this,e)}async saveDockProviderConfig(...e){return Zi.apply(this,e)}async attachPagesToWindow(t){const a=await ns(t.pages,e);await qn(a),await lo({...t,pages:a})}async addPage(e){const t=await Ht(e.identity),a=await ct(e.identity),{page:n,insertionIndex:o}=e;n?.title||t||(n.title=await a.dispatch(ot.GetUniquePageTitle,void 0));const r=(await this.getAllAttachedPages()).find((e=>e.pageId===n.pageId||e.title===n.title));if(r){if(r.pageId===n.pageId)throw new Error(`page with id ${n.pageId} is already attached to a browser window ${r.parentIdentity.name}`);if(!t)throw new Error(`addPage title collision, page with title ${n.title} already exists, conflicting page id: ${r.pageId} with title ${r.title}`)}const i={identity:e.identity,pages:[{...n,multiInstanceViewBehavior:e.multiInstanceViewBehavior||"duplicate"}],insertionIndex:o};await this.attachPagesToWindow(i)}async addDefaultPage(e){await this.addPage(e),await this.setActivePage({identity:e.identity,pageId:e.page.pageId})}async setActivePage(...e){return wo.apply(this,e)}async openGlobalContextMenuInternal(...e){return Ni.apply(this,e)}async openGlobalContextMenu(...e){return Vi.apply(this,[...e,Lr.GlobalMenu,Fi.BottomRight])}async openViewTabContextMenuInternal(...e){return Li.apply(this,e)}async openViewTabContextMenu(...e){return Vi.apply(this,[...e,Lr.ContextMenu])}async openPageTabContextMenuInternal(...e){return _i.apply(this,e)}async openPageTabContextMenu(...e){return Vi.apply(this,[...e,Lr.ContextMenu])}async openSaveButtonContextMenu(...e){return Vi.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Ui.apply(this,e)}getSelectedScheme(...e){return mn.apply(this,e)}async setSelectedScheme(...e){return hn.apply(this,e)}async handlePageChanges(...e){return Co.apply(this,e)}async analyticsInternal(...e){return Fo.apply(this,e)}async handleAnalytics(...e){}async handleSaveModalOnPageClose(...e){return fo.apply(this,e)}async shouldPageClose(...e){return yo.apply(this,e)}async shouldWindowClose(...e){return So.apply(this,e)}handlePagesAndWindowClose(...e){return vo.apply(this,e)}async copyPage(...e){return Po.apply(this,e)}async getNotificationsConfig(){return t}async setLanguage(...e){return br.apply(this,e)}async getLanguage(){return kr.apply(this)}async trackRemovedTabInternal(...e){return jr.apply(this,e)}async restoreRemovedTabInternal(){const e=await(async()=>{if(!$r)throw new Error("Unable to pop last removed tab - IndexDB not supported");const e=$r[Or],t=await e.toCollection().keys();if(t.length>0){const a=Math.max(...t.map((e=>Number(e)))).toString(),n=await e.get(a);if(n){await e.delete(a);const{id:t,...o}=n;return o}}})();if("page"in e)if(await Ie(e.identity)){const t=bn().Browser.wrapSync(e.identity);await t.addPage(e.page),await t.setActivePage(e.page.pageId)}else bn().createWindow({name:e.identity.name,workspacePlatform:{pages:[e.page],windowType:C.Browser}});else(function(e){return"window"in e})(e)&&bn().createWindow({workspacePlatform:{pages:e.window.pages,windowType:C.Browser}})}async trackVisitedSiteInternal(...e){return Yr.apply(this,e)}async getRecentlyVisitedSitesInternal(...e){return await As.apply(this,e)}async getFrequentlyVisitedSitesInternal(...e){return Xr.apply(this,e)}async searchSitesInternal(...e){return await Ms.apply(this,e)}async getSearchProvidersInternal(...e){return await xs.apply(this,e)}async getCuratedContentInternal(...e){return await Is.apply(this,e)}async handleRequestNavigationInternal(...e){}async launchBookmarkInternal(e){return ai(e)}async refreshBookmarksInternal(){(await bn().Browser.getAllWindows()).forEach((async({identity:e})=>{(await Ca(e)).dispatch(Ta.RefreshBookmarksInternal)}));(await Pa(Fr())).dispatch(Ta.RefreshBookmarksInternal),await(async()=>{const e=await Gi();if(e){const t=await Ca(e.identity,Oi);await t.dispatch(Ta.RefreshBookmarksInternal)}})()}async updateDockFavoritesInternal(e){return(async e=>{const t=await Gi();if(!t)throw new Error("Companion Dock window not found");{const a=await Ca(t.identity,Oi);await a.dispatch(Wa.UpdateFavoriteEntries,e)}})(e)}async updateContentMenuInternal(e){return(async e=>{const t=await Gi();if(!t)throw new Error("Companion Dock window not found");{const a=await Ca(t.identity,Oi);await a.dispatch(Wa.UpdateContentMenu,e)}})(e)}async launchDockEntryInternal(e){return(async e=>(await Hi()).dispatch("launch-entry",e))(e)}async setDefaultDockButtonsOrderInternal(e){return(async e=>(await Hi()).dispatch("set-default-dock-buttons-order",e))(e)}async setDockFavoritesOrderInternal(e){return(async e=>(await Hi()).dispatch("set-dock-favorites-order",e))(e)}async addDockFavoriteInternal(e){return(async e=>(await Hi()).dispatch("add-favorite-entry",e))(e)}async removeDockFavoriteInternal(e){return(async e=>(await Hi()).dispatch("remove-favorite-entry",e))(e)}async navigateContentMenuInternal(e){return(async e=>{const t=await Gi();if(!t)throw new Error("Companion Dock window not found");{const a=await Ca(t.identity,Oi);await a.dispatch(Wa.NavigateContentMenu,e)}})(e)}async getDockWorkspacesContextMenuInternal(){return(async()=>(await Hi()).dispatch("get-dock-workspaces-context-menu",void 0))()}async handleDockWorkspacesMenuResponseInternal(e){return(async e=>(await Hi()).dispatch("handle-dock-workspaces-menu-response",e))(e)}async focusAndExpandSearchInternal(){return $i()}async sendUpdateVersionModalResponseInternal(e){return Ya(e)}async showUpdateVersionModalInternal(e,t){return us(e,t)}}};function Es(e,t,a){const n=Rs(e,a);try{return"function"==typeof t?e=>t(n(e)):Array.isArray(t)?[...t,n]:e=>new(n(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}}const Fs=["green","purple","orange","red","pink","yellow"],Vs="CONTEXT_GROUP_PAGE",Ns=()=>e=>class extends e{getContextGroups(){return super.getContextGroups().map((e=>Fs.includes(e.displayMetadata?.name)?{...e,displayMetadata:{...e.displayMetadata,name:On(e.displayMetadata?.name)}}:e))}},Ls=()=>{const e=new Set(Ii.keys());return t=>class extends t{constructor(){super(),this.onClientConnected=async e=>{if(e.name.startsWith("internal-generated-view")){const{page:t}=await bn().Browser.getPageByViewIdentity(e),a=t.contextGroup;this.joinContextGroup({contextGroupId:a??Vs,target:e},{uuid:this.fin.me.uuid,name:this.fin.me.name})}};const e=this.interopClients.set;this.interopClients.set=(t,a)=>{e.call(this.interopClients,t,a),this.onClientConnected(a.clientIdentity)}}async joinContextGroup({contextGroupId:t,target:a},n){if(t!==Vs)return super.joinContextGroup({contextGroupId:t,target:a},n);try{const t=(await bn().Browser.getPageByViewIdentity(a)).page.layoutName;if(!t)throw new Error("View does not belong to a page");if(!e.has(t)&&(e.add(t),!this.contextGroupsById.has(t))){const e=new Map;this.contextGroupsById.set(t,e)}await super.joinContextGroup({contextGroupId:t,target:a},n),a.name}catch(e){JSON.stringify(a),e.stack}}getContextGroups(){return Array.from(e).map((e=>({id:e,displayMetadata:Ii.get(e)??{}})))}setContextForGroup(e,t){if(!this.contextGroupsById.has(t)){const e=new Map;this.contextGroupsById.set(t,e)}return super.setContextForGroup(e,t)}}},_s=(e,t)=>{const a=(e=>$t(e)?Ls():Ns())(t);try{return"function"==typeof e?t=>e(a(t)):Array.isArray(e)?[...e,a]:e=>new(a(e))}catch(e){throw new Error("WorkspacePlatform.init Error:",e)}};async function Us(){(async()=>{he().on("window-closed",Dr)})(),async function(){const e=fin.Application.getCurrentSync(),t=await xr();await Promise.all(t.map((async e=>{await Ar(e.identity,void 0,!0)})));const a=await fin.System.getFocusedWindow();a&&a.name.startsWith(me.BrowserWindow)&&await Ar(a,void 0,!0),await e.addListener("window-focused",(async e=>{await Ar(e,void 0,!0)})),await e.addListener("window-minimized",(async e=>{await Ar(e,!1)})),await e.addListener("window-restored",(async e=>{await Ar(e,!0)})),await e.addListener("window-closed",Wr)}();Yo(await Xo())}let Os;function Gs({overrideCallback:e,interopOverride:t,browser:a,notifications:n,analytics:o,integrations:r=[],workspaceAsar:i}){if(!W)throw new Error("Cannot be used outside an OpenFin env.");return Os||(Os=(async()=>{const s=fin.Platform.getCurrentSync();var c,l;if(s.once("platform-api-ready",(()=>Us())),s.on("window-show-all-downloads",(({name:e,uuid:t})=>{pr({name:e,uuid:t})})),a?.title&&(c=a.title,Di=c),Vo(o),i){const e=`workspace-${encodeURIComponent(fin.me.uuid)}`,{baseUrl:t}=await fin.System.serveAsset({...i,hostName:e});X(t)}a?.browserBaseUrl&&X(a.browserBaseUrl),$t(a)&&(zn=!0,l=a,$n=l?.aiPanelOptions,Jn());const d=ln();var u;return d.setWorkspaceStorage(Pt(`${R}-workspace`)),d.trySynchronizeWorkspaceStorage(),await fin.Platform.init({overrideCallback:Es(a,e||a?.overrideCallback,n),interopOverride:_s(t||a?.interopOverride,a)}),u={allowed:!0},Zt(Jt.Platform,u),await Promise.all(r.map((async e=>{((e,t)=>{Zt(`${Jt.Microflow}:${e}`,t,"integration-feature")})(e.workflowIntegrationName,{allowed:!0,apiVersion:U}),await e._initializeWorkflows()}))),s})()),Os}const Hs=async({theme:e,customActions:t,language:a,...n})=>{const o=U.split(".").map((e=>parseInt(e))),r=await(async e=>{if((await Y()).disableRuntimeValidation)return!0;if(await Ht())return!0;const t=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));return e.every(((a,n)=>!(n<3)||t[n]===e[n]))})(o);if(!r)throw new Error(`Runtime version is not supported.  ${o[0]}.${o[1]}.${o[2]}.* is required`);var i;return Bs(e),e&&(i={allowed:!0},Zt(Jt.Theming,i)),t&&(Tr=t),await yr(a?.initialLanguage),Gs(n)}})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

(()=>{var e={847:(e,t)=>{var a={2346:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMostReadable=t.darkenColor=t.lightenColor=void 0;const r=n(a(6535));t.lightenColor=(e,t)=>o(e,"lighten",t),t.darkenColor=(e,t)=>o(e,"darken",t);const o=(e,t,a)=>{if(a&&(a<0||a>100))throw new Error(`${a} must be a number between 0 and 100`);return(0,r.default)(e)[t](a).toString()};t.getMostReadable=(e,t)=>r.default.mostReadable(e,t).toHexString()},2317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.Transition=t.LineHeight=t.FontWeight=t.FontSize=t.FontFamily=t.Shadow=t.Radius=t.UnitPx=t.Unit=t.SizeName=t.Size=t.Color=void 0,t.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"#8C61FF",lightblue:"#36C3FE",aqua:"#00CC88",yellow:"#FFEB00",salmon:"#FF8C4C",pink:"#FF5E60",lightpink:"#FF8FB8",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent",openFinActive:"#4642FF",openFinHover:"#6965FF",lightGray4Active:"#D7DADF",lightGray4Hover:"#EBECEF",darkGray2Active:"#33353B",darkGray2Hover:"#44464E"},t.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},t.SizeName={[t.Size.xsmall]:"Extra Small",[t.Size.small]:"Small",[t.Size.base]:"Base",[t.Size.large]:"Large",[t.Size.xlarge]:"Extra Large",[t.Size.xxlarge]:"2X Large",[t.Size.xxxlarge]:"3X Large",[t.Size.xxxxlarge]:"4X Large"},t.Unit={[t.Size.xsmall]:4,[t.Size.small]:8,[t.Size.base]:12,[t.Size.large]:16,[t.Size.xlarge]:20,[t.Size.xxlarge]:24,[t.Size.xxxlarge]:32,[t.Size.xxxxlarge]:48},t.UnitPx={[t.Size.xsmall]:"4px",[t.Size.small]:"8px",[t.Size.base]:"12px",[t.Size.large]:"16px",[t.Size.xlarge]:"20px",[t.Size.xxlarge]:"24px",[t.Size.xxxlarge]:"32px",[t.Size.xxxxlarge]:"48px"},t.Radius={[t.Size.xsmall]:"2px",[t.Size.small]:"4px",[t.Size.base]:"8px",[t.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},t.Shadow={[t.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},t.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),t.FontSize={[t.Size.xsmall]:"8px",[t.Size.small]:"10px",[t.Size.base]:"12px",[t.Size.large]:"14px",[t.Size.xlarge]:"16px",[t.Size.xxlarge]:"18px",[t.Size.xxxlarge]:"20px",[t.Size.xxxxlarge]:"40px"},t.FontWeight={normal:400,bold:600},t.LineHeight={ui:1,heading:1.2,text:1.5},t.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},t.IconSize={[t.Size.xsmall]:t.UnitPx.small,[t.Size.small]:t.UnitPx.base,[t.Size.base]:"15px",[t.Size.large]:t.UnitPx.xlarge,[t.Size.xlarge]:t.UnitPx.xxlarge,[t.Size.xxlarge]:t.UnitPx.xxxlarge,[t.Size.xxxlarge]:t.UnitPx.xxxxlarge}},6893:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTheme=void 0;const n=a(2317),r=a(2346),o=a(5939),i={fontFamily:n.FontFamily,fontSize:n.FontSize,fontWeight:n.FontWeight,lineHeight:n.LineHeight,iconSize:n.IconSize,radius:n.Radius,shadow:n.Shadow,transition:n.Transition,unit:n.Unit,px:n.UnitPx},s=(e,t)=>({[`${e}Active`]:(0,r.darkenColor)(t,2),[`${e}Hover`]:(0,r.lightenColor)(t,5),[`${e}Focused`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5]),[`${e}Text`]:(0,r.getMostReadable)(t,[n.Color.white,n.Color.darkGray5])});t.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},s(o.Palette.brandPrimary,e.brandPrimary)),s(o.Palette.brandSecondary,e.brandSecondary)),e)})},5939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=void 0,t.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},6535:function(e){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=/^\s+/,a=/\s+$/;function n(r,o){if(o=o||{},(r=r||"")instanceof n)return r;if(!(this instanceof n))return new n(r,o);var i=function(n){var r,o,i,s={r:0,g:0,b:0},c=1,d=null,l=null,u=null,p=!1,h=!1;return"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(a,"").toLowerCase();var n,r=!1;if(v[e])e=v[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=O.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=O.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=O.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=O.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=O.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=O.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=O.hex8.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),a:F(n[4]),format:r?"name":"hex8"}:(n=O.hex6.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),format:r?"name":"hex"}:(n=O.hex4.exec(e))?{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),a:F(n[4]+""+n[4]),format:r?"name":"hex8"}:!!(n=O.hex3.exec(e))&&{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),format:r?"name":"hex"}}(n)),"object"==e(n)&&(E(n.r)&&E(n.g)&&E(n.b)?(r=n.r,o=n.g,i=n.b,s={r:255*P(r,255),g:255*P(o,255),b:255*P(i,255)},p=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):E(n.h)&&E(n.s)&&E(n.v)?(d=M(n.s),l=M(n.v),s=function(e,t,a){e=6*P(e,360),t=P(t,100),a=P(a,100);var n=Math.floor(e),r=e-n,o=a*(1-t),i=a*(1-r*t),s=a*(1-(1-r)*t),c=n%6;return{r:255*[a,i,o,o,s,a][c],g:255*[s,a,a,i,o,o][c],b:255*[o,o,s,a,a,i][c]}}(n.h,d,l),p=!0,h="hsv"):E(n.h)&&E(n.s)&&E(n.l)&&(d=M(n.s),u=M(n.l),s=function(e,t,a){var n,r,o;function i(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(e=P(e,360),t=P(t,100),a=P(a,100),0===t)n=r=o=a;else{var s=a<.5?a*(1+t):a+t-a*t,c=2*a-s;n=i(c,s,e+1/3),r=i(c,s,e),o=i(c,s,e-1/3)}return{r:255*n,g:255*r,b:255*o}}(n.h,d,u),p=!0,h="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=S(c),{ok:p,format:n.format||h,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c}}(r);this._originalInput=r,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=o.format||i.format,this._gradientType=o.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function r(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=(o+i)/2;if(o==i)n=r=0;else{var c=o-i;switch(r=s>.5?c/(2-o-i):c/(o+i),o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,l:s}}function o(e,t,a){e=P(e,255),t=P(t,255),a=P(a,255);var n,r,o=Math.max(e,t,a),i=Math.min(e,t,a),s=o,c=o-i;if(r=0===o?0:c/o,o==i)n=0;else{switch(o){case e:n=(t-a)/c+(t<a?6:0);break;case t:n=(a-e)/c+2;break;case a:n=(e-t)/c+4}n/=6}return{h:n,s:r,v:s}}function i(e,t,a,n){var r=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(e,t,a,n){return[x(I(n)),x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s-=t/100,a.s=C(a.s),n(a)}function d(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.s+=t/100,a.s=C(a.s),n(a)}function l(e){return n(e).desaturate(100)}function u(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l+=t/100,a.l=C(a.l),n(a)}function p(e,t){t=0===t?0:t||10;var a=n(e).toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(-t/100*255))),a.g=Math.max(0,Math.min(255,a.g-Math.round(-t/100*255))),a.b=Math.max(0,Math.min(255,a.b-Math.round(-t/100*255))),n(a)}function h(e,t){t=0===t?0:t||10;var a=n(e).toHsl();return a.l-=t/100,a.l=C(a.l),n(a)}function f(e,t){var a=n(e).toHsl(),r=(a.h+t)%360;return a.h=r<0?360+r:r,n(a)}function g(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function m(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var a=n(e).toHsl(),r=[n(e)],o=360/t,i=1;i<t;i++)r.push(n({h:(a.h+i*o)%360,s:a.s,l:a.l}));return r}function w(e){var t=n(e).toHsl(),a=t.h;return[n(e),n({h:(a+72)%360,s:t.s,l:t.l}),n({h:(a+216)%360,s:t.s,l:t.l})]}function y(e,t,a){t=t||6,a=a||30;var r=n(e).toHsl(),o=360/a,i=[n(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(n(r));return i}function k(e,t){t=t||6;for(var a=n(e).toHsv(),r=a.h,o=a.s,i=a.v,s=[],c=1/t;t--;)s.push(n({h:r,s:o,v:i})),i=(i+c)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,a,n=this.toRgb();return e=n.r/255,t=n.g/255,a=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},setAlpha:function(e){return this._a=S(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+a+"%, "+n+"%)":"hsva("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),a=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,a,n,r){var o=[x(Math.round(e).toString(16)),x(Math.round(t).toString(16)),x(Math.round(a).toString(16)),x(I(n))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*P(this._r,255))+"%",g:Math.round(100*P(this._g,255))+"%",b:Math.round(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%)":"rgba("+Math.round(100*P(this._r,255))+"%, "+Math.round(100*P(this._g,255))+"%, "+Math.round(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(b[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),a=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=n(e);a="#"+s(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRgbString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString()),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String()),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(m,[3])},tetrad:function(){return this._applyCombination(m,[4])}},n.fromRatio=function(t,a){if("object"==e(t)){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]="a"===o?t[o]:M(t[o]));t=r}return n(t,a)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(e,t,a){a=0===a?0:a||50;var r=n(e).toRgb(),o=n(t).toRgb(),i=a/100;return n({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},n.readability=function(e,t){var a=n(e),r=n(t);return(Math.max(a.getLuminance(),r.getLuminance())+.05)/(Math.min(a.getLuminance(),r.getLuminance())+.05)},n.isReadable=function(e,t,a){var r,o,i,s,c,d=n.readability(e,t);switch(o=!1,(i=a,"AA"!==(s=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),r={level:s,size:c}).level+r.size){case"AAsmall":case"AAAlarge":o=d>=4.5;break;case"AAlarge":o=d>=3;break;case"AAAsmall":o=d>=7}return o},n.mostReadable=function(e,t,a){var r,o,i,s,c=null,d=0;o=(a=a||{}).includeFallbackColors,i=a.level,s=a.size;for(var l=0;l<t.length;l++)(r=n.readability(e,t[l]))>d&&(d=r,c=n(t[l]));return n.isReadable(e,c,{level:i,size:s})||!o?c:(a.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],a))};var v=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},b=n.hexNames=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}(v);function S(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var a=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return Math.min(1,Math.max(0,e))}function A(e){return parseInt(e,16)}function x(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function I(e){return Math.round(255*parseFloat(e)).toString(16)}function F(e){return A(e)/255}var W,T,D,O=(T="[\\s|\\(]+("+(W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",D="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+D),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function E(e){return!!O.CSS_UNIT.exec(e)}return n}()}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return a[e].call(o.exports,o,o.exports,r),o.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var t=r(2317);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return t.Color}});var a=r(5939);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return a.Palette}});var n=r(6893);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return n.createTheme}})})();var i=t;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},877:()=>{},67:()=>{},254:(e,t,a)=>{"use strict";a.d(t,{Nt:()=>Ue,Ag:()=>Ge});var n={};a.r(n),a.d(n,{createNamespacedLocalStorage:()=>x,getItem:()=>F,removeItem:()=>W,setItem:()=>I});var r=a(675),o=a(723),i=a(181);async function s(){const e="getManifestOverrides",{manifest:t,initialOptions:a}=await fin.Application.getCurrentSync().getInfo();return t?.platform.workspace||t?.platform.home||a?.workspace||a?.home||console.warn(`${e}: Missing Home development manifest overrides, using Desktop Owner Settings.`),t?.platform.workspace?(JSON.stringify(t?.platform.workspace),t?.platform.workspace):t?.platform.home?(JSON.stringify(t?.platform.home),t?.platform.home):a?.workspace?(JSON.stringify(a?.workspace),a?.workspace):a?.home?(JSON.stringify(a?.home),a?.home):{}}const c=e=>fin.System.getSystemAppConfig(e);async function d(){const e="getDOSOverrides";if(!o.cI)return console.warn(`${e}: the fin API was not available, returning no result`),{};try{let t=await c("workspace").catch((t=>{console.warn(`${e}: customConfig entry for SystemApp workspace not available in Desktop Owner Settings. ${t?.message}`)}));return t||(t=await c("home")),JSON.stringify(t),t}catch(t){if(!o.Hd)return{};if(!(t instanceof Error))throw t;console.warn(`${e}: Missing Workspace Desktop Owner Settings configuration, using defaults. ${t?.message}`)}return{}}let l,u;const p=e=>e.replace(/\/$/,"");async function h(){const e=(await async function(){if(l)return l;const e="getOverrides";if(!o.cI)return o.YY&&console.warn(`${e}: The Fin API was not available. Returning an empty result.`),{};const[t,a]=await Promise.all([d(),s()]);return l={...a,...t,disableRuntimeValidation:a.disableRuntimeValidation||t.disableRuntimeValidation},l}()).browserBaseUrl;if(e)try{const t=new URL(e);if(t.pathname.endsWith("/"))t.pathname=p(t.pathname);else{if("/workspace"===t.pathname)return t.pathname+=`/${o.et}`,t.toString();console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url, with path: /workspace. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}}catch(t){console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}return u??o.bD}async function f(e=!1){const t=await h()+i.Ay.EnterpriseBrowser;return e?t:p(t)}var g=a(70);const m=(e,t)=>{const a=e;return a.workspacePlatform||(a.workspacePlatform={}),a.workspacePlatform._internalDeferShowOptions={setAsForeground:!!t,deferShowEnabled:!0,autoShow:a.workspacePlatform?._internalAutoShow||a.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===a.autoShow||a.autoShow},a.autoShow=!1,a};const w=(e,t=0)=>{let a,n,r=!1;const o=async n=>{const i=await e(...n);if(r){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,r=!1,o(e)}return i};return(...e)=>(n?(r=!0,a=e):n=o(e).catch((e=>{throw console.error("makeDebouncedFunc",e),e})).finally((()=>{n=void 0})),n)};var y;!function(e){e.Top="top",e.Below="below"}(y||(y={}));const k=async e=>{try{return!!e&&"maximized"===await e.getState()}catch(e){return console.warn("parentWindowMaximized - Failed to get parent window state",e),!1}};async function v(e,t,a,n,r,o){const i=!!e&&(0,g.Iq)(e),s=await(async(e,t)=>{try{return e?await e.getBounds():t}catch(e){return console.warn("getParentWindowBounds - Failed to get parent window bounds",e),t}})(i,o);if(n===y.Below){if(!i||await k(i)){const e=i?(await(0,g.ur)(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,g.V1)(e).left-t/2,top:r?e.bottom-128:e.bottom+12,width:t,height:a}}return{left:(0,g.V1)(s).left-t/2,top:r?s.bottom-128:s.bottom+12,width:t,height:a}}if(!i||await k(i)){const e=i?(await(0,g.ur)(s)).availableRect:(await fin.System.getMonitorInfo()).primaryMonitor.availableRect;return{left:(0,g.V1)(e).left-t/2,top:e.top+20,width:t,height:a}}return{left:(0,g.V1)(s).left-t/2,top:s.top+20,width:t,height:a}}w((async function(e,t,a,n,r){const o=t.getBoundingClientRect(),i=await v(e,o.width,o.height,a,n,r);if(0===i.width||0===i.height)return;const s=(0,g.Tv)();await s.setBounds(i),await s.show();const c=setTimeout((()=>s.close()),n?5e3:3e3),d=()=>{clearTimeout(c),s.close()};if(e){const t=(0,g.Iq)(e);t.on("bounds-changing",(()=>d())),t.on("blurred",(()=>d())),t.on("maximized",(()=>d())),t.on("minimized",(()=>d())),t.on("restored",(()=>d()))}}),10);const b=async e=>{const t=e&&await(0,g.Iq)(e).getBounds(),a=e?await(0,g.ur)(t):(await fin.System.getMonitorInfo()).primaryMonitor;return(0,g.VE)(a.availableRect)};var S=a(957);function P(){let e,t;return{promise:new Promise(((a,n)=>{e=a,t=n})),resolve:e,reject:t}}const C="dock3",A=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs"),x=e=>({setItem:(t,a)=>{localStorage.setItem(`${e}-${t}`,a)},getItem:t=>localStorage.getItem(`${e}-${t}`),removeItem:t=>localStorage.removeItem(`${e}-${t}`)}),M=x(o.$h),I=M.setItem,F=M.getItem,W=M.removeItem;var T;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState"}(T||(T={}));const D=T,O=e=>e+"-"+fin.me.uuid,E=(e,t)=>{const a=o.AT&&o.cI&&new A.Dexie(e);return a&&a.version(.1).stores({[t]:""}),a},_=(e,t)=>{const a=E(O(e),t),n=E(e,t);if(!a||!n)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,t,a)=>{const n=F(D.HasMovedStore),r=n?JSON.parse(n):{};if(r&&r[a])return;r[a]=!0,I(D.HasMovedStore,JSON.stringify(r));const o=await e[a].toArray();await t[a].bulkPut(o)})(n,a,e),a},B="dock3-provider-config",R=o.AT&&o.cI&&new A.Dexie(O("dock3-provider-config"));R&&R.version(.1).stores({[B]:""});var $,L,N,G,U=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},V=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};class H{static getOverrideConstructor(...e){return class extends H{constructor(){super(...e)}}}constructor(e,t){if($.set(this,void 0),L.set(this,void 0),N.set(this,null),G.set(this,P()),H.instance)throw new Error("Dock3Provider has already been initialized.");H.instance=this,U(this,$,e,"f"),U(this,L,t,"f"),this.registerChannelActions()}async launchEntry(e){}get ready(){return V(this,G,"f").promise}async bookmarkContentMenuEntry(e){}get config(){return V(this,$,"f")}set config(e){U(this,$,e,"f")}async updateConfig(e){await this.handleConfigChange(e)}async shutdown(){await Promise.all([V(this,L,"f").destroy(),this.getWindowSync().close(!0)]),H.instance=null}async saveConfig({config:e}){U(this,$,e,"f"),await async function(e){if(!R)throw new Error("Unable to save Dock provider config - IndexedDb not supported");await R[B].put(e,"latest")}(e)}async handleConfigChange(e){V(this,N,"f")&&await V(this,L,"f").dispatch(V(this,N,"f"),"handle-dock-config-updated",e)}async loadConfig(){const e=await async function(){if(!R)throw new Error("Unable to get Dock provider config - IndexedDB not supported");try{return await R[B].get("latest")}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDB",e)}}();return e&&U(this,$,e,"f"),V(this,$,"f")}getWindowSync(){return fin.Window.wrapSync({uuid:fin.me.identity.uuid,name:C})}registerChannelActions(){V(this,L,"f").register("launch-entry",this.launchEntry.bind(this)),V(this,L,"f").register("save-config",this.saveConfig.bind(this)),V(this,L,"f").register("bookmark-content-menu-entry",this.bookmarkContentMenuEntry.bind(this)),V(this,L,"f").onConnection((e=>{e.name===C&&U(this,N,e,"f")})),V(this,L,"f").register("ready",(async(e,t)=>{if(V(this,N,"f")?.endpointId!==t.endpointId)throw new Error(`Dock3Provider: 'ready' action received from unexpected client ${t.name} (${t.uuid})`);V(this,G,"f").resolve()})),V(this,L,"f").onDisconnection((e=>{V(this,N,"f")?.endpointId===e.endpointId&&(U(this,N,null,"f"),U(this,G,P(),"f"))}))}}$=new WeakMap,L=new WeakMap,N=new WeakMap,G=new WeakMap,H.instance=null;const z=async e=>{const t=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),a=await t.getOptions();return a.workspacePlatform?.windowType&&"enterprise"===a.workspacePlatform.windowType};let q;a(277);var j=a(438);const K=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var X=a.n(K);function Q(){return localStorage.getItem(D.MachineName)??"unknown"}let Y;async function Z(){return Y||(Y=await fin.System.getMachineId()),Y}var J=a(333);const ee=async e=>({...e,layoutDetails:{machineId:await Z(),machineName:Q()}}),te=async e=>{const t=await(async(e,t)=>({pageId:(0,J.N)(),title:e,layout:await ee(t),isReadOnly:!1}))(e.title,ze(e.layout));return e.panels&&(t.panels=e.panels.map((e=>({...e,viewOptions:He(e.viewOptions)})))),{...e,...t}};var ae=a(79),ne=a(786);var re=a(102);const oe=(e,t)=>t?`${t}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,ie=new Map,se=(e,t)=>{const a=oe(e,t);return n=a,ie.has(n)||ie.set(n,(0,re.A)(n)),ie.get(n)();// removed by dead control flow
{ var n; }};var ce,de,le,ue,pe,he;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(ce||(ce={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(de||(de={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(le||(le={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(ue||(ue={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu"}(pe||(pe={})),function(e){e.SendUpdateVersionModalResponse="send-update-version-modal-response"}(he||(he={}));const fe={...ce,...de,...pe},ge=(0,re.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),me=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await ge()).dispatch(ue.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await ge()).dispatch(ue.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await ge()).dispatch(ue.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await ge()).dispatch(ue.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await ge()).dispatch(ue.DeleteBookmarkNode,e))(e)},getPages:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetPagesForWindow,e),getPage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>Ue().Browser.wrapSync(e)._addPage(t),_addPage:async(t,a)=>{const n=await(0,ae.bW)(e),r={identity:e,page:t,insertionIndex:a?.index,multiInstanceViewBehavior:a?.multiInstanceViewBehavior};return n.dispatch(ae.OF.AddPage,r)},_addPages:async(t,a,n)=>{const r=await(0,ae.bW)(e),o=t.map((({page:e,opts:t})=>({...e,multiInstanceViewBehavior:t?.multiInstanceViewBehavior||"duplicate"}))),i={identity:e,pages:o,insertionIndex:a,replaceActivePage:n};return r.dispatch(ae.OF.AttachPagesToWindow,i)},removePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.DetachPagesFromWindow,{identity:e,pageIds:[t]}),reparentPage:async t=>Ue().Browser.wrapSync(e)._reparentPage(t),_reparentPage:async t=>{const{pageId:a}=t,n=await(0,ae.bW)(e),r=(await n.dispatch(ae.OF.GetAllAttachedPages,void 0)).find((({pageId:e})=>e===a));if(!r)throw new Error(`Reparent Page Error: Target page with pageId ${a} not found`);r.multiInstanceViewBehavior="reparent";const o={identity:e,pages:[r],insertionIndex:t.index};return n.dispatch(ae.OF.AttachPagesToWindow,o)},setActivePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await(0,ae.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await(0,ae.bW)(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},updateBrowserWindowTitle:async t=>{const a=fin.Window.wrapSync(e);"string"!=typeof t?await a.updateOptions({workspacePlatform:{title:t}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",t)},_openViewTabContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await(0,ae.bW)(e);return(await se(e)).dispatch(fe.OpenSaveModalInternal,t)},_getLayoutsWithSelectedViews:async()=>(await se(e)).dispatch(fe.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.OpenSaveButtonContextMenuInternal,t)},_addDefaultPage:async t=>{const a=await(0,ae.bW)(e);return t.identity=e,a.dispatch(ae.OF.AddDefaultPage,t)},_trackRemovedTab:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.TrackRemovedTabInternal,t),_restoreRemovedTab:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.RestoreRemovedTabInternal,t),_trackVisitedSite:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.TrackVisitedSiteInternal,t),_getRecentlyVisitedSites:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetRecentlyVisitedSitesInternal,t),_getFrequentlyVisitedSites:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetFrequentlyVisitedSitesInternal,t),_searchSites:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SearchSitesInternal,{identity:e,req:t}),_getSearchProviders:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetCuratedContentInternal,{identity:e,req:t}),_handleRequestNavigation:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.HandleRequestNavigationInternal,t),_sendUpdateVersionModalResponse:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SendUpdateVersionModalResponseInternal,t)}),we=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>me(e),createWindow:async a=>{const n=(()=>{const e=`browser-window-startup-${(0,J.N)()}`;return ne.A.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",(()=>{ne.A.markAndMeasure("browser-window-shown",e)}))})(n),await(0,ae.bW)(e);const r=await t.createWindow(a);return(e=>{ne.A.markAndMeasure("browser-window-started",e)})(n),me(r.identity)},getAllAttachedPages:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetAllAttachedPages,void 0),getAllWindows:async()=>{await(0,ae.bW)(e);return(await(0,g.Io)()).map((e=>me(e.identity)))},getUniquePageTitle:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetPageByViewIdentity,t)}};var ye=a(523);function ke(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function ve(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function be(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),r=(...e)=>{a(...e),n.delete(r)};n.add(r)}}function Se(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Pe={name:g.Q.BrowserMenu,alwaysOnTop:!0,autoShow:!0,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!1,saveWindowState:!1};function Ce(e){const t={...Pe,...e};return t.url=(0,ye.Tt)(t.url??""),t}const Ae=function(e){const t=new Map;return{emit:ke(t,(t=>o.cI&&fin.InterApplicationBus.publish(e,t))),addListener:ve(t,(t=>o.cI&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),addListenerWithUUID:a=>ve(t,(t=>o.cI&&fin.InterApplicationBus.subscribe({uuid:a},e,t))),removeListener:Se(t),once:be(t)}}("window.menu"),xe=(e,t)=>fin.Window.wrapSync(e).updateOptions({opacity:t}),Me=e=>Ae.emit("response",e),Ie=w((()=>(0,j.v1)().getChildWindows()),500);const Fe=new Map;async function We(e,t,a){const n=Ce(e),o=await(0,S.qq)(fin.me.identity),i=await(0,S.l5)(fin.me.identity)===r.qT.Dark,s=o?.theme;if(n.backgroundColor=s?.[i?r.qT.Dark:r.qT.Light]?.palette?.inputBackground||n.backgroundColor,!Fe.has(n.name)){return new Promise((r=>{Ae.once("ready",(async e=>{if(e.name===n.name){const t=await Fe.get(n.name);n.preventBlur||t.once("blurred",(async()=>{if(xe(e,0),t.hide(),Me({name:n.name,data:{actionName:"Cancel"}}),a=t.identity.name,[g.Q.BrowserSaveMenu,g.Q.DesktopSignalsModal].includes(a)){const e=await t.getOptions();"submitting"!==e.customContext&&"error"!==e.customContext&&t.close()}else t.identity.name.startsWith(g.Q.BrowserMenu)&&t.close();var a})),setTimeout((async()=>{await xe(e,1);1!==(await fin.Window.wrapSync(e).getOptions()).opacity&&xe(e,1)})),r(t)}}));const o=(async()=>{const r=await fin.Platform.getCurrentSync().createWindow(m({...n,opacity:0,url:t||n.url,defaultLeft:a?.left,defaultTop:a?.top,defaultWidth:a?.width,defaultHeight:a?.height,workspacePlatform:{preventBlur:e.preventBlur}},!0));return r.once("closed",(()=>{Fe.delete(n.name)})),r})();Fe.set(n.name,o)}))}return Fe.get(n.name)}async function Te(e,t){const a=Ce(e),n={top:a.top,left:a.left,width:a.defaultWidth||a.width,height:a.defaultHeight||a.height};return t.set("parentName",fin.Window.getCurrentSync().identity.name),{name:a.name,bounds:n,route:`${a.url}#${t.toString()}`}}async function De({options:e,parameters:t}){const a=t??new URLSearchParams,n=Ce(e),{name:r,modalParentIdentity:o}=n;if(!a.has("isEnterprise")){const e=`${await(async e=>(q||(q=await z(e)),q))(o)}`;a.set("isEnterprise",e)}let i=await async function(e){return(await Ie()).find((t=>t.identity.name===e))}(r);if(i)await async function(e,t){const{name:a,bounds:n,route:r}=await Te(e,t),o={uuid:fin.me.identity.uuid,name:a},i=fin.Window.wrapSync(o);await Promise.all([i.hide(),xe(o,0),i.setBounds(n)]),e.preventBlur||i.once("blurred",(()=>{xe(o,0),i.hide(),Me({name:o.name,data:{actionName:"Cancel"}})})),Ae.emit("update",a,n,r),await Me({name:a,data:{actionName:"Cancel"}})}(n,a);else{const{route:t,bounds:r}=await Te(e,a);i=await We({...n},t,r)}return i}const Oe=e=>({createPage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.CreateSavedPageInternal,t),deletePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.DeleteSavedPageInternal,t),updatePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.UpdateSavedPageInternal,t),getPage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetSavedPage,t),getPages:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.GetSavedPages,t),savePage:async t=>(await(0,ae.bW)(e)).dispatch(ae.OF.SavePage,t),createWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.CreateSavedWorkspace,t),deleteWorkspace:async t=>{const a=Ue(),n=await a.getCurrentWorkspace();if(n.workspaceId===t)throw new Error(`Cannot delete current active workspace ${n.title}`);return(await(0,ae.N)(e)).dispatch(ae.OF.DeleteSavedWorkspace,t)},updateWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.UpdateSavedWorkspace,t),getWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSavedWorkspace,t),getWorkspaces:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSavedWorkspaces,t),getWorkspacesMetadata:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSavedWorkspacesMetadata,t),saveWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SaveWorkspace,t),getDockProviderConfig:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetDockProviderConfig,t),saveDockProviderConfig:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SaveDockProviderConfig,t)});var Ee;!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(Ee||(Ee={}));(0,re.A)("of-workspace-notifications-sync");a(695);var _e=a(898);const Be=r.qT.System,Re=e=>Object.entries(e).reduce(((e,[t,a])=>`${e}--workspace-palette-${t}: ${a};`),""),$e=(e,t)=>{const a=!!e.contentBackground5&&"#000000"!==e.contentBackground5,n=!!e.contentBackground4&&"#000000"!==e.contentBackground4,r=(0,_e.b4)(e.textDefault),o=(0,_e.b4)(e.textInactive),i=r.rgb,s=o.rgb,c=r.alpha?parseFloat(r.alpha.toString()):1,d=o.alpha?parseFloat(o.alpha.toString()):1;return{dockExpandedContainerBorderColor:a?e.contentBackground5:e.background4,dockExpandedContainerBorderRadius:a&&t?"0":"10px",dockExpandedContainerBackground:n?e.contentBackground4:e.background1,fillerBackgroundColor:n?e.contentBackground4:"inherit",dockCompanionContainerBackground:n?e.contentBackground4:"inherit",dockComponentContainerBackground:a?e.contentBackground5:e.background5,styledDropdownActiveBackground:`${a?e.contentBackground5:e.background4}`,contentMenuWrapperInternalDivBorderColor:a?e.contentBackground5:e.background5,contentMenuItemContainerActiveBackground:a?e.contentBackground5:e.background3,contentMenuItemContainerHoverBackground:a?e.contentBackground5:e.background2,contentMenuHeaderBorderColor:a?e.contentBackground5:e.background5,dockCompanionSeparatorBorderColor:a?e.contentBackground5:e.background3,dockComponentContainerBorderColor:a?e.contentBackground5:e.background5,companionDockButtonActiveBackground:a?e.contentBackground5:e.background4,companionDockButtonHoverBackground:a?e.contentBackground5:e.background4,"computed-scrollbar-thumb-alpha":c,"computed-scrollbar-track-alpha":d,"scrollbar-thumb-rgb":i,"scrollbar-track-rgb":s}},Le=(e,t,a)=>({selectedTab:"dark"===t?e.background3:e.background1,...$e(e,a)});new class{constructor(e){this.providerStorage=e,this.getVarsByScheme=e=>"dark"===e?this.darkPaletteVars:this.lightPaletteVars,this.setWorkspaceStorage=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=()=>{if(this.workspaceStorage){const e=this.getScheme();if(this.workspaceStorage.setItem(D.SelectedColorScheme,e),this.darkPaletteVars&&this.lightPaletteVars)if("dark"===e||"light"===e)this.workspaceStorage.setItem(D.ThemePaletteSheet,`:root{${this.getVarsByScheme(e)}}`);else{const e=`@media (prefers-color-scheme: dark){:root {${this.getVarsByScheme("dark")}}}`,t=`@media (prefers-color-scheme: light){:root{${this.getVarsByScheme("light")}}}`;this.workspaceStorage.setItem(D.ThemePaletteSheet,`${t}${e}`)}}},this.setPalettes=async({light:e,dark:t},a)=>{this.lightPaletteVars=Re({...e,...Le(e,"light",a)}),this.darkPaletteVars=Re({...t,...Le(t,"dark",a)})}}setScheme(e){this.providerStorage.setItem(D.SelectedColorScheme,e)}getScheme(){return null===this.providerStorage.getItem(D.SelectedColorScheme)&&this.providerStorage.setItem(D.SelectedColorScheme,Be),this.providerStorage.getItem(D.SelectedColorScheme)}}(n);const Ne=e=>({getThemes:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetThemes,void 0),setSelectedScheme:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetSelectedScheme,t),getSelectedScheme:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetSelectedScheme,void 0)}),Ge=e=>{const t=fin.Platform.wrapSync(e);let a;const n=Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),getViewSnapshot:t=>fin.Platform.wrapSync(e).getViewSnapshot(t),createView:(t,a,n)=>fin.Platform.wrapSync(e).createView(t,a,n),launchApp:async t=>{console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),t.target||(t.target={uuid:o.$h,name:o.vL,entityType:o.fT||"unknown"});return(await(0,ae.N)(e)).dispatch(ae.OF.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await(0,ae.N)(e),o={actionId:t,payload:{...a,callerType:a.callerType||r.vc.API}};return n.dispatch(ae.OF.InvokeCustomActionInternal,o)},_requestQuitPlatformDialog:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.RequestQuitPlatformDialogInternal,t),_showUpdateVersionModal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.ShowUpdateVersionModalInternal,t),getCurrentWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.GetCurrentWorkspace,t),applyWorkspace:async(t,a)=>(await(0,ae.N)(e)).dispatch(ae.OF.ApplyWorkspace,{...t,options:a}),restoreLastSavedWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.RestoreLastSavedWorkspaceInternal,t),setActiveWorkspace:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetActiveWorkspace,t),getLanguage:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetLanguage),_getLanguageResources:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetLanguageResourcesInternal),setLanguage:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetLanguage,t),_raiseAnalytics:async t=>{if(a||(a=await(0,ae.KZ)(e)),"object"==typeof a&&a?.analytics?.isSupported){return(await(0,ae.N)(e)).dispatch(ae.OF.Analytics,t)}e.uuid},getNotificationsConfig:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetNotificationsConfig),_refreshBookmarksInternal:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.RefreshBookmarksInternal),_launchBookmarkInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.LaunchBookmarkInternal,t),_updateDockFavoritesInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.UpdateDockFavoritesInternal,t),_updateContentMenuInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.UpdateContentMenuInternal,t),_launchDockEntryInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.LaunchDockEntryInternal,t),_setDockFavoritesInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetDockFavoritesOrderInternal,t),_setDefaultDockButtonsOrderInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.SetDefaultDockButtonsOrderInternal,t),_removeDockFavoriteInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.RemoveDockFavoriteInternal,t),_addDockFavoriteInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.AddDockFavoriteInternal,t),_navigateContentMenuInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.NavigateContentMenuInternal,t),_openDockWorkspacesContextMenuInternal:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async t=>(await(0,ae.N)(e)).dispatch(ae.OF.HandleDockWorkspacesMenuResponseInternal,t),_focusAndExpandSearchInternal:async()=>(await(0,ae.N)(e)).dispatch(ae.OF.FocusAndExpandSearchInternal),_showAboutPagePopup:async e=>(async e=>{const t=new URLSearchParams({...e,title:"About"}),a=await b(fin.me.identity),n=e.copyrightMessage?320:286,r=(0,g.Xq)(a,{height:n,width:360});return De({options:{frame:!0,smallWindow:!0,saveWindowState:!1,showTaskbarIcon:!0,includeInSnapshots:!1,workspacePlatform:{windowType:"enterprise"},resizable:!1,name:g.Q.AboutPageWindow,url:await f()+i.Ay.EnterpriseAboutPage,defaultWidth:360,defaultHeight:n,preventBlur:!0,...r},parameters:t})})(e),Theme:Ne(e),Browser:we(e),Storage:Oe(e)});return n},Ue=()=>Ge(fin.me.identity);const Ve=(e,t)=>e.content?{...e,content:e.content.map((e=>Ve(e,t)))}:{...e,componentState:t(e.componentState)},He=e=>({...e,name:void 0}),ze=e=>{const t={...e};return Ve(t,He)},qe=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=qe(e.content);t.push(...a)})),t};new Map,new Map;const je=async(e,t)=>{const a=(e=>{const t=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const a=await t.getConfig(),{settings:n,dimensions:r}=a,o=await z(e);await t.replace({...a,settings:{...n,hasHeaders:!0,reorderEnabled:!0},dimensions:{...r,headerHeight:o?28:30}})},hide:async e=>{const a=await t.getConfig(),{settings:n,dimensions:r}=await a;await t.replace({...a,settings:{...n,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...r,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await t.getConfig(),{settings:a}=await e;return a.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}})({...g.$p,layoutName:e.layoutContainerKey}),n=await a.isShowingTabs();t>1?n||await a.show():1===t&&n&&await a.hide({settings:{reorderEnabled:!0}})},Ke=(X()((async e=>{try{if(!e||!e.layoutContainerKey)return;const t=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),a=t.content?qe(t.content):[],n=a.length;n>1?(async e=>{if("multiView"!==e.attachedPageType){const t=await Ue().Browser.getUniquePageTitle();Ue().Browser.wrapSync(g.$p).updatePage({pageId:e.pageId,page:{title:e.title??t,singleViewName:null,attachedPageType:"multiView"}})}})(e):1===n&&(async(e,t)=>{const a=Ue().Browser.wrapSync(g.$p);if("singleView"!==e.attachedPageType){const n=await te(e);delete n.layout,delete n.pageId;const r=fin.View.wrapSync({uuid:g.$p.uuid,name:t}),o=await r.getInfo(),i={...n,title:null,singleViewName:t,hasUnsavedChanges:!1,attachedPageType:"singleView",pageIcon:o.favicons[0]};await a.updatePage({pageId:e.pageId,page:i})}})(e,a[0].name),await je(e,n)}catch(e){}}),50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js"),__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js"));a.n(Ke)().t;new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise((e=>{this.locked?this.queue.push(e):(this.locked=!0,e())}))}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};new Map;const Xe=m({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});!function(e=Xe){const t=new Map}();new Map;Date.now();X()((async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let t,a=!1;for(const n of e)if(n.identity.name===g.Q.BrowserMenu||n.identity.name===g.Q.BrowserSaveMenu?t=n:await(0,g.hb)(n.identity)&&(a=!0),a)break;!a&&t&&t.close()}),100,{leading:!1,trailing:!0});var Qe,Ye;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(Qe||(Qe={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu",e.ZoomControls="zoom-controls"}(Ye||(Ye={}));const Ze="visited-sites",Je="removed-tab-stack",et=(o.AT&&o.cI&&_("openfin-home-pages","pages"),o.AT&&o.cI&&new A.Dexie(O("openfin-enterprise-site-history")));et&&et.version(.1).stores({[Ze]:"id, url"});const tt=o.AT&&o.cI&&new A.Dexie(O("openfin-enterprise-tab-history"));tt&&tt.version(.1).stores({[Je]:""});var at;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(at||(at={}));at.Separator;a(995);new Map([["blue",{name:"Blue",color:"#0091EB"}],["indigo",{name:"Indigo",color:"#6450FF"}],["pink",{name:"Pink",color:"#E878CF"}],["teal",{name:"Teal",color:"#24D1D1"}],["green",{name:"Green",color:"#00AF78"}],["orange",{name:"Orange",color:"#FF7D37"}],["red",{name:"Red",color:"#F94144"}],["yellow",{name:"Yellow",color:"#F9C74F"}],["gray",{name:"Gray",color:"#828788"}]]);var nt;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(nt||(nt={}));(0,re.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`);const rt="dock-provider-configs",ot=o.AT&&o.cI&&new A.Dexie(O("dock-provider-configs"));ot&&ot.version(.1).stores({[rt]:""});const it="workspaces";o.AT&&o.cI&&_("openfin-workspace-platform-workspaces",it);a(250);a(179)},675:(e,t,a)=>{"use strict";a.d(t,{qT:()=>o,vc:()=>h});var n,r,o,i,s,c,d,l,u,p,h;a(179),a(250);!function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(n||(n={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.ManageDesktopSignals="ManageDesktopSignals",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(r||(r={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(o||(o={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.ManageDesktopSignals="ManageDesktopSignals",e.AddToChannel="AddToChannel",e.Custom="Custom"}(i||(i={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.ManageDesktopSignals="ManageDesktopSignals",e.Print="Print",e.Pin="Pin"}(s||(s={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(c||(c={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(d||(d={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(l||(l={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(u||(u={})),function(e){e.Browser="browser",e.Platform="platform"}(p||(p={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={}));var f;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(f||(f={}))},248:(e,t,a)=>{"use strict";a.d(t,{H:()=>o});var n=a(438),r=a(786);const o=(e,t)=>{r.A.markStart(`${e}-registration`),(0,n.BY)().once("started",(()=>r.A.markAndMeasure("workspace-app-started",`${e}-registration`)));const a=fin.Window.wrapSync(t);a.once("initialized",(()=>r.A.markAndMeasure(`${e}-window-initialized`,`${e}-registration`))),a.once("shown",(()=>{r.A.markAndMeasure(`${e}-show`,`${e}-registration`)}))}},834:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLIAction:()=>x.PK,CLIFilterOptionType:()=>x.oo,CLITemplate:()=>x.fC,deregister:()=>F,hide:()=>T,register:()=>I,show:()=>W});var n=a(723),r=a(786),o=a(277),i=a(70);const s="0",c="2",d="3",l="5",u="6";var p=a(695),h=a(79),f=a(870);var g=a(905);const m=()=>{};function w(e){const t={};let a=[];let n=[];let r=null;let o=g.Zo.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>a,t.setResultBuffer=e=>{a=e,a?.length&&t.onChange()},t.getRevokedBuffer=()=>n,t.setRevokedBuffer=e=>{n=e,n?.length&&t.onChange()},t.setUpdatedContext=e=>{r=e,null!==r&&t.onChange()},t.getUpdatedContext=()=>r,t.onChange=m;const i={};return t.res=i,i.close=()=>{o!==g.Zo.Close&&(o=g.Zo.Close,t.onChange())},i.open=()=>{o!==g.Zo.Open&&(o=g.Zo.Open,t.onChange())},i.respond=a=>{const n=function(e=[],t=[],a="ascending"){const n=[],r=new Map;t.forEach((e=>{if(e.key)return r.set(e.key,e);n.push(e)}));let o=e.map((e=>{if(e.key){const t=r.get(e.key);if(t)return r.delete(e.key),t}return e}));return o.push(...r.values(),...n),o="ascending"===a?o.sort(((e,t)=>(e?.score??1/0)-(t?.score??1/0))):o.sort(((e,t)=>(t?.score??1/0)-(e?.score??1/0))),o}(t.getResultBuffer(),a,e);t.setResultBuffer(n)},i.revoke=(...e)=>{const a=new Set(e),n=t.getResultBuffer().filter((({key:e})=>{const t=a.has(e);return t&&a.delete(e),!t}));t.setResultBuffer(n),a.size&&(t.getRevokedBuffer().forEach((e=>a.add(e))),t.setRevokedBuffer([...a]))},i.updateContext=e=>{t.setUpdatedContext(e)},t}const y=new Map;async function k(e){const{id:t,providerId:a}=e,n=P.getProviderOrFail(a);let r=y.get(t);r||(r=function(e,t){const a=new Set;let n=!1;return{close:()=>{n=!0;for(const e of a)e()},req:{id:e,...t,context:t?.context||{},onClose:e=>{a.add(e),n&&e()},removeListener:e=>{a.delete(e)}}}}(t,e),y.set(t,r));const o=w(),i=()=>{const e=o.getResultBuffer();o.setResultBuffer([]);const n=o.getRevokedBuffer();o.setRevokedBuffer([]);const r=o.getUpdatedContext();o.setUpdatedContext(null);const i=o.getStatus();!async function(e){(await(0,p.gj)()).dispatch(s,e)}({id:t,providerId:a,results:e,revoked:n,status:i,context:r})};let c=!0,d=!1;o.onChange=()=>{if(c)return c=!1,void i();d||(d=!0,setTimeout((()=>{d=!1,i()}),100))};try{const{results:e,context:i}=await n.onUserInput(r.req,o.res),s=o.getStatus();return{id:t,providerId:a,status:s,results:e,context:i}}catch(e){return console.error(`OpenFin/Workspace/Home. Uncaught exception in search provider ${a} for search ${t}`,"This is likely a bug in the implementation of the search provider.",e),{id:t,providerId:a,error:e?.message}}}async function v(){for(const{req:e,close:t}of y.values())t(),y.delete(e.id)}async function b(e,t){const a=P.getProviderOrFail(e.providerId);return e.result.dispatcherIdentity=t,a.onResultDispatch?.(e.result)}function S(e){const t=y.get(e.id);t?.close(),y.delete(e.id)}const P=new f.xM("home"),C=async e=>{await(0,p.nA)();!("skipPlatformInitCheck"in e&&!0===e.skipPlatformInitCheck)&&await(0,h.KZ)(fin.me.identity);P.assertNotAlreadyRegistered(e.id),P.setProvider(e);const t=await(0,p.gj)();return function(e){e.homeChannelActionsRegistered||(e.homeChannelActionsRegistered=!0,e.register(s,k),e.register(u,S),e.register(l,b),e.addDisconnectionListener(v))}(t),t.dispatch(c,{id:e.id,title:e.title,icon:e.icon,clientAPIVersion:n.et,identity:fin.me.identity,scoreOrder:e.scoreOrder,commandCode:e.commandCode,description:e.description,hidden:e.hidden,listTitle:e.listTitle,inputPlaceholder:e.inputPlaceholder,inputLandingPlaceholder:e.inputLandingPlaceholder,logoUrl:e.logoUrl,dispatchFocusEvents:e.dispatchFocusEvents})};var A=a(248),x=a(872);let M;const I=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);(0,A.H)("home",i.F2);const t=await C(e);return M=new Promise(((a,i)=>{try{(0,o.GR)({allowed:!0,componentVersion:t?.workspaceVersion}),n.et,a({...t,clientAPIVersion:n.et,setSearchQuery:async t=>(await(0,p.N7)()).dispatch("set-search-query",{query:t,providerID:e.id})})}catch(e){(0,o.GR)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),i(e)}finally{r.A.markEndAndMeasure("home-registration")}})),M},F=async e=>{P.deleteProvider(e);const t=await(0,p.gj)();await t.dispatch(d,e)};async function W(){r.A.markStart("home-show"),await M;const e=await(0,p.N7)();await e.dispatch("show-home",void 0)}async function T(){await M;const e=await(0,p.N7)();await e.dispatch("hide-home",void 0)}},870:(e,t,a)=>{"use strict";a.d(t,{xM:()=>s});var n=a(995);class r extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`${a} Provider. ${a} Provider${t?` with id ${t}`:""} is not currently registered.`)}}class o extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`${a} Provider. ${a} Provider${t?` with id ${t}`:""} is already registered. Call \`deregister\` before registering again.`)}}class i extends Error{constructor(e,t){const a=(0,n.titleCase)(e);super(`Failed to get ${a} Provider. ${a} Provider with id ${t} is not currently registered.`)}}class s{constructor(e){this.providersMap=new Map,this.providerType=e}assertNotAlreadyRegistered(e){if(this.hasProvider(e))throw new o(this.providerType,e)}assertRegistered(e){if(!this.hasProvider(e))throw new r(this.providerType,e)}getProvider(e){return this.providersMap.get(e)}hasProvider(e){return this.providersMap.has(e)}setProvider(e){this.providersMap.set(e.id,e)}deleteProvider(e){this.providersMap.delete(e)}getProviderOrFail(e){const t=this.getProvider(e);if(!t)throw new i(this.providerType,e);return t}clearProviders(){this.providersMap.clear()}}},129:(e,t,a)=>{"use strict";var n,r,o;a.d(t,{P:()=>r,R:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(n||(n={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))},600:(e,t,a)=>{"use strict";var n;a.d(t,{a:()=>n}),function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(n||(n={}))},872:(e,t,a)=>{"use strict";var n,r,o;a.d(t,{PK:()=>n,fC:()=>r,oo:()=>o}),function(e){e.Suggestion="suggestion"}(n||(n={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(o||(o={}))},179:(e,t,a)=>{"use strict";a(129),a(872),a(710),a(184),a(600)},710:(e,t,a)=>{"use strict";var n,r;a.d(t,{v:()=>n,z:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(n||(n={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},184:(e,t,a)=>{"use strict";a.d(t,{SM:()=>o,ce:()=>n,in:()=>i,np:()=>r});const n={Container:"Container",Button:"Button",SplitButton:"SplitButton"},r={Text:"Text",Image:"Image",List:"List"},o={...n,...r};var i;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(i||(i={}))},598:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppManifestType:()=>o.v,StorefrontTemplate:()=>o.z,deregister:()=>y,hide:()=>k,register:()=>w,show:()=>v});var n=a(277),r=a(695),o=a(710),i=a(723),s=a(786),c=a(70),d=a(79),l=a(870);let u=!1;async function p(e,t,a){const n=await(0,r.p4)();try{return await n.dispatch(e.action,e.payload)}catch(r){if(r instanceof Error&&-1!==r.toString().indexOf(e.action))return u||console.warn("You are using a newer version of the Workspace client library that is not supported by the currently running workspace provider. Please upgrade the Workspace to version 9.0 or later."),u=!0,await n.dispatch(t.action,t.payload),a;throw r}}const h=new l.xM("storefront"),f=async e=>{await(0,d.KZ)(fin.me.identity);const t=await(0,r.N7)();return h.assertNotAlreadyRegistered(e.id),h.setProvider(e),(e=>{e.storefrontChannelActionsRegistered||(e.storefrontChannelActionsRegistered=!0,e.register("get-storefront-provider-apps",(e=>h.getProviderOrFail(e).getApps())),e.register("get-storefront-provider-footer",(e=>h.getProviderOrFail(e).getFooter())),e.register("get-storefront-provider-landing-page",(e=>h.getProviderOrFail(e).getLandingPage())),e.register("get-storefront-provider-navigation",(e=>h.getProviderOrFail(e).getNavigation())),e.register("launch-storefront-provider-app",(({id:e,app:t})=>h.getProviderOrFail(e).launchApp(t))))})(t),e.clientAPIVersion=i.et,p({action:"register-provider",payload:{providerType:"storefront",info:e}},{action:"register-storefront-provider",payload:e},{workspaceVersion:"unknown"})};var g=a(248);let m;const w=async e=>{(0,g.H)("store",c.gQ);const t=await f(e);return m=new Promise(((a,o)=>{try{(0,n.xt)({allowed:!0,componentVersion:t?.workspaceVersion}),i.et,a({clientAPIVersion:i.et,workspaceVersion:t?.workspaceVersion??"",updateAppCardButtons:async t=>{const a=await(0,r.mQ)();await a.dispatch("update-app-card-button-config",{...t,id:e.id,title:e.title,icon:e.icon,platformIdentity:fin.me.identity})}})}catch(e){(0,n.xt)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),o(e)}finally{s.A.markEndAndMeasure("store-registration")}})),m},y=async e=>(await m,h.assertRegistered(e),h.deleteProvider(e),await(0,r.nA)(),p({action:"deregister-provider",payload:{providerType:"storefront",id:e}},{action:"deregister-storefront-provider",payload:e})),k=async()=>(await m,await(0,r.nA)(),p({action:"hide-provider-window",payload:{providerType:"storefront"}},{action:"hide-storefront"})),v=async()=>(s.A.markStart("store-show"),await m,await(0,r.nA)(),p({action:"show-provider-window",payload:{providerType:"storefront"}},{action:"show-storefront"}))},250:(e,t,a)=>{"use strict";var n;!function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(n||(n={}))},79:(e,t,a)=>{"use strict";var n;a.d(t,{KZ:()=>o,N:()=>i,OF:()=>n,bW:()=>s}),function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.GetSavedWorkspacesMetadata="getSavedWorkspacesMetadata",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal",e.SendUpdateVersionModalResponseInternal="sendUpdateVersionModalResponseInternal",e.ShowUpdateVersionModalInternal="showUpdateVersionModalInternal"}(n||(n={}));const r=async e=>fin.Platform.wrapSync(e).getClient(),o=async e=>{const t=await r(e),a="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let n;try{n=await t.dispatch("isWorkspacePlatform")}catch(e){throw new Error(a)}if("boolean"==typeof n&&n)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),n;if("object"==typeof n&&n.isWorkspacePlatform)return n;throw new Error(a)},i=async e=>(await o(e),r(e)),s=async e=>{const t=await o(e);if("object"==typeof t&&!0!==t?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return r(e)}},695:(e,t,a)=>{"use strict";a.d(t,{N7:()=>f,gj:()=>l,mQ:()=>h,nA:()=>p,p4:()=>c});var n=a(102),r=a(723),o=a(70),i=a(905);const s=(0,n.A)("__of_workspace_protocol__"),c=s,d=s,l=(0,n.A)(i.BT),u=e=>{const t=new URL(e);return t.searchParams.append("isLaunchedViaLib","true"),t.toString()},p=async()=>{if(!await(0,o.C)(o.xt)){if(r.jw||-1===navigator.userAgent.indexOf("Win"))return void await fin.Application.startFromManifest(u(r.m7));await fin.System.openUrlWithBrowser(u(r.t8))}},h=async()=>(await p(),c()),f=async()=>(await p(),d())},905:(e,t,a)=>{"use strict";a.d(t,{BT:()=>n,Zo:()=>o});const n="__search-openfin-browser-home-topic__";var r,o;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(o||(o={}))},957:(e,t,a)=>{"use strict";a.d(t,{qq:()=>S,l5:()=>P});var n=a(847),r=a(898),o=a(70),i=a(254),s=a(675),c=a(877),d=a.n(c),l=a(67),u=a.n(l);const p={light:{symbol:u()?.src||""},dark:{symbol:d()?.src||""}};a(695);var h=a(79);const f="dark",g={[n.Palette.brandPrimary]:"#0A76D3",[n.Palette.brandPrimaryActive]:"#0A71C9",[n.Palette.brandPrimaryHover]:"#0B84EB",[n.Palette.brandPrimaryFocused]:n.Color.white,[n.Palette.brandPrimaryText]:n.Color.white,[n.Palette.statusSuccess]:n.Color.functional1,[n.Palette.statusWarning]:n.Color.functional10,[n.Palette.statusCritical]:n.Color.functional7,[n.Palette.statusActive]:n.Color.functional3,[n.Palette.contentBackground1]:"#0A76D3",[n.Palette.contentBackground2]:"#000000",[n.Palette.contentBackground3]:"#000000",[n.Palette.contentBackground4]:"#000000",[n.Palette.contentBackground5]:"#000000",[n.Palette.borderNeutral]:n.Color.silverGray},m={...g,[n.Palette.background1]:n.Color.white,[n.Palette.background2]:n.Color.lightGray1,[n.Palette.background3]:n.Color.lightGray2,[n.Palette.background4]:n.Color.lightGray3,[n.Palette.background5]:n.Color.lightGray4,[n.Palette.background6]:n.Color.lightGray5,[n.Palette.brandSecondary]:n.Color.lightGray4,[n.Palette.brandSecondaryActive]:n.Color.lightGray4Active,[n.Palette.brandSecondaryHover]:n.Color.lightGray4Hover,[n.Palette.brandSecondaryFocused]:n.Color.darkGray5,[n.Palette.brandSecondaryText]:n.Color.darkGray5,[n.Palette.inputBackground]:n.Color.lightGray3,[n.Palette.inputColor]:n.Color.darkGray5,[n.Palette.inputPlaceholder]:n.Color.darkGray2,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.darkGray5,[n.Palette.textHelp]:n.Color.darkGray3,[n.Palette.textInactive]:n.Color.neutralGray},w={...g,[n.Palette.background1]:n.Color.darkGray6,[n.Palette.background2]:n.Color.darkGray5,[n.Palette.background3]:n.Color.darkGray4,[n.Palette.background4]:n.Color.darkGray3,[n.Palette.background5]:n.Color.darkGray2,[n.Palette.background6]:n.Color.darkGray1,[n.Palette.brandSecondary]:n.Color.darkGray2,[n.Palette.brandSecondaryActive]:n.Color.darkGray2Active,[n.Palette.brandSecondaryHover]:n.Color.darkGray2Hover,[n.Palette.brandSecondaryFocused]:n.Color.white,[n.Palette.brandSecondaryText]:n.Color.white,[n.Palette.inputBackground]:n.Color.darkGray1,[n.Palette.inputColor]:n.Color.white,[n.Palette.inputPlaceholder]:n.Color.lightGray5,[n.Palette.inputDisabled]:n.Color.neutralGray,[n.Palette.inputFocused]:n.Color.lightGray5,[n.Palette.inputBorder]:n.Color.neutralGray,[n.Palette.textDefault]:n.Color.white,[n.Palette.textHelp]:n.Color.lightGray5,[n.Palette.textInactive]:n.Color.neutralGray},y=[{label:"OpenFin Default Light and Dark Theme",palettes:{light:{...m,backgroundPrimary:n.Color.darkGray5},dark:{...w,backgroundPrimary:n.Color.darkGray5}}}],k=e=>{const{background:t,foreground:a}=e;return{background:t,foreground:a??"#FFFFFF"}},v=(e,t)=>({icons:{symbol:e.brand?.icons?.[t]?.symbol||p[t].symbol}}),b=e=>{const{light:t,dark:a}="palettes"in e?e.palettes:{light:e.palette,dark:e.palette},o=(0,r.KD)(w,a),i=(0,r.KD)(m,t),s=((e,t)=>{const a={...e},n={...t};let o=t.backgroundPrimary?(0,r.pu)(t.backgroundPrimary,!0):{},i=e.backgroundPrimary?(0,r.pu)(e.backgroundPrimary):{};return o={...o,...n},i={...i,...a},{light:{...t,...o},dark:{...e,...i}}})(a,t),c={...(0,n.createTheme)({...o,...s?.dark}),brand:v(e,"dark")},d={...(0,n.createTheme)({...i,...s?.light}),brand:v(e,"light")},{light:l,dark:u}=(e=>{const t=Object.keys(e.notificationIndicatorColors??{});if(t?.length){const a={},n={};return t.forEach((t=>{const r=e.notificationIndicatorColors[t];"background"in r?(a[t]=k(r),n[t]=k(r)):(a[t]=k(r.dark??r.light),n[t]=k(r.light??r.dark))})),{light:n,dark:a}}return{light:null,dark:null}})(e);return c.notificationIndicatorColors=u,d.notificationIndicatorColors=l,{dark:c,light:d}},S=async e=>{const{themes:t,selectedScheme:a}=await(async e=>{const t=fin?.__internal_?.initialOptions?.workspacePlatform?._themeData;if(!t||e.uuid!==o.$p.uuid)return{themes:await(0,i.Ag)(e).Theme.getThemes(),selectedScheme:await(0,i.Ag)(e).Theme.getSelectedScheme()};return t})(e);var n,r;return(n=t?.length?t:y,r=a,n.map((e=>{const t="palettes"in e?e.default:f,{light:a,dark:n}=b(e);return{label:e.label,logoUrl:e.logoUrl,theme:{dark:n,light:a},defaultScheme:r??t}})))[0]},P=async e=>{const t=await(0,h.N)(e||fin.me.identity),a=await t.dispatch(h.OF.GetSelectedScheme,void 0);return a===s.qT.System?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a}},438:(e,t,a)=>{"use strict";a.d(t,{BY:()=>l,MW:()=>n,v1:()=>d});var n,r,o=a(723);!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(n||(n={})),function(e){e.FinProtocol="fin-protocol"}(r||(r={}));const i={uuid:o.$h},s={uuid:n.Workspace},c=e=>{if(!o.cI)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)},d=()=>c(i),l=()=>c(s)},102:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(723);const r=n.YY&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function o(e){let t;const a=new Set;return()=>{if(!n.cI)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const o={clientAPIVersion:n.et},i=await fin.InterApplicationBus.Channel.connect(e,{payload:o});return i.onDisconnection((async()=>{a.forEach((e=>e())),a.clear(),console.warn(`disconnected from channel provider ${e}`),t=void 0})),i})().then((e=>(e.addDisconnectionListener=e=>{a.add(e)},e))).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}},723:(e,t,a)=>{"use strict";var n;a.d(t,{$h:()=>c,AT:()=>i,Hd:()=>p,YY:()=>o,bD:()=>m,cI:()=>r,et:()=>w,fT:()=>l,jw:()=>u,m7:()=>f,t8:()=>h,vL:()=>d}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(n||(n={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,o=("undefined"==typeof process||process.env,"undefined"!=typeof window),i=o&&"undefined"!=typeof indexedDB,s=o?window.origin:n.Local,c=r&&fin.me.uuid,d=r&&fin.me.name,l=r&&fin.me.entityType,u="prod"===n.Local,p=(n.Dev,n.Staging,"prod"===n.Prod),h="fins://system-apps/workspace",f="https://workspace.openfin.co/workspace/22.3.9/app.json",g=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,m=(g("https://workspace.openfin.co/workspace/22.3.9"),g("https://workspace.openfin.co/workspace/22.3.9")),w=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&g(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&g(WORKSPACE_DOCS_CLIENT_URL),"22.3.9");"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA},786:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const n="of-workspace-";const r=new class{mark(e){performance.mark(`${n}${e}`)}markStart(e){performance.mark(`${n}${e}-start`)}markEnd(e){performance.mark(`${n}${e}-end`)}markEndAndMeasure(e){performance.mark(`${n}${e}-end`);try{return performance.measure(`${n}${e}`,`${n}${e}-start`,`${n}${e}-end`)}catch(e){0}}markAndMeasure(e,t){performance.mark(`${n}${e}`);try{return performance.measure(`${n}${e}-measure`,`${n}${t}-start`,`${n}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter((e=>e.name.startsWith(n)))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map((e=>({name:e.name.replace(`${n}`,"").replace("-measure",""),duration:e.duration})))}}},181:(e,t,a)=>{"use strict";var n,r;a.d(t,{Ay:()=>d,sP:()=>s}),function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(n||(n={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseLandingPage="/enterprise/landing/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseAboutPage="/popup-menu/about/",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/",e.ZoomControlsDialog="/zoom-controls-dialog/",e.DesktopSignalsModal="/popup-menu/desktop-signals-modal/"}(r||(r={}));const o={...n,...r},i="/microsoft-365-integration-assets/",s={IconOpenFinLogo:"/icons/openfinlogo.svg",IconFilter:"/icons/filter.svg",LightStorefront:"/icons/store-icon-light.png",DarkStorefront:"/icons/store-icon-dark.png",CallIconLight:"/icons/call-icon-light.svg",CallIconDark:"/icons/call-icon-dark.svg",ChatIconLight:"/icons/chat-icon-light.svg",ChatIconDark:"/icons/chat-icon-dark.svg",MessageIconLight:"/icons/message-icon-light.svg",MessageIconDark:"/icons/message-icon-dark.svg",Microsoft365Assets:{Microsoft365DocumentIcon:`${i}microsoft-365-document-icon.svg`,Microsoft365ExcelIcon:`${i}microsoft-365-excel-icon.svg`,Microsoft365PowerpointIcon:`${i}microsoft-365-powerpoint-icon.svg`,Microsoft365OutlookIcon:`${i}microsoft-365-outlook-icon.svg`,Microsoft365TeamsIcon:`${i}microsoft-365-teams-icon.svg`,Microsoft365Icon:`${i}microsoft-365-icon.svg`,PDFFileIcon:`${i}pdf-file-icon.svg`},DockIconLight:"/icons/dock-icon-light.png",DockIconDark:"/icons/dock-icon-dark.png"};var c;!function(e){e.Search="search"}(c||(c={}));const d=o},523:(e,t,a)=>{"use strict";a.d(t,{OX:()=>i,Tt:()=>s});var n,r=a(723);!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(n||(n={}));const o="/workspace/22.3.9";function i(e){return o+e}function s(e,t){if(!r.YY)throw new Error("resolveAbsolutePath can only be used in a window");const a=t??window.location;if(/^(?:[a-z]+:)?\/\//i.test(e))return e;const n=`${a.protocol}//${a.hostname}`;return new URL(e,n).href}},898:(e,t,a)=>{"use strict";a.d(t,{KD:()=>c,b4:()=>i,pu:()=>s});const n=e=>e.replace(/[^\d,]/g,"").split(","),r=e=>{if(e.length<2)throw new Error("Invalid color object, cannot convert to HSL.");const t=e[0]/255,a=e[1]/255,n=e[2]/255,r=Math.min(t,a,n),o=Math.max(t,a,n),i=o-r;let s=0,c=0,d=0;return s=0===i?0:o===t?(a-n)/i%6:o===a?(n-t)/i+2:(t-a)/i+4,s=Math.round(60*s),s<0&&(s+=360),d=(o+r)/2,c=0==i?0:i/(1-Math.abs(2*d-1)),c=+(100*c).toFixed(1),d=+(100*d).toFixed(1),{hsl:`hsl(${s}, ${c}%, ${d}%)`,hsla:`hsl(${s}, ${c}%, ${d}%, 1)`,hue:s,lightness:d,saturation:c}},o=e=>{if(!e.includes("#"))throw new Error("Invalid hex value, cannot convert to RGB. Hex value begins with a hashtag.");let t=0,a=0,n=0;if(4===e.length)t=`0x${e[1]}${e[1]}`,a=`0x${e[2]}${e[2]}`,n=`0x${e[3]}${e[3]}`;else{if(7!==e.length)throw new Error("Invalid hex string length, cannot convert to RGB.");t=`0x${e[1]}${e[2]}`,a=`0x${e[3]}${e[4]}`,n=`0x${e[5]}${e[6]}`}return[+t,+a,+n]},i=e=>{const t=e;if(t.startsWith("#")){return{rgb:o(t).join(", "),alpha:1}}const a=t.match(/\d{1,3}(\.\d+)?/g);if(a){const[e,t,n,r]=a;return{rgb:`${e}, ${t}, ${n}`,alpha:void 0!==r?parseFloat(r):1}}return{rgb:o(e).join(", "),alpha:1}},s=(e,t=!1)=>{const a=(e=>{if(!e)throw new Error("Color is not defined");const t=e.toLowerCase();let a;if(t.includes("rgb")){const e=n(t);e.length>3&&e.pop(),a=r(e).hue}if(t.includes("#")){const e=o(t);a=r(e).hue}t.includes("hsl")&&(a=n(t)[0]);const i=a?.toString();if(!i)throw new Error(`Hue was unable to be extracted from "${t}", check color format. Accepted formats are: rgb(), rgba(), hex, hsl(), and hsla()`);return i})(e);return t?{background1:`hsla(${a}, 0%, 100%, 1)`,background2:`hsla(${a}, 67%, 99%, 1)`,background3:`hsla(${a}, 26%, 96%, 1)`,background4:`hsla(${a}, 15%, 94%, 1)`,background5:`hsla(${a}, 10%, 88%, 1)`,background6:`hsla(${a}, 80%, 80%, 1)`}:{background1:`hsla(${a}, 8%, 7%, 1)`,background2:`hsla(${a}, 8%, 13%, 1)`,background3:`hsla(${a}, 9%, 15%, 1)`,background4:`hsla(${a}, 6%, 23%, 1)`,background5:`hsla(${a}, 21%, 28%, 1)`,background6:`hsla(${a}, 5%, 51%, 1)`}},c=(e,t)=>{const a={};return Object.keys(e).forEach((n=>{a[n]=t[n]?t[n]:e[n]})),a}},277:(e,t,a)=>{"use strict";a.d(t,{GR:()=>s,ki:()=>d,xt:()=>c});var n,r=a(723),o=a(70);a(254);!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(n||(n={}));const i=async(e,t,a="workspace-licensing")=>{const n={apiVersion:t.apiVersion||r.et,componentName:e,componentVersion:t.componentVersion||r.et,allowed:t.allowed,rejectionCode:t.rejectionCode};fin.System.registerUsage({type:a,data:n})};const s=e=>{o.F2.uuid===o.$p.uuid&&o.F2.name===o.$p.name||i(n.Home,e)},c=e=>{i(n.Storefront,e)},d=e=>{i(n.Dock,e)};new Map},333:(e,t,a)=>{"use strict";function n(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}a.d(t,{N:()=>n})},70:(e,t,a)=>{"use strict";a.d(t,{$p:()=>l,C:()=>y,F2:()=>p,Io:()=>w,Iq:()=>d,Q:()=>n,T7:()=>h,Tv:()=>u,V1:()=>i,VE:()=>s,Xq:()=>c,gQ:()=>f,hb:()=>m,ur:()=>k,xt:()=>g});var n,r=a(438),o=a(723);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.DockCompanion="openfin-dock-companion",e.AICompanionPrefix="openfin-ai-companion-",e.UpdateVersionModal="here-update-version-modal",e.ZoomControlsDialog="here-zoom-controls-dialog",e.AboutPageWindow="here-about-page",e.DesktopSignalsModal="here-desktop-signals-modal"}(n||(n={}));const i=e=>({left:(e.left+(e.right??e.left+e.width))/2,top:(e.top+(e.bottom??e.top+e.height))/2}),s=e=>({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}),c=(e,t)=>{const a=t.width/2,n=t.height/2;return{left:Math.round(e.left-a),top:Math.round(e.top-n),width:t.width,height:t.height}};function d(e){if(!o.cI)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const l={name:o.vL,uuid:o.$h};function u(){return d(l)}const p={name:n.Home,uuid:r.MW.Workspace},h={name:n.Dock,uuid:r.MW.Workspace},f={name:n.Storefront,uuid:r.MW.Workspace},g={name:r.MW.Workspace,uuid:r.MW.Workspace};const m=async e=>{try{const t=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===t.workspacePlatform?.windowType||"enterprise"===t.workspacePlatform?.windowType)&&t.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}};async function w(){const e=await fin.Application.getCurrentSync().getChildWindows(),t=await Promise.all(e.map((async e=>m(e.identity))));return e.filter(((e,a)=>t[a]))}const y=e=>d(e).getInfo().then((()=>!0)).catch((()=>!1));async function k(e){const t=await fin.System.getMonitorInfo();return[t.primaryMonitor,...t.nonPrimaryMonitors].reduce(((t,a)=>{const n=function(e,t){const a=e.top,n=e.left,r=e.top+e.height,o=e.left+e.width,i=t.monitorRect.top,s=t.monitorRect.left,c=t.monitorRect.bottom,d=t.monitorRect.right;if(a>c||r<i||n>d||o<s)return 0;const l=Math.max(a,i),u=Math.max(n,s);return(Math.min(r,c)-l)*(Math.min(o,d)-u)/(e.height*e.width)}(e,a);return n>t.percentage?{percentage:n,monitor:a}:t}),{percentage:0,monitor:t.primaryMonitor}).monitor}},995:e=>{"use strict";e.exports=__webpack_require__(/*! title-case */ "../../node_modules/title-case/dist.es2015/index.js")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";a.r(n),a.d(n,{ActionTrigger:()=>Be.P,AppManifestType:()=>$e.v,ButtonStyle:()=>Re.in,CLIAction:()=>N.PK,CLIFilterOptionType:()=>N.oo,CLITemplate:()=>N.fC,ContainerTemplateFragmentNames:()=>Re.ce,Dock:()=>e,DockButtonNames:()=>u.a,Home:()=>S,Integrations:()=>t,PresentationTemplateFragmentNames:()=>Re.np,SearchTagBackground:()=>Be.R,Storefront:()=>_e,StorefrontTemplate:()=>$e.z,TemplateFragmentTypes:()=>Re.SM});var e={};a.r(e),a.d(e,{DockButtonNames:()=>u.a,deregister:()=>m,minimize:()=>w,register:()=>g,show:()=>y});var t={};a.r(t),a.d(t,{Microsoft365WorkflowIntegration:()=>Ee});var r=a(723),o=a(786),i=a(277),s=a(70),c=a(695),d=a(79);var l=a(248),u=a(600);let p,h;const f=(e=[])=>{const t=e.filter((e=>!!e.id)).map((e=>e.id));if(new Set(t).size!==t.length)throw new Error("Dock provider buttons must have unique identifiers if specified.")},g=async e=>{(0,l.H)("dock",s.T7);const t=await(async e=>{await(0,d.KZ)(fin.me.identity);const t=await(0,c.N7)();if(h)throw new Error("Error using `Dock.register`. A Dock provider for this Workspace Platform is already registered. Call `Dock.deregister` before calling `Dock.register` again.");return h=e,e.clientAPIVersion=r.et,t.dispatch("register-provider",{providerType:"dock",info:e})})(e);return p=new Promise(((a,n)=>{try{(e=>{e.workspaceComponents&&!Array.isArray(e.workspaceComponents)&&console.warn("Using the `WorkspaceComponentButtonOptions` type to configure the Workspace Components Buttons is deprecated. Please use `WorkspaceButtonsConfig` instead.")})(e),f(e.buttons),(0,i.ki)({allowed:!0,componentVersion:t?.workspaceVersion}),r.et,a({clientAPIVersion:r.et,workspaceVersion:t?.workspaceVersion??"",updateDockProviderConfig:async t=>{if(!h)throw new Error("Error using `Dock.updateDockProviderConfig`. Dock provider is not registered. Make sure to call `Dock.register` first.");f(t.buttons);const a=await(0,c.N7)();await a.dispatch("update-provider",{providerType:"dock",provider:{...e,workspaceComponents:t.workspaceComponents,buttons:t.buttons,title:t.title,icon:t.icon,disableUserRearrangement:t.disableUserRearrangement,id:e.id}})}})}catch(e){(0,i.ki)({allowed:!1,rejectionCode:e instanceof Error?e.message:"unknown"}),n(e),p=void 0}finally{o.A.markEndAndMeasure("dock-registration")}})),p},m=async()=>{if(await p,!h)throw new Error("Error using `Dock.deregister`. Dock provider is not registered. Call `Dock.register` before calling `Dock.deregister`.");const e=await(0,c.N7)();await e.dispatch("deregister-provider",{providerType:"dock",id:h.id}),h=void 0,p=void 0},w=async()=>{await p,await(0,c.nA)(),await(async e=>(await(0,c.p4)()).dispatch("hide-provider-window",{providerType:e}))("dock")},y=async()=>{o.A.markStart("dock-show"),await p,await(0,c.nA)(),await(async e=>(await(0,c.p4)()).dispatch("show-provider-window",{providerType:e}))("dock")};var k,v,b,S=a(834),P=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},C=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};k=new WeakMap,v=new WeakMap,b=new WeakMap;const A=class{constructor(e){k.set(this,void 0),v.set(this,void 0),b.set(this,void 0),P(this,k,e,"f"),P(this,v,new Map,"f"),P(this,b,[],"f")}get(e){if(C(this,v,"f").has(e))return this.updateQueue(e),C(this,v,"f").get(e)}has(e){return C(this,v,"f").has(e)}put(e,t){if(C(this,v,"f").has(e))C(this,v,"f").set(e,t),this.updateQueue(e);else{if(C(this,b,"f").length===C(this,k,"f")){const e=C(this,b,"f").shift();e&&C(this,v,"f").delete(e)}C(this,v,"f").set(e,t),C(this,b,"f").push(e)}}updateQueue(e){const t=C(this,b,"f").indexOf(e);-1!==t&&(C(this,b,"f").splice(t,1),C(this,b,"f").push(e))}};function x(e){return e&&"object"==typeof e&&!Array.isArray(e)}function M(e,...t){if(!t.length)return e;const a=t.shift();return x(e)&&x(a)&&Object.entries(a).forEach((([t,a])=>{if(x(a))return e[t]||(e[t]={}),M(e[t],a);e[t]=a})),M(e,...t)}var I,F,W,T,D,O=a(181),E=a(523),_=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a},B=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};F=new WeakMap,W=new WeakMap,T=new WeakMap,I=new WeakSet,D=function(){const e=Array.from(B(this,F,"f").entries()).reduce(((e,t)=>!e||t[1].timestamp<e[1].timestamp?t:e),null);return e?e[0]:null};const R=class{constructor(e=3e5,t=100){I.add(this),F.set(this,void 0),W.set(this,void 0),T.set(this,void 0),_(this,F,new Map,"f"),_(this,W,e,"f"),_(this,T,t,"f")}get(e){const t=B(this,F,"f").get(e);if(!t)return null;return Date.now()-t.timestamp<B(this,W,"f")?t.value:(B(this,F,"f").delete(e),null)}put(e,t){if(B(this,F,"f").size>=B(this,T,"f")){const e=B(this,I,"m",D).call(this);null!=e&&B(this,F,"f").delete(e)}B(this,F,"f").set(e,{value:t,timestamp:Date.now()})}remove(e){B(this,F,"f").delete(e)}clear(){B(this,F,"f").clear()}};var $,L=a(333),N=a(872),G=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)};const U={};class V{constructor(e){$.set(this,new Set),this._initializeWorkflows=async(e=this.config)=>{const{workflows:t}=e;for(const e in t){if(!t[e].disableAutoInitialize)try{G(this,$,"f").has(e)?console.warn(`Workflow ${e} already initialized.`):(G(this,$,"f").add(e),await this.initializeWorkflow(e))}catch(t){G(this,$,"f").delete(e),console.error(`Error registering ${e}:`,t)}}};const t=M({},U,e);this.config=t}async initializeWorkflow(e){G(this,$,"f").add(e)}}$=new WeakMap;const H=__webpack_require__(/*! @openfin/microsoft365 */ "../../node_modules/@openfin/microsoft365/openfin.ms365.js");let z=0;const q={chatMessage:"Chat Message",event:"Event",message:"Email",drive:"Document",contact:"Contact",user:"User",list:"List"},j={pdf:"PDF",docx:"Word",pptx:"PowerPoint",xlsx:"Excel",onenote:"OneNote"},K={chatMessage:["Chat.Read","ChannelMessage.Read.All"],list:["Sites.Read.All"],event:["Calendars.Read"],message:["Mail.ReadWrite.Shared"],contact:["Contacts.Read.Shared","Mail.ReadWrite.Shared"],user:["User.Read.All","Presence.Read.All"]},X="MICROSOFT_365_SEARCH_TYPE_FILTER",Q="MICROSOFT_365_SEARCH_FILE_TYPE_FILTER",Y="MICROSOFT_365_SEARCH_DEPARTMENT_FILTER",Z="MICROSOFT_365_SEARCH_JOB_TITLE_FILTER",J="Teams Call",ee="Teams Chat",te="Email",ae=(e,t)=>{const a=[],n={item:e.context.selectedFilters?.find((e=>e.id===X)),documentType:e.context.selectedFilters?.find((e=>e.id===Q))},r=[{value:"Document",isSelected:!!n.item?.options?.find((({value:e})=>"File"===e))?.isSelected},{value:"Contact",isSelected:!!n.item?.options?.find((({value:e})=>"Contact"===e))?.isSelected},{value:"Chat Message",isSelected:!!n.item?.options?.find((({value:e})=>"Chat Message"===e))?.isSelected},{value:"Email",isSelected:!!n.item?.options?.find((({value:e})=>"Email"===e))?.isSelected},{value:"Event",isSelected:!!n.item?.options?.find((({value:e})=>"Event"===e))?.isSelected},{value:"List",isSelected:!!n.item?.options?.find((({value:e})=>"List"===e))?.isSelected}];return a.push({id:X,title:"Type",type:N.oo.MultiSelect,options:r.filter((e=>t.has(e.value)))}),"Document"===n.item?.options?.filter((e=>e.isSelected))?.[0].value&&a.push({id:Q,title:"File Type",type:N.oo.MultiSelect,options:Object.entries(j).map((([,e])=>({value:e,isSelected:!!n.documentType?.options?.filter((e=>e.isSelected))?.find((({value:e})=>"File"===e))?.isSelected})))}),a},ne=(e,t)=>{const a=t.context.selectedFilters?.find((e=>e.id===X))?.options;if(!Array.isArray(a)||!a.find((e=>"Contact"===e.value||"User"===e.value))?.isSelected)return[];const{department:n,jobTitle:r}=e.reduce(((e,t)=>(t.department&&e.department.add(t.department),t.jobTitle&&e.jobTitle.add(t.jobTitle),e)),{department:new Set,jobTitle:new Set}),o=t.context.selectedFilters?.find((e=>e.id===Y)),i=Array.from(n).map((e=>({value:e,isSelected:!!o?.options?.find((({value:t})=>t===e))?.isSelected}))),s=t.context.selectedFilters?.find((e=>e.id===Y)),c=Array.from(r).map((e=>({value:e,isSelected:!!s?.options?.find((({value:t})=>t===e))?.isSelected})));return[{id:Y,title:"Department",type:N.oo.MultiSelect,options:i},{id:Z,title:"Job Title",type:N.oo.MultiSelect,options:c}]},re=e=>{const t=e.context.selectedFilters?.find((e=>e.id===Y)),a=Array.isArray(t?.options)?t.options.filter((e=>e.isSelected)).map((e=>e.value)):[],n=e.context.selectedFilters?.find((e=>e.id===Z));return{department:a,jobTitle:Array.isArray(n?.options)?n.options.filter((e=>e.isSelected)).map((e=>e.value)):[]}},oe=(e,t)=>{const{department:a,jobTitle:n}=t;return e.filter((e=>(!a.length||a.includes(e.department))&&(!n.length||n.includes(e.jobTitle))))},ie=e=>{const t=Array.isArray(e.context.selectedFilters?.find((e=>e.id===Q))?.options)?e.context.selectedFilters.find((e=>e.id===Q))?.options:[];return{filterFiles:t&&t.some((({isSelected:e})=>e)),showWord:t.find((({value:e})=>"Word"===e))?.isSelected,showExcel:t.find((({value:e})=>"Excel"===e))?.isSelected,showPowerPoint:t.find((({value:e})=>"PowerPoint"===e))?.isSelected,showPDF:t.find((({value:e})=>"PDF"===e))?.isSelected,showOneNote:t.find((({value:e})=>"OneNote"===e))?.isSelected}},se=(e,t)=>{const a=[];return t.showWord&&a.push(".docx"),t.showExcel&&a.push(".xlsx"),t.showPowerPoint&&a.push(".pptx"),t.showPDF&&a.push(".pdf"),t.showOneNote&&a.push(".one"),e.filter((e=>{if(e.file){const t=e.name.substring(e.name.lastIndexOf("."));return a.includes(t)}return!1}))},ce=(e="")=>{switch(e.split(".").pop()?.toLowerCase()??""){case"docx":case"doc":return"Microsoft Word";case"xlsx":case"xls":return"Microsoft Excel";case"pptx":case"ppt":return"Microsoft PowerPoint";case"pdf":return"PDF";case"png":case"jpg":case"jpeg":case"gif":return"Image";case"txt":return"Text";default:return"File"}},de=(e="")=>{switch(e.split(".").pop()?.toLowerCase()??""){case"docx":case"doc":return(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365DocumentIcon);case"xlsx":case"xls":return(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365ExcelIcon);case"pptx":case"ppt":return(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365PowerpointIcon);case"pdf":return(0,E.OX)(O.sP.Microsoft365Assets.PDFFileIcon);default:return}},le=e=>e.replace(/\+/g,"_").replace(/\//g,"-");var ue,pe,he,fe,ge,me,we,ye,ke,ve,be,Se,Pe,Ce,Ae,xe,Me,Ie,Fe,We,Te,De=function(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)},Oe=function(e,t,a,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,a):r?r.value=a:t.set(e,a),a};class Ee extends V{constructor(e){const t=M({},{workflows:{search:(z+=1,{homeProvider:{description:"Microsoft 365 search results provider",id:`MS365-${fin.me.identity.uuid}-${z}`,logoUrl:(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365Icon),icon:(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365Icon),title:"Microsoft 365 Search",inputPlaceholder:"What would you like to search in Microsoft 365 today?",dispatchFocusEvents:!0},microsoftEntityTypeConfig:{message:!0,chatMessage:!0,drive:!0,event:!0,user:!0,contact:!0,list:!0},useTeamsDeepLink:!0})}},e);super(t),ue.add(this),pe.set(this,void 0),this.workflowIntegrationName="Microsoft 365",he.set(this,void 0),fe.set(this,void 0),ge.set(this,1),me.set(this,new Set),we.set(this,new A(100)),ye.set(this,new R(6e4)),this.connect=async(e=this.config.connect)=>{const{clientId:t,tenantId:a,redirectUri:n}=e,r=this.config.workflows?.search?Object.entries(this.config.workflows?.search?.microsoftEntityTypeConfig??{}).filter((([e,t])=>t)).map((([e])=>K[e])).filter((e=>void 0!==e)).flat():[];this.config.connect=e,Oe(this,pe,await(0,H.connect)(t,a,n,[...new Set(r)]),"f")},ke.set(this,(()=>{if(!De(this,pe,"f"))throw new Error("Microsoft365WorkflowIntegration not connected");return De(this,pe,"f")})),Ce.set(this,(async e=>{if(Oe(this,fe,e,"f"),e.data?.item?.id){const t=De(this,ye,"f").get(e.data.item.id);if(t)return void De(this,he,"f").respond([t])}if("user"===e.data?.type)De(this,Fe,"f").call(this,e)})),Ae.set(this,(async e=>{await fin.Platform.getCurrentSync().createWindow({layout:{content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{url:e}}]}]},workspacePlatform:void 0})})),xe.set(this,(async e=>{if(e.data.item.channelIdentity.teamId){const t=new URL(`msteams:/l/channel/${e.data.item.channelIdentity.channelId}/${e.data.item.id}`);return!1===this.config.workflows?.search?.useTeamsDeepLink&&(t.protocol="https:"),t.searchParams.append("context",JSON.stringify({contextType:"channel"})),void await fin.System.openUrlWithBrowser(t.toString())}const t=new URL(`msteams:/l/message/${e.data.item.chatId}/${e.data.item.id}`);!1===this.config.workflows?.search?.useTeamsDeepLink&&(t.protocol="https:"),t.searchParams.append("context",JSON.stringify({contextType:"chat"})),await fin.System.openUrlWithBrowser(t.toString())})),Me.set(this,(async e=>{switch(e.action.name){case J:{const t=new H.TeamsConnection(De(this,ke,"f").call(this),this.config.workflows?.search?.useTeamsDeepLink);De(this,ue,"m",ve).call(this,(()=>t.startCall([e.data.item.mail])));break}case te:{const t=await this.executeApiRequest("/v1.0/me/messages","POST",{toRecipients:[{emailAddress:{address:e.data.item.mail}}]});let a=t.data.webLink;const n=new URL(t.data.webLink);if("/owa/"===n.pathname){const e=n.search.slice(1).split("&").reduce(((e,t)=>{const[a,n]=t.split("=");return e[a]=n,e}),{});if(e.ItemID){const t=e.ItemID;a=`${n.origin}/mail/deeplink/compose/${t}?ItemID=${t}&exvsurl=1`}}await fin.Platform.getCurrentSync().createView({url:a});break}case ee:{const t=De(this,ke,"f").call(this),a=new H.TeamsConnection(t,this.config.workflows?.search?.useTeamsDeepLink);De(this,ue,"m",ve).call(this,(()=>a.startChat({emailAddresses:[t.currentUser.mail,e.data.item.mail]})));break}default:console.warn("Unhandled user action for result:",e,`Unknown action "${e.action.name}"`)}})),Ie.set(this,(async e=>{switch(e.data.type){case"driveItem":De(this,Ae,"f").call(this,e.data.item.webUrl);break;case"event":{const t=e.data.item,a=await this.executeApiRequest(`/v1.0/me/events/${t.id}`);De(this,Ae,"f").call(this,a.data.webLink);break}case"chatMessage":De(this,xe,"f").call(this,e);break;case"message":De(this,Ae,"f").call(this,e.data.item.webLink);break;case"list":{const t=e.data.item,a=await this.executeApiRequest(`/v1.0/sites/${t.parentReference?.siteId}/lists/${t.id}`);De(this,Ae,"f").call(this,a.data.webUrl);break}case"user":De(this,Me,"f").call(this,e);break;default:console.warn("Unhandled user action for result:",e,`Unknown result type "${e.data.type}"`)}})),Fe.set(this,(async e=>{let t,a;const n=[],r=e.data.item;De(this,we,"f").has(r.id)?t=De(this,we,"f").get(r.id):n.push({id:"contactPhoto",method:"GET",url:`/users/${e.data.item.id}/photo/$value`,headers:{ConsistencyLevel:"eventual"}}),n.push({id:"presence",method:"GET",url:`/users/${e.data.item.id}/presence`});try{const e=await De(this,ue,"m",be).call(this,n),i=e.data?.responses.find((e=>"contactPhoto"===e.id));i&&200!==i.status&&console.warn("Error fetching user photo",i),i?.body&&200===i?.status&&(t=`data:image/jpeg;base64,${i.body}`,De(this,we,"f").put(r.id,t));const s=e.data?.responses.find((e=>"presence"===e.id));200!==s.status&&console.warn("Error fetching user presence",s),s?.body&&200===s.status&&(o=s.body,a={available:"available",availableidle:"available",away:"away",berightback:"away",busy:"busy",busyidle:"busy",donotdisturb:"do-not-disturb",offline:"offline",presenceunknown:"offline"}[o.availability?.toLowerCase()])}catch(e){console.error("Error fetching user data",e)}var o;const i=[["Department",r.department||"N/A"],["Email",r.mail||"N/A"],["Work Phone",r.businessPhones?.[0]||"N/A"],["Mobile",r.mobilePhone||"N/A"],["Location",r.officeLocation||"N/A"]],s={...e,template:N.fC.Contact,templateContent:{name:e.data.item.displayName,title:e.data.item.jobTitle,details:[i],photoUrl:t,onlineStatus:a,buttons:[{type:"button",icon:{light:(0,E.OX)(O.sP.CallIconLight),dark:(0,E.OX)(O.sP.CallIconDark)},tooltip:"Teams Call",action:J},{type:"button",icon:{light:(0,E.OX)(O.sP.ChatIconLight),dark:(0,E.OX)(O.sP.ChatIconDark)},tooltip:"Chat",action:ee},{type:"button",icon:{light:(0,E.OX)(O.sP.MessageIconLight),dark:(0,E.OX)(O.sP.MessageIconDark)},tooltip:"E-mail",action:te}]}};De(this,ye,"f").put(e.data.item.id,s),De(this,he,"f").respond([s])})),We.set(this,(async(e,t)=>{if(De(this,he,"f")&&De(this,he,"f").close(),Oe(this,he,t,"f"),De(this,he,"f").open(),e.query.length<De(this,ge,"f"))return{results:[]};const a=encodeURIComponent(e.query),n=[],r=((e,t)=>{const a=Array.isArray(e.context.selectedFilters?.find((e=>e.id===X))?.options)?e.context.selectedFilters.find((e=>e.id===X))?.options:[],n=a.every((({isSelected:e})=>!e));return{showDocuments:t.has("Document")&&(n||!!a.find((({value:e})=>"Document"===e))?.isSelected),showContacts:t.has("Contact")&&(n||!!a.find((({value:e})=>"Contact"===e))?.isSelected),showChatMessages:t.has("Chat Message")&&(n||!!a.find((({value:e})=>"Chat Message"===e))?.isSelected),showMessages:t.has("Email")&&(n||!!a.find((({value:e})=>"Email"===e))?.isSelected),showEvents:t.has("Event")&&(n||!!a.find((({value:e})=>"Event"===e))?.isSelected),showLists:t.has("List")&&(n||!!a.find((({value:e})=>"List"===e))?.isSelected)}})(e,De(this,me,"f"));if(r.showDocuments){const e=`'${a}'`;n.push({id:"driveItem",method:"GET",url:`/me/drive/root/search(q=${encodeURIComponent(e)})`,headers:{ConsistencyLevel:"eventual"}})}if(r.showEvents&&n.push({id:"event",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["event"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),r.showContacts){const t=`"${e.query}"`;n.push({id:"contact",method:"GET",url:`/me/contacts?$search=${encodeURIComponent(t)}&$top=10`});const a=["displayName","givenName","surname"].map((t=>`"${t}:${e.query}"`)).join(" OR ");n.push({id:"user",method:"GET",url:`/users?$search=${encodeURIComponent(a)}&$top=10&$select=id,displayName,department,mail,businessPhones,mobilePhone,officeLocation,jobTitle`,headers:{ConsistencyLevel:"eventual"}})}if(r.showMessages&&n.push({id:"message",method:"GET",url:`/me/messages?$select=sender,subject,bodyPreview,receivedDateTime,webLink&$search=${encodeURIComponent(`"${e.query}"`)}&$top=10`}),r.showChatMessages&&n.push({id:"chatMessage",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["chatMessage"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),r.showLists&&n.push({id:"list",url:"/search/query",method:"POST",body:{requests:[{entityTypes:["list"],query:{queryString:e.query},from:0,size:10}]},headers:{"Content-Type":"application/json"}}),0===n.length)return{results:[]};const{results:o,filters:i}=await De(this,ue,"m",Se).call(this,n,e);return o.find((e=>e.key===De(this,fe,"f")?.key))?.template===N.fC.Loading&&De(this,Ce,"f").call(this,De(this,fe,"f")),{results:o,context:{filters:i}}})),Te.set(this,(async e=>{switch(e.action.trigger){case Be.P.FocusChange:De(this,Ce,"f").call(this,e);break;case Be.P.UserAction:De(this,Ie,"f").call(this,e);break;case Be.P.Reload:break;default:console.warn(`Unknown action trigger: ${e.action.trigger}`)}})),this.initializeWorkflow=async e=>{if("search"!==e)throw new Error(`Attempted to initialize unknown workflow: ${e}`);await S.register({...this.config.workflows.search.homeProvider,onUserInput:De(this,We,"f"),onResultDispatch:De(this,Te,"f")}),(0,H.enableLogging)(),await this.connect(),super.initializeWorkflow(e)},Object.entries(t.workflows?.search?.microsoftEntityTypeConfig||{}).filter((([e,t])=>t)).forEach((([e])=>{De(this,me,"f").add(q[e])}))}async executeApiRequest(...e){return De(this,ue,"m",ve).call(this,(()=>De(this,ke,"f").call(this).executeApiRequest(...e)))}}pe=new WeakMap,he=new WeakMap,fe=new WeakMap,ge=new WeakMap,me=new WeakMap,we=new WeakMap,ye=new WeakMap,ke=new WeakMap,Ce=new WeakMap,Ae=new WeakMap,xe=new WeakMap,Me=new WeakMap,Ie=new WeakMap,Fe=new WeakMap,We=new WeakMap,Te=new WeakMap,ue=new WeakSet,ve=async function(e){try{return await e()}catch(t){if(t instanceof H.AuthTokenExpiredError)return await this.connect(),e();throw t}},be=async function(e){return this.executeApiRequest("/v1.0/$batch","POST",{requests:e})},Se=async function(e,t){try{const a=await De(this,ue,"m",be).call(this,e);return{filters:[...ae(t,De(this,me,"f")),...ne(a.data.responses.find((e=>"user"===e.id))?.body?.value||[],t)],results:De(this,ue,"m",Pe).call(this,a,t)}}catch(e){return console.warn("Failed to execute Batch API request: ",e),{filters:[],results:[{key:(0,L.N)(),title:"Error Fetching Search Results",description:"",actions:[],template:N.fC.Error,templateContent:`Failed to execute Batch API request: ${JSON.stringify(e)}`}]}}},Pe=function(e,t){let a=[];for(const n of e.data.responses)if(200===n.status)switch(n.id){case"driveItem":{const e=ie(t),r=e.filterFiles?se(n.body.value,e):n.body.value;a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.name??"",description:e.file?.mimeType??"",label:ce(e.name),icon:de(e.name),data:{type:"driveItem",item:e},actions:[{name:"Launch"}],template:N.fC.Plain,templateContent:void 0}))));break}case"event":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.filter((e=>e.resource.subject)).map((e=>{const t=e.resource,a=le(e.hitId);return{key:a,title:t.subject??"",label:"Calendar Event",icon:(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[{name:"Launch"}],data:{type:"event",item:{...t,id:a}},template:N.fC.Plain,templateContent:void 0}}))||[]);break;case"contact":{const e=re(t),r=oe(n.body.value||[],e);a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.displayName??"",label:"Outlook contact",icon:(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[],data:{type:"contact",item:e},template:N.fC.Plain,templateContent:void 0}))));break}case"user":{const e=re(t),r=oe(n.body.value||[],e);a.push(...(r||[]).map((e=>({key:e.id??(0,L.N)(),title:e.displayName??"",label:"Teams contact",icon:(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365TeamsIcon),actions:[],data:{type:"user",item:e},template:N.fC.Loading,templateContent:void 0}))));break}case"message":a.push(...(n.body.value||[]).map((e=>({key:e.id??(0,L.N)(),title:`${e.subject??"Untitled Message"}${e.isDraft?" (Draft)":""}`,label:"Email",icon:(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365OutlookIcon),actions:[],data:{type:"message",item:e},template:N.fC.Plain,templateContent:void 0}))));break;case"chatMessage":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.map((e=>{const t=e.resource;return{key:t.id??(0,L.N)(),title:e.summary??"Untitled Message",label:"Chat",icon:(0,E.OX)(O.sP.Microsoft365Assets.Microsoft365TeamsIcon),actions:[],data:{type:"chatMessage",item:t},template:N.fC.Plain,templateContent:void 0}}))||[]);break;case"list":a.push(...n.body?.value?.[0]?.hitsContainers?.[0]?.hits?.map((e=>{const t=e.resource,a=le(e.hitId);return{key:a,title:t.displayName??"Untitled List",label:"List",actions:[{name:"Launch"}],data:{type:"list",item:{...t,id:a}},template:N.fC.Plain,templateContent:void 0}}))||[]);break;default:console.warn(`Unknown batch response id: ${n.id}`,n.body)}else console.warn("Batch API request failed: ",n);return a=a.map((e=>{if(!e.data?.item?.id)return e;const t=De(this,ye,"f").get(e.data.item.id);return t?{...e,template:t.template,templateContent:t.templateContent}:e})),a.sort(((e,t)=>e.title>t.title?1:-1))};var _e=a(598),Be=a(129),Re=a(184),$e=a(710)})(),module.exports=n})();
//# sourceMappingURL=index.js.map

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	(() => {
/******/ 		__webpack_require__.amdO = {};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_cloud_interop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/cloud-interop */ "../../node_modules/@openfin/cloud-interop/out/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");
/* harmony import */ var _interopbroker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interopbroker */ "./client/src/interopbroker.ts");





const PLATFORM_ID = fin.me.identity.uuid;
const PLATFORM_TITLE = "Support Context and Intents";
const PLATFORM_ICON = "https://built-on-openfin.github.io/workspace-starter/eb/bump-workspace-v22-for-a11y-testing/support-context-and-intents/favicon.ico";
window.addEventListener("DOMContentLoaded", async () => {
    // Load the settings from the manifest
    const customSettings = await getManifestCustomSettings();
    // When the platform api is ready we bootstrap the platform.
    const platform = fin.Platform.getCurrentSync();
    await platform.once("platform-api-ready", async () => initializeWorkspaceComponents(customSettings));
    // The DOM is ready so initialize the platform
    // Provide default icons and default theme for the browser windows
    await initializeWorkspacePlatform(customSettings);
});
/**
 * Initialize the workspace platform.
 * @param customSettings The custom settings from the manifest.
 */
async function initializeWorkspacePlatform(customSettings) {
    console.log("Initializing workspace platform");
    const defaultBroker = (0,_interopbroker__WEBPACK_IMPORTED_MODULE_4__.createInteropOverride)(customSettings);
    const interopOverride = [defaultBroker];
    if (customSettings?.cloudInteropProvider?.enabled === true &&
        customSettings?.cloudInteropProvider?.connectParams !== undefined) {
        console.log("Initializing the cloud interop override");
        const initializedCloudInteropOverride = (await (0,_openfin_cloud_interop__WEBPACK_IMPORTED_MODULE_0__.cloudInteropOverride)(customSettings?.cloudInteropProvider?.connectParams));
        interopOverride.push(initializedCloudInteropOverride);
    }
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_2__.init)({
        browser: {
            defaultWindowOptions: {
                icon: PLATFORM_ICON,
                workspacePlatform: {
                    pages: [],
                    favicon: PLATFORM_ICON
                }
            }
        },
        theme: [
            {
                label: "Default",
                default: "dark",
                palette: {
                    brandPrimary: "#0A76D3",
                    brandSecondary: "#383A40",
                    backgroundPrimary: "#1E1F23"
                }
            }
        ],
        // Use an override for the platform interop to handle the context and intents
        interopOverride
    });
}
/**
 * Bring the platform to life.
 * @param customSettings The custom settings from the manifest.
 */
async function initializeWorkspaceComponents(customSettings) {
    console.log("Initializing the bootstrapper");
    // Register with home and show it
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.register({
        title: PLATFORM_TITLE,
        id: PLATFORM_ID,
        icon: PLATFORM_ICON,
        onUserInput: async (request) => {
            // Get the list of all the apps
            let apps = await (0,_apps__WEBPACK_IMPORTED_MODULE_3__.getApps)(customSettings.appProvider);
            if (request.query.length >= 3) {
                // Filter them by title if we have a query
                apps = apps.filter((app) => app.title.toLowerCase().includes(request.query.toLowerCase()));
            }
            return {
                // Always return just the apps list in home
                results: apps.map((app) => ({
                    key: app.appId,
                    title: app.title,
                    icon: app.icons[0]?.src,
                    data: app,
                    label: app.manifestType === "inline-appasset" || app.manifestType === "external" ? "App" : "View",
                    actions: [{ name: "Launch", hotkey: "enter" }],
                    description: app.description,
                    shortDescription: app.description,
                    template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.SimpleText,
                    templateContent: app.description
                }))
            };
        },
        onResultDispatch: async (result) => {
            // We only have apps, so just launch them
            await (0,_apps__WEBPACK_IMPORTED_MODULE_3__.launchApp)(result.data);
        }
    });
    await _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.show();
    // When the platform requests to be close we deregister from home and quit
    const providerWindow = fin.Window.getCurrentSync();
    await providerWindow.once("close-requested", async () => {
        await _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.deregister(PLATFORM_ID);
        await fin.Platform.getCurrentSync().quit();
    });
}
/**
 * Read the custom settings from the manifest.fin.json.
 * @returns The custom settings from the manifest.
 */
async function getManifestCustomSettings() {
    // Get the manifest for the current application
    const app = await fin.Application.getCurrent();
    // Extract the custom settings for this application
    const manifest = await app.getManifest();
    return manifest.customSettings ?? {};
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFnQzs7QUFFaEMsNkJBQTZCLHVDQUF1QyxrQ0FBa0MsdUNBQXVDLG9DQUFvQywyQkFBMkIsV0FBVyxtQ0FBbUMsdUJBQXVCLHVCQUF1QixHQUFHLGdCQUFnQixnR0FBZ0csbURBQW1ELEVBQUUsVUFBVSxpQkFBaUIsZUFBZSxTQUFTLEtBQUssZ0JBQWdCLEdBQUcsd0RBQXdELEVBQUUsU0FBUyxNQUFNLGl2Q0FBaXZDLEVBQUUsZUFBZSwwRkFBMEYsY0FBYyxvRUFBb0UsY0FBYyxRQUFRLHVCQUF1QixNQUFNLG9CQUFvQixFQUFFLEVBQUUsZ0JBQWdCLE9BQU8sa0JBQWtCLG1CQUFtQixnQ0FBZ0MsZUFBZSxvQ0FBb0Msa0NBQWtDLG1CQUFtQix3QkFBd0IsMkRBQTJELGlCQUFpQix5QkFBeUIsZUFBZSxlQUFlLHNCQUFzQixlQUFlLGNBQWMsY0FBYyxVQUFVLGNBQWMsVUFBVSxpQkFBaUIsNENBQTRDLGNBQWMsVUFBVSxjQUFjLG9CQUFvQixlQUFlLHFHQUFxRyxxREFBcUQsY0FBYyxVQUFVLGVBQWUsVUFBVSxxTkFBcU4sSUFBSSxJQUFJLElBQUksa0JBQWtCLDRCQUE0QixrQ0FBa0MsdUNBQXVDLHlFQUF5RSw4Q0FBOEMsa0JBQWtCLCtCQUErQixnQkFBZ0IsZUFBZSxnQkFBZ0IsU0FBUyxlQUFlLFdBQVcsaUJBQWlCLEtBQUssa0RBQWtELFlBQVksS0FBSyxhQUFhLDBCQUEwQixVQUFVLHFDQUFxQyxJQUFJLGlHQUFpRyxhQUFhLGlJQUFpSSw2SEFBNkgsK0hBQStILE9BQU8sc0JBQXNCLFlBQVksb0VBQW9FLFdBQVcsTUFBTSxnREFBZ0QsSUFBSSxnOUJBQWc5QixFQUFFLGNBQWMsTUFBTSxFQUFFLFVBQVUsT0FBTyx1RUFBdUUsRUFBRSxjQUFjLGdCQUFnQiwwREFBMEQsK0lBQStJLElBQUksbUNBQW1DLGdEQUFnRCxjQUFjLGVBQWUsMkVBQTJFLHFCQUFxQixjQUFjLG9CQUFvQixhQUFhLGNBQWMseUJBQXlCLG1CQUFtQixrQkFBa0IsbUJBQW1CLGNBQWMsK0RBQStELFFBQVEsSUFBSSxrSkFBa0osOExBQThMLGNBQWMsa0RBQWtELGtCQUFrQixtQkFBbUIsSUFBSSx1RUFBdUUsa0JBQWtCLGNBQWMsa0RBQWtELElBQUksZ0NBQWdDLDRJQUE0SSxVQUFVLGNBQWMsZ0JBQWdCLE1BQU0sbUNBQW1DLHFFQUFxRSxtQ0FBbUMsSUFBSSwwQkFBMEIsOEJBQThCLElBQUksMEJBQTBCLGVBQWUsTUFBTSxxQ0FBcUMseUJBQXlCLGtDQUFrQyxnQ0FBZ0MsNEhBQTRILHVSQUF1UixLQUFLLCtCQUErQixrQkFBa0IsSUFBSSwrQkFBK0IsaUJBQWlCLElBQUksY0FBYyxnQkFBZ0IsTUFBTSwySEFBMkgsb0RBQW9ELGlCQUFpQix1UkFBdVIsYUFBYSxJQUFJLDJCQUEyQixlQUFlLFlBQVksNkZBQTZGLE1BQU0sV0FBVyw0Q0FBNEMsNkJBQTZCLHdDQUF3Qyw4Q0FBOEMsNkJBQTZCLDRDQUE0QyxFQUFFLGNBQWMsOEVBQThFLHdCQUF3Qiw4Q0FBOEMsa0JBQWtCLHVCQUF1QixnSEFBZ0gsWUFBWSxnQkFBZ0IsZ0JBQWdCLGtCQUFrQixvQ0FBb0MscUNBQXFDLDJKQUEySiw4SkFBOEosbUhBQW1ILDZCQUE2Qix1Q0FBdUMsV0FBVyxjQUFjLDRJQUE0SSxnSkFBZ0osdUJBQXVCLGdCQUFnQiw2RkFBNkYsY0FBYyxvRkFBb0YsOEVBQThFLGtCQUFrQixxRkFBcUYsd0JBQXdCLGlCQUFpQixjQUFjLDRCQUE0QiwwQkFBMEIsWUFBWSwrQkFBK0IsYUFBYSxnQkFBZ0IseUdBQXlHLHFDQUFxQyxpQ0FBaUMsY0FBYyx3Q0FBd0MsWUFBWSxJQUFJLG1CQUFtQixTQUFTLGNBQWMscUJBQXFCLHdCQUF3Qiw2Q0FBNkMsWUFBWSxrQkFBa0Isb0ZBQW9GLHNGQUFzRixNQUFNLGtKQUFrSixjQUFjLGtCQUFrQiwyQkFBMkIsdUNBQXVDLDhFQUE4RSw2REFBNkQsY0FBYyxnSEFBZ0gsV0FBVyxjQUFjLGdDQUFnQyx1QkFBdUIsa0RBQWtELHlCQUF5QiwyT0FBMk8sa0JBQWtCLDBCQUEwQiw0QkFBNEIsSUFBSSxvQkFBb0IsY0FBYyxNQUFNLHNCQUFzQiwwQkFBMEIsZ0NBQWdDLGtKQUFrSixtQkFBbUIsd0JBQXdCLHdGQUF3RixrQ0FBa0MsTUFBTSwwQkFBMEIsV0FBVyxtQkFBbUIsMkJBQTJCLFFBQVEsV0FBVyxLQUFLLFdBQVcsd0hBQXdILGtDQUFrQyx3RUFBd0UsYUFBYSxVQUFVLGdCQUFnQixpQ0FBaUMsZ0VBQWdFLCtJQUErSSx1REFBdUQsc0JBQXNCLFNBQVMsTUFBTSxXQUFXLCtDQUErQywyQ0FBMkMsK0RBQStELHVCQUF1QixpQ0FBaUMsc0NBQXNDLDhCQUE4QixlQUFlLGtCQUFrQixTQUFTLCtIQUErSCxtQkFBbUIsV0FBVyw4QkFBOEIsMkNBQTJDLGdDQUFnQyw4Q0FBOEMsaUNBQWlDLHdFQUF3RSx5REFBeUQsOEJBQThCLHlCQUF5QixrQkFBa0IsV0FBVyxrQkFBa0IsOEJBQThCLGtCQUFrQiw2RUFBNkUsWUFBWSxJQUFJLG1CQUFtQixZQUFZLCtCQUErQixrQkFBa0IsNkVBQTZFLFlBQVksSUFBSSxtQ0FBbUMsWUFBWSwrQkFBK0Isa0JBQWtCLDZFQUE2RSxZQUFZLElBQUksbUVBQW1FLFlBQVksaUNBQWlDLGtCQUFrQiwwRUFBMEUsZ0ZBQWdGLG1FQUFtRSx5Q0FBeUMsZ0NBQWdDLGdDQUFnQyw4Q0FBOEMsRUFBRSwrREFBK0QsaUZBQWlGLHVMQUF1TCwrS0FBK0ssdUJBQXVCLGtCQUFrQixpQkFBaUIsaURBQWlELG9FQUFvRSxZQUFZLEtBQUssc0JBQXNCLGdCQUFnQixNQUFNLHVCQUF1QixzQkFBc0IsMEJBQTBCLHlKQUF5SixlQUFlLGNBQWMscUJBQXFCLGVBQWUseUZBQXlGLDRMQUE0TCw0REFBNEQsc0JBQXNCLDhCQUE4QixtR0FBbUcsb0NBQW9DLG9CQUFvQixrQkFBa0Isd0NBQXdDLE9BQU8sTUFBTSxVQUFVLFNBQVMsS0FBSywwQ0FBMEMsNENBQTRDLGlDQUFpQyw2QkFBNkIsTUFBTSxNQUFNLFVBQVUsWUFBWSxJQUFJLDZCQUE2QixNQUFNLE1BQU0sZ0JBQWdCLFVBQVUscUNBQXFDLGdDQUFnQyxxQ0FBcUMsd0JBQXdCLHlDQUF5Qyx5QkFBeUIsb0JBQW9CLGVBQWUsaUJBQWlCLCtCQUErQixlQUFlLGVBQWUsTUFBTSxRQUFRLElBQUksS0FBSyxtQ0FBbUMsa0JBQWtCLFVBQVUsU0FBUyxvQkFBb0Isa0NBQWtDLG9CQUFvQix1QkFBdUIscUJBQXFCLHVCQUF1QixxQkFBcUIsa0NBQWtDLG9DQUFvQyx5Q0FBeUMsNkRBQTZELHdGQUF3RixnR0FBZ0csb0JBQW9CLGlJQUFpSSxjQUFjLFNBQVMsTUFBTSxXQUFXLCtCQUErQiw0Q0FBNEMsMkRBQTJELG1DQUFtQywwRUFBMEUseURBQXlELDhCQUE4QiwrQkFBK0IsUUFBUSxtRUFBbUUsbUJBQW1CLDRFQUE0RSxtQkFBbUIsdUJBQXVCLGFBQWEsS0FBSyxJQUFJLEVBQUUsOENBQThDLFdBQVcsZUFBZSxVQUFVLG9CQUFvQixNQUFNLGtFQUFrRSxNQUFNLDZIQUE2SCxNQUFNLDZKQUE2SixvR0FBb0csYUFBYSxZQUFZLGVBQWUsZUFBZSxvREFBb0QsYUFBYSxLQUFLLElBQUksdURBQXVELFNBQVMsbUJBQW1CLFNBQVMsdUJBQXVCLFlBQVksSUFBSSxxQ0FBcUMsU0FBUyxtQkFBbUIsU0FBUyx1QkFBdUIsWUFBWSxJQUFJLGlDQUFpQyxTQUFTLG1CQUFtQixlQUFlLHVDQUF1QyxTQUFTLFlBQVksSUFBSSxnQkFBZ0IsU0FBUyxtQkFBbUIsd0JBQXdCLFlBQVksYUFBYSw2Q0FBNkMsU0FBUyxnQ0FBZ0Msa0JBQWtCLHNHQUFzRyx5QkFBeUIsK0NBQStDLG1CQUFtQiwyREFBMkQsdUVBQXVFLDhEQUE4RCx1Q0FBdUMsc0JBQXNCLEtBQUssZ0JBQWdCLGdCQUFnQixTQUFTLCtEQUErRCx1Q0FBdUMsc0JBQXNCLEtBQUssY0FBYyxrQkFBa0IsU0FBUywyREFBMkQsOENBQThDLGlFQUFpRSwyREFBMkQsaUVBQWlFLDJEQUEyRCxpRUFBaUUsOEZBQThGLGlFQUFpRSw4RkFBOEYsNENBQTRDLHVCQUF1QiwwQkFBMEIsOENBQThDLDBHQUEwRyx5Q0FBeUMsNkNBQTZDLHVCQUF1QiwwQkFBMEIsOENBQThDLDBHQUEwRyx5Q0FBeUMsd0NBQXdDLHVDQUF1QyxzQkFBc0IsS0FBSyxnQkFBZ0IsZ0JBQWdCLDJDQUEyQyx1Q0FBdUMsdUNBQXVDLDBCQUEwQixLQUFLLGNBQWMsa0JBQWtCLDJDQUEyQyxvQ0FBb0MsNkVBQTZFLHVDQUF1QywrQkFBK0IsMkJBQTJCLDhCQUE4Qix1Q0FBdUMsK0JBQStCLDJCQUEyQiw4QkFBOEIsdUNBQXVDLHVGQUF1Rix1Q0FBdUMsdUZBQXVGLDJDQUEyQyx1QkFBdUIsMEJBQTBCLDhDQUE4Qyx1REFBdUQsd0ZBQXdGLDRDQUE0Qyx1QkFBdUIsMEJBQTBCLDhDQUE4Qyx1REFBdUQsd0ZBQXdGLHdDQUF3Qyw2REFBNkQsdUNBQXVDLDZEQUE2RCx3Q0FBd0MsNkRBQTZELHdDQUF3Qyw4REFBOEQseUJBQXlCLHFGQUFxRixzRUFBc0UsMkRBQTJELGtFQUFrRSw0QkFBNEIsd0JBQXdCLG9CQUFvQixZQUFZLGtCQUFrQixnQkFBZ0IsbUJBQW1CLFdBQVcsbUVBQW1FLDRCQUE0Qix3QkFBd0Isb0JBQW9CLGNBQWMsb0JBQW9CLGlCQUFpQixtQkFBbUIsV0FBVywrREFBK0QsOERBQThELHFFQUFxRSxnRkFBZ0YscUVBQXFFLGdGQUFnRixxRUFBcUUsdUhBQXVILHFFQUFxRSx3SEFBd0gsdUJBQXVCLGdCQUFnQixtQ0FBbUMseURBQXlELCtDQUErQyxrRUFBa0UsdUJBQXVCLGdCQUFnQixtQ0FBbUMseURBQXlELCtDQUErQyxrRUFBa0UsZ0RBQWdELDJEQUEyRCxrREFBa0QsMkRBQTJELDJDQUEyQyxvQkFBb0IseUJBQXlCLHlCQUF5QixnQkFBZ0Isa0JBQWtCLGdCQUFnQiw2REFBNkQsV0FBVywwQ0FBMEMsb0JBQW9CLHlCQUF5Qix5QkFBeUIsa0JBQWtCLG9CQUFvQixpQkFBaUIsNkRBQTZELFdBQVcsdUNBQXVDLGtGQUFrRiwwQ0FBMEMscUZBQXFGLDBDQUEwQyxxRkFBcUYsMENBQTBDLGlJQUFpSSwwQ0FBMEMseUpBQXlKLGdEQUFnRCwrRUFBK0UsaURBQWlELCtFQUErRSxFQUFFLHlCQUF5QiwyREFBMkQsa0RBQWtELHVCQUF1Qiw2REFBNkQseUNBQXlDLHlCQUF5QiwwQ0FBMEMsMEJBQTBCLHVCQUF1Qiw2REFBNkQsMENBQTBDLHlCQUF5QiwyQ0FBMkMseUJBQXlCLG9DQUFvQyxxRUFBcUUsd0lBQXdJLHlEQUF5RCxrRUFBa0UsdURBQXVELGdFQUFnRSxVQUFVLG1KQUFtSixvQ0FBb0MsdUJBQXVCLHNLQUFzSyxvRkFBb0YsaUJBQWlCLHNCQUFzQiwyQ0FBMkMsbUVBQW1FLGdGQUFnRixvQkFBb0IsZ0RBQWdELE1BQU0sOEJBQThCLElBQUksY0FBYyxNQUFNLDZDQUE2QyxrRkFBa0YsUUFBUSxNQUFNLHNCQUFzQixhQUFhLFVBQVUsbUJBQW1CLHNCQUFzQixjQUFjLDhDQUE4QywwREFBMEQsZUFBZSxXQUFXLEdBQUcsRUFBRSxnQ0FBZ0MsV0FBVyxTQUFTLFlBQVksbUNBQW1DLGtEQUFrRCxHQUFHLFdBQVcsVUFBVSxXQUFXLEdBQUcsRUFBRSxLQUFLLGFBQWEsS0FBSywwQ0FBMEMsWUFBWSxHQUFHLDhFQUE4RSxxREFBcUQsZUFBZSxFQUFFLG1EQUFtRCxTQUFTLEVBQUUsa0RBQWtELHVCQUF1QixFQUFFLHdCQUF3QiwwTEFBMEwsRUFBRSxhQUFhLEVBQUUsSUFBSSxhQUFhLGVBQWUscUNBQXFDLEtBQUssT0FBTyxXQUFXLGVBQWUsRUFBRSxFQUFFLEVBQUUsVUFBVSxhQUFhLEVBQUUsRUFBRSxFQUFFLG1CQUFtQix1RUFBdUUseUJBQXlCLGFBQWEsa0NBQWtDLHdDQUF3QyxHQUFHLFNBQVMsR0FBRyxLQUFLLFFBQVEsRUFBRSxFQUFFLGFBQWEsR0FBRyxLQUFLLFVBQVUsRUFBRSxFQUFFLGVBQWUsVUFBVSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxFQUFFLHVDQUF1QyxXQUFXLGlCQUFpQixzRUFBc0UsbUJBQW1CLG9LQUFvSyxPQUFPLFNBQVMsRUFBRSxLQUFLLDJCQUEyQixlQUFlLG9FQUFvRSxLQUFLLGVBQWUsU0FBUyxTQUFTLGlCQUFpQixTQUFTLDZCQUE2QixZQUFZLElBQUksS0FBSyx1Q0FBdUMsT0FBTyxZQUFZLCtCQUErQixTQUFTLGlCQUFpQiwrQkFBK0IsU0FBUyxJQUFJLFNBQVMsWUFBWSxtQ0FBbUMsU0FBUywrQkFBK0IsdUNBQXVDLGlCQUFpQixrQkFBa0IsV0FBVyxnQkFBZ0Isa0JBQWtCLDJCQUEyQixpQkFBaUIsa0JBQWtCLHdDQUF3QyxtQkFBbUIsa0JBQWtCLHFEQUFxRCwyQ0FBMkMsU0FBUyxlQUFlLFNBQVMsWUFBWSxXQUFXLGdDQUFnQyxTQUFTLGlCQUFpQixlQUFlLFlBQVksd0JBQXdCLHlEQUF5RCxTQUFTLGVBQWUsNEJBQTRCLHFCQUFxQixNQUFNLFFBQVEsbUNBQW1DLGdCQUFnQixTQUFTLGlCQUFpQiwyR0FBMkcsZUFBZSxhQUFhLGtCQUFrQiwwQ0FBMEMsWUFBWSxLQUFLLEtBQUssV0FBVyxZQUFZLEtBQUssc0JBQXNCLFNBQVMsR0FBRyxlQUFlLDhCQUE4QixjQUFjLHdDQUF3QyxVQUFVLDRDQUE0QyxJQUFJLElBQUksSUFBSSxLQUFLLE9BQU8sS0FBSyxPQUFPLEtBQUssT0FBTyxRQUFRLFVBQVUsY0FBYyxxQkFBcUIsY0FBYyxzREFBc0QsRUFBRSxjQUFjLE1BQU0sRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsYUFBYSxlQUFlLG9CQUFvQixhQUFhLFNBQVMsMEdBQTBHLG1CQUFtQiw0QkFBNEIsUUFBUSx3QkFBd0IsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxZQUFZLGdCQUFnQix3QkFBd0IsNkJBQTZCLHFCQUFxQiw0QkFBNEIsb0JBQW9CLHlCQUF5QixpQkFBaUIsd0JBQXdCLGdCQUFnQix3QkFBd0IsZ0JBQWdCLHlCQUF5QixpQkFBaUIsNEJBQTRCLG9CQUFvQix1Q0FBdUMsc0JBQXNCLHlDQUF5Qyx3REFBd0QsZ1BBQWdQLG9DQUFvQyw2QkFBNkIsb0NBQW9DLHFDQUFxQyw0Q0FBNEMsZUFBZSxzQkFBc0IsMkJBQTJCLGtDQUFrQyxvQ0FBb0Msa0JBQWtCLDZCQUE2QixtQkFBbUIsa0JBQWtCLHlCQUF5QixxREFBcUQsaUJBQWlCLGdEQUFnRCxvQkFBb0IsK0JBQStCLHVCQUF1QiwrQkFBK0IsdUJBQXVCLHdCQUF3QixnQkFBZ0Isd0tBQXdLLGtCQUFrQixjQUFjLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLCtEQUErRCx1RUFBdUUsdUJBQXVCLGFBQWEsVUFBVSx3QkFBd0IsZUFBZSwrRUFBK0UsU0FBUyxHQUFHLFNBQVMsWUFBWSxXQUFXLGNBQWM7QUFDNTdsQyxFQUFFLHFEQUFxRCxZQUFZLCtDQUErQyxVQUFVLFNBQVMsc0JBQXNCLDRCQUE0QixrQ0FBa0MsUUFBUSxRQUFRLDRCQUE0QixTQUFTLHNCQUFzQixjQUFjLDJCQUEyQiw2QkFBNkIsRUFBRSxZQUFZLG9CQUFvQixnQkFBZ0Isa0RBQWtELGdCQUFnQixxRkFBcUYsZ0RBQWdELHNCQUFzQixFQUFFLFlBQVksaUJBQWlCLG9EQUFvRCxvQ0FBb0MsZUFBZSxFQUFFLElBQUksZ0JBQWdCLEVBQUUsR0FBRyxXQUFXLEVBQUUsR0FBRywrREFBK0QsdUJBQXVCLFVBQVUsR0FBRywrQ0FBK0MsdUJBQXVCLEdBQUcsUUFBUSxtQkFBbUIsdUJBQXVCLHNCQUFzQiw4QkFBOEIsWUFBWSx3RUFBd0UsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxrQ0FBa0Msc0RBQXNELGNBQWMsMEJBQTBCLHVCQUF1QixFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLHVDQUF1QyxpTkFBaU4saUJBQWlCLDZDQUE2QyxlQUFlLHFDQUFxQyxLQUFLLE9BQU8sV0FBVyxlQUFlLEVBQUUsRUFBRSxFQUFFLFVBQVUsYUFBYSxFQUFFLEVBQUUsRUFBRSxtQkFBbUIsOERBQThELElBQUksaUNBQWlDLFNBQVMsc0NBQXNDLFNBQVMsYUFBYSwwQ0FBMEMsZ0NBQWdDLElBQUksaUNBQWlDLFNBQVMsc0NBQXNDLEVBQUUsK0JBQStCLG1CQUFtQixhQUFhLGtCQUFrQixrQkFBa0Isa0JBQWtCLFdBQVcsVUFBVSxXQUFXLEdBQUcsRUFBRSxLQUFLLGFBQWEsR0FBRyxxQ0FBcUMsTUFBTSx1REFBdUQsV0FBVyxRQUFRLFVBQVUsV0FBVyxHQUFHLEVBQUUsS0FBSyxhQUFhLEVBQUUsNENBQTRDLGlEQUFpRCxlQUFlLGdCQUFnQix1Q0FBdUMsUUFBUSxJQUFJLGlCQUFpQixnQkFBZ0IscURBQXFELDhCQUE4Qix1QkFBdUIsWUFBWSwyQkFBMkIsb0RBQW9ELDBGQUEwRiwyREFBMkQsK0JBQStCLG9DQUFvQywyRUFBMkUsYUFBYSw4QkFBOEIsR0FBRyxTQUFTLEVBQUUsSUFBSSx1Q0FBdUMsZ0JBQWdCLG1CQUFtQixtT0FBbU8sZUFBZSwwQkFBMEIsNENBQTRDLGVBQWUsaUJBQWlCLHFCQUFxQixLQUFLLEVBQUUsTUFBTSx5QkFBeUIsTUFBTSxLQUFLLEtBQUssRUFBRSxNQUFNLFNBQVMsY0FBYyxrQkFBa0IsYUFBYSxPQUFPLEVBQUUsSUFBSSx1Q0FBdUMsZUFBZSxpQkFBaUIsNEJBQTRCLEtBQUssRUFBRSxNQUFNLDRCQUE0QixNQUFNLEtBQUssS0FBSyxFQUFFLE1BQU0sU0FBUyxjQUFjLHFCQUFxQixhQUFhLE9BQU8sRUFBRSxJQUFJLHlCQUF5QixpQkFBaUIsYUFBYSxtREFBbUQsS0FBSyxFQUFFLE1BQU0sb0JBQW9CLE1BQU0sS0FBSyxLQUFLLEVBQUUsTUFBTSxTQUFTLGNBQWMsYUFBYSxhQUFhLE9BQU8sRUFBRSxJQUFJLDRCQUE0QixFQUFFLEVBQUUsK0RBQStELE9BQU8sRUFBRSw0QkFBNEIsTUFBTSxnRkFBZ0YsbUJBQW1CLEVBQUUsTUFBTSxZQUFZLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLE1BQU0sWUFBWSxVQUFVLEVBQUUsbUJBQW1CLGNBQWMsNEJBQTRCLFVBQVUsR0FBRyxFQUFFLElBQUksU0FBUyxZQUFZLGtEQUFrRCxZQUFZLHFEQUFxRCx1Q0FBdUMsR0FBRyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsRUFBRSxZQUFZLHdDQUF3QyxNQUFNLDJFQUEyRSxtQkFBbUIsVUFBVSxTQUFTLEVBQUUsbUJBQW1CLEdBQUcsMkJBQTJCLEVBQUUscUJBQXFCLEVBQUUsR0FBRyxZQUFZLCtCQUErQix3REFBd0QsaUJBQWlCLDZDQUE2QyxFQUFFLG9CQUFvQixpQkFBaUIsTUFBTSxVQUFVLE1BQU0saUJBQWlCLE1BQU0sTUFBTSxNQUFNLFdBQVcsTUFBTSxTQUFTLGNBQWMsVUFBVSxhQUFhLFFBQVEsR0FBRyxZQUFZLE1BQU0sVUFBVSxHQUFHLG1CQUFtQixZQUFZLGdDQUFnQyxpQ0FBaUMsTUFBTSxvS0FBb0ssRUFBRSxnQ0FBZ0MsRUFBRSxhQUFhLEVBQUUsRUFBRSxhQUFhLG1FQUFtRSwwRUFBMEUscUZBQXFGLCtEQUErRCwrRUFBK0UsNkVBQTZFLHlEQUF5RCxnRUFBZ0Usa0ZBQWtGLHlEQUF5RCw0REFBNEQsWUFBWSxzRUFBc0UsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxvVEFBb1QsT0FBTywwQkFBMEIsbUhBQW1ILE9BQU8scUJBQXFCLE9BQU8sd0NBQXdDLGtCQUFrQixlQUFlLGlCQUFpQixlQUFlLGlCQUFpQiw0RUFBNEUsbUJBQW1CLDJDQUEyQyx3Q0FBd0MsV0FBVyxpQkFBaUIsNEJBQTRCLGlEQUFpRCx5Q0FBeUMsaUNBQWlDLEdBQUcsUUFBUSxFQUFFLEtBQUssMkNBQTJDLGlEQUFpRCx5Q0FBeUMsaUNBQWlDLEdBQUcsUUFBUSxFQUFFLEtBQUsscUJBQXFCLGlEQUFpRCx5Q0FBeUMseUJBQXlCLGlDQUFpQyxHQUFHLFFBQVEsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLGlEQUFpRCw0QkFBNEIsaURBQWlELDJFQUEyRSxjQUFjLEVBQUUsS0FBSyxFQUFFLDJCQUEyQixFQUFFLGNBQWMsRUFBRSxLQUFLLEtBQUssb0JBQW9CLGFBQWEsMkRBQTJELEVBQUUsZ0JBQWdCLHFCQUFxQixFQUFFLGlCQUFpQixtREFBbUQsbUJBQW1CLGdDQUFnQyx5QkFBeUIsdURBQXVELHdIQUF3SCxnQkFBZ0Isc0ZBQXNGLG9CQUFvQixvQ0FBb0MsZUFBZSw2QkFBNkIsRUFBRSxFQUFFLHFCQUFxQixFQUFFLGlCQUFpQixRQUFRLFlBQVksV0FBVyxlQUFlLEVBQUUsR0FBRyxFQUFFLEtBQUssaUJBQWlCLFFBQVEsWUFBWSxXQUFXLGVBQWUsRUFBRSxHQUFHLEVBQUUsS0FBSywwQkFBMEIsaUhBQWlILDJCQUEyQiwrREFBK0QsRUFBRSxpQkFBaUIsdUJBQXVCLGlGQUFpRixFQUFFLEdBQUcsNkJBQTZCLHFJQUFxSSxXQUFXLGtCQUFrQixnR0FBZ0csZ0JBQWdCLHFEQUFxRCxnQkFBZ0IsNERBQTRELGdCQUFnQiw0Q0FBNEMsRUFBRSxtQkFBbUIsZ0NBQWdDLFVBQVUsT0FBTywyQkFBMkIsTUFBTSxnQkFBZ0IsY0FBYyxpQkFBaUIsa0dBQWtHLGFBQWEsWUFBWSxlQUFlLDZDQUE2QyxVQUFVLG9CQUFvQixrQkFBa0IsWUFBWSxJQUFJLEtBQUssV0FBVyx1Q0FBdUMsU0FBUyw2RUFBNkUsYUFBYSxZQUFZLFlBQVksaWVBQWllLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLG9CQUFvQixPQUFPLGNBQWMsbURBQW1ELGNBQWMscURBQXFELFlBQVksSUFBSSxtREFBbUQsTUFBTSxPQUFPLElBQUksdURBQXVELE1BQU0sUUFBUSxJQUFJLGVBQWUsMENBQTBDLG1FQUFtRSxJQUFJLGVBQWUsTUFBTSxJQUFJLHlCQUF5QixNQUFNLDJCQUEyQixlQUFlLDRDQUE0Qyx1RUFBdUUsSUFBSSxhQUFhLE1BQU0sSUFBSSx1QkFBdUIsTUFBTSx5QkFBeUIseUJBQXlCLGNBQWMsb0VBQW9FLGNBQWMsUUFBUSxhQUFhLE1BQU0sb0JBQW9CLEVBQUUsRUFBRSxnQkFBZ0IsT0FBTyxrQkFBa0IsbUJBQW1CLHNCQUFzQix3QkFBd0Isb0NBQW9DLGtDQUFrQyxtQkFBbUIsd0JBQXdCLGtEQUFrRCxpQkFBaUIseUJBQXlCLDRCQUE0QixrQ0FBa0MsbUJBQW1CLGNBQWMsVUFBVSxXQUFXLGNBQWMsZUFBZSxlQUFlLFNBQVMsa0JBQWtCLFdBQVcsVUFBVSxxQkFBcUIseUJBQXlCLFdBQVcsc0JBQXNCLDBCQUEwQix5QkFBeUIsV0FBVyx1QkFBdUIscURBQXFELGtCQUFrQixZQUFZLHFCQUFxQixtREFBbUQsb0JBQW9CLFdBQVcsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxnRUFBZ0UscUxBQXFMLG9CQUFvQixNQUFNLDhQQUE4UCxlQUFlLE1BQU0seUpBQXlKLGVBQWUsK0dBQStHLGVBQWUsd0pBQXdKLGVBQWUsb0hBQW9ILGVBQWUsaUZBQWlGLGVBQWUsK0VBQStFLGVBQWUsMkJBQTJCLGlCQUFpQixxSUFBcUksZUFBZSxzQkFBc0IsaURBQWlELG9EQUFvRCxlQUFlLHNCQUFzQixrQ0FBa0MsdUJBQXVCLHFFQUFxRSxpQkFBaUIsc0JBQXNCLHFDQUFxQyx1QkFBdUIsbUhBQW1ILGVBQWUsc0JBQXNCLGtDQUFrQyx1QkFBdUIsZ0VBQWdFLGlCQUFpQixzQkFBc0IsdUJBQXVCLHVIQUF1SCxlQUFlLGtHQUFrRyxlQUFlLDZFQUE2RSxpQkFBaUIsK0VBQStFLGVBQWUsUUFBUSw2SUFBNkksZUFBZSxRQUFRLDZJQUE2SSxlQUFlLHNCQUFzQiw4Q0FBOEMsMENBQTBDLHVJQUF1SSxlQUFlLHVKQUF1SixlQUFlLDJDQUEyQyxlQUFlLE1BQU0sc0lBQXNJLGVBQWUsc0JBQXNCLGlEQUFpRCxtRUFBbUUsZUFBZSxNQUFNLG9GQUFvRixlQUFlLHdCQUF3QiwyYkFBMmIsWUFBWSxrakJBQWtqQixFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxhQUFhLHVCQUF1QixPQUFPLHNEQUFzRCxLQUFLLHdCQUF3QixPQUFPLGdGQUFnRixPQUFPLG1DQUFtQyxPQUFPLDJRQUEyUSxNQUFNLGVBQWUsK0NBQStDLGNBQWMsbUJBQW1CLFFBQVEscUpBQXFKLGdGQUFnRix5SUFBeUksaUJBQWlCLGlEQUFpRCxxRUFBcUUsbUJBQW1CLHFFQUFxRSxPQUFPLGFBQWEsZ0JBQWdCLEtBQUssbUJBQW1CLDZDQUE2QyxzREFBc0QsNENBQTRDLFdBQVcsUUFBUSxLQUFLLG1CQUFtQiw2Q0FBNkMsV0FBVyxRQUFRLHVCQUF1QiwrYUFBK2EsV0FBVywyVUFBMlUsaUJBQWlCLFdBQVcsUUFBUSw0QkFBNEIsc0JBQXNCLEtBQUssbUNBQW1DLE1BQU0sUUFBUSxjQUFjLHNEQUFzRCx5Q0FBeUMsU0FBUyxtQkFBbUIsY0FBYyxzQkFBc0IsNkJBQTZCLHNCQUFzQixJQUFJLGlDQUFpQyxNQUFNLFFBQVEsY0FBYyxzREFBc0Qsd0NBQXdDLGVBQWUsbUNBQW1DLGdDQUFnQyxpQkFBaUIsTUFBTSxTQUFTLGtIQUFrSCxpQkFBaUIsbUJBQW1CLEdBQUcsRUFBRSxjQUFjLHdCQUF3QixFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxhQUFhLDZCQUE2Qix5QkFBeUIsZUFBZSxPQUFPLFVBQVUsT0FBTyw4REFBOEQsNENBQTRDLG1CQUFtQix3RUFBd0UsaUJBQWlCLHVEQUF1RCwwTEFBMEwsb0JBQW9CLFFBQVEsbUJBQW1CLFNBQVMsY0FBYyxZQUFZLEtBQUssMENBQTBDLGdIQUFnSCxJQUFJLHVCQUF1QixTQUFTLE9BQU8saUJBQWlCLGVBQWUsZUFBZSwwQ0FBMEMsNkdBQTZHLGlCQUFpQiwwQ0FBMEMscUhBQXFILGNBQWMsZ0RBQWdELHlYQUF5WCxtQkFBbUIsMENBQTBDLDBEQUEwRCxrS0FBa0ssaUJBQWlCLDBDQUEwQywwQ0FBMEMsc0dBQXNHLGVBQWUsU0FBUyxjQUFjLE1BQU0sZ0JBQWdCLE9BQU8sS0FBSyxpREFBaUQscUdBQXFHLElBQUksaUJBQWlCLGtCQUFrQixHQUFHLFNBQVMsbUJBQW1CLGVBQWUsWUFBWSxlQUFlLGdEQUFnRCxlQUFlLGlCQUFpQixpQkFBaUIscUNBQXFDLGlCQUFpQiwrUEFBK1AsWUFBWSxzRUFBc0UsRUFBRSxhQUFhLG1CQUFtQixlQUFlLHlIQUF5SCxlQUFlLHNFQUFzRSxxQkFBcUIsWUFBWSx1TkFBdU4sK0dBQStHLFlBQVksMkpBQTJKLHVIQUF1SCxTQUFTLGNBQWMsc0xBQXNMLG1CQUFtQixPQUFPLGtEQUFrRCxjQUFjLGlDQUFpQyxtQkFBbUIsZ0JBQWdCLHdCQUF3QixXQUFXLDhFQUE4RSxrQ0FBa0MsV0FBVyw2QkFBNkIsU0FBUyxtQkFBbUIsZUFBZSxtQkFBbUIsZUFBZSxXQUFXLGlDQUFpQyw4QkFBOEIsU0FBUyxpQkFBaUIsMkJBQTJCLElBQUksY0FBYyxTQUFTLG9DQUFvQyxJQUFJLElBQUksSUFBSSxxR0FBcUcsNkNBQTZDLHlGQUF5Riw2RUFBNkUsYUFBYSxzQ0FBc0MsNkJBQTZCLGFBQWEsNkdBQTZHLE1BQU0sK0NBQStDLDZCQUE2QixVQUFVLGlCQUFpQixnS0FBZ0ssT0FBTyxvQkFBb0IsaUxBQWlMLHlDQUF5Qyw4SUFBOEksaUNBQWlDLHdDQUF3QyxnQkFBZ0IsOEJBQThCLGlCQUFpQixtQkFBbUIseUJBQXlCLGlDQUFpQyxvQ0FBb0MscUJBQXFCLE1BQU0sTUFBTSxtREFBbUQsOERBQThELG9CQUFvQixXQUFXLHdCQUF3QixxQ0FBcUMsTUFBTSx5QkFBeUIsUUFBUSxJQUFJLHFCQUFxQixVQUFVLHVDQUF1Qyx1QkFBdUIsa0ZBQWtGLHVCQUF1QixnQ0FBZ0MsMENBQTBDLCtDQUErQyx1REFBdUQsMENBQTBDLGNBQWMsK0NBQStDLGlDQUFpQyw2SkFBNkosOEJBQThCLHNCQUFzQixLQUFLLG9DQUFvQyxvQkFBb0IsTUFBTSxtQkFBbUIsOEJBQThCLEtBQUssYUFBYSxnQkFBZ0IsU0FBUywrRkFBK0YsWUFBWSx1RkFBdUYsVUFBVSx5Q0FBeUMsME1BQTBNLHlCQUF5Qix1QkFBdUIsUUFBUSxXQUFXLDREQUE0RCwyR0FBMkcsdURBQXVELG9DQUFvQyxLQUFLLGdDQUFnQyxZQUFZLG1DQUFtQyxxQkFBcUIsc0NBQXNDLHFCQUFxQiwrQkFBK0IsMEVBQTBFLGdFQUFnRSxnREFBZ0QsTUFBTSxnQkFBZ0IsdUJBQXVCLFFBQVEsaUJBQWlCLGdCQUFnQix1QkFBdUIsUUFBUSxrQkFBa0IsRUFBRSxVQUFVLE9BQU8scUhBQXFILEVBQUUsaUNBQWlDLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSyxzQkFBc0IsMkJBQTJCLGlCQUFpQiw4Q0FBOEMsTUFBTSxvQkFBb0IsK0JBQStCLGlDQUFpQyxHQUFHLG9CQUFvQiw2QkFBNkIsYUFBYSxnQkFBZ0IsbUNBQW1DLE1BQU0sd0JBQXdCLGdCQUFnQixnRUFBZ0UsbUJBQW1CLEdBQUcsZ0JBQWdCLHVEQUF1RCxzREFBc0QsbUNBQW1DLFVBQVUsdURBQXVELDBCQUEwQixjQUFjLG1DQUFtQyxpQkFBaUIsZ0JBQWdCLCtDQUErQyxjQUFjLEtBQUssZ0JBQWdCLGdDQUFnQyxFQUFFLDhFQUE4RSxNQUFNLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksd0NBQXdDLE9BQU8sZ0JBQWdCLGNBQWMsZUFBZSxpQkFBaUIsOEJBQThCLFVBQVUsZ0NBQWdDLFdBQVcsY0FBYyxpREFBaUQsZUFBZSxhQUFhLGtDQUFrQywrRUFBK0UsU0FBUyxhQUFhLG1CQUFtQixhQUFhLHFEQUFxRCxjQUFjLDhEQUE4RCxnQ0FBZ0MsYUFBYSx3UEFBd1AseUVBQXlFLG1CQUFtQixzRUFBc0UsNEdBQTRHLFlBQVksK0JBQStCLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksdUJBQXVCLE9BQU8sMkRBQTJELGVBQWUsd0JBQXdCLGVBQWUseUVBQXlFLHdDQUF3Qyx1R0FBdUcsaURBQWlELGtEQUFrRCxpREFBaUQsaUJBQWlCLHlCQUF5QixlQUFlLElBQUksTUFBTSxxQkFBcUIsZUFBZSxLQUFLLG9HQUFvRyxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLGtGQUFrRixPQUFPLFVBQVUsZUFBZSxXQUFXLE1BQU0saUJBQWlCLGNBQWMsNkNBQTZDLFFBQVEsT0FBTyxrQkFBa0Isc0VBQXNFLFdBQVcsT0FBTyx1QkFBdUIsMERBQTBELFFBQVEsMEJBQTBCLHFCQUFxQix5RkFBeUYsUUFBUSx3Q0FBd0MsUUFBUSw2QkFBNkIsNEJBQTRCLEtBQUssa0JBQWtCLGFBQWEsU0FBUyxVQUFVLHNDQUFzQyw0Q0FBNEMsS0FBSyxFQUFFLDBDQUEwQyxTQUFTLGFBQWEscUJBQXFCLGVBQWUsbUJBQW1CLG1DQUFtQyx5RUFBeUUsUUFBUSxzQkFBc0IsUUFBUSxvQkFBb0IsRUFBRSx1QkFBdUIsY0FBYyx5QkFBeUIsR0FBRyxhQUFhLCtCQUErQixNQUFNLG1IQUFtSCxNQUFNLEtBQUsseUJBQXlCLHdCQUF3QixjQUFjLDRDQUE0QyxHQUFHLGFBQWEsc0NBQXNDLE1BQU0sMEpBQTBKLE1BQU0sS0FBSyx5QkFBeUIsd0JBQXdCLGdEQUFnRCxnQkFBZ0IsOEJBQThCLEtBQUssRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxnQ0FBZ0MsT0FBTyx5QkFBeUIsWUFBWSxtQkFBbUIseURBQXlELGVBQWUsb0JBQW9CLHFCQUFxQixnQkFBZ0IsWUFBWSxnQkFBZ0IsbUJBQW1CLEVBQUUsMEJBQTBCLGtCQUFrQixhQUFhLHdCQUF3QixZQUFZLGlEQUFpRCxFQUFFLGVBQWUsZUFBZSwyRUFBMkUscUJBQXFCLHVDQUF1QyxtQkFBbUIscUJBQXFCLElBQUkscUhBQXFILGtCQUFrQixlQUFlLHVGQUF1Rix3QkFBd0IsOENBQThDLGtCQUFrQix1QkFBdUIsZ0hBQWdILGFBQWEsaUJBQWlCLG1CQUFtQiwyQ0FBMkMsdUdBQXVHLHVDQUF1QyxpQ0FBaUMsTUFBTSxzQ0FBc0MsMkpBQTJKLCtKQUErSixtSEFBbUgsNkJBQTZCLHVDQUF1QyxrQkFBa0Isa0JBQWtCLDZCQUE2Qix1Q0FBdUMsZ0ZBQWdGLDhEQUE4RCxJQUFJLGNBQWMsNElBQTRJLGdKQUFnSixlQUFlLG9GQUFvRiw4RUFBOEUsZUFBZSwrQkFBK0IsZUFBZSxrREFBa0QsSUFBSSxtQkFBbUIsU0FBUyxtQkFBbUIsb0ZBQW9GLHNGQUFzRixNQUFNLDhJQUE4SSxlQUFlLG1JQUFtSSxXQUFXLGlCQUFpQixpQ0FBaUMsZ0VBQWdFLCtJQUErSSx1REFBdUQsc0JBQXNCLGNBQWMsV0FBVywrQ0FBK0MsMkNBQTJDLCtEQUErRCx1QkFBdUIsaUNBQWlDLHNDQUFzQyw4QkFBOEIsbUJBQW1CLFNBQVMsNkhBQTZILG1CQUFtQixXQUFXLDhCQUE4QiwyQ0FBMkMsZ0NBQWdDLDhDQUE4QyxpQ0FBaUMsd0VBQXdFLHlEQUF5RCw4QkFBOEIsbUJBQW1CLFdBQVcsa0JBQWtCLHVCQUF1QiwwQkFBMEIsdUpBQXVKLGVBQWUsY0FBYyxhQUFhLGdCQUFnQixLQUFLLDBGQUEwRiw0TEFBNEwsNERBQTRELHVCQUF1QixnQ0FBZ0MsbUdBQW1HLG9DQUFvQyxvQkFBb0IsZ0JBQWdCLHNDQUFzQyxNQUFNLFNBQVMsUUFBUSxJQUFJLG1DQUFtQyxzQ0FBc0MsNEJBQTRCLDRCQUE0QixLQUFLLEtBQUssaUJBQWlCLElBQUksMEJBQTBCLEtBQUssTUFBTSxjQUFjLFVBQVUscUJBQXFCLGVBQWUsaUJBQWlCLDZCQUE2QixlQUFlLGVBQWUsWUFBWSxJQUFJLEtBQUssbUNBQW1DLGtCQUFrQixVQUFVLFNBQVMscUJBQXFCLGtDQUFrQyxxQkFBcUIsc0JBQXNCLGlCQUFpQixXQUFXLGdDQUFnQyxTQUFTLFdBQVcscUJBQXFCLG1CQUFtQixxQkFBcUIsdUJBQXVCLHFCQUFxQix3QkFBd0IsdUJBQXVCLHdCQUF3Qix5REFBeUQsU0FBUyxzQkFBc0IsbUJBQW1CLDhFQUE4RSxtQkFBbUIsdUJBQXVCLGlCQUFpQixJQUFJLEVBQUUsc0RBQXNELG9CQUFvQixvQkFBb0IsTUFBTSw0REFBNEQsTUFBTSxtSEFBbUgsTUFBTSw4SUFBOEksb0dBQW9HLG1CQUFtQixlQUFlLHNEQUFzRCxpQkFBaUIsSUFBSSx5REFBeUQsU0FBUyxJQUFJLG1CQUFtQixTQUFTLHVCQUF1QixZQUFZLElBQUkscUNBQXFDLFNBQVMsbUJBQW1CLFNBQVMsdUJBQXVCLFlBQVksSUFBSSxpQ0FBaUMsU0FBUyxtQkFBbUIsZUFBZSx1Q0FBdUMsaUJBQWlCLElBQUksZ0JBQWdCLFNBQVMsbUJBQW1CLGdDQUFnQyxXQUFXLDZDQUE2QyxTQUFTLG1CQUFtQiwwREFBMEQsdUVBQXVFLHlCQUF5QixxRkFBcUYsc0VBQXNFLDJEQUEyRCx5QkFBeUIsMkRBQTJELGtEQUFrRCx1QkFBdUIsNkRBQTZELHVCQUF1Qiw2REFBNkQsaUJBQWlCLE1BQU0sU0FBUyxtQ0FBbUMsSUFBSSxLQUFLLHVDQUF1QyxPQUFPLFlBQVksK0JBQStCLFNBQVMsWUFBWSwrQkFBK0IsU0FBUyxJQUFJLFNBQVMsWUFBWSxtQ0FBbUMsU0FBUywrQkFBK0IsdUNBQXVDLGlCQUFpQixrQkFBa0IsV0FBVyxnQkFBZ0Isa0JBQWtCLDJCQUEyQixpQkFBaUIsa0JBQWtCLHdDQUF3QyxNQUFNLHNEQUFzRCxrQkFBa0Isc0RBQXNELFNBQVMsZUFBZSxrQ0FBa0Msb0VBQW9FLEtBQUssY0FBYyxRQUFRLFNBQVMsS0FBSyxxQkFBcUIsWUFBWSxtQ0FBbUMsZ0JBQWdCLFNBQVMsaUJBQWlCLDJHQUEyRyxlQUFlLFlBQVksaUJBQWlCLDBCQUEwQixtQkFBbUIsaUJBQWlCLGVBQWUsTUFBTSxpQ0FBaUMsa0JBQWtCLG9CQUFvQixXQUFXLFdBQVcscUNBQXFDLHFFQUFxRSwwQ0FBMEMsNENBQTRDLG9CQUFvQiw4QkFBOEIsSUFBSSw0RkFBNEYsWUFBWSxtQkFBbUIsMkNBQTJDLE1BQU0sZ0NBQWdDLE1BQU0sMENBQTBDLE1BQU0sZ0RBQWdELGtFQUFrRSxlQUFlLDhEQUE4RCxlQUFlLHFEQUFxRCxnREFBZ0QsNkJBQTZCLGdEQUFnRCwyRUFBMkUsU0FBUyxpTkFBaU4saUJBQWlCLHNCQUFzQiw4QkFBOEIsTUFBTSwrQkFBK0IsMElBQTBJLFNBQVMsMEdBQTBHLGVBQWUsbUNBQW1DLGtCQUFrQixtQ0FBbUMsK0NBQStDLFNBQVMsaUJBQWlCLHFCQUFxQixnTkFBZ04sZUFBZSxtQ0FBbUMsNEVBQTRFLGVBQWUsaUNBQWlDLGVBQWUsb0NBQW9DLDhFQUE4RSxJQUFJLElBQUksSUFBSSxRQUFRLHVCQUF1QiwwQkFBMEIsbUJBQW1CLHlCQUF5Qix1REFBdUQsbUJBQW1CLHlCQUF5QixRQUFRLElBQUksc0pBQXNKLG1NQUFtTSwyQkFBMkIsMENBQTBDLElBQUksNkNBQTZDLGtKQUFrSiwrSUFBK0ksTUFBTSw0Q0FBNEMsa0RBQWtELElBQUkseUJBQXlCLHFFQUFxRSxtQ0FBbUMsSUFBSSwwQkFBMEIsOEJBQThCLElBQUksMEJBQTBCLGVBQWUsTUFBTSxtQ0FBbUMsdUJBQXVCLGtDQUFrQyw2QkFBNkIsNEhBQTRILG1SQUFtUixLQUFLLCtCQUErQixrQkFBa0IsSUFBSSwrQkFBK0Isa0JBQWtCLE1BQU0sdUhBQXVILHNDQUFzQyxnQ0FBZ0MseUJBQXlCLDBEQUEwRCxJQUFJLDJCQUEyQixlQUFlLFlBQVksNkZBQTZGLE1BQU0sV0FBVywyUkFBMlIsNkJBQTZCLHdDQUF3Qyw4Q0FBOEMsNkJBQTZCLDRDQUE0Qyx5Q0FBeUMsaUJBQWlCLHFIQUFxSCx1QkFBdUIsMEZBQTBGLFFBQVEsMkJBQTJCLGFBQWEsK0JBQStCLGFBQWEsd0JBQXdCLGtEQUFrRCx5QkFBeUIsMk9BQTJPLGtCQUFrQixrREFBa0QsSUFBSSxvQkFBb0IsY0FBYyxNQUFNLHNCQUFzQiwwQkFBMEIsZ0NBQWdDLGtKQUFrSixtQkFBbUIsd0JBQXdCLHdGQUF3RixrQ0FBa0MsTUFBTSwwQkFBMEIsV0FBVyxtQkFBbUIsMkJBQTJCLFFBQVEsV0FBVyxLQUFLLFdBQVcscUhBQXFILHlCQUF5QixTQUFTLHdFQUF3RSxrQkFBa0IsNEVBQTRFLFlBQVksSUFBSSxvQkFBb0IsWUFBWSwrQkFBK0Isa0JBQWtCLDRFQUE0RSxZQUFZLElBQUkscUNBQXFDLFlBQVksK0JBQStCLGtCQUFrQiw0RUFBNEUsWUFBWSxJQUFJLHVFQUF1RSxZQUFZLGlDQUFpQyxrQkFBa0IsMkVBQTJFLGdGQUFnRixtRUFBbUUsdUNBQXVDLGdDQUFnQyxnQ0FBZ0MsOENBQThDLEVBQUUsK0RBQStELG1GQUFtRix1TEFBdUwsK0tBQStLLHVCQUF1QixrQkFBa0IsaUJBQWlCLHFCQUFxQixxR0FBcUcsSUFBSSxvQkFBb0IsY0FBYyxNQUFNLHNCQUFzQixzQ0FBc0MsZ0NBQWdDLHFDQUFxQyx5QkFBeUIseUNBQXlDLHlCQUF5QixxQ0FBcUMseUNBQXlDLDZEQUE2RCxNQUFNLDJHQUEyRyxtRUFBbUUsb0JBQW9CLGlJQUFpSSxjQUFjLGNBQWMsV0FBVyxnQ0FBZ0MsNkNBQTZDLGtDQUFrQyxnREFBZ0QsbUNBQW1DLDBFQUEwRSx5REFBeUQsOEJBQThCLCtCQUErQixRQUFRLG1FQUFtRSxnQ0FBZ0Msa0JBQWtCLGtHQUFrRyx5QkFBeUIsOENBQThDLHdDQUF3QyxxQ0FBcUMsMEJBQTBCLGdCQUFnQixnQkFBZ0IsU0FBUyx3Q0FBd0MscUNBQXFDLDBCQUEwQixjQUFjLGtCQUFrQixTQUFTLHFDQUFxQyw2Q0FBNkMsd0NBQXdDLDBEQUEwRCx3Q0FBd0MsMERBQTBELHdDQUF3Qyw2RkFBNkYsd0NBQXdDLDZGQUE2Rix1Q0FBdUMscUNBQXFDLDBCQUEwQixnQkFBZ0IsZ0JBQWdCLDJDQUEyQyx1Q0FBdUMscUNBQXFDLDhCQUE4QixjQUFjLGtCQUFrQiwyQ0FBMkMsb0NBQW9DLDRFQUE0RSx1Q0FBdUMsOEJBQThCLDJCQUEyQiw4QkFBOEIsdUNBQXVDLDhCQUE4QiwyQkFBMkIsOEJBQThCLHVDQUF1QyxzRkFBc0YsdUNBQXVDLHNGQUFzRix1Q0FBdUMsNkRBQTZELHVDQUF1Qyw2REFBNkQsd0NBQXdDLDZEQUE2RCx3Q0FBd0MsNkRBQTZELDJDQUEyQyx5REFBeUQsWUFBWSxrQkFBa0IsZ0JBQWdCLG1CQUFtQixXQUFXLDJDQUEyQyx5REFBeUQsY0FBYyxvQkFBb0IsaUJBQWlCLG1CQUFtQixXQUFXLHdDQUF3Qyw2REFBNkQsMkNBQTJDLCtFQUErRSwyQ0FBMkMsK0VBQStFLDJDQUEyQyxzSEFBc0gsMkNBQTJDLHNIQUFzSCwwQ0FBMEMsbUJBQW1CLHdCQUF3Qix1QkFBdUIsZ0JBQWdCLGtCQUFrQixnQkFBZ0IsNkRBQTZELFdBQVcsMENBQTBDLG1CQUFtQix3QkFBd0IsdUJBQXVCLGtCQUFrQixvQkFBb0IsaUJBQWlCLDZEQUE2RCxXQUFXLHVDQUF1QyxpRkFBaUYsMENBQTBDLG9GQUFvRiwwQ0FBMEMsb0ZBQW9GLDBDQUEwQyxnSUFBZ0ksMENBQTBDLHdKQUF3SiwwQ0FBMEMseUJBQXlCLDBDQUEwQyx5QkFBeUIsMkNBQTJDLHlCQUF5QiwyQ0FBMkMseUJBQXlCLG9DQUFvQyxxRUFBcUUsdUlBQXVJLHlEQUF5RCxrRUFBa0UsdURBQXVELGdFQUFnRSxVQUFVLHVGQUF1Rix5Q0FBeUMsS0FBSyxxQkFBcUIsMkRBQTJELFNBQVMsb0NBQW9DLHVCQUF1QixzS0FBc0ssb0ZBQW9GLGlCQUFpQixzQkFBc0IsMkNBQTJDLGtFQUFrRSxnRkFBZ0Ysb0JBQW9CLE1BQU0sNkVBQTZFLElBQUksY0FBYyxNQUFNLDZDQUE2QyxrRkFBa0YsUUFBUSxNQUFNLHNCQUFzQixhQUFhLHVCQUF1QixjQUFjLDZCQUE2QixLQUFLLHVCQUF1QixLQUFLLHVEQUF1RCxTQUFTLEdBQUcsVUFBVSxxQkFBcUIsY0FBYyxLQUFLLG9CQUFvQixnS0FBZ0ssMkVBQTJFLGlCQUFpQiwwQkFBMEIsdUVBQXVFLFlBQVksdUVBQXVFLDRCQUE0Qix1RUFBdUUsYUFBYSxnQ0FBZ0MsdUVBQXVFLHlCQUF5QixXQUFXLDRDQUE0QyxrQ0FBa0MsK0lBQStJLG9CQUFvQixtREFBbUQsMEJBQTBCLFFBQVEsa0JBQWtCLDJDQUEyQyxpQ0FBaUMsU0FBUywwREFBMEQsOEJBQThCLG1DQUFtQyxrQ0FBa0MsaUNBQWlDLHNCQUFzQixpQkFBaUIsZ0JBQWdCLGVBQWUsc0tBQXNLLFdBQVcsOENBQThDLGlCQUFpQixpQ0FBaUMsd0RBQXdELG1DQUFtQyw0SkFBNEosd0ZBQXdGLGlCQUFpQixrQkFBa0IsRUFBRSxVQUFVLE9BQU8sb0NBQW9DLEVBQUUsa0JBQWtCLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSyxxQkFBcUIsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksYUFBYSxpRUFBaUUsT0FBTyxVQUFVLGVBQWUsa0RBQWtELFlBQVksbUJBQW1CLE1BQU0scURBQXFELDBCQUEwQiwrQkFBK0IsRUFBRSxNQUFNLDJCQUEyQixnQ0FBZ0MsNkNBQTZDLGFBQWEsbUNBQW1DLE9BQU8sbUJBQW1CLGVBQWUsMEJBQTBCLHVEQUF1RCxvQkFBb0IsMkNBQTJDLFNBQVMsSUFBSSxlQUFlLGtCQUFrQixvQkFBb0IsZ0NBQWdDLElBQUksUUFBUSxrQkFBa0IsVUFBVSxtQkFBbUIsTUFBTSxFQUFFLElBQUksSUFBSSxlQUFlLDJCQUEyQixrQkFBa0IsTUFBTSw2Q0FBNkMsOEJBQThCLHNCQUFzQixPQUFPLFNBQVMsY0FBYyxPQUFPLFNBQVMsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxhQUFhLG9NQUFvTSxNQUFNLGFBQWEsbUJBQW1CLElBQUksZ0JBQWdCLGVBQWUsNkJBQTZCLE9BQU8sVUFBVSxlQUFlLGtCQUFrQiwyQ0FBMkMsS0FBSyxtQkFBbUIsK0NBQStDLE9BQU8sNkJBQTZCLDhJQUE4SSxPQUFPLGtCQUFrQix3QkFBd0IsaUJBQWlCLHNCQUFzQiw2QkFBNkIsU0FBUyxhQUFhLEVBQUUsa0JBQWtCLElBQUksbUJBQW1CLHkzQkFBeTNCLGNBQWMsd0NBQXdDLDJCQUEyQixzUkFBc1IsZ0VBQWdFLEdBQUcsK0JBQStCLG9DQUFvQyxtQ0FBbUMsT0FBTyxtREFBbUQsa0JBQWtCLCtCQUErQix3QkFBd0Isa0NBQWtDLHdCQUF3QixxQkFBcUIsd0JBQXdCLHlCQUF5QiwrU0FBK1Msc0NBQXNDLHNFQUFzRSxNQUFNLG9DQUFvQyxjQUFjLDZCQUE2QixNQUFNLG9DQUFvQyxnSEFBZ0gsK0JBQStCLDBEQUEwRCxxQkFBcUIsaVJBQWlSLGdDQUFnQywwQkFBMEIsbUNBQW1DLG9DQUFvQyxnQkFBZ0IsZ0dBQWdHLHNDQUFzQyw2QkFBNkIsNkVBQTZFLGtCQUFrQixlQUFlLHlDQUF5QywrREFBK0QsaUJBQWlCLGdKQUFnSiw2QkFBNkIsaURBQWlELDhCQUE4QixzUUFBc1EsK0RBQStELHFCQUFxQixtTkFBbU4sV0FBVyxzRUFBc0UsSUFBSSw2QkFBNkIsU0FBUyxZQUFZLGtDQUFrQyxNQUFNLHFVQUFxVSxpQkFBaUIsNkJBQTZCLGNBQWMsc0JBQXNCLG1FQUFtRSx5RUFBeUUsZUFBZSx1QkFBdUIsOEpBQThKLGVBQWUsdUJBQXVCLCtNQUErTSxpQkFBaUIsdUVBQXVFLGlCQUFpQixLQUFLLDBFQUEwRSxFQUFFLGVBQWUsMERBQTBELGtCQUFrQiw4QkFBOEIseUJBQXlCLCtCQUErQixpQ0FBaUMscU1BQXFNLHlEQUF5RCw2REFBNkQsZ0JBQWdCLGtFQUFrRSxhQUFhLG9CQUFvQixXQUFXLGFBQWEsZ1VBQWdVLGFBQWEsZ1NBQWdTLGVBQWUsY0FBYyxZQUFZLGlCQUFpQiwrQkFBK0IsY0FBYyxnRkFBZ0YseUNBQXlDLCtDQUErQyxnQkFBZ0IsYUFBYSxrQ0FBa0Msa0JBQWtCLGFBQWEsK0NBQStDLG1CQUFtQixhQUFhLHlCQUF5Qiw0R0FBNEcsaUJBQWlCLGtCQUFrQix1QkFBdUIsK1BBQStQLCtCQUErQiw2QkFBNkIsZUFBZSxrQ0FBa0MsT0FBTyxjQUFjLHdCQUF3QixZQUFZLFdBQVcsNkJBQTZCLGNBQWMsRUFBRSxZQUFZLG9CQUFvQix3R0FBd0csNkJBQTZCLDJEQUEyRCwrVEFBK1QsdUNBQXVDLHlDQUF5QyxpREFBaUQsK0NBQStDLDJDQUEyQywyQ0FBMkMsNERBQTRELDZEQUE2RCxlQUFlLHVCQUF1Qix5S0FBeUssZUFBZSx5Q0FBeUMsOEJBQThCLDBCQUEwQix5RkFBeUYsaUJBQWlCLCtEQUErRCxpQkFBaUIseUhBQXlILDZCQUE2QixnTUFBZ00sZUFBZSx1QkFBdUIsd0JBQXdCLDJCQUEyQixHQUFHLDZCQUE2QixTQUFTLGdCQUFnQiwwQ0FBMEMsa0JBQWtCLGlCQUFpQixtQkFBbUIsWUFBWSxvQkFBb0IsZ0JBQWdCLHNCQUFzQixnQkFBZ0Isa0JBQWtCLGlDQUFpQyxZQUFZLFlBQVksV0FBVyxLQUFLLFdBQVcsbUVBQW1FLGFBQWEsMkJBQTJCLGlCQUFpQixpQ0FBaUMsK0NBQStDLGlCQUFpQix3Q0FBd0MsY0FBYyxHQUFHLGNBQWMsb0JBQW9CLHVCQUF1QixTQUFTLGNBQWMseUJBQXlCLG1CQUFtQixjQUFjLFlBQVksS0FBSywyQkFBMkIsRUFBRSxJQUFJLE1BQU0sRUFBRSxnQ0FBZ0Msb0JBQW9CLE1BQU0sYUFBYSxtQkFBbUIsbUJBQW1CLFNBQVMsa0JBQWtCLFFBQVEsMEhBQTBILGdCQUFnQixVQUFVLHFCQUFxQiwwQkFBMEIsMEVBQTBFLFFBQVEsMERBQTBELGtCQUFrQiw0Q0FBNEMsd0NBQXdDLGtCQUFrQiw0Q0FBNEMsNklBQTZJLHdCQUF3Qiw0Q0FBNEMsMENBQTBDLGlCQUFpQiw0Q0FBNEMsd0RBQXdELGtCQUFrQiw0Q0FBNEMsbUNBQW1DLGlCQUFpQix1REFBdUQsaUJBQWlCLG1DQUFtQyxtQ0FBbUMscUJBQXFCLG1DQUFtQyw4REFBOEQsbUJBQW1CLG1DQUFtQyw4REFBOEQsVUFBVSxtQ0FBbUMsNkRBQTZELFNBQVMscUJBQXFCLDBEQUEwRCxZQUFZLG1DQUFtQyw0REFBNEQsUUFBUSx5REFBeUQsZ0JBQWdCLG1DQUFtQywrREFBK0QsRUFBRSxpQkFBaUIsWUFBWSxxQkFBcUIsMEJBQTBCLFNBQVMscUJBQXFCLHFCQUFxQixRQUFRLGdCQUFnQixFQUFFLGVBQWUsaUJBQWlCLDRCQUE0QixNQUFNLDZNQUE2TSxlQUFlLHVCQUF1Qiw4RUFBOEUsaUJBQWlCLHNHQUFzRyxvRkFBb0YsdUJBQXVCLHVCQUF1QixtRUFBbUUsZUFBZSxxREFBcUQscUJBQXFCLGtCQUFrQixPQUFPLGNBQWMsMEJBQTBCLEtBQUssd0JBQXdCLHNEQUFzRCxzQkFBc0Isc0RBQXNELHFCQUFxQixRQUFRLGNBQWMsb0hBQW9ILHlCQUF5QixZQUFZLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGFBQWEsNk1BQTZNLE1BQU0sY0FBYyxvQkFBb0IsSUFBSSxnQkFBZ0IsOEJBQThCLFVBQVUsdUJBQXVCLGtCQUFrQixPQUFPLCtDQUErQyxPQUFPLGdQQUFnUCxhQUFhLGtCQUFrQixJQUFJLDhCQUE4QixVQUFVLGVBQWUseUJBQXlCLG1CQUFtQix3VEFBd1Qsa0NBQWtDLDhkQUE4ZCxlQUFlLDhEQUE4RCxrQ0FBa0MsNkNBQTZDLHdDQUF3QyxxQkFBcUIsZ0RBQWdELEVBQUUsZUFBZSwyQkFBMkIscUNBQXFDLDRYQUE0WCwwQkFBMEIsa0NBQWtDLEdBQUcsVUFBVSxpQ0FBaUMscUVBQXFFLEVBQUUsNkJBQTZCLGtCQUFrQixxQkFBcUIsdUJBQXVCLGdEQUFnRCxNQUFNLDBCQUEwQix3REFBd0QsOEJBQThCLHlCQUF5Qix5RkFBeUYsbUNBQW1DLG1FQUFtRSw4REFBOEQsTUFBTSwwSEFBMEgsbUNBQW1DLDRCQUE0Qiw2QkFBNkIsK0JBQStCLCtCQUErQiwwQkFBMEIsK0NBQStDLDRDQUE0QyxtRUFBbUUsbURBQW1ELHVCQUF1Qiw4QkFBOEIsWUFBWSwrQkFBK0IsNEZBQTRGLDhCQUE4QixtTUFBbU0sMkJBQTJCLG1KQUFtSixxQkFBcUIsa0NBQWtDLGlCQUFpQiw0Q0FBNEMseUJBQXlCLGFBQWEsT0FBTyw4V0FBOFcsOEJBQThCLHFEQUFxRCxhQUFhLDhCQUE4QixFQUFFLDZDQUE2QyxxQkFBcUIseUZBQXlGLE9BQU8sbUJBQW1CLDRCQUE0QixlQUFlLG9CQUFvQiwwQkFBMEIsb0JBQW9CLEtBQUssTUFBTSxJQUFJLG1CQUFtQix5Q0FBeUMsbUVBQW1FLHNCQUFzQixZQUFZLFdBQVcsS0FBSyxNQUFNLHdEQUF3RCxPQUFPLGlCQUFpQixvRUFBb0UsSUFBSSx3Q0FBd0MsZ0JBQWdCLGFBQWEsUUFBUSx5Q0FBeUMsaUJBQWlCLHVCQUF1QixZQUFZLFdBQVcsc0JBQXNCLDhCQUE4Qiw0REFBNEQsTUFBTSxHQUFHLElBQUksOEJBQThCLE1BQU0sWUFBWSxtQkFBbUIsb0JBQW9CLDhCQUE4Qiw4RUFBOEUsdUJBQXVCLG9DQUFvQywrQkFBK0IsbUJBQW1CLEtBQUssK0JBQStCLDBCQUEwQixpQ0FBaUMsMEJBQTBCLDRFQUE0RSxNQUFNLFlBQVksbUJBQW1CLHdCQUF3QixtUEFBbVAsZUFBZSx5SkFBeUosaUJBQWlCLFNBQVMsY0FBYyxNQUFNLGNBQWMsT0FBTyx5QkFBeUIsc0JBQXNCLFlBQVksV0FBVyxZQUFZLGdCQUFnQixzRkFBc0Ysd0JBQXdCLElBQUksYUFBYSxTQUFTLE1BQU0sV0FBVyxpQkFBaUIsK0lBQStJLG1CQUFtQix1RUFBdUUsNkJBQTZCLHlDQUF5QyxpQkFBaUIsNEJBQTRCLHNCQUFzQixZQUFZLFdBQVcsV0FBVyxtQ0FBbUMsdUJBQXVCLG9FQUFvRSxpQkFBaUIsUUFBUSxxQkFBcUIsMERBQTBELFlBQVkscUJBQXFCLDREQUE0RCxRQUFRLHlEQUF5RCxXQUFXLHFCQUFxQiwwQkFBMEIsMkVBQTJFLFFBQVEsMERBQTBELG1CQUFtQixxQkFBcUIsNERBQTRELHFCQUFxQixxQkFBcUIsOERBQThELGlCQUFpQixxQkFBcUIsNkRBQTZELGdCQUFnQixxQkFBcUIsMERBQTBELG9CQUFvQixxQkFBcUIsMEJBQTBCLGtEQUFrRCx3QkFBd0IscUJBQXFCLCtEQUErRCxpQkFBaUIscUJBQXFCLHlEQUF5RCxpQkFBaUIscUJBQXFCLHdEQUF3RCxVQUFVLG1DQUFtQyw2REFBNkQsa0JBQWtCLDRDQUE0Qyw0SUFBNEksRUFBRSxrQkFBa0IsbUNBQW1DLDBCQUEwQixrSEFBa0gscUNBQXFDLG9DQUFvQyxPQUFPLG9EQUFvRCxrQkFBa0IsT0FBTyxjQUFjLDBCQUEwQixLQUFLLHlCQUF5QixzREFBc0QscUJBQXFCLHFEQUFxRCxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSw2QkFBNkIsZ0lBQWdJLGVBQWUscUJBQXFCLHFEQUFxRCxPQUFPLGFBQWEsdUJBQXVCLHlCQUF5Qix1RUFBdUUsdUJBQXVCLGFBQWEsVUFBVSxzREFBc0QseUJBQXlCLDBCQUEwQixlQUFlLDhRQUE4USwyQkFBMkIsa0JBQWtCLG9CQUFvQixXQUFXLEVBQUUsb0JBQW9CLFdBQVcsRUFBRSxvQkFBb0Isd0JBQXdCLEVBQUUseUJBQXlCLElBQUksa0NBQWtDLE9BQU8seUJBQXlCLHdDQUF3QyxFQUFFLGNBQWMseUJBQXlCLG1CQUFtQiwwQ0FBMEMsS0FBSyxTQUFTLEVBQUUsaUJBQWlCLDJDQUEyQyxZQUFZLElBQUksNkJBQTZCLFNBQVMsbUJBQW1CLEdBQUcsV0FBVyxFQUFFLDZEQUE2RCxtQ0FBbUMseUJBQXlCLDBCQUEwQixFQUFFLCtEQUErRCxrSkFBa0osV0FBVyxzQkFBc0IsRUFBRSxjQUFjLHlCQUF5QixNQUFNLGtCQUFrQixpQ0FBaUMsS0FBSyxTQUFTLFlBQVksbUNBQW1DLEVBQUUsMkdBQTJHLHFCQUFxQixxQkFBcUIsZUFBZSxJQUFJLG9CQUFvQiwwQkFBMEIsUUFBUSwwQkFBMEIsTUFBTSxFQUFFLFFBQVEsT0FBTyxJQUFJLG9CQUFvQixTQUFTLDJCQUEyQixrQ0FBa0MsZUFBZSxFQUFFLEdBQUcsb0JBQW9CLGtCQUFrQixJQUFJLFNBQVMsZUFBZSxRQUFRLFVBQVUscUJBQXFCLEdBQUcsVUFBVSxRQUFRLFVBQVUsYUFBYSxHQUFHLGNBQWMsa0JBQWtCLGVBQWUsK0hBQStILGNBQWMsUUFBUSwrQkFBK0IsaUJBQWlCLGdJQUFnSSxlQUFlLHNCQUFzQiwyQkFBMkIsc0JBQXNCLHNCQUFzQixhQUFhLHlCQUF5QixNQUFNLFFBQVEsYUFBYSwyQkFBMkIsTUFBTSxRQUFRLGFBQWEsZ0JBQWdCLHNCQUFzQiw2QkFBNkIsTUFBTSxRQUFRLGFBQWEsd0JBQXdCLGNBQWMscUJBQXFCLE1BQU0sRUFBRSxlQUFlLGFBQWEsVUFBVSxPQUFPLHNCQUFzQiwyQkFBMkIsbUZBQW1GLElBQUksRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxrR0FBa0csTUFBTSxjQUFjLG9CQUFvQiw4QkFBOEIsV0FBVyx1QkFBdUIsWUFBWSxXQUFXLEtBQUssV0FBVyxxREFBcUQsZUFBZSwwQ0FBMEMsbVdBQW1XLGlCQUFpQixVQUFVLDhDQUE4Qyx3QkFBd0IsMkRBQTJELHFCQUFxQix3REFBd0QsaUJBQWlCLG9EQUFvRCxpQkFBaUIsb0RBQW9ELG1CQUFtQixzREFBc0QsaUJBQWlCLG9EQUFvRCxnQkFBZ0IsbURBQW1ELG9CQUFvQix1REFBdUQsWUFBWSxxQkFBcUIsa0lBQWtJLFFBQVEsK0dBQStHLEVBQUUsT0FBTyxjQUFjLDBCQUEwQixLQUFLLHlCQUF5QiwwREFBMEQscUJBQXFCLGtEQUFrRCxPQUFPLG9CQUFvQixvQ0FBb0MsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxrQ0FBa0MsTUFBTSxjQUFjLElBQUksOEJBQThCLHFCQUFxQixvQkFBb0IsTUFBTSw4QkFBOEIsVUFBVSx1QkFBdUIsZUFBZSwwQ0FBMEMsbURBQW1ELFdBQVcsaUdBQWlHLDBNQUEwTSxlQUFlLG9FQUFvRSxNQUFNLHVCQUF1QixPQUFPLDhDQUE4Qyw0QkFBNEIsY0FBYyxpQ0FBaUMsdUJBQXVCLHdDQUF3Qyw4QkFBOEIsb0NBQW9DLDJEQUEyRCw0QkFBNEIsTUFBTSxLQUFLLE9BQU8sc0ZBQXNGLElBQUksOEJBQThCLGFBQWEsZUFBZSxzQkFBc0IsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSx3QkFBd0IsTUFBTSxjQUFjLFlBQVksOEJBQThCLFVBQVUsZUFBZSwwQ0FBMEMsaUJBQWlCLHdDQUF3QyxhQUFhLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGFBQWEsa0RBQWtELGVBQWUsUUFBUSx1QkFBdUIsNkJBQTZCLDhIQUE4SCxlQUFlLE9BQU8sMkNBQTJDLE9BQU8sK0lBQStJLGdFQUFnRSxtQkFBbUIsU0FBUyxrQkFBa0IsTUFBTSxFQUFFLFlBQVksc0JBQXNCLEtBQUssTUFBTSxFQUFFLFFBQVEsWUFBWSw2Q0FBNkMsWUFBWSxlQUFlLDhEQUE4RCxlQUFlLGtCQUFrQixzQkFBc0IsOERBQThELHFCQUFxQiw4Q0FBOEMseUJBQXlCLE1BQU0sRUFBRSxtQkFBbUIsZUFBZSxRQUFRLGFBQWEsc0JBQXNCLGNBQWMsY0FBYyxFQUFFLGdCQUFnQixZQUFZLFlBQVksSUFBSSxJQUFJLCtCQUErQiwyQ0FBMkMsMEJBQTBCLFNBQVMsb0JBQW9CLFFBQVEsdUJBQXVCLHlCQUF5QixNQUFNLEVBQUUsc0JBQXNCLG9CQUFvQixJQUFJLDBEQUEwRCxFQUFFLHNDQUFzQyxTQUFTLElBQUksdUJBQXVCLFNBQVMsUUFBUSxrQkFBa0IsdUJBQXVCLG1CQUFtQix1RUFBdUUseUNBQXlDLHVCQUF1QixhQUFhLFdBQVcsK0JBQStCLGlCQUFpQixjQUFjLGNBQWMsZ0JBQWdCLG9FQUFvRSxLQUFLLFNBQVMsY0FBYywyRkFBMkYsTUFBTSxZQUFZLFdBQVcsS0FBSyxrRUFBa0UsVUFBVSxrQkFBa0Isd0VBQXdFLE1BQU0sSUFBSSxxQkFBcUIsV0FBVyxnQ0FBZ0Msc0NBQXNDLDZCQUE2QixHQUFHLGtDQUFrQyxRQUFRLFNBQVMsc0VBQXNFLDBDQUEwQyw4QkFBOEIsVUFBVSxNQUFNLGtEQUFrRCxhQUFhLFVBQVUsU0FBUyxLQUFLLHVEQUF1RCxJQUFJLE1BQU0sTUFBTSxNQUFNLGNBQWMsY0FBYyxjQUFjLDJDQUEyQywwQ0FBMEMsc0RBQXNELE1BQU0saUNBQWlDLEVBQUUsK0JBQStCLE1BQU0sRUFBRSxzQkFBc0IscUJBQXFCLGVBQWUsTUFBTSxHQUFHLDhEQUE4RCxJQUFJLElBQUksc0JBQXNCLGFBQWEsMkJBQTJCLGVBQWUsVUFBVSxLQUFLLGdCQUFnQixNQUFNLEVBQUUscUJBQXFCLHNCQUFzQixvQkFBb0IsY0FBYyxNQUFNLEdBQUcsNEJBQTRCLE1BQU0sRUFBRSxzR0FBc0csS0FBSyxlQUFlLDJCQUEyQixNQUFNLEVBQUUsbUNBQW1DLE1BQU0sRUFBRSxxQ0FBcUMsTUFBTSxFQUFFLHNHQUFzRyxLQUFLLG1CQUFtQixrRUFBa0UsbUJBQW1CLE1BQU0sRUFBRSxTQUFTLHFCQUFxQixjQUFjLFlBQVksT0FBTyxLQUFLLGlCQUFpQixlQUFlLHNDQUFzQyxTQUFTLGFBQWEsd0JBQXdCLEtBQUssdUJBQXVCLHdIQUF3SCxRQUFRLHdCQUF3QixJQUFJLFlBQVksOEJBQThCLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksWUFBWSxlQUFlLGFBQWEsT0FBTyx3SEFBd0gsT0FBTyxxQkFBcUIsOENBQThDLGNBQWMsMEJBQTBCLHdDQUF3QyxxQ0FBcUMsYUFBYSxtRkFBbUYsaUJBQWlCLG9CQUFvQixZQUFZLFdBQVcsZ0NBQWdDLHlFQUF5RSxFQUFFLDRCQUE0QixnRUFBZ0UsRUFBRSw0QkFBNEIsY0FBYyxjQUFjLFFBQVEsa0RBQWtELHlFQUF5RSxhQUFhLGdJQUFnSSxLQUFLLGtDQUFrQyxzQkFBc0Isc0JBQXNCLGFBQWEseUJBQXlCLE1BQU0sUUFBUSxhQUFhLEVBQUUsZUFBZSx1Q0FBdUMsK0JBQStCLElBQUkscUNBQXFDLE9BQU8sU0FBUyxPQUFPLDRCQUE0QixJQUFJLG9DQUFvQyxPQUFPLFNBQVMsU0FBUyx5QkFBeUIsVUFBVSxNQUFNLFFBQVEsYUFBYSxHQUFHLE1BQU0sb0NBQW9DLE1BQU0sUUFBUSxhQUFhLHdCQUF3QixjQUFjLHFCQUFxQixNQUFNLEVBQUUsZUFBZSxhQUFhLFVBQVUsT0FBTyx1QkFBdUIsZUFBZSx1Q0FBdUMseUJBQXlCLE1BQU0sS0FBSyxJQUFJLGVBQWUsZ0JBQWdCLHFCQUFxQixNQUFNLGFBQWEsUUFBUSxNQUFNLFdBQVcsZ0NBQWdDLGtGQUFrRixLQUFLLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLHlEQUF5RCxPQUFPLHlGQUF5RixlQUFlLE9BQU8sNERBQTRELCtCQUErQixZQUFZLGVBQWUsNEJBQTRCLE9BQU8sOEJBQThCLE9BQU8sMEhBQTBILG9DQUFvQyxpQkFBaUIscUlBQXFJLGlCQUFpQiwyQ0FBMkMsaUJBQWlCLDBFQUEwRSx3RUFBd0UsUUFBUSwyRkFBMkYsUUFBUSx1Q0FBdUMsU0FBUyxpQkFBaUIsaUlBQWlJLGFBQWEsYUFBYSxNQUFNLG1CQUFtQixJQUFJLHNCQUFzQixNQUFNLFlBQVksMEJBQTBCLElBQUksVUFBVSxTQUFTLFNBQVMsdUpBQXVKLEtBQUssSUFBSSxZQUFZLFNBQVMsWUFBWSwwQkFBMEIsUUFBUSxNQUFNLGtHQUFrRyxJQUFJLElBQUksTUFBTSxFQUFFLEtBQUssV0FBVyxFQUFFLGlCQUFpQixpQkFBaUIsMEJBQTBCLDZDQUE2QyxpQkFBaUIsS0FBSyxJQUFJLFFBQVEsaUNBQWlDLFlBQVksc0JBQXNCLGlHQUFpRyxRQUFRLHlCQUF5QixNQUFNLHFFQUFxRSxzQkFBc0IsRUFBRSxnQkFBZ0IsWUFBWSw4QkFBOEIsK0NBQStDLFVBQVUsOEJBQThCLDBFQUEwRSwwREFBMEQsdUJBQXVCLDhDQUE4Qyx1QkFBdUIsMEVBQTBFLHNCQUFzQix1QkFBdUIsdUNBQXVDLGlCQUFpQiwwRUFBMEUsc0JBQXNCLHlCQUF5Qix5QkFBeUIsd0JBQXdCLGNBQWMsc0ZBQXNGLHlCQUF5QixNQUFNLCtFQUErRSx3RUFBd0UseUJBQXlCLHdEQUF3RCxxQkFBcUIsc0JBQXNCLEVBQUUsOEJBQThCLDhCQUE4Qix3QkFBd0Isc0JBQXNCLE9BQU8sbUJBQW1CLG9EQUFvRCxTQUFTLElBQUkseUJBQXlCLE1BQU0seUVBQXlFLGlCQUFpQixTQUFTLGNBQWMsdUJBQXVCLFFBQVEsV0FBVyxTQUFTLHFCQUFxQix3RUFBd0UsU0FBUyx5QkFBeUIsTUFBTSw0RUFBNEUsc0JBQXNCLEVBQUUsU0FBUyxTQUFTLGlCQUFpQix3QkFBd0IseUJBQXlCLDhCQUE4QixZQUFZLGVBQWUsMEJBQTBCLHVDQUF1QyxTQUFTLHdCQUF3Qix5R0FBeUcsTUFBTSxvRUFBb0UseUJBQXlCLE1BQU0sb0VBQW9FLG9CQUFvQixZQUFZLHdCQUF3Qix5R0FBeUcsTUFBTSxvRUFBb0UseUJBQXlCLE1BQU0sb0VBQW9FLGtCQUFrQixhQUFhLFlBQVkscUNBQXFDLDBFQUEwRSxzQ0FBc0MsMkRBQTJELEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksZ0NBQWdDLE9BQU8sNkNBQTZDLE9BQU8sZ0JBQWdCLE9BQU8sWUFBWSxNQUFNLEtBQUssa0JBQWtCLHNCQUFzQix3QkFBd0Isa0RBQWtELFlBQVksb0JBQW9CLGFBQWEsYUFBYSxFQUFFLGVBQWUsR0FBRyxFQUFFLFlBQVksMEJBQTBCLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksVUFBVSxlQUFlLHNEQUFzRCxPQUFPLFdBQVcsV0FBVyxPQUFPLHlEQUF5RCxPQUFPLE9BQU8sNEJBQTRCLGVBQWUsWUFBWSxPQUFPLGFBQWEsd0RBQXdELDhCQUE4QiwwQkFBMEIsNEJBQTRCLGlCQUFpQixxQkFBcUIscUJBQXFCLHlCQUF5Qix1Q0FBdUMsWUFBWSxhQUFhLDRCQUE0QixpQkFBaUIsOEJBQThCLDhCQUE4QixpRUFBaUUsR0FBRyxxQkFBcUIscUJBQXFCLHlCQUF5QixxQkFBcUIsWUFBWSxhQUFhLDRCQUE0QixpQkFBaUIsOEJBQThCLDhCQUE4QixpRUFBaUUsR0FBRyxpQkFBaUIsZUFBZSxrQkFBa0Isb0JBQW9CLGVBQWUsSUFBSSxrQkFBa0IsTUFBTSxxQkFBcUIsZUFBZSxjQUFjLGNBQWMsa0JBQWtCLG1EQUFtRCxXQUFXLEVBQUUsVUFBVSxtQ0FBbUMsb0JBQW9CLEVBQUUsVUFBVSxtQ0FBbUMsb0JBQW9CLEVBQUUsYUFBYSw2QkFBNkIsZ0NBQWdDLG1DQUFtQyxxREFBcUQsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksMkNBQTJDLHVCQUF1QixzREFBc0QsMENBQTBDLHNDQUFzQyxrQ0FBa0Msb0NBQW9DLGdDQUFnQyxnQ0FBZ0MsNEJBQTRCLGtDQUFrQyxzQ0FBc0MsNENBQTRDLGdDQUFnQyw4QkFBOEIsc0JBQXNCLGdDQUFnQyw4QkFBOEIscUNBQXFDLG9DQUFvQyxXQUFXLEVBQUUsNEJBQTRCLCtCQUErQixFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSwwREFBMEQsc0RBQXNELGFBQWEsbURBQW1ELElBQUksMEJBQTBCLE1BQU0sV0FBVyxtQkFBbUIsd0VBQXdFLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksVUFBVSwwQ0FBMEMsZUFBZSwwQ0FBMEMsdUJBQXVCLHFCQUFxQiwrQkFBK0IsU0FBUyxrREFBa0QsOEJBQThCLGtCQUFrQixpQ0FBaUMsc0JBQXNCLFFBQVEsWUFBWSxvQkFBb0IsS0FBSyw2QkFBNkIsK0NBQStDLE9BQU8sd0NBQXdDLGtCQUFrQixZQUFZLElBQUksNEJBQTRCLFVBQVUsNkJBQTZCLDZCQUE2QixzQkFBc0IsK0JBQStCLGlDQUFpQyxrSEFBa0gsb0NBQW9DLG9JQUFvSSx1REFBdUQsMkJBQTJCLG1GQUFtRixZQUFZLG9CQUFvQixvREFBb0QsU0FBUyx3R0FBd0cseUJBQXlCLGVBQWUsb0JBQW9CLEtBQUssNkJBQTZCLHNDQUFzQyxNQUFNLG1DQUFtQyxNQUFNLGVBQWUsa0NBQWtDLHdDQUF3QyxrSEFBa0gsd0VBQXdFLGtIQUFrSCxzQ0FBc0Msb0NBQW9DLGlDQUFpQyxxREFBcUQsS0FBSyxrQkFBa0IseUdBQXlHLE1BQU0sb0RBQW9ELE1BQU0sYUFBYSxrQ0FBa0Msa0JBQWtCLFlBQVksb0JBQW9CLDRCQUE0QixVQUFVLGdDQUFnQyx1QkFBdUIsNEVBQTRFLHFDQUFxQyxXQUFXLHNCQUFzQiwwQ0FBMEMsaUJBQWlCLDRCQUE0Qix5RUFBeUUsYUFBYSx1Q0FBdUMsMkNBQTJDLHFDQUFxQyxvTUFBb00sK1RBQStULG9DQUFvQyxLQUFLLG9CQUFvQixLQUFLLG9CQUFvQixLQUFLLFdBQVcsMEJBQTBCLHFCQUFxQiw0Q0FBNEMsdUJBQXVCLE1BQU0saUNBQWlDLDZCQUE2QixLQUFLLEtBQUssV0FBVyxrQ0FBa0Msb0NBQW9DLFlBQVksV0FBVyxzQ0FBc0MsV0FBVyxZQUFZLE9BQU8sMFVBQTBVLDRCQUE0QiwwQ0FBMEMsaUNBQWlDLCtCQUErQixvQ0FBb0MsTUFBTSxJQUFJLHVDQUF1Qyw0Q0FBNEMsNEJBQTRCLHVCQUF1QixlQUFlLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLG1DQUFtQyxlQUFlLDBDQUEwQyx5QkFBeUIsaUJBQWlCLGtCQUFrQix5REFBeUQsWUFBWSwyQkFBMkIsaUJBQWlCLCtCQUErQiw2QkFBNkIsVUFBVSxxQ0FBcUMsVUFBVSx5Q0FBeUMsOEJBQThCLGtCQUFrQixvQ0FBb0Msa0RBQWtELCtCQUErQix1Q0FBdUMsdUVBQXVFLDZCQUE2Qix3R0FBd0csb0NBQW9DLHlDQUF5Qyx1Q0FBdUMsNkRBQTZELGdDQUFnQyxjQUFjLCtCQUErQiwwQkFBMEIsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksYUFBYSxjQUFjLHdHQUF3RyxlQUFlLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGtCQUFrQixVQUFVLGNBQWMsU0FBUyw0TUFBNE0sdUJBQXVCLCtEQUErRCwrQkFBK0Isb0NBQW9DLCtCQUErQixtSEFBbUgsV0FBVyxzQkFBc0IsaUJBQWlCLGNBQWMsY0FBYyxlQUFlLGFBQWEsYUFBYSxjQUFjLGdCQUFnQixzQkFBc0IsMEJBQTBCLDJCQUEyQix3QkFBd0IseURBQXlELHlEQUF5RCxvQkFBb0IsbUJBQW1CLHNCQUFzQixtQkFBbUIsbUJBQW1CLG1CQUFtQix1QkFBdUIseURBQXlELGNBQWMsNmxCQUE2bEIscUJBQXFCLDJCQUEyQixzQkFBc0Isd0JBQXdCLG1CQUFtQix1dUJBQXV1QixlQUFlLGlEQUFpRCxrQkFBa0Isc0ZBQXNGLElBQUksK0JBQStCLG1DQUFtQywrQkFBK0IsOEJBQThCLCtCQUErQiwrQkFBK0IsZ0NBQWdDLDhCQUE4QiwrQkFBK0IsaUNBQWlDLHlCQUF5QiwwQkFBMEIsZ0NBQWdDLHVDQUF1QyxRQUFRLDJHQUEyRyx1REFBdUQsd0JBQXdCLHdCQUF3Qix3QkFBd0IsNEJBQTRCLDRCQUE0QixtQ0FBbUMsU0FBUyxpSUFBaUksNkJBQTZCLHFPQUFxTyw4QkFBOEIsK0NBQStDLHNCQUFzQix3VkFBd1Ysd0JBQXdCLHFMQUFxTCwwQkFBMEIsK3hCQUEreEIsb0JBQW9CLGdFQUFnRSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSwyREFBMkQseUJBQXlCLFFBQVEsZUFBZSx5Q0FBeUMsdURBQXVELDRGQUE0RixlQUFlLGdDQUFnQyxpSkFBaUosTUFBTSxvREFBb0QsVUFBVSw4REFBOEQsMkNBQTJDLHlDQUF5Qyw4REFBOEQsb0VBQW9FLG9FQUFvRSw4RUFBOEUsa0JBQWtCLGVBQWUsa0JBQWtCLDBIQUEwSCxlQUFlLGtCQUFrQixrSEFBa0gscUJBQXFCLGVBQWUseUNBQXlDLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGVBQWUsMkhBQTJILFdBQVcsd0NBQXdDLGNBQWMsUUFBUSxZQUFZLFdBQVcsb0NBQW9DLDZDQUE2QyxnQkFBZ0IsY0FBYyxpQkFBaUIsaUJBQWlCLHFCQUFxQixzQ0FBc0MsMEZBQTBGLFFBQVEsMENBQTBDLHVCQUF1QixJQUFJLHNCQUFzQix5QkFBeUIsV0FBVyxpQ0FBaUMsU0FBUyxvREFBb0QsMElBQTBJLCtHQUErRyxNQUFNLHlDQUF5QyxnQkFBZ0IsK0NBQStDLHdCQUF3QixjQUFjLCtDQUErQyw2REFBNkQsUUFBUSxJQUFJLHFJQUFxSSxhQUFhLG9FQUFvRSxzQkFBc0IsY0FBYyxpQ0FBaUMsUUFBUSx5QkFBeUIsSUFBSSxvQ0FBb0MseUJBQXlCLElBQUksb0NBQW9DLFVBQVUsY0FBYyw4RUFBOEUsY0FBYywrQ0FBK0MsYUFBYSx1SkFBdUosNEJBQTRCLGVBQWUsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksaUJBQWlCLFdBQVcsV0FBVyxnQkFBZ0IsZ0JBQWdCLGlCQUFpQixTQUFTLFlBQVksa0tBQWtLLElBQUksb3dCQUFvd0IsY0FBYyxzbUJBQXNtQixlQUFlLHFLQUFxSywyQkFBMkIsaUNBQWlDLFlBQVksK0JBQStCLGlDQUFpQyxtQkFBbUIsMENBQTBDLEVBQUUsZUFBZSxJQUFJLGdFQUFnRSxRQUFRLGNBQWMsTUFBTSxJQUFJLCtCQUErQixPQUFPLHNEQUFzRCxjQUFjLElBQUksb0JBQW9CLFFBQVEsb0JBQW9CLElBQUksY0FBYyxZQUFZLGlCQUFpQixJQUFJLHlCQUF5QixTQUFTLG1EQUFtRCxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxhQUFhLGdCQUFnQixnRkFBZ0YsY0FBYyw2Q0FBNkMsaUJBQWlCLDZDQUE2QyxzSEFBc0gsY0FBYyw2SUFBNkksU0FBUyx1SEFBdUgsc0dBQXNHLHlQQUF5UCxnSUFBZ0ksZUFBZSwrQ0FBK0MsMkJBQTJCLHNDQUFzQywwV0FBMFcsZUFBZSxnQ0FBZ0Msb0dBQW9HLGdCQUFnQiwwQ0FBMEMsU0FBUyxrRUFBa0Usb0NBQW9DLG1DQUFtQyxNQUFNLG1DQUFtQyxNQUFNLG1DQUFtQyxNQUFNLCtFQUErRSxNQUFNLHVDQUF1QyxNQUFNLGlDQUFpQyxNQUFNLDJDQUEyQyxNQUFNLHFDQUFxQyxNQUFNLG1DQUFtQyx5Q0FBeUMsTUFBTSw2QkFBNkIsTUFBTSxxREFBcUQsTUFBTSxrREFBa0QsZ0JBQWdCLG1CQUFtQixnQkFBZ0IscUNBQXFDLHlFQUF5RSxvRkFBb0YscUdBQXFHLHlRQUF5USxrR0FBa0csa0hBQWtILDhLQUE4SyxtSUFBbUksbUJBQW1CLDhCQUE4QixNQUFNLDBHQUEwRyxrR0FBa0csc0xBQXNMLDBCQUEwQiw4QkFBOEIsd0RBQXdELDBCQUEwQixrRUFBa0UsMkVBQTJFLDBCQUEwQiw4QkFBOEIsNkRBQTZELCtGQUErRix1S0FBdUssNkVBQTZFLGVBQWUsNkZBQTZGLGlFQUFpRSxlQUFlLDZGQUE2RixjQUFjLHNEQUFzRCxnQkFBZ0IsbUJBQW1CLGtCQUFrQixtQ0FBbUMsd0NBQXdDLDZGQUE2RixxS0FBcUssTUFBTSxtQ0FBbUMsZ0RBQWdELHNHQUFzRyxzQ0FBc0MsOEJBQThCLHdEQUF3RCw4QkFBOEIsZ0JBQWdCLG1CQUFtQixrQkFBa0Isc0dBQXNHLHdDQUF3QyxzQ0FBc0MsOEJBQThCLHdEQUF3RCw0R0FBNEcsa0JBQWtCLHFCQUFxQixnQ0FBZ0MsZ0RBQWdELHNDQUFzQyw4QkFBOEIsd0RBQXdELDhGQUE4RixLQUFLLG1CQUFtQixFQUFFLDBGQUEwRix3RkFBd0YsMERBQTBELG9HQUFvRyx5R0FBeUcsaUhBQWlILDBSQUEwUixHQUFHLGNBQWMseU1BQXlNLGVBQWUsa0JBQWtCLGtCQUFrQixvREFBb0Qsc0NBQXNDLDhCQUE4Qix3REFBd0QsMkZBQTJGLEtBQUssNkJBQTZCLEVBQUUsd0NBQXdDLHNDQUFzQyxxRkFBcUYscUdBQXFHLCtCQUErQixvQkFBb0IsdUJBQXVCLGtCQUFrQixrREFBa0Qsc0NBQXNDLDhCQUE4Qix3REFBd0QsZ0dBQWdHLEtBQUssbUJBQW1CLEVBQUUsMEJBQTBCLG9FQUFvRSwwRkFBMEYsaUJBQWlCLG9CQUFvQixrQkFBa0IsdUZBQXVGLDBLQUEwSyw2RkFBNkYsc0NBQXNDLDhCQUE4Qix3RUFBd0UsNkJBQTZCLEVBQUUsd0NBQXdDLHlGQUF5RiwrQkFBK0IscUJBQXFCLDBEQUEwRCxrQkFBa0IsNkRBQTZELGVBQWUsdURBQXVELHFKQUFxSixNQUFNLHVKQUF1SixNQUFNLDhEQUE4RCxvQkFBb0IsZUFBZSw4QkFBOEIseURBQXlELFVBQVUsbUJBQW1CLGtCQUFrQiw0REFBNEQseUtBQXlLLDhCQUE4Qix3REFBd0QsNkNBQTZDLGFBQWEsZ0JBQWdCLGtCQUFrQiwwSEFBMEgsa0lBQWtJLDhCQUE4QiwrRkFBK0Ysa0JBQWtCLGtCQUFrQiw0S0FBNEssZ0JBQWdCLHFDQUFxQyxpRUFBaUUsOENBQThDLHNEQUFzRCxtQkFBbUIsOEJBQThCLG9EQUFvRCxlQUFlLHFDQUFxQyxpRUFBaUUsb0NBQW9DLHNEQUFzRCxZQUFZLDJDQUEyQyx5Q0FBeUMsbURBQW1ELGlCQUFpQiwyQ0FBMkMseUNBQXlDLHdEQUF3RCxvQkFBb0Isc0JBQXNCLG1EQUFtRCxLQUFLLDJCQUEyQixFQUFFLCtGQUErRixLQUFLLE1BQU0sOEJBQThCLDZIQUE2SCxnQkFBZ0IsZ0RBQWdELGFBQWEsTUFBTSxvSEFBb0gsZ0JBQWdCLHdDQUF3Qyx3Q0FBd0Msb0NBQW9DLG9DQUFvQyx5Q0FBeUMseUNBQXlDLHdDQUF3QywwQ0FBMEMseUNBQXlDLG1CQUFtQixzQkFBc0IsaURBQWlELEtBQUssWUFBWSxFQUFFLHdCQUF3Qiw4RUFBOEUsMkJBQTJCLCtEQUErRCx5QkFBeUIsaUNBQWlDLDhDQUE4QywwRUFBMEUsTUFBTSxtQkFBbUIsNkNBQTZDLDBCQUEwQixTQUFTLDJMQUEyTCxTQUFTLGFBQWEsNlRBQTZULGNBQWMsdURBQXVELGVBQWUsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxVQUFVLDRCQUE0Qiw4Q0FBOEMsZUFBZSx3QkFBd0Isc0RBQXNELGNBQWMsWUFBWSxLQUFLLGlCQUFpQixlQUFlLGdDQUFnQywwREFBMEQsZ0JBQWdCLGtEQUFrRCxlQUFlLHdCQUF3Qiw4QkFBOEIsWUFBWSw4RkFBOEYsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksaUlBQWlJLFlBQVksY0FBYyxxQkFBcUIsc0ZBQXNGLDJCQUEyQixVQUFVLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCLEVBQUUsb0NBQW9DLGtCQUFrQixFQUFFLG9DQUFvQyxvQkFBb0IsRUFBRSxpQ0FBaUMsV0FBVyxxQkFBcUIsNkJBQTZCLGlCQUFpQixJQUFJLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLFlBQVksU0FBUyxzT0FBc08sbUJBQW1CLHNIQUFzSCw2QkFBNkIsK0JBQStCLCtCQUErQixzRUFBc0UsaUNBQWlDLDhCQUE4QixtQ0FBbUMsZ0NBQWdDLDRDQUE0QyxrQ0FBa0MsNEJBQTRCLDJEQUEyRCx5Q0FBeUMsTUFBTSxlQUFlLFFBQVEscUVBQXFFLEVBQUUsZUFBZSxZQUFZLG1CQUFtQixXQUFXLDZJQUE2SSxtQkFBbUIsUUFBUSwrRkFBK0YsZ0dBQWdHLG9GQUFvRixNQUFNLGdGQUFnRiw2RkFBNkYsaUdBQWlHLFVBQVUsUUFBUSxVQUFVLDBCQUEwQixhQUFhLE1BQU0scUVBQXFFLDJGQUEyRiw4SUFBOEksNERBQTRELE9BQU8sUUFBUSxxQ0FBcUMsY0FBYyxTQUFTLDhDQUE4Qyx3REFBd0QsWUFBWSw2RUFBNkUsb0JBQW9CLHdEQUF3RCxpS0FBaUssUUFBUSw4VUFBOFUsbUJBQW1CLG1DQUFtQyxzREFBc0QsNEVBQTRFLFdBQVcsVUFBVSwwQkFBMEIsYUFBYSxpSUFBaUksbUJBQW1CLDRCQUE0QixtQ0FBbUMsa0dBQWtHLDJDQUEyQyxvQ0FBb0MscURBQXFELDBIQUEwSCxVQUFVLFdBQVcsVUFBVSwwQkFBMEIsYUFBYSxxSkFBcUosbUJBQW1CLG1DQUFtQyxrSEFBa0gsOEZBQThGLFdBQVcsOEJBQThCLDhCQUE4QixhQUFhLCtKQUErSixtQkFBbUIsMEJBQTBCLG1DQUFtQyx5RUFBeUUsMEVBQTBFLEtBQUssV0FBVyxVQUFVLDBCQUEwQixhQUFhLDRDQUE0QyxXQUFXLE1BQU0sNEJBQTRCLDhGQUE4Riw0RkFBNEYsVUFBVSw2R0FBNkcseUhBQXlILGlCQUFpQiw2R0FBNkcsd0JBQXdCLDZEQUE2RCx1SUFBdUksU0FBUyxnQkFBZ0IsZ0RBQWdELG9LQUFvSyxTQUFTLG1CQUFtQixtQ0FBbUMsOENBQThDLDBFQUEwRSxpREFBaUQsV0FBVyxNQUFNLDhFQUE4RSxNQUFNLDBEQUEwRCxXQUFXLFVBQVUsOEJBQThCLGFBQWEsdUZBQXVGLG1CQUFtQixtQ0FBbUMsMkVBQTJFLDBFQUEwRSxpREFBaUQsV0FBVyxNQUFNLG1GQUFtRix5QkFBeUIsK0RBQStELFdBQVcsVUFBVSwwQkFBMEIsYUFBYSwrRUFBK0UsU0FBUyxZQUFZLFdBQVcsaUJBQWlCLFNBQVMsbUJBQW1CLG1DQUFtQywrRUFBK0UsMEVBQTBFLHFEQUFxRCxXQUFXLE1BQU0sOEVBQThFLE1BQU0sMERBQTBELFdBQVcsVUFBVSw4QkFBOEIsYUFBYSxvR0FBb0csbUJBQW1CLCtCQUErQixtQkFBbUIsbUNBQW1DLGtEQUFrRCxVQUFVLDhCQUE4QixhQUFhLDJHQUEyRyxtQkFBbUIsbUNBQW1DLDJDQUEyQyxvRUFBb0Usa0JBQWtCLGlIQUFpSCxVQUFVLGlCQUFpQixtRkFBbUYsRUFBRSxPQUFPLFlBQVksaUdBQWlHLGlCQUFpQixzQkFBc0IseURBQXlELG1CQUFtQixpQkFBaUIsaUJBQWlCLDhGQUE4RixpQkFBaUIsWUFBWSxtREFBbUQsaUJBQWlCLFlBQVksK0NBQStDLGlCQUFpQixrRUFBa0UsaUJBQWlCLDhDQUE4QyxpQkFBaUIsT0FBTyxPQUFPLFFBQVEsZ0JBQWdCLCtCQUErQixVQUFVLFlBQVksNkRBQTZELEVBQUUsSUFBSSxFQUFFLE9BQU8sT0FBTyxNQUFNLFlBQVksd0VBQXdFLEVBQUUsSUFBSSxFQUFFLE9BQU8sT0FBTyxNQUFNLGNBQWMscURBQXFELEVBQUUsSUFBSSxFQUFFLE9BQU8sdUJBQXVCLE1BQU0sYUFBYSwwRUFBMEUsRUFBRSxJQUFJLEVBQUUsT0FBTyxPQUFPLE1BQU0sYUFBYSwrRUFBK0UsRUFBRSxJQUFJLEVBQUUsT0FBTyxPQUFPLE1BQU0sV0FBVyw4RUFBOEUsRUFBRSxJQUFJLEVBQUUsT0FBTyx5QkFBeUIsTUFBTSxjQUFjLDREQUE0RCxFQUFFLElBQUksRUFBRSxPQUFPLGtDQUFrQyxNQUFNLFlBQVksNERBQTRELEVBQUUsSUFBSSxFQUFFLE9BQU8sZ0RBQWdELFdBQVcscUxBQXFMLElBQUksTUFBTSx1REFBdUQsRUFBRSxJQUFJLEVBQUUsT0FBTyxTQUFTLHFCQUFxQixtQkFBbUIsZ0NBQWdDLFdBQVcsS0FBSyw0QkFBNEIsTUFBTSxNQUFNLHlCQUF5QixLQUFLLGdCQUFnQixNQUFNLFFBQVEscUNBQXFDLGFBQWEscUJBQXFCLHFJQUFxSSxVQUFVLGFBQWEsRUFBRSxnQkFBZ0IsaUNBQWlDLGVBQWUsU0FBUyxtQkFBbUIsNkJBQTZCLFlBQVkseURBQXlELE1BQU0sWUFBWSx3REFBd0QsTUFBTSxjQUFjLDJDQUEyQyxNQUFNLGFBQWEsMkNBQTJDLE1BQU0sYUFBYSwyQ0FBMkMsTUFBTSxXQUFXLDJDQUEyQyxNQUFNLGNBQWMsMkNBQTJDLE1BQU0sWUFBWSwwQ0FBMEMsV0FBVywrQkFBK0Isb0VBQW9FLHdFQUF3RSxFQUFFLE1BQU0sdURBQXVELEdBQUcsU0FBUyxFQUFFLFFBQVEsbUJBQW1CLFFBQVEsMEVBQTBFLFdBQVcsZ0NBQWdDLFdBQVcsaUJBQWlCLGlCQUFpQixlQUFlLG1EQUFtRCxlQUFlLDBDQUEwQyxlQUFlLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGFBQWEsZ0JBQWdCLGVBQWUsVUFBVSxjQUFjLGlCQUFpQixhQUFhLDRCQUE0Qix3QkFBd0IsY0FBYyw2Q0FBNkMsU0FBUyxtQ0FBbUMsU0FBUyw0REFBNEQsUUFBUSwwQkFBMEIsNEVBQTRFLHdCQUF3QixRQUFRLDBCQUEwQiw2RUFBNkUsU0FBUyxXQUFXLDJCQUEyQixlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSxzQkFBc0IsaUJBQWlCLHVCQUF1QixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSxhQUFhLGNBQWMseURBQXlELFdBQVcsb0JBQW9CLDhDQUE4QyxtQkFBbUIsMkNBQTJDLFlBQVksVUFBVSxlQUFlLFdBQVcsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxjQUFjLGVBQWUsMEZBQTBGLGVBQWUsVUFBVSx3QkFBd0IsbUJBQW1CLGdCQUFnQixtREFBbUQsV0FBVyxLQUFLLGtCQUFrQixtSEFBbUgsU0FBUyxjQUFjLHlDQUF5Qyx3Q0FBd0Msa0NBQWtDLHVEQUF1RCx1REFBdUQsU0FBUyx3REFBd0QsV0FBVyx1TkFBdU4sU0FBUyxjQUFjLHlDQUF5Qyx3Q0FBd0Msa0NBQWtDLHVEQUF1RCx1REFBdUQsU0FBUyxnQkFBZ0IsV0FBVyx1TkFBdU4sVUFBVSxlQUFlLGNBQWMsbUJBQW1CLGdCQUFnQixtREFBbUQsV0FBVyxLQUFLLGtCQUFrQix1Q0FBdUMsMkNBQTJDLHlDQUF5QyxNQUFNLG1CQUFtQiw2QkFBNkIsU0FBUyxjQUFjLHlDQUF5Qyx3Q0FBd0Msa0NBQWtDLHVEQUF1RCx1REFBdUQsU0FBUyxvQkFBb0Isd0RBQXdELFdBQVcsdUNBQXVDLDJDQUEyQywwREFBMEQsMERBQTBELHlDQUF5QyxNQUFNLG1CQUFtQiw2QkFBNkIseUJBQXlCLGNBQWMseUNBQXlDLHdDQUF3QyxrQ0FBa0MsdURBQXVELHVEQUF1RCxTQUFTLG9CQUFvQixnQkFBZ0IsV0FBVyx1Q0FBdUMsMkNBQTJDLDBEQUEwRCwwREFBMEQseUNBQXlDLE1BQU0sbUJBQW1CLDZCQUE2QiwyQkFBMkIsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksbUJBQW1CLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLDBDQUEwQyxlQUFlLG1CQUFtQixZQUFZLFdBQVcsbUJBQW1CLG9DQUFvQyw0REFBNEQsVUFBVSxvQkFBb0IsZUFBZSwwQ0FBMEMsWUFBWSxXQUFXLDZCQUE2QixZQUFZLHNCQUFzQixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSxnQkFBZ0IsY0FBYyxLQUFLLFNBQVMsVUFBVSxlQUFlLGtCQUFrQiw0Q0FBNEMsaUNBQWlDLFNBQVMsc0RBQXNELGVBQWUsd0NBQXdDLHVDQUF1QyxXQUFXLGVBQWUsNENBQTRDLGVBQWUsa0NBQWtDLGlCQUFpQixNQUFNLEdBQUcsU0FBUyx1Q0FBdUMsZ0dBQWdHLFNBQVMsdUNBQXVDLDBEQUEwRCxTQUFTLHFEQUFxRCxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLHVEQUF1RCw0REFBNEQsc0NBQXNDLE1BQU0sSUFBSSxZQUFZLElBQUksVUFBVSxHQUFHLGtDQUFrQyxNQUFNLDRGQUE0RiwwQ0FBMEMsMEZBQTBGLE1BQU0sK0hBQStILFFBQVEsTUFBTSxrSUFBa0ksT0FBTyxpR0FBaUcsTUFBTSxrSUFBa0ksUUFBUSwyQ0FBMkMsUUFBUSxpQ0FBaUMsK0RBQStELHVGQUF1RixpQkFBaUIsc0NBQXNDLCtCQUErQixlQUFlLHlCQUF5QixLQUFLLEdBQUcsRUFBRSxNQUFNLFFBQVEsaUNBQWlDLCtEQUErRCx1RkFBdUYsaURBQWlELG9CQUFvQixlQUFlLHNDQUFzQyxLQUFLLEdBQUcsRUFBRSxNQUFNLG9EQUFvRCxNQUFNLDREQUE0RCxRQUFRLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsd0RBQXdELDZCQUE2QixpQkFBaUIsdUhBQXVILDBCQUEwQixzQkFBc0IsTUFBTSxVQUFVLE1BQU0sRUFBRSxzQ0FBc0MsNkJBQTZCLFdBQVcsOE5BQThOLGlCQUFpQixzRkFBc0YsbUJBQW1CLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLHNCQUFzQixnQkFBZ0IsaXBDQUFpcEMsZUFBZSxJQUFJLFlBQVksMERBQTBELE9BQU8sOERBQThELE9BQU8sK0NBQStDLDRCQUE0QixtQkFBbUIsOENBQThDLGtCQUFrQixvREFBb0QsUUFBUSx5Q0FBeUMsTUFBTSxjQUFjLEdBQUcsZ0NBQWdDLG1CQUFtQiw4Q0FBOEMsa0JBQWtCLG9EQUFvRCxRQUFRLG9CQUFvQixNQUFNLGNBQWMsdURBQXVELGdCQUFnQixZQUFZLFdBQVcsaUJBQWlCLDRCQUE0QixpQkFBaUIsZ0NBQWdDLEdBQUcsdUVBQXVFLE1BQU0sZ0JBQWdCLCtGQUErRixNQUFNLCtEQUErRCwrRUFBK0UsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSwrQkFBK0IsSUFBSSxVQUFVLHlEQUF5RCxVQUFVLDRHQUE0RyxFQUFFLEtBQUssa0JBQWtCLE9BQU8sdUJBQXVCLE1BQU0sa0JBQWtCLE9BQU8sNkNBQTZDLE1BQU0sd0RBQXdELGtCQUFrQixLQUFLLG9CQUFvQixJQUFJLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsbUJBQW1CLDhJQUE4SSxnQkFBZ0IsNEVBQTRFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLHlEQUF5RCxrQkFBa0IsU0FBUyxRQUFRLFlBQVksT0FBTyxXQUFXLHNCQUFzQix3QkFBd0IsVUFBVSxjQUFjLEtBQUssY0FBYyxTQUFTLHlCQUF5Qiw0Q0FBNEMsdUNBQXVDLDZCQUE2Qix1REFBdUQsc2RBQXNkLHFPQUFxTyxlQUFlLHdCQUF3QixZQUFZLEtBQUssT0FBTyxZQUFZLGlCQUFpQixZQUFZLGdCQUFnQixRQUFRLGlCQUFpQixpQkFBaUIsaUJBQWlCLHdFQUF3RSxrQ0FBa0MsUUFBUSw0QkFBNEIsTUFBTSxpQ0FBaUMsWUFBWSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxjQUFjLGFBQWEsZUFBZSxlQUFlLFdBQVcsZUFBZSxZQUFZLGFBQWEsZ0JBQWdCLHlCQUF5QixtQkFBbUIsdUJBQXVCLDJCQUEyQixpQkFBaUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLGdDQUFnQyxRQUFRLHNHQUFzRyxZQUFZLFlBQVksWUFBWSxrS0FBa0ssVUFBVSxlQUFlLGNBQWMsZUFBZSxxQkFBcUIsZUFBZSxXQUFXLGVBQWUsa0JBQWtCLGVBQWUsY0FBYyxlQUFlLG1CQUFtQixlQUFlLGVBQWUsSUFBSSw0VUFBNFUsR0FBRyxpRkFBaUYsb0JBQW9CLCtDQUErQyxpR0FBaUcsMEhBQTBILHNHQUFzRyx1R0FBdUcsa2lCQUFraUIsb0dBQW9HLHNHQUFzRyxXQUFXLHFMQUFxTCxvRkFBb0YsV0FBVyxrSEFBa0gsMkNBQTJDLDRCQUE0QixxSkFBcUosbUJBQW1CLDRCQUE0QixLQUFLLHdDQUF3QywrQ0FBK0MsbURBQW1ELHNCQUFzQixxQ0FBcUMsTUFBTSxxQkFBcUIsYUFBYSwwQkFBMEIsaUJBQWlCLFNBQVMsa0JBQWtCLCtCQUErQixjQUFjLHNCQUFzQixlQUFlLGVBQWUseUJBQXlCLElBQUksNkNBQTZDLG9CQUFvQixVQUFVLHlCQUF5QixxQkFBcUIsdUJBQXVCLGtCQUFrQiwyQkFBMkIsaUJBQWlCLFdBQVcsb0RBQW9ELFVBQVUsVUFBVSxVQUFVLFVBQVUsS0FBSyxzQkFBc0IsZ0NBQWdDLHNCQUFzQixxQkFBcUIsdUJBQXVCLGdCQUFnQixrRkFBa0YsbUdBQW1HLHNKQUFzSixTQUFTLG1CQUFtQixtQkFBbUIsbUJBQW1CLEtBQUssVUFBVSxjQUFjLGtFQUFrRSxTQUFTLGVBQWUsZUFBZSxnR0FBZ0csVUFBVSxLQUFLLDZCQUE2QixHQUFHLEVBQUUsNkJBQTZCLDBEQUEwRCxlQUFlLEtBQUssNkJBQTZCLEdBQUcsRUFBRSw2QkFBNkIsMERBQTBELGVBQWUsTUFBTSwrQ0FBK0MsV0FBVyx3SEFBd0gsWUFBWSx3SEFBd0gsUUFBUSx3QkFBd0IsaUJBQWlCLDhDQUE4QyxTQUFTLHdCQUF3QixpQkFBaUIsOENBQThDLFVBQVUsc0ZBQXNGLFdBQVcsc0ZBQXNGLG9CQUFvQixzQkFBc0IsV0FBVyxFQUFFLHdCQUF3Qix1REFBdUQsbUVBQW1FLGtCQUFrQix3QkFBd0IsdURBQXVELDBDQUEwQyxtQkFBbUIsd0JBQXdCLHVEQUF1RCwwQ0FBMEMsYUFBYSxTQUFTLHNCQUFzQixjQUFjLDZDQUE2QyxTQUFTLE9BQU8sU0FBUyxzQkFBc0IsY0FBYyxHQUFHLG9FQUFvRSxtQ0FBbUMsT0FBTyxTQUFTLHFCQUFxQixpQkFBaUIsMEJBQTBCLGtDQUFrQywrQ0FBK0MsU0FBUyxRQUFRLGFBQWEsa0JBQWtCLFlBQVkseUJBQXlCLG9CQUFvQix3QkFBd0IsWUFBWSxFQUFFLHlDQUF5QyxJQUFJLDRHQUE0RyxJQUFJLCtCQUErQiw4QkFBOEIsaUhBQWlILHdDQUF3QyxxUEFBcVAsTUFBTSxXQUFXLGlCQUFpQixVQUFVLHdCQUF3QixpREFBaUQsSUFBSSx1QkFBdUIsR0FBRyxxRkFBcUYsNEVBQTRFLDZDQUE2QyxnQkFBZ0IsNkNBQTZDLDZCQUE2QiwwQkFBMEIsaUdBQWlHLGdCQUFnQixLQUFLLGFBQWEsa0JBQWtCLFlBQVksTUFBTSxJQUFJLEtBQUssUUFBUSxFQUFFLHVCQUF1QiwyQkFBMkIsd0RBQXdELDZCQUE2QixRQUFRLHFCQUFxQixnQkFBZ0IsS0FBSyxhQUFhLG9CQUFvQixNQUFNLHdDQUF3Qyw2VUFBNlUsVUFBVSxFQUFFLElBQUksOENBQThDLG9CQUFvQixlQUFlLGlCQUFpQix5REFBeUQsOENBQThDLDJEQUEyRCx1QkFBdUIsVUFBVSxXQUFXLEVBQUUsSUFBSSw2QkFBNkIsb0JBQW9CLGlDQUFpQyxpQkFBaUIsNENBQTRDLFlBQVksbUNBQW1DLHVCQUF1QixjQUFjLFNBQVMsR0FBRyxtREFBbUQsZ0JBQWdCLEVBQUUsT0FBTyxvQ0FBb0MsY0FBYyxJQUFJLFVBQVUsMkNBQTJDLHFMQUFxTCxRQUFRLDZLQUE2SywrRUFBK0UsSUFBSSxVQUFVLDhHQUE4RyxzTkFBc04sNEJBQTRCLFdBQVcsdUJBQXVCLG9HQUFvRyx1R0FBdUcsSUFBSSx3Q0FBd0Msa0RBQWtELDZEQUE2RCxFQUFFLGlDQUFpQywyQkFBMkIsbUNBQW1DLE1BQU0sc0JBQXNCLFFBQVEsOEdBQThHLGtCQUFrQixFQUFFLElBQUksb2ZBQW9mLEdBQUcsa0RBQWtELDREQUE0RCxFQUFFLE9BQU8sdU9BQXVPLGtCQUFrQixlQUFlLG9CQUFvQix1QkFBdUIsc0JBQXNCLE1BQU0saUJBQWlCLGVBQWUsMENBQTBDLGlHQUFpRyxpQkFBaUIsK0VBQStFLDREQUE0RCw0R0FBNEcsVUFBVSxFQUFFLElBQUksd0hBQXdILG9CQUFvQixlQUFlLDhCQUE4QiwwUkFBMFIsd0JBQXdCLFFBQVEsMkJBQTJCLE1BQU0sMkdBQTJHLFVBQVUsU0FBUyxnQkFBZ0IscUJBQXFCLCtDQUErQyxNQUFNLFdBQVcsaUJBQWlCLHlXQUF5Vyw2QkFBNkIsZ0JBQWdCLEtBQUssYUFBYSxrQkFBa0IsU0FBUyxRQUFRLHNCQUFzQixjQUFjLEdBQUcsaUJBQWlCLDhEQUE4RCxNQUFNLGlCQUFpQiwwRUFBMEUscU5BQXFOLGdCQUFnQixLQUFLLGFBQWEscUJBQXFCLGdCQUFnQixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxpREFBaUQsYUFBYSxpQkFBaUIscUJBQXFCLFVBQVUsc0JBQXNCLHdCQUF3QixhQUFhLGNBQWMsVUFBVSxhQUFhLGNBQWMsT0FBTyxjQUFjLFFBQVEsb0JBQW9CLFdBQVcsMEJBQTBCLGlCQUFpQixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0IscUNBQXFDLGtCQUFrQixrQkFBa0IsV0FBVyxzQkFBc0IsV0FBVyxHQUFHLFFBQVEsb0JBQW9CLFFBQVEsdUNBQXVDLE1BQU0sNENBQTRDLE1BQU0seUJBQXlCLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0IscUNBQXFDLGtCQUFrQiwyQkFBMkIsV0FBVyxzQkFBc0IsV0FBVyxHQUFHLFFBQVEsMkJBQTJCLFFBQVEsb0JBQW9CLDBDQUEwQyxhQUFhLFlBQVksSUFBSSwrQkFBK0IsMkJBQTJCLDZCQUE2QixnQkFBZ0IsTUFBTSxxQkFBcUIsdUJBQXVCLG1CQUFtQixRQUFRLHFDQUFxQyxPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLHFDQUFxQyxpQ0FBaUMsc0JBQXNCLE9BQU8sdURBQXVELE1BQU0sVUFBVSxXQUFXLHNCQUFzQixhQUFhLEdBQUcscUJBQXFCLGdCQUFnQixzQkFBc0IsS0FBSyxpQkFBaUIsS0FBSyxnQkFBZ0IsS0FBSyxJQUFJLEVBQUUseUJBQXlCLHdCQUF3QixpQkFBaUIsYUFBYSxPQUFPLGdCQUFnQixLQUFLLElBQUksRUFBRSwrQkFBK0IsMkVBQTJFLGlCQUFpQixhQUFhLFFBQVEsMEJBQTBCLFFBQVEseUNBQXlDLE1BQU0scUJBQXFCLCtCQUErQiw2REFBNkQsTUFBTSxpQkFBaUIsUUFBUSw0QkFBNEIsVUFBVSx3QkFBd0Isb0pBQW9KLGNBQWMsd0JBQXdCLGlEQUFpRCxVQUFVLG9CQUFvQixPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLDJDQUEyQyxPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsK0JBQStCLGNBQWMsaURBQWlELEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLHlCQUF5QiwwREFBMEQsaUJBQWlCLDZEQUE2RCxxRUFBcUUsc0JBQXNCLHlGQUF5Rix1QkFBdUIsMkZBQTJGLHNCQUFzQixzRUFBc0UsR0FBRyxjQUFjLDhDQUE4QyxlQUFlLDRDQUE0QyxzQkFBc0IsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLHdCQUF3QixlQUFlLGlCQUFpQixXQUFXLHlDQUF5QyxtQkFBbUIsNkJBQTZCLE9BQU8sdURBQXVELDZCQUE2Qix1QkFBdUIsOERBQThELE1BQU0sVUFBVSxXQUFXLHNCQUFzQixlQUFlLElBQUksUUFBUSwwQkFBMEIsUUFBUSxzQkFBc0IsTUFBTSwyQkFBMkIsU0FBUywrQkFBK0IsT0FBTyx5QkFBeUIsUUFBUSxpQkFBaUIsT0FBTyx3QkFBd0IsbUJBQW1CLHdDQUF3QyxpQkFBaUIscUJBQXFCLHdDQUF3QywyQ0FBMkMsdUJBQXVCLFFBQVEsWUFBWSxTQUFTLDJDQUEyQyxxQ0FBcUMsMEJBQTBCLFVBQVUsOENBQThDLFlBQVksdUNBQXVDLFVBQVUsNENBQTRDLHFCQUFxQix3Q0FBd0MsYUFBYSxnQkFBZ0Isc0NBQXNDLG1FQUFtRSxRQUFRLFlBQVksU0FBUywyQ0FBMkMsa0JBQWtCLFVBQVUsa0JBQWtCLFNBQVMsUUFBUSxZQUFZLFNBQVMscURBQXFELHFDQUFxQyxRQUFRLGdCQUFnQixXQUFXLFlBQVksU0FBUyx5QkFBeUIsb0JBQW9CLG1CQUFtQixjQUFjLGVBQWUsT0FBTyxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQixnQ0FBZ0MsZUFBZSxpQkFBaUIsV0FBVyw0Q0FBNEMscUJBQXFCLHVGQUF1RixrRkFBa0Ysc0JBQXNCLGdGQUFnRix1QkFBdUIsa0ZBQWtGLHNCQUFzQixnRkFBZ0YsR0FBRyxjQUFjLG9FQUFvRSxlQUFlLGdFQUFnRSxPQUFPLDhEQUE4RCw2QkFBNkIsa0JBQWtCLGlCQUFpQix3Q0FBd0MsV0FBVyxzQkFBc0IsZUFBZSxHQUFHLEtBQUssSUFBSSxRQUFRLEdBQUcscUVBQXFFLE9BQU8sYUFBYSxhQUFhLHFFQUFxRSxRQUFRLGlEQUFpRCxRQUFRLGtDQUFrQyxNQUFNLGtDQUFrQyxTQUFTLG9DQUFvQyxPQUFPLG9DQUFvQyxRQUFRLGdCQUFnQixPQUFPLGdCQUFnQixtQkFBbUIsd0NBQXdDLGFBQWEsS0FBSyxJQUFJLE9BQU8sV0FBVyxxQkFBcUIsd0NBQXdDLGFBQWEsS0FBSyxJQUFJLE9BQU8sd0JBQXdCLHVCQUF1QixhQUFhLEtBQUssV0FBVywwQkFBMEIsY0FBYywwQkFBMEIsVUFBVSw2RUFBNkUsWUFBWSwrQkFBK0IsVUFBVSxxQkFBcUIsZUFBZSx3QkFBd0IsYUFBYSwrQkFBK0IsV0FBVyxxQkFBcUIsZUFBZSx3QkFBd0IscUJBQXFCLHdDQUF3QyxhQUFhLEtBQUssSUFBSSxPQUFPLE9BQU8sZ0JBQWdCLHNDQUFzQyxzQkFBc0IsY0FBYyxJQUFJLG1CQUFtQix3QkFBd0IsSUFBSSxrQkFBa0IsTUFBTSxhQUFhLFlBQVksSUFBSSxVQUFVLFVBQVUsY0FBYyxJQUFJLE1BQU0sUUFBUSxlQUFlLGFBQWEsY0FBYyxRQUFRLGFBQWEsS0FBSyxXQUFXLEVBQUUsd0NBQXdDLE9BQU8sa0JBQWtCLFVBQVUsb0JBQW9CLDBCQUEwQixLQUFLLFlBQVksRUFBRSxVQUFVLGlDQUFpQyxTQUFTLDJCQUEyQixhQUFhLEtBQUssV0FBVyxFQUFFLFFBQVEsS0FBSywwQkFBMEIsaUJBQWlCLHVCQUF1QixjQUFjLFFBQVEsb0JBQW9CLFNBQVMseUJBQXlCLFdBQVcsWUFBWSxhQUFhLHNCQUFzQixhQUFhLEdBQUcsU0FBUyxXQUFXLG9DQUFvQyxlQUFlLEVBQUUsTUFBTSxhQUFhLHNCQUFzQixLQUFLLGdCQUFnQixPQUFPLFlBQVksR0FBRyxjQUFjLFdBQVcsaUJBQWlCLEtBQUssV0FBVyx3QkFBd0Isb0JBQW9CLG1CQUFtQixxQkFBcUIsYUFBYSxLQUFLLFdBQVcsa0JBQWtCLGVBQWUsT0FBTyxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQix3QkFBd0IsZUFBZSxpQkFBaUIsV0FBVyx5Q0FBeUMsbUJBQW1CLDZCQUE2QixPQUFPLHVEQUF1RCw2QkFBNkIseUJBQXlCLCtEQUErRCxZQUFZLDZDQUE2Qyx5Q0FBeUMsNkNBQTZDLHNFQUFzRSxJQUFJLGdEQUFnRCxZQUFZLFNBQVMsbUNBQW1DLDBCQUEwQixrRUFBa0UsV0FBVyxzQkFBc0IsZUFBZSxHQUFHLElBQUksaUNBQWlDLFlBQVksSUFBSSwyQkFBMkIsaUJBQWlCLFNBQVMsMEJBQTBCLFlBQVksU0FBUywwQkFBMEIsMkRBQTJELFlBQVksSUFBSSxrQ0FBa0MsMEJBQTBCLEtBQUssd0RBQXdELGlEQUFpRCw0Q0FBNEMsUUFBUSxvRkFBb0YsUUFBUSxzQkFBc0IsTUFBTSwyQkFBMkIsU0FBUywrQkFBK0IsT0FBTyx5QkFBeUIsUUFBUSw0Q0FBNEMsT0FBTyw0Q0FBNEMsWUFBWSx5TEFBeUwsVUFBVSxxQkFBcUIsNkJBQTZCLDJIQUEySCxhQUFhLGdNQUFnTSxXQUFXLHFCQUFxQiw2QkFBNkIsb0hBQW9ILG1CQUFtQix3Q0FBd0MsSUFBSSwyQ0FBMkMsV0FBVyxvQkFBb0IscUJBQXFCLHdDQUF3QyxJQUFJLDJDQUEyQyxXQUFXLGdCQUFnQixnQkFBZ0Isc0NBQXNDLGNBQWMsSUFBSSxtQkFBbUIsd0JBQXdCLElBQUksa0JBQWtCLE1BQU0sU0FBUyxZQUFZLFNBQVMsb0NBQW9DLGNBQWMsWUFBWSxJQUFJLHFCQUFxQixZQUFZLFdBQVcseUJBQXlCLGNBQWMsT0FBTyw2QkFBNkIsSUFBSSwyQ0FBMkMsV0FBVywyQ0FBMkMscUJBQXFCLHdDQUF3Qyx5QkFBeUIsb0NBQW9DLE1BQU0sU0FBUyxjQUFjLFNBQVMsb0NBQW9DLDJCQUEyQixXQUFXLHNCQUFzQixlQUFlLEdBQUcsY0FBYyx1QkFBdUIsdUJBQXVCLFNBQVMsWUFBWSxTQUFTLEtBQUssOEJBQThCLGtCQUFrQixlQUFlLFlBQVksSUFBSSxpQ0FBaUMscUJBQXFCLDBCQUEwQixVQUFVLDhDQUE4QyxRQUFRLFlBQVksU0FBUyx5REFBeUQsa0JBQWtCLFVBQVUsbUJBQW1CLEtBQUssSUFBSSxFQUFFLDhCQUE4QixzRkFBc0YsU0FBUywyQkFBMkIsa0NBQWtDLFlBQVksU0FBUyxLQUFLLDhCQUE4QiwwQ0FBMEMsS0FBSyxTQUFTLGdCQUFnQixjQUFjLFFBQVEsU0FBUyxZQUFZLFNBQVMsb0NBQW9DLFVBQVUsWUFBWSxTQUFTLGtDQUFrQyxjQUFjLHFCQUFxQixTQUFTLHlCQUF5QixXQUFXLDZGQUE2RixZQUFZLFNBQVMsbUNBQW1DLFlBQVksV0FBVyx5QkFBeUIsV0FBVyxZQUFZLFNBQVMsdUNBQXVDLG9CQUFvQixtQkFBbUIsWUFBWSxTQUFTLG1DQUFtQyxlQUFlLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSwwQ0FBMEMsYUFBYSxpQkFBaUIsb0dBQW9HLElBQUksV0FBVywrQkFBK0Isc0JBQXNCLElBQUksT0FBTyxNQUFNLFdBQVcsS0FBSyxRQUFRLFlBQVksS0FBSyxTQUFTLElBQUksV0FBVyxRQUFRLFVBQVUsSUFBSSxPQUFPLFNBQVMsTUFBTSxXQUFXLEtBQUssUUFBUSxZQUFZLG9CQUFvQixLQUFLLDZCQUE2QixxR0FBcUcsS0FBSyw2QkFBNkIsdUdBQXVHLGVBQWUsd0JBQXdCLGNBQWMsK0JBQStCLEtBQUssaUJBQWlCLDBCQUEwQixLQUFLLGlCQUFpQiwwQkFBMEIsS0FBSyx1RUFBdUUsMkJBQTJCLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQiwwREFBMEQsNEJBQTRCLHNCQUFzQixPQUFPLHdGQUF3RixxQkFBcUIsTUFBTSxXQUFXLEtBQUssV0FBVyxnQkFBZ0IsaUJBQWlCLE1BQU0sSUFBSSxxQ0FBcUMsR0FBRyx1QkFBdUIsY0FBYyxvQkFBb0IsaUJBQWlCLEtBQUssV0FBVyxpQkFBaUIsOENBQThDLHFCQUFxQiw0QkFBNEIscUNBQXFDLE9BQU8sYUFBYSxLQUFLLEVBQUUsRUFBRSxvQkFBb0IsYUFBYSxzQkFBc0IsY0FBYyxTQUFTLE9BQU8sYUFBYSxLQUFLLEVBQUUsb0NBQW9DLFNBQVMsT0FBTyxhQUFhLEtBQUssRUFBRSxFQUFFLG9CQUFvQixpQkFBaUIsa0JBQWtCLGNBQWMsU0FBUyxRQUFRLGFBQWEsS0FBSyxFQUFFLG1DQUFtQyxTQUFTLE1BQU0sTUFBTSxFQUFFLFdBQVcscUJBQXFCLGFBQWEsT0FBTyxPQUFPLFlBQVksVUFBVSwwREFBMEQseUJBQXlCLDBEQUEwRCxPQUFPLDREQUE0RCxNQUFNLFVBQVUsMERBQTBELHlCQUF5QiwwREFBMEQsT0FBTyw4REFBOEQsTUFBTSx5Q0FBeUMsUUFBUSxLQUFLLFNBQVMsRUFBRSxpQkFBaUIsSUFBSSxPQUFPLFdBQVcsNkNBQTZDLG9FQUFvRSxXQUFXLDZEQUE2RCxRQUFRLDREQUE0RCxNQUFNLE1BQU0sRUFBRSxXQUFXLG1CQUFtQixXQUFXLFlBQVksVUFBVSxnQkFBZ0IsaUNBQWlDLFdBQVcsU0FBUyxpQkFBaUIsc0dBQXNHLE1BQU0sV0FBVyxxQkFBcUIsdUNBQXVDLHNDQUFzQyxvREFBb0QsTUFBTSxVQUFVLGdCQUFnQixpQ0FBaUMsV0FBVyxTQUFTLGlCQUFpQixzR0FBc0csTUFBTSxXQUFXLHFCQUFxQix1Q0FBdUMsc0NBQXNDLG9EQUFvRCxRQUFRLFVBQVUsb0JBQW9CLGdIQUFnSCxPQUFPLGlDQUFpQyxVQUFVLE1BQU0sT0FBTywyREFBMkQsTUFBTSwrQkFBK0IsVUFBVSxNQUFNLE9BQU8sMkRBQTJELE1BQU0sZUFBZSxVQUFVLGVBQWUsb0JBQW9CLFVBQVUsTUFBTSxPQUFPLGFBQWEsNEJBQTRCLFVBQVUsTUFBTSxPQUFPLDZFQUE2RSw0QkFBNEIsRUFBRSxvQkFBb0IsUUFBUSxpQkFBaUIsb0NBQW9DLE1BQU0sT0FBTyxhQUFhLGlCQUFpQixvQ0FBb0MsTUFBTSxPQUFPLE1BQU0sTUFBTSxVQUFVLG1CQUFtQixPQUFPLEtBQUssRUFBRSxFQUFFLG9CQUFvQixhQUFhLGtCQUFrQixjQUFjLGlCQUFpQixRQUFRLGtFQUFrRSx5QkFBeUIsVUFBVSw2RUFBNkUseURBQXlELHlEQUF5RCxjQUFjLDRCQUE0QixjQUFjLG9DQUFvQyxxQkFBcUIsd0NBQXdDLGVBQWUsa0NBQWtDLG1DQUFtQyxTQUFTLHFCQUFxQix3QkFBd0IsdUJBQXVCLG9DQUFvQywwQkFBMEIsVUFBVSwrQ0FBK0MsbUJBQW1CLCtFQUErRSxXQUFXLFFBQVEsaUNBQWlDLG1CQUFtQix3Q0FBd0MsVUFBVSxtQkFBbUIsVUFBVSxJQUFJLE1BQU0sTUFBTSxTQUFTLFlBQVksdUJBQXVCLGtCQUFrQixzQ0FBc0Msa0JBQWtCLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0IsMERBQTBELG1CQUFtQixzRUFBc0Usb0ZBQW9GLHNCQUFzQixrRkFBa0YsdUJBQXVCLG9GQUFvRixzQkFBc0Isa0ZBQWtGLEdBQUcsWUFBWSx5QkFBeUIsZ0NBQWdDLFFBQVEscUJBQXFCLE1BQU0sRUFBRSxXQUFXLHNDQUFzQyxVQUFVLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0Isb0NBQW9DLGVBQWUsaUJBQWlCLFdBQVcsa0NBQWtDLHFCQUFxQiwrQkFBK0IsY0FBYyxvRUFBb0UsT0FBTyw4REFBOEQsNkJBQTZCLHNCQUFzQixXQUFXLFdBQVcsc0JBQXNCLGFBQWEsR0FBRyxNQUFNLDZEQUE2RCxRQUFRLDRDQUE0QyxNQUFNLGtDQUFrQyxTQUFTLDhDQUE4QyxPQUFPLG9DQUFvQyxRQUFRLGtDQUFrQyxPQUFPLGtDQUFrQyxZQUFZLDBCQUEwQixRQUFRLHVCQUF1Qiw2QkFBNkIsY0FBYyx1QkFBdUIsNkJBQTZCLGNBQWMsdUJBQXVCLDZCQUE2QixxQkFBcUIsdUJBQXVCLDZCQUE2QixxQkFBcUIsd0JBQXdCLDZCQUE2QixTQUFTLFdBQVcsNkJBQTZCLGFBQWEsU0FBUyxvQkFBb0IsdUJBQXVCLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0Isb0NBQW9DLGVBQWUsaUJBQWlCLFdBQVcsa0NBQWtDLHFCQUFxQiwrQkFBK0IsY0FBYyxvREFBb0QsV0FBVyxxQkFBcUIsU0FBUyx3QkFBd0Isd0JBQXdCLFlBQVksa0RBQWtELG1CQUFtQixFQUFFLE9BQU8sOERBQThELDZCQUE2QixzQkFBc0IsV0FBVyxXQUFXLHNCQUFzQix5QkFBeUIsR0FBRyxNQUFNLG1FQUFtRSxRQUFRLDRDQUE0QyxNQUFNLGtDQUFrQyxTQUFTLDhDQUE4QyxPQUFPLG9DQUFvQyxRQUFRLHFCQUFxQixlQUFlLGlCQUFpQixPQUFPLHFCQUFxQixlQUFlLGlCQUFpQixjQUFjLHVCQUF1Qiw2QkFBNkIsY0FBYyx1QkFBdUIsNkJBQTZCLHFCQUFxQix1QkFBdUIsNkJBQTZCLHFCQUFxQix3QkFBd0IsNkJBQTZCLGtCQUFrQixxQkFBcUIsUUFBUSx1QkFBdUIsNkJBQTZCLG1CQUFtQiwwQkFBMEIsU0FBUyxXQUFXLDZCQUE2Qix5QkFBeUIsU0FBUyxvQkFBb0IsdUJBQXVCLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxjQUFjLGVBQWUsZUFBZSwrQ0FBK0MsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsaURBQWlELGdDQUFnQyxlQUFlLGlCQUFpQixXQUFXLDBDQUEwQyxtQkFBbUIsc0VBQXNFLGtGQUFrRixzQkFBc0IsZ0ZBQWdGLHVCQUF1QixrRkFBa0Ysc0JBQXNCLGdGQUFnRixLQUFLLDRCQUE0QixrQ0FBa0MsY0FBYywyQkFBMkIsZ0ZBQWdGLHlDQUF5QyxLQUFLLElBQUksUUFBUSxHQUFHLHFFQUFxRSxTQUFTLG1DQUFtQyxNQUFNLE1BQU0sdUJBQXVCLDBDQUEwQyx1Q0FBdUMsb0NBQW9DLEtBQUssMEJBQTBCLGlCQUFpQixNQUFNLGdCQUFnQix5QkFBeUIsR0FBRywwQkFBMEIsY0FBYyxnRkFBZ0YsT0FBTyx5Q0FBeUMsdUJBQXVCLG1DQUFtQyw4QkFBOEIsUUFBUSxvQkFBb0IsMkJBQTJCLGVBQWUscUJBQXFCLHFGQUFxRix1QkFBdUIsTUFBTSx5Q0FBeUMsdUJBQXVCLHdCQUF3QixzREFBc0QsTUFBTSxvQ0FBb0Msa0JBQWtCLG9CQUFvQiwwQkFBMEIsVUFBVSx5RUFBeUUscUJBQXFCLHdDQUF3QyxhQUFhLEtBQUssSUFBSSxPQUFPLDBCQUEwQixxQkFBcUIsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLGdFQUFnRSxxQkFBcUIsK0JBQStCLGNBQWMsb0VBQW9FLE9BQU8sOERBQThELG1DQUFtQyxrQkFBa0IsUUFBUSxXQUFXLHNCQUFzQixhQUFhLEdBQUcsUUFBUSxrQ0FBa0MsTUFBTSxrQ0FBa0MsU0FBUyxvQ0FBb0MsT0FBTyxvQ0FBb0MsUUFBUSxnQkFBZ0IsT0FBTyxnQkFBZ0IsWUFBWSwwQkFBMEIsbUJBQW1CLHdDQUF3QyxhQUFhLEtBQUssSUFBSSxPQUFPLFdBQVcsVUFBVSxrQkFBa0IsNkJBQTZCLFdBQVcsaUJBQWlCLEtBQUssV0FBVyx3QkFBd0Isb0JBQW9CLG1CQUFtQixhQUFhLEtBQUssV0FBVyxrQkFBa0IsZUFBZSxPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLGdDQUFnQyxlQUFlLGlCQUFpQixXQUFXLGdEQUFnRCxxQkFBcUIsK0JBQStCLGNBQWMsb0RBQW9ELFdBQVcscUJBQXFCLFNBQVMsd0JBQXdCLHdCQUF3QixZQUFZLGtEQUFrRCxtQkFBbUIsRUFBRSxPQUFPLDhEQUE4RCxtQ0FBbUMsa0JBQWtCLFFBQVEsV0FBVyxzQkFBc0IseUJBQXlCLEdBQUcsUUFBUSxrQ0FBa0MsTUFBTSxrQ0FBa0MsU0FBUyxvQ0FBb0MsT0FBTyxvQ0FBb0MsUUFBUSx5Q0FBeUMsT0FBTyx5Q0FBeUMsa0JBQWtCLHFCQUFxQixxQkFBcUIseUNBQXlDLHVCQUF1QixxQ0FBcUMsZ0JBQWdCLG9CQUFvQixtQkFBbUIsd0NBQXdDLGFBQWEsS0FBSyxJQUFJLE9BQU8saUJBQWlCLFVBQVUsa0JBQWtCLDZCQUE2QixXQUFXLGlCQUFpQixLQUFLLFdBQVcsOEJBQThCLG9CQUFvQixtQkFBbUIsYUFBYSxLQUFLLFdBQVcsd0JBQXdCLGVBQWUsT0FBTyxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtDQUFrQyw2QkFBNkIsbUJBQW1CLEVBQUUsb0NBQW9DLDZCQUE2QixtQkFBbUIsRUFBRSxvQ0FBb0MsNkJBQTZCLG1CQUFtQixFQUFFLHFDQUFxQyw2QkFBNkIsbUJBQW1CLEVBQUUsdUNBQXVDLDZCQUE2QixtQkFBbUIsRUFBRSx1Q0FBdUMsNkJBQTZCLG1CQUFtQixFQUFFLDBDQUEwQyw2QkFBNkIsbUJBQW1CLEVBQUUsa0NBQWtDLDZCQUE2QixtQkFBbUIsRUFBRSxrQ0FBa0MsNkJBQTZCLG1CQUFtQixFQUFFLG1DQUFtQyw2QkFBNkIsbUJBQW1CLEVBQUUsNEhBQTRILGVBQWUsaUJBQWlCLFlBQVksRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksMkZBQTJGLGlCQUFpQix3QkFBd0IsZ0NBQWdDLDZDQUE2QyxpQ0FBaUMsK0VBQStFLGlCQUFpQiw0Q0FBNEMsd0ZBQXdGLG9DQUFvQyxvREFBb0QsOEJBQThCLHNEQUFzRCwyREFBMkQsNEdBQTRHLDZCQUE2QiwwQ0FBMEMsNkJBQTZCLHFDQUFxQyxxVUFBcVUsOEJBQThCLDhCQUE4QiwyQkFBMkIsbUNBQW1DLE9BQU8sMENBQTBDLDRCQUE0Qiw4QkFBOEIsa0JBQWtCLE9BQU8sUUFBUSxxQkFBcUIsbUZBQW1GLDBEQUEwRCxxQkFBcUIsNENBQTRDLHVCQUF1QixNQUFNLHFDQUFxQyxRQUFRLG9CQUFvQix5UEFBeVAsa0JBQWtCLDhCQUE4QiwwRUFBMEUsc0NBQXNDLHVCQUF1Qiw2QkFBNkIsc0NBQXNDLHNDQUFzQyxlQUFlLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLFlBQVksK0JBQStCLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLDZCQUE2QixlQUFlLHlDQUF5QyxNQUFNLHNCQUFzQiw2RUFBNkUsU0FBUywrQkFBK0IsK0JBQStCLDBKQUEwSixtQkFBbUIsZ0NBQWdDLG1CQUFtQiwyQkFBMkIsZ0RBQWdELFFBQVEsOENBQThDLDZDQUE2QyxjQUFjLHlDQUF5QyxvRUFBb0UsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksMkNBQTJDLDBCQUEwQixZQUFZLHVDQUF1QyxTQUFTLEVBQUUsMkNBQTJDLHdCQUF3QixJQUFJLFVBQVUscURBQXFELHNFQUFzRSxtQ0FBbUMseUNBQXlDLDJFQUEyRSxPQUFPLHFHQUFxRyw0S0FBNEssa0VBQWtFLDJDQUEyQyxhQUFhLHdEQUF3RCxrQkFBa0IsS0FBSyxxQkFBcUIsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSxpQkFBaUIsZ0NBQWdDLDZCQUE2QixZQUFZLE1BQU0sMkJBQTJCLDhCQUE4QixrRkFBa0YsaUJBQWlCLGtEQUFrRCxJQUFJLElBQUksZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksMkNBQTJDLDBCQUEwQixZQUFZLHVDQUF1QyxTQUFTLEVBQUUsNkVBQTZFLElBQUksVUFBVSxHQUFHLDBLQUEwSyxNQUFNLFdBQVcsMkJBQTJCLGlEQUFpRCxJQUFJLHlGQUF5RixxQ0FBcUMsTUFBTSw2RkFBNkYsTUFBTSxvQ0FBb0MsTUFBTSx1Q0FBdUMsTUFBTSxvQ0FBb0MsTUFBTSxpQ0FBaUMsTUFBTSw0Q0FBNEMsTUFBTSxzREFBc0QsUUFBUSxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSwyQ0FBMkMsMEJBQTBCLFlBQVksdUNBQXVDLFNBQVMsRUFBRSw0QkFBNEIsMkNBQTJDLHdCQUF3QixtQ0FBbUMsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsOENBQThDLGlFQUFpRSxRQUFRLHNKQUFzSixvRUFBb0Usb0JBQW9CLDZCQUE2QixlQUFlLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGVBQWUsb0VBQW9FLHdCQUFVLDJGQUEyRixJQUFJLGlCQUFpQixrQkFBa0IsbUJBQW1CLFdBQVcsbUJBQW1CLGVBQWUscUJBQXFCLHFCQUFxQiwrR0FBK0csbUJBQW1CLDZDQUE2QywyQkFBMkIsYUFBYSxLQUFLLFNBQVMsK0JBQStCLGNBQWMsOEhBQThILEtBQUssU0FBUywrQkFBK0IsZUFBZSxzQ0FBc0MsOENBQThDLEdBQUcsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksZUFBZSx5RUFBeUUsd0JBQVUsa0hBQWtILHdCQUF3QixtQkFBbUIsa0JBQWtCLDRDQUE0QyxlQUFlLDZDQUE2QyxlQUFlLDhCQUE4Qiw4QkFBOEIsOEJBQThCLHlDQUF5QyxhQUFhLFNBQVMseUNBQXlDLG1CQUFtQixlQUFlLHVCQUF1QixlQUFlLHFHQUFxRyx5QkFBeUIsNERBQTRELHVCQUF1QixlQUFlLHVCQUF1QixlQUFlLHFHQUFxRyxxQ0FBcUMsNkRBQTZELGNBQWMsc0JBQXNCLHFFQUFxRSxnQ0FBZ0MsdURBQXVELE1BQU0sdUJBQXVCLHFCQUFxQixFQUFFLGtCQUFrQixnQ0FBZ0MsU0FBUywrQkFBK0IsNEJBQTRCLDRCQUE0QixnQ0FBZ0MsR0FBRyxlQUFlLGdDQUFnQyxTQUFTLDhCQUE4Qiw0QkFBNEIsNEJBQTRCLCtCQUErQixHQUFHLGVBQWUsMkZBQTJGLDBCQUEwQixnREFBZ0QsNkJBQTZCLDhEQUE4RCxHQUFHLGlCQUFpQiw2QkFBNkIsOERBQThELElBQUksZUFBZSwyRkFBMkYsaUNBQWlDLDZCQUE2Qiw2REFBNkQsS0FBSyxRQUFRLDREQUE0RCxVQUFVLEdBQUcsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksZUFBZSx5RUFBeUUsd0JBQVUsNkdBQTZHLHlCQUF5QixtQkFBbUIsb0JBQW9CLFdBQVcsa0JBQWtCLHFCQUFxQixvQkFBb0IsOEJBQThCLGVBQWUsMkJBQTJCLG9DQUFvQyw4QkFBOEIsS0FBSyxVQUFVLE9BQU8sY0FBYyxRQUFRLDRDQUE0QyxhQUFhLHNDQUFzQyxlQUFlLG1HQUFtRyw0QkFBNEIsZUFBZSxlQUFlLGtHQUFrRyw0QkFBNEIsaUJBQWlCLDBCQUEwQixPQUFPLG1EQUFtRCx1QkFBdUIsd0JBQXdCLGlCQUFpQiw4QkFBOEIsdUJBQXVCLHFDQUFxQyxtQkFBbUIsNkNBQTZDLDBDQUEwQyxtQkFBbUIsNkNBQTZDLDBDQUEwQyx3Q0FBd0MsYUFBYSxJQUFJLHVCQUF1QixnREFBZ0Qsb0NBQW9DLGdCQUFnQixFQUFFLEtBQUssb0ZBQW9GLGtCQUFrQixnQkFBZ0IsR0FBRyxLQUFLLGdHQUFnRywyREFBMkQsMkJBQTJCLEtBQUssb0ZBQW9GLFdBQVcsU0FBUyxhQUFhLE9BQU8sa0JBQWtCLHFCQUFxQixHQUFHLEdBQUcscUNBQXFDLE1BQU0sY0FBYyxXQUFXLCtCQUErQixZQUFZLFlBQVkscUNBQXFDLFFBQVEsMENBQTBDLGNBQWMsSUFBSSxJQUFJLGFBQWEsK0RBQStELHVCQUF1QixFQUFFLDREQUE0RCxhQUFhLE9BQU8sSUFBSSxJQUFJLDhCQUE4Qiw0QkFBNEIsZUFBZSwyQkFBMkIsY0FBYyxNQUFNLDhDQUE4QyxjQUFjLE1BQU0sOENBQThDLG1FQUFtRSxHQUFHLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSxnRUFBZ0Usa0JBQWtCLDJDQUEyQyxnRUFBZ0UsNkJBQTZCLGFBQWEsZ0NBQWdDLG1CQUFtQiw2QkFBNkIsNkRBQTZELG1DQUFtQyxzQkFBc0IsR0FBRyxlQUFlLGFBQWEsc0NBQXNDLDRCQUE0QixTQUFTLDhGQUE4RixrQkFBa0IsdUNBQXVDLFNBQVMsRUFBRSw0QkFBNEIsd0NBQXdDLEtBQUssb0RBQW9ELFFBQVEsVUFBVSx1QkFBdUIsdUJBQXVCLHdGQUF3RixlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSwyQ0FBMkMsMEJBQTBCLFlBQVksdUNBQXVDLFNBQVMsRUFBRSx5QkFBeUIsbUJBQW1CLHVGQUF1RixRQUFRLGtFQUFrRSxhQUFhLDhDQUE4QyxrREFBa0Qsb0JBQW9CLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLGdFQUFnRSxrQkFBa0IsMkNBQTJDLGdFQUFnRSw2QkFBNkIsYUFBYSxnQ0FBZ0MsbUJBQW1CLDZCQUE2Qiw2REFBNkQsbUNBQW1DLHNCQUFzQixHQUFHLGVBQWUsYUFBYSxzQ0FBc0MsNEJBQTRCLFNBQVMsOEZBQThGLGlCQUFpQix3Q0FBd0MsMEJBQTBCLFlBQVksdUNBQXVDLFNBQVMsRUFBRSwwTEFBMEwsZ0JBQWdCLHNCQUFzQixTQUFTLEdBQUcsTUFBTSx3S0FBd0sseUNBQXlDLG1CQUFtQixpQkFBaUIsdUNBQXVDLEVBQUUsaUJBQWlCLDJCQUEyQixzRkFBc0YsNDlCQUE0OUIsY0FBYyxxWUFBcVkseUJBQXlCLGdOQUFnTiwrQ0FBK0MsMFJBQTBSLElBQUksUUFBUSxhQUFhLGdCQUFnQixrQ0FBa0MsV0FBVyxPQUFPLG9CQUFvQixPQUFPLDREQUE0RCxTQUFTLDhHQUE4RyxtQkFBbUIsc0dBQXNHLG1EQUFtRCx1QkFBdUIsdVdBQXVXLDRGQUE0RixnQkFBZ0IsS0FBSyxtQkFBbUIsS0FBSyxVQUFVLHlDQUF5QyxtQkFBbUIsaURBQWlELFVBQVUsTUFBTSxvRUFBb0Usc05BQXNOLGtFQUFrRSxFQUFFLFdBQVcsaURBQWlELGdCQUFnQiw0RUFBNEUsTUFBTSx3Q0FBd0MsUUFBUSx3REFBd0QsUUFBUSxnQ0FBZ0MsTUFBTSxRQUFRLGNBQWMsbUJBQW1CLG1FQUFtRSxVQUFVLGdKQUFnSixnSUFBZ0ksZ0pBQWdKLGdEQUFnRCxPQUFPLHlSQUF5Uiw0REFBNEQscUJBQXFCLGtFQUFrRSx1REFBdUQsMEtBQTBLLDJMQUEyTCxvSEFBb0gscUJBQXFCLHdCQUF3QiwwQkFBMEIsdUJBQXVCLDBHQUEwRyx5SUFBeUksbUNBQW1DLGlCQUFpQixzREFBc0QsSUFBSSxVQUFVLE1BQU0sMENBQTBDLGlDQUFpQyxFQUFFLHVCQUF1QixLQUFLLElBQUksK0NBQStDLEdBQUcsMkNBQTJDLFdBQVcsUUFBUSx1RkFBdUYsT0FBTyxrRUFBa0UsK0VBQStFLDBDQUEwQyw0QkFBNEIsbUZBQW1GLE1BQU0scUZBQXFGLE1BQU0sV0FBVyw0R0FBNEcsNENBQTRDLE9BQU8sb0JBQW9CLDJCQUEyQiwyQkFBMkIsYUFBYSxHQUFHLEVBQUUsaUJBQWlCLG1DQUFtQywyQ0FBMkMsY0FBYyxnSUFBZ0ksMkJBQTJCLG1EQUFtRCxFQUFFLFNBQVMscUZBQXFGLE9BQU8sT0FBTyxpRUFBaUUsT0FBTyxrQ0FBa0MscUhBQXFILE9BQU8sbUJBQW1CLHVKQUF1SixrQ0FBa0MsOENBQThDLDZCQUE2Qiw2REFBNkQsbUNBQW1DLFdBQVcscUJBQXFCLG9EQUFvRCxPQUFPLDZDQUE2QyxpREFBaUQsMENBQTBDLFNBQVMsY0FBYyxtQ0FBbUMsT0FBTyxXQUFXLG1JQUFtSSx3Q0FBd0MsbUNBQW1DLG9CQUFvQixPQUFPLElBQUksVUFBVSxHQUFHLFlBQVksV0FBVyxvQkFBb0IsU0FBUyxtRUFBbUUsNEdBQTRHLG9CQUFvQixPQUFPLG9CQUFvQiwyQkFBMkIsMkJBQTJCLGFBQWEsR0FBRyxFQUFFLG1CQUFtQix1RUFBdUUsMkJBQTJCLG1EQUFtRCxFQUFFLFNBQVMsMkNBQTJDLFdBQVcscUJBQXFCLG9EQUFvRCxPQUFPLGtEQUFrRCxnSkFBZ0osbUNBQW1DLDRGQUE0RixpQkFBaUIsbUVBQW1FLDRHQUE0RyxvQkFBb0IsT0FBTyxzQkFBc0IsMkJBQTJCLDZCQUE2QixhQUFhLEdBQUcsRUFBRSxXQUFXLDRNQUE0TSxXQUFXLHVIQUF1SCw2QkFBNkIsb0VBQW9FLFdBQVcsbUVBQW1FLEdBQUcsc0RBQXNELFFBQVEsaUhBQWlILDBGQUEwRixNQUFNLDBXQUEwVyxjQUFjLDJCQUEyQixpQkFBaUIsWUFBWSxHQUFHLEVBQUUseUJBQXlCLHFCQUFxQixJQUFJLEtBQUssa0JBQWtCLDJDQUEyQyxpQ0FBaUMsR0FBRyxZQUFZLGFBQWEsNkJBQTZCLFdBQVcsb1hBQW9YLGlGQUFpRixpQkFBaUIsNktBQTZLLGtKQUFrSixJQUFJLFNBQVMsNEdBQTRHLHVIQUF1SCxJQUFJLHdDQUF3QyxNQUFNLDBDQUEwQyx5QkFBeUIsNEZBQTRGLDZEQUE2RCxzR0FBc0csV0FBVyxtQ0FBbUMsdUJBQXVCLDJKQUEySixhQUFhLDBHQUEwRyxnQkFBZ0Isd0hBQXdILGtCQUFrQiw0WEFBNFgsc0VBQXNFLGlGQUFpRixrQkFBa0IsMklBQTJJLGlCQUFpQixFQUFFLDhTQUE4UyxNQUFNLHFCQUFxQixpQkFBaUIsSUFBSSxzSEFBc0gsZ0ZBQWdGLHFCQUFxQix3RUFBd0UsR0FBRyxHQUFHLEdBQUcsMGNBQTBjLHFCQUFxQiw0RUFBNEUsVUFBVSw2R0FBNkcsNkJBQTZCLG9CQUFvQiw0QkFBNEIsR0FBRyxvQkFBb0Isd0RBQXdELE1BQU0sMENBQTBDLHlCQUF5Qiw2QkFBNkIscVBBQXFQLHlKQUF5SixnQkFBZ0IsYUFBYSwwTEFBMEwsZ0JBQWdCLGFBQWEsNk1BQTZNLGdCQUFnQixhQUFhLHVFQUF1RSw2SUFBNkksU0FBUyx1QkFBdUIsa0JBQWtCLDZMQUE2TCwyREFBMkQsdU9BQXVPLHFCQUFxQiw4RkFBOEYsK0JBQStCLE1BQU0sS0FBSyxPQUFPLG9CQUFvQixtQkFBbUIsdUJBQXVCLE9BQU8sa0dBQWtHLE9BQU8sTUFBTSx1QkFBdUIsT0FBTyxjQUFjLG9CQUFvQix1Q0FBdUMsT0FBTywrQkFBK0IsT0FBTyxjQUFjLHdDQUF3QyxNQUFNLHNDQUFzQyxNQUFNLCtEQUErRCxvQkFBb0IsK0ZBQStGLFFBQVEsc0JBQXNCLHFCQUFxQixtREFBbUQsb0JBQW9CLGVBQWUsNkRBQTZELGNBQWMsb0dBQW9HLG9CQUFvQixLQUFLLCtDQUErQyxrQkFBa0Isa01BQWtNLG1CQUFtQiw4QkFBOEIscUJBQXFCLG1HQUFtRyxhQUFhLG1MQUFtTCxjQUFjLHFJQUFxSSxlQUFlLHlCQUF5QiwyQ0FBMkMsa01BQWtNLDRDQUE0QyxZQUFZLFdBQVcsS0FBSyxTQUFTLHlFQUF5RSw4QkFBOEIsSUFBSSxvRkFBb0YsZ0NBQWdDLDBCQUEwQixjQUFjLHNCQUFzQix1QkFBdUIsT0FBTyw2RkFBNkYsV0FBVywrQ0FBK0MsMERBQTBELFFBQVEsbUVBQW1FLHNDQUFzQywyRkFBMkYsRUFBRSxXQUFXLGFBQWEsa0JBQWtCLE9BQU8scUJBQXFCLE9BQU8sK0VBQStFLElBQUksT0FBTyx1SUFBdUksb0JBQW9CLGdCQUFnQiwwTkFBME4sZ0JBQWdCLFNBQVMsK0ZBQStGLEtBQUssTUFBTSx5R0FBeUcsUUFBUSxLQUFLLDhCQUE4QixnRUFBZ0Usb0NBQW9DLDhEQUE4RCxVQUFVLGlDQUFpQyxLQUFLLG1DQUFtQyxHQUFHLDZCQUE2QiwwSkFBMEosc0NBQXNDLG9DQUFvQyxnREFBZ0QsWUFBWSxTQUFTLGdGQUFnRixLQUFLLG1CQUFtQixlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLHFCQUFxQixjQUFjLHNEQUFzRCxXQUFXLDREQUE0RCxtQkFBbUIsbUJBQW1CLFlBQVksbUNBQW1DLGNBQWMsOEJBQThCLFFBQVEsZ0NBQWdDLGVBQWUsRUFBRSxlQUFlLDRCQUE0QixpQkFBaUIsd0JBQXdCLGdDQUFnQyxvQkFBb0Isb0JBQW9CLEtBQUssSUFBSSxjQUFjLFNBQVMsK0NBQStDLFdBQVcsZUFBZSx3QkFBd0IsS0FBSyxJQUFJLEVBQUUsd0JBQXdCLDRCQUE0Qix3QkFBd0Isd0VBQXdFLGdCQUFnQixTQUFTLGdEQUFnRCxJQUFJLElBQUksSUFBSSw4REFBOEQsd0pBQXdKLHNDQUFzQyxpQkFBaUIsa0NBQWtDLG9CQUFvQixRQUFRLGtDQUFrQyxNQUFNLGlCQUFpQix5QkFBeUIsZ0JBQWdCLHdEQUF3RCxXQUFXLFlBQVksSUFBSSxrRUFBa0Usb0JBQW9CLElBQUksRUFBRSxRQUFRLGtCQUFrQixPQUFPLDBCQUEwQixvRUFBb0UsdURBQXVELDRCQUE0QixhQUFhLFdBQVcseUNBQXlDLGlCQUFpQix5RkFBeUYsTUFBTSxrQ0FBa0MsZ0JBQWdCLDJDQUEyQyxvQ0FBb0MsbUJBQW1CLG1CQUFtQixJQUFJLEVBQUUsaUJBQWlCLGdDQUFnQyxVQUFVLHdEQUF3RCw0REFBNEQsUUFBUSxjQUFjLE9BQU8sNEJBQTRCLGFBQWEsaUJBQWlCLG1DQUFtQyw0Q0FBNEMsU0FBUyxrQkFBa0IsS0FBSyxzQkFBc0IsK0NBQStDLHlDQUF5Qyx3QkFBd0IsaUNBQWlDLEVBQUUsdUJBQXVCLHdCQUF3QixpREFBaUQsSUFBSSxVQUFVLFVBQVUsV0FBVyxhQUFhLFFBQVEsWUFBWSxFQUFFLGlCQUFpQixpREFBaUQsMkJBQTJCLElBQUksSUFBSSxJQUFJLHFCQUFxQixrQkFBa0IsU0FBUyw2Q0FBNkMsWUFBWSxhQUFhLFVBQVUsNkNBQTZDLGVBQWUsZ0JBQWdCLFlBQVksSUFBSSxLQUFLLG1EQUFtRCxpS0FBaUssU0FBUyxnQkFBZ0IsaUJBQWlCLHNCQUFzQixzQ0FBc0MscUNBQXFDLG1CQUFtQixzQkFBc0IsZ0dBQWdHLGtDQUFrQyxnREFBZ0QsbUNBQW1DLHlDQUF5QyxxRUFBcUUsT0FBTyxnREFBZ0QsVUFBVSxVQUFVLFNBQVMsY0FBYyxFQUFFLGNBQWMsbURBQW1ELGNBQWMscURBQXFELGVBQWUsMENBQTBDLG1FQUFtRSxJQUFJLGVBQWUsTUFBTSxJQUFJLHlCQUF5QixNQUFNLCtCQUErQixjQUFjLGtFQUFrRSxjQUFjLFFBQVEsYUFBYSxNQUFNLG9CQUFvQixFQUFFLEVBQUUsZ0JBQWdCLE9BQU8sa0JBQWtCLG1CQUFtQiwwQkFBMEIsNENBQTRDLHVFQUF1RSxJQUFJLE9BQU8sTUFBTSxJQUFJLHVCQUF1QixNQUFNLDZCQUE2QixNQUFNLGlCQUFpQixxQ0FBcUMsZUFBZSw2Q0FBNkMsSUFBSSxJQUFJLElBQUkseURBQXlELHFCQUFNLFVBQVUsWUFBWSxJQUFJLGdEQUFnRCxNQUFNLE9BQU8sSUFBSSxvREFBb0QsTUFBTSxRQUFRLElBQUksa0JBQWtCLHdCQUF3QixvQ0FBb0Msa0NBQWtDLG1CQUFtQix3QkFBd0IsZ0RBQWdELDZCQUE2Qiw2Q0FBNkMsMkNBQTJDLHdDQUF3QyxtTEFBbUwsVUFBVSx3QkFBd0Isb0RBQW9ELG1CQUFtQixXQUFXLHNCQUFzQixrREFBa0QscUJBQXFCLFVBQVUsTUFBTSxlQUFlLFFBQVEsV0FBVyxXQUFXLFNBQVMsT0FBTyxRQUFRLE9BQU8sYUFBYSxZQUFZLE9BQU8sTUFBTSxRQUFRLG1CQUFtQix1QkFBdUIsc0JBQXNCLGtCQUFrQixTQUFTLFNBQVMsV0FBVyxhQUFhLEVBQUUsY0FBYyxnQkFBZ0IsTUFBTSxXQUFXLEtBQUssYUFBYSxtREFBbUQsYUFBYSxxREFBcUQsWUFBWSxJQUFJLGdEQUFnRCxNQUFNLEtBQUssSUFBSSxvREFBb0QsTUFBTSxNQUFNLElBQUksY0FBYyx5Q0FBeUMsK0RBQStELElBQUksY0FBYyxNQUFNLElBQUksd0JBQXdCLE1BQU0sOEJBQThCLGNBQWMsMkNBQTJDLG1FQUFtRSxJQUFJLFlBQVksTUFBTSxJQUFJLHNCQUFzQixNQUFNLDRCQUE0QixxQkFBcUIsYUFBYSwwREFBMEQsYUFBYSxPQUFPLFdBQVcsS0FBSyxtQkFBbUIsRUFBRSxFQUFFLGFBQWEsTUFBTSxlQUFlLGlCQUFpQixtQkFBbUIsdUJBQXVCLG9DQUFvQyxrQ0FBa0MsbUJBQW1CLHdCQUF3Qiw0Q0FBNEMsZ0JBQWdCLHFDQUFxQywyQkFBMkIsNkNBQTZDLHdDQUF3QyxzQ0FBc0MsY0FBYyxzS0FBc0ssVUFBVSx1QkFBdUIsb0RBQW9ELGtCQUFrQixXQUFXLHFCQUFxQixrREFBa0Qsb0JBQW9CLFNBQVMsSUFBSSwyQkFBMkIsSUFBSSxJQUFJLElBQUksS0FBSyxnRUFBZ0UscUJBQU0sQ0FBQyxRQUFRLHNCQUFzQixlQUFlLFFBQVEsV0FBVyxXQUFXLFNBQVMsT0FBTyxRQUFRLE9BQU8sYUFBYSxZQUFZLE9BQU8sTUFBTSxRQUFRLG1CQUFtQix1QkFBdUIsc0JBQXNCLGtCQUFrQixTQUFTLFNBQVMsV0FBVyxhQUFhLEVBQUUsY0FBYyxnQkFBZ0IsTUFBTSxTQUFTLGNBQWMsZ0dBQWdHLGdCQUFnQixnQ0FBZ0MsWUFBWSxLQUFLLGdDQUFnQyxNQUFNLGdCQUFnQixNQUFNLFdBQVcsd0NBQXdDLG9GQUFvRixlQUFlLHlCQUF5QixtQkFBbUIsMkVBQTJFLFVBQVUsb0NBQW9DLGlCQUFpQixVQUFVLHFDQUFxQywrREFBK0QsU0FBUyw4QkFBOEIsU0FBUyxnQkFBZ0IsdURBQXVELGdDQUFnQyxPQUFPLG1CQUFtQix5Q0FBeUMsVUFBVSxLQUFLLE1BQU0seUdBQXlHLHlEQUF5RCx1QkFBdUIsZ0NBQWdDLDJEQUEyRCw2RUFBNkUsd0JBQXdCLDZDQUE2QyxpQkFBaUIsbUNBQW1DLGNBQWMsbUJBQW1CLEtBQUssbUJBQW1CLDRDQUE0QyxxQ0FBcUMsd0JBQXdCLG9FQUFvRSxZQUFZLGlDQUFpQyxLQUFLLDZCQUE2QixpQ0FBaUMsS0FBSyw0Q0FBNEMsS0FBSyxLQUFLLFVBQVUsUUFBUSxnREFBZ0QsNkJBQTZCLG9EQUFvRCxNQUFNLDRDQUE0QyxlQUFlLGVBQWUsU0FBUyxZQUFZLEtBQUssbUVBQW1FLDZFQUE2RSx1QkFBdUIsU0FBUyxxQkFBcUIsZ0NBQWdDLDBEQUEwRCxLQUFLLGlDQUFpQyxPQUFPLElBQUksT0FBTyxVQUFVLG1EQUFtRCx3QkFBd0IseUZBQXlGLEtBQUssb0JBQW9CLCtDQUErQyx3Q0FBd0Msc0JBQXNCLGlCQUFpQixLQUFLLEtBQUssc0JBQXNCLFdBQVcsT0FBTyxNQUFNLE9BQU8sa0ZBQWtGLG1EQUFtRCxNQUFNLGlCQUFpQixLQUFLLDZCQUE2QixPQUFPLE1BQU0sT0FBTywwQkFBMEIsK0JBQStCLHFCQUFxQixLQUFLLDRDQUE0QyxLQUFLLEtBQUssc0JBQXNCLFdBQVcsT0FBTyxNQUFNLE1BQU0sU0FBUyxvRUFBb0Usc0VBQXNFLG9CQUFvQixpSUFBaUksZ0JBQWdCLG1CQUFtQixLQUFLLE9BQU8sdUNBQXVDLHlCQUF5QixpQ0FBaUMsdUJBQXVCLDRDQUE0QyxLQUFLLEtBQUssNkJBQTZCLE9BQU8sTUFBTSxNQUFNLFNBQVMsb0VBQW9FLDJSQUEyUiw4Q0FBOEMseUJBQXlCLHdCQUF3QixJQUFJLElBQUksSUFBSSxLQUFLLEtBQUssT0FBTyxTQUFTLEVBQUUsVUFBVSxPQUFPLDZJQUE2SSxFQUFFLGNBQWMsdU1BQXVNLG1CQUFtQiwrQ0FBK0MsYUFBYSx3QkFBd0IsY0FBYyxnQkFBZ0IsTUFBTSxTQUFTLGNBQWMsZ0dBQWdHLGdCQUFnQixnQ0FBZ0MsWUFBWSxLQUFLLGdDQUFnQyxNQUFNLGdCQUFnQixNQUFNLFdBQVcsd0NBQXdDLG9GQUFvRixlQUFlLHlCQUF5QixtQkFBbUIsMkVBQTJFLFVBQVUsb0NBQW9DLGlCQUFpQixVQUFVLHFDQUFxQywrREFBK0QsU0FBUyw4QkFBOEIsU0FBUyxnQkFBZ0IsdURBQXVELGdDQUFnQyxPQUFPLG1CQUFtQix5Q0FBeUMsVUFBVSxLQUFLLE1BQU0seUdBQXlHLHlEQUF5RCx1QkFBdUIsZ0NBQWdDLDJEQUEyRCw2RUFBNkUsd0JBQXdCLDZDQUE2QyxpQkFBaUIsbUNBQW1DLGNBQWMsbUJBQW1CLEtBQUssbUJBQW1CLDRDQUE0QyxxQ0FBcUMsd0JBQXdCLG9FQUFvRSxZQUFZLGlDQUFpQyxLQUFLLDZCQUE2QixpQ0FBaUMsS0FBSyw0Q0FBNEMsS0FBSyxLQUFLLFVBQVUsUUFBUSxnREFBZ0QsNkJBQTZCLG9EQUFvRCxNQUFNLDRDQUE0QyxlQUFlLGVBQWUsU0FBUyxZQUFZLEtBQUssbUVBQW1FLDZFQUE2RSx1QkFBdUIsU0FBUyxxQkFBcUIsZ0NBQWdDLDBEQUEwRCxLQUFLLGlDQUFpQyxPQUFPLElBQUksT0FBTyxVQUFVLG1EQUFtRCx3QkFBd0IseUZBQXlGLEtBQUssb0JBQW9CLCtDQUErQyx3Q0FBd0Msc0JBQXNCLGlCQUFpQixLQUFLLEtBQUssc0JBQXNCLFdBQVcsT0FBTyxNQUFNLE9BQU8sa0ZBQWtGLG1EQUFtRCxNQUFNLGlCQUFpQixLQUFLLDZCQUE2QixPQUFPLE1BQU0sT0FBTywwQkFBMEIsK0JBQStCLHFCQUFxQixLQUFLLDRDQUE0QyxLQUFLLEtBQUssc0JBQXNCLFdBQVcsT0FBTyxNQUFNLE1BQU0sU0FBUyxvRUFBb0Usc0VBQXNFLG9CQUFvQixpSUFBaUksZ0JBQWdCLG1CQUFtQixLQUFLLE9BQU8sdUNBQXVDLHlCQUF5QixpQ0FBaUMsdUJBQXVCLDRDQUE0QyxLQUFLLEtBQUssNkJBQTZCLE9BQU8sTUFBTSxNQUFNLFNBQVMsb0VBQW9FLDJSQUEyUiw4Q0FBOEMseUJBQXlCLGVBQWUsbUNBQW1DLGlIQUFpSCxnRkFBZ0Ysc0JBQXNCLGVBQWUsOEJBQThCLFlBQVksV0FBVyxtQkFBbUIsNkJBQTZCLGdJQUFnSSxxRUFBcUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxpQ0FBaUMsMkZBQTJGLG1CQUFtQixlQUFlLGtGQUFrRixpQkFBaUIsWUFBWSxXQUFXLG1CQUFtQiw2QkFBNkIsb0dBQW9HLDZCQUE2QixlQUFlLCtDQUErQyx1REFBdUQseUJBQXlCO0FBQzlrcVEsOEhBQThILGVBQWUsbUNBQW1DLGlIQUFpSCxnRkFBZ0Ysc0JBQXNCLGVBQWUsOEJBQThCLFlBQVksV0FBVyxtQkFBbUIsNkJBQTZCLGdJQUFnSSxxRUFBcUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxpQ0FBaUMsMkZBQTJGLG1CQUFtQixlQUFlLGtGQUFrRixpQkFBaUIsWUFBWSxXQUFXLG1CQUFtQiw2QkFBNkIsb0dBQW9HLDZCQUE2QixlQUFlLCtDQUErQyx1REFBdUQseUJBQXlCO0FBQ2h5Qyw4SEFBOEgsaUtBQWlLLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxJQUFJLFdBQVcscUJBQXFCLDBCQUEwQixzQkFBc0Isb0NBQW9DLG9CQUFvQixnQkFBZ0IsK0JBQStCLGlCQUFpQixtQ0FBbUMsOEJBQThCLCtCQUErQix3Q0FBd0Msc0JBQXNCLHdGQUF3RixVQUFVLG1GQUFtRixJQUFJO0FBQ3YyQiw4Q0FBOEMsdURBQXVELEtBQUssd0JBQXdCLEtBQUssWUFBWSwrQkFBK0IsS0FBSywrQkFBK0IsS0FBSyxtR0FBbUcsT0FBTyxtQ0FBbUMsMEZBQTBGLHFFQUFxRSw2QkFBNkIsa0JBQWtCLDJDQUEyQyxpQkFBaUIsa0xBQWtMLE9BQU8saUJBQWlCLE1BQU0sNkJBQTZCLHNDQUFzQywwQ0FBMEMsMkJBQTJCLCtDQUErQywyQkFBMkIscUJBQXFCLFlBQVksb0RBQW9ELHNJQUFzSSxZQUFZLEtBQUssTUFBTSxpREFBaUQsMEdBQTBHLDBFQUEwRSwyREFBMkQsSUFBSSxLQUFLLFdBQVcsb0JBQW9CLDRCQUE0QixJQUFJLHVDQUF1QyxpQkFBaUIsZ0RBQWdELDRGQUE0RixRQUFRLGlJQUFpSSx1REFBdUQsOEhBQThILDhCQUE4QixJQUFJLEtBQUssYUFBYSx1QkFBdUIsOEJBQThCLGtEQUFrRCxzQkFBc0Isa0RBQWtELHNCQUFzQixxSkFBcUosNkdBQTZHLHFCQUFxQix1QkFBdUIsaUJBQWlCLG9DQUFvQyxnQ0FBZ0Msb0JBQW9CLDREQUE0RCxzRUFBc0UsbVBBQW1QLGdDQUFnQyx5T0FBeU8sNkJBQTZCLDhCQUE4QixrQ0FBa0MsZ0RBQWdELHdDQUF3QyxtQkFBbUIsYUFBYSxzQkFBc0IseUNBQXlDLFdBQVcsS0FBSyxXQUFXLGNBQWMsd0RBQXdELDJCQUEyQiw2QkFBNkIsV0FBVyxLQUFLLFdBQVcsNkJBQTZCLDRGQUE0Rix3Q0FBd0Msb0JBQW9CLDZCQUE2QixXQUFXLEtBQUssV0FBVyxXQUFXLDJCQUEyQixzRUFBc0UsTUFBTSxzQ0FBc0MsOEJBQThCLEVBQUUsMkhBQTJILHVJQUF1SSxvQ0FBb0MsWUFBWSwwREFBMEQsNk9BQTZPLGdYQUFnWCxtRkFBbUYsc1ZBQXNWLGlHQUFpRyxvR0FBb0csS0FBSyxxRkFBcUYsZUFBZSxJQUFJLGtCQUFrQixxR0FBcUcsK0NBQStDLDZiQUE2YixtQ0FBbUMsNkJBQTZCLG9HQUFvRyxNQUFNLFNBQVMsVUFBVSxnQkFBZ0IsS0FBSyxPQUFPLGtGQUFrRiw4QkFBOEIsbUJBQW1CLG1CQUFtQixNQUFNLFNBQVMsVUFBVSxnQkFBZ0IsTUFBTSw4RkFBOEYsMEVBQTBFLDhCQUE4QixtQkFBbUIsbUJBQW1CLHdLQUF3SyxFQUFFLFVBQVUsT0FBTyw0T0FBNE8sRUFBRSxjQUFjLHVGQUF1RixrQkFBa0IsSUFBSSxJQUFJLElBQUksSUFBSSwrS0FBK0ssRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDJDQUEyQywwQkFBMEIsWUFBWSx1Q0FBdUMsU0FBUyxFQUFFLGdGQUFnRiwrREFBK0QsSUFBSSxPQUFPLGdCQUFnQix1RUFBdUUsZUFBZSxFQUFFLFVBQVUsT0FBTyxlQUFlLEVBQUUsa0JBQWtCLElBQUksSUFBSSxJQUFJLE9BQU8sRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDJDQUEyQywwQkFBMEIsWUFBWSx1Q0FBdUMsU0FBUyxFQUFFLG9HQUFvRywwUEFBMFAsNEJBQTRCLDBCQUEwQixpSEFBaUgsRUFBRSxjQUFjLGlEQUFpRCwwQkFBMEIsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSxtQ0FBbUMsNEJBQTRCLGlCQUFpQiwwQkFBMEIsWUFBWSxXQUFXLHVGQUF1Riw2Q0FBNkMsYUFBYSwrQkFBK0IsbUJBQW1CLE9BQU8sY0FBYyx5SUFBeUksY0FBYyxHQUFHLFNBQVMsb0JBQW9CLGNBQWMsaUVBQWlFLHdCQUF3QixHQUFHLFVBQVUsc0NBQXNDLGNBQWMsOENBQThDLGNBQWMsb0VBQW9FLG9CQUFvQiwyREFBMkQsb0JBQW9CLEtBQUsseUJBQXlCLEVBQUUsSUFBSSx3QkFBd0IseUJBQXlCLDZCQUE2QixzQkFBc0IsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsNkNBQTZDLGNBQWMsdUJBQXVCLDBCQUEwQixTQUFTLHdCQUF3QixLQUFLLFNBQVMsa0JBQWtCLEdBQUcsY0FBYyxVQUFVLFVBQVUsTUFBTSxHQUFHLEdBQUcsZUFBZSxzRkFBc0YsR0FBRyxpQkFBaUIseUNBQXlDLEVBQUUsS0FBSyxXQUFXLEVBQUUsT0FBTyxFQUFFLGdEQUFnRCxFQUFFLEtBQUssV0FBVyxHQUFHLE9BQU8sRUFBRSxPQUFPLHNFQUFzRSxjQUFjLGVBQWUsa0JBQWtCLG1CQUFtQixJQUFJLE9BQU8sR0FBRyxvRkFBb0Ysa0JBQWtCLHdDQUF3QyxpQkFBaUIsMEJBQTBCLGVBQWUsR0FBRyxlQUFlLGlIQUFpSCx1RUFBdUUsTUFBTSxjQUFjLHFCQUFxQixvQkFBb0IsZ0VBQWdFLFVBQVUsVUFBVSxVQUFVLElBQUksaUJBQWlCLHVEQUF1RCxVQUFVLE9BQU8sbUJBQW1CLEdBQUcsaUJBQWlCLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsbURBQW1ELGNBQWMsdUJBQXVCLDBCQUEwQixzQkFBc0Isd0JBQXdCLEtBQUssUUFBUSxlQUFlLEdBQUcsY0FBYyxnQkFBZ0IsVUFBVSxNQUFNLEdBQUcsR0FBRyxlQUFlLHNGQUFzRixHQUFHLGlCQUFpQiwwQ0FBMEMsRUFBRSxLQUFLLFdBQVcsRUFBRSxPQUFPLEVBQUUsZ0RBQWdELEVBQUUsS0FBSyxXQUFXLEdBQUcsT0FBTyxFQUFFLE9BQU8sc0VBQXNFLGNBQWMsZ0NBQWdDLGtCQUFrQix5QkFBeUIsNEJBQTRCLHNDQUFzQyxZQUFZLE1BQU0scUJBQXFCLCtCQUErQixlQUFlLG9GQUFvRixnQ0FBZ0Msd0JBQXdCLHVCQUF1Qix1QkFBdUIsZUFBZSxJQUFJLGVBQWUsaUhBQWlILHVFQUF1RSxNQUFNLGNBQWMsaUNBQWlDLGtCQUFrQixxREFBcUQsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxzQkFBc0IsMkdBQTJHLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSwyQ0FBMkMsMEJBQTBCLFlBQVksdUNBQXVDLFNBQVMsRUFBRSx1S0FBdUssaUJBQWlCLFNBQVMsV0FBVyxLQUFLLFdBQVcsR0FBRyxPQUFPLEVBQUUsT0FBTyxFQUFFLDBFQUEwRSxlQUFlLFFBQVEsK0lBQStJLGtEQUFrRCx3SEFBd0gsSUFBSSxlQUFlLFlBQVksZ0RBQWdELDJGQUEyRiw0QkFBNEIsdURBQXVELG1GQUFtRixtQkFBbUIsc0NBQXNDLGNBQWMsRUFBRSxrQkFBa0IsR0FBRyx1RUFBdUUsc0NBQXNDLEdBQUcsZ0JBQWdCLEVBQUUsR0FBRyxNQUFNLDRGQUE0RixpQkFBaUIsbUZBQW1GLDBHQUEwRyxlQUFlLG9CQUFvQixvRkFBb0YsaUNBQWlDLGFBQWEsSUFBSSxZQUFZLDJCQUEyQiw2R0FBNkcsOERBQThELFdBQVcsRUFBRSxvQ0FBb0MsMFBBQTBQLGtCQUFrQix3QkFBd0Isd0JBQXdCLEVBQUUsK0JBQStCLGFBQWEsd0VBQXdFLGNBQWMsK0NBQStDLGNBQWMsMEJBQTBCLG1DQUFtQyx3QkFBd0IsY0FBYyxJQUFJLE9BQU8sR0FBRyxtRkFBbUYsa0JBQWtCLHVCQUF1QixzQkFBc0IsT0FBTyxvREFBb0QsSUFBSSxXQUFXLFNBQVMsWUFBWSxLQUFLLGNBQWMsZUFBZSxVQUFVLDZCQUE2QixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksMkNBQTJDLDBCQUEwQixZQUFZLHVDQUF1QyxTQUFTLEVBQUUsdUJBQXVCLCtGQUErRixnTUFBZ00sbUJBQW1CLG9CQUFvQixlQUFlLE1BQU0sK0ZBQStGLGlCQUFpQixtRkFBbUYsd0JBQXdCLDZCQUE2Qix5RUFBeUUsNkRBQTZELHdDQUF3QyxnSEFBZ0gsNEVBQTRFLDhCQUE4QixNQUFNLDBCQUEwQixNQUFNLDBCQUEwQixNQUFNLDRCQUE0QixNQUFNLG9FQUFvRSxXQUFXLE1BQU0sb0RBQW9ELG9CQUFvQiwrQ0FBK0MseUhBQXlILHFGQUFxRiwyQ0FBMkMsY0FBYyxzWUFBc1ksMEJBQTBCLDBCQUEwQixJQUFJLHNCQUFzQiwyQkFBMkIsaUJBQWlCLFlBQVksVUFBVSxVQUFVLFVBQVUsV0FBVyxvQkFBb0Isc0JBQXNCLGtEQUFrRCxFQUFFLGFBQWEsMkJBQTJCLGVBQWUsR0FBRywyQkFBMkIsY0FBYyxHQUFHLEVBQUUsbUJBQW1CLGVBQWUsRUFBRSxhQUFhLElBQUksSUFBSSxJQUFJLDhEQUE4RCxrQkFBa0IsMkNBQTJDLGdFQUFnRSw2QkFBNkIsYUFBYSxnQ0FBZ0MsbUJBQW1CLDZCQUE2QiwyREFBMkQsbUNBQW1DLHNCQUFzQixHQUFHLGVBQWUsYUFBYSxvQ0FBb0MsNEJBQTRCLFNBQVMsOEZBQThGLGlCQUFpQixxQ0FBcUMscUZBQXFGLHNDQUFzQywwQkFBMEIsWUFBWSxzQ0FBc0MsU0FBUyxFQUFFLDZJQUE2SSxnQkFBZ0Isd0JBQXdCLGdCQUFnQixzQ0FBc0MsZ0JBQWdCLHFDQUFxQyxnQkFBZ0IsbUJBQW1CLGdCQUFnQixxQkFBcUIsd0NBQXdDLDZCQUE2Qix3QkFBd0IsRUFBRSxnQkFBZ0IsdUJBQXVCLG9CQUFvQixXQUFXLFdBQVcsWUFBWSx1Q0FBdUMsNkJBQTZCLHVCQUF1QixHQUFHLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSxnRUFBZ0Usa0JBQWtCLDJDQUEyQyxnRUFBZ0UsNkJBQTZCLGFBQWEsZ0NBQWdDLG1CQUFtQiw2QkFBNkIsNkRBQTZELG1DQUFtQyxzQkFBc0IsR0FBRyxlQUFlLGFBQWEsc0NBQXNDLDRCQUE0QixTQUFTLDhGQUE4RixpQkFBaUIsdUNBQXVDLHNGQUFzRix1Q0FBdUMsU0FBUyxFQUFFLGdCQUFnQixjQUFjLGFBQWEsRUFBRTtBQUNqZ3FCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsY0FBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxZQUFZLGNBQWMsMENBQU0sc0RBQXNEO0FBQzlJO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDLDRDQUE0QywwQ0FBTSxTQUFTLFNBQVMsR0FBRyxTQUFTLHNCQUFzQjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0NBQStDO0FBQ3JGLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx1Q0FBdUM7QUFDN0UsQ0FBQztBQUNELG9DQUFvQyxxQkFBcUI7QUFDekQ7QUFDQTtBQUNBLGNBQWMsR0FBRyxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLFVBQVU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsR0FBRyxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLFVBQVU7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkNBQTJDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxVQUFVLGVBQWUsK0JBQStCO0FBQ3pHO0FBQ0E7QUFDQSx1Q0FBdUMsYUFBYTtBQUNwRCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNDQUFzQyxZQUFZLG1CQUFtQjtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELHVEQUF1RDtBQUNwSDtBQUNBLG1EQUFtRCxzQ0FBc0MsWUFBWSxtQkFBbUI7QUFDeEgsMkdBQTJHLG1CQUFtQjtBQUM5SCxTQUFTO0FBQ1QsdUJBQXVCLFVBQVUsZUFBZSwrQkFBK0IsR0FBRyxtQkFBbUI7QUFDckc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0VBQWtFLDBCQUEwQjtBQUM1RjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsbUVBQW1FLE1BQU07QUFDekUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxVQUFVLGVBQWUsK0JBQStCLFlBQVksZ0JBQWdCO0FBQ2hJO0FBQ0E7QUFDQSxtQ0FBbUMsY0FBYztBQUNqRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9EQUFvRCwwQkFBMEI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFVBQVUsZUFBZSwrQkFBK0IsR0FBRyxZQUFZO0FBQ3pIO0FBQ0E7QUFDQSx1Q0FBdUMsU0FBUztBQUNoRCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLFlBQVksSUFBSSxNQUFNO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQSxnQkFBZ0IsWUFBWTtBQUM1Qiw4Q0FBOEMsVUFBVSxlQUFlLG9CQUFvQixVQUFVLFVBQVU7QUFDL0c7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLHlCQUF5QixjQUFjLDhCQUE4QiwrQkFBK0IsaUNBQWlDO0FBQzNNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkJBQTZCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsaUNBQWlDO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQyxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBLGdCQUFnQixzQkFBc0I7QUFDdEMsZ0JBQWdCLG9CQUFvQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1QkFBdUI7QUFDdkMscURBQXFELCtCQUErQjtBQUNwRjtBQUNBO0FBQ0EsbUNBQW1DLHVDQUF1QztBQUMxRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RkFBOEYsK0JBQStCO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQ0FBTTtBQUMvQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsK0JBQStCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixZQUFZLElBQUksY0FBYyxFQUFFLGtFQUFrRTtBQUNyTDtBQUNBO0FBQ0EsMEhBQTBILFlBQVksSUFBSSxjQUFjO0FBQ3hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxrRUFBa0UsSUFBSSxNQUFNO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLHVCQUF1QjtBQUNwRztBQUNBLDBGQUEwRiwwQkFBMEI7QUFDcEg7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxrRkFBa0Ysd0JBQXdCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxzQ0FBc0MsaUJBQWlCO0FBQ3ZEO0FBQ0Esc0NBQXNDLGlCQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtCQUErQixzQkFBc0IsK0JBQStCLEdBQUcsYUFBYTtBQUNoSjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELCtCQUErQixnQkFBZ0IsK0JBQStCO0FBQ3BJO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnQ0FBZ0M7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUNBQXlDO0FBQzdELGdEQUFnRCwwQ0FBMEMsMENBQTBDO0FBQ3BJO0FBQ0EscUNBQXFDLGdDQUFnQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxpQ0FBaUM7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGFBQWE7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnQkFBZ0IsMEJBQTBCLHNCQUFzQixJQUFJLFFBQVE7QUFDdkc7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDO0FBQ0E7QUFDQSxZQUFZLDBHQUEwRztBQUN0SCx5Q0FBeUMsS0FBSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQ0FBZ0M7QUFDNUQ7QUFDQSxnQ0FBZ0MsSUFBSTtBQUNwQztBQUNBO0FBQ0EsbURBQW1ELGtCQUFrQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsK0NBQStDO0FBQ2xILGdGQUFnRixvQkFBb0I7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQ0FBb0M7QUFDaEY7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLDBDQUEwQyxzQ0FBc0M7QUFDdEs7QUFDQTtBQUNBO0FBQ0EsbUhBQW1ILEVBQUU7QUFDckg7QUFDQSxnRUFBZ0Usb0NBQW9DO0FBQ3BHO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsaUVBQWlFLG1DQUFtQztBQUNwRyw4RUFBOEUsb0JBQW9CO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwwREFBMEQ7QUFDeEg7QUFDQTtBQUNBLGdDQUFnQywwQkFBMEI7QUFDMUQsbUNBQW1DO0FBQ25DLDhEQUE4RCxzQ0FBc0M7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHLEVBQUU7QUFDL0csbUNBQW1DO0FBQ25DO0FBQ0Esb0VBQW9FLG9CQUFvQixLQUFLLGdDQUFnQztBQUM3SDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwQkFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsNkJBQTZCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwyREFBMkQsV0FBVztBQUN0RSxzRkFBc0YsaUJBQWlCO0FBQ3ZHLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbUNBQW1DO0FBQ2pFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxPQUFPO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnREFBZ0QsZ0JBQWdCO0FBQ2hFLG1GQUFtRixnQkFBZ0I7QUFDbkc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSx3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCLDJDQUEyQyxnQ0FBZ0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSEFBc0gsVUFBVTtBQUNoSSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLFVBQVU7QUFDekcsa0NBQWtDLGlCQUFpQjtBQUNuRCx5Q0FBeUMsYUFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsNkJBQTZCO0FBQ3hHLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFtQjtBQUMxQyx3QkFBd0IsSUFBSTtBQUM1Qix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLElBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsSUFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0Z0NoQztBQUNBLE9BQU8sUUFBUSxNQUFNLGdDQUFnQyx3RUFBd0Usd0RBQXdELFlBQVkseUJBQXlCLHlCQUF5QixtQkFBbUIsMkJBQTJCLHFEQUFxRCxtQkFBbUIseUJBQXlCLFFBQVEsSUFBSSxrSkFBa0osc0VBQXNFLCtHQUErRyxTQUFTLDZCQUE2QixrREFBa0QsSUFBSSxnQ0FBZ0MsMEhBQTBILG1CQUFtQiw2SUFBNkksS0FBSyxtQ0FBbUMsY0FBYyxlQUFlLDJFQUEyRSxxQkFBcUIsc0NBQXNDLGtCQUFrQixxQkFBcUIsSUFBSSxpSEFBaUgsa0JBQWtCLGdEQUFnRCxlQUFlLGdJQUFnSSxvQ0FBb0MsYUFBYSxtQkFBbUIsd0JBQXdCLG1CQUFtQixjQUFjLDhFQUE4RSwwQkFBMEIsOENBQThDLGtCQUFrQix1QkFBdUIsZ0hBQWdILFlBQVksZ0JBQWdCLGtCQUFrQiwyQ0FBMkMsdUNBQXVDLGdFQUFnRSxpQkFBaUIsV0FBVyxxQkFBcUIsd0JBQXdCLFNBQVMsTUFBTSw0Q0FBNEMsb0JBQW9CLDBCQUEwQiw2Q0FBNkMsWUFBWSxJQUFJLDJKQUEySixnRUFBZ0UscUhBQXFILG1IQUFtSCwrQkFBK0IsdUNBQXVDLG9CQUFvQixrQkFBa0IsNkJBQTZCLHVDQUF1Qyw0RUFBNEUsNkRBQTZELElBQUksY0FBYyxxSkFBcUosZ0pBQWdKLGNBQWMsb0ZBQW9GLDhFQUE4RSxjQUFjLDRCQUE0QixjQUFjLDBDQUEwQyxZQUFZLElBQUksbUJBQW1CLFNBQVMsa0JBQWtCLG9GQUFvRixzRkFBc0YsTUFBTSw4SUFBOEksY0FBYyxnSEFBZ0gsV0FBVyxnQkFBZ0IsaUNBQWlDLCtEQUErRCwrSUFBK0kseURBQXlELHNCQUFzQixTQUFTLE1BQU0sV0FBVywrQ0FBK0MsMENBQTBDLCtEQUErRCx1QkFBdUIsZ0NBQWdDLHFDQUFxQyw2QkFBNkIsa0JBQWtCLFNBQVMsbURBQW1ELDhEQUE4RCwrQkFBK0IsbUJBQW1CLFdBQVcsNkJBQTZCLDBDQUEwQywrQkFBK0IsNkNBQTZDLGdDQUFnQyx1RUFBdUUseURBQXlELDZCQUE2QixrQkFBa0IsYUFBYSxpQkFBaUIsc0JBQXNCLHlCQUF5QixzSkFBc0osY0FBYyxhQUFhLGFBQWEsZUFBZSxJQUFJLHlGQUF5RiwyTEFBMkwsNERBQTRELHNCQUFzQixnQ0FBZ0MsbUdBQW1HLG1DQUFtQyxtQkFBbUIsZ0JBQWdCLHNDQUFzQyxNQUFNLFNBQVMsUUFBUSxJQUFJLG1DQUFtQyxzQ0FBc0MsMEJBQTBCLDRCQUE0QixLQUFLLEtBQUssU0FBUyxZQUFZLElBQUksMEJBQTBCLEtBQUssTUFBTSxjQUFjLFNBQVMsb0JBQW9CLGVBQWUsbUJBQW1CLDZCQUE2QixpQkFBaUIsTUFBTSx1QkFBdUIsSUFBSSxLQUFLLHFDQUFxQyxpQkFBaUIsU0FBUyxTQUFTLG9CQUFvQixnQ0FBZ0Msb0JBQW9CLHFCQUFxQixXQUFXLFlBQVksV0FBVyxnQ0FBZ0MsU0FBUyxXQUFXLG9CQUFvQixxQkFBcUIsb0JBQW9CLHVCQUF1QixVQUFVLFdBQVcsWUFBWSx3QkFBd0IseURBQXlELFNBQVMsc0JBQXNCLGtCQUFrQiw0RUFBNEUsa0JBQWtCLHVCQUF1QixXQUFXLFFBQVEsS0FBSyxJQUFJLEVBQUUsYUFBYSx1Q0FBdUMsV0FBVyxZQUFZLFVBQVUsb0JBQW9CLE1BQU0sOERBQThELE1BQU0scUhBQXFILE1BQU0sZ0pBQWdKLG1HQUFtRyxtQkFBbUIsaUJBQWlCLG1EQUFtRCxhQUFhLEtBQUssSUFBSSxzREFBc0QsU0FBUyxJQUFJLGdEQUFnRCxJQUFJLDZCQUE2QixlQUFlLFlBQVksNkZBQTZGLFNBQVMsVUFBVSxvU0FBb1MsNkJBQTZCLHdDQUF3Qyw4Q0FBOEMsNkJBQTZCLDRDQUE0Qyx5Q0FBeUMsZ0JBQWdCLHFIQUFxSCx1QkFBdUIscUZBQXFGLFFBQVEsMkJBQTJCLFlBQVksK0JBQStCLFlBQVksd0JBQXdCLGtEQUFrRCx5QkFBeUIseU9BQXlPLGtCQUFrQiwwQkFBMEIsNEJBQTRCLElBQUksb0JBQW9CLGNBQWMsTUFBTSxzQkFBc0IsMEJBQTBCLGdDQUFnQyxpSkFBaUosa0JBQWtCLHdCQUF3Qix3RkFBd0Ysa0NBQWtDLE1BQU0sMEJBQTBCLFdBQVcsbUJBQW1CLHlCQUF5QixRQUFRLFFBQVEsV0FBVyxLQUFLLFdBQVcsdUhBQXVILEtBQUsscUZBQXFGLFlBQVksWUFBWSxTQUFTLHVFQUF1RSxvQkFBb0IsNEVBQTRFLFlBQVksSUFBSSxtQkFBbUIsWUFBWSwrQkFBK0Isb0JBQW9CLDRFQUE0RSxZQUFZLElBQUksbUNBQW1DLFlBQVksK0JBQStCLG9CQUFvQiw0RUFBNEUsWUFBWSxJQUFJLG1FQUFtRSxZQUFZLGlDQUFpQyxvQkFBb0IseUVBQXlFLGdGQUFnRixtRUFBbUUsdUNBQXVDLGdDQUFnQyxTQUFTLDRCQUE0Qiw4Q0FBOEMsRUFBRSwrREFBK0QsaUZBQWlGLHNMQUFzTCwrS0FBK0ssdUJBQXVCLGlCQUFpQixpQkFBaUIscUJBQXFCLDRDQUE0Qyx1REFBdUQsWUFBWSxJQUFJLG9CQUFvQixjQUFjLE1BQU0sc0JBQXNCLHNDQUFzQywrQkFBK0IscUNBQXFDLHdCQUF3Qix5Q0FBeUMsd0JBQXdCLHFDQUFxQyx5Q0FBeUMsNkRBQTZELEtBQUssMkdBQTJHLGtFQUFrRSxzQkFBc0IsaUlBQWlJLGNBQWMsU0FBUyxNQUFNLFdBQVcsK0JBQStCLDRDQUE0QywyREFBMkQsa0NBQWtDLHlFQUF5RSx5REFBeUQsNkJBQTZCLCtCQUErQixPQUFPLG1FQUFtRSxhQUFhLGtCQUFrQixTQUFTLHVCQUF1QixZQUFZLElBQUkscUNBQXFDLFNBQVMsa0JBQWtCLFNBQVMsdUJBQXVCLFlBQVksSUFBSSxpQ0FBaUMsU0FBUyxrQkFBa0IsaUJBQWlCLHVDQUF1QyxTQUFTLFlBQVksSUFBSSxlQUFlLFNBQVMsa0JBQWtCLHFCQUFxQixTQUFTLFlBQVksYUFBYSw2Q0FBNkMsU0FBUyxrQkFBa0IsMERBQTBELHVFQUF1RSx3QkFBd0IscUZBQXFGLHNFQUFzRSwyREFBMkQsc0JBQXNCLGVBQWUsbUNBQW1DLHNEQUFzRCwrQ0FBK0MsK0RBQStELHNCQUFzQixlQUFlLG1DQUFtQyxzREFBc0QsK0NBQStDLCtEQUErRCx3QkFBd0IsMkRBQTJELGtEQUFrRCxzQkFBc0IsMkRBQTJELHNCQUFzQiwyREFBMkQsZ0NBQWdDLG9CQUFvQixrR0FBa0csMkJBQTJCLDhDQUE4QywrREFBK0Qsb0NBQW9DLHNCQUFzQixLQUFLLGdCQUFnQixnQkFBZ0IsU0FBUywrREFBK0Qsb0NBQW9DLHNCQUFzQixLQUFLLGNBQWMsa0JBQWtCLFNBQVMsMkRBQTJELDRDQUE0QyxpRUFBaUUseURBQXlELGlFQUFpRSx5REFBeUQsaUVBQWlFLDRGQUE0RixpRUFBaUUsNEZBQTRGLDRDQUE0QyxtQkFBbUIsNEJBQTRCLDJDQUEyQywwR0FBMEcseUNBQXlDLDhDQUE4QyxtQkFBbUIsNEJBQTRCLDJDQUEyQywwR0FBMEcsd0NBQXdDLHlDQUF5QyxvQ0FBb0Msc0JBQXNCLEtBQUssZ0JBQWdCLGdCQUFnQiwyQ0FBMkMsdUNBQXVDLG9DQUFvQywwQkFBMEIsS0FBSyxjQUFjLGtCQUFrQiwyQ0FBMkMsb0NBQW9DLDJFQUEyRSx1Q0FBdUMsNkJBQTZCLDZCQUE2Qiw4QkFBOEIsdUNBQXVDLDZCQUE2Qiw2QkFBNkIsOEJBQThCLHVDQUF1QyxxRkFBcUYsdUNBQXVDLHFGQUFxRiwyQ0FBMkMsbUJBQW1CLDRCQUE0QiwyQ0FBMkMsd0RBQXdELHNGQUFzRiw2Q0FBNkMsbUJBQW1CLDRCQUE0QiwyQ0FBMkMsd0RBQXdELHNGQUFzRix5Q0FBeUMsMkRBQTJELHVDQUF1QywyREFBMkQsd0NBQXdDLDJEQUEyRCx3Q0FBd0MsMkRBQTJELG1FQUFtRSwwQkFBMEIsa0NBQWtDLFlBQVksa0JBQWtCLGdCQUFnQixtQkFBbUIsV0FBVyxtRUFBbUUsMEJBQTBCLGtDQUFrQyxjQUFjLG9CQUFvQixpQkFBaUIsbUJBQW1CLFdBQVcsK0RBQStELDREQUE0RCxxRUFBcUUsOEVBQThFLHFFQUFxRSw4RUFBOEUscUVBQXFFLHFIQUFxSCxxRUFBcUUscUhBQXFILGlEQUFpRCwwREFBMEQsbURBQW1ELDBEQUEwRCw0Q0FBNEMsbUJBQW1CLDBCQUEwQixxQkFBcUIsZ0JBQWdCLGtCQUFrQixnQkFBZ0IsNkRBQTZELFdBQVcsMENBQTBDLG1CQUFtQiwwQkFBMEIscUJBQXFCLGtCQUFrQixvQkFBb0IsaUJBQWlCLDZEQUE2RCxXQUFXLHVDQUF1QyxnRkFBZ0YsMENBQTBDLG1GQUFtRiwwQ0FBMEMsbUZBQW1GLDBDQUEwQywrSEFBK0gsMENBQTBDLHVKQUF1SixnREFBZ0QsOEVBQThFLGtEQUFrRCw4RUFBOEUsNENBQTRDLHdCQUF3QiwwQ0FBMEMsd0JBQXdCLDJDQUEyQyx3QkFBd0IsMkNBQTJDLHdCQUF3QixvQ0FBb0MscUVBQXFFLHdHQUF3RywwQ0FBMEMseURBQXlELGtFQUFrRSx1REFBdUQsZ0VBQWdFLFlBQVksbUpBQW1KLG9DQUFvQyx1QkFBdUIsc0tBQXNLLG9GQUFvRixpQkFBaUIsd0JBQXdCLDBDQUEwQyxpRUFBaUUsZ0ZBQWdGLG9CQUFvQixNQUFNLDZFQUE2RSxJQUFJLGNBQWMsS0FBSywrQ0FBK0Msa0ZBQWtGLFFBQVEsTUFBTSxxQkFBcUIsYUFBYSxXQUFXLGtCQUFrQiwrQkFBK0IsY0FBYyw4Q0FBOEMsMERBQTBELGVBQWUsV0FBVyxHQUFHLEVBQUUsK0JBQStCLFdBQVcsU0FBUyxZQUFZLG1DQUFtQyxrREFBa0QsRUFBRSxXQUFXLFNBQVMsV0FBVyxHQUFHLEVBQUUsS0FBSyxhQUFhLElBQUksY0FBYyxvQkFBb0IsdUJBQXVCLEtBQUssT0FBTyxXQUFXLGVBQWUsRUFBRSxFQUFFLEVBQUUsU0FBUyxhQUFhLEVBQUUsRUFBRSxFQUFFLHdCQUF3QixhQUFhLGtDQUFrQyxNQUFNLHdDQUF3QyxHQUFHLFNBQVMsR0FBRyxLQUFLLFFBQVEsRUFBRSxFQUFFLFdBQVcsR0FBRyxLQUFLLFVBQVUsRUFBRSxFQUFFLGVBQWUsVUFBVSxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxFQUFFLHNDQUFzQyxpQkFBaUIsa0VBQWtFLFFBQVEsZ0JBQWdCLHFFQUFxRSxrQkFBa0IscUZBQXFGLDRDQUE0QywrQ0FBK0MsT0FBTyxTQUFTLEVBQUUsS0FBSywwQ0FBMEMsWUFBWSxHQUFHLDhFQUE4RSxzREFBc0QsY0FBYyxFQUFFLG1EQUFtRCxTQUFTLEVBQUUsbURBQW1ELHVCQUF1QixFQUFFLHdCQUF3Qix3TEFBd0wsRUFBRSxhQUFhLEVBQUUsSUFBSSxjQUFjLDRCQUE0QixnQkFBZ0IsTUFBTSxTQUFTLGlCQUFpQixXQUFXLFdBQVcsWUFBWSxJQUFJLEtBQUssdUNBQXVDLE9BQU8sWUFBWSwrQkFBK0IsU0FBUyxZQUFZLCtCQUErQixTQUFTLElBQUksU0FBUyxZQUFZLG1DQUFtQyxTQUFTLDhCQUE4Qix1Q0FBdUMsaUJBQWlCLGtCQUFrQixVQUFVLGdCQUFnQixrQkFBa0IsMEJBQTBCLGlCQUFpQixrQkFBa0IsdUNBQXVDLEtBQUssc0RBQXNELGtCQUFrQixxREFBcUQsU0FBUyxjQUFjLGlDQUFpQyxrRUFBa0UsS0FBSyxjQUFjLFFBQVEsU0FBUyxLQUFLLG9CQUFvQixNQUFNLFFBQVEsbUNBQW1DLGdCQUFnQixTQUFTLGdCQUFnQiwyR0FBMkcsY0FBYyxZQUFZLG1CQUFtQiw0Q0FBNEMsWUFBWSxLQUFLLEtBQUssYUFBYSxZQUFZLEtBQUsscUJBQXFCLFNBQVMsR0FBRyxjQUFjLHFDQUFxQyxhQUFhLHlDQUF5QyxTQUFTLHNHQUFzRyw2Q0FBNkMscUZBQXFGLDZFQUE2RSxhQUFhLHNDQUFzQyxnQ0FBZ0MsYUFBYSxhQUFhLGtCQUFrQix5Q0FBeUMsa0NBQWtDLGNBQWMsMkJBQTJCLGFBQWEsNkZBQTZGLFNBQVMsUUFBUSwrQkFBK0IsMENBQTBDLE1BQU0sUUFBUSxFQUFFLEdBQUcseUdBQXlHLFNBQVMsY0FBYyx5SEFBeUgsY0FBYyxzRUFBc0Usb0JBQW9CLFlBQVksc05BQXNOLDhHQUE4RyxZQUFZLDJKQUEySixzSEFBc0gsU0FBUyxhQUFhLHNMQUFzTCxrQkFBa0IsT0FBTyxrREFBa0QsYUFBYSxpQ0FBaUMsa0JBQWtCLGdCQUFnQix1QkFBdUIsV0FBVyw4RUFBOEUsa0NBQWtDLFdBQVcsNkJBQTZCLFNBQVMsa0JBQWtCLGNBQWMsbUJBQW1CLGVBQWUsV0FBVyxpQ0FBaUMsOEJBQThCLFNBQVMsZ0JBQWdCLDJCQUEyQixJQUFJLGNBQWMsU0FBUyxvQkFBb0Isd0RBQXdELEtBQUssNklBQTZJLG9DQUFvQyx3Q0FBd0MsSUFBSSwrQ0FBK0MsNkJBQTZCLFNBQVMsaUJBQWlCLCtKQUErSixLQUFLLG9CQUFvQixnTEFBZ0wseUNBQXlDLDZJQUE2SSxpQ0FBaUMsd0NBQXdDLGVBQWUsOEJBQThCLGlCQUFpQixtQkFBbUIseUJBQXlCLGlDQUFpQyxvQ0FBb0Msb0JBQW9CLE1BQU0sTUFBTSxtREFBbUQsOERBQThELG9CQUFvQixXQUFXLHVCQUF1QixvQ0FBb0MsS0FBSyx3QkFBd0IsUUFBUSxJQUFJLG1CQUFtQixTQUFTLHVDQUF1QyxzQkFBc0Isa0ZBQWtGLHNCQUFzQixnQ0FBZ0Msd0NBQXdDLCtDQUErQyxxREFBcUQsMENBQTBDLGNBQWMsOENBQThDLGlDQUFpQyw2SkFBNkosOEJBQThCLHNCQUFzQixLQUFLLG9DQUFvQyxvQkFBb0IsTUFBTSxtQkFBbUIsOEJBQThCLEtBQUssYUFBYSxnQkFBZ0IsUUFBUSw4RkFBOEYsWUFBWSx1RkFBdUYsVUFBVSx5Q0FBeUMsME1BQTBNLHlCQUF5Qix1QkFBdUIsUUFBUSxXQUFXLDREQUE0RCwyR0FBMkcsdURBQXVELG9DQUFvQyxLQUFLLGdDQUFnQyxZQUFZLG1DQUFtQyxvQkFBb0Isc0NBQXNDLG9CQUFvQiwrQkFBK0Isd0VBQXdFLCtEQUErRCwrQ0FBK0MsYUFBYSwyQkFBMkIscUVBQXFFLG1DQUFtQyxJQUFJLDBCQUEwQiw4QkFBOEIsSUFBSSwwQkFBMEIsZUFBZSxLQUFLLG1DQUFtQyxzQkFBc0IsaUNBQWlDLCtCQUErQiw0SEFBNEgsbVJBQW1SLEtBQUssK0JBQStCLGtCQUFrQixJQUFJLCtCQUErQixpQkFBaUIscUJBQXFCLE1BQU0sc0JBQXNCLHc0QkFBdzRCLHlEQUF5RCw4QkFBOEIsZ1RBQWdULGtEQUFrRCwrQ0FBK0Msc0dBQXNHLGlDQUFpQyxNQUFNLGFBQWEsT0FBTywwekJBQTB6QixFQUFFLG12QkFBbXZCLEVBQUUsc1lBQXNZLHNKQUFzSixVQUFVLDRKQUE0SixRQUFRLHNFQUFzRSx1UkFBdVIsSUFBSSwrQ0FBK0MsNkNBQTZDLFdBQVcsc0hBQXNILG1CQUFtQixpQkFBaUIsd0JBQXdCLDZCQUE2QixrQ0FBa0MsdUNBQXVDLG9CQUFvQixxQkFBcUIsa0NBQWtDLE1BQU0sRUFBRSxXQUFXLGNBQWMsU0FBUyxpQkFBaUIsa0NBQWtDLHdCQUF3QixFQUFFLFNBQVMsaUJBQWlCLDZCQUE2QixzQkFBc0IsRUFBRSxTQUFTLGlCQUFpQixrQ0FBa0MsTUFBTSwwQkFBMEIsU0FBUyxpQkFBaUIsMkNBQTJDLE1BQU0sRUFBRSxXQUFXLHFCQUFxQixTQUFTLGlCQUFpQiwyQ0FBMkMsbUJBQW1CLGtDQUFrQyxNQUFNLHVCQUF1QixTQUFTLGlCQUFpQiw2Q0FBNkMsTUFBTSxrQkFBa0IsU0FBUyxpQkFBaUIsbUNBQW1DLE1BQU0sYUFBYSxTQUFTLHFCQUFxQiw4QkFBOEIscUJBQXFCLE1BQU0saUJBQWlCLFNBQVMscUJBQXFCLHlCQUF5QixxQkFBcUIsSUFBSSxpQkFBaUIsU0FBUyxpQkFBaUIsa0NBQWtDLE1BQU0seUJBQXlCLFNBQVMsb0JBQW9CLG1CQUFtQixNQUFNLDRCQUE0QiwwQkFBMEIsS0FBSyxxQkFBcUIsZ0NBQWdDLFlBQVkseUJBQXlCLFNBQVMsbUJBQW1CLDRCQUE0QixxQkFBcUIsS0FBSyxNQUFNLHNCQUFzQixTQUFTLG1CQUFtQixxQkFBcUIseUJBQXlCLE1BQU0sdUJBQXVCLFNBQVMsZUFBZSxZQUFZLGlCQUFpQix5QkFBeUIscUJBQXFCLGVBQWUsbUJBQW1CLHVCQUF1QixlQUFlLG1CQUFtQix1QkFBdUIsdUJBQXVCLDRCQUE0Qix3QkFBd0IsS0FBSyxpQkFBaUIsMEJBQTBCLE1BQU0sRUFBRSxjQUFjLHVCQUF1QixTQUFTLGlCQUFpQix3QkFBd0IsTUFBTSxXQUFXLFNBQVMsZUFBZSw2Q0FBNkMsZUFBZSxtQkFBbUIsYUFBYSxpQkFBaUIseUJBQXlCLFlBQVksR0FBRyxpQkFBaUIsZ0JBQWdCLGlCQUFpQix3QkFBd0IsdUJBQXVCLEVBQUUsU0FBUyxpQkFBaUIsbUJBQW1CLHFCQUFxQixFQUFFLFNBQVMsV0FBVyw4bkNBQThuQyxTQUFTLFVBQVUsV0FBVyxXQUFXLGFBQWEsWUFBWSxFQUFFLEVBQUUsZUFBZSxpQkFBaUIsZUFBZSxrQkFBa0IsZUFBZSx5QkFBeUIsZ0NBQWdDLGFBQWEsS0FBSyxpQkFBaUIsbUJBQW1CLGdCQUFnQixpQkFBaUIsaUNBQWlDLE1BQU0sRUFBRSxXQUFXLGdDQUFnQyxTQUFTLGVBQWUseUJBQXlCLDhCQUE4QixTQUFTLEtBQUssZUFBZSx5QkFBeUIsOEJBQThCLGFBQWEsS0FBSyxlQUFlLHlCQUF5QixxQkFBcUIsS0FBSyxXQUFXLEtBQUssU0FBUyxVQUFVLGVBQWUseUJBQXlCLHVCQUF1QixnQkFBZ0IsbUJBQW1CLElBQUksZUFBZSxtQkFBbUIsMEJBQTBCLEVBQUUsU0FBUyxXQUFXLE1BQU0sV0FBVyxXQUFXLGFBQWEsWUFBWSxNQUFNLEVBQUUscUJBQXFCLGt2QkFBa3ZCLElBQUksOEJBQThCLFdBQVcsTUFBTSxJQUFJLFdBQVcsZ2NBQWdjLCtHQUErRyxlQUFlLHNDQUFzQyw0QkFBNEIseUNBQXlDLGlCQUFpQixrQkFBa0IsY0FBYyxtQkFBbUIsbUJBQW1CLG1CQUFtQixjQUFjLFlBQVksd0JBQXdCLEdBQUcsZUFBZSxpQkFBaUIsNkZBQTZGLGVBQWUsd0lBQXdJLGVBQWUsOEJBQThCLGlCQUFpQixNQUFNLEVBQUUsV0FBVyxxQkFBcUIsZUFBZSw4QkFBOEIsaUJBQWlCLE1BQU0sRUFBRSxXQUFXLHFCQUFxQixlQUFlLDhCQUE4QixpQkFBaUIsTUFBTSxFQUFFLFdBQVcscUJBQXFCLGVBQWUsOEJBQThCLHlCQUF5QixNQUFNLGdCQUFnQixlQUFlLDhCQUE4QixpQkFBaUIsaUJBQWlCLDJHQUEyRywwSkFBMEosU0FBUyxlQUFlLGVBQWUsd0JBQXdCLGlCQUFpQixrQ0FBa0MsZUFBZSxpQkFBaUIsbUJBQW1CLGtEQUFrRCxtQkFBbUIsV0FBVyxrREFBa0QsaUJBQWlCLG1CQUFtQixJQUFJLDJCQUEyQixTQUFTLHFCQUFxQiw2QkFBNkIsY0FBYyxLQUFLLGlCQUFpQix3QkFBd0IsbUJBQW1CLDJCQUEyQixrREFBa0QsU0FBUyxpQkFBaUIseUNBQXlDLE1BQU0scUJBQXFCLFNBQVMsbUJBQW1CLHlEQUF5RCx5QkFBeUIsd0JBQXdCLDJDQUEyQyxtQkFBbUIsWUFBWSxNQUFNLGlCQUFpQixzQ0FBc0MsZ0ZBQWdGLFNBQVMsc0JBQXNCLEtBQUsseUJBQXlCLHdCQUF3QixzQkFBc0IsWUFBWSxpQ0FBaUMscUJBQXFCLGlCQUFpQix3QkFBd0IscUJBQXFCLHFCQUFxQixZQUFZLEtBQUssd0JBQXdCLGtCQUFrQixvQkFBb0IsVUFBVSxvQkFBb0IsK0JBQStCLDRCQUE0Qiw4QkFBOEIsc0RBQXNELE1BQU0sOEVBQThFLG9CQUFvQiw4QkFBOEIsMEJBQTBCLDZDQUE2QyxpQ0FBaUMsSUFBSSxvQkFBb0IsdUNBQXVDLE1BQU0sU0FBUyxjQUFjLGVBQWUsY0FBYyx3Q0FBd0MsdUJBQXVCLG1DQUFtQyx5QkFBeUIsR0FBRyxpQ0FBaUMsOEJBQThCLHNDQUFzQyxLQUFLLG1CQUFtQixlQUFlLG9CQUFvQixZQUFZLElBQUksRUFBRSx5QkFBeUIsb0NBQW9DLFNBQVMsbUJBQW1CLHdDQUF3QyxzQkFBc0IsYUFBYSxLQUFLLHFCQUFxQiw4Q0FBOEMsZUFBZSx3RUFBd0UsT0FBTyxNQUFNLEVBQUUsNEJBQTRCLDJCQUEyQixZQUFZLElBQUksd0JBQXdCLFVBQVUseUJBQXlCLFNBQVMscUJBQXFCLHdEQUF3RCxNQUFNLHlNQUF5TSw0QkFBNEIsYUFBYSxpQ0FBaUMsMkNBQTJDLDBCQUEwQiw4QkFBOEIsb0JBQW9CLE9BQU8sV0FBVyxpQkFBaUIsMkJBQTJCLDhCQUE4QixvQkFBb0IsZ0NBQWdDLGdDQUFnQyxvQkFBb0IsMERBQTBELCtCQUErQiw2QkFBNkIsaUNBQWlDLDhCQUE4QixvRUFBb0UsOEJBQThCLDhCQUE4QixxQkFBcUIsOEJBQThCLDhCQUE4QixnQ0FBZ0MsOEJBQThCLHNEQUFzRCwrQkFBK0IsMkJBQTJCLDJDQUEyQyxpQ0FBaUMsMkJBQTJCLDBCQUEwQiw4QkFBOEIseUJBQXlCLDhCQUE4Qix5QkFBeUIsZ0NBQWdDLDBCQUEwQixnREFBZ0QsZ0RBQWdELG1DQUFtQyw4QkFBOEIsNEJBQTRCLCtCQUErQixpQ0FBaUMsaUNBQWlDLGtDQUFrQywwQkFBMEIsOEJBQThCLDRCQUE0Qiw4QkFBOEIsNEJBQTRCLGdDQUFnQyxvQkFBb0Isb0JBQW9CLGlCQUFpQixrRUFBa0UsMEJBQTBCLHlDQUF5QywyQkFBMkIsaUJBQWlCLFNBQVMsNkJBQTZCLG9CQUFvQixLQUFLLG1CQUFtQix3QkFBd0IsTUFBTSxFQUFFLGtCQUFrQixvREFBb0QsU0FBUyxpQkFBaUIsU0FBUyw2QkFBNkIsb0JBQW9CLEtBQUssdUJBQXVCLG9CQUFvQix3QkFBd0IsTUFBTSxFQUFFLFdBQVcseURBQXlELFNBQVMsc0JBQXNCLGlCQUFpQixxQkFBcUIsaUJBQWlCLHFCQUFxQixpQkFBaUIseUJBQXlCLGdCQUFnQixHQUFHLGlCQUFpQixpQ0FBaUMsYUFBYSxpQkFBaUIsbUJBQW1CLG1CQUFtQixXQUFXLDBCQUEwQixlQUFlLHNGQUFzRiw0QkFBNEIsSUFBSSxRQUFRLFNBQVMsVUFBVSxpQkFBaUIsNEJBQTRCLFNBQVMsZ0JBQWdCLGtCQUFrQixJQUFJLGlCQUFpQixXQUFXLGlCQUFpQiw2QkFBNkIsaUJBQWlCLDJCQUEyQixtQkFBbUIsaUVBQWlFLElBQUksRUFBRSxXQUFXLDBGQUEwRixPQUFPLGdCQUFnQixPQUFPLGtCQUFrQixFQUFFLHNCQUFzQix5Q0FBeUMsUUFBUSxJQUFJLEVBQUUsV0FBVyx1Q0FBdUMsd0JBQXdCLFNBQVMsbUJBQW1CLCtDQUErQywyQkFBMkIsZUFBZSx1QkFBdUIsdUJBQXVCLGlGQUFpRix1RkFBdUYsYUFBYSxtQkFBbUIsVUFBVSwrRUFBK0UsVUFBVSwwRUFBMEUsc0JBQXNCLG9FQUFvRSxzQ0FBc0MsbURBQW1ELDZCQUE2QixnQkFBZ0IsaUJBQWlCLHlDQUF5QyxlQUFlLGlCQUFpQixnQkFBZ0IsNEJBQTRCLHFCQUFxQiwyQ0FBMkMsU0FBUyxnQkFBZ0IsV0FBVyxnRUFBZ0UsU0FBUyxvQ0FBb0MsbUNBQW1DLGVBQWUsMkNBQTJDLGdEQUFnRCxxQkFBcUIsUUFBUSxLQUFLLElBQUksRUFBRSxXQUFXLHFDQUFxQywwQkFBMEIsMEJBQTBCLFNBQVMsc0JBQXNCLFFBQVEsS0FBSyxNQUFNLEVBQUUsdUJBQXVCLDJDQUEyQyxtQ0FBbUMsS0FBSyxNQUFNLHdCQUF3QixVQUFVLG9DQUFvQyxxSUFBcUksaUNBQWlDLGNBQWMsZ0JBQWdCLHFCQUFxQix3QkFBd0Isb0JBQW9CLFlBQVksSUFBSSxFQUFFLFdBQVcsK0NBQStDLEtBQUssTUFBTSxFQUFFLGdDQUFnQyxZQUFZLDZCQUE2QixLQUFLLGFBQWEsMEJBQTBCLHNDQUFzQyxTQUFTLGVBQWUsOERBQThEO0FBQUEsVUFBSyxDQUFDLGVBQWUsMkZBQTJGLGVBQWUsdUJBQXVCLFNBQVMsNkRBQTZELFNBQVMsZUFBZSw2QkFBNkIsU0FBUyx3Q0FBd0MsU0FBUyxJQUFJLGlCQUFpQiwrREFBK0QsU0FBUyxpQkFBaUIsV0FBVyxpQkFBaUIsZ0NBQWdDLDZCQUE2QixnQkFBZ0IsS0FBSyxlQUFlLFlBQVksNERBQTRELHlCQUF5QixpQkFBaUIsNENBQTRDLGNBQWMsdUNBQXVDLHVCQUF1QiwyQkFBMkIsZ0RBQWdELG1DQUFtQywyQkFBMkIsb0NBQW9DLE1BQU0sd0NBQXdDLGdKQUFnSix5Q0FBeUMsVUFBVSxpQkFBaUIsS0FBSyxrQ0FBa0Msd0JBQXdCLE1BQU0saUJBQWlCLGVBQWUsb0NBQW9DLG1CQUFtQiw2QkFBNkIseUJBQXlCLGlDQUFpQyxHQUFHLFFBQVEsU0FBUyxpQkFBaUIsNEJBQTRCLHdCQUF3QixZQUFZLEdBQUcsT0FBTyw4QkFBOEIsR0FBRyxxQkFBcUIsZUFBZSxjQUFjLElBQUksaUJBQWlCLFNBQVMsa0JBQWtCLHVCQUF1Qix5REFBeUQsS0FBSyxNQUFNLEVBQUUsb0JBQW9CLHlDQUF5Qyx1QkFBdUIsUUFBUSxHQUFHLG1CQUFtQiw2QkFBNkIsTUFBTSxFQUFFLHFCQUFxQix3QkFBd0IsU0FBUyxxQkFBcUIsa0NBQWtDLHdDQUF3QyxNQUFNLCtCQUErQixrQkFBa0Isc0NBQXNDLFNBQVMsaUJBQWlCLDZCQUE2QixJQUFJLEVBQUUsV0FBVyxnQkFBZ0IsUUFBUSw4QkFBOEIsU0FBUyxpQkFBaUIsMEJBQTBCLGlCQUFpQixTQUFTLHlCQUF5QixHQUFHLGdDQUFnQyxTQUFTLFNBQVMsaUJBQWlCLDJCQUEyQixlQUFlLGlCQUFpQixpQkFBaUIsWUFBWSw4QkFBOEIscUJBQXFCLG1CQUFtQiw0Q0FBNEMsZUFBZSxFQUFFLG1CQUFtQixnRUFBZ0UsU0FBUyxXQUFXLGlEQUFpRCxFQUFFLGlCQUFpQixTQUFTLHdCQUF3QixxQkFBcUIsd0JBQXdCLHdCQUF3QixzREFBc0QsRUFBRSxJQUFJLGVBQWUsaUJBQWlCLG1CQUFtQixvQkFBb0IsaUVBQWlFLGVBQWUsTUFBTSxhQUFhLFNBQVMsaUJBQWlCLE1BQU0sNkJBQTZCLG9CQUFvQixPQUFPLG1CQUFtQiw2QkFBNkIsNENBQTRDLEtBQUssSUFBSSxFQUFFLHFCQUFxQix5Q0FBeUMsU0FBUyxvQkFBb0IscUJBQXFCLDZCQUE2QixrQkFBa0IsaURBQWlELElBQUksRUFBRSw4REFBOEQsZ0JBQWdCLDRFQUE0RSxZQUFZLHdCQUF3QixpQkFBaUIsaUNBQWlDLE1BQU0sRUFBRSxzQkFBc0IsaUJBQWlCLFFBQVEsa0JBQWtCLFNBQVMsZUFBZSxzQ0FBc0MsZUFBZSwrQkFBK0IsNEJBQTRCLGlDQUFpQyxXQUFXLCtCQUErQixtQkFBbUIsdUNBQXVDLGVBQWUsZ0JBQWdCLG1CQUFtQixrQkFBa0IsbUJBQW1CLGNBQWMsT0FBTyxNQUFNLEVBQUUsc0JBQXNCLDJCQUEyQixtQkFBbUIsSUFBSSx3QkFBd0IsdUJBQXVCLDRDQUE0QyxTQUFTLGlCQUFpQixzREFBc0QscUJBQXFCLDRCQUE0QixxQkFBcUIsNEJBQTRCLDJCQUEyQixFQUFFLGlEQUFpRCxpQkFBaUIsUUFBUSwwREFBMEQsOENBQThDLEtBQUssbUJBQW1CLGVBQWUsNEJBQTRCLG9CQUFvQixNQUFNLHFCQUFxQixNQUFNLG1DQUFtQyx1QkFBdUIsbUJBQW1CLHdDQUF3QyxNQUFNLEVBQUUsaUJBQWlCLFlBQVksU0FBUyxlQUFlLGtCQUFrQixlQUFlLGdDQUFnQyxpQkFBaUIscUNBQXFDLFVBQVUsbUJBQW1CLGVBQWUsd0NBQXdDLHVCQUF1QiwyQkFBMkIsaUJBQWlCLHNCQUFzQiwrQ0FBK0MsbUJBQW1CLGVBQWUsc0NBQXNDLGtDQUFrQyxpQkFBaUIsOEJBQThCLGtEQUFrRCxpQkFBaUIsVUFBVSx3RUFBd0UsaUVBQWlFLGlFQUFpRSxTQUFTLHFCQUFxQiw2RUFBNkUsTUFBTSxXQUFXLEtBQUssTUFBTSwwQkFBMEIsS0FBSyxJQUFJLGVBQWUsU0FBUyxxQkFBcUIsa0ZBQWtGLE1BQU0sV0FBVyxZQUFZLE1BQU0sYUFBYSxLQUFLLE1BQU0sOEJBQThCLFNBQVMsaUJBQWlCLG9CQUFvQixnQkFBZ0IsTUFBTSxXQUFXLFNBQVMscUJBQXFCLFNBQVMsUUFBUSxFQUFFLHdCQUF3QixNQUFNLEVBQUUsb0NBQW9DLHNDQUFzQyxTQUFTLGlCQUFpQixxQkFBcUIsNkJBQTZCLHlCQUF5QixlQUFlLHlCQUF5QixnREFBZ0QsNkZBQTZGLE1BQU0sRUFBRSxXQUFXLGNBQWMsU0FBUyxHQUFHLGlCQUFpQixxQkFBcUIsb0JBQW9CLHdCQUF3QixvQ0FBb0MsZ0NBQWdDLEVBQUUsVUFBVSxlQUFlLHVCQUF1Qix1Q0FBdUMsSUFBSSxFQUFFLGlCQUFpQiwwQkFBMEIsVUFBVSxlQUFlLG1CQUFtQiwrRUFBK0UsaUJBQWlCLGVBQWUsbUJBQW1CLDBDQUEwQyxlQUFlLGtCQUFrQixnQkFBZ0IsaUJBQWlCLG9CQUFvQiwwQkFBMEIsK0JBQStCLG9DQUFvQyx5Q0FBeUMsOENBQThDLG1EQUFtRCx3REFBd0QscUNBQXFDLGtCQUFrQixlQUFlLHVCQUF1QixZQUFZLFdBQVcsY0FBYyxzQkFBc0Isb0JBQW9CLGVBQWUsMkJBQTJCLGVBQWUsdUJBQXVCLHVDQUF1QyxtQkFBbUIsSUFBSSxFQUFFLFdBQVcsd0NBQXdDLCtDQUErQyxZQUFZLE1BQU0sRUFBRSx3Q0FBd0MsOEdBQThHLGtCQUFrQix1QkFBdUIsbURBQW1ELHFDQUFxQyxNQUFNLHFCQUFxQixVQUFVLEdBQUcsaUNBQWlDLGlEQUFpRCxvQkFBb0Isc0NBQXNDLElBQUksbUJBQW1CLGlDQUFpQyx1QkFBdUIsSUFBSSxlQUFlLFNBQVMsTUFBTSxzREFBc0QsY0FBYyw4Q0FBOEMsMEJBQTBCLG9DQUFvQyx3Q0FBd0MsS0FBSyxJQUFJLEVBQUUsV0FBVyxvQkFBb0IsU0FBUyw4R0FBOEcsaUJBQWlCLHFCQUFxQix5QkFBeUIsNkJBQTZCLGNBQWMsS0FBSyxZQUFZLEdBQUcsaUJBQWlCLHFCQUFxQixNQUFNLHlCQUF5Qix1QkFBdUIsa0JBQWtCLG9GQUFvRixVQUFVLGVBQWUsdUJBQXVCLHdDQUF3QyxXQUFXLHdCQUF3QixpQkFBaUIsR0FBRyxHQUFHLEdBQUcsaUJBQWlCLGlDQUFpQywwQkFBMEIsd0JBQXdCLGlEQUFpRCxlQUFlLHVCQUF1QixtR0FBbUcsNkNBQTZDLElBQUksbUJBQW1CLFNBQVMsZ0NBQWdDLGVBQWUscUJBQXFCLHdFQUF3RSxpQ0FBaUMsVUFBVSxrQ0FBa0MsMkRBQTJELGdEQUFnRCxlQUFlLFlBQVkscUJBQXFCLCtDQUErQyw2QkFBNkIseUVBQXlFLGFBQWEsaURBQWlELGlCQUFpQixJQUFJLGVBQWUsbUJBQW1CLFlBQVksMkNBQTJDLHlCQUF5QixlQUFlLEdBQUcsVUFBVSw2QkFBNkIsVUFBVSw0Q0FBNEMsbUJBQW1CLGdGQUFnRixZQUFZLE1BQU0sd0NBQXdDLG9CQUFvQiw2R0FBNkcsbUJBQW1CLDRCQUE0QixXQUFXLE1BQU0sV0FBVyw2Q0FBNkMsZ0VBQWdFLG1CQUFtQiwwQ0FBMEMsd0JBQXdCLGlCQUFpQiwySUFBMkksWUFBWSxvQkFBb0IsOENBQThDLElBQUksbUJBQW1CLDJDQUEyQyxnSEFBZ0gsOERBQThELGtCQUFrQixvQkFBb0Isa0dBQWtHLE1BQU0sV0FBVyxLQUFLLElBQUksdUJBQXVCLHlCQUF5QixVQUFVLDJCQUEyQixrQkFBa0Isb0JBQW9CLDBFQUEwRSxRQUFRLDhCQUE4QixxQkFBcUIsNkNBQTZDLHlCQUF5QiwrREFBK0QsZUFBZSxpQkFBaUIseUJBQXlCLGdDQUFnQyw0QkFBNEIsMEJBQTBCLDBCQUEwQiw2QkFBNkIsMEJBQTBCLE1BQU0sRUFBRSxrQkFBa0IsMkNBQTJDLFVBQVUsY0FBYyxLQUFLLE1BQU0sTUFBTSx3QkFBd0Isb0RBQW9ELElBQUksS0FBSyxPQUFPLDhCQUE4QixLQUFLLE9BQU8saUNBQWlDLGVBQWUsMkJBQTJCLGVBQWUsbUJBQW1CLGVBQWUsbUJBQW1CLHNCQUFzQixpQkFBaUIsSUFBSSxlQUFlLHVEQUF1RCxJQUFJLEVBQUUsb0JBQW9CLCtCQUErQixTQUFTLGVBQWUsbURBQW1ELGNBQWMsc0JBQXNCLHFFQUFxRSxpQkFBaUIscUJBQXFCLCtJQUErSSxlQUFlLDJCQUEyQixJQUFJLEVBQUUsa0JBQWtCLGlCQUFpQixTQUFTLGlCQUFpQixvQkFBb0Isc0JBQXNCLE1BQU0saUJBQWlCLHNCQUFzQixpREFBaUQsb0JBQW9CLElBQUksc0JBQXNCLGFBQWEsRUFBRSxxQkFBcUIsU0FBUyxVQUFVLG1CQUFtQix1Q0FBdUMsTUFBTSxFQUFFLGVBQWUsOEJBQThCLE9BQU8sNEVBQTRFLGVBQWUsZ0RBQWdELFdBQVcsZUFBZSxzQ0FBc0MsaUJBQWlCLGVBQWUsbUZBQW1GLG1CQUFtQixtQkFBbUIsZUFBZSw0RUFBNEUsaUJBQWlCLGtCQUFrQixlQUFlLGlIQUFpSCxlQUFlLG9CQUFvQix1REFBdUQsa0JBQWtCLFlBQVksb0JBQW9CLDJJQUEySSxnREFBZ0QsZUFBZSxpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLFNBQVMsRUFBRSxnQkFBZ0IsZUFBZSx1QkFBdUIsbURBQW1ELGVBQWUsb0JBQW9CLGlCQUFpQixtQkFBbUIsaURBQWlELG1CQUFtQiw2Q0FBNkMsbURBQW1ELE1BQU0sYUFBYSxLQUFLLGlCQUFpQixNQUFNLFdBQVcsK0JBQStCLGlCQUFpQixxQ0FBcUMsaUJBQWlCLDRFQUE0RSxtQ0FBbUMsMEJBQTBCLFdBQVcsbUJBQW1CLFdBQVcsMEJBQTBCLGVBQWUsZUFBZSxVQUFVLHFFQUFxRSxpQ0FBaUMsaUJBQWlCLHlCQUF5QixnQkFBZ0IsNEJBQTRCLFlBQVksYUFBYSxrQkFBa0IsMkJBQTJCLFNBQVMsZUFBZSxZQUFZLGtCQUFrQixzQkFBc0IsWUFBWSxnQ0FBZ0MsU0FBUyw2QkFBNkIsaUJBQWlCLDBCQUEwQixnQkFBZ0IsTUFBTSxFQUFFLHFCQUFxQixpQkFBaUIsb0JBQW9CLG1CQUFtQix3QkFBd0IsaUNBQWlDLGFBQWEsU0FBUyxjQUFjLFNBQVMsd0VBQXdFLGtDQUFrQyxLQUFLLEdBQUcsZUFBZSxzQ0FBc0MsV0FBVywrQkFBK0IsZUFBZSxZQUFZLElBQUksa0JBQWtCLFVBQVUsSUFBSSxZQUFZLFdBQVcsU0FBUyxlQUFlLG9DQUFvQyx3Q0FBd0MsMkZBQTJGLHlCQUF5QixvQ0FBb0Msd0JBQXdCLFlBQVkseURBQXlELHdCQUF3QixZQUFZLHFEQUFxRCxHQUFHLG1CQUFtQix5QkFBeUIsZUFBZSxzQkFBc0IsMENBQTBDLG1CQUFtQix5QkFBeUIsZUFBZSxVQUFVLHFFQUFxRSxlQUFlLHNDQUFzQyxlQUFlLDBCQUEwQix1QkFBdUIsZUFBZSxzQ0FBc0Msc0JBQXNCLHVCQUF1QixvRUFBb0Usc0JBQXNCLHVCQUF1QiwrRUFBK0UsR0FBRyxlQUFlLHlCQUF5QixrQkFBa0IsY0FBYyxpQkFBaUIsMENBQTBDLHlCQUF5QixtQ0FBbUMsOEJBQThCLG9CQUFvQixlQUFlLEdBQUcsZUFBZSw0QkFBNEIsdUJBQXVCLHlCQUF5QixzQkFBc0IsWUFBWSw4Q0FBOEMsc0JBQXNCLFlBQVksd0RBQXdELEdBQUcsZUFBZSwwQkFBMEIsUUFBUSwyQkFBMkIsb0NBQW9DLHFCQUFxQixtQkFBbUIsR0FBRyxpQkFBaUIsMEJBQTBCLFlBQVksbUNBQW1DLGlCQUFpQixHQUFHLHlCQUF5Qix3QkFBd0Isc0JBQXNCLG9CQUFvQixzQkFBc0IsWUFBWSx5Q0FBeUMsc0JBQXNCLFlBQVksbURBQW1ELGFBQWEsdUJBQXVCLDhCQUE4QixvREFBb0QsR0FBRyxlQUFlLFlBQVksd0JBQXdCLGlCQUFpQixZQUFZLHVCQUF1QiwyREFBMkQsZ0JBQWdCLDJHQUEyRywyQkFBMkIsNkNBQTZDLGlDQUFpQyxpQkFBaUIsR0FBRywyQkFBMkIsOEJBQThCLEdBQUcsd0JBQXdCLGlCQUFpQiwrQkFBK0IsaUJBQWlCLCtCQUErQiwyQkFBMkIsc0NBQXNDLEdBQUcsMkJBQTJCLHVEQUF1RCx5QkFBeUIsNkJBQTZCLEtBQUssMEJBQTBCLFVBQVUsR0FBRyxpQkFBaUIsK0JBQStCLDJCQUEyQixpQkFBaUIsY0FBYyxjQUFjLEdBQUcseUJBQXlCLG9CQUFvQixlQUFlLHNGQUFzRixxQkFBcUIsc0JBQXNCLG1CQUFtQix5REFBeUQsaUJBQWlCLE1BQU0sd0NBQXdDLDBCQUEwQix3REFBd0QsMkJBQTJCLFFBQVEsYUFBYSxtQkFBbUIsS0FBSyxxQkFBcUIsMEJBQTBCLFFBQVEsYUFBYSxtQkFBbUIsS0FBSyxxQkFBcUIsR0FBRyxtQkFBbUIsbUNBQW1DLHdDQUF3QyxjQUFjLFlBQVksZ0NBQWdDLGNBQWMsVUFBVSxtQ0FBbUMsYUFBYSxXQUFXLG9CQUFvQixtQkFBbUIsY0FBYyx5QkFBeUIsS0FBSyxjQUFjLCtCQUErQixhQUFhLGtCQUFrQiw2QkFBNkIsNEJBQTRCLDhCQUE4QixJQUFJLGlDQUFpQyw0QkFBNEIsMElBQTBJLDJCQUEyQixvQkFBb0IsdUJBQXVCLEdBQUcseUJBQXlCLGlCQUFpQiwwQkFBMEIsd0JBQXdCLEdBQUcsaUJBQWlCLHVFQUF1RSxpQkFBaUIsbURBQW1ELDRCQUE0QixzQkFBc0IsZ0NBQWdDLG1DQUFtQyxlQUFlLHdDQUF3QyxrQkFBa0IsZ0JBQWdCLGlCQUFpQiwyQkFBMkIsZ0NBQWdDLHFDQUFxQywwQ0FBMEMsd0JBQXdCLFlBQVkseUJBQXlCLDhFQUE4RSx1QkFBdUIsOEJBQThCLE1BQU0sMkJBQTJCLG9CQUFvQixHQUFHLHdCQUF3QixtQkFBbUIscUJBQXFCLHdCQUF3QixtQkFBbUIscUJBQXFCLHdCQUF3Qix1QkFBdUIsR0FBRyxpQkFBaUIseUJBQXlCLG1DQUFtQyxZQUFZLG9CQUFvQixpQkFBaUIsbUJBQW1CLHdEQUF3RCx1Q0FBdUMsd0JBQXdCLGVBQWUscUNBQXFDLGVBQWUsb0JBQW9CLHVDQUF1Qyx3QkFBd0IsZUFBZSxtQkFBbUIsWUFBWSxxR0FBcUcsZUFBZSxtQkFBbUIsWUFBWSxvRUFBb0UsZUFBZSxtQ0FBbUMsZUFBZSw2Q0FBNkMsZUFBZSxlQUFlLDZDQUE2QyxlQUFlLG1DQUFtQyw2QkFBNkIsd0JBQXdCLGVBQWUsMENBQTBDLGVBQWUsNkJBQTZCLFlBQVkscUJBQXFCLDhDQUE4QywyREFBMkQsNkJBQTZCLHdCQUF3Qiw2QkFBNkIsd0JBQXdCLGVBQWUsa0RBQWtELGVBQWUsMENBQTBDLDZCQUE2Qix5Q0FBeUMsbUNBQW1DLFlBQVksR0FBRyxlQUFlLGVBQWUsa0NBQWtDLGdDQUFnQyxlQUFlLG1CQUFtQixpQkFBaUIsU0FBUyxVQUFVLFlBQVksOEJBQThCLGVBQWUscUZBQXFGLGVBQWUsa0JBQWtCLHNCQUFzQixlQUFlLHlCQUF5QixlQUFlLCtCQUErQixrQkFBa0IsVUFBVSxpREFBaUQsZUFBZSx3Q0FBd0MsUUFBUSxpQkFBaUIsMERBQTBELGVBQWUsbUJBQW1CLGVBQWUsd0JBQXdCLHlCQUF5Qiw4QkFBOEIsK0NBQStDLHdCQUF3QixjQUFjLDRCQUE0QixnQkFBZ0IsNEJBQTRCLGdCQUFnQixhQUFhLHlCQUF5QixRQUFRLGlDQUFpQyw4QkFBOEIsTUFBTSx3Q0FBd0MsTUFBTSxFQUFFLGtCQUFrQixpREFBaUQsU0FBUyxzQkFBc0IsK0JBQStCLEdBQUcsbUJBQW1CLHdCQUF3QixpQkFBaUIsaUJBQWlCLDJCQUEyQiwyQkFBMkIsOERBQThELGlDQUFpQywwRkFBMEYsZ0JBQWdCLGVBQWUseUJBQXlCLGVBQWUsNEJBQTRCLDJCQUEyQixVQUFVLDRCQUE0QixZQUFZLHdCQUF3QixTQUFTLG9CQUFvQixTQUFTLG9CQUFvQixxQ0FBcUMsbUNBQW1DLG1CQUFtQixJQUFJLFlBQVksU0FBUyxHQUFHLHlCQUF5QixpQkFBaUIsZUFBZSw2QkFBNkIsZUFBZSxHQUFHLE1BQU0sR0FBRyxpQkFBaUIsb0JBQW9CLDRCQUE0QixVQUFVLEdBQUcscUNBQXFDLGlCQUFpQixHQUFHLHdCQUF3QixlQUFlLDhCQUE4QiwyQkFBMkIsdUNBQXVDLEdBQUcsZUFBZSwrQkFBK0IsZUFBZSxpREFBaUQsMkJBQTJCLG9DQUFvQywwQkFBMEIsb0NBQW9DLHdCQUF3QiwyQkFBMkIsb0NBQW9DLEdBQUcsMkJBQTJCLDBCQUEwQixHQUFHLDJCQUEyQixvQ0FBb0Msd0JBQXdCLG1CQUFtQix5Q0FBeUMsa0JBQWtCLGdCQUFnQix1QkFBdUIsZ0JBQWdCLHVCQUF1QixtQkFBbUIseUJBQXlCLElBQUksaUJBQWlCLFNBQVMsMEJBQTBCLHdCQUF3Qix5QkFBeUIsMkJBQTJCLEtBQUssR0FBRyxlQUFlLGtCQUFrQixVQUFVLHNCQUFzQixlQUFlLFNBQVMsZUFBZSwwQ0FBMEMseUJBQXlCLG1CQUFtQixrQkFBa0Isd0JBQXdCLG1CQUFtQixrQkFBa0IsR0FBRyxtQkFBbUIsc0JBQXNCLHNFQUFzRSw4Q0FBOEMseUJBQXlCLFdBQVcscUNBQXFDLHFCQUFxQixTQUFTLDBCQUEwQixpREFBaUQsZ0NBQWdDLGtCQUFrQiwrQ0FBK0MsRUFBRSxLQUFLLGVBQWUsa0NBQWtDLGVBQWUsbUNBQW1DLG1CQUFtQixnQkFBZ0IsSUFBSSxzQkFBc0IsY0FBYyxTQUFTLGNBQWMsU0FBUyx5QkFBeUIsV0FBVyx3Q0FBd0MsV0FBVyxvQkFBb0IsNEJBQTRCLFdBQVcseUNBQXlDLFdBQVcsS0FBSyw4QkFBOEIsd0NBQXdDLDBCQUEwQix5Q0FBeUMsZ0tBQWdLLDhCQUE4QixtQkFBbUIsbUJBQW1CLHNDQUFzQyxvQ0FBb0MseUJBQXlCLG9CQUFvQiw2QkFBNkIsSUFBSSxxQkFBcUIsU0FBUyx3QkFBd0IsMkNBQTJDLE1BQU0sRUFBRSxXQUFXLGNBQWMsU0FBUyxzQkFBc0IsdUJBQXVCLGVBQWUsb0NBQW9DLElBQUkscUJBQXFCLG1DQUFtQyxxQkFBcUIsZ0NBQWdDLDZCQUE2QiwyQ0FBMkMscUJBQXFCLHNCQUFzQixhQUFhLE1BQU0sRUFBRSxXQUFXLDJDQUEyQyxHQUFHLHlCQUF5QixtQkFBbUIsWUFBWSxtQkFBbUIsa0JBQWtCLFVBQVUsc0RBQXNELFlBQVkseUJBQXlCLDRCQUE0QixnQ0FBZ0MscUNBQXFDLGlDQUFpQyxnQ0FBZ0MscUNBQXFDLDJKQUEySix5QkFBeUIsK0NBQStDLDhCQUE4Qix5QkFBeUIscURBQXFELGlDQUFpQywwQ0FBMEMsNEJBQTRCLHVDQUF1QywyQkFBMkIseUJBQXlCLHdFQUF3RSxlQUFlLCtFQUErRSxJQUFJLFVBQVUsU0FBUyxjQUFjLHlCQUF5QiwrQkFBK0IsMEJBQTBCLHFCQUFxQiw4QkFBOEIscUJBQXFCLGlDQUFpQyxxQ0FBcUMsMENBQTBDLHNDQUFzQywrQkFBK0Isb0RBQW9ELHFCQUFxQixpQkFBaUIscURBQXFELHVDQUF1QyxNQUFNLEVBQUUsV0FBVyxhQUFhLFNBQVMsMEJBQTBCLDhCQUE4Qiw0QkFBNEIsOEJBQThCLHNDQUFzQyx5Q0FBeUMsa01BQWtNLFNBQVMsdUNBQXVDLGlCQUFpQixLQUFLLDRCQUE0QixTQUFTLHVDQUF1QyxpQkFBaUIsS0FBSyx3QkFBd0IsbUJBQW1CLGtDQUFrQyxxQkFBcUIsc0hBQXNILCtCQUErQixlQUFlLEdBQUcsb0NBQW9DLHVCQUF1QixxQkFBcUIsZUFBZSw4QkFBOEIsd0ZBQXdGLDRLQUE0SyxtQkFBbUIsMEJBQTBCLHVEQUF1RCxrREFBa0QsZ0NBQWdDLDhDQUE4QywrRUFBK0UsbUNBQW1DLHlCQUF5QixTQUFTLDBCQUEwQix5QkFBeUIsY0FBYyxNQUFNLEVBQUUsV0FBVyxnQ0FBZ0MsaUJBQWlCLHVCQUF1Qix3Q0FBd0MsNkJBQTZCLDZDQUE2Qyx3REFBd0Qsd0JBQXdCLDJCQUEyQiw4QkFBOEIsd0RBQXdELHdCQUF3Qix1QkFBdUIsMEJBQTBCLHlCQUF5Qix1R0FBdUcsd0NBQXdDLDRCQUE0QiwrQkFBK0Isb0NBQW9DLDBCQUEwQixxS0FBcUsseUJBQXlCLHdDQUF3QywrQ0FBK0MsdUJBQXVCLCtCQUErQixHQUFHLHFCQUFxQix5QkFBeUIsc0JBQXNCLHlCQUF5Qix5REFBeUQsOEJBQThCLHlCQUF5QixxREFBcUQsaUNBQWlDLDBDQUEwQyw0QkFBNEIsb0NBQW9DLHNCQUFzQixjQUFjLDZCQUE2QixjQUFjLHdDQUF3QyxzRkFBc0YsK0JBQStCLEVBQUUsOEVBQThFLDhDQUE4QyxrREFBa0QsOEJBQThCLHNCQUFzQix1QkFBdUIseUNBQXlDLG1DQUFtQyxrQkFBa0IsS0FBSyxzQkFBc0IsZUFBZSwrREFBK0QsNEJBQTRCLHlCQUF5QixvQ0FBb0MsMkJBQTJCLDJEQUEyRCx3QkFBd0Isd0JBQXdCLHVEQUF1RCwrQkFBK0IsaUNBQWlDLDREQUE0RCxzQ0FBc0MsOEJBQThCLGlEQUFpRCxtQkFBbUIsMEVBQTBFLDBCQUEwQixnQ0FBZ0MsMEJBQTBCLGtMQUFrTCw4RkFBOEYsc0JBQXNCLGVBQWUsMEJBQTBCLGVBQWUsZ0NBQWdDLDBDQUEwQyw0QkFBNEIsMENBQTBDLDZCQUE2Qiw4QkFBOEIseUNBQXlDLHlCQUF5QiwwQ0FBMEMsZ0JBQWdCLHlDQUF5Qyx3Q0FBd0MsZ0NBQWdDLDZDQUE2Qyw2QkFBNkIsbURBQW1ELDBCQUEwQixrQkFBa0Isd0NBQXdDLHFEQUFxRCx3QkFBd0IsaUVBQWlFLHdCQUF3QixxRUFBcUUsa0NBQWtDLDZCQUE2QixrQ0FBa0MseUJBQXlCLHdCQUF3Qiw4QkFBOEIsd0JBQXdCLG1EQUFtRCwyQkFBMkIscUVBQXFFLGdDQUFnQyxlQUFlLDBFQUEwRSw0QkFBNEIseUJBQXlCLGVBQWUsc0JBQXNCLG9DQUFvQyw0QkFBNEIsdURBQXVELDZCQUE2QixjQUFjLHFJQUFxSSxzQ0FBc0Msc0RBQXNELHFDQUFxQyx3QkFBd0Isb0JBQW9CLHdHQUF3RyxZQUFZLDRCQUE0Qiw2QkFBNkIsd0NBQXdDLFNBQVMsMEJBQTBCLGVBQWUsZ0NBQWdDLDRDQUE0Qyw2QkFBNkIsdUNBQXVDLGdDQUFnQyxzRkFBc0YsNEJBQTRCLGdDQUFnQyxrREFBa0Qsc0JBQXNCLG9CQUFvQix5QkFBeUIseUZBQXlGLGFBQWEsc0JBQXNCLGVBQWUsdUJBQXVCLGdCQUFnQixrSEFBa0gseUNBQXlDLHlGQUF5RixhQUFhLDBCQUEwQix1QkFBdUIsMEJBQTBCLHdDQUF3Qyx1QkFBdUIsK0JBQStCLDJEQUEyRCx5QkFBeUIsZUFBZSxRQUFRLHVFQUF1RSxjQUFjLElBQUksc0JBQXNCLFNBQVMsc0JBQXNCLHdFQUF3RSxpQ0FBaUMsd0JBQXdCLHNDQUFzQyxxQkFBcUIsZ0JBQWdCLHlCQUF5QixxQkFBcUIsb0JBQW9CLGlDQUFpQyx3QkFBd0Isc0NBQXNDLDBEQUEwRCxTQUFTLDBCQUEwQixTQUFTLHdCQUF3QixTQUFTLHFDQUFxQyxpQ0FBaUMsMEJBQTBCLG1DQUFtQyw2Q0FBNkMsUUFBUSx3QkFBd0IscUJBQXFCLGNBQWMsaUNBQWlDLDJCQUEyQixRQUFRLHdCQUF3Qiw0QkFBNEIsNkJBQTZCLFFBQVEsd0JBQXdCLDRCQUE0Qiw2QkFBNkIsOERBQThELDJCQUEyQixrTEFBa0wsUUFBUSxRQUFRLGdCQUFnQixXQUFXLG1EQUFtRCxlQUFlLDJCQUEyQix1Q0FBdUMsMkJBQTJCLGdDQUFnQyx1Q0FBdUMsMkJBQTJCLDJCQUEyQixpREFBaUQsdUJBQXVCLDJCQUEyQix5Q0FBeUMsMkJBQTJCLDhCQUE4QixpQkFBaUIsTUFBTSxFQUFFLDRCQUE0QixxQ0FBcUMsU0FBUyxxREFBcUQsdUJBQXVCLHFCQUFxQixvQkFBb0IscUNBQXFDLFlBQVksc0NBQXNDLHlDQUF5QyxrQkFBa0Isd0NBQXdDLDhCQUE4QixlQUFlLGtDQUFrQyx1QkFBdUIsZ0NBQWdDLHlCQUF5QixNQUFNLGNBQWMsNEJBQTRCLFNBQVMsa0NBQWtDLGtCQUFrQixzQ0FBc0MsMEJBQTBCLG9DQUFvQyx1QkFBdUIsbUJBQW1CLHVCQUF1QixTQUFTLCtDQUErQyxpRkFBaUYsbUNBQW1DLDhCQUE4Qix3QkFBd0IsbUNBQW1DLDZCQUE2QiwwQkFBMEIsbUNBQW1DLFNBQVMsZUFBZSxpVEFBaVQsbUNBQW1DLGtHQUFrRyxRQUFRLHFGQUFxRixTQUFTLElBQUksd0NBQXdDLE1BQU0saUZBQWlGLG9CQUFvQixVQUFVLElBQUksc0RBQXNELGdDQUFnQywyQkFBMkIsRUFBRSxvRkFBb0YscUJBQXFCLGdDQUFnQyxNQUFNLHFCQUFxQixFQUFFLHFCQUFxQixzQ0FBc0MsR0FBRyw0QkFBNEIsU0FBUyx3QkFBd0IsNkJBQTZCLGtCQUFrQixhQUFhLGtCQUFrQixNQUFNLE1BQU0sU0FBUyxzRUFBc0UsMkJBQTJCLDZDQUE2QyxpREFBaUQsdUNBQXVDLDJCQUEyQix5QkFBeUIsc0NBQXNDLDJCQUEyQixvQkFBb0Isd0NBQXdDLDRCQUE0QixtREFBbUQsMkJBQTJCLFlBQVksc0NBQXNDLDhCQUE4QixpREFBaUQsMkJBQTJCLFlBQVksa0NBQWtDLDJCQUEyQixpQkFBaUIsVUFBVSxvQ0FBb0MsZ0VBQWdFLHVCQUF1QixVQUFVLFlBQVksV0FBVyxpQkFBaUIsY0FBYyxnQkFBZ0Isd0NBQXdDLG9CQUFvQiw2QkFBNkIseUJBQXlCLFVBQVUsZ0VBQWdFLFlBQVksZUFBZSx3QkFBd0IsK0JBQStCLHVCQUF1Qix1QkFBdUIsV0FBVyx5QkFBeUIsNkNBQTZDLHlCQUF5QixXQUFXLGVBQWUscUZBQXFGLHNCQUFzQixtQ0FBbUMsUUFBUSxTQUFTLHdHQUF3RyxxQkFBcUIscUNBQXFDLDRCQUE0QixzQkFBc0Isc0RBQXNELDhFQUE4RSw2Q0FBNkMsSUFBSSxxQ0FBcUMsdUNBQXVDLGtEQUFrRCx1QkFBdUIsNEJBQTRCLG1CQUFtQiw2QkFBNkIsd0JBQXdCLHNDQUFzQyxxQ0FBcUMsNEJBQTRCLDJCQUEyQiw4QkFBOEIsd0NBQXdDLDRCQUE0QiwyQkFBMkIsa0RBQWtELG1DQUFtQyx1QkFBdUIsK0JBQStCLDZCQUE2QixtQ0FBbUMsOEJBQThCLDBDQUEwQyw4REFBOEQsaUJBQWlCLEdBQUcsbUNBQW1DLDhCQUE4QixrQ0FBa0MsUUFBUSxXQUFXLDBJQUEwSSx5Q0FBeUMsNkNBQTZDLGlDQUFpQyxvQkFBb0IsZ0NBQWdDLDRJQUE0SSwrQkFBK0IsMkZBQTJGLDRCQUE0QixvQkFBb0Isa0RBQWtELGlFQUFpRSxVQUFVLG1CQUFtQixtQkFBbUIsMkJBQTJCLDJCQUEyQixjQUFjLDBFQUEwRSxFQUFFLG9FQUFvRSx5RkFBeUYsMkJBQTJCLGdCQUFnQix1QkFBdUIsbUJBQW1CLDZCQUE2Qiw0QkFBNEIsNkJBQTZCLElBQUksa0NBQWtDLFlBQVksTUFBTSxnQkFBZ0Isc0NBQXNDLGNBQWMsR0FBRyxzQkFBc0Isc0JBQXNCLGdDQUFnQywrQkFBK0IsNk1BQTZNLGlDQUFpQyxzQkFBc0IsbUJBQW1CLCtCQUErQixpQ0FBaUMsU0FBUywrQkFBK0IsNkZBQTZGLG9CQUFvQixLQUFLLE1BQU0sRUFBRSxvQkFBb0IsZUFBZSxnQkFBZ0IsTUFBTSxxQkFBcUIsTUFBTSx1QkFBdUIsTUFBTSw2QkFBNkIsT0FBTyxlQUFlLHNIQUFzSCxvREFBb0QsU0FBUyxPQUFPLFNBQVMsRUFBRSx1QkFBdUIsTUFBTSxFQUFFLHdDQUF3QyxZQUFZLFlBQVksbUJBQW1CLFNBQVMsU0FBUyxTQUFTLGtEQUFrRCxnQkFBZ0IsZ0NBQWdDLDJDQUEyQyw4QkFBOEIsd0RBQXdELDZDQUE2QyxPQUFPLG9EQUFvRCxnQ0FBZ0MsaUJBQWlCLGdCQUFnQixFQUFFLFlBQVksbURBQW1ELFFBQVEsZ0JBQWdCLHlCQUF5QixpQ0FBaUMsdUJBQXVCLG9CQUFvQixRQUFRLG1GQUFtRiw0QkFBNEIsMkJBQTJCLHFCQUFxQix3RUFBd0UsNkNBQTZDLHVFQUF1RSxZQUFZLEtBQUssR0FBRyxzQkFBc0IsVUFBVSxtQ0FBbUMsWUFBWSxlQUFlLFFBQVEsdUJBQXVCLDZCQUE2QiwwR0FBMEcsd0NBQXdDLHlDQUF5QyxnQ0FBZ0MsaUNBQWlDLGlDQUFpQyxpSUFBaUksd0NBQXdDLDREQUE0RCxrQ0FBa0MsMEtBQTBLLGtDQUFrQyxvS0FBb0sscUJBQXFCLGlJQUFpSSxvQ0FBb0MsMERBQTBELHVDQUF1QyxnREFBZ0QsZ0NBQWdDLFNBQVMsc0JBQXNCLGlEQUFpRCxzREFBc0QsdUVBQXVFLDhCQUE4Qiw0RkFBNEYsMkVBQTJFLFNBQVMsZUFBZSxnRkFBZ0Ysb0JBQW9CLHNCQUFzQixzQkFBc0IsMklBQTJJLCtCQUErQiwrRkFBK0YsK0lBQStJLDJGQUEyRixXQUFXLDZDQUE2QyxTQUFTLGVBQWUsaUJBQWlCLGNBQWMsdUNBQXVDLHFDQUFxQyx1RUFBdUUsd0NBQXdDLHVLQUF1SyxvRUFBb0UsZUFBZSxhQUFhLElBQUksd0JBQXdCLFNBQVMsd0JBQXdCLHdFQUF3RSxjQUFjLGdCQUFnQixLQUFLLHdDQUF3QywrQkFBK0IsTUFBTSxJQUFJLGdFQUFnRSxTQUFTLHdCQUF3QiwrQkFBK0IsWUFBWSxHQUFHLEtBQUssK0JBQStCLFlBQVksR0FBRyxzQ0FBc0MsK0NBQStDLHFDQUFxQyxFQUFFLG9DQUFvQyxNQUFNLElBQUkseUZBQXlGLFNBQVMsOEJBQThCLGNBQWMsR0FBRyxHQUFHLEdBQUcsb0JBQW9CLFNBQVMsZUFBZSxpQkFBaUIsY0FBYyx5Q0FBeUMseUVBQXlFLGtCQUFrQixJQUFJLCtEQUErRCxTQUFTLHdCQUF3Qix5RkFBeUYsZUFBZSxhQUFhLElBQUksMEJBQTBCLFNBQVMsd0JBQXdCLHdFQUF3RSxjQUFjLGdCQUFnQixLQUFLLHdDQUF3QywrQkFBK0IsTUFBTSxJQUFJLGtFQUFrRSxTQUFTLHdCQUF3QiwrQkFBK0IsWUFBWSxHQUFHLEtBQUssK0JBQStCLFlBQVksR0FBRyx3Q0FBd0MsaURBQWlELHFDQUFxQyxFQUFFLG9DQUFvQyxNQUFNLElBQUksMkZBQTJGLFNBQVMsOEJBQThCLGNBQWMsR0FBRyxHQUFHLEdBQUcsc0JBQXNCLFNBQVMsZUFBZSxNQUFNLGFBQWEsZ0NBQWdDLDBEQUEwRCxPQUFPLG9IQUFvSCxlQUFlLGFBQWEsK0hBQStILDhFQUE4RSx5RUFBeUUsbUNBQW1DLE9BQU8sc0hBQXNILGVBQWUsYUFBYSwrSEFBK0gsOEVBQThFLHVDQUF1QywwSEFBMEgsYUFBYSx1QkFBdUIsYUFBYSxJQUFJLHFCQUFxQixnQ0FBZ0MsRUFBRSxTQUFTLDhCQUE4Qix5REFBeUQsS0FBSyxJQUFJLHdFQUF3RSxzSUFBc0ksOEJBQThCLGVBQWUsSUFBSSx1QkFBdUIsOERBQThELEVBQUUsU0FBUyw4QkFBOEIseURBQXlELEtBQUssSUFBSSwwRUFBMEUsdUlBQXVJLDhDQUE4Qyw2RUFBNkUsSUFBSSx5Q0FBeUMsMkJBQTJCLHFDQUFxQyw0Q0FBNEMsd0NBQXdDLHFEQUFxRCxpRUFBaUUsd0JBQXdCLG9FQUFvRSwrQkFBK0IsZ0NBQWdDLFNBQVMsZUFBZSxpQkFBaUIsa0JBQWtCLG9EQUFvRCxtQ0FBbUMsNENBQTRDLDRDQUE0QywwREFBMEQsK0JBQStCLHVDQUF1QyxHQUFHLEdBQUcsaUJBQWlCLFNBQVMsZUFBZSxhQUFhLG1DQUFtQyxLQUFLLElBQUksZUFBZSxnQ0FBZ0MsS0FBSyxJQUFJLFVBQVUseUNBQXlDLGdCQUFnQixXQUFXLGNBQWMsU0FBUywwQ0FBMEMsc0hBQXNILHlCQUF5QixJQUFJLGdCQUFnQixXQUFXLHVDQUF1QyxpQ0FBaUMsa0JBQWtCLGlDQUFpQyxvQkFBb0IsV0FBVyxLQUFLLG1CQUFtQix3Q0FBd0MsV0FBVyxLQUFLLFdBQVcsdUJBQXVCLFNBQVMsZ0NBQWdDLGlCQUFpQixXQUFXLEVBQUUsNkJBQTZCLCtCQUErQixVQUFVLCtCQUErQixHQUFHLFNBQVMsZUFBZSxhQUFhLDBDQUEwQyw4RUFBOEUsa0NBQWtDLDJDQUEyQyx5REFBeUQsbURBQW1ELHVDQUF1QyxJQUFJLGNBQWMsU0FBUyxrQ0FBa0Msb0dBQW9HLDJDQUEyQyxJQUFJLGNBQWMsVUFBVSxpQ0FBaUMsR0FBRyxTQUFTLGVBQWUsYUFBYSxxQ0FBcUMsa0JBQWtCLDBCQUEwQixrQ0FBa0Msb0RBQW9ELDZEQUE2RCwrQ0FBK0MsOEZBQThGLHFDQUFxQyw0RkFBNEYsaUhBQWlILHVDQUF1QyxVQUFVLHlCQUF5Qix3REFBd0Qsc0NBQXNDLGtEQUFrRCxnRUFBZ0UseUZBQXlGLHVDQUF1QyxtRkFBbUYsVUFBVSxnRkFBZ0Ysb0tBQW9LLFNBQVMsNElBQTRJLHlCQUF5Qix3SkFBd0osK0JBQStCLHNLQUFzSyxzQ0FBc0Msd0dBQXdHLHlDQUF5QyxVQUFVLG9DQUFvQyx5QkFBeUIsdUtBQXVLLDJDQUEyQyw0RkFBNEYsNkNBQTZDLEdBQUcsU0FBUyxlQUFlLE1BQU0sYUFBYSxXQUFXLCtCQUErQiw0QkFBNEIsa0NBQWtDLGlCQUFpQixnQkFBZ0IsV0FBVyxLQUFLLFdBQVcsSUFBSSxlQUFlLFNBQVMsd0VBQXdFLFlBQVksb0NBQW9DLGdDQUFnQyxXQUFXLElBQUksb0hBQW9ILHFEQUFxRCwrQ0FBK0MsZ0JBQWdCLG1FQUFtRSxnQ0FBZ0MsMkVBQTJFLHlCQUF5Qiw2QkFBNkIsV0FBVyxjQUFjLCtCQUErQixrQkFBa0IsOEJBQThCLFdBQVcsTUFBTSx5QkFBeUIsK0JBQStCLGtDQUFrQyw4QkFBOEIsU0FBUyxlQUFlLGFBQWEseUJBQXlCLHFCQUFxQix3QkFBd0IsMkRBQTJELGtFQUFrRSxpQkFBaUIsMkVBQTJFLG9DQUFvQyxVQUFVLGlDQUFpQyxHQUFHLFNBQVMsZUFBZSx3Q0FBd0MseUNBQXlDLDRDQUE0QyxpQkFBaUIsSUFBSSxLQUFLLGFBQWEsR0FBRyx1Q0FBdUMsMEJBQTBCLDBDQUEwQyxVQUFVLFNBQVMsZUFBZSxpQkFBaUIsY0FBYyx5SkFBeUosOENBQThDLDZIQUE2SCx5Q0FBeUMsdUJBQXVCLElBQUksOEJBQThCLHNDQUFzQyx1QkFBdUIsSUFBSSx5Q0FBeUMseUNBQXlDLG1DQUFtQyxLQUFLLCtHQUErRyxxRkFBcUYsd0NBQXdDLDBEQUEwRCxrREFBa0QsZ1BBQWdQLEdBQUcsR0FBRyxrQkFBa0IsU0FBUyxlQUFlLGlCQUFpQixhQUFhLGVBQWUsc0NBQXNDLGdDQUFnQyx1Q0FBdUMsdUNBQXVDLGlEQUFpRCw0QkFBNEIsd0JBQXdCLHlDQUF5QyxtQkFBbUIsMEVBQTBFLG1DQUFtQywyQkFBMkIscUZBQXFGLHNDQUFzQyx3Q0FBd0MsNENBQTRDLGdFQUFnRSxRQUFRLDhCQUE4QiwyQ0FBMkMsV0FBVyxtQ0FBbUMsa0RBQWtELHVDQUF1Qyx3Q0FBd0MsK0JBQStCLHVEQUF1RCxtQ0FBbUMsOEJBQThCLDRCQUE0Qiw0Q0FBNEMsa0JBQWtCLCtCQUErQiw0QkFBNEIsR0FBRyxHQUFHLFVBQVUsU0FBUyxlQUFlLGlCQUFpQixjQUFjLDRXQUE0Vyw2Q0FBNkMsa0ZBQWtGLHVIQUF1SCwyQ0FBMkMsNENBQTRDLDJGQUEyRix1RUFBdUUsZ0JBQWdCLElBQUksS0FBSyxpQkFBaUIsMkRBQTJELEtBQUssc0NBQXNDLE9BQU8saUNBQWlDLDBFQUEwRSx5QkFBeUIscUNBQXFDLDRDQUE0QywrREFBK0QsNENBQTRDLDRGQUE0Rix1QkFBdUIscUNBQXFDLFdBQVcsS0FBSywwRUFBMEUsdUpBQXVKLGdDQUFnQyxLQUFLLG9DQUFvQyxlQUFlLE1BQU0seUNBQXlDLCtDQUErQyxtQkFBbUIsb0JBQW9CLE1BQU0saURBQWlELHlJQUF5SSw4Q0FBOEMsd0lBQXdJLHVDQUF1QyxpREFBaUQseURBQXlELHlEQUF5RCw4RkFBOEYscUlBQXFJLEdBQUcsR0FBRyxlQUFlLFNBQVMsZUFBZSxpQkFBaUIsY0FBYywwSkFBMEosa0RBQWtELGlFQUFpRSwrQkFBK0IsaUhBQWlILEtBQUssc0lBQXNJLFVBQVUseVFBQXlRLG9EQUFvRCwyREFBMkQsWUFBWSxvSEFBb0gsZ0NBQWdDLHlDQUF5QyxvRkFBb0YsWUFBWSxXQUFXLE1BQU0sYUFBYSw4S0FBOEssa0RBQWtELFFBQVEsV0FBVyxNQUFNLFdBQVcsVUFBVSx3REFBd0Qsa0RBQWtELHlEQUF5RCxNQUFNLDZCQUE2QixrR0FBa0csMkNBQTJDLGlGQUFpRiw2Q0FBNkMsZ0JBQWdCLDZCQUE2QixpQ0FBaUMsU0FBUyxHQUFHLEdBQUcsOEJBQThCLFNBQVMsZUFBZSxpQkFBaUIsY0FBYyx3REFBd0Qsa0RBQWtELHNCQUFzQiwwSkFBMEoseURBQXlELHNCQUFzQiw0RUFBNEUsMkNBQTJDLDREQUE0RCw2Q0FBNkMsZ0JBQWdCLHNCQUFzQiwwREFBMEQsU0FBUyxHQUFHLEdBQUcsOEJBQThCLFNBQVMsZUFBZSxpQkFBaUIsYUFBYSxzREFBc0QsdURBQXVELDRGQUE0Rix5Q0FBeUMsOEhBQThILCtGQUErRixJQUFJLEtBQUssV0FBVyxhQUFhLFlBQVkseUJBQXlCLHdDQUF3QyxNQUFNLG9DQUFvQyxLQUFLLG9CQUFvQiwrQ0FBK0Msb0NBQW9DLElBQUksNkNBQTZDLHdCQUF3Qix3SkFBd0osb0NBQW9DLHVLQUF1SywrREFBK0QsbUVBQW1FLDhEQUE4RCx5SkFBeUosWUFBWSxvQ0FBb0MsbURBQW1ELGtDQUFrQyxTQUFTLGtGQUFrRixZQUFZLCtCQUErQixLQUFLLCtDQUErQyx1TEFBdUwsR0FBRyxHQUFHLGlCQUFpQixTQUFTLGVBQWUsYUFBYSxhQUFhLG1yQkFBbXJCLHFCQUFxQixzSEFBc0gsc0JBQXNCLDJIQUEySCw4QkFBOEIsK0NBQStDLG1EQUFtRCxJQUFJLDBiQUEwYiwyQkFBMkIsOEJBQThCLDRDQUE0QyxpQkFBaUIsbUVBQW1FLDhEQUE4RCwyQkFBMkIsSUFBSSxNQUFNLG1HQUFtRyxnREFBZ0QsOEVBQThFLHVCQUF1QixHQUFHLDJCQUEyQixHQUFHLFNBQVMsZUFBZSxhQUFhLGFBQWEscUJBQXFCLHdGQUF3Rix5QkFBeUIscURBQXFELElBQUksTUFBTSxhQUFhLHlKQUF5Six1REFBdUQsc0JBQXNCLHFGQUFxRixrQ0FBa0MsdURBQXVELDBCQUEwQixhQUFhLFdBQVcsS0FBSyxzQkFBc0IsMEZBQTBGLHdCQUF3QixtQ0FBbUMsR0FBRywyQkFBMkIsR0FBRyxTQUFTLGVBQWUsYUFBYSxhQUFhLGlDQUFpQyxzQkFBc0IsNkJBQTZCLHdCQUF3Qix5REFBeUQsbUxBQW1MLDhCQUE4QiwwQ0FBMEMsb0ZBQW9GLDZHQUE2Ryw2QkFBNkIsR0FBRywyQkFBMkIsR0FBRyxTQUFTLGVBQWUsYUFBYSxhQUFhLHdnREFBd2dELHFCQUFxQixpQkFBaUIsV0FBVyxvQkFBb0Isb0JBQW9CLHFDQUFxQyxHQUFHLDJCQUEyQixHQUFHLFNBQVMsZUFBZSxhQUFhLGFBQWEscUJBQXFCLG1EQUFtRCxzQkFBc0IseURBQXlELGlEQUFpRCxHQUFHLDJCQUEyQixHQUFHLFNBQVMsZUFBZSxhQUFhLGFBQWEsUUFBUSxxQkFBcUIsbU1BQW1NLHNCQUFzQixpTEFBaUwsOEJBQThCLDRDQUE0QyxrQ0FBa0MsZ0JBQWdCLFdBQVcsS0FBSyx3Q0FBd0MsbUJBQW1CLGlEQUFpRCx1RUFBdUUsS0FBSyxzSEFBc0gsZ0ZBQWdGLHVCQUF1QixnQ0FBZ0MsOENBQThDLHlCQUF5QiwwQ0FBMEMsSUFBSSxFQUFFLDRCQUE0QixrQkFBa0IsMkdBQTJHLDJCQUEyQixtQkFBbUIsMkdBQTJHLDJDQUEyQyxLQUFLLDRHQUE0RywyR0FBMkcsMERBQTBELHFCQUFxQiwyQkFBMkIsMkRBQTJELHVHQUF1RyxtQkFBbUIsR0FBRywyQkFBMkIsR0FBRyxTQUFTLGVBQWUseUJBQXlCLG9CQUFvQiw0RUFBNEUsNkRBQTZELDBCQUEwQiwyQ0FBMkMsSUFBSSwwQ0FBMEMscUVBQXFFLDRCQUE0QixvQkFBb0IsOEVBQThFLDBCQUEwQixrREFBa0QsSUFBSSw2R0FBNkcsdUVBQXVFLGlDQUFpQyxNQUFNLHdCQUF3QixFQUFFLElBQUkseURBQXlELFNBQVMsd0JBQXdCLDBCQUEwQiwyRUFBMkUsbUNBQW1DLGlJQUFpSSxHQUFHLG1DQUFtQywyQkFBMkIsV0FBVywwQkFBMEIsa0ZBQWtGLElBQUksbURBQW1ELHlDQUF5Qyx1SUFBdUksR0FBRyxrRkFBa0Ysc0NBQXNDLG1EQUFtRCx3Q0FBd0MsdURBQXVELDBCQUEwQixpQ0FBaUMsMEJBQTBCLGlDQUFpQyw0QkFBNEIsbUNBQW1DLDRCQUE0QixtQ0FBbUMsa0NBQWtDLHlDQUF5QyxrQ0FBa0MseUNBQXlDLHlDQUF5QyxnREFBZ0QseUNBQXlDLGlEQUFpRCxTQUFTLEdBQUcsZUFBZSxNQUFNLHFCQUFxQixTQUFTLHdEQUF3RCxpQkFBaUIsdUJBQXVCLEdBQUcsdUNBQXVDLFlBQVksdUVBQXVFLGdHQUFnRywrQ0FBK0Msa0RBQWtELGlEQUFpRCxrQkFBa0Isd0JBQXdCLGVBQWUsR0FBRyxNQUFNLG1CQUFtQixlQUFlLElBQUksb0dBQW9HLGVBQWUsTUFBTSw4RUFBOEUsU0FBUyxTQUFTLFNBQVMsVUFBVSxRQUFRLGdCQUFnQixjQUFjLDRDQUE0QyxRQUFRLFNBQVMsa0JBQWtCLHFFQUFxRSxXQUFXLFNBQVMsdUJBQXVCLHlEQUF5RCxRQUFRLDBCQUEwQix1QkFBdUIseUZBQXlGLFFBQVEsdUNBQXVDLFFBQVEsNEJBQTRCLDRCQUE0QixLQUFLLGtCQUFrQixhQUFhLFNBQVMsVUFBVSxxQ0FBcUMsNkJBQTZCLG9CQUFvQixLQUFLLEVBQUUseUNBQXlDLFNBQVMsYUFBYSx1QkFBdUIsZUFBZSxxQkFBcUIsbUNBQW1DLHlFQUF5RSxRQUFRLHNCQUFzQixPQUFPLG9CQUFvQixFQUFFLHNCQUFzQixjQUFjLHlCQUF5QixHQUFHLGVBQWUsa0JBQWtCLGlIQUFpSCxNQUFNLHFCQUFxQix5QkFBeUIsd0JBQXdCLGNBQWMsNkJBQTZCLG9CQUFvQixHQUFHLGVBQWUsa0JBQWtCLHVKQUF1SixNQUFNLDJCQUEyQix5QkFBeUIsd0JBQXdCLGdEQUFnRCxlQUFlLDhCQUE4QixJQUFJLGVBQWUsTUFBTSxXQUFXLGtCQUFrQixZQUFZLFNBQVMsaUhBQWlILFNBQVMsb0JBQW9CLDRDQUE0QyxnQkFBZ0IseUJBQXlCLHVDQUF1QyxvQ0FBb0MsZUFBZSxrRkFBa0YsbUJBQW1CLGtCQUFrQixZQUFZLFdBQVcseUJBQXlCLHFFQUFxRSxFQUFFLDRCQUE0Qiw0REFBNEQsRUFBRSw0QkFBNEIsY0FBYyxnQ0FBZ0MsVUFBVSwrQ0FBK0MsaURBQWlELFlBQVksZ0lBQWdJLEtBQUssaUNBQWlDLHFCQUFxQixzQkFBc0IsWUFBWSwwQkFBMEIsTUFBTSxVQUFVLFlBQVksR0FBRyxjQUFjLHdDQUF3QywrQkFBK0IsSUFBSSxzQ0FBc0MsT0FBTyxTQUFTLE1BQU0sNEJBQTRCLElBQUkscUNBQXFDLE9BQU8sU0FBUyxPQUFPLDBCQUEwQixVQUFVLE1BQU0sVUFBVSxZQUFZLEdBQUcseUNBQXlDLE1BQU0sVUFBVSxZQUFZLDBCQUEwQixhQUFhLHNCQUFzQixNQUFNLEVBQUUsaUJBQWlCLG1DQUFtQyx1QkFBdUIsY0FBYyx3Q0FBd0MseUJBQXlCLE1BQU0sS0FBSyxNQUFNLGVBQWUsZ0JBQWdCLHFCQUFxQiw4QkFBOEIsTUFBTSxTQUFTLGdDQUFnQyw2RUFBNkUsSUFBSSxlQUFlLGdCQUFnQiw0QkFBNEIsd0JBQXdCLGNBQWMsU0FBUyxTQUFTLFNBQVMsMERBQTBELDBDQUEwQyxrQkFBa0IsdUVBQXVFLGtCQUFrQixTQUFTLGNBQWMsWUFBWSxLQUFLLDRDQUE0QywwR0FBMEcsSUFBSSxzQkFBc0IsU0FBUyxNQUFNLGdCQUFnQixZQUFZLGNBQWMsNENBQTRDLDRHQUE0RyxnQkFBZ0IsNENBQTRDLG9IQUFvSCxrQkFBa0IsNENBQTRDLDBEQUEwRCw4SkFBOEosY0FBYyxTQUFTLGNBQWMsc0NBQXNDLEtBQUssbURBQW1ELGdHQUFnRyxJQUFJLGtCQUFrQixnQkFBZ0IsR0FBRyxTQUFTLGlCQUFpQixjQUFjLFVBQVUsY0FBYywrREFBK0QsY0FBYyxnQkFBZ0IsZ0JBQWdCLGtDQUFrQyxXQUFXLHdCQUF3QiwwQ0FBMEMsNENBQTRDLDhGQUE4Rix5QkFBeUIsaVBBQWlQLHVCQUF1Qix5REFBeUQsd0xBQXdMLGlCQUFpQixTQUFTLHNCQUFzQixrREFBa0Qsd1hBQXdYLG1CQUFtQixlQUFlLE1BQU0sOEZBQThGLFFBQVEsWUFBWSx3QkFBd0IsbUNBQW1DLHVCQUF1QixZQUFZLFdBQVcsS0FBSyxhQUFhLGlEQUFpRCxjQUFjLHdDQUF3QyxnV0FBZ1csUUFBUSxhQUFhLHdCQUF3QixJQUFJLGVBQWUsVUFBVSw0Q0FBNEMsd0JBQXdCLHlEQUF5RCxxQkFBcUIsc0RBQXNELGlCQUFpQixrREFBa0QsaUJBQWlCLGtEQUFrRCxtQkFBbUIsb0RBQW9ELGlCQUFpQixrREFBa0QsZ0JBQWdCLGlEQUFpRCxvQkFBb0IscURBQXFELFlBQVkscUJBQXFCLGtJQUFrSSxRQUFRLDhHQUE4RywwQkFBMEIsd0RBQXdELHFCQUFxQixnREFBZ0Qsb0JBQW9CLGtDQUFrQyxlQUFlLHlCQUF5Qix5SEFBeUgsaUJBQWlCLG9CQUFvQixtREFBbUQsU0FBUyxZQUFZLDJCQUEyQix3QkFBd0Isb0VBQW9FLHNCQUFzQixhQUFhLFNBQVMsdURBQXVELHdCQUF3QixRQUFRLGtCQUFrQixlQUFlLDRTQUE0UyxjQUFjLGtHQUFrRyxnQ0FBZ0MsY0FBYyxVQUFVLDhCQUE4QixnQkFBZ0IsZ0lBQWdJLGVBQWUsb0JBQW9CLDRCQUE0QixxQkFBcUIsc0JBQXNCLFlBQVksMEJBQTBCLE1BQU0sVUFBVSxZQUFZLDZCQUE2QixNQUFNLFVBQVUsWUFBWSxpQkFBaUIsb0JBQW9CLCtCQUErQixNQUFNLFVBQVUsWUFBWSwwQkFBMEIsYUFBYSxzQkFBc0IsTUFBTSxFQUFFLGlCQUFpQixtQ0FBbUMsc0JBQXNCLDJCQUEyQiw4RUFBOEUsR0FBRywwQkFBMEIsaUJBQWlCLGtCQUFrQixXQUFXLEVBQUUsa0JBQWtCLFdBQVcsRUFBRSxrQkFBa0Isd0JBQXdCLEVBQUUseUJBQXlCLE1BQU0sa0NBQWtDLGFBQWEsSUFBSSxvQkFBb0IsS0FBSywrQ0FBK0MsTUFBTSxFQUFFLFVBQVUsT0FBTyxNQUFNLG9CQUFvQixTQUFTLDBCQUEwQixpQ0FBaUMsZUFBZSxFQUFFLEVBQUUsb0JBQW9CLGVBQWUsSUFBSSxTQUFTLEVBQUUsT0FBTyxxQkFBcUIsVUFBVSxVQUFVLHFCQUFxQixFQUFFLFVBQVUsVUFBVSxVQUFVLGFBQWEsRUFBRSxjQUFjLGlCQUFpQixJQUFJLHNCQUFzQix3Q0FBd0MsRUFBRSw4QkFBOEIseUJBQXlCLE1BQU0sbUJBQW1CLHlDQUF5QyxPQUFPLE9BQU8sR0FBRyxnQkFBZ0IsMkNBQTJDLGFBQWEsSUFBSSwyQkFBMkIsU0FBUyxpQkFBaUIsR0FBRyxXQUFXLEVBQUUsNERBQTRELGtDQUFrQyxzQkFBc0IsMEJBQTBCLEVBQUUsNkZBQTZGLFVBQVUsa05BQWtOLEVBQUUsOEJBQThCLHlCQUF5QixNQUFNLGtCQUFrQixnQ0FBZ0MsT0FBTyxPQUFPLFlBQVksbUNBQW1DLEVBQUUsMEdBQTBHLHFCQUFxQixxQkFBcUIsY0FBYyxnQkFBZ0IscUJBQXFCLFNBQVMsb0RBQW9ELElBQUksc0JBQXNCLFNBQVMsNEVBQTRFLFNBQVMsaUNBQWlDLFNBQVMsNlBBQTZQLFFBQVEsZUFBZSxrQkFBa0IsUUFBUSxtSkFBbUosYUFBYSxzQkFBc0IsNEJBQTRCLHNCQUFzQixHQUFHLGdDQUFnQyxLQUFLLFVBQVUsY0FBYyxxREFBcUQsd0NBQXdDLGlCQUFpQixtQ0FBbUMsNkJBQTZCLFFBQVEsOEVBQThFLHlJQUF5SSxpQkFBaUIseUNBQXlDLGFBQWEsbUVBQW1FLGNBQWMsYUFBYSxrRUFBa0UsT0FBTyxhQUFhLFdBQVcsYUFBYSxLQUFLLG1CQUFtQixpSUFBaUksUUFBUSxLQUFLLG1CQUFtQiw2Q0FBNkMsVUFBVSxRQUFRLHNCQUFzQixhQUFhLCtDQUErQyw0YUFBNGEsYUFBYSx5VUFBeVUsaUJBQWlCLGFBQWEsVUFBVSwyQkFBMkIsc0JBQXNCLElBQUksa0NBQWtDLEtBQUssVUFBVSxjQUFjLHFEQUFxRCx5Q0FBeUMsU0FBUyw2Q0FBNkMsTUFBTSxTQUFTLGdIQUFnSCxtQkFBbUIsa0JBQWtCLEdBQUcsSUFBSSxlQUFlLGdCQUFnQiw4REFBOEQsU0FBUyxTQUFTLFNBQVMsZ0RBQWdELGNBQWMsMEJBQTBCLFFBQVEsb0RBQW9ELDBCQUEwQiw4QkFBOEIsRUFBRSx5QkFBeUIsS0FBSyxvREFBb0QsY0FBYyxlQUFlLG1DQUFtQyxFQUFFLFNBQVMsMEJBQTBCLDBCQUEwQixNQUFNLEVBQUUsSUFBSSxNQUFNLGVBQWUsMkJBQTJCLGtCQUFrQixLQUFLLCtDQUErQyw2QkFBNkIsc0JBQXNCLE1BQU0sU0FBUyxhQUFhLE9BQU8sSUFBSSwwQkFBMEIsb0JBQW9CLDZDQUE2QyxTQUFTLE1BQU0sZUFBZSxrQkFBa0Isb0JBQW9CLGdDQUFnQyxNQUFNLFFBQVEsa0JBQWtCLFNBQVMsbURBQW1ELElBQUksZUFBZSxNQUFNLHNDQUFzQyxTQUFTLGVBQWUsUUFBUSxjQUFjLGVBQWUsa0JBQWtCLHNFQUFzRSx3R0FBd0csaUVBQWlFLGFBQWEsY0FBYyxnREFBZ0QsYUFBYSxpQ0FBaUMsMEZBQTBGLFNBQVMsYUFBYSxrQkFBa0IsYUFBYSxvREFBb0QsY0FBYyw0REFBNEQsYUFBYSx1UEFBdVAsc0dBQXNHLFlBQVksNEJBQTRCLGVBQWUsNERBQTRELE9BQU8scUZBQXFGLGNBQWMsU0FBUyx5REFBeUQsa0NBQWtDLFdBQVcsaUJBQWlCLDJCQUEyQixTQUFTLDRCQUE0QixTQUFTLGtIQUFrSCxrQ0FBa0MsZ0JBQWdCLHlFQUF5RSxzRkFBc0YsUUFBUSx5R0FBeUcsUUFBUSx3Q0FBd0MsU0FBUyxpQkFBaUIsUUFBUSxpSUFBaUksU0FBUyxhQUFhLEtBQUssa0JBQWtCLElBQUksc0JBQXNCLE1BQU0sWUFBWSx5QkFBeUIsSUFBSSxTQUFTLFNBQVMsT0FBTyxzSkFBc0osSUFBSSxJQUFJLFVBQVUsU0FBUyxhQUFhLHdCQUF3QixRQUFRLE1BQU0saUdBQWlHLEdBQUcsSUFBSSxNQUFNLEVBQUUsS0FBSyxXQUFXLEVBQUUsbUJBQW1CLGdCQUFnQix5QkFBeUIsMkNBQTJDLGlCQUFpQixJQUFJLElBQUksUUFBUSxnQ0FBZ0MsWUFBWSw2QkFBNkIsK0NBQStDLFNBQVMsZ0JBQWdCLHlFQUF5RSx3Q0FBd0Msd0JBQXdCLEtBQUssa0JBQWtCLGNBQWMsb0ZBQW9GLGNBQWMsd0JBQXdCLHNDQUFzQyxTQUFTLG9DQUFvQyxrQ0FBa0MsK0dBQStHLFFBQVEsMkJBQTJCLE1BQU0sb0VBQW9FLHNCQUFzQixFQUFFLGNBQWMsWUFBWSwyQkFBMkIsc0hBQXNILE1BQU0sbUVBQW1FLDJCQUEyQixNQUFNLG1FQUFtRSxtQkFBbUIsWUFBWSxnQ0FBZ0MseUJBQXlCLHlCQUF5QiwrQkFBK0IsWUFBWSxpQ0FBaUMsc0hBQXNILE1BQU0sbUVBQW1FLDJCQUEyQixNQUFNLG1FQUFtRSxvQkFBb0IsU0FBUyxZQUFZLHVCQUF1QixnSkFBZ0osa0JBQWtCLDJDQUEyQyxzQ0FBc0MsaUNBQWlDLHlFQUF5RSwwREFBMEQsNkJBQTZCLHlFQUF5RSxzREFBc0Qsc0JBQXNCLE9BQU8sOEJBQThCLE1BQU0sOEVBQThFLHNGQUFzRix5QkFBeUIsd0RBQXdELHNCQUFzQixzQkFBc0IsRUFBRSwrQkFBK0IsOEJBQThCLHlCQUF5QixzQkFBc0IsU0FBUyxrQkFBa0IscURBQXFELFNBQVMsSUFBSSwyQkFBMkIsTUFBTSx3RUFBd0UsaUJBQWlCLFNBQVMsYUFBYSxzQkFBc0IsUUFBUSxVQUFVLFNBQVMsMkJBQTJCLHNGQUFzRixXQUFXLDJCQUEyQixNQUFNLDJFQUEyRSxzQkFBc0IsRUFBRSxPQUFPLFNBQVMsaUNBQWlDLGlEQUFpRCxlQUFlLE1BQU0sdUJBQXVCLFFBQVEsWUFBWSxlQUFlLGNBQWMsd0NBQXdDLGVBQWUseUVBQXlFLFdBQVcsZUFBZSxnQkFBZ0IsK0NBQStDLGlCQUFpQixPQUFPLDJCQUEyQiw0QkFBNEIseUhBQXlILGNBQWMsU0FBUyx5Q0FBeUMsU0FBUyx1SUFBdUksNkRBQTZELFFBQVEsa0JBQWtCLFNBQVMsbUJBQW1CLEtBQUssR0FBRyxPQUFPLFlBQVksMENBQTBDLGNBQWMsc0JBQXNCLE1BQU0sS0FBSyxJQUFJLGNBQWMsaUJBQWlCLGtDQUFrQyxjQUFjLDZCQUE2QixJQUFJLDZEQUE2RCx3QkFBd0IsTUFBTSxFQUFFLGFBQWEsWUFBWSxlQUFlLFVBQVUsWUFBWSxzQkFBc0IsY0FBYyxZQUFZLEdBQUcsZ0JBQWdCLGFBQWEsWUFBWSxJQUFJLElBQUksK0JBQStCLDZDQUE2Qyx5QkFBeUIsU0FBUyxrQkFBa0IsUUFBUSxzQkFBc0Isd0JBQXdCLE1BQU0sRUFBRSxxQkFBcUIsc0JBQXNCLElBQUksNkRBQTZELEdBQUcscUNBQXFDLFNBQVMsSUFBSSxzQkFBc0IsU0FBUyxPQUFPLGtCQUFrQixxRUFBcUUsd0RBQXdELGFBQWEsU0FBUyxRQUFRLDZEQUE2RCxXQUFXLFVBQVUsY0FBYyxZQUFZLGdCQUFnQiw2REFBNkQsS0FBSyxTQUFTLGNBQWMsbUdBQW1HLFlBQVksV0FBVyxLQUFLLG9GQUFvRixTQUFTLE1BQU0sTUFBTSxvQkFBb0IsVUFBVSw2QkFBNkIsY0FBYyxzRUFBc0Usc0NBQXNDLDRCQUE0QixHQUFHLGtDQUFrQyxRQUFRLFNBQVMsb0VBQW9FLG9DQUFvQyw4QkFBOEIsTUFBTSx3REFBd0QsWUFBWSxVQUFVLFNBQVMsS0FBSyxxREFBcUQsSUFBSSxNQUFNLEtBQUssTUFBTSxjQUFjLGVBQWUsY0FBYywyQ0FBMkMsMENBQTBDLGlEQUFpRCxPQUFPLDZCQUE2QixHQUFHLDZCQUE2QixNQUFNLEVBQUUsS0FBSyx5RUFBeUUsc0JBQXNCLGFBQWEsTUFBTSxHQUFHLElBQUksTUFBTSxvQkFBb0IsWUFBWSx3QkFBd0IsY0FBYyxTQUFTLEtBQUssa0JBQWtCLE1BQU0sRUFBRSxvQkFBb0Isb0JBQW9CLHVCQUF1QixjQUFjLE1BQU0sRUFBRSxLQUFLLHlHQUF5RyxhQUFhLE1BQU0sRUFBRSxJQUFJLGNBQWMsd0JBQXdCLE1BQU0sRUFBRSxnQ0FBZ0MsTUFBTSxFQUFFLEtBQUsseUdBQXlHLHNCQUFzQixNQUFNLEVBQUUsSUFBSSxpQkFBaUIsZ0VBQWdFLGtCQUFrQixNQUFNLEVBQUUsU0FBUyxzQkFBc0IsWUFBWSxhQUFhLE9BQU8sS0FBSyxhQUFhLGFBQWEsbUNBQW1DLFNBQVMsWUFBWSx3QkFBd0IsTUFBTSx5QkFBeUIsdUhBQXVILFFBQVEsd0JBQXdCLElBQUksV0FBVyx1Q0FBdUMseUJBQXlCLDZEQUE2RCxRQUFRLGVBQWUsZ0JBQWdCLHlMQUF5TCxRQUFRLDhCQUE4QixNQUFNLGVBQWUsU0FBUywyQkFBMkIsU0FBUyxTQUFTLFNBQVMsaUJBQWlCLGdCQUFnQixvQ0FBb0MsSUFBSSxHQUFHLHlCQUF5Qiw2Q0FBNkMsU0FBUyw0QkFBNEIseUlBQXlJLFNBQVMsaUJBQWlCLHdCQUF3QixnQkFBZ0IsaUJBQWlCLGtDQUFrQyxjQUFjLEVBQUUsaUJBQWlCLEdBQUcsa0JBQWtCLHUzQkFBdTNCLGNBQWMsd0NBQXdDLCtCQUErQixtUkFBbVIsOERBQThELEdBQUcsb0JBQW9CLHdCQUF3Qix5QkFBeUIsTUFBTSx3U0FBd1MsNENBQTRDLGtDQUFrQyxjQUFjLHdCQUF3QixrRUFBa0UscUVBQXFFLE1BQU0sb0VBQW9FLEtBQUssbUNBQW1DLFlBQVksMkJBQTJCLEtBQUssbUNBQW1DLDRHQUE0Ryw4QkFBOEIseURBQXlELG9CQUFvQiw4UUFBOFEsb0dBQW9HLEtBQUssbURBQW1ELGdCQUFnQixnQ0FBZ0Msc0JBQXNCLG1DQUFtQyxzQkFBc0IsaUNBQWlDLDRCQUE0QixnQ0FBZ0MscUNBQXFDLGlCQUFpQixnR0FBZ0csbUNBQW1DLFNBQVMsK0JBQStCLDZFQUE2RSxnQkFBZ0IsK0lBQStJLGNBQWMseUJBQXlCLDJKQUEySixjQUFjLHlCQUF5QiwyTUFBMk0sZ0JBQWdCLG9FQUFvRSxnQkFBZ0IsS0FBSywwRUFBMEUsRUFBRSxpQkFBaUIsMERBQTBELGlCQUFpQixjQUFjLHlCQUF5Qix1S0FBdUssY0FBYyx3Q0FBd0MsZ0JBQWdCLHVIQUF1SCxjQUFjLHlCQUF5Qix3QkFBd0IsMkJBQTJCLEdBQUcsZ0JBQWdCLHdDQUF3QyxjQUFjLEdBQUcsNkJBQTZCLFVBQVUsY0FBYyx1QkFBdUIsbUJBQW1CLGFBQWEsWUFBWSxNQUFNLHdCQUF3QixHQUFHLElBQUksTUFBTSxFQUFFLGtDQUFrQyxvQkFBb0IsS0FBSyxhQUFhLG1CQUFtQixpQkFBaUIsU0FBUyxpQkFBaUIsUUFBUSxzSUFBc0ksTUFBTSxvQkFBb0IsZ0JBQWdCLDRCQUE0QixNQUFNLHlNQUF5TSxjQUFjLHlCQUF5Qiw0RUFBNEUsaUJBQWlCLHdMQUF3TCx1QkFBdUIseUJBQXlCLGlFQUFpRSxlQUFlLG9EQUFvRCxPQUFPLGNBQWMsMEJBQTBCLEtBQUssNkJBQTZCLCtDQUErQyxnQ0FBZ0MsbURBQW1ELGdEQUFnRCw2REFBNkQsMk5BQTJOLDZEQUE2RCx1QkFBdUIsbU5BQW1OLFdBQVcsc0VBQXNFLElBQUksNEJBQTRCLFNBQVMsVUFBVSxnQ0FBZ0MsOFRBQThULCtCQUErQix1QkFBdUIsZ0NBQWdDLG1DQUFtQyxvTUFBb00seURBQXlELGdCQUFnQix1RUFBdUUscUdBQXFHLDBOQUEwTixJQUFJLGFBQWEsbUJBQW1CLE1BQU0sNERBQTRELFNBQVMsYUFBYSxvUkFBb1Isa0JBQWtCLHlCQUF5Qiw0UEFBNFAsdUJBQXVCLGNBQWMsWUFBWSxtQkFBbUIsOEJBQThCLGNBQWMsZ0ZBQWdGLDJDQUEyQyw2Q0FBNkMsYUFBYSxpQ0FBaUMsYUFBYSw4Q0FBOEMsYUFBYSx3QkFBd0IsOEtBQThLLGdDQUFnQyw0QkFBNEIsa0NBQWtDLE9BQU8sZ0JBQWdCLHdCQUF3QixZQUFZLFdBQVcsNkJBQTZCLGNBQWMsRUFBRSxZQUFZLHFCQUFxQiwwRkFBMEYsY0FBYyxRQUFRLDhCQUE4Qiw0REFBNEQsMFRBQTBULGlGQUFpRixrREFBa0QsMkNBQTJDLHVGQUF1Riw2REFBNkQsdURBQXVELCtCQUErQiw0QkFBNEIsNEVBQTRFLDREQUE0RCx1QkFBdUIsOEJBQThCLDhMQUE4TCw4QkFBOEIsU0FBUyxpQkFBaUIseUNBQXlDLG9CQUFvQixnQkFBZ0IscUJBQXFCLFVBQVUsc0JBQXNCLGVBQWUsd0JBQXdCLGVBQWUsbUJBQW1CLGdDQUFnQyxhQUFhLFlBQVksV0FBVyxLQUFLLGFBQWEsa0VBQWtFLFlBQVksMkJBQTJCLGVBQWUsa0NBQWtDLDRDQUE0QyxnQkFBZ0IsVUFBVSxxQkFBcUIsNEJBQTRCLHdFQUF3RSxRQUFRLHlEQUF5RCxrQkFBa0IsNENBQTRDLHdDQUF3QyxrQkFBa0IsNENBQTRDLDBJQUEwSSx3QkFBd0IsNENBQTRDLDBDQUEwQyxpQkFBaUIsNENBQTRDLHdEQUF3RCxrQkFBa0IsNENBQTRDLG1DQUFtQyxpQkFBaUIsc0RBQXNELGlCQUFpQixtQ0FBbUMsbUNBQW1DLHFCQUFxQixtQ0FBbUMsNkRBQTZELG1CQUFtQixtQ0FBbUMsOERBQThELFVBQVUsbUNBQW1DLDZEQUE2RCxTQUFTLHFCQUFxQix5REFBeUQsWUFBWSxtQ0FBbUMsMkRBQTJELFFBQVEsd0RBQXdELGdCQUFnQixtQ0FBbUMsOERBQThELGlCQUFpQixZQUFZLHFCQUFxQiwwQkFBMEIsU0FBUyxxQkFBcUIsbUJBQW1CLFFBQVEsY0FBYyxxQ0FBcUMsZ0JBQWdCLHlCQUF5QixxREFBcUQsdUJBQXVCLHFEQUFxRCxzQkFBc0IsUUFBUSxjQUFjLGtIQUFrSCx1QkFBdUIsV0FBVyxlQUFlLE1BQU0sOEJBQThCLFNBQVMsd0JBQXdCLGNBQWMsY0FBYyxrQkFBa0IsV0FBVyxtQ0FBbUMsd0JBQXdCLHlEQUF5RCxRQUFRLFlBQVksZUFBZSx5QkFBeUIsRUFBRSw2QkFBNkIsWUFBWSx1QkFBdUIsNEJBQTRCLGVBQWUsTUFBTSxnQ0FBZ0MsUUFBUSxZQUFZLE1BQU0sNkJBQTZCLHdCQUF3QixtQkFBbUIsUUFBUSxrQ0FBa0MsdUJBQXVCLGNBQWMsd0NBQXdDLG9EQUFvRCxXQUFXLGlHQUFpRyxzTUFBc00sY0FBYyw2RkFBNkYsd0VBQXdFLEdBQUcsYUFBYSw4QkFBOEIsNERBQTRELDRCQUE0QixvQ0FBb0MsNkRBQTZELDZCQUE2Qiw2RkFBNkYsR0FBRyw4QkFBOEIsWUFBWSxnQkFBZ0IsbUJBQW1CLGVBQWUsTUFBTSw0REFBNEQsMktBQTJLLG1CQUFtQixNQUFNLHVQQUF1UCxjQUFjLE1BQU0scUpBQXFKLGNBQWMsd0pBQXdKLGNBQWMsaUhBQWlILGNBQWMsOEVBQThFLGNBQWMsNEVBQTRFLGNBQWMscUJBQXFCLG1EQUFtRCxrREFBa0QsY0FBYyxxQkFBcUIsaUNBQWlDLHlCQUF5QixzRkFBc0YsZ0JBQWdCLHFCQUFxQix5QkFBeUIsd0lBQXdJLGNBQWMsNkdBQTZHLGNBQWMseUZBQXlGLGNBQWMsc0pBQXNKLGNBQWMseUNBQXlDLFdBQVcscUNBQXFDLE1BQU0sbUZBQW1GLHNDQUFzQyx3QkFBd0IsNmJBQTZiLDRHQUE0RyxxQkFBcUIsOENBQThDLDRDQUE0QyxtTUFBbU0sOENBQThDLCtHQUErRywwQkFBMEIsOEdBQThHLDBCQUEwQixpSUFBaUksdUVBQXVFLHFCQUFxQixpQ0FBaUMseUJBQXlCLGlGQUFpRixvREFBb0QsUUFBUSw0SUFBNEksd0NBQXdDLHdCQUF3QiwyR0FBMkcscUJBQXFCLG9DQUFvQyx5QkFBeUIsb0lBQW9JLCtCQUErQixRQUFRLDRJQUE0SSw2QkFBNkIsTUFBTSxxSUFBcUksOENBQThDLHFCQUFxQixtREFBbUQsaUVBQWlFLHNCQUFzQixlQUFlLGdCQUFnQixvTUFBb00sUUFBUSw4QkFBOEIsTUFBTSxlQUFlLHlCQUF5QixTQUFTLGtCQUFrQixpQkFBaUIsU0FBUyw2Q0FBNkMsU0FBUyx1T0FBdU8sZUFBZSxpQkFBaUIsR0FBRyxjQUFjLGtDQUFrQyx5QkFBeUIsa0JBQWtCLDBUQUEwVCxvQ0FBb0MsMGRBQTBkLGNBQWMsNkRBQTZELGNBQWMsK0JBQStCLGtDQUFrQyx5WEFBeVgsNEJBQTRCLCtCQUErQixHQUFHLG9CQUFvQix5QkFBeUIsZ0RBQWdELEtBQUssTUFBTSxpREFBaUQseUJBQXlCLDRCQUE0Qix3QkFBd0Isd0ZBQXdGLGtDQUFrQyxLQUFLLCtFQUErRSxzQ0FBc0MsTUFBTSwySEFBMkgsZ0NBQWdDLFlBQVksaUNBQWlDLG9CQUFvQixpRUFBaUUsOEJBQThCLHNLQUFzSyxtQ0FBbUMsYUFBYSwwQkFBMEIsaUpBQWlKLG9CQUFvQiwrQkFBK0IsZ0JBQWdCLDhDQUE4QyxnWUFBZ1ksOEJBQThCLDZEQUE2RCxZQUFZLDhCQUE4QixFQUFFLDRDQUE0QyxvQkFBb0IseUZBQXlGLE9BQU8sbUJBQW1CLHlCQUF5QixjQUFjLG9CQUFvQiwwQkFBMEIsb0JBQW9CLEtBQUssTUFBTSxNQUFNLG1CQUFtQix5Q0FBeUMsaUVBQWlFLHVCQUF1QixZQUFZLFdBQVcsS0FBSyxNQUFNLHNEQUFzRCxLQUFLLGdCQUFnQixvRUFBb0UsTUFBTSx3Q0FBd0MsZ0JBQWdCLGFBQWEsUUFBUSx5Q0FBeUMsaUJBQWlCLHdCQUF3QixZQUFZLFdBQVcscUJBQXFCLDZCQUE2Qix5REFBeUQsS0FBSyxHQUFHLE1BQU0sOEJBQThCLE1BQU0sWUFBWSw2QkFBNkIsOEJBQThCLDRFQUE0RSxzQkFBc0IsY0FBYyx5SkFBeUosZ0JBQWdCLCtJQUErSSxTQUFTLGNBQWMsd0JBQXdCLDhCQUE4Qix1QkFBdUIsWUFBWSxXQUFXLFlBQVksY0FBYyxrRkFBa0Ysd0JBQXdCLElBQUksWUFBWSxTQUFTLEtBQUssVUFBVSxRQUFRLGtCQUFrQixxRUFBcUUsMEJBQTBCLHVDQUF1QyxnQkFBZ0IsNEJBQTRCLHVCQUF1QixZQUFZLFdBQVcsV0FBVyxtQ0FBbUMseUJBQXlCLG1FQUFtRSxpQ0FBaUMsMkNBQTJDLHVDQUF1QyxxQkFBcUIsZ0RBQWdELFNBQVMsaUNBQWlDLGlFQUFpRSw4QkFBOEIsY0FBYyxtQ0FBbUMseUJBQXlCLDZCQUE2Qiw2QkFBNkIsK0JBQStCLDRCQUE0Qiw0Q0FBNEMsNENBQTRDLGdFQUFnRSxrREFBa0Qsb0NBQW9DLHlDQUF5QyxlQUFlLG1CQUFtQixLQUFLLDBEQUEwRCw0QkFBNEIsTUFBTSx3RkFBd0Ysb0JBQW9CLHNCQUFzQiwyT0FBMk8sZ0JBQWdCLFFBQVEscUJBQXFCLHlEQUF5RCxZQUFZLHFCQUFxQiwyREFBMkQsUUFBUSx3REFBd0QsV0FBVyxxQkFBcUIsNEJBQTRCLHdFQUF3RSxRQUFRLHlEQUF5RCxtQkFBbUIscUJBQXFCLDJEQUEyRCxxQkFBcUIscUJBQXFCLDZEQUE2RCxpQkFBaUIscUJBQXFCLDZEQUE2RCxnQkFBZ0IscUJBQXFCLHlEQUF5RCxvQkFBb0IscUJBQXFCLDRCQUE0QixtREFBbUQsd0JBQXdCLHFCQUFxQiwrREFBK0QsaUJBQWlCLHFCQUFxQix5REFBeUQsaUJBQWlCLHFCQUFxQix3REFBd0QsVUFBVSxtQ0FBbUMsNkRBQTZELGtCQUFrQiw0Q0FBNEMseUlBQXlJLEVBQUUsa0JBQWtCLE1BQU0sYUFBYSx3QkFBd0IsSUFBSSxrQ0FBa0MsNEJBQTRCLDRHQUE0Ryx1RUFBdUUsS0FBSyxtREFBbUQsZ0JBQWdCLHlCQUF5QixvREFBb0QscUJBQXFCLG1EQUFtRCxlQUFlLE1BQU0sc1NBQXNTLFNBQVMseUJBQXlCLDhHQUE4RyxTQUFTLG9CQUFvQixTQUFTLHNDQUFzQyxtQkFBbUIsbUJBQW1CLDJCQUEyQixnREFBZ0QsdUNBQXVDLGdDQUFnQyxHQUFHLFFBQVEsRUFBRSxLQUFLLDJDQUEyQyxnREFBZ0QsdUNBQXVDLGdDQUFnQyxHQUFHLFFBQVEsRUFBRSxLQUFLLHFCQUFxQixnREFBZ0QsdUNBQXVDLDJCQUEyQixnQ0FBZ0MsR0FBRyxRQUFRLEVBQUUsS0FBSyxHQUFHLGdCQUFnQixnREFBZ0QscUJBQXFCLFlBQVkseUNBQXlDLEVBQUUsZ0JBQWdCLHVDQUF1QyxHQUFHLGdCQUFnQixrREFBa0Qsa0JBQWtCLDhCQUE4QiwwQkFBMEIsdURBQXVELHFIQUFxSCxnQkFBZ0IscUZBQXFGLG9CQUFvQixrQ0FBa0MsZUFBZSx1Q0FBdUMsRUFBRSxJQUFJLEdBQUcsNEJBQTRCLDZEQUE2RCxHQUFHLG1CQUFtQiwrRkFBK0YsZ0JBQWdCLG9EQUFvRCxnQkFBZ0IsMERBQTBELGdCQUFnQiwyQ0FBMkMsR0FBRyw0QkFBNEIsTUFBTSxnQkFBZ0IsY0FBYyxnQkFBZ0IsNkZBQTZGLGFBQWEsWUFBWSxXQUFXLG9CQUFvQixpQkFBaUIsc0JBQXNCLGlCQUFpQiwrQkFBK0IseUNBQXlDLHlGQUF5RixTQUFTLGdCQUFnQixtREFBbUQsT0FBTyxZQUFZLFdBQVcsY0FBYyxFQUFFLEdBQUcsRUFBRSxJQUFJLG9DQUFvQyxPQUFPLFlBQVksV0FBVyxjQUFjLEVBQUUsR0FBRyxFQUFFLElBQUksd0ZBQXdGLHdCQUF3QiwrRUFBK0UsRUFBRSxHQUFHLDhGQUE4RixnREFBZ0QseUVBQXlFLGNBQWMsRUFBRSxLQUFLLEVBQUUsMkJBQTJCLEVBQUUsY0FBYyxFQUFFLEtBQUssS0FBSyxpR0FBaUcsa0lBQWtJLFdBQVcsMkNBQTJDLHlCQUF5Qiw2RUFBNkUsZ0JBQWdCLHFGQUFxRiw4QkFBOEIsU0FBUyxPQUFPLDJEQUEyRCw0Q0FBNEMsU0FBUyxpQkFBaUIsU0FBUyxrQkFBa0IsWUFBWSxJQUFJLEtBQUssYUFBYSxxQ0FBcUMsU0FBUyw0RUFBNEUsYUFBYSxjQUFjLGNBQWMsNkNBQTZDLHVrQkFBdWtCLHdDQUF3Qyx3REFBd0QsZUFBZSxNQUFNLG9DQUFvQyx1TEFBdUwsZ0JBQWdCLDRDQUE0QyxjQUFjLG9CQUFvQix1QkFBdUIsS0FBSyxPQUFPLFdBQVcsZUFBZSxFQUFFLEVBQUUsRUFBRSxTQUFTLGFBQWEsRUFBRSxFQUFFLEVBQUUsa0JBQWtCLGFBQWEsMEJBQTBCLGtCQUFrQixzQkFBc0IsNkRBQTZELElBQUksaUNBQWlDLFNBQVMsc0NBQXNDLFNBQVMsYUFBYSw0Q0FBNEMsK0JBQStCLElBQUksaUNBQWlDLFNBQVMsc0NBQXNDLEVBQUUsOEJBQThCLFNBQVMsV0FBVyxTQUFTLFdBQVcsR0FBRyxFQUFFLEtBQUssYUFBYSxHQUFHLDZDQUE2QyxNQUFNLHVEQUF1RCxXQUFXLFFBQVEsU0FBUyxXQUFXLEdBQUcsRUFBRSxLQUFLLGFBQWEsRUFBRSw0Q0FBNEMsc0VBQXNFLGNBQWMsa0NBQWtDLHVDQUF1QyxRQUFRLElBQUksK0JBQStCLG9EQUFvRCx5RkFBeUYseURBQXlELGtFQUFrRSwwRUFBMEUsYUFBYSw4QkFBOEIsR0FBRyxTQUFTLEVBQUUsSUFBSSx1Q0FBdUMsZ0JBQWdCLHFCQUFxQixpT0FBaU8sZUFBZSw0QkFBNEIsMkNBQTJDLGVBQWUsaUJBQWlCLHFCQUFxQixLQUFLLEVBQUUsTUFBTSx5QkFBeUIsTUFBTSxLQUFLLEtBQUssRUFBRSxNQUFNLFNBQVMsZ0JBQWdCLGtCQUFrQixhQUFhLE9BQU8sRUFBRSxHQUFHLHNDQUFzQyxlQUFlLGlCQUFpQiw0QkFBNEIsS0FBSyxFQUFFLE1BQU0sNEJBQTRCLE1BQU0sS0FBSyxLQUFLLEVBQUUsTUFBTSxTQUFTLGdCQUFnQixxQkFBcUIsYUFBYSxPQUFPLEVBQUUsR0FBRyx3QkFBd0IsaUJBQWlCLGFBQWEsbURBQW1ELEtBQUssRUFBRSxNQUFNLG9CQUFvQixNQUFNLEtBQUssS0FBSyxFQUFFLE1BQU0sU0FBUyxnQkFBZ0IsYUFBYSxhQUFhLE9BQU8sRUFBRSxHQUFHLDRCQUE0QixFQUFFLEVBQUUsK0RBQStELE9BQU8sRUFBRSw0QkFBNEIsTUFBTSxnRkFBZ0YsbUJBQW1CLEVBQUUsS0FBSyxpQkFBaUIsS0FBSyxTQUFTLEVBQUUsR0FBRyxLQUFLLFdBQVcsVUFBVSxFQUFFLG1CQUFtQixjQUFjLDRCQUE0QixVQUFVLEdBQUcsRUFBRSxHQUFHLFNBQVMsK0RBQStELFdBQVcsdUNBQXVDLGFBQWEsdUNBQXVDLEdBQUcsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUUscURBQXFELE1BQU0sa0JBQWtCLEdBQUcsMkJBQTJCLEVBQUUscUJBQXFCLHFFQUFxRSxtQkFBbUIsbUJBQW1CLEdBQUcsNENBQTRDLE1BQU0sdURBQXVELGlCQUFpQiw4Q0FBOEMsRUFBRSxxQkFBcUIsaUJBQWlCLE1BQU0sVUFBVSxNQUFNLGlCQUFpQixNQUFNLE1BQU0sTUFBTSxXQUFXLE1BQU0sU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLFFBQVEsR0FBRyxZQUFZLFNBQVMsR0FBRyxtQkFBbUIsNkNBQTZDLE1BQU0saU1BQWlNLEVBQUUsZ0NBQWdDLEVBQUUsYUFBYSxFQUFFLEVBQUUsMndCQUEyd0IsK0NBQStDLGdCQUFnQixxREFBcUQsK0JBQStCLHVCQUF1QixZQUFZLDhCQUE4QixTQUFTLFdBQVcsODlDQUE4OUMsZUFBZSwwREFBMEQsa0VBQWtFLHNCQUFzQixhQUFhLFVBQVUsbUNBQW1DLGVBQWUseUZBQXlGLFNBQVMsWUFBWSxXQUFXLGNBQWMsV0FBVyxJQUFJLG1EQUFtRCxXQUFXLDRDQUE0QyxVQUFVLFNBQVMsc0JBQXNCLDJCQUEyQixrQ0FBa0MsUUFBUSxPQUFPLDZCQUE2QixRQUFRLHVCQUF1QixtQ0FBbUMsOEJBQThCLDRCQUE0Qiw4REFBOEQsa0JBQWtCLCtCQUErQixvQ0FBb0MsZ0NBQWdDLFNBQVMsZ0RBQWdELFNBQVMsb0JBQW9CLGNBQWMsaUJBQWlCLGlDQUFpQyw4QkFBOEIsRUFBRSxHQUFHLG9DQUFvQyxjQUFjLEVBQUUsSUFBSSxVQUFVLEVBQUUsR0FBRywrREFBK0Qsc0JBQXNCLFVBQVUsR0FBRywrQ0FBK0Msc0JBQXNCLEdBQUcsUUFBUSw2RUFBNkUsVUFBVSx1RUFBdUUsZUFBZSxNQUFNLFNBQVMsU0FBUyxtREFBbUQsU0FBUyxXQUFXLFVBQVUsU0FBUyx1REFBdUQsU0FBUyxPQUFPLDJCQUEyQixrQkFBa0IsV0FBVyxTQUFTLFlBQVksNERBQTRELGdHQUFnRyxxQkFBcUIsYUFBYSxpQkFBaUIsd0JBQXdCLG9DQUFvQyxZQUFZLDRCQUE0QixnQkFBZ0IsOEJBQThCLDRCQUE0QixpRUFBaUUsRUFBRSxxQkFBcUIsYUFBYSxpQkFBaUIsd0JBQXdCLG1CQUFtQixZQUFZLDRCQUE0QixnQkFBZ0IsOEJBQThCLDRCQUE0QixpRUFBaUUsRUFBRSx1RkFBdUYsTUFBTSxpQkFBaUIsUUFBUSx3RUFBd0UsdURBQXVELFNBQVMsZ0RBQWdELFNBQVMsZ0RBQWdELHlDQUF5QywrQkFBK0IsbUNBQW1DLG1EQUFtRCxlQUFlLE1BQU0sOEJBQThCLFNBQVMsMENBQTBDLFNBQVMsZUFBZSxTQUFTLFdBQVcsT0FBTyxpQkFBaUIsbUNBQW1DLHNCQUFzQixRQUFRLHNCQUFzQiwrQ0FBK0MsYUFBYSxtQkFBbUIsYUFBYSxZQUFZLEdBQUcsZUFBZSxFQUFFLEtBQUssU0FBUyx1QkFBdUIsYUFBYSxtREFBbUQsYUFBYSxxREFBcUQsY0FBYyx5Q0FBeUMsK0RBQStELElBQUksY0FBYyxTQUFTLElBQUksd0JBQXdCLFNBQVMsMEJBQTBCLFlBQVksSUFBSSw2Q0FBNkMsU0FBUyxJQUFJLElBQUksaURBQWlELFNBQVMsS0FBSyxHQUFHLHFCQUFxQixhQUFhLHVEQUF1RCxhQUFhLE9BQU8sV0FBVyxLQUFLLG1CQUFtQixFQUFFLEVBQUUsYUFBYSxNQUFNLGVBQWUsZ0JBQWdCLHdCQUF3QiwyQ0FBMkMsbUVBQW1FLElBQUksWUFBWSxTQUFTLElBQUksc0JBQXNCLFNBQVMsd0JBQXdCLEtBQUssZ0JBQWdCLHdCQUF3QixjQUFjLHVCQUF1QixvQ0FBb0Msa0NBQWtDLG1CQUFtQix3QkFBd0IseUNBQXlDLDRCQUE0QixnQ0FBZ0Msd0NBQXdDLHFDQUFxQyxnS0FBZ0ssU0FBUyx1QkFBdUIsb0RBQW9ELGtCQUFrQixVQUFVLHFCQUFxQixrREFBa0Qsb0JBQW9CLFVBQVUsZUFBZSx3QkFBd0IsZ0JBQWdCLHlCQUF5QixrQkFBa0IsZ0JBQWdCLGdIQUFnSCwyRUFBMkUsZ0JBQWdCLHlCQUF5Qix1RUFBdUUsV0FBVyx1RUFBdUUsMkJBQTJCLHVFQUF1RSxZQUFZLCtCQUErQix1RUFBdUUsd0JBQXdCLGVBQWUsZ0RBQWdELGtDQUFrQyw4SUFBOEksbUJBQW1CLGNBQWMsTUFBTSxpQ0FBaUMsa0JBQWtCLG1CQUFtQixXQUFXLFdBQVcsb0NBQW9DLG9FQUFvRSx5Q0FBeUMsNENBQTRDLG9CQUFvQiw2QkFBNkIsSUFBSSx5RkFBeUYsWUFBWSxtQkFBbUIseUNBQXlDLE1BQU0sK0JBQStCLE1BQU0sd0NBQXdDLE1BQU0sNkNBQTZDLGdFQUFnRSxjQUFjLDhEQUE4RCxjQUFjLHFEQUFxRCwyQ0FBMkMsNkJBQTZCLDJDQUEyQyxzRUFBc0UsU0FBUyxnTkFBZ04sZ0JBQWdCLHNCQUFzQiw4QkFBOEIsTUFBTSwrQkFBK0IsMElBQTBJLFNBQVMsMEdBQTBHLGNBQWMsbUNBQW1DLGtCQUFrQixtQ0FBbUMsK0NBQStDLFNBQVMsZ0JBQWdCLHFCQUFxQixnTkFBZ04sY0FBYyxtQ0FBbUMsNEVBQTRFLGNBQWMsaUNBQWlDLGNBQWMsb0NBQW9DLGdEQUFnRCx5QkFBeUIsUUFBUSxrQkFBa0IsMENBQTBDLGdDQUFnQyxTQUFTLDBEQUEwRCw2QkFBNkIsbUNBQW1DLDZCQUE2QixnQ0FBZ0Msc0JBQXNCLGlCQUFpQixnQkFBZ0IsY0FBYyx1Q0FBdUMsMEJBQTBCLGlEQUFpRCwwQkFBMEIsMkRBQTJELFNBQVMsV0FBVyw4Q0FBOEMsaUJBQWlCLGlDQUFpQyx3REFBd0Qsa0NBQWtDLDRKQUE0Six1RkFBdUYsY0FBYyxPQUFPLCtHQUErRyxFQUFFLE9BQU8sVUFBVSwrREFBK0QsdUJBQXVCLEVBQUUsb0RBQW9ELE1BQU0sT0FBTyw4TUFBOE0sRUFBRSw2QkFBNkIsaUJBQWlCLFFBQVEsc1BBQXNQLHNCQUFzQixJQUFJLHVDQUF1QyxtQkFBbUIsTUFBTSx5SUFBeUksMENBQTBDLGlCQUFpQixNQUFNLDBHQUEwRyw2Q0FBNkMsaUJBQWlCLE1BQU0sMElBQTBJLDJDQUEyQyxpQkFBaUIsTUFBTSwyR0FBMkcsMkNBQTJDLGlCQUFpQixNQUFNLDhHQUE4RyxzQ0FBc0MsZUFBZSxpREFBaUQsWUFBWSx1QkFBdUIsdUJBQXVCLHFCQUFxQixXQUFXLGtCQUFrQixXQUFXLE9BQU8sdUJBQXVCLG1CQUFtQiw0Q0FBNEMsRUFBRSxHQUFHLG1CQUFtQixnQkFBZ0IsR0FBRyxRQUFRLGVBQWUsMk1BQTJNLG1CQUFtQixtQ0FBbUMsWUFBWSw2SEFBNkgsY0FBYyx1REFBdUQsaUJBQWlCLHlEQUF5RCw2REFBNkQsbUJBQW1CLDhEQUE4RCx5SUFBeUksNENBQTRDLG1DQUFtQyxvQ0FBb0MsdUNBQXVDLG1DQUFtQyxtQ0FBbUMsT0FBTyxtREFBbUQsbUNBQW1DLGVBQWUsMkJBQTJCLE1BQU0sZ0NBQWdDLDZIQUE2SCxPQUFPLG1DQUFtQyx5S0FBeUssR0FBRyxxQ0FBcUMsSUFBSSx5RkFBeUYsU0FBUyw0Q0FBNEMsUUFBUSxVQUFVLG1DQUFtQyx5SEFBeUgsb0VBQW9FLHVEQUF1RCxNQUFNLElBQUksb0JBQW9CLFNBQVMsZ0lBQWdJLGlDQUFpQyx5QkFBeUIsUUFBUSxZQUFZLHdCQUF3QixNQUFNLHNCQUFzQixNQUFNLGdCQUFnQixJQUFJLGdEQUFnRCxNQUFNLHFFQUFxRSw4QkFBOEIsUUFBUSx1QkFBdUIsMEJBQTBCLElBQUkseUpBQXlKLEVBQUUsR0FBRyx1QkFBdUIsK0RBQStELEVBQUUsVUFBVSxTQUFTLHlDQUF5Qyx1SkFBdUosTUFBTSxrRUFBa0UsV0FBVyxhQUFhLDJEQUEyRCxNQUFNLGtHQUFrRyxNQUFNLG9HQUFvRyxNQUFNLGdDQUFnQyw0QkFBNEIseUJBQXlCLGlCQUFpQixnQkFBZ0IscUJBQXFCLGdEQUFnRCxVQUFVLDRCQUE0QixTQUFTLDRCQUE0QixrQkFBa0IsVUFBVSx5Q0FBeUMsMEJBQTBCLGFBQWEsTUFBTSwrREFBK0QsMkNBQTJDLDhDQUE4QyxFQUFFLGlCQUFpQixFQUFFLGtDQUFrQyxnQkFBZ0IsNkVBQTZFLGVBQWUsRUFBRSxVQUFVLFNBQVMsMENBQTBDLHlJQUF5SSx1QkFBdUIsb0NBQW9DLHlCQUF5QixNQUFNLGVBQWUsUUFBUSxPQUFPLGdCQUFnQixVQUFVLG9DQUFvQyxNQUFNLHNDQUFzQyxNQUFNLE1BQU0sc0JBQXNCLE1BQU0sZ0JBQWdCLElBQUksK0RBQStELDJDQUEyQyxNQUFNLG9DQUFvQyxnREFBZ0QsRUFBRSxRQUFRLEVBQUUsaUJBQWlCLEVBQUUsZ0JBQWdCLEVBQUUsa0NBQWtDLGdCQUFnQiw2RUFBNkUsZUFBZSxFQUFFLFNBQVMsdUJBQXVCLG1DQUFtQyxLQUFLLFNBQVMscUNBQXFDLGlJQUFpSSxTQUFTLDRCQUE0QixrQkFBa0IsVUFBVSxxQ0FBcUMsMEJBQTBCLFVBQVUsTUFBTSxzQ0FBc0MsTUFBTSxNQUFNLHVDQUF1QyxNQUFNLGdCQUFnQixJQUFJLHFEQUFxRCwrREFBK0QsMEdBQTBHLCtCQUErQixzQkFBc0IsU0FBUyxFQUFFLEdBQUcsU0FBUywyQkFBMkIsRUFBRSxVQUFVLFNBQVMsbUNBQW1DLGlJQUFpSSxTQUFTLDRCQUE0QixrQkFBa0IsVUFBVSxtQ0FBbUMsMEJBQTBCLFVBQVUsTUFBTSw2QkFBNkIsTUFBTSxzQkFBc0IsTUFBTSxnQkFBZ0Isb0RBQW9ELFVBQVUsTUFBTSw4REFBOEQsRUFBRSxHQUFHLHNCQUFzQixNQUFNLGFBQWEsdUdBQXVHLFNBQVMsR0FBRyxpQkFBaUIsVUFBVSx3Q0FBd0MsU0FBUyw2QkFBNkIsb0NBQW9DLDBCQUEwQixFQUFFLGVBQWUsR0FBRyxHQUFHLGtDQUFrQyxzREFBc0QsZ0RBQWdELFNBQVMsMkJBQTJCLGdGQUFnRiwwQkFBMEIsRUFBRSxlQUFlLEdBQUcsR0FBRyxrQ0FBa0Msc0RBQXNELG9DQUFvQyxTQUFTLHdFQUF3RSxFQUFFLGVBQWUsR0FBRyxHQUFHLGtDQUFrQyxzREFBc0QsWUFBWSw2Q0FBNkMsZ0JBQWdCLHVCQUF1QixtQkFBbUIsU0FBUyxzRkFBc0YsNkRBQTZELFFBQVEsc0NBQXNDLFdBQVcsNkZBQTZGLFNBQVMsa0ZBQWtGLHVKQUF1SixXQUFXLGtEQUFrRCxvQkFBb0Isb0JBQW9CLElBQUksaUJBQWlCLFNBQVMsd0JBQXdCLDhDQUE4QyxRQUFRLGdCQUFnQix1QkFBdUIsZUFBZSxzQkFBc0IsYUFBYSxvQkFBb0IsZUFBZSxzQkFBc0IsYUFBYSxvQkFBb0IsdUJBQXVCLDJEQUEyRCwwREFBMEQsSUFBSSx3Q0FBd0MsSUFBSSxvQ0FBb0MsRUFBRSxFQUFFLEVBQUUsV0FBVyxTQUFTLE1BQU0sTUFBTSwwQkFBMEIsR0FBRywySkFBMkosMkNBQTJDLCtEQUErRCxTQUFTLGlDQUFpQyxNQUFNLGdDQUFnQywrQ0FBK0Msb0RBQW9ELEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxvQ0FBb0Msa0lBQWtJLDZWQUE2Vix1QkFBdUIsbU5BQW1OLElBQUkscUZBQXFGLE1BQU0seUJBQXlCLG1HQUFtRyxxQkFBcUIsZ0RBQWdELDRCQUE0Qiw2REFBNkQsZUFBZSx1QkFBdUIsdUJBQXVCLHFIQUFxSCxJQUFJLHVDQUF1QyxhQUFhLFFBQVEsd0RBQXdELE1BQU0sMkVBQTJFLGdCQUFnQix3Q0FBd0Msb0JBQW9CLFNBQVMsTUFBTSxPQUFPLCtDQUErQyx3QkFBd0IsU0FBUywwQ0FBMEMseUJBQXlCLEdBQUcseUJBQXlCLGVBQWUsV0FBVyxFQUFFLGFBQWEsc0JBQXNCLGdCQUFnQixzQkFBc0IsNEJBQTRCLEVBQUUsa0JBQWtCLEVBQUUsNkJBQTZCLEVBQUUsZ0JBQWdCLEVBQUUsK0JBQStCLG1CQUFtQixTQUFTLHNGQUFzRiw2REFBNkQsUUFBUSxzQ0FBc0MsV0FBVyw2RkFBNkYsU0FBUyxxQ0FBcUMsbUNBQW1DLCtDQUErQyx5TkFBeU4scUNBQXFDLDJHQUEyRyxxREFBcUQsU0FBUyxNQUFNLDBCQUEwQixNQUFNLE9BQU8sK0NBQStDLHVDQUF1Qyx3Q0FBd0MsZ0NBQWdDLFlBQVksY0FBYyxNQUFNLHNDQUFzQyxJQUFJLCtMQUErTCxTQUFTLCtCQUErQixrQ0FBa0MseUJBQXlCLE1BQU0sNkNBQTZDLElBQUksbUhBQW1ILFNBQVMsK0JBQStCLGtDQUFrQyxxQ0FBcUMsOEJBQThCLGdDQUFnQyxpQkFBaUIsTUFBTSxnQ0FBZ0MsSUFBSSxhQUFhLFNBQVMsNERBQTRELHNCQUFzQixJQUFJLHdCQUF3QixNQUFNLElBQUksYUFBYSxTQUFTLDREQUE0RCx1QkFBdUIsU0FBUywyQkFBMkIsRUFBRSw2RUFBNkUsdUJBQXVCLGlGQUFpRixpS0FBaUssU0FBUyw0QkFBNEIsc0JBQXNCLEVBQUUsT0FBTyx1QkFBdUIsMkNBQTJDLDhEQUE4RCxTQUFTLHFCQUFxQixzQkFBc0IsMEJBQTBCLEVBQUUsZUFBZSxHQUFHLEdBQUcsa0NBQWtDLHNEQUFzRCxjQUFjLDhGQUE4RixTQUFTLDZEQUE2RCxTQUFTLE1BQU0sb0ZBQW9GLDRFQUE0RSx3Q0FBd0MsS0FBSyxRQUFRLFFBQVEsNEVBQTRFLE9BQU8scUJBQXFCLGNBQWMsY0FBYyxtQ0FBbUMsR0FBRyw4QkFBOEIsTUFBTSxxQ0FBcUMsRUFBRSxvQ0FBb0MscUJBQXFCLHFGQUFxRix1Q0FBdUMsV0FBVyxZQUFZLFdBQVcsT0FBTyxTQUFTLGlFQUFpRSxxREFBcUQsOERBQThELGtCQUFrQixNQUFNLHFFQUFxRSxHQUFHLGdCQUFnQiw0Q0FBNEMsc0JBQXNCLFlBQVksRUFBRSxFQUFFLGtCQUFrQixNQUFNLGtEQUFrRCxHQUFHLHNFQUFzRSxhQUFhLHdCQUF3Qiw4REFBOEQseUJBQXlCLElBQUksZ0NBQWdDLGlDQUFpQyw4QkFBOEIsRUFBRSxTQUFTLHFEQUFxRCxFQUFFLElBQUkseUJBQXlCLElBQUksT0FBTyxRQUFRLDBMQUEwTCx5Q0FBeUMsTUFBTSxhQUFhLG9DQUFvQyxTQUFTLEdBQUcsa0JBQWtCLGtCQUFrQix5QkFBeUIsa0JBQWtCLHlCQUF5QixrQkFBa0IseUJBQXlCLGVBQWUsc0JBQXNCLDZCQUE2Qix1RkFBdUYsdUJBQXVCLDZCQUE2Qix3QkFBd0IsTUFBTSxPQUFPLHVDQUF1QyxTQUFTLFFBQVEsb0JBQW9CLHFDQUFxQyxVQUFVLDBCQUEwQix5SUFBeUksU0FBUyxPQUFPLHNFQUFzRSxpQ0FBaUMsa0NBQWtDLG1HQUFtRyxvSkFBb0osTUFBTSxnQ0FBZ0MsaUJBQWlCLHVCQUF1Qiw0QkFBNEIscUJBQXFCLG1DQUFtQyxJQUFJLGlDQUFpQyxzR0FBc0csb0JBQW9CLHVDQUF1Qyx1Q0FBdUMsMENBQTBDLDZDQUE2QyxFQUFFLHdDQUF3QywySkFBMkosNkJBQTZCLGlCQUFpQixNQUFNLG9HQUFvRyxVQUFVLGFBQWEsa0lBQWtJLFNBQVMsZUFBZSw0R0FBNEcsU0FBUyxlQUFlLGtHQUFrRyxTQUFTLEdBQUcsVUFBVSxlQUFlLGtCQUFrQixpRkFBaUYsa0dBQWtHLGtCQUFrQixrQ0FBa0Msa0RBQWtELE9BQU8sSUFBSSxJQUFJLEtBQUssU0FBUyxrQkFBa0IsZUFBZSxvQkFBb0Isa0ZBQWtGLGlDQUFpQyxRQUFRLHFCQUFxQix5REFBeUQsVUFBVSx1QkFBdUIsV0FBVyx3QkFBd0IsRUFBRSxpQkFBaUIsTUFBTSxhQUFhLE1BQU0sa0JBQWtCLFVBQVUsMENBQTBDLDRCQUE0Qix5QkFBeUIsMkJBQTJCLGtEQUFrRCxJQUFJLGVBQWUsc0JBQXNCLG1DQUFtQyxPQUFPLHlCQUF5Qix1REFBdUQsVUFBVSxrQkFBa0IsSUFBSSxPQUFPLCtCQUErQixTQUFTLE9BQU8scUJBQXFCLFNBQVMsMkVBQTJFLGNBQWMsY0FBYyxjQUFjLFNBQVMsZ0JBQWdCLGFBQWEsNkNBQTZDLDZCQUE2QiwrQ0FBK0MsY0FBYywrQ0FBK0MsbUJBQW1CLHlCQUF5QixHQUFHLEdBQUcsZ0JBQWdCLG9CQUFvQixrQkFBa0IscUJBQXFCLHNCQUFzQix5RkFBeUYsZ0JBQWdCLGVBQWUsaUJBQWlCLGtDQUFrQyxlQUFlLGVBQWUsd0JBQXdCLEdBQUcsU0FBUyxNQUFNLDJCQUEyQixhQUFhLDRCQUE0QixXQUFXLEdBQUcsNEJBQTRCLGdCQUFnQiwyQkFBMkIsVUFBVSx1Q0FBdUMscUZBQXFGLHVGQUF1RixTQUFTLDRCQUE0QiwwRUFBMEUsWUFBWSwyTkFBMk4sY0FBYyxPQUFPLGFBQWEsOEZBQThGLGNBQWMsdUJBQXVCLDRDQUE0QyxjQUFjLGtCQUFrQixjQUFjLG1DQUFtQyxjQUFjLE1BQU0sV0FBVyxzQkFBc0Isc0NBQXNDLHFCQUFxQix3QkFBd0IsS0FBSyxhQUFhLGdEQUFnRCw4QkFBOEIsaUJBQWlCLE9BQU8sUUFBUSxhQUFhLE9BQU8saUJBQWlCLDhIQUE4SCwwQ0FBMEMsa0VBQWtFLG9CQUFvQixrSUFBa0kscUJBQXFCLE9BQU8sV0FBVywwQ0FBMEMsWUFBWSwrQ0FBK0Msd0JBQXdCLDBCQUEwQiw2REFBNkQsK0JBQStCLEdBQUcseUNBQXlDLFlBQVksdUJBQXVCLDJCQUEyQixvQkFBb0IsU0FBUyx5QkFBeUIsZ0NBQWdDLEtBQUssU0FBUyxFQUFFLGNBQWMsdUNBQXVDLG9CQUFvQix5QkFBeUIsZ0NBQWdDLG9PQUFvTyxpQkFBaUIsYUFBYSxvQ0FBb0MsZ0NBQWdDLGlCQUFpQiwrQkFBK0IscUJBQXFCLFdBQVcsZ0JBQWdCLHdFQUF3RSxtQ0FBbUMsS0FBSyxLQUFLLHdDQUF3QyxxQ0FBcUMsd0JBQXdCLG9EQUFvRCxTQUFTLGdEQUFnRCxpREFBaUQsV0FBVyxnREFBZ0QsS0FBSyxnRUFBZ0Usb0RBQW9ELHNCQUFzQixtQ0FBbUMsS0FBSyxLQUFLLHlCQUF5Qix3RUFBd0UsUUFBUSxPQUFPLHlFQUF5RSx3QkFBd0IseUZBQXlGLHdCQUF3QixnQ0FBZ0Msb0xBQW9MLG9CQUFvQixtQ0FBbUMsS0FBSyxLQUFLLHlCQUF5QiwwRUFBMEUsbUJBQW1CLG1DQUFtQyxLQUFLLEtBQUsseUJBQXlCLGlCQUFpQixtQkFBbUIscUJBQXFCLFlBQVksS0FBSyxVQUFVLHlDQUF5QywrQkFBK0Isc0JBQXNCLHFDQUFxQyx1Q0FBdUMsR0FBRyxZQUFZLElBQUkscUJBQXFCLFNBQVMsMkNBQTJDLFFBQVEsV0FBVyxhQUFhLE9BQU8sYUFBYSw2TUFBNk0sV0FBVyxHQUFHLE9BQU8sYUFBYSxrTkFBa04sV0FBVyxHQUFHLHlDQUF5QyxZQUFZLE1BQU0sdUJBQXVCLElBQUksa0RBQWtELDRKQUE0SixnQkFBZ0IsNkJBQTZCLHNHQUFzRyxTQUFTLHFEQUFxRCx1R0FBdUcsb0dBQW9HLElBQUksc0NBQXNDLHVCQUF1Qiw4R0FBOEcsT0FBTyxTQUFTLG1EQUFtRCwyREFBMkQsNERBQTRELDBDQUEwQyx3QkFBd0IsR0FBRyxNQUFNLFdBQVcsRUFBRSxLQUFLLEdBQUcsR0FBRyxzQkFBc0IsMENBQTBDLHNCQUFzQixLQUFLLHNHQUFzRywyQkFBMkIsc0NBQXNDLHlCQUF5QixvRkFBb0YsS0FBSyx5RUFBeUUsS0FBSyx5QkFBeUIsT0FBTyxFQUFFLGFBQWEsT0FBTyxFQUFFLEdBQUcsdUJBQXVCLEVBQUUsRUFBRSxlQUFlLHNDQUFzQyx5RkFBeUYsb0JBQW9CLHlCQUF5QixHQUFHLEVBQUUsY0FBYyxHQUFHLGFBQWEsK0RBQStELCtCQUErQixxREFBcUQsMkJBQTJCLCtDQUErQyw2R0FBNkcsV0FBVyw2R0FBNkcsV0FBVyw0R0FBNEcsRUFBRSxFQUFFLDRDQUE0QyxtR0FBbUcsV0FBVyxtR0FBbUcsV0FBVyxtR0FBbUcsRUFBRSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsS0FBSyw4REFBOEQsRUFBRSwyQkFBMkIseUNBQXlDLEVBQUUsRUFBRSxJQUFJLGNBQWMsMEZBQTBGLFFBQVEsOERBQThELHlCQUF5QixNQUFNLG1DQUFtQyxJQUFJLGlCQUFpQixtQkFBbUIsZ0VBQWdFLEVBQUUsU0FBUywrREFBK0QsNkJBQTZCLFNBQVMsYUFBYSw0QkFBNEIsK0NBQStDLEVBQUUscUJBQXFCLE1BQU0sbUJBQW1CLE1BQU0sa0JBQWtCLDRDQUE0QyxTQUFTLGtCQUFrQix5REFBeUQsRUFBRSxXQUFXLG1CQUFtQixnQ0FBZ0MsSUFBSSwrQkFBK0IsT0FBTywwQ0FBMEMsc0JBQXNCLFdBQVcsRUFBRSxHQUFHLFNBQVMsU0FBUywyQkFBMkIsdUJBQXVCLGFBQWEsTUFBTSwwQ0FBMEMsK0JBQStCLElBQUksK0JBQStCLE9BQU8sMENBQTBDLHNCQUFzQixZQUFZLHNCQUFzQixXQUFXLEVBQUUsR0FBRyxTQUFTLFNBQVMsMkJBQTJCLGlHQUFpRyxFQUFFLEdBQUcsS0FBSyxrRUFBa0UsTUFBTSxPQUFPLDBDQUEwQyxzQkFBc0IseUNBQXlDLElBQUksU0FBUyw2RUFBNkUsMERBQTBELFNBQVMsb0JBQW9CLCtUQUErVCxrQ0FBa0MsTUFBTSxpQkFBaUIsbURBQW1ELG9CQUFvQixpQkFBaUIsa0hBQWtILElBQUksc0NBQXNDLDBDQUEwQyxTQUFTLHlCQUF5QixHQUFHLGlCQUFpQix5Q0FBeUMsSUFBSSw0RkFBNEYscUhBQXFILFNBQVMsaUNBQWlDLCtCQUErQiwrRkFBK0YsNENBQTRDLElBQUksd0NBQXdDLDhEQUE4RCxJQUFJLHVCQUF1QixZQUFZLGtMQUFrTCxPQUFPLEdBQUcsTUFBTSxVQUFVLEdBQUcsb05BQW9OLE9BQU8sR0FBRyx3S0FBd0ssc0RBQXNELG1DQUFtQyxTQUFTLGlDQUFpQyx1RUFBdUUsSUFBSSx1QkFBdUIsWUFBWSxrTEFBa0wsT0FBTyxHQUFHLE1BQU0sVUFBVSxHQUFHLG9OQUFvTixPQUFPLEdBQUcsc0tBQXNLLGtDQUFrQyxFQUFFLHNEQUFzRCxtQ0FBbUMsU0FBUyxpQ0FBaUMsZUFBZSxnREFBZ0Qsc01BQXNNLDBEQUEwRCw0Q0FBNEMsU0FBUyxvQ0FBb0MsaUNBQWlDLGVBQWUsWUFBWSx1Q0FBdUMsSUFBSSxnREFBZ0Qsd0lBQXdJLDZIQUE2SCxpRkFBaUYsNEVBQTRFLE1BQU0sNEJBQTRCLE1BQU0sU0FBUyx5RUFBeUUsb0hBQW9ILEdBQUcsTUFBTSxjQUFjLG9CQUFvQixTQUFTLDJEQUEyRCwrR0FBK0csWUFBWSxlQUFlLEtBQUssSUFBSSxJQUFJLEVBQUUsT0FBTyxtREFBbUQsU0FBUyxtREFBbUQsT0FBTyxzREFBc0Qsc0JBQXNCLHFCQUFxQiwyRUFBMkUsS0FBSyxNQUFNLFNBQVMsa0RBQWtELGdHQUFnRyxNQUFNLHFCQUFxQixJQUFJLE9BQU8sc0RBQXNELHNCQUFzQixZQUFZLHNCQUFzQixxQkFBcUIsK0VBQStFLGtEQUFrRCxTQUFTLGlDQUFpQywyQkFBMkIsMkNBQTJDLElBQUksU0FBUyw0QkFBNEIsY0FBYyw4SEFBOEgsb0hBQW9ILEdBQUcsWUFBWSxZQUFZLGFBQWEsRUFBRSxnRkFBZ0YsYUFBYSxzREFBc0QsU0FBUyxpQ0FBaUMsbUJBQW1CLDJDQUEyQyxJQUFJLFFBQVEsaUJBQWlCLE1BQU0scUJBQXFCLGlDQUFpQywrRUFBK0UsS0FBSyw0QkFBNEIsYUFBYSxnQ0FBZ0MsR0FBRyxrQ0FBa0MsV0FBVyxTQUFTLFlBQVksdUJBQXVCLE1BQU0sS0FBSyxNQUFNLHVDQUF1QyxHQUFHLEtBQUssNEJBQTRCLGNBQWMsOEhBQThILG9IQUFvSCxHQUFHLFlBQVksWUFBWSx1QkFBdUIsc0JBQXNCLHNCQUFzQixzQkFBc0IsVUFBVSxvSUFBb0ksU0FBUyxtQ0FBbUMsV0FBVyxNQUFNLGNBQWMsV0FBVywrQkFBK0IsWUFBWSwyQkFBMkIsZ0VBQWdFLGtCQUFrQiwrREFBK0QsdUJBQXVCLEVBQUUsZ0JBQWdCLGlEQUFpRCxJQUFJLDJDQUEyQyxTQUFTLDBDQUEwQyw0R0FBNEcsNkY7Ozs7Ozs7Ozs7O0FDRDdyM1A7O0FBRVosa0JBQWtCO0FBQ2xCLG1CQUFtQjtBQUNuQixxQkFBcUI7O0FBRXJCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsVUFBVTtBQUNyRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNySkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVk7O0FBRVosZUFBZSxtQkFBTyxDQUFDLHdEQUFXO0FBQ2xDLGdCQUFnQixtQkFBTyxDQUFDLG9EQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZCxrQkFBa0I7QUFDbEIseUJBQXlCOztBQUV6QjtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxFQUFFO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxZQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtB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Q0FBa0Msa0NBQWtDO0FBQ3BFLHlDQUF5Qyw0QkFBNEI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSx1QkFBdUI7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsMkNBQTJDLElBQUk7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTO0FBQ1Q7QUFDQTtBQUNBLDRFQUE0RSxlQUFlO0FBQzNGLGFBQWE7QUFDYiw0RUFBNEUsNEJBQTRCO0FBQ3hHLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsNkNBQTZDO0FBQ3ZHO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDJEQUEyRDtBQUN6RyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsK0JBQStCLGFBQWE7QUFDNUMsb0NBQW9DO0FBQ3BDLFNBQVM7QUFDVCx1QkFBdUIsbUJBQW1CLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsY0FBYztBQUM3QyxvQ0FBb0M7QUFDcEMsU0FBUztBQUNUO0FBQ0EsK0JBQStCLHlCQUF5QjtBQUN4RCxvQ0FBb0M7QUFDcEMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELHVEQUF1RCxzQkFBc0Isc0NBQXNDLHNCQUFzQixzQkFBc0IsdUNBQXVDO0FBQ3JRLDRDQUE0Qyx5Q0FBeUMsSUFBSTtBQUN6RixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsdURBQXVELHdCQUF3QjtBQUM5STtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsSUFBSTtBQUN6QixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFNBQVM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsbUJBQW1CO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxpREFBaUQscUNBQXFDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQXlEO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELG1EQUFtRDtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix3QkFBd0I7QUFDdkQsd0RBQXdELG1EQUFtRDtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixnQkFBZ0I7QUFDM0csYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwyRUFBMkU7QUFDekc7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxvRUFBb0UsSUFBSSwrQ0FBK0M7QUFDdEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw4QkFBOEI7QUFDdEUsMkNBQTJDLHNDQUFzQztBQUNqRixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsMENBQTBDO0FBQ2xHLG9DQUFvQyxxQkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5QkFBeUIsNkNBQTZDO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLHlCQUF5QjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsNkJBQTZCO0FBQ2pILDhCQUE4QixpQkFBaUIsaURBQWlEO0FBQ2hHO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsWUFBWTtBQUN2RDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLDREQUE0RDtBQUM1RDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esb0RBQW9ELE9BQU87QUFDM0QsZ0ZBQWdGLHNDQUFzQztBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxpRkFBaUY7QUFDNUgsYUFBYSx3QkFBd0IsaUZBQWlGO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsMkJBQTJCLGlGQUFpRixJQUFJO0FBQy9LLHVDQUF1QyxpRkFBaUY7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsMkJBQTJCLDJDQUEyQyxJQUFJO0FBQ3pJLHVDQUF1Qyw0RUFBNEU7QUFDbkg7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDJCQUEyQixvREFBb0QsSUFBSTtBQUNsSix1Q0FBdUMsNEVBQTRFO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDJCQUEyQixtQ0FBbUMsc0NBQXNDLElBQUk7QUFDekgsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVGQUF1RjtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVGQUF1RjtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELG1CQUFtQjtBQUNoRixvRUFBb0UsdUJBQXVCO0FBQzNGO0FBQ0E7QUFDQSwyQ0FBMkMsMENBQTBDO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxnQkFBZ0I7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsZ0JBQWdCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMENBQTBDO0FBQ3JGLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsT0FBTztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxxRkFBcUYsbUJBQW1CO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxzQkFBc0I7QUFDekQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QscUNBQXFDO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsNkJBQTZCLG1CQUFtQiwwQkFBMEI7QUFDcko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxtQ0FBbUM7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMsd0VBQXdFLHNCQUFzQixtQkFBbUIsa0JBQWtCLFVBQVUsaUJBQWlCLGdCQUFnQixVQUFVO0FBQ3hMLDhFQUE4RSxzQkFBc0I7QUFDcEc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLHNDQUFzQztBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELDhDQUE4QztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwQkFBMEIsb0NBQW9DO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxTQUFTLGVBQWU7QUFDM0UsNENBQTRDLGVBQWU7QUFDM0Q7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHdCQUF3Qiw0Q0FBNEMsYUFBYTtBQUN4STtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QseUJBQXlCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0NBQWdDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsY0FBYztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxhQUFhO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxnQkFBZ0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxXQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw4Q0FBOEM7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzQkFBc0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdCQUF3QixrREFBa0QsSUFBSSxxQkFBcUI7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdCQUF3QixtREFBbUQsSUFBSTtBQUNoSDtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx1QkFBdUIsdUNBQXVDO0FBQ2hILHVEQUF1RCxxREFBcUQ7QUFDNUc7QUFDQSx3REFBd0QsZUFBZSxZQUFZO0FBQ25GO0FBQ0EsaUlBQWlJLHVCQUF1QjtBQUN4SjtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlEQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLHdCQUF3QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JELDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JELDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywrQkFBK0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLDREQUE0RCxrQkFBa0I7QUFDOUUsNERBQTRELGtCQUFrQjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSw2RUFBNkU7QUFDbko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxnQkFBZ0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx3REFBd0Q7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxpRUFBaUU7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwyQkFBMkI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsNkNBQTZDO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDhDQUE4QztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxvREFBb0Q7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsdUNBQXVDO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSwrQkFBK0I7QUFDakc7QUFDQTtBQUNBLGtFQUFrRSxvQkFBb0I7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSw2QkFBNkI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSw2QkFBNkIsNEJBQTRCLElBQUk7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsa0RBQWtEO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsMEJBQTBCO0FBQ3BFO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLDRDQUE0QztBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0EsNkNBQTZDLDRDQUE0QztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsK0NBQStDO0FBQ2hGLGlDQUFpQztBQUNqQztBQUNBLGlDQUFpQyxnREFBZ0Q7QUFDakYsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELHdGQUF3RjtBQUNwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0JBQStCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGdDQUFnQztBQUM1RjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsMENBQTBDO0FBQzFDLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSw4Q0FBOEM7QUFDM0gsc0VBQXNFLDhDQUE4QztBQUNwSDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLDRDQUE0Qyx5QkFBeUI7QUFDckU7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxpQkFBaUI7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZ0VBQWdFLG1CQUFtQiwrREFBK0Q7QUFDaE07QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLDZCQUE2QjtBQUM5RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGtDQUFrQztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMkZBQTJGLGdDQUFnQztBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixvRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsNEJBQTRCLHNDQUFzQztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrRkFBa0Y7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVk7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsWUFBWTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx3REFBd0Q7QUFDakg7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGLG9CQUFvQjtBQUM5RztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEUsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxvREFBb0QscUJBQXFCLGVBQWU7QUFDcEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxZQUFZO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELGlCQUFpQiw2QkFBNkI7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxrQkFBa0I7QUFDdkU7QUFDQTtBQUNBLHFEQUFxRCxrQkFBa0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFlBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxtQ0FBbUM7QUFDaEc7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0Usd0NBQXdDO0FBQ3hHO0FBQ0EsMENBQTBDLHNDQUFzQztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsZ0NBQWdDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQywrQkFBK0I7QUFDOUU7QUFDQSxrRUFBa0Usb0VBQW9FO0FBQ3RJO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsd0VBQXdFO0FBQzFIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDJDQUEyQyxnQkFBZ0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHNDQUFzQztBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsZ0NBQWdDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixnRUFBZ0Usc0NBQXNDO0FBQ3RHO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsaUdBQWlHLHVCQUF1QjtBQUN4SDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRiwwQkFBMEI7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0RBQXdEO0FBQ3RFLGNBQWMsNkJBQTZCO0FBQzNDLHlDQUF5Qyw4QkFBOEI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtREFBbUQsMkNBQTJDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsMkNBQTJDO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMENBQTBDLGlCQUFpQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFtQjtBQUM5RCw4Q0FBOEMsNkJBQTZCO0FBQzNFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsWUFBWTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTLHdCQUF3QixtQ0FBbUM7QUFDcEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHFFQUFxRSxJQUFJLE1BQU07QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSw4Q0FBOEMsbUNBQW1DO0FBQ2pGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywwQkFBMEI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBNEM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBNEM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsNEVBQTRFLHVEQUF1RDtBQUNuSTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0Esd0RBQXdELGdCQUFnQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsbUJBQW1CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxnQkFBZ0I7QUFDdEY7QUFDQTtBQUNBLGtEQUFrRCx1QkFBdUI7QUFDekU7QUFDQTtBQUNBLG1FQUFtRSx5Q0FBeUM7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGlDQUFpQztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsa0NBQWtDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSw4QkFBOEI7QUFDaEc7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLDJDQUEyQywrQkFBK0IsK0JBQStCLCtCQUErQjtBQUN4STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0JBQXdCO0FBQzNELDREQUE0RCxzRUFBc0U7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBLGdJQUFnSTtBQUNoSSxxREFBcUQscUJBQXFCO0FBQzFFO0FBQ0E7QUFDQSw0REFBNEQsV0FBVztBQUN2RSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFdBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELG9CQUFvQjtBQUMvRTtBQUNBLGdPQUFnTztBQUNoTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCwrQkFBK0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0JBQWdCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsVUFBVTtBQUMzRTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsaURBQWlELFlBQVksNEJBQTRCLGFBQWEsc0ZBQXNGO0FBQzVMO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrQkFBa0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsK0NBQStDO0FBQ3JHLHVCQUF1QjtBQUN2QjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNEJBQTRCLGVBQWU7QUFDakY7QUFDQTtBQUNBLDBEQUEwRCxnQkFBZ0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLDZCQUE2QjtBQUNoSDtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsNkJBQTZCO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRiw2QkFBNkI7QUFDaEg7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLDBCQUEwQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxVQUFVLFlBQVksZUFBZTtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLG9EQUFvRCxpQkFBaUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLGlDQUFpQztBQUNqQyxzRUFBc0UsMkNBQTJDO0FBQ2pIO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNDQUFzQyxpQ0FBaUMsZ0JBQWdCO0FBQzVJO0FBQ0E7QUFDQSx3REFBd0QsNENBQTRDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0EsMEZBQTBGLFlBQVksbURBQW1EO0FBQ3pKO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QjtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwyREFBMkQ7QUFDekY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMENBQTBDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxZQUFZO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsV0FBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RyxzRUFBc0U7QUFDbkwseURBQXlELFlBQVk7QUFDckU7QUFDQTtBQUNBLHlGQUF5RjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyxZQUFZO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsK0NBQStDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RiwyQkFBMkI7QUFDbkgsZ0dBQWdHLHFDQUFxQztBQUNySSxzRkFBc0YsU0FBUztBQUMvRjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLG9HQUFvRztBQUNwRztBQUNBLDZCQUE2QjtBQUM3QiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDZDQUE2QztBQUMzRixrREFBa0Qsd0RBQXdEO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsVUFBVSxlQUFlO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0QseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0QseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdELHlEQUF5RDtBQUN6RCxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsbUJBQW1CO0FBQ25CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRCwrQ0FBK0MsOEJBQThCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsNkRBQTZELDhCQUE4QjtBQUMzRjtBQUNBO0FBQ0EsaUVBQWlFLDhCQUE4QjtBQUMvRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsc0NBQXNDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsMkJBQTJCO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsZ0RBQWdELDJCQUEyQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RiwyQkFBMkI7QUFDbEg7QUFDQTtBQUNBLHNDQUFzQyxvRUFBb0U7QUFDMUc7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDJCQUEyQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHVEQUF1RDtBQUMzSDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFdBQVc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHNCQUFzQjtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRywrQkFBK0I7QUFDL0g7QUFDQSx5R0FBeUcsZ0JBQWdCO0FBQ3pIO0FBQ0EsdUZBQXVGLGdCQUFnQjtBQUN2RztBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsNENBQTRDO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtSEFBbUgsK0JBQStCO0FBQ2xKLHlHQUF5RyxnQkFBZ0I7QUFDekg7QUFDQSx1RkFBdUYsZ0JBQWdCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtHQUErRyw0Q0FBNEM7QUFDM0o7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLGdCQUFnQjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsNENBQTRDO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLG1CQUFtQjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esc0RBQXNELGdCQUFnQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrSkFBK0oscUJBQXFCO0FBQ3BMO0FBQ0Esa0ZBQWtGLFVBQVU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EseUNBQXlDLEdBQUc7QUFDNUM7QUFDQTtBQUNBLGlFQUFpRSx1RUFBdUU7QUFDeEksaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxPQUFPO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pELHlEQUF5RDtBQUN6RCw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMkJBQTJCO0FBQzNCO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxzRkFBc0YsK0JBQStCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdCQUF3QjtBQUN0RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGlHQUFpRztBQUNqRztBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsbUVBQW1FO0FBQzlHLHdDQUF3Qyx3Q0FBd0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCwwQkFBMEI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSw4Q0FBOEMsc0JBQXNCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSwwQ0FBMEM7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBCQUEwQjtBQUN2RDtBQUNBLCtCQUErQiw2RUFBNkU7QUFDNUcsK0NBQStDLDJCQUEyQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDBCQUEwQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3QkFBd0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsaUJBQWlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZ0NBQWdDO0FBQ25HLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxZQUFZO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw0Q0FBNEM7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDRDQUE0QztBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDJEQUEyRDtBQUNqSCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRDQUE0QztBQUM1Qyw0Q0FBNEM7QUFDNUM7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBLCtDQUErQyxZQUFZO0FBQzNEO0FBQ0EsU0FBUztBQUNUO0FBQ0EscUNBQXFDLFlBQVk7QUFDakQ7QUFDQTtBQUNBLGFBQWEsNkNBQTZDLGVBQWU7QUFDekUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsK0JBQStCO0FBQy9CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGVBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxQkFBcUI7QUFDckQseUNBQXlDLHVDQUF1QyxHQUFHO0FBQ25GOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwyQkFBMkI7QUFDekY7QUFDQSwrQkFBK0Isd0JBQXdCO0FBQ3ZEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0M7QUFDdkU7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxzQ0FBc0MsWUFBWTtBQUNsRDs7QUFFQTtBQUNBLHNDQUFzQyxlQUFlO0FBQ3JEOztBQUVBO0FBQ0Esc0NBQXNDLHVCQUF1QjtBQUM3RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLHNDQUFzQyxrQkFBa0I7O0FBRXhEOztBQUVBLENBQUM7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2p6TEE7QUFDQTtBQUNBO0FBQ3FDO0FBQ3JDO0FBQ0Esb0VBQW9FLDJDQUFNO0FBQzFFLElBQUksa0RBQWE7QUFDakIsK0VBQStFLGtEQUFhLEVBQUUsTUFBTSxhQUFhO0FBQ2pIO0FBQ0EsUUFBUTtBQUNSLG1EQUFtRDtBQUVBO0FBQ25ELGlFQUFlLEtBQUssRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDYlEsMkRBQTJELGNBQWMsT0FBTywwQ0FBMEMsYUFBYSxrQ0FBa0Msb0JBQW9CLHNEQUFDLG1GQUFtRiwwQkFBMEIsT0FBTywrQ0FBK0MsK0JBQStCLHFCQUFxQix5QkFBeUIsMkJBQTJCLHFFQUFxRSxrRUFBa0UsU0FBUyx3RkFBd0YsZ0JBQWdCLGVBQWUsOEJBQThCLG9EQUFvRCxTQUFTLHVDQUF1QyxtQ0FBbUMsaUdBQWlHLHFEQUFxRCxPQUFPLG9CQUFvQixRQUFRLGlDQUFpQywwQkFBMEIsdUJBQXVCLHFCQUFxQixRQUFRLDhDQUE4QyxFQUFFLGlDQUFpQyxNQUFNLDhCQUE4QixLQUFLLCtFQUErRSxNQUFNLFdBQVcsdURBQXVELGtJQUFrSSxnREFBZ0Qsc0tBQXNLLHlCQUF5QixvREFBb0QsMkRBQTJELHNCQUFzQixHQUFHLElBQUksdUJBQXVCLDhCQUE4QixpQkFBaUIsT0FBTyxpRUFBZSxDQUFDLEVBQUM7QUFDdGlFOzs7Ozs7Ozs7Ozs7QUNEYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCLEdBQUcsRUFBRTtBQUNoQztBQUNBO0FBQ0EsK0NBQStDLE9BQU8sR0FBRyxFQUFFO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTyxHQUFHLEVBQUU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxFQUFFO0FBQ3JEO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWixZQUFZO0FBQ1osY0FBYztBQUNkLGFBQWE7QUFDYixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx3REFBd0Q7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGVBQWU7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxlQUFlO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsZUFBZTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxRQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWSxHQUFHLFdBQVc7QUFDN0MsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsYUFBYTtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGdGQUFnRixFQUFFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9B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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFVBQVUsY0FBYyxJQUFJO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ04sa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUiw2REFBNkQsV0FBVztBQUN4RTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsYUFBYTtBQUM1RztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsZUFBZTtBQUNsSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRCQUE0QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsZUFBZTtBQUNsSDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O1FBQ0gsQ0FBQztRQUNELGdCQUFnQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNsQyx5Q0FBeUM7WUFDekMsTUFBTSxnREFBUyxDQUFDLE1BQU0sQ0FBQyxJQUFXLENBQUMsQ0FBQztRQUNyQyxDQUFDO0tBQ0QsQ0FBQyxDQUFDO0lBRUgsTUFBTSxvREFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBRWxCLDBFQUEwRTtJQUMxRSxNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ25ELE1BQU0sY0FBYyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxLQUFLLElBQUksRUFBRTtRQUN2RCxNQUFNLG9EQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ25DLE1BQU0sR0FBRyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxLQUFLLFVBQVUseUJBQXlCO0lBQ3ZDLCtDQUErQztJQUMvQyxNQUFNLEdBQUcsR0FBRyxNQUFNLEdBQUcsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFL0MsbURBQW1EO0lBQ25ELE1BQU0sUUFBUSxHQUEyRCxNQUFNLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNqRyxPQUFPLFFBQVEsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDO0FBQ3RDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9jbG91ZC1pbnRlcm9wL291dC9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9taWNyb3NvZnQzNjUvb3BlbmZpbi5tczM2NS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL2RleGllL2Rpc3QvZGV4aWUuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvZGV4aWUvaW1wb3J0LXdyYXBwZXIubWpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL2h0bWwtcGFyc2Utc3RyaW5naWZ5L2Rpc3QvaHRtbC1wYXJzZS1zdHJpbmdpZnkubW9kdWxlLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL2kxOG5leHQvZGlzdC9janMvaTE4bmV4dC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC5kZWJvdW5jZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvSTE4bmV4dFByb3ZpZGVyLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9UcmFucy5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvVHJhbnNXaXRob3V0Q29udGV4dC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2RlZmF1bHRzLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9pMThuSW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9pbml0UmVhY3RJMThuZXh0LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91bmVzY2FwZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXNlU1NSLmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91c2VUcmFuc2xhdGlvbi5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL3dpdGhTU1IuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL3dpdGhUcmFuc2xhdGlvbi5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uLi8uLi9ub2RlX21vZHVsZXMvdGl0bGUtY2FzZS9kaXN0LmVzMjAxNS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4uLy4uL25vZGVfbW9kdWxlcy92b2lkLWVsZW1lbnRzL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi9jbGllbnQvc3JjL2FwcHMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy8uL2NsaWVudC9zcmMvaW50ZXJvcGJyb2tlci50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvd2VicGFjay9ydW50aW1lL2FtZCBvcHRpb25zIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tc3VwcG9ydC1jb250ZXh0LWFuZC1pbnRlbnRzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXN1cHBvcnQtY29udGV4dC1hbmQtaW50ZW50cy93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1zdXBwb3J0LWNvbnRleHQtYW5kLWludGVudHMvLi9jbGllbnQvc3JjL3Byb3ZpZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbnZhciBkcz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIHpnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dmFyIEtnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO3ZhciBHZz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciB3ZT0odCxlKT0+KCk9Pih0JiYoZT10KHQ9MCkpLGUpO3ZhciBNPSh0LGUpPT4oKT0+KGV8fHQoKGU9e2V4cG9ydHM6e319KS5leHBvcnRzLGUpLGUuZXhwb3J0cyksUXQ9KHQsZSk9Pntmb3IodmFyIHIgaW4gZSlkcyh0LHIse2dldDplW3JdLGVudW1lcmFibGU6ITB9KTt9LFFnPSh0LGUscixpKT0+e2lmKGUmJnR5cGVvZiBlPT1cIm9iamVjdFwifHx0eXBlb2YgZT09XCJmdW5jdGlvblwiKWZvcihsZXQgbiBvZiBLZyhlKSkhR2cuY2FsbCh0LG4pJiZuIT09ciYmZHModCxuLHtnZXQ6KCk9PmVbbl0sZW51bWVyYWJsZTohKGk9emcoZSxuKSl8fGkuZW51bWVyYWJsZX0pO3JldHVybiB0fTt2YXIgWD10PT5RZyhkcyh7fSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0KTt2YXIgQixfPXdlKCgpPT57Qj17ZGV2aWNlTWVtb3J5OjgsaGFyZHdhcmVDb25jdXJyZW5jeTo4LGxhbmd1YWdlOlwiZW4tVVNcIn07fSk7dmFyIFA9e307UXQoUCx7X2RlYnVnRW5kOigpPT55dSxfZGVidWdQcm9jZXNzOigpPT5ndSxfZXZlbnRzOigpPT5rdSxfZXZlbnRzQ291bnQ6KCk9Pnh1LF9leGl0aW5nOigpPT5ZbCxfZmF0YWxFeGNlcHRpb25zOigpPT5jdSxfZ2V0QWN0aXZlSGFuZGxlczooKT0+ZXUsX2dldEFjdGl2ZVJlcXVlc3RzOigpPT5abCxfa2lsbDooKT0+cnUsX2xpbmtlZEJpbmRpbmc6KCk9PkdsLF9tYXhMaXN0ZW5lcnM6KCk9Pk91LF9wcmVsb2FkX21vZHVsZXM6KCk9PkN1LF9yYXdEZWJ1ZzooKT0+emwsX3N0YXJ0UHJvZmlsZXJJZGxlTm90aWZpZXI6KCk9PmJ1LF9zdG9wUHJvZmlsZXJJZGxlTm90aWZpZXI6KCk9Pnd1LF90aWNrQ2FsbGJhY2s6KCk9PnB1LGFib3J0OigpPT5FdSxhZGRMaXN0ZW5lcjooKT0+TXUsYWxsb3dlZE5vZGVFbnZpcm9ubWVudEZsYWdzOigpPT5sdSxhcmNoOigpPT54bCxhcmd2OigpPT5VbCxhcmd2MDooKT0+UnUsYXNzZXJ0OigpPT51dSxiaW5kaW5nOigpPT5GbCxjaGRpcjooKT0+SGwsY29uZmlnOigpPT5KbCxjcHVVc2FnZTooKT0+RmksY3dkOigpPT4kbCxkZWJ1Z1BvcnQ6KCk9PlR1LGRlZmF1bHQ6KCk9PiR1LGRsb3BlbjooKT0+WGwsZG9tYWluOigpPT5RbCxlbWl0OigpPT5EdSxlbWl0V2FybmluZzooKT0+amwsZW52OigpPT5MbCxleGVjQXJndjooKT0+TmwsZXhlY1BhdGg6KCk9Pkl1LGV4aXQ6KCk9Pm91LGZlYXR1cmVzOigpPT5mdSxoYXNVbmNhdWdodEV4Y2VwdGlvbkNhcHR1cmVDYWxsYmFjazooKT0+ZHUsaHJ0aW1lOigpPT5qaSxraWxsOigpPT5zdSxsaXN0ZW5lcnM6KCk9Pld1LG1lbW9yeVVzYWdlOigpPT5udSxtb2R1bGVMb2FkTGlzdDooKT0+S2wsbmV4dFRpY2s6KCk9PlBsLG9mZjooKT0+VXUsb246KCk9PmJ0LG9uY2U6KCk9Pkx1LG9wZW5TdGRpbjooKT0+YXUscGlkOigpPT5TdSxwbGF0Zm9ybTooKT0+TWwscHBpZDooKT0+QXUscHJlcGVuZExpc3RlbmVyOigpPT5qdSxwcmVwZW5kT25jZUxpc3RlbmVyOigpPT5GdSxyZWFsbHlFeGl0OigpPT50dSxyZWxlYXNlOigpPT5WbCxyZW1vdmVBbGxMaXN0ZW5lcnM6KCk9PnF1LHJlbW92ZUxpc3RlbmVyOigpPT5OdSxyZXNvdXJjZVVzYWdlOigpPT5pdSxzZXRTb3VyY2VNYXBzRW5hYmxlZDooKT0+QnUsc2V0VW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2s6KCk9Pmh1LHN0ZGVycjooKT0+bXUsc3RkaW46KCk9PnZ1LHN0ZG91dDooKT0+X3UsdGl0bGU6KCk9PmtsLHVtYXNrOigpPT5XbCx1cHRpbWU6KCk9PlB1LHZlcnNpb246KCk9PnFsLHZlcnNpb25zOigpPT5EbH0pO2Z1bmN0aW9uIHlzKHQpe3Rocm93IG5ldyBFcnJvcihcIk5vZGUuanMgcHJvY2VzcyBcIit0K1wiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSlNQTSBjb3JlIG91dHNpZGUgb2YgTm9kZS5qc1wiKX1mdW5jdGlvbiBZZygpeyF4cnx8IVl0fHwoeHI9ITEsWXQubGVuZ3RoP3l0PVl0LmNvbmNhdCh5dCk6RGk9LTEseXQubGVuZ3RoJiZCbCgpKTt9ZnVuY3Rpb24gQmwoKXtpZigheHIpe3ZhciB0PXNldFRpbWVvdXQoWWcsMCk7eHI9ITA7Zm9yKHZhciBlPXl0Lmxlbmd0aDtlOyl7Zm9yKFl0PXl0LHl0PVtdOysrRGk8ZTspWXQmJll0W0RpXS5ydW4oKTtEaT0tMSxlPXl0Lmxlbmd0aDt9WXQ9bnVsbCx4cj0hMSxjbGVhclRpbWVvdXQodCk7fX1mdW5jdGlvbiBQbCh0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3l0LnB1c2gobmV3IE9sKHQsZSkpLHl0Lmxlbmd0aD09PTEmJiF4ciYmc2V0VGltZW91dChCbCwwKTt9ZnVuY3Rpb24gT2wodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZTt9ZnVuY3Rpb24gdmUoKXt9ZnVuY3Rpb24gR2wodCl7eXMoXCJfbGlua2VkQmluZGluZ1wiKTt9ZnVuY3Rpb24gWGwodCl7eXMoXCJkbG9wZW5cIik7fWZ1bmN0aW9uIFpsKCl7cmV0dXJuIFtdfWZ1bmN0aW9uIGV1KCl7cmV0dXJuIFtdfWZ1bmN0aW9uIHV1KHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGV8fFwiYXNzZXJ0aW9uIGVycm9yXCIpfWZ1bmN0aW9uIGR1KCl7cmV0dXJuICExfWZ1bmN0aW9uIFB1KCl7cmV0dXJuIE10Lm5vdygpLzFlM31mdW5jdGlvbiBqaSh0KXt2YXIgZT1NYXRoLmZsb29yKChEYXRlLm5vdygpLU10Lm5vdygpKSouMDAxKSxyPU10Lm5vdygpKi4wMDEsaT1NYXRoLmZsb29yKHIpK2Usbj1NYXRoLmZsb29yKHIlMSoxZTkpO3JldHVybiB0JiYoaT1pLXRbMF0sbj1uLXRbMV0sbjwwJiYoaS0tLG4rPWdzKSksW2ksbl19ZnVuY3Rpb24gYnQoKXtyZXR1cm4gJHV9ZnVuY3Rpb24gV3UodCl7cmV0dXJuIFtdfXZhciB5dCx4cixZdCxEaSxrbCx4bCxNbCxMbCxVbCxObCxxbCxEbCxqbCxGbCxXbCwkbCxIbCxWbCx6bCxLbCxRbCxZbCxKbCx0dSxydSxGaSxpdSxudSxzdSxvdSxhdSxsdSxmdSxjdSxodSxwdSxndSx5dSxidSx3dSxfdSxtdSx2dSxFdSxTdSxBdSxJdSxUdSxSdSxDdSxCdSxNdCxwcyxncyxPdSxrdSx4dSxNdSxMdSxVdSxOdSxxdSxEdSxqdSxGdSwkdSxIdT13ZSgoKT0+e3YoKTttKCk7XygpO3l0PVtdLHhyPSExLERpPS0xO09sLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpO307a2w9XCJicm93c2VyXCIseGw9XCJ4NjRcIixNbD1cImJyb3dzZXJcIixMbD17UEFUSDpcIi91c3IvYmluXCIsTEFORzpCLmxhbmd1YWdlK1wiLlVURi04XCIsUFdEOlwiL1wiLEhPTUU6XCIvaG9tZVwiLFRNUDpcIi90bXBcIn0sVWw9W1wiL3Vzci9iaW4vbm9kZVwiXSxObD1bXSxxbD1cInYxNi44LjBcIixEbD17fSxqbD1mdW5jdGlvbih0LGUpe2NvbnNvbGUud2FybigoZT9lK1wiOiBcIjpcIlwiKSt0KTt9LEZsPWZ1bmN0aW9uKHQpe3lzKFwiYmluZGluZ1wiKTt9LFdsPWZ1bmN0aW9uKHQpe3JldHVybiAwfSwkbD1mdW5jdGlvbigpe3JldHVybiBcIi9cIn0sSGw9ZnVuY3Rpb24odCl7fSxWbD17bmFtZTpcIm5vZGVcIixzb3VyY2VVcmw6XCJcIixoZWFkZXJzVXJsOlwiXCIsbGliVXJsOlwiXCJ9O3psPXZlLEtsPVtdO1FsPXt9LFlsPSExLEpsPXt9O3R1PXZlLHJ1PXZlLEZpPWZ1bmN0aW9uKCl7cmV0dXJuIHt9fSxpdT1GaSxudT1GaSxzdT12ZSxvdT12ZSxhdT12ZSxsdT17fTtmdT17aW5zcGVjdG9yOiExLGRlYnVnOiExLHV2OiExLGlwdjY6ITEsdGxzX2FscG46ITEsdGxzX3NuaTohMSx0bHNfb2NzcDohMSx0bHM6ITEsY2FjaGVkX2J1aWx0aW5zOiEwfSxjdT12ZSxodT12ZTtwdT12ZSxndT12ZSx5dT12ZSxidT12ZSx3dT12ZSxfdT12b2lkIDAsbXU9dm9pZCAwLHZ1PXZvaWQgMCxFdT12ZSxTdT0yLEF1PTEsSXU9XCIvYmluL3Vzci9ub2RlXCIsVHU9OTIyOSxSdT1cIm5vZGVcIixDdT1bXSxCdT12ZSxNdD17bm93OnR5cGVvZiBwZXJmb3JtYW5jZTxcInVcIj9wZXJmb3JtYW5jZS5ub3cuYmluZChwZXJmb3JtYW5jZSk6dm9pZCAwLHRpbWluZzp0eXBlb2YgcGVyZm9ybWFuY2U8XCJ1XCI/cGVyZm9ybWFuY2UudGltaW5nOnZvaWQgMH07TXQubm93PT09dm9pZCAwJiYocHM9RGF0ZS5ub3coKSxNdC50aW1pbmcmJk10LnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQmJihwcz1NdC50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSxNdC5ub3c9KCk9PkRhdGUubm93KCktcHMpO2dzPTFlOTtqaS5iaWdpbnQ9ZnVuY3Rpb24odCl7dmFyIGU9amkodCk7cmV0dXJuIHR5cGVvZiBCaWdJbnQ+XCJ1XCI/ZVswXSpncytlWzFdOkJpZ0ludChlWzBdKmdzKStCaWdJbnQoZVsxXSl9O091PTEwLGt1PXt9LHh1PTA7TXU9YnQsTHU9YnQsVXU9YnQsTnU9YnQscXU9YnQsRHU9dmUsanU9YnQsRnU9YnQ7JHU9e3ZlcnNpb246cWwsdmVyc2lvbnM6RGwsYXJjaDp4bCxwbGF0Zm9ybTpNbCxyZWxlYXNlOlZsLF9yYXdEZWJ1Zzp6bCxtb2R1bGVMb2FkTGlzdDpLbCxiaW5kaW5nOkZsLF9saW5rZWRCaW5kaW5nOkdsLF9ldmVudHM6a3UsX2V2ZW50c0NvdW50Onh1LF9tYXhMaXN0ZW5lcnM6T3Usb246YnQsYWRkTGlzdGVuZXI6TXUsb25jZTpMdSxvZmY6VXUscmVtb3ZlTGlzdGVuZXI6TnUscmVtb3ZlQWxsTGlzdGVuZXJzOnF1LGVtaXQ6RHUscHJlcGVuZExpc3RlbmVyOmp1LHByZXBlbmRPbmNlTGlzdGVuZXI6RnUsbGlzdGVuZXJzOld1LGRvbWFpbjpRbCxfZXhpdGluZzpZbCxjb25maWc6SmwsZGxvcGVuOlhsLHVwdGltZTpQdSxfZ2V0QWN0aXZlUmVxdWVzdHM6WmwsX2dldEFjdGl2ZUhhbmRsZXM6ZXUscmVhbGx5RXhpdDp0dSxfa2lsbDpydSxjcHVVc2FnZTpGaSxyZXNvdXJjZVVzYWdlOml1LG1lbW9yeVVzYWdlOm51LGtpbGw6c3UsZXhpdDpvdSxvcGVuU3RkaW46YXUsYWxsb3dlZE5vZGVFbnZpcm9ubWVudEZsYWdzOmx1LGFzc2VydDp1dSxmZWF0dXJlczpmdSxfZmF0YWxFeGNlcHRpb25zOmN1LHNldFVuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrOmh1LGhhc1VuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrOmR1LGVtaXRXYXJuaW5nOmpsLG5leHRUaWNrOlBsLF90aWNrQ2FsbGJhY2s6cHUsX2RlYnVnUHJvY2VzczpndSxfZGVidWdFbmQ6eXUsX3N0YXJ0UHJvZmlsZXJJZGxlTm90aWZpZXI6YnUsX3N0b3BQcm9maWxlcklkbGVOb3RpZmllcjp3dSxzdGRvdXQ6X3Usc3RkaW46dnUsc3RkZXJyOm11LGFib3J0OkV1LHVtYXNrOldsLGNoZGlyOkhsLGN3ZDokbCxlbnY6TGwsdGl0bGU6a2wsYXJndjpVbCxleGVjQXJndjpObCxwaWQ6U3UscHBpZDpBdSxleGVjUGF0aDpJdSxkZWJ1Z1BvcnQ6VHUsaHJ0aW1lOmppLGFyZ3YwOlJ1LF9wcmVsb2FkX21vZHVsZXM6Q3Usc2V0U291cmNlTWFwc0VuYWJsZWQ6QnV9O30pO3ZhciBtPXdlKCgpPT57SHUoKTt9KTt2YXIgX2U9e307UXQoX2Use0J1ZmZlcjooKT0+eCxJTlNQRUNUX01BWF9CWVRFUzooKT0+ZXksZGVmYXVsdDooKT0+THQsa01heExlbmd0aDooKT0+dHl9KTtmdW5jdGlvbiBKZygpe2lmKFZ1KXJldHVybiB1aTtWdT0hMCx1aS5ieXRlTGVuZ3RoPWEsdWkudG9CeXRlQXJyYXk9Yyx1aS5mcm9tQnl0ZUFycmF5PWc7Zm9yKHZhciB0PVtdLGU9W10scj10eXBlb2YgVWludDhBcnJheTxcInVcIj9VaW50OEFycmF5OkFycmF5LGk9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsbj0wLG89aS5sZW5ndGg7bjxvOysrbil0W25dPWlbbl0sZVtpLmNoYXJDb2RlQXQobildPW47ZVtcIi1cIi5jaGFyQ29kZUF0KDApXT02MixlW1wiX1wiLmNoYXJDb2RlQXQoMCldPTYzO2Z1bmN0aW9uIHMoeSl7dmFyIHc9eS5sZW5ndGg7aWYodyU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgRT15LmluZGV4T2YoXCI9XCIpO0U9PT0tMSYmKEU9dyk7dmFyIFM9RT09PXc/MDo0LUUlNDtyZXR1cm4gW0UsU119ZnVuY3Rpb24gYSh5KXt2YXIgdz1zKHkpLEU9d1swXSxTPXdbMV07cmV0dXJuIChFK1MpKjMvNC1TfWZ1bmN0aW9uIHUoeSx3LEUpe3JldHVybiAodytFKSozLzQtRX1mdW5jdGlvbiBjKHkpe3ZhciB3LEU9cyh5KSxTPUVbMF0sST1FWzFdLEM9bmV3IHIodSh5LFMsSSkpLFI9MCxVPUk+MD9TLTQ6UyxOO2ZvcihOPTA7TjxVO04rPTQpdz1lW3kuY2hhckNvZGVBdChOKV08PDE4fGVbeS5jaGFyQ29kZUF0KE4rMSldPDwxMnxlW3kuY2hhckNvZGVBdChOKzIpXTw8NnxlW3kuY2hhckNvZGVBdChOKzMpXSxDW1IrK109dz4+MTYmMjU1LENbUisrXT13Pj44JjI1NSxDW1IrK109dyYyNTU7cmV0dXJuIEk9PT0yJiYodz1lW3kuY2hhckNvZGVBdChOKV08PDJ8ZVt5LmNoYXJDb2RlQXQoTisxKV0+PjQsQ1tSKytdPXcmMjU1KSxJPT09MSYmKHc9ZVt5LmNoYXJDb2RlQXQoTildPDwxMHxlW3kuY2hhckNvZGVBdChOKzEpXTw8NHxlW3kuY2hhckNvZGVBdChOKzIpXT4+MixDW1IrK109dz4+OCYyNTUsQ1tSKytdPXcmMjU1KSxDfWZ1bmN0aW9uIGgoeSl7cmV0dXJuIHRbeT4+MTgmNjNdK3RbeT4+MTImNjNdK3RbeT4+NiY2M10rdFt5JjYzXX1mdW5jdGlvbiBkKHksdyxFKXtmb3IodmFyIFMsST1bXSxDPXc7QzxFO0MrPTMpUz0oeVtDXTw8MTYmMTY3MTE2ODApKyh5W0MrMV08PDgmNjUyODApKyh5W0MrMl0mMjU1KSxJLnB1c2goaChTKSk7cmV0dXJuIEkuam9pbihcIlwiKX1mdW5jdGlvbiBnKHkpe2Zvcih2YXIgdyxFPXkubGVuZ3RoLFM9RSUzLEk9W10sQz0xNjM4MyxSPTAsVT1FLVM7UjxVO1IrPUMpSS5wdXNoKGQoeSxSLFIrQz5VP1U6UitDKSk7cmV0dXJuIFM9PT0xPyh3PXlbRS0xXSxJLnB1c2godFt3Pj4yXSt0W3c8PDQmNjNdK1wiPT1cIikpOlM9PT0yJiYodz0oeVtFLTJdPDw4KSt5W0UtMV0sSS5wdXNoKHRbdz4+MTBdK3Rbdz4+NCY2M10rdFt3PDwyJjYzXStcIj1cIikpLEkuam9pbihcIlwiKX1yZXR1cm4gdWl9ZnVuY3Rpb24gWGcoKXtpZih6dSlyZXR1cm4gV2k7enU9ITA7cmV0dXJuIFdpLnJlYWQ9ZnVuY3Rpb24odCxlLHIsaSxuKXt2YXIgbyxzLGE9bio4LWktMSx1PSgxPDxhKS0xLGM9dT4+MSxoPS03LGQ9cj9uLTE6MCxnPXI/LTE6MSx5PXRbZStkXTtmb3IoZCs9ZyxvPXkmKDE8PC1oKS0xLHk+Pj0taCxoKz1hO2g+MDtvPW8qMjU2K3RbZStkXSxkKz1nLGgtPTgpO2ZvcihzPW8mKDE8PC1oKS0xLG8+Pj0taCxoKz1pO2g+MDtzPXMqMjU2K3RbZStkXSxkKz1nLGgtPTgpO2lmKG89PT0wKW89MS1jO2Vsc2Uge2lmKG89PT11KXJldHVybiBzP05hTjooeT8tMToxKSooMS8wKTtzPXMrTWF0aC5wb3coMixpKSxvPW8tYzt9cmV0dXJuICh5Py0xOjEpKnMqTWF0aC5wb3coMixvLWkpfSxXaS53cml0ZT1mdW5jdGlvbih0LGUscixpLG4sbyl7dmFyIHMsYSx1LGM9byo4LW4tMSxoPSgxPDxjKS0xLGQ9aD4+MSxnPW49PT0yMz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAseT1pPzA6by0xLHc9aT8xOi0xLEU9ZTwwfHxlPT09MCYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhhPWlzTmFOKGUpPzE6MCxzPWgpOihzPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHU9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sdSo9MikscytkPj0xP2UrPWcvdTplKz1nKk1hdGgucG93KDIsMS1kKSxlKnU+PTImJihzKyssdS89MikscytkPj1oPyhhPTAscz1oKTpzK2Q+PTE/KGE9KGUqdS0xKSpNYXRoLnBvdygyLG4pLHM9cytkKTooYT1lKk1hdGgucG93KDIsZC0xKSpNYXRoLnBvdygyLG4pLHM9MCkpO24+PTg7dFtyK3ldPWEmMjU1LHkrPXcsYS89MjU2LG4tPTgpO2ZvcihzPXM8PG58YSxjKz1uO2M+MDt0W3IreV09cyYyNTUseSs9dyxzLz0yNTYsYy09OCk7dFtyK3ktd118PUUqMTI4O30sV2l9ZnVuY3Rpb24gWmcoKXtpZihLdSlyZXR1cm4gSnQ7S3U9ITA7bGV0IHQ9SmcoKSxlPVhnKCkscj10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuZm9yPT1cImZ1bmN0aW9uXCI/U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpOm51bGw7SnQuQnVmZmVyPXMsSnQuU2xvd0J1ZmZlcj1JLEp0LklOU1BFQ1RfTUFYX0JZVEVTPTUwO2xldCBpPTIxNDc0ODM2NDc7SnQua01heExlbmd0aD1pLHMuVFlQRURfQVJSQVlfU1VQUE9SVD1uKCksIXMuVFlQRURfQVJSQVlfU1VQUE9SVCYmdHlwZW9mIGNvbnNvbGU8XCJ1XCImJnR5cGVvZiBjb25zb2xlLmVycm9yPT1cImZ1bmN0aW9uXCImJmNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC5cIik7ZnVuY3Rpb24gbigpe3RyeXtsZXQgcD1uZXcgVWludDhBcnJheSgxKSxsPXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGwsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihwLGwpLHAuZm9vKCk9PT00Mn1jYXRjaHtyZXR1cm4gITF9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcInBhcmVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHMuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcIm9mZnNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHMuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KTtmdW5jdGlvbiBvKHApe2lmKHA+aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJytwKydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKTtsZXQgbD1uZXcgVWludDhBcnJheShwKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGwscy5wcm90b3R5cGUpLGx9ZnVuY3Rpb24gcyhwLGwsZil7aWYodHlwZW9mIHA9PVwibnVtYmVyXCIpe2lmKHR5cGVvZiBsPT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7cmV0dXJuIGgocCl9cmV0dXJuIGEocCxsLGYpfXMucG9vbFNpemU9ODE5MjtmdW5jdGlvbiBhKHAsbCxmKXtpZih0eXBlb2YgcD09XCJzdHJpbmdcIilyZXR1cm4gZChwLGwpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhwKSlyZXR1cm4geShwKTtpZihwPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgcCk7aWYoWWUocCxBcnJheUJ1ZmZlcil8fHAmJlllKHAuYnVmZmVyLEFycmF5QnVmZmVyKXx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFwidVwiJiYoWWUocCxTaGFyZWRBcnJheUJ1ZmZlcil8fHAmJlllKHAuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpcmV0dXJuIHcocCxsLGYpO2lmKHR5cGVvZiBwPT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7bGV0IGI9cC52YWx1ZU9mJiZwLnZhbHVlT2YoKTtpZihiIT1udWxsJiZiIT09cClyZXR1cm4gcy5mcm9tKGIsbCxmKTtsZXQgQT1FKHApO2lmKEEpcmV0dXJuIEE7aWYodHlwZW9mIFN5bWJvbDxcInVcIiYmU3ltYm9sLnRvUHJpbWl0aXZlIT1udWxsJiZ0eXBlb2YgcFtTeW1ib2wudG9QcmltaXRpdmVdPT1cImZ1bmN0aW9uXCIpcmV0dXJuIHMuZnJvbShwW1N5bWJvbC50b1ByaW1pdGl2ZV0oXCJzdHJpbmdcIiksbCxmKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIHApfXMuZnJvbT1mdW5jdGlvbihwLGwsZil7cmV0dXJuIGEocCxsLGYpfSxPYmplY3Quc2V0UHJvdG90eXBlT2Yocy5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihzLFVpbnQ4QXJyYXkpO2Z1bmN0aW9uIHUocCl7aWYodHlwZW9mIHAhPVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKHA8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJytwKydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKX1mdW5jdGlvbiBjKHAsbCxmKXtyZXR1cm4gdShwKSxwPD0wP28ocCk6bCE9PXZvaWQgMD90eXBlb2YgZj09XCJzdHJpbmdcIj9vKHApLmZpbGwobCxmKTpvKHApLmZpbGwobCk6byhwKX1zLmFsbG9jPWZ1bmN0aW9uKHAsbCxmKXtyZXR1cm4gYyhwLGwsZil9O2Z1bmN0aW9uIGgocCl7cmV0dXJuIHUocCksbyhwPDA/MDpTKHApfDApfXMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24ocCl7cmV0dXJuIGgocCl9LHMuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHApe3JldHVybiBoKHApfTtmdW5jdGlvbiBkKHAsbCl7aWYoKHR5cGVvZiBsIT1cInN0cmluZ1wifHxsPT09XCJcIikmJihsPVwidXRmOFwiKSwhcy5pc0VuY29kaW5nKGwpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitsKTtsZXQgZj1DKHAsbCl8MCxiPW8oZiksQT1iLndyaXRlKHAsbCk7cmV0dXJuIEEhPT1mJiYoYj1iLnNsaWNlKDAsQSkpLGJ9ZnVuY3Rpb24gZyhwKXtsZXQgbD1wLmxlbmd0aDwwPzA6UyhwLmxlbmd0aCl8MCxmPW8obCk7Zm9yKGxldCBiPTA7YjxsO2IrPTEpZltiXT1wW2JdJjI1NTtyZXR1cm4gZn1mdW5jdGlvbiB5KHApe2lmKFllKHAsVWludDhBcnJheSkpe2xldCBsPW5ldyBVaW50OEFycmF5KHApO3JldHVybiB3KGwuYnVmZmVyLGwuYnl0ZU9mZnNldCxsLmJ5dGVMZW5ndGgpfXJldHVybiBnKHApfWZ1bmN0aW9uIHcocCxsLGYpe2lmKGw8MHx8cC5ieXRlTGVuZ3RoPGwpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYocC5ieXRlTGVuZ3RoPGwrKGZ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2xldCBiO3JldHVybiBsPT09dm9pZCAwJiZmPT09dm9pZCAwP2I9bmV3IFVpbnQ4QXJyYXkocCk6Zj09PXZvaWQgMD9iPW5ldyBVaW50OEFycmF5KHAsbCk6Yj1uZXcgVWludDhBcnJheShwLGwsZiksT2JqZWN0LnNldFByb3RvdHlwZU9mKGIscy5wcm90b3R5cGUpLGJ9ZnVuY3Rpb24gRShwKXtpZihzLmlzQnVmZmVyKHApKXtsZXQgbD1TKHAubGVuZ3RoKXwwLGY9byhsKTtyZXR1cm4gZi5sZW5ndGg9PT0wfHxwLmNvcHkoZiwwLDAsbCksZn1pZihwLmxlbmd0aCE9PXZvaWQgMClyZXR1cm4gdHlwZW9mIHAubGVuZ3RoIT1cIm51bWJlclwifHxocyhwLmxlbmd0aCk/bygwKTpnKHApO2lmKHAudHlwZT09PVwiQnVmZmVyXCImJkFycmF5LmlzQXJyYXkocC5kYXRhKSlyZXR1cm4gZyhwLmRhdGEpfWZ1bmN0aW9uIFMocCl7aWYocD49aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIitpLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gcHwwfWZ1bmN0aW9uIEkocCl7cmV0dXJuICtwIT1wJiYocD0wKSxzLmFsbG9jKCtwKX1zLmlzQnVmZmVyPWZ1bmN0aW9uKGwpe3JldHVybiBsIT1udWxsJiZsLl9pc0J1ZmZlcj09PSEwJiZsIT09cy5wcm90b3R5cGV9LHMuY29tcGFyZT1mdW5jdGlvbihsLGYpe2lmKFllKGwsVWludDhBcnJheSkmJihsPXMuZnJvbShsLGwub2Zmc2V0LGwuYnl0ZUxlbmd0aCkpLFllKGYsVWludDhBcnJheSkmJihmPXMuZnJvbShmLGYub2Zmc2V0LGYuYnl0ZUxlbmd0aCkpLCFzLmlzQnVmZmVyKGwpfHwhcy5pc0J1ZmZlcihmKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7aWYobD09PWYpcmV0dXJuIDA7bGV0IGI9bC5sZW5ndGgsQT1mLmxlbmd0aDtmb3IobGV0IFQ9MCxPPU1hdGgubWluKGIsQSk7VDxPOysrVClpZihsW1RdIT09ZltUXSl7Yj1sW1RdLEE9ZltUXTticmVha31yZXR1cm4gYjxBPy0xOkE8Yj8xOjB9LHMuaXNFbmNvZGluZz1mdW5jdGlvbihsKXtzd2l0Y2goU3RyaW5nKGwpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuICEwO2RlZmF1bHQ6cmV0dXJuICExfX0scy5jb25jYXQ9ZnVuY3Rpb24obCxmKXtpZighQXJyYXkuaXNBcnJheShsKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZihsLmxlbmd0aD09PTApcmV0dXJuIHMuYWxsb2MoMCk7bGV0IGI7aWYoZj09PXZvaWQgMClmb3IoZj0wLGI9MDtiPGwubGVuZ3RoOysrYilmKz1sW2JdLmxlbmd0aDtsZXQgQT1zLmFsbG9jVW5zYWZlKGYpLFQ9MDtmb3IoYj0wO2I8bC5sZW5ndGg7KytiKXtsZXQgTz1sW2JdO2lmKFllKE8sVWludDhBcnJheSkpVCtPLmxlbmd0aD5BLmxlbmd0aD8ocy5pc0J1ZmZlcihPKXx8KE89cy5mcm9tKE8pKSxPLmNvcHkoQSxUKSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoQSxPLFQpO2Vsc2UgaWYocy5pc0J1ZmZlcihPKSlPLmNvcHkoQSxUKTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO1QrPU8ubGVuZ3RoO31yZXR1cm4gQX07ZnVuY3Rpb24gQyhwLGwpe2lmKHMuaXNCdWZmZXIocCkpcmV0dXJuIHAubGVuZ3RoO2lmKEFycmF5QnVmZmVyLmlzVmlldyhwKXx8WWUocCxBcnJheUJ1ZmZlcikpcmV0dXJuIHAuYnl0ZUxlbmd0aDtpZih0eXBlb2YgcCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBwKTtsZXQgZj1wLmxlbmd0aCxiPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdPT09ITA7aWYoIWImJmY9PT0wKXJldHVybiAwO2xldCBBPSExO2Zvcig7Oylzd2l0Y2gobCl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gZjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gY3MocCkubGVuZ3RoO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBmKjI7Y2FzZVwiaGV4XCI6cmV0dXJuIGY+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBDbChwKS5sZW5ndGg7ZGVmYXVsdDppZihBKXJldHVybiBiPy0xOmNzKHApLmxlbmd0aDtsPShcIlwiK2wpLnRvTG93ZXJDYXNlKCksQT0hMDt9fXMuYnl0ZUxlbmd0aD1DO2Z1bmN0aW9uIFIocCxsLGYpe2xldCBiPSExO2lmKChsPT09dm9pZCAwfHxsPDApJiYobD0wKSxsPnRoaXMubGVuZ3RofHwoKGY9PT12b2lkIDB8fGY+dGhpcy5sZW5ndGgpJiYoZj10aGlzLmxlbmd0aCksZjw9MCl8fChmPj4+PTAsbD4+Pj0wLGY8PWwpKXJldHVybiBcIlwiO2ZvcihwfHwocD1cInV0ZjhcIik7Oylzd2l0Y2gocCl7Y2FzZVwiaGV4XCI6cmV0dXJuIE5nKHRoaXMsbCxmKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gQ3IodGhpcyxsLGYpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIHVzKHRoaXMsbCxmKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gVWcodGhpcyxsLGYpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBwZSh0aGlzLGwsZik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHFnKHRoaXMsbCxmKTtkZWZhdWx0OmlmKGIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3ApO3A9KHArXCJcIikudG9Mb3dlckNhc2UoKSxiPSEwO319cy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwO2Z1bmN0aW9uIFUocCxsLGYpe2xldCBiPXBbbF07cFtsXT1wW2ZdLHBbZl09Yjt9cy5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7bGV0IGw9dGhpcy5sZW5ndGg7aWYobCUyIT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2ZvcihsZXQgZj0wO2Y8bDtmKz0yKVUodGhpcyxmLGYrMSk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe2xldCBsPXRoaXMubGVuZ3RoO2lmKGwlNCE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IobGV0IGY9MDtmPGw7Zis9NClVKHRoaXMsZixmKzMpLFUodGhpcyxmKzEsZisyKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7bGV0IGw9dGhpcy5sZW5ndGg7aWYobCU4IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2ZvcihsZXQgZj0wO2Y8bDtmKz04KVUodGhpcyxmLGYrNyksVSh0aGlzLGYrMSxmKzYpLFUodGhpcyxmKzIsZis1KSxVKHRoaXMsZiszLGYrNCk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7bGV0IGw9dGhpcy5sZW5ndGg7cmV0dXJuIGw9PT0wP1wiXCI6YXJndW1lbnRzLmxlbmd0aD09PTA/Q3IodGhpcywwLGwpOlIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz1zLnByb3RvdHlwZS50b1N0cmluZyxzLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24obCl7aWYoIXMuaXNCdWZmZXIobCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT1sPyEwOnMuY29tcGFyZSh0aGlzLGwpPT09MH0scy5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe2xldCBsPVwiXCIsZj1KdC5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gbD10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxmKS5yZXBsYWNlKC8oLnsyfSkvZyxcIiQxIFwiKS50cmltKCksdGhpcy5sZW5ndGg+ZiYmKGwrPVwiIC4uLiBcIiksXCI8QnVmZmVyIFwiK2wrXCI+XCJ9LHImJihzLnByb3RvdHlwZVtyXT1zLnByb3RvdHlwZS5pbnNwZWN0KSxzLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGwsZixiLEEsVCl7aWYoWWUobCxVaW50OEFycmF5KSYmKGw9cy5mcm9tKGwsbC5vZmZzZXQsbC5ieXRlTGVuZ3RoKSksIXMuaXNCdWZmZXIobCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBsKTtpZihmPT09dm9pZCAwJiYoZj0wKSxiPT09dm9pZCAwJiYoYj1sP2wubGVuZ3RoOjApLEE9PT12b2lkIDAmJihBPTApLFQ9PT12b2lkIDAmJihUPXRoaXMubGVuZ3RoKSxmPDB8fGI+bC5sZW5ndGh8fEE8MHx8VD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihBPj1UJiZmPj1iKXJldHVybiAwO2lmKEE+PVQpcmV0dXJuIC0xO2lmKGY+PWIpcmV0dXJuIDE7aWYoZj4+Pj0wLGI+Pj49MCxBPj4+PTAsVD4+Pj0wLHRoaXM9PT1sKXJldHVybiAwO2xldCBPPVQtQSwkPWItZixzZT1NYXRoLm1pbihPLCQpLHRlPXRoaXMuc2xpY2UoQSxUKSxvZT1sLnNsaWNlKGYsYik7Zm9yKGxldCBKPTA7SjxzZTsrK0opaWYodGVbSl0hPT1vZVtKXSl7Tz10ZVtKXSwkPW9lW0pdO2JyZWFrfXJldHVybiBPPCQ/LTE6JDxPPzE6MH07ZnVuY3Rpb24gTihwLGwsZixiLEEpe2lmKHAubGVuZ3RoPT09MClyZXR1cm4gLTE7aWYodHlwZW9mIGY9PVwic3RyaW5nXCI/KGI9ZixmPTApOmY+MjE0NzQ4MzY0Nz9mPTIxNDc0ODM2NDc6ZjwtMjE0NzQ4MzY0OCYmKGY9LTIxNDc0ODM2NDgpLGY9K2YsaHMoZikmJihmPUE/MDpwLmxlbmd0aC0xKSxmPDAmJihmPXAubGVuZ3RoK2YpLGY+PXAubGVuZ3RoKXtpZihBKXJldHVybiAtMTtmPXAubGVuZ3RoLTE7fWVsc2UgaWYoZjwwKWlmKEEpZj0wO2Vsc2UgcmV0dXJuIC0xO2lmKHR5cGVvZiBsPT1cInN0cmluZ1wiJiYobD1zLmZyb20obCxiKSkscy5pc0J1ZmZlcihsKSlyZXR1cm4gbC5sZW5ndGg9PT0wPy0xOlcocCxsLGYsYixBKTtpZih0eXBlb2YgbD09XCJudW1iZXJcIilyZXR1cm4gbD1sJjI1NSx0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09XCJmdW5jdGlvblwiP0E/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHAsbCxmKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKHAsbCxmKTpXKHAsW2xdLGYsYixBKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIFcocCxsLGYsYixBKXtsZXQgVD0xLE89cC5sZW5ndGgsJD1sLmxlbmd0aDtpZihiIT09dm9pZCAwJiYoYj1TdHJpbmcoYikudG9Mb3dlckNhc2UoKSxiPT09XCJ1Y3MyXCJ8fGI9PT1cInVjcy0yXCJ8fGI9PT1cInV0ZjE2bGVcInx8Yj09PVwidXRmLTE2bGVcIikpe2lmKHAubGVuZ3RoPDJ8fGwubGVuZ3RoPDIpcmV0dXJuIC0xO1Q9MixPLz0yLCQvPTIsZi89Mjt9ZnVuY3Rpb24gc2Uob2UsSil7cmV0dXJuIFQ9PT0xP29lW0pdOm9lLnJlYWRVSW50MTZCRShKKlQpfWxldCB0ZTtpZihBKXtsZXQgb2U9LTE7Zm9yKHRlPWY7dGU8Tzt0ZSsrKWlmKHNlKHAsdGUpPT09c2UobCxvZT09PS0xPzA6dGUtb2UpKXtpZihvZT09PS0xJiYob2U9dGUpLHRlLW9lKzE9PT0kKXJldHVybiBvZSpUfWVsc2Ugb2UhPT0tMSYmKHRlLT10ZS1vZSksb2U9LTE7fWVsc2UgZm9yKGYrJD5PJiYoZj1PLSQpLHRlPWY7dGU+PTA7dGUtLSl7bGV0IG9lPSEwO2ZvcihsZXQgSj0wO0o8JDtKKyspaWYoc2UocCx0ZStKKSE9PXNlKGwsSikpe29lPSExO2JyZWFrfWlmKG9lKXJldHVybiB0ZX1yZXR1cm4gLTF9cy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24obCxmLGIpe3JldHVybiB0aGlzLmluZGV4T2YobCxmLGIpIT09LTF9LHMucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24obCxmLGIpe3JldHVybiBOKHRoaXMsbCxmLGIsITApfSxzLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihsLGYsYil7cmV0dXJuIE4odGhpcyxsLGYsYiwhMSl9O2Z1bmN0aW9uIEsocCxsLGYsYil7Zj1OdW1iZXIoZil8fDA7bGV0IEE9cC5sZW5ndGgtZjtiPyhiPU51bWJlcihiKSxiPkEmJihiPUEpKTpiPUE7bGV0IFQ9bC5sZW5ndGg7Yj5ULzImJihiPVQvMik7bGV0IE87Zm9yKE89MDtPPGI7KytPKXtsZXQgJD1wYXJzZUludChsLnN1YnN0cihPKjIsMiksMTYpO2lmKGhzKCQpKXJldHVybiBPO3BbZitPXT0kO31yZXR1cm4gT31mdW5jdGlvbiB6KHAsbCxmLGIpe3JldHVybiBxaShjcyhsLHAubGVuZ3RoLWYpLHAsZixiKX1mdW5jdGlvbiBRKHAsbCxmLGIpe3JldHVybiBxaShXZyhsKSxwLGYsYil9ZnVuY3Rpb24gZGUocCxsLGYsYil7cmV0dXJuIHFpKENsKGwpLHAsZixiKX1mdW5jdGlvbiBHdChwLGwsZixiKXtyZXR1cm4gcWkoJGcobCxwLmxlbmd0aC1mKSxwLGYsYil9cy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24obCxmLGIsQSl7aWYoZj09PXZvaWQgMClBPVwidXRmOFwiLGI9dGhpcy5sZW5ndGgsZj0wO2Vsc2UgaWYoYj09PXZvaWQgMCYmdHlwZW9mIGY9PVwic3RyaW5nXCIpQT1mLGI9dGhpcy5sZW5ndGgsZj0wO2Vsc2UgaWYoaXNGaW5pdGUoZikpZj1mPj4+MCxpc0Zpbml0ZShiKT8oYj1iPj4+MCxBPT09dm9pZCAwJiYoQT1cInV0ZjhcIikpOihBPWIsYj12b2lkIDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7bGV0IFQ9dGhpcy5sZW5ndGgtZjtpZigoYj09PXZvaWQgMHx8Yj5UKSYmKGI9VCksbC5sZW5ndGg+MCYmKGI8MHx8ZjwwKXx8Zj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO0F8fChBPVwidXRmOFwiKTtsZXQgTz0hMTtmb3IoOzspc3dpdGNoKEEpe2Nhc2VcImhleFwiOnJldHVybiBLKHRoaXMsbCxmLGIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB6KHRoaXMsbCxmLGIpO2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIFEodGhpcyxsLGYsYik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGRlKHRoaXMsbCxmLGIpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBHdCh0aGlzLGwsZixiKTtkZWZhdWx0OmlmKE8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK0EpO0E9KFwiXCIrQSkudG9Mb3dlckNhc2UoKSxPPSEwO319LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB7dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07ZnVuY3Rpb24gcGUocCxsLGYpe3JldHVybiBsPT09MCYmZj09PXAubGVuZ3RoP3QuZnJvbUJ5dGVBcnJheShwKTp0LmZyb21CeXRlQXJyYXkocC5zbGljZShsLGYpKX1mdW5jdGlvbiBDcihwLGwsZil7Zj1NYXRoLm1pbihwLmxlbmd0aCxmKTtsZXQgYj1bXSxBPWw7Zm9yKDtBPGY7KXtsZXQgVD1wW0FdLE89bnVsbCwkPVQ+MjM5PzQ6VD4yMjM/MzpUPjE5MT8yOjE7aWYoQSskPD1mKXtsZXQgc2UsdGUsb2UsSjtzd2l0Y2goJCl7Y2FzZSAxOlQ8MTI4JiYoTz1UKTticmVhaztjYXNlIDI6c2U9cFtBKzFdLChzZSYxOTIpPT09MTI4JiYoSj0oVCYzMSk8PDZ8c2UmNjMsSj4xMjcmJihPPUopKTticmVhaztjYXNlIDM6c2U9cFtBKzFdLHRlPXBbQSsyXSwoc2UmMTkyKT09PTEyOCYmKHRlJjE5Mik9PT0xMjgmJihKPShUJjE1KTw8MTJ8KHNlJjYzKTw8Nnx0ZSY2MyxKPjIwNDcmJihKPDU1Mjk2fHxKPjU3MzQzKSYmKE89SikpO2JyZWFrO2Nhc2UgNDpzZT1wW0ErMV0sdGU9cFtBKzJdLG9lPXBbQSszXSwoc2UmMTkyKT09PTEyOCYmKHRlJjE5Mik9PT0xMjgmJihvZSYxOTIpPT09MTI4JiYoSj0oVCYxNSk8PDE4fChzZSY2Myk8PDEyfCh0ZSY2Myk8PDZ8b2UmNjMsSj42NTUzNSYmSjwxMTE0MTEyJiYoTz1KKSk7fX1PPT09bnVsbD8oTz02NTUzMywkPTEpOk8+NjU1MzUmJihPLT02NTUzNixiLnB1c2goTz4+PjEwJjEwMjN8NTUyOTYpLE89NTYzMjB8TyYxMDIzKSxiLnB1c2goTyksQSs9JDt9cmV0dXJuIFByKGIpfWxldCBCcj00MDk2O2Z1bmN0aW9uIFByKHApe2xldCBsPXAubGVuZ3RoO2lmKGw8PUJyKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxwKTtsZXQgZj1cIlwiLGI9MDtmb3IoO2I8bDspZis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscC5zbGljZShiLGIrPUJyKSk7cmV0dXJuIGZ9ZnVuY3Rpb24gdXMocCxsLGYpe2xldCBiPVwiXCI7Zj1NYXRoLm1pbihwLmxlbmd0aCxmKTtmb3IobGV0IEE9bDtBPGY7KytBKWIrPVN0cmluZy5mcm9tQ2hhckNvZGUocFtBXSYxMjcpO3JldHVybiBifWZ1bmN0aW9uIFVnKHAsbCxmKXtsZXQgYj1cIlwiO2Y9TWF0aC5taW4ocC5sZW5ndGgsZik7Zm9yKGxldCBBPWw7QTxmOysrQSliKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBbQV0pO3JldHVybiBifWZ1bmN0aW9uIE5nKHAsbCxmKXtsZXQgYj1wLmxlbmd0aDsoIWx8fGw8MCkmJihsPTApLCghZnx8ZjwwfHxmPmIpJiYoZj1iKTtsZXQgQT1cIlwiO2ZvcihsZXQgVD1sO1Q8ZjsrK1QpQSs9SGdbcFtUXV07cmV0dXJuIEF9ZnVuY3Rpb24gcWcocCxsLGYpe2xldCBiPXAuc2xpY2UobCxmKSxBPVwiXCI7Zm9yKGxldCBUPTA7VDxiLmxlbmd0aC0xO1QrPTIpQSs9U3RyaW5nLmZyb21DaGFyQ29kZShiW1RdK2JbVCsxXSoyNTYpO3JldHVybiBBfXMucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGwsZil7bGV0IGI9dGhpcy5sZW5ndGg7bD1+fmwsZj1mPT09dm9pZCAwP2I6fn5mLGw8MD8obCs9YixsPDAmJihsPTApKTpsPmImJihsPWIpLGY8MD8oZis9YixmPDAmJihmPTApKTpmPmImJihmPWIpLGY8bCYmKGY9bCk7bGV0IEE9dGhpcy5zdWJhcnJheShsLGYpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoQSxzLnByb3RvdHlwZSksQX07ZnVuY3Rpb24gZ2UocCxsLGYpe2lmKHAlMSE9PTB8fHA8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZihwK2w+Zil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9cy5wcm90b3R5cGUucmVhZFVpbnRMRT1zLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGwsZixiKXtsPWw+Pj4wLGY9Zj4+PjAsYnx8Z2UobCxmLHRoaXMubGVuZ3RoKTtsZXQgQT10aGlzW2xdLFQ9MSxPPTA7Zm9yKDsrK088ZiYmKFQqPTI1Nik7KUErPXRoaXNbbCtPXSpUO3JldHVybiBBfSxzLnByb3RvdHlwZS5yZWFkVWludEJFPXMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24obCxmLGIpe2w9bD4+PjAsZj1mPj4+MCxifHxnZShsLGYsdGhpcy5sZW5ndGgpO2xldCBBPXRoaXNbbCstLWZdLFQ9MTtmb3IoO2Y+MCYmKFQqPTI1Nik7KUErPXRoaXNbbCstLWZdKlQ7cmV0dXJuIEF9LHMucHJvdG90eXBlLnJlYWRVaW50OD1zLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24obCxmKXtyZXR1cm4gbD1sPj4+MCxmfHxnZShsLDEsdGhpcy5sZW5ndGgpLHRoaXNbbF19LHMucHJvdG90eXBlLnJlYWRVaW50MTZMRT1zLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24obCxmKXtyZXR1cm4gbD1sPj4+MCxmfHxnZShsLDIsdGhpcy5sZW5ndGgpLHRoaXNbbF18dGhpc1tsKzFdPDw4fSxzLnByb3RvdHlwZS5yZWFkVWludDE2QkU9cy5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGwsZil7cmV0dXJuIGw9bD4+PjAsZnx8Z2UobCwyLHRoaXMubGVuZ3RoKSx0aGlzW2xdPDw4fHRoaXNbbCsxXX0scy5wcm90b3R5cGUucmVhZFVpbnQzMkxFPXMucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihsLGYpe3JldHVybiBsPWw+Pj4wLGZ8fGdlKGwsNCx0aGlzLmxlbmd0aCksKHRoaXNbbF18dGhpc1tsKzFdPDw4fHRoaXNbbCsyXTw8MTYpK3RoaXNbbCszXSoxNjc3NzIxNn0scy5wcm90b3R5cGUucmVhZFVpbnQzMkJFPXMucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihsLGYpe3JldHVybiBsPWw+Pj4wLGZ8fGdlKGwsNCx0aGlzLmxlbmd0aCksdGhpc1tsXSoxNjc3NzIxNisodGhpc1tsKzFdPDwxNnx0aGlzW2wrMl08PDh8dGhpc1tsKzNdKX0scy5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFPXh0KGZ1bmN0aW9uKGwpe2w9bD4+PjAsa3IobCxcIm9mZnNldFwiKTtsZXQgZj10aGlzW2xdLGI9dGhpc1tsKzddOyhmPT09dm9pZCAwfHxiPT09dm9pZCAwKSYmbGkobCx0aGlzLmxlbmd0aC04KTtsZXQgQT1mK3RoaXNbKytsXSoyKio4K3RoaXNbKytsXSoyKioxNit0aGlzWysrbF0qMioqMjQsVD10aGlzWysrbF0rdGhpc1srK2xdKjIqKjgrdGhpc1srK2xdKjIqKjE2K2IqMioqMjQ7cmV0dXJuIEJpZ0ludChBKSsoQmlnSW50KFQpPDxCaWdJbnQoMzIpKX0pLHMucHJvdG90eXBlLnJlYWRCaWdVSW50NjRCRT14dChmdW5jdGlvbihsKXtsPWw+Pj4wLGtyKGwsXCJvZmZzZXRcIik7bGV0IGY9dGhpc1tsXSxiPXRoaXNbbCs3XTsoZj09PXZvaWQgMHx8Yj09PXZvaWQgMCkmJmxpKGwsdGhpcy5sZW5ndGgtOCk7bGV0IEE9ZioyKioyNCt0aGlzWysrbF0qMioqMTYrdGhpc1srK2xdKjIqKjgrdGhpc1srK2xdLFQ9dGhpc1srK2xdKjIqKjI0K3RoaXNbKytsXSoyKioxNit0aGlzWysrbF0qMioqOCtiO3JldHVybiAoQmlnSW50KEEpPDxCaWdJbnQoMzIpKStCaWdJbnQoVCl9KSxzLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24obCxmLGIpe2w9bD4+PjAsZj1mPj4+MCxifHxnZShsLGYsdGhpcy5sZW5ndGgpO2xldCBBPXRoaXNbbF0sVD0xLE89MDtmb3IoOysrTzxmJiYoVCo9MjU2KTspQSs9dGhpc1tsK09dKlQ7cmV0dXJuIFQqPTEyOCxBPj1UJiYoQS09TWF0aC5wb3coMiw4KmYpKSxBfSxzLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24obCxmLGIpe2w9bD4+PjAsZj1mPj4+MCxifHxnZShsLGYsdGhpcy5sZW5ndGgpO2xldCBBPWYsVD0xLE89dGhpc1tsKy0tQV07Zm9yKDtBPjAmJihUKj0yNTYpOylPKz10aGlzW2wrLS1BXSpUO3JldHVybiBUKj0xMjgsTz49VCYmKE8tPU1hdGgucG93KDIsOCpmKSksT30scy5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24obCxmKXtyZXR1cm4gbD1sPj4+MCxmfHxnZShsLDEsdGhpcy5sZW5ndGgpLHRoaXNbbF0mMTI4PygyNTUtdGhpc1tsXSsxKSotMTp0aGlzW2xdfSxzLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbihsLGYpe2w9bD4+PjAsZnx8Z2UobCwyLHRoaXMubGVuZ3RoKTtsZXQgYj10aGlzW2xdfHRoaXNbbCsxXTw8ODtyZXR1cm4gYiYzMjc2OD9ifDQyOTQ5MDE3NjA6Yn0scy5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24obCxmKXtsPWw+Pj4wLGZ8fGdlKGwsMix0aGlzLmxlbmd0aCk7bGV0IGI9dGhpc1tsKzFdfHRoaXNbbF08PDg7cmV0dXJuIGImMzI3Njg/Ynw0Mjk0OTAxNzYwOmJ9LHMucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKGwsZil7cmV0dXJuIGw9bD4+PjAsZnx8Z2UobCw0LHRoaXMubGVuZ3RoKSx0aGlzW2xdfHRoaXNbbCsxXTw8OHx0aGlzW2wrMl08PDE2fHRoaXNbbCszXTw8MjR9LHMucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGwsZil7cmV0dXJuIGw9bD4+PjAsZnx8Z2UobCw0LHRoaXMubGVuZ3RoKSx0aGlzW2xdPDwyNHx0aGlzW2wrMV08PDE2fHRoaXNbbCsyXTw8OHx0aGlzW2wrM119LHMucHJvdG90eXBlLnJlYWRCaWdJbnQ2NExFPXh0KGZ1bmN0aW9uKGwpe2w9bD4+PjAsa3IobCxcIm9mZnNldFwiKTtsZXQgZj10aGlzW2xdLGI9dGhpc1tsKzddOyhmPT09dm9pZCAwfHxiPT09dm9pZCAwKSYmbGkobCx0aGlzLmxlbmd0aC04KTtsZXQgQT10aGlzW2wrNF0rdGhpc1tsKzVdKjIqKjgrdGhpc1tsKzZdKjIqKjE2KyhiPDwyNCk7cmV0dXJuIChCaWdJbnQoQSk8PEJpZ0ludCgzMikpK0JpZ0ludChmK3RoaXNbKytsXSoyKio4K3RoaXNbKytsXSoyKioxNit0aGlzWysrbF0qMioqMjQpfSkscy5wcm90b3R5cGUucmVhZEJpZ0ludDY0QkU9eHQoZnVuY3Rpb24obCl7bD1sPj4+MCxrcihsLFwib2Zmc2V0XCIpO2xldCBmPXRoaXNbbF0sYj10aGlzW2wrN107KGY9PT12b2lkIDB8fGI9PT12b2lkIDApJiZsaShsLHRoaXMubGVuZ3RoLTgpO2xldCBBPShmPDwyNCkrdGhpc1srK2xdKjIqKjE2K3RoaXNbKytsXSoyKio4K3RoaXNbKytsXTtyZXR1cm4gKEJpZ0ludChBKTw8QmlnSW50KDMyKSkrQmlnSW50KHRoaXNbKytsXSoyKioyNCt0aGlzWysrbF0qMioqMTYrdGhpc1srK2xdKjIqKjgrYil9KSxzLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihsLGYpe3JldHVybiBsPWw+Pj4wLGZ8fGdlKGwsNCx0aGlzLmxlbmd0aCksZS5yZWFkKHRoaXMsbCwhMCwyMyw0KX0scy5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24obCxmKXtyZXR1cm4gbD1sPj4+MCxmfHxnZShsLDQsdGhpcy5sZW5ndGgpLGUucmVhZCh0aGlzLGwsITEsMjMsNCl9LHMucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihsLGYpe3JldHVybiBsPWw+Pj4wLGZ8fGdlKGwsOCx0aGlzLmxlbmd0aCksZS5yZWFkKHRoaXMsbCwhMCw1Miw4KX0scy5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGwsZil7cmV0dXJuIGw9bD4+PjAsZnx8Z2UobCw4LHRoaXMubGVuZ3RoKSxlLnJlYWQodGhpcyxsLCExLDUyLDgpfTtmdW5jdGlvbiBDZShwLGwsZixiLEEsVCl7aWYoIXMuaXNCdWZmZXIocCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYobD5BfHxsPFQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYoZitiPnAubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfXMucHJvdG90eXBlLndyaXRlVWludExFPXMucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKGwsZixiLEEpe2lmKGw9K2wsZj1mPj4+MCxiPWI+Pj4wLCFBKXtsZXQgJD1NYXRoLnBvdygyLDgqYiktMTtDZSh0aGlzLGwsZixiLCQsMCk7fWxldCBUPTEsTz0wO2Zvcih0aGlzW2ZdPWwmMjU1OysrTzxiJiYoVCo9MjU2KTspdGhpc1tmK09dPWwvVCYyNTU7cmV0dXJuIGYrYn0scy5wcm90b3R5cGUud3JpdGVVaW50QkU9cy5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24obCxmLGIsQSl7aWYobD0rbCxmPWY+Pj4wLGI9Yj4+PjAsIUEpe2xldCAkPU1hdGgucG93KDIsOCpiKS0xO0NlKHRoaXMsbCxmLGIsJCwwKTt9bGV0IFQ9Yi0xLE89MTtmb3IodGhpc1tmK1RdPWwmMjU1Oy0tVD49MCYmKE8qPTI1Nik7KXRoaXNbZitUXT1sL08mMjU1O3JldHVybiBmK2J9LHMucHJvdG90eXBlLndyaXRlVWludDg9cy5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbihsLGYsYil7cmV0dXJuIGw9K2wsZj1mPj4+MCxifHxDZSh0aGlzLGwsZiwxLDI1NSwwKSx0aGlzW2ZdPWwmMjU1LGYrMX0scy5wcm90b3R5cGUud3JpdGVVaW50MTZMRT1zLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGwsZixiKXtyZXR1cm4gbD0rbCxmPWY+Pj4wLGJ8fENlKHRoaXMsbCxmLDIsNjU1MzUsMCksdGhpc1tmXT1sJjI1NSx0aGlzW2YrMV09bD4+PjgsZisyfSxzLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFPXMucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24obCxmLGIpe3JldHVybiBsPStsLGY9Zj4+PjAsYnx8Q2UodGhpcyxsLGYsMiw2NTUzNSwwKSx0aGlzW2ZdPWw+Pj44LHRoaXNbZisxXT1sJjI1NSxmKzJ9LHMucHJvdG90eXBlLndyaXRlVWludDMyTEU9cy5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihsLGYsYil7cmV0dXJuIGw9K2wsZj1mPj4+MCxifHxDZSh0aGlzLGwsZiw0LDQyOTQ5NjcyOTUsMCksdGhpc1tmKzNdPWw+Pj4yNCx0aGlzW2YrMl09bD4+PjE2LHRoaXNbZisxXT1sPj4+OCx0aGlzW2ZdPWwmMjU1LGYrNH0scy5wcm90b3R5cGUud3JpdGVVaW50MzJCRT1zLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGwsZixiKXtyZXR1cm4gbD0rbCxmPWY+Pj4wLGJ8fENlKHRoaXMsbCxmLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2ZdPWw+Pj4yNCx0aGlzW2YrMV09bD4+PjE2LHRoaXNbZisyXT1sPj4+OCx0aGlzW2YrM109bCYyNTUsZis0fTtmdW5jdGlvbiB2bChwLGwsZixiLEEpe1JsKGwsYixBLHAsZiw3KTtsZXQgVD1OdW1iZXIobCZCaWdJbnQoNDI5NDk2NzI5NSkpO3BbZisrXT1ULFQ9VD4+OCxwW2YrK109VCxUPVQ+PjgscFtmKytdPVQsVD1UPj44LHBbZisrXT1UO2xldCBPPU51bWJlcihsPj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIHBbZisrXT1PLE89Tz4+OCxwW2YrK109TyxPPU8+PjgscFtmKytdPU8sTz1PPj44LHBbZisrXT1PLGZ9ZnVuY3Rpb24gRWwocCxsLGYsYixBKXtSbChsLGIsQSxwLGYsNyk7bGV0IFQ9TnVtYmVyKGwmQmlnSW50KDQyOTQ5NjcyOTUpKTtwW2YrN109VCxUPVQ+PjgscFtmKzZdPVQsVD1UPj44LHBbZis1XT1ULFQ9VD4+OCxwW2YrNF09VDtsZXQgTz1OdW1iZXIobD4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiBwW2YrM109TyxPPU8+PjgscFtmKzJdPU8sTz1PPj44LHBbZisxXT1PLE89Tz4+OCxwW2ZdPU8sZis4fXMucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEU9eHQoZnVuY3Rpb24obCxmPTApe3JldHVybiB2bCh0aGlzLGwsZixCaWdJbnQoMCksQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKX0pLHMucHJvdG90eXBlLndyaXRlQmlnVUludDY0QkU9eHQoZnVuY3Rpb24obCxmPTApe3JldHVybiBFbCh0aGlzLGwsZixCaWdJbnQoMCksQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKX0pLHMucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24obCxmLGIsQSl7aWYobD0rbCxmPWY+Pj4wLCFBKXtsZXQgc2U9TWF0aC5wb3coMiw4KmItMSk7Q2UodGhpcyxsLGYsYixzZS0xLC1zZSk7fWxldCBUPTAsTz0xLCQ9MDtmb3IodGhpc1tmXT1sJjI1NTsrK1Q8YiYmKE8qPTI1Nik7KWw8MCYmJD09PTAmJnRoaXNbZitULTFdIT09MCYmKCQ9MSksdGhpc1tmK1RdPShsL08+PjApLSQmMjU1O3JldHVybiBmK2J9LHMucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24obCxmLGIsQSl7aWYobD0rbCxmPWY+Pj4wLCFBKXtsZXQgc2U9TWF0aC5wb3coMiw4KmItMSk7Q2UodGhpcyxsLGYsYixzZS0xLC1zZSk7fWxldCBUPWItMSxPPTEsJD0wO2Zvcih0aGlzW2YrVF09bCYyNTU7LS1UPj0wJiYoTyo9MjU2KTspbDwwJiYkPT09MCYmdGhpc1tmK1QrMV0hPT0wJiYoJD0xKSx0aGlzW2YrVF09KGwvTz4+MCktJCYyNTU7cmV0dXJuIGYrYn0scy5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGwsZixiKXtyZXR1cm4gbD0rbCxmPWY+Pj4wLGJ8fENlKHRoaXMsbCxmLDEsMTI3LC0xMjgpLGw8MCYmKGw9MjU1K2wrMSksdGhpc1tmXT1sJjI1NSxmKzF9LHMucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihsLGYsYil7cmV0dXJuIGw9K2wsZj1mPj4+MCxifHxDZSh0aGlzLGwsZiwyLDMyNzY3LC0zMjc2OCksdGhpc1tmXT1sJjI1NSx0aGlzW2YrMV09bD4+PjgsZisyfSxzLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24obCxmLGIpe3JldHVybiBsPStsLGY9Zj4+PjAsYnx8Q2UodGhpcyxsLGYsMiwzMjc2NywtMzI3NjgpLHRoaXNbZl09bD4+PjgsdGhpc1tmKzFdPWwmMjU1LGYrMn0scy5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGwsZixiKXtyZXR1cm4gbD0rbCxmPWY+Pj4wLGJ8fENlKHRoaXMsbCxmLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1tmXT1sJjI1NSx0aGlzW2YrMV09bD4+PjgsdGhpc1tmKzJdPWw+Pj4xNix0aGlzW2YrM109bD4+PjI0LGYrNH0scy5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGwsZixiKXtyZXR1cm4gbD0rbCxmPWY+Pj4wLGJ8fENlKHRoaXMsbCxmLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksbDwwJiYobD00Mjk0OTY3Mjk1K2wrMSksdGhpc1tmXT1sPj4+MjQsdGhpc1tmKzFdPWw+Pj4xNix0aGlzW2YrMl09bD4+PjgsdGhpc1tmKzNdPWwmMjU1LGYrNH0scy5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFPXh0KGZ1bmN0aW9uKGwsZj0wKXtyZXR1cm4gdmwodGhpcyxsLGYsLUJpZ0ludChcIjB4ODAwMDAwMDAwMDAwMDAwMFwiKSxCaWdJbnQoXCIweDdmZmZmZmZmZmZmZmZmZmZcIikpfSkscy5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NEJFPXh0KGZ1bmN0aW9uKGwsZj0wKXtyZXR1cm4gRWwodGhpcyxsLGYsLUJpZ0ludChcIjB4ODAwMDAwMDAwMDAwMDAwMFwiKSxCaWdJbnQoXCIweDdmZmZmZmZmZmZmZmZmZmZcIikpfSk7ZnVuY3Rpb24gU2wocCxsLGYsYixBLFQpe2lmKGYrYj5wLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihmPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gQWwocCxsLGYsYixBKXtyZXR1cm4gbD0rbCxmPWY+Pj4wLEF8fFNsKHAsbCxmLDQpLGUud3JpdGUocCxsLGYsYiwyMyw0KSxmKzR9cy5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGwsZixiKXtyZXR1cm4gQWwodGhpcyxsLGYsITAsYil9LHMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihsLGYsYil7cmV0dXJuIEFsKHRoaXMsbCxmLCExLGIpfTtmdW5jdGlvbiBJbChwLGwsZixiLEEpe3JldHVybiBsPStsLGY9Zj4+PjAsQXx8U2wocCxsLGYsOCksZS53cml0ZShwLGwsZixiLDUyLDgpLGYrOH1zLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKGwsZixiKXtyZXR1cm4gSWwodGhpcyxsLGYsITAsYil9LHMucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24obCxmLGIpe3JldHVybiBJbCh0aGlzLGwsZiwhMSxiKX0scy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihsLGYsYixBKXtpZighcy5pc0J1ZmZlcihsKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKGJ8fChiPTApLCFBJiZBIT09MCYmKEE9dGhpcy5sZW5ndGgpLGY+PWwubGVuZ3RoJiYoZj1sLmxlbmd0aCksZnx8KGY9MCksQT4wJiZBPGImJihBPWIpLEE9PT1ifHxsLmxlbmd0aD09PTB8fHRoaXMubGVuZ3RoPT09MClyZXR1cm4gMDtpZihmPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKGI8MHx8Yj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYoQTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7QT50aGlzLmxlbmd0aCYmKEE9dGhpcy5sZW5ndGgpLGwubGVuZ3RoLWY8QS1iJiYoQT1sLmxlbmd0aC1mK2IpO2xldCBUPUEtYjtyZXR1cm4gdGhpcz09PWwmJnR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluPT1cImZ1bmN0aW9uXCI/dGhpcy5jb3B5V2l0aGluKGYsYixBKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChsLHRoaXMuc3ViYXJyYXkoYixBKSxmKSxUfSxzLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGwsZixiLEEpe2lmKHR5cGVvZiBsPT1cInN0cmluZ1wiKXtpZih0eXBlb2YgZj09XCJzdHJpbmdcIj8oQT1mLGY9MCxiPXRoaXMubGVuZ3RoKTp0eXBlb2YgYj09XCJzdHJpbmdcIiYmKEE9YixiPXRoaXMubGVuZ3RoKSxBIT09dm9pZCAwJiZ0eXBlb2YgQSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZih0eXBlb2YgQT09XCJzdHJpbmdcIiYmIXMuaXNFbmNvZGluZyhBKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrQSk7aWYobC5sZW5ndGg9PT0xKXtsZXQgTz1sLmNoYXJDb2RlQXQoMCk7KEE9PT1cInV0ZjhcIiYmTzwxMjh8fEE9PT1cImxhdGluMVwiKSYmKGw9Tyk7fX1lbHNlIHR5cGVvZiBsPT1cIm51bWJlclwiP2w9bCYyNTU6dHlwZW9mIGw9PVwiYm9vbGVhblwiJiYobD1OdW1iZXIobCkpO2lmKGY8MHx8dGhpcy5sZW5ndGg8Znx8dGhpcy5sZW5ndGg8Yil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihiPD1mKXJldHVybiB0aGlzO2Y9Zj4+PjAsYj1iPT09dm9pZCAwP3RoaXMubGVuZ3RoOmI+Pj4wLGx8fChsPTApO2xldCBUO2lmKHR5cGVvZiBsPT1cIm51bWJlclwiKWZvcihUPWY7VDxiOysrVCl0aGlzW1RdPWw7ZWxzZSB7bGV0IE89cy5pc0J1ZmZlcihsKT9sOnMuZnJvbShsLEEpLCQ9Ty5sZW5ndGg7aWYoJD09PTApdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJytsKydcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtmb3IoVD0wO1Q8Yi1mOysrVCl0aGlzW1QrZl09T1tUJSRdO31yZXR1cm4gdGhpc307bGV0IE9yPXt9O2Z1bmN0aW9uIGZzKHAsbCxmKXtPcltwXT1jbGFzcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWVzc2FnZVwiLHt2YWx1ZTpsLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0aGlzLm5hbWU9YCR7dGhpcy5uYW1lfSBbJHtwfV1gLHRoaXMuc3RhY2ssZGVsZXRlIHRoaXMubmFtZTt9Z2V0IGNvZGUoKXtyZXR1cm4gcH1zZXQgY29kZShBKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvZGVcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6QSx3cml0YWJsZTohMH0pO310b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm5hbWV9IFske3B9XTogJHt0aGlzLm1lc3NhZ2V9YH19O31mcyhcIkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EU1wiLGZ1bmN0aW9uKHApe3JldHVybiBwP2Ake3B9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2A6XCJBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzXCJ9LFJhbmdlRXJyb3IpLGZzKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIixmdW5jdGlvbihwLGwpe3JldHVybiBgVGhlIFwiJHtwfVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgbH1gfSxUeXBlRXJyb3IpLGZzKFwiRVJSX09VVF9PRl9SQU5HRVwiLGZ1bmN0aW9uKHAsbCxmKXtsZXQgYj1gVGhlIHZhbHVlIG9mIFwiJHtwfVwiIGlzIG91dCBvZiByYW5nZS5gLEE9ZjtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihmKSYmTWF0aC5hYnMoZik+MioqMzI/QT1UbChTdHJpbmcoZikpOnR5cGVvZiBmPT1cImJpZ2ludFwiJiYoQT1TdHJpbmcoZiksKGY+QmlnSW50KDIpKipCaWdJbnQoMzIpfHxmPC0oQmlnSW50KDIpKipCaWdJbnQoMzIpKSkmJihBPVRsKEEpKSxBKz1cIm5cIiksYis9YCBJdCBtdXN0IGJlICR7bH0uIFJlY2VpdmVkICR7QX1gLGJ9LFJhbmdlRXJyb3IpO2Z1bmN0aW9uIFRsKHApe2xldCBsPVwiXCIsZj1wLmxlbmd0aCxiPXBbMF09PT1cIi1cIj8xOjA7Zm9yKDtmPj1iKzQ7Zi09MylsPWBfJHtwLnNsaWNlKGYtMyxmKX0ke2x9YDtyZXR1cm4gYCR7cC5zbGljZSgwLGYpfSR7bH1gfWZ1bmN0aW9uIERnKHAsbCxmKXtrcihsLFwib2Zmc2V0XCIpLChwW2xdPT09dm9pZCAwfHxwW2wrZl09PT12b2lkIDApJiZsaShsLHAubGVuZ3RoLShmKzEpKTt9ZnVuY3Rpb24gUmwocCxsLGYsYixBLFQpe2lmKHA+Znx8cDxsKXtsZXQgTz10eXBlb2YgbD09XCJiaWdpbnRcIj9cIm5cIjpcIlwiLCQ7dGhyb3cgVD4zP2w9PT0wfHxsPT09QmlnSW50KDApPyQ9YD49IDAke099IGFuZCA8IDIke099ICoqICR7KFQrMSkqOH0ke099YDokPWA+PSAtKDIke099ICoqICR7KFQrMSkqOC0xfSR7T30pIGFuZCA8IDIgKiogJHsoVCsxKSo4LTF9JHtPfWA6JD1gPj0gJHtsfSR7T30gYW5kIDw9ICR7Zn0ke099YCxuZXcgT3IuRVJSX09VVF9PRl9SQU5HRShcInZhbHVlXCIsJCxwKX1EZyhiLEEsVCk7fWZ1bmN0aW9uIGtyKHAsbCl7aWYodHlwZW9mIHAhPVwibnVtYmVyXCIpdGhyb3cgbmV3IE9yLkVSUl9JTlZBTElEX0FSR19UWVBFKGwsXCJudW1iZXJcIixwKX1mdW5jdGlvbiBsaShwLGwsZil7dGhyb3cgTWF0aC5mbG9vcihwKSE9PXA/KGtyKHAsZiksbmV3IE9yLkVSUl9PVVRfT0ZfUkFOR0UoZnx8XCJvZmZzZXRcIixcImFuIGludGVnZXJcIixwKSk6bDwwP25ldyBPci5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFM6bmV3IE9yLkVSUl9PVVRfT0ZfUkFOR0UoZnx8XCJvZmZzZXRcIixgPj0gJHtmPzE6MH0gYW5kIDw9ICR7bH1gLHApfWxldCBqZz0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIEZnKHApe2lmKHA9cC5zcGxpdChcIj1cIilbMF0scD1wLnRyaW0oKS5yZXBsYWNlKGpnLFwiXCIpLHAubGVuZ3RoPDIpcmV0dXJuIFwiXCI7Zm9yKDtwLmxlbmd0aCU0IT09MDspcD1wK1wiPVwiO3JldHVybiBwfWZ1bmN0aW9uIGNzKHAsbCl7bD1sfHwxLzA7bGV0IGYsYj1wLmxlbmd0aCxBPW51bGwsVD1bXTtmb3IobGV0IE89MDtPPGI7KytPKXtpZihmPXAuY2hhckNvZGVBdChPKSxmPjU1Mjk1JiZmPDU3MzQ0KXtpZighQSl7aWYoZj41NjMxOSl7KGwtPTMpPi0xJiZULnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWVsc2UgaWYoTysxPT09Yil7KGwtPTMpPi0xJiZULnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfUE9Zjtjb250aW51ZX1pZihmPDU2MzIwKXsobC09Myk+LTEmJlQucHVzaCgyMzksMTkxLDE4OSksQT1mO2NvbnRpbnVlfWY9KEEtNTUyOTY8PDEwfGYtNTYzMjApKzY1NTM2O31lbHNlIEEmJihsLT0zKT4tMSYmVC5wdXNoKDIzOSwxOTEsMTg5KTtpZihBPW51bGwsZjwxMjgpe2lmKChsLT0xKTwwKWJyZWFrO1QucHVzaChmKTt9ZWxzZSBpZihmPDIwNDgpe2lmKChsLT0yKTwwKWJyZWFrO1QucHVzaChmPj42fDE5MixmJjYzfDEyOCk7fWVsc2UgaWYoZjw2NTUzNil7aWYoKGwtPTMpPDApYnJlYWs7VC5wdXNoKGY+PjEyfDIyNCxmPj42JjYzfDEyOCxmJjYzfDEyOCk7fWVsc2UgaWYoZjwxMTE0MTEyKXtpZigobC09NCk8MClicmVhaztULnB1c2goZj4+MTh8MjQwLGY+PjEyJjYzfDEyOCxmPj42JjYzfDEyOCxmJjYzfDEyOCk7fWVsc2UgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpfXJldHVybiBUfWZ1bmN0aW9uIFdnKHApe2xldCBsPVtdO2ZvcihsZXQgZj0wO2Y8cC5sZW5ndGg7KytmKWwucHVzaChwLmNoYXJDb2RlQXQoZikmMjU1KTtyZXR1cm4gbH1mdW5jdGlvbiAkZyhwLGwpe2xldCBmLGIsQSxUPVtdO2ZvcihsZXQgTz0wO088cC5sZW5ndGgmJiEoKGwtPTIpPDApOysrTylmPXAuY2hhckNvZGVBdChPKSxiPWY+PjgsQT1mJTI1NixULnB1c2goQSksVC5wdXNoKGIpO3JldHVybiBUfWZ1bmN0aW9uIENsKHApe3JldHVybiB0LnRvQnl0ZUFycmF5KEZnKHApKX1mdW5jdGlvbiBxaShwLGwsZixiKXtsZXQgQTtmb3IoQT0wO0E8YiYmIShBK2Y+PWwubGVuZ3RofHxBPj1wLmxlbmd0aCk7KytBKWxbQStmXT1wW0FdO3JldHVybiBBfWZ1bmN0aW9uIFllKHAsbCl7cmV0dXJuIHAgaW5zdGFuY2VvZiBsfHxwIT1udWxsJiZwLmNvbnN0cnVjdG9yIT1udWxsJiZwLmNvbnN0cnVjdG9yLm5hbWUhPW51bGwmJnAuY29uc3RydWN0b3IubmFtZT09PWwubmFtZX1mdW5jdGlvbiBocyhwKXtyZXR1cm4gcCE9PXB9bGV0IEhnPWZ1bmN0aW9uKCl7bGV0IHA9XCIwMTIzNDU2Nzg5YWJjZGVmXCIsbD1uZXcgQXJyYXkoMjU2KTtmb3IobGV0IGY9MDtmPDE2OysrZil7bGV0IGI9ZioxNjtmb3IobGV0IEE9MDtBPDE2OysrQSlsW2IrQV09cFtmXStwW0FdO31yZXR1cm4gbH0oKTtmdW5jdGlvbiB4dChwKXtyZXR1cm4gdHlwZW9mIEJpZ0ludD5cInVcIj9WZzpwfWZ1bmN0aW9uIFZnKCl7dGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IG5vdCBzdXBwb3J0ZWRcIil9cmV0dXJuIEp0fXZhciB1aSxWdSxXaSx6dSxKdCxLdSxMdCx4LGV5LHR5LHllPXdlKCgpPT57digpO20oKTtfKCk7dWk9e30sVnU9ITE7V2k9e30senU9ITE7SnQ9e30sS3U9ITE7THQ9WmcoKTtMdC5CdWZmZXI7THQuU2xvd0J1ZmZlcjtMdC5JTlNQRUNUX01BWF9CWVRFUztMdC5rTWF4TGVuZ3RoO3g9THQuQnVmZmVyLGV5PUx0LklOU1BFQ1RfTUFYX0JZVEVTLHR5PUx0LmtNYXhMZW5ndGg7fSk7dmFyIHY9d2UoKCk9Pnt5ZSgpO30pO3ZhciBHdT1NKHdzPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBicz1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmFsaWFzVG9Ub3BpYz17fSx0aGlzLm1heD1lO31wdXQoZSxyKXtyZXR1cm4gcj09PTB8fHI+dGhpcy5tYXg/ITE6KHRoaXMuYWxpYXNUb1RvcGljW3JdPWUsdGhpcy5sZW5ndGg9T2JqZWN0LmtleXModGhpcy5hbGlhc1RvVG9waWMpLmxlbmd0aCwhMCl9Z2V0VG9waWNCeUFsaWFzKGUpe3JldHVybiB0aGlzLmFsaWFzVG9Ub3BpY1tlXX1jbGVhcigpe3RoaXMuYWxpYXNUb1RvcGljPXt9O319O3dzLmRlZmF1bHQ9YnM7fSk7dmFyIGNlPU0oKFBBLFF1KT0+e3YoKTttKCk7XygpO1F1LmV4cG9ydHM9e0FycmF5SXNBcnJheSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KX0sQXJyYXlQcm90b3R5cGVJbmNsdWRlcyh0LGUpe3JldHVybiB0LmluY2x1ZGVzKGUpfSxBcnJheVByb3RvdHlwZUluZGV4T2YodCxlKXtyZXR1cm4gdC5pbmRleE9mKGUpfSxBcnJheVByb3RvdHlwZUpvaW4odCxlKXtyZXR1cm4gdC5qb2luKGUpfSxBcnJheVByb3RvdHlwZU1hcCh0LGUpe3JldHVybiB0Lm1hcChlKX0sQXJyYXlQcm90b3R5cGVQb3AodCxlKXtyZXR1cm4gdC5wb3AoZSl9LEFycmF5UHJvdG90eXBlUHVzaCh0LGUpe3JldHVybiB0LnB1c2goZSl9LEFycmF5UHJvdG90eXBlU2xpY2UodCxlLHIpe3JldHVybiB0LnNsaWNlKGUscil9LEVycm9yLEZ1bmN0aW9uUHJvdG90eXBlQ2FsbCh0LGUsLi4ucil7cmV0dXJuIHQuY2FsbChlLC4uLnIpfSxGdW5jdGlvblByb3RvdHlwZVN5bWJvbEhhc0luc3RhbmNlKHQsZSl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLmNhbGwodCxlKX0sTWF0aEZsb29yOk1hdGguZmxvb3IsTnVtYmVyLE51bWJlcklzSW50ZWdlcjpOdW1iZXIuaXNJbnRlZ2VyLE51bWJlcklzTmFOOk51bWJlci5pc05hTixOdW1iZXJNQVhfU0FGRV9JTlRFR0VSOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLE51bWJlck1JTl9TQUZFX0lOVEVHRVI6TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsTnVtYmVyUGFyc2VJbnQ6TnVtYmVyLnBhcnNlSW50LE9iamVjdERlZmluZVByb3BlcnRpZXModCxlKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxlKX0sT2JqZWN0RGVmaW5lUHJvcGVydHkodCxlLHIpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHIpfSxPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpfSxPYmplY3RLZXlzKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KX0sT2JqZWN0U2V0UHJvdG90eXBlT2YodCxlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSl9LFByb21pc2UsUHJvbWlzZVByb3RvdHlwZUNhdGNoKHQsZSl7cmV0dXJuIHQuY2F0Y2goZSl9LFByb21pc2VQcm90b3R5cGVUaGVuKHQsZSxyKXtyZXR1cm4gdC50aGVuKGUscil9LFByb21pc2VSZWplY3QodCl7cmV0dXJuIFByb21pc2UucmVqZWN0KHQpfSxSZWZsZWN0QXBwbHk6UmVmbGVjdC5hcHBseSxSZWdFeHBQcm90b3R5cGVUZXN0KHQsZSl7cmV0dXJuIHQudGVzdChlKX0sU2FmZVNldDpTZXQsU3RyaW5nLFN0cmluZ1Byb3RvdHlwZVNsaWNlKHQsZSxyKXtyZXR1cm4gdC5zbGljZShlLHIpfSxTdHJpbmdQcm90b3R5cGVUb0xvd2VyQ2FzZSh0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpfSxTdHJpbmdQcm90b3R5cGVUb1VwcGVyQ2FzZSh0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSxTdHJpbmdQcm90b3R5cGVUcmltKHQpe3JldHVybiB0LnRyaW0oKX0sU3ltYm9sLFN5bWJvbEZvcjpTeW1ib2wuZm9yLFN5bWJvbEFzeW5jSXRlcmF0b3I6U3ltYm9sLmFzeW5jSXRlcmF0b3IsU3ltYm9sSGFzSW5zdGFuY2U6U3ltYm9sLmhhc0luc3RhbmNlLFN5bWJvbEl0ZXJhdG9yOlN5bWJvbC5pdGVyYXRvcixUeXBlZEFycmF5UHJvdG90eXBlU2V0KHQsZSxyKXtyZXR1cm4gdC5zZXQoZSxyKX0sVWludDhBcnJheX07fSk7dmFyIEplPU0oKGpBLG1zKT0+e3YoKTttKCk7XygpO3ZhciByeT0oeWUoKSxYKF9lKSksaXk9T2JqZWN0LmdldFByb3RvdHlwZU9mKGFzeW5jIGZ1bmN0aW9uKCl7fSkuY29uc3RydWN0b3IsWXU9Z2xvYmFsVGhpcy5CbG9ifHxyeS5CbG9iLG55PXR5cGVvZiBZdTxcInVcIj9mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFl1fTpmdW5jdGlvbihlKXtyZXR1cm4gITF9LF9zPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgaW5wdXQgdG8gYmUgYW4gQXJyYXksIGdvdCAke3R5cGVvZiBlfWApO2xldCByPVwiXCI7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspcis9YCAgICAke2VbaV0uc3RhY2t9XG5gO3N1cGVyKHIpLHRoaXMubmFtZT1cIkFnZ3JlZ2F0ZUVycm9yXCIsdGhpcy5lcnJvcnM9ZTt9fTttcy5leHBvcnRzPXtBZ2dyZWdhdGVFcnJvcjpfcyxrRW1wdHlPYmplY3Q6T2JqZWN0LmZyZWV6ZSh7fSksb25jZSh0KXtsZXQgZT0hMTtyZXR1cm4gZnVuY3Rpb24oLi4ucil7ZXx8KGU9ITAsdC5hcHBseSh0aGlzLHIpKTt9fSxjcmVhdGVEZWZlcnJlZFByb21pc2U6ZnVuY3Rpb24oKXtsZXQgdCxlO3JldHVybiB7cHJvbWlzZTpuZXcgUHJvbWlzZSgoaSxuKT0+e3Q9aSxlPW47fSkscmVzb2x2ZTp0LHJlamVjdDplfX0scHJvbWlzaWZ5KHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZSxyKT0+e3QoKGksLi4ubik9Pmk/cihpKTplKC4uLm4pKTt9KX0sZGVidWdsb2coKXtyZXR1cm4gZnVuY3Rpb24oKXt9fSxmb3JtYXQodCwuLi5lKXtyZXR1cm4gdC5yZXBsYWNlKC8lKFtzZGlmal0pL2csZnVuY3Rpb24oLi4uW3IsaV0pe2xldCBuPWUuc2hpZnQoKTtyZXR1cm4gaT09PVwiZlwiP24udG9GaXhlZCg2KTppPT09XCJqXCI/SlNPTi5zdHJpbmdpZnkobik6aT09PVwic1wiJiZ0eXBlb2Ygbj09XCJvYmplY3RcIj9gJHtuLmNvbnN0cnVjdG9yIT09T2JqZWN0P24uY29uc3RydWN0b3IubmFtZTpcIlwifSB7fWAudHJpbSgpOm4udG9TdHJpbmcoKX0pfSxpbnNwZWN0KHQpe3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwic3RyaW5nXCI6aWYodC5pbmNsdWRlcyhcIidcIikpaWYodC5pbmNsdWRlcygnXCInKSl7aWYoIXQuaW5jbHVkZXMoXCJgXCIpJiYhdC5pbmNsdWRlcyhcIiR7XCIpKXJldHVybiBgXFxgJHt0fVxcYGB9ZWxzZSByZXR1cm4gYFwiJHt0fVwiYDtyZXR1cm4gYCcke3R9J2A7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzTmFOKHQpP1wiTmFOXCI6T2JqZWN0LmlzKHQsLTApP1N0cmluZyh0KTp0O2Nhc2VcImJpZ2ludFwiOnJldHVybiBgJHtTdHJpbmcodCl9bmA7Y2FzZVwiYm9vbGVhblwiOmNhc2VcInVuZGVmaW5lZFwiOnJldHVybiBTdHJpbmcodCk7Y2FzZVwib2JqZWN0XCI6cmV0dXJuIFwie31cIn19LHR5cGVzOntpc0FzeW5jRnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpeX0saXNBcnJheUJ1ZmZlclZpZXcodCl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyh0KX19LGlzQmxvYjpueX07bXMuZXhwb3J0cy5wcm9taXNpZnkuY3VzdG9tPVN5bWJvbC5mb3IoXCJub2RlanMudXRpbC5wcm9taXNpZnkuY3VzdG9tXCIpO30pO3ZhciBIaT1NKChZQSwkaSk9Pnt2KCk7bSgpO18oKTt2YXJ7QWJvcnRDb250cm9sbGVyOkp1LEFib3J0U2lnbmFsOnN5fT10eXBlb2Ygc2VsZjxcInVcIj9zZWxmOnR5cGVvZiB3aW5kb3c8XCJ1XCI/d2luZG93OnZvaWQgMDskaS5leHBvcnRzPUp1OyRpLmV4cG9ydHMuQWJvcnRTaWduYWw9c3k7JGkuZXhwb3J0cy5kZWZhdWx0PUp1O30pO3ZhciBTZT1NKChvSSxlZik9Pnt2KCk7bSgpO18oKTt2YXJ7Zm9ybWF0Om95LGluc3BlY3Q6VmksQWdncmVnYXRlRXJyb3I6YXl9PUplKCksbHk9Z2xvYmFsVGhpcy5BZ2dyZWdhdGVFcnJvcnx8YXksdXk9U3ltYm9sKFwia0lzTm9kZUVycm9yXCIpLGZ5PVtcInN0cmluZ1wiLFwiZnVuY3Rpb25cIixcIm51bWJlclwiLFwib2JqZWN0XCIsXCJGdW5jdGlvblwiLFwiT2JqZWN0XCIsXCJib29sZWFuXCIsXCJiaWdpbnRcIixcInN5bWJvbFwiXSxjeT0vXihbQS1aXVthLXowLTldKikrJC8saHk9XCJfX25vZGVfaW50ZXJuYWxfXCIsemk9e307ZnVuY3Rpb24gWHQodCxlKXtpZighdCl0aHJvdyBuZXcgemkuRVJSX0lOVEVSTkFMX0FTU0VSVElPTihlKX1mdW5jdGlvbiBYdSh0KXtsZXQgZT1cIlwiLHI9dC5sZW5ndGgsaT10WzBdPT09XCItXCI/MTowO2Zvcig7cj49aSs0O3ItPTMpZT1gXyR7dC5zbGljZShyLTMscil9JHtlfWA7cmV0dXJuIGAke3Quc2xpY2UoMCxyKX0ke2V9YH1mdW5jdGlvbiBkeSh0LGUscil7aWYodHlwZW9mIGU9PVwiZnVuY3Rpb25cIilyZXR1cm4gWHQoZS5sZW5ndGg8PXIubGVuZ3RoLGBDb2RlOiAke3R9OyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzIGxlbmd0aCAoJHtyLmxlbmd0aH0pIGRvZXMgbm90IG1hdGNoIHRoZSByZXF1aXJlZCBvbmVzICgke2UubGVuZ3RofSkuYCksZSguLi5yKTtsZXQgaT0oZS5tYXRjaCgvJVtkZmlqb09zXS9nKXx8W10pLmxlbmd0aDtyZXR1cm4gWHQoaT09PXIubGVuZ3RoLGBDb2RlOiAke3R9OyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzIGxlbmd0aCAoJHtyLmxlbmd0aH0pIGRvZXMgbm90IG1hdGNoIHRoZSByZXF1aXJlZCBvbmVzICgke2l9KS5gKSxyLmxlbmd0aD09PTA/ZTpveShlLC4uLnIpfWZ1bmN0aW9uIG1lKHQsZSxyKXtyfHwocj1FcnJvcik7Y2xhc3MgaSBleHRlbmRzIHJ7Y29uc3RydWN0b3IoLi4ubyl7c3VwZXIoZHkodCxlLG8pKTt9dG9TdHJpbmcoKXtyZXR1cm4gYCR7dGhpcy5uYW1lfSBbJHt0fV06ICR7dGhpcy5tZXNzYWdlfWB9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGkucHJvdG90eXBlLHtuYW1lOnt2YWx1ZTpyLm5hbWUsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9LHRvU3RyaW5nOnt2YWx1ZSgpe3JldHVybiBgJHt0aGlzLm5hbWV9IFske3R9XTogJHt0aGlzLm1lc3NhZ2V9YH0sd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9fSksaS5wcm90b3R5cGUuY29kZT10LGkucHJvdG90eXBlW3V5XT0hMCx6aVt0XT1pO31mdW5jdGlvbiBadSh0KXtsZXQgZT1oeSt0Lm5hbWU7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibmFtZVwiLHt2YWx1ZTplfSksdH1mdW5jdGlvbiBweSh0LGUpe2lmKHQmJmUmJnQhPT1lKXtpZihBcnJheS5pc0FycmF5KGUuZXJyb3JzKSlyZXR1cm4gZS5lcnJvcnMucHVzaCh0KSxlO2xldCByPW5ldyBseShbZSx0XSxlLm1lc3NhZ2UpO3JldHVybiByLmNvZGU9ZS5jb2RlLHJ9cmV0dXJuIHR8fGV9dmFyIHZzPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZT1cIlRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWRcIixyPXZvaWQgMCl7aWYociE9PXZvaWQgMCYmdHlwZW9mIHIhPVwib2JqZWN0XCIpdGhyb3cgbmV3IHppLkVSUl9JTlZBTElEX0FSR19UWVBFKFwib3B0aW9uc1wiLFwiT2JqZWN0XCIscik7c3VwZXIoZSxyKSx0aGlzLmNvZGU9XCJBQk9SVF9FUlJcIix0aGlzLm5hbWU9XCJBYm9ydEVycm9yXCI7fX07bWUoXCJFUlJfQVNTRVJUSU9OXCIsXCIlc1wiLEVycm9yKTttZShcIkVSUl9JTlZBTElEX0FSR19UWVBFXCIsKHQsZSxyKT0+e1h0KHR5cGVvZiB0PT1cInN0cmluZ1wiLFwiJ25hbWUnIG11c3QgYmUgYSBzdHJpbmdcIiksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtsZXQgaT1cIlRoZSBcIjt0LmVuZHNXaXRoKFwiIGFyZ3VtZW50XCIpP2krPWAke3R9IGA6aSs9YFwiJHt0fVwiICR7dC5pbmNsdWRlcyhcIi5cIik/XCJwcm9wZXJ0eVwiOlwiYXJndW1lbnRcIn0gYCxpKz1cIm11c3QgYmUgXCI7bGV0IG49W10sbz1bXSxzPVtdO2ZvcihsZXQgdSBvZiBlKVh0KHR5cGVvZiB1PT1cInN0cmluZ1wiLFwiQWxsIGV4cGVjdGVkIGVudHJpZXMgaGF2ZSB0byBiZSBvZiB0eXBlIHN0cmluZ1wiKSxmeS5pbmNsdWRlcyh1KT9uLnB1c2godS50b0xvd2VyQ2FzZSgpKTpjeS50ZXN0KHUpP28ucHVzaCh1KTooWHQodSE9PVwib2JqZWN0XCIsJ1RoZSB2YWx1ZSBcIm9iamVjdFwiIHNob3VsZCBiZSB3cml0dGVuIGFzIFwiT2JqZWN0XCInKSxzLnB1c2godSkpO2lmKG8ubGVuZ3RoPjApe2xldCB1PW4uaW5kZXhPZihcIm9iamVjdFwiKTt1IT09LTEmJihuLnNwbGljZShuLHUsMSksby5wdXNoKFwiT2JqZWN0XCIpKTt9aWYobi5sZW5ndGg+MCl7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDE6aSs9YG9mIHR5cGUgJHtuWzBdfWA7YnJlYWs7Y2FzZSAyOmkrPWBvbmUgb2YgdHlwZSAke25bMF19IG9yICR7blsxXX1gO2JyZWFrO2RlZmF1bHQ6e2xldCB1PW4ucG9wKCk7aSs9YG9uZSBvZiB0eXBlICR7bi5qb2luKFwiLCBcIil9LCBvciAke3V9YDt9fShvLmxlbmd0aD4wfHxzLmxlbmd0aD4wKSYmKGkrPVwiIG9yIFwiKTt9aWYoby5sZW5ndGg+MCl7c3dpdGNoKG8ubGVuZ3RoKXtjYXNlIDE6aSs9YGFuIGluc3RhbmNlIG9mICR7b1swXX1gO2JyZWFrO2Nhc2UgMjppKz1gYW4gaW5zdGFuY2Ugb2YgJHtvWzBdfSBvciAke29bMV19YDticmVhaztkZWZhdWx0OntsZXQgdT1vLnBvcCgpO2krPWBhbiBpbnN0YW5jZSBvZiAke28uam9pbihcIiwgXCIpfSwgb3IgJHt1fWA7fX1zLmxlbmd0aD4wJiYoaSs9XCIgb3IgXCIpO31zd2l0Y2gocy5sZW5ndGgpe2Nhc2UgMDpicmVhaztjYXNlIDE6c1swXS50b0xvd2VyQ2FzZSgpIT09c1swXSYmKGkrPVwiYW4gXCIpLGkrPWAke3NbMF19YDticmVhaztjYXNlIDI6aSs9YG9uZSBvZiAke3NbMF19IG9yICR7c1sxXX1gO2JyZWFrO2RlZmF1bHQ6e2xldCB1PXMucG9wKCk7aSs9YG9uZSBvZiAke3Muam9pbihcIiwgXCIpfSwgb3IgJHt1fWA7fX1pZihyPT1udWxsKWkrPWAuIFJlY2VpdmVkICR7cn1gO2Vsc2UgaWYodHlwZW9mIHI9PVwiZnVuY3Rpb25cIiYmci5uYW1lKWkrPWAuIFJlY2VpdmVkIGZ1bmN0aW9uICR7ci5uYW1lfWA7ZWxzZSBpZih0eXBlb2Ygcj09XCJvYmplY3RcIil7dmFyIGE7aWYoKGE9ci5jb25zdHJ1Y3RvcikhPT1udWxsJiZhIT09dm9pZCAwJiZhLm5hbWUpaSs9YC4gUmVjZWl2ZWQgYW4gaW5zdGFuY2Ugb2YgJHtyLmNvbnN0cnVjdG9yLm5hbWV9YDtlbHNlIHtsZXQgdT1WaShyLHtkZXB0aDotMX0pO2krPWAuIFJlY2VpdmVkICR7dX1gO319ZWxzZSB7bGV0IHU9Vmkocix7Y29sb3JzOiExfSk7dS5sZW5ndGg+MjUmJih1PWAke3Uuc2xpY2UoMCwyNSl9Li4uYCksaSs9YC4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiByfSAoJHt1fSlgO31yZXR1cm4gaX0sVHlwZUVycm9yKTttZShcIkVSUl9JTlZBTElEX0FSR19WQUxVRVwiLCh0LGUscj1cImlzIGludmFsaWRcIik9PntsZXQgaT1WaShlKTtyZXR1cm4gaS5sZW5ndGg+MTI4JiYoaT1pLnNsaWNlKDAsMTI4KStcIi4uLlwiKSxgVGhlICR7dC5pbmNsdWRlcyhcIi5cIik/XCJwcm9wZXJ0eVwiOlwiYXJndW1lbnRcIn0gJyR7dH0nICR7cn0uIFJlY2VpdmVkICR7aX1gfSxUeXBlRXJyb3IpO21lKFwiRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFXCIsKHQsZSxyKT0+e3ZhciBpO2xldCBuPXIhPW51bGwmJihpPXIuY29uc3RydWN0b3IpIT09bnVsbCYmaSE9PXZvaWQgMCYmaS5uYW1lP2BpbnN0YW5jZSBvZiAke3IuY29uc3RydWN0b3IubmFtZX1gOmB0eXBlICR7dHlwZW9mIHJ9YDtyZXR1cm4gYEV4cGVjdGVkICR7dH0gdG8gYmUgcmV0dXJuZWQgZnJvbSB0aGUgXCIke2V9XCIgZnVuY3Rpb24gYnV0IGdvdCAke259LmB9LFR5cGVFcnJvcik7bWUoXCJFUlJfTUlTU0lOR19BUkdTXCIsKC4uLnQpPT57WHQodC5sZW5ndGg+MCxcIkF0IGxlYXN0IG9uZSBhcmcgbmVlZHMgdG8gYmUgc3BlY2lmaWVkXCIpO2xldCBlLHI9dC5sZW5ndGg7c3dpdGNoKHQ9KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pLm1hcChpPT5gXCIke2l9XCJgKS5qb2luKFwiIG9yIFwiKSxyKXtjYXNlIDE6ZSs9YFRoZSAke3RbMF19IGFyZ3VtZW50YDticmVhaztjYXNlIDI6ZSs9YFRoZSAke3RbMF19IGFuZCAke3RbMV19IGFyZ3VtZW50c2A7YnJlYWs7ZGVmYXVsdDp7bGV0IGk9dC5wb3AoKTtlKz1gVGhlICR7dC5qb2luKFwiLCBcIil9LCBhbmQgJHtpfSBhcmd1bWVudHNgO31icmVha31yZXR1cm4gYCR7ZX0gbXVzdCBiZSBzcGVjaWZpZWRgfSxUeXBlRXJyb3IpO21lKFwiRVJSX09VVF9PRl9SQU5HRVwiLCh0LGUscik9PntYdChlLCdNaXNzaW5nIFwicmFuZ2VcIiBhcmd1bWVudCcpO2xldCBpO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHIpJiZNYXRoLmFicyhyKT4yKiozMj9pPVh1KFN0cmluZyhyKSk6dHlwZW9mIHI9PVwiYmlnaW50XCI/KGk9U3RyaW5nKHIpLChyPjJuKiozMm58fHI8LSgybioqMzJuKSkmJihpPVh1KGkpKSxpKz1cIm5cIik6aT1WaShyKSxgVGhlIHZhbHVlIG9mIFwiJHt0fVwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSAke2V9LiBSZWNlaXZlZCAke2l9YH0sUmFuZ2VFcnJvcik7bWUoXCJFUlJfTVVMVElQTEVfQ0FMTEJBQ0tcIixcIkNhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1wiLEVycm9yKTttZShcIkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEXCIsXCJUaGUgJXMgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZFwiLEVycm9yKTttZShcIkVSUl9TVFJFQU1fQUxSRUFEWV9GSU5JU0hFRFwiLFwiQ2Fubm90IGNhbGwgJXMgYWZ0ZXIgYSBzdHJlYW0gd2FzIGZpbmlzaGVkXCIsRXJyb3IpO21lKFwiRVJSX1NUUkVBTV9DQU5OT1RfUElQRVwiLFwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZVwiLEVycm9yKTttZShcIkVSUl9TVFJFQU1fREVTVFJPWUVEXCIsXCJDYW5ub3QgY2FsbCAlcyBhZnRlciBhIHN0cmVhbSB3YXMgZGVzdHJveWVkXCIsRXJyb3IpO21lKFwiRVJSX1NUUkVBTV9OVUxMX1ZBTFVFU1wiLFwiTWF5IG5vdCB3cml0ZSBudWxsIHZhbHVlcyB0byBzdHJlYW1cIixUeXBlRXJyb3IpO21lKFwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIixcIlByZW1hdHVyZSBjbG9zZVwiLEVycm9yKTttZShcIkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0ZcIixcInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GXCIsRXJyb3IpO21lKFwiRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVFwiLFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIixFcnJvcik7bWUoXCJFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORFwiLFwid3JpdGUgYWZ0ZXIgZW5kXCIsRXJyb3IpO21lKFwiRVJSX1VOS05PV05fRU5DT0RJTkdcIixcIlVua25vd24gZW5jb2Rpbmc6ICVzXCIsVHlwZUVycm9yKTtlZi5leHBvcnRzPXtBYm9ydEVycm9yOnZzLGFnZ3JlZ2F0ZVR3b0Vycm9yczpadShweSksaGlkZVN0YWNrRnJhbWVzOlp1LGNvZGVzOnppfTt9KTt2YXIgZmk9TSgoeUksZmYpPT57digpO20oKTtfKCk7dmFye0FycmF5SXNBcnJheTpTcyxBcnJheVByb3RvdHlwZUluY2x1ZGVzOnNmLEFycmF5UHJvdG90eXBlSm9pbjpvZixBcnJheVByb3RvdHlwZU1hcDpneSxOdW1iZXJJc0ludGVnZXI6QXMsTnVtYmVySXNOYU46eXksTnVtYmVyTUFYX1NBRkVfSU5URUdFUjpieSxOdW1iZXJNSU5fU0FGRV9JTlRFR0VSOnd5LE51bWJlclBhcnNlSW50Ol95LE9iamVjdFByb3RvdHlwZUhhc093blByb3BlcnR5Om15LFJlZ0V4cFByb3RvdHlwZUV4ZWM6YWYsU3RyaW5nOnZ5LFN0cmluZ1Byb3RvdHlwZVRvVXBwZXJDYXNlOkV5LFN0cmluZ1Byb3RvdHlwZVRyaW06U3l9PWNlKCkse2hpZGVTdGFja0ZyYW1lczpVZSxjb2Rlczp7RVJSX1NPQ0tFVF9CQURfUE9SVDpBeSxFUlJfSU5WQUxJRF9BUkdfVFlQRTpBZSxFUlJfSU5WQUxJRF9BUkdfVkFMVUU6TXIsRVJSX09VVF9PRl9SQU5HRTpadCxFUlJfVU5LTk9XTl9TSUdOQUw6dGZ9fT1TZSgpLHtub3JtYWxpemVFbmNvZGluZzpJeX09SmUoKSx7aXNBc3luY0Z1bmN0aW9uOlR5LGlzQXJyYXlCdWZmZXJWaWV3OlJ5fT1KZSgpLnR5cGVzLHJmPXt9O2Z1bmN0aW9uIEN5KHQpe3JldHVybiB0PT09KHR8MCl9ZnVuY3Rpb24gQnkodCl7cmV0dXJuIHQ9PT10Pj4+MH12YXIgUHk9L15bMC03XSskLyxPeT1cIm11c3QgYmUgYSAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciBvciBhbiBvY3RhbCBzdHJpbmdcIjtmdW5jdGlvbiBreSh0LGUscil7aWYodHlwZW9mIHQ+XCJ1XCImJih0PXIpLHR5cGVvZiB0PT1cInN0cmluZ1wiKXtpZihhZihQeSx0KT09PW51bGwpdGhyb3cgbmV3IE1yKGUsdCxPeSk7dD1feSh0LDgpO31yZXR1cm4gbGYodCxlKSx0fXZhciB4eT1VZSgodCxlLHI9d3ksaT1ieSk9PntpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgQWUoZSxcIm51bWJlclwiLHQpO2lmKCFBcyh0KSl0aHJvdyBuZXcgWnQoZSxcImFuIGludGVnZXJcIix0KTtpZih0PHJ8fHQ+aSl0aHJvdyBuZXcgWnQoZSxgPj0gJHtyfSAmJiA8PSAke2l9YCx0KX0pLE15PVVlKCh0LGUscj0tMjE0NzQ4MzY0OCxpPTIxNDc0ODM2NDcpPT57aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IEFlKGUsXCJudW1iZXJcIix0KTtpZighQXModCkpdGhyb3cgbmV3IFp0KGUsXCJhbiBpbnRlZ2VyXCIsdCk7aWYodDxyfHx0PmkpdGhyb3cgbmV3IFp0KGUsYD49ICR7cn0gJiYgPD0gJHtpfWAsdCl9KSxsZj1VZSgodCxlLHI9ITEpPT57aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IEFlKGUsXCJudW1iZXJcIix0KTtpZighQXModCkpdGhyb3cgbmV3IFp0KGUsXCJhbiBpbnRlZ2VyXCIsdCk7bGV0IGk9cj8xOjAsbj00Mjk0OTY3Mjk1O2lmKHQ8aXx8dD5uKXRocm93IG5ldyBadChlLGA+PSAke2l9ICYmIDw9ICR7bn1gLHQpfSk7ZnVuY3Rpb24gSXModCxlKXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgQWUoZSxcInN0cmluZ1wiLHQpfWZ1bmN0aW9uIEx5KHQsZSxyPXZvaWQgMCxpKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgQWUoZSxcIm51bWJlclwiLHQpO2lmKHIhPW51bGwmJnQ8cnx8aSE9bnVsbCYmdD5pfHwociE9bnVsbHx8aSE9bnVsbCkmJnl5KHQpKXRocm93IG5ldyBadChlLGAke3IhPW51bGw/YD49ICR7cn1gOlwiXCJ9JHtyIT1udWxsJiZpIT1udWxsP1wiICYmIFwiOlwiXCJ9JHtpIT1udWxsP2A8PSAke2l9YDpcIlwifWAsdCl9dmFyIFV5PVVlKCh0LGUscik9PntpZighc2Yocix0KSl7bGV0IG49XCJtdXN0IGJlIG9uZSBvZjogXCIrb2YoZ3kocixvPT50eXBlb2Ygbz09XCJzdHJpbmdcIj9gJyR7b30nYDp2eShvKSksXCIsIFwiKTt0aHJvdyBuZXcgTXIoZSx0LG4pfX0pO2Z1bmN0aW9uIHVmKHQsZSl7aWYodHlwZW9mIHQhPVwiYm9vbGVhblwiKXRocm93IG5ldyBBZShlLFwiYm9vbGVhblwiLHQpfWZ1bmN0aW9uIEVzKHQsZSxyKXtyZXR1cm4gdD09bnVsbHx8IW15KHQsZSk/cjp0W2VdfXZhciBOeT1VZSgodCxlLHI9bnVsbCk9PntsZXQgaT1FcyhyLFwiYWxsb3dBcnJheVwiLCExKSxuPUVzKHIsXCJhbGxvd0Z1bmN0aW9uXCIsITEpO2lmKCFFcyhyLFwibnVsbGFibGVcIiwhMSkmJnQ9PT1udWxsfHwhaSYmU3ModCl8fHR5cGVvZiB0IT1cIm9iamVjdFwiJiYoIW58fHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpKXRocm93IG5ldyBBZShlLFwiT2JqZWN0XCIsdCl9KSxxeT1VZSgodCxlKT0+e2lmKHQhPW51bGwmJnR5cGVvZiB0IT1cIm9iamVjdFwiJiZ0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBBZShlLFwiYSBkaWN0aW9uYXJ5XCIsdCl9KSxUcz1VZSgodCxlLHI9MCk9PntpZighU3ModCkpdGhyb3cgbmV3IEFlKGUsXCJBcnJheVwiLHQpO2lmKHQubGVuZ3RoPHIpe2xldCBpPWBtdXN0IGJlIGxvbmdlciB0aGFuICR7cn1gO3Rocm93IG5ldyBNcihlLHQsaSl9fSk7ZnVuY3Rpb24gRHkodCxlKXtUcyh0LGUpO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKUlzKHRbcl0sYCR7ZX1bJHtyfV1gKTt9ZnVuY3Rpb24gankodCxlKXtUcyh0LGUpO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXVmKHRbcl0sYCR7ZX1bJHtyfV1gKTt9ZnVuY3Rpb24gRnkodCxlPVwic2lnbmFsXCIpe2lmKElzKHQsZSkscmZbdF09PT12b2lkIDApdGhyb3cgcmZbRXkodCldIT09dm9pZCAwP25ldyB0Zih0K1wiIChzaWduYWxzIG11c3QgdXNlIGFsbCBjYXBpdGFsIGxldHRlcnMpXCIpOm5ldyB0Zih0KX12YXIgV3k9VWUoKHQsZT1cImJ1ZmZlclwiKT0+e2lmKCFSeSh0KSl0aHJvdyBuZXcgQWUoZSxbXCJCdWZmZXJcIixcIlR5cGVkQXJyYXlcIixcIkRhdGFWaWV3XCJdLHQpfSk7ZnVuY3Rpb24gJHkodCxlKXtsZXQgcj1JeShlKSxpPXQubGVuZ3RoO2lmKHI9PT1cImhleFwiJiZpJTIhPT0wKXRocm93IG5ldyBNcihcImVuY29kaW5nXCIsZSxgaXMgaW52YWxpZCBmb3IgZGF0YSBvZiBsZW5ndGggJHtpfWApfWZ1bmN0aW9uIEh5KHQsZT1cIlBvcnRcIixyPSEwKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIiYmdHlwZW9mIHQhPVwic3RyaW5nXCJ8fHR5cGVvZiB0PT1cInN0cmluZ1wiJiZTeSh0KS5sZW5ndGg9PT0wfHwrdCE9PSt0Pj4+MHx8dD42NTUzNXx8dD09PTAmJiFyKXRocm93IG5ldyBBeShlLHQscik7cmV0dXJuIHR8MH12YXIgVnk9VWUoKHQsZSk9PntpZih0IT09dm9pZCAwJiYodD09PW51bGx8fHR5cGVvZiB0IT1cIm9iamVjdFwifHwhKFwiYWJvcnRlZFwiaW4gdCkpKXRocm93IG5ldyBBZShlLFwiQWJvcnRTaWduYWxcIix0KX0pLHp5PVVlKCh0LGUpPT57aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgQWUoZSxcIkZ1bmN0aW9uXCIsdCl9KSxLeT1VZSgodCxlKT0+e2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCJ8fFR5KHQpKXRocm93IG5ldyBBZShlLFwiRnVuY3Rpb25cIix0KX0pLEd5PVVlKCh0LGUpPT57aWYodCE9PXZvaWQgMCl0aHJvdyBuZXcgQWUoZSxcInVuZGVmaW5lZFwiLHQpfSk7ZnVuY3Rpb24gUXkodCxlLHIpe2lmKCFzZihyLHQpKXRocm93IG5ldyBBZShlLGAoJyR7b2YocixcInxcIil9JylgLHQpfXZhciBZeT0vXig/OjxbXj5dKj4pKD86XFxzKjtcXHMqW147XCJcXHNdKyg/Oj0oXCIpP1teO1wiXFxzXSpcXDEpPykqJC87ZnVuY3Rpb24gbmYodCxlKXtpZih0eXBlb2YgdD5cInVcInx8IWFmKFl5LHQpKXRocm93IG5ldyBNcihlLHQsJ211c3QgYmUgYW4gYXJyYXkgb3Igc3RyaW5nIG9mIGZvcm1hdCBcIjwvc3R5bGVzLmNzcz47IHJlbD1wcmVsb2FkOyBhcz1zdHlsZVwiJyl9ZnVuY3Rpb24gSnkodCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpcmV0dXJuIG5mKHQsXCJoaW50c1wiKSx0O2lmKFNzKHQpKXtsZXQgZT10Lmxlbmd0aCxyPVwiXCI7aWYoZT09PTApcmV0dXJuIHI7Zm9yKGxldCBpPTA7aTxlO2krKyl7bGV0IG49dFtpXTtuZihuLFwiaGludHNcIikscis9bixpIT09ZS0xJiYocis9XCIsIFwiKTt9cmV0dXJuIHJ9dGhyb3cgbmV3IE1yKFwiaGludHNcIix0LCdtdXN0IGJlIGFuIGFycmF5IG9yIHN0cmluZyBvZiBmb3JtYXQgXCI8L3N0eWxlcy5jc3M+OyByZWw9cHJlbG9hZDsgYXM9c3R5bGVcIicpfWZmLmV4cG9ydHM9e2lzSW50MzI6Q3ksaXNVaW50MzI6QnkscGFyc2VGaWxlTW9kZTpreSx2YWxpZGF0ZUFycmF5OlRzLHZhbGlkYXRlU3RyaW5nQXJyYXk6RHksdmFsaWRhdGVCb29sZWFuQXJyYXk6anksdmFsaWRhdGVCb29sZWFuOnVmLHZhbGlkYXRlQnVmZmVyOld5LHZhbGlkYXRlRGljdGlvbmFyeTpxeSx2YWxpZGF0ZUVuY29kaW5nOiR5LHZhbGlkYXRlRnVuY3Rpb246enksdmFsaWRhdGVJbnQzMjpNeSx2YWxpZGF0ZUludGVnZXI6eHksdmFsaWRhdGVOdW1iZXI6THksdmFsaWRhdGVPYmplY3Q6TnksdmFsaWRhdGVPbmVPZjpVeSx2YWxpZGF0ZVBsYWluRnVuY3Rpb246S3ksdmFsaWRhdGVQb3J0Okh5LHZhbGlkYXRlU2lnbmFsTmFtZTpGeSx2YWxpZGF0ZVN0cmluZzpJcyx2YWxpZGF0ZVVpbnQzMjpsZix2YWxpZGF0ZVVuZGVmaW5lZDpHeSx2YWxpZGF0ZVVuaW9uOlF5LHZhbGlkYXRlQWJvcnRTaWduYWw6VnksdmFsaWRhdGVMaW5rSGVhZGVyVmFsdWU6Snl9O30pO3ZhciBVdD1NKChUSSxwZik9Pnt2KCk7bSgpO18oKTt2YXIgYWU9cGYuZXhwb3J0cz17fSxYZSxaZTtmdW5jdGlvbiBScygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gQ3MoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9KGZ1bmN0aW9uKCl7dHJ5e3R5cGVvZiBzZXRUaW1lb3V0PT1cImZ1bmN0aW9uXCI/WGU9c2V0VGltZW91dDpYZT1Sczt9Y2F0Y2h7WGU9UnM7fXRyeXt0eXBlb2YgY2xlYXJUaW1lb3V0PT1cImZ1bmN0aW9uXCI/WmU9Y2xlYXJUaW1lb3V0OlplPUNzO31jYXRjaHtaZT1Dczt9fSkoKTtmdW5jdGlvbiBjZih0KXtpZihYZT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigoWGU9PT1Sc3x8IVhlKSYmc2V0VGltZW91dClyZXR1cm4gWGU9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBYZSh0LDApfWNhdGNoe3RyeXtyZXR1cm4gWGUuY2FsbChudWxsLHQsMCl9Y2F0Y2h7cmV0dXJuIFhlLmNhbGwodGhpcyx0LDApfX19ZnVuY3Rpb24gWHkodCl7aWYoWmU9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigoWmU9PT1Dc3x8IVplKSYmY2xlYXJUaW1lb3V0KXJldHVybiBaZT1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gWmUodCl9Y2F0Y2h7dHJ5e3JldHVybiBaZS5jYWxsKG51bGwsdCl9Y2F0Y2h7cmV0dXJuIFplLmNhbGwodGhpcyx0KX19fXZhciB3dD1bXSxMcj0hMSxlcixLaT0tMTtmdW5jdGlvbiBaeSgpeyFMcnx8IWVyfHwoTHI9ITEsZXIubGVuZ3RoP3d0PWVyLmNvbmNhdCh3dCk6S2k9LTEsd3QubGVuZ3RoJiZoZigpKTt9ZnVuY3Rpb24gaGYoKXtpZighTHIpe3ZhciB0PWNmKFp5KTtMcj0hMDtmb3IodmFyIGU9d3QubGVuZ3RoO2U7KXtmb3IoZXI9d3Qsd3Q9W107KytLaTxlOyllciYmZXJbS2ldLnJ1bigpO0tpPS0xLGU9d3QubGVuZ3RoO31lcj1udWxsLExyPSExLFh5KHQpO319YWUubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTt3dC5wdXNoKG5ldyBkZih0LGUpKSx3dC5sZW5ndGg9PT0xJiYhTHImJmNmKGhmKTt9O2Z1bmN0aW9uIGRmKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWU7fWRmLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpO307YWUudGl0bGU9XCJicm93c2VyXCI7YWUuYnJvd3Nlcj0hMDthZS5lbnY9e307YWUuYXJndj1bXTthZS52ZXJzaW9uPVwiXCI7YWUudmVyc2lvbnM9e307ZnVuY3Rpb24gX3QoKXt9YWUub249X3Q7YWUuYWRkTGlzdGVuZXI9X3Q7YWUub25jZT1fdDthZS5vZmY9X3Q7YWUucmVtb3ZlTGlzdGVuZXI9X3Q7YWUucmVtb3ZlQWxsTGlzdGVuZXJzPV90O2FlLmVtaXQ9X3Q7YWUucHJlcGVuZExpc3RlbmVyPV90O2FlLnByZXBlbmRPbmNlTGlzdGVuZXI9X3Q7YWUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiBbXX07YWUuYmluZGluZz1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX07YWUuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIFwiL1wifTthZS5jaGRpcj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9O2FlLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O30pO3ZhciB0dD1NKChVSSxQZik9Pnt2KCk7bSgpO18oKTt2YXJ7U3ltYm9sOkdpLFN5bWJvbEFzeW5jSXRlcmF0b3I6Z2YsU3ltYm9sSXRlcmF0b3I6eWYsU3ltYm9sRm9yOmJmfT1jZSgpLHdmPUdpKFwia0Rlc3Ryb3llZFwiKSxfZj1HaShcImtJc0Vycm9yZWRcIiksQnM9R2koXCJrSXNSZWFkYWJsZVwiKSxtZj1HaShcImtJc0Rpc3R1cmJlZFwiKSxlYj1iZihcIm5vZGVqcy53ZWJzdHJlYW0uaXNDbG9zZWRQcm9taXNlXCIpLHRiPWJmKFwibm9kZWpzLndlYnN0cmVhbS5jb250cm9sbGVyRXJyb3JGdW5jdGlvblwiKTtmdW5jdGlvbiBRaSh0LGU9ITEpe3ZhciByO3JldHVybiAhISh0JiZ0eXBlb2YgdC5waXBlPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0Lm9uPT1cImZ1bmN0aW9uXCImJighZXx8dHlwZW9mIHQucGF1c2U9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQucmVzdW1lPT1cImZ1bmN0aW9uXCIpJiYoIXQuX3dyaXRhYmxlU3RhdGV8fCgocj10Ll9yZWFkYWJsZVN0YXRlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIucmVhZGFibGUpIT09ITEpJiYoIXQuX3dyaXRhYmxlU3RhdGV8fHQuX3JlYWRhYmxlU3RhdGUpKX1mdW5jdGlvbiBZaSh0KXt2YXIgZTtyZXR1cm4gISEodCYmdHlwZW9mIHQud3JpdGU9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQub249PVwiZnVuY3Rpb25cIiYmKCF0Ll9yZWFkYWJsZVN0YXRlfHwoKGU9dC5fd3JpdGFibGVTdGF0ZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLndyaXRhYmxlKSE9PSExKSl9ZnVuY3Rpb24gcmIodCl7cmV0dXJuICEhKHQmJnR5cGVvZiB0LnBpcGU9PVwiZnVuY3Rpb25cIiYmdC5fcmVhZGFibGVTdGF0ZSYmdHlwZW9mIHQub249PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQud3JpdGU9PVwiZnVuY3Rpb25cIil9ZnVuY3Rpb24gZXQodCl7cmV0dXJuIHQmJih0Ll9yZWFkYWJsZVN0YXRlfHx0Ll93cml0YWJsZVN0YXRlfHx0eXBlb2YgdC53cml0ZT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5vbj09XCJmdW5jdGlvblwifHx0eXBlb2YgdC5waXBlPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0Lm9uPT1cImZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHZmKHQpe3JldHVybiAhISh0JiYhZXQodCkmJnR5cGVvZiB0LnBpcGVUaHJvdWdoPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0LmdldFJlYWRlcj09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5jYW5jZWw9PVwiZnVuY3Rpb25cIil9ZnVuY3Rpb24gRWYodCl7cmV0dXJuICEhKHQmJiFldCh0KSYmdHlwZW9mIHQuZ2V0V3JpdGVyPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0LmFib3J0PT1cImZ1bmN0aW9uXCIpfWZ1bmN0aW9uIFNmKHQpe3JldHVybiAhISh0JiYhZXQodCkmJnR5cGVvZiB0LnJlYWRhYmxlPT1cIm9iamVjdFwiJiZ0eXBlb2YgdC53cml0YWJsZT09XCJvYmplY3RcIil9ZnVuY3Rpb24gaWIodCl7cmV0dXJuIHZmKHQpfHxFZih0KXx8U2YodCl9ZnVuY3Rpb24gbmIodCxlKXtyZXR1cm4gdD09bnVsbD8hMTplPT09ITA/dHlwZW9mIHRbZ2ZdPT1cImZ1bmN0aW9uXCI6ZT09PSExP3R5cGVvZiB0W3lmXT09XCJmdW5jdGlvblwiOnR5cGVvZiB0W2dmXT09XCJmdW5jdGlvblwifHx0eXBlb2YgdFt5Zl09PVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBKaSh0KXtpZighZXQodCkpcmV0dXJuIG51bGw7bGV0IGU9dC5fd3JpdGFibGVTdGF0ZSxyPXQuX3JlYWRhYmxlU3RhdGUsaT1lfHxyO3JldHVybiAhISh0LmRlc3Ryb3llZHx8dFt3Zl18fGkhPW51bGwmJmkuZGVzdHJveWVkKX1mdW5jdGlvbiBBZih0KXtpZighWWkodCkpcmV0dXJuIG51bGw7aWYodC53cml0YWJsZUVuZGVkPT09ITApcmV0dXJuICEwO2xldCBlPXQuX3dyaXRhYmxlU3RhdGU7cmV0dXJuIGUhPW51bGwmJmUuZXJyb3JlZD8hMTp0eXBlb2YgZT8uZW5kZWQhPVwiYm9vbGVhblwiP251bGw6ZS5lbmRlZH1mdW5jdGlvbiBzYih0LGUpe2lmKCFZaSh0KSlyZXR1cm4gbnVsbDtpZih0LndyaXRhYmxlRmluaXNoZWQ9PT0hMClyZXR1cm4gITA7bGV0IHI9dC5fd3JpdGFibGVTdGF0ZTtyZXR1cm4gciE9bnVsbCYmci5lcnJvcmVkPyExOnR5cGVvZiByPy5maW5pc2hlZCE9XCJib29sZWFuXCI/bnVsbDohIShyLmZpbmlzaGVkfHxlPT09ITEmJnIuZW5kZWQ9PT0hMCYmci5sZW5ndGg9PT0wKX1mdW5jdGlvbiBvYih0KXtpZighUWkodCkpcmV0dXJuIG51bGw7aWYodC5yZWFkYWJsZUVuZGVkPT09ITApcmV0dXJuICEwO2xldCBlPXQuX3JlYWRhYmxlU3RhdGU7cmV0dXJuICFlfHxlLmVycm9yZWQ/ITE6dHlwZW9mIGU/LmVuZGVkIT1cImJvb2xlYW5cIj9udWxsOmUuZW5kZWR9ZnVuY3Rpb24gSWYodCxlKXtpZighUWkodCkpcmV0dXJuIG51bGw7bGV0IHI9dC5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gciE9bnVsbCYmci5lcnJvcmVkPyExOnR5cGVvZiByPy5lbmRFbWl0dGVkIT1cImJvb2xlYW5cIj9udWxsOiEhKHIuZW5kRW1pdHRlZHx8ZT09PSExJiZyLmVuZGVkPT09ITAmJnIubGVuZ3RoPT09MCl9ZnVuY3Rpb24gVGYodCl7cmV0dXJuIHQmJnRbQnNdIT1udWxsP3RbQnNdOnR5cGVvZiB0Py5yZWFkYWJsZSE9XCJib29sZWFuXCI/bnVsbDpKaSh0KT8hMTpRaSh0KSYmdC5yZWFkYWJsZSYmIUlmKHQpfWZ1bmN0aW9uIFJmKHQpe3JldHVybiB0eXBlb2YgdD8ud3JpdGFibGUhPVwiYm9vbGVhblwiP251bGw6SmkodCk/ITE6WWkodCkmJnQud3JpdGFibGUmJiFBZih0KX1mdW5jdGlvbiBhYih0LGUpe3JldHVybiBldCh0KT9KaSh0KT8hMDohKGU/LnJlYWRhYmxlIT09ITEmJlRmKHQpfHxlPy53cml0YWJsZSE9PSExJiZSZih0KSk6bnVsbH1mdW5jdGlvbiBsYih0KXt2YXIgZSxyO3JldHVybiBldCh0KT90LndyaXRhYmxlRXJyb3JlZD90LndyaXRhYmxlRXJyb3JlZDooZT0ocj10Ll93cml0YWJsZVN0YXRlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuZXJyb3JlZCkhPT1udWxsJiZlIT09dm9pZCAwP2U6bnVsbDpudWxsfWZ1bmN0aW9uIHViKHQpe3ZhciBlLHI7cmV0dXJuIGV0KHQpP3QucmVhZGFibGVFcnJvcmVkP3QucmVhZGFibGVFcnJvcmVkOihlPShyPXQuX3JlYWRhYmxlU3RhdGUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5lcnJvcmVkKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpudWxsOm51bGx9ZnVuY3Rpb24gZmIodCl7aWYoIWV0KHQpKXJldHVybiBudWxsO2lmKHR5cGVvZiB0LmNsb3NlZD09XCJib29sZWFuXCIpcmV0dXJuIHQuY2xvc2VkO2xldCBlPXQuX3dyaXRhYmxlU3RhdGUscj10Ll9yZWFkYWJsZVN0YXRlO3JldHVybiB0eXBlb2YgZT8uY2xvc2VkPT1cImJvb2xlYW5cInx8dHlwZW9mIHI/LmNsb3NlZD09XCJib29sZWFuXCI/ZT8uY2xvc2VkfHxyPy5jbG9zZWQ6dHlwZW9mIHQuX2Nsb3NlZD09XCJib29sZWFuXCImJkNmKHQpP3QuX2Nsb3NlZDpudWxsfWZ1bmN0aW9uIENmKHQpe3JldHVybiB0eXBlb2YgdC5fY2xvc2VkPT1cImJvb2xlYW5cIiYmdHlwZW9mIHQuX2RlZmF1bHRLZWVwQWxpdmU9PVwiYm9vbGVhblwiJiZ0eXBlb2YgdC5fcmVtb3ZlZENvbm5lY3Rpb249PVwiYm9vbGVhblwiJiZ0eXBlb2YgdC5fcmVtb3ZlZENvbnRMZW49PVwiYm9vbGVhblwifWZ1bmN0aW9uIEJmKHQpe3JldHVybiB0eXBlb2YgdC5fc2VudDEwMD09XCJib29sZWFuXCImJkNmKHQpfWZ1bmN0aW9uIGNiKHQpe3ZhciBlO3JldHVybiB0eXBlb2YgdC5fY29uc3VtaW5nPT1cImJvb2xlYW5cIiYmdHlwZW9mIHQuX2R1bXBlZD09XCJib29sZWFuXCImJigoZT10LnJlcSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnVwZ3JhZGVPckNvbm5lY3QpPT09dm9pZCAwfWZ1bmN0aW9uIGhiKHQpe2lmKCFldCh0KSlyZXR1cm4gbnVsbDtsZXQgZT10Ll93cml0YWJsZVN0YXRlLHI9dC5fcmVhZGFibGVTdGF0ZSxpPWV8fHI7cmV0dXJuICFpJiZCZih0KXx8ISEoaSYmaS5hdXRvRGVzdHJveSYmaS5lbWl0Q2xvc2UmJmkuY2xvc2VkPT09ITEpfWZ1bmN0aW9uIGRiKHQpe3ZhciBlO3JldHVybiAhISh0JiYoKGU9dFttZl0pIT09bnVsbCYmZSE9PXZvaWQgMD9lOnQucmVhZGFibGVEaWRSZWFkfHx0LnJlYWRhYmxlQWJvcnRlZCkpfWZ1bmN0aW9uIHBiKHQpe3ZhciBlLHIsaSxuLG8scyxhLHUsYyxoO3JldHVybiAhISh0JiYoKGU9KHI9KGk9KG49KG89KHM9dFtfZl0pIT09bnVsbCYmcyE9PXZvaWQgMD9zOnQucmVhZGFibGVFcnJvcmVkKSE9PW51bGwmJm8hPT12b2lkIDA/bzp0LndyaXRhYmxlRXJyb3JlZCkhPT1udWxsJiZuIT09dm9pZCAwP246KGE9dC5fcmVhZGFibGVTdGF0ZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmVycm9yRW1pdHRlZCkhPT1udWxsJiZpIT09dm9pZCAwP2k6KHU9dC5fd3JpdGFibGVTdGF0ZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LmVycm9yRW1pdHRlZCkhPT1udWxsJiZyIT09dm9pZCAwP3I6KGM9dC5fcmVhZGFibGVTdGF0ZSk9PT1udWxsfHxjPT09dm9pZCAwP3ZvaWQgMDpjLmVycm9yZWQpIT09bnVsbCYmZSE9PXZvaWQgMD9lOiEoKGg9dC5fd3JpdGFibGVTdGF0ZSk9PT1udWxsfHxoPT09dm9pZCAwKSYmaC5lcnJvcmVkKSl9UGYuZXhwb3J0cz17a0Rlc3Ryb3llZDp3Zixpc0Rpc3R1cmJlZDpkYixrSXNEaXN0dXJiZWQ6bWYsaXNFcnJvcmVkOnBiLGtJc0Vycm9yZWQ6X2YsaXNSZWFkYWJsZTpUZixrSXNSZWFkYWJsZTpCcyxrSXNDbG9zZWRQcm9taXNlOmViLGtDb250cm9sbGVyRXJyb3JGdW5jdGlvbjp0Yixpc0Nsb3NlZDpmYixpc0Rlc3Ryb3llZDpKaSxpc0R1cGxleE5vZGVTdHJlYW06cmIsaXNGaW5pc2hlZDphYixpc0l0ZXJhYmxlOm5iLGlzUmVhZGFibGVOb2RlU3RyZWFtOlFpLGlzUmVhZGFibGVTdHJlYW06dmYsaXNSZWFkYWJsZUVuZGVkOm9iLGlzUmVhZGFibGVGaW5pc2hlZDpJZixpc1JlYWRhYmxlRXJyb3JlZDp1Yixpc05vZGVTdHJlYW06ZXQsaXNXZWJTdHJlYW06aWIsaXNXcml0YWJsZTpSZixpc1dyaXRhYmxlTm9kZVN0cmVhbTpZaSxpc1dyaXRhYmxlU3RyZWFtOkVmLGlzV3JpdGFibGVFbmRlZDpBZixpc1dyaXRhYmxlRmluaXNoZWQ6c2IsaXNXcml0YWJsZUVycm9yZWQ6bGIsaXNTZXJ2ZXJSZXF1ZXN0OmNiLGlzU2VydmVyUmVzcG9uc2U6QmYsd2lsbEVtaXRDbG9zZTpoYixpc1RyYW5zZm9ybVN0cmVhbTpTZn07fSk7dmFyIG10PU0oKHpJLE1zKT0+e3YoKTttKCk7XygpO3ZhciBOdD1VdCgpLHtBYm9ydEVycm9yOkRmLGNvZGVzOmdifT1TZSgpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTp5YixFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRTpPZn09Z2Ise2tFbXB0eU9iamVjdDpPcyxvbmNlOmtzfT1KZSgpLHt2YWxpZGF0ZUFib3J0U2lnbmFsOmJiLHZhbGlkYXRlRnVuY3Rpb246d2IsdmFsaWRhdGVPYmplY3Q6X2IsdmFsaWRhdGVCb29sZWFuOm1ifT1maSgpLHtQcm9taXNlOnZiLFByb21pc2VQcm90b3R5cGVUaGVuOkVifT1jZSgpLHtpc0Nsb3NlZDpTYixpc1JlYWRhYmxlOmtmLGlzUmVhZGFibGVOb2RlU3RyZWFtOlBzLGlzUmVhZGFibGVTdHJlYW06QWIsaXNSZWFkYWJsZUZpbmlzaGVkOnhmLGlzUmVhZGFibGVFcnJvcmVkOk1mLGlzV3JpdGFibGU6TGYsaXNXcml0YWJsZU5vZGVTdHJlYW06VWYsaXNXcml0YWJsZVN0cmVhbTpJYixpc1dyaXRhYmxlRmluaXNoZWQ6TmYsaXNXcml0YWJsZUVycm9yZWQ6cWYsaXNOb2RlU3RyZWFtOlRiLHdpbGxFbWl0Q2xvc2U6UmIsa0lzQ2xvc2VkUHJvbWlzZTpDYn09dHQoKTtmdW5jdGlvbiBCYih0KXtyZXR1cm4gdC5zZXRIZWFkZXImJnR5cGVvZiB0LmFib3J0PT1cImZ1bmN0aW9uXCJ9dmFyIHhzPSgpPT57fTtmdW5jdGlvbiBqZih0LGUscil7dmFyIGksbjtpZihhcmd1bWVudHMubGVuZ3RoPT09Mj8ocj1lLGU9T3MpOmU9PW51bGw/ZT1PczpfYihlLFwib3B0aW9uc1wiKSx3YihyLFwiY2FsbGJhY2tcIiksYmIoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSxyPWtzKHIpLEFiKHQpfHxJYih0KSlyZXR1cm4gUGIodCxlLHIpO2lmKCFUYih0KSl0aHJvdyBuZXcgeWIoXCJzdHJlYW1cIixbXCJSZWFkYWJsZVN0cmVhbVwiLFwiV3JpdGFibGVTdHJlYW1cIixcIlN0cmVhbVwiXSx0KTtsZXQgbz0oaT1lLnJlYWRhYmxlKSE9PW51bGwmJmkhPT12b2lkIDA/aTpQcyh0KSxzPShuPWUud3JpdGFibGUpIT09bnVsbCYmbiE9PXZvaWQgMD9uOlVmKHQpLGE9dC5fd3JpdGFibGVTdGF0ZSx1PXQuX3JlYWRhYmxlU3RhdGUsYz0oKT0+e3Qud3JpdGFibGV8fGcoKTt9LGg9UmIodCkmJlBzKHQpPT09byYmVWYodCk9PT1zLGQ9TmYodCwhMSksZz0oKT0+e2Q9ITAsdC5kZXN0cm95ZWQmJihoPSExKSwhKGgmJighdC5yZWFkYWJsZXx8bykpJiYoIW98fHkpJiZyLmNhbGwodCk7fSx5PXhmKHQsITEpLHc9KCk9Pnt5PSEwLHQuZGVzdHJveWVkJiYoaD0hMSksIShoJiYoIXQud3JpdGFibGV8fHMpKSYmKCFzfHxkKSYmci5jYWxsKHQpO30sRT1OPT57ci5jYWxsKHQsTik7fSxTPVNiKHQpLEk9KCk9PntTPSEwO2xldCBOPXFmKHQpfHxNZih0KTtpZihOJiZ0eXBlb2YgTiE9XCJib29sZWFuXCIpcmV0dXJuIHIuY2FsbCh0LE4pO2lmKG8mJiF5JiZQcyh0LCEwKSYmIXhmKHQsITEpKXJldHVybiByLmNhbGwodCxuZXcgT2YpO2lmKHMmJiFkJiYhTmYodCwhMSkpcmV0dXJuIHIuY2FsbCh0LG5ldyBPZik7ci5jYWxsKHQpO30sQz0oKT0+e1M9ITA7bGV0IE49cWYodCl8fE1mKHQpO2lmKE4mJnR5cGVvZiBOIT1cImJvb2xlYW5cIilyZXR1cm4gci5jYWxsKHQsTik7ci5jYWxsKHQpO30sUj0oKT0+e3QucmVxLm9uKFwiZmluaXNoXCIsZyk7fTtCYih0KT8odC5vbihcImNvbXBsZXRlXCIsZyksaHx8dC5vbihcImFib3J0XCIsSSksdC5yZXE/UigpOnQub24oXCJyZXF1ZXN0XCIsUikpOnMmJiFhJiYodC5vbihcImVuZFwiLGMpLHQub24oXCJjbG9zZVwiLGMpKSwhaCYmdHlwZW9mIHQuYWJvcnRlZD09XCJib29sZWFuXCImJnQub24oXCJhYm9ydGVkXCIsSSksdC5vbihcImVuZFwiLHcpLHQub24oXCJmaW5pc2hcIixnKSxlLmVycm9yIT09ITEmJnQub24oXCJlcnJvclwiLEUpLHQub24oXCJjbG9zZVwiLEkpLFM/TnQubmV4dFRpY2soSSk6YSE9bnVsbCYmYS5lcnJvckVtaXR0ZWR8fHUhPW51bGwmJnUuZXJyb3JFbWl0dGVkP2h8fE50Lm5leHRUaWNrKEMpOighbyYmKCFofHxrZih0KSkmJihkfHxMZih0KT09PSExKXx8IXMmJighaHx8TGYodCkpJiYoeXx8a2YodCk9PT0hMSl8fHUmJnQucmVxJiZ0LmFib3J0ZWQpJiZOdC5uZXh0VGljayhDKTtsZXQgVT0oKT0+e3I9eHMsdC5yZW1vdmVMaXN0ZW5lcihcImFib3J0ZWRcIixJKSx0LnJlbW92ZUxpc3RlbmVyKFwiY29tcGxldGVcIixnKSx0LnJlbW92ZUxpc3RlbmVyKFwiYWJvcnRcIixJKSx0LnJlbW92ZUxpc3RlbmVyKFwicmVxdWVzdFwiLFIpLHQucmVxJiZ0LnJlcS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGcpLHQucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixjKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjKSx0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZyksdC5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHcpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLEUpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLEkpO307aWYoZS5zaWduYWwmJiFTKXtsZXQgTj0oKT0+e2xldCBXPXI7VSgpLFcuY2FsbCh0LG5ldyBEZih2b2lkIDAse2NhdXNlOmUuc2lnbmFsLnJlYXNvbn0pKTt9O2lmKGUuc2lnbmFsLmFib3J0ZWQpTnQubmV4dFRpY2soTik7ZWxzZSB7bGV0IFc9cjtyPWtzKCguLi5LKT0+e2Uuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLE4pLFcuYXBwbHkodCxLKTt9KSxlLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixOKTt9fXJldHVybiBVfWZ1bmN0aW9uIFBiKHQsZSxyKXtsZXQgaT0hMSxuPXhzO2lmKGUuc2lnbmFsKWlmKG49KCk9PntpPSEwLHIuY2FsbCh0LG5ldyBEZih2b2lkIDAse2NhdXNlOmUuc2lnbmFsLnJlYXNvbn0pKTt9LGUuc2lnbmFsLmFib3J0ZWQpTnQubmV4dFRpY2sobik7ZWxzZSB7bGV0IHM9cjtyPWtzKCguLi5hKT0+e2Uuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLG4pLHMuYXBwbHkodCxhKTt9KSxlLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixuKTt9bGV0IG89KC4uLnMpPT57aXx8TnQubmV4dFRpY2soKCk9PnIuYXBwbHkodCxzKSk7fTtyZXR1cm4gRWIodFtDYl0ucHJvbWlzZSxvLG8pLHhzfWZ1bmN0aW9uIE9iKHQsZSl7dmFyIHI7bGV0IGk9ITE7cmV0dXJuIGU9PT1udWxsJiYoZT1PcyksKHI9ZSkhPT1udWxsJiZyIT09dm9pZCAwJiZyLmNsZWFudXAmJihtYihlLmNsZWFudXAsXCJjbGVhbnVwXCIpLGk9ZS5jbGVhbnVwKSxuZXcgdmIoKG4sbyk9PntsZXQgcz1qZih0LGUsYT0+e2kmJnMoKSxhP28oYSk6bigpO30pO30pfU1zLmV4cG9ydHM9amY7TXMuZXhwb3J0cy5maW5pc2hlZD1PYjt9KTt2YXIgdHI9TSgoclQsR2YpPT57digpO20oKTtfKCk7dmFyIHJ0PVV0KCkse2FnZ3JlZ2F0ZVR3b0Vycm9yczprYixjb2Rlczp7RVJSX01VTFRJUExFX0NBTExCQUNLOnhifSxBYm9ydEVycm9yOk1ifT1TZSgpLHtTeW1ib2w6JGZ9PWNlKCkse2tEZXN0cm95ZWQ6TGIsaXNEZXN0cm95ZWQ6VWIsaXNGaW5pc2hlZDpOYixpc1NlcnZlclJlcXVlc3Q6cWJ9PXR0KCksSGY9JGYoXCJrRGVzdHJveVwiKSxMcz0kZihcImtDb25zdHJ1Y3RcIik7ZnVuY3Rpb24gVmYodCxlLHIpe3QmJih0LnN0YWNrLGUmJiFlLmVycm9yZWQmJihlLmVycm9yZWQ9dCksciYmIXIuZXJyb3JlZCYmKHIuZXJyb3JlZD10KSk7fWZ1bmN0aW9uIERiKHQsZSl7bGV0IHI9dGhpcy5fcmVhZGFibGVTdGF0ZSxpPXRoaXMuX3dyaXRhYmxlU3RhdGUsbj1pfHxyO3JldHVybiBpIT1udWxsJiZpLmRlc3Ryb3llZHx8ciE9bnVsbCYmci5kZXN0cm95ZWQ/KHR5cGVvZiBlPT1cImZ1bmN0aW9uXCImJmUoKSx0aGlzKTooVmYodCxpLHIpLGkmJihpLmRlc3Ryb3llZD0hMCksciYmKHIuZGVzdHJveWVkPSEwKSxuLmNvbnN0cnVjdGVkP0ZmKHRoaXMsdCxlKTp0aGlzLm9uY2UoSGYsZnVuY3Rpb24obyl7RmYodGhpcyxrYihvLHQpLGUpO30pLHRoaXMpfWZ1bmN0aW9uIEZmKHQsZSxyKXtsZXQgaT0hMTtmdW5jdGlvbiBuKG8pe2lmKGkpcmV0dXJuO2k9ITA7bGV0IHM9dC5fcmVhZGFibGVTdGF0ZSxhPXQuX3dyaXRhYmxlU3RhdGU7VmYobyxhLHMpLGEmJihhLmNsb3NlZD0hMCkscyYmKHMuY2xvc2VkPSEwKSx0eXBlb2Ygcj09XCJmdW5jdGlvblwiJiZyKG8pLG8/cnQubmV4dFRpY2soamIsdCxvKTpydC5uZXh0VGljayh6Zix0KTt9dHJ5e3QuX2Rlc3Ryb3koZXx8bnVsbCxuKTt9Y2F0Y2gobyl7bihvKTt9fWZ1bmN0aW9uIGpiKHQsZSl7VXModCxlKSx6Zih0KTt9ZnVuY3Rpb24gemYodCl7bGV0IGU9dC5fcmVhZGFibGVTdGF0ZSxyPXQuX3dyaXRhYmxlU3RhdGU7ciYmKHIuY2xvc2VFbWl0dGVkPSEwKSxlJiYoZS5jbG9zZUVtaXR0ZWQ9ITApLChyIT1udWxsJiZyLmVtaXRDbG9zZXx8ZSE9bnVsbCYmZS5lbWl0Q2xvc2UpJiZ0LmVtaXQoXCJjbG9zZVwiKTt9ZnVuY3Rpb24gVXModCxlKXtsZXQgcj10Ll9yZWFkYWJsZVN0YXRlLGk9dC5fd3JpdGFibGVTdGF0ZTtpIT1udWxsJiZpLmVycm9yRW1pdHRlZHx8ciE9bnVsbCYmci5lcnJvckVtaXR0ZWR8fChpJiYoaS5lcnJvckVtaXR0ZWQ9ITApLHImJihyLmVycm9yRW1pdHRlZD0hMCksdC5lbWl0KFwiZXJyb3JcIixlKSk7fWZ1bmN0aW9uIEZiKCl7bGV0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxlPXRoaXMuX3dyaXRhYmxlU3RhdGU7dCYmKHQuY29uc3RydWN0ZWQ9ITAsdC5jbG9zZWQ9ITEsdC5jbG9zZUVtaXR0ZWQ9ITEsdC5kZXN0cm95ZWQ9ITEsdC5lcnJvcmVkPW51bGwsdC5lcnJvckVtaXR0ZWQ9ITEsdC5yZWFkaW5nPSExLHQuZW5kZWQ9dC5yZWFkYWJsZT09PSExLHQuZW5kRW1pdHRlZD10LnJlYWRhYmxlPT09ITEpLGUmJihlLmNvbnN0cnVjdGVkPSEwLGUuZGVzdHJveWVkPSExLGUuY2xvc2VkPSExLGUuY2xvc2VFbWl0dGVkPSExLGUuZXJyb3JlZD1udWxsLGUuZXJyb3JFbWl0dGVkPSExLGUuZmluYWxDYWxsZWQ9ITEsZS5wcmVmaW5pc2hlZD0hMSxlLmVuZGVkPWUud3JpdGFibGU9PT0hMSxlLmVuZGluZz1lLndyaXRhYmxlPT09ITEsZS5maW5pc2hlZD1lLndyaXRhYmxlPT09ITEpO31mdW5jdGlvbiBOcyh0LGUscil7bGV0IGk9dC5fcmVhZGFibGVTdGF0ZSxuPXQuX3dyaXRhYmxlU3RhdGU7aWYobiE9bnVsbCYmbi5kZXN0cm95ZWR8fGkhPW51bGwmJmkuZGVzdHJveWVkKXJldHVybiB0aGlzO2khPW51bGwmJmkuYXV0b0Rlc3Ryb3l8fG4hPW51bGwmJm4uYXV0b0Rlc3Ryb3k/dC5kZXN0cm95KGUpOmUmJihlLnN0YWNrLG4mJiFuLmVycm9yZWQmJihuLmVycm9yZWQ9ZSksaSYmIWkuZXJyb3JlZCYmKGkuZXJyb3JlZD1lKSxyP3J0Lm5leHRUaWNrKFVzLHQsZSk6VXModCxlKSk7fWZ1bmN0aW9uIFdiKHQsZSl7aWYodHlwZW9mIHQuX2NvbnN0cnVjdCE9XCJmdW5jdGlvblwiKXJldHVybjtsZXQgcj10Ll9yZWFkYWJsZVN0YXRlLGk9dC5fd3JpdGFibGVTdGF0ZTtyJiYoci5jb25zdHJ1Y3RlZD0hMSksaSYmKGkuY29uc3RydWN0ZWQ9ITEpLHQub25jZShMcyxlKSwhKHQubGlzdGVuZXJDb3VudChMcyk+MSkmJnJ0Lm5leHRUaWNrKCRiLHQpO31mdW5jdGlvbiAkYih0KXtsZXQgZT0hMTtmdW5jdGlvbiByKGkpe2lmKGUpe05zKHQsaT8/bmV3IHhiKTtyZXR1cm59ZT0hMDtsZXQgbj10Ll9yZWFkYWJsZVN0YXRlLG89dC5fd3JpdGFibGVTdGF0ZSxzPW98fG47biYmKG4uY29uc3RydWN0ZWQ9ITApLG8mJihvLmNvbnN0cnVjdGVkPSEwKSxzLmRlc3Ryb3llZD90LmVtaXQoSGYsaSk6aT9Ocyh0LGksITApOnJ0Lm5leHRUaWNrKEhiLHQpO310cnl7dC5fY29uc3RydWN0KGk9PntydC5uZXh0VGljayhyLGkpO30pO31jYXRjaChpKXtydC5uZXh0VGljayhyLGkpO319ZnVuY3Rpb24gSGIodCl7dC5lbWl0KExzKTt9ZnVuY3Rpb24gV2YodCl7cmV0dXJuIHQ/LnNldEhlYWRlciYmdHlwZW9mIHQuYWJvcnQ9PVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBLZih0KXt0LmVtaXQoXCJjbG9zZVwiKTt9ZnVuY3Rpb24gVmIodCxlKXt0LmVtaXQoXCJlcnJvclwiLGUpLHJ0Lm5leHRUaWNrKEtmLHQpO31mdW5jdGlvbiB6Yih0LGUpeyF0fHxVYih0KXx8KCFlJiYhTmIodCkmJihlPW5ldyBNYikscWIodCk/KHQuc29ja2V0PW51bGwsdC5kZXN0cm95KGUpKTpXZih0KT90LmFib3J0KCk6V2YodC5yZXEpP3QucmVxLmFib3J0KCk6dHlwZW9mIHQuZGVzdHJveT09XCJmdW5jdGlvblwiP3QuZGVzdHJveShlKTp0eXBlb2YgdC5jbG9zZT09XCJmdW5jdGlvblwiP3QuY2xvc2UoKTplP3J0Lm5leHRUaWNrKFZiLHQsZSk6cnQubmV4dFRpY2soS2YsdCksdC5kZXN0cm95ZWR8fCh0W0xiXT0hMCkpO31HZi5leHBvcnRzPXtjb25zdHJ1Y3Q6V2IsZGVzdHJveWVyOnpiLGRlc3Ryb3k6RGIsdW5kZXN0cm95OkZiLGVycm9yT3JEZXN0cm95Ok5zfTt9KTtmdW5jdGlvbiBZKCl7WS5pbml0LmNhbGwodGhpcyk7fWZ1bmN0aW9uIFhpKHQpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgdCl9ZnVuY3Rpb24gbmModCl7cmV0dXJuIHQuX21heExpc3RlbmVycz09PXZvaWQgMD9ZLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dC5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIFhmKHQsZSxyLGkpe3ZhciBuLG8scyxhO2lmKFhpKHIpLChvPXQuX2V2ZW50cyk9PT12b2lkIDA/KG89dC5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdC5fZXZlbnRzQ291bnQ9MCk6KG8ubmV3TGlzdGVuZXIhPT12b2lkIDAmJih0LmVtaXQoXCJuZXdMaXN0ZW5lclwiLGUsci5saXN0ZW5lcj9yLmxpc3RlbmVyOnIpLG89dC5fZXZlbnRzKSxzPW9bZV0pLHM9PT12b2lkIDApcz1vW2VdPXIsKyt0Ll9ldmVudHNDb3VudDtlbHNlIGlmKHR5cGVvZiBzPT1cImZ1bmN0aW9uXCI/cz1vW2VdPWk/W3Isc106W3Mscl06aT9zLnVuc2hpZnQocik6cy5wdXNoKHIpLChuPW5jKHQpKT4wJiZzLmxlbmd0aD5uJiYhcy53YXJuZWQpe3Mud2FybmVkPSEwO3ZhciB1PW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrcy5sZW5ndGgrXCIgXCIrU3RyaW5nKGUpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7dS5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsdS5lbWl0dGVyPXQsdS50eXBlPWUsdS5jb3VudD1zLmxlbmd0aCxhPXUsY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oYSk7fXJldHVybiB0fWZ1bmN0aW9uIEtiKCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCxhcmd1bWVudHMubGVuZ3RoPT09MD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBaZih0LGUscil7dmFyIGk9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OnQsdHlwZTplLGxpc3RlbmVyOnJ9LG49S2IuYmluZChpKTtyZXR1cm4gbi5saXN0ZW5lcj1yLGkud3JhcEZuPW4sbn1mdW5jdGlvbiBlYyh0LGUscil7dmFyIGk9dC5fZXZlbnRzO2lmKGk9PT12b2lkIDApcmV0dXJuIFtdO3ZhciBuPWlbZV07cmV0dXJuIG49PT12b2lkIDA/W106dHlwZW9mIG49PVwiZnVuY3Rpb25cIj9yP1tuLmxpc3RlbmVyfHxuXTpbbl06cj9mdW5jdGlvbihvKXtmb3IodmFyIHM9bmV3IEFycmF5KG8ubGVuZ3RoKSxhPTA7YTxzLmxlbmd0aDsrK2Epc1thXT1vW2FdLmxpc3RlbmVyfHxvW2FdO3JldHVybiBzfShuKTpzYyhuLG4ubGVuZ3RoKX1mdW5jdGlvbiB0Yyh0KXt2YXIgZT10aGlzLl9ldmVudHM7aWYoZSE9PXZvaWQgMCl7dmFyIHI9ZVt0XTtpZih0eXBlb2Ygcj09XCJmdW5jdGlvblwiKXJldHVybiAxO2lmKHIhPT12b2lkIDApcmV0dXJuIHIubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIHNjKHQsZSl7Zm9yKHZhciByPW5ldyBBcnJheShlKSxpPTA7aTxlOysraSlyW2ldPXRbaV07cmV0dXJuIHJ9dmFyIHJjLGljLFVyLFFmLFlmLEpmLEJlLHFzPXdlKCgpPT57digpO20oKTtfKCk7VXI9dHlwZW9mIFJlZmxlY3Q9PVwib2JqZWN0XCI/UmVmbGVjdDpudWxsLFFmPVVyJiZ0eXBlb2YgVXIuYXBwbHk9PVwiZnVuY3Rpb25cIj9Vci5hcHBseTpmdW5jdGlvbih0LGUscil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHQsZSxyKX07aWM9VXImJnR5cGVvZiBVci5vd25LZXlzPT1cImZ1bmN0aW9uXCI/VXIub3duS2V5czpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSl9OmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KX07WWY9TnVtYmVyLmlzTmFOfHxmdW5jdGlvbih0KXtyZXR1cm4gdCE9dH07cmM9WSxZLkV2ZW50RW1pdHRlcj1ZLFkucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLFkucHJvdG90eXBlLl9ldmVudHNDb3VudD0wLFkucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO0pmPTEwO09iamVjdC5kZWZpbmVQcm9wZXJ0eShZLFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBKZn0sc2V0OmZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwifHx0PDB8fFlmKHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyt0K1wiLlwiKTtKZj10O319KSxZLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9ldmVudHMhPT12b2lkIDAmJnRoaXMuX2V2ZW50cyE9PU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwO30sWS5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwifHx0PDB8fFlmKHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyt0K1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPXQsdGhpc30sWS5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIG5jKHRoaXMpfSxZLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllLnB1c2goYXJndW1lbnRzW3JdKTt2YXIgaT10PT09XCJlcnJvclwiLG49dGhpcy5fZXZlbnRzO2lmKG4hPT12b2lkIDApaT1pJiZuLmVycm9yPT09dm9pZCAwO2Vsc2UgaWYoIWkpcmV0dXJuICExO2lmKGkpe3ZhciBvO2lmKGUubGVuZ3RoPjAmJihvPWVbMF0pLG8gaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBvO3ZhciBzPW5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIisobz9cIiAoXCIrby5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBzLmNvbnRleHQ9byxzfXZhciBhPW5bdF07aWYoYT09PXZvaWQgMClyZXR1cm4gITE7aWYodHlwZW9mIGE9PVwiZnVuY3Rpb25cIilRZihhLHRoaXMsZSk7ZWxzZSB7dmFyIHU9YS5sZW5ndGgsYz1zYyhhLHUpO2ZvcihyPTA7cjx1OysrcilRZihjW3JdLHRoaXMsZSk7fXJldHVybiAhMH0sWS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWGYodGhpcyx0LGUsITEpfSxZLnByb3RvdHlwZS5vbj1ZLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixZLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWGYodGhpcyx0LGUsITApfSxZLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhpKGUpLHRoaXMub24odCxaZih0aGlzLHQsZSkpLHRoaXN9LFkucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWGkoZSksdGhpcy5wcmVwZW5kTGlzdGVuZXIodCxaZih0aGlzLHQsZSkpLHRoaXN9LFkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxuLG8scztpZihYaShlKSwoaT10aGlzLl9ldmVudHMpPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKChyPWlbdF0pPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKHI9PT1lfHxyLmxpc3RlbmVyPT09ZSktLXRoaXMuX2V2ZW50c0NvdW50PT0wP3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOihkZWxldGUgaVt0XSxpLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHQsci5saXN0ZW5lcnx8ZSkpO2Vsc2UgaWYodHlwZW9mIHIhPVwiZnVuY3Rpb25cIil7Zm9yKG49LTEsbz1yLmxlbmd0aC0xO28+PTA7by0tKWlmKHJbb109PT1lfHxyW29dLmxpc3RlbmVyPT09ZSl7cz1yW29dLmxpc3RlbmVyLG49bzticmVha31pZihuPDApcmV0dXJuIHRoaXM7bj09PTA/ci5zaGlmdCgpOmZ1bmN0aW9uKGEsdSl7Zm9yKDt1KzE8YS5sZW5ndGg7dSsrKWFbdV09YVt1KzFdO2EucG9wKCk7fShyLG4pLHIubGVuZ3RoPT09MSYmKGlbdF09clswXSksaS5yZW1vdmVMaXN0ZW5lciE9PXZvaWQgMCYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIix0LHN8fGUpO31yZXR1cm4gdGhpc30sWS5wcm90b3R5cGUub2ZmPVkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLFkucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgZSxyLGk7aWYoKHI9dGhpcy5fZXZlbnRzKT09PXZvaWQgMClyZXR1cm4gdGhpcztpZihyLnJlbW92ZUxpc3RlbmVyPT09dm9pZCAwKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6clt0XSE9PXZvaWQgMCYmKC0tdGhpcy5fZXZlbnRzQ291bnQ9PTA/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIHJbdF0pLHRoaXM7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApe3ZhciBuLG89T2JqZWN0LmtleXMocik7Zm9yKGk9MDtpPG8ubGVuZ3RoOysraSkobj1vW2ldKSE9PVwicmVtb3ZlTGlzdGVuZXJcIiYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMobik7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKHR5cGVvZihlPXJbdF0pPT1cImZ1bmN0aW9uXCIpdGhpcy5yZW1vdmVMaXN0ZW5lcih0LGUpO2Vsc2UgaWYoZSE9PXZvaWQgMClmb3IoaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMucmVtb3ZlTGlzdGVuZXIodCxlW2ldKTtyZXR1cm4gdGhpc30sWS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiBlYyh0aGlzLHQsITApfSxZLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIGVjKHRoaXMsdCwhMSl9LFkubGlzdGVuZXJDb3VudD1mdW5jdGlvbih0LGUpe3JldHVybiB0eXBlb2YgdC5saXN0ZW5lckNvdW50PT1cImZ1bmN0aW9uXCI/dC5saXN0ZW5lckNvdW50KGUpOnRjLmNhbGwodCxlKX0sWS5wcm90b3R5cGUubGlzdGVuZXJDb3VudD10YyxZLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/aWModGhpcy5fZXZlbnRzKTpbXX07QmU9cmM7QmUuRXZlbnRFbWl0dGVyO0JlLmRlZmF1bHRNYXhMaXN0ZW5lcnM7QmUuaW5pdDtCZS5saXN0ZW5lckNvdW50O0JlLkV2ZW50RW1pdHRlcjtCZS5kZWZhdWx0TWF4TGlzdGVuZXJzO0JlLmluaXQ7QmUubGlzdGVuZXJDb3VudDt9KTt2YXIgcnI9e307UXQocnIse0V2ZW50RW1pdHRlcjooKT0+R2IsZGVmYXVsdDooKT0+QmUsZGVmYXVsdE1heExpc3RlbmVyczooKT0+UWIsaW5pdDooKT0+WWIsbGlzdGVuZXJDb3VudDooKT0+SmIsb246KCk9PlhiLG9uY2U6KCk9PlpifSk7dmFyIEdiLFFiLFliLEpiLFhiLFpiLGlyPXdlKCgpPT57digpO20oKTtfKCk7cXMoKTtxcygpO0JlLm9uY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFByb21pc2UoKHIsaSk9PntmdW5jdGlvbiBuKC4uLnMpe28hPT12b2lkIDAmJnQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG8pLHIocyk7fWxldCBvO2UhPT1cImVycm9yXCImJihvPXM9Pnt0LnJlbW92ZUxpc3RlbmVyKG5hbWUsbiksaShzKTt9LHQub25jZShcImVycm9yXCIsbykpLHQub25jZShlLG4pO30pfTtCZS5vbj1mdW5jdGlvbih0LGUpe2xldCByPVtdLGk9W10sbj1udWxsLG89ITEscz17YXN5bmMgbmV4dCgpe2xldCBjPXIuc2hpZnQoKTtpZihjKXJldHVybiBjcmVhdGVJdGVyUmVzdWx0KGMsITEpO2lmKG4pe2xldCBoPVByb21pc2UucmVqZWN0KG4pO3JldHVybiBuPW51bGwsaH1yZXR1cm4gbz9jcmVhdGVJdGVyUmVzdWx0KHZvaWQgMCwhMCk6bmV3IFByb21pc2UoKGgsZCk9PmkucHVzaCh7cmVzb2x2ZTpoLHJlamVjdDpkfSkpfSxhc3luYyByZXR1cm4oKXt0LnJlbW92ZUxpc3RlbmVyKGUsYSksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsdSksbz0hMDtmb3IobGV0IGMgb2YgaSljLnJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh2b2lkIDAsITApKTtyZXR1cm4gY3JlYXRlSXRlclJlc3VsdCh2b2lkIDAsITApfSx0aHJvdyhjKXtuPWMsdC5yZW1vdmVMaXN0ZW5lcihlLGEpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHUpO30sW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpe3JldHVybiB0aGlzfX07cmV0dXJuIHQub24oZSxhKSx0Lm9uKFwiZXJyb3JcIix1KSxzO2Z1bmN0aW9uIGEoLi4uYyl7bGV0IGg9aS5zaGlmdCgpO2g/aC5yZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoYywhMSkpOnIucHVzaChjKTt9ZnVuY3Rpb24gdShjKXtvPSEwO2xldCBoPWkuc2hpZnQoKTtoP2gucmVqZWN0KGMpOm49YyxzLnJldHVybigpO319Oyh7RXZlbnRFbWl0dGVyOkdiLGRlZmF1bHRNYXhMaXN0ZW5lcnM6UWIsaW5pdDpZYixsaXN0ZW5lckNvdW50OkpiLG9uOlhiLG9uY2U6WmJ9PUJlKTt9KTt2YXIgdG49TSgoeFQsYWMpPT57digpO20oKTtfKCk7dmFye0FycmF5SXNBcnJheTpldyxPYmplY3RTZXRQcm90b3R5cGVPZjpvY309Y2UoKSx7RXZlbnRFbWl0dGVyOlppfT0oaXIoKSxYKHJyKSk7ZnVuY3Rpb24gZW4odCl7WmkuY2FsbCh0aGlzLHQpO31vYyhlbi5wcm90b3R5cGUsWmkucHJvdG90eXBlKTtvYyhlbixaaSk7ZW4ucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24odCxlKXtsZXQgcj10aGlzO2Z1bmN0aW9uIGkoaCl7dC53cml0YWJsZSYmdC53cml0ZShoKT09PSExJiZyLnBhdXNlJiZyLnBhdXNlKCk7fXIub24oXCJkYXRhXCIsaSk7ZnVuY3Rpb24gbigpe3IucmVhZGFibGUmJnIucmVzdW1lJiZyLnJlc3VtZSgpO310Lm9uKFwiZHJhaW5cIixuKSwhdC5faXNTdGRpbyYmKCFlfHxlLmVuZCE9PSExKSYmKHIub24oXCJlbmRcIixzKSxyLm9uKFwiY2xvc2VcIixhKSk7bGV0IG89ITE7ZnVuY3Rpb24gcygpe298fChvPSEwLHQuZW5kKCkpO31mdW5jdGlvbiBhKCl7b3x8KG89ITAsdHlwZW9mIHQuZGVzdHJveT09XCJmdW5jdGlvblwiJiZ0LmRlc3Ryb3koKSk7fWZ1bmN0aW9uIHUoaCl7YygpLFppLmxpc3RlbmVyQ291bnQodGhpcyxcImVycm9yXCIpPT09MCYmdGhpcy5lbWl0KFwiZXJyb3JcIixoKTt9RHMocixcImVycm9yXCIsdSksRHModCxcImVycm9yXCIsdSk7ZnVuY3Rpb24gYygpe3IucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsaSksdC5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsbiksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHMpLHIucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGEpLHIucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHUpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHUpLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixjKSxyLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjKTt9cmV0dXJuIHIub24oXCJlbmRcIixjKSxyLm9uKFwiY2xvc2VcIixjKSx0Lm9uKFwiY2xvc2VcIixjKSx0LmVtaXQoXCJwaXBlXCIsciksdH07ZnVuY3Rpb24gRHModCxlLHIpe2lmKHR5cGVvZiB0LnByZXBlbmRMaXN0ZW5lcj09XCJmdW5jdGlvblwiKXJldHVybiB0LnByZXBlbmRMaXN0ZW5lcihlLHIpOyF0Ll9ldmVudHN8fCF0Ll9ldmVudHNbZV0/dC5vbihlLHIpOmV3KHQuX2V2ZW50c1tlXSk/dC5fZXZlbnRzW2VdLnVuc2hpZnQocik6dC5fZXZlbnRzW2VdPVtyLHQuX2V2ZW50c1tlXV07fWFjLmV4cG9ydHM9e1N0cmVhbTplbixwcmVwZW5kTGlzdGVuZXI6RHN9O30pO3ZhciBjaT1NKCgkVCxybik9Pnt2KCk7bSgpO18oKTt2YXJ7QWJvcnRFcnJvcjpsYyxjb2Rlczp0d309U2UoKSx7aXNOb2RlU3RyZWFtOnVjLGlzV2ViU3RyZWFtOnJ3LGtDb250cm9sbGVyRXJyb3JGdW5jdGlvbjppd309dHQoKSxudz1tdCgpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTpmY309dHcsc3c9KHQsZSk9PntpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IShcImFib3J0ZWRcImluIHQpKXRocm93IG5ldyBmYyhlLFwiQWJvcnRTaWduYWxcIix0KX07cm4uZXhwb3J0cy5hZGRBYm9ydFNpZ25hbD1mdW5jdGlvbihlLHIpe2lmKHN3KGUsXCJzaWduYWxcIiksIXVjKHIpJiYhcncocikpdGhyb3cgbmV3IGZjKFwic3RyZWFtXCIsW1wiUmVhZGFibGVTdHJlYW1cIixcIldyaXRhYmxlU3RyZWFtXCIsXCJTdHJlYW1cIl0scik7cmV0dXJuIHJuLmV4cG9ydHMuYWRkQWJvcnRTaWduYWxOb1ZhbGlkYXRlKGUscil9O3JuLmV4cG9ydHMuYWRkQWJvcnRTaWduYWxOb1ZhbGlkYXRlPWZ1bmN0aW9uKHQsZSl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCEoXCJhYm9ydGVkXCJpbiB0KSlyZXR1cm4gZTtsZXQgcj11YyhlKT8oKT0+e2UuZGVzdHJveShuZXcgbGModm9pZCAwLHtjYXVzZTp0LnJlYXNvbn0pKTt9OigpPT57ZVtpd10obmV3IGxjKHZvaWQgMCx7Y2F1c2U6dC5yZWFzb259KSk7fTtyZXR1cm4gdC5hYm9ydGVkP3IoKToodC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixyKSxudyhlLCgpPT50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHIpKSksZX07fSk7dmFyIGRjPU0oKGUyLGhjKT0+e3YoKTttKCk7XygpO3ZhcntTdHJpbmdQcm90b3R5cGVTbGljZTpjYyxTeW1ib2xJdGVyYXRvcjpvdyxUeXBlZEFycmF5UHJvdG90eXBlU2V0Om5uLFVpbnQ4QXJyYXk6YXd9PWNlKCkse0J1ZmZlcjpqc309KHllKCksWChfZSkpLHtpbnNwZWN0Omx3fT1KZSgpO2hjLmV4cG9ydHM9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wO31wdXNoKGUpe2xldCByPXtkYXRhOmUsbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PXI6dGhpcy5oZWFkPXIsdGhpcy50YWlsPXIsKyt0aGlzLmxlbmd0aDt9dW5zaGlmdChlKXtsZXQgcj17ZGF0YTplLG5leHQ6dGhpcy5oZWFkfTt0aGlzLmxlbmd0aD09PTAmJih0aGlzLnRhaWw9ciksdGhpcy5oZWFkPXIsKyt0aGlzLmxlbmd0aDt9c2hpZnQoKXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuO2xldCBlPXRoaXMuaGVhZC5kYXRhO3JldHVybiB0aGlzLmxlbmd0aD09PTE/dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsOnRoaXMuaGVhZD10aGlzLmhlYWQubmV4dCwtLXRoaXMubGVuZ3RoLGV9Y2xlYXIoKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MDt9am9pbihlKXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuIFwiXCI7bGV0IHI9dGhpcy5oZWFkLGk9XCJcIityLmRhdGE7Zm9yKDsocj1yLm5leHQpIT09bnVsbDspaSs9ZStyLmRhdGE7cmV0dXJuIGl9Y29uY2F0KGUpe2lmKHRoaXMubGVuZ3RoPT09MClyZXR1cm4ganMuYWxsb2MoMCk7bGV0IHI9anMuYWxsb2NVbnNhZmUoZT4+PjApLGk9dGhpcy5oZWFkLG49MDtmb3IoO2k7KW5uKHIsaS5kYXRhLG4pLG4rPWkuZGF0YS5sZW5ndGgsaT1pLm5leHQ7cmV0dXJuIHJ9Y29uc3VtZShlLHIpe2xldCBpPXRoaXMuaGVhZC5kYXRhO2lmKGU8aS5sZW5ndGgpe2xldCBuPWkuc2xpY2UoMCxlKTtyZXR1cm4gdGhpcy5oZWFkLmRhdGE9aS5zbGljZShlKSxufXJldHVybiBlPT09aS5sZW5ndGg/dGhpcy5zaGlmdCgpOnI/dGhpcy5fZ2V0U3RyaW5nKGUpOnRoaXMuX2dldEJ1ZmZlcihlKX1maXJzdCgpe3JldHVybiB0aGlzLmhlYWQuZGF0YX0qW293XSgpe2ZvcihsZXQgZT10aGlzLmhlYWQ7ZTtlPWUubmV4dCl5aWVsZCBlLmRhdGE7fV9nZXRTdHJpbmcoZSl7bGV0IHI9XCJcIixpPXRoaXMuaGVhZCxuPTA7ZG97bGV0IG89aS5kYXRhO2lmKGU+by5sZW5ndGgpcis9byxlLT1vLmxlbmd0aDtlbHNlIHtlPT09by5sZW5ndGg/KHIrPW8sKytuLGkubmV4dD90aGlzLmhlYWQ9aS5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KHIrPWNjKG8sMCxlKSx0aGlzLmhlYWQ9aSxpLmRhdGE9Y2MobyxlKSk7YnJlYWt9KytuO313aGlsZSgoaT1pLm5leHQpIT09bnVsbCk7cmV0dXJuIHRoaXMubGVuZ3RoLT1uLHJ9X2dldEJ1ZmZlcihlKXtsZXQgcj1qcy5hbGxvY1Vuc2FmZShlKSxpPWUsbj10aGlzLmhlYWQsbz0wO2Rve2xldCBzPW4uZGF0YTtpZihlPnMubGVuZ3RoKW5uKHIscyxpLWUpLGUtPXMubGVuZ3RoO2Vsc2Uge2U9PT1zLmxlbmd0aD8obm4ocixzLGktZSksKytvLG4ubmV4dD90aGlzLmhlYWQ9bi5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KG5uKHIsbmV3IGF3KHMuYnVmZmVyLHMuYnl0ZU9mZnNldCxlKSxpLWUpLHRoaXMuaGVhZD1uLG4uZGF0YT1zLnNsaWNlKGUpKTticmVha30rK287fXdoaWxlKChuPW4ubmV4dCkhPT1udWxsKTtyZXR1cm4gdGhpcy5sZW5ndGgtPW8scn1bU3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpXShlLHIpe3JldHVybiBsdyh0aGlzLHsuLi5yLGRlcHRoOjAsY3VzdG9tSW5zcGVjdDohMX0pfX07fSk7dmFyIHNuPU0oKGYyLGdjKT0+e3YoKTttKCk7XygpO3ZhcntNYXRoRmxvb3I6dXcsTnVtYmVySXNJbnRlZ2VyOmZ3fT1jZSgpLHtFUlJfSU5WQUxJRF9BUkdfVkFMVUU6Y3d9PVNlKCkuY29kZXM7ZnVuY3Rpb24gaHcodCxlLHIpe3JldHVybiB0LmhpZ2hXYXRlck1hcmshPW51bGw/dC5oaWdoV2F0ZXJNYXJrOmU/dFtyXTpudWxsfWZ1bmN0aW9uIHBjKHQpe3JldHVybiB0PzE2OjE2KjEwMjR9ZnVuY3Rpb24gZHcodCxlLHIsaSl7bGV0IG49aHcoZSxpLHIpO2lmKG4hPW51bGwpe2lmKCFmdyhuKXx8bjwwKXtsZXQgbz1pP2BvcHRpb25zLiR7cn1gOlwib3B0aW9ucy5oaWdoV2F0ZXJNYXJrXCI7dGhyb3cgbmV3IGN3KG8sbil9cmV0dXJuIHV3KG4pfXJldHVybiBwYyh0Lm9iamVjdE1vZGUpfWdjLmV4cG9ydHM9e2dldEhpZ2hXYXRlck1hcms6ZHcsZ2V0RGVmYXVsdEhpZ2hXYXRlck1hcms6cGN9O30pO2Z1bmN0aW9uIHdjKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGUlND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7dmFyIHI9dC5pbmRleE9mKFwiPVwiKTtyZXR1cm4gcj09PS0xJiYocj1lKSxbcixyPT09ZT8wOjQtciU0XX1mdW5jdGlvbiBwdyh0LGUscil7Zm9yKHZhciBpLG4sbz1bXSxzPWU7czxyO3MrPTMpaT0odFtzXTw8MTYmMTY3MTE2ODApKyh0W3MrMV08PDgmNjUyODApKygyNTUmdFtzKzJdKSxvLnB1c2goJGVbKG49aSk+PjE4JjYzXSskZVtuPj4xMiY2M10rJGVbbj4+NiY2M10rJGVbNjMmbl0pO3JldHVybiBvLmpvaW4oXCJcIil9ZnVuY3Rpb24gdnQodCl7aWYodD4yMTQ3NDgzNjQ3KXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK3QrJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpO3ZhciBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxrLnByb3RvdHlwZSksZX1mdW5jdGlvbiBrKHQsZSxyKXtpZih0eXBlb2YgdD09XCJudW1iZXJcIil7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gSHModCl9cmV0dXJuIENjKHQsZSxyKX1mdW5jdGlvbiBDYyh0LGUscil7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpcmV0dXJuIGZ1bmN0aW9uKG8scyl7aWYodHlwZW9mIHM9PVwic3RyaW5nXCImJnMhPT1cIlwifHwocz1cInV0ZjhcIiksIWsuaXNFbmNvZGluZyhzKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcyk7dmFyIGE9MHxQYyhvLHMpLHU9dnQoYSksYz11LndyaXRlKG8scyk7cmV0dXJuIGMhPT1hJiYodT11LnNsaWNlKDAsYykpLHV9KHQsZSk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiBGcyh0KTtpZih0PT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgdCk7aWYoRXQodCxBcnJheUJ1ZmZlcil8fHQmJkV0KHQuYnVmZmVyLEFycmF5QnVmZmVyKXx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFwidVwiJiYoRXQodCxTaGFyZWRBcnJheUJ1ZmZlcil8fHQmJkV0KHQuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpcmV0dXJuIG1jKHQsZSxyKTtpZih0eXBlb2YgdD09XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO3ZhciBpPXQudmFsdWVPZiYmdC52YWx1ZU9mKCk7aWYoaSE9bnVsbCYmaSE9PXQpcmV0dXJuIGsuZnJvbShpLGUscik7dmFyIG49ZnVuY3Rpb24obyl7aWYoay5pc0J1ZmZlcihvKSl7dmFyIHM9MHxLcyhvLmxlbmd0aCksYT12dChzKTtyZXR1cm4gYS5sZW5ndGg9PT0wfHxvLmNvcHkoYSwwLDAscyksYX1pZihvLmxlbmd0aCE9PXZvaWQgMClyZXR1cm4gdHlwZW9mIG8ubGVuZ3RoIT1cIm51bWJlclwifHxHcyhvLmxlbmd0aCk/dnQoMCk6RnMobyk7aWYoby50eXBlPT09XCJCdWZmZXJcIiYmQXJyYXkuaXNBcnJheShvLmRhdGEpKXJldHVybiBGcyhvLmRhdGEpfSh0KTtpZihuKXJldHVybiBuO2lmKHR5cGVvZiBTeW1ib2w8XCJ1XCImJlN5bWJvbC50b1ByaW1pdGl2ZSE9bnVsbCYmdHlwZW9mIHRbU3ltYm9sLnRvUHJpbWl0aXZlXT09XCJmdW5jdGlvblwiKXJldHVybiBrLmZyb20odFtTeW1ib2wudG9QcmltaXRpdmVdKFwic3RyaW5nXCIpLGUscik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiB0KX1mdW5jdGlvbiBCYyh0KXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJyk7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK3QrJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpfWZ1bmN0aW9uIEhzKHQpe3JldHVybiBCYyh0KSx2dCh0PDA/MDowfEtzKHQpKX1mdW5jdGlvbiBGcyh0KXtmb3IodmFyIGU9dC5sZW5ndGg8MD8wOjB8S3ModC5sZW5ndGgpLHI9dnQoZSksaT0wO2k8ZTtpKz0xKXJbaV09MjU1JnRbaV07cmV0dXJuIHJ9ZnVuY3Rpb24gbWModCxlLHIpe2lmKGU8MHx8dC5ieXRlTGVuZ3RoPGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYodC5ieXRlTGVuZ3RoPGUrKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO3ZhciBpO3JldHVybiBpPWU9PT12b2lkIDAmJnI9PT12b2lkIDA/bmV3IFVpbnQ4QXJyYXkodCk6cj09PXZvaWQgMD9uZXcgVWludDhBcnJheSh0LGUpOm5ldyBVaW50OEFycmF5KHQsZSxyKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxrLnByb3RvdHlwZSksaX1mdW5jdGlvbiBLcyh0KXtpZih0Pj0yMTQ3NDgzNjQ3KXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiKzIxNDc0ODM2NDcgLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHx0fWZ1bmN0aW9uIFBjKHQsZSl7aWYoay5pc0J1ZmZlcih0KSlyZXR1cm4gdC5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHxFdCh0LEFycmF5QnVmZmVyKSlyZXR1cm4gdC5ieXRlTGVuZ3RoO2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpO3ZhciByPXQubGVuZ3RoLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl09PT0hMDtpZighaSYmcj09PTApcmV0dXJuIDA7Zm9yKHZhciBuPSExOzspc3dpdGNoKGUpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHI7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIFZzKHQpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipyO2Nhc2VcImhleFwiOnJldHVybiByPj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gTWModCkubGVuZ3RoO2RlZmF1bHQ6aWYobilyZXR1cm4gaT8tMTpWcyh0KS5sZW5ndGg7ZT0oXCJcIitlKS50b0xvd2VyQ2FzZSgpLG49ITA7fX1mdW5jdGlvbiB5dyh0LGUscil7dmFyIGk9ITE7aWYoKGU9PT12b2lkIDB8fGU8MCkmJihlPTApLGU+dGhpcy5sZW5ndGh8fCgocj09PXZvaWQgMHx8cj50aGlzLmxlbmd0aCkmJihyPXRoaXMubGVuZ3RoKSxyPD0wKXx8KHI+Pj49MCk8PShlPj4+PTApKXJldHVybiBcIlwiO2Zvcih0fHwodD1cInV0ZjhcIik7Oylzd2l0Y2godCl7Y2FzZVwiaGV4XCI6cmV0dXJuIEl3KHRoaXMsZSxyKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4ga2ModGhpcyxlLHIpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIFN3KHRoaXMsZSxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gQXcodGhpcyxlLHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBFdyh0aGlzLGUscik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIFR3KHRoaXMsZSxyKTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3QpO3Q9KHQrXCJcIikudG9Mb3dlckNhc2UoKSxpPSEwO319ZnVuY3Rpb24gc3IodCxlLHIpe3ZhciBpPXRbZV07dFtlXT10W3JdLHRbcl09aTt9ZnVuY3Rpb24gdmModCxlLHIsaSxuKXtpZih0Lmxlbmd0aD09PTApcmV0dXJuIC0xO2lmKHR5cGVvZiByPT1cInN0cmluZ1wiPyhpPXIscj0wKTpyPjIxNDc0ODM2NDc/cj0yMTQ3NDgzNjQ3OnI8LTIxNDc0ODM2NDgmJihyPS0yMTQ3NDgzNjQ4KSxHcyhyPStyKSYmKHI9bj8wOnQubGVuZ3RoLTEpLHI8MCYmKHI9dC5sZW5ndGgrcikscj49dC5sZW5ndGgpe2lmKG4pcmV0dXJuIC0xO3I9dC5sZW5ndGgtMTt9ZWxzZSBpZihyPDApe2lmKCFuKXJldHVybiAtMTtyPTA7fWlmKHR5cGVvZiBlPT1cInN0cmluZ1wiJiYoZT1rLmZyb20oZSxpKSksay5pc0J1ZmZlcihlKSlyZXR1cm4gZS5sZW5ndGg9PT0wPy0xOkVjKHQsZSxyLGksbik7aWYodHlwZW9mIGU9PVwibnVtYmVyXCIpcmV0dXJuIGUmPTI1NSx0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09XCJmdW5jdGlvblwiP24/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQsZSxyKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKHQsZSxyKTpFYyh0LFtlXSxyLGksbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBFYyh0LGUscixpLG4pe3ZhciBvLHM9MSxhPXQubGVuZ3RoLHU9ZS5sZW5ndGg7aWYoaSE9PXZvaWQgMCYmKChpPVN0cmluZyhpKS50b0xvd2VyQ2FzZSgpKT09PVwidWNzMlwifHxpPT09XCJ1Y3MtMlwifHxpPT09XCJ1dGYxNmxlXCJ8fGk9PT1cInV0Zi0xNmxlXCIpKXtpZih0Lmxlbmd0aDwyfHxlLmxlbmd0aDwyKXJldHVybiAtMTtzPTIsYS89Mix1Lz0yLHIvPTI7fWZ1bmN0aW9uIGMoeSx3KXtyZXR1cm4gcz09PTE/eVt3XTp5LnJlYWRVSW50MTZCRSh3KnMpfWlmKG4pe3ZhciBoPS0xO2ZvcihvPXI7bzxhO28rKylpZihjKHQsbyk9PT1jKGUsaD09PS0xPzA6by1oKSl7aWYoaD09PS0xJiYoaD1vKSxvLWgrMT09PXUpcmV0dXJuIGgqc31lbHNlIGghPT0tMSYmKG8tPW8taCksaD0tMTt9ZWxzZSBmb3Iocit1PmEmJihyPWEtdSksbz1yO28+PTA7by0tKXtmb3IodmFyIGQ9ITAsZz0wO2c8dTtnKyspaWYoYyh0LG8rZykhPT1jKGUsZykpe2Q9ITE7YnJlYWt9aWYoZClyZXR1cm4gb31yZXR1cm4gLTF9ZnVuY3Rpb24gYncodCxlLHIsaSl7cj1OdW1iZXIocil8fDA7dmFyIG49dC5sZW5ndGgtcjtpPyhpPU51bWJlcihpKSk+biYmKGk9bik6aT1uO3ZhciBvPWUubGVuZ3RoO2k+by8yJiYoaT1vLzIpO2Zvcih2YXIgcz0wO3M8aTsrK3Mpe3ZhciBhPXBhcnNlSW50KGUuc3Vic3RyKDIqcywyKSwxNik7aWYoR3MoYSkpcmV0dXJuIHM7dFtyK3NdPWE7fXJldHVybiBzfWZ1bmN0aW9uIHd3KHQsZSxyLGkpe3JldHVybiB1bihWcyhlLHQubGVuZ3RoLXIpLHQscixpKX1mdW5jdGlvbiBPYyh0LGUscixpKXtyZXR1cm4gdW4oZnVuY3Rpb24obil7Zm9yKHZhciBvPVtdLHM9MDtzPG4ubGVuZ3RoOysrcylvLnB1c2goMjU1Jm4uY2hhckNvZGVBdChzKSk7cmV0dXJuIG99KGUpLHQscixpKX1mdW5jdGlvbiBfdyh0LGUscixpKXtyZXR1cm4gT2ModCxlLHIsaSl9ZnVuY3Rpb24gbXcodCxlLHIsaSl7cmV0dXJuIHVuKE1jKGUpLHQscixpKX1mdW5jdGlvbiB2dyh0LGUscixpKXtyZXR1cm4gdW4oZnVuY3Rpb24obixvKXtmb3IodmFyIHMsYSx1LGM9W10saD0wO2g8bi5sZW5ndGgmJiEoKG8tPTIpPDApOysraClzPW4uY2hhckNvZGVBdChoKSxhPXM+PjgsdT1zJTI1NixjLnB1c2godSksYy5wdXNoKGEpO3JldHVybiBjfShlLHQubGVuZ3RoLXIpLHQscixpKX1mdW5jdGlvbiBFdyh0LGUscil7cmV0dXJuIGU9PT0wJiZyPT09dC5sZW5ndGg/JHMuZnJvbUJ5dGVBcnJheSh0KTokcy5mcm9tQnl0ZUFycmF5KHQuc2xpY2UoZSxyKSl9ZnVuY3Rpb24ga2ModCxlLHIpe3I9TWF0aC5taW4odC5sZW5ndGgscik7Zm9yKHZhciBpPVtdLG49ZTtuPHI7KXt2YXIgbyxzLGEsdSxjPXRbbl0saD1udWxsLGQ9Yz4yMzk/NDpjPjIyMz8zOmM+MTkxPzI6MTtpZihuK2Q8PXIpc3dpdGNoKGQpe2Nhc2UgMTpjPDEyOCYmKGg9Yyk7YnJlYWs7Y2FzZSAyOigxOTImKG89dFtuKzFdKSk9PTEyOCYmKHU9KDMxJmMpPDw2fDYzJm8pPjEyNyYmKGg9dSk7YnJlYWs7Y2FzZSAzOm89dFtuKzFdLHM9dFtuKzJdLCgxOTImbyk9PTEyOCYmKDE5MiZzKT09MTI4JiYodT0oMTUmYyk8PDEyfCg2MyZvKTw8Nnw2MyZzKT4yMDQ3JiYodTw1NTI5Nnx8dT41NzM0MykmJihoPXUpO2JyZWFrO2Nhc2UgNDpvPXRbbisxXSxzPXRbbisyXSxhPXRbbiszXSwoMTkyJm8pPT0xMjgmJigxOTImcyk9PTEyOCYmKDE5MiZhKT09MTI4JiYodT0oMTUmYyk8PDE4fCg2MyZvKTw8MTJ8KDYzJnMpPDw2fDYzJmEpPjY1NTM1JiZ1PDExMTQxMTImJihoPXUpO31oPT09bnVsbD8oaD02NTUzMyxkPTEpOmg+NjU1MzUmJihoLT02NTUzNixpLnB1c2goaD4+PjEwJjEwMjN8NTUyOTYpLGg9NTYzMjB8MTAyMyZoKSxpLnB1c2goaCksbis9ZDt9cmV0dXJuIGZ1bmN0aW9uKGcpe3ZhciB5PWcubGVuZ3RoO2lmKHk8PTQwOTYpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGcpO2Zvcih2YXIgdz1cIlwiLEU9MDtFPHk7KXcrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGcuc2xpY2UoRSxFKz00MDk2KSk7cmV0dXJuIHd9KGkpfWZ1bmN0aW9uIFN3KHQsZSxyKXt2YXIgaT1cIlwiO3I9TWF0aC5taW4odC5sZW5ndGgscik7Zm9yKHZhciBuPWU7bjxyOysrbilpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZ0W25dKTtyZXR1cm4gaX1mdW5jdGlvbiBBdyh0LGUscil7dmFyIGk9XCJcIjtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgbj1lO248cjsrK24paSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTtyZXR1cm4gaX1mdW5jdGlvbiBJdyh0LGUscil7dmFyIGk9dC5sZW5ndGg7KCFlfHxlPDApJiYoZT0wKSwoIXJ8fHI8MHx8cj5pKSYmKHI9aSk7Zm9yKHZhciBuPVwiXCIsbz1lO288cjsrK28pbis9Q3dbdFtvXV07cmV0dXJuIG59ZnVuY3Rpb24gVHcodCxlLHIpe2Zvcih2YXIgaT10LnNsaWNlKGUsciksbj1cIlwiLG89MDtvPGkubGVuZ3RoO28rPTIpbis9U3RyaW5nLmZyb21DaGFyQ29kZShpW29dKzI1NippW28rMV0pO3JldHVybiBufWZ1bmN0aW9uIGJlKHQsZSxyKXtpZih0JTEhPTB8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZih0K2U+cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24gUGUodCxlLHIsaSxuLG8pe2lmKCFrLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKGU+bnx8ZTxvKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKHIraT50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiB4Yyh0LGUscixpLG4sbyl7aWYocitpPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBTYyh0LGUscixpLG4pe3JldHVybiBlPStlLHI+Pj49MCxufHx4Yyh0LDAsciw0KSxOci53cml0ZSh0LGUscixpLDIzLDQpLHIrNH1mdW5jdGlvbiBBYyh0LGUscixpLG4pe3JldHVybiBlPStlLHI+Pj49MCxufHx4Yyh0LDAsciw4KSxOci53cml0ZSh0LGUscixpLDUyLDgpLHIrOH1mdW5jdGlvbiBWcyh0LGUpe3ZhciByO2U9ZXx8MS8wO2Zvcih2YXIgaT10Lmxlbmd0aCxuPW51bGwsbz1bXSxzPTA7czxpOysrcyl7aWYoKHI9dC5jaGFyQ29kZUF0KHMpKT41NTI5NSYmcjw1NzM0NCl7aWYoIW4pe2lmKHI+NTYzMTkpeyhlLT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihzKzE9PT1pKXsoZS09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bj1yO2NvbnRpbnVlfWlmKHI8NTYzMjApeyhlLT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KSxuPXI7Y29udGludWV9cj02NTUzNisobi01NTI5Njw8MTB8ci01NjMyMCk7fWVsc2UgbiYmKGUtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2lmKG49bnVsbCxyPDEyOCl7aWYoKGUtPTEpPDApYnJlYWs7by5wdXNoKHIpO31lbHNlIGlmKHI8MjA0OCl7aWYoKGUtPTIpPDApYnJlYWs7by5wdXNoKHI+PjZ8MTkyLDYzJnJ8MTI4KTt9ZWxzZSBpZihyPDY1NTM2KXtpZigoZS09Myk8MClicmVhaztvLnB1c2gocj4+MTJ8MjI0LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KTt9ZWxzZSB7aWYoIShyPDExMTQxMTIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKTtpZigoZS09NCk8MClicmVhaztvLnB1c2gocj4+MTh8MjQwLHI+PjEyJjYzfDEyOCxyPj42JjYzfDEyOCw2MyZyfDEyOCk7fX1yZXR1cm4gb31mdW5jdGlvbiBNYyh0KXtyZXR1cm4gJHMudG9CeXRlQXJyYXkoZnVuY3Rpb24oZSl7aWYoKGU9KGU9ZS5zcGxpdChcIj1cIilbMF0pLnRyaW0oKS5yZXBsYWNlKFJ3LFwiXCIpKS5sZW5ndGg8MilyZXR1cm4gXCJcIjtmb3IoO2UubGVuZ3RoJTQhPTA7KWUrPVwiPVwiO3JldHVybiBlfSh0KSl9ZnVuY3Rpb24gdW4odCxlLHIsaSl7Zm9yKHZhciBuPTA7bjxpJiYhKG4rcj49ZS5sZW5ndGh8fG4+PXQubGVuZ3RoKTsrK24pZVtuK3JdPXRbbl07cmV0dXJuIG59ZnVuY3Rpb24gRXQodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV8fHQhPW51bGwmJnQuY29uc3RydWN0b3IhPW51bGwmJnQuY29uc3RydWN0b3IubmFtZSE9bnVsbCYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09ZS5uYW1lfWZ1bmN0aW9uIEdzKHQpe3JldHVybiB0IT10fWZ1bmN0aW9uIEljKHQsZSl7Zm9yKHZhciByIGluIHQpZVtyXT10W3JdO31mdW5jdGlvbiBvcih0LGUscil7cmV0dXJuIGl0KHQsZSxyKX1mdW5jdGlvbiBoaSh0KXt2YXIgZTtzd2l0Y2godGhpcy5lbmNvZGluZz1mdW5jdGlvbihyKXt2YXIgaT1mdW5jdGlvbihuKXtpZighbilyZXR1cm4gXCJ1dGY4XCI7Zm9yKHZhciBvOzspc3dpdGNoKG4pe2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBcInV0ZjhcIjtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gXCJ1dGYxNmxlXCI7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIFwibGF0aW4xXCI7Y2FzZVwiYmFzZTY0XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJoZXhcIjpyZXR1cm4gbjtkZWZhdWx0OmlmKG8pcmV0dXJuO249KFwiXCIrbikudG9Mb3dlckNhc2UoKSxvPSEwO319KHIpO2lmKHR5cGVvZiBpIT1cInN0cmluZ1wiJiYoenMuaXNFbmNvZGluZz09PVRjfHwhVGMocikpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3IpO3JldHVybiBpfHxyfSh0KSx0aGlzLmVuY29kaW5nKXtjYXNlXCJ1dGYxNmxlXCI6dGhpcy50ZXh0PU93LHRoaXMuZW5kPWt3LGU9NDticmVhaztjYXNlXCJ1dGY4XCI6dGhpcy5maWxsTGFzdD1QdyxlPTQ7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6dGhpcy50ZXh0PXh3LHRoaXMuZW5kPU13LGU9MzticmVhaztkZWZhdWx0OnJldHVybiB0aGlzLndyaXRlPUx3LHRoaXMuZW5kPVV3LHZvaWQgMH10aGlzLmxhc3ROZWVkPTAsdGhpcy5sYXN0VG90YWw9MCx0aGlzLmxhc3RDaGFyPXpzLmFsbG9jVW5zYWZlKGUpO31mdW5jdGlvbiBXcyh0KXtyZXR1cm4gdDw9MTI3PzA6dD4+NT09Nj8yOnQ+PjQ9PTE0PzM6dD4+Mz09MzA/NDp0Pj42PT0yPy0xOi0yfWZ1bmN0aW9uIFB3KHQpe3ZhciBlPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQscj1mdW5jdGlvbihpLG4sbyl7aWYoKDE5MiZuWzBdKSE9MTI4KXJldHVybiBpLmxhc3ROZWVkPTAsXCJcXHVGRkZEXCI7aWYoaS5sYXN0TmVlZD4xJiZuLmxlbmd0aD4xKXtpZigoMTkyJm5bMV0pIT0xMjgpcmV0dXJuIGkubGFzdE5lZWQ9MSxcIlxcdUZGRkRcIjtpZihpLmxhc3ROZWVkPjImJm4ubGVuZ3RoPjImJigxOTImblsyXSkhPTEyOClyZXR1cm4gaS5sYXN0TmVlZD0yLFwiXFx1RkZGRFwifX0odGhpcyx0KTtyZXR1cm4gciE9PXZvaWQgMD9yOnRoaXMubGFzdE5lZWQ8PXQubGVuZ3RoPyh0LmNvcHkodGhpcy5sYXN0Q2hhcixlLDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpKToodC5jb3B5KHRoaXMubGFzdENoYXIsZSwwLHQubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT10Lmxlbmd0aCx2b2lkIDApfWZ1bmN0aW9uIE93KHQsZSl7aWYoKHQubGVuZ3RoLWUpJTI9PTApe3ZhciByPXQudG9TdHJpbmcoXCJ1dGYxNmxlXCIsZSk7aWYocil7dmFyIGk9ci5jaGFyQ29kZUF0KHIubGVuZ3RoLTEpO2lmKGk+PTU1Mjk2JiZpPD01NjMxOSlyZXR1cm4gdGhpcy5sYXN0TmVlZD0yLHRoaXMubGFzdFRvdGFsPTQsdGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09dFt0Lmxlbmd0aC0xXSxyLnNsaWNlKDAsLTEpfXJldHVybiByfXJldHVybiB0aGlzLmxhc3ROZWVkPTEsdGhpcy5sYXN0VG90YWw9Mix0aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMV0sdC50b1N0cmluZyhcInV0ZjE2bGVcIixlLHQubGVuZ3RoLTEpfWZ1bmN0aW9uIGt3KHQpe3ZhciBlPXQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIjtpZih0aGlzLmxhc3ROZWVkKXt2YXIgcj10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkO3JldHVybiBlK3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJ1dGYxNmxlXCIsMCxyKX1yZXR1cm4gZX1mdW5jdGlvbiB4dyh0LGUpe3ZhciByPSh0Lmxlbmd0aC1lKSUzO3JldHVybiByPT09MD90LnRvU3RyaW5nKFwiYmFzZTY0XCIsZSk6KHRoaXMubGFzdE5lZWQ9My1yLHRoaXMubGFzdFRvdGFsPTMscj09PTE/dGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTFdOih0aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT10W3QubGVuZ3RoLTFdKSx0LnRvU3RyaW5nKFwiYmFzZTY0XCIsZSx0Lmxlbmd0aC1yKSl9ZnVuY3Rpb24gTXcodCl7dmFyIGU9dCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP2UrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcImJhc2U2NFwiLDAsMy10aGlzLmxhc3ROZWVkKTplfWZ1bmN0aW9uIEx3KHQpe3JldHVybiB0LnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpfWZ1bmN0aW9uIFV3KHQpe3JldHVybiB0JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCJ9dmFyIFJjLCRlLGtlLHljLG9uLG5yLGJjLGd3LFN0LCRzLE5yLF9jLFJ3LEN3LGFuLGxuLGl0LEJ3LGFyLHpzLFRjLFFzPXdlKCgpPT57digpO20oKTtfKCk7Zm9yKFJjPXtieXRlTGVuZ3RoOmZ1bmN0aW9uKHQpe3ZhciBlPXdjKHQpLHI9ZVswXSxpPWVbMV07cmV0dXJuIDMqKHIraSkvNC1pfSx0b0J5dGVBcnJheTpmdW5jdGlvbih0KXt2YXIgZSxyLGk9d2ModCksbj1pWzBdLG89aVsxXSxzPW5ldyB5YyhmdW5jdGlvbihjLGgsZCl7cmV0dXJuIDMqKGgrZCkvNC1kfSgwLG4sbykpLGE9MCx1PW8+MD9uLTQ6bjtmb3Iocj0wO3I8dTtyKz00KWU9a2VbdC5jaGFyQ29kZUF0KHIpXTw8MTh8a2VbdC5jaGFyQ29kZUF0KHIrMSldPDwxMnxrZVt0LmNoYXJDb2RlQXQocisyKV08PDZ8a2VbdC5jaGFyQ29kZUF0KHIrMyldLHNbYSsrXT1lPj4xNiYyNTUsc1thKytdPWU+PjgmMjU1LHNbYSsrXT0yNTUmZTtyZXR1cm4gbz09PTImJihlPWtlW3QuY2hhckNvZGVBdChyKV08PDJ8a2VbdC5jaGFyQ29kZUF0KHIrMSldPj40LHNbYSsrXT0yNTUmZSksbz09PTEmJihlPWtlW3QuY2hhckNvZGVBdChyKV08PDEwfGtlW3QuY2hhckNvZGVBdChyKzEpXTw8NHxrZVt0LmNoYXJDb2RlQXQocisyKV0+PjIsc1thKytdPWU+PjgmMjU1LHNbYSsrXT0yNTUmZSksc30sZnJvbUJ5dGVBcnJheTpmdW5jdGlvbih0KXtmb3IodmFyIGUscj10Lmxlbmd0aCxpPXIlMyxuPVtdLG89MCxzPXItaTtvPHM7bys9MTYzODMpbi5wdXNoKHB3KHQsbyxvKzE2MzgzPnM/czpvKzE2MzgzKSk7cmV0dXJuIGk9PT0xPyhlPXRbci0xXSxuLnB1c2goJGVbZT4+Ml0rJGVbZTw8NCY2M10rXCI9PVwiKSk6aT09PTImJihlPSh0W3ItMl08PDgpK3Rbci0xXSxuLnB1c2goJGVbZT4+MTBdKyRlW2U+PjQmNjNdKyRlW2U8PDImNjNdK1wiPVwiKSksbi5qb2luKFwiXCIpfX0sJGU9W10sa2U9W10seWM9dHlwZW9mIFVpbnQ4QXJyYXk8XCJ1XCI/VWludDhBcnJheTpBcnJheSxvbj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixucj0wLGJjPW9uLmxlbmd0aDtucjxiYzsrK25yKSRlW25yXT1vbltucl0sa2Vbb24uY2hhckNvZGVBdChucildPW5yO2tlW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyLGtlW1wiX1wiLmNoYXJDb2RlQXQoMCldPTYzO2d3PXtyZWFkOmZ1bmN0aW9uKHQsZSxyLGksbil7dmFyIG8scyxhPTgqbi1pLTEsdT0oMTw8YSktMSxjPXU+PjEsaD0tNyxkPXI/bi0xOjAsZz1yPy0xOjEseT10W2UrZF07Zm9yKGQrPWcsbz15JigxPDwtaCktMSx5Pj49LWgsaCs9YTtoPjA7bz0yNTYqbyt0W2UrZF0sZCs9ZyxoLT04KTtmb3Iocz1vJigxPDwtaCktMSxvPj49LWgsaCs9aTtoPjA7cz0yNTYqcyt0W2UrZF0sZCs9ZyxoLT04KTtpZihvPT09MClvPTEtYztlbHNlIHtpZihvPT09dSlyZXR1cm4gcz9OYU46MS8wKih5Py0xOjEpO3MrPU1hdGgucG93KDIsaSksby09Yzt9cmV0dXJuICh5Py0xOjEpKnMqTWF0aC5wb3coMixvLWkpfSx3cml0ZTpmdW5jdGlvbih0LGUscixpLG4sbyl7dmFyIHMsYSx1LGM9OCpvLW4tMSxoPSgxPDxjKS0xLGQ9aD4+MSxnPW49PT0yMz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAseT1pPzA6by0xLHc9aT8xOi0xLEU9ZTwwfHxlPT09MCYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhhPWlzTmFOKGUpPzE6MCxzPWgpOihzPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHU9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sdSo9MiksKGUrPXMrZD49MT9nL3U6ZypNYXRoLnBvdygyLDEtZCkpKnU+PTImJihzKyssdS89MikscytkPj1oPyhhPTAscz1oKTpzK2Q+PTE/KGE9KGUqdS0xKSpNYXRoLnBvdygyLG4pLHMrPWQpOihhPWUqTWF0aC5wb3coMixkLTEpKk1hdGgucG93KDIsbikscz0wKSk7bj49ODt0W3IreV09MjU1JmEseSs9dyxhLz0yNTYsbi09OCk7Zm9yKHM9czw8bnxhLGMrPW47Yz4wO3Rbcit5XT0yNTUmcyx5Kz13LHMvPTI1NixjLT04KTt0W3IreS13XXw9MTI4KkU7fX0sU3Q9e30sJHM9UmMsTnI9Z3csX2M9dHlwZW9mIFN5bWJvbD09XCJmdW5jdGlvblwiJiZ0eXBlb2YgU3ltYm9sLmZvcj09XCJmdW5jdGlvblwiP1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKTpudWxsO1N0LkJ1ZmZlcj1rLFN0LlNsb3dCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuICt0IT10JiYodD0wKSxrLmFsbG9jKCt0KX0sU3QuSU5TUEVDVF9NQVhfQllURVM9NTA7U3Qua01heExlbmd0aD0yMTQ3NDgzNjQ3LGsuVFlQRURfQVJSQVlfU1VQUE9SVD1mdW5jdGlvbigpe3RyeXt2YXIgdD1uZXcgVWludDhBcnJheSgxKSxlPXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpLHQuZm9vKCk9PT00Mn1jYXRjaHtyZXR1cm4gITF9fSgpLGsuVFlQRURfQVJSQVlfU1VQUE9SVHx8dHlwZW9mIGNvbnNvbGU+XCJ1XCJ8fHR5cGVvZiBjb25zb2xlLmVycm9yIT1cImZ1bmN0aW9uXCJ8fGNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC5cIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGsucHJvdG90eXBlLFwicGFyZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoay5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGsucHJvdG90eXBlLFwib2Zmc2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoay5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pLGsucG9vbFNpemU9ODE5MixrLmZyb209ZnVuY3Rpb24odCxlLHIpe3JldHVybiBDYyh0LGUscil9LE9iamVjdC5zZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKGssVWludDhBcnJheSksay5hbGxvYz1mdW5jdGlvbih0LGUscil7cmV0dXJuIGZ1bmN0aW9uKGksbixvKXtyZXR1cm4gQmMoaSksaTw9MD92dChpKTpuIT09dm9pZCAwP3R5cGVvZiBvPT1cInN0cmluZ1wiP3Z0KGkpLmZpbGwobixvKTp2dChpKS5maWxsKG4pOnZ0KGkpfSh0LGUscil9LGsuYWxsb2NVbnNhZmU9ZnVuY3Rpb24odCl7cmV0dXJuIEhzKHQpfSxrLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbih0KXtyZXR1cm4gSHModCl9LGsuaXNCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPW51bGwmJnQuX2lzQnVmZmVyPT09ITAmJnQhPT1rLnByb3RvdHlwZX0say5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYoRXQodCxVaW50OEFycmF5KSYmKHQ9ay5mcm9tKHQsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKSksRXQoZSxVaW50OEFycmF5KSYmKGU9ay5mcm9tKGUsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKSksIWsuaXNCdWZmZXIodCl8fCFrLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZih0PT09ZSlyZXR1cm4gMDtmb3IodmFyIHI9dC5sZW5ndGgsaT1lLmxlbmd0aCxuPTAsbz1NYXRoLm1pbihyLGkpO248bzsrK24paWYodFtuXSE9PWVbbl0pe3I9dFtuXSxpPWVbbl07YnJlYWt9cmV0dXJuIHI8aT8tMTppPHI/MTowfSxrLmlzRW5jb2Rpbmc9ZnVuY3Rpb24odCl7c3dpdGNoKFN0cmluZyh0KS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiAhMDtkZWZhdWx0OnJldHVybiAhMX19LGsuY29uY2F0PWZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYodC5sZW5ndGg9PT0wKXJldHVybiBrLmFsbG9jKDApO3ZhciByO2lmKGU9PT12b2lkIDApZm9yKGU9MCxyPTA7cjx0Lmxlbmd0aDsrK3IpZSs9dFtyXS5sZW5ndGg7dmFyIGk9ay5hbGxvY1Vuc2FmZShlKSxuPTA7Zm9yKHI9MDtyPHQubGVuZ3RoOysrcil7dmFyIG89dFtyXTtpZihFdChvLFVpbnQ4QXJyYXkpJiYobz1rLmZyb20obykpLCFrLmlzQnVmZmVyKG8pKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO28uY29weShpLG4pLG4rPW8ubGVuZ3RoO31yZXR1cm4gaX0say5ieXRlTGVuZ3RoPVBjLGsucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxrLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9Milzcih0aGlzLGUsZSsxKTtyZXR1cm4gdGhpc30say5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHNcIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTQpc3IodGhpcyxlLGUrMyksc3IodGhpcyxlKzEsZSsyKTtyZXR1cm4gdGhpc30say5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCU4IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHNcIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTgpc3IodGhpcyxlLGUrNyksc3IodGhpcyxlKzEsZSs2KSxzcih0aGlzLGUrMixlKzUpLHNyKHRoaXMsZSszLGUrNCk7cmV0dXJuIHRoaXN9LGsucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7cmV0dXJuIHQ9PT0wP1wiXCI6YXJndW1lbnRzLmxlbmd0aD09PTA/a2ModGhpcywwLHQpOnl3LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0say5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmc9ay5wcm90b3R5cGUudG9TdHJpbmcsay5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCFrLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO3JldHVybiB0aGlzPT09dHx8ay5jb21wYXJlKHRoaXMsdCk9PT0wfSxrLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9XCJcIixlPVN0LklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0PXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLGUpLnJlcGxhY2UoLyguezJ9KS9nLFwiJDEgXCIpLnRyaW0oKSx0aGlzLmxlbmd0aD5lJiYodCs9XCIgLi4uIFwiKSxcIjxCdWZmZXIgXCIrdCtcIj5cIn0sX2MmJihrLnByb3RvdHlwZVtfY109ay5wcm90b3R5cGUuaW5zcGVjdCksay5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUscixpLG4pe2lmKEV0KHQsVWludDhBcnJheSkmJih0PWsuZnJvbSh0LHQub2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLCFrLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInRhcmdldFwiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgdCk7aWYoZT09PXZvaWQgMCYmKGU9MCkscj09PXZvaWQgMCYmKHI9dD90Lmxlbmd0aDowKSxpPT09dm9pZCAwJiYoaT0wKSxuPT09dm9pZCAwJiYobj10aGlzLmxlbmd0aCksZTwwfHxyPnQubGVuZ3RofHxpPDB8fG4+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYoaT49biYmZT49cilyZXR1cm4gMDtpZihpPj1uKXJldHVybiAtMTtpZihlPj1yKXJldHVybiAxO2lmKHRoaXM9PT10KXJldHVybiAwO2Zvcih2YXIgbz0obj4+Pj0wKS0oaT4+Pj0wKSxzPShyPj4+PTApLShlPj4+PTApLGE9TWF0aC5taW4obyxzKSx1PXRoaXMuc2xpY2UoaSxuKSxjPXQuc2xpY2UoZSxyKSxoPTA7aDxhOysraClpZih1W2hdIT09Y1toXSl7bz11W2hdLHM9Y1toXTticmVha31yZXR1cm4gbzxzPy0xOnM8bz8xOjB9LGsucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5pbmRleE9mKHQsZSxyKSE9PS0xfSxrLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdmModGhpcyx0LGUsciwhMCl9LGsucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdmModGhpcyx0LGUsciwhMSl9LGsucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQsZSxyLGkpe2lmKGU9PT12b2lkIDApaT1cInV0ZjhcIixyPXRoaXMubGVuZ3RoLGU9MDtlbHNlIGlmKHI9PT12b2lkIDAmJnR5cGVvZiBlPT1cInN0cmluZ1wiKWk9ZSxyPXRoaXMubGVuZ3RoLGU9MDtlbHNlIHtpZighaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7ZT4+Pj0wLGlzRmluaXRlKHIpPyhyPj4+PTAsaT09PXZvaWQgMCYmKGk9XCJ1dGY4XCIpKTooaT1yLHI9dm9pZCAwKTt9dmFyIG49dGhpcy5sZW5ndGgtZTtpZigocj09PXZvaWQgMHx8cj5uKSYmKHI9biksdC5sZW5ndGg+MCYmKHI8MHx8ZTwwKXx8ZT50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO2l8fChpPVwidXRmOFwiKTtmb3IodmFyIG89ITE7Oylzd2l0Y2goaSl7Y2FzZVwiaGV4XCI6cmV0dXJuIGJ3KHRoaXMsdCxlLHIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB3dyh0aGlzLHQsZSxyKTtjYXNlXCJhc2NpaVwiOnJldHVybiBPYyh0aGlzLHQsZSxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gX3codGhpcyx0LGUscik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIG13KHRoaXMsdCxlLHIpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB2dyh0aGlzLHQsZSxyKTtkZWZhdWx0OmlmKG8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2kpO2k9KFwiXCIraSkudG9Mb3dlckNhc2UoKSxvPSEwO319LGsucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB7dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07ay5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxlbmd0aDsodD1+fnQpPDA/KHQrPXIpPDAmJih0PTApOnQ+ciYmKHQ9ciksKGU9ZT09PXZvaWQgMD9yOn5+ZSk8MD8oZSs9cik8MCYmKGU9MCk6ZT5yJiYoZT1yKSxlPHQmJihlPXQpO3ZhciBpPXRoaXMuc3ViYXJyYXkodCxlKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGksay5wcm90b3R5cGUpLGl9LGsucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8YmUodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9dGhpc1t0XSxuPTEsbz0wOysrbzxlJiYobio9MjU2KTspaSs9dGhpc1t0K29dKm47cmV0dXJuIGl9LGsucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8YmUodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9dGhpc1t0Ky0tZV0sbj0xO2U+MCYmKG4qPTI1Nik7KWkrPXRoaXNbdCstLWVdKm47cmV0dXJuIGl9LGsucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8YmUodCwxLHRoaXMubGVuZ3RoKSx0aGlzW3RdfSxrLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fGJlKHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh9LGsucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8YmUodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdPDw4fHRoaXNbdCsxXX0say5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxiZSh0LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2KSsxNjc3NzIxNip0aGlzW3QrM119LGsucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8YmUodCw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW3RdKyh0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM10pfSxrLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8YmUodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9dGhpc1t0XSxuPTEsbz0wOysrbzxlJiYobio9MjU2KTspaSs9dGhpc1t0K29dKm47cmV0dXJuIGk+PShuKj0xMjgpJiYoaS09TWF0aC5wb3coMiw4KmUpKSxpfSxrLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8YmUodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9ZSxuPTEsbz10aGlzW3QrLS1pXTtpPjAmJihuKj0yNTYpOylvKz10aGlzW3QrLS1pXSpuO3JldHVybiBvPj0obio9MTI4KSYmKG8tPU1hdGgucG93KDIsOCplKSksb30say5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fGJlKHQsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbdF0/LTEqKDI1NS10aGlzW3RdKzEpOnRoaXNbdF19LGsucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7dD4+Pj0wLGV8fGJlKHQsMix0aGlzLmxlbmd0aCk7dmFyIHI9dGhpc1t0XXx0aGlzW3QrMV08PDg7cmV0dXJuIDMyNzY4JnI/NDI5NDkwMTc2MHxyOnJ9LGsucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKHQsZSl7dD4+Pj0wLGV8fGJlKHQsMix0aGlzLmxlbmd0aCk7dmFyIHI9dGhpc1t0KzFdfHRoaXNbdF08PDg7cmV0dXJuIDMyNzY4JnI/NDI5NDkwMTc2MHxyOnJ9LGsucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxiZSh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTZ8dGhpc1t0KzNdPDwyNH0say5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fGJlKHQsNCx0aGlzLmxlbmd0aCksdGhpc1t0XTw8MjR8dGhpc1t0KzFdPDwxNnx0aGlzW3QrMl08PDh8dGhpc1t0KzNdfSxrLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8YmUodCw0LHRoaXMubGVuZ3RoKSxOci5yZWFkKHRoaXMsdCwhMCwyMyw0KX0say5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fGJlKHQsNCx0aGlzLmxlbmd0aCksTnIucmVhZCh0aGlzLHQsITEsMjMsNCl9LGsucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8YmUodCw4LHRoaXMubGVuZ3RoKSxOci5yZWFkKHRoaXMsdCwhMCw1Miw4KX0say5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxiZSh0LDgsdGhpcy5sZW5ndGgpLE5yLnJlYWQodGhpcyx0LCExLDUyLDgpfSxrLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbih0LGUscixpKXt0PSt0LGU+Pj49MCxyPj4+PTAsaXx8UGUodGhpcyx0LGUscixNYXRoLnBvdygyLDgqciktMSwwKTt2YXIgbj0xLG89MDtmb3IodGhpc1tlXT0yNTUmdDsrK288ciYmKG4qPTI1Nik7KXRoaXNbZStvXT10L24mMjU1O3JldHVybiBlK3J9LGsucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKHQsZSxyLGkpe3Q9K3QsZT4+Pj0wLHI+Pj49MCxpfHxQZSh0aGlzLHQsZSxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBuPXItMSxvPTE7Zm9yKHRoaXNbZStuXT0yNTUmdDstLW4+PTAmJihvKj0yNTYpOyl0aGlzW2Urbl09dC9vJjI1NTtyZXR1cm4gZStyfSxrLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsMSwyNTUsMCksdGhpc1tlXT0yNTUmdCxlKzF9LGsucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSwyLDY1NTM1LDApLHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44LGUrMn0say5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQsZSsyfSxrLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbZSszXT10Pj4+MjQsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrMV09dD4+PjgsdGhpc1tlXT0yNTUmdCxlKzR9LGsucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSw0LDQyOTQ5NjcyOTUsMCksdGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0LGUrNH0say5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih0LGUscixpKXtpZih0PSt0LGU+Pj49MCwhaSl7dmFyIG49TWF0aC5wb3coMiw4KnItMSk7UGUodGhpcyx0LGUscixuLTEsLW4pO312YXIgbz0wLHM9MSxhPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytvPHImJihzKj0yNTYpOyl0PDAmJmE9PT0wJiZ0aGlzW2Urby0xXSE9PTAmJihhPTEpLHRoaXNbZStvXT0odC9zPj4wKS1hJjI1NTtyZXR1cm4gZStyfSxrLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHQsZSxyLGkpe2lmKHQ9K3QsZT4+Pj0wLCFpKXt2YXIgbj1NYXRoLnBvdygyLDgqci0xKTtQZSh0aGlzLHQsZSxyLG4tMSwtbik7fXZhciBvPXItMSxzPTEsYT0wO2Zvcih0aGlzW2Urb109MjU1JnQ7LS1vPj0wJiYocyo9MjU2KTspdDwwJiZhPT09MCYmdGhpc1tlK28rMV0hPT0wJiYoYT0xKSx0aGlzW2Urb109KHQvcz4+MCktYSYyNTU7cmV0dXJuIGUrcn0say5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsMSwxMjcsLTEyOCksdDwwJiYodD0yNTUrdCsxKSx0aGlzW2VdPTI1NSZ0LGUrMX0say5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsMiwzMjc2NywtMzI3NjgpLHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44LGUrMn0say5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsMiwzMjc2NywtMzI3NjgpLHRoaXNbZV09dD4+PjgsdGhpc1tlKzFdPTI1NSZ0LGUrMn0say5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjQsZSs0fSxrLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHQ8MCYmKHQ9NDI5NDk2NzI5NSt0KzEpLHRoaXNbZV09dD4+PjI0LHRoaXNbZSsxXT10Pj4+MTYsdGhpc1tlKzJdPXQ+Pj44LHRoaXNbZSszXT0yNTUmdCxlKzR9LGsucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIFNjKHRoaXMsdCxlLCEwLHIpfSxrLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBTYyh0aGlzLHQsZSwhMSxyKX0say5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIEFjKHRoaXMsdCxlLCEwLHIpfSxrLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gQWModGhpcyx0LGUsITEscil9LGsucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlLHIsaSl7aWYoIWsuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlclwiKTtpZihyfHwocj0wKSxpfHxpPT09MHx8KGk9dGhpcy5sZW5ndGgpLGU+PXQubGVuZ3RoJiYoZT10Lmxlbmd0aCksZXx8KGU9MCksaT4wJiZpPHImJihpPXIpLGk9PT1yfHx0Lmxlbmd0aD09PTB8fHRoaXMubGVuZ3RoPT09MClyZXR1cm4gMDtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKHI8MHx8cj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYoaTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7aT50aGlzLmxlbmd0aCYmKGk9dGhpcy5sZW5ndGgpLHQubGVuZ3RoLWU8aS1yJiYoaT10Lmxlbmd0aC1lK3IpO3ZhciBuPWktcjtpZih0aGlzPT09dCYmdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW49PVwiZnVuY3Rpb25cIil0aGlzLmNvcHlXaXRoaW4oZSxyLGkpO2Vsc2UgaWYodGhpcz09PXQmJnI8ZSYmZTxpKWZvcih2YXIgbz1uLTE7bz49MDstLW8pdFtvK2VdPXRoaXNbbytyXTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHQsdGhpcy5zdWJhcnJheShyLGkpLGUpO3JldHVybiBufSxrLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHQsZSxyLGkpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIj8oaT1lLGU9MCxyPXRoaXMubGVuZ3RoKTp0eXBlb2Ygcj09XCJzdHJpbmdcIiYmKGk9cixyPXRoaXMubGVuZ3RoKSxpIT09dm9pZCAwJiZ0eXBlb2YgaSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZih0eXBlb2YgaT09XCJzdHJpbmdcIiYmIWsuaXNFbmNvZGluZyhpKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIraSk7aWYodC5sZW5ndGg9PT0xKXt2YXIgbj10LmNoYXJDb2RlQXQoMCk7KGk9PT1cInV0ZjhcIiYmbjwxMjh8fGk9PT1cImxhdGluMVwiKSYmKHQ9bik7fX1lbHNlIHR5cGVvZiB0PT1cIm51bWJlclwiP3QmPTI1NTp0eXBlb2YgdD09XCJib29sZWFuXCImJih0PU51bWJlcih0KSk7aWYoZTwwfHx0aGlzLmxlbmd0aDxlfHx0aGlzLmxlbmd0aDxyKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKHI8PWUpcmV0dXJuIHRoaXM7dmFyIG87aWYoZT4+Pj0wLHI9cj09PXZvaWQgMD90aGlzLmxlbmd0aDpyPj4+MCx0fHwodD0wKSx0eXBlb2YgdD09XCJudW1iZXJcIilmb3Iobz1lO288cjsrK28pdGhpc1tvXT10O2Vsc2Uge3ZhciBzPWsuaXNCdWZmZXIodCk/dDprLmZyb20odCxpKSxhPXMubGVuZ3RoO2lmKGE9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrdCsnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJyk7Zm9yKG89MDtvPHItZTsrK28pdGhpc1tvK2VdPXNbbyVhXTt9cmV0dXJuIHRoaXN9O1J3PS9bXisvMC05QS1aYS16LV9dL2c7Q3c9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5KDI1NiksZT0wO2U8MTY7KytlKWZvcih2YXIgcj0xNiplLGk9MDtpPDE2OysraSl0W3IraV09XCIwMTIzNDU2Nzg5YWJjZGVmXCJbZV0rXCIwMTIzNDU2Nzg5YWJjZGVmXCJbaV07cmV0dXJuIHR9KCk7U3QuQnVmZmVyO1N0LklOU1BFQ1RfTUFYX0JZVEVTO1N0LmtNYXhMZW5ndGg7YW49e30sbG49U3QsaXQ9bG4uQnVmZmVyO2l0LmZyb20mJml0LmFsbG9jJiZpdC5hbGxvY1Vuc2FmZSYmaXQuYWxsb2NVbnNhZmVTbG93P2FuPWxuOihJYyhsbixhbiksYW4uQnVmZmVyPW9yKSxvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpdC5wcm90b3R5cGUpLEljKGl0LG9yKSxvci5mcm9tPWZ1bmN0aW9uKHQsZSxyKXtpZih0eXBlb2YgdD09XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIGl0KHQsZSxyKX0sb3IuYWxsb2M9ZnVuY3Rpb24odCxlLHIpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3ZhciBpPWl0KHQpO3JldHVybiBlIT09dm9pZCAwP3R5cGVvZiByPT1cInN0cmluZ1wiP2kuZmlsbChlLHIpOmkuZmlsbChlKTppLmZpbGwoMCksaX0sb3IuYWxsb2NVbnNhZmU9ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIGl0KHQpfSxvci5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIGxuLlNsb3dCdWZmZXIodCl9O0J3PWFuLGFyPXt9LHpzPUJ3LkJ1ZmZlcixUYz16cy5pc0VuY29kaW5nfHxmdW5jdGlvbih0KXtzd2l0Y2goKHQ9XCJcIit0KSYmdC50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOmNhc2VcInJhd1wiOnJldHVybiAhMDtkZWZhdWx0OnJldHVybiAhMX19O2FyLlN0cmluZ0RlY29kZXI9aGksaGkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoPT09MClyZXR1cm4gXCJcIjt2YXIgZSxyO2lmKHRoaXMubGFzdE5lZWQpe2lmKChlPXRoaXMuZmlsbExhc3QodCkpPT09dm9pZCAwKXJldHVybiBcIlwiO3I9dGhpcy5sYXN0TmVlZCx0aGlzLmxhc3ROZWVkPTA7fWVsc2Ugcj0wO3JldHVybiByPHQubGVuZ3RoP2U/ZSt0aGlzLnRleHQodCxyKTp0aGlzLnRleHQodCxyKTplfHxcIlwifSxoaS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIjtyZXR1cm4gdGhpcy5sYXN0TmVlZD9lK1wiXFx1RkZGRFwiOmV9LGhpLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZnVuY3Rpb24obixvLHMpe3ZhciBhPW8ubGVuZ3RoLTE7aWYoYTxzKXJldHVybiAwO3ZhciB1PVdzKG9bYV0pO3JldHVybiB1Pj0wPyh1PjAmJihuLmxhc3ROZWVkPXUtMSksdSk6LS1hPHN8fHU9PT0tMj8wOih1PVdzKG9bYV0pKT49MD8odT4wJiYobi5sYXN0TmVlZD11LTIpLHUpOi0tYTxzfHx1PT09LTI/MDoodT1XcyhvW2FdKSk+PTA/KHU+MCYmKHU9PT0yP3U9MDpuLmxhc3ROZWVkPXUtMyksdSk6MH0odGhpcyx0LGUpO2lmKCF0aGlzLmxhc3ROZWVkKXJldHVybiB0LnRvU3RyaW5nKFwidXRmOFwiLGUpO3RoaXMubGFzdFRvdGFsPXI7dmFyIGk9dC5sZW5ndGgtKHItdGhpcy5sYXN0TmVlZCk7cmV0dXJuIHQuY29weSh0aGlzLmxhc3RDaGFyLDAsaSksdC50b1N0cmluZyhcInV0ZjhcIixlLGkpfSxoaS5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24odCl7aWYodGhpcy5sYXN0TmVlZDw9dC5sZW5ndGgpcmV0dXJuIHQuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCk7dC5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHQubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT10Lmxlbmd0aDt9O2FyLlN0cmluZ0RlY29kZXI7YXIuU3RyaW5nRGVjb2Rlcjt9KTt2YXIgTGM9e307UXQoTGMse1N0cmluZ0RlY29kZXI6KCk9Pk53LGRlZmF1bHQ6KCk9PmFyfSk7dmFyIE53LFVjPXdlKCgpPT57digpO20oKTtfKCk7UXMoKTtRcygpO053PWFyLlN0cmluZ0RlY29kZXI7fSk7dmFyIFlzPU0oKEYyLGpjKT0+e3YoKTttKCk7XygpO3ZhciBOYz1VdCgpLHtQcm9taXNlUHJvdG90eXBlVGhlbjpxdyxTeW1ib2xBc3luY0l0ZXJhdG9yOnFjLFN5bWJvbEl0ZXJhdG9yOkRjfT1jZSgpLHtCdWZmZXI6RHd9PSh5ZSgpLFgoX2UpKSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6ancsRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUzpGd309U2UoKS5jb2RlcztmdW5jdGlvbiBXdyh0LGUscil7bGV0IGk7aWYodHlwZW9mIGU9PVwic3RyaW5nXCJ8fGUgaW5zdGFuY2VvZiBEdylyZXR1cm4gbmV3IHQoe29iamVjdE1vZGU6ITAsLi4ucixyZWFkKCl7dGhpcy5wdXNoKGUpLHRoaXMucHVzaChudWxsKTt9fSk7bGV0IG47aWYoZSYmZVtxY10pbj0hMCxpPWVbcWNdKCk7ZWxzZSBpZihlJiZlW0RjXSluPSExLGk9ZVtEY10oKTtlbHNlIHRocm93IG5ldyBqdyhcIml0ZXJhYmxlXCIsW1wiSXRlcmFibGVcIl0sZSk7bGV0IG89bmV3IHQoe29iamVjdE1vZGU6ITAsaGlnaFdhdGVyTWFyazoxLC4uLnJ9KSxzPSExO28uX3JlYWQ9ZnVuY3Rpb24oKXtzfHwocz0hMCx1KCkpO30sby5fZGVzdHJveT1mdW5jdGlvbihjLGgpe3F3KGEoYyksKCk9Pk5jLm5leHRUaWNrKGgsYyksZD0+TmMubmV4dFRpY2soaCxkfHxjKSk7fTthc3luYyBmdW5jdGlvbiBhKGMpe2xldCBoPWMhPW51bGwsZD10eXBlb2YgaS50aHJvdz09XCJmdW5jdGlvblwiO2lmKGgmJmQpe2xldHt2YWx1ZTpnLGRvbmU6eX09YXdhaXQgaS50aHJvdyhjKTtpZihhd2FpdCBnLHkpcmV0dXJufWlmKHR5cGVvZiBpLnJldHVybj09XCJmdW5jdGlvblwiKXtsZXR7dmFsdWU6Z309YXdhaXQgaS5yZXR1cm4oKTthd2FpdCBnO319YXN5bmMgZnVuY3Rpb24gdSgpe2Zvcig7Oyl7dHJ5e2xldHt2YWx1ZTpjLGRvbmU6aH09bj9hd2FpdCBpLm5leHQoKTppLm5leHQoKTtpZihoKW8ucHVzaChudWxsKTtlbHNlIHtsZXQgZD1jJiZ0eXBlb2YgYy50aGVuPT1cImZ1bmN0aW9uXCI/YXdhaXQgYzpjO2lmKGQ9PT1udWxsKXRocm93IHM9ITEsbmV3IEZ3O2lmKG8ucHVzaChkKSljb250aW51ZTtzPSExO319Y2F0Y2goYyl7by5kZXN0cm95KGMpO31icmVha319cmV0dXJuIG99amMuZXhwb3J0cz1Xdzt9KTt2YXIgZGk9TSgoSjIsWmMpPT57digpO20oKTtfKCk7dmFyIEhlPVV0KCkse0FycmF5UHJvdG90eXBlSW5kZXhPZjokdyxOdW1iZXJJc0ludGVnZXI6SHcsTnVtYmVySXNOYU46VncsTnVtYmVyUGFyc2VJbnQ6encsT2JqZWN0RGVmaW5lUHJvcGVydGllczokYyxPYmplY3RLZXlzOkt3LE9iamVjdFNldFByb3RvdHlwZU9mOkhjLFByb21pc2U6R3csU2FmZVNldDpRdyxTeW1ib2xBc3luY0l0ZXJhdG9yOll3LFN5bWJvbDpKd309Y2UoKTtaYy5leHBvcnRzPUY7Ri5SZWFkYWJsZVN0YXRlPXJvO3ZhcntFdmVudEVtaXR0ZXI6WHd9PShpcigpLFgocnIpKSx7U3RyZWFtOnF0LHByZXBlbmRMaXN0ZW5lcjpad309dG4oKSx7QnVmZmVyOkpzfT0oeWUoKSxYKF9lKSkse2FkZEFib3J0U2lnbmFsOmVffT1jaSgpLHRfPW10KCksSD1KZSgpLmRlYnVnbG9nKFwic3RyZWFtXCIsdD0+e0g9dDt9KSxyXz1kYygpLERyPXRyKCkse2dldEhpZ2hXYXRlck1hcms6aV8sZ2V0RGVmYXVsdEhpZ2hXYXRlck1hcms6bl99PXNuKCkse2FnZ3JlZ2F0ZVR3b0Vycm9yczpGYyxjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1RZUEU6c18sRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQ6b18sRVJSX09VVF9PRl9SQU5HRTphXyxFUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GOmxfLEVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQ6dV99fT1TZSgpLHt2YWxpZGF0ZU9iamVjdDpmX309ZmkoKSxscj1KdyhcImtQYXVzZWRcIikse1N0cmluZ0RlY29kZXI6VmN9PShVYygpLFgoTGMpKSxjXz1ZcygpO0hjKEYucHJvdG90eXBlLHF0LnByb3RvdHlwZSk7SGMoRixxdCk7dmFyIFhzPSgpPT57fSx7ZXJyb3JPckRlc3Ryb3k6cXJ9PURyO2Z1bmN0aW9uIHJvKHQsZSxyKXt0eXBlb2YgciE9XCJib29sZWFuXCImJihyPWUgaW5zdGFuY2VvZiBudCgpKSx0aGlzLm9iamVjdE1vZGU9ISEodCYmdC5vYmplY3RNb2RlKSxyJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISEodCYmdC5yZWFkYWJsZU9iamVjdE1vZGUpKSx0aGlzLmhpZ2hXYXRlck1hcms9dD9pXyh0aGlzLHQsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIixyKTpuXyghMSksdGhpcy5idWZmZXI9bmV3IHJfLHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1bXSx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5jb25zdHJ1Y3RlZD0hMCx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLnJlc3VtZVNjaGVkdWxlZD0hMSx0aGlzW2xyXT1udWxsLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuZW1pdENsb3NlPSF0fHx0LmVtaXRDbG9zZSE9PSExLHRoaXMuYXV0b0Rlc3Ryb3k9IXR8fHQuYXV0b0Rlc3Ryb3khPT0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmVycm9yZWQ9bnVsbCx0aGlzLmNsb3NlZD0hMSx0aGlzLmNsb3NlRW1pdHRlZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz10JiZ0LmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5hd2FpdERyYWluV3JpdGVycz1udWxsLHRoaXMubXVsdGlBd2FpdERyYWluPSExLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kYXRhRW1pdHRlZD0hMSx0aGlzLmRlY29kZXI9bnVsbCx0aGlzLmVuY29kaW5nPW51bGwsdCYmdC5lbmNvZGluZyYmKHRoaXMuZGVjb2Rlcj1uZXcgVmModC5lbmNvZGluZyksdGhpcy5lbmNvZGluZz10LmVuY29kaW5nKTt9ZnVuY3Rpb24gRih0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBGKSlyZXR1cm4gbmV3IEYodCk7bGV0IGU9dGhpcyBpbnN0YW5jZW9mIG50KCk7dGhpcy5fcmVhZGFibGVTdGF0ZT1uZXcgcm8odCx0aGlzLGUpLHQmJih0eXBlb2YgdC5yZWFkPT1cImZ1bmN0aW9uXCImJih0aGlzLl9yZWFkPXQucmVhZCksdHlwZW9mIHQuZGVzdHJveT09XCJmdW5jdGlvblwiJiYodGhpcy5fZGVzdHJveT10LmRlc3Ryb3kpLHR5cGVvZiB0LmNvbnN0cnVjdD09XCJmdW5jdGlvblwiJiYodGhpcy5fY29uc3RydWN0PXQuY29uc3RydWN0KSx0LnNpZ25hbCYmIWUmJmVfKHQuc2lnbmFsLHRoaXMpKSxxdC5jYWxsKHRoaXMsdCksRHIuY29uc3RydWN0KHRoaXMsKCk9Pnt0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSYmZm4odGhpcyx0aGlzLl9yZWFkYWJsZVN0YXRlKTt9KTt9Ri5wcm90b3R5cGUuZGVzdHJveT1Eci5kZXN0cm95O0YucHJvdG90eXBlLl91bmRlc3Ryb3k9RHIudW5kZXN0cm95O0YucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKHQsZSl7ZSh0KTt9O0YucHJvdG90eXBlW1h3LmNhcHR1cmVSZWplY3Rpb25TeW1ib2xdPWZ1bmN0aW9uKHQpe3RoaXMuZGVzdHJveSh0KTt9O0YucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gemModGhpcyx0LGUsITEpfTtGLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHpjKHRoaXMsdCxlLCEwKX07ZnVuY3Rpb24gemModCxlLHIsaSl7SChcInJlYWRhYmxlQWRkQ2h1bmtcIixlKTtsZXQgbj10Ll9yZWFkYWJsZVN0YXRlLG87aWYobi5vYmplY3RNb2RlfHwodHlwZW9mIGU9PVwic3RyaW5nXCI/KHI9cnx8bi5kZWZhdWx0RW5jb2Rpbmcsbi5lbmNvZGluZyE9PXImJihpJiZuLmVuY29kaW5nP2U9SnMuZnJvbShlLHIpLnRvU3RyaW5nKG4uZW5jb2RpbmcpOihlPUpzLmZyb20oZSxyKSxyPVwiXCIpKSk6ZSBpbnN0YW5jZW9mIEpzP3I9XCJcIjpxdC5faXNVaW50OEFycmF5KGUpPyhlPXF0Ll91aW50OEFycmF5VG9CdWZmZXIoZSkscj1cIlwiKTplIT1udWxsJiYobz1uZXcgc18oXCJjaHVua1wiLFtcInN0cmluZ1wiLFwiQnVmZmVyXCIsXCJVaW50OEFycmF5XCJdLGUpKSksbylxcih0LG8pO2Vsc2UgaWYoZT09PW51bGwpbi5yZWFkaW5nPSExLHBfKHQsbik7ZWxzZSBpZihuLm9iamVjdE1vZGV8fGUmJmUubGVuZ3RoPjApaWYoaSlpZihuLmVuZEVtaXR0ZWQpcXIodCxuZXcgdV8pO2Vsc2Uge2lmKG4uZGVzdHJveWVkfHxuLmVycm9yZWQpcmV0dXJuICExO1pzKHQsbixlLCEwKTt9ZWxzZSBpZihuLmVuZGVkKXFyKHQsbmV3IGxfKTtlbHNlIHtpZihuLmRlc3Ryb3llZHx8bi5lcnJvcmVkKXJldHVybiAhMTtuLnJlYWRpbmc9ITEsbi5kZWNvZGVyJiYhcj8oZT1uLmRlY29kZXIud3JpdGUoZSksbi5vYmplY3RNb2RlfHxlLmxlbmd0aCE9PTA/WnModCxuLGUsITEpOmZuKHQsbikpOlpzKHQsbixlLCExKTt9ZWxzZSBpfHwobi5yZWFkaW5nPSExLGZuKHQsbikpO3JldHVybiAhbi5lbmRlZCYmKG4ubGVuZ3RoPG4uaGlnaFdhdGVyTWFya3x8bi5sZW5ndGg9PT0wKX1mdW5jdGlvbiBacyh0LGUscixpKXtlLmZsb3dpbmcmJmUubGVuZ3RoPT09MCYmIWUuc3luYyYmdC5saXN0ZW5lckNvdW50KFwiZGF0YVwiKT4wPyhlLm11bHRpQXdhaXREcmFpbj9lLmF3YWl0RHJhaW5Xcml0ZXJzLmNsZWFyKCk6ZS5hd2FpdERyYWluV3JpdGVycz1udWxsLGUuZGF0YUVtaXR0ZWQ9ITAsdC5lbWl0KFwiZGF0YVwiLHIpKTooZS5sZW5ndGgrPWUub2JqZWN0TW9kZT8xOnIubGVuZ3RoLGk/ZS5idWZmZXIudW5zaGlmdChyKTplLmJ1ZmZlci5wdXNoKHIpLGUubmVlZFJlYWRhYmxlJiZjbih0KSksZm4odCxlKTt9Ri5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtsZXQgdD10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiB0W2xyXT09PSEwfHx0LmZsb3dpbmc9PT0hMX07Ri5wcm90b3R5cGUuc2V0RW5jb2Rpbmc9ZnVuY3Rpb24odCl7bGV0IGU9bmV3IFZjKHQpO3RoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1lLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyLmVuY29kaW5nO2xldCByPXRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLGk9XCJcIjtmb3IobGV0IG4gb2YgcilpKz1lLndyaXRlKG4pO3JldHVybiByLmNsZWFyKCksaSE9PVwiXCImJnIucHVzaChpKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aD1pLmxlbmd0aCx0aGlzfTt2YXIgaF89MTA3Mzc0MTgyNDtmdW5jdGlvbiBkXyh0KXtpZih0PmhfKXRocm93IG5ldyBhXyhcInNpemVcIixcIjw9IDFHaUJcIix0KTtyZXR1cm4gdC0tLHR8PXQ+Pj4xLHR8PXQ+Pj4yLHR8PXQ+Pj40LHR8PXQ+Pj44LHR8PXQ+Pj4xNix0KyssdH1mdW5jdGlvbiBXYyh0LGUpe3JldHVybiB0PD0wfHxlLmxlbmd0aD09PTAmJmUuZW5kZWQ/MDplLm9iamVjdE1vZGU/MTpWdyh0KT9lLmZsb3dpbmcmJmUubGVuZ3RoP2UuYnVmZmVyLmZpcnN0KCkubGVuZ3RoOmUubGVuZ3RoOnQ8PWUubGVuZ3RoP3Q6ZS5lbmRlZD9lLmxlbmd0aDowfUYucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7SChcInJlYWRcIix0KSx0PT09dm9pZCAwP3Q9TmFOOkh3KHQpfHwodD16dyh0LDEwKSk7bGV0IGU9dGhpcy5fcmVhZGFibGVTdGF0ZSxyPXQ7aWYodD5lLmhpZ2hXYXRlck1hcmsmJihlLmhpZ2hXYXRlck1hcms9ZF8odCkpLHQhPT0wJiYoZS5lbWl0dGVkUmVhZGFibGU9ITEpLHQ9PT0wJiZlLm5lZWRSZWFkYWJsZSYmKChlLmhpZ2hXYXRlck1hcmshPT0wP2UubGVuZ3RoPj1lLmhpZ2hXYXRlck1hcms6ZS5sZW5ndGg+MCl8fGUuZW5kZWQpKXJldHVybiBIKFwicmVhZDogZW1pdFJlYWRhYmxlXCIsZS5sZW5ndGgsZS5lbmRlZCksZS5sZW5ndGg9PT0wJiZlLmVuZGVkP2VvKHRoaXMpOmNuKHRoaXMpLG51bGw7aWYodD1XYyh0LGUpLHQ9PT0wJiZlLmVuZGVkKXJldHVybiBlLmxlbmd0aD09PTAmJmVvKHRoaXMpLG51bGw7bGV0IGk9ZS5uZWVkUmVhZGFibGU7aWYoSChcIm5lZWQgcmVhZGFibGVcIixpKSwoZS5sZW5ndGg9PT0wfHxlLmxlbmd0aC10PGUuaGlnaFdhdGVyTWFyaykmJihpPSEwLEgoXCJsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFya1wiLGkpKSxlLmVuZGVkfHxlLnJlYWRpbmd8fGUuZGVzdHJveWVkfHxlLmVycm9yZWR8fCFlLmNvbnN0cnVjdGVkKWk9ITEsSChcInJlYWRpbmcsIGVuZGVkIG9yIGNvbnN0cnVjdGluZ1wiLGkpO2Vsc2UgaWYoaSl7SChcImRvIHJlYWRcIiksZS5yZWFkaW5nPSEwLGUuc3luYz0hMCxlLmxlbmd0aD09PTAmJihlLm5lZWRSZWFkYWJsZT0hMCk7dHJ5e3RoaXMuX3JlYWQoZS5oaWdoV2F0ZXJNYXJrKTt9Y2F0Y2gobyl7cXIodGhpcyxvKTt9ZS5zeW5jPSExLGUucmVhZGluZ3x8KHQ9V2MocixlKSk7fWxldCBuO3JldHVybiB0PjA/bj1KYyh0LGUpOm49bnVsbCxuPT09bnVsbD8oZS5uZWVkUmVhZGFibGU9ZS5sZW5ndGg8PWUuaGlnaFdhdGVyTWFyayx0PTApOihlLmxlbmd0aC09dCxlLm11bHRpQXdhaXREcmFpbj9lLmF3YWl0RHJhaW5Xcml0ZXJzLmNsZWFyKCk6ZS5hd2FpdERyYWluV3JpdGVycz1udWxsKSxlLmxlbmd0aD09PTAmJihlLmVuZGVkfHwoZS5uZWVkUmVhZGFibGU9ITApLHIhPT10JiZlLmVuZGVkJiZlbyh0aGlzKSksbiE9PW51bGwmJiFlLmVycm9yRW1pdHRlZCYmIWUuY2xvc2VFbWl0dGVkJiYoZS5kYXRhRW1pdHRlZD0hMCx0aGlzLmVtaXQoXCJkYXRhXCIsbikpLG59O2Z1bmN0aW9uIHBfKHQsZSl7aWYoSChcIm9uRW9mQ2h1bmtcIiksIWUuZW5kZWQpe2lmKGUuZGVjb2Rlcil7bGV0IHI9ZS5kZWNvZGVyLmVuZCgpO3ImJnIubGVuZ3RoJiYoZS5idWZmZXIucHVzaChyKSxlLmxlbmd0aCs9ZS5vYmplY3RNb2RlPzE6ci5sZW5ndGgpO31lLmVuZGVkPSEwLGUuc3luYz9jbih0KTooZS5uZWVkUmVhZGFibGU9ITEsZS5lbWl0dGVkUmVhZGFibGU9ITAsS2ModCkpO319ZnVuY3Rpb24gY24odCl7bGV0IGU9dC5fcmVhZGFibGVTdGF0ZTtIKFwiZW1pdFJlYWRhYmxlXCIsZS5uZWVkUmVhZGFibGUsZS5lbWl0dGVkUmVhZGFibGUpLGUubmVlZFJlYWRhYmxlPSExLGUuZW1pdHRlZFJlYWRhYmxlfHwoSChcImVtaXRSZWFkYWJsZVwiLGUuZmxvd2luZyksZS5lbWl0dGVkUmVhZGFibGU9ITAsSGUubmV4dFRpY2soS2MsdCkpO31mdW5jdGlvbiBLYyh0KXtsZXQgZT10Ll9yZWFkYWJsZVN0YXRlO0goXCJlbWl0UmVhZGFibGVfXCIsZS5kZXN0cm95ZWQsZS5sZW5ndGgsZS5lbmRlZCksIWUuZGVzdHJveWVkJiYhZS5lcnJvcmVkJiYoZS5sZW5ndGh8fGUuZW5kZWQpJiYodC5lbWl0KFwicmVhZGFibGVcIiksZS5lbWl0dGVkUmVhZGFibGU9ITEpLGUubmVlZFJlYWRhYmxlPSFlLmZsb3dpbmcmJiFlLmVuZGVkJiZlLmxlbmd0aDw9ZS5oaWdoV2F0ZXJNYXJrLFFjKHQpO31mdW5jdGlvbiBmbih0LGUpeyFlLnJlYWRpbmdNb3JlJiZlLmNvbnN0cnVjdGVkJiYoZS5yZWFkaW5nTW9yZT0hMCxIZS5uZXh0VGljayhnXyx0LGUpKTt9ZnVuY3Rpb24gZ18odCxlKXtmb3IoOyFlLnJlYWRpbmcmJiFlLmVuZGVkJiYoZS5sZW5ndGg8ZS5oaWdoV2F0ZXJNYXJrfHxlLmZsb3dpbmcmJmUubGVuZ3RoPT09MCk7KXtsZXQgcj1lLmxlbmd0aDtpZihIKFwibWF5YmVSZWFkTW9yZSByZWFkIDBcIiksdC5yZWFkKDApLHI9PT1lLmxlbmd0aClicmVha31lLnJlYWRpbmdNb3JlPSExO31GLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbih0KXt0aHJvdyBuZXcgb18oXCJfcmVhZCgpXCIpfTtGLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQsZSl7bGV0IHI9dGhpcyxpPXRoaXMuX3JlYWRhYmxlU3RhdGU7aS5waXBlcy5sZW5ndGg9PT0xJiYoaS5tdWx0aUF3YWl0RHJhaW58fChpLm11bHRpQXdhaXREcmFpbj0hMCxpLmF3YWl0RHJhaW5Xcml0ZXJzPW5ldyBRdyhpLmF3YWl0RHJhaW5Xcml0ZXJzP1tpLmF3YWl0RHJhaW5Xcml0ZXJzXTpbXSkpKSxpLnBpcGVzLnB1c2godCksSChcInBpcGUgY291bnQ9JWQgb3B0cz0lalwiLGkucGlwZXMubGVuZ3RoLGUpO2xldCBvPSghZXx8ZS5lbmQhPT0hMSkmJnQhPT1IZS5zdGRvdXQmJnQhPT1IZS5zdGRlcnI/YTpTO2kuZW5kRW1pdHRlZD9IZS5uZXh0VGljayhvKTpyLm9uY2UoXCJlbmRcIixvKSx0Lm9uKFwidW5waXBlXCIscyk7ZnVuY3Rpb24gcyhJLEMpe0goXCJvbnVucGlwZVwiKSxJPT09ciYmQyYmQy5oYXNVbnBpcGVkPT09ITEmJihDLmhhc1VucGlwZWQ9ITAsaCgpKTt9ZnVuY3Rpb24gYSgpe0goXCJvbmVuZFwiKSx0LmVuZCgpO31sZXQgdSxjPSExO2Z1bmN0aW9uIGgoKXtIKFwiY2xlYW51cFwiKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIix3KSx0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsRSksdSYmdC5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsdSksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIseSksdC5yZW1vdmVMaXN0ZW5lcihcInVucGlwZVwiLHMpLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixhKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsUyksci5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixnKSxjPSEwLHUmJmkuYXdhaXREcmFpbldyaXRlcnMmJighdC5fd3JpdGFibGVTdGF0ZXx8dC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pJiZ1KCk7fWZ1bmN0aW9uIGQoKXtjfHwoaS5waXBlcy5sZW5ndGg9PT0xJiZpLnBpcGVzWzBdPT09dD8oSChcImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZVwiLDApLGkuYXdhaXREcmFpbldyaXRlcnM9dCxpLm11bHRpQXdhaXREcmFpbj0hMSk6aS5waXBlcy5sZW5ndGg+MSYmaS5waXBlcy5pbmNsdWRlcyh0KSYmKEgoXCJmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2VcIixpLmF3YWl0RHJhaW5Xcml0ZXJzLnNpemUpLGkuYXdhaXREcmFpbldyaXRlcnMuYWRkKHQpKSxyLnBhdXNlKCkpLHV8fCh1PXlfKHIsdCksdC5vbihcImRyYWluXCIsdSkpO31yLm9uKFwiZGF0YVwiLGcpO2Z1bmN0aW9uIGcoSSl7SChcIm9uZGF0YVwiKTtsZXQgQz10LndyaXRlKEkpO0goXCJkZXN0LndyaXRlXCIsQyksQz09PSExJiZkKCk7fWZ1bmN0aW9uIHkoSSl7aWYoSChcIm9uZXJyb3JcIixJKSxTKCksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIseSksdC5saXN0ZW5lckNvdW50KFwiZXJyb3JcIik9PT0wKXtsZXQgQz10Ll93cml0YWJsZVN0YXRlfHx0Ll9yZWFkYWJsZVN0YXRlO0MmJiFDLmVycm9yRW1pdHRlZD9xcih0LEkpOnQuZW1pdChcImVycm9yXCIsSSk7fX1adyh0LFwiZXJyb3JcIix5KTtmdW5jdGlvbiB3KCl7dC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLEUpLFMoKTt9dC5vbmNlKFwiY2xvc2VcIix3KTtmdW5jdGlvbiBFKCl7SChcIm9uZmluaXNoXCIpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHcpLFMoKTt9dC5vbmNlKFwiZmluaXNoXCIsRSk7ZnVuY3Rpb24gUygpe0goXCJ1bnBpcGVcIiksci51bnBpcGUodCk7fXJldHVybiB0LmVtaXQoXCJwaXBlXCIsciksdC53cml0YWJsZU5lZWREcmFpbj09PSEwP2kuZmxvd2luZyYmZCgpOmkuZmxvd2luZ3x8KEgoXCJwaXBlIHJlc3VtZVwiKSxyLnJlc3VtZSgpKSx0fTtmdW5jdGlvbiB5Xyh0LGUpe3JldHVybiBmdW5jdGlvbigpe2xldCBpPXQuX3JlYWRhYmxlU3RhdGU7aS5hd2FpdERyYWluV3JpdGVycz09PWU/KEgoXCJwaXBlT25EcmFpblwiLDEpLGkuYXdhaXREcmFpbldyaXRlcnM9bnVsbCk6aS5tdWx0aUF3YWl0RHJhaW4mJihIKFwicGlwZU9uRHJhaW5cIixpLmF3YWl0RHJhaW5Xcml0ZXJzLnNpemUpLGkuYXdhaXREcmFpbldyaXRlcnMuZGVsZXRlKGUpKSwoIWkuYXdhaXREcmFpbldyaXRlcnN8fGkuYXdhaXREcmFpbldyaXRlcnMuc2l6ZT09PTApJiZ0Lmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpJiZ0LnJlc3VtZSgpO319Ri5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKHQpe2xldCBlPXRoaXMuX3JlYWRhYmxlU3RhdGUscj17aGFzVW5waXBlZDohMX07aWYoZS5waXBlcy5sZW5ndGg9PT0wKXJldHVybiB0aGlzO2lmKCF0KXtsZXQgbj1lLnBpcGVzO2UucGlwZXM9W10sdGhpcy5wYXVzZSgpO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKW5bb10uZW1pdChcInVucGlwZVwiLHRoaXMse2hhc1VucGlwZWQ6ITF9KTtyZXR1cm4gdGhpc31sZXQgaT0kdyhlLnBpcGVzLHQpO3JldHVybiBpPT09LTE/dGhpczooZS5waXBlcy5zcGxpY2UoaSwxKSxlLnBpcGVzLmxlbmd0aD09PTAmJnRoaXMucGF1c2UoKSx0LmVtaXQoXCJ1bnBpcGVcIix0aGlzLHIpLHRoaXMpfTtGLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe2xldCByPXF0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsdCxlKSxpPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHQ9PT1cImRhdGFcIj8oaS5yZWFkYWJsZUxpc3RlbmluZz10aGlzLmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKT4wLGkuZmxvd2luZyE9PSExJiZ0aGlzLnJlc3VtZSgpKTp0PT09XCJyZWFkYWJsZVwiJiYhaS5lbmRFbWl0dGVkJiYhaS5yZWFkYWJsZUxpc3RlbmluZyYmKGkucmVhZGFibGVMaXN0ZW5pbmc9aS5uZWVkUmVhZGFibGU9ITAsaS5mbG93aW5nPSExLGkuZW1pdHRlZFJlYWRhYmxlPSExLEgoXCJvbiByZWFkYWJsZVwiLGkubGVuZ3RoLGkucmVhZGluZyksaS5sZW5ndGg/Y24odGhpcyk6aS5yZWFkaW5nfHxIZS5uZXh0VGljayhiXyx0aGlzKSkscn07Ri5wcm90b3R5cGUuYWRkTGlzdGVuZXI9Ri5wcm90b3R5cGUub247Ri5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtsZXQgcj1xdC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLHQsZSk7cmV0dXJuIHQ9PT1cInJlYWRhYmxlXCImJkhlLm5leHRUaWNrKEdjLHRoaXMpLHJ9O0YucHJvdG90eXBlLm9mZj1GLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtGLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7bGV0IGU9cXQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuICh0PT09XCJyZWFkYWJsZVwifHx0PT09dm9pZCAwKSYmSGUubmV4dFRpY2soR2MsdGhpcyksZX07ZnVuY3Rpb24gR2ModCl7bGV0IGU9dC5fcmVhZGFibGVTdGF0ZTtlLnJlYWRhYmxlTGlzdGVuaW5nPXQubGlzdGVuZXJDb3VudChcInJlYWRhYmxlXCIpPjAsZS5yZXN1bWVTY2hlZHVsZWQmJmVbbHJdPT09ITE/ZS5mbG93aW5nPSEwOnQubGlzdGVuZXJDb3VudChcImRhdGFcIik+MD90LnJlc3VtZSgpOmUucmVhZGFibGVMaXN0ZW5pbmd8fChlLmZsb3dpbmc9bnVsbCk7fWZ1bmN0aW9uIGJfKHQpe0goXCJyZWFkYWJsZSBuZXh0dGljayByZWFkIDBcIiksdC5yZWFkKDApO31GLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtsZXQgdD10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiB0LmZsb3dpbmd8fChIKFwicmVzdW1lXCIpLHQuZmxvd2luZz0hdC5yZWFkYWJsZUxpc3RlbmluZyx3Xyh0aGlzLHQpKSx0W2xyXT0hMSx0aGlzfTtmdW5jdGlvbiB3Xyh0LGUpe2UucmVzdW1lU2NoZWR1bGVkfHwoZS5yZXN1bWVTY2hlZHVsZWQ9ITAsSGUubmV4dFRpY2soX18sdCxlKSk7fWZ1bmN0aW9uIF9fKHQsZSl7SChcInJlc3VtZVwiLGUucmVhZGluZyksZS5yZWFkaW5nfHx0LnJlYWQoMCksZS5yZXN1bWVTY2hlZHVsZWQ9ITEsdC5lbWl0KFwicmVzdW1lXCIpLFFjKHQpLGUuZmxvd2luZyYmIWUucmVhZGluZyYmdC5yZWFkKDApO31GLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiBIKFwiY2FsbCBwYXVzZSBmbG93aW5nPSVqXCIsdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmchPT0hMSYmKEgoXCJwYXVzZVwiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ITEsdGhpcy5lbWl0KFwicGF1c2VcIikpLHRoaXMuX3JlYWRhYmxlU3RhdGVbbHJdPSEwLHRoaXN9O2Z1bmN0aW9uIFFjKHQpe2xldCBlPXQuX3JlYWRhYmxlU3RhdGU7Zm9yKEgoXCJmbG93XCIsZS5mbG93aW5nKTtlLmZsb3dpbmcmJnQucmVhZCgpIT09bnVsbDspO31GLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHQpe2xldCBlPSExO3Qub24oXCJkYXRhXCIsaT0+eyF0aGlzLnB1c2goaSkmJnQucGF1c2UmJihlPSEwLHQucGF1c2UoKSk7fSksdC5vbihcImVuZFwiLCgpPT57dGhpcy5wdXNoKG51bGwpO30pLHQub24oXCJlcnJvclwiLGk9Pntxcih0aGlzLGkpO30pLHQub24oXCJjbG9zZVwiLCgpPT57dGhpcy5kZXN0cm95KCk7fSksdC5vbihcImRlc3Ryb3lcIiwoKT0+e3RoaXMuZGVzdHJveSgpO30pLHRoaXMuX3JlYWQ9KCk9PntlJiZ0LnJlc3VtZSYmKGU9ITEsdC5yZXN1bWUoKSk7fTtsZXQgcj1Ldyh0KTtmb3IobGV0IGk9MTtpPHIubGVuZ3RoO2krKyl7bGV0IG49cltpXTt0aGlzW25dPT09dm9pZCAwJiZ0eXBlb2YgdFtuXT09XCJmdW5jdGlvblwiJiYodGhpc1tuXT10W25dLmJpbmQodCkpO31yZXR1cm4gdGhpc307Ri5wcm90b3R5cGVbWXddPWZ1bmN0aW9uKCl7cmV0dXJuIFljKHRoaXMpfTtGLnByb3RvdHlwZS5pdGVyYXRvcj1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXZvaWQgMCYmZl8odCxcIm9wdGlvbnNcIiksWWModGhpcyx0KX07ZnVuY3Rpb24gWWModCxlKXt0eXBlb2YgdC5yZWFkIT1cImZ1bmN0aW9uXCImJih0PUYud3JhcCh0LHtvYmplY3RNb2RlOiEwfSkpO2xldCByPW1fKHQsZSk7cmV0dXJuIHIuc3RyZWFtPXQscn1hc3luYyBmdW5jdGlvbiptXyh0LGUpe2xldCByPVhzO2Z1bmN0aW9uIGkocyl7dGhpcz09PXQ/KHIoKSxyPVhzKTpyPXM7fXQub24oXCJyZWFkYWJsZVwiLGkpO2xldCBuLG89dF8odCx7d3JpdGFibGU6ITF9LHM9PntuPXM/RmMobixzKTpudWxsLHIoKSxyPVhzO30pO3RyeXtmb3IoOzspe2xldCBzPXQuZGVzdHJveWVkP251bGw6dC5yZWFkKCk7aWYocyE9PW51bGwpeWllbGQgcztlbHNlIHtpZihuKXRocm93IG47aWYobj09PW51bGwpcmV0dXJuO2F3YWl0IG5ldyBHdyhpKTt9fX1jYXRjaChzKXt0aHJvdyBuPUZjKG4scyksbn1maW5hbGx5eyhufHxlPy5kZXN0cm95T25SZXR1cm4hPT0hMSkmJihuPT09dm9pZCAwfHx0Ll9yZWFkYWJsZVN0YXRlLmF1dG9EZXN0cm95KT9Eci5kZXN0cm95ZXIodCxudWxsKToodC5vZmYoXCJyZWFkYWJsZVwiLGkpLG8oKSk7fX0kYyhGLnByb3RvdHlwZSx7cmVhZGFibGU6e19fcHJvdG9fXzpudWxsLGdldCgpe2xldCB0PXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuICEhdCYmdC5yZWFkYWJsZSE9PSExJiYhdC5kZXN0cm95ZWQmJiF0LmVycm9yRW1pdHRlZCYmIXQuZW5kRW1pdHRlZH0sc2V0KHQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRhYmxlPSEhdCk7fX0scmVhZGFibGVEaWRSZWFkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmRhdGFFbWl0dGVkfX0scmVhZGFibGVBYm9ydGVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiAhISh0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRhYmxlIT09ITEmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZHx8dGhpcy5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkKSYmIXRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCl9fSxyZWFkYWJsZUhpZ2hXYXRlck1hcms6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319LHJlYWRhYmxlQnVmZmVyOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcn19LHJlYWRhYmxlRmxvd2luZzp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz10KTt9fSxyZWFkYWJsZUxlbmd0aDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGh9fSxyZWFkYWJsZU9iamVjdE1vZGU6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5vYmplY3RNb2RlOiExfX0scmVhZGFibGVFbmNvZGluZzp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nOm51bGx9fSxlcnJvcmVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZDpudWxsfX0sY2xvc2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLmNsb3NlZDohMX19LGRlc3Ryb3llZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZDohMX0sc2V0KHQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD10KTt9fSxyZWFkYWJsZUVuZGVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZDohMX19fSk7JGMocm8ucHJvdG90eXBlLHtwaXBlc0NvdW50OntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5waXBlcy5sZW5ndGh9fSxwYXVzZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzW2xyXSE9PSExfSxzZXQodCl7dGhpc1tscl09ISF0O319fSk7Ri5fZnJvbUxpc3Q9SmM7ZnVuY3Rpb24gSmModCxlKXtpZihlLmxlbmd0aD09PTApcmV0dXJuIG51bGw7bGV0IHI7cmV0dXJuIGUub2JqZWN0TW9kZT9yPWUuYnVmZmVyLnNoaWZ0KCk6IXR8fHQ+PWUubGVuZ3RoPyhlLmRlY29kZXI/cj1lLmJ1ZmZlci5qb2luKFwiXCIpOmUuYnVmZmVyLmxlbmd0aD09PTE/cj1lLmJ1ZmZlci5maXJzdCgpOnI9ZS5idWZmZXIuY29uY2F0KGUubGVuZ3RoKSxlLmJ1ZmZlci5jbGVhcigpKTpyPWUuYnVmZmVyLmNvbnN1bWUodCxlLmRlY29kZXIpLHJ9ZnVuY3Rpb24gZW8odCl7bGV0IGU9dC5fcmVhZGFibGVTdGF0ZTtIKFwiZW5kUmVhZGFibGVcIixlLmVuZEVtaXR0ZWQpLGUuZW5kRW1pdHRlZHx8KGUuZW5kZWQ9ITAsSGUubmV4dFRpY2sodl8sZSx0KSk7fWZ1bmN0aW9uIHZfKHQsZSl7aWYoSChcImVuZFJlYWRhYmxlTlRcIix0LmVuZEVtaXR0ZWQsdC5sZW5ndGgpLCF0LmVycm9yZWQmJiF0LmNsb3NlRW1pdHRlZCYmIXQuZW5kRW1pdHRlZCYmdC5sZW5ndGg9PT0wKXtpZih0LmVuZEVtaXR0ZWQ9ITAsZS5lbWl0KFwiZW5kXCIpLGUud3JpdGFibGUmJmUuYWxsb3dIYWxmT3Blbj09PSExKUhlLm5leHRUaWNrKEVfLGUpO2Vsc2UgaWYodC5hdXRvRGVzdHJveSl7bGV0IHI9ZS5fd3JpdGFibGVTdGF0ZTsoIXJ8fHIuYXV0b0Rlc3Ryb3kmJihyLmZpbmlzaGVkfHxyLndyaXRhYmxlPT09ITEpKSYmZS5kZXN0cm95KCk7fX19ZnVuY3Rpb24gRV8odCl7dC53cml0YWJsZSYmIXQud3JpdGFibGVFbmRlZCYmIXQuZGVzdHJveWVkJiZ0LmVuZCgpO31GLmZyb209ZnVuY3Rpb24odCxlKXtyZXR1cm4gY18oRix0LGUpfTt2YXIgdG87ZnVuY3Rpb24gWGMoKXtyZXR1cm4gdG89PT12b2lkIDAmJih0bz17fSksdG99Ri5mcm9tV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhjKCkubmV3U3RyZWFtUmVhZGFibGVGcm9tUmVhZGFibGVTdHJlYW0odCxlKX07Ri50b1dlYj1mdW5jdGlvbih0LGUpe3JldHVybiBYYygpLm5ld1JlYWRhYmxlU3RyZWFtRnJvbVN0cmVhbVJlYWRhYmxlKHQsZSl9O0Yud3JhcD1mdW5jdGlvbih0LGUpe3ZhciByLGk7cmV0dXJuIG5ldyBGKHtvYmplY3RNb2RlOihyPShpPXQucmVhZGFibGVPYmplY3RNb2RlKSE9PW51bGwmJmkhPT12b2lkIDA/aTp0Lm9iamVjdE1vZGUpIT09bnVsbCYmciE9PXZvaWQgMD9yOiEwLC4uLmUsZGVzdHJveShuLG8pe0RyLmRlc3Ryb3llcih0LG4pLG8obik7fX0pLndyYXAodCl9O30pO3ZhciB1bz1NKChhUixjaCk9Pnt2KCk7bSgpO18oKTt2YXIgdXI9VXQoKSx7QXJyYXlQcm90b3R5cGVTbGljZTpyaCxFcnJvcjpTXyxGdW5jdGlvblByb3RvdHlwZVN5bWJvbEhhc0luc3RhbmNlOmloLE9iamVjdERlZmluZVByb3BlcnR5Om5oLE9iamVjdERlZmluZVByb3BlcnRpZXM6QV8sT2JqZWN0U2V0UHJvdG90eXBlT2Y6c2gsU3RyaW5nUHJvdG90eXBlVG9Mb3dlckNhc2U6SV8sU3ltYm9sOlRfLFN5bWJvbEhhc0luc3RhbmNlOlJffT1jZSgpO2NoLmV4cG9ydHM9aWU7aWUuV3JpdGFibGVTdGF0ZT15aTt2YXJ7RXZlbnRFbWl0dGVyOkNffT0oaXIoKSxYKHJyKSkscGk9dG4oKS5TdHJlYW0se0J1ZmZlcjpobn09KHllKCksWChfZSkpLGduPXRyKCkse2FkZEFib3J0U2lnbmFsOkJffT1jaSgpLHtnZXRIaWdoV2F0ZXJNYXJrOlBfLGdldERlZmF1bHRIaWdoV2F0ZXJNYXJrOk9ffT1zbigpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTprXyxFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRDp4XyxFUlJfTVVMVElQTEVfQ0FMTEJBQ0s6b2gsRVJSX1NUUkVBTV9DQU5OT1RfUElQRTpNXyxFUlJfU1RSRUFNX0RFU1RST1lFRDpnaSxFUlJfU1RSRUFNX0FMUkVBRFlfRklOSVNIRUQ6TF8sRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUzpVXyxFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORDpOXyxFUlJfVU5LTk9XTl9FTkNPRElORzphaH09U2UoKS5jb2Rlcyx7ZXJyb3JPckRlc3Ryb3k6anJ9PWduO3NoKGllLnByb3RvdHlwZSxwaS5wcm90b3R5cGUpO3NoKGllLHBpKTtmdW5jdGlvbiBzbygpe312YXIgRnI9VF8oXCJrT25GaW5pc2hlZFwiKTtmdW5jdGlvbiB5aSh0LGUscil7dHlwZW9mIHIhPVwiYm9vbGVhblwiJiYocj1lIGluc3RhbmNlb2YgbnQoKSksdGhpcy5vYmplY3RNb2RlPSEhKHQmJnQub2JqZWN0TW9kZSksciYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhKHQmJnQud3JpdGFibGVPYmplY3RNb2RlKSksdGhpcy5oaWdoV2F0ZXJNYXJrPXQ/UF8odGhpcyx0LFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIscik6T18oITEpLHRoaXMuZmluYWxDYWxsZWQ9ITEsdGhpcy5uZWVkRHJhaW49ITEsdGhpcy5lbmRpbmc9ITEsdGhpcy5lbmRlZD0hMSx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExO2xldCBpPSEhKHQmJnQuZGVjb2RlU3RyaW5ncz09PSExKTt0aGlzLmRlY29kZVN0cmluZ3M9IWksdGhpcy5kZWZhdWx0RW5jb2Rpbmc9dCYmdC5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMubGVuZ3RoPTAsdGhpcy53cml0aW5nPSExLHRoaXMuY29ya2VkPTAsdGhpcy5zeW5jPSEwLHRoaXMuYnVmZmVyUHJvY2Vzc2luZz0hMSx0aGlzLm9ud3JpdGU9RF8uYmluZCh2b2lkIDAsZSksdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYWZ0ZXJXcml0ZVRpY2tJbmZvPW51bGwscG4odGhpcyksdGhpcy5wZW5kaW5nY2I9MCx0aGlzLmNvbnN0cnVjdGVkPSEwLHRoaXMucHJlZmluaXNoZWQ9ITEsdGhpcy5lcnJvckVtaXR0ZWQ9ITEsdGhpcy5lbWl0Q2xvc2U9IXR8fHQuZW1pdENsb3NlIT09ITEsdGhpcy5hdXRvRGVzdHJveT0hdHx8dC5hdXRvRGVzdHJveSE9PSExLHRoaXMuZXJyb3JlZD1udWxsLHRoaXMuY2xvc2VkPSExLHRoaXMuY2xvc2VFbWl0dGVkPSExLHRoaXNbRnJdPVtdO31mdW5jdGlvbiBwbih0KXt0LmJ1ZmZlcmVkPVtdLHQuYnVmZmVyZWRJbmRleD0wLHQuYWxsQnVmZmVycz0hMCx0LmFsbE5vb3A9ITA7fXlpLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcmgodGhpcy5idWZmZXJlZCx0aGlzLmJ1ZmZlcmVkSW5kZXgpfTtuaCh5aS5wcm90b3R5cGUsXCJidWZmZXJlZFJlcXVlc3RDb3VudFwiLHtfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5idWZmZXJlZC5sZW5ndGgtdGhpcy5idWZmZXJlZEluZGV4fX0pO2Z1bmN0aW9uIGllKHQpe2xldCBlPXRoaXMgaW5zdGFuY2VvZiBudCgpO2lmKCFlJiYhaWgoaWUsdGhpcykpcmV0dXJuIG5ldyBpZSh0KTt0aGlzLl93cml0YWJsZVN0YXRlPW5ldyB5aSh0LHRoaXMsZSksdCYmKHR5cGVvZiB0LndyaXRlPT1cImZ1bmN0aW9uXCImJih0aGlzLl93cml0ZT10LndyaXRlKSx0eXBlb2YgdC53cml0ZXY9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX3dyaXRldj10LndyaXRldiksdHlwZW9mIHQuZGVzdHJveT09XCJmdW5jdGlvblwiJiYodGhpcy5fZGVzdHJveT10LmRlc3Ryb3kpLHR5cGVvZiB0LmZpbmFsPT1cImZ1bmN0aW9uXCImJih0aGlzLl9maW5hbD10LmZpbmFsKSx0eXBlb2YgdC5jb25zdHJ1Y3Q9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2NvbnN0cnVjdD10LmNvbnN0cnVjdCksdC5zaWduYWwmJkJfKHQuc2lnbmFsLHRoaXMpKSxwaS5jYWxsKHRoaXMsdCksZ24uY29uc3RydWN0KHRoaXMsKCk9PntsZXQgcj10aGlzLl93cml0YWJsZVN0YXRlO3Iud3JpdGluZ3x8YW8odGhpcyxyKSxsbyh0aGlzLHIpO30pO31uaChpZSxSXyx7X19wcm90b19fOm51bGwsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGloKHRoaXMsdCk/ITA6dGhpcyE9PWllPyExOnQmJnQuX3dyaXRhYmxlU3RhdGUgaW5zdGFuY2VvZiB5aX19KTtpZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe2pyKHRoaXMsbmV3IE1fKTt9O2Z1bmN0aW9uIGxoKHQsZSxyLGkpe2xldCBuPXQuX3dyaXRhYmxlU3RhdGU7aWYodHlwZW9mIHI9PVwiZnVuY3Rpb25cIilpPXIscj1uLmRlZmF1bHRFbmNvZGluZztlbHNlIHtpZighcilyPW4uZGVmYXVsdEVuY29kaW5nO2Vsc2UgaWYociE9PVwiYnVmZmVyXCImJiFobi5pc0VuY29kaW5nKHIpKXRocm93IG5ldyBhaChyKTt0eXBlb2YgaSE9XCJmdW5jdGlvblwiJiYoaT1zbyk7fWlmKGU9PT1udWxsKXRocm93IG5ldyBVXztpZighbi5vYmplY3RNb2RlKWlmKHR5cGVvZiBlPT1cInN0cmluZ1wiKW4uZGVjb2RlU3RyaW5ncyE9PSExJiYoZT1obi5mcm9tKGUscikscj1cImJ1ZmZlclwiKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBobilyPVwiYnVmZmVyXCI7ZWxzZSBpZihwaS5faXNVaW50OEFycmF5KGUpKWU9cGkuX3VpbnQ4QXJyYXlUb0J1ZmZlcihlKSxyPVwiYnVmZmVyXCI7ZWxzZSB0aHJvdyBuZXcga18oXCJjaHVua1wiLFtcInN0cmluZ1wiLFwiQnVmZmVyXCIsXCJVaW50OEFycmF5XCJdLGUpO2xldCBvO3JldHVybiBuLmVuZGluZz9vPW5ldyBOXzpuLmRlc3Ryb3llZCYmKG89bmV3IGdpKFwid3JpdGVcIikpLG8/KHVyLm5leHRUaWNrKGksbyksanIodCxvLCEwKSxvKToobi5wZW5kaW5nY2IrKyxxXyh0LG4sZSxyLGkpKX1pZS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBsaCh0aGlzLHQsZSxyKT09PSEwfTtpZS5wcm90b3R5cGUuY29yaz1mdW5jdGlvbigpe3RoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkKys7fTtpZS5wcm90b3R5cGUudW5jb3JrPWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5fd3JpdGFibGVTdGF0ZTt0LmNvcmtlZCYmKHQuY29ya2VkLS0sdC53cml0aW5nfHxhbyh0aGlzLHQpKTt9O2llLnByb3RvdHlwZS5zZXREZWZhdWx0RW5jb2Rpbmc9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCImJihlPUlfKGUpKSwhaG4uaXNFbmNvZGluZyhlKSl0aHJvdyBuZXcgYWgoZSk7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nPWUsdGhpc307ZnVuY3Rpb24gcV8odCxlLHIsaSxuKXtsZXQgbz1lLm9iamVjdE1vZGU/MTpyLmxlbmd0aDtlLmxlbmd0aCs9bztsZXQgcz1lLmxlbmd0aDxlLmhpZ2hXYXRlck1hcms7cmV0dXJuIHN8fChlLm5lZWREcmFpbj0hMCksZS53cml0aW5nfHxlLmNvcmtlZHx8ZS5lcnJvcmVkfHwhZS5jb25zdHJ1Y3RlZD8oZS5idWZmZXJlZC5wdXNoKHtjaHVuazpyLGVuY29kaW5nOmksY2FsbGJhY2s6bn0pLGUuYWxsQnVmZmVycyYmaSE9PVwiYnVmZmVyXCImJihlLmFsbEJ1ZmZlcnM9ITEpLGUuYWxsTm9vcCYmbiE9PXNvJiYoZS5hbGxOb29wPSExKSk6KGUud3JpdGVsZW49byxlLndyaXRlY2I9bixlLndyaXRpbmc9ITAsZS5zeW5jPSEwLHQuX3dyaXRlKHIsaSxlLm9ud3JpdGUpLGUuc3luYz0hMSkscyYmIWUuZXJyb3JlZCYmIWUuZGVzdHJveWVkfWZ1bmN0aW9uIGVoKHQsZSxyLGksbixvLHMpe2Uud3JpdGVsZW49aSxlLndyaXRlY2I9cyxlLndyaXRpbmc9ITAsZS5zeW5jPSEwLGUuZGVzdHJveWVkP2Uub253cml0ZShuZXcgZ2koXCJ3cml0ZVwiKSk6cj90Ll93cml0ZXYobixlLm9ud3JpdGUpOnQuX3dyaXRlKG4sbyxlLm9ud3JpdGUpLGUuc3luYz0hMTt9ZnVuY3Rpb24gdGgodCxlLHIsaSl7LS1lLnBlbmRpbmdjYixpKHIpLG9vKGUpLGpyKHQscik7fWZ1bmN0aW9uIERfKHQsZSl7bGV0IHI9dC5fd3JpdGFibGVTdGF0ZSxpPXIuc3luYyxuPXIud3JpdGVjYjtpZih0eXBlb2YgbiE9XCJmdW5jdGlvblwiKXtqcih0LG5ldyBvaCk7cmV0dXJufXIud3JpdGluZz0hMSxyLndyaXRlY2I9bnVsbCxyLmxlbmd0aC09ci53cml0ZWxlbixyLndyaXRlbGVuPTAsZT8oZS5zdGFjayxyLmVycm9yZWR8fChyLmVycm9yZWQ9ZSksdC5fcmVhZGFibGVTdGF0ZSYmIXQuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZCYmKHQuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZD1lKSxpP3VyLm5leHRUaWNrKHRoLHQscixlLG4pOnRoKHQscixlLG4pKTooci5idWZmZXJlZC5sZW5ndGg+ci5idWZmZXJlZEluZGV4JiZhbyh0LHIpLGk/ci5hZnRlcldyaXRlVGlja0luZm8hPT1udWxsJiZyLmFmdGVyV3JpdGVUaWNrSW5mby5jYj09PW4/ci5hZnRlcldyaXRlVGlja0luZm8uY291bnQrKzooci5hZnRlcldyaXRlVGlja0luZm89e2NvdW50OjEsY2I6bixzdHJlYW06dCxzdGF0ZTpyfSx1ci5uZXh0VGljayhqXyxyLmFmdGVyV3JpdGVUaWNrSW5mbykpOnVoKHQsciwxLG4pKTt9ZnVuY3Rpb24gal8oe3N0cmVhbTp0LHN0YXRlOmUsY291bnQ6cixjYjppfSl7cmV0dXJuIGUuYWZ0ZXJXcml0ZVRpY2tJbmZvPW51bGwsdWgodCxlLHIsaSl9ZnVuY3Rpb24gdWgodCxlLHIsaSl7Zm9yKCFlLmVuZGluZyYmIXQuZGVzdHJveWVkJiZlLmxlbmd0aD09PTAmJmUubmVlZERyYWluJiYoZS5uZWVkRHJhaW49ITEsdC5lbWl0KFwiZHJhaW5cIikpO3ItLSA+MDspZS5wZW5kaW5nY2ItLSxpKCk7ZS5kZXN0cm95ZWQmJm9vKGUpLGxvKHQsZSk7fWZ1bmN0aW9uIG9vKHQpe2lmKHQud3JpdGluZylyZXR1cm47Zm9yKGxldCBuPXQuYnVmZmVyZWRJbmRleDtuPHQuYnVmZmVyZWQubGVuZ3RoOysrbil7dmFyIGU7bGV0e2NodW5rOm8sY2FsbGJhY2s6c309dC5idWZmZXJlZFtuXSxhPXQub2JqZWN0TW9kZT8xOm8ubGVuZ3RoO3QubGVuZ3RoLT1hLHMoKGU9dC5lcnJvcmVkKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpuZXcgZ2koXCJ3cml0ZVwiKSk7fWxldCByPXRbRnJdLnNwbGljZSgwKTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGk7cltuXSgoaT10LmVycm9yZWQpIT09bnVsbCYmaSE9PXZvaWQgMD9pOm5ldyBnaShcImVuZFwiKSk7fXBuKHQpO31mdW5jdGlvbiBhbyh0LGUpe2lmKGUuY29ya2VkfHxlLmJ1ZmZlclByb2Nlc3Npbmd8fGUuZGVzdHJveWVkfHwhZS5jb25zdHJ1Y3RlZClyZXR1cm47bGV0e2J1ZmZlcmVkOnIsYnVmZmVyZWRJbmRleDppLG9iamVjdE1vZGU6bn09ZSxvPXIubGVuZ3RoLWk7aWYoIW8pcmV0dXJuO2xldCBzPWk7aWYoZS5idWZmZXJQcm9jZXNzaW5nPSEwLG8+MSYmdC5fd3JpdGV2KXtlLnBlbmRpbmdjYi09by0xO2xldCBhPWUuYWxsTm9vcD9zbzpjPT57Zm9yKGxldCBoPXM7aDxyLmxlbmd0aDsrK2gpcltoXS5jYWxsYmFjayhjKTt9LHU9ZS5hbGxOb29wJiZzPT09MD9yOnJoKHIscyk7dS5hbGxCdWZmZXJzPWUuYWxsQnVmZmVycyxlaCh0LGUsITAsZS5sZW5ndGgsdSxcIlwiLGEpLHBuKGUpO31lbHNlIHtkb3tsZXR7Y2h1bms6YSxlbmNvZGluZzp1LGNhbGxiYWNrOmN9PXJbc107cltzKytdPW51bGw7bGV0IGg9bj8xOmEubGVuZ3RoO2VoKHQsZSwhMSxoLGEsdSxjKTt9d2hpbGUoczxyLmxlbmd0aCYmIWUud3JpdGluZyk7cz09PXIubGVuZ3RoP3BuKGUpOnM+MjU2PyhyLnNwbGljZSgwLHMpLGUuYnVmZmVyZWRJbmRleD0wKTplLmJ1ZmZlcmVkSW5kZXg9czt9ZS5idWZmZXJQcm9jZXNzaW5nPSExO31pZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKHQsZSxyKXtpZih0aGlzLl93cml0ZXYpdGhpcy5fd3JpdGV2KFt7Y2h1bms6dCxlbmNvZGluZzplfV0scik7ZWxzZSB0aHJvdyBuZXcgeF8oXCJfd3JpdGUoKVwiKX07aWUucHJvdG90eXBlLl93cml0ZXY9bnVsbDtpZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQsZSxyKXtsZXQgaT10aGlzLl93cml0YWJsZVN0YXRlO3R5cGVvZiB0PT1cImZ1bmN0aW9uXCI/KHI9dCx0PW51bGwsZT1udWxsKTp0eXBlb2YgZT09XCJmdW5jdGlvblwiJiYocj1lLGU9bnVsbCk7bGV0IG47aWYodCE9bnVsbCl7bGV0IG89bGgodGhpcyx0LGUpO28gaW5zdGFuY2VvZiBTXyYmKG49byk7fXJldHVybiBpLmNvcmtlZCYmKGkuY29ya2VkPTEsdGhpcy51bmNvcmsoKSksbnx8KCFpLmVycm9yZWQmJiFpLmVuZGluZz8oaS5lbmRpbmc9ITAsbG8odGhpcyxpLCEwKSxpLmVuZGVkPSEwKTppLmZpbmlzaGVkP249bmV3IExfKFwiZW5kXCIpOmkuZGVzdHJveWVkJiYobj1uZXcgZ2koXCJlbmRcIikpKSx0eXBlb2Ygcj09XCJmdW5jdGlvblwiJiYobnx8aS5maW5pc2hlZD91ci5uZXh0VGljayhyLG4pOmlbRnJdLnB1c2gocikpLHRoaXN9O2Z1bmN0aW9uIGRuKHQpe3JldHVybiB0LmVuZGluZyYmIXQuZGVzdHJveWVkJiZ0LmNvbnN0cnVjdGVkJiZ0Lmxlbmd0aD09PTAmJiF0LmVycm9yZWQmJnQuYnVmZmVyZWQubGVuZ3RoPT09MCYmIXQuZmluaXNoZWQmJiF0LndyaXRpbmcmJiF0LmVycm9yRW1pdHRlZCYmIXQuY2xvc2VFbWl0dGVkfWZ1bmN0aW9uIEZfKHQsZSl7bGV0IHI9ITE7ZnVuY3Rpb24gaShuKXtpZihyKXtqcih0LG4/P29oKCkpO3JldHVybn1pZihyPSEwLGUucGVuZGluZ2NiLS0sbil7bGV0IG89ZVtGcl0uc3BsaWNlKDApO2ZvcihsZXQgcz0wO3M8by5sZW5ndGg7cysrKW9bc10obik7anIodCxuLGUuc3luYyk7fWVsc2UgZG4oZSkmJihlLnByZWZpbmlzaGVkPSEwLHQuZW1pdChcInByZWZpbmlzaFwiKSxlLnBlbmRpbmdjYisrLHVyLm5leHRUaWNrKG5vLHQsZSkpO31lLnN5bmM9ITAsZS5wZW5kaW5nY2IrKzt0cnl7dC5fZmluYWwoaSk7fWNhdGNoKG4pe2kobik7fWUuc3luYz0hMTt9ZnVuY3Rpb24gV18odCxlKXshZS5wcmVmaW5pc2hlZCYmIWUuZmluYWxDYWxsZWQmJih0eXBlb2YgdC5fZmluYWw9PVwiZnVuY3Rpb25cIiYmIWUuZGVzdHJveWVkPyhlLmZpbmFsQ2FsbGVkPSEwLEZfKHQsZSkpOihlLnByZWZpbmlzaGVkPSEwLHQuZW1pdChcInByZWZpbmlzaFwiKSkpO31mdW5jdGlvbiBsbyh0LGUscil7ZG4oZSkmJihXXyh0LGUpLGUucGVuZGluZ2NiPT09MCYmKHI/KGUucGVuZGluZ2NiKyssdXIubmV4dFRpY2soKGksbik9PntkbihuKT9ubyhpLG4pOm4ucGVuZGluZ2NiLS07fSx0LGUpKTpkbihlKSYmKGUucGVuZGluZ2NiKyssbm8odCxlKSkpKTt9ZnVuY3Rpb24gbm8odCxlKXtlLnBlbmRpbmdjYi0tLGUuZmluaXNoZWQ9ITA7bGV0IHI9ZVtGcl0uc3BsaWNlKDApO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSsrKXJbaV0oKTtpZih0LmVtaXQoXCJmaW5pc2hcIiksZS5hdXRvRGVzdHJveSl7bGV0IGk9dC5fcmVhZGFibGVTdGF0ZTsoIWl8fGkuYXV0b0Rlc3Ryb3kmJihpLmVuZEVtaXR0ZWR8fGkucmVhZGFibGU9PT0hMSkpJiZ0LmRlc3Ryb3koKTt9fUFfKGllLnByb3RvdHlwZSx7Y2xvc2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmNsb3NlZDohMX19LGRlc3Ryb3llZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ6ITF9LHNldCh0KXt0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCk7fX0sd3JpdGFibGU6e19fcHJvdG9fXzpudWxsLGdldCgpe2xldCB0PXRoaXMuX3dyaXRhYmxlU3RhdGU7cmV0dXJuICEhdCYmdC53cml0YWJsZSE9PSExJiYhdC5kZXN0cm95ZWQmJiF0LmVycm9yZWQmJiF0LmVuZGluZyYmIXQuZW5kZWR9LHNldCh0KXt0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZT0hIXQpO319LHdyaXRhYmxlRmluaXNoZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ6ITF9fSx3cml0YWJsZU9iamVjdE1vZGU6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUub2JqZWN0TW9kZTohMX19LHdyaXRhYmxlQnVmZmVyOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19LHdyaXRhYmxlRW5kZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nOiExfX0sd3JpdGFibGVOZWVkRHJhaW46e19fcHJvdG9fXzpudWxsLGdldCgpe2xldCB0PXRoaXMuX3dyaXRhYmxlU3RhdGU7cmV0dXJuIHQ/IXQuZGVzdHJveWVkJiYhdC5lbmRpbmcmJnQubmVlZERyYWluOiExfX0sd3JpdGFibGVIaWdoV2F0ZXJNYXJrOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0sd3JpdGFibGVDb3JrZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkOjB9fSx3cml0YWJsZUxlbmd0aDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0sZXJyb3JlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yZWQ6bnVsbH19LHdyaXRhYmxlQWJvcnRlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gISEodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZSE9PSExJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR8fHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JlZCkmJiF0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkKX19fSk7dmFyICRfPWduLmRlc3Ryb3k7aWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCxlKXtsZXQgcj10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiAhci5kZXN0cm95ZWQmJihyLmJ1ZmZlcmVkSW5kZXg8ci5idWZmZXJlZC5sZW5ndGh8fHJbRnJdLmxlbmd0aCkmJnVyLm5leHRUaWNrKG9vLHIpLCRfLmNhbGwodGhpcyx0LGUpLHRoaXN9O2llLnByb3RvdHlwZS5fdW5kZXN0cm95PWduLnVuZGVzdHJveTtpZS5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24odCxlKXtlKHQpO307aWUucHJvdG90eXBlW0NfLmNhcHR1cmVSZWplY3Rpb25TeW1ib2xdPWZ1bmN0aW9uKHQpe3RoaXMuZGVzdHJveSh0KTt9O3ZhciBpbztmdW5jdGlvbiBmaCgpe3JldHVybiBpbz09PXZvaWQgMCYmKGlvPXt9KSxpb31pZS5mcm9tV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZoKCkubmV3U3RyZWFtV3JpdGFibGVGcm9tV3JpdGFibGVTdHJlYW0odCxlKX07aWUudG9XZWI9ZnVuY3Rpb24odCl7cmV0dXJuIGZoKCkubmV3V3JpdGFibGVTdHJlYW1Gcm9tU3RyZWFtV3JpdGFibGUodCl9O30pO3ZhciBTaD1NKChiUixFaCk9Pnt2KCk7bSgpO18oKTt2YXIgZm89VXQoKSxIXz0oeWUoKSxYKF9lKSkse2lzUmVhZGFibGU6Vl8saXNXcml0YWJsZTp6Xyxpc0l0ZXJhYmxlOmhoLGlzTm9kZVN0cmVhbTpLXyxpc1JlYWRhYmxlTm9kZVN0cmVhbTpkaCxpc1dyaXRhYmxlTm9kZVN0cmVhbTpwaCxpc0R1cGxleE5vZGVTdHJlYW06R199PXR0KCksZ2g9bXQoKSx7QWJvcnRFcnJvcjp2aCxjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1RZUEU6UV8sRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFOnlofX09U2UoKSx7ZGVzdHJveWVyOldyfT10cigpLFlfPW50KCksSl89ZGkoKSx7Y3JlYXRlRGVmZXJyZWRQcm9taXNlOmJofT1KZSgpLHdoPVlzKCksX2g9Z2xvYmFsVGhpcy5CbG9ifHxIXy5CbG9iLFhfPXR5cGVvZiBfaDxcInVcIj9mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIF9ofTpmdW5jdGlvbihlKXtyZXR1cm4gITF9LFpfPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyfHxIaSgpLkFib3J0Q29udHJvbGxlcix7RnVuY3Rpb25Qcm90b3R5cGVDYWxsOm1ofT1jZSgpLGZyPWNsYXNzIGV4dGVuZHMgWV97Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksZT8ucmVhZGFibGU9PT0hMSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGU9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITApLGU/LndyaXRhYmxlPT09ITEmJih0aGlzLl93cml0YWJsZVN0YXRlLndyaXRhYmxlPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITAsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD0hMCk7fX07RWguZXhwb3J0cz1mdW5jdGlvbiB0KGUscil7aWYoR18oZSkpcmV0dXJuIGU7aWYoZGgoZSkpcmV0dXJuIHluKHtyZWFkYWJsZTplfSk7aWYocGgoZSkpcmV0dXJuIHluKHt3cml0YWJsZTplfSk7aWYoS18oZSkpcmV0dXJuIHluKHt3cml0YWJsZTohMSxyZWFkYWJsZTohMX0pO2lmKHR5cGVvZiBlPT1cImZ1bmN0aW9uXCIpe2xldHt2YWx1ZTpuLHdyaXRlOm8sZmluYWw6cyxkZXN0cm95OmF9PWUwKGUpO2lmKGhoKG4pKXJldHVybiB3aChmcixuLHtvYmplY3RNb2RlOiEwLHdyaXRlOm8sZmluYWw6cyxkZXN0cm95OmF9KTtsZXQgdT1uPy50aGVuO2lmKHR5cGVvZiB1PT1cImZ1bmN0aW9uXCIpe2xldCBjLGg9bWgodSxuLGQ9PntpZihkIT1udWxsKXRocm93IG5ldyB5aChcIm51bGx5XCIsXCJib2R5XCIsZCl9LGQ9PntXcihjLGQpO30pO3JldHVybiBjPW5ldyBmcih7b2JqZWN0TW9kZTohMCxyZWFkYWJsZTohMSx3cml0ZTpvLGZpbmFsKGQpe3MoYXN5bmMoKT0+e3RyeXthd2FpdCBoLGZvLm5leHRUaWNrKGQsbnVsbCk7fWNhdGNoKGcpe2ZvLm5leHRUaWNrKGQsZyk7fX0pO30sZGVzdHJveTphfSl9dGhyb3cgbmV3IHloKFwiSXRlcmFibGUsIEFzeW5jSXRlcmFibGUgb3IgQXN5bmNGdW5jdGlvblwiLHIsbil9aWYoWF8oZSkpcmV0dXJuIHQoZS5hcnJheUJ1ZmZlcigpKTtpZihoaChlKSlyZXR1cm4gd2goZnIsZSx7b2JqZWN0TW9kZTohMCx3cml0YWJsZTohMX0pO2lmKHR5cGVvZiBlPy53cml0YWJsZT09XCJvYmplY3RcInx8dHlwZW9mIGU/LnJlYWRhYmxlPT1cIm9iamVjdFwiKXtsZXQgbj1lIT1udWxsJiZlLnJlYWRhYmxlP2RoKGU/LnJlYWRhYmxlKT9lPy5yZWFkYWJsZTp0KGUucmVhZGFibGUpOnZvaWQgMCxvPWUhPW51bGwmJmUud3JpdGFibGU/cGgoZT8ud3JpdGFibGUpP2U/LndyaXRhYmxlOnQoZS53cml0YWJsZSk6dm9pZCAwO3JldHVybiB5bih7cmVhZGFibGU6bix3cml0YWJsZTpvfSl9bGV0IGk9ZT8udGhlbjtpZih0eXBlb2YgaT09XCJmdW5jdGlvblwiKXtsZXQgbjtyZXR1cm4gbWgoaSxlLG89PntvIT1udWxsJiZuLnB1c2gobyksbi5wdXNoKG51bGwpO30sbz0+e1dyKG4sbyk7fSksbj1uZXcgZnIoe29iamVjdE1vZGU6ITAsd3JpdGFibGU6ITEscmVhZCgpe319KX10aHJvdyBuZXcgUV8ocixbXCJCbG9iXCIsXCJSZWFkYWJsZVN0cmVhbVwiLFwiV3JpdGFibGVTdHJlYW1cIixcIlN0cmVhbVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIixcIkZ1bmN0aW9uXCIsXCJ7IHJlYWRhYmxlLCB3cml0YWJsZSB9IHBhaXJcIixcIlByb21pc2VcIl0sZSl9O2Z1bmN0aW9uIGUwKHQpe2xldHtwcm9taXNlOmUscmVzb2x2ZTpyfT1iaCgpLGk9bmV3IFpfLG49aS5zaWduYWw7cmV0dXJuIHt2YWx1ZTp0KGFzeW5jIGZ1bmN0aW9uKigpe2Zvcig7Oyl7bGV0IHM9ZTtlPW51bGw7bGV0e2NodW5rOmEsZG9uZTp1LGNiOmN9PWF3YWl0IHM7aWYoZm8ubmV4dFRpY2soYyksdSlyZXR1cm47aWYobi5hYm9ydGVkKXRocm93IG5ldyB2aCh2b2lkIDAse2NhdXNlOm4ucmVhc29ufSk7KCh7cHJvbWlzZTplLHJlc29sdmU6cn09YmgoKSkpLHlpZWxkIGE7fX0oKSx7c2lnbmFsOm59KSx3cml0ZShzLGEsdSl7bGV0IGM9cjtyPW51bGwsYyh7Y2h1bms6cyxkb25lOiExLGNiOnV9KTt9LGZpbmFsKHMpe2xldCBhPXI7cj1udWxsLGEoe2RvbmU6ITAsY2I6c30pO30sZGVzdHJveShzLGEpe2kuYWJvcnQoKSxhKHMpO319fWZ1bmN0aW9uIHluKHQpe2xldCBlPXQucmVhZGFibGUmJnR5cGVvZiB0LnJlYWRhYmxlLnJlYWQhPVwiZnVuY3Rpb25cIj9KXy53cmFwKHQucmVhZGFibGUpOnQucmVhZGFibGUscj10LndyaXRhYmxlLGk9ISFWXyhlKSxuPSEhel8ociksbyxzLGEsdSxjO2Z1bmN0aW9uIGgoZCl7bGV0IGc9dTt1PW51bGwsZz9nKGQpOmQmJmMuZGVzdHJveShkKTt9cmV0dXJuIGM9bmV3IGZyKHtyZWFkYWJsZU9iamVjdE1vZGU6ISEoZSE9bnVsbCYmZS5yZWFkYWJsZU9iamVjdE1vZGUpLHdyaXRhYmxlT2JqZWN0TW9kZTohIShyIT1udWxsJiZyLndyaXRhYmxlT2JqZWN0TW9kZSkscmVhZGFibGU6aSx3cml0YWJsZTpufSksbiYmKGdoKHIsZD0+e249ITEsZCYmV3IoZSxkKSxoKGQpO30pLGMuX3dyaXRlPWZ1bmN0aW9uKGQsZyx5KXtyLndyaXRlKGQsZyk/eSgpOm89eTt9LGMuX2ZpbmFsPWZ1bmN0aW9uKGQpe3IuZW5kKCkscz1kO30sci5vbihcImRyYWluXCIsZnVuY3Rpb24oKXtpZihvKXtsZXQgZD1vO289bnVsbCxkKCk7fX0pLHIub24oXCJmaW5pc2hcIixmdW5jdGlvbigpe2lmKHMpe2xldCBkPXM7cz1udWxsLGQoKTt9fSkpLGkmJihnaChlLGQ9PntpPSExLGQmJldyKGUsZCksaChkKTt9KSxlLm9uKFwicmVhZGFibGVcIixmdW5jdGlvbigpe2lmKGEpe2xldCBkPWE7YT1udWxsLGQoKTt9fSksZS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7Yy5wdXNoKG51bGwpO30pLGMuX3JlYWQ9ZnVuY3Rpb24oKXtmb3IoOzspe2xldCBkPWUucmVhZCgpO2lmKGQ9PT1udWxsKXthPWMuX3JlYWQ7cmV0dXJufWlmKCFjLnB1c2goZCkpcmV0dXJufX0pLGMuX2Rlc3Ryb3k9ZnVuY3Rpb24oZCxnKXshZCYmdSE9PW51bGwmJihkPW5ldyB2aCksYT1udWxsLG89bnVsbCxzPW51bGwsdT09PW51bGw/ZyhkKToodT1nLFdyKHIsZCksV3IoZSxkKSk7fSxjfX0pO3ZhciBudD1NKChSUixUaCk9Pnt2KCk7bSgpO18oKTt2YXJ7T2JqZWN0RGVmaW5lUHJvcGVydGllczp0MCxPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6QXQsT2JqZWN0S2V5czpyMCxPYmplY3RTZXRQcm90b3R5cGVPZjpBaH09Y2UoKTtUaC5leHBvcnRzPVZlO3ZhciBwbz1kaSgpLE5lPXVvKCk7QWgoVmUucHJvdG90eXBlLHBvLnByb3RvdHlwZSk7QWgoVmUscG8pO3tsZXQgdD1yMChOZS5wcm90b3R5cGUpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtsZXQgcj10W2VdO1ZlLnByb3RvdHlwZVtyXXx8KFZlLnByb3RvdHlwZVtyXT1OZS5wcm90b3R5cGVbcl0pO319ZnVuY3Rpb24gVmUodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgVmUpKXJldHVybiBuZXcgVmUodCk7cG8uY2FsbCh0aGlzLHQpLE5lLmNhbGwodGhpcyx0KSx0Pyh0aGlzLmFsbG93SGFsZk9wZW49dC5hbGxvd0hhbGZPcGVuIT09ITEsdC5yZWFkYWJsZT09PSExJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZT0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMCksdC53cml0YWJsZT09PSExJiYodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZT0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZz0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITApKTp0aGlzLmFsbG93SGFsZk9wZW49ITA7fXQwKFZlLnByb3RvdHlwZSx7d3JpdGFibGU6e19fcHJvdG9fXzpudWxsLC4uLkF0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlXCIpfSx3cml0YWJsZUhpZ2hXYXRlck1hcms6e19fcHJvdG9fXzpudWxsLC4uLkF0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiKX0sd3JpdGFibGVPYmplY3RNb2RlOntfX3Byb3RvX186bnVsbCwuLi5BdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZU9iamVjdE1vZGVcIil9LHdyaXRhYmxlQnVmZmVyOntfX3Byb3RvX186bnVsbCwuLi5BdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZUJ1ZmZlclwiKX0sd3JpdGFibGVMZW5ndGg6e19fcHJvdG9fXzpudWxsLC4uLkF0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlTGVuZ3RoXCIpfSx3cml0YWJsZUZpbmlzaGVkOntfX3Byb3RvX186bnVsbCwuLi5BdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZUZpbmlzaGVkXCIpfSx3cml0YWJsZUNvcmtlZDp7X19wcm90b19fOm51bGwsLi4uQXQoTmUucHJvdG90eXBlLFwid3JpdGFibGVDb3JrZWRcIil9LHdyaXRhYmxlRW5kZWQ6e19fcHJvdG9fXzpudWxsLC4uLkF0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlRW5kZWRcIil9LHdyaXRhYmxlTmVlZERyYWluOntfX3Byb3RvX186bnVsbCwuLi5BdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZU5lZWREcmFpblwiKX0sZGVzdHJveWVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT09PXZvaWQgMHx8dGhpcy5fd3JpdGFibGVTdGF0ZT09PXZvaWQgMD8hMTp0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldCh0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD10KTt9fX0pO3ZhciBjbztmdW5jdGlvbiBJaCgpe3JldHVybiBjbz09PXZvaWQgMCYmKGNvPXt9KSxjb31WZS5mcm9tV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEloKCkubmV3U3RyZWFtRHVwbGV4RnJvbVJlYWRhYmxlV3JpdGFibGVQYWlyKHQsZSl9O1ZlLnRvV2ViPWZ1bmN0aW9uKHQpe3JldHVybiBJaCgpLm5ld1JlYWRhYmxlV3JpdGFibGVQYWlyRnJvbUR1cGxleCh0KX07dmFyIGhvO1ZlLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIGhvfHwoaG89U2goKSksaG8odCxcImJvZHlcIil9O30pO3ZhciBibz1NKChOUixDaCk9Pnt2KCk7bSgpO18oKTt2YXJ7T2JqZWN0U2V0UHJvdG90eXBlT2Y6UmgsU3ltYm9sOmkwfT1jZSgpO0NoLmV4cG9ydHM9SXQ7dmFye0VSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEOm4wfT1TZSgpLmNvZGVzLHlvPW50KCkse2dldEhpZ2hXYXRlck1hcms6czB9PXNuKCk7UmgoSXQucHJvdG90eXBlLHlvLnByb3RvdHlwZSk7UmgoSXQseW8pO3ZhciBiaT1pMChcImtDYWxsYmFja1wiKTtmdW5jdGlvbiBJdCh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBJdCkpcmV0dXJuIG5ldyBJdCh0KTtsZXQgZT10P3MwKHRoaXMsdCxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLCEwKTpudWxsO2U9PT0wJiYodD17Li4udCxoaWdoV2F0ZXJNYXJrOm51bGwscmVhZGFibGVIaWdoV2F0ZXJNYXJrOmUsd3JpdGFibGVIaWdoV2F0ZXJNYXJrOnQud3JpdGFibGVIaWdoV2F0ZXJNYXJrfHwwfSkseW8uY2FsbCh0aGlzLHQpLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSx0aGlzW2JpXT1udWxsLHQmJih0eXBlb2YgdC50cmFuc2Zvcm09PVwiZnVuY3Rpb25cIiYmKHRoaXMuX3RyYW5zZm9ybT10LnRyYW5zZm9ybSksdHlwZW9mIHQuZmx1c2g9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2ZsdXNoPXQuZmx1c2gpKSx0aGlzLm9uKFwicHJlZmluaXNoXCIsbzApO31mdW5jdGlvbiBnbyh0KXt0eXBlb2YgdGhpcy5fZmx1c2g9PVwiZnVuY3Rpb25cIiYmIXRoaXMuZGVzdHJveWVkP3RoaXMuX2ZsdXNoKChlLHIpPT57aWYoZSl7dD90KGUpOnRoaXMuZGVzdHJveShlKTtyZXR1cm59ciE9bnVsbCYmdGhpcy5wdXNoKHIpLHRoaXMucHVzaChudWxsKSx0JiZ0KCk7fSk6KHRoaXMucHVzaChudWxsKSx0JiZ0KCkpO31mdW5jdGlvbiBvMCgpe3RoaXMuX2ZpbmFsIT09Z28mJmdvLmNhbGwodGhpcyk7fUl0LnByb3RvdHlwZS5fZmluYWw9Z287SXQucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24odCxlLHIpe3Rocm93IG5ldyBuMChcIl90cmFuc2Zvcm0oKVwiKX07SXQucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbih0LGUscil7bGV0IGk9dGhpcy5fcmVhZGFibGVTdGF0ZSxuPXRoaXMuX3dyaXRhYmxlU3RhdGUsbz1pLmxlbmd0aDt0aGlzLl90cmFuc2Zvcm0odCxlLChzLGEpPT57aWYocyl7cihzKTtyZXR1cm59YSE9bnVsbCYmdGhpcy5wdXNoKGEpLG4uZW5kZWR8fG89PT1pLmxlbmd0aHx8aS5sZW5ndGg8aS5oaWdoV2F0ZXJNYXJrP3IoKTp0aGlzW2JpXT1yO30pO307SXQucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKCl7aWYodGhpc1tiaV0pe2xldCB0PXRoaXNbYmldO3RoaXNbYmldPW51bGwsdCgpO319O30pO3ZhciBfbz1NKChLUixQaCk9Pnt2KCk7bSgpO18oKTt2YXJ7T2JqZWN0U2V0UHJvdG90eXBlT2Y6Qmh9PWNlKCk7UGguZXhwb3J0cz0kcjt2YXIgd289Ym8oKTtCaCgkci5wcm90b3R5cGUsd28ucHJvdG90eXBlKTtCaCgkcix3byk7ZnVuY3Rpb24gJHIodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgJHIpKXJldHVybiBuZXcgJHIodCk7d28uY2FsbCh0aGlzLHQpO30kci5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbih0LGUscil7cihudWxsLHQpO307fSk7dmFyIG1uPU0oKGlDLExoKT0+e3YoKTttKCk7XygpO3ZhciB3aT1VdCgpLHtBcnJheUlzQXJyYXk6YTAsUHJvbWlzZTpsMCxTeW1ib2xBc3luY0l0ZXJhdG9yOnUwfT1jZSgpLF9uPW10KCkse29uY2U6ZjB9PUplKCksYzA9dHIoKSxPaD1udCgpLHthZ2dyZWdhdGVUd29FcnJvcnM6aDAsY29kZXM6e0VSUl9JTlZBTElEX0FSR19UWVBFOlJvLEVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRTptbyxFUlJfTUlTU0lOR19BUkdTOmQwLEVSUl9TVFJFQU1fREVTVFJPWUVEOnAwLEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFOmcwfSxBYm9ydEVycm9yOnkwfT1TZSgpLHt2YWxpZGF0ZUZ1bmN0aW9uOmIwLHZhbGlkYXRlQWJvcnRTaWduYWw6dzB9PWZpKCkse2lzSXRlcmFibGU6Y3IsaXNSZWFkYWJsZTp2byxpc1JlYWRhYmxlTm9kZVN0cmVhbTp3bixpc05vZGVTdHJlYW06a2gsaXNUcmFuc2Zvcm1TdHJlYW06SHIsaXNXZWJTdHJlYW06XzAsaXNSZWFkYWJsZVN0cmVhbTpFbyxpc1JlYWRhYmxlRW5kZWQ6bTB9PXR0KCksdjA9Z2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXJ8fEhpKCkuQWJvcnRDb250cm9sbGVyLFNvLEFvO2Z1bmN0aW9uIHhoKHQsZSxyKXtsZXQgaT0hMTt0Lm9uKFwiY2xvc2VcIiwoKT0+e2k9ITA7fSk7bGV0IG49X24odCx7cmVhZGFibGU6ZSx3cml0YWJsZTpyfSxvPT57aT0hbzt9KTtyZXR1cm4ge2Rlc3Ryb3k6bz0+e2l8fChpPSEwLGMwLmRlc3Ryb3llcih0LG98fG5ldyBwMChcInBpcGVcIikpKTt9LGNsZWFudXA6bn19ZnVuY3Rpb24gRTAodCl7cmV0dXJuIGIwKHRbdC5sZW5ndGgtMV0sXCJzdHJlYW1zW3N0cmVhbS5sZW5ndGggLSAxXVwiKSx0LnBvcCgpfWZ1bmN0aW9uIElvKHQpe2lmKGNyKHQpKXJldHVybiB0O2lmKHduKHQpKXJldHVybiBTMCh0KTt0aHJvdyBuZXcgUm8oXCJ2YWxcIixbXCJSZWFkYWJsZVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIl0sdCl9YXN5bmMgZnVuY3Rpb24qUzAodCl7QW98fChBbz1kaSgpKSx5aWVsZCpBby5wcm90b3R5cGVbdTBdLmNhbGwodCk7fWFzeW5jIGZ1bmN0aW9uIGJuKHQsZSxyLHtlbmQ6aX0pe2xldCBuLG89bnVsbCxzPWM9PntpZihjJiYobj1jKSxvKXtsZXQgaD1vO289bnVsbCxoKCk7fX0sYT0oKT0+bmV3IGwwKChjLGgpPT57bj9oKG4pOm89KCk9PntuP2gobik6YygpO307fSk7ZS5vbihcImRyYWluXCIscyk7bGV0IHU9X24oZSx7cmVhZGFibGU6ITF9LHMpO3RyeXtlLndyaXRhYmxlTmVlZERyYWluJiZhd2FpdCBhKCk7Zm9yIGF3YWl0KGxldCBjIG9mIHQpZS53cml0ZShjKXx8YXdhaXQgYSgpO2kmJmUuZW5kKCksYXdhaXQgYSgpLHIoKTt9Y2F0Y2goYyl7cihuIT09Yz9oMChuLGMpOmMpO31maW5hbGx5e3UoKSxlLm9mZihcImRyYWluXCIscyk7fX1hc3luYyBmdW5jdGlvbiBUbyh0LGUscix7ZW5kOml9KXtIcihlKSYmKGU9ZS53cml0YWJsZSk7bGV0IG49ZS5nZXRXcml0ZXIoKTt0cnl7Zm9yIGF3YWl0KGxldCBvIG9mIHQpYXdhaXQgbi5yZWFkeSxuLndyaXRlKG8pLmNhdGNoKCgpPT57fSk7YXdhaXQgbi5yZWFkeSxpJiZhd2FpdCBuLmNsb3NlKCkscigpO31jYXRjaChvKXt0cnl7YXdhaXQgbi5hYm9ydChvKSxyKG8pO31jYXRjaChzKXtyKHMpO319fWZ1bmN0aW9uIEEwKC4uLnQpe3JldHVybiBNaCh0LGYwKEUwKHQpKSl9ZnVuY3Rpb24gTWgodCxlLHIpe2lmKHQubGVuZ3RoPT09MSYmYTAodFswXSkmJih0PXRbMF0pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IGQwKFwic3RyZWFtc1wiKTtsZXQgaT1uZXcgdjAsbj1pLnNpZ25hbCxvPXI/LnNpZ25hbCxzPVtdO3cwKG8sXCJvcHRpb25zLnNpZ25hbFwiKTtmdW5jdGlvbiBhKCl7eShuZXcgeTApO31vPy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKTtsZXQgdSxjLGg9W10sZD0wO2Z1bmN0aW9uIGcoQyl7eShDLC0tZD09PTApO31mdW5jdGlvbiB5KEMsUil7aWYoQyYmKCF1fHx1LmNvZGU9PT1cIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCIpJiYodT1DKSwhKCF1JiYhUikpe2Zvcig7aC5sZW5ndGg7KWguc2hpZnQoKSh1KTtvPy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKSxpLmFib3J0KCksUiYmKHV8fHMuZm9yRWFjaChVPT5VKCkpLHdpLm5leHRUaWNrKGUsdSxjKSk7fX1sZXQgdztmb3IobGV0IEM9MDtDPHQubGVuZ3RoO0MrKyl7bGV0IFI9dFtDXSxVPUM8dC5sZW5ndGgtMSxOPUM+MCxXPVV8fHI/LmVuZCE9PSExLEs9Qz09PXQubGVuZ3RoLTE7aWYoa2goUikpe2xldCB6PWZ1bmN0aW9uKFEpe1EmJlEubmFtZSE9PVwiQWJvcnRFcnJvclwiJiZRLmNvZGUhPT1cIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCImJmcoUSk7fTtpZihXKXtsZXR7ZGVzdHJveTpRLGNsZWFudXA6ZGV9PXhoKFIsVSxOKTtoLnB1c2goUSksdm8oUikmJksmJnMucHVzaChkZSk7fVIub24oXCJlcnJvclwiLHopLHZvKFIpJiZLJiZzLnB1c2goKCk9PntSLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix6KTt9KTt9aWYoQz09PTApaWYodHlwZW9mIFI9PVwiZnVuY3Rpb25cIil7aWYodz1SKHtzaWduYWw6bn0pLCFjcih3KSl0aHJvdyBuZXcgbW8oXCJJdGVyYWJsZSwgQXN5bmNJdGVyYWJsZSBvciBTdHJlYW1cIixcInNvdXJjZVwiLHcpfWVsc2UgY3IoUil8fHduKFIpfHxIcihSKT93PVI6dz1PaC5mcm9tKFIpO2Vsc2UgaWYodHlwZW9mIFI9PVwiZnVuY3Rpb25cIil7aWYoSHIodykpe3ZhciBFO3c9SW8oKEU9dyk9PT1udWxsfHxFPT09dm9pZCAwP3ZvaWQgMDpFLnJlYWRhYmxlKTt9ZWxzZSB3PUlvKHcpO2lmKHc9Uih3LHtzaWduYWw6bn0pLFUpe2lmKCFjcih3LCEwKSl0aHJvdyBuZXcgbW8oXCJBc3luY0l0ZXJhYmxlXCIsYHRyYW5zZm9ybVske0MtMX1dYCx3KX1lbHNlIHt2YXIgUztTb3x8KFNvPV9vKCkpO2xldCB6PW5ldyBTbyh7b2JqZWN0TW9kZTohMH0pLFE9KFM9dyk9PT1udWxsfHxTPT09dm9pZCAwP3ZvaWQgMDpTLnRoZW47aWYodHlwZW9mIFE9PVwiZnVuY3Rpb25cIilkKyssUS5jYWxsKHcscGU9PntjPXBlLHBlIT1udWxsJiZ6LndyaXRlKHBlKSxXJiZ6LmVuZCgpLHdpLm5leHRUaWNrKGcpO30scGU9Pnt6LmRlc3Ryb3kocGUpLHdpLm5leHRUaWNrKGcscGUpO30pO2Vsc2UgaWYoY3IodywhMCkpZCsrLGJuKHcseixnLHtlbmQ6V30pO2Vsc2UgaWYoRW8odyl8fEhyKHcpKXtsZXQgcGU9dy5yZWFkYWJsZXx8dztkKyssYm4ocGUseixnLHtlbmQ6V30pO31lbHNlIHRocm93IG5ldyBtbyhcIkFzeW5jSXRlcmFibGUgb3IgUHJvbWlzZVwiLFwiZGVzdGluYXRpb25cIix3KTt3PXo7bGV0e2Rlc3Ryb3k6ZGUsY2xlYW51cDpHdH09eGgodywhMSwhMCk7aC5wdXNoKGRlKSxLJiZzLnB1c2goR3QpO319ZWxzZSBpZihraChSKSl7aWYod24odykpe2QrPTI7bGV0IHo9STAodyxSLGcse2VuZDpXfSk7dm8oUikmJksmJnMucHVzaCh6KTt9ZWxzZSBpZihIcih3KXx8RW8odykpe2xldCB6PXcucmVhZGFibGV8fHc7ZCsrLGJuKHosUixnLHtlbmQ6V30pO31lbHNlIGlmKGNyKHcpKWQrKyxibih3LFIsZyx7ZW5kOld9KTtlbHNlIHRocm93IG5ldyBSbyhcInZhbFwiLFtcIlJlYWRhYmxlXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiLFwiUmVhZGFibGVTdHJlYW1cIixcIlRyYW5zZm9ybVN0cmVhbVwiXSx3KTt3PVI7fWVsc2UgaWYoXzAoUikpe2lmKHduKHcpKWQrKyxUbyhJbyh3KSxSLGcse2VuZDpXfSk7ZWxzZSBpZihFbyh3KXx8Y3IodykpZCsrLFRvKHcsUixnLHtlbmQ6V30pO2Vsc2UgaWYoSHIodykpZCsrLFRvKHcucmVhZGFibGUsUixnLHtlbmQ6V30pO2Vsc2UgdGhyb3cgbmV3IFJvKFwidmFsXCIsW1wiUmVhZGFibGVcIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCIsXCJSZWFkYWJsZVN0cmVhbVwiLFwiVHJhbnNmb3JtU3RyZWFtXCJdLHcpO3c9Ujt9ZWxzZSB3PU9oLmZyb20oUik7fXJldHVybiAobiE9bnVsbCYmbi5hYm9ydGVkfHxvIT1udWxsJiZvLmFib3J0ZWQpJiZ3aS5uZXh0VGljayhhKSx3fWZ1bmN0aW9uIEkwKHQsZSxyLHtlbmQ6aX0pe2xldCBuPSExO2lmKGUub24oXCJjbG9zZVwiLCgpPT57bnx8cihuZXcgZzApO30pLHQucGlwZShlLHtlbmQ6ITF9KSxpKXtsZXQgcz1mdW5jdGlvbigpe249ITAsZS5lbmQoKTt9O20wKHQpP3dpLm5leHRUaWNrKHMpOnQub25jZShcImVuZFwiLHMpO31lbHNlIHIoKTtyZXR1cm4gX24odCx7cmVhZGFibGU6ITAsd3JpdGFibGU6ITF9LHM9PntsZXQgYT10Ll9yZWFkYWJsZVN0YXRlO3MmJnMuY29kZT09PVwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIiYmYSYmYS5lbmRlZCYmIWEuZXJyb3JlZCYmIWEuZXJyb3JFbWl0dGVkP3Qub25jZShcImVuZFwiLHIpLm9uY2UoXCJlcnJvclwiLHIpOnIocyk7fSksX24oZSx7cmVhZGFibGU6ITEsd3JpdGFibGU6ITB9LHIpfUxoLmV4cG9ydHM9e3BpcGVsaW5lSW1wbDpNaCxwaXBlbGluZTpBMH07fSk7dmFyIEJvPU0oKGRDLEZoKT0+e3YoKTttKCk7XygpO3ZhcntwaXBlbGluZTpUMH09bW4oKSx2bj1udCgpLHtkZXN0cm95ZXI6UjB9PXRyKCkse2lzTm9kZVN0cmVhbTpFbixpc1JlYWRhYmxlOlVoLGlzV3JpdGFibGU6TmgsaXNXZWJTdHJlYW06Q28saXNUcmFuc2Zvcm1TdHJlYW06aHIsaXNXcml0YWJsZVN0cmVhbTpxaCxpc1JlYWRhYmxlU3RyZWFtOkRofT10dCgpLHtBYm9ydEVycm9yOkMwLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVkFMVUU6amgsRVJSX01JU1NJTkdfQVJHUzpCMH19PVNlKCksUDA9bXQoKTtGaC5leHBvcnRzPWZ1bmN0aW9uKC4uLmUpe2lmKGUubGVuZ3RoPT09MCl0aHJvdyBuZXcgQjAoXCJzdHJlYW1zXCIpO2lmKGUubGVuZ3RoPT09MSlyZXR1cm4gdm4uZnJvbShlWzBdKTtsZXQgcj1bLi4uZV07aWYodHlwZW9mIGVbMF09PVwiZnVuY3Rpb25cIiYmKGVbMF09dm4uZnJvbShlWzBdKSksdHlwZW9mIGVbZS5sZW5ndGgtMV09PVwiZnVuY3Rpb25cIil7bGV0IHk9ZS5sZW5ndGgtMTtlW3ldPXZuLmZyb20oZVt5XSk7fWZvcihsZXQgeT0wO3k8ZS5sZW5ndGg7Kyt5KWlmKCEoIUVuKGVbeV0pJiYhQ28oZVt5XSkpKXtpZih5PGUubGVuZ3RoLTEmJiEoVWgoZVt5XSl8fERoKGVbeV0pfHxocihlW3ldKSkpdGhyb3cgbmV3IGpoKGBzdHJlYW1zWyR7eX1dYCxyW3ldLFwibXVzdCBiZSByZWFkYWJsZVwiKTtpZih5PjAmJiEoTmgoZVt5XSl8fHFoKGVbeV0pfHxocihlW3ldKSkpdGhyb3cgbmV3IGpoKGBzdHJlYW1zWyR7eX1dYCxyW3ldLFwibXVzdCBiZSB3cml0YWJsZVwiKX1sZXQgaSxuLG8scyxhO2Z1bmN0aW9uIHUoeSl7bGV0IHc9cztzPW51bGwsdz93KHkpOnk/YS5kZXN0cm95KHkpOiFnJiYhZCYmYS5kZXN0cm95KCk7fWxldCBjPWVbMF0saD1UMChlLHUpLGQ9ISEoTmgoYyl8fHFoKGMpfHxocihjKSksZz0hIShVaChoKXx8RGgoaCl8fGhyKGgpKTtpZihhPW5ldyB2bih7d3JpdGFibGVPYmplY3RNb2RlOiEhKGMhPW51bGwmJmMud3JpdGFibGVPYmplY3RNb2RlKSxyZWFkYWJsZU9iamVjdE1vZGU6ISEoaCE9bnVsbCYmaC53cml0YWJsZU9iamVjdE1vZGUpLHdyaXRhYmxlOmQscmVhZGFibGU6Z30pLGQpe2lmKEVuKGMpKWEuX3dyaXRlPWZ1bmN0aW9uKHcsRSxTKXtjLndyaXRlKHcsRSk/UygpOmk9Uzt9LGEuX2ZpbmFsPWZ1bmN0aW9uKHcpe2MuZW5kKCksbj13O30sYy5vbihcImRyYWluXCIsZnVuY3Rpb24oKXtpZihpKXtsZXQgdz1pO2k9bnVsbCx3KCk7fX0pO2Vsc2UgaWYoQ28oYykpe2xldCBFPShocihjKT9jLndyaXRhYmxlOmMpLmdldFdyaXRlcigpO2EuX3dyaXRlPWFzeW5jIGZ1bmN0aW9uKFMsSSxDKXt0cnl7YXdhaXQgRS5yZWFkeSxFLndyaXRlKFMpLmNhdGNoKCgpPT57fSksQygpO31jYXRjaChSKXtDKFIpO319LGEuX2ZpbmFsPWFzeW5jIGZ1bmN0aW9uKFMpe3RyeXthd2FpdCBFLnJlYWR5LEUuY2xvc2UoKS5jYXRjaCgoKT0+e30pLG49Uzt9Y2F0Y2goSSl7UyhJKTt9fTt9bGV0IHk9aHIoaCk/aC5yZWFkYWJsZTpoO1AwKHksKCk9PntpZihuKXtsZXQgdz1uO249bnVsbCx3KCk7fX0pO31pZihnKXtpZihFbihoKSloLm9uKFwicmVhZGFibGVcIixmdW5jdGlvbigpe2lmKG8pe2xldCB5PW87bz1udWxsLHkoKTt9fSksaC5vbihcImVuZFwiLGZ1bmN0aW9uKCl7YS5wdXNoKG51bGwpO30pLGEuX3JlYWQ9ZnVuY3Rpb24oKXtmb3IoOzspe2xldCB5PWgucmVhZCgpO2lmKHk9PT1udWxsKXtvPWEuX3JlYWQ7cmV0dXJufWlmKCFhLnB1c2goeSkpcmV0dXJufX07ZWxzZSBpZihDbyhoKSl7bGV0IHc9KGhyKGgpP2gucmVhZGFibGU6aCkuZ2V0UmVhZGVyKCk7YS5fcmVhZD1hc3luYyBmdW5jdGlvbigpe2Zvcig7Oyl0cnl7bGV0e3ZhbHVlOkUsZG9uZTpTfT1hd2FpdCB3LnJlYWQoKTtpZighYS5wdXNoKEUpKXJldHVybjtpZihTKXthLnB1c2gobnVsbCk7cmV0dXJufX1jYXRjaHtyZXR1cm59fTt9fXJldHVybiBhLl9kZXN0cm95PWZ1bmN0aW9uKHksdyl7IXkmJnMhPT1udWxsJiYoeT1uZXcgQzApLG89bnVsbCxpPW51bGwsbj1udWxsLHM9PT1udWxsP3coeSk6KHM9dyxFbihoKSYmUjAoaCx5KSk7fSxhfTt9KTt2YXIgUWg9TSgoU0Msa28pPT57digpO20oKTtfKCk7dmFyIFZoPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyfHxIaSgpLkFib3J0Q29udHJvbGxlcix7Y29kZXM6e0VSUl9JTlZBTElEX0FSR19WQUxVRTpPMCxFUlJfSU5WQUxJRF9BUkdfVFlQRTpfaSxFUlJfTUlTU0lOR19BUkdTOmswLEVSUl9PVVRfT0ZfUkFOR0U6eDB9LEFib3J0RXJyb3I6c3R9PVNlKCkse3ZhbGlkYXRlQWJvcnRTaWduYWw6ZHIsdmFsaWRhdGVJbnRlZ2VyOk0wLHZhbGlkYXRlT2JqZWN0OnByfT1maSgpLEwwPWNlKCkuU3ltYm9sKFwia1dlYWtcIikse2ZpbmlzaGVkOlUwfT1tdCgpLE4wPUJvKCkse2FkZEFib3J0U2lnbmFsTm9WYWxpZGF0ZTpxMH09Y2koKSx7aXNXcml0YWJsZTpEMCxpc05vZGVTdHJlYW06ajB9PXR0KCkse0FycmF5UHJvdG90eXBlUHVzaDpGMCxNYXRoRmxvb3I6VzAsTnVtYmVyOiQwLE51bWJlcklzTmFOOkgwLFByb21pc2U6V2gsUHJvbWlzZVJlamVjdDokaCxQcm9taXNlUHJvdG90eXBlVGhlbjpWMCxTeW1ib2w6emh9PWNlKCksU249emgoXCJrRW1wdHlcIiksSGg9emgoXCJrRW9mXCIpO2Z1bmN0aW9uIHowKHQsZSl7aWYoZSE9bnVsbCYmcHIoZSxcIm9wdGlvbnNcIiksZT8uc2lnbmFsIT1udWxsJiZkcihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLGowKHQpJiYhRDAodCkpdGhyb3cgbmV3IE8wKFwic3RyZWFtXCIsdCxcIm11c3QgYmUgd3JpdGFibGVcIik7bGV0IHI9TjAodGhpcyx0KTtyZXR1cm4gZSE9bnVsbCYmZS5zaWduYWwmJnEwKGUuc2lnbmFsLHIpLHJ9ZnVuY3Rpb24gQW4odCxlKXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBfaShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7ZSE9bnVsbCYmcHIoZSxcIm9wdGlvbnNcIiksZT8uc2lnbmFsIT1udWxsJiZkcihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpO2xldCByPTE7cmV0dXJuIGU/LmNvbmN1cnJlbmN5IT1udWxsJiYocj1XMChlLmNvbmN1cnJlbmN5KSksTTAocixcImNvbmN1cnJlbmN5XCIsMSksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIG4sbztsZXQgcz1uZXcgVmgsYT10aGlzLHU9W10sYz1zLnNpZ25hbCxoPXtzaWduYWw6Y30sZD0oKT0+cy5hYm9ydCgpO2UhPW51bGwmJihuPWUuc2lnbmFsKSE9PW51bGwmJm4hPT12b2lkIDAmJm4uYWJvcnRlZCYmZCgpLGU9PW51bGx8fChvPWUuc2lnbmFsKT09PW51bGx8fG89PT12b2lkIDB8fG8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZCk7bGV0IGcseSx3PSExO2Z1bmN0aW9uIEUoKXt3PSEwO31hc3luYyBmdW5jdGlvbiBTKCl7dHJ5e2ZvciBhd2FpdChsZXQgUiBvZiBhKXt2YXIgSTtpZih3KXJldHVybjtpZihjLmFib3J0ZWQpdGhyb3cgbmV3IHN0O3RyeXtSPXQoUixoKTt9Y2F0Y2goVSl7Uj0kaChVKTt9UiE9PVNuJiYodHlwZW9mKChJPVIpPT09bnVsbHx8ST09PXZvaWQgMD92b2lkIDA6SS5jYXRjaCk9PVwiZnVuY3Rpb25cIiYmUi5jYXRjaChFKSx1LnB1c2goUiksZyYmKGcoKSxnPW51bGwpLCF3JiZ1Lmxlbmd0aCYmdS5sZW5ndGg+PXImJmF3YWl0IG5ldyBXaChVPT57eT1VO30pKTt9dS5wdXNoKEhoKTt9Y2F0Y2goUil7bGV0IFU9JGgoUik7VjAoVSx2b2lkIDAsRSksdS5wdXNoKFUpO31maW5hbGx5e3ZhciBDO3c9ITAsZyYmKGcoKSxnPW51bGwpLGU9PW51bGx8fChDPWUuc2lnbmFsKT09PW51bGx8fEM9PT12b2lkIDB8fEMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZCk7fX1TKCk7dHJ5e2Zvcig7Oyl7Zm9yKDt1Lmxlbmd0aD4wOyl7bGV0IEk9YXdhaXQgdVswXTtpZihJPT09SGgpcmV0dXJuO2lmKGMuYWJvcnRlZCl0aHJvdyBuZXcgc3Q7SSE9PVNuJiYoeWllbGQgSSksdS5zaGlmdCgpLHkmJih5KCkseT1udWxsKTt9YXdhaXQgbmV3IFdoKEk9PntnPUk7fSk7fX1maW5hbGx5e3MuYWJvcnQoKSx3PSEwLHkmJih5KCkseT1udWxsKTt9fS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEswKHQ9dm9pZCAwKXtyZXR1cm4gdCE9bnVsbCYmcHIodCxcIm9wdGlvbnNcIiksdD8uc2lnbmFsIT1udWxsJiZkcih0LnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLGFzeW5jIGZ1bmN0aW9uKigpe2xldCByPTA7Zm9yIGF3YWl0KGxldCBuIG9mIHRoaXMpe3ZhciBpO2lmKHQhPW51bGwmJihpPXQuc2lnbmFsKSE9PW51bGwmJmkhPT12b2lkIDAmJmkuYWJvcnRlZCl0aHJvdyBuZXcgc3Qoe2NhdXNlOnQuc2lnbmFsLnJlYXNvbn0pO3lpZWxkIFtyKyssbl07fX0uY2FsbCh0aGlzKX1hc3luYyBmdW5jdGlvbiBLaCh0LGU9dm9pZCAwKXtmb3IgYXdhaXQobGV0IHIgb2YgT28uY2FsbCh0aGlzLHQsZSkpcmV0dXJuICEwO3JldHVybiAhMX1hc3luYyBmdW5jdGlvbiBHMCh0LGU9dm9pZCAwKXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBfaShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7cmV0dXJuICFhd2FpdCBLaC5jYWxsKHRoaXMsYXN5bmMoLi4ucik9PiFhd2FpdCB0KC4uLnIpLGUpfWFzeW5jIGZ1bmN0aW9uIFEwKHQsZSl7Zm9yIGF3YWl0KGxldCByIG9mIE9vLmNhbGwodGhpcyx0LGUpKXJldHVybiByfWFzeW5jIGZ1bmN0aW9uIFkwKHQsZSl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgX2koXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO2FzeW5jIGZ1bmN0aW9uIHIoaSxuKXtyZXR1cm4gYXdhaXQgdChpLG4pLFNufWZvciBhd2FpdChsZXQgaSBvZiBBbi5jYWxsKHRoaXMscixlKSk7fWZ1bmN0aW9uIE9vKHQsZSl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgX2koXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO2FzeW5jIGZ1bmN0aW9uIHIoaSxuKXtyZXR1cm4gYXdhaXQgdChpLG4pP2k6U259cmV0dXJuIEFuLmNhbGwodGhpcyxyLGUpfXZhciBQbz1jbGFzcyBleHRlbmRzIGswe2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJyZWR1Y2VcIiksdGhpcy5tZXNzYWdlPVwiUmVkdWNlIG9mIGFuIGVtcHR5IHN0cmVhbSByZXF1aXJlcyBhbiBpbml0aWFsIHZhbHVlXCI7fX07YXN5bmMgZnVuY3Rpb24gSjAodCxlLHIpe3ZhciBpO2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IF9pKFwicmVkdWNlclwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO3IhPW51bGwmJnByKHIsXCJvcHRpb25zXCIpLHI/LnNpZ25hbCE9bnVsbCYmZHIoci5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKTtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjE7aWYociE9bnVsbCYmKGk9ci5zaWduYWwpIT09bnVsbCYmaSE9PXZvaWQgMCYmaS5hYm9ydGVkKXtsZXQgYz1uZXcgc3Qodm9pZCAwLHtjYXVzZTpyLnNpZ25hbC5yZWFzb259KTt0aHJvdyB0aGlzLm9uY2UoXCJlcnJvclwiLCgpPT57fSksYXdhaXQgVTAodGhpcy5kZXN0cm95KGMpKSxjfWxldCBvPW5ldyBWaCxzPW8uc2lnbmFsO2lmKHIhPW51bGwmJnIuc2lnbmFsKXtsZXQgYz17b25jZTohMCxbTDBdOnRoaXN9O3Iuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT5vLmFib3J0KCksYyk7fWxldCBhPSExO3RyeXtmb3IgYXdhaXQobGV0IGMgb2YgdGhpcyl7dmFyIHU7aWYoYT0hMCxyIT1udWxsJiYodT1yLnNpZ25hbCkhPT1udWxsJiZ1IT09dm9pZCAwJiZ1LmFib3J0ZWQpdGhyb3cgbmV3IHN0O24/ZT1hd2FpdCB0KGUsYyx7c2lnbmFsOnN9KTooZT1jLG49ITApO31pZighYSYmIW4pdGhyb3cgbmV3IFBvfWZpbmFsbHl7by5hYm9ydCgpO31yZXR1cm4gZX1hc3luYyBmdW5jdGlvbiBYMCh0KXt0IT1udWxsJiZwcih0LFwib3B0aW9uc1wiKSx0Py5zaWduYWwhPW51bGwmJmRyKHQuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIik7bGV0IGU9W107Zm9yIGF3YWl0KGxldCBpIG9mIHRoaXMpe3ZhciByO2lmKHQhPW51bGwmJihyPXQuc2lnbmFsKSE9PW51bGwmJnIhPT12b2lkIDAmJnIuYWJvcnRlZCl0aHJvdyBuZXcgc3Qodm9pZCAwLHtjYXVzZTp0LnNpZ25hbC5yZWFzb259KTtGMChlLGkpO31yZXR1cm4gZX1mdW5jdGlvbiBaMCh0LGUpe2xldCByPUFuLmNhbGwodGhpcyx0LGUpO3JldHVybiBhc3luYyBmdW5jdGlvbiooKXtmb3IgYXdhaXQobGV0IG4gb2Ygcil5aWVsZCpuO30uY2FsbCh0aGlzKX1mdW5jdGlvbiBHaCh0KXtpZih0PSQwKHQpLEgwKHQpKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgeDAoXCJudW1iZXJcIixcIj49IDBcIix0KTtyZXR1cm4gdH1mdW5jdGlvbiBlbSh0LGU9dm9pZCAwKXtyZXR1cm4gZSE9bnVsbCYmcHIoZSxcIm9wdGlvbnNcIiksZT8uc2lnbmFsIT1udWxsJiZkcihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLHQ9R2godCksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIGk7aWYoZSE9bnVsbCYmKGk9ZS5zaWduYWwpIT09bnVsbCYmaSE9PXZvaWQgMCYmaS5hYm9ydGVkKXRocm93IG5ldyBzdDtmb3IgYXdhaXQobGV0IG8gb2YgdGhpcyl7dmFyIG47aWYoZSE9bnVsbCYmKG49ZS5zaWduYWwpIT09bnVsbCYmbiE9PXZvaWQgMCYmbi5hYm9ydGVkKXRocm93IG5ldyBzdDt0LS08PTAmJih5aWVsZCBvKTt9fS5jYWxsKHRoaXMpfWZ1bmN0aW9uIHRtKHQsZT12b2lkIDApe3JldHVybiBlIT1udWxsJiZwcihlLFwib3B0aW9uc1wiKSxlPy5zaWduYWwhPW51bGwmJmRyKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIiksdD1HaCh0KSxhc3luYyBmdW5jdGlvbiooKXt2YXIgaTtpZihlIT1udWxsJiYoaT1lLnNpZ25hbCkhPT1udWxsJiZpIT09dm9pZCAwJiZpLmFib3J0ZWQpdGhyb3cgbmV3IHN0O2ZvciBhd2FpdChsZXQgbyBvZiB0aGlzKXt2YXIgbjtpZihlIT1udWxsJiYobj1lLnNpZ25hbCkhPT1udWxsJiZuIT09dm9pZCAwJiZuLmFib3J0ZWQpdGhyb3cgbmV3IHN0O2lmKHQtLSA+MCl5aWVsZCBvO2Vsc2UgcmV0dXJufX0uY2FsbCh0aGlzKX1rby5leHBvcnRzLnN0cmVhbVJldHVybmluZ09wZXJhdG9ycz17YXNJbmRleGVkUGFpcnM6SzAsZHJvcDplbSxmaWx0ZXI6T28sZmxhdE1hcDpaMCxtYXA6QW4sdGFrZTp0bSxjb21wb3NlOnowfTtrby5leHBvcnRzLnByb21pc2VSZXR1cm5pbmdPcGVyYXRvcnM9e2V2ZXJ5OkcwLGZvckVhY2g6WTAscmVkdWNlOkowLHRvQXJyYXk6WDAsc29tZTpLaCxmaW5kOlEwfTt9KTt2YXIgeG89TSgoeEMsWWgpPT57digpO20oKTtfKCk7dmFye0FycmF5UHJvdG90eXBlUG9wOnJtLFByb21pc2U6aW19PWNlKCkse2lzSXRlcmFibGU6bm0saXNOb2RlU3RyZWFtOnNtLGlzV2ViU3RyZWFtOm9tfT10dCgpLHtwaXBlbGluZUltcGw6YW19PW1uKCkse2ZpbmlzaGVkOmxtfT1tdCgpO01vKCk7ZnVuY3Rpb24gdW0oLi4udCl7cmV0dXJuIG5ldyBpbSgoZSxyKT0+e2xldCBpLG4sbz10W3QubGVuZ3RoLTFdO2lmKG8mJnR5cGVvZiBvPT1cIm9iamVjdFwiJiYhc20obykmJiFubShvKSYmIW9tKG8pKXtsZXQgcz1ybSh0KTtpPXMuc2lnbmFsLG49cy5lbmQ7fWFtKHQsKHMsYSk9PntzP3Iocyk6ZShhKTt9LHtzaWduYWw6aSxlbmQ6bn0pO30pfVloLmV4cG9ydHM9e2ZpbmlzaGVkOmxtLHBpcGVsaW5lOnVtfTt9KTt2YXIgTW89TSgoJEMsc2QpPT57digpO20oKTtfKCk7dmFye0J1ZmZlcjpmbX09KHllKCksWChfZSkpLHtPYmplY3REZWZpbmVQcm9wZXJ0eTpUdCxPYmplY3RLZXlzOlpoLFJlZmxlY3RBcHBseTplZH09Y2UoKSx7cHJvbWlzaWZ5OntjdXN0b206dGR9fT1KZSgpLHtzdHJlYW1SZXR1cm5pbmdPcGVyYXRvcnM6SmgscHJvbWlzZVJldHVybmluZ09wZXJhdG9yczpYaH09UWgoKSx7Y29kZXM6e0VSUl9JTExFR0FMX0NPTlNUUlVDVE9SOnJkfX09U2UoKSxjbT1CbygpLHtwaXBlbGluZTppZH09bW4oKSx7ZGVzdHJveWVyOmhtfT10cigpLG5kPW10KCksTG89eG8oKSxVbz10dCgpLGxlPXNkLmV4cG9ydHM9dG4oKS5TdHJlYW07bGUuaXNEaXN0dXJiZWQ9VW8uaXNEaXN0dXJiZWQ7bGUuaXNFcnJvcmVkPVVvLmlzRXJyb3JlZDtsZS5pc1JlYWRhYmxlPVVvLmlzUmVhZGFibGU7bGUuUmVhZGFibGU9ZGkoKTtmb3IobGV0IHQgb2YgWmgoSmgpKXtsZXQgcj1mdW5jdGlvbiguLi5pKXtpZihuZXcudGFyZ2V0KXRocm93IHJkKCk7cmV0dXJuIGxlLlJlYWRhYmxlLmZyb20oZWQoZSx0aGlzLGkpKX07bGV0IGU9SmhbdF07VHQocixcIm5hbWVcIix7X19wcm90b19fOm51bGwsdmFsdWU6ZS5uYW1lfSksVHQocixcImxlbmd0aFwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTplLmxlbmd0aH0pLFR0KGxlLlJlYWRhYmxlLnByb3RvdHlwZSx0LHtfX3Byb3RvX186bnVsbCx2YWx1ZTpyLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk7fWZvcihsZXQgdCBvZiBaaChYaCkpe2xldCByPWZ1bmN0aW9uKC4uLm4pe2lmKG5ldy50YXJnZXQpdGhyb3cgcmQoKTtyZXR1cm4gZWQoZSx0aGlzLG4pfTtsZXQgZT1YaFt0XTtUdChyLFwibmFtZVwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTplLm5hbWV9KSxUdChyLFwibGVuZ3RoXCIse19fcHJvdG9fXzpudWxsLHZhbHVlOmUubGVuZ3RofSksVHQobGUuUmVhZGFibGUucHJvdG90eXBlLHQse19fcHJvdG9fXzpudWxsLHZhbHVlOnIsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTt9bGUuV3JpdGFibGU9dW8oKTtsZS5EdXBsZXg9bnQoKTtsZS5UcmFuc2Zvcm09Ym8oKTtsZS5QYXNzVGhyb3VnaD1fbygpO2xlLnBpcGVsaW5lPWlkO3ZhcnthZGRBYm9ydFNpZ25hbDpkbX09Y2koKTtsZS5hZGRBYm9ydFNpZ25hbD1kbTtsZS5maW5pc2hlZD1uZDtsZS5kZXN0cm95PWhtO2xlLmNvbXBvc2U9Y207VHQobGUsXCJwcm9taXNlc1wiLHtfX3Byb3RvX186bnVsbCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQoKXtyZXR1cm4gTG99fSk7VHQoaWQsdGQse19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITAsZ2V0KCl7cmV0dXJuIExvLnBpcGVsaW5lfX0pO1R0KG5kLHRkLHtfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiEwLGdldCgpe3JldHVybiBMby5maW5pc2hlZH19KTtsZS5TdHJlYW09bGU7bGUuX2lzVWludDhBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl9O2xlLl91aW50OEFycmF5VG9CdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZtLmZyb20oZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9O30pO3ZhciBEdD1NKChaQyx1ZSk9Pnt2KCk7bSgpO18oKTt2YXIgaGU9TW8oKSxwbT14bygpLGdtPWhlLlJlYWRhYmxlLmRlc3Ryb3k7dWUuZXhwb3J0cz1oZS5SZWFkYWJsZTt1ZS5leHBvcnRzLl91aW50OEFycmF5VG9CdWZmZXI9aGUuX3VpbnQ4QXJyYXlUb0J1ZmZlcjt1ZS5leHBvcnRzLl9pc1VpbnQ4QXJyYXk9aGUuX2lzVWludDhBcnJheTt1ZS5leHBvcnRzLmlzRGlzdHVyYmVkPWhlLmlzRGlzdHVyYmVkO3VlLmV4cG9ydHMuaXNFcnJvcmVkPWhlLmlzRXJyb3JlZDt1ZS5leHBvcnRzLmlzUmVhZGFibGU9aGUuaXNSZWFkYWJsZTt1ZS5leHBvcnRzLlJlYWRhYmxlPWhlLlJlYWRhYmxlO3VlLmV4cG9ydHMuV3JpdGFibGU9aGUuV3JpdGFibGU7dWUuZXhwb3J0cy5EdXBsZXg9aGUuRHVwbGV4O3VlLmV4cG9ydHMuVHJhbnNmb3JtPWhlLlRyYW5zZm9ybTt1ZS5leHBvcnRzLlBhc3NUaHJvdWdoPWhlLlBhc3NUaHJvdWdoO3VlLmV4cG9ydHMuYWRkQWJvcnRTaWduYWw9aGUuYWRkQWJvcnRTaWduYWw7dWUuZXhwb3J0cy5maW5pc2hlZD1oZS5maW5pc2hlZDt1ZS5leHBvcnRzLmRlc3Ryb3k9aGUuZGVzdHJveTt1ZS5leHBvcnRzLmRlc3Ryb3k9Z207dWUuZXhwb3J0cy5waXBlbGluZT1oZS5waXBlbGluZTt1ZS5leHBvcnRzLmNvbXBvc2U9aGUuY29tcG9zZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGUsXCJwcm9taXNlc1wiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQoKXtyZXR1cm4gcG19fSk7dWUuZXhwb3J0cy5TdHJlYW09aGUuU3RyZWFtO3VlLmV4cG9ydHMuZGVmYXVsdD11ZS5leHBvcnRzO30pO3ZhciBvZD1NKCh1Qixxbyk9Pnt2KCk7bSgpO18oKTt0eXBlb2YgT2JqZWN0LmNyZWF0ZT09XCJmdW5jdGlvblwiP3FvLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXtyJiYoZS5zdXBlcl89cixlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSk7fTpxby5leHBvcnRzPWZ1bmN0aW9uKGUscil7aWYocil7ZS5zdXBlcl89cjt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9ci5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IGksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt9fTt9KTt2YXIgdWQ9TSgoX0IsbGQpPT57digpO20oKTtfKCk7dmFye0J1ZmZlcjp6ZX09KHllKCksWChfZSkpLGFkPVN5bWJvbC5mb3IoXCJCdWZmZXJMaXN0XCIpO2Z1bmN0aW9uIGVlKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGVlKSlyZXR1cm4gbmV3IGVlKHQpO2VlLl9pbml0LmNhbGwodGhpcyx0KTt9ZWUuX2luaXQ9ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsYWQse3ZhbHVlOiEwfSksdGhpcy5fYnVmcz1bXSx0aGlzLmxlbmd0aD0wLGUmJnRoaXMuYXBwZW5kKGUpO307ZWUucHJvdG90eXBlLl9uZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBlZShlKX07ZWUucHJvdG90eXBlLl9vZmZzZXQ9ZnVuY3Rpb24oZSl7aWYoZT09PTApcmV0dXJuIFswLDBdO2xldCByPTA7Zm9yKGxldCBpPTA7aTx0aGlzLl9idWZzLmxlbmd0aDtpKyspe2xldCBuPXIrdGhpcy5fYnVmc1tpXS5sZW5ndGg7aWYoZTxufHxpPT09dGhpcy5fYnVmcy5sZW5ndGgtMSlyZXR1cm4gW2ksZS1yXTtyPW47fX07ZWUucHJvdG90eXBlLl9yZXZlcnNlT2Zmc2V0PWZ1bmN0aW9uKHQpe2xldCBlPXRbMF0scj10WzFdO2ZvcihsZXQgaT0wO2k8ZTtpKyspcis9dGhpcy5fYnVmc1tpXS5sZW5ndGg7cmV0dXJuIHJ9O2VlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYoZT50aGlzLmxlbmd0aHx8ZTwwKXJldHVybjtsZXQgcj10aGlzLl9vZmZzZXQoZSk7cmV0dXJuIHRoaXMuX2J1ZnNbclswXV1bclsxXV19O2VlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHIpe3JldHVybiB0eXBlb2YgZT09XCJudW1iZXJcIiYmZTwwJiYoZSs9dGhpcy5sZW5ndGgpLHR5cGVvZiByPT1cIm51bWJlclwiJiZyPDAmJihyKz10aGlzLmxlbmd0aCksdGhpcy5jb3B5KG51bGwsMCxlLHIpfTtlZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHIsaSxuKXtpZigodHlwZW9mIGkhPVwibnVtYmVyXCJ8fGk8MCkmJihpPTApLCh0eXBlb2YgbiE9XCJudW1iZXJcInx8bj50aGlzLmxlbmd0aCkmJihuPXRoaXMubGVuZ3RoKSxpPj10aGlzLmxlbmd0aHx8bjw9MClyZXR1cm4gZXx8emUuYWxsb2MoMCk7bGV0IG89ISFlLHM9dGhpcy5fb2Zmc2V0KGkpLGE9bi1pLHU9YSxjPW8mJnJ8fDAsaD1zWzFdO2lmKGk9PT0wJiZuPT09dGhpcy5sZW5ndGgpe2lmKCFvKXJldHVybiB0aGlzLl9idWZzLmxlbmd0aD09PTE/dGhpcy5fYnVmc1swXTp6ZS5jb25jYXQodGhpcy5fYnVmcyx0aGlzLmxlbmd0aCk7Zm9yKGxldCBkPTA7ZDx0aGlzLl9idWZzLmxlbmd0aDtkKyspdGhpcy5fYnVmc1tkXS5jb3B5KGUsYyksYys9dGhpcy5fYnVmc1tkXS5sZW5ndGg7cmV0dXJuIGV9aWYodTw9dGhpcy5fYnVmc1tzWzBdXS5sZW5ndGgtaClyZXR1cm4gbz90aGlzLl9idWZzW3NbMF1dLmNvcHkoZSxyLGgsaCt1KTp0aGlzLl9idWZzW3NbMF1dLnNsaWNlKGgsaCt1KTtvfHwoZT16ZS5hbGxvY1Vuc2FmZShhKSk7Zm9yKGxldCBkPXNbMF07ZDx0aGlzLl9idWZzLmxlbmd0aDtkKyspe2xldCBnPXRoaXMuX2J1ZnNbZF0ubGVuZ3RoLWg7aWYodT5nKXRoaXMuX2J1ZnNbZF0uY29weShlLGMsaCksYys9ZztlbHNlIHt0aGlzLl9idWZzW2RdLmNvcHkoZSxjLGgsaCt1KSxjKz1nO2JyZWFrfXUtPWcsaCYmKGg9MCk7fXJldHVybiBlLmxlbmd0aD5jP2Uuc2xpY2UoMCxjKTplfTtlZS5wcm90b3R5cGUuc2hhbGxvd1NsaWNlPWZ1bmN0aW9uKGUscil7aWYoZT1lfHwwLHI9dHlwZW9mIHIhPVwibnVtYmVyXCI/dGhpcy5sZW5ndGg6cixlPDAmJihlKz10aGlzLmxlbmd0aCkscjwwJiYocis9dGhpcy5sZW5ndGgpLGU9PT1yKXJldHVybiB0aGlzLl9uZXcoKTtsZXQgaT10aGlzLl9vZmZzZXQoZSksbj10aGlzLl9vZmZzZXQociksbz10aGlzLl9idWZzLnNsaWNlKGlbMF0sblswXSsxKTtyZXR1cm4gblsxXT09PTA/by5wb3AoKTpvW28ubGVuZ3RoLTFdPW9bby5sZW5ndGgtMV0uc2xpY2UoMCxuWzFdKSxpWzFdIT09MCYmKG9bMF09b1swXS5zbGljZShpWzFdKSksdGhpcy5fbmV3KG8pfTtlZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSxyLGkpe3JldHVybiB0aGlzLnNsaWNlKHIsaSkudG9TdHJpbmcoZSl9O2VlLnByb3RvdHlwZS5jb25zdW1lPWZ1bmN0aW9uKGUpe2lmKGU9TWF0aC50cnVuYyhlKSxOdW1iZXIuaXNOYU4oZSl8fGU8PTApcmV0dXJuIHRoaXM7Zm9yKDt0aGlzLl9idWZzLmxlbmd0aDspaWYoZT49dGhpcy5fYnVmc1swXS5sZW5ndGgpZS09dGhpcy5fYnVmc1swXS5sZW5ndGgsdGhpcy5sZW5ndGgtPXRoaXMuX2J1ZnNbMF0ubGVuZ3RoLHRoaXMuX2J1ZnMuc2hpZnQoKTtlbHNlIHt0aGlzLl9idWZzWzBdPXRoaXMuX2J1ZnNbMF0uc2xpY2UoZSksdGhpcy5sZW5ndGgtPWU7YnJlYWt9cmV0dXJuIHRoaXN9O2VlLnByb3RvdHlwZS5kdXBsaWNhdGU9ZnVuY3Rpb24oKXtsZXQgZT10aGlzLl9uZXcoKTtmb3IobGV0IHI9MDtyPHRoaXMuX2J1ZnMubGVuZ3RoO3IrKyllLmFwcGVuZCh0aGlzLl9idWZzW3JdKTtyZXR1cm4gZX07ZWUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtpZihlPT1udWxsKXJldHVybiB0aGlzO2lmKGUuYnVmZmVyKXRoaXMuX2FwcGVuZEJ1ZmZlcih6ZS5mcm9tKGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpZm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5hcHBlbmQoZVtyXSk7ZWxzZSBpZih0aGlzLl9pc0J1ZmZlckxpc3QoZSkpZm9yKGxldCByPTA7cjxlLl9idWZzLmxlbmd0aDtyKyspdGhpcy5hcHBlbmQoZS5fYnVmc1tyXSk7ZWxzZSB0eXBlb2YgZT09XCJudW1iZXJcIiYmKGU9ZS50b1N0cmluZygpKSx0aGlzLl9hcHBlbmRCdWZmZXIoemUuZnJvbShlKSk7cmV0dXJuIHRoaXN9O2VlLnByb3RvdHlwZS5fYXBwZW5kQnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZnMucHVzaChlKSx0aGlzLmxlbmd0aCs9ZS5sZW5ndGg7fTtlZS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUscil7aWYocj09PXZvaWQgMCYmdHlwZW9mIGU9PVwic3RyaW5nXCImJihyPWUsZT12b2lkIDApLHR5cGVvZiB0PT1cImZ1bmN0aW9uXCJ8fEFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBCdWZmZXJMaXN0LCBvciBVaW50OEFycmF5LicpO2lmKHR5cGVvZiB0PT1cIm51bWJlclwiP3Q9emUuZnJvbShbdF0pOnR5cGVvZiB0PT1cInN0cmluZ1wiP3Q9emUuZnJvbSh0LHIpOnRoaXMuX2lzQnVmZmVyTGlzdCh0KT90PXQuc2xpY2UoKTpBcnJheS5pc0FycmF5KHQuYnVmZmVyKT90PXplLmZyb20odC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk6emUuaXNCdWZmZXIodCl8fCh0PXplLmZyb20odCkpLGU9TnVtYmVyKGV8fDApLGlzTmFOKGUpJiYoZT0wKSxlPDAmJihlPXRoaXMubGVuZ3RoK2UpLGU8MCYmKGU9MCksdC5sZW5ndGg9PT0wKXJldHVybiBlPnRoaXMubGVuZ3RoP3RoaXMubGVuZ3RoOmU7bGV0IGk9dGhpcy5fb2Zmc2V0KGUpLG49aVswXSxvPWlbMV07Zm9yKDtuPHRoaXMuX2J1ZnMubGVuZ3RoO24rKyl7bGV0IHM9dGhpcy5fYnVmc1tuXTtmb3IoO288cy5sZW5ndGg7KWlmKHMubGVuZ3RoLW8+PXQubGVuZ3RoKXtsZXQgdT1zLmluZGV4T2YodCxvKTtpZih1IT09LTEpcmV0dXJuIHRoaXMuX3JldmVyc2VPZmZzZXQoW24sdV0pO289cy5sZW5ndGgtdC5sZW5ndGgrMTt9ZWxzZSB7bGV0IHU9dGhpcy5fcmV2ZXJzZU9mZnNldChbbixvXSk7aWYodGhpcy5fbWF0Y2godSx0KSlyZXR1cm4gdTtvKys7fW89MDt9cmV0dXJuIC0xfTtlZS5wcm90b3R5cGUuX21hdGNoPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5sZW5ndGgtdDxlLmxlbmd0aClyZXR1cm4gITE7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYodGhpcy5nZXQodCtyKSE9PWVbcl0pcmV0dXJuICExO3JldHVybiAhMH07KGZ1bmN0aW9uKCl7bGV0IHQ9e3JlYWREb3VibGVCRTo4LHJlYWREb3VibGVMRTo4LHJlYWRGbG9hdEJFOjQscmVhZEZsb2F0TEU6NCxyZWFkQmlnSW50NjRCRTo4LHJlYWRCaWdJbnQ2NExFOjgscmVhZEJpZ1VJbnQ2NEJFOjgscmVhZEJpZ1VJbnQ2NExFOjgscmVhZEludDMyQkU6NCxyZWFkSW50MzJMRTo0LHJlYWRVSW50MzJCRTo0LHJlYWRVSW50MzJMRTo0LHJlYWRJbnQxNkJFOjIscmVhZEludDE2TEU6MixyZWFkVUludDE2QkU6MixyZWFkVUludDE2TEU6MixyZWFkSW50ODoxLHJlYWRVSW50ODoxLHJlYWRJbnRCRTpudWxsLHJlYWRJbnRMRTpudWxsLHJlYWRVSW50QkU6bnVsbCxyZWFkVUludExFOm51bGx9O2ZvcihsZXQgZSBpbiB0KShmdW5jdGlvbihyKXt0W3JdPT09bnVsbD9lZS5wcm90b3R5cGVbcl09ZnVuY3Rpb24oaSxuKXtyZXR1cm4gdGhpcy5zbGljZShpLGkrbilbcl0oMCxuKX06ZWUucHJvdG90eXBlW3JdPWZ1bmN0aW9uKGk9MCl7cmV0dXJuIHRoaXMuc2xpY2UoaSxpK3Rbcl0pW3JdKDApfTt9KShlKTt9KSgpO2VlLnByb3RvdHlwZS5faXNCdWZmZXJMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZWV8fGVlLmlzQnVmZmVyTGlzdChlKX07ZWUuaXNCdWZmZXJMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsJiZlW2FkXX07bGQuZXhwb3J0cz1lZTt9KTt2YXIgZmQ9TSgoQkIsSW4pPT57digpO20oKTtfKCk7dmFyIERvPUR0KCkuRHVwbGV4LHltPW9kKCksbWk9dWQoKTtmdW5jdGlvbiBFZSh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBFZSkpcmV0dXJuIG5ldyBFZSh0KTtpZih0eXBlb2YgdD09XCJmdW5jdGlvblwiKXt0aGlzLl9jYWxsYmFjaz10O2xldCBlPWZ1bmN0aW9uKGkpe3RoaXMuX2NhbGxiYWNrJiYodGhpcy5fY2FsbGJhY2soaSksdGhpcy5fY2FsbGJhY2s9bnVsbCk7fS5iaW5kKHRoaXMpO3RoaXMub24oXCJwaXBlXCIsZnVuY3Rpb24oaSl7aS5vbihcImVycm9yXCIsZSk7fSksdGhpcy5vbihcInVucGlwZVwiLGZ1bmN0aW9uKGkpe2kucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGUpO30pLHQ9bnVsbDt9bWkuX2luaXQuY2FsbCh0aGlzLHQpLERvLmNhbGwodGhpcyk7fXltKEVlLERvKTtPYmplY3QuYXNzaWduKEVlLnByb3RvdHlwZSxtaS5wcm90b3R5cGUpO0VlLnByb3RvdHlwZS5fbmV3PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRWUoZSl9O0VlLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSxyLGkpe3RoaXMuX2FwcGVuZEJ1ZmZlcihlKSx0eXBlb2YgaT09XCJmdW5jdGlvblwiJiZpKCk7fTtFZS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzLnB1c2gobnVsbCk7ZT1NYXRoLm1pbihlLHRoaXMubGVuZ3RoKSx0aGlzLnB1c2godGhpcy5zbGljZSgwLGUpKSx0aGlzLmNvbnN1bWUoZSk7fTtFZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe0RvLnByb3RvdHlwZS5lbmQuY2FsbCh0aGlzLGUpLHRoaXMuX2NhbGxiYWNrJiYodGhpcy5fY2FsbGJhY2sobnVsbCx0aGlzLnNsaWNlKCkpLHRoaXMuX2NhbGxiYWNrPW51bGwpO307RWUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUscil7dGhpcy5fYnVmcy5sZW5ndGg9MCx0aGlzLmxlbmd0aD0wLHIoZSk7fTtFZS5wcm90b3R5cGUuX2lzQnVmZmVyTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVlfHxlIGluc3RhbmNlb2YgbWl8fEVlLmlzQnVmZmVyTGlzdChlKX07RWUuaXNCdWZmZXJMaXN0PW1pLmlzQnVmZmVyTGlzdDtJbi5leHBvcnRzPUVlO0luLmV4cG9ydHMuQnVmZmVyTGlzdFN0cmVhbT1FZTtJbi5leHBvcnRzLkJ1ZmZlckxpc3Q9bWk7fSk7dmFyIGhkPU0oKERCLGNkKT0+e3YoKTttKCk7XygpO3ZhciBqbz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuY21kPW51bGwsdGhpcy5yZXRhaW49ITEsdGhpcy5xb3M9MCx0aGlzLmR1cD0hMSx0aGlzLmxlbmd0aD0tMSx0aGlzLnRvcGljPW51bGwsdGhpcy5wYXlsb2FkPW51bGw7fX07Y2QuZXhwb3J0cz1qbzt9KTt2YXIgRm89TSgoUUIsZGQpPT57digpO20oKTtfKCk7dmFyIEw9ZGQuZXhwb3J0cyx7QnVmZmVyOk9lfT0oeWUoKSxYKF9lKSk7TC50eXBlcz17MDpcInJlc2VydmVkXCIsMTpcImNvbm5lY3RcIiwyOlwiY29ubmFja1wiLDM6XCJwdWJsaXNoXCIsNDpcInB1YmFja1wiLDU6XCJwdWJyZWNcIiw2OlwicHVicmVsXCIsNzpcInB1YmNvbXBcIiw4Olwic3Vic2NyaWJlXCIsOTpcInN1YmFja1wiLDEwOlwidW5zdWJzY3JpYmVcIiwxMTpcInVuc3ViYWNrXCIsMTI6XCJwaW5ncmVxXCIsMTM6XCJwaW5ncmVzcFwiLDE0OlwiZGlzY29ubmVjdFwiLDE1OlwiYXV0aFwifTtMLnJlcXVpcmVkSGVhZGVyRmxhZ3M9ezE6MCwyOjAsNDowLDU6MCw2OjIsNzowLDg6Miw5OjAsMTA6MiwxMTowLDEyOjAsMTM6MCwxNDowLDE1OjB9O0wucmVxdWlyZWRIZWFkZXJGbGFnc0Vycm9ycz17fTtmb3IobGV0IHQgaW4gTC5yZXF1aXJlZEhlYWRlckZsYWdzKXtsZXQgZT1MLnJlcXVpcmVkSGVhZGVyRmxhZ3NbdF07TC5yZXF1aXJlZEhlYWRlckZsYWdzRXJyb3JzW3RdPVwiSW52YWxpZCBoZWFkZXIgZmxhZyBiaXRzLCBtdXN0IGJlIDB4XCIrZS50b1N0cmluZygxNikrXCIgZm9yIFwiK0wudHlwZXNbdF0rXCIgcGFja2V0XCI7fUwuY29kZXM9e307Zm9yKGxldCB0IGluIEwudHlwZXMpe2xldCBlPUwudHlwZXNbdF07TC5jb2Rlc1tlXT10O31MLkNNRF9TSElGVD00O0wuQ01EX01BU0s9MjQwO0wuRFVQX01BU0s9ODtMLlFPU19NQVNLPTM7TC5RT1NfU0hJRlQ9MTtMLlJFVEFJTl9NQVNLPTE7TC5WQVJCWVRFSU5UX01BU0s9MTI3O0wuVkFSQllURUlOVF9GSU5fTUFTSz0xMjg7TC5WQVJCWVRFSU5UX01BWD0yNjg0MzU0NTU7TC5TRVNTSU9OUFJFU0VOVF9NQVNLPTE7TC5TRVNTSU9OUFJFU0VOVF9IRUFERVI9T2UuZnJvbShbTC5TRVNTSU9OUFJFU0VOVF9NQVNLXSk7TC5DT05OQUNLX0hFQURFUj1PZS5mcm9tKFtMLmNvZGVzLmNvbm5hY2s8PEwuQ01EX1NISUZUXSk7TC5VU0VSTkFNRV9NQVNLPTEyODtMLlBBU1NXT1JEX01BU0s9NjQ7TC5XSUxMX1JFVEFJTl9NQVNLPTMyO0wuV0lMTF9RT1NfTUFTSz0yNDtMLldJTExfUU9TX1NISUZUPTM7TC5XSUxMX0ZMQUdfTUFTSz00O0wuQ0xFQU5fU0VTU0lPTl9NQVNLPTI7TC5DT05ORUNUX0hFQURFUj1PZS5mcm9tKFtMLmNvZGVzLmNvbm5lY3Q8PEwuQ01EX1NISUZUXSk7TC5wcm9wZXJ0aWVzPXtzZXNzaW9uRXhwaXJ5SW50ZXJ2YWw6MTcsd2lsbERlbGF5SW50ZXJ2YWw6MjQscmVjZWl2ZU1heGltdW06MzMsbWF4aW11bVBhY2tldFNpemU6MzksdG9waWNBbGlhc01heGltdW06MzQscmVxdWVzdFJlc3BvbnNlSW5mb3JtYXRpb246MjUscmVxdWVzdFByb2JsZW1JbmZvcm1hdGlvbjoyMyx1c2VyUHJvcGVydGllczozOCxhdXRoZW50aWNhdGlvbk1ldGhvZDoyMSxhdXRoZW50aWNhdGlvbkRhdGE6MjIscGF5bG9hZEZvcm1hdEluZGljYXRvcjoxLG1lc3NhZ2VFeHBpcnlJbnRlcnZhbDoyLGNvbnRlbnRUeXBlOjMscmVzcG9uc2VUb3BpYzo4LGNvcnJlbGF0aW9uRGF0YTo5LG1heGltdW1Rb1M6MzYscmV0YWluQXZhaWxhYmxlOjM3LGFzc2lnbmVkQ2xpZW50SWRlbnRpZmllcjoxOCxyZWFzb25TdHJpbmc6MzEsd2lsZGNhcmRTdWJzY3JpcHRpb25BdmFpbGFibGU6NDAsc3Vic2NyaXB0aW9uSWRlbnRpZmllcnNBdmFpbGFibGU6NDEsc2hhcmVkU3Vic2NyaXB0aW9uQXZhaWxhYmxlOjQyLHNlcnZlcktlZXBBbGl2ZToxOSxyZXNwb25zZUluZm9ybWF0aW9uOjI2LHNlcnZlclJlZmVyZW5jZToyOCx0b3BpY0FsaWFzOjM1LHN1YnNjcmlwdGlvbklkZW50aWZpZXI6MTF9O0wucHJvcGVydGllc0NvZGVzPXt9O2ZvcihsZXQgdCBpbiBMLnByb3BlcnRpZXMpe2xldCBlPUwucHJvcGVydGllc1t0XTtMLnByb3BlcnRpZXNDb2Rlc1tlXT10O31MLnByb3BlcnRpZXNUeXBlcz17c2Vzc2lvbkV4cGlyeUludGVydmFsOlwiaW50MzJcIix3aWxsRGVsYXlJbnRlcnZhbDpcImludDMyXCIscmVjZWl2ZU1heGltdW06XCJpbnQxNlwiLG1heGltdW1QYWNrZXRTaXplOlwiaW50MzJcIix0b3BpY0FsaWFzTWF4aW11bTpcImludDE2XCIscmVxdWVzdFJlc3BvbnNlSW5mb3JtYXRpb246XCJieXRlXCIscmVxdWVzdFByb2JsZW1JbmZvcm1hdGlvbjpcImJ5dGVcIix1c2VyUHJvcGVydGllczpcInBhaXJcIixhdXRoZW50aWNhdGlvbk1ldGhvZDpcInN0cmluZ1wiLGF1dGhlbnRpY2F0aW9uRGF0YTpcImJpbmFyeVwiLHBheWxvYWRGb3JtYXRJbmRpY2F0b3I6XCJieXRlXCIsbWVzc2FnZUV4cGlyeUludGVydmFsOlwiaW50MzJcIixjb250ZW50VHlwZTpcInN0cmluZ1wiLHJlc3BvbnNlVG9waWM6XCJzdHJpbmdcIixjb3JyZWxhdGlvbkRhdGE6XCJiaW5hcnlcIixtYXhpbXVtUW9TOlwiaW50OFwiLHJldGFpbkF2YWlsYWJsZTpcImJ5dGVcIixhc3NpZ25lZENsaWVudElkZW50aWZpZXI6XCJzdHJpbmdcIixyZWFzb25TdHJpbmc6XCJzdHJpbmdcIix3aWxkY2FyZFN1YnNjcmlwdGlvbkF2YWlsYWJsZTpcImJ5dGVcIixzdWJzY3JpcHRpb25JZGVudGlmaWVyc0F2YWlsYWJsZTpcImJ5dGVcIixzaGFyZWRTdWJzY3JpcHRpb25BdmFpbGFibGU6XCJieXRlXCIsc2VydmVyS2VlcEFsaXZlOlwiaW50MTZcIixyZXNwb25zZUluZm9ybWF0aW9uOlwic3RyaW5nXCIsc2VydmVyUmVmZXJlbmNlOlwic3RyaW5nXCIsdG9waWNBbGlhczpcImludDE2XCIsc3Vic2NyaXB0aW9uSWRlbnRpZmllcjpcInZhclwifTtmdW5jdGlvbiBqdCh0KXtyZXR1cm4gWzAsMSwyXS5tYXAoZT0+WzAsMV0ubWFwKHI9PlswLDFdLm1hcChpPT57bGV0IG49T2UuYWxsb2MoMSk7cmV0dXJuIG4ud3JpdGVVSW50OChMLmNvZGVzW3RdPDxMLkNNRF9TSElGVHwocj9MLkRVUF9NQVNLOjApfGU8PEwuUU9TX1NISUZUfGksMCwhMCksbn0pKSl9TC5QVUJMSVNIX0hFQURFUj1qdChcInB1Ymxpc2hcIik7TC5TVUJTQ1JJQkVfSEVBREVSPWp0KFwic3Vic2NyaWJlXCIpO0wuU1VCU0NSSUJFX09QVElPTlNfUU9TX01BU0s9MztMLlNVQlNDUklCRV9PUFRJT05TX05MX01BU0s9MTtMLlNVQlNDUklCRV9PUFRJT05TX05MX1NISUZUPTI7TC5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfTUFTSz0xO0wuU1VCU0NSSUJFX09QVElPTlNfUkFQX1NISUZUPTM7TC5TVUJTQ1JJQkVfT1BUSU9OU19SSF9NQVNLPTM7TC5TVUJTQ1JJQkVfT1BUSU9OU19SSF9TSElGVD00O0wuU1VCU0NSSUJFX09QVElPTlNfUkg9WzAsMTYsMzJdO0wuU1VCU0NSSUJFX09QVElPTlNfTkw9NDtMLlNVQlNDUklCRV9PUFRJT05TX1JBUD04O0wuU1VCU0NSSUJFX09QVElPTlNfUU9TPVswLDEsMl07TC5VTlNVQlNDUklCRV9IRUFERVI9anQoXCJ1bnN1YnNjcmliZVwiKTtMLkFDS1M9e3Vuc3ViYWNrOmp0KFwidW5zdWJhY2tcIikscHViYWNrOmp0KFwicHViYWNrXCIpLHB1YmNvbXA6anQoXCJwdWJjb21wXCIpLHB1YnJlbDpqdChcInB1YnJlbFwiKSxwdWJyZWM6anQoXCJwdWJyZWNcIil9O0wuU1VCQUNLX0hFQURFUj1PZS5mcm9tKFtMLmNvZGVzLnN1YmFjazw8TC5DTURfU0hJRlRdKTtMLlZFUlNJT04zPU9lLmZyb20oWzNdKTtMLlZFUlNJT040PU9lLmZyb20oWzRdKTtMLlZFUlNJT041PU9lLmZyb20oWzVdKTtMLlZFUlNJT04xMzE9T2UuZnJvbShbMTMxXSk7TC5WRVJTSU9OMTMyPU9lLmZyb20oWzEzMl0pO0wuUU9TPVswLDEsMl0ubWFwKHQ9Pk9lLmZyb20oW3RdKSk7TC5FTVBUWT17cGluZ3JlcTpPZS5mcm9tKFtMLmNvZGVzLnBpbmdyZXE8PDQsMF0pLHBpbmdyZXNwOk9lLmZyb20oW0wuY29kZXMucGluZ3Jlc3A8PDQsMF0pLGRpc2Nvbm5lY3Q6T2UuZnJvbShbTC5jb2Rlcy5kaXNjb25uZWN0PDw0LDBdKX07TC5NUVRUNV9QVUJBQ0tfUFVCUkVDX0NPREVTPXswOlwiU3VjY2Vzc1wiLDE2OlwiTm8gbWF0Y2hpbmcgc3Vic2NyaWJlcnNcIiwxMjg6XCJVbnNwZWNpZmllZCBlcnJvclwiLDEzMTpcIkltcGxlbWVudGF0aW9uIHNwZWNpZmljIGVycm9yXCIsMTM1OlwiTm90IGF1dGhvcml6ZWRcIiwxNDQ6XCJUb3BpYyBOYW1lIGludmFsaWRcIiwxNDU6XCJQYWNrZXQgaWRlbnRpZmllciBpbiB1c2VcIiwxNTE6XCJRdW90YSBleGNlZWRlZFwiLDE1MzpcIlBheWxvYWQgZm9ybWF0IGludmFsaWRcIn07TC5NUVRUNV9QVUJSRUxfUFVCQ09NUF9DT0RFUz17MDpcIlN1Y2Nlc3NcIiwxNDY6XCJQYWNrZXQgSWRlbnRpZmllciBub3QgZm91bmRcIn07TC5NUVRUNV9TVUJBQ0tfQ09ERVM9ezA6XCJHcmFudGVkIFFvUyAwXCIsMTpcIkdyYW50ZWQgUW9TIDFcIiwyOlwiR3JhbnRlZCBRb1MgMlwiLDEyODpcIlVuc3BlY2lmaWVkIGVycm9yXCIsMTMxOlwiSW1wbGVtZW50YXRpb24gc3BlY2lmaWMgZXJyb3JcIiwxMzU6XCJOb3QgYXV0aG9yaXplZFwiLDE0MzpcIlRvcGljIEZpbHRlciBpbnZhbGlkXCIsMTQ1OlwiUGFja2V0IElkZW50aWZpZXIgaW4gdXNlXCIsMTUxOlwiUXVvdGEgZXhjZWVkZWRcIiwxNTg6XCJTaGFyZWQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCIsMTYxOlwiU3Vic2NyaXB0aW9uIElkZW50aWZpZXJzIG5vdCBzdXBwb3J0ZWRcIiwxNjI6XCJXaWxkY2FyZCBTdWJzY3JpcHRpb25zIG5vdCBzdXBwb3J0ZWRcIn07TC5NUVRUNV9VTlNVQkFDS19DT0RFUz17MDpcIlN1Y2Nlc3NcIiwxNzpcIk5vIHN1YnNjcmlwdGlvbiBleGlzdGVkXCIsMTI4OlwiVW5zcGVjaWZpZWQgZXJyb3JcIiwxMzE6XCJJbXBsZW1lbnRhdGlvbiBzcGVjaWZpYyBlcnJvclwiLDEzNTpcIk5vdCBhdXRob3JpemVkXCIsMTQzOlwiVG9waWMgRmlsdGVyIGludmFsaWRcIiwxNDU6XCJQYWNrZXQgSWRlbnRpZmllciBpbiB1c2VcIn07TC5NUVRUNV9ESVNDT05ORUNUX0NPREVTPXswOlwiTm9ybWFsIGRpc2Nvbm5lY3Rpb25cIiw0OlwiRGlzY29ubmVjdCB3aXRoIFdpbGwgTWVzc2FnZVwiLDEyODpcIlVuc3BlY2lmaWVkIGVycm9yXCIsMTI5OlwiTWFsZm9ybWVkIFBhY2tldFwiLDEzMDpcIlByb3RvY29sIEVycm9yXCIsMTMxOlwiSW1wbGVtZW50YXRpb24gc3BlY2lmaWMgZXJyb3JcIiwxMzU6XCJOb3QgYXV0aG9yaXplZFwiLDEzNzpcIlNlcnZlciBidXN5XCIsMTM5OlwiU2VydmVyIHNodXR0aW5nIGRvd25cIiwxNDE6XCJLZWVwIEFsaXZlIHRpbWVvdXRcIiwxNDI6XCJTZXNzaW9uIHRha2VuIG92ZXJcIiwxNDM6XCJUb3BpYyBGaWx0ZXIgaW52YWxpZFwiLDE0NDpcIlRvcGljIE5hbWUgaW52YWxpZFwiLDE0NzpcIlJlY2VpdmUgTWF4aW11bSBleGNlZWRlZFwiLDE0ODpcIlRvcGljIEFsaWFzIGludmFsaWRcIiwxNDk6XCJQYWNrZXQgdG9vIGxhcmdlXCIsMTUwOlwiTWVzc2FnZSByYXRlIHRvbyBoaWdoXCIsMTUxOlwiUXVvdGEgZXhjZWVkZWRcIiwxNTI6XCJBZG1pbmlzdHJhdGl2ZSBhY3Rpb25cIiwxNTM6XCJQYXlsb2FkIGZvcm1hdCBpbnZhbGlkXCIsMTU0OlwiUmV0YWluIG5vdCBzdXBwb3J0ZWRcIiwxNTU6XCJRb1Mgbm90IHN1cHBvcnRlZFwiLDE1NjpcIlVzZSBhbm90aGVyIHNlcnZlclwiLDE1NzpcIlNlcnZlciBtb3ZlZFwiLDE1ODpcIlNoYXJlZCBTdWJzY3JpcHRpb25zIG5vdCBzdXBwb3J0ZWRcIiwxNTk6XCJDb25uZWN0aW9uIHJhdGUgZXhjZWVkZWRcIiwxNjA6XCJNYXhpbXVtIGNvbm5lY3QgdGltZVwiLDE2MTpcIlN1YnNjcmlwdGlvbiBJZGVudGlmaWVycyBub3Qgc3VwcG9ydGVkXCIsMTYyOlwiV2lsZGNhcmQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCJ9O0wuTVFUVDVfQVVUSF9DT0RFUz17MDpcIlN1Y2Nlc3NcIiwyNDpcIkNvbnRpbnVlIGF1dGhlbnRpY2F0aW9uXCIsMjU6XCJSZS1hdXRoZW50aWNhdGVcIn07fSk7dmFyIGdkPU0oKHNQLHBkKT0+e3YoKTttKCk7XygpO3ZhciBWcj0xZTMsenI9VnIqNjAsS3I9enIqNjAsZ3I9S3IqMjQsYm09Z3IqNyx3bT1nciozNjUuMjU7cGQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIHI9dHlwZW9mIHQ7aWYocj09PVwic3RyaW5nXCImJnQubGVuZ3RoPjApcmV0dXJuIF9tKHQpO2lmKHI9PT1cIm51bWJlclwiJiZpc0Zpbml0ZSh0KSlyZXR1cm4gZS5sb25nP3ZtKHQpOm1tKHQpO3Rocm93IG5ldyBFcnJvcihcInZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9XCIrSlNPTi5zdHJpbmdpZnkodCkpfTtmdW5jdGlvbiBfbSh0KXtpZih0PVN0cmluZyh0KSwhKHQubGVuZ3RoPjEwMCkpe3ZhciBlPS9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyh0KTtpZihlKXt2YXIgcj1wYXJzZUZsb2F0KGVbMV0pLGk9KGVbMl18fFwibXNcIikudG9Mb3dlckNhc2UoKTtzd2l0Y2goaSl7Y2FzZVwieWVhcnNcIjpjYXNlXCJ5ZWFyXCI6Y2FzZVwieXJzXCI6Y2FzZVwieXJcIjpjYXNlXCJ5XCI6cmV0dXJuIHIqd207Y2FzZVwid2Vla3NcIjpjYXNlXCJ3ZWVrXCI6Y2FzZVwid1wiOnJldHVybiByKmJtO2Nhc2VcImRheXNcIjpjYXNlXCJkYXlcIjpjYXNlXCJkXCI6cmV0dXJuIHIqZ3I7Y2FzZVwiaG91cnNcIjpjYXNlXCJob3VyXCI6Y2FzZVwiaHJzXCI6Y2FzZVwiaHJcIjpjYXNlXCJoXCI6cmV0dXJuIHIqS3I7Y2FzZVwibWludXRlc1wiOmNhc2VcIm1pbnV0ZVwiOmNhc2VcIm1pbnNcIjpjYXNlXCJtaW5cIjpjYXNlXCJtXCI6cmV0dXJuIHIqenI7Y2FzZVwic2Vjb25kc1wiOmNhc2VcInNlY29uZFwiOmNhc2VcInNlY3NcIjpjYXNlXCJzZWNcIjpjYXNlXCJzXCI6cmV0dXJuIHIqVnI7Y2FzZVwibWlsbGlzZWNvbmRzXCI6Y2FzZVwibWlsbGlzZWNvbmRcIjpjYXNlXCJtc2Vjc1wiOmNhc2VcIm1zZWNcIjpjYXNlXCJtc1wiOnJldHVybiByO2RlZmF1bHQ6cmV0dXJufX19fWZ1bmN0aW9uIG1tKHQpe3ZhciBlPU1hdGguYWJzKHQpO3JldHVybiBlPj1ncj9NYXRoLnJvdW5kKHQvZ3IpK1wiZFwiOmU+PUtyP01hdGgucm91bmQodC9LcikrXCJoXCI6ZT49enI/TWF0aC5yb3VuZCh0L3pyKStcIm1cIjplPj1Wcj9NYXRoLnJvdW5kKHQvVnIpK1wic1wiOnQrXCJtc1wifWZ1bmN0aW9uIHZtKHQpe3ZhciBlPU1hdGguYWJzKHQpO3JldHVybiBlPj1ncj9Ubih0LGUsZ3IsXCJkYXlcIik6ZT49S3I/VG4odCxlLEtyLFwiaG91clwiKTplPj16cj9Ubih0LGUsenIsXCJtaW51dGVcIik6ZT49VnI/VG4odCxlLFZyLFwic2Vjb25kXCIpOnQrXCIgbXNcIn1mdW5jdGlvbiBUbih0LGUscixpKXt2YXIgbj1lPj1yKjEuNTtyZXR1cm4gTWF0aC5yb3VuZCh0L3IpK1wiIFwiK2krKG4/XCJzXCI6XCJcIil9fSk7dmFyIGJkPU0oKGdQLHlkKT0+e3YoKTttKCk7XygpO2Z1bmN0aW9uIEVtKHQpe3IuZGVidWc9cixyLmRlZmF1bHQ9cixyLmNvZXJjZT11LHIuZGlzYWJsZT1vLHIuZW5hYmxlPW4sci5lbmFibGVkPXMsci5odW1hbml6ZT1nZCgpLHIuZGVzdHJveT1jLE9iamVjdC5rZXlzKHQpLmZvckVhY2goaD0+e3JbaF09dFtoXTt9KSxyLm5hbWVzPVtdLHIuc2tpcHM9W10sci5mb3JtYXR0ZXJzPXt9O2Z1bmN0aW9uIGUoaCl7bGV0IGQ9MDtmb3IobGV0IGc9MDtnPGgubGVuZ3RoO2crKylkPShkPDw1KS1kK2guY2hhckNvZGVBdChnKSxkfD0wO3JldHVybiByLmNvbG9yc1tNYXRoLmFicyhkKSVyLmNvbG9ycy5sZW5ndGhdfXIuc2VsZWN0Q29sb3I9ZTtmdW5jdGlvbiByKGgpe2xldCBkLGc9bnVsbCx5LHc7ZnVuY3Rpb24gRSguLi5TKXtpZighRS5lbmFibGVkKXJldHVybjtsZXQgST1FLEM9TnVtYmVyKG5ldyBEYXRlKSxSPUMtKGR8fEMpO0kuZGlmZj1SLEkucHJldj1kLEkuY3Vycj1DLGQ9QyxTWzBdPXIuY29lcmNlKFNbMF0pLHR5cGVvZiBTWzBdIT1cInN0cmluZ1wiJiZTLnVuc2hpZnQoXCIlT1wiKTtsZXQgVT0wO1NbMF09U1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywoVyxLKT0+e2lmKFc9PT1cIiUlXCIpcmV0dXJuIFwiJVwiO1UrKztsZXQgej1yLmZvcm1hdHRlcnNbS107aWYodHlwZW9mIHo9PVwiZnVuY3Rpb25cIil7bGV0IFE9U1tVXTtXPXouY2FsbChJLFEpLFMuc3BsaWNlKFUsMSksVS0tO31yZXR1cm4gV30pLHIuZm9ybWF0QXJncy5jYWxsKEksUyksKEkubG9nfHxyLmxvZykuYXBwbHkoSSxTKTt9cmV0dXJuIEUubmFtZXNwYWNlPWgsRS51c2VDb2xvcnM9ci51c2VDb2xvcnMoKSxFLmNvbG9yPXIuc2VsZWN0Q29sb3IoaCksRS5leHRlbmQ9aSxFLmRlc3Ryb3k9ci5kZXN0cm95LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFLFwiZW5hYmxlZFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6KCk9PmchPT1udWxsP2c6KHkhPT1yLm5hbWVzcGFjZXMmJih5PXIubmFtZXNwYWNlcyx3PXIuZW5hYmxlZChoKSksdyksc2V0OlM9PntnPVM7fX0pLHR5cGVvZiByLmluaXQ9PVwiZnVuY3Rpb25cIiYmci5pbml0KEUpLEV9ZnVuY3Rpb24gaShoLGQpe2xldCBnPXIodGhpcy5uYW1lc3BhY2UrKHR5cGVvZiBkPlwidVwiP1wiOlwiOmQpK2gpO3JldHVybiBnLmxvZz10aGlzLmxvZyxnfWZ1bmN0aW9uIG4oaCl7ci5zYXZlKGgpLHIubmFtZXNwYWNlcz1oLHIubmFtZXM9W10sci5za2lwcz1bXTtsZXQgZCxnPSh0eXBlb2YgaD09XCJzdHJpbmdcIj9oOlwiXCIpLnNwbGl0KC9bXFxzLF0rLykseT1nLmxlbmd0aDtmb3IoZD0wO2Q8eTtkKyspZ1tkXSYmKGg9Z1tkXS5yZXBsYWNlKC9cXCovZyxcIi4qP1wiKSxoWzBdPT09XCItXCI/ci5za2lwcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIraC5zbGljZSgxKStcIiRcIikpOnIubmFtZXMucHVzaChuZXcgUmVnRXhwKFwiXlwiK2grXCIkXCIpKSk7fWZ1bmN0aW9uIG8oKXtsZXQgaD1bLi4uci5uYW1lcy5tYXAoYSksLi4uci5za2lwcy5tYXAoYSkubWFwKGQ9PlwiLVwiK2QpXS5qb2luKFwiLFwiKTtyZXR1cm4gci5lbmFibGUoXCJcIiksaH1mdW5jdGlvbiBzKGgpe2lmKGhbaC5sZW5ndGgtMV09PT1cIipcIilyZXR1cm4gITA7bGV0IGQsZztmb3IoZD0wLGc9ci5za2lwcy5sZW5ndGg7ZDxnO2QrKylpZihyLnNraXBzW2RdLnRlc3QoaCkpcmV0dXJuICExO2ZvcihkPTAsZz1yLm5hbWVzLmxlbmd0aDtkPGc7ZCsrKWlmKHIubmFtZXNbZF0udGVzdChoKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGEoaCl7cmV0dXJuIGgudG9TdHJpbmcoKS5zdWJzdHJpbmcoMixoLnRvU3RyaW5nKCkubGVuZ3RoLTIpLnJlcGxhY2UoL1xcLlxcKlxcPyQvLFwiKlwiKX1mdW5jdGlvbiB1KGgpe3JldHVybiBoIGluc3RhbmNlb2YgRXJyb3I/aC5zdGFja3x8aC5tZXNzYWdlOmh9ZnVuY3Rpb24gYygpe2NvbnNvbGUud2FybihcIkluc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC5cIik7fXJldHVybiByLmVuYWJsZShyLmxvYWQoKSkscn15ZC5leHBvcnRzPUVtO30pO3ZhciBvdD1NKCh4ZSxSbik9Pnt2KCk7bSgpO18oKTt4ZS5mb3JtYXRBcmdzPUFtO3hlLnNhdmU9SW07eGUubG9hZD1UbTt4ZS51c2VDb2xvcnM9U207eGUuc3RvcmFnZT1SbSgpO3hlLmRlc3Ryb3k9KCgpPT57bGV0IHQ9ITE7cmV0dXJuICgpPT57dHx8KHQ9ITAsY29uc29sZS53YXJuKFwiSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLlwiKSk7fX0pKCk7eGUuY29sb3JzPVtcIiMwMDAwQ0NcIixcIiMwMDAwRkZcIixcIiMwMDMzQ0NcIixcIiMwMDMzRkZcIixcIiMwMDY2Q0NcIixcIiMwMDY2RkZcIixcIiMwMDk5Q0NcIixcIiMwMDk5RkZcIixcIiMwMENDMDBcIixcIiMwMENDMzNcIixcIiMwMENDNjZcIixcIiMwMENDOTlcIixcIiMwMENDQ0NcIixcIiMwMENDRkZcIixcIiMzMzAwQ0NcIixcIiMzMzAwRkZcIixcIiMzMzMzQ0NcIixcIiMzMzMzRkZcIixcIiMzMzY2Q0NcIixcIiMzMzY2RkZcIixcIiMzMzk5Q0NcIixcIiMzMzk5RkZcIixcIiMzM0NDMDBcIixcIiMzM0NDMzNcIixcIiMzM0NDNjZcIixcIiMzM0NDOTlcIixcIiMzM0NDQ0NcIixcIiMzM0NDRkZcIixcIiM2NjAwQ0NcIixcIiM2NjAwRkZcIixcIiM2NjMzQ0NcIixcIiM2NjMzRkZcIixcIiM2NkNDMDBcIixcIiM2NkNDMzNcIixcIiM5OTAwQ0NcIixcIiM5OTAwRkZcIixcIiM5OTMzQ0NcIixcIiM5OTMzRkZcIixcIiM5OUNDMDBcIixcIiM5OUNDMzNcIixcIiNDQzAwMDBcIixcIiNDQzAwMzNcIixcIiNDQzAwNjZcIixcIiNDQzAwOTlcIixcIiNDQzAwQ0NcIixcIiNDQzAwRkZcIixcIiNDQzMzMDBcIixcIiNDQzMzMzNcIixcIiNDQzMzNjZcIixcIiNDQzMzOTlcIixcIiNDQzMzQ0NcIixcIiNDQzMzRkZcIixcIiNDQzY2MDBcIixcIiNDQzY2MzNcIixcIiNDQzk5MDBcIixcIiNDQzk5MzNcIixcIiNDQ0NDMDBcIixcIiNDQ0NDMzNcIixcIiNGRjAwMDBcIixcIiNGRjAwMzNcIixcIiNGRjAwNjZcIixcIiNGRjAwOTlcIixcIiNGRjAwQ0NcIixcIiNGRjAwRkZcIixcIiNGRjMzMDBcIixcIiNGRjMzMzNcIixcIiNGRjMzNjZcIixcIiNGRjMzOTlcIixcIiNGRjMzQ0NcIixcIiNGRjMzRkZcIixcIiNGRjY2MDBcIixcIiNGRjY2MzNcIixcIiNGRjk5MDBcIixcIiNGRjk5MzNcIixcIiNGRkNDMDBcIixcIiNGRkNDMzNcIl07ZnVuY3Rpb24gU20oKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzxcInVcIiYmd2luZG93LnByb2Nlc3MmJih3aW5kb3cucHJvY2Vzcy50eXBlPT09XCJyZW5kZXJlclwifHx3aW5kb3cucHJvY2Vzcy5fX253anMpPyEwOnR5cGVvZiBCPFwidVwiJiZCLnVzZXJBZ2VudCYmQi51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKT8hMTp0eXBlb2YgZG9jdW1lbnQ8XCJ1XCImJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZXx8dHlwZW9mIHdpbmRvdzxcInVcIiYmd2luZG93LmNvbnNvbGUmJih3aW5kb3cuY29uc29sZS5maXJlYnVnfHx3aW5kb3cuY29uc29sZS5leGNlcHRpb24mJndpbmRvdy5jb25zb2xlLnRhYmxlKXx8dHlwZW9mIEI8XCJ1XCImJkIudXNlckFnZW50JiZCLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykmJnBhcnNlSW50KFJlZ0V4cC4kMSwxMCk+PTMxfHx0eXBlb2YgQjxcInVcIiYmQi51c2VyQWdlbnQmJkIudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLyl9ZnVuY3Rpb24gQW0odCl7aWYodFswXT0odGhpcy51c2VDb2xvcnM/XCIlY1wiOlwiXCIpK3RoaXMubmFtZXNwYWNlKyh0aGlzLnVzZUNvbG9ycz9cIiAlY1wiOlwiIFwiKSt0WzBdKyh0aGlzLnVzZUNvbG9ycz9cIiVjIFwiOlwiIFwiKStcIitcIitSbi5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZiksIXRoaXMudXNlQ29sb3JzKXJldHVybjtsZXQgZT1cImNvbG9yOiBcIit0aGlzLmNvbG9yO3Quc3BsaWNlKDEsMCxlLFwiY29sb3I6IGluaGVyaXRcIik7bGV0IHI9MCxpPTA7dFswXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csbj0+e24hPT1cIiUlXCImJihyKyssbj09PVwiJWNcIiYmKGk9cikpO30pLHQuc3BsaWNlKGksMCxlKTt9eGUubG9nPWNvbnNvbGUuZGVidWd8fGNvbnNvbGUubG9nfHwoKCk9Pnt9KTtmdW5jdGlvbiBJbSh0KXt0cnl7dD94ZS5zdG9yYWdlLnNldEl0ZW0oXCJkZWJ1Z1wiLHQpOnhlLnN0b3JhZ2UucmVtb3ZlSXRlbShcImRlYnVnXCIpO31jYXRjaHt9fWZ1bmN0aW9uIFRtKCl7bGV0IHQ7dHJ5e3Q9eGUuc3RvcmFnZS5nZXRJdGVtKFwiZGVidWdcIik7fWNhdGNoe31yZXR1cm4gIXQmJnR5cGVvZiBQPFwidVwiJiZcImVudlwiaW4gUCYmKHQ9UC5lbnYuREVCVUcpLHR9ZnVuY3Rpb24gUm0oKXt0cnl7cmV0dXJuIGxvY2FsU3RvcmFnZX1jYXRjaHt9fVJuLmV4cG9ydHM9YmQoKSh4ZSk7dmFye2Zvcm1hdHRlcnM6Q219PVJuLmV4cG9ydHM7Q20uaj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfWNhdGNoKGUpe3JldHVybiBcIltVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiBcIitlLm1lc3NhZ2V9fTt9KTt2YXIgbWQ9TSgoTVAsX2QpPT57digpO20oKTtfKCk7dmFyIEJtPWZkKCkse0V2ZW50RW1pdHRlcjpQbX09KGlyKCksWChycikpLHdkPWhkKCksVj1GbygpLEQ9b3QoKShcIm1xdHQtcGFja2V0OnBhcnNlclwiKSxXbz1jbGFzcyB0IGV4dGVuZHMgUG17Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucGFyc2VyPXRoaXMuY29uc3RydWN0b3IucGFyc2VyO31zdGF0aWMgcGFyc2VyKGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgdD8odGhpcy5zZXR0aW5ncz1lfHx7fSx0aGlzLl9zdGF0ZXM9W1wiX3BhcnNlSGVhZGVyXCIsXCJfcGFyc2VMZW5ndGhcIixcIl9wYXJzZVBheWxvYWRcIixcIl9uZXdQYWNrZXRcIl0sdGhpcy5fcmVzZXRTdGF0ZSgpLHRoaXMpOm5ldyB0KCkucGFyc2VyKGUpfV9yZXNldFN0YXRlKCl7RChcIl9yZXNldFN0YXRlOiByZXNldHRpbmcgcGFja2V0LCBlcnJvciwgX2xpc3QsIGFuZCBfc3RhdGVDb3VudGVyXCIpLHRoaXMucGFja2V0PW5ldyB3ZCx0aGlzLmVycm9yPW51bGwsdGhpcy5fbGlzdD1CbSgpLHRoaXMuX3N0YXRlQ291bnRlcj0wO31wYXJzZShlKXtmb3IodGhpcy5lcnJvciYmdGhpcy5fcmVzZXRTdGF0ZSgpLHRoaXMuX2xpc3QuYXBwZW5kKGUpLEQoXCJwYXJzZTogY3VycmVudCBzdGF0ZTogJXNcIix0aGlzLl9zdGF0ZXNbdGhpcy5fc3RhdGVDb3VudGVyXSk7KHRoaXMucGFja2V0Lmxlbmd0aCE9PS0xfHx0aGlzLl9saXN0Lmxlbmd0aD4wKSYmdGhpc1t0aGlzLl9zdGF0ZXNbdGhpcy5fc3RhdGVDb3VudGVyXV0oKSYmIXRoaXMuZXJyb3I7KXRoaXMuX3N0YXRlQ291bnRlcisrLEQoXCJwYXJzZTogc3RhdGUgY29tcGxldGUuIF9zdGF0ZUNvdW50ZXIgaXMgbm93OiAlZFwiLHRoaXMuX3N0YXRlQ291bnRlciksRChcInBhcnNlOiBwYWNrZXQubGVuZ3RoOiAlZCwgYnVmZmVyIGxpc3QgbGVuZ3RoOiAlZFwiLHRoaXMucGFja2V0Lmxlbmd0aCx0aGlzLl9saXN0Lmxlbmd0aCksdGhpcy5fc3RhdGVDb3VudGVyPj10aGlzLl9zdGF0ZXMubGVuZ3RoJiYodGhpcy5fc3RhdGVDb3VudGVyPTApO3JldHVybiBEKFwicGFyc2U6IGV4aXRlZCB3aGlsZSBsb29wLiBwYWNrZXQ6ICVkLCBidWZmZXIgbGlzdCBsZW5ndGg6ICVkXCIsdGhpcy5wYWNrZXQubGVuZ3RoLHRoaXMuX2xpc3QubGVuZ3RoKSx0aGlzLl9saXN0Lmxlbmd0aH1fcGFyc2VIZWFkZXIoKXtsZXQgZT10aGlzLl9saXN0LnJlYWRVSW50OCgwKSxyPWU+PlYuQ01EX1NISUZUO3RoaXMucGFja2V0LmNtZD1WLnR5cGVzW3JdO2xldCBpPWUmMTUsbj1WLnJlcXVpcmVkSGVhZGVyRmxhZ3Nbcl07cmV0dXJuIG4hPW51bGwmJmkhPT1uP3RoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoVi5yZXF1aXJlZEhlYWRlckZsYWdzRXJyb3JzW3JdKSk6KHRoaXMucGFja2V0LnJldGFpbj0oZSZWLlJFVEFJTl9NQVNLKSE9PTAsdGhpcy5wYWNrZXQucW9zPWU+PlYuUU9TX1NISUZUJlYuUU9TX01BU0ssdGhpcy5wYWNrZXQucW9zPjI/dGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlBhY2tldCBtdXN0IG5vdCBoYXZlIGJvdGggUW9TIGJpdHMgc2V0IHRvIDFcIikpOih0aGlzLnBhY2tldC5kdXA9KGUmVi5EVVBfTUFTSykhPT0wLEQoXCJfcGFyc2VIZWFkZXI6IHBhY2tldDogJW9cIix0aGlzLnBhY2tldCksdGhpcy5fbGlzdC5jb25zdW1lKDEpLCEwKSl9X3BhcnNlTGVuZ3RoKCl7bGV0IGU9dGhpcy5fcGFyc2VWYXJCeXRlTnVtKCEwKTtyZXR1cm4gZSYmKHRoaXMucGFja2V0Lmxlbmd0aD1lLnZhbHVlLHRoaXMuX2xpc3QuY29uc3VtZShlLmJ5dGVzKSksRChcIl9wYXJzZUxlbmd0aCAlZFwiLGUudmFsdWUpLCEhZX1fcGFyc2VQYXlsb2FkKCl7RChcIl9wYXJzZVBheWxvYWQ6IHBheWxvYWQgJU9cIix0aGlzLl9saXN0KTtsZXQgZT0hMTtpZih0aGlzLnBhY2tldC5sZW5ndGg9PT0wfHx0aGlzLl9saXN0Lmxlbmd0aD49dGhpcy5wYWNrZXQubGVuZ3RoKXtzd2l0Y2godGhpcy5fcG9zPTAsdGhpcy5wYWNrZXQuY21kKXtjYXNlXCJjb25uZWN0XCI6dGhpcy5fcGFyc2VDb25uZWN0KCk7YnJlYWs7Y2FzZVwiY29ubmFja1wiOnRoaXMuX3BhcnNlQ29ubmFjaygpO2JyZWFrO2Nhc2VcInB1Ymxpc2hcIjp0aGlzLl9wYXJzZVB1Ymxpc2goKTticmVhaztjYXNlXCJwdWJhY2tcIjpjYXNlXCJwdWJyZWNcIjpjYXNlXCJwdWJyZWxcIjpjYXNlXCJwdWJjb21wXCI6dGhpcy5fcGFyc2VDb25maXJtYXRpb24oKTticmVhaztjYXNlXCJzdWJzY3JpYmVcIjp0aGlzLl9wYXJzZVN1YnNjcmliZSgpO2JyZWFrO2Nhc2VcInN1YmFja1wiOnRoaXMuX3BhcnNlU3ViYWNrKCk7YnJlYWs7Y2FzZVwidW5zdWJzY3JpYmVcIjp0aGlzLl9wYXJzZVVuc3Vic2NyaWJlKCk7YnJlYWs7Y2FzZVwidW5zdWJhY2tcIjp0aGlzLl9wYXJzZVVuc3ViYWNrKCk7YnJlYWs7Y2FzZVwicGluZ3JlcVwiOmNhc2VcInBpbmdyZXNwXCI6YnJlYWs7Y2FzZVwiZGlzY29ubmVjdFwiOnRoaXMuX3BhcnNlRGlzY29ubmVjdCgpO2JyZWFrO2Nhc2VcImF1dGhcIjp0aGlzLl9wYXJzZUF1dGgoKTticmVhaztkZWZhdWx0OnRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkXCIpKTt9ZT0hMDt9cmV0dXJuIEQoXCJfcGFyc2VQYXlsb2FkIGNvbXBsZXRlIHJlc3VsdDogJXNcIixlKSxlfV9wYXJzZUNvbm5lY3QoKXtEKFwiX3BhcnNlQ29ubmVjdFwiKTtsZXQgZSxyLGksbixvPXt9LHM9dGhpcy5wYWNrZXQsYT10aGlzLl9wYXJzZVN0cmluZygpO2lmKGE9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHByb3RvY29sSWRcIikpO2lmKGEhPT1cIk1RVFRcIiYmYSE9PVwiTVFJc2RwXCIpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3RvY29sSWRcIikpO2lmKHMucHJvdG9jb2xJZD1hLHRoaXMuX3Bvcz49dGhpcy5fbGlzdC5sZW5ndGgpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJQYWNrZXQgdG9vIHNob3J0XCIpKTtpZihzLnByb3RvY29sVmVyc2lvbj10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpLHMucHJvdG9jb2xWZXJzaW9uPj0xMjgmJihzLmJyaWRnZU1vZGU9ITAscy5wcm90b2NvbFZlcnNpb249cy5wcm90b2NvbFZlcnNpb24tMTI4KSxzLnByb3RvY29sVmVyc2lvbiE9PTMmJnMucHJvdG9jb2xWZXJzaW9uIT09NCYmcy5wcm90b2NvbFZlcnNpb24hPT01KXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBwcm90b2NvbCB2ZXJzaW9uXCIpKTtpZih0aGlzLl9wb3MrKyx0aGlzLl9wb3M+PXRoaXMuX2xpc3QubGVuZ3RoKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiUGFja2V0IHRvbyBzaG9ydFwiKSk7aWYodGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSYxKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ29ubmVjdCBmbGFnIGJpdCAwIG11c3QgYmUgMCwgYnV0IGdvdCAxXCIpKTtvLnVzZXJuYW1lPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmVi5VU0VSTkFNRV9NQVNLLG8ucGFzc3dvcmQ9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSZWLlBBU1NXT1JEX01BU0ssby53aWxsPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmVi5XSUxMX0ZMQUdfTUFTSztsZXQgdT0hISh0aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpJlYuV0lMTF9SRVRBSU5fTUFTSyksYz0odGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSZWLldJTExfUU9TX01BU0spPj5WLldJTExfUU9TX1NISUZUO2lmKG8ud2lsbClzLndpbGw9e30scy53aWxsLnJldGFpbj11LHMud2lsbC5xb3M9YztlbHNlIHtpZih1KXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiV2lsbCBSZXRhaW4gRmxhZyBtdXN0IGJlIHNldCB0byB6ZXJvIHdoZW4gV2lsbCBGbGFnIGlzIHNldCB0byAwXCIpKTtpZihjKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiV2lsbCBRb1MgbXVzdCBiZSBzZXQgdG8gemVybyB3aGVuIFdpbGwgRmxhZyBpcyBzZXQgdG8gMFwiKSl9aWYocy5jbGVhbj0odGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSZWLkNMRUFOX1NFU1NJT05fTUFTSykhPT0wLHRoaXMuX3BvcysrLHMua2VlcGFsaXZlPXRoaXMuX3BhcnNlTnVtKCkscy5rZWVwYWxpdmU9PT0tMSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlBhY2tldCB0b28gc2hvcnRcIikpO2lmKHMucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IGQ9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZCkubGVuZ3RoJiYocy5wcm9wZXJ0aWVzPWQpO31sZXQgaD10aGlzLl9wYXJzZVN0cmluZygpO2lmKGg9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiUGFja2V0IHRvbyBzaG9ydFwiKSk7aWYocy5jbGllbnRJZD1oLEQoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQuY2xpZW50SWQ6ICVzXCIscy5jbGllbnRJZCksby53aWxsKXtpZihzLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCBkPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGQpLmxlbmd0aCYmKHMud2lsbC5wcm9wZXJ0aWVzPWQpO31pZihlPXRoaXMuX3BhcnNlU3RyaW5nKCksZT09PW51bGwpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2Ugd2lsbCB0b3BpY1wiKSk7aWYocy53aWxsLnRvcGljPWUsRChcIl9wYXJzZUNvbm5lY3Q6IHBhY2tldC53aWxsLnRvcGljOiAlc1wiLHMud2lsbC50b3BpYykscj10aGlzLl9wYXJzZUJ1ZmZlcigpLHI9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHdpbGwgcGF5bG9hZFwiKSk7cy53aWxsLnBheWxvYWQ9cixEKFwiX3BhcnNlQ29ubmVjdDogcGFja2V0LndpbGwucGF5bGFvZDogJXNcIixzLndpbGwucGF5bG9hZCk7fWlmKG8udXNlcm5hbWUpe2lmKG49dGhpcy5fcGFyc2VTdHJpbmcoKSxuPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB1c2VybmFtZVwiKSk7cy51c2VybmFtZT1uLEQoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQudXNlcm5hbWU6ICVzXCIscy51c2VybmFtZSk7fWlmKG8ucGFzc3dvcmQpe2lmKGk9dGhpcy5fcGFyc2VCdWZmZXIoKSxpPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBwYXNzd29yZFwiKSk7cy5wYXNzd29yZD1pO31yZXR1cm4gdGhpcy5zZXR0aW5ncz1zLEQoXCJfcGFyc2VDb25uZWN0OiBjb21wbGV0ZVwiKSxzfV9wYXJzZUNvbm5hY2soKXtEKFwiX3BhcnNlQ29ubmFja1wiKTtsZXQgZT10aGlzLnBhY2tldDtpZih0aGlzLl9saXN0Lmxlbmd0aDwxKXJldHVybiBudWxsO2xldCByPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKTtpZihyPjEpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbm5hY2sgZmxhZ3MsIGJpdHMgNy0xIG11c3QgYmUgc2V0IHRvIDBcIikpO2lmKGUuc2Vzc2lvblByZXNlbnQ9ISEociZWLlNFU1NJT05QUkVTRU5UX01BU0spLHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl0aGlzLl9saXN0Lmxlbmd0aD49Mj9lLnJlYXNvbkNvZGU9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKyspOmUucmVhc29uQ29kZT0wO2Vsc2Uge2lmKHRoaXMuX2xpc3QubGVuZ3RoPDIpcmV0dXJuIG51bGw7ZS5yZXR1cm5Db2RlPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKTt9aWYoZS5yZXR1cm5Db2RlPT09LTF8fGUucmVhc29uQ29kZT09PS0xKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHJldHVybiBjb2RlXCIpKTtpZih0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCBpPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLmxlbmd0aCYmKGUucHJvcGVydGllcz1pKTt9RChcIl9wYXJzZUNvbm5hY2s6IGNvbXBsZXRlXCIpO31fcGFyc2VQdWJsaXNoKCl7RChcIl9wYXJzZVB1Ymxpc2hcIik7bGV0IGU9dGhpcy5wYWNrZXQ7aWYoZS50b3BpYz10aGlzLl9wYXJzZVN0cmluZygpLGUudG9waWM9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHRvcGljXCIpKTtpZighKGUucW9zPjAmJiF0aGlzLl9wYXJzZU1lc3NhZ2VJZCgpKSl7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9cik7fWUucGF5bG9hZD10aGlzLl9saXN0LnNsaWNlKHRoaXMuX3BvcyxlLmxlbmd0aCksRChcIl9wYXJzZVB1Ymxpc2g6IHBheWxvYWQgZnJvbSBidWZmZXIgbGlzdDogJW9cIixlLnBheWxvYWQpO319X3BhcnNlU3Vic2NyaWJlKCl7RChcIl9wYXJzZVN1YnNjcmliZVwiKTtsZXQgZT10aGlzLnBhY2tldCxyLGksbixvLHMsYSx1O2lmKGUuc3Vic2NyaXB0aW9ucz1bXSwhIXRoaXMuX3BhcnNlTWVzc2FnZUlkKCkpe2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IGM9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYykubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPWMpO31pZihlLmxlbmd0aDw9MClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCBzdWJzY3JpYmUsIG5vIHBheWxvYWQgc3BlY2lmaWVkXCIpKTtmb3IoO3RoaXMuX3BvczxlLmxlbmd0aDspe2lmKHI9dGhpcy5fcGFyc2VTdHJpbmcoKSxyPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB0b3BpY1wiKSk7aWYodGhpcy5fcG9zPj1lLmxlbmd0aClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCBTdWJzY3JpYmUgUGF5bG9hZFwiKSk7aWYoaT10aGlzLl9wYXJzZUJ5dGUoKSx0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2lmKGkmMTkyKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpYmUgdG9waWMgZmxhZyBiaXRzLCBiaXRzIDctNiBtdXN0IGJlIDBcIikpfWVsc2UgaWYoaSYyNTIpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmliZSB0b3BpYyBmbGFnIGJpdHMsIGJpdHMgNy0yIG11c3QgYmUgMFwiKSk7aWYobj1pJlYuU1VCU0NSSUJFX09QVElPTlNfUU9TX01BU0ssbj4yKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpYmUgUW9TLCBtdXN0IGJlIDw9IDJcIikpO2lmKGE9KGk+PlYuU1VCU0NSSUJFX09QVElPTlNfTkxfU0hJRlQmVi5TVUJTQ1JJQkVfT1BUSU9OU19OTF9NQVNLKSE9PTAscz0oaT4+Vi5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfU0hJRlQmVi5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfTUFTSykhPT0wLG89aT4+Vi5TVUJTQ1JJQkVfT1BUSU9OU19SSF9TSElGVCZWLlNVQlNDUklCRV9PUFRJT05TX1JIX01BU0ssbz4yKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCByZXRhaW4gaGFuZGxpbmcsIG11c3QgYmUgPD0gMlwiKSk7dT17dG9waWM6cixxb3M6bn0sdGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01Pyh1Lm5sPWEsdS5yYXA9cyx1LnJoPW8pOnRoaXMuc2V0dGluZ3MuYnJpZGdlTW9kZSYmKHUucmg9MCx1LnJhcD0hMCx1Lm5sPSEwKSxEKFwiX3BhcnNlU3Vic2NyaWJlOiBwdXNoIHN1YnNjcmlwdGlvbiBgJXNgIHRvIHN1YnNjcmlwdGlvblwiLHUpLGUuc3Vic2NyaXB0aW9ucy5wdXNoKHUpO319fV9wYXJzZVN1YmFjaygpe0QoXCJfcGFyc2VTdWJhY2tcIik7bGV0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5wYWNrZXQuZ3JhbnRlZD1bXSwhIXRoaXMuX3BhcnNlTWVzc2FnZUlkKCkpe2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IHI9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpO31pZihlLmxlbmd0aDw9MClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCBzdWJhY2ssIG5vIHBheWxvYWQgc3BlY2lmaWVkXCIpKTtmb3IoO3RoaXMuX3Bvczx0aGlzLnBhY2tldC5sZW5ndGg7KXtsZXQgcj10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MrKyk7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtpZighVi5NUVRUNV9TVUJBQ0tfQ09ERVNbcl0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YmFjayBjb2RlXCIpKX1lbHNlIGlmKHI+MiYmciE9PTEyOClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgc3ViYWNrIFFvUywgbXVzdCBiZSAwLCAxLCAyIG9yIDEyOFwiKSk7dGhpcy5wYWNrZXQuZ3JhbnRlZC5wdXNoKHIpO319fV9wYXJzZVVuc3Vic2NyaWJlKCl7RChcIl9wYXJzZVVuc3Vic2NyaWJlXCIpO2xldCBlPXRoaXMucGFja2V0O2lmKGUudW5zdWJzY3JpcHRpb25zPVtdLCEhdGhpcy5fcGFyc2VNZXNzYWdlSWQoKSl7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9cik7fWlmKGUubGVuZ3RoPD0wKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTWFsZm9ybWVkIHVuc3Vic2NyaWJlLCBubyBwYXlsb2FkIHNwZWNpZmllZFwiKSk7Zm9yKDt0aGlzLl9wb3M8ZS5sZW5ndGg7KXtsZXQgcj10aGlzLl9wYXJzZVN0cmluZygpO2lmKHI9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHRvcGljXCIpKTtEKFwiX3BhcnNlVW5zdWJzY3JpYmU6IHB1c2ggdG9waWMgYCVzYCB0byB1bnN1YnNjcmlwdGlvbnNcIixyKSxlLnVuc3Vic2NyaXB0aW9ucy5wdXNoKHIpO319fV9wYXJzZVVuc3ViYWNrKCl7RChcIl9wYXJzZVVuc3ViYWNrXCIpO2xldCBlPXRoaXMucGFja2V0O2lmKCF0aGlzLl9wYXJzZU1lc3NhZ2VJZCgpKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIG1lc3NhZ2VJZFwiKSk7aWYoKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09M3x8dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT00KSYmZS5sZW5ndGghPT0yKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTWFsZm9ybWVkIHVuc3ViYWNrLCBwYXlsb2FkIGxlbmd0aCBtdXN0IGJlIDJcIikpO2lmKGUubGVuZ3RoPD0wKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTWFsZm9ybWVkIHVuc3ViYWNrLCBubyBwYXlsb2FkIHNwZWNpZmllZFwiKSk7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtmb3IoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpLGUuZ3JhbnRlZD1bXTt0aGlzLl9wb3M8dGhpcy5wYWNrZXQubGVuZ3RoOyl7bGV0IGk9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKyspO2lmKCFWLk1RVFQ1X1VOU1VCQUNLX0NPREVTW2ldKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YmFjayBjb2RlXCIpKTt0aGlzLnBhY2tldC5ncmFudGVkLnB1c2goaSk7fX19X3BhcnNlQ29uZmlybWF0aW9uKCl7RChcIl9wYXJzZUNvbmZpcm1hdGlvbjogcGFja2V0LmNtZDogYCVzYFwiLHRoaXMucGFja2V0LmNtZCk7bGV0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5fcGFyc2VNZXNzYWdlSWQoKSx0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2lmKGUubGVuZ3RoPjIpe3N3aXRjaChlLnJlYXNvbkNvZGU9dGhpcy5fcGFyc2VCeXRlKCksdGhpcy5wYWNrZXQuY21kKXtjYXNlXCJwdWJhY2tcIjpjYXNlXCJwdWJyZWNcIjppZighVi5NUVRUNV9QVUJBQ0tfUFVCUkVDX0NPREVTW2UucmVhc29uQ29kZV0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIFwiK3RoaXMucGFja2V0LmNtZCtcIiByZWFzb24gY29kZVwiKSk7YnJlYWs7Y2FzZVwicHVicmVsXCI6Y2FzZVwicHViY29tcFwiOmlmKCFWLk1RVFQ1X1BVQlJFTF9QVUJDT01QX0NPREVTW2UucmVhc29uQ29kZV0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIFwiK3RoaXMucGFja2V0LmNtZCtcIiByZWFzb24gY29kZVwiKSk7YnJlYWt9RChcIl9wYXJzZUNvbmZpcm1hdGlvbjogcGFja2V0LnJlYXNvbkNvZGUgYCVkYFwiLGUucmVhc29uQ29kZSk7fWVsc2UgZS5yZWFzb25Db2RlPTA7aWYoZS5sZW5ndGg+Myl7bGV0IHI9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpO319cmV0dXJuICEwfV9wYXJzZURpc2Nvbm5lY3QoKXtsZXQgZT10aGlzLnBhY2tldDtpZihEKFwiX3BhcnNlRGlzY29ubmVjdFwiKSx0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe3RoaXMuX2xpc3QubGVuZ3RoPjA/KGUucmVhc29uQ29kZT10aGlzLl9wYXJzZUJ5dGUoKSxWLk1RVFQ1X0RJU0NPTk5FQ1RfQ09ERVNbZS5yZWFzb25Db2RlXXx8dGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgZGlzY29ubmVjdCByZWFzb24gY29kZVwiKSkpOmUucmVhc29uQ29kZT0wO2xldCByPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmxlbmd0aCYmKGUucHJvcGVydGllcz1yKTt9cmV0dXJuIEQoXCJfcGFyc2VEaXNjb25uZWN0IHJlc3VsdDogdHJ1ZVwiKSwhMH1fcGFyc2VBdXRoKCl7RChcIl9wYXJzZUF1dGhcIik7bGV0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24hPT01KXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZCBhdXRoIHBhY2tldCBmb3IgdGhpcyB2ZXJzaW9uIE1RVFRcIikpO2lmKGUucmVhc29uQ29kZT10aGlzLl9wYXJzZUJ5dGUoKSwhVi5NUVRUNV9BVVRIX0NPREVTW2UucmVhc29uQ29kZV0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIGF1dGggcmVhc29uIGNvZGVcIikpO2xldCByPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9ciksRChcIl9wYXJzZUF1dGg6IHJlc3VsdDogdHJ1ZVwiKSwhMH1fcGFyc2VNZXNzYWdlSWQoKXtsZXQgZT10aGlzLnBhY2tldDtyZXR1cm4gZS5tZXNzYWdlSWQ9dGhpcy5fcGFyc2VOdW0oKSxlLm1lc3NhZ2VJZD09PW51bGw/KHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgbWVzc2FnZUlkXCIpKSwhMSk6KEQoXCJfcGFyc2VNZXNzYWdlSWQ6IHBhY2tldC5tZXNzYWdlSWQgJWRcIixlLm1lc3NhZ2VJZCksITApfV9wYXJzZVN0cmluZyhlKXtsZXQgcj10aGlzLl9wYXJzZU51bSgpLGk9cit0aGlzLl9wb3M7aWYocj09PS0xfHxpPnRoaXMuX2xpc3QubGVuZ3RofHxpPnRoaXMucGFja2V0Lmxlbmd0aClyZXR1cm4gbnVsbDtsZXQgbj10aGlzLl9saXN0LnRvU3RyaW5nKFwidXRmOFwiLHRoaXMuX3BvcyxpKTtyZXR1cm4gdGhpcy5fcG9zKz1yLEQoXCJfcGFyc2VTdHJpbmc6IHJlc3VsdDogJXNcIixuKSxufV9wYXJzZVN0cmluZ1BhaXIoKXtyZXR1cm4gRChcIl9wYXJzZVN0cmluZ1BhaXJcIikse25hbWU6dGhpcy5fcGFyc2VTdHJpbmcoKSx2YWx1ZTp0aGlzLl9wYXJzZVN0cmluZygpfX1fcGFyc2VCdWZmZXIoKXtsZXQgZT10aGlzLl9wYXJzZU51bSgpLHI9ZSt0aGlzLl9wb3M7aWYoZT09PS0xfHxyPnRoaXMuX2xpc3QubGVuZ3RofHxyPnRoaXMucGFja2V0Lmxlbmd0aClyZXR1cm4gbnVsbDtsZXQgaT10aGlzLl9saXN0LnNsaWNlKHRoaXMuX3BvcyxyKTtyZXR1cm4gdGhpcy5fcG9zKz1lLEQoXCJfcGFyc2VCdWZmZXI6IHJlc3VsdDogJW9cIixpKSxpfV9wYXJzZU51bSgpe2lmKHRoaXMuX2xpc3QubGVuZ3RoLXRoaXMuX3BvczwyKXJldHVybiAtMTtsZXQgZT10aGlzLl9saXN0LnJlYWRVSW50MTZCRSh0aGlzLl9wb3MpO3JldHVybiB0aGlzLl9wb3MrPTIsRChcIl9wYXJzZU51bTogcmVzdWx0OiAlc1wiLGUpLGV9X3BhcnNlNEJ5dGVOdW0oKXtpZih0aGlzLl9saXN0Lmxlbmd0aC10aGlzLl9wb3M8NClyZXR1cm4gLTE7bGV0IGU9dGhpcy5fbGlzdC5yZWFkVUludDMyQkUodGhpcy5fcG9zKTtyZXR1cm4gdGhpcy5fcG9zKz00LEQoXCJfcGFyc2U0Qnl0ZU51bTogcmVzdWx0OiAlc1wiLGUpLGV9X3BhcnNlVmFyQnl0ZU51bShlKXtEKFwiX3BhcnNlVmFyQnl0ZU51bVwiKTtsZXQgcj00LGk9MCxuPTEsbz0wLHM9ITEsYSx1PXRoaXMuX3Bvcz90aGlzLl9wb3M6MDtmb3IoO2k8ciYmdStpPHRoaXMuX2xpc3QubGVuZ3RoOyl7aWYoYT10aGlzLl9saXN0LnJlYWRVSW50OCh1K2krKyksbys9biooYSZWLlZBUkJZVEVJTlRfTUFTSyksbio9MTI4LCEoYSZWLlZBUkJZVEVJTlRfRklOX01BU0spKXtzPSEwO2JyZWFrfWlmKHRoaXMuX2xpc3QubGVuZ3RoPD1pKWJyZWFrfXJldHVybiAhcyYmaT09PXImJnRoaXMuX2xpc3QubGVuZ3RoPj1pJiZ0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCB2YXJpYWJsZSBieXRlIGludGVnZXJcIikpLHUmJih0aGlzLl9wb3MrPWkpLHM/ZT9zPXtieXRlczppLHZhbHVlOm99OnM9bzpzPSExLEQoXCJfcGFyc2VWYXJCeXRlTnVtOiByZXN1bHQ6ICVvXCIscyksc31fcGFyc2VCeXRlKCl7bGV0IGU7cmV0dXJuIHRoaXMuX3Bvczx0aGlzLl9saXN0Lmxlbmd0aCYmKGU9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSx0aGlzLl9wb3MrKyksRChcIl9wYXJzZUJ5dGU6IHJlc3VsdDogJW9cIixlKSxlfV9wYXJzZUJ5VHlwZShlKXtzd2l0Y2goRChcIl9wYXJzZUJ5VHlwZTogdHlwZTogJXNcIixlKSxlKXtjYXNlXCJieXRlXCI6cmV0dXJuIHRoaXMuX3BhcnNlQnl0ZSgpIT09MDtjYXNlXCJpbnQ4XCI6cmV0dXJuIHRoaXMuX3BhcnNlQnl0ZSgpO2Nhc2VcImludDE2XCI6cmV0dXJuIHRoaXMuX3BhcnNlTnVtKCk7Y2FzZVwiaW50MzJcIjpyZXR1cm4gdGhpcy5fcGFyc2U0Qnl0ZU51bSgpO2Nhc2VcInZhclwiOnJldHVybiB0aGlzLl9wYXJzZVZhckJ5dGVOdW0oKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdGhpcy5fcGFyc2VTdHJpbmcoKTtjYXNlXCJwYWlyXCI6cmV0dXJuIHRoaXMuX3BhcnNlU3RyaW5nUGFpcigpO2Nhc2VcImJpbmFyeVwiOnJldHVybiB0aGlzLl9wYXJzZUJ1ZmZlcigpfX1fcGFyc2VQcm9wZXJ0aWVzKCl7RChcIl9wYXJzZVByb3BlcnRpZXNcIik7bGV0IGU9dGhpcy5fcGFyc2VWYXJCeXRlTnVtKCksaT10aGlzLl9wb3MrZSxuPXt9O2Zvcig7dGhpcy5fcG9zPGk7KXtsZXQgbz10aGlzLl9wYXJzZUJ5dGUoKTtpZighbylyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBwcm9wZXJ0eSBjb2RlIHR5cGVcIikpLCExO2xldCBzPVYucHJvcGVydGllc0NvZGVzW29dO2lmKCFzKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiVW5rbm93biBwcm9wZXJ0eVwiKSksITE7aWYocz09PVwidXNlclByb3BlcnRpZXNcIil7bltzXXx8KG5bc109T2JqZWN0LmNyZWF0ZShudWxsKSk7bGV0IGE9dGhpcy5fcGFyc2VCeVR5cGUoVi5wcm9wZXJ0aWVzVHlwZXNbc10pO2lmKG5bc11bYS5uYW1lXSlpZihBcnJheS5pc0FycmF5KG5bc11bYS5uYW1lXSkpbltzXVthLm5hbWVdLnB1c2goYS52YWx1ZSk7ZWxzZSB7bGV0IHU9bltzXVthLm5hbWVdO25bc11bYS5uYW1lXT1bdV0sbltzXVthLm5hbWVdLnB1c2goYS52YWx1ZSk7fWVsc2UgbltzXVthLm5hbWVdPWEudmFsdWU7Y29udGludWV9bltzXT9BcnJheS5pc0FycmF5KG5bc10pP25bc10ucHVzaCh0aGlzLl9wYXJzZUJ5VHlwZShWLnByb3BlcnRpZXNUeXBlc1tzXSkpOihuW3NdPVtuW3NdXSxuW3NdLnB1c2godGhpcy5fcGFyc2VCeVR5cGUoVi5wcm9wZXJ0aWVzVHlwZXNbc10pKSk6bltzXT10aGlzLl9wYXJzZUJ5VHlwZShWLnByb3BlcnRpZXNUeXBlc1tzXSk7fXJldHVybiBufV9uZXdQYWNrZXQoKXtyZXR1cm4gRChcIl9uZXdQYWNrZXRcIiksdGhpcy5wYWNrZXQmJih0aGlzLl9saXN0LmNvbnN1bWUodGhpcy5wYWNrZXQubGVuZ3RoKSxEKFwiX25ld1BhY2tldDogcGFyc2VyIGVtaXQgcGFja2V0OiBwYWNrZXQuY21kOiAlcywgcGFja2V0LnBheWxvYWQ6ICVzLCBwYWNrZXQubGVuZ3RoOiAlZFwiLHRoaXMucGFja2V0LmNtZCx0aGlzLnBhY2tldC5wYXlsb2FkLHRoaXMucGFja2V0Lmxlbmd0aCksdGhpcy5lbWl0KFwicGFja2V0XCIsdGhpcy5wYWNrZXQpKSxEKFwiX25ld1BhY2tldDogbmV3IHBhY2tldFwiKSx0aGlzLnBhY2tldD1uZXcgd2QsdGhpcy5fcG9zPTAsITB9X2VtaXRFcnJvcihlKXtEKFwiX2VtaXRFcnJvclwiLGUpLHRoaXMuZXJyb3I9ZSx0aGlzLmVtaXQoXCJlcnJvclwiLGUpO319O19kLmV4cG9ydHM9V287fSk7dmFyIEFkPU0oKEhQLFNkKT0+e3YoKTttKCk7XygpO3ZhcntCdWZmZXI6dml9PSh5ZSgpLFgoX2UpKSxPbT02NTUzNix2ZD17fSxrbT12aS5pc0J1ZmZlcih2aS5mcm9tKFsxLDJdKS5zdWJhcnJheSgwLDEpKTtmdW5jdGlvbiBFZCh0KXtsZXQgZT12aS5hbGxvY1Vuc2FmZSgyKTtyZXR1cm4gZS53cml0ZVVJbnQ4KHQ+PjgsMCksZS53cml0ZVVJbnQ4KHQmMjU1LDArMSksZX1mdW5jdGlvbiB4bSgpe2ZvcihsZXQgdD0wO3Q8T207dCsrKXZkW3RdPUVkKHQpO31mdW5jdGlvbiBNbSh0KXtsZXQgcj0wLGk9MCxuPXZpLmFsbG9jVW5zYWZlKDQpO2RvIHI9dCUxMjh8MCx0PXQvMTI4fDAsdD4wJiYocj1yfDEyOCksbi53cml0ZVVJbnQ4KHIsaSsrKTt3aGlsZSh0PjAmJmk8NCk7cmV0dXJuIHQ+MCYmKGk9MCksa20/bi5zdWJhcnJheSgwLGkpOm4uc2xpY2UoMCxpKX1mdW5jdGlvbiBMbSh0KXtsZXQgZT12aS5hbGxvY1Vuc2FmZSg0KTtyZXR1cm4gZS53cml0ZVVJbnQzMkJFKHQsMCksZX1TZC5leHBvcnRzPXtjYWNoZTp2ZCxnZW5lcmF0ZUNhY2hlOnhtLGdlbmVyYXRlTnVtYmVyOkVkLGdlbkJ1ZlZhcmlhYmxlQnl0ZUludDpNbSxnZW5lcmF0ZTRCeXRlQnVmZmVyOkxtfTt9KTt2YXIgSWQ9TSgoZU8sJG8pPT57digpO20oKTtfKCk7dHlwZW9mIFA+XCJ1XCJ8fCFQLnZlcnNpb258fFAudmVyc2lvbi5pbmRleE9mKFwidjAuXCIpPT09MHx8UC52ZXJzaW9uLmluZGV4T2YoXCJ2MS5cIik9PT0wJiZQLnZlcnNpb24uaW5kZXhPZihcInYxLjguXCIpIT09MD8kby5leHBvcnRzPXtuZXh0VGljazpVbX06JG8uZXhwb3J0cz1QO2Z1bmN0aW9uIFVtKHQsZSxyLGkpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgsbyxzO3N3aXRjaChuKXtjYXNlIDA6Y2FzZSAxOnJldHVybiBQLm5leHRUaWNrKHQpO2Nhc2UgMjpyZXR1cm4gUC5uZXh0VGljayhmdW5jdGlvbigpe3QuY2FsbChudWxsLGUpO30pO2Nhc2UgMzpyZXR1cm4gUC5uZXh0VGljayhmdW5jdGlvbigpe3QuY2FsbChudWxsLGUscik7fSk7Y2FzZSA0OnJldHVybiBQLm5leHRUaWNrKGZ1bmN0aW9uKCl7dC5jYWxsKG51bGwsZSxyLGkpO30pO2RlZmF1bHQ6Zm9yKG89bmV3IEFycmF5KG4tMSkscz0wO3M8by5sZW5ndGg7KW9bcysrXT1hcmd1bWVudHNbc107cmV0dXJuIFAubmV4dFRpY2soZnVuY3Rpb24oKXt0LmFwcGx5KG51bGwsbyk7fSl9fX0pO3ZhciB6bz1NKChmTyx4ZCk9Pnt2KCk7bSgpO18oKTt2YXIgaj1GbygpLHtCdWZmZXI6cX09KHllKCksWChfZSkpLE5tPXEuYWxsb2NVbnNhZmUoMCkscW09cS5mcm9tKFswXSksRWk9QWQoKSxEbT1JZCgpLm5leHRUaWNrLHFlPW90KCkoXCJtcXR0LXBhY2tldDp3cml0ZVRvU3RyZWFtXCIpLENuPUVpLmNhY2hlLGptPUVpLmdlbmVyYXRlTnVtYmVyLEZtPUVpLmdlbmVyYXRlQ2FjaGUsSG89RWkuZ2VuQnVmVmFyaWFibGVCeXRlSW50LFdtPUVpLmdlbmVyYXRlNEJ5dGVCdWZmZXIsSWU9Vm8sQm49ITA7ZnVuY3Rpb24gT2QodCxlLHIpe3N3aXRjaChxZShcImdlbmVyYXRlIGNhbGxlZFwiKSxlLmNvcmsmJihlLmNvcmsoKSxEbSgkbSxlKSksQm4mJihCbj0hMSxGbSgpKSxxZShcImdlbmVyYXRlOiBwYWNrZXQuY21kOiAlc1wiLHQuY21kKSx0LmNtZCl7Y2FzZVwiY29ubmVjdFwiOnJldHVybiBIbSh0LGUpO2Nhc2VcImNvbm5hY2tcIjpyZXR1cm4gVm0odCxlLHIpO2Nhc2VcInB1Ymxpc2hcIjpyZXR1cm4gem0odCxlLHIpO2Nhc2VcInB1YmFja1wiOmNhc2VcInB1YnJlY1wiOmNhc2VcInB1YnJlbFwiOmNhc2VcInB1YmNvbXBcIjpyZXR1cm4gS20odCxlLHIpO2Nhc2VcInN1YnNjcmliZVwiOnJldHVybiBHbSh0LGUscik7Y2FzZVwic3ViYWNrXCI6cmV0dXJuIFFtKHQsZSxyKTtjYXNlXCJ1bnN1YnNjcmliZVwiOnJldHVybiBZbSh0LGUscik7Y2FzZVwidW5zdWJhY2tcIjpyZXR1cm4gSm0odCxlLHIpO2Nhc2VcInBpbmdyZXFcIjpjYXNlXCJwaW5ncmVzcFwiOnJldHVybiBYbSh0LGUpO2Nhc2VcImRpc2Nvbm5lY3RcIjpyZXR1cm4gWm0odCxlLHIpO2Nhc2VcImF1dGhcIjpyZXR1cm4gZTEodCxlLHIpO2RlZmF1bHQ6cmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJVbmtub3duIGNvbW1hbmRcIikpLCExfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoT2QsXCJjYWNoZU51bWJlcnNcIix7Z2V0KCl7cmV0dXJuIEllPT09Vm99LHNldCh0KXt0PygoIUNufHxPYmplY3Qua2V5cyhDbikubGVuZ3RoPT09MCkmJihCbj0hMCksSWU9Vm8pOihCbj0hMSxJZT10MSk7fX0pO2Z1bmN0aW9uICRtKHQpe3QudW5jb3JrKCk7fWZ1bmN0aW9uIEhtKHQsZSxyKXtsZXQgaT10fHx7fSxuPWkucHJvdG9jb2xJZHx8XCJNUVRUXCIsbz1pLnByb3RvY29sVmVyc2lvbnx8NCxzPWkud2lsbCxhPWkuY2xlYW4sdT1pLmtlZXBhbGl2ZXx8MCxjPWkuY2xpZW50SWR8fFwiXCIsaD1pLnVzZXJuYW1lLGQ9aS5wYXNzd29yZCxnPWkucHJvcGVydGllczthPT09dm9pZCAwJiYoYT0hMCk7bGV0IHk9MDtpZighbnx8dHlwZW9mIG4hPVwic3RyaW5nXCImJiFxLmlzQnVmZmVyKG4pKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBwcm90b2NvbElkXCIpKSwhMTtpZih5Kz1uLmxlbmd0aCsyLG8hPT0zJiZvIT09NCYmbyE9PTUpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3RvY29sIHZlcnNpb25cIikpLCExO2lmKHkrPTEsKHR5cGVvZiBjPT1cInN0cmluZ1wifHxxLmlzQnVmZmVyKGMpKSYmKGN8fG8+PTQpJiYoY3x8YSkpeSs9cS5ieXRlTGVuZ3RoKGMpKzI7ZWxzZSB7aWYobzw0KXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiY2xpZW50SWQgbXVzdCBiZSBzdXBwbGllZCBiZWZvcmUgMy4xLjFcIikpLCExO2lmKGEqMT09PTApcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJjbGllbnRJZCBtdXN0IGJlIGdpdmVuIGlmIGNsZWFuU2Vzc2lvbiBzZXQgdG8gMFwiKSksITF9aWYodHlwZW9mIHUhPVwibnVtYmVyXCJ8fHU8MHx8dT42NTUzNXx8dSUxIT09MClyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQga2VlcGFsaXZlXCIpKSwhMTt5Kz0yLHkrPTE7bGV0IHcsRTtpZihvPT09NSl7aWYodz1GdChlLGcpLCF3KXJldHVybiAhMTt5Kz13Lmxlbmd0aDt9aWYocyl7aWYodHlwZW9mIHMhPVwib2JqZWN0XCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHdpbGxcIikpLCExO2lmKCFzLnRvcGljfHx0eXBlb2Ygcy50b3BpYyE9XCJzdHJpbmdcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgd2lsbCB0b3BpY1wiKSksITE7aWYoeSs9cS5ieXRlTGVuZ3RoKHMudG9waWMpKzIseSs9MixzLnBheWxvYWQpaWYocy5wYXlsb2FkLmxlbmd0aD49MCl0eXBlb2Ygcy5wYXlsb2FkPT1cInN0cmluZ1wiP3krPXEuYnl0ZUxlbmd0aChzLnBheWxvYWQpOnkrPXMucGF5bG9hZC5sZW5ndGg7ZWxzZSByZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgd2lsbCBwYXlsb2FkXCIpKSwhMTtpZihFPXt9LG89PT01KXtpZihFPUZ0KGUscy5wcm9wZXJ0aWVzKSwhRSlyZXR1cm4gITE7eSs9RS5sZW5ndGg7fX1sZXQgUz0hMTtpZihoIT1udWxsKWlmKFBkKGgpKVM9ITAseSs9cS5ieXRlTGVuZ3RoKGgpKzI7ZWxzZSByZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgdXNlcm5hbWVcIikpLCExO2lmKGQhPW51bGwpe2lmKCFTKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiVXNlcm5hbWUgaXMgcmVxdWlyZWQgdG8gdXNlIHBhc3N3b3JkXCIpKSwhMTtpZihQZChkKSl5Kz1rZChkKSsyO2Vsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHBhc3N3b3JkXCIpKSwhMX1lLndyaXRlKGouQ09OTkVDVF9IRUFERVIpLERlKGUseSksR3IoZSxuKSxpLmJyaWRnZU1vZGUmJihvKz0xMjgpLGUud3JpdGUobz09PTEzMT9qLlZFUlNJT04xMzE6bz09PTEzMj9qLlZFUlNJT04xMzI6bz09PTQ/ai5WRVJTSU9ONDpvPT09NT9qLlZFUlNJT041OmouVkVSU0lPTjMpO2xldCBJPTA7cmV0dXJuIEl8PWghPW51bGw/ai5VU0VSTkFNRV9NQVNLOjAsSXw9ZCE9bnVsbD9qLlBBU1NXT1JEX01BU0s6MCxJfD1zJiZzLnJldGFpbj9qLldJTExfUkVUQUlOX01BU0s6MCxJfD1zJiZzLnFvcz9zLnFvczw8ai5XSUxMX1FPU19TSElGVDowLEl8PXM/ai5XSUxMX0ZMQUdfTUFTSzowLEl8PWE/ai5DTEVBTl9TRVNTSU9OX01BU0s6MCxlLndyaXRlKHEuZnJvbShbSV0pKSxJZShlLHUpLG89PT01JiZ3LndyaXRlKCksR3IoZSxjKSxzJiYobz09PTUmJkUud3JpdGUoKSx5cihlLHMudG9waWMpLEdyKGUscy5wYXlsb2FkKSksaCE9bnVsbCYmR3IoZSxoKSxkIT1udWxsJiZHcihlLGQpLCEwfWZ1bmN0aW9uIFZtKHQsZSxyKXtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPWk9PT01P24ucmVhc29uQ29kZTpuLnJldHVybkNvZGUscz1uLnByb3BlcnRpZXMsYT0yO2lmKHR5cGVvZiBvIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCByZXR1cm4gY29kZVwiKSksITE7bGV0IHU9bnVsbDtpZihpPT09NSl7aWYodT1GdChlLHMpLCF1KXJldHVybiAhMTthKz11Lmxlbmd0aDt9cmV0dXJuIGUud3JpdGUoai5DT05OQUNLX0hFQURFUiksRGUoZSxhKSxlLndyaXRlKG4uc2Vzc2lvblByZXNlbnQ/ai5TRVNTSU9OUFJFU0VOVF9IRUFERVI6cW0pLGUud3JpdGUocS5mcm9tKFtvXSkpLHU/LndyaXRlKCksITB9ZnVuY3Rpb24gem0odCxlLHIpe3FlKFwicHVibGlzaDogcGFja2V0OiAlb1wiLHQpO2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5xb3N8fDAscz1uLnJldGFpbj9qLlJFVEFJTl9NQVNLOjAsYT1uLnRvcGljLHU9bi5wYXlsb2FkfHxObSxjPW4ubWVzc2FnZUlkLGg9bi5wcm9wZXJ0aWVzLGQ9MDtpZih0eXBlb2YgYT09XCJzdHJpbmdcIilkKz1xLmJ5dGVMZW5ndGgoYSkrMjtlbHNlIGlmKHEuaXNCdWZmZXIoYSkpZCs9YS5sZW5ndGgrMjtlbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCB0b3BpY1wiKSksITE7aWYocS5pc0J1ZmZlcih1KT9kKz11Lmxlbmd0aDpkKz1xLmJ5dGVMZW5ndGgodSksbyYmdHlwZW9mIGMhPVwibnVtYmVyXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2VJZFwiKSksITE7byYmKGQrPTIpO2xldCBnPW51bGw7aWYoaT09PTUpe2lmKGc9RnQoZSxoKSwhZylyZXR1cm4gITE7ZCs9Zy5sZW5ndGg7fXJldHVybiBlLndyaXRlKGouUFVCTElTSF9IRUFERVJbb11bbi5kdXA/MTowXVtzPzE6MF0pLERlKGUsZCksSWUoZSxrZChhKSksZS53cml0ZShhKSxvPjAmJkllKGUsYyksZz8ud3JpdGUoKSxxZShcInB1Ymxpc2g6IHBheWxvYWQ6ICVvXCIsdSksZS53cml0ZSh1KX1mdW5jdGlvbiBLbSh0LGUscil7bGV0IGk9cj9yLnByb3RvY29sVmVyc2lvbjo0LG49dHx8e30sbz1uLmNtZHx8XCJwdWJhY2tcIixzPW4ubWVzc2FnZUlkLGE9bi5kdXAmJm89PT1cInB1YnJlbFwiP2ouRFVQX01BU0s6MCx1PTAsYz1uLnJlYXNvbkNvZGUsaD1uLnByb3BlcnRpZXMsZD1pPT09NT8zOjI7aWYobz09PVwicHVicmVsXCImJih1PTEpLHR5cGVvZiBzIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO2xldCBnPW51bGw7aWYoaT09PTUmJnR5cGVvZiBoPT1cIm9iamVjdFwiKXtpZihnPVNpKGUsaCxyLGQpLCFnKXJldHVybiAhMTtkKz1nLmxlbmd0aDt9cmV0dXJuIGUud3JpdGUoai5BQ0tTW29dW3VdW2FdWzBdKSxkPT09MyYmKGQrPWMhPT0wPzE6LTEpLERlKGUsZCksSWUoZSxzKSxpPT09NSYmZCE9PTImJmUud3JpdGUocS5mcm9tKFtjXSkpLGchPT1udWxsP2cud3JpdGUoKTpkPT09NCYmZS53cml0ZShxLmZyb20oWzBdKSksITB9ZnVuY3Rpb24gR20odCxlLHIpe3FlKFwic3Vic2NyaWJlOiBwYWNrZXQ6IFwiKTtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPW4uZHVwP2ouRFVQX01BU0s6MCxzPW4ubWVzc2FnZUlkLGE9bi5zdWJzY3JpcHRpb25zLHU9bi5wcm9wZXJ0aWVzLGM9MDtpZih0eXBlb2YgcyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtjKz0yO2xldCBoPW51bGw7aWYoaT09PTUpe2lmKGg9RnQoZSx1KSwhaClyZXR1cm4gITE7Yys9aC5sZW5ndGg7fWlmKHR5cGVvZiBhPT1cIm9iamVjdFwiJiZhLmxlbmd0aClmb3IobGV0IGc9MDtnPGEubGVuZ3RoO2crPTEpe2xldCB5PWFbZ10udG9waWMsdz1hW2ddLnFvcztpZih0eXBlb2YgeSE9XCJzdHJpbmdcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgdG9waWNcIikpLCExO2lmKHR5cGVvZiB3IT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zIC0gaW52YWxpZCBxb3NcIikpLCExO2lmKGk9PT01KXtpZih0eXBlb2YoYVtnXS5ubHx8ITEpIT1cImJvb2xlYW5cIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgTm8gTG9jYWxcIikpLCExO2lmKHR5cGVvZihhW2ddLnJhcHx8ITEpIT1cImJvb2xlYW5cIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgUmV0YWluIGFzIFB1Ymxpc2hlZFwiKSksITE7bGV0IEk9YVtnXS5yaHx8MDtpZih0eXBlb2YgSSE9XCJudW1iZXJcInx8ST4yKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zIC0gaW52YWxpZCBSZXRhaW4gSGFuZGxpbmdcIikpLCExfWMrPXEuYnl0ZUxlbmd0aCh5KSsyKzE7fWVsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnNcIikpLCExO3FlKFwic3Vic2NyaWJlOiB3cml0aW5nIHRvIHN0cmVhbTogJW9cIixqLlNVQlNDUklCRV9IRUFERVIpLGUud3JpdGUoai5TVUJTQ1JJQkVfSEVBREVSWzFdW28/MTowXVswXSksRGUoZSxjKSxJZShlLHMpLGghPT1udWxsJiZoLndyaXRlKCk7bGV0IGQ9ITA7Zm9yKGxldCBnIG9mIGEpe2xldCB5PWcudG9waWMsdz1nLnFvcyxFPStnLm5sLFM9K2cucmFwLEk9Zy5yaCxDO3lyKGUseSksQz1qLlNVQlNDUklCRV9PUFRJT05TX1FPU1t3XSxpPT09NSYmKEN8PUU/ai5TVUJTQ1JJQkVfT1BUSU9OU19OTDowLEN8PVM/ai5TVUJTQ1JJQkVfT1BUSU9OU19SQVA6MCxDfD1JP2ouU1VCU0NSSUJFX09QVElPTlNfUkhbSV06MCksZD1lLndyaXRlKHEuZnJvbShbQ10pKTt9cmV0dXJuIGR9ZnVuY3Rpb24gUW0odCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5tZXNzYWdlSWQscz1uLmdyYW50ZWQsYT1uLnByb3BlcnRpZXMsdT0wO2lmKHR5cGVvZiBvIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO2lmKHUrPTIsdHlwZW9mIHM9PVwib2JqZWN0XCImJnMubGVuZ3RoKWZvcihsZXQgaD0wO2g8cy5sZW5ndGg7aCs9MSl7aWYodHlwZW9mIHNbaF0hPVwibnVtYmVyXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHFvcyB2ZWN0b3JcIikpLCExO3UrPTE7fWVsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHFvcyB2ZWN0b3JcIikpLCExO2xldCBjPW51bGw7aWYoaT09PTUpe2lmKGM9U2koZSxhLHIsdSksIWMpcmV0dXJuICExO3UrPWMubGVuZ3RoO31yZXR1cm4gZS53cml0ZShqLlNVQkFDS19IRUFERVIpLERlKGUsdSksSWUoZSxvKSxjIT09bnVsbCYmYy53cml0ZSgpLGUud3JpdGUocS5mcm9tKHMpKX1mdW5jdGlvbiBZbSh0LGUscil7bGV0IGk9cj9yLnByb3RvY29sVmVyc2lvbjo0LG49dHx8e30sbz1uLm1lc3NhZ2VJZCxzPW4uZHVwP2ouRFVQX01BU0s6MCxhPW4udW5zdWJzY3JpcHRpb25zLHU9bi5wcm9wZXJ0aWVzLGM9MDtpZih0eXBlb2YgbyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtpZihjKz0yLHR5cGVvZiBhPT1cIm9iamVjdFwiJiZhLmxlbmd0aClmb3IobGV0IGc9MDtnPGEubGVuZ3RoO2crPTEpe2lmKHR5cGVvZiBhW2ddIT1cInN0cmluZ1wiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YnNjcmlwdGlvbnNcIikpLCExO2MrPXEuYnl0ZUxlbmd0aChhW2ddKSsyO31lbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YnNjcmlwdGlvbnNcIikpLCExO2xldCBoPW51bGw7aWYoaT09PTUpe2lmKGg9RnQoZSx1KSwhaClyZXR1cm4gITE7Yys9aC5sZW5ndGg7fWUud3JpdGUoai5VTlNVQlNDUklCRV9IRUFERVJbMV1bcz8xOjBdWzBdKSxEZShlLGMpLEllKGUsbyksaCE9PW51bGwmJmgud3JpdGUoKTtsZXQgZD0hMDtmb3IobGV0IGc9MDtnPGEubGVuZ3RoO2crKylkPXlyKGUsYVtnXSk7cmV0dXJuIGR9ZnVuY3Rpb24gSm0odCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5tZXNzYWdlSWQscz1uLmR1cD9qLkRVUF9NQVNLOjAsYT1uLmdyYW50ZWQsdT1uLnByb3BlcnRpZXMsYz1uLmNtZCxoPTAsZD0yO2lmKHR5cGVvZiBvIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO2lmKGk9PT01KWlmKHR5cGVvZiBhPT1cIm9iamVjdFwiJiZhLmxlbmd0aClmb3IobGV0IHk9MDt5PGEubGVuZ3RoO3krPTEpe2lmKHR5cGVvZiBhW3ldIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBxb3MgdmVjdG9yXCIpKSwhMTtkKz0xO31lbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBxb3MgdmVjdG9yXCIpKSwhMTtsZXQgZz1udWxsO2lmKGk9PT01KXtpZihnPVNpKGUsdSxyLGQpLCFnKXJldHVybiAhMTtkKz1nLmxlbmd0aDt9cmV0dXJuIGUud3JpdGUoai5BQ0tTW2NdW2hdW3NdWzBdKSxEZShlLGQpLEllKGUsbyksZyE9PW51bGwmJmcud3JpdGUoKSxpPT09NSYmZS53cml0ZShxLmZyb20oYSkpLCEwfWZ1bmN0aW9uIFhtKHQsZSxyKXtyZXR1cm4gZS53cml0ZShqLkVNUFRZW3QuY21kXSl9ZnVuY3Rpb24gWm0odCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5yZWFzb25Db2RlLHM9bi5wcm9wZXJ0aWVzLGE9aT09PTU/MTowLHU9bnVsbDtpZihpPT09NSl7aWYodT1TaShlLHMscixhKSwhdSlyZXR1cm4gITE7YSs9dS5sZW5ndGg7fXJldHVybiBlLndyaXRlKHEuZnJvbShbai5jb2Rlcy5kaXNjb25uZWN0PDw0XSkpLERlKGUsYSksaT09PTUmJmUud3JpdGUocS5mcm9tKFtvXSkpLHUhPT1udWxsJiZ1LndyaXRlKCksITB9ZnVuY3Rpb24gZTEodCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5yZWFzb25Db2RlLHM9bi5wcm9wZXJ0aWVzLGE9aT09PTU/MTowO2khPT01JiZlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtcXR0IHZlcnNpb24gZm9yIGF1dGggcGFja2V0XCIpKTtsZXQgdT1TaShlLHMscixhKTtyZXR1cm4gdT8oYSs9dS5sZW5ndGgsZS53cml0ZShxLmZyb20oW2ouY29kZXMuYXV0aDw8NF0pKSxEZShlLGEpLGUud3JpdGUocS5mcm9tKFtvXSkpLHUhPT1udWxsJiZ1LndyaXRlKCksITApOiExfXZhciBUZD17fTtmdW5jdGlvbiBEZSh0LGUpe2lmKGU+ai5WQVJCWVRFSU5UX01BWClyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCB2YXJpYWJsZSBieXRlIGludGVnZXI6ICR7ZX1gKSksITE7bGV0IHI9VGRbZV07cmV0dXJuIHJ8fChyPUhvKGUpLGU8MTYzODQmJihUZFtlXT1yKSkscWUoXCJ3cml0ZVZhckJ5dGVJbnQ6IHdyaXRpbmcgdG8gc3RyZWFtOiAlb1wiLHIpLHQud3JpdGUocil9ZnVuY3Rpb24geXIodCxlKXtsZXQgcj1xLmJ5dGVMZW5ndGgoZSk7cmV0dXJuIEllKHQscikscWUoXCJ3cml0ZVN0cmluZzogJXNcIixlKSx0LndyaXRlKGUsXCJ1dGY4XCIpfWZ1bmN0aW9uIFJkKHQsZSxyKXt5cih0LGUpLHlyKHQscik7fWZ1bmN0aW9uIFZvKHQsZSl7cmV0dXJuIHFlKFwid3JpdGVOdW1iZXJDYWNoZWQ6IG51bWJlcjogJWRcIixlKSxxZShcIndyaXRlTnVtYmVyQ2FjaGVkOiAlb1wiLENuW2VdKSx0LndyaXRlKENuW2VdKX1mdW5jdGlvbiB0MSh0LGUpe2xldCByPWptKGUpO3JldHVybiBxZShcIndyaXRlTnVtYmVyR2VuZXJhdGVkOiAlb1wiLHIpLHQud3JpdGUocil9ZnVuY3Rpb24gcjEodCxlKXtsZXQgcj1XbShlKTtyZXR1cm4gcWUoXCJ3cml0ZTRCeXRlTnVtYmVyOiAlb1wiLHIpLHQud3JpdGUocil9ZnVuY3Rpb24gR3IodCxlKXt0eXBlb2YgZT09XCJzdHJpbmdcIj95cih0LGUpOmU/KEllKHQsZS5sZW5ndGgpLHQud3JpdGUoZSkpOkllKHQsMCk7fWZ1bmN0aW9uIEZ0KHQsZSl7aWYodHlwZW9mIGUhPVwib2JqZWN0XCJ8fGUubGVuZ3RoIT1udWxsKXJldHVybiB7bGVuZ3RoOjEsd3JpdGUoKXtCZCh0LHt9LDApO319O2xldCByPTA7ZnVuY3Rpb24gaShvLHMpe2xldCBhPWoucHJvcGVydGllc1R5cGVzW29dLHU9MDtzd2l0Y2goYSl7Y2FzZVwiYnl0ZVwiOntpZih0eXBlb2YgcyE9XCJib29sZWFuXCIpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTt1Kz0xKzE7YnJlYWt9Y2FzZVwiaW50OFwiOntpZih0eXBlb2YgcyE9XCJudW1iZXJcInx8czwwfHxzPjI1NSlyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCAke299OiAke3N9YCkpLCExO3UrPTErMTticmVha31jYXNlXCJiaW5hcnlcIjp7aWYocyYmcz09PW51bGwpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTt1Kz0xK3EuYnl0ZUxlbmd0aChzKSsyO2JyZWFrfWNhc2VcImludDE2XCI6e2lmKHR5cGVvZiBzIT1cIm51bWJlclwifHxzPDB8fHM+NjU1MzUpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTt1Kz0xKzI7YnJlYWt9Y2FzZVwiaW50MzJcIjp7aWYodHlwZW9mIHMhPVwibnVtYmVyXCJ8fHM8MHx8cz40Mjk0OTY3Mjk1KXJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkICR7b306ICR7c31gKSksITE7dSs9MSs0O2JyZWFrfWNhc2VcInZhclwiOntpZih0eXBlb2YgcyE9XCJudW1iZXJcInx8czwwfHxzPjI2ODQzNTQ1NSlyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCAke299OiAke3N9YCkpLCExO3UrPTErcS5ieXRlTGVuZ3RoKEhvKHMpKTticmVha31jYXNlXCJzdHJpbmdcIjp7aWYodHlwZW9mIHMhPVwic3RyaW5nXCIpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTt1Kz0xKzIrcS5ieXRlTGVuZ3RoKHMudG9TdHJpbmcoKSk7YnJlYWt9Y2FzZVwicGFpclwiOntpZih0eXBlb2YgcyE9XCJvYmplY3RcIilyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCAke299OiAke3N9YCkpLCExO3UrPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHMpLnJlZHVjZSgoYyxoKT0+e2xldCBkPXNbaF07cmV0dXJuIEFycmF5LmlzQXJyYXkoZCk/Yys9ZC5yZWR1Y2UoKGcseSk9PihnKz0xKzIrcS5ieXRlTGVuZ3RoKGgudG9TdHJpbmcoKSkrMitxLmJ5dGVMZW5ndGgoeS50b1N0cmluZygpKSxnKSwwKTpjKz0xKzIrcS5ieXRlTGVuZ3RoKGgudG9TdHJpbmcoKSkrMitxLmJ5dGVMZW5ndGgoc1toXS50b1N0cmluZygpKSxjfSwwKTticmVha31kZWZhdWx0OnJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkIHByb3BlcnR5ICR7b306ICR7c31gKSksITF9cmV0dXJuIHV9aWYoZSlmb3IobGV0IG8gaW4gZSl7bGV0IHM9MCxhPTAsdT1lW29dO2lmKEFycmF5LmlzQXJyYXkodSkpZm9yKGxldCBjPTA7Yzx1Lmxlbmd0aDtjKyspe2lmKGE9aShvLHVbY10pLCFhKXJldHVybiAhMTtzKz1hO31lbHNlIHtpZihhPWkobyx1KSwhYSlyZXR1cm4gITE7cz1hO31pZighcylyZXR1cm4gITE7cis9czt9cmV0dXJuIHtsZW5ndGg6cS5ieXRlTGVuZ3RoKEhvKHIpKStyLHdyaXRlKCl7QmQodCxlLHIpO319fWZ1bmN0aW9uIFNpKHQsZSxyLGkpe2xldCBuPVtcInJlYXNvblN0cmluZ1wiLFwidXNlclByb3BlcnRpZXNcIl0sbz1yJiZyLnByb3BlcnRpZXMmJnIucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZT9yLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemU6MCxzPUZ0KHQsZSk7aWYobylmb3IoO2krcy5sZW5ndGg+bzspe2xldCBhPW4uc2hpZnQoKTtpZihhJiZlW2FdKWRlbGV0ZSBlW2FdLHM9RnQodCxlKTtlbHNlIHJldHVybiAhMX1yZXR1cm4gc31mdW5jdGlvbiBDZCh0LGUscil7c3dpdGNoKGoucHJvcGVydGllc1R5cGVzW2VdKXtjYXNlXCJieXRlXCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksdC53cml0ZShxLmZyb20oWytyXSkpO2JyZWFrfWNhc2VcImludDhcIjp7dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSx0LndyaXRlKHEuZnJvbShbcl0pKTticmVha31jYXNlXCJiaW5hcnlcIjp7dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSxHcih0LHIpO2JyZWFrfWNhc2VcImludDE2XCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksSWUodCxyKTticmVha31jYXNlXCJpbnQzMlwiOnt0LndyaXRlKHEuZnJvbShbai5wcm9wZXJ0aWVzW2VdXSkpLHIxKHQscik7YnJlYWt9Y2FzZVwidmFyXCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksRGUodCxyKTticmVha31jYXNlXCJzdHJpbmdcIjp7dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSx5cih0LHIpO2JyZWFrfWNhc2VcInBhaXJcIjp7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikuZm9yRWFjaChuPT57bGV0IG89cltuXTtBcnJheS5pc0FycmF5KG8pP28uZm9yRWFjaChzPT57dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSxSZCh0LG4udG9TdHJpbmcoKSxzLnRvU3RyaW5nKCkpO30pOih0LndyaXRlKHEuZnJvbShbai5wcm9wZXJ0aWVzW2VdXSkpLFJkKHQsbi50b1N0cmluZygpLG8udG9TdHJpbmcoKSkpO30pO2JyZWFrfWRlZmF1bHQ6cmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgcHJvcGVydHkgJHtlfSB2YWx1ZTogJHtyfWApKSwhMX19ZnVuY3Rpb24gQmQodCxlLHIpe0RlKHQscik7Zm9yKGxldCBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJmVbaV0hPT1udWxsKXtsZXQgbj1lW2ldO2lmKEFycmF5LmlzQXJyYXkobikpZm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspQ2QodCxpLG5bb10pO2Vsc2UgQ2QodCxpLG4pO319ZnVuY3Rpb24ga2QodCl7cmV0dXJuIHQ/dCBpbnN0YW5jZW9mIHE/dC5sZW5ndGg6cS5ieXRlTGVuZ3RoKHQpOjB9ZnVuY3Rpb24gUGQodCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wifHx0IGluc3RhbmNlb2YgcX14ZC5leHBvcnRzPU9kO30pO3ZhciBVZD1NKChtTyxMZCk9Pnt2KCk7bSgpO18oKTt2YXIgaTE9em8oKSx7RXZlbnRFbWl0dGVyOm4xfT0oaXIoKSxYKHJyKSkse0J1ZmZlcjpNZH09KHllKCksWChfZSkpO2Z1bmN0aW9uIHMxKHQsZSl7bGV0IHI9bmV3IEtvO3JldHVybiBpMSh0LHIsZSksci5jb25jYXQoKX12YXIgS289Y2xhc3MgZXh0ZW5kcyBuMXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5fYXJyYXk9bmV3IEFycmF5KDIwKSx0aGlzLl9pPTA7fXdyaXRlKGUpe3JldHVybiB0aGlzLl9hcnJheVt0aGlzLl9pKytdPWUsITB9Y29uY2F0KCl7bGV0IGU9MCxyPW5ldyBBcnJheSh0aGlzLl9hcnJheS5sZW5ndGgpLGk9dGhpcy5fYXJyYXksbj0wLG87Zm9yKG89MDtvPGkubGVuZ3RoJiZpW29dIT09dm9pZCAwO28rKyl0eXBlb2YgaVtvXSE9XCJzdHJpbmdcIj9yW29dPWlbb10ubGVuZ3RoOnJbb109TWQuYnl0ZUxlbmd0aChpW29dKSxlKz1yW29dO2xldCBzPU1kLmFsbG9jVW5zYWZlKGUpO2ZvcihvPTA7bzxpLmxlbmd0aCYmaVtvXSE9PXZvaWQgMDtvKyspdHlwZW9mIGlbb10hPVwic3RyaW5nXCI/KGlbb10uY29weShzLG4pLG4rPXJbb10pOihzLndyaXRlKGlbb10sbiksbis9cltvXSk7cmV0dXJuIHN9ZGVzdHJveShlKXtlJiZ0aGlzLmVtaXQoXCJlcnJvclwiLGUpO319O0xkLmV4cG9ydHM9czE7fSk7dmFyIE5kPU0oUG49Pnt2KCk7bSgpO18oKTtQbi5wYXJzZXI9bWQoKS5wYXJzZXI7UG4uZ2VuZXJhdGU9VWQoKTtQbi53cml0ZVRvU3RyZWFtPXpvKCk7fSk7dmFyIFlvPU0oUW89Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUW8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEdvPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5uZXh0SWQ9TWF0aC5tYXgoMSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNjU1MzUpKTt9YWxsb2NhdGUoKXtsZXQgZT10aGlzLm5leHRJZCsrO3JldHVybiB0aGlzLm5leHRJZD09PTY1NTM2JiYodGhpcy5uZXh0SWQ9MSksZX1nZXRMYXN0QWxsb2NhdGVkKCl7cmV0dXJuIHRoaXMubmV4dElkPT09MT82NTUzNTp0aGlzLm5leHRJZC0xfXJlZ2lzdGVyKGUpe3JldHVybiAhMH1kZWFsbG9jYXRlKGUpe31jbGVhcigpe319O1FvLmRlZmF1bHQ9R287fSk7dmFyIERkPU0oKFlPLHFkKT0+e3YoKTttKCk7XygpO3FkLmV4cG9ydHM9bzE7ZnVuY3Rpb24gUXIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB4P3guZnJvbSh0KTpuZXcgdC5jb25zdHJ1Y3Rvcih0LmJ1ZmZlci5zbGljZSgpLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9ZnVuY3Rpb24gbzEodCl7aWYodD10fHx7fSx0LmNpcmNsZXMpcmV0dXJuIGExKHQpO3JldHVybiB0LnByb3RvP2k6cjtmdW5jdGlvbiBlKG4sbyl7Zm9yKHZhciBzPU9iamVjdC5rZXlzKG4pLGE9bmV3IEFycmF5KHMubGVuZ3RoKSx1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBjPXNbdV0saD1uW2NdO3R5cGVvZiBoIT1cIm9iamVjdFwifHxoPT09bnVsbD9hW2NdPWg6aCBpbnN0YW5jZW9mIERhdGU/YVtjXT1uZXcgRGF0ZShoKTpBcnJheUJ1ZmZlci5pc1ZpZXcoaCk/YVtjXT1RcihoKTphW2NdPW8oaCk7fXJldHVybiBhfWZ1bmN0aW9uIHIobil7aWYodHlwZW9mIG4hPVwib2JqZWN0XCJ8fG49PT1udWxsKXJldHVybiBuO2lmKG4gaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShuKTtpZihBcnJheS5pc0FycmF5KG4pKXJldHVybiBlKG4scik7aWYobiBpbnN0YW5jZW9mIE1hcClyZXR1cm4gbmV3IE1hcChlKEFycmF5LmZyb20obikscikpO2lmKG4gaW5zdGFuY2VvZiBTZXQpcmV0dXJuIG5ldyBTZXQoZShBcnJheS5mcm9tKG4pLHIpKTt2YXIgbz17fTtmb3IodmFyIHMgaW4gbilpZihPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLHMpIT09ITEpe3ZhciBhPW5bc107dHlwZW9mIGEhPVwib2JqZWN0XCJ8fGE9PT1udWxsP29bc109YTphIGluc3RhbmNlb2YgRGF0ZT9vW3NdPW5ldyBEYXRlKGEpOmEgaW5zdGFuY2VvZiBNYXA/b1tzXT1uZXcgTWFwKGUoQXJyYXkuZnJvbShhKSxyKSk6YSBpbnN0YW5jZW9mIFNldD9vW3NdPW5ldyBTZXQoZShBcnJheS5mcm9tKGEpLHIpKTpBcnJheUJ1ZmZlci5pc1ZpZXcoYSk/b1tzXT1RcihhKTpvW3NdPXIoYSk7fXJldHVybiBvfWZ1bmN0aW9uIGkobil7aWYodHlwZW9mIG4hPVwib2JqZWN0XCJ8fG49PT1udWxsKXJldHVybiBuO2lmKG4gaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShuKTtpZihBcnJheS5pc0FycmF5KG4pKXJldHVybiBlKG4saSk7aWYobiBpbnN0YW5jZW9mIE1hcClyZXR1cm4gbmV3IE1hcChlKEFycmF5LmZyb20obiksaSkpO2lmKG4gaW5zdGFuY2VvZiBTZXQpcmV0dXJuIG5ldyBTZXQoZShBcnJheS5mcm9tKG4pLGkpKTt2YXIgbz17fTtmb3IodmFyIHMgaW4gbil7dmFyIGE9bltzXTt0eXBlb2YgYSE9XCJvYmplY3RcInx8YT09PW51bGw/b1tzXT1hOmEgaW5zdGFuY2VvZiBEYXRlP29bc109bmV3IERhdGUoYSk6YSBpbnN0YW5jZW9mIE1hcD9vW3NdPW5ldyBNYXAoZShBcnJheS5mcm9tKGEpLGkpKTphIGluc3RhbmNlb2YgU2V0P29bc109bmV3IFNldChlKEFycmF5LmZyb20oYSksaSkpOkFycmF5QnVmZmVyLmlzVmlldyhhKT9vW3NdPVFyKGEpOm9bc109aShhKTt9cmV0dXJuIG99fWZ1bmN0aW9uIGExKHQpe3ZhciBlPVtdLHI9W107cmV0dXJuIHQucHJvdG8/bzpuO2Z1bmN0aW9uIGkocyxhKXtmb3IodmFyIHU9T2JqZWN0LmtleXMocyksYz1uZXcgQXJyYXkodS5sZW5ndGgpLGg9MDtoPHUubGVuZ3RoO2grKyl7dmFyIGQ9dVtoXSxnPXNbZF07aWYodHlwZW9mIGchPVwib2JqZWN0XCJ8fGc9PT1udWxsKWNbZF09ZztlbHNlIGlmKGcgaW5zdGFuY2VvZiBEYXRlKWNbZF09bmV3IERhdGUoZyk7ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZykpY1tkXT1RcihnKTtlbHNlIHt2YXIgeT1lLmluZGV4T2YoZyk7eSE9PS0xP2NbZF09clt5XTpjW2RdPWEoZyk7fX1yZXR1cm4gY31mdW5jdGlvbiBuKHMpe2lmKHR5cGVvZiBzIT1cIm9iamVjdFwifHxzPT09bnVsbClyZXR1cm4gcztpZihzIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUocyk7aWYoQXJyYXkuaXNBcnJheShzKSlyZXR1cm4gaShzLG4pO2lmKHMgaW5zdGFuY2VvZiBNYXApcmV0dXJuIG5ldyBNYXAoaShBcnJheS5mcm9tKHMpLG4pKTtpZihzIGluc3RhbmNlb2YgU2V0KXJldHVybiBuZXcgU2V0KGkoQXJyYXkuZnJvbShzKSxuKSk7dmFyIGE9e307ZS5wdXNoKHMpLHIucHVzaChhKTtmb3IodmFyIHUgaW4gcylpZihPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzLHUpIT09ITEpe3ZhciBjPXNbdV07aWYodHlwZW9mIGMhPVwib2JqZWN0XCJ8fGM9PT1udWxsKWFbdV09YztlbHNlIGlmKGMgaW5zdGFuY2VvZiBEYXRlKWFbdV09bmV3IERhdGUoYyk7ZWxzZSBpZihjIGluc3RhbmNlb2YgTWFwKWFbdV09bmV3IE1hcChpKEFycmF5LmZyb20oYyksbikpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIFNldClhW3VdPW5ldyBTZXQoaShBcnJheS5mcm9tKGMpLG4pKTtlbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhjKSlhW3VdPVFyKGMpO2Vsc2Uge3ZhciBoPWUuaW5kZXhPZihjKTtoIT09LTE/YVt1XT1yW2hdOmFbdV09bihjKTt9fXJldHVybiBlLnBvcCgpLHIucG9wKCksYX1mdW5jdGlvbiBvKHMpe2lmKHR5cGVvZiBzIT1cIm9iamVjdFwifHxzPT09bnVsbClyZXR1cm4gcztpZihzIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUocyk7aWYoQXJyYXkuaXNBcnJheShzKSlyZXR1cm4gaShzLG8pO2lmKHMgaW5zdGFuY2VvZiBNYXApcmV0dXJuIG5ldyBNYXAoaShBcnJheS5mcm9tKHMpLG8pKTtpZihzIGluc3RhbmNlb2YgU2V0KXJldHVybiBuZXcgU2V0KGkoQXJyYXkuZnJvbShzKSxvKSk7dmFyIGE9e307ZS5wdXNoKHMpLHIucHVzaChhKTtmb3IodmFyIHUgaW4gcyl7dmFyIGM9c1t1XTtpZih0eXBlb2YgYyE9XCJvYmplY3RcInx8Yz09PW51bGwpYVt1XT1jO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIERhdGUpYVt1XT1uZXcgRGF0ZShjKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBNYXApYVt1XT1uZXcgTWFwKGkoQXJyYXkuZnJvbShjKSxvKSk7ZWxzZSBpZihjIGluc3RhbmNlb2YgU2V0KWFbdV09bmV3IFNldChpKEFycmF5LmZyb20oYyksbykpO2Vsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KGMpKWFbdV09UXIoYyk7ZWxzZSB7dmFyIGg9ZS5pbmRleE9mKGMpO2ghPT0tMT9hW3VdPXJbaF06YVt1XT1vKGMpO319cmV0dXJuIGUucG9wKCksci5wb3AoKSxhfX19KTt2YXIgRmQ9TSgob2ssamQpPT57digpO20oKTtfKCk7amQuZXhwb3J0cz1EZCgpKCk7fSk7dmFyICRkPU0oWXI9Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWXIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7WXIudmFsaWRhdGVUb3BpY3M9WXIudmFsaWRhdGVUb3BpYz12b2lkIDA7ZnVuY3Rpb24gV2QodCl7bGV0IGU9dC5zcGxpdChcIi9cIik7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXSE9PVwiK1wiKXtpZihlW3JdPT09XCIjXCIpcmV0dXJuIHI9PT1lLmxlbmd0aC0xO2lmKGVbcl0uaW5kZXhPZihcIitcIikhPT0tMXx8ZVtyXS5pbmRleE9mKFwiI1wiKSE9PS0xKXJldHVybiAhMX1yZXR1cm4gITB9WXIudmFsaWRhdGVUb3BpYz1XZDtmdW5jdGlvbiBsMSh0KXtpZih0Lmxlbmd0aD09PTApcmV0dXJuIFwiZW1wdHlfdG9waWNfbGlzdFwiO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCFXZCh0W2VdKSlyZXR1cm4gdFtlXTtyZXR1cm4gbnVsbH1Zci52YWxpZGF0ZVRvcGljcz1sMTt9KTt2YXIgWm89TShYbz0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShYbyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdTE9RHQoKSxmMT17b2JqZWN0TW9kZTohMH0sYzE9e2NsZWFuOiEwfSxKbz1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ZXx8e30sdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxjMSksZSksdGhpcy5faW5mbGlnaHRzPW5ldyBNYXA7fXB1dChlLHIpe3JldHVybiB0aGlzLl9pbmZsaWdodHMuc2V0KGUubWVzc2FnZUlkLGUpLHImJnIoKSx0aGlzfWNyZWF0ZVN0cmVhbSgpe2xldCBlPW5ldyB1MS5SZWFkYWJsZShmMSkscj1bXSxpPSExLG49MDtyZXR1cm4gdGhpcy5faW5mbGlnaHRzLmZvckVhY2goKG8scyk9PntyLnB1c2gobyk7fSksZS5fcmVhZD0oKT0+eyFpJiZuPHIubGVuZ3RoP2UucHVzaChyW24rK10pOmUucHVzaChudWxsKTt9LGUuZGVzdHJveT1vPT57aWYoIWkpcmV0dXJuIGk9ITAsc2V0VGltZW91dCgoKT0+e2UuZW1pdChcImNsb3NlXCIpO30sMCksZX0sZX1kZWwoZSxyKXtsZXQgaT10aGlzLl9pbmZsaWdodHMuZ2V0KGUubWVzc2FnZUlkKTtyZXR1cm4gaT8odGhpcy5faW5mbGlnaHRzLmRlbGV0ZShlLm1lc3NhZ2VJZCkscihudWxsLGkpKTpyJiZyKG5ldyBFcnJvcihcIm1pc3NpbmcgcGFja2V0XCIpKSx0aGlzfWdldChlLHIpe2xldCBpPXRoaXMuX2luZmxpZ2h0cy5nZXQoZS5tZXNzYWdlSWQpO3JldHVybiBpP3IobnVsbCxpKTpyJiZyKG5ldyBFcnJvcihcIm1pc3NpbmcgcGFja2V0XCIpKSx0aGlzfWNsb3NlKGUpe3RoaXMub3B0aW9ucy5jbGVhbiYmKHRoaXMuX2luZmxpZ2h0cz1udWxsKSxlJiZlKCk7fX07WG8uZGVmYXVsdD1Kbzt9KTt2YXIgVmQ9TShlYT0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSGQ9WzAsMTYsMTI4LDEzMSwxMzUsMTQ0LDE0NSwxNTEsMTUzXSxoMT0odCxlLHIpPT57dC5sb2coXCJoYW5kbGVQdWJsaXNoOiBwYWNrZXQgJW9cIixlKSxyPXR5cGVvZiByPFwidVwiP3I6dC5ub29wO2xldCBpPWUudG9waWMudG9TdHJpbmcoKSxuPWUucGF5bG9hZCx7cW9zOm99PWUse21lc3NhZ2VJZDpzfT1lLHtvcHRpb25zOmF9PXQ7aWYodC5vcHRpb25zLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCB1O2lmKGUucHJvcGVydGllcyYmKHU9ZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXMpLHR5cGVvZiB1PFwidVwiKWlmKGkubGVuZ3RoPT09MClpZih1PjAmJnU8PTY1NTM1KXtsZXQgYz10LnRvcGljQWxpYXNSZWN2LmdldFRvcGljQnlBbGlhcyh1KTtpZihjKWk9Yyx0LmxvZyhcImhhbmRsZVB1Ymxpc2ggOjogdG9waWMgY29tcGxlbWVudGVkIGJ5IGFsaWFzLiB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLHUpO2Vsc2Uge3QubG9nKFwiaGFuZGxlUHVibGlzaCA6OiB1bnJlZ2lzdGVyZWQgdG9waWMgYWxpYXMuIGFsaWFzOiAlZFwiLHUpLHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUmVjZWl2ZWQgdW5yZWdpc3RlcmVkIFRvcGljIEFsaWFzXCIpKTtyZXR1cm59fWVsc2Uge3QubG9nKFwiaGFuZGxlUHVibGlzaCA6OiB0b3BpYyBhbGlhcyBvdXQgb2YgcmFuZ2UuIGFsaWFzOiAlZFwiLHUpLHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUmVjZWl2ZWQgVG9waWMgQWxpYXMgaXMgb3V0IG9mIHJhbmdlXCIpKTtyZXR1cm59ZWxzZSBpZih0LnRvcGljQWxpYXNSZWN2LnB1dChpLHUpKXQubG9nKFwiaGFuZGxlUHVibGlzaCA6OiByZWdpc3RlcmVkIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGksdSk7ZWxzZSB7dC5sb2coXCJoYW5kbGVQdWJsaXNoIDo6IHRvcGljIGFsaWFzIG91dCBvZiByYW5nZS4gYWxpYXM6ICVkXCIsdSksdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJSZWNlaXZlZCBUb3BpYyBBbGlhcyBpcyBvdXQgb2YgcmFuZ2VcIikpO3JldHVybn19c3dpdGNoKHQubG9nKFwiaGFuZGxlUHVibGlzaDogcW9zICVkXCIsbyksbyl7Y2FzZSAyOnthLmN1c3RvbUhhbmRsZUFja3MoaSxuLGUsKHUsYyk9PntpZih0eXBlb2YgdT09XCJudW1iZXJcIiYmKGM9dSx1PW51bGwpLHUpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsdSk7aWYoSGQuaW5kZXhPZihjKT09PS0xKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIldyb25nIHJlYXNvbiBjb2RlIGZvciBwdWJyZWNcIikpO2M/dC5fc2VuZFBhY2tldCh7Y21kOlwicHVicmVjXCIsbWVzc2FnZUlkOnMscmVhc29uQ29kZTpjfSxyKTp0LmluY29taW5nU3RvcmUucHV0KGUsKCk9Pnt0Ll9zZW5kUGFja2V0KHtjbWQ6XCJwdWJyZWNcIixtZXNzYWdlSWQ6c30scik7fSk7fSk7YnJlYWt9Y2FzZSAxOnthLmN1c3RvbUhhbmRsZUFja3MoaSxuLGUsKHUsYyk9PntpZih0eXBlb2YgdT09XCJudW1iZXJcIiYmKGM9dSx1PW51bGwpLHUpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsdSk7aWYoSGQuaW5kZXhPZihjKT09PS0xKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIldyb25nIHJlYXNvbiBjb2RlIGZvciBwdWJhY2tcIikpO2N8fHQuZW1pdChcIm1lc3NhZ2VcIixpLG4sZSksdC5oYW5kbGVNZXNzYWdlKGUsaD0+e2lmKGgpcmV0dXJuIHImJnIoaCk7dC5fc2VuZFBhY2tldCh7Y21kOlwicHViYWNrXCIsbWVzc2FnZUlkOnMscmVhc29uQ29kZTpjfSxyKTt9KTt9KTticmVha31jYXNlIDA6dC5lbWl0KFwibWVzc2FnZVwiLGksbixlKSx0LmhhbmRsZU1lc3NhZ2UoZSxyKTticmVhaztkZWZhdWx0OnQubG9nKFwiaGFuZGxlUHVibGlzaDogdW5rbm93biBRb1MuIERvaW5nIG5vdGhpbmcuXCIpO2JyZWFrfX07ZWEuZGVmYXVsdD1oMTt9KTt2YXIgSnI9TShXdD0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShXdCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtXdC5uZXh0VGljaz1XdC5hcHBseU1peGluPVd0LkVycm9yV2l0aFJlYXNvbkNvZGU9dm9pZCAwO3ZhciB0YT1jbGFzcyB0IGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlKSx0aGlzLmNvZGU9cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyx0LnByb3RvdHlwZSksT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLm5hbWU9XCJFcnJvcldpdGhSZWFzb25Db2RlXCI7fX07V3QuRXJyb3JXaXRoUmVhc29uQ29kZT10YTtmdW5jdGlvbiBkMSh0LGUscj0hMSl7dmFyIGk7bGV0IG49W2VdO2Zvcig7Oyl7bGV0IG89blswXSxzPU9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtpZihzPy5wcm90b3R5cGUpbi51bnNoaWZ0KHMpO2Vsc2UgYnJlYWt9Zm9yKGxldCBvIG9mIG4pZm9yKGxldCBzIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG8ucHJvdG90eXBlKSkocnx8cyE9PVwiY29uc3RydWN0b3JcIikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxzLChpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUscykpIT09bnVsbCYmaSE9PXZvaWQgMD9pOk9iamVjdC5jcmVhdGUobnVsbCkpO31XdC5hcHBseU1peGluPWQxO1d0Lm5leHRUaWNrPXR5cGVvZihQPT09bnVsbHx8UD09PXZvaWQgMD92b2lkIDA6UC5uZXh0VGljayk9PVwiZnVuY3Rpb25cIj9QLm5leHRUaWNrOnQ9PntzZXRUaW1lb3V0KHQsMCk7fTt9KTt2YXIgQWk9TShicj0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShicixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtici5SZWFzb25Db2Rlcz12b2lkIDA7YnIuUmVhc29uQ29kZXM9ezA6XCJcIiwxOlwiVW5hY2NlcHRhYmxlIHByb3RvY29sIHZlcnNpb25cIiwyOlwiSWRlbnRpZmllciByZWplY3RlZFwiLDM6XCJTZXJ2ZXIgdW5hdmFpbGFibGVcIiw0OlwiQmFkIHVzZXJuYW1lIG9yIHBhc3N3b3JkXCIsNTpcIk5vdCBhdXRob3JpemVkXCIsMTY6XCJObyBtYXRjaGluZyBzdWJzY3JpYmVyc1wiLDE3OlwiTm8gc3Vic2NyaXB0aW9uIGV4aXN0ZWRcIiwxMjg6XCJVbnNwZWNpZmllZCBlcnJvclwiLDEyOTpcIk1hbGZvcm1lZCBQYWNrZXRcIiwxMzA6XCJQcm90b2NvbCBFcnJvclwiLDEzMTpcIkltcGxlbWVudGF0aW9uIHNwZWNpZmljIGVycm9yXCIsMTMyOlwiVW5zdXBwb3J0ZWQgUHJvdG9jb2wgVmVyc2lvblwiLDEzMzpcIkNsaWVudCBJZGVudGlmaWVyIG5vdCB2YWxpZFwiLDEzNDpcIkJhZCBVc2VyIE5hbWUgb3IgUGFzc3dvcmRcIiwxMzU6XCJOb3QgYXV0aG9yaXplZFwiLDEzNjpcIlNlcnZlciB1bmF2YWlsYWJsZVwiLDEzNzpcIlNlcnZlciBidXN5XCIsMTM4OlwiQmFubmVkXCIsMTM5OlwiU2VydmVyIHNodXR0aW5nIGRvd25cIiwxNDA6XCJCYWQgYXV0aGVudGljYXRpb24gbWV0aG9kXCIsMTQxOlwiS2VlcCBBbGl2ZSB0aW1lb3V0XCIsMTQyOlwiU2Vzc2lvbiB0YWtlbiBvdmVyXCIsMTQzOlwiVG9waWMgRmlsdGVyIGludmFsaWRcIiwxNDQ6XCJUb3BpYyBOYW1lIGludmFsaWRcIiwxNDU6XCJQYWNrZXQgaWRlbnRpZmllciBpbiB1c2VcIiwxNDY6XCJQYWNrZXQgSWRlbnRpZmllciBub3QgZm91bmRcIiwxNDc6XCJSZWNlaXZlIE1heGltdW0gZXhjZWVkZWRcIiwxNDg6XCJUb3BpYyBBbGlhcyBpbnZhbGlkXCIsMTQ5OlwiUGFja2V0IHRvbyBsYXJnZVwiLDE1MDpcIk1lc3NhZ2UgcmF0ZSB0b28gaGlnaFwiLDE1MTpcIlF1b3RhIGV4Y2VlZGVkXCIsMTUyOlwiQWRtaW5pc3RyYXRpdmUgYWN0aW9uXCIsMTUzOlwiUGF5bG9hZCBmb3JtYXQgaW52YWxpZFwiLDE1NDpcIlJldGFpbiBub3Qgc3VwcG9ydGVkXCIsMTU1OlwiUW9TIG5vdCBzdXBwb3J0ZWRcIiwxNTY6XCJVc2UgYW5vdGhlciBzZXJ2ZXJcIiwxNTc6XCJTZXJ2ZXIgbW92ZWRcIiwxNTg6XCJTaGFyZWQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCIsMTU5OlwiQ29ubmVjdGlvbiByYXRlIGV4Y2VlZGVkXCIsMTYwOlwiTWF4aW11bSBjb25uZWN0IHRpbWVcIiwxNjE6XCJTdWJzY3JpcHRpb24gSWRlbnRpZmllcnMgbm90IHN1cHBvcnRlZFwiLDE2MjpcIldpbGRjYXJkIFN1YnNjcmlwdGlvbnMgbm90IHN1cHBvcnRlZFwifTt2YXIgcDE9KHQsZSk9PntsZXR7bWVzc2FnZUlkOnJ9PWUsaT1lLmNtZCxuPW51bGwsbz10Lm91dGdvaW5nW3JdP3Qub3V0Z29pbmdbcl0uY2I6bnVsbCxzO2lmKCFvKXt0LmxvZyhcIl9oYW5kbGVBY2sgOjogU2VydmVyIHNlbnQgYW4gYWNrIGluIGVycm9yLiBJZ25vcmluZy5cIik7cmV0dXJufXN3aXRjaCh0LmxvZyhcIl9oYW5kbGVBY2sgOjogcGFja2V0IHR5cGVcIixpKSxpKXtjYXNlXCJwdWJjb21wXCI6Y2FzZVwicHViYWNrXCI6e2xldCBhPWUucmVhc29uQ29kZTthJiZhPjAmJmEhPT0xNj8ocz1uZXcgRXJyb3IoYFB1Ymxpc2ggZXJyb3I6ICR7YnIuUmVhc29uQ29kZXNbYV19YCkscy5jb2RlPWEsdC5fcmVtb3ZlT3V0Z29pbmdBbmRTdG9yZU1lc3NhZ2UociwoKT0+e28ocyxlKTt9KSk6dC5fcmVtb3ZlT3V0Z29pbmdBbmRTdG9yZU1lc3NhZ2UocixvKTticmVha31jYXNlXCJwdWJyZWNcIjp7bj17Y21kOlwicHVicmVsXCIscW9zOjIsbWVzc2FnZUlkOnJ9O2xldCBhPWUucmVhc29uQ29kZTthJiZhPjAmJmEhPT0xNj8ocz1uZXcgRXJyb3IoYFB1Ymxpc2ggZXJyb3I6ICR7YnIuUmVhc29uQ29kZXNbYV19YCkscy5jb2RlPWEsdC5fcmVtb3ZlT3V0Z29pbmdBbmRTdG9yZU1lc3NhZ2UociwoKT0+e28ocyxlKTt9KSk6dC5fc2VuZFBhY2tldChuKTticmVha31jYXNlXCJzdWJhY2tcIjp7ZGVsZXRlIHQub3V0Z29pbmdbcl0sdC5tZXNzYWdlSWRQcm92aWRlci5kZWFsbG9jYXRlKHIpO2xldCBhPWUuZ3JhbnRlZDtmb3IobGV0IHU9MDt1PGEubGVuZ3RoO3UrKylpZihhW3VdJjEyOCl7bGV0IGM9dC5tZXNzYWdlSWRUb1RvcGljW3JdO2MmJmMuZm9yRWFjaChoPT57ZGVsZXRlIHQuX3Jlc3Vic2NyaWJlVG9waWNzW2hdO30pO31kZWxldGUgdC5tZXNzYWdlSWRUb1RvcGljW3JdLHQuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksbyhudWxsLGUpO2JyZWFrfWNhc2VcInVuc3ViYWNrXCI6e2RlbGV0ZSB0Lm91dGdvaW5nW3JdLHQubWVzc2FnZUlkUHJvdmlkZXIuZGVhbGxvY2F0ZShyKSx0Ll9pbnZva2VTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpLG8obnVsbCk7YnJlYWt9ZGVmYXVsdDp0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcInVucmVjb2duaXplZCBwYWNrZXQgdHlwZVwiKSk7fXQuZGlzY29ubmVjdGluZyYmT2JqZWN0LmtleXModC5vdXRnb2luZykubGVuZ3RoPT09MCYmdC5lbWl0KFwib3V0Z29pbmdFbXB0eVwiKTt9O2JyLmRlZmF1bHQ9cDE7fSk7dmFyIEtkPU0ocmE9Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocmEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHpkPUpyKCksZzE9QWkoKSx5MT0odCxlKT0+e2xldHtvcHRpb25zOnJ9PXQsaT1yLnByb3RvY29sVmVyc2lvbixuPWk9PT01P2UucmVhc29uQ29kZTplLnJldHVybkNvZGU7aWYoaSE9PTUpe2xldCBvPW5ldyB6ZC5FcnJvcldpdGhSZWFzb25Db2RlKGBQcm90b2NvbCBlcnJvcjogQXV0aCBwYWNrZXRzIGFyZSBvbmx5IHN1cHBvcnRlZCBpbiBNUVRUIDUuIFlvdXIgdmVyc2lvbjoke2l9YCxuKTt0LmVtaXQoXCJlcnJvclwiLG8pO3JldHVybn10LmhhbmRsZUF1dGgoZSwobyxzKT0+e2lmKG8pe3QuZW1pdChcImVycm9yXCIsbyk7cmV0dXJufWlmKG49PT0yNCl0LnJlY29ubmVjdGluZz0hMSx0Ll9zZW5kUGFja2V0KHMpO2Vsc2Uge2xldCBhPW5ldyB6ZC5FcnJvcldpdGhSZWFzb25Db2RlKGBDb25uZWN0aW9uIHJlZnVzZWQ6ICR7ZzEuUmVhc29uQ29kZXNbbl19YCxuKTt0LmVtaXQoXCJlcnJvclwiLGEpO319KTt9O3JhLmRlZmF1bHQ9eTE7fSk7dmFyIFhkPU0oa249Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoa24sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7a24uTFJVQ2FjaGU9dm9pZCAwO3ZhciBJaT10eXBlb2YgcGVyZm9ybWFuY2U9PVwib2JqZWN0XCImJnBlcmZvcm1hbmNlJiZ0eXBlb2YgcGVyZm9ybWFuY2Uubm93PT1cImZ1bmN0aW9uXCI/cGVyZm9ybWFuY2U6RGF0ZSxRZD1uZXcgU2V0LGlhPXR5cGVvZiBQPT1cIm9iamVjdFwiJiZQP1A6e30sWWQ9KHQsZSxyLGkpPT57dHlwZW9mIGlhLmVtaXRXYXJuaW5nPT1cImZ1bmN0aW9uXCI/aWEuZW1pdFdhcm5pbmcodCxlLHIsaSk6Y29uc29sZS5lcnJvcihgWyR7cn1dICR7ZX06ICR7dH1gKTt9LE9uPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyLEdkPWdsb2JhbFRoaXMuQWJvcnRTaWduYWw7aWYodHlwZW9mIE9uPlwidVwiKXtHZD1jbGFzc3tvbmFib3J0O19vbmFib3J0PVtdO3JlYXNvbjthYm9ydGVkPSExO2FkZEV2ZW50TGlzdGVuZXIoaSxuKXt0aGlzLl9vbmFib3J0LnB1c2gobik7fX0sT249Y2xhc3N7Y29uc3RydWN0b3IoKXtlKCk7fXNpZ25hbD1uZXcgR2Q7YWJvcnQoaSl7aWYoIXRoaXMuc2lnbmFsLmFib3J0ZWQpe3RoaXMuc2lnbmFsLnJlYXNvbj1pLHRoaXMuc2lnbmFsLmFib3J0ZWQ9ITA7Zm9yKGxldCBuIG9mIHRoaXMuc2lnbmFsLl9vbmFib3J0KW4oaSk7dGhpcy5zaWduYWwub25hYm9ydD8uKGkpO319fTtsZXQgdD1pYS5lbnY/LkxSVV9DQUNIRV9JR05PUkVfQUNfV0FSTklORyE9PVwiMVwiLGU9KCk9Pnt0JiYodD0hMSxZZChcIkFib3J0Q29udHJvbGxlciBpcyBub3QgZGVmaW5lZC4gSWYgdXNpbmcgbHJ1LWNhY2hlIGluIG5vZGUgMTQsIGxvYWQgYW4gQWJvcnRDb250cm9sbGVyIHBvbHlmaWxsIGZyb20gdGhlIGBub2RlLWFib3J0LWNvbnRyb2xsZXJgIHBhY2thZ2UuIEEgbWluaW1hbCBwb2x5ZmlsbCBpcyBwcm92aWRlZCBmb3IgdXNlIGJ5IExSVUNhY2hlLmZldGNoKCksIGJ1dCBpdCBzaG91bGQgbm90IGJlIHJlbGllZCB1cG9uIGluIG90aGVyIGNvbnRleHRzIChlZywgcGFzc2luZyBpdCB0byBvdGhlciBBUElzIHRoYXQgdXNlIEFib3J0Q29udHJvbGxlci9BYm9ydFNpZ25hbCBtaWdodCBoYXZlIHVuZGVzaXJhYmxlIGVmZmVjdHMpLiBZb3UgbWF5IGRpc2FibGUgdGhpcyB3aXRoIExSVV9DQUNIRV9JR05PUkVfQUNfV0FSTklORz0xIGluIHRoZSBlbnYuXCIsXCJOT19BQk9SVF9DT05UUk9MTEVSXCIsXCJFTk9UU1VQXCIsZSkpO307fXZhciBiMT10PT4hUWQuaGFzKHQpLCR0PXQ9PnQmJnQ9PT1NYXRoLmZsb29yKHQpJiZ0PjAmJmlzRmluaXRlKHQpLEpkPXQ9PiR0KHQpP3Q8PU1hdGgucG93KDIsOCk/VWludDhBcnJheTp0PD1NYXRoLnBvdygyLDE2KT9VaW50MTZBcnJheTp0PD1NYXRoLnBvdygyLDMyKT9VaW50MzJBcnJheTp0PD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9YcjpudWxsOm51bGwsWHI9Y2xhc3MgZXh0ZW5kcyBBcnJheXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmZpbGwoMCk7fX0sbmE9Y2xhc3MgdHtoZWFwO2xlbmd0aDtzdGF0aWMjbD0hMTtzdGF0aWMgY3JlYXRlKGUpe2xldCByPUpkKGUpO2lmKCFyKXJldHVybiBbXTt0LiNsPSEwO2xldCBpPW5ldyB0KGUscik7cmV0dXJuIHQuI2w9ITEsaX1jb25zdHJ1Y3RvcihlLHIpe2lmKCF0LiNsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnN0YW50aWF0ZSBTdGFjayB1c2luZyBTdGFjay5jcmVhdGUobilcIik7dGhpcy5oZWFwPW5ldyByKGUpLHRoaXMubGVuZ3RoPTA7fXB1c2goZSl7dGhpcy5oZWFwW3RoaXMubGVuZ3RoKytdPWU7fXBvcCgpe3JldHVybiB0aGlzLmhlYXBbLS10aGlzLmxlbmd0aF19fSxzYT1jbGFzcyB0eyNsOyNjOyNwOyNnOyNCO3R0bDt0dGxSZXNvbHV0aW9uO3R0bEF1dG9wdXJnZTt1cGRhdGVBZ2VPbkdldDt1cGRhdGVBZ2VPbkhhczthbGxvd1N0YWxlO25vRGlzcG9zZU9uU2V0O25vVXBkYXRlVFRMO21heEVudHJ5U2l6ZTtzaXplQ2FsY3VsYXRpb247bm9EZWxldGVPbkZldGNoUmVqZWN0aW9uO25vRGVsZXRlT25TdGFsZUdldDthbGxvd1N0YWxlT25GZXRjaEFib3J0O2FsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uO2lnbm9yZUZldGNoQWJvcnQ7I2k7I3k7I247I3I7I2U7I3U7I2g7I2E7I3M7I2I7I287I0U7I1M7I3c7I187I0k7I2Y7c3RhdGljIHVuc2FmZUV4cG9zZUludGVybmFscyhlKXtyZXR1cm4ge3N0YXJ0czplLiNTLHR0bHM6ZS4jdyxzaXplczplLiNFLGtleU1hcDplLiNuLGtleUxpc3Q6ZS4jcix2YWxMaXN0OmUuI2UsbmV4dDplLiN1LHByZXY6ZS4jaCxnZXQgaGVhZCgpe3JldHVybiBlLiNhfSxnZXQgdGFpbCgpe3JldHVybiBlLiNzfSxmcmVlOmUuI2IsaXNCYWNrZ3JvdW5kRmV0Y2g6cj0+ZS4jdChyKSxiYWNrZ3JvdW5kRmV0Y2g6KHIsaSxuLG8pPT5lLiNrKHIsaSxuLG8pLG1vdmVUb1RhaWw6cj0+ZS4jQyhyKSxpbmRleGVzOnI9PmUuI20ocikscmluZGV4ZXM6cj0+ZS4jdihyKSxpc1N0YWxlOnI9PmUuI2Qocil9fWdldCBtYXgoKXtyZXR1cm4gdGhpcy4jbH1nZXQgbWF4U2l6ZSgpe3JldHVybiB0aGlzLiNjfWdldCBjYWxjdWxhdGVkU2l6ZSgpe3JldHVybiB0aGlzLiN5fWdldCBzaXplKCl7cmV0dXJuIHRoaXMuI2l9Z2V0IGZldGNoTWV0aG9kKCl7cmV0dXJuIHRoaXMuI0J9Z2V0IGRpc3Bvc2UoKXtyZXR1cm4gdGhpcy4jcH1nZXQgZGlzcG9zZUFmdGVyKCl7cmV0dXJuIHRoaXMuI2d9Y29uc3RydWN0b3IoZSl7bGV0e21heDpyPTAsdHRsOmksdHRsUmVzb2x1dGlvbjpuPTEsdHRsQXV0b3B1cmdlOm8sdXBkYXRlQWdlT25HZXQ6cyx1cGRhdGVBZ2VPbkhhczphLGFsbG93U3RhbGU6dSxkaXNwb3NlOmMsZGlzcG9zZUFmdGVyOmgsbm9EaXNwb3NlT25TZXQ6ZCxub1VwZGF0ZVRUTDpnLG1heFNpemU6eT0wLG1heEVudHJ5U2l6ZTp3PTAsc2l6ZUNhbGN1bGF0aW9uOkUsZmV0Y2hNZXRob2Q6Uyxub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb246SSxub0RlbGV0ZU9uU3RhbGVHZXQ6QyxhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbjpSLGFsbG93U3RhbGVPbkZldGNoQWJvcnQ6VSxpZ25vcmVGZXRjaEFib3J0Ok59PWU7aWYociE9PTAmJiEkdChyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibWF4IG9wdGlvbiBtdXN0IGJlIGEgbm9ubmVnYXRpdmUgaW50ZWdlclwiKTtsZXQgVz1yP0pkKHIpOkFycmF5O2lmKCFXKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgbWF4IHZhbHVlOiBcIityKTtpZih0aGlzLiNsPXIsdGhpcy4jYz15LHRoaXMubWF4RW50cnlTaXplPXd8fHRoaXMuI2MsdGhpcy5zaXplQ2FsY3VsYXRpb249RSx0aGlzLnNpemVDYWxjdWxhdGlvbil7aWYoIXRoaXMuI2MmJiF0aGlzLm1heEVudHJ5U2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IHNldCBzaXplQ2FsY3VsYXRpb24gd2l0aG91dCBzZXR0aW5nIG1heFNpemUgb3IgbWF4RW50cnlTaXplXCIpO2lmKHR5cGVvZiB0aGlzLnNpemVDYWxjdWxhdGlvbiE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJzaXplQ2FsY3VsYXRpb24gc2V0IHRvIG5vbi1mdW5jdGlvblwiKX1pZihTIT09dm9pZCAwJiZ0eXBlb2YgUyE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJmZXRjaE1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24gaWYgc3BlY2lmaWVkXCIpO2lmKHRoaXMuI0I9Uyx0aGlzLiNJPSEhUyx0aGlzLiNuPW5ldyBNYXAsdGhpcy4jcj1uZXcgQXJyYXkocikuZmlsbCh2b2lkIDApLHRoaXMuI2U9bmV3IEFycmF5KHIpLmZpbGwodm9pZCAwKSx0aGlzLiN1PW5ldyBXKHIpLHRoaXMuI2g9bmV3IFcociksdGhpcy4jYT0wLHRoaXMuI3M9MCx0aGlzLiNiPW5hLmNyZWF0ZShyKSx0aGlzLiNpPTAsdGhpcy4jeT0wLHR5cGVvZiBjPT1cImZ1bmN0aW9uXCImJih0aGlzLiNwPWMpLHR5cGVvZiBoPT1cImZ1bmN0aW9uXCI/KHRoaXMuI2c9aCx0aGlzLiNvPVtdKToodGhpcy4jZz12b2lkIDAsdGhpcy4jbz12b2lkIDApLHRoaXMuI189ISF0aGlzLiNwLHRoaXMuI2Y9ISF0aGlzLiNnLHRoaXMubm9EaXNwb3NlT25TZXQ9ISFkLHRoaXMubm9VcGRhdGVUVEw9ISFnLHRoaXMubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uPSEhSSx0aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uPSEhUix0aGlzLmFsbG93U3RhbGVPbkZldGNoQWJvcnQ9ISFVLHRoaXMuaWdub3JlRmV0Y2hBYm9ydD0hIU4sdGhpcy5tYXhFbnRyeVNpemUhPT0wKXtpZih0aGlzLiNjIT09MCYmISR0KHRoaXMuI2MpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXhTaXplIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHNwZWNpZmllZFwiKTtpZighJHQodGhpcy5tYXhFbnRyeVNpemUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXhFbnRyeVNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkXCIpO3RoaXMuI3EoKTt9aWYodGhpcy5hbGxvd1N0YWxlPSEhdSx0aGlzLm5vRGVsZXRlT25TdGFsZUdldD0hIUMsdGhpcy51cGRhdGVBZ2VPbkdldD0hIXMsdGhpcy51cGRhdGVBZ2VPbkhhcz0hIWEsdGhpcy50dGxSZXNvbHV0aW9uPSR0KG4pfHxuPT09MD9uOjEsdGhpcy50dGxBdXRvcHVyZ2U9ISFvLHRoaXMudHRsPWl8fDAsdGhpcy50dGwpe2lmKCEkdCh0aGlzLnR0bCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcInR0bCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWRcIik7dGhpcy4jeCgpO31pZih0aGlzLiNsPT09MCYmdGhpcy50dGw9PT0wJiZ0aGlzLiNjPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXQgbGVhc3Qgb25lIG9mIG1heCwgbWF4U2l6ZSwgb3IgdHRsIGlzIHJlcXVpcmVkXCIpO2lmKCF0aGlzLnR0bEF1dG9wdXJnZSYmIXRoaXMuI2wmJiF0aGlzLiNjKXtsZXQgSz1cIkxSVV9DQUNIRV9VTkJPVU5ERURcIjtiMShLKSYmKFFkLmFkZChLKSxZZChcIlRUTCBjYWNoaW5nIHdpdGhvdXQgdHRsQXV0b3B1cmdlLCBtYXgsIG9yIG1heFNpemUgY2FuIHJlc3VsdCBpbiB1bmJvdW5kZWQgbWVtb3J5IGNvbnN1bXB0aW9uLlwiLFwiVW5ib3VuZGVkQ2FjaGVXYXJuaW5nXCIsSyx0KSk7fX1nZXRSZW1haW5pbmdUVEwoZSl7cmV0dXJuIHRoaXMuI24uaGFzKGUpPzEvMDowfSN4KCl7bGV0IGU9bmV3IFhyKHRoaXMuI2wpLHI9bmV3IFhyKHRoaXMuI2wpO3RoaXMuI3c9ZSx0aGlzLiNTPXIsdGhpcy4jTT0obyxzLGE9SWkubm93KCkpPT57aWYocltvXT1zIT09MD9hOjAsZVtvXT1zLHMhPT0wJiZ0aGlzLnR0bEF1dG9wdXJnZSl7bGV0IHU9c2V0VGltZW91dCgoKT0+e3RoaXMuI2QobykmJnRoaXMuZGVsZXRlKHRoaXMuI3Jbb10pO30scysxKTt1LnVucmVmJiZ1LnVucmVmKCk7fX0sdGhpcy4jVD1vPT57cltvXT1lW29dIT09MD9JaS5ub3coKTowO30sdGhpcy4jQT0obyxzKT0+e2lmKGVbc10pe2xldCBhPWVbc10sdT1yW3NdO28udHRsPWEsby5zdGFydD11LG8ubm93PWl8fG4oKTtsZXQgYz1vLm5vdy11O28ucmVtYWluaW5nVFRMPWEtYzt9fTtsZXQgaT0wLG49KCk9PntsZXQgbz1JaS5ub3coKTtpZih0aGlzLnR0bFJlc29sdXRpb24+MCl7aT1vO2xldCBzPXNldFRpbWVvdXQoKCk9Pmk9MCx0aGlzLnR0bFJlc29sdXRpb24pO3MudW5yZWYmJnMudW5yZWYoKTt9cmV0dXJuIG99O3RoaXMuZ2V0UmVtYWluaW5nVFRMPW89PntsZXQgcz10aGlzLiNuLmdldChvKTtpZihzPT09dm9pZCAwKXJldHVybiAwO2xldCBhPWVbc10sdT1yW3NdO2lmKGE9PT0wfHx1PT09MClyZXR1cm4gMS8wO2xldCBjPShpfHxuKCkpLXU7cmV0dXJuIGEtY30sdGhpcy4jZD1vPT5lW29dIT09MCYmcltvXSE9PTAmJihpfHxuKCkpLXJbb10+ZVtvXTt9I1Q9KCk9Pnt9OyNBPSgpPT57fTsjTT0oKT0+e307I2Q9KCk9PiExOyNxKCl7bGV0IGU9bmV3IFhyKHRoaXMuI2wpO3RoaXMuI3k9MCx0aGlzLiNFPWUsdGhpcy4jUj1yPT57dGhpcy4jeS09ZVtyXSxlW3JdPTA7fSx0aGlzLiNMPShyLGksbixvKT0+e2lmKHRoaXMuI3QoaSkpcmV0dXJuIDA7aWYoISR0KG4pKWlmKG8pe2lmKHR5cGVvZiBvIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcInNpemVDYWxjdWxhdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYobj1vKGksciksISR0KG4pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJzaXplQ2FsY3VsYXRpb24gcmV0dXJuIGludmFsaWQgKGV4cGVjdCBwb3NpdGl2ZSBpbnRlZ2VyKVwiKX1lbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIHNpemUgdmFsdWUgKG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcikuIFdoZW4gbWF4U2l6ZSBvciBtYXhFbnRyeVNpemUgaXMgdXNlZCwgc2l6ZUNhbGN1bGF0aW9uIG9yIHNpemUgbXVzdCBiZSBzZXQuXCIpO3JldHVybiBufSx0aGlzLiNQPShyLGksbik9PntpZihlW3JdPWksdGhpcy4jYyl7bGV0IG89dGhpcy4jYy1lW3JdO2Zvcig7dGhpcy4jeT5vOyl0aGlzLiNPKCEwKTt9dGhpcy4jeSs9ZVtyXSxuJiYobi5lbnRyeVNpemU9aSxuLnRvdGFsQ2FsY3VsYXRlZFNpemU9dGhpcy4jeSk7fTt9I1I9ZT0+e307I1A9KGUscixpKT0+e307I0w9KGUscixpLG4pPT57aWYoaXx8bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IHNldCBzaXplIHdpdGhvdXQgc2V0dGluZyBtYXhTaXplIG9yIG1heEVudHJ5U2l6ZSBvbiBjYWNoZVwiKTtyZXR1cm4gMH07KiNtKHthbGxvd1N0YWxlOmU9dGhpcy5hbGxvd1N0YWxlfT17fSl7aWYodGhpcy4jaSlmb3IobGV0IHI9dGhpcy4jczshKCF0aGlzLiNVKHIpfHwoKGV8fCF0aGlzLiNkKHIpKSYmKHlpZWxkIHIpLHI9PT10aGlzLiNhKSk7KXI9dGhpcy4jaFtyXTt9KiN2KHthbGxvd1N0YWxlOmU9dGhpcy5hbGxvd1N0YWxlfT17fSl7aWYodGhpcy4jaSlmb3IobGV0IHI9dGhpcy4jYTshKCF0aGlzLiNVKHIpfHwoKGV8fCF0aGlzLiNkKHIpKSYmKHlpZWxkIHIpLHI9PT10aGlzLiNzKSk7KXI9dGhpcy4jdVtyXTt9I1UoZSl7cmV0dXJuIGUhPT12b2lkIDAmJnRoaXMuI24uZ2V0KHRoaXMuI3JbZV0pPT09ZX0qZW50cmllcygpe2ZvcihsZXQgZSBvZiB0aGlzLiNtKCkpdGhpcy4jZVtlXSE9PXZvaWQgMCYmdGhpcy4jcltlXSE9PXZvaWQgMCYmIXRoaXMuI3QodGhpcy4jZVtlXSkmJih5aWVsZCBbdGhpcy4jcltlXSx0aGlzLiNlW2VdXSk7fSpyZW50cmllcygpe2ZvcihsZXQgZSBvZiB0aGlzLiN2KCkpdGhpcy4jZVtlXSE9PXZvaWQgMCYmdGhpcy4jcltlXSE9PXZvaWQgMCYmIXRoaXMuI3QodGhpcy4jZVtlXSkmJih5aWVsZCBbdGhpcy4jcltlXSx0aGlzLiNlW2VdXSk7fSprZXlzKCl7Zm9yKGxldCBlIG9mIHRoaXMuI20oKSl7bGV0IHI9dGhpcy4jcltlXTtyIT09dm9pZCAwJiYhdGhpcy4jdCh0aGlzLiNlW2VdKSYmKHlpZWxkIHIpO319KnJrZXlzKCl7Zm9yKGxldCBlIG9mIHRoaXMuI3YoKSl7bGV0IHI9dGhpcy4jcltlXTtyIT09dm9pZCAwJiYhdGhpcy4jdCh0aGlzLiNlW2VdKSYmKHlpZWxkIHIpO319KnZhbHVlcygpe2ZvcihsZXQgZSBvZiB0aGlzLiNtKCkpdGhpcy4jZVtlXSE9PXZvaWQgMCYmIXRoaXMuI3QodGhpcy4jZVtlXSkmJih5aWVsZCB0aGlzLiNlW2VdKTt9KnJ2YWx1ZXMoKXtmb3IobGV0IGUgb2YgdGhpcy4jdigpKXRoaXMuI2VbZV0hPT12b2lkIDAmJiF0aGlzLiN0KHRoaXMuI2VbZV0pJiYoeWllbGQgdGhpcy4jZVtlXSk7fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfWZpbmQoZSxyPXt9KXtmb3IobGV0IGkgb2YgdGhpcy4jbSgpKXtsZXQgbj10aGlzLiNlW2ldLG89dGhpcy4jdChuKT9uLl9fc3RhbGVXaGlsZUZldGNoaW5nOm47aWYobyE9PXZvaWQgMCYmZShvLHRoaXMuI3JbaV0sdGhpcykpcmV0dXJuIHRoaXMuZ2V0KHRoaXMuI3JbaV0scil9fWZvckVhY2goZSxyPXRoaXMpe2ZvcihsZXQgaSBvZiB0aGlzLiNtKCkpe2xldCBuPXRoaXMuI2VbaV0sbz10aGlzLiN0KG4pP24uX19zdGFsZVdoaWxlRmV0Y2hpbmc6bjtvIT09dm9pZCAwJiZlLmNhbGwocixvLHRoaXMuI3JbaV0sdGhpcyk7fX1yZm9yRWFjaChlLHI9dGhpcyl7Zm9yKGxldCBpIG9mIHRoaXMuI3YoKSl7bGV0IG49dGhpcy4jZVtpXSxvPXRoaXMuI3Qobik/bi5fX3N0YWxlV2hpbGVGZXRjaGluZzpuO28hPT12b2lkIDAmJmUuY2FsbChyLG8sdGhpcy4jcltpXSx0aGlzKTt9fXB1cmdlU3RhbGUoKXtsZXQgZT0hMTtmb3IobGV0IHIgb2YgdGhpcy4jdih7YWxsb3dTdGFsZTohMH0pKXRoaXMuI2QocikmJih0aGlzLmRlbGV0ZSh0aGlzLiNyW3JdKSxlPSEwKTtyZXR1cm4gZX1kdW1wKCl7bGV0IGU9W107Zm9yKGxldCByIG9mIHRoaXMuI20oe2FsbG93U3RhbGU6ITB9KSl7bGV0IGk9dGhpcy4jcltyXSxuPXRoaXMuI2Vbcl0sbz10aGlzLiN0KG4pP24uX19zdGFsZVdoaWxlRmV0Y2hpbmc6bjtpZihvPT09dm9pZCAwfHxpPT09dm9pZCAwKWNvbnRpbnVlO2xldCBzPXt2YWx1ZTpvfTtpZih0aGlzLiN3JiZ0aGlzLiNTKXtzLnR0bD10aGlzLiN3W3JdO2xldCBhPUlpLm5vdygpLXRoaXMuI1Nbcl07cy5zdGFydD1NYXRoLmZsb29yKERhdGUubm93KCktYSk7fXRoaXMuI0UmJihzLnNpemU9dGhpcy4jRVtyXSksZS51bnNoaWZ0KFtpLHNdKTt9cmV0dXJuIGV9bG9hZChlKXt0aGlzLmNsZWFyKCk7Zm9yKGxldFtyLGldb2YgZSl7aWYoaS5zdGFydCl7bGV0IG49RGF0ZS5ub3coKS1pLnN0YXJ0O2kuc3RhcnQ9SWkubm93KCktbjt9dGhpcy5zZXQocixpLnZhbHVlLGkpO319c2V0KGUscixpPXt9KXtpZihyPT09dm9pZCAwKXJldHVybiB0aGlzLmRlbGV0ZShlKSx0aGlzO2xldHt0dGw6bj10aGlzLnR0bCxzdGFydDpvLG5vRGlzcG9zZU9uU2V0OnM9dGhpcy5ub0Rpc3Bvc2VPblNldCxzaXplQ2FsY3VsYXRpb246YT10aGlzLnNpemVDYWxjdWxhdGlvbixzdGF0dXM6dX09aSx7bm9VcGRhdGVUVEw6Yz10aGlzLm5vVXBkYXRlVFRMfT1pLGg9dGhpcy4jTChlLHIsaS5zaXplfHwwLGEpO2lmKHRoaXMubWF4RW50cnlTaXplJiZoPnRoaXMubWF4RW50cnlTaXplKXJldHVybiB1JiYodS5zZXQ9XCJtaXNzXCIsdS5tYXhFbnRyeVNpemVFeGNlZWRlZD0hMCksdGhpcy5kZWxldGUoZSksdGhpcztsZXQgZD10aGlzLiNpPT09MD92b2lkIDA6dGhpcy4jbi5nZXQoZSk7aWYoZD09PXZvaWQgMClkPXRoaXMuI2k9PT0wP3RoaXMuI3M6dGhpcy4jYi5sZW5ndGghPT0wP3RoaXMuI2IucG9wKCk6dGhpcy4jaT09PXRoaXMuI2w/dGhpcy4jTyghMSk6dGhpcy4jaSx0aGlzLiNyW2RdPWUsdGhpcy4jZVtkXT1yLHRoaXMuI24uc2V0KGUsZCksdGhpcy4jdVt0aGlzLiNzXT1kLHRoaXMuI2hbZF09dGhpcy4jcyx0aGlzLiNzPWQsdGhpcy4jaSsrLHRoaXMuI1AoZCxoLHUpLHUmJih1LnNldD1cImFkZFwiKSxjPSExO2Vsc2Uge3RoaXMuI0MoZCk7bGV0IGc9dGhpcy4jZVtkXTtpZihyIT09Zyl7aWYodGhpcy4jSSYmdGhpcy4jdChnKSl7Zy5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoXCJyZXBsYWNlZFwiKSk7bGV0e19fc3RhbGVXaGlsZUZldGNoaW5nOnl9PWc7eSE9PXZvaWQgMCYmIXMmJih0aGlzLiNfJiZ0aGlzLiNwPy4oeSxlLFwic2V0XCIpLHRoaXMuI2YmJnRoaXMuI28/LnB1c2goW3ksZSxcInNldFwiXSkpO31lbHNlIHN8fCh0aGlzLiNfJiZ0aGlzLiNwPy4oZyxlLFwic2V0XCIpLHRoaXMuI2YmJnRoaXMuI28/LnB1c2goW2csZSxcInNldFwiXSkpO2lmKHRoaXMuI1IoZCksdGhpcy4jUChkLGgsdSksdGhpcy4jZVtkXT1yLHUpe3Uuc2V0PVwicmVwbGFjZVwiO2xldCB5PWcmJnRoaXMuI3QoZyk/Zy5fX3N0YWxlV2hpbGVGZXRjaGluZzpnO3khPT12b2lkIDAmJih1Lm9sZFZhbHVlPXkpO319ZWxzZSB1JiYodS5zZXQ9XCJ1cGRhdGVcIik7fWlmKG4hPT0wJiYhdGhpcy4jdyYmdGhpcy4jeCgpLHRoaXMuI3cmJihjfHx0aGlzLiNNKGQsbixvKSx1JiZ0aGlzLiNBKHUsZCkpLCFzJiZ0aGlzLiNmJiZ0aGlzLiNvKXtsZXQgZz10aGlzLiNvLHk7Zm9yKDt5PWc/LnNoaWZ0KCk7KXRoaXMuI2c/LiguLi55KTt9cmV0dXJuIHRoaXN9cG9wKCl7dHJ5e2Zvcig7dGhpcy4jaTspe2xldCBlPXRoaXMuI2VbdGhpcy4jYV07aWYodGhpcy4jTyghMCksdGhpcy4jdChlKSl7aWYoZS5fX3N0YWxlV2hpbGVGZXRjaGluZylyZXR1cm4gZS5fX3N0YWxlV2hpbGVGZXRjaGluZ31lbHNlIGlmKGUhPT12b2lkIDApcmV0dXJuIGV9fWZpbmFsbHl7aWYodGhpcy4jZiYmdGhpcy4jbyl7bGV0IGU9dGhpcy4jbyxyO2Zvcig7cj1lPy5zaGlmdCgpOyl0aGlzLiNnPy4oLi4ucik7fX19I08oZSl7bGV0IHI9dGhpcy4jYSxpPXRoaXMuI3Jbcl0sbj10aGlzLiNlW3JdO3JldHVybiB0aGlzLiNJJiZ0aGlzLiN0KG4pP24uX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKFwiZXZpY3RlZFwiKSk6KHRoaXMuI198fHRoaXMuI2YpJiYodGhpcy4jXyYmdGhpcy4jcD8uKG4saSxcImV2aWN0XCIpLHRoaXMuI2YmJnRoaXMuI28/LnB1c2goW24saSxcImV2aWN0XCJdKSksdGhpcy4jUihyKSxlJiYodGhpcy4jcltyXT12b2lkIDAsdGhpcy4jZVtyXT12b2lkIDAsdGhpcy4jYi5wdXNoKHIpKSx0aGlzLiNpPT09MT8odGhpcy4jYT10aGlzLiNzPTAsdGhpcy4jYi5sZW5ndGg9MCk6dGhpcy4jYT10aGlzLiN1W3JdLHRoaXMuI24uZGVsZXRlKGkpLHRoaXMuI2ktLSxyfWhhcyhlLHI9e30pe2xldHt1cGRhdGVBZ2VPbkhhczppPXRoaXMudXBkYXRlQWdlT25IYXMsc3RhdHVzOm59PXIsbz10aGlzLiNuLmdldChlKTtpZihvIT09dm9pZCAwKXtsZXQgcz10aGlzLiNlW29dO2lmKHRoaXMuI3QocykmJnMuX19zdGFsZVdoaWxlRmV0Y2hpbmc9PT12b2lkIDApcmV0dXJuICExO2lmKHRoaXMuI2QobykpbiYmKG4uaGFzPVwic3RhbGVcIix0aGlzLiNBKG4sbykpO2Vsc2UgcmV0dXJuIGkmJnRoaXMuI1QobyksbiYmKG4uaGFzPVwiaGl0XCIsdGhpcy4jQShuLG8pKSwhMH1lbHNlIG4mJihuLmhhcz1cIm1pc3NcIik7cmV0dXJuICExfXBlZWsoZSxyPXt9KXtsZXR7YWxsb3dTdGFsZTppPXRoaXMuYWxsb3dTdGFsZX09cixuPXRoaXMuI24uZ2V0KGUpO2lmKG4hPT12b2lkIDAmJihpfHwhdGhpcy4jZChuKSkpe2xldCBvPXRoaXMuI2Vbbl07cmV0dXJuIHRoaXMuI3Qobyk/by5fX3N0YWxlV2hpbGVGZXRjaGluZzpvfX0jayhlLHIsaSxuKXtsZXQgbz1yPT09dm9pZCAwP3ZvaWQgMDp0aGlzLiNlW3JdO2lmKHRoaXMuI3QobykpcmV0dXJuIG87bGV0IHM9bmV3IE9uLHtzaWduYWw6YX09aTthPy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKT0+cy5hYm9ydChhLnJlYXNvbikse3NpZ25hbDpzLnNpZ25hbH0pO2xldCB1PXtzaWduYWw6cy5zaWduYWwsb3B0aW9uczppLGNvbnRleHQ6bn0sYz0oRSxTPSExKT0+e2xldHthYm9ydGVkOkl9PXMuc2lnbmFsLEM9aS5pZ25vcmVGZXRjaEFib3J0JiZFIT09dm9pZCAwO2lmKGkuc3RhdHVzJiYoSSYmIVM/KGkuc3RhdHVzLmZldGNoQWJvcnRlZD0hMCxpLnN0YXR1cy5mZXRjaEVycm9yPXMuc2lnbmFsLnJlYXNvbixDJiYoaS5zdGF0dXMuZmV0Y2hBYm9ydElnbm9yZWQ9ITApKTppLnN0YXR1cy5mZXRjaFJlc29sdmVkPSEwKSxJJiYhQyYmIVMpcmV0dXJuIGQocy5zaWduYWwucmVhc29uKTtsZXQgUj15O3JldHVybiB0aGlzLiNlW3JdPT09eSYmKEU9PT12b2lkIDA/Ui5fX3N0YWxlV2hpbGVGZXRjaGluZz90aGlzLiNlW3JdPVIuX19zdGFsZVdoaWxlRmV0Y2hpbmc6dGhpcy5kZWxldGUoZSk6KGkuc3RhdHVzJiYoaS5zdGF0dXMuZmV0Y2hVcGRhdGVkPSEwKSx0aGlzLnNldChlLEUsdS5vcHRpb25zKSkpLEV9LGg9RT0+KGkuc3RhdHVzJiYoaS5zdGF0dXMuZmV0Y2hSZWplY3RlZD0hMCxpLnN0YXR1cy5mZXRjaEVycm9yPUUpLGQoRSkpLGQ9RT0+e2xldHthYm9ydGVkOlN9PXMuc2lnbmFsLEk9UyYmaS5hbGxvd1N0YWxlT25GZXRjaEFib3J0LEM9SXx8aS5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbixSPUN8fGkubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uLFU9eTtpZih0aGlzLiNlW3JdPT09eSYmKCFSfHxVLl9fc3RhbGVXaGlsZUZldGNoaW5nPT09dm9pZCAwP3RoaXMuZGVsZXRlKGUpOkl8fCh0aGlzLiNlW3JdPVUuX19zdGFsZVdoaWxlRmV0Y2hpbmcpKSxDKXJldHVybiBpLnN0YXR1cyYmVS5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCYmKGkuc3RhdHVzLnJldHVybmVkU3RhbGU9ITApLFUuX19zdGFsZVdoaWxlRmV0Y2hpbmc7aWYoVS5fX3JldHVybmVkPT09VSl0aHJvdyBFfSxnPShFLFMpPT57bGV0IEk9dGhpcy4jQj8uKGUsbyx1KTtJJiZJIGluc3RhbmNlb2YgUHJvbWlzZSYmSS50aGVuKEM9PkUoQz09PXZvaWQgMD92b2lkIDA6QyksUykscy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsKCk9PnsoIWkuaWdub3JlRmV0Y2hBYm9ydHx8aS5hbGxvd1N0YWxlT25GZXRjaEFib3J0KSYmKEUodm9pZCAwKSxpLmFsbG93U3RhbGVPbkZldGNoQWJvcnQmJihFPUM9PmMoQywhMCkpKTt9KTt9O2kuc3RhdHVzJiYoaS5zdGF0dXMuZmV0Y2hEaXNwYXRjaGVkPSEwKTtsZXQgeT1uZXcgUHJvbWlzZShnKS50aGVuKGMsaCksdz1PYmplY3QuYXNzaWduKHkse19fYWJvcnRDb250cm9sbGVyOnMsX19zdGFsZVdoaWxlRmV0Y2hpbmc6byxfX3JldHVybmVkOnZvaWQgMH0pO3JldHVybiByPT09dm9pZCAwPyh0aGlzLnNldChlLHcsey4uLnUub3B0aW9ucyxzdGF0dXM6dm9pZCAwfSkscj10aGlzLiNuLmdldChlKSk6dGhpcy4jZVtyXT13LHd9I3QoZSl7aWYoIXRoaXMuI0kpcmV0dXJuICExO2xldCByPWU7cmV0dXJuICEhciYmciBpbnN0YW5jZW9mIFByb21pc2UmJnIuaGFzT3duUHJvcGVydHkoXCJfX3N0YWxlV2hpbGVGZXRjaGluZ1wiKSYmci5fX2Fib3J0Q29udHJvbGxlciBpbnN0YW5jZW9mIE9ufWFzeW5jIGZldGNoKGUscj17fSl7bGV0e2FsbG93U3RhbGU6aT10aGlzLmFsbG93U3RhbGUsdXBkYXRlQWdlT25HZXQ6bj10aGlzLnVwZGF0ZUFnZU9uR2V0LG5vRGVsZXRlT25TdGFsZUdldDpvPXRoaXMubm9EZWxldGVPblN0YWxlR2V0LHR0bDpzPXRoaXMudHRsLG5vRGlzcG9zZU9uU2V0OmE9dGhpcy5ub0Rpc3Bvc2VPblNldCxzaXplOnU9MCxzaXplQ2FsY3VsYXRpb246Yz10aGlzLnNpemVDYWxjdWxhdGlvbixub1VwZGF0ZVRUTDpoPXRoaXMubm9VcGRhdGVUVEwsbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uOmQ9dGhpcy5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb24sYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246Zz10aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uLGlnbm9yZUZldGNoQWJvcnQ6eT10aGlzLmlnbm9yZUZldGNoQWJvcnQsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDp3PXRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCxjb250ZXh0OkUsZm9yY2VSZWZyZXNoOlM9ITEsc3RhdHVzOkksc2lnbmFsOkN9PXI7aWYoIXRoaXMuI0kpcmV0dXJuIEkmJihJLmZldGNoPVwiZ2V0XCIpLHRoaXMuZ2V0KGUse2FsbG93U3RhbGU6aSx1cGRhdGVBZ2VPbkdldDpuLG5vRGVsZXRlT25TdGFsZUdldDpvLHN0YXR1czpJfSk7bGV0IFI9e2FsbG93U3RhbGU6aSx1cGRhdGVBZ2VPbkdldDpuLG5vRGVsZXRlT25TdGFsZUdldDpvLHR0bDpzLG5vRGlzcG9zZU9uU2V0OmEsc2l6ZTp1LHNpemVDYWxjdWxhdGlvbjpjLG5vVXBkYXRlVFRMOmgsbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uOmQsYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246ZyxhbGxvd1N0YWxlT25GZXRjaEFib3J0OncsaWdub3JlRmV0Y2hBYm9ydDp5LHN0YXR1czpJLHNpZ25hbDpDfSxVPXRoaXMuI24uZ2V0KGUpO2lmKFU9PT12b2lkIDApe0kmJihJLmZldGNoPVwibWlzc1wiKTtsZXQgTj10aGlzLiNrKGUsVSxSLEUpO3JldHVybiBOLl9fcmV0dXJuZWQ9Tn1lbHNlIHtsZXQgTj10aGlzLiNlW1VdO2lmKHRoaXMuI3QoTikpe2xldCBkZT1pJiZOLl9fc3RhbGVXaGlsZUZldGNoaW5nIT09dm9pZCAwO3JldHVybiBJJiYoSS5mZXRjaD1cImluZmxpZ2h0XCIsZGUmJihJLnJldHVybmVkU3RhbGU9ITApKSxkZT9OLl9fc3RhbGVXaGlsZUZldGNoaW5nOk4uX19yZXR1cm5lZD1OfWxldCBXPXRoaXMuI2QoVSk7aWYoIVMmJiFXKXJldHVybiBJJiYoSS5mZXRjaD1cImhpdFwiKSx0aGlzLiNDKFUpLG4mJnRoaXMuI1QoVSksSSYmdGhpcy4jQShJLFUpLE47bGV0IEs9dGhpcy4jayhlLFUsUixFKSxRPUsuX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDAmJmk7cmV0dXJuIEkmJihJLmZldGNoPVc/XCJzdGFsZVwiOlwicmVmcmVzaFwiLFEmJlcmJihJLnJldHVybmVkU3RhbGU9ITApKSxRP0suX19zdGFsZVdoaWxlRmV0Y2hpbmc6Sy5fX3JldHVybmVkPUt9fWdldChlLHI9e30pe2xldHthbGxvd1N0YWxlOmk9dGhpcy5hbGxvd1N0YWxlLHVwZGF0ZUFnZU9uR2V0Om49dGhpcy51cGRhdGVBZ2VPbkdldCxub0RlbGV0ZU9uU3RhbGVHZXQ6bz10aGlzLm5vRGVsZXRlT25TdGFsZUdldCxzdGF0dXM6c309cixhPXRoaXMuI24uZ2V0KGUpO2lmKGEhPT12b2lkIDApe2xldCB1PXRoaXMuI2VbYV0sYz10aGlzLiN0KHUpO3JldHVybiBzJiZ0aGlzLiNBKHMsYSksdGhpcy4jZChhKT8ocyYmKHMuZ2V0PVwic3RhbGVcIiksYz8ocyYmaSYmdS5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCYmKHMucmV0dXJuZWRTdGFsZT0hMCksaT91Ll9fc3RhbGVXaGlsZUZldGNoaW5nOnZvaWQgMCk6KG98fHRoaXMuZGVsZXRlKGUpLHMmJmkmJihzLnJldHVybmVkU3RhbGU9ITApLGk/dTp2b2lkIDApKToocyYmKHMuZ2V0PVwiaGl0XCIpLGM/dS5fX3N0YWxlV2hpbGVGZXRjaGluZzoodGhpcy4jQyhhKSxuJiZ0aGlzLiNUKGEpLHUpKX1lbHNlIHMmJihzLmdldD1cIm1pc3NcIik7fSNOKGUscil7dGhpcy4jaFtyXT1lLHRoaXMuI3VbZV09cjt9I0MoZSl7ZSE9PXRoaXMuI3MmJihlPT09dGhpcy4jYT90aGlzLiNhPXRoaXMuI3VbZV06dGhpcy4jTih0aGlzLiNoW2VdLHRoaXMuI3VbZV0pLHRoaXMuI04odGhpcy4jcyxlKSx0aGlzLiNzPWUpO31kZWxldGUoZSl7bGV0IHI9ITE7aWYodGhpcy4jaSE9PTApe2xldCBpPXRoaXMuI24uZ2V0KGUpO2lmKGkhPT12b2lkIDApaWYocj0hMCx0aGlzLiNpPT09MSl0aGlzLmNsZWFyKCk7ZWxzZSB7dGhpcy4jUihpKTtsZXQgbj10aGlzLiNlW2ldO3RoaXMuI3Qobik/bi5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoXCJkZWxldGVkXCIpKToodGhpcy4jX3x8dGhpcy4jZikmJih0aGlzLiNfJiZ0aGlzLiNwPy4obixlLFwiZGVsZXRlXCIpLHRoaXMuI2YmJnRoaXMuI28/LnB1c2goW24sZSxcImRlbGV0ZVwiXSkpLHRoaXMuI24uZGVsZXRlKGUpLHRoaXMuI3JbaV09dm9pZCAwLHRoaXMuI2VbaV09dm9pZCAwLGk9PT10aGlzLiNzP3RoaXMuI3M9dGhpcy4jaFtpXTppPT09dGhpcy4jYT90aGlzLiNhPXRoaXMuI3VbaV06KHRoaXMuI3VbdGhpcy4jaFtpXV09dGhpcy4jdVtpXSx0aGlzLiNoW3RoaXMuI3VbaV1dPXRoaXMuI2hbaV0pLHRoaXMuI2ktLSx0aGlzLiNiLnB1c2goaSk7fX1pZih0aGlzLiNmJiZ0aGlzLiNvPy5sZW5ndGgpe2xldCBpPXRoaXMuI28sbjtmb3IoO249aT8uc2hpZnQoKTspdGhpcy4jZz8uKC4uLm4pO31yZXR1cm4gcn1jbGVhcigpe2ZvcihsZXQgZSBvZiB0aGlzLiN2KHthbGxvd1N0YWxlOiEwfSkpe2xldCByPXRoaXMuI2VbZV07aWYodGhpcy4jdChyKSlyLl9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcihcImRlbGV0ZWRcIikpO2Vsc2Uge2xldCBpPXRoaXMuI3JbZV07dGhpcy4jXyYmdGhpcy4jcD8uKHIsaSxcImRlbGV0ZVwiKSx0aGlzLiNmJiZ0aGlzLiNvPy5wdXNoKFtyLGksXCJkZWxldGVcIl0pO319aWYodGhpcy4jbi5jbGVhcigpLHRoaXMuI2UuZmlsbCh2b2lkIDApLHRoaXMuI3IuZmlsbCh2b2lkIDApLHRoaXMuI3cmJnRoaXMuI1MmJih0aGlzLiN3LmZpbGwoMCksdGhpcy4jUy5maWxsKDApKSx0aGlzLiNFJiZ0aGlzLiNFLmZpbGwoMCksdGhpcy4jYT0wLHRoaXMuI3M9MCx0aGlzLiNiLmxlbmd0aD0wLHRoaXMuI3k9MCx0aGlzLiNpPTAsdGhpcy4jZiYmdGhpcy4jbyl7bGV0IGU9dGhpcy4jbyxyO2Zvcig7cj1lPy5zaGlmdCgpOyl0aGlzLiNnPy4oLi4ucik7fX19O2tuLkxSVUNhY2hlPXNhO30pO3ZhciBhdD1NKEh0PT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEh0LFwidFwiLHt2YWx1ZTohMH0pO0h0LkNvbnRhaW5lckl0ZXJhdG9yPUh0LkNvbnRhaW5lcj1IdC5CYXNlPXZvaWQgMDt2YXIgb2E9Y2xhc3N7Y29uc3RydWN0b3IoZT0wKXt0aGlzLml0ZXJhdG9yVHlwZT1lO31lcXVhbHMoZSl7cmV0dXJuIHRoaXMubz09PWUub319O0h0LkNvbnRhaW5lckl0ZXJhdG9yPW9hO3ZhciB4bj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuaT0wO31nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuaX1zaXplKCl7cmV0dXJuIHRoaXMuaX1lbXB0eSgpe3JldHVybiB0aGlzLmk9PT0wfX07SHQuQmFzZT14bjt2YXIgYWE9Y2xhc3MgZXh0ZW5kcyB4bnt9O0h0LkNvbnRhaW5lcj1hYTt9KTt2YXIgWmQ9TShNbj0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShNbixcInRcIix7dmFsdWU6ITB9KTtNbi5kZWZhdWx0PXZvaWQgMDt2YXIgdzE9YXQoKSxsYT1jbGFzcyBleHRlbmRzIHcxLkJhc2V7Y29uc3RydWN0b3IoZT1bXSl7c3VwZXIoKSx0aGlzLlM9W107bGV0IHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oaSl7ci5wdXNoKGkpO30pO31jbGVhcigpe3RoaXMuaT0wLHRoaXMuUz1bXTt9cHVzaChlKXtyZXR1cm4gdGhpcy5TLnB1c2goZSksdGhpcy5pKz0xLHRoaXMuaX1wb3AoKXtpZih0aGlzLmkhPT0wKXJldHVybiB0aGlzLmktPTEsdGhpcy5TLnBvcCgpfXRvcCgpe3JldHVybiB0aGlzLlNbdGhpcy5pLTFdfX0sXzE9bGE7TW4uZGVmYXVsdD1fMTt9KTt2YXIgZXA9TShMbj0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShMbixcInRcIix7dmFsdWU6ITB9KTtMbi5kZWZhdWx0PXZvaWQgMDt2YXIgbTE9YXQoKSx1YT1jbGFzcyBleHRlbmRzIG0xLkJhc2V7Y29uc3RydWN0b3IoZT1bXSl7c3VwZXIoKSx0aGlzLmo9MCx0aGlzLnE9W107bGV0IHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oaSl7ci5wdXNoKGkpO30pO31jbGVhcigpe3RoaXMucT1bXSx0aGlzLmk9dGhpcy5qPTA7fXB1c2goZSl7bGV0IHI9dGhpcy5xLmxlbmd0aDtpZih0aGlzLmovcj4uNSYmdGhpcy5qK3RoaXMuaT49ciYmcj40MDk2KXtsZXQgaT10aGlzLmk7Zm9yKGxldCBuPTA7bjxpOysrbil0aGlzLnFbbl09dGhpcy5xW3RoaXMuaituXTt0aGlzLmo9MCx0aGlzLnFbdGhpcy5pXT1lO31lbHNlIHRoaXMucVt0aGlzLmordGhpcy5pXT1lO3JldHVybiArK3RoaXMuaX1wb3AoKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLnFbdGhpcy5qKytdO3JldHVybiB0aGlzLmktPTEsZX1mcm9udCgpe2lmKHRoaXMuaSE9PTApcmV0dXJuIHRoaXMucVt0aGlzLmpdfX0sdjE9dWE7TG4uZGVmYXVsdD12MTt9KTt2YXIgdHA9TShVbj0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShVbixcInRcIix7dmFsdWU6ITB9KTtVbi5kZWZhdWx0PXZvaWQgMDt2YXIgRTE9YXQoKSxmYT1jbGFzcyBleHRlbmRzIEUxLkJhc2V7Y29uc3RydWN0b3IoZT1bXSxyPWZ1bmN0aW9uKG4sbyl7cmV0dXJuIG4+bz8tMTpuPG8/MTowfSxpPSEwKXtpZihzdXBlcigpLHRoaXMudj1yLEFycmF5LmlzQXJyYXkoZSkpdGhpcy5DPWk/Wy4uLmVdOmU7ZWxzZSB7dGhpcy5DPVtdO2xldCBvPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKHMpe28uQy5wdXNoKHMpO30pO310aGlzLmk9dGhpcy5DLmxlbmd0aDtsZXQgbj10aGlzLmk+PjE7Zm9yKGxldCBvPXRoaXMuaS0xPj4xO28+PTA7LS1vKXRoaXMuayhvLG4pO31tKGUpe2xldCByPXRoaXMuQ1tlXTtmb3IoO2U+MDspe2xldCBpPWUtMT4+MSxuPXRoaXMuQ1tpXTtpZih0aGlzLnYobixyKTw9MClicmVhazt0aGlzLkNbZV09bixlPWk7fXRoaXMuQ1tlXT1yO31rKGUscil7bGV0IGk9dGhpcy5DW2VdO2Zvcig7ZTxyOyl7bGV0IG49ZTw8MXwxLG89bisxLHM9dGhpcy5DW25dO2lmKG88dGhpcy5pJiZ0aGlzLnYocyx0aGlzLkNbb10pPjAmJihuPW8scz10aGlzLkNbb10pLHRoaXMudihzLGkpPj0wKWJyZWFrO3RoaXMuQ1tlXT1zLGU9bjt9dGhpcy5DW2VdPWk7fWNsZWFyKCl7dGhpcy5pPTAsdGhpcy5DLmxlbmd0aD0wO31wdXNoKGUpe3RoaXMuQy5wdXNoKGUpLHRoaXMubSh0aGlzLmkpLHRoaXMuaSs9MTt9cG9wKCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5DWzBdLHI9dGhpcy5DLnBvcCgpO3JldHVybiB0aGlzLmktPTEsdGhpcy5pJiYodGhpcy5DWzBdPXIsdGhpcy5rKDAsdGhpcy5pPj4xKSksZX10b3AoKXtyZXR1cm4gdGhpcy5DWzBdfWZpbmQoZSl7cmV0dXJuIHRoaXMuQy5pbmRleE9mKGUpPj0wfXJlbW92ZShlKXtsZXQgcj10aGlzLkMuaW5kZXhPZihlKTtyZXR1cm4gcjwwPyExOihyPT09MD90aGlzLnBvcCgpOnI9PT10aGlzLmktMT8odGhpcy5DLnBvcCgpLHRoaXMuaS09MSk6KHRoaXMuQy5zcGxpY2UociwxLHRoaXMuQy5wb3AoKSksdGhpcy5pLT0xLHRoaXMubShyKSx0aGlzLmsocix0aGlzLmk+PjEpKSwhMCl9dXBkYXRlSXRlbShlKXtsZXQgcj10aGlzLkMuaW5kZXhPZihlKTtyZXR1cm4gcjwwPyExOih0aGlzLm0ociksdGhpcy5rKHIsdGhpcy5pPj4xKSwhMCl9dG9BcnJheSgpe3JldHVybiBbLi4udGhpcy5DXX19LFMxPWZhO1VuLmRlZmF1bHQ9UzE7fSk7dmFyIHFuPU0oTm49Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTm4sXCJ0XCIse3ZhbHVlOiEwfSk7Tm4uZGVmYXVsdD12b2lkIDA7dmFyIEExPWF0KCksY2E9Y2xhc3MgZXh0ZW5kcyBBMS5Db250YWluZXJ7fSxJMT1jYTtObi5kZWZhdWx0PUkxO30pO3ZhciBsdD1NKGhhPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGhhLFwidFwiLHt2YWx1ZTohMH0pO2hhLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcj1UMTtmdW5jdGlvbiBUMSgpe3Rocm93IG5ldyBSYW5nZUVycm9yKFwiSXRlcmF0b3IgYWNjZXNzIGRlbmllZCFcIil9fSk7dmFyIHBhPU0oam49Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoam4sXCJ0XCIse3ZhbHVlOiEwfSk7am4uUmFuZG9tSXRlcmF0b3I9dm9pZCAwO3ZhciBSMT1hdCgpLERuPWx0KCksZGE9Y2xhc3MgZXh0ZW5kcyBSMS5Db250YWluZXJJdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKHIpLHRoaXMubz1lLHRoaXMuaXRlcmF0b3JUeXBlPT09MD8odGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09MCYmKDAsIERuLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8tPTEsdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuY29udGFpbmVyLnNpemUoKSYmKDAsIERuLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8rPTEsdGhpc30pOih0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmNvbnRhaW5lci5zaXplKCktMSYmKDAsIERuLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8rPTEsdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PS0xJiYoMCwgRG4udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuby09MSx0aGlzfSk7fWdldCBwb2ludGVyKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLmdldEVsZW1lbnRCeVBvcyh0aGlzLm8pfXNldCBwb2ludGVyKGUpe3RoaXMuY29udGFpbmVyLnNldEVsZW1lbnRCeVBvcyh0aGlzLm8sZSk7fX07am4uUmFuZG9tSXRlcmF0b3I9ZGE7fSk7dmFyIHJwPU0oRm49Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRm4sXCJ0XCIse3ZhbHVlOiEwfSk7Rm4uZGVmYXVsdD12b2lkIDA7dmFyIEMxPVAxKHFuKCkpLEIxPXBhKCk7ZnVuY3Rpb24gUDEodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fXZhciB3cj1jbGFzcyB0IGV4dGVuZHMgQjEuUmFuZG9tSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyLGkpe3N1cGVyKGUsaSksdGhpcy5jb250YWluZXI9cjt9Y29weSgpe3JldHVybiBuZXcgdCh0aGlzLm8sdGhpcy5jb250YWluZXIsdGhpcy5pdGVyYXRvclR5cGUpfX0sZ2E9Y2xhc3MgZXh0ZW5kcyBDMS5kZWZhdWx0e2NvbnN0cnVjdG9yKGU9W10scj0hMCl7aWYoc3VwZXIoKSxBcnJheS5pc0FycmF5KGUpKXRoaXMuSj1yP1suLi5lXTplLHRoaXMuaT1lLmxlbmd0aDtlbHNlIHt0aGlzLko9W107bGV0IGk9dGhpcztlLmZvckVhY2goZnVuY3Rpb24obil7aS5wdXNoQmFjayhuKTt9KTt9fWNsZWFyKCl7dGhpcy5pPTAsdGhpcy5KLmxlbmd0aD0wO31iZWdpbigpe3JldHVybiBuZXcgd3IoMCx0aGlzKX1lbmQoKXtyZXR1cm4gbmV3IHdyKHRoaXMuaSx0aGlzKX1yQmVnaW4oKXtyZXR1cm4gbmV3IHdyKHRoaXMuaS0xLHRoaXMsMSl9ckVuZCgpe3JldHVybiBuZXcgd3IoLTEsdGhpcywxKX1mcm9udCgpe3JldHVybiB0aGlzLkpbMF19YmFjaygpe3JldHVybiB0aGlzLkpbdGhpcy5pLTFdfWdldEVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7cmV0dXJuIHRoaXMuSltlXX1lcmFzZUVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7cmV0dXJuIHRoaXMuSi5zcGxpY2UoZSwxKSx0aGlzLmktPTEsdGhpcy5pfWVyYXNlRWxlbWVudEJ5VmFsdWUoZSl7bGV0IHI9MDtmb3IobGV0IGk9MDtpPHRoaXMuaTsrK2kpdGhpcy5KW2ldIT09ZSYmKHRoaXMuSltyKytdPXRoaXMuSltpXSk7cmV0dXJuIHRoaXMuaT10aGlzLkoubGVuZ3RoPXIsdGhpcy5pfWVyYXNlRWxlbWVudEJ5SXRlcmF0b3IoZSl7bGV0IHI9ZS5vO3JldHVybiBlPWUubmV4dCgpLHRoaXMuZXJhc2VFbGVtZW50QnlQb3MociksZX1wdXNoQmFjayhlKXtyZXR1cm4gdGhpcy5KLnB1c2goZSksdGhpcy5pKz0xLHRoaXMuaX1wb3BCYWNrKCl7aWYodGhpcy5pIT09MClyZXR1cm4gdGhpcy5pLT0xLHRoaXMuSi5wb3AoKX1zZXRFbGVtZW50QnlQb3MoZSxyKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7dGhpcy5KW2VdPXI7fWluc2VydChlLHIsaT0xKXtpZihlPDB8fGU+dGhpcy5pKXRocm93IG5ldyBSYW5nZUVycm9yO3JldHVybiB0aGlzLkouc3BsaWNlKGUsMCwuLi5uZXcgQXJyYXkoaSkuZmlsbChyKSksdGhpcy5pKz1pLHRoaXMuaX1maW5kKGUpe2ZvcihsZXQgcj0wO3I8dGhpcy5pOysrcilpZih0aGlzLkpbcl09PT1lKXJldHVybiBuZXcgd3Iocix0aGlzKTtyZXR1cm4gdGhpcy5lbmQoKX1yZXZlcnNlKCl7dGhpcy5KLnJldmVyc2UoKTt9dW5pcXVlKCl7bGV0IGU9MTtmb3IobGV0IHI9MTtyPHRoaXMuaTsrK3IpdGhpcy5KW3JdIT09dGhpcy5KW3ItMV0mJih0aGlzLkpbZSsrXT10aGlzLkpbcl0pO3JldHVybiB0aGlzLmk9dGhpcy5KLmxlbmd0aD1lLHRoaXMuaX1zb3J0KGUpe3RoaXMuSi5zb3J0KGUpO31mb3JFYWNoKGUpe2ZvcihsZXQgcj0wO3I8dGhpcy5pOysrcillKHRoaXMuSltyXSxyLHRoaXMpO31bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBmdW5jdGlvbiooKXt5aWVsZCp0aGlzLko7fS5iaW5kKHRoaXMpKCl9fSxPMT1nYTtGbi5kZWZhdWx0PU8xO30pO3ZhciBpcD1NKFduPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFduLFwidFwiLHt2YWx1ZTohMH0pO1duLmRlZmF1bHQ9dm9pZCAwO3ZhciBrMT1NMShxbigpKSx4MT1hdCgpLF9yPWx0KCk7ZnVuY3Rpb24gTTEodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fXZhciBtcj1jbGFzcyB0IGV4dGVuZHMgeDEuQ29udGFpbmVySXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyLGksbil7c3VwZXIobiksdGhpcy5vPWUsdGhpcy5oPXIsdGhpcy5jb250YWluZXI9aSx0aGlzLml0ZXJhdG9yVHlwZT09PTA/KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuby5MPT09dGhpcy5oJiYoMCwgX3IudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uTCx0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgX3IudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uQix0aGlzfSk6KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuby5CPT09dGhpcy5oJiYoMCwgX3IudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uQix0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgX3IudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uTCx0aGlzfSk7fWdldCBwb2ludGVyKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIF9yLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8ubH1zZXQgcG9pbnRlcihlKXt0aGlzLm89PT10aGlzLmgmJigwLCBfci50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vLmw9ZTt9Y29weSgpe3JldHVybiBuZXcgdCh0aGlzLm8sdGhpcy5oLHRoaXMuY29udGFpbmVyLHRoaXMuaXRlcmF0b3JUeXBlKX19LHlhPWNsYXNzIGV4dGVuZHMgazEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlPVtdKXtzdXBlcigpLHRoaXMuaD17fSx0aGlzLnA9dGhpcy5fPXRoaXMuaC5MPXRoaXMuaC5CPXRoaXMuaDtsZXQgcj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihpKXtyLnB1c2hCYWNrKGkpO30pO31WKGUpe2xldHtMOnIsQjppfT1lO3IuQj1pLGkuTD1yLGU9PT10aGlzLnAmJih0aGlzLnA9aSksZT09PXRoaXMuXyYmKHRoaXMuXz1yKSx0aGlzLmktPTE7fUcoZSxyKXtsZXQgaT1yLkIsbj17bDplLEw6cixCOml9O3IuQj1uLGkuTD1uLHI9PT10aGlzLmgmJih0aGlzLnA9biksaT09PXRoaXMuaCYmKHRoaXMuXz1uKSx0aGlzLmkrPTE7fWNsZWFyKCl7dGhpcy5pPTAsdGhpcy5wPXRoaXMuXz10aGlzLmguTD10aGlzLmguQj10aGlzLmg7fWJlZ2luKCl7cmV0dXJuIG5ldyBtcih0aGlzLnAsdGhpcy5oLHRoaXMpfWVuZCgpe3JldHVybiBuZXcgbXIodGhpcy5oLHRoaXMuaCx0aGlzKX1yQmVnaW4oKXtyZXR1cm4gbmV3IG1yKHRoaXMuXyx0aGlzLmgsdGhpcywxKX1yRW5kKCl7cmV0dXJuIG5ldyBtcih0aGlzLmgsdGhpcy5oLHRoaXMsMSl9ZnJvbnQoKXtyZXR1cm4gdGhpcy5wLmx9YmFjaygpe3JldHVybiB0aGlzLl8ubH1nZXRFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCByPXRoaXMucDtmb3IoO2UtLTspcj1yLkI7cmV0dXJuIHIubH1lcmFzZUVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IHI9dGhpcy5wO2Zvcig7ZS0tOylyPXIuQjtyZXR1cm4gdGhpcy5WKHIpLHRoaXMuaX1lcmFzZUVsZW1lbnRCeVZhbHVlKGUpe2xldCByPXRoaXMucDtmb3IoO3IhPT10aGlzLmg7KXIubD09PWUmJnRoaXMuVihyKSxyPXIuQjtyZXR1cm4gdGhpcy5pfWVyYXNlRWxlbWVudEJ5SXRlcmF0b3IoZSl7bGV0IHI9ZS5vO3JldHVybiByPT09dGhpcy5oJiYoMCwgX3IudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLGU9ZS5uZXh0KCksdGhpcy5WKHIpLGV9cHVzaEJhY2soZSl7cmV0dXJuIHRoaXMuRyhlLHRoaXMuXyksdGhpcy5pfXBvcEJhY2soKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLl8ubDtyZXR1cm4gdGhpcy5WKHRoaXMuXyksZX1wdXNoRnJvbnQoZSl7cmV0dXJuIHRoaXMuRyhlLHRoaXMuaCksdGhpcy5pfXBvcEZyb250KCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5wLmw7cmV0dXJuIHRoaXMuVih0aGlzLnApLGV9c2V0RWxlbWVudEJ5UG9zKGUscil7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCBpPXRoaXMucDtmb3IoO2UtLTspaT1pLkI7aS5sPXI7fWluc2VydChlLHIsaT0xKXtpZihlPDB8fGU+dGhpcy5pKXRocm93IG5ldyBSYW5nZUVycm9yO2lmKGk8PTApcmV0dXJuIHRoaXMuaTtpZihlPT09MClmb3IoO2ktLTspdGhpcy5wdXNoRnJvbnQocik7ZWxzZSBpZihlPT09dGhpcy5pKWZvcig7aS0tOyl0aGlzLnB1c2hCYWNrKHIpO2Vsc2Uge2xldCBuPXRoaXMucDtmb3IobGV0IHM9MTtzPGU7KytzKW49bi5CO2xldCBvPW4uQjtmb3IodGhpcy5pKz1pO2ktLTspbi5CPXtsOnIsTDpufSxuLkIuTD1uLG49bi5CO24uQj1vLG8uTD1uO31yZXR1cm4gdGhpcy5pfWZpbmQoZSl7bGV0IHI9dGhpcy5wO2Zvcig7ciE9PXRoaXMuaDspe2lmKHIubD09PWUpcmV0dXJuIG5ldyBtcihyLHRoaXMuaCx0aGlzKTtyPXIuQjt9cmV0dXJuIHRoaXMuZW5kKCl9cmV2ZXJzZSgpe2lmKHRoaXMuaTw9MSlyZXR1cm47bGV0IGU9dGhpcy5wLHI9dGhpcy5fLGk9MDtmb3IoO2k8PDE8dGhpcy5pOyl7bGV0IG49ZS5sO2UubD1yLmwsci5sPW4sZT1lLkIscj1yLkwsaSs9MTt9fXVuaXF1ZSgpe2lmKHRoaXMuaTw9MSlyZXR1cm4gdGhpcy5pO2xldCBlPXRoaXMucDtmb3IoO2UhPT10aGlzLmg7KXtsZXQgcj1lO2Zvcig7ci5CIT09dGhpcy5oJiZyLmw9PT1yLkIubDspcj1yLkIsdGhpcy5pLT0xO2UuQj1yLkIsZS5CLkw9ZSxlPWUuQjt9cmV0dXJuIHRoaXMuaX1zb3J0KGUpe2lmKHRoaXMuaTw9MSlyZXR1cm47bGV0IHI9W107dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3IucHVzaChuKTt9KSxyLnNvcnQoZSk7bGV0IGk9dGhpcy5wO3IuZm9yRWFjaChmdW5jdGlvbihuKXtpLmw9bixpPWkuQjt9KTt9bWVyZ2UoZSl7bGV0IHI9dGhpcztpZih0aGlzLmk9PT0wKWUuZm9yRWFjaChmdW5jdGlvbihpKXtyLnB1c2hCYWNrKGkpO30pO2Vsc2Uge2xldCBpPXRoaXMucDtlLmZvckVhY2goZnVuY3Rpb24obil7Zm9yKDtpIT09ci5oJiZpLmw8PW47KWk9aS5CO3IuRyhuLGkuTCk7fSk7fXJldHVybiB0aGlzLml9Zm9yRWFjaChlKXtsZXQgcj10aGlzLnAsaT0wO2Zvcig7ciE9PXRoaXMuaDspZShyLmwsaSsrLHRoaXMpLHI9ci5CO31bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBmdW5jdGlvbiooKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLnA7Zm9yKDtlIT09dGhpcy5oOyl5aWVsZCBlLmwsZT1lLkI7fS5iaW5kKHRoaXMpKCl9fSxMMT15YTtXbi5kZWZhdWx0PUwxO30pO3ZhciBucD1NKCRuPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KCRuLFwidFwiLHt2YWx1ZTohMH0pOyRuLmRlZmF1bHQ9dm9pZCAwO3ZhciBVMT1xMShxbigpKSxOMT1wYSgpO2Z1bmN0aW9uIHExKHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX12YXIgdnI9Y2xhc3MgdCBleHRlbmRzIE4xLlJhbmRvbUl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscixpKXtzdXBlcihlLGkpLHRoaXMuY29udGFpbmVyPXI7fWNvcHkoKXtyZXR1cm4gbmV3IHQodGhpcy5vLHRoaXMuY29udGFpbmVyLHRoaXMuaXRlcmF0b3JUeXBlKX19LGJhPWNsYXNzIGV4dGVuZHMgVTEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlPVtdLHI9NDA5Nil7c3VwZXIoKSx0aGlzLmo9MCx0aGlzLkQ9MCx0aGlzLlI9MCx0aGlzLk49MCx0aGlzLlA9MCx0aGlzLkE9W107bGV0IGk9KCgpPT57aWYodHlwZW9mIGUubGVuZ3RoPT1cIm51bWJlclwiKXJldHVybiBlLmxlbmd0aDtpZih0eXBlb2YgZS5zaXplPT1cIm51bWJlclwiKXJldHVybiBlLnNpemU7aWYodHlwZW9mIGUuc2l6ZT09XCJmdW5jdGlvblwiKXJldHVybiBlLnNpemUoKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGdldCB0aGUgbGVuZ3RoIG9yIHNpemUgb2YgdGhlIGNvbnRhaW5lclwiKX0pKCk7dGhpcy5GPXIsdGhpcy5QPU1hdGgubWF4KE1hdGguY2VpbChpL3RoaXMuRiksMSk7Zm9yKGxldCBzPTA7czx0aGlzLlA7KytzKXRoaXMuQS5wdXNoKG5ldyBBcnJheSh0aGlzLkYpKTtsZXQgbj1NYXRoLmNlaWwoaS90aGlzLkYpO3RoaXMuaj10aGlzLlI9KHRoaXMuUD4+MSktKG4+PjEpLHRoaXMuRD10aGlzLk49dGhpcy5GLWkldGhpcy5GPj4xO2xldCBvPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKHMpe28ucHVzaEJhY2socyk7fSk7fVQoKXtsZXQgZT1bXSxyPU1hdGgubWF4KHRoaXMuUD4+MSwxKTtmb3IobGV0IGk9MDtpPHI7KytpKWVbaV09bmV3IEFycmF5KHRoaXMuRik7Zm9yKGxldCBpPXRoaXMuajtpPHRoaXMuUDsrK2kpZVtlLmxlbmd0aF09dGhpcy5BW2ldO2ZvcihsZXQgaT0wO2k8dGhpcy5SOysraSllW2UubGVuZ3RoXT10aGlzLkFbaV07ZVtlLmxlbmd0aF09Wy4uLnRoaXMuQVt0aGlzLlJdXSx0aGlzLmo9cix0aGlzLlI9ZS5sZW5ndGgtMTtmb3IobGV0IGk9MDtpPHI7KytpKWVbZS5sZW5ndGhdPW5ldyBBcnJheSh0aGlzLkYpO3RoaXMuQT1lLHRoaXMuUD1lLmxlbmd0aDt9TyhlKXtsZXQgcj10aGlzLkQrZSsxLGk9ciV0aGlzLkYsbj1pLTEsbz10aGlzLmorKHItaSkvdGhpcy5GO3JldHVybiBpPT09MCYmKG8tPTEpLG8lPXRoaXMuUCxuPDAmJihuKz10aGlzLkYpLHtjdXJOb2RlQnVja2V0SW5kZXg6byxjdXJOb2RlUG9pbnRlckluZGV4Om59fWNsZWFyKCl7dGhpcy5BPVtuZXcgQXJyYXkodGhpcy5GKV0sdGhpcy5QPTEsdGhpcy5qPXRoaXMuUj10aGlzLmk9MCx0aGlzLkQ9dGhpcy5OPXRoaXMuRj4+MTt9YmVnaW4oKXtyZXR1cm4gbmV3IHZyKDAsdGhpcyl9ZW5kKCl7cmV0dXJuIG5ldyB2cih0aGlzLmksdGhpcyl9ckJlZ2luKCl7cmV0dXJuIG5ldyB2cih0aGlzLmktMSx0aGlzLDEpfXJFbmQoKXtyZXR1cm4gbmV3IHZyKC0xLHRoaXMsMSl9ZnJvbnQoKXtpZih0aGlzLmkhPT0wKXJldHVybiB0aGlzLkFbdGhpcy5qXVt0aGlzLkRdfWJhY2soKXtpZih0aGlzLmkhPT0wKXJldHVybiB0aGlzLkFbdGhpcy5SXVt0aGlzLk5dfXB1c2hCYWNrKGUpe3JldHVybiB0aGlzLmkmJih0aGlzLk48dGhpcy5GLTE/dGhpcy5OKz0xOnRoaXMuUjx0aGlzLlAtMT8odGhpcy5SKz0xLHRoaXMuTj0wKToodGhpcy5SPTAsdGhpcy5OPTApLHRoaXMuUj09PXRoaXMuaiYmdGhpcy5OPT09dGhpcy5EJiZ0aGlzLlQoKSksdGhpcy5pKz0xLHRoaXMuQVt0aGlzLlJdW3RoaXMuTl09ZSx0aGlzLml9cG9wQmFjaygpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMuQVt0aGlzLlJdW3RoaXMuTl07cmV0dXJuIHRoaXMuaSE9PTEmJih0aGlzLk4+MD90aGlzLk4tPTE6dGhpcy5SPjA/KHRoaXMuUi09MSx0aGlzLk49dGhpcy5GLTEpOih0aGlzLlI9dGhpcy5QLTEsdGhpcy5OPXRoaXMuRi0xKSksdGhpcy5pLT0xLGV9cHVzaEZyb250KGUpe3JldHVybiB0aGlzLmkmJih0aGlzLkQ+MD90aGlzLkQtPTE6dGhpcy5qPjA/KHRoaXMuai09MSx0aGlzLkQ9dGhpcy5GLTEpOih0aGlzLmo9dGhpcy5QLTEsdGhpcy5EPXRoaXMuRi0xKSx0aGlzLmo9PT10aGlzLlImJnRoaXMuRD09PXRoaXMuTiYmdGhpcy5UKCkpLHRoaXMuaSs9MSx0aGlzLkFbdGhpcy5qXVt0aGlzLkRdPWUsdGhpcy5pfXBvcEZyb250KCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5BW3RoaXMual1bdGhpcy5EXTtyZXR1cm4gdGhpcy5pIT09MSYmKHRoaXMuRDx0aGlzLkYtMT90aGlzLkQrPTE6dGhpcy5qPHRoaXMuUC0xPyh0aGlzLmorPTEsdGhpcy5EPTApOih0aGlzLmo9MCx0aGlzLkQ9MCkpLHRoaXMuaS09MSxlfWdldEVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0e2N1ck5vZGVCdWNrZXRJbmRleDpyLGN1ck5vZGVQb2ludGVySW5kZXg6aX09dGhpcy5PKGUpO3JldHVybiB0aGlzLkFbcl1baV19c2V0RWxlbWVudEJ5UG9zKGUscil7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldHtjdXJOb2RlQnVja2V0SW5kZXg6aSxjdXJOb2RlUG9pbnRlckluZGV4Om59PXRoaXMuTyhlKTt0aGlzLkFbaV1bbl09cjt9aW5zZXJ0KGUscixpPTEpe2lmKGU8MHx8ZT50aGlzLmkpdGhyb3cgbmV3IFJhbmdlRXJyb3I7aWYoZT09PTApZm9yKDtpLS07KXRoaXMucHVzaEZyb250KHIpO2Vsc2UgaWYoZT09PXRoaXMuaSlmb3IoO2ktLTspdGhpcy5wdXNoQmFjayhyKTtlbHNlIHtsZXQgbj1bXTtmb3IobGV0IG89ZTtvPHRoaXMuaTsrK28pbi5wdXNoKHRoaXMuZ2V0RWxlbWVudEJ5UG9zKG8pKTt0aGlzLmN1dChlLTEpO2ZvcihsZXQgbz0wO288aTsrK28pdGhpcy5wdXNoQmFjayhyKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoOysrbyl0aGlzLnB1c2hCYWNrKG5bb10pO31yZXR1cm4gdGhpcy5pfWN1dChlKXtpZihlPDApcmV0dXJuIHRoaXMuY2xlYXIoKSwwO2xldHtjdXJOb2RlQnVja2V0SW5kZXg6cixjdXJOb2RlUG9pbnRlckluZGV4Oml9PXRoaXMuTyhlKTtyZXR1cm4gdGhpcy5SPXIsdGhpcy5OPWksdGhpcy5pPWUrMSx0aGlzLml9ZXJhc2VFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2lmKGU9PT0wKXRoaXMucG9wRnJvbnQoKTtlbHNlIGlmKGU9PT10aGlzLmktMSl0aGlzLnBvcEJhY2soKTtlbHNlIHtsZXQgcj1bXTtmb3IobGV0IG49ZSsxO248dGhpcy5pOysrbilyLnB1c2godGhpcy5nZXRFbGVtZW50QnlQb3MobikpO3RoaXMuY3V0KGUpLHRoaXMucG9wQmFjaygpO2xldCBpPXRoaXM7ci5mb3JFYWNoKGZ1bmN0aW9uKG4pe2kucHVzaEJhY2sobik7fSk7fXJldHVybiB0aGlzLml9ZXJhc2VFbGVtZW50QnlWYWx1ZShlKXtpZih0aGlzLmk9PT0wKXJldHVybiAwO2xldCByPVtdO2ZvcihsZXQgbj0wO248dGhpcy5pOysrbil7bGV0IG89dGhpcy5nZXRFbGVtZW50QnlQb3Mobik7byE9PWUmJnIucHVzaChvKTt9bGV0IGk9ci5sZW5ndGg7Zm9yKGxldCBuPTA7bjxpOysrbil0aGlzLnNldEVsZW1lbnRCeVBvcyhuLHJbbl0pO3JldHVybiB0aGlzLmN1dChpLTEpfWVyYXNlRWxlbWVudEJ5SXRlcmF0b3IoZSl7bGV0IHI9ZS5vO3JldHVybiB0aGlzLmVyYXNlRWxlbWVudEJ5UG9zKHIpLGU9ZS5uZXh0KCksZX1maW5kKGUpe2ZvcihsZXQgcj0wO3I8dGhpcy5pOysrcilpZih0aGlzLmdldEVsZW1lbnRCeVBvcyhyKT09PWUpcmV0dXJuIG5ldyB2cihyLHRoaXMpO3JldHVybiB0aGlzLmVuZCgpfXJldmVyc2UoKXtsZXQgZT0wLHI9dGhpcy5pLTE7Zm9yKDtlPHI7KXtsZXQgaT10aGlzLmdldEVsZW1lbnRCeVBvcyhlKTt0aGlzLnNldEVsZW1lbnRCeVBvcyhlLHRoaXMuZ2V0RWxlbWVudEJ5UG9zKHIpKSx0aGlzLnNldEVsZW1lbnRCeVBvcyhyLGkpLGUrPTEsci09MTt9fXVuaXF1ZSgpe2lmKHRoaXMuaTw9MSlyZXR1cm4gdGhpcy5pO2xldCBlPTEscj10aGlzLmdldEVsZW1lbnRCeVBvcygwKTtmb3IobGV0IGk9MTtpPHRoaXMuaTsrK2kpe2xldCBuPXRoaXMuZ2V0RWxlbWVudEJ5UG9zKGkpO24hPT1yJiYocj1uLHRoaXMuc2V0RWxlbWVudEJ5UG9zKGUrKyxuKSk7fWZvcig7dGhpcy5pPmU7KXRoaXMucG9wQmFjaygpO3JldHVybiB0aGlzLml9c29ydChlKXtsZXQgcj1bXTtmb3IobGV0IGk9MDtpPHRoaXMuaTsrK2kpci5wdXNoKHRoaXMuZ2V0RWxlbWVudEJ5UG9zKGkpKTtyLnNvcnQoZSk7Zm9yKGxldCBpPTA7aTx0aGlzLmk7KytpKXRoaXMuc2V0RWxlbWVudEJ5UG9zKGkscltpXSk7fXNocmlua1RvRml0KCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9W107dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe2UucHVzaChyKTt9KSx0aGlzLlA9TWF0aC5tYXgoTWF0aC5jZWlsKHRoaXMuaS90aGlzLkYpLDEpLHRoaXMuaT10aGlzLmo9dGhpcy5SPXRoaXMuRD10aGlzLk49MCx0aGlzLkE9W107Zm9yKGxldCByPTA7cjx0aGlzLlA7KytyKXRoaXMuQS5wdXNoKG5ldyBBcnJheSh0aGlzLkYpKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcil0aGlzLnB1c2hCYWNrKGVbcl0pO31mb3JFYWNoKGUpe2ZvcihsZXQgcj0wO3I8dGhpcy5pOysrcillKHRoaXMuZ2V0RWxlbWVudEJ5UG9zKHIpLHIsdGhpcyk7fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIGZ1bmN0aW9uKigpe2ZvcihsZXQgZT0wO2U8dGhpcy5pOysrZSl5aWVsZCB0aGlzLmdldEVsZW1lbnRCeVBvcyhlKTt9LmJpbmQodGhpcykoKX19LEQxPWJhOyRuLmRlZmF1bHQ9RDE7fSk7dmFyIHNwPU0oWnI9Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWnIsXCJ0XCIse3ZhbHVlOiEwfSk7WnIuVHJlZU5vZGVFbmFibGVJbmRleD1aci5UcmVlTm9kZT12b2lkIDA7dmFyIEhuPWNsYXNze2NvbnN0cnVjdG9yKGUscil7dGhpcy5lZT0xLHRoaXMudT12b2lkIDAsdGhpcy5sPXZvaWQgMCx0aGlzLlU9dm9pZCAwLHRoaXMuVz12b2lkIDAsdGhpcy50dD12b2lkIDAsdGhpcy51PWUsdGhpcy5sPXI7fUwoKXtsZXQgZT10aGlzO2lmKGUuZWU9PT0xJiZlLnR0LnR0PT09ZSllPWUuVztlbHNlIGlmKGUuVSlmb3IoZT1lLlU7ZS5XOyllPWUuVztlbHNlIHtsZXQgcj1lLnR0O2Zvcig7ci5VPT09ZTspZT1yLHI9ZS50dDtlPXI7fXJldHVybiBlfUIoKXtsZXQgZT10aGlzO2lmKGUuVyl7Zm9yKGU9ZS5XO2UuVTspZT1lLlU7cmV0dXJuIGV9ZWxzZSB7bGV0IHI9ZS50dDtmb3IoO3IuVz09PWU7KWU9cixyPWUudHQ7cmV0dXJuIGUuVyE9PXI/cjplfX10ZSgpe2xldCBlPXRoaXMudHQscj10aGlzLlcsaT1yLlU7cmV0dXJuIGUudHQ9PT10aGlzP2UudHQ9cjplLlU9PT10aGlzP2UuVT1yOmUuVz1yLHIudHQ9ZSxyLlU9dGhpcyx0aGlzLnR0PXIsdGhpcy5XPWksaSYmKGkudHQ9dGhpcykscn1zZSgpe2xldCBlPXRoaXMudHQscj10aGlzLlUsaT1yLlc7cmV0dXJuIGUudHQ9PT10aGlzP2UudHQ9cjplLlU9PT10aGlzP2UuVT1yOmUuVz1yLHIudHQ9ZSxyLlc9dGhpcyx0aGlzLnR0PXIsdGhpcy5VPWksaSYmKGkudHQ9dGhpcykscn19O1pyLlRyZWVOb2RlPUhuO3ZhciB3YT1jbGFzcyBleHRlbmRzIEhue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnJ0PTE7fXRlKCl7bGV0IGU9c3VwZXIudGUoKTtyZXR1cm4gdGhpcy5pZSgpLGUuaWUoKSxlfXNlKCl7bGV0IGU9c3VwZXIuc2UoKTtyZXR1cm4gdGhpcy5pZSgpLGUuaWUoKSxlfWllKCl7dGhpcy5ydD0xLHRoaXMuVSYmKHRoaXMucnQrPXRoaXMuVS5ydCksdGhpcy5XJiYodGhpcy5ydCs9dGhpcy5XLnJ0KTt9fTtaci5UcmVlTm9kZUVuYWJsZUluZGV4PXdhO30pO3ZhciBtYT1NKFZuPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFZuLFwidFwiLHt2YWx1ZTohMH0pO1ZuLmRlZmF1bHQ9dm9pZCAwO3ZhciBvcD1zcCgpLGoxPWF0KCksYXA9bHQoKSxfYT1jbGFzcyBleHRlbmRzIGoxLkNvbnRhaW5lcntjb25zdHJ1Y3RvcihlPWZ1bmN0aW9uKGksbil7cmV0dXJuIGk8bj8tMTppPm4/MTowfSxyPSExKXtzdXBlcigpLHRoaXMuWT12b2lkIDAsdGhpcy52PWUscj8odGhpcy5yZT1vcC5UcmVlTm9kZUVuYWJsZUluZGV4LHRoaXMuTT1mdW5jdGlvbihpLG4sbyl7bGV0IHM9dGhpcy5uZShpLG4sbyk7aWYocyl7bGV0IGE9cy50dDtmb3IoO2EhPT10aGlzLmg7KWEucnQrPTEsYT1hLnR0O2xldCB1PXRoaXMuaGUocyk7aWYodSl7bGV0e3BhcmVudE5vZGU6YyxncmFuZFBhcmVudDpoLGN1ck5vZGU6ZH09dTtjLmllKCksaC5pZSgpLGQuaWUoKTt9fXJldHVybiB0aGlzLml9LHRoaXMuVj1mdW5jdGlvbihpKXtsZXQgbj10aGlzLmZlKGkpO2Zvcig7biE9PXRoaXMuaDspbi5ydC09MSxuPW4udHQ7fSk6KHRoaXMucmU9b3AuVHJlZU5vZGUsdGhpcy5NPWZ1bmN0aW9uKGksbixvKXtsZXQgcz10aGlzLm5lKGksbixvKTtyZXR1cm4gcyYmdGhpcy5oZShzKSx0aGlzLml9LHRoaXMuVj10aGlzLmZlKSx0aGlzLmg9bmV3IHRoaXMucmU7fVgoZSxyKXtsZXQgaT10aGlzLmg7Zm9yKDtlOyl7bGV0IG49dGhpcy52KGUudSxyKTtpZihuPDApZT1lLlc7ZWxzZSBpZihuPjApaT1lLGU9ZS5VO2Vsc2UgcmV0dXJuIGV9cmV0dXJuIGl9WihlLHIpe2xldCBpPXRoaXMuaDtmb3IoO2U7KXRoaXMudihlLnUscik8PTA/ZT1lLlc6KGk9ZSxlPWUuVSk7cmV0dXJuIGl9JChlLHIpe2xldCBpPXRoaXMuaDtmb3IoO2U7KXtsZXQgbj10aGlzLnYoZS51LHIpO2lmKG48MClpPWUsZT1lLlc7ZWxzZSBpZihuPjApZT1lLlU7ZWxzZSByZXR1cm4gZX1yZXR1cm4gaX1ycihlLHIpe2xldCBpPXRoaXMuaDtmb3IoO2U7KXRoaXMudihlLnUscik8MD8oaT1lLGU9ZS5XKTplPWUuVTtyZXR1cm4gaX11ZShlKXtmb3IoOzspe2xldCByPWUudHQ7aWYocj09PXRoaXMuaClyZXR1cm47aWYoZS5lZT09PTEpe2UuZWU9MDtyZXR1cm59aWYoZT09PXIuVSl7bGV0IGk9ci5XO2lmKGkuZWU9PT0xKWkuZWU9MCxyLmVlPTEscj09PXRoaXMuWT90aGlzLlk9ci50ZSgpOnIudGUoKTtlbHNlIGlmKGkuVyYmaS5XLmVlPT09MSl7aS5lZT1yLmVlLHIuZWU9MCxpLlcuZWU9MCxyPT09dGhpcy5ZP3RoaXMuWT1yLnRlKCk6ci50ZSgpO3JldHVybn1lbHNlIGkuVSYmaS5VLmVlPT09MT8oaS5lZT0xLGkuVS5lZT0wLGkuc2UoKSk6KGkuZWU9MSxlPXIpO31lbHNlIHtsZXQgaT1yLlU7aWYoaS5lZT09PTEpaS5lZT0wLHIuZWU9MSxyPT09dGhpcy5ZP3RoaXMuWT1yLnNlKCk6ci5zZSgpO2Vsc2UgaWYoaS5VJiZpLlUuZWU9PT0xKXtpLmVlPXIuZWUsci5lZT0wLGkuVS5lZT0wLHI9PT10aGlzLlk/dGhpcy5ZPXIuc2UoKTpyLnNlKCk7cmV0dXJufWVsc2UgaS5XJiZpLlcuZWU9PT0xPyhpLmVlPTEsaS5XLmVlPTAsaS50ZSgpKTooaS5lZT0xLGU9cik7fX19ZmUoZSl7aWYodGhpcy5pPT09MSlyZXR1cm4gdGhpcy5jbGVhcigpLHRoaXMuaDtsZXQgcj1lO2Zvcig7ci5VfHxyLlc7KXtpZihyLlcpZm9yKHI9ci5XO3IuVTspcj1yLlU7ZWxzZSByPXIuVTtbZS51LHIudV09W3IudSxlLnVdLFtlLmwsci5sXT1bci5sLGUubF0sZT1yO310aGlzLmguVT09PXI/dGhpcy5oLlU9ci50dDp0aGlzLmguVz09PXImJih0aGlzLmguVz1yLnR0KSx0aGlzLnVlKHIpO2xldCBpPXIudHQ7cmV0dXJuIHI9PT1pLlU/aS5VPXZvaWQgMDppLlc9dm9pZCAwLHRoaXMuaS09MSx0aGlzLlkuZWU9MCxpfW9lKGUscil7cmV0dXJuIGU9PT12b2lkIDA/ITE6dGhpcy5vZShlLlUscil8fHIoZSk/ITA6dGhpcy5vZShlLlcscil9aGUoZSl7Zm9yKDs7KXtsZXQgcj1lLnR0O2lmKHIuZWU9PT0wKXJldHVybjtsZXQgaT1yLnR0O2lmKHI9PT1pLlUpe2xldCBuPWkuVztpZihuJiZuLmVlPT09MSl7aWYobi5lZT1yLmVlPTAsaT09PXRoaXMuWSlyZXR1cm47aS5lZT0xLGU9aTtjb250aW51ZX1lbHNlIGlmKGU9PT1yLlcpe2lmKGUuZWU9MCxlLlUmJihlLlUudHQ9ciksZS5XJiYoZS5XLnR0PWkpLHIuVz1lLlUsaS5VPWUuVyxlLlU9cixlLlc9aSxpPT09dGhpcy5ZKXRoaXMuWT1lLHRoaXMuaC50dD1lO2Vsc2Uge2xldCBvPWkudHQ7by5VPT09aT9vLlU9ZTpvLlc9ZTt9cmV0dXJuIGUudHQ9aS50dCxyLnR0PWUsaS50dD1lLGkuZWU9MSx7cGFyZW50Tm9kZTpyLGdyYW5kUGFyZW50OmksY3VyTm9kZTplfX1lbHNlIHIuZWU9MCxpPT09dGhpcy5ZP3RoaXMuWT1pLnNlKCk6aS5zZSgpLGkuZWU9MTt9ZWxzZSB7bGV0IG49aS5VO2lmKG4mJm4uZWU9PT0xKXtpZihuLmVlPXIuZWU9MCxpPT09dGhpcy5ZKXJldHVybjtpLmVlPTEsZT1pO2NvbnRpbnVlfWVsc2UgaWYoZT09PXIuVSl7aWYoZS5lZT0wLGUuVSYmKGUuVS50dD1pKSxlLlcmJihlLlcudHQ9ciksaS5XPWUuVSxyLlU9ZS5XLGUuVT1pLGUuVz1yLGk9PT10aGlzLlkpdGhpcy5ZPWUsdGhpcy5oLnR0PWU7ZWxzZSB7bGV0IG89aS50dDtvLlU9PT1pP28uVT1lOm8uVz1lO31yZXR1cm4gZS50dD1pLnR0LHIudHQ9ZSxpLnR0PWUsaS5lZT0xLHtwYXJlbnROb2RlOnIsZ3JhbmRQYXJlbnQ6aSxjdXJOb2RlOmV9fWVsc2Ugci5lZT0wLGk9PT10aGlzLlk/dGhpcy5ZPWkudGUoKTppLnRlKCksaS5lZT0xO31yZXR1cm59fW5lKGUscixpKXtpZih0aGlzLlk9PT12b2lkIDApe3RoaXMuaSs9MSx0aGlzLlk9bmV3IHRoaXMucmUoZSxyKSx0aGlzLlkuZWU9MCx0aGlzLlkudHQ9dGhpcy5oLHRoaXMuaC50dD10aGlzLlksdGhpcy5oLlU9dGhpcy5ZLHRoaXMuaC5XPXRoaXMuWTtyZXR1cm59bGV0IG4sbz10aGlzLmguVSxzPXRoaXMudihvLnUsZSk7aWYocz09PTApe28ubD1yO3JldHVybn1lbHNlIGlmKHM+MClvLlU9bmV3IHRoaXMucmUoZSxyKSxvLlUudHQ9byxuPW8uVSx0aGlzLmguVT1uO2Vsc2Uge2xldCBhPXRoaXMuaC5XLHU9dGhpcy52KGEudSxlKTtpZih1PT09MCl7YS5sPXI7cmV0dXJufWVsc2UgaWYodTwwKWEuVz1uZXcgdGhpcy5yZShlLHIpLGEuVy50dD1hLG49YS5XLHRoaXMuaC5XPW47ZWxzZSB7aWYoaSE9PXZvaWQgMCl7bGV0IGM9aS5vO2lmKGMhPT10aGlzLmgpe2xldCBoPXRoaXMudihjLnUsZSk7aWYoaD09PTApe2MubD1yO3JldHVybn1lbHNlIGlmKGg+MCl7bGV0IGQ9Yy5MKCksZz10aGlzLnYoZC51LGUpO2lmKGc9PT0wKXtkLmw9cjtyZXR1cm59ZWxzZSBnPDAmJihuPW5ldyB0aGlzLnJlKGUsciksZC5XPT09dm9pZCAwPyhkLlc9bixuLnR0PWQpOihjLlU9bixuLnR0PWMpKTt9fX1pZihuPT09dm9pZCAwKWZvcihuPXRoaXMuWTs7KXtsZXQgYz10aGlzLnYobi51LGUpO2lmKGM+MCl7aWYobi5VPT09dm9pZCAwKXtuLlU9bmV3IHRoaXMucmUoZSxyKSxuLlUudHQ9bixuPW4uVTticmVha31uPW4uVTt9ZWxzZSBpZihjPDApe2lmKG4uVz09PXZvaWQgMCl7bi5XPW5ldyB0aGlzLnJlKGUsciksbi5XLnR0PW4sbj1uLlc7YnJlYWt9bj1uLlc7fWVsc2Uge24ubD1yO3JldHVybn19fX1yZXR1cm4gdGhpcy5pKz0xLG59SShlLHIpe2Zvcig7ZTspe2xldCBpPXRoaXMudihlLnUscik7aWYoaTwwKWU9ZS5XO2Vsc2UgaWYoaT4wKWU9ZS5VO2Vsc2UgcmV0dXJuIGV9cmV0dXJuIGV8fHRoaXMuaH1jbGVhcigpe3RoaXMuaT0wLHRoaXMuWT12b2lkIDAsdGhpcy5oLnR0PXZvaWQgMCx0aGlzLmguVT10aGlzLmguVz12b2lkIDA7fXVwZGF0ZUtleUJ5SXRlcmF0b3IoZSxyKXtsZXQgaT1lLm87aWYoaT09PXRoaXMuaCYmKDAsIGFwLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLmk9PT0xKXJldHVybiBpLnU9ciwhMDtpZihpPT09dGhpcy5oLlUpcmV0dXJuIHRoaXMudihpLkIoKS51LHIpPjA/KGkudT1yLCEwKTohMTtpZihpPT09dGhpcy5oLlcpcmV0dXJuIHRoaXMudihpLkwoKS51LHIpPDA/KGkudT1yLCEwKTohMTtsZXQgbj1pLkwoKS51O2lmKHRoaXMudihuLHIpPj0wKXJldHVybiAhMTtsZXQgbz1pLkIoKS51O3JldHVybiB0aGlzLnYobyxyKTw9MD8hMTooaS51PXIsITApfWVyYXNlRWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgcj0wLGk9dGhpcztyZXR1cm4gdGhpcy5vZSh0aGlzLlksZnVuY3Rpb24obil7cmV0dXJuIGU9PT1yPyhpLlYobiksITApOihyKz0xLCExKX0pLHRoaXMuaX1lcmFzZUVsZW1lbnRCeUtleShlKXtpZih0aGlzLmk9PT0wKXJldHVybiAhMTtsZXQgcj10aGlzLkkodGhpcy5ZLGUpO3JldHVybiByPT09dGhpcy5oPyExOih0aGlzLlYociksITApfWVyYXNlRWxlbWVudEJ5SXRlcmF0b3IoZSl7bGV0IHI9ZS5vO3I9PT10aGlzLmgmJigwLCBhcC50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCk7bGV0IGk9ci5XPT09dm9pZCAwO3JldHVybiBlLml0ZXJhdG9yVHlwZT09PTA/aSYmZS5uZXh0KCk6KCFpfHxyLlU9PT12b2lkIDApJiZlLm5leHQoKSx0aGlzLlYociksZX1mb3JFYWNoKGUpe2xldCByPTA7Zm9yKGxldCBpIG9mIHRoaXMpZShpLHIrKyx0aGlzKTt9Z2V0RWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgcixpPTA7Zm9yKGxldCBuIG9mIHRoaXMpe2lmKGk9PT1lKXtyPW47YnJlYWt9aSs9MTt9cmV0dXJuIHJ9Z2V0SGVpZ2h0KCl7aWYodGhpcy5pPT09MClyZXR1cm4gMDtsZXQgZT1mdW5jdGlvbihyKXtyZXR1cm4gcj9NYXRoLm1heChlKHIuVSksZShyLlcpKSsxOjB9O3JldHVybiBlKHRoaXMuWSl9fSxGMT1fYTtWbi5kZWZhdWx0PUYxO30pO3ZhciBFYT1NKEtuPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEtuLFwidFwiLHt2YWx1ZTohMH0pO0tuLmRlZmF1bHQ9dm9pZCAwO3ZhciBXMT1hdCgpLHpuPWx0KCksdmE9Y2xhc3MgZXh0ZW5kcyBXMS5Db250YWluZXJJdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIsaSl7c3VwZXIoaSksdGhpcy5vPWUsdGhpcy5oPXIsdGhpcy5pdGVyYXRvclR5cGU9PT0wPyh0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmguVSYmKDAsIHpuLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkwoKSx0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgem4udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uQigpLHRoaXN9KToodGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oLlcmJigwLCB6bi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5CKCksdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIHpuLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkwoKSx0aGlzfSk7fWdldCBpbmRleCgpe2xldCBlPXRoaXMubyxyPXRoaXMuaC50dDtpZihlPT09dGhpcy5oKXJldHVybiByP3IucnQtMTowO2xldCBpPTA7Zm9yKGUuVSYmKGkrPWUuVS5ydCk7ZSE9PXI7KXtsZXQgbj1lLnR0O2U9PT1uLlcmJihpKz0xLG4uVSYmKGkrPW4uVS5ydCkpLGU9bjt9cmV0dXJuIGl9fSwkMT12YTtLbi5kZWZhdWx0PSQxO30pO3ZhciB1cD1NKEduPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEduLFwidFwiLHt2YWx1ZTohMH0pO0duLmRlZmF1bHQ9dm9pZCAwO3ZhciBIMT1scChtYSgpKSxWMT1scChFYSgpKSx6MT1sdCgpO2Z1bmN0aW9uIGxwKHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX12YXIgS2U9Y2xhc3MgdCBleHRlbmRzIFYxLmRlZmF1bHR7Y29uc3RydWN0b3IoZSxyLGksbil7c3VwZXIoZSxyLG4pLHRoaXMuY29udGFpbmVyPWk7fWdldCBwb2ludGVyKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIHoxLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8udX1jb3B5KCl7cmV0dXJuIG5ldyB0KHRoaXMubyx0aGlzLmgsdGhpcy5jb250YWluZXIsdGhpcy5pdGVyYXRvclR5cGUpfX0sU2E9Y2xhc3MgZXh0ZW5kcyBIMS5kZWZhdWx0e2NvbnN0cnVjdG9yKGU9W10scixpKXtzdXBlcihyLGkpO2xldCBuPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKG8pe24uaW5zZXJ0KG8pO30pO30qSyhlKXtlIT09dm9pZCAwJiYoeWllbGQqdGhpcy5LKGUuVSkseWllbGQgZS51LHlpZWxkKnRoaXMuSyhlLlcpKTt9YmVnaW4oKXtyZXR1cm4gbmV3IEtlKHRoaXMuaC5VfHx0aGlzLmgsdGhpcy5oLHRoaXMpfWVuZCgpe3JldHVybiBuZXcgS2UodGhpcy5oLHRoaXMuaCx0aGlzKX1yQmVnaW4oKXtyZXR1cm4gbmV3IEtlKHRoaXMuaC5XfHx0aGlzLmgsdGhpcy5oLHRoaXMsMSl9ckVuZCgpe3JldHVybiBuZXcgS2UodGhpcy5oLHRoaXMuaCx0aGlzLDEpfWZyb250KCl7cmV0dXJuIHRoaXMuaC5VP3RoaXMuaC5VLnU6dm9pZCAwfWJhY2soKXtyZXR1cm4gdGhpcy5oLlc/dGhpcy5oLlcudTp2b2lkIDB9aW5zZXJ0KGUscil7cmV0dXJuIHRoaXMuTShlLHZvaWQgMCxyKX1maW5kKGUpe2xldCByPXRoaXMuSSh0aGlzLlksZSk7cmV0dXJuIG5ldyBLZShyLHRoaXMuaCx0aGlzKX1sb3dlckJvdW5kKGUpe2xldCByPXRoaXMuWCh0aGlzLlksZSk7cmV0dXJuIG5ldyBLZShyLHRoaXMuaCx0aGlzKX11cHBlckJvdW5kKGUpe2xldCByPXRoaXMuWih0aGlzLlksZSk7cmV0dXJuIG5ldyBLZShyLHRoaXMuaCx0aGlzKX1yZXZlcnNlTG93ZXJCb3VuZChlKXtsZXQgcj10aGlzLiQodGhpcy5ZLGUpO3JldHVybiBuZXcgS2Uocix0aGlzLmgsdGhpcyl9cmV2ZXJzZVVwcGVyQm91bmQoZSl7bGV0IHI9dGhpcy5ycih0aGlzLlksZSk7cmV0dXJuIG5ldyBLZShyLHRoaXMuaCx0aGlzKX11bmlvbihlKXtsZXQgcj10aGlzO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oaSl7ci5pbnNlcnQoaSk7fSksdGhpcy5pfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuSyh0aGlzLlkpfX0sSzE9U2E7R24uZGVmYXVsdD1LMTt9KTt2YXIgY3A9TShRbj0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShRbixcInRcIix7dmFsdWU6ITB9KTtRbi5kZWZhdWx0PXZvaWQgMDt2YXIgRzE9ZnAobWEoKSksUTE9ZnAoRWEoKSksWTE9bHQoKTtmdW5jdGlvbiBmcCh0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19dmFyIEdlPWNsYXNzIHQgZXh0ZW5kcyBRMS5kZWZhdWx0e2NvbnN0cnVjdG9yKGUscixpLG4pe3N1cGVyKGUscixuKSx0aGlzLmNvbnRhaW5lcj1pO31nZXQgcG9pbnRlcigpe3RoaXMubz09PXRoaXMuaCYmKDAsIFkxLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKTtsZXQgZT10aGlzO3JldHVybiBuZXcgUHJveHkoW10se2dldChyLGkpe2lmKGk9PT1cIjBcIilyZXR1cm4gZS5vLnU7aWYoaT09PVwiMVwiKXJldHVybiBlLm8ubH0sc2V0KHIsaSxuKXtpZihpIT09XCIxXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcInByb3BzIG11c3QgYmUgMVwiKTtyZXR1cm4gZS5vLmw9biwhMH19KX1jb3B5KCl7cmV0dXJuIG5ldyB0KHRoaXMubyx0aGlzLmgsdGhpcy5jb250YWluZXIsdGhpcy5pdGVyYXRvclR5cGUpfX0sQWE9Y2xhc3MgZXh0ZW5kcyBHMS5kZWZhdWx0e2NvbnN0cnVjdG9yKGU9W10scixpKXtzdXBlcihyLGkpO2xldCBuPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKG8pe24uc2V0RWxlbWVudChvWzBdLG9bMV0pO30pO30qSyhlKXtlIT09dm9pZCAwJiYoeWllbGQqdGhpcy5LKGUuVSkseWllbGQgW2UudSxlLmxdLHlpZWxkKnRoaXMuSyhlLlcpKTt9YmVnaW4oKXtyZXR1cm4gbmV3IEdlKHRoaXMuaC5VfHx0aGlzLmgsdGhpcy5oLHRoaXMpfWVuZCgpe3JldHVybiBuZXcgR2UodGhpcy5oLHRoaXMuaCx0aGlzKX1yQmVnaW4oKXtyZXR1cm4gbmV3IEdlKHRoaXMuaC5XfHx0aGlzLmgsdGhpcy5oLHRoaXMsMSl9ckVuZCgpe3JldHVybiBuZXcgR2UodGhpcy5oLHRoaXMuaCx0aGlzLDEpfWZyb250KCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5oLlU7cmV0dXJuIFtlLnUsZS5sXX1iYWNrKCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5oLlc7cmV0dXJuIFtlLnUsZS5sXX1sb3dlckJvdW5kKGUpe2xldCByPXRoaXMuWCh0aGlzLlksZSk7cmV0dXJuIG5ldyBHZShyLHRoaXMuaCx0aGlzKX11cHBlckJvdW5kKGUpe2xldCByPXRoaXMuWih0aGlzLlksZSk7cmV0dXJuIG5ldyBHZShyLHRoaXMuaCx0aGlzKX1yZXZlcnNlTG93ZXJCb3VuZChlKXtsZXQgcj10aGlzLiQodGhpcy5ZLGUpO3JldHVybiBuZXcgR2Uocix0aGlzLmgsdGhpcyl9cmV2ZXJzZVVwcGVyQm91bmQoZSl7bGV0IHI9dGhpcy5ycih0aGlzLlksZSk7cmV0dXJuIG5ldyBHZShyLHRoaXMuaCx0aGlzKX1zZXRFbGVtZW50KGUscixpKXtyZXR1cm4gdGhpcy5NKGUscixpKX1maW5kKGUpe2xldCByPXRoaXMuSSh0aGlzLlksZSk7cmV0dXJuIG5ldyBHZShyLHRoaXMuaCx0aGlzKX1nZXRFbGVtZW50QnlLZXkoZSl7cmV0dXJuIHRoaXMuSSh0aGlzLlksZSkubH11bmlvbihlKXtsZXQgcj10aGlzO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oaSl7ci5zZXRFbGVtZW50KGlbMF0saVsxXSk7fSksdGhpcy5pfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuSyh0aGlzLlkpfX0sSjE9QWE7UW4uZGVmYXVsdD1KMTt9KTt2YXIgVGE9TShJYT0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShJYSxcInRcIix7dmFsdWU6ITB9KTtJYS5kZWZhdWx0PVgxO2Z1bmN0aW9uIFgxKHQpe2xldCBlPXR5cGVvZiB0O3JldHVybiBlPT09XCJvYmplY3RcIiYmdCE9PW51bGx8fGU9PT1cImZ1bmN0aW9uXCJ9fSk7dmFyIFBhPU0oZWk9Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZWksXCJ0XCIse3ZhbHVlOiEwfSk7ZWkuSGFzaENvbnRhaW5lckl0ZXJhdG9yPWVpLkhhc2hDb250YWluZXI9dm9pZCAwO3ZhciBocD1hdCgpLFJhPVoxKFRhKCkpLFRpPWx0KCk7ZnVuY3Rpb24gWjEodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fXZhciBDYT1jbGFzcyBleHRlbmRzIGhwLkNvbnRhaW5lckl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscixpKXtzdXBlcihpKSx0aGlzLm89ZSx0aGlzLmg9cix0aGlzLml0ZXJhdG9yVHlwZT09PTA/KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuby5MPT09dGhpcy5oJiYoMCwgVGkudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uTCx0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgVGkudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uQix0aGlzfSk6KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuby5CPT09dGhpcy5oJiYoMCwgVGkudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uQix0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgVGkudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uTCx0aGlzfSk7fX07ZWkuSGFzaENvbnRhaW5lckl0ZXJhdG9yPUNhO3ZhciBCYT1jbGFzcyBleHRlbmRzIGhwLkNvbnRhaW5lcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5IPVtdLHRoaXMuZz17fSx0aGlzLkhBU0hfVEFHPVN5bWJvbChcIkBASEFTSF9UQUdcIiksT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMuZyxudWxsKSx0aGlzLmg9e30sdGhpcy5oLkw9dGhpcy5oLkI9dGhpcy5wPXRoaXMuXz10aGlzLmg7fVYoZSl7bGV0e0w6cixCOml9PWU7ci5CPWksaS5MPXIsZT09PXRoaXMucCYmKHRoaXMucD1pKSxlPT09dGhpcy5fJiYodGhpcy5fPXIpLHRoaXMuaS09MTt9TShlLHIsaSl7aT09PXZvaWQgMCYmKGk9KDAsIFJhLmRlZmF1bHQpKGUpKTtsZXQgbjtpZihpKXtsZXQgbz1lW3RoaXMuSEFTSF9UQUddO2lmKG8hPT12b2lkIDApcmV0dXJuIHRoaXMuSFtvXS5sPXIsdGhpcy5pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuSEFTSF9UQUcse3ZhbHVlOnRoaXMuSC5sZW5ndGgsY29uZmlndXJhYmxlOiEwfSksbj17dTplLGw6cixMOnRoaXMuXyxCOnRoaXMuaH0sdGhpcy5ILnB1c2gobik7fWVsc2Uge2xldCBvPXRoaXMuZ1tlXTtpZihvKXJldHVybiBvLmw9cix0aGlzLmk7bj17dTplLGw6cixMOnRoaXMuXyxCOnRoaXMuaH0sdGhpcy5nW2VdPW47fXJldHVybiB0aGlzLmk9PT0wPyh0aGlzLnA9bix0aGlzLmguQj1uKTp0aGlzLl8uQj1uLHRoaXMuXz1uLHRoaXMuaC5MPW4sKyt0aGlzLml9SShlLHIpe2lmKHI9PT12b2lkIDAmJihyPSgwLCBSYS5kZWZhdWx0KShlKSkscil7bGV0IGk9ZVt0aGlzLkhBU0hfVEFHXTtyZXR1cm4gaT09PXZvaWQgMD90aGlzLmg6dGhpcy5IW2ldfWVsc2UgcmV0dXJuIHRoaXMuZ1tlXXx8dGhpcy5ofWNsZWFyKCl7bGV0IGU9dGhpcy5IQVNIX1RBRzt0aGlzLkguZm9yRWFjaChmdW5jdGlvbihyKXtkZWxldGUgci51W2VdO30pLHRoaXMuSD1bXSx0aGlzLmc9e30sT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMuZyxudWxsKSx0aGlzLmk9MCx0aGlzLnA9dGhpcy5fPXRoaXMuaC5MPXRoaXMuaC5CPXRoaXMuaDt9ZXJhc2VFbGVtZW50QnlLZXkoZSxyKXtsZXQgaTtpZihyPT09dm9pZCAwJiYocj0oMCwgUmEuZGVmYXVsdCkoZSkpLHIpe2xldCBuPWVbdGhpcy5IQVNIX1RBR107aWYobj09PXZvaWQgMClyZXR1cm4gITE7ZGVsZXRlIGVbdGhpcy5IQVNIX1RBR10saT10aGlzLkhbbl0sZGVsZXRlIHRoaXMuSFtuXTt9ZWxzZSB7aWYoaT10aGlzLmdbZV0saT09PXZvaWQgMClyZXR1cm4gITE7ZGVsZXRlIHRoaXMuZ1tlXTt9cmV0dXJuIHRoaXMuVihpKSwhMH1lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKGUpe2xldCByPWUubztyZXR1cm4gcj09PXRoaXMuaCYmKDAsIFRpLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLlYociksZS5uZXh0KCl9ZXJhc2VFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCByPXRoaXMucDtmb3IoO2UtLTspcj1yLkI7cmV0dXJuIHRoaXMuVihyKSx0aGlzLml9fTtlaS5IYXNoQ29udGFpbmVyPUJhO30pO3ZhciBwcD1NKFluPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFluLFwidFwiLHt2YWx1ZTohMH0pO1luLmRlZmF1bHQ9dm9pZCAwO3ZhciBkcD1QYSgpLGV2PWx0KCksRXI9Y2xhc3MgdCBleHRlbmRzIGRwLkhhc2hDb250YWluZXJJdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIsaSxuKXtzdXBlcihlLHIsbiksdGhpcy5jb250YWluZXI9aTt9Z2V0IHBvaW50ZXIoKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgZXYudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuby51fWNvcHkoKXtyZXR1cm4gbmV3IHQodGhpcy5vLHRoaXMuaCx0aGlzLmNvbnRhaW5lcix0aGlzLml0ZXJhdG9yVHlwZSl9fSxPYT1jbGFzcyBleHRlbmRzIGRwLkhhc2hDb250YWluZXJ7Y29uc3RydWN0b3IoZT1bXSl7c3VwZXIoKTtsZXQgcj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihpKXtyLmluc2VydChpKTt9KTt9YmVnaW4oKXtyZXR1cm4gbmV3IEVyKHRoaXMucCx0aGlzLmgsdGhpcyl9ZW5kKCl7cmV0dXJuIG5ldyBFcih0aGlzLmgsdGhpcy5oLHRoaXMpfXJCZWdpbigpe3JldHVybiBuZXcgRXIodGhpcy5fLHRoaXMuaCx0aGlzLDEpfXJFbmQoKXtyZXR1cm4gbmV3IEVyKHRoaXMuaCx0aGlzLmgsdGhpcywxKX1mcm9udCgpe3JldHVybiB0aGlzLnAudX1iYWNrKCl7cmV0dXJuIHRoaXMuXy51fWluc2VydChlLHIpe3JldHVybiB0aGlzLk0oZSx2b2lkIDAscil9Z2V0RWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgcj10aGlzLnA7Zm9yKDtlLS07KXI9ci5CO3JldHVybiByLnV9ZmluZChlLHIpe2xldCBpPXRoaXMuSShlLHIpO3JldHVybiBuZXcgRXIoaSx0aGlzLmgsdGhpcyl9Zm9yRWFjaChlKXtsZXQgcj0wLGk9dGhpcy5wO2Zvcig7aSE9PXRoaXMuaDspZShpLnUscisrLHRoaXMpLGk9aS5CO31bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBmdW5jdGlvbiooKXtsZXQgZT10aGlzLnA7Zm9yKDtlIT09dGhpcy5oOyl5aWVsZCBlLnUsZT1lLkI7fS5iaW5kKHRoaXMpKCl9fSx0dj1PYTtZbi5kZWZhdWx0PXR2O30pO3ZhciB5cD1NKEpuPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEpuLFwidFwiLHt2YWx1ZTohMH0pO0puLmRlZmF1bHQ9dm9pZCAwO3ZhciBncD1QYSgpLHJ2PW52KFRhKCkpLGl2PWx0KCk7ZnVuY3Rpb24gbnYodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fXZhciBTcj1jbGFzcyB0IGV4dGVuZHMgZ3AuSGFzaENvbnRhaW5lckl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscixpLG4pe3N1cGVyKGUscixuKSx0aGlzLmNvbnRhaW5lcj1pO31nZXQgcG9pbnRlcigpe3RoaXMubz09PXRoaXMuaCYmKDAsIGl2LnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKTtsZXQgZT10aGlzO3JldHVybiBuZXcgUHJveHkoW10se2dldChyLGkpe2lmKGk9PT1cIjBcIilyZXR1cm4gZS5vLnU7aWYoaT09PVwiMVwiKXJldHVybiBlLm8ubH0sc2V0KHIsaSxuKXtpZihpIT09XCIxXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcInByb3BzIG11c3QgYmUgMVwiKTtyZXR1cm4gZS5vLmw9biwhMH19KX1jb3B5KCl7cmV0dXJuIG5ldyB0KHRoaXMubyx0aGlzLmgsdGhpcy5jb250YWluZXIsdGhpcy5pdGVyYXRvclR5cGUpfX0sa2E9Y2xhc3MgZXh0ZW5kcyBncC5IYXNoQ29udGFpbmVye2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCk7bGV0IHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oaSl7ci5zZXRFbGVtZW50KGlbMF0saVsxXSk7fSk7fWJlZ2luKCl7cmV0dXJuIG5ldyBTcih0aGlzLnAsdGhpcy5oLHRoaXMpfWVuZCgpe3JldHVybiBuZXcgU3IodGhpcy5oLHRoaXMuaCx0aGlzKX1yQmVnaW4oKXtyZXR1cm4gbmV3IFNyKHRoaXMuXyx0aGlzLmgsdGhpcywxKX1yRW5kKCl7cmV0dXJuIG5ldyBTcih0aGlzLmgsdGhpcy5oLHRoaXMsMSl9ZnJvbnQoKXtpZih0aGlzLmkhPT0wKXJldHVybiBbdGhpcy5wLnUsdGhpcy5wLmxdfWJhY2soKXtpZih0aGlzLmkhPT0wKXJldHVybiBbdGhpcy5fLnUsdGhpcy5fLmxdfXNldEVsZW1lbnQoZSxyLGkpe3JldHVybiB0aGlzLk0oZSxyLGkpfWdldEVsZW1lbnRCeUtleShlLHIpe2lmKHI9PT12b2lkIDAmJihyPSgwLCBydi5kZWZhdWx0KShlKSkscil7bGV0IG49ZVt0aGlzLkhBU0hfVEFHXTtyZXR1cm4gbiE9PXZvaWQgMD90aGlzLkhbbl0ubDp2b2lkIDB9bGV0IGk9dGhpcy5nW2VdO3JldHVybiBpP2kubDp2b2lkIDB9Z2V0RWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgcj10aGlzLnA7Zm9yKDtlLS07KXI9ci5CO3JldHVybiBbci51LHIubF19ZmluZChlLHIpe2xldCBpPXRoaXMuSShlLHIpO3JldHVybiBuZXcgU3IoaSx0aGlzLmgsdGhpcyl9Zm9yRWFjaChlKXtsZXQgcj0wLGk9dGhpcy5wO2Zvcig7aSE9PXRoaXMuaDspZShbaS51LGkubF0scisrLHRoaXMpLGk9aS5CO31bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBmdW5jdGlvbiooKXtsZXQgZT10aGlzLnA7Zm9yKDtlIT09dGhpcy5oOyl5aWVsZCBbZS51LGUubF0sZT1lLkI7fS5iaW5kKHRoaXMpKCl9fSxzdj1rYTtKbi5kZWZhdWx0PXN2O30pO3ZhciBicD1NKGplPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwidFwiLHt2YWx1ZTohMH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIkRlcXVlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiSGFzaE1hcFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBndi5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIkhhc2hTZXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcHYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJMaW5rTGlzdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmdi5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIk9yZGVyZWRNYXBcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZHYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJPcmRlcmVkU2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiUHJpb3JpdHlRdWV1ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdi5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIlF1ZXVlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiU3RhY2tcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb3YuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJWZWN0b3JcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdXYuZGVmYXVsdH19KTt2YXIgb3Y9dXQoWmQoKSksYXY9dXQoZXAoKSksbHY9dXQodHAoKSksdXY9dXQocnAoKSksZnY9dXQoaXAoKSksY3Y9dXQobnAoKSksaHY9dXQodXAoKSksZHY9dXQoY3AoKSkscHY9dXQocHAoKSksZ3Y9dXQoeXAoKSk7ZnVuY3Rpb24gdXQodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fX0pO3ZhciBfcD1NKChtTix3cCk9Pnt2KCk7bSgpO18oKTt2YXIgeXY9YnAoKS5PcmRlcmVkU2V0LGZ0PW90KCkoXCJudW1iZXItYWxsb2NhdG9yOnRyYWNlXCIpLGJ2PW90KCkoXCJudW1iZXItYWxsb2NhdG9yOmVycm9yXCIpO2Z1bmN0aW9uIFRlKHQsZSl7dGhpcy5sb3c9dCx0aGlzLmhpZ2g9ZTt9VGUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb3c9PT10LmxvdyYmdGhpcy5oaWdoPT09dC5oaWdofTtUZS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb3c8dC5sb3cmJnRoaXMuaGlnaDx0Lmxvdz8tMTp0Lmxvdzx0aGlzLmxvdyYmdC5oaWdoPHRoaXMubG93PzE6MH07ZnVuY3Rpb24gY3QodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjdCkpcmV0dXJuIG5ldyBjdCh0LGUpO3RoaXMubWluPXQsdGhpcy5tYXg9ZSx0aGlzLnNzPW5ldyB5dihbXSwocixpKT0+ci5jb21wYXJlKGkpKSxmdChcIkNyZWF0ZVwiKSx0aGlzLmNsZWFyKCk7fWN0LnByb3RvdHlwZS5maXJzdFZhY2FudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNzLnNpemUoKT09PTA/bnVsbDp0aGlzLnNzLmZyb250KCkubG93fTtjdC5wcm90b3R5cGUuYWxsb2M9ZnVuY3Rpb24oKXtpZih0aGlzLnNzLnNpemUoKT09PTApcmV0dXJuIGZ0KFwiYWxsb2MoKTplbXB0eVwiKSxudWxsO2xldCB0PXRoaXMuc3MuYmVnaW4oKSxlPXQucG9pbnRlci5sb3cscj10LnBvaW50ZXIuaGlnaCxpPWU7cmV0dXJuIGkrMTw9cj90aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IodCxuZXcgVGUoZSsxLHIpKTp0aGlzLnNzLmVyYXNlRWxlbWVudEJ5UG9zKDApLGZ0KFwiYWxsb2MoKTpcIitpKSxpfTtjdC5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKHQpe2xldCBlPW5ldyBUZSh0LHQpLHI9dGhpcy5zcy5sb3dlckJvdW5kKGUpO2lmKCFyLmVxdWFscyh0aGlzLnNzLmVuZCgpKSl7bGV0IGk9ci5wb2ludGVyLmxvdyxuPXIucG9pbnRlci5oaWdoO3JldHVybiByLnBvaW50ZXIuZXF1YWxzKGUpPyh0aGlzLnNzLmVyYXNlRWxlbWVudEJ5SXRlcmF0b3IociksZnQoXCJ1c2UoKTpcIit0KSwhMCk6aT50PyExOmk9PT10Pyh0aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IocixuZXcgVGUoaSsxLG4pKSxmdChcInVzZSgpOlwiK3QpLCEwKTpuPT09dD8odGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHIsbmV3IFRlKGksbi0xKSksZnQoXCJ1c2UoKTpcIit0KSwhMCk6KHRoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcihyLG5ldyBUZSh0KzEsbikpLHRoaXMuc3MuaW5zZXJ0KG5ldyBUZShpLHQtMSkpLGZ0KFwidXNlKCk6XCIrdCksITApfXJldHVybiBmdChcInVzZSgpOmZhaWxlZFwiKSwhMX07Y3QucHJvdG90eXBlLmZyZWU9ZnVuY3Rpb24odCl7aWYodDx0aGlzLm1pbnx8dD50aGlzLm1heCl7YnYoXCJmcmVlKCk6XCIrdCtcIiBpcyBvdXQgb2YgcmFuZ2VcIik7cmV0dXJufWxldCBlPW5ldyBUZSh0LHQpLHI9dGhpcy5zcy51cHBlckJvdW5kKGUpO2lmKHIuZXF1YWxzKHRoaXMuc3MuZW5kKCkpKXtpZihyLmVxdWFscyh0aGlzLnNzLmJlZ2luKCkpKXt0aGlzLnNzLmluc2VydChlKTtyZXR1cm59ci5wcmUoKTtsZXQgaT1yLnBvaW50ZXIuaGlnaDtyLnBvaW50ZXIuaGlnaCsxPT09dD90aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IocixuZXcgVGUoaSx0KSk6dGhpcy5zcy5pbnNlcnQoZSk7fWVsc2UgaWYoci5lcXVhbHModGhpcy5zcy5iZWdpbigpKSlpZih0KzE9PT1yLnBvaW50ZXIubG93KXtsZXQgaT1yLnBvaW50ZXIuaGlnaDt0aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IocixuZXcgVGUodCxpKSk7fWVsc2UgdGhpcy5zcy5pbnNlcnQoZSk7ZWxzZSB7bGV0IGk9ci5wb2ludGVyLmxvdyxuPXIucG9pbnRlci5oaWdoO3IucHJlKCk7bGV0IG89ci5wb2ludGVyLmxvdztyLnBvaW50ZXIuaGlnaCsxPT09dD90KzE9PT1pPyh0aGlzLnNzLmVyYXNlRWxlbWVudEJ5SXRlcmF0b3IociksdGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHIsbmV3IFRlKG8sbikpKTp0aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IocixuZXcgVGUobyx0KSk6dCsxPT09aT8odGhpcy5zcy5lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKHIubmV4dCgpKSx0aGlzLnNzLmluc2VydChuZXcgVGUodCxuKSkpOnRoaXMuc3MuaW5zZXJ0KGUpO31mdChcImZyZWUoKTpcIit0KTt9O2N0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Z0KFwiY2xlYXIoKVwiKSx0aGlzLnNzLmNsZWFyKCksdGhpcy5zcy5pbnNlcnQobmV3IFRlKHRoaXMubWluLHRoaXMubWF4KSk7fTtjdC5wcm90b3R5cGUuaW50ZXJ2YWxDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNzLnNpemUoKX07Y3QucHJvdG90eXBlLmR1bXA9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcImxlbmd0aDpcIit0aGlzLnNzLnNpemUoKSk7Zm9yKGxldCB0IG9mIHRoaXMuc3MpY29uc29sZS5sb2codCk7fTt3cC5leHBvcnRzPWN0O30pO3ZhciB4YT1NKChQTixtcCk9Pnt2KCk7bSgpO18oKTt2YXIgd3Y9X3AoKTttcC5leHBvcnRzLk51bWJlckFsbG9jYXRvcj13djt9KTt2YXIgdnA9TShMYT0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShMYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX3Y9WGQoKSxtdj14YSgpLE1hPWNsYXNze2NvbnN0cnVjdG9yKGUpe2U+MCYmKHRoaXMuYWxpYXNUb1RvcGljPW5ldyBfdi5MUlVDYWNoZSh7bWF4OmV9KSx0aGlzLnRvcGljVG9BbGlhcz17fSx0aGlzLm51bWJlckFsbG9jYXRvcj1uZXcgbXYuTnVtYmVyQWxsb2NhdG9yKDEsZSksdGhpcy5tYXg9ZSx0aGlzLmxlbmd0aD0wKTt9cHV0KGUscil7aWYocj09PTB8fHI+dGhpcy5tYXgpcmV0dXJuICExO2xldCBpPXRoaXMuYWxpYXNUb1RvcGljLmdldChyKTtyZXR1cm4gaSYmZGVsZXRlIHRoaXMudG9waWNUb0FsaWFzW2ldLHRoaXMuYWxpYXNUb1RvcGljLnNldChyLGUpLHRoaXMudG9waWNUb0FsaWFzW2VdPXIsdGhpcy5udW1iZXJBbGxvY2F0b3IudXNlKHIpLHRoaXMubGVuZ3RoPXRoaXMuYWxpYXNUb1RvcGljLnNpemUsITB9Z2V0VG9waWNCeUFsaWFzKGUpe3JldHVybiB0aGlzLmFsaWFzVG9Ub3BpYy5nZXQoZSl9Z2V0QWxpYXNCeVRvcGljKGUpe2xldCByPXRoaXMudG9waWNUb0FsaWFzW2VdO3JldHVybiB0eXBlb2YgcjxcInVcIiYmdGhpcy5hbGlhc1RvVG9waWMuZ2V0KHIpLHJ9Y2xlYXIoKXt0aGlzLmFsaWFzVG9Ub3BpYy5jbGVhcigpLHRoaXMudG9waWNUb0FsaWFzPXt9LHRoaXMubnVtYmVyQWxsb2NhdG9yLmNsZWFyKCksdGhpcy5sZW5ndGg9MDt9Z2V0THJ1QWxpYXMoKXtsZXQgZT10aGlzLm51bWJlckFsbG9jYXRvci5maXJzdFZhY2FudCgpO3JldHVybiBlfHxbLi4udGhpcy5hbGlhc1RvVG9waWMua2V5cygpXVt0aGlzLmFsaWFzVG9Ub3BpYy5zaXplLTFdfX07TGEuZGVmYXVsdD1NYTt9KTt2YXIgRXA9TShSaT0+e3YoKTttKCk7XygpO3ZhciB2dj1SaSYmUmkuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShSaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRXY9QWkoKSxTdj12dih2cCgpKSxBdj1KcigpLEl2PSh0LGUpPT57dC5sb2coXCJfaGFuZGxlQ29ubmFja1wiKTtsZXR7b3B0aW9uczpyfT10LG49ci5wcm90b2NvbFZlcnNpb249PT01P2UucmVhc29uQ29kZTplLnJldHVybkNvZGU7aWYoY2xlYXJUaW1lb3V0KHQuY29ubmFja1RpbWVyKSxkZWxldGUgdC50b3BpY0FsaWFzU2VuZCxlLnByb3BlcnRpZXMpe2lmKGUucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bSl7aWYoZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtPjY1NTM1KXt0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcInRvcGljQWxpYXNNYXhpbXVtIGZyb20gYnJva2VyIGlzIG91dCBvZiByYW5nZVwiKSk7cmV0dXJufWUucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bT4wJiYodC50b3BpY0FsaWFzU2VuZD1uZXcgU3YuZGVmYXVsdChlLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0pKTt9ZS5wcm9wZXJ0aWVzLnNlcnZlcktlZXBBbGl2ZSYmci5rZWVwYWxpdmUmJihyLmtlZXBhbGl2ZT1lLnByb3BlcnRpZXMuc2VydmVyS2VlcEFsaXZlLHQuX3NoaWZ0UGluZ0ludGVydmFsKCkpLGUucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZSYmKHIucHJvcGVydGllc3x8KHIucHJvcGVydGllcz17fSksci5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplPWUucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZSk7fWlmKG49PT0wKXQucmVjb25uZWN0aW5nPSExLHQuX29uQ29ubmVjdChlKTtlbHNlIGlmKG4+MCl7bGV0IG89bmV3IEF2LkVycm9yV2l0aFJlYXNvbkNvZGUoYENvbm5lY3Rpb24gcmVmdXNlZDogJHtFdi5SZWFzb25Db2Rlc1tuXX1gLG4pO3QuZW1pdChcImVycm9yXCIsbyk7fX07UmkuZGVmYXVsdD1Jdjt9KTt2YXIgU3A9TShVYT0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShVYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgVHY9KHQsZSxyKT0+e3QubG9nKFwiaGFuZGxpbmcgcHVicmVsIHBhY2tldFwiKTtsZXQgaT10eXBlb2YgcjxcInVcIj9yOnQubm9vcCx7bWVzc2FnZUlkOm59PWUsbz17Y21kOlwicHViY29tcFwiLG1lc3NhZ2VJZDpufTt0LmluY29taW5nU3RvcmUuZ2V0KGUsKHMsYSk9PntzP3QuX3NlbmRQYWNrZXQobyxpKToodC5lbWl0KFwibWVzc2FnZVwiLGEudG9waWMsYS5wYXlsb2FkLGEpLHQuaGFuZGxlTWVzc2FnZShhLHU9PntpZih1KXJldHVybiBpKHUpO3QuaW5jb21pbmdTdG9yZS5kZWwoYSx0Lm5vb3ApLHQuX3NlbmRQYWNrZXQobyxpKTt9KSk7fSk7fTtVYS5kZWZhdWx0PVR2O30pO3ZhciBBcD1NKENpPT57digpO20oKTtfKCk7dmFyIEJpPUNpJiZDaS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KENpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBSdj1CaShWZCgpKSxDdj1CaShLZCgpKSxCdj1CaShFcCgpKSxQdj1CaShBaSgpKSxPdj1CaShTcCgpKSxrdj0odCxlLHIpPT57bGV0e29wdGlvbnM6aX09dDtpZihpLnByb3RvY29sVmVyc2lvbj09PTUmJmkucHJvcGVydGllcyYmaS5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplJiZpLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemU8ZS5sZW5ndGgpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKGBleGNlZWRpbmcgcGFja2V0cyBzaXplICR7ZS5jbWR9YCkpLHQuZW5kKHtyZWFzb25Db2RlOjE0OSxwcm9wZXJ0aWVzOntyZWFzb25TdHJpbmc6XCJNYXhpbXVtIHBhY2tldCBzaXplIHdhcyBleGNlZWRlZFwifX0pLHQ7c3dpdGNoKHQubG9nKFwiX2hhbmRsZVBhY2tldCA6OiBlbWl0dGluZyBwYWNrZXRyZWNlaXZlXCIpLHQuZW1pdChcInBhY2tldHJlY2VpdmVcIixlKSxlLmNtZCl7Y2FzZVwicHVibGlzaFwiOigwLCBSdi5kZWZhdWx0KSh0LGUscik7YnJlYWs7Y2FzZVwicHViYWNrXCI6Y2FzZVwicHVicmVjXCI6Y2FzZVwicHViY29tcFwiOmNhc2VcInN1YmFja1wiOmNhc2VcInVuc3ViYWNrXCI6KDAsIFB2LmRlZmF1bHQpKHQsZSkscigpO2JyZWFrO2Nhc2VcInB1YnJlbFwiOigwLCBPdi5kZWZhdWx0KSh0LGUscik7YnJlYWs7Y2FzZVwiY29ubmFja1wiOigwLCBCdi5kZWZhdWx0KSh0LGUpLHIoKTticmVhaztjYXNlXCJhdXRoXCI6KDAsIEN2LmRlZmF1bHQpKHQsZSkscigpO2JyZWFrO2Nhc2VcInBpbmdyZXNwXCI6dC5waW5nUmVzcD0hMCxyKCk7YnJlYWs7Y2FzZVwiZGlzY29ubmVjdFwiOnQuZW1pdChcImRpc2Nvbm5lY3RcIixlKSxyKCk7YnJlYWs7ZGVmYXVsdDp0LmxvZyhcIl9oYW5kbGVQYWNrZXQgOjogdW5rbm93biBjb21tYW5kXCIpLHIoKTticmVha319O0NpLmRlZmF1bHQ9a3Y7fSk7dmFyIElwPU0odGk9Pnt2KCk7bSgpO18oKTt2YXIgeHY9dGkmJnRpLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dGkuVHlwZWRFdmVudEVtaXR0ZXI9dm9pZCAwO3ZhciBNdj14digoaXIoKSxYKHJyKSkpLEx2PUpyKCksWG49Y2xhc3N7fTt0aS5UeXBlZEV2ZW50RW1pdHRlcj1YbjsoMCwgTHYuYXBwbHlNaXhpbikoWG4sTXYuZGVmYXVsdCk7fSk7dmFyIFBpPU0oQXI9Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQXIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7QXIuaXNSZWFjdE5hdGl2ZUJyb3dzZXI9QXIuaXNXZWJXb3JrZXI9dm9pZCAwO3ZhciBVdj0oKT0+dHlwZW9mIHdpbmRvdzxcInVcIiYmdHlwZW9mIHdpbmRvdy5kb2N1bWVudDxcInVcIixUcD0oKT0+e3ZhciB0LGU7cmV0dXJuICEhKHR5cGVvZiBzZWxmPT1cIm9iamVjdFwiJiYoISgoZT0odD1zZWxmPy5jb25zdHJ1Y3Rvcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0Lm5hbWUpPT09bnVsbHx8ZT09PXZvaWQgMCkmJmUuaW5jbHVkZXMoXCJXb3JrZXJHbG9iYWxTY29wZVwiKSkpfSxScD0oKT0+dHlwZW9mIEI8XCJ1XCImJkIucHJvZHVjdD09PVwiUmVhY3ROYXRpdmVcIixOdj1VdigpfHxUcCgpfHxScCgpO0FyLmlzV2ViV29ya2VyPVRwKCk7QXIuaXNSZWFjdE5hdGl2ZUJyb3dzZXI9UnAoKTtBci5kZWZhdWx0PU52O30pO3ZhciBCcD1NKChabixDcCk9Pnt2KCk7bSgpO18oKTsoZnVuY3Rpb24odCxlKXt0eXBlb2YgWm49PVwib2JqZWN0XCImJnR5cGVvZiBDcDxcInVcIj9lKFpuKTp0eXBlb2YgZGVmaW5lPT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sZSk6KHQ9dHlwZW9mIGdsb2JhbFRoaXM8XCJ1XCI/Z2xvYmFsVGhpczp0fHxzZWxmLGUodC5mYXN0VW5pcXVlTnVtYmVycz17fSkpO30pKFpuLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGcpe3JldHVybiBmdW5jdGlvbih5KXt2YXIgdz1nKHkpO3JldHVybiB5LmFkZCh3KSx3fX0scj1mdW5jdGlvbihnKXtyZXR1cm4gZnVuY3Rpb24oeSx3KXtyZXR1cm4gZy5zZXQoeSx3KSx3fX0saT1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj09PXZvaWQgMD85MDA3MTk5MjU0NzQwOTkxOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG49NTM2ODcwOTEyLG89bioyLHM9ZnVuY3Rpb24oZyx5KXtyZXR1cm4gZnVuY3Rpb24odyl7dmFyIEU9eS5nZXQodyksUz1FPT09dm9pZCAwP3cuc2l6ZTpFPG8/RSsxOjA7aWYoIXcuaGFzKFMpKXJldHVybiBnKHcsUyk7aWYody5zaXplPG4pe2Zvcig7dy5oYXMoUyk7KVM9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm8pO3JldHVybiBnKHcsUyl9aWYody5zaXplPmkpdGhyb3cgbmV3IEVycm9yKFwiQ29uZ3JhdHVsYXRpb25zLCB5b3UgY3JlYXRlZCBhIGNvbGxlY3Rpb24gb2YgdW5pcXVlIG51bWJlcnMgd2hpY2ggdXNlcyBhbGwgYXZhaWxhYmxlIGludGVnZXJzIVwiKTtmb3IoO3cuaGFzKFMpOylTPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSppKTtyZXR1cm4gZyh3LFMpfX0sYT1uZXcgV2Vha01hcCx1PXIoYSksYz1zKHUsYSksaD1lKGMpO3QuYWRkVW5pcXVlTnVtYmVyPWgsdC5nZW5lcmF0ZVVuaXF1ZU51bWJlcj1jO30pO30pO3ZhciBPcD1NKChlcyxQcCk9Pnt2KCk7bSgpO18oKTsoZnVuY3Rpb24odCxlKXt0eXBlb2YgZXM9PVwib2JqZWN0XCImJnR5cGVvZiBQcDxcInVcIj9lKGVzLEJwKCkpOnR5cGVvZiBkZWZpbmU9PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiLFwiZmFzdC11bmlxdWUtbnVtYmVyc1wiXSxlKToodD10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR8fHNlbGYsZSh0LndvcmtlclRpbWVyc0Jyb2tlcj17fSx0LmZhc3RVbmlxdWVOdW1iZXJzKSk7fSkoZXMsZnVuY3Rpb24odCxlKXt2YXIgcj1mdW5jdGlvbihzKXtyZXR1cm4gcy5tZXRob2QhPT12b2lkIDAmJnMubWV0aG9kPT09XCJjYWxsXCJ9LGk9ZnVuY3Rpb24ocyl7cmV0dXJuIHMuZXJyb3I9PT1udWxsJiZ0eXBlb2Ygcy5pZD09XCJudW1iZXJcIn0sbj1mdW5jdGlvbihzKXt2YXIgYT1uZXcgTWFwKFtbMCxmdW5jdGlvbigpe31dXSksdT1uZXcgTWFwKFtbMCxmdW5jdGlvbigpe31dXSksYz1uZXcgTWFwLGg9bmV3IFdvcmtlcihzKTtoLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oRSl7dmFyIFM9RS5kYXRhO2lmKHIoUykpe3ZhciBJPVMucGFyYW1zLEM9SS50aW1lcklkLFI9SS50aW1lclR5cGU7aWYoUj09PVwiaW50ZXJ2YWxcIil7dmFyIFU9YS5nZXQoQyk7aWYodHlwZW9mIFU9PVwibnVtYmVyXCIpe3ZhciBOPWMuZ2V0KFUpO2lmKE49PT12b2lkIDB8fE4udGltZXJJZCE9PUN8fE4udGltZXJUeXBlIT09Uil0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdGltZXIgaXMgaW4gYW4gdW5kZWZpbmVkIHN0YXRlLlwiKX1lbHNlIGlmKHR5cGVvZiBVPFwidVwiKVUoKTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlRoZSB0aW1lciBpcyBpbiBhbiB1bmRlZmluZWQgc3RhdGUuXCIpfWVsc2UgaWYoUj09PVwidGltZW91dFwiKXt2YXIgVz11LmdldChDKTtpZih0eXBlb2YgVz09XCJudW1iZXJcIil7dmFyIEs9Yy5nZXQoVyk7aWYoSz09PXZvaWQgMHx8Sy50aW1lcklkIT09Q3x8Sy50aW1lclR5cGUhPT1SKXRocm93IG5ldyBFcnJvcihcIlRoZSB0aW1lciBpcyBpbiBhbiB1bmRlZmluZWQgc3RhdGUuXCIpfWVsc2UgaWYodHlwZW9mIFc8XCJ1XCIpVygpLHUuZGVsZXRlKEMpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHRpbWVyIGlzIGluIGFuIHVuZGVmaW5lZCBzdGF0ZS5cIil9fWVsc2UgaWYoaShTKSl7dmFyIHo9Uy5pZCxRPWMuZ2V0KHopO2lmKFE9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKFwiVGhlIHRpbWVyIGlzIGluIGFuIHVuZGVmaW5lZCBzdGF0ZS5cIik7dmFyIGRlPVEudGltZXJJZCxHdD1RLnRpbWVyVHlwZTtjLmRlbGV0ZSh6KSxHdD09PVwiaW50ZXJ2YWxcIj9hLmRlbGV0ZShkZSk6dS5kZWxldGUoZGUpO31lbHNlIHt2YXIgcGU9Uy5lcnJvci5tZXNzYWdlO3Rocm93IG5ldyBFcnJvcihwZSl9fSk7dmFyIGQ9ZnVuY3Rpb24oUyl7dmFyIEk9ZS5nZW5lcmF0ZVVuaXF1ZU51bWJlcihjKTtjLnNldChJLHt0aW1lcklkOlMsdGltZXJUeXBlOlwiaW50ZXJ2YWxcIn0pLGEuc2V0KFMsSSksaC5wb3N0TWVzc2FnZSh7aWQ6SSxtZXRob2Q6XCJjbGVhclwiLHBhcmFtczp7dGltZXJJZDpTLHRpbWVyVHlwZTpcImludGVydmFsXCJ9fSk7fSxnPWZ1bmN0aW9uKFMpe3ZhciBJPWUuZ2VuZXJhdGVVbmlxdWVOdW1iZXIoYyk7Yy5zZXQoSSx7dGltZXJJZDpTLHRpbWVyVHlwZTpcInRpbWVvdXRcIn0pLHUuc2V0KFMsSSksaC5wb3N0TWVzc2FnZSh7aWQ6SSxtZXRob2Q6XCJjbGVhclwiLHBhcmFtczp7dGltZXJJZDpTLHRpbWVyVHlwZTpcInRpbWVvdXRcIn19KTt9LHk9ZnVuY3Rpb24oUyl7dmFyIEk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjAsQz1lLmdlbmVyYXRlVW5pcXVlTnVtYmVyKGEpO3JldHVybiBhLnNldChDLGZ1bmN0aW9uKCl7UygpLHR5cGVvZiBhLmdldChDKT09XCJmdW5jdGlvblwiJiZoLnBvc3RNZXNzYWdlKHtpZDpudWxsLG1ldGhvZDpcInNldFwiLHBhcmFtczp7ZGVsYXk6SSxub3c6cGVyZm9ybWFuY2Uubm93KCksdGltZXJJZDpDLHRpbWVyVHlwZTpcImludGVydmFsXCJ9fSk7fSksaC5wb3N0TWVzc2FnZSh7aWQ6bnVsbCxtZXRob2Q6XCJzZXRcIixwYXJhbXM6e2RlbGF5Okksbm93OnBlcmZvcm1hbmNlLm5vdygpLHRpbWVySWQ6Qyx0aW1lclR5cGU6XCJpbnRlcnZhbFwifX0pLEN9LHc9ZnVuY3Rpb24oUyl7dmFyIEk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjAsQz1lLmdlbmVyYXRlVW5pcXVlTnVtYmVyKHUpO3JldHVybiB1LnNldChDLFMpLGgucG9zdE1lc3NhZ2Uoe2lkOm51bGwsbWV0aG9kOlwic2V0XCIscGFyYW1zOntkZWxheTpJLG5vdzpwZXJmb3JtYW5jZS5ub3coKSx0aW1lcklkOkMsdGltZXJUeXBlOlwidGltZW91dFwifX0pLEN9O3JldHVybiB7Y2xlYXJJbnRlcnZhbDpkLGNsZWFyVGltZW91dDpnLHNldEludGVydmFsOnksc2V0VGltZW91dDp3fX07dC5sb2FkPW47fSk7fSk7dmFyIHhwPU0oKHRzLGtwKT0+e3YoKTttKCk7XygpOyhmdW5jdGlvbih0LGUpe3R5cGVvZiB0cz09XCJvYmplY3RcIiYmdHlwZW9mIGtwPFwidVwiP2UodHMsT3AoKSk6dHlwZW9mIGRlZmluZT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJ3b3JrZXItdGltZXJzLWJyb2tlclwiXSxlKToodD10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR8fHNlbGYsZSh0LndvcmtlclRpbWVycz17fSx0LndvcmtlclRpbWVyc0Jyb2tlcikpO30pKHRzLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZnVuY3Rpb24oaCxkKXt2YXIgZz1udWxsO3JldHVybiBmdW5jdGlvbigpe2lmKGchPT1udWxsKXJldHVybiBnO3ZhciB5PW5ldyBCbG9iKFtkXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLThcIn0pLHc9VVJMLmNyZWF0ZU9iamVjdFVSTCh5KTtyZXR1cm4gZz1oKHcpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gVVJMLnJldm9rZU9iamVjdFVSTCh3KX0pLGd9fSxpPWAoKCk9Pnt2YXIgZT17NDcyOihlLHQscik9Pnt2YXIgbyxpO3ZvaWQgMD09PShpPVwiZnVuY3Rpb25cIj09dHlwZW9mKG89ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1uZXcgTWFwLHQ9bmV3IE1hcCxyPWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0KHQpO2lmKHZvaWQgMD09PXIpdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBpbnRlcnZhbCBzY2hlZHVsZWQgd2l0aCB0aGUgZ2l2ZW4gaWQgXCInLmNvbmNhdCh0LCdcIi4nKSk7Y2xlYXJUaW1lb3V0KHIpLGUuZGVsZXRlKHQpfSxvPWZ1bmN0aW9uKGUpe3ZhciByPXQuZ2V0KGUpO2lmKHZvaWQgMD09PXIpdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyB0aW1lb3V0IHNjaGVkdWxlZCB3aXRoIHRoZSBnaXZlbiBpZCBcIicuY29uY2F0KGUsJ1wiLicpKTtjbGVhclRpbWVvdXQociksdC5kZWxldGUoZSl9LGk9ZnVuY3Rpb24oZSx0KXt2YXIgcixvPXBlcmZvcm1hbmNlLm5vdygpO3JldHVybntleHBlY3RlZDpvKyhyPWUtTWF0aC5tYXgoMCxvLXQpKSxyZW1haW5pbmdEZWxheTpyfX0sbj1mdW5jdGlvbiBlKHQscixvLGkpe3ZhciBuPXBlcmZvcm1hbmNlLm5vdygpO24+bz9wb3N0TWVzc2FnZSh7aWQ6bnVsbCxtZXRob2Q6XCJjYWxsXCIscGFyYW1zOnt0aW1lcklkOnIsdGltZXJUeXBlOml9fSk6dC5zZXQocixzZXRUaW1lb3V0KGUsby1uLHQscixvLGkpKX0sYT1mdW5jdGlvbih0LHIsbyl7dmFyIGE9aSh0LG8pLHM9YS5leHBlY3RlZCxkPWEucmVtYWluaW5nRGVsYXk7ZS5zZXQocixzZXRUaW1lb3V0KG4sZCxlLHIscyxcImludGVydmFsXCIpKX0scz1mdW5jdGlvbihlLHIsbyl7dmFyIGE9aShlLG8pLHM9YS5leHBlY3RlZCxkPWEucmVtYWluaW5nRGVsYXk7dC5zZXQocixzZXRUaW1lb3V0KG4sZCx0LHIscyxcInRpbWVvdXRcIikpfTthZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dHJ5e2lmKFwiY2xlYXJcIj09PXQubWV0aG9kKXt2YXIgaT10LmlkLG49dC5wYXJhbXMsZD1uLnRpbWVySWQsYz1uLnRpbWVyVHlwZTtpZihcImludGVydmFsXCI9PT1jKXIoZCkscG9zdE1lc3NhZ2Uoe2Vycm9yOm51bGwsaWQ6aX0pO2Vsc2V7aWYoXCJ0aW1lb3V0XCIhPT1jKXRocm93IG5ldyBFcnJvcignVGhlIGdpdmVuIHR5cGUgXCInLmNvbmNhdChjLCdcIiBpcyBub3Qgc3VwcG9ydGVkJykpO28oZCkscG9zdE1lc3NhZ2Uoe2Vycm9yOm51bGwsaWQ6aX0pfX1lbHNle2lmKFwic2V0XCIhPT10Lm1ldGhvZCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBnaXZlbiBtZXRob2QgXCInLmNvbmNhdCh0Lm1ldGhvZCwnXCIgaXMgbm90IHN1cHBvcnRlZCcpKTt2YXIgdT10LnBhcmFtcyxsPXUuZGVsYXkscD11Lm5vdyxtPXUudGltZXJJZCx2PXUudGltZXJUeXBlO2lmKFwiaW50ZXJ2YWxcIj09PXYpYShsLG0scCk7ZWxzZXtpZihcInRpbWVvdXRcIiE9PXYpdGhyb3cgbmV3IEVycm9yKCdUaGUgZ2l2ZW4gdHlwZSBcIicuY29uY2F0KHYsJ1wiIGlzIG5vdCBzdXBwb3J0ZWQnKSk7cyhsLG0scCl9fX1jYXRjaChlKXtwb3N0TWVzc2FnZSh7ZXJyb3I6e21lc3NhZ2U6ZS5tZXNzYWdlfSxpZDp0LmlkLHJlc3VsdDpudWxsfSl9fSkpfSk/by5jYWxsKHQscix0LGUpOm8pfHwoZS5leHBvcnRzPWkpfX0sdD17fTtmdW5jdGlvbiByKG8pe3ZhciBpPXRbb107aWYodm9pZCAwIT09aSlyZXR1cm4gaS5leHBvcnRzO3ZhciBuPXRbb109e2V4cG9ydHM6e319O3JldHVybiBlW29dKG4sbi5leHBvcnRzLHIpLG4uZXhwb3J0c31yLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiByLmQodCx7YTp0fSksdH0sci5kPShlLHQpPT57Zm9yKHZhciBvIGluIHQpci5vKHQsbykmJiFyLm8oZSxvKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbyx7ZW51bWVyYWJsZTohMCxnZXQ6dFtvXX0pfSxyLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLCgoKT0+e1widXNlIHN0cmljdFwiO3IoNDcyKX0pKCl9KSgpO2Asbj1yKGUubG9hZCxpKSxvPWZ1bmN0aW9uKGgpe3JldHVybiBuKCkuY2xlYXJJbnRlcnZhbChoKX0scz1mdW5jdGlvbihoKXtyZXR1cm4gbigpLmNsZWFyVGltZW91dChoKX0sYT1mdW5jdGlvbigpe3ZhciBoO3JldHVybiAoaD1uKCkpLnNldEludGVydmFsLmFwcGx5KGgsYXJndW1lbnRzKX0sdT1mdW5jdGlvbigpe3ZhciBoO3JldHVybiAoaD1uKCkpLnNldFRpbWVvdXQuYXBwbHkoaCxhcmd1bWVudHMpfTt0LmNsZWFySW50ZXJ2YWw9byx0LmNsZWFyVGltZW91dD1zLHQuc2V0SW50ZXJ2YWw9YSx0LnNldFRpbWVvdXQ9dTt9KTt9KTt2YXIgTnA9TShSdD0+e3YoKTttKCk7XygpO3ZhciBxdj1SdCYmUnQuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUscixpKXtpPT09dm9pZCAwJiYoaT1yKTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7KCFufHwoXCJnZXRcImluIG4/IWUuX19lc01vZHVsZTpuLndyaXRhYmxlfHxuLmNvbmZpZ3VyYWJsZSkpJiYobj17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtyXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLG4pO306ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9ciksdFtpXT1lW3JdO30pLER2PVJ0JiZSdC5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pO306ZnVuY3Rpb24odCxlKXt0LmRlZmF1bHQ9ZTt9KSxqdj1SdCYmUnQuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIHIgaW4gdClyIT09XCJkZWZhdWx0XCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZxdihlLHQscik7cmV0dXJuIER2KGUsdCksZX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFJ0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBOYT1qdihQaSgpKSxNcD14cCgpLExwPXtzZXQ6TXAuc2V0VGltZW91dCxjbGVhcjpNcC5jbGVhclRpbWVvdXR9LFVwPXtzZXQ6KHQsZSk9PnNldFRpbWVvdXQodCxlKSxjbGVhcjp0PT5jbGVhclRpbWVvdXQodCl9LEZ2PXQ9Pntzd2l0Y2godCl7Y2FzZVwibmF0aXZlXCI6cmV0dXJuIFVwO2Nhc2VcIndvcmtlclwiOnJldHVybiBMcDtjYXNlXCJhdXRvXCI6ZGVmYXVsdDpyZXR1cm4gTmEuZGVmYXVsdCYmIU5hLmlzV2ViV29ya2VyJiYhTmEuaXNSZWFjdE5hdGl2ZUJyb3dzZXI/THA6VXB9fTtSdC5kZWZhdWx0PUZ2O30pO3ZhciBEYT1NKE9pPT57digpO20oKTtfKCk7dmFyIFd2PU9pJiZPaS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KE9pLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciAkdj1XdihOcCgpKSxxYT1jbGFzc3tjb25zdHJ1Y3RvcihlLHIsaSl7dGhpcy5rZWVwYWxpdmU9ZSoxZTMsdGhpcy5jaGVja1Bpbmc9cix0aGlzLnRpbWVyPSgwLCAkdi5kZWZhdWx0KShpKSx0aGlzLnJlc2NoZWR1bGUoKTt9Y2xlYXIoKXt0aGlzLnRpbWVySWQmJih0aGlzLnRpbWVyLmNsZWFyKHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPW51bGwpO31yZXNjaGVkdWxlKCl7dGhpcy5jbGVhcigpLHRoaXMudGltZXJJZD10aGlzLnRpbWVyLnNldCgoKT0+e3RoaXMuY2hlY2tQaW5nKCksdGhpcy50aW1lcklkJiZ0aGlzLnJlc2NoZWR1bGUoKTt9LHRoaXMua2VlcGFsaXZlKTt9fTtPaS5kZWZhdWx0PXFhO30pO3ZhciBucz1NKFFlPT57digpO20oKTtfKCk7dmFyIEh2PVFlJiZRZS5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpO3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTsoIW58fChcImdldFwiaW4gbj8hZS5fX2VzTW9kdWxlOm4ud3JpdGFibGV8fG4uY29uZmlndXJhYmxlKSkmJihuPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3JdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksbik7fTpmdW5jdGlvbih0LGUscixpKXtpPT09dm9pZCAwJiYoaT1yKSx0W2ldPWVbcl07fSksVnY9UWUmJlFlLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSk7fTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lO30pLFdwPVFlJiZRZS5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZih0IT1udWxsKWZvcih2YXIgciBpbiB0KXIhPT1cImRlZmF1bHRcIiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJkh2KGUsdCxyKTtyZXR1cm4gVnYoZSx0KSxlfSxWdD1RZSYmUWUuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShRZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgenY9VnQoR3UoKSksamE9VnQoTmQoKSksS3Y9VnQoWW8oKSksR3Y9RHQoKSxxcD1WdChGZCgpKSxEcD1XcCgkZCgpKSxRdj1WdChvdCgpKSxycz1WdChabygpKSxZdj1WdChBcCgpKSxXYT1KcigpLEp2PUlwKCksWHY9VnQoRGEoKSksanA9V3AoUGkoKSksRmE9Z2xvYmFsVGhpcy5zZXRJbW1lZGlhdGV8fCgoLi4udCk9PntsZXQgZT10LnNoaWZ0KCk7KDAsIFdhLm5leHRUaWNrKSgoKT0+e2UoLi4udCk7fSk7fSksRnA9e2tlZXBhbGl2ZTo2MCxyZXNjaGVkdWxlUGluZ3M6ITAscHJvdG9jb2xJZDpcIk1RVFRcIixwcm90b2NvbFZlcnNpb246NCxyZWNvbm5lY3RQZXJpb2Q6MWUzLGNvbm5lY3RUaW1lb3V0OjMwKjFlMyxjbGVhbjohMCxyZXN1YnNjcmliZTohMCx3cml0ZUNhY2hlOiEwLHRpbWVyVmFyaWFudDpcImF1dG9cIn0saXM9Y2xhc3MgdCBleHRlbmRzIEp2LlR5cGVkRXZlbnRFbWl0dGVye3N0YXRpYyBkZWZhdWx0SWQoKXtyZXR1cm4gYG1xdHRqc18ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyLDgpfWB9Y29uc3RydWN0b3IoZSxyKXtzdXBlcigpLHRoaXMub3B0aW9ucz1yfHx7fTtmb3IobGV0IGkgaW4gRnApdHlwZW9mIHRoaXMub3B0aW9uc1tpXT5cInVcIj90aGlzLm9wdGlvbnNbaV09RnBbaV06dGhpcy5vcHRpb25zW2ldPXJbaV07dGhpcy5sb2c9dGhpcy5vcHRpb25zLmxvZ3x8KDAsIFF2LmRlZmF1bHQpKFwibXF0dGpzOmNsaWVudFwiKSx0aGlzLm5vb3A9dGhpcy5fbm9vcC5iaW5kKHRoaXMpLHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiB2ZXJzaW9uOlwiLHQuVkVSU0lPTiksanAuaXNXZWJXb3JrZXI/dGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IGVudmlyb25tZW50XCIsXCJ3ZWJ3b3JrZXJcIik6dGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IGVudmlyb25tZW50XCIsanAuZGVmYXVsdD9cImJyb3dzZXJcIjpcIm5vZGVcIiksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMucHJvdG9jb2xcIixyLnByb3RvY29sKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm90b2NvbFZlcnNpb25cIixyLnByb3RvY29sVmVyc2lvbiksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMudXNlcm5hbWVcIixyLnVzZXJuYW1lKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5rZWVwYWxpdmVcIixyLmtlZXBhbGl2ZSksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMucmVjb25uZWN0UGVyaW9kXCIsci5yZWNvbm5lY3RQZXJpb2QpLHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiBvcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZFwiLHIucmVqZWN0VW5hdXRob3JpemVkKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtXCIsci5wcm9wZXJ0aWVzP3IucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bTp2b2lkIDApLHRoaXMub3B0aW9ucy5jbGllbnRJZD10eXBlb2Ygci5jbGllbnRJZD09XCJzdHJpbmdcIj9yLmNsaWVudElkOnQuZGVmYXVsdElkKCksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IGNsaWVudElkXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLm9wdGlvbnMuY3VzdG9tSGFuZGxlQWNrcz1yLnByb3RvY29sVmVyc2lvbj09PTUmJnIuY3VzdG9tSGFuZGxlQWNrcz9yLmN1c3RvbUhhbmRsZUFja3M6KC4uLmkpPT57aVszXShudWxsLDApO30sdGhpcy5vcHRpb25zLndyaXRlQ2FjaGV8fChqYS5kZWZhdWx0LndyaXRlVG9TdHJlYW0uY2FjaGVOdW1iZXJzPSExKSx0aGlzLnN0cmVhbUJ1aWxkZXI9ZSx0aGlzLm1lc3NhZ2VJZFByb3ZpZGVyPXR5cGVvZiB0aGlzLm9wdGlvbnMubWVzc2FnZUlkUHJvdmlkZXI+XCJ1XCI/bmV3IEt2LmRlZmF1bHQ6dGhpcy5vcHRpb25zLm1lc3NhZ2VJZFByb3ZpZGVyLHRoaXMub3V0Z29pbmdTdG9yZT1yLm91dGdvaW5nU3RvcmV8fG5ldyBycy5kZWZhdWx0LHRoaXMuaW5jb21pbmdTdG9yZT1yLmluY29taW5nU3RvcmV8fG5ldyBycy5kZWZhdWx0LHRoaXMucXVldWVRb1NaZXJvPXIucXVldWVRb1NaZXJvPT09dm9pZCAwPyEwOnIucXVldWVRb1NaZXJvLHRoaXMuX3Jlc3Vic2NyaWJlVG9waWNzPXt9LHRoaXMubWVzc2FnZUlkVG9Ub3BpYz17fSx0aGlzLnBpbmdUaW1lcj1udWxsLHRoaXMuY29ubmVjdGVkPSExLHRoaXMuZGlzY29ubmVjdGluZz0hMSx0aGlzLnJlY29ubmVjdGluZz0hMSx0aGlzLnF1ZXVlPVtdLHRoaXMuY29ubmFja1RpbWVyPW51bGwsdGhpcy5yZWNvbm5lY3RUaW1lcj1udWxsLHRoaXMuX3N0b3JlUHJvY2Vzc2luZz0hMSx0aGlzLl9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3Npbmc9e30sdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWU9W10sdGhpcy5vdXRnb2luZz17fSx0aGlzLl9maXJzdENvbm5lY3Rpb249ITAsci5wcm9wZXJ0aWVzJiZyLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0+MCYmKHIucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bT42NTUzNT90aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtIGlzIG91dCBvZiByYW5nZVwiKTp0aGlzLnRvcGljQWxpYXNSZWN2PW5ldyB6di5kZWZhdWx0KHIucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bSkpLHRoaXMub24oXCJjb25uZWN0XCIsKCk9PntsZXR7cXVldWU6aX09dGhpcyxuPSgpPT57bGV0IG89aS5zaGlmdCgpO3RoaXMubG9nKFwiZGVsaXZlciA6OiBlbnRyeSAlb1wiLG8pO2xldCBzPW51bGw7aWYoIW8pe3RoaXMuX3Jlc3Vic2NyaWJlKCk7cmV0dXJufXM9by5wYWNrZXQsdGhpcy5sb2coXCJkZWxpdmVyIDo6IGNhbGwgX3NlbmRQYWNrZXQgZm9yICVvXCIscyk7bGV0IGE9ITA7cy5tZXNzYWdlSWQmJnMubWVzc2FnZUlkIT09MCYmKHRoaXMubWVzc2FnZUlkUHJvdmlkZXIucmVnaXN0ZXIocy5tZXNzYWdlSWQpfHwoYT0hMSkpLGE/dGhpcy5fc2VuZFBhY2tldChzLHU9PntvLmNiJiZvLmNiKHUpLG4oKTt9KToodGhpcy5sb2coXCJtZXNzYWdlSWQ6ICVkIGhhcyBhbHJlYWR5IHVzZWQuIFRoZSBtZXNzYWdlIGlzIHNraXBwZWQgYW5kIHJlbW92ZWQuXCIscy5tZXNzYWdlSWQpLG4oKSk7fTt0aGlzLmxvZyhcImNvbm5lY3QgOjogc2VuZGluZyBxdWV1ZWQgcGFja2V0c1wiKSxuKCk7fSksdGhpcy5vbihcImNsb3NlXCIsKCk9Pnt0aGlzLmxvZyhcImNsb3NlIDo6IGNvbm5lY3RlZCBzZXQgdG8gYGZhbHNlYFwiKSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmxvZyhcImNsb3NlIDo6IGNsZWFyaW5nIGNvbm5hY2tUaW1lclwiKSxjbGVhclRpbWVvdXQodGhpcy5jb25uYWNrVGltZXIpLHRoaXMubG9nKFwiY2xvc2UgOjogY2xlYXJpbmcgcGluZyB0aW1lclwiKSx0aGlzLnBpbmdUaW1lciYmKHRoaXMucGluZ1RpbWVyLmNsZWFyKCksdGhpcy5waW5nVGltZXI9bnVsbCksdGhpcy50b3BpY0FsaWFzUmVjdiYmdGhpcy50b3BpY0FsaWFzUmVjdi5jbGVhcigpLHRoaXMubG9nKFwiY2xvc2UgOjogY2FsbGluZyBfc2V0dXBSZWNvbm5lY3RcIiksdGhpcy5fc2V0dXBSZWNvbm5lY3QoKTt9KSx0aGlzLm9wdGlvbnMubWFudWFsQ29ubmVjdHx8KHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiBzZXR0aW5nIHVwIHN0cmVhbVwiKSx0aGlzLmNvbm5lY3QoKSk7fWhhbmRsZUF1dGgoZSxyKXtyKCk7fWhhbmRsZU1lc3NhZ2UoZSxyKXtyKCk7fV9uZXh0SWQoKXtyZXR1cm4gdGhpcy5tZXNzYWdlSWRQcm92aWRlci5hbGxvY2F0ZSgpfWdldExhc3RNZXNzYWdlSWQoKXtyZXR1cm4gdGhpcy5tZXNzYWdlSWRQcm92aWRlci5nZXRMYXN0QWxsb2NhdGVkKCl9Y29ubmVjdCgpe3ZhciBlO2xldCByPW5ldyBHdi5Xcml0YWJsZSxpPWphLmRlZmF1bHQucGFyc2VyKHRoaXMub3B0aW9ucyksbj1udWxsLG89W107dGhpcy5sb2coXCJjb25uZWN0IDo6IGNhbGxpbmcgbWV0aG9kIHRvIGNsZWFyIHJlY29ubmVjdFwiKSx0aGlzLl9jbGVhclJlY29ubmVjdCgpLHRoaXMubG9nKFwiY29ubmVjdCA6OiB1c2luZyBzdHJlYW1CdWlsZGVyIHByb3ZpZGVkIHRvIGNsaWVudCB0byBjcmVhdGUgc3RyZWFtXCIpLHRoaXMuc3RyZWFtPXRoaXMuc3RyZWFtQnVpbGRlcih0aGlzKSxpLm9uKFwicGFja2V0XCIsaD0+e3RoaXMubG9nKFwicGFyc2VyIDo6IG9uIHBhY2tldCBwdXNoIHRvIHBhY2tldHMgYXJyYXkuXCIpLG8ucHVzaChoKTt9KTtsZXQgcz0oKT0+e3RoaXMubG9nKFwid29yayA6OiBnZXR0aW5nIG5leHQgcGFja2V0IGluIHF1ZXVlXCIpO2xldCBoPW8uc2hpZnQoKTtpZihoKXRoaXMubG9nKFwid29yayA6OiBwYWNrZXQgcHVsbGVkIGZyb20gcXVldWVcIiksKDAsIFl2LmRlZmF1bHQpKHRoaXMsaCxhKTtlbHNlIHt0aGlzLmxvZyhcIndvcmsgOjogbm8gcGFja2V0cyBpbiBxdWV1ZVwiKTtsZXQgZD1uO249bnVsbCx0aGlzLmxvZyhcIndvcmsgOjogZG9uZSBmbGFnIGlzICVzXCIsISFkKSxkJiZkKCk7fX0sYT0oKT0+e2lmKG8ubGVuZ3RoKSgwLCBXYS5uZXh0VGljaykocyk7ZWxzZSB7bGV0IGg9bjtuPW51bGwsaCgpO319O3IuX3dyaXRlPShoLGQsZyk9PntuPWcsdGhpcy5sb2coXCJ3cml0YWJsZSBzdHJlYW0gOjogcGFyc2luZyBidWZmZXJcIiksaS5wYXJzZShoKSxzKCk7fTtsZXQgdT1oPT57dGhpcy5sb2coXCJzdHJlYW1FcnJvckhhbmRsZXIgOjogZXJyb3JcIixoLm1lc3NhZ2UpLGguY29kZT8odGhpcy5sb2coXCJzdHJlYW1FcnJvckhhbmRsZXIgOjogZW1pdHRpbmcgZXJyb3JcIiksdGhpcy5lbWl0KFwiZXJyb3JcIixoKSk6dGhpcy5ub29wKGgpO307dGhpcy5sb2coXCJjb25uZWN0IDo6IHBpcGUgc3RyZWFtIHRvIHdyaXRhYmxlIHN0cmVhbVwiKSx0aGlzLnN0cmVhbS5waXBlKHIpLHRoaXMuc3RyZWFtLm9uKFwiZXJyb3JcIix1KSx0aGlzLnN0cmVhbS5vbihcImNsb3NlXCIsKCk9Pnt0aGlzLmxvZyhcIiglcylzdHJlYW0gOjogb24gY2xvc2VcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMuX2ZsdXNoVm9sYXRpbGUoKSx0aGlzLmxvZyhcInN0cmVhbTogZW1pdCBjbG9zZSB0byBNcXR0Q2xpZW50XCIpLHRoaXMuZW1pdChcImNsb3NlXCIpO30pLHRoaXMubG9nKFwiY29ubmVjdDogc2VuZGluZyBwYWNrZXQgYGNvbm5lY3RgXCIpO2xldCBjPXtjbWQ6XCJjb25uZWN0XCIscHJvdG9jb2xJZDp0aGlzLm9wdGlvbnMucHJvdG9jb2xJZCxwcm90b2NvbFZlcnNpb246dGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbixjbGVhbjp0aGlzLm9wdGlvbnMuY2xlYW4sY2xpZW50SWQ6dGhpcy5vcHRpb25zLmNsaWVudElkLGtlZXBhbGl2ZTp0aGlzLm9wdGlvbnMua2VlcGFsaXZlLHVzZXJuYW1lOnRoaXMub3B0aW9ucy51c2VybmFtZSxwYXNzd29yZDp0aGlzLm9wdGlvbnMucGFzc3dvcmQscHJvcGVydGllczp0aGlzLm9wdGlvbnMucHJvcGVydGllc307aWYodGhpcy5vcHRpb25zLndpbGwmJihjLndpbGw9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMub3B0aW9ucy53aWxsKSx7cGF5bG9hZDooZT10aGlzLm9wdGlvbnMud2lsbCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnBheWxvYWR9KSksdGhpcy50b3BpY0FsaWFzUmVjdiYmKGMucHJvcGVydGllc3x8KGMucHJvcGVydGllcz17fSksdGhpcy50b3BpY0FsaWFzUmVjdiYmKGMucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bT10aGlzLnRvcGljQWxpYXNSZWN2Lm1heCkpLHRoaXMuX3dyaXRlUGFja2V0KGMpLGkub24oXCJlcnJvclwiLHRoaXMuZW1pdC5iaW5kKHRoaXMsXCJlcnJvclwiKSksdGhpcy5vcHRpb25zLnByb3BlcnRpZXMpe2lmKCF0aGlzLm9wdGlvbnMucHJvcGVydGllcy5hdXRoZW50aWNhdGlvbk1ldGhvZCYmdGhpcy5vcHRpb25zLnByb3BlcnRpZXMuYXV0aGVudGljYXRpb25EYXRhKXJldHVybiB0aGlzLmVuZCgoKT0+dGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJQYWNrZXQgaGFzIG5vIEF1dGhlbnRpY2F0aW9uIE1ldGhvZFwiKSkpLHRoaXM7aWYodGhpcy5vcHRpb25zLnByb3BlcnRpZXMuYXV0aGVudGljYXRpb25NZXRob2QmJnRoaXMub3B0aW9ucy5hdXRoUGFja2V0JiZ0eXBlb2YgdGhpcy5vcHRpb25zLmF1dGhQYWNrZXQ9PVwib2JqZWN0XCIpe2xldCBoPU9iamVjdC5hc3NpZ24oe2NtZDpcImF1dGhcIixyZWFzb25Db2RlOjB9LHRoaXMub3B0aW9ucy5hdXRoUGFja2V0KTt0aGlzLl93cml0ZVBhY2tldChoKTt9fXJldHVybiB0aGlzLnN0cmVhbS5zZXRNYXhMaXN0ZW5lcnMoMWUzKSxjbGVhclRpbWVvdXQodGhpcy5jb25uYWNrVGltZXIpLHRoaXMuY29ubmFja1RpbWVyPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmxvZyhcIiEhY29ubmVjdFRpbWVvdXQgaGl0ISEgQ2FsbGluZyBfY2xlYW5VcCB3aXRoIGZvcmNlIGB0cnVlYFwiKSx0aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcImNvbm5hY2sgdGltZW91dFwiKSksdGhpcy5fY2xlYW5VcCghMCk7fSx0aGlzLm9wdGlvbnMuY29ubmVjdFRpbWVvdXQpLHRoaXN9cHVibGlzaChlLHIsaSxuKXt0aGlzLmxvZyhcInB1Ymxpc2ggOjogbWVzc2FnZSBgJXNgIHRvIHRvcGljIGAlc2BcIixyLGUpO2xldHtvcHRpb25zOm99PXRoaXM7dHlwZW9mIGk9PVwiZnVuY3Rpb25cIiYmKG49aSxpPW51bGwpLGk9aXx8e30saT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30se3FvczowLHJldGFpbjohMSxkdXA6ITF9KSxpKTtsZXR7cW9zOmEscmV0YWluOnUsZHVwOmMscHJvcGVydGllczpoLGNiU3RvcmVQdXQ6ZH09aTtpZih0aGlzLl9jaGVja0Rpc2Nvbm5lY3RpbmcobikpcmV0dXJuIHRoaXM7bGV0IGc9KCk9PntsZXQgeT0wO2lmKChhPT09MXx8YT09PTIpJiYoeT10aGlzLl9uZXh0SWQoKSx5PT09bnVsbCkpcmV0dXJuIHRoaXMubG9nKFwiTm8gbWVzc2FnZUlkIGxlZnRcIiksITE7bGV0IHc9e2NtZDpcInB1Ymxpc2hcIix0b3BpYzplLHBheWxvYWQ6cixxb3M6YSxyZXRhaW46dSxtZXNzYWdlSWQ6eSxkdXA6Y307c3dpdGNoKG8ucHJvdG9jb2xWZXJzaW9uPT09NSYmKHcucHJvcGVydGllcz1oKSx0aGlzLmxvZyhcInB1Ymxpc2ggOjogcW9zXCIsYSksYSl7Y2FzZSAxOmNhc2UgMjp0aGlzLm91dGdvaW5nW3cubWVzc2FnZUlkXT17dm9sYXRpbGU6ITEsY2I6bnx8dGhpcy5ub29wfSx0aGlzLmxvZyhcIk1xdHRDbGllbnQ6cHVibGlzaDogcGFja2V0IGNtZDogJXNcIix3LmNtZCksdGhpcy5fc2VuZFBhY2tldCh3LHZvaWQgMCxkKTticmVhaztkZWZhdWx0OnRoaXMubG9nKFwiTXF0dENsaWVudDpwdWJsaXNoOiBwYWNrZXQgY21kOiAlc1wiLHcuY21kKSx0aGlzLl9zZW5kUGFja2V0KHcsbixkKTticmVha31yZXR1cm4gITB9O3JldHVybiAodGhpcy5fc3RvcmVQcm9jZXNzaW5nfHx0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5sZW5ndGg+MHx8IWcoKSkmJnRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLnB1c2goe2ludm9rZTpnLGNiU3RvcmVQdXQ6aS5jYlN0b3JlUHV0LGNhbGxiYWNrOm59KSx0aGlzfXB1Ymxpc2hBc3luYyhlLHIsaSl7cmV0dXJuIG5ldyBQcm9taXNlKChuLG8pPT57dGhpcy5wdWJsaXNoKGUscixpLChzLGEpPT57cz9vKHMpOm4oYSk7fSk7fSl9c3Vic2NyaWJlKGUscixpKXtsZXQgbj10aGlzLm9wdGlvbnMucHJvdG9jb2xWZXJzaW9uO3R5cGVvZiByPT1cImZ1bmN0aW9uXCImJihpPXIpLGk9aXx8dGhpcy5ub29wO2xldCBvPSExLHM9W107dHlwZW9mIGU9PVwic3RyaW5nXCI/KGU9W2VdLHM9ZSk6QXJyYXkuaXNBcnJheShlKT9zPWU6dHlwZW9mIGU9PVwib2JqZWN0XCImJihvPWUucmVzdWJzY3JpYmUsZGVsZXRlIGUucmVzdWJzY3JpYmUscz1PYmplY3Qua2V5cyhlKSk7bGV0IGE9RHAudmFsaWRhdGVUb3BpY3Mocyk7aWYoYSE9PW51bGwpcmV0dXJuIEZhKGksbmV3IEVycm9yKGBJbnZhbGlkIHRvcGljICR7YX1gKSksdGhpcztpZih0aGlzLl9jaGVja0Rpc2Nvbm5lY3RpbmcoaSkpcmV0dXJuIHRoaXMubG9nKFwic3Vic2NyaWJlOiBkaXNjY29uZWN0aW5nIHRydWVcIiksdGhpcztsZXQgdT17cW9zOjB9O249PT01JiYodS5ubD0hMSx1LnJhcD0hMSx1LnJoPTApLHI9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHUpLHIpO2xldCBjPXIucHJvcGVydGllcyxoPVtdLGQ9KHksdyk9PntpZih3PXd8fHIsIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9yZXN1YnNjcmliZVRvcGljcyx5KXx8dGhpcy5fcmVzdWJzY3JpYmVUb3BpY3NbeV0ucW9zPHcucW9zfHxvKXtsZXQgRT17dG9waWM6eSxxb3M6dy5xb3N9O249PT01JiYoRS5ubD13Lm5sLEUucmFwPXcucmFwLEUucmg9dy5yaCxFLnByb3BlcnRpZXM9YyksdGhpcy5sb2coXCJzdWJzY3JpYmU6IHB1c2hpbmcgdG9waWMgYCVzYCBhbmQgcW9zIGAlc2AgdG8gc3VicyBsaXN0XCIsRS50b3BpYyxFLnFvcyksaC5wdXNoKEUpO319O2lmKEFycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKHk9Pnt0aGlzLmxvZyhcInN1YnNjcmliZTogYXJyYXkgdG9waWMgJXNcIix5KSxkKHkpO30pOk9iamVjdC5rZXlzKGUpLmZvckVhY2goeT0+e3RoaXMubG9nKFwic3Vic2NyaWJlOiBvYmplY3QgdG9waWMgJXMsICVvXCIseSxlW3ldKSxkKHksZVt5XSk7fSksIWgubGVuZ3RoKXJldHVybiBpKG51bGwsW10pLHRoaXM7bGV0IGc9KCk9PntsZXQgeT10aGlzLl9uZXh0SWQoKTtpZih5PT09bnVsbClyZXR1cm4gdGhpcy5sb2coXCJObyBtZXNzYWdlSWQgbGVmdFwiKSwhMTtsZXQgdz17Y21kOlwic3Vic2NyaWJlXCIsc3Vic2NyaXB0aW9uczpoLG1lc3NhZ2VJZDp5fTtpZihjJiYody5wcm9wZXJ0aWVzPWMpLHRoaXMub3B0aW9ucy5yZXN1YnNjcmliZSl7dGhpcy5sb2coXCJzdWJzY3JpYmUgOjogcmVzdWJzY3JpYmUgdHJ1ZVwiKTtsZXQgRT1bXTtoLmZvckVhY2goUz0+e2lmKHRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2Q+MCl7bGV0IEk9e3FvczpTLnFvc307bj09PTUmJihJLm5sPVMubmx8fCExLEkucmFwPVMucmFwfHwhMSxJLnJoPVMucmh8fDAsSS5wcm9wZXJ0aWVzPVMucHJvcGVydGllcyksdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3NbUy50b3BpY109SSxFLnB1c2goUy50b3BpYyk7fX0pLHRoaXMubWVzc2FnZUlkVG9Ub3BpY1t3Lm1lc3NhZ2VJZF09RTt9cmV0dXJuIHRoaXMub3V0Z29pbmdbdy5tZXNzYWdlSWRdPXt2b2xhdGlsZTohMCxjYihFLFMpe2lmKCFFKXtsZXR7Z3JhbnRlZDpJfT1TO2ZvcihsZXQgQz0wO0M8SS5sZW5ndGg7Qys9MSloW0NdLnFvcz1JW0NdO31pKEUsaCk7fX0sdGhpcy5sb2coXCJzdWJzY3JpYmUgOjogY2FsbCBfc2VuZFBhY2tldFwiKSx0aGlzLl9zZW5kUGFja2V0KHcpLCEwfTtyZXR1cm4gKHRoaXMuX3N0b3JlUHJvY2Vzc2luZ3x8dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUubGVuZ3RoPjB8fCFnKCkpJiZ0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtpbnZva2U6ZyxjYWxsYmFjazppfSksdGhpc31zdWJzY3JpYmVBc3luYyhlLHIpe3JldHVybiBuZXcgUHJvbWlzZSgoaSxuKT0+e3RoaXMuc3Vic2NyaWJlKGUsciwobyxzKT0+e28/bihvKTppKHMpO30pO30pfXVuc3Vic2NyaWJlKGUscixpKXt0eXBlb2YgZT09XCJzdHJpbmdcIiYmKGU9W2VdKSx0eXBlb2Ygcj09XCJmdW5jdGlvblwiJiYoaT1yKSxpPWl8fHRoaXMubm9vcDtsZXQgbj1EcC52YWxpZGF0ZVRvcGljcyhlKTtpZihuIT09bnVsbClyZXR1cm4gRmEoaSxuZXcgRXJyb3IoYEludmFsaWQgdG9waWMgJHtufWApKSx0aGlzO2lmKHRoaXMuX2NoZWNrRGlzY29ubmVjdGluZyhpKSlyZXR1cm4gdGhpcztsZXQgbz0oKT0+e2xldCBzPXRoaXMuX25leHRJZCgpO2lmKHM9PT1udWxsKXJldHVybiB0aGlzLmxvZyhcIk5vIG1lc3NhZ2VJZCBsZWZ0XCIpLCExO2xldCBhPXtjbWQ6XCJ1bnN1YnNjcmliZVwiLG1lc3NhZ2VJZDpzLHVuc3Vic2NyaXB0aW9uczpbXX07cmV0dXJuIHR5cGVvZiBlPT1cInN0cmluZ1wiP2EudW5zdWJzY3JpcHRpb25zPVtlXTpBcnJheS5pc0FycmF5KGUpJiYoYS51bnN1YnNjcmlwdGlvbnM9ZSksdGhpcy5vcHRpb25zLnJlc3Vic2NyaWJlJiZhLnVuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHU9PntkZWxldGUgdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3NbdV07fSksdHlwZW9mIHI9PVwib2JqZWN0XCImJnIucHJvcGVydGllcyYmKGEucHJvcGVydGllcz1yLnByb3BlcnRpZXMpLHRoaXMub3V0Z29pbmdbYS5tZXNzYWdlSWRdPXt2b2xhdGlsZTohMCxjYjppfSx0aGlzLmxvZyhcInVuc3Vic2NyaWJlOiBjYWxsIF9zZW5kUGFja2V0XCIpLHRoaXMuX3NlbmRQYWNrZXQoYSksITB9O3JldHVybiAodGhpcy5fc3RvcmVQcm9jZXNzaW5nfHx0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5sZW5ndGg+MHx8IW8oKSkmJnRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLnB1c2goe2ludm9rZTpvLGNhbGxiYWNrOml9KSx0aGlzfXVuc3Vic2NyaWJlQXN5bmMoZSxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGksbik9Pnt0aGlzLnVuc3Vic2NyaWJlKGUsciwobyxzKT0+e28/bihvKTppKHMpO30pO30pfWVuZChlLHIsaSl7dGhpcy5sb2coXCJlbmQgOjogKCVzKVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksKGU9PW51bGx8fHR5cGVvZiBlIT1cImJvb2xlYW5cIikmJihpPWl8fHIscj1lLGU9ITEpLHR5cGVvZiByIT1cIm9iamVjdFwiJiYoaT1pfHxyLHI9bnVsbCksdGhpcy5sb2coXCJlbmQgOjogY2I/ICVzXCIsISFpKSwoIWl8fHR5cGVvZiBpIT1cImZ1bmN0aW9uXCIpJiYoaT10aGlzLm5vb3ApO2xldCBuPSgpPT57dGhpcy5sb2coXCJlbmQgOjogY2xvc2VTdG9yZXM6IGNsb3NpbmcgaW5jb21pbmcgYW5kIG91dGdvaW5nIHN0b3Jlc1wiKSx0aGlzLmRpc2Nvbm5lY3RlZD0hMCx0aGlzLmluY29taW5nU3RvcmUuY2xvc2Uocz0+e3RoaXMub3V0Z29pbmdTdG9yZS5jbG9zZShhPT57aWYodGhpcy5sb2coXCJlbmQgOjogY2xvc2VTdG9yZXM6IGVtaXR0aW5nIGVuZFwiKSx0aGlzLmVtaXQoXCJlbmRcIiksaSl7bGV0IHU9c3x8YTt0aGlzLmxvZyhcImVuZCA6OiBjbG9zZVN0b3JlczogaW52b2tpbmcgY2FsbGJhY2sgd2l0aCBhcmdzXCIpLGkodSk7fX0pO30pLHRoaXMuX2RlZmVycmVkUmVjb25uZWN0JiZ0aGlzLl9kZWZlcnJlZFJlY29ubmVjdCgpO30sbz0oKT0+e3RoaXMubG9nKFwiZW5kIDo6ICglcykgOjogZmluaXNoIDo6IGNhbGxpbmcgX2NsZWFuVXAgd2l0aCBmb3JjZSAlc1wiLHRoaXMub3B0aW9ucy5jbGllbnRJZCxlKSx0aGlzLl9jbGVhblVwKGUsKCk9Pnt0aGlzLmxvZyhcImVuZCA6OiBmaW5pc2ggOjogY2FsbGluZyBwcm9jZXNzLm5leHRUaWNrIG9uIGNsb3NlU3RvcmVzXCIpLCgwLCBXYS5uZXh0VGljaykobik7fSxyKTt9O3JldHVybiB0aGlzLmRpc2Nvbm5lY3Rpbmc/KGkoKSx0aGlzKToodGhpcy5fY2xlYXJSZWNvbm5lY3QoKSx0aGlzLmRpc2Nvbm5lY3Rpbmc9ITAsIWUmJk9iamVjdC5rZXlzKHRoaXMub3V0Z29pbmcpLmxlbmd0aD4wPyh0aGlzLmxvZyhcImVuZCA6OiAoJXMpIDo6IGNhbGxpbmcgZmluaXNoIGluIDEwbXMgb25jZSBvdXRnb2luZyBpcyBlbXB0eVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5vbmNlKFwib3V0Z29pbmdFbXB0eVwiLHNldFRpbWVvdXQuYmluZChudWxsLG8sMTApKSk6KHRoaXMubG9nKFwiZW5kIDo6ICglcykgOjogaW1tZWRpYXRlbHkgY2FsbGluZyBmaW5pc2hcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLG8oKSksdGhpcyl9ZW5kQXN5bmMoZSxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGksbik9Pnt0aGlzLmVuZChlLHIsbz0+e28/bihvKTppKCk7fSk7fSl9cmVtb3ZlT3V0Z29pbmdNZXNzYWdlKGUpe2lmKHRoaXMub3V0Z29pbmdbZV0pe2xldHtjYjpyfT10aGlzLm91dGdvaW5nW2VdO3RoaXMuX3JlbW92ZU91dGdvaW5nQW5kU3RvcmVNZXNzYWdlKGUsKCk9PntyKG5ldyBFcnJvcihcIk1lc3NhZ2UgcmVtb3ZlZFwiKSk7fSk7fXJldHVybiB0aGlzfXJlY29ubmVjdChlKXt0aGlzLmxvZyhcImNsaWVudCByZWNvbm5lY3RcIik7bGV0IHI9KCk9PntlPyh0aGlzLm9wdGlvbnMuaW5jb21pbmdTdG9yZT1lLmluY29taW5nU3RvcmUsdGhpcy5vcHRpb25zLm91dGdvaW5nU3RvcmU9ZS5vdXRnb2luZ1N0b3JlKToodGhpcy5vcHRpb25zLmluY29taW5nU3RvcmU9bnVsbCx0aGlzLm9wdGlvbnMub3V0Z29pbmdTdG9yZT1udWxsKSx0aGlzLmluY29taW5nU3RvcmU9dGhpcy5vcHRpb25zLmluY29taW5nU3RvcmV8fG5ldyBycy5kZWZhdWx0LHRoaXMub3V0Z29pbmdTdG9yZT10aGlzLm9wdGlvbnMub3V0Z29pbmdTdG9yZXx8bmV3IHJzLmRlZmF1bHQsdGhpcy5kaXNjb25uZWN0aW5nPSExLHRoaXMuZGlzY29ubmVjdGVkPSExLHRoaXMuX2RlZmVycmVkUmVjb25uZWN0PW51bGwsdGhpcy5fcmVjb25uZWN0KCk7fTtyZXR1cm4gdGhpcy5kaXNjb25uZWN0aW5nJiYhdGhpcy5kaXNjb25uZWN0ZWQ/dGhpcy5fZGVmZXJyZWRSZWNvbm5lY3Q9cjpyKCksdGhpc31fZmx1c2hWb2xhdGlsZSgpe3RoaXMub3V0Z29pbmcmJih0aGlzLmxvZyhcIl9mbHVzaFZvbGF0aWxlIDo6IGRlbGV0aW5nIHZvbGF0aWxlIG1lc3NhZ2VzIGZyb20gdGhlIHF1ZXVlIGFuZCBzZXR0aW5nIHRoZWlyIGNhbGxiYWNrcyBhcyBlcnJvciBmdW5jdGlvblwiKSxPYmplY3Qua2V5cyh0aGlzLm91dGdvaW5nKS5mb3JFYWNoKGU9Pnt0aGlzLm91dGdvaW5nW2VdLnZvbGF0aWxlJiZ0eXBlb2YgdGhpcy5vdXRnb2luZ1tlXS5jYj09XCJmdW5jdGlvblwiJiYodGhpcy5vdXRnb2luZ1tlXS5jYihuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSksZGVsZXRlIHRoaXMub3V0Z29pbmdbZV0pO30pKTt9X2ZsdXNoKCl7dGhpcy5vdXRnb2luZyYmKHRoaXMubG9nKFwiX2ZsdXNoOiBxdWV1ZSBleGlzdHM/ICViXCIsISF0aGlzLm91dGdvaW5nKSxPYmplY3Qua2V5cyh0aGlzLm91dGdvaW5nKS5mb3JFYWNoKGU9Pnt0eXBlb2YgdGhpcy5vdXRnb2luZ1tlXS5jYj09XCJmdW5jdGlvblwiJiYodGhpcy5vdXRnb2luZ1tlXS5jYihuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSksZGVsZXRlIHRoaXMub3V0Z29pbmdbZV0pO30pKTt9X3JlbW92ZVRvcGljQWxpYXNBbmRSZWNvdmVyVG9waWNOYW1lKGUpe2xldCByO2UucHJvcGVydGllcyYmKHI9ZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXMpO2xldCBpPWUudG9waWMudG9TdHJpbmcoKTtpZih0aGlzLmxvZyhcIl9yZW1vdmVUb3BpY0FsaWFzQW5kUmVjb3ZlclRvcGljTmFtZSA6OiBhbGlhcyAlZCwgdG9waWMgJW9cIixyLGkpLGkubGVuZ3RoPT09MCl7aWYodHlwZW9mIHI+XCJ1XCIpcmV0dXJuIG5ldyBFcnJvcihcIlVucmVnaXN0ZXJlZCBUb3BpYyBBbGlhc1wiKTtpZihpPXRoaXMudG9waWNBbGlhc1NlbmQuZ2V0VG9waWNCeUFsaWFzKHIpLHR5cGVvZiBpPlwidVwiKXJldHVybiBuZXcgRXJyb3IoXCJVbnJlZ2lzdGVyZWQgVG9waWMgQWxpYXNcIik7ZS50b3BpYz1pO31yJiZkZWxldGUgZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXM7fV9jaGVja0Rpc2Nvbm5lY3RpbmcoZSl7cmV0dXJuIHRoaXMuZGlzY29ubmVjdGluZyYmKGUmJmUhPT10aGlzLm5vb3A/ZShuZXcgRXJyb3IoXCJjbGllbnQgZGlzY29ubmVjdGluZ1wiKSk6dGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJjbGllbnQgZGlzY29ubmVjdGluZ1wiKSkpLHRoaXMuZGlzY29ubmVjdGluZ31fcmVjb25uZWN0KCl7dGhpcy5sb2coXCJfcmVjb25uZWN0OiBlbWl0dGluZyByZWNvbm5lY3QgdG8gY2xpZW50XCIpLHRoaXMuZW1pdChcInJlY29ubmVjdFwiKSx0aGlzLmNvbm5lY3RlZD8odGhpcy5lbmQoKCk9Pnt0aGlzLmNvbm5lY3QoKTt9KSx0aGlzLmxvZyhcImNsaWVudCBhbHJlYWR5IGNvbm5lY3RlZC4gZGlzY29ubmVjdGluZyBmaXJzdC5cIikpOih0aGlzLmxvZyhcIl9yZWNvbm5lY3Q6IGNhbGxpbmcgY29ubmVjdFwiKSx0aGlzLmNvbm5lY3QoKSk7fV9zZXR1cFJlY29ubmVjdCgpeyF0aGlzLmRpc2Nvbm5lY3RpbmcmJiF0aGlzLnJlY29ubmVjdFRpbWVyJiZ0aGlzLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kPjA/KHRoaXMucmVjb25uZWN0aW5nfHwodGhpcy5sb2coXCJfc2V0dXBSZWNvbm5lY3QgOjogZW1pdCBgb2ZmbGluZWAgc3RhdGVcIiksdGhpcy5lbWl0KFwib2ZmbGluZVwiKSx0aGlzLmxvZyhcIl9zZXR1cFJlY29ubmVjdCA6OiBzZXQgYHJlY29ubmVjdGluZ2AgdG8gYHRydWVgXCIpLHRoaXMucmVjb25uZWN0aW5nPSEwKSx0aGlzLmxvZyhcIl9zZXR1cFJlY29ubmVjdCA6OiBzZXR0aW5nIHJlY29ubmVjdFRpbWVyIGZvciAlZCBtc1wiLHRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2QpLHRoaXMucmVjb25uZWN0VGltZXI9c2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLmxvZyhcInJlY29ubmVjdFRpbWVyIDo6IHJlY29ubmVjdCB0cmlnZ2VyZWQhXCIpLHRoaXMuX3JlY29ubmVjdCgpO30sdGhpcy5vcHRpb25zLnJlY29ubmVjdFBlcmlvZCkpOnRoaXMubG9nKFwiX3NldHVwUmVjb25uZWN0IDo6IGRvaW5nIG5vdGhpbmcuLi5cIik7fV9jbGVhclJlY29ubmVjdCgpe3RoaXMubG9nKFwiX2NsZWFyUmVjb25uZWN0IDogY2xlYXJpbmcgcmVjb25uZWN0IHRpbWVyXCIpLHRoaXMucmVjb25uZWN0VGltZXImJihjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0VGltZXIpLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbCk7fV9jbGVhblVwKGUscixpPXt9KXtpZihyJiYodGhpcy5sb2coXCJfY2xlYW5VcCA6OiBkb25lIGNhbGxiYWNrIHByb3ZpZGVkIGZvciBvbiBzdHJlYW0gY2xvc2VcIiksdGhpcy5zdHJlYW0ub24oXCJjbG9zZVwiLHIpKSx0aGlzLmxvZyhcIl9jbGVhblVwIDo6IGZvcmNlZD8gJXNcIixlKSxlKXRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2Q9PT0wJiZ0aGlzLm9wdGlvbnMuY2xlYW4mJnRoaXMuX2ZsdXNoKCksdGhpcy5sb2coXCJfY2xlYW5VcCA6OiAoJXMpIDo6IGRlc3Ryb3lpbmcgc3RyZWFtXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLnN0cmVhbS5kZXN0cm95KCk7ZWxzZSB7bGV0IG49T2JqZWN0LmFzc2lnbih7Y21kOlwiZGlzY29ubmVjdFwifSxpKTt0aGlzLmxvZyhcIl9jbGVhblVwIDo6ICglcykgOjogY2FsbCBfc2VuZFBhY2tldCB3aXRoIGRpc2Nvbm5lY3QgcGFja2V0XCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLl9zZW5kUGFja2V0KG4sKCk9Pnt0aGlzLmxvZyhcIl9jbGVhblVwIDo6ICglcykgOjogZGVzdHJveWluZyBzdHJlYW1cIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLEZhKCgpPT57dGhpcy5zdHJlYW0uZW5kKCgpPT57dGhpcy5sb2coXCJfY2xlYW5VcCA6OiAoJXMpIDo6IHN0cmVhbSBkZXN0cm95ZWRcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpO30pO30pO30pO30hdGhpcy5kaXNjb25uZWN0aW5nJiYhdGhpcy5yZWNvbm5lY3RpbmcmJih0aGlzLmxvZyhcIl9jbGVhblVwIDo6IGNsaWVudCBub3QgZGlzY29ubmVjdGluZy9yZWNvbm5lY3RpbmcuIENsZWFyaW5nIGFuZCByZXNldHRpbmcgcmVjb25uZWN0LlwiKSx0aGlzLl9jbGVhclJlY29ubmVjdCgpLHRoaXMuX3NldHVwUmVjb25uZWN0KCkpLHRoaXMucGluZ1RpbWVyJiYodGhpcy5sb2coXCJfY2xlYW5VcCA6OiBjbGVhcmluZyBwaW5nVGltZXJcIiksdGhpcy5waW5nVGltZXIuY2xlYXIoKSx0aGlzLnBpbmdUaW1lcj1udWxsKSxyJiYhdGhpcy5jb25uZWN0ZWQmJih0aGlzLmxvZyhcIl9jbGVhblVwIDo6ICglcykgOjogcmVtb3Zpbmcgc3RyZWFtIGBkb25lYCBjYWxsYmFjayBgY2xvc2VgIGxpc3RlbmVyXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLnN0cmVhbS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIscikscigpKTt9X3N0b3JlQW5kU2VuZChlLHIsaSl7dGhpcy5sb2coXCJzdG9yZUFuZFNlbmQgOjogc3RvcmUgcGFja2V0IHdpdGggY21kICVzIHRvIG91dGdvaW5nU3RvcmVcIixlLmNtZCk7bGV0IG49ZSxvO2lmKG4uY21kPT09XCJwdWJsaXNoXCImJihuPSgwLCBxcC5kZWZhdWx0KShlKSxvPXRoaXMuX3JlbW92ZVRvcGljQWxpYXNBbmRSZWNvdmVyVG9waWNOYW1lKG4pLG8pKXJldHVybiByJiZyKG8pO3RoaXMub3V0Z29pbmdTdG9yZS5wdXQobixzPT57aWYocylyZXR1cm4gciYmcihzKTtpKCksdGhpcy5fd3JpdGVQYWNrZXQoZSxyKTt9KTt9X2FwcGx5VG9waWNBbGlhcyhlKXtpZih0aGlzLm9wdGlvbnMucHJvdG9jb2xWZXJzaW9uPT09NSYmZS5jbWQ9PT1cInB1Ymxpc2hcIil7bGV0IHI7ZS5wcm9wZXJ0aWVzJiYocj1lLnByb3BlcnRpZXMudG9waWNBbGlhcyk7bGV0IGk9ZS50b3BpYy50b1N0cmluZygpO2lmKHRoaXMudG9waWNBbGlhc1NlbmQpaWYocil7aWYoaS5sZW5ndGghPT0wJiYodGhpcy5sb2coXCJhcHBseVRvcGljQWxpYXMgOjogcmVnaXN0ZXIgdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsaSxyKSwhdGhpcy50b3BpY0FsaWFzU2VuZC5wdXQoaSxyKSkpcmV0dXJuIHRoaXMubG9nKFwiYXBwbHlUb3BpY0FsaWFzIDo6IGVycm9yIG91dCBvZiByYW5nZS4gdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsaSxyKSxuZXcgRXJyb3IoXCJTZW5kaW5nIFRvcGljIEFsaWFzIG91dCBvZiByYW5nZVwiKX1lbHNlIGkubGVuZ3RoIT09MCYmKHRoaXMub3B0aW9ucy5hdXRvQXNzaWduVG9waWNBbGlhcz8ocj10aGlzLnRvcGljQWxpYXNTZW5kLmdldEFsaWFzQnlUb3BpYyhpKSxyPyhlLnRvcGljPVwiXCIsZS5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLnByb3BlcnRpZXMpLHt0b3BpY0FsaWFzOnJ9KSx0aGlzLmxvZyhcImFwcGx5VG9waWNBbGlhcyA6OiBhdXRvIGFzc2lnbih1c2UpIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGkscikpOihyPXRoaXMudG9waWNBbGlhc1NlbmQuZ2V0THJ1QWxpYXMoKSx0aGlzLnRvcGljQWxpYXNTZW5kLnB1dChpLHIpLGUucHJvcGVydGllcz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5wcm9wZXJ0aWVzKSx7dG9waWNBbGlhczpyfSksdGhpcy5sb2coXCJhcHBseVRvcGljQWxpYXMgOjogYXV0byBhc3NpZ24gdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsaSxyKSkpOnRoaXMub3B0aW9ucy5hdXRvVXNlVG9waWNBbGlhcyYmKHI9dGhpcy50b3BpY0FsaWFzU2VuZC5nZXRBbGlhc0J5VG9waWMoaSksciYmKGUudG9waWM9XCJcIixlLnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUucHJvcGVydGllcykse3RvcGljQWxpYXM6cn0pLHRoaXMubG9nKFwiYXBwbHlUb3BpY0FsaWFzIDo6IGF1dG8gdXNlIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGkscikpKSk7ZWxzZSBpZihyKXJldHVybiB0aGlzLmxvZyhcImFwcGx5VG9waWNBbGlhcyA6OiBlcnJvciBvdXQgb2YgcmFuZ2UuIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGksciksbmV3IEVycm9yKFwiU2VuZGluZyBUb3BpYyBBbGlhcyBvdXQgb2YgcmFuZ2VcIil9fV9ub29wKGUpe3RoaXMubG9nKFwibm9vcCA6OlwiLGUpO31fd3JpdGVQYWNrZXQoZSxyKXt0aGlzLmxvZyhcIl93cml0ZVBhY2tldCA6OiBwYWNrZXQ6ICVPXCIsZSksdGhpcy5sb2coXCJfd3JpdGVQYWNrZXQgOjogZW1pdHRpbmcgYHBhY2tldHNlbmRgXCIpLHRoaXMuZW1pdChcInBhY2tldHNlbmRcIixlKSx0aGlzLl9zaGlmdFBpbmdJbnRlcnZhbCgpLHRoaXMubG9nKFwiX3dyaXRlUGFja2V0IDo6IHdyaXRpbmcgdG8gc3RyZWFtXCIpO2xldCBpPWphLmRlZmF1bHQud3JpdGVUb1N0cmVhbShlLHRoaXMuc3RyZWFtLHRoaXMub3B0aW9ucyk7dGhpcy5sb2coXCJfd3JpdGVQYWNrZXQgOjogd3JpdGVUb1N0cmVhbSByZXN1bHQgJXNcIixpKSwhaSYmciYmciE9PXRoaXMubm9vcD8odGhpcy5sb2coXCJfd3JpdGVQYWNrZXQgOjogaGFuZGxlIGV2ZW50cyBvbiBgZHJhaW5gIG9uY2UgdGhyb3VnaCBjYWxsYmFjay5cIiksdGhpcy5zdHJlYW0ub25jZShcImRyYWluXCIscikpOnImJih0aGlzLmxvZyhcIl93cml0ZVBhY2tldCA6OiBpbnZva2luZyBjYlwiKSxyKCkpO31fc2VuZFBhY2tldChlLHIsaSxuKXt0aGlzLmxvZyhcIl9zZW5kUGFja2V0IDo6ICglcykgOjogIHN0YXJ0XCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSxpPWl8fHRoaXMubm9vcCxyPXJ8fHRoaXMubm9vcDtsZXQgbz10aGlzLl9hcHBseVRvcGljQWxpYXMoZSk7aWYobyl7cihvKTtyZXR1cm59aWYoIXRoaXMuY29ubmVjdGVkKXtpZihlLmNtZD09PVwiYXV0aFwiKXt0aGlzLl93cml0ZVBhY2tldChlLHIpO3JldHVybn10aGlzLmxvZyhcIl9zZW5kUGFja2V0IDo6IGNsaWVudCBub3QgY29ubmVjdGVkLiBTdG9yaW5nIHBhY2tldCBvZmZsaW5lLlwiKSx0aGlzLl9zdG9yZVBhY2tldChlLHIsaSk7cmV0dXJufWlmKG4pe3RoaXMuX3dyaXRlUGFja2V0KGUscik7cmV0dXJufXN3aXRjaChlLmNtZCl7Y2FzZVwicHVibGlzaFwiOmJyZWFrO2Nhc2VcInB1YnJlbFwiOnRoaXMuX3N0b3JlQW5kU2VuZChlLHIsaSk7cmV0dXJuO2RlZmF1bHQ6dGhpcy5fd3JpdGVQYWNrZXQoZSxyKTtyZXR1cm59c3dpdGNoKGUucW9zKXtjYXNlIDI6Y2FzZSAxOnRoaXMuX3N0b3JlQW5kU2VuZChlLHIsaSk7YnJlYWs7Y2FzZSAwOmRlZmF1bHQ6dGhpcy5fd3JpdGVQYWNrZXQoZSxyKTticmVha310aGlzLmxvZyhcIl9zZW5kUGFja2V0IDo6ICglcykgOjogIGVuZFwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCk7fV9zdG9yZVBhY2tldChlLHIsaSl7dGhpcy5sb2coXCJfc3RvcmVQYWNrZXQgOjogcGFja2V0OiAlb1wiLGUpLHRoaXMubG9nKFwiX3N0b3JlUGFja2V0IDo6IGNiPyAlc1wiLCEhciksaT1pfHx0aGlzLm5vb3A7bGV0IG49ZTtpZihuLmNtZD09PVwicHVibGlzaFwiKXtuPSgwLCBxcC5kZWZhdWx0KShlKTtsZXQgcz10aGlzLl9yZW1vdmVUb3BpY0FsaWFzQW5kUmVjb3ZlclRvcGljTmFtZShuKTtpZihzKXJldHVybiByJiZyKHMpfWxldCBvPW4ucW9zfHwwO289PT0wJiZ0aGlzLnF1ZXVlUW9TWmVyb3x8bi5jbWQhPT1cInB1Ymxpc2hcIj90aGlzLnF1ZXVlLnB1c2goe3BhY2tldDpuLGNiOnJ9KTpvPjA/KHI9dGhpcy5vdXRnb2luZ1tuLm1lc3NhZ2VJZF0/dGhpcy5vdXRnb2luZ1tuLm1lc3NhZ2VJZF0uY2I6bnVsbCx0aGlzLm91dGdvaW5nU3RvcmUucHV0KG4scz0+e2lmKHMpcmV0dXJuIHImJnIocyk7aSgpO30pKTpyJiZyKG5ldyBFcnJvcihcIk5vIGNvbm5lY3Rpb24gdG8gYnJva2VyXCIpKTt9X3NldHVwUGluZ1RpbWVyKCl7dGhpcy5sb2coXCJfc2V0dXBQaW5nVGltZXIgOjoga2VlcGFsaXZlICVkIChzZWNvbmRzKVwiLHRoaXMub3B0aW9ucy5rZWVwYWxpdmUpLCF0aGlzLnBpbmdUaW1lciYmdGhpcy5vcHRpb25zLmtlZXBhbGl2ZSYmKHRoaXMucGluZ1Jlc3A9ITAsdGhpcy5waW5nVGltZXI9bmV3IFh2LmRlZmF1bHQodGhpcy5vcHRpb25zLmtlZXBhbGl2ZSwoKT0+e3RoaXMuX2NoZWNrUGluZygpO30sdGhpcy5vcHRpb25zLnRpbWVyVmFyaWFudCkpO31fc2hpZnRQaW5nSW50ZXJ2YWwoKXt0aGlzLnBpbmdUaW1lciYmdGhpcy5vcHRpb25zLmtlZXBhbGl2ZSYmdGhpcy5vcHRpb25zLnJlc2NoZWR1bGVQaW5ncyYmdGhpcy5waW5nVGltZXIucmVzY2hlZHVsZSgpO31fY2hlY2tQaW5nKCl7dGhpcy5sb2coXCJfY2hlY2tQaW5nIDo6IGNoZWNraW5nIHBpbmcuLi5cIiksdGhpcy5waW5nUmVzcD8odGhpcy5sb2coXCJfY2hlY2tQaW5nIDo6IHBpbmcgcmVzcG9uc2UgcmVjZWl2ZWQuIENsZWFyaW5nIGZsYWcgYW5kIHNlbmRpbmcgYHBpbmdyZXFgXCIpLHRoaXMucGluZ1Jlc3A9ITEsdGhpcy5fc2VuZFBhY2tldCh7Y21kOlwicGluZ3JlcVwifSkpOih0aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIktlZXBhbGl2ZSB0aW1lb3V0XCIpKSx0aGlzLmxvZyhcIl9jaGVja1BpbmcgOjogY2FsbGluZyBfY2xlYW5VcCB3aXRoIGZvcmNlIHRydWVcIiksdGhpcy5fY2xlYW5VcCghMCkpO31fcmVzdWJzY3JpYmUoKXt0aGlzLmxvZyhcIl9yZXN1YnNjcmliZVwiKTtsZXQgZT1PYmplY3Qua2V5cyh0aGlzLl9yZXN1YnNjcmliZVRvcGljcyk7aWYoIXRoaXMuX2ZpcnN0Q29ubmVjdGlvbiYmKHRoaXMub3B0aW9ucy5jbGVhbnx8dGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbj49NCYmIXRoaXMuY29ubmFja1BhY2tldC5zZXNzaW9uUHJlc2VudCkmJmUubGVuZ3RoPjApaWYodGhpcy5vcHRpb25zLnJlc3Vic2NyaWJlKWlmKHRoaXMub3B0aW9ucy5wcm90b2NvbFZlcnNpb249PT01KXt0aGlzLmxvZyhcIl9yZXN1YnNjcmliZTogcHJvdG9jb2xWZXJzaW9uIDVcIik7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCBpPXt9O2lbZVtyXV09dGhpcy5fcmVzdWJzY3JpYmVUb3BpY3NbZVtyXV0saS5yZXN1YnNjcmliZT0hMCx0aGlzLnN1YnNjcmliZShpLHtwcm9wZXJ0aWVzOmlbZVtyXV0ucHJvcGVydGllc30pO319ZWxzZSB0aGlzLl9yZXN1YnNjcmliZVRvcGljcy5yZXN1YnNjcmliZT0hMCx0aGlzLnN1YnNjcmliZSh0aGlzLl9yZXN1YnNjcmliZVRvcGljcyk7ZWxzZSB0aGlzLl9yZXN1YnNjcmliZVRvcGljcz17fTt0aGlzLl9maXJzdENvbm5lY3Rpb249ITE7fV9vbkNvbm5lY3QoZSl7aWYodGhpcy5kaXNjb25uZWN0ZWQpe3RoaXMuZW1pdChcImNvbm5lY3RcIixlKTtyZXR1cm59dGhpcy5jb25uYWNrUGFja2V0PWUsdGhpcy5tZXNzYWdlSWRQcm92aWRlci5jbGVhcigpLHRoaXMuX3NldHVwUGluZ1RpbWVyKCksdGhpcy5jb25uZWN0ZWQ9ITA7bGV0IHI9KCk9PntsZXQgaT10aGlzLm91dGdvaW5nU3RvcmUuY3JlYXRlU3RyZWFtKCksbj0oKT0+e2kuZGVzdHJveSgpLGk9bnVsbCx0aGlzLl9mbHVzaFN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksbygpO30sbz0oKT0+e3RoaXMuX3N0b3JlUHJvY2Vzc2luZz0hMSx0aGlzLl9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3Npbmc9e307fTt0aGlzLm9uY2UoXCJjbG9zZVwiLG4pLGkub24oXCJlcnJvclwiLGE9PntvKCksdGhpcy5fZmx1c2hTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG4pLHRoaXMuZW1pdChcImVycm9yXCIsYSk7fSk7bGV0IHM9KCk9PntpZighaSlyZXR1cm47bGV0IGE9aS5yZWFkKDEpLHU7aWYoIWEpe2kub25jZShcInJlYWRhYmxlXCIscyk7cmV0dXJufWlmKHRoaXMuX3N0b3JlUHJvY2Vzc2luZz0hMCx0aGlzLl9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3NpbmdbYS5tZXNzYWdlSWRdKXtzKCk7cmV0dXJufSF0aGlzLmRpc2Nvbm5lY3RpbmcmJiF0aGlzLnJlY29ubmVjdFRpbWVyPyh1PXRoaXMub3V0Z29pbmdbYS5tZXNzYWdlSWRdP3RoaXMub3V0Z29pbmdbYS5tZXNzYWdlSWRdLmNiOm51bGwsdGhpcy5vdXRnb2luZ1thLm1lc3NhZ2VJZF09e3ZvbGF0aWxlOiExLGNiKGMsaCl7dSYmdShjLGgpLHMoKTt9fSx0aGlzLl9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3NpbmdbYS5tZXNzYWdlSWRdPSEwLHRoaXMubWVzc2FnZUlkUHJvdmlkZXIucmVnaXN0ZXIoYS5tZXNzYWdlSWQpP3RoaXMuX3NlbmRQYWNrZXQoYSx2b2lkIDAsdm9pZCAwLCEwKTp0aGlzLmxvZyhcIm1lc3NhZ2VJZDogJWQgaGFzIGFscmVhZHkgdXNlZC5cIixhLm1lc3NhZ2VJZCkpOmkuZGVzdHJveSYmaS5kZXN0cm95KCk7fTtpLm9uKFwiZW5kXCIsKCk9PntsZXQgYT0hMDtmb3IobGV0IHUgaW4gdGhpcy5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nKWlmKCF0aGlzLl9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3NpbmdbdV0pe2E9ITE7YnJlYWt9dGhpcy5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsbiksYT8obygpLHRoaXMuX2ludm9rZUFsbFN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksdGhpcy5lbWl0KFwiY29ubmVjdFwiLGUpKTpyKCk7fSkscygpO307cigpO31faW52b2tlU3RvcmVQcm9jZXNzaW5nUXVldWUoKXtpZighdGhpcy5fc3RvcmVQcm9jZXNzaW5nJiZ0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5sZW5ndGg+MCl7bGV0IGU9dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWVbMF07aWYoZSYmZS5pbnZva2UoKSlyZXR1cm4gdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUuc2hpZnQoKSwhMH1yZXR1cm4gITF9X2ludm9rZUFsbFN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCl7Zm9yKDt0aGlzLl9pbnZva2VTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpOyk7fV9mbHVzaFN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCl7Zm9yKGxldCBlIG9mIHRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlKWUuY2JTdG9yZVB1dCYmZS5jYlN0b3JlUHV0KG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gY2xvc2VkXCIpKSxlLmNhbGxiYWNrJiZlLmNhbGxiYWNrKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gY2xvc2VkXCIpKTt0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5zcGxpY2UoMCk7fV9yZW1vdmVPdXRnb2luZ0FuZFN0b3JlTWVzc2FnZShlLHIpe2RlbGV0ZSB0aGlzLm91dGdvaW5nW2VdLHRoaXMub3V0Z29pbmdTdG9yZS5kZWwoe21lc3NhZ2VJZDplfSwoaSxuKT0+e3IoaSxuKSx0aGlzLm1lc3NhZ2VJZFByb3ZpZGVyLmRlYWxsb2NhdGUoZSksdGhpcy5faW52b2tlU3RvcmVQcm9jZXNzaW5nUXVldWUoKTt9KTt9fTtpcy5WRVJTSU9OPVwiNS41LjJcIjtRZS5kZWZhdWx0PWlzO30pO3ZhciAkcD1NKEhhPT57digpO20oKTtfKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEhhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBadj14YSgpLCRhPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5udW1iZXJBbGxvY2F0b3I9bmV3IFp2Lk51bWJlckFsbG9jYXRvcigxLDY1NTM1KTt9YWxsb2NhdGUoKXtyZXR1cm4gdGhpcy5sYXN0SWQ9dGhpcy5udW1iZXJBbGxvY2F0b3IuYWxsb2MoKSx0aGlzLmxhc3RJZH1nZXRMYXN0QWxsb2NhdGVkKCl7cmV0dXJuIHRoaXMubGFzdElkfXJlZ2lzdGVyKGUpe3JldHVybiB0aGlzLm51bWJlckFsbG9jYXRvci51c2UoZSl9ZGVhbGxvY2F0ZShlKXt0aGlzLm51bWJlckFsbG9jYXRvci5mcmVlKGUpO31jbGVhcigpe3RoaXMubnVtYmVyQWxsb2NhdG9yLmNsZWFyKCk7fX07SGEuZGVmYXVsdD0kYTt9KTtmdW5jdGlvbiBJcih0KXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihpRVt0XSl9ZnVuY3Rpb24gSHAodCxlKXtsZXQgcj10LnNwbGl0KFwiQFwiKSxpPVwiXCI7ci5sZW5ndGg+MSYmKGk9clswXStcIkBcIix0PXJbMV0pO2xldCBuPWZ1bmN0aW9uKG8scyl7bGV0IGE9W10sdT1vLmxlbmd0aDtmb3IoO3UtLTspYVt1XT1zKG9bdV0pO3JldHVybiBhfSgodD10LnJlcGxhY2UockUsXCIuXCIpKS5zcGxpdChcIi5cIiksZSkuam9pbihcIi5cIik7cmV0dXJuIGkrbn1mdW5jdGlvbiBHcCh0KXtsZXQgZT1bXSxyPTAsaT10Lmxlbmd0aDtmb3IoO3I8aTspe2xldCBuPXQuY2hhckNvZGVBdChyKyspO2lmKG4+PTU1Mjk2JiZuPD01NjMxOSYmcjxpKXtsZXQgbz10LmNoYXJDb2RlQXQocisrKTsoNjQ1MTImbyk9PTU2MzIwP2UucHVzaCgoKDEwMjMmbik8PDEwKSsoMTAyMyZvKSs2NTUzNik6KGUucHVzaChuKSxyLS0pO31lbHNlIGUucHVzaChuKTt9cmV0dXJuIGV9dmFyIGVFLHRFLHJFLGlFLGh0LFZhLFZwLFFwLHpwLEtwLHp0LFlwPXdlKCgpPT57digpO20oKTtfKCk7ZUU9L154bi0tLyx0RT0vW15cXDAtXFx4N0VdLyxyRT0vW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLGlFPXtvdmVyZmxvdzpcIk92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzXCIsXCJub3QtYmFzaWNcIjpcIklsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludClcIixcImludmFsaWQtaW5wdXRcIjpcIkludmFsaWQgaW5wdXRcIn0saHQ9TWF0aC5mbG9vcixWYT1TdHJpbmcuZnJvbUNoYXJDb2RlO1ZwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrMjIrNzUqKHQ8MjYpLSgoZSE9MCk8PDUpfSxRcD1mdW5jdGlvbih0LGUscil7bGV0IGk9MDtmb3IodD1yP2h0KHQvNzAwKTp0Pj4xLHQrPWh0KHQvZSk7dD40NTU7aSs9MzYpdD1odCh0LzM1KTtyZXR1cm4gaHQoaSszNip0Lyh0KzM4KSl9LHpwPWZ1bmN0aW9uKHQpe2xldCBlPVtdLHI9dC5sZW5ndGgsaT0wLG49MTI4LG89NzIscz10Lmxhc3RJbmRleE9mKFwiLVwiKTtzPDAmJihzPTApO2ZvcihsZXQgdT0wO3U8czsrK3UpdC5jaGFyQ29kZUF0KHUpPj0xMjgmJklyKFwibm90LWJhc2ljXCIpLGUucHVzaCh0LmNoYXJDb2RlQXQodSkpO2ZvcihsZXQgdT1zPjA/cysxOjA7dTxyOyl7bGV0IGM9aTtmb3IobGV0IGQ9MSxnPTM2OztnKz0zNil7dT49ciYmSXIoXCJpbnZhbGlkLWlucHV0XCIpO2xldCB5PShhPXQuY2hhckNvZGVBdCh1KyspKS00ODwxMD9hLTIyOmEtNjU8MjY/YS02NTphLTk3PDI2P2EtOTc6MzY7KHk+PTM2fHx5Pmh0KCgyMTQ3NDgzNjQ3LWkpL2QpKSYmSXIoXCJvdmVyZmxvd1wiKSxpKz15KmQ7bGV0IHc9Zzw9bz8xOmc+PW8rMjY/MjY6Zy1vO2lmKHk8dylicmVhaztsZXQgRT0zNi13O2Q+aHQoMjE0NzQ4MzY0Ny9FKSYmSXIoXCJvdmVyZmxvd1wiKSxkKj1FO31sZXQgaD1lLmxlbmd0aCsxO289UXAoaS1jLGgsYz09MCksaHQoaS9oKT4yMTQ3NDgzNjQ3LW4mJklyKFwib3ZlcmZsb3dcIiksbis9aHQoaS9oKSxpJT1oLGUuc3BsaWNlKGkrKywwLG4pO312YXIgYTtyZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uZSl9LEtwPWZ1bmN0aW9uKHQpe2xldCBlPVtdLHI9KHQ9R3AodCkpLmxlbmd0aCxpPTEyOCxuPTAsbz03Mjtmb3IobGV0IHUgb2YgdCl1PDEyOCYmZS5wdXNoKFZhKHUpKTtsZXQgcz1lLmxlbmd0aCxhPXM7Zm9yKHMmJmUucHVzaChcIi1cIik7YTxyOyl7bGV0IHU9MjE0NzQ4MzY0Nztmb3IobGV0IGggb2YgdCloPj1pJiZoPHUmJih1PWgpO2xldCBjPWErMTt1LWk+aHQoKDIxNDc0ODM2NDctbikvYykmJklyKFwib3ZlcmZsb3dcIiksbis9KHUtaSkqYyxpPXU7Zm9yKGxldCBoIG9mIHQpaWYoaDxpJiYrK24+MjE0NzQ4MzY0NyYmSXIoXCJvdmVyZmxvd1wiKSxoPT1pKXtsZXQgZD1uO2ZvcihsZXQgZz0zNjs7Zys9MzYpe2xldCB5PWc8PW8/MTpnPj1vKzI2PzI2OmctbztpZihkPHkpYnJlYWs7bGV0IHc9ZC15LEU9MzYteTtlLnB1c2goVmEoVnAoeSt3JUUsMCkpKSxkPWh0KHcvRSk7fWUucHVzaChWYShWcChkLDApKSksbz1RcChuLGMsYT09cyksbj0wLCsrYTt9KytuLCsraTt9cmV0dXJuIGUuam9pbihcIlwiKX0senQ9e3ZlcnNpb246XCIyLjEuMFwiLHVjczI6e2RlY29kZTpHcCxlbmNvZGU6dD0+U3RyaW5nLmZyb21Db2RlUG9pbnQoLi4udCl9LGRlY29kZTp6cCxlbmNvZGU6S3AsdG9BU0NJSTpmdW5jdGlvbih0KXtyZXR1cm4gSHAodCxmdW5jdGlvbihlKXtyZXR1cm4gdEUudGVzdChlKT9cInhuLS1cIitLcChlKTplfSl9LHRvVW5pY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gSHAodCxmdW5jdGlvbihlKXtyZXR1cm4gZUUudGVzdChlKT96cChlLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOmV9KX19O3p0LmRlY29kZTt6dC5lbmNvZGU7enQudG9BU0NJSTt6dC50b1VuaWNvZGU7enQudWNzMjt6dC52ZXJzaW9uO30pO2Z1bmN0aW9uIG5FKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfXZhciBzRSxraSxvRSxkdCxKcD13ZSgoKT0+e3YoKTttKCk7XygpO3NFPWZ1bmN0aW9uKHQsZSxyLGkpe2U9ZXx8XCImXCIscj1yfHxcIj1cIjt2YXIgbj17fTtpZih0eXBlb2YgdCE9XCJzdHJpbmdcInx8dC5sZW5ndGg9PT0wKXJldHVybiBuO3ZhciBvPS9cXCsvZzt0PXQuc3BsaXQoZSk7dmFyIHM9MWUzO2kmJnR5cGVvZiBpLm1heEtleXM9PVwibnVtYmVyXCImJihzPWkubWF4S2V5cyk7dmFyIGE9dC5sZW5ndGg7cz4wJiZhPnMmJihhPXMpO2Zvcih2YXIgdT0wO3U8YTsrK3Upe3ZhciBjLGgsZCxnLHk9dFt1XS5yZXBsYWNlKG8sXCIlMjBcIiksdz15LmluZGV4T2Yocik7dz49MD8oYz15LnN1YnN0cigwLHcpLGg9eS5zdWJzdHIodysxKSk6KGM9eSxoPVwiXCIpLGQ9ZGVjb2RlVVJJQ29tcG9uZW50KGMpLGc9ZGVjb2RlVVJJQ29tcG9uZW50KGgpLG5FKG4sZCk/QXJyYXkuaXNBcnJheShuW2RdKT9uW2RdLnB1c2goZyk6bltkXT1bbltkXSxnXTpuW2RdPWc7fXJldHVybiBufSxraT1mdW5jdGlvbih0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOnJldHVybiB0O2Nhc2VcImJvb2xlYW5cIjpyZXR1cm4gdD9cInRydWVcIjpcImZhbHNlXCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzRmluaXRlKHQpP3Q6XCJcIjtkZWZhdWx0OnJldHVybiBcIlwifX0sb0U9ZnVuY3Rpb24odCxlLHIsaSl7cmV0dXJuIGU9ZXx8XCImXCIscj1yfHxcIj1cIix0PT09bnVsbCYmKHQ9dm9pZCAwKSx0eXBlb2YgdD09XCJvYmplY3RcIj9PYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24obil7dmFyIG89ZW5jb2RlVVJJQ29tcG9uZW50KGtpKG4pKStyO3JldHVybiBBcnJheS5pc0FycmF5KHRbbl0pP3Rbbl0ubWFwKGZ1bmN0aW9uKHMpe3JldHVybiBvK2VuY29kZVVSSUNvbXBvbmVudChraShzKSl9KS5qb2luKGUpOm8rZW5jb2RlVVJJQ29tcG9uZW50KGtpKHRbbl0pKX0pLmpvaW4oZSk6aT9lbmNvZGVVUklDb21wb25lbnQoa2koaSkpK3IrZW5jb2RlVVJJQ29tcG9uZW50KGtpKHQpKTpcIlwifSxkdD17fTtkdC5kZWNvZGU9ZHQucGFyc2U9c0UsZHQuZW5jb2RlPWR0LnN0cmluZ2lmeT1vRTtkdC5kZWNvZGU7ZHQuZW5jb2RlO2R0LnBhcnNlO2R0LnN0cmluZ2lmeTt9KTtmdW5jdGlvbiB6YSgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gS2EoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gZWcodCl7aWYoQnQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKEJ0PT09emF8fCFCdCkmJnNldFRpbWVvdXQpcmV0dXJuIEJ0PXNldFRpbWVvdXQsc2V0VGltZW91dCh0LDApO3RyeXtyZXR1cm4gQnQodCwwKX1jYXRjaHt0cnl7cmV0dXJuIEJ0LmNhbGwobnVsbCx0LDApfWNhdGNoe3JldHVybiBCdC5jYWxsKHRoaXN8fGlpLHQsMCl9fX1mdW5jdGlvbiBhRSgpe3JpJiZUciYmKHJpPSExLFRyLmxlbmd0aD9PdD1Uci5jb25jYXQoT3QpOnNzPS0xLE90Lmxlbmd0aCYmdGcoKSk7fWZ1bmN0aW9uIHRnKCl7aWYoIXJpKXt2YXIgdD1lZyhhRSk7cmk9ITA7Zm9yKHZhciBlPU90Lmxlbmd0aDtlOyl7Zm9yKFRyPU90LE90PVtdOysrc3M8ZTspVHImJlRyW3NzXS5ydW4oKTtzcz0tMSxlPU90Lmxlbmd0aDt9VHI9bnVsbCxyaT0hMSxmdW5jdGlvbihyKXtpZihQdD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHIpO2lmKChQdD09PUthfHwhUHQpJiZjbGVhclRpbWVvdXQpcmV0dXJuIFB0PWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQocik7dHJ5e1B0KHIpO31jYXRjaHt0cnl7cmV0dXJuIFB0LmNhbGwobnVsbCxyKX1jYXRjaHtyZXR1cm4gUHQuY2FsbCh0aGlzfHxpaSxyKX19fSh0KTt9fWZ1bmN0aW9uIFhwKHQsZSl7KHRoaXN8fGlpKS5mdW49dCwodGhpc3x8aWkpLmFycmF5PWU7fWZ1bmN0aW9uIEN0KCl7fXZhciBacCxCdCxQdCxpaSxmZSxUcixPdCxyaSxzcyxuZSxyZz13ZSgoKT0+e3YoKTttKCk7XygpO2lpPXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjpnbG9iYWwsZmU9WnA9e307KGZ1bmN0aW9uKCl7dHJ5e0J0PXR5cGVvZiBzZXRUaW1lb3V0PT1cImZ1bmN0aW9uXCI/c2V0VGltZW91dDp6YTt9Y2F0Y2h7QnQ9emE7fXRyeXtQdD10eXBlb2YgY2xlYXJUaW1lb3V0PT1cImZ1bmN0aW9uXCI/Y2xlYXJUaW1lb3V0OkthO31jYXRjaHtQdD1LYTt9fSkoKTtPdD1bXSxyaT0hMSxzcz0tMTtmZS5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO090LnB1c2gobmV3IFhwKHQsZSkpLE90Lmxlbmd0aCE9PTF8fHJpfHxlZyh0Zyk7fSxYcC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7KHRoaXN8fGlpKS5mdW4uYXBwbHkobnVsbCwodGhpc3x8aWkpLmFycmF5KTt9LGZlLnRpdGxlPVwiYnJvd3NlclwiLGZlLmJyb3dzZXI9ITAsZmUuZW52PXt9LGZlLmFyZ3Y9W10sZmUudmVyc2lvbj1cIlwiLGZlLnZlcnNpb25zPXt9LGZlLm9uPUN0LGZlLmFkZExpc3RlbmVyPUN0LGZlLm9uY2U9Q3QsZmUub2ZmPUN0LGZlLnJlbW92ZUxpc3RlbmVyPUN0LGZlLnJlbW92ZUFsbExpc3RlbmVycz1DdCxmZS5lbWl0PUN0LGZlLnByZXBlbmRMaXN0ZW5lcj1DdCxmZS5wcmVwZW5kT25jZUxpc3RlbmVyPUN0LGZlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gW119LGZlLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGZlLmN3ZD1mdW5jdGlvbigpe3JldHVybiBcIi9cIn0sZmUuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxmZS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfTtuZT1acDtuZS5hZGRMaXN0ZW5lcjtuZS5hcmd2O25lLmJpbmRpbmc7bmUuYnJvd3NlcjtuZS5jaGRpcjtuZS5jd2Q7bmUuZW1pdDtuZS5lbnY7bmUubGlzdGVuZXJzO25lLm5leHRUaWNrO25lLm9mZjtuZS5vbjtuZS5vbmNlO25lLnByZXBlbmRMaXN0ZW5lcjtuZS5wcmVwZW5kT25jZUxpc3RlbmVyO25lLnJlbW92ZUFsbExpc3RlbmVycztuZS5yZW1vdmVMaXN0ZW5lcjtuZS50aXRsZTtuZS51bWFzaztuZS52ZXJzaW9uO25lLnZlcnNpb25zO30pO2Z1bmN0aW9uIGxFKCl7aWYoaWcpcmV0dXJuIEdhO2lnPSEwO3ZhciB0PUdhPXt9LGUscjtmdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBuKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXt0eXBlb2Ygc2V0VGltZW91dD09XCJmdW5jdGlvblwiP2U9c2V0VGltZW91dDplPWk7fWNhdGNoe2U9aTt9dHJ5e3R5cGVvZiBjbGVhclRpbWVvdXQ9PVwiZnVuY3Rpb25cIj9yPWNsZWFyVGltZW91dDpyPW47fWNhdGNoe3I9bjt9fSkoKTtmdW5jdGlvbiBvKEUpe2lmKGU9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KEUsMCk7aWYoKGU9PT1pfHwhZSkmJnNldFRpbWVvdXQpcmV0dXJuIGU9c2V0VGltZW91dCxzZXRUaW1lb3V0KEUsMCk7dHJ5e3JldHVybiBlKEUsMCl9Y2F0Y2h7dHJ5e3JldHVybiBlLmNhbGwobnVsbCxFLDApfWNhdGNoe3JldHVybiBlLmNhbGwodGhpc3x8bmksRSwwKX19fWZ1bmN0aW9uIHMoRSl7aWYocj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KEUpO2lmKChyPT09bnx8IXIpJiZjbGVhclRpbWVvdXQpcmV0dXJuIHI9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChFKTt0cnl7cmV0dXJuIHIoRSl9Y2F0Y2h7dHJ5e3JldHVybiByLmNhbGwobnVsbCxFKX1jYXRjaHtyZXR1cm4gci5jYWxsKHRoaXN8fG5pLEUpfX19dmFyIGE9W10sdT0hMSxjLGg9LTE7ZnVuY3Rpb24gZCgpeyF1fHwhY3x8KHU9ITEsYy5sZW5ndGg/YT1jLmNvbmNhdChhKTpoPS0xLGEubGVuZ3RoJiZnKCkpO31mdW5jdGlvbiBnKCl7aWYoIXUpe3ZhciBFPW8oZCk7dT0hMDtmb3IodmFyIFM9YS5sZW5ndGg7Uzspe2ZvcihjPWEsYT1bXTsrK2g8UzspYyYmY1toXS5ydW4oKTtoPS0xLFM9YS5sZW5ndGg7fWM9bnVsbCx1PSExLHMoRSk7fX10Lm5leHRUaWNrPWZ1bmN0aW9uKEUpe3ZhciBTPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIEk9MTtJPGFyZ3VtZW50cy5sZW5ndGg7SSsrKVNbSS0xXT1hcmd1bWVudHNbSV07YS5wdXNoKG5ldyB5KEUsUykpLGEubGVuZ3RoPT09MSYmIXUmJm8oZyk7fTtmdW5jdGlvbiB5KEUsUyl7KHRoaXN8fG5pKS5mdW49RSwodGhpc3x8bmkpLmFycmF5PVM7fXkucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpeyh0aGlzfHxuaSkuZnVuLmFwcGx5KG51bGwsKHRoaXN8fG5pKS5hcnJheSk7fSx0LnRpdGxlPVwiYnJvd3NlclwiLHQuYnJvd3Nlcj0hMCx0LmVudj17fSx0LmFyZ3Y9W10sdC52ZXJzaW9uPVwiXCIsdC52ZXJzaW9ucz17fTtmdW5jdGlvbiB3KCl7fXJldHVybiB0Lm9uPXcsdC5hZGRMaXN0ZW5lcj13LHQub25jZT13LHQub2ZmPXcsdC5yZW1vdmVMaXN0ZW5lcj13LHQucmVtb3ZlQWxsTGlzdGVuZXJzPXcsdC5lbWl0PXcsdC5wcmVwZW5kTGlzdGVuZXI9dyx0LnByZXBlbmRPbmNlTGlzdGVuZXI9dyx0Lmxpc3RlbmVycz1mdW5jdGlvbihFKXtyZXR1cm4gW119LHQuYmluZGluZz1mdW5jdGlvbihFKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sdC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4gXCIvXCJ9LHQuY2hkaXI9ZnVuY3Rpb24oRSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSx0LnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LEdhfXZhciBHYSxpZyxuaSxyZSxRYT13ZSgoKT0+e3YoKTttKCk7XygpO0dhPXt9LGlnPSExLG5pPXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjpnbG9iYWw7cmU9bEUoKTtyZS5wbGF0Zm9ybT1cImJyb3dzZXJcIjtyZS5hZGRMaXN0ZW5lcjtyZS5hcmd2O3JlLmJpbmRpbmc7cmUuYnJvd3NlcjtyZS5jaGRpcjtyZS5jd2Q7cmUuZW1pdDtyZS5lbnY7cmUubGlzdGVuZXJzO3JlLm5leHRUaWNrO3JlLm9mZjtyZS5vbjtyZS5vbmNlO3JlLnByZXBlbmRMaXN0ZW5lcjtyZS5wcmVwZW5kT25jZUxpc3RlbmVyO3JlLnJlbW92ZUFsbExpc3RlbmVycztyZS5yZW1vdmVMaXN0ZW5lcjtyZS50aXRsZTtyZS51bWFzaztyZS52ZXJzaW9uO3JlLnZlcnNpb25zO30pO2Z1bmN0aW9uIHVFKCl7aWYobmcpcmV0dXJuIFlhO25nPSEwO3ZhciB0PXJlO2Z1bmN0aW9uIGUobyl7aWYodHlwZW9mIG8hPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkobykpfWZ1bmN0aW9uIHIobyxzKXtmb3IodmFyIGE9XCJcIix1PTAsYz0tMSxoPTAsZCxnPTA7Zzw9by5sZW5ndGg7KytnKXtpZihnPG8ubGVuZ3RoKWQ9by5jaGFyQ29kZUF0KGcpO2Vsc2Uge2lmKGQ9PT00NylicmVhaztkPTQ3O31pZihkPT09NDcpe2lmKCEoYz09PWctMXx8aD09PTEpKWlmKGMhPT1nLTEmJmg9PT0yKXtpZihhLmxlbmd0aDwyfHx1IT09Mnx8YS5jaGFyQ29kZUF0KGEubGVuZ3RoLTEpIT09NDZ8fGEuY2hhckNvZGVBdChhLmxlbmd0aC0yKSE9PTQ2KXtpZihhLmxlbmd0aD4yKXt2YXIgeT1hLmxhc3RJbmRleE9mKFwiL1wiKTtpZih5IT09YS5sZW5ndGgtMSl7eT09PS0xPyhhPVwiXCIsdT0wKTooYT1hLnNsaWNlKDAseSksdT1hLmxlbmd0aC0xLWEubGFzdEluZGV4T2YoXCIvXCIpKSxjPWcsaD0wO2NvbnRpbnVlfX1lbHNlIGlmKGEubGVuZ3RoPT09Mnx8YS5sZW5ndGg9PT0xKXthPVwiXCIsdT0wLGM9ZyxoPTA7Y29udGludWV9fXMmJihhLmxlbmd0aD4wP2ErPVwiLy4uXCI6YT1cIi4uXCIsdT0yKTt9ZWxzZSBhLmxlbmd0aD4wP2ErPVwiL1wiK28uc2xpY2UoYysxLGcpOmE9by5zbGljZShjKzEsZyksdT1nLWMtMTtjPWcsaD0wO31lbHNlIGQ9PT00NiYmaCE9PS0xPysraDpoPS0xO31yZXR1cm4gYX1mdW5jdGlvbiBpKG8scyl7dmFyIGE9cy5kaXJ8fHMucm9vdCx1PXMuYmFzZXx8KHMubmFtZXx8XCJcIikrKHMuZXh0fHxcIlwiKTtyZXR1cm4gYT9hPT09cy5yb290P2ErdTphK28rdTp1fXZhciBuPXtyZXNvbHZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBzPVwiXCIsYT0hMSx1LGM9YXJndW1lbnRzLmxlbmd0aC0xO2M+PS0xJiYhYTtjLS0pe3ZhciBoO2M+PTA/aD1hcmd1bWVudHNbY106KHU9PT12b2lkIDAmJih1PXQuY3dkKCkpLGg9dSksZShoKSxoLmxlbmd0aCE9PTAmJihzPWgrXCIvXCIrcyxhPWguY2hhckNvZGVBdCgwKT09PTQ3KTt9cmV0dXJuIHM9cihzLCFhKSxhP3MubGVuZ3RoPjA/XCIvXCIrczpcIi9cIjpzLmxlbmd0aD4wP3M6XCIuXCJ9LG5vcm1hbGl6ZTpmdW5jdGlvbihzKXtpZihlKHMpLHMubGVuZ3RoPT09MClyZXR1cm4gXCIuXCI7dmFyIGE9cy5jaGFyQ29kZUF0KDApPT09NDcsdT1zLmNoYXJDb2RlQXQocy5sZW5ndGgtMSk9PT00NztyZXR1cm4gcz1yKHMsIWEpLHMubGVuZ3RoPT09MCYmIWEmJihzPVwiLlwiKSxzLmxlbmd0aD4wJiZ1JiYocys9XCIvXCIpLGE/XCIvXCIrczpzfSxpc0Fic29sdXRlOmZ1bmN0aW9uKHMpe3JldHVybiBlKHMpLHMubGVuZ3RoPjAmJnMuY2hhckNvZGVBdCgwKT09PTQ3fSxqb2luOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIFwiLlwiO2Zvcih2YXIgcyxhPTA7YTxhcmd1bWVudHMubGVuZ3RoOysrYSl7dmFyIHU9YXJndW1lbnRzW2FdO2UodSksdS5sZW5ndGg+MCYmKHM9PT12b2lkIDA/cz11OnMrPVwiL1wiK3UpO31yZXR1cm4gcz09PXZvaWQgMD9cIi5cIjpuLm5vcm1hbGl6ZShzKX0scmVsYXRpdmU6ZnVuY3Rpb24ocyxhKXtpZihlKHMpLGUoYSkscz09PWF8fChzPW4ucmVzb2x2ZShzKSxhPW4ucmVzb2x2ZShhKSxzPT09YSkpcmV0dXJuIFwiXCI7Zm9yKHZhciB1PTE7dTxzLmxlbmd0aCYmcy5jaGFyQ29kZUF0KHUpPT09NDc7Kyt1KTtmb3IodmFyIGM9cy5sZW5ndGgsaD1jLXUsZD0xO2Q8YS5sZW5ndGgmJmEuY2hhckNvZGVBdChkKT09PTQ3OysrZCk7Zm9yKHZhciBnPWEubGVuZ3RoLHk9Zy1kLHc9aDx5P2g6eSxFPS0xLFM9MDtTPD13OysrUyl7aWYoUz09PXcpe2lmKHk+dyl7aWYoYS5jaGFyQ29kZUF0KGQrUyk9PT00NylyZXR1cm4gYS5zbGljZShkK1MrMSk7aWYoUz09PTApcmV0dXJuIGEuc2xpY2UoZCtTKX1lbHNlIGg+dyYmKHMuY2hhckNvZGVBdCh1K1MpPT09NDc/RT1TOlM9PT0wJiYoRT0wKSk7YnJlYWt9dmFyIEk9cy5jaGFyQ29kZUF0KHUrUyksQz1hLmNoYXJDb2RlQXQoZCtTKTtpZihJIT09QylicmVhaztJPT09NDcmJihFPVMpO312YXIgUj1cIlwiO2ZvcihTPXUrRSsxO1M8PWM7KytTKShTPT09Y3x8cy5jaGFyQ29kZUF0KFMpPT09NDcpJiYoUi5sZW5ndGg9PT0wP1IrPVwiLi5cIjpSKz1cIi8uLlwiKTtyZXR1cm4gUi5sZW5ndGg+MD9SK2Euc2xpY2UoZCtFKTooZCs9RSxhLmNoYXJDb2RlQXQoZCk9PT00NyYmKytkLGEuc2xpY2UoZCkpfSxfbWFrZUxvbmc6ZnVuY3Rpb24ocyl7cmV0dXJuIHN9LGRpcm5hbWU6ZnVuY3Rpb24ocyl7aWYoZShzKSxzLmxlbmd0aD09PTApcmV0dXJuIFwiLlwiO2Zvcih2YXIgYT1zLmNoYXJDb2RlQXQoMCksdT1hPT09NDcsYz0tMSxoPSEwLGQ9cy5sZW5ndGgtMTtkPj0xOy0tZClpZihhPXMuY2hhckNvZGVBdChkKSxhPT09NDcpe2lmKCFoKXtjPWQ7YnJlYWt9fWVsc2UgaD0hMTtyZXR1cm4gYz09PS0xP3U/XCIvXCI6XCIuXCI6dSYmYz09PTE/XCIvL1wiOnMuc2xpY2UoMCxjKX0sYmFzZW5hbWU6ZnVuY3Rpb24ocyxhKXtpZihhIT09dm9pZCAwJiZ0eXBlb2YgYSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdcImV4dFwiIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnKTtlKHMpO3ZhciB1PTAsYz0tMSxoPSEwLGQ7aWYoYSE9PXZvaWQgMCYmYS5sZW5ndGg+MCYmYS5sZW5ndGg8PXMubGVuZ3RoKXtpZihhLmxlbmd0aD09PXMubGVuZ3RoJiZhPT09cylyZXR1cm4gXCJcIjt2YXIgZz1hLmxlbmd0aC0xLHk9LTE7Zm9yKGQ9cy5sZW5ndGgtMTtkPj0wOy0tZCl7dmFyIHc9cy5jaGFyQ29kZUF0KGQpO2lmKHc9PT00Nyl7aWYoIWgpe3U9ZCsxO2JyZWFrfX1lbHNlIHk9PT0tMSYmKGg9ITEseT1kKzEpLGc+PTAmJih3PT09YS5jaGFyQ29kZUF0KGcpPy0tZz09PS0xJiYoYz1kKTooZz0tMSxjPXkpKTt9cmV0dXJuIHU9PT1jP2M9eTpjPT09LTEmJihjPXMubGVuZ3RoKSxzLnNsaWNlKHUsYyl9ZWxzZSB7Zm9yKGQ9cy5sZW5ndGgtMTtkPj0wOy0tZClpZihzLmNoYXJDb2RlQXQoZCk9PT00Nyl7aWYoIWgpe3U9ZCsxO2JyZWFrfX1lbHNlIGM9PT0tMSYmKGg9ITEsYz1kKzEpO3JldHVybiBjPT09LTE/XCJcIjpzLnNsaWNlKHUsYyl9fSxleHRuYW1lOmZ1bmN0aW9uKHMpe2Uocyk7Zm9yKHZhciBhPS0xLHU9MCxjPS0xLGg9ITAsZD0wLGc9cy5sZW5ndGgtMTtnPj0wOy0tZyl7dmFyIHk9cy5jaGFyQ29kZUF0KGcpO2lmKHk9PT00Nyl7aWYoIWgpe3U9ZysxO2JyZWFrfWNvbnRpbnVlfWM9PT0tMSYmKGg9ITEsYz1nKzEpLHk9PT00Nj9hPT09LTE/YT1nOmQhPT0xJiYoZD0xKTphIT09LTEmJihkPS0xKTt9cmV0dXJuIGE9PT0tMXx8Yz09PS0xfHxkPT09MHx8ZD09PTEmJmE9PT1jLTEmJmE9PT11KzE/XCJcIjpzLnNsaWNlKGEsYyl9LGZvcm1hdDpmdW5jdGlvbihzKXtpZihzPT09bnVsbHx8dHlwZW9mIHMhPVwib2JqZWN0XCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwicGF0aE9iamVjdFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2Ygcyk7cmV0dXJuIGkoXCIvXCIscyl9LHBhcnNlOmZ1bmN0aW9uKHMpe2Uocyk7dmFyIGE9e3Jvb3Q6XCJcIixkaXI6XCJcIixiYXNlOlwiXCIsZXh0OlwiXCIsbmFtZTpcIlwifTtpZihzLmxlbmd0aD09PTApcmV0dXJuIGE7dmFyIHU9cy5jaGFyQ29kZUF0KDApLGM9dT09PTQ3LGg7Yz8oYS5yb290PVwiL1wiLGg9MSk6aD0wO2Zvcih2YXIgZD0tMSxnPTAseT0tMSx3PSEwLEU9cy5sZW5ndGgtMSxTPTA7RT49aDstLUUpe2lmKHU9cy5jaGFyQ29kZUF0KEUpLHU9PT00Nyl7aWYoIXcpe2c9RSsxO2JyZWFrfWNvbnRpbnVlfXk9PT0tMSYmKHc9ITEseT1FKzEpLHU9PT00Nj9kPT09LTE/ZD1FOlMhPT0xJiYoUz0xKTpkIT09LTEmJihTPS0xKTt9cmV0dXJuIGQ9PT0tMXx8eT09PS0xfHxTPT09MHx8Uz09PTEmJmQ9PT15LTEmJmQ9PT1nKzE/eSE9PS0xJiYoZz09PTAmJmM/YS5iYXNlPWEubmFtZT1zLnNsaWNlKDEseSk6YS5iYXNlPWEubmFtZT1zLnNsaWNlKGcseSkpOihnPT09MCYmYz8oYS5uYW1lPXMuc2xpY2UoMSxkKSxhLmJhc2U9cy5zbGljZSgxLHkpKTooYS5uYW1lPXMuc2xpY2UoZyxkKSxhLmJhc2U9cy5zbGljZShnLHkpKSxhLmV4dD1zLnNsaWNlKGQseSkpLGc+MD9hLmRpcj1zLnNsaWNlKDAsZy0xKTpjJiYoYS5kaXI9XCIvXCIpLGF9LHNlcDpcIi9cIixkZWxpbWl0ZXI6XCI6XCIsd2luMzI6bnVsbCxwb3NpeDpudWxsfTtyZXR1cm4gbi5wb3NpeD1uLFlhPW4sWWF9dmFyIFlhLG5nLEphLHNnPXdlKCgpPT57digpO20oKTtfKCk7UWEoKTtZYT17fSxuZz0hMTtKYT11RSgpO30pO3ZhciBkZz17fTtRdChkZyx7VVJMOigpPT5ERSxVcmw6KCk9Pk1FLGRlZmF1bHQ6KCk9PlosZmlsZVVSTFRvUGF0aDooKT0+Y2csZm9ybWF0OigpPT5MRSxwYXJzZTooKT0+cUUscGF0aFRvRmlsZVVSTDooKT0+aGcscmVzb2x2ZTooKT0+VUUscmVzb2x2ZU9iamVjdDooKT0+TkV9KTtmdW5jdGlvbiBGZSgpe3RoaXMucHJvdG9jb2w9bnVsbCx0aGlzLnNsYXNoZXM9bnVsbCx0aGlzLmF1dGg9bnVsbCx0aGlzLmhvc3Q9bnVsbCx0aGlzLnBvcnQ9bnVsbCx0aGlzLmhvc3RuYW1lPW51bGwsdGhpcy5oYXNoPW51bGwsdGhpcy5zZWFyY2g9bnVsbCx0aGlzLnF1ZXJ5PW51bGwsdGhpcy5wYXRobmFtZT1udWxsLHRoaXMucGF0aD1udWxsLHRoaXMuaHJlZj1udWxsO31mdW5jdGlvbiB4aSh0LGUscil7aWYodCYmcHQuaXNPYmplY3QodCkmJnQgaW5zdGFuY2VvZiBGZSlyZXR1cm4gdDt2YXIgaT1uZXcgRmU7cmV0dXJuIGkucGFyc2UodCxlLHIpLGl9ZnVuY3Rpb24gYkUoKXtpZih1ZylyZXR1cm4gZWw7dWc9ITA7dmFyIHQ9bmU7ZnVuY3Rpb24gZShvKXtpZih0eXBlb2YgbyE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGF0aCBtdXN0IGJlIGEgc3RyaW5nLiBSZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeShvKSl9ZnVuY3Rpb24gcihvLHMpe2Zvcih2YXIgYT1cIlwiLHU9MCxjPS0xLGg9MCxkLGc9MDtnPD1vLmxlbmd0aDsrK2cpe2lmKGc8by5sZW5ndGgpZD1vLmNoYXJDb2RlQXQoZyk7ZWxzZSB7aWYoZD09PTQ3KWJyZWFrO2Q9NDc7fWlmKGQ9PT00Nyl7aWYoIShjPT09Zy0xfHxoPT09MSkpaWYoYyE9PWctMSYmaD09PTIpe2lmKGEubGVuZ3RoPDJ8fHUhPT0yfHxhLmNoYXJDb2RlQXQoYS5sZW5ndGgtMSkhPT00Nnx8YS5jaGFyQ29kZUF0KGEubGVuZ3RoLTIpIT09NDYpe2lmKGEubGVuZ3RoPjIpe3ZhciB5PWEubGFzdEluZGV4T2YoXCIvXCIpO2lmKHkhPT1hLmxlbmd0aC0xKXt5PT09LTE/KGE9XCJcIix1PTApOihhPWEuc2xpY2UoMCx5KSx1PWEubGVuZ3RoLTEtYS5sYXN0SW5kZXhPZihcIi9cIikpLGM9ZyxoPTA7Y29udGludWV9fWVsc2UgaWYoYS5sZW5ndGg9PT0yfHxhLmxlbmd0aD09PTEpe2E9XCJcIix1PTAsYz1nLGg9MDtjb250aW51ZX19cyYmKGEubGVuZ3RoPjA/YSs9XCIvLi5cIjphPVwiLi5cIix1PTIpO31lbHNlIGEubGVuZ3RoPjA/YSs9XCIvXCIrby5zbGljZShjKzEsZyk6YT1vLnNsaWNlKGMrMSxnKSx1PWctYy0xO2M9ZyxoPTA7fWVsc2UgZD09PTQ2JiZoIT09LTE/KytoOmg9LTE7fXJldHVybiBhfWZ1bmN0aW9uIGkobyxzKXt2YXIgYT1zLmRpcnx8cy5yb290LHU9cy5iYXNlfHwocy5uYW1lfHxcIlwiKSsocy5leHR8fFwiXCIpO3JldHVybiBhP2E9PT1zLnJvb3Q/YSt1OmErbyt1OnV9dmFyIG49e3Jlc29sdmU6ZnVuY3Rpb24oKXtmb3IodmFyIHM9XCJcIixhPSExLHUsYz1hcmd1bWVudHMubGVuZ3RoLTE7Yz49LTEmJiFhO2MtLSl7dmFyIGg7Yz49MD9oPWFyZ3VtZW50c1tjXToodT09PXZvaWQgMCYmKHU9dC5jd2QoKSksaD11KSxlKGgpLGgubGVuZ3RoIT09MCYmKHM9aCtcIi9cIitzLGE9aC5jaGFyQ29kZUF0KDApPT09NDcpO31yZXR1cm4gcz1yKHMsIWEpLGE/cy5sZW5ndGg+MD9cIi9cIitzOlwiL1wiOnMubGVuZ3RoPjA/czpcIi5cIn0sbm9ybWFsaXplOmZ1bmN0aW9uKHMpe2lmKGUocykscy5sZW5ndGg9PT0wKXJldHVybiBcIi5cIjt2YXIgYT1zLmNoYXJDb2RlQXQoMCk9PT00Nyx1PXMuY2hhckNvZGVBdChzLmxlbmd0aC0xKT09PTQ3O3JldHVybiBzPXIocywhYSkscy5sZW5ndGg9PT0wJiYhYSYmKHM9XCIuXCIpLHMubGVuZ3RoPjAmJnUmJihzKz1cIi9cIiksYT9cIi9cIitzOnN9LGlzQWJzb2x1dGU6ZnVuY3Rpb24ocyl7cmV0dXJuIGUocykscy5sZW5ndGg+MCYmcy5jaGFyQ29kZUF0KDApPT09NDd9LGpvaW46ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gXCIuXCI7Zm9yKHZhciBzLGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7KythKXt2YXIgdT1hcmd1bWVudHNbYV07ZSh1KSx1Lmxlbmd0aD4wJiYocz09PXZvaWQgMD9zPXU6cys9XCIvXCIrdSk7fXJldHVybiBzPT09dm9pZCAwP1wiLlwiOm4ubm9ybWFsaXplKHMpfSxyZWxhdGl2ZTpmdW5jdGlvbihzLGEpe2lmKGUocyksZShhKSxzPT09YXx8KHM9bi5yZXNvbHZlKHMpLGE9bi5yZXNvbHZlKGEpLHM9PT1hKSlyZXR1cm4gXCJcIjtmb3IodmFyIHU9MTt1PHMubGVuZ3RoJiZzLmNoYXJDb2RlQXQodSk9PT00NzsrK3UpO2Zvcih2YXIgYz1zLmxlbmd0aCxoPWMtdSxkPTE7ZDxhLmxlbmd0aCYmYS5jaGFyQ29kZUF0KGQpPT09NDc7KytkKTtmb3IodmFyIGc9YS5sZW5ndGgseT1nLWQsdz1oPHk/aDp5LEU9LTEsUz0wO1M8PXc7KytTKXtpZihTPT09dyl7aWYoeT53KXtpZihhLmNoYXJDb2RlQXQoZCtTKT09PTQ3KXJldHVybiBhLnNsaWNlKGQrUysxKTtpZihTPT09MClyZXR1cm4gYS5zbGljZShkK1MpfWVsc2UgaD53JiYocy5jaGFyQ29kZUF0KHUrUyk9PT00Nz9FPVM6Uz09PTAmJihFPTApKTticmVha312YXIgST1zLmNoYXJDb2RlQXQodStTKSxDPWEuY2hhckNvZGVBdChkK1MpO2lmKEkhPT1DKWJyZWFrO0k9PT00NyYmKEU9Uyk7fXZhciBSPVwiXCI7Zm9yKFM9dStFKzE7Uzw9YzsrK1MpKFM9PT1jfHxzLmNoYXJDb2RlQXQoUyk9PT00NykmJihSLmxlbmd0aD09PTA/Uis9XCIuLlwiOlIrPVwiLy4uXCIpO3JldHVybiBSLmxlbmd0aD4wP1IrYS5zbGljZShkK0UpOihkKz1FLGEuY2hhckNvZGVBdChkKT09PTQ3JiYrK2QsYS5zbGljZShkKSl9LF9tYWtlTG9uZzpmdW5jdGlvbihzKXtyZXR1cm4gc30sZGlybmFtZTpmdW5jdGlvbihzKXtpZihlKHMpLHMubGVuZ3RoPT09MClyZXR1cm4gXCIuXCI7Zm9yKHZhciBhPXMuY2hhckNvZGVBdCgwKSx1PWE9PT00NyxjPS0xLGg9ITAsZD1zLmxlbmd0aC0xO2Q+PTE7LS1kKWlmKGE9cy5jaGFyQ29kZUF0KGQpLGE9PT00Nyl7aWYoIWgpe2M9ZDticmVha319ZWxzZSBoPSExO3JldHVybiBjPT09LTE/dT9cIi9cIjpcIi5cIjp1JiZjPT09MT9cIi8vXCI6cy5zbGljZSgwLGMpfSxiYXNlbmFtZTpmdW5jdGlvbihzLGEpe2lmKGEhPT12b2lkIDAmJnR5cGVvZiBhIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZXh0XCIgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO2Uocyk7dmFyIHU9MCxjPS0xLGg9ITAsZDtpZihhIT09dm9pZCAwJiZhLmxlbmd0aD4wJiZhLmxlbmd0aDw9cy5sZW5ndGgpe2lmKGEubGVuZ3RoPT09cy5sZW5ndGgmJmE9PT1zKXJldHVybiBcIlwiO3ZhciBnPWEubGVuZ3RoLTEseT0tMTtmb3IoZD1zLmxlbmd0aC0xO2Q+PTA7LS1kKXt2YXIgdz1zLmNoYXJDb2RlQXQoZCk7aWYodz09PTQ3KXtpZighaCl7dT1kKzE7YnJlYWt9fWVsc2UgeT09PS0xJiYoaD0hMSx5PWQrMSksZz49MCYmKHc9PT1hLmNoYXJDb2RlQXQoZyk/LS1nPT09LTEmJihjPWQpOihnPS0xLGM9eSkpO31yZXR1cm4gdT09PWM/Yz15OmM9PT0tMSYmKGM9cy5sZW5ndGgpLHMuc2xpY2UodSxjKX1lbHNlIHtmb3IoZD1zLmxlbmd0aC0xO2Q+PTA7LS1kKWlmKHMuY2hhckNvZGVBdChkKT09PTQ3KXtpZighaCl7dT1kKzE7YnJlYWt9fWVsc2UgYz09PS0xJiYoaD0hMSxjPWQrMSk7cmV0dXJuIGM9PT0tMT9cIlwiOnMuc2xpY2UodSxjKX19LGV4dG5hbWU6ZnVuY3Rpb24ocyl7ZShzKTtmb3IodmFyIGE9LTEsdT0wLGM9LTEsaD0hMCxkPTAsZz1zLmxlbmd0aC0xO2c+PTA7LS1nKXt2YXIgeT1zLmNoYXJDb2RlQXQoZyk7aWYoeT09PTQ3KXtpZighaCl7dT1nKzE7YnJlYWt9Y29udGludWV9Yz09PS0xJiYoaD0hMSxjPWcrMSkseT09PTQ2P2E9PT0tMT9hPWc6ZCE9PTEmJihkPTEpOmEhPT0tMSYmKGQ9LTEpO31yZXR1cm4gYT09PS0xfHxjPT09LTF8fGQ9PT0wfHxkPT09MSYmYT09PWMtMSYmYT09PXUrMT9cIlwiOnMuc2xpY2UoYSxjKX0sZm9ybWF0OmZ1bmN0aW9uKHMpe2lmKHM9PT1udWxsfHx0eXBlb2YgcyE9XCJvYmplY3RcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJwYXRoT2JqZWN0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBzKTtyZXR1cm4gaShcIi9cIixzKX0scGFyc2U6ZnVuY3Rpb24ocyl7ZShzKTt2YXIgYT17cm9vdDpcIlwiLGRpcjpcIlwiLGJhc2U6XCJcIixleHQ6XCJcIixuYW1lOlwiXCJ9O2lmKHMubGVuZ3RoPT09MClyZXR1cm4gYTt2YXIgdT1zLmNoYXJDb2RlQXQoMCksYz11PT09NDcsaDtjPyhhLnJvb3Q9XCIvXCIsaD0xKTpoPTA7Zm9yKHZhciBkPS0xLGc9MCx5PS0xLHc9ITAsRT1zLmxlbmd0aC0xLFM9MDtFPj1oOy0tRSl7aWYodT1zLmNoYXJDb2RlQXQoRSksdT09PTQ3KXtpZighdyl7Zz1FKzE7YnJlYWt9Y29udGludWV9eT09PS0xJiYodz0hMSx5PUUrMSksdT09PTQ2P2Q9PT0tMT9kPUU6UyE9PTEmJihTPTEpOmQhPT0tMSYmKFM9LTEpO31yZXR1cm4gZD09PS0xfHx5PT09LTF8fFM9PT0wfHxTPT09MSYmZD09PXktMSYmZD09PWcrMT95IT09LTEmJihnPT09MCYmYz9hLmJhc2U9YS5uYW1lPXMuc2xpY2UoMSx5KTphLmJhc2U9YS5uYW1lPXMuc2xpY2UoZyx5KSk6KGc9PT0wJiZjPyhhLm5hbWU9cy5zbGljZSgxLGQpLGEuYmFzZT1zLnNsaWNlKDEseSkpOihhLm5hbWU9cy5zbGljZShnLGQpLGEuYmFzZT1zLnNsaWNlKGcseSkpLGEuZXh0PXMuc2xpY2UoZCx5KSksZz4wP2EuZGlyPXMuc2xpY2UoMCxnLTEpOmMmJihhLmRpcj1cIi9cIiksYX0sc2VwOlwiL1wiLGRlbGltaXRlcjpcIjpcIix3aW4zMjpudWxsLHBvc2l4Om51bGx9O3JldHVybiBuLnBvc2l4PW4sZWw9bixlbH1mdW5jdGlvbiBCRSh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil0PW5ldyBVUkwodCk7ZWxzZSBpZighKHQgaW5zdGFuY2VvZiBVUkwpKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImludmFsaWQgYXJndW1lbnQgcGF0aCAsIG11c3QgYmUgYSBzdHJpbmcgb3IgVVJMXCIpO2lmKHQucHJvdG9jb2whPT1cImZpbGU6XCIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiaW52YWxpZCB1cmwgc2NoZW1lXCIpO3JldHVybiBybD9QRSh0KTpPRSh0KX1mdW5jdGlvbiBQRSh0KXtsZXQgZT10Lmhvc3RuYW1lLHI9dC5wYXRobmFtZTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKylpZihyW2ldPT09XCIlXCIpe2xldCBuPXIuY29kZVBvaW50QXQoaSsyKXx8MzI7aWYocltpKzFdPT09XCIyXCImJm49PT0xMDJ8fHJbaSsxXT09PVwiNVwiJiZuPT09OTkpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwibXVzdCBub3QgaW5jbHVkZSBlbmNvZGVkIFxcXFwgb3IgLyBjaGFyYWN0ZXJzXCIpfWlmKHI9ci5yZXBsYWNlKFNFLFwiXFxcXFwiKSxyPWRlY29kZVVSSUNvbXBvbmVudChyKSxlIT09XCJcIilyZXR1cm4gYFxcXFxcXFxcJHtlfSR7cn1gO3tsZXQgaT1yLmNvZGVQb2ludEF0KDEpfDMyLG49clsyXTtpZihpPHZFfHxpPkVFfHxuIT09XCI6XCIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiZmlsZSB1cmwgcGF0aCBtdXN0IGJlIGFic29sdXRlXCIpO3JldHVybiByLnNsaWNlKDEpfX1mdW5jdGlvbiBPRSh0KXtpZih0Lmhvc3RuYW1lIT09XCJcIil0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJpbnZhbGlkIGZpbGUgdXJsIGhvc3RuYW1lXCIpO2xldCBlPXQucGF0aG5hbWU7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXT09PVwiJVwiKXtsZXQgaT1lLmNvZGVQb2ludEF0KHIrMil8fDMyO2lmKGVbcisxXT09PVwiMlwiJiZpPT09MTAyKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcIm11c3Qgbm90IGluY2x1ZGUgZW5jb2RlZCAvIGNoYXJhY3RlcnNcIil9cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlKX1mdW5jdGlvbiBrRSh0KXtsZXQgZT1mZy5yZXNvbHZlKHQpLHI9dC5jaGFyQ29kZUF0KHQubGVuZ3RoLTEpOyhyPT09bUV8fHJsJiZyPT09X0UpJiZlW2UubGVuZ3RoLTFdIT09Zmcuc2VwJiYoZSs9XCIvXCIpO2xldCBpPW5ldyBVUkwoXCJmaWxlOi8vXCIpO3JldHVybiBlLmluY2x1ZGVzKFwiJVwiKSYmKGU9ZS5yZXBsYWNlKEFFLFwiJTI1XCIpKSwhcmwmJmUuaW5jbHVkZXMoXCJcXFxcXCIpJiYoZT1lLnJlcGxhY2UoSUUsXCIlNUNcIikpLGUuaW5jbHVkZXMoYFxuYCkmJihlPWUucmVwbGFjZShURSxcIiUwQVwiKSksZS5pbmNsdWRlcyhcIlxcclwiKSYmKGU9ZS5yZXBsYWNlKFJFLFwiJTBEXCIpKSxlLmluY2x1ZGVzKFwiXHRcIikmJihlPWUucmVwbGFjZShDRSxcIiUwOVwiKSksaS5wYXRobmFtZT1lLGl9ZnVuY3Rpb24gY2codCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpdD1uZXcgVVJMKHQpO2Vsc2UgaWYoISh0IGluc3RhbmNlb2YgVVJMKSl0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJpbnZhbGlkIGFyZ3VtZW50IHBhdGggLCBtdXN0IGJlIGEgc3RyaW5nIG9yIFVSTFwiKTtpZih0LnByb3RvY29sIT09XCJmaWxlOlwiKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImludmFsaWQgdXJsIHNjaGVtZVwiKTtyZXR1cm4gaWw/WUUodCk6SkUodCl9ZnVuY3Rpb24gWUUodCl7bGV0IGU9dC5ob3N0bmFtZSxyPXQucGF0aG5hbWU7Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXT09PVwiJVwiKXtsZXQgbj1yLmNvZGVQb2ludEF0KGkrMil8fDMyO2lmKHJbaSsxXT09PVwiMlwiJiZuPT09MTAyfHxyW2krMV09PT1cIjVcIiYmbj09PTk5KXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcIm11c3Qgbm90IGluY2x1ZGUgZW5jb2RlZCBcXFxcIG9yIC8gY2hhcmFjdGVyc1wiKX1pZihyPXIucmVwbGFjZShIRSxcIlxcXFxcIikscj1kZWNvZGVVUklDb21wb25lbnQociksZSE9PVwiXCIpcmV0dXJuIGBcXFxcXFxcXCR7ZX0ke3J9YDt7bGV0IGk9ci5jb2RlUG9pbnRBdCgxKXwzMixuPXJbMl07aWYoaTxXRXx8aT4kRXx8biE9PVwiOlwiKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImZpbGUgdXJsIHBhdGggbXVzdCBiZSBhYnNvbHV0ZVwiKTtyZXR1cm4gci5zbGljZSgxKX19ZnVuY3Rpb24gSkUodCl7aWYodC5ob3N0bmFtZSE9PVwiXCIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiaW52YWxpZCBmaWxlIHVybCBob3N0bmFtZVwiKTtsZXQgZT10LnBhdGhuYW1lO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl09PT1cIiVcIil7bGV0IGk9ZS5jb2RlUG9pbnRBdChyKzIpfHwzMjtpZihlW3IrMV09PT1cIjJcIiYmaT09PTEwMil0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJtdXN0IG5vdCBpbmNsdWRlIGVuY29kZWQgLyBjaGFyYWN0ZXJzXCIpfXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gaGcodCl7bGV0IGU9SmEucmVzb2x2ZSh0KSxyPXQuY2hhckNvZGVBdCh0Lmxlbmd0aC0xKTsocj09PUZFfHxpbCYmcj09PWpFKSYmZVtlLmxlbmd0aC0xXSE9PUphLnNlcCYmKGUrPVwiL1wiKTtsZXQgaT1uZXcgVVJMKFwiZmlsZTovL1wiKTtyZXR1cm4gZS5pbmNsdWRlcyhcIiVcIikmJihlPWUucmVwbGFjZShWRSxcIiUyNVwiKSksIWlsJiZlLmluY2x1ZGVzKFwiXFxcXFwiKSYmKGU9ZS5yZXBsYWNlKHpFLFwiJTVDXCIpKSxlLmluY2x1ZGVzKGBcbmApJiYoZT1lLnJlcGxhY2UoS0UsXCIlMEFcIikpLGUuaW5jbHVkZXMoXCJcXHJcIikmJihlPWUucmVwbGFjZShHRSxcIiUwRFwiKSksZS5pbmNsdWRlcyhcIlx0XCIpJiYoZT1lLnJlcGxhY2UoUUUsXCIlMDlcIikpLGkucGF0aG5hbWU9ZSxpfXZhciBaLGZFLHB0LGNFLGhFLGRFLHBFLHRsLG9nLGFnLGxnLGdFLHlFLFhhLHNpLFphLGVsLHVnLGZnLHdFLF9FLG1FLHZFLEVFLHJsLFNFLEFFLElFLFRFLFJFLENFLHhFLE1FLExFLFVFLE5FLHFFLERFLGpFLEZFLFdFLCRFLGlsLEhFLFZFLHpFLEtFLEdFLFFFLHBnPXdlKCgpPT57digpO20oKTtfKCk7WXAoKTtKcCgpO3JnKCk7c2coKTtRYSgpO1o9e30sZkU9enQscHQ9e2lzU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIn0saXNPYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0IT09bnVsbH0saXNOdWxsOmZ1bmN0aW9uKHQpe3JldHVybiB0PT09bnVsbH0saXNOdWxsT3JVbmRlZmluZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PW51bGx9fTtaLnBhcnNlPXhpLFoucmVzb2x2ZT1mdW5jdGlvbih0LGUpe3JldHVybiB4aSh0LCExLCEwKS5yZXNvbHZlKGUpfSxaLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD94aSh0LCExLCEwKS5yZXNvbHZlT2JqZWN0KGUpOmV9LFouZm9ybWF0PWZ1bmN0aW9uKHQpe3JldHVybiBwdC5pc1N0cmluZyh0KSYmKHQ9eGkodCkpLHQgaW5zdGFuY2VvZiBGZT90LmZvcm1hdCgpOkZlLnByb3RvdHlwZS5mb3JtYXQuY2FsbCh0KX0sWi5Vcmw9RmU7Y0U9L14oW2EtejAtOS4rLV0rOikvaSxoRT0vOlswLTldKiQvLGRFPS9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8scEU9W1wie1wiLFwifVwiLFwifFwiLFwiXFxcXFwiLFwiXlwiLFwiYFwiXS5jb25jYXQoW1wiPFwiLFwiPlwiLCdcIicsXCJgXCIsXCIgXCIsXCJcXHJcIixgXG5gLFwiXHRcIl0pLHRsPVtcIidcIl0uY29uY2F0KHBFKSxvZz1bXCIlXCIsXCIvXCIsXCI/XCIsXCI7XCIsXCIjXCJdLmNvbmNhdCh0bCksYWc9W1wiL1wiLFwiP1wiLFwiI1wiXSxsZz0vXlsrYS16MC05QS1aXy1dezAsNjN9JC8sZ0U9L14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLHlFPXtqYXZhc2NyaXB0OiEwLFwiamF2YXNjcmlwdDpcIjohMH0sWGE9e2phdmFzY3JpcHQ6ITAsXCJqYXZhc2NyaXB0OlwiOiEwfSxzaT17aHR0cDohMCxodHRwczohMCxmdHA6ITAsZ29waGVyOiEwLGZpbGU6ITAsXCJodHRwOlwiOiEwLFwiaHR0cHM6XCI6ITAsXCJmdHA6XCI6ITAsXCJnb3BoZXI6XCI6ITAsXCJmaWxlOlwiOiEwfSxaYT1kdDtGZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlLHIpe2lmKCFwdC5pc1N0cmluZyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIit0eXBlb2YgdCk7dmFyIGk9dC5pbmRleE9mKFwiP1wiKSxuPWkhPT0tMSYmaTx0LmluZGV4T2YoXCIjXCIpP1wiP1wiOlwiI1wiLG89dC5zcGxpdChuKTtvWzBdPW9bMF0ucmVwbGFjZSgvXFxcXC9nLFwiL1wiKTt2YXIgcz10PW8uam9pbihuKTtpZihzPXMudHJpbSgpLCFyJiZ0LnNwbGl0KFwiI1wiKS5sZW5ndGg9PT0xKXt2YXIgYT1kRS5leGVjKHMpO2lmKGEpcmV0dXJuIHRoaXMucGF0aD1zLHRoaXMuaHJlZj1zLHRoaXMucGF0aG5hbWU9YVsxXSxhWzJdPyh0aGlzLnNlYXJjaD1hWzJdLHRoaXMucXVlcnk9ZT9aYS5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpOnRoaXMuc2VhcmNoLnN1YnN0cigxKSk6ZSYmKHRoaXMuc2VhcmNoPVwiXCIsdGhpcy5xdWVyeT17fSksdGhpc312YXIgdT1jRS5leGVjKHMpO2lmKHUpe3ZhciBjPSh1PXVbMF0pLnRvTG93ZXJDYXNlKCk7dGhpcy5wcm90b2NvbD1jLHM9cy5zdWJzdHIodS5sZW5ndGgpO31pZihyfHx1fHxzLm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSl7dmFyIGg9cy5zdWJzdHIoMCwyKT09PVwiLy9cIjshaHx8dSYmWGFbdV18fChzPXMuc3Vic3RyKDIpLHRoaXMuc2xhc2hlcz0hMCk7fWlmKCFYYVt1XSYmKGh8fHUmJiFzaVt1XSkpe2Zvcih2YXIgZCxnLHk9LTEsdz0wO3c8YWcubGVuZ3RoO3crKykoRT1zLmluZGV4T2YoYWdbd10pKSE9PS0xJiYoeT09PS0xfHxFPHkpJiYoeT1FKTtmb3IoKGc9eT09PS0xP3MubGFzdEluZGV4T2YoXCJAXCIpOnMubGFzdEluZGV4T2YoXCJAXCIseSkpIT09LTEmJihkPXMuc2xpY2UoMCxnKSxzPXMuc2xpY2UoZysxKSx0aGlzLmF1dGg9ZGVjb2RlVVJJQ29tcG9uZW50KGQpKSx5PS0xLHc9MDt3PG9nLmxlbmd0aDt3Kyspe3ZhciBFOyhFPXMuaW5kZXhPZihvZ1t3XSkpIT09LTEmJih5PT09LTF8fEU8eSkmJih5PUUpO315PT09LTEmJih5PXMubGVuZ3RoKSx0aGlzLmhvc3Q9cy5zbGljZSgwLHkpLHM9cy5zbGljZSh5KSx0aGlzLnBhcnNlSG9zdCgpLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZXx8XCJcIjt2YXIgUz10aGlzLmhvc3RuYW1lWzBdPT09XCJbXCImJnRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGgtMV09PT1cIl1cIjtpZighUylmb3IodmFyIEk9dGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyksQz0odz0wLEkubGVuZ3RoKTt3PEM7dysrKXt2YXIgUj1JW3ddO2lmKFImJiFSLm1hdGNoKGxnKSl7Zm9yKHZhciBVPVwiXCIsTj0wLFc9Ui5sZW5ndGg7TjxXO04rKylSLmNoYXJDb2RlQXQoTik+MTI3P1UrPVwieFwiOlUrPVJbTl07aWYoIVUubWF0Y2gobGcpKXt2YXIgSz1JLnNsaWNlKDAsdyksej1JLnNsaWNlKHcrMSksUT1SLm1hdGNoKGdFKTtRJiYoSy5wdXNoKFFbMV0pLHoudW5zaGlmdChRWzJdKSksei5sZW5ndGgmJihzPVwiL1wiK3ouam9pbihcIi5cIikrcyksdGhpcy5ob3N0bmFtZT1LLmpvaW4oXCIuXCIpO2JyZWFrfX19dGhpcy5ob3N0bmFtZS5sZW5ndGg+MjU1P3RoaXMuaG9zdG5hbWU9XCJcIjp0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKSxTfHwodGhpcy5ob3N0bmFtZT1mRS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpKTt2YXIgZGU9dGhpcy5wb3J0P1wiOlwiK3RoaXMucG9ydDpcIlwiLEd0PXRoaXMuaG9zdG5hbWV8fFwiXCI7dGhpcy5ob3N0PUd0K2RlLHRoaXMuaHJlZis9dGhpcy5ob3N0LFMmJih0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsdGhpcy5ob3N0bmFtZS5sZW5ndGgtMiksc1swXSE9PVwiL1wiJiYocz1cIi9cIitzKSk7fWlmKCF5RVtjXSlmb3Iodz0wLEM9dGwubGVuZ3RoO3c8Qzt3Kyspe3ZhciBwZT10bFt3XTtpZihzLmluZGV4T2YocGUpIT09LTEpe3ZhciBDcj1lbmNvZGVVUklDb21wb25lbnQocGUpO0NyPT09cGUmJihDcj1lc2NhcGUocGUpKSxzPXMuc3BsaXQocGUpLmpvaW4oQ3IpO319dmFyIEJyPXMuaW5kZXhPZihcIiNcIik7QnIhPT0tMSYmKHRoaXMuaGFzaD1zLnN1YnN0cihCcikscz1zLnNsaWNlKDAsQnIpKTt2YXIgUHI9cy5pbmRleE9mKFwiP1wiKTtpZihQciE9PS0xPyh0aGlzLnNlYXJjaD1zLnN1YnN0cihQciksdGhpcy5xdWVyeT1zLnN1YnN0cihQcisxKSxlJiYodGhpcy5xdWVyeT1aYS5wYXJzZSh0aGlzLnF1ZXJ5KSkscz1zLnNsaWNlKDAsUHIpKTplJiYodGhpcy5zZWFyY2g9XCJcIix0aGlzLnF1ZXJ5PXt9KSxzJiYodGhpcy5wYXRobmFtZT1zKSxzaVtjXSYmdGhpcy5ob3N0bmFtZSYmIXRoaXMucGF0aG5hbWUmJih0aGlzLnBhdGhuYW1lPVwiL1wiKSx0aGlzLnBhdGhuYW1lfHx0aGlzLnNlYXJjaCl7ZGU9dGhpcy5wYXRobmFtZXx8XCJcIjt2YXIgdXM9dGhpcy5zZWFyY2h8fFwiXCI7dGhpcy5wYXRoPWRlK3VzO31yZXR1cm4gdGhpcy5ocmVmPXRoaXMuZm9ybWF0KCksdGhpc30sRmUucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYXV0aHx8XCJcIjt0JiYodD0odD1lbmNvZGVVUklDb21wb25lbnQodCkpLnJlcGxhY2UoLyUzQS9pLFwiOlwiKSx0Kz1cIkBcIik7dmFyIGU9dGhpcy5wcm90b2NvbHx8XCJcIixyPXRoaXMucGF0aG5hbWV8fFwiXCIsaT10aGlzLmhhc2h8fFwiXCIsbj0hMSxvPVwiXCI7dGhpcy5ob3N0P249dCt0aGlzLmhvc3Q6dGhpcy5ob3N0bmFtZSYmKG49dCsodGhpcy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKT09PS0xP3RoaXMuaG9zdG5hbWU6XCJbXCIrdGhpcy5ob3N0bmFtZStcIl1cIiksdGhpcy5wb3J0JiYobis9XCI6XCIrdGhpcy5wb3J0KSksdGhpcy5xdWVyeSYmcHQuaXNPYmplY3QodGhpcy5xdWVyeSkmJk9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCYmKG89WmEuc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgcz10aGlzLnNlYXJjaHx8byYmXCI/XCIrb3x8XCJcIjtyZXR1cm4gZSYmZS5zdWJzdHIoLTEpIT09XCI6XCImJihlKz1cIjpcIiksdGhpcy5zbGFzaGVzfHwoIWV8fHNpW2VdKSYmbiE9PSExPyhuPVwiLy9cIisobnx8XCJcIiksciYmci5jaGFyQXQoMCkhPT1cIi9cIiYmKHI9XCIvXCIrcikpOm58fChuPVwiXCIpLGkmJmkuY2hhckF0KDApIT09XCIjXCImJihpPVwiI1wiK2kpLHMmJnMuY2hhckF0KDApIT09XCI/XCImJihzPVwiP1wiK3MpLGUrbisocj1yLnJlcGxhY2UoL1s/I10vZyxmdW5jdGlvbihhKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGEpfSkpKyhzPXMucmVwbGFjZShcIiNcIixcIiUyM1wiKSkraX0sRmUucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh4aSh0LCExLCEwKSkuZm9ybWF0KCl9LEZlLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKHQpe2lmKHB0LmlzU3RyaW5nKHQpKXt2YXIgZT1uZXcgRmU7ZS5wYXJzZSh0LCExLCEwKSx0PWU7fWZvcih2YXIgcj1uZXcgRmUsaT1PYmplY3Qua2V5cyh0aGlzKSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl07cltvXT10aGlzW29dO31pZihyLmhhc2g9dC5oYXNoLHQuaHJlZj09PVwiXCIpcmV0dXJuIHIuaHJlZj1yLmZvcm1hdCgpLHI7aWYodC5zbGFzaGVzJiYhdC5wcm90b2NvbCl7Zm9yKHZhciBzPU9iamVjdC5rZXlzKHQpLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIHU9c1thXTt1IT09XCJwcm90b2NvbFwiJiYoclt1XT10W3VdKTt9cmV0dXJuIHNpW3IucHJvdG9jb2xdJiZyLmhvc3RuYW1lJiYhci5wYXRobmFtZSYmKHIucGF0aD1yLnBhdGhuYW1lPVwiL1wiKSxyLmhyZWY9ci5mb3JtYXQoKSxyfWlmKHQucHJvdG9jb2wmJnQucHJvdG9jb2whPT1yLnByb3RvY29sKXtpZighc2lbdC5wcm90b2NvbF0pe2Zvcih2YXIgYz1PYmplY3Qua2V5cyh0KSxoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBkPWNbaF07cltkXT10W2RdO31yZXR1cm4gci5ocmVmPXIuZm9ybWF0KCkscn1pZihyLnByb3RvY29sPXQucHJvdG9jb2wsdC5ob3N0fHxYYVt0LnByb3RvY29sXSlyLnBhdGhuYW1lPXQucGF0aG5hbWU7ZWxzZSB7Zm9yKHZhciBnPSh0LnBhdGhuYW1lfHxcIlwiKS5zcGxpdChcIi9cIik7Zy5sZW5ndGgmJiEodC5ob3N0PWcuc2hpZnQoKSk7KTt0Lmhvc3R8fCh0Lmhvc3Q9XCJcIiksdC5ob3N0bmFtZXx8KHQuaG9zdG5hbWU9XCJcIiksZ1swXSE9PVwiXCImJmcudW5zaGlmdChcIlwiKSxnLmxlbmd0aDwyJiZnLnVuc2hpZnQoXCJcIiksci5wYXRobmFtZT1nLmpvaW4oXCIvXCIpO31pZihyLnNlYXJjaD10LnNlYXJjaCxyLnF1ZXJ5PXQucXVlcnksci5ob3N0PXQuaG9zdHx8XCJcIixyLmF1dGg9dC5hdXRoLHIuaG9zdG5hbWU9dC5ob3N0bmFtZXx8dC5ob3N0LHIucG9ydD10LnBvcnQsci5wYXRobmFtZXx8ci5zZWFyY2gpe3ZhciB5PXIucGF0aG5hbWV8fFwiXCIsdz1yLnNlYXJjaHx8XCJcIjtyLnBhdGg9eSt3O31yZXR1cm4gci5zbGFzaGVzPXIuc2xhc2hlc3x8dC5zbGFzaGVzLHIuaHJlZj1yLmZvcm1hdCgpLHJ9dmFyIEU9ci5wYXRobmFtZSYmci5wYXRobmFtZS5jaGFyQXQoMCk9PT1cIi9cIixTPXQuaG9zdHx8dC5wYXRobmFtZSYmdC5wYXRobmFtZS5jaGFyQXQoMCk9PT1cIi9cIixJPVN8fEV8fHIuaG9zdCYmdC5wYXRobmFtZSxDPUksUj1yLnBhdGhuYW1lJiZyLnBhdGhuYW1lLnNwbGl0KFwiL1wiKXx8W10sVT0oZz10LnBhdGhuYW1lJiZ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKXx8W10sci5wcm90b2NvbCYmIXNpW3IucHJvdG9jb2xdKTtpZihVJiYoci5ob3N0bmFtZT1cIlwiLHIucG9ydD1udWxsLHIuaG9zdCYmKFJbMF09PT1cIlwiP1JbMF09ci5ob3N0OlIudW5zaGlmdChyLmhvc3QpKSxyLmhvc3Q9XCJcIix0LnByb3RvY29sJiYodC5ob3N0bmFtZT1udWxsLHQucG9ydD1udWxsLHQuaG9zdCYmKGdbMF09PT1cIlwiP2dbMF09dC5ob3N0OmcudW5zaGlmdCh0Lmhvc3QpKSx0Lmhvc3Q9bnVsbCksST1JJiYoZ1swXT09PVwiXCJ8fFJbMF09PT1cIlwiKSksUylyLmhvc3Q9dC5ob3N0fHx0Lmhvc3Q9PT1cIlwiP3QuaG9zdDpyLmhvc3Qsci5ob3N0bmFtZT10Lmhvc3RuYW1lfHx0Lmhvc3RuYW1lPT09XCJcIj90Lmhvc3RuYW1lOnIuaG9zdG5hbWUsci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LFI9ZztlbHNlIGlmKGcubGVuZ3RoKVJ8fChSPVtdKSxSLnBvcCgpLFI9Ui5jb25jYXQoZyksci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5O2Vsc2UgaWYoIXB0LmlzTnVsbE9yVW5kZWZpbmVkKHQuc2VhcmNoKSlyZXR1cm4gVSYmKHIuaG9zdG5hbWU9ci5ob3N0PVIuc2hpZnQoKSwoUT0hIShyLmhvc3QmJnIuaG9zdC5pbmRleE9mKFwiQFwiKT4wKSYmci5ob3N0LnNwbGl0KFwiQFwiKSkmJihyLmF1dGg9US5zaGlmdCgpLHIuaG9zdD1yLmhvc3RuYW1lPVEuc2hpZnQoKSkpLHIuc2VhcmNoPXQuc2VhcmNoLHIucXVlcnk9dC5xdWVyeSxwdC5pc051bGwoci5wYXRobmFtZSkmJnB0LmlzTnVsbChyLnNlYXJjaCl8fChyLnBhdGg9KHIucGF0aG5hbWU/ci5wYXRobmFtZTpcIlwiKSsoci5zZWFyY2g/ci5zZWFyY2g6XCJcIikpLHIuaHJlZj1yLmZvcm1hdCgpLHI7aWYoIVIubGVuZ3RoKXJldHVybiByLnBhdGhuYW1lPW51bGwsci5zZWFyY2g/ci5wYXRoPVwiL1wiK3Iuc2VhcmNoOnIucGF0aD1udWxsLHIuaHJlZj1yLmZvcm1hdCgpLHI7Zm9yKHZhciBOPVIuc2xpY2UoLTEpWzBdLFc9KHIuaG9zdHx8dC5ob3N0fHxSLmxlbmd0aD4xKSYmKE49PT1cIi5cInx8Tj09PVwiLi5cIil8fE49PT1cIlwiLEs9MCx6PVIubGVuZ3RoO3o+PTA7ei0tKShOPVJbel0pPT09XCIuXCI/Ui5zcGxpY2UoeiwxKTpOPT09XCIuLlwiPyhSLnNwbGljZSh6LDEpLEsrKyk6SyYmKFIuc3BsaWNlKHosMSksSy0tKTtpZighSSYmIUMpZm9yKDtLLS07SylSLnVuc2hpZnQoXCIuLlwiKTshSXx8UlswXT09PVwiXCJ8fFJbMF0mJlJbMF0uY2hhckF0KDApPT09XCIvXCJ8fFIudW5zaGlmdChcIlwiKSxXJiZSLmpvaW4oXCIvXCIpLnN1YnN0cigtMSkhPT1cIi9cIiYmUi5wdXNoKFwiXCIpO3ZhciBRLGRlPVJbMF09PT1cIlwifHxSWzBdJiZSWzBdLmNoYXJBdCgwKT09PVwiL1wiO3JldHVybiBVJiYoci5ob3N0bmFtZT1yLmhvc3Q9ZGU/XCJcIjpSLmxlbmd0aD9SLnNoaWZ0KCk6XCJcIiwoUT0hIShyLmhvc3QmJnIuaG9zdC5pbmRleE9mKFwiQFwiKT4wKSYmci5ob3N0LnNwbGl0KFwiQFwiKSkmJihyLmF1dGg9US5zaGlmdCgpLHIuaG9zdD1yLmhvc3RuYW1lPVEuc2hpZnQoKSkpLChJPUl8fHIuaG9zdCYmUi5sZW5ndGgpJiYhZGUmJlIudW5zaGlmdChcIlwiKSxSLmxlbmd0aD9yLnBhdGhuYW1lPVIuam9pbihcIi9cIik6KHIucGF0aG5hbWU9bnVsbCxyLnBhdGg9bnVsbCkscHQuaXNOdWxsKHIucGF0aG5hbWUpJiZwdC5pc051bGwoci5zZWFyY2gpfHwoci5wYXRoPShyLnBhdGhuYW1lP3IucGF0aG5hbWU6XCJcIikrKHIuc2VhcmNoP3Iuc2VhcmNoOlwiXCIpKSxyLmF1dGg9dC5hdXRofHxyLmF1dGgsci5zbGFzaGVzPXIuc2xhc2hlc3x8dC5zbGFzaGVzLHIuaHJlZj1yLmZvcm1hdCgpLHJ9LEZlLnByb3RvdHlwZS5wYXJzZUhvc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvc3QsZT1oRS5leGVjKHQpO2UmJigoZT1lWzBdKSE9PVwiOlwiJiYodGhpcy5wb3J0PWUuc3Vic3RyKDEpKSx0PXQuc3Vic3RyKDAsdC5sZW5ndGgtZS5sZW5ndGgpKSx0JiYodGhpcy5ob3N0bmFtZT10KTt9O1ouVXJsO1ouZm9ybWF0O1oucmVzb2x2ZTtaLnJlc29sdmVPYmplY3Q7ZWw9e30sdWc9ITE7Zmc9YkUoKSx3RT10eXBlb2YgRGVubzxcInVcIj9EZW5vLmJ1aWxkLm9zPT09XCJ3aW5kb3dzXCI/XCJ3aW4zMlwiOkRlbm8uYnVpbGQub3M6dm9pZCAwO1ouVVJMPXR5cGVvZiBVUkw8XCJ1XCI/VVJMOm51bGw7Wi5wYXRoVG9GaWxlVVJMPWtFO1ouZmlsZVVSTFRvUGF0aD1CRTtaLlVybDtaLmZvcm1hdDtaLnJlc29sdmU7Wi5yZXNvbHZlT2JqZWN0O1ouVVJMO19FPTkyLG1FPTQ3LHZFPTk3LEVFPTEyMixybD13RT09PVwid2luMzJcIixTRT0vXFwvL2csQUU9LyUvZyxJRT0vXFxcXC9nLFRFPS9cXG4vZyxSRT0vXFxyL2csQ0U9L1xcdC9nO3hFPXR5cGVvZiBEZW5vPFwidVwiP0Rlbm8uYnVpbGQub3M9PT1cIndpbmRvd3NcIj9cIndpbjMyXCI6RGVuby5idWlsZC5vczp2b2lkIDA7Wi5VUkw9dHlwZW9mIFVSTDxcInVcIj9VUkw6bnVsbDtaLnBhdGhUb0ZpbGVVUkw9aGc7Wi5maWxlVVJMVG9QYXRoPWNnO01FPVouVXJsLExFPVouZm9ybWF0LFVFPVoucmVzb2x2ZSxORT1aLnJlc29sdmVPYmplY3QscUU9Wi5wYXJzZSxERT1aLlVSTCxqRT05MixGRT00NyxXRT05NywkRT0xMjIsaWw9eEU9PT1cIndpbjMyXCIsSEU9L1xcLy9nLFZFPS8lL2csekU9L1xcXFwvZyxLRT0vXFxuL2csR0U9L1xcci9nLFFFPS9cXHQvZzt9KTt2YXIgbmw9e307UXQobmwse1NlcnZlcjooKT0+TWUsU29ja2V0OigpPT5NZSxTdHJlYW06KCk9Pk1lLF9jcmVhdGVTZXJ2ZXJIYW5kbGU6KCk9Pk1lLF9ub3JtYWxpemVBcmdzOigpPT5NZSxfc2V0U2ltdWx0YW5lb3VzQWNjZXB0czooKT0+TWUsY29ubmVjdDooKT0+TWUsY3JlYXRlQ29ubmVjdGlvbjooKT0+TWUsY3JlYXRlU2VydmVyOigpPT5NZSxkZWZhdWx0OigpPT5YRSxpc0lQOigpPT5NZSxpc0lQdjQ6KCk9Pk1lLGlzSVB2NjooKT0+TWV9KTtmdW5jdGlvbiBNZSgpe3Rocm93IG5ldyBFcnJvcihcIk5vZGUuanMgbmV0IG1vZHVsZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IEpTUE0gY29yZSBvdXRzaWRlIG9mIE5vZGUuanNcIil9dmFyIFhFLHNsPXdlKCgpPT57digpO20oKTtfKCk7WEU9e19jcmVhdGVTZXJ2ZXJIYW5kbGU6TWUsX25vcm1hbGl6ZUFyZ3M6TWUsX3NldFNpbXVsdGFuZW91c0FjY2VwdHM6TWUsY29ubmVjdDpNZSxjcmVhdGVDb25uZWN0aW9uOk1lLGNyZWF0ZVNlcnZlcjpNZSxpc0lQOk1lLGlzSVB2NDpNZSxpc0lQdjY6TWUsU2VydmVyOk1lLFNvY2tldDpNZSxTdHJlYW06TWV9O30pO3ZhciBvbD1NKE1pPT57digpO20oKTtfKCk7dmFyIGdnPU1pJiZNaS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KE1pLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBaRT1nZygoc2woKSxYKG5sKSkpLGVTPWdnKG90KCkpLHRTPSgwLCBlUy5kZWZhdWx0KShcIm1xdHRqczp0Y3BcIiksclM9KHQsZSk9PntlLnBvcnQ9ZS5wb3J0fHwxODgzLGUuaG9zdG5hbWU9ZS5ob3N0bmFtZXx8ZS5ob3N0fHxcImxvY2FsaG9zdFwiO2xldHtwb3J0OnJ9PWUsaT1lLmhvc3RuYW1lO3JldHVybiB0UyhcInBvcnQgJWQgYW5kIGhvc3QgJXNcIixyLGkpLFpFLmRlZmF1bHQuY3JlYXRlQ29ubmVjdGlvbihyLGkpfTtNaS5kZWZhdWx0PXJTO30pO3ZhciB5Zz17fTtRdCh5Zyx7ZGVmYXVsdDooKT0+aVN9KTt2YXIgaVMsYmc9d2UoKCk9Pnt2KCk7bSgpO18oKTtpUz17fTt9KTt2YXIgbGw9TShMaT0+e3YoKTttKCk7XygpO3ZhciBhbD1MaSYmTGkuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShMaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgblM9YWwoKGJnKCksWCh5ZykpKSxzUz1hbCgoc2woKSxYKG5sKSkpLG9TPWFsKG90KCkpLGFTPSgwLCBvUy5kZWZhdWx0KShcIm1xdHRqczp0bHNcIiksbFM9KHQsZSk9PntlLnBvcnQ9ZS5wb3J0fHw4ODgzLGUuaG9zdD1lLmhvc3RuYW1lfHxlLmhvc3R8fFwibG9jYWxob3N0XCIsc1MuZGVmYXVsdC5pc0lQKGUuaG9zdCk9PT0wJiYoZS5zZXJ2ZXJuYW1lPWUuaG9zdCksZS5yZWplY3RVbmF1dGhvcml6ZWQ9ZS5yZWplY3RVbmF1dGhvcml6ZWQhPT0hMSxkZWxldGUgZS5wYXRoLGFTKFwicG9ydCAlZCBob3N0ICVzIHJlamVjdFVuYXV0aG9yaXplZCAlYlwiLGUucG9ydCxlLmhvc3QsZS5yZWplY3RVbmF1dGhvcml6ZWQpO2xldCByPW5TLmRlZmF1bHQuY29ubmVjdChlKTtyLm9uKFwic2VjdXJlQ29ubmVjdFwiLCgpPT57ZS5yZWplY3RVbmF1dGhvcml6ZWQmJiFyLmF1dGhvcml6ZWQ/ci5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJUTFMgbm90IGF1dGhvcml6ZWRcIikpOnIucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGkpO30pO2Z1bmN0aW9uIGkobil7ZS5yZWplY3RVbmF1dGhvcml6ZWQmJnQuZW1pdChcImVycm9yXCIsbiksci5lbmQoKTt9cmV0dXJuIHIub24oXCJlcnJvclwiLGkpLHJ9O0xpLmRlZmF1bHQ9bFM7fSk7dmFyIG9zPU0ob2k9Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkob2ksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7b2kuQnVmZmVyZWREdXBsZXg9b2kud3JpdGV2PXZvaWQgMDt2YXIgdVM9RHQoKSx3Zz0oeWUoKSxYKF9lKSk7ZnVuY3Rpb24gX2codCxlKXtsZXQgcj1uZXcgQXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXR5cGVvZiB0W2ldLmNodW5rPT1cInN0cmluZ1wiP3JbaV09d2cuQnVmZmVyLmZyb20odFtpXS5jaHVuayxcInV0ZjhcIik6cltpXT10W2ldLmNodW5rO3RoaXMuX3dyaXRlKHdnLkJ1ZmZlci5jb25jYXQociksXCJiaW5hcnlcIixlKTt9b2kud3JpdGV2PV9nO3ZhciB1bD1jbGFzcyBleHRlbmRzIHVTLkR1cGxleHtjb25zdHJ1Y3RvcihlLHIsaSl7c3VwZXIoe29iamVjdE1vZGU6ITB9KSx0aGlzLnByb3h5PXIsdGhpcy5zb2NrZXQ9aSx0aGlzLndyaXRlUXVldWU9W10sZS5vYmplY3RNb2RlfHwodGhpcy5fd3JpdGV2PV9nLmJpbmQodGhpcykpLHRoaXMuaXNTb2NrZXRPcGVuPSExLHRoaXMucHJveHkub24oXCJkYXRhXCIsbj0+e3RoaXMucHVzaChuKTt9KTt9X3JlYWQoZSl7dGhpcy5wcm94eS5yZWFkKGUpO31fd3JpdGUoZSxyLGkpe3RoaXMuaXNTb2NrZXRPcGVuP3RoaXMud3JpdGVUb1Byb3h5KGUscixpKTp0aGlzLndyaXRlUXVldWUucHVzaCh7Y2h1bms6ZSxlbmNvZGluZzpyLGNiOml9KTt9X2ZpbmFsKGUpe3RoaXMud3JpdGVRdWV1ZT1bXSx0aGlzLnByb3h5LmVuZChlKTt9X2Rlc3Ryb3koZSxyKXt0aGlzLndyaXRlUXVldWU9W10sdGhpcy5wcm94eS5kZXN0cm95KCkscihlKTt9c29ja2V0UmVhZHkoKXt0aGlzLmVtaXQoXCJjb25uZWN0XCIpLHRoaXMuaXNTb2NrZXRPcGVuPSEwLHRoaXMucHJvY2Vzc1dyaXRlUXVldWUoKTt9d3JpdGVUb1Byb3h5KGUscixpKXt0aGlzLnByb3h5LndyaXRlKGUscik9PT0hMT90aGlzLnByb3h5Lm9uY2UoXCJkcmFpblwiLGkpOmkoKTt9cHJvY2Vzc1dyaXRlUXVldWUoKXtmb3IoO3RoaXMud3JpdGVRdWV1ZS5sZW5ndGg+MDspe2xldHtjaHVuazplLGVuY29kaW5nOnIsY2I6aX09dGhpcy53cml0ZVF1ZXVlLnNoaWZ0KCk7dGhpcy53cml0ZVRvUHJveHkoZSxyLGkpO319fTtvaS5CdWZmZXJlZER1cGxleD11bDt9KTt2YXIgaGw9TShjbD0+e3YoKTttKCk7XygpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjbCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbWc9KHllKCksWChfZSkpLGZTPUR0KCksY1M9b3MoKSxndCxmbCxMZTtmdW5jdGlvbiBoUygpe2xldCB0PW5ldyBmUy5UcmFuc2Zvcm07cmV0dXJuIHQuX3dyaXRlPShlLHIsaSk9PntndC5zZW5kKHtkYXRhOmUuYnVmZmVyLHN1Y2Nlc3MoKXtpKCk7fSxmYWlsKG4pe2kobmV3IEVycm9yKG4pKTt9fSk7fSx0Ll9mbHVzaD1lPT57Z3QuY2xvc2Uoe3N1Y2Nlc3MoKXtlKCk7fX0pO30sdH1mdW5jdGlvbiBkUyh0KXt0Lmhvc3RuYW1lfHwodC5ob3N0bmFtZT1cImxvY2FsaG9zdFwiKSx0LnBhdGh8fCh0LnBhdGg9XCIvXCIpLHQud3NPcHRpb25zfHwodC53c09wdGlvbnM9e30pO31mdW5jdGlvbiBwUyh0LGUpe2xldCByPXQucHJvdG9jb2w9PT1cInd4c1wiP1wid3NzXCI6XCJ3c1wiLGk9YCR7cn06Ly8ke3QuaG9zdG5hbWV9JHt0LnBhdGh9YDtyZXR1cm4gdC5wb3J0JiZ0LnBvcnQhPT04MCYmdC5wb3J0IT09NDQzJiYoaT1gJHtyfTovLyR7dC5ob3N0bmFtZX06JHt0LnBvcnR9JHt0LnBhdGh9YCksdHlwZW9mIHQudHJhbnNmb3JtV3NVcmw9PVwiZnVuY3Rpb25cIiYmKGk9dC50cmFuc2Zvcm1Xc1VybChpLHQsZSkpLGl9ZnVuY3Rpb24gZ1MoKXtndC5vbk9wZW4oKCk9PntMZS5zb2NrZXRSZWFkeSgpO30pLGd0Lm9uTWVzc2FnZSh0PT57bGV0e2RhdGE6ZX09dDtlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZT1tZy5CdWZmZXIuZnJvbShlKTplPW1nLkJ1ZmZlci5mcm9tKGUsXCJ1dGY4XCIpLGZsLnB1c2goZSk7fSksZ3Qub25DbG9zZSgoKT0+e0xlLmVtaXQoXCJjbG9zZVwiKSxMZS5lbmQoKSxMZS5kZXN0cm95KCk7fSksZ3Qub25FcnJvcih0PT57bGV0IGU9bmV3IEVycm9yKHQuZXJyTXNnKTtMZS5kZXN0cm95KGUpO30pO312YXIgeVM9KHQsZSk9PntpZihlLmhvc3RuYW1lPWUuaG9zdG5hbWV8fGUuaG9zdCwhZS5ob3N0bmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGhvc3QuIFNwZWNpZnkgaG9zdCBtYW51YWxseS5cIik7bGV0IHI9ZS5wcm90b2NvbElkPT09XCJNUUlzZHBcIiYmZS5wcm90b2NvbFZlcnNpb249PT0zP1wibXF0dHYzLjFcIjpcIm1xdHRcIjtkUyhlKTtsZXQgaT1wUyhlLHQpO2d0PXd4LmNvbm5lY3RTb2NrZXQoe3VybDppLHByb3RvY29sczpbcl19KSxmbD1oUygpLExlPW5ldyBjUy5CdWZmZXJlZER1cGxleChlLGZsLGd0KSxMZS5fZGVzdHJveT0obyxzKT0+e2d0LmNsb3NlKHtzdWNjZXNzKCl7cyYmcyhvKTt9fSk7fTtsZXQgbj1MZS5kZXN0cm95O3JldHVybiBMZS5kZXN0cm95PShvLHMpPT4oTGUuZGVzdHJveT1uLHNldFRpbWVvdXQoKCk9PntndC5jbG9zZSh7ZmFpbCgpe0xlLl9kZXN0cm95KG8scyk7fX0pO30sMCksTGUpLGdTKCksTGV9O2NsLmRlZmF1bHQ9eVM7fSk7dmFyIGdsPU0ocGw9Pnt2KCk7bSgpO18oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocGwsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGRsPSh5ZSgpLFgoX2UpKSxiUz1EdCgpLHdTPW9zKCksa3QsYXMsYWksdmc9ITE7ZnVuY3Rpb24gX1MoKXtsZXQgdD1uZXcgYlMuVHJhbnNmb3JtO3JldHVybiB0Ll93cml0ZT0oZSxyLGkpPT57a3Quc2VuZFNvY2tldE1lc3NhZ2Uoe2RhdGE6ZS5idWZmZXIsc3VjY2Vzcygpe2koKTt9LGZhaWwoKXtpKG5ldyBFcnJvcik7fX0pO30sdC5fZmx1c2g9ZT0+e2t0LmNsb3NlU29ja2V0KHtzdWNjZXNzKCl7ZSgpO319KTt9LHR9ZnVuY3Rpb24gbVModCl7dC5ob3N0bmFtZXx8KHQuaG9zdG5hbWU9XCJsb2NhbGhvc3RcIiksdC5wYXRofHwodC5wYXRoPVwiL1wiKSx0LndzT3B0aW9uc3x8KHQud3NPcHRpb25zPXt9KTt9ZnVuY3Rpb24gdlModCxlKXtsZXQgcj10LnByb3RvY29sPT09XCJhbGlzXCI/XCJ3c3NcIjpcIndzXCIsaT1gJHtyfTovLyR7dC5ob3N0bmFtZX0ke3QucGF0aH1gO3JldHVybiB0LnBvcnQmJnQucG9ydCE9PTgwJiZ0LnBvcnQhPT00NDMmJihpPWAke3J9Oi8vJHt0Lmhvc3RuYW1lfToke3QucG9ydH0ke3QucGF0aH1gKSx0eXBlb2YgdC50cmFuc2Zvcm1Xc1VybD09XCJmdW5jdGlvblwiJiYoaT10LnRyYW5zZm9ybVdzVXJsKGksdCxlKSksaX1mdW5jdGlvbiBFUygpe3ZnfHwodmc9ITAsa3Qub25Tb2NrZXRPcGVuKCgpPT57YWkuc29ja2V0UmVhZHkoKTt9KSxrdC5vblNvY2tldE1lc3NhZ2UodD0+e2lmKHR5cGVvZiB0LmRhdGE9PVwic3RyaW5nXCIpe2xldCBlPWRsLkJ1ZmZlci5mcm9tKHQuZGF0YSxcImJhc2U2NFwiKTthcy5wdXNoKGUpO31lbHNlIHtsZXQgZT1uZXcgRmlsZVJlYWRlcjtlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCk9PntsZXQgcj1lLnJlc3VsdDtyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/cj1kbC5CdWZmZXIuZnJvbShyKTpyPWRsLkJ1ZmZlci5mcm9tKHIsXCJ1dGY4XCIpLGFzLnB1c2gocik7fSksZS5yZWFkQXNBcnJheUJ1ZmZlcih0LmRhdGEpO319KSxrdC5vblNvY2tldENsb3NlKCgpPT57YWkuZW5kKCksYWkuZGVzdHJveSgpO30pLGt0Lm9uU29ja2V0RXJyb3IodD0+e2FpLmRlc3Ryb3kodCk7fSkpO312YXIgU1M9KHQsZSk9PntpZihlLmhvc3RuYW1lPWUuaG9zdG5hbWV8fGUuaG9zdCwhZS5ob3N0bmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGhvc3QuIFNwZWNpZnkgaG9zdCBtYW51YWxseS5cIik7bGV0IHI9ZS5wcm90b2NvbElkPT09XCJNUUlzZHBcIiYmZS5wcm90b2NvbFZlcnNpb249PT0zP1wibXF0dHYzLjFcIjpcIm1xdHRcIjttUyhlKTtsZXQgaT12UyhlLHQpO3JldHVybiBrdD1lLm15LGt0LmNvbm5lY3RTb2NrZXQoe3VybDppLHByb3RvY29sczpyfSksYXM9X1MoKSxhaT1uZXcgd1MuQnVmZmVyZWREdXBsZXgoZSxhcyxrdCksRVMoKSxhaX07cGwuZGVmYXVsdD1TUzt9KTt2YXIgU2c9TSgoUEQsRWcpPT57digpO20oKTtfKCk7RWcuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIndzIGRvZXMgbm90IHdvcmsgaW4gdGhlIGJyb3dzZXIuIEJyb3dzZXIgY2xpZW50cyBtdXN0IHVzZSB0aGUgbmF0aXZlIFdlYlNvY2tldCBvYmplY3RcIil9O30pO3ZhciBfbD1NKFVpPT57digpO20oKTtfKCk7dmFyIHdsPVVpJiZVaS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFVpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB5bD0oeWUoKSxYKF9lKSksQWc9d2woU2coKSksQVM9d2wob3QoKSksSVM9RHQoKSxJZz13bChQaSgpKSxibD1vcygpLEt0PSgwLCBBUy5kZWZhdWx0KShcIm1xdHRqczp3c1wiKSxUUz1bXCJyZWplY3RVbmF1dGhvcml6ZWRcIixcImNhXCIsXCJjZXJ0XCIsXCJrZXlcIixcInBmeFwiLFwicGFzc3BocmFzZVwiXTtmdW5jdGlvbiBUZyh0LGUpe2xldCByPWAke3QucHJvdG9jb2x9Oi8vJHt0Lmhvc3RuYW1lfToke3QucG9ydH0ke3QucGF0aH1gO3JldHVybiB0eXBlb2YgdC50cmFuc2Zvcm1Xc1VybD09XCJmdW5jdGlvblwiJiYocj10LnRyYW5zZm9ybVdzVXJsKHIsdCxlKSkscn1mdW5jdGlvbiBSZyh0KXtsZXQgZT10O3JldHVybiB0Lmhvc3RuYW1lfHwoZS5ob3N0bmFtZT1cImxvY2FsaG9zdFwiKSx0LnBvcnR8fCh0LnByb3RvY29sPT09XCJ3c3NcIj9lLnBvcnQ9NDQzOmUucG9ydD04MCksdC5wYXRofHwoZS5wYXRoPVwiL1wiKSx0LndzT3B0aW9uc3x8KGUud3NPcHRpb25zPXt9KSwhSWcuZGVmYXVsdCYmdC5wcm90b2NvbD09PVwid3NzXCImJlRTLmZvckVhY2gocj0+e09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQud3NPcHRpb25zLHIpJiYoZS53c09wdGlvbnNbcl09dFtyXSk7fSksZX1mdW5jdGlvbiBSUyh0KXtsZXQgZT1SZyh0KTtpZihlLmhvc3RuYW1lfHwoZS5ob3N0bmFtZT1lLmhvc3QpLCFlLmhvc3RuYW1lKXtpZih0eXBlb2YgZG9jdW1lbnQ+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBob3N0LiBTcGVjaWZ5IGhvc3QgbWFudWFsbHkuXCIpO2xldCByPW5ldyBVUkwoZG9jdW1lbnQuVVJMKTtlLmhvc3RuYW1lPXIuaG9zdG5hbWUsZS5wb3J0fHwoZS5wb3J0PU51bWJlcihyLnBvcnQpKTt9cmV0dXJuIGUub2JqZWN0TW9kZT09PXZvaWQgMCYmKGUub2JqZWN0TW9kZT0hKGUuYmluYXJ5PT09ITB8fGUuYmluYXJ5PT09dm9pZCAwKSksZX1mdW5jdGlvbiBDUyh0LGUscil7S3QoXCJjcmVhdGVXZWJTb2NrZXRcIiksS3QoYHByb3RvY29sOiAke3IucHJvdG9jb2xJZH0gJHtyLnByb3RvY29sVmVyc2lvbn1gKTtsZXQgaT1yLnByb3RvY29sSWQ9PT1cIk1RSXNkcFwiJiZyLnByb3RvY29sVmVyc2lvbj09PTM/XCJtcXR0djMuMVwiOlwibXF0dFwiO0t0KGBjcmVhdGluZyBuZXcgV2Vic29ja2V0IGZvciB1cmw6ICR7ZX0gYW5kIHByb3RvY29sOiAke2l9YCk7bGV0IG47cmV0dXJuIHIuY3JlYXRlV2Vic29ja2V0P249ci5jcmVhdGVXZWJzb2NrZXQoZSxbaV0scik6bj1uZXcgQWcuZGVmYXVsdChlLFtpXSxyLndzT3B0aW9ucyksbn1mdW5jdGlvbiBCUyh0LGUpe2xldCByPWUucHJvdG9jb2xJZD09PVwiTVFJc2RwXCImJmUucHJvdG9jb2xWZXJzaW9uPT09Mz9cIm1xdHR2My4xXCI6XCJtcXR0XCIsaT1UZyhlLHQpLG47cmV0dXJuIGUuY3JlYXRlV2Vic29ja2V0P249ZS5jcmVhdGVXZWJzb2NrZXQoaSxbcl0sZSk6bj1uZXcgV2ViU29ja2V0KGksW3JdKSxuLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLG59dmFyIFBTPSh0LGUpPT57S3QoXCJzdHJlYW1CdWlsZGVyXCIpO2xldCByPVJnKGUpLGk9VGcocix0KSxuPUNTKHQsaSxyKSxvPUFnLmRlZmF1bHQuY3JlYXRlV2ViU29ja2V0U3RyZWFtKG4sci53c09wdGlvbnMpO3JldHVybiBvLnVybD1pLG4ub24oXCJjbG9zZVwiLCgpPT57by5kZXN0cm95KCk7fSksb30sT1M9KHQsZSk9PntLdChcImJyb3dzZXJTdHJlYW1CdWlsZGVyXCIpO2xldCByLG49UlMoZSkuYnJvd3NlckJ1ZmZlclNpemV8fDEwMjQqNTEyLG89ZS5icm93c2VyQnVmZmVyVGltZW91dHx8MWUzLHM9IWUub2JqZWN0TW9kZSxhPUJTKHQsZSksdT1oKGUsRSxTKTtlLm9iamVjdE1vZGV8fCh1Ll93cml0ZXY9Ymwud3JpdGV2LmJpbmQodSkpLHUub24oXCJjbG9zZVwiLCgpPT57YS5jbG9zZSgpO30pO2xldCBjPXR5cGVvZiBhLmFkZEV2ZW50TGlzdGVuZXI8XCJ1XCI7YS5yZWFkeVN0YXRlPT09YS5PUEVOPyhyPXUsci5zb2NrZXQ9YSk6KHI9bmV3IGJsLkJ1ZmZlcmVkRHVwbGV4KGUsdSxhKSxjP2EuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIixkKTphLm9ub3Blbj1kKSxjPyhhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLGcpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIseSksYS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHcpKTooYS5vbmNsb3NlPWcsYS5vbmVycm9yPXksYS5vbm1lc3NhZ2U9dyk7ZnVuY3Rpb24gaChJLEMsUil7bGV0IFU9bmV3IElTLlRyYW5zZm9ybSh7b2JqZWN0TW9kZTpJLm9iamVjdE1vZGV9KTtyZXR1cm4gVS5fd3JpdGU9QyxVLl9mbHVzaD1SLFV9ZnVuY3Rpb24gZCgpe0t0KFwiV2ViU29ja2V0IG9uT3BlblwiKSxyIGluc3RhbmNlb2YgYmwuQnVmZmVyZWREdXBsZXgmJnIuc29ja2V0UmVhZHkoKTt9ZnVuY3Rpb24gZyhJKXtLdChcIldlYlNvY2tldCBvbkNsb3NlXCIsSSksci5lbmQoKSxyLmRlc3Ryb3koKTt9ZnVuY3Rpb24geShJKXtLdChcIldlYlNvY2tldCBvbkVycm9yXCIsSSk7bGV0IEM9bmV3IEVycm9yKFwiV2ViU29ja2V0IGVycm9yXCIpO0MuZXZlbnQ9SSxyLmRlc3Ryb3koQyk7fWZ1bmN0aW9uIHcoSSl7bGV0e2RhdGE6Q309STtDIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/Qz15bC5CdWZmZXIuZnJvbShDKTpDPXlsLkJ1ZmZlci5mcm9tKEMsXCJ1dGY4XCIpLHUucHVzaChDKTt9ZnVuY3Rpb24gRShJLEMsUil7aWYoYS5idWZmZXJlZEFtb3VudD5uKXtzZXRUaW1lb3V0KEUsbyxJLEMsUik7cmV0dXJufXMmJnR5cGVvZiBJPT1cInN0cmluZ1wiJiYoST15bC5CdWZmZXIuZnJvbShJLFwidXRmOFwiKSk7dHJ5e2Euc2VuZChJKTt9Y2F0Y2goVSl7cmV0dXJuIFIoVSl9UigpO31mdW5jdGlvbiBTKEkpe2EuY2xvc2UoKSxJKCk7fXJldHVybiByfTtVaS5kZWZhdWx0PUlnLmRlZmF1bHQ/T1M6UFM7fSk7dmFyIFBnPU0oUnI9Pnt2KCk7bSgpO18oKTt2YXIgbHM9UnImJlJyLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUnIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7UnIuY29ubmVjdEFzeW5jPXZvaWQgMDt2YXIga1M9bHMob3QoKSkseFM9bHMoKHBnKCksWChkZykpKSxNUz1scyhucygpKSxMUz1scyhQaSgpKSxDZz0oMCwga1MuZGVmYXVsdCkoXCJtcXR0anNcIiksUmU9e307TFMuZGVmYXVsdD8oUmUud3g9aGwoKS5kZWZhdWx0LFJlLnd4cz1obCgpLmRlZmF1bHQsUmUuYWxpPWdsKCkuZGVmYXVsdCxSZS5hbGlzPWdsKCkuZGVmYXVsdCk6KFJlLm1xdHQ9b2woKS5kZWZhdWx0LFJlLnRjcD1vbCgpLmRlZmF1bHQsUmUuc3NsPWxsKCkuZGVmYXVsdCxSZS50bHM9UmUuc3NsLFJlLm1xdHRzPWxsKCkuZGVmYXVsdCk7UmUud3M9X2woKS5kZWZhdWx0O1JlLndzcz1fbCgpLmRlZmF1bHQ7ZnVuY3Rpb24gVVModCl7bGV0IGU7dC5hdXRoJiYoZT10LmF1dGgubWF0Y2goL14oLispOiguKykkLyksZT8odC51c2VybmFtZT1lWzFdLHQucGFzc3dvcmQ9ZVsyXSk6dC51c2VybmFtZT10LmF1dGgpO31mdW5jdGlvbiBCZyh0LGUpe2lmKENnKFwiY29ubmVjdGluZyB0byBhbiBNUVRUIGJyb2tlci4uLlwiKSx0eXBlb2YgdD09XCJvYmplY3RcIiYmIWUmJihlPXQsdD1cIlwiKSxlPWV8fHt9LHQmJnR5cGVvZiB0PT1cInN0cmluZ1wiKXtsZXQgbj14Uy5kZWZhdWx0LnBhcnNlKHQsITApO2lmKG4ucG9ydCE9bnVsbCYmKG4ucG9ydD1OdW1iZXIobi5wb3J0KSksZT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbiksZSksZS5wcm90b2NvbD09PW51bGwpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwcm90b2NvbFwiKTtlLnByb3RvY29sPWUucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpO31pZihVUyhlKSxlLnF1ZXJ5JiZ0eXBlb2YgZS5xdWVyeS5jbGllbnRJZD09XCJzdHJpbmdcIiYmKGUuY2xpZW50SWQ9ZS5xdWVyeS5jbGllbnRJZCksZS5jZXJ0JiZlLmtleSlpZihlLnByb3RvY29sKXtpZihbXCJtcXR0c1wiLFwid3NzXCIsXCJ3eHNcIixcImFsaXNcIl0uaW5kZXhPZihlLnByb3RvY29sKT09PS0xKXN3aXRjaChlLnByb3RvY29sKXtjYXNlXCJtcXR0XCI6ZS5wcm90b2NvbD1cIm1xdHRzXCI7YnJlYWs7Y2FzZVwid3NcIjplLnByb3RvY29sPVwid3NzXCI7YnJlYWs7Y2FzZVwid3hcIjplLnByb3RvY29sPVwid3hzXCI7YnJlYWs7Y2FzZVwiYWxpXCI6ZS5wcm90b2NvbD1cImFsaXNcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBwcm90b2NvbCBmb3Igc2VjdXJlIGNvbm5lY3Rpb246IFwiJHtlLnByb3RvY29sfVwiIWApfX1lbHNlIHRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgc2VjdXJlIHByb3RvY29sIGtleVwiKTtpZighUmVbZS5wcm90b2NvbF0pe2xldCBuPVtcIm1xdHRzXCIsXCJ3c3NcIl0uaW5kZXhPZihlLnByb3RvY29sKSE9PS0xO2UucHJvdG9jb2w9W1wibXF0dFwiLFwibXF0dHNcIixcIndzXCIsXCJ3c3NcIixcInd4XCIsXCJ3eHNcIixcImFsaVwiLFwiYWxpc1wiXS5maWx0ZXIoKG8scyk9Pm4mJnMlMj09PTA/ITE6dHlwZW9mIFJlW29dPT1cImZ1bmN0aW9uXCIpWzBdO31pZihlLmNsZWFuPT09ITEmJiFlLmNsaWVudElkKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY2xpZW50SWQgZm9yIHVuY2xlYW4gY2xpZW50c1wiKTtlLnByb3RvY29sJiYoZS5kZWZhdWx0UHJvdG9jb2w9ZS5wcm90b2NvbCk7ZnVuY3Rpb24gcihuKXtyZXR1cm4gZS5zZXJ2ZXJzJiYoKCFuLl9yZWNvbm5lY3RDb3VudHx8bi5fcmVjb25uZWN0Q291bnQ9PT1lLnNlcnZlcnMubGVuZ3RoKSYmKG4uX3JlY29ubmVjdENvdW50PTApLGUuaG9zdD1lLnNlcnZlcnNbbi5fcmVjb25uZWN0Q291bnRdLmhvc3QsZS5wb3J0PWUuc2VydmVyc1tuLl9yZWNvbm5lY3RDb3VudF0ucG9ydCxlLnByb3RvY29sPWUuc2VydmVyc1tuLl9yZWNvbm5lY3RDb3VudF0ucHJvdG9jb2w/ZS5zZXJ2ZXJzW24uX3JlY29ubmVjdENvdW50XS5wcm90b2NvbDplLmRlZmF1bHRQcm90b2NvbCxlLmhvc3RuYW1lPWUuaG9zdCxuLl9yZWNvbm5lY3RDb3VudCsrKSxDZyhcImNhbGxpbmcgc3RyZWFtYnVpbGRlciBmb3JcIixlLnByb3RvY29sKSxSZVtlLnByb3RvY29sXShuLGUpfWxldCBpPW5ldyBNUy5kZWZhdWx0KHIsZSk7cmV0dXJuIGkub24oXCJlcnJvclwiLCgpPT57fSksaX1mdW5jdGlvbiBOUyh0LGUscj0hMCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLG4pPT57bGV0IG89QmcodCxlKSxzPXtjb25uZWN0OnU9PnthKCksaShvKTt9LGVuZDooKT0+e2EoKSxpKG8pO30sZXJyb3I6dT0+e2EoKSxvLmVuZCgpLG4odSk7fX07cj09PSExJiYocy5jbG9zZT0oKT0+e3MuZXJyb3IobmV3IEVycm9yKFwiQ291bGRuJ3QgY29ubmVjdCB0byBzZXJ2ZXJcIikpO30pO2Z1bmN0aW9uIGEoKXtPYmplY3Qua2V5cyhzKS5mb3JFYWNoKHU9PntvLm9mZih1LHNbdV0pO30pO31PYmplY3Qua2V5cyhzKS5mb3JFYWNoKHU9PntvLm9uKHUsc1t1XSk7fSk7fSl9UnIuY29ubmVjdEFzeW5jPU5TO1JyLmRlZmF1bHQ9Qmc7fSk7dmFyIG1sPU0oRz0+e3YoKTttKCk7XygpO3ZhciBPZz1HJiZHLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9cik7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpOyghbnx8KFwiZ2V0XCJpbiBuPyFlLl9fZXNNb2R1bGU6bi53cml0YWJsZXx8bi5jb25maWd1cmFibGUpKSYmKG49e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbcl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxuKTt9OmZ1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpLHRbaV09ZVtyXTt9KSxxUz1HJiZHLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSk7fTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lO30pLERTPUcmJkcuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIHIgaW4gdClyIT09XCJkZWZhdWx0XCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZPZyhlLHQscik7cmV0dXJuIHFTKGUsdCksZX0sa2c9RyYmRy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIHQpciE9PVwiZGVmYXVsdFwiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJk9nKGUsdCxyKTt9LE5pPUcmJkcuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShHLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO0cuUmVhc29uQ29kZXM9Ry5QaW5nVGltZXI9Ry5VbmlxdWVNZXNzYWdlSWRQcm92aWRlcj1HLkRlZmF1bHRNZXNzYWdlSWRQcm92aWRlcj1HLlN0b3JlPUcuTXF0dENsaWVudD1HLmNvbm5lY3RBc3luYz1HLmNvbm5lY3Q9Ry5DbGllbnQ9dm9pZCAwO3ZhciB4Zz1OaShucygpKTtHLk1xdHRDbGllbnQ9eGcuZGVmYXVsdDt2YXIgalM9TmkoWW8oKSk7Ry5EZWZhdWx0TWVzc2FnZUlkUHJvdmlkZXI9alMuZGVmYXVsdDt2YXIgRlM9TmkoJHAoKSk7Ry5VbmlxdWVNZXNzYWdlSWRQcm92aWRlcj1GUy5kZWZhdWx0O3ZhciBXUz1OaShabygpKTtHLlN0b3JlPVdTLmRlZmF1bHQ7dmFyIE1nPURTKFBnKCkpO0cuY29ubmVjdD1NZy5kZWZhdWx0O09iamVjdC5kZWZpbmVQcm9wZXJ0eShHLFwiY29ubmVjdEFzeW5jXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1nLmNvbm5lY3RBc3luY319KTt2YXIgJFM9TmkoRGEoKSk7Ry5QaW5nVGltZXI9JFMuZGVmYXVsdDtHLkNsaWVudD14Zy5kZWZhdWx0O2tnKG5zKCksRyk7a2coSnIoKSxHKTt2YXIgSFM9QWkoKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRyxcIlJlYXNvbkNvZGVzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhTLlJlYXNvbkNvZGVzfX0pO30pO3ZhciBRUz1NKFdlPT57digpO20oKTtfKCk7dmFyIExnPVdlJiZXZS5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpO3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTsoIW58fChcImdldFwiaW4gbj8hZS5fX2VzTW9kdWxlOm4ud3JpdGFibGV8fG4uY29uZmlndXJhYmxlKSkmJihuPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3JdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksbik7fTpmdW5jdGlvbih0LGUscixpKXtpPT09dm9pZCAwJiYoaT1yKSx0W2ldPWVbcl07fSksVlM9V2UmJldlLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSk7fTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lO30pLHpTPVdlJiZXZS5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZih0IT1udWxsKWZvcih2YXIgciBpbiB0KXIhPT1cImRlZmF1bHRcIiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJkxnKGUsdCxyKTtyZXR1cm4gVlMoZSx0KSxlfSxLUz1XZSYmV2UuX19leHBvcnRTdGFyfHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiB0KXIhPT1cImRlZmF1bHRcIiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZMZyhlLHQscik7fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoV2UsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEdTPXpTKG1sKCkpO1dlLmRlZmF1bHQ9R1M7S1MobWwoKSxXZSk7fSk7dmFyIG1xdHQgPSBRUygpO1xuLyohIEJ1bmRsZWQgbGljZW5zZSBpbmZvcm1hdGlvbjpcblxuQGpzcG0vY29yZS9ub2RlbGlicy9icm93c2VyL2J1ZmZlci5qczpcbiAgKCohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKilcbiovXG5cbmNsYXNzIENsb3VkSW50ZXJvcEFQSUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvZGU7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSA9ICdBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZCcsIGNvZGUgPSAnVU5FWFBFQ1RFRF9FUlJPUicsIGNhdXNlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHsgY2F1c2U6IGNhdXNlIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuY2xhc3MgQXV0aG9yaXphdGlvbkVycm9yIGV4dGVuZHMgQ2xvdWRJbnRlcm9wQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnTm90IGF1dGhvcml6ZWQnLCBjb2RlID0gJ0VSUl9VTkFVVEhPUklaRUQnKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIGNvZGUsIHVuZGVmaW5lZCk7XG4gICAgfVxufVxuXG5jbGFzcyBFdmVudENvbnRyb2xsZXIge1xuICAgICNldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuI2V2ZW50TGlzdGVuZXJzLmdldCh0eXBlKSB8fCBbXTtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB0aGlzLiNldmVudExpc3RlbmVycy5zZXQodHlwZSwgbGlzdGVuZXJzKTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLiNldmVudExpc3RlbmVycy5nZXQodHlwZSkgfHwgW107XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNldmVudExpc3RlbmVycy5zZXQodHlwZSwgbGlzdGVuZXJzKTtcbiAgICB9XG4gICAgb25jZSh0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTIGRvZXNuJ3QgbGlrZSB0aGUgc3ByZWFkIG9wZXJhdG9yIGhlcmVcbiAgICAgICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICBlbWl0RXZlbnQodHlwZSwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLiNldmVudExpc3RlbmVycy5nZXQodHlwZSkgfHwgW107XG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoLi4uYXJncykpO1xuICAgIH1cbn1cblxuY29uc3QgaXNFcnJvckludGVudFJlc3VsdCA9IChyZXN1bHQpID0+ICdlcnJvcicgaW4gcmVzdWx0O1xuXG5jb25zdCBBUFBfSURfREVMSU0gPSAnOjonO1xuY29uc3QgZ2V0UmVxdWVzdEhlYWRlcnMgPSAoY29ubmVjdGlvblBhcmFtZXRlcnMpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgaWYgKGNvbm5lY3Rpb25QYXJhbWV0ZXJzLmF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gJ2p3dCcgJiYgY29ubmVjdGlvblBhcmFtZXRlcnMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IHRva2VuUmVzdWx0ID0gY29ubmVjdGlvblBhcmFtZXRlcnMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzLmp3dFJlcXVlc3RDYWxsYmFjaygpO1xuICAgICAgICBpZiAoIXRva2VuUmVzdWx0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2p3dFJlcXVlc3RDYWxsYmFjayBtdXN0IHJldHVybiBhIHRva2VuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaGVhZGVyc1sneC1vZi1hdXRoLWlkJ10gPSBjb25uZWN0aW9uUGFyYW1ldGVycy5qd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMuYXV0aGVudGljYXRpb25JZDtcbiAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID1cbiAgICAgICAgICAgIHR5cGVvZiB0b2tlblJlc3VsdCA9PT0gJ3N0cmluZycgPyBgQmVhcmVyICR7dG9rZW5SZXN1bHR9YCA6IGBCZWFyZXIgJHtCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh0b2tlblJlc3VsdCkpLnRvU3RyaW5nKCdiYXNlNjQnKX1gO1xuICAgIH1cbiAgICBpZiAoY29ubmVjdGlvblBhcmFtZXRlcnMuYXV0aGVudGljYXRpb25UeXBlID09PSAnYmFzaWMnICYmIGNvbm5lY3Rpb25QYXJhbWV0ZXJzLmJhc2ljQXV0aGVudGljYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSBjb25uZWN0aW9uUGFyYW1ldGVycy5iYXNpY0F1dGhlbnRpY2F0aW9uUGFyYW1ldGVycztcbiAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJhc2ljICR7QnVmZmVyLmZyb20oYCR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9YCkudG9TdHJpbmcoJ2Jhc2U2NCcpfWA7XG4gICAgfVxuICAgIHJldHVybiBoZWFkZXJzO1xufTtcbi8qKlxuICogRW5jb2RlcyBhbGwgYXBwIGludGVudHMgaW4gdGhlIGZvcm1hdDogYGFwcElkOjpzb3VyY2VJZDo6c2Vzc2lvbklkYCxcbiAqIHdoZXJlIHNvdXJjZUlkIGFuZCBzZXNzaW9uSWQgYXJlIFVSSSBlbmNvZGVkXG4gKiBAcGFyYW0gYXBwSW50ZW50c1xuICogQHBhcmFtIHNvdXJjZVxuICogQHJldHVybnNcbiAqL1xuY29uc3QgZW5jb2RlQXBwSW50ZW50cyA9IChhcHBJbnRlbnRzLCBzb3VyY2UpID0+IGFwcEludGVudHMubWFwKChpbnRlbnQpID0+ICh7XG4gICAgLi4uaW50ZW50LFxuICAgIGFwcHM6IGludGVudC5hcHBzLm1hcCgoYXBwKSA9PiAoeyAuLi5hcHAsIGFwcElkOiBlbmNvZGVBcHBJZChhcHAuYXBwSWQsIHNvdXJjZSkgfSkpLFxufSkpO1xuLyoqXG4gKiBEZWNvZGVzIGFsbCBhcHAgaW50ZW50cyBieSBVUkkgZGVjb2RpbmcgdGhlIHBhcnRzIHByZXZpb3VzbHkgZW5jb2RlZCBieSBgZW5jb2RlQXBwSW50ZW50c2BcbiAqIEBwYXJhbSBhcHBJbnRlbnRzXG4gKiBAcmV0dXJuc1xuICovXG5jb25zdCBkZWNvZGVBcHBJbnRlbnRzID0gKGFwcEludGVudHMpID0+IGFwcEludGVudHMubWFwKChpbnRlbnQpID0+ICh7XG4gICAgLi4uaW50ZW50LFxuICAgIGFwcHM6IGludGVudC5hcHBzLm1hcCgoYXBwKSA9PiAoeyAuLi5hcHAsIGFwcElkOiBkZWNvZGVBcHBJZChhcHAuYXBwSWQpIH0pKSxcbn0pKTtcbmNvbnN0IGVuY29kZUFwcElkID0gKGFwcElkU3RyaW5nLCB7IHNlc3Npb25JZCwgc291cmNlSWQgfSkgPT4ge1xuICAgIGNvbnN0IGlkID0gZW5jb2RlVVJJQ29tcG9uZW50KGFwcElkU3RyaW5nKTtcbiAgICBjb25zdCBzSWQgPSBlbmNvZGVVUklDb21wb25lbnQoc291cmNlSWQpO1xuICAgIHJldHVybiBgJHtpZH0ke0FQUF9JRF9ERUxJTX0ke3NJZH0ke0FQUF9JRF9ERUxJTX0ke3Nlc3Npb25JZH1gO1xufTtcbmNvbnN0IGRlY29kZUFwcElkID0gKGFwcElkKSA9PiB7XG4gICAgY29uc3QgW2VuY29kZWRBcHBJZCwgZW5jb2RlZFNvdXJjZUlkLCBzZXNzaW9uSWRdID0gYXBwSWQuc3BsaXQoQVBQX0lEX0RFTElNKTtcbiAgICBjb25zdCBpZCA9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkQXBwSWQpO1xuICAgIGNvbnN0IHNvdXJjZUlkID0gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZWRTb3VyY2VJZCk7XG4gICAgcmV0dXJuIGAke2lkfSR7QVBQX0lEX0RFTElNfSR7c291cmNlSWR9JHtBUFBfSURfREVMSU19JHtzZXNzaW9uSWR9YDtcbn07XG4vKipcbiAqIERlY29kZXMgdGhlIEFwcElkZW50aWZpZXIgdG8gZXh0cmFjdCB0aGUgYXBwSWQsIHNvdXJjZUlkLCBhbmQgc2Vzc2lvbklkLlxuICogQHJldHVybnMgYW4gb2JqZWN0IHdpdGg6XG4gKiAtIGFwcElkOiBUaGUgYXBwSWQsIG9yIHRoZSBvcmlnaW5hbCBhcHBJZCBpZiB1bmFibGUgdG8gcGFyc2UuXG4gKiAtIHNvdXJjZUlkOiBUaGUgc291cmNlSWQsIG9yIGFuICcnIGlmIHVuYWJsZSB0byBwYXJzZS5cbiAqIC0gc2Vzc2lvbklkOiBUaGUgc2Vzc2lvbklkLCBvciBhbiAnJyBpZiB1bmFibGUgdG8gcGFyc2UuXG4gKi9cbmNvbnN0IHBhcnNlQ2xvdWRBcHBJZCA9IChhcHBJZCA9ICcnKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxBcHBTdHJpbmcgPSB0eXBlb2YgYXBwSWQgPT09ICdzdHJpbmcnID8gYXBwSWQgOiAoYXBwSWQuYXBwSWQgPz8gJycpO1xuICAgIGNvbnN0IHBhcnRzID0gb3JpZ2luYWxBcHBTdHJpbmcuc3BsaXQoQVBQX0lEX0RFTElNKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcHBJZDogcGFydHNbMF0/LnRyaW0oKSA/PyBvcmlnaW5hbEFwcFN0cmluZyxcbiAgICAgICAgc291cmNlSWQ6IHBhcnRzWzFdPy50cmltKCkgPz8gJycsXG4gICAgICAgIHNlc3Npb25JZDogcGFydHNbMl0/LnRyaW0oKSA/PyAnJyxcbiAgICB9O1xufTtcbmNvbnN0IGdldFNvdXJjZUZyb21TZXNzaW9uID0gKHNlc3Npb25EZXRhaWxzKSA9PiAoe1xuICAgIHNlc3Npb25JZDogc2Vzc2lvbkRldGFpbHMuc2Vzc2lvbklkLFxuICAgIHNvdXJjZUlkOiBzZXNzaW9uRGV0YWlscy5zb3VyY2VJZCxcbiAgICB1c2VySWQ6IHNlc3Npb25EZXRhaWxzLnN1YixcbiAgICBvcmdJZDogc2Vzc2lvbkRldGFpbHMub3JnSWQsXG4gICAgcGxhdGZvcm1JZDogc2Vzc2lvbkRldGFpbHMucGxhdGZvcm1JZCxcbn0pO1xuXG5jb25zdCBNSU5fVElNRU9VVCA9IDUwMDtcbmNvbnN0IERFRkFVTFRfVElNRU9VVCQxID0gMzAwMDtcbmNvbnN0IG5ld0Rpc2NvdmVyeSA9ICgpID0+ICh7XG4gICAgaWQ6IHVuZGVmaW5lZCxcbiAgICBwZW5kaW5nSW50ZW50RGV0YWlsc0V2ZW50czogW10sXG4gICAgc2Vzc2lvbkNvdW50OiAwLFxuICAgIHJlc3BvbnNlQ291bnQ6IDAsXG4gICAgc3RhdGU6ICdub3Qtc3RhcnRlZCcsXG59KTtcbmNsYXNzIEludGVudENvbnRyb2xsZXIge1xuICAgICN1cmw7XG4gICAgI21xdHRDbGllbnQ7XG4gICAgI3Nlc3Npb25EZXRhaWxzO1xuICAgICNjb25uZWN0aW9uUGFyYW1zO1xuICAgICNldmVudHM7XG4gICAgI2xvZ2dlcjtcbiAgICAjZGlzY292ZXJ5ID0gbmV3RGlzY292ZXJ5KCk7XG4gICAgI2Rpc2NvdmVyeVRpbWVvdXQ7XG4gICAgY29uc3RydWN0b3IodXJsLCBtcXR0Q2xpZW50LCBzZXNzaW9uRGV0YWlscywgY29ubmVjdGlvblBhcmFtZXRlcnMsIGV2ZW50cywgbG9nZ2VyKSB7XG4gICAgICAgIHRoaXMuI3VybCA9IHVybDtcbiAgICAgICAgdGhpcy4jbXF0dENsaWVudCA9IG1xdHRDbGllbnQ7XG4gICAgICAgIHRoaXMuI3Nlc3Npb25EZXRhaWxzID0gc2Vzc2lvbkRldGFpbHM7XG4gICAgICAgIHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMgPSBjb25uZWN0aW9uUGFyYW1ldGVycztcbiAgICAgICAgdGhpcy4jZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLiNsb2dnZXIgPSBsb2dnZXI7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0SW50ZW50RGlzY292ZXJ5KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Rpc2NvdmVyeS5zdGF0ZSA9PT0gJ2luLXByb2dyZXNzJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlbnQgZGlzY292ZXJ5IGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRpbWVvdXQgPSBERUZBVUxUX1RJTUVPVVQkMSwgZmluZE9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gICAgICAgIC8vIGNsYW1wIG1pbiB2YWx1ZSB0byA1MDBtc1xuICAgICAgICBjb25zdCBjbGFtcGVkVGltZW91dCA9IE1hdGgubWF4KHRpbWVvdXQsIE1JTl9USU1FT1VUKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLiN1cmx9L2FwaS9pbnRlbnRzLyR7dGhpcy4jc2Vzc2lvbkRldGFpbHMuc2Vzc2lvbklkfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBnZXRSZXF1ZXN0SGVhZGVycyh0aGlzLiNjb25uZWN0aW9uUGFyYW1zKSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGZpbmRPcHRpb25zIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0UmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RhcnRSZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IHR5cGUgdGhpcyByZXNwb25zZT9cbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCBzdGFydFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIHRoaXMuI2Rpc2NvdmVyeS5pZCA9IGpzb24uZGlzY292ZXJ5SWQ7XG4gICAgICAgICAgICB0aGlzLiNkaXNjb3Zlcnkuc2Vzc2lvbkNvdW50ID0ganNvbi5zZXNzaW9uQ291bnQ7XG4gICAgICAgICAgICB0aGlzLiNkaXNjb3Zlcnkuc3RhdGUgPSAnaW4tcHJvZ3Jlc3MnO1xuICAgICAgICAgICAgLy8gTGlzdGVuIG91dCBmb3IgZGlzY292ZXJ5IHJlc3VsdHMgZGlyZWN0bHkgc2VudCB0byB1c1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jbXF0dENsaWVudC5zdWJzY3JpYmVBc3luYyhgJHt0aGlzLiNzZXNzaW9uRGV0YWlscy5zZXNzaW9uUm9vdFRvcGljfS9jb21tYW5kcy8ke3RoaXMuI2Rpc2NvdmVyeS5pZH1gKTtcbiAgICAgICAgICAgIHRoaXMuI2Rpc2NvdmVyeVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuI2VuZEludGVudERpc2NvdmVyeSgpLCBjbGFtcGVkVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBhbnkgb25nb2luZyBkaXNjb3Zlcmllc1xuICAgICAgICAgICAgdGhpcy4jZW5kSW50ZW50RGlzY292ZXJ5KCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRJbnRlcm9wQVBJRXJyb3IoJ0Vycm9yIHN0YXJ0aW5nIGludGVudCBkaXNjb3ZlcnknLCAnRVJSX1NUQVJUSU5HX0lOVEVOVF9ESVNDT1ZFUlknLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgI2VuZEludGVudERpc2NvdmVyeSgpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Rpc2NvdmVyeS5zdGF0ZSAhPT0gJ2luLXByb2dyZXNzJykge1xuICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGRlYnVnIGxvZ3NcbiAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignZGVidWcnLCAnSW50ZW50IGRpc2NvdmVyeSBub3QgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jZGlzY292ZXJ5VGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuI2Rpc2NvdmVyeVRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy4jZGlzY292ZXJ5VGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNkaXNjb3Zlcnkuc3RhdGUgPSAnZW5kZWQnO1xuICAgICAgICAvLyBlbWl0IG91ciBhZ2dyZWdhdGVkIGV2ZW50c1xuICAgICAgICB0aGlzLiNldmVudHMuZW1pdEV2ZW50KCdhZ2dyZWdhdGUtaW50ZW50LWRldGFpbHMnLCB7IHJlc3BvbnNlczogdGhpcy4jZGlzY292ZXJ5LnBlbmRpbmdJbnRlbnREZXRhaWxzRXZlbnRzIH0pO1xuICAgICAgICAvLyBncmFjZWZ1bGx5IGVuZCBkaXNjb3ZlcnlcbiAgICAgICAgYXdhaXQgdGhpcy4jbXF0dENsaWVudC51bnN1YnNjcmliZUFzeW5jKGAke3RoaXMuI3Nlc3Npb25EZXRhaWxzLnNlc3Npb25Sb290VG9waWN9L2NvbW1hbmRzLyR7dGhpcy4jZGlzY292ZXJ5LmlkfWApLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignd2FybicsIGBFcnJvciBlbmRpbmcgaW50ZW50IGRpc2NvdmVyeTogY291bGQgbm90IHVuc3Vic2NyaWJlIGZyb20gZGlzY292ZXJ5IGlkICR7dGhpcy4jZGlzY292ZXJ5LmlkfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgZmV0Y2goYCR7dGhpcy4jdXJsfS9hcGkvaW50ZW50cy8ke3RoaXMuI3Nlc3Npb25EZXRhaWxzLnNlc3Npb25JZH0vJHt0aGlzLiNkaXNjb3ZlcnkuaWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGdldFJlcXVlc3RIZWFkZXJzKHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGRlbGV0ZVJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRlbGV0ZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBlbmRpbmcgaW50ZW50IGRpc2NvdmVyeTogJHtkZWxldGVSZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCdkZWJ1ZycsICdJbnRlbnQgZGlzY292ZXJ5IGVuZGVkJyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ3dhcm4nLCBgRXJyb3IgZW5kaW5nIGludGVudCBkaXNjb3Zlcnk6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjbGVhbiB1cFxuICAgICAgICB0aGlzLiNkaXNjb3ZlcnkgPSBuZXdEaXNjb3ZlcnkoKTtcbiAgICB9XG4gICAgYXN5bmMgcmFpc2VJbnRlbnQoeyByYWlzZU9wdGlvbnMsIGFwcElkIH0pIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0U2Vzc2lvbklkID0gcGFyc2VDbG91ZEFwcElkKGFwcElkKS5zZXNzaW9uSWQ7XG4gICAgICAgIGlmICghdGFyZ2V0U2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgd2UgYWRkIG1vcmUgaW5mbyBoZXJlIGFib3V0IHRoZSBmb3JtYXQ/XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRJbnRlcm9wQVBJRXJyb3IoYEludmFsaWQgQXBwSWQgc3BlY2lmaWVkLCBtdXN0IGJlIGVuY29kZWQgYXMgYSBjbG91ZC1zZXNzaW9uIGFwcCBpZGAsICdFUlJfSU5WQUxJRF9UQVJHRVRfU0VTU0lPTl9JRCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvc3RSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuI3VybH0vYXBpL2ludGVudHMvJHt0aGlzLiNzZXNzaW9uRGV0YWlscy5zZXNzaW9uSWR9L3Nlc3Npb25zLyR7dGFyZ2V0U2Vzc2lvbklkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogZ2V0UmVxdWVzdEhlYWRlcnModGhpcy4jY29ubmVjdGlvblBhcmFtcyksXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHJhaXNlT3B0aW9ucyB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcG9zdFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBtYXliZSBhZGQgYSBkZWJ1ZyBmbGFnIHRvIHByaW50IHRoZXNlIHdoZW4gZGV2J2luZz9cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBFcnJvciByYWlzaW5nIGludGVudDogJHthd2FpdCBwb3N0UmVzcG9uc2UudGV4dCgpfWApO1xuICAgICAgICAgICAgdGhyb3cgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKGBFcnJvciByYWlzaW5nIGludGVudGAsICdFUlJfUkFJU0lOR19JTlRFTlQnLCBuZXcgRXJyb3IocG9zdFJlc3BvbnNlLnN0YXR1c1RleHQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZXBvcnRBcHBJbnRlbnRzKGRpc2NvdmVyeUlkLCBpbnRlbnRzKSB7XG4gICAgICAgIGludGVudHMgPSBlbmNvZGVBcHBJbnRlbnRzKGludGVudHMsIGdldFNvdXJjZUZyb21TZXNzaW9uKHRoaXMuI3Nlc3Npb25EZXRhaWxzKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXBvcnRSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuI3VybH0vYXBpL2ludGVudHMvJHt0aGlzLiNzZXNzaW9uRGV0YWlscy5zZXNzaW9uSWR9LyR7ZGlzY292ZXJ5SWR9YCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGdldFJlcXVlc3RIZWFkZXJzKHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMpLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaW50ZW50cyB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlcG9ydFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRJbnRlcm9wQVBJRXJyb3IoJ0Vycm9yIHJlcG9ydGluZyBpbnRlbnRzJywgJ0VSUl9SRVBPUlRJTkdfSU5URU5UUycsIG5ldyBFcnJvcihyZXBvcnRSZXNwb25zZS5zdGF0dXNUZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ3dhcm4nLCBgRXJyb3IgcmVwb3J0aW5nIGludGVudHMgZm9yIGRpc2NvdmVyeSBJRCAke2Rpc2NvdmVyeUlkfTogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRJbnRlbnRSZXN1bHQoaW5pdGlhdGluZ1Nlc3Npb25JZCwgcmVzdWx0KSB7XG4gICAgICAgIGlmICghaXNFcnJvckludGVudFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgICAgICAvLyBjbG91ZC1lbmNvZGUgdGhlIHNvdXJjZSBhcHAgaWRcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGdldFNvdXJjZUZyb21TZXNzaW9uKHRoaXMuI3Nlc3Npb25EZXRhaWxzKTtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVBcHBJZCh0eXBlb2YgcmVzdWx0LnNvdXJjZSA9PT0gJ3N0cmluZycgPyByZXN1bHQuc291cmNlIDogcmVzdWx0LnNvdXJjZS5hcHBJZCwgc291cmNlKTtcbiAgICAgICAgICAgIHJlc3VsdC5zb3VyY2UgPSB0eXBlb2YgcmVzdWx0LnNvdXJjZSA9PT0gJ3N0cmluZycgPyBlbmNvZGVkIDogeyAuLi5yZXN1bHQuc291cmNlLCBhcHBJZDogZW5jb2RlZCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBnZXRTb3VyY2VGcm9tU2Vzc2lvbih0aGlzLiNzZXNzaW9uRGV0YWlscyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy4jdXJsfS9hcGkvaW50ZW50cy8ke2luaXRpYXRpbmdTZXNzaW9uSWR9L3Jlc3VsdC8ke3Nlc3Npb25JZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGdldFJlcXVlc3RIZWFkZXJzKHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMpLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByZXN1bHQgfSksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3VsdFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRJbnRlcm9wQVBJRXJyb3IoJ0Vycm9yIHNlbmRpbmcgaW50ZW50IHJlc3VsdCcsICdFUlJfU0VORElOR19JTlRFTlRfUkVTVUxUJywgbmV3IEVycm9yKHJlc3VsdFJlc3BvbnNlLnN0YXR1c1RleHQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDb21tYW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlICdyZXBvcnQtaW50ZW50cyc6IHtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5pbml0aWF0aW5nU2Vzc2lvbklkID09PSB0aGlzLiNzZXNzaW9uRGV0YWlscz8uc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBpZiB0aGlzIG9yaWdpbmF0ZWQgZnJvbSB1c1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgY29tbWFuZDogXywgLi4uZXZlbnQgfSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy4jZXZlbnRzLmVtaXRFdmVudCgncmVwb3J0LWludGVudHMnLCBldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdpbnRlbnQtZGV0YWlscyc6IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXZSBhZ2dyZWdhdGUgaW50ZW50IGRldGFpbHMgY29tbWFuZHMgZnJvbSBhbGwgY29ubmVjdGVkIHNlc3Npb25zIG9uIHRoZSBzZXJ2ZXIgc2lkZVxuICAgICAgICAgICAgICAgICAqIHRvIGVuc3VyZSB1cHN0cmVhbSBjbGllbnRzIGRvbid0IGhhdmUgdG8gZG8gdGhpcy4gQWxzbyBnaXZlbiBAb3BlbmZpbi9jbG91ZC1pbnRlcm9wXG4gICAgICAgICAgICAgICAgICogZXhwb3NlcyBGREMzIGNvbXBsaWFudCBBUElzLCB0aGVyZSBpcyBubyBjb25jZXB0IG9mIHN0cmVhbWluZyBhdmFpbGFibGUsIGhlbmNlIHdlXG4gICAgICAgICAgICAgICAgICogYWdncmVnYXRlIHRoZSByZXNwb25zZXMgaGVyZSBhbmQgc2VuZCB0aGVtIGluIGEgc3luY2hyb25vdXMgbWFubmVyLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY29tbWFuZDogXywgLi4uZXZlbnQgfSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgLy8gRGVjb2RlIGludGVudHMgYmVmb3JlIGVtaXR0aW5nIHRvIGNsaWVudFxuICAgICAgICAgICAgICAgIGV2ZW50LmludGVudHMgPSBkZWNvZGVBcHBJbnRlbnRzKGV2ZW50LmludGVudHMpO1xuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBlbWl0IGluZGl2aWR1YWwgaW50ZW50LWRldGFpbHMgZXZlbnRzIGluIGFkZGl0aW9uIHRvIGFnZ3JlZ2F0ZS1pbnRlbnQtZGV0YWlsc1xuICAgICAgICAgICAgICAgIC8vIGZvciBmbGV4aWJpbGl0eSBhZnRlciBpbnRlbnQgZGlzY292ZXJ5IGhhcyBlbmRlZCwgdGhpcyBjYW4gYmUgdXNlZnVsIGZvciBsYXRlLWpvaW5pbmdcbiAgICAgICAgICAgICAgICAvLyBjbGllbnRzIG5lYXJpbmcgdGhlIHRpbWVvdXRcbiAgICAgICAgICAgICAgICB0aGlzLiNldmVudHMuZW1pdEV2ZW50KCdpbnRlbnQtZGV0YWlscycsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5kaXNjb3ZlcnlJZCAhPT0gdGhpcy4jZGlzY292ZXJ5LmlkIHx8IHRoaXMuI2Rpc2NvdmVyeS5zdGF0ZSAhPT0gJ2luLXByb2dyZXNzJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaWYgaXRzIGFueSBvdGhlciBkaXNjb3ZlcnkgaWQgZm9yIHNvbWUgcmVhc29uLCBvclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiBhIGRpc2NvdmVyeVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuI2Rpc2NvdmVyeS5yZXNwb25zZUNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCdkZWJ1ZycsIGBSZWNlaXZlZCBpbnRlbnQgZGV0YWlscyBmcm9tICR7bWVzc2FnZS5zb3VyY2Uuc2Vzc2lvbklkfSwgcmVjZWl2ZWQ6ICR7dGhpcy4jZGlzY292ZXJ5LnJlc3BvbnNlQ291bnR9LCBvdXQgb2YgY29ubmVjdGVkIHNlc3Npb25zOiAke3RoaXMuI2Rpc2NvdmVyeS5zZXNzaW9uQ291bnQgLSAxfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuI2Rpc2NvdmVyeS5wZW5kaW5nSW50ZW50RGV0YWlsc0V2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxSZXNwb25kZWQgPSB0aGlzLiNkaXNjb3ZlcnkucmVzcG9uc2VDb3VudCA9PT0gdGhpcy4jZGlzY292ZXJ5LnNlc3Npb25Db3VudCAtIDE7XG4gICAgICAgICAgICAgICAgaWYgKGFsbFJlc3BvbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNlbmRJbnRlbnREaXNjb3ZlcnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdyYWlzZS1pbnRlbnQnOiB7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudGFyZ2V0U2Vzc2lvbklkID09PSB0aGlzLiNzZXNzaW9uRGV0YWlscz8uc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY29tbWFuZDogXywgLi4uZXZlbnQgfSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ3JhaXNlLWludGVudCcsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdpbnRlbnQtcmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmluaXRpYXRpbmdTZXNzaW9uSWQgPT09IHRoaXMuI3Nlc3Npb25EZXRhaWxzPy5zZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHJlc3VsdCB0byBvcmlnaW5hdG9yIGFuZCBlbmQgZGlzY292ZXJ5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY29tbWFuZDogXywgLi4ucmVzdWx0RXZlbnQgfSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ2ludGVudC1yZXN1bHQnLCByZXN1bHRFdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignd2FybicsIGBVbmtub3duIGNvbW1hbmQgbWVzc2FnZSByZWNlaXZlZDpcXG4ke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsIDIpfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBFcnJvciBjb2RlcyBhcyBkZWZpbmVkIGluIGh0dHBzOi8vZG9jcy5lbXF4LmNvbS9lbi9jbG91ZC9sYXRlc3QvY29ubmVjdF90b19kZXBsb3ltZW50cy9tcXR0X2NsaWVudF9lcnJvcl9jb2Rlcy5odG1sXG5jb25zdCBCYWRVc2VyTmFtZVBhc3N3b3JkRXJyb3IgPSAxMzQ7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgY29ubmVjdGlvbiB0byBhIENsb3VkIEludGVyb3Agc2VydmljZVxuICpcbiAqIEBwdWJsaWNcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBDbG91ZEludGVyb3BBUEkge1xuICAgICNjbG91ZEludGVyb3BTZXR0aW5ncztcbiAgICAjc2Vzc2lvbkRldGFpbHM7XG4gICAgI21xdHRDbGllbnQ7XG4gICAgI3JlY29ubmVjdFJldHJ5TGltaXQgPSAzMDtcbiAgICAja2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzID0gMzA7XG4gICAgI2xvZ2dlciA9IChsZXZlbCwgbWVzc2FnZSkgPT4ge1xuICAgICAgICBjb25zb2xlW2xldmVsXShtZXNzYWdlKTtcbiAgICB9O1xuICAgICNyZWNvbm5lY3RSZXRyaWVzID0gMDtcbiAgICAjY29ubmVjdGlvblBhcmFtcztcbiAgICAjYXR0ZW1wdGluZ1RvUmVjb25uZWN0ID0gZmFsc2U7XG4gICAgI2V2ZW50cyA9IG5ldyBFdmVudENvbnRyb2xsZXIoKTtcbiAgICAjaW50ZW50cztcbiAgICBjb25zdHJ1Y3RvcihjbG91ZEludGVyb3BTZXR0aW5ncykge1xuICAgICAgICB0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncyA9IGNsb3VkSW50ZXJvcFNldHRpbmdzO1xuICAgIH1cbiAgICBnZXQgc2Vzc2lvbkRldGFpbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzZXNzaW9uRGV0YWlscztcbiAgICB9XG4gICAgZ2V0IG1xdHRDbGllbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNtcXR0Q2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyBhbmQgY3JlYXRlcyBhIHNlc3Npb24gb24gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb25uZWN0UGFyYW1ldGVyc30gcGFyYW1ldGVycyAtIFRoZSBwYXJhbWV0ZXJzIHRvIHVzZSB0byBjb25uZWN0XG4gICAgICogQHJldHVybnMgeyp9IHtQcm9taXNlPHZvaWQ+fVxuICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BBUElcbiAgICAgKiBAdGhyb3dzIHtDbG91ZEludGVyb3BBUElFcnJvcn0gLSBJZiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGNvbm5lY3Rpb25cbiAgICAgKiBAdGhyb3dzIHtBdXRob3JpemF0aW9uRXJyb3J9IC0gSWYgdGhlIGNvbm5lY3Rpb24gaXMgdW5hdXRob3JpemVkXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdChwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuI3ZhbGlkYXRlQ29ubmVjdFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy4jY29ubmVjdGlvblBhcmFtcyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMuI3JlY29ubmVjdFJldHJ5TGltaXQgPSBwYXJhbWV0ZXJzLnJlY29ubmVjdFJldHJ5TGltaXQgfHwgdGhpcy4jcmVjb25uZWN0UmV0cnlMaW1pdDtcbiAgICAgICAgdGhpcy4ja2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzID0gcGFyYW1ldGVycy5rZWVwQWxpdmVJbnRlcnZhbFNlY29uZHMgfHwgdGhpcy4ja2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzO1xuICAgICAgICB0aGlzLiNsb2dnZXIgPSBwYXJhbWV0ZXJzLmxvZ2dlciB8fCB0aGlzLiNsb2dnZXI7XG4gICAgICAgIGNvbnN0IHsgc291cmNlSWQsIHBsYXRmb3JtSWQgfSA9IHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXM7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVNlc3Npb25SZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuI2Nsb3VkSW50ZXJvcFNldHRpbmdzLnVybH0vYXBpL3Nlc3Npb25zYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBnZXRSZXF1ZXN0SGVhZGVycyh0aGlzLiNjb25uZWN0aW9uUGFyYW1zKSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc291cmNlSWQ6IHNvdXJjZUlkLnRyaW0oKSwgcGxhdGZvcm1JZCB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghY3JlYXRlU2Vzc2lvblJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBpZiAoY3JlYXRlU2Vzc2lvblJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxIHx8IGNyZWF0ZVNlc3Npb25SZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRob3JpemF0aW9uRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBDbG91ZEludGVyb3BBUElFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjcmVhdGVTZXNzaW9uUmVzcG9uc2Uuc3RhdHVzICE9PSAyMDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDbG91ZEludGVyb3BBUElFcnJvcihgRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIENsb3VkIEludGVyb3Agc2VydmljZTogJHt0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncy51cmx9YCwgJ0VSUl9DT05ORUNUJywgbmV3IEVycm9yKGNyZWF0ZVNlc3Npb25SZXNwb25zZS5zdGF0dXNUZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc2Vzc2lvbkRldGFpbHMgPSAoYXdhaXQgY3JlYXRlU2Vzc2lvblJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIGNvbnN0IHNlc3Npb25Sb290VG9waWMgPSB0aGlzLiNzZXNzaW9uRGV0YWlscy5zZXNzaW9uUm9vdFRvcGljO1xuICAgICAgICBjb25zdCBjbGllbnRPcHRpb25zID0ge1xuICAgICAgICAgICAga2VlcGFsaXZlOiB0aGlzLiNrZWVwQWxpdmVJbnRlcnZhbFNlY29uZHMsXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy4jc2Vzc2lvbkRldGFpbHMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgY2xlYW46IHRydWUsXG4gICAgICAgICAgICBwcm90b2NvbFZlcnNpb246IDUsXG4gICAgICAgICAgICAvLyBUaGUgXCJ3aWxsXCIgbWVzc2FnZSB3aWxsIGJlIHB1Ymxpc2hlZCBvbiBhbiB1bmV4cGVjdGVkIGRpc2Nvbm5lY3Rpb25cbiAgICAgICAgICAgIC8vIFRoZSBzZXJ2ZXIgY2FuIHRoZW4gdGlkeSB1cC4gIFNvIGl0IG5lZWRzIGV2ZXJ5IGZvciB0aGlzIGNsaWVudCB0byBkbyB0aGF0LCB0aGUgc2Vzc2lvbiBkZXRhaWxzIGlzIHBlcmZlY3RcbiAgICAgICAgICAgIHdpbGw6IHtcbiAgICAgICAgICAgICAgICB0b3BpYzogJ2ludGVyb3AvbGFzdHdpbGwnLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHRoaXMuI3Nlc3Npb25EZXRhaWxzKSksXG4gICAgICAgICAgICAgICAgcW9zOiAwLFxuICAgICAgICAgICAgICAgIHJldGFpbjogZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuI3Nlc3Npb25EZXRhaWxzLnRva2VuLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLiNtcXR0Q2xpZW50ID0gYXdhaXQgbXF0dC5jb25uZWN0QXN5bmModGhpcy4jc2Vzc2lvbkRldGFpbHMudXJsLCBjbGllbnRPcHRpb25zKTtcbiAgICAgICAgLy8gVE9ETzogRHluYW1pYyBpbnRlbnQgZGlzY292ZXJ5XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgYW55IG9uZ29pbmcgZGlzY292ZXJpZXMgaW4gREIgYW5kIGZpcmUgcmVwb3J0LWludGVudHMgb24gc2VsZlxuICAgICAgICB0aGlzLiNsb2dnZXIoJ2xvZycsIGBDbG91ZCBJbnRlcm9wIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gJHt0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncy51cmx9YCk7XG4gICAgICAgIHRoaXMuI21xdHRDbGllbnQub24oJ2Vycm9yJywgYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAvLyBXZSB3aWxsIHJlY2VpdmUgZXJyb3JzIGZvciBlYWNoIGZhaWxlZCByZWNvbm5lY3Rpb24gYXR0ZW1wdFxuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBkaXNjb25uZWN0IG9uIHRoZXNlIGVsc2Ugd2Ugd2lsbCBuZXZlciByZWNvbm5lY3RcbiAgICAgICAgICAgIGlmICghdGhpcy4jYXR0ZW1wdGluZ1RvUmVjb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jZGlzY29ubmVjdChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBtcXR0LkVycm9yV2l0aFJlYXNvbkNvZGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBCYWRVc2VyTmFtZVBhc3N3b3JkRXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI2Rpc2Nvbm5lY3QoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCd3YXJuJywgYFNlc3Npb24gZXhwaXJlZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jZXZlbnRzLmVtaXRFdmVudCgnc2Vzc2lvbi1leHBpcmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCdlcnJvcicsIGBVbmtub3duIEluZnJhc3RydWN0dXJlIEVycm9yIENvZGUgJHtlcnJvci5jb2RlfSA6ICR7ZXJyb3IubWVzc2FnZX0ke3RoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCA/ICcgZHVyaW5nIHJlY29ubmVjdGlvbiBhdHRlbXB0JyA6ICcnfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXMgd2UgYXJlIGluIHRoZSBtaWRkbGUgb2YgYSByZWNvbm5lY3QsIGxldHMgbm90IGVtaXQgYW4gZXJyb3IgdG8gY3V0IGRvd24gb24gdGhlIGV2ZW50IG5vaXNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ2Vycm9yJywgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKGBVbmtub3duIEluZnJhc3RydWN0dXJlIEVycm9yIENvZGUgJHtlcnJvci5jb2RlfSA6ICR7ZXJyb3IubWVzc2FnZX1gLCAnRVJSX0lORlJBU1RSVUNUVVJFJywgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignZXJyb3InLCBgVW5rbm93biBFcnJvciR7dGhpcy4jYXR0ZW1wdGluZ1RvUmVjb25uZWN0ID8gJyBkdXJpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHQnIDogJyd9OiAke2Vycm9yfWApO1xuICAgICAgICAgICAgICAgIC8vIEFzIHdlIGFyZSBpbiB0aGUgbWlkZGxlIG9mIGEgcmVjb25uZWN0LCBsZXRzIG5vdCBlbWl0IGFuIGVycm9yIHRvIGN1dCBkb3duIG9uIHRoZSBldmVudCBub2lzZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy4jYXR0ZW1wdGluZ1RvUmVjb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ2Vycm9yJywgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKGBVbmtub3duIEVycm9yYCwgJ0VSUl9VTktOT1dOJywgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiNtcXR0Q2xpZW50Lm9uKCdyZWNvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4jcmVjb25uZWN0UmV0cmllcyArPSAxO1xuICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCdkZWJ1ZycsIGBDbG91ZCBJbnRlcm9wIGF0dGVtcHRpbmcgcmVjb25uZWN0aW9uIC0gJHt0aGlzLiNyZWNvbm5lY3RSZXRyaWVzfS4uLmApO1xuICAgICAgICAgICAgaWYgKHRoaXMuI3JlY29ubmVjdFJldHJpZXMgPT09IHRoaXMuI3JlY29ubmVjdFJldHJ5TGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ3dhcm4nLCBgQ2xvdWQgSW50ZXJvcCByZWFjaGVkIG1heCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgLSAke3RoaXMuI3JlY29ubmVjdFJldHJ5TGltaXR9Li4uYCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzY29ubmVjdCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ3JlY29ubmVjdGluZycsIHRoaXMuI3JlY29ubmVjdFJldHJpZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRG9lcyBub3QgZmlyZSBvbiBpbml0aWFsIGNvbm5lY3Rpb24sIG9ubHkgc3VjY2Vzc2Z1bCByZWNvbm5lY3Rpb24gYXR0ZW1wdHNcbiAgICAgICAgdGhpcy4jbXF0dENsaWVudC5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignZGVidWcnLCBgQ2xvdWQgSW50ZXJvcCBzdWNjZXNzZnVsbHkgcmVjb25uZWN0ZWQgYWZ0ZXIgJHt0aGlzLiNyZWNvbm5lY3RSZXRyaWVzfSBhdHRlbXB0c2ApO1xuICAgICAgICAgICAgdGhpcy4jcmVjb25uZWN0UmV0cmllcyA9IDA7XG4gICAgICAgICAgICB0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ3JlY29ubmVjdGVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiNtcXR0Q2xpZW50Lm9uKCdtZXNzYWdlJywgKHRvcGljLCBtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuI3Nlc3Npb25EZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCd3YXJuJywgJ1JlY2VpdmVkIG1lc3NhZ2Ugd2hlbiBzZXNzaW9uIG5vdCBjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiNoYW5kbGVNZXNzYWdlKHRvcGljLCBtZXNzYWdlLCB0aGlzLiNzZXNzaW9uRGV0YWlscyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gYWxsIGNvbnRleHQgZ3JvdXBzXG4gICAgICAgIHRoaXMuI21xdHRDbGllbnQuc3Vic2NyaWJlKGAke3Nlc3Npb25Sb290VG9waWN9L2NvbnRleHQtZ3JvdXBzLyNgKTtcbiAgICAgICAgLy8gTGlzdGVuIG91dCBmb3IgZ2xvYmFsIGNvbW1hbmRzXG4gICAgICAgIHRoaXMuI21xdHRDbGllbnQuc3Vic2NyaWJlKGAke3Nlc3Npb25Sb290VG9waWN9L2NvbW1hbmRzYCk7XG4gICAgICAgIHRoaXMuI2luaXRDb250cm9sbGVycyh0aGlzLiNtcXR0Q2xpZW50LCB0aGlzLiNzZXNzaW9uRGV0YWlscywgdGhpcy4jY29ubmVjdGlvblBhcmFtcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIGZyb20gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAqXG4gICAgICogQHJldHVybnMgeyp9IHtQcm9taXNlPHZvaWQ+fVxuICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BBUElcbiAgICAgKiBAdGhyb3dzIHtDbG91ZEludGVyb3BBUElFcnJvcn0gLSBJZiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGRpc2Nvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLiNkaXNjb25uZWN0KHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgYSBuZXcgY29udGV4dCBmb3IgdGhlIGdpdmVuIGNvbnRleHQgZ3JvdXAgdG8gdGhlIG90aGVyIGNvbm5lY3RlZCBzZXNzaW9uc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHRHcm91cCAtIFRoZSBjb250ZXh0IGdyb3VwIHRvIHB1Ymxpc2ggdG9cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIHB1Ymxpc2hcbiAgICAgKiBAcmV0dXJucyB7Kn0ge1Byb21pc2U8dm9pZD59XG4gICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcEFQSVxuICAgICAqL1xuICAgIGFzeW5jIHNldENvbnRleHQoY29udGV4dEdyb3VwLCBjb250ZXh0KSB7XG4gICAgICAgIC8vIFRPRE86IG1ha2UgY29udGV4dCBvZiB0eXBlIE9wZW5GaW4uQ29udGV4dFxuICAgICAgICBpZiAoIXRoaXMuI3Nlc3Npb25EZXRhaWxzIHx8ICF0aGlzLiNjb25uZWN0aW9uUGFyYW1zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gbm90IGNvbm5lY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy4jbXF0dENsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNUVRUIGNsaWVudCBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBvc3RSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuI2Nsb3VkSW50ZXJvcFNldHRpbmdzLnVybH0vYXBpL2NvbnRleHQtZ3JvdXBzLyR7dGhpcy4jc2Vzc2lvbkRldGFpbHMuc2Vzc2lvbklkfS8ke2NvbnRleHRHcm91cH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGdldFJlcXVlc3RIZWFkZXJzKHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMpLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXBvc3RSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKGBFcnJvciBzZXR0aW5nIGNvbnRleHQgZm9yICR7Y29udGV4dEdyb3VwfWAsICdFUlJfU0VUVElOR19DT05URVhUJywgbmV3IEVycm9yKHBvc3RSZXNwb25zZS5zdGF0dXNUZXh0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGFuIGludGVudCBkaXNjb3Zlcnkgb3BlcmF0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Kn0ge1Byb21pc2U8dm9pZD59XG4gICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcEFQSVxuICAgICAqIEB0aHJvd3Mge0Nsb3VkSW50ZXJvcEFQSUVycm9yfSAtIElmIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgaW50ZW50IGRpc2NvdmVyeVxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0SW50ZW50RGlzY292ZXJ5KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy4jdGhyb3dJZk5vdENvbm5lY3RlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy4jaW50ZW50cz8uc3RhcnRJbnRlbnREaXNjb3Zlcnkob3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIHJhaXNlSW50ZW50KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy4jdGhyb3dJZk5vdENvbm5lY3RlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy4jaW50ZW50cz8ucmFpc2VJbnRlbnQob3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIHJlcG9ydEFwcEludGVudHMoZGlzY292ZXJ5SWQsIGludGVudHMpIHtcbiAgICAgICAgdGhpcy4jdGhyb3dJZk5vdENvbm5lY3RlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy4jaW50ZW50cz8ucmVwb3J0QXBwSW50ZW50cyhkaXNjb3ZlcnlJZCwgaW50ZW50cykgPz8gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRJbnRlbnRSZXN1bHQoaW5pdGlhdGluZ1Nlc3Npb25JZCwgcmVzdWx0KSB7XG4gICAgICAgIHRoaXMuI3Rocm93SWZOb3RDb25uZWN0ZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2ludGVudHM/LnNlbmRJbnRlbnRSZXN1bHQoaW5pdGlhdGluZ1Nlc3Npb25JZCwgcmVzdWx0KTtcbiAgICB9XG4gICAgcGFyc2VTZXNzaW9uSWQoYXBwSWQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlQ2xvdWRBcHBJZChhcHBJZCkuc2Vzc2lvbklkO1xuICAgIH1cbiAgICBwYXJzZUFwcElkKGFwcElkKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUNsb3VkQXBwSWQoYXBwSWQpLmFwcElkO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuI2V2ZW50cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLiNldmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIG9uY2UodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy4jZXZlbnRzLm9uY2UodHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBhc3luYyAjZGlzY29ubmVjdChmaXJlRGlzY29ubmVjdGVkRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNzZXNzaW9uRGV0YWlscykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nvbm5lY3QgcGFyYW1ldGVycyBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkaXNjb25uZWN0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncy51cmx9L2FwaS9zZXNzaW9ucy8ke3RoaXMuI3Nlc3Npb25EZXRhaWxzLnNlc3Npb25JZH1gLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBnZXRSZXF1ZXN0SGVhZGVycyh0aGlzLiNjb25uZWN0aW9uUGFyYW1zKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGRpc2Nvbm5lY3RSZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDbG91ZEludGVyb3BBUElFcnJvcignRXJyb3IgZHVyaW5nIHNlc3Npb24gdGVhciBkb3duIC0gdW5leHBlY3RlZCBzdGF0dXMnLCAnRVJSX0RJU0NPTk5FQ1QnLCBuZXcgRXJyb3IoZGlzY29ubmVjdFJlc3BvbnNlLnN0YXR1c1RleHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDbG91ZEludGVyb3BBUElFcnJvcignRXJyb3IgZHVyaW5nIGRpc2Nvbm5lY3Rpb24nLCAnRVJSX0RJU0NPTk5FQ1QnLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLiNkZXN0cm95Q29udHJvbGxlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQ/LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jbXF0dENsaWVudD8uZW5kQXN5bmModHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLiNzZXNzaW9uRGV0YWlscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLiNyZWNvbm5lY3RSZXRyaWVzID0gMDtcbiAgICAgICAgICAgIHRoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGZpcmVEaXNjb25uZWN0ZWRFdmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgICNoYW5kbGVNZXNzYWdlKHRvcGljLCBtZXNzYWdlLCBzZXNzaW9uRGV0YWlscykge1xuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPT09IDAgfHwgIXNlc3Npb25EZXRhaWxzKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgY2xlYW4gdXAgbWVzc2FnZXNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXNzYWdlRW52ZWxvcGUgPSBKU09OLnBhcnNlKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmICh0b3BpYy5zdGFydHNXaXRoKGAke3Nlc3Npb25EZXRhaWxzLnNlc3Npb25Sb290VG9waWN9L2NvbnRleHQtZ3JvdXBzL2ApKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0RXZlbnQgPSBtZXNzYWdlRW52ZWxvcGU7XG4gICAgICAgICAgICBpZiAoY29udGV4dEV2ZW50LnNvdXJjZS5zZXNzaW9uSWQgPT09IHNlc3Npb25EZXRhaWxzLnNlc3Npb25JZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY29udGV4dEdyb3VwLCBjb250ZXh0LCBzb3VyY2UsIGhpc3RvcnkgfSA9IGNvbnRleHRFdmVudDtcbiAgICAgICAgICAgIHRoaXMuI2V2ZW50cy5lbWl0RXZlbnQoJ2NvbnRleHQnLCB7IGNvbnRleHRHcm91cCwgY29udGV4dCwgc291cmNlLCBoaXN0b3J5OiB7IC4uLmhpc3RvcnksIGNsaWVudFJlY2VpdmVkOiBEYXRlLm5vdygpIH0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG9waWMuc3RhcnRzV2l0aChgJHtzZXNzaW9uRGV0YWlscy5zZXNzaW9uUm9vdFRvcGljfS9jb21tYW5kc2ApKSB7XG4gICAgICAgICAgICB0aGlzLiNoYW5kbGVDb21tYW5kTWVzc2FnZShtZXNzYWdlRW52ZWxvcGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgICNoYW5kbGVDb21tYW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlICdyZXBvcnQtaW50ZW50cyc6XG4gICAgICAgICAgICBjYXNlICdpbnRlbnQtZGV0YWlscyc6XG4gICAgICAgICAgICBjYXNlICdyYWlzZS1pbnRlbnQnOlxuICAgICAgICAgICAgY2FzZSAnaW50ZW50LXJlc3VsdCc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNpbnRlbnRzPy5oYW5kbGVDb21tYW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ3dhcm4nLCBgVW5rbm93biBjb21tYW5kIG1lc3NhZ2UgcmVjZWl2ZWQ6XFxuJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCAyKX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAjdmFsaWRhdGVDb25uZWN0UGFyYW1zID0gKHBhcmFtZXRlcnMpID0+IHtcbiAgICAgICAgaWYgKCFwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nvbm5lY3QgcGFyYW1ldGVycyBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJhbWV0ZXJzLnNvdXJjZUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NvdXJjZUlkIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1ldGVycy5zb3VyY2VJZC5pbmNsdWRlcyhBUFBfSURfREVMSU0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNvdXJjZUlkIGNhbm5vdCBjb250YWluIFwiJHtBUFBfSURfREVMSU19XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmFtZXRlcnMucGxhdGZvcm1JZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwbGF0Zm9ybUlkIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1ldGVycy5hdXRoZW50aWNhdGlvblR5cGUgPT09ICdqd3QnICYmXG4gICAgICAgICAgICAoIXBhcmFtZXRlcnMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzPy5qd3RSZXF1ZXN0Q2FsbGJhY2sgfHwgIXBhcmFtZXRlcnMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzPy5hdXRoZW50aWNhdGlvbklkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMgbXVzdCBiZSBwcm92aWRlZCB3aGVuIHVzaW5nIGp3dCBhdXRoZW50aWNhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLmF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gJ2Jhc2ljJyAmJlxuICAgICAgICAgICAgKCFwYXJhbWV0ZXJzLmJhc2ljQXV0aGVudGljYXRpb25QYXJhbWV0ZXJzPy51c2VybmFtZSB8fCAhcGFyYW1ldGVycy5iYXNpY0F1dGhlbnRpY2F0aW9uUGFyYW1ldGVycz8ucGFzc3dvcmQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Jhc2ljQXV0aGVudGljYXRpb25QYXJhbWV0ZXJzIG11c3QgYmUgcHJvdmlkZWQgd2hlbiB1c2luZyBiYXNpYyBhdXRoZW50aWNhdGlvbicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAjaW5pdENvbnRyb2xsZXJzKG1xdHRDbGllbnQsIHNlc3Npb25EZXRhaWxzLCBjb25uZWN0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLiNpbnRlbnRzID0gbmV3IEludGVudENvbnRyb2xsZXIodGhpcy4jY2xvdWRJbnRlcm9wU2V0dGluZ3MudXJsLCBtcXR0Q2xpZW50LCBzZXNzaW9uRGV0YWlscywgY29ubmVjdGlvblBhcmFtZXRlcnMsIHRoaXMuI2V2ZW50cywgdGhpcy4jbG9nZ2VyKTtcbiAgICB9XG4gICAgI2Rlc3Ryb3lDb250cm9sbGVycygpIHtcbiAgICAgICAgdGhpcy4jaW50ZW50cyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgI3Rocm93SWZOb3RDb25uZWN0ZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy4jc2Vzc2lvbkRldGFpbHMgfHwgIXRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLiNtcXR0Q2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01RVFQgY2xpZW50IG5vdCBjb25uZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xudmFyIExvZ0xldmVsO1xuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSAwXSA9IFwiREVCVUdcIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIklORk9cIl0gPSAxXSA9IFwiSU5GT1wiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV0FSTlwiXSA9IDJdID0gXCJXQVJOXCI7XG4gICAgLy8gVE9ETzogZXZlbnR1YWxseSBzdXBwb3J0IE5PTkUgPSAzXG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xuY29uc3QgbGV2ZWxUb1N0ciA9IG5ldyBNYXAoW1xuICAgIFtMb2dMZXZlbC5ERUJVRywgJ2RlYnVnJ10sXG4gICAgW0xvZ0xldmVsLklORk8sICdpbmZvJ10sXG4gICAgW0xvZ0xldmVsLldBUk4sICd3YXJuJ11cbl0pO1xuY29uc3Qgc3RyVG9MZXZlbCA9IG5ldyBNYXAoW1xuICAgIFsnZGVidWcnLCBMb2dMZXZlbC5ERUJVR10sXG4gICAgWydpbmZvJywgTG9nTGV2ZWwuSU5GT10sXG4gICAgWyd3YXJuJywgTG9nTGV2ZWwuV0FSTl0sXG4gICAgLy8gcmVkdWNlICdlcnJvcicgYW5kICdsb2cnIHRvIHdhcm4vaW5mb1xuICAgIFsnZXJyb3InLCBMb2dMZXZlbC5XQVJOXSxcbiAgICBbJ2xvZycsIExvZ0xldmVsLklORk9dXG5dKTtcbmNvbnN0IGdldFRpbWVzdGFtcCA9ICgpID0+IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdUJywgJyAnKS5yZXBsYWNlKCdaJywgJycpO1xuLyoqXG4gKiBUaGlzIGxvZ2dlciByZXRyb2ZpdHMgb24gdG9wIG9mIHRoZSBDbG91ZEFQSUxvZ2dlciBmdW5jdGlvbiBzaWduYXR1cmUgc28gaXQgbXVzdCB1c2UgQ2xvdWRBUElMb2dMZXZlbCBpbnB1dHNcbiAqL1xuY2xhc3MgTG9nZ2VyIHtcbiAgICBsb2dMZXZlbDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jb25zdHJ1Y3RvclxuICAgIGNvbnN0cnVjdG9yKGxldmVsID0gJ3dhcm4nKSB7XG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBzdHJUb0xldmVsLmdldChsZXZlbCkgPz8gTG9nTGV2ZWwuV0FSTjtcbiAgICB9XG4gICAgbG9nKGxvZ0xldmVsLCBtZXNzYWdlLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGxldmVsID0gc3RyVG9MZXZlbC5nZXQobG9nTGV2ZWwpID8/IHRoaXMubG9nTGV2ZWw7XG4gICAgICAgIGlmICh0aGlzLmxvZ0xldmVsIDw9IGxldmVsKSB7XG4gICAgICAgICAgICAvLyBhbHdheXMgd3JpdGUgdG8gY29uc29sZS5kZWJ1ZyB0byBhdm9pZCBjbHV0dGVyaW5nIGNsaWVudCBsb2dzXG4gICAgICAgICAgICAvLyBUT0RPKFJVTi05MzcwKTogQ2hhbmdlIHRoaXMgdG8gY29uc29sZS5kZWJ1ZyBhZnRlciB0aGlzIHJ1bnRpbWUgdGlja2V0IGlzIGZpeGVkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtnZXRUaW1lc3RhbXAoKX0gfCBDbG91ZEludGVyb3BPdmVycmlkZSBbJHtsZXZlbFRvU3RyLmdldChsZXZlbCl9XSAke21lc3NhZ2V9YCwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IGlzQ29udGV4dCA9IChjaGFuKSA9PiB7XG4gICAgY29uc3QgYyA9IGNoYW47XG4gICAgcmV0dXJuIGMgJiYgdHlwZW9mIGMgPT09ICdvYmplY3QnICYmICd0eXBlJyBpbiBjICYmICEoJ2Jyb2FkY2FzdCcgaW4gYyk7XG59O1xuXG5jb25zdCBERUZBVUxUX1RJTUVPVVQgPSAzMDAwO1xuLyoqXG4gKiBFbmhhbmNlcyBJbnRlcm9wQnJva2VyIHdpdGggQ2xvdWQgSW50ZXJvcCBmdW5jdGlvbmFsaXR5XG4gKlxuICogRW5zdXJlIHRoYXQgQ2xvdWRJbnRlcm9wT3ZlcnJpZGUgY29tZXMgZmlyc3QgaW4gdGhlIGxpc3Qgb2YgY29tcG9zYWJsZSBvdmVycmlkZXMsIGZvciBleGFtcGxlOlxuICogYGBgXG4gKiBjb25zdCBDbG91ZEludGVyb3BPdmVycmlkZSA9IGF3YWl0IGNsb3VkSW50ZXJvcE92ZXJyaWRlKHNldHRpbmdzKTtcbiAqIGF3YWl0IGZpbi5QbGF0Zm9ybS5pbml0KHtcbiAqICAgICAuLi4sXG4gKiAgICAgaW50ZXJvcE92ZXJyaWRlOiBbXG4gKiAgICAgICAgIENsb3VkSW50ZXJvcE92ZXJyaWRlLCAvLyA8LS0tIG11c3QgY29tZSBmaXJzdFxuICogICAgICAgICAoQmFzZVByb3ZpZGVyKSA9PiBjbGFzcyBNeUN1c3RvbVByb3ZpZGVyIGV4dGVuZHMgQmFzZVByb3ZpZGVyIHsgLi4uIH1cbiAqICAgICBdXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7Q2xvdWRJbnRlcm9wT3ZlcnJpZGVQYXJhbXN9IGNvbmZpZyBDb25maWd1cmF0aW9uIHRvIGNvbm5lY3QgdG8gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICovXG5hc3luYyBmdW5jdGlvbiBjbG91ZEludGVyb3BPdmVycmlkZShjb25maWcpIHtcbiAgICBjb25zdCB7IHVybCwgZmluZEludGVudFRpbWVvdXQgPSBERUZBVUxUX1RJTUVPVVQsIGxvZ0xldmVsID0gJ3dhcm4nLCBsb2dnZXIgPSBuZXcgTG9nZ2VyKGxvZ0xldmVsKSwgLi4uc2V0dGluZ3MgfSA9IGNvbmZpZztcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2xvdWRJbnRlcm9wQVBJKHsgdXJsIH0pO1xuICAgIC8vIGNyZWF0ZSBjbG9zdXJlIHRvIHVzZSBjb21wdXRlZCBzZXR0aW5ncyBhYm92ZSBpbiB0aGUgQ2xvdWRJbnRlcm9wT3ZlcnJpZGU6OnJlY29ubmVjdCBmdW5jdGlvbiBiZWxvd1xuICAgIGNvbnN0IGluaXRDb25uZWN0ID0gYXN5bmMgKGNvbm5lY3RQYXJhbXMgPSBzZXR0aW5ncykgPT4ge1xuICAgICAgICBjbGllbnQuY29ubmVjdCh7XG4gICAgICAgICAgICAuLi5jb25uZWN0UGFyYW1zLFxuICAgICAgICAgICAgLy8gc2hpbSBvdXIgbG9nU2luayBvbnRvIGNsb3VkLWFwaSBsb2dnZXIgZnVuY1xuICAgICAgICAgICAgbG9nZ2VyOiAobGV2ZWwsIG1zZykgPT4gbG9nZ2VyLmxvZyhsZXZlbCwgbXNnKVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGlzTG9jYWxUYXJnZXRTZXNzaW9uID0gKHRhcmdldEFwcElkKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHR5cGVvZiB0YXJnZXRBcHBJZCA9PT0gJ3N0cmluZycgPyB0YXJnZXRBcHBJZCA6IHRhcmdldEFwcElkLmFwcElkO1xuICAgICAgICBjb25zdCB0YXJnZXRTZXNzaW9uSWQgPSBjbGllbnQucGFyc2VTZXNzaW9uSWQodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuICF0YXJnZXRTZXNzaW9uSWQgfHwgdGFyZ2V0U2Vzc2lvbklkID09PSBjbGllbnQuc2Vzc2lvbkRldGFpbHM/LnNlc3Npb25JZDtcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGluaXRDb25uZWN0KCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgbG9nZ2VyLmxvZygnd2FybicsIGBGYWlsZWQgdG8gY29ubmVjdCB0byBDbG91ZCBJbnRlcm9wIFNlcnZpY2UuIENhbGwgaW50ZXJvcEJyb2tlci5jbG91ZFJlY29ubmVjdCgpIHRvIGF0dGVtcHQgcmVjb25uZWN0aW9uYCwgZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIChCYXNlUHJvdmlkZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIGNsYXNzIENsb3VkSW50ZXJvcE92ZXJyaWRlIGV4dGVuZHMgQmFzZVByb3ZpZGVyIHtcbiAgICAgICAgICAgIGNvbnRleHRMaXN0ZW5lcjtcbiAgICAgICAgICAgIHNldENvbnRleHRGaWx0ZXIgPSAoY29udGV4dCkgPT4gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TGlzdGVuZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb250ZXh0R3JvdXAsIGNvbnRleHQsIHNvdXJjZSB9ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldENvbnRleHRHcm91cHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoeyBpZCB9KSA9PiBpZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhjb250ZXh0R3JvdXApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQuc2Vzc2lvbkRldGFpbHM/LnNlc3Npb25JZCAhPT0gc291cmNlLnNlc3Npb25JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXIuc2V0Q29udGV4dEZvckdyb3VwKHsgY29udGV4dDogY29udGV4dCB9LCBjb250ZXh0R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dCcsIHRoaXMuY29udGV4dExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVwb3J0LWludGVudHMnLCBhc3luYyAoeyBkaXNjb3ZlcnlJZCwgaW5pdGlhdGluZ1Nlc3Npb25JZCwgZmluZE9wdGlvbnMgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBSZWNlaXZlZCByZXBvcnQtaW50ZW50cyByZXF1ZXN0IGZyb20gJHtpbml0aWF0aW5nU2Vzc2lvbklkfWApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXBwSW50ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmRPcHRpb25zLnR5cGUgPT09ICdmaW5kLWludGVudCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlbnQgPSAoYXdhaXQgc3VwZXIuaGFuZGxlSW5mb0ZvckludGVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbmRPcHRpb25zLmludGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHsgcmVzdWx0VHlwZTogZmluZE9wdGlvbnMucmVzdWx0VHlwZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBmaW5kT3B0aW9ucy5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcEludGVudHMgPSBbaW50ZW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcEludGVudHMgPSAoYXdhaXQgc3VwZXIuaGFuZGxlSW5mb0ZvckludGVudHNCeUNvbnRleHQoeyBjb250ZXh0OiBmaW5kT3B0aW9ucy5jb250ZXh0LCBtZXRhZGF0YTogeyByZXN1bHRUeXBlOiBmaW5kT3B0aW9ucy5yZXN1bHRUeXBlIH0gfSwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCd3YXJuJywgYEVycm9yIGluIHJlcG9ydC1pbnRlbnRzIGxpc3RlbmVyLCBwcm9jZWVkaW5nIHdpdGggYW4gZW1wdHkgcmVzcG9uc2U6ICR7ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBSZXBvcnRpbmcgaW50ZW50cyA6XFxuJHtKU09OLnN0cmluZ2lmeShhcHBJbnRlbnRzLCBudWxsLCAyKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jbWF5YmVSZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnJlcG9ydEFwcEludGVudHMoZGlzY292ZXJ5SWQsIGFwcEludGVudHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKCdyYWlzZS1pbnRlbnQnLCBhc3luYyAoeyBpbml0aWF0aW5nU2Vzc2lvbklkLCByYWlzZU9wdGlvbnMgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBSZWNlaXZlZCByYWlzZS1pbnRlbnQgcmVxdWVzdCBmcm9tICR7aW5pdGlhdGluZ1Nlc3Npb25JZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdtZXRhZGF0YScgaW4gcmFpc2VPcHRpb25zLmNvbnRleHQgJiYgcmFpc2VPcHRpb25zLmNvbnRleHQubWV0YWRhdGEudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWlzZU9wdGlvbnMuY29udGV4dC5tZXRhZGF0YS50YXJnZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucmFpc2VPcHRpb25zLmNvbnRleHQubWV0YWRhdGEudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcElkOiBjbGllbnQucGFyc2VBcHBJZChyYWlzZU9wdGlvbnMuY29udGV4dC5tZXRhZGF0YS50YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlbnRSZXNvbHV0aW9uID0gKHJhaXNlT3B0aW9ucy50eXBlID09PSAncmFpc2UtaW50ZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXdhaXQgc3VwZXIuaGFuZGxlRmlyZWRJbnRlbnQoeyBuYW1lOiByYWlzZU9wdGlvbnMuaW50ZW50LCBjb250ZXh0OiByYWlzZU9wdGlvbnMuY29udGV4dCB9LCBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYXdhaXQgc3VwZXIuaGFuZGxlRmlyZWRJbnRlbnRGb3JDb250ZXh0KHJhaXNlT3B0aW9ucy5jb250ZXh0LCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlbnRSZXN1bHQgPSBhd2FpdCBpbnRlbnRSZXNvbHV0aW9uLmdldFJlc3VsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpbnRlbnQsIHNvdXJjZSwgdmVyc2lvbiB9ID0gaW50ZW50UmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHsgaW50ZW50LCBzb3VyY2UsIHZlcnNpb24gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYEludGVudCByZXN1bHQ6ICR7SlNPTi5zdHJpbmdpZnkoaW50ZW50UmVzdWx0LCBudWxsLCAyKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbnRleHQoaW50ZW50UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRpbmcgQ29udGV4dHMgYXMgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5nZXRSZXN1bHQgPSBpbnRlbnRSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ3dhcm4nLCBgRXJyb3IgaW4gcmFpc2UtaW50ZW50LCBmb3J3YXJkaW5nIGVycm9yIHJlc3BvbnNlIHRvIHRoZSBjbG91ZDogJHtlfWAsIGUuc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0geyBlcnJvcjogZS5tZXNzYWdlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgU2VuZGluZyBpbnRlbnQgcmVzdWx0IHRvICR7aW5pdGlhdGluZ1Nlc3Npb25JZH06XFxuJHtKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpfWApO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNtYXliZVJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuc2VuZEludGVudFJlc3VsdChpbml0aWF0aW5nU2Vzc2lvbklkLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgaGFuZGxlSW5mb0ZvckludGVudChvcHRpb25zLCBjbGllbnRJZGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYGluIGhhbmRsZUluZm9Gb3JJbnRlbnRgLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGNvbnRleHQsIG1ldGFkYXRhIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVudHNQcm9taXNlID0gc3VwZXIuaGFuZGxlSW5mb0ZvckludGVudChvcHRpb25zLCBjbGllbnRJZGVudGl0eSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2hhbmRsZUluZm9Gb3JJbnRlbnQoaW50ZW50c1Byb21pc2UsIG5hbWUsIGNvbnRleHQsIG1ldGFkYXRhPy5yZXN1bHRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGhhbmRsZUluZm9Gb3JJbnRlbnRzQnlDb250ZXh0KGNvbnRleHQsIGNsaWVudElkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgaW4gaGFuZGxlSW5mb0ZvckludGVudHNCeUNvbnRleHRgLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlbnRzUHJvbWlzZSA9IHN1cGVyLmhhbmRsZUluZm9Gb3JJbnRlbnRzQnlDb250ZXh0KGNvbnRleHQsIGNsaWVudElkZW50aXR5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3R5cGUnIGluIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLiNoYW5kbGVJbmZvRm9ySW50ZW50KGludGVudHNQcm9taXNlLCB1bmRlZmluZWQsIGNvbnRleHQsIHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLiNoYW5kbGVJbmZvRm9ySW50ZW50KGludGVudHNQcm9taXNlLCB1bmRlZmluZWQsIGNvbnRleHQuY29udGV4dCwgY29udGV4dC5tZXRhZGF0YT8ucmVzdWx0VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBoYW5kbGVGaXJlZEludGVudChpbnRlbnQsIGNsaWVudElkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgaW4gaGFuZGxlRmlyZWRJbnRlbnRgLCBpbnRlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiNoYW5kbGVGaXJlZEludGVudChjbGllbnRJZGVudGl0eSwgaW50ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGhhbmRsZUZpcmVkSW50ZW50Rm9yQ29udGV4dChjb250ZXh0Rm9ySW50ZW50LCBjbGllbnRJZGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYGluIGhhbmRsZUZpcmVkSW50ZW50Rm9yQ29udGV4dGAsIGNvbnRleHRGb3JJbnRlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiNoYW5kbGVGaXJlZEludGVudChjbGllbnRJZGVudGl0eSwgY29udGV4dEZvckludGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyAjaGFuZGxlSW5mb0ZvckludGVudChcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUHJvbWlzZSB0byBleGVjdXRlIGluIHBhcmFsbGVsIHdpdGggaW50ZW50IGRpc2NvdmVyeVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsb2NhbEludGVudHNQcm9taXNlLCBcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogaWYgcHJlc2VudCAtPiBmaW5kSW50ZW50XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGludGVudCwgXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGlmIHByZXNlbnQgLT4gZmluZEludGVudHNCeUNvbnRleHRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29udGV4dCwgcmVzdWx0VHlwZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYGluICNoYW5kbGVJbmZvRm9ySW50ZW50YCwgeyBpbnRlbnQsIGNvbnRleHQsIHJlc3VsdFR5cGUgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlbnQgJiYgIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQ2xvdWRJbnRlcm9wT3ZlcnJpZGVdICNoYW5kbGVJbmZvRm9ySW50ZW50IHJlcXVpcmVzIGludGVudCBvciBjb250ZXh0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0Py5tZXRhZGF0YT8udGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNhZmVndWFyZCBNUSB0cmFmZmljIGJ5IHNob3J0IGNpcmN1aXRpbmcgaGVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBzZXNzaW9uIGlkIG5vdCBwYXJzYWJsZSwgaXQncyBhIGxvY2FsIGludGVudCwgYWxzbyBpZiBzZXNzaW9uIGlkXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIHBhcnNlZCBhbmQgbWF0Y2hlcyB0aGUgY3VycmVudCBzZXNzaW9uLCB0cmVhdCBpdCBhcyBhIGxvY2FsIGZpbmRJbnRlbnQgYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0xvY2FsVGFyZ2V0U2Vzc2lvbihjb250ZXh0Lm1ldGFkYXRhLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYCNoYW5kbGVJbmZvRm9ySW50ZW50IHJlY2VpdmVkIGFuIGFwcElkIGZvciB0aGUgc2FtZSBzZXNzaW9uLCByZXR1cm5pbmcgbG9jYWwgaW50ZW50IHJlc3VsdHMgb25seWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsSW50ZW50c1Byb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jbWF5YmVSZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBJbnRlbnRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBzZXJ0VG9NYXAgPSAoeyBpbnRlbnQsIGFwcHMgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBtZXJnZSBhbGwgYXBwcyBmb3IgdGhlIHNhbWUgaW50ZW50XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQXBwcyA9IGFwcEludGVudE1hcC5nZXQoaW50ZW50Lm5hbWUpID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICBhcHBJbnRlbnRNYXAuc2V0KGludGVudC5uYW1lLCBbLi4uZXhpc3RpbmdBcHBzLCAuLi5hcHBzXSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgYWdncmVnYXRlUmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZ2dyZWdhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2xpZW50Lm9uY2UoJ2FnZ3JlZ2F0ZS1pbnRlbnQtZGV0YWlscycsICh7IHJlc3BvbnNlcyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYFJlY2VpdmVkIGFnZ3JlZ2F0ZSBpbnRlbnQgZGV0YWlscywgbGVuZ3RoOiAke3Jlc3BvbnNlcy5sZW5ndGh9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlcy5mb3JFYWNoKCh7IGludGVudHMgfSkgPT4gaW50ZW50cy5mb3JFYWNoKHVwc2VydFRvTWFwKSk7XG4gICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZVJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBmaW5kSW50ZW50VGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgZmluZE9wdGlvbnM6IGludGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IHR5cGU6ICdmaW5kLWludGVudCcsIGludGVudCwgY29udGV4dCwgcmVzdWx0VHlwZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHsgdHlwZTogJ2ZpbmQtaW50ZW50cy1ieS1jb250ZXh0JywgY29udGV4dDogY29udGV4dCwgcmVzdWx0VHlwZSB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsICdTdGFydGluZyBpbnRlbnQgZGlzY292ZXJ5Jyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnN0YXJ0SW50ZW50RGlzY292ZXJ5KG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFnZ3JlZ2F0ZVByb21pc2U7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCAnSW50ZW50IGRpc2NvdmVyeSBjb21wbGV0ZWQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbEFwcEludGVudHMgPSAoYXdhaXQgbG9jYWxJbnRlbnRzUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoaW50ZW50cykgPT4gKEFycmF5LmlzQXJyYXkoaW50ZW50cykgPyBpbnRlbnRzIDogW2ludGVudHNdKSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IFtdKSk7XG4gICAgICAgICAgICAgICAgbG9jYWxBcHBJbnRlbnRzLmZvckVhY2godXBzZXJ0VG9NYXApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcEludGVudHMgPSBBcnJheS5mcm9tKGFwcEludGVudE1hcC5lbnRyaWVzKCkpLm1hcCgoW2ludGVudCwgYXBwc10pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGludGVudDogeyBuYW1lOiBpbnRlbnQsIGRpc3BsYXlOYW1lOiBpbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwc1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoYXBwSW50ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb0FwcHNGb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKGludGVudCA/IGFwcEludGVudHNbMF0gOiBhcHBJbnRlbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jICNoYW5kbGVGaXJlZEludGVudChjbGllbnRJZGVudGl0eSwgaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBpbiAjaGFuZGxlRmlyZWRJbnRlbnRgLCB7IGlucHV0IH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI21heWJlUmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0QXBwID0gaW5wdXQ/Lm1ldGFkYXRhPy50YXJnZXQ7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRBcHApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbQ2xvdWRJbnRlcm9wT3ZlcnJpZGVdIGhhbmRsZUZpcmVkSW50ZW50IHJlcXVpcmVzIGludGVudC5tZXRhZGF0YS50YXJnZXQgb3IgY29udGV4dC5tZXRhZGF0YS50YXJnZXQgdG8gYmUgYW4gYXBwSWRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaXNJbnRlbnQgPSAoaW5wdXQpID0+ICduYW1lJyBpbiBpbnB1dDtcbiAgICAgICAgICAgICAgICAvLyBzYWZlZ3VhcmQgTVEgdHJhZmZpYyBieSBzaG9ydCBjaXJjdWl0aW5nIGhlcmVcbiAgICAgICAgICAgICAgICAvLyBpZiBzZXNzaW9uIGlkIG5vdCBwYXJzYWJsZSwgaXQncyBhIGxvY2FsIGludGVudCwgYWxzbyBpZiBzZXNzaW9uIGlkXG4gICAgICAgICAgICAgICAgLy8gaXMgcGFyc2VkIGFuZCBtYXRjaGVzIHRoZSBjdXJyZW50IHNlc3Npb24sIHRyZWF0IGl0IGFzIGEgbG9jYWwgaW50ZW50XG4gICAgICAgICAgICAgICAgaWYgKGlzTG9jYWxUYXJnZXRTZXNzaW9uKHRhcmdldEFwcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgI2hhbmRsZUZpcmVkSW50ZW50IHJlY2VpdmVkIGFuIGFwcElkIGZvciB0aGUgc2FtZSBzZXNzaW9uLCBmaXJpbmcgaW50ZW50IGxvY2FsbHlgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc0ludGVudChpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc3VwZXIuaGFuZGxlRmlyZWRJbnRlbnQoaW5wdXQsIGNsaWVudElkZW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdXBlci5oYW5kbGVGaXJlZEludGVudEZvckNvbnRleHQoaW5wdXQsIGNsaWVudElkZW50aXR5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBpbnRlbnRSZXNvbHZlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVudFJlc3VsdFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnRlbnRSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjbGllbnQub25jZSgnaW50ZW50LXJlc3VsdCcsICh7IHJlc3VsdCwgc291cmNlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgUmVjZWl2ZWQgaW50ZW50LXJlc3VsdGAsIEpTT04uc3RyaW5naWZ5KHsgc291cmNlLCByZXN1bHQgfSwgbnVsbCwgMikpO1xuICAgICAgICAgICAgICAgICAgICBpbnRlbnRSZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFpc2VPcHRpb25zID0gaXNJbnRlbnQoaW5wdXQpXG4gICAgICAgICAgICAgICAgICAgID8geyB0eXBlOiAncmFpc2UtaW50ZW50JywgaW50ZW50OiBpbnB1dC5uYW1lLCBjb250ZXh0OiBpbnB1dC5jb250ZXh0IH1cbiAgICAgICAgICAgICAgICAgICAgOiB7IHR5cGU6ICdyYWlzZS1pbnRlbnQtZm9yLWNvbnRleHQnLCBjb250ZXh0OiBpbnB1dCB9O1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5yYWlzZUludGVudCh7IGFwcElkOiB0YXJnZXRBcHAsIHJhaXNlT3B0aW9ucyB9KTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByYWlzZS1pbnRlbnQgdGltZW91dCB2aWEgcHJvbWlzZS5yYWNlP1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVudFJlc3VsdCA9IGF3YWl0IGludGVudFJlc3VsdFByb21pc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGlzaExvY2FsUmVzdWx0ID0gYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBzaW5jZSB3ZSBhcmVuJ3QgY2hhbmdpbmcgZ2V0SW50ZW50UmVzb2x1dGlvbiBpbiB0aGUgZmRjMyBpbXBsIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIFwiZmFrZVwiIGEgbG9jYWwgaW50ZW50IHJlc3VsdCB0byBlbnN1cmUgZ2V0UmVzdWx0IHJlc29sdmVzIGNvcnJlY3RseSwgc2VlOlxuICAgICAgICAgICAgICAgICAgICAvLyBqcy1hZGFwdGVyL3NyYy9hcGkvaW50ZXJvcC9mZGMzL3V0aWxzLnRzOjpnZXRJbnRlbnRSZXNvbHV0aW9uOjpmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZW50UmVzb2x1dGlvblJlc3VsdElkID0gaW5wdXQubWV0YWRhdGE/LmludGVudFJlc29sdXRpb25SZXN1bHRJZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBmb3Igd2ViL2V4dGVybmFsIGNvbm5lY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5maW4ubWUuaXNPcGVuRmluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVudFJlc29sdXRpb25SZXN1bHRJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGludGVudFJlc29sdXRpb25SZXN1bHRJZCwgcmVzdWx0KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnd2FybicsIGAjaGFuZGxlRmlyZWRJbnRlbnQgY291bGQgbm90IGNyZWF0ZSBhbiBpbnRlbnQgcmVzb2x1dGlvbiBmb3IgQXBwSWQ6ICR7dGFyZ2V0QXBwfSwgZ2V0UmVzdWx0IGNhbGwgd2lsbCBub3Qgd29yay5gLCBpbnRlbnRSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICgnZXJyb3InIGluIGludGVudFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCd3YXJuJywgYCNoYW5kbGVGaXJlZEludGVudCBjb3VsZCBub3QgcmFpc2UgaW50ZW50IGZvciBBcHBJZDogJHt0YXJnZXRBcHB9YCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoaW5nIHsgZXJyb3I6IEJvb2xlYW4gfSB0eXBlIG9mIGpzLWFkYXB0ZXIvc3JjL2FwaS9pbnRlcm9wL2ZkYzMvdXRpbHMudHM6OkludGVudFJlc3VsdFByb21pc2VQYXlsb2FkXG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hMb2NhbFJlc3VsdCh7IGVycm9yOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmVzdW1hYmx5LCB0aGUgZXJyb3IgaXMgRkRDMyBjb21wbGlhbnQsIHNvIHRocm93IGl0IGFzIGlzXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihpbnRlbnRSZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0eXBlb2YgaW50ZW50UmVzdWx0LnNvdXJjZSA9PT0gJ3N0cmluZycgPyB7IGFwcElkOiBpbnRlbnRSZXN1bHQuc291cmNlIH0gOiBpbnRlbnRSZXN1bHQuc291cmNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUmVzdWx0ID0geyAuLi5pbnRlbnRSZXN1bHQsIHNvdXJjZSB9O1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hMb2NhbFJlc3VsdChmaW5hbFJlc3VsdC5nZXRSZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmZpbmFsUmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAvLyBDdXJyZW50bHkgb25seSBzdXBwb3J0aW5nIGNvbnRleHRzIGFzIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmVzdWx0OiBhc3luYyAoKSA9PiBmaW5hbFJlc3VsdC5nZXRSZXN1bHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgc2V0Q29udGV4dEZvckdyb3VwKHsgY29udGV4dCB9LCBjb250ZXh0R3JvdXBJZCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGlzIHRoaXMgcmlnaHQ/IHNob3VsZCB3ZSBhdHRlbXB0IGEgcmVjb25uZWN0IGluc3RlYWQgb2YgY2hlY2sgY29ubmVjdGVkIHN0YXRlP1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsb3VkQ29ubmVjdGlvblN0YXRlID09PSAnY29ubmVjdGVkJyAmJiB0aGlzLnNldENvbnRleHRGaWx0ZXIoY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnNldENvbnRleHQoY29udGV4dEdyb3VwSWQsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdXBlci5zZXRDb250ZXh0Rm9yR3JvdXAoeyBjb250ZXh0IH0sIGNvbnRleHRHcm91cElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXR0ZW1wdHMgcmVjb25uZWN0aW9uIHRvIHRoZSBDbG91ZCBJbnRlcm9wIHNlcnZpY2VcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdFBhcmFtZXRlcnN9IHNldHRpbmdzIFBhcmFtZXRlcnMgZm9yIGNvbm5lY3RpbmcgdG8gdGhlIEludGVyb3AgU2VydmljZVxuICAgICAgICAgICAgICogQHJldHVybiB7Kn0ge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAgICAgKiBAdGhyb3dzIHtDbG91ZEludGVyb3BBUElFcnJvcn1cbiAgICAgICAgICAgICAqIEB0aHJvd3Mge0F1dGhvcml6YXRpb25FcnJvcn1cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BPdmVycmlkZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhc3luYyBjbG91ZFJlY29ubmVjdChzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsb3VkQ29ubmVjdGlvblN0YXRlID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbml0Q29ubmVjdChzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnd2FybicsIGBGYWlsZWQgcmVjb25uZWN0aW9uIHRvIENsb3VkIEludGVyb3AgU2VydmljZS5gLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0cyB0aGUgbGlzdGVuZXIgZm9yIGNvbnRleHQgZXZlbnRzIGNvbWluZyBmcm9tIHRoZSBDbG91ZCBJbnRlcm9wIHNlcnZpY2VcbiAgICAgICAgICAgICAqIEBwYXJhbSBsaXN0ZW5lciBDb250ZXh0IGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHsqfSB7dm9pZH1cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BPdmVycmlkZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzZXRDbG91ZENvbnRleHRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGNsaWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0JywgdGhpcy5jb250ZXh0TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dExpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHQnLCB0aGlzLmNvbnRleHRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldHMgYSBmaWx0ZXIgdGhhdCBpcyBhcHBsaWVkIHRvIGxvY2FsIGNvbnRleHQgYmVmb3JlIGl0IGlzIGZvcndhcmRlZCB0byB0aGUgQ2xvdWQgSW50ZXJvcCBzZXJ2aWNlXG4gICAgICAgICAgICAgKiBAcGFyYW0gZmlsdGVyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHsqfSB7dm9pZH1cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BPdmVycmlkZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzZXRDbG91ZFNldENvbnRleHRGaWx0ZXIoZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsdGVyID0gZmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0IGNsb3VkQ29ubmVjdGlvblN0YXRlKCkge1xuICAgICAgICAgICAgICAgIGlmIChjbGllbnQubXF0dENsaWVudD8uY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnY29ubmVjdGVkJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNsaWVudC5tcXR0Q2xpZW50Py5yZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyZWNvbm5lY3RpbmcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAjbWF5YmVSZWNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgaGVscGVyIHdoZW4gU0FBUy0xNTg4IGlzIHNvbHZlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsb3VkQ29ubmVjdGlvblN0YXRlICE9PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsb3VkUmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjbG91ZEludGVyb3BPdmVycmlkZSB9O1xuIiwiLyohIEZvciBsaWNlbnNlIGluZm9ybWF0aW9uIHBsZWFzZSBzZWUgb3BlbmZpbi5tczM2NS5qcy5MSUNFTlNFLnR4dCAqL1xudmFyIHQ9ezg3Njp0PT57Y29uc3R7QWJvcnRDb250cm9sbGVyOmUsQWJvcnRTaWduYWw6bn09XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDA7dC5leHBvcnRzPWUsdC5leHBvcnRzLkFib3J0U2lnbmFsPW4sdC5leHBvcnRzLmRlZmF1bHQ9ZX0sNjA6KHQsZSk9PntlLmJ5dGVMZW5ndGg9ZnVuY3Rpb24odCl7dmFyIGU9cyh0KSxuPWVbMF0scj1lWzFdO3JldHVybiAzKihuK3IpLzQtcn0sZS50b0J5dGVBcnJheT1mdW5jdGlvbih0KXt2YXIgZSxuLGk9cyh0KSxhPWlbMF0sdT1pWzFdLGw9bmV3IG8oZnVuY3Rpb24odCxlLG4pe3JldHVybiAzKihlK24pLzQtbn0oMCxhLHUpKSxjPTAsZj11PjA/YS00OmE7Zm9yKG49MDtuPGY7bis9NCllPXJbdC5jaGFyQ29kZUF0KG4pXTw8MTh8clt0LmNoYXJDb2RlQXQobisxKV08PDEyfHJbdC5jaGFyQ29kZUF0KG4rMildPDw2fHJbdC5jaGFyQ29kZUF0KG4rMyldLGxbYysrXT1lPj4xNiYyNTUsbFtjKytdPWU+PjgmMjU1LGxbYysrXT0yNTUmZTsyPT09dSYmKGU9clt0LmNoYXJDb2RlQXQobildPDwyfHJbdC5jaGFyQ29kZUF0KG4rMSldPj40LGxbYysrXT0yNTUmZSk7MT09PXUmJihlPXJbdC5jaGFyQ29kZUF0KG4pXTw8MTB8clt0LmNoYXJDb2RlQXQobisxKV08PDR8clt0LmNoYXJDb2RlQXQobisyKV0+PjIsbFtjKytdPWU+PjgmMjU1LGxbYysrXT0yNTUmZSk7cmV0dXJuIGx9LGUuZnJvbUJ5dGVBcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGUscj10Lmxlbmd0aCxvPXIlMyxpPVtdLGE9MTYzODMscz0wLGw9ci1vO3M8bDtzKz1hKWkucHVzaCh1KHQscyxzK2E+bD9sOnMrYSkpOzE9PT1vPyhlPXRbci0xXSxpLnB1c2gobltlPj4yXStuW2U8PDQmNjNdK1wiPT1cIikpOjI9PT1vJiYoZT0odFtyLTJdPDw4KSt0W3ItMV0saS5wdXNoKG5bZT4+MTBdK25bZT4+NCY2M10rbltlPDwyJjYzXStcIj1cIikpO3JldHVybiBpLmpvaW4oXCJcIil9O2Zvcih2YXIgbj1bXSxyPVtdLG89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxpPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGE9MDthPDY0OysrYSluW2FdPWlbYV0scltpLmNoYXJDb2RlQXQoYSldPWE7ZnVuY3Rpb24gcyh0KXt2YXIgZT10Lmxlbmd0aDtpZihlJTQ+MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciBuPXQuaW5kZXhPZihcIj1cIik7cmV0dXJuLTE9PT1uJiYobj1lKSxbbixuPT09ZT8wOjQtbiU0XX1mdW5jdGlvbiB1KHQsZSxyKXtmb3IodmFyIG8saSxhPVtdLHM9ZTtzPHI7cys9MylvPSh0W3NdPDwxNiYxNjcxMTY4MCkrKHRbcysxXTw8OCY2NTI4MCkrKDI1NSZ0W3MrMl0pLGEucHVzaChuWyhpPW8pPj4xOCY2M10rbltpPj4xMiY2M10rbltpPj42JjYzXStuWzYzJmldKTtyZXR1cm4gYS5qb2luKFwiXCIpfXJbXCItXCIuY2hhckNvZGVBdCgwKV09NjIscltcIl9cIi5jaGFyQ29kZUF0KDApXT02M30sNDg1Oih0LGUsbik9Pntjb25zdCByPW4oNjApLG89bigyMTUpLGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wuZm9yP1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKTpudWxsO2UuQnVmZmVyPXUsZS5TbG93QnVmZmVyPWZ1bmN0aW9uKHQpeyt0IT10JiYodD0wKTtyZXR1cm4gdS5hbGxvYygrdCl9LGUuSU5TUEVDVF9NQVhfQllURVM9NTA7Y29uc3QgYT0yMTQ3NDgzNjQ3O2Z1bmN0aW9uIHModCl7aWYodD5hKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK3QrJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpO2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodCk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHUucHJvdG90eXBlKSxlfWZ1bmN0aW9uIHUodCxlLG4pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO3JldHVybiBmKHQpfXJldHVybiBsKHQsZSxuKX1mdW5jdGlvbiBsKHQsZSxuKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gZnVuY3Rpb24odCxlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJcIiE9PWV8fChlPVwidXRmOFwiKTtpZighdS5pc0VuY29kaW5nKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlKTtjb25zdCBuPTB8Zyh0LGUpO2xldCByPXMobik7Y29uc3Qgbz1yLndyaXRlKHQsZSk7byE9PW4mJihyPXIuc2xpY2UoMCxvKSk7cmV0dXJuIHJ9KHQsZSk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiBmdW5jdGlvbih0KXtpZihZKHQsVWludDhBcnJheSkpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodCk7cmV0dXJuIGgoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9cmV0dXJuIGQodCl9KHQpO2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiB0KTtpZihZKHQsQXJyYXlCdWZmZXIpfHx0JiZZKHQuYnVmZmVyLEFycmF5QnVmZmVyKSlyZXR1cm4gaCh0LGUsbik7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyJiYoWSh0LFNoYXJlZEFycmF5QnVmZmVyKXx8dCYmWSh0LmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXJldHVybiBoKHQsZSxuKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO2NvbnN0IHI9dC52YWx1ZU9mJiZ0LnZhbHVlT2YoKTtpZihudWxsIT1yJiZyIT09dClyZXR1cm4gdS5mcm9tKHIsZSxuKTtjb25zdCBvPWZ1bmN0aW9uKHQpe2lmKHUuaXNCdWZmZXIodCkpe2NvbnN0IGU9MHxwKHQubGVuZ3RoKSxuPXMoZSk7cmV0dXJuIDA9PT1uLmxlbmd0aHx8dC5jb3B5KG4sMCwwLGUpLG59aWYodm9pZCAwIT09dC5sZW5ndGgpcmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHQubGVuZ3RofHxLKHQubGVuZ3RoKT9zKDApOmQodCk7aWYoXCJCdWZmZXJcIj09PXQudHlwZSYmQXJyYXkuaXNBcnJheSh0LmRhdGEpKXJldHVybiBkKHQuZGF0YSl9KHQpO2lmKG8pcmV0dXJuIG87aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9U3ltYm9sLnRvUHJpbWl0aXZlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W1N5bWJvbC50b1ByaW1pdGl2ZV0pcmV0dXJuIHUuZnJvbSh0W1N5bWJvbC50b1ByaW1pdGl2ZV0oXCJzdHJpbmdcIiksZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIHQpfWZ1bmN0aW9uIGModCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKX1mdW5jdGlvbiBmKHQpe3JldHVybiBjKHQpLHModDwwPzA6MHxwKHQpKX1mdW5jdGlvbiBkKHQpe2NvbnN0IGU9dC5sZW5ndGg8MD8wOjB8cCh0Lmxlbmd0aCksbj1zKGUpO2ZvcihsZXQgcj0wO3I8ZTtyKz0xKW5bcl09MjU1JnRbcl07cmV0dXJuIG59ZnVuY3Rpb24gaCh0LGUsbil7aWYoZTwwfHx0LmJ5dGVMZW5ndGg8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZih0LmJ5dGVMZW5ndGg8ZSsobnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7bGV0IHI7cmV0dXJuIHI9dm9pZCAwPT09ZSYmdm9pZCAwPT09bj9uZXcgVWludDhBcnJheSh0KTp2b2lkIDA9PT1uP25ldyBVaW50OEFycmF5KHQsZSk6bmV3IFVpbnQ4QXJyYXkodCxlLG4pLE9iamVjdC5zZXRQcm90b3R5cGVPZihyLHUucHJvdG90eXBlKSxyfWZ1bmN0aW9uIHAodCl7aWYodD49YSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIithLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHx0fWZ1bmN0aW9uIGcodCxlKXtpZih1LmlzQnVmZmVyKHQpKXJldHVybiB0Lmxlbmd0aDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCl8fFkodCxBcnJheUJ1ZmZlcikpcmV0dXJuIHQuYnl0ZUxlbmd0aDtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTtjb25zdCBuPXQubGVuZ3RoLHI9YXJndW1lbnRzLmxlbmd0aD4yJiYhMD09PWFyZ3VtZW50c1syXTtpZighciYmMD09PW4pcmV0dXJuIDA7bGV0IG89ITE7Zm9yKDs7KXN3aXRjaChlKXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBuO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBWKHQpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipuO2Nhc2VcImhleFwiOnJldHVybiBuPj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gRyh0KS5sZW5ndGg7ZGVmYXVsdDppZihvKXJldHVybiByPy0xOlYodCkubGVuZ3RoO2U9KFwiXCIrZSkudG9Mb3dlckNhc2UoKSxvPSEwfX1mdW5jdGlvbiB5KHQsZSxuKXtsZXQgcj0hMTtpZigodm9pZCAwPT09ZXx8ZTwwKSYmKGU9MCksZT50aGlzLmxlbmd0aClyZXR1cm5cIlwiO2lmKCh2b2lkIDA9PT1ufHxuPnRoaXMubGVuZ3RoKSYmKG49dGhpcy5sZW5ndGgpLG48PTApcmV0dXJuXCJcIjtpZigobj4+Pj0wKTw9KGU+Pj49MCkpcmV0dXJuXCJcIjtmb3IodHx8KHQ9XCJ1dGY4XCIpOzspc3dpdGNoKHQpe2Nhc2VcImhleFwiOnJldHVybiBCKHRoaXMsZSxuKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gVCh0aGlzLGUsbik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4geCh0aGlzLGUsbik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIEModGhpcyxlLG4pO2Nhc2VcImJhc2U2NFwiOnJldHVybiBJKHRoaXMsZSxuKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gayh0aGlzLGUsbik7ZGVmYXVsdDppZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIit0KTt0PSh0K1wiXCIpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24gbSh0LGUsbil7Y29uc3Qgcj10W2VdO3RbZV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gdih0LGUsbixyLG8pe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4tMTtpZihcInN0cmluZ1wiPT10eXBlb2Ygbj8ocj1uLG49MCk6bj4yMTQ3NDgzNjQ3P249MjE0NzQ4MzY0NzpuPC0yMTQ3NDgzNjQ4JiYobj0tMjE0NzQ4MzY0OCksSyhuPStuKSYmKG49bz8wOnQubGVuZ3RoLTEpLG48MCYmKG49dC5sZW5ndGgrbiksbj49dC5sZW5ndGgpe2lmKG8pcmV0dXJuLTE7bj10Lmxlbmd0aC0xfWVsc2UgaWYobjwwKXtpZighbylyZXR1cm4tMTtuPTB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXUuZnJvbShlLHIpKSx1LmlzQnVmZmVyKGUpKXJldHVybiAwPT09ZS5sZW5ndGg/LTE6Yih0LGUsbixyLG8pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBlJj0yNTUsXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9vP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LGUsbik6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbCh0LGUsbik6Yih0LFtlXSxuLHIsbyk7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBiKHQsZSxuLHIsbyl7bGV0IGksYT0xLHM9dC5sZW5ndGgsdT1lLmxlbmd0aDtpZih2b2lkIDAhPT1yJiYoXCJ1Y3MyXCI9PT0ocj1TdHJpbmcocikudG9Mb3dlckNhc2UoKSl8fFwidWNzLTJcIj09PXJ8fFwidXRmMTZsZVwiPT09cnx8XCJ1dGYtMTZsZVwiPT09cikpe2lmKHQubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuLTE7YT0yLHMvPTIsdS89MixuLz0yfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gMT09PWE/dFtlXTp0LnJlYWRVSW50MTZCRShlKmEpfWlmKG8pe2xldCByPS0xO2ZvcihpPW47aTxzO2krKylpZihsKHQsaSk9PT1sKGUsLTE9PT1yPzA6aS1yKSl7aWYoLTE9PT1yJiYocj1pKSxpLXIrMT09PXUpcmV0dXJuIHIqYX1lbHNlLTEhPT1yJiYoaS09aS1yKSxyPS0xfWVsc2UgZm9yKG4rdT5zJiYobj1zLXUpLGk9bjtpPj0wO2ktLSl7bGV0IG49ITA7Zm9yKGxldCByPTA7cjx1O3IrKylpZihsKHQsaStyKSE9PWwoZSxyKSl7bj0hMTticmVha31pZihuKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIHcodCxlLG4scil7bj1OdW1iZXIobil8fDA7Y29uc3Qgbz10Lmxlbmd0aC1uO3I/KHI9TnVtYmVyKHIpKT5vJiYocj1vKTpyPW87Y29uc3QgaT1lLmxlbmd0aDtsZXQgYTtmb3Iocj5pLzImJihyPWkvMiksYT0wO2E8cjsrK2Epe2NvbnN0IHI9cGFyc2VJbnQoZS5zdWJzdHIoMiphLDIpLDE2KTtpZihLKHIpKXJldHVybiBhO3RbbithXT1yfXJldHVybiBhfWZ1bmN0aW9uIF8odCxlLG4scil7cmV0dXJuIEooVihlLHQubGVuZ3RoLW4pLHQsbixyKX1mdW5jdGlvbiBFKHQsZSxuLHIpe3JldHVybiBKKGZ1bmN0aW9uKHQpe2NvbnN0IGU9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDsrK24pZS5wdXNoKDI1NSZ0LmNoYXJDb2RlQXQobikpO3JldHVybiBlfShlKSx0LG4scil9ZnVuY3Rpb24gUyh0LGUsbixyKXtyZXR1cm4gSihHKGUpLHQsbixyKX1mdW5jdGlvbiBBKHQsZSxuLHIpe3JldHVybiBKKGZ1bmN0aW9uKHQsZSl7bGV0IG4scixvO2NvbnN0IGk9W107Zm9yKGxldCBhPTA7YTx0Lmxlbmd0aCYmISgoZS09Mik8MCk7KythKW49dC5jaGFyQ29kZUF0KGEpLHI9bj4+OCxvPW4lMjU2LGkucHVzaChvKSxpLnB1c2gocik7cmV0dXJuIGl9KGUsdC5sZW5ndGgtbiksdCxuLHIpfWZ1bmN0aW9uIEkodCxlLG4pe3JldHVybiAwPT09ZSYmbj09PXQubGVuZ3RoP3IuZnJvbUJ5dGVBcnJheSh0KTpyLmZyb21CeXRlQXJyYXkodC5zbGljZShlLG4pKX1mdW5jdGlvbiBUKHQsZSxuKXtuPU1hdGgubWluKHQubGVuZ3RoLG4pO2NvbnN0IHI9W107bGV0IG89ZTtmb3IoO288bjspe2NvbnN0IGU9dFtvXTtsZXQgaT1udWxsLGE9ZT4yMzk/NDplPjIyMz8zOmU+MTkxPzI6MTtpZihvK2E8PW4pe2xldCBuLHIscyx1O3N3aXRjaChhKXtjYXNlIDE6ZTwxMjgmJihpPWUpO2JyZWFrO2Nhc2UgMjpuPXRbbysxXSwxMjg9PSgxOTImbikmJih1PSgzMSZlKTw8Nnw2MyZuLHU+MTI3JiYoaT11KSk7YnJlYWs7Y2FzZSAzOm49dFtvKzFdLHI9dFtvKzJdLDEyOD09KDE5MiZuKSYmMTI4PT0oMTkyJnIpJiYodT0oMTUmZSk8PDEyfCg2MyZuKTw8Nnw2MyZyLHU+MjA0NyYmKHU8NTUyOTZ8fHU+NTczNDMpJiYoaT11KSk7YnJlYWs7Y2FzZSA0Om49dFtvKzFdLHI9dFtvKzJdLHM9dFtvKzNdLDEyOD09KDE5MiZuKSYmMTI4PT0oMTkyJnIpJiYxMjg9PSgxOTImcykmJih1PSgxNSZlKTw8MTh8KDYzJm4pPDwxMnwoNjMmcik8PDZ8NjMmcyx1PjY1NTM1JiZ1PDExMTQxMTImJihpPXUpKX19bnVsbD09PWk/KGk9NjU1MzMsYT0xKTppPjY1NTM1JiYoaS09NjU1MzYsci5wdXNoKGk+Pj4xMCYxMDIzfDU1Mjk2KSxpPTU2MzIwfDEwMjMmaSksci5wdXNoKGkpLG8rPWF9cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5sZW5ndGg7aWYoZTw9UilyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdCk7bGV0IG49XCJcIixyPTA7Zm9yKDtyPGU7KW4rPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQuc2xpY2UocixyKz1SKSk7cmV0dXJuIG59KHIpfWUua01heExlbmd0aD1hLHUuVFlQRURfQVJSQVlfU1VQUE9SVD1mdW5jdGlvbigpe3RyeXtjb25zdCB0PW5ldyBVaW50OEFycmF5KDEpLGU9e2ZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19O3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSksNDI9PT10LmZvbygpfWNhdGNoKHQpe3JldHVybiExfX0oKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlR8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBjb25zb2xlLmVycm9yfHxjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5IGBidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuXCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSxcInBhcmVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHUuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSxcIm9mZnNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHUuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KSx1LnBvb2xTaXplPTgxOTIsdS5mcm9tPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbCh0LGUsbil9LE9iamVjdC5zZXRQcm90b3R5cGVPZih1LnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHUsVWludDhBcnJheSksdS5hbGxvYz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYyh0KSx0PD0wP3ModCk6dm9pZCAwIT09ZT9cInN0cmluZ1wiPT10eXBlb2Ygbj9zKHQpLmZpbGwoZSxuKTpzKHQpLmZpbGwoZSk6cyh0KX0odCxlLG4pfSx1LmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfSx1LmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbih0KXtyZXR1cm4gZih0KX0sdS5pc0J1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmITA9PT10Ll9pc0J1ZmZlciYmdCE9PXUucHJvdG90eXBlfSx1LmNvbXBhcmU9ZnVuY3Rpb24odCxlKXtpZihZKHQsVWludDhBcnJheSkmJih0PXUuZnJvbSh0LHQub2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLFkoZSxVaW50OEFycmF5KSYmKGU9dS5mcm9tKGUsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKSksIXUuaXNCdWZmZXIodCl8fCF1LmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZih0PT09ZSlyZXR1cm4gMDtsZXQgbj10Lmxlbmd0aCxyPWUubGVuZ3RoO2ZvcihsZXQgbz0wLGk9TWF0aC5taW4obixyKTtvPGk7KytvKWlmKHRbb10hPT1lW29dKXtuPXRbb10scj1lW29dO2JyZWFrfXJldHVybiBuPHI/LTE6cjxuPzE6MH0sdS5pc0VuY29kaW5nPWZ1bmN0aW9uKHQpe3N3aXRjaChTdHJpbmcodCkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sdS5jb25jYXQ9ZnVuY3Rpb24odCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHUuYWxsb2MoMCk7bGV0IG47aWYodm9pZCAwPT09ZSlmb3IoZT0wLG49MDtuPHQubGVuZ3RoOysrbillKz10W25dLmxlbmd0aDtjb25zdCByPXUuYWxsb2NVbnNhZmUoZSk7bGV0IG89MDtmb3Iobj0wO248dC5sZW5ndGg7KytuKXtsZXQgZT10W25dO2lmKFkoZSxVaW50OEFycmF5KSlvK2UubGVuZ3RoPnIubGVuZ3RoPyh1LmlzQnVmZmVyKGUpfHwoZT11LmZyb20oZSkpLGUuY29weShyLG8pKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChyLGUsbyk7ZWxzZXtpZighdS5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtlLmNvcHkocixvKX1vKz1lLmxlbmd0aH1yZXR1cm4gcn0sdS5ieXRlTGVuZ3RoPWcsdS5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLHUucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7aWYodCUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKGxldCBlPTA7ZTx0O2UrPTIpbSh0aGlzLGUsZSsxKTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmxlbmd0aDtpZih0JTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IobGV0IGU9MDtlPHQ7ZSs9NCltKHRoaXMsZSxlKzMpLG0odGhpcyxlKzEsZSsyKTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzLmxlbmd0aDtpZih0JTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IobGV0IGU9MDtlPHQ7ZSs9OCltKHRoaXMsZSxlKzcpLG0odGhpcyxlKzEsZSs2KSxtKHRoaXMsZSsyLGUrNSksbSh0aGlzLGUrMyxlKzQpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT10P1wiXCI6MD09PWFyZ3VtZW50cy5sZW5ndGg/VCh0aGlzLDAsdCk6eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHUucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPXUucHJvdG90eXBlLnRvU3RyaW5nLHUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighdS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PXR8fDA9PT11LmNvbXBhcmUodGhpcyx0KX0sdS5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe2xldCB0PVwiXCI7Y29uc3Qgbj1lLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0PXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLG4pLnJlcGxhY2UoLyguezJ9KS9nLFwiJDEgXCIpLnRyaW0oKSx0aGlzLmxlbmd0aD5uJiYodCs9XCIgLi4uIFwiKSxcIjxCdWZmZXIgXCIrdCtcIj5cIn0saSYmKHUucHJvdG90eXBlW2ldPXUucHJvdG90eXBlLmluc3BlY3QpLHUucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlLG4scixvKXtpZihZKHQsVWludDhBcnJheSkmJih0PXUuZnJvbSh0LHQub2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLCF1LmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInRhcmdldFwiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgdCk7aWYodm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dD90Lmxlbmd0aDowKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1vJiYobz10aGlzLmxlbmd0aCksZTwwfHxuPnQubGVuZ3RofHxyPDB8fG8+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYocj49byYmZT49bilyZXR1cm4gMDtpZihyPj1vKXJldHVybi0xO2lmKGU+PW4pcmV0dXJuIDE7aWYodGhpcz09PXQpcmV0dXJuIDA7bGV0IGk9KG8+Pj49MCktKHI+Pj49MCksYT0obj4+Pj0wKS0oZT4+Pj0wKTtjb25zdCBzPU1hdGgubWluKGksYSksbD10aGlzLnNsaWNlKHIsbyksYz10LnNsaWNlKGUsbik7Zm9yKGxldCB0PTA7dDxzOysrdClpZihsW3RdIT09Y1t0XSl7aT1sW3RdLGE9Y1t0XTticmVha31yZXR1cm4gaTxhPy0xOmE8aT8xOjB9LHUucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZih0LGUsbil9LHUucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2KHRoaXMsdCxlLG4sITApfSx1LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHYodGhpcyx0LGUsbiwhMSl9LHUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHZvaWQgMD09PWUpcj1cInV0ZjhcIixuPXRoaXMubGVuZ3RoLGU9MDtlbHNlIGlmKHZvaWQgMD09PW4mJlwic3RyaW5nXCI9PXR5cGVvZiBlKXI9ZSxuPXRoaXMubGVuZ3RoLGU9MDtlbHNle2lmKCFpc0Zpbml0ZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtlPj4+PTAsaXNGaW5pdGUobik/KG4+Pj49MCx2b2lkIDA9PT1yJiYocj1cInV0ZjhcIikpOihyPW4sbj12b2lkIDApfWNvbnN0IG89dGhpcy5sZW5ndGgtZTtpZigodm9pZCAwPT09bnx8bj5vKSYmKG49byksdC5sZW5ndGg+MCYmKG48MHx8ZTwwKXx8ZT50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO3J8fChyPVwidXRmOFwiKTtsZXQgaT0hMTtmb3IoOzspc3dpdGNoKHIpe2Nhc2VcImhleFwiOnJldHVybiB3KHRoaXMsdCxlLG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBfKHRoaXMsdCxlLG4pO2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIEUodGhpcyx0LGUsbik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIFModGhpcyx0LGUsbik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIEEodGhpcyx0LGUsbik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIityKTtyPShcIlwiK3IpLnRvTG93ZXJDYXNlKCksaT0hMH19LHUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTtjb25zdCBSPTQwOTY7ZnVuY3Rpb24geCh0LGUsbil7bGV0IHI9XCJcIjtuPU1hdGgubWluKHQubGVuZ3RoLG4pO2ZvcihsZXQgbz1lO288bjsrK28pcis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmdFtvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gQyh0LGUsbil7bGV0IHI9XCJcIjtuPU1hdGgubWluKHQubGVuZ3RoLG4pO2ZvcihsZXQgbz1lO288bjsrK28pcis9U3RyaW5nLmZyb21DaGFyQ29kZSh0W29dKTtyZXR1cm4gcn1mdW5jdGlvbiBCKHQsZSxuKXtjb25zdCByPXQubGVuZ3RoOyghZXx8ZTwwKSYmKGU9MCksKCFufHxuPDB8fG4+cikmJihuPXIpO2xldCBvPVwiXCI7Zm9yKGxldCByPWU7cjxuOysrcilvKz1YW3Rbcl1dO3JldHVybiBvfWZ1bmN0aW9uIGsodCxlLG4pe2NvbnN0IHI9dC5zbGljZShlLG4pO2xldCBvPVwiXCI7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aC0xO3QrPTIpbys9U3RyaW5nLmZyb21DaGFyQ29kZShyW3RdKzI1NipyW3QrMV0pO3JldHVybiBvfWZ1bmN0aW9uIEwodCxlLG4pe2lmKHQlMSE9MHx8dDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKHQrZT5uKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1mdW5jdGlvbiBPKHQsZSxuLHIsbyxpKXtpZighdS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZihlPm98fGU8aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihuK3I+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gVSh0LGUsbixyLG8pe0YoZSxyLG8sdCxuLDcpO2xldCBpPU51bWJlcihlJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7dFtuKytdPWksaT4+PTgsdFtuKytdPWksaT4+PTgsdFtuKytdPWksaT4+PTgsdFtuKytdPWk7bGV0IGE9TnVtYmVyKGU+PkJpZ0ludCgzMikmQmlnSW50KDQyOTQ5NjcyOTUpKTtyZXR1cm4gdFtuKytdPWEsYT4+PTgsdFtuKytdPWEsYT4+PTgsdFtuKytdPWEsYT4+PTgsdFtuKytdPWEsbn1mdW5jdGlvbiBqKHQsZSxuLHIsbyl7RihlLHIsbyx0LG4sNyk7bGV0IGk9TnVtYmVyKGUmQmlnSW50KDQyOTQ5NjcyOTUpKTt0W24rN109aSxpPj49OCx0W24rNl09aSxpPj49OCx0W24rNV09aSxpPj49OCx0W24rNF09aTtsZXQgYT1OdW1iZXIoZT4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiB0W24rM109YSxhPj49OCx0W24rMl09YSxhPj49OCx0W24rMV09YSxhPj49OCx0W25dPWEsbis4fWZ1bmN0aW9uIE4odCxlLG4scixvLGkpe2lmKG4rcj50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihuPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gTSh0LGUsbixyLGkpe3JldHVybiBlPStlLG4+Pj49MCxpfHxOKHQsMCxuLDQpLG8ud3JpdGUodCxlLG4sciwyMyw0KSxuKzR9ZnVuY3Rpb24gUCh0LGUsbixyLGkpe3JldHVybiBlPStlLG4+Pj49MCxpfHxOKHQsMCxuLDgpLG8ud3JpdGUodCxlLG4sciw1Miw4KSxuKzh9dS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMubGVuZ3RoOyh0PX5+dCk8MD8odCs9bik8MCYmKHQ9MCk6dD5uJiYodD1uKSwoZT12b2lkIDA9PT1lP246fn5lKTwwPyhlKz1uKTwwJiYoZT0wKTplPm4mJihlPW4pLGU8dCYmKGU9dCk7Y29uc3Qgcj10aGlzLnN1YmFycmF5KHQsZSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihyLHUucHJvdG90eXBlKSxyfSx1LnByb3RvdHlwZS5yZWFkVWludExFPXUucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24odCxlLG4pe3Q+Pj49MCxlPj4+PTAsbnx8TCh0LGUsdGhpcy5sZW5ndGgpO2xldCByPXRoaXNbdF0sbz0xLGk9MDtmb3IoOysraTxlJiYobyo9MjU2KTspcis9dGhpc1t0K2ldKm87cmV0dXJuIHJ9LHUucHJvdG90eXBlLnJlYWRVaW50QkU9dS5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbih0LGUsbil7dD4+Pj0wLGU+Pj49MCxufHxMKHQsZSx0aGlzLmxlbmd0aCk7bGV0IHI9dGhpc1t0Ky0tZV0sbz0xO2Zvcig7ZT4wJiYobyo9MjU2KTspcis9dGhpc1t0Ky0tZV0qbztyZXR1cm4gcn0sdS5wcm90b3R5cGUucmVhZFVpbnQ4PXUucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDEsdGhpcy5sZW5ndGgpLHRoaXNbdF19LHUucHJvdG90eXBlLnJlYWRVaW50MTZMRT11LnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdfHRoaXNbdCsxXTw8OH0sdS5wcm90b3R5cGUucmVhZFVpbnQxNkJFPXUucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF08PDh8dGhpc1t0KzFdfSx1LnByb3RvdHlwZS5yZWFkVWludDMyTEU9dS5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsNCx0aGlzLmxlbmd0aCksKHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbdCszXX0sdS5wcm90b3R5cGUucmVhZFVpbnQzMkJFPXUucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbdF0rKHRoaXNbdCsxXTw8MTZ8dGhpc1t0KzJdPDw4fHRoaXNbdCszXSl9LHUucHJvdG90eXBlLnJlYWRCaWdVSW50NjRMRT1aKChmdW5jdGlvbih0KXt6KHQ+Pj49MCxcIm9mZnNldFwiKTtjb25zdCBlPXRoaXNbdF0sbj10aGlzW3QrN107dm9pZCAwIT09ZSYmdm9pZCAwIT09bnx8cSh0LHRoaXMubGVuZ3RoLTgpO2NvbnN0IHI9ZSsyNTYqdGhpc1srK3RdKzY1NTM2KnRoaXNbKyt0XSt0aGlzWysrdF0qMioqMjQsbz10aGlzWysrdF0rMjU2KnRoaXNbKyt0XSs2NTUzNip0aGlzWysrdF0rbioyKioyNDtyZXR1cm4gQmlnSW50KHIpKyhCaWdJbnQobyk8PEJpZ0ludCgzMikpfSkpLHUucHJvdG90eXBlLnJlYWRCaWdVSW50NjRCRT1aKChmdW5jdGlvbih0KXt6KHQ+Pj49MCxcIm9mZnNldFwiKTtjb25zdCBlPXRoaXNbdF0sbj10aGlzW3QrN107dm9pZCAwIT09ZSYmdm9pZCAwIT09bnx8cSh0LHRoaXMubGVuZ3RoLTgpO2NvbnN0IHI9ZSoyKioyNCs2NTUzNip0aGlzWysrdF0rMjU2KnRoaXNbKyt0XSt0aGlzWysrdF0sbz10aGlzWysrdF0qMioqMjQrNjU1MzYqdGhpc1srK3RdKzI1Nip0aGlzWysrdF0rbjtyZXR1cm4oQmlnSW50KHIpPDxCaWdJbnQoMzIpKStCaWdJbnQobyl9KSksdS5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKHQsZSxuKXt0Pj4+PTAsZT4+Pj0wLG58fEwodCxlLHRoaXMubGVuZ3RoKTtsZXQgcj10aGlzW3RdLG89MSxpPTA7Zm9yKDsrK2k8ZSYmKG8qPTI1Nik7KXIrPXRoaXNbdCtpXSpvO3JldHVybiBvKj0xMjgscj49byYmKHItPU1hdGgucG93KDIsOCplKSkscn0sdS5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKHQsZSxuKXt0Pj4+PTAsZT4+Pj0wLG58fEwodCxlLHRoaXMubGVuZ3RoKTtsZXQgcj1lLG89MSxpPXRoaXNbdCstLXJdO2Zvcig7cj4wJiYobyo9MjU2KTspaSs9dGhpc1t0Ky0tcl0qbztyZXR1cm4gbyo9MTI4LGk+PW8mJihpLT1NYXRoLnBvdygyLDgqZSkpLGl9LHUucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbdF0/LTEqKDI1NS10aGlzW3RdKzEpOnRoaXNbdF19LHUucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7dD4+Pj0wLGV8fEwodCwyLHRoaXMubGVuZ3RoKTtjb25zdCBuPXRoaXNbdF18dGhpc1t0KzFdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSx1LnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbih0LGUpe3Q+Pj49MCxlfHxMKHQsMix0aGlzLmxlbmd0aCk7Y29uc3Qgbj10aGlzW3QrMV18dGhpc1t0XTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0sdS5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fEwodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2fHRoaXNbdCszXTw8MjR9LHUucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsNCx0aGlzLmxlbmd0aCksdGhpc1t0XTw8MjR8dGhpc1t0KzFdPDwxNnx0aGlzW3QrMl08PDh8dGhpc1t0KzNdfSx1LnByb3RvdHlwZS5yZWFkQmlnSW50NjRMRT1aKChmdW5jdGlvbih0KXt6KHQ+Pj49MCxcIm9mZnNldFwiKTtjb25zdCBlPXRoaXNbdF0sbj10aGlzW3QrN107dm9pZCAwIT09ZSYmdm9pZCAwIT09bnx8cSh0LHRoaXMubGVuZ3RoLTgpO2NvbnN0IHI9dGhpc1t0KzRdKzI1Nip0aGlzW3QrNV0rNjU1MzYqdGhpc1t0KzZdKyhuPDwyNCk7cmV0dXJuKEJpZ0ludChyKTw8QmlnSW50KDMyKSkrQmlnSW50KGUrMjU2KnRoaXNbKyt0XSs2NTUzNip0aGlzWysrdF0rdGhpc1srK3RdKjIqKjI0KX0pKSx1LnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRT1aKChmdW5jdGlvbih0KXt6KHQ+Pj49MCxcIm9mZnNldFwiKTtjb25zdCBlPXRoaXNbdF0sbj10aGlzW3QrN107dm9pZCAwIT09ZSYmdm9pZCAwIT09bnx8cSh0LHRoaXMubGVuZ3RoLTgpO2NvbnN0IHI9KGU8PDI0KSs2NTUzNip0aGlzWysrdF0rMjU2KnRoaXNbKyt0XSt0aGlzWysrdF07cmV0dXJuKEJpZ0ludChyKTw8QmlnSW50KDMyKSkrQmlnSW50KHRoaXNbKyt0XSoyKioyNCs2NTUzNip0aGlzWysrdF0rMjU2KnRoaXNbKyt0XStuKX0pKSx1LnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8TCh0LDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLHQsITAsMjMsNCl9LHUucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsdCwhMSwyMyw0KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsdCwhMCw1Miw4KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxMKHQsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsdCwhMSw1Miw4KX0sdS5wcm90b3R5cGUud3JpdGVVaW50TEU9dS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odCxlLG4scil7aWYodD0rdCxlPj4+PTAsbj4+Pj0wLCFyKXtPKHRoaXMsdCxlLG4sTWF0aC5wb3coMiw4Km4pLTEsMCl9bGV0IG89MSxpPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytpPG4mJihvKj0yNTYpOyl0aGlzW2UraV09dC9vJjI1NTtyZXR1cm4gZStufSx1LnByb3RvdHlwZS53cml0ZVVpbnRCRT11LnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbih0LGUsbixyKXtpZih0PSt0LGU+Pj49MCxuPj4+PTAsIXIpe08odGhpcyx0LGUsbixNYXRoLnBvdygyLDgqbiktMSwwKX1sZXQgbz1uLTEsaT0xO2Zvcih0aGlzW2Urb109MjU1JnQ7LS1vPj0wJiYoaSo9MjU2KTspdGhpc1tlK29dPXQvaSYyNTU7cmV0dXJuIGUrbn0sdS5wcm90b3R5cGUud3JpdGVVaW50OD11LnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSwxLDI1NSwwKSx0aGlzW2VdPTI1NSZ0LGUrMX0sdS5wcm90b3R5cGUud3JpdGVVaW50MTZMRT11LnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSwyLDY1NTM1LDApLHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44LGUrMn0sdS5wcm90b3R5cGUud3JpdGVVaW50MTZCRT11LnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSwyLDY1NTM1LDApLHRoaXNbZV09dD4+PjgsdGhpc1tlKzFdPTI1NSZ0LGUrMn0sdS5wcm90b3R5cGUud3JpdGVVaW50MzJMRT11LnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSw0LDQyOTQ5NjcyOTUsMCksdGhpc1tlKzNdPXQ+Pj4yNCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2VdPTI1NSZ0LGUrNH0sdS5wcm90b3R5cGUud3JpdGVVaW50MzJCRT11LnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSw0LDQyOTQ5NjcyOTUsMCksdGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0LGUrNH0sdS5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRMRT1aKChmdW5jdGlvbih0LGU9MCl7cmV0dXJuIFUodGhpcyx0LGUsQmlnSW50KDApLEJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZlwiKSl9KSksdS5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRT1aKChmdW5jdGlvbih0LGU9MCl7cmV0dXJuIGoodGhpcyx0LGUsQmlnSW50KDApLEJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZlwiKSl9KSksdS5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih0LGUsbixyKXtpZih0PSt0LGU+Pj49MCwhcil7Y29uc3Qgcj1NYXRoLnBvdygyLDgqbi0xKTtPKHRoaXMsdCxlLG4sci0xLC1yKX1sZXQgbz0wLGk9MSxhPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytvPG4mJihpKj0yNTYpOyl0PDAmJjA9PT1hJiYwIT09dGhpc1tlK28tMV0mJihhPTEpLHRoaXNbZStvXT0odC9pPj4wKS1hJjI1NTtyZXR1cm4gZStufSx1LnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9K3QsZT4+Pj0wLCFyKXtjb25zdCByPU1hdGgucG93KDIsOCpuLTEpO08odGhpcyx0LGUsbixyLTEsLXIpfWxldCBvPW4tMSxpPTEsYT0wO2Zvcih0aGlzW2Urb109MjU1JnQ7LS1vPj0wJiYoaSo9MjU2KTspdDwwJiYwPT09YSYmMCE9PXRoaXNbZStvKzFdJiYoYT0xKSx0aGlzW2Urb109KHQvaT4+MCktYSYyNTU7cmV0dXJuIGUrbn0sdS5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSwxLDEyNywtMTI4KSx0PDAmJih0PTI1NSt0KzEpLHRoaXNbZV09MjU1JnQsZSsxfSx1LnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PSt0LGU+Pj49MCxufHxPKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCxlKzJ9LHUucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsMiwzMjc2NywtMzI3NjgpLHRoaXNbZV09dD4+PjgsdGhpc1tlKzFdPTI1NSZ0LGUrMn0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0rdCxlPj4+PTAsbnx8Tyh0aGlzLHQsZSw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44LHRoaXNbZSsyXT10Pj4+MTYsdGhpc1tlKzNdPXQ+Pj4yNCxlKzR9LHUucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9K3QsZT4+Pj0wLG58fE8odGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKSx0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQsZSs0fSx1LnByb3RvdHlwZS53cml0ZUJpZ0ludDY0TEU9WigoZnVuY3Rpb24odCxlPTApe3JldHVybiBVKHRoaXMsdCxlLC1CaWdJbnQoXCIweDgwMDAwMDAwMDAwMDAwMDBcIiksQmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmXCIpKX0pKSx1LnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkU9WigoZnVuY3Rpb24odCxlPTApe3JldHVybiBqKHRoaXMsdCxlLC1CaWdJbnQoXCIweDgwMDAwMDAwMDAwMDAwMDBcIiksQmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmXCIpKX0pKSx1LnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNKHRoaXMsdCxlLCEwLG4pfSx1LnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNKHRoaXMsdCxlLCExLG4pfSx1LnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUCh0aGlzLHQsZSwhMCxuKX0sdS5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFAodGhpcyx0LGUsITEsbil9LHUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCxlLG4scil7aWYoIXUuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlclwiKTtpZihufHwobj0wKSxyfHwwPT09cnx8KHI9dGhpcy5sZW5ndGgpLGU+PXQubGVuZ3RoJiYoZT10Lmxlbmd0aCksZXx8KGU9MCkscj4wJiZyPG4mJihyPW4pLHI9PT1uKXJldHVybiAwO2lmKDA9PT10Lmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYobjwwfHxuPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtyPnRoaXMubGVuZ3RoJiYocj10aGlzLmxlbmd0aCksdC5sZW5ndGgtZTxyLW4mJihyPXQubGVuZ3RoLWUrbik7Y29uc3Qgbz1yLW47cmV0dXJuIHRoaXM9PT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluP3RoaXMuY29weVdpdGhpbihlLG4scik6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwodCx0aGlzLnN1YmFycmF5KG4sciksZSksb30sdS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih0LGUsbixyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGU/KHI9ZSxlPTAsbj10aGlzLmxlbmd0aCk6XCJzdHJpbmdcIj09dHlwZW9mIG4mJihyPW4sbj10aGlzLmxlbmd0aCksdm9pZCAwIT09ciYmXCJzdHJpbmdcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHImJiF1LmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3IpO2lmKDE9PT10Lmxlbmd0aCl7Y29uc3QgZT10LmNoYXJDb2RlQXQoMCk7KFwidXRmOFwiPT09ciYmZTwxMjh8fFwibGF0aW4xXCI9PT1yKSYmKHQ9ZSl9fWVsc2VcIm51bWJlclwiPT10eXBlb2YgdD90Jj0yNTU6XCJib29sZWFuXCI9PXR5cGVvZiB0JiYodD1OdW1iZXIodCkpO2lmKGU8MHx8dGhpcy5sZW5ndGg8ZXx8dGhpcy5sZW5ndGg8bil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihuPD1lKXJldHVybiB0aGlzO2xldCBvO2lmKGU+Pj49MCxuPXZvaWQgMD09PW4/dGhpcy5sZW5ndGg6bj4+PjAsdHx8KHQ9MCksXCJudW1iZXJcIj09dHlwZW9mIHQpZm9yKG89ZTtvPG47KytvKXRoaXNbb109dDtlbHNle2NvbnN0IGk9dS5pc0J1ZmZlcih0KT90OnUuZnJvbSh0LHIpLGE9aS5sZW5ndGg7aWYoMD09PWEpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtmb3Iobz0wO288bi1lOysrbyl0aGlzW28rZV09aVtvJWFdfXJldHVybiB0aGlzfTtjb25zdCBXPXt9O2Z1bmN0aW9uICQodCxlLG4pe1dbdF09Y2xhc3MgTm9kZUVycm9yIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtZXNzYWdlXCIse3ZhbHVlOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMubmFtZT1gJHt0aGlzLm5hbWV9IFske3R9XWAsdGhpcy5zdGFjayxkZWxldGUgdGhpcy5uYW1lfWdldCBjb2RlKCl7cmV0dXJuIHR9c2V0IGNvZGUodCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb2RlXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOnQsd3JpdGFibGU6ITB9KX10b1N0cmluZygpe3JldHVybmAke3RoaXMubmFtZX0gWyR7dH1dOiAke3RoaXMubWVzc2FnZX1gfX19ZnVuY3Rpb24gRCh0KXtsZXQgZT1cIlwiLG49dC5sZW5ndGg7Y29uc3Qgcj1cIi1cIj09PXRbMF0/MTowO2Zvcig7bj49cis0O24tPTMpZT1gXyR7dC5zbGljZShuLTMsbil9JHtlfWA7cmV0dXJuYCR7dC5zbGljZSgwLG4pfSR7ZX1gfWZ1bmN0aW9uIEYodCxlLG4scixvLGkpe2lmKHQ+bnx8dDxlKXtjb25zdCByPVwiYmlnaW50XCI9PXR5cGVvZiBlP1wiblwiOlwiXCI7bGV0IG87dGhyb3cgbz1pPjM/MD09PWV8fGU9PT1CaWdJbnQoMCk/YD49IDAke3J9IGFuZCA8IDIke3J9ICoqICR7OCooaSsxKX0ke3J9YDpgPj0gLSgyJHtyfSAqKiAkezgqKGkrMSktMX0ke3J9KSBhbmQgPCAyICoqICR7OCooaSsxKS0xfSR7cn1gOmA+PSAke2V9JHtyfSBhbmQgPD0gJHtufSR7cn1gLG5ldyBXLkVSUl9PVVRfT0ZfUkFOR0UoXCJ2YWx1ZVwiLG8sdCl9IWZ1bmN0aW9uKHQsZSxuKXt6KGUsXCJvZmZzZXRcIiksdm9pZCAwIT09dFtlXSYmdm9pZCAwIT09dFtlK25dfHxxKGUsdC5sZW5ndGgtKG4rMSkpfShyLG8saSl9ZnVuY3Rpb24geih0LGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBXLkVSUl9JTlZBTElEX0FSR19UWVBFKGUsXCJudW1iZXJcIix0KX1mdW5jdGlvbiBxKHQsZSxuKXtpZihNYXRoLmZsb29yKHQpIT09dCl0aHJvdyB6KHQsbiksbmV3IFcuRVJSX09VVF9PRl9SQU5HRShufHxcIm9mZnNldFwiLFwiYW4gaW50ZWdlclwiLHQpO2lmKGU8MCl0aHJvdyBuZXcgVy5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFM7dGhyb3cgbmV3IFcuRVJSX09VVF9PRl9SQU5HRShufHxcIm9mZnNldFwiLGA+PSAke24/MTowfSBhbmQgPD0gJHtlfWAsdCl9JChcIkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EU1wiLChmdW5jdGlvbih0KXtyZXR1cm4gdD9gJHt0fSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgOlwiQXR0ZW1wdCB0byBhY2Nlc3MgbWVtb3J5IG91dHNpZGUgYnVmZmVyIGJvdW5kc1wifSksUmFuZ2VFcnJvciksJChcIkVSUl9JTlZBTElEX0FSR19UWVBFXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuYFRoZSBcIiR7dH1cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIGV9YH0pLFR5cGVFcnJvciksJChcIkVSUl9PVVRfT0ZfUkFOR0VcIiwoZnVuY3Rpb24odCxlLG4pe2xldCByPWBUaGUgdmFsdWUgb2YgXCIke3R9XCIgaXMgb3V0IG9mIHJhbmdlLmAsbz1uO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKG4pJiZNYXRoLmFicyhuKT4yKiozMj9vPUQoU3RyaW5nKG4pKTpcImJpZ2ludFwiPT10eXBlb2YgbiYmKG89U3RyaW5nKG4pLChuPkJpZ0ludCgyKSoqQmlnSW50KDMyKXx8bjwtKEJpZ0ludCgyKSoqQmlnSW50KDMyKSkpJiYobz1EKG8pKSxvKz1cIm5cIikscis9YCBJdCBtdXN0IGJlICR7ZX0uIFJlY2VpdmVkICR7b31gLHJ9KSxSYW5nZUVycm9yKTtjb25zdCBIPS9bXisvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gVih0LGUpe2xldCBuO2U9ZXx8MS8wO2NvbnN0IHI9dC5sZW5ndGg7bGV0IG89bnVsbDtjb25zdCBpPVtdO2ZvcihsZXQgYT0wO2E8cjsrK2Epe2lmKG49dC5jaGFyQ29kZUF0KGEpLG4+NTUyOTUmJm48NTczNDQpe2lmKCFvKXtpZihuPjU2MzE5KXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoYSsxPT09cil7KGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW89bjtjb250aW51ZX1pZihuPDU2MzIwKXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSksbz1uO2NvbnRpbnVlfW49NjU1MzYrKG8tNTUyOTY8PDEwfG4tNTYzMjApfWVsc2UgbyYmKGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2lmKG89bnVsbCxuPDEyOCl7aWYoKGUtPTEpPDApYnJlYWs7aS5wdXNoKG4pfWVsc2UgaWYobjwyMDQ4KXtpZigoZS09Mik8MClicmVhaztpLnB1c2gobj4+NnwxOTIsNjMmbnwxMjgpfWVsc2UgaWYobjw2NTUzNil7aWYoKGUtPTMpPDApYnJlYWs7aS5wdXNoKG4+PjEyfDIyNCxuPj42JjYzfDEyOCw2MyZufDEyOCl9ZWxzZXtpZighKG48MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKChlLT00KTwwKWJyZWFrO2kucHVzaChuPj4xOHwyNDAsbj4+MTImNjN8MTI4LG4+PjYmNjN8MTI4LDYzJm58MTI4KX19cmV0dXJuIGl9ZnVuY3Rpb24gRyh0KXtyZXR1cm4gci50b0J5dGVBcnJheShmdW5jdGlvbih0KXtpZigodD0odD10LnNwbGl0KFwiPVwiKVswXSkudHJpbSgpLnJlcGxhY2UoSCxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO3QubGVuZ3RoJTQhPTA7KXQrPVwiPVwiO3JldHVybiB0fSh0KSl9ZnVuY3Rpb24gSih0LGUsbixyKXtsZXQgbztmb3Iobz0wO288ciYmIShvK24+PWUubGVuZ3RofHxvPj10Lmxlbmd0aCk7KytvKWVbbytuXT10W29dO3JldHVybiBvfWZ1bmN0aW9uIFkodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV8fG51bGwhPXQmJm51bGwhPXQuY29uc3RydWN0b3ImJm51bGwhPXQuY29uc3RydWN0b3IubmFtZSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09ZS5uYW1lfWZ1bmN0aW9uIEsodCl7cmV0dXJuIHQhPXR9Y29uc3QgWD1mdW5jdGlvbigpe2NvbnN0IHQ9XCIwMTIzNDU2Nzg5YWJjZGVmXCIsZT1uZXcgQXJyYXkoMjU2KTtmb3IobGV0IG49MDtuPDE2Oysrbil7Y29uc3Qgcj0xNipuO2ZvcihsZXQgbz0wO288MTY7KytvKWVbcitvXT10W25dK3Rbb119cmV0dXJuIGV9KCk7ZnVuY3Rpb24gWih0KXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgQmlnSW50P1E6dH1mdW5jdGlvbiBRKCl7dGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IG5vdCBzdXBwb3J0ZWRcIil9fSw0NjU6dD0+e3ZhciBlLG49XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLHI9biYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5hcHBseT9uLmFwcGx5OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodCxlLG4pfTtlPW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub3duS2V5cz9uLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkpfTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCl9O3ZhciBvPU51bWJlci5pc05hTnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9O2Z1bmN0aW9uIGkoKXtpLmluaXQuY2FsbCh0aGlzKX10LmV4cG9ydHM9aSx0LmV4cG9ydHMub25jZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtmdW5jdGlvbiBvKG4pe3QucmVtb3ZlTGlzdGVuZXIoZSxpKSxyKG4pfWZ1bmN0aW9uIGkoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlbW92ZUxpc3RlbmVyJiZ0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvKSxuKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9Zyh0LGUsaSx7b25jZTohMH0pLFwiZXJyb3JcIiE9PWUmJmZ1bmN0aW9uKHQsZSxuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9uJiZnKHQsXCJlcnJvclwiLGUsbil9KHQsbyx7b25jZTohMH0pfSkpfSxpLkV2ZW50RW1pdHRlcj1pLGkucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLGkucHJvdG90eXBlLl9ldmVudHNDb3VudD0wLGkucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBhPTEwO2Z1bmN0aW9uIHModCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KX1mdW5jdGlvbiB1KHQpe3JldHVybiB2b2lkIDA9PT10Ll9tYXhMaXN0ZW5lcnM/aS5kZWZhdWx0TWF4TGlzdGVuZXJzOnQuX21heExpc3RlbmVyc31mdW5jdGlvbiBsKHQsZSxuLHIpe3ZhciBvLGksYSxsO2lmKHMobiksdm9pZCAwPT09KGk9dC5fZXZlbnRzKT8oaT10Ll9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0Ll9ldmVudHNDb3VudD0wKToodm9pZCAwIT09aS5uZXdMaXN0ZW5lciYmKHQuZW1pdChcIm5ld0xpc3RlbmVyXCIsZSxuLmxpc3RlbmVyP24ubGlzdGVuZXI6biksaT10Ll9ldmVudHMpLGE9aVtlXSksdm9pZCAwPT09YSlhPWlbZV09biwrK3QuX2V2ZW50c0NvdW50O2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYT9hPWlbZV09cj9bbixhXTpbYSxuXTpyP2EudW5zaGlmdChuKTphLnB1c2gobiksKG89dSh0KSk+MCYmYS5sZW5ndGg+byYmIWEud2FybmVkKXthLndhcm5lZD0hMDt2YXIgYz1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK2EubGVuZ3RoK1wiIFwiK1N0cmluZyhlKStcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0XCIpO2MubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLGMuZW1pdHRlcj10LGMudHlwZT1lLGMuY291bnQ9YS5sZW5ndGgsbD1jLGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKGwpfXJldHVybiB0fWZ1bmN0aW9uIGMoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIGYodCxlLG4pe3ZhciByPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDp0LHR5cGU6ZSxsaXN0ZW5lcjpufSxvPWMuYmluZChyKTtyZXR1cm4gby5saXN0ZW5lcj1uLHIud3JhcEZuPW8sb31mdW5jdGlvbiBkKHQsZSxuKXt2YXIgcj10Ll9ldmVudHM7aWYodm9pZCAwPT09cilyZXR1cm5bXTt2YXIgbz1yW2VdO3JldHVybiB2b2lkIDA9PT1vP1tdOlwiZnVuY3Rpb25cIj09dHlwZW9mIG8/bj9bby5saXN0ZW5lcnx8b106W29dOm4/ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aCksbj0wO248ZS5sZW5ndGg7KytuKWVbbl09dFtuXS5saXN0ZW5lcnx8dFtuXTtyZXR1cm4gZX0obyk6cChvLG8ubGVuZ3RoKX1mdW5jdGlvbiBoKHQpe3ZhciBlPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1lKXt2YXIgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIDE7aWYodm9pZCAwIT09bilyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gcCh0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTsrK3IpbltyXT10W3JdO3JldHVybiBufWZ1bmN0aW9uIGcodCxlLG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5vbilyLm9uY2U/dC5vbmNlKGUsbik6dC5vbihlLG4pO2Vsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5hZGRFdmVudExpc3RlbmVyKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpO3QuYWRkRXZlbnRMaXN0ZW5lcihlLChmdW5jdGlvbiBvKGkpe3Iub25jZSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbyksbihpKX0pKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldDpmdW5jdGlvbih0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dDwwfHxvKHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyt0K1wiLlwiKTthPXR9fSksaS5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0saS5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fG8odCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK3QrXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9dCx0aGlzfSxpLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdSh0aGlzKX0saS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZS5wdXNoKGFyZ3VtZW50c1tuXSk7dmFyIG89XCJlcnJvclwiPT09dCxpPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1pKW89byYmdm9pZCAwPT09aS5lcnJvcjtlbHNlIGlmKCFvKXJldHVybiExO2lmKG8pe3ZhciBhO2lmKGUubGVuZ3RoPjAmJihhPWVbMF0pLGEgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBhO3ZhciBzPW5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIisoYT9cIiAoXCIrYS5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBzLmNvbnRleHQ9YSxzfXZhciB1PWlbdF07aWYodm9pZCAwPT09dSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB1KXIodSx0aGlzLGUpO2Vsc2V7dmFyIGw9dS5sZW5ndGgsYz1wKHUsbCk7Zm9yKG49MDtuPGw7KytuKXIoY1tuXSx0aGlzLGUpfXJldHVybiEwfSxpLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBsKHRoaXMsdCxlLCExKX0saS5wcm90b3R5cGUub249aS5wcm90b3R5cGUuYWRkTGlzdGVuZXIsaS5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGwodGhpcyx0LGUsITApfSxpLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHMoZSksdGhpcy5vbih0LGYodGhpcyx0LGUpKSx0aGlzfSxpLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHMoZSksdGhpcy5wcmVwZW5kTGlzdGVuZXIodCxmKHRoaXMsdCxlKSksdGhpc30saS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saSxhO2lmKHMoZSksdm9pZCAwPT09KHI9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obj1yW3RdKSlyZXR1cm4gdGhpcztpZihuPT09ZXx8bi5saXN0ZW5lcj09PWUpMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIHJbdF0sci5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIix0LG4ubGlzdGVuZXJ8fGUpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pe2ZvcihvPS0xLGk9bi5sZW5ndGgtMTtpPj0wO2ktLSlpZihuW2ldPT09ZXx8bltpXS5saXN0ZW5lcj09PWUpe2E9bltpXS5saXN0ZW5lcixvPWk7YnJlYWt9aWYobzwwKXJldHVybiB0aGlzOzA9PT1vP24uc2hpZnQoKTpmdW5jdGlvbih0LGUpe2Zvcig7ZSsxPHQubGVuZ3RoO2UrKyl0W2VdPXRbZSsxXTt0LnBvcCgpfShuLG8pLDE9PT1uLmxlbmd0aCYmKHJbdF09blswXSksdm9pZCAwIT09ci5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIix0LGF8fGUpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5vZmY9aS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsaS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlLG4scjtpZih2b2lkIDA9PT0obj10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PW4ucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTp2b2lkIDAhPT1uW3RdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgblt0XSksdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG8saT1PYmplY3Qua2V5cyhuKTtmb3Iocj0wO3I8aS5sZW5ndGg7KytyKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShvPWlbcl0pJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhvKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YoZT1uW3RdKSl0aGlzLnJlbW92ZUxpc3RlbmVyKHQsZSk7ZWxzZSBpZih2b2lkIDAhPT1lKWZvcihyPWUubGVuZ3RoLTE7cj49MDtyLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcih0LGVbcl0pO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIGQodGhpcyx0LCEwKX0saS5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiBkKHRoaXMsdCwhMSl9LGkubGlzdGVuZXJDb3VudD1mdW5jdGlvbih0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQubGlzdGVuZXJDb3VudD90Lmxpc3RlbmVyQ291bnQoZSk6aC5jYWxsKHQsZSl9LGkucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9aCxpLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/ZSh0aGlzLl9ldmVudHMpOltdfX0sMjE1Oih0LGUpPT57ZS5yZWFkPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGksYSxzPTgqby1yLTEsdT0oMTw8cyktMSxsPXU+PjEsYz0tNyxmPW4/by0xOjAsZD1uPy0xOjEsaD10W2UrZl07Zm9yKGYrPWQsaT1oJigxPDwtYyktMSxoPj49LWMsYys9cztjPjA7aT0yNTYqaSt0W2UrZl0sZis9ZCxjLT04KTtmb3IoYT1pJigxPDwtYyktMSxpPj49LWMsYys9cjtjPjA7YT0yNTYqYSt0W2UrZl0sZis9ZCxjLT04KTtpZigwPT09aSlpPTEtbDtlbHNle2lmKGk9PT11KXJldHVybiBhP05hTjoxLzAqKGg/LTE6MSk7YSs9TWF0aC5wb3coMixyKSxpLT1sfXJldHVybihoPy0xOjEpKmEqTWF0aC5wb3coMixpLXIpfSxlLndyaXRlPWZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt2YXIgYSxzLHUsbD04Kmktby0xLGM9KDE8PGwpLTEsZj1jPj4xLGQ9MjM9PT1vP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxoPXI/MDppLTEscD1yPzE6LTEsZz1lPDB8fDA9PT1lJiYxL2U8MD8xOjA7Zm9yKGU9TWF0aC5hYnMoZSksaXNOYU4oZSl8fGU9PT0xLzA/KHM9aXNOYU4oZSk/MTowLGE9Yyk6KGE9TWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMiksZSoodT1NYXRoLnBvdygyLC1hKSk8MSYmKGEtLSx1Kj0yKSwoZSs9YStmPj0xP2QvdTpkKk1hdGgucG93KDIsMS1mKSkqdT49MiYmKGErKyx1Lz0yKSxhK2Y+PWM/KHM9MCxhPWMpOmErZj49MT8ocz0oZSp1LTEpKk1hdGgucG93KDIsbyksYSs9Zik6KHM9ZSpNYXRoLnBvdygyLGYtMSkqTWF0aC5wb3coMixvKSxhPTApKTtvPj04O3RbbitoXT0yNTUmcyxoKz1wLHMvPTI1NixvLT04KTtmb3IoYT1hPDxvfHMsbCs9bztsPjA7dFtuK2hdPTI1NSZhLGgrPXAsYS89MjU2LGwtPTgpO3RbbitoLXBdfD0xMjgqZ319LDk1MTpmdW5jdGlvbih0LGUsbil7dmFyIHI7dD1uLm5tZCh0KSxmdW5jdGlvbigpe3ZhciBvLGk9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsYT1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIixzPVwiX19sb2Rhc2hfcGxhY2Vob2xkZXJfX1wiLHU9MTYsbD0zMixjPTY0LGY9MTI4LGQ9MjU2LGg9MS8wLHA9OTAwNzE5OTI1NDc0MDk5MSxnPU5hTix5PTQyOTQ5NjcyOTUsbT1bW1wiYXJ5XCIsZl0sW1wiYmluZFwiLDFdLFtcImJpbmRLZXlcIiwyXSxbXCJjdXJyeVwiLDhdLFtcImN1cnJ5UmlnaHRcIix1XSxbXCJmbGlwXCIsNTEyXSxbXCJwYXJ0aWFsXCIsbF0sW1wicGFydGlhbFJpZ2h0XCIsY10sW1wicmVhcmdcIixkXV0sdj1cIltvYmplY3QgQXJndW1lbnRzXVwiLGI9XCJbb2JqZWN0IEFycmF5XVwiLHc9XCJbb2JqZWN0IEJvb2xlYW5dXCIsXz1cIltvYmplY3QgRGF0ZV1cIixFPVwiW29iamVjdCBFcnJvcl1cIixTPVwiW29iamVjdCBGdW5jdGlvbl1cIixBPVwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIixJPVwiW29iamVjdCBNYXBdXCIsVD1cIltvYmplY3QgTnVtYmVyXVwiLFI9XCJbb2JqZWN0IE9iamVjdF1cIix4PVwiW29iamVjdCBQcm9taXNlXVwiLEM9XCJbb2JqZWN0IFJlZ0V4cF1cIixCPVwiW29iamVjdCBTZXRdXCIsaz1cIltvYmplY3QgU3RyaW5nXVwiLEw9XCJbb2JqZWN0IFN5bWJvbF1cIixPPVwiW29iamVjdCBXZWFrTWFwXVwiLFU9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLGo9XCJbb2JqZWN0IERhdGFWaWV3XVwiLE49XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixNPVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCIsUD1cIltvYmplY3QgSW50OEFycmF5XVwiLFc9XCJbb2JqZWN0IEludDE2QXJyYXldXCIsJD1cIltvYmplY3QgSW50MzJBcnJheV1cIixEPVwiW29iamVjdCBVaW50OEFycmF5XVwiLEY9XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLHo9XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLHE9XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLEg9L1xcYl9fcCBcXCs9ICcnOy9nLFY9L1xcYihfX3AgXFwrPSkgJycgXFwrL2csRz0vKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nLEo9LyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFk9L1smPD5cIiddL2csSz1SZWdFeHAoSi5zb3VyY2UpLFg9UmVnRXhwKFkuc291cmNlKSxaPS88JS0oW1xcc1xcU10rPyklPi9nLFE9LzwlKFtcXHNcXFNdKz8pJT4vZyx0dD0vPCU9KFtcXHNcXFNdKz8pJT4vZyxldD0vXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLG50PS9eXFx3KiQvLHJ0PS9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZyxvdD0vW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csaXQ9UmVnRXhwKG90LnNvdXJjZSksYXQ9L15cXHMrLyxzdD0vXFxzLyx1dD0vXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLGx0PS9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxjdD0vLD8gJiAvLGZ0PS9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZyxkdD0vWygpPSx7fVxcW1xcXVxcL1xcc10vLGh0PS9cXFxcKFxcXFwpPy9nLHB0PS9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZyxndD0vXFx3KiQvLHl0PS9eWy0rXTB4WzAtOWEtZl0rJC9pLG10PS9eMGJbMDFdKyQvaSx2dD0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLGJ0PS9eMG9bMC03XSskL2ksd3Q9L14oPzowfFsxLTldXFxkKikkLyxfdD0vW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZyxFdD0vKCReKS8sU3Q9L1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nLEF0PVwiXFxcXHVkODAwLVxcXFx1ZGZmZlwiLEl0PVwiXFxcXHUwMzAwLVxcXFx1MDM2ZlxcXFx1ZmUyMC1cXFxcdWZlMmZcXFxcdTIwZDAtXFxcXHUyMGZmXCIsVHQ9XCJcXFxcdTI3MDAtXFxcXHUyN2JmXCIsUnQ9XCJhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmZcIix4dD1cIkEtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZVwiLEN0PVwiXFxcXHVmZTBlXFxcXHVmZTBmXCIsQnQ9XCJcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3XFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmXFxcXHUyMDAwLVxcXFx1MjA2ZiBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwXCIsa3Q9XCJbJ+KAmV1cIixMdD1cIltcIitBdCtcIl1cIixPdD1cIltcIitCdCtcIl1cIixVdD1cIltcIitJdCtcIl1cIixqdD1cIlxcXFxkK1wiLE50PVwiW1wiK1R0K1wiXVwiLE10PVwiW1wiK1J0K1wiXVwiLFB0PVwiW15cIitBdCtCdCtqdCtUdCtSdCt4dCtcIl1cIixXdD1cIlxcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXVwiLCR0PVwiW15cIitBdCtcIl1cIixEdD1cIig/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn1cIixGdD1cIltcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXVwiLHp0PVwiW1wiK3h0K1wiXVwiLHF0PVwiXFxcXHUyMDBkXCIsSHQ9XCIoPzpcIitNdCtcInxcIitQdCtcIilcIixWdD1cIig/OlwiK3p0K1wifFwiK1B0K1wiKVwiLEd0PVwiKD86WyfigJldKD86ZHxsbHxtfHJlfHN8dHx2ZSkpP1wiLEp0PVwiKD86WyfigJldKD86RHxMTHxNfFJFfFN8VHxWRSkpP1wiLFl0PVwiKD86XCIrVXQrXCJ8XCIrV3QrXCIpXCIrXCI/XCIsS3Q9XCJbXCIrQ3QrXCJdP1wiLFh0PUt0K1l0KyhcIig/OlwiK3F0K1wiKD86XCIrWyR0LER0LEZ0XS5qb2luKFwifFwiKStcIilcIitLdCtZdCtcIikqXCIpLFp0PVwiKD86XCIrW050LER0LEZ0XS5qb2luKFwifFwiKStcIilcIitYdCxRdD1cIig/OlwiK1skdCtVdCtcIj9cIixVdCxEdCxGdCxMdF0uam9pbihcInxcIikrXCIpXCIsdGU9UmVnRXhwKGt0LFwiZ1wiKSxlZT1SZWdFeHAoVXQsXCJnXCIpLG5lPVJlZ0V4cChXdCtcIig/PVwiK1d0K1wiKXxcIitRdCtYdCxcImdcIikscmU9UmVnRXhwKFt6dCtcIj9cIitNdCtcIitcIitHdCtcIig/PVwiK1tPdCx6dCxcIiRcIl0uam9pbihcInxcIikrXCIpXCIsVnQrXCIrXCIrSnQrXCIoPz1cIitbT3QsenQrSHQsXCIkXCJdLmpvaW4oXCJ8XCIpK1wiKVwiLHp0K1wiP1wiK0h0K1wiK1wiK0d0LHp0K1wiK1wiK0p0LFwiXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pXCIsXCJcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSlcIixqdCxadF0uam9pbihcInxcIiksXCJnXCIpLG9lPVJlZ0V4cChcIltcIitxdCtBdCtJdCtDdCtcIl1cIiksaWU9L1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS8sYWU9W1wiQXJyYXlcIixcIkJ1ZmZlclwiLFwiRGF0YVZpZXdcIixcIkRhdGVcIixcIkVycm9yXCIsXCJGbG9hdDMyQXJyYXlcIixcIkZsb2F0NjRBcnJheVwiLFwiRnVuY3Rpb25cIixcIkludDhBcnJheVwiLFwiSW50MTZBcnJheVwiLFwiSW50MzJBcnJheVwiLFwiTWFwXCIsXCJNYXRoXCIsXCJPYmplY3RcIixcIlByb21pc2VcIixcIlJlZ0V4cFwiLFwiU2V0XCIsXCJTdHJpbmdcIixcIlN5bWJvbFwiLFwiVHlwZUVycm9yXCIsXCJVaW50OEFycmF5XCIsXCJVaW50OENsYW1wZWRBcnJheVwiLFwiVWludDE2QXJyYXlcIixcIlVpbnQzMkFycmF5XCIsXCJXZWFrTWFwXCIsXCJfXCIsXCJjbGVhclRpbWVvdXRcIixcImlzRmluaXRlXCIsXCJwYXJzZUludFwiLFwic2V0VGltZW91dFwiXSxzZT0tMSx1ZT17fTt1ZVtOXT11ZVtNXT11ZVtQXT11ZVtXXT11ZVskXT11ZVtEXT11ZVtGXT11ZVt6XT11ZVtxXT0hMCx1ZVt2XT11ZVtiXT11ZVtVXT11ZVt3XT11ZVtqXT11ZVtfXT11ZVtFXT11ZVtTXT11ZVtJXT11ZVtUXT11ZVtSXT11ZVtDXT11ZVtCXT11ZVtrXT11ZVtPXT0hMTt2YXIgbGU9e307bGVbdl09bGVbYl09bGVbVV09bGVbal09bGVbd109bGVbX109bGVbTl09bGVbTV09bGVbUF09bGVbV109bGVbJF09bGVbSV09bGVbVF09bGVbUl09bGVbQ109bGVbQl09bGVba109bGVbTF09bGVbRF09bGVbRl09bGVbel09bGVbcV09ITAsbGVbRV09bGVbU109bGVbT109ITE7dmFyIGNlPXtcIlxcXFxcIjpcIlxcXFxcIixcIidcIjpcIidcIixcIlxcblwiOlwiblwiLFwiXFxyXCI6XCJyXCIsXCJcXHUyMDI4XCI6XCJ1MjAyOFwiLFwiXFx1MjAyOVwiOlwidTIwMjlcIn0sZmU9cGFyc2VGbG9hdCxkZT1wYXJzZUludCxoZT1cIm9iamVjdFwiPT10eXBlb2Ygbi5nJiZuLmcmJm4uZy5PYmplY3Q9PT1PYmplY3QmJm4uZyxwZT1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsZ2U9aGV8fHBlfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkseWU9ZSYmIWUubm9kZVR5cGUmJmUsbWU9eWUmJnQmJiF0Lm5vZGVUeXBlJiZ0LHZlPW1lJiZtZS5leHBvcnRzPT09eWUsYmU9dmUmJmhlLnByb2Nlc3Msd2U9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9bWUmJm1lLnJlcXVpcmUmJm1lLnJlcXVpcmUoXCJ1dGlsXCIpLnR5cGVzO3JldHVybiB0fHxiZSYmYmUuYmluZGluZyYmYmUuYmluZGluZyhcInV0aWxcIil9Y2F0Y2godCl7fX0oKSxfZT13ZSYmd2UuaXNBcnJheUJ1ZmZlcixFZT13ZSYmd2UuaXNEYXRlLFNlPXdlJiZ3ZS5pc01hcCxBZT13ZSYmd2UuaXNSZWdFeHAsSWU9d2UmJndlLmlzU2V0LFRlPXdlJiZ3ZS5pc1R5cGVkQXJyYXk7ZnVuY3Rpb24gUmUodCxlLG4pe3N3aXRjaChuLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0LmNhbGwoZSk7Y2FzZSAxOnJldHVybiB0LmNhbGwoZSxuWzBdKTtjYXNlIDI6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSk7Y2FzZSAzOnJldHVybiB0LmNhbGwoZSxuWzBdLG5bMV0sblsyXSl9cmV0dXJuIHQuYXBwbHkoZSxuKX1mdW5jdGlvbiB4ZSh0LGUsbixyKXtmb3IodmFyIG89LTEsaT1udWxsPT10PzA6dC5sZW5ndGg7KytvPGk7KXt2YXIgYT10W29dO2UocixhLG4oYSksdCl9cmV0dXJuIHJ9ZnVuY3Rpb24gQ2UodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGg7KytuPHImJiExIT09ZSh0W25dLG4sdCk7KTtyZXR1cm4gdH1mdW5jdGlvbiBCZSh0LGUpe2Zvcih2YXIgbj1udWxsPT10PzA6dC5sZW5ndGg7bi0tJiYhMSE9PWUodFtuXSxuLHQpOyk7cmV0dXJuIHR9ZnVuY3Rpb24ga2UodCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGg7KytuPHI7KWlmKCFlKHRbbl0sbix0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBMZSh0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aCxvPTAsaT1bXTsrK248cjspe3ZhciBhPXRbbl07ZShhLG4sdCkmJihpW28rK109YSl9cmV0dXJuIGl9ZnVuY3Rpb24gT2UodCxlKXtyZXR1cm4hIShudWxsPT10PzA6dC5sZW5ndGgpJiZ6ZSh0LGUsMCk+LTF9ZnVuY3Rpb24gVWUodCxlLG4pe2Zvcih2YXIgcj0tMSxvPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK3I8bzspaWYobihlLHRbcl0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGplKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoLG89QXJyYXkocik7KytuPHI7KW9bbl09ZSh0W25dLG4sdCk7cmV0dXJuIG99ZnVuY3Rpb24gTmUodCxlKXtmb3IodmFyIG49LTEscj1lLmxlbmd0aCxvPXQubGVuZ3RoOysrbjxyOyl0W28rbl09ZVtuXTtyZXR1cm4gdH1mdW5jdGlvbiBNZSh0LGUsbixyKXt2YXIgbz0tMSxpPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IociYmaSYmKG49dFsrK29dKTsrK288aTspbj1lKG4sdFtvXSxvLHQpO3JldHVybiBufWZ1bmN0aW9uIFBlKHQsZSxuLHIpe3ZhciBvPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IociYmbyYmKG49dFstLW9dKTtvLS07KW49ZShuLHRbb10sbyx0KTtyZXR1cm4gbn1mdW5jdGlvbiBXZSh0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248cjspaWYoZSh0W25dLG4sdCkpcmV0dXJuITA7cmV0dXJuITF9dmFyICRlPUdlKFwibGVuZ3RoXCIpO2Z1bmN0aW9uIERlKHQsZSxuKXt2YXIgcjtyZXR1cm4gbih0LChmdW5jdGlvbih0LG4sbyl7aWYoZSh0LG4sbykpcmV0dXJuIHI9biwhMX0pKSxyfWZ1bmN0aW9uIEZlKHQsZSxuLHIpe2Zvcih2YXIgbz10Lmxlbmd0aCxpPW4rKHI/MTotMSk7cj9pLS06KytpPG87KWlmKGUodFtpXSxpLHQpKXJldHVybiBpO3JldHVybi0xfWZ1bmN0aW9uIHplKHQsZSxuKXtyZXR1cm4gZT09ZT9mdW5jdGlvbih0LGUsbil7dmFyIHI9bi0xLG89dC5sZW5ndGg7Zm9yKDsrK3I8bzspaWYodFtyXT09PWUpcmV0dXJuIHI7cmV0dXJuLTF9KHQsZSxuKTpGZSh0LEhlLG4pfWZ1bmN0aW9uIHFlKHQsZSxuLHIpe2Zvcih2YXIgbz1uLTEsaT10Lmxlbmd0aDsrK288aTspaWYocih0W29dLGUpKXJldHVybiBvO3JldHVybi0xfWZ1bmN0aW9uIEhlKHQpe3JldHVybiB0IT10fWZ1bmN0aW9uIFZlKHQsZSl7dmFyIG49bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiBuP0tlKHQsZSkvbjpnfWZ1bmN0aW9uIEdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9vOmVbdF19fWZ1bmN0aW9uIEplKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09dD9vOnRbZV19fWZ1bmN0aW9uIFllKHQsZSxuLHIsbyl7cmV0dXJuIG8odCwoZnVuY3Rpb24odCxvLGkpe249cj8ocj0hMSx0KTplKG4sdCxvLGkpfSkpLG59ZnVuY3Rpb24gS2UodCxlKXtmb3IodmFyIG4scj0tMSxpPXQubGVuZ3RoOysrcjxpOyl7dmFyIGE9ZSh0W3JdKTthIT09byYmKG49bj09PW8/YTpuK2EpfXJldHVybiBufWZ1bmN0aW9uIFhlKHQsZSl7Zm9yKHZhciBuPS0xLHI9QXJyYXkodCk7KytuPHQ7KXJbbl09ZShuKTtyZXR1cm4gcn1mdW5jdGlvbiBaZSh0KXtyZXR1cm4gdD90LnNsaWNlKDAseW4odCkrMSkucmVwbGFjZShhdCxcIlwiKTp0fWZ1bmN0aW9uIFFlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChlKX19ZnVuY3Rpb24gdG4odCxlKXtyZXR1cm4gamUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSl9ZnVuY3Rpb24gZW4odCxlKXtyZXR1cm4gdC5oYXMoZSl9ZnVuY3Rpb24gbm4odCxlKXtmb3IodmFyIG49LTEscj10Lmxlbmd0aDsrK248ciYmemUoZSx0W25dLDApPi0xOyk7cmV0dXJuIG59ZnVuY3Rpb24gcm4odCxlKXtmb3IodmFyIG49dC5sZW5ndGg7bi0tJiZ6ZShlLHRbbl0sMCk+LTE7KTtyZXR1cm4gbn12YXIgb249SmUoe8OAOlwiQVwiLMOBOlwiQVwiLMOCOlwiQVwiLMODOlwiQVwiLMOEOlwiQVwiLMOFOlwiQVwiLMOgOlwiYVwiLMOhOlwiYVwiLMOiOlwiYVwiLMOjOlwiYVwiLMOkOlwiYVwiLMOlOlwiYVwiLMOHOlwiQ1wiLMOnOlwiY1wiLMOQOlwiRFwiLMOwOlwiZFwiLMOIOlwiRVwiLMOJOlwiRVwiLMOKOlwiRVwiLMOLOlwiRVwiLMOoOlwiZVwiLMOpOlwiZVwiLMOqOlwiZVwiLMOrOlwiZVwiLMOMOlwiSVwiLMONOlwiSVwiLMOOOlwiSVwiLMOPOlwiSVwiLMOsOlwiaVwiLMOtOlwiaVwiLMOuOlwiaVwiLMOvOlwiaVwiLMOROlwiTlwiLMOxOlwiblwiLMOSOlwiT1wiLMOTOlwiT1wiLMOUOlwiT1wiLMOVOlwiT1wiLMOWOlwiT1wiLMOYOlwiT1wiLMOyOlwib1wiLMOzOlwib1wiLMO0Olwib1wiLMO1Olwib1wiLMO2Olwib1wiLMO4Olwib1wiLMOZOlwiVVwiLMOaOlwiVVwiLMObOlwiVVwiLMOcOlwiVVwiLMO5OlwidVwiLMO6OlwidVwiLMO7OlwidVwiLMO8OlwidVwiLMOdOlwiWVwiLMO9OlwieVwiLMO/OlwieVwiLMOGOlwiQWVcIizDpjpcImFlXCIsw546XCJUaFwiLMO+OlwidGhcIizDnzpcInNzXCIsxIA6XCJBXCIsxII6XCJBXCIsxIQ6XCJBXCIsxIE6XCJhXCIsxIM6XCJhXCIsxIU6XCJhXCIsxIY6XCJDXCIsxIg6XCJDXCIsxIo6XCJDXCIsxIw6XCJDXCIsxIc6XCJjXCIsxIk6XCJjXCIsxIs6XCJjXCIsxI06XCJjXCIsxI46XCJEXCIsxJA6XCJEXCIsxI86XCJkXCIsxJE6XCJkXCIsxJI6XCJFXCIsxJQ6XCJFXCIsxJY6XCJFXCIsxJg6XCJFXCIsxJo6XCJFXCIsxJM6XCJlXCIsxJU6XCJlXCIsxJc6XCJlXCIsxJk6XCJlXCIsxJs6XCJlXCIsxJw6XCJHXCIsxJ46XCJHXCIsxKA6XCJHXCIsxKI6XCJHXCIsxJ06XCJnXCIsxJ86XCJnXCIsxKE6XCJnXCIsxKM6XCJnXCIsxKQ6XCJIXCIsxKY6XCJIXCIsxKU6XCJoXCIsxKc6XCJoXCIsxKg6XCJJXCIsxKo6XCJJXCIsxKw6XCJJXCIsxK46XCJJXCIsxLA6XCJJXCIsxKk6XCJpXCIsxKs6XCJpXCIsxK06XCJpXCIsxK86XCJpXCIsxLE6XCJpXCIsxLQ6XCJKXCIsxLU6XCJqXCIsxLY6XCJLXCIsxLc6XCJrXCIsxLg6XCJrXCIsxLk6XCJMXCIsxLs6XCJMXCIsxL06XCJMXCIsxL86XCJMXCIsxYE6XCJMXCIsxLo6XCJsXCIsxLw6XCJsXCIsxL46XCJsXCIsxYA6XCJsXCIsxYI6XCJsXCIsxYM6XCJOXCIsxYU6XCJOXCIsxYc6XCJOXCIsxYo6XCJOXCIsxYQ6XCJuXCIsxYY6XCJuXCIsxYg6XCJuXCIsxYs6XCJuXCIsxYw6XCJPXCIsxY46XCJPXCIsxZA6XCJPXCIsxY06XCJvXCIsxY86XCJvXCIsxZE6XCJvXCIsxZQ6XCJSXCIsxZY6XCJSXCIsxZg6XCJSXCIsxZU6XCJyXCIsxZc6XCJyXCIsxZk6XCJyXCIsxZo6XCJTXCIsxZw6XCJTXCIsxZ46XCJTXCIsxaA6XCJTXCIsxZs6XCJzXCIsxZ06XCJzXCIsxZ86XCJzXCIsxaE6XCJzXCIsxaI6XCJUXCIsxaQ6XCJUXCIsxaY6XCJUXCIsxaM6XCJ0XCIsxaU6XCJ0XCIsxac6XCJ0XCIsxag6XCJVXCIsxao6XCJVXCIsxaw6XCJVXCIsxa46XCJVXCIsxbA6XCJVXCIsxbI6XCJVXCIsxak6XCJ1XCIsxas6XCJ1XCIsxa06XCJ1XCIsxa86XCJ1XCIsxbE6XCJ1XCIsxbM6XCJ1XCIsxbQ6XCJXXCIsxbU6XCJ3XCIsxbY6XCJZXCIsxbc6XCJ5XCIsxbg6XCJZXCIsxbk6XCJaXCIsxbs6XCJaXCIsxb06XCJaXCIsxbo6XCJ6XCIsxbw6XCJ6XCIsxb46XCJ6XCIsxLI6XCJJSlwiLMSzOlwiaWpcIizFkjpcIk9lXCIsxZM6XCJvZVwiLMWJOlwiJ25cIizFvzpcInNcIn0pLGFuPUplKHtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiMzOTtcIn0pO2Z1bmN0aW9uIHNuKHQpe3JldHVyblwiXFxcXFwiK2NlW3RdfWZ1bmN0aW9uIHVuKHQpe3JldHVybiBvZS50ZXN0KHQpfWZ1bmN0aW9uIGxuKHQpe3ZhciBlPS0xLG49QXJyYXkodC5zaXplKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe25bKytlXT1bcix0XX0pKSxufWZ1bmN0aW9uIGNuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KGUobikpfX1mdW5jdGlvbiBmbih0LGUpe2Zvcih2YXIgbj0tMSxyPXQubGVuZ3RoLG89MCxpPVtdOysrbjxyOyl7dmFyIGE9dFtuXTthIT09ZSYmYSE9PXN8fCh0W25dPXMsaVtvKytdPW4pfXJldHVybiBpfWZ1bmN0aW9uIGRuKHQpe3ZhciBlPS0xLG49QXJyYXkodC5zaXplKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtuWysrZV09dH0pKSxufWZ1bmN0aW9uIGhuKHQpe3ZhciBlPS0xLG49QXJyYXkodC5zaXplKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtuWysrZV09W3QsdF19KSksbn1mdW5jdGlvbiBwbih0KXtyZXR1cm4gdW4odCk/ZnVuY3Rpb24odCl7dmFyIGU9bmUubGFzdEluZGV4PTA7Zm9yKDtuZS50ZXN0KHQpOykrK2U7cmV0dXJuIGV9KHQpOiRlKHQpfWZ1bmN0aW9uIGduKHQpe3JldHVybiB1bih0KT9mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXRjaChuZSl8fFtdfSh0KTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdChcIlwiKX0odCl9ZnVuY3Rpb24geW4odCl7Zm9yKHZhciBlPXQubGVuZ3RoO2UtLSYmc3QudGVzdCh0LmNoYXJBdChlKSk7KTtyZXR1cm4gZX12YXIgbW49SmUoe1wiJmFtcDtcIjpcIiZcIixcIiZsdDtcIjpcIjxcIixcIiZndDtcIjpcIj5cIixcIiZxdW90O1wiOidcIicsXCImIzM5O1wiOlwiJ1wifSk7dmFyIHZuPWZ1bmN0aW9uIHQoZSl7dmFyIG4scj0oZT1udWxsPT1lP2dlOnZuLmRlZmF1bHRzKGdlLk9iamVjdCgpLGUsdm4ucGljayhnZSxhZSkpKS5BcnJheSxzdD1lLkRhdGUsQXQ9ZS5FcnJvcixJdD1lLkZ1bmN0aW9uLFR0PWUuTWF0aCxSdD1lLk9iamVjdCx4dD1lLlJlZ0V4cCxDdD1lLlN0cmluZyxCdD1lLlR5cGVFcnJvcixrdD1yLnByb3RvdHlwZSxMdD1JdC5wcm90b3R5cGUsT3Q9UnQucHJvdG90eXBlLFV0PWVbXCJfX2NvcmUtanNfc2hhcmVkX19cIl0sanQ9THQudG9TdHJpbmcsTnQ9T3QuaGFzT3duUHJvcGVydHksTXQ9MCxQdD0obj0vW14uXSskLy5leGVjKFV0JiZVdC5rZXlzJiZVdC5rZXlzLklFX1BST1RPfHxcIlwiKSk/XCJTeW1ib2woc3JjKV8xLlwiK246XCJcIixXdD1PdC50b1N0cmluZywkdD1qdC5jYWxsKFJ0KSxEdD1nZS5fLEZ0PXh0KFwiXlwiK2p0LmNhbGwoTnQpLnJlcGxhY2Uob3QsXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKSx6dD12ZT9lLkJ1ZmZlcjpvLHF0PWUuU3ltYm9sLEh0PWUuVWludDhBcnJheSxWdD16dD96dC5hbGxvY1Vuc2FmZTpvLEd0PWNuKFJ0LmdldFByb3RvdHlwZU9mLFJ0KSxKdD1SdC5jcmVhdGUsWXQ9T3QucHJvcGVydHlJc0VudW1lcmFibGUsS3Q9a3Quc3BsaWNlLFh0PXF0P3F0LmlzQ29uY2F0U3ByZWFkYWJsZTpvLFp0PXF0P3F0Lml0ZXJhdG9yOm8sUXQ9cXQ/cXQudG9TdHJpbmdUYWc6byxuZT1mdW5jdGlvbigpe3RyeXt2YXIgdD1oaShSdCxcImRlZmluZVByb3BlcnR5XCIpO3JldHVybiB0KHt9LFwiXCIse30pLHR9Y2F0Y2godCl7fX0oKSxvZT1lLmNsZWFyVGltZW91dCE9PWdlLmNsZWFyVGltZW91dCYmZS5jbGVhclRpbWVvdXQsY2U9c3QmJnN0Lm5vdyE9PWdlLkRhdGUubm93JiZzdC5ub3csaGU9ZS5zZXRUaW1lb3V0IT09Z2Uuc2V0VGltZW91dCYmZS5zZXRUaW1lb3V0LHBlPVR0LmNlaWwseWU9VHQuZmxvb3IsbWU9UnQuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGJlPXp0P3p0LmlzQnVmZmVyOm8sd2U9ZS5pc0Zpbml0ZSwkZT1rdC5qb2luLEplPWNuKFJ0LmtleXMsUnQpLGJuPVR0Lm1heCx3bj1UdC5taW4sX249c3Qubm93LEVuPWUucGFyc2VJbnQsU249VHQucmFuZG9tLEFuPWt0LnJldmVyc2UsSW49aGkoZSxcIkRhdGFWaWV3XCIpLFRuPWhpKGUsXCJNYXBcIiksUm49aGkoZSxcIlByb21pc2VcIikseG49aGkoZSxcIlNldFwiKSxDbj1oaShlLFwiV2Vha01hcFwiKSxCbj1oaShSdCxcImNyZWF0ZVwiKSxrbj1DbiYmbmV3IENuLExuPXt9LE9uPVdpKEluKSxVbj1XaShUbiksam49V2koUm4pLE5uPVdpKHhuKSxNbj1XaShDbiksUG49cXQ/cXQucHJvdG90eXBlOm8sV249UG4/UG4udmFsdWVPZjpvLCRuPVBuP1BuLnRvU3RyaW5nOm87ZnVuY3Rpb24gRG4odCl7aWYobnModCkmJiFIYSh0KSYmISh0IGluc3RhbmNlb2YgSG4pKXtpZih0IGluc3RhbmNlb2YgcW4pcmV0dXJuIHQ7aWYoTnQuY2FsbCh0LFwiX193cmFwcGVkX19cIikpcmV0dXJuICRpKHQpfXJldHVybiBuZXcgcW4odCl9dmFyIEZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWVzKGUpKXJldHVybnt9O2lmKEp0KXJldHVybiBKdChlKTt0LnByb3RvdHlwZT1lO3ZhciBuPW5ldyB0O3JldHVybiB0LnByb3RvdHlwZT1vLG59fSgpO2Z1bmN0aW9uIHpuKCl7fWZ1bmN0aW9uIHFuKHQsZSl7dGhpcy5fX3dyYXBwZWRfXz10LHRoaXMuX19hY3Rpb25zX189W10sdGhpcy5fX2NoYWluX189ISFlLHRoaXMuX19pbmRleF9fPTAsdGhpcy5fX3ZhbHVlc19fPW99ZnVuY3Rpb24gSG4odCl7dGhpcy5fX3dyYXBwZWRfXz10LHRoaXMuX19hY3Rpb25zX189W10sdGhpcy5fX2Rpcl9fPTEsdGhpcy5fX2ZpbHRlcmVkX189ITEsdGhpcy5fX2l0ZXJhdGVlc19fPVtdLHRoaXMuX190YWtlQ291bnRfXz15LHRoaXMuX192aWV3c19fPVtdfWZ1bmN0aW9uIFZuKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgcj10W2VdO3RoaXMuc2V0KHJbMF0sclsxXSl9fWZ1bmN0aW9uIEduKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgcj10W2VdO3RoaXMuc2V0KHJbMF0sclsxXSl9fWZ1bmN0aW9uIEpuKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgcj10W2VdO3RoaXMuc2V0KHJbMF0sclsxXSl9fWZ1bmN0aW9uIFluKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLl9fZGF0YV9fPW5ldyBKbjsrK2U8bjspdGhpcy5hZGQodFtlXSl9ZnVuY3Rpb24gS24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXz1uZXcgR24odCk7dGhpcy5zaXplPWUuc2l6ZX1mdW5jdGlvbiBYbih0LGUpe3ZhciBuPUhhKHQpLHI9IW4mJnFhKHQpLG89IW4mJiFyJiZZYSh0KSxpPSFuJiYhciYmIW8mJmNzKHQpLGE9bnx8cnx8b3x8aSxzPWE/WGUodC5sZW5ndGgsQ3QpOltdLHU9cy5sZW5ndGg7Zm9yKHZhciBsIGluIHQpIWUmJiFOdC5jYWxsKHQsbCl8fGEmJihcImxlbmd0aFwiPT1sfHxvJiYoXCJvZmZzZXRcIj09bHx8XCJwYXJlbnRcIj09bCl8fGkmJihcImJ1ZmZlclwiPT1sfHxcImJ5dGVMZW5ndGhcIj09bHx8XCJieXRlT2Zmc2V0XCI9PWwpfHx3aShsLHUpKXx8cy5wdXNoKGwpO3JldHVybiBzfWZ1bmN0aW9uIFpuKHQpe3ZhciBlPXQubGVuZ3RoO3JldHVybiBlP3RbWXIoMCxlLTEpXTpvfWZ1bmN0aW9uIFFuKHQsZSl7cmV0dXJuIE5pKGtvKHQpLHVyKGUsMCx0Lmxlbmd0aCkpfWZ1bmN0aW9uIHRyKHQpe3JldHVybiBOaShrbyh0KSl9ZnVuY3Rpb24gZXIodCxlLG4peyhuIT09byYmIURhKHRbZV0sbil8fG49PT1vJiYhKGUgaW4gdCkpJiZhcih0LGUsbil9ZnVuY3Rpb24gbnIodCxlLG4pe3ZhciByPXRbZV07TnQuY2FsbCh0LGUpJiZEYShyLG4pJiYobiE9PW98fGUgaW4gdCl8fGFyKHQsZSxuKX1mdW5jdGlvbiBycih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKERhKHRbbl1bMF0sZSkpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gb3IodCxlLG4scil7cmV0dXJuIGhyKHQsKGZ1bmN0aW9uKHQsbyxpKXtlKHIsdCxuKHQpLGkpfSkpLHJ9ZnVuY3Rpb24gaXIodCxlKXtyZXR1cm4gdCYmTG8oZSxMcyhlKSx0KX1mdW5jdGlvbiBhcih0LGUsbil7XCJfX3Byb3RvX19cIj09ZSYmbmU/bmUodCxlLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpuLHdyaXRhYmxlOiEwfSk6dFtlXT1ufWZ1bmN0aW9uIHNyKHQsZSl7Zm9yKHZhciBuPS0xLGk9ZS5sZW5ndGgsYT1yKGkpLHM9bnVsbD09dDsrK248aTspYVtuXT1zP286UnModCxlW25dKTtyZXR1cm4gYX1mdW5jdGlvbiB1cih0LGUsbil7cmV0dXJuIHQ9PXQmJihuIT09byYmKHQ9dDw9bj90Om4pLGUhPT1vJiYodD10Pj1lP3Q6ZSkpLHR9ZnVuY3Rpb24gbHIodCxlLG4scixpLGEpe3ZhciBzLHU9MSZlLGw9MiZlLGM9NCZlO2lmKG4mJihzPWk/bih0LHIsaSxhKTpuKHQpKSxzIT09bylyZXR1cm4gcztpZighZXModCkpcmV0dXJuIHQ7dmFyIGY9SGEodCk7aWYoZil7aWYocz1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPW5ldyB0LmNvbnN0cnVjdG9yKGUpO2UmJlwic3RyaW5nXCI9PXR5cGVvZiB0WzBdJiZOdC5jYWxsKHQsXCJpbmRleFwiKSYmKG4uaW5kZXg9dC5pbmRleCxuLmlucHV0PXQuaW5wdXQpO3JldHVybiBufSh0KSwhdSlyZXR1cm4ga28odCxzKX1lbHNle3ZhciBkPXlpKHQpLGg9ZD09U3x8ZD09QTtpZihZYSh0KSlyZXR1cm4gSW8odCx1KTtpZihkPT1SfHxkPT12fHxoJiYhaSl7aWYocz1sfHxoP3t9OnZpKHQpLCF1KXJldHVybiBsP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIExvKHQsZ2kodCksZSl9KHQsZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmTG8oZSxPcyhlKSx0KX0ocyx0KSk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTG8odCxwaSh0KSxlKX0odCxpcihzLHQpKX1lbHNle2lmKCFsZVtkXSlyZXR1cm4gaT90Ont9O3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuY29uc3RydWN0b3I7c3dpdGNoKGUpe2Nhc2UgVTpyZXR1cm4gVG8odCk7Y2FzZSB3OmNhc2UgXzpyZXR1cm4gbmV3IHIoK3QpO2Nhc2UgajpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1lP1RvKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3Iobix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX0odCxuKTtjYXNlIE46Y2FzZSBNOmNhc2UgUDpjYXNlIFc6Y2FzZSAkOmNhc2UgRDpjYXNlIEY6Y2FzZSB6OmNhc2UgcTpyZXR1cm4gUm8odCxuKTtjYXNlIEk6cmV0dXJuIG5ldyByO2Nhc2UgVDpjYXNlIGs6cmV0dXJuIG5ldyByKHQpO2Nhc2UgQzpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9bmV3IHQuY29uc3RydWN0b3IodC5zb3VyY2UsZ3QuZXhlYyh0KSk7cmV0dXJuIGUubGFzdEluZGV4PXQubGFzdEluZGV4LGV9KHQpO2Nhc2UgQjpyZXR1cm4gbmV3IHI7Y2FzZSBMOnJldHVybiBvPXQsV24/UnQoV24uY2FsbChvKSk6e319dmFyIG99KHQsZCx1KX19YXx8KGE9bmV3IEtuKTt2YXIgcD1hLmdldCh0KTtpZihwKXJldHVybiBwO2Euc2V0KHQscyksc3ModCk/dC5mb3JFYWNoKChmdW5jdGlvbihyKXtzLmFkZChscihyLGUsbixyLHQsYSkpfSkpOnJzKHQpJiZ0LmZvckVhY2goKGZ1bmN0aW9uKHIsbyl7cy5zZXQobyxscihyLGUsbixvLHQsYSkpfSkpO3ZhciBnPWY/bzooYz9sP2FpOmlpOmw/T3M6THMpKHQpO3JldHVybiBDZShnfHx0LChmdW5jdGlvbihyLG8pe2cmJihyPXRbbz1yXSksbnIocyxvLGxyKHIsZSxuLG8sdCxhKSl9KSksc31mdW5jdGlvbiBjcih0LGUsbil7dmFyIHI9bi5sZW5ndGg7aWYobnVsbD09dClyZXR1cm4hcjtmb3IodD1SdCh0KTtyLS07KXt2YXIgaT1uW3JdLGE9ZVtpXSxzPXRbaV07aWYocz09PW8mJiEoaSBpbiB0KXx8IWEocykpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gZnIodCxlLG4pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEJ0KGkpO3JldHVybiBMaSgoZnVuY3Rpb24oKXt0LmFwcGx5KG8sbil9KSxlKX1mdW5jdGlvbiBkcih0LGUsbixyKXt2YXIgbz0tMSxpPU9lLGE9ITAscz10Lmxlbmd0aCx1PVtdLGw9ZS5sZW5ndGg7aWYoIXMpcmV0dXJuIHU7biYmKGU9amUoZSxRZShuKSkpLHI/KGk9VWUsYT0hMSk6ZS5sZW5ndGg+PTIwMCYmKGk9ZW4sYT0hMSxlPW5ldyBZbihlKSk7dDpmb3IoOysrbzxzOyl7dmFyIGM9dFtvXSxmPW51bGw9PW4/YzpuKGMpO2lmKGM9cnx8MCE9PWM/YzowLGEmJmY9PWYpe2Zvcih2YXIgZD1sO2QtLTspaWYoZVtkXT09PWYpY29udGludWUgdDt1LnB1c2goYyl9ZWxzZSBpKGUsZixyKXx8dS5wdXNoKGMpfXJldHVybiB1fURuLnRlbXBsYXRlU2V0dGluZ3M9e2VzY2FwZTpaLGV2YWx1YXRlOlEsaW50ZXJwb2xhdGU6dHQsdmFyaWFibGU6XCJcIixpbXBvcnRzOntfOkRufX0sRG4ucHJvdG90eXBlPXpuLnByb3RvdHlwZSxEbi5wcm90b3R5cGUuY29uc3RydWN0b3I9RG4scW4ucHJvdG90eXBlPUZuKHpuLnByb3RvdHlwZSkscW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPXFuLEhuLnByb3RvdHlwZT1Gbih6bi5wcm90b3R5cGUpLEhuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1IbixWbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPUJuP0JuKG51bGwpOnt9LHRoaXMuc2l6ZT0wfSxWbi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaGFzKHQpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1t0XTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfSxWbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX187aWYoQm4pe3ZhciBuPWVbdF07cmV0dXJuIG49PT1hP286bn1yZXR1cm4gTnQuY2FsbChlLHQpP2VbdF06b30sVm4ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO3JldHVybiBCbj9lW3RdIT09bzpOdC5jYWxsKGUsdCl9LFZuLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fO3JldHVybiB0aGlzLnNpemUrPXRoaXMuaGFzKHQpPzA6MSxuW3RdPUJuJiZlPT09bz9hOmUsdGhpc30sR24ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH0sR24ucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fLG49cnIoZSx0KTtyZXR1cm4hKG48MCkmJihuPT1lLmxlbmd0aC0xP2UucG9wKCk6S3QuY2FsbChlLG4sMSksLS10aGlzLnNpemUsITApfSxHbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1ycihlLHQpO3JldHVybiBuPDA/bzplW25dWzFdfSxHbi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiBycih0aGlzLl9fZGF0YV9fLHQpPi0xfSxHbi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXyxyPXJyKG4sdCk7cmV0dXJuIHI8MD8oKyt0aGlzLnNpemUsbi5wdXNoKFt0LGVdKSk6bltyXVsxXT1lLHRoaXN9LEpuLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2l6ZT0wLHRoaXMuX19kYXRhX189e2hhc2g6bmV3IFZuLG1hcDpuZXcoVG58fEduKSxzdHJpbmc6bmV3IFZufX0sSm4ucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT1maSh0aGlzLHQpLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfSxKbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBmaSh0aGlzLHQpLmdldCh0KX0sSm4ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gZmkodGhpcyx0KS5oYXModCl9LEpuLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1maSh0aGlzLHQpLHI9bi5zaXplO3JldHVybiBuLnNldCh0LGUpLHRoaXMuc2l6ZSs9bi5zaXplPT1yPzA6MSx0aGlzfSxZbi5wcm90b3R5cGUuYWRkPVluLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldCh0LGEpLHRoaXN9LFluLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfSxLbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPW5ldyBHbix0aGlzLnNpemU9MH0sS24ucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fLG49ZS5kZWxldGUodCk7cmV0dXJuIHRoaXMuc2l6ZT1lLnNpemUsbn0sS24ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQodCl9LEtuLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfSxLbi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXztpZihuIGluc3RhbmNlb2YgR24pe3ZhciByPW4uX19kYXRhX187aWYoIVRufHxyLmxlbmd0aDwxOTkpcmV0dXJuIHIucHVzaChbdCxlXSksdGhpcy5zaXplPSsrbi5zaXplLHRoaXM7bj10aGlzLl9fZGF0YV9fPW5ldyBKbihyKX1yZXR1cm4gbi5zZXQodCxlKSx0aGlzLnNpemU9bi5zaXplLHRoaXN9O3ZhciBocj1qbyhfcikscHI9am8oRXIsITApO2Z1bmN0aW9uIGdyKHQsZSl7dmFyIG49ITA7cmV0dXJuIGhyKHQsKGZ1bmN0aW9uKHQscixvKXtyZXR1cm4gbj0hIWUodCxyLG8pfSkpLG59ZnVuY3Rpb24geXIodCxlLG4pe2Zvcih2YXIgcj0tMSxpPXQubGVuZ3RoOysrcjxpOyl7dmFyIGE9dFtyXSxzPWUoYSk7aWYobnVsbCE9cyYmKHU9PT1vP3M9PXMmJiFscyhzKTpuKHMsdSkpKXZhciB1PXMsbD1hfXJldHVybiBsfWZ1bmN0aW9uIG1yKHQsZSl7dmFyIG49W107cmV0dXJuIGhyKHQsKGZ1bmN0aW9uKHQscixvKXtlKHQscixvKSYmbi5wdXNoKHQpfSkpLG59ZnVuY3Rpb24gdnIodCxlLG4scixvKXt2YXIgaT0tMSxhPXQubGVuZ3RoO2ZvcihufHwobj1iaSksb3x8KG89W10pOysraTxhOyl7dmFyIHM9dFtpXTtlPjAmJm4ocyk/ZT4xP3ZyKHMsZS0xLG4scixvKTpOZShvLHMpOnJ8fChvW28ubGVuZ3RoXT1zKX1yZXR1cm4gb312YXIgYnI9Tm8oKSx3cj1ObyghMCk7ZnVuY3Rpb24gX3IodCxlKXtyZXR1cm4gdCYmYnIodCxlLExzKX1mdW5jdGlvbiBFcih0LGUpe3JldHVybiB0JiZ3cih0LGUsTHMpfWZ1bmN0aW9uIFNyKHQsZSl7cmV0dXJuIExlKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBaYSh0W2VdKX0pKX1mdW5jdGlvbiBBcih0LGUpe2Zvcih2YXIgbj0wLHI9KGU9X28oZSx0KSkubGVuZ3RoO251bGwhPXQmJm48cjspdD10W1BpKGVbbisrXSldO3JldHVybiBuJiZuPT1yP3Q6b31mdW5jdGlvbiBJcih0LGUsbil7dmFyIHI9ZSh0KTtyZXR1cm4gSGEodCk/cjpOZShyLG4odCkpfWZ1bmN0aW9uIFRyKHQpe3JldHVybiBudWxsPT10P3Q9PT1vP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6UXQmJlF0IGluIFJ0KHQpP2Z1bmN0aW9uKHQpe3ZhciBlPU50LmNhbGwodCxRdCksbj10W1F0XTt0cnl7dFtRdF09bzt2YXIgcj0hMH1jYXRjaCh0KXt9dmFyIGk9V3QuY2FsbCh0KTtyJiYoZT90W1F0XT1uOmRlbGV0ZSB0W1F0XSk7cmV0dXJuIGl9KHQpOmZ1bmN0aW9uKHQpe3JldHVybiBXdC5jYWxsKHQpfSh0KX1mdW5jdGlvbiBScih0LGUpe3JldHVybiB0PmV9ZnVuY3Rpb24geHIodCxlKXtyZXR1cm4gbnVsbCE9dCYmTnQuY2FsbCh0LGUpfWZ1bmN0aW9uIENyKHQsZSl7cmV0dXJuIG51bGwhPXQmJmUgaW4gUnQodCl9ZnVuY3Rpb24gQnIodCxlLG4pe2Zvcih2YXIgaT1uP1VlOk9lLGE9dFswXS5sZW5ndGgscz10Lmxlbmd0aCx1PXMsbD1yKHMpLGM9MS8wLGY9W107dS0tOyl7dmFyIGQ9dFt1XTt1JiZlJiYoZD1qZShkLFFlKGUpKSksYz13bihkLmxlbmd0aCxjKSxsW3VdPSFuJiYoZXx8YT49MTIwJiZkLmxlbmd0aD49MTIwKT9uZXcgWW4odSYmZCk6b31kPXRbMF07dmFyIGg9LTEscD1sWzBdO3Q6Zm9yKDsrK2g8YSYmZi5sZW5ndGg8Yzspe3ZhciBnPWRbaF0seT1lP2UoZyk6ZztpZihnPW58fDAhPT1nP2c6MCwhKHA/ZW4ocCx5KTppKGYseSxuKSkpe2Zvcih1PXM7LS11Oyl7dmFyIG09bFt1XTtpZighKG0/ZW4obSx5KTppKHRbdV0seSxuKSkpY29udGludWUgdH1wJiZwLnB1c2goeSksZi5wdXNoKGcpfX1yZXR1cm4gZn1mdW5jdGlvbiBrcih0LGUsbil7dmFyIHI9bnVsbD09KHQ9Q2kodCxlPV9vKGUsdCkpKT90OnRbUGkoWGkoZSkpXTtyZXR1cm4gbnVsbD09cj9vOlJlKHIsdCxuKX1mdW5jdGlvbiBMcih0KXtyZXR1cm4gbnModCkmJlRyKHQpPT12fWZ1bmN0aW9uIE9yKHQsZSxuLHIsaSl7cmV0dXJuIHQ9PT1lfHwobnVsbD09dHx8bnVsbD09ZXx8IW5zKHQpJiYhbnMoZSk/dCE9dCYmZSE9ZTpmdW5jdGlvbih0LGUsbixyLGksYSl7dmFyIHM9SGEodCksdT1IYShlKSxsPXM/Yjp5aSh0KSxjPXU/Yjp5aShlKSxmPShsPWw9PXY/UjpsKT09UixkPShjPWM9PXY/UjpjKT09UixoPWw9PWM7aWYoaCYmWWEodCkpe2lmKCFZYShlKSlyZXR1cm4hMTtzPSEwLGY9ITF9aWYoaCYmIWYpcmV0dXJuIGF8fChhPW5ldyBLbiksc3x8Y3ModCk/cmkodCxlLG4scixpLGEpOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLGEpe3N3aXRjaChuKXtjYXNlIGo6aWYodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fHQuYnl0ZU9mZnNldCE9ZS5ieXRlT2Zmc2V0KXJldHVybiExO3Q9dC5idWZmZXIsZT1lLmJ1ZmZlcjtjYXNlIFU6cmV0dXJuISh0LmJ5dGVMZW5ndGghPWUuYnl0ZUxlbmd0aHx8IWkobmV3IEh0KHQpLG5ldyBIdChlKSkpO2Nhc2UgdzpjYXNlIF86Y2FzZSBUOnJldHVybiBEYSgrdCwrZSk7Y2FzZSBFOnJldHVybiB0Lm5hbWU9PWUubmFtZSYmdC5tZXNzYWdlPT1lLm1lc3NhZ2U7Y2FzZSBDOmNhc2UgazpyZXR1cm4gdD09ZStcIlwiO2Nhc2UgSTp2YXIgcz1sbjtjYXNlIEI6dmFyIHU9MSZyO2lmKHN8fChzPWRuKSx0LnNpemUhPWUuc2l6ZSYmIXUpcmV0dXJuITE7dmFyIGw9YS5nZXQodCk7aWYobClyZXR1cm4gbD09ZTtyfD0yLGEuc2V0KHQsZSk7dmFyIGM9cmkocyh0KSxzKGUpLHIsbyxpLGEpO3JldHVybiBhLmRlbGV0ZSh0KSxjO2Nhc2UgTDppZihXbilyZXR1cm4gV24uY2FsbCh0KT09V24uY2FsbChlKX1yZXR1cm4hMX0odCxlLGwsbixyLGksYSk7aWYoISgxJm4pKXt2YXIgcD1mJiZOdC5jYWxsKHQsXCJfX3dyYXBwZWRfX1wiKSxnPWQmJk50LmNhbGwoZSxcIl9fd3JhcHBlZF9fXCIpO2lmKHB8fGcpe3ZhciB5PXA/dC52YWx1ZSgpOnQsbT1nP2UudmFsdWUoKTplO3JldHVybiBhfHwoYT1uZXcgS24pLGkoeSxtLG4scixhKX19aWYoIWgpcmV0dXJuITE7cmV0dXJuIGF8fChhPW5ldyBLbiksZnVuY3Rpb24odCxlLG4scixpLGEpe3ZhciBzPTEmbix1PWlpKHQpLGw9dS5sZW5ndGgsYz1paShlKSxmPWMubGVuZ3RoO2lmKGwhPWYmJiFzKXJldHVybiExO3ZhciBkPWw7Zm9yKDtkLS07KXt2YXIgaD11W2RdO2lmKCEocz9oIGluIGU6TnQuY2FsbChlLGgpKSlyZXR1cm4hMX12YXIgcD1hLmdldCh0KSxnPWEuZ2V0KGUpO2lmKHAmJmcpcmV0dXJuIHA9PWUmJmc9PXQ7dmFyIHk9ITA7YS5zZXQodCxlKSxhLnNldChlLHQpO3ZhciBtPXM7Zm9yKDsrK2Q8bDspe3ZhciB2PXRbaD11W2RdXSxiPWVbaF07aWYocil2YXIgdz1zP3IoYix2LGgsZSx0LGEpOnIodixiLGgsdCxlLGEpO2lmKCEodz09PW8/dj09PWJ8fGkodixiLG4scixhKTp3KSl7eT0hMTticmVha31tfHwobT1cImNvbnN0cnVjdG9yXCI9PWgpfWlmKHkmJiFtKXt2YXIgXz10LmNvbnN0cnVjdG9yLEU9ZS5jb25zdHJ1Y3RvcjtfPT1FfHwhKFwiY29uc3RydWN0b3JcImluIHQpfHwhKFwiY29uc3RydWN0b3JcImluIGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBfJiZfIGluc3RhbmNlb2YgXyYmXCJmdW5jdGlvblwiPT10eXBlb2YgRSYmRSBpbnN0YW5jZW9mIEV8fCh5PSExKX1yZXR1cm4gYS5kZWxldGUodCksYS5kZWxldGUoZSkseX0odCxlLG4scixpLGEpfSh0LGUsbixyLE9yLGkpKX1mdW5jdGlvbiBVcih0LGUsbixyKXt2YXIgaT1uLmxlbmd0aCxhPWkscz0hcjtpZihudWxsPT10KXJldHVybiFhO2Zvcih0PVJ0KHQpO2ktLTspe3ZhciB1PW5baV07aWYocyYmdVsyXT91WzFdIT09dFt1WzBdXTohKHVbMF1pbiB0KSlyZXR1cm4hMX1mb3IoOysraTxhOyl7dmFyIGw9KHU9bltpXSlbMF0sYz10W2xdLGY9dVsxXTtpZihzJiZ1WzJdKXtpZihjPT09byYmIShsIGluIHQpKXJldHVybiExfWVsc2V7dmFyIGQ9bmV3IEtuO2lmKHIpdmFyIGg9cihjLGYsbCx0LGUsZCk7aWYoIShoPT09bz9PcihmLGMsMyxyLGQpOmgpKXJldHVybiExfX1yZXR1cm4hMH1mdW5jdGlvbiBqcih0KXtyZXR1cm4hKCFlcyh0KXx8KGU9dCxQdCYmUHQgaW4gZSkpJiYoWmEodCk/RnQ6dnQpLnRlc3QoV2kodCkpO3ZhciBlfWZ1bmN0aW9uIE5yKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpudWxsPT10P291Olwib2JqZWN0XCI9PXR5cGVvZiB0P0hhKHQpP0ZyKHRbMF0sdFsxXSk6RHIodCk6aHUodCl9ZnVuY3Rpb24gTXIodCl7aWYoIUlpKHQpKXJldHVybiBKZSh0KTt2YXIgZT1bXTtmb3IodmFyIG4gaW4gUnQodCkpTnQuY2FsbCh0LG4pJiZcImNvbnN0cnVjdG9yXCIhPW4mJmUucHVzaChuKTtyZXR1cm4gZX1mdW5jdGlvbiBQcih0KXtpZighZXModCkpcmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKG51bGwhPXQpZm9yKHZhciBuIGluIFJ0KHQpKWUucHVzaChuKTtyZXR1cm4gZX0odCk7dmFyIGU9SWkodCksbj1bXTtmb3IodmFyIHIgaW4gdCkoXCJjb25zdHJ1Y3RvclwiIT1yfHwhZSYmTnQuY2FsbCh0LHIpKSYmbi5wdXNoKHIpO3JldHVybiBufWZ1bmN0aW9uIFdyKHQsZSl7cmV0dXJuIHQ8ZX1mdW5jdGlvbiAkcih0LGUpe3ZhciBuPS0xLG89R2EodCk/cih0Lmxlbmd0aCk6W107cmV0dXJuIGhyKHQsKGZ1bmN0aW9uKHQscixpKXtvWysrbl09ZSh0LHIsaSl9KSksb31mdW5jdGlvbiBEcih0KXt2YXIgZT1kaSh0KTtyZXR1cm4gMT09ZS5sZW5ndGgmJmVbMF1bMl0/UmkoZVswXVswXSxlWzBdWzFdKTpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXR8fFVyKG4sdCxlKX19ZnVuY3Rpb24gRnIodCxlKXtyZXR1cm4gRWkodCkmJlRpKGUpP1JpKFBpKHQpLGUpOmZ1bmN0aW9uKG4pe3ZhciByPVJzKG4sdCk7cmV0dXJuIHI9PT1vJiZyPT09ZT94cyhuLHQpOk9yKGUsciwzKX19ZnVuY3Rpb24genIodCxlLG4scixpKXt0IT09ZSYmYnIoZSwoZnVuY3Rpb24oYSxzKXtpZihpfHwoaT1uZXcgS24pLGVzKGEpKSFmdW5jdGlvbih0LGUsbixyLGksYSxzKXt2YXIgdT1CaSh0LG4pLGw9QmkoZSxuKSxjPXMuZ2V0KGwpO2lmKGMpcmV0dXJuIHZvaWQgZXIodCxuLGMpO3ZhciBmPWE/YSh1LGwsbitcIlwiLHQsZSxzKTpvLGQ9Zj09PW87aWYoZCl7dmFyIGg9SGEobCkscD0haCYmWWEobCksZz0haCYmIXAmJmNzKGwpO2Y9bCxofHxwfHxnP0hhKHUpP2Y9dTpKYSh1KT9mPWtvKHUpOnA/KGQ9ITEsZj1JbyhsLCEwKSk6Zz8oZD0hMSxmPVJvKGwsITApKTpmPVtdOmlzKGwpfHxxYShsKT8oZj11LHFhKHUpP2Y9dnModSk6ZXModSkmJiFaYSh1KXx8KGY9dmkobCkpKTpkPSExfWQmJihzLnNldChsLGYpLGkoZixsLHIsYSxzKSxzLmRlbGV0ZShsKSk7ZXIodCxuLGYpfSh0LGUscyxuLHpyLHIsaSk7ZWxzZXt2YXIgdT1yP3IoQmkodCxzKSxhLHMrXCJcIix0LGUsaSk6bzt1PT09byYmKHU9YSksZXIodCxzLHUpfX0pLE9zKX1mdW5jdGlvbiBxcih0LGUpe3ZhciBuPXQubGVuZ3RoO2lmKG4pcmV0dXJuIHdpKGUrPWU8MD9uOjAsbik/dFtlXTpvfWZ1bmN0aW9uIEhyKHQsZSxuKXtlPWUubGVuZ3RoP2plKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBIYSh0KT9mdW5jdGlvbihlKXtyZXR1cm4gQXIoZSwxPT09dC5sZW5ndGg/dFswXTp0KX06dH0pKTpbb3VdO3ZhciByPS0xO2U9amUoZSxRZShjaSgpKSk7dmFyIG89JHIodCwoZnVuY3Rpb24odCxuLG8pe3ZhciBpPWplKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSkpO3JldHVybntjcml0ZXJpYTppLGluZGV4Oisrcix2YWx1ZTp0fX0pKTtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aDtmb3IodC5zb3J0KGUpO24tLTspdFtuXT10W25dLnZhbHVlO3JldHVybiB0fShvLChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIHI9LTEsbz10LmNyaXRlcmlhLGk9ZS5jcml0ZXJpYSxhPW8ubGVuZ3RoLHM9bi5sZW5ndGg7Zm9yKDsrK3I8YTspe3ZhciB1PXhvKG9bcl0saVtyXSk7aWYodSlyZXR1cm4gcj49cz91OnUqKFwiZGVzY1wiPT1uW3JdPy0xOjEpfXJldHVybiB0LmluZGV4LWUuaW5kZXh9KHQsZSxuKX0pKX1mdW5jdGlvbiBWcih0LGUsbil7Zm9yKHZhciByPS0xLG89ZS5sZW5ndGgsaT17fTsrK3I8bzspe3ZhciBhPWVbcl0scz1Bcih0LGEpO24ocyxhKSYmdG8oaSxfbyhhLHQpLHMpfXJldHVybiBpfWZ1bmN0aW9uIEdyKHQsZSxuLHIpe3ZhciBvPXI/cWU6emUsaT0tMSxhPWUubGVuZ3RoLHM9dDtmb3IodD09PWUmJihlPWtvKGUpKSxuJiYocz1qZSh0LFFlKG4pKSk7KytpPGE7KWZvcih2YXIgdT0wLGw9ZVtpXSxjPW4/bihsKTpsOyh1PW8ocyxjLHUscikpPi0xOylzIT09dCYmS3QuY2FsbChzLHUsMSksS3QuY2FsbCh0LHUsMSk7cmV0dXJuIHR9ZnVuY3Rpb24gSnIodCxlKXtmb3IodmFyIG49dD9lLmxlbmd0aDowLHI9bi0xO24tLTspe3ZhciBvPWVbbl07aWYobj09cnx8byE9PWkpe3ZhciBpPW87d2kobyk/S3QuY2FsbCh0LG8sMSk6aG8odCxvKX19cmV0dXJuIHR9ZnVuY3Rpb24gWXIodCxlKXtyZXR1cm4gdCt5ZShTbigpKihlLXQrMSkpfWZ1bmN0aW9uIEtyKHQsZSl7dmFyIG49XCJcIjtpZighdHx8ZTwxfHxlPnApcmV0dXJuIG47ZG97ZSUyJiYobis9dCksKGU9eWUoZS8yKSkmJih0Kz10KX13aGlsZShlKTtyZXR1cm4gbn1mdW5jdGlvbiBYcih0LGUpe3JldHVybiBPaSh4aSh0LGUsb3UpLHQrXCJcIil9ZnVuY3Rpb24gWnIodCl7cmV0dXJuIFpuKERzKHQpKX1mdW5jdGlvbiBRcih0LGUpe3ZhciBuPURzKHQpO3JldHVybiBOaShuLHVyKGUsMCxuLmxlbmd0aCkpfWZ1bmN0aW9uIHRvKHQsZSxuLHIpe2lmKCFlcyh0KSlyZXR1cm4gdDtmb3IodmFyIGk9LTEsYT0oZT1fbyhlLHQpKS5sZW5ndGgscz1hLTEsdT10O251bGwhPXUmJisraTxhOyl7dmFyIGw9UGkoZVtpXSksYz1uO2lmKFwiX19wcm90b19fXCI9PT1sfHxcImNvbnN0cnVjdG9yXCI9PT1sfHxcInByb3RvdHlwZVwiPT09bClyZXR1cm4gdDtpZihpIT1zKXt2YXIgZj11W2xdOyhjPXI/cihmLGwsdSk6byk9PT1vJiYoYz1lcyhmKT9mOndpKGVbaSsxXSk/W106e30pfW5yKHUsbCxjKSx1PXVbbF19cmV0dXJuIHR9dmFyIGVvPWtuP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIGtuLnNldCh0LGUpLHR9Om91LG5vPW5lP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIG5lKHQsXCJ0b1N0cmluZ1wiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpldShlKSx3cml0YWJsZTohMH0pfTpvdTtmdW5jdGlvbiBybyh0KXtyZXR1cm4gTmkoRHModCkpfWZ1bmN0aW9uIG9vKHQsZSxuKXt2YXIgbz0tMSxpPXQubGVuZ3RoO2U8MCYmKGU9LWU+aT8wOmkrZSksKG49bj5pP2k6bik8MCYmKG4rPWkpLGk9ZT5uPzA6bi1lPj4+MCxlPj4+PTA7Zm9yKHZhciBhPXIoaSk7KytvPGk7KWFbb109dFtvK2VdO3JldHVybiBhfWZ1bmN0aW9uIGlvKHQsZSl7dmFyIG47cmV0dXJuIGhyKHQsKGZ1bmN0aW9uKHQscixvKXtyZXR1cm4hKG49ZSh0LHIsbykpfSkpLCEhbn1mdW5jdGlvbiBhbyh0LGUsbil7dmFyIHI9MCxvPW51bGw9PXQ/cjp0Lmxlbmd0aDtpZihcIm51bWJlclwiPT10eXBlb2YgZSYmZT09ZSYmbzw9MjE0NzQ4MzY0Nyl7Zm9yKDtyPG87KXt2YXIgaT1yK28+Pj4xLGE9dFtpXTtudWxsIT09YSYmIWxzKGEpJiYobj9hPD1lOmE8ZSk/cj1pKzE6bz1pfXJldHVybiBvfXJldHVybiBzbyh0LGUsb3Usbil9ZnVuY3Rpb24gc28odCxlLG4scil7dmFyIGk9MCxhPW51bGw9PXQ/MDp0Lmxlbmd0aDtpZigwPT09YSlyZXR1cm4gMDtmb3IodmFyIHM9KGU9bihlKSkhPWUsdT1udWxsPT09ZSxsPWxzKGUpLGM9ZT09PW87aTxhOyl7dmFyIGY9eWUoKGkrYSkvMiksZD1uKHRbZl0pLGg9ZCE9PW8scD1udWxsPT09ZCxnPWQ9PWQseT1scyhkKTtpZihzKXZhciBtPXJ8fGc7ZWxzZSBtPWM/ZyYmKHJ8fGgpOnU/ZyYmaCYmKHJ8fCFwKTpsP2cmJmgmJiFwJiYocnx8IXkpOiFwJiYheSYmKHI/ZDw9ZTpkPGUpO20/aT1mKzE6YT1mfXJldHVybiB3bihhLDQyOTQ5NjcyOTQpfWZ1bmN0aW9uIHVvKHQsZSl7Zm9yKHZhciBuPS0xLHI9dC5sZW5ndGgsbz0wLGk9W107KytuPHI7KXt2YXIgYT10W25dLHM9ZT9lKGEpOmE7aWYoIW58fCFEYShzLHUpKXt2YXIgdT1zO2lbbysrXT0wPT09YT8wOmF9fXJldHVybiBpfWZ1bmN0aW9uIGxvKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6bHModCk/ZzordH1mdW5jdGlvbiBjbyh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdDtpZihIYSh0KSlyZXR1cm4gamUodCxjbykrXCJcIjtpZihscyh0KSlyZXR1cm4gJG4/JG4uY2FsbCh0KTpcIlwiO3ZhciBlPXQrXCJcIjtyZXR1cm5cIjBcIj09ZSYmMS90PT0tMS8wP1wiLTBcIjplfWZ1bmN0aW9uIGZvKHQsZSxuKXt2YXIgcj0tMSxvPU9lLGk9dC5sZW5ndGgsYT0hMCxzPVtdLHU9cztpZihuKWE9ITEsbz1VZTtlbHNlIGlmKGk+PTIwMCl7dmFyIGw9ZT9udWxsOlhvKHQpO2lmKGwpcmV0dXJuIGRuKGwpO2E9ITEsbz1lbix1PW5ldyBZbn1lbHNlIHU9ZT9bXTpzO3Q6Zm9yKDsrK3I8aTspe3ZhciBjPXRbcl0sZj1lP2UoYyk6YztpZihjPW58fDAhPT1jP2M6MCxhJiZmPT1mKXtmb3IodmFyIGQ9dS5sZW5ndGg7ZC0tOylpZih1W2RdPT09Ziljb250aW51ZSB0O2UmJnUucHVzaChmKSxzLnB1c2goYyl9ZWxzZSBvKHUsZixuKXx8KHUhPT1zJiZ1LnB1c2goZikscy5wdXNoKGMpKX1yZXR1cm4gc31mdW5jdGlvbiBobyh0LGUpe3JldHVybiBudWxsPT0odD1DaSh0LGU9X28oZSx0KSkpfHxkZWxldGUgdFtQaShYaShlKSldfWZ1bmN0aW9uIHBvKHQsZSxuLHIpe3JldHVybiB0byh0LGUsbihBcih0LGUpKSxyKX1mdW5jdGlvbiBnbyh0LGUsbixyKXtmb3IodmFyIG89dC5sZW5ndGgsaT1yP286LTE7KHI/aS0tOisraTxvKSYmZSh0W2ldLGksdCk7KTtyZXR1cm4gbj9vbyh0LHI/MDppLHI/aSsxOm8pOm9vKHQscj9pKzE6MCxyP286aSl9ZnVuY3Rpb24geW8odCxlKXt2YXIgbj10O3JldHVybiBuIGluc3RhbmNlb2YgSG4mJihuPW4udmFsdWUoKSksTWUoZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5mdW5jLmFwcGx5KGUudGhpc0FyZyxOZShbdF0sZS5hcmdzKSl9KSxuKX1mdW5jdGlvbiBtbyh0LGUsbil7dmFyIG89dC5sZW5ndGg7aWYobzwyKXJldHVybiBvP2ZvKHRbMF0pOltdO2Zvcih2YXIgaT0tMSxhPXIobyk7KytpPG87KWZvcih2YXIgcz10W2ldLHU9LTE7Kyt1PG87KXUhPWkmJihhW2ldPWRyKGFbaV18fHMsdFt1XSxlLG4pKTtyZXR1cm4gZm8odnIoYSwxKSxlLG4pfWZ1bmN0aW9uIHZvKHQsZSxuKXtmb3IodmFyIHI9LTEsaT10Lmxlbmd0aCxhPWUubGVuZ3RoLHM9e307KytyPGk7KXt2YXIgdT1yPGE/ZVtyXTpvO24ocyx0W3JdLHUpfXJldHVybiBzfWZ1bmN0aW9uIGJvKHQpe3JldHVybiBKYSh0KT90OltdfWZ1bmN0aW9uIHdvKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpvdX1mdW5jdGlvbiBfbyh0LGUpe3JldHVybiBIYSh0KT90OkVpKHQsZSk/W3RdOk1pKGJzKHQpKX12YXIgRW89WHI7ZnVuY3Rpb24gU28odCxlLG4pe3ZhciByPXQubGVuZ3RoO3JldHVybiBuPW49PT1vP3I6biwhZSYmbj49cj90Om9vKHQsZSxuKX12YXIgQW89b2V8fGZ1bmN0aW9uKHQpe3JldHVybiBnZS5jbGVhclRpbWVvdXQodCl9O2Z1bmN0aW9uIElvKHQsZSl7aWYoZSlyZXR1cm4gdC5zbGljZSgpO3ZhciBuPXQubGVuZ3RoLHI9VnQ/VnQobik6bmV3IHQuY29uc3RydWN0b3Iobik7cmV0dXJuIHQuY29weShyKSxyfWZ1bmN0aW9uIFRvKHQpe3ZhciBlPW5ldyB0LmNvbnN0cnVjdG9yKHQuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyBIdChlKS5zZXQobmV3IEh0KHQpKSxlfWZ1bmN0aW9uIFJvKHQsZSl7dmFyIG49ZT9Ubyh0LmJ1ZmZlcik6dC5idWZmZXI7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKG4sdC5ieXRlT2Zmc2V0LHQubGVuZ3RoKX1mdW5jdGlvbiB4byh0LGUpe2lmKHQhPT1lKXt2YXIgbj10IT09byxyPW51bGw9PT10LGk9dD09dCxhPWxzKHQpLHM9ZSE9PW8sdT1udWxsPT09ZSxsPWU9PWUsYz1scyhlKTtpZighdSYmIWMmJiFhJiZ0PmV8fGEmJnMmJmwmJiF1JiYhY3x8ciYmcyYmbHx8IW4mJmx8fCFpKXJldHVybiAxO2lmKCFyJiYhYSYmIWMmJnQ8ZXx8YyYmbiYmaSYmIXImJiFhfHx1JiZuJiZpfHwhcyYmaXx8IWwpcmV0dXJuLTF9cmV0dXJuIDB9ZnVuY3Rpb24gQ28odCxlLG4sbyl7Zm9yKHZhciBpPS0xLGE9dC5sZW5ndGgscz1uLmxlbmd0aCx1PS0xLGw9ZS5sZW5ndGgsYz1ibihhLXMsMCksZj1yKGwrYyksZD0hbzsrK3U8bDspZlt1XT1lW3VdO2Zvcig7KytpPHM7KShkfHxpPGEpJiYoZltuW2ldXT10W2ldKTtmb3IoO2MtLTspZlt1KytdPXRbaSsrXTtyZXR1cm4gZn1mdW5jdGlvbiBCbyh0LGUsbixvKXtmb3IodmFyIGk9LTEsYT10Lmxlbmd0aCxzPS0xLHU9bi5sZW5ndGgsbD0tMSxjPWUubGVuZ3RoLGY9Ym4oYS11LDApLGQ9cihmK2MpLGg9IW87KytpPGY7KWRbaV09dFtpXTtmb3IodmFyIHA9aTsrK2w8YzspZFtwK2xdPWVbbF07Zm9yKDsrK3M8dTspKGh8fGk8YSkmJihkW3ArbltzXV09dFtpKytdKTtyZXR1cm4gZH1mdW5jdGlvbiBrbyh0LGUpe3ZhciBuPS0xLG89dC5sZW5ndGg7Zm9yKGV8fChlPXIobykpOysrbjxvOyllW25dPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gTG8odCxlLG4scil7dmFyIGk9IW47bnx8KG49e30pO2Zvcih2YXIgYT0tMSxzPWUubGVuZ3RoOysrYTxzOyl7dmFyIHU9ZVthXSxsPXI/cihuW3VdLHRbdV0sdSxuLHQpOm87bD09PW8mJihsPXRbdV0pLGk/YXIobix1LGwpOm5yKG4sdSxsKX1yZXR1cm4gbn1mdW5jdGlvbiBPbyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBvPUhhKG4pP3hlOm9yLGk9ZT9lKCk6e307cmV0dXJuIG8obix0LGNpKHIsMiksaSl9fWZ1bmN0aW9uIFVvKHQpe3JldHVybiBYcigoZnVuY3Rpb24oZSxuKXt2YXIgcj0tMSxpPW4ubGVuZ3RoLGE9aT4xP25baS0xXTpvLHM9aT4yP25bMl06bztmb3IoYT10Lmxlbmd0aD4zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhPyhpLS0sYSk6byxzJiZfaShuWzBdLG5bMV0scykmJihhPWk8Mz9vOmEsaT0xKSxlPVJ0KGUpOysrcjxpOyl7dmFyIHU9bltyXTt1JiZ0KGUsdSxyLGEpfXJldHVybiBlfSkpfWZ1bmN0aW9uIGpvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7aWYobnVsbD09bilyZXR1cm4gbjtpZighR2EobikpcmV0dXJuIHQobixyKTtmb3IodmFyIG89bi5sZW5ndGgsaT1lP286LTEsYT1SdChuKTsoZT9pLS06KytpPG8pJiYhMSE9PXIoYVtpXSxpLGEpOyk7cmV0dXJuIG59fWZ1bmN0aW9uIE5vKHQpe3JldHVybiBmdW5jdGlvbihlLG4scil7Zm9yKHZhciBvPS0xLGk9UnQoZSksYT1yKGUpLHM9YS5sZW5ndGg7cy0tOyl7dmFyIHU9YVt0P3M6KytvXTtpZighMT09PW4oaVt1XSx1LGkpKWJyZWFrfXJldHVybiBlfX1mdW5jdGlvbiBNbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dW4oZT1icyhlKSk/Z24oZSk6byxyPW4/blswXTplLmNoYXJBdCgwKSxpPW4/U28obiwxKS5qb2luKFwiXCIpOmUuc2xpY2UoMSk7cmV0dXJuIHJbdF0oKStpfX1mdW5jdGlvbiBQbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIE1lKFpzKHFzKGUpLnJlcGxhY2UodGUsXCJcIikpLHQsXCJcIil9fWZ1bmN0aW9uIFdvKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlWzBdKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSk7Y2FzZSA0OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdKTtjYXNlIDU6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSk7Y2FzZSA2OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSk7Y2FzZSA3OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdKX12YXIgbj1Gbih0LnByb3RvdHlwZSkscj10LmFwcGx5KG4sZSk7cmV0dXJuIGVzKHIpP3I6bn19ZnVuY3Rpb24gJG8odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXt2YXIgaT1SdChlKTtpZighR2EoZSkpe3ZhciBhPWNpKG4sMyk7ZT1McyhlKSxuPWZ1bmN0aW9uKHQpe3JldHVybiBhKGlbdF0sdCxpKX19dmFyIHM9dChlLG4scik7cmV0dXJuIHM+LTE/aVthP2Vbc106c106b319ZnVuY3Rpb24gRG8odCl7cmV0dXJuIG9pKChmdW5jdGlvbihlKXt2YXIgbj1lLmxlbmd0aCxyPW4sYT1xbi5wcm90b3R5cGUudGhydTtmb3IodCYmZS5yZXZlcnNlKCk7ci0tOyl7dmFyIHM9ZVtyXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzKXRocm93IG5ldyBCdChpKTtpZihhJiYhdSYmXCJ3cmFwcGVyXCI9PXVpKHMpKXZhciB1PW5ldyBxbihbXSwhMCl9Zm9yKHI9dT9yOm47KytyPG47KXt2YXIgbD11aShzPWVbcl0pLGM9XCJ3cmFwcGVyXCI9PWw/c2kocyk6bzt1PWMmJlNpKGNbMF0pJiY0MjQ9PWNbMV0mJiFjWzRdLmxlbmd0aCYmMT09Y1s5XT91W3VpKGNbMF0pXS5hcHBseSh1LGNbM10pOjE9PXMubGVuZ3RoJiZTaShzKT91W2xdKCk6dS50aHJ1KHMpfXJldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cyxyPXRbMF07aWYodSYmMT09dC5sZW5ndGgmJkhhKHIpKXJldHVybiB1LnBsYW50KHIpLnZhbHVlKCk7Zm9yKHZhciBvPTAsaT1uP2Vbb10uYXBwbHkodGhpcyx0KTpyOysrbzxuOylpPWVbb10uY2FsbCh0aGlzLGkpO3JldHVybiBpfX0pKX1mdW5jdGlvbiBGbyh0LGUsbixpLGEscyx1LGwsYyxkKXt2YXIgaD1lJmYscD0xJmUsZz0yJmUseT0yNCZlLG09NTEyJmUsdj1nP286V28odCk7cmV0dXJuIGZ1bmN0aW9uIGYoKXtmb3IodmFyIGI9YXJndW1lbnRzLmxlbmd0aCx3PXIoYiksXz1iO18tLTspd1tfXT1hcmd1bWVudHNbX107aWYoeSl2YXIgRT1saShmKSxTPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLHI9MDtuLS07KXRbbl09PT1lJiYrK3I7cmV0dXJuIHJ9KHcsRSk7aWYoaSYmKHc9Q28odyxpLGEseSkpLHMmJih3PUJvKHcscyx1LHkpKSxiLT1TLHkmJmI8ZCl7dmFyIEE9Zm4odyxFKTtyZXR1cm4gWW8odCxlLEZvLGYucGxhY2Vob2xkZXIsbix3LEEsbCxjLGQtYil9dmFyIEk9cD9uOnRoaXMsVD1nP0lbdF06dDtyZXR1cm4gYj13Lmxlbmd0aCxsP3c9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aCxyPXduKGUubGVuZ3RoLG4pLGk9a28odCk7Zm9yKDtyLS07KXt2YXIgYT1lW3JdO3Rbcl09d2koYSxuKT9pW2FdOm99cmV0dXJuIHR9KHcsbCk6bSYmYj4xJiZ3LnJldmVyc2UoKSxoJiZjPGImJih3Lmxlbmd0aD1jKSx0aGlzJiZ0aGlzIT09Z2UmJnRoaXMgaW5zdGFuY2VvZiBmJiYoVD12fHxXbyhUKSksVC5hcHBseShJLHcpfX1mdW5jdGlvbiB6byh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gX3IodCwoZnVuY3Rpb24odCxvLGkpe2UocixuKHQpLG8saSl9KSkscn0obix0LGUocikse30pfX1mdW5jdGlvbiBxbyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBpO2lmKG49PT1vJiZyPT09bylyZXR1cm4gZTtpZihuIT09byYmKGk9biksciE9PW8pe2lmKGk9PT1vKXJldHVybiByO1wic3RyaW5nXCI9PXR5cGVvZiBufHxcInN0cmluZ1wiPT10eXBlb2Ygcj8obj1jbyhuKSxyPWNvKHIpKToobj1sbyhuKSxyPWxvKHIpKSxpPXQobixyKX1yZXR1cm4gaX19ZnVuY3Rpb24gSG8odCl7cmV0dXJuIG9pKChmdW5jdGlvbihlKXtyZXR1cm4gZT1qZShlLFFlKGNpKCkpKSxYcigoZnVuY3Rpb24obil7dmFyIHI9dGhpcztyZXR1cm4gdChlLChmdW5jdGlvbih0KXtyZXR1cm4gUmUodCxyLG4pfSkpfSkpfSkpfWZ1bmN0aW9uIFZvKHQsZSl7dmFyIG49KGU9ZT09PW8/XCIgXCI6Y28oZSkpLmxlbmd0aDtpZihuPDIpcmV0dXJuIG4/S3IoZSx0KTplO3ZhciByPUtyKGUscGUodC9wbihlKSkpO3JldHVybiB1bihlKT9TbyhnbihyKSwwLHQpLmpvaW4oXCJcIik6ci5zbGljZSgwLHQpfWZ1bmN0aW9uIEdvKHQpe3JldHVybiBmdW5jdGlvbihlLG4saSl7cmV0dXJuIGkmJlwibnVtYmVyXCIhPXR5cGVvZiBpJiZfaShlLG4saSkmJihuPWk9byksZT1wcyhlKSxuPT09bz8obj1lLGU9MCk6bj1wcyhuKSxmdW5jdGlvbih0LGUsbixvKXtmb3IodmFyIGk9LTEsYT1ibihwZSgoZS10KS8obnx8MSkpLDApLHM9cihhKTthLS07KXNbbz9hOisraV09dCx0Kz1uO3JldHVybiBzfShlLG4saT1pPT09bz9lPG4/MTotMTpwcyhpKSx0KX19ZnVuY3Rpb24gSm8odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBufHwoZT1tcyhlKSxuPW1zKG4pKSx0KGUsbil9fWZ1bmN0aW9uIFlvKHQsZSxuLHIsaSxhLHMsdSxmLGQpe3ZhciBoPTgmZTtlfD1oP2w6Yyw0JihlJj1+KGg/YzpsKSl8fChlJj0tNCk7dmFyIHA9W3QsZSxpLGg/YTpvLGg/czpvLGg/bzphLGg/bzpzLHUsZixkXSxnPW4uYXBwbHkobyxwKTtyZXR1cm4gU2kodCkmJmtpKGcscCksZy5wbGFjZWhvbGRlcj1yLFVpKGcsdCxlKX1mdW5jdGlvbiBLbyh0KXt2YXIgZT1UdFt0XTtyZXR1cm4gZnVuY3Rpb24odCxuKXtpZih0PW1zKHQpLChuPW51bGw9PW4/MDp3bihncyhuKSwyOTIpKSYmd2UodCkpe3ZhciByPShicyh0KStcImVcIikuc3BsaXQoXCJlXCIpO3JldHVybisoKHI9KGJzKGUoclswXStcImVcIisoK3JbMV0rbikpKStcImVcIikuc3BsaXQoXCJlXCIpKVswXStcImVcIisoK3JbMV0tbikpfXJldHVybiBlKHQpfX12YXIgWG89eG4mJjEvZG4obmV3IHhuKFssLTBdKSlbMV09PWg/ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB4bih0KX06bHU7ZnVuY3Rpb24gWm8odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXlpKGUpO3JldHVybiBuPT1JP2xuKGUpOm49PUI/aG4oZSk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gamUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuW2UsdFtlXV19KSl9KGUsdChlKSl9fWZ1bmN0aW9uIFFvKHQsZSxuLGEsaCxwLGcseSl7dmFyIG09MiZlO2lmKCFtJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBCdChpKTt2YXIgdj1hP2EubGVuZ3RoOjA7aWYodnx8KGUmPS05NyxhPWg9byksZz1nPT09bz9nOmJuKGdzKGcpLDApLHk9eT09PW8/eTpncyh5KSx2LT1oP2gubGVuZ3RoOjAsZSZjKXt2YXIgYj1hLHc9aDthPWg9b312YXIgXz1tP286c2kodCksRT1bdCxlLG4sYSxoLGIsdyxwLGcseV07aWYoXyYmZnVuY3Rpb24odCxlKXt2YXIgbj10WzFdLHI9ZVsxXSxvPW58cixpPW88MTMxLGE9cj09ZiYmOD09bnx8cj09ZiYmbj09ZCYmdFs3XS5sZW5ndGg8PWVbOF18fDM4ND09ciYmZVs3XS5sZW5ndGg8PWVbOF0mJjg9PW47aWYoIWkmJiFhKXJldHVybiB0OzEmciYmKHRbMl09ZVsyXSxvfD0xJm4/MDo0KTt2YXIgdT1lWzNdO2lmKHUpe3ZhciBsPXRbM107dFszXT1sP0NvKGwsdSxlWzRdKTp1LHRbNF09bD9mbih0WzNdLHMpOmVbNF19KHU9ZVs1XSkmJihsPXRbNV0sdFs1XT1sP0JvKGwsdSxlWzZdKTp1LHRbNl09bD9mbih0WzVdLHMpOmVbNl0pOyh1PWVbN10pJiYodFs3XT11KTtyJmYmJih0WzhdPW51bGw9PXRbOF0/ZVs4XTp3bih0WzhdLGVbOF0pKTtudWxsPT10WzldJiYodFs5XT1lWzldKTt0WzBdPWVbMF0sdFsxXT1vfShFLF8pLHQ9RVswXSxlPUVbMV0sbj1FWzJdLGE9RVszXSxoPUVbNF0sISh5PUVbOV09RVs5XT09PW8/bT8wOnQubGVuZ3RoOmJuKEVbOV0tdiwwKSkmJjI0JmUmJihlJj0tMjUpLGUmJjEhPWUpUz04PT1lfHxlPT11P2Z1bmN0aW9uKHQsZSxuKXt2YXIgaT1Xbyh0KTtyZXR1cm4gZnVuY3Rpb24gYSgpe2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLHU9cihzKSxsPXMsYz1saShhKTtsLS07KXVbbF09YXJndW1lbnRzW2xdO3ZhciBmPXM8MyYmdVswXSE9PWMmJnVbcy0xXSE9PWM/W106Zm4odSxjKTtyZXR1cm4ocy09Zi5sZW5ndGgpPG4/WW8odCxlLEZvLGEucGxhY2Vob2xkZXIsbyx1LGYsbyxvLG4tcyk6UmUodGhpcyYmdGhpcyE9PWdlJiZ0aGlzIGluc3RhbmNlb2YgYT9pOnQsdGhpcyx1KX19KHQsZSx5KTplIT1sJiYzMyE9ZXx8aC5sZW5ndGg/Rm8uYXBwbHkobyxFKTpmdW5jdGlvbih0LGUsbixvKXt2YXIgaT0xJmUsYT1Xbyh0KTtyZXR1cm4gZnVuY3Rpb24gZSgpe2Zvcih2YXIgcz0tMSx1PWFyZ3VtZW50cy5sZW5ndGgsbD0tMSxjPW8ubGVuZ3RoLGY9cihjK3UpLGQ9dGhpcyYmdGhpcyE9PWdlJiZ0aGlzIGluc3RhbmNlb2YgZT9hOnQ7KytsPGM7KWZbbF09b1tsXTtmb3IoO3UtLTspZltsKytdPWFyZ3VtZW50c1srK3NdO3JldHVybiBSZShkLGk/bjp0aGlzLGYpfX0odCxlLG4sYSk7ZWxzZSB2YXIgUz1mdW5jdGlvbih0LGUsbil7dmFyIHI9MSZlLG89V28odCk7cmV0dXJuIGZ1bmN0aW9uIGUoKXtyZXR1cm4odGhpcyYmdGhpcyE9PWdlJiZ0aGlzIGluc3RhbmNlb2YgZT9vOnQpLmFwcGx5KHI/bjp0aGlzLGFyZ3VtZW50cyl9fSh0LGUsbik7cmV0dXJuIFVpKChfP2VvOmtpKShTLEUpLHQsZSl9ZnVuY3Rpb24gdGkodCxlLG4scil7cmV0dXJuIHQ9PT1vfHxEYSh0LE90W25dKSYmIU50LmNhbGwocixuKT9lOnR9ZnVuY3Rpb24gZWkodCxlLG4scixpLGEpe3JldHVybiBlcyh0KSYmZXMoZSkmJihhLnNldChlLHQpLHpyKHQsZSxvLGVpLGEpLGEuZGVsZXRlKGUpKSx0fWZ1bmN0aW9uIG5pKHQpe3JldHVybiBpcyh0KT9vOnR9ZnVuY3Rpb24gcmkodCxlLG4scixpLGEpe3ZhciBzPTEmbix1PXQubGVuZ3RoLGw9ZS5sZW5ndGg7aWYodSE9bCYmIShzJiZsPnUpKXJldHVybiExO3ZhciBjPWEuZ2V0KHQpLGY9YS5nZXQoZSk7aWYoYyYmZilyZXR1cm4gYz09ZSYmZj09dDt2YXIgZD0tMSxoPSEwLHA9MiZuP25ldyBZbjpvO2ZvcihhLnNldCh0LGUpLGEuc2V0KGUsdCk7KytkPHU7KXt2YXIgZz10W2RdLHk9ZVtkXTtpZihyKXZhciBtPXM/cih5LGcsZCxlLHQsYSk6cihnLHksZCx0LGUsYSk7aWYobSE9PW8pe2lmKG0pY29udGludWU7aD0hMTticmVha31pZihwKXtpZighV2UoZSwoZnVuY3Rpb24odCxlKXtpZighZW4ocCxlKSYmKGc9PT10fHxpKGcsdCxuLHIsYSkpKXJldHVybiBwLnB1c2goZSl9KSkpe2g9ITE7YnJlYWt9fWVsc2UgaWYoZyE9PXkmJiFpKGcseSxuLHIsYSkpe2g9ITE7YnJlYWt9fXJldHVybiBhLmRlbGV0ZSh0KSxhLmRlbGV0ZShlKSxofWZ1bmN0aW9uIG9pKHQpe3JldHVybiBPaSh4aSh0LG8sVmkpLHQrXCJcIil9ZnVuY3Rpb24gaWkodCl7cmV0dXJuIElyKHQsTHMscGkpfWZ1bmN0aW9uIGFpKHQpe3JldHVybiBJcih0LE9zLGdpKX12YXIgc2k9a24/ZnVuY3Rpb24odCl7cmV0dXJuIGtuLmdldCh0KX06bHU7ZnVuY3Rpb24gdWkodCl7Zm9yKHZhciBlPXQubmFtZStcIlwiLG49TG5bZV0scj1OdC5jYWxsKExuLGUpP24ubGVuZ3RoOjA7ci0tOyl7dmFyIG89bltyXSxpPW8uZnVuYztpZihudWxsPT1pfHxpPT10KXJldHVybiBvLm5hbWV9cmV0dXJuIGV9ZnVuY3Rpb24gbGkodCl7cmV0dXJuKE50LmNhbGwoRG4sXCJwbGFjZWhvbGRlclwiKT9Ebjp0KS5wbGFjZWhvbGRlcn1mdW5jdGlvbiBjaSgpe3ZhciB0PURuLml0ZXJhdGVlfHxpdTtyZXR1cm4gdD10PT09aXU/TnI6dCxhcmd1bWVudHMubGVuZ3RoP3QoYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSk6dH1mdW5jdGlvbiBmaSh0LGUpe3ZhciBuLHIsbz10Ll9fZGF0YV9fO3JldHVybihcInN0cmluZ1wiPT0ocj10eXBlb2Yobj1lKSl8fFwibnVtYmVyXCI9PXJ8fFwic3ltYm9sXCI9PXJ8fFwiYm9vbGVhblwiPT1yP1wiX19wcm90b19fXCIhPT1uOm51bGw9PT1uKT9vW1wic3RyaW5nXCI9PXR5cGVvZiBlP1wic3RyaW5nXCI6XCJoYXNoXCJdOm8ubWFwfWZ1bmN0aW9uIGRpKHQpe2Zvcih2YXIgZT1Mcyh0KSxuPWUubGVuZ3RoO24tLTspe3ZhciByPWVbbl0sbz10W3JdO2Vbbl09W3IsbyxUaShvKV19cmV0dXJuIGV9ZnVuY3Rpb24gaGkodCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P286dFtlXX0odCxlKTtyZXR1cm4ganIobik/bjpvfXZhciBwaT1tZT9mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXToodD1SdCh0KSxMZShtZSh0KSwoZnVuY3Rpb24oZSl7cmV0dXJuIFl0LmNhbGwodCxlKX0pKSl9Onl1LGdpPW1lP2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXTt0OylOZShlLHBpKHQpKSx0PUd0KHQpO3JldHVybiBlfTp5dSx5aT1UcjtmdW5jdGlvbiBtaSh0LGUsbil7Zm9yKHZhciByPS0xLG89KGU9X28oZSx0KSkubGVuZ3RoLGk9ITE7KytyPG87KXt2YXIgYT1QaShlW3JdKTtpZighKGk9bnVsbCE9dCYmbih0LGEpKSlicmVhazt0PXRbYV19cmV0dXJuIGl8fCsrciE9bz9pOiEhKG89bnVsbD09dD8wOnQubGVuZ3RoKSYmdHMobykmJndpKGEsbykmJihIYSh0KXx8cWEodCkpfWZ1bmN0aW9uIHZpKHQpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuY29uc3RydWN0b3J8fElpKHQpP3t9OkZuKEd0KHQpKX1mdW5jdGlvbiBiaSh0KXtyZXR1cm4gSGEodCl8fHFhKHQpfHwhIShYdCYmdCYmdFtYdF0pfWZ1bmN0aW9uIHdpKHQsZSl7dmFyIG49dHlwZW9mIHQ7cmV0dXJuISEoZT1udWxsPT1lP3A6ZSkmJihcIm51bWJlclwiPT1ufHxcInN5bWJvbFwiIT1uJiZ3dC50ZXN0KHQpKSYmdD4tMSYmdCUxPT0wJiZ0PGV9ZnVuY3Rpb24gX2kodCxlLG4pe2lmKCFlcyhuKSlyZXR1cm4hMTt2YXIgcj10eXBlb2YgZTtyZXR1cm4hIShcIm51bWJlclwiPT1yP0dhKG4pJiZ3aShlLG4ubGVuZ3RoKTpcInN0cmluZ1wiPT1yJiZlIGluIG4pJiZEYShuW2VdLHQpfWZ1bmN0aW9uIEVpKHQsZSl7aWYoSGEodCkpcmV0dXJuITE7dmFyIG49dHlwZW9mIHQ7cmV0dXJuIShcIm51bWJlclwiIT1uJiZcInN5bWJvbFwiIT1uJiZcImJvb2xlYW5cIiE9biYmbnVsbCE9dCYmIWxzKHQpKXx8KG50LnRlc3QodCl8fCFldC50ZXN0KHQpfHxudWxsIT1lJiZ0IGluIFJ0KGUpKX1mdW5jdGlvbiBTaSh0KXt2YXIgZT11aSh0KSxuPURuW2VdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG58fCEoZSBpbiBIbi5wcm90b3R5cGUpKXJldHVybiExO2lmKHQ9PT1uKXJldHVybiEwO3ZhciByPXNpKG4pO3JldHVybiEhciYmdD09PXJbMF19KEluJiZ5aShuZXcgSW4obmV3IEFycmF5QnVmZmVyKDEpKSkhPWp8fFRuJiZ5aShuZXcgVG4pIT1JfHxSbiYmeWkoUm4ucmVzb2x2ZSgpKSE9eHx8eG4mJnlpKG5ldyB4bikhPUJ8fENuJiZ5aShuZXcgQ24pIT1PKSYmKHlpPWZ1bmN0aW9uKHQpe3ZhciBlPVRyKHQpLG49ZT09Uj90LmNvbnN0cnVjdG9yOm8scj1uP1dpKG4pOlwiXCI7aWYocilzd2l0Y2gocil7Y2FzZSBPbjpyZXR1cm4gajtjYXNlIFVuOnJldHVybiBJO2Nhc2Ugam46cmV0dXJuIHg7Y2FzZSBObjpyZXR1cm4gQjtjYXNlIE1uOnJldHVybiBPfXJldHVybiBlfSk7dmFyIEFpPVV0P1phOm11O2Z1bmN0aW9uIElpKHQpe3ZhciBlPXQmJnQuY29uc3RydWN0b3I7cmV0dXJuIHQ9PT0oXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5wcm90b3R5cGV8fE90KX1mdW5jdGlvbiBUaSh0KXtyZXR1cm4gdD09dCYmIWVzKHQpfWZ1bmN0aW9uIFJpKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiYoblt0XT09PWUmJihlIT09b3x8dCBpbiBSdChuKSkpfX1mdW5jdGlvbiB4aSh0LGUsbil7cmV0dXJuIGU9Ym4oZT09PW8/dC5sZW5ndGgtMTplLDApLGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWFyZ3VtZW50cyxpPS0xLGE9Ym4oby5sZW5ndGgtZSwwKSxzPXIoYSk7KytpPGE7KXNbaV09b1tlK2ldO2k9LTE7Zm9yKHZhciB1PXIoZSsxKTsrK2k8ZTspdVtpXT1vW2ldO3JldHVybiB1W2VdPW4ocyksUmUodCx0aGlzLHUpfX1mdW5jdGlvbiBDaSh0LGUpe3JldHVybiBlLmxlbmd0aDwyP3Q6QXIodCxvbyhlLDAsLTEpKX1mdW5jdGlvbiBCaSh0LGUpe2lmKChcImNvbnN0cnVjdG9yXCIhPT1lfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0W2VdKSYmXCJfX3Byb3RvX19cIiE9ZSlyZXR1cm4gdFtlXX12YXIga2k9amkoZW8pLExpPWhlfHxmdW5jdGlvbih0LGUpe3JldHVybiBnZS5zZXRUaW1lb3V0KHQsZSl9LE9pPWppKG5vKTtmdW5jdGlvbiBVaSh0LGUsbil7dmFyIHI9ZStcIlwiO3JldHVybiBPaSh0LGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5sZW5ndGg7aWYoIW4pcmV0dXJuIHQ7dmFyIHI9bi0xO3JldHVybiBlW3JdPShuPjE/XCImIFwiOlwiXCIpK2Vbcl0sZT1lLmpvaW4obj4yP1wiLCBcIjpcIiBcIiksdC5yZXBsYWNlKHV0LFwie1xcbi8qIFt3cmFwcGVkIHdpdGggXCIrZStcIl0gKi9cXG5cIil9KHIsZnVuY3Rpb24odCxlKXtyZXR1cm4gQ2UobSwoZnVuY3Rpb24obil7dmFyIHI9XCJfLlwiK25bMF07ZSZuWzFdJiYhT2UodCxyKSYmdC5wdXNoKHIpfSkpLHQuc29ydCgpfShmdW5jdGlvbih0KXt2YXIgZT10Lm1hdGNoKGx0KTtyZXR1cm4gZT9lWzFdLnNwbGl0KGN0KTpbXX0ociksbikpKX1mdW5jdGlvbiBqaSh0KXt2YXIgZT0wLG49MDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1fbigpLGk9MTYtKHItbik7aWYobj1yLGk+MCl7aWYoKytlPj04MDApcmV0dXJuIGFyZ3VtZW50c1swXX1lbHNlIGU9MDtyZXR1cm4gdC5hcHBseShvLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIE5pKHQsZSl7dmFyIG49LTEscj10Lmxlbmd0aCxpPXItMTtmb3IoZT1lPT09bz9yOmU7KytuPGU7KXt2YXIgYT1ZcihuLGkpLHM9dFthXTt0W2FdPXRbbl0sdFtuXT1zfXJldHVybiB0Lmxlbmd0aD1lLHR9dmFyIE1pPWZ1bmN0aW9uKHQpe3ZhciBlPWphKHQsKGZ1bmN0aW9uKHQpe3JldHVybiA1MDA9PT1uLnNpemUmJm4uY2xlYXIoKSx0fSkpLG49ZS5jYWNoZTtyZXR1cm4gZX0oKGZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiA0Nj09PXQuY2hhckNvZGVBdCgwKSYmZS5wdXNoKFwiXCIpLHQucmVwbGFjZShydCwoZnVuY3Rpb24odCxuLHIsbyl7ZS5wdXNoKHI/by5yZXBsYWNlKGh0LFwiJDFcIik6bnx8dCl9KSksZX0pKTtmdW5jdGlvbiBQaSh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8bHModCkpcmV0dXJuIHQ7dmFyIGU9dCtcIlwiO3JldHVyblwiMFwiPT1lJiYxL3Q9PS0xLzA/XCItMFwiOmV9ZnVuY3Rpb24gV2kodCl7aWYobnVsbCE9dCl7dHJ5e3JldHVybiBqdC5jYWxsKHQpfWNhdGNoKHQpe310cnl7cmV0dXJuIHQrXCJcIn1jYXRjaCh0KXt9fXJldHVyblwiXCJ9ZnVuY3Rpb24gJGkodCl7aWYodCBpbnN0YW5jZW9mIEhuKXJldHVybiB0LmNsb25lKCk7dmFyIGU9bmV3IHFuKHQuX193cmFwcGVkX18sdC5fX2NoYWluX18pO3JldHVybiBlLl9fYWN0aW9uc19fPWtvKHQuX19hY3Rpb25zX18pLGUuX19pbmRleF9fPXQuX19pbmRleF9fLGUuX192YWx1ZXNfXz10Ll9fdmFsdWVzX18sZX12YXIgRGk9WHIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEphKHQpP2RyKHQsdnIoZSwxLEphLCEwKSk6W119KSksRmk9WHIoKGZ1bmN0aW9uKHQsZSl7dmFyIG49WGkoZSk7cmV0dXJuIEphKG4pJiYobj1vKSxKYSh0KT9kcih0LHZyKGUsMSxKYSwhMCksY2kobiwyKSk6W119KSksemk9WHIoKGZ1bmN0aW9uKHQsZSl7dmFyIG49WGkoZSk7cmV0dXJuIEphKG4pJiYobj1vKSxKYSh0KT9kcih0LHZyKGUsMSxKYSwhMCksbyxuKTpbXX0pKTtmdW5jdGlvbiBxaSh0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO2lmKCFyKXJldHVybi0xO3ZhciBvPW51bGw9PW4/MDpncyhuKTtyZXR1cm4gbzwwJiYobz1ibihyK28sMCkpLEZlKHQsY2koZSwzKSxvKX1mdW5jdGlvbiBIaSh0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO2lmKCFyKXJldHVybi0xO3ZhciBpPXItMTtyZXR1cm4gbiE9PW8mJihpPWdzKG4pLGk9bjwwP2JuKHIraSwwKTp3bihpLHItMSkpLEZlKHQsY2koZSwzKSxpLCEwKX1mdW5jdGlvbiBWaSh0KXtyZXR1cm4obnVsbD09dD8wOnQubGVuZ3RoKT92cih0LDEpOltdfWZ1bmN0aW9uIEdpKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD90WzBdOm99dmFyIEppPVhyKChmdW5jdGlvbih0KXt2YXIgZT1qZSh0LGJvKTtyZXR1cm4gZS5sZW5ndGgmJmVbMF09PT10WzBdP0JyKGUpOltdfSkpLFlpPVhyKChmdW5jdGlvbih0KXt2YXIgZT1YaSh0KSxuPWplKHQsYm8pO3JldHVybiBlPT09WGkobik/ZT1vOm4ucG9wKCksbi5sZW5ndGgmJm5bMF09PT10WzBdP0JyKG4sY2koZSwyKSk6W119KSksS2k9WHIoKGZ1bmN0aW9uKHQpe3ZhciBlPVhpKHQpLG49amUodCxibyk7cmV0dXJuKGU9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm8pJiZuLnBvcCgpLG4ubGVuZ3RoJiZuWzBdPT09dFswXT9CcihuLG8sZSk6W119KSk7ZnVuY3Rpb24gWGkodCl7dmFyIGU9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiBlP3RbZS0xXTpvfXZhciBaaT1YcihRaSk7ZnVuY3Rpb24gUWkodCxlKXtyZXR1cm4gdCYmdC5sZW5ndGgmJmUmJmUubGVuZ3RoP0dyKHQsZSk6dH12YXIgdGE9b2koKGZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD8wOnQubGVuZ3RoLHI9c3IodCxlKTtyZXR1cm4gSnIodCxqZShlLChmdW5jdGlvbih0KXtyZXR1cm4gd2kodCxuKT8rdDp0fSkpLnNvcnQoeG8pKSxyfSkpO2Z1bmN0aW9uIGVhKHQpe3JldHVybiBudWxsPT10P3Q6QW4uY2FsbCh0KX12YXIgbmE9WHIoKGZ1bmN0aW9uKHQpe3JldHVybiBmbyh2cih0LDEsSmEsITApKX0pKSxyYT1YcigoZnVuY3Rpb24odCl7dmFyIGU9WGkodCk7cmV0dXJuIEphKGUpJiYoZT1vKSxmbyh2cih0LDEsSmEsITApLGNpKGUsMikpfSkpLG9hPVhyKChmdW5jdGlvbih0KXt2YXIgZT1YaSh0KTtyZXR1cm4gZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6byxmbyh2cih0LDEsSmEsITApLG8sZSl9KSk7ZnVuY3Rpb24gaWEodCl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm5bXTt2YXIgZT0wO3JldHVybiB0PUxlKHQsKGZ1bmN0aW9uKHQpe2lmKEphKHQpKXJldHVybiBlPWJuKHQubGVuZ3RoLGUpLCEwfSkpLFhlKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBqZSh0LEdlKGUpKX0pKX1mdW5jdGlvbiBhYSh0LGUpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuW107dmFyIG49aWEodCk7cmV0dXJuIG51bGw9PWU/bjpqZShuLChmdW5jdGlvbih0KXtyZXR1cm4gUmUoZSxvLHQpfSkpfXZhciBzYT1YcigoZnVuY3Rpb24odCxlKXtyZXR1cm4gSmEodCk/ZHIodCxlKTpbXX0pKSx1YT1YcigoZnVuY3Rpb24odCl7cmV0dXJuIG1vKExlKHQsSmEpKX0pKSxsYT1YcigoZnVuY3Rpb24odCl7dmFyIGU9WGkodCk7cmV0dXJuIEphKGUpJiYoZT1vKSxtbyhMZSh0LEphKSxjaShlLDIpKX0pKSxjYT1YcigoZnVuY3Rpb24odCl7dmFyIGU9WGkodCk7cmV0dXJuIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm8sbW8oTGUodCxKYSksbyxlKX0pKSxmYT1YcihpYSk7dmFyIGRhPVhyKChmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPWU+MT90W2UtMV06bztyZXR1cm4gbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuPyh0LnBvcCgpLG4pOm8sYWEodCxuKX0pKTtmdW5jdGlvbiBoYSh0KXt2YXIgZT1Ebih0KTtyZXR1cm4gZS5fX2NoYWluX189ITAsZX1mdW5jdGlvbiBwYSh0LGUpe3JldHVybiBlKHQpfXZhciBnYT1vaSgoZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsbj1lP3RbMF06MCxyPXRoaXMuX193cmFwcGVkX18saT1mdW5jdGlvbihlKXtyZXR1cm4gc3IoZSx0KX07cmV0dXJuIShlPjF8fHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSYmciBpbnN0YW5jZW9mIEhuJiZ3aShuKT8oKHI9ci5zbGljZShuLCtuKyhlPzE6MCkpKS5fX2FjdGlvbnNfXy5wdXNoKHtmdW5jOnBhLGFyZ3M6W2ldLHRoaXNBcmc6b30pLG5ldyBxbihyLHRoaXMuX19jaGFpbl9fKS50aHJ1KChmdW5jdGlvbih0KXtyZXR1cm4gZSYmIXQubGVuZ3RoJiZ0LnB1c2gobyksdH0pKSk6dGhpcy50aHJ1KGkpfSkpO3ZhciB5YT1PbygoZnVuY3Rpb24odCxlLG4pe050LmNhbGwodCxuKT8rK3Rbbl06YXIodCxuLDEpfSkpO3ZhciBtYT0kbyhxaSksdmE9JG8oSGkpO2Z1bmN0aW9uIGJhKHQsZSl7cmV0dXJuKEhhKHQpP0NlOmhyKSh0LGNpKGUsMykpfWZ1bmN0aW9uIHdhKHQsZSl7cmV0dXJuKEhhKHQpP0JlOnByKSh0LGNpKGUsMykpfXZhciBfYT1PbygoZnVuY3Rpb24odCxlLG4pe050LmNhbGwodCxuKT90W25dLnB1c2goZSk6YXIodCxuLFtlXSl9KSk7dmFyIEVhPVhyKChmdW5jdGlvbih0LGUsbil7dmFyIG89LTEsaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLGE9R2EodCk/cih0Lmxlbmd0aCk6W107cmV0dXJuIGhyKHQsKGZ1bmN0aW9uKHQpe2FbKytvXT1pP1JlKGUsdCxuKTprcih0LGUsbil9KSksYX0pKSxTYT1PbygoZnVuY3Rpb24odCxlLG4pe2FyKHQsbixlKX0pKTtmdW5jdGlvbiBBYSh0LGUpe3JldHVybihIYSh0KT9qZTokcikodCxjaShlLDMpKX12YXIgSWE9T28oKGZ1bmN0aW9uKHQsZSxuKXt0W24/MDoxXS5wdXNoKGUpfSksKGZ1bmN0aW9uKCl7cmV0dXJuW1tdLFtdXX0pKTt2YXIgVGE9WHIoKGZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dClyZXR1cm5bXTt2YXIgbj1lLmxlbmd0aDtyZXR1cm4gbj4xJiZfaSh0LGVbMF0sZVsxXSk/ZT1bXTpuPjImJl9pKGVbMF0sZVsxXSxlWzJdKSYmKGU9W2VbMF1dKSxIcih0LHZyKGUsMSksW10pfSkpLFJhPWNlfHxmdW5jdGlvbigpe3JldHVybiBnZS5EYXRlLm5vdygpfTtmdW5jdGlvbiB4YSh0LGUsbil7cmV0dXJuIGU9bj9vOmUsZT10JiZudWxsPT1lP3QubGVuZ3RoOmUsUW8odCxmLG8sbyxvLG8sZSl9ZnVuY3Rpb24gQ2EodCxlKXt2YXIgbjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBCdChpKTtyZXR1cm4gdD1ncyh0KSxmdW5jdGlvbigpe3JldHVybi0tdD4wJiYobj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksdDw9MSYmKGU9byksbn19dmFyIEJhPVhyKChmdW5jdGlvbih0LGUsbil7dmFyIHI9MTtpZihuLmxlbmd0aCl7dmFyIG89Zm4obixsaShCYSkpO3J8PWx9cmV0dXJuIFFvKHQscixlLG4sbyl9KSksa2E9WHIoKGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0zO2lmKG4ubGVuZ3RoKXt2YXIgbz1mbihuLGxpKGthKSk7cnw9bH1yZXR1cm4gUW8oZSxyLHQsbixvKX0pKTtmdW5jdGlvbiBMYSh0LGUsbil7dmFyIHIsYSxzLHUsbCxjLGY9MCxkPSExLGg9ITEscD0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBCdChpKTtmdW5jdGlvbiBnKGUpe3ZhciBuPXIsaT1hO3JldHVybiByPWE9byxmPWUsdT10LmFwcGx5KGksbil9ZnVuY3Rpb24geSh0KXt2YXIgbj10LWM7cmV0dXJuIGM9PT1vfHxuPj1lfHxuPDB8fGgmJnQtZj49c31mdW5jdGlvbiBtKCl7dmFyIHQ9UmEoKTtpZih5KHQpKXJldHVybiB2KHQpO2w9TGkobSxmdW5jdGlvbih0KXt2YXIgbj1lLSh0LWMpO3JldHVybiBoP3duKG4scy0odC1mKSk6bn0odCkpfWZ1bmN0aW9uIHYodCl7cmV0dXJuIGw9byxwJiZyP2codCk6KHI9YT1vLHUpfWZ1bmN0aW9uIGIoKXt2YXIgdD1SYSgpLG49eSh0KTtpZihyPWFyZ3VtZW50cyxhPXRoaXMsYz10LG4pe2lmKGw9PT1vKXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZj10LGw9TGkobSxlKSxkP2codCk6dX0oYyk7aWYoaClyZXR1cm4gQW8obCksbD1MaShtLGUpLGcoYyl9cmV0dXJuIGw9PT1vJiYobD1MaShtLGUpKSx1fXJldHVybiBlPW1zKGUpfHwwLGVzKG4pJiYoZD0hIW4ubGVhZGluZyxzPShoPVwibWF4V2FpdFwiaW4gbik/Ym4obXMobi5tYXhXYWl0KXx8MCxlKTpzLHA9XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6cCksYi5jYW5jZWw9ZnVuY3Rpb24oKXtsIT09byYmQW8obCksZj0wLHI9Yz1hPWw9b30sYi5mbHVzaD1mdW5jdGlvbigpe3JldHVybiBsPT09bz91OnYoUmEoKSl9LGJ9dmFyIE9hPVhyKChmdW5jdGlvbih0LGUpe3JldHVybiBmcih0LDEsZSl9KSksVWE9WHIoKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnIodCxtcyhlKXx8MCxuKX0pKTtmdW5jdGlvbiBqYSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fG51bGwhPWUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEJ0KGkpO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIHI9YXJndW1lbnRzLG89ZT9lLmFwcGx5KHRoaXMscik6clswXSxpPW4uY2FjaGU7aWYoaS5oYXMobykpcmV0dXJuIGkuZ2V0KG8pO3ZhciBhPXQuYXBwbHkodGhpcyxyKTtyZXR1cm4gbi5jYWNoZT1pLnNldChvLGEpfHxpLGF9O3JldHVybiBuLmNhY2hlPW5ldyhqYS5DYWNoZXx8Sm4pLG59ZnVuY3Rpb24gTmEodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiF0LmNhbGwodGhpcyk7Y2FzZSAxOnJldHVybiF0LmNhbGwodGhpcyxlWzBdKTtjYXNlIDI6cmV0dXJuIXQuY2FsbCh0aGlzLGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiF0LmNhbGwodGhpcyxlWzBdLGVbMV0sZVsyXSl9cmV0dXJuIXQuYXBwbHkodGhpcyxlKX19amEuQ2FjaGU9Sm47dmFyIE1hPUVvKChmdW5jdGlvbih0LGUpe3ZhciBuPShlPTE9PWUubGVuZ3RoJiZIYShlWzBdKT9qZShlWzBdLFFlKGNpKCkpKTpqZSh2cihlLDEpLFFlKGNpKCkpKSkubGVuZ3RoO3JldHVybiBYcigoZnVuY3Rpb24ocil7Zm9yKHZhciBvPS0xLGk9d24oci5sZW5ndGgsbik7KytvPGk7KXJbb109ZVtvXS5jYWxsKHRoaXMscltvXSk7cmV0dXJuIFJlKHQsdGhpcyxyKX0pKX0pKSxQYT1YcigoZnVuY3Rpb24odCxlKXt2YXIgbj1mbihlLGxpKFBhKSk7cmV0dXJuIFFvKHQsbCxvLGUsbil9KSksV2E9WHIoKGZ1bmN0aW9uKHQsZSl7dmFyIG49Zm4oZSxsaShXYSkpO3JldHVybiBRbyh0LGMsbyxlLG4pfSkpLCRhPW9pKChmdW5jdGlvbih0LGUpe3JldHVybiBRbyh0LGQsbyxvLG8sZSl9KSk7ZnVuY3Rpb24gRGEodCxlKXtyZXR1cm4gdD09PWV8fHQhPXQmJmUhPWV9dmFyIEZhPUpvKFJyKSx6YT1KbygoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD49ZX0pKSxxYT1McihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP0xyOmZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmTnQuY2FsbCh0LFwiY2FsbGVlXCIpJiYhWXQuY2FsbCh0LFwiY2FsbGVlXCIpfSxIYT1yLmlzQXJyYXksVmE9X2U/UWUoX2UpOmZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmVHIodCk9PVV9O2Z1bmN0aW9uIEdhKHQpe3JldHVybiBudWxsIT10JiZ0cyh0Lmxlbmd0aCkmJiFaYSh0KX1mdW5jdGlvbiBKYSh0KXtyZXR1cm4gbnModCkmJkdhKHQpfXZhciBZYT1iZXx8bXUsS2E9RWU/UWUoRWUpOmZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmVHIodCk9PV99O2Z1bmN0aW9uIFhhKHQpe2lmKCFucyh0KSlyZXR1cm4hMTt2YXIgZT1Ucih0KTtyZXR1cm4gZT09RXx8XCJbb2JqZWN0IERPTUV4Y2VwdGlvbl1cIj09ZXx8XCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZSYmIWlzKHQpfWZ1bmN0aW9uIFphKHQpe2lmKCFlcyh0KSlyZXR1cm4hMTt2YXIgZT1Ucih0KTtyZXR1cm4gZT09U3x8ZT09QXx8XCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXCI9PWV8fFwiW29iamVjdCBQcm94eV1cIj09ZX1mdW5jdGlvbiBRYSh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmdD09Z3ModCl9ZnVuY3Rpb24gdHModCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+LTEmJnQlMT09MCYmdDw9cH1mdW5jdGlvbiBlcyh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gbnVsbCE9dCYmKFwib2JqZWN0XCI9PWV8fFwiZnVuY3Rpb25cIj09ZSl9ZnVuY3Rpb24gbnModCl7cmV0dXJuIG51bGwhPXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fXZhciBycz1TZT9RZShTZSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZ5aSh0KT09SX07ZnVuY3Rpb24gb3ModCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR8fG5zKHQpJiZUcih0KT09VH1mdW5jdGlvbiBpcyh0KXtpZighbnModCl8fFRyKHQpIT1SKXJldHVybiExO3ZhciBlPUd0KHQpO2lmKG51bGw9PT1lKXJldHVybiEwO3ZhciBuPU50LmNhbGwoZSxcImNvbnN0cnVjdG9yXCIpJiZlLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZqdC5jYWxsKG4pPT0kdH12YXIgYXM9QWU/UWUoQWUpOmZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmVHIodCk9PUN9O3ZhciBzcz1JZT9RZShJZSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZ5aSh0KT09Qn07ZnVuY3Rpb24gdXModCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR8fCFIYSh0KSYmbnModCkmJlRyKHQpPT1rfWZ1bmN0aW9uIGxzKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fHxucyh0KSYmVHIodCk9PUx9dmFyIGNzPVRlP1FlKFRlKTpmdW5jdGlvbih0KXtyZXR1cm4gbnModCkmJnRzKHQubGVuZ3RoKSYmISF1ZVtUcih0KV19O3ZhciBmcz1KbyhXciksZHM9Sm8oKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8PWV9KSk7ZnVuY3Rpb24gaHModCl7aWYoIXQpcmV0dXJuW107aWYoR2EodCkpcmV0dXJuIHVzKHQpP2duKHQpOmtvKHQpO2lmKFp0JiZ0W1p0XSlyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W107IShlPXQubmV4dCgpKS5kb25lOyluLnB1c2goZS52YWx1ZSk7cmV0dXJuIG59KHRbWnRdKCkpO3ZhciBlPXlpKHQpO3JldHVybihlPT1JP2xuOmU9PUI/ZG46RHMpKHQpfWZ1bmN0aW9uIHBzKHQpe3JldHVybiB0Pyh0PW1zKHQpKT09PWh8fHQ9PT0tMS8wPzE3OTc2OTMxMzQ4NjIzMTU3ZTI5MioodDwwPy0xOjEpOnQ9PXQ/dDowOjA9PT10P3Q6MH1mdW5jdGlvbiBncyh0KXt2YXIgZT1wcyh0KSxuPWUlMTtyZXR1cm4gZT09ZT9uP2UtbjplOjB9ZnVuY3Rpb24geXModCl7cmV0dXJuIHQ/dXIoZ3ModCksMCx5KTowfWZ1bmN0aW9uIG1zKHQpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0O2lmKGxzKHQpKXJldHVybiBnO2lmKGVzKHQpKXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnZhbHVlT2Y/dC52YWx1ZU9mKCk6dDt0PWVzKGUpP2UrXCJcIjplfWlmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiAwPT09dD90Oit0O3Q9WmUodCk7dmFyIG49bXQudGVzdCh0KTtyZXR1cm4gbnx8YnQudGVzdCh0KT9kZSh0LnNsaWNlKDIpLG4/Mjo4KTp5dC50ZXN0KHQpP2c6K3R9ZnVuY3Rpb24gdnModCl7cmV0dXJuIExvKHQsT3ModCkpfWZ1bmN0aW9uIGJzKHQpe3JldHVybiBudWxsPT10P1wiXCI6Y28odCl9dmFyIHdzPVVvKChmdW5jdGlvbih0LGUpe2lmKElpKGUpfHxHYShlKSlMbyhlLExzKGUpLHQpO2Vsc2UgZm9yKHZhciBuIGluIGUpTnQuY2FsbChlLG4pJiZucih0LG4sZVtuXSl9KSksX3M9VW8oKGZ1bmN0aW9uKHQsZSl7TG8oZSxPcyhlKSx0KX0pKSxFcz1VbygoZnVuY3Rpb24odCxlLG4scil7TG8oZSxPcyhlKSx0LHIpfSkpLFNzPVVvKChmdW5jdGlvbih0LGUsbixyKXtMbyhlLExzKGUpLHQscil9KSksQXM9b2koc3IpO3ZhciBJcz1YcigoZnVuY3Rpb24odCxlKXt0PVJ0KHQpO3ZhciBuPS0xLHI9ZS5sZW5ndGgsaT1yPjI/ZVsyXTpvO2ZvcihpJiZfaShlWzBdLGVbMV0saSkmJihyPTEpOysrbjxyOylmb3IodmFyIGE9ZVtuXSxzPU9zKGEpLHU9LTEsbD1zLmxlbmd0aDsrK3U8bDspe3ZhciBjPXNbdV0sZj10W2NdOyhmPT09b3x8RGEoZixPdFtjXSkmJiFOdC5jYWxsKHQsYykpJiYodFtjXT1hW2NdKX1yZXR1cm4gdH0pKSxUcz1YcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucHVzaChvLGVpKSxSZShqcyxvLHQpfSkpO2Z1bmN0aW9uIFJzKHQsZSxuKXt2YXIgcj1udWxsPT10P286QXIodCxlKTtyZXR1cm4gcj09PW8/bjpyfWZ1bmN0aW9uIHhzKHQsZSl7cmV0dXJuIG51bGwhPXQmJm1pKHQsZSxDcil9dmFyIENzPXpvKChmdW5jdGlvbih0LGUsbil7bnVsbCE9ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZS50b1N0cmluZyYmKGU9V3QuY2FsbChlKSksdFtlXT1ufSksZXUob3UpKSxCcz16bygoZnVuY3Rpb24odCxlLG4pe251bGwhPWUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUudG9TdHJpbmcmJihlPVd0LmNhbGwoZSkpLE50LmNhbGwodCxlKT90W2VdLnB1c2gobik6dFtlXT1bbl19KSxjaSksa3M9WHIoa3IpO2Z1bmN0aW9uIExzKHQpe3JldHVybiBHYSh0KT9Ybih0KTpNcih0KX1mdW5jdGlvbiBPcyh0KXtyZXR1cm4gR2EodCk/WG4odCwhMCk6UHIodCl9dmFyIFVzPVVvKChmdW5jdGlvbih0LGUsbil7enIodCxlLG4pfSkpLGpzPVVvKChmdW5jdGlvbih0LGUsbixyKXt6cih0LGUsbixyKX0pKSxOcz1vaSgoZnVuY3Rpb24odCxlKXt2YXIgbj17fTtpZihudWxsPT10KXJldHVybiBuO3ZhciByPSExO2U9amUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGU9X28oZSx0KSxyfHwocj1lLmxlbmd0aD4xKSxlfSkpLExvKHQsYWkodCksbiksciYmKG49bHIobiw3LG5pKSk7Zm9yKHZhciBvPWUubGVuZ3RoO28tLTspaG8obixlW29dKTtyZXR1cm4gbn0pKTt2YXIgTXM9b2koKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/e306ZnVuY3Rpb24odCxlKXtyZXR1cm4gVnIodCxlLChmdW5jdGlvbihlLG4pe3JldHVybiB4cyh0LG4pfSkpfSh0LGUpfSkpO2Z1bmN0aW9uIFBzKHQsZSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgbj1qZShhaSh0KSwoZnVuY3Rpb24odCl7cmV0dXJuW3RdfSkpO3JldHVybiBlPWNpKGUpLFZyKHQsbiwoZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0LG5bMF0pfSkpfXZhciBXcz1abyhMcyksJHM9Wm8oT3MpO2Z1bmN0aW9uIERzKHQpe3JldHVybiBudWxsPT10P1tdOnRuKHQsTHModCkpfXZhciBGcz1QbygoZnVuY3Rpb24odCxlLG4pe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSx0KyhuP3pzKGUpOmUpfSkpO2Z1bmN0aW9uIHpzKHQpe3JldHVybiBYcyhicyh0KS50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiBxcyh0KXtyZXR1cm4odD1icyh0KSkmJnQucmVwbGFjZShfdCxvbikucmVwbGFjZShlZSxcIlwiKX12YXIgSHM9UG8oKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCsobj9cIi1cIjpcIlwiKStlLnRvTG93ZXJDYXNlKCl9KSksVnM9UG8oKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCsobj9cIiBcIjpcIlwiKStlLnRvTG93ZXJDYXNlKCl9KSksR3M9TW8oXCJ0b0xvd2VyQ2FzZVwiKTt2YXIgSnM9UG8oKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCsobj9cIl9cIjpcIlwiKStlLnRvTG93ZXJDYXNlKCl9KSk7dmFyIFlzPVBvKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQrKG4/XCIgXCI6XCJcIikrWHMoZSl9KSk7dmFyIEtzPVBvKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQrKG4/XCIgXCI6XCJcIikrZS50b1VwcGVyQ2FzZSgpfSkpLFhzPU1vKFwidG9VcHBlckNhc2VcIik7ZnVuY3Rpb24gWnModCxlLG4pe3JldHVybiB0PWJzKHQpLChlPW4/bzplKT09PW8/ZnVuY3Rpb24odCl7cmV0dXJuIGllLnRlc3QodCl9KHQpP2Z1bmN0aW9uKHQpe3JldHVybiB0Lm1hdGNoKHJlKXx8W119KHQpOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hdGNoKGZ0KXx8W119KHQpOnQubWF0Y2goZSl8fFtdfXZhciBRcz1YcigoZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIFJlKHQsbyxlKX1jYXRjaCh0KXtyZXR1cm4gWGEodCk/dDpuZXcgQXQodCl9fSkpLHR1PW9pKChmdW5jdGlvbih0LGUpe3JldHVybiBDZShlLChmdW5jdGlvbihlKXtlPVBpKGUpLGFyKHQsZSxCYSh0W2VdLHQpKX0pKSx0fSkpO2Z1bmN0aW9uIGV1KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX12YXIgbnU9RG8oKSxydT1EbyghMCk7ZnVuY3Rpb24gb3UodCl7cmV0dXJuIHR9ZnVuY3Rpb24gaXUodCl7cmV0dXJuIE5yKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpscih0LDEpKX12YXIgYXU9WHIoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBrcihuLHQsZSl9fSkpLHN1PVhyKChmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4ga3IodCxuLGUpfX0pKTtmdW5jdGlvbiB1dSh0LGUsbil7dmFyIHI9THMoZSksbz1TcihlLHIpO251bGwhPW58fGVzKGUpJiYoby5sZW5ndGh8fCFyLmxlbmd0aCl8fChuPWUsZT10LHQ9dGhpcyxvPVNyKGUsTHMoZSkpKTt2YXIgaT0hKGVzKG4pJiZcImNoYWluXCJpbiBuJiYhbi5jaGFpbiksYT1aYSh0KTtyZXR1cm4gQ2UobywoZnVuY3Rpb24obil7dmFyIHI9ZVtuXTt0W25dPXIsYSYmKHQucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fX2NoYWluX187aWYoaXx8ZSl7dmFyIG49dCh0aGlzLl9fd3JhcHBlZF9fKTtyZXR1cm4obi5fX2FjdGlvbnNfXz1rbyh0aGlzLl9fYWN0aW9uc19fKSkucHVzaCh7ZnVuYzpyLGFyZ3M6YXJndW1lbnRzLHRoaXNBcmc6dH0pLG4uX19jaGFpbl9fPWUsbn1yZXR1cm4gci5hcHBseSh0LE5lKFt0aGlzLnZhbHVlKCldLGFyZ3VtZW50cykpfSl9KSksdH1mdW5jdGlvbiBsdSgpe312YXIgY3U9SG8oamUpLGZ1PUhvKGtlKSxkdT1IbyhXZSk7ZnVuY3Rpb24gaHUodCl7cmV0dXJuIEVpKHQpP0dlKFBpKHQpKTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEFyKGUsdCl9fSh0KX12YXIgcHU9R28oKSxndT1HbyghMCk7ZnVuY3Rpb24geXUoKXtyZXR1cm5bXX1mdW5jdGlvbiBtdSgpe3JldHVybiExfXZhciB2dT1xbygoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSksMCksYnU9S28oXCJjZWlsXCIpLHd1PXFvKChmdW5jdGlvbih0LGUpe3JldHVybiB0L2V9KSwxKSxfdT1LbyhcImZsb29yXCIpO3ZhciBFdSxTdT1xbygoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCplfSksMSksQXU9S28oXCJyb3VuZFwiKSxJdT1xbygoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSksMCk7cmV0dXJuIERuLmFmdGVyPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgQnQoaSk7cmV0dXJuIHQ9Z3ModCksZnVuY3Rpb24oKXtpZigtLXQ8MSlyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxEbi5hcnk9eGEsRG4uYXNzaWduPXdzLERuLmFzc2lnbkluPV9zLERuLmFzc2lnbkluV2l0aD1FcyxEbi5hc3NpZ25XaXRoPVNzLERuLmF0PUFzLERuLmJlZm9yZT1DYSxEbi5iaW5kPUJhLERuLmJpbmRBbGw9dHUsRG4uYmluZEtleT1rYSxEbi5jYXN0QXJyYXk9ZnVuY3Rpb24oKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm5bXTt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIEhhKHQpP3Q6W3RdfSxEbi5jaGFpbj1oYSxEbi5jaHVuaz1mdW5jdGlvbih0LGUsbil7ZT0obj9faSh0LGUsbik6ZT09PW8pPzE6Ym4oZ3MoZSksMCk7dmFyIGk9bnVsbD09dD8wOnQubGVuZ3RoO2lmKCFpfHxlPDEpcmV0dXJuW107Zm9yKHZhciBhPTAscz0wLHU9cihwZShpL2UpKTthPGk7KXVbcysrXT1vbyh0LGEsYSs9ZSk7cmV0dXJuIHV9LERuLmNvbXBhY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoLHI9MCxvPVtdOysrZTxuOyl7dmFyIGk9dFtlXTtpJiYob1tyKytdPWkpfXJldHVybiBvfSxEbi5jb25jYXQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO2lmKCF0KXJldHVybltdO2Zvcih2YXIgZT1yKHQtMSksbj1hcmd1bWVudHNbMF0sbz10O28tLTspZVtvLTFdPWFyZ3VtZW50c1tvXTtyZXR1cm4gTmUoSGEobik/a28obik6W25dLHZyKGUsMSkpfSxEbi5jb25kPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw9PXQ/MDp0Lmxlbmd0aCxuPWNpKCk7cmV0dXJuIHQ9ZT9qZSh0LChmdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0WzFdKXRocm93IG5ldyBCdChpKTtyZXR1cm5bbih0WzBdKSx0WzFdXX0pKTpbXSxYcigoZnVuY3Rpb24obil7Zm9yKHZhciByPS0xOysrcjxlOyl7dmFyIG89dFtyXTtpZihSZShvWzBdLHRoaXMsbikpcmV0dXJuIFJlKG9bMV0sdGhpcyxuKX19KSl9LERuLmNvbmZvcm1zPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT1Mcyh0KTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGNyKG4sdCxlKX19KGxyKHQsMSkpfSxEbi5jb25zdGFudD1ldSxEbi5jb3VudEJ5PXlhLERuLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPUZuKHQpO3JldHVybiBudWxsPT1lP246aXIobixlKX0sRG4uY3Vycnk9ZnVuY3Rpb24gdChlLG4scil7dmFyIGk9UW8oZSw4LG8sbyxvLG8sbyxuPXI/bzpuKTtyZXR1cm4gaS5wbGFjZWhvbGRlcj10LnBsYWNlaG9sZGVyLGl9LERuLmN1cnJ5UmlnaHQ9ZnVuY3Rpb24gdChlLG4scil7dmFyIGk9UW8oZSx1LG8sbyxvLG8sbyxuPXI/bzpuKTtyZXR1cm4gaS5wbGFjZWhvbGRlcj10LnBsYWNlaG9sZGVyLGl9LERuLmRlYm91bmNlPUxhLERuLmRlZmF1bHRzPUlzLERuLmRlZmF1bHRzRGVlcD1UcyxEbi5kZWZlcj1PYSxEbi5kZWxheT1VYSxEbi5kaWZmZXJlbmNlPURpLERuLmRpZmZlcmVuY2VCeT1GaSxEbi5kaWZmZXJlbmNlV2l0aD16aSxEbi5kcm9wPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIHI/b28odCwoZT1ufHxlPT09bz8xOmdzKGUpKTwwPzA6ZSxyKTpbXX0sRG4uZHJvcFJpZ2h0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIHI/b28odCwwLChlPXItKGU9bnx8ZT09PW8/MTpncyhlKSkpPDA/MDplKTpbXX0sRG4uZHJvcFJpZ2h0V2hpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/Z28odCxjaShlLDMpLCEwLCEwKTpbXX0sRG4uZHJvcFdoaWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP2dvKHQsY2koZSwzKSwhMCk6W119LERuLmZpbGw9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiBpPyhuJiZcIm51bWJlclwiIT10eXBlb2YgbiYmX2kodCxlLG4pJiYobj0wLHI9aSksZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dC5sZW5ndGg7Zm9yKChuPWdzKG4pKTwwJiYobj0tbj5pPzA6aStuKSwocj1yPT09b3x8cj5pP2k6Z3MocikpPDAmJihyKz1pKSxyPW4+cj8wOnlzKHIpO248cjspdFtuKytdPWU7cmV0dXJuIHR9KHQsZSxuLHIpKTpbXX0sRG4uZmlsdGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKEhhKHQpP0xlOm1yKSh0LGNpKGUsMykpfSxEbi5mbGF0TWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZyKEFhKHQsZSksMSl9LERuLmZsYXRNYXBEZWVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZyKEFhKHQsZSksaCl9LERuLmZsYXRNYXBEZXB0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG49bj09PW8/MTpncyhuKSx2cihBYSh0LGUpLG4pfSxEbi5mbGF0dGVuPVZpLERuLmZsYXR0ZW5EZWVwPWZ1bmN0aW9uKHQpe3JldHVybihudWxsPT10PzA6dC5sZW5ndGgpP3ZyKHQsaCk6W119LERuLmZsYXR0ZW5EZXB0aD1mdW5jdGlvbih0LGUpe3JldHVybihudWxsPT10PzA6dC5sZW5ndGgpP3ZyKHQsZT1lPT09bz8xOmdzKGUpKTpbXX0sRG4uZmxpcD1mdW5jdGlvbih0KXtyZXR1cm4gUW8odCw1MTIpfSxEbi5mbG93PW51LERuLmZsb3dSaWdodD1ydSxEbi5mcm9tUGFpcnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoLHI9e307KytlPG47KXt2YXIgbz10W2VdO3Jbb1swXV09b1sxXX1yZXR1cm4gcn0sRG4uZnVuY3Rpb25zPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOlNyKHQsTHModCkpfSxEbi5mdW5jdGlvbnNJbj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXTpTcih0LE9zKHQpKX0sRG4uZ3JvdXBCeT1fYSxEbi5pbml0aWFsPWZ1bmN0aW9uKHQpe3JldHVybihudWxsPT10PzA6dC5sZW5ndGgpP29vKHQsMCwtMSk6W119LERuLmludGVyc2VjdGlvbj1KaSxEbi5pbnRlcnNlY3Rpb25CeT1ZaSxEbi5pbnRlcnNlY3Rpb25XaXRoPUtpLERuLmludmVydD1DcyxEbi5pbnZlcnRCeT1CcyxEbi5pbnZva2VNYXA9RWEsRG4uaXRlcmF0ZWU9aXUsRG4ua2V5Qnk9U2EsRG4ua2V5cz1McyxEbi5rZXlzSW49T3MsRG4ubWFwPUFhLERuLm1hcEtleXM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtyZXR1cm4gZT1jaShlLDMpLF9yKHQsKGZ1bmN0aW9uKHQscixvKXthcihuLGUodCxyLG8pLHQpfSkpLG59LERuLm1hcFZhbHVlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O3JldHVybiBlPWNpKGUsMyksX3IodCwoZnVuY3Rpb24odCxyLG8pe2FyKG4scixlKHQscixvKSl9KSksbn0sRG4ubWF0Y2hlcz1mdW5jdGlvbih0KXtyZXR1cm4gRHIobHIodCwxKSl9LERuLm1hdGNoZXNQcm9wZXJ0eT1mdW5jdGlvbih0LGUpe3JldHVybiBGcih0LGxyKGUsMSkpfSxEbi5tZW1vaXplPWphLERuLm1lcmdlPVVzLERuLm1lcmdlV2l0aD1qcyxEbi5tZXRob2Q9YXUsRG4ubWV0aG9kT2Y9c3UsRG4ubWl4aW49dXUsRG4ubmVnYXRlPU5hLERuLm50aEFyZz1mdW5jdGlvbih0KXtyZXR1cm4gdD1ncyh0KSxYcigoZnVuY3Rpb24oZSl7cmV0dXJuIHFyKGUsdCl9KSl9LERuLm9taXQ9TnMsRG4ub21pdEJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBzKHQsTmEoY2koZSkpKX0sRG4ub25jZT1mdW5jdGlvbih0KXtyZXR1cm4gQ2EoMix0KX0sRG4ub3JkZXJCeT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbnVsbD09dD9bXTooSGEoZSl8fChlPW51bGw9PWU/W106W2VdKSxIYShuPXI/bzpuKXx8KG49bnVsbD09bj9bXTpbbl0pLEhyKHQsZSxuKSl9LERuLm92ZXI9Y3UsRG4ub3ZlckFyZ3M9TWEsRG4ub3ZlckV2ZXJ5PWZ1LERuLm92ZXJTb21lPWR1LERuLnBhcnRpYWw9UGEsRG4ucGFydGlhbFJpZ2h0PVdhLERuLnBhcnRpdGlvbj1JYSxEbi5waWNrPU1zLERuLnBpY2tCeT1QcyxEbi5wcm9wZXJ0eT1odSxEbi5wcm9wZXJ0eU9mPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09dD9vOkFyKHQsZSl9fSxEbi5wdWxsPVppLERuLnB1bGxBbGw9UWksRG4ucHVsbEFsbEJ5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmdC5sZW5ndGgmJmUmJmUubGVuZ3RoP0dyKHQsZSxjaShuLDIpKTp0fSxEbi5wdWxsQWxsV2l0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQmJnQubGVuZ3RoJiZlJiZlLmxlbmd0aD9Hcih0LGUsbyxuKTp0fSxEbi5wdWxsQXQ9dGEsRG4ucmFuZ2U9cHUsRG4ucmFuZ2VSaWdodD1ndSxEbi5yZWFyZz0kYSxEbi5yZWplY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4oSGEodCk/TGU6bXIpKHQsTmEoY2koZSwzKSkpfSxEbi5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtpZighdHx8IXQubGVuZ3RoKXJldHVybiBuO3ZhciByPS0xLG89W10saT10Lmxlbmd0aDtmb3IoZT1jaShlLDMpOysrcjxpOyl7dmFyIGE9dFtyXTtlKGEscix0KSYmKG4ucHVzaChhKSxvLnB1c2gocikpfXJldHVybiBKcih0LG8pLG59LERuLnJlc3Q9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBCdChpKTtyZXR1cm4gWHIodCxlPWU9PT1vP2U6Z3MoZSkpfSxEbi5yZXZlcnNlPWVhLERuLnNhbXBsZVNpemU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlPShuP19pKHQsZSxuKTplPT09byk/MTpncyhlKSwoSGEodCk/UW46UXIpKHQsZSl9LERuLnNldD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG51bGw9PXQ/dDp0byh0LGUsbil9LERuLnNldFdpdGg9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHI9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOm8sbnVsbD09dD90OnRvKHQsZSxuLHIpfSxEbi5zaHVmZmxlPWZ1bmN0aW9uKHQpe3JldHVybihIYSh0KT90cjpybykodCl9LERuLnNsaWNlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7cmV0dXJuIHI/KG4mJlwibnVtYmVyXCIhPXR5cGVvZiBuJiZfaSh0LGUsbik/KGU9MCxuPXIpOihlPW51bGw9PWU/MDpncyhlKSxuPW49PT1vP3I6Z3MobikpLG9vKHQsZSxuKSk6W119LERuLnNvcnRCeT1UYSxEbi5zb3J0ZWRVbmlxPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD91byh0KTpbXX0sRG4uc29ydGVkVW5pcUJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP3VvKHQsY2koZSwyKSk6W119LERuLnNwbGl0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbiYmXCJudW1iZXJcIiE9dHlwZW9mIG4mJl9pKHQsZSxuKSYmKGU9bj1vKSwobj1uPT09bz95Om4+Pj4wKT8odD1icyh0KSkmJihcInN0cmluZ1wiPT10eXBlb2YgZXx8bnVsbCE9ZSYmIWFzKGUpKSYmIShlPWNvKGUpKSYmdW4odCk/U28oZ24odCksMCxuKTp0LnNwbGl0KGUsbik6W119LERuLnNwcmVhZD1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEJ0KGkpO3JldHVybiBlPW51bGw9PWU/MDpibihncyhlKSwwKSxYcigoZnVuY3Rpb24obil7dmFyIHI9bltlXSxvPVNvKG4sMCxlKTtyZXR1cm4gciYmTmUobyxyKSxSZSh0LHRoaXMsbyl9KSl9LERuLnRhaWw9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiBlP29vKHQsMSxlKTpbXX0sRG4udGFrZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQmJnQubGVuZ3RoP29vKHQsMCwoZT1ufHxlPT09bz8xOmdzKGUpKTwwPzA6ZSk6W119LERuLnRha2VSaWdodD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiByP29vKHQsKGU9ci0oZT1ufHxlPT09bz8xOmdzKGUpKSk8MD8wOmUscik6W119LERuLnRha2VSaWdodFdoaWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP2dvKHQsY2koZSwzKSwhMSwhMCk6W119LERuLnRha2VXaGlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmxlbmd0aD9nbyh0LGNpKGUsMykpOltdfSxEbi50YXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSh0KSx0fSxEbi50aHJvdHRsZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9ITAsbz0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBCdChpKTtyZXR1cm4gZXMobikmJihyPVwibGVhZGluZ1wiaW4gbj8hIW4ubGVhZGluZzpyLG89XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6byksTGEodCxlLHtsZWFkaW5nOnIsbWF4V2FpdDplLHRyYWlsaW5nOm99KX0sRG4udGhydT1wYSxEbi50b0FycmF5PWhzLERuLnRvUGFpcnM9V3MsRG4udG9QYWlyc0luPSRzLERuLnRvUGF0aD1mdW5jdGlvbih0KXtyZXR1cm4gSGEodCk/amUodCxQaSk6bHModCk/W3RdOmtvKE1pKGJzKHQpKSl9LERuLnRvUGxhaW5PYmplY3Q9dnMsRG4udHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1IYSh0KSxvPXJ8fFlhKHQpfHxjcyh0KTtpZihlPWNpKGUsNCksbnVsbD09bil7dmFyIGk9dCYmdC5jb25zdHJ1Y3RvcjtuPW8/cj9uZXcgaTpbXTplcyh0KSYmWmEoaSk/Rm4oR3QodCkpOnt9fXJldHVybihvP0NlOl9yKSh0LChmdW5jdGlvbih0LHIsbyl7cmV0dXJuIGUobix0LHIsbyl9KSksbn0sRG4udW5hcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHhhKHQsMSl9LERuLnVuaW9uPW5hLERuLnVuaW9uQnk9cmEsRG4udW5pb25XaXRoPW9hLERuLnVuaXE9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoP2ZvKHQpOltdfSxEbi51bmlxQnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/Zm8odCxjaShlLDIpKTpbXX0sRG4udW5pcVdpdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6byx0JiZ0Lmxlbmd0aD9mbyh0LG8sZSk6W119LERuLnVuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXR8fGhvKHQsZSl9LERuLnVuemlwPWlhLERuLnVuemlwV2l0aD1hYSxEbi51cGRhdGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsPT10P3Q6cG8odCxlLHdvKG4pKX0sRG4udXBkYXRlV2l0aD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3I6byxudWxsPT10P3Q6cG8odCxlLHdvKG4pLHIpfSxEbi52YWx1ZXM9RHMsRG4udmFsdWVzSW49ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/W106dG4odCxPcyh0KSl9LERuLndpdGhvdXQ9c2EsRG4ud29yZHM9WnMsRG4ud3JhcD1mdW5jdGlvbih0LGUpe3JldHVybiBQYSh3byhlKSx0KX0sRG4ueG9yPXVhLERuLnhvckJ5PWxhLERuLnhvcldpdGg9Y2EsRG4uemlwPWZhLERuLnppcE9iamVjdD1mdW5jdGlvbih0LGUpe3JldHVybiB2byh0fHxbXSxlfHxbXSxucil9LERuLnppcE9iamVjdERlZXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm8odHx8W10sZXx8W10sdG8pfSxEbi56aXBXaXRoPWRhLERuLmVudHJpZXM9V3MsRG4uZW50cmllc0luPSRzLERuLmV4dGVuZD1fcyxEbi5leHRlbmRXaXRoPUVzLHV1KERuLERuKSxEbi5hZGQ9dnUsRG4uYXR0ZW1wdD1RcyxEbi5jYW1lbENhc2U9RnMsRG4uY2FwaXRhbGl6ZT16cyxEbi5jZWlsPWJ1LERuLmNsYW1wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj09PW8mJihuPWUsZT1vKSxuIT09byYmKG49KG49bXMobikpPT1uP246MCksZSE9PW8mJihlPShlPW1zKGUpKT09ZT9lOjApLHVyKG1zKHQpLGUsbil9LERuLmNsb25lPWZ1bmN0aW9uKHQpe3JldHVybiBscih0LDQpfSxEbi5jbG9uZURlZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGxyKHQsNSl9LERuLmNsb25lRGVlcFdpdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHIodCw1LGU9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm8pfSxEbi5jbG9uZVdpdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHIodCw0LGU9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm8pfSxEbi5jb25mb3Jtc1RvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PWV8fGNyKHQsZSxMcyhlKSl9LERuLmRlYnVycj1xcyxEbi5kZWZhdWx0VG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dHx8dCE9dD9lOnR9LERuLmRpdmlkZT13dSxEbi5lbmRzV2l0aD1mdW5jdGlvbih0LGUsbil7dD1icyh0KSxlPWNvKGUpO3ZhciByPXQubGVuZ3RoLGk9bj1uPT09bz9yOnVyKGdzKG4pLDAscik7cmV0dXJuKG4tPWUubGVuZ3RoKT49MCYmdC5zbGljZShuLGkpPT1lfSxEbi5lcT1EYSxEbi5lc2NhcGU9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9YnModCkpJiZYLnRlc3QodCk/dC5yZXBsYWNlKFksYW4pOnR9LERuLmVzY2FwZVJlZ0V4cD1mdW5jdGlvbih0KXtyZXR1cm4odD1icyh0KSkmJml0LnRlc3QodCk/dC5yZXBsYWNlKG90LFwiXFxcXCQmXCIpOnR9LERuLmV2ZXJ5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1IYSh0KT9rZTpncjtyZXR1cm4gbiYmX2kodCxlLG4pJiYoZT1vKSxyKHQsY2koZSwzKSl9LERuLmZpbmQ9bWEsRG4uZmluZEluZGV4PXFpLERuLmZpbmRLZXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRGUodCxjaShlLDMpLF9yKX0sRG4uZmluZExhc3Q9dmEsRG4uZmluZExhc3RJbmRleD1IaSxEbi5maW5kTGFzdEtleT1mdW5jdGlvbih0LGUpe3JldHVybiBEZSh0LGNpKGUsMyksRXIpfSxEbi5mbG9vcj1fdSxEbi5mb3JFYWNoPWJhLERuLmZvckVhY2hSaWdodD13YSxEbi5mb3JJbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3Q6YnIodCxjaShlLDMpLE9zKX0sRG4uZm9ySW5SaWdodD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3Q6d3IodCxjaShlLDMpLE9zKX0sRG4uZm9yT3duPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJl9yKHQsY2koZSwzKSl9LERuLmZvck93blJpZ2h0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJkVyKHQsY2koZSwzKSl9LERuLmdldD1ScyxEbi5ndD1GYSxEbi5ndGU9emEsRG4uaGFzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXQmJm1pKHQsZSx4cil9LERuLmhhc0luPXhzLERuLmhlYWQ9R2ksRG4uaWRlbnRpdHk9b3UsRG4uaW5jbHVkZXM9ZnVuY3Rpb24odCxlLG4scil7dD1HYSh0KT90OkRzKHQpLG49biYmIXI/Z3Mobik6MDt2YXIgbz10Lmxlbmd0aDtyZXR1cm4gbjwwJiYobj1ibihvK24sMCkpLHVzKHQpP248PW8mJnQuaW5kZXhPZihlLG4pPi0xOiEhbyYmemUodCxlLG4pPi0xfSxEbi5pbmRleE9mPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7aWYoIXIpcmV0dXJuLTE7dmFyIG89bnVsbD09bj8wOmdzKG4pO3JldHVybiBvPDAmJihvPWJuKHIrbywwKSksemUodCxlLG8pfSxEbi5pblJhbmdlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT1wcyhlKSxuPT09bz8obj1lLGU9MCk6bj1wcyhuKSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ+PXduKGUsbikmJnQ8Ym4oZSxuKX0odD1tcyh0KSxlLG4pfSxEbi5pbnZva2U9a3MsRG4uaXNBcmd1bWVudHM9cWEsRG4uaXNBcnJheT1IYSxEbi5pc0FycmF5QnVmZmVyPVZhLERuLmlzQXJyYXlMaWtlPUdhLERuLmlzQXJyYXlMaWtlT2JqZWN0PUphLERuLmlzQm9vbGVhbj1mdW5jdGlvbih0KXtyZXR1cm4hMD09PXR8fCExPT09dHx8bnModCkmJlRyKHQpPT13fSxEbi5pc0J1ZmZlcj1ZYSxEbi5pc0RhdGU9S2EsRG4uaXNFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmMT09PXQubm9kZVR5cGUmJiFpcyh0KX0sRG4uaXNFbXB0eT1mdW5jdGlvbih0KXtpZihudWxsPT10KXJldHVybiEwO2lmKEdhKHQpJiYoSGEodCl8fFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnNwbGljZXx8WWEodCl8fGNzKHQpfHxxYSh0KSkpcmV0dXJuIXQubGVuZ3RoO3ZhciBlPXlpKHQpO2lmKGU9PUl8fGU9PUIpcmV0dXJuIXQuc2l6ZTtpZihJaSh0KSlyZXR1cm4hTXIodCkubGVuZ3RoO2Zvcih2YXIgbiBpbiB0KWlmKE50LmNhbGwodCxuKSlyZXR1cm4hMTtyZXR1cm4hMH0sRG4uaXNFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiBPcih0LGUpfSxEbi5pc0VxdWFsV2l0aD1mdW5jdGlvbih0LGUsbil7dmFyIHI9KG49XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOm8pP24odCxlKTpvO3JldHVybiByPT09bz9Pcih0LGUsbyxuKTohIXJ9LERuLmlzRXJyb3I9WGEsRG4uaXNGaW5pdGU9ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJndlKHQpfSxEbi5pc0Z1bmN0aW9uPVphLERuLmlzSW50ZWdlcj1RYSxEbi5pc0xlbmd0aD10cyxEbi5pc01hcD1ycyxEbi5pc01hdGNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfHxVcih0LGUsZGkoZSkpfSxEbi5pc01hdGNoV2l0aD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG49XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOm8sVXIodCxlLGRpKGUpLG4pfSxEbi5pc05hTj1mdW5jdGlvbih0KXtyZXR1cm4gb3ModCkmJnQhPSt0fSxEbi5pc05hdGl2ZT1mdW5jdGlvbih0KXtpZihBaSh0KSl0aHJvdyBuZXcgQXQoXCJVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC5cIik7cmV0dXJuIGpyKHQpfSxEbi5pc05pbD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dH0sRG4uaXNOdWxsPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dH0sRG4uaXNOdW1iZXI9b3MsRG4uaXNPYmplY3Q9ZXMsRG4uaXNPYmplY3RMaWtlPW5zLERuLmlzUGxhaW5PYmplY3Q9aXMsRG4uaXNSZWdFeHA9YXMsRG4uaXNTYWZlSW50ZWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gUWEodCkmJnQ+PS05MDA3MTk5MjU0NzQwOTkxJiZ0PD1wfSxEbi5pc1NldD1zcyxEbi5pc1N0cmluZz11cyxEbi5pc1N5bWJvbD1scyxEbi5pc1R5cGVkQXJyYXk9Y3MsRG4uaXNVbmRlZmluZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1vfSxEbi5pc1dlYWtNYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5zKHQpJiZ5aSh0KT09T30sRG4uaXNXZWFrU2V0PWZ1bmN0aW9uKHQpe3JldHVybiBucyh0KSYmXCJbb2JqZWN0IFdlYWtTZXRdXCI9PVRyKHQpfSxEbi5qb2luPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/XCJcIjokZS5jYWxsKHQsZSl9LERuLmtlYmFiQ2FzZT1IcyxEbi5sYXN0PVhpLERuLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsPT10PzA6dC5sZW5ndGg7aWYoIXIpcmV0dXJuLTE7dmFyIGk9cjtyZXR1cm4gbiE9PW8mJihpPShpPWdzKG4pKTwwP2JuKHIraSwwKTp3bihpLHItMSkpLGU9PWU/ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uKzE7ci0tOylpZih0W3JdPT09ZSlyZXR1cm4gcjtyZXR1cm4gcn0odCxlLGkpOkZlKHQsSGUsaSwhMCl9LERuLmxvd2VyQ2FzZT1WcyxEbi5sb3dlckZpcnN0PUdzLERuLmx0PWZzLERuLmx0ZT1kcyxEbi5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoP3lyKHQsb3UsUnIpOm99LERuLm1heEJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP3lyKHQsY2koZSwyKSxScik6b30sRG4ubWVhbj1mdW5jdGlvbih0KXtyZXR1cm4gVmUodCxvdSl9LERuLm1lYW5CeT1mdW5jdGlvbih0LGUpe3JldHVybiBWZSh0LGNpKGUsMikpfSxEbi5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoP3lyKHQsb3UsV3IpOm99LERuLm1pbkJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP3lyKHQsY2koZSwyKSxXcik6b30sRG4uc3R1YkFycmF5PXl1LERuLnN0dWJGYWxzZT1tdSxEbi5zdHViT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJue319LERuLnN0dWJTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxEbi5zdHViVHJ1ZT1mdW5jdGlvbigpe3JldHVybiEwfSxEbi5tdWx0aXBseT1TdSxEbi5udGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5sZW5ndGg/cXIodCxncyhlKSk6b30sRG4ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBnZS5fPT09dGhpcyYmKGdlLl89RHQpLHRoaXN9LERuLm5vb3A9bHUsRG4ubm93PVJhLERuLnBhZD1mdW5jdGlvbih0LGUsbil7dD1icyh0KTt2YXIgcj0oZT1ncyhlKSk/cG4odCk6MDtpZighZXx8cj49ZSlyZXR1cm4gdDt2YXIgbz0oZS1yKS8yO3JldHVybiBWbyh5ZShvKSxuKSt0K1ZvKHBlKG8pLG4pfSxEbi5wYWRFbmQ9ZnVuY3Rpb24odCxlLG4pe3Q9YnModCk7dmFyIHI9KGU9Z3MoZSkpP3BuKHQpOjA7cmV0dXJuIGUmJnI8ZT90K1ZvKGUtcixuKTp0fSxEbi5wYWRTdGFydD1mdW5jdGlvbih0LGUsbil7dD1icyh0KTt2YXIgcj0oZT1ncyhlKSk/cG4odCk6MDtyZXR1cm4gZSYmcjxlP1ZvKGUtcixuKSt0OnR9LERuLnBhcnNlSW50PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnx8bnVsbD09ZT9lPTA6ZSYmKGU9K2UpLEVuKGJzKHQpLnJlcGxhY2UoYXQsXCJcIiksZXx8MCl9LERuLnJhbmRvbT1mdW5jdGlvbih0LGUsbil7aWYobiYmXCJib29sZWFuXCIhPXR5cGVvZiBuJiZfaSh0LGUsbikmJihlPW49byksbj09PW8mJihcImJvb2xlYW5cIj09dHlwZW9mIGU/KG49ZSxlPW8pOlwiYm9vbGVhblwiPT10eXBlb2YgdCYmKG49dCx0PW8pKSx0PT09byYmZT09PW8/KHQ9MCxlPTEpOih0PXBzKHQpLGU9PT1vPyhlPXQsdD0wKTplPXBzKGUpKSx0PmUpe3ZhciByPXQ7dD1lLGU9cn1pZihufHx0JTF8fGUlMSl7dmFyIGk9U24oKTtyZXR1cm4gd24odCtpKihlLXQrZmUoXCIxZS1cIisoKGkrXCJcIikubGVuZ3RoLTEpKSksZSl9cmV0dXJuIFlyKHQsZSl9LERuLnJlZHVjZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9SGEodCk/TWU6WWUsbz1hcmd1bWVudHMubGVuZ3RoPDM7cmV0dXJuIHIodCxjaShlLDQpLG4sbyxocil9LERuLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1IYSh0KT9QZTpZZSxvPWFyZ3VtZW50cy5sZW5ndGg8MztyZXR1cm4gcih0LGNpKGUsNCksbixvLHByKX0sRG4ucmVwZWF0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT0obj9faSh0LGUsbik6ZT09PW8pPzE6Z3MoZSksS3IoYnModCksZSl9LERuLnJlcGxhY2U9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMsZT1icyh0WzBdKTtyZXR1cm4gdC5sZW5ndGg8Mz9lOmUucmVwbGFjZSh0WzFdLHRbMl0pfSxEbi5yZXN1bHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPS0xLGk9KGU9X28oZSx0KSkubGVuZ3RoO2ZvcihpfHwoaT0xLHQ9byk7KytyPGk7KXt2YXIgYT1udWxsPT10P286dFtQaShlW3JdKV07YT09PW8mJihyPWksYT1uKSx0PVphKGEpP2EuY2FsbCh0KTphfXJldHVybiB0fSxEbi5yb3VuZD1BdSxEbi5ydW5JbkNvbnRleHQ9dCxEbi5zYW1wbGU9ZnVuY3Rpb24odCl7cmV0dXJuKEhhKHQpP1puOlpyKSh0KX0sRG4uc2l6ZT1mdW5jdGlvbih0KXtpZihudWxsPT10KXJldHVybiAwO2lmKEdhKHQpKXJldHVybiB1cyh0KT9wbih0KTp0Lmxlbmd0aDt2YXIgZT15aSh0KTtyZXR1cm4gZT09SXx8ZT09Qj90LnNpemU6TXIodCkubGVuZ3RofSxEbi5zbmFrZUNhc2U9SnMsRG4uc29tZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9SGEodCk/V2U6aW87cmV0dXJuIG4mJl9pKHQsZSxuKSYmKGU9bykscih0LGNpKGUsMykpfSxEbi5zb3J0ZWRJbmRleD1mdW5jdGlvbih0LGUpe3JldHVybiBhbyh0LGUpfSxEbi5zb3J0ZWRJbmRleEJ5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gc28odCxlLGNpKG4sMikpfSxEbi5zb3J0ZWRJbmRleE9mPWZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbD09dD8wOnQubGVuZ3RoO2lmKG4pe3ZhciByPWFvKHQsZSk7aWYocjxuJiZEYSh0W3JdLGUpKXJldHVybiByfXJldHVybi0xfSxEbi5zb3J0ZWRMYXN0SW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYW8odCxlLCEwKX0sRG4uc29ydGVkTGFzdEluZGV4Qnk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBzbyh0LGUsY2kobiwyKSwhMCl9LERuLnNvcnRlZExhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dD8wOnQubGVuZ3RoKXt2YXIgbj1hbyh0LGUsITApLTE7aWYoRGEodFtuXSxlKSlyZXR1cm4gbn1yZXR1cm4tMX0sRG4uc3RhcnRDYXNlPVlzLERuLnN0YXJ0c1dpdGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PWJzKHQpLG49bnVsbD09bj8wOnVyKGdzKG4pLDAsdC5sZW5ndGgpLGU9Y28oZSksdC5zbGljZShuLG4rZS5sZW5ndGgpPT1lfSxEbi5zdWJ0cmFjdD1JdSxEbi5zdW09ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoP0tlKHQsb3UpOjB9LERuLnN1bUJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQubGVuZ3RoP0tlKHQsY2koZSwyKSk6MH0sRG4udGVtcGxhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPURuLnRlbXBsYXRlU2V0dGluZ3M7biYmX2kodCxlLG4pJiYoZT1vKSx0PWJzKHQpLGU9RXMoe30sZSxyLHRpKTt2YXIgaSxhLHM9RXMoe30sZS5pbXBvcnRzLHIuaW1wb3J0cyx0aSksdT1McyhzKSxsPXRuKHMsdSksYz0wLGY9ZS5pbnRlcnBvbGF0ZXx8RXQsZD1cIl9fcCArPSAnXCIsaD14dCgoZS5lc2NhcGV8fEV0KS5zb3VyY2UrXCJ8XCIrZi5zb3VyY2UrXCJ8XCIrKGY9PT10dD9wdDpFdCkuc291cmNlK1wifFwiKyhlLmV2YWx1YXRlfHxFdCkuc291cmNlK1wifCRcIixcImdcIikscD1cIi8vIyBzb3VyY2VVUkw9XCIrKE50LmNhbGwoZSxcInNvdXJjZVVSTFwiKT8oZS5zb3VyY2VVUkwrXCJcIikucmVwbGFjZSgvXFxzL2csXCIgXCIpOlwibG9kYXNoLnRlbXBsYXRlU291cmNlc1tcIisgKytzZStcIl1cIikrXCJcXG5cIjt0LnJlcGxhY2UoaCwoZnVuY3Rpb24oZSxuLHIsbyxzLHUpe3JldHVybiByfHwocj1vKSxkKz10LnNsaWNlKGMsdSkucmVwbGFjZShTdCxzbiksbiYmKGk9ITAsZCs9XCInICtcXG5fX2UoXCIrbitcIikgK1xcbidcIikscyYmKGE9ITAsZCs9XCInO1xcblwiK3MrXCI7XFxuX19wICs9ICdcIiksciYmKGQrPVwiJyArXFxuKChfX3QgPSAoXCIrcitcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIiksYz11K2UubGVuZ3RoLGV9KSksZCs9XCInO1xcblwiO3ZhciBnPU50LmNhbGwoZSxcInZhcmlhYmxlXCIpJiZlLnZhcmlhYmxlO2lmKGcpe2lmKGR0LnRlc3QoZykpdGhyb3cgbmV3IEF0KFwiSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWBcIil9ZWxzZSBkPVwid2l0aCAob2JqKSB7XFxuXCIrZCtcIlxcbn1cXG5cIjtkPShhP2QucmVwbGFjZShILFwiXCIpOmQpLnJlcGxhY2UoVixcIiQxXCIpLnJlcGxhY2UoRyxcIiQxO1wiKSxkPVwiZnVuY3Rpb24oXCIrKGd8fFwib2JqXCIpK1wiKSB7XFxuXCIrKGc/XCJcIjpcIm9iaiB8fCAob2JqID0ge30pO1xcblwiKStcInZhciBfX3QsIF9fcCA9ICcnXCIrKGk/XCIsIF9fZSA9IF8uZXNjYXBlXCI6XCJcIikrKGE/XCIsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbmZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiOlwiO1xcblwiKStkK1wicmV0dXJuIF9fcFxcbn1cIjt2YXIgeT1RcygoZnVuY3Rpb24oKXtyZXR1cm4gSXQodSxwK1wicmV0dXJuIFwiK2QpLmFwcGx5KG8sbCl9KSk7aWYoeS5zb3VyY2U9ZCxYYSh5KSl0aHJvdyB5O3JldHVybiB5fSxEbi50aW1lcz1mdW5jdGlvbih0LGUpe2lmKCh0PWdzKHQpKTwxfHx0PnApcmV0dXJuW107dmFyIG49eSxyPXduKHQseSk7ZT1jaShlKSx0LT15O2Zvcih2YXIgbz1YZShyLGUpOysrbjx0OyllKG4pO3JldHVybiBvfSxEbi50b0Zpbml0ZT1wcyxEbi50b0ludGVnZXI9Z3MsRG4udG9MZW5ndGg9eXMsRG4udG9Mb3dlcj1mdW5jdGlvbih0KXtyZXR1cm4gYnModCkudG9Mb3dlckNhc2UoKX0sRG4udG9OdW1iZXI9bXMsRG4udG9TYWZlSW50ZWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gdD91cihncyh0KSwtOTAwNzE5OTI1NDc0MDk5MSxwKTowPT09dD90OjB9LERuLnRvU3RyaW5nPWJzLERuLnRvVXBwZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGJzKHQpLnRvVXBwZXJDYXNlKCl9LERuLnRyaW09ZnVuY3Rpb24odCxlLG4pe2lmKCh0PWJzKHQpKSYmKG58fGU9PT1vKSlyZXR1cm4gWmUodCk7aWYoIXR8fCEoZT1jbyhlKSkpcmV0dXJuIHQ7dmFyIHI9Z24odCksaT1nbihlKTtyZXR1cm4gU28ocixubihyLGkpLHJuKHIsaSkrMSkuam9pbihcIlwiKX0sRG4udHJpbUVuZD1mdW5jdGlvbih0LGUsbil7aWYoKHQ9YnModCkpJiYobnx8ZT09PW8pKXJldHVybiB0LnNsaWNlKDAseW4odCkrMSk7aWYoIXR8fCEoZT1jbyhlKSkpcmV0dXJuIHQ7dmFyIHI9Z24odCk7cmV0dXJuIFNvKHIsMCxybihyLGduKGUpKSsxKS5qb2luKFwiXCIpfSxEbi50cmltU3RhcnQ9ZnVuY3Rpb24odCxlLG4pe2lmKCh0PWJzKHQpKSYmKG58fGU9PT1vKSlyZXR1cm4gdC5yZXBsYWNlKGF0LFwiXCIpO2lmKCF0fHwhKGU9Y28oZSkpKXJldHVybiB0O3ZhciByPWduKHQpO3JldHVybiBTbyhyLG5uKHIsZ24oZSkpKS5qb2luKFwiXCIpfSxEbi50cnVuY2F0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPTMwLHI9XCIuLi5cIjtpZihlcyhlKSl7dmFyIGk9XCJzZXBhcmF0b3JcImluIGU/ZS5zZXBhcmF0b3I6aTtuPVwibGVuZ3RoXCJpbiBlP2dzKGUubGVuZ3RoKTpuLHI9XCJvbWlzc2lvblwiaW4gZT9jbyhlLm9taXNzaW9uKTpyfXZhciBhPSh0PWJzKHQpKS5sZW5ndGg7aWYodW4odCkpe3ZhciBzPWduKHQpO2E9cy5sZW5ndGh9aWYobj49YSlyZXR1cm4gdDt2YXIgdT1uLXBuKHIpO2lmKHU8MSlyZXR1cm4gcjt2YXIgbD1zP1NvKHMsMCx1KS5qb2luKFwiXCIpOnQuc2xpY2UoMCx1KTtpZihpPT09bylyZXR1cm4gbCtyO2lmKHMmJih1Kz1sLmxlbmd0aC11KSxhcyhpKSl7aWYodC5zbGljZSh1KS5zZWFyY2goaSkpe3ZhciBjLGY9bDtmb3IoaS5nbG9iYWx8fChpPXh0KGkuc291cmNlLGJzKGd0LmV4ZWMoaSkpK1wiZ1wiKSksaS5sYXN0SW5kZXg9MDtjPWkuZXhlYyhmKTspdmFyIGQ9Yy5pbmRleDtsPWwuc2xpY2UoMCxkPT09bz91OmQpfX1lbHNlIGlmKHQuaW5kZXhPZihjbyhpKSx1KSE9dSl7dmFyIGg9bC5sYXN0SW5kZXhPZihpKTtoPi0xJiYobD1sLnNsaWNlKDAsaCkpfXJldHVybiBsK3J9LERuLnVuZXNjYXBlPWZ1bmN0aW9uKHQpe3JldHVybih0PWJzKHQpKSYmSy50ZXN0KHQpP3QucmVwbGFjZShKLG1uKTp0fSxEbi51bmlxdWVJZD1mdW5jdGlvbih0KXt2YXIgZT0rK010O3JldHVybiBicyh0KStlfSxEbi51cHBlckNhc2U9S3MsRG4udXBwZXJGaXJzdD1YcyxEbi5lYWNoPWJhLERuLmVhY2hSaWdodD13YSxEbi5maXJzdD1HaSx1dShEbiwoRXU9e30sX3IoRG4sKGZ1bmN0aW9uKHQsZSl7TnQuY2FsbChEbi5wcm90b3R5cGUsZSl8fChFdVtlXT10KX0pKSxFdSkse2NoYWluOiExfSksRG4uVkVSU0lPTj1cIjQuMTcuMjFcIixDZShbXCJiaW5kXCIsXCJiaW5kS2V5XCIsXCJjdXJyeVwiLFwiY3VycnlSaWdodFwiLFwicGFydGlhbFwiLFwicGFydGlhbFJpZ2h0XCJdLChmdW5jdGlvbih0KXtEblt0XS5wbGFjZWhvbGRlcj1Ebn0pKSxDZShbXCJkcm9wXCIsXCJ0YWtlXCJdLChmdW5jdGlvbih0LGUpe0huLnByb3RvdHlwZVt0XT1mdW5jdGlvbihuKXtuPW49PT1vPzE6Ym4oZ3MobiksMCk7dmFyIHI9dGhpcy5fX2ZpbHRlcmVkX18mJiFlP25ldyBIbih0aGlzKTp0aGlzLmNsb25lKCk7cmV0dXJuIHIuX19maWx0ZXJlZF9fP3IuX190YWtlQ291bnRfXz13bihuLHIuX190YWtlQ291bnRfXyk6ci5fX3ZpZXdzX18ucHVzaCh7c2l6ZTp3bihuLHkpLHR5cGU6dCsoci5fX2Rpcl9fPDA/XCJSaWdodFwiOlwiXCIpfSkscn0sSG4ucHJvdG90eXBlW3QrXCJSaWdodFwiXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXZlcnNlKClbdF0oZSkucmV2ZXJzZSgpfX0pKSxDZShbXCJmaWx0ZXJcIixcIm1hcFwiLFwidGFrZVdoaWxlXCJdLChmdW5jdGlvbih0LGUpe3ZhciBuPWUrMSxyPTE9PW58fDM9PW47SG4ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2xvbmUoKTtyZXR1cm4gZS5fX2l0ZXJhdGVlc19fLnB1c2goe2l0ZXJhdGVlOmNpKHQsMyksdHlwZTpufSksZS5fX2ZpbHRlcmVkX189ZS5fX2ZpbHRlcmVkX198fHIsZX19KSksQ2UoW1wiaGVhZFwiLFwibGFzdFwiXSwoZnVuY3Rpb24odCxlKXt2YXIgbj1cInRha2VcIisoZT9cIlJpZ2h0XCI6XCJcIik7SG4ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbbl0oMSkudmFsdWUoKVswXX19KSksQ2UoW1wiaW5pdGlhbFwiLFwidGFpbFwiXSwoZnVuY3Rpb24odCxlKXt2YXIgbj1cImRyb3BcIisoZT9cIlwiOlwiUmlnaHRcIik7SG4ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fP25ldyBIbih0aGlzKTp0aGlzW25dKDEpfX0pKSxIbi5wcm90b3R5cGUuY29tcGFjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcihvdSl9LEhuLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbHRlcih0KS5oZWFkKCl9LEhuLnByb3RvdHlwZS5maW5kTGFzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZCh0KX0sSG4ucHJvdG90eXBlLmludm9rZU1hcD1YcigoZnVuY3Rpb24odCxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P25ldyBIbih0aGlzKTp0aGlzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIGtyKG4sdCxlKX0pKX0pKSxIbi5wcm90b3R5cGUucmVqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbHRlcihOYShjaSh0KSkpfSxIbi5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXt0PWdzKHQpO3ZhciBuPXRoaXM7cmV0dXJuIG4uX19maWx0ZXJlZF9fJiYodD4wfHxlPDApP25ldyBIbihuKToodDwwP249bi50YWtlUmlnaHQoLXQpOnQmJihuPW4uZHJvcCh0KSksZSE9PW8mJihuPShlPWdzKGUpKTwwP24uZHJvcFJpZ2h0KC1lKTpuLnRha2UoZS10KSksbil9LEhuLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXZlcnNlKCkudGFrZVdoaWxlKHQpLnJldmVyc2UoKX0sSG4ucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWtlKHkpfSxfcihIbi5wcm90b3R5cGUsKGZ1bmN0aW9uKHQsZSl7dmFyIG49L14oPzpmaWx0ZXJ8ZmluZHxtYXB8cmVqZWN0KXxXaGlsZSQvLnRlc3QoZSkscj0vXig/OmhlYWR8bGFzdCkkLy50ZXN0KGUpLGk9RG5bcj9cInRha2VcIisoXCJsYXN0XCI9PWU/XCJSaWdodFwiOlwiXCIpOmVdLGE9cnx8L15maW5kLy50ZXN0KGUpO2kmJihEbi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9fd3JhcHBlZF9fLHM9cj9bMV06YXJndW1lbnRzLHU9ZSBpbnN0YW5jZW9mIEhuLGw9c1swXSxjPXV8fEhhKGUpLGY9ZnVuY3Rpb24odCl7dmFyIGU9aS5hcHBseShEbixOZShbdF0scykpO3JldHVybiByJiZkP2VbMF06ZX07YyYmbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgbCYmMSE9bC5sZW5ndGgmJih1PWM9ITEpO3ZhciBkPXRoaXMuX19jaGFpbl9fLGg9ISF0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCxwPWEmJiFkLGc9dSYmIWg7aWYoIWEmJmMpe2U9Zz9lOm5ldyBIbih0aGlzKTt2YXIgeT10LmFwcGx5KGUscyk7cmV0dXJuIHkuX19hY3Rpb25zX18ucHVzaCh7ZnVuYzpwYSxhcmdzOltmXSx0aGlzQXJnOm99KSxuZXcgcW4oeSxkKX1yZXR1cm4gcCYmZz90LmFwcGx5KHRoaXMscyk6KHk9dGhpcy50aHJ1KGYpLHA/cj95LnZhbHVlKClbMF06eS52YWx1ZSgpOnkpfSl9KSksQ2UoW1wicG9wXCIsXCJwdXNoXCIsXCJzaGlmdFwiLFwic29ydFwiLFwic3BsaWNlXCIsXCJ1bnNoaWZ0XCJdLChmdW5jdGlvbih0KXt2YXIgZT1rdFt0XSxuPS9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdCh0KT9cInRhcFwiOlwidGhydVwiLHI9L14oPzpwb3B8c2hpZnQpJC8udGVzdCh0KTtEbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7aWYociYmIXRoaXMuX19jaGFpbl9fKXt2YXIgbz10aGlzLnZhbHVlKCk7cmV0dXJuIGUuYXBwbHkoSGEobyk/bzpbXSx0KX1yZXR1cm4gdGhpc1tuXSgoZnVuY3Rpb24obil7cmV0dXJuIGUuYXBwbHkoSGEobik/bjpbXSx0KX0pKX19KSksX3IoSG4ucHJvdG90eXBlLChmdW5jdGlvbih0LGUpe3ZhciBuPURuW2VdO2lmKG4pe3ZhciByPW4ubmFtZStcIlwiO050LmNhbGwoTG4scil8fChMbltyXT1bXSksTG5bcl0ucHVzaCh7bmFtZTplLGZ1bmM6bn0pfX0pKSxMbltGbyhvLDIpLm5hbWVdPVt7bmFtZTpcIndyYXBwZXJcIixmdW5jOm99XSxIbi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgSG4odGhpcy5fX3dyYXBwZWRfXyk7cmV0dXJuIHQuX19hY3Rpb25zX189a28odGhpcy5fX2FjdGlvbnNfXyksdC5fX2Rpcl9fPXRoaXMuX19kaXJfXyx0Ll9fZmlsdGVyZWRfXz10aGlzLl9fZmlsdGVyZWRfXyx0Ll9faXRlcmF0ZWVzX189a28odGhpcy5fX2l0ZXJhdGVlc19fKSx0Ll9fdGFrZUNvdW50X189dGhpcy5fX3Rha2VDb3VudF9fLHQuX192aWV3c19fPWtvKHRoaXMuX192aWV3c19fKSx0fSxIbi5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2lmKHRoaXMuX19maWx0ZXJlZF9fKXt2YXIgdD1uZXcgSG4odGhpcyk7dC5fX2Rpcl9fPS0xLHQuX19maWx0ZXJlZF9fPSEwfWVsc2UodD10aGlzLmNsb25lKCkpLl9fZGlyX18qPS0xO3JldHVybiB0fSxIbi5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksZT10aGlzLl9fZGlyX18sbj1IYSh0KSxyPWU8MCxvPW4/dC5sZW5ndGg6MCxpPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0tMSxvPW4ubGVuZ3RoO2Zvcig7KytyPG87KXt2YXIgaT1uW3JdLGE9aS5zaXplO3N3aXRjaChpLnR5cGUpe2Nhc2VcImRyb3BcIjp0Kz1hO2JyZWFrO2Nhc2VcImRyb3BSaWdodFwiOmUtPWE7YnJlYWs7Y2FzZVwidGFrZVwiOmU9d24oZSx0K2EpO2JyZWFrO2Nhc2VcInRha2VSaWdodFwiOnQ9Ym4odCxlLWEpfX1yZXR1cm57c3RhcnQ6dCxlbmQ6ZX19KDAsbyx0aGlzLl9fdmlld3NfXyksYT1pLnN0YXJ0LHM9aS5lbmQsdT1zLWEsbD1yP3M6YS0xLGM9dGhpcy5fX2l0ZXJhdGVlc19fLGY9Yy5sZW5ndGgsZD0wLGg9d24odSx0aGlzLl9fdGFrZUNvdW50X18pO2lmKCFufHwhciYmbz09dSYmaD09dSlyZXR1cm4geW8odCx0aGlzLl9fYWN0aW9uc19fKTt2YXIgcD1bXTt0OmZvcig7dS0tJiZkPGg7KXtmb3IodmFyIGc9LTEseT10W2wrPWVdOysrZzxmOyl7dmFyIG09Y1tnXSx2PW0uaXRlcmF0ZWUsYj1tLnR5cGUsdz12KHkpO2lmKDI9PWIpeT13O2Vsc2UgaWYoIXcpe2lmKDE9PWIpY29udGludWUgdDticmVhayB0fX1wW2QrK109eX1yZXR1cm4gcH0sRG4ucHJvdG90eXBlLmF0PWdhLERuLnByb3RvdHlwZS5jaGFpbj1mdW5jdGlvbigpe3JldHVybiBoYSh0aGlzKX0sRG4ucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbigpe3JldHVybiBuZXcgcW4odGhpcy52YWx1ZSgpLHRoaXMuX19jaGFpbl9fKX0sRG4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt0aGlzLl9fdmFsdWVzX189PT1vJiYodGhpcy5fX3ZhbHVlc19fPWhzKHRoaXMudmFsdWUoKSkpO3ZhciB0PXRoaXMuX19pbmRleF9fPj10aGlzLl9fdmFsdWVzX18ubGVuZ3RoO3JldHVybntkb25lOnQsdmFsdWU6dD9vOnRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXX19LERuLnByb3RvdHlwZS5wbGFudD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj10aGlzO24gaW5zdGFuY2VvZiB6bjspe3ZhciByPSRpKG4pO3IuX19pbmRleF9fPTAsci5fX3ZhbHVlc19fPW8sZT9pLl9fd3JhcHBlZF9fPXI6ZT1yO3ZhciBpPXI7bj1uLl9fd3JhcHBlZF9ffXJldHVybiBpLl9fd3JhcHBlZF9fPXQsZX0sRG4ucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9fd3JhcHBlZF9fO2lmKHQgaW5zdGFuY2VvZiBIbil7dmFyIGU9dDtyZXR1cm4gdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgmJihlPW5ldyBIbih0aGlzKSksKGU9ZS5yZXZlcnNlKCkpLl9fYWN0aW9uc19fLnB1c2goe2Z1bmM6cGEsYXJnczpbZWFdLHRoaXNBcmc6b30pLG5ldyBxbihlLHRoaXMuX19jaGFpbl9fKX1yZXR1cm4gdGhpcy50aHJ1KGVhKX0sRG4ucHJvdG90eXBlLnRvSlNPTj1Ebi5wcm90b3R5cGUudmFsdWVPZj1Ebi5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4geW8odGhpcy5fX3dyYXBwZWRfXyx0aGlzLl9fYWN0aW9uc19fKX0sRG4ucHJvdG90eXBlLmZpcnN0PURuLnByb3RvdHlwZS5oZWFkLFp0JiYoRG4ucHJvdG90eXBlW1p0XT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksRG59KCk7Z2UuXz12biwocj1mdW5jdGlvbigpe3JldHVybiB2bn0uY2FsbChlLG4sZSx0KSk9PT1vfHwodC5leHBvcnRzPXIpfS5jYWxsKHRoaXMpfSwzMDA6KHQsZSxuKT0+e3ZhciByLG87dD1uLm5tZCh0KSxmdW5jdGlvbihlKXtlLnJ1bm5pbmdJbk5vZGVKUz1mdW5jdGlvbigpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcIm9iamVjdFwiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmXCJzdHJpbmdcIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZX0sZS5ydW5uaW5nSW5NYWluTm9kZUpTTW9kdWxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUucnVubmluZ0luTm9kZUpTKCkmJm4uY1tuLnNdPT09dH0sZS5jb21tb25KU0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0LmV4cG9ydHN9LGUucnVubmluZ0luV2ViV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyYmXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHNlbGYuYWRkRXZlbnRMaXN0ZW5lciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygc2VsZi5jbG9zZX0sZS5ydW5uaW5nSW5Ob2RlQ2hpbGRQcm9jZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGUucnVubmluZ0luTm9kZUpTKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHByb2Nlc3Muc2VuZH0sZS5ydW5uaW5nSW5OdWxsT3JpZ2luPWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdy5sb2NhdGlvbiYmXCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiYoXCJodHRwOlwiIT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wmJlwiaHR0cHM6XCIhPT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCl9LGUud2ViV29ya2Vyc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIFdvcmtlciYmIWUucnVubmluZ0luTnVsbE9yaWdpbigpJiYoIWUucnVubmluZ0luTm9kZUpTKCkmJiEobmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkIDQuM1wiKT49MCkpfSxlLmxvZz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSxcIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmKGNvbnNvbGUubG9nKHQpLGUmJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmKGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MKz10K1wiPGJyLz5cIikpfSxlLmNyZWF0ZUVycm9yTWVzc2FnZT1mdW5jdGlvbih0LG4pe2lmKHZvaWQgMD09PW4mJihuPVwiVW5oYW5kbGVkIGV4Y2VwdGlvblwiKSxudWxsPT10KXJldHVybiBuO2lmKG4rPVwiOiBcIixcIm9iamVjdFwiPT10eXBlb2YgdC5jb250ZW50KXtpZihlLnJ1bm5pbmdJbk5vZGVKUygpKXJldHVybiBuK3QuY29udGVudC5zdGFjazt2YXIgcj1KU09OLnN0cmluZ2lmeSh0LmNvbnRlbnQpO3JldHVyblwie31cIiE9PXI/bityOm4rdC5jb250ZW50fXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0LmNvbnRlbnQ/bit0LmNvbnRlbnQ6bit0fSxlLnByaW50RXhjZXB0aW9uQW5kU3RhY2tUcmFjZVRvQ29uc29sZT1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PW4mJihuPVwiVW5oYW5kbGVkIGV4Y2VwdGlvblwiKSxlLmxvZyhlLmNyZWF0ZUVycm9yTWVzc2FnZSh0LG4pKX0sZS5nZXRHbG9iYWxPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2Ygbi5nP24uZzpcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93P3dpbmRvdzpcIm9iamVjdFwiPT10eXBlb2Ygc2VsZj9zZWxmOnt9fSxlLnRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsZS5jb21tb25KU0F2YWlsYWJsZSgpJiYodC5leHBvcnRzPWUpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkmJjAhPT1uZXcgVWludDhBcnJheSgxKS5zdWJhcnJheSgxKS5ieXRlTGVuZ3RoKXt2YXIgZT1mdW5jdGlvbih0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdDxlP2U6dD5uP246dH07dHw9MCxlfD0wLGFyZ3VtZW50cy5sZW5ndGg8MSYmKHQ9MCksYXJndW1lbnRzLmxlbmd0aDwyJiYoZT10aGlzLmxlbmd0aCksdDwwJiYodD10aGlzLmxlbmd0aCt0KSxlPDAmJihlPXRoaXMubGVuZ3RoK2UpLHQ9bih0LDAsdGhpcy5sZW5ndGgpO3ZhciByPShlPW4oZSwwLHRoaXMubGVuZ3RoKSktdDtyZXR1cm4gcjwwJiYocj0wKSxuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmJ1ZmZlcix0aGlzLmJ5dGVPZmZzZXQrdCp0aGlzLkJZVEVTX1BFUl9FTEVNRU5ULHIpfSxuPVtcIkludDhBcnJheVwiLFwiVWludDhBcnJheVwiLFwiVWludDhDbGFtcGVkQXJyYXlcIixcIkludDE2QXJyYXlcIixcIlVpbnQxNkFycmF5XCIsXCJJbnQzMkFycmF5XCIsXCJVaW50MzJBcnJheVwiLFwiRmxvYXQzMkFycmF5XCIsXCJGbG9hdDY0QXJyYXlcIl0scj12b2lkIDA7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz9yPXdpbmRvdzpcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmKHI9c2VsZiksdm9pZCAwIT09cilmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylyW25bb11dJiYocltuW29dXS5wcm90b3R5cGUuc3ViYXJyYXk9ZSl9fShyfHwocj17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5jb21wcmVzc0FzeW5jPWZ1bmN0aW9uKGUsbixyKXt2YXIgbz1uZXcgdC5UaW1lcixpPW5ldyB0LkNvbXByZXNzb3I7aWYoIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXByZXNzQXN5bmM6IE5vIGNhbGxiYWNrIGFyZ3VtZW50IGdpdmVuXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWU9dC5lbmNvZGVVVEY4KGUpO2Vsc2UgaWYobnVsbD09ZXx8IShlIGluc3RhbmNlb2YgVWludDhBcnJheSkpcmV0dXJuIHZvaWQgcih2b2lkIDAsbmV3IFR5cGVFcnJvcihcImNvbXByZXNzQXN5bmM6IEludmFsaWQgaW5wdXQgYXJndW1lbnQsIG9ubHkgJ3N0cmluZycgYW5kICdVaW50OEFycmF5JyBhcmUgc3VwcG9ydGVkXCIpKTt2YXIgYT10LkFycmF5VG9vbHMuc3BsaXRCeXRlQXJyYXkoZSxuLmJsb2NrU2l6ZSkscz1bXSx1PWZ1bmN0aW9uKGUpe2lmKGU8YS5sZW5ndGgpe3ZhciBsPXZvaWQgMDt0cnl7bD1pLmNvbXByZXNzQmxvY2soYVtlXSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih2b2lkIDAsdCl9cy5wdXNoKGwpLG8uZ2V0RWxhcHNlZFRpbWUoKTw9MjA/dShlKzEpOih0LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIHUoZSsxKX0pKSxvLnJlc3RhcnQoKSl9ZWxzZXt2YXIgYz10LkFycmF5VG9vbHMuY29uY2F0VWludDhBcnJheXMocyk7dC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3ZhciBlO3RyeXtlPXQuQ29tcHJlc3Npb25Db21tb24uZW5jb2RlQ29tcHJlc3NlZEJ5dGVzKGMsbi5vdXRwdXRFbmNvZGluZyl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih2b2lkIDAsdCl9dC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3JldHVybiByKGUpfSkpfSkpfX07dC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3JldHVybiB1KDApfSkpfSxlLmNyZWF0ZUNvbXByZXNzaW9uU3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQuQ29tcHJlc3NvcixyPW5ldyhuKDk5KS5UcmFuc2Zvcm0pKHtkZWNvZGVTdHJpbmdzOiEwLGhpZ2hXYXRlck1hcms6NjU1MzZ9KTtyZXR1cm4gci5fdHJhbnNmb3JtPWZ1bmN0aW9uKG4sbyxpKXt2YXIgYTt0cnl7YT10LkJ1ZmZlclRvb2xzLnVpbnQ4QXJyYXlUb0J1ZmZlcihlLmNvbXByZXNzQmxvY2sodC5CdWZmZXJUb29scy5idWZmZXJUb1VpbnQ4QXJyYXkobikpKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByLmVtaXQoXCJlcnJvclwiLHQpfXIucHVzaChhKSxpKCl9LHJ9LGV9KCk7dC5Bc3luY0NvbXByZXNzb3I9ZX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZGVjb21wcmVzc0FzeW5jPWZ1bmN0aW9uKGUsbixyKXtpZighcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb21wcmVzc0FzeW5jOiBObyBjYWxsYmFjayBhcmd1bWVudCBnaXZlblwiKTt2YXIgbz1uZXcgdC5UaW1lcjt0cnl7ZT10LkNvbXByZXNzaW9uQ29tbW9uLmRlY29kZUNvbXByZXNzZWRCeXRlcyhlLG4uaW5wdXRFbmNvZGluZyl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih2b2lkIDAsdCl9dmFyIGk9bmV3IHQuRGVjb21wcmVzc29yLGE9dC5BcnJheVRvb2xzLnNwbGl0Qnl0ZUFycmF5KGUsbi5ibG9ja1NpemUpLHM9W10sdT1mdW5jdGlvbihlKXtpZihlPGEubGVuZ3RoKXt2YXIgbD12b2lkIDA7dHJ5e2w9aS5kZWNvbXByZXNzQmxvY2soYVtlXSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih2b2lkIDAsdCl9cy5wdXNoKGwpLG8uZ2V0RWxhcHNlZFRpbWUoKTw9MjA/dShlKzEpOih0LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIHUoZSsxKX0pKSxvLnJlc3RhcnQoKSl9ZWxzZXt2YXIgYz10LkFycmF5VG9vbHMuY29uY2F0VWludDhBcnJheXMocyk7dC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe3ZhciBlO3RyeXtlPXQuQ29tcHJlc3Npb25Db21tb24uZW5jb2RlRGVjb21wcmVzc2VkQnl0ZXMoYyxuLm91dHB1dEVuY29kaW5nKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByKHZvaWQgMCx0KX10LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIHIoZSl9KSl9KSl9fTt0LmVucXVldWVJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIHUoMCl9KSl9LGUuY3JlYXRlRGVjb21wcmVzc2lvblN0cmVhbT1mdW5jdGlvbigpe3ZhciBlPW5ldyB0LkRlY29tcHJlc3NvcixyPW5ldyhuKDk5KS5UcmFuc2Zvcm0pKHtkZWNvZGVTdHJpbmdzOiEwLGhpZ2hXYXRlck1hcms6NjU1MzZ9KTtyZXR1cm4gci5fdHJhbnNmb3JtPWZ1bmN0aW9uKG4sbyxpKXt2YXIgYTt0cnl7YT10LkJ1ZmZlclRvb2xzLnVpbnQ4QXJyYXlUb0J1ZmZlcihlLmRlY29tcHJlc3NCbG9jayh0LkJ1ZmZlclRvb2xzLmJ1ZmZlclRvVWludDhBcnJheShuKSkpfWNhdGNoKHQpe3JldHVybiB2b2lkIHIuZW1pdChcImVycm9yXCIsdCl9ci5wdXNoKGEpLGkoKX0scn0sZX0oKTt0LkFzeW5jRGVjb21wcmVzc29yPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU7IWZ1bmN0aW9uKGUpe2UuY29tcHJlc3NBc3luYz1mdW5jdGlvbih0LG4scil7aWYoXCJCeXRlQXJyYXlcIiE9bi5pbnB1dEVuY29kaW5nfHx0IGluc3RhbmNlb2YgVWludDhBcnJheSl7dmFyIG89e3Rva2VuOk1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSx0eXBlOlwiY29tcHJlc3NcIixkYXRhOnQsaW5wdXRFbmNvZGluZzpuLmlucHV0RW5jb2Rpbmcsb3V0cHV0RW5jb2Rpbmc6bi5vdXRwdXRFbmNvZGluZ30saT1mdW5jdGlvbih0KXt2YXIgbj10LmRhdGE7biYmbi50b2tlbj09by50b2tlbiYmKGUuZ2xvYmFsV29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsaSksXCJlcnJvclwiPT1uLnR5cGU/cih2b2lkIDAsbmV3IEVycm9yKG4uZXJyb3IpKTpyKG4uZGF0YSkpfTtlLmdsb2JhbFdvcmtlci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGkpLGUuZ2xvYmFsV29ya2VyLnBvc3RNZXNzYWdlKG8sW10pfWVsc2Ugcih2b2lkIDAsbmV3IFR5cGVFcnJvcihcImNvbXByZXNzQXN5bmM6IGlucHV0IGlzIG5vdCBhIFVpbnQ4QXJyYXlcIikpfSxlLmRlY29tcHJlc3NBc3luYz1mdW5jdGlvbih0LG4scil7dmFyIG89e3Rva2VuOk1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSx0eXBlOlwiZGVjb21wcmVzc1wiLGRhdGE6dCxpbnB1dEVuY29kaW5nOm4uaW5wdXRFbmNvZGluZyxvdXRwdXRFbmNvZGluZzpuLm91dHB1dEVuY29kaW5nfSxpPWZ1bmN0aW9uKHQpe3ZhciBuPXQuZGF0YTtuJiZuLnRva2VuPT1vLnRva2VuJiYoZS5nbG9iYWxXb3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixpKSxcImVycm9yXCI9PW4udHlwZT9yKHZvaWQgMCxuZXcgRXJyb3Iobi5lcnJvcikpOnIobi5kYXRhKSl9O2UuZ2xvYmFsV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsaSksZS5nbG9iYWxXb3JrZXIucG9zdE1lc3NhZ2UobyxbXSl9LGUuaW5zdGFsbFdlYldvcmtlcklmTmVlZGVkPWZ1bmN0aW9uKCl7XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnZvaWQgMD09PXNlbGYuZG9jdW1lbnQmJm51bGwhPXNlbGYuYWRkRXZlbnRMaXN0ZW5lciYmKHNlbGYuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwoZnVuY3Rpb24oZSl7dmFyIG49ZS5kYXRhO2lmKFwiY29tcHJlc3NcIj09bi50eXBlKXt2YXIgcj12b2lkIDA7dHJ5e3I9dC5jb21wcmVzcyhuLmRhdGEse291dHB1dEVuY29kaW5nOm4ub3V0cHV0RW5jb2Rpbmd9KX1jYXRjaChlKXtyZXR1cm4gdm9pZCBzZWxmLnBvc3RNZXNzYWdlKHt0b2tlbjpuLnRva2VuLHR5cGU6XCJlcnJvclwiLGVycm9yOnQuY3JlYXRlRXJyb3JNZXNzYWdlKGUpfSxbXSl9KG89e3Rva2VuOm4udG9rZW4sdHlwZTpcImNvbXByZXNzaW9uUmVzdWx0XCIsZGF0YTpyLGVuY29kaW5nOm4ub3V0cHV0RW5jb2Rpbmd9KS5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSYmLTE9PT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRSAxMFwiKT9zZWxmLnBvc3RNZXNzYWdlKG8sW28uZGF0YS5idWZmZXJdKTpzZWxmLnBvc3RNZXNzYWdlKG8sW10pfWVsc2UgaWYoXCJkZWNvbXByZXNzXCI9PW4udHlwZSl7dmFyIG8saT12b2lkIDA7dHJ5e2k9dC5kZWNvbXByZXNzKG4uZGF0YSx7aW5wdXRFbmNvZGluZzpuLmlucHV0RW5jb2Rpbmcsb3V0cHV0RW5jb2Rpbmc6bi5vdXRwdXRFbmNvZGluZ30pfWNhdGNoKGUpe3JldHVybiB2b2lkIHNlbGYucG9zdE1lc3NhZ2Uoe3Rva2VuOm4udG9rZW4sdHlwZTpcImVycm9yXCIsZXJyb3I6dC5jcmVhdGVFcnJvck1lc3NhZ2UoZSl9LFtdKX0obz17dG9rZW46bi50b2tlbix0eXBlOlwiZGVjb21wcmVzc2lvblJlc3VsdFwiLGRhdGE6aSxlbmNvZGluZzpuLm91dHB1dEVuY29kaW5nfSkuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJi0xPT09bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgMTBcIik/c2VsZi5wb3N0TWVzc2FnZShvLFtvLmRhdGEuYnVmZmVyXSk6c2VsZi5wb3N0TWVzc2FnZShvLFtdKX19KSksc2VsZi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoZnVuY3Rpb24oZSl7dC5sb2codC5jcmVhdGVFcnJvck1lc3NhZ2UoZS5lcnJvcixcIlVuZXhwZWN0ZWQgTFpVVEY4IFdlYldvcmtlciBleGNlcHRpb25cIikpfSkpKX0sZS5jcmVhdGVHbG9iYWxXb3JrZXJJZk5lZWRlZD1mdW5jdGlvbigpe2lmKGUuZ2xvYmFsV29ya2VyKXJldHVybiEwO2lmKCF0LndlYldvcmtlcnNBdmFpbGFibGUoKSlyZXR1cm4hMTtpZighZS5zY3JpcHRVUkkmJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCl7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsenV0ZjhcIik7bnVsbCE9biYmKGUuc2NyaXB0VVJJPW4uZ2V0QXR0cmlidXRlKFwic3JjXCIpfHx2b2lkIDApfXJldHVybiEhZS5zY3JpcHRVUkkmJihlLmdsb2JhbFdvcmtlcj1uZXcgV29ya2VyKGUuc2NyaXB0VVJJKSwhMCl9LGUudGVybWluYXRlPWZ1bmN0aW9uKCl7ZS5nbG9iYWxXb3JrZXImJihlLmdsb2JhbFdvcmtlci50ZXJtaW5hdGUoKSxlLmdsb2JhbFdvcmtlcj12b2lkIDApfX0oZT10LldlYldvcmtlcnx8KHQuV2ViV29ya2VyPXt9KSksZS5pbnN0YWxsV2ViV29ya2VySWZOZWVkZWQoKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuY29udGFpbmVyPXQsdGhpcy5zdGFydFBvc2l0aW9uPWUsdGhpcy5sZW5ndGg9bn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW5lclt0aGlzLnN0YXJ0UG9zaXRpb24rdF19LHQucHJvdG90eXBlLmdldEluUmV2ZXJzZWRPcmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250YWluZXJbdGhpcy5zdGFydFBvc2l0aW9uK3RoaXMubGVuZ3RoLTEtdF19LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMuY29udGFpbmVyW3RoaXMuc3RhcnRQb3NpdGlvbit0XT1lfSx0fSgpO3QuQXJyYXlTZWdtZW50PWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpe3QuY29weUVsZW1lbnRzPWZ1bmN0aW9uKHQsZSxuLHIsbyl7Zm9yKDtvLS07KW5bcisrXT10W2UrK119LHQuemVyb0VsZW1lbnRzPWZ1bmN0aW9uKHQsZSxuKXtmb3IoO24tLTspdFtlKytdPTB9LHQuY291bnROb256ZXJvVmFsdWVzSW5BcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmZSsrO3JldHVybiBlfSx0LnRydW5jYXRlU3RhcnRpbmdFbGVtZW50cz1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPD1lKXRocm93IG5ldyBSYW5nZUVycm9yKFwidHJ1bmNhdGVTdGFydGluZ0VsZW1lbnRzOiBSZXF1ZXN0ZWQgbGVuZ3RoIHNob3VsZCBiZSBzbWFsbGVyIHRoYW4gYXJyYXkgbGVuZ3RoXCIpO2Zvcih2YXIgbj10Lmxlbmd0aC1lLHI9MDtyPGU7cisrKXRbcl09dFtuK3JdO3QubGVuZ3RoPWV9LHQuZG91YmxlQnl0ZUFycmF5Q2FwYWNpdHk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMip0Lmxlbmd0aCk7cmV0dXJuIGUuc2V0KHQpLGV9LHQuY29uY2F0VWludDhBcnJheXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wLHI9dDtuPHIubGVuZ3RoO24rKyl7ZSs9KHU9cltuXSkubGVuZ3RofWZvcih2YXIgbz1uZXcgVWludDhBcnJheShlKSxpPTAsYT0wLHM9dDthPHMubGVuZ3RoO2ErKyl7dmFyIHU9c1thXTtvLnNldCh1LGkpLGkrPXUubGVuZ3RofXJldHVybiBvfSx0LnNwbGl0Qnl0ZUFycmF5PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoOyl7dmFyIG89TWF0aC5taW4oZSx0Lmxlbmd0aC1yKTtuLnB1c2godC5zdWJhcnJheShyLHIrbykpLHIrPW99cmV0dXJuIG59fSh0LkFycmF5VG9vbHN8fCh0LkFycmF5VG9vbHM9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7dC5jb252ZXJ0VG9VaW50OEFycmF5SWZOZWVkZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgQnVmZmVyJiZCdWZmZXIuaXNCdWZmZXIoZSk/dC5idWZmZXJUb1VpbnQ4QXJyYXkoZSk6ZX0sdC51aW50OEFycmF5VG9CdWZmZXI9ZnVuY3Rpb24odCl7aWYoQnVmZmVyLnByb3RvdHlwZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe3ZhciBlPW5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxCdWZmZXIucHJvdG90eXBlKSxlfWZvcih2YXIgbj10Lmxlbmd0aCxyPW5ldyBCdWZmZXIobiksbz0wO288bjtvKyspcltvXT10W29dO3JldHVybiByfSx0LmJ1ZmZlclRvVWludDhBcnJheT1mdW5jdGlvbih0KXtpZihCdWZmZXIucHJvdG90eXBlIGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk7Zm9yKHZhciBlPXQubGVuZ3RoLG49bmV3IFVpbnQ4QXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT10W3JdO3JldHVybiBufX0odC5CdWZmZXJUb29sc3x8KHQuQnVmZmVyVG9vbHM9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24oZSl7ZS5nZXRDcm9wcGVkQnVmZmVyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPTApO3ZhciBvPW5ldyBVaW50OEFycmF5KG4rcik7cmV0dXJuIG8uc2V0KHQuc3ViYXJyYXkoZSxlK24pKSxvfSxlLmdldENyb3BwZWRBbmRBcHBlbmRlZEJ5dGVBcnJheT1mdW5jdGlvbihlLG4scixvKXtyZXR1cm4gdC5BcnJheVRvb2xzLmNvbmNhdFVpbnQ4QXJyYXlzKFtlLnN1YmFycmF5KG4sbityKSxvXSl9LGUuZGV0ZWN0Q29tcHJlc3Npb25Tb3VyY2VFbmNvZGluZz1mdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZXRlY3RDb21wcmVzc2lvblNvdXJjZUVuY29kaW5nOiBpbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZFwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm5cIlN0cmluZ1wiO2lmKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBCdWZmZXImJkJ1ZmZlci5pc0J1ZmZlcih0KSlyZXR1cm5cIkJ5dGVBcnJheVwiO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJkZXRlY3RDb21wcmVzc2lvblNvdXJjZUVuY29kaW5nOiBpbnB1dCBtdXN0IGJlIG9mIHR5cGUgJ3N0cmluZycsICdVaW50OEFycmF5JyBvciAnQnVmZmVyJ1wiKX0sZS5lbmNvZGVDb21wcmVzc2VkQnl0ZXM9ZnVuY3Rpb24oZSxuKXtzd2l0Y2gobil7Y2FzZVwiQnl0ZUFycmF5XCI6cmV0dXJuIGU7Y2FzZVwiQnVmZmVyXCI6cmV0dXJuIHQuQnVmZmVyVG9vbHMudWludDhBcnJheVRvQnVmZmVyKGUpO2Nhc2VcIkJhc2U2NFwiOnJldHVybiB0LmVuY29kZUJhc2U2NChlKTtjYXNlXCJCaW5hcnlTdHJpbmdcIjpyZXR1cm4gdC5lbmNvZGVCaW5hcnlTdHJpbmcoZSk7Y2FzZVwiU3RvcmFnZUJpbmFyeVN0cmluZ1wiOnJldHVybiB0LmVuY29kZVN0b3JhZ2VCaW5hcnlTdHJpbmcoZSk7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RlQ29tcHJlc3NlZEJ5dGVzOiBpbnZhbGlkIG91dHB1dCBlbmNvZGluZyByZXF1ZXN0ZWRcIil9fSxlLmRlY29kZUNvbXByZXNzZWRCeXRlcz1mdW5jdGlvbihlLG4pe2lmKG51bGw9PW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29kZUNvbXByZXNzZWREYXRhOiBJbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZFwiKTtzd2l0Y2gobil7Y2FzZVwiQnl0ZUFycmF5XCI6Y2FzZVwiQnVmZmVyXCI6dmFyIHI9dC5CdWZmZXJUb29scy5jb252ZXJ0VG9VaW50OEFycmF5SWZOZWVkZWQoZSk7aWYoIShyIGluc3RhbmNlb2YgVWludDhBcnJheSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29kZUNvbXByZXNzZWREYXRhOiAnQnl0ZUFycmF5JyBvciAnQnVmZmVyJyBpbnB1dCB0eXBlIHdhcyBzcGVjaWZpZWQgYnV0IGlucHV0IGlzIG5vdCBhIFVpbnQ4QXJyYXkgb3IgQnVmZmVyXCIpO3JldHVybiByO2Nhc2VcIkJhc2U2NFwiOmlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvZGVDb21wcmVzc2VkRGF0YTogJ0Jhc2U2NCcgaW5wdXQgdHlwZSB3YXMgc3BlY2lmaWVkIGJ1dCBpbnB1dCBpcyBub3QgYSBzdHJpbmdcIik7cmV0dXJuIHQuZGVjb2RlQmFzZTY0KGUpO2Nhc2VcIkJpbmFyeVN0cmluZ1wiOmlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvZGVDb21wcmVzc2VkRGF0YTogJ0JpbmFyeVN0cmluZycgaW5wdXQgdHlwZSB3YXMgc3BlY2lmaWVkIGJ1dCBpbnB1dCBpcyBub3QgYSBzdHJpbmdcIik7cmV0dXJuIHQuZGVjb2RlQmluYXJ5U3RyaW5nKGUpO2Nhc2VcIlN0b3JhZ2VCaW5hcnlTdHJpbmdcIjppZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVjb2RlQ29tcHJlc3NlZERhdGE6ICdTdG9yYWdlQmluYXJ5U3RyaW5nJyBpbnB1dCB0eXBlIHdhcyBzcGVjaWZpZWQgYnV0IGlucHV0IGlzIG5vdCBhIHN0cmluZ1wiKTtyZXR1cm4gdC5kZWNvZGVTdG9yYWdlQmluYXJ5U3RyaW5nKGUpO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcImRlY29kZUNvbXByZXNzZWREYXRhOiBpbnZhbGlkIGlucHV0IGVuY29kaW5nIHJlcXVlc3RlZDogJ1wiLmNvbmNhdChuLFwiJ1wiKSl9fSxlLmVuY29kZURlY29tcHJlc3NlZEJ5dGVzPWZ1bmN0aW9uKGUsbil7c3dpdGNoKG4pe2Nhc2VcIlN0cmluZ1wiOnJldHVybiB0LmRlY29kZVVURjgoZSk7Y2FzZVwiQnl0ZUFycmF5XCI6cmV0dXJuIGU7Y2FzZVwiQnVmZmVyXCI6aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgQnVmZmVyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGVEZWNvbXByZXNzZWRCeXRlczogYSAnQnVmZmVyJyB0eXBlIHdhcyBzcGVjaWZpZWQgYnV0IGlzIG5vdCBzdXBwb3J0ZWQgYXQgdGhlIGN1cnJlbnQgZW52aXJubWVudFwiKTtyZXR1cm4gdC5CdWZmZXJUb29scy51aW50OEFycmF5VG9CdWZmZXIoZSk7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RlRGVjb21wcmVzc2VkQnl0ZXM6IGludmFsaWQgb3V0cHV0IGVuY29kaW5nIHJlcXVlc3RlZFwiKX19fSh0LkNvbXByZXNzaW9uQ29tbW9ufHwodC5Db21wcmVzc2lvbkNvbW1vbj17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlOyFmdW5jdGlvbihlKXt2YXIgbixyPVtdO2UuZW5xdWV1ZUltbWVkaWF0ZT1mdW5jdGlvbih0KXtyLnB1c2godCksMT09PXIubGVuZ3RoJiZuKCl9LGUuaW5pdGlhbGl6ZVNjaGVkdWxlcj1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsbj1yO2U8bi5sZW5ndGg7ZSsrKXt2YXIgbz1uW2VdO3RyeXtvLmNhbGwodm9pZCAwKX1jYXRjaChlKXt0LnByaW50RXhjZXB0aW9uQW5kU3RhY2tUcmFjZVRvQ29uc29sZShlLFwiZW5xdWV1ZUltbWVkaWF0ZSBleGNlcHRpb25cIil9fXIubGVuZ3RoPTB9O2lmKHQucnVubmluZ0luTm9kZUpTKCkpbj1mdW5jdGlvbigpe3JldHVybiBzZXRJbW1lZGlhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIGUoKX0pKX07ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LnBvc3RNZXNzYWdlKXt2YXIgbyxpPVwiZW5xdWV1ZUltbWVkaWF0ZS1cIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKHQpe3QuZGF0YT09PWkmJmUoKX0pKSxvPXQucnVubmluZ0luTnVsbE9yaWdpbigpP1wiKlwiOndpbmRvdy5sb2NhdGlvbi5ocmVmLG49ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBvc3RNZXNzYWdlKGksbyl9fWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgTWVzc2FnZUNoYW5uZWwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE1lc3NhZ2VQb3J0KXt2YXIgYT1uZXcgTWVzc2FnZUNoYW5uZWw7YS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gZSgpfSxuPWZ1bmN0aW9uKCl7cmV0dXJuIGEucG9ydDIucG9zdE1lc3NhZ2UoMCl9fWVsc2Ugbj1mdW5jdGlvbigpe3JldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBlKCl9KSwwKX19LGUuaW5pdGlhbGl6ZVNjaGVkdWxlcigpfShlPXQuRXZlbnRMb29wfHwodC5FdmVudExvb3A9e30pKSx0LmVucXVldWVJbW1lZGlhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZW5xdWV1ZUltbWVkaWF0ZSh0KX19KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpe3Qub3ZlcnJpZGU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5leHRlbmQoZSxuKX0sdC5leHRlbmQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJvYmogaXMgbnVsbCBvciB1bmRlZmluZWRcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9iaiBpcyBub3QgYW4gb2JqZWN0XCIpO2lmKG51bGw9PWUmJihlPXt9KSxcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibmV3UHJvcGVydGllcyBpcyBub3QgYW4gb2JqZWN0XCIpO2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpdFtuXT1lW25dO3JldHVybiB0fX0odC5PYmplY3RUb29sc3x8KHQuT2JqZWN0VG9vbHM9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt0LmdldFJhbmRvbUludGVnZXJJblJhbmdlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihlLXQpKX0sdC5nZXRSYW5kb21VVEYxNlN0cmluZ09mTGVuZ3RoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1cIlwiLHI9MDtyPGU7cisrKXt2YXIgbz12b2lkIDA7ZG97bz10LmdldFJhbmRvbUludGVnZXJJblJhbmdlKDAsMTExNDExMil9d2hpbGUobz49NTUyOTYmJm88PTU3MzQzKTtuKz10LkVuY29kaW5nLkNvZGVQb2ludC5kZWNvZGVUb1N0cmluZyhvKX1yZXR1cm4gbn19KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PTEwMjQpLHRoaXMub3V0cHV0QnVmZmVyQ2FwYWNpdHk9dCx0aGlzLm91dHB1dFBvc2l0aW9uPTAsdGhpcy5vdXRwdXRTdHJpbmc9XCJcIix0aGlzLm91dHB1dEJ1ZmZlcj1uZXcgVWludDE2QXJyYXkodGhpcy5vdXRwdXRCdWZmZXJDYXBhY2l0eSl9cmV0dXJuIHQucHJvdG90eXBlLmFwcGVuZENoYXJDb2RlPWZ1bmN0aW9uKHQpe3RoaXMub3V0cHV0QnVmZmVyW3RoaXMub3V0cHV0UG9zaXRpb24rK109dCx0aGlzLm91dHB1dFBvc2l0aW9uPT09dGhpcy5vdXRwdXRCdWZmZXJDYXBhY2l0eSYmdGhpcy5mbHVzaEJ1ZmZlclRvT3V0cHV0U3RyaW5nKCl9LHQucHJvdG90eXBlLmFwcGVuZENoYXJDb2Rlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdGhpcy5hcHBlbmRDaGFyQ29kZSh0W2VdKX0sdC5wcm90b3R5cGUuYXBwZW5kU3RyaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmFwcGVuZENoYXJDb2RlKHQuY2hhckNvZGVBdChlKSl9LHQucHJvdG90eXBlLmFwcGVuZENvZGVQb2ludD1mdW5jdGlvbih0KXtpZih0PD02NTUzNSl0aGlzLmFwcGVuZENoYXJDb2RlKHQpO2Vsc2V7aWYoISh0PD0xMTE0MTExKSl0aHJvdyBuZXcgRXJyb3IoXCJhcHBlbmRDb2RlUG9pbnQ6IEEgY29kZSBwb2ludCBvZiBcIi5jb25jYXQodCxcIiBjYW5ub3QgYmUgZW5jb2RlZCBpbiBVVEYtMTZcIikpO3RoaXMuYXBwZW5kQ2hhckNvZGUoNTUyOTYrKHQtNjU1MzY+Pj4xMCkpLHRoaXMuYXBwZW5kQ2hhckNvZGUoNTYzMjArKHQtNjU1MzYmMTAyMykpfX0sdC5wcm90b3R5cGUuZ2V0T3V0cHV0U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmx1c2hCdWZmZXJUb091dHB1dFN0cmluZygpLHRoaXMub3V0cHV0U3RyaW5nfSx0LnByb3RvdHlwZS5mbHVzaEJ1ZmZlclRvT3V0cHV0U3RyaW5nPWZ1bmN0aW9uKCl7dGhpcy5vdXRwdXRQb3NpdGlvbj09PXRoaXMub3V0cHV0QnVmZmVyQ2FwYWNpdHk/dGhpcy5vdXRwdXRTdHJpbmcrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx0aGlzLm91dHB1dEJ1ZmZlcik6dGhpcy5vdXRwdXRTdHJpbmcrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx0aGlzLm91dHB1dEJ1ZmZlci5zdWJhcnJheSgwLHRoaXMub3V0cHV0UG9zaXRpb24pKSx0aGlzLm91dHB1dFBvc2l0aW9uPTB9LHR9KCk7dC5TdHJpbmdCdWlsZGVyPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5yZXN0YXJ0KCl9cmV0dXJuIGUucHJvdG90eXBlLnJlc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0VGltZT1lLmdldFRpbWVzdGFtcCgpfSxlLnByb3RvdHlwZS5nZXRFbGFwc2VkVGltZT1mdW5jdGlvbigpe3JldHVybiBlLmdldFRpbWVzdGFtcCgpLXRoaXMuc3RhcnRUaW1lfSxlLnByb3RvdHlwZS5nZXRFbGFwc2VkVGltZUFuZFJlc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEVsYXBzZWRUaW1lKCk7cmV0dXJuIHRoaXMucmVzdGFydCgpLHR9LGUucHJvdG90eXBlLmxvZ0FuZFJlc3RhcnQ9ZnVuY3Rpb24oZSxuKXt2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHI9dGhpcy5nZXRFbGFwc2VkVGltZSgpLG89XCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdChyLnRvRml4ZWQoMyksXCJtc1wiKTtyZXR1cm4gdC5sb2cobyxuKSx0aGlzLnJlc3RhcnQoKSxyfSxlLmdldFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWVzdGFtcEZ1bmN8fHRoaXMuY3JlYXRlR2xvYmFsVGltZXN0YW1wRnVuY3Rpb24oKSx0aGlzLnRpbWVzdGFtcEZ1bmMoKX0sZS5nZXRNaWNyb3NlY29uZFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKDFlMyplLmdldFRpbWVzdGFtcCgpKX0sZS5jcmVhdGVHbG9iYWxUaW1lc3RhbXBGdW5jdGlvbj1mdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLmhydGltZSl7dmFyIHQ9MDt0aGlzLnRpbWVzdGFtcEZ1bmM9ZnVuY3Rpb24oKXt2YXIgZT1wcm9jZXNzLmhydGltZSgpLG49MWUzKmVbMF0rZVsxXS8xZTY7cmV0dXJuIHQrbn0sdD1EYXRlLm5vdygpLXRoaXMudGltZXN0YW1wRnVuYygpfWVsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGNocm9tZSYmY2hyb21lLkludGVydmFsKXt2YXIgZT1EYXRlLm5vdygpLG49bmV3IGNocm9tZS5JbnRlcnZhbDtuLnN0YXJ0KCksdGhpcy50aW1lc3RhbXBGdW5jPWZ1bmN0aW9uKCl7cmV0dXJuIGUrbi5taWNyb3NlY29uZHMoKS8xZTN9fWVsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5ub3cpe3ZhciByPURhdGUubm93KCktcGVyZm9ybWFuY2Uubm93KCk7dGhpcy50aW1lc3RhbXBGdW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHIrcGVyZm9ybWFuY2Uubm93KCl9fWVsc2UgRGF0ZS5ub3c/dGhpcy50aW1lc3RhbXBGdW5jPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9OnRoaXMudGltZXN0YW1wRnVuYz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfX0sZX0oKTt0LlRpbWVyPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPSEwKSx0aGlzLk1pbmltdW1TZXF1ZW5jZUxlbmd0aD00LHRoaXMuTWF4aW11bVNlcXVlbmNlTGVuZ3RoPTMxLHRoaXMuTWF4aW11bU1hdGNoRGlzdGFuY2U9MzI3NjcsdGhpcy5QcmVmaXhIYXNoVGFibGVTaXplPTY1NTM3LHRoaXMuaW5wdXRCdWZmZXJTdHJlYW1PZmZzZXQ9MSxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50MzJBcnJheT90aGlzLnByZWZpeEhhc2hUYWJsZT1uZXcgdC5Db21wcmVzc29yQ3VzdG9tSGFzaFRhYmxlKHRoaXMuUHJlZml4SGFzaFRhYmxlU2l6ZSk6dGhpcy5wcmVmaXhIYXNoVGFibGU9bmV3IHQuQ29tcHJlc3NvclNpbXBsZUhhc2hUYWJsZSh0aGlzLlByZWZpeEhhc2hUYWJsZVNpemUpfXJldHVybiBlLnByb3RvdHlwZS5jb21wcmVzc0Jsb2NrPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXByZXNzQmxvY2s6IHVuZGVmaW5lZCBvciBudWxsIGlucHV0IHJlY2VpdmVkXCIpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT10LmVuY29kZVVURjgoZSkpLGU9dC5CdWZmZXJUb29scy5jb252ZXJ0VG9VaW50OEFycmF5SWZOZWVkZWQoZSksdGhpcy5jb21wcmVzc1V0ZjhCbG9jayhlKX0sZS5wcm90b3R5cGUuY29tcHJlc3NVdGY4QmxvY2s9ZnVuY3Rpb24odCl7aWYoIXR8fDA9PXQubGVuZ3RoKXJldHVybiBuZXcgVWludDhBcnJheSgwKTt2YXIgZT10aGlzLmNyb3BBbmRBZGROZXdCeXRlc1RvSW5wdXRCdWZmZXIodCksbj10aGlzLmlucHV0QnVmZmVyLHI9dGhpcy5pbnB1dEJ1ZmZlci5sZW5ndGg7dGhpcy5vdXRwdXRCdWZmZXI9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLHRoaXMub3V0cHV0QnVmZmVyUG9zaXRpb249MDtmb3IodmFyIG89MCxpPWU7aTxyO2krKyl7dmFyIGE9bltpXSxzPWk8bztpZihpPnItdGhpcy5NaW5pbXVtU2VxdWVuY2VMZW5ndGgpc3x8dGhpcy5vdXRwdXRSYXdCeXRlKGEpO2Vsc2V7dmFyIHU9dGhpcy5nZXRCdWNrZXRJbmRleEZvclByZWZpeChpKTtpZighcyl7dmFyIGw9dGhpcy5maW5kTG9uZ2VzdE1hdGNoKGksdSk7bnVsbCE9bCYmKHRoaXMub3V0cHV0UG9pbnRlckJ5dGVzKGwubGVuZ3RoLGwuZGlzdGFuY2UpLG89aStsLmxlbmd0aCxzPSEwKX1zfHx0aGlzLm91dHB1dFJhd0J5dGUoYSk7dmFyIGM9dGhpcy5pbnB1dEJ1ZmZlclN0cmVhbU9mZnNldCtpO3RoaXMucHJlZml4SGFzaFRhYmxlLmFkZFZhbHVlVG9CdWNrZXQodSxjKX19cmV0dXJuIHRoaXMub3V0cHV0QnVmZmVyLnN1YmFycmF5KDAsdGhpcy5vdXRwdXRCdWZmZXJQb3NpdGlvbil9LGUucHJvdG90eXBlLmZpbmRMb25nZXN0TWF0Y2g9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnByZWZpeEhhc2hUYWJsZS5nZXRBcnJheVNlZ21lbnRGb3JCdWNrZXRJbmRleChlLHRoaXMucmV1c2FibGVBcnJheVNlZ21lbnRPYmplY3QpO2lmKG51bGw9PW4pcmV0dXJuIG51bGw7Zm9yKHZhciByLG89dGhpcy5pbnB1dEJ1ZmZlcixpPTAsYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgcz1uLmdldEluUmV2ZXJzZWRPcmRlcihhKS10aGlzLmlucHV0QnVmZmVyU3RyZWFtT2Zmc2V0LHU9dC1zLGw9dm9pZCAwO2lmKGw9dm9pZCAwPT09cj90aGlzLk1pbmltdW1TZXF1ZW5jZUxlbmd0aC0xOnI8MTI4JiZ1Pj0xMjg/aSsoaT4+PjEpOmksdT50aGlzLk1heGltdW1NYXRjaERpc3RhbmNlfHxsPj10aGlzLk1heGltdW1TZXF1ZW5jZUxlbmd0aHx8dCtsPj1vLmxlbmd0aClicmVhaztpZihvW3MrbF09PT1vW3QrbF0pZm9yKHZhciBjPTA7O2MrKyl7aWYodCtjPT09by5sZW5ndGh8fG9bcytjXSE9PW9bdCtjXSl7Yz5sJiYocj11LGk9Yyk7YnJlYWt9aWYoYz09PXRoaXMuTWF4aW11bVNlcXVlbmNlTGVuZ3RoKXJldHVybntkaXN0YW5jZTp1LGxlbmd0aDp0aGlzLk1heGltdW1TZXF1ZW5jZUxlbmd0aH19fXJldHVybiB2b2lkIDAhPT1yP3tkaXN0YW5jZTpyLGxlbmd0aDppfTpudWxsfSxlLnByb3RvdHlwZS5nZXRCdWNrZXRJbmRleEZvclByZWZpeD1mdW5jdGlvbih0KXtyZXR1cm4oNzg4MDU5OSp0aGlzLmlucHV0QnVmZmVyW3RdKzM5NjAxKnRoaXMuaW5wdXRCdWZmZXJbdCsxXSsxOTkqdGhpcy5pbnB1dEJ1ZmZlclt0KzJdK3RoaXMuaW5wdXRCdWZmZXJbdCszXSkldGhpcy5QcmVmaXhIYXNoVGFibGVTaXplfSxlLnByb3RvdHlwZS5vdXRwdXRQb2ludGVyQnl0ZXM9ZnVuY3Rpb24odCxlKXtlPDEyOD8odGhpcy5vdXRwdXRSYXdCeXRlKDE5Mnx0KSx0aGlzLm91dHB1dFJhd0J5dGUoZSkpOih0aGlzLm91dHB1dFJhd0J5dGUoMjI0fHQpLHRoaXMub3V0cHV0UmF3Qnl0ZShlPj4+OCksdGhpcy5vdXRwdXRSYXdCeXRlKDI1NSZlKSl9LGUucHJvdG90eXBlLm91dHB1dFJhd0J5dGU9ZnVuY3Rpb24odCl7dGhpcy5vdXRwdXRCdWZmZXJbdGhpcy5vdXRwdXRCdWZmZXJQb3NpdGlvbisrXT10fSxlLnByb3RvdHlwZS5jcm9wQW5kQWRkTmV3Qnl0ZXNUb0lucHV0QnVmZmVyPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PXRoaXMuaW5wdXRCdWZmZXIpcmV0dXJuIHRoaXMuaW5wdXRCdWZmZXI9ZSwwO3ZhciBuPU1hdGgubWluKHRoaXMuaW5wdXRCdWZmZXIubGVuZ3RoLHRoaXMuTWF4aW11bU1hdGNoRGlzdGFuY2UpLHI9dGhpcy5pbnB1dEJ1ZmZlci5sZW5ndGgtbjtyZXR1cm4gdGhpcy5pbnB1dEJ1ZmZlcj10LkNvbXByZXNzaW9uQ29tbW9uLmdldENyb3BwZWRBbmRBcHBlbmRlZEJ5dGVBcnJheSh0aGlzLmlucHV0QnVmZmVyLHIsbixlKSx0aGlzLmlucHV0QnVmZmVyU3RyZWFtT2Zmc2V0Kz1yLG59LGV9KCk7dC5Db21wcmVzc29yPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMubWluaW11bUJ1Y2tldENhcGFjaXR5PTQsdGhpcy5tYXhpbXVtQnVja2V0Q2FwYWNpdHk9NjQsdGhpcy5idWNrZXRMb2NhdG9ycz1uZXcgVWludDMyQXJyYXkoMip0KSx0aGlzLnN0b3JhZ2U9bmV3IFVpbnQzMkFycmF5KDIqdCksdGhpcy5zdG9yYWdlSW5kZXg9MX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkVmFsdWVUb0J1Y2tldD1mdW5jdGlvbihlLG4pe2U8PD0xLHRoaXMuc3RvcmFnZUluZGV4Pj10aGlzLnN0b3JhZ2UubGVuZ3RoPj4+MSYmdGhpcy5jb21wYWN0KCk7dmFyIHIsbz10aGlzLmJ1Y2tldExvY2F0b3JzW2VdO2lmKDA9PT1vKW89dGhpcy5zdG9yYWdlSW5kZXgscj0xLHRoaXMuc3RvcmFnZVt0aGlzLnN0b3JhZ2VJbmRleF09bix0aGlzLnN0b3JhZ2VJbmRleCs9dGhpcy5taW5pbXVtQnVja2V0Q2FwYWNpdHk7ZWxzZXsocj10aGlzLmJ1Y2tldExvY2F0b3JzW2UrMV0pPT09dGhpcy5tYXhpbXVtQnVja2V0Q2FwYWNpdHktMSYmKHI9dGhpcy50cnVuY2F0ZUJ1Y2tldFRvTmV3ZXJFbGVtZW50cyhvLHIsdGhpcy5tYXhpbXVtQnVja2V0Q2FwYWNpdHkvMikpO3ZhciBpPW8rcjswPT09dGhpcy5zdG9yYWdlW2ldPyh0aGlzLnN0b3JhZ2VbaV09bixpPT09dGhpcy5zdG9yYWdlSW5kZXgmJih0aGlzLnN0b3JhZ2VJbmRleCs9cikpOih0LkFycmF5VG9vbHMuY29weUVsZW1lbnRzKHRoaXMuc3RvcmFnZSxvLHRoaXMuc3RvcmFnZSx0aGlzLnN0b3JhZ2VJbmRleCxyKSxvPXRoaXMuc3RvcmFnZUluZGV4LHRoaXMuc3RvcmFnZUluZGV4Kz1yLHRoaXMuc3RvcmFnZVt0aGlzLnN0b3JhZ2VJbmRleCsrXT1uLHRoaXMuc3RvcmFnZUluZGV4Kz1yKSxyKyt9dGhpcy5idWNrZXRMb2NhdG9yc1tlXT1vLHRoaXMuYnVja2V0TG9jYXRvcnNbZSsxXT1yfSxlLnByb3RvdHlwZS50cnVuY2F0ZUJ1Y2tldFRvTmV3ZXJFbGVtZW50cz1mdW5jdGlvbihlLG4scil7dmFyIG89ZStuLXI7cmV0dXJuIHQuQXJyYXlUb29scy5jb3B5RWxlbWVudHModGhpcy5zdG9yYWdlLG8sdGhpcy5zdG9yYWdlLGUsciksdC5BcnJheVRvb2xzLnplcm9FbGVtZW50cyh0aGlzLnN0b3JhZ2UsZStyLG4tcikscn0sZS5wcm90b3R5cGUuY29tcGFjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYnVja2V0TG9jYXRvcnMsbj10aGlzLnN0b3JhZ2U7dGhpcy5idWNrZXRMb2NhdG9ycz1uZXcgVWludDMyQXJyYXkodGhpcy5idWNrZXRMb2NhdG9ycy5sZW5ndGgpLHRoaXMuc3RvcmFnZUluZGV4PTE7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKz0yKXt2YXIgbz1lW3IrMV07MCE9PW8mJih0aGlzLmJ1Y2tldExvY2F0b3JzW3JdPXRoaXMuc3RvcmFnZUluZGV4LHRoaXMuYnVja2V0TG9jYXRvcnNbcisxXT1vLHRoaXMuc3RvcmFnZUluZGV4Kz1NYXRoLm1heChNYXRoLm1pbigyKm8sdGhpcy5tYXhpbXVtQnVja2V0Q2FwYWNpdHkpLHRoaXMubWluaW11bUJ1Y2tldENhcGFjaXR5KSl9dGhpcy5zdG9yYWdlPW5ldyBVaW50MzJBcnJheSg4KnRoaXMuc3RvcmFnZUluZGV4KTtmb3Iocj0wO3I8ZS5sZW5ndGg7cis9Mil7dmFyIGk9ZVtyXTtpZigwIT09aSl7dmFyIGE9dGhpcy5idWNrZXRMb2NhdG9yc1tyXSxzPXRoaXMuYnVja2V0TG9jYXRvcnNbcisxXTt0LkFycmF5VG9vbHMuY29weUVsZW1lbnRzKG4saSx0aGlzLnN0b3JhZ2UsYSxzKX19fSxlLnByb3RvdHlwZS5nZXRBcnJheVNlZ21lbnRGb3JCdWNrZXRJbmRleD1mdW5jdGlvbihlLG4pe2U8PD0xO3ZhciByPXRoaXMuYnVja2V0TG9jYXRvcnNbZV07cmV0dXJuIDA9PT1yP251bGw6KHZvaWQgMD09PW4mJihuPW5ldyB0LkFycmF5U2VnbWVudCh0aGlzLnN0b3JhZ2Uscix0aGlzLmJ1Y2tldExvY2F0b3JzW2UrMV0pKSxuKX0sZS5wcm90b3R5cGUuZ2V0VXNlZEJ1Y2tldENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IodC5BcnJheVRvb2xzLmNvdW50Tm9uemVyb1ZhbHVlc0luQXJyYXkodGhpcy5idWNrZXRMb2NhdG9ycykvMil9LGUucHJvdG90eXBlLmdldFRvdGFsRWxlbWVudENvdW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5idWNrZXRMb2NhdG9ycy5sZW5ndGg7ZSs9Mil0Kz10aGlzLmJ1Y2tldExvY2F0b3JzW2UrMV07cmV0dXJuIHR9LGV9KCk7dC5Db21wcmVzc29yQ3VzdG9tSGFzaFRhYmxlPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMubWF4aW11bUJ1Y2tldENhcGFjaXR5PTY0LHRoaXMuYnVja2V0cz1uZXcgQXJyYXkodCl9cmV0dXJuIGUucHJvdG90eXBlLmFkZFZhbHVlVG9CdWNrZXQ9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLmJ1Y2tldHNbZV07dm9pZCAwPT09cj90aGlzLmJ1Y2tldHNbZV09W25dOihyLmxlbmd0aD09PXRoaXMubWF4aW11bUJ1Y2tldENhcGFjaXR5LTEmJnQuQXJyYXlUb29scy50cnVuY2F0ZVN0YXJ0aW5nRWxlbWVudHMocix0aGlzLm1heGltdW1CdWNrZXRDYXBhY2l0eS8yKSxyLnB1c2gobikpfSxlLnByb3RvdHlwZS5nZXRBcnJheVNlZ21lbnRGb3JCdWNrZXRJbmRleD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuYnVja2V0c1tlXTtyZXR1cm4gdm9pZCAwPT09cj9udWxsOih2b2lkIDA9PT1uJiYobj1uZXcgdC5BcnJheVNlZ21lbnQociwwLHIubGVuZ3RoKSksbil9LGUucHJvdG90eXBlLmdldFVzZWRCdWNrZXRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0LkFycmF5VG9vbHMuY291bnROb256ZXJvVmFsdWVzSW5BcnJheSh0aGlzLmJ1Y2tldHMpfSxlLnByb3RvdHlwZS5nZXRUb3RhbEVsZW1lbnRDb3VudD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtlPHRoaXMuYnVja2V0cy5sZW5ndGg7ZSsrKXZvaWQgMCE9PXRoaXMuYnVja2V0c1tlXSYmKHQrPXRoaXMuYnVja2V0c1tlXS5sZW5ndGgpO3JldHVybiB0fSxlfSgpO3QuQ29tcHJlc3NvclNpbXBsZUhhc2hUYWJsZT1lfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuTWF4aW11bU1hdGNoRGlzdGFuY2U9MzI3NjcsdGhpcy5vdXRwdXRQb3NpdGlvbj0wfXJldHVybiBlLnByb3RvdHlwZS5kZWNvbXByZXNzQmxvY2tUb1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gZT10LkJ1ZmZlclRvb2xzLmNvbnZlcnRUb1VpbnQ4QXJyYXlJZk5lZWRlZChlKSx0LmRlY29kZVVURjgodGhpcy5kZWNvbXByZXNzQmxvY2soZSkpfSxlLnByb3RvdHlwZS5kZWNvbXByZXNzQmxvY2s9ZnVuY3Rpb24oZSl7dGhpcy5pbnB1dEJ1ZmZlclJlbWFpbmRlciYmKGU9dC5BcnJheVRvb2xzLmNvbmNhdFVpbnQ4QXJyYXlzKFt0aGlzLmlucHV0QnVmZmVyUmVtYWluZGVyLGVdKSx0aGlzLmlucHV0QnVmZmVyUmVtYWluZGVyPXZvaWQgMCk7Zm9yKHZhciBuPXRoaXMuY3JvcE91dHB1dEJ1ZmZlclRvV2luZG93QW5kSW5pdGlhbGl6ZShNYXRoLm1heCg0KmUubGVuZ3RoLDEwMjQpKSxyPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdO2lmKGk+Pj42PT0zKXt2YXIgYT1pPj4+NTtpZihyPT1vLTF8fHI9PW8tMiYmNz09YSl7dGhpcy5pbnB1dEJ1ZmZlclJlbWFpbmRlcj1lLnN1YmFycmF5KHIpO2JyZWFrfWlmKGVbcisxXT4+Pjc9PTEpdGhpcy5vdXRwdXRCeXRlKGkpO2Vsc2V7dmFyIHM9MzEmaSx1PXZvaWQgMDs2PT1hPyh1PWVbcisxXSxyKz0xKToodT1lW3IrMV08PDh8ZVtyKzJdLHIrPTIpO2Zvcih2YXIgbD10aGlzLm91dHB1dFBvc2l0aW9uLXUsYz0wO2M8cztjKyspdGhpcy5vdXRwdXRCeXRlKHRoaXMub3V0cHV0QnVmZmVyW2wrY10pfX1lbHNlIHRoaXMub3V0cHV0Qnl0ZShpKX1yZXR1cm4gdGhpcy5yb2xsQmFja0lmT3V0cHV0QnVmZmVyRW5kc1dpdGhBVHJ1bmNhdGVkTXVsdGlieXRlU2VxdWVuY2UoKSx0LkNvbXByZXNzaW9uQ29tbW9uLmdldENyb3BwZWRCdWZmZXIodGhpcy5vdXRwdXRCdWZmZXIsbix0aGlzLm91dHB1dFBvc2l0aW9uLW4pfSxlLnByb3RvdHlwZS5vdXRwdXRCeXRlPWZ1bmN0aW9uKGUpe3RoaXMub3V0cHV0UG9zaXRpb249PT10aGlzLm91dHB1dEJ1ZmZlci5sZW5ndGgmJih0aGlzLm91dHB1dEJ1ZmZlcj10LkFycmF5VG9vbHMuZG91YmxlQnl0ZUFycmF5Q2FwYWNpdHkodGhpcy5vdXRwdXRCdWZmZXIpKSx0aGlzLm91dHB1dEJ1ZmZlclt0aGlzLm91dHB1dFBvc2l0aW9uKytdPWV9LGUucHJvdG90eXBlLmNyb3BPdXRwdXRCdWZmZXJUb1dpbmRvd0FuZEluaXRpYWxpemU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMub3V0cHV0QnVmZmVyKXJldHVybiB0aGlzLm91dHB1dEJ1ZmZlcj1uZXcgVWludDhBcnJheShlKSwwO3ZhciBuPU1hdGgubWluKHRoaXMub3V0cHV0UG9zaXRpb24sdGhpcy5NYXhpbXVtTWF0Y2hEaXN0YW5jZSk7aWYodGhpcy5vdXRwdXRCdWZmZXI9dC5Db21wcmVzc2lvbkNvbW1vbi5nZXRDcm9wcGVkQnVmZmVyKHRoaXMub3V0cHV0QnVmZmVyLHRoaXMub3V0cHV0UG9zaXRpb24tbixuLGUpLHRoaXMub3V0cHV0UG9zaXRpb249bix0aGlzLm91dHB1dEJ1ZmZlclJlbWFpbmRlcil7Zm9yKHZhciByPTA7cjx0aGlzLm91dHB1dEJ1ZmZlclJlbWFpbmRlci5sZW5ndGg7cisrKXRoaXMub3V0cHV0Qnl0ZSh0aGlzLm91dHB1dEJ1ZmZlclJlbWFpbmRlcltyXSk7dGhpcy5vdXRwdXRCdWZmZXJSZW1haW5kZXI9dm9pZCAwfXJldHVybiBufSxlLnByb3RvdHlwZS5yb2xsQmFja0lmT3V0cHV0QnVmZmVyRW5kc1dpdGhBVHJ1bmNhdGVkTXVsdGlieXRlU2VxdWVuY2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MTt0PD00JiZ0aGlzLm91dHB1dFBvc2l0aW9uLXQ+PTA7dCsrKXt2YXIgZT10aGlzLm91dHB1dEJ1ZmZlclt0aGlzLm91dHB1dFBvc2l0aW9uLXRdO2lmKHQ8NCYmZT4+PjM9PTMwfHx0PDMmJmU+Pj40PT0xNHx8dDwyJiZlPj4+NT09NilyZXR1cm4gdGhpcy5vdXRwdXRCdWZmZXJSZW1haW5kZXI9dGhpcy5vdXRwdXRCdWZmZXIuc3ViYXJyYXkodGhpcy5vdXRwdXRQb3NpdGlvbi10LHRoaXMub3V0cHV0UG9zaXRpb24pLHZvaWQodGhpcy5vdXRwdXRQb3NpdGlvbi09dCl9fSxlfSgpO3QuRGVjb21wcmVzc29yPWV9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgbj1uZXcgVWludDhBcnJheShbNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw0Myw0N10pLHI9bmV3IFVpbnQ4QXJyYXkoWzI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSw2MiwyNTUsMjU1LDI1NSw2Myw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSwyNTUsMjU1LDI1NSwwLDI1NSwyNTUsMjU1LDAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsMjU1LDI1NSwyNTUsMjU1XSk7ZS5lbmNvZGU9ZnVuY3Rpb24obil7cmV0dXJuIG4mJjAhPW4ubGVuZ3RoP3QucnVubmluZ0luTm9kZUpTKCk/dC5CdWZmZXJUb29scy51aW50OEFycmF5VG9CdWZmZXIobikudG9TdHJpbmcoXCJiYXNlNjRcIik6ZS5lbmNvZGVXaXRoSlMobik6XCJcIn0sZS5kZWNvZGU9ZnVuY3Rpb24obil7cmV0dXJuIG4/dC5ydW5uaW5nSW5Ob2RlSlMoKT90LkJ1ZmZlclRvb2xzLmJ1ZmZlclRvVWludDhBcnJheShCdWZmZXIuZnJvbShuLFwiYmFzZTY0XCIpKTplLmRlY29kZVdpdGhKUyhuKTpuZXcgVWludDhBcnJheSgwKX0sZS5lbmNvZGVXaXRoSlM9ZnVuY3Rpb24oZSxyKXtpZih2b2lkIDA9PT1yJiYocj0hMCksIWV8fDA9PWUubGVuZ3RoKXJldHVyblwiXCI7Zm9yKHZhciBvLGk9bixhPW5ldyB0LlN0cmluZ0J1aWxkZXIscz0wLHU9ZS5sZW5ndGg7czx1O3MrPTMpczw9dS0zPyhvPWVbc108PDE2fGVbcysxXTw8OHxlW3MrMl0sYS5hcHBlbmRDaGFyQ29kZShpW28+Pj4xOCY2M10pLGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+MTImNjNdKSxhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjYmNjNdKSxhLmFwcGVuZENoYXJDb2RlKGlbNjMmb10pLG89MCk6cz09PXUtMj8obz1lW3NdPDwxNnxlW3MrMV08PDgsYS5hcHBlbmRDaGFyQ29kZShpW28+Pj4xOCY2M10pLGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+MTImNjNdKSxhLmFwcGVuZENoYXJDb2RlKGlbbz4+PjYmNjNdKSxyJiZhLmFwcGVuZENoYXJDb2RlKDYxKSk6cz09PXUtMSYmKG89ZVtzXTw8MTYsYS5hcHBlbmRDaGFyQ29kZShpW28+Pj4xOCY2M10pLGEuYXBwZW5kQ2hhckNvZGUoaVtvPj4+MTImNjNdKSxyJiYoYS5hcHBlbmRDaGFyQ29kZSg2MSksYS5hcHBlbmRDaGFyQ29kZSg2MSkpKTtyZXR1cm4gYS5nZXRPdXRwdXRTdHJpbmcoKX0sZS5kZWNvZGVXaXRoSlM9ZnVuY3Rpb24odCxlKXtpZighdHx8MD09dC5sZW5ndGgpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciBuPXQubGVuZ3RoJTQ7aWYoMT09PW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBCYXNlNjQgc3RyaW5nOiBsZW5ndGggJSA0ID09IDFcIik7Mj09PW4/dCs9XCI9PVwiOjM9PT1uJiYodCs9XCI9XCIpLGV8fChlPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSk7Zm9yKHZhciBvPTAsaT10Lmxlbmd0aCxhPTA7YTxpO2ErPTQpe3ZhciBzPXJbdC5jaGFyQ29kZUF0KGEpXTw8MTh8clt0LmNoYXJDb2RlQXQoYSsxKV08PDEyfHJbdC5jaGFyQ29kZUF0KGErMildPDw2fHJbdC5jaGFyQ29kZUF0KGErMyldO2VbbysrXT1zPj4+MTYmMjU1LGVbbysrXT1zPj4+OCYyNTUsZVtvKytdPTI1NSZzfXJldHVybiA2MT09dC5jaGFyQ29kZUF0KGktMSkmJm8tLSw2MT09dC5jaGFyQ29kZUF0KGktMikmJm8tLSxlLnN1YmFycmF5KDAsbyl9fShlLkJhc2U2NHx8KGUuQmFzZTY0PXt9KSl9KHQuRW5jb2Rpbmd8fCh0LkVuY29kaW5nPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLmVuY29kZT1mdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJCaW5hcnlTdHJpbmcuZW5jb2RlOiB1bmRlZmluZWQgb3IgbnVsbCBpbnB1dCByZWNlaXZlZFwiKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuXCJcIjtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgdC5TdHJpbmdCdWlsZGVyLG89MCxpPTEsYT0wO2E8bjthKz0yKXt2YXIgcz12b2lkIDA7cz1hPT1uLTE/ZVthXTw8ODplW2FdPDw4fGVbYSsxXSxyLmFwcGVuZENoYXJDb2RlKG88PDE2LWl8cz4+PmkpLG89cyYoMTw8aSktMSwxNT09PWk/KHIuYXBwZW5kQ2hhckNvZGUobyksbz0wLGk9MSk6aSs9MSxhPj1uLTImJnIuYXBwZW5kQ2hhckNvZGUobzw8MTYtaSl9cmV0dXJuIHIuYXBwZW5kQ2hhckNvZGUoMzI3Njh8biUyKSxyLmdldE91dHB1dFN0cmluZygpfSxlLmRlY29kZT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQmluYXJ5U3RyaW5nLmRlY29kZTogaW52YWxpZCBpbnB1dCB0eXBlXCIpO2lmKFwiXCI9PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSgzKnQubGVuZ3RoKSxuPTAscj1mdW5jdGlvbih0KXtlW24rK109dD4+PjgsZVtuKytdPTI1NSZ0fSxvPTAsaT0wLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dC5jaGFyQ29kZUF0KGEpO3M+PTMyNzY4PygzMjc2OT09cyYmbi0tLGk9MCk6KDA9PWk/bz1zOihyKG88PGl8cz4+PjE1LWkpLG89cyYoMTw8MTUtaSktMSksMTU9PWk/aT0wOmkrPTEpfXJldHVybiBlLnN1YmFycmF5KDAsbil9fShlLkJpbmFyeVN0cmluZ3x8KGUuQmluYXJ5U3RyaW5nPXt9KSl9KHQuRW5jb2Rpbmd8fCh0LkVuY29kaW5nPXt9KSl9KG98fChvPXt9KSksZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXt0LmVuY29kZUZyb21TdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmNoYXJDb2RlQXQoZSk7aWYobjw1NTI5Nnx8bj41NjMxOSlyZXR1cm4gbjt2YXIgcj10LmNoYXJDb2RlQXQoZSsxKTtpZihyPj01NjMyMCYmcjw9NTczNDMpcmV0dXJuIHItNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNjt0aHJvdyBuZXcgRXJyb3IoXCJnZXRVbmljb2RlQ29kZVBvaW50OiBSZWNlaXZlZCBhIGxlYWQgc3Vycm9nYXRlIGNoYXJhY3RlciwgY2hhciBjb2RlIFwiLmNvbmNhdChuLFwiLCBmb2xsb3dlZCBieSBcIikuY29uY2F0KHIsXCIsIHdoaWNoIGlzIG5vdCBhIHRyYWlsaW5nIHN1cnJvZ2F0ZSBjaGFyYWN0ZXIgY29kZS5cIikpfSx0LmRlY29kZVRvU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKHQ8PTY1NTM1KXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHQpO2lmKHQ8PTExMTQxMTEpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKHQtNjU1MzY+Pj4xMCksNTYzMjArKHQtNjU1MzYmMTAyMykpO3Rocm93IG5ldyBFcnJvcihcImdldFN0cmluZ0Zyb21Vbmljb2RlQ29kZVBvaW50OiBBIGNvZGUgcG9pbnQgb2YgXCIuY29uY2F0KHQsXCIgY2Fubm90IGJlIGVuY29kZWQgaW4gVVRGLTE2XCIpKX19KHQuQ29kZVBvaW50fHwodC5Db2RlUG9pbnQ9e30pKX0odC5FbmNvZGluZ3x8KHQuRW5jb2Rpbmc9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQpe3ZhciBlPVtcIjAwMFwiLFwiMDAxXCIsXCIwMDJcIixcIjAwM1wiLFwiMDA0XCIsXCIwMDVcIixcIjAwNlwiLFwiMDA3XCIsXCIwMDhcIixcIjAwOVwiLFwiMDEwXCIsXCIwMTFcIixcIjAxMlwiLFwiMDEzXCIsXCIwMTRcIixcIjAxNVwiLFwiMDE2XCIsXCIwMTdcIixcIjAxOFwiLFwiMDE5XCIsXCIwMjBcIixcIjAyMVwiLFwiMDIyXCIsXCIwMjNcIixcIjAyNFwiLFwiMDI1XCIsXCIwMjZcIixcIjAyN1wiLFwiMDI4XCIsXCIwMjlcIixcIjAzMFwiLFwiMDMxXCIsXCIwMzJcIixcIjAzM1wiLFwiMDM0XCIsXCIwMzVcIixcIjAzNlwiLFwiMDM3XCIsXCIwMzhcIixcIjAzOVwiLFwiMDQwXCIsXCIwNDFcIixcIjA0MlwiLFwiMDQzXCIsXCIwNDRcIixcIjA0NVwiLFwiMDQ2XCIsXCIwNDdcIixcIjA0OFwiLFwiMDQ5XCIsXCIwNTBcIixcIjA1MVwiLFwiMDUyXCIsXCIwNTNcIixcIjA1NFwiLFwiMDU1XCIsXCIwNTZcIixcIjA1N1wiLFwiMDU4XCIsXCIwNTlcIixcIjA2MFwiLFwiMDYxXCIsXCIwNjJcIixcIjA2M1wiLFwiMDY0XCIsXCIwNjVcIixcIjA2NlwiLFwiMDY3XCIsXCIwNjhcIixcIjA2OVwiLFwiMDcwXCIsXCIwNzFcIixcIjA3MlwiLFwiMDczXCIsXCIwNzRcIixcIjA3NVwiLFwiMDc2XCIsXCIwNzdcIixcIjA3OFwiLFwiMDc5XCIsXCIwODBcIixcIjA4MVwiLFwiMDgyXCIsXCIwODNcIixcIjA4NFwiLFwiMDg1XCIsXCIwODZcIixcIjA4N1wiLFwiMDg4XCIsXCIwODlcIixcIjA5MFwiLFwiMDkxXCIsXCIwOTJcIixcIjA5M1wiLFwiMDk0XCIsXCIwOTVcIixcIjA5NlwiLFwiMDk3XCIsXCIwOThcIixcIjA5OVwiLFwiMTAwXCIsXCIxMDFcIixcIjEwMlwiLFwiMTAzXCIsXCIxMDRcIixcIjEwNVwiLFwiMTA2XCIsXCIxMDdcIixcIjEwOFwiLFwiMTA5XCIsXCIxMTBcIixcIjExMVwiLFwiMTEyXCIsXCIxMTNcIixcIjExNFwiLFwiMTE1XCIsXCIxMTZcIixcIjExN1wiLFwiMTE4XCIsXCIxMTlcIixcIjEyMFwiLFwiMTIxXCIsXCIxMjJcIixcIjEyM1wiLFwiMTI0XCIsXCIxMjVcIixcIjEyNlwiLFwiMTI3XCIsXCIxMjhcIixcIjEyOVwiLFwiMTMwXCIsXCIxMzFcIixcIjEzMlwiLFwiMTMzXCIsXCIxMzRcIixcIjEzNVwiLFwiMTM2XCIsXCIxMzdcIixcIjEzOFwiLFwiMTM5XCIsXCIxNDBcIixcIjE0MVwiLFwiMTQyXCIsXCIxNDNcIixcIjE0NFwiLFwiMTQ1XCIsXCIxNDZcIixcIjE0N1wiLFwiMTQ4XCIsXCIxNDlcIixcIjE1MFwiLFwiMTUxXCIsXCIxNTJcIixcIjE1M1wiLFwiMTU0XCIsXCIxNTVcIixcIjE1NlwiLFwiMTU3XCIsXCIxNThcIixcIjE1OVwiLFwiMTYwXCIsXCIxNjFcIixcIjE2MlwiLFwiMTYzXCIsXCIxNjRcIixcIjE2NVwiLFwiMTY2XCIsXCIxNjdcIixcIjE2OFwiLFwiMTY5XCIsXCIxNzBcIixcIjE3MVwiLFwiMTcyXCIsXCIxNzNcIixcIjE3NFwiLFwiMTc1XCIsXCIxNzZcIixcIjE3N1wiLFwiMTc4XCIsXCIxNzlcIixcIjE4MFwiLFwiMTgxXCIsXCIxODJcIixcIjE4M1wiLFwiMTg0XCIsXCIxODVcIixcIjE4NlwiLFwiMTg3XCIsXCIxODhcIixcIjE4OVwiLFwiMTkwXCIsXCIxOTFcIixcIjE5MlwiLFwiMTkzXCIsXCIxOTRcIixcIjE5NVwiLFwiMTk2XCIsXCIxOTdcIixcIjE5OFwiLFwiMTk5XCIsXCIyMDBcIixcIjIwMVwiLFwiMjAyXCIsXCIyMDNcIixcIjIwNFwiLFwiMjA1XCIsXCIyMDZcIixcIjIwN1wiLFwiMjA4XCIsXCIyMDlcIixcIjIxMFwiLFwiMjExXCIsXCIyMTJcIixcIjIxM1wiLFwiMjE0XCIsXCIyMTVcIixcIjIxNlwiLFwiMjE3XCIsXCIyMThcIixcIjIxOVwiLFwiMjIwXCIsXCIyMjFcIixcIjIyMlwiLFwiMjIzXCIsXCIyMjRcIixcIjIyNVwiLFwiMjI2XCIsXCIyMjdcIixcIjIyOFwiLFwiMjI5XCIsXCIyMzBcIixcIjIzMVwiLFwiMjMyXCIsXCIyMzNcIixcIjIzNFwiLFwiMjM1XCIsXCIyMzZcIixcIjIzN1wiLFwiMjM4XCIsXCIyMzlcIixcIjI0MFwiLFwiMjQxXCIsXCIyNDJcIixcIjI0M1wiLFwiMjQ0XCIsXCIyNDVcIixcIjI0NlwiLFwiMjQ3XCIsXCIyNDhcIixcIjI0OVwiLFwiMjUwXCIsXCIyNTFcIixcIjI1MlwiLFwiMjUzXCIsXCIyNTRcIixcIjI1NVwiXTt0LmVuY29kZT1mdW5jdGlvbih0KXtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7cisrKW4ucHVzaChlW3Rbcl1dKTtyZXR1cm4gbi5qb2luKFwiIFwiKX19KHQuRGVjaW1hbFN0cmluZ3x8KHQuRGVjaW1hbFN0cmluZz17fSkpfSh0LkVuY29kaW5nfHwodC5FbmNvZGluZz17fSkpfShvfHwobz17fSkpLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXshZnVuY3Rpb24oZSl7ZS5lbmNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuQmluYXJ5U3RyaW5nLmVuY29kZShlKS5yZXBsYWNlKC9cXDAvZyxcIuiAglwiKX0sZS5kZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuQmluYXJ5U3RyaW5nLmRlY29kZShlLnJlcGxhY2UoL1xcdTgwMDIvZyxcIlxcMFwiKSl9fSh0LlN0b3JhZ2VCaW5hcnlTdHJpbmd8fCh0LlN0b3JhZ2VCaW5hcnlTdHJpbmc9e30pKX0odC5FbmNvZGluZ3x8KHQuRW5jb2Rpbmc9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKG4pe3ZhciByLG87bi5lbmNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJjAhPWUubGVuZ3RoP3QucnVubmluZ0luTm9kZUpTKCk/dC5CdWZmZXJUb29scy5idWZmZXJUb1VpbnQ4QXJyYXkoQnVmZmVyLmZyb20oZSxcInV0ZjhcIikpOm4uY3JlYXRlTmF0aXZlVGV4dEVuY29kZXJBbmREZWNvZGVySWZBdmFpbGFibGUoKT9yLmVuY29kZShlKTpuLmVuY29kZVdpdGhKUyhlKTpuZXcgVWludDhBcnJheSgwKX0sbi5kZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJjAhPWUubGVuZ3RoP3QucnVubmluZ0luTm9kZUpTKCk/dC5CdWZmZXJUb29scy51aW50OEFycmF5VG9CdWZmZXIoZSkudG9TdHJpbmcoXCJ1dGY4XCIpOm4uY3JlYXRlTmF0aXZlVGV4dEVuY29kZXJBbmREZWNvZGVySWZBdmFpbGFibGUoKT9vLmRlY29kZShlKTpuLmRlY29kZVdpdGhKUyhlKTpcIlwifSxuLmVuY29kZVdpdGhKUz1mdW5jdGlvbih0LG4pe2lmKCF0fHwwPT10Lmxlbmd0aClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7bnx8KG49bmV3IFVpbnQ4QXJyYXkoNCp0Lmxlbmd0aCkpO2Zvcih2YXIgcj0wLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGk9ZS5Db2RlUG9pbnQuZW5jb2RlRnJvbVN0cmluZyh0LG8pO2lmKGk8PTEyNyluW3IrK109aTtlbHNlIGlmKGk8PTIwNDcpbltyKytdPTE5MnxpPj4+NixuW3IrK109MTI4fDYzJmk7ZWxzZSBpZihpPD02NTUzNSluW3IrK109MjI0fGk+Pj4xMixuW3IrK109MTI4fGk+Pj42JjYzLG5bcisrXT0xMjh8NjMmaTtlbHNle2lmKCEoaTw9MTExNDExMSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVEYtMTYgc3RyaW5nOiBFbmNvdW50ZXJlZCBhIGNoYXJhY3RlciB1bnN1cHBvcnRlZCBieSBVVEYtOC8xNiAoUkZDIDM2MjkpXCIpO25bcisrXT0yNDB8aT4+PjE4LG5bcisrXT0xMjh8aT4+PjEyJjYzLG5bcisrXT0xMjh8aT4+PjYmNjMsbltyKytdPTEyOHw2MyZpLG8rK319cmV0dXJuIG4uc3ViYXJyYXkoMCxyKX0sbi5kZWNvZGVXaXRoSlM9ZnVuY3Rpb24oZSxuLHIpe2lmKHZvaWQgMD09PW4mJihuPTApLCFlfHwwPT1lLmxlbmd0aClyZXR1cm5cIlwiO3ZvaWQgMD09PXImJihyPWUubGVuZ3RoKTtmb3IodmFyIG8saSxhPW5ldyB0LlN0cmluZ0J1aWxkZXIscz1uLHU9cjtzPHU7KXtpZigoaT1lW3NdKT4+Pjc9PTApbz1pLHMrPTE7ZWxzZSBpZihpPj4+NT09Nil7aWYocysxPj1yKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVRGLTggc3RyZWFtOiBUcnVuY2F0ZWQgY29kZXBvaW50IHNlcXVlbmNlIGVuY291bnRlcmVkIGF0IHBvc2l0aW9uIFwiK3MpO289KDMxJmkpPDw2fDYzJmVbcysxXSxzKz0yfWVsc2UgaWYoaT4+PjQ9PTE0KXtpZihzKzI+PXIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVEYtOCBzdHJlYW06IFRydW5jYXRlZCBjb2RlcG9pbnQgc2VxdWVuY2UgZW5jb3VudGVyZWQgYXQgcG9zaXRpb24gXCIrcyk7bz0oMTUmaSk8PDEyfCg2MyZlW3MrMV0pPDw2fDYzJmVbcysyXSxzKz0zfWVsc2V7aWYoaT4+PjMhPTMwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVRGLTggc3RyZWFtOiBBbiBpbnZhbGlkIGxlYWQgYnl0ZSB2YWx1ZSBlbmNvdW50ZXJlZCBhdCBwb3NpdGlvbiBcIitzKTtpZihzKzM+PXIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVEYtOCBzdHJlYW06IFRydW5jYXRlZCBjb2RlcG9pbnQgc2VxdWVuY2UgZW5jb3VudGVyZWQgYXQgcG9zaXRpb24gXCIrcyk7bz0oNyZpKTw8MTh8KDYzJmVbcysxXSk8PDEyfCg2MyZlW3MrMl0pPDw2fDYzJmVbcyszXSxzKz00fWEuYXBwZW5kQ29kZVBvaW50KG8pfXJldHVybiBhLmdldE91dHB1dFN0cmluZygpfSxuLmNyZWF0ZU5hdGl2ZVRleHRFbmNvZGVyQW5kRGVjb2RlcklmQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuISFyfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBUZXh0RW5jb2RlciYmKHI9bmV3IFRleHRFbmNvZGVyKFwidXRmLThcIiksbz1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKSwhMCl9fShlLlVURjh8fChlLlVURjg9e30pKX0odC5FbmNvZGluZ3x8KHQuRW5jb2Rpbmc9e30pKX0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt0LmNvbXByZXNzPWZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09biYmKG49e30pLG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXByZXNzOiB1bmRlZmluZWQgb3IgbnVsbCBpbnB1dCByZWNlaXZlZFwiKTt2YXIgcj10LkNvbXByZXNzaW9uQ29tbW9uLmRldGVjdENvbXByZXNzaW9uU291cmNlRW5jb2RpbmcoZSk7bj10Lk9iamVjdFRvb2xzLm92ZXJyaWRlKHtpbnB1dEVuY29kaW5nOnIsb3V0cHV0RW5jb2Rpbmc6XCJCeXRlQXJyYXlcIn0sbik7dmFyIG89KG5ldyB0LkNvbXByZXNzb3IpLmNvbXByZXNzQmxvY2soZSk7cmV0dXJuIHQuQ29tcHJlc3Npb25Db21tb24uZW5jb2RlQ29tcHJlc3NlZEJ5dGVzKG8sbi5vdXRwdXRFbmNvZGluZyl9LHQuZGVjb21wcmVzcz1mdW5jdGlvbihlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSxudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWNvbXByZXNzOiB1bmRlZmluZWQgb3IgbnVsbCBpbnB1dCByZWNlaXZlZFwiKTtuPXQuT2JqZWN0VG9vbHMub3ZlcnJpZGUoe2lucHV0RW5jb2Rpbmc6XCJCeXRlQXJyYXlcIixvdXRwdXRFbmNvZGluZzpcIlN0cmluZ1wifSxuKTt2YXIgcj10LkNvbXByZXNzaW9uQ29tbW9uLmRlY29kZUNvbXByZXNzZWRCeXRlcyhlLG4uaW5wdXRFbmNvZGluZyksbz0obmV3IHQuRGVjb21wcmVzc29yKS5kZWNvbXByZXNzQmxvY2socik7cmV0dXJuIHQuQ29tcHJlc3Npb25Db21tb24uZW5jb2RlRGVjb21wcmVzc2VkQnl0ZXMobyxuLm91dHB1dEVuY29kaW5nKX0sdC5jb21wcmVzc0FzeW5jPWZ1bmN0aW9uKGUsbixyKXt2YXIgbztudWxsPT1yJiYocj1mdW5jdGlvbigpe30pO3RyeXtvPXQuQ29tcHJlc3Npb25Db21tb24uZGV0ZWN0Q29tcHJlc3Npb25Tb3VyY2VFbmNvZGluZyhlKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCByKHZvaWQgMCx0KX1uPXQuT2JqZWN0VG9vbHMub3ZlcnJpZGUoe2lucHV0RW5jb2Rpbmc6byxvdXRwdXRFbmNvZGluZzpcIkJ5dGVBcnJheVwiLHVzZVdlYldvcmtlcjohMCxibG9ja1NpemU6NjU1MzZ9LG4pLHQuZW5xdWV1ZUltbWVkaWF0ZSgoZnVuY3Rpb24oKXtuLnVzZVdlYldvcmtlciYmdC5XZWJXb3JrZXIuY3JlYXRlR2xvYmFsV29ya2VySWZOZWVkZWQoKT90LldlYldvcmtlci5jb21wcmVzc0FzeW5jKGUsbixyKTp0LkFzeW5jQ29tcHJlc3Nvci5jb21wcmVzc0FzeW5jKGUsbixyKX0pKX0sdC5kZWNvbXByZXNzQXN5bmM9ZnVuY3Rpb24oZSxuLHIpe2lmKG51bGw9PXImJihyPWZ1bmN0aW9uKCl7fSksbnVsbCE9ZSl7bj10Lk9iamVjdFRvb2xzLm92ZXJyaWRlKHtpbnB1dEVuY29kaW5nOlwiQnl0ZUFycmF5XCIsb3V0cHV0RW5jb2Rpbmc6XCJTdHJpbmdcIix1c2VXZWJXb3JrZXI6ITAsYmxvY2tTaXplOjY1NTM2fSxuKTt2YXIgbz10LkJ1ZmZlclRvb2xzLmNvbnZlcnRUb1VpbnQ4QXJyYXlJZk5lZWRlZChlKTt0LkV2ZW50TG9vcC5lbnF1ZXVlSW1tZWRpYXRlKChmdW5jdGlvbigpe24udXNlV2ViV29ya2VyJiZ0LldlYldvcmtlci5jcmVhdGVHbG9iYWxXb3JrZXJJZk5lZWRlZCgpP3QuV2ViV29ya2VyLmRlY29tcHJlc3NBc3luYyhvLG4scik6dC5Bc3luY0RlY29tcHJlc3Nvci5kZWNvbXByZXNzQXN5bmMoZSxuLHIpfSkpfWVsc2Ugcih2b2lkIDAsbmV3IFR5cGVFcnJvcihcImRlY29tcHJlc3NBc3luYzogdW5kZWZpbmVkIG9yIG51bGwgaW5wdXQgcmVjZWl2ZWRcIikpfSx0LmNyZWF0ZUNvbXByZXNzaW9uU3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXN5bmNDb21wcmVzc29yLmNyZWF0ZUNvbXByZXNzaW9uU3RyZWFtKCl9LHQuY3JlYXRlRGVjb21wcmVzc2lvblN0cmVhbT1mdW5jdGlvbigpe3JldHVybiB0LkFzeW5jRGVjb21wcmVzc29yLmNyZWF0ZURlY29tcHJlc3Npb25TdHJlYW0oKX0sdC5lbmNvZGVVVEY4PWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLlVURjguZW5jb2RlKGUpfSx0LmRlY29kZVVURjg9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRW5jb2RpbmcuVVRGOC5kZWNvZGUoZSl9LHQuZW5jb2RlQmFzZTY0PWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLkJhc2U2NC5lbmNvZGUoZSl9LHQuZGVjb2RlQmFzZTY0PWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLkJhc2U2NC5kZWNvZGUoZSl9LHQuZW5jb2RlQmluYXJ5U3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLkJpbmFyeVN0cmluZy5lbmNvZGUoZSl9LHQuZGVjb2RlQmluYXJ5U3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLkJpbmFyeVN0cmluZy5kZWNvZGUoZSl9LHQuZW5jb2RlU3RvcmFnZUJpbmFyeVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5FbmNvZGluZy5TdG9yYWdlQmluYXJ5U3RyaW5nLmVuY29kZShlKX0sdC5kZWNvZGVTdG9yYWdlQmluYXJ5U3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LkVuY29kaW5nLlN0b3JhZ2VCaW5hcnlTdHJpbmcuZGVjb2RlKGUpfX0ob3x8KG89e30pKX0sMzc0Oih0LGUsbik9Pntjb25zdHtBYm9ydEVycm9yOnIsY29kZXM6b309bigxNDEpLHtpc05vZGVTdHJlYW06aSxpc1dlYlN0cmVhbTphLGtDb250cm9sbGVyRXJyb3JGdW5jdGlvbjpzfT1uKDEzMiksdT1uKDg2KSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6bH09bzt0LmV4cG9ydHMuYWRkQWJvcnRTaWduYWw9ZnVuY3Rpb24oZSxuKXtpZigoKHQsZSk9PntpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8IShcImFib3J0ZWRcImluIHQpKXRocm93IG5ldyBsKGUsXCJBYm9ydFNpZ25hbFwiLHQpfSkoZSxcInNpZ25hbFwiKSwhaShuKSYmIWEobikpdGhyb3cgbmV3IGwoXCJzdHJlYW1cIixbXCJSZWFkYWJsZVN0cmVhbVwiLFwiV3JpdGFibGVTdHJlYW1cIixcIlN0cmVhbVwiXSxuKTtyZXR1cm4gdC5leHBvcnRzLmFkZEFib3J0U2lnbmFsTm9WYWxpZGF0ZShlLG4pfSx0LmV4cG9ydHMuYWRkQWJvcnRTaWduYWxOb1ZhbGlkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fCEoXCJhYm9ydGVkXCJpbiB0KSlyZXR1cm4gZTtjb25zdCBuPWkoZSk/KCk9PntlLmRlc3Ryb3kobmV3IHIodm9pZCAwLHtjYXVzZTp0LnJlYXNvbn0pKX06KCk9PntlW3NdKG5ldyByKHZvaWQgMCx7Y2F1c2U6dC5yZWFzb259KSl9O3JldHVybiB0LmFib3J0ZWQ/bigpOih0LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLG4pLHUoZSwoKCk9PnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbikpKSksZX19LDYxNjoodCxlLG4pPT57Y29uc3R7U3RyaW5nUHJvdG90eXBlU2xpY2U6cixTeW1ib2xJdGVyYXRvcjpvLFR5cGVkQXJyYXlQcm90b3R5cGVTZXQ6aSxVaW50OEFycmF5OmF9PW4oMTkxKSx7QnVmZmVyOnN9PW4oNDg1KSx7aW5zcGVjdDp1fT1uKDc3NSk7dC5leHBvcnRzPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH1wdXNoKHQpe2NvbnN0IGU9e2RhdGE6dCxuZXh0Om51bGx9O3RoaXMubGVuZ3RoPjA/dGhpcy50YWlsLm5leHQ9ZTp0aGlzLmhlYWQ9ZSx0aGlzLnRhaWw9ZSwrK3RoaXMubGVuZ3RofXVuc2hpZnQodCl7Y29uc3QgZT17ZGF0YTp0LG5leHQ6dGhpcy5oZWFkfTswPT09dGhpcy5sZW5ndGgmJih0aGlzLnRhaWw9ZSksdGhpcy5oZWFkPWUsKyt0aGlzLmxlbmd0aH1zaGlmdCgpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm47Y29uc3QgdD10aGlzLmhlYWQuZGF0YTtyZXR1cm4gMT09PXRoaXMubGVuZ3RoP3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbDp0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsLS10aGlzLmxlbmd0aCx0fWNsZWFyKCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9am9pbih0KXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtsZXQgZT10aGlzLmhlYWQsbj1cIlwiK2UuZGF0YTtmb3IoO251bGwhPT0oZT1lLm5leHQpOyluKz10K2UuZGF0YTtyZXR1cm4gbn1jb25jYXQodCl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybiBzLmFsbG9jKDApO2NvbnN0IGU9cy5hbGxvY1Vuc2FmZSh0Pj4+MCk7bGV0IG49dGhpcy5oZWFkLHI9MDtmb3IoO247KWkoZSxuLmRhdGEscikscis9bi5kYXRhLmxlbmd0aCxuPW4ubmV4dDtyZXR1cm4gZX1jb25zdW1lKHQsZSl7Y29uc3Qgbj10aGlzLmhlYWQuZGF0YTtpZih0PG4ubGVuZ3RoKXtjb25zdCBlPW4uc2xpY2UoMCx0KTtyZXR1cm4gdGhpcy5oZWFkLmRhdGE9bi5zbGljZSh0KSxlfXJldHVybiB0PT09bi5sZW5ndGg/dGhpcy5zaGlmdCgpOmU/dGhpcy5fZ2V0U3RyaW5nKHQpOnRoaXMuX2dldEJ1ZmZlcih0KX1maXJzdCgpe3JldHVybiB0aGlzLmhlYWQuZGF0YX0qW29dKCl7Zm9yKGxldCB0PXRoaXMuaGVhZDt0O3Q9dC5uZXh0KXlpZWxkIHQuZGF0YX1fZ2V0U3RyaW5nKHQpe2xldCBlPVwiXCIsbj10aGlzLmhlYWQsbz0wO2Rve2NvbnN0IGk9bi5kYXRhO2lmKCEodD5pLmxlbmd0aCkpe3Q9PT1pLmxlbmd0aD8oZSs9aSwrK28sbi5uZXh0P3RoaXMuaGVhZD1uLm5leHQ6dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsKTooZSs9cihpLDAsdCksdGhpcy5oZWFkPW4sbi5kYXRhPXIoaSx0KSk7YnJlYWt9ZSs9aSx0LT1pLmxlbmd0aCwrK299d2hpbGUobnVsbCE9PShuPW4ubmV4dCkpO3JldHVybiB0aGlzLmxlbmd0aC09byxlfV9nZXRCdWZmZXIodCl7Y29uc3QgZT1zLmFsbG9jVW5zYWZlKHQpLG49dDtsZXQgcj10aGlzLmhlYWQsbz0wO2Rve2NvbnN0IHM9ci5kYXRhO2lmKCEodD5zLmxlbmd0aCkpe3Q9PT1zLmxlbmd0aD8oaShlLHMsbi10KSwrK28sci5uZXh0P3RoaXMuaGVhZD1yLm5leHQ6dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsKTooaShlLG5ldyBhKHMuYnVmZmVyLHMuYnl0ZU9mZnNldCx0KSxuLXQpLHRoaXMuaGVhZD1yLHIuZGF0YT1zLnNsaWNlKHQpKTticmVha31pKGUscyxuLXQpLHQtPXMubGVuZ3RoLCsrb313aGlsZShudWxsIT09KHI9ci5uZXh0KSk7cmV0dXJuIHRoaXMubGVuZ3RoLT1vLGV9W1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV0odCxlKXtyZXR1cm4gdSh0aGlzLHsuLi5lLGRlcHRoOjAsY3VzdG9tSW5zcGVjdDohMX0pfX19LDgxODoodCxlLG4pPT57Y29uc3R7cGlwZWxpbmU6cn09big3NTQpLG89bigxODIpLHtkZXN0cm95ZXI6aX09bigyMzApLHtpc05vZGVTdHJlYW06YSxpc1JlYWRhYmxlOnMsaXNXcml0YWJsZTp1LGlzV2ViU3RyZWFtOmwsaXNUcmFuc2Zvcm1TdHJlYW06Yyxpc1dyaXRhYmxlU3RyZWFtOmYsaXNSZWFkYWJsZVN0cmVhbTpkfT1uKDEzMikse0Fib3J0RXJyb3I6aCxjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1ZBTFVFOnAsRVJSX01JU1NJTkdfQVJHUzpnfX09bigxNDEpLHk9big4Nik7dC5leHBvcnRzPWZ1bmN0aW9uKC4uLnQpe2lmKDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgZyhcInN0cmVhbXNcIik7aWYoMT09PXQubGVuZ3RoKXJldHVybiBvLmZyb20odFswXSk7Y29uc3QgZT1bLi4udF07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdFswXSYmKHRbMF09by5mcm9tKHRbMF0pKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdKXtjb25zdCBlPXQubGVuZ3RoLTE7dFtlXT1vLmZyb20odFtlXSl9Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDsrK24paWYoYSh0W25dKXx8bCh0W25dKSl7aWYobjx0Lmxlbmd0aC0xJiYhKHModFtuXSl8fGQodFtuXSl8fGModFtuXSkpKXRocm93IG5ldyBwKGBzdHJlYW1zWyR7bn1dYCxlW25dLFwibXVzdCBiZSByZWFkYWJsZVwiKTtpZihuPjAmJiEodSh0W25dKXx8Zih0W25dKXx8Yyh0W25dKSkpdGhyb3cgbmV3IHAoYHN0cmVhbXNbJHtufV1gLGVbbl0sXCJtdXN0IGJlIHdyaXRhYmxlXCIpfWxldCBuLG0sdixiLHc7Y29uc3QgXz10WzBdLEU9cih0LChmdW5jdGlvbih0KXtjb25zdCBlPWI7Yj1udWxsLGU/ZSh0KTp0P3cuZGVzdHJveSh0KTpBfHxTfHx3LmRlc3Ryb3koKX0pKSxTPSEhKHUoXyl8fGYoXyl8fGMoXykpLEE9ISEocyhFKXx8ZChFKXx8YyhFKSk7aWYodz1uZXcgbyh7d3JpdGFibGVPYmplY3RNb2RlOiEobnVsbD09X3x8IV8ud3JpdGFibGVPYmplY3RNb2RlKSxyZWFkYWJsZU9iamVjdE1vZGU6IShudWxsPT1FfHwhRS53cml0YWJsZU9iamVjdE1vZGUpLHdyaXRhYmxlOlMscmVhZGFibGU6QX0pLFMpe2lmKGEoXykpdy5fd3JpdGU9ZnVuY3Rpb24odCxlLHIpe18ud3JpdGUodCxlKT9yKCk6bj1yfSx3Ll9maW5hbD1mdW5jdGlvbih0KXtfLmVuZCgpLG09dH0sXy5vbihcImRyYWluXCIsKGZ1bmN0aW9uKCl7aWYobil7Y29uc3QgdD1uO249bnVsbCx0KCl9fSkpO2Vsc2UgaWYobChfKSl7Y29uc3QgdD0oYyhfKT9fLndyaXRhYmxlOl8pLmdldFdyaXRlcigpO3cuX3dyaXRlPWFzeW5jIGZ1bmN0aW9uKGUsbixyKXt0cnl7YXdhaXQgdC5yZWFkeSx0LndyaXRlKGUpLmNhdGNoKCgoKT0+e30pKSxyKCl9Y2F0Y2godCl7cih0KX19LHcuX2ZpbmFsPWFzeW5jIGZ1bmN0aW9uKGUpe3RyeXthd2FpdCB0LnJlYWR5LHQuY2xvc2UoKS5jYXRjaCgoKCk9Pnt9KSksbT1lfWNhdGNoKHQpe2UodCl9fX1jb25zdCB0PWMoRSk/RS5yZWFkYWJsZTpFO3kodCwoKCk9PntpZihtKXtjb25zdCB0PW07bT1udWxsLHQoKX19KSl9aWYoQSlpZihhKEUpKUUub24oXCJyZWFkYWJsZVwiLChmdW5jdGlvbigpe2lmKHYpe2NvbnN0IHQ9djt2PW51bGwsdCgpfX0pKSxFLm9uKFwiZW5kXCIsKGZ1bmN0aW9uKCl7dy5wdXNoKG51bGwpfSkpLHcuX3JlYWQ9ZnVuY3Rpb24oKXtmb3IoOzspe2NvbnN0IHQ9RS5yZWFkKCk7aWYobnVsbD09PXQpcmV0dXJuIHZvaWQodj13Ll9yZWFkKTtpZighdy5wdXNoKHQpKXJldHVybn19O2Vsc2UgaWYobChFKSl7Y29uc3QgdD0oYyhFKT9FLnJlYWRhYmxlOkUpLmdldFJlYWRlcigpO3cuX3JlYWQ9YXN5bmMgZnVuY3Rpb24oKXtmb3IoOzspdHJ5e2NvbnN0e3ZhbHVlOmUsZG9uZTpufT1hd2FpdCB0LnJlYWQoKTtpZighdy5wdXNoKGUpKXJldHVybjtpZihuKXJldHVybiB2b2lkIHcucHVzaChudWxsKX1jYXRjaHtyZXR1cm59fX1yZXR1cm4gdy5fZGVzdHJveT1mdW5jdGlvbih0LGUpe3R8fG51bGw9PT1ifHwodD1uZXcgaCksdj1udWxsLG49bnVsbCxtPW51bGwsbnVsbD09PWI/ZSh0KTooYj1lLGEoRSkmJmkoRSx0KSl9LHd9fSwyMzA6KHQsZSxuKT0+e2NvbnN0IHI9big1MzMpLHthZ2dyZWdhdGVUd29FcnJvcnM6byxjb2Rlczp7RVJSX01VTFRJUExFX0NBTExCQUNLOml9LEFib3J0RXJyb3I6YX09bigxNDEpLHtTeW1ib2w6c309bigxOTEpLHtrRGVzdHJveWVkOnUsaXNEZXN0cm95ZWQ6bCxpc0ZpbmlzaGVkOmMsaXNTZXJ2ZXJSZXF1ZXN0OmZ9PW4oMTMyKSxkPXMoXCJrRGVzdHJveVwiKSxoPXMoXCJrQ29uc3RydWN0XCIpO2Z1bmN0aW9uIHAodCxlLG4pe3QmJih0LnN0YWNrLGUmJiFlLmVycm9yZWQmJihlLmVycm9yZWQ9dCksbiYmIW4uZXJyb3JlZCYmKG4uZXJyb3JlZD10KSl9ZnVuY3Rpb24gZyh0LGUsbil7bGV0IG89ITE7ZnVuY3Rpb24gaShlKXtpZihvKXJldHVybjtvPSEwO2NvbnN0IGk9dC5fcmVhZGFibGVTdGF0ZSxhPXQuX3dyaXRhYmxlU3RhdGU7cChlLGEsaSksYSYmKGEuY2xvc2VkPSEwKSxpJiYoaS5jbG9zZWQ9ITApLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4oZSksZT9yLm5leHRUaWNrKHksdCxlKTpyLm5leHRUaWNrKG0sdCl9dHJ5e3QuX2Rlc3Ryb3koZXx8bnVsbCxpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiB5KHQsZSl7dih0LGUpLG0odCl9ZnVuY3Rpb24gbSh0KXtjb25zdCBlPXQuX3JlYWRhYmxlU3RhdGUsbj10Ll93cml0YWJsZVN0YXRlO24mJihuLmNsb3NlRW1pdHRlZD0hMCksZSYmKGUuY2xvc2VFbWl0dGVkPSEwKSwobnVsbCE9biYmbi5lbWl0Q2xvc2V8fG51bGwhPWUmJmUuZW1pdENsb3NlKSYmdC5lbWl0KFwiY2xvc2VcIil9ZnVuY3Rpb24gdih0LGUpe2NvbnN0IG49dC5fcmVhZGFibGVTdGF0ZSxyPXQuX3dyaXRhYmxlU3RhdGU7bnVsbCE9ciYmci5lcnJvckVtaXR0ZWR8fG51bGwhPW4mJm4uZXJyb3JFbWl0dGVkfHwociYmKHIuZXJyb3JFbWl0dGVkPSEwKSxuJiYobi5lcnJvckVtaXR0ZWQ9ITApLHQuZW1pdChcImVycm9yXCIsZSkpfWZ1bmN0aW9uIGIodCxlLG4pe2NvbnN0IG89dC5fcmVhZGFibGVTdGF0ZSxpPXQuX3dyaXRhYmxlU3RhdGU7aWYobnVsbCE9aSYmaS5kZXN0cm95ZWR8fG51bGwhPW8mJm8uZGVzdHJveWVkKXJldHVybiB0aGlzO251bGwhPW8mJm8uYXV0b0Rlc3Ryb3l8fG51bGwhPWkmJmkuYXV0b0Rlc3Ryb3k/dC5kZXN0cm95KGUpOmUmJihlLnN0YWNrLGkmJiFpLmVycm9yZWQmJihpLmVycm9yZWQ9ZSksbyYmIW8uZXJyb3JlZCYmKG8uZXJyb3JlZD1lKSxuP3IubmV4dFRpY2sodix0LGUpOnYodCxlKSl9ZnVuY3Rpb24gdyh0KXtsZXQgZT0hMTtmdW5jdGlvbiBuKG4pe2lmKGUpcmV0dXJuIHZvaWQgYih0LG51bGwhPW4/bjpuZXcgaSk7ZT0hMDtjb25zdCBvPXQuX3JlYWRhYmxlU3RhdGUsYT10Ll93cml0YWJsZVN0YXRlLHM9YXx8bztvJiYoby5jb25zdHJ1Y3RlZD0hMCksYSYmKGEuY29uc3RydWN0ZWQ9ITApLHMuZGVzdHJveWVkP3QuZW1pdChkLG4pOm4/Yih0LG4sITApOnIubmV4dFRpY2soXyx0KX10cnl7dC5fY29uc3RydWN0KCh0PT57ci5uZXh0VGljayhuLHQpfSkpfWNhdGNoKHQpe3IubmV4dFRpY2sobix0KX19ZnVuY3Rpb24gXyh0KXt0LmVtaXQoaCl9ZnVuY3Rpb24gRSh0KXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5zZXRIZWFkZXIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFib3J0fWZ1bmN0aW9uIFModCl7dC5lbWl0KFwiY2xvc2VcIil9ZnVuY3Rpb24gQSh0LGUpe3QuZW1pdChcImVycm9yXCIsZSksci5uZXh0VGljayhTLHQpfXQuZXhwb3J0cz17Y29uc3RydWN0OmZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5fY29uc3RydWN0KXJldHVybjtjb25zdCBuPXQuX3JlYWRhYmxlU3RhdGUsbz10Ll93cml0YWJsZVN0YXRlO24mJihuLmNvbnN0cnVjdGVkPSExKSxvJiYoby5jb25zdHJ1Y3RlZD0hMSksdC5vbmNlKGgsZSksdC5saXN0ZW5lckNvdW50KGgpPjF8fHIubmV4dFRpY2sodyx0KX0sZGVzdHJveWVyOmZ1bmN0aW9uKHQsZSl7dCYmIWwodCkmJihlfHxjKHQpfHwoZT1uZXcgYSksZih0KT8odC5zb2NrZXQ9bnVsbCx0LmRlc3Ryb3koZSkpOkUodCk/dC5hYm9ydCgpOkUodC5yZXEpP3QucmVxLmFib3J0KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5kZXN0cm95P3QuZGVzdHJveShlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNsb3NlP3QuY2xvc2UoKTplP3IubmV4dFRpY2soQSx0LGUpOnIubmV4dFRpY2soUyx0KSx0LmRlc3Ryb3llZHx8KHRbdV09ITApKX0sZGVzdHJveTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dGhpcy5fcmVhZGFibGVTdGF0ZSxyPXRoaXMuX3dyaXRhYmxlU3RhdGUsaT1yfHxuO3JldHVybiBudWxsIT1yJiZyLmRlc3Ryb3llZHx8bnVsbCE9biYmbi5kZXN0cm95ZWQ/KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUoKSx0aGlzKToocCh0LHIsbiksciYmKHIuZGVzdHJveWVkPSEwKSxuJiYobi5kZXN0cm95ZWQ9ITApLGkuY29uc3RydWN0ZWQ/Zyh0aGlzLHQsZSk6dGhpcy5vbmNlKGQsKGZ1bmN0aW9uKG4pe2codGhpcyxvKG4sdCksZSl9KSksdGhpcyl9LHVuZGVzdHJveTpmdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxlPXRoaXMuX3dyaXRhYmxlU3RhdGU7dCYmKHQuY29uc3RydWN0ZWQ9ITAsdC5jbG9zZWQ9ITEsdC5jbG9zZUVtaXR0ZWQ9ITEsdC5kZXN0cm95ZWQ9ITEsdC5lcnJvcmVkPW51bGwsdC5lcnJvckVtaXR0ZWQ9ITEsdC5yZWFkaW5nPSExLHQuZW5kZWQ9ITE9PT10LnJlYWRhYmxlLHQuZW5kRW1pdHRlZD0hMT09PXQucmVhZGFibGUpLGUmJihlLmNvbnN0cnVjdGVkPSEwLGUuZGVzdHJveWVkPSExLGUuY2xvc2VkPSExLGUuY2xvc2VFbWl0dGVkPSExLGUuZXJyb3JlZD1udWxsLGUuZXJyb3JFbWl0dGVkPSExLGUuZmluYWxDYWxsZWQ9ITEsZS5wcmVmaW5pc2hlZD0hMSxlLmVuZGVkPSExPT09ZS53cml0YWJsZSxlLmVuZGluZz0hMT09PWUud3JpdGFibGUsZS5maW5pc2hlZD0hMT09PWUud3JpdGFibGUpfSxlcnJvck9yRGVzdHJveTpifX0sMTgyOih0LGUsbik9Pntjb25zdHtPYmplY3REZWZpbmVQcm9wZXJ0aWVzOnIsT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOm8sT2JqZWN0S2V5czppLE9iamVjdFNldFByb3RvdHlwZU9mOmF9PW4oMTkxKTt0LmV4cG9ydHM9bDtjb25zdCBzPW4oODU4KSx1PW4oMzczKTthKGwucHJvdG90eXBlLHMucHJvdG90eXBlKSxhKGwscyk7e2NvbnN0IHQ9aSh1LnByb3RvdHlwZSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXTtsLnByb3RvdHlwZVtuXXx8KGwucHJvdG90eXBlW25dPXUucHJvdG90eXBlW25dKX19ZnVuY3Rpb24gbCh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBsKSlyZXR1cm4gbmV3IGwodCk7cy5jYWxsKHRoaXMsdCksdS5jYWxsKHRoaXMsdCksdD8odGhpcy5hbGxvd0hhbGZPcGVuPSExIT09dC5hbGxvd0hhbGZPcGVuLCExPT09dC5yZWFkYWJsZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGU9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITApLCExPT09dC53cml0YWJsZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGU9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITAsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkPSEwKSk6dGhpcy5hbGxvd0hhbGZPcGVuPSEwfWxldCBjLGY7ZnVuY3Rpb24gZCgpe3JldHVybiB2b2lkIDA9PT1jJiYoYz17fSksY31yKGwucHJvdG90eXBlLHt3cml0YWJsZTp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlXCIpfSx3cml0YWJsZUhpZ2hXYXRlck1hcms6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZUhpZ2hXYXRlck1hcmtcIil9LHdyaXRhYmxlT2JqZWN0TW9kZTp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlT2JqZWN0TW9kZVwiKX0sd3JpdGFibGVCdWZmZXI6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZUJ1ZmZlclwiKX0sd3JpdGFibGVMZW5ndGg6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZUxlbmd0aFwiKX0sd3JpdGFibGVGaW5pc2hlZDp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlRmluaXNoZWRcIil9LHdyaXRhYmxlQ29ya2VkOntfX3Byb3RvX186bnVsbCwuLi5vKHUucHJvdG90eXBlLFwid3JpdGFibGVDb3JrZWRcIil9LHdyaXRhYmxlRW5kZWQ6e19fcHJvdG9fXzpudWxsLC4uLm8odS5wcm90b3R5cGUsXCJ3cml0YWJsZUVuZGVkXCIpfSx3cml0YWJsZU5lZWREcmFpbjp7X19wcm90b19fOm51bGwsLi4ubyh1LnByb3RvdHlwZSxcIndyaXRhYmxlTmVlZERyYWluXCIpfSxkZXN0cm95ZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkKX0sc2V0KHQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD10LHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPXQpfX19KSxsLmZyb21XZWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZCgpLm5ld1N0cmVhbUR1cGxleEZyb21SZWFkYWJsZVdyaXRhYmxlUGFpcih0LGUpfSxsLnRvV2ViPWZ1bmN0aW9uKHQpe3JldHVybiBkKCkubmV3UmVhZGFibGVXcml0YWJsZVBhaXJGcm9tRHVwbGV4KHQpfSxsLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIGZ8fChmPW4oNzQ5KSksZih0LFwiYm9keVwiKX19LDc0OToodCxlLG4pPT57Y29uc3Qgcj1uKDUzMyksbz1uKDQ4NSkse2lzUmVhZGFibGU6aSxpc1dyaXRhYmxlOmEsaXNJdGVyYWJsZTpzLGlzTm9kZVN0cmVhbTp1LGlzUmVhZGFibGVOb2RlU3RyZWFtOmwsaXNXcml0YWJsZU5vZGVTdHJlYW06Yyxpc0R1cGxleE5vZGVTdHJlYW06Zn09bigxMzIpLGQ9big4Nikse0Fib3J0RXJyb3I6aCxjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1RZUEU6cCxFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUU6Z319PW4oMTQxKSx7ZGVzdHJveWVyOnl9PW4oMjMwKSxtPW4oMTgyKSx2PW4oODU4KSx7Y3JlYXRlRGVmZXJyZWRQcm9taXNlOmJ9PW4oNzc1KSx3PW4oOTEzKSxfPWdsb2JhbFRoaXMuQmxvYnx8by5CbG9iLEU9dm9pZCAwIT09Xz9mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIF99OmZ1bmN0aW9uKHQpe3JldHVybiExfSxTPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyfHxuKDg3NikuQWJvcnRDb250cm9sbGVyLHtGdW5jdGlvblByb3RvdHlwZUNhbGw6QX09bigxOTEpO2NsYXNzIEkgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLCExPT09KG51bGw9PXQ/dm9pZCAwOnQucmVhZGFibGUpJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZT0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMCksITE9PT0obnVsbD09dD92b2lkIDA6dC53cml0YWJsZSkmJih0aGlzLl93cml0YWJsZVN0YXRlLndyaXRhYmxlPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITAsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD0hMCl9fWZ1bmN0aW9uIFQodCl7Y29uc3QgZT10LnJlYWRhYmxlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnJlYWRhYmxlLnJlYWQ/di53cmFwKHQucmVhZGFibGUpOnQucmVhZGFibGUsbj10LndyaXRhYmxlO2xldCByLG8scyx1LGwsYz0hIWkoZSksZj0hIWEobik7ZnVuY3Rpb24gcCh0KXtjb25zdCBlPXU7dT1udWxsLGU/ZSh0KTp0JiZsLmRlc3Ryb3kodCl9cmV0dXJuIGw9bmV3IEkoe3JlYWRhYmxlT2JqZWN0TW9kZTohKG51bGw9PWV8fCFlLnJlYWRhYmxlT2JqZWN0TW9kZSksd3JpdGFibGVPYmplY3RNb2RlOiEobnVsbD09bnx8IW4ud3JpdGFibGVPYmplY3RNb2RlKSxyZWFkYWJsZTpjLHdyaXRhYmxlOmZ9KSxmJiYoZChuLCh0PT57Zj0hMSx0JiZ5KGUsdCkscCh0KX0pKSxsLl93cml0ZT1mdW5jdGlvbih0LGUsbyl7bi53cml0ZSh0LGUpP28oKTpyPW99LGwuX2ZpbmFsPWZ1bmN0aW9uKHQpe24uZW5kKCksbz10fSxuLm9uKFwiZHJhaW5cIiwoZnVuY3Rpb24oKXtpZihyKXtjb25zdCB0PXI7cj1udWxsLHQoKX19KSksbi5vbihcImZpbmlzaFwiLChmdW5jdGlvbigpe2lmKG8pe2NvbnN0IHQ9bztvPW51bGwsdCgpfX0pKSksYyYmKGQoZSwodD0+e2M9ITEsdCYmeShlLHQpLHAodCl9KSksZS5vbihcInJlYWRhYmxlXCIsKGZ1bmN0aW9uKCl7aWYocyl7Y29uc3QgdD1zO3M9bnVsbCx0KCl9fSkpLGUub24oXCJlbmRcIiwoZnVuY3Rpb24oKXtsLnB1c2gobnVsbCl9KSksbC5fcmVhZD1mdW5jdGlvbigpe2Zvcig7Oyl7Y29uc3QgdD1lLnJlYWQoKTtpZihudWxsPT09dClyZXR1cm4gdm9pZChzPWwuX3JlYWQpO2lmKCFsLnB1c2godCkpcmV0dXJufX0pLGwuX2Rlc3Ryb3k9ZnVuY3Rpb24odCxpKXt0fHxudWxsPT09dXx8KHQ9bmV3IGgpLHM9bnVsbCxyPW51bGwsbz1udWxsLG51bGw9PT11P2kodCk6KHU9aSx5KG4sdCkseShlLHQpKX0sbH10LmV4cG9ydHM9ZnVuY3Rpb24gdChlLG4pe2lmKGYoZSkpcmV0dXJuIGU7aWYobChlKSlyZXR1cm4gVCh7cmVhZGFibGU6ZX0pO2lmKGMoZSkpcmV0dXJuIFQoe3dyaXRhYmxlOmV9KTtpZih1KGUpKXJldHVybiBUKHt3cml0YWJsZTohMSxyZWFkYWJsZTohMX0pO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe2NvbnN0e3ZhbHVlOnQsd3JpdGU6byxmaW5hbDppLGRlc3Ryb3k6YX09ZnVuY3Rpb24odCl7bGV0e3Byb21pc2U6ZSxyZXNvbHZlOm59PWIoKTtjb25zdCBvPW5ldyBTLGk9by5zaWduYWwsYT10KGFzeW5jIGZ1bmN0aW9uKigpe2Zvcig7Oyl7Y29uc3QgdD1lO2U9bnVsbDtjb25zdHtjaHVuazpvLGRvbmU6YSxjYjpzfT1hd2FpdCB0O2lmKHIubmV4dFRpY2socyksYSlyZXR1cm47aWYoaS5hYm9ydGVkKXRocm93IG5ldyBoKHZvaWQgMCx7Y2F1c2U6aS5yZWFzb259KTsoe3Byb21pc2U6ZSxyZXNvbHZlOm59PWIoKSkseWllbGQgb319KCkse3NpZ25hbDppfSk7cmV0dXJue3ZhbHVlOmEsd3JpdGUodCxlLHIpe2NvbnN0IG89bjtuPW51bGwsbyh7Y2h1bms6dCxkb25lOiExLGNiOnJ9KX0sZmluYWwodCl7Y29uc3QgZT1uO249bnVsbCxlKHtkb25lOiEwLGNiOnR9KX0sZGVzdHJveSh0LGUpe28uYWJvcnQoKSxlKHQpfX19KGUpO2lmKHModCkpcmV0dXJuIHcoSSx0LHtvYmplY3RNb2RlOiEwLHdyaXRlOm8sZmluYWw6aSxkZXN0cm95OmF9KTtjb25zdCB1PW51bGw9PXQ/dm9pZCAwOnQudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB1KXtsZXQgZTtjb25zdCBuPUEodSx0LCh0PT57aWYobnVsbCE9dCl0aHJvdyBuZXcgZyhcIm51bGx5XCIsXCJib2R5XCIsdCl9KSwodD0+e3koZSx0KX0pKTtyZXR1cm4gZT1uZXcgSSh7b2JqZWN0TW9kZTohMCxyZWFkYWJsZTohMSx3cml0ZTpvLGZpbmFsKHQpe2koKGFzeW5jKCk9Pnt0cnl7YXdhaXQgbixyLm5leHRUaWNrKHQsbnVsbCl9Y2F0Y2goZSl7ci5uZXh0VGljayh0LGUpfX0pKX0sZGVzdHJveTphfSl9dGhyb3cgbmV3IGcoXCJJdGVyYWJsZSwgQXN5bmNJdGVyYWJsZSBvciBBc3luY0Z1bmN0aW9uXCIsbix0KX1pZihFKGUpKXJldHVybiB0KGUuYXJyYXlCdWZmZXIoKSk7aWYocyhlKSlyZXR1cm4gdyhJLGUse29iamVjdE1vZGU6ITAsd3JpdGFibGU6ITF9KTtpZihcIm9iamVjdFwiPT10eXBlb2YobnVsbD09ZT92b2lkIDA6ZS53cml0YWJsZSl8fFwib2JqZWN0XCI9PXR5cGVvZihudWxsPT1lP3ZvaWQgMDplLnJlYWRhYmxlKSl7cmV0dXJuIFQoe3JlYWRhYmxlOm51bGwhPWUmJmUucmVhZGFibGU/bChudWxsPT1lP3ZvaWQgMDplLnJlYWRhYmxlKT9udWxsPT1lP3ZvaWQgMDplLnJlYWRhYmxlOnQoZS5yZWFkYWJsZSk6dm9pZCAwLHdyaXRhYmxlOm51bGwhPWUmJmUud3JpdGFibGU/YyhudWxsPT1lP3ZvaWQgMDplLndyaXRhYmxlKT9udWxsPT1lP3ZvaWQgMDplLndyaXRhYmxlOnQoZS53cml0YWJsZSk6dm9pZCAwfSl9Y29uc3Qgbz1udWxsPT1lP3ZvaWQgMDplLnRoZW47aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbyl7bGV0IHQ7cmV0dXJuIEEobyxlLChlPT57bnVsbCE9ZSYmdC5wdXNoKGUpLHQucHVzaChudWxsKX0pLChlPT57eSh0LGUpfSkpLHQ9bmV3IEkoe29iamVjdE1vZGU6ITAsd3JpdGFibGU6ITEscmVhZCgpe319KX10aHJvdyBuZXcgcChuLFtcIkJsb2JcIixcIlJlYWRhYmxlU3RyZWFtXCIsXCJXcml0YWJsZVN0cmVhbVwiLFwiU3RyZWFtXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiLFwiRnVuY3Rpb25cIixcInsgcmVhZGFibGUsIHdyaXRhYmxlIH0gcGFpclwiLFwiUHJvbWlzZVwiXSxlKX19LDg2Oih0LGUsbik9Pntjb25zdCByPW4oNTMzKSx7QWJvcnRFcnJvcjpvLGNvZGVzOml9PW4oMTQxKSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6YSxFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRTpzfT1pLHtrRW1wdHlPYmplY3Q6dSxvbmNlOmx9PW4oNzc1KSx7dmFsaWRhdGVBYm9ydFNpZ25hbDpjLHZhbGlkYXRlRnVuY3Rpb246Zix2YWxpZGF0ZU9iamVjdDpkLHZhbGlkYXRlQm9vbGVhbjpofT1uKDkwNCkse1Byb21pc2U6cCxQcm9taXNlUHJvdG90eXBlVGhlbjpnfT1uKDE5MSkse2lzQ2xvc2VkOnksaXNSZWFkYWJsZTptLGlzUmVhZGFibGVOb2RlU3RyZWFtOnYsaXNSZWFkYWJsZVN0cmVhbTpiLGlzUmVhZGFibGVGaW5pc2hlZDp3LGlzUmVhZGFibGVFcnJvcmVkOl8saXNXcml0YWJsZTpFLGlzV3JpdGFibGVOb2RlU3RyZWFtOlMsaXNXcml0YWJsZVN0cmVhbTpBLGlzV3JpdGFibGVGaW5pc2hlZDpJLGlzV3JpdGFibGVFcnJvcmVkOlQsaXNOb2RlU3RyZWFtOlIsd2lsbEVtaXRDbG9zZTp4LGtJc0Nsb3NlZFByb21pc2U6Q309bigxMzIpO2NvbnN0IEI9KCk9Pnt9O2Z1bmN0aW9uIGsodCxlLG4pe3ZhciBpLGg7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGg/KG49ZSxlPXUpOm51bGw9PWU/ZT11OmQoZSxcIm9wdGlvbnNcIiksZihuLFwiY2FsbGJhY2tcIiksYyhlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLG49bChuKSxiKHQpfHxBKHQpKXJldHVybiBmdW5jdGlvbih0LGUsbil7bGV0IGk9ITEsYT1CO2lmKGUuc2lnbmFsKWlmKGE9KCk9PntpPSEwLG4uY2FsbCh0LG5ldyBvKHZvaWQgMCx7Y2F1c2U6ZS5zaWduYWwucmVhc29ufSkpfSxlLnNpZ25hbC5hYm9ydGVkKXIubmV4dFRpY2soYSk7ZWxzZXtjb25zdCByPW47bj1sKCgoLi4ubik9PntlLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKSxyLmFwcGx5KHQsbil9KSksZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsYSl9Y29uc3Qgcz0oLi4uZSk9PntpfHxyLm5leHRUaWNrKCgoKT0+bi5hcHBseSh0LGUpKSl9O3JldHVybiBnKHRbQ10ucHJvbWlzZSxzLHMpLEJ9KHQsZSxuKTtpZighUih0KSl0aHJvdyBuZXcgYShcInN0cmVhbVwiLFtcIlJlYWRhYmxlU3RyZWFtXCIsXCJXcml0YWJsZVN0cmVhbVwiLFwiU3RyZWFtXCJdLHQpO2NvbnN0IHA9bnVsbCE9PShpPWUucmVhZGFibGUpJiZ2b2lkIDAhPT1pP2k6dih0KSxrPW51bGwhPT0oaD1lLndyaXRhYmxlKSYmdm9pZCAwIT09aD9oOlModCksTD10Ll93cml0YWJsZVN0YXRlLE89dC5fcmVhZGFibGVTdGF0ZSxVPSgpPT57dC53cml0YWJsZXx8TSgpfTtsZXQgaj14KHQpJiZ2KHQpPT09cCYmUyh0KT09PWssTj1JKHQsITEpO2NvbnN0IE09KCk9PntOPSEwLHQuZGVzdHJveWVkJiYoaj0hMSksKCFqfHx0LnJlYWRhYmxlJiYhcCkmJihwJiYhUHx8bi5jYWxsKHQpKX07bGV0IFA9dyh0LCExKTtjb25zdCBXPSgpPT57UD0hMCx0LmRlc3Ryb3llZCYmKGo9ITEpLCghanx8dC53cml0YWJsZSYmIWspJiYoayYmIU58fG4uY2FsbCh0KSl9LCQ9ZT0+e24uY2FsbCh0LGUpfTtsZXQgRD15KHQpO2NvbnN0IEY9KCk9PntEPSEwO2NvbnN0IGU9VCh0KXx8Xyh0KTtyZXR1cm4gZSYmXCJib29sZWFuXCIhPXR5cGVvZiBlP24uY2FsbCh0LGUpOnAmJiFQJiZ2KHQsITApJiYhdyh0LCExKT9uLmNhbGwodCxuZXcgcyk6IWt8fE58fEkodCwhMSk/dm9pZCBuLmNhbGwodCk6bi5jYWxsKHQsbmV3IHMpfSx6PSgpPT57RD0hMDtjb25zdCBlPVQodCl8fF8odCk7aWYoZSYmXCJib29sZWFuXCIhPXR5cGVvZiBlKXJldHVybiBuLmNhbGwodCxlKTtuLmNhbGwodCl9LHE9KCk9Pnt0LnJlcS5vbihcImZpbmlzaFwiLE0pfTshZnVuY3Rpb24odCl7cmV0dXJuIHQuc2V0SGVhZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFib3J0fSh0KT9rJiYhTCYmKHQub24oXCJlbmRcIixVKSx0Lm9uKFwiY2xvc2VcIixVKSk6KHQub24oXCJjb21wbGV0ZVwiLE0pLGp8fHQub24oXCJhYm9ydFwiLEYpLHQucmVxP3EoKTp0Lm9uKFwicmVxdWVzdFwiLHEpKSxqfHxcImJvb2xlYW5cIiE9dHlwZW9mIHQuYWJvcnRlZHx8dC5vbihcImFib3J0ZWRcIixGKSx0Lm9uKFwiZW5kXCIsVyksdC5vbihcImZpbmlzaFwiLE0pLCExIT09ZS5lcnJvciYmdC5vbihcImVycm9yXCIsJCksdC5vbihcImNsb3NlXCIsRiksRD9yLm5leHRUaWNrKEYpOm51bGwhPUwmJkwuZXJyb3JFbWl0dGVkfHxudWxsIT1PJiZPLmVycm9yRW1pdHRlZD9qfHxyLm5leHRUaWNrKHopOihwfHxqJiYhbSh0KXx8IU4mJiExIT09RSh0KSkmJihrfHxqJiYhRSh0KXx8IVAmJiExIT09bSh0KSk/TyYmdC5yZXEmJnQuYWJvcnRlZCYmci5uZXh0VGljayh6KTpyLm5leHRUaWNrKHopO2NvbnN0IEg9KCk9PntuPUIsdC5yZW1vdmVMaXN0ZW5lcihcImFib3J0ZWRcIixGKSx0LnJlbW92ZUxpc3RlbmVyKFwiY29tcGxldGVcIixNKSx0LnJlbW92ZUxpc3RlbmVyKFwiYWJvcnRcIixGKSx0LnJlbW92ZUxpc3RlbmVyKFwicmVxdWVzdFwiLHEpLHQucmVxJiZ0LnJlcS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLE0pLHQucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixVKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixVKSx0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsTSksdC5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLFcpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCQpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLEYpfTtpZihlLnNpZ25hbCYmIUQpe2NvbnN0IGk9KCk9Pntjb25zdCByPW47SCgpLHIuY2FsbCh0LG5ldyBvKHZvaWQgMCx7Y2F1c2U6ZS5zaWduYWwucmVhc29ufSkpfTtpZihlLnNpZ25hbC5hYm9ydGVkKXIubmV4dFRpY2soaSk7ZWxzZXtjb25zdCByPW47bj1sKCgoLi4ubik9PntlLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixpKSxyLmFwcGx5KHQsbil9KSksZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsaSl9fXJldHVybiBIfXQuZXhwb3J0cz1rLHQuZXhwb3J0cy5maW5pc2hlZD1mdW5jdGlvbih0LGUpe3ZhciBuO2xldCByPSExO3JldHVybiBudWxsPT09ZSYmKGU9dSksbnVsbCE9PShuPWUpJiZ2b2lkIDAhPT1uJiZuLmNsZWFudXAmJihoKGUuY2xlYW51cCxcImNsZWFudXBcIikscj1lLmNsZWFudXApLG5ldyBwKCgobixvKT0+e2NvbnN0IGk9ayh0LGUsKHQ9PntyJiZpKCksdD9vKHQpOm4oKX0pKX0pKX19LDkxMzoodCxlLG4pPT57Y29uc3Qgcj1uKDUzMykse1Byb21pc2VQcm90b3R5cGVUaGVuOm8sU3ltYm9sQXN5bmNJdGVyYXRvcjppLFN5bWJvbEl0ZXJhdG9yOmF9PW4oMTkxKSx7QnVmZmVyOnN9PW4oNDg1KSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6dSxFUlJfU1RSRUFNX05VTExfVkFMVUVTOmx9PW4oMTQxKS5jb2Rlczt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2xldCBjLGY7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBzKXJldHVybiBuZXcgdCh7b2JqZWN0TW9kZTohMCwuLi5uLHJlYWQoKXt0aGlzLnB1c2goZSksdGhpcy5wdXNoKG51bGwpfX0pO2lmKGUmJmVbaV0pZj0hMCxjPWVbaV0oKTtlbHNle2lmKCFlfHwhZVthXSl0aHJvdyBuZXcgdShcIml0ZXJhYmxlXCIsW1wiSXRlcmFibGVcIl0sZSk7Zj0hMSxjPWVbYV0oKX1jb25zdCBkPW5ldyB0KHtvYmplY3RNb2RlOiEwLGhpZ2hXYXRlck1hcms6MSwuLi5ufSk7bGV0IGg9ITE7cmV0dXJuIGQuX3JlYWQ9ZnVuY3Rpb24oKXtofHwoaD0hMCxhc3luYyBmdW5jdGlvbigpe2Zvcig7Oyl7dHJ5e2NvbnN0e3ZhbHVlOnQsZG9uZTplfT1mP2F3YWl0IGMubmV4dCgpOmMubmV4dCgpO2lmKGUpZC5wdXNoKG51bGwpO2Vsc2V7Y29uc3QgZT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRoZW4/YXdhaXQgdDp0O2lmKG51bGw9PT1lKXRocm93IGg9ITEsbmV3IGw7aWYoZC5wdXNoKGUpKWNvbnRpbnVlO2g9ITF9fWNhdGNoKHQpe2QuZGVzdHJveSh0KX1icmVha319KCkpfSxkLl9kZXN0cm95PWZ1bmN0aW9uKHQsZSl7byhhc3luYyBmdW5jdGlvbih0KXtjb25zdCBlPW51bGwhPXQsbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjLnRocm93O2lmKGUmJm4pe2NvbnN0e3ZhbHVlOmUsZG9uZTpufT1hd2FpdCBjLnRocm93KHQpO2lmKGF3YWl0IGUsbilyZXR1cm59aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYy5yZXR1cm4pe2NvbnN0e3ZhbHVlOnR9PWF3YWl0IGMucmV0dXJuKCk7YXdhaXQgdH19KHQpLCgoKT0+ci5uZXh0VGljayhlLHQpKSwobj0+ci5uZXh0VGljayhlLG58fHQpKSl9LGR9fSwyMDA6KHQsZSxuKT0+e2NvbnN0e0FycmF5SXNBcnJheTpyLE9iamVjdFNldFByb3RvdHlwZU9mOm99PW4oMTkxKSx7RXZlbnRFbWl0dGVyOml9PW4oNDY1KTtmdW5jdGlvbiBhKHQpe2kuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIHModCxlLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucHJlcGVuZExpc3RlbmVyKXJldHVybiB0LnByZXBlbmRMaXN0ZW5lcihlLG4pO3QuX2V2ZW50cyYmdC5fZXZlbnRzW2VdP3IodC5fZXZlbnRzW2VdKT90Ll9ldmVudHNbZV0udW5zaGlmdChuKTp0Ll9ldmVudHNbZV09W24sdC5fZXZlbnRzW2VdXTp0Lm9uKGUsbil9byhhLnByb3RvdHlwZSxpLnByb3RvdHlwZSksbyhhLGkpLGEucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXM7ZnVuY3Rpb24gcihlKXt0LndyaXRhYmxlJiYhMT09PXQud3JpdGUoZSkmJm4ucGF1c2UmJm4ucGF1c2UoKX1mdW5jdGlvbiBvKCl7bi5yZWFkYWJsZSYmbi5yZXN1bWUmJm4ucmVzdW1lKCl9bi5vbihcImRhdGFcIixyKSx0Lm9uKFwiZHJhaW5cIixvKSx0Ll9pc1N0ZGlvfHxlJiYhMT09PWUuZW5kfHwobi5vbihcImVuZFwiLHUpLG4ub24oXCJjbG9zZVwiLGwpKTtsZXQgYT0hMTtmdW5jdGlvbiB1KCl7YXx8KGE9ITAsdC5lbmQoKSl9ZnVuY3Rpb24gbCgpe2F8fChhPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveSYmdC5kZXN0cm95KCkpfWZ1bmN0aW9uIGModCl7ZigpLDA9PT1pLmxpc3RlbmVyQ291bnQodGhpcyxcImVycm9yXCIpJiZ0aGlzLmVtaXQoXCJlcnJvclwiLHQpfWZ1bmN0aW9uIGYoKXtuLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLHIpLHQucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLG8pLG4ucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIix1KSxuLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixsKSxuLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixjKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixjKSxuLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsZiksbi5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZiksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZil9cmV0dXJuIHMobixcImVycm9yXCIsYykscyh0LFwiZXJyb3JcIixjKSxuLm9uKFwiZW5kXCIsZiksbi5vbihcImNsb3NlXCIsZiksdC5vbihcImNsb3NlXCIsZiksdC5lbWl0KFwicGlwZVwiLG4pLHR9LHQuZXhwb3J0cz17U3RyZWFtOmEscHJlcGVuZExpc3RlbmVyOnN9fSw1NTQ6KHQsZSxuKT0+e2NvbnN0IHI9Z2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXJ8fG4oODc2KS5BYm9ydENvbnRyb2xsZXIse2NvZGVzOntFUlJfSU5WQUxJRF9BUkdfVkFMVUU6byxFUlJfSU5WQUxJRF9BUkdfVFlQRTppLEVSUl9NSVNTSU5HX0FSR1M6YSxFUlJfT1VUX09GX1JBTkdFOnN9LEFib3J0RXJyb3I6dX09bigxNDEpLHt2YWxpZGF0ZUFib3J0U2lnbmFsOmwsdmFsaWRhdGVJbnRlZ2VyOmMsdmFsaWRhdGVPYmplY3Q6Zn09big5MDQpLGQ9bigxOTEpLlN5bWJvbChcImtXZWFrXCIpLHtmaW5pc2hlZDpofT1uKDg2KSxwPW4oODE4KSx7YWRkQWJvcnRTaWduYWxOb1ZhbGlkYXRlOmd9PW4oMzc0KSx7aXNXcml0YWJsZTp5LGlzTm9kZVN0cmVhbTptfT1uKDEzMikse0FycmF5UHJvdG90eXBlUHVzaDp2LE1hdGhGbG9vcjpiLE51bWJlcjp3LE51bWJlcklzTmFOOl8sUHJvbWlzZTpFLFByb21pc2VSZWplY3Q6UyxQcm9taXNlUHJvdG90eXBlVGhlbjpBLFN5bWJvbDpJfT1uKDE5MSksVD1JKFwia0VtcHR5XCIpLFI9SShcImtFb2ZcIik7ZnVuY3Rpb24geCh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO251bGwhPWUmJmYoZSxcIm9wdGlvbnNcIiksbnVsbCE9KG51bGw9PWU/dm9pZCAwOmUuc2lnbmFsKSYmbChlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpO2xldCBuPTE7cmV0dXJuIG51bGwhPShudWxsPT1lP3ZvaWQgMDplLmNvbmN1cnJlbmN5KSYmKG49YihlLmNvbmN1cnJlbmN5KSksYyhuLFwiY29uY3VycmVuY3lcIiwxKSxhc3luYyBmdW5jdGlvbiooKXt2YXIgbyxpO2NvbnN0IGE9bmV3IHIscz10aGlzLGw9W10sYz1hLnNpZ25hbCxmPXtzaWduYWw6Y30sZD0oKT0+YS5hYm9ydCgpO2xldCBoLHA7bnVsbCE9ZSYmbnVsbCE9PShvPWUuc2lnbmFsKSYmdm9pZCAwIT09byYmby5hYm9ydGVkJiZkKCksbnVsbD09ZXx8bnVsbD09PShpPWUuc2lnbmFsKXx8dm9pZCAwPT09aXx8aS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixkKTtsZXQgZz0hMTtmdW5jdGlvbiB5KCl7Zz0hMH0hYXN5bmMgZnVuY3Rpb24oKXt0cnl7Zm9yIGF3YWl0KGxldCBlIG9mIHMpe3ZhciByO2lmKGcpcmV0dXJuO2lmKGMuYWJvcnRlZCl0aHJvdyBuZXcgdTt0cnl7ZT10KGUsZil9Y2F0Y2godCl7ZT1TKHQpfWUhPT1UJiYoXCJmdW5jdGlvblwiPT10eXBlb2YobnVsbD09PShyPWUpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNhdGNoKSYmZS5jYXRjaCh5KSxsLnB1c2goZSksaCYmKGgoKSxoPW51bGwpLCFnJiZsLmxlbmd0aCYmbC5sZW5ndGg+PW4mJmF3YWl0IG5ldyBFKCh0PT57cD10fSkpKX1sLnB1c2goUil9Y2F0Y2godCl7Y29uc3QgZT1TKHQpO0EoZSx2b2lkIDAseSksbC5wdXNoKGUpfWZpbmFsbHl7dmFyIG87Zz0hMCxoJiYoaCgpLGg9bnVsbCksbnVsbD09ZXx8bnVsbD09PShvPWUuc2lnbmFsKXx8dm9pZCAwPT09b3x8by5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixkKX19KCk7dHJ5e2Zvcig7Oyl7Zm9yKDtsLmxlbmd0aD4wOyl7Y29uc3QgdD1hd2FpdCBsWzBdO2lmKHQ9PT1SKXJldHVybjtpZihjLmFib3J0ZWQpdGhyb3cgbmV3IHU7dCE9PVQmJih5aWVsZCB0KSxsLnNoaWZ0KCkscCYmKHAoKSxwPW51bGwpfWF3YWl0IG5ldyBFKCh0PT57aD10fSkpfX1maW5hbGx5e2EuYWJvcnQoKSxnPSEwLHAmJihwKCkscD1udWxsKX19LmNhbGwodGhpcyl9YXN5bmMgZnVuY3Rpb24gQyh0LGU9dm9pZCAwKXtmb3IgYXdhaXQoY29uc3QgbiBvZiBCLmNhbGwodGhpcyx0LGUpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEIodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBpKFwiZm5cIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTtyZXR1cm4geC5jYWxsKHRoaXMsKGFzeW5jIGZ1bmN0aW9uKGUsbil7cmV0dXJuIGF3YWl0IHQoZSxuKT9lOlR9KSxlKX1jbGFzcyBrIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwicmVkdWNlXCIpLHRoaXMubWVzc2FnZT1cIlJlZHVjZSBvZiBhbiBlbXB0eSBzdHJlYW0gcmVxdWlyZXMgYW4gaW5pdGlhbCB2YWx1ZVwifX1mdW5jdGlvbiBMKHQpe2lmKHQ9dyh0KSxfKHQpKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgcyhcIm51bWJlclwiLFwiPj0gMFwiLHQpO3JldHVybiB0fXQuZXhwb3J0cy5zdHJlYW1SZXR1cm5pbmdPcGVyYXRvcnM9e2FzSW5kZXhlZFBhaXJzOmZ1bmN0aW9uKHQ9dm9pZCAwKXtyZXR1cm4gbnVsbCE9dCYmZih0LFwib3B0aW9uc1wiKSxudWxsIT0obnVsbD09dD92b2lkIDA6dC5zaWduYWwpJiZsKHQuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIiksYXN5bmMgZnVuY3Rpb24qKCl7bGV0IGU9MDtmb3IgYXdhaXQoY29uc3QgciBvZiB0aGlzKXt2YXIgbjtpZihudWxsIT10JiZudWxsIT09KG49dC5zaWduYWwpJiZ2b2lkIDAhPT1uJiZuLmFib3J0ZWQpdGhyb3cgbmV3IHUoe2NhdXNlOnQuc2lnbmFsLnJlYXNvbn0pO3lpZWxkW2UrKyxyXX19LmNhbGwodGhpcyl9LGRyb3A6ZnVuY3Rpb24odCxlPXZvaWQgMCl7cmV0dXJuIG51bGwhPWUmJmYoZSxcIm9wdGlvbnNcIiksbnVsbCE9KG51bGw9PWU/dm9pZCAwOmUuc2lnbmFsKSYmbChlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLHQ9TCh0KSxhc3luYyBmdW5jdGlvbiooKXt2YXIgbjtpZihudWxsIT1lJiZudWxsIT09KG49ZS5zaWduYWwpJiZ2b2lkIDAhPT1uJiZuLmFib3J0ZWQpdGhyb3cgbmV3IHU7Zm9yIGF3YWl0KGNvbnN0IG4gb2YgdGhpcyl7dmFyIHI7aWYobnVsbCE9ZSYmbnVsbCE9PShyPWUuc2lnbmFsKSYmdm9pZCAwIT09ciYmci5hYm9ydGVkKXRocm93IG5ldyB1O3QtLTw9MCYmKHlpZWxkIG4pfX0uY2FsbCh0aGlzKX0sZmlsdGVyOkIsZmxhdE1hcDpmdW5jdGlvbih0LGUpe2NvbnN0IG49eC5jYWxsKHRoaXMsdCxlKTtyZXR1cm4gYXN5bmMgZnVuY3Rpb24qKCl7Zm9yIGF3YWl0KGNvbnN0IHQgb2Ygbil5aWVsZCp0fS5jYWxsKHRoaXMpfSxtYXA6eCx0YWtlOmZ1bmN0aW9uKHQsZT12b2lkIDApe3JldHVybiBudWxsIT1lJiZmKGUsXCJvcHRpb25zXCIpLG51bGwhPShudWxsPT1lP3ZvaWQgMDplLnNpZ25hbCkmJmwoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSx0PUwodCksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIG47aWYobnVsbCE9ZSYmbnVsbCE9PShuPWUuc2lnbmFsKSYmdm9pZCAwIT09biYmbi5hYm9ydGVkKXRocm93IG5ldyB1O2ZvciBhd2FpdChjb25zdCBuIG9mIHRoaXMpe3ZhciByO2lmKG51bGwhPWUmJm51bGwhPT0ocj1lLnNpZ25hbCkmJnZvaWQgMCE9PXImJnIuYWJvcnRlZCl0aHJvdyBuZXcgdTtpZighKHQtLSA+MCkpcmV0dXJuO3lpZWxkIG59fS5jYWxsKHRoaXMpfSxjb21wb3NlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9ZSYmZihlLFwib3B0aW9uc1wiKSxudWxsIT0obnVsbD09ZT92b2lkIDA6ZS5zaWduYWwpJiZsKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIiksbSh0KSYmIXkodCkpdGhyb3cgbmV3IG8oXCJzdHJlYW1cIix0LFwibXVzdCBiZSB3cml0YWJsZVwiKTtjb25zdCBuPXAodGhpcyx0KTtyZXR1cm4gbnVsbCE9ZSYmZS5zaWduYWwmJmcoZS5zaWduYWwsbiksbn19LHQuZXhwb3J0cy5wcm9taXNlUmV0dXJuaW5nT3BlcmF0b3JzPXtldmVyeTphc3luYyBmdW5jdGlvbih0LGU9dm9pZCAwKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBpKFwiZm5cIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTtyZXR1cm4hYXdhaXQgQy5jYWxsKHRoaXMsKGFzeW5jKC4uLmUpPT4hYXdhaXQgdCguLi5lKSksZSl9LGZvckVhY2g6YXN5bmMgZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBpKFwiZm5cIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTtmb3IgYXdhaXQoY29uc3QgbiBvZiB4LmNhbGwodGhpcywoYXN5bmMgZnVuY3Rpb24oZSxuKXtyZXR1cm4gYXdhaXQgdChlLG4pLFR9KSxlKSk7fSxyZWR1Y2U6YXN5bmMgZnVuY3Rpb24odCxlLG4pe3ZhciBvO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGkoXCJyZWR1Y2VyXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7bnVsbCE9biYmZihuLFwib3B0aW9uc1wiKSxudWxsIT0obnVsbD09bj92b2lkIDA6bi5zaWduYWwpJiZsKG4uc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIik7bGV0IGE9YXJndW1lbnRzLmxlbmd0aD4xO2lmKG51bGwhPW4mJm51bGwhPT0obz1uLnNpZ25hbCkmJnZvaWQgMCE9PW8mJm8uYWJvcnRlZCl7Y29uc3QgdD1uZXcgdSh2b2lkIDAse2NhdXNlOm4uc2lnbmFsLnJlYXNvbn0pO3Rocm93IHRoaXMub25jZShcImVycm9yXCIsKCgpPT57fSkpLGF3YWl0IGgodGhpcy5kZXN0cm95KHQpKSx0fWNvbnN0IHM9bmV3IHIsYz1zLnNpZ25hbDtpZihudWxsIT1uJiZuLnNpZ25hbCl7Y29uc3QgdD17b25jZTohMCxbZF06dGhpc307bi5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsKCgpPT5zLmFib3J0KCkpLHQpfWxldCBwPSExO3RyeXtmb3IgYXdhaXQoY29uc3QgciBvZiB0aGlzKXt2YXIgZztpZihwPSEwLG51bGwhPW4mJm51bGwhPT0oZz1uLnNpZ25hbCkmJnZvaWQgMCE9PWcmJmcuYWJvcnRlZCl0aHJvdyBuZXcgdTthP2U9YXdhaXQgdChlLHIse3NpZ25hbDpjfSk6KGU9cixhPSEwKX1pZighcCYmIWEpdGhyb3cgbmV3IGt9ZmluYWxseXtzLmFib3J0KCl9cmV0dXJuIGV9LHRvQXJyYXk6YXN5bmMgZnVuY3Rpb24odCl7bnVsbCE9dCYmZih0LFwib3B0aW9uc1wiKSxudWxsIT0obnVsbD09dD92b2lkIDA6dC5zaWduYWwpJiZsKHQuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIik7Y29uc3QgZT1bXTtmb3IgYXdhaXQoY29uc3QgciBvZiB0aGlzKXt2YXIgbjtpZihudWxsIT10JiZudWxsIT09KG49dC5zaWduYWwpJiZ2b2lkIDAhPT1uJiZuLmFib3J0ZWQpdGhyb3cgbmV3IHUodm9pZCAwLHtjYXVzZTp0LnNpZ25hbC5yZWFzb259KTt2KGUscil9cmV0dXJuIGV9LHNvbWU6QyxmaW5kOmFzeW5jIGZ1bmN0aW9uKHQsZSl7Zm9yIGF3YWl0KGNvbnN0IG4gb2YgQi5jYWxsKHRoaXMsdCxlKSlyZXR1cm4gbn19fSw0Njc6KHQsZSxuKT0+e2NvbnN0e09iamVjdFNldFByb3RvdHlwZU9mOnJ9PW4oMTkxKTt0LmV4cG9ydHM9aTtjb25zdCBvPW4oMjEwKTtmdW5jdGlvbiBpKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaSh0KTtvLmNhbGwodGhpcyx0KX1yKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxyKGksbyksaS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7bihudWxsLHQpfX0sNzU0Oih0LGUsbik9Pntjb25zdCByPW4oNTMzKSx7QXJyYXlJc0FycmF5Om8sUHJvbWlzZTppLFN5bWJvbEFzeW5jSXRlcmF0b3I6YX09bigxOTEpLHM9big4Nikse29uY2U6dX09big3NzUpLGw9bigyMzApLGM9bigxODIpLHthZ2dyZWdhdGVUd29FcnJvcnM6Zixjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1RZUEU6ZCxFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUU6aCxFUlJfTUlTU0lOR19BUkdTOnAsRVJSX1NUUkVBTV9ERVNUUk9ZRUQ6ZyxFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRTp5fSxBYm9ydEVycm9yOm19PW4oMTQxKSx7dmFsaWRhdGVGdW5jdGlvbjp2LHZhbGlkYXRlQWJvcnRTaWduYWw6Yn09big5MDQpLHtpc0l0ZXJhYmxlOncsaXNSZWFkYWJsZTpfLGlzUmVhZGFibGVOb2RlU3RyZWFtOkUsaXNOb2RlU3RyZWFtOlMsaXNUcmFuc2Zvcm1TdHJlYW06QSxpc1dlYlN0cmVhbTpJLGlzUmVhZGFibGVTdHJlYW06VCxpc1JlYWRhYmxlRW5kZWQ6Un09bigxMzIpLHg9Z2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXJ8fG4oODc2KS5BYm9ydENvbnRyb2xsZXI7bGV0IEMsQjtmdW5jdGlvbiBrKHQsZSxuKXtsZXQgcj0hMTt0Lm9uKFwiY2xvc2VcIiwoKCk9PntyPSEwfSkpO3JldHVybntkZXN0cm95OmU9PntyfHwocj0hMCxsLmRlc3Ryb3llcih0LGV8fG5ldyBnKFwicGlwZVwiKSkpfSxjbGVhbnVwOnModCx7cmVhZGFibGU6ZSx3cml0YWJsZTpufSwodD0+e3I9IXR9KSl9fWZ1bmN0aW9uIEwodCl7aWYodyh0KSlyZXR1cm4gdDtpZihFKHQpKXJldHVybiBhc3luYyBmdW5jdGlvbioodCl7Qnx8KEI9big4NTgpKTt5aWVsZCpCLnByb3RvdHlwZVthXS5jYWxsKHQpfSh0KTt0aHJvdyBuZXcgZChcInZhbFwiLFtcIlJlYWRhYmxlXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiXSx0KX1hc3luYyBmdW5jdGlvbiBPKHQsZSxuLHtlbmQ6cn0pe2xldCBvLGE9bnVsbDtjb25zdCB1PXQ9PntpZih0JiYobz10KSxhKXtjb25zdCB0PWE7YT1udWxsLHQoKX19LGw9KCk9Pm5ldyBpKCgodCxlKT0+e28/ZShvKTphPSgpPT57bz9lKG8pOnQoKX19KSk7ZS5vbihcImRyYWluXCIsdSk7Y29uc3QgYz1zKGUse3JlYWRhYmxlOiExfSx1KTt0cnl7ZS53cml0YWJsZU5lZWREcmFpbiYmYXdhaXQgbCgpO2ZvciBhd2FpdChjb25zdCBuIG9mIHQpZS53cml0ZShuKXx8YXdhaXQgbCgpO3ImJmUuZW5kKCksYXdhaXQgbCgpLG4oKX1jYXRjaCh0KXtuKG8hPT10P2Yobyx0KTp0KX1maW5hbGx5e2MoKSxlLm9mZihcImRyYWluXCIsdSl9fWFzeW5jIGZ1bmN0aW9uIFUodCxlLG4se2VuZDpyfSl7QShlKSYmKGU9ZS53cml0YWJsZSk7Y29uc3Qgbz1lLmdldFdyaXRlcigpO3RyeXtmb3IgYXdhaXQoY29uc3QgZSBvZiB0KWF3YWl0IG8ucmVhZHksby53cml0ZShlKS5jYXRjaCgoKCk9Pnt9KSk7YXdhaXQgby5yZWFkeSxyJiZhd2FpdCBvLmNsb3NlKCksbigpfWNhdGNoKHQpe3RyeXthd2FpdCBvLmFib3J0KHQpLG4odCl9Y2F0Y2godCl7bih0KX19fWZ1bmN0aW9uIGoodCxlLGkpe2lmKDE9PT10Lmxlbmd0aCYmbyh0WzBdKSYmKHQ9dFswXSksdC5sZW5ndGg8Mil0aHJvdyBuZXcgcChcInN0cmVhbXNcIik7Y29uc3QgYT1uZXcgeCxzPWEuc2lnbmFsLHU9bnVsbD09aT92b2lkIDA6aS5zaWduYWwsbD1bXTtmdW5jdGlvbiBmKCl7TShuZXcgbSl9bGV0IGcseTtiKHUsXCJvcHRpb25zLnNpZ25hbFwiKSxudWxsPT11fHx1LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGYpO2NvbnN0IHY9W107bGV0IFIsQj0wO2Z1bmN0aW9uIGoodCl7TSh0LDA9PS0tQil9ZnVuY3Rpb24gTSh0LG4pe2lmKCF0fHxnJiZcIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCIhPT1nLmNvZGV8fChnPXQpLGd8fG4pe2Zvcig7di5sZW5ndGg7KXYuc2hpZnQoKShnKTtudWxsPT11fHx1LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGYpLGEuYWJvcnQoKSxuJiYoZ3x8bC5mb3JFYWNoKCh0PT50KCkpKSxyLm5leHRUaWNrKGUsZyx5KSl9fWZvcihsZXQgRD0wO0Q8dC5sZW5ndGg7RCsrKXtjb25zdCBGPXRbRF0sej1EPHQubGVuZ3RoLTEscT1EPjAsSD16fHwhMSE9PShudWxsPT1pP3ZvaWQgMDppLmVuZCksVj1EPT09dC5sZW5ndGgtMTtpZihTKEYpKXtpZihIKXtjb25zdHtkZXN0cm95OkcsY2xlYW51cDpKfT1rKEYseixxKTt2LnB1c2goRyksXyhGKSYmViYmbC5wdXNoKEopfWZ1bmN0aW9uIFAodCl7dCYmXCJBYm9ydEVycm9yXCIhPT10Lm5hbWUmJlwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIiE9PXQuY29kZSYmaih0KX1GLm9uKFwiZXJyb3JcIixQKSxfKEYpJiZWJiZsLnB1c2goKCgpPT57Ri5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsUCl9KSl9aWYoMD09PUQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgRil7aWYoUj1GKHtzaWduYWw6c30pLCF3KFIpKXRocm93IG5ldyBoKFwiSXRlcmFibGUsIEFzeW5jSXRlcmFibGUgb3IgU3RyZWFtXCIsXCJzb3VyY2VcIixSKX1lbHNlIFI9dyhGKXx8RShGKXx8QShGKT9GOmMuZnJvbShGKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEYpe3ZhciBXO2lmKEEoUikpUj1MKG51bGw9PT0oVz1SKXx8dm9pZCAwPT09Vz92b2lkIDA6Vy5yZWFkYWJsZSk7ZWxzZSBSPUwoUik7aWYoUj1GKFIse3NpZ25hbDpzfSkseil7aWYoIXcoUiwhMCkpdGhyb3cgbmV3IGgoXCJBc3luY0l0ZXJhYmxlXCIsYHRyYW5zZm9ybVske0QtMX1dYCxSKX1lbHNle3ZhciAkO0N8fChDPW4oNDY3KSk7Y29uc3QgWT1uZXcgQyh7b2JqZWN0TW9kZTohMH0pLEs9bnVsbD09PSgkPVIpfHx2b2lkIDA9PT0kP3ZvaWQgMDokLnRoZW47aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgSylCKyssSy5jYWxsKFIsKHQ9Pnt5PXQsbnVsbCE9dCYmWS53cml0ZSh0KSxIJiZZLmVuZCgpLHIubmV4dFRpY2soail9KSwodD0+e1kuZGVzdHJveSh0KSxyLm5leHRUaWNrKGosdCl9KSk7ZWxzZSBpZih3KFIsITApKUIrKyxPKFIsWSxqLHtlbmQ6SH0pO2Vsc2V7aWYoIVQoUikmJiFBKFIpKXRocm93IG5ldyBoKFwiQXN5bmNJdGVyYWJsZSBvciBQcm9taXNlXCIsXCJkZXN0aW5hdGlvblwiLFIpO3tjb25zdCBRPVIucmVhZGFibGV8fFI7QisrLE8oUSxZLGose2VuZDpIfSl9fVI9WTtjb25zdHtkZXN0cm95OlgsY2xlYW51cDpafT1rKFIsITEsITApO3YucHVzaChYKSxWJiZsLnB1c2goWil9fWVsc2UgaWYoUyhGKSl7aWYoRShSKSl7Qis9Mjtjb25zdCB0dD1OKFIsRixqLHtlbmQ6SH0pO18oRikmJlYmJmwucHVzaCh0dCl9ZWxzZSBpZihBKFIpfHxUKFIpKXtjb25zdCBldD1SLnJlYWRhYmxlfHxSO0IrKyxPKGV0LEYsaix7ZW5kOkh9KX1lbHNle2lmKCF3KFIpKXRocm93IG5ldyBkKFwidmFsXCIsW1wiUmVhZGFibGVcIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCIsXCJSZWFkYWJsZVN0cmVhbVwiLFwiVHJhbnNmb3JtU3RyZWFtXCJdLFIpO0IrKyxPKFIsRixqLHtlbmQ6SH0pfVI9Rn1lbHNlIGlmKEkoRikpe2lmKEUoUikpQisrLFUoTChSKSxGLGose2VuZDpIfSk7ZWxzZSBpZihUKFIpfHx3KFIpKUIrKyxVKFIsRixqLHtlbmQ6SH0pO2Vsc2V7aWYoIUEoUikpdGhyb3cgbmV3IGQoXCJ2YWxcIixbXCJSZWFkYWJsZVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIixcIlJlYWRhYmxlU3RyZWFtXCIsXCJUcmFuc2Zvcm1TdHJlYW1cIl0sUik7QisrLFUoUi5yZWFkYWJsZSxGLGose2VuZDpIfSl9Uj1GfWVsc2UgUj1jLmZyb20oRil9cmV0dXJuKG51bGwhPXMmJnMuYWJvcnRlZHx8bnVsbCE9dSYmdS5hYm9ydGVkKSYmci5uZXh0VGljayhmKSxSfWZ1bmN0aW9uIE4odCxlLG4se2VuZDpvfSl7bGV0IGk9ITE7aWYoZS5vbihcImNsb3NlXCIsKCgpPT57aXx8bihuZXcgeSl9KSksdC5waXBlKGUse2VuZDohMX0pLG8pe2Z1bmN0aW9uIGEoKXtpPSEwLGUuZW5kKCl9Uih0KT9yLm5leHRUaWNrKGEpOnQub25jZShcImVuZFwiLGEpfWVsc2UgbigpO3JldHVybiBzKHQse3JlYWRhYmxlOiEwLHdyaXRhYmxlOiExfSwoZT0+e2NvbnN0IHI9dC5fcmVhZGFibGVTdGF0ZTtlJiZcIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCI9PT1lLmNvZGUmJnImJnIuZW5kZWQmJiFyLmVycm9yZWQmJiFyLmVycm9yRW1pdHRlZD90Lm9uY2UoXCJlbmRcIixuKS5vbmNlKFwiZXJyb3JcIixuKTpuKGUpfSkpLHMoZSx7cmVhZGFibGU6ITEsd3JpdGFibGU6ITB9LG4pfXQuZXhwb3J0cz17cGlwZWxpbmVJbXBsOmoscGlwZWxpbmU6ZnVuY3Rpb24oLi4udCl7cmV0dXJuIGoodCx1KGZ1bmN0aW9uKHQpe3JldHVybiB2KHRbdC5sZW5ndGgtMV0sXCJzdHJlYW1zW3N0cmVhbS5sZW5ndGggLSAxXVwiKSx0LnBvcCgpfSh0KSkpfX19LDg1ODoodCxlLG4pPT57Y29uc3Qgcj1uKDUzMykse0FycmF5UHJvdG90eXBlSW5kZXhPZjpvLE51bWJlcklzSW50ZWdlcjppLE51bWJlcklzTmFOOmEsTnVtYmVyUGFyc2VJbnQ6cyxPYmplY3REZWZpbmVQcm9wZXJ0aWVzOnUsT2JqZWN0S2V5czpsLE9iamVjdFNldFByb3RvdHlwZU9mOmMsUHJvbWlzZTpmLFNhZmVTZXQ6ZCxTeW1ib2xBc3luY0l0ZXJhdG9yOmgsU3ltYm9sOnB9PW4oMTkxKTt0LmV4cG9ydHM9VyxXLlJlYWRhYmxlU3RhdGU9UDtjb25zdHtFdmVudEVtaXR0ZXI6Z309big0NjUpLHtTdHJlYW06eSxwcmVwZW5kTGlzdGVuZXI6bX09bigyMDApLHtCdWZmZXI6dn09big0ODUpLHthZGRBYm9ydFNpZ25hbDpifT1uKDM3NCksdz1uKDg2KTtsZXQgXz1uKDc3NSkuZGVidWdsb2coXCJzdHJlYW1cIiwodD0+e189dH0pKTtjb25zdCBFPW4oNjE2KSxTPW4oMjMwKSx7Z2V0SGlnaFdhdGVyTWFyazpBLGdldERlZmF1bHRIaWdoV2F0ZXJNYXJrOkl9PW4oNDk4KSx7YWdncmVnYXRlVHdvRXJyb3JzOlQsY29kZXM6e0VSUl9JTlZBTElEX0FSR19UWVBFOlIsRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQ6eCxFUlJfT1VUX09GX1JBTkdFOkMsRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRjpCLEVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQ6a319PW4oMTQxKSx7dmFsaWRhdGVPYmplY3Q6TH09big5MDQpLE89cChcImtQYXVzZWRcIikse1N0cmluZ0RlY29kZXI6VX09big0NjQpLGo9big5MTMpO2MoVy5wcm90b3R5cGUseS5wcm90b3R5cGUpLGMoVyx5KTtjb25zdCBOPSgpPT57fSx7ZXJyb3JPckRlc3Ryb3k6TX09UztmdW5jdGlvbiBQKHQsZSxyKXtcImJvb2xlYW5cIiE9dHlwZW9mIHImJihyPWUgaW5zdGFuY2VvZiBuKDE4MikpLHRoaXMub2JqZWN0TW9kZT0hKCF0fHwhdC5vYmplY3RNb2RlKSxyJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISghdHx8IXQucmVhZGFibGVPYmplY3RNb2RlKSksdGhpcy5oaWdoV2F0ZXJNYXJrPXQ/QSh0aGlzLHQsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIixyKTpJKCExKSx0aGlzLmJ1ZmZlcj1uZXcgRSx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9W10sdGhpcy5mbG93aW5nPW51bGwsdGhpcy5lbmRlZD0hMSx0aGlzLmVuZEVtaXR0ZWQ9ITEsdGhpcy5yZWFkaW5nPSExLHRoaXMuY29uc3RydWN0ZWQ9ITAsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpc1tPXT1udWxsLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuZW1pdENsb3NlPSF0fHwhMSE9PXQuZW1pdENsb3NlLHRoaXMuYXV0b0Rlc3Ryb3k9IXR8fCExIT09dC5hdXRvRGVzdHJveSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmVycm9yZWQ9bnVsbCx0aGlzLmNsb3NlZD0hMSx0aGlzLmNsb3NlRW1pdHRlZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz10JiZ0LmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5hd2FpdERyYWluV3JpdGVycz1udWxsLHRoaXMubXVsdGlBd2FpdERyYWluPSExLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kYXRhRW1pdHRlZD0hMSx0aGlzLmRlY29kZXI9bnVsbCx0aGlzLmVuY29kaW5nPW51bGwsdCYmdC5lbmNvZGluZyYmKHRoaXMuZGVjb2Rlcj1uZXcgVSh0LmVuY29kaW5nKSx0aGlzLmVuY29kaW5nPXQuZW5jb2RpbmcpfWZ1bmN0aW9uIFcodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgVykpcmV0dXJuIG5ldyBXKHQpO2NvbnN0IGU9dGhpcyBpbnN0YW5jZW9mIG4oMTgyKTt0aGlzLl9yZWFkYWJsZVN0YXRlPW5ldyBQKHQsdGhpcyxlKSx0JiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWFkJiYodGhpcy5fcmVhZD10LnJlYWQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9dC5kZXN0cm95KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnN0cnVjdCYmKHRoaXMuX2NvbnN0cnVjdD10LmNvbnN0cnVjdCksdC5zaWduYWwmJiFlJiZiKHQuc2lnbmFsLHRoaXMpKSx5LmNhbGwodGhpcyx0KSxTLmNvbnN0cnVjdCh0aGlzLCgoKT0+e3RoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlJiZIKHRoaXMsdGhpcy5fcmVhZGFibGVTdGF0ZSl9KSl9ZnVuY3Rpb24gJCh0LGUsbixyKXtfKFwicmVhZGFibGVBZGRDaHVua1wiLGUpO2NvbnN0IG89dC5fcmVhZGFibGVTdGF0ZTtsZXQgaTtpZihvLm9iamVjdE1vZGV8fChcInN0cmluZ1wiPT10eXBlb2YgZT8obj1ufHxvLmRlZmF1bHRFbmNvZGluZyxvLmVuY29kaW5nIT09biYmKHImJm8uZW5jb2Rpbmc/ZT12LmZyb20oZSxuKS50b1N0cmluZyhvLmVuY29kaW5nKTooZT12LmZyb20oZSxuKSxuPVwiXCIpKSk6ZSBpbnN0YW5jZW9mIHY/bj1cIlwiOnkuX2lzVWludDhBcnJheShlKT8oZT15Ll91aW50OEFycmF5VG9CdWZmZXIoZSksbj1cIlwiKTpudWxsIT1lJiYoaT1uZXcgUihcImNodW5rXCIsW1wic3RyaW5nXCIsXCJCdWZmZXJcIixcIlVpbnQ4QXJyYXlcIl0sZSkpKSxpKU0odCxpKTtlbHNlIGlmKG51bGw9PT1lKW8ucmVhZGluZz0hMSxmdW5jdGlvbih0LGUpe2lmKF8oXCJvbkVvZkNodW5rXCIpLGUuZW5kZWQpcmV0dXJuO2lmKGUuZGVjb2Rlcil7Y29uc3QgdD1lLmRlY29kZXIuZW5kKCk7dCYmdC5sZW5ndGgmJihlLmJ1ZmZlci5wdXNoKHQpLGUubGVuZ3RoKz1lLm9iamVjdE1vZGU/MTp0Lmxlbmd0aCl9ZS5lbmRlZD0hMCxlLnN5bmM/eih0KTooZS5uZWVkUmVhZGFibGU9ITEsZS5lbWl0dGVkUmVhZGFibGU9ITAscSh0KSl9KHQsbyk7ZWxzZSBpZihvLm9iamVjdE1vZGV8fGUmJmUubGVuZ3RoPjApaWYocilpZihvLmVuZEVtaXR0ZWQpTSh0LG5ldyBrKTtlbHNle2lmKG8uZGVzdHJveWVkfHxvLmVycm9yZWQpcmV0dXJuITE7RCh0LG8sZSwhMCl9ZWxzZSBpZihvLmVuZGVkKU0odCxuZXcgQik7ZWxzZXtpZihvLmRlc3Ryb3llZHx8by5lcnJvcmVkKXJldHVybiExO28ucmVhZGluZz0hMSxvLmRlY29kZXImJiFuPyhlPW8uZGVjb2Rlci53cml0ZShlKSxvLm9iamVjdE1vZGV8fDAhPT1lLmxlbmd0aD9EKHQsbyxlLCExKTpIKHQsbykpOkQodCxvLGUsITEpfWVsc2Ugcnx8KG8ucmVhZGluZz0hMSxIKHQsbykpO3JldHVybiFvLmVuZGVkJiYoby5sZW5ndGg8by5oaWdoV2F0ZXJNYXJrfHwwPT09by5sZW5ndGgpfWZ1bmN0aW9uIEQodCxlLG4scil7ZS5mbG93aW5nJiYwPT09ZS5sZW5ndGgmJiFlLnN5bmMmJnQubGlzdGVuZXJDb3VudChcImRhdGFcIik+MD8oZS5tdWx0aUF3YWl0RHJhaW4/ZS5hd2FpdERyYWluV3JpdGVycy5jbGVhcigpOmUuYXdhaXREcmFpbldyaXRlcnM9bnVsbCxlLmRhdGFFbWl0dGVkPSEwLHQuZW1pdChcImRhdGFcIixuKSk6KGUubGVuZ3RoKz1lLm9iamVjdE1vZGU/MTpuLmxlbmd0aCxyP2UuYnVmZmVyLnVuc2hpZnQobik6ZS5idWZmZXIucHVzaChuKSxlLm5lZWRSZWFkYWJsZSYmeih0KSksSCh0LGUpfVcucHJvdG90eXBlLmRlc3Ryb3k9Uy5kZXN0cm95LFcucHJvdG90eXBlLl91bmRlc3Ryb3k9Uy51bmRlc3Ryb3ksVy5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24odCxlKXtlKHQpfSxXLnByb3RvdHlwZVtnLmNhcHR1cmVSZWplY3Rpb25TeW1ib2xdPWZ1bmN0aW9uKHQpe3RoaXMuZGVzdHJveSh0KX0sVy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3JldHVybiAkKHRoaXMsdCxlLCExKX0sVy5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbih0LGUpe3JldHVybiAkKHRoaXMsdCxlLCEwKX0sVy5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuITA9PT10W09dfHwhMT09PXQuZmxvd2luZ30sVy5wcm90b3R5cGUuc2V0RW5jb2Rpbmc9ZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgVSh0KTt0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXI9ZSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nPXRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlci5lbmNvZGluZztjb25zdCBuPXRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyO2xldCByPVwiXCI7Zm9yKGNvbnN0IHQgb2YgbilyKz1lLndyaXRlKHQpO3JldHVybiBuLmNsZWFyKCksXCJcIiE9PXImJm4ucHVzaChyKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aD1yLmxlbmd0aCx0aGlzfTtmdW5jdGlvbiBGKHQsZSl7cmV0dXJuIHQ8PTB8fDA9PT1lLmxlbmd0aCYmZS5lbmRlZD8wOmUub2JqZWN0TW9kZT8xOmEodCk/ZS5mbG93aW5nJiZlLmxlbmd0aD9lLmJ1ZmZlci5maXJzdCgpLmxlbmd0aDplLmxlbmd0aDp0PD1lLmxlbmd0aD90OmUuZW5kZWQ/ZS5sZW5ndGg6MH1mdW5jdGlvbiB6KHQpe2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZTtfKFwiZW1pdFJlYWRhYmxlXCIsZS5uZWVkUmVhZGFibGUsZS5lbWl0dGVkUmVhZGFibGUpLGUubmVlZFJlYWRhYmxlPSExLGUuZW1pdHRlZFJlYWRhYmxlfHwoXyhcImVtaXRSZWFkYWJsZVwiLGUuZmxvd2luZyksZS5lbWl0dGVkUmVhZGFibGU9ITAsci5uZXh0VGljayhxLHQpKX1mdW5jdGlvbiBxKHQpe2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZTtfKFwiZW1pdFJlYWRhYmxlX1wiLGUuZGVzdHJveWVkLGUubGVuZ3RoLGUuZW5kZWQpLGUuZGVzdHJveWVkfHxlLmVycm9yZWR8fCFlLmxlbmd0aCYmIWUuZW5kZWR8fCh0LmVtaXQoXCJyZWFkYWJsZVwiKSxlLmVtaXR0ZWRSZWFkYWJsZT0hMSksZS5uZWVkUmVhZGFibGU9IWUuZmxvd2luZyYmIWUuZW5kZWQmJmUubGVuZ3RoPD1lLmhpZ2hXYXRlck1hcmssSyh0KX1mdW5jdGlvbiBIKHQsZSl7IWUucmVhZGluZ01vcmUmJmUuY29uc3RydWN0ZWQmJihlLnJlYWRpbmdNb3JlPSEwLHIubmV4dFRpY2soVix0LGUpKX1mdW5jdGlvbiBWKHQsZSl7Zm9yKDshZS5yZWFkaW5nJiYhZS5lbmRlZCYmKGUubGVuZ3RoPGUuaGlnaFdhdGVyTWFya3x8ZS5mbG93aW5nJiYwPT09ZS5sZW5ndGgpOyl7Y29uc3Qgbj1lLmxlbmd0aDtpZihfKFwibWF5YmVSZWFkTW9yZSByZWFkIDBcIiksdC5yZWFkKDApLG49PT1lLmxlbmd0aClicmVha31lLnJlYWRpbmdNb3JlPSExfWZ1bmN0aW9uIEcodCl7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlO2UucmVhZGFibGVMaXN0ZW5pbmc9dC5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCxlLnJlc3VtZVNjaGVkdWxlZCYmITE9PT1lW09dP2UuZmxvd2luZz0hMDp0Lmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpPjA/dC5yZXN1bWUoKTplLnJlYWRhYmxlTGlzdGVuaW5nfHwoZS5mbG93aW5nPW51bGwpfWZ1bmN0aW9uIEoodCl7XyhcInJlYWRhYmxlIG5leHR0aWNrIHJlYWQgMFwiKSx0LnJlYWQoMCl9ZnVuY3Rpb24gWSh0LGUpe18oXCJyZXN1bWVcIixlLnJlYWRpbmcpLGUucmVhZGluZ3x8dC5yZWFkKDApLGUucmVzdW1lU2NoZWR1bGVkPSExLHQuZW1pdChcInJlc3VtZVwiKSxLKHQpLGUuZmxvd2luZyYmIWUucmVhZGluZyYmdC5yZWFkKDApfWZ1bmN0aW9uIEsodCl7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlO2ZvcihfKFwiZmxvd1wiLGUuZmxvd2luZyk7ZS5mbG93aW5nJiZudWxsIT09dC5yZWFkKCk7KTt9ZnVuY3Rpb24gWCh0LGUpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIHQucmVhZCYmKHQ9Vy53cmFwKHQse29iamVjdE1vZGU6ITB9KSk7Y29uc3Qgbj1hc3luYyBmdW5jdGlvbioodCxlKXtsZXQgbixyPU47ZnVuY3Rpb24gbyhlKXt0aGlzPT09dD8ocigpLHI9Tik6cj1lfXQub24oXCJyZWFkYWJsZVwiLG8pO2NvbnN0IGk9dyh0LHt3cml0YWJsZTohMX0sKHQ9PntuPXQ/VChuLHQpOm51bGwscigpLHI9Tn0pKTt0cnl7Zm9yKDs7KXtjb25zdCBlPXQuZGVzdHJveWVkP251bGw6dC5yZWFkKCk7aWYobnVsbCE9PWUpeWllbGQgZTtlbHNle2lmKG4pdGhyb3cgbjtpZihudWxsPT09bilyZXR1cm47YXdhaXQgbmV3IGYobyl9fX1jYXRjaCh0KXt0aHJvdyBuPVQobix0KSxufWZpbmFsbHl7IW4mJiExPT09KG51bGw9PWU/dm9pZCAwOmUuZGVzdHJveU9uUmV0dXJuKXx8dm9pZCAwIT09biYmIXQuX3JlYWRhYmxlU3RhdGUuYXV0b0Rlc3Ryb3k/KHQub2ZmKFwicmVhZGFibGVcIixvKSxpKCkpOlMuZGVzdHJveWVyKHQsbnVsbCl9fSh0LGUpO3JldHVybiBuLnN0cmVhbT10LG59ZnVuY3Rpb24gWih0LGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gbnVsbDtsZXQgbjtyZXR1cm4gZS5vYmplY3RNb2RlP249ZS5idWZmZXIuc2hpZnQoKTohdHx8dD49ZS5sZW5ndGg/KG49ZS5kZWNvZGVyP2UuYnVmZmVyLmpvaW4oXCJcIik6MT09PWUuYnVmZmVyLmxlbmd0aD9lLmJ1ZmZlci5maXJzdCgpOmUuYnVmZmVyLmNvbmNhdChlLmxlbmd0aCksZS5idWZmZXIuY2xlYXIoKSk6bj1lLmJ1ZmZlci5jb25zdW1lKHQsZS5kZWNvZGVyKSxufWZ1bmN0aW9uIFEodCl7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlO18oXCJlbmRSZWFkYWJsZVwiLGUuZW5kRW1pdHRlZCksZS5lbmRFbWl0dGVkfHwoZS5lbmRlZD0hMCxyLm5leHRUaWNrKHR0LGUsdCkpfWZ1bmN0aW9uIHR0KHQsZSl7aWYoXyhcImVuZFJlYWRhYmxlTlRcIix0LmVuZEVtaXR0ZWQsdC5sZW5ndGgpLCF0LmVycm9yZWQmJiF0LmNsb3NlRW1pdHRlZCYmIXQuZW5kRW1pdHRlZCYmMD09PXQubGVuZ3RoKWlmKHQuZW5kRW1pdHRlZD0hMCxlLmVtaXQoXCJlbmRcIiksZS53cml0YWJsZSYmITE9PT1lLmFsbG93SGFsZk9wZW4pci5uZXh0VGljayhldCxlKTtlbHNlIGlmKHQuYXV0b0Rlc3Ryb3kpe2NvbnN0IHQ9ZS5fd3JpdGFibGVTdGF0ZTsoIXR8fHQuYXV0b0Rlc3Ryb3kmJih0LmZpbmlzaGVkfHwhMT09PXQud3JpdGFibGUpKSYmZS5kZXN0cm95KCl9fWZ1bmN0aW9uIGV0KHQpe3Qud3JpdGFibGUmJiF0LndyaXRhYmxlRW5kZWQmJiF0LmRlc3Ryb3llZCYmdC5lbmQoKX1sZXQgbnQ7ZnVuY3Rpb24gcnQoKXtyZXR1cm4gdm9pZCAwPT09bnQmJihudD17fSksbnR9Vy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtfKFwicmVhZFwiLHQpLHZvaWQgMD09PXQ/dD1OYU46aSh0KXx8KHQ9cyh0LDEwKSk7Y29uc3QgZT10aGlzLl9yZWFkYWJsZVN0YXRlLG49dDtpZih0PmUuaGlnaFdhdGVyTWFyayYmKGUuaGlnaFdhdGVyTWFyaz1mdW5jdGlvbih0KXtpZih0PjEwNzM3NDE4MjQpdGhyb3cgbmV3IEMoXCJzaXplXCIsXCI8PSAxR2lCXCIsdCk7cmV0dXJuIHQtLSx0fD10Pj4+MSx0fD10Pj4+Mix0fD10Pj4+NCx0fD10Pj4+OCx0fD10Pj4+MTYsKyt0fSh0KSksMCE9PXQmJihlLmVtaXR0ZWRSZWFkYWJsZT0hMSksMD09PXQmJmUubmVlZFJlYWRhYmxlJiYoKDAhPT1lLmhpZ2hXYXRlck1hcms/ZS5sZW5ndGg+PWUuaGlnaFdhdGVyTWFyazplLmxlbmd0aD4wKXx8ZS5lbmRlZCkpcmV0dXJuIF8oXCJyZWFkOiBlbWl0UmVhZGFibGVcIixlLmxlbmd0aCxlLmVuZGVkKSwwPT09ZS5sZW5ndGgmJmUuZW5kZWQ/USh0aGlzKTp6KHRoaXMpLG51bGw7aWYoMD09PSh0PUYodCxlKSkmJmUuZW5kZWQpcmV0dXJuIDA9PT1lLmxlbmd0aCYmUSh0aGlzKSxudWxsO2xldCByLG89ZS5uZWVkUmVhZGFibGU7aWYoXyhcIm5lZWQgcmVhZGFibGVcIixvKSwoMD09PWUubGVuZ3RofHxlLmxlbmd0aC10PGUuaGlnaFdhdGVyTWFyaykmJihvPSEwLF8oXCJsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFya1wiLG8pKSxlLmVuZGVkfHxlLnJlYWRpbmd8fGUuZGVzdHJveWVkfHxlLmVycm9yZWR8fCFlLmNvbnN0cnVjdGVkKW89ITEsXyhcInJlYWRpbmcsIGVuZGVkIG9yIGNvbnN0cnVjdGluZ1wiLG8pO2Vsc2UgaWYobyl7XyhcImRvIHJlYWRcIiksZS5yZWFkaW5nPSEwLGUuc3luYz0hMCwwPT09ZS5sZW5ndGgmJihlLm5lZWRSZWFkYWJsZT0hMCk7dHJ5e3RoaXMuX3JlYWQoZS5oaWdoV2F0ZXJNYXJrKX1jYXRjaCh0KXtNKHRoaXMsdCl9ZS5zeW5jPSExLGUucmVhZGluZ3x8KHQ9RihuLGUpKX1yZXR1cm4gcj10PjA/Wih0LGUpOm51bGwsbnVsbD09PXI/KGUubmVlZFJlYWRhYmxlPWUubGVuZ3RoPD1lLmhpZ2hXYXRlck1hcmssdD0wKTooZS5sZW5ndGgtPXQsZS5tdWx0aUF3YWl0RHJhaW4/ZS5hd2FpdERyYWluV3JpdGVycy5jbGVhcigpOmUuYXdhaXREcmFpbldyaXRlcnM9bnVsbCksMD09PWUubGVuZ3RoJiYoZS5lbmRlZHx8KGUubmVlZFJlYWRhYmxlPSEwKSxuIT09dCYmZS5lbmRlZCYmUSh0aGlzKSksbnVsbD09PXJ8fGUuZXJyb3JFbWl0dGVkfHxlLmNsb3NlRW1pdHRlZHx8KGUuZGF0YUVtaXR0ZWQ9ITAsdGhpcy5lbWl0KFwiZGF0YVwiLHIpKSxyfSxXLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbih0KXt0aHJvdyBuZXcgeChcIl9yZWFkKClcIil9LFcucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMsbz10aGlzLl9yZWFkYWJsZVN0YXRlOzE9PT1vLnBpcGVzLmxlbmd0aCYmKG8ubXVsdGlBd2FpdERyYWlufHwoby5tdWx0aUF3YWl0RHJhaW49ITAsby5hd2FpdERyYWluV3JpdGVycz1uZXcgZChvLmF3YWl0RHJhaW5Xcml0ZXJzP1tvLmF3YWl0RHJhaW5Xcml0ZXJzXTpbXSkpKSxvLnBpcGVzLnB1c2godCksXyhcInBpcGUgY291bnQ9JWQgb3B0cz0lalwiLG8ucGlwZXMubGVuZ3RoLGUpO2NvbnN0IGk9KCFlfHwhMSE9PWUuZW5kKSYmdCE9PXIuc3Rkb3V0JiZ0IT09ci5zdGRlcnI/czp5O2Z1bmN0aW9uIGEoZSxyKXtfKFwib251bnBpcGVcIiksZT09PW4mJnImJiExPT09ci5oYXNVbnBpcGVkJiYoci5oYXNVbnBpcGVkPSEwLGZ1bmN0aW9uKCl7XyhcImNsZWFudXBcIiksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIscCksdC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGcpLHUmJnQucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLHUpO3QucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGgpLHQucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIixhKSxuLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIscyksbi5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHkpLG4ucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsZiksbD0hMCx1JiZvLmF3YWl0RHJhaW5Xcml0ZXJzJiYoIXQuX3dyaXRhYmxlU3RhdGV8fHQuX3dyaXRhYmxlU3RhdGUubmVlZERyYWluKSYmdSgpfSgpKX1mdW5jdGlvbiBzKCl7XyhcIm9uZW5kXCIpLHQuZW5kKCl9bGV0IHU7by5lbmRFbWl0dGVkP3IubmV4dFRpY2soaSk6bi5vbmNlKFwiZW5kXCIsaSksdC5vbihcInVucGlwZVwiLGEpO2xldCBsPSExO2Z1bmN0aW9uIGMoKXtsfHwoMT09PW8ucGlwZXMubGVuZ3RoJiZvLnBpcGVzWzBdPT09dD8oXyhcImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZVwiLDApLG8uYXdhaXREcmFpbldyaXRlcnM9dCxvLm11bHRpQXdhaXREcmFpbj0hMSk6by5waXBlcy5sZW5ndGg+MSYmby5waXBlcy5pbmNsdWRlcyh0KSYmKF8oXCJmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2VcIixvLmF3YWl0RHJhaW5Xcml0ZXJzLnNpemUpLG8uYXdhaXREcmFpbldyaXRlcnMuYWRkKHQpKSxuLnBhdXNlKCkpLHV8fCh1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3Qgbj10Ll9yZWFkYWJsZVN0YXRlO24uYXdhaXREcmFpbldyaXRlcnM9PT1lPyhfKFwicGlwZU9uRHJhaW5cIiwxKSxuLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwpOm4ubXVsdGlBd2FpdERyYWluJiYoXyhcInBpcGVPbkRyYWluXCIsbi5hd2FpdERyYWluV3JpdGVycy5zaXplKSxuLmF3YWl0RHJhaW5Xcml0ZXJzLmRlbGV0ZShlKSksbi5hd2FpdERyYWluV3JpdGVycyYmMCE9PW4uYXdhaXREcmFpbldyaXRlcnMuc2l6ZXx8IXQubGlzdGVuZXJDb3VudChcImRhdGFcIil8fHQucmVzdW1lKCl9fShuLHQpLHQub24oXCJkcmFpblwiLHUpKX1mdW5jdGlvbiBmKGUpe18oXCJvbmRhdGFcIik7Y29uc3Qgbj10LndyaXRlKGUpO18oXCJkZXN0LndyaXRlXCIsbiksITE9PT1uJiZjKCl9ZnVuY3Rpb24gaChlKXtpZihfKFwib25lcnJvclwiLGUpLHkoKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixoKSwwPT09dC5saXN0ZW5lckNvdW50KFwiZXJyb3JcIikpe2NvbnN0IG49dC5fd3JpdGFibGVTdGF0ZXx8dC5fcmVhZGFibGVTdGF0ZTtuJiYhbi5lcnJvckVtaXR0ZWQ/TSh0LGUpOnQuZW1pdChcImVycm9yXCIsZSl9fWZ1bmN0aW9uIHAoKXt0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZykseSgpfWZ1bmN0aW9uIGcoKXtfKFwib25maW5pc2hcIiksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIscCkseSgpfWZ1bmN0aW9uIHkoKXtfKFwidW5waXBlXCIpLG4udW5waXBlKHQpfXJldHVybiBuLm9uKFwiZGF0YVwiLGYpLG0odCxcImVycm9yXCIsaCksdC5vbmNlKFwiY2xvc2VcIixwKSx0Lm9uY2UoXCJmaW5pc2hcIixnKSx0LmVtaXQoXCJwaXBlXCIsbiksITA9PT10LndyaXRhYmxlTmVlZERyYWluP28uZmxvd2luZyYmYygpOm8uZmxvd2luZ3x8KF8oXCJwaXBlIHJlc3VtZVwiKSxuLnJlc3VtZSgpKSx0fSxXLnByb3RvdHlwZS51bnBpcGU9ZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLl9yZWFkYWJsZVN0YXRlO2lmKDA9PT1lLnBpcGVzLmxlbmd0aClyZXR1cm4gdGhpcztpZighdCl7Y29uc3QgdD1lLnBpcGVzO2UucGlwZXM9W10sdGhpcy5wYXVzZSgpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0uZW1pdChcInVucGlwZVwiLHRoaXMse2hhc1VucGlwZWQ6ITF9KTtyZXR1cm4gdGhpc31jb25zdCBuPW8oZS5waXBlcyx0KTtyZXR1cm4tMT09PW58fChlLnBpcGVzLnNwbGljZShuLDEpLDA9PT1lLnBpcGVzLmxlbmd0aCYmdGhpcy5wYXVzZSgpLHQuZW1pdChcInVucGlwZVwiLHRoaXMse2hhc1VucGlwZWQ6ITF9KSksdGhpc30sVy5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXtjb25zdCBuPXkucHJvdG90eXBlLm9uLmNhbGwodGhpcyx0LGUpLG89dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm5cImRhdGFcIj09PXQ/KG8ucmVhZGFibGVMaXN0ZW5pbmc9dGhpcy5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCwhMSE9PW8uZmxvd2luZyYmdGhpcy5yZXN1bWUoKSk6XCJyZWFkYWJsZVwiPT09dCYmKG8uZW5kRW1pdHRlZHx8by5yZWFkYWJsZUxpc3RlbmluZ3x8KG8ucmVhZGFibGVMaXN0ZW5pbmc9by5uZWVkUmVhZGFibGU9ITAsby5mbG93aW5nPSExLG8uZW1pdHRlZFJlYWRhYmxlPSExLF8oXCJvbiByZWFkYWJsZVwiLG8ubGVuZ3RoLG8ucmVhZGluZyksby5sZW5ndGg/eih0aGlzKTpvLnJlYWRpbmd8fHIubmV4dFRpY2soSix0aGlzKSkpLG59LFcucHJvdG90eXBlLmFkZExpc3RlbmVyPVcucHJvdG90eXBlLm9uLFcucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj15LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsdCxlKTtyZXR1cm5cInJlYWRhYmxlXCI9PT10JiZyLm5leHRUaWNrKEcsdGhpcyksbn0sVy5wcm90b3R5cGUub2ZmPVcucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLFcucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXtjb25zdCBlPXkucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuXCJyZWFkYWJsZVwiIT09dCYmdm9pZCAwIT09dHx8ci5uZXh0VGljayhHLHRoaXMpLGV9LFcucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gdC5mbG93aW5nfHwoXyhcInJlc3VtZVwiKSx0LmZsb3dpbmc9IXQucmVhZGFibGVMaXN0ZW5pbmcsZnVuY3Rpb24odCxlKXtlLnJlc3VtZVNjaGVkdWxlZHx8KGUucmVzdW1lU2NoZWR1bGVkPSEwLHIubmV4dFRpY2soWSx0LGUpKX0odGhpcyx0KSksdFtPXT0hMSx0aGlzfSxXLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiBfKFwiY2FsbCBwYXVzZSBmbG93aW5nPSVqXCIsdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSwhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmKF8oXCJwYXVzZVwiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ITEsdGhpcy5lbWl0KFwicGF1c2VcIikpLHRoaXMuX3JlYWRhYmxlU3RhdGVbT109ITAsdGhpc30sVy5wcm90b3R5cGUud3JhcD1mdW5jdGlvbih0KXtsZXQgZT0hMTt0Lm9uKFwiZGF0YVwiLChuPT57IXRoaXMucHVzaChuKSYmdC5wYXVzZSYmKGU9ITAsdC5wYXVzZSgpKX0pKSx0Lm9uKFwiZW5kXCIsKCgpPT57dGhpcy5wdXNoKG51bGwpfSkpLHQub24oXCJlcnJvclwiLCh0PT57TSh0aGlzLHQpfSkpLHQub24oXCJjbG9zZVwiLCgoKT0+e3RoaXMuZGVzdHJveSgpfSkpLHQub24oXCJkZXN0cm95XCIsKCgpPT57dGhpcy5kZXN0cm95KCl9KSksdGhpcy5fcmVhZD0oKT0+e2UmJnQucmVzdW1lJiYoZT0hMSx0LnJlc3VtZSgpKX07Y29uc3Qgbj1sKHQpO2ZvcihsZXQgZT0xO2U8bi5sZW5ndGg7ZSsrKXtjb25zdCByPW5bZV07dm9pZCAwPT09dGhpc1tyXSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtyXSYmKHRoaXNbcl09dFtyXS5iaW5kKHQpKX1yZXR1cm4gdGhpc30sVy5wcm90b3R5cGVbaF09ZnVuY3Rpb24oKXtyZXR1cm4gWCh0aGlzKX0sVy5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJkwodCxcIm9wdGlvbnNcIiksWCh0aGlzLHQpfSx1KFcucHJvdG90eXBlLHtyZWFkYWJsZTp7X19wcm90b19fOm51bGwsZ2V0KCl7Y29uc3QgdD10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiEoIXR8fCExPT09dC5yZWFkYWJsZXx8dC5kZXN0cm95ZWR8fHQuZXJyb3JFbWl0dGVkfHx0LmVuZEVtaXR0ZWQpfSxzZXQodCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGU9ISF0KX19LHJlYWRhYmxlRGlkUmVhZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kYXRhRW1pdHRlZH19LHJlYWRhYmxlQWJvcnRlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCExPT09dGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZXx8IXRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiYhdGhpcy5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkfHx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQpfX0scmVhZGFibGVIaWdoV2F0ZXJNYXJrOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSxyZWFkYWJsZUJ1ZmZlcjp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXJ9fSxyZWFkYWJsZUZsb3dpbmc6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9dCl9fSxyZWFkYWJsZUxlbmd0aDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGh9fSxyZWFkYWJsZU9iamVjdE1vZGU6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuISF0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGV9fSxyZWFkYWJsZUVuY29kaW5nOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc6bnVsbH19LGVycm9yZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkOm51bGx9fSxjbG9zZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiEhdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5jbG9zZWR9fSxkZXN0cm95ZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuISF0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0KHQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD10KX19LHJlYWRhYmxlRW5kZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuISF0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWR9fX0pLHUoUC5wcm90b3R5cGUse3BpcGVzQ291bnQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLnBpcGVzLmxlbmd0aH19LHBhdXNlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuITEhPT10aGlzW09dfSxzZXQodCl7dGhpc1tPXT0hIXR9fX0pLFcuX2Zyb21MaXN0PVosVy5mcm9tPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGooVyx0LGUpfSxXLmZyb21XZWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcnQoKS5uZXdTdHJlYW1SZWFkYWJsZUZyb21SZWFkYWJsZVN0cmVhbSh0LGUpfSxXLnRvV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJ0KCkubmV3UmVhZGFibGVTdHJlYW1Gcm9tU3RyZWFtUmVhZGFibGUodCxlKX0sVy53cmFwPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtyZXR1cm4gbmV3IFcoe29iamVjdE1vZGU6bnVsbD09PShuPW51bGwhPT0ocj10LnJlYWRhYmxlT2JqZWN0TW9kZSkmJnZvaWQgMCE9PXI/cjp0Lm9iamVjdE1vZGUpfHx2b2lkIDA9PT1ufHxuLC4uLmUsZGVzdHJveShlLG4pe1MuZGVzdHJveWVyKHQsZSksbihlKX19KS53cmFwKHQpfX0sNDk4Oih0LGUsbik9Pntjb25zdHtNYXRoRmxvb3I6cixOdW1iZXJJc0ludGVnZXI6b309bigxOTEpLHtFUlJfSU5WQUxJRF9BUkdfVkFMVUU6aX09bigxNDEpLmNvZGVzO2Z1bmN0aW9uIGEodCl7cmV0dXJuIHQ/MTY6MTYzODR9dC5leHBvcnRzPXtnZXRIaWdoV2F0ZXJNYXJrOmZ1bmN0aW9uKHQsZSxuLHMpe2NvbnN0IHU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsIT10LmhpZ2hXYXRlck1hcms/dC5oaWdoV2F0ZXJNYXJrOmU/dFtuXTpudWxsfShlLHMsbik7aWYobnVsbCE9dSl7aWYoIW8odSl8fHU8MCl7dGhyb3cgbmV3IGkocz9gb3B0aW9ucy4ke259YDpcIm9wdGlvbnMuaGlnaFdhdGVyTWFya1wiLHUpfXJldHVybiByKHUpfXJldHVybiBhKHQub2JqZWN0TW9kZSl9LGdldERlZmF1bHRIaWdoV2F0ZXJNYXJrOmF9fSwyMTA6KHQsZSxuKT0+e2NvbnN0e09iamVjdFNldFByb3RvdHlwZU9mOnIsU3ltYm9sOm99PW4oMTkxKTt0LmV4cG9ydHM9bDtjb25zdHtFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRDppfT1uKDE0MSkuY29kZXMsYT1uKDE4Mikse2dldEhpZ2hXYXRlck1hcms6c309big0OTgpO3IobC5wcm90b3R5cGUsYS5wcm90b3R5cGUpLHIobCxhKTtjb25zdCB1PW8oXCJrQ2FsbGJhY2tcIik7ZnVuY3Rpb24gbCh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBsKSlyZXR1cm4gbmV3IGwodCk7Y29uc3QgZT10P3ModGhpcyx0LFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIsITApOm51bGw7MD09PWUmJih0PXsuLi50LGhpZ2hXYXRlck1hcms6bnVsbCxyZWFkYWJsZUhpZ2hXYXRlck1hcms6ZSx3cml0YWJsZUhpZ2hXYXRlck1hcms6dC53cml0YWJsZUhpZ2hXYXRlck1hcmt8fDB9KSxhLmNhbGwodGhpcyx0KSx0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmM9ITEsdGhpc1t1XT1udWxsLHQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRyYW5zZm9ybSYmKHRoaXMuX3RyYW5zZm9ybT10LnRyYW5zZm9ybSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5mbHVzaCYmKHRoaXMuX2ZsdXNoPXQuZmx1c2gpKSx0aGlzLm9uKFwicHJlZmluaXNoXCIsZil9ZnVuY3Rpb24gYyh0KXtcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzLl9mbHVzaHx8dGhpcy5kZXN0cm95ZWQ/KHRoaXMucHVzaChudWxsKSx0JiZ0KCkpOnRoaXMuX2ZsdXNoKCgoZSxuKT0+e2U/dD90KGUpOnRoaXMuZGVzdHJveShlKToobnVsbCE9biYmdGhpcy5wdXNoKG4pLHRoaXMucHVzaChudWxsKSx0JiZ0KCkpfSkpfWZ1bmN0aW9uIGYoKXt0aGlzLl9maW5hbCE9PWMmJmMuY2FsbCh0aGlzKX1sLnByb3RvdHlwZS5fZmluYWw9YyxsLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt0aHJvdyBuZXcgaShcIl90cmFuc2Zvcm0oKVwiKX0sbC5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPXRoaXMuX3JlYWRhYmxlU3RhdGUsbz10aGlzLl93cml0YWJsZVN0YXRlLGk9ci5sZW5ndGg7dGhpcy5fdHJhbnNmb3JtKHQsZSwoKHQsZSk9Pnt0P24odCk6KG51bGwhPWUmJnRoaXMucHVzaChlKSxvLmVuZGVkfHxpPT09ci5sZW5ndGh8fHIubGVuZ3RoPHIuaGlnaFdhdGVyTWFyaz9uKCk6dGhpc1t1XT1uKX0pKX0sbC5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXtpZih0aGlzW3VdKXtjb25zdCB0PXRoaXNbdV07dGhpc1t1XT1udWxsLHQoKX19fSwxMzI6KHQsZSxuKT0+e2NvbnN0e1N5bWJvbDpyLFN5bWJvbEFzeW5jSXRlcmF0b3I6byxTeW1ib2xJdGVyYXRvcjppLFN5bWJvbEZvcjphfT1uKDE5MSkscz1yKFwia0Rlc3Ryb3llZFwiKSx1PXIoXCJrSXNFcnJvcmVkXCIpLGw9cihcImtJc1JlYWRhYmxlXCIpLGM9cihcImtJc0Rpc3R1cmJlZFwiKSxmPWEoXCJub2RlanMud2Vic3RyZWFtLmlzQ2xvc2VkUHJvbWlzZVwiKSxkPWEoXCJub2RlanMud2Vic3RyZWFtLmNvbnRyb2xsZXJFcnJvckZ1bmN0aW9uXCIpO2Z1bmN0aW9uIGgodCxlPSExKXt2YXIgbjtyZXR1cm4hKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnBpcGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQub258fGUmJihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnBhdXNlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnJlc3VtZSl8fHQuX3dyaXRhYmxlU3RhdGUmJiExPT09KG51bGw9PT0obj10Ll9yZWFkYWJsZVN0YXRlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5yZWFkYWJsZSl8fHQuX3dyaXRhYmxlU3RhdGUmJiF0Ll9yZWFkYWJsZVN0YXRlKX1mdW5jdGlvbiBwKHQpe3ZhciBlO3JldHVybiEoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQud3JpdGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQub258fHQuX3JlYWRhYmxlU3RhdGUmJiExPT09KG51bGw9PT0oZT10Ll93cml0YWJsZVN0YXRlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS53cml0YWJsZSkpfWZ1bmN0aW9uIGcodCl7cmV0dXJuIHQmJih0Ll9yZWFkYWJsZVN0YXRlfHx0Ll93cml0YWJsZVN0YXRlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LndyaXRlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9ufHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnBpcGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQub24pfWZ1bmN0aW9uIHkodCl7cmV0dXJuISghdHx8Zyh0KXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5waXBlVGhyb3VnaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5nZXRSZWFkZXJ8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuY2FuY2VsKX1mdW5jdGlvbiBtKHQpe3JldHVybiEoIXR8fGcodCl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuZ2V0V3JpdGVyfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmFib3J0KX1mdW5jdGlvbiB2KHQpe3JldHVybiEoIXR8fGcodCl8fFwib2JqZWN0XCIhPXR5cGVvZiB0LnJlYWRhYmxlfHxcIm9iamVjdFwiIT10eXBlb2YgdC53cml0YWJsZSl9ZnVuY3Rpb24gYih0KXtpZighZyh0KSlyZXR1cm4gbnVsbDtjb25zdCBlPXQuX3dyaXRhYmxlU3RhdGUsbj10Ll9yZWFkYWJsZVN0YXRlLHI9ZXx8bjtyZXR1cm4hISh0LmRlc3Ryb3llZHx8dFtzXXx8bnVsbCE9ciYmci5kZXN0cm95ZWQpfWZ1bmN0aW9uIHcodCl7aWYoIXAodCkpcmV0dXJuIG51bGw7aWYoITA9PT10LndyaXRhYmxlRW5kZWQpcmV0dXJuITA7Y29uc3QgZT10Ll93cml0YWJsZVN0YXRlO3JldHVybihudWxsPT1lfHwhZS5lcnJvcmVkKSYmKFwiYm9vbGVhblwiIT10eXBlb2YobnVsbD09ZT92b2lkIDA6ZS5lbmRlZCk/bnVsbDplLmVuZGVkKX1mdW5jdGlvbiBfKHQsZSl7aWYoIWgodCkpcmV0dXJuIG51bGw7Y29uc3Qgbj10Ll9yZWFkYWJsZVN0YXRlO3JldHVybihudWxsPT1ufHwhbi5lcnJvcmVkKSYmKFwiYm9vbGVhblwiIT10eXBlb2YobnVsbD09bj92b2lkIDA6bi5lbmRFbWl0dGVkKT9udWxsOiEhKG4uZW5kRW1pdHRlZHx8ITE9PT1lJiYhMD09PW4uZW5kZWQmJjA9PT1uLmxlbmd0aCkpfWZ1bmN0aW9uIEUodCl7cmV0dXJuIHQmJm51bGwhPXRbbF0/dFtsXTpcImJvb2xlYW5cIiE9dHlwZW9mKG51bGw9PXQ/dm9pZCAwOnQucmVhZGFibGUpP251bGw6IWIodCkmJihoKHQpJiZ0LnJlYWRhYmxlJiYhXyh0KSl9ZnVuY3Rpb24gUyh0KXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mKG51bGw9PXQ/dm9pZCAwOnQud3JpdGFibGUpP251bGw6IWIodCkmJihwKHQpJiZ0LndyaXRhYmxlJiYhdyh0KSl9ZnVuY3Rpb24gQSh0KXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHQuX2Nsb3NlZCYmXCJib29sZWFuXCI9PXR5cGVvZiB0Ll9kZWZhdWx0S2VlcEFsaXZlJiZcImJvb2xlYW5cIj09dHlwZW9mIHQuX3JlbW92ZWRDb25uZWN0aW9uJiZcImJvb2xlYW5cIj09dHlwZW9mIHQuX3JlbW92ZWRDb250TGVufWZ1bmN0aW9uIEkodCl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB0Ll9zZW50MTAwJiZBKHQpfXQuZXhwb3J0cz17a0Rlc3Ryb3llZDpzLGlzRGlzdHVyYmVkOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiEoIXR8fCEobnVsbCE9PShlPXRbY10pJiZ2b2lkIDAhPT1lP2U6dC5yZWFkYWJsZURpZFJlYWR8fHQucmVhZGFibGVBYm9ydGVkKSl9LGtJc0Rpc3R1cmJlZDpjLGlzRXJyb3JlZDpmdW5jdGlvbih0KXt2YXIgZSxuLHIsbyxpLGEscyxsLGMsZjtyZXR1cm4hKCF0fHwhKG51bGwhPT0oZT1udWxsIT09KG49bnVsbCE9PShyPW51bGwhPT0obz1udWxsIT09KGk9bnVsbCE9PShhPXRbdV0pJiZ2b2lkIDAhPT1hP2E6dC5yZWFkYWJsZUVycm9yZWQpJiZ2b2lkIDAhPT1pP2k6dC53cml0YWJsZUVycm9yZWQpJiZ2b2lkIDAhPT1vP286bnVsbD09PShzPXQuX3JlYWRhYmxlU3RhdGUpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmVycm9yRW1pdHRlZCkmJnZvaWQgMCE9PXI/cjpudWxsPT09KGw9dC5fd3JpdGFibGVTdGF0ZSl8fHZvaWQgMD09PWw/dm9pZCAwOmwuZXJyb3JFbWl0dGVkKSYmdm9pZCAwIT09bj9uOm51bGw9PT0oYz10Ll9yZWFkYWJsZVN0YXRlKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5lcnJvcmVkKSYmdm9pZCAwIT09ZT9lOm51bGw9PT0oZj10Ll93cml0YWJsZVN0YXRlKXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5lcnJvcmVkKSl9LGtJc0Vycm9yZWQ6dSxpc1JlYWRhYmxlOkUsa0lzUmVhZGFibGU6bCxrSXNDbG9zZWRQcm9taXNlOmYsa0NvbnRyb2xsZXJFcnJvckZ1bmN0aW9uOmQsaXNDbG9zZWQ6ZnVuY3Rpb24odCl7aWYoIWcodCkpcmV0dXJuIG51bGw7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0LmNsb3NlZClyZXR1cm4gdC5jbG9zZWQ7Y29uc3QgZT10Ll93cml0YWJsZVN0YXRlLG49dC5fcmVhZGFibGVTdGF0ZTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mKG51bGw9PWU/dm9pZCAwOmUuY2xvc2VkKXx8XCJib29sZWFuXCI9PXR5cGVvZihudWxsPT1uP3ZvaWQgMDpuLmNsb3NlZCk/KG51bGw9PWU/dm9pZCAwOmUuY2xvc2VkKXx8KG51bGw9PW4/dm9pZCAwOm4uY2xvc2VkKTpcImJvb2xlYW5cIj09dHlwZW9mIHQuX2Nsb3NlZCYmQSh0KT90Ll9jbG9zZWQ6bnVsbH0saXNEZXN0cm95ZWQ6Yixpc0R1cGxleE5vZGVTdHJlYW06ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5waXBlfHwhdC5fcmVhZGFibGVTdGF0ZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5vbnx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC53cml0ZSl9LGlzRmluaXNoZWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZyh0KT8hIWIodCl8fCghMT09PShudWxsPT1lP3ZvaWQgMDplLnJlYWRhYmxlKXx8IUUodCkpJiYoITE9PT0obnVsbD09ZT92b2lkIDA6ZS53cml0YWJsZSl8fCFTKHQpKTpudWxsfSxpc0l0ZXJhYmxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXQmJighMD09PWU/XCJmdW5jdGlvblwiPT10eXBlb2YgdFtvXTohMT09PWU/XCJmdW5jdGlvblwiPT10eXBlb2YgdFtpXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W29dfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2ldKX0saXNSZWFkYWJsZU5vZGVTdHJlYW06aCxpc1JlYWRhYmxlU3RyZWFtOnksaXNSZWFkYWJsZUVuZGVkOmZ1bmN0aW9uKHQpe2lmKCFoKHQpKXJldHVybiBudWxsO2lmKCEwPT09dC5yZWFkYWJsZUVuZGVkKXJldHVybiEwO2NvbnN0IGU9dC5fcmVhZGFibGVTdGF0ZTtyZXR1cm4hKCFlfHxlLmVycm9yZWQpJiYoXCJib29sZWFuXCIhPXR5cGVvZihudWxsPT1lP3ZvaWQgMDplLmVuZGVkKT9udWxsOmUuZW5kZWQpfSxpc1JlYWRhYmxlRmluaXNoZWQ6Xyxpc1JlYWRhYmxlRXJyb3JlZDpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBnKHQpP3QucmVhZGFibGVFcnJvcmVkP3QucmVhZGFibGVFcnJvcmVkOm51bGwhPT0oZT1udWxsPT09KG49dC5fcmVhZGFibGVTdGF0ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZXJyb3JlZCkmJnZvaWQgMCE9PWU/ZTpudWxsOm51bGx9LGlzTm9kZVN0cmVhbTpnLGlzV2ViU3RyZWFtOmZ1bmN0aW9uKHQpe3JldHVybiB5KHQpfHxtKHQpfHx2KHQpfSxpc1dyaXRhYmxlOlMsaXNXcml0YWJsZU5vZGVTdHJlYW06cCxpc1dyaXRhYmxlU3RyZWFtOm0saXNXcml0YWJsZUVuZGVkOncsaXNXcml0YWJsZUZpbmlzaGVkOmZ1bmN0aW9uKHQsZSl7aWYoIXAodCkpcmV0dXJuIG51bGw7aWYoITA9PT10LndyaXRhYmxlRmluaXNoZWQpcmV0dXJuITA7Y29uc3Qgbj10Ll93cml0YWJsZVN0YXRlO3JldHVybihudWxsPT1ufHwhbi5lcnJvcmVkKSYmKFwiYm9vbGVhblwiIT10eXBlb2YobnVsbD09bj92b2lkIDA6bi5maW5pc2hlZCk/bnVsbDohIShuLmZpbmlzaGVkfHwhMT09PWUmJiEwPT09bi5lbmRlZCYmMD09PW4ubGVuZ3RoKSl9LGlzV3JpdGFibGVFcnJvcmVkOmZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIGcodCk/dC53cml0YWJsZUVycm9yZWQ/dC53cml0YWJsZUVycm9yZWQ6bnVsbCE9PShlPW51bGw9PT0obj10Ll93cml0YWJsZVN0YXRlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5lcnJvcmVkKSYmdm9pZCAwIT09ZT9lOm51bGw6bnVsbH0saXNTZXJ2ZXJSZXF1ZXN0OmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdC5fY29uc3VtaW5nJiZcImJvb2xlYW5cIj09dHlwZW9mIHQuX2R1bXBlZCYmdm9pZCAwPT09KG51bGw9PT0oZT10LnJlcSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudXBncmFkZU9yQ29ubmVjdCl9LGlzU2VydmVyUmVzcG9uc2U6SSx3aWxsRW1pdENsb3NlOmZ1bmN0aW9uKHQpe2lmKCFnKHQpKXJldHVybiBudWxsO2NvbnN0IGU9dC5fd3JpdGFibGVTdGF0ZSxuPXQuX3JlYWRhYmxlU3RhdGUscj1lfHxuO3JldHVybiFyJiZJKHQpfHwhIShyJiZyLmF1dG9EZXN0cm95JiZyLmVtaXRDbG9zZSYmITE9PT1yLmNsb3NlZCl9LGlzVHJhbnNmb3JtU3RyZWFtOnZ9fSwzNzM6KHQsZSxuKT0+e2NvbnN0IHI9big1MzMpLHtBcnJheVByb3RvdHlwZVNsaWNlOm8sRXJyb3I6aSxGdW5jdGlvblByb3RvdHlwZVN5bWJvbEhhc0luc3RhbmNlOmEsT2JqZWN0RGVmaW5lUHJvcGVydHk6cyxPYmplY3REZWZpbmVQcm9wZXJ0aWVzOnUsT2JqZWN0U2V0UHJvdG90eXBlT2Y6bCxTdHJpbmdQcm90b3R5cGVUb0xvd2VyQ2FzZTpjLFN5bWJvbDpmLFN5bWJvbEhhc0luc3RhbmNlOmR9PW4oMTkxKTt0LmV4cG9ydHM9VSxVLldyaXRhYmxlU3RhdGU9TDtjb25zdHtFdmVudEVtaXR0ZXI6aH09big0NjUpLHA9bigyMDApLlN0cmVhbSx7QnVmZmVyOmd9PW4oNDg1KSx5PW4oMjMwKSx7YWRkQWJvcnRTaWduYWw6bX09bigzNzQpLHtnZXRIaWdoV2F0ZXJNYXJrOnYsZ2V0RGVmYXVsdEhpZ2hXYXRlck1hcms6Yn09big0OTgpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTp3LEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEOl8sRVJSX01VTFRJUExFX0NBTExCQUNLOkUsRVJSX1NUUkVBTV9DQU5OT1RfUElQRTpTLEVSUl9TVFJFQU1fREVTVFJPWUVEOkEsRVJSX1NUUkVBTV9BTFJFQURZX0ZJTklTSEVEOkksRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUzpULEVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EOlIsRVJSX1VOS05PV05fRU5DT0RJTkc6eH09bigxNDEpLmNvZGVzLHtlcnJvck9yRGVzdHJveTpDfT15O2Z1bmN0aW9uIEIoKXt9bChVLnByb3RvdHlwZSxwLnByb3RvdHlwZSksbChVLHApO2NvbnN0IGs9ZihcImtPbkZpbmlzaGVkXCIpO2Z1bmN0aW9uIEwodCxlLHIpe1wiYm9vbGVhblwiIT10eXBlb2YgciYmKHI9ZSBpbnN0YW5jZW9mIG4oMTgyKSksdGhpcy5vYmplY3RNb2RlPSEoIXR8fCF0Lm9iamVjdE1vZGUpLHImJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhKCF0fHwhdC53cml0YWJsZU9iamVjdE1vZGUpKSx0aGlzLmhpZ2hXYXRlck1hcms9dD92KHRoaXMsdCxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHIpOmIoITEpLHRoaXMuZmluYWxDYWxsZWQ9ITEsdGhpcy5uZWVkRHJhaW49ITEsdGhpcy5lbmRpbmc9ITEsdGhpcy5lbmRlZD0hMSx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExO2NvbnN0IG89ISghdHx8ITEhPT10LmRlY29kZVN0cmluZ3MpO3RoaXMuZGVjb2RlU3RyaW5ncz0hbyx0aGlzLmRlZmF1bHRFbmNvZGluZz10JiZ0LmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1QLmJpbmQodm9pZCAwLGUpLHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmFmdGVyV3JpdGVUaWNrSW5mbz1udWxsLE8odGhpcyksdGhpcy5wZW5kaW5nY2I9MCx0aGlzLmNvbnN0cnVjdGVkPSEwLHRoaXMucHJlZmluaXNoZWQ9ITEsdGhpcy5lcnJvckVtaXR0ZWQ9ITEsdGhpcy5lbWl0Q2xvc2U9IXR8fCExIT09dC5lbWl0Q2xvc2UsdGhpcy5hdXRvRGVzdHJveT0hdHx8ITEhPT10LmF1dG9EZXN0cm95LHRoaXMuZXJyb3JlZD1udWxsLHRoaXMuY2xvc2VkPSExLHRoaXMuY2xvc2VFbWl0dGVkPSExLHRoaXNba109W119ZnVuY3Rpb24gTyh0KXt0LmJ1ZmZlcmVkPVtdLHQuYnVmZmVyZWRJbmRleD0wLHQuYWxsQnVmZmVycz0hMCx0LmFsbE5vb3A9ITB9ZnVuY3Rpb24gVSh0KXtjb25zdCBlPXRoaXMgaW5zdGFuY2VvZiBuKDE4Mik7aWYoIWUmJiFhKFUsdGhpcykpcmV0dXJuIG5ldyBVKHQpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IEwodCx0aGlzLGUpLHQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LndyaXRlJiYodGhpcy5fd3JpdGU9dC53cml0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC53cml0ZXYmJih0aGlzLl93cml0ZXY9dC53cml0ZXYpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9dC5kZXN0cm95KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZpbmFsJiYodGhpcy5fZmluYWw9dC5maW5hbCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb25zdHJ1Y3QmJih0aGlzLl9jb25zdHJ1Y3Q9dC5jb25zdHJ1Y3QpLHQuc2lnbmFsJiZtKHQuc2lnbmFsLHRoaXMpKSxwLmNhbGwodGhpcyx0KSx5LmNvbnN0cnVjdCh0aGlzLCgoKT0+e2NvbnN0IHQ9dGhpcy5fd3JpdGFibGVTdGF0ZTt0LndyaXRpbmd8fEYodGhpcyx0KSxIKHRoaXMsdCl9KSl9ZnVuY3Rpb24gaih0LGUsbixvKXtjb25zdCBpPXQuX3dyaXRhYmxlU3RhdGU7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilvPW4sbj1pLmRlZmF1bHRFbmNvZGluZztlbHNle2lmKG4pe2lmKFwiYnVmZmVyXCIhPT1uJiYhZy5pc0VuY29kaW5nKG4pKXRocm93IG5ldyB4KG4pfWVsc2Ugbj1pLmRlZmF1bHRFbmNvZGluZztcImZ1bmN0aW9uXCIhPXR5cGVvZiBvJiYobz1CKX1pZihudWxsPT09ZSl0aHJvdyBuZXcgVDtpZighaS5vYmplY3RNb2RlKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlKSExIT09aS5kZWNvZGVTdHJpbmdzJiYoZT1nLmZyb20oZSxuKSxuPVwiYnVmZmVyXCIpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIGcpbj1cImJ1ZmZlclwiO2Vsc2V7aWYoIXAuX2lzVWludDhBcnJheShlKSl0aHJvdyBuZXcgdyhcImNodW5rXCIsW1wic3RyaW5nXCIsXCJCdWZmZXJcIixcIlVpbnQ4QXJyYXlcIl0sZSk7ZT1wLl91aW50OEFycmF5VG9CdWZmZXIoZSksbj1cImJ1ZmZlclwifWxldCBhO3JldHVybiBpLmVuZGluZz9hPW5ldyBSOmkuZGVzdHJveWVkJiYoYT1uZXcgQShcIndyaXRlXCIpKSxhPyhyLm5leHRUaWNrKG8sYSksQyh0LGEsITApLGEpOihpLnBlbmRpbmdjYisrLGZ1bmN0aW9uKHQsZSxuLHIsbyl7Y29uc3QgaT1lLm9iamVjdE1vZGU/MTpuLmxlbmd0aDtlLmxlbmd0aCs9aTtjb25zdCBhPWUubGVuZ3RoPGUuaGlnaFdhdGVyTWFyazthfHwoZS5uZWVkRHJhaW49ITApO2Uud3JpdGluZ3x8ZS5jb3JrZWR8fGUuZXJyb3JlZHx8IWUuY29uc3RydWN0ZWQ/KGUuYnVmZmVyZWQucHVzaCh7Y2h1bms6bixlbmNvZGluZzpyLGNhbGxiYWNrOm99KSxlLmFsbEJ1ZmZlcnMmJlwiYnVmZmVyXCIhPT1yJiYoZS5hbGxCdWZmZXJzPSExKSxlLmFsbE5vb3AmJm8hPT1CJiYoZS5hbGxOb29wPSExKSk6KGUud3JpdGVsZW49aSxlLndyaXRlY2I9byxlLndyaXRpbmc9ITAsZS5zeW5jPSEwLHQuX3dyaXRlKG4scixlLm9ud3JpdGUpLGUuc3luYz0hMSk7cmV0dXJuIGEmJiFlLmVycm9yZWQmJiFlLmRlc3Ryb3llZH0odCxpLGUsbixvKSl9ZnVuY3Rpb24gTih0LGUsbixyLG8saSxhKXtlLndyaXRlbGVuPXIsZS53cml0ZWNiPWEsZS53cml0aW5nPSEwLGUuc3luYz0hMCxlLmRlc3Ryb3llZD9lLm9ud3JpdGUobmV3IEEoXCJ3cml0ZVwiKSk6bj90Ll93cml0ZXYobyxlLm9ud3JpdGUpOnQuX3dyaXRlKG8saSxlLm9ud3JpdGUpLGUuc3luYz0hMX1mdW5jdGlvbiBNKHQsZSxuLHIpey0tZS5wZW5kaW5nY2IscihuKSxEKGUpLEModCxuKX1mdW5jdGlvbiBQKHQsZSl7Y29uc3Qgbj10Ll93cml0YWJsZVN0YXRlLG89bi5zeW5jLGk9bi53cml0ZWNiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGk/KG4ud3JpdGluZz0hMSxuLndyaXRlY2I9bnVsbCxuLmxlbmd0aC09bi53cml0ZWxlbixuLndyaXRlbGVuPTAsZT8oZS5zdGFjayxuLmVycm9yZWR8fChuLmVycm9yZWQ9ZSksdC5fcmVhZGFibGVTdGF0ZSYmIXQuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZCYmKHQuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZD1lKSxvP3IubmV4dFRpY2soTSx0LG4sZSxpKTpNKHQsbixlLGkpKToobi5idWZmZXJlZC5sZW5ndGg+bi5idWZmZXJlZEluZGV4JiZGKHQsbiksbz9udWxsIT09bi5hZnRlcldyaXRlVGlja0luZm8mJm4uYWZ0ZXJXcml0ZVRpY2tJbmZvLmNiPT09aT9uLmFmdGVyV3JpdGVUaWNrSW5mby5jb3VudCsrOihuLmFmdGVyV3JpdGVUaWNrSW5mbz17Y291bnQ6MSxjYjppLHN0cmVhbTp0LHN0YXRlOm59LHIubmV4dFRpY2soVyxuLmFmdGVyV3JpdGVUaWNrSW5mbykpOiQodCxuLDEsaSkpKTpDKHQsbmV3IEUpfWZ1bmN0aW9uIFcoe3N0cmVhbTp0LHN0YXRlOmUsY291bnQ6bixjYjpyfSl7cmV0dXJuIGUuYWZ0ZXJXcml0ZVRpY2tJbmZvPW51bGwsJCh0LGUsbixyKX1mdW5jdGlvbiAkKHQsZSxuLHIpe2ZvcighZS5lbmRpbmcmJiF0LmRlc3Ryb3llZCYmMD09PWUubGVuZ3RoJiZlLm5lZWREcmFpbiYmKGUubmVlZERyYWluPSExLHQuZW1pdChcImRyYWluXCIpKTtuLS0gPjA7KWUucGVuZGluZ2NiLS0scigpO2UuZGVzdHJveWVkJiZEKGUpLEgodCxlKX1mdW5jdGlvbiBEKHQpe2lmKHQud3JpdGluZylyZXR1cm47Zm9yKGxldCBuPXQuYnVmZmVyZWRJbmRleDtuPHQuYnVmZmVyZWQubGVuZ3RoOysrbil7dmFyIGU7Y29uc3R7Y2h1bms6cixjYWxsYmFjazpvfT10LmJ1ZmZlcmVkW25dLGk9dC5vYmplY3RNb2RlPzE6ci5sZW5ndGg7dC5sZW5ndGgtPWksbyhudWxsIT09KGU9dC5lcnJvcmVkKSYmdm9pZCAwIT09ZT9lOm5ldyBBKFwid3JpdGVcIikpfWNvbnN0IG49dFtrXS5zcGxpY2UoMCk7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe3ZhciByO25bZV0obnVsbCE9PShyPXQuZXJyb3JlZCkmJnZvaWQgMCE9PXI/cjpuZXcgQShcImVuZFwiKSl9Tyh0KX1mdW5jdGlvbiBGKHQsZSl7aWYoZS5jb3JrZWR8fGUuYnVmZmVyUHJvY2Vzc2luZ3x8ZS5kZXN0cm95ZWR8fCFlLmNvbnN0cnVjdGVkKXJldHVybjtjb25zdHtidWZmZXJlZDpuLGJ1ZmZlcmVkSW5kZXg6cixvYmplY3RNb2RlOml9PWUsYT1uLmxlbmd0aC1yO2lmKCFhKXJldHVybjtsZXQgcz1yO2lmKGUuYnVmZmVyUHJvY2Vzc2luZz0hMCxhPjEmJnQuX3dyaXRldil7ZS5wZW5kaW5nY2ItPWEtMTtjb25zdCByPWUuYWxsTm9vcD9COnQ9Pntmb3IobGV0IGU9cztlPG4ubGVuZ3RoOysrZSluW2VdLmNhbGxiYWNrKHQpfSxpPWUuYWxsTm9vcCYmMD09PXM/bjpvKG4scyk7aS5hbGxCdWZmZXJzPWUuYWxsQnVmZmVycyxOKHQsZSwhMCxlLmxlbmd0aCxpLFwiXCIsciksTyhlKX1lbHNle2Rve2NvbnN0e2NodW5rOnIsZW5jb2Rpbmc6byxjYWxsYmFjazphfT1uW3NdO25bcysrXT1udWxsO04odCxlLCExLGk/MTpyLmxlbmd0aCxyLG8sYSl9d2hpbGUoczxuLmxlbmd0aCYmIWUud3JpdGluZyk7cz09PW4ubGVuZ3RoP08oZSk6cz4yNTY/KG4uc3BsaWNlKDAscyksZS5idWZmZXJlZEluZGV4PTApOmUuYnVmZmVyZWRJbmRleD1zfWUuYnVmZmVyUHJvY2Vzc2luZz0hMX1mdW5jdGlvbiB6KHQpe3JldHVybiB0LmVuZGluZyYmIXQuZGVzdHJveWVkJiZ0LmNvbnN0cnVjdGVkJiYwPT09dC5sZW5ndGgmJiF0LmVycm9yZWQmJjA9PT10LmJ1ZmZlcmVkLmxlbmd0aCYmIXQuZmluaXNoZWQmJiF0LndyaXRpbmcmJiF0LmVycm9yRW1pdHRlZCYmIXQuY2xvc2VFbWl0dGVkfWZ1bmN0aW9uIHEodCxlKXtlLnByZWZpbmlzaGVkfHxlLmZpbmFsQ2FsbGVkfHwoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5fZmluYWx8fGUuZGVzdHJveWVkPyhlLnByZWZpbmlzaGVkPSEwLHQuZW1pdChcInByZWZpbmlzaFwiKSk6KGUuZmluYWxDYWxsZWQ9ITAsZnVuY3Rpb24odCxlKXtsZXQgbj0hMTtmdW5jdGlvbiBvKG8pe2lmKG4pQyh0LG51bGwhPW8/bzpFKCkpO2Vsc2UgaWYobj0hMCxlLnBlbmRpbmdjYi0tLG8pe2NvbnN0IG49ZVtrXS5zcGxpY2UoMCk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XShvKTtDKHQsbyxlLnN5bmMpfWVsc2UgeihlKSYmKGUucHJlZmluaXNoZWQ9ITAsdC5lbWl0KFwicHJlZmluaXNoXCIpLGUucGVuZGluZ2NiKyssci5uZXh0VGljayhWLHQsZSkpfWUuc3luYz0hMCxlLnBlbmRpbmdjYisrO3RyeXt0Ll9maW5hbChvKX1jYXRjaCh0KXtvKHQpfWUuc3luYz0hMX0odCxlKSkpfWZ1bmN0aW9uIEgodCxlLG4pe3ooZSkmJihxKHQsZSksMD09PWUucGVuZGluZ2NiJiYobj8oZS5wZW5kaW5nY2IrKyxyLm5leHRUaWNrKCgodCxlKT0+e3ooZSk/Vih0LGUpOmUucGVuZGluZ2NiLS19KSx0LGUpKTp6KGUpJiYoZS5wZW5kaW5nY2IrKyxWKHQsZSkpKSl9ZnVuY3Rpb24gVih0LGUpe2UucGVuZGluZ2NiLS0sZS5maW5pc2hlZD0hMDtjb25zdCBuPWVba10uc3BsaWNlKDApO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF0oKTtpZih0LmVtaXQoXCJmaW5pc2hcIiksZS5hdXRvRGVzdHJveSl7Y29uc3QgZT10Ll9yZWFkYWJsZVN0YXRlOyghZXx8ZS5hdXRvRGVzdHJveSYmKGUuZW5kRW1pdHRlZHx8ITE9PT1lLnJlYWRhYmxlKSkmJnQuZGVzdHJveSgpfX1MLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLmJ1ZmZlcmVkLHRoaXMuYnVmZmVyZWRJbmRleCl9LHMoTC5wcm90b3R5cGUsXCJidWZmZXJlZFJlcXVlc3RDb3VudFwiLHtfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5idWZmZXJlZC5sZW5ndGgtdGhpcy5idWZmZXJlZEluZGV4fX0pLHMoVSxkLHtfX3Byb3RvX186bnVsbCx2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hIWEodGhpcyx0KXx8dGhpcz09PVUmJih0JiZ0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgTCl9fSksVS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe0ModGhpcyxuZXcgUyl9LFUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hMD09PWoodGhpcyx0LGUsbil9LFUucHJvdG90eXBlLmNvcms9ZnVuY3Rpb24oKXt0aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZCsrfSxVLnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuX3dyaXRhYmxlU3RhdGU7dC5jb3JrZWQmJih0LmNvcmtlZC0tLHQud3JpdGluZ3x8Rih0aGlzLHQpKX0sVS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1jKHQpKSwhZy5pc0VuY29kaW5nKHQpKXRocm93IG5ldyB4KHQpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz10LHRoaXN9LFUucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbih0LGUsbil7aWYoIXRoaXMuX3dyaXRldil0aHJvdyBuZXcgXyhcIl93cml0ZSgpXCIpO3RoaXMuX3dyaXRldihbe2NodW5rOnQsZW5jb2Rpbmc6ZX1dLG4pfSxVLnByb3RvdHlwZS5fd3JpdGV2PW51bGwsVS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCBvPXRoaXMuX3dyaXRhYmxlU3RhdGU7bGV0IGE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD8obj10LHQ9bnVsbCxlPW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihuPWUsZT1udWxsKSxudWxsIT10KXtjb25zdCBuPWoodGhpcyx0LGUpO24gaW5zdGFuY2VvZiBpJiYoYT1uKX1yZXR1cm4gby5jb3JrZWQmJihvLmNvcmtlZD0xLHRoaXMudW5jb3JrKCkpLGF8fChvLmVycm9yZWR8fG8uZW5kaW5nP28uZmluaXNoZWQ/YT1uZXcgSShcImVuZFwiKTpvLmRlc3Ryb3llZCYmKGE9bmV3IEEoXCJlbmRcIikpOihvLmVuZGluZz0hMCxIKHRoaXMsbywhMCksby5lbmRlZD0hMCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihhfHxvLmZpbmlzaGVkP3IubmV4dFRpY2sobixhKTpvW2tdLnB1c2gobikpLHRoaXN9LHUoVS5wcm90b3R5cGUse2Nsb3NlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuISF0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmNsb3NlZH19LGRlc3Ryb3llZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuISF0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0KHQpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD10KX19LHdyaXRhYmxlOntfX3Byb3RvX186bnVsbCxnZXQoKXtjb25zdCB0PXRoaXMuX3dyaXRhYmxlU3RhdGU7cmV0dXJuISghdHx8ITE9PT10LndyaXRhYmxlfHx0LmRlc3Ryb3llZHx8dC5lcnJvcmVkfHx0LmVuZGluZ3x8dC5lbmRlZCl9LHNldCh0KXt0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZT0hIXQpfX0sd3JpdGFibGVGaW5pc2hlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuISF0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkfX0sd3JpdGFibGVPYmplY3RNb2RlOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4hIXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUub2JqZWN0TW9kZX19LHdyaXRhYmxlQnVmZmVyOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19LHdyaXRhYmxlRW5kZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiEhdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmd9fSx3cml0YWJsZU5lZWREcmFpbjp7X19wcm90b19fOm51bGwsZ2V0KCl7Y29uc3QgdD10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiEhdCYmKCF0LmRlc3Ryb3llZCYmIXQuZW5kaW5nJiZ0Lm5lZWREcmFpbil9fSx3cml0YWJsZUhpZ2hXYXRlck1hcms6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSx3cml0YWJsZUNvcmtlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQ6MH19LHdyaXRhYmxlTGVuZ3RoOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5sZW5ndGh9fSxlcnJvcmVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JlZDpudWxsfX0sd3JpdGFibGVBYm9ydGVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiEoITE9PT10aGlzLl93cml0YWJsZVN0YXRlLndyaXRhYmxlfHwhdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQmJiF0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yZWR8fHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQpfX19KTtjb25zdCBHPXkuZGVzdHJveTtsZXQgSjtmdW5jdGlvbiBZKCl7cmV0dXJuIHZvaWQgMD09PUomJihKPXt9KSxKfVUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXRoaXMuX3dyaXRhYmxlU3RhdGU7cmV0dXJuIW4uZGVzdHJveWVkJiYobi5idWZmZXJlZEluZGV4PG4uYnVmZmVyZWQubGVuZ3RofHxuW2tdLmxlbmd0aCkmJnIubmV4dFRpY2soRCxuKSxHLmNhbGwodGhpcyx0LGUpLHRoaXN9LFUucHJvdG90eXBlLl91bmRlc3Ryb3k9eS51bmRlc3Ryb3ksVS5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24odCxlKXtlKHQpfSxVLnByb3RvdHlwZVtoLmNhcHR1cmVSZWplY3Rpb25TeW1ib2xdPWZ1bmN0aW9uKHQpe3RoaXMuZGVzdHJveSh0KX0sVS5mcm9tV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFkoKS5uZXdTdHJlYW1Xcml0YWJsZUZyb21Xcml0YWJsZVN0cmVhbSh0LGUpfSxVLnRvV2ViPWZ1bmN0aW9uKHQpe3JldHVybiBZKCkubmV3V3JpdGFibGVTdHJlYW1Gcm9tU3RyZWFtV3JpdGFibGUodCl9fSw5MDQ6KHQsZSxuKT0+e2NvbnN0e0FycmF5SXNBcnJheTpyLEFycmF5UHJvdG90eXBlSW5jbHVkZXM6byxBcnJheVByb3RvdHlwZUpvaW46aSxBcnJheVByb3RvdHlwZU1hcDphLE51bWJlcklzSW50ZWdlcjpzLE51bWJlcklzTmFOOnUsTnVtYmVyTUFYX1NBRkVfSU5URUdFUjpsLE51bWJlck1JTl9TQUZFX0lOVEVHRVI6YyxOdW1iZXJQYXJzZUludDpmLE9iamVjdFByb3RvdHlwZUhhc093blByb3BlcnR5OmQsUmVnRXhwUHJvdG90eXBlRXhlYzpoLFN0cmluZzpwLFN0cmluZ1Byb3RvdHlwZVRvVXBwZXJDYXNlOmcsU3RyaW5nUHJvdG90eXBlVHJpbTp5fT1uKDE5MSkse2hpZGVTdGFja0ZyYW1lczptLGNvZGVzOntFUlJfU09DS0VUX0JBRF9QT1JUOnYsRVJSX0lOVkFMSURfQVJHX1RZUEU6YixFUlJfSU5WQUxJRF9BUkdfVkFMVUU6dyxFUlJfT1VUX09GX1JBTkdFOl8sRVJSX1VOS05PV05fU0lHTkFMOkV9fT1uKDE0MSkse25vcm1hbGl6ZUVuY29kaW5nOlN9PW4oNzc1KSx7aXNBc3luY0Z1bmN0aW9uOkEsaXNBcnJheUJ1ZmZlclZpZXc6SX09big3NzUpLnR5cGVzLFQ9e307Y29uc3QgUj0vXlswLTddKyQvO2NvbnN0IHg9bSgoKHQsZSxuPWMscj1sKT0+e2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJudW1iZXJcIix0KTtpZighcyh0KSl0aHJvdyBuZXcgXyhlLFwiYW4gaW50ZWdlclwiLHQpO2lmKHQ8bnx8dD5yKXRocm93IG5ldyBfKGUsYD49ICR7bn0gJiYgPD0gJHtyfWAsdCl9KSksQz1tKCgodCxlLG49LTIxNDc0ODM2NDgscj0yMTQ3NDgzNjQ3KT0+e2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBiKGUsXCJudW1iZXJcIix0KTtpZighcyh0KSl0aHJvdyBuZXcgXyhlLFwiYW4gaW50ZWdlclwiLHQpO2lmKHQ8bnx8dD5yKXRocm93IG5ldyBfKGUsYD49ICR7bn0gJiYgPD0gJHtyfWAsdCl9KSksQj1tKCgodCxlLG49ITEpPT57aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcIm51bWJlclwiLHQpO2lmKCFzKHQpKXRocm93IG5ldyBfKGUsXCJhbiBpbnRlZ2VyXCIsdCk7Y29uc3Qgcj1uPzE6MCxvPTQyOTQ5NjcyOTU7aWYodDxyfHx0Pm8pdGhyb3cgbmV3IF8oZSxgPj0gJHtyfSAmJiA8PSAke299YCx0KX0pKTtmdW5jdGlvbiBrKHQsZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcInN0cmluZ1wiLHQpfWNvbnN0IEw9bSgoKHQsZSxuKT0+e2lmKCFvKG4sdCkpe2NvbnN0IHI9aShhKG4sKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P2AnJHt0fSdgOnAodCkpKSxcIiwgXCIpO3Rocm93IG5ldyB3KGUsdCxcIm11c3QgYmUgb25lIG9mOiBcIityKX19KSk7ZnVuY3Rpb24gTyh0LGUpe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwiYm9vbGVhblwiLHQpfWZ1bmN0aW9uIFUodCxlLG4pe3JldHVybiBudWxsIT10JiZkKHQsZSk/dFtlXTpufWNvbnN0IGo9bSgoKHQsZSxuPW51bGwpPT57Y29uc3Qgbz1VKG4sXCJhbGxvd0FycmF5XCIsITEpLGk9VShuLFwiYWxsb3dGdW5jdGlvblwiLCExKTtpZighVShuLFwibnVsbGFibGVcIiwhMSkmJm51bGw9PT10fHwhbyYmcih0KXx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJighaXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdCkpdGhyb3cgbmV3IGIoZSxcIk9iamVjdFwiLHQpfSkpLE49bSgoKHQsZSk9PntpZihudWxsIT10JiZcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwiYSBkaWN0aW9uYXJ5XCIsdCl9KSksTT1tKCgodCxlLG49MCk9PntpZighcih0KSl0aHJvdyBuZXcgYihlLFwiQXJyYXlcIix0KTtpZih0Lmxlbmd0aDxuKXt0aHJvdyBuZXcgdyhlLHQsYG11c3QgYmUgbG9uZ2VyIHRoYW4gJHtufWApfX0pKTtjb25zdCBQPW0oKCh0LGU9XCJidWZmZXJcIik9PntpZighSSh0KSl0aHJvdyBuZXcgYihlLFtcIkJ1ZmZlclwiLFwiVHlwZWRBcnJheVwiLFwiRGF0YVZpZXdcIl0sdCl9KSk7Y29uc3QgVz1tKCgodCxlKT0+e2lmKHZvaWQgMCE9PXQmJihudWxsPT09dHx8XCJvYmplY3RcIiE9dHlwZW9mIHR8fCEoXCJhYm9ydGVkXCJpbiB0KSkpdGhyb3cgbmV3IGIoZSxcIkFib3J0U2lnbmFsXCIsdCl9KSksJD1tKCgodCxlKT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IGIoZSxcIkZ1bmN0aW9uXCIsdCl9KSksRD1tKCgodCxlKT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fEEodCkpdGhyb3cgbmV3IGIoZSxcIkZ1bmN0aW9uXCIsdCl9KSksRj1tKCgodCxlKT0+e2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IGIoZSxcInVuZGVmaW5lZFwiLHQpfSkpO2NvbnN0IHo9L14oPzo8W14+XSo+KSg/Olxccyo7XFxzKlteO1wiXFxzXSsoPzo9KFwiKT9bXjtcIlxcc10qXFwxKT8pKiQvO2Z1bmN0aW9uIHEodCxlKXtpZih2b2lkIDA9PT10fHwhaCh6LHQpKXRocm93IG5ldyB3KGUsdCwnbXVzdCBiZSBhbiBhcnJheSBvciBzdHJpbmcgb2YgZm9ybWF0IFwiPC9zdHlsZXMuY3NzPjsgcmVsPXByZWxvYWQ7IGFzPXN0eWxlXCInKX10LmV4cG9ydHM9e2lzSW50MzI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0oMHx0KX0saXNVaW50MzI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10Pj4+MH0scGFyc2VGaWxlTW9kZTpmdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09dCYmKHQ9biksXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKG51bGw9PT1oKFIsdCkpdGhyb3cgbmV3IHcoZSx0LFwibXVzdCBiZSBhIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIG9yIGFuIG9jdGFsIHN0cmluZ1wiKTt0PWYodCw4KX1yZXR1cm4gQih0LGUpLHR9LHZhbGlkYXRlQXJyYXk6TSx2YWxpZGF0ZVN0cmluZ0FycmF5OmZ1bmN0aW9uKHQsZSl7TSh0LGUpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWsodFtuXSxgJHtlfVske259XWApfSx2YWxpZGF0ZUJvb2xlYW5BcnJheTpmdW5jdGlvbih0LGUpe00odCxlKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylPKHRbbl0sYCR7ZX1bJHtufV1gKX0sdmFsaWRhdGVCb29sZWFuOk8sdmFsaWRhdGVCdWZmZXI6UCx2YWxpZGF0ZURpY3Rpb25hcnk6Tix2YWxpZGF0ZUVuY29kaW5nOmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1TKGUpLHI9dC5sZW5ndGg7aWYoXCJoZXhcIj09PW4mJnIlMiE9MCl0aHJvdyBuZXcgdyhcImVuY29kaW5nXCIsZSxgaXMgaW52YWxpZCBmb3IgZGF0YSBvZiBsZW5ndGggJHtyfWApfSx2YWxpZGF0ZUZ1bmN0aW9uOiQsdmFsaWRhdGVJbnQzMjpDLHZhbGlkYXRlSW50ZWdlcjp4LHZhbGlkYXRlTnVtYmVyOmZ1bmN0aW9uKHQsZSxuPXZvaWQgMCxyKXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgYihlLFwibnVtYmVyXCIsdCk7aWYobnVsbCE9biYmdDxufHxudWxsIT1yJiZ0PnJ8fChudWxsIT1ufHxudWxsIT1yKSYmdSh0KSl0aHJvdyBuZXcgXyhlLGAke251bGwhPW4/YD49ICR7bn1gOlwiXCJ9JHtudWxsIT1uJiZudWxsIT1yP1wiICYmIFwiOlwiXCJ9JHtudWxsIT1yP2A8PSAke3J9YDpcIlwifWAsdCl9LHZhbGlkYXRlT2JqZWN0OmosdmFsaWRhdGVPbmVPZjpMLHZhbGlkYXRlUGxhaW5GdW5jdGlvbjpELHZhbGlkYXRlUG9ydDpmdW5jdGlvbih0LGU9XCJQb3J0XCIsbj0hMCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQmJlwic3RyaW5nXCIhPXR5cGVvZiB0fHxcInN0cmluZ1wiPT10eXBlb2YgdCYmMD09PXkodCkubGVuZ3RofHwrdCE9K3Q+Pj4wfHx0PjY1NTM1fHwwPT09dCYmIW4pdGhyb3cgbmV3IHYoZSx0LG4pO3JldHVybiAwfHR9LHZhbGlkYXRlU2lnbmFsTmFtZTpmdW5jdGlvbih0LGU9XCJzaWduYWxcIil7aWYoayh0LGUpLHZvaWQgMD09PVRbdF0pe2lmKHZvaWQgMCE9PVRbZyh0KV0pdGhyb3cgbmV3IEUodCtcIiAoc2lnbmFscyBtdXN0IHVzZSBhbGwgY2FwaXRhbCBsZXR0ZXJzKVwiKTt0aHJvdyBuZXcgRSh0KX19LHZhbGlkYXRlU3RyaW5nOmssdmFsaWRhdGVVaW50MzI6Qix2YWxpZGF0ZVVuZGVmaW5lZDpGLHZhbGlkYXRlVW5pb246ZnVuY3Rpb24odCxlLG4pe2lmKCFvKG4sdCkpdGhyb3cgbmV3IGIoZSxgKCcke2kobixcInxcIil9JylgLHQpfSx2YWxpZGF0ZUFib3J0U2lnbmFsOlcsdmFsaWRhdGVMaW5rSGVhZGVyVmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHEodCxcImhpbnRzXCIpLHQ7aWYocih0KSl7Y29uc3QgZT10Lmxlbmd0aDtsZXQgbj1cIlwiO2lmKDA9PT1lKXJldHVybiBuO2ZvcihsZXQgcj0wO3I8ZTtyKyspe2NvbnN0IG89dFtyXTtxKG8sXCJoaW50c1wiKSxuKz1vLHIhPT1lLTEmJihuKz1cIiwgXCIpfXJldHVybiBufXRocm93IG5ldyB3KFwiaGludHNcIix0LCdtdXN0IGJlIGFuIGFycmF5IG9yIHN0cmluZyBvZiBmb3JtYXQgXCI8L3N0eWxlcy5jc3M+OyByZWw9cHJlbG9hZDsgYXM9c3R5bGVcIicpfX19LDk5Oih0LGUsbik9Pntjb25zdCByPW4oMjkyKSxvPW4oNzYwKSxpPXIuUmVhZGFibGUuZGVzdHJveTt0LmV4cG9ydHM9ci5SZWFkYWJsZSx0LmV4cG9ydHMuX3VpbnQ4QXJyYXlUb0J1ZmZlcj1yLl91aW50OEFycmF5VG9CdWZmZXIsdC5leHBvcnRzLl9pc1VpbnQ4QXJyYXk9ci5faXNVaW50OEFycmF5LHQuZXhwb3J0cy5pc0Rpc3R1cmJlZD1yLmlzRGlzdHVyYmVkLHQuZXhwb3J0cy5pc0Vycm9yZWQ9ci5pc0Vycm9yZWQsdC5leHBvcnRzLmlzUmVhZGFibGU9ci5pc1JlYWRhYmxlLHQuZXhwb3J0cy5SZWFkYWJsZT1yLlJlYWRhYmxlLHQuZXhwb3J0cy5Xcml0YWJsZT1yLldyaXRhYmxlLHQuZXhwb3J0cy5EdXBsZXg9ci5EdXBsZXgsdC5leHBvcnRzLlRyYW5zZm9ybT1yLlRyYW5zZm9ybSx0LmV4cG9ydHMuUGFzc1Rocm91Z2g9ci5QYXNzVGhyb3VnaCx0LmV4cG9ydHMuYWRkQWJvcnRTaWduYWw9ci5hZGRBYm9ydFNpZ25hbCx0LmV4cG9ydHMuZmluaXNoZWQ9ci5maW5pc2hlZCx0LmV4cG9ydHMuZGVzdHJveT1yLmRlc3Ryb3ksdC5leHBvcnRzLmRlc3Ryb3k9aSx0LmV4cG9ydHMucGlwZWxpbmU9ci5waXBlbGluZSx0LmV4cG9ydHMuY29tcG9zZT1yLmNvbXBvc2UsT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJwcm9taXNlc1wiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6KCk9Pm99KSx0LmV4cG9ydHMuU3RyZWFtPXIuU3RyZWFtLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0c30sMTQxOih0LGUsbik9Pntjb25zdHtmb3JtYXQ6cixpbnNwZWN0Om8sQWdncmVnYXRlRXJyb3I6aX09big3NzUpLGE9Z2xvYmFsVGhpcy5BZ2dyZWdhdGVFcnJvcnx8aSxzPVN5bWJvbChcImtJc05vZGVFcnJvclwiKSx1PVtcInN0cmluZ1wiLFwiZnVuY3Rpb25cIixcIm51bWJlclwiLFwib2JqZWN0XCIsXCJGdW5jdGlvblwiLFwiT2JqZWN0XCIsXCJib29sZWFuXCIsXCJiaWdpbnRcIixcInN5bWJvbFwiXSxsPS9eKFtBLVpdW2EtejAtOV0qKSskLyxjPXt9O2Z1bmN0aW9uIGYodCxlKXtpZighdCl0aHJvdyBuZXcgYy5FUlJfSU5URVJOQUxfQVNTRVJUSU9OKGUpfWZ1bmN0aW9uIGQodCl7bGV0IGU9XCJcIixuPXQubGVuZ3RoO2NvbnN0IHI9XCItXCI9PT10WzBdPzE6MDtmb3IoO24+PXIrNDtuLT0zKWU9YF8ke3Quc2xpY2Uobi0zLG4pfSR7ZX1gO3JldHVybmAke3Quc2xpY2UoMCxuKX0ke2V9YH1mdW5jdGlvbiBoKHQsZSxuKXtufHwobj1FcnJvcik7Y2xhc3MgTm9kZUVycm9yIGV4dGVuZHMgbntjb25zdHJ1Y3RvciguLi5uKXtzdXBlcihmdW5jdGlvbih0LGUsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gZihlLmxlbmd0aDw9bi5sZW5ndGgsYENvZGU6ICR7dH07IFRoZSBwcm92aWRlZCBhcmd1bWVudHMgbGVuZ3RoICgke24ubGVuZ3RofSkgZG9lcyBub3QgbWF0Y2ggdGhlIHJlcXVpcmVkIG9uZXMgKCR7ZS5sZW5ndGh9KS5gKSxlKC4uLm4pO2NvbnN0IG89KGUubWF0Y2goLyVbZGZpam9Pc10vZyl8fFtdKS5sZW5ndGg7cmV0dXJuIGYobz09PW4ubGVuZ3RoLGBDb2RlOiAke3R9OyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzIGxlbmd0aCAoJHtuLmxlbmd0aH0pIGRvZXMgbm90IG1hdGNoIHRoZSByZXF1aXJlZCBvbmVzICgke299KS5gKSwwPT09bi5sZW5ndGg/ZTpyKGUsLi4ubil9KHQsZSxuKSl9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLm5hbWV9IFske3R9XTogJHt0aGlzLm1lc3NhZ2V9YH19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTm9kZUVycm9yLnByb3RvdHlwZSx7bmFtZTp7dmFsdWU6bi5uYW1lLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSx0b1N0cmluZzp7dmFsdWUoKXtyZXR1cm5gJHt0aGlzLm5hbWV9IFske3R9XTogJHt0aGlzLm1lc3NhZ2V9YH0sd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9fSksTm9kZUVycm9yLnByb3RvdHlwZS5jb2RlPXQsTm9kZUVycm9yLnByb3RvdHlwZVtzXT0hMCxjW3RdPU5vZGVFcnJvcn1mdW5jdGlvbiBwKHQpe2NvbnN0IGU9XCJfX25vZGVfaW50ZXJuYWxfXCIrdC5uYW1lO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm5hbWVcIix7dmFsdWU6ZX0pLHR9Y2xhc3MgQWJvcnRFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQ9XCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkXCIsZT12b2lkIDApe2lmKHZvaWQgMCE9PWUmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBjLkVSUl9JTlZBTElEX0FSR19UWVBFKFwib3B0aW9uc1wiLFwiT2JqZWN0XCIsZSk7c3VwZXIodCxlKSx0aGlzLmNvZGU9XCJBQk9SVF9FUlJcIix0aGlzLm5hbWU9XCJBYm9ydEVycm9yXCJ9fWgoXCJFUlJfQVNTRVJUSU9OXCIsXCIlc1wiLEVycm9yKSxoKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIiwoKHQsZSxuKT0+e2YoXCJzdHJpbmdcIj09dHlwZW9mIHQsXCInbmFtZScgbXVzdCBiZSBhIHN0cmluZ1wiKSxBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2xldCByPVwiVGhlIFwiO3QuZW5kc1dpdGgoXCIgYXJndW1lbnRcIik/cis9YCR7dH0gYDpyKz1gXCIke3R9XCIgJHt0LmluY2x1ZGVzKFwiLlwiKT9cInByb3BlcnR5XCI6XCJhcmd1bWVudFwifSBgLHIrPVwibXVzdCBiZSBcIjtjb25zdCBpPVtdLGE9W10scz1bXTtmb3IoY29uc3QgdCBvZiBlKWYoXCJzdHJpbmdcIj09dHlwZW9mIHQsXCJBbGwgZXhwZWN0ZWQgZW50cmllcyBoYXZlIHRvIGJlIG9mIHR5cGUgc3RyaW5nXCIpLHUuaW5jbHVkZXModCk/aS5wdXNoKHQudG9Mb3dlckNhc2UoKSk6bC50ZXN0KHQpP2EucHVzaCh0KTooZihcIm9iamVjdFwiIT09dCwnVGhlIHZhbHVlIFwib2JqZWN0XCIgc2hvdWxkIGJlIHdyaXR0ZW4gYXMgXCJPYmplY3RcIicpLHMucHVzaCh0KSk7aWYoYS5sZW5ndGg+MCl7Y29uc3QgdD1pLmluZGV4T2YoXCJvYmplY3RcIik7LTEhPT10JiYoaS5zcGxpY2UoaSx0LDEpLGEucHVzaChcIk9iamVjdFwiKSl9aWYoaS5sZW5ndGg+MCl7c3dpdGNoKGkubGVuZ3RoKXtjYXNlIDE6cis9YG9mIHR5cGUgJHtpWzBdfWA7YnJlYWs7Y2FzZSAyOnIrPWBvbmUgb2YgdHlwZSAke2lbMF19IG9yICR7aVsxXX1gO2JyZWFrO2RlZmF1bHQ6e2NvbnN0IHQ9aS5wb3AoKTtyKz1gb25lIG9mIHR5cGUgJHtpLmpvaW4oXCIsIFwiKX0sIG9yICR7dH1gfX0oYS5sZW5ndGg+MHx8cy5sZW5ndGg+MCkmJihyKz1cIiBvciBcIil9aWYoYS5sZW5ndGg+MCl7c3dpdGNoKGEubGVuZ3RoKXtjYXNlIDE6cis9YGFuIGluc3RhbmNlIG9mICR7YVswXX1gO2JyZWFrO2Nhc2UgMjpyKz1gYW4gaW5zdGFuY2Ugb2YgJHthWzBdfSBvciAke2FbMV19YDticmVhaztkZWZhdWx0Ontjb25zdCB0PWEucG9wKCk7cis9YGFuIGluc3RhbmNlIG9mICR7YS5qb2luKFwiLCBcIil9LCBvciAke3R9YH19cy5sZW5ndGg+MCYmKHIrPVwiIG9yIFwiKX1zd2l0Y2gocy5sZW5ndGgpe2Nhc2UgMDpicmVhaztjYXNlIDE6c1swXS50b0xvd2VyQ2FzZSgpIT09c1swXSYmKHIrPVwiYW4gXCIpLHIrPWAke3NbMF19YDticmVhaztjYXNlIDI6cis9YG9uZSBvZiAke3NbMF19IG9yICR7c1sxXX1gO2JyZWFrO2RlZmF1bHQ6e2NvbnN0IHQ9cy5wb3AoKTtyKz1gb25lIG9mICR7cy5qb2luKFwiLCBcIil9LCBvciAke3R9YH19aWYobnVsbD09bilyKz1gLiBSZWNlaXZlZCAke259YDtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4ubmFtZSlyKz1gLiBSZWNlaXZlZCBmdW5jdGlvbiAke24ubmFtZX1gO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIG4pe3ZhciBjO2lmKG51bGwhPT0oYz1uLmNvbnN0cnVjdG9yKSYmdm9pZCAwIT09YyYmYy5uYW1lKXIrPWAuIFJlY2VpdmVkIGFuIGluc3RhbmNlIG9mICR7bi5jb25zdHJ1Y3Rvci5uYW1lfWA7ZWxzZXtyKz1gLiBSZWNlaXZlZCAke28obix7ZGVwdGg6LTF9KX1gfX1lbHNle2xldCB0PW8obix7Y29sb3JzOiExfSk7dC5sZW5ndGg+MjUmJih0PWAke3Quc2xpY2UoMCwyNSl9Li4uYCkscis9YC4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBufSAoJHt0fSlgfXJldHVybiByfSksVHlwZUVycm9yKSxoKFwiRVJSX0lOVkFMSURfQVJHX1ZBTFVFXCIsKCh0LGUsbj1cImlzIGludmFsaWRcIik9PntsZXQgcj1vKGUpO3IubGVuZ3RoPjEyOCYmKHI9ci5zbGljZSgwLDEyOCkrXCIuLi5cIik7cmV0dXJuYFRoZSAke3QuaW5jbHVkZXMoXCIuXCIpP1wicHJvcGVydHlcIjpcImFyZ3VtZW50XCJ9ICcke3R9JyAke259LiBSZWNlaXZlZCAke3J9YH0pLFR5cGVFcnJvciksaChcIkVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRVwiLCgodCxlLG4pPT57dmFyIHI7cmV0dXJuYEV4cGVjdGVkICR7dH0gdG8gYmUgcmV0dXJuZWQgZnJvbSB0aGUgXCIke2V9XCIgZnVuY3Rpb24gYnV0IGdvdCAke251bGwhPW4mJm51bGwhPT0ocj1uLmNvbnN0cnVjdG9yKSYmdm9pZCAwIT09ciYmci5uYW1lP2BpbnN0YW5jZSBvZiAke24uY29uc3RydWN0b3IubmFtZX1gOlwidHlwZSBcIit0eXBlb2Ygbn0uYH0pLFR5cGVFcnJvciksaChcIkVSUl9NSVNTSU5HX0FSR1NcIiwoKC4uLnQpPT57bGV0IGU7Zih0Lmxlbmd0aD4wLFwiQXQgbGVhc3Qgb25lIGFyZyBuZWVkcyB0byBiZSBzcGVjaWZpZWRcIik7Y29uc3Qgbj10Lmxlbmd0aDtzd2l0Y2godD0oQXJyYXkuaXNBcnJheSh0KT90Olt0XSkubWFwKCh0PT5gXCIke3R9XCJgKSkuam9pbihcIiBvciBcIiksbil7Y2FzZSAxOmUrPWBUaGUgJHt0WzBdfSBhcmd1bWVudGA7YnJlYWs7Y2FzZSAyOmUrPWBUaGUgJHt0WzBdfSBhbmQgJHt0WzFdfSBhcmd1bWVudHNgO2JyZWFrO2RlZmF1bHQ6e2NvbnN0IG49dC5wb3AoKTtlKz1gVGhlICR7dC5qb2luKFwiLCBcIil9LCBhbmQgJHtufSBhcmd1bWVudHNgfX1yZXR1cm5gJHtlfSBtdXN0IGJlIHNwZWNpZmllZGB9KSxUeXBlRXJyb3IpLGgoXCJFUlJfT1VUX09GX1JBTkdFXCIsKCh0LGUsbik9PntsZXQgcjtyZXR1cm4gZihlLCdNaXNzaW5nIFwicmFuZ2VcIiBhcmd1bWVudCcpLE51bWJlci5pc0ludGVnZXIobikmJk1hdGguYWJzKG4pPjIqKjMyP3I9ZChTdHJpbmcobikpOlwiYmlnaW50XCI9PXR5cGVvZiBuPyhyPVN0cmluZyhuKSwobj4ybioqMzJufHxuPC0oMm4qKjMybikpJiYocj1kKHIpKSxyKz1cIm5cIik6cj1vKG4pLGBUaGUgdmFsdWUgb2YgXCIke3R9XCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlICR7ZX0uIFJlY2VpdmVkICR7cn1gfSksUmFuZ2VFcnJvciksaChcIkVSUl9NVUxUSVBMRV9DQUxMQkFDS1wiLFwiQ2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzXCIsRXJyb3IpLGgoXCJFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRFwiLFwiVGhlICVzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWRcIixFcnJvciksaChcIkVSUl9TVFJFQU1fQUxSRUFEWV9GSU5JU0hFRFwiLFwiQ2Fubm90IGNhbGwgJXMgYWZ0ZXIgYSBzdHJlYW0gd2FzIGZpbmlzaGVkXCIsRXJyb3IpLGgoXCJFUlJfU1RSRUFNX0NBTk5PVF9QSVBFXCIsXCJDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlXCIsRXJyb3IpLGgoXCJFUlJfU1RSRUFNX0RFU1RST1lFRFwiLFwiQ2Fubm90IGNhbGwgJXMgYWZ0ZXIgYSBzdHJlYW0gd2FzIGRlc3Ryb3llZFwiLEVycm9yKSxoKFwiRVJSX1NUUkVBTV9OVUxMX1ZBTFVFU1wiLFwiTWF5IG5vdCB3cml0ZSBudWxsIHZhbHVlcyB0byBzdHJlYW1cIixUeXBlRXJyb3IpLGgoXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiLFwiUHJlbWF0dXJlIGNsb3NlXCIsRXJyb3IpLGgoXCJFUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GXCIsXCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRlwiLEVycm9yKSxoKFwiRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVFwiLFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIixFcnJvciksaChcIkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EXCIsXCJ3cml0ZSBhZnRlciBlbmRcIixFcnJvciksaChcIkVSUl9VTktOT1dOX0VOQ09ESU5HXCIsXCJVbmtub3duIGVuY29kaW5nOiAlc1wiLFR5cGVFcnJvciksdC5leHBvcnRzPXtBYm9ydEVycm9yLGFnZ3JlZ2F0ZVR3b0Vycm9yczpwKChmdW5jdGlvbih0LGUpe2lmKHQmJmUmJnQhPT1lKXtpZihBcnJheS5pc0FycmF5KGUuZXJyb3JzKSlyZXR1cm4gZS5lcnJvcnMucHVzaCh0KSxlO2NvbnN0IG49bmV3IGEoW2UsdF0sZS5tZXNzYWdlKTtyZXR1cm4gbi5jb2RlPWUuY29kZSxufXJldHVybiB0fHxlfSkpLGhpZGVTdGFja0ZyYW1lczpwLGNvZGVzOmN9fSwxOTE6dD0+e3QuZXhwb3J0cz17QXJyYXlJc0FycmF5OnQ9PkFycmF5LmlzQXJyYXkodCksQXJyYXlQcm90b3R5cGVJbmNsdWRlczoodCxlKT0+dC5pbmNsdWRlcyhlKSxBcnJheVByb3RvdHlwZUluZGV4T2Y6KHQsZSk9PnQuaW5kZXhPZihlKSxBcnJheVByb3RvdHlwZUpvaW46KHQsZSk9PnQuam9pbihlKSxBcnJheVByb3RvdHlwZU1hcDoodCxlKT0+dC5tYXAoZSksQXJyYXlQcm90b3R5cGVQb3A6KHQsZSk9PnQucG9wKGUpLEFycmF5UHJvdG90eXBlUHVzaDoodCxlKT0+dC5wdXNoKGUpLEFycmF5UHJvdG90eXBlU2xpY2U6KHQsZSxuKT0+dC5zbGljZShlLG4pLEVycm9yLEZ1bmN0aW9uUHJvdG90eXBlQ2FsbDoodCxlLC4uLm4pPT50LmNhbGwoZSwuLi5uKSxGdW5jdGlvblByb3RvdHlwZVN5bWJvbEhhc0luc3RhbmNlOih0LGUpPT5GdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXS5jYWxsKHQsZSksTWF0aEZsb29yOk1hdGguZmxvb3IsTnVtYmVyLE51bWJlcklzSW50ZWdlcjpOdW1iZXIuaXNJbnRlZ2VyLE51bWJlcklzTmFOOk51bWJlci5pc05hTixOdW1iZXJNQVhfU0FGRV9JTlRFR0VSOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLE51bWJlck1JTl9TQUZFX0lOVEVHRVI6TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsTnVtYmVyUGFyc2VJbnQ6TnVtYmVyLnBhcnNlSW50LE9iamVjdERlZmluZVByb3BlcnRpZXM6KHQsZSk9Pk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsZSksT2JqZWN0RGVmaW5lUHJvcGVydHk6KHQsZSxuKT0+T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxuKSxPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6KHQsZSk9Pk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKSxPYmplY3RLZXlzOnQ9Pk9iamVjdC5rZXlzKHQpLE9iamVjdFNldFByb3RvdHlwZU9mOih0LGUpPT5PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKSxQcm9taXNlLFByb21pc2VQcm90b3R5cGVDYXRjaDoodCxlKT0+dC5jYXRjaChlKSxQcm9taXNlUHJvdG90eXBlVGhlbjoodCxlLG4pPT50LnRoZW4oZSxuKSxQcm9taXNlUmVqZWN0OnQ9PlByb21pc2UucmVqZWN0KHQpLFJlZmxlY3RBcHBseTpSZWZsZWN0LmFwcGx5LFJlZ0V4cFByb3RvdHlwZVRlc3Q6KHQsZSk9PnQudGVzdChlKSxTYWZlU2V0OlNldCxTdHJpbmcsU3RyaW5nUHJvdG90eXBlU2xpY2U6KHQsZSxuKT0+dC5zbGljZShlLG4pLFN0cmluZ1Byb3RvdHlwZVRvTG93ZXJDYXNlOnQ9PnQudG9Mb3dlckNhc2UoKSxTdHJpbmdQcm90b3R5cGVUb1VwcGVyQ2FzZTp0PT50LnRvVXBwZXJDYXNlKCksU3RyaW5nUHJvdG90eXBlVHJpbTp0PT50LnRyaW0oKSxTeW1ib2wsU3ltYm9sRm9yOlN5bWJvbC5mb3IsU3ltYm9sQXN5bmNJdGVyYXRvcjpTeW1ib2wuYXN5bmNJdGVyYXRvcixTeW1ib2xIYXNJbnN0YW5jZTpTeW1ib2wuaGFzSW5zdGFuY2UsU3ltYm9sSXRlcmF0b3I6U3ltYm9sLml0ZXJhdG9yLFR5cGVkQXJyYXlQcm90b3R5cGVTZXQ6KHQsZSxuKT0+dC5zZXQoZSxuKSxVaW50OEFycmF5fX0sNzc1Oih0LGUsbik9Pntjb25zdCByPW4oNDg1KSxvPU9iamVjdC5nZXRQcm90b3R5cGVPZigoYXN5bmMgZnVuY3Rpb24oKXt9KSkuY29uc3RydWN0b3IsaT1nbG9iYWxUaGlzLkJsb2J8fHIuQmxvYixhPXZvaWQgMCE9PWk/ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpfTpmdW5jdGlvbih0KXtyZXR1cm4hMX07Y2xhc3MgQWdncmVnYXRlRXJyb3IgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0KXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgaW5wdXQgdG8gYmUgYW4gQXJyYXksIGdvdCBcIit0eXBlb2YgdCk7bGV0IGU9XCJcIjtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllKz1gICAgICR7dFtuXS5zdGFja31cXG5gO3N1cGVyKGUpLHRoaXMubmFtZT1cIkFnZ3JlZ2F0ZUVycm9yXCIsdGhpcy5lcnJvcnM9dH19dC5leHBvcnRzPXtBZ2dyZWdhdGVFcnJvcixrRW1wdHlPYmplY3Q6T2JqZWN0LmZyZWV6ZSh7fSksb25jZSh0KXtsZXQgZT0hMTtyZXR1cm4gZnVuY3Rpb24oLi4ubil7ZXx8KGU9ITAsdC5hcHBseSh0aGlzLG4pKX19LGNyZWF0ZURlZmVycmVkUHJvbWlzZTpmdW5jdGlvbigpe2xldCB0LGU7cmV0dXJue3Byb21pc2U6bmV3IFByb21pc2UoKChuLHIpPT57dD1uLGU9cn0pKSxyZXNvbHZlOnQscmVqZWN0OmV9fSxwcm9taXNpZnk6dD0+bmV3IFByb21pc2UoKChlLG4pPT57dCgoKHQsLi4ucik9PnQ/bih0KTplKC4uLnIpKSl9KSksZGVidWdsb2c6KCk9PmZ1bmN0aW9uKCl7fSxmb3JtYXQ6KHQsLi4uZSk9PnQucmVwbGFjZSgvJShbc2RpZmpdKS9nLChmdW5jdGlvbiguLi5bdCxuXSl7Y29uc3Qgcj1lLnNoaWZ0KCk7aWYoXCJmXCI9PT1uKXJldHVybiByLnRvRml4ZWQoNik7aWYoXCJqXCI9PT1uKXJldHVybiBKU09OLnN0cmluZ2lmeShyKTtpZihcInNcIj09PW4mJlwib2JqZWN0XCI9PXR5cGVvZiByKXtyZXR1cm5gJHtyLmNvbnN0cnVjdG9yIT09T2JqZWN0P3IuY29uc3RydWN0b3IubmFtZTpcIlwifSB7fWAudHJpbSgpfXJldHVybiByLnRvU3RyaW5nKCl9KSksaW5zcGVjdCh0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOmlmKHQuaW5jbHVkZXMoXCInXCIpKXtpZighdC5pbmNsdWRlcygnXCInKSlyZXR1cm5gXCIke3R9XCJgO2lmKCF0LmluY2x1ZGVzKFwiYFwiKSYmIXQuaW5jbHVkZXMoXCIke1wiKSlyZXR1cm5gXFxgJHt0fVxcYGB9cmV0dXJuYCcke3R9J2A7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzTmFOKHQpP1wiTmFOXCI6T2JqZWN0LmlzKHQsLTApP1N0cmluZyh0KTp0O2Nhc2VcImJpZ2ludFwiOnJldHVybmAke1N0cmluZyh0KX1uYDtjYXNlXCJib29sZWFuXCI6Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIFN0cmluZyh0KTtjYXNlXCJvYmplY3RcIjpyZXR1cm5cInt9XCJ9fSx0eXBlczp7aXNBc3luY0Z1bmN0aW9uOnQ9PnQgaW5zdGFuY2VvZiBvLGlzQXJyYXlCdWZmZXJWaWV3OnQ9PkFycmF5QnVmZmVyLmlzVmlldyh0KX0saXNCbG9iOmF9LHQuZXhwb3J0cy5wcm9taXNpZnkuY3VzdG9tPVN5bWJvbC5mb3IoXCJub2RlanMudXRpbC5wcm9taXNpZnkuY3VzdG9tXCIpfSwyOTI6KHQsZSxuKT0+e2NvbnN0e0J1ZmZlcjpyfT1uKDQ4NSkse09iamVjdERlZmluZVByb3BlcnR5Om8sT2JqZWN0S2V5czppLFJlZmxlY3RBcHBseTphfT1uKDE5MSkse3Byb21pc2lmeTp7Y3VzdG9tOnN9fT1uKDc3NSkse3N0cmVhbVJldHVybmluZ09wZXJhdG9yczp1LHByb21pc2VSZXR1cm5pbmdPcGVyYXRvcnM6bH09big1NTQpLHtjb2Rlczp7RVJSX0lMTEVHQUxfQ09OU1RSVUNUT1I6Y319PW4oMTQxKSxmPW4oODE4KSx7cGlwZWxpbmU6ZH09big3NTQpLHtkZXN0cm95ZXI6aH09bigyMzApLHA9big4NiksZz1uKDc2MCkseT1uKDEzMiksbT10LmV4cG9ydHM9bigyMDApLlN0cmVhbTttLmlzRGlzdHVyYmVkPXkuaXNEaXN0dXJiZWQsbS5pc0Vycm9yZWQ9eS5pc0Vycm9yZWQsbS5pc1JlYWRhYmxlPXkuaXNSZWFkYWJsZSxtLlJlYWRhYmxlPW4oODU4KTtmb3IoY29uc3QgdyBvZiBpKHUpKXtjb25zdCBfPXVbd107ZnVuY3Rpb24gdiguLi50KXtpZihuZXcudGFyZ2V0KXRocm93IGMoKTtyZXR1cm4gbS5SZWFkYWJsZS5mcm9tKGEoXyx0aGlzLHQpKX1vKHYsXCJuYW1lXCIse19fcHJvdG9fXzpudWxsLHZhbHVlOl8ubmFtZX0pLG8odixcImxlbmd0aFwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTpfLmxlbmd0aH0pLG8obS5SZWFkYWJsZS5wcm90b3R5cGUsdyx7X19wcm90b19fOm51bGwsdmFsdWU6dixlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pfWZvcihjb25zdCBFIG9mIGkobCkpe2NvbnN0IFM9bFtFXTtmdW5jdGlvbiB2KC4uLnQpe2lmKG5ldy50YXJnZXQpdGhyb3cgYygpO3JldHVybiBhKFMsdGhpcyx0KX1vKHYsXCJuYW1lXCIse19fcHJvdG9fXzpudWxsLHZhbHVlOlMubmFtZX0pLG8odixcImxlbmd0aFwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTpTLmxlbmd0aH0pLG8obS5SZWFkYWJsZS5wcm90b3R5cGUsRSx7X19wcm90b19fOm51bGwsdmFsdWU6dixlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pfW0uV3JpdGFibGU9bigzNzMpLG0uRHVwbGV4PW4oMTgyKSxtLlRyYW5zZm9ybT1uKDIxMCksbS5QYXNzVGhyb3VnaD1uKDQ2NyksbS5waXBlbGluZT1kO2NvbnN0e2FkZEFib3J0U2lnbmFsOmJ9PW4oMzc0KTttLmFkZEFib3J0U2lnbmFsPWIsbS5maW5pc2hlZD1wLG0uZGVzdHJveT1oLG0uY29tcG9zZT1mLG8obSxcInByb21pc2VzXCIse19fcHJvdG9fXzpudWxsLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDooKT0+Z30pLG8oZCxzLHtfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiEwLGdldDooKT0+Zy5waXBlbGluZX0pLG8ocCxzLHtfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiEwLGdldDooKT0+Zy5maW5pc2hlZH0pLG0uU3RyZWFtPW0sbS5faXNVaW50OEFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheX0sbS5fdWludDhBcnJheVRvQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiByLmZyb20odC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9fSw3NjA6KHQsZSxuKT0+e2NvbnN0e0FycmF5UHJvdG90eXBlUG9wOnIsUHJvbWlzZTpvfT1uKDE5MSkse2lzSXRlcmFibGU6aSxpc05vZGVTdHJlYW06YSxpc1dlYlN0cmVhbTpzfT1uKDEzMikse3BpcGVsaW5lSW1wbDp1fT1uKDc1NCkse2ZpbmlzaGVkOmx9PW4oODYpO24oOTEpLHQuZXhwb3J0cz17ZmluaXNoZWQ6bCxwaXBlbGluZTpmdW5jdGlvbiguLi50KXtyZXR1cm4gbmV3IG8oKChlLG4pPT57bGV0IG8sbDtjb25zdCBjPXRbdC5sZW5ndGgtMV07aWYoYyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJiFhKGMpJiYhaShjKSYmIXMoYykpe2NvbnN0IGU9cih0KTtvPWUuc2lnbmFsLGw9ZS5lbmR9dSh0LCgodCxyKT0+e3Q/bih0KTplKHIpfSkse3NpZ25hbDpvLGVuZDpsfSl9KSl9fX0sNTMzOnQ9Pnt2YXIgZSxuLHI9dC5leHBvcnRzPXt9O2Z1bmN0aW9uIG8oKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gYSh0KXtpZihlPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dCh0LDApO2lmKChlPT09b3x8IWUpJiZzZXRUaW1lb3V0KXJldHVybiBlPXNldFRpbWVvdXQsc2V0VGltZW91dCh0LDApO3RyeXtyZXR1cm4gZSh0LDApfWNhdGNoKG4pe3RyeXtyZXR1cm4gZS5jYWxsKG51bGwsdCwwKX1jYXRjaChuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCwwKX19fSFmdW5jdGlvbigpe3RyeXtlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpvfWNhdGNoKHQpe2U9b310cnl7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0Oml9Y2F0Y2godCl7bj1pfX0oKTt2YXIgcyx1PVtdLGw9ITEsYz0tMTtmdW5jdGlvbiBmKCl7bCYmcyYmKGw9ITEscy5sZW5ndGg/dT1zLmNvbmNhdCh1KTpjPS0xLHUubGVuZ3RoJiZkKCkpfWZ1bmN0aW9uIGQoKXtpZighbCl7dmFyIHQ9YShmKTtsPSEwO2Zvcih2YXIgZT11Lmxlbmd0aDtlOyl7Zm9yKHM9dSx1PVtdOysrYzxlOylzJiZzW2NdLnJ1bigpO2M9LTEsZT11Lmxlbmd0aH1zPW51bGwsbD0hMSxmdW5jdGlvbih0KXtpZihuPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKG49PT1pfHwhbikmJmNsZWFyVGltZW91dClyZXR1cm4gbj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gbih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiBuLmNhbGwodGhpcyx0KX19fSh0KX19ZnVuY3Rpb24gaCh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIHAoKXt9ci5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO3UucHVzaChuZXcgaCh0LGUpKSwxIT09dS5sZW5ndGh8fGx8fGEoZCl9LGgucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHIudGl0bGU9XCJicm93c2VyXCIsci5icm93c2VyPSEwLHIuZW52PXt9LHIuYXJndj1bXSxyLnZlcnNpb249XCJcIixyLnZlcnNpb25zPXt9LHIub249cCxyLmFkZExpc3RlbmVyPXAsci5vbmNlPXAsci5vZmY9cCxyLnJlbW92ZUxpc3RlbmVyPXAsci5yZW1vdmVBbGxMaXN0ZW5lcnM9cCxyLmVtaXQ9cCxyLnByZXBlbmRMaXN0ZW5lcj1wLHIucHJlcGVuZE9uY2VMaXN0ZW5lcj1wLHIubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybltdfSxyLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHIuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHIuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxyLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSwzNzc6KHQsZSxuKT0+e3ZhciByPW4oNDg1KSxvPXIuQnVmZmVyO2Z1bmN0aW9uIGkodCxlKXtmb3IodmFyIG4gaW4gdCllW25dPXRbbl19ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuIG8odCxlLG4pfW8uZnJvbSYmby5hbGxvYyYmby5hbGxvY1Vuc2FmZSYmby5hbGxvY1Vuc2FmZVNsb3c/dC5leHBvcnRzPXI6KGkocixlKSxlLkJ1ZmZlcj1hKSxpKG8sYSksYS5mcm9tPWZ1bmN0aW9uKHQsZSxuKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIG8odCxlLG4pfSxhLmFsbG9jPWZ1bmN0aW9uKHQsZSxuKXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTt2YXIgcj1vKHQpO3JldHVybiB2b2lkIDAhPT1lP1wic3RyaW5nXCI9PXR5cGVvZiBuP3IuZmlsbChlLG4pOnIuZmlsbChlKTpyLmZpbGwoMCkscn0sYS5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gbyh0KX0sYS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIHIuU2xvd0J1ZmZlcih0KX19LDQ2NDoodCxlLG4pPT57dmFyIHI9bigzNzcpLkJ1ZmZlcixvPXIuaXNFbmNvZGluZ3x8ZnVuY3Rpb24odCl7c3dpdGNoKCh0PVwiXCIrdCkmJnQudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpjYXNlXCJyYXdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX07ZnVuY3Rpb24gaSh0KXt2YXIgZTtzd2l0Y2godGhpcy5lbmNvZGluZz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtpZighdClyZXR1cm5cInV0ZjhcIjtmb3IodmFyIGU7Oylzd2l0Y2godCl7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuXCJ1dGY4XCI7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuXCJ1dGYxNmxlXCI7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuXCJsYXRpbjFcIjtjYXNlXCJiYXNlNjRcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImhleFwiOnJldHVybiB0O2RlZmF1bHQ6aWYoZSlyZXR1cm47dD0oXCJcIit0KS50b0xvd2VyQ2FzZSgpLGU9ITB9fSh0KTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmKHIuaXNFbmNvZGluZz09PW98fCFvKHQpKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIit0KTtyZXR1cm4gZXx8dH0odCksdGhpcy5lbmNvZGluZyl7Y2FzZVwidXRmMTZsZVwiOnRoaXMudGV4dD11LHRoaXMuZW5kPWwsZT00O2JyZWFrO2Nhc2VcInV0ZjhcIjp0aGlzLmZpbGxMYXN0PXMsZT00O2JyZWFrO2Nhc2VcImJhc2U2NFwiOnRoaXMudGV4dD1jLHRoaXMuZW5kPWYsZT0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9ZCx2b2lkKHRoaXMuZW5kPWgpfXRoaXMubGFzdE5lZWQ9MCx0aGlzLmxhc3RUb3RhbD0wLHRoaXMubGFzdENoYXI9ci5hbGxvY1Vuc2FmZShlKX1mdW5jdGlvbiBhKHQpe3JldHVybiB0PD0xMjc/MDp0Pj41PT02PzI6dD4+ND09MTQ/Mzp0Pj4zPT0zMD80OnQ+PjY9PTI/LTE6LTJ9ZnVuY3Rpb24gcyh0KXt2YXIgZT10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLG49ZnVuY3Rpb24odCxlLG4pe2lmKDEyOCE9KDE5MiZlWzBdKSlyZXR1cm4gdC5sYXN0TmVlZD0wLFwi77+9XCI7aWYodC5sYXN0TmVlZD4xJiZlLmxlbmd0aD4xKXtpZigxMjghPSgxOTImZVsxXSkpcmV0dXJuIHQubGFzdE5lZWQ9MSxcIu+/vVwiO2lmKHQubGFzdE5lZWQ+MiYmZS5sZW5ndGg+MiYmMTI4IT0oMTkyJmVbMl0pKXJldHVybiB0Lmxhc3ROZWVkPTIsXCLvv71cIn19KHRoaXMsdCk7cmV0dXJuIHZvaWQgMCE9PW4/bjp0aGlzLmxhc3ROZWVkPD10Lmxlbmd0aD8odC5jb3B5KHRoaXMubGFzdENoYXIsZSwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKSk6KHQuY29weSh0aGlzLmxhc3RDaGFyLGUsMCx0Lmxlbmd0aCksdm9pZCh0aGlzLmxhc3ROZWVkLT10Lmxlbmd0aCkpfWZ1bmN0aW9uIHUodCxlKXtpZigodC5sZW5ndGgtZSklMj09MCl7dmFyIG49dC50b1N0cmluZyhcInV0ZjE2bGVcIixlKTtpZihuKXt2YXIgcj1uLmNoYXJDb2RlQXQobi5sZW5ndGgtMSk7aWYocj49NTUyOTYmJnI8PTU2MzE5KXJldHVybiB0aGlzLmxhc3ROZWVkPTIsdGhpcy5sYXN0VG90YWw9NCx0aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT10W3QubGVuZ3RoLTFdLG4uc2xpY2UoMCwtMSl9cmV0dXJuIG59cmV0dXJuIHRoaXMubGFzdE5lZWQ9MSx0aGlzLmxhc3RUb3RhbD0yLHRoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0xXSx0LnRvU3RyaW5nKFwidXRmMTZsZVwiLGUsdC5sZW5ndGgtMSl9ZnVuY3Rpb24gbCh0KXt2YXIgZT10JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCI7aWYodGhpcy5sYXN0TmVlZCl7dmFyIG49dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZDtyZXR1cm4gZSt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwidXRmMTZsZVwiLDAsbil9cmV0dXJuIGV9ZnVuY3Rpb24gYyh0LGUpe3ZhciBuPSh0Lmxlbmd0aC1lKSUzO3JldHVybiAwPT09bj90LnRvU3RyaW5nKFwiYmFzZTY0XCIsZSk6KHRoaXMubGFzdE5lZWQ9My1uLHRoaXMubGFzdFRvdGFsPTMsMT09PW4/dGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTFdOih0aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT10W3QubGVuZ3RoLTFdKSx0LnRvU3RyaW5nKFwiYmFzZTY0XCIsZSx0Lmxlbmd0aC1uKSl9ZnVuY3Rpb24gZih0KXt2YXIgZT10JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/ZSt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwiYmFzZTY0XCIsMCwzLXRoaXMubGFzdE5lZWQpOmV9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gdC50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiBoKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCJ9ZS5TdHJpbmdEZWNvZGVyPWksaS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7aWYoMD09PXQubGVuZ3RoKXJldHVyblwiXCI7dmFyIGUsbjtpZih0aGlzLmxhc3ROZWVkKXtpZih2b2lkIDA9PT0oZT10aGlzLmZpbGxMYXN0KHQpKSlyZXR1cm5cIlwiO249dGhpcy5sYXN0TmVlZCx0aGlzLmxhc3ROZWVkPTB9ZWxzZSBuPTA7cmV0dXJuIG48dC5sZW5ndGg/ZT9lK3RoaXMudGV4dCh0LG4pOnRoaXMudGV4dCh0LG4pOmV8fFwiXCJ9LGkucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/ZStcIu+/vVwiOmV9LGkucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS5sZW5ndGgtMTtpZihyPG4pcmV0dXJuIDA7dmFyIG89YShlW3JdKTtpZihvPj0wKXJldHVybiBvPjAmJih0Lmxhc3ROZWVkPW8tMSksbztpZigtLXI8bnx8LTI9PT1vKXJldHVybiAwO2lmKG89YShlW3JdKSxvPj0wKXJldHVybiBvPjAmJih0Lmxhc3ROZWVkPW8tMiksbztpZigtLXI8bnx8LTI9PT1vKXJldHVybiAwO2lmKG89YShlW3JdKSxvPj0wKXJldHVybiBvPjAmJigyPT09bz9vPTA6dC5sYXN0TmVlZD1vLTMpLG87cmV0dXJuIDB9KHRoaXMsdCxlKTtpZighdGhpcy5sYXN0TmVlZClyZXR1cm4gdC50b1N0cmluZyhcInV0ZjhcIixlKTt0aGlzLmxhc3RUb3RhbD1uO3ZhciByPXQubGVuZ3RoLShuLXRoaXMubGFzdE5lZWQpO3JldHVybiB0LmNvcHkodGhpcy5sYXN0Q2hhciwwLHIpLHQudG9TdHJpbmcoXCJ1dGY4XCIsZSxyKX0saS5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24odCl7aWYodGhpcy5sYXN0TmVlZDw9dC5sZW5ndGgpcmV0dXJuIHQuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCk7dC5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHQubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT10Lmxlbmd0aH19LDU0Oih0LGUsbik9PntuLmQoZSx7TVM6KCk9PkEsY0Y6KCk9PkksQUs6KCk9PlQsTV86KCk9PlIsY1g6KCk9PngsQlQ6KCk9PkludGVyb3BFcnJvcixfVzooKT0+QixQZzooKT0+bHQsJGo6KCk9PlksVSQ6KCk9Pk4sVTc6KCk9Pk19KTt2YXIgcj17ZDoodCxlKT0+e2Zvcih2YXIgbiBpbiBlKXIubyhlLG4pJiYhci5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0OmVbbl19KX0sbzoodCxlKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG89e307ci5kKG8se01TOigpPT5BcGlFcnJvcixjRjooKT0+QXBpUmVxdWVzdEVycm9yLEFLOigpPT5BdXRoVG9rZW5FeHBpcmVkRXJyb3IsTV86KCk9PkF1dGhvcml6YXRpb25FcnJvcixjWDooKT0+SW5pdGlhbGl6YXRpb25FcnJvcixZZDooKT0+bCxuajooKT0+Tm90SW1wbGVtZW50ZWRFcnJvcixPNDooKT0+UyxfVzooKT0+UGFyYW1ldGVyRXJyb3IsVSQ6KCk9PmEsVTc6KCk9PnN9KTtjbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsZSl7dmFyIG4scjtzdXBlcih0PW51bGwhPT0obj1udWxsIT10P3Q6bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKSYmdm9pZCAwIT09bj9uOlwiQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWRcIiksdGhpcy5uYW1lPXRoaXMuY29uc3RydWN0b3IubmFtZSx0aGlzLnN0YWNrPSh0P3RoaXMuc3RhY2s6bnVsbCE9PShyPW51bGw9PWU/dm9pZCAwOmUuc3RhY2spJiZ2b2lkIDAhPT1yP3I6dGhpcy5zdGFjaykucmVwbGFjZSgvXihcXHcqRXJyb3IpLyxgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9fWNsYXNzIEFwaVJlcXVlc3RFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKHQsZSxuKXt2YXIgcjtzdXBlcih0PW51bGwhPT0ocj1udWxsIT10P3Q6bnVsbD09bj92b2lkIDA6bi5tZXNzYWdlKSYmdm9pZCAwIT09cj9yOlwiQW4gZXJyb3Igb2NjdXJyZWQgd2hlbiBleGVjdXRpbmcgdGhlIEFQSSByZXF1ZXN0XCIsbiksdGhpcy5zdGF0dXM9ZX19Y2xhc3MgQXV0aG9yaXphdGlvbkVycm9yIGV4dGVuZHMgQXBpRXJyb3J7Y29uc3RydWN0b3IodCxlKXt2YXIgbjtzdXBlcih0PW51bGwhPT0obj1udWxsIT10P3Q6bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKSYmdm9pZCAwIT09bj9uOlwiQW4gYXV0aG9yaXphdGlvbiBlcnJvciBvY2N1cnJlZFwiLGUpfX1jbGFzcyBBdXRoVG9rZW5FeHBpcmVkRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3ZhciBuO3N1cGVyKHQ9bnVsbCE9PShuPW51bGwhPXQ/dDpudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpJiZ2b2lkIDAhPT1uP246XCJUaGUgQVBJIHJlcXVlc3QgZmFpbGVkIGFzIHRoZSBhdXRob3JpemF0aW9uIHRva2VucyBoYXZlIGV4cGlyZWRcIixlKX19Y2xhc3MgSW5pdGlhbGl6YXRpb25FcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKHQsZSl7dmFyIG47c3VwZXIodD1udWxsIT09KG49bnVsbCE9dD90Om51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSkmJnZvaWQgMCE9PW4/bjpcIkFuIGluaXRpYWxpemF0aW9uIGVycm9yIG9jY3VycmVkXCIsZSl9fWNsYXNzIE5vdEltcGxlbWVudGVkRXJyb3IgZXh0ZW5kcyBBcGlFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3ZhciBuO3N1cGVyKHQ9bnVsbCE9PShuPW51bGwhPXQ/dDpudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpJiZ2b2lkIDAhPT1uP246XCJUaGUgbWV0aG9kIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZFwiLGUpfX1jbGFzcyBQYXJhbWV0ZXJFcnJvciBleHRlbmRzIEFwaUVycm9ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQ9bnVsbCE9dD90OlwiSW52YWxpZCBwYXJhbWV0ZXIgZGV0ZWN0ZWRcIil9fWNvbnN0IGk9dD0+e2xldCBlPWZpbi5JbnRlZ3JhdGlvbnM7ZXx8KGZpbi5JbnRlZ3JhdGlvbnM9e30sZT1maW4uSW50ZWdyYXRpb25zKTtsZXQgbj1lW3RdO3JldHVybiBufHwoZVt0XT17fSxuPWVbdF0pLG59LGE9dD0+e2kodCkubG9nZ2luZ0VuYWJsZWQ9ITF9LHM9KHQsZT1cIjAuMC4wXCIpPT57aSh0KS5sb2dnaW5nRW5hYmxlZD0hMCxjb25zb2xlLmxvZyh1KHQpLGB2JHtlfWApfSx1PXQ9PmBbQG9wZW5maW4vJHt0LnRvTG93ZXJDYXNlKCl9XWA7Y2xhc3MgbHtjb25zdHJ1Y3Rvcih0KXt0aGlzLm5hbWU9dCx0aGlzLnByZWZpeD11KHQpLHRoaXMuaXNMb2dnaW5nRW5hYmxlZD10aGlzLmlzTG9nZ2luZ0VuYWJsZWQuYmluZCh0aGlzKSx0aGlzLmxvZ0Vycm9yPXRoaXMubG9nRXJyb3IuYmluZCh0aGlzKSx0aGlzLmxvZ0luZm89dGhpcy5sb2dJbmZvLmJpbmQodGhpcyksdGhpcy5sb2dXYXJuaW5nPXRoaXMubG9nV2FybmluZy5iaW5kKHRoaXMpfWlzTG9nZ2luZ0VuYWJsZWQoKXtyZXR1cm4gaSh0aGlzLm5hbWUpLmxvZ2dpbmdFbmFibGVkfWxvZ0Vycm9yKHQpe3RoaXMuaXNMb2dnaW5nRW5hYmxlZCgpJiYodC5pbm5lckVycm9yP2NvbnNvbGUuZXJyb3IodGhpcy5wcmVmaXgsdCxcIlxcblxcbihpbm5lcilcIix0LmlubmVyRXJyb3IpOmNvbnNvbGUuZXJyb3IodGhpcy5wcmVmaXgsdCkpfWxvZ0luZm8oLi4udCl7dGhpcy5pc0xvZ2dpbmdFbmFibGVkKCkmJmNvbnNvbGUubG9nKHRoaXMucHJlZml4LC4uLnQpfWxvZ1dhcm5pbmcoLi4udCl7dGhpcy5pc0xvZ2dpbmdFbmFibGVkKCkmJmNvbnNvbGUud2Fybih0aGlzLnByZWZpeCwuLi50KX19Y29uc3QgYz1cIm9hdXRoLWFwaS1hdXRoLWZsb3dcIixmPSh0LGUsbixyLG8saSxhLHMpPT5hc3luYyB1PT57Y29uc3QgbD1uZXcgVVJMKHUpO2lmKDAhPT1sLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKG8udG9Mb3dlckNhc2UoKSkpcmV0dXJuITE7aWYod2luZG93LmNsZWFySW50ZXJ2YWwocyksd2luZG93LmNsZWFyVGltZW91dChlKSx3aW5kb3cuY2xlYXJUaW1lb3V0KG4pLHQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdC5jbG9zZSghMCksbC5zZWFyY2hQYXJhbXMuZ2V0KFwiZXJyb3JcIikpe2NvbnN0IHQ9bmV3IEFwaUVycm9yKFwiQXV0aG9yaXphdGlvbiBlcnJvclwiKTtyZXR1cm4gdC5kYXRhPWwudG9TdHJpbmcoKSxhKHQpLCEwfWlmKGwuc2VhcmNoUGFyYW1zLmdldChcInN0YXRlXCIpIT09cil7Y29uc3QgdD1uZXcgQXBpRXJyb3IoXCJTdGF0ZSBtaXNtYXRjaFwiKTtyZXR1cm4gdC5kYXRhPWwudG9TdHJpbmcoKSxhKHQpLCEwfWNvbnN0IGM9bC5zZWFyY2hQYXJhbXMuZ2V0KFwiY29kZVwiKTtpZighYyl7Y29uc3QgdD1uZXcgQXBpRXJyb3IoXCJBdXRob3JpemF0aW9uIGNvZGUgbWlzc2luZ1wiKTtyZXR1cm4gdC5kYXRhPWwudG9TdHJpbmcoKSxhKHQpLCEwfXJldHVybiBpKGMpLCEwfSxkPSh0LGUsbixyKT0+YXN5bmMobyxpKT0+e2xldCBhO2NvbnN0IHM9d2luZG93LnNldFRpbWVvdXQoKCgpPT57d2luZG93LmNsZWFySW50ZXJ2YWwoYSksd2luZG93LmNsZWFyVGltZW91dChzKSx0LnJlbW92ZUFsbExpc3RlbmVycygpLHQuY2xvc2UoITApLGkobmV3IEFwaUVycm9yKFwiQXV0aG9yaXphdGlvbiB0aW1lZCBvdXRcIikpfSksM2U1KTt0LmFkZExpc3RlbmVyKFwiY2xvc2luZ1wiLChhc3luYygpPT57ci5sb2dJbmZvKFwiVXNlciBjbG9zZWQgYXV0aCB3aW5kb3dcIiksd2luZG93LmNsZWFySW50ZXJ2YWwoYSksd2luZG93LmNsZWFyVGltZW91dChzKSx0LnJlbW92ZUFsbExpc3RlbmVycygpLGkobmV3IEFwaUVycm9yKFwiRmFpbGVkIHRvIGNvbXBsZXRlIGF1dGhvcml6YXRpb24gY29kZSBmbG93XCIpKX0pKTtjb25zdCB1PXdpbmRvdy5zZXRUaW1lb3V0KChhc3luYygpPT57dHJ5e2F3YWl0IHQuaXNTaG93aW5nKCl8fChyLmxvZ0luZm8oXCJTaG93aW5nIGF1dGggd2luZG93XCIpLGF3YWl0IHQuc2hvdyghMCksYXdhaXQgdC5mb2N1cygpKX1jYXRjaCh0KXtyLmxvZ1dhcm5pbmcoXCJVbmFibGUgdG8gc2hvdyBhdXRoIHdpbmRvd1wiKX19KSwyZTMpLHt2ZXJzaW9uOmx9PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0UnVudGltZUluZm8oKTtwYXJzZUludChsLnNwbGl0KFwiLlwiKVswXSwxMCk+PTMwP2F3YWl0IGYodCxzLHUsZSxuLG8saSkoKGF3YWl0IHQuZ2V0SW5mbygpKS51cmwpfHxhd2FpdCB0LmFkZExpc3RlbmVyKFwidXJsLWNoYW5nZWRcIiwoYT0+e3IubG9nSW5mbyhcIkF1dGggd2luZG93IG5hdmlnYXRlZCB0b1wiLGEudXJsKSxmKHQscyx1LGUsbixvLGkpKGEudXJsKX0pKTphPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pihhc3luYyh0LGUsbixyLG8saSxhLHMpPT57bGV0IHU7dHJ5e3U9YXdhaXQgdC5nZXRJbmZvKCl9Y2F0Y2godCl7cmV0dXJuIHdpbmRvdy5jbGVhckludGVydmFsKGUpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksd2luZG93LmNsZWFyVGltZW91dChyKSxzKG5ldyBBcGlFcnJvcihcIkNvdWxkIG5vdCBsb2NhdGUgYXV0aCB3aW5kb3dcIikpLCExfXJldHVybiBmKHQsbixyLG8saSxhLHMsZSkodS51cmwpfSkodCxhLHMsdSxlLG4sbyxpKSksNTAwKX0saD0oKT0+e2xldCB0LGUsbixyO2NvbnN0IG89YXN5bmMoZSxuPSExKT0+e2NvbnN0e2NvbW1hbmQ6cixkYXRhOmEsaWQ6c309ZSx1PXtjb21tYW5kOnIsaWQ6c307dHJ5e2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkFjY2VzcyB0b2tlbiBub3QgZm91bmRcIik7Y29uc3R7YXBpUmVxdWVzdFVybDpyLGRhdGE6cyxoZWFkZXJzOmwsaHR0cE1ldGhvZDpjLGluY2x1ZGVBdXRob3JpemF0aW9uOmZ9PWEsZD1hd2FpdChhc3luYyhlLG4scixvLGkpPT57dmFyIGEscztjb25zdCB1PU9iamVjdC5hc3NpZ24oe0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIn0sbyk7XCJQQVRDSFwiIT09biYmXCJQT1NUXCIhPT1uJiZcIlBVVFwiIT09bnx8L2NvbnRlbnQtdHlwZS9pLnRlc3QoT2JqZWN0LmtleXModSkuam9pbihcIixcIikpfHwodVtcIkNvbnRlbnQtVHlwZVwiXT1cImFwcGxpY2F0aW9uL2pzb25cIiksaSYmKHUuQXV0aG9yaXphdGlvbj1gQmVhcmVyICR7dH1gKTtjb25zdCBsPWF3YWl0IGZldGNoKGUse2JvZHk6XCJvYmplY3RcIj09dHlwZW9mIHI/SlNPTi5zdHJpbmdpZnkocik6cixoZWFkZXJzOnUsbWV0aG9kOm59KTtpZighbC5vayl7Y29uc3QgdD17bWVzc2FnZTpcIkZhaWxlZCB0byBleGVjdXRlIEFQSSByZXF1ZXN0XCJ9O3JldHVybihudWxsPT09KGE9bC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSYmKHQuZGF0YT1hd2FpdCBsLmpzb24oKSksW2wuc3RhdHVzLHZvaWQgMCx2b2lkIDAsdF19bGV0IGM7Y29uc3QgZj1udWxsIT09KHM9bC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKSkmJnZvaWQgMCE9PXM/czpcIlwiO3N3aXRjaCghMCl7Y2FzZSFmOmJyZWFrO2Nhc2UvXmFwcGxpY2F0aW9uXFwvKFxcdytcXCspP2pzb24vaS50ZXN0KGYpOmM9YXdhaXQgbC5qc29uKCk7YnJlYWs7Y2FzZS9ebXVsdGlwYXJ0XFwvZm9ybS0/ZGF0YXxeYXBwbGljYXRpb25cXC94LT93d3ctP2Zvcm0tP3VybGVuY29kZWQvaS50ZXN0KGYpOmM9YXdhaXQgbC5mb3JtRGF0YSgpO2JyZWFrO2Nhc2UvXmFwcGxpY2F0aW9uXFwvKChbXi9dKyk/eG1sfHZuZFxcLm9wZW54bWxmb3JtYXRzKXxedGV4dFxcL3xeaW1hZ2VcXC9zdmcvaS50ZXN0KGYpOmM9YXdhaXQgbC50ZXh0KCk7YnJlYWs7ZGVmYXVsdDpjPWF3YWl0IGwuYXJyYXlCdWZmZXIoKX1yZXR1cm5bbC5zdGF0dXMsYyxmLHZvaWQgMF19KShyLGMscyxsLGYpLFtoLHAsZyx5XT1kO2lmKHUuc3RhdHVzPWgseSl7aWYoIW4mJjQwMT09PWgpe2NvbnN0W3Qsbl09YXdhaXQgaSgpO3JldHVybiBuPyh1LnN0YXR1cz10LHUuZXJyb3I9bix1KTphd2FpdCBvKGUsITApfXUuZXJyb3I9eX1lbHNlIHAmJih1LmRhdGE9cCx1LnR5cGU9Zyl9Y2F0Y2godCl7dCBpbnN0YW5jZW9mIEVycm9yP3UuZXJyb3I9e21lc3NhZ2U6dC5tZXNzYWdlfTp1LmVycm9yPXttZXNzYWdlOlwiRmFpbGVkIHRvIGV4ZWN1dGUgQVBJIHJlcXVlc3RcIn19cmV0dXJuIFByb21pc2UucmVzb2x2ZSh1KX0saT1hc3luYygpPT57dmFyIG87aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgbm90IHNldFwiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgSUQgbm90IHNldFwiKTtjb25zdCBpPWBncmFudF90eXBlPXJlZnJlc2hfdG9rZW4mY2xpZW50X2lkPSR7ZX0mcmVmcmVzaF90b2tlbj0ke3J9YCxhPWF3YWl0IGZldGNoKG4udG9rZW5fZW5kcG9pbnQse2JvZHk6aSxoZWFkZXJzOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSxtZXRob2Q6XCJQT1NUXCJ9KTtpZighYS5vayl7Y29uc3QgdD17bWVzc2FnZTpcIkZhaWxlZCB0byByZWZyZXNoIGFjY2VzcyB0b2tlblwifTtyZXR1cm4obnVsbD09PShvPWEuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkmJih0LmRhdGE9YXdhaXQgYS5qc29uKCkpLFthLnN0YXR1cyx0XX1jb25zdCBzPWF3YWl0IGEuanNvbigpO3JldHVybiB0PXMuYWNjZXNzX3Rva2VuLFthLnN0YXR1c119O3NlbGYub25tZXNzYWdlPWFzeW5jIGk9Pntjb25zdHtjb21tYW5kOmEsaWQ6c309aS5kYXRhO2xldCB1PXtjb21tYW5kOmEsaWQ6c307c3dpdGNoKGEpe2Nhc2VcIkFQSV9SRVFVRVNUXCI6dT1hd2FpdCBvKGkuZGF0YSk7YnJlYWs7Y2FzZVwiQ09ERV9FWENIQU5HRVwiOnU9YXdhaXQoYXN5bmMgbz0+e3ZhciBpO2NvbnN0e2NvbW1hbmQ6YSxkYXRhOnMsaWQ6dX09byxsPXtjb21tYW5kOmEsaWQ6dX07dHJ5e2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkF1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhIG5vdCBzZXRcIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IElEIG5vdCBzZXRcIik7Y29uc3R7Y29kZTpvLGNvZGVWZXJpZmllcjphLHJlZGlyZWN0VXJpOnV9PXMsYz1gZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGUmY2xpZW50X2lkPSR7ZX0mY29kZT0ke299JmNvZGVfdmVyaWZpZXI9JHthfSZyZWRpcmVjdF91cmk9JHt1fWAsZj1hd2FpdCBmZXRjaChuLnRva2VuX2VuZHBvaW50LHtib2R5OmMsaGVhZGVyczp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn0sbWV0aG9kOlwiUE9TVFwifSk7aWYoZi5vayl7Y29uc3QgZT1hd2FpdCBmLmpzb24oKTt0PWUuYWNjZXNzX3Rva2VuLHI9ZS5yZWZyZXNoX3Rva2VufWVsc2V7Y29uc3QgdD17bWVzc2FnZTpcIkZhaWxlZCB0byByZXRyaWV2ZSB0b2tlbnNcIn07KG51bGw9PT0oaT1mLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpJiYodC5kYXRhPWF3YWl0IGYuanNvbigpKSxsLmVycm9yPXR9fWNhdGNoKHQpe3QgaW5zdGFuY2VvZiBFcnJvcj9sLmVycm9yPXttZXNzYWdlOnQubWVzc2FnZX06bC5lcnJvcj17bWVzc2FnZTpcIkZhaWxlZCB0byByZXRyaWV2ZSB0b2tlbnNcIn19cmV0dXJuIFByb21pc2UucmVzb2x2ZShsKX0pKGkuZGF0YSk7YnJlYWs7Y2FzZVwiRVhQSVJFX1RPS0VOU1wiOnU9YXdhaXQoYXN5bmMgZT0+e3ZhciBvO2NvbnN0e2NvbW1hbmQ6aSxleHBpcmVBY2Nlc3NUb2tlbk9ubHk6YSxpZDpzfT1lLHU9e2NvbW1hbmQ6aSxpZDpzfTt0cnl7aWYoIWEmJiFyKXRocm93IG5ldyBFcnJvcihcIlJlZnJlc2ggdG9rZW4gbm90IGZvdW5kXCIpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkF1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhIG5vdCBzZXRcIik7aWYoIW4ucmV2b2NhdGlvbl9lbmRwb2ludCl0aHJvdyBuZXcgRXJyb3IoXCJSZXZvY2F0aW9uIGVuZHBvaW50IG1pc3NpbmcgaW4gYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGFcIik7Y29uc3QgZT1hP3Q6cixpPWF3YWl0IGZldGNoKGAke24ucmV2b2NhdGlvbl9lbmRwb2ludH0/dG9rZW49JHtlfWAse2hlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIn19KTtpZighaS5vayl7Y29uc3QgdD17bWVzc2FnZTpcIkZhaWxlZCB0byByZXZva2UgdG9rZW5zXCJ9OyhudWxsPT09KG89aS5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSYmKHQuZGF0YT1hd2FpdCBpLmpzb24oKSksdS5lcnJvcj10fX1jYXRjaCh0KXt0IGluc3RhbmNlb2YgRXJyb3I/dS5lcnJvcj17bWVzc2FnZTp0Lm1lc3NhZ2V9OnUuZXJyb3I9e21lc3NhZ2U6XCJGYWlsZWQgdG8gcmV2b2tlIHRva2Vuc1wifX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHUpfSkoaS5kYXRhKTticmVhaztjYXNlXCJJTklUXCI6dT1hd2FpdChhc3luYyB0PT57Y29uc3R7Y29tbWFuZDpyLGRhdGE6byxpZDppfT10LGE9e2NvbW1hbmQ6cixpZDppfTtyZXR1cm4gZT1vLmNsaWVudElkLG49by5tZXRhZGF0YSxQcm9taXNlLnJlc29sdmUoYSl9KShpLmRhdGEpO2JyZWFrO2RlZmF1bHQ6dS5lcnJvcj1uZXcgRXJyb3IoYFVuZXhwZWN0ZWQgb2F1dGggd29ya2VyIGNvbW1hbmQ6ICR7YX1gKX1zZWxmLnBvc3RNZXNzYWdlKHUpfX07dmFyIHA7IWZ1bmN0aW9uKHQpe3QuQXBpUmVxdWVzdD1cIkFQSV9SRVFVRVNUXCIsdC5Db2RlRXhjaGFuZ2U9XCJDT0RFX0VYQ0hBTkdFXCIsdC5FeHBpcmVUb2tlbnM9XCJFWFBJUkVfVE9LRU5TXCIsdC5Jbml0PVwiSU5JVFwifShwfHwocD17fSkpO2NvbnN0IGc9W10seT10PT57Zy5wdXNoKHQpfSxtPSh0LGUpPT4obixyLG8pPT5uZXcgUHJvbWlzZSgoKGksYSk9Pntjb25zdCBzPXtjb21tYW5kOnAuQ29kZUV4Y2hhbmdlLGRhdGE6e2NvZGU6bixjb2RlVmVyaWZpZXI6cixyZWRpcmVjdFVyaTpvfSxpZDpEYXRlLm5vdygpLnRvU3RyaW5nKCl9LHtjb21tYW5kOnUsaWQ6bH09czt5KHtjb21tYW5kOnUsaWQ6bCxyZWplY3Q6YSxyZXNvbHZlOml9KSx0LnBvc3RNZXNzYWdlKHMpLGUubG9nSW5mbyhcIldvcmtlciByZXF1ZXN0IHNlbnRcIixzKX0pKSx2PSh0LGUsbik9PihyLG8saSxhLHMpPT5uZXcgUHJvbWlzZSgoKHUsbCk9Pntjb25zdCBjPXtjb21tYW5kOnAuQXBpUmVxdWVzdCxkYXRhOnthcGlSZXF1ZXN0VXJsOnIsY2xpZW50SWQ6dCxkYXRhOmksaGVhZGVyczphLGh0dHBNZXRob2Q6byxpbmNsdWRlQXV0aG9yaXphdGlvbjpzfSxpZDpEYXRlLm5vdygpLnRvU3RyaW5nKCl9LHtjb21tYW5kOmYsaWQ6ZH09Yzt5KHtjb21tYW5kOmYsaWQ6ZCxyZWplY3Q6bCxyZXNvbHZlOnV9KSxlLnBvc3RNZXNzYWdlKGMpLG4ubG9nSW5mbyhcIldvcmtlciByZXF1ZXN0IHNlbnRcIixjKX0pKSxiPSh0LGUpPT5uPT5uZXcgUHJvbWlzZSgoKHIsbyk9Pntjb25zdCBpPXtjb21tYW5kOnAuRXhwaXJlVG9rZW5zLGV4cGlyZUFjY2Vzc1Rva2VuT25seTpuLGlkOkRhdGUubm93KCkudG9TdHJpbmcoKX0se2NvbW1hbmQ6YSxpZDpzfT1pO3koe2NvbW1hbmQ6YSxpZDpzLHJlamVjdDpvLHJlc29sdmU6cn0pLHQucG9zdE1lc3NhZ2UoaSksZS5sb2dJbmZvKFwiV29ya2VyIHJlcXVlc3Qgc2VudFwiLGkpfSkpLHc9dD0+ZT0+e3QubG9nSW5mbyhcIldvcmtlciByZXNwb25zZSByZWNlaXZlZFwiLGUuZGF0YSk7Y29uc3Qgbj1lLmRhdGEse2NvbW1hbmQ6cixlcnJvcjpvLGlkOml9PW4sYT1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZlLmluZGV4T2Yocik8MCYmKG5bcl09dFtyXSk7aWYobnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO288ci5sZW5ndGg7bysrKWUuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxyW29dKSYmKG5bcltvXV09dFtyW29dXSl9cmV0dXJuIG59KG4sW1wiY29tbWFuZFwiLFwiZXJyb3JcIixcImlkXCJdKSxzPSgodCxlKT0+Zy5maW5kKChuPT5uLmNvbW1hbmQ9PT1lJiZuLmlkPT09dCkpKShpLHIpO3M/KG8/KFwic3RhdHVzXCJpbiBhJiZ2b2lkIDAhPT1hLnN0YXR1cyYmKG8uc3RhdHVzPWEuc3RhdHVzKSxzLnJlamVjdChvKSk6cy5yZXNvbHZlKGEpLF8oaSxyKSk6dC5sb2dFcnJvcihuZXcgRXJyb3IoXCJVbmFibGUgdG8gbG9jYXRlIGF3YWl0ZWQgcmVxdWVzdFwiKSl9LF89KHQsZSk9Pntjb25zdCBuPWcuZmluZEluZGV4KChuPT5uLmNvbW1hbmQ9PT1lJiZuLmlkPT09dCkpO24+PTAmJmcuc3BsaWNlKG4sMSl9LEU9KHQsZSk9PmFzeW5jKCk9Pnt0cnl7YXdhaXQgYih0LGUpKCExKX1jYXRjaCh0KXtlLmxvZ1dhcm5pbmcodC5tZXNzYWdlKX10LnRlcm1pbmF0ZSgpLGUubG9nSW5mbyhcIldvcmtlciB0ZXJtaW5hdGVkXCIpfTtjbGFzcyBTe2dldCBhcGlPcmlnaW4oKXtyZXR1cm4gdGhpcy5fYXBpT3JpZ2lufWdldCBjbGllbnRJZCgpe3JldHVybiB0aGlzLl9jbGllbnRJZH1nZXQgbG9nZ2VyKCl7cmV0dXJuIHRoaXMuX2xvZ2dlcn1nZXQgbWV0YWRhdGEoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGF9Z2V0IHdvcmtlcigpe3JldHVybiB0aGlzLl93b3JrZXJ9Y29uc3RydWN0b3IodCxlLG4scixvKXtpZih0aGlzLmV4ZWN1dGVBcGlSZXF1ZXN0PWFzeW5jKHQsZT1cIkdFVFwiLG4scixvPSEwLGk9ITEpPT57dGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJFeGVjdXRlQXBpUmVxdWVzdCBzdGFydGVkXCIsdCxlLG4scik7dHJ5e2NvbnN0IGk9YXdhaXQoKHQsZSk9PmFzeW5jKG4scixvLGksYSk9Pnt0cnl7cmV0dXJuIGF3YWl0IGUuZXhlY3V0ZUFwaVJlcXVlc3QoYCR7dH0ke259YCxyLG8saSxhKX1jYXRjaCh0KXtsZXQgZTtjb25zdHtkYXRhOm4sbWVzc2FnZTpyLHN0YXR1czpvfT10O3Rocm93IGU9dCBpbnN0YW5jZW9mIEVycm9yP25ldyBBcGlSZXF1ZXN0RXJyb3IocixvKTpcIkZhaWxlZCB0byByZWZyZXNoIGFjY2VzcyB0b2tlblwiPT09cj9uZXcgQXV0aFRva2VuRXhwaXJlZEVycm9yKHIpOm5ldyBBcGlSZXF1ZXN0RXJyb3IocixvKSxlLmRhdGE9bixlfX0pKHRoaXMuX2FwaU9yaWdpbix0aGlzLl93b3JrZXIpKHQsZSxuLHIsbyk7cmV0dXJuIHRoaXMuX2xvZ2dlci5sb2dJbmZvKFwiRXhlY3V0ZUFwaVJlcXVlc3QgY29tcGxldGVkXCIsaSksaX1jYXRjaCh0KXtpZih0IGluc3RhbmNlb2YgQXBpUmVxdWVzdEVycm9yKXtjb25zdHtkYXRhOmUsbWVzc2FnZTpuLG5hbWU6cixzdGFjazpvfT10LGk9dGhpcy5nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2UoZSk7aSYmKHQubWVzc2FnZT1pLHQuc3RhY2s9bnVsbD09bz92b2lkIDA6by5yZXBsYWNlKGAke3J9OiAke259YCxgJHtyfTogJHtpfWApKX10aHJvdyBpJiZ0aGlzLmxvZ2dlci5sb2dFcnJvcih0KSx0fX0sISh0JiZlJiZuJiZyJiZvKSl0aHJvdyBuZXcgSW5pdGlhbGl6YXRpb25FcnJvcihcIlByb3ZpZGVyIGhhcyBub3QgYmVlbiBwcm9wZXJseSBpbml0aWFsaXplZCAoY2FsbCBpbml0IHRvIGNyZWF0ZSBuZXcgaW5zdGFuY2VzKVwiKTt0aGlzLl9hcGlPcmlnaW49dCx0aGlzLl9jbGllbnRJZD1lLHRoaXMuX21ldGFkYXRhPW4sdGhpcy5fd29ya2VyPXIsdGhpcy5fbG9nZ2VyPW8sdGhpcy5hdXRob3JpemU9dGhpcy5hdXRob3JpemUuYmluZCh0aGlzKSx0aGlzLmNsb3NlPXRoaXMuY2xvc2UuYmluZCh0aGlzKSx0aGlzLmV4ZWN1dGVBcGlSZXF1ZXN0PXRoaXMuZXhlY3V0ZUFwaVJlcXVlc3QuYmluZCh0aGlzKSx0aGlzLmV4cGlyZVRva2Vucz10aGlzLmV4cGlyZVRva2Vucy5iaW5kKHRoaXMpLHRoaXMuZ2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlPXRoaXMuZ2V0RXJyb3JNZXNzYWdlRnJvbVNlcnZlclJlc3BvbnNlLmJpbmQodGhpcyl9YXN5bmMgYXV0aG9yaXplKHQsZSxuKXtpZih0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkF1dGhvcml6ZSBzdGFydGVkXCIsdCxlLG4pLCF0aGlzLl9tZXRhZGF0YXx8IXRoaXMuX2NsaWVudElkfHwhdGhpcy5fd29ya2VyKXRocm93IG5ldyBJbml0aWFsaXphdGlvbkVycm9yKFwiUHJvdmlkZXIgaGFzIG5vdCBiZWVuIHByb3Blcmx5IGluaXRpYWxpemVkIChjYWxsIGluaXQgdG8gY3JlYXRlIG5ldyBpbnN0YW5jZXMpXCIpO3RyeXthd2FpdChyPXRoaXMuX21ldGFkYXRhLG89dGhpcy5fY2xpZW50SWQsaT10aGlzLl93b3JrZXIsYT10aGlzLl9sb2dnZXIsYXN5bmModCxlLG4pPT57Y29uc3R7YXV0aG9yaXphdGlvbl9lbmRwb2ludDpzfT1yLHU9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCksbD0oYXdhaXQgdS5nZXRDaGlsZFdpbmRvd3MoKSkuZmluZCgodD0+dC5pZGVudGl0eS5uYW1lPT09YykpO2wmJmF3YWl0IGwuY2xvc2UoITApO2NvbnN0IGY9KG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxoPSgoKT0+e2NvbnN0IHQ9bmV3IFVpbnQzMkFycmF5KDY0KTtyZXR1cm4gd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXModCksQXJyYXkuZnJvbSh0LCh0PT5gMCR7dC50b1N0cmluZygxNil9YC5zbGljZSgtMikpKS5qb2luKFwiXCIpfSkoKSxwPShhd2FpdChhc3luYyB0PT57Y29uc3QgZT0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCksbj1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsZSkscj1hd2FpdCh0PT5uZXcgUHJvbWlzZSgoKGUsbik9Pnt0cnl7Y29uc3Qgcj1uZXcgQmxvYihbdF0pLG89bmV3IEZpbGVSZWFkZXI7by5vbmxvYWQ9dD0+e3ZhciByLG87Y29uc3QgaT1udWxsPT09KHI9dC50YXJnZXQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnJlc3VsdDtpZihpKXtjb25zdFssdF09QXJyYXkuZnJvbShudWxsIT09KG89aS5tYXRjaCgvYmFzZTY0LCguKikkL2kpKSYmdm9pZCAwIT09bz9vOltdKTtlKG51bGwhPXQ/dDpcIlwiKX1uKG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZW1wdHkgcmVzdWx0XCIpKX0sby5yZWFkQXNEYXRhVVJMKHIpfWNhdGNoKHQpe24odCl9fSkpKShuKTtyZXR1cm4gci5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXCJfXCIpfSkoaCkpLnJlcGxhY2UoLz0rJC8sXCJcIik7bGV0IGc9XCJcIjtlJiYoZz1cIiZcIixnKz1PYmplY3QuZW50cmllcyhlKS5tYXAoKHQ9PmAke2VuY29kZVVSSUNvbXBvbmVudCh0WzBdKX09JHtlbmNvZGVVUklDb21wb25lbnQodFsxXSl9YCkpLmpvaW4oXCImXCIpKTtjb25zdCB5PWAke3N9P2NsaWVudF9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChvKX0mcmVkaXJlY3RfdXJpPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQpfSZyZXNwb25zZV90eXBlPWNvZGUmc3RhdGU9JHtmfSZjb2RlX2NoYWxsZW5nZT0ke3B9JmNvZGVfY2hhbGxlbmdlX21ldGhvZD1TMjU2JHtnfWAsbT1udWxsIT1uP246e30se2RlZmF1bHRIZWlnaHQ6dixkZWZhdWx0V2lkdGg6Yn09bSx3PWZ1bmN0aW9uKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmUuaW5kZXhPZihyKTwwJiYobltyXT10W3JdKTtpZihudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7bzxyLmxlbmd0aDtvKyspZS5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LHJbb10pJiYobltyW29dXT10W3Jbb11dKX1yZXR1cm4gbn0obSxbXCJkZWZhdWx0SGVpZ2h0XCIsXCJkZWZhdWx0V2lkdGhcIl0pO2EubG9nSW5mbyhcIlN0YXJ0aW5nIE9BdXRoIGZsb3dcIix5KTtjb25zdCBfPWF3YWl0IGZpbi5XaW5kb3cuY3JlYXRlKE9iamVjdC5hc3NpZ24oe2Fsd2F5c09uVG9wOiEwLG1heGltaXphYmxlOiExLG1pbmltaXphYmxlOiExLGF1dG9TaG93OiExLGRlZmF1bHRDZW50ZXJlZDohMCxkZWZhdWx0SGVpZ2h0Om51bGwhPXY/djo3MDAsZGVmYXVsdFdpZHRoOm51bGwhPWI/Yjo2MDAsaW5jbHVkZUluU25hcHNob3RzOiExLG5hbWU6YyxyZXNpemFibGU6ITEsc2F2ZVdpbmRvd1N0YXRlOiExLHNob3dUYXNrYmFySWNvbjohMSx1cmw6eX0sdykpLEU9YXdhaXQgbmV3IFByb21pc2UoZChfLGYsdCxhKSk7YS5sb2dJbmZvKFwiUmVjZWl2ZWQgYXV0aG9yaXphdGlvbiBjb2RlXCIpLGF3YWl0IGkuZXhjaGFuZ2VDb2RlRm9yVG9rZW5zKEUsaCx0KSxhLmxvZ0luZm8oXCJSZWNlaXZlZCB0b2tlbnNcIil9KSh0LGUsbiksdGhpcy5fbG9nZ2VyLmxvZ0luZm8oXCJBdXRob3JpemUgY29tcGxldGVkXCIpfWNhdGNoKHQpe2xldCBlO2lmKHQgaW5zdGFuY2VvZiBBcGlFcnJvcil7Y29uc3R7ZGF0YTpufT10LHI9dGhpcy5nZXRFcnJvck1lc3NhZ2VGcm9tU2VydmVyUmVzcG9uc2Uobik7ZT1uZXcgQXV0aG9yaXphdGlvbkVycm9yKHIsdCksZS5kYXRhPW59ZWxzZSBlPW5ldyBBdXRob3JpemF0aW9uRXJyb3Iodm9pZCAwLHQpO3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKGUpLGV9dmFyIHIsbyxpLGF9YXN5bmMgY2xvc2UoKXt2YXIgdDt0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkNsb3NlIHN0YXJ0ZWRcIik7dHJ5e2F3YWl0KG51bGw9PT0odD10aGlzLl93b3JrZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRlcm1pbmF0ZSgpKSx0aGlzLl93b3JrZXI9dm9pZCAwLHRoaXMuX2FwaU9yaWdpbj12b2lkIDAsdGhpcy5fY2xpZW50SWQ9dm9pZCAwLHRoaXMuX21ldGFkYXRhPXZvaWQgMCx0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkNsb3NlIGNvbXBsZXRlZFwiKX1jYXRjaCh0KXtjb25zdCBlPW5ldyBBcGlFcnJvcih2b2lkIDAsdCk7dGhyb3cgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKGUpLGV9fWFzeW5jIGV4cGlyZVRva2Vucyh0PSExKXt2YXIgZTt0aGlzLl9sb2dnZXIubG9nSW5mbyhcIkV4cGlyZVRva2VucyBzdGFydGVkXCIpO3RyeXthd2FpdChudWxsPT09KGU9dGhpcy5fd29ya2VyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5leHBpcmVUb2tlbnModCkpLHRoaXMuX2xvZ2dlci5sb2dJbmZvKFwiRXhwaXJlVG9rZW5zIGNvbXBsZXRlZFwiKX1jYXRjaCh0KXtjb25zdCBlPW5ldyBBcGlFcnJvcih2b2lkIDAsdCk7dGhyb3cgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKGUpLGV9fWdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZSh0KXt0JiZ0aGlzLl9sb2dnZXIubG9nV2FybmluZyh0KX1zdGF0aWMgYXN5bmMgaW5pdCh0LGUsbixyLC4uLm8pe2NvbnN0IGk9bmV3IGwocik7bGV0IGE7aS5sb2dJbmZvKFwiSW5pdCBzdGFydGVkXCIsdCxlLG4pO3RyeXthPW5ldyBVUkwoZSl9Y2F0Y2godCl7Y29uc3QgZT1uZXcgUGFyYW1ldGVyRXJyb3IoXCJVbmV4cGVjdGVkIGludmFsaWQgQVBJIG9yaWdpblwiKTt0aHJvdyBpLmxvZ0Vycm9yKGUpLGV9dHJ5e2NvbnN0IGU9YXdhaXQoYXN5bmMgdD0+e2xldCBlO3RyeXtlPW5ldyBVUkwodCl9Y2F0Y2godCl7dGhyb3cgbmV3IFBhcmFtZXRlckVycm9yKFwiVW5leHBlY3RlZCBpbnZhbGlkIG1ldGFkYXRhIFVSTFwiKX1jb25zdCBuPWF3YWl0IGZldGNoKGUse2hlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIn19KTtpZighbi5vayl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcmV0cmlldmUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGFcIik7Y29uc3Qgcj1hd2FpdCBuLmpzb24oKTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGVtcHR5IGF1dGhvcml6YXRpb24gc2VydmVyIG1ldGFkYXRhIHJlc3BvbnNlXCIpO2lmKCFyLnJlc3BvbnNlX3R5cGVzX3N1cHBvcnRlZC5maW5kKCh0PT5cImNvZGVcIj09PXQudG9Mb3dlckNhc2UoKSkpKXRocm93IG5ldyBFcnJvcihcIkF1dGhvcml6YXRpb24gc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGF1dGhvcml6YXRpb24gY29kZSByZXNwb25zZSB0eXBlXCIpO3JldHVybiByfSkodCkscj1hd2FpdChhc3luYyh0LGUsbik9Pntjb25zdCByPW5ldyBCbG9iKFtgKCR7aH0pKClgXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSksbz1VUkwuY3JlYXRlT2JqZWN0VVJMKHIpLGk9bmV3IFdvcmtlcihvKTtyZXR1cm4gaS5vbm1lc3NhZ2U9dyhuKSxhd2FpdCgodCxlLG4scik9Pm5ldyBQcm9taXNlKCgobyxpKT0+e2NvbnN0IGE9e2NvbW1hbmQ6cC5Jbml0LGRhdGE6e2NsaWVudElkOmUsbWV0YWRhdGE6dH0saWQ6RGF0ZS5ub3coKS50b1N0cmluZygpfSx7Y29tbWFuZDpzLGlkOnV9PWE7eSh7Y29tbWFuZDpzLGlkOnUscmVqZWN0OmkscmVzb2x2ZTpvfSksbi5wb3N0TWVzc2FnZShhKSxyLmxvZ0luZm8oXCJXb3JrZXIgcmVxdWVzdCBzZW50XCIsYSl9KSkpKHQsZSxpLG4pLHtleGNoYW5nZUNvZGVGb3JUb2tlbnM6bShpLG4pLGV4ZWN1dGVBcGlSZXF1ZXN0OnYoZSxpLG4pLGV4cGlyZVRva2VuczpiKGksbiksdGVybWluYXRlOkUoaSxuKX19KShlLG4saSk7cmV0dXJuIGkubG9nSW5mbyhcIkluaXQgY29tcGxldGVkXCIsZSksbmV3IFMoYS5vcmlnaW4sbixlLHIsaSl9Y2F0Y2godCl7bGV0IGU7dGhyb3cgZT10IGluc3RhbmNlb2YgQXBpRXJyb3I/dDpuZXcgSW5pdGlhbGl6YXRpb25FcnJvcih2b2lkIDAsdCksaS5sb2dFcnJvcihlKSxlfX19dmFyIEE9by5NUyxJPW8uY0YsVD1vLkFLLFI9by5NXyx4PW8uY1gsQz1vLk80LEI9by5fVyxrPW8uVSQsTD1vLlU3LE89big5NTEpO2NvbnN0IFU9XCIxLjAuMVwiLGo9XCJNaWNyb3NvZnQzNjVcIixOPSgpPT57ayhqKX0sTT0oKT0+e0woaixVKX07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBmaW4mJk9iamVjdC5hc3NpZ24od2luZG93LHtmaW46e319KSxPYmplY3QuYXNzaWduKGZpbix7SW50ZWdyYXRpb25zOntNaWNyb3NvZnQzNjU6e2VuYWJsZUxvZ2dpbmc6TSxkaXNhYmxlTG9nZ2luZzpOfX19KSk7Y29uc3QgUD10PT5hc3luYyhlLG4scixvLGkpPT57dmFyIGE7cmV0dXJuIGU9KGE9ZSkuc3RhcnRzV2l0aChcIi9cIik/YTpgLyR7YX1gLHQuZXhlY3V0ZUFwaVJlcXVlc3QoZSxuLHIsbyxpLCEwKX0sVz1hc3luYyh0LGUsbj1bXSk9Pntjb25zdCByPVtcImlkXCIsXCJ1c2VyUHJpbmNpcGFsTmFtZVwiLFwidXNlclR5cGVcIiwuLi5uXS5qb2luKFwiLFwiKSxvPWF3YWl0KGFzeW5jKHQsZT1bXSk9PntpZighKG51bGw9PWU/dm9pZCAwOmUubGVuZ3RoKSlyZXR1cm5bXTtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cis9MjApe2NvbnN0IG89e3JlcXVlc3RzOmUuc2xpY2UocixyKzIwKS5tYXAoKHQ9Pih0LmlkPWNyeXB0by5yYW5kb21VVUlEKCksdCkpKX07bi5wdXNoKHQuZXhlY3V0ZUFwaVJlcXVlc3QoXCIvdjEuMC8kYmF0Y2hcIixcIlBPU1RcIixvKSl9Y29uc3Qgcj0oYXdhaXQgUHJvbWlzZS5hbGwobikpLmZsYXRNYXAoKHQ9PnQuZGF0YS5yZXNwb25zZXMpKTtyZXR1cm4gZS5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXIuZmluZCgoZT0+ZS5pZD09PXQuaWQpKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuYm9keX0pKX0pKHQsZS5tYXAoKHQ9Pih7bWV0aG9kOlwiR0VUXCIsdXJsOmAvdXNlcnM/JGZpbHRlcj1tYWlsIGVxICcke2VuY29kZVVSSUNvbXBvbmVudCh0KX0nJiRzZWxlY3Q9JHtyfWB9KSkpKSxpPW8ubWFwKCh0PT57dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10LnZhbHVlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZVswXX0pKTtyZXR1cm4gdC5sb2dnZXIubG9nSW5mbyhcIlJlc29sdmVkIHVzZXJzIGZyb20gZW1haWwgYWRkcmVzc2VzXCIsaSxlKSxpfTt2YXIgJD1uKDMwMCk7Y29uc3QgRD10PT50Lm1hcCgodD0+dD97aWQ6dC51c2VyUHJpbmNpcGFsTmFtZSxlbWFpbEFkZHJlc3M6dC5tYWlsLG5hbWU6dC5kaXNwbGF5TmFtZX06dm9pZCAwKSksRj1hc3luYyh0LGUpPT57dHJ5e2F3YWl0IGZpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcImludGVncmF0aW9uLWZlYXR1cmVcIixkYXRhOnthcGlWZXJzaW9uOlUsY29tcG9uZW50TmFtZTp0fX0pfWNhdGNoKG4pe2UubG9nV2FybmluZyhgVW5hYmxlIHRvIHJlZ2lzdGVyIHVzYWdlIGZvciBmZWF0dXJlICR7dH06ICR7bnVsbD09bj92b2lkIDA6bi5tZXNzYWdlfWApfX0sej10PT57bGV0IGU9dDtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LmZpbHRlcihCb29sZWFuKS5tYXAoeik6KFwib2JqZWN0XCI9PXR5cGVvZiB0JiYoZT1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModCkuZmlsdGVyKCgoWyx0XSk9PnZvaWQgMCE9PShudWxsIT10P3Q6dm9pZCAwKSkpLm1hcCgoKFt0LGVdKT0+W3QseihlKV0pKSkpLGUpfSxxPXQ9Pi8jRVhUI0AvLnRlc3QodC51c2VyUHJpbmNpcGFsTmFtZSk7dmFyIEg7IWZ1bmN0aW9uKHQpe3QuTVMzNjU9XCJNUy0zNjVcIix0LlRlYW1zPVwiTVMtVEVBTVNcIn0oSHx8KEg9e30pKTtjbGFzcyBWIGV4dGVuZHMgQ3tnZXQgY3VycmVudFVzZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudFVzZXJ9Z2V0IHJlZGlyZWN0VXJpKCl7cmV0dXJuIHRoaXMuX3JlZGlyZWN0VXJpfWdldCBwZXJtaXNzaW9ucygpe3JldHVybiB0aGlzLl9wZXJtaXNzaW9uc31nZXQgdGVuYW50SWQoKXtyZXR1cm4gdGhpcy5fdGVuYW50SWR9Y29uc3RydWN0b3IodCxlLG4scixvLGksYSxzKXtzdXBlcih0LGUsaSxhLHMpLHRoaXMuX3Blcm1pc3Npb25zPW8sdGhpcy5fcmVkaXJlY3RVcmk9cix0aGlzLl90ZW5hbnRJZD1uLEYoSC5NUzM2NSxzKX1hc3luYyBhdXRob3JpemUodCxlLG4pe2F3YWl0IHN1cGVyLmF1dGhvcml6ZSh0LGUsbik7Y29uc3Qgcj1hd2FpdChhc3luYyB0PT57Y29uc3R7ZGF0YTplfT1hd2FpdCB0LmV4ZWN1dGVBcGlSZXF1ZXN0KFwiL3YxLjAvbWVcIik7cmV0dXJuIGV9KSh0aGlzKTt0aGlzLl9jdXJyZW50VXNlcj1yfWdldEVycm9yTWVzc2FnZUZyb21TZXJ2ZXJSZXNwb25zZSh0KXt2YXIgZSxuLHI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdHJ5e3JldHVybiBudWxsPT09KG49bnVsbD09PShlPW5ldyBVUkwodCkuc2VhcmNoUGFyYW1zLmdldChcImVycm9yX2Rlc2NyaXB0aW9uXCIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zcGxpdCgvXFxyXFxuLykpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuWzBdfWNhdGNoKHQpe3JldHVybn1yZXR1cm4gbnVsbD09PShyPW51bGw9PXQ/dm9pZCAwOnQuZXJyb3IpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1lc3NhZ2V9c3RhdGljIGFzeW5jIGluaXQodCxlLG4scixvLGksYSl7Y29uc3Qgcz1hd2FpdCBzdXBlci5pbml0KHQsZSxuLHIpO3JldHVybiBuZXcgVihlLG4sbyxpLGEsbnVsbD09cz92b2lkIDA6cy5tZXRhZGF0YSxudWxsPT1zP3ZvaWQgMDpzLndvcmtlcixudWxsPT1zP3ZvaWQgMDpzLmxvZ2dlcil9fWNvbnN0IEc9W1wiVXNlci5SZWFkQmFzaWMuQWxsXCIsXCJUZWFtLlJlYWRCYXNpYy5BbGxcIixcIkNoYW5uZWwuUmVhZEJhc2ljLkFsbFwiLFwiQ2hhbm5lbE1lc3NhZ2UuU2VuZFwiLFwiQ2hhdC5DcmVhdGVcIixcIkNoYXRNZXNzYWdlLlNlbmRcIixcIm9mZmxpbmVfYWNjZXNzXCJdO2xldCBKO2NvbnN0IFk9YXN5bmModCxlLG4scj1bXSxvLGkpPT57YXdhaXQgSyh0LGUsbixyKTtjb25zdCBhPU9iamVjdC5hc3NpZ24oe3Njb3BlOlsuLi5HLC4uLnJdLmpvaW4oXCIgXCIpfSxvKSxzPU9iamVjdC5hc3NpZ24oe2RlZmF1bHRIZWlnaHQ6NjAwLGRlZmF1bHRXaWR0aDo1NTB9LGkpO3JldHVybiBhd2FpdCBKLmF1dGhvcml6ZShuLGEscykse2NsaWVudElkOnQsY3VycmVudFVzZXI6Si5jdXJyZW50VXNlcixkaXNjb25uZWN0OkouY2xvc2UsZXhlY3V0ZUFwaVJlcXVlc3Q6UChKKSxwcm92aWRlcjpKLHRlbmFudElkOmV9fSxLPWFzeW5jKHQsZSxuLHIpPT57aWYoIXQpdGhyb3cgbmV3IEIoXCJJbnZhbGlkIGNsaWVudCBJRFwiKTtpZighZSl0aHJvdyBuZXcgQihcIkludmFsaWQgdGVuYW50IElEXCIpO2lmKCFuKXRocm93IG5ldyBCKFwiSW52YWxpZCByZWRpcmVjdCBVUklcIik7Y29uc3Qgbz1gaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLyR7ZX0vdjIuMC8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbmA7KCFKfHxKLmNsaWVudElkIT09dHx8Si50ZW5hbnRJZCE9PWV8fEoucmVkaXJlY3RVcmkhPT1ufHwoMCxPLnhvcikoSi5wZXJtaXNzaW9ucyxyKS5sZW5ndGg+MCkmJihKPWF3YWl0IFYuaW5pdChvLFwiaHR0cHM6Ly9ncmFwaC5taWNyb3NvZnQuY29tXCIsdCxqLGUsbixyKSl9O2NsYXNzIEludGVyb3BFcnJvciBleHRlbmRzIEF7Y29uc3RydWN0b3IodCxlKXt2YXIgbjtzdXBlcih0PW51bGwhPT0obj1udWxsIT10P3Q6bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKSYmdm9pZCAwIT09bj9uOlwiQW4gaW50ZXJvcCBlcnJvciBvY2N1cnJlZFwiLGUpfX12YXIgWCxaLFE7IWZ1bmN0aW9uKHQpe3QuQXBwTm90Rm91bmQ9XCJBcHBOb3RGb3VuZFwiLHQuRXJyb3JPbkxhdW5jaD1cIkVycm9yT25MYXVuY2hcIix0LkFwcFRpbWVvdXQ9XCJBcHBUaW1lb3V0XCIsdC5SZXNvbHZlclVuYXZhaWxhYmxlPVwiUmVzb2x2ZXJVbmF2YWlsYWJsZVwifShYfHwoWD17fSkpLGZ1bmN0aW9uKHQpe3QuTm9BcHBzRm91bmQ9XCJOb0FwcHNGb3VuZFwiLHQuUmVzb2x2ZXJVbmF2YWlsYWJsZT1cIlJlc29sdmVyVW5hdmFpbGFibGVcIix0LlJlc29sdmVyVGltZW91dD1cIlJlc29sdmVyVGltZW91dFwifShafHwoWj17fSkpLGZ1bmN0aW9uKHQpe3QuTm9DaGFubmVsRm91bmQ9XCJOb0NoYW5uZWxGb3VuZFwiLHQuQWNjZXNzRGVuaWVkPVwiQWNjZXNzRGVuaWVkXCIsdC5DcmVhdGlvbkZhaWxlZD1cIkNyZWF0aW9uRmFpbGVkXCJ9KFF8fChRPXt9KSk7dmFyIHR0LGV0O3R0PWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlLG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHksbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGk9by5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIsYT1vLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIscz1vLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiB1KHQsZSxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHRbZV19dHJ5e3Uoe30sXCJcIil9Y2F0Y2godCl7dT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bn19ZnVuY3Rpb24gbCh0LGUsbixyKXt2YXIgbz1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIHk/ZTp5LGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSksYT1uZXcgeChyfHxbXSk7cmV0dXJuIGkuX2ludm9rZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZjtyZXR1cm4gZnVuY3Rpb24obyxpKXtpZihyPT09aCl0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKHI9PT1wKXtpZihcInRocm93XCI9PT1vKXRocm93IGk7cmV0dXJuIEIoKX1mb3Iobi5tZXRob2Q9byxuLmFyZz1pOzspe3ZhciBhPW4uZGVsZWdhdGU7aWYoYSl7dmFyIHM9SShhLG4pO2lmKHMpe2lmKHM9PT1nKWNvbnRpbnVlO3JldHVybiBzfX1pZihcIm5leHRcIj09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09bi5tZXRob2Qpe2lmKHI9PT1mKXRocm93IHI9cCxuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlXCJyZXR1cm5cIj09PW4ubWV0aG9kJiZuLmFicnVwdChcInJldHVyblwiLG4uYXJnKTtyPWg7dmFyIHU9Yyh0LGUsbik7aWYoXCJub3JtYWxcIj09PXUudHlwZSl7aWYocj1uLmRvbmU/cDpkLHUuYXJnPT09Zyljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpuLmRvbmV9fVwidGhyb3dcIj09PXUudHlwZSYmKHI9cCxuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9dS5hcmcpfX19KHQsbixhKSxpfWZ1bmN0aW9uIGModCxlLG4pe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwoZSxuKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzp0fX19dC53cmFwPWw7dmFyIGY9XCJzdXNwZW5kZWRTdGFydFwiLGQ9XCJzdXNwZW5kZWRZaWVsZFwiLGg9XCJleGVjdXRpbmdcIixwPVwiY29tcGxldGVkXCIsZz17fTtmdW5jdGlvbiB5KCl7fWZ1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gdigpe312YXIgYj17fTtiW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciB3PU9iamVjdC5nZXRQcm90b3R5cGVPZixfPXcmJncodyhDKFtdKSkpO18mJl8hPT1uJiZyLmNhbGwoXyxpKSYmKGI9Xyk7dmFyIEU9di5wcm90b3R5cGU9eS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiKTtmdW5jdGlvbiBTKHQpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dSh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBBKHQsZSl7ZnVuY3Rpb24gbihvLGksYSxzKXt2YXIgdT1jKHRbb10sdCxpKTtpZihcInRocm93XCIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLGY9bC52YWx1ZTtyZXR1cm4gZiYmXCJvYmplY3RcIj09dHlwZW9mIGYmJnIuY2FsbChmLFwiX19hd2FpdFwiKT9lLnJlc29sdmUoZi5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSxzKX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEscyl9KSk6ZS5yZXNvbHZlKGYpLnRoZW4oKGZ1bmN0aW9uKHQpe2wudmFsdWU9dCxhKGwpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEscyl9KSl9cyh1LmFyZyl9dmFyIG87dGhpcy5faW52b2tlPWZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxvKXtuKHQscixlLG8pfSkpfXJldHVybiBvPW8/by50aGVuKGksaSk6aSgpfX1mdW5jdGlvbiBJKHQsbil7dmFyIHI9dC5pdGVyYXRvcltuLm1ldGhvZF07aWYocj09PWUpe2lmKG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1uLm1ldGhvZCl7aWYodC5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPWUsSSh0LG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKSlyZXR1cm4gZztuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIil9cmV0dXJuIGd9dmFyIG89YyhyLHQuaXRlcmF0b3Isbi5hcmcpO2lmKFwidGhyb3dcIj09PW8udHlwZSlyZXR1cm4gbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW8uYXJnLG4uZGVsZWdhdGU9bnVsbCxnO3ZhciBpPW8uYXJnO3JldHVybiBpP2kuZG9uZT8oblt0LnJlc3VsdE5hbWVdPWkudmFsdWUsbi5uZXh0PXQubmV4dExvYyxcInJldHVyblwiIT09bi5tZXRob2QmJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz1lKSxuLmRlbGVnYXRlPW51bGwsZyk6aToobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxuLmRlbGVnYXRlPW51bGwsZyl9ZnVuY3Rpb24gVCh0KXt2YXIgZT17dHJ5TG9jOnRbMF19OzEgaW4gdCYmKGUuY2F0Y2hMb2M9dFsxXSksMiBpbiB0JiYoZS5maW5hbGx5TG9jPXRbMl0sZS5hZnRlckxvYz10WzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaChlKX1mdW5jdGlvbiBSKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIHgodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sdC5mb3JFYWNoKFQsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gQyh0KXtpZih0KXt2YXIgbj10W2ldO2lmKG4pcmV0dXJuIG4uY2FsbCh0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKHIuY2FsbCh0LG8pKXJldHVybiBuLnZhbHVlPXRbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9ZSxuLmRvbmU9ITAsbn07cmV0dXJuIGEubmV4dD1hfX1yZXR1cm57bmV4dDpCfX1mdW5jdGlvbiBCKCl7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19cmV0dXJuIG0ucHJvdG90eXBlPUUuY29uc3RydWN0b3I9dix2LmNvbnN0cnVjdG9yPW0sbS5kaXNwbGF5TmFtZT11KHYscyxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLHQuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT1tfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LHQubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LHYpOih0Ll9fcHJvdG9fXz12LHUodCxzLFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRSksdH0sdC5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0sUyhBLnByb3RvdHlwZSksQS5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5Bc3luY0l0ZXJhdG9yPUEsdC5hc3luYz1mdW5jdGlvbihlLG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBBKGwoZSxuLHIsbyksaSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTphLm5leHQoKX0pKX0sUyhFKSx1KEUscyxcIkdlbmVyYXRvclwiKSxFW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSx0LmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpZS5wdXNoKG4pO3JldHVybiBlLnJldmVyc2UoKSxmdW5jdGlvbiBuKCl7Zm9yKDtlLmxlbmd0aDspe3ZhciByPWUucG9wKCk7aWYociBpbiB0KXJldHVybiBuLnZhbHVlPXIsbi5kb25lPSExLG59cmV0dXJuIG4uZG9uZT0hMCxufX0sdC52YWx1ZXM9Qyx4LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eCxyZXNldDpmdW5jdGlvbih0KXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1lLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9ZSx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChSKSwhdClmb3IodmFyIG4gaW4gdGhpcylcInRcIj09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09ZSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIHQ9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZG9uZSl0aHJvdyB0O3ZhciBuPXRoaXM7ZnVuY3Rpb24gbyhyLG8pe3JldHVybiBzLnR5cGU9XCJ0aHJvd1wiLHMuYXJnPXQsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPWUpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1hLnRyeUxvYylyZXR1cm4gbyhcImVuZFwiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgdT1yLmNhbGwoYSxcImNhdGNoTG9jXCIpLGw9ci5jYWxsKGEsXCJmaW5hbGx5TG9jXCIpO2lmKHUmJmwpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIWwpdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gbyhhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8by5maW5hbGx5TG9jKXt2YXIgaT1vO2JyZWFrfX1pJiYoXCJicmVha1wiPT09dHx8XCJjb250aW51ZVwiPT09dCkmJmkudHJ5TG9jPD1lJiZlPD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9dCxhLmFyZz1lLGk/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2MsZyk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24odCxlKXtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuXCJicmVha1wiPT09dC50eXBlfHxcImNvbnRpbnVlXCI9PT10LnR5cGU/dGhpcy5uZXh0PXQuYXJnOlwicmV0dXJuXCI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLGd9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksUihuKSxnfX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4udHJ5TG9jPT09dCl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIG89ci5hcmc7UihuKX1yZXR1cm4gb319dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6Qyh0KSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9ZSksZ319LHR9KHQuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT1lfWNhdGNoKHQpe0Z1bmN0aW9uKFwiclwiLFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShlKX19LHR0KGV0PXtleHBvcnRzOnt9fSxldC5leHBvcnRzKTt2YXIgbnQ7IWZ1bmN0aW9uKHQpe3QuQ29udGFjdD1cImZkYzMuY29udGFjdFwiLHQuQ29udGFjdExpc3Q9XCJmZGMzLmNvbnRhY3RMaXN0XCIsdC5Db3VudHJ5PVwiZmRjMy5jb3VudHJ5XCIsdC5JbnN0cnVtZW50PVwiZmRjMy5pbnN0cnVtZW50XCIsdC5Pcmdhbml6YXRpb249XCJmZGMzLm9yZ2FuaXphdGlvblwiLHQuUG9ydGZvbGlvPVwiZmRjMy5wb3J0Zm9saW9cIix0LlBvc2l0aW9uPVwiZmRjMy5wb3NpdGlvblwifShudHx8KG50PXt9KSk7dmFyIHJ0OyFmdW5jdGlvbih0KXt0LlN0YXJ0Q2FsbD1cIlN0YXJ0Q2FsbFwiLHQuU3RhcnRDaGF0PVwiU3RhcnRDaGF0XCIsdC5WaWV3Q2hhcnQ9XCJWaWV3Q2hhcnRcIix0LlZpZXdDb250YWN0PVwiVmlld0NvbnRhY3RcIix0LlZpZXdRdW90ZT1cIlZpZXdRdW90ZVwiLHQuVmlld05ld3M9XCJWaWV3TmV3c1wiLHQuVmlld0luc3RydW1lbnQ9XCJWaWV3SW5zdHJ1bWVudFwiLHQuVmlld0FuYWx5c2lzPVwiVmlld0FuYWx5c2lzXCJ9KHJ0fHwocnQ9e30pKTtjb25zdCBvdD1cIm9mbXMzNjVhY3Rpb25cIixpdD1hc3luYyh0LGUpPT57dmFyIG4scixvLGk7Y29uc3R7Y2hhcnRJbWFnZTphLGNvbnRleHQ6c309ZSx7cHJpY2VDdXJyZW50OnUscHJpY2VIaWdoOmwscHJpY2VMb3c6YyxwcmljZU9wZW46Zn09ZSxkPShudWxsPT09KHI9bnVsbD09PShuPXMuaWQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRpY2tlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIudHJpbSgpKXx8dm9pZCAwLGg9KG51bGw9PT0obz1zLm5hbWUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRyaW0oKSl8fHZvaWQgMDtsZXQgcCxnLHksbSx2LGI7aWYobnVsbCE9ZS50aW1lc3RhbXB8fCFhKXRyeXtwPW5ldyBEYXRlKG51bGwhPT0oaT1lLnRpbWVzdGFtcCkmJnZvaWQgMCE9PWk/aTpEYXRlLm5vdygpKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLlxcZCtaJC8sXCIrMDA6MDBcIil9Y2F0Y2gobil7dC5sb2dnZXIubG9nV2FybmluZyhcIkludmFsaWQgdGltZXN0YW1wXCIsZS50aW1lc3RhbXApfWlmKG51bGwhPXUmJm51bGwhPWYmJihnPXUtZix5PWcvZioxMDAsdj1nPjA/XCLilrJcIjpnPDA/XCLilrxcIjpcIuKXj1wiLG09Zz4wP1wiR29vZFwiOmc8MD9cIkF0dGVudGlvblwiOlwiV2FybmluZ1wiKSxhKXtpZighL15pbWFnZVxcLyhnaWZ8anAoZXxlP2cpfHBuZykkL2kudGVzdChhLnR5cGUpKXRocm93IG5ldyBCKFwiQ2hhcnQgaW1hZ2UgTUlNRSB0eXBlIG5vdCBzdXBwb3J0ZWRcIik7dHJ5e2I9YXdhaXQoYXN5bmMgdD0+bmV3IFByb21pc2UoKChlLG4pPT57Y29uc3Qgcj1uZXcgRmlsZVJlYWRlcjtyLm9ubG9hZGVuZD0oKT0+ZShyLnJlc3VsdCksci5vbmVycm9yPSgpPT5uKG5ldyBFcnJvcihcIkZhaWxlZCB0byBjb252ZXJ0IGJsb2IgdG8gYmFzZTY0XCIpKSxyLnJlYWRBc0RhdGFVUkwodCl9KSkpKGEpfWNhdGNoKHQpe3Rocm93IG5ldyBBKFwiRmFpbGVkIHRvIGNvbnZlcnQgYmxvYiB0byBiYXNlNjRcIix0KX19Y29uc3Qgdz0oYXdhaXQgZmluLlN5c3RlbS5nZXRSdW50aW1lSW5mbygpKS5tYW5pZmVzdFVybCxfPXtjb250ZXh0OnMsaW50ZW50OmE/cnQuVmlld0NoYXJ0OnJ0LlZpZXdJbnN0cnVtZW50LHZlcnNpb246VX0sRT0oUz1fLCgwLCQuY29tcHJlc3MpKEpTT04uc3RyaW5naWZ5KFMpLHtvdXRwdXRFbmNvZGluZzpcIkJhc2U2NFwifSkpO3ZhciBTO2NvbnN0IEk9YCR7d30/JCQke290fT0ke2VuY29kZVVSSUNvbXBvbmVudChFKX1gLFQ9YGh0dHBzOi8vc3RhcnQub3BlbmZpbi5jby8/bWFuaWZlc3Q9JHtlbmNvZGVVUklDb21wb25lbnQoSSl9YCxSPXskc2NoZW1hOlwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW8vc2NoZW1hcy9hZGFwdGl2ZS1jYXJkLmpzb25cIix0eXBlOlwiQWRhcHRpdmVDYXJkXCIsdmVyc2lvbjpcIjEuNFwiLGJvZHk6W3t0eXBlOlwiQ29sdW1uU2V0XCIsY29sdW1uczpbe3R5cGU6XCJDb2x1bW5cIix3aWR0aDpcInN0cmV0Y2hcIixpdGVtczpbe3R5cGU6XCJDb250YWluZXJcIixpdGVtczpbe3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0Om51bGwhPWg/aDpkLnRvVXBwZXJDYXNlKCksd3JhcDohMCxzaXplOlwiTGFyZ2VcIixzcGFjaW5nOlwiTm9uZVwifSxoJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6ZC50b1VwcGVyQ2FzZSgpLGlzU3VidGxlOiEwLHdyYXA6ITAsc3BhY2luZzpcIk5vbmVcIn0scCYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OmB7e0RBVEUoJHtwfSwgU0hPUlQpfX0ge3tUSU1FKCR7cH0pfX1gLHdyYXA6ITAsc2l6ZTpcIlNtYWxsXCJ9XX1dfSxudWxsIT11JiYhYiYme3R5cGU6XCJDb2x1bW5cIix3aWR0aDpcInN0cmV0Y2hcIixpdGVtczpbe3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OnUudG9GaXhlZCgyKSxzaXplOlwiRXh0cmFMYXJnZVwiLHdyYXA6ITAsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCJ9LG51bGwhPWcmJm51bGwhPXkmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpgJHt2fSAke2cudG9GaXhlZCgyKX0gKCR7eS50b0ZpeGVkKDIpfSUpYCxjb2xvcjptLHNwYWNpbmc6XCJOb25lXCIsd3JhcDohMCxob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIn0sKG51bGwhPWZ8fG51bGwhPWx8fG51bGwhPWMpJiZ7dHlwZTpcIkNvbnRhaW5lclwiLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwiLGl0ZW1zOlt7dHlwZTpcIkNvbHVtblNldFwiLGNvbHVtbnM6W3t0eXBlOlwiQ29sdW1uXCIsd2lkdGg6XCJzdHJldGNoXCIsaXRlbXM6W251bGwhPWYmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpcIk9wZW5cIix3cmFwOiEwLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwiLHNpemU6XCJTbWFsbFwiLHdlaWdodDpcIkJvbGRlclwiLHNwYWNpbmc6XCJOb25lXCJ9LG51bGwhPWwmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpcIkhpZ2hcIix3cmFwOiEwLHNwYWNpbmc6XCJOb25lXCIsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCIsc2l6ZTpcIlNtYWxsXCIsd2VpZ2h0OlwiQm9sZGVyXCJ9LG51bGwhPWMmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpcIkxvd1wiLHdyYXA6ITAsc3BhY2luZzpcIk5vbmVcIixob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIixzaXplOlwiU21hbGxcIix3ZWlnaHQ6XCJCb2xkZXJcIn1dfSx7dHlwZTpcIkNvbHVtblwiLHdpZHRoOlwiYXV0b1wiLGl0ZW1zOltudWxsIT1mJiZ7dHlwZTpcIlRleHRCbG9ja1wiLHRleHQ6Zi50b0ZpeGVkKDIpLHdyYXA6ITAsc3BhY2luZzpcIk5vbmVcIixob3Jpem9udGFsQWxpZ25tZW50OlwiUmlnaHRcIixzaXplOlwiU21hbGxcIn0sbnVsbCE9bCYme3R5cGU6XCJUZXh0QmxvY2tcIix0ZXh0OmwudG9GaXhlZCgyKSx3cmFwOiEwLHNwYWNpbmc6XCJOb25lXCIsaG9yaXpvbnRhbEFsaWdubWVudDpcIlJpZ2h0XCIsc2l6ZTpcIlNtYWxsXCJ9LG51bGwhPWMmJnt0eXBlOlwiVGV4dEJsb2NrXCIsdGV4dDpjLnRvRml4ZWQoMiksd3JhcDohMCxzcGFjaW5nOlwiTm9uZVwiLGhvcml6b250YWxBbGlnbm1lbnQ6XCJSaWdodFwiLHNpemU6XCJTbWFsbFwifV19XX1dLHNwYWNpbmc6XCJTbWFsbFwifV19XX0sYiYme3R5cGU6XCJJbWFnZVwiLHVybDpcIi4uL2hvc3RlZENvbnRlbnRzLzEvJHZhbHVlXCIsc3BhY2luZzpcIlNtYWxsXCJ9LHt0eXBlOlwiQWN0aW9uU2V0XCIsYWN0aW9uczpbe3R5cGU6XCJBY3Rpb24uT3BlblVybFwiLHVybDpULHRpdGxlOlwiT3BlblwifV19XX0seD17YXR0YWNobWVudHM6W3tpZDpcIjFcIixjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3ZuZC5taWNyb3NvZnQuY2FyZC5hZGFwdGl2ZVwiLGNvbnRlbnQ6SlNPTi5zdHJpbmdpZnkoeihSKSl9XSxib2R5Ontjb250ZW50VHlwZTpcImh0bWxcIixjb250ZW50Oic8YXR0YWNobWVudCBpZD1cIjFcIj48L2F0dGFjaG1lbnQ+J30sc3VtbWFyeTpcIlRlc3Qgc3VtbWFyeVwifTtpZihiKXtjb25zdFssdCxlXT1bLi4uYi5tYXRjaCgvXmRhdGE6KFteO10rKTtiYXNlNjQsKC4rKSQvaSldO3guaG9zdGVkQ29udGVudHM9W3tcIkBtaWNyb3NvZnQuZ3JhcGgudGVtcG9yYXJ5SWRcIjpcIjFcIixjb250ZW50Qnl0ZXM6ZSxjb250ZW50VHlwZTp0fV19cmV0dXJuIHh9LGF0PXQ9PnQ/XCJtc3RlYW1zOlwiOlwiaHR0cHM6Ly90ZWFtcy5taWNyb3NvZnQuY29tXCIsc3Q9YXN5bmMgdD0+e2NvbnN0IGU9bnVsbD09dD92b2lkIDA6dFtvdF07aWYoZSl0cnl7Y29uc3QgdD0odD0+e2NvbnN0IGU9KDAsJC5kZWNvbXByZXNzKSh0LHtpbnB1dEVuY29kaW5nOlwiQmFzZTY0XCIsb3V0cHV0RW5jb2Rpbmc6XCJTdHJpbmdcIn0pO3JldHVybiBKU09OLnBhcnNlKGUpfSkoZSkse2NvbnRleHQ6bixpbnRlbnQ6cn09dCxvPXtjb250ZXh0Om4sbmFtZTpyfTtyZXR1cm4gYXdhaXQgZmluLm1lLmludGVyb3AuZmlyZUludGVudChvKSxvfWNhdGNoKHQpe2NvbnN0IGU9dC5tZXNzYWdlO3Rocm93IG5ldyBBKFwiRmFpbGVkIHRvIGRlY29tcHJlc3Mgc2hhcmUgcGF5bG9hZFwiKyhlP2AgKCR7ZX0pYDpcIlwiKSx0KX19LHV0PWFzeW5jKHQsZSxuKT0+e2NvbnN0IHI9YXdhaXQoYXN5bmModCxlLG49W10pPT57dHJ5e2NvbnN0IHI9W1wiaWRcIiwuLi5uXS5qb2luKFwiLFwiKSx7ZGF0YTpvfT1hd2FpdCB0LmV4ZWN1dGVBcGlSZXF1ZXN0KGAvdjEuMC90ZWFtcy8ke2VuY29kZVVSSUNvbXBvbmVudChlKX0/JHNlbGVjdD0ke3J9YCk7cmV0dXJuIG99Y2F0Y2godCl7aWYoNDA0IT09dC5zdGF0dXMpdGhyb3cgdH19KSh0LGUsW1wiZGlzcGxheU5hbWVcIl0pO2lmKCFyKXJldHVybjtsZXQgbztpZih0LmxvZ2dlci5sb2dJbmZvKFwiUmVzb2x2ZWQgdGVhbVwiLHIpLG4pe2lmKG89YXdhaXQoYXN5bmModCxlLG4scj1bXSk9Pnt0cnl7Y29uc3Qgbz1bXCJpZFwiLC4uLnJdLmpvaW4oXCIsXCIpLHtkYXRhOml9PWF3YWl0IHQuZXhlY3V0ZUFwaVJlcXVlc3QoYC92MS4wL3RlYW1zLyR7ZW5jb2RlVVJJQ29tcG9uZW50KG4pfS9jaGFubmVscy8ke2VuY29kZVVSSUNvbXBvbmVudChlKX0/JHNlbGVjdD0ke299YCk7cmV0dXJuIGl9Y2F0Y2godCl7aWYoNDA0IT09dC5zdGF0dXMpdGhyb3cgdH19KSh0LG4sZSxbXCJkaXNwbGF5TmFtZVwiXSksIW8pcmV0dXJuIHZvaWQgdC5sb2dnZXIubG9nV2FybmluZyhgQ291bGQgbm90IHJlc29sdmUgY2hhbm5lbCBmcm9tIGlkICR7bn1gKX1lbHNle3QubG9nZ2VyLmxvZ0luZm8oXCJObyBjaGFubmVsIGlkIHN1cHBsaWVkLCB1c2luZyBwcmltYXJ5IGNoYW5uZWxcIik7Y29uc3R7ZGF0YTpufT1hd2FpdCB0LmV4ZWN1dGVBcGlSZXF1ZXN0KGAvdjEuMC90ZWFtcy8ke2VuY29kZVVSSUNvbXBvbmVudChlKX0vcHJpbWFyeUNoYW5uZWw/JHNlbGVjdD1kaXNwbGF5TmFtZSxpZGApO289bn1jb25zdCBpPXtjaGFubmVsSWQ6by5pZCxjaGFubmVsTmFtZTpvLmRpc3BsYXlOYW1lLHRlYW1JZDpyLmlkLHRlYW1OYW1lOnIuZGlzcGxheU5hbWV9O3JldHVybiB0LmxvZ2dlci5sb2dJbmZvKFwiUmVzb2x2ZWQgdGVhbSBjaGFubmVsXCIsZSxuLGkpLGl9O2NsYXNzIGx0e2NvbnN0cnVjdG9yKHQsZT0hMCl7dGhpcy5sb2dnZXI9dC5wcm92aWRlci5sb2dnZXIsdGhpcy5wcm92aWRlcj10LnByb3ZpZGVyLHRoaXMudXNlTXNUZWFtc1Byb3RvY29sPWUsdGhpcy5yZWdpc3RlckludGVudEhhbmRsZXJzPXRoaXMucmVnaXN0ZXJJbnRlbnRIYW5kbGVycy5iaW5kKHRoaXMpLHRoaXMuc2hhcmU9dGhpcy5zaGFyZS5iaW5kKHRoaXMpLHRoaXMuc3RhcnRDYWxsPXRoaXMuc3RhcnRDYWxsLmJpbmQodGhpcyksdGhpcy5zdGFydENoYXQ9dGhpcy5zdGFydENoYXQuYmluZCh0aGlzKSx0aGlzLmVuYWJsZVNoYXJlUGF5bG9hZEhhbmRsZXIoKSxGKEguVGVhbXMsdGhpcy5sb2dnZXIpfWFzeW5jIGVuYWJsZVNoYXJlUGF5bG9hZEhhbmRsZXIoKXtjb25zdHtpbml0aWFsT3B0aW9uczp0fT1hd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRJbmZvKCkse3VzZXJBcHBDb25maWdBcmdzOmV9PXQsbj1hd2FpdCBzdChlKTtuJiZ0aGlzLmxvZ2dlci5sb2dJbmZvKFwiRmlyaW5nIGludGVudFwiLG4pLGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmFkZExpc3RlbmVyKFwicnVuLXJlcXVlc3RlZFwiLChhc3luYyB0PT57dHJ5e2NvbnN0IGU9YXdhaXQgc3QodC51c2VyQXBwQ29uZmlnQXJncyk7ZSYmdGhpcy5sb2dnZXIubG9nSW5mbyhcIkZpcmluZyBpbnRlbnRcIixlKX1jYXRjaCh0KXt0aGlzLmxvZ2dlci5sb2dFcnJvcih0KX19KSl9YXN5bmMgb3BlblVybCh0KXt0aGlzLmxvZ2dlci5sb2dJbmZvKFwib3BlblVybCBzdGFydGVkXCIsdCk7dHJ5e2NvbnN0IGU9dGhpcy51c2VNc1RlYW1zUHJvdG9jb2w/dC5yZXBsYWNlKC9eaHR0cHM6XFwvXFwvdGVhbXMubWljcm9zb2Z0LmNvbVxcLy9pLFwibXN0ZWFtczpcIik6dDt0aGlzLmxvZ2dlci5sb2dJbmZvKFwiT3BlbmluZyB1cmxcIixlKSxhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihlKSx0aGlzLmxvZ2dlci5sb2dJbmZvKFwib3BlblVybCBjb21wbGV0ZWRcIil9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH19YXN5bmMgcmVnaXN0ZXJJbnRlbnRIYW5kbGVycygpe2lmKHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJyZWdpc3RlckludGVudEhhbmRsZXJzIHN0YXJ0ZWRcIiksdGhpcy51bnN1YnNjcmliZUludGVudEhhbmRsZXJzKXJldHVybnt1bnN1YnNjcmliZTp0aGlzLnVuc3Vic2NyaWJlSW50ZW50SGFuZGxlcnN9O3RyeXthd2FpdCBmaW4ubWUuaW50ZXJvcC5nZXRDb250ZXh0R3JvdXBzKCk7Y29uc3QgdD1hd2FpdCBmaW4ubWUuaW50ZXJvcC5yZWdpc3RlckludGVudEhhbmRsZXIoKGFzeW5jIHQ9Pnt0cnl7YXdhaXQoKHQsZSk9PmFzeW5jIG49Pnt2YXIgcixvLGksYTtpZih0LmxvZ2dlci5sb2dJbmZvKFwiaGFuZGxlU3RhcnRDYWxsSW50ZW50IHN0YXJ0ZWRcIixuKSwobnVsbD09PShyPW4ubmFtZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIudG9Mb3dlckNhc2UoKSkhPT1ydC5TdGFydENhbGwudG9Mb3dlckNhc2UoKSl0aHJvdyBuZXcgQShgVW5leHBlY3RlZCBpbnRlbnQgdHlwZTogJHtuLm5hbWV9YCk7Y29uc3R7Y29udGV4dDpzfT1uO2lmKChudWxsPT09KG89cy50eXBlKXx8dm9pZCAwPT09bz92b2lkIDA6by50b0xvd2VyQ2FzZSgpKSE9PW50LkNvbnRhY3QudG9Mb3dlckNhc2UoKSYmKG51bGw9PT0oaT1zLnR5cGUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnRvTG93ZXJDYXNlKCkpIT09bnQuQ29udGFjdExpc3QudG9Mb3dlckNhc2UoKSl0aHJvdyBuZXcgQShgVW5leHBlY3RlZCBjb250ZXh0IHR5cGU6ICR7cy50eXBlfWApO2NvbnN0IHU9KG51bGw9PT0oYT1zLnR5cGUpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRvTG93ZXJDYXNlKCkpPT09bnQuQ29udGFjdExpc3QudG9Mb3dlckNhc2UoKT9zLmNvbnRhY3RzLm1hcCgodD0+dC5pZC5lbWFpbCkpLmZpbHRlcihCb29sZWFuKTpbcy5pZC5lbWFpbF0sbD1hd2FpdCBlKHUpO3QubG9nZ2VyLmxvZ0luZm8oXCJoYW5kbGVTdGFydENhbGxJbnRlbnQgY29tcGxldGVkXCIsbCl9KSh0aGlzLnByb3ZpZGVyLHRoaXMuc3RhcnRDYWxsKSh0KX1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5sb2dFcnJvcih0KSx0fX0pLFwiU3RhcnRDYWxsXCIpLGU9YXdhaXQgZmluLm1lLmludGVyb3AucmVnaXN0ZXJJbnRlbnRIYW5kbGVyKChhc3luYyB0PT57dHJ5e2F3YWl0KCh0LGUpPT5hc3luYyBuPT57dmFyIHIsbyxpLGE7aWYodC5sb2dnZXIubG9nSW5mbyhcImhhbmRsZVN0YXJ0Q2hhdEludGVudCBzdGFydGVkXCIsbiksKG51bGw9PT0ocj1uLm5hbWUpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRvTG93ZXJDYXNlKCkpIT09cnQuU3RhcnRDaGF0LnRvTG93ZXJDYXNlKCkpdGhyb3cgbmV3IEEoYFVuZXhwZWN0ZWQgaW50ZW50IHR5cGU6ICR7bi5uYW1lfWApO2NvbnN0e2NvbnRleHQ6c309bjtpZigobnVsbD09PShvPXMudHlwZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8udG9Mb3dlckNhc2UoKSkhPT1udC5Db250YWN0LnRvTG93ZXJDYXNlKCkmJihudWxsPT09KGk9cy50eXBlKXx8dm9pZCAwPT09aT92b2lkIDA6aS50b0xvd2VyQ2FzZSgpKSE9PW50LkNvbnRhY3RMaXN0LnRvTG93ZXJDYXNlKCkpdGhyb3cgbmV3IEEoYFVuZXhwZWN0ZWQgY29udGV4dCB0eXBlOiAke3MudHlwZX1gKTtjb25zdCB1PShudWxsPT09KGE9cy50eXBlKXx8dm9pZCAwPT09YT92b2lkIDA6YS50b0xvd2VyQ2FzZSgpKT09PW50LkNvbnRhY3RMaXN0LnRvTG93ZXJDYXNlKCk/cy5jb250YWN0cy5tYXAoKHQ9PnQuaWQuZW1haWwpKS5maWx0ZXIoQm9vbGVhbik6W3MuaWQuZW1haWxdLGw9YXdhaXQgZSh7ZW1haWxBZGRyZXNzZXM6dSx0b3BpY05hbWU6cy5uYW1lfSk7dC5sb2dnZXIubG9nSW5mbyhcImhhbmRsZVN0YXJ0Q2hhdEludGVudCBjb21wbGV0ZWRcIixsKX0pKHRoaXMucHJvdmlkZXIsdGhpcy5zdGFydENoYXQpKHQpfWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fSksXCJTdGFydENoYXRcIik7cmV0dXJuIHRoaXMudW5zdWJzY3JpYmVJbnRlbnRIYW5kbGVycz1hc3luYygpPT57dGhpcy5sb2dnZXIubG9nSW5mbyhcInVuc3Vic2NyaWJlSW50ZW50SGFuZGxlcnMgc3RhcnRlZFwiKSxhd2FpdCB0LnVuc3Vic2NyaWJlKCksYXdhaXQgZS51bnN1YnNjcmliZSgpLHRoaXMudW5zdWJzY3JpYmVJbnRlbnRIYW5kbGVycz12b2lkIDAsdGhpcy5sb2dnZXIubG9nSW5mbyhcInVuc3Vic2NyaWJlSW50ZW50SGFuZGxlcnMgY29tcGxldGVkXCIpfSx0aGlzLmxvZ2dlci5sb2dJbmZvKFwicmVnaXN0ZXJJbnRlbnRIYW5kbGVycyBjb21wbGV0ZWRcIikse3Vuc3Vic2NyaWJlOnRoaXMudW5zdWJzY3JpYmVJbnRlbnRIYW5kbGVyc319Y2F0Y2godCl7Y29uc3QgZT1uZXcgSW50ZXJvcEVycm9yKHQubWVzc2FnZSk7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IoZSksZX19YXN5bmMgc2hhcmUodCl7dmFyIGUsbixyLG87dGhpcy5sb2dnZXIubG9nSW5mbyhcInNoYXJlIHN0YXJ0ZWRcIix0KTt0cnl7aWYoIXQudGFyZ2V0KXRocm93IG5ldyBCKFwiVGFyZ2V0IG5vdCBwcm92aWRlZFwiKTtpZigobnVsbD09PShlPXQuY29udGV4dCl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHlwZS50b0xvd2VyQ2FzZSgpKSE9PW50Lkluc3RydW1lbnQudG9Mb3dlckNhc2UoKSl0aHJvdyBuZXcgQihcIlVuc3VwcG9ydGVkIGNvbnRleHQgdHlwZVwiKTtpZighKG51bGw9PT0ocj1udWxsPT09KG49dC5jb250ZXh0KXx8dm9pZCAwPT09bj92b2lkIDA6bi5pZCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudGlja2VyKSl0aHJvdyBuZXcgQihcIlRpY2tlciBub3QgcHJvdmlkZWRcIik7aWYoIXQuY2hhcnRJbWFnZSYmbnVsbD09dC5wcmljZUN1cnJlbnQpdGhyb3cgbmV3IEIoXCJDdXJyZW50IHByaWNlIG5vdCBwcm92aWRlZFwiKTtjb25zdCBpPW51bGw9PT0obz10LnNob3dNZXNzYWdlKXx8dm9pZCAwPT09b3x8byxhPWF3YWl0IGl0KHRoaXMucHJvdmlkZXIsdCk7bGV0IHM7aWYoQXJyYXkuaXNBcnJheSh0LnRhcmdldCkpe2NvbnN0e3RhcmdldDplfT10LG49YXdhaXQgVyh0aGlzLnByb3ZpZGVyLGUsW1wiZGlzcGxheU5hbWVcIixcIm1haWxcIl0pLHI9bi5maWx0ZXIoQm9vbGVhbik7aWYoIXIubGVuZ3RoKXJldHVybiB0aGlzLmxvZ2dlci5sb2dXYXJuaW5nKFwiQ291bGQgbm90IHJlc29sdmUgYW55IHZhbGlkIHVzZXJzIGZyb20gZW1haWwgYWRkcmVzc2VzXCIsZSksZS5tYXAoKCgpPT57fSkpO2NvbnN0e2lkOm8sd2ViVXJsOnV9PWF3YWl0KGFzeW5jKHQsZSk9Pntjb25zdCBuPXtjaGF0VHlwZTplLmxlbmd0aD4yP1wiZ3JvdXBcIjpcIm9uZU9uT25lXCIsbWVtYmVyczplLm1hcCgoZT0+KHtcIkBvZGF0YS50eXBlXCI6XCIjbWljcm9zb2Z0LmdyYXBoLmFhZFVzZXJDb252ZXJzYXRpb25NZW1iZXJcIixyb2xlczpxKGUpP1tcImd1ZXN0XCJdOltcIm93bmVyXCJdLFwidXNlckBvZGF0YS5iaW5kXCI6YCR7dC5hcGlPcmlnaW59L3YxLjAvdXNlcnMoJyR7ZS5pZH0nKWB9KSkpfSx7ZGF0YTpyfT1hd2FpdCB0LmV4ZWN1dGVBcGlSZXF1ZXN0KFwiL3YxLjAvY2hhdHNcIixcIlBPU1RcIixuKTtyZXR1cm4gcn0pKHRoaXMucHJvdmlkZXIsW3RoaXMucHJvdmlkZXIuY3VycmVudFVzZXIsLi4ucl0pLHtkYXRhOmx9PWF3YWl0IHRoaXMucHJvdmlkZXIuZXhlY3V0ZUFwaVJlcXVlc3QoYC92MS4wL2NoYXRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KG8pfS9tZXNzYWdlc2AsXCJQT1NUXCIsYSk7dGhpcy5sb2dnZXIubG9nSW5mbyhcIlNlbnQgY2hhdCBtZXNzYWdlXCIsbCksaSYmYXdhaXQgdGhpcy5vcGVuVXJsKHUpLHM9RChuKX1lbHNle2NvbnN0e3RhcmdldDplfT10LG49YXdhaXQgdXQodGhpcy5wcm92aWRlcixlLnRlYW1JZCxlLmNoYW5uZWxJZCk7aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIubG9nV2FybmluZyhcIkNvdWxkIG5vdCByZXNvbHZlIHRlYW0vY2hhbm5lbFwiLGUudGVhbUlkLGUuY2hhbm5lbElkKTtjb25zdHtjaGFubmVsSWQ6cix0ZWFtSWQ6b309bix7ZGF0YTp1fT1hd2FpdCB0aGlzLnByb3ZpZGVyLmV4ZWN1dGVBcGlSZXF1ZXN0KGAvdjEuMC90ZWFtcy8ke2VuY29kZVVSSUNvbXBvbmVudChvKX0vY2hhbm5lbHMvJHtlbmNvZGVVUklDb21wb25lbnQocil9L21lc3NhZ2VzYCxcIlBPU1RcIixhKTt0aGlzLmxvZ2dlci5sb2dJbmZvKFwiU2VudCBjaGF0IG1lc3NhZ2VcIix1KSxpJiZhd2FpdCB0aGlzLm9wZW5VcmwodS53ZWJVcmwpLHM9bn1yZXR1cm4gdGhpcy5sb2dnZXIubG9nSW5mbyhcInNoYXJlIGNvbXBsZXRlZFwiLHMpLHN9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH19YXN5bmMgc3RhcnRDYWxsKHQ9W10sZT0hMSl7dGhpcy5sb2dnZXIubG9nSW5mbyhcInN0YXJ0Q2FsbCBzdGFydGVkXCIsdCk7dHJ5e2xldCBuPWAke2F0KHRoaXMudXNlTXNUZWFtc1Byb3RvY29sKX0vbC9jYWxsLzAvMD9gO2NvbnN0IHI9YXdhaXQgVyh0aGlzLnByb3ZpZGVyLHQsW1wiZGlzcGxheU5hbWVcIixcIm1haWxcIl0pLG89ci5maWx0ZXIoQm9vbGVhbikubWFwKCh0PT5lbmNvZGVVUklDb21wb25lbnQodC51c2VyUHJpbmNpcGFsTmFtZSkpKTtpZighby5sZW5ndGgpcmV0dXJuIHRoaXMubG9nZ2VyLmxvZ1dhcm5pbmcoXCJDb3VsZCBub3QgcmVzb2x2ZSBhbnkgdmFsaWQgdXNlcnMgZnJvbSBzdXBwbGllZCBlbWFpbHNcIix0KSx0Lm1hcCgoKCk9Pnt9KSk7bis9YHVzZXJzPSR7by5qb2luKFwiLFwiKX0md2l0aFZpZGVvPSR7ZX1gLHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJPcGVuaW5nIFRlYW1zXCIsbiksYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIobik7Y29uc3QgaT1EKHIpO3JldHVybiB0aGlzLmxvZ2dlci5sb2dJbmZvKFwic3RhcnRDYWxsIGNvbXBsZXRlZFwiLGkpLGl9Y2F0Y2godCl7dGhyb3cgdGhpcy5sb2dnZXIubG9nRXJyb3IodCksdH19YXN5bmMgc3RhcnRDaGF0KHQpe3RoaXMubG9nZ2VyLmxvZ0luZm8oXCJzdGFydENoYXQgc3RhcnRlZFwiLHQpO3RyeXtsZXQgZSxuO2lmKFwidGVhbUlkXCJpbiB0KXtjb25zdHt0ZWFtSWQ6cixjaGFubmVsSWQ6b309dCxpPWF3YWl0IHV0KHRoaXMucHJvdmlkZXIscixvKTtpZighaSlyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5sb2dXYXJuaW5nKFwiQ291bGQgbm90IHJlc29sdmUgdGVhbS9jaGFubmVsXCIscixvKTtlPWAke2F0KHRoaXMudXNlTXNUZWFtc1Byb3RvY29sKX0vbC9jaGFubmVsLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGkuY2hhbm5lbElkKX0vJHtlbmNvZGVVUklDb21wb25lbnQoaS5jaGFubmVsTmFtZSl9P2dyb3VwSWQ9JHtpLnRlYW1JZH0mdGVuYW50SWQ9JHt0aGlzLnByb3ZpZGVyLnRlbmFudElkfWAsbj1pfWVsc2V7Y29uc3R7ZW1haWxBZGRyZXNzZXM6cixtZXNzYWdlOm8sdG9waWNOYW1lOml9PXQ7ZT1gJHthdCh0aGlzLnVzZU1zVGVhbXNQcm90b2NvbCl9L2wvY2hhdC8wLzA/YDtjb25zdCBhPWF3YWl0IFcodGhpcy5wcm92aWRlcixyLFtcImRpc3BsYXlOYW1lXCIsXCJtYWlsXCJdKSxzPWEuZmlsdGVyKEJvb2xlYW4pLm1hcCgodD0+ZW5jb2RlVVJJQ29tcG9uZW50KHQudXNlclByaW5jaXBhbE5hbWUpKSk7aWYoIXMubGVuZ3RoKXJldHVybiB0aGlzLmxvZ2dlci5sb2dXYXJuaW5nKFwiQ291bGQgbm90IHJlc29sdmUgYW55IHZhbGlkIHVzZXJzIGZyb20gZW1haWwgYWRkcmVzc2VzXCIsciksci5tYXAoKCgpPT57fSkpO2UrPWB1c2Vycz0ke3Muam9pbihcIixcIil9YCxpJiYoZSs9YCZ0b3BpY05hbWU9JHtlbmNvZGVVUklDb21wb25lbnQoaSl9YCksbyYmKGUrPWAmbWVzc2FnZT0ke2VuY29kZVVSSUNvbXBvbmVudChvKX1gKSxuPUQoYSl9cmV0dXJuIHRoaXMubG9nZ2VyLmxvZ0luZm8oXCJPcGVuaW5nIFRlYW1zXCIsZSksYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZSksdGhpcy5sb2dnZXIubG9nSW5mbyhcInN0YXJ0Q2hhdCBjb21wbGV0ZWRcIixuKSxufWNhdGNoKHQpe3Rocm93IHRoaXMubG9nZ2VyLmxvZ0Vycm9yKHQpLHR9fX19LDkxOigpPT57fX0sZT17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPWVbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPWVbcl09e2lkOnIsbG9hZGVkOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubG9hZGVkPSEwLGkuZXhwb3J0c31uLmM9ZSxuLmQ9KHQsZSk9Pntmb3IodmFyIHIgaW4gZSluLm8oZSxyKSYmIW4ubyh0LHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtlbnVtZXJhYmxlOiEwLGdldDplW3JdfSl9LG4uZz1mdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzKXJldHVybiBnbG9iYWxUaGlzO3RyeXtyZXR1cm4gdGhpc3x8bmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX1jYXRjaCh0KXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93KXJldHVybiB3aW5kb3d9fSgpLG4ubz0odCxlKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSksbi5ubWQ9dD0+KHQucGF0aHM9W10sdC5jaGlsZHJlbnx8KHQuY2hpbGRyZW49W10pLHQpO3ZhciByPW4obi5zPTU0KSxvPXIuTVMsaT1yLmNGLGE9ci5BSyxzPXIuTV8sdT1yLmNYLGw9ci5CVCxjPXIuX1csZj1yLlBnLGQ9ci4kaixoPXIuVSQscD1yLlU3O2V4cG9ydHtvIGFzIEFwaUVycm9yLGkgYXMgQXBpUmVxdWVzdEVycm9yLGEgYXMgQXV0aFRva2VuRXhwaXJlZEVycm9yLHMgYXMgQXV0aG9yaXphdGlvbkVycm9yLHUgYXMgSW5pdGlhbGl6YXRpb25FcnJvcixsIGFzIEludGVyb3BFcnJvcixjIGFzIFBhcmFtZXRlckVycm9yLGYgYXMgVGVhbXNDb25uZWN0aW9uLGQgYXMgY29ubmVjdCxoIGFzIGRpc2FibGVMb2dnaW5nLHAgYXMgZW5hYmxlTG9nZ2luZ307IiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG5jb25zdCBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxuY29uc3QgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxuY29uc3QgY3VzdG9tSW5zcGVjdFN5bWJvbCA9XG4gICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2xbJ2ZvciddID09PSAnZnVuY3Rpb24nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgID8gU3ltYm9sWydmb3InXSgnbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgIDogbnVsbFxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbmNvbnN0IEtfTUFYX0xFTkdUSCA9IDB4N2ZmZmZmZmZcbmV4cG9ydHMua01heExlbmd0aCA9IEtfTUFYX0xFTkdUSFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBQcmludCB3YXJuaW5nIGFuZCByZWNvbW1lbmQgdXNpbmcgYGJ1ZmZlcmAgdjQueCB3aGljaCBoYXMgYW4gT2JqZWN0XG4gKiAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBXZSByZXBvcnQgdGhhdCB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBpZiB0aGUgYXJlIG5vdCBzdWJjbGFzc2FibGVcbiAqIHVzaW5nIF9fcHJvdG9fXy4gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWBcbiAqIChTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOCkuIElFIDEwIGxhY2tzIHN1cHBvcnRcbiAqIGZvciBfX3Byb3RvX18gYW5kIGhhcyBhIGJ1Z2d5IHR5cGVkIGFycmF5IGltcGxlbWVudGF0aW9uLlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICBjb25zb2xlLmVycm9yKFxuICAgICdUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgJyArXG4gICAgJ2BidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuJ1xuICApXG59XG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgLy8gQ2FuIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkP1xuICB0cnkge1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgY29uc3QgcHJvdG8gPSB7IGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfSB9XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3RvLCBVaW50OEFycmF5LnByb3RvdHlwZSlcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXJyLCBwcm90bylcbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKVxuICByZXR1cm4gYnVmXG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUoYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuZnVuY3Rpb24gZnJvbSAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5Vmlldyh2YWx1ZSlcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgICApXG4gIH1cblxuICBpZiAoaXNJbnN0YW5jZSh2YWx1ZSwgQXJyYXlCdWZmZXIpIHx8XG4gICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIEFycmF5QnVmZmVyKSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgKGlzSW5zdGFuY2UodmFsdWUsIFNoYXJlZEFycmF5QnVmZmVyKSB8fFxuICAgICAgKHZhbHVlICYmIGlzSW5zdGFuY2UodmFsdWUuYnVmZmVyLCBTaGFyZWRBcnJheUJ1ZmZlcikpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICApXG4gIH1cblxuICBjb25zdCB2YWx1ZU9mID0gdmFsdWUudmFsdWVPZiAmJiB2YWx1ZS52YWx1ZU9mKClcbiAgaWYgKHZhbHVlT2YgIT0gbnVsbCAmJiB2YWx1ZU9mICE9PSB2YWx1ZSkge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZU9mLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBjb25zdCBiID0gZnJvbU9iamVjdCh2YWx1ZSlcbiAgaWYgKGIpIHJldHVybiBiXG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1ByaW1pdGl2ZSAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdKCdzdHJpbmcnKSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgJyArXG4gICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICApXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20odmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gTm90ZTogQ2hhbmdlIHByb3RvdHlwZSAqYWZ0ZXIqIEJ1ZmZlci5mcm9tIGlzIGRlZmluZWQgdG8gd29ya2Fyb3VuZCBDaHJvbWUgYnVnOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC8xNDhcbk9iamVjdC5zZXRQcm90b3R5cGVPZihCdWZmZXIucHJvdG90eXBlLCBVaW50OEFycmF5LnByb3RvdHlwZSlcbk9iamVjdC5zZXRQcm90b3R5cGVPZihCdWZmZXIsIFVpbnQ4QXJyYXkpXG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyBzaXplICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcihzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2Moc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlIChzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgfVxuXG4gIGNvbnN0IGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIGxldCBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuXG4gIGNvbnN0IGFjdHVhbCA9IGJ1Zi53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgYnVmID0gYnVmLnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAoYXJyYXkpIHtcbiAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIGNvbnN0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5VmlldyAoYXJyYXlWaWV3KSB7XG4gIGlmIChpc0luc3RhbmNlKGFycmF5VmlldywgVWludDhBcnJheSkpIHtcbiAgICBjb25zdCBjb3B5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlWaWV3KVxuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIoY29weS5idWZmZXIsIGNvcHkuYnl0ZU9mZnNldCwgY29weS5ieXRlTGVuZ3RoKVxuICB9XG4gIHJldHVybiBmcm9tQXJyYXlMaWtlKGFycmF5Vmlldylcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGxldCBidWZcbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihidWYsIEJ1ZmZlci5wcm90b3R5cGUpXG5cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0IChvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgY29uc3QgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICBjb25zdCBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgbGV0IHggPSBhLmxlbmd0aFxuICBsZXQgeSA9IGIubGVuZ3RoXG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICBsZXQgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIGxldCBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoaXNJbnN0YW5jZShidWYsIFVpbnQ4QXJyYXkpKSB7XG4gICAgICBpZiAocG9zICsgYnVmLmxlbmd0aCA+IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgYnVmID0gQnVmZmVyLmZyb20oYnVmKVxuICAgICAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICBidWYsXG4gICAgICAgICAgcG9zXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgfVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IGlzSW5zdGFuY2Uoc3RyaW5nLCBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2Ygc3RyaW5nXG4gICAgKVxuICB9XG5cbiAgY29uc3QgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBjb25zdCBtdXN0TWF0Y2ggPSAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlKVxuICBpZiAoIW11c3RNYXRjaCAmJiBsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHtcbiAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICB9XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcmNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIChhbmQgdGhlIGBpcy1idWZmZXJgIG5wbSBwYWNrYWdlKVxuLy8gdG8gZGV0ZWN0IGEgQnVmZmVyIGluc3RhbmNlLiBJdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgYGluc3RhbmNlb2YgQnVmZmVyYFxuLy8gcmVsaWFibHkgaW4gYSBicm93c2VyaWZ5IGNvbnRleHQgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBkaWZmZXJlbnRcbi8vIGNvcGllcyBvZiB0aGUgJ2J1ZmZlcicgcGFja2FnZSBpbiB1c2UuIFRoaXMgbWV0aG9kIHdvcmtzIGV2ZW4gZm9yIEJ1ZmZlclxuLy8gaW5zdGFuY2VzIHRoYXQgd2VyZSBjcmVhdGVkIGZyb20gYW5vdGhlciBjb3B5IG9mIHRoZSBgYnVmZmVyYCBwYWNrYWdlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTU0XG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICBjb25zdCBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICBjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZyA9IEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmdcblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICBsZXQgc3RyID0gJydcbiAgY29uc3QgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLnJlcGxhY2UoLyguezJ9KS9nLCAnJDEgJykudHJpbSgpXG4gIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cbmlmIChjdXN0b21JbnNwZWN0U3ltYm9sKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGVbY3VzdG9tSW5zcGVjdFN5bWJvbF0gPSBCdWZmZXIucHJvdG90eXBlLmluc3BlY3Rcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKGlzSW5zdGFuY2UodGFyZ2V0LCBVaW50OEFycmF5KSkge1xuICAgIHRhcmdldCA9IEJ1ZmZlci5mcm9tKHRhcmdldCwgdGFyZ2V0Lm9mZnNldCwgdGFyZ2V0LmJ5dGVMZW5ndGgpXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB0YXJnZXQpXG4gICAgKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgbGV0IHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIGxldCB5ID0gZW5kIC0gc3RhcnRcbiAgY29uc3QgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICBjb25zdCB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICBjb25zdCB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbdmFsXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgbGV0IGluZGV4U2l6ZSA9IDFcbiAgbGV0IGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgbGV0IHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgbGV0IGlcbiAgaWYgKGRpcikge1xuICAgIGxldCBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgY29uc3QgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGxldCBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA+Pj4gMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICBjb25zdCByZXMgPSBbXVxuXG4gIGxldCBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICBjb25zdCBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICBsZXQgY29kZVBvaW50ID0gbnVsbFxuICAgIGxldCBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpXG4gICAgICA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpXG4gICAgICAgICAgPyAzXG4gICAgICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRilcbiAgICAgICAgICAgICAgPyAyXG4gICAgICAgICAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgbGV0IHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxuY29uc3QgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIGNvbnN0IGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgbGV0IHJlcyA9ICcnXG4gIGxldCBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBsZXQgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgbGV0IHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIGxldCBvdXQgPSAnJ1xuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSBoZXhTbGljZUxvb2t1cFRhYmxlW2J1ZltpXV1cbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIGxldCByZXMgPSAnJ1xuICAvLyBJZiBieXRlcy5sZW5ndGggaXMgb2RkLCB0aGUgbGFzdCA4IGJpdHMgbXVzdCBiZSBpZ25vcmVkIChzYW1lIGFzIG5vZGUuanMpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoIC0gMTsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIGNvbnN0IG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG5ld0J1ZiwgQnVmZmVyLnByb3RvdHlwZSlcblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXRdXG4gIGxldCBtdWwgPSAxXG4gIGxldCBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgbGV0IG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MzJCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdVSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnVUludDY0TEUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCBsbyA9IGZpcnN0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjRcblxuICBjb25zdCBoaSA9IHRoaXNbKytvZmZzZXRdICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICBsYXN0ICogMiAqKiAyNFxuXG4gIHJldHVybiBCaWdJbnQobG8pICsgKEJpZ0ludChoaSkgPDwgQmlnSW50KDMyKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdVSW50NjRCRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IGhpID0gZmlyc3QgKiAyICoqIDI0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XVxuXG4gIGNvbnN0IGxvID0gdGhpc1srK29mZnNldF0gKiAyICoqIDI0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICBsYXN0XG5cbiAgcmV0dXJuIChCaWdJbnQoaGkpIDw8IEJpZ0ludCgzMikpICsgQmlnSW50KGxvKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0XVxuICBsZXQgbXVsID0gMVxuICBsZXQgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIGxldCBpID0gYnl0ZUxlbmd0aFxuICBsZXQgbXVsID0gMVxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIGNvbnN0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdJbnQ2NExFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXQgKyA0XSArXG4gICAgdGhpc1tvZmZzZXQgKyA1XSAqIDIgKiogOCArXG4gICAgdGhpc1tvZmZzZXQgKyA2XSAqIDIgKiogMTYgK1xuICAgIChsYXN0IDw8IDI0KSAvLyBPdmVyZmxvd1xuXG4gIHJldHVybiAoQmlnSW50KHZhbCkgPDwgQmlnSW50KDMyKSkgK1xuICAgIEJpZ0ludChmaXJzdCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDI0KVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnSW50NjRCRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IHZhbCA9IChmaXJzdCA8PCAyNCkgKyAvLyBPdmVyZmxvd1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdXG5cbiAgcmV0dXJuIChCaWdJbnQodmFsKSA8PCBCaWdJbnQoMzIpKSArXG4gICAgQmlnSW50KHRoaXNbKytvZmZzZXRdICogMiAqKiAyNCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgbGFzdClcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludExFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIGxldCBtdWwgPSAxXG4gIGxldCBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50QkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgbGV0IGkgPSBieXRlTGVuZ3RoIC0gMVxuICBsZXQgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQ4ID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2TEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MzJMRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyQkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gd3J0QmlnVUludDY0TEUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbWluLCBtYXgpIHtcbiAgY2hlY2tJbnRCSSh2YWx1ZSwgbWluLCBtYXgsIGJ1Ziwgb2Zmc2V0LCA3KVxuXG4gIGxldCBsbyA9IE51bWJlcih2YWx1ZSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxldCBoaSA9IE51bWJlcih2YWx1ZSA+PiBCaWdJbnQoMzIpICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgcmV0dXJuIG9mZnNldFxufVxuXG5mdW5jdGlvbiB3cnRCaWdVSW50NjRCRSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBtaW4sIG1heCkge1xuICBjaGVja0ludEJJKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIDcpXG5cbiAgbGV0IGxvID0gTnVtYmVyKHZhbHVlICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0ICsgN10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCArIDZdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQgKyA1XSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0ICsgNF0gPSBsb1xuICBsZXQgaGkgPSBOdW1iZXIodmFsdWUgPj4gQmlnSW50KDMyKSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCArIDNdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQgKyAyXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0ICsgMV0gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldF0gPSBoaVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdVSW50NjRMRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NExFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIEJpZ0ludCgwKSwgQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ1VJbnQ2NEJFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0QkUodGhpcywgdmFsdWUsIG9mZnNldCwgQmlnSW50KDApLCBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICBsZXQgaSA9IDBcbiAgbGV0IG11bCA9IDFcbiAgbGV0IHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIGxldCBtdWwgPSAxXG4gIGxldCBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ0ludDY0TEUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRMRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAtQmlnSW50KCcweDgwMDAwMDAwMDAwMDAwMDAnKSwgQmlnSW50KCcweDdmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnSW50NjRCRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NEJFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIC1CaWdJbnQoJzB4ODAwMDAwMDAwMDAwMDAwMCcpLCBCaWdJbnQoJzB4N2ZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJylcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIGNvbnN0IGxlbiA9IGVuZCAtIHN0YXJ0XG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFVzZSBidWlsdC1pbiB3aGVuIGF2YWlsYWJsZSwgbWlzc2luZyBmcm9tIElFMTFcbiAgICB0aGlzLmNvcHlXaXRoaW4odGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpXG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHxcbiAgICAgICAgICBlbmNvZGluZyA9PT0gJ2xhdGluMScpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoOiBJZiBgdmFsYCBmaXRzIGludG8gYSBzaW5nbGUgYnl0ZSwgdXNlIHRoYXQgbnVtZXJpYyB2YWx1ZS5cbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xuICAgIHZhbCA9IE51bWJlcih2YWwpXG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgbGV0IGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICAgIGNvbnN0IGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyB2YWwgK1xuICAgICAgICAnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJylcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gQ1VTVE9NIEVSUk9SU1xuLy8gPT09PT09PT09PT09PVxuXG4vLyBTaW1wbGlmaWVkIHZlcnNpb25zIGZyb20gTm9kZSwgY2hhbmdlZCBmb3IgQnVmZmVyLW9ubHkgdXNhZ2VcbmNvbnN0IGVycm9ycyA9IHt9XG5mdW5jdGlvbiBFIChzeW0sIGdldE1lc3NhZ2UsIEJhc2UpIHtcbiAgZXJyb3JzW3N5bV0gPSBjbGFzcyBOb2RlRXJyb3IgZXh0ZW5kcyBCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICBzdXBlcigpXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbWVzc2FnZScsIHtcbiAgICAgICAgdmFsdWU6IGdldE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgLy8gQWRkIHRoZSBlcnJvciBjb2RlIHRvIHRoZSBuYW1lIHRvIGluY2x1ZGUgaXQgaW4gdGhlIHN0YWNrIHRyYWNlLlxuICAgICAgdGhpcy5uYW1lID0gYCR7dGhpcy5uYW1lfSBbJHtzeW19XWBcbiAgICAgIC8vIEFjY2VzcyB0aGUgc3RhY2sgdG8gZ2VuZXJhdGUgdGhlIGVycm9yIG1lc3NhZ2UgaW5jbHVkaW5nIHRoZSBlcnJvciBjb2RlXG4gICAgICAvLyBmcm9tIHRoZSBuYW1lLlxuICAgICAgdGhpcy5zdGFjayAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICAgLy8gUmVzZXQgdGhlIG5hbWUgdG8gdGhlIGFjdHVhbCBuYW1lLlxuICAgICAgZGVsZXRlIHRoaXMubmFtZVxuICAgIH1cblxuICAgIGdldCBjb2RlICgpIHtcbiAgICAgIHJldHVybiBzeW1cbiAgICB9XG5cbiAgICBzZXQgY29kZSAodmFsdWUpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnY29kZScsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdG9TdHJpbmcgKCkge1xuICAgICAgcmV0dXJuIGAke3RoaXMubmFtZX0gWyR7c3ltfV06ICR7dGhpcy5tZXNzYWdlfWBcbiAgICB9XG4gIH1cbn1cblxuRSgnRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTJyxcbiAgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuIGAke25hbWV9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2BcbiAgICB9XG5cbiAgICByZXR1cm4gJ0F0dGVtcHQgdG8gYWNjZXNzIG1lbW9yeSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnXG4gIH0sIFJhbmdlRXJyb3IpXG5FKCdFUlJfSU5WQUxJRF9BUkdfVFlQRScsXG4gIGZ1bmN0aW9uIChuYW1lLCBhY3R1YWwpIHtcbiAgICByZXR1cm4gYFRoZSBcIiR7bmFtZX1cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIGFjdHVhbH1gXG4gIH0sIFR5cGVFcnJvcilcbkUoJ0VSUl9PVVRfT0ZfUkFOR0UnLFxuICBmdW5jdGlvbiAoc3RyLCByYW5nZSwgaW5wdXQpIHtcbiAgICBsZXQgbXNnID0gYFRoZSB2YWx1ZSBvZiBcIiR7c3RyfVwiIGlzIG91dCBvZiByYW5nZS5gXG4gICAgbGV0IHJlY2VpdmVkID0gaW5wdXRcbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihpbnB1dCkgJiYgTWF0aC5hYnMoaW5wdXQpID4gMiAqKiAzMikge1xuICAgICAgcmVjZWl2ZWQgPSBhZGROdW1lcmljYWxTZXBhcmF0b3IoU3RyaW5nKGlucHV0KSlcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgIHJlY2VpdmVkID0gU3RyaW5nKGlucHV0KVxuICAgICAgaWYgKGlucHV0ID4gQmlnSW50KDIpICoqIEJpZ0ludCgzMikgfHwgaW5wdXQgPCAtKEJpZ0ludCgyKSAqKiBCaWdJbnQoMzIpKSkge1xuICAgICAgICByZWNlaXZlZCA9IGFkZE51bWVyaWNhbFNlcGFyYXRvcihyZWNlaXZlZClcbiAgICAgIH1cbiAgICAgIHJlY2VpdmVkICs9ICduJ1xuICAgIH1cbiAgICBtc2cgKz0gYCBJdCBtdXN0IGJlICR7cmFuZ2V9LiBSZWNlaXZlZCAke3JlY2VpdmVkfWBcbiAgICByZXR1cm4gbXNnXG4gIH0sIFJhbmdlRXJyb3IpXG5cbmZ1bmN0aW9uIGFkZE51bWVyaWNhbFNlcGFyYXRvciAodmFsKSB7XG4gIGxldCByZXMgPSAnJ1xuICBsZXQgaSA9IHZhbC5sZW5ndGhcbiAgY29uc3Qgc3RhcnQgPSB2YWxbMF0gPT09ICctJyA/IDEgOiAwXG4gIGZvciAoOyBpID49IHN0YXJ0ICsgNDsgaSAtPSAzKSB7XG4gICAgcmVzID0gYF8ke3ZhbC5zbGljZShpIC0gMywgaSl9JHtyZXN9YFxuICB9XG4gIHJldHVybiBgJHt2YWwuc2xpY2UoMCwgaSl9JHtyZXN9YFxufVxuXG4vLyBDSEVDSyBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBjaGVja0JvdW5kcyAoYnVmLCBvZmZzZXQsIGJ5dGVMZW5ndGgpIHtcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgaWYgKGJ1ZltvZmZzZXRdID09PSB1bmRlZmluZWQgfHwgYnVmW29mZnNldCArIGJ5dGVMZW5ndGhdID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIGJ1Zi5sZW5ndGggLSAoYnl0ZUxlbmd0aCArIDEpKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50QkkgKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIGJ5dGVMZW5ndGgpIHtcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB7XG4gICAgY29uc3QgbiA9IHR5cGVvZiBtaW4gPT09ICdiaWdpbnQnID8gJ24nIDogJydcbiAgICBsZXQgcmFuZ2VcbiAgICBpZiAoYnl0ZUxlbmd0aCA+IDMpIHtcbiAgICAgIGlmIChtaW4gPT09IDAgfHwgbWluID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgcmFuZ2UgPSBgPj0gMCR7bn0gYW5kIDwgMiR7bn0gKiogJHsoYnl0ZUxlbmd0aCArIDEpICogOH0ke259YFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZ2UgPSBgPj0gLSgyJHtufSAqKiAkeyhieXRlTGVuZ3RoICsgMSkgKiA4IC0gMX0ke259KSBhbmQgPCAyICoqIGAgK1xuICAgICAgICAgICAgICAgIGAkeyhieXRlTGVuZ3RoICsgMSkgKiA4IC0gMX0ke259YFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZSA9IGA+PSAke21pbn0ke259IGFuZCA8PSAke21heH0ke259YFxuICAgIH1cbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9PVVRfT0ZfUkFOR0UoJ3ZhbHVlJywgcmFuZ2UsIHZhbHVlKVxuICB9XG4gIGNoZWNrQm91bmRzKGJ1Ziwgb2Zmc2V0LCBieXRlTGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZU51bWJlciAodmFsdWUsIG5hbWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9JTlZBTElEX0FSR19UWVBFKG5hbWUsICdudW1iZXInLCB2YWx1ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBib3VuZHNFcnJvciAodmFsdWUsIGxlbmd0aCwgdHlwZSkge1xuICBpZiAoTWF0aC5mbG9vcih2YWx1ZSkgIT09IHZhbHVlKSB7XG4gICAgdmFsaWRhdGVOdW1iZXIodmFsdWUsIHR5cGUpXG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKHR5cGUgfHwgJ29mZnNldCcsICdhbiBpbnRlZ2VyJywgdmFsdWUpXG4gIH1cblxuICBpZiAobGVuZ3RoIDwgMCkge1xuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTKClcbiAgfVxuXG4gIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSh0eXBlIHx8ICdvZmZzZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYD49ICR7dHlwZSA/IDEgOiAwfSBhbmQgPD0gJHtsZW5ndGh9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlKVxufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbmNvbnN0IElOVkFMSURfQkFTRTY0X1JFID0gL1teKy8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgdGFrZXMgZXF1YWwgc2lnbnMgYXMgZW5kIG9mIHRoZSBCYXNlNjQgZW5jb2RpbmdcbiAgc3RyID0gc3RyLnNwbGl0KCc9JylbMF1cbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0ci50cmltKCkucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICBsZXQgY29kZVBvaW50XG4gIGNvbnN0IGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgbGV0IGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIGNvbnN0IGJ5dGVzID0gW11cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgY29uc3QgYnl0ZUFycmF5ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICBsZXQgYywgaGksIGxvXG4gIGNvbnN0IGJ5dGVBcnJheSA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgbGV0IGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbi8vIEFycmF5QnVmZmVyIG9yIFVpbnQ4QXJyYXkgb2JqZWN0cyBmcm9tIG90aGVyIGNvbnRleHRzIChpLmUuIGlmcmFtZXMpIGRvIG5vdCBwYXNzXG4vLyB0aGUgYGluc3RhbmNlb2ZgIGNoZWNrIGJ1dCB0aGV5IHNob3VsZCBiZSB0cmVhdGVkIGFzIG9mIHRoYXQgdHlwZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE2NlxuZnVuY3Rpb24gaXNJbnN0YW5jZSAob2JqLCB0eXBlKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiB0eXBlIHx8XG4gICAgKG9iaiAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9IG51bGwgJiZcbiAgICAgIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSB0eXBlLm5hbWUpXG59XG5mdW5jdGlvbiBudW1iZXJJc05hTiAob2JqKSB7XG4gIC8vIEZvciBJRTExIHN1cHBvcnRcbiAgcmV0dXJuIG9iaiAhPT0gb2JqIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG5cbi8vIENyZWF0ZSBsb29rdXAgdGFibGUgZm9yIGB0b1N0cmluZygnaGV4JylgXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8yMTlcbmNvbnN0IGhleFNsaWNlTG9va3VwVGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICBjb25zdCBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5YWJjZGVmJ1xuICBjb25zdCB0YWJsZSA9IG5ldyBBcnJheSgyNTYpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgIGNvbnN0IGkxNiA9IGkgKiAxNlxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgdGFibGVbaTE2ICsgal0gPSBhbHBoYWJldFtpXSArIGFscGhhYmV0W2pdXG4gICAgfVxuICB9XG4gIHJldHVybiB0YWJsZVxufSkoKVxuXG4vLyBSZXR1cm4gbm90IGZ1bmN0aW9uIHdpdGggRXJyb3IgaWYgQmlnSW50IG5vdCBzdXBwb3J0ZWRcbmZ1bmN0aW9uIGRlZmluZUJpZ0ludE1ldGhvZCAoZm4pIHtcbiAgcmV0dXJuIHR5cGVvZiBCaWdJbnQgPT09ICd1bmRlZmluZWQnID8gQnVmZmVyQmlnSW50Tm90RGVmaW5lZCA6IGZuXG59XG5cbmZ1bmN0aW9uIEJ1ZmZlckJpZ0ludE5vdERlZmluZWQgKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0JpZ0ludCBub3Qgc3VwcG9ydGVkJylcbn1cbiIsIi8qXG4gKiBEZXhpZS5qcyAtIGEgbWluaW1hbGlzdGljIHdyYXBwZXIgZm9yIEluZGV4ZWREQlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBCeSBEYXZpZCBGYWhsYW5kZXIsIGRhdmlkLmZhaGxhbmRlckBnbWFpbC5jb21cbiAqXG4gKiBWZXJzaW9uIDQuMC4xMSwgV2VkIEphbiAxNSAyMDI1XG4gKlxuICogaHR0cHM6Ly9kZXhpZS5vcmdcbiAqXG4gKiBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgSmFudWFyeSAyMDA0LCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvXG4gKi9cbiBcbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLkRleGllID0gZmFjdG9yeSgpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuICAgIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cbiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG4gICAgUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG4gICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuICAgIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG4gICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH1cbiAgICB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgICAgICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbiAgICB9XG5cbiAgICB2YXIgX2dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOlxuICAgICAgICB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDpcbiAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDpcbiAgICAgICAgICAgICAgICBnbG9iYWw7XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzO1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbiAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmICFfZ2xvYmFsLlByb21pc2UpIHtcbiAgICAgICAgX2dsb2JhbC5Qcm9taXNlID0gUHJvbWlzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgZXh0ZW5zaW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIGtleXMoZXh0ZW5zaW9uKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gZXh0ZW5zaW9uW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gICAgdmFyIF9oYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICBmdW5jdGlvbiBoYXNPd24ob2JqLCBwcm9wKSB7XG4gICAgICAgIHJldHVybiBfaGFzT3duLmNhbGwob2JqLCBwcm9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcHMocHJvdG8sIGV4dGVuc2lvbikge1xuICAgICAgICBpZiAodHlwZW9mIGV4dGVuc2lvbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbihnZXRQcm90byhwcm90bykpO1xuICAgICAgICAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBrZXlzIDogUmVmbGVjdC5vd25LZXlzKShleHRlbnNpb24pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgc2V0UHJvcChwcm90bywga2V5LCBleHRlbnNpb25ba2V5XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4gICAgZnVuY3Rpb24gc2V0UHJvcChvYmosIHByb3AsIGZ1bmN0aW9uT3JHZXRTZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBleHRlbmQoZnVuY3Rpb25PckdldFNldCAmJiBoYXNPd24oZnVuY3Rpb25PckdldFNldCwgXCJnZXRcIikgJiYgdHlwZW9mIGZ1bmN0aW9uT3JHZXRTZXQuZ2V0ID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIHsgZ2V0OiBmdW5jdGlvbk9yR2V0U2V0LmdldCwgc2V0OiBmdW5jdGlvbk9yR2V0U2V0LnNldCwgY29uZmlndXJhYmxlOiB0cnVlIH0gOlxuICAgICAgICAgICAgeyB2YWx1ZTogZnVuY3Rpb25PckdldFNldCwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LCBvcHRpb25zKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlcml2ZShDaGlsZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogZnVuY3Rpb24gKFBhcmVudCkge1xuICAgICAgICAgICAgICAgIENoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUGFyZW50LnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgc2V0UHJvcChDaGlsZC5wcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgQ2hpbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZDogcHJvcHMuYmluZChudWxsLCBDaGlsZC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICAgZnVuY3Rpb24gZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgcHJvcCkge1xuICAgICAgICB2YXIgcGQgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKTtcbiAgICAgICAgdmFyIHByb3RvO1xuICAgICAgICByZXR1cm4gcGQgfHwgKHByb3RvID0gZ2V0UHJvdG8ob2JqKSkgJiYgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBwcm9wKTtcbiAgICB9XG4gICAgdmFyIF9zbGljZSA9IFtdLnNsaWNlO1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFyZ3MsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgcmV0dXJuIF9zbGljZS5jYWxsKGFyZ3MsIHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvdmVycmlkZShvcmlnRnVuYywgb3ZlcnJpZGVkRmFjdG9yeSkge1xuICAgICAgICByZXR1cm4gb3ZlcnJpZGVkRmFjdG9yeShvcmlnRnVuYyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzc2VydChiKSB7XG4gICAgICAgIGlmICghYilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzc2VydGlvbiBGYWlsZWRcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzYXAkMShmbikge1xuICAgICAgICBpZiAoX2dsb2JhbC5zZXRJbW1lZGlhdGUpXG4gICAgICAgICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXJyYXlUb09iamVjdChhcnJheSwgZXh0cmFjdG9yKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgaXRlbSwgaSkge1xuICAgICAgICAgICAgdmFyIG5hbWVBbmRWYWx1ZSA9IGV4dHJhY3RvcihpdGVtLCBpKTtcbiAgICAgICAgICAgIGlmIChuYW1lQW5kVmFsdWUpXG4gICAgICAgICAgICAgICAgcmVzdWx0W25hbWVBbmRWYWx1ZVswXV0gPSBuYW1lQW5kVmFsdWVbMV07XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEJ5S2V5UGF0aChvYmosIGtleVBhdGgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyAmJiBoYXNPd24ob2JqLCBrZXlQYXRoKSlcbiAgICAgICAgICAgIHJldHVybiBvYmpba2V5UGF0aF07XG4gICAgICAgIGlmICgha2V5UGF0aClcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5UGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBydiA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlQYXRoLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoW2ldKTtcbiAgICAgICAgICAgICAgICBydi5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBlcmlvZCA9IGtleVBhdGguaW5kZXhPZignLicpO1xuICAgICAgICBpZiAocGVyaW9kICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIGlubmVyT2JqID0gb2JqW2tleVBhdGguc3Vic3RyKDAsIHBlcmlvZCldO1xuICAgICAgICAgICAgcmV0dXJuIGlubmVyT2JqID09IG51bGwgPyB1bmRlZmluZWQgOiBnZXRCeUtleVBhdGgoaW5uZXJPYmosIGtleVBhdGguc3Vic3RyKHBlcmlvZCArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIW9iaiB8fCBrZXlQYXRoID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICgnaXNGcm96ZW4nIGluIE9iamVjdCAmJiBPYmplY3QuaXNGcm96ZW4ob2JqKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlQYXRoICE9PSAnc3RyaW5nJyAmJiAnbGVuZ3RoJyBpbiBrZXlQYXRoKSB7XG4gICAgICAgICAgICBhc3NlcnQodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiAnbGVuZ3RoJyBpbiB2YWx1ZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleVBhdGgubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aFtpXSwgdmFsdWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHBlcmlvZCA9IGtleVBhdGguaW5kZXhPZignLicpO1xuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEtleVBhdGggPSBrZXlQYXRoLnN1YnN0cigwLCBwZXJpb2QpO1xuICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdLZXlQYXRoID0ga2V5UGF0aC5zdWJzdHIocGVyaW9kICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0tleVBhdGggPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShvYmopICYmICFpc05hTihwYXJzZUludChjdXJyZW50S2V5UGF0aCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5zcGxpY2UoY3VycmVudEtleVBhdGgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpbY3VycmVudEtleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtjdXJyZW50S2V5UGF0aF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyT2JqID0gb2JqW2N1cnJlbnRLZXlQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbm5lck9iaiB8fCAhaGFzT3duKG9iaiwgY3VycmVudEtleVBhdGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJPYmogPSAob2JqW2N1cnJlbnRLZXlQYXRoXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKGlubmVyT2JqLCByZW1haW5pbmdLZXlQYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkob2JqKSAmJiAhaXNOYU4ocGFyc2VJbnQoa2V5UGF0aCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNwbGljZShrZXlQYXRoLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBvYmpba2V5UGF0aF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWxCeUtleVBhdGgob2JqLCBrZXlQYXRoKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCB1bmRlZmluZWQpO1xuICAgICAgICBlbHNlIGlmICgnbGVuZ3RoJyBpbiBrZXlQYXRoKVxuICAgICAgICAgICAgW10ubWFwLmNhbGwoa2V5UGF0aCwgZnVuY3Rpb24gKGtwKSB7XG4gICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga3AsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hhbGxvd0Nsb25lKG9iaikge1xuICAgICAgICB2YXIgcnYgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgbSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24ob2JqLCBtKSlcbiAgICAgICAgICAgICAgICBydlttXSA9IG9ialttXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIHZhciBjb25jYXQgPSBbXS5jb25jYXQ7XG4gICAgZnVuY3Rpb24gZmxhdHRlbihhKSB7XG4gICAgICAgIHJldHVybiBjb25jYXQuYXBwbHkoW10sIGEpO1xuICAgIH1cbiAgICB2YXIgaW50cmluc2ljVHlwZU5hbWVzID0gXCJCaWdVaW50NjRBcnJheSxCaWdJbnQ2NEFycmF5LEFycmF5LEJvb2xlYW4sU3RyaW5nLERhdGUsUmVnRXhwLEJsb2IsRmlsZSxGaWxlTGlzdCxGaWxlU3lzdGVtRmlsZUhhbmRsZSxGaWxlU3lzdGVtRGlyZWN0b3J5SGFuZGxlLEFycmF5QnVmZmVyLERhdGFWaWV3LFVpbnQ4Q2xhbXBlZEFycmF5LEltYWdlQml0bWFwLEltYWdlRGF0YSxNYXAsU2V0LENyeXB0b0tleVwiXG4gICAgICAgIC5zcGxpdCgnLCcpLmNvbmNhdChmbGF0dGVuKFs4LCAxNiwgMzIsIDY0XS5tYXAoZnVuY3Rpb24gKG51bSkgeyByZXR1cm4gW1wiSW50XCIsIFwiVWludFwiLCBcIkZsb2F0XCJdLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gdCArIG51bSArIFwiQXJyYXlcIjsgfSk7IH0pKSkuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiBfZ2xvYmFsW3RdOyB9KTtcbiAgICB2YXIgaW50cmluc2ljVHlwZXMgPSBuZXcgU2V0KGludHJpbnNpY1R5cGVOYW1lcy5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIF9nbG9iYWxbdF07IH0pKTtcbiAgICBmdW5jdGlvbiBjbG9uZVNpbXBsZU9iamVjdFRyZWUobykge1xuICAgICAgICB2YXIgcnYgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvKVxuICAgICAgICAgICAgaWYgKGhhc093bihvLCBrKSkge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gb1trXTtcbiAgICAgICAgICAgICAgICBydltrXSA9ICF2IHx8IHR5cGVvZiB2ICE9PSAnb2JqZWN0JyB8fCBpbnRyaW5zaWNUeXBlcy5oYXModi5jb25zdHJ1Y3RvcikgPyB2IDogY2xvbmVTaW1wbGVPYmplY3RUcmVlKHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9iamVjdElzRW1wdHkobykge1xuICAgICAgICBmb3IgKHZhciBrIGluIG8pXG4gICAgICAgICAgICBpZiAoaGFzT3duKG8sIGspKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBjaXJjdWxhclJlZnMgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGRlZXBDbG9uZShhbnkpIHtcbiAgICAgICAgY2lyY3VsYXJSZWZzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdmFyIHJ2ID0gaW5uZXJEZWVwQ2xvbmUoYW55KTtcbiAgICAgICAgY2lyY3VsYXJSZWZzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbm5lckRlZXBDbG9uZSh4KSB7XG4gICAgICAgIGlmICgheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgdmFyIHJ2ID0gY2lyY3VsYXJSZWZzLmdldCh4KTtcbiAgICAgICAgaWYgKHJ2KVxuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICBpZiAoaXNBcnJheSh4KSkge1xuICAgICAgICAgICAgcnYgPSBbXTtcbiAgICAgICAgICAgIGNpcmN1bGFyUmVmcy5zZXQoeCwgcnYpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB4Lmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgIHJ2LnB1c2goaW5uZXJEZWVwQ2xvbmUoeFtpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGludHJpbnNpY1R5cGVzLmhhcyh4LmNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgcnYgPSB4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG8oeCk7XG4gICAgICAgICAgICBydiA9IHByb3RvID09PSBPYmplY3QucHJvdG90eXBlID8ge30gOiBPYmplY3QuY3JlYXRlKHByb3RvKTtcbiAgICAgICAgICAgIGNpcmN1bGFyUmVmcy5zZXQoeCwgcnYpO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiB4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093bih4LCBwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBydltwcm9wXSA9IGlubmVyRGVlcENsb25lKHhbcHJvcF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nVGFnKG8pIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3JTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/XG4gICAgICAgIFN5bWJvbC5pdGVyYXRvciA6XG4gICAgICAgICdAQGl0ZXJhdG9yJztcbiAgICB2YXIgZ2V0SXRlcmF0b3JPZiA9IHR5cGVvZiBpdGVyYXRvclN5bWJvbCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICByZXR1cm4geCAhPSBudWxsICYmIChpID0geFtpdGVyYXRvclN5bWJvbF0pICYmIGkuYXBwbHkoeCk7XG4gICAgfSA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgZnVuY3Rpb24gZGVsQXJyYXlJdGVtKGEsIHgpIHtcbiAgICAgICAgdmFyIGkgPSBhLmluZGV4T2YoeCk7XG4gICAgICAgIGlmIChpID49IDApXG4gICAgICAgICAgICBhLnNwbGljZShpLCAxKTtcbiAgICAgICAgcmV0dXJuIGkgPj0gMDtcbiAgICB9XG4gICAgdmFyIE5PX0NIQVJfQVJSQVkgPSB7fTtcbiAgICBmdW5jdGlvbiBnZXRBcnJheU9mKGFycmF5TGlrZSkge1xuICAgICAgICB2YXIgaSwgYSwgeCwgaXQ7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShhcnJheUxpa2UpKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheUxpa2Uuc2xpY2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzID09PSBOT19DSEFSX0FSUkFZICYmIHR5cGVvZiBhcnJheUxpa2UgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHJldHVybiBbYXJyYXlMaWtlXTtcbiAgICAgICAgICAgIGlmICgoaXQgPSBnZXRJdGVyYXRvck9mKGFycmF5TGlrZSkpKSB7XG4gICAgICAgICAgICAgICAgYSA9IFtdO1xuICAgICAgICAgICAgICAgIHdoaWxlICgoeCA9IGl0Lm5leHQoKSksICF4LmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIGEucHVzaCh4LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcnJheUxpa2UgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gW2FycmF5TGlrZV07XG4gICAgICAgICAgICBpID0gYXJyYXlMaWtlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBhID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICAgICAgICAgIGFbaV0gPSBhcnJheUxpa2VbaV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2FycmF5TGlrZV07XG4gICAgICAgIH1cbiAgICAgICAgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGEgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICBhW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgdmFyIGlzQXN5bmNGdW5jdGlvbiA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbltTeW1ib2wudG9TdHJpbmdUYWddID09PSAnQXN5bmNGdW5jdGlvbic7IH1cbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTtcblxuICAgIHZhciBkZXhpZUVycm9yTmFtZXMgPSBbXG4gICAgICAgICdNb2RpZnknLFxuICAgICAgICAnQnVsaycsXG4gICAgICAgICdPcGVuRmFpbGVkJyxcbiAgICAgICAgJ1ZlcnNpb25DaGFuZ2UnLFxuICAgICAgICAnU2NoZW1hJyxcbiAgICAgICAgJ1VwZ3JhZGUnLFxuICAgICAgICAnSW52YWxpZFRhYmxlJyxcbiAgICAgICAgJ01pc3NpbmdBUEknLFxuICAgICAgICAnTm9TdWNoRGF0YWJhc2UnLFxuICAgICAgICAnSW52YWxpZEFyZ3VtZW50JyxcbiAgICAgICAgJ1N1YlRyYW5zYWN0aW9uJyxcbiAgICAgICAgJ1Vuc3VwcG9ydGVkJyxcbiAgICAgICAgJ0ludGVybmFsJyxcbiAgICAgICAgJ0RhdGFiYXNlQ2xvc2VkJyxcbiAgICAgICAgJ1ByZW1hdHVyZUNvbW1pdCcsXG4gICAgICAgICdGb3JlaWduQXdhaXQnXG4gICAgXTtcbiAgICB2YXIgaWRiRG9tRXJyb3JOYW1lcyA9IFtcbiAgICAgICAgJ1Vua25vd24nLFxuICAgICAgICAnQ29uc3RyYWludCcsXG4gICAgICAgICdEYXRhJyxcbiAgICAgICAgJ1RyYW5zYWN0aW9uSW5hY3RpdmUnLFxuICAgICAgICAnUmVhZE9ubHknLFxuICAgICAgICAnVmVyc2lvbicsXG4gICAgICAgICdOb3RGb3VuZCcsXG4gICAgICAgICdJbnZhbGlkU3RhdGUnLFxuICAgICAgICAnSW52YWxpZEFjY2VzcycsXG4gICAgICAgICdBYm9ydCcsXG4gICAgICAgICdUaW1lb3V0JyxcbiAgICAgICAgJ1F1b3RhRXhjZWVkZWQnLFxuICAgICAgICAnU3ludGF4JyxcbiAgICAgICAgJ0RhdGFDbG9uZSdcbiAgICBdO1xuICAgIHZhciBlcnJvckxpc3QgPSBkZXhpZUVycm9yTmFtZXMuY29uY2F0KGlkYkRvbUVycm9yTmFtZXMpO1xuICAgIHZhciBkZWZhdWx0VGV4dHMgPSB7XG4gICAgICAgIFZlcnNpb25DaGFuZ2VkOiBcIkRhdGFiYXNlIHZlcnNpb24gY2hhbmdlZCBieSBvdGhlciBkYXRhYmFzZSBjb25uZWN0aW9uXCIsXG4gICAgICAgIERhdGFiYXNlQ2xvc2VkOiBcIkRhdGFiYXNlIGhhcyBiZWVuIGNsb3NlZFwiLFxuICAgICAgICBBYm9ydDogXCJUcmFuc2FjdGlvbiBhYm9ydGVkXCIsXG4gICAgICAgIFRyYW5zYWN0aW9uSW5hY3RpdmU6IFwiVHJhbnNhY3Rpb24gaGFzIGFscmVhZHkgY29tcGxldGVkIG9yIGZhaWxlZFwiLFxuICAgICAgICBNaXNzaW5nQVBJOiBcIkluZGV4ZWREQiBBUEkgbWlzc2luZy4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vdGlueXVybC5jb20veTJ1dXZza2JcIlxuICAgIH07XG4gICAgZnVuY3Rpb24gRGV4aWVFcnJvcihuYW1lLCBtc2cpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICBkZXJpdmUoRGV4aWVFcnJvcikuZnJvbShFcnJvcikuZXh0ZW5kKHtcbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMubWVzc2FnZTsgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGdldE11bHRpRXJyb3JNZXNzYWdlKG1zZywgZmFpbHVyZXMpIHtcbiAgICAgICAgcmV0dXJuIG1zZyArIFwiLiBFcnJvcnM6IFwiICsgT2JqZWN0LmtleXMoZmFpbHVyZXMpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGZhaWx1cmVzW2tleV0udG9TdHJpbmcoKTsgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHYsIGksIHMpIHsgcmV0dXJuIHMuaW5kZXhPZih2KSA9PT0gaTsgfSlcbiAgICAgICAgICAgIC5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gTW9kaWZ5RXJyb3IobXNnLCBmYWlsdXJlcywgc3VjY2Vzc0NvdW50LCBmYWlsZWRLZXlzKSB7XG4gICAgICAgIHRoaXMuZmFpbHVyZXMgPSBmYWlsdXJlcztcbiAgICAgICAgdGhpcy5mYWlsZWRLZXlzID0gZmFpbGVkS2V5cztcbiAgICAgICAgdGhpcy5zdWNjZXNzQ291bnQgPSBzdWNjZXNzQ291bnQ7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGdldE11bHRpRXJyb3JNZXNzYWdlKG1zZywgZmFpbHVyZXMpO1xuICAgIH1cbiAgICBkZXJpdmUoTW9kaWZ5RXJyb3IpLmZyb20oRGV4aWVFcnJvcik7XG4gICAgZnVuY3Rpb24gQnVsa0Vycm9yKG1zZywgZmFpbHVyZXMpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJCdWxrRXJyb3JcIjtcbiAgICAgICAgdGhpcy5mYWlsdXJlcyA9IE9iamVjdC5rZXlzKGZhaWx1cmVzKS5tYXAoZnVuY3Rpb24gKHBvcykgeyByZXR1cm4gZmFpbHVyZXNbcG9zXTsgfSk7XG4gICAgICAgIHRoaXMuZmFpbHVyZXNCeVBvcyA9IGZhaWx1cmVzO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBnZXRNdWx0aUVycm9yTWVzc2FnZShtc2csIHRoaXMuZmFpbHVyZXMpO1xuICAgIH1cbiAgICBkZXJpdmUoQnVsa0Vycm9yKS5mcm9tKERleGllRXJyb3IpO1xuICAgIHZhciBlcnJuYW1lcyA9IGVycm9yTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkgeyByZXR1cm4gKG9ialtuYW1lXSA9IG5hbWUgKyBcIkVycm9yXCIsIG9iaik7IH0sIHt9KTtcbiAgICB2YXIgQmFzZUV4Y2VwdGlvbiA9IERleGllRXJyb3I7XG4gICAgdmFyIGV4Y2VwdGlvbnMgPSBlcnJvckxpc3QucmVkdWNlKGZ1bmN0aW9uIChvYmosIG5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gbmFtZSArIFwiRXJyb3JcIjtcbiAgICAgICAgZnVuY3Rpb24gRGV4aWVFcnJvcihtc2dPcklubmVyLCBpbm5lcikge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gZnVsbE5hbWU7XG4gICAgICAgICAgICBpZiAoIW1zZ09ySW5uZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBkZWZhdWx0VGV4dHNbbmFtZV0gfHwgZnVsbE5hbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbXNnT3JJbm5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBcIlwiLmNvbmNhdChtc2dPcklubmVyKS5jb25jYXQoIWlubmVyID8gJycgOiAnXFxuICcgKyBpbm5lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lciA9IGlubmVyIHx8IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbXNnT3JJbm5lciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBcIlwiLmNvbmNhdChtc2dPcklubmVyLm5hbWUsIFwiIFwiKS5jb25jYXQobXNnT3JJbm5lci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyID0gbXNnT3JJbm5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXJpdmUoRGV4aWVFcnJvcikuZnJvbShCYXNlRXhjZXB0aW9uKTtcbiAgICAgICAgb2JqW25hbWVdID0gRGV4aWVFcnJvcjtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB7fSk7XG4gICAgZXhjZXB0aW9ucy5TeW50YXggPSBTeW50YXhFcnJvcjtcbiAgICBleGNlcHRpb25zLlR5cGUgPSBUeXBlRXJyb3I7XG4gICAgZXhjZXB0aW9ucy5SYW5nZSA9IFJhbmdlRXJyb3I7XG4gICAgdmFyIGV4Y2VwdGlvbk1hcCA9IGlkYkRvbUVycm9yTmFtZXMucmVkdWNlKGZ1bmN0aW9uIChvYmosIG5hbWUpIHtcbiAgICAgICAgb2JqW25hbWUgKyBcIkVycm9yXCJdID0gZXhjZXB0aW9uc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB7fSk7XG4gICAgZnVuY3Rpb24gbWFwRXJyb3IoZG9tRXJyb3IsIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCFkb21FcnJvciB8fCBkb21FcnJvciBpbnN0YW5jZW9mIERleGllRXJyb3IgfHwgZG9tRXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgfHwgZG9tRXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvciB8fCAhZG9tRXJyb3IubmFtZSB8fCAhZXhjZXB0aW9uTWFwW2RvbUVycm9yLm5hbWVdKVxuICAgICAgICAgICAgcmV0dXJuIGRvbUVycm9yO1xuICAgICAgICB2YXIgcnYgPSBuZXcgZXhjZXB0aW9uTWFwW2RvbUVycm9yLm5hbWVdKG1lc3NhZ2UgfHwgZG9tRXJyb3IubWVzc2FnZSwgZG9tRXJyb3IpO1xuICAgICAgICBpZiAoXCJzdGFja1wiIGluIGRvbUVycm9yKSB7XG4gICAgICAgICAgICBzZXRQcm9wKHJ2LCBcInN0YWNrXCIsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlubmVyLnN0YWNrO1xuICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICB2YXIgZnVsbE5hbWVFeGNlcHRpb25zID0gZXJyb3JMaXN0LnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgICAgIGlmIChbXCJTeW50YXhcIiwgXCJUeXBlXCIsIFwiUmFuZ2VcIl0uaW5kZXhPZihuYW1lKSA9PT0gLTEpXG4gICAgICAgICAgICBvYmpbbmFtZSArIFwiRXJyb3JcIl0gPSBleGNlcHRpb25zW25hbWVdO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbiAgICBmdWxsTmFtZUV4Y2VwdGlvbnMuTW9kaWZ5RXJyb3IgPSBNb2RpZnlFcnJvcjtcbiAgICBmdWxsTmFtZUV4Y2VwdGlvbnMuRGV4aWVFcnJvciA9IERleGllRXJyb3I7XG4gICAgZnVsbE5hbWVFeGNlcHRpb25zLkJ1bGtFcnJvciA9IEJ1bGtFcnJvcjtcblxuICAgIGZ1bmN0aW9uIG5vcCgpIHsgfVxuICAgIGZ1bmN0aW9uIG1pcnJvcih2YWwpIHsgcmV0dXJuIHZhbDsgfVxuICAgIGZ1bmN0aW9uIHB1cmVGdW5jdGlvbkNoYWluKGYxLCBmMikge1xuICAgICAgICBpZiAoZjEgPT0gbnVsbCB8fCBmMSA9PT0gbWlycm9yKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGYyKGYxKHZhbCkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsQm90aChvbjEsIG9uMikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb24xLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBvbjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaG9va0NyZWF0aW5nQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gcmVzO1xuICAgICAgICAgICAgdmFyIG9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzLFxuICAgICAgICAgICAgb25lcnJvciA9IHRoaXMub25lcnJvcjtcbiAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB2YXIgcmVzMiA9IGYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAob25zdWNjZXNzKVxuICAgICAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MgPyBjYWxsQm90aChvbnN1Y2Nlc3MsIHRoaXMub25zdWNjZXNzKSA6IG9uc3VjY2VzcztcbiAgICAgICAgICAgIGlmIChvbmVycm9yKVxuICAgICAgICAgICAgICAgIHRoaXMub25lcnJvciA9IHRoaXMub25lcnJvciA/IGNhbGxCb3RoKG9uZXJyb3IsIHRoaXMub25lcnJvcikgOiBvbmVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIHJlczIgIT09IHVuZGVmaW5lZCA/IHJlczIgOiByZXM7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhvb2tEZWxldGluZ0NoYWluKGYxLCBmMikge1xuICAgICAgICBpZiAoZjEgPT09IG5vcClcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgb25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MsXG4gICAgICAgICAgICBvbmVycm9yID0gdGhpcy5vbmVycm9yO1xuICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSB0aGlzLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChvbnN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyA/IGNhbGxCb3RoKG9uc3VjY2VzcywgdGhpcy5vbnN1Y2Nlc3MpIDogb25zdWNjZXNzO1xuICAgICAgICAgICAgaWYgKG9uZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gdGhpcy5vbmVycm9yID8gY2FsbEJvdGgob25lcnJvciwgdGhpcy5vbmVycm9yKSA6IG9uZXJyb3I7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhvb2tVcGRhdGluZ0NoYWluKGYxLCBmMikge1xuICAgICAgICBpZiAoZjEgPT09IG5vcClcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtb2RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGV4dGVuZChtb2RpZmljYXRpb25zLCByZXMpO1xuICAgICAgICAgICAgdmFyIG9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzLFxuICAgICAgICAgICAgb25lcnJvciA9IHRoaXMub25lcnJvcjtcbiAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB2YXIgcmVzMiA9IGYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAob25zdWNjZXNzKVxuICAgICAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MgPyBjYWxsQm90aChvbnN1Y2Nlc3MsIHRoaXMub25zdWNjZXNzKSA6IG9uc3VjY2VzcztcbiAgICAgICAgICAgIGlmIChvbmVycm9yKVxuICAgICAgICAgICAgICAgIHRoaXMub25lcnJvciA9IHRoaXMub25lcnJvciA/IGNhbGxCb3RoKG9uZXJyb3IsIHRoaXMub25lcnJvcikgOiBvbmVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIHJlcyA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAocmVzMiA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogcmVzMikgOlxuICAgICAgICAgICAgICAgIChleHRlbmQocmVzLCByZXMyKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldmVyc2VTdG9wcGFibGVFdmVudENoYWluKGYxLCBmMikge1xuICAgICAgICBpZiAoZjEgPT09IG5vcClcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvbWlzYWJsZUNoYWluKGYxLCBmMikge1xuICAgICAgICBpZiAoZjEgPT09IG5vcClcbiAgICAgICAgICAgIHJldHVybiBmMjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHJlcyAmJiB0eXBlb2YgcmVzLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhpeiA9IHRoaXMsIGkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGYyLmFwcGx5KHRoaXosIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGRlYnVnID0gdHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvXihodHRwfGh0dHBzKTpcXC9cXC8obG9jYWxob3N0fDEyN1xcLjBcXC4wXFwuMSkvLnRlc3QobG9jYXRpb24uaHJlZik7XG4gICAgZnVuY3Rpb24gc2V0RGVidWcodmFsdWUsIGZpbHRlcikge1xuICAgICAgICBkZWJ1ZyA9IHZhbHVlO1xuICAgIH1cblxuICAgIHZhciBJTlRFUk5BTCA9IHt9O1xuICAgIHZhciBaT05FX0VDSE9fTElNSVQgPSAxMDAsIF9hJDEgPSB0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICBbXSA6XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZ2xvYmFsUCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnIHx8ICFjcnlwdG8uc3VidGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBbZ2xvYmFsUCwgZ2V0UHJvdG8oZ2xvYmFsUCksIGdsb2JhbFBdO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZVAgPSBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS01MTJcIiwgbmV3IFVpbnQ4QXJyYXkoWzBdKSk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5hdGl2ZVAsXG4gICAgICAgICAgICAgICAgZ2V0UHJvdG8obmF0aXZlUCksXG4gICAgICAgICAgICAgICAgZ2xvYmFsUFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSkoKSwgcmVzb2x2ZWROYXRpdmVQcm9taXNlID0gX2EkMVswXSwgbmF0aXZlUHJvbWlzZVByb3RvID0gX2EkMVsxXSwgcmVzb2x2ZWRHbG9iYWxQcm9taXNlID0gX2EkMVsyXSwgbmF0aXZlUHJvbWlzZVRoZW4gPSBuYXRpdmVQcm9taXNlUHJvdG8gJiYgbmF0aXZlUHJvbWlzZVByb3RvLnRoZW47XG4gICAgdmFyIE5hdGl2ZVByb21pc2UgPSByZXNvbHZlZE5hdGl2ZVByb21pc2UgJiYgcmVzb2x2ZWROYXRpdmVQcm9taXNlLmNvbnN0cnVjdG9yO1xuICAgIHZhciBwYXRjaEdsb2JhbFByb21pc2UgPSAhIXJlc29sdmVkR2xvYmFsUHJvbWlzZTtcbiAgICBmdW5jdGlvbiBzY2hlZHVsZVBoeXNpY2FsVGljaygpIHtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2socGh5c2ljYWxUaWNrKTtcbiAgICB9XG4gICAgdmFyIGFzYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGFyZ3MpIHtcbiAgICAgICAgbWljcm90aWNrUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ3NdKTtcbiAgICAgICAgaWYgKG5lZWRzTmV3UGh5c2ljYWxUaWNrKSB7XG4gICAgICAgICAgICBzY2hlZHVsZVBoeXNpY2FsVGljaygpO1xuICAgICAgICAgICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGlzT3V0c2lkZU1pY3JvVGljayA9IHRydWUsXG4gICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSB0cnVlLFxuICAgIHVuaGFuZGxlZEVycm9ycyA9IFtdLFxuICAgIHJlamVjdGluZ0Vycm9ycyA9IFtdLFxuICAgIHJlamVjdGlvbk1hcHBlciA9IG1pcnJvcjtcbiAgICB2YXIgZ2xvYmFsUFNEID0ge1xuICAgICAgICBpZDogJ2dsb2JhbCcsXG4gICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgcmVmOiAwLFxuICAgICAgICB1bmhhbmRsZWRzOiBbXSxcbiAgICAgICAgb251bmhhbmRsZWQ6IG5vcCxcbiAgICAgICAgcGdwOiBmYWxzZSxcbiAgICAgICAgZW52OiB7fSxcbiAgICAgICAgZmluYWxpemU6IG5vcFxuICAgIH07XG4gICAgdmFyIFBTRCA9IGdsb2JhbFBTRDtcbiAgICB2YXIgbWljcm90aWNrUXVldWUgPSBbXTtcbiAgICB2YXIgbnVtU2NoZWR1bGVkQ2FsbHMgPSAwO1xuICAgIHZhciB0aWNrRmluYWxpemVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIERleGllUHJvbWlzZShmbikge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMgIT09ICdvYmplY3QnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Jyk7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9saWIgPSBmYWxzZTtcbiAgICAgICAgdmFyIHBzZCA9ICh0aGlzLl9QU0QgPSBQU0QpO1xuICAgICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoZm4gIT09IElOVEVSTkFMKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICBoYW5kbGVSZWplY3Rpb24odGhpcywgdGhpcy5fdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgICAgICArK3BzZC5yZWY7XG4gICAgICAgIGV4ZWN1dGVQcm9taXNlVGFzayh0aGlzLCBmbik7XG4gICAgfVxuICAgIHZhciB0aGVuUHJvcCA9IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcHNkID0gUFNELCBtaWNyb1Rhc2tJZCA9IHRvdGFsRWNob2VzO1xuICAgICAgICAgICAgZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3NpYmxlQXdhaXQgPSAhcHNkLmdsb2JhbCAmJiAocHNkICE9PSBQU0QgfHwgbWljcm9UYXNrSWQgIT09IHRvdGFsRWNob2VzKTtcbiAgICAgICAgICAgICAgICB2YXIgY2xlYW51cCA9IHBvc3NpYmxlQXdhaXQgJiYgIWRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgdmFyIHJ2ID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZVRvTGlzdGVuZXIoX3RoaXMsIG5ldyBMaXN0ZW5lcihuYXRpdmVBd2FpdENvbXBhdGlibGVXcmFwKG9uRnVsZmlsbGVkLCBwc2QsIHBvc3NpYmxlQXdhaXQsIGNsZWFudXApLCBuYXRpdmVBd2FpdENvbXBhdGlibGVXcmFwKG9uUmVqZWN0ZWQsIHBzZCwgcG9zc2libGVBd2FpdCwgY2xlYW51cCksIHJlc29sdmUsIHJlamVjdCwgcHNkKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnNvbGVUYXNrKVxuICAgICAgICAgICAgICAgICAgICBydi5fY29uc29sZVRhc2sgPSB0aGlzLl9jb25zb2xlVGFzaztcbiAgICAgICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGVuLnByb3RvdHlwZSA9IElOVEVSTkFMO1xuICAgICAgICAgICAgcmV0dXJuIHRoZW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzZXRQcm9wKHRoaXMsICd0aGVuJywgdmFsdWUgJiYgdmFsdWUucHJvdG90eXBlID09PSBJTlRFUk5BTCA/XG4gICAgICAgICAgICAgICAgdGhlblByb3AgOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldDogdGhlblByb3Auc2V0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHByb3BzKERleGllUHJvbWlzZS5wcm90b3R5cGUsIHtcbiAgICAgICAgdGhlbjogdGhlblByb3AsXG4gICAgICAgIF90aGVuOiBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIHByb3BhZ2F0ZVRvTGlzdGVuZXIodGhpcywgbmV3IExpc3RlbmVyKG51bGwsIG51bGwsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBQU0QpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2F0Y2g6IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF0sIGhhbmRsZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0aGlzLnRoZW4obnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnIgaW5zdGFuY2VvZiB0eXBlID8gaGFuZGxlcihlcnIpIDogUHJvbWlzZVJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IHRoaXMudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnIgJiYgZXJyLm5hbWUgPT09IHR5cGUgPyBoYW5kbGVyKGVycikgOiBQcm9taXNlUmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmFsbHk6IGZ1bmN0aW9uIChvbkZpbmFsbHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUob25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZVJlamVjdChlcnIpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0aW1lb3V0OiBmdW5jdGlvbiAobXMsIG1zZykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBtcyA8IEluZmluaXR5ID9cbiAgICAgICAgICAgICAgICBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVqZWN0KG5ldyBleGNlcHRpb25zLlRpbWVvdXQobXNnKSk7IH0sIG1zKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudGhlbihyZXNvbHZlLCByZWplY3QpLmZpbmFsbHkoY2xlYXJUaW1lb3V0LmJpbmQobnVsbCwgaGFuZGxlKSk7XG4gICAgICAgICAgICAgICAgfSkgOiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZylcbiAgICAgICAgc2V0UHJvcChEZXhpZVByb21pc2UucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsICdEZXhpZS5Qcm9taXNlJyk7XG4gICAgZ2xvYmFsUFNELmVudiA9IHNuYXBTaG90KCk7XG4gICAgZnVuY3Rpb24gTGlzdGVuZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHJlc29sdmUsIHJlamVjdCwgem9uZSkge1xuICAgICAgICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiBudWxsO1xuICAgICAgICB0aGlzLm9uUmVqZWN0ZWQgPSB0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uUmVqZWN0ZWQgOiBudWxsO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgdGhpcy5wc2QgPSB6b25lO1xuICAgIH1cbiAgICBwcm9wcyhEZXhpZVByb21pc2UsIHtcbiAgICAgICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gZ2V0QXJyYXlPZi5hcHBseShudWxsLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgLm1hcChvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUoYSkudGhlbihmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSB4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc29sdmU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGV4aWVQcm9taXNlKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBEZXhpZVByb21pc2UoSU5URVJOQUwsIHRydWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0OiBQcm9taXNlUmVqZWN0LFxuICAgICAgICByYWNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gZ2V0QXJyYXlPZi5hcHBseShudWxsLCBhcmd1bWVudHMpLm1hcChvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihyZXNvbHZlLCByZWplY3QpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBQU0Q6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUFNEOyB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIFBTRCA9IHZhbHVlOyB9XG4gICAgICAgIH0sXG4gICAgICAgIHRvdGFsRWNob2VzOiB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdG90YWxFY2hvZXM7IH0gfSxcbiAgICAgICAgbmV3UFNEOiBuZXdTY29wZSxcbiAgICAgICAgdXNlUFNEOiB1c2VQU0QsXG4gICAgICAgIHNjaGVkdWxlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhc2FwOyB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgYXNhcCA9IHZhbHVlOyB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbk1hcHBlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZWplY3Rpb25NYXBwZXI7IH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZWplY3Rpb25NYXBwZXIgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICBmb2xsb3c6IGZ1bmN0aW9uIChmbiwgem9uZVByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Njb3BlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBzZCA9IFBTRDtcbiAgICAgICAgICAgICAgICAgICAgcHNkLnVuaGFuZGxlZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcHNkLm9udW5oYW5kbGVkID0gcmVqZWN0O1xuICAgICAgICAgICAgICAgICAgICBwc2QuZmluYWxpemUgPSBjYWxsQm90aChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2F0X2VuZF9vZl90aGlzX29yX25leHRfcGh5c2ljYWxfdGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudW5oYW5kbGVkcy5sZW5ndGggPT09IDAgPyByZXNvbHZlKCkgOiByZWplY3QoX3RoaXMudW5oYW5kbGVkc1swXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgcHNkLmZpbmFsaXplKTtcbiAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICB9LCB6b25lUHJvcHMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChOYXRpdmVQcm9taXNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVQcm9taXNlLmFsbFNldHRsZWQpXG4gICAgICAgICAgICBzZXRQcm9wKERleGllUHJvbWlzZSwgXCJhbGxTZXR0bGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVQcm9taXNlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVQcm9taXNlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IHBvc3NpYmxlUHJvbWlzZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVByb21pc2VzLmZvckVhY2goZnVuY3Rpb24gKHAsIGkpIHsgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHApLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiByZXN1bHRzW2ldID0geyBzdGF0dXM6IFwiZnVsZmlsbGVkXCIsIHZhbHVlOiB2YWx1ZSB9OyB9LCBmdW5jdGlvbiAocmVhc29uKSB7IHJldHVybiByZXN1bHRzW2ldID0geyBzdGF0dXM6IFwicmVqZWN0ZWRcIiwgcmVhc29uOiByZWFzb24gfTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIC0tcmVtYWluaW5nIHx8IHJlc29sdmUocmVzdWx0cyk7IH0pOyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAoTmF0aXZlUHJvbWlzZS5hbnkgJiYgdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHNldFByb3AoRGV4aWVQcm9taXNlLCBcImFueVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3NpYmxlUHJvbWlzZXMgPSBnZXRBcnJheU9mLmFwcGx5KG51bGwsIGFyZ3VtZW50cykubWFwKG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVQcm9taXNlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEFnZ3JlZ2F0ZUVycm9yKFtdKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSBwb3NzaWJsZVByb21pc2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gbmV3IEFycmF5KHJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlUHJvbWlzZXMuZm9yRWFjaChmdW5jdGlvbiAocCwgaSkgeyByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUocCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9LCBmdW5jdGlvbiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZXNbaV0gPSBmYWlsdXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEtLXJlbWFpbmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEFnZ3JlZ2F0ZUVycm9yKGZhaWx1cmVzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAoTmF0aXZlUHJvbWlzZS53aXRoUmVzb2x2ZXJzKVxuICAgICAgICAgICAgRGV4aWVQcm9taXNlLndpdGhSZXNvbHZlcnMgPSBOYXRpdmVQcm9taXNlLndpdGhSZXNvbHZlcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVQcm9taXNlVGFzayhwcm9taXNlLCBmbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBwcm9taXNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpO1xuICAgICAgICAgICAgICAgIHZhciBzaG91bGRFeGVjdXRlVGljayA9IHByb21pc2UuX2xpYiAmJiBiZWdpbk1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVQcm9taXNlVGFzayhwcm9taXNlLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIERleGllUHJvbWlzZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuX3RoZW4ocmVzb2x2ZSwgcmVqZWN0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3N0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlQWxsTGlzdGVuZXJzKHByb21pc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkRXhlY3V0ZVRpY2spXG4gICAgICAgICAgICAgICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICB9LCBoYW5kbGVSZWplY3Rpb24uYmluZChudWxsLCBwcm9taXNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBoYW5kbGVSZWplY3Rpb24ocHJvbWlzZSwgZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlamVjdGlvbihwcm9taXNlLCByZWFzb24pIHtcbiAgICAgICAgcmVqZWN0aW5nRXJyb3JzLnB1c2gocmVhc29uKTtcbiAgICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgc2hvdWxkRXhlY3V0ZVRpY2sgPSBwcm9taXNlLl9saWIgJiYgYmVnaW5NaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICByZWFzb24gPSByZWplY3Rpb25NYXBwZXIocmVhc29uKTtcbiAgICAgICAgcHJvbWlzZS5fc3RhdGUgPSBmYWxzZTtcbiAgICAgICAgcHJvbWlzZS5fdmFsdWUgPSByZWFzb247XG4gICAgICAgIGFkZFBvc3NpYmx5VW5oYW5kbGVkRXJyb3IocHJvbWlzZSk7XG4gICAgICAgIHByb3BhZ2F0ZUFsbExpc3RlbmVycyhwcm9taXNlKTtcbiAgICAgICAgaWYgKHNob3VsZEV4ZWN1dGVUaWNrKVxuICAgICAgICAgICAgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlQWxsTGlzdGVuZXJzKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHByb21pc2UuX2xpc3RlbmVycztcbiAgICAgICAgcHJvbWlzZS5fbGlzdGVuZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHByb3BhZ2F0ZVRvTGlzdGVuZXIocHJvbWlzZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHNkID0gcHJvbWlzZS5fUFNEO1xuICAgICAgICAtLXBzZC5yZWYgfHwgcHNkLmZpbmFsaXplKCk7XG4gICAgICAgIGlmIChudW1TY2hlZHVsZWRDYWxscyA9PT0gMCkge1xuICAgICAgICAgICAgKytudW1TY2hlZHVsZWRDYWxscztcbiAgICAgICAgICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgtLW51bVNjaGVkdWxlZENhbGxzID09PSAwKVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZVBoeXNpY2FsVGljaygpO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZVRvTGlzdGVuZXIocHJvbWlzZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNiID0gcHJvbWlzZS5fc3RhdGUgPyBsaXN0ZW5lci5vbkZ1bGZpbGxlZCA6IGxpc3RlbmVyLm9uUmVqZWN0ZWQ7XG4gICAgICAgIGlmIChjYiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIChwcm9taXNlLl9zdGF0ZSA/IGxpc3RlbmVyLnJlc29sdmUgOiBsaXN0ZW5lci5yZWplY3QpKHByb21pc2UuX3ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICArK2xpc3RlbmVyLnBzZC5yZWY7XG4gICAgICAgICsrbnVtU2NoZWR1bGVkQ2FsbHM7XG4gICAgICAgIGFzYXAoY2FsbExpc3RlbmVyLCBbY2IsIHByb21pc2UsIGxpc3RlbmVyXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxMaXN0ZW5lcihjYiwgcHJvbWlzZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByZXQsIHZhbHVlID0gcHJvbWlzZS5fdmFsdWU7XG4gICAgICAgICAgICBpZiAoIXByb21pc2UuX3N0YXRlICYmIHJlamVjdGluZ0Vycm9ycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmVqZWN0aW5nRXJyb3JzID0gW107XG4gICAgICAgICAgICByZXQgPSBkZWJ1ZyAmJiBwcm9taXNlLl9jb25zb2xlVGFzayA/IHByb21pc2UuX2NvbnNvbGVUYXNrLnJ1bihmdW5jdGlvbiAoKSB7IHJldHVybiBjYih2YWx1ZSk7IH0pIDogY2IodmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFwcm9taXNlLl9zdGF0ZSAmJiByZWplY3RpbmdFcnJvcnMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWFya0Vycm9yQXNIYW5kbGVkKHByb21pc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdGVuZXIucmVzb2x2ZShyZXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoLS1udW1TY2hlZHVsZWRDYWxscyA9PT0gMClcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZVBoeXNpY2FsVGljaygpO1xuICAgICAgICAgICAgLS1saXN0ZW5lci5wc2QucmVmIHx8IGxpc3RlbmVyLnBzZC5maW5hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBoeXNpY2FsVGljaygpIHtcbiAgICAgICAgdXNlUFNEKGdsb2JhbFBTRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmVnaW5NaWNyb1RpY2tTY29wZSgpICYmIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZWdpbk1pY3JvVGlja1Njb3BlKCkge1xuICAgICAgICB2YXIgd2FzUm9vdEV4ZWMgPSBpc091dHNpZGVNaWNyb1RpY2s7XG4gICAgICAgIGlzT3V0c2lkZU1pY3JvVGljayA9IGZhbHNlO1xuICAgICAgICBuZWVkc05ld1BoeXNpY2FsVGljayA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gd2FzUm9vdEV4ZWM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuZE1pY3JvVGlja1Njb3BlKCkge1xuICAgICAgICB2YXIgY2FsbGJhY2tzLCBpLCBsO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB3aGlsZSAobWljcm90aWNrUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrcyA9IG1pY3JvdGlja1F1ZXVlO1xuICAgICAgICAgICAgICAgIG1pY3JvdGlja1F1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgbCA9IGNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGNhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVswXS5hcHBseShudWxsLCBpdGVtWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKG1pY3JvdGlja1F1ZXVlLmxlbmd0aCA+IDApO1xuICAgICAgICBpc091dHNpZGVNaWNyb1RpY2sgPSB0cnVlO1xuICAgICAgICBuZWVkc05ld1BoeXNpY2FsVGljayA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmFsaXplUGh5c2ljYWxUaWNrKCkge1xuICAgICAgICB2YXIgdW5oYW5kbGVkRXJycyA9IHVuaGFuZGxlZEVycm9ycztcbiAgICAgICAgdW5oYW5kbGVkRXJyb3JzID0gW107XG4gICAgICAgIHVuaGFuZGxlZEVycnMuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgcC5fUFNELm9udW5oYW5kbGVkLmNhbGwobnVsbCwgcC5fdmFsdWUsIHApO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGZpbmFsaXplcnMgPSB0aWNrRmluYWxpemVycy5zbGljZSgwKTtcbiAgICAgICAgdmFyIGkgPSBmaW5hbGl6ZXJzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGkpXG4gICAgICAgICAgICBmaW5hbGl6ZXJzWy0taV0oKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuX2F0X2VuZF9vZl90aGlzX29yX25leHRfcGh5c2ljYWxfdGljayhmbikge1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZXIoKSB7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgdGlja0ZpbmFsaXplcnMuc3BsaWNlKHRpY2tGaW5hbGl6ZXJzLmluZGV4T2YoZmluYWxpemVyKSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGlja0ZpbmFsaXplcnMucHVzaChmaW5hbGl6ZXIpO1xuICAgICAgICArK251bVNjaGVkdWxlZENhbGxzO1xuICAgICAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgtLW51bVNjaGVkdWxlZENhbGxzID09PSAwKVxuICAgICAgICAgICAgICAgIGZpbmFsaXplUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkUG9zc2libHlVbmhhbmRsZWRFcnJvcihwcm9taXNlKSB7XG4gICAgICAgIGlmICghdW5oYW5kbGVkRXJyb3JzLnNvbWUoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuX3ZhbHVlID09PSBwcm9taXNlLl92YWx1ZTsgfSkpXG4gICAgICAgICAgICB1bmhhbmRsZWRFcnJvcnMucHVzaChwcm9taXNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0Vycm9yQXNIYW5kbGVkKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGkgPSB1bmhhbmRsZWRFcnJvcnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaSlcbiAgICAgICAgICAgIGlmICh1bmhhbmRsZWRFcnJvcnNbLS1pXS5fdmFsdWUgPT09IHByb21pc2UuX3ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdW5oYW5kbGVkRXJyb3JzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByb21pc2VSZWplY3QocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKElOVEVSTkFMLCBmYWxzZSwgcmVhc29uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd3JhcChmbiwgZXJyb3JDYXRjaGVyKSB7XG4gICAgICAgIHZhciBwc2QgPSBQU0Q7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgd2FzUm9vdEV4ZWMgPSBiZWdpbk1pY3JvVGlja1Njb3BlKCksIG91dGVyU2NvcGUgPSBQU0Q7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN3aXRjaFRvWm9uZShwc2QsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhdGNoZXIgJiYgZXJyb3JDYXRjaGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoVG9ab25lKG91dGVyU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAod2FzUm9vdEV4ZWMpXG4gICAgICAgICAgICAgICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciB0YXNrID0geyBhd2FpdHM6IDAsIGVjaG9lczogMCwgaWQ6IDAgfTtcbiAgICB2YXIgdGFza0NvdW50ZXIgPSAwO1xuICAgIHZhciB6b25lU3RhY2sgPSBbXTtcbiAgICB2YXIgem9uZUVjaG9lcyA9IDA7XG4gICAgdmFyIHRvdGFsRWNob2VzID0gMDtcbiAgICB2YXIgem9uZV9pZF9jb3VudGVyID0gMDtcbiAgICBmdW5jdGlvbiBuZXdTY29wZShmbiwgcHJvcHMsIGExLCBhMikge1xuICAgICAgICB2YXIgcGFyZW50ID0gUFNELCBwc2QgPSBPYmplY3QuY3JlYXRlKHBhcmVudCk7XG4gICAgICAgIHBzZC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHBzZC5yZWYgPSAwO1xuICAgICAgICBwc2QuZ2xvYmFsID0gZmFsc2U7XG4gICAgICAgIHBzZC5pZCA9ICsrem9uZV9pZF9jb3VudGVyO1xuICAgICAgICBnbG9iYWxQU0QuZW52O1xuICAgICAgICBwc2QuZW52ID0gcGF0Y2hHbG9iYWxQcm9taXNlID8ge1xuICAgICAgICAgICAgUHJvbWlzZTogRGV4aWVQcm9taXNlLFxuICAgICAgICAgICAgUHJvbWlzZVByb3A6IHsgdmFsdWU6IERleGllUHJvbWlzZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgYWxsOiBEZXhpZVByb21pc2UuYWxsLFxuICAgICAgICAgICAgcmFjZTogRGV4aWVQcm9taXNlLnJhY2UsXG4gICAgICAgICAgICBhbGxTZXR0bGVkOiBEZXhpZVByb21pc2UuYWxsU2V0dGxlZCxcbiAgICAgICAgICAgIGFueTogRGV4aWVQcm9taXNlLmFueSxcbiAgICAgICAgICAgIHJlc29sdmU6IERleGllUHJvbWlzZS5yZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiBEZXhpZVByb21pc2UucmVqZWN0LFxuICAgICAgICB9IDoge307XG4gICAgICAgIGlmIChwcm9wcylcbiAgICAgICAgICAgIGV4dGVuZChwc2QsIHByb3BzKTtcbiAgICAgICAgKytwYXJlbnQucmVmO1xuICAgICAgICBwc2QuZmluYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAtLXRoaXMucGFyZW50LnJlZiB8fCB0aGlzLnBhcmVudC5maW5hbGl6ZSgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcnYgPSB1c2VQU0QocHNkLCBmbiwgYTEsIGEyKTtcbiAgICAgICAgaWYgKHBzZC5yZWYgPT09IDApXG4gICAgICAgICAgICBwc2QuZmluYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpIHtcbiAgICAgICAgaWYgKCF0YXNrLmlkKVxuICAgICAgICAgICAgdGFzay5pZCA9ICsrdGFza0NvdW50ZXI7XG4gICAgICAgICsrdGFzay5hd2FpdHM7XG4gICAgICAgIHRhc2suZWNob2VzICs9IFpPTkVfRUNIT19MSU1JVDtcbiAgICAgICAgcmV0dXJuIHRhc2suaWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKCkge1xuICAgICAgICBpZiAoIXRhc2suYXdhaXRzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoLS10YXNrLmF3YWl0cyA9PT0gMClcbiAgICAgICAgICAgIHRhc2suaWQgPSAwO1xuICAgICAgICB0YXNrLmVjaG9lcyA9IHRhc2suYXdhaXRzICogWk9ORV9FQ0hPX0xJTUlUO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCgnJyArIG5hdGl2ZVByb21pc2VUaGVuKS5pbmRleE9mKCdbbmF0aXZlIGNvZGVdJykgPT09IC0xKSB7XG4gICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzID0gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMgPSBub3A7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyhwb3NzaWJsZVByb21pc2UpIHtcbiAgICAgICAgaWYgKHRhc2suZWNob2VzICYmIHBvc3NpYmxlUHJvbWlzZSAmJiBwb3NzaWJsZVByb21pc2UuY29uc3RydWN0b3IgPT09IE5hdGl2ZVByb21pc2UpIHtcbiAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICByZXR1cm4gcG9zc2libGVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zc2libGVQcm9taXNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB6b25lRW50ZXJFY2hvKHRhcmdldFpvbmUpIHtcbiAgICAgICAgKyt0b3RhbEVjaG9lcztcbiAgICAgICAgaWYgKCF0YXNrLmVjaG9lcyB8fCAtLXRhc2suZWNob2VzID09PSAwKSB7XG4gICAgICAgICAgICB0YXNrLmVjaG9lcyA9IHRhc2suYXdhaXRzID0gdGFzay5pZCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgem9uZVN0YWNrLnB1c2goUFNEKTtcbiAgICAgICAgc3dpdGNoVG9ab25lKHRhcmdldFpvbmUsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB6b25lTGVhdmVFY2hvKCkge1xuICAgICAgICB2YXIgem9uZSA9IHpvbmVTdGFja1t6b25lU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIHpvbmVTdGFjay5wb3AoKTtcbiAgICAgICAgc3dpdGNoVG9ab25lKHpvbmUsIGZhbHNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3dpdGNoVG9ab25lKHRhcmdldFpvbmUsIGJFbnRlcmluZ1pvbmUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRab25lID0gUFNEO1xuICAgICAgICBpZiAoYkVudGVyaW5nWm9uZSA/IHRhc2suZWNob2VzICYmICghem9uZUVjaG9lcysrIHx8IHRhcmdldFpvbmUgIT09IFBTRCkgOiB6b25lRWNob2VzICYmICghLS16b25lRWNob2VzIHx8IHRhcmdldFpvbmUgIT09IFBTRCkpIHtcbiAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGJFbnRlcmluZ1pvbmUgPyB6b25lRW50ZXJFY2hvLmJpbmQobnVsbCwgdGFyZ2V0Wm9uZSkgOiB6b25lTGVhdmVFY2hvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0Wm9uZSA9PT0gUFNEKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBQU0QgPSB0YXJnZXRab25lO1xuICAgICAgICBpZiAoY3VycmVudFpvbmUgPT09IGdsb2JhbFBTRClcbiAgICAgICAgICAgIGdsb2JhbFBTRC5lbnYgPSBzbmFwU2hvdCgpO1xuICAgICAgICBpZiAocGF0Y2hHbG9iYWxQcm9taXNlKSB7XG4gICAgICAgICAgICB2YXIgR2xvYmFsUHJvbWlzZSA9IGdsb2JhbFBTRC5lbnYuUHJvbWlzZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRFbnYgPSB0YXJnZXRab25lLmVudjtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Wm9uZS5nbG9iYWwgfHwgdGFyZ2V0Wm9uZS5nbG9iYWwpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2dsb2JhbCwgJ1Byb21pc2UnLCB0YXJnZXRFbnYuUHJvbWlzZVByb3ApO1xuICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UuYWxsID0gdGFyZ2V0RW52LmFsbDtcbiAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLnJhY2UgPSB0YXJnZXRFbnYucmFjZTtcbiAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLnJlc29sdmUgPSB0YXJnZXRFbnYucmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLnJlamVjdCA9IHRhcmdldEVudi5yZWplY3Q7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEVudi5hbGxTZXR0bGVkKVxuICAgICAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLmFsbFNldHRsZWQgPSB0YXJnZXRFbnYuYWxsU2V0dGxlZDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RW52LmFueSlcbiAgICAgICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5hbnkgPSB0YXJnZXRFbnYuYW55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNuYXBTaG90KCkge1xuICAgICAgICB2YXIgR2xvYmFsUHJvbWlzZSA9IF9nbG9iYWwuUHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIHBhdGNoR2xvYmFsUHJvbWlzZSA/IHtcbiAgICAgICAgICAgIFByb21pc2U6IEdsb2JhbFByb21pc2UsXG4gICAgICAgICAgICBQcm9taXNlUHJvcDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfZ2xvYmFsLCBcIlByb21pc2VcIiksXG4gICAgICAgICAgICBhbGw6IEdsb2JhbFByb21pc2UuYWxsLFxuICAgICAgICAgICAgcmFjZTogR2xvYmFsUHJvbWlzZS5yYWNlLFxuICAgICAgICAgICAgYWxsU2V0dGxlZDogR2xvYmFsUHJvbWlzZS5hbGxTZXR0bGVkLFxuICAgICAgICAgICAgYW55OiBHbG9iYWxQcm9taXNlLmFueSxcbiAgICAgICAgICAgIHJlc29sdmU6IEdsb2JhbFByb21pc2UucmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogR2xvYmFsUHJvbWlzZS5yZWplY3QsXG4gICAgICAgIH0gOiB7fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlUFNEKHBzZCwgZm4sIGExLCBhMiwgYTMpIHtcbiAgICAgICAgdmFyIG91dGVyU2NvcGUgPSBQU0Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzd2l0Y2hUb1pvbmUocHNkLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBmbihhMSwgYTIsIGEzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN3aXRjaFRvWm9uZShvdXRlclNjb3BlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbmF0aXZlQXdhaXRDb21wYXRpYmxlV3JhcChmbiwgem9uZSwgcG9zc2libGVBd2FpdCwgY2xlYW51cCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nID8gZm4gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3V0ZXJab25lID0gUFNEO1xuICAgICAgICAgICAgaWYgKHBvc3NpYmxlQXdhaXQpXG4gICAgICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgIHN3aXRjaFRvWm9uZSh6b25lLCB0cnVlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hUb1pvbmUob3V0ZXJab25lLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY0luR2xvYmFsQ29udGV4dChjYikge1xuICAgICAgICBpZiAoUHJvbWlzZSA9PT0gTmF0aXZlUHJvbWlzZSAmJiB0YXNrLmVjaG9lcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHpvbmVFY2hvZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5xdWV1ZU5hdGl2ZU1pY3JvVGFzayhjYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmVqZWN0aW9uID0gRGV4aWVQcm9taXNlLnJlamVjdDtcblxuICAgIGZ1bmN0aW9uIHRlbXBUcmFuc2FjdGlvbihkYiwgbW9kZSwgc3RvcmVOYW1lcywgZm4pIHtcbiAgICAgICAgaWYgKCFkYi5pZGJkYiB8fCAoIWRiLl9zdGF0ZS5vcGVuQ29tcGxldGUgJiYgKCFQU0QubGV0VGhyb3VnaCAmJiAhZGIuX3ZpcCkpKSB7XG4gICAgICAgICAgICBpZiAoZGIuX3N0YXRlLm9wZW5Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoZGIuX3N0YXRlLmRiT3BlbkVycm9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRiLl9zdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYi5fc3RhdGUuYXV0b09wZW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKSk7XG4gICAgICAgICAgICAgICAgZGIub3BlbigpLmNhdGNoKG5vcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGIuX3N0YXRlLmRiUmVhZHlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdGVtcFRyYW5zYWN0aW9uKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBmbik7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRyYW5zID0gZGIuX2NyZWF0ZVRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRiLl9kYlNjaGVtYSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRyYW5zLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgIGRiLl9zdGF0ZS5QUjEzOThfbWF4TG9vcCA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXgubmFtZSA9PT0gZXJybmFtZXMuSW52YWxpZFN0YXRlICYmIGRiLmlzT3BlbigpICYmIC0tZGIuX3N0YXRlLlBSMTM5OF9tYXhMb29wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RleGllOiBOZWVkIHRvIHJlb3BlbiBkYicpO1xuICAgICAgICAgICAgICAgICAgICBkYi5jbG9zZSh7IGRpc2FibGVBdXRvT3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5vcGVuKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB0ZW1wVHJhbnNhY3Rpb24oZGIsIG1vZGUsIHN0b3JlTmFtZXMsIGZuKTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zLl9wcm9taXNlKG1vZGUsIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBQU0QudHJhbnMgPSB0cmFucztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKHJlc29sdmUsIHJlamVjdCwgdHJhbnMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnKVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMuaWRidHJhbnMuY29tbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9hKSB7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZSA9PT0gJ3JlYWRvbmx5JyA/IHJlc3VsdCA6IHRyYW5zLl9jb21wbGV0aW9uLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzdWx0OyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIERFWElFX1ZFUlNJT04gPSAnNC4wLjExJztcbiAgICB2YXIgbWF4U3RyaW5nID0gU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNSk7XG4gICAgdmFyIG1pbktleSA9IC1JbmZpbml0eTtcbiAgICB2YXIgSU5WQUxJRF9LRVlfQVJHVU1FTlQgPSBcIkludmFsaWQga2V5IHByb3ZpZGVkLiBLZXlzIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgRGF0ZSBvciBBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBEYXRlPi5cIjtcbiAgICB2YXIgU1RSSU5HX0VYUEVDVEVEID0gXCJTdHJpbmcgZXhwZWN0ZWQuXCI7XG4gICAgdmFyIGNvbm5lY3Rpb25zID0gW107XG4gICAgdmFyIERCTkFNRVNfREIgPSAnX19kYm5hbWVzJztcbiAgICB2YXIgUkVBRE9OTFkgPSAncmVhZG9ubHknO1xuICAgIHZhciBSRUFEV1JJVEUgPSAncmVhZHdyaXRlJztcblxuICAgIGZ1bmN0aW9uIGNvbWJpbmUoZmlsdGVyMSwgZmlsdGVyMikge1xuICAgICAgICByZXR1cm4gZmlsdGVyMSA/XG4gICAgICAgICAgICBmaWx0ZXIyID9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXIxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgJiYgZmlsdGVyMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IDpcbiAgICAgICAgICAgICAgICBmaWx0ZXIxIDpcbiAgICAgICAgICAgIGZpbHRlcjI7XG4gICAgfVxuXG4gICAgdmFyIEFueVJhbmdlID0ge1xuICAgICAgICB0eXBlOiAzICxcbiAgICAgICAgbG93ZXI6IC1JbmZpbml0eSxcbiAgICAgICAgbG93ZXJPcGVuOiBmYWxzZSxcbiAgICAgICAgdXBwZXI6IFtbXV0sXG4gICAgICAgIHVwcGVyT3BlbjogZmFsc2VcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gd29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGtleVBhdGggPT09IFwic3RyaW5nXCIgJiYgIS9cXC4vLnRlc3Qoa2V5UGF0aClcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpba2V5UGF0aF0gPT09IHVuZGVmaW5lZCAmJiAoa2V5UGF0aCBpbiBvYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGRlZXBDbG9uZShvYmopO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmo7IH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRW50aXR5KCkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb25zLlR5cGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbXAoYSwgYikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHRhID0gdHlwZShhKTtcbiAgICAgICAgICAgIHZhciB0YiA9IHR5cGUoYik7XG4gICAgICAgICAgICBpZiAodGEgIT09IHRiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhID09PSAnQXJyYXknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAodGIgPT09ICdBcnJheScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAodGEgPT09ICdiaW5hcnknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAodGIgPT09ICdiaW5hcnknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKHRhID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIGlmICh0YSA9PT0gJ0RhdGUnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAodGIgIT09ICdEYXRlJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRhKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDA7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmluYXJ5Jzoge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZVVpbnQ4QXJyYXlzKGdldFVpbnQ4QXJyYXkoYSksIGdldFVpbnQ4QXJyYXkoYikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlQXJyYXlzKGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYSwgYikge1xuICAgICAgICB2YXIgYWwgPSBhLmxlbmd0aDtcbiAgICAgICAgdmFyIGJsID0gYi5sZW5ndGg7XG4gICAgICAgIHZhciBsID0gYWwgPCBibCA/IGFsIDogYmw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gY21wKGFbaV0sIGJbaV0pO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbCA9PT0gYmwgPyAwIDogYWwgPCBibCA/IC0xIDogMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZVVpbnQ4QXJyYXlzKGEsIGIpIHtcbiAgICAgICAgdmFyIGFsID0gYS5sZW5ndGg7XG4gICAgICAgIHZhciBibCA9IGIubGVuZ3RoO1xuICAgICAgICB2YXIgbCA9IGFsIDwgYmwgPyBhbCA6IGJsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFbaV0gPCBiW2ldID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbCA9PT0gYmwgPyAwIDogYWwgPCBibCA/IC0xIDogMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHlwZSh4KSB7XG4gICAgICAgIHZhciB0ID0gdHlwZW9mIHg7XG4gICAgICAgIGlmICh0ICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHgpKVxuICAgICAgICAgICAgcmV0dXJuICdiaW5hcnknO1xuICAgICAgICB2YXIgdHNUYWcgPSB0b1N0cmluZ1RhZyh4KTtcbiAgICAgICAgcmV0dXJuIHRzVGFnID09PSAnQXJyYXlCdWZmZXInID8gJ2JpbmFyeScgOiB0c1RhZztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VWludDhBcnJheShhKSB7XG4gICAgICAgIGlmIChhIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGEpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGEuYnVmZmVyLCBhLmJ5dGVPZmZzZXQsIGEuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhKTtcbiAgICB9XG5cbiAgICB2YXIgVGFibGUgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVGFibGUoKSB7XG4gICAgICAgIH1cbiAgICAgICAgVGFibGUucHJvdG90eXBlLl90cmFucyA9IGZ1bmN0aW9uIChtb2RlLCBmbiwgd3JpdGVMb2NrZWQpIHtcbiAgICAgICAgICAgIHZhciB0cmFucyA9IHRoaXMuX3R4IHx8IFBTRC50cmFucztcbiAgICAgICAgICAgIHZhciB0YWJsZU5hbWUgPSB0aGlzLm5hbWU7XG4gICAgICAgICAgICB2YXIgdGFzayA9IGRlYnVnICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmNyZWF0ZVRhc2sgJiYgY29uc29sZS5jcmVhdGVUYXNrKFwiRGV4aWU6IFwiLmNvbmNhdChtb2RlID09PSAncmVhZG9ubHknID8gJ3JlYWQnIDogJ3dyaXRlJywgXCIgXCIpLmNvbmNhdCh0aGlzLm5hbWUpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrVGFibGVJblRyYW5zYWN0aW9uKHJlc29sdmUsIHJlamVjdCwgdHJhbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zLnNjaGVtYVt0YWJsZU5hbWVdKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5Ob3RGb3VuZChcIlRhYmxlIFwiICsgdGFibGVOYW1lICsgXCIgbm90IHBhcnQgb2YgdHJhbnNhY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKHRyYW5zLmlkYnRyYW5zLCB0cmFucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd2FzUm9vdEV4ZWMgPSBiZWdpbk1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBwID0gdHJhbnMgJiYgdHJhbnMuZGIuX25vdmlwID09PSB0aGlzLmRiLl9ub3ZpcCA/XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zID09PSBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMuX3Byb21pc2UobW9kZSwgY2hlY2tUYWJsZUluVHJhbnNhY3Rpb24sIHdyaXRlTG9ja2VkKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTY29wZShmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFucy5fcHJvbWlzZShtb2RlLCBjaGVja1RhYmxlSW5UcmFuc2FjdGlvbiwgd3JpdGVMb2NrZWQpOyB9LCB7IHRyYW5zOiB0cmFucywgdHJhbnNsZXNzOiBQU0QudHJhbnNsZXNzIHx8IFBTRCB9KSA6XG4gICAgICAgICAgICAgICAgICAgIHRlbXBUcmFuc2FjdGlvbih0aGlzLmRiLCBtb2RlLCBbdGhpcy5uYW1lXSwgY2hlY2tUYWJsZUluVHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHAuX2NvbnNvbGVUYXNrID0gdGFzaztcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS50cmFjZShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAod2FzUm9vdEV4ZWMpXG4gICAgICAgICAgICAgICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5T3JDcml0LCBjYikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChrZXlPckNyaXQgJiYga2V5T3JDcml0LmNvbnN0cnVjdG9yID09PSBPYmplY3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud2hlcmUoa2V5T3JDcml0KS5maXJzdChjYik7XG4gICAgICAgICAgICBpZiAoa2V5T3JDcml0ID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5UeXBlKFwiSW52YWxpZCBhcmd1bWVudCB0byBUYWJsZS5nZXQoKVwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWRvbmx5JywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUuZ2V0KHsgdHJhbnM6IHRyYW5zLCBrZXk6IGtleU9yQ3JpdCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBfdGhpcy5ob29rLnJlYWRpbmcuZmlyZShyZXMpOyB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUud2hlcmUgPSBmdW5jdGlvbiAoaW5kZXhPckNyaXQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXhPckNyaXQgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzLCBpbmRleE9yQ3JpdCk7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShpbmRleE9yQ3JpdCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMsIFwiW1wiLmNvbmNhdChpbmRleE9yQ3JpdC5qb2luKCcrJyksIFwiXVwiKSk7XG4gICAgICAgICAgICB2YXIga2V5UGF0aHMgPSBrZXlzKGluZGV4T3JDcml0KTtcbiAgICAgICAgICAgIGlmIChrZXlQYXRocy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLndoZXJlKGtleVBhdGhzWzBdKVxuICAgICAgICAgICAgICAgICAgICAuZXF1YWxzKGluZGV4T3JDcml0W2tleVBhdGhzWzBdXSk7XG4gICAgICAgICAgICB2YXIgY29tcG91bmRJbmRleCA9IHRoaXMuc2NoZW1hLmluZGV4ZXMuY29uY2F0KHRoaXMuc2NoZW1hLnByaW1LZXkpLmZpbHRlcihmdW5jdGlvbiAoaXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXguY29tcG91bmQgJiZcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aHMuZXZlcnkoZnVuY3Rpb24gKGtleVBhdGgpIHsgcmV0dXJuIGl4LmtleVBhdGguaW5kZXhPZihrZXlQYXRoKSA+PSAwOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleVBhdGhzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aHMuaW5kZXhPZihpeC5rZXlQYXRoW2ldKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmtleVBhdGgubGVuZ3RoIC0gYi5rZXlQYXRoLmxlbmd0aDsgfSlbMF07XG4gICAgICAgICAgICBpZiAoY29tcG91bmRJbmRleCAmJiB0aGlzLmRiLl9tYXhLZXkgIT09IG1heFN0cmluZykge1xuICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoc0luVmFsaWRPcmRlciA9IGNvbXBvdW5kSW5kZXgua2V5UGF0aC5zbGljZSgwLCBrZXlQYXRocy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC53aGVyZShrZXlQYXRoc0luVmFsaWRPcmRlcilcbiAgICAgICAgICAgICAgICAgICAgLmVxdWFscyhrZXlQYXRoc0luVmFsaWRPcmRlci5tYXAoZnVuY3Rpb24gKGtwKSB7IHJldHVybiBpbmRleE9yQ3JpdFtrcF07IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29tcG91bmRJbmRleCAmJiBkZWJ1ZylcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGUgcXVlcnkgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGluZGV4T3JDcml0KSwgXCIgb24gXCIpLmNvbmNhdCh0aGlzLm5hbWUsIFwiIHdvdWxkIGJlbmVmaXQgZnJvbSBhIFwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwiY29tcG91bmQgaW5kZXggW1wiLmNvbmNhdChrZXlQYXRocy5qb2luKCcrJyksIFwiXVwiKSk7XG4gICAgICAgICAgICB2YXIgaWR4QnlOYW1lID0gdGhpcy5zY2hlbWEuaWR4QnlOYW1lO1xuICAgICAgICAgICAgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY21wKGEsIGIpID09PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF9hID0ga2V5UGF0aHMucmVkdWNlKGZ1bmN0aW9uIChfYSwga2V5UGF0aCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBfYVswXSwgcHJldkZpbHRlckZuID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaWR4QnlOYW1lW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGluZGV4T3JDcml0W2tleVBhdGhdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleCB8fCBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgcHJldkluZGV4IHx8ICFpbmRleCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iaW5lKHByZXZGaWx0ZXJGbiwgaW5kZXggJiYgaW5kZXgubXVsdGkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wID0gZ2V0QnlLZXlQYXRoKHgsIGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNBcnJheShwcm9wKSAmJiBwcm9wLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGVxdWFscyh2YWx1ZSwgaXRlbSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gZXF1YWxzKHZhbHVlLCBnZXRCeUtleVBhdGgoeCwga2V5UGF0aCkpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwcmV2RmlsdGVyRm5cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSwgW251bGwsIG51bGxdKSwgaWR4ID0gX2FbMF0sIGZpbHRlckZ1bmN0aW9uID0gX2FbMV07XG4gICAgICAgICAgICByZXR1cm4gaWR4ID9cbiAgICAgICAgICAgICAgICB0aGlzLndoZXJlKGlkeC5uYW1lKS5lcXVhbHMoaW5kZXhPckNyaXRbaWR4LmtleVBhdGhdKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZpbHRlckZ1bmN0aW9uKSA6XG4gICAgICAgICAgICAgICAgY29tcG91bmRJbmRleCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyKGZpbHRlckZ1bmN0aW9uKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2hlcmUoa2V5UGF0aHMpLmVxdWFscygnJyk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmFuZChmaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICh0aGVuU2hvcnRjdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmNvdW50KHRoZW5TaG9ydGN1dCk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5vZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmxpbWl0ID0gZnVuY3Rpb24gKG51bVJvd3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmxpbWl0KG51bVJvd3MpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuZWFjaChjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKHRoZW5TaG9ydGN1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkudG9BcnJheSh0aGVuU2hvcnRjdXQpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUudG9Db2xsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLkNvbGxlY3Rpb24obmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcykpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUub3JkZXJCeSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLkNvbGxlY3Rpb24obmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcywgaXNBcnJheShpbmRleCkgP1xuICAgICAgICAgICAgICAgIFwiW1wiLmNvbmNhdChpbmRleC5qb2luKCcrJyksIFwiXVwiKSA6XG4gICAgICAgICAgICAgICAgaW5kZXgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5yZXZlcnNlKCk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5tYXBUb0NsYXNzID0gZnVuY3Rpb24gKGNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBkYiA9IF9hLmRiLCB0YWJsZU5hbWUgPSBfYS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWEubWFwcGVkQ2xhc3MgPSBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rvci5wcm90b3R5cGUgaW5zdGFuY2VvZiBFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9ICAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICAgICAgICAgICAgICBfX2V4dGVuZHMoY2xhc3NfMSwgX3N1cGVyKTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xhc3NfMS5wcm90b3R5cGUsIFwiZGJcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkYjsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjbGFzc18xLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRhYmxlTmFtZTsgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgICAgICAgICAgICAgfShjb25zdHJ1Y3RvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaGVyaXRlZFByb3BzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvdG8gPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7IHByb3RvOyBwcm90byA9IGdldFByb3RvKHByb3RvKSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkgeyByZXR1cm4gaW5oZXJpdGVkUHJvcHMuYWRkKHByb3BOYW1lKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVhZEhvb2sgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmopXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IE9iamVjdC5jcmVhdGUoY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtIGluIG9iailcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmhlcml0ZWRQcm9wcy5oYXMobSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ttXSA9IG9ialttXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjaGVtYS5yZWFkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMuaG9vay5yZWFkaW5nLnVuc3Vic2NyaWJlKHRoaXMuc2NoZW1hLnJlYWRIb29rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NoZW1hLnJlYWRIb29rID0gcmVhZEhvb2s7XG4gICAgICAgICAgICB0aGlzLmhvb2soXCJyZWFkaW5nXCIsIHJlYWRIb29rKTtcbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmRlZmluZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gQ2xhc3MoY29udGVudCkge1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcFRvQ2xhc3MoQ2xhc3MpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5zY2hlbWEucHJpbUtleSwgYXV0byA9IF9hLmF1dG8sIGtleVBhdGggPSBfYS5rZXlQYXRoO1xuICAgICAgICAgICAgdmFyIG9ialRvQWRkID0gb2JqO1xuICAgICAgICAgICAgaWYgKGtleVBhdGggJiYgYXV0bykge1xuICAgICAgICAgICAgICAgIG9ialRvQWRkID0gd29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnYWRkJywga2V5czoga2V5ICE9IG51bGwgPyBba2V5XSA6IG51bGwsIHZhbHVlczogW29ialRvQWRkXSB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLm51bUZhaWx1cmVzID8gRGV4aWVQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pIDogcmVzLmxhc3RSZXN1bHQ7IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGxhc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgbGFzdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGtleU9yT2JqZWN0LCBtb2RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleU9yT2JqZWN0ID09PSAnb2JqZWN0JyAmJiAhaXNBcnJheShrZXlPck9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZ2V0QnlLZXlQYXRoKGtleU9yT2JqZWN0LCB0aGlzLnNjaGVtYS5wcmltS2V5LmtleVBhdGgpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJHaXZlbiBvYmplY3QgZG9lcyBub3QgY29udGFpbiBpdHMgcHJpbWFyeSBrZXlcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndoZXJlKFwiOmlkXCIpLmVxdWFscyhrZXkpLm1vZGlmeShtb2RpZmljYXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndoZXJlKFwiOmlkXCIpLmVxdWFscyhrZXlPck9iamVjdCkubW9kaWZ5KG1vZGlmaWNhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5zY2hlbWEucHJpbUtleSwgYXV0byA9IF9hLmF1dG8sIGtleVBhdGggPSBfYS5rZXlQYXRoO1xuICAgICAgICAgICAgdmFyIG9ialRvQWRkID0gb2JqO1xuICAgICAgICAgICAgaWYgKGtleVBhdGggJiYgYXV0bykge1xuICAgICAgICAgICAgICAgIG9ialRvQWRkID0gd29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7IHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ3B1dCcsIHZhbHVlczogW29ialRvQWRkXSwga2V5czoga2V5ICE9IG51bGwgPyBba2V5XSA6IG51bGwgfSk7IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLm51bUZhaWx1cmVzID8gRGV4aWVQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pIDogcmVzLmxhc3RSZXN1bHQ7IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGxhc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgbGFzdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7IHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2RlbGV0ZScsIGtleXM6IFtrZXldIH0pOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHVuZGVmaW5lZDsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGVSYW5nZScsIHJhbmdlOiBBbnlSYW5nZSB9KTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMubnVtRmFpbHVyZXMgPyBEZXhpZVByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSkgOiB1bmRlZmluZWQ7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa0dldCA9IGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkb25seScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLmdldE1hbnkoe1xuICAgICAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnNcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIHJlc3VsdC5tYXAoZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gX3RoaXMuaG9vay5yZWFkaW5nLmZpcmUocmVzKTsgfSk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrQWRkID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleXNPck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEFycmF5LmlzQXJyYXkoa2V5c09yT3B0aW9ucykgPyBrZXlzT3JPcHRpb25zIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgKGtleXMgPyB1bmRlZmluZWQgOiBrZXlzT3JPcHRpb25zKTtcbiAgICAgICAgICAgIHZhciB3YW50UmVzdWx0cyA9IG9wdGlvbnMgPyBvcHRpb25zLmFsbEtleXMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnNjaGVtYS5wcmltS2V5LCBhdXRvID0gX2EuYXV0bywga2V5UGF0aCA9IF9hLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGggJiYga2V5cylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiYnVsa0FkZCgpOiBrZXlzIGFyZ3VtZW50IGludmFsaWQgb24gdGFibGVzIHdpdGggaW5ib3VuZCBrZXlzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlzICYmIGtleXMubGVuZ3RoICE9PSBvYmplY3RzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiQXJndW1lbnRzIG9iamVjdHMgYW5kIGtleXMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbnVtT2JqZWN0cyA9IG9iamVjdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3RzVG9BZGQgPSBrZXlQYXRoICYmIGF1dG8gP1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLm1hcCh3b3JrYXJvdW5kRm9yVW5kZWZpbmVkUHJpbUtleShrZXlQYXRoKSkgOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2FkZCcsIGtleXM6IGtleXMsIHZhbHVlczogb2JqZWN0c1RvQWRkLCB3YW50UmVzdWx0czogd2FudFJlc3VsdHMgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCByZXN1bHRzID0gX2EucmVzdWx0cywgbGFzdFJlc3VsdCA9IF9hLmxhc3RSZXN1bHQsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB3YW50UmVzdWx0cyA/IHJlc3VsdHMgOiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQnVsa0Vycm9yKFwiXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiLmJ1bGtBZGQoKTogXCIpLmNvbmNhdChudW1GYWlsdXJlcywgXCIgb2YgXCIpLmNvbmNhdChudW1PYmplY3RzLCBcIiBvcGVyYXRpb25zIGZhaWxlZFwiKSwgZmFpbHVyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrUHV0ID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleXNPck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEFycmF5LmlzQXJyYXkoa2V5c09yT3B0aW9ucykgPyBrZXlzT3JPcHRpb25zIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgKGtleXMgPyB1bmRlZmluZWQgOiBrZXlzT3JPcHRpb25zKTtcbiAgICAgICAgICAgIHZhciB3YW50UmVzdWx0cyA9IG9wdGlvbnMgPyBvcHRpb25zLmFsbEtleXMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnNjaGVtYS5wcmltS2V5LCBhdXRvID0gX2EuYXV0bywga2V5UGF0aCA9IF9hLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGggJiYga2V5cylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiYnVsa1B1dCgpOiBrZXlzIGFyZ3VtZW50IGludmFsaWQgb24gdGFibGVzIHdpdGggaW5ib3VuZCBrZXlzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlzICYmIGtleXMubGVuZ3RoICE9PSBvYmplY3RzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiQXJndW1lbnRzIG9iamVjdHMgYW5kIGtleXMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbnVtT2JqZWN0cyA9IG9iamVjdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3RzVG9QdXQgPSBrZXlQYXRoICYmIGF1dG8gP1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLm1hcCh3b3JrYXJvdW5kRm9yVW5kZWZpbmVkUHJpbUtleShrZXlQYXRoKSkgOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ3B1dCcsIGtleXM6IGtleXMsIHZhbHVlczogb2JqZWN0c1RvUHV0LCB3YW50UmVzdWx0czogd2FudFJlc3VsdHMgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCByZXN1bHRzID0gX2EucmVzdWx0cywgbGFzdFJlc3VsdCA9IF9hLmxhc3RSZXN1bHQsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB3YW50UmVzdWx0cyA/IHJlc3VsdHMgOiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQnVsa0Vycm9yKFwiXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiLmJ1bGtQdXQoKTogXCIpLmNvbmNhdChudW1GYWlsdXJlcywgXCIgb2YgXCIpLmNvbmNhdChudW1PYmplY3RzLCBcIiBvcGVyYXRpb25zIGZhaWxlZFwiKSwgZmFpbHVyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrVXBkYXRlID0gZnVuY3Rpb24gKGtleXNBbmRDaGFuZ2VzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGNvcmVUYWJsZSA9IHRoaXMuY29yZTtcbiAgICAgICAgICAgIHZhciBrZXlzID0ga2V5c0FuZENoYW5nZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkua2V5OyB9KTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VTcGVjcyA9IGtleXNBbmRDaGFuZ2VzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmNoYW5nZXM7IH0pO1xuICAgICAgICAgICAgdmFyIG9mZnNldE1hcCA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlLmdldE1hbnkoeyB0cmFuczogdHJhbnMsIGtleXM6IGtleXMsIGNhY2hlOiAnY2xvbmUnIH0pLnRoZW4oZnVuY3Rpb24gKG9ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdEtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdE9ianMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAga2V5c0FuZENoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoX2EsIGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IF9hLmtleSwgY2hhbmdlcyA9IF9hLmNoYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gb2Jqc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2IgPSBPYmplY3Qua2V5cyhjaGFuZ2VzKTsgX2kgPCBfYi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBfYltfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNoYW5nZXNba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoID09PSBfdGhpcy5zY2hlbWEucHJpbUtleS5rZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY21wKHZhbHVlLCBrZXkpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuQ29uc3RyYWludChcIkNhbm5vdCB1cGRhdGUgcHJpbWFyeSBrZXkgaW4gYnVsa1VwZGF0ZSgpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldE1hcC5wdXNoKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0S2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2Jqcy5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRW50cmllcyA9IHJlc3VsdEtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAubXV0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5czogcmVzdWx0S2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogcmVzdWx0T2JqcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVNwZWNzOiBjaGFuZ2VTcGVjc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW1GYWlsdXJlcyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtRW50cmllcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2IgPSBPYmplY3Qua2V5cyhmYWlsdXJlcyk7IF9pIDwgX2IubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IF9iW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwcGVkT2Zmc2V0ID0gb2Zmc2V0TWFwW051bWJlcihvZmZzZXQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwcGVkT2Zmc2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmUgPSBmYWlsdXJlc1tvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmFpbHVyZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZXNbbWFwcGVkT2Zmc2V0XSA9IGZhaWx1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1bGtFcnJvcihcIlwiLmNvbmNhdChfdGhpcy5uYW1lLCBcIi5idWxrVXBkYXRlKCk6IFwiKS5jb25jYXQobnVtRmFpbHVyZXMsIFwiIG9mIFwiKS5jb25jYXQobnVtRW50cmllcywgXCIgb3BlcmF0aW9ucyBmYWlsZWRcIiksIGZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmJ1bGtEZWxldGUgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBudW1LZXlzID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2RlbGV0ZScsIGtleXM6IGtleXMgfSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCBsYXN0UmVzdWx0ID0gX2EubGFzdFJlc3VsdCwgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcztcbiAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBCdWxrRXJyb3IoXCJcIi5jb25jYXQoX3RoaXMubmFtZSwgXCIuYnVsa0RlbGV0ZSgpOiBcIikuY29uY2F0KG51bUZhaWx1cmVzLCBcIiBvZiBcIikuY29uY2F0KG51bUtleXMsIFwiIG9wZXJhdGlvbnMgZmFpbGVkXCIpLCBmYWlsdXJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFRhYmxlO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBFdmVudHMoY3R4KSB7XG4gICAgICAgIHZhciBldnMgPSB7fTtcbiAgICAgICAgdmFyIHJ2ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoaSAtIDEpO1xuICAgICAgICAgICAgICAgIHdoaWxlICgtLWkpXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGV2c1tldmVudE5hbWVdLnN1YnNjcmliZS5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIChldmVudE5hbWUpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBldnNbZXZlbnROYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcnYuYWRkRXZlbnRUeXBlID0gYWRkO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIGFkZChhcmd1bWVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICAgICAgZnVuY3Rpb24gYWRkKGV2ZW50TmFtZSwgY2hhaW5GdW5jdGlvbiwgZGVmYXVsdEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZENvbmZpZ3VyZWRFdmVudHMoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIGlmICghY2hhaW5GdW5jdGlvbilcbiAgICAgICAgICAgICAgICBjaGFpbkZ1bmN0aW9uID0gcmV2ZXJzZVN0b3BwYWJsZUV2ZW50Q2hhaW47XG4gICAgICAgICAgICBpZiAoIWRlZmF1bHRGdW5jdGlvbilcbiAgICAgICAgICAgICAgICBkZWZhdWx0RnVuY3Rpb24gPSBub3A7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyczogW10sXG4gICAgICAgICAgICAgICAgZmlyZTogZGVmYXVsdEZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnN1YnNjcmliZXJzLmluZGV4T2YoY2IpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycy5wdXNoKGNiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlyZSA9IGNoYWluRnVuY3Rpb24oY29udGV4dC5maXJlLCBjYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycyA9IGNvbnRleHQuc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4gIT09IGNiOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maXJlID0gY29udGV4dC5zdWJzY3JpYmVycy5yZWR1Y2UoY2hhaW5GdW5jdGlvbiwgZGVmYXVsdEZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZXZzW2V2ZW50TmFtZV0gPSBydltldmVudE5hbWVdID0gY29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZENvbmZpZ3VyZWRFdmVudHMoY2ZnKSB7XG4gICAgICAgICAgICBrZXlzKGNmZykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBjZmdbZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmdzKSkge1xuICAgICAgICAgICAgICAgICAgICBhZGQoZXZlbnROYW1lLCBjZmdbZXZlbnROYW1lXVswXSwgY2ZnW2V2ZW50TmFtZV1bMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzID09PSAnYXNhcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBhZGQoZXZlbnROYW1lLCBtaXJyb3IsIGZ1bmN0aW9uIGZpcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNhcCQxKGZ1bmN0aW9uIGZpcmVFdmVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiSW52YWxpZCBldmVudCBjb25maWdcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VDbGFzc0NvbnN0cnVjdG9yKHByb3RvdHlwZSwgY29uc3RydWN0b3IpIHtcbiAgICAgICAgZGVyaXZlKGNvbnN0cnVjdG9yKS5mcm9tKHsgcHJvdG90eXBlOiBwcm90b3R5cGUgfSk7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVUYWJsZUNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihUYWJsZS5wcm90b3R5cGUsIGZ1bmN0aW9uIFRhYmxlKG5hbWUsIHRhYmxlU2NoZW1hLCB0cmFucykge1xuICAgICAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgICAgICAgICAgdGhpcy5fdHggPSB0cmFucztcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYSA9IHRhYmxlU2NoZW1hO1xuICAgICAgICAgICAgdGhpcy5ob29rID0gZGIuX2FsbFRhYmxlc1tuYW1lXSA/IGRiLl9hbGxUYWJsZXNbbmFtZV0uaG9vayA6IEV2ZW50cyhudWxsLCB7XG4gICAgICAgICAgICAgICAgXCJjcmVhdGluZ1wiOiBbaG9va0NyZWF0aW5nQ2hhaW4sIG5vcF0sXG4gICAgICAgICAgICAgICAgXCJyZWFkaW5nXCI6IFtwdXJlRnVuY3Rpb25DaGFpbiwgbWlycm9yXSxcbiAgICAgICAgICAgICAgICBcInVwZGF0aW5nXCI6IFtob29rVXBkYXRpbmdDaGFpbiwgbm9wXSxcbiAgICAgICAgICAgICAgICBcImRlbGV0aW5nXCI6IFtob29rRGVsZXRpbmdDaGFpbiwgbm9wXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzUGxhaW5LZXlSYW5nZShjdHgsIGlnbm9yZUxpbWl0RmlsdGVyKSB7XG4gICAgICAgIHJldHVybiAhKGN0eC5maWx0ZXIgfHwgY3R4LmFsZ29yaXRobSB8fCBjdHgub3IpICYmXG4gICAgICAgICAgICAoaWdub3JlTGltaXRGaWx0ZXIgPyBjdHguanVzdExpbWl0IDogIWN0eC5yZXBsYXlGaWx0ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRGaWx0ZXIoY3R4LCBmbikge1xuICAgICAgICBjdHguZmlsdGVyID0gY29tYmluZShjdHguZmlsdGVyLCBmbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFJlcGxheUZpbHRlcihjdHgsIGZhY3RvcnksIGlzTGltaXRGaWx0ZXIpIHtcbiAgICAgICAgdmFyIGN1cnIgPSBjdHgucmVwbGF5RmlsdGVyO1xuICAgICAgICBjdHgucmVwbGF5RmlsdGVyID0gY3VyciA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbWJpbmUoY3VycigpLCBmYWN0b3J5KCkpOyB9IDogZmFjdG9yeTtcbiAgICAgICAgY3R4Lmp1c3RMaW1pdCA9IGlzTGltaXRGaWx0ZXIgJiYgIWN1cnI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZE1hdGNoRmlsdGVyKGN0eCwgZm4pIHtcbiAgICAgICAgY3R4LmlzTWF0Y2ggPSBjb21iaW5lKGN0eC5pc01hdGNoLCBmbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluZGV4T3JTdG9yZShjdHgsIGNvcmVTY2hlbWEpIHtcbiAgICAgICAgaWYgKGN0eC5pc1ByaW1LZXkpXG4gICAgICAgICAgICByZXR1cm4gY29yZVNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICB2YXIgaW5kZXggPSBjb3JlU2NoZW1hLmdldEluZGV4QnlLZXlQYXRoKGN0eC5pbmRleCk7XG4gICAgICAgIGlmICghaW5kZXgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJLZXlQYXRoIFwiICsgY3R4LmluZGV4ICsgXCIgb24gb2JqZWN0IHN0b3JlIFwiICsgY29yZVNjaGVtYS5uYW1lICsgXCIgaXMgbm90IGluZGV4ZWRcIik7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkN1cnNvcihjdHgsIGNvcmVUYWJsZSwgdHJhbnMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgY29yZVRhYmxlLnNjaGVtYSk7XG4gICAgICAgIHJldHVybiBjb3JlVGFibGUub3BlbkN1cnNvcih7XG4gICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICB2YWx1ZXM6ICFjdHgua2V5c09ubHksXG4gICAgICAgICAgICByZXZlcnNlOiBjdHguZGlyID09PSAncHJldicsXG4gICAgICAgICAgICB1bmlxdWU6ICEhY3R4LnVuaXF1ZSxcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGl0ZXIoY3R4LCBmbiwgY29yZVRyYW5zLCBjb3JlVGFibGUpIHtcbiAgICAgICAgdmFyIGZpbHRlciA9IGN0eC5yZXBsYXlGaWx0ZXIgPyBjb21iaW5lKGN0eC5maWx0ZXIsIGN0eC5yZXBsYXlGaWx0ZXIoKSkgOiBjdHguZmlsdGVyO1xuICAgICAgICBpZiAoIWN0eC5vcikge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdGUob3BlbkN1cnNvcihjdHgsIGNvcmVUYWJsZSwgY29yZVRyYW5zKSwgY29tYmluZShjdHguYWxnb3JpdGhtLCBmaWx0ZXIpLCBmbiwgIWN0eC5rZXlzT25seSAmJiBjdHgudmFsdWVNYXBwZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNldF8xID0ge307XG4gICAgICAgICAgICB2YXIgdW5pb24gPSBmdW5jdGlvbiAoaXRlbSwgY3Vyc29yLCBhZHZhbmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGN1cnNvciwgYWR2YW5jZSwgZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gY3Vyc29yLnN0b3AocmVzdWx0KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gY3Vyc29yLmZhaWwoZXJyKTsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9ICcnICsgcHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICcnICsgbmV3IFVpbnQ4QXJyYXkocHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzT3duKHNldF8xLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRfMVtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuKGl0ZW0sIGN1cnNvciwgYWR2YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBjdHgub3IuX2l0ZXJhdGUodW5pb24sIGNvcmVUcmFucyksXG4gICAgICAgICAgICAgICAgaXRlcmF0ZShvcGVuQ3Vyc29yKGN0eCwgY29yZVRhYmxlLCBjb3JlVHJhbnMpLCBjdHguYWxnb3JpdGhtLCB1bmlvbiwgIWN0eC5rZXlzT25seSAmJiBjdHgudmFsdWVNYXBwZXIpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpdGVyYXRlKGN1cnNvclByb21pc2UsIGZpbHRlciwgZm4sIHZhbHVlTWFwcGVyKSB7XG4gICAgICAgIHZhciBtYXBwZWRGbiA9IHZhbHVlTWFwcGVyID8gZnVuY3Rpb24gKHgsIGMsIGEpIHsgcmV0dXJuIGZuKHZhbHVlTWFwcGVyKHgpLCBjLCBhKTsgfSA6IGZuO1xuICAgICAgICB2YXIgd3JhcHBlZEZuID0gd3JhcChtYXBwZWRGbik7XG4gICAgICAgIHJldHVybiBjdXJzb3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGN1cnNvcikge1xuICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3Iuc3RhcnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGN1cnNvci5jb250aW51ZSgpOyB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoY3Vyc29yLCBmdW5jdGlvbiAoYWR2YW5jZXIpIHsgcmV0dXJuIGMgPSBhZHZhbmNlcjsgfSwgZnVuY3Rpb24gKHZhbCkgeyBjdXJzb3Iuc3RvcCh2YWwpOyBjID0gbm9wOyB9LCBmdW5jdGlvbiAoZSkgeyBjdXJzb3IuZmFpbChlKTsgYyA9IG5vcDsgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRm4oY3Vyc29yLnZhbHVlLCBjdXJzb3IsIGZ1bmN0aW9uIChhZHZhbmNlcikgeyByZXR1cm4gYyA9IGFkdmFuY2VyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgYygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgUHJvcE1vZGlmaWNhdGlvbiA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBQcm9wTW9kaWZpY2F0aW9uKHNwZWMpIHtcbiAgICAgICAgICAgIHRoaXNbXCJAQHByb3Btb2RcIl0gPSBzcGVjO1xuICAgICAgICB9XG4gICAgICAgIFByb3BNb2RpZmljYXRpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBzcGVjID0gdGhpc1tcIkBAcHJvcG1vZFwiXTtcbiAgICAgICAgICAgIGlmIChzcGVjLmFkZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBzcGVjLmFkZDtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSh0ZXJtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCAoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdKSwgdHJ1ZSksIHRlcm0sIHRydWUpLnNvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXJtID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChOdW1iZXIodmFsdWUpIHx8IDApICsgdGVybTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRlcm0gPT09ICdiaWdpbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KHZhbHVlKSArIHRlcm07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KDApICsgdGVybTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB0ZXJtIFwiLmNvbmNhdCh0ZXJtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3BlYy5yZW1vdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJ0cmFoZW5kXzEgPSBzcGVjLnJlbW92ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShzdWJ0cmFoZW5kXzEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIXN1YnRyYWhlbmRfMS5pbmNsdWRlcyhpdGVtKTsgfSkuc29ydCgpIDogW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VidHJhaGVuZF8xID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSkgLSBzdWJ0cmFoZW5kXzE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWJ0cmFoZW5kXzEgPT09ICdiaWdpbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KHZhbHVlKSAtIHN1YnRyYWhlbmRfMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnQoMCkgLSBzdWJ0cmFoZW5kXzE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgc3VidHJhaGVuZCBcIi5jb25jYXQoc3VidHJhaGVuZF8xKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJlZml4VG9SZXBsYWNlID0gKF9hID0gc3BlYy5yZXBsYWNlUHJlZml4KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgICAgICBpZiAocHJlZml4VG9SZXBsYWNlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuc3RhcnRzV2l0aChwcmVmaXhUb1JlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwZWMucmVwbGFjZVByZWZpeFsxXSArIHZhbHVlLnN1YnN0cmluZyhwcmVmaXhUb1JlcGxhY2UubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFByb3BNb2RpZmljYXRpb247XG4gICAgfSgpKTtcblxuICAgIHZhciBDb2xsZWN0aW9uID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24oKSB7XG4gICAgICAgIH1cbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAoZm4sIGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5lcnJvciA/XG4gICAgICAgICAgICAgICAgY3R4LnRhYmxlLl90cmFucyhudWxsLCByZWplY3Rpb24uYmluZChudWxsLCBjdHguZXJyb3IpKSA6XG4gICAgICAgICAgICAgICAgY3R4LnRhYmxlLl90cmFucygncmVhZG9ubHknLCBmbikudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIHJldHVybiBjdHguZXJyb3IgP1xuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMobnVsbCwgcmVqZWN0aW9uLmJpbmQobnVsbCwgY3R4LmVycm9yKSkgOlxuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMoJ3JlYWR3cml0ZScsIGZuLCBcImxvY2tlZFwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkZEFsZ29yaXRobSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGN0eC5hbGdvcml0aG0gPSBjb21iaW5lKGN0eC5hbGdvcml0aG0sIGZuKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuX2l0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIGNvcmVUcmFucykge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXIodGhpcy5fY3R4LCBmbiwgY29yZVRyYW5zLCB0aGlzLl9jdHgudGFibGUuY29yZSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgcnYgPSBPYmplY3QuY3JlYXRlKHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlKSwgY3R4ID0gT2JqZWN0LmNyZWF0ZSh0aGlzLl9jdHgpO1xuICAgICAgICAgICAgaWYgKHByb3BzKVxuICAgICAgICAgICAgICAgIGV4dGVuZChjdHgsIHByb3BzKTtcbiAgICAgICAgICAgIHJ2Ll9jdHggPSBjdHg7XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC52YWx1ZU1hcHBlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gaXRlcihjdHgsIGZuLCB0cmFucywgY3R4LnRhYmxlLmNvcmUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gX3RoaXMuX2N0eDtcbiAgICAgICAgICAgICAgICB2YXIgY29yZVRhYmxlID0gY3R4LnRhYmxlLmNvcmU7XG4gICAgICAgICAgICAgICAgaWYgKGlzUGxhaW5LZXlSYW5nZShjdHgsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlVGFibGUuY291bnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogZ2V0SW5kZXhPclN0b3JlKGN0eCwgY29yZVRhYmxlLnNjaGVtYSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGN0eC5yYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb3VudCkgeyByZXR1cm4gTWF0aC5taW4oY291bnQsIGN0eC5saW1pdCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXIoY3R4LCBmdW5jdGlvbiAoKSB7ICsrY291bnQ7IHJldHVybiBmYWxzZTsgfSwgdHJhbnMsIGNvcmVUYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvdW50OyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24gKGtleVBhdGgsIGNiKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBrZXlQYXRoLnNwbGl0KCcuJykucmV2ZXJzZSgpLCBsYXN0UGFydCA9IHBhcnRzWzBdLCBsYXN0SW5kZXggPSBwYXJ0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0dmFsKG9iaiwgaSkge1xuICAgICAgICAgICAgICAgIGlmIChpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dmFsKG9ialtwYXJ0c1tpXV0sIGkgLSAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqW2xhc3RQYXJ0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvcmRlciA9IHRoaXMuX2N0eC5kaXIgPT09IFwibmV4dFwiID8gMSA6IC0xO1xuICAgICAgICAgICAgZnVuY3Rpb24gc29ydGVyKGEsIGIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYVZhbCA9IGdldHZhbChhLCBsYXN0SW5kZXgpLCBiVmFsID0gZ2V0dmFsKGIsIGxhc3RJbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtcChhVmFsLCBiVmFsKSAqIG9yZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9BcnJheShmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnNvcnQoc29ydGVyKTtcbiAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IF90aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5kaXIgPT09ICduZXh0JyAmJiBpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSAmJiBjdHgubGltaXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZU1hcHBlcl8xID0gY3R4LnZhbHVlTWFwcGVyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleE9yU3RvcmUoY3R4LCBjdHgudGFibGUuY29yZS5zY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnRhYmxlLmNvcmUucXVlcnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGN0eC5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfYS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVNYXBwZXJfMSA/IHJlc3VsdC5tYXAodmFsdWVNYXBwZXJfMSkgOiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFfMSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlcihjdHgsIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBhXzEucHVzaChpdGVtKTsgfSwgdHJhbnMsIGN0eC50YWJsZS5jb3JlKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFfMTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgaWYgKG9mZnNldCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgY3R4Lm9mZnNldCArPSBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoaXNQbGFpbktleVJhbmdlKGN0eCkpIHtcbiAgICAgICAgICAgICAgICBhZGRSZXBsYXlGaWx0ZXIoY3R4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldExlZnQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0TGVmdCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tb2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuYWR2YW5jZShvZmZzZXRMZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkUmVwbGF5RmlsdGVyKGN0eCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuICgtLW9mZnNldExlZnQgPCAwKTsgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uIChudW1Sb3dzKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHgubGltaXQgPSBNYXRoLm1pbih0aGlzLl9jdHgubGltaXQsIG51bVJvd3MpO1xuICAgICAgICAgICAgYWRkUmVwbGF5RmlsdGVyKHRoaXMuX2N0eCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByb3dzTGVmdCA9IG51bVJvd3M7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC0tcm93c0xlZnQgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dzTGVmdCA+PSAwO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS51bnRpbCA9IGZ1bmN0aW9uIChmaWx0ZXJGdW5jdGlvbiwgYkluY2x1ZGVTdG9wRW50cnkpIHtcbiAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRnVuY3Rpb24oY3Vyc29yLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYkluY2x1ZGVTdG9wRW50cnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGltaXQoMSkudG9BcnJheShmdW5jdGlvbiAoYSkgeyByZXR1cm4gYVswXTsgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5maXJzdChjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXJGdW5jdGlvbikge1xuICAgICAgICAgICAgYWRkRmlsdGVyKHRoaXMuX2N0eCwgZnVuY3Rpb24gKGN1cnNvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJGdW5jdGlvbihjdXJzb3IudmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhZGRNYXRjaEZpbHRlcih0aGlzLl9jdHgsIGZpbHRlckZ1bmN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoZmlsdGVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUub3IgPSBmdW5jdGlvbiAoaW5kZXhOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcy5fY3R4LnRhYmxlLCBpbmRleE5hbWUsIHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmRpciA9ICh0aGlzLl9jdHguZGlyID09PSBcInByZXZcIiA/IFwibmV4dFwiIDogXCJwcmV2XCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29uZGlyZWN0aW9uY2hhbmdlKVxuICAgICAgICAgICAgICAgIHRoaXMuX29uZGlyZWN0aW9uY2hhbmdlKHRoaXMuX2N0eC5kaXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmRlc2MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2hLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBjdHgua2V5c09ubHkgPSAhY3R4LmlzTWF0Y2g7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2YWwsIGN1cnNvcikgeyBjYihjdXJzb3Iua2V5LCBjdXJzb3IpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZWFjaFVuaXF1ZUtleSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdGhpcy5fY3R4LnVuaXF1ZSA9IFwidW5pcXVlXCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoS2V5KGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZWFjaFByaW1hcnlLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBjdHgua2V5c09ubHkgPSAhY3R4LmlzTWF0Y2g7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2YWwsIGN1cnNvcikgeyBjYihjdXJzb3IucHJpbWFyeUtleSwgY3Vyc29yKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBjdHgua2V5c09ubHkgPSAhY3R4LmlzTWF0Y2g7XG4gICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaXRlbSwgY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKGN1cnNvci5rZXkpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUucHJpbWFyeUtleXMgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBpZiAoY3R4LmRpciA9PT0gJ25leHQnICYmIGlzUGxhaW5LZXlSYW5nZShjdHgsIHRydWUpICYmIGN0eC5saW1pdCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgY3R4LnRhYmxlLmNvcmUuc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC50YWJsZS5jb3JlLnF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogY3R4LmxpbWl0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGN0eC5yYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGl0ZW0sIGN1cnNvcikge1xuICAgICAgICAgICAgICAgIGEucHVzaChjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS51bmlxdWVLZXlzID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHgudW5pcXVlID0gXCJ1bmlxdWVcIjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtleXMoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5maXJzdEtleSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGltaXQoMSkua2V5cyhmdW5jdGlvbiAoYSkgeyByZXR1cm4gYVswXTsgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmxhc3RLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5maXJzdEtleShjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmRpc3RpbmN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eCwgaWR4ID0gY3R4LmluZGV4ICYmIGN0eC50YWJsZS5zY2hlbWEuaWR4QnlOYW1lW2N0eC5pbmRleF07XG4gICAgICAgICAgICBpZiAoIWlkeCB8fCAhaWR4Lm11bHRpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IHt9O1xuICAgICAgICAgICAgYWRkRmlsdGVyKHRoaXMuX2N0eCwgZnVuY3Rpb24gKGN1cnNvcikge1xuICAgICAgICAgICAgICAgIHZhciBzdHJLZXkgPSBjdXJzb3IucHJpbWFyeUtleS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGhhc093bihzZXQsIHN0cktleSk7XG4gICAgICAgICAgICAgICAgc2V0W3N0cktleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAhZm91bmQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5tb2RpZnkgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd3JpdGUoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGlmeWVyO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhbmdlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBtb2RpZnllciA9IGNoYW5nZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aHMgPSBrZXlzKGNoYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtS2V5cyA9IGtleVBhdGhzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFueXRoaW5nTW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtS2V5czsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBrZXlQYXRoc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gY2hhbmdlc1trZXlQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ1ZhbCA9IGdldEJ5S2V5UGF0aChpdGVtLCBrZXlQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgUHJvcE1vZGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgoaXRlbSwga2V5UGF0aCwgdmFsLmV4ZWN1dGUob3JpZ1ZhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnl0aGluZ01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3JpZ1ZhbCAhPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChpdGVtLCBrZXlQYXRoLCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnl0aGluZ01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW55dGhpbmdNb2RpZmllZDtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNvcmVUYWJsZSA9IGN0eC50YWJsZS5jb3JlO1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IGNvcmVUYWJsZS5zY2hlbWEucHJpbWFyeUtleSwgb3V0Ym91bmQgPSBfYS5vdXRib3VuZCwgZXh0cmFjdEtleSA9IF9hLmV4dHJhY3RLZXk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gMjAwO1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZnlDaHVua1NpemUgPSBfdGhpcy5kYi5fb3B0aW9ucy5tb2RpZnlDaHVua1NpemU7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmeUNodW5rU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZGlmeUNodW5rU2l6ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQgPSBtb2RpZnlDaHVua1NpemVbY29yZVRhYmxlLm5hbWVdIHx8IG1vZGlmeUNodW5rU2l6ZVsnKiddIHx8IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0ID0gbW9kaWZ5Q2h1bmtTaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b3RhbEZhaWx1cmVzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGZhaWxlZEtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYXBwbHlNdXRhdGVSZXN1bHQgPSBmdW5jdGlvbiAoZXhwZWN0ZWRDb3VudCwgcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IHJlcy5mYWlsdXJlcywgbnVtRmFpbHVyZXMgPSByZXMubnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCArPSBleHBlY3RlZENvdW50IC0gbnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBrZXlzKGZhaWx1cmVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEZhaWx1cmVzLnB1c2goZmFpbHVyZXNbcG9zXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jbG9uZSgpLnByaW1hcnlLZXlzKCkudGhlbihmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3JpdGVyaWEgPSBpc1BsYWluS2V5UmFuZ2UoY3R4KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmxpbWl0ID09PSBJbmZpbml0eSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBjaGFuZ2VzICE9PSAnZnVuY3Rpb24nIHx8IGNoYW5nZXMgPT09IGRlbGV0ZUNhbGxiYWNrKSAmJiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogY3R4LmluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IGN0eC5yYW5nZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENodW5rID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gTWF0aC5taW4obGltaXQsIGtleXMubGVuZ3RoIC0gb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlVGFibGUuZ2V0TWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGtleXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBjb3VudCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IFwiaW1tdXRhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHV0VmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHB1dEtleXMgPSBvdXRib3VuZCA/IFtdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZXRlS2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ1ZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3R4XzEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVlcENsb25lKG9yaWdWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltS2V5OiBrZXlzW29mZnNldCArIGldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZnllci5jYWxsKGN0eF8xLCBjdHhfMS52YWx1ZSwgY3R4XzEpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eF8xLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVLZXlzLnB1c2goa2V5c1tvZmZzZXQgKyBpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghb3V0Ym91bmQgJiYgY21wKGV4dHJhY3RLZXkob3JpZ1ZhbHVlKSwgZXh0cmFjdEtleShjdHhfMS52YWx1ZSkpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlS2V5cy5wdXNoKGtleXNbb2Zmc2V0ICsgaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZhbHVlcy5wdXNoKGN0eF8xLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhbHVlcy5wdXNoKGN0eF8xLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0Ym91bmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dEtleXMucHVzaChrZXlzW29mZnNldCArIGldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFkZFZhbHVlcy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVUYWJsZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdhZGQnLCB2YWx1ZXM6IGFkZFZhbHVlcyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcG9zIGluIHJlcy5mYWlsdXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUtleXMuc3BsaWNlKHBhcnNlSW50KHBvcyksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlNdXRhdGVSZXN1bHQoYWRkVmFsdWVzLmxlbmd0aCwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gKHB1dFZhbHVlcy5sZW5ndGggPiAwIHx8IChjcml0ZXJpYSAmJiB0eXBlb2YgY2hhbmdlcyA9PT0gJ29iamVjdCcpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlVGFibGUubXV0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5czogcHV0S2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogcHV0VmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JpdGVyaWE6IGNyaXRlcmlhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3BlYzogdHlwZW9mIGNoYW5nZXMgIT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBZGRpdGlvbmFsQ2h1bms6IG9mZnNldCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBhcHBseU11dGF0ZVJlc3VsdChwdXRWYWx1ZXMubGVuZ3RoLCByZXMpOyB9KTsgfSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiAoZGVsZXRlS2V5cy5sZW5ndGggPiAwIHx8IChjcml0ZXJpYSAmJiBjaGFuZ2VzID09PSBkZWxldGVDYWxsYmFjaykpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVUYWJsZS5tdXRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBkZWxldGVLZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JpdGVyaWE6IGNyaXRlcmlhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBZGRpdGlvbmFsQ2h1bms6IG9mZnNldCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBhcHBseU11dGF0ZVJlc3VsdChkZWxldGVLZXlzLmxlbmd0aCwgcmVzKTsgfSk7IH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5cy5sZW5ndGggPiBvZmZzZXQgKyBjb3VudCAmJiBuZXh0Q2h1bmsob2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0Q2h1bmsoMCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxGYWlsdXJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RpZnlFcnJvcihcIkVycm9yIG1vZGlmeWluZyBvbmUgb3IgbW9yZSBvYmplY3RzXCIsIHRvdGFsRmFpbHVyZXMsIHN1Y2Nlc3NDb3VudCwgZmFpbGVkS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHgsIHJhbmdlID0gY3R4LnJhbmdlO1xuICAgICAgICAgICAgaWYgKGlzUGxhaW5LZXlSYW5nZShjdHgpICYmXG4gICAgICAgICAgICAgICAgKGN0eC5pc1ByaW1LZXkgfHwgcmFuZ2UudHlwZSA9PT0gMyApKVxuICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd3JpdGUoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gY3R4LnRhYmxlLmNvcmUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3JlUmFuZ2UgPSByYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC50YWJsZS5jb3JlLmNvdW50KHsgdHJhbnM6IHRyYW5zLCBxdWVyeTogeyBpbmRleDogcHJpbWFyeUtleSwgcmFuZ2U6IGNvcmVSYW5nZSB9IH0pLnRoZW4oZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnRhYmxlLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnZGVsZXRlUmFuZ2UnLCByYW5nZTogY29yZVJhbmdlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7IF9hLmxhc3RSZXN1bHQ7IF9hLnJlc3VsdHM7IHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW1GYWlsdXJlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGlmeUVycm9yKFwiQ291bGQgbm90IGRlbGV0ZSBzb21lIHZhbHVlc1wiLCBPYmplY3Qua2V5cyhmYWlsdXJlcykubWFwKGZ1bmN0aW9uIChwb3MpIHsgcmV0dXJuIGZhaWx1cmVzW3Bvc107IH0pLCBjb3VudCAtIG51bUZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgLSBudW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGlmeShkZWxldGVDYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBDb2xsZWN0aW9uO1xuICAgIH0oKSk7XG4gICAgdmFyIGRlbGV0ZUNhbGxiYWNrID0gZnVuY3Rpb24gKHZhbHVlLCBjdHgpIHsgcmV0dXJuIGN0eC52YWx1ZSA9IG51bGw7IH07XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDb2xsZWN0aW9uQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKENvbGxlY3Rpb24ucHJvdG90eXBlLCBmdW5jdGlvbiBDb2xsZWN0aW9uKHdoZXJlQ2xhdXNlLCBrZXlSYW5nZUdlbmVyYXRvcikge1xuICAgICAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgICAgICAgICAgdmFyIGtleVJhbmdlID0gQW55UmFuZ2UsIGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChrZXlSYW5nZUdlbmVyYXRvcilcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBrZXlSYW5nZSA9IGtleVJhbmdlR2VuZXJhdG9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3aGVyZUN0eCA9IHdoZXJlQ2xhdXNlLl9jdHg7XG4gICAgICAgICAgICB2YXIgdGFibGUgPSB3aGVyZUN0eC50YWJsZTtcbiAgICAgICAgICAgIHZhciByZWFkaW5nSG9vayA9IHRhYmxlLmhvb2sucmVhZGluZy5maXJlO1xuICAgICAgICAgICAgdGhpcy5fY3R4ID0ge1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICBpbmRleDogd2hlcmVDdHguaW5kZXgsXG4gICAgICAgICAgICAgICAgaXNQcmltS2V5OiAoIXdoZXJlQ3R4LmluZGV4IHx8ICh0YWJsZS5zY2hlbWEucHJpbUtleS5rZXlQYXRoICYmIHdoZXJlQ3R4LmluZGV4ID09PSB0YWJsZS5zY2hlbWEucHJpbUtleS5uYW1lKSksXG4gICAgICAgICAgICAgICAgcmFuZ2U6IGtleVJhbmdlLFxuICAgICAgICAgICAgICAgIGtleXNPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkaXI6IFwibmV4dFwiLFxuICAgICAgICAgICAgICAgIHVuaXF1ZTogXCJcIixcbiAgICAgICAgICAgICAgICBhbGdvcml0aG06IG51bGwsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlcGxheUZpbHRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICBqdXN0TGltaXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaXNNYXRjaDogbnVsbCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgbGltaXQ6IEluZmluaXR5LFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICBvcjogd2hlcmVDdHgub3IsXG4gICAgICAgICAgICAgICAgdmFsdWVNYXBwZXI6IHJlYWRpbmdIb29rICE9PSBtaXJyb3IgPyByZWFkaW5nSG9vayA6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNpbXBsZUNvbXBhcmUoYSwgYikge1xuICAgICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPT09IGIgPyAwIDogMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2ltcGxlQ29tcGFyZVJldmVyc2UoYSwgYikge1xuICAgICAgICByZXR1cm4gYSA+IGIgPyAtMSA6IGEgPT09IGIgPyAwIDogMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmYWlsKGNvbGxlY3Rpb25PcldoZXJlQ2xhdXNlLCBlcnIsIFQpIHtcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZSBpbnN0YW5jZW9mIFdoZXJlQ2xhdXNlID9cbiAgICAgICAgICAgIG5ldyBjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZS5Db2xsZWN0aW9uKGNvbGxlY3Rpb25PcldoZXJlQ2xhdXNlKSA6XG4gICAgICAgICAgICBjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZTtcbiAgICAgICAgY29sbGVjdGlvbi5fY3R4LmVycm9yID0gVCA/IG5ldyBUKGVycikgOiBuZXcgVHlwZUVycm9yKGVycik7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbXB0eUNvbGxlY3Rpb24od2hlcmVDbGF1c2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB3aGVyZUNsYXVzZS5Db2xsZWN0aW9uKHdoZXJlQ2xhdXNlLCBmdW5jdGlvbiAoKSB7IHJldHVybiByYW5nZUVxdWFsKFwiXCIpOyB9KS5saW1pdCgwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBwZXJGYWN0b3J5KGRpcikge1xuICAgICAgICByZXR1cm4gZGlyID09PSBcIm5leHRcIiA/XG4gICAgICAgICAgICBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50b1VwcGVyQ2FzZSgpOyB9IDpcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRvTG93ZXJDYXNlKCk7IH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvd2VyRmFjdG9yeShkaXIpIHtcbiAgICAgICAgcmV0dXJuIGRpciA9PT0gXCJuZXh0XCIgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9Mb3dlckNhc2UoKTsgfSA6XG4gICAgICAgICAgICBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50b1VwcGVyQ2FzZSgpOyB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZXh0Q2FzaW5nKGtleSwgbG93ZXJLZXksIHVwcGVyTmVlZGxlLCBsb3dlck5lZWRsZSwgY21wLCBkaXIpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGtleS5sZW5ndGgsIGxvd2VyTmVlZGxlLmxlbmd0aCk7XG4gICAgICAgIHZhciBsbHAgPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGx3cktleUNoYXIgPSBsb3dlcktleVtpXTtcbiAgICAgICAgICAgIGlmIChsd3JLZXlDaGFyICE9PSBsb3dlck5lZWRsZVtpXSkge1xuICAgICAgICAgICAgICAgIGlmIChjbXAoa2V5W2ldLCB1cHBlck5lZWRsZVtpXSkgPCAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cigwLCBpKSArIHVwcGVyTmVlZGxlW2ldICsgdXBwZXJOZWVkbGUuc3Vic3RyKGkgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAoY21wKGtleVtpXSwgbG93ZXJOZWVkbGVbaV0pIDwgMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgaSkgKyBsb3dlck5lZWRsZVtpXSArIHVwcGVyTmVlZGxlLnN1YnN0cihpICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGxscCA+PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cigwLCBsbHApICsgbG93ZXJLZXlbbGxwXSArIHVwcGVyTmVlZGxlLnN1YnN0cihsbHAgKyAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbXAoa2V5W2ldLCBsd3JLZXlDaGFyKSA8IDApXG4gICAgICAgICAgICAgICAgbGxwID0gaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuZ3RoIDwgbG93ZXJOZWVkbGUubGVuZ3RoICYmIGRpciA9PT0gXCJuZXh0XCIpXG4gICAgICAgICAgICByZXR1cm4ga2V5ICsgdXBwZXJOZWVkbGUuc3Vic3RyKGtleS5sZW5ndGgpO1xuICAgICAgICBpZiAobGVuZ3RoIDwga2V5Lmxlbmd0aCAmJiBkaXIgPT09IFwicHJldlwiKVxuICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgdXBwZXJOZWVkbGUubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIChsbHAgPCAwID8gbnVsbCA6IGtleS5zdWJzdHIoMCwgbGxwKSArIGxvd2VyTmVlZGxlW2xscF0gKyB1cHBlck5lZWRsZS5zdWJzdHIobGxwICsgMSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHdoZXJlQ2xhdXNlLCBtYXRjaCwgbmVlZGxlcywgc3VmZml4KSB7XG4gICAgICAgIHZhciB1cHBlciwgbG93ZXIsIGNvbXBhcmUsIHVwcGVyTmVlZGxlcywgbG93ZXJOZWVkbGVzLCBkaXJlY3Rpb24sIG5leHRLZXlTdWZmaXgsIG5lZWRsZXNMZW4gPSBuZWVkbGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFuZWVkbGVzLmV2ZXJ5KGZ1bmN0aW9uIChzKSB7IHJldHVybiB0eXBlb2YgcyA9PT0gJ3N0cmluZyc7IH0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFpbCh3aGVyZUNsYXVzZSwgU1RSSU5HX0VYUEVDVEVEKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBpbml0RGlyZWN0aW9uKGRpcikge1xuICAgICAgICAgICAgdXBwZXIgPSB1cHBlckZhY3RvcnkoZGlyKTtcbiAgICAgICAgICAgIGxvd2VyID0gbG93ZXJGYWN0b3J5KGRpcik7XG4gICAgICAgICAgICBjb21wYXJlID0gKGRpciA9PT0gXCJuZXh0XCIgPyBzaW1wbGVDb21wYXJlIDogc2ltcGxlQ29tcGFyZVJldmVyc2UpO1xuICAgICAgICAgICAgdmFyIG5lZWRsZUJvdW5kcyA9IG5lZWRsZXMubWFwKGZ1bmN0aW9uIChuZWVkbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsb3dlcjogbG93ZXIobmVlZGxlKSwgdXBwZXI6IHVwcGVyKG5lZWRsZSkgfTtcbiAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZShhLmxvd2VyLCBiLmxvd2VyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdXBwZXJOZWVkbGVzID0gbmVlZGxlQm91bmRzLm1hcChmdW5jdGlvbiAobmIpIHsgcmV0dXJuIG5iLnVwcGVyOyB9KTtcbiAgICAgICAgICAgIGxvd2VyTmVlZGxlcyA9IG5lZWRsZUJvdW5kcy5tYXAoZnVuY3Rpb24gKG5iKSB7IHJldHVybiBuYi5sb3dlcjsgfSk7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBkaXI7XG4gICAgICAgICAgICBuZXh0S2V5U3VmZml4ID0gKGRpciA9PT0gXCJuZXh0XCIgPyBcIlwiIDogc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpbml0RGlyZWN0aW9uKFwibmV4dFwiKTtcbiAgICAgICAgdmFyIGMgPSBuZXcgd2hlcmVDbGF1c2UuQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UodXBwZXJOZWVkbGVzWzBdLCBsb3dlck5lZWRsZXNbbmVlZGxlc0xlbiAtIDFdICsgc3VmZml4KTsgfSk7XG4gICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5pdERpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZmlyc3RQb3NzaWJsZU5lZWRsZSA9IDA7XG4gICAgICAgIGMuX2FkZEFsZ29yaXRobShmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY3Vyc29yLmtleTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbG93ZXJLZXkgPSBsb3dlcihrZXkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKGxvd2VyS2V5LCBsb3dlck5lZWRsZXMsIGZpcnN0UG9zc2libGVOZWVkbGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbG93ZXN0UG9zc2libGVDYXNpbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBmaXJzdFBvc3NpYmxlTmVlZGxlOyBpIDwgbmVlZGxlc0xlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXNpbmcgPSBuZXh0Q2FzaW5nKGtleSwgbG93ZXJLZXksIHVwcGVyTmVlZGxlc1tpXSwgbG93ZXJOZWVkbGVzW2ldLCBjb21wYXJlLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FzaW5nID09PSBudWxsICYmIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RQb3NzaWJsZU5lZWRsZSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsb3dlc3RQb3NzaWJsZUNhc2luZyA9PT0gbnVsbCB8fCBjb21wYXJlKGxvd2VzdFBvc3NpYmxlQ2FzaW5nLCBjYXNpbmcpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXN0UG9zc2libGVDYXNpbmcgPSBjYXNpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxvd2VzdFBvc3NpYmxlQ2FzaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoZnVuY3Rpb24gKCkgeyBjdXJzb3IuY29udGludWUobG93ZXN0UG9zc2libGVDYXNpbmcgKyBuZXh0S2V5U3VmZml4KTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UobG93ZXIsIHVwcGVyLCBsb3dlck9wZW4sIHVwcGVyT3Blbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogMiAsXG4gICAgICAgICAgICBsb3dlcjogbG93ZXIsXG4gICAgICAgICAgICB1cHBlcjogdXBwZXIsXG4gICAgICAgICAgICBsb3dlck9wZW46IGxvd2VyT3BlbixcbiAgICAgICAgICAgIHVwcGVyT3BlbjogdXBwZXJPcGVuXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJhbmdlRXF1YWwodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IDEgLFxuICAgICAgICAgICAgbG93ZXI6IHZhbHVlLFxuICAgICAgICAgICAgdXBwZXI6IHZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIFdoZXJlQ2xhdXNlID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFdoZXJlQ2xhdXNlKCkge1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXaGVyZUNsYXVzZS5wcm90b3R5cGUsIFwiQ29sbGVjdGlvblwiLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3R4LnRhYmxlLmRiLkNvbGxlY3Rpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5iZXR3ZWVuID0gZnVuY3Rpb24gKGxvd2VyLCB1cHBlciwgaW5jbHVkZUxvd2VyLCBpbmNsdWRlVXBwZXIpIHtcbiAgICAgICAgICAgIGluY2x1ZGVMb3dlciA9IGluY2x1ZGVMb3dlciAhPT0gZmFsc2U7XG4gICAgICAgICAgICBpbmNsdWRlVXBwZXIgPSBpbmNsdWRlVXBwZXIgPT09IHRydWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICgodGhpcy5fY21wKGxvd2VyLCB1cHBlcikgPiAwKSB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5fY21wKGxvd2VyLCB1cHBlcikgPT09IDAgJiYgKGluY2x1ZGVMb3dlciB8fCBpbmNsdWRlVXBwZXIpICYmICEoaW5jbHVkZUxvd2VyICYmIGluY2x1ZGVVcHBlcikpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKGxvd2VyLCB1cHBlciwgIWluY2x1ZGVMb3dlciwgIWluY2x1ZGVVcHBlcik7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJhbmdlRXF1YWwodmFsdWUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmFib3ZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZSh2YWx1ZSwgdW5kZWZpbmVkLCB0cnVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hYm92ZU9yRXF1YWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHZhbHVlLCB1bmRlZmluZWQsIGZhbHNlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5iZWxvdyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UodW5kZWZpbmVkLCB2YWx1ZSwgZmFsc2UsIHRydWUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmJlbG93T3JFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UodW5kZWZpbmVkLCB2YWx1ZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBTVFJJTkdfRVhQRUNURUQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmV0d2VlbihzdHIsIHN0ciArIG1heFN0cmluZywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5zdGFydHNXaXRoSWdub3JlQ2FzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIGlmIChzdHIgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRzV2l0aChzdHIpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZElnbm9yZUNhc2VBbGdvcml0aG0odGhpcywgZnVuY3Rpb24gKHgsIGEpIHsgcmV0dXJuIHguaW5kZXhPZihhWzBdKSA9PT0gMDsgfSwgW3N0cl0sIG1heFN0cmluZyk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5lcXVhbHNJZ25vcmVDYXNlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuIGFkZElnbm9yZUNhc2VBbGdvcml0aG0odGhpcywgZnVuY3Rpb24gKHgsIGEpIHsgcmV0dXJuIHggPT09IGFbMF07IH0sIFtzdHJdLCBcIlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmFueU9mSWdub3JlQ2FzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZElnbm9yZUNhc2VBbGdvcml0aG0odGhpcywgZnVuY3Rpb24gKHgsIGEpIHsgcmV0dXJuIGEuaW5kZXhPZih4KSAhPT0gLTE7IH0sIHNldCwgXCJcIik7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5zdGFydHNXaXRoQW55T2ZJZ25vcmVDYXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh0aGlzLCBmdW5jdGlvbiAoeCwgYSkgeyByZXR1cm4gYS5zb21lKGZ1bmN0aW9uIChuKSB7IHJldHVybiB4LmluZGV4T2YobikgPT09IDA7IH0pOyB9LCBzZXQsIG1heFN0cmluZyk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hbnlPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgdmFyIGNvbXBhcmUgPSB0aGlzLl9jbXA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNldC5zb3J0KGNvbXBhcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGMgPSBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHNldFswXSwgc2V0W3NldC5sZW5ndGggLSAxXSk7IH0pO1xuICAgICAgICAgICAgYy5fb25kaXJlY3Rpb25jaGFuZ2UgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29tcGFyZSA9IChkaXJlY3Rpb24gPT09IFwibmV4dFwiID9cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FzY2VuZGluZyA6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kZXNjZW5kaW5nKTtcbiAgICAgICAgICAgICAgICBzZXQuc29ydChjb21wYXJlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBjLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKGtleSwgc2V0W2ldKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gc2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZShrZXksIHNldFtpXSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHsgY3Vyc29yLmNvbnRpbnVlKHNldFtpXSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLm5vdEVxdWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKFtbbWluS2V5LCB2YWx1ZV0sIFt2YWx1ZSwgdGhpcy5kYi5fbWF4S2V5XV0sIHsgaW5jbHVkZUxvd2VyczogZmFsc2UsIGluY2x1ZGVVcHBlcnM6IGZhbHNlIH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUubm9uZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZXQuc29ydCh0aGlzLl9hc2NlbmRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmFuZ2VzID0gc2V0LnJlZHVjZShmdW5jdGlvbiAocmVzLCB2YWwpIHsgcmV0dXJuIHJlcyA/XG4gICAgICAgICAgICAgICAgcmVzLmNvbmNhdChbW3Jlc1tyZXMubGVuZ3RoIC0gMV1bMV0sIHZhbF1dKSA6XG4gICAgICAgICAgICAgICAgW1ttaW5LZXksIHZhbF1dOyB9LCBudWxsKTtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKFtzZXRbc2V0Lmxlbmd0aCAtIDFdLCB0aGlzLmRiLl9tYXhLZXldKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluQW55UmFuZ2UocmFuZ2VzLCB7IGluY2x1ZGVMb3dlcnM6IGZhbHNlLCBpbmNsdWRlVXBwZXJzOiBmYWxzZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLmluQW55UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2VzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGNtcCA9IHRoaXMuX2NtcCwgYXNjZW5kaW5nID0gdGhpcy5fYXNjZW5kaW5nLCBkZXNjZW5kaW5nID0gdGhpcy5fZGVzY2VuZGluZywgbWluID0gdGhpcy5fbWluLCBtYXggPSB0aGlzLl9tYXg7XG4gICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgaWYgKCFyYW5nZXMuZXZlcnkoZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlWzBdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VbMV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBhc2NlbmRpbmcocmFuZ2VbMF0sIHJhbmdlWzFdKSA8PSAwO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBcIkZpcnN0IGFyZ3VtZW50IHRvIGluQW55UmFuZ2UoKSBtdXN0IGJlIGFuIEFycmF5IG9mIHR3by12YWx1ZSBBcnJheXMgW2xvd2VyLHVwcGVyXSB3aGVyZSB1cHBlciBtdXN0IG5vdCBiZSBsb3dlciB0aGFuIGxvd2VyXCIsIGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmNsdWRlTG93ZXJzID0gIW9wdGlvbnMgfHwgb3B0aW9ucy5pbmNsdWRlTG93ZXJzICE9PSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpbmNsdWRlVXBwZXJzID0gb3B0aW9ucyAmJiBvcHRpb25zLmluY2x1ZGVVcHBlcnMgPT09IHRydWU7XG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRSYW5nZShyYW5nZXMsIG5ld1JhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwLCBsID0gcmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbXAobmV3UmFuZ2VbMF0sIHJhbmdlWzFdKSA8IDAgJiYgY21wKG5ld1JhbmdlWzFdLCByYW5nZVswXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZVswXSA9IG1pbihyYW5nZVswXSwgbmV3UmFuZ2VbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VbMV0gPSBtYXgocmFuZ2VbMV0sIG5ld1JhbmdlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID09PSBsKVxuICAgICAgICAgICAgICAgICAgICByYW5nZXMucHVzaChuZXdSYW5nZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzb3J0RGlyZWN0aW9uID0gYXNjZW5kaW5nO1xuICAgICAgICAgICAgZnVuY3Rpb24gcmFuZ2VTb3J0ZXIoYSwgYikgeyByZXR1cm4gc29ydERpcmVjdGlvbihhWzBdLCBiWzBdKTsgfVxuICAgICAgICAgICAgdmFyIHNldDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2V0ID0gcmFuZ2VzLnJlZHVjZShhZGRSYW5nZSwgW10pO1xuICAgICAgICAgICAgICAgIHNldC5zb3J0KHJhbmdlU29ydGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByYW5nZVBvcyA9IDA7XG4gICAgICAgICAgICB2YXIga2V5SXNCZXlvbmRDdXJyZW50RW50cnkgPSBpbmNsdWRlVXBwZXJzID9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhc2NlbmRpbmcoa2V5LCBzZXRbcmFuZ2VQb3NdWzFdKSA+IDA7IH0gOlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGFzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMV0pID49IDA7IH07XG4gICAgICAgICAgICB2YXIga2V5SXNCZWZvcmVDdXJyZW50RW50cnkgPSBpbmNsdWRlTG93ZXJzID9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBkZXNjZW5kaW5nKGtleSwgc2V0W3JhbmdlUG9zXVswXSkgPiAwOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBkZXNjZW5kaW5nKGtleSwgc2V0W3JhbmdlUG9zXVswXSkgPj0gMDsgfTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGtleVdpdGhpbkN1cnJlbnRSYW5nZShrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWtleUlzQmV5b25kQ3VycmVudEVudHJ5KGtleSkgJiYgIWtleUlzQmVmb3JlQ3VycmVudEVudHJ5KGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hlY2tLZXkgPSBrZXlJc0JleW9uZEN1cnJlbnRFbnRyeTtcbiAgICAgICAgICAgIHZhciBjID0gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZShzZXRbMF1bMF0sIHNldFtzZXQubGVuZ3RoIC0gMV1bMV0sICFpbmNsdWRlTG93ZXJzLCAhaW5jbHVkZVVwcGVycyk7IH0pO1xuICAgICAgICAgICAgYy5fb25kaXJlY3Rpb25jaGFuZ2UgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tLZXkgPSBrZXlJc0JleW9uZEN1cnJlbnRFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgc29ydERpcmVjdGlvbiA9IGFzY2VuZGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrS2V5ID0ga2V5SXNCZWZvcmVDdXJyZW50RW50cnk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnREaXJlY3Rpb24gPSBkZXNjZW5kaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXQuc29ydChyYW5nZVNvcnRlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYy5fYWRkQWxnb3JpdGhtKGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gY3Vyc29yLmtleTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2hlY2tLZXkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICArK3JhbmdlUG9zO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2VQb3MgPT09IHNldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleVdpdGhpbkN1cnJlbnRSYW5nZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5fY21wKGtleSwgc2V0W3JhbmdlUG9zXVsxXSkgPT09IDAgfHwgX3RoaXMuX2NtcChrZXksIHNldFtyYW5nZVBvc11bMF0pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnREaXJlY3Rpb24gPT09IGFzY2VuZGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoc2V0W3JhbmdlUG9zXVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKHNldFtyYW5nZVBvc11bMV0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5zdGFydHNXaXRoQW55T2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKCFzZXQuZXZlcnkoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHR5cGVvZiBzID09PSAnc3RyaW5nJzsgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBcInN0YXJ0c1dpdGhBbnlPZigpIG9ubHkgd29ya3Mgd2l0aCBzdHJpbmdzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluQW55UmFuZ2Uoc2V0Lm1hcChmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBbc3RyLCBzdHIgKyBtYXhTdHJpbmddOyB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBXaGVyZUNsYXVzZTtcbiAgICB9KCkpO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlV2hlcmVDbGF1c2VDb25zdHJ1Y3RvcihkYikge1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzQ29uc3RydWN0b3IoV2hlcmVDbGF1c2UucHJvdG90eXBlLCBmdW5jdGlvbiBXaGVyZUNsYXVzZSh0YWJsZSwgaW5kZXgsIG9yQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgICAgICAgICAgdGhpcy5fY3R4ID0ge1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXggPT09IFwiOmlkXCIgPyBudWxsIDogaW5kZXgsXG4gICAgICAgICAgICAgICAgb3I6IG9yQ29sbGVjdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2NtcCA9IHRoaXMuX2FzY2VuZGluZyA9IGNtcDtcbiAgICAgICAgICAgIHRoaXMuX2Rlc2NlbmRpbmcgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gY21wKGIsIGEpOyB9O1xuICAgICAgICAgICAgdGhpcy5fbWF4ID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA+IDAgPyBhIDogYjsgfTtcbiAgICAgICAgICAgIHRoaXMuX21pbiA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjbXAoYSwgYikgPCAwID8gYSA6IGI7IH07XG4gICAgICAgICAgICB0aGlzLl9JREJLZXlSYW5nZSA9IGRiLl9kZXBzLklEQktleVJhbmdlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9JREJLZXlSYW5nZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgICAgICByZWplY3QoZXZlbnQudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUgPSAnc3RvcmFnZW11dGF0ZWQnO1xuICAgIHZhciBTVE9SQUdFX01VVEFURURfRE9NX0VWRU5UX05BTUUgPSAneC1zdG9yYWdlbXV0YXRlZC0xJztcbiAgICB2YXIgZ2xvYmFsRXZlbnRzID0gRXZlbnRzKG51bGwsIERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FKTtcblxuICAgIHZhciBUcmFuc2FjdGlvbiA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBUcmFuc2FjdGlvbigpIHtcbiAgICAgICAgfVxuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX2xvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQoIVBTRC5nbG9iYWwpO1xuICAgICAgICAgICAgKyt0aGlzLl9yZWN1bG9jaztcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZWN1bG9jayA9PT0gMSAmJiAhUFNELmdsb2JhbClcbiAgICAgICAgICAgICAgICBQU0QubG9ja093bmVyRm9yID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3VubG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFzc2VydCghUFNELmdsb2JhbCk7XG4gICAgICAgICAgICBpZiAoLS10aGlzLl9yZWN1bG9jayA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICghUFNELmdsb2JhbClcbiAgICAgICAgICAgICAgICAgICAgUFNELmxvY2tPd25lckZvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2Jsb2NrZWRGdW5jcy5sZW5ndGggPiAwICYmICF0aGlzLl9sb2NrZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm5BbmRQU0QgPSB0aGlzLl9ibG9ja2VkRnVuY3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZVBTRChmbkFuZFBTRFsxXSwgZm5BbmRQU0RbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9sb2NrZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjdWxvY2sgJiYgUFNELmxvY2tPd25lckZvciAhPT0gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpZGJ0cmFucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICghdGhpcy5tb2RlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgdmFyIGlkYmRiID0gdGhpcy5kYi5pZGJkYjtcbiAgICAgICAgICAgIHZhciBkYk9wZW5FcnJvciA9IHRoaXMuZGIuX3N0YXRlLmRiT3BlbkVycm9yO1xuICAgICAgICAgICAgYXNzZXJ0KCF0aGlzLmlkYnRyYW5zKTtcbiAgICAgICAgICAgIGlmICghaWRidHJhbnMgJiYgIWlkYmRiKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkYk9wZW5FcnJvciAmJiBkYk9wZW5FcnJvci5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEYXRhYmFzZUNsb3NlZEVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZChkYk9wZW5FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNaXNzaW5nQVBJRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoZGJPcGVuRXJyb3IubWVzc2FnZSwgZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuT3BlbkZhaWxlZChkYk9wZW5FcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5UcmFuc2FjdGlvbkluYWN0aXZlKCk7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5fY29tcGxldGlvbi5fc3RhdGUgPT09IG51bGwpO1xuICAgICAgICAgICAgaWRidHJhbnMgPSB0aGlzLmlkYnRyYW5zID0gaWRidHJhbnMgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5kYi5jb3JlXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5kYi5jb3JlLnRyYW5zYWN0aW9uKHRoaXMuc3RvcmVOYW1lcywgdGhpcy5tb2RlLCB7IGR1cmFiaWxpdHk6IHRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5IH0pXG4gICAgICAgICAgICAgICAgICAgIDogaWRiZGIudHJhbnNhY3Rpb24odGhpcy5zdG9yZU5hbWVzLCB0aGlzLm1vZGUsIHsgZHVyYWJpbGl0eTogdGhpcy5jaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHkgfSkpO1xuICAgICAgICAgICAgaWRidHJhbnMub25lcnJvciA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXYpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZWplY3QoaWRidHJhbnMuZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZGJ0cmFucy5vbmFib3J0ID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChldik7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlICYmIF90aGlzLl9yZWplY3QobmV3IGV4Y2VwdGlvbnMuQWJvcnQoaWRidHJhbnMuZXJyb3IpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbihcImFib3J0XCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZGJ0cmFucy5vbmNvbXBsZXRlID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoJ211dGF0ZWRQYXJ0cycgaW4gaWRidHJhbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLnN0b3JhZ2VtdXRhdGVkLmZpcmUoaWRidHJhbnNbXCJtdXRhdGVkUGFydHNcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fcHJvbWlzZSA9IGZ1bmN0aW9uIChtb2RlLCBmbiwgYldyaXRlTG9jaykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAncmVhZHdyaXRlJyAmJiB0aGlzLm1vZGUgIT09ICdyZWFkd3JpdGUnKVxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuUmVhZE9ubHkoXCJUcmFuc2FjdGlvbiBpcyByZWFkb25seVwiKSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuVHJhbnNhY3Rpb25JbmFjdGl2ZSgpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sb2NrZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2Jsb2NrZWRGdW5jcy5wdXNoKFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Byb21pc2UobW9kZSwgZm4sIGJXcml0ZUxvY2spLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFBTRF0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYldyaXRlTG9jaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbG9jaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gZm4ocmVzb2x2ZSwgcmVqZWN0LCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnYgJiYgcnYudGhlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydi50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBwLmZpbmFsbHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3VubG9jaygpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcC5fbGliID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcnYgPSBmbihyZXNvbHZlLCByZWplY3QsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ2ICYmIHJ2LnRoZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICBydi50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcC5fbGliID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9yb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuX3Jvb3QoKSA6IHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS53YWl0Rm9yID0gZnVuY3Rpb24gKHByb21pc2VMaWtlKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IHRoaXMuX3Jvb3QoKTtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gRGV4aWVQcm9taXNlLnJlc29sdmUocHJvbWlzZUxpa2UpO1xuICAgICAgICAgICAgaWYgKHJvb3QuX3dhaXRpbmdGb3IpIHtcbiAgICAgICAgICAgICAgICByb290Ll93YWl0aW5nRm9yID0gcm9vdC5fd2FpdGluZ0Zvci50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb21pc2U7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IHByb21pc2U7XG4gICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ1F1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gcm9vdC5pZGJ0cmFucy5vYmplY3RTdG9yZShyb290LnN0b3JlTmFtZXNbMF0pO1xuICAgICAgICAgICAgICAgIChmdW5jdGlvbiBzcGluKCkge1xuICAgICAgICAgICAgICAgICAgICArK3Jvb3QuX3NwaW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJvb3QuX3dhaXRpbmdRdWV1ZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAocm9vdC5fd2FpdGluZ1F1ZXVlLnNoaWZ0KCkpKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290Ll93YWl0aW5nRm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZ2V0KC1JbmZpbml0eSkub25zdWNjZXNzID0gc3BpbjtcbiAgICAgICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRXYWl0UHJvbWlzZSA9IHJvb3QuX3dhaXRpbmdGb3I7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJvb3QuX3dhaXRpbmdRdWV1ZS5wdXNoKHdyYXAocmVzb2x2ZS5iaW5kKG51bGwsIHJlcykpKTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcm9vdC5fd2FpdGluZ1F1ZXVlLnB1c2god3JhcChyZWplY3QuYmluZChudWxsLCBlcnIpKSk7IH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdC5fd2FpdGluZ0ZvciA9PT0gY3VycmVudFdhaXRQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290Ll93YWl0aW5nRm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaWRidHJhbnMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRidHJhbnMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QobmV3IGV4Y2VwdGlvbnMuQWJvcnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBtZW1vaXplZFRhYmxlcyA9ICh0aGlzLl9tZW1vaXplZFRhYmxlcyB8fCAodGhpcy5fbWVtb2l6ZWRUYWJsZXMgPSB7fSkpO1xuICAgICAgICAgICAgaWYgKGhhc093bihtZW1vaXplZFRhYmxlcywgdGFibGVOYW1lKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRUYWJsZXNbdGFibGVOYW1lXTtcbiAgICAgICAgICAgIHZhciB0YWJsZVNjaGVtYSA9IHRoaXMuc2NoZW1hW3RhYmxlTmFtZV07XG4gICAgICAgICAgICBpZiAoIXRhYmxlU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTm90Rm91bmQoXCJUYWJsZSBcIiArIHRhYmxlTmFtZSArIFwiIG5vdCBwYXJ0IG9mIHRyYW5zYWN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uQm91bmRUYWJsZSA9IG5ldyB0aGlzLmRiLlRhYmxlKHRhYmxlTmFtZSwgdGFibGVTY2hlbWEsIHRoaXMpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25Cb3VuZFRhYmxlLmNvcmUgPSB0aGlzLmRiLmNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgIG1lbW9pemVkVGFibGVzW3RhYmxlTmFtZV0gPSB0cmFuc2FjdGlvbkJvdW5kVGFibGU7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Cb3VuZFRhYmxlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVHJhbnNhY3Rpb247XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRyYW5zYWN0aW9uQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgZnVuY3Rpb24gVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZGJzY2hlbWEsIGNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSwgcGFyZW50KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgICAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmVOYW1lcyA9IHN0b3JlTmFtZXM7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYSA9IGRic2NoZW1hO1xuICAgICAgICAgICAgdGhpcy5jaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHkgPSBjaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHk7XG4gICAgICAgICAgICB0aGlzLmlkYnRyYW5zID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub24gPSBFdmVudHModGhpcywgXCJjb21wbGV0ZVwiLCBcImVycm9yXCIsIFwiYWJvcnRcIik7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudCB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVjdWxvY2sgPSAwO1xuICAgICAgICAgICAgdGhpcy5fYmxvY2tlZEZ1bmNzID0gW107XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl93YWl0aW5nRm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3dhaXRpbmdRdWV1ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9zcGluQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGlvbiA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0aW9uLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uLmNvbXBsZXRlLmZpcmUoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdhc0FjdGl2ZSA9IF90aGlzLmFjdGl2ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbi5lcnJvci5maXJlKGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudCA/XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5fcmVqZWN0KGUpIDpcbiAgICAgICAgICAgICAgICAgICAgd2FzQWN0aXZlICYmIF90aGlzLmlkYnRyYW5zICYmIF90aGlzLmlkYnRyYW5zLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbmRleFNwZWMobmFtZSwga2V5UGF0aCwgdW5pcXVlLCBtdWx0aSwgYXV0bywgY29tcG91bmQsIGlzUHJpbUtleSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGtleVBhdGg6IGtleVBhdGgsXG4gICAgICAgICAgICB1bmlxdWU6IHVuaXF1ZSxcbiAgICAgICAgICAgIG11bHRpOiBtdWx0aSxcbiAgICAgICAgICAgIGF1dG86IGF1dG8sXG4gICAgICAgICAgICBjb21wb3VuZDogY29tcG91bmQsXG4gICAgICAgICAgICBzcmM6ICh1bmlxdWUgJiYgIWlzUHJpbUtleSA/ICcmJyA6ICcnKSArIChtdWx0aSA/ICcqJyA6ICcnKSArIChhdXRvID8gXCIrK1wiIDogXCJcIikgKyBuYW1lRnJvbUtleVBhdGgoa2V5UGF0aClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmFtZUZyb21LZXlQYXRoKGtleVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICBrZXlQYXRoIDpcbiAgICAgICAgICAgIGtleVBhdGggPyAoJ1snICsgW10uam9pbi5jYWxsKGtleVBhdGgsICcrJykgKyAnXScpIDogXCJcIjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVUYWJsZVNjaGVtYShuYW1lLCBwcmltS2V5LCBpbmRleGVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgcHJpbUtleTogcHJpbUtleSxcbiAgICAgICAgICAgIGluZGV4ZXM6IGluZGV4ZXMsXG4gICAgICAgICAgICBtYXBwZWRDbGFzczogbnVsbCxcbiAgICAgICAgICAgIGlkeEJ5TmFtZTogYXJyYXlUb09iamVjdChpbmRleGVzLCBmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIFtpbmRleC5uYW1lLCBpbmRleF07IH0pXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2FmYXJpTXVsdGlTdG9yZUZpeChzdG9yZU5hbWVzKSB7XG4gICAgICAgIHJldHVybiBzdG9yZU5hbWVzLmxlbmd0aCA9PT0gMSA/IHN0b3JlTmFtZXNbMF0gOiBzdG9yZU5hbWVzO1xuICAgIH1cbiAgICB2YXIgZ2V0TWF4S2V5ID0gZnVuY3Rpb24gKElkYktleVJhbmdlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBJZGJLZXlSYW5nZS5vbmx5KFtbXV0pO1xuICAgICAgICAgICAgZ2V0TWF4S2V5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1tdXTsgfTtcbiAgICAgICAgICAgIHJldHVybiBbW11dO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnZXRNYXhLZXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXhTdHJpbmc7IH07XG4gICAgICAgICAgICByZXR1cm4gbWF4U3RyaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldEtleUV4dHJhY3RvcihrZXlQYXRoKSB7XG4gICAgICAgIGlmIChrZXlQYXRoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0U2luZ2xlUGF0aEtleUV4dHJhY3RvcihrZXlQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKTsgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTaW5nbGVQYXRoS2V5RXh0cmFjdG9yKGtleVBhdGgpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0ga2V5UGF0aC5zcGxpdCgnLicpO1xuICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqW2tleVBhdGhdOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIGdldEJ5S2V5UGF0aChvYmosIGtleVBhdGgpOyB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlpZnkoYXJyYXlMaWtlKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGFycmF5TGlrZSk7XG4gICAgfVxuICAgIHZhciBfaWRfY291bnRlciA9IDA7XG4gICAgZnVuY3Rpb24gZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGtleVBhdGggPT0gbnVsbCA/XG4gICAgICAgICAgICBcIjppZFwiIDpcbiAgICAgICAgICAgIHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAga2V5UGF0aCA6XG4gICAgICAgICAgICAgICAgXCJbXCIuY29uY2F0KGtleVBhdGguam9pbignKycpLCBcIl1cIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZURCQ29yZShkYiwgSWRiS2V5UmFuZ2UsIHRtcFRyYW5zKSB7XG4gICAgICAgIGZ1bmN0aW9uIGV4dHJhY3RTY2hlbWEoZGIsIHRyYW5zKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVzID0gYXJyYXlpZnkoZGIub2JqZWN0U3RvcmVOYW1lcyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjaGVtYToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZXM6IHRhYmxlcy5tYXAoZnVuY3Rpb24gKHRhYmxlKSB7IHJldHVybiB0cmFucy5vYmplY3RTdG9yZSh0YWJsZSk7IH0pLm1hcChmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoID0gc3RvcmUua2V5UGF0aCwgYXV0b0luY3JlbWVudCA9IHN0b3JlLmF1dG9JbmNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG91bmQgPSBpc0FycmF5KGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dGJvdW5kID0ga2V5UGF0aCA9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4QnlLZXlQYXRoID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0b3JlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGJvdW5kOiBvdXRib3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG91bmQ6IGNvbXBvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBrZXlQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiBhdXRvSW5jcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RLZXk6IGdldEtleUV4dHJhY3RvcihrZXlQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlczogYXJyYXlpZnkoc3RvcmUuaW5kZXhOYW1lcykubWFwKGZ1bmN0aW9uIChpbmRleE5hbWUpIHsgcmV0dXJuIHN0b3JlLmluZGV4KGluZGV4TmFtZSk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW5kZXgubmFtZSwgdW5pcXVlID0gaW5kZXgudW5pcXVlLCBtdWx0aUVudHJ5ID0gaW5kZXgubXVsdGlFbnRyeSwga2V5UGF0aCA9IGluZGV4LmtleVBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb3VuZCA9IGlzQXJyYXkoa2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG91bmQ6IGNvbXBvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aDoga2V5UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogdW5pcXVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlFbnRyeTogbXVsdGlFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RLZXk6IGdldEtleUV4dHJhY3RvcihrZXlQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEJ5S2V5UGF0aFtnZXRLZXlQYXRoQWxpYXMoa2V5UGF0aCldID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEluZGV4QnlLZXlQYXRoOiBmdW5jdGlvbiAoa2V5UGF0aCkgeyByZXR1cm4gaW5kZXhCeUtleVBhdGhbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4QnlLZXlQYXRoW1wiOmlkXCJdID0gcmVzdWx0LnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhCeUtleVBhdGhbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXSA9IHJlc3VsdC5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhc0dldEFsbDogdGFibGVzLmxlbmd0aCA+IDAgJiYgKCdnZXRBbGwnIGluIHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlc1swXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICEodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIS8oQ2hyb21lXFwvfEVkZ2VcXC8pLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBbXS5jb25jYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpXFwvKFxcZCopLykpWzFdIDwgNjA0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlSURCS2V5UmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS50eXBlID09PSAzIClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmIChyYW5nZS50eXBlID09PSA0IClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCBuZXZlciB0eXBlIHRvIElEQktleVJhbmdlXCIpO1xuICAgICAgICAgICAgdmFyIGxvd2VyID0gcmFuZ2UubG93ZXIsIHVwcGVyID0gcmFuZ2UudXBwZXIsIGxvd2VyT3BlbiA9IHJhbmdlLmxvd2VyT3BlbiwgdXBwZXJPcGVuID0gcmFuZ2UudXBwZXJPcGVuO1xuICAgICAgICAgICAgdmFyIGlkYlJhbmdlID0gbG93ZXIgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgdXBwZXIgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIG51bGwgOlxuICAgICAgICAgICAgICAgICAgICBJZGJLZXlSYW5nZS51cHBlckJvdW5kKHVwcGVyLCAhIXVwcGVyT3BlbikgOlxuICAgICAgICAgICAgICAgIHVwcGVyID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBJZGJLZXlSYW5nZS5sb3dlckJvdW5kKGxvd2VyLCAhIWxvd2VyT3BlbikgOlxuICAgICAgICAgICAgICAgICAgICBJZGJLZXlSYW5nZS5ib3VuZChsb3dlciwgdXBwZXIsICEhbG93ZXJPcGVuLCAhIXVwcGVyT3Blbik7XG4gICAgICAgICAgICByZXR1cm4gaWRiUmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGJDb3JlVGFibGUodGFibGVTY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciB0YWJsZU5hbWUgPSB0YWJsZVNjaGVtYS5uYW1lO1xuICAgICAgICAgICAgZnVuY3Rpb24gbXV0YXRlKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gX2EudHJhbnMsIHR5cGUgPSBfYS50eXBlLCBrZXlzID0gX2Eua2V5cywgdmFsdWVzID0gX2EudmFsdWVzLCByYW5nZSA9IF9hLnJhbmdlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Ym91bmQgPSBzdG9yZS5rZXlQYXRoID09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0FkZE9yUHV0ID0gdHlwZSA9PT0gXCJwdXRcIiB8fCB0eXBlID09PSBcImFkZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWRkT3JQdXQgJiYgdHlwZSAhPT0gJ2RlbGV0ZScgJiYgdHlwZSAhPT0gJ2RlbGV0ZVJhbmdlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3BlcmF0aW9uIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSAoa2V5cyB8fCB2YWx1ZXMgfHwgeyBsZW5ndGg6IDEgfSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cyAmJiB2YWx1ZXMgJiYga2V5cy5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdpdmVuIGtleXMgYXJyYXkgbXVzdCBoYXZlIHNhbWUgbGVuZ3RoIGFzIGdpdmVuIHZhbHVlcyBhcnJheS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgbnVtRmFpbHVyZXM6IDAsIGZhaWx1cmVzOiB7fSwgcmVzdWx0czogW10sIGxhc3RSZXN1bHQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrbnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZGVsZXRlUmFuZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gNCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoeyBudW1GYWlsdXJlczogbnVtRmFpbHVyZXMsIGZhaWx1cmVzOiBmYWlsdXJlcywgcmVzdWx0czogW10sIGxhc3RSZXN1bHQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS50eXBlID09PSAzIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFzLnB1c2gocmVxID0gc3RvcmUuY2xlYXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IHN0b3JlLmRlbGV0ZShtYWtlSURCS2V5UmFuZ2UocmFuZ2UpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBpc0FkZE9yUHV0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRib3VuZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZXMsIGtleXNdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlcywgbnVsbF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtrZXlzLCBudWxsXSwgYXJnczEgPSBfYVswXSwgYXJnczIgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FkZE9yUHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFzLnB1c2gocmVxID0gKGFyZ3MyICYmIGFyZ3MyW2ldICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbdHlwZV0oYXJnczFbaV0sIGFyZ3MyW2ldKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVt0eXBlXShhcmdzMVtpXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFzLnB1c2gocmVxID0gc3RvcmVbdHlwZV0oYXJnczFbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFJlc3VsdCA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXFzLmZvckVhY2goZnVuY3Rpb24gKHJlcSwgaSkgeyByZXR1cm4gcmVxLmVycm9yICE9IG51bGwgJiYgKGZhaWx1cmVzW2ldID0gcmVxLmVycm9yKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1GYWlsdXJlczogbnVtRmFpbHVyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZXM6IGZhaWx1cmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHR5cGUgPT09IFwiZGVsZXRlXCIgPyBrZXlzIDogcmVxcy5tYXAoZnVuY3Rpb24gKHJlcSkgeyByZXR1cm4gcmVxLnJlc3VsdDsgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3VsdDogbGFzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBkb25lO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb3BlbkN1cnNvcihfYSkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IF9hLnRyYW5zLCB2YWx1ZXMgPSBfYS52YWx1ZXMsIHF1ZXJ5ID0gX2EucXVlcnksIHJldmVyc2UgPSBfYS5yZXZlcnNlLCB1bmlxdWUgPSBfYS51bmlxdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHF1ZXJ5LmluZGV4LCByYW5nZSA9IHF1ZXJ5LnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gaW5kZXguaXNQcmltYXJ5S2V5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmluZGV4KGluZGV4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gcmV2ZXJzZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldnVuaXF1ZVwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmV4dHVuaXF1ZVwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5leHRcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHZhbHVlcyB8fCAhKCdvcGVuS2V5Q3Vyc29yJyBpbiBzb3VyY2UpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuQ3Vyc29yKG1ha2VJREJLZXlSYW5nZShyYW5nZSksIGRpcmVjdGlvbikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLm9wZW5LZXlDdXJzb3IobWFrZUlEQktleVJhbmdlKHJhbmdlKSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuX19faWQgPSArK19pZF9jb3VudGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3Vyc29yQ29udGludWUgPSBjdXJzb3IuY29udGludWUuYmluZChjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkgPSBjdXJzb3IuY29udGludWVQcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N1cnNvckNvbnRpbnVlUHJpbWFyeUtleSA9IF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkuYmluZChjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jdXJzb3JBZHZhbmNlID0gY3Vyc29yLmFkdmFuY2UuYmluZChjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvVGhyb3dDdXJzb3JJc05vdFN0YXJ0ZWQgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcihcIkN1cnNvciBub3Qgc3RhcnRlZFwiKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb1Rocm93Q3Vyc29ySXNTdG9wcGVkID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDdXJzb3Igbm90IHN0b3BwZWRcIik7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IudHJhbnMgPSB0cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdG9wID0gY3Vyc29yLmNvbnRpbnVlID0gY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleSA9IGN1cnNvci5hZHZhbmNlID0gZG9UaHJvd0N1cnNvcklzTm90U3RhcnRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5mYWlsID0gd3JhcChyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ290T25lID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydChmdW5jdGlvbiAoKSB7IHJldHVybiBnb3RPbmUtLSA/IF90aGlzLmNvbnRpbnVlKCkgOiBfdGhpcy5zdG9wKCk7IH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXM7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdGFydCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVyYXRpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmVJdGVyYXRpb24sIHJlamVjdEl0ZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlSXRlcmF0aW9uID0gd3JhcChyZXNvbHZlSXRlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0SXRlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmZhaWwgPSByZWplY3RJdGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdG9wID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCA9IGN1cnNvci5jb250aW51ZSA9IGN1cnNvci5jb250aW51ZVByaW1hcnlLZXkgPSBjdXJzb3IuYWR2YW5jZSA9IGRvVGhyb3dDdXJzb3JJc1N0b3BwZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlSXRlcmF0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3VhcmRlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5mYWlsKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RhcnQgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcihcIkN1cnNvciBiZWhpbmQgbGFzdCBlbnRyeVwiKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZ3VhcmRlZENhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUgPSBfY3Vyc29yQ29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleSA9IF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmFkdmFuY2UgPSBfY3Vyc29yQWR2YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0aW9uUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBxdWVyeShoYXNHZXRBbGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gcmVxdWVzdC50cmFucywgdmFsdWVzID0gcmVxdWVzdC52YWx1ZXMsIGxpbWl0ID0gcmVxdWVzdC5saW1pdCwgcXVlcnkgPSByZXF1ZXN0LnF1ZXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vbkluZmluaXRMaW1pdCA9IGxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IGxpbWl0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcXVlcnkuaW5kZXgsIHJhbmdlID0gcXVlcnkucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGluZGV4LmlzUHJpbWFyeUtleSA/IHN0b3JlIDogc3RvcmUuaW5kZXgoaW5kZXgubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRiS2V5UmFuZ2UgPSBtYWtlSURCS2V5UmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbWl0ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgcmVzdWx0OiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNHZXRBbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gdmFsdWVzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLmdldEFsbChpZGJLZXlSYW5nZSwgbm9uSW5maW5pdExpbWl0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5nZXRBbGxLZXlzKGlkYktleVJhbmdlLCBub25JbmZpbml0TGltaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIHJlc29sdmUoeyByZXN1bHQ6IGV2ZW50LnRhcmdldC5yZXN1bHQgfSk7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudF8xID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxXzEgPSB2YWx1ZXMgfHwgISgnb3BlbktleUN1cnNvcicgaW4gc291cmNlKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuQ3Vyc29yKGlkYktleVJhbmdlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuS2V5Q3Vyc29yKGlkYktleVJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0XzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFfMS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcV8xLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHJlc3VsdDogcmVzdWx0XzEgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdF8xLnB1c2godmFsdWVzID8gY3Vyc29yLnZhbHVlIDogY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytjb3VudF8xID09PSBsaW1pdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgcmVzdWx0OiByZXN1bHRfMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFfMS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRhYmxlTmFtZSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHRhYmxlU2NoZW1hLFxuICAgICAgICAgICAgICAgIG11dGF0ZTogbXV0YXRlLFxuICAgICAgICAgICAgICAgIGdldE1hbnk6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBfYS50cmFucywga2V5cyA9IF9hLmtleXM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChyZXN1bHRbcmVxLl9wb3NdID0gcmVxLnJlc3VsdCkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgrK2NhbGxiYWNrQ291bnQgPT09IGtleUNvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9ySGFuZGxlciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSBzdG9yZS5nZXQoa2V5c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5fcG9zID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHN1Y2Nlc3NIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGVycm9ySGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytrZXlDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5Q291bnQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IF9hLnRyYW5zLCBrZXkgPSBfYS5rZXk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkoaGFzR2V0QWxsKSxcbiAgICAgICAgICAgICAgICBvcGVuQ3Vyc29yOiBvcGVuQ3Vyc29yLFxuICAgICAgICAgICAgICAgIGNvdW50OiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gX2EucXVlcnksIHRyYW5zID0gX2EudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHF1ZXJ5LmluZGV4LCByYW5nZSA9IHF1ZXJ5LnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBpbmRleC5pc1ByaW1hcnlLZXkgPyBzdG9yZSA6IHN0b3JlLmluZGV4KGluZGV4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkYktleVJhbmdlID0gbWFrZUlEQktleVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBpZGJLZXlSYW5nZSA/IHNvdXJjZS5jb3VudChpZGJLZXlSYW5nZSkgOiBzb3VyY2UuY291bnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uIChldikgeyByZXR1cm4gcmVzb2x2ZShldi50YXJnZXQucmVzdWx0KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGV4dHJhY3RTY2hlbWEoZGIsIHRtcFRyYW5zKSwgc2NoZW1hID0gX2Euc2NoZW1hLCBoYXNHZXRBbGwgPSBfYS5oYXNHZXRBbGw7XG4gICAgICAgIHZhciB0YWJsZXMgPSBzY2hlbWEudGFibGVzLm1hcChmdW5jdGlvbiAodGFibGVTY2hlbWEpIHsgcmV0dXJuIGNyZWF0ZURiQ29yZVRhYmxlKHRhYmxlU2NoZW1hKTsgfSk7XG4gICAgICAgIHZhciB0YWJsZU1hcCA9IHt9O1xuICAgICAgICB0YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHsgcmV0dXJuIHRhYmxlTWFwW3RhYmxlLm5hbWVdID0gdGFibGU7IH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgICAgICB0cmFuc2FjdGlvbjogZGIudHJhbnNhY3Rpb24uYmluZChkYiksXG4gICAgICAgICAgICB0YWJsZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFibGVNYXBbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRhYmxlICdcIi5jb25jYXQobmFtZSwgXCInIG5vdCBmb3VuZFwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlTWFwW25hbWVdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE1JTl9LRVk6IC1JbmZpbml0eSxcbiAgICAgICAgICAgIE1BWF9LRVk6IGdldE1heEtleShJZGJLZXlSYW5nZSksXG4gICAgICAgICAgICBzY2hlbWE6IHNjaGVtYVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1pZGRsZXdhcmVTdGFjayhzdGFja0ltcGwsIG1pZGRsZXdhcmVzKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlcy5yZWR1Y2UoZnVuY3Rpb24gKGRvd24sIF9hKSB7XG4gICAgICAgICAgICB2YXIgY3JlYXRlID0gX2EuY3JlYXRlO1xuICAgICAgICAgICAgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93biksIGNyZWF0ZShkb3duKSkpO1xuICAgICAgICB9LCBzdGFja0ltcGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNaWRkbGV3YXJlU3RhY2tzKG1pZGRsZXdhcmVzLCBpZGJkYiwgX2EsIHRtcFRyYW5zKSB7XG4gICAgICAgIHZhciBJREJLZXlSYW5nZSA9IF9hLklEQktleVJhbmdlOyBfYS5pbmRleGVkREI7XG4gICAgICAgIHZhciBkYmNvcmUgPSBjcmVhdGVNaWRkbGV3YXJlU3RhY2soY3JlYXRlREJDb3JlKGlkYmRiLCBJREJLZXlSYW5nZSwgdG1wVHJhbnMpLCBtaWRkbGV3YXJlcy5kYmNvcmUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGJjb3JlOiBkYmNvcmVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLCB0bXBUcmFucykge1xuICAgICAgICB2YXIgaWRiZGIgPSB0bXBUcmFucy5kYjtcbiAgICAgICAgdmFyIHN0YWNrcyA9IGNyZWF0ZU1pZGRsZXdhcmVTdGFja3MoZGIuX21pZGRsZXdhcmVzLCBpZGJkYiwgZGIuX2RlcHMsIHRtcFRyYW5zKTtcbiAgICAgICAgZGIuY29yZSA9IHN0YWNrcy5kYmNvcmU7XG4gICAgICAgIGRiLnRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgdmFyIHRhYmxlTmFtZSA9IHRhYmxlLm5hbWU7XG4gICAgICAgICAgICBpZiAoZGIuY29yZS5zY2hlbWEudGFibGVzLnNvbWUoZnVuY3Rpb24gKHRibCkgeyByZXR1cm4gdGJsLm5hbWUgPT09IHRhYmxlTmFtZTsgfSkpIHtcbiAgICAgICAgICAgICAgICB0YWJsZS5jb3JlID0gZGIuY29yZS50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChkYlt0YWJsZU5hbWVdIGluc3RhbmNlb2YgZGIuVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGJbdGFibGVOYW1lXS5jb3JlID0gdGFibGUuY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEFwaU9uUGxhY2UoZGIsIG9ianMsIHRhYmxlTmFtZXMsIGRic2NoZW1hKSB7XG4gICAgICAgIHRhYmxlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1hID0gZGJzY2hlbWFbdGFibGVOYW1lXTtcbiAgICAgICAgICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BEZXNjID0gZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgdGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BEZXNjIHx8IChcInZhbHVlXCIgaW4gcHJvcERlc2MgJiYgcHJvcERlc2MudmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iaiA9PT0gZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlIHx8IG9iaiBpbnN0YW5jZW9mIGRiLlRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKG9iaiwgdGFibGVOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnRhYmxlKHRhYmxlTmFtZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgdGFibGVOYW1lLCB7IHZhbHVlOiB2YWx1ZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialt0YWJsZU5hbWVdID0gbmV3IGRiLlRhYmxlKHRhYmxlTmFtZSwgc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlVGFibGVzQXBpKGRiLCBvYmpzKSB7XG4gICAgICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9ialtrZXldIGluc3RhbmNlb2YgZGIuVGFibGUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvd2VyVmVyc2lvbkZpcnN0KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuX2NmZy52ZXJzaW9uIC0gYi5fY2ZnLnZlcnNpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1blVwZ3JhZGVycyhkYiwgb2xkVmVyc2lvbiwgaWRiVXBncmFkZVRyYW5zLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYTtcbiAgICAgICAgaWYgKGlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCckbWV0YScpICYmICFnbG9iYWxTY2hlbWEuJG1ldGEpIHtcbiAgICAgICAgICAgIGdsb2JhbFNjaGVtYS4kbWV0YSA9IGNyZWF0ZVRhYmxlU2NoZW1hKFwiJG1ldGFcIiwgcGFyc2VJbmRleFN5bnRheChcIlwiKVswXSwgW10pO1xuICAgICAgICAgICAgZGIuX3N0b3JlTmFtZXMucHVzaCgnJG1ldGEnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnMgPSBkYi5fY3JlYXRlVHJhbnNhY3Rpb24oJ3JlYWR3cml0ZScsIGRiLl9zdG9yZU5hbWVzLCBnbG9iYWxTY2hlbWEpO1xuICAgICAgICB0cmFucy5jcmVhdGUoaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgdHJhbnMuX2NvbXBsZXRpb24uY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgdmFyIHJlamVjdFRyYW5zYWN0aW9uID0gdHJhbnMuX3JlamVjdC5iaW5kKHRyYW5zKTtcbiAgICAgICAgdmFyIHRyYW5zbGVzcyA9IFBTRC50cmFuc2xlc3MgfHwgUFNEO1xuICAgICAgICBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBQU0QudHJhbnMgPSB0cmFucztcbiAgICAgICAgICAgIFBTRC50cmFuc2xlc3MgPSB0cmFuc2xlc3M7XG4gICAgICAgICAgICBpZiAob2xkVmVyc2lvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGtleXMoZ2xvYmFsU2NoZW1hKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGFibGUoaWRiVXBncmFkZVRyYW5zLCB0YWJsZU5hbWUsIGdsb2JhbFNjaGVtYVt0YWJsZU5hbWVdLnByaW1LZXksIGdsb2JhbFNjaGVtYVt0YWJsZU5hbWVdLmluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UuZm9sbG93KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRiLm9uLnBvcHVsYXRlLmZpcmUodHJhbnMpOyB9KS5jYXRjaChyZWplY3RUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEV4aXN0aW5nVmVyc2lvbihkYiwgdHJhbnMsIG9sZFZlcnNpb24pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChvbGRWZXJzaW9uKSB7IHJldHVybiB1cGRhdGVUYWJsZXNBbmRJbmRleGVzKGRiLCBvbGRWZXJzaW9uLCB0cmFucywgaWRiVXBncmFkZVRyYW5zKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdFRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhdGNoQ3VycmVudFZlcnNpb24oZGIsIGlkYlVwZ3JhZGVUcmFucykge1xuICAgICAgICBjcmVhdGVNaXNzaW5nVGFibGVzKGRiLl9kYlNjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgaWYgKGlkYlVwZ3JhZGVUcmFucy5kYi52ZXJzaW9uICUgMTAgPT09IDAgJiYgIWlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCckbWV0YScpKSB7XG4gICAgICAgICAgICBpZGJVcGdyYWRlVHJhbnMuZGIuY3JlYXRlT2JqZWN0U3RvcmUoJyRtZXRhJykuYWRkKE1hdGguY2VpbCgoaWRiVXBncmFkZVRyYW5zLmRiLnZlcnNpb24gLyAxMCkgLSAxKSwgJ3ZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2xvYmFsU2NoZW1hID0gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGRiLmlkYmRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgZGIuX2RiU2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICB2YXIgZGlmZiA9IGdldFNjaGVtYURpZmYoZ2xvYmFsU2NoZW1hLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICh0YWJsZUNoYW5nZSkge1xuICAgICAgICAgICAgaWYgKHRhYmxlQ2hhbmdlLmNoYW5nZS5sZW5ndGggfHwgdGFibGVDaGFuZ2UucmVjcmVhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gcGF0Y2ggaW5kZXhlcyBvZiB0YWJsZSBcIi5jb25jYXQodGFibGVDaGFuZ2UubmFtZSwgXCIgYmVjYXVzZSBpdCBoYXMgY2hhbmdlcyBvbiB0aGUgdHlwZSBvZiBpbmRleCBvciBwcmltYXJ5IGtleS5cIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2b2lkIDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdG9yZSA9IGlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZSh0YWJsZUNoYW5nZS5uYW1lKTtcbiAgICAgICAgICAgIHRhYmxlQ2hhbmdlLmFkZC5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJEZXhpZSB1cGdyYWRlIHBhdGNoOiBDcmVhdGluZyBtaXNzaW5nIGluZGV4IFwiLmNvbmNhdCh0YWJsZUNoYW5nZS5uYW1lLCBcIi5cIikuY29uY2F0KGlkeC5zcmMpKTtcbiAgICAgICAgICAgICAgICBhZGRJbmRleChzdG9yZSwgaWR4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gZGlmZi5jaGFuZ2U7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVDaGFuZ2UgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEodGFibGVDaGFuZ2UpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZV8xID09PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZV8xLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV4aXN0aW5nVmVyc2lvbihkYiwgdHJhbnMsIG9sZFZlcnNpb24pIHtcbiAgICAgICAgaWYgKHRyYW5zLnN0b3JlTmFtZXMuaW5jbHVkZXMoJyRtZXRhJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFucy50YWJsZSgnJG1ldGEnKS5nZXQoJ3ZlcnNpb24nKS50aGVuKGZ1bmN0aW9uIChtZXRhVmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXRhVmVyc2lvbiAhPSBudWxsID8gbWV0YVZlcnNpb24gOiBvbGRWZXJzaW9uO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUob2xkVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVGFibGVzQW5kSW5kZXhlcyhkYiwgb2xkVmVyc2lvbiwgdHJhbnMsIGlkYlVwZ3JhZGVUcmFucykge1xuICAgICAgICB2YXIgcXVldWUgPSBbXTtcbiAgICAgICAgdmFyIHZlcnNpb25zID0gZGIuX3ZlcnNpb25zO1xuICAgICAgICB2YXIgZ2xvYmFsU2NoZW1hID0gZGIuX2RiU2NoZW1hID0gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGRiLmlkYmRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICB2YXIgdmVyc1RvUnVuID0gdmVyc2lvbnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Ll9jZmcudmVyc2lvbiA+PSBvbGRWZXJzaW9uOyB9KTtcbiAgICAgICAgaWYgKHZlcnNUb1J1bi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnNUb1J1bi5mb3JFYWNoKGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkU2NoZW1hID0gZ2xvYmFsU2NoZW1hO1xuICAgICAgICAgICAgICAgIHZhciBuZXdTY2hlbWEgPSB2ZXJzaW9uLl9jZmcuZGJzY2hlbWE7XG4gICAgICAgICAgICAgICAgYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIG9sZFNjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgbmV3U2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICAgICAgICAgIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYSA9IG5ld1NjaGVtYTtcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IGdldFNjaGVtYURpZmYob2xkU2NoZW1hLCBuZXdTY2hlbWEpO1xuICAgICAgICAgICAgICAgIGRpZmYuYWRkLmZvckVhY2goZnVuY3Rpb24gKHR1cGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYmxlKGlkYlVwZ3JhZGVUcmFucywgdHVwbGVbMF0sIHR1cGxlWzFdLnByaW1LZXksIHR1cGxlWzFdLmluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRpZmYuY2hhbmdlLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlLnJlY3JlYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5VcGdyYWRlKFwiTm90IHlldCBzdXBwb3J0IGZvciBjaGFuZ2luZyBwcmltYXJ5IGtleVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZV8xID0gaWRiVXBncmFkZVRyYW5zLm9iamVjdFN0b3JlKGNoYW5nZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5hZGQuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7IHJldHVybiBhZGRJbmRleChzdG9yZV8xLCBpZHgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVfMS5kZWxldGVJbmRleChpZHgubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkSW5kZXgoc3RvcmVfMSwgaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmRlbC5mb3JFYWNoKGZ1bmN0aW9uIChpZHhOYW1lKSB7IHJldHVybiBzdG9yZV8xLmRlbGV0ZUluZGV4KGlkeE5hbWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50VXBncmFkZSA9IHZlcnNpb24uX2NmZy5jb250ZW50VXBncmFkZTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudFVwZ3JhZGUgJiYgdmVyc2lvbi5fY2ZnLnZlcnNpb24gPiBvbGRWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuX21lbW9pemVkVGFibGVzID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGdyYWRlU2NoZW1hXzEgPSBzaGFsbG93Q2xvbmUobmV3U2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgZGlmZi5kZWwuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVTY2hlbWFfMVt0YWJsZV0gPSBvbGRTY2hlbWFbdGFibGVdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGFibGVzQXBpKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFwaU9uUGxhY2UoZGIsIFtkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdLCBrZXlzKHVwZ3JhZGVTY2hlbWFfMSksIHVwZ3JhZGVTY2hlbWFfMSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLnNjaGVtYSA9IHVwZ3JhZGVTY2hlbWFfMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRVcGdyYWRlSXNBc3luY18xID0gaXNBc3luY0Z1bmN0aW9uKGNvbnRlbnRVcGdyYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRVcGdyYWRlSXNBc3luY18xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZV8xO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZUZvbGxvd2VkID0gRGV4aWVQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZV8xID0gY29udGVudFVwZ3JhZGUodHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFVwZ3JhZGVJc0FzeW5jXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY3JlbWVudG9yID0gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMuYmluZChudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWVfMS50aGVuKGRlY3JlbWVudG9yLCBkZWNyZW1lbnRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChyZXR1cm5WYWx1ZV8xICYmIHR5cGVvZiByZXR1cm5WYWx1ZV8xLnRoZW4gPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUocmV0dXJuVmFsdWVfMSkgOiBwcm9taXNlRm9sbG93ZWQudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXR1cm5WYWx1ZV8xOyB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uIChpZGJ0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBuZXdTY2hlbWEgPSB2ZXJzaW9uLl9jZmcuZGJzY2hlbWE7XG4gICAgICAgICAgICAgICAgZGVsZXRlUmVtb3ZlZFRhYmxlcyhuZXdTY2hlbWEsIGlkYnRyYW5zKTtcbiAgICAgICAgICAgICAgICByZW1vdmVUYWJsZXNBcGkoZGIsIFtkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdKTtcbiAgICAgICAgICAgICAgICBzZXRBcGlPblBsYWNlKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSwgZGIuX3N0b3JlTmFtZXMsIGRiLl9kYlNjaGVtYSk7XG4gICAgICAgICAgICAgICAgdHJhbnMuc2NoZW1hID0gZGIuX2RiU2NoZW1hO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uIChpZGJ0cmFucykge1xuICAgICAgICAgICAgICAgIGlmIChkYi5pZGJkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCckbWV0YScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmNlaWwoZGIuaWRiZGIudmVyc2lvbiAvIDEwKSA9PT0gdmVyc2lvbi5fY2ZnLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmlkYmRiLmRlbGV0ZU9iamVjdFN0b3JlKCckbWV0YScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRiLl9kYlNjaGVtYS4kbWV0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLl9zdG9yZU5hbWVzID0gZGIuX3N0b3JlTmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBuYW1lICE9PSAnJG1ldGEnOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLm9iamVjdFN0b3JlKCckbWV0YScpLnB1dCh2ZXJzaW9uLl9jZmcudmVyc2lvbiwgJ3ZlcnNpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gcnVuUXVldWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVldWUubGVuZ3RoID8gRGV4aWVQcm9taXNlLnJlc29sdmUocXVldWUuc2hpZnQoKSh0cmFucy5pZGJ0cmFucykpLnRoZW4ocnVuUXVldWUpIDpcbiAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5RdWV1ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3JlYXRlTWlzc2luZ1RhYmxlcyhnbG9iYWxTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTY2hlbWFEaWZmKG9sZFNjaGVtYSwgbmV3U2NoZW1hKSB7XG4gICAgICAgIHZhciBkaWZmID0ge1xuICAgICAgICAgICAgZGVsOiBbXSxcbiAgICAgICAgICAgIGFkZDogW10sXG4gICAgICAgICAgICBjaGFuZ2U6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHZhciB0YWJsZTtcbiAgICAgICAgZm9yICh0YWJsZSBpbiBvbGRTY2hlbWEpIHtcbiAgICAgICAgICAgIGlmICghbmV3U2NoZW1hW3RhYmxlXSlcbiAgICAgICAgICAgICAgICBkaWZmLmRlbC5wdXNoKHRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHRhYmxlIGluIG5ld1NjaGVtYSkge1xuICAgICAgICAgICAgdmFyIG9sZERlZiA9IG9sZFNjaGVtYVt0YWJsZV0sIG5ld0RlZiA9IG5ld1NjaGVtYVt0YWJsZV07XG4gICAgICAgICAgICBpZiAoIW9sZERlZikge1xuICAgICAgICAgICAgICAgIGRpZmYuYWRkLnB1c2goW3RhYmxlLCBuZXdEZWZdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICBkZWY6IG5ld0RlZixcbiAgICAgICAgICAgICAgICAgICAgcmVjcmVhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkZWw6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhZGQ6IFtdLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IFtdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoKFxuICAgICAgICAgICAgICAgICcnICsgKG9sZERlZi5wcmltS2V5LmtleVBhdGggfHwgJycpKSAhPT0gKCcnICsgKG5ld0RlZi5wcmltS2V5LmtleVBhdGggfHwgJycpKSB8fFxuICAgICAgICAgICAgICAgICAgICAob2xkRGVmLnByaW1LZXkuYXV0byAhPT0gbmV3RGVmLnByaW1LZXkuYXV0bykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlLnJlY3JlYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGlmZi5jaGFuZ2UucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEluZGV4ZXMgPSBvbGREZWYuaWR4QnlOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW5kZXhlcyA9IG5ld0RlZi5pZHhCeU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHhOYW1lID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGlkeE5hbWUgaW4gb2xkSW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdJbmRleGVzW2lkeE5hbWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5kZWwucHVzaChpZHhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGlkeE5hbWUgaW4gbmV3SW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZElkeCA9IG9sZEluZGV4ZXNbaWR4TmFtZV0sIG5ld0lkeCA9IG5ld0luZGV4ZXNbaWR4TmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9sZElkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuYWRkLnB1c2gobmV3SWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZElkeC5zcmMgIT09IG5ld0lkeC5zcmMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmNoYW5nZS5wdXNoKG5ld0lkeCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS5kZWwubGVuZ3RoID4gMCB8fCBjaGFuZ2UuYWRkLmxlbmd0aCA+IDAgfHwgY2hhbmdlLmNoYW5nZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmLmNoYW5nZS5wdXNoKGNoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlKGlkYnRyYW5zLCB0YWJsZU5hbWUsIHByaW1LZXksIGluZGV4ZXMpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gaWRidHJhbnMuZGIuY3JlYXRlT2JqZWN0U3RvcmUodGFibGVOYW1lLCBwcmltS2V5LmtleVBhdGggP1xuICAgICAgICAgICAgeyBrZXlQYXRoOiBwcmltS2V5LmtleVBhdGgsIGF1dG9JbmNyZW1lbnQ6IHByaW1LZXkuYXV0byB9IDpcbiAgICAgICAgICAgIHsgYXV0b0luY3JlbWVudDogcHJpbUtleS5hdXRvIH0pO1xuICAgICAgICBpbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gYWRkSW5kZXgoc3RvcmUsIGlkeCk7IH0pO1xuICAgICAgICByZXR1cm4gc3RvcmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1pc3NpbmdUYWJsZXMobmV3U2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICBrZXlzKG5ld1NjaGVtYSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnModGFibGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRGV4aWU6IENyZWF0aW5nIG1pc3NpbmcgdGFibGUnLCB0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVRhYmxlKGlkYnRyYW5zLCB0YWJsZU5hbWUsIG5ld1NjaGVtYVt0YWJsZU5hbWVdLnByaW1LZXksIG5ld1NjaGVtYVt0YWJsZU5hbWVdLmluZGV4ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlUmVtb3ZlZFRhYmxlcyhuZXdTY2hlbWEsIGlkYnRyYW5zKSB7XG4gICAgICAgIFtdLnNsaWNlLmNhbGwoaWRidHJhbnMuZGIub2JqZWN0U3RvcmVOYW1lcykuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3U2NoZW1hW3N0b3JlTmFtZV0gPT0gbnVsbCAmJiBpZGJ0cmFucy5kYi5kZWxldGVPYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkSW5kZXgoc3RvcmUsIGlkeCkge1xuICAgICAgICBzdG9yZS5jcmVhdGVJbmRleChpZHgubmFtZSwgaWR4LmtleVBhdGgsIHsgdW5pcXVlOiBpZHgudW5pcXVlLCBtdWx0aUVudHJ5OiBpZHgubXVsdGkgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBpZGJkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IHt9O1xuICAgICAgICB2YXIgZGJTdG9yZU5hbWVzID0gc2xpY2UoaWRiZGIub2JqZWN0U3RvcmVOYW1lcywgMCk7XG4gICAgICAgIGRiU3RvcmVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IHRtcFRyYW5zLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgICB2YXIga2V5UGF0aCA9IHN0b3JlLmtleVBhdGg7XG4gICAgICAgICAgICB2YXIgcHJpbUtleSA9IGNyZWF0ZUluZGV4U3BlYyhuYW1lRnJvbUtleVBhdGgoa2V5UGF0aCksIGtleVBhdGggfHwgXCJcIiwgdHJ1ZSwgZmFsc2UsICEhc3RvcmUuYXV0b0luY3JlbWVudCwga2V5UGF0aCAmJiB0eXBlb2Yga2V5UGF0aCAhPT0gXCJzdHJpbmdcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdG9yZS5pbmRleE5hbWVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkYmluZGV4ID0gc3RvcmUuaW5kZXgoc3RvcmUuaW5kZXhOYW1lc1tqXSk7XG4gICAgICAgICAgICAgICAga2V5UGF0aCA9IGlkYmluZGV4LmtleVBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gY3JlYXRlSW5kZXhTcGVjKGlkYmluZGV4Lm5hbWUsIGtleVBhdGgsICEhaWRiaW5kZXgudW5pcXVlLCAhIWlkYmluZGV4Lm11bHRpRW50cnksIGZhbHNlLCBrZXlQYXRoICYmIHR5cGVvZiBrZXlQYXRoICE9PSBcInN0cmluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsb2JhbFNjaGVtYVtzdG9yZU5hbWVdID0gY3JlYXRlVGFibGVTY2hlbWEoc3RvcmVOYW1lLCBwcmltS2V5LCBpbmRleGVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBnbG9iYWxTY2hlbWE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRHbG9iYWxTY2hlbWEoZGIsIGlkYmRiLCB0bXBUcmFucykge1xuICAgICAgICBkYi52ZXJubyA9IGlkYmRiLnZlcnNpb24gLyAxMDtcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBpZGJkYiwgdG1wVHJhbnMpO1xuICAgICAgICBkYi5fc3RvcmVOYW1lcyA9IHNsaWNlKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMsIDApO1xuICAgICAgICBzZXRBcGlPblBsYWNlKGRiLCBbZGIuX2FsbFRhYmxlc10sIGtleXMoZ2xvYmFsU2NoZW1hKSwgZ2xvYmFsU2NoZW1hKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5SW5zdGFsbGVkU2NoZW1hKGRiLCB0bXBUcmFucykge1xuICAgICAgICB2YXIgaW5zdGFsbGVkU2NoZW1hID0gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGRiLmlkYmRiLCB0bXBUcmFucyk7XG4gICAgICAgIHZhciBkaWZmID0gZ2V0U2NoZW1hRGlmZihpbnN0YWxsZWRTY2hlbWEsIGRiLl9kYlNjaGVtYSk7XG4gICAgICAgIHJldHVybiAhKGRpZmYuYWRkLmxlbmd0aCB8fCBkaWZmLmNoYW5nZS5zb21lKGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gY2guYWRkLmxlbmd0aCB8fCBjaC5jaGFuZ2UubGVuZ3RoOyB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkanVzdFRvRXhpc3RpbmdJbmRleE5hbWVzKGRiLCBzY2hlbWEsIGlkYnRyYW5zKSB7XG4gICAgICAgIHZhciBzdG9yZU5hbWVzID0gaWRidHJhbnMuZGIub2JqZWN0U3RvcmVOYW1lcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdG9yZU5hbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3RvcmVOYW1lID0gc3RvcmVOYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IGlkYnRyYW5zLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgICBkYi5faGFzR2V0QWxsID0gJ2dldEFsbCcgaW4gc3RvcmU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0b3JlLmluZGV4TmFtZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhOYW1lID0gc3RvcmUuaW5kZXhOYW1lc1tqXTtcbiAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IHN0b3JlLmluZGV4KGluZGV4TmFtZSkua2V5UGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgZGV4aWVOYW1lID0gdHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnID8ga2V5UGF0aCA6IFwiW1wiICsgc2xpY2Uoa2V5UGF0aCkuam9pbignKycpICsgXCJdXCI7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYVtzdG9yZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleFNwZWMgPSBzY2hlbWFbc3RvcmVOYW1lXS5pZHhCeU5hbWVbZGV4aWVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4U3BlYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhTcGVjLm5hbWUgPSBpbmRleE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hW3N0b3JlTmFtZV0uaWR4QnlOYW1lW2RleGllTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFbc3RvcmVOYW1lXS5pZHhCeU5hbWVbaW5kZXhOYW1lXSA9IGluZGV4U3BlYztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgIS8oQ2hyb21lXFwvfEVkZ2VcXC8pLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICBfZ2xvYmFsLldvcmtlckdsb2JhbFNjb3BlICYmIF9nbG9iYWwgaW5zdGFuY2VvZiBfZ2xvYmFsLldvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgICAgICAgICBbXS5jb25jYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpXFwvKFxcZCopLykpWzFdIDwgNjA0KSB7XG4gICAgICAgICAgICBkYi5faGFzR2V0QWxsID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VJbmRleFN5bnRheChwcmltS2V5QW5kSW5kZXhlcykge1xuICAgICAgICByZXR1cm4gcHJpbUtleUFuZEluZGV4ZXMuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKGluZGV4LCBpbmRleE51bSkge1xuICAgICAgICAgICAgaW5kZXggPSBpbmRleC50cmltKCk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGluZGV4LnJlcGxhY2UoLyhbJipdfFxcK1xcKykvZywgXCJcIik7XG4gICAgICAgICAgICB2YXIga2V5UGF0aCA9IC9eXFxbLy50ZXN0KG5hbWUpID8gbmFtZS5tYXRjaCgvXlxcWyguKilcXF0kLylbMV0uc3BsaXQoJysnKSA6IG5hbWU7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5kZXhTcGVjKG5hbWUsIGtleVBhdGggfHwgbnVsbCwgL1xcJi8udGVzdChpbmRleCksIC9cXCovLnRlc3QoaW5kZXgpLCAvXFwrXFwrLy50ZXN0KGluZGV4KSwgaXNBcnJheShrZXlQYXRoKSwgaW5kZXhOdW0gPT09IDApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgVmVyc2lvbiA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBWZXJzaW9uKCkge1xuICAgICAgICB9XG4gICAgICAgIFZlcnNpb24ucHJvdG90eXBlLl9wYXJzZVN0b3Jlc1NwZWMgPSBmdW5jdGlvbiAoc3RvcmVzLCBvdXRTY2hlbWEpIHtcbiAgICAgICAgICAgIGtleXMoc3RvcmVzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcmVzW3RhYmxlTmFtZV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSBwYXJzZUluZGV4U3ludGF4KHN0b3Jlc1t0YWJsZU5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1LZXkgPSBpbmRleGVzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHByaW1LZXkudW5pcXVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1LZXkubXVsdGkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJQcmltYXJ5IGtleSBjYW5ub3QgYmUgbXVsdGktdmFsdWVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeC5hdXRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIk9ubHkgcHJpbWFyeSBrZXkgY2FuIGJlIG1hcmtlZCBhcyBhdXRvSW5jcmVtZW50ICgrKylcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlkeC5rZXlQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIkluZGV4IG11c3QgaGF2ZSBhIG5hbWUgYW5kIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBvdXRTY2hlbWFbdGFibGVOYW1lXSA9IGNyZWF0ZVRhYmxlU2NoZW1hKHRhYmxlTmFtZSwgcHJpbUtleSwgaW5kZXhlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFZlcnNpb24ucHJvdG90eXBlLnN0b3JlcyA9IGZ1bmN0aW9uIChzdG9yZXMpIHtcbiAgICAgICAgICAgIHZhciBkYiA9IHRoaXMuZGI7XG4gICAgICAgICAgICB0aGlzLl9jZmcuc3RvcmVzU291cmNlID0gdGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZSA/XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMuX2NmZy5zdG9yZXNTb3VyY2UsIHN0b3JlcykgOlxuICAgICAgICAgICAgICAgIHN0b3JlcztcbiAgICAgICAgICAgIHZhciB2ZXJzaW9ucyA9IGRiLl92ZXJzaW9ucztcbiAgICAgICAgICAgIHZhciBzdG9yZXNTcGVjID0ge307XG4gICAgICAgICAgICB2YXIgZGJzY2hlbWEgPSB7fTtcbiAgICAgICAgICAgIHZlcnNpb25zLmZvckVhY2goZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBleHRlbmQoc3RvcmVzU3BlYywgdmVyc2lvbi5fY2ZnLnN0b3Jlc1NvdXJjZSk7XG4gICAgICAgICAgICAgICAgZGJzY2hlbWEgPSAodmVyc2lvbi5fY2ZnLmRic2NoZW1hID0ge30pO1xuICAgICAgICAgICAgICAgIHZlcnNpb24uX3BhcnNlU3RvcmVzU3BlYyhzdG9yZXNTcGVjLCBkYnNjaGVtYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRiLl9kYlNjaGVtYSA9IGRic2NoZW1hO1xuICAgICAgICAgICAgcmVtb3ZlVGFibGVzQXBpKGRiLCBbZGIuX2FsbFRhYmxlcywgZGIsIGRiLlRyYW5zYWN0aW9uLnByb3RvdHlwZV0pO1xuICAgICAgICAgICAgc2V0QXBpT25QbGFjZShkYiwgW2RiLl9hbGxUYWJsZXMsIGRiLCBkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGUsIHRoaXMuX2NmZy50YWJsZXNdLCBrZXlzKGRic2NoZW1hKSwgZGJzY2hlbWEpO1xuICAgICAgICAgICAgZGIuX3N0b3JlTmFtZXMgPSBrZXlzKGRic2NoZW1hKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBWZXJzaW9uLnByb3RvdHlwZS51cGdyYWRlID0gZnVuY3Rpb24gKHVwZ3JhZGVGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fY2ZnLmNvbnRlbnRVcGdyYWRlID0gcHJvbWlzYWJsZUNoYWluKHRoaXMuX2NmZy5jb250ZW50VXBncmFkZSB8fCBub3AsIHVwZ3JhZGVGdW5jdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFZlcnNpb247XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVZlcnNpb25Db25zdHJ1Y3RvcihkYikge1xuICAgICAgICByZXR1cm4gbWFrZUNsYXNzQ29uc3RydWN0b3IoVmVyc2lvbi5wcm90b3R5cGUsIGZ1bmN0aW9uIFZlcnNpb24odmVyc2lvbk51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgICAgICAgICAgdGhpcy5fY2ZnID0ge1xuICAgICAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb25OdW1iZXIsXG4gICAgICAgICAgICAgICAgc3RvcmVzU291cmNlOiBudWxsLFxuICAgICAgICAgICAgICAgIGRic2NoZW1hOiB7fSxcbiAgICAgICAgICAgICAgICB0YWJsZXM6IHt9LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRVcGdyYWRlOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYk5hbWVzVGFibGUoaW5kZXhlZERCLCBJREJLZXlSYW5nZSkge1xuICAgICAgICB2YXIgZGJOYW1lc0RCID0gaW5kZXhlZERCW1wiX2RiTmFtZXNEQlwiXTtcbiAgICAgICAgaWYgKCFkYk5hbWVzREIpIHtcbiAgICAgICAgICAgIGRiTmFtZXNEQiA9IGluZGV4ZWREQltcIl9kYk5hbWVzREJcIl0gPSBuZXcgRGV4aWUkMShEQk5BTUVTX0RCLCB7XG4gICAgICAgICAgICAgICAgYWRkb25zOiBbXSxcbiAgICAgICAgICAgICAgICBpbmRleGVkREI6IGluZGV4ZWREQixcbiAgICAgICAgICAgICAgICBJREJLZXlSYW5nZTogSURCS2V5UmFuZ2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRiTmFtZXNEQi52ZXJzaW9uKDEpLnN0b3Jlcyh7IGRibmFtZXM6IFwibmFtZVwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYk5hbWVzREIudGFibGUoXCJkYm5hbWVzXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKSB7XG4gICAgICAgIHJldHVybiBpbmRleGVkREIgJiYgdHlwZW9mIGluZGV4ZWREQi5kYXRhYmFzZXMgPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF0YWJhc2VOYW1lcyhfYSkge1xuICAgICAgICB2YXIgaW5kZXhlZERCID0gX2EuaW5kZXhlZERCLCBJREJLZXlSYW5nZSA9IF9hLklEQktleVJhbmdlO1xuICAgICAgICByZXR1cm4gaGFzRGF0YWJhc2VzTmF0aXZlKGluZGV4ZWREQilcbiAgICAgICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKGluZGV4ZWREQi5kYXRhYmFzZXMoKSkudGhlbihmdW5jdGlvbiAoaW5mb3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5mb3NcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaW5mbykgeyByZXR1cm4gaW5mby5uYW1lOyB9KVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBuYW1lICE9PSBEQk5BTUVTX0RCOyB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IGdldERiTmFtZXNUYWJsZShpbmRleGVkREIsIElEQktleVJhbmdlKS50b0NvbGxlY3Rpb24oKS5wcmltYXJ5S2V5cygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfb25EYXRhYmFzZUNyZWF0ZWQoX2EsIG5hbWUpIHtcbiAgICAgICAgdmFyIGluZGV4ZWREQiA9IF9hLmluZGV4ZWREQiwgSURCS2V5UmFuZ2UgPSBfYS5JREJLZXlSYW5nZTtcbiAgICAgICAgIWhhc0RhdGFiYXNlc05hdGl2ZShpbmRleGVkREIpICYmXG4gICAgICAgICAgICBuYW1lICE9PSBEQk5BTUVTX0RCICYmXG4gICAgICAgICAgICBnZXREYk5hbWVzVGFibGUoaW5kZXhlZERCLCBJREJLZXlSYW5nZSkucHV0KHsgbmFtZTogbmFtZSB9KS5jYXRjaChub3ApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfb25EYXRhYmFzZURlbGV0ZWQoX2EsIG5hbWUpIHtcbiAgICAgICAgdmFyIGluZGV4ZWREQiA9IF9hLmluZGV4ZWREQiwgSURCS2V5UmFuZ2UgPSBfYS5JREJLZXlSYW5nZTtcbiAgICAgICAgIWhhc0RhdGFiYXNlc05hdGl2ZShpbmRleGVkREIpICYmXG4gICAgICAgICAgICBuYW1lICE9PSBEQk5BTUVTX0RCICYmXG4gICAgICAgICAgICBnZXREYk5hbWVzVGFibGUoaW5kZXhlZERCLCBJREJLZXlSYW5nZSkuZGVsZXRlKG5hbWUpLmNhdGNoKG5vcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlwKGZuKSB7XG4gICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBQU0QubGV0VGhyb3VnaCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaWRiUmVhZHkoKSB7XG4gICAgICAgIHZhciBpc1NhZmFyaSA9ICFuYXZpZ2F0b3IudXNlckFnZW50RGF0YSAmJlxuICAgICAgICAgICAgL1NhZmFyaVxcLy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgIS9DaHJvbShlfGl1bSlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIGlmICghaXNTYWZhcmkgfHwgIWluZGV4ZWREQi5kYXRhYmFzZXMpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHZhciBpbnRlcnZhbElkO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHZhciB0cnlJZGIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpbmRleGVkREIuZGF0YWJhc2VzKCkuZmluYWxseShyZXNvbHZlKTsgfTtcbiAgICAgICAgICAgIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCh0cnlJZGIsIDEwMCk7XG4gICAgICAgICAgICB0cnlJZGIoKTtcbiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGVhckludGVydmFsKGludGVydmFsSWQpOyB9KTtcbiAgICB9XG5cbiAgICB2YXIgX2E7XG4gICAgZnVuY3Rpb24gaXNFbXB0eVJhbmdlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuICEoXCJmcm9tXCIgaW4gbm9kZSk7XG4gICAgfVxuICAgIHZhciBSYW5nZVNldCA9IGZ1bmN0aW9uIChmcm9tT3JUcmVlLCB0bykge1xuICAgICAgICBpZiAodGhpcykge1xuICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPyB7IGQ6IDEsIGZyb206IGZyb21PclRyZWUsIHRvOiBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHRvIDogZnJvbU9yVHJlZSB9IDogeyBkOiAwIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJ2ID0gbmV3IFJhbmdlU2V0KCk7XG4gICAgICAgICAgICBpZiAoZnJvbU9yVHJlZSAmJiAoXCJkXCIgaW4gZnJvbU9yVHJlZSkpIHtcbiAgICAgICAgICAgICAgICBleHRlbmQocnYsIGZyb21PclRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwcm9wcyhSYW5nZVNldC5wcm90b3R5cGUsIChfYSA9IHtcbiAgICAgICAgICAgIGFkZDogZnVuY3Rpb24gKHJhbmdlU2V0KSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VSYW5nZXModGhpcywgcmFuZ2VTZXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEtleTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGFkZFJhbmdlKHRoaXMsIGtleSwga2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRLZXlzOiBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGFkZFJhbmdlKF90aGlzLCBrZXksIGtleSk7IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhc0tleTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHZhciBub2RlID0gZ2V0UmFuZ2VTZXRJdGVyYXRvcih0aGlzKS5uZXh0KGtleSkudmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUgJiYgY21wKG5vZGUuZnJvbSwga2V5KSA8PSAwICYmIGNtcChub2RlLnRvLCBrZXkpID49IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9hW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRSYW5nZVNldEl0ZXJhdG9yKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBfYSkpO1xuICAgIGZ1bmN0aW9uIGFkZFJhbmdlKHRhcmdldCwgZnJvbSwgdG8pIHtcbiAgICAgICAgdmFyIGRpZmYgPSBjbXAoZnJvbSwgdG8pO1xuICAgICAgICBpZiAoaXNOYU4oZGlmZikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChkaWZmID4gMClcbiAgICAgICAgICAgIHRocm93IFJhbmdlRXJyb3IoKTtcbiAgICAgICAgaWYgKGlzRW1wdHlSYW5nZSh0YXJnZXQpKVxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuZCh0YXJnZXQsIHsgZnJvbTogZnJvbSwgdG86IHRvLCBkOiAxIH0pO1xuICAgICAgICB2YXIgbGVmdCA9IHRhcmdldC5sO1xuICAgICAgICB2YXIgcmlnaHQgPSB0YXJnZXQucjtcbiAgICAgICAgaWYgKGNtcCh0bywgdGFyZ2V0LmZyb20pIDwgMCkge1xuICAgICAgICAgICAgbGVmdFxuICAgICAgICAgICAgICAgID8gYWRkUmFuZ2UobGVmdCwgZnJvbSwgdG8pXG4gICAgICAgICAgICAgICAgOiAodGFyZ2V0LmwgPSB7IGZyb206IGZyb20sIHRvOiB0bywgZDogMSwgbDogbnVsbCwgcjogbnVsbCB9KTtcbiAgICAgICAgICAgIHJldHVybiByZWJhbGFuY2UodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21wKGZyb20sIHRhcmdldC50bykgPiAwKSB7XG4gICAgICAgICAgICByaWdodFxuICAgICAgICAgICAgICAgID8gYWRkUmFuZ2UocmlnaHQsIGZyb20sIHRvKVxuICAgICAgICAgICAgICAgIDogKHRhcmdldC5yID0geyBmcm9tOiBmcm9tLCB0bzogdG8sIGQ6IDEsIGw6IG51bGwsIHI6IG51bGwgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmViYWxhbmNlKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNtcChmcm9tLCB0YXJnZXQuZnJvbSkgPCAwKSB7XG4gICAgICAgICAgICB0YXJnZXQuZnJvbSA9IGZyb207XG4gICAgICAgICAgICB0YXJnZXQubCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQuZCA9IHJpZ2h0ID8gcmlnaHQuZCArIDEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbXAodG8sIHRhcmdldC50bykgPiAwKSB7XG4gICAgICAgICAgICB0YXJnZXQudG8gPSB0bztcbiAgICAgICAgICAgIHRhcmdldC5yID0gbnVsbDtcbiAgICAgICAgICAgIHRhcmdldC5kID0gdGFyZ2V0LmwgPyB0YXJnZXQubC5kICsgMSA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJpZ2h0V2FzQ3V0T2ZmID0gIXRhcmdldC5yO1xuICAgICAgICBpZiAobGVmdCAmJiAhdGFyZ2V0LmwpIHtcbiAgICAgICAgICAgIG1lcmdlUmFuZ2VzKHRhcmdldCwgbGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0ICYmIHJpZ2h0V2FzQ3V0T2ZmKSB7XG4gICAgICAgICAgICBtZXJnZVJhbmdlcyh0YXJnZXQsIHJpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtZXJnZVJhbmdlcyh0YXJnZXQsIG5ld1NldCkge1xuICAgICAgICBmdW5jdGlvbiBfYWRkUmFuZ2VTZXQodGFyZ2V0LCBfYSkge1xuICAgICAgICAgICAgdmFyIGZyb20gPSBfYS5mcm9tLCB0byA9IF9hLnRvLCBsID0gX2EubCwgciA9IF9hLnI7XG4gICAgICAgICAgICBhZGRSYW5nZSh0YXJnZXQsIGZyb20sIHRvKTtcbiAgICAgICAgICAgIGlmIChsKVxuICAgICAgICAgICAgICAgIF9hZGRSYW5nZVNldCh0YXJnZXQsIGwpO1xuICAgICAgICAgICAgaWYgKHIpXG4gICAgICAgICAgICAgICAgX2FkZFJhbmdlU2V0KHRhcmdldCwgcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VtcHR5UmFuZ2UobmV3U2V0KSlcbiAgICAgICAgICAgIF9hZGRSYW5nZVNldCh0YXJnZXQsIG5ld1NldCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJhbmdlc092ZXJsYXAocmFuZ2VTZXQxLCByYW5nZVNldDIpIHtcbiAgICAgICAgdmFyIGkxID0gZ2V0UmFuZ2VTZXRJdGVyYXRvcihyYW5nZVNldDIpO1xuICAgICAgICB2YXIgbmV4dFJlc3VsdDEgPSBpMS5uZXh0KCk7XG4gICAgICAgIGlmIChuZXh0UmVzdWx0MS5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgYSA9IG5leHRSZXN1bHQxLnZhbHVlO1xuICAgICAgICB2YXIgaTIgPSBnZXRSYW5nZVNldEl0ZXJhdG9yKHJhbmdlU2V0MSk7XG4gICAgICAgIHZhciBuZXh0UmVzdWx0MiA9IGkyLm5leHQoYS5mcm9tKTtcbiAgICAgICAgdmFyIGIgPSBuZXh0UmVzdWx0Mi52YWx1ZTtcbiAgICAgICAgd2hpbGUgKCFuZXh0UmVzdWx0MS5kb25lICYmICFuZXh0UmVzdWx0Mi5kb25lKSB7XG4gICAgICAgICAgICBpZiAoY21wKGIuZnJvbSwgYS50bykgPD0gMCAmJiBjbXAoYi50bywgYS5mcm9tKSA+PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY21wKGEuZnJvbSwgYi5mcm9tKSA8IDBcbiAgICAgICAgICAgICAgICA/IChhID0gKG5leHRSZXN1bHQxID0gaTEubmV4dChiLmZyb20pKS52YWx1ZSlcbiAgICAgICAgICAgICAgICA6IChiID0gKG5leHRSZXN1bHQyID0gaTIubmV4dChhLmZyb20pKS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSYW5nZVNldEl0ZXJhdG9yKG5vZGUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gaXNFbXB0eVJhbmdlKG5vZGUpID8gbnVsbCA6IHsgczogMCwgbjogbm9kZSB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlQcm92aWRlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXRlLnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UHJvdmlkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXRlLm4ubCAmJiBjbXAoa2V5LCBzdGF0ZS5uLmZyb20pIDwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0geyB1cDogc3RhdGUsIG46IHN0YXRlLm4ubCwgczogMSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXRlLm4ubClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0geyB1cDogc3RhdGUsIG46IHN0YXRlLm4ubCwgczogMSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWtleVByb3ZpZGVkIHx8IGNtcChrZXksIHN0YXRlLm4udG8pIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBzdGF0ZS5uLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5uLnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucyA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0geyB1cDogc3RhdGUsIG46IHN0YXRlLm4uciwgczogMCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS51cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWJhbGFuY2UodGFyZ2V0KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciBkaWZmID0gKCgoX2EgPSB0YXJnZXQucikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmQpIHx8IDApIC0gKCgoX2IgPSB0YXJnZXQubCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmQpIHx8IDApO1xuICAgICAgICB2YXIgciA9IGRpZmYgPiAxID8gXCJyXCIgOiBkaWZmIDwgLTEgPyBcImxcIiA6IFwiXCI7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICB2YXIgbCA9IHIgPT09IFwiclwiID8gXCJsXCIgOiBcInJcIjtcbiAgICAgICAgICAgIHZhciByb290Q2xvbmUgPSBfX2Fzc2lnbih7fSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciBvbGRSb290UmlnaHQgPSB0YXJnZXRbcl07XG4gICAgICAgICAgICB0YXJnZXQuZnJvbSA9IG9sZFJvb3RSaWdodC5mcm9tO1xuICAgICAgICAgICAgdGFyZ2V0LnRvID0gb2xkUm9vdFJpZ2h0LnRvO1xuICAgICAgICAgICAgdGFyZ2V0W3JdID0gb2xkUm9vdFJpZ2h0W3JdO1xuICAgICAgICAgICAgcm9vdENsb25lW3JdID0gb2xkUm9vdFJpZ2h0W2xdO1xuICAgICAgICAgICAgdGFyZ2V0W2xdID0gcm9vdENsb25lO1xuICAgICAgICAgICAgcm9vdENsb25lLmQgPSBjb21wdXRlRGVwdGgocm9vdENsb25lKTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQuZCA9IGNvbXB1dGVEZXB0aCh0YXJnZXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wdXRlRGVwdGgoX2EpIHtcbiAgICAgICAgdmFyIHIgPSBfYS5yLCBsID0gX2EubDtcbiAgICAgICAgcmV0dXJuIChyID8gKGwgPyBNYXRoLm1heChyLmQsIGwuZCkgOiByLmQpIDogbCA/IGwuZCA6IDApICsgMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRlbmRPYnNlcnZhYmlsaXR5U2V0KHRhcmdldCwgbmV3U2V0KSB7XG4gICAgICAgIGtleXMobmV3U2V0KS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0W3BhcnRdKVxuICAgICAgICAgICAgICAgIG1lcmdlUmFuZ2VzKHRhcmdldFtwYXJ0XSwgbmV3U2V0W3BhcnRdKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0YXJnZXRbcGFydF0gPSBjbG9uZVNpbXBsZU9iamVjdFRyZWUobmV3U2V0W3BhcnRdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb2JzU2V0c092ZXJsYXAob3MxLCBvczIpIHtcbiAgICAgICAgcmV0dXJuIG9zMS5hbGwgfHwgb3MyLmFsbCB8fCBPYmplY3Qua2V5cyhvczEpLnNvbWUoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb3MyW2tleV0gJiYgcmFuZ2VzT3ZlcmxhcChvczJba2V5XSwgb3MxW2tleV0pOyB9KTtcbiAgICB9XG5cbiAgICB2YXIgY2FjaGUgPSB7fTtcblxuICAgIHZhciB1bnNpZ25hbGVkUGFydHMgPSB7fTtcbiAgICB2YXIgaXNUYXNrRW5xdWV1ZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBzaWduYWxTdWJzY3JpYmVyc0xhemlseShwYXJ0LCBvcHRpbWlzdGljKSB7XG4gICAgICAgIGV4dGVuZE9ic2VydmFiaWxpdHlTZXQodW5zaWduYWxlZFBhcnRzLCBwYXJ0KTtcbiAgICAgICAgaWYgKCFpc1Rhc2tFbnF1ZXVlZCkge1xuICAgICAgICAgICAgaXNUYXNrRW5xdWV1ZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaXNUYXNrRW5xdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSB1bnNpZ25hbGVkUGFydHM7XG4gICAgICAgICAgICAgICAgdW5zaWduYWxlZFBhcnRzID0ge307XG4gICAgICAgICAgICAgICAgc2lnbmFsU3Vic2NyaWJlcnNOb3cocGFydHMsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpZ25hbFN1YnNjcmliZXJzTm93KHVwZGF0ZWRQYXJ0cywgZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpIHtcbiAgICAgICAgaWYgKGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzID09PSB2b2lkIDApIHsgZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgcXVlcmllc1RvU2lnbmFsID0gbmV3IFNldCgpO1xuICAgICAgICBpZiAodXBkYXRlZFBhcnRzLmFsbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC52YWx1ZXMoY2FjaGUpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciB0YmxDYWNoZSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0VGFibGVTdWJzY3JpYmVycyh0YmxDYWNoZSwgdXBkYXRlZFBhcnRzLCBxdWVyaWVzVG9TaWduYWwsIGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB1cGRhdGVkUGFydHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSAvXmlkYlxcOlxcL1xcLyguKilcXC8oLiopXFwvLy5leGVjKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYk5hbWUgPSBwYXJ0c1sxXSwgdGFibGVOYW1lID0gcGFydHNbMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YmxDYWNoZSA9IGNhY2hlW1wiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRibENhY2hlKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFRhYmxlU3Vic2NyaWJlcnModGJsQ2FjaGUsIHVwZGF0ZWRQYXJ0cywgcXVlcmllc1RvU2lnbmFsLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXJpZXNUb1NpZ25hbC5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiByZXF1ZXJ5KCk7IH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2xsZWN0VGFibGVTdWJzY3JpYmVycyh0YmxDYWNoZSwgdXBkYXRlZFBhcnRzLCBvdXRRdWVyaWVzVG9TaWduYWwsIGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgIHZhciB1cGRhdGVkRW50cnlMaXN0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmVudHJpZXModGJsQ2FjaGUucXVlcmllcy5xdWVyeSk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIGluZGV4TmFtZSA9IF9iWzBdLCBlbnRyaWVzID0gX2JbMV07XG4gICAgICAgICAgICB2YXIgZmlsdGVyZWRFbnRyaWVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfYyA9IDAsIGVudHJpZXNfMSA9IGVudHJpZXM7IF9jIDwgZW50cmllc18xLmxlbmd0aDsgX2MrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNfMVtfY107XG4gICAgICAgICAgICAgICAgaWYgKG9ic1NldHNPdmVybGFwKHVwZGF0ZWRQYXJ0cywgZW50cnkub2JzU2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiBvdXRRdWVyaWVzVG9TaWduYWwuYWRkKHJlcXVlcnkpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRFbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcylcbiAgICAgICAgICAgICAgICB1cGRhdGVkRW50cnlMaXN0cy5wdXNoKFtpbmRleE5hbWUsIGZpbHRlcmVkRW50cmllc10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2QgPSAwLCB1cGRhdGVkRW50cnlMaXN0c18xID0gdXBkYXRlZEVudHJ5TGlzdHM7IF9kIDwgdXBkYXRlZEVudHJ5TGlzdHNfMS5sZW5ndGg7IF9kKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgX2UgPSB1cGRhdGVkRW50cnlMaXN0c18xW19kXSwgaW5kZXhOYW1lID0gX2VbMF0sIGZpbHRlcmVkRW50cmllcyA9IF9lWzFdO1xuICAgICAgICAgICAgICAgIHRibENhY2hlLnF1ZXJpZXMucXVlcnlbaW5kZXhOYW1lXSA9IGZpbHRlcmVkRW50cmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRleGllT3BlbihkYikge1xuICAgICAgICB2YXIgc3RhdGUgPSBkYi5fc3RhdGU7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBkYi5fZGVwcy5pbmRleGVkREI7XG4gICAgICAgIGlmIChzdGF0ZS5pc0JlaW5nT3BlbmVkIHx8IGRiLmlkYmRiKVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmRiUmVhZHlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhdGUuZGJPcGVuRXJyb3IgP1xuICAgICAgICAgICAgICAgIHJlamVjdGlvbihzdGF0ZS5kYk9wZW5FcnJvcikgOlxuICAgICAgICAgICAgICAgIGRiOyB9KTtcbiAgICAgICAgc3RhdGUuaXNCZWluZ09wZW5lZCA9IHRydWU7XG4gICAgICAgIHN0YXRlLmRiT3BlbkVycm9yID0gbnVsbDtcbiAgICAgICAgc3RhdGUub3BlbkNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBvcGVuQ2FuY2VsbGVyID0gc3RhdGUub3BlbkNhbmNlbGxlcjtcbiAgICAgICAgdmFyIG5hdGl2ZVZlclRvT3BlbiA9IE1hdGgucm91bmQoZGIudmVybm8gKiAxMCk7XG4gICAgICAgIHZhciBzY2hlbWFQYXRjaE1vZGUgPSBmYWxzZTtcbiAgICAgICAgZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxlZCgpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5vcGVuQ2FuY2VsbGVyICE9PSBvcGVuQ2FuY2VsbGVyKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCdkYi5vcGVuKCkgd2FzIGNhbmNlbGxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHZlRGJSZWFkeSA9IHN0YXRlLmRiUmVhZHlSZXNvbHZlLFxuICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gPSBudWxsLCB3YXNDcmVhdGVkID0gZmFsc2U7XG4gICAgICAgIHZhciB0cnlPcGVuREIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHRocm93SWZDYW5jZWxsZWQoKTtcbiAgICAgICAgICAgIGlmICghaW5kZXhlZERCKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoKTtcbiAgICAgICAgICAgIHZhciBkYk5hbWUgPSBkYi5uYW1lO1xuICAgICAgICAgICAgdmFyIHJlcSA9IHN0YXRlLmF1dG9TY2hlbWEgfHwgIW5hdGl2ZVZlclRvT3BlbiA/XG4gICAgICAgICAgICAgICAgaW5kZXhlZERCLm9wZW4oZGJOYW1lKSA6XG4gICAgICAgICAgICAgICAgaW5kZXhlZERCLm9wZW4oZGJOYW1lLCBuYXRpdmVWZXJUb09wZW4pO1xuICAgICAgICAgICAgaWYgKCFyZXEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSSgpO1xuICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgIHJlcS5vbmJsb2NrZWQgPSB3cmFwKGRiLl9maXJlT25CbG9ja2VkKTtcbiAgICAgICAgICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSB3cmFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uID0gcmVxLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5hdXRvU2NoZW1hICYmICFkYi5fb3B0aW9ucy5hbGxvd0VtcHR5REIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBwcmV2ZW50RGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5yZXN1bHQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYk5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBkZWxyZXEub25zdWNjZXNzID0gZGVscmVxLm9uZXJyb3IgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXhjZXB0aW9ucy5Ob1N1Y2hEYXRhYmFzZShcIkRhdGFiYXNlIFwiLmNvbmNhdChkYk5hbWUsIFwiIGRvZXNudCBleGlzdFwiKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbi5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRWZXIgPSBlLm9sZFZlcnNpb24gPiBNYXRoLnBvdygyLCA2MikgPyAwIDogZS5vbGRWZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICB3YXNDcmVhdGVkID0gb2xkVmVyIDwgMTtcbiAgICAgICAgICAgICAgICAgICAgZGIuaWRiZGIgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NoZW1hUGF0Y2hNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaEN1cnJlbnRWZXJzaW9uKGRiLCB1cGdyYWRlVHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJ1blVwZ3JhZGVycyhkYiwgb2xkVmVyIC8gMTAsIHVwZ3JhZGVUcmFuc2FjdGlvbiwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIGlkYmRiID0gZGIuaWRiZGIgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3RTdG9yZU5hbWVzID0gc2xpY2UoaWRiZGIub2JqZWN0U3RvcmVOYW1lcyk7XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdFN0b3JlTmFtZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBUcmFucyA9IGlkYmRiLnRyYW5zYWN0aW9uKHNhZmFyaU11bHRpU3RvcmVGaXgob2JqZWN0U3RvcmVOYW1lcyksICdyZWFkb25seScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmF1dG9TY2hlbWEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZEdsb2JhbFNjaGVtYShkYiwgaWRiZGIsIHRtcFRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkanVzdFRvRXhpc3RpbmdJbmRleE5hbWVzKGRiLCBkYi5fZGJTY2hlbWEsIHRtcFRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZlcmlmeUluc3RhbGxlZFNjaGVtYShkYiwgdG1wVHJhbnMpICYmICFzY2hlbWFQYXRjaE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRGV4aWUgU2NoZW1hRGlmZjogU2NoZW1hIHdhcyBleHRlbmRlZCB3aXRob3V0IGluY3JlYXNpbmcgdGhlIG51bWJlciBwYXNzZWQgdG8gZGIudmVyc2lvbigpLiBEZXhpZSB3aWxsIGFkZCBtaXNzaW5nIHBhcnRzIGFuZCBpbmNyZW1lbnQgbmF0aXZlIHZlcnNpb24gbnVtYmVyIHRvIHdvcmthcm91bmQgdGhpcy5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkYmRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZVZlclRvT3BlbiA9IGlkYmRiLnZlcnNpb24gKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFQYXRjaE1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnlPcGVuREIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLCB0bXBUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goZGIpO1xuICAgICAgICAgICAgICAgIGlkYmRiLm9udmVyc2lvbmNoYW5nZSA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnZjRmlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBkYi5vbihcInZlcnNpb25jaGFuZ2VcIikuZmlyZShldik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWRiZGIub25jbG9zZSA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgIGRiLm9uKFwiY2xvc2VcIikuZmlyZShldik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHdhc0NyZWF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIF9vbkRhdGFiYXNlQ3JlYXRlZChkYi5fZGVwcywgZGJOYW1lKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGVyciA9PT0gbnVsbCB8fCBlcnIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVyci5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlVua25vd25FcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuUFIxMzk4X21heExvb3AgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5QUjEzOThfbWF4TG9vcC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXhpZTogV29ya2Fyb3VuZCBmb3IgQ2hyb21lIFVua25vd25FcnJvciBvbiBvcGVuKCknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlPcGVuREIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiVmVyc2lvbkVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXRpdmVWZXJUb09wZW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVWZXJUb09wZW4gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeU9wZW5EQigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7IH07XG4gICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmFjZShbXG4gICAgICAgICAgICBvcGVuQ2FuY2VsbGVyLFxuICAgICAgICAgICAgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnID8gRGV4aWVQcm9taXNlLnJlc29sdmUoKSA6IGlkYlJlYWR5KCkpLnRoZW4odHJ5T3BlbkRCKVxuICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93SWZDYW5jZWxsZWQoKTtcbiAgICAgICAgICAgIHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkID0gW107XG4gICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUodmlwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRiLm9uLnJlYWR5LmZpcmUoZGIudmlwKTsgfSkpLnRoZW4oZnVuY3Rpb24gZmlyZVJlbWFpbmRlcnMoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbWFpbmRlcnNfMSA9IHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkLnJlZHVjZShwcm9taXNhYmxlQ2hhaW4sIG5vcCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSh2aXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtYWluZGVyc18xKGRiLnZpcCk7IH0pKS50aGVuKGZpcmVSZW1haW5kZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUub3BlbkNhbmNlbGxlciA9PT0gb3BlbkNhbmNlbGxlcikge1xuICAgICAgICAgICAgICAgIHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pc0JlaW5nT3BlbmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHN0YXRlLmRiT3BlbkVycm9yID0gZXJyO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gJiYgdXBncmFkZVRyYW5zYWN0aW9uLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICAgICAgaWYgKG9wZW5DYW5jZWxsZXIgPT09IHN0YXRlLm9wZW5DYW5jZWxsZXIpIHtcbiAgICAgICAgICAgICAgICBkYi5fY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZXJyKTtcbiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdGF0ZS5vcGVuQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgcmVzb2x2ZURiUmVhZHkoKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAod2FzQ3JlYXRlZCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVyeXRoaW5nXzEgPSB7fTtcbiAgICAgICAgICAgICAgICBkYi50YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGUuc2NoZW1hLmluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlcnl0aGluZ18xW1wiaWRiOi8vXCIuY29uY2F0KGRiLm5hbWUsIFwiL1wiKS5jb25jYXQodGFibGUubmFtZSwgXCIvXCIpLmNvbmNhdChpZHgubmFtZSldID0gbmV3IFJhbmdlU2V0KC1JbmZpbml0eSwgW1tbXV1dKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZXJ5dGhpbmdfMVtcImlkYjovL1wiLmNvbmNhdChkYi5uYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlLm5hbWUsIFwiL1wiKV0gPSBldmVyeXRoaW5nXzFbXCJpZGI6Ly9cIi5jb25jYXQoZGIubmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZS5uYW1lLCBcIi86ZGVsc1wiKV0gPSBuZXcgUmFuZ2VTZXQoLUluZmluaXR5LCBbW1tdXV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cyhERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSkuZmlyZShldmVyeXRoaW5nXzEpO1xuICAgICAgICAgICAgICAgIHNpZ25hbFN1YnNjcmliZXJzTm93KGV2ZXJ5dGhpbmdfMSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGI7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF3YWl0SXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgICAgICAgdmFyIGNhbGxOZXh0ID0gZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gaXRlcmF0b3IubmV4dChyZXN1bHQpOyB9LCBkb1Rocm93ID0gZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBpdGVyYXRvci50aHJvdyhlcnJvcik7IH0sIG9uU3VjY2VzcyA9IHN0ZXAoY2FsbE5leHQpLCBvbkVycm9yID0gc3RlcChkb1Rocm93KTtcbiAgICAgICAgZnVuY3Rpb24gc3RlcChnZXROZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gZ2V0TmV4dCh2YWwpLCB2YWx1ZSA9IG5leHQudmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQuZG9uZSA/IHZhbHVlIDpcbiAgICAgICAgICAgICAgICAgICAgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUudGhlbiAhPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5KHZhbHVlKSA/IFByb21pc2UuYWxsKHZhbHVlKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcikgOiBvblN1Y2Nlc3ModmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnRoZW4ob25TdWNjZXNzLCBvbkVycm9yKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGVwKGNhbGxOZXh0KSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4dHJhY3RUcmFuc2FjdGlvbkFyZ3MobW9kZSwgX3RhYmxlQXJnc18sIHNjb3BlRnVuYykge1xuICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChpIDwgMilcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIlRvbyBmZXcgYXJndW1lbnRzXCIpO1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShpIC0gMSk7XG4gICAgICAgIHdoaWxlICgtLWkpXG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgc2NvcGVGdW5jID0gYXJncy5wb3AoKTtcbiAgICAgICAgdmFyIHRhYmxlcyA9IGZsYXR0ZW4oYXJncyk7XG4gICAgICAgIHJldHVybiBbbW9kZSwgdGFibGVzLCBzY29wZUZ1bmNdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRlclRyYW5zYWN0aW9uU2NvcGUoZGIsIG1vZGUsIHN0b3JlTmFtZXMsIHBhcmVudFRyYW5zYWN0aW9uLCBzY29wZUZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNsZXNzID0gUFNELnRyYW5zbGVzcyB8fCBQU0Q7XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSBkYi5fY3JlYXRlVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZGIuX2RiU2NoZW1hLCBwYXJlbnRUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICB0cmFucy5leHBsaWNpdCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgem9uZVByb3BzID0ge1xuICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICB0cmFuc2xlc3M6IHRyYW5zbGVzc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zID0gcGFyZW50VHJhbnNhY3Rpb24uaWRidHJhbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0cmFucy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuaWRidHJhbnMuX2V4cGxpY2l0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGIuX3N0YXRlLlBSMTM5OF9tYXhMb29wID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleC5uYW1lID09PSBlcnJuYW1lcy5JbnZhbGlkU3RhdGUgJiYgZGIuaXNPcGVuKCkgJiYgLS1kYi5fc3RhdGUuUFIxMzk4X21heExvb3AgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RleGllOiBOZWVkIHRvIHJlb3BlbiBkYicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoeyBkaXNhYmxlQXV0b09wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLm9wZW4oKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVudGVyVHJhbnNhY3Rpb25TY29wZShkYiwgbW9kZSwgc3RvcmVOYW1lcywgbnVsbCwgc2NvcGVGdW5jKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNjb3BlRnVuY0lzQXN5bmMgPSBpc0FzeW5jRnVuY3Rpb24oc2NvcGVGdW5jKTtcbiAgICAgICAgICAgIGlmIChzY29wZUZ1bmNJc0FzeW5jKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgIHZhciBwcm9taXNlRm9sbG93ZWQgPSBEZXhpZVByb21pc2UuZm9sbG93KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHNjb3BlRnVuYy5jYWxsKHRyYW5zLCB0cmFucyk7XG4gICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZUZ1bmNJc0FzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVjcmVtZW50b3IgPSBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cy5iaW5kKG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUudGhlbihkZWNyZW1lbnRvciwgZGVjcmVtZW50b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZS5uZXh0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiByZXR1cm5WYWx1ZS50aHJvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBhd2FpdEl0ZXJhdG9yKHJldHVyblZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHpvbmVQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gKHJldHVyblZhbHVlICYmIHR5cGVvZiByZXR1cm5WYWx1ZS50aGVuID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UucmVzb2x2ZShyZXR1cm5WYWx1ZSkudGhlbihmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHJhbnMuYWN0aXZlID9cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgICAgICA6IHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5QcmVtYXR1cmVDb21taXQoXCJUcmFuc2FjdGlvbiBjb21taXR0ZWQgdG9vIGVhcmx5LiBTZWUgaHR0cDovL2JpdC5seS8ya2Rja01uXCIpKTsgfSlcbiAgICAgICAgICAgICAgICA6IHByb21pc2VGb2xsb3dlZC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJldHVyblZhbHVlOyB9KSkudGhlbihmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnMuX2NvbXBsZXRpb24udGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB4OyB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdHJhbnMuX3JlamVjdChlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhZChhLCB2YWx1ZSwgY291bnQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGlzQXJyYXkoYSkgPyBhLnNsaWNlKCkgOiBbYV07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSlcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlVmlydHVhbEluZGV4TWlkZGxld2FyZShkb3duKSB7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93biksIHsgdGFibGU6IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBkb3duLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIHNjaGVtYSA9IHRhYmxlLnNjaGVtYTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhMb29rdXAgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgYWxsVmlydHVhbEluZGV4ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRWaXJ0dWFsSW5kZXhlcyhrZXlQYXRoLCBrZXlUYWlsLCBsb3dMZXZlbEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoQWxpYXMgPSBnZXRLZXlQYXRoQWxpYXMoa2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleExpc3QgPSAoaW5kZXhMb29rdXBba2V5UGF0aEFsaWFzXSA9IGluZGV4TG9va3VwW2tleVBhdGhBbGlhc10gfHwgW10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5TGVuZ3RoID0ga2V5UGF0aCA9PSBudWxsID8gMCA6IHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/IDEgOiBrZXlQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmlydHVhbCA9IGtleVRhaWwgPiAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmlydHVhbEluZGV4ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGxvd0xldmVsSW5kZXgpLCB7IG5hbWU6IGlzVmlydHVhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJcIi5jb25jYXQoa2V5UGF0aEFsaWFzLCBcIih2aXJ0dWFsLWZyb206XCIpLmNvbmNhdChsb3dMZXZlbEluZGV4Lm5hbWUsIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbG93TGV2ZWxJbmRleC5uYW1lLCBsb3dMZXZlbEluZGV4OiBsb3dMZXZlbEluZGV4LCBpc1ZpcnR1YWw6IGlzVmlydHVhbCwga2V5VGFpbDoga2V5VGFpbCwga2V5TGVuZ3RoOiBrZXlMZW5ndGgsIGV4dHJhY3RLZXk6IGdldEtleUV4dHJhY3RvcihrZXlQYXRoKSwgdW5pcXVlOiAhaXNWaXJ0dWFsICYmIGxvd0xldmVsSW5kZXgudW5pcXVlIH0pO1xuICAgICAgICAgICAgICAgICAgICBpbmRleExpc3QucHVzaCh2aXJ0dWFsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpcnR1YWxJbmRleC5pc1ByaW1hcnlLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZpcnR1YWxJbmRleGVzLnB1c2godmlydHVhbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5TGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZpcnR1YWxLZXlQYXRoID0ga2V5TGVuZ3RoID09PSAyID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlQYXRoWzBdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlQYXRoLnNsaWNlKDAsIGtleUxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmlydHVhbEluZGV4ZXModmlydHVhbEtleVBhdGgsIGtleVRhaWwgKyAxLCBsb3dMZXZlbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbmRleExpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5rZXlUYWlsIC0gYi5rZXlUYWlsOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBhZGRWaXJ0dWFsSW5kZXhlcyhzY2hlbWEucHJpbWFyeUtleS5rZXlQYXRoLCAwLCBzY2hlbWEucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgICAgaW5kZXhMb29rdXBbXCI6aWRcIl0gPSBbcHJpbWFyeUtleV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHNjaGVtYS5pbmRleGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgICAgIGFkZFZpcnR1YWxJbmRleGVzKGluZGV4LmtleVBhdGgsIDAsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZmluZEJlc3RJbmRleChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbmRleExvb2t1cFtnZXRLZXlQYXRoQWxpYXMoa2V5UGF0aCldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICYmIHJlc3VsdFswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdHJhbnNsYXRlUmFuZ2UocmFuZ2UsIGtleVRhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHJhbmdlLnR5cGUgPT09IDEgID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyOiBwYWQocmFuZ2UubG93ZXIsIHJhbmdlLmxvd2VyT3BlbiA/IGRvd24uTUFYX0tFWSA6IGRvd24uTUlOX0tFWSwga2V5VGFpbCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlck9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cHBlcjogcGFkKHJhbmdlLnVwcGVyLCByYW5nZS51cHBlck9wZW4gPyBkb3duLk1JTl9LRVkgOiBkb3duLk1BWF9LRVksIGtleVRhaWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJPcGVuOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVJlcXVlc3QocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHJlcS5xdWVyeS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4LmlzVmlydHVhbCA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXEpLCB7IHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4Lmxvd0xldmVsSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHRyYW5zbGF0ZVJhbmdlKHJlcS5xdWVyeS5yYW5nZSwgaW5kZXgua2V5VGFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkgOiByZXE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGFibGUpLCB7IHNjaGVtYTogX19hc3NpZ24oX19hc3NpZ24oe30sIHNjaGVtYSksIHsgcHJpbWFyeUtleTogcHJpbWFyeUtleSwgaW5kZXhlczogYWxsVmlydHVhbEluZGV4ZXMsIGdldEluZGV4QnlLZXlQYXRoOiBmaW5kQmVzdEluZGV4IH0pLCBjb3VudDogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLmNvdW50KHRyYW5zbGF0ZVJlcXVlc3QocmVxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHF1ZXJ5OiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUucXVlcnkodHJhbnNsYXRlUmVxdWVzdChyZXEpKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgb3BlbkN1cnNvcjogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcmVxLnF1ZXJ5LmluZGV4LCBrZXlUYWlsID0gX2Eua2V5VGFpbCwgaXNWaXJ0dWFsID0gX2EuaXNWaXJ0dWFsLCBrZXlMZW5ndGggPSBfYS5rZXlMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmlydHVhbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUub3BlbkN1cnNvcihyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVmlydHVhbEN1cnNvcihjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfY29udGludWUoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSAhPSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZShwYWQoa2V5LCByZXEucmV2ZXJzZSA/IGRvd24uTUFYX0tFWSA6IGRvd24uTUlOX0tFWSwga2V5VGFpbCkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS51bmlxdWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZShjdXJzb3Iua2V5LnNsaWNlKDAsIGtleUxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChyZXEucmV2ZXJzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGRvd24uTUlOX0tFWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRvd24uTUFYX0tFWSwga2V5VGFpbCkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZpcnR1YWxDdXJzb3IgPSBPYmplY3QuY3JlYXRlKGN1cnNvciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogeyB2YWx1ZTogX2NvbnRpbnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlUHJpbWFyeUtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChrZXksIHByaW1hcnlLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWVQcmltYXJ5S2V5KHBhZChrZXksIGRvd24uTUFYX0tFWSwga2V5VGFpbCksIHByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5S2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleUxlbmd0aCA9PT0gMSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVswXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleS5zbGljZSgwLCBrZXlMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXJ0dWFsQ3Vyc29yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLm9wZW5DdXJzb3IodHJhbnNsYXRlUmVxdWVzdChyZXEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjdXJzb3IpIHsgcmV0dXJuIGN1cnNvciAmJiBjcmVhdGVWaXJ0dWFsQ3Vyc29yKGN1cnNvcik7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9IH0pO1xuICAgIH1cbiAgICB2YXIgdmlydHVhbEluZGV4TWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgIG5hbWU6IFwiVmlydHVhbEluZGV4TWlkZGxld2FyZVwiLFxuICAgICAgICBsZXZlbDogMSxcbiAgICAgICAgY3JlYXRlOiBjcmVhdGVWaXJ0dWFsSW5kZXhNaWRkbGV3YXJlXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldE9iamVjdERpZmYoYSwgYiwgcnYsIHByZngpIHtcbiAgICAgICAgcnYgPSBydiB8fCB7fTtcbiAgICAgICAgcHJmeCA9IHByZnggfHwgJyc7XG4gICAgICAgIGtleXMoYSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd24oYiwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYXAgPSBhW3Byb3BdLCBicCA9IGJbcHJvcF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGJwID09PSAnb2JqZWN0JyAmJiBhcCAmJiBicCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXBUeXBlTmFtZSA9IHRvU3RyaW5nVGFnKGFwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJwVHlwZU5hbWUgPSB0b1N0cmluZ1RhZyhicCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcFR5cGVOYW1lICE9PSBicFR5cGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFwVHlwZU5hbWUgPT09ICdPYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRPYmplY3REaWZmKGFwLCBicCwgcnYsIHByZnggKyBwcm9wICsgJy4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcCAhPT0gYnApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ2W3ByZnggKyBwcm9wXSA9IGJbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXAgIT09IGJwKVxuICAgICAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAga2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICBpZiAoIWhhc093bihhLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIHJ2W3ByZnggKyBwcm9wXSA9IGJbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RWZmZWN0aXZlS2V5cyhwcmltYXJ5S2V5LCByZXEpIHtcbiAgICAgICAgaWYgKHJlcS50eXBlID09PSAnZGVsZXRlJylcbiAgICAgICAgICAgIHJldHVybiByZXEua2V5cztcbiAgICAgICAgcmV0dXJuIHJlcS5rZXlzIHx8IHJlcS52YWx1ZXMubWFwKHByaW1hcnlLZXkuZXh0cmFjdEtleSk7XG4gICAgfVxuXG4gICAgdmFyIGhvb2tzTWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgIG5hbWU6IFwiSG9va3NNaWRkbGV3YXJlXCIsXG4gICAgICAgIGxldmVsOiAyLFxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChkb3duQ29yZSkgeyByZXR1cm4gKF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duQ29yZSksIHsgdGFibGU6IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZG93blRhYmxlID0gZG93bkNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleSA9IGRvd25UYWJsZS5zY2hlbWEucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICB2YXIgdGFibGVNaWRkbGV3YXJlID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd25UYWJsZSksIHsgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHhUcmFucyA9IFBTRC50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IGR4VHJhbnMudGFibGUodGFibGVOYW1lKS5ob29rLCBkZWxldGluZyA9IF9hLmRlbGV0aW5nLCBjcmVhdGluZyA9IF9hLmNyZWF0aW5nLCB1cGRhdGluZyA9IF9hLnVwZGF0aW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZXEudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGluZy5maXJlID09PSBub3ApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR4VHJhbnMuX3Byb21pc2UoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFkZFB1dE9yRGVsZXRlKHJlcSk7IH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3B1dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGluZy5maXJlID09PSBub3AgJiYgdXBkYXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhZGRQdXRPckRlbGV0ZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhZGRQdXRPckRlbGV0ZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWxldGVSYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGluZy5maXJlID09PSBub3ApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR4VHJhbnMuX3Byb21pc2UoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlbGV0ZVJhbmdlKHJlcSk7IH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFB1dE9yRGVsZXRlKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkeFRyYW5zID0gUFNELnRyYW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gcmVxLmtleXMgfHwgZ2V0RWZmZWN0aXZlS2V5cyhwcmltYXJ5S2V5LCByZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgha2V5cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiS2V5cyBtaXNzaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcSA9IHJlcS50eXBlID09PSAnYWRkJyB8fCByZXEudHlwZSA9PT0gJ3B1dCcgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxKSwgeyBrZXlzOiBrZXlzIH0pIDogX19hc3NpZ24oe30sIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlICE9PSAnZGVsZXRlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnZhbHVlcyA9IF9fc3ByZWFkQXJyYXkoW10sIHJlcS52YWx1ZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEua2V5cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLmtleXMgPSBfX3NwcmVhZEFycmF5KFtdLCByZXEua2V5cywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEV4aXN0aW5nVmFsdWVzKGRvd25UYWJsZSwgcmVxLCBrZXlzKS50aGVuKGZ1bmN0aW9uIChleGlzdGluZ1ZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGV4dHMgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmdWYWx1ZSA9IGV4aXN0aW5nVmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9IHsgb25lcnJvcjogbnVsbCwgb25zdWNjZXNzOiBudWxsIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLnR5cGUgPT09ICdkZWxldGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRpbmcuZmlyZS5jYWxsKGN0eCwga2V5LCBleGlzdGluZ1ZhbHVlLCBkeFRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcS50eXBlID09PSAnYWRkJyB8fCBleGlzdGluZ1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2VuZXJhdGVkUHJpbWFyeUtleSA9IGNyZWF0aW5nLmZpcmUuY2FsbChjdHgsIGtleSwgcmVxLnZhbHVlc1tpXSwgZHhUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSBudWxsICYmIGdlbmVyYXRlZFByaW1hcnlLZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBnZW5lcmF0ZWRQcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEua2V5c1tpXSA9IGtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmltYXJ5S2V5Lm91dGJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgocmVxLnZhbHVlc1tpXSwgcHJpbWFyeUtleS5rZXlQYXRoLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdERpZmYgPSBnZXRPYmplY3REaWZmKGV4aXN0aW5nVmFsdWUsIHJlcS52YWx1ZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRpdGlvbmFsQ2hhbmdlc18xID0gdXBkYXRpbmcuZmlyZS5jYWxsKGN0eCwgb2JqZWN0RGlmZiwga2V5LCBleGlzdGluZ1ZhbHVlLCBkeFRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbENoYW5nZXNfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdGVkVmFsdWVfMSA9IHJlcS52YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGFkZGl0aW9uYWxDaGFuZ2VzXzEpLmZvckVhY2goZnVuY3Rpb24gKGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24ocmVxdWVzdGVkVmFsdWVfMSwga2V5UGF0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRWYWx1ZV8xW2tleVBhdGhdID0gYWRkaXRpb25hbENoYW5nZXNfMVtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChyZXF1ZXN0ZWRWYWx1ZV8xLCBrZXlQYXRoLCBhZGRpdGlvbmFsQ2hhbmdlc18xW2tleVBhdGhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUubXV0YXRlKHJlcSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWlsdXJlcyA9IF9hLmZhaWx1cmVzLCByZXN1bHRzID0gX2EucmVzdWx0cywgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgbGFzdFJlc3VsdCA9IF9hLmxhc3RSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbUtleSA9IHJlc3VsdHMgPyByZXN1bHRzW2ldIDoga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3R4ID0gY29udGV4dHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1LZXkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgub25lcnJvciAmJiBjdHgub25lcnJvcihmYWlsdXJlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgub25zdWNjZXNzICYmIGN0eC5vbnN1Y2Nlc3MocmVxLnR5cGUgPT09ICdwdXQnICYmIGV4aXN0aW5nVmFsdWVzW2ldID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXNbaV0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbUtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGZhaWx1cmVzOiBmYWlsdXJlcywgcmVzdWx0czogcmVzdWx0cywgbnVtRmFpbHVyZXM6IG51bUZhaWx1cmVzLCBsYXN0UmVzdWx0OiBsYXN0UmVzdWx0IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dHMuZm9yRWFjaChmdW5jdGlvbiAoY3R4KSB7IHJldHVybiBjdHgub25lcnJvciAmJiBjdHgub25lcnJvcihlcnJvcik7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZWxldGVSYW5nZShyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlTmV4dENodW5rKHJlcS50cmFucywgcmVxLnJhbmdlLCAxMDAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZWxldGVOZXh0Q2h1bmsodHJhbnMsIHJhbmdlLCBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUucXVlcnkoeyB0cmFuczogdHJhbnMsIHZhbHVlczogZmFsc2UsIHF1ZXJ5OiB7IGluZGV4OiBwcmltYXJ5S2V5LCByYW5nZTogcmFuZ2UgfSwgbGltaXQ6IGxpbWl0IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkUHV0T3JEZWxldGUoeyB0eXBlOiAnZGVsZXRlJywga2V5czogcmVzdWx0LCB0cmFuczogdHJhbnMgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm51bUZhaWx1cmVzID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmYWlsdXJlczogW10sIG51bUZhaWx1cmVzOiAwLCBsYXN0UmVzdWx0OiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWxldGVOZXh0Q2h1bmsodHJhbnMsIF9fYXNzaWduKF9fYXNzaWduKHt9LCByYW5nZSksIHsgbG93ZXI6IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0sIGxvd2VyT3BlbjogdHJ1ZSB9KSwgbGltaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVNaWRkbGV3YXJlO1xuICAgICAgICAgICAgfSB9KSk7IH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldEV4aXN0aW5nVmFsdWVzKHRhYmxlLCByZXEsIGVmZmVjdGl2ZUtleXMpIHtcbiAgICAgICAgcmV0dXJuIHJlcS50eXBlID09PSBcImFkZFwiXG4gICAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZShbXSlcbiAgICAgICAgICAgIDogdGFibGUuZ2V0TWFueSh7IHRyYW5zOiByZXEudHJhbnMsIGtleXM6IGVmZmVjdGl2ZUtleXMsIGNhY2hlOiBcImltbXV0YWJsZVwiIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEZyb21UcmFuc2FjdGlvbkNhY2hlKGtleXMsIGNhY2hlLCBjbG9uZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmIChjYWNoZS5rZXlzLmxlbmd0aCA8IGtleXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgY2FjaGUua2V5cy5sZW5ndGggJiYgaiA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY21wKGNhY2hlLmtleXNbaV0sIGtleXNbal0pICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjbG9uZSA/IGRlZXBDbG9uZShjYWNoZS52YWx1ZXNbaV0pIDogY2FjaGUudmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICArK2o7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA9PT0ga2V5cy5sZW5ndGggPyByZXN1bHQgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNhY2hlRXhpc3RpbmdWYWx1ZXNNaWRkbGV3YXJlID0ge1xuICAgICAgICBzdGFjazogXCJkYmNvcmVcIixcbiAgICAgICAgbGV2ZWw6IC0xLFxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChjb3JlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCB0YWJsZSksIHsgZ2V0TWFueTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVxLmNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5nZXRNYW55KHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZWRSZXN1bHQgPSBnZXRGcm9tVHJhbnNhY3Rpb25DYWNoZShyZXEua2V5cywgcmVxLnRyYW5zW1wiX2NhY2hlXCJdLCByZXEuY2FjaGUgPT09IFwiY2xvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUoY2FjaGVkUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLmdldE1hbnkocmVxKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnRyYW5zW1wiX2NhY2hlXCJdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5czogcmVxLmtleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHJlcS5jYWNoZSA9PT0gXCJjbG9uZVwiID8gZGVlcENsb25lKHJlcykgOiByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBtdXRhdGU6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLnR5cGUgIT09IFwiYWRkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS50cmFuc1tcIl9jYWNoZVwiXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLm11dGF0ZShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNDYWNoYWJsZUNvbnRleHQoY3R4LCB0YWJsZSkge1xuICAgICAgICByZXR1cm4gKGN0eC50cmFucy5tb2RlID09PSAncmVhZG9ubHknICYmXG4gICAgICAgICAgICAhIWN0eC5zdWJzY3IgJiZcbiAgICAgICAgICAgICFjdHgudHJhbnMuZXhwbGljaXQgJiZcbiAgICAgICAgICAgIGN0eC50cmFucy5kYi5fb3B0aW9ucy5jYWNoZSAhPT0gJ2Rpc2FibGVkJyAmJlxuICAgICAgICAgICAgIXRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5Lm91dGJvdW5kKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0NhY2hhYmxlUmVxdWVzdCh0eXBlLCByZXEpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdxdWVyeSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcS52YWx1ZXMgJiYgIXJlcS51bmlxdWU7XG4gICAgICAgICAgICBjYXNlICdnZXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgJ2dldE1hbnknOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgJ2NvdW50JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdvcGVuQ3Vyc29yJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgb2JzZXJ2YWJpbGl0eU1pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBsZXZlbDogMCxcbiAgICAgICAgbmFtZTogXCJPYnNlcnZhYmlsaXR5XCIsXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGNvcmUpIHtcbiAgICAgICAgICAgIHZhciBkYk5hbWUgPSBjb3JlLnNjaGVtYS5uYW1lO1xuICAgICAgICAgICAgdmFyIEZVTExfUkFOR0UgPSBuZXcgUmFuZ2VTZXQoY29yZS5NSU5fS0VZLCBjb3JlLk1BWF9LRVkpO1xuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb3JlKSwgeyB0cmFuc2FjdGlvbjogZnVuY3Rpb24gKHN0b3JlcywgbW9kZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUFNELnN1YnNjciAmJiBtb2RlICE9PSAncmVhZG9ubHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5SZWFkT25seShcIlJlYWR3cml0ZSB0cmFuc2FjdGlvbiBpbiBsaXZlUXVlcnkgY29udGV4dC4gUXVlcmllciBzb3VyY2U6IFwiLmNvbmNhdChQU0QucXVlcmllcikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSwgdGFibGU6IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gY29yZS50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NoZW1hID0gdGFibGUuc2NoZW1hO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleSA9IHNjaGVtYS5wcmltYXJ5S2V5LCBpbmRleGVzID0gc2NoZW1hLmluZGV4ZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRyYWN0S2V5ID0gcHJpbWFyeUtleS5leHRyYWN0S2V5LCBvdXRib3VuZCA9IHByaW1hcnlLZXkub3V0Ym91bmQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleGVzV2l0aEF1dG9JbmNQSyA9IHByaW1hcnlLZXkuYXV0b0luY3JlbWVudCAmJiBpbmRleGVzLmZpbHRlcihmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIGluZGV4LmNvbXBvdW5kICYmIGluZGV4LmtleVBhdGguaW5jbHVkZXMocHJpbWFyeUtleS5rZXlQYXRoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZUNsb25lID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRhYmxlKSwgeyBtdXRhdGU6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IHJlcS50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXV0YXRlZFBhcnRzID0gcmVxLm11dGF0ZWRQYXJ0cyB8fCAocmVxLm11dGF0ZWRQYXJ0cyA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0UmFuZ2VTZXQgPSBmdW5jdGlvbiAoaW5kZXhOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlTmFtZSwgXCIvXCIpLmNvbmNhdChpbmRleE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG11dGF0ZWRQYXJ0c1twYXJ0XSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG11dGF0ZWRQYXJ0c1twYXJ0XSA9IG5ldyBSYW5nZVNldCgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtSYW5nZVNldCA9IGdldFJhbmdlU2V0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxzUmFuZ2VTZXQgPSBnZXRSYW5nZVNldChcIjpkZWxzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcmVxLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jID0gcmVxLnR5cGUgPT09IFwiZGVsZXRlUmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtyZXEucmFuZ2VdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVxLnR5cGUgPT09IFwiZGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW3JlcS5rZXlzXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXEudmFsdWVzLmxlbmd0aCA8IDUwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbZ2V0RWZmZWN0aXZlS2V5cyhwcmltYXJ5S2V5LCByZXEpLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGlkOyB9KSwgcmVxLnZhbHVlc11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtdLCBrZXlzID0gX2NbMF0sIG5ld09ianMgPSBfY1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkQ2FjaGUgPSByZXEudHJhbnNbXCJfY2FjaGVcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoa2V5cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGRLZXlzKGtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkT2JqcyA9IHR5cGUgPT09ICdkZWxldGUnIHx8IGtleXMubGVuZ3RoID09PSBuZXdPYmpzLmxlbmd0aCA/IGdldEZyb21UcmFuc2FjdGlvbkNhY2hlKGtleXMsIG9sZENhY2hlKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2xkT2Jqcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0LmFkZEtleXMoa2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZE9ianMgfHwgbmV3T2Jqcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tBZmZlY3RlZEluZGV4ZXMoZ2V0UmFuZ2VTZXQsIHNjaGVtYSwgb2xkT2JqcywgbmV3T2Jqcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAoX2EgPSBrZXlzLmxvd2VyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb3JlLk1JTl9LRVksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogKF9iID0ga2V5cy51cHBlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29yZS5NQVhfS0VZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldC5hZGQocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0LmFkZChyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0LmFkZChGVUxMX1JBTkdFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0LmFkZChGVUxMX1JBTkdFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7IHJldHVybiBnZXRSYW5nZVNldChpZHgubmFtZSkuYWRkKEZVTExfUkFOR0UpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLm11dGF0ZShyZXEpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cyAmJiAocmVxLnR5cGUgPT09ICdhZGQnIHx8IHJlcS50eXBlID09PSAncHV0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXQuYWRkS2V5cyhyZXMucmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhlc1dpdGhBdXRvSW5jUEspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleGVzV2l0aEF1dG9JbmNQSy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeFZhbHMgPSByZXEudmFsdWVzLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gaWR4LmV4dHJhY3RLZXkodik7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtQb3MgPSBpZHgua2V5UGF0aC5maW5kSW5kZXgoZnVuY3Rpb24gKHByb3ApIHsgcmV0dXJuIHByb3AgPT09IHByaW1hcnlLZXkua2V5UGF0aDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZXMucmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4VmFsc1tpXVtwa1Bvc10gPSByZXMucmVzdWx0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRSYW5nZVNldChpZHgubmFtZSkuYWRkS2V5cyhpZHhWYWxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5tdXRhdGVkUGFydHMgPSBleHRlbmRPYnNlcnZhYmlsaXR5U2V0KHRyYW5zLm11dGF0ZWRQYXJ0cyB8fCB7fSwgbXV0YXRlZFBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRSYW5nZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZCA9IF9hLnF1ZXJ5LCBpbmRleCA9IF9kLmluZGV4LCByYW5nZSA9IF9kLnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmFuZ2VTZXQoKF9iID0gcmFuZ2UubG93ZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvcmUuTUlOX0tFWSwgKF9jID0gcmFuZ2UudXBwZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGNvcmUuTUFYX0tFWSksXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZFN1YnNjcmliZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAocmVxKSB7IHJldHVybiBbcHJpbWFyeUtleSwgbmV3IFJhbmdlU2V0KHJlcS5rZXkpXTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE1hbnk6IGZ1bmN0aW9uIChyZXEpIHsgcmV0dXJuIFtwcmltYXJ5S2V5LCBuZXcgUmFuZ2VTZXQoKS5hZGRLZXlzKHJlcS5rZXlzKV07IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogZ2V0UmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogZ2V0UmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuQ3Vyc29yOiBnZXRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAga2V5cyhyZWFkU3Vic2NyaWJlcnMpLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVDbG9uZVttZXRob2RdID0gZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3IgPSBQU0Quc3Vic2NyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0xpdmVRdWVyeSA9ICEhc3Vic2NyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoYWJsZSA9IGlzQ2FjaGFibGVDb250ZXh0KFBTRCwgdGFibGUpICYmIGlzQ2FjaGFibGVSZXF1ZXN0KG1ldGhvZCwgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JzU2V0ID0gY2FjaGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZXEub2JzU2V0ID0ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzdWJzY3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGl2ZVF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZXRSYW5nZVNldCA9IGZ1bmN0aW9uIChpbmRleE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlTmFtZSwgXCIvXCIpLmNvbmNhdChpbmRleE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvYnNTZXRbcGFydF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob2JzU2V0W3BhcnRdID0gbmV3IFJhbmdlU2V0KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrUmFuZ2VTZXRfMSA9IGdldFJhbmdlU2V0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsc1JhbmdlU2V0XzEgPSBnZXRSYW5nZVNldChcIjpkZWxzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSByZWFkU3Vic2NyaWJlcnNbbWV0aG9kXShyZXEpLCBxdWVyaWVkSW5kZXggPSBfYVswXSwgcXVlcmllZFJhbmdlcyA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSAncXVlcnknICYmIHF1ZXJpZWRJbmRleC5pc1ByaW1hcnlLZXkgJiYgIXJlcS52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldF8xLmFkZChxdWVyaWVkUmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFJhbmdlU2V0KHF1ZXJpZWRJbmRleC5uYW1lIHx8IFwiXCIpLmFkZChxdWVyaWVkUmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXF1ZXJpZWRJbmRleC5pc1ByaW1hcnlLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFwiY291bnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldF8xLmFkZChGVUxMX1JBTkdFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlzUHJvbWlzZV8xID0gbWV0aG9kID09PSBcInF1ZXJ5XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Ym91bmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnZhbHVlcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5xdWVyeShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxKSwgeyB2YWx1ZXM6IGZhbHNlIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSBcInF1ZXJ5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRib3VuZCAmJiByZXEudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXNQcm9taXNlXzEudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdGluZ0tleXMgPSBfYS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXRfMS5hZGRLZXlzKHJlc3VsdGluZ0tleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBLZXlzID0gcmVxLnZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzLnJlc3VsdC5tYXAoZXh0cmFjdEtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlcy5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXRfMS5hZGRLZXlzKHBLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldF8xLmFkZEtleXMocEtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJvcGVuQ3Vyc29yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3JfMSA9IHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3YW50VmFsdWVzXzEgPSByZXEudmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjdXJzb3JfMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5jcmVhdGUoY3Vyc29yXzEsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGRLZXkoY3Vyc29yXzEucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvcl8xLmtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa2V5ID0gY3Vyc29yXzEucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGRLZXkocGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBrZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FudFZhbHVlc18xICYmIHBrUmFuZ2VTZXRfMS5hZGRLZXkoY3Vyc29yXzEucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvcl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZUNsb25lO1xuICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiB0cmFja0FmZmVjdGVkSW5kZXhlcyhnZXRSYW5nZVNldCwgc2NoZW1hLCBvbGRPYmpzLCBuZXdPYmpzKSB7XG4gICAgICAgIGZ1bmN0aW9uIGFkZEFmZmVjdGVkSW5kZXgoaXgpIHtcbiAgICAgICAgICAgIHZhciByYW5nZVNldCA9IGdldFJhbmdlU2V0KGl4Lm5hbWUgfHwgXCJcIik7XG4gICAgICAgICAgICBmdW5jdGlvbiBleHRyYWN0S2V5KG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmogIT0gbnVsbCA/IGl4LmV4dHJhY3RLZXkob2JqKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYWRkS2V5T3JLZXlzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gaXgubXVsdGlFbnRyeSAmJiBpc0FycmF5KGtleSlcbiAgICAgICAgICAgICAgICA/IGtleS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHJhbmdlU2V0LmFkZEtleShrZXkpOyB9KVxuICAgICAgICAgICAgICAgIDogcmFuZ2VTZXQuYWRkS2V5KGtleSk7IH07XG4gICAgICAgICAgICAob2xkT2JqcyB8fCBuZXdPYmpzKS5mb3JFYWNoKGZ1bmN0aW9uIChfLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEtleSA9IG9sZE9ianMgJiYgZXh0cmFjdEtleShvbGRPYmpzW2ldKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3S2V5ID0gbmV3T2JqcyAmJiBleHRyYWN0S2V5KG5ld09ianNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChjbXAob2xkS2V5LCBuZXdLZXkpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRLZXkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEtleU9yS2V5cyhvbGRLZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3S2V5ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRLZXlPcktleXMobmV3S2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuaW5kZXhlcy5mb3JFYWNoKGFkZEFmZmVjdGVkSW5kZXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkanVzdE9wdGltaXN0aWNGcm9tRmFpbHVyZXModGJsQ2FjaGUsIHJlcSwgcmVzKSB7XG4gICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gcmVxO1xuICAgICAgICBpZiAocmVxLnR5cGUgPT09ICdkZWxldGVSYW5nZScpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBudW1CdWxrT3BzID0gcmVxLmtleXNcbiAgICAgICAgICAgID8gcmVxLmtleXMubGVuZ3RoXG4gICAgICAgICAgICA6ICd2YWx1ZXMnIGluIHJlcSAmJiByZXEudmFsdWVzXG4gICAgICAgICAgICAgICAgPyByZXEudmFsdWVzLmxlbmd0aFxuICAgICAgICAgICAgICAgIDogMTtcbiAgICAgICAgaWYgKHJlcy5udW1GYWlsdXJlcyA9PT0gbnVtQnVsa09wcykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsb25lID0gX19hc3NpZ24oe30sIHJlcSk7XG4gICAgICAgIGlmIChpc0FycmF5KGNsb25lLmtleXMpKSB7XG4gICAgICAgICAgICBjbG9uZS5rZXlzID0gY2xvbmUua2V5cy5maWx0ZXIoZnVuY3Rpb24gKF8sIGkpIHsgcmV0dXJuICEoaSBpbiByZXMuZmFpbHVyZXMpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3ZhbHVlcycgaW4gY2xvbmUgJiYgaXNBcnJheShjbG9uZS52YWx1ZXMpKSB7XG4gICAgICAgICAgICBjbG9uZS52YWx1ZXMgPSBjbG9uZS52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7IHJldHVybiAhKGkgaW4gcmVzLmZhaWx1cmVzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQWJvdmVMb3dlcihrZXksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiByYW5nZS5sb3dlciA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgIDogcmFuZ2UubG93ZXJPcGVuXG4gICAgICAgICAgICAgICAgPyBjbXAoa2V5LCByYW5nZS5sb3dlcikgPiAwXG4gICAgICAgICAgICAgICAgOiBjbXAoa2V5LCByYW5nZS5sb3dlcikgPj0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNCZWxvd1VwcGVyKGtleSwgcmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlLnVwcGVyID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgOiByYW5nZS51cHBlck9wZW5cbiAgICAgICAgICAgICAgICA/IGNtcChrZXksIHJhbmdlLnVwcGVyKSA8IDBcbiAgICAgICAgICAgICAgICA6IGNtcChrZXksIHJhbmdlLnVwcGVyKSA8PSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1dpdGhpblJhbmdlKGtleSwgcmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGlzQWJvdmVMb3dlcihrZXksIHJhbmdlKSAmJiBpc0JlbG93VXBwZXIoa2V5LCByYW5nZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlPcHRpbWlzdGljT3BzKHJlc3VsdCwgcmVxLCBvcHMsIHRhYmxlLCBjYWNoZUVudHJ5LCBpbW11dGFibGUpIHtcbiAgICAgICAgaWYgKCFvcHMgfHwgb3BzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIHZhciBpbmRleCA9IHJlcS5xdWVyeS5pbmRleDtcbiAgICAgICAgdmFyIG11bHRpRW50cnkgPSBpbmRleC5tdWx0aUVudHJ5O1xuICAgICAgICB2YXIgcXVlcnlSYW5nZSA9IHJlcS5xdWVyeS5yYW5nZTtcbiAgICAgICAgdmFyIHByaW1hcnlLZXkgPSB0YWJsZS5zY2hlbWEucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGV4dHJhY3RQcmltS2V5ID0gcHJpbWFyeUtleS5leHRyYWN0S2V5O1xuICAgICAgICB2YXIgZXh0cmFjdEluZGV4ID0gaW5kZXguZXh0cmFjdEtleTtcbiAgICAgICAgdmFyIGV4dHJhY3RMb3dMZXZlbEluZGV4ID0gKGluZGV4Lmxvd0xldmVsSW5kZXggfHwgaW5kZXgpLmV4dHJhY3RLZXk7XG4gICAgICAgIHZhciBmaW5hbFJlc3VsdCA9IG9wcy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgb3ApIHtcbiAgICAgICAgICAgIHZhciBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgICAgdmFyIGluY2x1ZGVkVmFsdWVzID0gW107XG4gICAgICAgICAgICBpZiAob3AudHlwZSA9PT0gJ2FkZCcgfHwgb3AudHlwZSA9PT0gJ3B1dCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZWRQS3MgPSBuZXcgUmFuZ2VTZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gb3AudmFsdWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9wLnZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBrID0gZXh0cmFjdFByaW1LZXkodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZWRQS3MuaGFzS2V5KHBrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZXh0cmFjdEluZGV4KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpRW50cnkgJiYgaXNBcnJheShrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGtleS5zb21lKGZ1bmN0aW9uIChrKSB7IHJldHVybiBpc1dpdGhpblJhbmdlKGssIHF1ZXJ5UmFuZ2UpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpc1dpdGhpblJhbmdlKGtleSwgcXVlcnlSYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVkUEtzLmFkZEtleShwayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlZFZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAob3AudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FkZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nS2V5c18xID0gbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhyZXEudmFsdWVzID8gcmVzdWx0Lm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZXh0cmFjdFByaW1LZXkodik7IH0pIDogcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdC5jb25jYXQocmVxLnZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBpbmNsdWRlZFZhbHVlcy5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZXh0cmFjdFByaW1LZXkodik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5c18xLmhhc0tleShrZXkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdLZXlzXzEuYWRkS2V5KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlZFZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGV4dHJhY3RQcmltS2V5KHYpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdLZXlzXzEuaGFzS2V5KGspKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdLZXlzXzEuYWRkS2V5KGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAncHV0Jzoge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5U2V0XzEgPSBuZXcgUmFuZ2VTZXQoKS5hZGRLZXlzKG9wLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGV4dHJhY3RQcmltS2V5KHYpOyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmZWRSZXN1bHQgPSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAha2V5U2V0XzEuaGFzS2V5KHJlcS52YWx1ZXMgPyBleHRyYWN0UHJpbUtleShpdGVtKSA6IGl0ZW0pOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgcmVxLnZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBpbmNsdWRlZFZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlZFZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGV4dHJhY3RQcmltS2V5KHYpOyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5c1RvRGVsZXRlXzEgPSBuZXcgUmFuZ2VTZXQoKS5hZGRLZXlzKG9wLmtleXMpO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFrZXlzVG9EZWxldGVfMS5oYXNLZXkocmVxLnZhbHVlcyA/IGV4dHJhY3RQcmltS2V5KGl0ZW0pIDogaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZWxldGVSYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZV8xID0gb3AucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmZWRSZXN1bHQgPSByZXN1bHQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAhaXNXaXRoaW5SYW5nZShleHRyYWN0UHJpbUtleShpdGVtKSwgcmFuZ2VfMSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2RpZmVkUmVzdWx0O1xuICAgICAgICB9LCByZXN1bHQpO1xuICAgICAgICBpZiAoZmluYWxSZXN1bHQgPT09IHJlc3VsdClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGZpbmFsUmVzdWx0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBjbXAoZXh0cmFjdExvd0xldmVsSW5kZXgoYSksIGV4dHJhY3RMb3dMZXZlbEluZGV4KGIpKSB8fFxuICAgICAgICAgICAgICAgIGNtcChleHRyYWN0UHJpbUtleShhKSwgZXh0cmFjdFByaW1LZXkoYikpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlcS5saW1pdCAmJiByZXEubGltaXQgPCBJbmZpbml0eSkge1xuICAgICAgICAgICAgaWYgKGZpbmFsUmVzdWx0Lmxlbmd0aCA+IHJlcS5saW1pdCkge1xuICAgICAgICAgICAgICAgIGZpbmFsUmVzdWx0Lmxlbmd0aCA9IHJlcS5saW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5sZW5ndGggPT09IHJlcS5saW1pdCAmJiBmaW5hbFJlc3VsdC5sZW5ndGggPCByZXEubGltaXQpIHtcbiAgICAgICAgICAgICAgICBjYWNoZUVudHJ5LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1tdXRhYmxlID8gT2JqZWN0LmZyZWV6ZShmaW5hbFJlc3VsdCkgOiBmaW5hbFJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcmVSYW5nZXNFcXVhbChyMSwgcjIpIHtcbiAgICAgICAgcmV0dXJuIChjbXAocjEubG93ZXIsIHIyLmxvd2VyKSA9PT0gMCAmJlxuICAgICAgICAgICAgY21wKHIxLnVwcGVyLCByMi51cHBlcikgPT09IDAgJiZcbiAgICAgICAgICAgICEhcjEubG93ZXJPcGVuID09PSAhIXIyLmxvd2VyT3BlbiAmJlxuICAgICAgICAgICAgISFyMS51cHBlck9wZW4gPT09ICEhcjIudXBwZXJPcGVuKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wYXJlTG93ZXJzKGxvd2VyMSwgbG93ZXIyLCBsb3dlck9wZW4xLCBsb3dlck9wZW4yKSB7XG4gICAgICAgIGlmIChsb3dlcjEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBsb3dlcjIgIT09IHVuZGVmaW5lZCA/IC0xIDogMDtcbiAgICAgICAgaWYgKGxvd2VyMiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIHZhciBjID0gY21wKGxvd2VyMSwgbG93ZXIyKTtcbiAgICAgICAgaWYgKGMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChsb3dlck9wZW4xICYmIGxvd2VyT3BlbjIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBpZiAobG93ZXJPcGVuMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChsb3dlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZVVwcGVycyh1cHBlcjEsIHVwcGVyMiwgdXBwZXJPcGVuMSwgdXBwZXJPcGVuMikge1xuICAgICAgICBpZiAodXBwZXIxID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdXBwZXIyICE9PSB1bmRlZmluZWQgPyAxIDogMDtcbiAgICAgICAgaWYgKHVwcGVyMiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB2YXIgYyA9IGNtcCh1cHBlcjEsIHVwcGVyMik7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodXBwZXJPcGVuMSAmJiB1cHBlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKHVwcGVyT3BlbjEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKHVwcGVyT3BlbjIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzU3VwZXJSYW5nZShyMSwgcjIpIHtcbiAgICAgICAgcmV0dXJuIChjb21wYXJlTG93ZXJzKHIxLmxvd2VyLCByMi5sb3dlciwgcjEubG93ZXJPcGVuLCByMi5sb3dlck9wZW4pIDw9IDAgJiZcbiAgICAgICAgICAgIGNvbXBhcmVVcHBlcnMocjEudXBwZXIsIHIyLnVwcGVyLCByMS51cHBlck9wZW4sIHIyLnVwcGVyT3BlbikgPj0gMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluZENvbXBhdGlibGVRdWVyeShkYk5hbWUsIHRhYmxlTmFtZSwgdHlwZSwgcmVxKSB7XG4gICAgICAgIHZhciB0YmxDYWNoZSA9IGNhY2hlW1wiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUpXTtcbiAgICAgICAgaWYgKCF0YmxDYWNoZSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdmFyIHF1ZXJpZXMgPSB0YmxDYWNoZS5xdWVyaWVzW3R5cGVdO1xuICAgICAgICBpZiAoIXF1ZXJpZXMpXG4gICAgICAgICAgICByZXR1cm4gW251bGwsIGZhbHNlLCB0YmxDYWNoZSwgbnVsbF07XG4gICAgICAgIHZhciBpbmRleE5hbWUgPSByZXEucXVlcnkgPyByZXEucXVlcnkuaW5kZXgubmFtZSA6IG51bGw7XG4gICAgICAgIHZhciBlbnRyaWVzID0gcXVlcmllc1tpbmRleE5hbWUgfHwgJyddO1xuICAgICAgICBpZiAoIWVudHJpZXMpXG4gICAgICAgICAgICByZXR1cm4gW251bGwsIGZhbHNlLCB0YmxDYWNoZSwgbnVsbF07XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncXVlcnknOlxuICAgICAgICAgICAgICAgIHZhciBlcXVhbEVudHJ5ID0gZW50cmllcy5maW5kKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkucmVxLmxpbWl0ID09PSByZXEubGltaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnJlcS52YWx1ZXMgPT09IHJlcS52YWx1ZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZVJhbmdlc0VxdWFsKGVudHJ5LnJlcS5xdWVyeS5yYW5nZSwgcmVxLnF1ZXJ5LnJhbmdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZXF1YWxFbnRyeSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsRW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGJsQ2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyaWVzLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHZhciBzdXBlckVudHJ5ID0gZW50cmllcy5maW5kKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGltaXQgPSAnbGltaXQnIGluIGVudHJ5LnJlcSA/IGVudHJ5LnJlcS5saW1pdCA6IEluZmluaXR5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGxpbWl0ID49IHJlcS5saW1pdCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlcS52YWx1ZXMgPyBlbnRyeS5yZXEudmFsdWVzIDogdHJ1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3VwZXJSYW5nZShlbnRyeS5yZXEucXVlcnkucmFuZ2UsIHJlcS5xdWVyeS5yYW5nZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbc3VwZXJFbnRyeSwgZmFsc2UsIHRibENhY2hlLCBlbnRyaWVzXTtcbiAgICAgICAgICAgIGNhc2UgJ2NvdW50JzpcbiAgICAgICAgICAgICAgICB2YXIgY291bnRRdWVyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZVJhbmdlc0VxdWFsKGVudHJ5LnJlcS5xdWVyeS5yYW5nZSwgcmVxLnF1ZXJ5LnJhbmdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2NvdW50UXVlcnksICEhY291bnRRdWVyeSwgdGJsQ2FjaGUsIGVudHJpZXNdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlVG9DYWNoZUVudHJ5KGNhY2hlRW50cnksIGNvbnRhaW5lciwgcmVxdWVyeSwgc2lnbmFsKSB7XG4gICAgICAgIGNhY2hlRW50cnkuc3Vic2NyaWJlcnMuYWRkKHJlcXVlcnkpO1xuICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNhY2hlRW50cnkuc3Vic2NyaWJlcnMuZGVsZXRlKHJlcXVlcnkpO1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGVucXVlRm9yRGVsZXRpb24oY2FjaGVFbnRyeSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVlRm9yRGVsZXRpb24oY2FjaGVFbnRyeSwgY29udGFpbmVyKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShjb250YWluZXIsIGNhY2hlRW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG5cbiAgICB2YXIgY2FjaGVNaWRkbGV3YXJlID0ge1xuICAgICAgICBzdGFjazogJ2RiY29yZScsXG4gICAgICAgIGxldmVsOiAwLFxuICAgICAgICBuYW1lOiAnQ2FjaGUnLFxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChjb3JlKSB7XG4gICAgICAgICAgICB2YXIgZGJOYW1lID0gY29yZS5zY2hlbWEubmFtZTtcbiAgICAgICAgICAgIHZhciBjb3JlTVcgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29yZSksIHsgdHJhbnNhY3Rpb246IGZ1bmN0aW9uIChzdG9yZXMsIG1vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkYnRyYW5zID0gY29yZS50cmFuc2FjdGlvbihzdG9yZXMsIG1vZGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3JlYWR3cml0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY18xID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpZ25hbCA9IGFjXzEuc2lnbmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKHdhc0NvbW1pdHRlZCkgeyByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjXzEuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3JlYWR3cml0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFmZmVjdGVkU3Vic2NyaWJlcnNfMSA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBzdG9yZXNfMSA9IHN0b3JlczsgX2kgPCBzdG9yZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSBzdG9yZXNfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQoc3RvcmVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGJsQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBjb3JlLnRhYmxlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wcyA9IHRibENhY2hlLm9wdGltaXN0aWNPcHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3AudHJhbnMgPT09IGlkYnRyYW5zOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRidHJhbnMuX2V4cGxpY2l0ICYmIHdhc0NvbW1pdHRlZCAmJiBpZGJ0cmFucy5tdXRhdGVkUGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBfYiA9IE9iamVjdC52YWx1ZXModGJsQ2FjaGUucXVlcmllcy5xdWVyeSk7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cmllcyA9IF9iW19hXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9jID0gMCwgX2QgPSBlbnRyaWVzLnNsaWNlKCk7IF9jIDwgX2QubGVuZ3RoOyBfYysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2RbX2NdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYnNTZXRzT3ZlcmxhcChlbnRyeS5vYnNTZXQsIGlkYnRyYW5zLm11dGF0ZWRQYXJ0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKGVudHJpZXMsIGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gYWZmZWN0ZWRTdWJzY3JpYmVyc18xLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLm9wdGltaXN0aWNPcHMgPSB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLnRyYW5zICE9PSBpZGJ0cmFuczsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9lID0gMCwgX2YgPSBPYmplY3QudmFsdWVzKHRibENhY2hlLnF1ZXJpZXMucXVlcnkpOyBfZSA8IF9mLmxlbmd0aDsgX2UrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJpZXMgPSBfZltfZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZyA9IDAsIF9oID0gZW50cmllcy5zbGljZSgpOyBfZyA8IF9oLmxlbmd0aDsgX2crKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IF9oW19nXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkucmVzICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMubXV0YXRlZFBhcnRzXG4gICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3YXNDb21taXR0ZWQgJiYgIWVudHJ5LmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJlZXplUmVzdWx0cyA9IE9iamVjdC5pc0Zyb3plbihlbnRyeS5yZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZFJlcyA9IGFwcGx5T3B0aW1pc3RpY09wcyhlbnRyeS5yZXMsIGVudHJ5LnJlcSwgb3BzLCB0YWJsZSwgZW50cnksIGZyZWV6ZVJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKGVudHJpZXMsIGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiBhZmZlY3RlZFN1YnNjcmliZXJzXzEuYWRkKHJlcXVlcnkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZFJlcyAhPT0gZW50cnkucmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkucmVzID0gbW9kUmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnByb21pc2UgPSBEZXhpZVByb21pc2UucmVzb2x2ZSh7IHJlc3VsdDogbW9kUmVzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKGVudHJpZXMsIGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIGFmZmVjdGVkU3Vic2NyaWJlcnNfMS5hZGQocmVxdWVyeSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZmVjdGVkU3Vic2NyaWJlcnNfMS5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiByZXF1ZXJ5KCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07IH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJ0cmFucy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGVuZFRyYW5zYWN0aW9uKGZhbHNlKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJ0cmFucy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVuZFRyYW5zYWN0aW9uKGZhbHNlKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJ0cmFucy5hZGRFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIGVuZFRyYW5zYWN0aW9uKHRydWUpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWRidHJhbnM7XG4gICAgICAgICAgICAgICAgfSwgdGFibGU6IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvd25UYWJsZSA9IGNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1LZXkgPSBkb3duVGFibGUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZU1XID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd25UYWJsZSksIHsgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gUFNELnRyYW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmltS2V5Lm91dGJvdW5kIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLmRiLl9vcHRpb25zLmNhY2hlID09PSAnZGlzYWJsZWQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLmV4cGxpY2l0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zLm1vZGUgIT09ICdyZWFkd3JpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUubXV0YXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YmxDYWNoZSA9IGNhY2hlW1wiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRibENhY2hlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gZG93blRhYmxlLm11dGF0ZShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVxLnR5cGUgPT09ICdhZGQnIHx8IHJlcS50eXBlID09PSAncHV0JykgJiYgKHJlcS52YWx1ZXMubGVuZ3RoID49IDUwIHx8IGdldEVmZmVjdGl2ZUtleXMocHJpbUtleSwgcmVxKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGtleSA9PSBudWxsOyB9KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXFXaXRoUmVzb2x2ZWRLZXlzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsgdmFsdWVzOiByZXEudmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmZhaWx1cmVzW2ldKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVXaXRoS2V5ID0gKChfYSA9IHByaW1LZXkua2V5UGF0aCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKCcuJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGRlZXBDbG9uZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX19hc3NpZ24oe30sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKHZhbHVlV2l0aEtleSwgcHJpbUtleS5rZXlQYXRoLCByZXMucmVzdWx0c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVdpdGhLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRqdXN0ZWRSZXEgPSBhZGp1c3RPcHRpbWlzdGljRnJvbUZhaWx1cmVzKHRibENhY2hlLCByZXFXaXRoUmVzb2x2ZWRLZXlzLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGJsQ2FjaGUub3B0aW1pc3RpY09wcy5wdXNoKGFkanVzdGVkUmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlcS5tdXRhdGVkUGFydHMgJiYgc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocmVxLm11dGF0ZWRQYXJ0cyk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLm9wdGltaXN0aWNPcHMucHVzaChyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5udW1GYWlsdXJlcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0odGJsQ2FjaGUub3B0aW1pc3RpY09wcywgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRqdXN0ZWRSZXEgPSBhZGp1c3RPcHRpbWlzdGljRnJvbUZhaWx1cmVzKHRibENhY2hlLCByZXEsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkanVzdGVkUmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLm9wdGltaXN0aWNPcHMucHVzaChhZGp1c3RlZFJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5tdXRhdGVkUGFydHMgJiYgc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocmVxLm11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbSh0YmxDYWNoZS5vcHRpbWlzdGljT3BzLCByZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm11dGF0ZWRQYXJ0cyAmJiBzaWduYWxTdWJzY3JpYmVyc0xhemlseShyZXEubXV0YXRlZFBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcXVlcnk6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NhY2hhYmxlQ29udGV4dChQU0QsIGRvd25UYWJsZSkgfHwgIWlzQ2FjaGFibGVSZXF1ZXN0KFwicXVlcnlcIiwgcmVxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5xdWVyeShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmVlemVSZXN1bHRzID0gKChfYSA9IFBTRC50cmFucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRiLl9vcHRpb25zLmNhY2hlKSA9PT0gJ2ltbXV0YWJsZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gUFNELCByZXF1ZXJ5ID0gX2IucmVxdWVyeSwgc2lnbmFsID0gX2Iuc2lnbmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYyA9IGZpbmRDb21wYXRpYmxlUXVlcnkoZGJOYW1lLCB0YWJsZU5hbWUsICdxdWVyeScsIHJlcSksIGNhY2hlRW50cnkgPSBfY1swXSwgZXhhY3RNYXRjaCA9IF9jWzFdLCB0YmxDYWNoZSA9IF9jWzJdLCBjb250YWluZXIgPSBfY1szXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVFbnRyeSAmJiBleGFjdE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlRW50cnkub2JzU2V0ID0gcmVxLm9ic1NldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gZG93blRhYmxlLnF1ZXJ5KHJlcSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlRW50cnkucmVzID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZWV6ZVJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJlc3VsdC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShyZXN1bHRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucmVzdWx0ID0gZGVlcENsb25lKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIgJiYgY2FjaGVFbnRyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0oY29udGFpbmVyLCBjYWNoZUVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzU2V0OiByZXEub2JzU2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZTogcHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxOiByZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJ0eTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wdXNoKGNhY2hlRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gW2NhY2hlRW50cnldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YmxDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlID0gY2FjaGVbXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlTmFtZSldID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyaWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeToge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ianM6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW1pc3RpY09wczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmFsZWRQYXJ0czoge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGJsQ2FjaGUucXVlcmllcy5xdWVyeVtyZXEucXVlcnkuaW5kZXgubmFtZSB8fCAnJ10gPSBjb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlVG9DYWNoZUVudHJ5KGNhY2hlRW50cnksIGNvbnRhaW5lciwgcmVxdWVyeSwgc2lnbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeS5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBhcHBseU9wdGltaXN0aWNPcHMocmVzLnJlc3VsdCwgcmVxLCB0YmxDYWNoZSA9PT0gbnVsbCB8fCB0YmxDYWNoZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGJsQ2FjaGUub3B0aW1pc3RpY09wcywgZG93blRhYmxlLCBjYWNoZUVudHJ5LCBmcmVlemVSZXN1bHRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZU1XO1xuICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICByZXR1cm4gY29yZU1XO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiB2aXBpZnkodGFyZ2V0LCB2aXBEYikge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHRhcmdldCwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnZGInKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlwRGI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgRGV4aWUkMSA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBEZXhpZShuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5fbWlkZGxld2FyZXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMudmVybm8gPSAwO1xuICAgICAgICAgICAgdmFyIGRlcHMgPSBEZXhpZS5kZXBlbmRlbmNpZXM7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyA9IF9fYXNzaWduKHtcbiAgICAgICAgICAgICAgICBhZGRvbnM6IERleGllLmFkZG9ucywgYXV0b09wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCOiBkZXBzLmluZGV4ZWREQiwgSURCS2V5UmFuZ2U6IGRlcHMuSURCS2V5UmFuZ2UsIGNhY2hlOiAnY2xvbmVkJyB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX2RlcHMgPSB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZERCOiBvcHRpb25zLmluZGV4ZWREQixcbiAgICAgICAgICAgICAgICBJREJLZXlSYW5nZTogb3B0aW9ucy5JREJLZXlSYW5nZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBhZGRvbnMgPSBvcHRpb25zLmFkZG9ucztcbiAgICAgICAgICAgIHRoaXMuX2RiU2NoZW1hID0ge307XG4gICAgICAgICAgICB0aGlzLl92ZXJzaW9ucyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc3RvcmVOYW1lcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fYWxsVGFibGVzID0ge307XG4gICAgICAgICAgICB0aGlzLmlkYmRiID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX25vdmlwID0gdGhpcztcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBkYk9wZW5FcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICBpc0JlaW5nT3BlbmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblJlYWR5QmVpbmdGaXJlZDogbnVsbCxcbiAgICAgICAgICAgICAgICBvcGVuQ29tcGxldGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRiUmVhZHlSZXNvbHZlOiBub3AsXG4gICAgICAgICAgICAgICAgZGJSZWFkeVByb21pc2U6IG51bGwsXG4gICAgICAgICAgICAgICAgY2FuY2VsT3Blbjogbm9wLFxuICAgICAgICAgICAgICAgIG9wZW5DYW5jZWxsZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgYXV0b1NjaGVtYTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBQUjEzOThfbWF4TG9vcDogMyxcbiAgICAgICAgICAgICAgICBhdXRvT3Blbjogb3B0aW9ucy5hdXRvT3BlbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZS5kYlJlYWR5UHJvbWlzZSA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kYlJlYWR5UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLm9wZW5DYW5jZWxsZXIgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChfLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5jYW5jZWxPcGVuID0gcmVqZWN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMub24gPSBFdmVudHModGhpcywgXCJwb3B1bGF0ZVwiLCBcImJsb2NrZWRcIiwgXCJ2ZXJzaW9uY2hhbmdlXCIsIFwiY2xvc2VcIiwgeyByZWFkeTogW3Byb21pc2FibGVDaGFpbiwgbm9wXSB9KTtcbiAgICAgICAgICAgIHRoaXMub24ucmVhZHkuc3Vic2NyaWJlID0gb3ZlcnJpZGUodGhpcy5vbi5yZWFkeS5zdWJzY3JpYmUsIGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIsIGJTdGlja3kpIHtcbiAgICAgICAgICAgICAgICAgICAgRGV4aWUudmlwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IF90aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5vcGVuQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmRiT3BlbkVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UucmVzb2x2ZSgpLnRoZW4oc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJTdGlja3kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub25SZWFkeUJlaW5nRmlyZWQucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYlN0aWNreSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYl8xID0gX3RoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFiU3RpY2t5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYl8xLm9uLnJlYWR5LnVuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJfMS5vbi5yZWFkeS51bnN1YnNjcmliZSh1bnN1YnNjcmliZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLkNvbGxlY3Rpb24gPSBjcmVhdGVDb2xsZWN0aW9uQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLlRhYmxlID0gY3JlYXRlVGFibGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuVHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbkNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5WZXJzaW9uID0gY3JlYXRlVmVyc2lvbkNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5XaGVyZUNsYXVzZSA9IGNyZWF0ZVdoZXJlQ2xhdXNlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uKFwidmVyc2lvbmNoYW5nZVwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXYubmV3VmVyc2lvbiA+IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFub3RoZXIgY29ubmVjdGlvbiB3YW50cyB0byB1cGdyYWRlIGRhdGFiYXNlICdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInLiBDbG9zaW5nIGRiIG5vdyB0byByZXN1bWUgdGhlIHVwZ3JhZGUuXCIpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFub3RoZXIgY29ubmVjdGlvbiB3YW50cyB0byBkZWxldGUgZGF0YWJhc2UgJ1wiLmNvbmNhdChfdGhpcy5uYW1lLCBcIicuIENsb3NpbmcgZGIgbm93IHRvIHJlc3VtZSB0aGUgZGVsZXRlIHJlcXVlc3QuXCIpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSh7IGRpc2FibGVBdXRvT3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub24oXCJibG9ja2VkXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIGlmICghZXYubmV3VmVyc2lvbiB8fCBldi5uZXdWZXJzaW9uIDwgZXYub2xkVmVyc2lvbilcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRGV4aWUuZGVsZXRlKCdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInKSB3YXMgYmxvY2tlZFwiKSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVcGdyYWRlICdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInIGJsb2NrZWQgYnkgb3RoZXIgY29ubmVjdGlvbiBob2xkaW5nIHZlcnNpb24gXCIpLmNvbmNhdChldi5vbGRWZXJzaW9uIC8gMTApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbWF4S2V5ID0gZ2V0TWF4S2V5KG9wdGlvbnMuSURCS2V5UmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAobW9kZSwgc3RvcmVOYW1lcywgZGJzY2hlbWEsIHBhcmVudFRyYW5zYWN0aW9uKSB7IHJldHVybiBuZXcgX3RoaXMuVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZGJzY2hlbWEsIF90aGlzLl9vcHRpb25zLmNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSwgcGFyZW50VHJhbnNhY3Rpb24pOyB9O1xuICAgICAgICAgICAgdGhpcy5fZmlyZU9uQmxvY2tlZCA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uKFwiYmxvY2tlZFwiKS5maXJlKGV2KTtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm5hbWUgPT09IF90aGlzLm5hbWUgJiYgYyAhPT0gX3RoaXMgJiYgIWMuX3N0YXRlLnZjRmlyZWQ7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMub24oXCJ2ZXJzaW9uY2hhbmdlXCIpLmZpcmUoZXYpOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnVzZShjYWNoZUV4aXN0aW5nVmFsdWVzTWlkZGxld2FyZSk7XG4gICAgICAgICAgICB0aGlzLnVzZShjYWNoZU1pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2Uob2JzZXJ2YWJpbGl0eU1pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2UodmlydHVhbEluZGV4TWlkZGxld2FyZSk7XG4gICAgICAgICAgICB0aGlzLnVzZShob29rc01pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdmFyIHZpcERCID0gbmV3IFByb3h5KHRoaXMsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChfLCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ192aXAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAndGFibGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YWJsZU5hbWUpIHsgcmV0dXJuIHZpcGlmeShfdGhpcy50YWJsZSh0YWJsZU5hbWUpLCB2aXBEQik7IH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBydiA9IFJlZmxlY3QuZ2V0KF8sIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ2IGluc3RhbmNlb2YgVGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlwaWZ5KHJ2LCB2aXBEQik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAndGFibGVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBydi5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHZpcGlmeSh0LCB2aXBEQik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ19jcmVhdGVUcmFuc2FjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eCA9IHJ2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcGlmeSh0eCwgdmlwREIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy52aXAgPSB2aXBEQjtcbiAgICAgICAgICAgIGFkZG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhZGRvbikgeyByZXR1cm4gYWRkb24oX3RoaXMpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBEZXhpZS5wcm90b3R5cGUudmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odmVyc2lvbk51bWJlcikgfHwgdmVyc2lvbk51bWJlciA8IDAuMSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5UeXBlKFwiR2l2ZW4gdmVyc2lvbiBpcyBub3QgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgICAgICAgICB2ZXJzaW9uTnVtYmVyID0gTWF0aC5yb3VuZCh2ZXJzaW9uTnVtYmVyICogMTApIC8gMTA7XG4gICAgICAgICAgICBpZiAodGhpcy5pZGJkYiB8fCB0aGlzLl9zdGF0ZS5pc0JlaW5nT3BlbmVkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIkNhbm5vdCBhZGQgdmVyc2lvbiB3aGVuIGRhdGFiYXNlIGlzIG9wZW5cIik7XG4gICAgICAgICAgICB0aGlzLnZlcm5vID0gTWF0aC5tYXgodGhpcy52ZXJubywgdmVyc2lvbk51bWJlcik7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbnMgPSB0aGlzLl92ZXJzaW9ucztcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uSW5zdGFuY2UgPSB2ZXJzaW9ucy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYuX2NmZy52ZXJzaW9uID09PSB2ZXJzaW9uTnVtYmVyOyB9KVswXTtcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uSW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25JbnN0YW5jZTtcbiAgICAgICAgICAgIHZlcnNpb25JbnN0YW5jZSA9IG5ldyB0aGlzLlZlcnNpb24odmVyc2lvbk51bWJlcik7XG4gICAgICAgICAgICB2ZXJzaW9ucy5wdXNoKHZlcnNpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICB2ZXJzaW9ucy5zb3J0KGxvd2VyVmVyc2lvbkZpcnN0KTtcbiAgICAgICAgICAgIHZlcnNpb25JbnN0YW5jZS5zdG9yZXMoe30pO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuYXV0b1NjaGVtYSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25JbnN0YW5jZTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLl93aGVuUmVhZHkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuaWRiZGIgJiYgKHRoaXMuX3N0YXRlLm9wZW5Db21wbGV0ZSB8fCBQU0QubGV0VGhyb3VnaCB8fCB0aGlzLl92aXApKSA/IGZuKCkgOiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3N0YXRlLm9wZW5Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKF90aGlzLl9zdGF0ZS5kYk9wZW5FcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9zdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3N0YXRlLmF1dG9PcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3BlbigpLmNhdGNoKG5vcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLl9zdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KS50aGVuKGZuKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gX2Euc3RhY2ssIGNyZWF0ZSA9IF9hLmNyZWF0ZSwgbGV2ZWwgPSBfYS5sZXZlbCwgbmFtZSA9IF9hLm5hbWU7XG4gICAgICAgICAgICBpZiAobmFtZSlcbiAgICAgICAgICAgICAgICB0aGlzLnVudXNlKHsgc3RhY2s6IHN0YWNrLCBuYW1lOiBuYW1lIH0pO1xuICAgICAgICAgICAgdmFyIG1pZGRsZXdhcmVzID0gdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdIHx8ICh0aGlzLl9taWRkbGV3YXJlc1tzdGFja10gPSBbXSk7XG4gICAgICAgICAgICBtaWRkbGV3YXJlcy5wdXNoKHsgc3RhY2s6IHN0YWNrLCBjcmVhdGU6IGNyZWF0ZSwgbGV2ZWw6IGxldmVsID09IG51bGwgPyAxMCA6IGxldmVsLCBuYW1lOiBuYW1lIH0pO1xuICAgICAgICAgICAgbWlkZGxld2FyZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5sZXZlbCAtIGIubGV2ZWw7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS51bnVzZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gX2Euc3RhY2ssIG5hbWUgPSBfYS5uYW1lLCBjcmVhdGUgPSBfYS5jcmVhdGU7XG4gICAgICAgICAgICBpZiAoc3RhY2sgJiYgdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdID0gdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdLmZpbHRlcihmdW5jdGlvbiAobXcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZSA/IG13LmNyZWF0ZSAhPT0gY3JlYXRlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPyBtdy5uYW1lICE9PSBuYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdXNlUFNEKGdsb2JhbFBTRCxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRleGllT3BlbihfdGhpcyk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuX2Nsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICB2YXIgaWR4ID0gY29ubmVjdGlvbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZHggPj0gMClcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlkYmRiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGJkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgdGhpcy5pZGJkYiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kYlJlYWR5UHJvbWlzZSA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5DYW5jZWxsZXIgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChfLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY2FuY2VsT3BlbiA9IHJlamVjdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8geyBkaXNhYmxlQXV0b09wZW46IHRydWUgfSA6IF9hLCBkaXNhYmxlQXV0b09wZW4gPSBfYi5kaXNhYmxlQXV0b09wZW47XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlQXV0b09wZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jYW5jZWxPcGVuKG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmF1dG9PcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJPcGVuRXJyb3IgPSBuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hdXRvT3BlbiA9IHRoaXMuX29wdGlvbnMuYXV0b09wZW4gfHxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNCZWluZ09wZW5lZDtcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoY2xvc2VPcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKGNsb3NlT3B0aW9ucyA9PT0gdm9pZCAwKSB7IGNsb3NlT3B0aW9ucyA9IHsgZGlzYWJsZUF1dG9PcGVuOiB0cnVlIH07IH1cbiAgICAgICAgICAgIHZhciBoYXNJbnZhbGlkQXJndW1lbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgdHlwZW9mIGFyZ3VtZW50c1swXSAhPT0gJ29iamVjdCc7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9EZWxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlKGNsb3NlT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBfdGhpcy5fZGVwcy5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoX3RoaXMubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vbkRhdGFiYXNlRGVsZXRlZChfdGhpcy5fZGVwcywgX3RoaXMubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICByZXEub25ibG9ja2VkID0gX3RoaXMuX2ZpcmVPbkJsb2NrZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzSW52YWxpZEFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiSW52YWxpZCBjbG9zZU9wdGlvbnMgYXJndW1lbnQgdG8gZGIuZGVsZXRlKClcIik7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihkb0RlbGV0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkb0RlbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuYmFja2VuZERCID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWRiZGI7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZGJkYiAhPT0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmhhc0JlZW5DbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJPcGVuRXJyb3IgPSB0aGlzLl9zdGF0ZS5kYk9wZW5FcnJvcjtcbiAgICAgICAgICAgIHJldHVybiBkYk9wZW5FcnJvciAmJiAoZGJPcGVuRXJyb3IubmFtZSA9PT0gJ0RhdGFiYXNlQ2xvc2VkJyk7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5oYXNGYWlsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZGJPcGVuRXJyb3IgIT09IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5keW5hbWljYWxseU9wZW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5hdXRvU2NoZW1hO1xuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV4aWUucHJvdG90eXBlLCBcInRhYmxlc1wiLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXlzKHRoaXMuX2FsbFRhYmxlcykubWFwKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBfdGhpcy5fYWxsVGFibGVzW25hbWVdOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBleHRyYWN0VHJhbnNhY3Rpb25BcmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5fdHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAobW9kZSwgdGFibGVzLCBzY29wZUZ1bmMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50VHJhbnNhY3Rpb24gPSBQU0QudHJhbnM7XG4gICAgICAgICAgICBpZiAoIXBhcmVudFRyYW5zYWN0aW9uIHx8IHBhcmVudFRyYW5zYWN0aW9uLmRiICE9PSB0aGlzIHx8IG1vZGUuaW5kZXhPZignIScpICE9PSAtMSlcbiAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB2YXIgb25seUlmQ29tcGF0aWJsZSA9IG1vZGUuaW5kZXhPZignPycpICE9PSAtMTtcbiAgICAgICAgICAgIG1vZGUgPSBtb2RlLnJlcGxhY2UoJyEnLCAnJykucmVwbGFjZSgnPycsICcnKTtcbiAgICAgICAgICAgIHZhciBpZGJNb2RlLCBzdG9yZU5hbWVzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdG9yZU5hbWVzID0gdGFibGVzLm1hcChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlTmFtZSA9IHRhYmxlIGluc3RhbmNlb2YgX3RoaXMuVGFibGUgPyB0YWJsZS5uYW1lIDogdGFibGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RvcmVOYW1lICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRhYmxlIGFyZ3VtZW50IHRvIERleGllLnRyYW5zYWN0aW9uKCkuIE9ubHkgVGFibGUgb3IgU3RyaW5nIGFyZSBhbGxvd2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmVOYW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlID09IFwiclwiIHx8IG1vZGUgPT09IFJFQURPTkxZKVxuICAgICAgICAgICAgICAgICAgICBpZGJNb2RlID0gUkVBRE9OTFk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PSBcInJ3XCIgfHwgbW9kZSA9PSBSRUFEV1JJVEUpXG4gICAgICAgICAgICAgICAgICAgIGlkYk1vZGUgPSBSRUFEV1JJVEU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJJbnZhbGlkIHRyYW5zYWN0aW9uIG1vZGU6IFwiICsgbW9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbi5tb2RlID09PSBSRUFET05MWSAmJiBpZGJNb2RlID09PSBSRUFEV1JJVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmx5SWZDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlN1YlRyYW5zYWN0aW9uKFwiQ2Fubm90IGVudGVyIGEgc3ViLXRyYW5zYWN0aW9uIHdpdGggUkVBRFdSSVRFIG1vZGUgd2hlbiBwYXJlbnQgdHJhbnNhY3Rpb24gaXMgUkVBRE9OTFlcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbiAmJiBwYXJlbnRUcmFuc2FjdGlvbi5zdG9yZU5hbWVzLmluZGV4T2Yoc3RvcmVOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ubHlJZkNvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TdWJUcmFuc2FjdGlvbihcIlRhYmxlIFwiICsgc3RvcmVOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBub3QgaW5jbHVkZWQgaW4gcGFyZW50IHRyYW5zYWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob25seUlmQ29tcGF0aWJsZSAmJiBwYXJlbnRUcmFuc2FjdGlvbiAmJiAhcGFyZW50VHJhbnNhY3Rpb24uYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRUcmFuc2FjdGlvbiA/XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uLl9wcm9taXNlKG51bGwsIGZ1bmN0aW9uIChfLCByZWplY3QpIHsgcmVqZWN0KGUpOyB9KSA6XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbnRlclRyYW5zYWN0aW9uID0gZW50ZXJUcmFuc2FjdGlvblNjb3BlLmJpbmQobnVsbCwgdGhpcywgaWRiTW9kZSwgc3RvcmVOYW1lcywgcGFyZW50VHJhbnNhY3Rpb24sIHNjb3BlRnVuYyk7XG4gICAgICAgICAgICByZXR1cm4gKHBhcmVudFRyYW5zYWN0aW9uID9cbiAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbi5fcHJvbWlzZShpZGJNb2RlLCBlbnRlclRyYW5zYWN0aW9uLCBcImxvY2tcIikgOlxuICAgICAgICAgICAgICAgIFBTRC50cmFucyA/XG4gICAgICAgICAgICAgICAgICAgIHVzZVBTRChQU0QudHJhbnNsZXNzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fd2hlblJlYWR5KGVudGVyVHJhbnNhY3Rpb24pOyB9KSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3doZW5SZWFkeShlbnRlclRyYW5zYWN0aW9uKSk7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duKHRoaXMuX2FsbFRhYmxlcywgdGFibGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRUYWJsZShcIlRhYmxlIFwiLmNvbmNhdCh0YWJsZU5hbWUsIFwiIGRvZXMgbm90IGV4aXN0XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGxUYWJsZXNbdGFibGVOYW1lXTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIERleGllO1xuICAgIH0oKSk7XG5cbiAgICB2YXIgc3ltYm9sT2JzZXJ2YWJsZSA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgXCJvYnNlcnZhYmxlXCIgaW4gU3ltYm9sXG4gICAgICAgID8gU3ltYm9sLm9ic2VydmFibGVcbiAgICAgICAgOiBcIkBAb2JzZXJ2YWJsZVwiO1xuICAgIHZhciBPYnNlcnZhYmxlID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICAgICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKHgsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZSgheCB8fCB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiID8geyBuZXh0OiB4LCBlcnJvcjogZXJyb3IsIGNvbXBsZXRlOiBjb21wbGV0ZSB9IDogeCk7XG4gICAgICAgIH07XG4gICAgICAgIE9ic2VydmFibGUucHJvdG90eXBlW3N5bWJvbE9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlO1xuICAgIH0oKSk7XG5cbiAgICB2YXIgZG9tRGVwcztcbiAgICB0cnkge1xuICAgICAgICBkb21EZXBzID0ge1xuICAgICAgICAgICAgaW5kZXhlZERCOiBfZ2xvYmFsLmluZGV4ZWREQiB8fCBfZ2xvYmFsLm1vekluZGV4ZWREQiB8fCBfZ2xvYmFsLndlYmtpdEluZGV4ZWREQiB8fCBfZ2xvYmFsLm1zSW5kZXhlZERCLFxuICAgICAgICAgICAgSURCS2V5UmFuZ2U6IF9nbG9iYWwuSURCS2V5UmFuZ2UgfHwgX2dsb2JhbC53ZWJraXRJREJLZXlSYW5nZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBkb21EZXBzID0geyBpbmRleGVkREI6IG51bGwsIElEQktleVJhbmdlOiBudWxsIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGl2ZVF1ZXJ5KHF1ZXJpZXIpIHtcbiAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBjdXJyZW50VmFsdWU7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgICB2YXIgc2NvcGVGdW5jSXNBc3luYyA9IGlzQXN5bmNGdW5jdGlvbihxdWVyaWVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGV4ZWN1dGUoY3R4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHdhc1Jvb3RFeGVjID0gYmVnaW5NaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZUZ1bmNJc0FzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBydiA9IG5ld1Njb3BlKHF1ZXJpZXIsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZUZ1bmNJc0FzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydiA9IHJ2LmZpbmFsbHkoZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHdhc1Jvb3RFeGVjICYmIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNsb3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGFib3J0Q29udHJvbGxlcjtcbiAgICAgICAgICAgIHZhciBhY2N1bU11dHMgPSB7fTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50T2JzID0ge307XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0ge1xuICAgICAgICAgICAgICAgIGdldCBjbG9zZWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9zZWQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWJvcnRDb250cm9sbGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydGVkTGlzdGVuaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLnN0b3JhZ2VtdXRhdGVkLnVuc3Vic2NyaWJlKG11dGF0aW9uTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgb2JzZXJ2ZXIuc3RhcnQgJiYgb2JzZXJ2ZXIuc3RhcnQoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBzdGFydGVkTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgZG9RdWVyeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWNJbkdsb2JhbENvbnRleHQoX2RvUXVlcnkpOyB9O1xuICAgICAgICAgICAgZnVuY3Rpb24gc2hvdWxkTm90aWZ5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNTZXRzT3ZlcmxhcChjdXJyZW50T2JzLCBhY2N1bU11dHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG11dGF0aW9uTGlzdGVuZXIgPSBmdW5jdGlvbiAocGFydHMpIHtcbiAgICAgICAgICAgICAgICBleHRlbmRPYnNlcnZhYmlsaXR5U2V0KGFjY3VtTXV0cywgcGFydHMpO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGROb3RpZnkoKSkge1xuICAgICAgICAgICAgICAgICAgICBkb1F1ZXJ5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBfZG9RdWVyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VkIHx8XG4gICAgICAgICAgICAgICAgICAgICFkb21EZXBzLmluZGV4ZWREQilcbiAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjY3VtTXV0cyA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3IgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoYWJvcnRDb250cm9sbGVyKVxuICAgICAgICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyOiBzdWJzY3IsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVyeTogZG9RdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcmllcjogcXVlcmllcixcbiAgICAgICAgICAgICAgICAgICAgdHJhbnM6IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBleGVjdXRlKGN0eCk7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHJldCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VkIHx8IGN0eC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtTXV0cyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JzID0gc3Vic2NyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9iamVjdElzRW1wdHkoY3VycmVudE9icykgJiYgIXN0YXJ0ZWRMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cyhERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSwgbXV0YXRpb25MaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydGVkTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGVjSW5HbG9iYWxDb250ZXh0KGZ1bmN0aW9uICgpIHsgcmV0dXJuICFjbG9zZWQgJiYgb2JzZXJ2ZXIubmV4dCAmJiBvYnNlcnZlci5uZXh0KHJlc3VsdCk7IH0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFbJ0RhdGFiYXNlQ2xvc2VkRXJyb3InLCAnQWJvcnRFcnJvciddLmluY2x1ZGVzKGVyciA9PT0gbnVsbCB8fCBlcnIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVyci5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbG9zZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY0luR2xvYmFsQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yICYmIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGRvUXVlcnksIDApO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmFibGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBoYXNWYWx1ZTsgfTtcbiAgICAgICAgb2JzZXJ2YWJsZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGN1cnJlbnRWYWx1ZTsgfTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfVxuXG4gICAgdmFyIERleGllID0gRGV4aWUkMTtcbiAgICBwcm9wcyhEZXhpZSwgX19hc3NpZ24oX19hc3NpZ24oe30sIGZ1bGxOYW1lRXhjZXB0aW9ucyksIHtcbiAgICAgICAgZGVsZXRlOiBmdW5jdGlvbiAoZGF0YWJhc2VOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZGIgPSBuZXcgRGV4aWUoZGF0YWJhc2VOYW1lLCB7IGFkZG9uczogW10gfSk7XG4gICAgICAgICAgICByZXR1cm4gZGIuZGVsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGV4aXN0czogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWUobmFtZSwgeyBhZGRvbnM6IFtdIH0pLm9wZW4oKS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KS5jYXRjaCgnTm9TdWNoRGF0YWJhc2VFcnJvcicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RGF0YWJhc2VOYW1lczogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXREYXRhYmFzZU5hbWVzKERleGllLmRlcGVuZGVuY2llcykudGhlbihjYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmluZUNsYXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBDbGFzcyhjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIGNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIENsYXNzO1xuICAgICAgICB9LCBpZ25vcmVUcmFuc2FjdGlvbjogZnVuY3Rpb24gKHNjb3BlRnVuYykge1xuICAgICAgICAgICAgcmV0dXJuIFBTRC50cmFucyA/XG4gICAgICAgICAgICAgICAgdXNlUFNEKFBTRC50cmFuc2xlc3MsIHNjb3BlRnVuYykgOlxuICAgICAgICAgICAgICAgIHNjb3BlRnVuYygpO1xuICAgICAgICB9LCB2aXA6IHZpcCwgYXN5bmM6IGZ1bmN0aW9uIChnZW5lcmF0b3JGbikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcnYgPSBhd2FpdEl0ZXJhdG9yKGdlbmVyYXRvckZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJ2IHx8IHR5cGVvZiBydi50aGVuICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHJ2KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHNwYXduOiBmdW5jdGlvbiAoZ2VuZXJhdG9yRm4sIGFyZ3MsIHRoaXopIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHJ2ID0gYXdhaXRJdGVyYXRvcihnZW5lcmF0b3JGbi5hcHBseSh0aGl6LCBhcmdzIHx8IFtdKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFydiB8fCB0eXBlb2YgcnYudGhlbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHJ2KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRUcmFuc2FjdGlvbjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBQU0QudHJhbnMgfHwgbnVsbDsgfVxuICAgICAgICB9LCB3YWl0Rm9yOiBmdW5jdGlvbiAocHJvbWlzZU9yRnVuY3Rpb24sIG9wdGlvbmFsVGltZW91dCkge1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSBEZXhpZVByb21pc2UucmVzb2x2ZSh0eXBlb2YgcHJvbWlzZU9yRnVuY3Rpb24gPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgIERleGllLmlnbm9yZVRyYW5zYWN0aW9uKHByb21pc2VPckZ1bmN0aW9uKSA6XG4gICAgICAgICAgICAgICAgcHJvbWlzZU9yRnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgLnRpbWVvdXQob3B0aW9uYWxUaW1lb3V0IHx8IDYwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgIFBTRC50cmFucy53YWl0Rm9yKHByb21pc2UpIDpcbiAgICAgICAgICAgICAgICBwcm9taXNlO1xuICAgICAgICB9LFxuICAgICAgICBQcm9taXNlOiBEZXhpZVByb21pc2UsXG4gICAgICAgIGRlYnVnOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlYnVnOyB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXREZWJ1Zyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlcml2ZTogZGVyaXZlLCBleHRlbmQ6IGV4dGVuZCwgcHJvcHM6IHByb3BzLCBvdmVycmlkZTogb3ZlcnJpZGUsXG4gICAgICAgIEV2ZW50czogRXZlbnRzLCBvbjogZ2xvYmFsRXZlbnRzLCBsaXZlUXVlcnk6IGxpdmVRdWVyeSwgZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldDogZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCxcbiAgICAgICAgZ2V0QnlLZXlQYXRoOiBnZXRCeUtleVBhdGgsIHNldEJ5S2V5UGF0aDogc2V0QnlLZXlQYXRoLCBkZWxCeUtleVBhdGg6IGRlbEJ5S2V5UGF0aCwgc2hhbGxvd0Nsb25lOiBzaGFsbG93Q2xvbmUsIGRlZXBDbG9uZTogZGVlcENsb25lLCBnZXRPYmplY3REaWZmOiBnZXRPYmplY3REaWZmLCBjbXA6IGNtcCwgYXNhcDogYXNhcCQxLFxuICAgICAgICBtaW5LZXk6IG1pbktleSxcbiAgICAgICAgYWRkb25zOiBbXSxcbiAgICAgICAgY29ubmVjdGlvbnM6IGNvbm5lY3Rpb25zLFxuICAgICAgICBlcnJuYW1lczogZXJybmFtZXMsXG4gICAgICAgIGRlcGVuZGVuY2llczogZG9tRGVwcywgY2FjaGU6IGNhY2hlLFxuICAgICAgICBzZW1WZXI6IERFWElFX1ZFUlNJT04sIHZlcnNpb246IERFWElFX1ZFUlNJT04uc3BsaXQoJy4nKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobikgeyByZXR1cm4gcGFyc2VJbnQobik7IH0pXG4gICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChwLCBjLCBpKSB7IHJldHVybiBwICsgKGMgLyBNYXRoLnBvdygxMCwgaSAqIDIpKTsgfSkgfSkpO1xuICAgIERleGllLm1heEtleSA9IGdldE1heEtleShEZXhpZS5kZXBlbmRlbmNpZXMuSURCS2V5UmFuZ2UpO1xuXG4gICAgaWYgKHR5cGVvZiBkaXNwYXRjaEV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZ2xvYmFsRXZlbnRzKERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FLCBmdW5jdGlvbiAodXBkYXRlZFBhcnRzKSB7XG4gICAgICAgICAgICBpZiAoIXByb3BhZ2F0aW5nTG9jYWxseSkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudF8xO1xuICAgICAgICAgICAgICAgIGV2ZW50XzEgPSBuZXcgQ3VzdG9tRXZlbnQoU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FLCB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogdXBkYXRlZFBhcnRzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRpbmdMb2NhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0aW5nTG9jYWxseSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihTVE9SQUdFX01VVEFURURfRE9NX0VWRU5UX05BTUUsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGRldGFpbCA9IF9hLmRldGFpbDtcbiAgICAgICAgICAgIGlmICghcHJvcGFnYXRpbmdMb2NhbGx5KSB7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRlTG9jYWxseShkZXRhaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlTG9jYWxseSh1cGRhdGVQYXJ0cykge1xuICAgICAgICB2YXIgd2FzTWUgPSBwcm9wYWdhdGluZ0xvY2FsbHk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9wYWdhdGluZ0xvY2FsbHkgPSB0cnVlO1xuICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLnN0b3JhZ2VtdXRhdGVkLmZpcmUodXBkYXRlUGFydHMpO1xuICAgICAgICAgICAgc2lnbmFsU3Vic2NyaWJlcnNOb3codXBkYXRlUGFydHMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcHJvcGFnYXRpbmdMb2NhbGx5ID0gd2FzTWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHByb3BhZ2F0aW5nTG9jYWxseSA9IGZhbHNlO1xuXG4gICAgdmFyIGJjO1xuICAgIHZhciBjcmVhdGVCQyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBpZiAodHlwZW9mIEJyb2FkY2FzdENoYW5uZWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNyZWF0ZUJDID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmMgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChTVE9SQUdFX01VVEFURURfRE9NX0VWRU5UX05BTUUpO1xuICAgICAgICAgICAgYmMub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2KSB7IHJldHVybiBldi5kYXRhICYmIHByb3BhZ2F0ZUxvY2FsbHkoZXYuZGF0YSk7IH07XG4gICAgICAgIH07XG4gICAgICAgIGNyZWF0ZUJDKCk7XG4gICAgICAgIGlmICh0eXBlb2YgYmMudW5yZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGJjLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsRXZlbnRzKERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FLCBmdW5jdGlvbiAoY2hhbmdlZFBhcnRzKSB7XG4gICAgICAgICAgICBpZiAoIXByb3BhZ2F0aW5nTG9jYWxseSkge1xuICAgICAgICAgICAgICAgIGJjLnBvc3RNZXNzYWdlKGNoYW5nZWRQYXJ0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncGFnZWhpZGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghRGV4aWUkMS5kaXNhYmxlQmZDYWNoZSAmJiBldmVudC5wZXJzaXN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0RleGllOiBoYW5kbGluZyBwZXJzaXN0ZWQgcGFnZWhpZGUnKTtcbiAgICAgICAgICAgICAgICBiYyA9PT0gbnVsbCB8fCBiYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNvbm5lY3Rpb25zXzEgPSBjb25uZWN0aW9uczsgX2kgPCBjb25uZWN0aW9uc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGIgPSBjb25uZWN0aW9uc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoeyBkaXNhYmxlQXV0b09wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIURleGllJDEuZGlzYWJsZUJmQ2FjaGUgJiYgZXZlbnQucGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEZXhpZTogaGFuZGxpbmcgcGVyc2lzdGVkIHBhZ2VzaG93Jyk7XG4gICAgICAgICAgICAgICAgY3JlYXRlQkMoKTtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGVMb2NhbGx5KHsgYWxsOiBuZXcgUmFuZ2VTZXQoLUluZmluaXR5LCBbW11dKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcE1vZGlmaWNhdGlvbih7IGFkZDogdmFsdWUgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcE1vZGlmaWNhdGlvbih7IHJlbW92ZTogdmFsdWUgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZVByZWZpeChhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcE1vZGlmaWNhdGlvbih7IHJlcGxhY2VQcmVmaXg6IFthLCBiXSB9KTtcbiAgICB9XG5cbiAgICBEZXhpZVByb21pc2UucmVqZWN0aW9uTWFwcGVyID0gbWFwRXJyb3I7XG4gICAgc2V0RGVidWcoZGVidWcpO1xuXG4gICAgdmFyIG5hbWVkRXhwb3J0cyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICAgICAgX19wcm90b19fOiBudWxsLFxuICAgICAgICBEZXhpZTogRGV4aWUkMSxcbiAgICAgICAgbGl2ZVF1ZXJ5OiBsaXZlUXVlcnksXG4gICAgICAgIEVudGl0eTogRW50aXR5LFxuICAgICAgICBjbXA6IGNtcCxcbiAgICAgICAgUHJvcE1vZGlmaWNhdGlvbjogUHJvcE1vZGlmaWNhdGlvbixcbiAgICAgICAgcmVwbGFjZVByZWZpeDogcmVwbGFjZVByZWZpeCxcbiAgICAgICAgYWRkOiBhZGQsXG4gICAgICAgIHJlbW92ZTogcmVtb3ZlLFxuICAgICAgICAnZGVmYXVsdCc6IERleGllJDEsXG4gICAgICAgIFJhbmdlU2V0OiBSYW5nZVNldCxcbiAgICAgICAgbWVyZ2VSYW5nZXM6IG1lcmdlUmFuZ2VzLFxuICAgICAgICByYW5nZXNPdmVybGFwOiByYW5nZXNPdmVybGFwXG4gICAgfSk7XG5cbiAgICBfX2Fzc2lnbihEZXhpZSQxLCBuYW1lZEV4cG9ydHMsIHsgZGVmYXVsdDogRGV4aWUkMSB9KTtcblxuICAgIHJldHVybiBEZXhpZSQxO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXhpZS5qcy5tYXBcbiIsIi8vIE1ha2luZyB0aGUgbW9kdWxlIHZlcnNpb24gY29uc3VtYWJsZSB2aWEgcmVxdWlyZSAtIHRvIHByb2hpYml0XG4vLyBtdWx0aXBsZSBvY2N1cnJhbmNpZXMgb2YgdGhlIHNhbWUgbW9kdWxlIGluIHRoZSBzYW1lIGFwcFxuLy8gKGR1YWwgcGFja2FnZSBoYXphcmQsIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcGFja2FnZXMuaHRtbCNkdWFsLXBhY2thZ2UtaGF6YXJkKVxuaW1wb3J0IF9EZXhpZSBmcm9tIFwiLi9kaXN0L2RleGllLmpzXCI7XG5jb25zdCBEZXhpZVN5bWJvbCA9IFN5bWJvbC5mb3IoXCJEZXhpZVwiKTtcbmNvbnN0IERleGllID0gZ2xvYmFsVGhpc1tEZXhpZVN5bWJvbF0gfHwgKGdsb2JhbFRoaXNbRGV4aWVTeW1ib2xdID0gX0RleGllKTtcbmlmIChfRGV4aWUuc2VtVmVyICE9PSBEZXhpZS5zZW1WZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFR3byBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgRGV4aWUgbG9hZGVkIGluIHRoZSBzYW1lIGFwcDogJHtfRGV4aWUuc2VtVmVyfSBhbmQgJHtEZXhpZS5zZW1WZXJ9YCk7XG59XG5jb25zdCB7IGxpdmVRdWVyeSwgbWVyZ2VSYW5nZXMsIHJhbmdlc092ZXJsYXAsIFJhbmdlU2V0LCBjbXAsIEVudGl0eSxcbiAgICBQcm9wTW9kaWZpY2F0aW9uLCByZXBsYWNlUHJlZml4LCBhZGQsIHJlbW92ZSB9ID0gRGV4aWU7XG5leHBvcnQgeyBsaXZlUXVlcnksIG1lcmdlUmFuZ2VzLCByYW5nZXNPdmVybGFwLCBSYW5nZVNldCwgY21wLCBEZXhpZSwgRW50aXR5LFxuICAgIFByb3BNb2RpZmljYXRpb24sIHJlcGxhY2VQcmVmaXgsIGFkZCwgcmVtb3ZlIH07XG5leHBvcnQgZGVmYXVsdCBEZXhpZTtcbiIsImltcG9ydCBlIGZyb21cInZvaWQtZWxlbWVudHNcIjt2YXIgdD0vXFxzKFteJ1wiL1xccz48XSs/KVtcXHMvPl18KFteXFxzPV0rKT1cXHM/KFwiLio/XCJ8Jy4qPycpL2c7ZnVuY3Rpb24gbihuKXt2YXIgcj17dHlwZTpcInRhZ1wiLG5hbWU6XCJcIix2b2lkRWxlbWVudDohMSxhdHRyczp7fSxjaGlsZHJlbjpbXX0saT1uLm1hdGNoKC88XFwvPyhbXlxcc10rPylbL1xccz5dLyk7aWYoaSYmKHIubmFtZT1pWzFdLChlW2lbMV1dfHxcIi9cIj09PW4uY2hhckF0KG4ubGVuZ3RoLTIpKSYmKHIudm9pZEVsZW1lbnQ9ITApLHIubmFtZS5zdGFydHNXaXRoKFwiIS0tXCIpKSl7dmFyIHM9bi5pbmRleE9mKFwiLS1cXHgzZVwiKTtyZXR1cm57dHlwZTpcImNvbW1lbnRcIixjb21tZW50Oi0xIT09cz9uLnNsaWNlKDQscyk6XCJcIn19Zm9yKHZhciBhPW5ldyBSZWdFeHAodCksYz1udWxsO251bGwhPT0oYz1hLmV4ZWMobikpOylpZihjWzBdLnRyaW0oKSlpZihjWzFdKXt2YXIgbz1jWzFdLnRyaW0oKSxsPVtvLFwiXCJdO28uaW5kZXhPZihcIj1cIik+LTEmJihsPW8uc3BsaXQoXCI9XCIpKSxyLmF0dHJzW2xbMF1dPWxbMV0sYS5sYXN0SW5kZXgtLX1lbHNlIGNbMl0mJihyLmF0dHJzW2NbMl1dPWNbM10udHJpbSgpLnN1YnN0cmluZygxLGNbM10ubGVuZ3RoLTEpKTtyZXR1cm4gcn12YXIgcj0vPFthLXpBLVowLTlcXC1cXCFcXC9dKD86XCJbXlwiXSpcInwnW14nXSonfFteJ1wiPl0pKj4vZyxpPS9eXFxzKiQvLHM9T2JqZWN0LmNyZWF0ZShudWxsKTtmdW5jdGlvbiBhKGUsdCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwidGV4dFwiOnJldHVybiBlK3QuY29udGVudDtjYXNlXCJ0YWdcIjpyZXR1cm4gZSs9XCI8XCIrdC5uYW1lKyh0LmF0dHJzP2Z1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKyc9XCInK2Vbbl0rJ1wiJyk7cmV0dXJuIHQubGVuZ3RoP1wiIFwiK3Quam9pbihcIiBcIik6XCJcIn0odC5hdHRycyk6XCJcIikrKHQudm9pZEVsZW1lbnQ/XCIvPlwiOlwiPlwiKSx0LnZvaWRFbGVtZW50P2U6ZSt0LmNoaWxkcmVuLnJlZHVjZShhLFwiXCIpK1wiPC9cIit0Lm5hbWUrXCI+XCI7Y2FzZVwiY29tbWVudFwiOnJldHVybiBlK1wiXFx4M2MhLS1cIit0LmNvbW1lbnQrXCItLVxceDNlXCJ9fXZhciBjPXtwYXJzZTpmdW5jdGlvbihlLHQpe3R8fCh0PXt9KSx0LmNvbXBvbmVudHN8fCh0LmNvbXBvbmVudHM9cyk7dmFyIGEsYz1bXSxvPVtdLGw9LTEsbT0hMTtpZigwIT09ZS5pbmRleE9mKFwiPFwiKSl7dmFyIHU9ZS5pbmRleE9mKFwiPFwiKTtjLnB1c2goe3R5cGU6XCJ0ZXh0XCIsY29udGVudDotMT09PXU/ZTplLnN1YnN0cmluZygwLHUpfSl9cmV0dXJuIGUucmVwbGFjZShyLGZ1bmN0aW9uKHIscyl7aWYobSl7aWYociE9PVwiPC9cIithLm5hbWUrXCI+XCIpcmV0dXJuO209ITF9dmFyIHUsZj1cIi9cIiE9PXIuY2hhckF0KDEpLGg9ci5zdGFydHNXaXRoKFwiXFx4M2MhLS1cIikscD1zK3IubGVuZ3RoLGQ9ZS5jaGFyQXQocCk7aWYoaCl7dmFyIHY9bihyKTtyZXR1cm4gbDwwPyhjLnB1c2godiksYyk6KCh1PW9bbF0pLmNoaWxkcmVuLnB1c2godiksYyl9aWYoZiYmKGwrKyxcInRhZ1wiPT09KGE9bihyKSkudHlwZSYmdC5jb21wb25lbnRzW2EubmFtZV0mJihhLnR5cGU9XCJjb21wb25lbnRcIixtPSEwKSxhLnZvaWRFbGVtZW50fHxtfHwhZHx8XCI8XCI9PT1kfHxhLmNoaWxkcmVuLnB1c2goe3R5cGU6XCJ0ZXh0XCIsY29udGVudDplLnNsaWNlKHAsZS5pbmRleE9mKFwiPFwiLHApKX0pLDA9PT1sJiZjLnB1c2goYSksKHU9b1tsLTFdKSYmdS5jaGlsZHJlbi5wdXNoKGEpLG9bbF09YSksKCFmfHxhLnZvaWRFbGVtZW50KSYmKGw+LTEmJihhLnZvaWRFbGVtZW50fHxhLm5hbWU9PT1yLnNsaWNlKDIsLTEpKSYmKGwtLSxhPS0xPT09bD9jOm9bbF0pLCFtJiZcIjxcIiE9PWQmJmQpKXt1PS0xPT09bD9jOm9bbF0uY2hpbGRyZW47dmFyIHg9ZS5pbmRleE9mKFwiPFwiLHApLGc9ZS5zbGljZShwLC0xPT09eD92b2lkIDA6eCk7aS50ZXN0KGcpJiYoZz1cIiBcIiksKHg+LTEmJmwrdS5sZW5ndGg+PTB8fFwiIFwiIT09ZykmJnUucHVzaCh7dHlwZTpcInRleHRcIixjb250ZW50Omd9KX19KSxjfSxzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrYShcIlwiLHQpfSxcIlwiKX19O2V4cG9ydCBkZWZhdWx0IGM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odG1sLXBhcnNlLXN0cmluZ2lmeS5tb2R1bGUuanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGlzU3RyaW5nID0gb2JqID0+IHR5cGVvZiBvYmogPT09ICdzdHJpbmcnO1xuY29uc3QgZGVmZXIgPSAoKSA9PiB7XG4gIGxldCByZXM7XG4gIGxldCByZWo7XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVzID0gcmVzb2x2ZTtcbiAgICByZWogPSByZWplY3Q7XG4gIH0pO1xuICBwcm9taXNlLnJlc29sdmUgPSByZXM7XG4gIHByb21pc2UucmVqZWN0ID0gcmVqO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5jb25zdCBtYWtlU3RyaW5nID0gb2JqZWN0ID0+IHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gJyc7XG4gIHJldHVybiAnJyArIG9iamVjdDtcbn07XG5jb25zdCBjb3B5ID0gKGEsIHMsIHQpID0+IHtcbiAgYS5mb3JFYWNoKG0gPT4ge1xuICAgIGlmIChzW21dKSB0W21dID0gc1ttXTtcbiAgfSk7XG59O1xuY29uc3QgbGFzdE9mUGF0aFNlcGFyYXRvclJlZ0V4cCA9IC8jIyMvZztcbmNvbnN0IGNsZWFuS2V5ID0ga2V5ID0+IGtleSAmJiBrZXkuaW5kZXhPZignIyMjJykgPiAtMSA/IGtleS5yZXBsYWNlKGxhc3RPZlBhdGhTZXBhcmF0b3JSZWdFeHAsICcuJykgOiBrZXk7XG5jb25zdCBjYW5Ob3RUcmF2ZXJzZURlZXBlciA9IG9iamVjdCA9PiAhb2JqZWN0IHx8IGlzU3RyaW5nKG9iamVjdCk7XG5jb25zdCBnZXRMYXN0T2ZQYXRoID0gKG9iamVjdCwgcGF0aCwgRW1wdHkpID0+IHtcbiAgY29uc3Qgc3RhY2sgPSAhaXNTdHJpbmcocGF0aCkgPyBwYXRoIDogcGF0aC5zcGxpdCgnLicpO1xuICBsZXQgc3RhY2tJbmRleCA9IDA7XG4gIHdoaWxlIChzdGFja0luZGV4IDwgc3RhY2subGVuZ3RoIC0gMSkge1xuICAgIGlmIChjYW5Ob3RUcmF2ZXJzZURlZXBlcihvYmplY3QpKSByZXR1cm4ge307XG4gICAgY29uc3Qga2V5ID0gY2xlYW5LZXkoc3RhY2tbc3RhY2tJbmRleF0pO1xuICAgIGlmICghb2JqZWN0W2tleV0gJiYgRW1wdHkpIG9iamVjdFtrZXldID0gbmV3IEVtcHR5KCk7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3QgPSB7fTtcbiAgICB9XG4gICAgKytzdGFja0luZGV4O1xuICB9XG4gIGlmIChjYW5Ob3RUcmF2ZXJzZURlZXBlcihvYmplY3QpKSByZXR1cm4ge307XG4gIHJldHVybiB7XG4gICAgb2JqOiBvYmplY3QsXG4gICAgazogY2xlYW5LZXkoc3RhY2tbc3RhY2tJbmRleF0pXG4gIH07XG59O1xuY29uc3Qgc2V0UGF0aCA9IChvYmplY3QsIHBhdGgsIG5ld1ZhbHVlKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBvYmosXG4gICAga1xuICB9ID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIE9iamVjdCk7XG4gIGlmIChvYmogIT09IHVuZGVmaW5lZCB8fCBwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgIG9ialtrXSA9IG5ld1ZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgbGV0IHAgPSBwYXRoLnNsaWNlKDAsIHBhdGgubGVuZ3RoIC0gMSk7XG4gIGxldCBsYXN0ID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHAsIE9iamVjdCk7XG4gIHdoaWxlIChsYXN0Lm9iaiA9PT0gdW5kZWZpbmVkICYmIHAubGVuZ3RoKSB7XG4gICAgZSA9IGAke3BbcC5sZW5ndGggLSAxXX0uJHtlfWA7XG4gICAgcCA9IHAuc2xpY2UoMCwgcC5sZW5ndGggLSAxKTtcbiAgICBsYXN0ID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHAsIE9iamVjdCk7XG4gICAgaWYgKGxhc3QgJiYgbGFzdC5vYmogJiYgdHlwZW9mIGxhc3Qub2JqW2Ake2xhc3Qua30uJHtlfWBdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbGFzdC5vYmogPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGxhc3Qub2JqW2Ake2xhc3Qua30uJHtlfWBdID0gbmV3VmFsdWU7XG59O1xuY29uc3QgcHVzaFBhdGggPSAob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSwgY29uY2F0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBvYmosXG4gICAga1xuICB9ID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIE9iamVjdCk7XG4gIG9ialtrXSA9IG9ialtrXSB8fCBbXTtcbiAgb2JqW2tdLnB1c2gobmV3VmFsdWUpO1xufTtcbmNvbnN0IGdldFBhdGggPSAob2JqZWN0LCBwYXRoKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBvYmosXG4gICAga1xuICB9ID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgpO1xuICBpZiAoIW9iaikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIG9ialtrXTtcbn07XG5jb25zdCBnZXRQYXRoV2l0aERlZmF1bHRzID0gKGRhdGEsIGRlZmF1bHREYXRhLCBrZXkpID0+IHtcbiAgY29uc3QgdmFsdWUgPSBnZXRQYXRoKGRhdGEsIGtleSk7XG4gIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBnZXRQYXRoKGRlZmF1bHREYXRhLCBrZXkpO1xufTtcbmNvbnN0IGRlZXBFeHRlbmQgPSAodGFyZ2V0LCBzb3VyY2UsIG92ZXJ3cml0ZSkgPT4ge1xuICBmb3IgKGNvbnN0IHByb3AgaW4gc291cmNlKSB7XG4gICAgaWYgKHByb3AgIT09ICdfX3Byb3RvX18nICYmIHByb3AgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIGlmIChwcm9wIGluIHRhcmdldCkge1xuICAgICAgICBpZiAoaXNTdHJpbmcodGFyZ2V0W3Byb3BdKSB8fCB0YXJnZXRbcHJvcF0gaW5zdGFuY2VvZiBTdHJpbmcgfHwgaXNTdHJpbmcoc291cmNlW3Byb3BdKSB8fCBzb3VyY2VbcHJvcF0gaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgICAgICBpZiAob3ZlcndyaXRlKSB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVlcEV4dGVuZCh0YXJnZXRbcHJvcF0sIHNvdXJjZVtwcm9wXSwgb3ZlcndyaXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmNvbnN0IHJlZ2V4RXNjYXBlID0gc3RyID0+IHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xudmFyIF9lbnRpdHlNYXAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5OycsXG4gICcvJzogJyYjeDJGOydcbn07XG5jb25zdCBlc2NhcGUgPSBkYXRhID0+IHtcbiAgaWYgKGlzU3RyaW5nKGRhdGEpKSB7XG4gICAgcmV0dXJuIGRhdGEucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywgcyA9PiBfZW50aXR5TWFwW3NdKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn07XG5jbGFzcyBSZWdFeHBDYWNoZSB7XG4gIGNvbnN0cnVjdG9yKGNhcGFjaXR5KSB7XG4gICAgdGhpcy5jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIHRoaXMucmVnRXhwTWFwID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucmVnRXhwUXVldWUgPSBbXTtcbiAgfVxuICBnZXRSZWdFeHAocGF0dGVybikge1xuICAgIGNvbnN0IHJlZ0V4cEZyb21DYWNoZSA9IHRoaXMucmVnRXhwTWFwLmdldChwYXR0ZXJuKTtcbiAgICBpZiAocmVnRXhwRnJvbUNhY2hlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiByZWdFeHBGcm9tQ2FjaGU7XG4gICAgfVxuICAgIGNvbnN0IHJlZ0V4cE5ldyA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgaWYgKHRoaXMucmVnRXhwUXVldWUubGVuZ3RoID09PSB0aGlzLmNhcGFjaXR5KSB7XG4gICAgICB0aGlzLnJlZ0V4cE1hcC5kZWxldGUodGhpcy5yZWdFeHBRdWV1ZS5zaGlmdCgpKTtcbiAgICB9XG4gICAgdGhpcy5yZWdFeHBNYXAuc2V0KHBhdHRlcm4sIHJlZ0V4cE5ldyk7XG4gICAgdGhpcy5yZWdFeHBRdWV1ZS5wdXNoKHBhdHRlcm4pO1xuICAgIHJldHVybiByZWdFeHBOZXc7XG4gIH1cbn1cbmNvbnN0IGNoYXJzID0gWycgJywgJywnLCAnPycsICchJywgJzsnXTtcbmNvbnN0IGxvb2tzTGlrZU9iamVjdFBhdGhSZWdFeHBDYWNoZSA9IG5ldyBSZWdFeHBDYWNoZSgyMCk7XG5jb25zdCBsb29rc0xpa2VPYmplY3RQYXRoID0gKGtleSwgbnNTZXBhcmF0b3IsIGtleVNlcGFyYXRvcikgPT4ge1xuICBuc1NlcGFyYXRvciA9IG5zU2VwYXJhdG9yIHx8ICcnO1xuICBrZXlTZXBhcmF0b3IgPSBrZXlTZXBhcmF0b3IgfHwgJyc7XG4gIGNvbnN0IHBvc3NpYmxlQ2hhcnMgPSBjaGFycy5maWx0ZXIoYyA9PiBuc1NlcGFyYXRvci5pbmRleE9mKGMpIDwgMCAmJiBrZXlTZXBhcmF0b3IuaW5kZXhPZihjKSA8IDApO1xuICBpZiAocG9zc2libGVDaGFycy5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICBjb25zdCByID0gbG9va3NMaWtlT2JqZWN0UGF0aFJlZ0V4cENhY2hlLmdldFJlZ0V4cChgKCR7cG9zc2libGVDaGFycy5tYXAoYyA9PiBjID09PSAnPycgPyAnXFxcXD8nIDogYykuam9pbignfCcpfSlgKTtcbiAgbGV0IG1hdGNoZWQgPSAhci50ZXN0KGtleSk7XG4gIGlmICghbWF0Y2hlZCkge1xuICAgIGNvbnN0IGtpID0ga2V5LmluZGV4T2Yoa2V5U2VwYXJhdG9yKTtcbiAgICBpZiAoa2kgPiAwICYmICFyLnRlc3Qoa2V5LnN1YnN0cmluZygwLCBraSkpKSB7XG4gICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hdGNoZWQ7XG59O1xuY29uc3QgZGVlcEZpbmQgPSBmdW5jdGlvbiAob2JqLCBwYXRoKSB7XG4gIGxldCBrZXlTZXBhcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcuJztcbiAgaWYgKCFvYmopIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmIChvYmpbcGF0aF0pIHJldHVybiBvYmpbcGF0aF07XG4gIGNvbnN0IHRva2VucyA9IHBhdGguc3BsaXQoa2V5U2VwYXJhdG9yKTtcbiAgbGV0IGN1cnJlbnQgPSBvYmo7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDspIHtcbiAgICBpZiAoIWN1cnJlbnQgfHwgdHlwZW9mIGN1cnJlbnQgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBsZXQgbmV4dDtcbiAgICBsZXQgbmV4dFBhdGggPSAnJztcbiAgICBmb3IgKGxldCBqID0gaTsgaiA8IHRva2Vucy5sZW5ndGg7ICsraikge1xuICAgICAgaWYgKGogIT09IGkpIHtcbiAgICAgICAgbmV4dFBhdGggKz0ga2V5U2VwYXJhdG9yO1xuICAgICAgfVxuICAgICAgbmV4dFBhdGggKz0gdG9rZW5zW2pdO1xuICAgICAgbmV4dCA9IGN1cnJlbnRbbmV4dFBhdGhdO1xuICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXS5pbmRleE9mKHR5cGVvZiBuZXh0KSA+IC0xICYmIGogPCB0b2tlbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGkgKz0gaiAtIGkgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgY3VycmVudCA9IG5leHQ7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnQ7XG59O1xuY29uc3QgZ2V0Q2xlYW5lZENvZGUgPSBjb2RlID0+IGNvZGUgJiYgY29kZS5yZXBsYWNlKCdfJywgJy0nKTtcblxuY29uc3QgY29uc29sZUxvZ2dlciA9IHtcbiAgdHlwZTogJ2xvZ2dlcicsXG4gIGxvZyhhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ2xvZycsIGFyZ3MpO1xuICB9LFxuICB3YXJuKGFyZ3MpIHtcbiAgICB0aGlzLm91dHB1dCgnd2FybicsIGFyZ3MpO1xuICB9LFxuICBlcnJvcihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ2Vycm9yJywgYXJncyk7XG4gIH0sXG4gIG91dHB1dCh0eXBlLCBhcmdzKSB7XG4gICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZVt0eXBlXSkgY29uc29sZVt0eXBlXS5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgfVxufTtcbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKGNvbmNyZXRlTG9nZ2VyKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHRoaXMuaW5pdChjb25jcmV0ZUxvZ2dlciwgb3B0aW9ucyk7XG4gIH1cbiAgaW5pdChjb25jcmV0ZUxvZ2dlcikge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLnByZWZpeCA9IG9wdGlvbnMucHJlZml4IHx8ICdpMThuZXh0Oic7XG4gICAgdGhpcy5sb2dnZXIgPSBjb25jcmV0ZUxvZ2dlciB8fCBjb25zb2xlTG9nZ2VyO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5kZWJ1ZyA9IG9wdGlvbnMuZGVidWc7XG4gIH1cbiAgbG9nKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnbG9nJywgJycsIHRydWUpO1xuICB9XG4gIHdhcm4oKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ3dhcm4nLCAnJywgdHJ1ZSk7XG4gIH1cbiAgZXJyb3IoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ2Vycm9yJywgJycpO1xuICB9XG4gIGRlcHJlY2F0ZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnd2FybicsICdXQVJOSU5HIERFUFJFQ0FURUQ6ICcsIHRydWUpO1xuICB9XG4gIGZvcndhcmQoYXJncywgbHZsLCBwcmVmaXgsIGRlYnVnT25seSkge1xuICAgIGlmIChkZWJ1Z09ubHkgJiYgIXRoaXMuZGVidWcpIHJldHVybiBudWxsO1xuICAgIGlmIChpc1N0cmluZyhhcmdzWzBdKSkgYXJnc1swXSA9IGAke3ByZWZpeH0ke3RoaXMucHJlZml4fSAke2FyZ3NbMF19YDtcbiAgICByZXR1cm4gdGhpcy5sb2dnZXJbbHZsXShhcmdzKTtcbiAgfVxuICBjcmVhdGUobW9kdWxlTmFtZSkge1xuICAgIHJldHVybiBuZXcgTG9nZ2VyKHRoaXMubG9nZ2VyLCB7XG4gICAgICAuLi57XG4gICAgICAgIHByZWZpeDogYCR7dGhpcy5wcmVmaXh9OiR7bW9kdWxlTmFtZX06YFxuICAgICAgfSxcbiAgICAgIC4uLnRoaXMub3B0aW9uc1xuICAgIH0pO1xuICB9XG4gIGNsb25lKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB0aGlzLm9wdGlvbnM7XG4gICAgb3B0aW9ucy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCB0aGlzLnByZWZpeDtcbiAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLmxvZ2dlciwgb3B0aW9ucyk7XG4gIH1cbn1cbnZhciBiYXNlTG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG5jbGFzcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9ic2VydmVycyA9IHt9O1xuICB9XG4gIG9uKGV2ZW50cywgbGlzdGVuZXIpIHtcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmICghdGhpcy5vYnNlcnZlcnNbZXZlbnRdKSB0aGlzLm9ic2VydmVyc1tldmVudF0gPSBuZXcgTWFwKCk7XG4gICAgICBjb25zdCBudW1MaXN0ZW5lcnMgPSB0aGlzLm9ic2VydmVyc1tldmVudF0uZ2V0KGxpc3RlbmVyKSB8fCAwO1xuICAgICAgdGhpcy5vYnNlcnZlcnNbZXZlbnRdLnNldChsaXN0ZW5lciwgbnVtTGlzdGVuZXJzICsgMSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5vYnNlcnZlcnNbZXZlbnRdKSByZXR1cm47XG4gICAgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgZGVsZXRlIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5vYnNlcnZlcnNbZXZlbnRdLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH1cbiAgZW1pdChldmVudCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZlcnNbZXZlbnRdKSB7XG4gICAgICBjb25zdCBjbG9uZWQgPSBBcnJheS5mcm9tKHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5lbnRyaWVzKCkpO1xuICAgICAgY2xvbmVkLmZvckVhY2goX3JlZiA9PiB7XG4gICAgICAgIGxldCBbb2JzZXJ2ZXIsIG51bVRpbWVzQWRkZWRdID0gX3JlZjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1UaW1lc0FkZGVkOyBpKyspIHtcbiAgICAgICAgICBvYnNlcnZlciguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9ic2VydmVyc1snKiddKSB7XG4gICAgICBjb25zdCBjbG9uZWQgPSBBcnJheS5mcm9tKHRoaXMub2JzZXJ2ZXJzWycqJ10uZW50cmllcygpKTtcbiAgICAgIGNsb25lZC5mb3JFYWNoKF9yZWYyID0+IHtcbiAgICAgICAgbGV0IFtvYnNlcnZlciwgbnVtVGltZXNBZGRlZF0gPSBfcmVmMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1UaW1lc0FkZGVkOyBpKyspIHtcbiAgICAgICAgICBvYnNlcnZlci5hcHBseShvYnNlcnZlciwgW2V2ZW50LCAuLi5hcmdzXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBSZXNvdXJjZVN0b3JlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBuczogWyd0cmFuc2xhdGlvbiddLFxuICAgICAgZGVmYXVsdE5TOiAndHJhbnNsYXRpb24nXG4gICAgfTtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwge307XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAodGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yID0gJy4nO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBhZGROYW1lc3BhY2VzKG5zKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG5zKSA8IDApIHtcbiAgICAgIHRoaXMub3B0aW9ucy5ucy5wdXNoKG5zKTtcbiAgICB9XG4gIH1cbiAgcmVtb3ZlTmFtZXNwYWNlcyhucykge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vcHRpb25zLm5zLmluZGV4T2YobnMpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgZ2V0UmVzb3VyY2UobG5nLCBucywga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgY29uc3QgaWdub3JlSlNPTlN0cnVjdHVyZSA9IG9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlIDogdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmU7XG4gICAgbGV0IHBhdGg7XG4gICAgaWYgKGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgcGF0aCA9IGxuZy5zcGxpdCgnLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRoID0gW2xuZywgbnNdO1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgICAgcGF0aC5wdXNoKC4uLmtleSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoa2V5KSAmJiBrZXlTZXBhcmF0b3IpIHtcbiAgICAgICAgICBwYXRoLnB1c2goLi4ua2V5LnNwbGl0KGtleVNlcGFyYXRvcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGgucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGdldFBhdGgodGhpcy5kYXRhLCBwYXRoKTtcbiAgICBpZiAoIXJlc3VsdCAmJiAhbnMgJiYgIWtleSAmJiBsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIGxuZyA9IHBhdGhbMF07XG4gICAgICBucyA9IHBhdGhbMV07XG4gICAgICBrZXkgPSBwYXRoLnNsaWNlKDIpLmpvaW4oJy4nKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCB8fCAhaWdub3JlSlNPTlN0cnVjdHVyZSB8fCAhaXNTdHJpbmcoa2V5KSkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gZGVlcEZpbmQodGhpcy5kYXRhICYmIHRoaXMuZGF0YVtsbmddICYmIHRoaXMuZGF0YVtsbmddW25zXSwga2V5LCBrZXlTZXBhcmF0b3IpO1xuICB9XG4gIGFkZFJlc291cmNlKGxuZywgbnMsIGtleSwgdmFsdWUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDoge1xuICAgICAgc2lsZW50OiBmYWxzZVxuICAgIH07XG4gICAgY29uc3Qga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5U2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBsZXQgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICBpZiAoa2V5KSBwYXRoID0gcGF0aC5jb25jYXQoa2V5U2VwYXJhdG9yID8ga2V5LnNwbGl0KGtleVNlcGFyYXRvcikgOiBrZXkpO1xuICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICAgIHZhbHVlID0gbnM7XG4gICAgICBucyA9IHBhdGhbMV07XG4gICAgfVxuICAgIHRoaXMuYWRkTmFtZXNwYWNlcyhucyk7XG4gICAgc2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLmVtaXQoJ2FkZGVkJywgbG5nLCBucywga2V5LCB2YWx1ZSk7XG4gIH1cbiAgYWRkUmVzb3VyY2VzKGxuZywgbnMsIHJlc291cmNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7XG4gICAgICBzaWxlbnQ6IGZhbHNlXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IG0gaW4gcmVzb3VyY2VzKSB7XG4gICAgICBpZiAoaXNTdHJpbmcocmVzb3VyY2VzW21dKSB8fCBBcnJheS5pc0FycmF5KHJlc291cmNlc1ttXSkpIHRoaXMuYWRkUmVzb3VyY2UobG5nLCBucywgbSwgcmVzb3VyY2VzW21dLCB7XG4gICAgICAgIHNpbGVudDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCByZXNvdXJjZXMpO1xuICB9XG4gIGFkZFJlc291cmNlQnVuZGxlKGxuZywgbnMsIHJlc291cmNlcywgZGVlcCwgb3ZlcndyaXRlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IHtcbiAgICAgIHNpbGVudDogZmFsc2UsXG4gICAgICBza2lwQ29weTogZmFsc2VcbiAgICB9O1xuICAgIGxldCBwYXRoID0gW2xuZywgbnNdO1xuICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICAgIGRlZXAgPSByZXNvdXJjZXM7XG4gICAgICByZXNvdXJjZXMgPSBucztcbiAgICAgIG5zID0gcGF0aFsxXTtcbiAgICB9XG4gICAgdGhpcy5hZGROYW1lc3BhY2VzKG5zKTtcbiAgICBsZXQgcGFjayA9IGdldFBhdGgodGhpcy5kYXRhLCBwYXRoKSB8fCB7fTtcbiAgICBpZiAoIW9wdGlvbnMuc2tpcENvcHkpIHJlc291cmNlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzb3VyY2VzKSk7XG4gICAgaWYgKGRlZXApIHtcbiAgICAgIGRlZXBFeHRlbmQocGFjaywgcmVzb3VyY2VzLCBvdmVyd3JpdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWNrID0ge1xuICAgICAgICAuLi5wYWNrLFxuICAgICAgICAuLi5yZXNvdXJjZXNcbiAgICAgIH07XG4gICAgfVxuICAgIHNldFBhdGgodGhpcy5kYXRhLCBwYXRoLCBwYWNrKTtcbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLmVtaXQoJ2FkZGVkJywgbG5nLCBucywgcmVzb3VyY2VzKTtcbiAgfVxuICByZW1vdmVSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSB7XG4gICAgaWYgKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmRhdGFbbG5nXVtuc107XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlTmFtZXNwYWNlcyhucyk7XG4gICAgdGhpcy5lbWl0KCdyZW1vdmVkJywgbG5nLCBucyk7XG4gIH1cbiAgaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIHJldHVybiB0aGlzLmdldFJlc291cmNlKGxuZywgbnMpICE9PSB1bmRlZmluZWQ7XG4gIH1cbiAgZ2V0UmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIGlmICghbnMpIG5zID0gdGhpcy5vcHRpb25zLmRlZmF1bHROUztcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgPT09ICd2MScpIHJldHVybiB7XG4gICAgICAuLi57fSxcbiAgICAgIC4uLnRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucylcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLmdldFJlc291cmNlKGxuZywgbnMpO1xuICB9XG4gIGdldERhdGFCeUxhbmd1YWdlKGxuZykge1xuICAgIHJldHVybiB0aGlzLmRhdGFbbG5nXTtcbiAgfVxuICBoYXNMYW5ndWFnZVNvbWVUcmFuc2xhdGlvbnMobG5nKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YUJ5TGFuZ3VhZ2UobG5nKTtcbiAgICBjb25zdCBuID0gZGF0YSAmJiBPYmplY3Qua2V5cyhkYXRhKSB8fCBbXTtcbiAgICByZXR1cm4gISFuLmZpbmQodiA9PiBkYXRhW3ZdICYmIE9iamVjdC5rZXlzKGRhdGFbdl0pLmxlbmd0aCA+IDApO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG59XG5cbnZhciBwb3N0UHJvY2Vzc29yID0ge1xuICBwcm9jZXNzb3JzOiB7fSxcbiAgYWRkUG9zdFByb2Nlc3Nvcihtb2R1bGUpIHtcbiAgICB0aGlzLnByb2Nlc3NvcnNbbW9kdWxlLm5hbWVdID0gbW9kdWxlO1xuICB9LFxuICBoYW5kbGUocHJvY2Vzc29ycywgdmFsdWUsIGtleSwgb3B0aW9ucywgdHJhbnNsYXRvcikge1xuICAgIHByb2Nlc3NvcnMuZm9yRWFjaChwcm9jZXNzb3IgPT4ge1xuICAgICAgaWYgKHRoaXMucHJvY2Vzc29yc1twcm9jZXNzb3JdKSB2YWx1ZSA9IHRoaXMucHJvY2Vzc29yc1twcm9jZXNzb3JdLnByb2Nlc3ModmFsdWUsIGtleSwgb3B0aW9ucywgdHJhbnNsYXRvcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG5jb25zdCBjaGVja2VkTG9hZGVkRm9yID0ge307XG5jbGFzcyBUcmFuc2xhdG9yIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgc3VwZXIoKTtcbiAgICBjb3B5KFsncmVzb3VyY2VTdG9yZScsICdsYW5ndWFnZVV0aWxzJywgJ3BsdXJhbFJlc29sdmVyJywgJ2ludGVycG9sYXRvcicsICdiYWNrZW5kQ29ubmVjdG9yJywgJ2kxOG5Gb3JtYXQnLCAndXRpbHMnXSwgc2VydmljZXMsIHRoaXMpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9ICcuJztcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgndHJhbnNsYXRvcicpO1xuICB9XG4gIGNoYW5nZUxhbmd1YWdlKGxuZykge1xuICAgIGlmIChsbmcpIHRoaXMubGFuZ3VhZ2UgPSBsbmc7XG4gIH1cbiAgZXhpc3RzKGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBpbnRlcnBvbGF0aW9uOiB7fVxuICAgIH07XG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZShrZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiByZXNvbHZlZCAmJiByZXNvbHZlZC5yZXMgIT09IHVuZGVmaW5lZDtcbiAgfVxuICBleHRyYWN0RnJvbUtleShrZXksIG9wdGlvbnMpIHtcbiAgICBsZXQgbnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zU2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgIGlmIChuc1NlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSBuc1NlcGFyYXRvciA9ICc6JztcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGxldCBuYW1lc3BhY2VzID0gb3B0aW9ucy5ucyB8fCB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TIHx8IFtdO1xuICAgIGNvbnN0IHdvdWxkQ2hlY2tGb3JOc0luS2V5ID0gbnNTZXBhcmF0b3IgJiYga2V5LmluZGV4T2YobnNTZXBhcmF0b3IpID4gLTE7XG4gICAgY29uc3Qgc2VlbXNOYXR1cmFsTGFuZ3VhZ2UgPSAhdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkS2V5U2VwYXJhdG9yICYmICFvcHRpb25zLmtleVNlcGFyYXRvciAmJiAhdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkTnNTZXBhcmF0b3IgJiYgIW9wdGlvbnMubnNTZXBhcmF0b3IgJiYgIWxvb2tzTGlrZU9iamVjdFBhdGgoa2V5LCBuc1NlcGFyYXRvciwga2V5U2VwYXJhdG9yKTtcbiAgICBpZiAod291bGRDaGVja0Zvck5zSW5LZXkgJiYgIXNlZW1zTmF0dXJhbExhbmd1YWdlKSB7XG4gICAgICBjb25zdCBtID0ga2V5Lm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO1xuICAgICAgaWYgKG0gJiYgbS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG5hbWVzcGFjZXM6IGlzU3RyaW5nKG5hbWVzcGFjZXMpID8gW25hbWVzcGFjZXNdIDogbmFtZXNwYWNlc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQobnNTZXBhcmF0b3IpO1xuICAgICAgaWYgKG5zU2VwYXJhdG9yICE9PSBrZXlTZXBhcmF0b3IgfHwgbnNTZXBhcmF0b3IgPT09IGtleVNlcGFyYXRvciAmJiB0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihwYXJ0c1swXSkgPiAtMSkgbmFtZXNwYWNlcyA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICBrZXkgPSBwYXJ0cy5qb2luKGtleVNlcGFyYXRvcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBrZXksXG4gICAgICBuYW1lc3BhY2VzOiBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXNcbiAgICB9O1xuICB9XG4gIHRyYW5zbGF0ZShrZXlzLCBvcHRpb25zLCBsYXN0S2V5KSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyAmJiB0aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIpIHtcbiAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoYXJndW1lbnRzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykgb3B0aW9ucyA9IHtcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgIGlmIChrZXlzID09PSB1bmRlZmluZWQgfHwga2V5cyA9PT0gbnVsbCkgcmV0dXJuICcnO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShrZXlzKSkga2V5cyA9IFtTdHJpbmcoa2V5cyldO1xuICAgIGNvbnN0IHJldHVybkRldGFpbHMgPSBvcHRpb25zLnJldHVybkRldGFpbHMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmV0dXJuRGV0YWlscyA6IHRoaXMub3B0aW9ucy5yZXR1cm5EZXRhaWxzO1xuICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgY29uc3Qge1xuICAgICAga2V5LFxuICAgICAgbmFtZXNwYWNlc1xuICAgIH0gPSB0aGlzLmV4dHJhY3RGcm9tS2V5KGtleXNba2V5cy5sZW5ndGggLSAxXSwgb3B0aW9ucyk7XG4gICAgY29uc3QgbmFtZXNwYWNlID0gbmFtZXNwYWNlc1tuYW1lc3BhY2VzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGxuZyA9IG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2U7XG4gICAgY29uc3QgYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGUgPSBvcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlIHx8IHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZTtcbiAgICBpZiAobG5nICYmIGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykge1xuICAgICAgaWYgKGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlKSB7XG4gICAgICAgIGNvbnN0IG5zU2VwYXJhdG9yID0gb3B0aW9ucy5uc1NlcGFyYXRvciB8fCB0aGlzLm9wdGlvbnMubnNTZXBhcmF0b3I7XG4gICAgICAgIGlmIChyZXR1cm5EZXRhaWxzKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlczogYCR7bmFtZXNwYWNlfSR7bnNTZXBhcmF0b3J9JHtrZXl9YCxcbiAgICAgICAgICAgIHVzZWRLZXk6IGtleSxcbiAgICAgICAgICAgIGV4YWN0VXNlZEtleToga2V5LFxuICAgICAgICAgICAgdXNlZExuZzogbG5nLFxuICAgICAgICAgICAgdXNlZE5TOiBuYW1lc3BhY2UsXG4gICAgICAgICAgICB1c2VkUGFyYW1zOiB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7bmFtZXNwYWNlfSR7bnNTZXBhcmF0b3J9JHtrZXl9YDtcbiAgICAgIH1cbiAgICAgIGlmIChyZXR1cm5EZXRhaWxzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzOiBrZXksXG4gICAgICAgICAgdXNlZEtleToga2V5LFxuICAgICAgICAgIGV4YWN0VXNlZEtleToga2V5LFxuICAgICAgICAgIHVzZWRMbmc6IGxuZyxcbiAgICAgICAgICB1c2VkTlM6IG5hbWVzcGFjZSxcbiAgICAgICAgICB1c2VkUGFyYW1zOiB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZShrZXlzLCBvcHRpb25zKTtcbiAgICBsZXQgcmVzID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQucmVzO1xuICAgIGNvbnN0IHJlc1VzZWRLZXkgPSByZXNvbHZlZCAmJiByZXNvbHZlZC51c2VkS2V5IHx8IGtleTtcbiAgICBjb25zdCByZXNFeGFjdFVzZWRLZXkgPSByZXNvbHZlZCAmJiByZXNvbHZlZC5leGFjdFVzZWRLZXkgfHwga2V5O1xuICAgIGNvbnN0IHJlc1R5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHJlcyk7XG4gICAgY29uc3Qgbm9PYmplY3QgPSBbJ1tvYmplY3QgTnVtYmVyXScsICdbb2JqZWN0IEZ1bmN0aW9uXScsICdbb2JqZWN0IFJlZ0V4cF0nXTtcbiAgICBjb25zdCBqb2luQXJyYXlzID0gb3B0aW9ucy5qb2luQXJyYXlzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmpvaW5BcnJheXMgOiB0aGlzLm9wdGlvbnMuam9pbkFycmF5cztcbiAgICBjb25zdCBoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCA9ICF0aGlzLmkxOG5Gb3JtYXQgfHwgdGhpcy5pMThuRm9ybWF0LmhhbmRsZUFzT2JqZWN0O1xuICAgIGNvbnN0IGhhbmRsZUFzT2JqZWN0ID0gIWlzU3RyaW5nKHJlcykgJiYgdHlwZW9mIHJlcyAhPT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiByZXMgIT09ICdudW1iZXInO1xuICAgIGlmIChoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCAmJiByZXMgJiYgaGFuZGxlQXNPYmplY3QgJiYgbm9PYmplY3QuaW5kZXhPZihyZXNUeXBlKSA8IDAgJiYgIShpc1N0cmluZyhqb2luQXJyYXlzKSAmJiBBcnJheS5pc0FycmF5KHJlcykpKSB7XG4gICAgICBpZiAoIW9wdGlvbnMucmV0dXJuT2JqZWN0cyAmJiAhdGhpcy5vcHRpb25zLnJldHVybk9iamVjdHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2FybignYWNjZXNzaW5nIGFuIG9iamVjdCAtIGJ1dCByZXR1cm5PYmplY3RzIG9wdGlvbnMgaXMgbm90IGVuYWJsZWQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IHRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIgPyB0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyKHJlc1VzZWRLZXksIHJlcywge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgbnM6IG5hbWVzcGFjZXNcbiAgICAgICAgfSkgOiBga2V5ICcke2tleX0gKCR7dGhpcy5sYW5ndWFnZX0pJyByZXR1cm5lZCBhbiBvYmplY3QgaW5zdGVhZCBvZiBzdHJpbmcuYDtcbiAgICAgICAgaWYgKHJldHVybkRldGFpbHMpIHtcbiAgICAgICAgICByZXNvbHZlZC5yZXMgPSByO1xuICAgICAgICAgIHJlc29sdmVkLnVzZWRQYXJhbXMgPSB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpO1xuICAgICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXlTZXBhcmF0b3IpIHtcbiAgICAgICAgY29uc3QgcmVzVHlwZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHJlcyk7XG4gICAgICAgIGNvbnN0IGNvcHkgPSByZXNUeXBlSXNBcnJheSA/IFtdIDoge307XG4gICAgICAgIGNvbnN0IG5ld0tleVRvVXNlID0gcmVzVHlwZUlzQXJyYXkgPyByZXNFeGFjdFVzZWRLZXkgOiByZXNVc2VkS2V5O1xuICAgICAgICBmb3IgKGNvbnN0IG0gaW4gcmVzKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXMsIG0pKSB7XG4gICAgICAgICAgICBjb25zdCBkZWVwS2V5ID0gYCR7bmV3S2V5VG9Vc2V9JHtrZXlTZXBhcmF0b3J9JHttfWA7XG4gICAgICAgICAgICBjb3B5W21dID0gdGhpcy50cmFuc2xhdGUoZGVlcEtleSwge1xuICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAuLi57XG4gICAgICAgICAgICAgICAgam9pbkFycmF5czogZmFsc2UsXG4gICAgICAgICAgICAgICAgbnM6IG5hbWVzcGFjZXNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY29weVttXSA9PT0gZGVlcEtleSkgY29weVttXSA9IHJlc1ttXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gY29weTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGhhbmRsZUFzT2JqZWN0SW5JMThuRm9ybWF0ICYmIGlzU3RyaW5nKGpvaW5BcnJheXMpICYmIEFycmF5LmlzQXJyYXkocmVzKSkge1xuICAgICAgcmVzID0gcmVzLmpvaW4oam9pbkFycmF5cyk7XG4gICAgICBpZiAocmVzKSByZXMgPSB0aGlzLmV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5cywgb3B0aW9ucywgbGFzdEtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB1c2VkRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgbGV0IHVzZWRLZXkgPSBmYWxzZTtcbiAgICAgIGNvbnN0IG5lZWRzUGx1cmFsSGFuZGxpbmcgPSBvcHRpb25zLmNvdW50ICE9PSB1bmRlZmluZWQgJiYgIWlzU3RyaW5nKG9wdGlvbnMuY291bnQpO1xuICAgICAgY29uc3QgaGFzRGVmYXVsdFZhbHVlID0gVHJhbnNsYXRvci5oYXNEZWZhdWx0VmFsdWUob3B0aW9ucyk7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWVTdWZmaXggPSBuZWVkc1BsdXJhbEhhbmRsaW5nID8gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgobG5nLCBvcHRpb25zLmNvdW50LCBvcHRpb25zKSA6ICcnO1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlU3VmZml4T3JkaW5hbEZhbGxiYWNrID0gb3B0aW9ucy5vcmRpbmFsICYmIG5lZWRzUGx1cmFsSGFuZGxpbmcgPyB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChsbmcsIG9wdGlvbnMuY291bnQsIHtcbiAgICAgICAgb3JkaW5hbDogZmFsc2VcbiAgICAgIH0pIDogJyc7XG4gICAgICBjb25zdCBuZWVkc1plcm9TdWZmaXhMb29rdXAgPSBuZWVkc1BsdXJhbEhhbmRsaW5nICYmICFvcHRpb25zLm9yZGluYWwgJiYgb3B0aW9ucy5jb3VudCA9PT0gMCAmJiB0aGlzLnBsdXJhbFJlc29sdmVyLnNob3VsZFVzZUludGxBcGkoKTtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG5lZWRzWmVyb1N1ZmZpeExvb2t1cCAmJiBvcHRpb25zW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdIHx8IG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7ZGVmYXVsdFZhbHVlU3VmZml4fWBdIHx8IG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7ZGVmYXVsdFZhbHVlU3VmZml4T3JkaW5hbEZhbGxiYWNrfWBdIHx8IG9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSAmJiBoYXNEZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdXNlZERlZmF1bHQgPSB0cnVlO1xuICAgICAgICByZXMgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChyZXMpKSB7XG4gICAgICAgIHVzZWRLZXkgPSB0cnVlO1xuICAgICAgICByZXMgPSBrZXk7XG4gICAgICB9XG4gICAgICBjb25zdCBtaXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgPSBvcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSB8fCB0aGlzLm9wdGlvbnMubWlzc2luZ0tleU5vVmFsdWVGYWxsYmFja1RvS2V5O1xuICAgICAgY29uc3QgcmVzRm9yTWlzc2luZyA9IG1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSAmJiB1c2VkS2V5ID8gdW5kZWZpbmVkIDogcmVzO1xuICAgICAgY29uc3QgdXBkYXRlTWlzc2luZyA9IGhhc0RlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUgIT09IHJlcyAmJiB0aGlzLm9wdGlvbnMudXBkYXRlTWlzc2luZztcbiAgICAgIGlmICh1c2VkS2V5IHx8IHVzZWREZWZhdWx0IHx8IHVwZGF0ZU1pc3NpbmcpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKHVwZGF0ZU1pc3NpbmcgPyAndXBkYXRlS2V5JyA6ICdtaXNzaW5nS2V5JywgbG5nLCBuYW1lc3BhY2UsIGtleSwgdXBkYXRlTWlzc2luZyA/IGRlZmF1bHRWYWx1ZSA6IHJlcyk7XG4gICAgICAgIGlmIChrZXlTZXBhcmF0b3IpIHtcbiAgICAgICAgICBjb25zdCBmayA9IHRoaXMucmVzb2x2ZShrZXksIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBrZXlTZXBhcmF0b3I6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGZrICYmIGZrLnJlcykgdGhpcy5sb2dnZXIud2FybignU2VlbXMgdGhlIGxvYWRlZCB0cmFuc2xhdGlvbnMgd2VyZSBpbiBmbGF0IEpTT04gZm9ybWF0IGluc3RlYWQgb2YgbmVzdGVkLiBFaXRoZXIgc2V0IGtleVNlcGFyYXRvcjogZmFsc2Ugb24gaW5pdCBvciBtYWtlIHN1cmUgeW91ciB0cmFuc2xhdGlvbnMgYXJlIHB1Ymxpc2hlZCBpbiBuZXN0ZWQgZm9ybWF0LicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsbmdzID0gW107XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrTG5ncyA9IHRoaXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZywgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdUbyA9PT0gJ2ZhbGxiYWNrJyAmJiBmYWxsYmFja0xuZ3MgJiYgZmFsbGJhY2tMbmdzWzBdKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWxsYmFja0xuZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxuZ3MucHVzaChmYWxsYmFja0xuZ3NbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdUbyA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICBsbmdzID0gdGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsbmdzLnB1c2gob3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VuZCA9IChsLCBrLCBzcGVjaWZpY0RlZmF1bHRWYWx1ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRGb3JNaXNzaW5nID0gaGFzRGVmYXVsdFZhbHVlICYmIHNwZWNpZmljRGVmYXVsdFZhbHVlICE9PSByZXMgPyBzcGVjaWZpY0RlZmF1bHRWYWx1ZSA6IHJlc0Zvck1pc3Npbmc7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1pc3NpbmdLZXlIYW5kbGVyKGwsIG5hbWVzcGFjZSwgaywgZGVmYXVsdEZvck1pc3NpbmcsIHVwZGF0ZU1pc3NpbmcsIG9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5iYWNrZW5kQ29ubmVjdG9yICYmIHRoaXMuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZykge1xuICAgICAgICAgICAgdGhpcy5iYWNrZW5kQ29ubmVjdG9yLnNhdmVNaXNzaW5nKGwsIG5hbWVzcGFjZSwgaywgZGVmYXVsdEZvck1pc3NpbmcsIHVwZGF0ZU1pc3NpbmcsIG9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmVtaXQoJ21pc3NpbmdLZXknLCBsLCBuYW1lc3BhY2UsIGssIHJlcyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmcpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nUGx1cmFscyAmJiBuZWVkc1BsdXJhbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICBsbmdzLmZvckVhY2gobGFuZ3VhZ2UgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzdWZmaXhlcyA9IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4ZXMobGFuZ3VhZ2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICBpZiAobmVlZHNaZXJvU3VmZml4TG9va3VwICYmIG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYF0gJiYgc3VmZml4ZXMuaW5kZXhPZihgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKSA8IDApIHtcbiAgICAgICAgICAgICAgICBzdWZmaXhlcy5wdXNoKGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2ApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN1ZmZpeGVzLmZvckVhY2goc3VmZml4ID0+IHtcbiAgICAgICAgICAgICAgICBzZW5kKFtsYW5ndWFnZV0sIGtleSArIHN1ZmZpeCwgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHtzdWZmaXh9YF0gfHwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VuZChsbmdzLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXMgPSB0aGlzLmV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5cywgb3B0aW9ucywgcmVzb2x2ZWQsIGxhc3RLZXkpO1xuICAgICAgaWYgKHVzZWRLZXkgJiYgcmVzID09PSBrZXkgJiYgdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSkgcmVzID0gYCR7bmFtZXNwYWNlfToke2tleX1gO1xuICAgICAgaWYgKCh1c2VkS2V5IHx8IHVzZWREZWZhdWx0KSAmJiB0aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgIT09ICd2MScpIHtcbiAgICAgICAgICByZXMgPSB0aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcih0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5ID8gYCR7bmFtZXNwYWNlfToke2tleX1gIDoga2V5LCB1c2VkRGVmYXVsdCA/IHJlcyA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIocmVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgcmVzb2x2ZWQucmVzID0gcmVzO1xuICAgICAgcmVzb2x2ZWQudXNlZFBhcmFtcyA9IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucyk7XG4gICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZXh0ZW5kVHJhbnNsYXRpb24ocmVzLCBrZXksIG9wdGlvbnMsIHJlc29sdmVkLCBsYXN0S2V5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAodGhpcy5pMThuRm9ybWF0ICYmIHRoaXMuaTE4bkZvcm1hdC5wYXJzZSkge1xuICAgICAgcmVzID0gdGhpcy5pMThuRm9ybWF0LnBhcnNlKHJlcywge1xuICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9LCBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlIHx8IHJlc29sdmVkLnVzZWRMbmcsIHJlc29sdmVkLnVzZWROUywgcmVzb2x2ZWQudXNlZEtleSwge1xuICAgICAgICByZXNvbHZlZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghb3B0aW9ucy5za2lwSW50ZXJwb2xhdGlvbikge1xuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IuaW5pdCh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLntcbiAgICAgICAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuaW50ZXJwb2xhdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBza2lwT25WYXJpYWJsZXMgPSBpc1N0cmluZyhyZXMpICYmIChvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzIDogdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzKTtcbiAgICAgIGxldCBuZXN0QmVmO1xuICAgICAgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICBjb25zdCBuYiA9IHJlcy5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtcbiAgICAgICAgbmVzdEJlZiA9IG5iICYmIG5iLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxldCBkYXRhID0gb3B0aW9ucy5yZXBsYWNlICYmICFpc1N0cmluZyhvcHRpb25zLnJlcGxhY2UpID8gb3B0aW9ucy5yZXBsYWNlIDogb3B0aW9ucztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSBkYXRhID0ge1xuICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzLFxuICAgICAgICAuLi5kYXRhXG4gICAgICB9O1xuICAgICAgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUocmVzLCBkYXRhLCBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlIHx8IHJlc29sdmVkLnVzZWRMbmcsIG9wdGlvbnMpO1xuICAgICAgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICBjb25zdCBuYSA9IHJlcy5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtcbiAgICAgICAgY29uc3QgbmVzdEFmdCA9IG5hICYmIG5hLmxlbmd0aDtcbiAgICAgICAgaWYgKG5lc3RCZWYgPCBuZXN0QWZ0KSBvcHRpb25zLm5lc3QgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghb3B0aW9ucy5sbmcgJiYgdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgIT09ICd2MScgJiYgcmVzb2x2ZWQgJiYgcmVzb2x2ZWQucmVzKSBvcHRpb25zLmxuZyA9IHRoaXMubGFuZ3VhZ2UgfHwgcmVzb2x2ZWQudXNlZExuZztcbiAgICAgIGlmIChvcHRpb25zLm5lc3QgIT09IGZhbHNlKSByZXMgPSB0aGlzLmludGVycG9sYXRvci5uZXN0KHJlcywgZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0S2V5ICYmIGxhc3RLZXlbMF0gPT09IGFyZ3NbMF0gJiYgIW9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKGBJdCBzZWVtcyB5b3UgYXJlIG5lc3RpbmcgcmVjdXJzaXZlbHkga2V5OiAke2FyZ3NbMF19IGluIGtleTogJHtrZXlbMF19YCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzLnRyYW5zbGF0ZSguLi5hcmdzLCBrZXkpO1xuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICBpZiAob3B0aW9ucy5pbnRlcnBvbGF0aW9uKSB0aGlzLmludGVycG9sYXRvci5yZXNldCgpO1xuICAgIH1cbiAgICBjb25zdCBwb3N0UHJvY2VzcyA9IG9wdGlvbnMucG9zdFByb2Nlc3MgfHwgdGhpcy5vcHRpb25zLnBvc3RQcm9jZXNzO1xuICAgIGNvbnN0IHBvc3RQcm9jZXNzb3JOYW1lcyA9IGlzU3RyaW5nKHBvc3RQcm9jZXNzKSA/IFtwb3N0UHJvY2Vzc10gOiBwb3N0UHJvY2VzcztcbiAgICBpZiAocmVzICE9PSB1bmRlZmluZWQgJiYgcmVzICE9PSBudWxsICYmIHBvc3RQcm9jZXNzb3JOYW1lcyAmJiBwb3N0UHJvY2Vzc29yTmFtZXMubGVuZ3RoICYmIG9wdGlvbnMuYXBwbHlQb3N0UHJvY2Vzc29yICE9PSBmYWxzZSkge1xuICAgICAgcmVzID0gcG9zdFByb2Nlc3Nvci5oYW5kbGUocG9zdFByb2Nlc3Nvck5hbWVzLCByZXMsIGtleSwgdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5wb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZCA/IHtcbiAgICAgICAgaTE4blJlc29sdmVkOiB7XG4gICAgICAgICAgLi4ucmVzb2x2ZWQsXG4gICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICB9LFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9IDogb3B0aW9ucywgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmVzb2x2ZShrZXlzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGxldCBmb3VuZDtcbiAgICBsZXQgdXNlZEtleTtcbiAgICBsZXQgZXhhY3RVc2VkS2V5O1xuICAgIGxldCB1c2VkTG5nO1xuICAgIGxldCB1c2VkTlM7XG4gICAgaWYgKGlzU3RyaW5nKGtleXMpKSBrZXlzID0gW2tleXNdO1xuICAgIGtleXMuZm9yRWFjaChrID0+IHtcbiAgICAgIGlmICh0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICBjb25zdCBleHRyYWN0ZWQgPSB0aGlzLmV4dHJhY3RGcm9tS2V5KGssIG9wdGlvbnMpO1xuICAgICAgY29uc3Qga2V5ID0gZXh0cmFjdGVkLmtleTtcbiAgICAgIHVzZWRLZXkgPSBrZXk7XG4gICAgICBsZXQgbmFtZXNwYWNlcyA9IGV4dHJhY3RlZC5uYW1lc3BhY2VzO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5mYWxsYmFja05TKSBuYW1lc3BhY2VzID0gbmFtZXNwYWNlcy5jb25jYXQodGhpcy5vcHRpb25zLmZhbGxiYWNrTlMpO1xuICAgICAgY29uc3QgbmVlZHNQbHVyYWxIYW5kbGluZyA9IG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJiAhaXNTdHJpbmcob3B0aW9ucy5jb3VudCk7XG4gICAgICBjb25zdCBuZWVkc1plcm9TdWZmaXhMb29rdXAgPSBuZWVkc1BsdXJhbEhhbmRsaW5nICYmICFvcHRpb25zLm9yZGluYWwgJiYgb3B0aW9ucy5jb3VudCA9PT0gMCAmJiB0aGlzLnBsdXJhbFJlc29sdmVyLnNob3VsZFVzZUludGxBcGkoKTtcbiAgICAgIGNvbnN0IG5lZWRzQ29udGV4dEhhbmRsaW5nID0gb3B0aW9ucy5jb250ZXh0ICE9PSB1bmRlZmluZWQgJiYgKGlzU3RyaW5nKG9wdGlvbnMuY29udGV4dCkgfHwgdHlwZW9mIG9wdGlvbnMuY29udGV4dCA9PT0gJ251bWJlcicpICYmIG9wdGlvbnMuY29udGV4dCAhPT0gJyc7XG4gICAgICBjb25zdCBjb2RlcyA9IG9wdGlvbnMubG5ncyA/IG9wdGlvbnMubG5ncyA6IHRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkob3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSwgb3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuICAgICAgICB1c2VkTlMgPSBucztcbiAgICAgICAgaWYgKCFjaGVja2VkTG9hZGVkRm9yW2Ake2NvZGVzWzBdfS0ke25zfWBdICYmIHRoaXMudXRpbHMgJiYgdGhpcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIXRoaXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKHVzZWROUykpIHtcbiAgICAgICAgICBjaGVja2VkTG9hZGVkRm9yW2Ake2NvZGVzWzBdfS0ke25zfWBdID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBrZXkgXCIke3VzZWRLZXl9XCIgZm9yIGxhbmd1YWdlcyBcIiR7Y29kZXMuam9pbignLCAnKX1cIiB3b24ndCBnZXQgcmVzb2x2ZWQgYXMgbmFtZXNwYWNlIFwiJHt1c2VkTlN9XCIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwgJ1RoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhIScpO1xuICAgICAgICB9XG4gICAgICAgIGNvZGVzLmZvckVhY2goY29kZSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcbiAgICAgICAgICB1c2VkTG5nID0gY29kZTtcbiAgICAgICAgICBjb25zdCBmaW5hbEtleXMgPSBba2V5XTtcbiAgICAgICAgICBpZiAodGhpcy5pMThuRm9ybWF0ICYmIHRoaXMuaTE4bkZvcm1hdC5hZGRMb29rdXBLZXlzKSB7XG4gICAgICAgICAgICB0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyhmaW5hbEtleXMsIGtleSwgY29kZSwgbnMsIG9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcGx1cmFsU3VmZml4O1xuICAgICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHBsdXJhbFN1ZmZpeCA9IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGNvZGUsIG9wdGlvbnMuY291bnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgemVyb1N1ZmZpeCA9IGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2A7XG4gICAgICAgICAgICBjb25zdCBvcmRpbmFsUHJlZml4ID0gYCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn1vcmRpbmFsJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfWA7XG4gICAgICAgICAgICBpZiAobmVlZHNQbHVyYWxIYW5kbGluZykge1xuICAgICAgICAgICAgICBmaW5hbEtleXMucHVzaChrZXkgKyBwbHVyYWxTdWZmaXgpO1xuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vcmRpbmFsICYmIHBsdXJhbFN1ZmZpeC5pbmRleE9mKG9yZGluYWxQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgcGx1cmFsU3VmZml4LnJlcGxhY2Uob3JkaW5hbFByZWZpeCwgdGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChuZWVkc1plcm9TdWZmaXhMb29rdXApIHtcbiAgICAgICAgICAgICAgICBmaW5hbEtleXMucHVzaChrZXkgKyB6ZXJvU3VmZml4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lZWRzQ29udGV4dEhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRleHRLZXkgPSBgJHtrZXl9JHt0aGlzLm9wdGlvbnMuY29udGV4dFNlcGFyYXRvcn0ke29wdGlvbnMuY29udGV4dH1gO1xuICAgICAgICAgICAgICBmaW5hbEtleXMucHVzaChjb250ZXh0S2V5KTtcbiAgICAgICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBmaW5hbEtleXMucHVzaChjb250ZXh0S2V5ICsgcGx1cmFsU3VmZml4KTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vcmRpbmFsICYmIHBsdXJhbFN1ZmZpeC5pbmRleE9mKG9yZGluYWxQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICBmaW5hbEtleXMucHVzaChjb250ZXh0S2V5ICsgcGx1cmFsU3VmZml4LnJlcGxhY2Uob3JkaW5hbFByZWZpeCwgdGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmVlZHNaZXJvU3VmZml4TG9va3VwKSB7XG4gICAgICAgICAgICAgICAgICBmaW5hbEtleXMucHVzaChjb250ZXh0S2V5ICsgemVyb1N1ZmZpeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBwb3NzaWJsZUtleTtcbiAgICAgICAgICB3aGlsZSAocG9zc2libGVLZXkgPSBmaW5hbEtleXMucG9wKCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkTG9va3VwKGZvdW5kKSkge1xuICAgICAgICAgICAgICBleGFjdFVzZWRLZXkgPSBwb3NzaWJsZUtleTtcbiAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmdldFJlc291cmNlKGNvZGUsIG5zLCBwb3NzaWJsZUtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICByZXM6IGZvdW5kLFxuICAgICAgdXNlZEtleSxcbiAgICAgIGV4YWN0VXNlZEtleSxcbiAgICAgIHVzZWRMbmcsXG4gICAgICB1c2VkTlNcbiAgICB9O1xuICB9XG4gIGlzVmFsaWRMb29rdXAocmVzKSB7XG4gICAgcmV0dXJuIHJlcyAhPT0gdW5kZWZpbmVkICYmICEoIXRoaXMub3B0aW9ucy5yZXR1cm5OdWxsICYmIHJlcyA9PT0gbnVsbCkgJiYgISghdGhpcy5vcHRpb25zLnJldHVybkVtcHR5U3RyaW5nICYmIHJlcyA9PT0gJycpO1xuICB9XG4gIGdldFJlc291cmNlKGNvZGUsIG5zLCBrZXkpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UpIHJldHVybiB0aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMucmVzb3VyY2VTdG9yZS5nZXRSZXNvdXJjZShjb2RlLCBucywga2V5LCBvcHRpb25zKTtcbiAgfVxuICBnZXRVc2VkUGFyYW1zRGV0YWlscygpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgY29uc3Qgb3B0aW9uc0tleXMgPSBbJ2RlZmF1bHRWYWx1ZScsICdvcmRpbmFsJywgJ2NvbnRleHQnLCAncmVwbGFjZScsICdsbmcnLCAnbG5ncycsICdmYWxsYmFja0xuZycsICducycsICdrZXlTZXBhcmF0b3InLCAnbnNTZXBhcmF0b3InLCAncmV0dXJuT2JqZWN0cycsICdyZXR1cm5EZXRhaWxzJywgJ2pvaW5BcnJheXMnLCAncG9zdFByb2Nlc3MnLCAnaW50ZXJwb2xhdGlvbiddO1xuICAgIGNvbnN0IHVzZU9wdGlvbnNSZXBsYWNlRm9yRGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiAhaXNTdHJpbmcob3B0aW9ucy5yZXBsYWNlKTtcbiAgICBsZXQgZGF0YSA9IHVzZU9wdGlvbnNSZXBsYWNlRm9yRGF0YSA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgaWYgKHVzZU9wdGlvbnNSZXBsYWNlRm9yRGF0YSAmJiB0eXBlb2Ygb3B0aW9ucy5jb3VudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEuY291bnQgPSBvcHRpb25zLmNvdW50O1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcykge1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCF1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH07XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBvcHRpb25zS2V5cykge1xuICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICBzdGF0aWMgaGFzRGVmYXVsdFZhbHVlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBwcmVmaXggPSAnZGVmYXVsdFZhbHVlJztcbiAgICBmb3IgKGNvbnN0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIG9wdGlvbikgJiYgcHJlZml4ID09PSBvcHRpb24uc3Vic3RyaW5nKDAsIHByZWZpeC5sZW5ndGgpICYmIHVuZGVmaW5lZCAhPT0gb3B0aW9uc1tvcHRpb25dKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgY2FwaXRhbGl6ZSA9IHN0cmluZyA9PiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG5jbGFzcyBMYW5ndWFnZVV0aWwge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN1cHBvcnRlZExuZ3MgPSB0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncyB8fCBmYWxzZTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdsYW5ndWFnZVV0aWxzJyk7XG4gIH1cbiAgZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpIHtcbiAgICBjb2RlID0gZ2V0Q2xlYW5lZENvZGUoY29kZSk7XG4gICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICBpZiAocC5sZW5ndGggPT09IDIpIHJldHVybiBudWxsO1xuICAgIHAucG9wKCk7XG4gICAgaWYgKHBbcC5sZW5ndGggLSAxXS50b0xvd2VyQ2FzZSgpID09PSAneCcpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShwLmpvaW4oJy0nKSk7XG4gIH1cbiAgZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkge1xuICAgIGNvZGUgPSBnZXRDbGVhbmVkQ29kZShjb2RlKTtcbiAgICBpZiAoIWNvZGUgfHwgY29kZS5pbmRleE9mKCctJykgPCAwKSByZXR1cm4gY29kZTtcbiAgICBjb25zdCBwID0gY29kZS5zcGxpdCgnLScpO1xuICAgIHJldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShwWzBdKTtcbiAgfVxuICBmb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkge1xuICAgIGlmIChpc1N0cmluZyhjb2RlKSAmJiBjb2RlLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICBpZiAodHlwZW9mIEludGwgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBJbnRsLmdldENhbm9uaWNhbExvY2FsZXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGZvcm1hdHRlZENvZGUgPSBJbnRsLmdldENhbm9uaWNhbExvY2FsZXMoY29kZSlbMF07XG4gICAgICAgICAgaWYgKGZvcm1hdHRlZENvZGUgJiYgdGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZykge1xuICAgICAgICAgICAgZm9ybWF0dGVkQ29kZSA9IGZvcm1hdHRlZENvZGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZvcm1hdHRlZENvZGUpIHJldHVybiBmb3JtYXR0ZWRDb2RlO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgY29uc3Qgc3BlY2lhbENhc2VzID0gWydoYW5zJywgJ2hhbnQnLCAnbGF0bicsICdjeXJsJywgJ2NhbnMnLCAnbW9uZycsICdhcmFiJ107XG4gICAgICBsZXQgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG93ZXJDYXNlTG5nKSB7XG4gICAgICAgIHAgPSBwLm1hcChwYXJ0ID0+IHBhcnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICB9IGVsc2UgaWYgKHAubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHBbMF0gPSBwWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHBbMV0gPSBwWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzFdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMV0gPSBjYXBpdGFsaXplKHBbMV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICB9IGVsc2UgaWYgKHAubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIHBbMF0gPSBwWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChwWzFdLmxlbmd0aCA9PT0gMikgcFsxXSA9IHBbMV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgaWYgKHBbMF0gIT09ICdzZ24nICYmIHBbMl0ubGVuZ3RoID09PSAyKSBwWzJdID0gcFsyXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsxXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzFdID0gY2FwaXRhbGl6ZShwWzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsyXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzJdID0gY2FwaXRhbGl6ZShwWzJdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHAuam9pbignLScpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsZWFuQ29kZSB8fCB0aGlzLm9wdGlvbnMubG93ZXJDYXNlTG5nID8gY29kZS50b0xvd2VyQ2FzZSgpIDogY29kZTtcbiAgfVxuICBpc1N1cHBvcnRlZENvZGUoY29kZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCA9PT0gJ2xhbmd1YWdlT25seScgfHwgdGhpcy5vcHRpb25zLm5vbkV4cGxpY2l0U3VwcG9ydGVkTG5ncykge1xuICAgICAgY29kZSA9IHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgfVxuICAgIHJldHVybiAhdGhpcy5zdXBwb3J0ZWRMbmdzIHx8ICF0aGlzLnN1cHBvcnRlZExuZ3MubGVuZ3RoIHx8IHRoaXMuc3VwcG9ydGVkTG5ncy5pbmRleE9mKGNvZGUpID4gLTE7XG4gIH1cbiAgZ2V0QmVzdE1hdGNoRnJvbUNvZGVzKGNvZGVzKSB7XG4gICAgaWYgKCFjb2RlcykgcmV0dXJuIG51bGw7XG4gICAgbGV0IGZvdW5kO1xuICAgIGNvZGVzLmZvckVhY2goY29kZSA9PiB7XG4gICAgICBpZiAoZm91bmQpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsZWFuZWRMbmcgPSB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKTtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MgfHwgdGhpcy5pc1N1cHBvcnRlZENvZGUoY2xlYW5lZExuZykpIGZvdW5kID0gY2xlYW5lZExuZztcbiAgICB9KTtcbiAgICBpZiAoIWZvdW5kICYmIHRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzKSB7XG4gICAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgICBpZiAoZm91bmQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbG5nT25seSA9IHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkQ29kZShsbmdPbmx5KSkgcmV0dXJuIGZvdW5kID0gbG5nT25seTtcbiAgICAgICAgZm91bmQgPSB0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncy5maW5kKHN1cHBvcnRlZExuZyA9PiB7XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZyA9PT0gbG5nT25seSkgcmV0dXJuIHN1cHBvcnRlZExuZztcbiAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nLmluZGV4T2YoJy0nKSA8IDAgJiYgbG5nT25seS5pbmRleE9mKCctJykgPCAwKSByZXR1cm47XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZy5pbmRleE9mKCctJykgPiAwICYmIGxuZ09ubHkuaW5kZXhPZignLScpIDwgMCAmJiBzdXBwb3J0ZWRMbmcuc3Vic3RyaW5nKDAsIHN1cHBvcnRlZExuZy5pbmRleE9mKCctJykpID09PSBsbmdPbmx5KSByZXR1cm4gc3VwcG9ydGVkTG5nO1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcuaW5kZXhPZihsbmdPbmx5KSA9PT0gMCAmJiBsbmdPbmx5Lmxlbmd0aCA+IDEpIHJldHVybiBzdXBwb3J0ZWRMbmc7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghZm91bmQpIGZvdW5kID0gdGhpcy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZylbMF07XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG4gIGdldEZhbGxiYWNrQ29kZXMoZmFsbGJhY2tzLCBjb2RlKSB7XG4gICAgaWYgKCFmYWxsYmFja3MpIHJldHVybiBbXTtcbiAgICBpZiAodHlwZW9mIGZhbGxiYWNrcyA9PT0gJ2Z1bmN0aW9uJykgZmFsbGJhY2tzID0gZmFsbGJhY2tzKGNvZGUpO1xuICAgIGlmIChpc1N0cmluZyhmYWxsYmFja3MpKSBmYWxsYmFja3MgPSBbZmFsbGJhY2tzXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmYWxsYmFja3MpKSByZXR1cm4gZmFsbGJhY2tzO1xuICAgIGlmICghY29kZSkgcmV0dXJuIGZhbGxiYWNrcy5kZWZhdWx0IHx8IFtdO1xuICAgIGxldCBmb3VuZCA9IGZhbGxiYWNrc1tjb2RlXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSldO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSldO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzLmRlZmF1bHQ7XG4gICAgcmV0dXJuIGZvdW5kIHx8IFtdO1xuICB9XG4gIHRvUmVzb2x2ZUhpZXJhcmNoeShjb2RlLCBmYWxsYmFja0NvZGUpIHtcbiAgICBjb25zdCBmYWxsYmFja0NvZGVzID0gdGhpcy5nZXRGYWxsYmFja0NvZGVzKGZhbGxiYWNrQ29kZSB8fCB0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcgfHwgW10sIGNvZGUpO1xuICAgIGNvbnN0IGNvZGVzID0gW107XG4gICAgY29uc3QgYWRkQ29kZSA9IGMgPT4ge1xuICAgICAgaWYgKCFjKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5pc1N1cHBvcnRlZENvZGUoYykpIHtcbiAgICAgICAgY29kZXMucHVzaChjKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYHJlamVjdGluZyBsYW5ndWFnZSBjb2RlIG5vdCBmb3VuZCBpbiBzdXBwb3J0ZWRMbmdzOiAke2N9YCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoaXNTdHJpbmcoY29kZSkgJiYgKGNvZGUuaW5kZXhPZignLScpID4gLTEgfHwgY29kZS5pbmRleE9mKCdfJykgPiAtMSkpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2xhbmd1YWdlT25seScpIGFkZENvZGUodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnbGFuZ3VhZ2VPbmx5JyAmJiB0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2N1cnJlbnRPbmx5JykgYWRkQ29kZSh0aGlzLmdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKSk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdjdXJyZW50T25seScpIGFkZENvZGUodGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKSk7XG4gICAgfSBlbHNlIGlmIChpc1N0cmluZyhjb2RlKSkge1xuICAgICAgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSk7XG4gICAgfVxuICAgIGZhbGxiYWNrQ29kZXMuZm9yRWFjaChmYyA9PiB7XG4gICAgICBpZiAoY29kZXMuaW5kZXhPZihmYykgPCAwKSBhZGRDb2RlKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGZjKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvZGVzO1xuICB9XG59XG5cbmxldCBzZXRzID0gW3tcbiAgbG5nczogWydhY2gnLCAnYWsnLCAnYW0nLCAnYXJuJywgJ2JyJywgJ2ZpbCcsICdndW4nLCAnbG4nLCAnbWZlJywgJ21nJywgJ21pJywgJ29jJywgJ3B0JywgJ3B0LUJSJywgJ3RnJywgJ3RsJywgJ3RpJywgJ3RyJywgJ3V6JywgJ3dhJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiAxXG59LCB7XG4gIGxuZ3M6IFsnYWYnLCAnYW4nLCAnYXN0JywgJ2F6JywgJ2JnJywgJ2JuJywgJ2NhJywgJ2RhJywgJ2RlJywgJ2RldicsICdlbCcsICdlbicsICdlbycsICdlcycsICdldCcsICdldScsICdmaScsICdmbycsICdmdXInLCAnZnknLCAnZ2wnLCAnZ3UnLCAnaGEnLCAnaGknLCAnaHUnLCAnaHknLCAnaWEnLCAnaXQnLCAna2snLCAna24nLCAna3UnLCAnbGInLCAnbWFpJywgJ21sJywgJ21uJywgJ21yJywgJ25haCcsICduYXAnLCAnbmInLCAnbmUnLCAnbmwnLCAnbm4nLCAnbm8nLCAnbnNvJywgJ3BhJywgJ3BhcCcsICdwbXMnLCAncHMnLCAncHQtUFQnLCAncm0nLCAnc2NvJywgJ3NlJywgJ3NpJywgJ3NvJywgJ3NvbicsICdzcScsICdzdicsICdzdycsICd0YScsICd0ZScsICd0aycsICd1cicsICd5byddLFxuICBucjogWzEsIDJdLFxuICBmYzogMlxufSwge1xuICBsbmdzOiBbJ2F5JywgJ2JvJywgJ2NnZycsICdmYScsICdodCcsICdpZCcsICdqYScsICdqYm8nLCAna2EnLCAna20nLCAna28nLCAna3knLCAnbG8nLCAnbXMnLCAnc2FoJywgJ3N1JywgJ3RoJywgJ3R0JywgJ3VnJywgJ3ZpJywgJ3dvJywgJ3poJ10sXG4gIG5yOiBbMV0sXG4gIGZjOiAzXG59LCB7XG4gIGxuZ3M6IFsnYmUnLCAnYnMnLCAnY25yJywgJ2R6JywgJ2hyJywgJ3J1JywgJ3NyJywgJ3VrJ10sXG4gIG5yOiBbMSwgMiwgNV0sXG4gIGZjOiA0XG59LCB7XG4gIGxuZ3M6IFsnYXInXSxcbiAgbnI6IFswLCAxLCAyLCAzLCAxMSwgMTAwXSxcbiAgZmM6IDVcbn0sIHtcbiAgbG5nczogWydjcycsICdzayddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogNlxufSwge1xuICBsbmdzOiBbJ2NzYicsICdwbCddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogN1xufSwge1xuICBsbmdzOiBbJ2N5J10sXG4gIG5yOiBbMSwgMiwgMywgOF0sXG4gIGZjOiA4XG59LCB7XG4gIGxuZ3M6IFsnZnInXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDlcbn0sIHtcbiAgbG5nczogWydnYSddLFxuICBucjogWzEsIDIsIDMsIDcsIDExXSxcbiAgZmM6IDEwXG59LCB7XG4gIGxuZ3M6IFsnZ2QnXSxcbiAgbnI6IFsxLCAyLCAzLCAyMF0sXG4gIGZjOiAxMVxufSwge1xuICBsbmdzOiBbJ2lzJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiAxMlxufSwge1xuICBsbmdzOiBbJ2p2J10sXG4gIG5yOiBbMCwgMV0sXG4gIGZjOiAxM1xufSwge1xuICBsbmdzOiBbJ2t3J10sXG4gIG5yOiBbMSwgMiwgMywgNF0sXG4gIGZjOiAxNFxufSwge1xuICBsbmdzOiBbJ2x0J10sXG4gIG5yOiBbMSwgMiwgMTBdLFxuICBmYzogMTVcbn0sIHtcbiAgbG5nczogWydsdiddLFxuICBucjogWzEsIDIsIDBdLFxuICBmYzogMTZcbn0sIHtcbiAgbG5nczogWydtayddLFxuICBucjogWzEsIDJdLFxuICBmYzogMTdcbn0sIHtcbiAgbG5nczogWydtbmsnXSxcbiAgbnI6IFswLCAxLCAyXSxcbiAgZmM6IDE4XG59LCB7XG4gIGxuZ3M6IFsnbXQnXSxcbiAgbnI6IFsxLCAyLCAxMSwgMjBdLFxuICBmYzogMTlcbn0sIHtcbiAgbG5nczogWydvciddLFxuICBucjogWzIsIDFdLFxuICBmYzogMlxufSwge1xuICBsbmdzOiBbJ3JvJ10sXG4gIG5yOiBbMSwgMiwgMjBdLFxuICBmYzogMjBcbn0sIHtcbiAgbG5nczogWydzbCddLFxuICBucjogWzUsIDEsIDIsIDNdLFxuICBmYzogMjFcbn0sIHtcbiAgbG5nczogWydoZScsICdpdyddLFxuICBucjogWzEsIDIsIDIwLCAyMV0sXG4gIGZjOiAyMlxufV07XG5sZXQgX3J1bGVzUGx1cmFsc1R5cGVzID0ge1xuICAxOiBuID0+IE51bWJlcihuID4gMSksXG4gIDI6IG4gPT4gTnVtYmVyKG4gIT0gMSksXG4gIDM6IG4gPT4gMCxcbiAgNDogbiA9PiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpLFxuICA1OiBuID0+IE51bWJlcihuID09IDAgPyAwIDogbiA9PSAxID8gMSA6IG4gPT0gMiA/IDIgOiBuICUgMTAwID49IDMgJiYgbiAlIDEwMCA8PSAxMCA/IDMgOiBuICUgMTAwID49IDExID8gNCA6IDUpLFxuICA2OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA+PSAyICYmIG4gPD0gNCA/IDEgOiAyKSxcbiAgNzogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gJSAxMCA+PSAyICYmIG4gJSAxMCA8PSA0ICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMiksXG4gIDg6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogbiAhPSA4ICYmIG4gIT0gMTEgPyAyIDogMyksXG4gIDk6IG4gPT4gTnVtYmVyKG4gPj0gMiksXG4gIDEwOiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gPCA3ID8gMiA6IG4gPCAxMSA/IDMgOiA0KSxcbiAgMTE6IG4gPT4gTnVtYmVyKG4gPT0gMSB8fCBuID09IDExID8gMCA6IG4gPT0gMiB8fCBuID09IDEyID8gMSA6IG4gPiAyICYmIG4gPCAyMCA/IDIgOiAzKSxcbiAgMTI6IG4gPT4gTnVtYmVyKG4gJSAxMCAhPSAxIHx8IG4gJSAxMDAgPT0gMTEpLFxuICAxMzogbiA9PiBOdW1iZXIobiAhPT0gMCksXG4gIDE0OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gPT0gMyA/IDIgOiAzKSxcbiAgMTU6IG4gPT4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAlIDEwID49IDIgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyKSxcbiAgMTY6IG4gPT4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAhPT0gMCA/IDEgOiAyKSxcbiAgMTc6IG4gPT4gTnVtYmVyKG4gPT0gMSB8fCBuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IDEpLFxuICAxODogbiA9PiBOdW1iZXIobiA9PSAwID8gMCA6IG4gPT0gMSA/IDEgOiAyKSxcbiAgMTk6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDAgfHwgbiAlIDEwMCA+IDEgJiYgbiAlIDEwMCA8IDExID8gMSA6IG4gJSAxMDAgPiAxMCAmJiBuICUgMTAwIDwgMjAgPyAyIDogMyksXG4gIDIwOiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAwIHx8IG4gJSAxMDAgPiAwICYmIG4gJSAxMDAgPCAyMCA/IDEgOiAyKSxcbiAgMjE6IG4gPT4gTnVtYmVyKG4gJSAxMDAgPT0gMSA/IDEgOiBuICUgMTAwID09IDIgPyAyIDogbiAlIDEwMCA9PSAzIHx8IG4gJSAxMDAgPT0gNCA/IDMgOiAwKSxcbiAgMjI6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogKG4gPCAwIHx8IG4gPiAxMCkgJiYgbiAlIDEwID09IDAgPyAyIDogMylcbn07XG5jb25zdCBub25JbnRsVmVyc2lvbnMgPSBbJ3YxJywgJ3YyJywgJ3YzJ107XG5jb25zdCBpbnRsVmVyc2lvbnMgPSBbJ3Y0J107XG5jb25zdCBzdWZmaXhlc09yZGVyID0ge1xuICB6ZXJvOiAwLFxuICBvbmU6IDEsXG4gIHR3bzogMixcbiAgZmV3OiAzLFxuICBtYW55OiA0LFxuICBvdGhlcjogNVxufTtcbmNvbnN0IGNyZWF0ZVJ1bGVzID0gKCkgPT4ge1xuICBjb25zdCBydWxlcyA9IHt9O1xuICBzZXRzLmZvckVhY2goc2V0ID0+IHtcbiAgICBzZXQubG5ncy5mb3JFYWNoKGwgPT4ge1xuICAgICAgcnVsZXNbbF0gPSB7XG4gICAgICAgIG51bWJlcnM6IHNldC5ucixcbiAgICAgICAgcGx1cmFsczogX3J1bGVzUGx1cmFsc1R5cGVzW3NldC5mY11cbiAgICAgIH07XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gcnVsZXM7XG59O1xuY2xhc3MgUGx1cmFsUmVzb2x2ZXIge1xuICBjb25zdHJ1Y3RvcihsYW5ndWFnZVV0aWxzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHRoaXMubGFuZ3VhZ2VVdGlscyA9IGxhbmd1YWdlVXRpbHM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdwbHVyYWxSZXNvbHZlcicpO1xuICAgIGlmICgoIXRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiB8fCBpbnRsVmVyc2lvbnMuaW5jbHVkZXModGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OKSkgJiYgKHR5cGVvZiBJbnRsID09PSAndW5kZWZpbmVkJyB8fCAhSW50bC5QbHVyYWxSdWxlcykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9ICd2Myc7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignWW91ciBlbnZpcm9ubWVudCBzZWVtcyBub3QgdG8gYmUgSW50bCBBUEkgY29tcGF0aWJsZSwgdXNlIGFuIEludGwuUGx1cmFsUnVsZXMgcG9seWZpbGwuIFdpbGwgZmFsbGJhY2sgdG8gdGhlIGNvbXBhdGliaWxpdHlKU09OIHYzIGZvcm1hdCBoYW5kbGluZy4nKTtcbiAgICB9XG4gICAgdGhpcy5ydWxlcyA9IGNyZWF0ZVJ1bGVzKCk7XG4gICAgdGhpcy5wbHVyYWxSdWxlc0NhY2hlID0ge307XG4gIH1cbiAgYWRkUnVsZShsbmcsIG9iaikge1xuICAgIHRoaXMucnVsZXNbbG5nXSA9IG9iajtcbiAgfVxuICBjbGVhckNhY2hlKCkge1xuICAgIHRoaXMucGx1cmFsUnVsZXNDYWNoZSA9IHt9O1xuICB9XG4gIGdldFJ1bGUoY29kZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBpZiAodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpIHtcbiAgICAgIGNvbnN0IGNsZWFuZWRDb2RlID0gZ2V0Q2xlYW5lZENvZGUoY29kZSA9PT0gJ2RldicgPyAnZW4nIDogY29kZSk7XG4gICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy5vcmRpbmFsID8gJ29yZGluYWwnIDogJ2NhcmRpbmFsJztcbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBjbGVhbmVkQ29kZSxcbiAgICAgICAgdHlwZVxuICAgICAgfSk7XG4gICAgICBpZiAoY2FjaGVLZXkgaW4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgfVxuICAgICAgbGV0IHJ1bGU7XG4gICAgICB0cnkge1xuICAgICAgICBydWxlID0gbmV3IEludGwuUGx1cmFsUnVsZXMoY2xlYW5lZENvZGUsIHtcbiAgICAgICAgICB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghY29kZS5tYXRjaCgvLXxfLykpIHJldHVybjtcbiAgICAgICAgY29uc3QgbG5nUGFydCA9IHRoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKTtcbiAgICAgICAgcnVsZSA9IHRoaXMuZ2V0UnVsZShsbmdQYXJ0LCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGx1cmFsUnVsZXNDYWNoZVtjYWNoZUtleV0gPSBydWxlO1xuICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJ1bGVzW2NvZGVdIHx8IHRoaXMucnVsZXNbdGhpcy5sYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpXTtcbiAgfVxuICBuZWVkc1BsdXJhbChjb2RlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNvbnN0IHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSwgb3B0aW9ucyk7XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICByZXR1cm4gcnVsZSAmJiBydWxlLnJlc29sdmVkT3B0aW9ucygpLnBsdXJhbENhdGVnb3JpZXMubGVuZ3RoID4gMTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bGUgJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA+IDE7XG4gIH1cbiAgZ2V0UGx1cmFsRm9ybXNPZktleShjb2RlLCBrZXkpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3VmZml4ZXMoY29kZSwgb3B0aW9ucykubWFwKHN1ZmZpeCA9PiBgJHtrZXl9JHtzdWZmaXh9YCk7XG4gIH1cbiAgZ2V0U3VmZml4ZXMoY29kZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjb25zdCBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUsIG9wdGlvbnMpO1xuICAgIGlmICghcnVsZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpIHtcbiAgICAgIHJldHVybiBydWxlLnJlc29sdmVkT3B0aW9ucygpLnBsdXJhbENhdGVnb3JpZXMuc29ydCgocGx1cmFsQ2F0ZWdvcnkxLCBwbHVyYWxDYXRlZ29yeTIpID0+IHN1ZmZpeGVzT3JkZXJbcGx1cmFsQ2F0ZWdvcnkxXSAtIHN1ZmZpeGVzT3JkZXJbcGx1cmFsQ2F0ZWdvcnkyXSkubWFwKHBsdXJhbENhdGVnb3J5ID0+IGAke3RoaXMub3B0aW9ucy5wcmVwZW5kfSR7b3B0aW9ucy5vcmRpbmFsID8gYG9yZGluYWwke3RoaXMub3B0aW9ucy5wcmVwZW5kfWAgOiAnJ30ke3BsdXJhbENhdGVnb3J5fWApO1xuICAgIH1cbiAgICByZXR1cm4gcnVsZS5udW1iZXJzLm1hcChudW1iZXIgPT4gdGhpcy5nZXRTdWZmaXgoY29kZSwgbnVtYmVyLCBvcHRpb25zKSk7XG4gIH1cbiAgZ2V0U3VmZml4KGNvZGUsIGNvdW50KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGNvbnN0IHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSwgb3B0aW9ucyk7XG4gICAgaWYgKHJ1bGUpIHtcbiAgICAgIGlmICh0aGlzLnNob3VsZFVzZUludGxBcGkoKSkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnByZXBlbmR9JHtvcHRpb25zLm9yZGluYWwgPyBgb3JkaW5hbCR7dGhpcy5vcHRpb25zLnByZXBlbmR9YCA6ICcnfSR7cnVsZS5zZWxlY3QoY291bnQpfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5nZXRTdWZmaXhSZXRyb0NvbXBhdGlibGUocnVsZSwgY291bnQpO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlci53YXJuKGBubyBwbHVyYWwgcnVsZSBmb3VuZCBmb3I6ICR7Y29kZX1gKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZ2V0U3VmZml4UmV0cm9Db21wYXRpYmxlKHJ1bGUsIGNvdW50KSB7XG4gICAgY29uc3QgaWR4ID0gcnVsZS5ub0FicyA/IHJ1bGUucGx1cmFscyhjb3VudCkgOiBydWxlLnBsdXJhbHMoTWF0aC5hYnMoY291bnQpKTtcbiAgICBsZXQgc3VmZml4ID0gcnVsZS5udW1iZXJzW2lkeF07XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCAmJiBydWxlLm51bWJlcnMubGVuZ3RoID09PSAyICYmIHJ1bGUubnVtYmVyc1swXSA9PT0gMSkge1xuICAgICAgaWYgKHN1ZmZpeCA9PT0gMikge1xuICAgICAgICBzdWZmaXggPSAncGx1cmFsJztcbiAgICAgIH0gZWxzZSBpZiAoc3VmZml4ID09PSAxKSB7XG4gICAgICAgIHN1ZmZpeCA9ICcnO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXR1cm5TdWZmaXggPSAoKSA9PiB0aGlzLm9wdGlvbnMucHJlcGVuZCAmJiBzdWZmaXgudG9TdHJpbmcoKSA/IHRoaXMub3B0aW9ucy5wcmVwZW5kICsgc3VmZml4LnRvU3RyaW5nKCkgOiBzdWZmaXgudG9TdHJpbmcoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjEnKSB7XG4gICAgICBpZiAoc3VmZml4ID09PSAxKSByZXR1cm4gJyc7XG4gICAgICBpZiAodHlwZW9mIHN1ZmZpeCA9PT0gJ251bWJlcicpIHJldHVybiBgX3BsdXJhbF8ke3N1ZmZpeC50b1N0cmluZygpfWA7XG4gICAgICByZXR1cm4gcmV0dXJuU3VmZml4KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gPT09ICd2MicpIHtcbiAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCAmJiBydWxlLm51bWJlcnMubGVuZ3RoID09PSAyICYmIHJ1bGUubnVtYmVyc1swXSA9PT0gMSkge1xuICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnByZXBlbmQgJiYgaWR4LnRvU3RyaW5nKCkgPyB0aGlzLm9wdGlvbnMucHJlcGVuZCArIGlkeC50b1N0cmluZygpIDogaWR4LnRvU3RyaW5nKCk7XG4gIH1cbiAgc2hvdWxkVXNlSW50bEFwaSgpIHtcbiAgICByZXR1cm4gIW5vbkludGxWZXJzaW9ucy5pbmNsdWRlcyh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04pO1xuICB9XG59XG5cbmNvbnN0IGRlZXBGaW5kV2l0aERlZmF1bHRzID0gZnVuY3Rpb24gKGRhdGEsIGRlZmF1bHREYXRhLCBrZXkpIHtcbiAgbGV0IGtleVNlcGFyYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJy4nO1xuICBsZXQgaWdub3JlSlNPTlN0cnVjdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdHJ1ZTtcbiAgbGV0IHBhdGggPSBnZXRQYXRoV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrZXkpO1xuICBpZiAoIXBhdGggJiYgaWdub3JlSlNPTlN0cnVjdHVyZSAmJiBpc1N0cmluZyhrZXkpKSB7XG4gICAgcGF0aCA9IGRlZXBGaW5kKGRhdGEsIGtleSwga2V5U2VwYXJhdG9yKTtcbiAgICBpZiAocGF0aCA9PT0gdW5kZWZpbmVkKSBwYXRoID0gZGVlcEZpbmQoZGVmYXVsdERhdGEsIGtleSwga2V5U2VwYXJhdG9yKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn07XG5jb25zdCByZWdleFNhZmUgPSB2YWwgPT4gdmFsLnJlcGxhY2UoL1xcJC9nLCAnJCQkJCcpO1xuY2xhc3MgSW50ZXJwb2xhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2ludGVycG9sYXRvcicpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5mb3JtYXQgPSBvcHRpb25zLmludGVycG9sYXRpb24gJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCB8fCAodmFsdWUgPT4gdmFsdWUpO1xuICAgIHRoaXMuaW5pdChvcHRpb25zKTtcbiAgfVxuICBpbml0KCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBpZiAoIW9wdGlvbnMuaW50ZXJwb2xhdGlvbikgb3B0aW9ucy5pbnRlcnBvbGF0aW9uID0ge1xuICAgICAgZXNjYXBlVmFsdWU6IHRydWVcbiAgICB9O1xuICAgIGNvbnN0IHtcbiAgICAgIGVzY2FwZTogZXNjYXBlJDEsXG4gICAgICBlc2NhcGVWYWx1ZSxcbiAgICAgIHVzZVJhd1ZhbHVlVG9Fc2NhcGUsXG4gICAgICBwcmVmaXgsXG4gICAgICBwcmVmaXhFc2NhcGVkLFxuICAgICAgc3VmZml4LFxuICAgICAgc3VmZml4RXNjYXBlZCxcbiAgICAgIGZvcm1hdFNlcGFyYXRvcixcbiAgICAgIHVuZXNjYXBlU3VmZml4LFxuICAgICAgdW5lc2NhcGVQcmVmaXgsXG4gICAgICBuZXN0aW5nUHJlZml4LFxuICAgICAgbmVzdGluZ1ByZWZpeEVzY2FwZWQsXG4gICAgICBuZXN0aW5nU3VmZml4LFxuICAgICAgbmVzdGluZ1N1ZmZpeEVzY2FwZWQsXG4gICAgICBuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcixcbiAgICAgIG1heFJlcGxhY2VzLFxuICAgICAgYWx3YXlzRm9ybWF0XG4gICAgfSA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbjtcbiAgICB0aGlzLmVzY2FwZSA9IGVzY2FwZSQxICE9PSB1bmRlZmluZWQgPyBlc2NhcGUkMSA6IGVzY2FwZTtcbiAgICB0aGlzLmVzY2FwZVZhbHVlID0gZXNjYXBlVmFsdWUgIT09IHVuZGVmaW5lZCA/IGVzY2FwZVZhbHVlIDogdHJ1ZTtcbiAgICB0aGlzLnVzZVJhd1ZhbHVlVG9Fc2NhcGUgPSB1c2VSYXdWYWx1ZVRvRXNjYXBlICE9PSB1bmRlZmluZWQgPyB1c2VSYXdWYWx1ZVRvRXNjYXBlIDogZmFsc2U7XG4gICAgdGhpcy5wcmVmaXggPSBwcmVmaXggPyByZWdleEVzY2FwZShwcmVmaXgpIDogcHJlZml4RXNjYXBlZCB8fCAne3snO1xuICAgIHRoaXMuc3VmZml4ID0gc3VmZml4ID8gcmVnZXhFc2NhcGUoc3VmZml4KSA6IHN1ZmZpeEVzY2FwZWQgfHwgJ319JztcbiAgICB0aGlzLmZvcm1hdFNlcGFyYXRvciA9IGZvcm1hdFNlcGFyYXRvciB8fCAnLCc7XG4gICAgdGhpcy51bmVzY2FwZVByZWZpeCA9IHVuZXNjYXBlU3VmZml4ID8gJycgOiB1bmVzY2FwZVByZWZpeCB8fCAnLSc7XG4gICAgdGhpcy51bmVzY2FwZVN1ZmZpeCA9IHRoaXMudW5lc2NhcGVQcmVmaXggPyAnJyA6IHVuZXNjYXBlU3VmZml4IHx8ICcnO1xuICAgIHRoaXMubmVzdGluZ1ByZWZpeCA9IG5lc3RpbmdQcmVmaXggPyByZWdleEVzY2FwZShuZXN0aW5nUHJlZml4KSA6IG5lc3RpbmdQcmVmaXhFc2NhcGVkIHx8IHJlZ2V4RXNjYXBlKCckdCgnKTtcbiAgICB0aGlzLm5lc3RpbmdTdWZmaXggPSBuZXN0aW5nU3VmZml4ID8gcmVnZXhFc2NhcGUobmVzdGluZ1N1ZmZpeCkgOiBuZXN0aW5nU3VmZml4RXNjYXBlZCB8fCByZWdleEVzY2FwZSgnKScpO1xuICAgIHRoaXMubmVzdGluZ09wdGlvbnNTZXBhcmF0b3IgPSBuZXN0aW5nT3B0aW9uc1NlcGFyYXRvciB8fCAnLCc7XG4gICAgdGhpcy5tYXhSZXBsYWNlcyA9IG1heFJlcGxhY2VzIHx8IDEwMDA7XG4gICAgdGhpcy5hbHdheXNGb3JtYXQgPSBhbHdheXNGb3JtYXQgIT09IHVuZGVmaW5lZCA/IGFsd2F5c0Zvcm1hdCA6IGZhbHNlO1xuICAgIHRoaXMucmVzZXRSZWdFeHAoKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zKSB0aGlzLmluaXQodGhpcy5vcHRpb25zKTtcbiAgfVxuICByZXNldFJlZ0V4cCgpIHtcbiAgICBjb25zdCBnZXRPclJlc2V0UmVnRXhwID0gKGV4aXN0aW5nUmVnRXhwLCBwYXR0ZXJuKSA9PiB7XG4gICAgICBpZiAoZXhpc3RpbmdSZWdFeHAgJiYgZXhpc3RpbmdSZWdFeHAuc291cmNlID09PSBwYXR0ZXJuKSB7XG4gICAgICAgIGV4aXN0aW5nUmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1JlZ0V4cDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHBhdHRlcm4sICdnJyk7XG4gICAgfTtcbiAgICB0aGlzLnJlZ2V4cCA9IGdldE9yUmVzZXRSZWdFeHAodGhpcy5yZWdleHAsIGAke3RoaXMucHJlZml4fSguKz8pJHt0aGlzLnN1ZmZpeH1gKTtcbiAgICB0aGlzLnJlZ2V4cFVuZXNjYXBlID0gZ2V0T3JSZXNldFJlZ0V4cCh0aGlzLnJlZ2V4cFVuZXNjYXBlLCBgJHt0aGlzLnByZWZpeH0ke3RoaXMudW5lc2NhcGVQcmVmaXh9KC4rPykke3RoaXMudW5lc2NhcGVTdWZmaXh9JHt0aGlzLnN1ZmZpeH1gKTtcbiAgICB0aGlzLm5lc3RpbmdSZWdleHAgPSBnZXRPclJlc2V0UmVnRXhwKHRoaXMubmVzdGluZ1JlZ2V4cCwgYCR7dGhpcy5uZXN0aW5nUHJlZml4fSguKz8pJHt0aGlzLm5lc3RpbmdTdWZmaXh9YCk7XG4gIH1cbiAgaW50ZXJwb2xhdGUoc3RyLCBkYXRhLCBsbmcsIG9wdGlvbnMpIHtcbiAgICBsZXQgbWF0Y2g7XG4gICAgbGV0IHZhbHVlO1xuICAgIGxldCByZXBsYWNlcztcbiAgICBjb25zdCBkZWZhdWx0RGF0YSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzIHx8IHt9O1xuICAgIGNvbnN0IGhhbmRsZUZvcm1hdCA9IGtleSA9PiB7XG4gICAgICBpZiAoa2V5LmluZGV4T2YodGhpcy5mb3JtYXRTZXBhcmF0b3IpIDwgMCkge1xuICAgICAgICBjb25zdCBwYXRoID0gZGVlcEZpbmRXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGtleSwgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciwgdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5hbHdheXNGb3JtYXQgPyB0aGlzLmZvcm1hdChwYXRoLCB1bmRlZmluZWQsIGxuZywge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICBpbnRlcnBvbGF0aW9ua2V5OiBrZXlcbiAgICAgICAgfSkgOiBwYXRoO1xuICAgICAgfVxuICAgICAgY29uc3QgcCA9IGtleS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcik7XG4gICAgICBjb25zdCBrID0gcC5zaGlmdCgpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGYgPSBwLmpvaW4odGhpcy5mb3JtYXRTZXBhcmF0b3IpLnRyaW0oKTtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdChkZWVwRmluZFdpdGhEZWZhdWx0cyhkYXRhLCBkZWZhdWx0RGF0YSwgaywgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciwgdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUpLCBmLCBsbmcsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgaW50ZXJwb2xhdGlvbmtleToga1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnJlc2V0UmVnRXhwKCk7XG4gICAgY29uc3QgbWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciB8fCB0aGlzLm9wdGlvbnMubWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyO1xuICAgIGNvbnN0IHNraXBPblZhcmlhYmxlcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMgOiB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXM7XG4gICAgY29uc3QgdG9kb3MgPSBbe1xuICAgICAgcmVnZXg6IHRoaXMucmVnZXhwVW5lc2NhcGUsXG4gICAgICBzYWZlVmFsdWU6IHZhbCA9PiByZWdleFNhZmUodmFsKVxuICAgIH0sIHtcbiAgICAgIHJlZ2V4OiB0aGlzLnJlZ2V4cCxcbiAgICAgIHNhZmVWYWx1ZTogdmFsID0+IHRoaXMuZXNjYXBlVmFsdWUgPyByZWdleFNhZmUodGhpcy5lc2NhcGUodmFsKSkgOiByZWdleFNhZmUodmFsKVxuICAgIH1dO1xuICAgIHRvZG9zLmZvckVhY2godG9kbyA9PiB7XG4gICAgICByZXBsYWNlcyA9IDA7XG4gICAgICB3aGlsZSAobWF0Y2ggPSB0b2RvLnJlZ2V4LmV4ZWMoc3RyKSkge1xuICAgICAgICBjb25zdCBtYXRjaGVkVmFyID0gbWF0Y2hbMV0udHJpbSgpO1xuICAgICAgICB2YWx1ZSA9IGhhbmRsZUZvcm1hdChtYXRjaGVkVmFyKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgdGVtcCA9IG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcihzdHIsIG1hdGNoLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhbHVlID0gaXNTdHJpbmcodGVtcCkgPyB0ZW1wIDogJyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBtYXRjaGVkVmFyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICAgICAgdmFsdWUgPSBtYXRjaFswXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBtaXNzZWQgdG8gcGFzcyBpbiB2YXJpYWJsZSAke21hdGNoZWRWYXJ9IGZvciBpbnRlcnBvbGF0aW5nICR7c3RyfWApO1xuICAgICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaW5nKHZhbHVlKSAmJiAhdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlKSB7XG4gICAgICAgICAgdmFsdWUgPSBtYWtlU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYWZlVmFsdWUgPSB0b2RvLnNhZmVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCBzYWZlVmFsdWUpO1xuICAgICAgICBpZiAoc2tpcE9uVmFyaWFibGVzKSB7XG4gICAgICAgICAgdG9kby5yZWdleC5sYXN0SW5kZXggKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgIHRvZG8ucmVnZXgubGFzdEluZGV4IC09IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2RvLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZXMrKztcbiAgICAgICAgaWYgKHJlcGxhY2VzID49IHRoaXMubWF4UmVwbGFjZXMpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgbmVzdChzdHIsIGZjKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGxldCBtYXRjaDtcbiAgICBsZXQgdmFsdWU7XG4gICAgbGV0IGNsb25lZE9wdGlvbnM7XG4gICAgY29uc3QgaGFuZGxlSGFzT3B0aW9ucyA9IChrZXksIGluaGVyaXRlZE9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHNlcCA9IHRoaXMubmVzdGluZ09wdGlvbnNTZXBhcmF0b3I7XG4gICAgICBpZiAoa2V5LmluZGV4T2Yoc2VwKSA8IDApIHJldHVybiBrZXk7XG4gICAgICBjb25zdCBjID0ga2V5LnNwbGl0KG5ldyBSZWdFeHAoYCR7c2VwfVsgXSp7YCkpO1xuICAgICAgbGV0IG9wdGlvbnNTdHJpbmcgPSBgeyR7Y1sxXX1gO1xuICAgICAga2V5ID0gY1swXTtcbiAgICAgIG9wdGlvbnNTdHJpbmcgPSB0aGlzLmludGVycG9sYXRlKG9wdGlvbnNTdHJpbmcsIGNsb25lZE9wdGlvbnMpO1xuICAgICAgY29uc3QgbWF0Y2hlZFNpbmdsZVF1b3RlcyA9IG9wdGlvbnNTdHJpbmcubWF0Y2goLycvZyk7XG4gICAgICBjb25zdCBtYXRjaGVkRG91YmxlUXVvdGVzID0gb3B0aW9uc1N0cmluZy5tYXRjaCgvXCIvZyk7XG4gICAgICBpZiAobWF0Y2hlZFNpbmdsZVF1b3RlcyAmJiBtYXRjaGVkU2luZ2xlUXVvdGVzLmxlbmd0aCAlIDIgPT09IDAgJiYgIW1hdGNoZWREb3VibGVRdW90ZXMgfHwgbWF0Y2hlZERvdWJsZVF1b3Rlcy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIG9wdGlvbnNTdHJpbmcgPSBvcHRpb25zU3RyaW5nLnJlcGxhY2UoLycvZywgJ1wiJyk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjbG9uZWRPcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zU3RyaW5nKTtcbiAgICAgICAgaWYgKGluaGVyaXRlZE9wdGlvbnMpIGNsb25lZE9wdGlvbnMgPSB7XG4gICAgICAgICAgLi4uaW5oZXJpdGVkT3B0aW9ucyxcbiAgICAgICAgICAuLi5jbG9uZWRPcHRpb25zXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYGZhaWxlZCBwYXJzaW5nIG9wdGlvbnMgc3RyaW5nIGluIG5lc3RpbmcgZm9yIGtleSAke2tleX1gLCBlKTtcbiAgICAgICAgcmV0dXJuIGAke2tleX0ke3NlcH0ke29wdGlvbnNTdHJpbmd9YDtcbiAgICAgIH1cbiAgICAgIGlmIChjbG9uZWRPcHRpb25zLmRlZmF1bHRWYWx1ZSAmJiBjbG9uZWRPcHRpb25zLmRlZmF1bHRWYWx1ZS5pbmRleE9mKHRoaXMucHJlZml4KSA+IC0xKSBkZWxldGUgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWU7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH07XG4gICAgd2hpbGUgKG1hdGNoID0gdGhpcy5uZXN0aW5nUmVnZXhwLmV4ZWMoc3RyKSkge1xuICAgICAgbGV0IGZvcm1hdHRlcnMgPSBbXTtcbiAgICAgIGNsb25lZE9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH07XG4gICAgICBjbG9uZWRPcHRpb25zID0gY2xvbmVkT3B0aW9ucy5yZXBsYWNlICYmICFpc1N0cmluZyhjbG9uZWRPcHRpb25zLnJlcGxhY2UpID8gY2xvbmVkT3B0aW9ucy5yZXBsYWNlIDogY2xvbmVkT3B0aW9ucztcbiAgICAgIGNsb25lZE9wdGlvbnMuYXBwbHlQb3N0UHJvY2Vzc29yID0gZmFsc2U7XG4gICAgICBkZWxldGUgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWU7XG4gICAgICBsZXQgZG9SZWR1Y2UgPSBmYWxzZTtcbiAgICAgIGlmIChtYXRjaFswXS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSAhPT0gLTEgJiYgIS97Lip9Ly50ZXN0KG1hdGNoWzFdKSkge1xuICAgICAgICBjb25zdCByID0gbWF0Y2hbMV0uc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpLm1hcChlbGVtID0+IGVsZW0udHJpbSgpKTtcbiAgICAgICAgbWF0Y2hbMV0gPSByLnNoaWZ0KCk7XG4gICAgICAgIGZvcm1hdHRlcnMgPSByO1xuICAgICAgICBkb1JlZHVjZSA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGZjKGhhbmRsZUhhc09wdGlvbnMuY2FsbCh0aGlzLCBtYXRjaFsxXS50cmltKCksIGNsb25lZE9wdGlvbnMpLCBjbG9uZWRPcHRpb25zKTtcbiAgICAgIGlmICh2YWx1ZSAmJiBtYXRjaFswXSA9PT0gc3RyICYmICFpc1N0cmluZyh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICAgIGlmICghaXNTdHJpbmcodmFsdWUpKSB2YWx1ZSA9IG1ha2VTdHJpbmcodmFsdWUpO1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBtaXNzZWQgdG8gcmVzb2x2ZSAke21hdGNoWzFdfSBmb3IgbmVzdGluZyAke3N0cn1gKTtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmIChkb1JlZHVjZSkge1xuICAgICAgICB2YWx1ZSA9IGZvcm1hdHRlcnMucmVkdWNlKCh2LCBmKSA9PiB0aGlzLmZvcm1hdCh2LCBmLCBvcHRpb25zLmxuZywge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgaW50ZXJwb2xhdGlvbmtleTogbWF0Y2hbMV0udHJpbSgpXG4gICAgICAgIH0pLCB2YWx1ZS50cmltKCkpO1xuICAgICAgfVxuICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIHZhbHVlKTtcbiAgICAgIHRoaXMucmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuY29uc3QgcGFyc2VGb3JtYXRTdHIgPSBmb3JtYXRTdHIgPT4ge1xuICBsZXQgZm9ybWF0TmFtZSA9IGZvcm1hdFN0ci50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgY29uc3QgZm9ybWF0T3B0aW9ucyA9IHt9O1xuICBpZiAoZm9ybWF0U3RyLmluZGV4T2YoJygnKSA+IC0xKSB7XG4gICAgY29uc3QgcCA9IGZvcm1hdFN0ci5zcGxpdCgnKCcpO1xuICAgIGZvcm1hdE5hbWUgPSBwWzBdLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIGNvbnN0IG9wdFN0ciA9IHBbMV0uc3Vic3RyaW5nKDAsIHBbMV0ubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGZvcm1hdE5hbWUgPT09ICdjdXJyZW5jeScgJiYgb3B0U3RyLmluZGV4T2YoJzonKSA8IDApIHtcbiAgICAgIGlmICghZm9ybWF0T3B0aW9ucy5jdXJyZW5jeSkgZm9ybWF0T3B0aW9ucy5jdXJyZW5jeSA9IG9wdFN0ci50cmltKCk7XG4gICAgfSBlbHNlIGlmIChmb3JtYXROYW1lID09PSAncmVsYXRpdmV0aW1lJyAmJiBvcHRTdHIuaW5kZXhPZignOicpIDwgMCkge1xuICAgICAgaWYgKCFmb3JtYXRPcHRpb25zLnJhbmdlKSBmb3JtYXRPcHRpb25zLnJhbmdlID0gb3B0U3RyLnRyaW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3B0cyA9IG9wdFN0ci5zcGxpdCgnOycpO1xuICAgICAgb3B0cy5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICAgIGlmIChvcHQpIHtcbiAgICAgICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IG9wdC5zcGxpdCgnOicpO1xuICAgICAgICAgIGNvbnN0IHZhbCA9IHJlc3Quam9pbignOicpLnRyaW0oKS5yZXBsYWNlKC9eJyt8JyskL2csICcnKTtcbiAgICAgICAgICBjb25zdCB0cmltbWVkS2V5ID0ga2V5LnRyaW0oKTtcbiAgICAgICAgICBpZiAoIWZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0pIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSB2YWw7XG4gICAgICAgICAgaWYgKHZhbCA9PT0gJ2ZhbHNlJykgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IGZhbHNlO1xuICAgICAgICAgIGlmICh2YWwgPT09ICd0cnVlJykgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IHRydWU7XG4gICAgICAgICAgaWYgKCFpc05hTih2YWwpKSBmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldID0gcGFyc2VJbnQodmFsLCAxMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGZvcm1hdE5hbWUsXG4gICAgZm9ybWF0T3B0aW9uc1xuICB9O1xufTtcbmNvbnN0IGNyZWF0ZUNhY2hlZEZvcm1hdHRlciA9IGZuID0+IHtcbiAgY29uc3QgY2FjaGUgPSB7fTtcbiAgcmV0dXJuICh2YWwsIGxuZywgb3B0aW9ucykgPT4ge1xuICAgIGxldCBvcHRGb3JDYWNoZSA9IG9wdGlvbnM7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5ICYmIG9wdGlvbnMuZm9ybWF0UGFyYW1zICYmIG9wdGlvbnMuZm9ybWF0UGFyYW1zW29wdGlvbnMuaW50ZXJwb2xhdGlvbmtleV0gJiYgb3B0aW9uc1tvcHRpb25zLmludGVycG9sYXRpb25rZXldKSB7XG4gICAgICBvcHRGb3JDYWNoZSA9IHtcbiAgICAgICAgLi4ub3B0Rm9yQ2FjaGUsXG4gICAgICAgIFtvcHRpb25zLmludGVycG9sYXRpb25rZXldOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IGxuZyArIEpTT04uc3RyaW5naWZ5KG9wdEZvckNhY2hlKTtcbiAgICBsZXQgZm9ybWF0dGVyID0gY2FjaGVba2V5XTtcbiAgICBpZiAoIWZvcm1hdHRlcikge1xuICAgICAgZm9ybWF0dGVyID0gZm4oZ2V0Q2xlYW5lZENvZGUobG5nKSwgb3B0aW9ucyk7XG4gICAgICBjYWNoZVtrZXldID0gZm9ybWF0dGVyO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0dGVyKHZhbCk7XG4gIH07XG59O1xuY2xhc3MgRm9ybWF0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2Zvcm1hdHRlcicpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5mb3JtYXRzID0ge1xuICAgICAgbnVtYmVyOiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChsbmcsIHtcbiAgICAgICAgICAuLi5vcHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWwgPT4gZm9ybWF0dGVyLmZvcm1hdCh2YWwpO1xuICAgICAgfSksXG4gICAgICBjdXJyZW5jeTogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0LFxuICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pLFxuICAgICAgZGF0ZXRpbWU6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pLFxuICAgICAgcmVsYXRpdmV0aW1lOiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdChsbmcsIHtcbiAgICAgICAgICAuLi5vcHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWwgPT4gZm9ybWF0dGVyLmZvcm1hdCh2YWwsIG9wdC5yYW5nZSB8fCAnZGF5Jyk7XG4gICAgICB9KSxcbiAgICAgIGxpc3Q6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuTGlzdEZvcm1hdChsbmcsIHtcbiAgICAgICAgICAuLi5vcHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWwgPT4gZm9ybWF0dGVyLmZvcm1hdCh2YWwpO1xuICAgICAgfSlcbiAgICB9O1xuICAgIHRoaXMuaW5pdChvcHRpb25zKTtcbiAgfVxuICBpbml0KHNlcnZpY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcbiAgICAgIGludGVycG9sYXRpb246IHt9XG4gICAgfTtcbiAgICB0aGlzLmZvcm1hdFNlcGFyYXRvciA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXRTZXBhcmF0b3IgfHwgJywnO1xuICB9XG4gIGFkZChuYW1lLCBmYykge1xuICAgIHRoaXMuZm9ybWF0c1tuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpXSA9IGZjO1xuICB9XG4gIGFkZENhY2hlZChuYW1lLCBmYykge1xuICAgIHRoaXMuZm9ybWF0c1tuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpXSA9IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcihmYyk7XG4gIH1cbiAgZm9ybWF0KHZhbHVlLCBmb3JtYXQsIGxuZykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBjb25zdCBmb3JtYXRzID0gZm9ybWF0LnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKTtcbiAgICBpZiAoZm9ybWF0cy5sZW5ndGggPiAxICYmIGZvcm1hdHNbMF0uaW5kZXhPZignKCcpID4gMSAmJiBmb3JtYXRzWzBdLmluZGV4T2YoJyknKSA8IDAgJiYgZm9ybWF0cy5maW5kKGYgPT4gZi5pbmRleE9mKCcpJykgPiAtMSkpIHtcbiAgICAgIGNvbnN0IGxhc3RJbmRleCA9IGZvcm1hdHMuZmluZEluZGV4KGYgPT4gZi5pbmRleE9mKCcpJykgPiAtMSk7XG4gICAgICBmb3JtYXRzWzBdID0gW2Zvcm1hdHNbMF0sIC4uLmZvcm1hdHMuc3BsaWNlKDEsIGxhc3RJbmRleCldLmpvaW4odGhpcy5mb3JtYXRTZXBhcmF0b3IpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBmb3JtYXRzLnJlZHVjZSgobWVtLCBmKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZvcm1hdE5hbWUsXG4gICAgICAgIGZvcm1hdE9wdGlvbnNcbiAgICAgIH0gPSBwYXJzZUZvcm1hdFN0cihmKTtcbiAgICAgIGlmICh0aGlzLmZvcm1hdHNbZm9ybWF0TmFtZV0pIHtcbiAgICAgICAgbGV0IGZvcm1hdHRlZCA9IG1lbTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB2YWxPcHRpb25zID0gb3B0aW9ucyAmJiBvcHRpb25zLmZvcm1hdFBhcmFtcyAmJiBvcHRpb25zLmZvcm1hdFBhcmFtc1tvcHRpb25zLmludGVycG9sYXRpb25rZXldIHx8IHt9O1xuICAgICAgICAgIGNvbnN0IGwgPSB2YWxPcHRpb25zLmxvY2FsZSB8fCB2YWxPcHRpb25zLmxuZyB8fCBvcHRpb25zLmxvY2FsZSB8fCBvcHRpb25zLmxuZyB8fCBsbmc7XG4gICAgICAgICAgZm9ybWF0dGVkID0gdGhpcy5mb3JtYXRzW2Zvcm1hdE5hbWVdKG1lbSwgbCwge1xuICAgICAgICAgICAgLi4uZm9ybWF0T3B0aW9ucyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAuLi52YWxPcHRpb25zXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2FybihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYHRoZXJlIHdhcyBubyBmb3JtYXQgZnVuY3Rpb24gZm9yICR7Zm9ybWF0TmFtZX1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW07XG4gICAgfSwgdmFsdWUpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuY29uc3QgcmVtb3ZlUGVuZGluZyA9IChxLCBuYW1lKSA9PiB7XG4gIGlmIChxLnBlbmRpbmdbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgIGRlbGV0ZSBxLnBlbmRpbmdbbmFtZV07XG4gICAgcS5wZW5kaW5nQ291bnQtLTtcbiAgfVxufTtcbmNsYXNzIENvbm5lY3RvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGJhY2tlbmQsIHN0b3JlLCBzZXJ2aWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYmFja2VuZCA9IGJhY2tlbmQ7XG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuc2VydmljZXMgPSBzZXJ2aWNlcztcbiAgICB0aGlzLmxhbmd1YWdlVXRpbHMgPSBzZXJ2aWNlcy5sYW5ndWFnZVV0aWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnYmFja2VuZENvbm5lY3RvcicpO1xuICAgIHRoaXMud2FpdGluZ1JlYWRzID0gW107XG4gICAgdGhpcy5tYXhQYXJhbGxlbFJlYWRzID0gb3B0aW9ucy5tYXhQYXJhbGxlbFJlYWRzIHx8IDEwO1xuICAgIHRoaXMucmVhZGluZ0NhbGxzID0gMDtcbiAgICB0aGlzLm1heFJldHJpZXMgPSBvcHRpb25zLm1heFJldHJpZXMgPj0gMCA/IG9wdGlvbnMubWF4UmV0cmllcyA6IDU7XG4gICAgdGhpcy5yZXRyeVRpbWVvdXQgPSBvcHRpb25zLnJldHJ5VGltZW91dCA+PSAxID8gb3B0aW9ucy5yZXRyeVRpbWVvdXQgOiAzNTA7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5pbml0KSB7XG4gICAgICB0aGlzLmJhY2tlbmQuaW5pdChzZXJ2aWNlcywgb3B0aW9ucy5iYWNrZW5kLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgcXVldWVMb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBjb25zdCB0b0xvYWQgPSB7fTtcbiAgICBjb25zdCBwZW5kaW5nID0ge307XG4gICAgY29uc3QgdG9Mb2FkTGFuZ3VhZ2VzID0ge307XG4gICAgY29uc3QgdG9Mb2FkTmFtZXNwYWNlcyA9IHt9O1xuICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxuZyA9PiB7XG4gICAgICBsZXQgaGFzQWxsTmFtZXNwYWNlcyA9IHRydWU7XG4gICAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gYCR7bG5nfXwke25zfWA7XG4gICAgICAgIGlmICghb3B0aW9ucy5yZWxvYWQgJiYgdGhpcy5zdG9yZS5oYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSkge1xuICAgICAgICAgIHRoaXMuc3RhdGVbbmFtZV0gPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGVbbmFtZV0gPCAwKSA7IGVsc2UgaWYgKHRoaXMuc3RhdGVbbmFtZV0gPT09IDEpIHtcbiAgICAgICAgICBpZiAocGVuZGluZ1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBwZW5kaW5nW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlW25hbWVdID0gMTtcbiAgICAgICAgICBoYXNBbGxOYW1lc3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHBlbmRpbmdbbmFtZV0gPT09IHVuZGVmaW5lZCkgcGVuZGluZ1tuYW1lXSA9IHRydWU7XG4gICAgICAgICAgaWYgKHRvTG9hZFtuYW1lXSA9PT0gdW5kZWZpbmVkKSB0b0xvYWRbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGlmICh0b0xvYWROYW1lc3BhY2VzW25zXSA9PT0gdW5kZWZpbmVkKSB0b0xvYWROYW1lc3BhY2VzW25zXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFoYXNBbGxOYW1lc3BhY2VzKSB0b0xvYWRMYW5ndWFnZXNbbG5nXSA9IHRydWU7XG4gICAgfSk7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRvTG9hZCkubGVuZ3RoIHx8IE9iamVjdC5rZXlzKHBlbmRpbmcpLmxlbmd0aCkge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKHtcbiAgICAgICAgcGVuZGluZyxcbiAgICAgICAgcGVuZGluZ0NvdW50OiBPYmplY3Qua2V5cyhwZW5kaW5nKS5sZW5ndGgsXG4gICAgICAgIGxvYWRlZDoge30sXG4gICAgICAgIGVycm9yczogW10sXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvTG9hZDogT2JqZWN0LmtleXModG9Mb2FkKSxcbiAgICAgIHBlbmRpbmc6IE9iamVjdC5rZXlzKHBlbmRpbmcpLFxuICAgICAgdG9Mb2FkTGFuZ3VhZ2VzOiBPYmplY3Qua2V5cyh0b0xvYWRMYW5ndWFnZXMpLFxuICAgICAgdG9Mb2FkTmFtZXNwYWNlczogT2JqZWN0LmtleXModG9Mb2FkTmFtZXNwYWNlcylcbiAgICB9O1xuICB9XG4gIGxvYWRlZChuYW1lLCBlcnIsIGRhdGEpIHtcbiAgICBjb25zdCBzID0gbmFtZS5zcGxpdCgnfCcpO1xuICAgIGNvbnN0IGxuZyA9IHNbMF07XG4gICAgY29uc3QgbnMgPSBzWzFdO1xuICAgIGlmIChlcnIpIHRoaXMuZW1pdCgnZmFpbGVkTG9hZGluZycsIGxuZywgbnMsIGVycik7XG4gICAgaWYgKCFlcnIgJiYgZGF0YSkge1xuICAgICAgdGhpcy5zdG9yZS5hZGRSZXNvdXJjZUJ1bmRsZShsbmcsIG5zLCBkYXRhLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwge1xuICAgICAgICBza2lwQ29weTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGVbbmFtZV0gPSBlcnIgPyAtMSA6IDI7XG4gICAgaWYgKGVyciAmJiBkYXRhKSB0aGlzLnN0YXRlW25hbWVdID0gMDtcbiAgICBjb25zdCBsb2FkZWQgPSB7fTtcbiAgICB0aGlzLnF1ZXVlLmZvckVhY2gocSA9PiB7XG4gICAgICBwdXNoUGF0aChxLmxvYWRlZCwgW2xuZ10sIG5zKTtcbiAgICAgIHJlbW92ZVBlbmRpbmcocSwgbmFtZSk7XG4gICAgICBpZiAoZXJyKSBxLmVycm9ycy5wdXNoKGVycik7XG4gICAgICBpZiAocS5wZW5kaW5nQ291bnQgPT09IDAgJiYgIXEuZG9uZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhxLmxvYWRlZCkuZm9yRWFjaChsID0+IHtcbiAgICAgICAgICBpZiAoIWxvYWRlZFtsXSkgbG9hZGVkW2xdID0ge307XG4gICAgICAgICAgY29uc3QgbG9hZGVkS2V5cyA9IHEubG9hZGVkW2xdO1xuICAgICAgICAgIGlmIChsb2FkZWRLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9hZGVkS2V5cy5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgICBpZiAobG9hZGVkW2xdW25dID09PSB1bmRlZmluZWQpIGxvYWRlZFtsXVtuXSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBxLmRvbmUgPSB0cnVlO1xuICAgICAgICBpZiAocS5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgcS5jYWxsYmFjayhxLmVycm9ycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcS5jYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5lbWl0KCdsb2FkZWQnLCBsb2FkZWQpO1xuICAgIHRoaXMucXVldWUgPSB0aGlzLnF1ZXVlLmZpbHRlcihxID0+ICFxLmRvbmUpO1xuICB9XG4gIHJlYWQobG5nLCBucywgZmNOYW1lKSB7XG4gICAgbGV0IHRyaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuICAgIGxldCB3YWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB0aGlzLnJldHJ5VGltZW91dDtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gNSA/IGFyZ3VtZW50c1s1XSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoIWxuZy5sZW5ndGgpIHJldHVybiBjYWxsYmFjayhudWxsLCB7fSk7XG4gICAgaWYgKHRoaXMucmVhZGluZ0NhbGxzID49IHRoaXMubWF4UGFyYWxsZWxSZWFkcykge1xuICAgICAgdGhpcy53YWl0aW5nUmVhZHMucHVzaCh7XG4gICAgICAgIGxuZyxcbiAgICAgICAgbnMsXG4gICAgICAgIGZjTmFtZSxcbiAgICAgICAgdHJpZWQsXG4gICAgICAgIHdhaXQsXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZWFkaW5nQ2FsbHMrKztcbiAgICBjb25zdCByZXNvbHZlciA9IChlcnIsIGRhdGEpID0+IHtcbiAgICAgIHRoaXMucmVhZGluZ0NhbGxzLS07XG4gICAgICBpZiAodGhpcy53YWl0aW5nUmVhZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy53YWl0aW5nUmVhZHMuc2hpZnQoKTtcbiAgICAgICAgdGhpcy5yZWFkKG5leHQubG5nLCBuZXh0Lm5zLCBuZXh0LmZjTmFtZSwgbmV4dC50cmllZCwgbmV4dC53YWl0LCBuZXh0LmNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnIgJiYgZGF0YSAmJiB0cmllZCA8IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlYWQuY2FsbCh0aGlzLCBsbmcsIG5zLCBmY05hbWUsIHRyaWVkICsgMSwgd2FpdCAqIDIsIGNhbGxiYWNrKTtcbiAgICAgICAgfSwgd2FpdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKGVyciwgZGF0YSk7XG4gICAgfTtcbiAgICBjb25zdCBmYyA9IHRoaXMuYmFja2VuZFtmY05hbWVdLmJpbmQodGhpcy5iYWNrZW5kKTtcbiAgICBpZiAoZmMubGVuZ3RoID09PSAyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByID0gZmMobG5nLCBucyk7XG4gICAgICAgIGlmIChyICYmIHR5cGVvZiByLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByLnRoZW4oZGF0YSA9PiByZXNvbHZlcihudWxsLCBkYXRhKSkuY2F0Y2gocmVzb2x2ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmVyKG51bGwsIHIpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzb2x2ZXIoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZjKGxuZywgbnMsIHJlc29sdmVyKTtcbiAgfVxuICBwcmVwYXJlTG9hZGluZyhsYW5ndWFnZXMsIG5hbWVzcGFjZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7XG4gICAgaWYgKCF0aGlzLmJhY2tlbmQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIGJhY2tlbmQgd2FzIGFkZGVkIHZpYSBpMThuZXh0LnVzZS4gV2lsbCBub3QgbG9hZCByZXNvdXJjZXMuJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgaWYgKGlzU3RyaW5nKGxhbmd1YWdlcykpIGxhbmd1YWdlcyA9IHRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobGFuZ3VhZ2VzKTtcbiAgICBpZiAoaXNTdHJpbmcobmFtZXNwYWNlcykpIG5hbWVzcGFjZXMgPSBbbmFtZXNwYWNlc107XG4gICAgY29uc3QgdG9Mb2FkID0gdGhpcy5xdWV1ZUxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgaWYgKCF0b0xvYWQudG9Mb2FkLmxlbmd0aCkge1xuICAgICAgaWYgKCF0b0xvYWQucGVuZGluZy5sZW5ndGgpIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdG9Mb2FkLnRvTG9hZC5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgdGhpcy5sb2FkT25lKG5hbWUpO1xuICAgIH0pO1xuICB9XG4gIGxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBjYWxsYmFjaykge1xuICAgIHRoaXMucHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCB7fSwgY2FsbGJhY2spO1xuICB9XG4gIHJlbG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wcmVwYXJlTG9hZGluZyhsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIHtcbiAgICAgIHJlbG9hZDogdHJ1ZVxuICAgIH0sIGNhbGxiYWNrKTtcbiAgfVxuICBsb2FkT25lKG5hbWUpIHtcbiAgICBsZXQgcHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcbiAgICBjb25zdCBzID0gbmFtZS5zcGxpdCgnfCcpO1xuICAgIGNvbnN0IGxuZyA9IHNbMF07XG4gICAgY29uc3QgbnMgPSBzWzFdO1xuICAgIHRoaXMucmVhZChsbmcsIG5zLCAncmVhZCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoZXJyKSB0aGlzLmxvZ2dlci53YXJuKGAke3ByZWZpeH1sb2FkaW5nIG5hbWVzcGFjZSAke25zfSBmb3IgbGFuZ3VhZ2UgJHtsbmd9IGZhaWxlZGAsIGVycik7XG4gICAgICBpZiAoIWVyciAmJiBkYXRhKSB0aGlzLmxvZ2dlci5sb2coYCR7cHJlZml4fWxvYWRlZCBuYW1lc3BhY2UgJHtuc30gZm9yIGxhbmd1YWdlICR7bG5nfWAsIGRhdGEpO1xuICAgICAgdGhpcy5sb2FkZWQobmFtZSwgZXJyLCBkYXRhKTtcbiAgICB9KTtcbiAgfVxuICBzYXZlTWlzc2luZyhsYW5ndWFnZXMsIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlLCBpc1VwZGF0ZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB7fTtcbiAgICBsZXQgY2xiID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgYXJndW1lbnRzWzZdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNl0gOiAoKSA9PiB7fTtcbiAgICBpZiAodGhpcy5zZXJ2aWNlcy51dGlscyAmJiB0aGlzLnNlcnZpY2VzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSAmJiAhdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UobmFtZXNwYWNlKSkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybihgZGlkIG5vdCBzYXZlIGtleSBcIiR7a2V5fVwiIGFzIHRoZSBuYW1lc3BhY2UgXCIke25hbWVzcGFjZX1cIiB3YXMgbm90IHlldCBsb2FkZWRgLCAnVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IG51bGwgfHwga2V5ID09PSAnJykgcmV0dXJuO1xuICAgIGlmICh0aGlzLmJhY2tlbmQgJiYgdGhpcy5iYWNrZW5kLmNyZWF0ZSkge1xuICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaXNVcGRhdGVcbiAgICAgIH07XG4gICAgICBjb25zdCBmYyA9IHRoaXMuYmFja2VuZC5jcmVhdGUuYmluZCh0aGlzLmJhY2tlbmQpO1xuICAgICAgaWYgKGZjLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcjtcbiAgICAgICAgICBpZiAoZmMubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICByID0gZmMobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgb3B0cyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIgPSBmYyhsYW5ndWFnZXMsIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHIgJiYgdHlwZW9mIHIudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgci50aGVuKGRhdGEgPT4gY2xiKG51bGwsIGRhdGEpKS5jYXRjaChjbGIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGIobnVsbCwgcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjbGIoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmMobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgY2xiLCBvcHRzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFsYW5ndWFnZXMgfHwgIWxhbmd1YWdlc1swXSkgcmV0dXJuO1xuICAgIHRoaXMuc3RvcmUuYWRkUmVzb3VyY2UobGFuZ3VhZ2VzWzBdLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSk7XG4gIH1cbn1cblxuY29uc3QgZ2V0ID0gKCkgPT4gKHtcbiAgZGVidWc6IGZhbHNlLFxuICBpbml0SW1tZWRpYXRlOiB0cnVlLFxuICBuczogWyd0cmFuc2xhdGlvbiddLFxuICBkZWZhdWx0TlM6IFsndHJhbnNsYXRpb24nXSxcbiAgZmFsbGJhY2tMbmc6IFsnZGV2J10sXG4gIGZhbGxiYWNrTlM6IGZhbHNlLFxuICBzdXBwb3J0ZWRMbmdzOiBmYWxzZSxcbiAgbm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzOiBmYWxzZSxcbiAgbG9hZDogJ2FsbCcsXG4gIHByZWxvYWQ6IGZhbHNlLFxuICBzaW1wbGlmeVBsdXJhbFN1ZmZpeDogdHJ1ZSxcbiAga2V5U2VwYXJhdG9yOiAnLicsXG4gIG5zU2VwYXJhdG9yOiAnOicsXG4gIHBsdXJhbFNlcGFyYXRvcjogJ18nLFxuICBjb250ZXh0U2VwYXJhdG9yOiAnXycsXG4gIHBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzOiBmYWxzZSxcbiAgc2F2ZU1pc3Npbmc6IGZhbHNlLFxuICB1cGRhdGVNaXNzaW5nOiBmYWxzZSxcbiAgc2F2ZU1pc3NpbmdUbzogJ2ZhbGxiYWNrJyxcbiAgc2F2ZU1pc3NpbmdQbHVyYWxzOiB0cnVlLFxuICBtaXNzaW5nS2V5SGFuZGxlcjogZmFsc2UsXG4gIG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjogZmFsc2UsXG4gIHBvc3RQcm9jZXNzOiBmYWxzZSxcbiAgcG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQ6IGZhbHNlLFxuICByZXR1cm5OdWxsOiBmYWxzZSxcbiAgcmV0dXJuRW1wdHlTdHJpbmc6IHRydWUsXG4gIHJldHVybk9iamVjdHM6IGZhbHNlLFxuICBqb2luQXJyYXlzOiBmYWxzZSxcbiAgcmV0dXJuZWRPYmplY3RIYW5kbGVyOiBmYWxzZSxcbiAgcGFyc2VNaXNzaW5nS2V5SGFuZGxlcjogZmFsc2UsXG4gIGFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleTogZmFsc2UsXG4gIGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlOiBmYWxzZSxcbiAgb3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXI6IGFyZ3MgPT4ge1xuICAgIGxldCByZXQgPSB7fTtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdvYmplY3QnKSByZXQgPSBhcmdzWzFdO1xuICAgIGlmIChpc1N0cmluZyhhcmdzWzFdKSkgcmV0LmRlZmF1bHRWYWx1ZSA9IGFyZ3NbMV07XG4gICAgaWYgKGlzU3RyaW5nKGFyZ3NbMl0pKSByZXQudERlc2NyaXB0aW9uID0gYXJnc1syXTtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMl0gPT09ICdvYmplY3QnIHx8IHR5cGVvZiBhcmdzWzNdID09PSAnb2JqZWN0Jykge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGFyZ3NbM10gfHwgYXJnc1syXTtcbiAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgcmV0W2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcbiAgaW50ZXJwb2xhdGlvbjoge1xuICAgIGVzY2FwZVZhbHVlOiB0cnVlLFxuICAgIGZvcm1hdDogdmFsdWUgPT4gdmFsdWUsXG4gICAgcHJlZml4OiAne3snLFxuICAgIHN1ZmZpeDogJ319JyxcbiAgICBmb3JtYXRTZXBhcmF0b3I6ICcsJyxcbiAgICB1bmVzY2FwZVByZWZpeDogJy0nLFxuICAgIG5lc3RpbmdQcmVmaXg6ICckdCgnLFxuICAgIG5lc3RpbmdTdWZmaXg6ICcpJyxcbiAgICBuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjogJywnLFxuICAgIG1heFJlcGxhY2VzOiAxMDAwLFxuICAgIHNraXBPblZhcmlhYmxlczogdHJ1ZVxuICB9XG59KTtcbmNvbnN0IHRyYW5zZm9ybU9wdGlvbnMgPSBvcHRpb25zID0+IHtcbiAgaWYgKGlzU3RyaW5nKG9wdGlvbnMubnMpKSBvcHRpb25zLm5zID0gW29wdGlvbnMubnNdO1xuICBpZiAoaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja0xuZykpIG9wdGlvbnMuZmFsbGJhY2tMbmcgPSBbb3B0aW9ucy5mYWxsYmFja0xuZ107XG4gIGlmIChpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTlMpKSBvcHRpb25zLmZhbGxiYWNrTlMgPSBbb3B0aW9ucy5mYWxsYmFja05TXTtcbiAgaWYgKG9wdGlvbnMuc3VwcG9ydGVkTG5ncyAmJiBvcHRpb25zLnN1cHBvcnRlZExuZ3MuaW5kZXhPZignY2ltb2RlJykgPCAwKSB7XG4gICAgb3B0aW9ucy5zdXBwb3J0ZWRMbmdzID0gb3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmNvbmNhdChbJ2NpbW9kZSddKTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcbmNvbnN0IGJpbmRNZW1iZXJGdW5jdGlvbnMgPSBpbnN0ID0+IHtcbiAgY29uc3QgbWVtcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnN0KSk7XG4gIG1lbXMuZm9yRWFjaChtZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgaW5zdFttZW1dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnN0W21lbV0gPSBpbnN0W21lbV0uYmluZChpbnN0KTtcbiAgICB9XG4gIH0pO1xufTtcbmNsYXNzIEkxOG4gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB0cmFuc2Zvcm1PcHRpb25zKG9wdGlvbnMpO1xuICAgIHRoaXMuc2VydmljZXMgPSB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXI7XG4gICAgdGhpcy5tb2R1bGVzID0ge1xuICAgICAgZXh0ZXJuYWw6IFtdXG4gICAgfTtcbiAgICBiaW5kTWVtYmVyRnVuY3Rpb25zKHRoaXMpO1xuICAgIGlmIChjYWxsYmFjayAmJiAhdGhpcy5pc0luaXRpYWxpemVkICYmICFvcHRpb25zLmlzQ2xvbmUpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmluaXRJbW1lZGlhdGUpIHtcbiAgICAgICAgdGhpcy5pbml0KG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5pbml0KG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfVxuICBpbml0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHRoaXMuaXNJbml0aWFsaXppbmcgPSB0cnVlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZGVmYXVsdE5TICYmIG9wdGlvbnMuZGVmYXVsdE5TICE9PSBmYWxzZSAmJiBvcHRpb25zLm5zKSB7XG4gICAgICBpZiAoaXNTdHJpbmcob3B0aW9ucy5ucykpIHtcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0TlMgPSBvcHRpb25zLm5zO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm5zLmluZGV4T2YoJ3RyYW5zbGF0aW9uJykgPCAwKSB7XG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdE5TID0gb3B0aW9ucy5uc1swXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZGVmT3B0cyA9IGdldCgpO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLmRlZk9wdHMsXG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAuLi50cmFuc2Zvcm1PcHRpb25zKG9wdGlvbnMpXG4gICAgfTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgIT09ICd2MScpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uID0ge1xuICAgICAgICAuLi5kZWZPcHRzLmludGVycG9sYXRpb24sXG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkS2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm5zU2VwYXJhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yID0gb3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICB9XG4gICAgY29uc3QgY3JlYXRlQ2xhc3NPbkRlbWFuZCA9IENsYXNzT3JPYmplY3QgPT4ge1xuICAgICAgaWYgKCFDbGFzc09yT2JqZWN0KSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgQ2xhc3NPck9iamVjdCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIG5ldyBDbGFzc09yT2JqZWN0KCk7XG4gICAgICByZXR1cm4gQ2xhc3NPck9iamVjdDtcbiAgICB9O1xuICAgIGlmICghdGhpcy5vcHRpb25zLmlzQ2xvbmUpIHtcbiAgICAgIGlmICh0aGlzLm1vZHVsZXMubG9nZ2VyKSB7XG4gICAgICAgIGJhc2VMb2dnZXIuaW5pdChjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5sb2dnZXIpLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUxvZ2dlci5pbml0KG51bGwsIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBsZXQgZm9ybWF0dGVyO1xuICAgICAgaWYgKHRoaXMubW9kdWxlcy5mb3JtYXR0ZXIpIHtcbiAgICAgICAgZm9ybWF0dGVyID0gdGhpcy5tb2R1bGVzLmZvcm1hdHRlcjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEludGwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZvcm1hdHRlciA9IEZvcm1hdHRlcjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGx1ID0gbmV3IExhbmd1YWdlVXRpbCh0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy5zdG9yZSA9IG5ldyBSZXNvdXJjZVN0b3JlKHRoaXMub3B0aW9ucy5yZXNvdXJjZXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBjb25zdCBzID0gdGhpcy5zZXJ2aWNlcztcbiAgICAgIHMubG9nZ2VyID0gYmFzZUxvZ2dlcjtcbiAgICAgIHMucmVzb3VyY2VTdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICBzLmxhbmd1YWdlVXRpbHMgPSBsdTtcbiAgICAgIHMucGx1cmFsUmVzb2x2ZXIgPSBuZXcgUGx1cmFsUmVzb2x2ZXIobHUsIHtcbiAgICAgICAgcHJlcGVuZDogdGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcixcbiAgICAgICAgY29tcGF0aWJpbGl0eUpTT046IHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTixcbiAgICAgICAgc2ltcGxpZnlQbHVyYWxTdWZmaXg6IHRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeFxuICAgICAgfSk7XG4gICAgICBpZiAoZm9ybWF0dGVyICYmICghdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0IHx8IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCA9PT0gZGVmT3B0cy5pbnRlcnBvbGF0aW9uLmZvcm1hdCkpIHtcbiAgICAgICAgcy5mb3JtYXR0ZXIgPSBjcmVhdGVDbGFzc09uRGVtYW5kKGZvcm1hdHRlcik7XG4gICAgICAgIHMuZm9ybWF0dGVyLmluaXQocywgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0ID0gcy5mb3JtYXR0ZXIuZm9ybWF0LmJpbmQocy5mb3JtYXR0ZXIpO1xuICAgICAgfVxuICAgICAgcy5pbnRlcnBvbGF0b3IgPSBuZXcgSW50ZXJwb2xhdG9yKHRoaXMub3B0aW9ucyk7XG4gICAgICBzLnV0aWxzID0ge1xuICAgICAgICBoYXNMb2FkZWROYW1lc3BhY2U6IHRoaXMuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQodGhpcylcbiAgICAgIH07XG4gICAgICBzLmJhY2tlbmRDb25uZWN0b3IgPSBuZXcgQ29ubmVjdG9yKGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmJhY2tlbmQpLCBzLnJlc291cmNlU3RvcmUsIHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBzLmJhY2tlbmRDb25uZWN0b3Iub24oJyonLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IpIHtcbiAgICAgICAgcy5sYW5ndWFnZURldGVjdG9yID0gY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3Rvcik7XG4gICAgICAgIGlmIChzLmxhbmd1YWdlRGV0ZWN0b3IuaW5pdCkgcy5sYW5ndWFnZURldGVjdG9yLmluaXQocywgdGhpcy5vcHRpb25zLmRldGVjdGlvbiwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCkge1xuICAgICAgICBzLmkxOG5Gb3JtYXQgPSBjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5pMThuRm9ybWF0KTtcbiAgICAgICAgaWYgKHMuaTE4bkZvcm1hdC5pbml0KSBzLmkxOG5Gb3JtYXQuaW5pdCh0aGlzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKHRoaXMuc2VydmljZXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICB0aGlzLnRyYW5zbGF0b3Iub24oJyonLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm1vZHVsZXMuZXh0ZXJuYWwuZm9yRWFjaChtID0+IHtcbiAgICAgICAgaWYgKG0uaW5pdCkgbS5pbml0KHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuZm9ybWF0ID0gdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0O1xuICAgIGlmICghY2FsbGJhY2spIGNhbGxiYWNrID0gbm9vcDtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nICYmICF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMub3B0aW9ucy5sbmcpIHtcbiAgICAgIGNvbnN0IGNvZGVzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKTtcbiAgICAgIGlmIChjb2Rlcy5sZW5ndGggPiAwICYmIGNvZGVzWzBdICE9PSAnZGV2JykgdGhpcy5vcHRpb25zLmxuZyA9IGNvZGVzWzBdO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiAhdGhpcy5vcHRpb25zLmxuZykge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignaW5pdDogbm8gbGFuZ3VhZ2VEZXRlY3RvciBpcyB1c2VkIGFuZCBubyBsbmcgaXMgZGVmaW5lZCcpO1xuICAgIH1cbiAgICBjb25zdCBzdG9yZUFwaSA9IFsnZ2V0UmVzb3VyY2UnLCAnaGFzUmVzb3VyY2VCdW5kbGUnLCAnZ2V0UmVzb3VyY2VCdW5kbGUnLCAnZ2V0RGF0YUJ5TGFuZ3VhZ2UnXTtcbiAgICBzdG9yZUFwaS5mb3JFYWNoKGZjTmFtZSA9PiB7XG4gICAgICB0aGlzW2ZjTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zdG9yZVtmY05hbWVdKC4uLmFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHN0b3JlQXBpQ2hhaW5lZCA9IFsnYWRkUmVzb3VyY2UnLCAnYWRkUmVzb3VyY2VzJywgJ2FkZFJlc291cmNlQnVuZGxlJywgJ3JlbW92ZVJlc291cmNlQnVuZGxlJ107XG4gICAgc3RvcmVBcGlDaGFpbmVkLmZvckVhY2goZmNOYW1lID0+IHtcbiAgICAgIHRoaXNbZmNOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc3RvcmVbZmNOYW1lXSguLi5hcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgZmluaXNoID0gKGVyciwgdCkgPT4ge1xuICAgICAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQgJiYgIXRoaXMuaW5pdGlhbGl6ZWRTdG9yZU9uY2UpIHRoaXMubG9nZ2VyLndhcm4oJ2luaXQ6IGkxOG5leHQgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gWW91IHNob3VsZCBjYWxsIGluaXQganVzdCBvbmNlIScpO1xuICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pc0Nsb25lKSB0aGlzLmxvZ2dlci5sb2coJ2luaXRpYWxpemVkJywgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5lbWl0KCdpbml0aWFsaXplZCcsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUodCk7XG4gICAgICAgIGNhbGxiYWNrKGVyciwgdCk7XG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMubGFuZ3VhZ2VzICYmIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnICYmICF0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVybiBmaW5pc2gobnVsbCwgdGhpcy50LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5jaGFuZ2VMYW5ndWFnZSh0aGlzLm9wdGlvbnMubG5nLCBmaW5pc2gpO1xuICAgIH07XG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXNvdXJjZXMgfHwgIXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKSB7XG4gICAgICBsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQobG9hZCwgMCk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICBsb2FkUmVzb3VyY2VzKGxhbmd1YWdlKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBub29wO1xuICAgIGxldCB1c2VkQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICBjb25zdCB1c2VkTG5nID0gaXNTdHJpbmcobGFuZ3VhZ2UpID8gbGFuZ3VhZ2UgOiB0aGlzLmxhbmd1YWdlO1xuICAgIGlmICh0eXBlb2YgbGFuZ3VhZ2UgPT09ICdmdW5jdGlvbicpIHVzZWRDYWxsYmFjayA9IGxhbmd1YWdlO1xuICAgIGlmICghdGhpcy5vcHRpb25zLnJlc291cmNlcyB8fCB0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpIHtcbiAgICAgIGlmICh1c2VkTG5nICYmIHVzZWRMbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScgJiYgKCF0aGlzLm9wdGlvbnMucHJlbG9hZCB8fCB0aGlzLm9wdGlvbnMucHJlbG9hZC5sZW5ndGggPT09IDApKSByZXR1cm4gdXNlZENhbGxiYWNrKCk7XG4gICAgICBjb25zdCB0b0xvYWQgPSBbXTtcbiAgICAgIGNvbnN0IGFwcGVuZCA9IGxuZyA9PiB7XG4gICAgICAgIGlmICghbG5nKSByZXR1cm47XG4gICAgICAgIGlmIChsbmcgPT09ICdjaW1vZGUnKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxuZ3MgPSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGxuZyk7XG4gICAgICAgIGxuZ3MuZm9yRWFjaChsID0+IHtcbiAgICAgICAgICBpZiAobCA9PT0gJ2NpbW9kZScpIHJldHVybjtcbiAgICAgICAgICBpZiAodG9Mb2FkLmluZGV4T2YobCkgPCAwKSB0b0xvYWQucHVzaChsKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgaWYgKCF1c2VkTG5nKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICAgIGZhbGxiYWNrcy5mb3JFYWNoKGwgPT4gYXBwZW5kKGwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGVuZCh1c2VkTG5nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJlbG9hZCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMucHJlbG9hZC5mb3JFYWNoKGwgPT4gYXBwZW5kKGwpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5sb2FkKHRvTG9hZCwgdGhpcy5vcHRpb25zLm5zLCBlID0+IHtcbiAgICAgICAgaWYgKCFlICYmICF0aGlzLnJlc29sdmVkTGFuZ3VhZ2UgJiYgdGhpcy5sYW5ndWFnZSkgdGhpcy5zZXRSZXNvbHZlZExhbmd1YWdlKHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICB1c2VkQ2FsbGJhY2soZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlZENhbGxiYWNrKG51bGwpO1xuICAgIH1cbiAgfVxuICByZWxvYWRSZXNvdXJjZXMobG5ncywgbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIGlmICh0eXBlb2YgbG5ncyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBsbmdzO1xuICAgICAgbG5ncyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBucztcbiAgICAgIG5zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoIWxuZ3MpIGxuZ3MgPSB0aGlzLmxhbmd1YWdlcztcbiAgICBpZiAoIW5zKSBucyA9IHRoaXMub3B0aW9ucy5ucztcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG4gICAgdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnJlbG9hZChsbmdzLCBucywgZXJyID0+IHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIHVzZShtb2R1bGUpIHtcbiAgICBpZiAoIW1vZHVsZSkgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHBhc3NpbmcgYW4gdW5kZWZpbmVkIG1vZHVsZSEgUGxlYXNlIGNoZWNrIHRoZSBvYmplY3QgeW91IGFyZSBwYXNzaW5nIHRvIGkxOG5leHQudXNlKCknKTtcbiAgICBpZiAoIW1vZHVsZS50eXBlKSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhcmUgcGFzc2luZyBhIHdyb25nIG1vZHVsZSEgUGxlYXNlIGNoZWNrIHRoZSBvYmplY3QgeW91IGFyZSBwYXNzaW5nIHRvIGkxOG5leHQudXNlKCknKTtcbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdiYWNrZW5kJykge1xuICAgICAgdGhpcy5tb2R1bGVzLmJhY2tlbmQgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2xvZ2dlcicgfHwgbW9kdWxlLmxvZyAmJiBtb2R1bGUud2FybiAmJiBtb2R1bGUuZXJyb3IpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5sb2dnZXIgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2xhbmd1YWdlRGV0ZWN0b3InKSB7XG4gICAgICB0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3RvciA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnaTE4bkZvcm1hdCcpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5pMThuRm9ybWF0ID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdwb3N0UHJvY2Vzc29yJykge1xuICAgICAgcG9zdFByb2Nlc3Nvci5hZGRQb3N0UHJvY2Vzc29yKG1vZHVsZSk7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2Zvcm1hdHRlcicpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5mb3JtYXR0ZXIgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJzNyZFBhcnR5Jykge1xuICAgICAgdGhpcy5tb2R1bGVzLmV4dGVybmFsLnB1c2gobW9kdWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0UmVzb2x2ZWRMYW5ndWFnZShsKSB7XG4gICAgaWYgKCFsIHx8ICF0aGlzLmxhbmd1YWdlcykgcmV0dXJuO1xuICAgIGlmIChbJ2NpbW9kZScsICdkZXYnXS5pbmRleE9mKGwpID4gLTEpIHJldHVybjtcbiAgICBmb3IgKGxldCBsaSA9IDA7IGxpIDwgdGhpcy5sYW5ndWFnZXMubGVuZ3RoOyBsaSsrKSB7XG4gICAgICBjb25zdCBsbmdJbkxuZ3MgPSB0aGlzLmxhbmd1YWdlc1tsaV07XG4gICAgICBpZiAoWydjaW1vZGUnLCAnZGV2J10uaW5kZXhPZihsbmdJbkxuZ3MpID4gLTEpIGNvbnRpbnVlO1xuICAgICAgaWYgKHRoaXMuc3RvcmUuaGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKGxuZ0luTG5ncykpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlZExhbmd1YWdlID0gbG5nSW5MbmdzO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY2hhbmdlTGFuZ3VhZ2UobG5nLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgIHRoaXMuaXNMYW5ndWFnZUNoYW5naW5nVG8gPSBsbmc7XG4gICAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHRoaXMuZW1pdCgnbGFuZ3VhZ2VDaGFuZ2luZycsIGxuZyk7XG4gICAgY29uc3Qgc2V0TG5nUHJvcHMgPSBsID0+IHtcbiAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsO1xuICAgICAgdGhpcy5sYW5ndWFnZXMgPSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGwpO1xuICAgICAgdGhpcy5yZXNvbHZlZExhbmd1YWdlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zZXRSZXNvbHZlZExhbmd1YWdlKGwpO1xuICAgIH07XG4gICAgY29uc3QgZG9uZSA9IChlcnIsIGwpID0+IHtcbiAgICAgIGlmIChsKSB7XG4gICAgICAgIHNldExuZ1Byb3BzKGwpO1xuICAgICAgICB0aGlzLnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UobCk7XG4gICAgICAgIHRoaXMuaXNMYW5ndWFnZUNoYW5naW5nVG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZW1pdCgnbGFuZ3VhZ2VDaGFuZ2VkJywgbCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnbGFuZ3VhZ2VDaGFuZ2VkJywgbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgZGVmZXJyZWQucmVzb2x2ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIudCguLi5hcmd1bWVudHMpO1xuICAgICAgfSk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVyciwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnQoLi4uYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgc2V0TG5nID0gbG5ncyA9PiB7XG4gICAgICBpZiAoIWxuZyAmJiAhbG5ncyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IpIGxuZ3MgPSBbXTtcbiAgICAgIGNvbnN0IGwgPSBpc1N0cmluZyhsbmdzKSA/IGxuZ3MgOiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0QmVzdE1hdGNoRnJvbUNvZGVzKGxuZ3MpO1xuICAgICAgaWYgKGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhbmd1YWdlKSB7XG4gICAgICAgICAgc2V0TG5nUHJvcHMobCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zbGF0b3IubGFuZ3VhZ2UpIHRoaXMudHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShsKTtcbiAgICAgICAgaWYgKHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UpIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZShsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubG9hZFJlc291cmNlcyhsLCBlcnIgPT4ge1xuICAgICAgICBkb25lKGVyciwgbCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGlmICghbG5nICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiAhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jKSB7XG4gICAgICBzZXRMbmcodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpKTtcbiAgICB9IGVsc2UgaWYgKCFsbmcgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYykge1xuICAgICAgaWYgKHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoKS50aGVuKHNldExuZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KHNldExuZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldExuZyhsbmcpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgZ2V0Rml4ZWRUKGxuZywgbnMsIGtleVByZWZpeCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgIGNvbnN0IGZpeGVkVCA9IGZ1bmN0aW9uIChrZXksIG9wdHMpIHtcbiAgICAgIGxldCBvcHRpb25zO1xuICAgICAgaWYgKHR5cGVvZiBvcHRzICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBuZXcgQXJyYXkoX2xlbjMgPiAyID8gX2xlbjMgLSAyIDogMCksIF9rZXkzID0gMjsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICAgIHJlc3RbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IF90aGlzMy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKFtrZXksIG9wdHNdLmNvbmNhdChyZXN0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIC4uLm9wdHNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMubG5nID0gb3B0aW9ucy5sbmcgfHwgZml4ZWRULmxuZztcbiAgICAgIG9wdGlvbnMubG5ncyA9IG9wdGlvbnMubG5ncyB8fCBmaXhlZFQubG5ncztcbiAgICAgIG9wdGlvbnMubnMgPSBvcHRpb25zLm5zIHx8IGZpeGVkVC5ucztcbiAgICAgIGlmIChvcHRpb25zLmtleVByZWZpeCAhPT0gJycpIG9wdGlvbnMua2V5UHJlZml4ID0gb3B0aW9ucy5rZXlQcmVmaXggfHwga2V5UHJlZml4IHx8IGZpeGVkVC5rZXlQcmVmaXg7XG4gICAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBfdGhpczMub3B0aW9ucy5rZXlTZXBhcmF0b3IgfHwgJy4nO1xuICAgICAgbGV0IHJlc3VsdEtleTtcbiAgICAgIGlmIChvcHRpb25zLmtleVByZWZpeCAmJiBBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgcmVzdWx0S2V5ID0ga2V5Lm1hcChrID0+IGAke29wdGlvbnMua2V5UHJlZml4fSR7a2V5U2VwYXJhdG9yfSR7a31gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdEtleSA9IG9wdGlvbnMua2V5UHJlZml4ID8gYCR7b3B0aW9ucy5rZXlQcmVmaXh9JHtrZXlTZXBhcmF0b3J9JHtrZXl9YCA6IGtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfdGhpczMudChyZXN1bHRLZXksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgaWYgKGlzU3RyaW5nKGxuZykpIHtcbiAgICAgIGZpeGVkVC5sbmcgPSBsbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpeGVkVC5sbmdzID0gbG5nO1xuICAgIH1cbiAgICBmaXhlZFQubnMgPSBucztcbiAgICBmaXhlZFQua2V5UHJlZml4ID0ga2V5UHJlZml4O1xuICAgIHJldHVybiBmaXhlZFQ7XG4gIH1cbiAgdCgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yICYmIHRoaXMudHJhbnNsYXRvci50cmFuc2xhdGUoLi4uYXJndW1lbnRzKTtcbiAgfVxuICBleGlzdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiB0aGlzLnRyYW5zbGF0b3IuZXhpc3RzKC4uLmFyZ3VtZW50cyk7XG4gIH1cbiAgc2V0RGVmYXVsdE5hbWVzcGFjZShucykge1xuICAgIHRoaXMub3B0aW9ucy5kZWZhdWx0TlMgPSBucztcbiAgfVxuICBoYXNMb2FkZWROYW1lc3BhY2UobnMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2hhc0xvYWRlZE5hbWVzcGFjZTogaTE4bmV4dCB3YXMgbm90IGluaXRpYWxpemVkJywgdGhpcy5sYW5ndWFnZXMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMubGFuZ3VhZ2VzIHx8ICF0aGlzLmxhbmd1YWdlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2hhc0xvYWRlZE5hbWVzcGFjZTogaTE4bi5sYW5ndWFnZXMgd2VyZSB1bmRlZmluZWQgb3IgZW1wdHknLCB0aGlzLmxhbmd1YWdlcyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGxuZyA9IG9wdGlvbnMubG5nIHx8IHRoaXMucmVzb2x2ZWRMYW5ndWFnZSB8fCB0aGlzLmxhbmd1YWdlc1swXTtcbiAgICBjb25zdCBmYWxsYmFja0xuZyA9IHRoaXMub3B0aW9ucyA/IHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyA6IGZhbHNlO1xuICAgIGNvbnN0IGxhc3RMbmcgPSB0aGlzLmxhbmd1YWdlc1t0aGlzLmxhbmd1YWdlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAobG5nLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnKSByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCBsb2FkTm90UGVuZGluZyA9IChsLCBuKSA9PiB7XG4gICAgICBjb25zdCBsb2FkU3RhdGUgPSB0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3Iuc3RhdGVbYCR7bH18JHtufWBdO1xuICAgICAgcmV0dXJuIGxvYWRTdGF0ZSA9PT0gLTEgfHwgbG9hZFN0YXRlID09PSAwIHx8IGxvYWRTdGF0ZSA9PT0gMjtcbiAgICB9O1xuICAgIGlmIChvcHRpb25zLnByZWNoZWNrKSB7XG4gICAgICBjb25zdCBwcmVSZXN1bHQgPSBvcHRpb25zLnByZWNoZWNrKHRoaXMsIGxvYWROb3RQZW5kaW5nKTtcbiAgICAgIGlmIChwcmVSZXN1bHQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHByZVJlc3VsdDtcbiAgICB9XG4gICAgaWYgKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHJldHVybiB0cnVlO1xuICAgIGlmICghdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmJhY2tlbmQgfHwgdGhpcy5vcHRpb25zLnJlc291cmNlcyAmJiAhdGhpcy5vcHRpb25zLnBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAobG9hZE5vdFBlbmRpbmcobG5nLCBucykgJiYgKCFmYWxsYmFja0xuZyB8fCBsb2FkTm90UGVuZGluZyhsYXN0TG5nLCBucykpKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbG9hZE5hbWVzcGFjZXMobnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIGlmICghdGhpcy5vcHRpb25zLm5zKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhucykpIG5zID0gW25zXTtcbiAgICBucy5mb3JFYWNoKG4gPT4ge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG4pIDwgMCkgdGhpcy5vcHRpb25zLm5zLnB1c2gobik7XG4gICAgfSk7XG4gICAgdGhpcy5sb2FkUmVzb3VyY2VzKGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGxvYWRMYW5ndWFnZXMobG5ncywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgaWYgKGlzU3RyaW5nKGxuZ3MpKSBsbmdzID0gW2xuZ3NdO1xuICAgIGNvbnN0IHByZWxvYWRlZCA9IHRoaXMub3B0aW9ucy5wcmVsb2FkIHx8IFtdO1xuICAgIGNvbnN0IG5ld0xuZ3MgPSBsbmdzLmZpbHRlcihsbmcgPT4gcHJlbG9hZGVkLmluZGV4T2YobG5nKSA8IDAgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmlzU3VwcG9ydGVkQ29kZShsbmcpKTtcbiAgICBpZiAoIW5ld0xuZ3MubGVuZ3RoKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHRoaXMub3B0aW9ucy5wcmVsb2FkID0gcHJlbG9hZGVkLmNvbmNhdChuZXdMbmdzKTtcbiAgICB0aGlzLmxvYWRSZXNvdXJjZXMoZXJyID0+IHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgZGlyKGxuZykge1xuICAgIGlmICghbG5nKSBsbmcgPSB0aGlzLnJlc29sdmVkTGFuZ3VhZ2UgfHwgKHRoaXMubGFuZ3VhZ2VzICYmIHRoaXMubGFuZ3VhZ2VzLmxlbmd0aCA+IDAgPyB0aGlzLmxhbmd1YWdlc1swXSA6IHRoaXMubGFuZ3VhZ2UpO1xuICAgIGlmICghbG5nKSByZXR1cm4gJ3J0bCc7XG4gICAgY29uc3QgcnRsTG5ncyA9IFsnYXInLCAnc2h1JywgJ3NxcicsICdzc2gnLCAneGFhJywgJ3loZCcsICd5dWQnLCAnYWFvJywgJ2FiaCcsICdhYnYnLCAnYWNtJywgJ2FjcScsICdhY3cnLCAnYWN4JywgJ2FjeScsICdhZGYnLCAnYWRzJywgJ2FlYicsICdhZWMnLCAnYWZiJywgJ2FqcCcsICdhcGMnLCAnYXBkJywgJ2FyYicsICdhcnEnLCAnYXJzJywgJ2FyeScsICdhcnonLCAnYXV6JywgJ2F2bCcsICdheWgnLCAnYXlsJywgJ2F5bicsICdheXAnLCAnYmJ6JywgJ3BnYScsICdoZScsICdpdycsICdwcycsICdwYnQnLCAncGJ1JywgJ3BzdCcsICdwcnAnLCAncHJkJywgJ3VnJywgJ3VyJywgJ3lkZCcsICd5ZHMnLCAneWloJywgJ2ppJywgJ3lpJywgJ2hibycsICdtZW4nLCAneG1uJywgJ2ZhJywgJ2pwcicsICdwZW8nLCAncGVzJywgJ3BycycsICdkdicsICdzYW0nLCAnY2tiJ107XG4gICAgY29uc3QgbGFuZ3VhZ2VVdGlscyA9IHRoaXMuc2VydmljZXMgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzIHx8IG5ldyBMYW5ndWFnZVV0aWwoZ2V0KCkpO1xuICAgIHJldHVybiBydGxMbmdzLmluZGV4T2YobGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShsbmcpKSA+IC0xIHx8IGxuZy50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJy1hcmFiJykgPiAxID8gJ3J0bCcgOiAnbHRyJztcbiAgfVxuICBzdGF0aWMgY3JlYXRlSW5zdGFuY2UoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZXcgSTE4bihvcHRpb25zLCBjYWxsYmFjayk7XG4gIH1cbiAgY2xvbmVJbnN0YW5jZSgpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBub29wO1xuICAgIGNvbnN0IGZvcmtSZXNvdXJjZVN0b3JlID0gb3B0aW9ucy5mb3JrUmVzb3VyY2VTdG9yZTtcbiAgICBpZiAoZm9ya1Jlc291cmNlU3RvcmUpIGRlbGV0ZSBvcHRpb25zLmZvcmtSZXNvdXJjZVN0b3JlO1xuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLi4ue1xuICAgICAgICBpc0Nsb25lOiB0cnVlXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjbG9uZSA9IG5ldyBJMThuKG1lcmdlZE9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmRlYnVnICE9PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5wcmVmaXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xvbmUubG9nZ2VyID0gY2xvbmUubG9nZ2VyLmNsb25lKG9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCBtZW1iZXJzVG9Db3B5ID0gWydzdG9yZScsICdzZXJ2aWNlcycsICdsYW5ndWFnZSddO1xuICAgIG1lbWJlcnNUb0NvcHkuZm9yRWFjaChtID0+IHtcbiAgICAgIGNsb25lW21dID0gdGhpc1ttXTtcbiAgICB9KTtcbiAgICBjbG9uZS5zZXJ2aWNlcyA9IHtcbiAgICAgIC4uLnRoaXMuc2VydmljZXNcbiAgICB9O1xuICAgIGNsb25lLnNlcnZpY2VzLnV0aWxzID0ge1xuICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiBjbG9uZS5oYXNMb2FkZWROYW1lc3BhY2UuYmluZChjbG9uZSlcbiAgICB9O1xuICAgIGlmIChmb3JrUmVzb3VyY2VTdG9yZSkge1xuICAgICAgY2xvbmUuc3RvcmUgPSBuZXcgUmVzb3VyY2VTdG9yZSh0aGlzLnN0b3JlLmRhdGEsIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgY2xvbmUuc2VydmljZXMucmVzb3VyY2VTdG9yZSA9IGNsb25lLnN0b3JlO1xuICAgIH1cbiAgICBjbG9uZS50cmFuc2xhdG9yID0gbmV3IFRyYW5zbGF0b3IoY2xvbmUuc2VydmljZXMsIG1lcmdlZE9wdGlvbnMpO1xuICAgIGNsb25lLnRyYW5zbGF0b3Iub24oJyonLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG4gICAgICBjbG9uZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICB9KTtcbiAgICBjbG9uZS5pbml0KG1lcmdlZE9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICBjbG9uZS50cmFuc2xhdG9yLm9wdGlvbnMgPSBtZXJnZWRPcHRpb25zO1xuICAgIGNsb25lLnRyYW5zbGF0b3IuYmFja2VuZENvbm5lY3Rvci5zZXJ2aWNlcy51dGlscyA9IHtcbiAgICAgIGhhc0xvYWRlZE5hbWVzcGFjZTogY2xvbmUuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQoY2xvbmUpXG4gICAgfTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICBzdG9yZTogdGhpcy5zdG9yZSxcbiAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlLFxuICAgICAgbGFuZ3VhZ2VzOiB0aGlzLmxhbmd1YWdlcyxcbiAgICAgIHJlc29sdmVkTGFuZ3VhZ2U6IHRoaXMucmVzb2x2ZWRMYW5ndWFnZVxuICAgIH07XG4gIH1cbn1cbmNvbnN0IGluc3RhbmNlID0gSTE4bi5jcmVhdGVJbnN0YW5jZSgpO1xuaW5zdGFuY2UuY3JlYXRlSW5zdGFuY2UgPSBJMThuLmNyZWF0ZUluc3RhbmNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGluc3RhbmNlO1xuIiwiLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9cbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJMThuQ29udGV4dCB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gSTE4bmV4dFByb3ZpZGVyKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBpMThuLFxuICAgIGRlZmF1bHROUyxcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjtcbiAgY29uc3QgdmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgaTE4bixcbiAgICBkZWZhdWx0TlNcbiAgfSksIFtpMThuLCBkZWZhdWx0TlNdKTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSTE4bkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZVxuICB9LCBjaGlsZHJlbik7XG59IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG5vZGVzVG9TdHJpbmcsIFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuZXhwb3J0IHsgbm9kZXNUb1N0cmluZyB9O1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjb3VudCxcbiAgICBwYXJlbnQsXG4gICAgaTE4bktleSxcbiAgICBjb250ZXh0LFxuICAgIHRPcHRpb25zID0ge30sXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnMsXG4gICAgaTE4bjogaTE4bkZyb21Qcm9wcyxcbiAgICB0OiB0RnJvbVByb3BzLFxuICAgIHNob3VsZFVuZXNjYXBlLFxuICAgIC4uLmFkZGl0aW9uYWxQcm9wc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgY29uc3QgdCA9IHRGcm9tUHJvcHMgfHwgaTE4biAmJiBpMThuLnQuYmluZChpMThuKTtcbiAgcmV0dXJuIFRyYW5zV2l0aG91dENvbnRleHQoe1xuICAgIGNoaWxkcmVuLFxuICAgIGNvdW50LFxuICAgIHBhcmVudCxcbiAgICBpMThuS2V5LFxuICAgIGNvbnRleHQsXG4gICAgdE9wdGlvbnMsXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnM6IG5zIHx8IHQgJiYgdC5ucyB8fCBkZWZhdWx0TlNGcm9tQ29udGV4dCB8fCBpMThuICYmIGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuZGVmYXVsdE5TLFxuICAgIGkxOG4sXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSk7XG59IiwiaW1wb3J0IHsgRnJhZ21lbnQsIGlzVmFsaWRFbGVtZW50LCBjbG9uZUVsZW1lbnQsIGNyZWF0ZUVsZW1lbnQsIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhUTUwgZnJvbSAnaHRtbC1wYXJzZS1zdHJpbmdpZnknO1xuaW1wb3J0IHsgaXNPYmplY3QsIGlzU3RyaW5nLCB3YXJuLCB3YXJuT25jZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5jb25zdCBoYXNDaGlsZHJlbiA9IChub2RlLCBjaGVja0xlbmd0aCkgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgYmFzZSA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgaWYgKGNoZWNrTGVuZ3RoKSByZXR1cm4gYmFzZS5sZW5ndGggPiAwO1xuICByZXR1cm4gISFiYXNlO1xufTtcbmNvbnN0IGdldENoaWxkcmVuID0gbm9kZSA9PiB7XG4gIGlmICghbm9kZSkgcmV0dXJuIFtdO1xuICBjb25zdCBjaGlsZHJlbiA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgcmV0dXJuIG5vZGUucHJvcHMgJiYgbm9kZS5wcm9wcy5pMThuSXNEeW5hbWljTGlzdCA/IGdldEFzQXJyYXkoY2hpbGRyZW4pIDogY2hpbGRyZW47XG59O1xuY29uc3QgaGFzVmFsaWRSZWFjdENoaWxkcmVuID0gY2hpbGRyZW4gPT4gQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZXZlcnkoaXNWYWxpZEVsZW1lbnQpO1xuY29uc3QgZ2V0QXNBcnJheSA9IGRhdGEgPT4gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG5jb25zdCBtZXJnZVByb3BzID0gKHNvdXJjZSwgdGFyZ2V0KSA9PiB7XG4gIGNvbnN0IG5ld1RhcmdldCA9IHtcbiAgICAuLi50YXJnZXRcbiAgfTtcbiAgbmV3VGFyZ2V0LnByb3BzID0gT2JqZWN0LmFzc2lnbihzb3VyY2UucHJvcHMsIHRhcmdldC5wcm9wcyk7XG4gIHJldHVybiBuZXdUYXJnZXQ7XG59O1xuZXhwb3J0IGNvbnN0IG5vZGVzVG9TdHJpbmcgPSAoY2hpbGRyZW4sIGkxOG5PcHRpb25zKSA9PiB7XG4gIGlmICghY2hpbGRyZW4pIHJldHVybiAnJztcbiAgbGV0IHN0cmluZ05vZGUgPSAnJztcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRyZW4pO1xuICBjb25zdCBrZWVwQXJyYXkgPSBpMThuT3B0aW9ucy50cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlcyAmJiBpMThuT3B0aW9ucy50cmFuc0tlZXBCYXNpY0h0bWxOb2Rlc0ZvciA/IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIDogW107XG4gIGNoaWxkcmVuQXJyYXkuZm9yRWFjaCgoY2hpbGQsIGNoaWxkSW5kZXgpID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoY2hpbGQpKSB7XG4gICAgICBzdHJpbmdOb2RlICs9IGAke2NoaWxkfWA7XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBjaGlsZDtcbiAgICAgIGNvbnN0IGNoaWxkUHJvcHNDb3VudCA9IE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGg7XG4gICAgICBjb25zdCBzaG91bGRLZWVwQ2hpbGQgPSBrZWVwQXJyYXkuaW5kZXhPZih0eXBlKSA+IC0xO1xuICAgICAgY29uc3QgY2hpbGRDaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKCFjaGlsZENoaWxkcmVuICYmIHNob3VsZEtlZXBDaGlsZCAmJiAhY2hpbGRQcm9wc0NvdW50KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9Lz5gO1xuICAgICAgfSBlbHNlIGlmICghY2hpbGRDaGlsZHJlbiAmJiAoIXNob3VsZEtlZXBDaGlsZCB8fCBjaGlsZFByb3BzQ291bnQpIHx8IHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke2NoaWxkSW5kZXh9PjwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRLZWVwQ2hpbGQgJiYgY2hpbGRQcm9wc0NvdW50ID09PSAxICYmIGlzU3RyaW5nKGNoaWxkQ2hpbGRyZW4pKSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9PiR7Y2hpbGRDaGlsZHJlbn08LyR7dHlwZX0+YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBub2Rlc1RvU3RyaW5nKGNoaWxkQ2hpbGRyZW4sIGkxOG5PcHRpb25zKTtcbiAgICAgICAgc3RyaW5nTm9kZSArPSBgPCR7Y2hpbGRJbmRleH0+JHtjb250ZW50fTwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hpbGQgPT09IG51bGwpIHtcbiAgICAgIHdhcm4oYFRyYW5zOiB0aGUgcGFzc2VkIGluIHZhbHVlIGlzIGludmFsaWQgLSBzZWVtcyB5b3UgcGFzc2VkIGluIGEgbnVsbCBjaGlsZC5gKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXQsXG4gICAgICAgIC4uLmNsb25lXG4gICAgICB9ID0gY2hpbGQ7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY2xvbmUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZm9ybWF0ID8gYCR7a2V5c1swXX0sICR7Zm9ybWF0fWAgOiBrZXlzWzBdO1xuICAgICAgICBzdHJpbmdOb2RlICs9IGB7eyR7dmFsdWV9fX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybihgcmVhY3QtaTE4bmV4dDogdGhlIHBhc3NlZCBpbiBvYmplY3QgY29udGFpbmVkIG1vcmUgdGhhbiBvbmUgdmFyaWFibGUgLSB0aGUgb2JqZWN0IHNob3VsZCBsb29rIGxpa2Uge3sgdmFsdWUsIGZvcm1hdCB9fSB3aGVyZSBmb3JtYXQgaXMgb3B0aW9uYWwuYCwgY2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBUcmFuczogdGhlIHBhc3NlZCBpbiB2YWx1ZSBpcyBpbnZhbGlkIC0gc2VlbXMgeW91IHBhc3NlZCBpbiBhIHZhcmlhYmxlIGxpa2Uge251bWJlcn0gLSBwbGVhc2UgcGFzcyBpbiB2YXJpYWJsZXMgZm9yIGludGVycG9sYXRpb24gYXMgZnVsbCBvYmplY3RzIGxpa2Uge3tudW1iZXJ9fS5gLCBjaGlsZCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cmluZ05vZGU7XG59O1xuY29uc3QgcmVuZGVyTm9kZXMgPSAoY2hpbGRyZW4sIHRhcmdldFN0cmluZywgaTE4biwgaTE4bk9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKSA9PiB7XG4gIGlmICh0YXJnZXRTdHJpbmcgPT09ICcnKSByZXR1cm4gW107XG4gIGNvbnN0IGtlZXBBcnJheSA9IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIHx8IFtdO1xuICBjb25zdCBlbXB0eUNoaWxkcmVuQnV0TmVlZHNIYW5kbGluZyA9IHRhcmdldFN0cmluZyAmJiBuZXcgUmVnRXhwKGtlZXBBcnJheS5tYXAoa2VlcCA9PiBgPCR7a2VlcH1gKS5qb2luKCd8JykpLnRlc3QodGFyZ2V0U3RyaW5nKTtcbiAgaWYgKCFjaGlsZHJlbiAmJiAhZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgIXNob3VsZFVuZXNjYXBlKSByZXR1cm4gW3RhcmdldFN0cmluZ107XG4gIGNvbnN0IGRhdGEgPSB7fTtcbiAgY29uc3QgZ2V0RGF0YSA9IGNoaWxkcyA9PiB7XG4gICAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRzKTtcbiAgICBjaGlsZHJlbkFycmF5LmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaWYgKGlzU3RyaW5nKGNoaWxkKSkgcmV0dXJuO1xuICAgICAgaWYgKGhhc0NoaWxkcmVuKGNoaWxkKSkgZ2V0RGF0YShnZXRDaGlsZHJlbihjaGlsZCkpO2Vsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSBPYmplY3QuYXNzaWduKGRhdGEsIGNoaWxkKTtcbiAgICB9KTtcbiAgfTtcbiAgZ2V0RGF0YShjaGlsZHJlbik7XG4gIGNvbnN0IGFzdCA9IEhUTUwucGFyc2UoYDwwPiR7dGFyZ2V0U3RyaW5nfTwvMD5gKTtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICAuLi5kYXRhLFxuICAgIC4uLmNvbWJpbmVkVE9wdHNcbiAgfTtcbiAgY29uc3QgcmVuZGVySW5uZXIgPSAoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpID0+IHtcbiAgICBjb25zdCBjaGlsZHMgPSBnZXRDaGlsZHJlbihjaGlsZCk7XG4gICAgY29uc3QgbWFwcGVkQ2hpbGRyZW4gPSBtYXBBU1QoY2hpbGRzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICByZXR1cm4gaGFzVmFsaWRSZWFjdENoaWxkcmVuKGNoaWxkcykgJiYgbWFwcGVkQ2hpbGRyZW4ubGVuZ3RoID09PSAwIHx8IGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0ID8gY2hpbGRzIDogbWFwcGVkQ2hpbGRyZW47XG4gIH07XG4gIGNvbnN0IHB1c2hUcmFuc2xhdGVkSlNYID0gKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBpc1ZvaWQpID0+IHtcbiAgICBpZiAoY2hpbGQuZHVtbXkpIHtcbiAgICAgIGNoaWxkLmNoaWxkcmVuID0gaW5uZXI7XG4gICAgICBtZW0ucHVzaChjbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAga2V5OiBpXG4gICAgICB9LCBpc1ZvaWQgPyB1bmRlZmluZWQgOiBpbm5lcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW0ucHVzaCguLi5DaGlsZHJlbi5tYXAoW2NoaWxkXSwgYyA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgIC4uLmMucHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgZGVsZXRlIHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0O1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChjLnR5cGUsIHtcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgcmVmOiBjLnJlZlxuICAgICAgICB9LCBpc1ZvaWQgPyBudWxsIDogaW5uZXIpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbWFwQVNUID0gKHJlYWN0Tm9kZSwgYXN0Tm9kZSwgcm9vdFJlYWN0Tm9kZSkgPT4ge1xuICAgIGNvbnN0IHJlYWN0Tm9kZXMgPSBnZXRBc0FycmF5KHJlYWN0Tm9kZSk7XG4gICAgY29uc3QgYXN0Tm9kZXMgPSBnZXRBc0FycmF5KGFzdE5vZGUpO1xuICAgIHJldHVybiBhc3ROb2Rlcy5yZWR1Y2UoKG1lbSwgbm9kZSwgaSkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNsYXRpb25Db250ZW50ID0gbm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuWzBdICYmIG5vZGUuY2hpbGRyZW5bMF0uY29udGVudCAmJiBpMThuLnNlcnZpY2VzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShub2RlLmNoaWxkcmVuWzBdLmNvbnRlbnQsIG9wdHMsIGkxOG4ubGFuZ3VhZ2UpO1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ3RhZycpIHtcbiAgICAgICAgbGV0IHRtcCA9IHJlYWN0Tm9kZXNbcGFyc2VJbnQobm9kZS5uYW1lLCAxMCldO1xuICAgICAgICBpZiAocm9vdFJlYWN0Tm9kZS5sZW5ndGggPT09IDEgJiYgIXRtcCkgdG1wID0gcm9vdFJlYWN0Tm9kZVswXVtub2RlLm5hbWVdO1xuICAgICAgICBpZiAoIXRtcCkgdG1wID0ge307XG4gICAgICAgIGNvbnN0IGNoaWxkID0gT2JqZWN0LmtleXMobm9kZS5hdHRycykubGVuZ3RoICE9PSAwID8gbWVyZ2VQcm9wcyh7XG4gICAgICAgICAgcHJvcHM6IG5vZGUuYXR0cnNcbiAgICAgICAgfSwgdG1wKSA6IHRtcDtcbiAgICAgICAgY29uc3QgaXNFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQoY2hpbGQpO1xuICAgICAgICBjb25zdCBpc1ZhbGlkVHJhbnNsYXRpb25XaXRoQ2hpbGRyZW4gPSBpc0VsZW1lbnQgJiYgaGFzQ2hpbGRyZW4obm9kZSwgdHJ1ZSkgJiYgIW5vZGUudm9pZEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRW1wdHlUcmFuc1dpdGhIVE1MID0gZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgaXNPYmplY3QoY2hpbGQpICYmIGNoaWxkLmR1bW15ICYmICFpc0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzS25vd25Db21wb25lbnQgPSBpc09iamVjdChjaGlsZHJlbikgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2hpbGRyZW4sIG5vZGUubmFtZSk7XG4gICAgICAgIGlmIChpc1N0cmluZyhjaGlsZCkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKGNoaWxkLCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgICBtZW0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hpbGRyZW4oY2hpbGQpIHx8IGlzVmFsaWRUcmFuc2xhdGlvbldpdGhDaGlsZHJlbikge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gcmVuZGVySW5uZXIoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VtcHR5VHJhbnNXaXRoSFRNTCkge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gbWFwQVNUKHJlYWN0Tm9kZXMsIG5vZGUuY2hpbGRyZW4sIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VGbG9hdChub2RlLm5hbWUpKSkge1xuICAgICAgICAgIGlmIChpc0tub3duQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IHJlbmRlcklubmVyKGNoaWxkLCBub2RlLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBub2RlLnZvaWRFbGVtZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkxOG5PcHRpb25zLnRyYW5zU3VwcG9ydEJhc2ljSHRtbE5vZGVzICYmIGtlZXBBcnJheS5pbmRleE9mKG5vZGUubmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKG5vZGUudm9pZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgbWVtLnB1c2goY3JlYXRlRWxlbWVudChub2RlLm5hbWUsIHtcbiAgICAgICAgICAgICAgICBrZXk6IGAke25vZGUubmFtZX0tJHtpfWBcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSBtYXBBU1QocmVhY3ROb2Rlcywgbm9kZS5jaGlsZHJlbiwgcm9vdFJlYWN0Tm9kZSk7XG4gICAgICAgICAgICAgIG1lbS5wdXNoKGNyZWF0ZUVsZW1lbnQobm9kZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAga2V5OiBgJHtub2RlLm5hbWV9LSR7aX1gXG4gICAgICAgICAgICAgIH0sIGlubmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnZvaWRFbGVtZW50KSB7XG4gICAgICAgICAgICBtZW0ucHVzaChgPCR7bm9kZS5uYW1lfSAvPmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IG1hcEFTVChyZWFjdE5vZGVzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIG1lbS5wdXNoKGA8JHtub2RlLm5hbWV9PiR7aW5uZXJ9PC8ke25vZGUubmFtZX0+YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNFbGVtZW50KSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IG5vZGUuY2hpbGRyZW5bMF0gPyB0cmFuc2xhdGlvbkNvbnRlbnQgOiBudWxsO1xuICAgICAgICAgIGlmIChjb250ZW50KSBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwdXNoVHJhbnNsYXRlZEpTWChjaGlsZCwgdHJhbnNsYXRpb25Db250ZW50LCBtZW0sIGksIG5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9PSAxIHx8ICF0cmFuc2xhdGlvbkNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnN0IHdyYXBUZXh0Tm9kZXMgPSBpMThuT3B0aW9ucy50cmFuc1dyYXBUZXh0Tm9kZXM7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBzaG91bGRVbmVzY2FwZSA/IGkxOG5PcHRpb25zLnVuZXNjYXBlKGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKG5vZGUuY29udGVudCwgb3B0cywgaTE4bi5sYW5ndWFnZSkpIDogaTE4bi5zZXJ2aWNlcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobm9kZS5jb250ZW50LCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgaWYgKHdyYXBUZXh0Tm9kZXMpIHtcbiAgICAgICAgICBtZW0ucHVzaChjcmVhdGVFbGVtZW50KHdyYXBUZXh0Tm9kZXMsIHtcbiAgICAgICAgICAgIGtleTogYCR7bm9kZS5uYW1lfS0ke2l9YFxuICAgICAgICAgIH0sIGNvbnRlbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbTtcbiAgICB9LCBbXSk7XG4gIH07XG4gIGNvbnN0IHJlc3VsdCA9IG1hcEFTVChbe1xuICAgIGR1bW15OiB0cnVlLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbiB8fCBbXVxuICB9XSwgYXN0LCBnZXRBc0FycmF5KGNoaWxkcmVuIHx8IFtdKSk7XG4gIHJldHVybiBnZXRDaGlsZHJlbihyZXN1bHRbMF0pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBUcmFucyhfcmVmKSB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW4sXG4gICAgY291bnQsXG4gICAgcGFyZW50LFxuICAgIGkxOG5LZXksXG4gICAgY29udGV4dCxcbiAgICB0T3B0aW9ucyA9IHt9LFxuICAgIHZhbHVlcyxcbiAgICBkZWZhdWx0cyxcbiAgICBjb21wb25lbnRzLFxuICAgIG5zLFxuICAgIGkxOG46IGkxOG5Gcm9tUHJvcHMsXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGdldEkxOG4oKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGkxOG5leHRSZWFjdE1vZHVsZScpO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICBjb25zdCB0ID0gdEZyb21Qcm9wcyB8fCBpMThuLnQuYmluZChpMThuKSB8fCAoayA9PiBrKTtcbiAgY29uc3QgcmVhY3RJMThuZXh0T3B0aW9ucyA9IHtcbiAgICAuLi5nZXREZWZhdWx0cygpLFxuICAgIC4uLihpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLnJlYWN0KVxuICB9O1xuICBsZXQgbmFtZXNwYWNlcyA9IG5zIHx8IHQubnMgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBjb25zdCBub2RlQXNTdHJpbmcgPSBub2Rlc1RvU3RyaW5nKGNoaWxkcmVuLCByZWFjdEkxOG5leHRPcHRpb25zKTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlID0gZGVmYXVsdHMgfHwgbm9kZUFzU3RyaW5nIHx8IHJlYWN0STE4bmV4dE9wdGlvbnMudHJhbnNFbXB0eU5vZGVWYWx1ZSB8fCBpMThuS2V5O1xuICBjb25zdCB7XG4gICAgaGFzaFRyYW5zS2V5XG4gIH0gPSByZWFjdEkxOG5leHRPcHRpb25zO1xuICBjb25zdCBrZXkgPSBpMThuS2V5IHx8IChoYXNoVHJhbnNLZXkgPyBoYXNoVHJhbnNLZXkobm9kZUFzU3RyaW5nIHx8IGRlZmF1bHRWYWx1ZSkgOiBub2RlQXNTdHJpbmcgfHwgZGVmYXVsdFZhbHVlKTtcbiAgaWYgKGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzICYmIE9iamVjdC5rZXlzKHZhbHVlcykubGVuZ3RoID4gMCA/IHtcbiAgICAgIC4uLnZhbHVlcyxcbiAgICAgIC4uLmkxOG4ub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXNcbiAgICB9IDoge1xuICAgICAgLi4uaTE4bi5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc1xuICAgIH07XG4gIH1cbiAgY29uc3QgaW50ZXJwb2xhdGlvbk92ZXJyaWRlID0gdmFsdWVzIHx8IGNvdW50ICE9PSB1bmRlZmluZWQgfHwgIWNoaWxkcmVuID8gdE9wdGlvbnMuaW50ZXJwb2xhdGlvbiA6IHtcbiAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICAuLi50T3B0aW9ucy5pbnRlcnBvbGF0aW9uLFxuICAgICAgcHJlZml4OiAnIyQ/JyxcbiAgICAgIHN1ZmZpeDogJz8kIydcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvbWJpbmVkVE9wdHMgPSB7XG4gICAgLi4udE9wdGlvbnMsXG4gICAgY29udGV4dDogY29udGV4dCB8fCB0T3B0aW9ucy5jb250ZXh0LFxuICAgIGNvdW50LFxuICAgIC4uLnZhbHVlcyxcbiAgICAuLi5pbnRlcnBvbGF0aW9uT3ZlcnJpZGUsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIG5zOiBuYW1lc3BhY2VzXG4gIH07XG4gIGNvbnN0IHRyYW5zbGF0aW9uID0ga2V5ID8gdChrZXksIGNvbWJpbmVkVE9wdHMpIDogZGVmYXVsdFZhbHVlO1xuICBpZiAoY29tcG9uZW50cykge1xuICAgIE9iamVjdC5rZXlzKGNvbXBvbmVudHMpLmZvckVhY2goYyA9PiB7XG4gICAgICBjb25zdCBjb21wID0gY29tcG9uZW50c1tjXTtcbiAgICAgIGlmICh0eXBlb2YgY29tcC50eXBlID09PSAnZnVuY3Rpb24nIHx8ICFjb21wLnByb3BzIHx8ICFjb21wLnByb3BzLmNoaWxkcmVuIHx8IHRyYW5zbGF0aW9uLmluZGV4T2YoYCR7Y30vPmApIDwgMCAmJiB0cmFuc2xhdGlvbi5pbmRleE9mKGAke2N9IC8+YCkgPCAwKSByZXR1cm47XG4gICAgICBmdW5jdGlvbiBDb21wb25lbnRpemVkKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY29tcCk7XG4gICAgICB9XG4gICAgICBjb21wb25lbnRzW2NdID0gY3JlYXRlRWxlbWVudChDb21wb25lbnRpemVkKTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBjb250ZW50ID0gcmVuZGVyTm9kZXMoY29tcG9uZW50cyB8fCBjaGlsZHJlbiwgdHJhbnNsYXRpb24sIGkxOG4sIHJlYWN0STE4bmV4dE9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKTtcbiAgY29uc3QgdXNlQXNQYXJlbnQgPSBwYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmVudCA6IHJlYWN0STE4bmV4dE9wdGlvbnMuZGVmYXVsdFRyYW5zUGFyZW50O1xuICByZXR1cm4gdXNlQXNQYXJlbnQgPyBjcmVhdGVFbGVtZW50KHVzZUFzUGFyZW50LCBhZGRpdGlvbmFsUHJvcHMsIGNvbnRlbnQpIDogY29udGVudDtcbn0iLCJpbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJy4vdXNlVHJhbnNsYXRpb24uanMnO1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zbGF0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBucyxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5vcHRpb25zXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW3QsIGkxOG4sIHJlYWR5XSA9IHVzZVRyYW5zbGF0aW9uKG5zLCBvcHRpb25zKTtcbiAgcmV0dXJuIGNoaWxkcmVuKHQsIHtcbiAgICBpMThuLFxuICAgIGxuZzogaTE4bi5sYW5ndWFnZVxuICB9LCByZWFkeSk7XG59IiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldERlZmF1bHRzLCBzZXREZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgc2V0STE4biB9IGZyb20gJy4vaTE4bkluc3RhbmNlLmpzJztcbmltcG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgZ2V0RGVmYXVsdHMsIHNldERlZmF1bHRzLCBnZXRJMThuLCBzZXRJMThuLCBpbml0UmVhY3RJMThuZXh0IH07XG5leHBvcnQgY29uc3QgSTE4bkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5leHBvcnQgY2xhc3MgUmVwb3J0TmFtZXNwYWNlcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXNlZE5hbWVzcGFjZXMgPSB7fTtcbiAgfVxuICBhZGRVc2VkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKSB7XG4gICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgIGlmICghdGhpcy51c2VkTmFtZXNwYWNlc1tuc10pIHRoaXMudXNlZE5hbWVzcGFjZXNbbnNdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBnZXRVc2VkTmFtZXNwYWNlcyA9ICgpID0+IE9iamVjdC5rZXlzKHRoaXMudXNlZE5hbWVzcGFjZXMpO1xufVxuZXhwb3J0IGNvbnN0IGNvbXBvc2VJbml0aWFsUHJvcHMgPSBGb3JDb21wb25lbnQgPT4gYXN5bmMgY3R4ID0+IHtcbiAgY29uc3QgY29tcG9uZW50c0luaXRpYWxQcm9wcyA9IEZvckNvbXBvbmVudC5nZXRJbml0aWFsUHJvcHMgPyBhd2FpdCBGb3JDb21wb25lbnQuZ2V0SW5pdGlhbFByb3BzKGN0eCkgOiB7fTtcbiAgY29uc3QgaTE4bkluaXRpYWxQcm9wcyA9IGdldEluaXRpYWxQcm9wcygpO1xuICByZXR1cm4ge1xuICAgIC4uLmNvbXBvbmVudHNJbml0aWFsUHJvcHMsXG4gICAgLi4uaTE4bkluaXRpYWxQcm9wc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXRJbml0aWFsUHJvcHMgPSAoKSA9PiB7XG4gIGNvbnN0IGkxOG4gPSBnZXRJMThuKCk7XG4gIGNvbnN0IG5hbWVzcGFjZXMgPSBpMThuLnJlcG9ydE5hbWVzcGFjZXMgPyBpMThuLnJlcG9ydE5hbWVzcGFjZXMuZ2V0VXNlZE5hbWVzcGFjZXMoKSA6IFtdO1xuICBjb25zdCByZXQgPSB7fTtcbiAgY29uc3QgaW5pdGlhbEkxOG5TdG9yZSA9IHt9O1xuICBpMThuLmxhbmd1YWdlcy5mb3JFYWNoKGwgPT4ge1xuICAgIGluaXRpYWxJMThuU3RvcmVbbF0gPSB7fTtcbiAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgaW5pdGlhbEkxOG5TdG9yZVtsXVtuc10gPSBpMThuLmdldFJlc291cmNlQnVuZGxlKGwsIG5zKSB8fCB7fTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldC5pbml0aWFsSTE4blN0b3JlID0gaW5pdGlhbEkxOG5TdG9yZTtcbiAgcmV0LmluaXRpYWxMYW5ndWFnZSA9IGkxOG4ubGFuZ3VhZ2U7XG4gIHJldHVybiByZXQ7XG59OyIsImltcG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG5sZXQgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGJpbmRJMThuOiAnbGFuZ3VhZ2VDaGFuZ2VkJyxcbiAgYmluZEkxOG5TdG9yZTogJycsXG4gIHRyYW5zRW1wdHlOb2RlVmFsdWU6ICcnLFxuICB0cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlczogdHJ1ZSxcbiAgdHJhbnNXcmFwVGV4dE5vZGVzOiAnJyxcbiAgdHJhbnNLZWVwQmFzaWNIdG1sTm9kZXNGb3I6IFsnYnInLCAnc3Ryb25nJywgJ2knLCAncCddLFxuICB1c2VTdXNwZW5zZTogdHJ1ZSxcbiAgdW5lc2NhcGVcbn07XG5leHBvcnQgY29uc3Qgc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0cyA9ICgpID0+IGRlZmF1bHRPcHRpb25zOyIsImxldCBpMThuSW5zdGFuY2U7XG5leHBvcnQgY29uc3Qgc2V0STE4biA9IGluc3RhbmNlID0+IHtcbiAgaTE4bkluc3RhbmNlID0gaW5zdGFuY2U7XG59O1xuZXhwb3J0IGNvbnN0IGdldEkxOG4gPSAoKSA9PiBpMThuSW5zdGFuY2U7IiwiZXhwb3J0IHsgVHJhbnMgfSBmcm9tICcuL1RyYW5zLmpzJztcbmV4cG9ydCB7IFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuZXhwb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICcuL3VzZVRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IHdpdGhUcmFuc2xhdGlvbiB9IGZyb20gJy4vd2l0aFRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSAnLi9UcmFuc2xhdGlvbi5qcyc7XG5leHBvcnQgeyBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICcuL0kxOG5leHRQcm92aWRlci5qcyc7XG5leHBvcnQgeyB3aXRoU1NSIH0gZnJvbSAnLi93aXRoU1NSLmpzJztcbmV4cG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmV4cG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgc2V0RGVmYXVsdHMsIGdldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5leHBvcnQgeyBzZXRJMThuLCBnZXRJMThuIH0gZnJvbSAnLi9pMThuSW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgSTE4bkNvbnRleHQsIGNvbXBvc2VJbml0aWFsUHJvcHMsIGdldEluaXRpYWxQcm9wcyB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgY29uc3QgZGF0ZSA9ICgpID0+ICcnO1xuZXhwb3J0IGNvbnN0IHRpbWUgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBudW1iZXIgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3QgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBwbHVyYWwgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3RPcmRpbmFsID0gKCkgPT4gJyc7IiwiaW1wb3J0IHsgc2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IHNldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5leHBvcnQgY29uc3QgaW5pdFJlYWN0STE4bmV4dCA9IHtcbiAgdHlwZTogJzNyZFBhcnR5JyxcbiAgaW5pdChpbnN0YW5jZSkge1xuICAgIHNldERlZmF1bHRzKGluc3RhbmNlLm9wdGlvbnMucmVhY3QpO1xuICAgIHNldEkxOG4oaW5zdGFuY2UpO1xuICB9XG59OyIsImNvbnN0IG1hdGNoSHRtbEVudGl0eSA9IC8mKD86YW1wfCMzOHxsdHwjNjB8Z3R8IzYyfGFwb3N8IzM5fHF1b3R8IzM0fG5ic3B8IzE2MHxjb3B5fCMxNjl8cmVnfCMxNzR8aGVsbGlwfCM4MjMwfCN4MkZ8IzQ3KTsvZztcbmNvbnN0IGh0bWxFbnRpdGllcyA9IHtcbiAgJyZhbXA7JzogJyYnLFxuICAnJiMzODsnOiAnJicsXG4gICcmbHQ7JzogJzwnLFxuICAnJiM2MDsnOiAnPCcsXG4gICcmZ3Q7JzogJz4nLFxuICAnJiM2MjsnOiAnPicsXG4gICcmYXBvczsnOiBcIidcIixcbiAgJyYjMzk7JzogXCInXCIsXG4gICcmcXVvdDsnOiAnXCInLFxuICAnJiMzNDsnOiAnXCInLFxuICAnJm5ic3A7JzogJyAnLFxuICAnJiMxNjA7JzogJyAnLFxuICAnJmNvcHk7JzogJ8KpJyxcbiAgJyYjMTY5Oyc6ICfCqScsXG4gICcmcmVnOyc6ICfCricsXG4gICcmIzE3NDsnOiAnwq4nLFxuICAnJmhlbGxpcDsnOiAn4oCmJyxcbiAgJyYjODIzMDsnOiAn4oCmJyxcbiAgJyYjeDJGOyc6ICcvJyxcbiAgJyYjNDc7JzogJy8nXG59O1xuY29uc3QgdW5lc2NhcGVIdG1sRW50aXR5ID0gbSA9PiBodG1sRW50aXRpZXNbbV07XG5leHBvcnQgY29uc3QgdW5lc2NhcGUgPSB0ZXh0ID0+IHRleHQucmVwbGFjZShtYXRjaEh0bWxFbnRpdHksIHVuZXNjYXBlSHRtbEVudGl0eSk7IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldEkxOG4sIEkxOG5Db250ZXh0IH0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmV4cG9ydCBjb25zdCB1c2VTU1IgPSBmdW5jdGlvbiAoaW5pdGlhbEkxOG5TdG9yZSwgaW5pdGlhbExhbmd1YWdlKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dFxuICB9ID0gdXNlQ29udGV4dChJMThuQ29udGV4dCkgfHwge307XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGkxOG5Gcm9tQ29udGV4dCB8fCBnZXRJMThuKCk7XG4gIGlmIChpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLmlzQ2xvbmUpIHJldHVybjtcbiAgaWYgKGluaXRpYWxJMThuU3RvcmUgJiYgIWkxOG4uaW5pdGlhbGl6ZWRTdG9yZU9uY2UpIHtcbiAgICBpMThuLnNlcnZpY2VzLnJlc291cmNlU3RvcmUuZGF0YSA9IGluaXRpYWxJMThuU3RvcmU7XG4gICAgaTE4bi5vcHRpb25zLm5zID0gT2JqZWN0LnZhbHVlcyhpbml0aWFsSTE4blN0b3JlKS5yZWR1Y2UoKG1lbSwgbG5nUmVzb3VyY2VzKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhsbmdSZXNvdXJjZXMpLmZvckVhY2gobnMgPT4ge1xuICAgICAgICBpZiAobWVtLmluZGV4T2YobnMpIDwgMCkgbWVtLnB1c2gobnMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIGkxOG4ub3B0aW9ucy5ucyk7XG4gICAgaTE4bi5pbml0aWFsaXplZFN0b3JlT25jZSA9IHRydWU7XG4gICAgaTE4bi5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuICBpZiAoaW5pdGlhbExhbmd1YWdlICYmICFpMThuLmluaXRpYWxpemVkTGFuZ3VhZ2VPbmNlKSB7XG4gICAgaTE4bi5jaGFuZ2VMYW5ndWFnZShpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIGkxOG4uaW5pdGlhbGl6ZWRMYW5ndWFnZU9uY2UgPSB0cnVlO1xuICB9XG59OyIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRJMThuLCBnZXREZWZhdWx0cywgUmVwb3J0TmFtZXNwYWNlcywgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgd2Fybk9uY2UsIGxvYWROYW1lc3BhY2VzLCBsb2FkTGFuZ3VhZ2VzLCBoYXNMb2FkZWROYW1lc3BhY2UsIGlzU3RyaW5nLCBpc09iamVjdCB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgdXNlUHJldmlvdXMgPSAodmFsdWUsIGlnbm9yZSkgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGlnbm9yZSA/IHJlZi5jdXJyZW50IDogdmFsdWU7XG4gIH0sIFt2YWx1ZSwgaWdub3JlXSk7XG4gIHJldHVybiByZWYuY3VycmVudDtcbn07XG5jb25zdCBhbHdheXNOZXdUID0gKGkxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeCkgPT4gaTE4bi5nZXRGaXhlZFQobGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KTtcbmNvbnN0IHVzZU1lbW9pemVkVCA9IChpMThuLCBsYW5ndWFnZSwgbmFtZXNwYWNlLCBrZXlQcmVmaXgpID0+IHVzZUNhbGxiYWNrKGFsd2F5c05ld1QoaTE4biwgbGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KSwgW2kxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeF0pO1xuZXhwb3J0IGNvbnN0IHVzZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKG5zKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgaWYgKGkxOG4gJiYgIWkxOG4ucmVwb3J0TmFtZXNwYWNlcykgaTE4bi5yZXBvcnROYW1lc3BhY2VzID0gbmV3IFJlcG9ydE5hbWVzcGFjZXMoKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGluaXRSZWFjdEkxOG5leHQnKTtcbiAgICBjb25zdCBub3RSZWFkeVQgPSAoaywgb3B0c09yRGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNTdHJpbmcob3B0c09yRGVmYXVsdFZhbHVlKSkgcmV0dXJuIG9wdHNPckRlZmF1bHRWYWx1ZTtcbiAgICAgIGlmIChpc09iamVjdChvcHRzT3JEZWZhdWx0VmFsdWUpICYmIGlzU3RyaW5nKG9wdHNPckRlZmF1bHRWYWx1ZS5kZWZhdWx0VmFsdWUpKSByZXR1cm4gb3B0c09yRGVmYXVsdFZhbHVlLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGspID8ga1trLmxlbmd0aCAtIDFdIDogaztcbiAgICB9O1xuICAgIGNvbnN0IHJldE5vdFJlYWR5ID0gW25vdFJlYWR5VCwge30sIGZhbHNlXTtcbiAgICByZXROb3RSZWFkeS50ID0gbm90UmVhZHlUO1xuICAgIHJldE5vdFJlYWR5LmkxOG4gPSB7fTtcbiAgICByZXROb3RSZWFkeS5yZWFkeSA9IGZhbHNlO1xuICAgIHJldHVybiByZXROb3RSZWFkeTtcbiAgfVxuICBpZiAoaTE4bi5vcHRpb25zLnJlYWN0ICYmIGkxOG4ub3B0aW9ucy5yZWFjdC53YWl0ICE9PSB1bmRlZmluZWQpIHdhcm5PbmNlKCdJdCBzZWVtcyB5b3UgYXJlIHN0aWxsIHVzaW5nIHRoZSBvbGQgd2FpdCBvcHRpb24sIHlvdSBtYXkgbWlncmF0ZSB0byB0aGUgbmV3IHVzZVN1c3BlbnNlIGJlaGF2aW91ci4nKTtcbiAgY29uc3QgaTE4bk9wdGlvbnMgPSB7XG4gICAgLi4uZ2V0RGVmYXVsdHMoKSxcbiAgICAuLi5pMThuLm9wdGlvbnMucmVhY3QsXG4gICAgLi4ucHJvcHNcbiAgfTtcbiAgY29uc3Qge1xuICAgIHVzZVN1c3BlbnNlLFxuICAgIGtleVByZWZpeFxuICB9ID0gaTE4bk9wdGlvbnM7XG4gIGxldCBuYW1lc3BhY2VzID0gbnMgfHwgZGVmYXVsdE5TRnJvbUNvbnRleHQgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBpZiAoaTE4bi5yZXBvcnROYW1lc3BhY2VzLmFkZFVzZWROYW1lc3BhY2VzKSBpMThuLnJlcG9ydE5hbWVzcGFjZXMuYWRkVXNlZE5hbWVzcGFjZXMobmFtZXNwYWNlcyk7XG4gIGNvbnN0IHJlYWR5ID0gKGkxOG4uaXNJbml0aWFsaXplZCB8fCBpMThuLmluaXRpYWxpemVkU3RvcmVPbmNlKSAmJiBuYW1lc3BhY2VzLmV2ZXJ5KG4gPT4gaGFzTG9hZGVkTmFtZXNwYWNlKG4sIGkxOG4sIGkxOG5PcHRpb25zKSk7XG4gIGNvbnN0IG1lbW9HZXRUID0gdXNlTWVtb2l6ZWRUKGkxOG4sIHByb3BzLmxuZyB8fCBudWxsLCBpMThuT3B0aW9ucy5uc01vZGUgPT09ICdmYWxsYmFjaycgPyBuYW1lc3BhY2VzIDogbmFtZXNwYWNlc1swXSwga2V5UHJlZml4KTtcbiAgY29uc3QgZ2V0VCA9ICgpID0+IG1lbW9HZXRUO1xuICBjb25zdCBnZXROZXdUID0gKCkgPT4gYWx3YXlzTmV3VChpMThuLCBwcm9wcy5sbmcgfHwgbnVsbCwgaTE4bk9wdGlvbnMubnNNb2RlID09PSAnZmFsbGJhY2snID8gbmFtZXNwYWNlcyA6IG5hbWVzcGFjZXNbMF0sIGtleVByZWZpeCk7XG4gIGNvbnN0IFt0LCBzZXRUXSA9IHVzZVN0YXRlKGdldFQpO1xuICBsZXQgam9pbmVkTlMgPSBuYW1lc3BhY2VzLmpvaW4oKTtcbiAgaWYgKHByb3BzLmxuZykgam9pbmVkTlMgPSBgJHtwcm9wcy5sbmd9JHtqb2luZWROU31gO1xuICBjb25zdCBwcmV2aW91c0pvaW5lZE5TID0gdXNlUHJldmlvdXMoam9pbmVkTlMpO1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYodHJ1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYmluZEkxOG4sXG4gICAgICBiaW5kSTE4blN0b3JlXG4gICAgfSA9IGkxOG5PcHRpb25zO1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAoIXJlYWR5ICYmICF1c2VTdXNwZW5zZSkge1xuICAgICAgaWYgKHByb3BzLmxuZykge1xuICAgICAgICBsb2FkTGFuZ3VhZ2VzKGkxOG4sIHByb3BzLmxuZywgbmFtZXNwYWNlcywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkgc2V0VChnZXROZXdUKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSBzZXRUKGdldE5ld1QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlYWR5ICYmIHByZXZpb3VzSm9pbmVkTlMgJiYgcHJldmlvdXNKb2luZWROUyAhPT0gam9pbmVkTlMgJiYgaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgIHNldFQoZ2V0TmV3VCk7XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kUmVzZXQgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHNldFQoZ2V0TmV3VCk7XG4gICAgfTtcbiAgICBpZiAoYmluZEkxOG4gJiYgaTE4bikgaTE4bi5vbihiaW5kSTE4biwgYm91bmRSZXNldCk7XG4gICAgaWYgKGJpbmRJMThuU3RvcmUgJiYgaTE4bikgaTE4bi5zdG9yZS5vbihiaW5kSTE4blN0b3JlLCBib3VuZFJlc2V0KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlmIChiaW5kSTE4biAmJiBpMThuKSBiaW5kSTE4bi5zcGxpdCgnICcpLmZvckVhY2goZSA9PiBpMThuLm9mZihlLCBib3VuZFJlc2V0KSk7XG4gICAgICBpZiAoYmluZEkxOG5TdG9yZSAmJiBpMThuKSBiaW5kSTE4blN0b3JlLnNwbGl0KCcgJykuZm9yRWFjaChlID0+IGkxOG4uc3RvcmUub2ZmKGUsIGJvdW5kUmVzZXQpKTtcbiAgICB9O1xuICB9LCBbaTE4biwgam9pbmVkTlNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQgJiYgcmVhZHkpIHtcbiAgICAgIHNldFQoZ2V0VCk7XG4gICAgfVxuICB9LCBbaTE4biwga2V5UHJlZml4LCByZWFkeV0pO1xuICBjb25zdCByZXQgPSBbdCwgaTE4biwgcmVhZHldO1xuICByZXQudCA9IHQ7XG4gIHJldC5pMThuID0gaTE4bjtcbiAgcmV0LnJlYWR5ID0gcmVhZHk7XG4gIGlmIChyZWFkeSkgcmV0dXJuIHJldDtcbiAgaWYgKCFyZWFkeSAmJiAhdXNlU3VzcGVuc2UpIHJldHVybiByZXQ7XG4gIHRocm93IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGlmIChwcm9wcy5sbmcpIHtcbiAgICAgIGxvYWRMYW5ndWFnZXMoaTE4biwgcHJvcHMubG5nLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cbiAgfSk7XG59OyIsImV4cG9ydCBmdW5jdGlvbiB3YXJuKCkge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmdzWzBdKSkgYXJnc1swXSA9IGByZWFjdC1pMThuZXh0OjogJHthcmdzWzBdfWA7XG4gICAgY29uc29sZS53YXJuKC4uLmFyZ3MpO1xuICB9XG59XG5jb25zdCBhbHJlYWR5V2FybmVkID0ge307XG5leHBvcnQgZnVuY3Rpb24gd2Fybk9uY2UoKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkgJiYgYWxyZWFkeVdhcm5lZFthcmdzWzBdXSkgcmV0dXJuO1xuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFscmVhZHlXYXJuZWRbYXJnc1swXV0gPSBuZXcgRGF0ZSgpO1xuICB3YXJuKC4uLmFyZ3MpO1xufVxuY29uc3QgbG9hZGVkQ2xiID0gKGkxOG4sIGNiKSA9PiAoKSA9PiB7XG4gIGlmIChpMThuLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICBjYigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGluaXRpYWxpemVkID0gKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGkxOG4ub2ZmKCdpbml0aWFsaXplZCcsIGluaXRpYWxpemVkKTtcbiAgICAgIH0sIDApO1xuICAgICAgY2IoKTtcbiAgICB9O1xuICAgIGkxOG4ub24oJ2luaXRpYWxpemVkJywgaW5pdGlhbGl6ZWQpO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGxvYWROYW1lc3BhY2VzID0gKGkxOG4sIG5zLCBjYikgPT4ge1xuICBpMThuLmxvYWROYW1lc3BhY2VzKG5zLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5leHBvcnQgY29uc3QgbG9hZExhbmd1YWdlcyA9IChpMThuLCBsbmcsIG5zLCBjYikgPT4ge1xuICBpZiAoaXNTdHJpbmcobnMpKSBucyA9IFtuc107XG4gIG5zLmZvckVhY2gobiA9PiB7XG4gICAgaWYgKGkxOG4ub3B0aW9ucy5ucy5pbmRleE9mKG4pIDwgMCkgaTE4bi5vcHRpb25zLm5zLnB1c2gobik7XG4gIH0pO1xuICBpMThuLmxvYWRMYW5ndWFnZXMobG5nLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5jb25zdCBvbGRJMThuZXh0SGFzTG9hZGVkTmFtZXNwYWNlID0gZnVuY3Rpb24gKG5zLCBpMThuKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgY29uc3QgbG5nID0gaTE4bi5sYW5ndWFnZXNbMF07XG4gIGNvbnN0IGZhbGxiYWNrTG5nID0gaTE4bi5vcHRpb25zID8gaTE4bi5vcHRpb25zLmZhbGxiYWNrTG5nIDogZmFsc2U7XG4gIGNvbnN0IGxhc3RMbmcgPSBpMThuLmxhbmd1YWdlc1tpMThuLmxhbmd1YWdlcy5sZW5ndGggLSAxXTtcbiAgaWYgKGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHRydWU7XG4gIGNvbnN0IGxvYWROb3RQZW5kaW5nID0gKGwsIG4pID0+IHtcbiAgICBjb25zdCBsb2FkU3RhdGUgPSBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3Iuc3RhdGVbYCR7bH18JHtufWBdO1xuICAgIHJldHVybiBsb2FkU3RhdGUgPT09IC0xIHx8IGxvYWRTdGF0ZSA9PT0gMjtcbiAgfTtcbiAgaWYgKG9wdGlvbnMuYmluZEkxOG4gJiYgb3B0aW9ucy5iaW5kSTE4bi5pbmRleE9mKCdsYW5ndWFnZUNoYW5naW5nJykgPiAtMSAmJiBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvICYmICFsb2FkTm90UGVuZGluZyhpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvLCBucykpIHJldHVybiBmYWxzZTtcbiAgaWYgKGkxOG4uaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHJldHVybiB0cnVlO1xuICBpZiAoIWkxOG4uc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kIHx8IGkxOG4ub3B0aW9ucy5yZXNvdXJjZXMgJiYgIWkxOG4ub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykgcmV0dXJuIHRydWU7XG4gIGlmIChsb2FkTm90UGVuZGluZyhsbmcsIG5zKSAmJiAoIWZhbGxiYWNrTG5nIHx8IGxvYWROb3RQZW5kaW5nKGxhc3RMbmcsIG5zKSkpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IGNvbnN0IGhhc0xvYWRlZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIChucywgaTE4bikge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGlmICghaTE4bi5sYW5ndWFnZXMgfHwgIWkxOG4ubGFuZ3VhZ2VzLmxlbmd0aCkge1xuICAgIHdhcm5PbmNlKCdpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eScsIGkxOG4ubGFuZ3VhZ2VzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBpc05ld2VySTE4bmV4dCA9IGkxOG4ub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlICE9PSB1bmRlZmluZWQ7XG4gIGlmICghaXNOZXdlckkxOG5leHQpIHtcbiAgICByZXR1cm4gb2xkSTE4bmV4dEhhc0xvYWRlZE5hbWVzcGFjZShucywgaTE4biwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIGkxOG4uaGFzTG9hZGVkTmFtZXNwYWNlKG5zLCB7XG4gICAgbG5nOiBvcHRpb25zLmxuZyxcbiAgICBwcmVjaGVjazogKGkxOG5JbnN0YW5jZSwgbG9hZE5vdFBlbmRpbmcpID0+IHtcbiAgICAgIGlmIChvcHRpb25zLmJpbmRJMThuICYmIG9wdGlvbnMuYmluZEkxOG4uaW5kZXhPZignbGFuZ3VhZ2VDaGFuZ2luZycpID4gLTEgJiYgaTE4bkluc3RhbmNlLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuSW5zdGFuY2UuaXNMYW5ndWFnZUNoYW5naW5nVG8gJiYgIWxvYWROb3RQZW5kaW5nKGkxOG5JbnN0YW5jZS5pc0xhbmd1YWdlQ2hhbmdpbmdUbywgbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGlzcGxheU5hbWUgPSBDb21wb25lbnQgPT4gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8IChpc1N0cmluZyhDb21wb25lbnQpICYmIENvbXBvbmVudC5sZW5ndGggPiAwID8gQ29tcG9uZW50IDogJ1Vua25vd24nKTtcbmV4cG9ydCBjb25zdCBpc1N0cmluZyA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmltcG9ydCB7IGNvbXBvc2VJbml0aWFsUHJvcHMgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0RGlzcGxheU5hbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmV4cG9ydCBjb25zdCB3aXRoU1NSID0gKCkgPT4gZnVuY3Rpb24gRXh0ZW5kKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gSTE4bmV4dFdpdGhTU1IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBpbml0aWFsSTE4blN0b3JlLFxuICAgICAgaW5pdGlhbExhbmd1YWdlLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSBfcmVmO1xuICAgIHVzZVNTUihpbml0aWFsSTE4blN0b3JlLCBpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHtcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxuICBJMThuZXh0V2l0aFNTUi5nZXRJbml0aWFsUHJvcHMgPSBjb21wb3NlSW5pdGlhbFByb3BzKFdyYXBwZWRDb21wb25lbnQpO1xuICBJMThuZXh0V2l0aFNTUi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFNTUigke2dldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpfSlgO1xuICBJMThuZXh0V2l0aFNTUi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgcmV0dXJuIEkxOG5leHRXaXRoU1NSO1xufTsiLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmIGFzIGZvcndhcmRSZWZSZWFjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAnLi91c2VUcmFuc2xhdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXREaXNwbGF5TmFtZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChucykge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHJldHVybiBmdW5jdGlvbiBFeHRlbmQoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIEkxOG5leHRXaXRoVHJhbnNsYXRpb24oX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgZm9yd2FyZGVkUmVmLFxuICAgICAgICAuLi5yZXN0XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIGNvbnN0IFt0LCBpMThuLCByZWFkeV0gPSB1c2VUcmFuc2xhdGlvbihucywge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBrZXlQcmVmaXg6IG9wdGlvbnMua2V5UHJlZml4XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHBhc3NEb3duUHJvcHMgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIHQsXG4gICAgICAgIGkxOG4sXG4gICAgICAgIHRSZWFkeTogcmVhZHlcbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucy53aXRoUmVmICYmIGZvcndhcmRlZFJlZikge1xuICAgICAgICBwYXNzRG93blByb3BzLnJlZiA9IGZvcndhcmRlZFJlZjtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMud2l0aFJlZiAmJiBmb3J3YXJkZWRSZWYpIHtcbiAgICAgICAgcGFzc0Rvd25Qcm9wcy5mb3J3YXJkZWRSZWYgPSBmb3J3YXJkZWRSZWY7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBwYXNzRG93blByb3BzKTtcbiAgICB9XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFRyYW5zbGF0aW9uKCR7Z2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCl9KWA7XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgICBjb25zdCBmb3J3YXJkUmVmID0gKHByb3BzLCByZWYpID0+IGNyZWF0ZUVsZW1lbnQoSTE4bmV4dFdpdGhUcmFuc2xhdGlvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIGZvcndhcmRlZFJlZjogcmVmXG4gICAgfSkpO1xuICAgIHJldHVybiBvcHRpb25zLndpdGhSZWYgPyBmb3J3YXJkUmVmUmVhY3QoZm9yd2FyZFJlZikgOiBJMThuZXh0V2l0aFRyYW5zbGF0aW9uO1xuICB9O1xufTsiLCIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcobWV0aG9kTmFtZSwgaW5mbykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCIlcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlc1wiLFxuICAgICAgICAgICAgaW5mb1swXSxcbiAgICAgICAgICAgIGluZm9bMV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gbWF5YmVJdGVyYWJsZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBtYXliZUl0ZXJhYmxlID1cbiAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgIG1heWJlSXRlcmFibGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlSXRlcmFibGUgPyBtYXliZUl0ZXJhYmxlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIHB1YmxpY0luc3RhbmNlID1cbiAgICAgICAgKChwdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yKSAmJlxuICAgICAgICAgIChwdWJsaWNJbnN0YW5jZS5kaXNwbGF5TmFtZSB8fCBwdWJsaWNJbnN0YW5jZS5uYW1lKSkgfHxcbiAgICAgICAgXCJSZWFjdENsYXNzXCI7XG4gICAgICB2YXIgd2FybmluZ0tleSA9IHB1YmxpY0luc3RhbmNlICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgIGNsYXNzIHByb3BlcnR5IHdpdGggdGhlIGRlc2lyZWQgc3RhdGUgaW4gdGhlICVzIGNvbXBvbmVudC5cIixcbiAgICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICAgIHB1YmxpY0luc3RhbmNlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbiAgICBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhc2tOYW1lKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSByZXR1cm4gXCI8PlwiO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRVxuICAgICAgKVxuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHJldHVybiBuYW1lID8gXCI8XCIgKyBuYW1lICsgXCI+XCIgOiBcIjwuLi4+XCI7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmtub3duT3duZXIoKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KFxuICAgICAgdHlwZSxcbiAgICAgIGtleSxcbiAgICAgIHNlbGYsXG4gICAgICBzb3VyY2UsXG4gICAgICBvd25lcixcbiAgICAgIHByb3BzLFxuICAgICAgZGVidWdTdGFjayxcbiAgICAgIGRlYnVnVGFza1xuICAgICkge1xuICAgICAgc2VsZiA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSBzZWxmID8gc2VsZiA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnU3RhY2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdTdGFja1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdUYXNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnVGFza1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgICBuZXdLZXkgPSBSZWFjdEVsZW1lbnQoXG4gICAgICAgIG9sZEVsZW1lbnQudHlwZSxcbiAgICAgICAgbmV3S2V5LFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgb2xkRWxlbWVudC5fb3duZXIsXG4gICAgICAgIG9sZEVsZW1lbnQucHJvcHMsXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnU3RhY2ssXG4gICAgICAgIG9sZEVsZW1lbnQuX2RlYnVnVGFza1xuICAgICAgKTtcbiAgICAgIG9sZEVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgIChuZXdLZXkuX3N0b3JlLnZhbGlkYXRlZCA9IG9sZEVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCk7XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gICAgICB2YXIgZXNjYXBlckxvb2t1cCA9IHsgXCI9XCI6IFwiPTBcIiwgXCI6XCI6IFwiPTJcIiB9O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCIkXCIgK1xuICAgICAgICBrZXkucmVwbGFjZSgvWz06XS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFbGVtZW50S2V5KGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPT0gZWxlbWVudCAmJlxuICAgICAgICBudWxsICE9IGVsZW1lbnQua2V5XG4gICAgICAgID8gKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oZWxlbWVudC5rZXkpLCBlc2NhcGUoXCJcIiArIGVsZW1lbnQua2V5KSlcbiAgICAgICAgOiBpbmRleC50b1N0cmluZygzNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMSgpIHt9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzXG4gICAgICAgICAgICAgID8gdGhlbmFibGUudGhlbihub29wJDEsIG5vb3AkMSlcbiAgICAgICAgICAgICAgOiAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicGVuZGluZ1wiKSxcbiAgICAgICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGZ1bGZpbGxlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS52YWx1ZSA9IGZ1bGZpbGxlZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgKHRoZW5hYmxlLnJlYXNvbiA9IGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB0aGVuYWJsZS5zdGF0dXMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcEludG9BcnJheShjaGlsZHJlbiwgYXJyYXksIGVzY2FwZWRQcmVmaXgsIG5hbWVTb0ZhciwgY2FsbGJhY2spIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGUgfHwgXCJib29sZWFuXCIgPT09IHR5cGUpIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZhciBpbnZva2VDYWxsYmFjayA9ICExO1xuICAgICAgaWYgKG51bGwgPT09IGNoaWxkcmVuKSBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbi5faW5pdCksXG4gICAgICAgICAgICAgICAgICBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrKGNoaWxkcmVuLl9wYXlsb2FkKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbjtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayhpbnZva2VDYWxsYmFjayk7XG4gICAgICAgIHZhciBjaGlsZEtleSA9XG4gICAgICAgICAgXCJcIiA9PT0gbmFtZVNvRmFyID8gXCIuXCIgKyBnZXRFbGVtZW50S2V5KGludm9rZUNhbGxiYWNrLCAwKSA6IG5hbWVTb0ZhcjtcbiAgICAgICAgaXNBcnJheUltcGwoY2FsbGJhY2spXG4gICAgICAgICAgPyAoKGVzY2FwZWRQcmVmaXggPSBcIlwiKSxcbiAgICAgICAgICAgIG51bGwgIT0gY2hpbGRLZXkgJiZcbiAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXggPVxuICAgICAgICAgICAgICAgIGNoaWxkS2V5LnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsIFwiJCYvXCIpICsgXCIvXCIpLFxuICAgICAgICAgICAgbWFwSW50b0FycmF5KGNhbGxiYWNrLCBhcnJheSwgZXNjYXBlZFByZWZpeCwgXCJcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IG51bGwgIT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIChpc1ZhbGlkRWxlbWVudChjYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gY2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgKChpbnZva2VDYWxsYmFjayAmJiBpbnZva2VDYWxsYmFjay5rZXkgPT09IGNhbGxiYWNrLmtleSkgfHxcbiAgICAgICAgICAgICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY2FsbGJhY2sua2V5KSksXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID0gY2xvbmVBbmRSZXBsYWNlS2V5KFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXggK1xuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY2FsbGJhY2sua2V5IHx8XG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpXG4gICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICA6IChcIlwiICsgY2FsbGJhY2sua2V5KS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiQmL1wiXG4gICAgICAgICAgICAgICAgICAgICAgKSArIFwiL1wiKSArXG4gICAgICAgICAgICAgICAgICBjaGlsZEtleVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgXCJcIiAhPT0gbmFtZVNvRmFyICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBpbnZva2VDYWxsYmFjayAmJlxuICAgICAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGludm9rZUNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgPT0gaW52b2tlQ2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2suX3N0b3JlICYmXG4gICAgICAgICAgICAgICAgIWludm9rZUNhbGxiYWNrLl9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeC5fc3RvcmUudmFsaWRhdGVkID0gMiksXG4gICAgICAgICAgICAgIChjYWxsYmFjayA9IGVzY2FwZWRQcmVmaXgpKSxcbiAgICAgICAgICAgIGFycmF5LnB1c2goY2FsbGJhY2spKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpbnZva2VDYWxsYmFjayA9IDA7XG4gICAgICBjaGlsZEtleSA9IFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiIDogbmFtZVNvRmFyICsgXCI6XCI7XG4gICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBjaGlsZHJlbltpXSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkpKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKCgoaSA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSkpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaSA9PT0gY2hpbGRyZW4uZW50cmllcyAmJlxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgfHxcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyA9ICEwKSksXG4gICAgICAgICAgICBjaGlsZHJlbiA9IGkuY2FsbChjaGlsZHJlbiksXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAhKG5hbWVTb0ZhciA9IGNoaWxkcmVuLm5leHQoKSkuZG9uZTtcblxuICAgICAgICApXG4gICAgICAgICAgKG5hbWVTb0ZhciA9IG5hbWVTb0Zhci52YWx1ZSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkrKykpLFxuICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICs9IG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICkpO1xuICAgICAgZWxzZSBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZSkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2hpbGRyZW4udGhlbilcbiAgICAgICAgICByZXR1cm4gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgcmVzb2x2ZVRoZW5hYmxlKGNoaWxkcmVuKSxcbiAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKTtcbiAgICAgICAgYXJyYXkgPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgK1xuICAgICAgICAgICAgKFwiW29iamVjdCBPYmplY3RdXCIgPT09IGFycmF5XG4gICAgICAgICAgICAgID8gXCJvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgICA6IGFycmF5KSArXG4gICAgICAgICAgICBcIikuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgICAgaWYgKG51bGwgPT0gY2hpbGRyZW4pIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgbWFwSW50b0FycmF5KGNoaWxkcmVuLCByZXN1bHQsIFwiXCIsIFwiXCIsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBjb3VudCsrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGF6eUluaXRpYWxpemVyKHBheWxvYWQpIHtcbiAgICAgIGlmICgtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgIHZhciBjdG9yID0gcGF5bG9hZC5fcmVzdWx0O1xuICAgICAgICBjdG9yID0gY3RvcigpO1xuICAgICAgICBjdG9yLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKG1vZHVsZU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMSksIChwYXlsb2FkLl9yZXN1bHQgPSBtb2R1bGVPYmplY3QpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgICAgICAgIChwYXlsb2FkLl9zdGF0dXMgPSAyKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIC0xID09PSBwYXlsb2FkLl9zdGF0dXMgJiZcbiAgICAgICAgICAoKHBheWxvYWQuX3N0YXR1cyA9IDApLCAocGF5bG9hZC5fcmVzdWx0ID0gY3RvcikpO1xuICAgICAgfVxuICAgICAgaWYgKDEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoY3RvciA9IHBheWxvYWQuX3Jlc3VsdCksXG4gICAgICAgICAgdm9pZCAwID09PSBjdG9yICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVxcblxcbkRpZCB5b3UgYWNjaWRlbnRhbGx5IHB1dCBjdXJseSBicmFjZXMgYXJvdW5kIHRoZSBpbXBvcnQ/XCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXCJkZWZhdWx0XCIgaW4gY3RvciB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcIixcbiAgICAgICAgICAgICAgY3RvclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBjdG9yLmRlZmF1bHRcbiAgICAgICAgKTtcbiAgICAgIHRocm93IHBheWxvYWQuX3Jlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVGFzayh0YXNrKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZW5xdWV1ZVRhc2tJbXBsKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXF1aXJlU3RyaW5nID0gKFwicmVxdWlyZVwiICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMCwgNyk7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gKG1vZHVsZSAmJiBtb2R1bGVbcmVxdWlyZVN0cmluZ10pLmNhbGwoXG4gICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICBcInRpbWVyc1wiXG4gICAgICAgICAgKS5zZXRJbW1lZGlhdGU7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICBlbnF1ZXVlVGFza0ltcGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICExID09PSBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCAmJlxuICAgICAgICAgICAgICAoKGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITApLFxuICAgICAgICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBhIE1lc3NhZ2VDaGFubmVsIGltcGxlbWVudGF0aW9uLCBzbyBlbnF1ZXVpbmcgdGFza3MgdmlhIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pIHdpbGwgZmFpbC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3VlcyBpZiB5b3UgZW5jb3VudGVyIHRoaXMgd2FybmluZy5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKHZvaWQgMCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIGVucXVldWVUYXNrSW1wbCh0YXNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWdncmVnYXRlRXJyb3JzKGVycm9ycykge1xuICAgICAgcmV0dXJuIDEgPCBlcnJvcnMubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yXG4gICAgICAgID8gbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycylcbiAgICAgICAgOiBlcnJvcnNbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgIHByZXZBY3RTY29wZURlcHRoICE9PSBhY3RTY29wZURlcHRoIC0gMSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHNlZW0gdG8gaGF2ZSBvdmVybGFwcGluZyBhY3QoKSBjYWxscywgdGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBCZSBzdXJlIHRvIGF3YWl0IHByZXZpb3VzIGFjdCgpIGNhbGxzIGJlZm9yZSBtYWtpbmcgYSBuZXcgb25lLiBcIlxuICAgICAgICApO1xuICAgICAgYWN0U2NvcGVEZXB0aCA9IHByZXZBY3RTY29wZURlcHRoO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBxdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKVxuICAgICAgICBpZiAoMCAhPT0gcXVldWUubGVuZ3RoKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKTtcbiAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGw7XG4gICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICA/ICgocXVldWUgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICByZWplY3QocXVldWUpKVxuICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgICAgaXNGbHVzaGluZyA9ICEwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UgPSAhMTtcbiAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbiA9IGNhbGxiYWNrKCExKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGNvbnRpbnVhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICBxdWV1ZVtpXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGNvbnRpbnVhdGlvbjtcbiAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkgKyAxKSwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzRmx1c2hpbmcgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX0FDVElWSVRZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuYWN0aXZpdHlcIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fSxcbiAgICAgIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInJlcGxhY2VTdGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJzZXRTdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBlbXB0eU9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBudWxsICE9IHBhcnRpYWxTdGF0ZVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcInRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiXG4gICAgICAgICk7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIFwic2V0U3RhdGVcIik7XG4gICAgfTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgIH07XG4gICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgICBpc01vdW50ZWQ6IFtcbiAgICAgICAgICBcImlzTW91bnRlZFwiLFxuICAgICAgICAgIFwiSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXCJcbiAgICAgICAgXSxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBbXG4gICAgICAgICAgXCJyZXBsYWNlU3RhdGVcIixcbiAgICAgICAgICBcIlJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuXCJcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGZuTmFtZTtcbiAgICBmb3IgKGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcylcbiAgICAgIGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkgJiZcbiAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgQ29tcG9uZW50RHVtbXkucHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7XG4gICAgZGVwcmVjYXRlZEFQSXMuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50O1xuICAgIGFzc2lnbihkZXByZWNhdGVkQVBJcywgQ29tcG9uZW50LnByb3RvdHlwZSk7XG4gICAgZGVwcmVjYXRlZEFQSXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSAhMDtcbiAgICB2YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSB7XG4gICAgICAgIEg6IG51bGwsXG4gICAgICAgIEE6IG51bGwsXG4gICAgICAgIFQ6IG51bGwsXG4gICAgICAgIFM6IG51bGwsXG4gICAgICAgIFY6IG51bGwsXG4gICAgICAgIGFjdFF1ZXVlOiBudWxsLFxuICAgICAgICBpc0JhdGNoaW5nTGVnYWN5OiAhMSxcbiAgICAgICAgZGlkU2NoZWR1bGVMZWdhY3lVcGRhdGU6ICExLFxuICAgICAgICBkaWRVc2VQcm9taXNlOiAhMSxcbiAgICAgICAgdGhyb3duRXJyb3JzOiBbXSxcbiAgICAgICAgZ2V0Q3VycmVudFN0YWNrOiBudWxsLFxuICAgICAgICByZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrczogMFxuICAgICAgfSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIGNyZWF0ZVRhc2sgPSBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgPyBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9O1xuICAgIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLCBkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBkZXByZWNhdGVkQVBJc1tcbiAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICBdLmJpbmQoZGVwcmVjYXRlZEFQSXMsIFVua25vd25Pd25lcikoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0TWFwcyA9ICExLFxuICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nLFxuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXBvcnRFcnJvclxuICAgICAgICAgID8gcmVwb3J0RXJyb3JcbiAgICAgICAgICA6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHdpbmRvdy5FcnJvckV2ZW50XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuRXJyb3JFdmVudChcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9jZXNzLmVtaXRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICExLFxuICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gbnVsbCxcbiAgICAgIGFjdFNjb3BlRGVwdGggPSAwLFxuICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgPSAhMSxcbiAgICAgIGlzRmx1c2hpbmcgPSAhMSxcbiAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgID8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWVNaWNyb3Rhc2soY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IGVucXVldWVUYXNrO1xuICAgIGRlcHJlY2F0ZWRBUElzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICBjOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZXhwb3J0cy5DaGlsZHJlbiA9IHtcbiAgICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgICBmb3JFYWNoOiBmdW5jdGlvbiAoY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgICAgICBtYXBDaGlsZHJlbihcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3JFYWNoRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9yRWFjaENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjb3VudDogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0sXG4gICAgICB0b0FycmF5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvbmx5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gICAgZXhwb3J0cy5QdXJlQ29tcG9uZW50ID0gUHVyZUNvbXBvbmVudDtcbiAgICBleHBvcnRzLlN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgIGV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIGV4cG9ydHMuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuX19DT01QSUxFUl9SVU5USU1FID0gZGVwcmVjYXRlZEFQSXM7XG4gICAgZXhwb3J0cy5hY3QgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBwcmV2QWN0UXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSxcbiAgICAgICAgcHJldkFjdFNjb3BlRGVwdGggPSBhY3RTY29wZURlcHRoO1xuICAgICAgYWN0U2NvcGVEZXB0aCsrO1xuICAgICAgdmFyIHF1ZXVlID0gKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID1cbiAgICAgICAgICBudWxsICE9PSBwcmV2QWN0UXVldWUgPyBwcmV2QWN0UXVldWUgOiBbXSksXG4gICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICExO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAocG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCksXG4gICAgICAgICAgKGNhbGxiYWNrID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgY2FsbGJhY2spXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHJlc3VsdCAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmVzdWx0ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3VsdC50aGVuXG4gICAgICApIHtcbiAgICAgICAgdmFyIHRoZW5hYmxlID0gcmVzdWx0O1xuICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0IHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgY2FsbGVkIGFjdChhc3luYyAoKSA9PiAuLi4pIHdpdGhvdXQgYXdhaXQuIFRoaXMgY291bGQgbGVhZCB0byB1bmV4cGVjdGVkIHRlc3RpbmcgYmVoYXZpb3VyLCBpbnRlcmxlYXZpbmcgbXVsdGlwbGUgYWN0IGNhbGxzIGFuZCBtaXhpbmcgdGhlaXIgc2NvcGVzLiBZb3Ugc2hvdWxkIC0gYXdhaXQgYWN0KGFzeW5jICgpID0+IC4uLik7XCJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBwcmV2QWN0U2NvcGVEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvciQwKSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yJDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhyb3duRXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoX3Rocm93bkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICA/ICgoZXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpKVxuICAgICAgICAgICAgICAgICAgOiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciByZXR1cm5WYWx1ZSRqc2NvbXAkMCA9IHJlc3VsdDtcbiAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgMCA9PT0gcHJldkFjdFNjb3BlRGVwdGggJiZcbiAgICAgICAgKGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAwICE9PSBxdWV1ZS5sZW5ndGggJiZcbiAgICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCB8fFxuICAgICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgc3VzcGVuZGVkIGluc2lkZSBhbiBgYWN0YCBzY29wZSwgYnV0IHRoZSBgYWN0YCBjYWxsIHdhcyBub3QgYXdhaXRlZC4gV2hlbiB0ZXN0aW5nIFJlYWN0IGNvbXBvbmVudHMgdGhhdCBkZXBlbmQgb24gYXN5bmNocm9ub3VzIGRhdGEsIHlvdSBtdXN0IGF3YWl0IHRoZSByZXN1bHQ6XFxuXFxuYXdhaXQgYWN0KCgpID0+IC4uLilcIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gbnVsbCkpO1xuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICEwO1xuICAgICAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoXG4gICAgICAgICAgICA/ICgoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBxdWV1ZSksXG4gICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhcbiAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlJGpzY29tcCQwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FjaGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FwdHVyZU93bmVyU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZ2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGdldEN1cnJlbnRTdGFjayA/IG51bGwgOiBnZXRDdXJyZW50U3RhY2soKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09PSBlbGVtZW50IHx8IHZvaWQgMCA9PT0gZWxlbWVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICtcbiAgICAgICAgICAgIGVsZW1lbnQgK1xuICAgICAgICAgICAgXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyksXG4gICAgICAgIGtleSA9IGVsZW1lbnQua2V5LFxuICAgICAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJyZWZcIikgJiZcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgIFwicmVmXCJcbiAgICAgICAgICAgICkuZ2V0KSAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmlzUmVhY3RXYXJuaW5nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IHZvaWQgMCAhPT0gY29uZmlnLnJlZjtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiYgKG93bmVyID0gZ2V0T3duZXIoKSk7XG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGtleSA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpIHx8XG4gICAgICAgICAgICBcImtleVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NlbGZcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIChcInJlZlwiID09PSBwcm9wTmFtZSAmJiB2b2lkIDAgPT09IGNvbmZpZy5yZWYpIHx8XG4gICAgICAgICAgICAocHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBwcm9wTmFtZSkgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBwcm9wTmFtZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBBcnJheShwcm9wTmFtZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcE5hbWU7IGkrKylcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBlbGVtZW50LnR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIG93bmVyLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgZWxlbWVudC5fZGVidWdTdGFjayxcbiAgICAgICAgZWxlbWVudC5fZGVidWdUYXNrXG4gICAgICApO1xuICAgICAgZm9yIChrZXkgPSAyOyBrZXkgPCBhcmd1bWVudHMubGVuZ3RoOyBrZXkrKylcbiAgICAgICAgKG93bmVyID0gYXJndW1lbnRzW2tleV0pLFxuICAgICAgICAgIGlzVmFsaWRFbGVtZW50KG93bmVyKSAmJiBvd25lci5fc3RvcmUgJiYgKG93bmVyLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfY3VycmVudFZhbHVlMjogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDAsXG4gICAgICAgIFByb3ZpZGVyOiBudWxsLFxuICAgICAgICBDb25zdW1lcjogbnVsbFxuICAgICAgfTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Qcm92aWRlciA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Db25zdW1lciA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlNVTUVSX1RZUEUsXG4gICAgICAgIF9jb250ZXh0OiBkZWZhdWx0VmFsdWVcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlciA9IG51bGw7XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlcjIgPSBudWxsO1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZSkgJiYgbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgfVxuICAgICAgaSA9IHt9O1xuICAgICAgbm9kZSA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgfHxcbiAgICAgICAgICAhKFwiX19zZWxmXCIgaW4gY29uZmlnKSB8fFxuICAgICAgICAgIFwia2V5XCIgaW4gY29uZmlnIHx8XG4gICAgICAgICAgKChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lID0gITApLFxuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiWW91ciBhcHAgKG9yIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzKSBpcyB1c2luZyBhbiBvdXRkYXRlZCBKU1ggdHJhbnNmb3JtLiBVcGRhdGUgdG8gdGhlIG1vZGVybiBKU1ggdHJhbnNmb3JtIGZvciBmYXN0ZXIgcGVyZm9ybWFuY2U6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbmV3LWpzeC10cmFuc2Zvcm1cIlxuICAgICAgICAgICkpLFxuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChub2RlID0gXCJcIiArIGNvbmZpZy5rZXkpKSxcbiAgICAgICAgY29uZmlnKSlcbiAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmXG4gICAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NlbGZcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIChpW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gY2hpbGRyZW5MZW5ndGgpIGkuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBjaGlsZHJlbkxlbmd0aCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpLCBfaSA9IDA7XG4gICAgICAgICAgX2kgPCBjaGlsZHJlbkxlbmd0aDtcbiAgICAgICAgICBfaSsrXG4gICAgICAgIClcbiAgICAgICAgICBjaGlsZEFycmF5W19pXSA9IGFyZ3VtZW50c1tfaSArIDJdO1xuICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRBcnJheSk7XG4gICAgICAgIGkuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKChjaGlsZHJlbkxlbmd0aCA9IHR5cGUuZGVmYXVsdFByb3BzKSwgY2hpbGRyZW5MZW5ndGgpKVxuICAgICAgICAgIHZvaWQgMCA9PT0gaVtwcm9wTmFtZV0gJiYgKGlbcHJvcE5hbWVdID0gY2hpbGRyZW5MZW5ndGhbcHJvcE5hbWVdKTtcbiAgICAgIG5vZGUgJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgaSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wTmFtZSA9IDFlNCA+IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnJlY2VudGx5Q3JlYXRlZE93bmVyU3RhY2tzKys7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBub2RlLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgZ2V0T3duZXIoKSxcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcE5hbWUgPyBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKSA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHByb3BOYW1lID8gY3JlYXRlVGFzayhnZXRUYXNrTmFtZSh0eXBlKSkgOiB1bmtub3duT3duZXJEZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZVJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZWZPYmplY3QgPSB7IGN1cnJlbnQ6IG51bGwgfTtcbiAgICAgIE9iamVjdC5zZWFsKHJlZk9iamVjdCk7XG4gICAgICByZXR1cm4gcmVmT2JqZWN0O1xuICAgIH07XG4gICAgZXhwb3J0cy5mb3J3YXJkUmVmID0gZnVuY3Rpb24gKHJlbmRlcikge1xuICAgICAgbnVsbCAhPSByZW5kZXIgJiYgcmVuZGVyLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEVcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCByZWNlaXZlZCBhIGBtZW1vYCBjb21wb25lbnQuIEluc3RlYWQgb2YgZm9yd2FyZFJlZihtZW1vKC4uLikpLCB1c2UgbWVtbyhmb3J3YXJkUmVmKC4uLikpLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlbmRlclxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuXCIsXG4gICAgICAgICAgICAgIG51bGwgPT09IHJlbmRlciA/IFwibnVsbFwiIDogdHlwZW9mIHJlbmRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogMCAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgMiAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgYWNjZXB0IGV4YWN0bHkgdHdvIHBhcmFtZXRlcnM6IHByb3BzIGFuZCByZWYuICVzXCIsXG4gICAgICAgICAgICAgIDEgPT09IHJlbmRlci5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IFwiRGlkIHlvdSBmb3JnZXQgdG8gdXNlIHRoZSByZWYgcGFyYW1ldGVyP1wiXG4gICAgICAgICAgICAgICAgOiBcIkFueSBhZGRpdGlvbmFsIHBhcmFtZXRlciB3aWxsIGJlIHVuZGVmaW5lZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmXG4gICAgICAgIG51bGwgIT0gcmVuZGVyLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGRvIG5vdCBzdXBwb3J0IGRlZmF1bHRQcm9wcy4gRGlkIHlvdSBhY2NpZGVudGFsbHkgcGFzcyBhIFJlYWN0IGNvbXBvbmVudD9cIlxuICAgICAgICApO1xuICAgICAgdmFyIGVsZW1lbnRUeXBlID0geyAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSwgcmVuZGVyOiByZW5kZXIgfSxcbiAgICAgICAgb3duTmFtZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50VHlwZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHJlbmRlci5uYW1lIHx8XG4gICAgICAgICAgICByZW5kZXIuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkocmVuZGVyLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgIChyZW5kZXIuZGlzcGxheU5hbWUgPSBuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnRUeXBlO1xuICAgIH07XG4gICAgZXhwb3J0cy5pc1ZhbGlkRWxlbWVudCA9IGlzVmFsaWRFbGVtZW50O1xuICAgIGV4cG9ydHMubGF6eSA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgICAgICBfcGF5bG9hZDogeyBfc3RhdHVzOiAtMSwgX3Jlc3VsdDogY3RvciB9LFxuICAgICAgICBfaW5pdDogbGF6eUluaXRpYWxpemVyXG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5tZW1vID0gZnVuY3Rpb24gKHR5cGUsIGNvbXBhcmUpIHtcbiAgICAgIG51bGwgPT0gdHlwZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwibWVtbzogVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBjb21wb25lbnQuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXCIsXG4gICAgICAgICAgbnVsbCA9PT0gdHlwZSA/IFwibnVsbFwiIDogdHlwZW9mIHR5cGVcbiAgICAgICAgKTtcbiAgICAgIGNvbXBhcmUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9NRU1PX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvbXBhcmU6IHZvaWQgMCA9PT0gY29tcGFyZSA/IG51bGwgOiBjb21wYXJlXG4gICAgICB9O1xuICAgICAgdmFyIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcGFyZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHR5cGUubmFtZSB8fFxuICAgICAgICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgICh0eXBlLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb21wYXJlO1xuICAgIH07XG4gICAgZXhwb3J0cy5zdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHNjb3BlKCksXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiAmJlxuICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4obm9vcCwgcmVwb3J0R2xvYmFsRXJyb3IpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICgoc2NvcGUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgIDEwIDwgc2NvcGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3VzZUNhY2hlUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUNhY2hlUmVmcmVzaCgpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2UgPSBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2UodXNhYmxlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQWN0aW9uU3RhdGUoXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgICBwZXJtYWxpbmtcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNvbnRleHQgPSBmdW5jdGlvbiAoQ29udGV4dCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICAgICAgQ29udGV4dC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FsbGluZyB1c2VDb250ZXh0KENvbnRleHQuQ29uc3VtZXIpIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgY2F1c2UgYnVncy4gRGlkIHlvdSBtZWFuIHRvIGNhbGwgdXNlQ29udGV4dChDb250ZXh0KSBpbnN0ZWFkP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRGVidWdWYWx1ZSh2YWx1ZSwgZm9ybWF0dGVyRm4pO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWZlcnJlZFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGNyZWF0ZURlcHMsIHVwZGF0ZSkge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB1cGRhdGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwidXNlRWZmZWN0IENSVUQgb3ZlcmxvYWQgaXMgbm90IGVuYWJsZWQgaW4gdGhpcyBidWlsZCBvZiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXIudXNlRWZmZWN0KGNyZWF0ZSwgY3JlYXRlRGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSWQoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSW1wZXJhdGl2ZUhhbmRsZSA9IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUluc2VydGlvbkVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIG51bGwgPT0gY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlJlYWN0IEhvb2sgdXNlSW5zZXJ0aW9uRWZmZWN0IHJlcXVpcmVzIGFuIGVmZmVjdCBjYWxsYmFjay4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyBhIGNhbGxiYWNrIHRvIHRoZSBob29rP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbnNlcnRpb25FZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VMYXlvdXRFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VNZW1vID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVkdWNlciA9IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWYgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3RhdGUgPSBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IGZ1bmN0aW9uIChcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVRyYW5zaXRpb24oKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMS4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwidmFyIFNNQUxMX1dPUkRTID0gL1xcYig/OmFuP2Q/fGFbc3RdfGJlY2F1c2V8YnV0fGJ5fGVufGZvcnxpW2ZuXXxuZWl0aGVyfG5vcnxvW2Zucl18b25seXxvdmVyfHBlcnxzb3xzb21lfHRoYVt0bl18dGhlfHRvfHVwfHVwb258dnM/XFwuP3x2ZXJzdXN8dmlhfHdoZW58d2l0aHx3aXRob3V0fHlldClcXGIvaTtcbnZhciBUT0tFTlMgPSAvW15cXHM64oCT4oCULV0rfC4vZztcbnZhciBXSElURVNQQUNFID0gL1xccy87XG52YXIgSVNfTUFOVUFMX0NBU0UgPSAvLig/PVtBLVpdfFxcLi4pLztcbnZhciBBTFBIQU5VTUVSSUNfUEFUVEVSTiA9IC9bQS1aYS16MC05XFx1MDBDMC1cXHUwMEZGXS87XG5leHBvcnQgZnVuY3Rpb24gdGl0bGVDYXNlKGlucHV0KSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgdmFyIG07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChtID0gVE9LRU5TLmV4ZWMoaW5wdXQpKSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgdG9rZW4gPSBtWzBdLCBpbmRleCA9IG0uaW5kZXg7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gSWdub3JlIGFscmVhZHkgY2FwaXRhbGl6ZWQgd29yZHMuXG4gICAgICAgICFJU19NQU5VQUxfQ0FTRS50ZXN0KHRva2VuKSAmJlxuICAgICAgICAgICAgLy8gSWdub3JlIHNtYWxsIHdvcmRzIGV4Y2VwdCBhdCBiZWdpbm5pbmcgb3IgZW5kLlxuICAgICAgICAgICAgKCFTTUFMTF9XT1JEUy50ZXN0KHRva2VuKSB8fFxuICAgICAgICAgICAgICAgIGluZGV4ID09PSAwIHx8XG4gICAgICAgICAgICAgICAgaW5kZXggKyB0b2tlbi5sZW5ndGggPT09IGlucHV0Lmxlbmd0aCkgJiZcbiAgICAgICAgICAgIC8vIElnbm9yZSBVUkxzLlxuICAgICAgICAgICAgKGlucHV0LmNoYXJBdChpbmRleCArIHRva2VuLmxlbmd0aCkgIT09IFwiOlwiIHx8XG4gICAgICAgICAgICAgICAgV0hJVEVTUEFDRS50ZXN0KGlucHV0LmNoYXJBdChpbmRleCArIHRva2VuLmxlbmd0aCArIDEpKSkpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgYW5kIHVwcGVyY2FzZSBmaXJzdCB3b3JkIGNoYXJhY3Rlciwgc2tpcHMgb3ZlciAqbW9kaWZpZXJzKi5cbiAgICAgICAgICAgIHJlc3VsdCArPSB0b2tlbi5yZXBsYWNlKEFMUEhBTlVNRVJJQ19QQVRURVJOLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbS50b1VwcGVyQ2FzZSgpOyB9KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSB0b2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogVGhpcyBmaWxlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZyb20gYHByZS1wdWJsaXNoLmpzYC5cbiAqIERvIG5vdCBtYW51YWxseSBlZGl0LlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBcImFyZWFcIjogdHJ1ZSxcbiAgXCJiYXNlXCI6IHRydWUsXG4gIFwiYnJcIjogdHJ1ZSxcbiAgXCJjb2xcIjogdHJ1ZSxcbiAgXCJlbWJlZFwiOiB0cnVlLFxuICBcImhyXCI6IHRydWUsXG4gIFwiaW1nXCI6IHRydWUsXG4gIFwiaW5wdXRcIjogdHJ1ZSxcbiAgXCJsaW5rXCI6IHRydWUsXG4gIFwibWV0YVwiOiB0cnVlLFxuICBcInBhcmFtXCI6IHRydWUsXG4gIFwic291cmNlXCI6IHRydWUsXG4gIFwidHJhY2tcIjogdHJ1ZSxcbiAgXCJ3YnJcIjogdHJ1ZVxufTtcbiIsImltcG9ydCB0eXBlIE9wZW5GaW4gZnJvbSBcIkBvcGVuZmluL2NvcmVcIjtcbmltcG9ydCB0eXBlIHsgQXBwLCBBcHBJbnRlbnQgfSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlXCI7XG5pbXBvcnQgeyBBcHBNYW5pZmVzdFR5cGUsIGdldEN1cnJlbnRTeW5jIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybVwiO1xuaW1wb3J0IHR5cGUgeyBBcHBQcm92aWRlclNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmxldCBsYXN0Q2FjaGVVcGRhdGU6IG51bWJlciA9IDA7XG5sZXQgY2FjaGVkQXBwczogQXBwW10gPSBbXTtcblxuLyoqXG4gKiBMb2FkIHRoZSBhcHBzIGZyb20gdGhlIGpzb24gZmVlZHMgY29uZmlndXJlZCBpbiB0aGUgY3VzdG9tIHNldHRpbmdzLlxuICogQHBhcmFtIGFwcFNldHRpbmdzIFRoZSBhcHAgc2V0dGluZ3MgZnJvbSB0aGUgbWFuaWZlc3QuXG4gKiBAcmV0dXJucyBUaGUgbGlzdCBvZiBhcHBzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwcyhhcHBTZXR0aW5nczogQXBwUHJvdmlkZXJTZXR0aW5ncyB8IHVuZGVmaW5lZCk6IFByb21pc2U8QXBwW10+IHtcblx0aWYgKGFwcFNldHRpbmdzKSB7XG5cdFx0Y29uc3QgY2FjaGVEdXJhdGlvbkluTWludXRlcyA9IGFwcFNldHRpbmdzPy5jYWNoZUR1cmF0aW9uSW5NaW51dGVzID8/IDE7XG5cdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblx0XHRpZiAobm93IC0gbGFzdENhY2hlVXBkYXRlID4gY2FjaGVEdXJhdGlvbkluTWludXRlcyAqIDYwICogMTAwMCkge1xuXHRcdFx0bGFzdENhY2hlVXBkYXRlID0gbm93O1xuXG5cdFx0XHRjb25zb2xlLmxvZyhcIlJlcXVlc3RpbmcgYXBwcy5cIik7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRsZXQgYXBwczogQXBwW10gPSBbXTtcblxuXHRcdFx0XHRpZiAoYXBwU2V0dGluZ3M/LmFwcFNvdXJjZVVybHMpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHVybCBvZiBhcHBTZXR0aW5ncy5hcHBTb3VyY2VVcmxzKSB7XG5cdFx0XHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgeyBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIgfSk7XG5cdFx0XHRcdFx0XHRjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdFx0XHRcdFx0YXBwcyA9IGFwcHMuY29uY2F0KGpzb24gYXMgQXBwW10pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhY2hlZEFwcHMgPSBhd2FpdCB2YWxpZGF0ZUVudHJpZXMoYXBwU2V0dGluZ3MsIGFwcHMpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIGFwcHMuIFJldHVybmluZyBlbXB0eSBsaXN0LlwiLCBlcnIpO1xuXHRcdFx0XHRjYWNoZWRBcHBzID0gW107XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihcIk5vIGFwcFByb3ZpZGVyIHNldHRpbmdzIGluIHRoZSBtYW5pZmVzdFwiKTtcblx0fVxuXG5cdHJldHVybiBjYWNoZWRBcHBzO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIHRoYXQgdGhlIGFwcHMgaGF2ZSB0aGUgY29ycmVjdCBwZXJtaXNzaW9ucyBlbmFibGVkLlxuICogQHBhcmFtIGFwcFNldHRpbmdzIFRoZSBhcHAgc2V0dGluZ3MgZnJvbSB0aGUgbWFuaWZlc3QuXG4gKiBAcGFyYW0gYXBwcyBUaGUgYXBwcyB0aGUgdmFsaWRhdGUuXG4gKiBAcmV0dXJucyBUaGUgbGlzdCBvZiB2YWxpZGF0ZWQgYXBwcy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVFbnRyaWVzKGFwcFNldHRpbmdzOiBBcHBQcm92aWRlclNldHRpbmdzLCBhcHBzOiBBcHBbXSk6IFByb21pc2U8QXBwW10+IHtcblx0bGV0IGNhbkxhdW5jaEV4dGVybmFsUHJvY2Vzc1Jlc3BvbnNlO1xuXG5cdHRyeSB7XG5cdFx0Y2FuTGF1bmNoRXh0ZXJuYWxQcm9jZXNzUmVzcG9uc2UgPSBhd2FpdCBmaW4uU3lzdGVtLnF1ZXJ5UGVybWlzc2lvbkZvckN1cnJlbnRDb250ZXh0KFxuXHRcdFx0XCJTeXN0ZW0ubGF1bmNoRXh0ZXJuYWxQcm9jZXNzXCJcblx0XHQpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBxdWVyeWluZyBmb3IgU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2VzcyBwZXJtaXNzaW9uXCIsIGVycm9yKTtcblx0fVxuXHRjb25zdCBjYW5MYXVuY2hFeHRlcm5hbFByb2Nlc3MgPSBjYW5MYXVuY2hFeHRlcm5hbFByb2Nlc3NSZXNwb25zZT8uZ3JhbnRlZDtcblxuXHRsZXQgY2FuRG93bmxvYWRBcHBBc3NldHNSZXNwb25zZTtcblx0dHJ5IHtcblx0XHRjYW5Eb3dubG9hZEFwcEFzc2V0c1Jlc3BvbnNlID0gYXdhaXQgZmluLlN5c3RlbS5xdWVyeVBlcm1pc3Npb25Gb3JDdXJyZW50Q29udGV4dChcIlN5c3RlbS5kb3dubG9hZEFzc2V0XCIpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBxdWVyeWluZyBmb3IgU3lzdGVtLmRvd25sb2FkQXNzZXQgcGVybWlzc2lvblwiLCBlcnJvcik7XG5cdH1cblxuXHRjb25zdCBjYW5Eb3dubG9hZEFwcEFzc2V0cyA9IGNhbkRvd25sb2FkQXBwQXNzZXRzUmVzcG9uc2U/LmdyYW50ZWQ7XG5cblx0Y29uc3QgdmFsaWRhdGVkQXBwczogQXBwW10gPSBbXTtcblx0Y29uc3QgcmVqZWN0ZWRBcHBJZHMgPSBbXTtcblx0Y29uc3QgYXBwQXNzZXRUYWcgPSBcImFwcGFzc2V0XCI7XG5cdGNvbnN0IHN1cHBvcnRlZE1hbmlmZXN0VHlwZXMgPSBhcHBTZXR0aW5ncz8ubWFuaWZlc3RUeXBlcztcblxuXHRmb3IgKGNvbnN0IGVsZW1lbnQgb2YgYXBwcykge1xuXHRcdGNvbnN0IG1hbmlmZXN0VHlwZSA9IGVsZW1lbnQubWFuaWZlc3RUeXBlO1xuXHRcdGlmIChtYW5pZmVzdFR5cGUpIHtcblx0XHRcdGxldCB2YWxpZEFwcCA9IHRydWU7XG5cdFx0XHRjb25zdCB0YWdzID0gZWxlbWVudC50YWdzO1xuXG5cdFx0XHRpZiAoc3VwcG9ydGVkTWFuaWZlc3RUeXBlcyAhPT0gdW5kZWZpbmVkICYmIHN1cHBvcnRlZE1hbmlmZXN0VHlwZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YWxpZEFwcCA9IHN1cHBvcnRlZE1hbmlmZXN0VHlwZXMuaW5jbHVkZXMobWFuaWZlc3RUeXBlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHZhbGlkQXBwKSB7XG5cdFx0XHRcdGlmIChlbGVtZW50Lm1hbmlmZXN0VHlwZSAhPT0gXCJleHRlcm5hbFwiKSB7XG5cdFx0XHRcdFx0dmFsaWRhdGVkQXBwcy5wdXNoKGVsZW1lbnQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNhbkxhdW5jaEV4dGVybmFsUHJvY2VzcyA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHRyZWplY3RlZEFwcElkcy5wdXNoKGVsZW1lbnQuYXBwSWQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGFncykgJiYgdGFncy5pbmNsdWRlcyhhcHBBc3NldFRhZykgJiYgY2FuRG93bmxvYWRBcHBBc3NldHMgPT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0cmVqZWN0ZWRBcHBJZHMucHVzaChlbGVtZW50LmFwcElkKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWxpZGF0ZWRBcHBzLnB1c2goZWxlbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFx0XHRcIkFwcHMudHM6IHZhbGlkYXRlRW50cmllczogQXBwbGljYXRpb24gaXMgbm90IGluIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBtYW5pZmVzdCB0eXBlc1wiLFxuXHRcdFx0XHRcdGVsZW1lbnQuYXBwSWQsXG5cdFx0XHRcdFx0bWFuaWZlc3RUeXBlXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKHJlamVjdGVkQXBwSWRzLmxlbmd0aCA+IDApIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcIkFwcHMudHM6IHZhbGlkYXRlRW50cmllczogTm90IHBhc3NpbmcgdGhlIGZvbGxvd2luZyBsaXN0IG9mIGFwcGxpY2F0aW9ucyBhcyB0aGV5IHdpbGwgbm90IGJlIGFibGUgdG8gcnVuIG9uIHRoaXMgbWFjaGluZSBkdWUgdG8gbWlzc2luZyBwZXJtaXNzaW9ucy4gQWx0ZXJuYXRpdmVseSB0aGlzIGxvZ2ljIGNvdWxkIGJlIG1vdmVkIHRvIHRoZSBsYXVuY2ggZnVuY3Rpb24gd2hlcmUgYSBzZWxlY3Rpb24gaXMgbm90IGxhdW5jaGVkIGJ1dCB0aGUgdXNlciBpcyBwcmVzZW50ZWQgd2l0aCBhIG1vZGFsIHNheWluZyB0aGV5IGNhbid0IGxhdW5jaCBpdCBkdWUgdG8gcGVybWlzc2lvbnMuXCIsXG5cdFx0XHRyZWplY3RlZEFwcElkc1xuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gdmFsaWRhdGVkQXBwcztcbn1cblxuLyoqXG4gKiBMYXVuY2ggdGhlIHBhc3NlZCBhcHAgdXNpbmcgaXRzIG1hbmlmZXN0IHR5cGUgdG8gZGV0ZXJtaW5lIGhvdyB0byBsYXVuY2ggaXQuXG4gKiBAcGFyYW0gYXBwIFRoZSBhcHAgdG8gbGF1bmNoLlxuICogQHJldHVybnMgVGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBsYXVuY2guXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsYXVuY2hBcHAoXG5cdGFwcDogQXBwXG4pOiBQcm9taXNlPE9wZW5GaW4uUGxhdGZvcm0gfCBPcGVuRmluLklkZW50aXR5IHwgT3BlbkZpbi5WaWV3IHwgT3BlbkZpbi5BcHBsaWNhdGlvbiB8IHVuZGVmaW5lZD4ge1xuXHRpZiAoIWFwcC5tYW5pZmVzdCkge1xuXHRcdGNvbnNvbGUuZXJyb3IoYE5vIG1hbmlmZXN0IHdhcyBwcm92aWRlZCBmb3IgdHlwZSAke2FwcC5tYW5pZmVzdFR5cGV9YCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0bGV0IHJldDogT3BlbkZpbi5QbGF0Zm9ybSB8IE9wZW5GaW4uSWRlbnRpdHkgfCBPcGVuRmluLlZpZXcgfCBPcGVuRmluLkFwcGxpY2F0aW9uIHwgdW5kZWZpbmVkO1xuXG5cdGNvbnNvbGUubG9nKFwiQXBwbGljYXRpb24gbGF1bmNoIHJlcXVlc3RlZDpcIiwgYXBwKTtcblxuXHRzd2l0Y2ggKGFwcC5tYW5pZmVzdFR5cGUpIHtcblx0XHRjYXNlIEFwcE1hbmlmZXN0VHlwZS5TbmFwc2hvdDoge1xuXHRcdFx0Y29uc3QgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xuXHRcdFx0cmV0ID0gYXdhaXQgcGxhdGZvcm0uYXBwbHlTbmFwc2hvdChhcHAubWFuaWZlc3QpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Y2FzZSBBcHBNYW5pZmVzdFR5cGUuVmlldzoge1xuXHRcdFx0Y29uc3QgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xuXHRcdFx0cmV0ID0gYXdhaXQgcGxhdGZvcm0uY3JlYXRlVmlldyh7IG1hbmlmZXN0VXJsOiBhcHAubWFuaWZlc3QgfSk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRjYXNlIEFwcE1hbmlmZXN0VHlwZS5FeHRlcm5hbDoge1xuXHRcdFx0cmV0ID0gYXdhaXQgZmluLlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3MoeyBwYXRoOiBhcHAubWFuaWZlc3QsIHV1aWQ6IGFwcC5hcHBJZCB9KTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGNhc2UgXCJ3aW5kb3dcIjoge1xuXHRcdFx0Y29uc3QgbWFuaWZlc3RSZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwcC5tYW5pZmVzdCk7XG5cdFx0XHRjb25zdCBtYW5pZmVzdDogT3BlbkZpbi5XaW5kb3dPcHRpb25zID0gYXdhaXQgbWFuaWZlc3RSZXNwb25zZS5qc29uKCk7XG5cdFx0XHRjb25zdCBwbGF0Zm9ybSA9IGdldEN1cnJlbnRTeW5jKCk7XG5cdFx0XHRyZXQgPSBhd2FpdCBwbGF0Zm9ybS5jcmVhdGVXaW5kb3cobWFuaWZlc3QpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Y2FzZSBcImlubGluZS1hcHBhc3NldFwiOiB7XG5cdFx0XHRjb25zdCBhcHBBc3NldEluZm86IE9wZW5GaW4uQXBwQXNzZXRJbmZvID0gYXBwLm1hbmlmZXN0IGFzIHVua25vd24gYXMgT3BlbkZpbi5BcHBBc3NldEluZm87XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBmaW4uU3lzdGVtLmRvd25sb2FkQXNzZXQoYXBwQXNzZXRJbmZvLCAocHJvZ3Jlc3MpID0+IHtcblx0XHRcdFx0XHRjb25zdCBkb3dubG9hZGVkUGVyY2VudCA9IE1hdGguZmxvb3IoKHByb2dyZXNzLmRvd25sb2FkZWRCeXRlcyAvIHByb2dyZXNzLnRvdGFsQnl0ZXMpICogMTAwKTtcblx0XHRcdFx0XHRjb25zb2xlLmluZm8oYERvd25sb2FkZWQgJHtkb3dubG9hZGVkUGVyY2VudH0lIG9mIGFwcCBhc3NldCB3aXRoIGFwcElkIG9mICR7YXBwLmFwcElkfWApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRyZXQgPSBhd2FpdCBmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7XG5cdFx0XHRcdFx0YWxpYXM6IGFwcEFzc2V0SW5mby5hbGlhcyxcblx0XHRcdFx0XHRhcmd1bWVudHM6IGFwcEFzc2V0SW5mby5hcmdzXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgdHJ5aW5nIHRvIGRvd25sb2FkIGFwcCBhc3NldCB3aXRoIGFwcCBpZDogJHthcHAuYXBwSWR9YCwgZXJyb3IpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0ZGVmYXVsdDoge1xuXHRcdFx0cmV0ID0gYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KGFwcC5tYW5pZmVzdCk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRjb25zb2xlLmxvZyhcIkZpbmlzaGVkIGFwcGxpY2F0aW9uIGxhdW5jaCByZXF1ZXN0XCIpO1xuXG5cdHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogR2V0IGEgc2luZ2xlIGFwcCB1c2luZyBpdCdzIGlkLlxuICogQHBhcmFtIGFwcFByb3ZpZGVyU2V0dGluZ3MgVGhlIGFwcCBwcm92aWRlciBmb3IgcmV0cmlldmluZyB0aGUgYXBwcy5cbiAqIEBwYXJhbSBhcHBJZCBUaGUgaWQgb2YgdGhlIGFwcCB0byByZXRyaWV2ZS5cbiAqIEByZXR1cm5zIFRoZSBhcHAgaWYgaXQgZXhpc3RzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwKFxuXHRhcHBQcm92aWRlclNldHRpbmdzOiBBcHBQcm92aWRlclNldHRpbmdzIHwgdW5kZWZpbmVkLFxuXHRhcHBJZDogc3RyaW5nXG4pOiBQcm9taXNlPEFwcCB8IHVuZGVmaW5lZD4ge1xuXHRjb25zdCBhcHBzID0gYXdhaXQgZ2V0QXBwcyhhcHBQcm92aWRlclNldHRpbmdzKTtcblx0cmV0dXJuIGFwcHMuZmluZCgoZW50cnkpID0+IGVudHJ5LmFwcElkID09PSBhcHBJZCk7XG59XG5cbi8qKlxuICogR2V0IGFsbCB0aGUgaW50ZW50cyB0aGF0IHN1cHBvcnQgdGhlIHJlcXVlc3RlZCBjb250ZXh0LlxuICogQHBhcmFtIGFwcFByb3ZpZGVyU2V0dGluZ3MgVGhlIGFwcCBwcm92aWRlciBmb3IgcmV0cmlldmluZyB0aGUgYXBwcy5cbiAqIEBwYXJhbSBjb250ZXh0VHlwZSBUaGUgY29udGV4dCB0eXBlIHRvIGZpbmQgdGhlIGludGVudHMgZm9yLlxuICogQHJldHVybnMgVGhlIGxpc3Qgb2YgaW50ZW50cyBzdXBwb3J0aW5nIHRoZSBjb250ZXh0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW50ZW50c0J5Q29udGV4dChcblx0YXBwUHJvdmlkZXJTZXR0aW5nczogQXBwUHJvdmlkZXJTZXR0aW5ncyB8IHVuZGVmaW5lZCxcblx0Y29udGV4dFR5cGU6IHN0cmluZ1xuKTogUHJvbWlzZTx7IGludGVudDogeyBuYW1lOiBzdHJpbmc7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfTsgYXBwczogQXBwW10gfVtdPiB7XG5cdGNvbnN0IGFwcHMgPSBhd2FpdCBnZXRBcHBzKGFwcFByb3ZpZGVyU2V0dGluZ3MpO1xuXG5cdGlmICghQXJyYXkuaXNBcnJheShhcHBzKSkge1xuXHRcdGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBnZXQgYXBwcyBzbyB3ZSBjYW4gbm90IGdldCBhcHBzIGFuZCBpbnRlbnRzIHRoYXQgc3VwcG9ydCBhIHBhcnRpY3VsYXIgY29udGV4dFwiKTtcblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHRjb25zdCBpbnRlbnRzTWFwOiB7XG5cdFx0W2tleTogc3RyaW5nXToge1xuXHRcdFx0aW50ZW50OiB7IG5hbWU6IHN0cmluZzsgZGlzcGxheU5hbWU6IHN0cmluZyB9O1xuXHRcdFx0YXBwczogQXBwW107XG5cdFx0fTtcblx0fSA9IHt9O1xuXG5cdGZvciAoY29uc3QgYXBwIG9mIGFwcHMpIHtcblx0XHRpZiAoYXBwLmludGVudHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Zm9yIChjb25zdCBhcHBJbnRlbnQgb2YgYXBwLmludGVudHMpIHtcblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoYXBwSW50ZW50LmNvbnRleHRzKSAmJiBhcHBJbnRlbnQuY29udGV4dHMuaW5jbHVkZXMoY29udGV4dFR5cGUpKSB7XG5cdFx0XHRcdFx0dXBkYXRlQXBwSW50ZW50c0VudHJ5KGludGVudHNNYXAsIGFwcEludGVudCwgYXBwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBPYmplY3QudmFsdWVzKGludGVudHNNYXApO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiBhcHBzIHRoYXQgc3VwcG9ydCBhIHNwZWNpZmljIGludGVudC5cbiAqIEBwYXJhbSBhcHBQcm92aWRlclNldHRpbmdzIFRoZSBhcHAgcHJvdmlkZXIgZm9yIHJldHJpZXZpbmcgdGhlIGFwcHMuXG4gKiBAcGFyYW0gaW50ZW50IFRoZSBpbnRlbnRzIHRvIGZpbmQgc3VwcG9ydGVkIGFwcHMuXG4gKiBAcmV0dXJucyBUaGUgbGlzdCBvZiBhcHAgdGhhdCBzdXBwb3J0IHRoZSBpbnRlbnQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHBzQnlJbnRlbnQoXG5cdGFwcFByb3ZpZGVyU2V0dGluZ3M6IEFwcFByb3ZpZGVyU2V0dGluZ3MgfCB1bmRlZmluZWQsXG5cdGludGVudDogc3RyaW5nXG4pOiBQcm9taXNlPEFwcFtdPiB7XG5cdGNvbnN0IGFwcHMgPSBhd2FpdCBnZXRBcHBzKGFwcFByb3ZpZGVyU2V0dGluZ3MpO1xuXG5cdHJldHVybiBhcHBzLmZpbHRlcigodmFsdWUpID0+IHtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUuaW50ZW50cykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB2YWx1ZUludGVudCBvZiB2YWx1ZS5pbnRlbnRzKSB7XG5cdFx0XHRpZiAodmFsdWVJbnRlbnQubmFtZS50b0xvd2VyQ2FzZSgpID09PSBpbnRlbnQudG9Mb3dlckNhc2UoKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgYW4gaW50ZW50IGFuZCB0aGUgYXBwcyB0aGF0IHN1cHBvcnQgaXQuXG4gKiBAcGFyYW0gYXBwUHJvdmlkZXJTZXR0aW5ncyBUaGUgYXBwIHByb3ZpZGVyIGZvciByZXRyaWV2aW5nIHRoZSBhcHBzLlxuICogQHBhcmFtIGludGVudCBUaGUgaW50ZW50IHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIGNvbnRleHRUeXBlIE9wdGlvbmFsIGNvbnRleHQgdHlwZSB0byBsb29rIGZvci5cbiAqIEByZXR1cm5zIFRoZSBpbnRlbnQgYW5kIGl0cyBzdXBwb3J0aW5nIGFwcHMgaWYgZm91bmQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbnRlbnQoXG5cdGFwcFByb3ZpZGVyU2V0dGluZ3M6IEFwcFByb3ZpZGVyU2V0dGluZ3MgfCB1bmRlZmluZWQsXG5cdGludGVudDogc3RyaW5nLFxuXHRjb250ZXh0VHlwZT86IHN0cmluZ1xuKTogUHJvbWlzZTx7IGludGVudDogeyBuYW1lOiBzdHJpbmc7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfTsgYXBwczogQXBwW10gfSB8IHVuZGVmaW5lZD4ge1xuXHRjb25zdCBhcHBzID0gYXdhaXQgZ2V0QXBwcyhhcHBQcm92aWRlclNldHRpbmdzKTtcblxuXHRpZiAoIUFycmF5LmlzQXJyYXkoYXBwcykpIHtcblx0XHRjb25zb2xlLndhcm4oXCJUaGVyZSB3YXMgbm8gYXBwcyByZXR1cm5lZCBzbyB3ZSBhcmUgdW5hYmxlIHRvIGZpbmQgYXBwcyB0aGF0IHN1cHBvcnQgYW4gaW50ZW50LlwiKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBpbnRlbnRzTWFwOiB7XG5cdFx0W2tleTogc3RyaW5nXToge1xuXHRcdFx0aW50ZW50OiB7IG5hbWU6IHN0cmluZzsgZGlzcGxheU5hbWU6IHN0cmluZyB9O1xuXHRcdFx0YXBwczogQXBwW107XG5cdFx0fTtcblx0fSA9IHt9O1xuXG5cdGZvciAoY29uc3QgYXBwIG9mIGFwcHMpIHtcblx0XHRpZiAoYXBwLmludGVudHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Zm9yIChjb25zdCBhcHBJbnRlbnQgb2YgYXBwLmludGVudHMpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGFwcEludGVudC5uYW1lID09PSBpbnRlbnQgJiZcblx0XHRcdFx0XHQoY29udGV4dFR5cGUgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHRcdFx0KEFycmF5LmlzQXJyYXkoYXBwSW50ZW50LmNvbnRleHRzKSAmJiBhcHBJbnRlbnQuY29udGV4dHMuaW5jbHVkZXMoY29udGV4dFR5cGUpKSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dXBkYXRlQXBwSW50ZW50c0VudHJ5KGludGVudHNNYXAsIGFwcEludGVudCwgYXBwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IHJlc3VsdHMgPSBPYmplY3QudmFsdWVzKGludGVudHNNYXApO1xuXHRpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcblx0XHRjb25zb2xlLmxvZyhgTm8gcmVzdWx0cyBmb3VuZCBmb3IgZmluZEludGVudCBmb3IgaW50ZW50ICR7aW50ZW50fSBhbmQgY29udGV4dCAke2NvbnRleHRUeXBlfWApO1xuXHRcdHJldHVybjtcblx0fSBlbHNlIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiByZXN1bHRzWzBdO1xuXHR9XG5cdGNvbnNvbGUud2Fybihcblx0XHRgUmVjZWl2ZWQgbW9yZSB0aGFuIG9uZSByZXN1bHQgZm9yIGZpbmRJbnRlbnQgZm9yIGludGVudCAke2ludGVudH0gYW5kIGNvbnRleHQgJHtjb250ZXh0VHlwZX0uIFJldHVybmluZyB0aGUgZmlyc3QgZW50cnkuYFxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0c1swXTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGVudHJ5IGZvciBrZWVwaW5nIHRyYWNraW5nIG9mIHN1cHBvcnRlZCBhcHBzIGZvciBpbnRlbnRzLlxuICogQHBhcmFtIGludGVudHNNYXAgVGhlIG1hcCBvZiBpbnRlbnRzLlxuICogQHBhcmFtIGludGVudCBUaGUgaW50ZW50IHRvIGFwcCBhbiBlbnRyeSBmb3IuXG4gKiBAcGFyYW0gYXBwIFRoZSBhcHBsaWNhdGlvbiBzdXBwb3J0aW5nIHRoZSBpbnRlbnQuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUFwcEludGVudHNFbnRyeShcblx0aW50ZW50c01hcDoge1xuXHRcdFtrZXk6IHN0cmluZ106IHtcblx0XHRcdGludGVudDogeyBuYW1lOiBzdHJpbmc7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfTtcblx0XHRcdGFwcHM6IEFwcFtdO1xuXHRcdH07XG5cdH0sXG5cdGludGVudDogQXBwSW50ZW50LFxuXHRhcHA6IEFwcFxuKTogdm9pZCB7XG5cdGlmIChpbnRlbnRzTWFwW2ludGVudC5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Ly8gaW4gYSBwcm9kdWN0aW9uIGFwcCB5b3Ugd291bGQgZWl0aGVyIG5lZWQgdG8gZW5zdXJlIHRoYXQgZXZlcnkgYXBwIHdhcyBwb3B1bGF0ZWQgd2l0aCB0aGUgc2FtZSBuYW1lICYgZGlzcGxheU5hbWUgZm9yIGFuIGludGVudCBmcm9tIGEgZ29sZGVuIHNvdXJjZSAoZS5nLiBpbnRlbnRzIHRhYmxlKSBzbyBwaWNraW5nIHRoZSBmaXJzdCBlbnRyeSB3b3VsZG4ndCBtYWtlIGEgZGlmZmVyZW5jZS5cblx0XHQvLyBvciB5b3UgY291bGQgcHVsbCBpbiBhIGdvbGRlbiBzb3VyY2Ugb2YgaW50ZW50cyBmcm9tIGEgc2VydmljZSBhbmQgdGhlbiBkbyBhIGxvb2t1cCB1c2luZyB0aGUgaW50ZW50IG5hbWUgdG8gZ2V0IGFuIG9iamVjdCB3aXRoIGludGVudCBuYW1lIGFuZCBvZmZpY2lhbCBkaXNwbGF5IG5hbWUuXG5cdFx0aW50ZW50c01hcFtpbnRlbnQubmFtZV0gPSB7XG5cdFx0XHRpbnRlbnQ6IHtcblx0XHRcdFx0bmFtZTogaW50ZW50Lm5hbWUsXG5cdFx0XHRcdGRpc3BsYXlOYW1lOiBpbnRlbnQuZGlzcGxheU5hbWVcblx0XHRcdH0sXG5cdFx0XHRhcHBzOiBbXVxuXHRcdH07XG5cdH1cblx0aW50ZW50c01hcFtpbnRlbnQubmFtZV0uYXBwcy5wdXNoKGFwcCk7XG59XG4iLCJpbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB7XG5cdGdldEN1cnJlbnRTeW5jLFxuXHR0eXBlIEFwcEludGVudCxcblx0dHlwZSBCcm93c2VyU25hcHNob3QsXG5cdHR5cGUgUGFnZUxheW91dFxufSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtXCI7XG5pbXBvcnQgeyBnZXRBcHAsIGdldEFwcHNCeUludGVudCwgZ2V0SW50ZW50LCBnZXRJbnRlbnRzQnlDb250ZXh0IH0gZnJvbSBcIi4vYXBwc1wiO1xuaW1wb3J0IHR5cGUgeyBDdXN0b21TZXR0aW5ncyB9IGZyb20gXCIuL3NoYXBlc1wiO1xuXG5jb25zdCBOT19BUFBTX0ZPVU5EID0gXCJOb0FwcHNGb3VuZFwiO1xuY29uc3QgUkVTT0xWRVJfVElNRU9VVCA9IFwiUmVzb2x2ZXJUaW1lb3V0XCI7XG5cbi8qKlxuICogQ3JlYXRlIGFuIG92ZXJyaWRlIGZvciB0aGUgcGxhdGZvcm0gaW50ZXJvcC5cbiAqIEBwYXJhbSBjdXN0b21TZXR0aW5ncyBDdXN0b20gc2V0dGluZ3MgdG8gaW5pdGlhbGl6ZSB0aGUgcGxhdGZvcm0uXG4gKiBAcmV0dXJucyBUaGUgb3ZlcnJpZGUgZm9yIHRoZSBpbnRlcm9wIGJyb2tlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludGVyb3BPdmVycmlkZShcblx0Y3VzdG9tU2V0dGluZ3M6IEN1c3RvbVNldHRpbmdzXG4pOiBPcGVuRmluLkNvbnN0cnVjdG9yT3ZlcnJpZGU8T3BlbkZpbi5JbnRlcm9wQnJva2VyPiB7XG5cdHJldHVybiAoQmFzZTogT3BlbkZpbi5Db25zdHJ1Y3RvcjxPcGVuRmluLkludGVyb3BCcm9rZXI+KSA9PlxuXHRcdC8qKlxuXHRcdCAqIEluIEludGVyb3AgQnJva2VyIEltcGxlbWVudGF0aW9uIHRoYXQgc3VwcG9ydHMgZmRjMyAxLjJcblx0XHQgKi9cblx0XHRjbGFzcyBJbnRlcm9wT3ZlcnJpZGUgZXh0ZW5kcyBCYXNlIHtcblx0XHRcdC8qKlxuXHRcdFx0ICogTGF1bmNoIGFuIGFwcGxpY2F0aW9ucyB3aXRoIGEgc3BlY2lmaWMgaW50ZW50LlxuXHRcdFx0ICogQHBhcmFtIGFwcCBUaGUgYXBwIHRvIGxhdW5jaC5cblx0XHRcdCAqIEBwYXJhbSBpbnRlbnQgVGhlIGludGVudCB0byBsYXVuY2ggdGhlIGFwcCB3aXRoLlxuXHRcdFx0ICogQHJldHVybnMgVGhlIHNvdXJjZSBhbmQgdmVyc2lvbiBvZiB0aGUgYXBwIHRoYXQgd2FzIGxhdW5jaGVkIGlmIHRoZXJlIHdhcyBvbmUuXG5cdFx0XHQgKi9cblx0XHRcdHB1YmxpYyBhc3luYyBsYXVuY2hBcHBXaXRoSW50ZW50KFxuXHRcdFx0XHRhcHA6IEFwcCxcblx0XHRcdFx0aW50ZW50OiBPcGVuRmluLkludGVudFxuXHRcdFx0KTogUHJvbWlzZTxcblx0XHRcdFx0fCB7XG5cdFx0XHRcdFx0XHRzb3VyY2U6IHN0cmluZztcblx0XHRcdFx0XHRcdHZlcnNpb24/OiBzdHJpbmc7XG5cdFx0XHRcdCAgfVxuXHRcdFx0XHR8IHVuZGVmaW5lZFxuXHRcdFx0PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiTGF1bmNoaW5nIGFwcCB3aXRoIGludGVudC5cIik7XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGFwcC5tYW5pZmVzdFR5cGUgIT09IFwidmlld1wiICYmXG5cdFx0XHRcdFx0YXBwLm1hbmlmZXN0VHlwZSAhPT0gXCJpbmxpbmUtdmlld1wiICYmXG5cdFx0XHRcdFx0YXBwLm1hbmlmZXN0VHlwZSAhPT0gXCJzbmFwc2hvdFwiXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdC8vIG9wdGlvbmFsIGxvZ2ljIHNob3cgYSBwcm9tcHQgdG8gdGhlIHVzZXIgdG8gbGV0IHRoZW0ga25vd1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybihcIlVuYWJsZSB0byByYWlzZSBpbnRlbnQgYWdhaW5zdCBhcHAgYXMgb25seSB2aWV3L3NuYXBzaG90IGJhc2VkIGFwcHMgYXJlIHN1cHBvcnRlZC5cIik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFwcC5tYW5pZmVzdFR5cGUgPT09IFwidmlld1wiIHx8IGFwcC5tYW5pZmVzdFR5cGUgPT09IFwiaW5saW5lLXZpZXdcIikge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGBUaGUgc3VwcG9ydGluZyBhcHAgaXMgYSB2aWV3ICgke2FwcC5tYW5pZmVzdFR5cGV9KWApO1xuXG5cdFx0XHRcdFx0Y29uc3QgaWRlbnRpdHkgPSBhd2FpdCBsYXVuY2hWaWV3KGFwcCk7XG5cdFx0XHRcdFx0aWYgKCFpZGVudGl0eSkge1xuXHRcdFx0XHRcdFx0Ly8gb3B0aW9uYWwgbG9naWMgc2hvdyBhIHByb21wdCB0byB0aGUgdXNlciB0byBsZXQgdGhlbSBrbm93XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gcmFpc2UgaW50ZW50IGFnYWluc3QgdmlldyBhcyBubyBpZGVudGl0eSB3YXMgcmV0dXJuZWQuXCIpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhd2FpdCBzdXBlci5zZXRJbnRlbnRUYXJnZXQoaW50ZW50LCBpZGVudGl0eSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYXBwLm1hbmlmZXN0VHlwZSA9PT0gXCJzbmFwc2hvdFwiKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJUaGUgc3VwcG9ydGluZyBhcHAgaXMgYSB2aWV3LlwiKTtcblxuXHRcdFx0XHRcdGNvbnN0IGlkZW50aXRpZXMgPSBhd2FpdCBsYXVuY2hTbmFwc2hvdChhcHApO1xuXHRcdFx0XHRcdGlmICghaWRlbnRpdGllcykge1xuXHRcdFx0XHRcdFx0Ly8gb3B0aW9uYWwgbG9naWMgc2hvdyBhIHByb21wdCB0byB0aGUgdXNlciB0byBsZXQgdGhlbSBrbm93XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gcmFpc2UgaW50ZW50IGFnYWluc3QgdGFyZ2V0IGFzIG5vIGlkZW50aXR5IHdhcyByZXR1cm5lZC5cIik7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZvciAoY29uc3QgaWRlbnRpdHkgb2YgaWRlbnRpdGllcykge1xuXHRcdFx0XHRcdFx0YXdhaXQgc3VwZXIuc2V0SW50ZW50VGFyZ2V0KGludGVudCwgaWRlbnRpdHkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c291cmNlOiBhcHAuYXBwSWQsXG5cdFx0XHRcdFx0dmVyc2lvbjogYXBwLnZlcnNpb25cblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBHZXQgdGhlIHRhcmdldCBpZGVudGl0eSBvZiB0aGUgcmVxdWVzdGVkIGFwcC5cblx0XHRcdCAqIEBwYXJhbSBhcHBJZCBUaGUgYXBwIGlkIHRvIGdldCB0aGUgdGFyZ2V0IGZvci5cblx0XHRcdCAqIEByZXR1cm5zIFRoZSBpZGVudGl0eSBvZiB0aGUgdGFyZ2V0IGFwcC5cblx0XHRcdCAqL1xuXHRcdFx0cHVibGljIGFzeW5jIGdldFRhcmdldElkZW50aXR5KGFwcElkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBQcm9taXNlPE9wZW5GaW4uSWRlbnRpdHkgfCB1bmRlZmluZWQ+IHtcblx0XHRcdFx0aWYgKCFhcHBJZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBwYXNzZWRJZGVudGl0eSA9IGFwcElkLnNwbGl0KFwiQFwiKTtcblx0XHRcdFx0Y29uc3QgbmFtZSA9IHBhc3NlZElkZW50aXR5WzBdO1xuXHRcdFx0XHRsZXQgdXVpZCA9IGZpbi5tZS5pZGVudGl0eS51dWlkO1xuXHRcdFx0XHRpZiAocGFzc2VkSWRlbnRpdHkubGVuZ3RoID09PSAyKSB7XG5cdFx0XHRcdFx0dXVpZCA9IHBhc3NlZElkZW50aXR5WzFdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHJlc29sdmVkSWRlbnRpdHkgPSB7IHV1aWQsIG5hbWUgfTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IHRhcmdldFZpZXcgPSBhd2FpdCBmaW4uVmlldy53cmFwKHsgdXVpZCwgbmFtZSB9KTtcblx0XHRcdFx0XHRhd2FpdCB0YXJnZXRWaWV3LmdldEluZm8oKTtcblx0XHRcdFx0XHQvLyBwYXNzZWQgaWRlbnRpdHkgZm91bmRcblx0XHRcdFx0XHRyZXR1cm4gcmVzb2x2ZWRJZGVudGl0eTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0Ly8gcGFzc2VkIGlkZW50aXR5IGRvZXMgbm90IGV4aXN0XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBMYXVuY2ggYSBwaWNrZXIgdG8gY2hvc2UgYW4gYXBwbGljYXRpb24gZm9yIGFuIGludGVudC5cblx0XHRcdCAqIEBwYXJhbSBsYXVuY2hPcHRpb25zIFRoZSBsYXVuY2ggb3B0aW9ucyBmb3IgdGhlIGFwcC5cblx0XHRcdCAqIEBwYXJhbSBsYXVuY2hPcHRpb25zLmFwcHMgVGhlIG9wdGlvbmFsIGxpc3Qgb2YgYXBwcyB0byBkaXNwbGF5LlxuXHRcdFx0ICogQHBhcmFtIGxhdW5jaE9wdGlvbnMuaW50ZW50IFRoZSBvcHRpb25hbCBpbnRlbnQgdG8gc3VwcG9ydC5cblx0XHRcdCAqIEBwYXJhbSBsYXVuY2hPcHRpb25zLmludGVudHMgVGhlIG9wdGlvbmFsIGludGVudHMgdG8gcGljayBmcm9tLlxuXHRcdFx0ICogQHJldHVybnMgVGhlIHBpY2tlZCBhcHAuXG5cdFx0XHQgKi9cblx0XHRcdHB1YmxpYyBhc3luYyBsYXVuY2hBcHBQaWNrZXIobGF1bmNoT3B0aW9uczoge1xuXHRcdFx0XHRhcHBzPzogQXBwW107XG5cdFx0XHRcdGludGVudD86IFBhcnRpYWw8QXBwSW50ZW50Pjtcblx0XHRcdFx0aW50ZW50cz86IHsgaW50ZW50OiBQYXJ0aWFsPEFwcEludGVudD47IGFwcHM6IEFwcFtdIH1bXTtcblx0XHRcdH0pOiBQcm9taXNlPFxuXHRcdFx0XHR8IHtcblx0XHRcdFx0XHRcdGFwcElkOiBzdHJpbmc7XG5cdFx0XHRcdFx0XHRpbnRlbnQ6IFBhcnRpYWw8QXBwSW50ZW50Pjtcblx0XHRcdFx0ICB9XG5cdFx0XHRcdHwgdW5kZWZpbmVkXG5cdFx0XHQ+IHtcblx0XHRcdFx0Ly8gc2hvdyBtZW51XG5cdFx0XHRcdC8vIGxhdW5jaCBhIG5ldyB3aW5kb3cgYW5kIG9wdGlvbmFsbHkgcGFzcyB0aGUgYXZhaWxhYmxlIGludGVudHMgYXMgY3VzdG9tRGF0YS5hcHBzIGFzIHBhcnQgb2YgdGhlIHdpbmRvdyBvcHRpb25zXG5cdFx0XHRcdC8vIHRoZSB3aW5kb3cgY2FuIHRoZW4gdXNlIHJhaXNlSW50ZW50IGFnYWluc3QgYSBzcGVjaWZpYyBhcHAgKHRoZSBzZWxlY3RlZCBvbmUpLiBUaGlzIGlzIGEgdmVyeSBiYXNpYyBleGFtcGxlLlxuXHRcdFx0XHRjb25zdCBoZWlnaHQgPSBjdXN0b21TZXR0aW5ncz8ucGxhdGZvcm1Qcm92aWRlcj8uaW50ZW50UGlja2VyPy5oZWlnaHQgPz8gNDAwO1xuXHRcdFx0XHRjb25zdCB3aWR0aCA9IGN1c3RvbVNldHRpbmdzPy5wbGF0Zm9ybVByb3ZpZGVyPy5pbnRlbnRQaWNrZXI/LndpZHRoID8/IDQwMDtcblxuXHRcdFx0XHQvLyB0aGlzIGxvZ2ljIHJ1bnMgaW4gdGhlIHByb3ZpZGVyIHNvIHdlIGFyZSB1c2luZyBpdCBhcyBhIHdheSBvZiBkZXRlcm1pbmluZyB0aGUgcm9vdCAoc28gaXQgd29ya3Mgd2l0aCByb290IGhvc3RpbmcgYW5kIHN1YmRpcmVjdG9yeSBiYXNlZCBob3N0aW5nIGlmIGEgdXJsIGlzIG5vdCBwcm92aWRlZClcblx0XHRcdFx0Y29uc3QgdXJsID1cblx0XHRcdFx0XHRjdXN0b21TZXR0aW5ncz8ucGxhdGZvcm1Qcm92aWRlcj8uaW50ZW50UGlja2VyPy51cmwgPz9cblx0XHRcdFx0XHRcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vd2luZG93cy9pbnRlbnRzL3BpY2tlci5odG1sXCI7XG5cblx0XHRcdFx0Y29uc3Qgd2luT3B0aW9uOiBPcGVuRmluLldpbmRvd0NyZWF0aW9uT3B0aW9ucyA9IHtcblx0XHRcdFx0XHRuYW1lOiBcImludGVudC1waWNrZXJcIixcblx0XHRcdFx0XHRpbmNsdWRlSW5TbmFwc2hvdHM6IGZhbHNlLFxuXHRcdFx0XHRcdGZkYzNJbnRlcm9wQXBpOiBcIjEuMlwiLFxuXHRcdFx0XHRcdGRlZmF1bHRXaWR0aDogd2lkdGgsXG5cdFx0XHRcdFx0ZGVmYXVsdEhlaWdodDogaGVpZ2h0LFxuXHRcdFx0XHRcdHNob3dUYXNrYmFySWNvbjogZmFsc2UsXG5cdFx0XHRcdFx0c2F2ZVdpbmRvd1N0YXRlOiBmYWxzZSxcblx0XHRcdFx0XHRkZWZhdWx0Q2VudGVyZWQ6IHRydWUsXG5cdFx0XHRcdFx0Y3VzdG9tRGF0YToge1xuXHRcdFx0XHRcdFx0YXBwczogbGF1bmNoT3B0aW9ucy5hcHBzLFxuXHRcdFx0XHRcdFx0aW50ZW50OiBsYXVuY2hPcHRpb25zLmludGVudCxcblx0XHRcdFx0XHRcdGludGVudHM6IGxhdW5jaE9wdGlvbnMuaW50ZW50c1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dXJsLFxuXHRcdFx0XHRcdGZyYW1lOiBmYWxzZSxcblx0XHRcdFx0XHRhdXRvU2hvdzogdHJ1ZSxcblx0XHRcdFx0XHRhbHdheXNPblRvcDogdHJ1ZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IHdpbiA9IGF3YWl0IGZpbi5XaW5kb3cuY3JlYXRlKHdpbk9wdGlvbik7XG5cdFx0XHRcdGNvbnN0IHdlYldpbmRvdyA9IHdpbi5nZXRXZWJXaW5kb3coKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXHRcdFx0XHRcdGNvbnN0IGdldEludGVudFNlbGVjdGlvbiA9ICh3ZWJXaW5kb3cgYXMgYW55KS5nZXRJbnRlbnRTZWxlY3Rpb247XG5cblx0XHRcdFx0XHRpZiAoZ2V0SW50ZW50U2VsZWN0aW9uKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3RlZEFwcElkID0gYXdhaXQgZ2V0SW50ZW50U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2VsZWN0ZWRBcHBJZCBhcyB7XG5cdFx0XHRcdFx0XHRcdGFwcElkOiBzdHJpbmc7XG5cdFx0XHRcdFx0XHRcdGludGVudDogQXBwSW50ZW50O1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJBcHAgZm9yIGludGVudCBub3Qgc2VsZWN0ZWQvbGF1bmNoZWQuXCIsIGxhdW5jaE9wdGlvbnMuaW50ZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIElzIHRoZSBjb25uZWN0aW9uIGZvciB0aGUgc3BlY2lmaWMgaWRlbnRpdHkgYXV0aG9yaXplZC5cblx0XHRcdCAqIEBwYXJhbSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgdGhlIGNvbm5lY3Rpb24gdG8gY2hlY2suXG5cdFx0XHQgKiBAcGFyYW0gcGF5bG9hZCBUaGUgb3B0aW9uYWwgcGF5bG9hZC5cblx0XHRcdCAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvbm5lY3Rpb24gaXMgYXV0aG9yaXplZC5cblx0XHRcdCAqL1xuXHRcdFx0cHVibGljIGFzeW5jIGlzQ29ubmVjdGlvbkF1dGhvcml6ZWQoaWRlbnRpdHk6IE9wZW5GaW4uSWRlbnRpdHksIHBheWxvYWQ/OiB1bmtub3duKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFwiSW50ZXJvcCBjb25uZWN0aW9uIGJlaW5nIG1hZGUgYnkgdGhlIGZvbGxvd2luZyBpZGVudGl0eSB3aXRoIHBheWxvYWQ6XCIsXG5cdFx0XHRcdFx0aWRlbnRpdHksXG5cdFx0XHRcdFx0cGF5bG9hZFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAoY3VzdG9tU2V0dGluZ3M/LnBsYXRmb3JtUHJvdmlkZXI/LmFsbG93RXh0ZXJuYWxMb2NhbENvbm5lY3Rpb25zID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0Ly8gcGVyZm9ybSBjb25uZWN0aW9uIHZhbGlkYXRpb24gY2hlY2tzIGhlcmUgaWYgcmVxdWlyZWQgYW5kIHJldHVybiBmYWxzZSBpZiBpdCBzaG91bGRuJ3QgYmUgYWxsb3dlZC5cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaWRlbnRpdHkudXVpZCAhPT0gZmluLm1lLmlkZW50aXR5LnV1aWQpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRgVGhlIGNvbm5lY3Rpb24gaXMgbm90IGZyb20gdGhlIHNhbWUgdXVpZCBhcyB0aGUgY3VycmVudCBwbGF0Zm9ybSBhbmQgdGhpcyBwbGF0Zm9ybSdzIGludGVyb3AgYnJva2VyIGlzIGNvbmZpZ3VyZWQgdG8gZGlzYWxsb3cgZXh0ZXJuYWwgY29ubmVjdGlvbnMuIFJlamVjdGVkIFVVSUQ6ICR7aWRlbnRpdHkudXVpZH1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogSXMgdGhlIGFjdGlvbiBhdXRob3JpemVkLlxuXHRcdFx0ICogQHBhcmFtIGFjdGlvbiBUaGUgYWN0aW9uIHRvIHRlc3QgZm9yIGJlaW5nIGF1dGhvcml6ZWQuXG5cdFx0XHQgKiBAcGFyYW0gcGF5bG9hZCBUaGUgcGF5bG9hZCB0byB1c2UgaW4gdGhlIHRlc3QuXG5cdFx0XHQgKiBAcGFyYW0gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIHRoZSBjbGllbnQgYmVpbmcgYXNrZWQgYWJvdXQgdGhlIGFjdGlvbi5cblx0XHRcdCAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGFjdGlvbiBpcyBhdXRob3JpemVkLlxuXHRcdFx0ICovXG5cdFx0XHRwdWJsaWMgYXN5bmMgaXNBY3Rpb25BdXRob3JpemVkKFxuXHRcdFx0XHRhY3Rpb246IHN0cmluZyxcblx0XHRcdFx0cGF5bG9hZDogdW5rbm93bixcblx0XHRcdFx0aWRlbnRpdHk6IE9wZW5GaW4uQ2xpZW50SWRlbnRpdHlcblx0XHRcdCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkludGVyb3AgQnJva2VyIGlzIGFjdGlvbiBhdXRob3JpemVkOlwiLCBhY3Rpb24sIHBheWxvYWQsIGlkZW50aXR5KTtcblx0XHRcdFx0Ly8gcGVyZm9ybSBjaGVjayBoZXJlIGlmIHlvdSB3aXNoIGFuZCByZXR1cm4gdHJ1ZS9mYWxzZSBhY2NvcmRpbmdseVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBHZXQgdGhlIGluZm9ybWF0aW9uIGZvciB0aGUgaW50ZW50cyBieSBjb250ZXh0LlxuXHRcdFx0ICogQHBhcmFtIGNvbnRleHQgVGhlIGNvbnRleHQgdG8gZ2V0IHRoZSBpbmZvcm1hdGlvbiBmb3IuXG5cdFx0XHQgKiBAcGFyYW0gY29udGV4dC50eXBlIFRoZSB0eXBlIG9mIHRoZSBjb250ZXh0LlxuXHRcdFx0ICogQHBhcmFtIGNsaWVudElkZW50aXR5IFRoZSBpZGVudGl0eSBvZiB0aGUgY2xpZW50IHRvIGdldCB0aGUgaW5mb3JtYXRpb24gZnJvbS5cblx0XHRcdCAqIEByZXR1cm5zIFRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaW50ZW50cyBmb3IgdGhlIGNvbnRleHQuXG5cdFx0XHQgKi9cblx0XHRcdHB1YmxpYyBhc3luYyBoYW5kbGVJbmZvRm9ySW50ZW50c0J5Q29udGV4dChcblx0XHRcdFx0Y29udGV4dDogeyB0eXBlOiBzdHJpbmcgfSxcblx0XHRcdFx0Y2xpZW50SWRlbnRpdHk6IE9wZW5GaW4uSWRlbnRpdHlcblx0XHRcdCk6IFByb21pc2U8XG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpbnRlbnQ6IHsgbmFtZTogc3RyaW5nOyBkaXNwbGF5TmFtZTogc3RyaW5nIH07XG5cdFx0XHRcdFx0YXBwczogeyBuYW1lOiBzdHJpbmc7IGFwcElkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmcgfVtdO1xuXHRcdFx0XHR9W11cblx0XHRcdD4ge1xuXHRcdFx0XHRjb25zdCBpbnRlbnRzID0gYXdhaXQgZ2V0SW50ZW50c0J5Q29udGV4dChjdXN0b21TZXR0aW5ncz8uYXBwUHJvdmlkZXIsIGNvbnRleHQudHlwZSk7XG5cblx0XHRcdFx0aWYgKGludGVudHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKE5PX0FQUFNfRk9VTkQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGludGVudHMubWFwKChlbnRyeSkgPT4gKHtcblx0XHRcdFx0XHRpbnRlbnQ6IGVudHJ5LmludGVudCxcblx0XHRcdFx0XHRhcHBzOiBlbnRyeS5hcHBzLm1hcCgoYXBwKSA9PiAoe1xuXHRcdFx0XHRcdFx0bmFtZTogYXBwLmFwcElkLFxuXHRcdFx0XHRcdFx0YXBwSWQ6IGFwcC5hcHBJZCxcblx0XHRcdFx0XHRcdHRpdGxlOiBhcHAudGl0bGVcblx0XHRcdFx0XHR9KSlcblx0XHRcdFx0fSkpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEdldCB0aGUgaW5mb3JtYXRpb24gZm9yIHRoZSBhcHBzIGJ5IGludGVudC5cblx0XHRcdCAqIEBwYXJhbSBpbnRlbnRPcHRpb25zIFRoZSBvcHRpb25zIGZvciB0aGUgaW50ZW50LlxuXHRcdFx0ICogQHBhcmFtIGludGVudE9wdGlvbnMubmFtZSBUaGUgbmFtZSBvZiB0aGUgaW50ZW50LlxuXHRcdFx0ICogQHBhcmFtIGludGVudE9wdGlvbnMuY29udGV4dCBUaGUgb3B0aW9uYWwgY29udGV4dCBmb3IgdGhlIGludGVudC5cblx0XHRcdCAqIEBwYXJhbSBpbnRlbnRPcHRpb25zLmNvbnRleHQudHlwZSBUaGUgY29udGV4dCB0eXBlLlxuXHRcdFx0ICogQHBhcmFtIGNsaWVudElkZW50aXR5IFRoZSBjbGllbnQgaWRlbnRpdHkgdG8gZ2V0IHRoZSBpbmZvcm1hdGlvbiBmcm9tLlxuXHRcdFx0ICogQHJldHVybnMgVGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpbnRlbnRzIGZvciB0aGUgY29udGV4dC5cblx0XHRcdCAqL1xuXHRcdFx0cHVibGljIGFzeW5jIGhhbmRsZUluZm9Gb3JJbnRlbnQoXG5cdFx0XHRcdGludGVudE9wdGlvbnM6IHsgbmFtZTogc3RyaW5nOyBjb250ZXh0PzogeyB0eXBlOiBzdHJpbmcgfSB9LFxuXHRcdFx0XHRjbGllbnRJZGVudGl0eTogT3BlbkZpbi5JZGVudGl0eVxuXHRcdFx0KTogUHJvbWlzZTx7XG5cdFx0XHRcdGludGVudDogeyBuYW1lOiBzdHJpbmc7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfTtcblx0XHRcdFx0YXBwczogeyBuYW1lOiBzdHJpbmc7IGFwcElkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmcgfVtdO1xuXHRcdFx0fT4ge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRJbnRlbnQoXG5cdFx0XHRcdFx0Y3VzdG9tU2V0dGluZ3M/LmFwcFByb3ZpZGVyLFxuXHRcdFx0XHRcdGludGVudE9wdGlvbnMubmFtZSxcblx0XHRcdFx0XHRpbnRlbnRPcHRpb25zLmNvbnRleHQ/LnR5cGVcblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoTk9fQVBQU19GT1VORCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGludGVudDogcmVzdWx0LmludGVudCxcblx0XHRcdFx0XHRhcHBzOiByZXN1bHQuYXBwcy5tYXAoKGFwcCkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgYXBwRW50cnkgPSB7XG5cdFx0XHRcdFx0XHRcdG5hbWU6IGFwcC5hcHBJZCxcblx0XHRcdFx0XHRcdFx0YXBwSWQ6IGFwcC5hcHBJZCxcblx0XHRcdFx0XHRcdFx0dGl0bGU6IGFwcC50aXRsZVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHJldHVybiBhcHBFbnRyeTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEhhbmRsZSBhbmQgaW50ZW50IGZvciB0aGUgZmlyZWQgY29udGV4dC5cblx0XHRcdCAqIEBwYXJhbSBjb250ZXh0Rm9ySW50ZW50IFRoZSBjb250ZXh0IGZvciB0aGUgaW50ZW50LlxuXHRcdFx0ICogQHBhcmFtIGNvbnRleHRGb3JJbnRlbnQudHlwZSBUaHQgdHlwZSBvZiB0aGUgY29udGV4dC5cblx0XHRcdCAqIEBwYXJhbSBjb250ZXh0Rm9ySW50ZW50Lm1ldGFkYXRhIFRoZSBtZXRhZGF0YSBmb3IgdGhlIGNvbnRleHQuXG5cdFx0XHQgKiBAcGFyYW0gY29udGV4dEZvckludGVudC5tZXRhZGF0YS50YXJnZXQgVGhlIG9wdGlvbmFsIHRhcmdldCBmb3IgdGhlIGNvbnRleHQuXG5cdFx0XHQgKiBAcGFyYW0gY2xpZW50SWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIHRoZSBjbGllbnQgdG8gaGFuZGxlIHRoZSBpbnRlbnQuXG5cdFx0XHQgKiBAcmV0dXJucyBUaGUgYXBwbGljYXRpb24gZGV0YWlscyBmb3IgdGhlIGFwcCB0aGF0IGhhbmRsZWQgdGhlIGludGVudC5cblx0XHRcdCAqL1xuXHRcdFx0cHVibGljIGFzeW5jIGhhbmRsZUZpcmVkSW50ZW50Rm9yQ29udGV4dChcblx0XHRcdFx0Y29udGV4dEZvckludGVudDogeyB0eXBlOiBzdHJpbmc7IG1ldGFkYXRhPzogeyB0YXJnZXQ/OiBzdHJpbmcgfSB9LFxuXHRcdFx0XHRjbGllbnRJZGVudGl0eTogT3BlbkZpbi5JZGVudGl0eVxuXHRcdFx0KTogUHJvbWlzZTxcblx0XHRcdFx0fCB7XG5cdFx0XHRcdFx0XHRzb3VyY2U6IHN0cmluZztcblx0XHRcdFx0XHRcdHZlcnNpb24/OiBzdHJpbmc7XG5cdFx0XHRcdCAgfVxuXHRcdFx0XHR8IHVuZGVmaW5lZFxuXHRcdFx0PiB7XG5cdFx0XHRcdGNvbnN0IGF2YWlsYWJsZUludGVudHMgPSBhd2FpdCBnZXRJbnRlbnRzQnlDb250ZXh0KFxuXHRcdFx0XHRcdGN1c3RvbVNldHRpbmdzPy5hcHBQcm92aWRlcixcblx0XHRcdFx0XHRjb250ZXh0Rm9ySW50ZW50LnR5cGVcblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKGF2YWlsYWJsZUludGVudHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKE5PX0FQUFNfRk9VTkQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGludGVudDogT3BlbkZpbi5JbnRlbnQgJiB7IGRpc3BsYXlOYW1lPzogc3RyaW5nIH0gPSB7XG5cdFx0XHRcdFx0Y29udGV4dDogY29udGV4dEZvckludGVudCxcblx0XHRcdFx0XHRuYW1lOiBcIlwiLFxuXHRcdFx0XHRcdGRpc3BsYXlOYW1lOiB1bmRlZmluZWRcblx0XHRcdFx0fTtcblx0XHRcdFx0bGV0IHRhcmdldEFwcDogQXBwIHwgdW5kZWZpbmVkO1xuXHRcdFx0XHRsZXQgdGFyZ2V0QXBwSW50ZW50O1xuXHRcdFx0XHRsZXQgdGFyZ2V0QXBwSW50ZW50Q291bnQgPSAwO1xuXG5cdFx0XHRcdGlmIChjb250ZXh0Rm9ySW50ZW50Lm1ldGFkYXRhPy50YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHRhcmdldEFwcCA9IGF3YWl0IGdldEFwcChjdXN0b21TZXR0aW5ncz8uYXBwUHJvdmlkZXIsIGNvbnRleHRGb3JJbnRlbnQubWV0YWRhdGE/LnRhcmdldCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodGFyZ2V0QXBwICE9PSB1bmRlZmluZWQgJiYgQXJyYXkuaXNBcnJheSh0YXJnZXRBcHAuaW50ZW50cykpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGFyZ2V0QXBwLmludGVudHMpIHtcblx0XHRcdFx0XHRcdHRhcmdldEFwcEludGVudCA9IGVsZW1lbnQ7XG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdEFycmF5LmlzQXJyYXkodGFyZ2V0QXBwSW50ZW50LmNvbnRleHRzKSAmJlxuXHRcdFx0XHRcdFx0XHR0YXJnZXRBcHBJbnRlbnQuY29udGV4dHMuaW5jbHVkZXMoY29udGV4dEZvckludGVudC50eXBlKVxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldEFwcEludGVudENvdW50Kys7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRhcmdldEFwcCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldEFwcEludGVudCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldEFwcEludGVudENvdW50ID09PSAxKSB7XG5cdFx0XHRcdFx0Ly8gYSBwcmVmZXJyZWQgbmFtZSBmb3IgYW4gYXBwIHdhcyBnaXZlbiB3aXRoIHRoZSBjb250ZXh0IG9iamVjdFxuXHRcdFx0XHRcdC8vIHRoZSBhcHAgZXhpc3RlZCBhbmQgaXQgc3VwcG9ydGVkIHRoZSBjb250ZXh0IHR5cGUgYW5kIHRoZXJlIHdhcyBvbmx5IG9uZSBpbnRlbnQgdGhhdCBzdXBwb3J0ZWRcblx0XHRcdFx0XHQvLyB0aGF0IGNvbnRleHQgdHlwZS4gTGF1bmNoIHRoZSBhcHAgd2l0aCB0aGF0IGludGVudCBvdGhlcndpc2UgcHJlc2VudCB0aGUgdXNlciB3aXRoIGEgbGlzdCBvZlxuXHRcdFx0XHRcdC8vIGV2ZXJ5dGhpbmcgdGhhdCBzdXBwb3J0cyB0aGF0IGNvbnRleHQgdHlwZVxuXHRcdFx0XHRcdGludGVudC5uYW1lID0gdGFyZ2V0QXBwSW50ZW50Lm5hbWU7XG5cdFx0XHRcdFx0aW50ZW50LmRpc3BsYXlOYW1lID0gdGFyZ2V0QXBwSW50ZW50Lm5hbWU7XG5cdFx0XHRcdFx0Y29uc3QgaW50ZW50UmVzb2x2ZXIgPSBhd2FpdCB0aGlzLmxhdW5jaEFwcFdpdGhJbnRlbnQodGFyZ2V0QXBwLCBpbnRlbnQpO1xuXHRcdFx0XHRcdGlmICghaW50ZW50UmVzb2x2ZXIpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihOT19BUFBTX0ZPVU5EKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGludGVudFJlc29sdmVyO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGF2YWlsYWJsZUludGVudHMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0aW50ZW50Lm5hbWUgPSBhdmFpbGFibGVJbnRlbnRzWzBdLmludGVudC5uYW1lO1xuXHRcdFx0XHRcdGludGVudC5kaXNwbGF5TmFtZSA9IGF2YWlsYWJsZUludGVudHNbMF0uaW50ZW50Lm5hbWU7XG5cdFx0XHRcdFx0aWYgKGF2YWlsYWJsZUludGVudHNbMF0uYXBwcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGludGVudFJlc29sdmVyID0gYXdhaXQgdGhpcy5sYXVuY2hBcHBXaXRoSW50ZW50KGF2YWlsYWJsZUludGVudHNbMF0uYXBwc1swXSwgaW50ZW50KTtcblx0XHRcdFx0XHRcdGlmICghaW50ZW50UmVzb2x2ZXIpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKE5PX0FQUFNfRk9VTkQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIGludGVudFJlc29sdmVyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoYXZhaWxhYmxlSW50ZW50c1swXS5hcHBzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHVzZXJTZWxlY3Rpb24gPSBhd2FpdCB0aGlzLmxhdW5jaEFwcFBpY2tlcih7XG5cdFx0XHRcdFx0XHRcdFx0YXBwczogYXZhaWxhYmxlSW50ZW50c1swXS5hcHBzLFxuXHRcdFx0XHRcdFx0XHRcdGludGVudFxuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRpZiAodXNlclNlbGVjdGlvbikge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdGVkQXBwID0gYXZhaWxhYmxlSW50ZW50c1swXS5hcHBzLmZpbmQoXG5cdFx0XHRcdFx0XHRcdFx0XHQoZW50cnkpID0+IGVudHJ5LmFwcElkID09PSB1c2VyU2VsZWN0aW9uLmFwcElkICYmIGVudHJ5LmFwcElkICE9PSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzZWxlY3RlZEFwcCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgaW50ZW50UmVzb2x2ZXIgPSBhd2FpdCB0aGlzLmxhdW5jaEFwcFdpdGhJbnRlbnQoc2VsZWN0ZWRBcHAsIGludGVudCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWludGVudFJlc29sdmVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihOT19BUFBTX0ZPVU5EKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBpbnRlbnRSZXNvbHZlcjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIldlIHdlcmUgcmV0dXJuZWQgYSBub24gZXhpc3RlbnQgYXBwSWQgdG8gbGF1bmNoIHdpdGggdGhlIGludGVudC5cIik7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihOT19BUFBTX0ZPVU5EKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFwiQXBwIGZvciBpbnRlbnQgYnkgY29udGV4dCBub3Qgc2VsZWN0ZWQvbGF1bmNoZWQuXCIsIGludGVudCk7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihSRVNPTFZFUl9USU1FT1VUKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IHVzZXJTZWxlY3Rpb24gPSBhd2FpdCB0aGlzLmxhdW5jaEFwcFBpY2tlcih7XG5cdFx0XHRcdFx0XHRcdGludGVudCxcblx0XHRcdFx0XHRcdFx0aW50ZW50czogYXZhaWxhYmxlSW50ZW50c1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmICh1c2VyU2VsZWN0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdGVkSW50ZW50ID0gYXZhaWxhYmxlSW50ZW50cy5maW5kKFxuXHRcdFx0XHRcdFx0XHRcdChlbnRyeSkgPT4gZW50cnkuaW50ZW50Lm5hbWUgPT09IHVzZXJTZWxlY3Rpb24uaW50ZW50Lm5hbWVcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRJbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHRcdFx0XHRcdFx0XHRcIlRoZSB1c2VyIHNlbGVjdGVkIGFuIGludGVudCBidXQgaXQncyBuYW1lIGRvZXNuJ3QgbWF0Y2ggdGhlIGF2YWlsYWJsZSBpbnRlbnRzLlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0dXNlclNlbGVjdGlvblxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKE5PX0FQUFNfRk9VTkQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdGVkQXBwID0gc2VsZWN0ZWRJbnRlbnQuYXBwcy5maW5kKFxuXHRcdFx0XHRcdFx0XHRcdChlbnRyeSkgPT4gZW50cnkuYXBwSWQgPT09IHVzZXJTZWxlY3Rpb24uYXBwSWQgJiYgZW50cnkuYXBwSWQgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRBcHApIHtcblx0XHRcdFx0XHRcdFx0XHRpbnRlbnQuZGlzcGxheU5hbWUgPSB1c2VyU2VsZWN0aW9uLmludGVudC5kaXNwbGF5TmFtZTtcblx0XHRcdFx0XHRcdFx0XHRpbnRlbnQubmFtZSA9IHVzZXJTZWxlY3Rpb24uaW50ZW50Py5uYW1lID8/IFwiXCI7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaW50ZW50UmVzb2x2ZXIgPSBhd2FpdCB0aGlzLmxhdW5jaEFwcFdpdGhJbnRlbnQoc2VsZWN0ZWRBcHAsIGludGVudCk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFpbnRlbnRSZXNvbHZlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKE5PX0FQUFNfRk9VTkQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaW50ZW50UmVzb2x2ZXI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJXZSB3ZXJlIHJldHVybmVkIGEgbm9uIGV4aXN0ZW50IGFwcElkIHRvIGxhdW5jaCB3aXRoIHRoZSBpbnRlbnQuXCIpO1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKE5PX0FQUFNfRk9VTkQpO1xuXHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkFwcCBmb3IgaW50ZW50IGJ5IGNvbnRleHQgbm90IHNlbGVjdGVkL2xhdW5jaGVkLlwiLCBpbnRlbnQpO1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFJFU09MVkVSX1RJTUVPVVQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEhhbmRsZSBhbiBpbnRlbnQgdGhhdCB3YXMgZmlyZWQuXG5cdFx0XHQgKiBAcGFyYW0gaW50ZW50IFRoZSBpbnRlbnQgdGhhdCB3YXMgZmlyZWQuXG5cdFx0XHQgKiBAcmV0dXJucyBUaGUgc291cmNlIGFuZCB2ZXJzaW9uIG9mIHRoZSBhcHBsaWNhdGlvbiB0aGF0IHdhcyBvcGVuZWQuXG5cdFx0XHQgKi9cblx0XHRcdHB1YmxpYyBhc3luYyBoYW5kbGVGaXJlZEludGVudChpbnRlbnQ6IE9wZW5GaW4uSW50ZW50KTogUHJvbWlzZTxcblx0XHRcdFx0fCB7XG5cdFx0XHRcdFx0XHRzb3VyY2U6IHN0cmluZztcblx0XHRcdFx0XHRcdHZlcnNpb24/OiBzdHJpbmc7XG5cdFx0XHRcdCAgfVxuXHRcdFx0XHR8IHVuZGVmaW5lZFxuXHRcdFx0PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgcmVxdWVzdCBmb3IgYSByYWlzZWQgaW50ZW50OlwiLCBpbnRlbnQpO1xuXHRcdFx0XHRsZXQgaW50ZW50QXBwcyA9IGF3YWl0IGdldEFwcHNCeUludGVudChjdXN0b21TZXR0aW5ncz8uYXBwUHJvdmlkZXIsIGludGVudC5uYW1lKTtcblx0XHRcdFx0bGV0IHRhcmdldEFwcDogQXBwIHwgdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmIChpbnRlbnQubWV0YWRhdGE/LnRhcmdldCkge1xuXHRcdFx0XHRcdHRhcmdldEFwcCA9IGF3YWl0IGdldEFwcChjdXN0b21TZXR0aW5ncz8uYXBwUHJvdmlkZXIsIGludGVudC5tZXRhZGF0YS50YXJnZXQgYXMgc3RyaW5nKTtcblx0XHRcdFx0XHRpZiAodGFyZ2V0QXBwID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdC8vIGNoZWNrIHRvIHNlZSBpZiB5b3UgaGF2ZSBiZWVuIHBhc3NlZCBhIHNwZWNpZmljIGlkZW50aXR5IGZvciBhIHZpZXcgdGhhdCBzaG91bGQgYmUgdGFyZ2V0ZWQgaW5zdGVhZCBvZiBhbiBhcHBcblx0XHRcdFx0XHRcdGNvbnN0IHRhcmdldElkZW50aXR5ID0gYXdhaXQgdGhpcy5nZXRUYXJnZXRJZGVudGl0eShpbnRlbnQubWV0YWRhdGE/LnRhcmdldCBhcyBzdHJpbmcpO1xuXHRcdFx0XHRcdFx0aWYgKHRhcmdldElkZW50aXR5KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFx0XHRcdFwiV2Ugd2VyZSBwYXNzZWQgYSB2aWV3IGlkZW50aXR5IGluc3RlYWQgb2YgYW4gYXBwIGVudHJ5IHdoZW4gcmFpc2luZy9maXJpbmcgYW4gaW50ZW50LiBXZSB3aWxsIGZpcmUgdGhlIGludGVudCBhdCB0aGF0IGFzIGl0IGV4aXN0cyBhbmQgbm8gYXBwIGVudHJ5IGV4aXN0cyB3aXRoIHRoYXQgbmFtZS46XCIsXG5cdFx0XHRcdFx0XHRcdFx0dGFyZ2V0SWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0aW50ZW50XG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHN1cGVyLnNldEludGVudFRhcmdldChpbnRlbnQsIHRhcmdldElkZW50aXR5KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzb3VyY2U6IHRhcmdldElkZW50aXR5Lm5hbWVcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaW50ZW50QXBwcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIk5vIGFwcHMgc3VwcG9ydCB0aGlzIGludGVudC5cIik7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKE5PX0FQUFNfRk9VTkQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRhcmdldEFwcCAhPT0gdW5kZWZpbmVkICYmIGludGVudEFwcHMuaW5jbHVkZXModGFyZ2V0QXBwKSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiQXNzaWduaW5nIHNlbGVjdGVkIGFwcGxpY2F0aW9uIHdpdGggaW50ZW50LlwiLCBpbnRlbnQpO1xuXHRcdFx0XHRcdGludGVudEFwcHMgPSBbdGFyZ2V0QXBwXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpbnRlbnRBcHBzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRcdC8vIGhhbmRsZSBzaW5nbGUgZW50cnlcblx0XHRcdFx0XHRjb25zdCBpbnRlbnRSZXNvbHZlciA9IGF3YWl0IHRoaXMubGF1bmNoQXBwV2l0aEludGVudChpbnRlbnRBcHBzWzBdLCBpbnRlbnQpO1xuXHRcdFx0XHRcdGlmICghaW50ZW50UmVzb2x2ZXIpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihOT19BUFBTX0ZPVU5EKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGludGVudFJlc29sdmVyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHNob3cgbWVudVxuXHRcdFx0XHQvLyBsYXVuY2ggYSBuZXcgd2luZG93IGFuZCBvcHRpb25hbGx5IHBhc3MgdGhlIGF2YWlsYWJsZSBpbnRlbnRzIGFzIGN1c3RvbURhdGEuYXBwcyBhcyBwYXJ0IG9mIHRoZSB3aW5kb3cgb3B0aW9uc1xuXHRcdFx0XHQvLyB0aGUgd2luZG93IGNhbiB0aGVuIHVzZSByYWlzZUludGVudCBhZ2FpbnN0IGEgc3BlY2lmaWMgYXBwICh0aGUgc2VsZWN0ZWQgb25lKS4gVGhpcyBpcyBhIHZlcnkgYmFzaWMgZXhhbXBsZS5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCB1c2VyU2VsZWN0aW9uID0gYXdhaXQgdGhpcy5sYXVuY2hBcHBQaWNrZXIoe1xuXHRcdFx0XHRcdFx0YXBwczogaW50ZW50QXBwcyxcblx0XHRcdFx0XHRcdGludGVudFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGlmIChpbnRlbnRBcHBzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybihcIldlIHNob3VsZCBoYXZlIGEgbGlzdCBvZiBhcHBzIHRvIHNlYXJjaCBmcm9tLlwiKTtcblx0XHRcdFx0XHRcdGludGVudEFwcHMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWRBcHAgPSBpbnRlbnRBcHBzLmZpbmQoXG5cdFx0XHRcdFx0XHQoZW50cnkpID0+IGVudHJ5LmFwcElkID09PSB1c2VyU2VsZWN0aW9uPy5hcHBJZCAmJiBlbnRyeS5hcHBJZCAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRBcHApIHtcblx0XHRcdFx0XHRcdGNvbnN0IGludGVudFJlc29sdmVyID0gYXdhaXQgdGhpcy5sYXVuY2hBcHBXaXRoSW50ZW50KHNlbGVjdGVkQXBwLCBpbnRlbnQpO1xuXHRcdFx0XHRcdFx0aWYgKCFpbnRlbnRSZXNvbHZlcikge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoTk9fQVBQU19GT1VORCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gaW50ZW50UmVzb2x2ZXI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJXZSB3ZXJlIHJldHVybmVkIGEgbm9uIGV4aXN0ZW50IGFwcElkIHRvIGxhdW5jaCB3aXRoIHRoZSBpbnRlbnQuXCIpO1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihOT19BUFBTX0ZPVU5EKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkFwcCBmb3IgaW50ZW50IG5vdCBzZWxlY3RlZC9sYXVuY2hlZC5cIiwgaW50ZW50KTtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoUkVTT0xWRVJfVElNRU9VVCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xufVxuXG4vKipcbiAqIExhdW5jaCBhbiBhcHBsaWNhdGlvbiBhcyBhIHZpZXcuXG4gKiBAcGFyYW0gdmlld0FwcCBUaGUgYXBwbGljYXRpb24gdG8gbGF1bmNoIGFzIGEgdmlldy5cbiAqIEByZXR1cm5zIFRoZSBpZGVudGl0eSBvZiB0aGUgdmlldyB0aGF0IHdhcyBsYXVuY2hlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbGF1bmNoVmlldyh2aWV3QXBwOiBBcHApOiBQcm9taXNlPE9wZW5GaW4uSWRlbnRpdHkgfCB1bmRlZmluZWQ+IHtcblx0aWYgKCF2aWV3QXBwKSB7XG5cdFx0Y29uc29sZS53YXJuKFwiTm8gYXBwIHdhcyBwYXNzZWQgdG8gbGF1bmNoVmlld1wiKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAodmlld0FwcC5tYW5pZmVzdFR5cGUgIT09IFwidmlld1wiICYmIHZpZXdBcHAubWFuaWZlc3RUeXBlICE9PSBcImlubGluZS12aWV3XCIpIHtcblx0XHRjb25zb2xlLndhcm4oXCJUaGUgYXBwIHBhc3NlZCB3YXMgbm90IG9mIG1hbmlmZXN0VHlwZSB2aWV3IG9yIGlubGluZS12aWV3LlwiKTtcblx0XHRyZXR1cm47XG5cdH1cblx0bGV0IG1hbmlmZXN0OiBPcGVuRmluLlZpZXdPcHRpb25zO1xuXG5cdGlmICh2aWV3QXBwLm1hbmlmZXN0VHlwZSA9PT0gXCJ2aWV3XCIpIHtcblx0XHRpZiAoIXZpZXdBcHAubWFuaWZlc3QpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgbWFuaWZlc3RSZXNwb25zZSA9IGF3YWl0IGZldGNoKHZpZXdBcHAubWFuaWZlc3QpO1xuXHRcdG1hbmlmZXN0ID0gYXdhaXQgbWFuaWZlc3RSZXNwb25zZS5qc29uKCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gY29udmVyc2lvbiBiZWNhdXNlIG9mIG1hbmlmZXN0VHlwZS4gSW4gbW9zdCB1c2UgY2FzZXMgbWFuaWZlc3QgaXMgYWx3YXlzIGEgcGF0aCB0byBhbiBleGVjdXRhYmxlIG9yIHRvIGEgbWFuaWZlc3QgZmlsZS4gRm9yIHZpZXdzIHdlIGFyZSBkZW1vbnN0cmF0aW5nIGhvdyBpdCBjb3VsZCBiZSB1c2VkXG5cdFx0Ly8gZm9yIHBhc3NpbmcgdGhlIG1hbmlmZXN0IGlubGluZVxuXHRcdG1hbmlmZXN0ID0gdmlld0FwcC5tYW5pZmVzdCBhcyB1bmtub3duIGFzIE9wZW5GaW4uVmlld09wdGlvbnM7XG5cdH1cblxuXHRjb25zdCBuYW1lID0gbWFuaWZlc3QubmFtZTtcblx0bGV0IGlkZW50aXR5ID0geyB1dWlkOiBmaW4ubWUuaWRlbnRpdHkudXVpZCwgbmFtZSB9O1xuXHRjb25zdCB3YXNOYW1lU3BlY2lmaWVkID0gbmFtZSAhPT0gdW5kZWZpbmVkO1xuXHRsZXQgdmlld0V4aXN0cyA9IGZhbHNlO1xuXG5cdGlmICh3YXNOYW1lU3BlY2lmaWVkKSB7XG5cdFx0dmlld0V4aXN0cyA9IGF3YWl0IGRvZXNWaWV3RXhpc3QoaWRlbnRpdHkpO1xuXHR9XG5cblx0aWYgKCF2aWV3RXhpc3RzKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBsYXRmb3JtID0gZ2V0Q3VycmVudFN5bmMoKTtcblx0XHRcdGNvbnN0IGNyZWF0ZWRWaWV3ID0gYXdhaXQgcGxhdGZvcm0uY3JlYXRlVmlldyhtYW5pZmVzdCk7XG5cdFx0XHRpZGVudGl0eSA9IGNyZWF0ZWRWaWV3LmlkZW50aXR5O1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGxhdW5jaGluZyB2aWV3XCIsIGVycik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cdHJldHVybiBpZGVudGl0eTtcbn1cblxuLyoqXG4gKiBMYXVuY2ggYSBzbmFwc2hvdCBiYXNlZCBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSBzbmFwc2hvdEFwcCBUaGUgc25hcHNob3QgYXBwbGljYXRpb24gdG8gbGF1bmNoLlxuICogQHJldHVybnMgVGhlIGlkZW50aXR5IG9mIHRoZSB2aWV3cyBpbiB0aGUgc25hcHNob3QgdGhhdCB3YXMgbGF1bmNoZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxhdW5jaFNuYXBzaG90KHNuYXBzaG90QXBwOiBBcHApOiBQcm9taXNlPE9wZW5GaW4uSWRlbnRpdHlbXSB8IHVuZGVmaW5lZD4ge1xuXHRpZiAoIXNuYXBzaG90QXBwKSB7XG5cdFx0Y29uc29sZS53YXJuKFwiTm8gYXBwIHdhcyBwYXNzZWQgdG8gbGF1bmNoU25hcHNob3RcIik7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKHNuYXBzaG90QXBwLm1hbmlmZXN0VHlwZSAhPT0gXCJzbmFwc2hvdFwiKSB7XG5cdFx0Y29uc29sZS53YXJuKFwiVGhlIGFwcCBwYXNzZWQgd2FzIG5vdCBvZiBtYW5pZmVzdFR5cGUgc25hcHNob3QuXCIpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmICghc25hcHNob3RBcHAubWFuaWZlc3QpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBtYW5pZmVzdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc25hcHNob3RBcHAubWFuaWZlc3QpO1xuXHRjb25zdCBtYW5pZmVzdDogQnJvd3NlclNuYXBzaG90ID0gYXdhaXQgbWFuaWZlc3RSZXNwb25zZS5qc29uKCk7XG5cblx0Y29uc3Qgd2luZG93cyA9IG1hbmlmZXN0LndpbmRvd3M7XG5cdGNvbnN0IHdpbmRvd3NUb0NyZWF0ZSA9IFtdO1xuXG5cdGlmIChBcnJheS5pc0FycmF5KHdpbmRvd3MpKSB7XG5cdFx0Y29uc3Qgd2luZG93c1RvR2F0aGVyOiBzdHJpbmdbXSA9IFtdO1xuXHRcdGNvbnN0IHZpZXdJZHM6IE9wZW5GaW4uSWRlbnRpdHlbXSA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCB3aW4gb2Ygd2luZG93cykge1xuXHRcdFx0Y29uc3QgZ2V0Vmlld0lkc0ZvckxheW91dCA9IGZpbmRWaWV3TmFtZXMod2luLmxheW91dCBhcyBQYWdlTGF5b3V0KTtcblx0XHRcdGlmIChnZXRWaWV3SWRzRm9yTGF5b3V0Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb25zdCB1dWlkID0gcmFuZG9tVVVJRCgpO1xuXHRcdFx0XHRjb25zdCBuYW1lID0gYGludGVybmFsLWdlbmVyYXRlZC13aW5kb3ctJHt1dWlkfWA7XG5cdFx0XHRcdHdpbi5uYW1lID0gbmFtZTtcblx0XHRcdFx0d2luZG93c1RvQ3JlYXRlLnB1c2god2luKTtcblx0XHRcdFx0d2luZG93c1RvR2F0aGVyLnB1c2gobmFtZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyB3ZSBoYXZlIHZpZXdzLiBHcmFiIHRoZSBmaXJzdCBvbmUgdG8gdmFsaWRhdGUgZXhpc3RlbmNlLlxuXHRcdFx0XHRjb25zdCB2aWV3SWQgPSBnZXRWaWV3SWRzRm9yTGF5b3V0WzBdO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZ2V0Vmlld0lkc0ZvckxheW91dCkge1xuXHRcdFx0XHRcdHZpZXdJZHMucHVzaCh7IG5hbWU6IGVudHJ5LCB1dWlkOiBmaW4ubWUuaWRlbnRpdHkudXVpZCB9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHRoZXNlIHZpZXdzIHNob3VsZCBiZSByZWFkb25seSBhbmQgY2Fubm90IGJlIHB1bGxlZCBvdXQgb2YgdGhlIHBhZ2Ugb3IgY2xvc2VkXG5cdFx0XHRcdGlmICghKGF3YWl0IGRvZXNWaWV3RXhpc3QoeyBuYW1lOiB2aWV3SWQsIHV1aWQ6IGZpbi5tZS5pZGVudGl0eS51dWlkIH0pKSkge1xuXHRcdFx0XHRcdHdpbmRvd3NUb0NyZWF0ZS5wdXNoKHdpbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRtYW5pZmVzdC53aW5kb3dzID0gd2luZG93c1RvQ3JlYXRlO1xuXG5cdFx0aWYgKHdpbmRvd3NUb0NyZWF0ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBwbGF0Zm9ybSA9IGdldEN1cnJlbnRTeW5jKCk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBwbGF0Zm9ybS5hcHBseVNuYXBzaG90KG1hbmlmZXN0KTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIGFwcGx5IHNuYXBzaG90IHRvIHBsYXRmb3JtLlwiLCBlcnIsIG1hbmlmZXN0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IHdpbmRvdyBvZiB3aW5kb3dzVG9HYXRoZXIpIHtcblx0XHRcdGNvbnN0IHdpbmRvd1ZpZXdJZHMgPSBhd2FpdCBnZXRWaWV3SWRlbnRpdGllcyh7IG5hbWU6IHdpbmRvdywgdXVpZDogZmluLm1lLmlkZW50aXR5LnV1aWQgfSk7XG5cdFx0XHR2aWV3SWRzLnB1c2goLi4ud2luZG93Vmlld0lkcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZpZXdJZHM7XG5cdH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBuYW1lcyBvZiBhbGwgdGhlIHZpZXdzIGluIHRoZSBsYXlvdXQuXG4gKiBAcGFyYW0gbGF5b3V0IFRoZSBsYXlvdXQgdG8gZmluZCB0aGUgdmlldyBuYW1lcyBpbi5cbiAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIHZpZXcgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWV3TmFtZXMobGF5b3V0OiBQYWdlTGF5b3V0KTogc3RyaW5nW10ge1xuXHRjb25zdCBjb2xsZWN0ZWROYW1lczogc3RyaW5nW10gPSBbXTtcblxuXHRKU09OLnN0cmluZ2lmeShsYXlvdXQsIChfLCBuZXN0ZWRWYWx1ZSkgPT4ge1xuXHRcdC8vIGNoZWNrIHRvIGVuc3VyZSB0aGF0IHdlIGhhdmUgYSBuYW1lIGZpZWxkIGFuZCB0aGF0IHdlIGFsc28gaGF2ZSBhIHVybCBmaWVsZCBpbiB0aGlzIG9iamVjdCAoaW4gY2FzZSBuYW1lIHdhcyBhZGRlZCB0byBhIHJhbmRvbSBwYXJ0IG9mIHRoZSBsYXlvdXQpXG5cdFx0aWYgKG5lc3RlZFZhbHVlPy5uYW1lPy5sZW5ndGggJiYgbmVzdGVkVmFsdWUudXJsICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbGxlY3RlZE5hbWVzLnB1c2gobmVzdGVkVmFsdWUubmFtZSBhcyBzdHJpbmcpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmVzdGVkVmFsdWUgYXMgdW5rbm93bjtcblx0fSk7XG5cblx0cmV0dXJuIGNvbGxlY3RlZE5hbWVzO1xufVxuXG4vKipcbiAqIERvZXMgdGhlIHZpZXcgZXhpc3Q/XG4gKiBAcGFyYW0gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIHRoZSB2aWV3IHRvIGZpbmQuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB2aWV3IGV4aXN0cy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZG9lc1ZpZXdFeGlzdChpZGVudGl0eTogT3BlbkZpbi5JZGVudGl0eSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRjb25zdCB2aWV3ID0gZmluLlZpZXcud3JhcFN5bmMoaWRlbnRpdHkpO1xuXHRsZXQgZXhpc3RzID0gZmFsc2U7XG5cdHRyeSB7XG5cdFx0YXdhaXQgdmlldy5nZXRJbmZvKCk7XG5cdFx0Y29uc3Qgdmlld0hvc3QgPSBhd2FpdCB2aWV3LmdldEN1cnJlbnRXaW5kb3coKTtcblx0XHRhd2FpdCB2aWV3SG9zdC5icmluZ1RvRnJvbnQoKTtcblx0XHRleGlzdHMgPSB0cnVlO1xuXHR9IGNhdGNoIHtcblx0XHRleGlzdHMgPSBmYWxzZTtcblx0fVxuXHRyZXR1cm4gZXhpc3RzO1xufVxuXG4vKipcbiAqIEdldCBhbGwgdGhlIHZpZXcgaWRlbnRpdGllcyBmb3IgdGhlIHNwZWNpZmllZCB3aW5kb3cuXG4gKiBAcGFyYW0gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIHRoZSB3aW5kb3cgdG8gZmluZCBpdHMgdmlld3MuXG4gKiBAcmV0dXJucyBUaGUgbGlzdCBvZiB2aWV3IGlkZW50aXRpZXMgZm9yIHRoZSB3aW5kb3cuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZpZXdJZGVudGl0aWVzKGlkZW50aXR5OiBPcGVuRmluLklkZW50aXR5KTogUHJvbWlzZTxPcGVuRmluLklkZW50aXR5W10+IHtcblx0dHJ5IHtcblx0XHRjb25zdCB3aW4gPSBmaW4uV2luZG93LndyYXBTeW5jKGlkZW50aXR5KTtcblx0XHRjb25zdCB2aWV3cyA9IGF3YWl0IHdpbi5nZXRDdXJyZW50Vmlld3MoKTtcblx0XHRjb25zdCB2aWV3SWRlbnRpdGllcyA9IHZpZXdzLm1hcCgodmlldykgPT4gdmlldy5pZGVudGl0eSk7XG5cdFx0YXdhaXQgd2luLnNldEFzRm9yZWdyb3VuZCgpO1xuXHRcdHJldHVybiB2aWV3SWRlbnRpdGllcztcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG5cbi8qKlxuICogUG9seWZpbGxzIHJhbmRvbVVVSUQgaWYgcnVubmluZyBpbiBhIG5vbi1zZWN1cmUgY29udGV4dC5cbiAqIEByZXR1cm5zIFRoZSByYW5kb20gVVVJRC5cbiAqL1xuZnVuY3Rpb24gcmFuZG9tVVVJRCgpOiBzdHJpbmcge1xuXHRpZiAoXCJyYW5kb21VVUlEXCIgaW4gd2luZG93LmNyeXB0bykge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuXHRcdHJldHVybiB3aW5kb3cuY3J5cHRvLnJhbmRvbVVVSUQoKTtcblx0fVxuXHQvLyBQb2x5ZmlsbCB0aGUgd2luZG93LmNyeXB0by5yYW5kb21VVUlEIGlmIHdlIGFyZSBydW5uaW5nIGluIGEgbm9uIHNlY3VyZSBjb250ZXh0IHRoYXQgZG9lc24ndCBoYXZlIGl0XG5cdC8vIHdlIGFyZSBzdGlsbCB1c2luZyB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB3aGljaCBpcyBhbHdheXMgYXZhaWxhYmxlXG5cdC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzLzI4MDAyMThcblx0LyoqXG5cdCAqIEdldCByYW5kb20gaGV4IHZhbHVlLlxuXHQgKiBAcGFyYW0gYyBUaGUgbnVtYmVyIHRvIGJhc2UgdGhlIHJhbmRvbSB2YWx1ZSBvbi5cblx0ICogQHJldHVybnMgVGhlIHJhbmRvbSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGdldFJhbmRvbUhleChjOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG5cdFx0Y29uc3Qgcm5kID0gd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgKDE1ID4+IChOdW1iZXIoYykgLyA0KSk7XG5cdFx0cmV0dXJuIChcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG5cdFx0XHQoTnVtYmVyKGMpIF4gcm5kKS50b1N0cmluZygxNilcblx0XHQpO1xuXHR9XG5cdHJldHVybiBcIjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMFwiLnJlcGxhY2UoL1swMThdL2csIGdldFJhbmRvbUhleCk7XG59XG4iLCIoKCk9Pnt2YXIgZT17ODQ3OihlLHQpPT57dmFyIGE9ezIzNDY6ZnVuY3Rpb24oZSx0LGEpe3ZhciBuPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0TW9zdFJlYWRhYmxlPXQuZGFya2VuQ29sb3I9dC5saWdodGVuQ29sb3I9dm9pZCAwO2NvbnN0IG89bihhKDY1MzUpKTt0LmxpZ2h0ZW5Db2xvcj0oZSx0KT0+cihlLFwibGlnaHRlblwiLHQpLHQuZGFya2VuQ29sb3I9KGUsdCk9PnIoZSxcImRhcmtlblwiLHQpO2NvbnN0IHI9KGUsdCxhKT0+e2lmKGEmJihhPDB8fGE+MTAwKSl0aHJvdyBuZXcgRXJyb3IoYCR7YX0gbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMGApO3JldHVybigwLG8uZGVmYXVsdCkoZSlbdF0oYSkudG9TdHJpbmcoKX07dC5nZXRNb3N0UmVhZGFibGU9KGUsdCk9Pm8uZGVmYXVsdC5tb3N0UmVhZGFibGUoZSx0KS50b0hleFN0cmluZygpfSwyMzE3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JY29uU2l6ZT10LlRyYW5zaXRpb249dC5MaW5lSGVpZ2h0PXQuRm9udFdlaWdodD10LkZvbnRTaXplPXQuRm9udEZhbWlseT10LlNoYWRvdz10LlJhZGl1cz10LlVuaXRQeD10LlVuaXQ9dC5TaXplTmFtZT10LlNpemU9dC5Db2xvcj12b2lkIDAsdC5Db2xvcj17d2hpdGU6XCIjRkZGRkZGXCIsbGlnaHRHcmF5MTpcIiNGQUZCRkVcIixsaWdodEdyYXkyOlwiI0YzRjVGOFwiLGxpZ2h0R3JheTM6XCIjRUNFRUYxXCIsbGlnaHRHcmF5NDpcIiNERERGRTRcIixsaWdodEdyYXk1OlwiI0M5Q0JEMlwiLG5ldXRyYWxHcmF5OlwiIzdEODA4QVwiLG5ldXRyYWxHcmF5ODA6XCJyZ2JhKDEyNSwxMjgsMTM4LDAuOClcIixzaWx2ZXJHcmF5OlwiI0MwQzFDMlwiLGRhcmtHcmF5MTpcIiM1MzU2NUZcIixkYXJrR3JheTI6XCIjMzgzQTQwXCIsZGFya0dyYXkzOlwiIzJGMzEzNlwiLGRhcmtHcmF5NDpcIiMyNDI2MkJcIixkYXJrR3JheTU6XCIjMUUxRjIzXCIsZGFya0dyYXk2OlwiIzExMTIxNFwiLG9wZW5GaW5EYXJrZXN0OlwiIzNEMzlDRFwiLG9wZW5GaW5EYXJrZXI6XCIjNDY0MkUwXCIsb3BlbkZpbjpcIiM1MDRDRkZcIixvcGVuRmluTGlnaHQ6XCIjNTI1NEZCXCIsb3BlbkZpbkxpZ2h0ZXI6XCIjNUM1RUZFXCIsb3BlbkZpbkxpZ2h0ZXN0OlwiIzY4NjRGRlwiLGZ1bmN0aW9uYWwxOlwiIzIwNzczNVwiLGZ1bmN0aW9uYWwyOlwiIzQ2QzhGMVwiLGZ1bmN0aW9uYWwzOlwiIzBBNzZEM1wiLGZ1bmN0aW9uYWw0OlwiIzZDQURFNVwiLGZ1bmN0aW9uYWw1OlwiIzBBNzZEM1wiLGZ1bmN0aW9uYWw2OlwiIzg4MkJGRVwiLGZ1bmN0aW9uYWw3OlwiI0YzMTgxOFwiLGZ1bmN0aW9uYWw4OlwiI0M5MzQwMFwiLGZ1bmN0aW9uYWw5OlwiI0ZGNUU2MFwiLGZ1bmN0aW9uYWwxMDpcIiNGNDhGMDBcIixwdXJwbGU6XCIjOEM2MUZGXCIsbGlnaHRibHVlOlwiIzM2QzNGRVwiLGFxdWE6XCIjMDBDQzg4XCIseWVsbG93OlwiI0ZGRUIwMFwiLHNhbG1vbjpcIiNGRjhDNENcIixwaW5rOlwiI0ZGNUU2MFwiLGxpZ2h0cGluazpcIiNGRjhGQjhcIix3aGl0ZTAwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjApXCIsd2hpdGUxMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4xKVwiLHdoaXRlMjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMilcIix3aGl0ZTMwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjMpXCIsd2hpdGU0MDpcInJnYmEoMjU1LDI1NSwyNTUsMC40KVwiLHdoaXRlNTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIix3aGl0ZTYwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjYpXCIsd2hpdGU3MDpcInJnYmEoMjU1LDI1NSwyNTUsMC43KVwiLHdoaXRlODA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIix3aGl0ZTkwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCIsYmxhY2swMDpcInJnYmEoMCwwLDAsMC4wKVwiLGJsYWNrMTA6XCJyZ2JhKDAsMCwwLDAuMSlcIixibGFjazIwOlwicmdiYSgwLDAsMCwwLjIpXCIsYmxhY2szMDpcInJnYmEoMCwwLDAsMC4zKVwiLGJsYWNrNDA6XCJyZ2JhKDAsMCwwLDAuNClcIixibGFjazUwOlwicmdiYSgwLDAsMCwwLjUpXCIsYmxhY2s2MDpcInJnYmEoMCwwLDAsMC42KVwiLGJsYWNrNzA6XCJyZ2JhKDAsMCwwLDAuNylcIixibGFjazgwOlwicmdiYSgwLDAsMCwwLjgpXCIsYmxhY2s5MDpcInJnYmEoMCwwLDAsMC45KVwiLHRyYW5zcGFyZW50OlwidHJhbnNwYXJlbnRcIixvcGVuRmluQWN0aXZlOlwiIzQ2NDJGRlwiLG9wZW5GaW5Ib3ZlcjpcIiM2OTY1RkZcIixsaWdodEdyYXk0QWN0aXZlOlwiI0Q3REFERlwiLGxpZ2h0R3JheTRIb3ZlcjpcIiNFQkVDRUZcIixkYXJrR3JheTJBY3RpdmU6XCIjMzMzNTNCXCIsZGFya0dyYXkySG92ZXI6XCIjNDQ0NjRFXCJ9LHQuU2l6ZT17eHNtYWxsOlwieHNtYWxsXCIsc21hbGw6XCJzbWFsbFwiLGJhc2U6XCJiYXNlXCIsbGFyZ2U6XCJsYXJnZVwiLHhsYXJnZTpcInhsYXJnZVwiLHh4bGFyZ2U6XCJ4eGxhcmdlXCIseHh4bGFyZ2U6XCJ4eHhsYXJnZVwiLHh4eHhsYXJnZTpcInh4eHhsYXJnZVwifSx0LlNpemVOYW1lPXtbdC5TaXplLnhzbWFsbF06XCJFeHRyYSBTbWFsbFwiLFt0LlNpemUuc21hbGxdOlwiU21hbGxcIixbdC5TaXplLmJhc2VdOlwiQmFzZVwiLFt0LlNpemUubGFyZ2VdOlwiTGFyZ2VcIixbdC5TaXplLnhsYXJnZV06XCJFeHRyYSBMYXJnZVwiLFt0LlNpemUueHhsYXJnZV06XCIyWCBMYXJnZVwiLFt0LlNpemUueHh4bGFyZ2VdOlwiM1ggTGFyZ2VcIixbdC5TaXplLnh4eHhsYXJnZV06XCI0WCBMYXJnZVwifSx0LlVuaXQ9e1t0LlNpemUueHNtYWxsXTo0LFt0LlNpemUuc21hbGxdOjgsW3QuU2l6ZS5iYXNlXToxMixbdC5TaXplLmxhcmdlXToxNixbdC5TaXplLnhsYXJnZV06MjAsW3QuU2l6ZS54eGxhcmdlXToyNCxbdC5TaXplLnh4eGxhcmdlXTozMixbdC5TaXplLnh4eHhsYXJnZV06NDh9LHQuVW5pdFB4PXtbdC5TaXplLnhzbWFsbF06XCI0cHhcIixbdC5TaXplLnNtYWxsXTpcIjhweFwiLFt0LlNpemUuYmFzZV06XCIxMnB4XCIsW3QuU2l6ZS5sYXJnZV06XCIxNnB4XCIsW3QuU2l6ZS54bGFyZ2VdOlwiMjBweFwiLFt0LlNpemUueHhsYXJnZV06XCIyNHB4XCIsW3QuU2l6ZS54eHhsYXJnZV06XCIzMnB4XCIsW3QuU2l6ZS54eHh4bGFyZ2VdOlwiNDhweFwifSx0LlJhZGl1cz17W3QuU2l6ZS54c21hbGxdOlwiMnB4XCIsW3QuU2l6ZS5zbWFsbF06XCI0cHhcIixbdC5TaXplLmJhc2VdOlwiOHB4XCIsW3QuU2l6ZS5sYXJnZV06XCIyNHB4XCIscGlsbDpcIjEwMHZoXCIscm91bmQ6XCI1MCVcIixub25lOlwiMFwifSx0LlNoYWRvdz17W3QuU2l6ZS5iYXNlXTpcIjAgNHB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMjUpXCJ9LHQuRm9udEZhbWlseT1bXCJJbnRlclwiLFwic3lzdGVtLXVpXCIsXCJCbGlua01hY1N5c3RlbUZvbnRcIixcIlNlZ29lIFVJXCIsXCJSb2JvdG9cIixcIk94eWdlbi1TYW5zXCIsXCJVYnVudHVcIixcIkNhbnRhcmVsbFwiLFwiSGVsdmV0aWNhIE5ldWVcIixcInNhbnMtc2VyaWZcIl0uam9pbihcIixcIiksdC5Gb250U2l6ZT17W3QuU2l6ZS54c21hbGxdOlwiOHB4XCIsW3QuU2l6ZS5zbWFsbF06XCIxMHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjEycHhcIixbdC5TaXplLmxhcmdlXTpcIjE0cHhcIixbdC5TaXplLnhsYXJnZV06XCIxNnB4XCIsW3QuU2l6ZS54eGxhcmdlXTpcIjE4cHhcIixbdC5TaXplLnh4eGxhcmdlXTpcIjIwcHhcIixbdC5TaXplLnh4eHhsYXJnZV06XCI0MHB4XCJ9LHQuRm9udFdlaWdodD17bm9ybWFsOjQwMCxib2xkOjYwMH0sdC5MaW5lSGVpZ2h0PXt1aToxLGhlYWRpbmc6MS4yLHRleHQ6MS41fSx0LlRyYW5zaXRpb249e2Jhc2U6XCIyMDBtcyBjdWJpYy1iZXppZXIoMC4xNiwgMSwgMC4zLCAxKVwiLG5vbmU6XCIwbXNcIn0sdC5JY29uU2l6ZT17W3QuU2l6ZS54c21hbGxdOnQuVW5pdFB4LnNtYWxsLFt0LlNpemUuc21hbGxdOnQuVW5pdFB4LmJhc2UsW3QuU2l6ZS5iYXNlXTpcIjE1cHhcIixbdC5TaXplLmxhcmdlXTp0LlVuaXRQeC54bGFyZ2UsW3QuU2l6ZS54bGFyZ2VdOnQuVW5pdFB4Lnh4bGFyZ2UsW3QuU2l6ZS54eGxhcmdlXTp0LlVuaXRQeC54eHhsYXJnZSxbdC5TaXplLnh4eGxhcmdlXTp0LlVuaXRQeC54eHh4bGFyZ2V9fSw2ODkzOihlLHQsYSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNyZWF0ZVRoZW1lPXZvaWQgMDtjb25zdCBuPWEoMjMxNyksbz1hKDIzNDYpLHI9YSg1OTM5KSxpPXtmb250RmFtaWx5Om4uRm9udEZhbWlseSxmb250U2l6ZTpuLkZvbnRTaXplLGZvbnRXZWlnaHQ6bi5Gb250V2VpZ2h0LGxpbmVIZWlnaHQ6bi5MaW5lSGVpZ2h0LGljb25TaXplOm4uSWNvblNpemUscmFkaXVzOm4uUmFkaXVzLHNoYWRvdzpuLlNoYWRvdyx0cmFuc2l0aW9uOm4uVHJhbnNpdGlvbix1bml0Om4uVW5pdCxweDpuLlVuaXRQeH0scz0oZSx0KT0+KHtbYCR7ZX1BY3RpdmVgXTooMCxvLmRhcmtlbkNvbG9yKSh0LDIpLFtgJHtlfUhvdmVyYF06KDAsby5saWdodGVuQ29sb3IpKHQsNSksW2Ake2V9Rm9jdXNlZGBdOigwLG8uZ2V0TW9zdFJlYWRhYmxlKSh0LFtuLkNvbG9yLndoaXRlLG4uQ29sb3IuZGFya0dyYXk1XSksW2Ake2V9VGV4dGBdOigwLG8uZ2V0TW9zdFJlYWRhYmxlKSh0LFtuLkNvbG9yLndoaXRlLG4uQ29sb3IuZGFya0dyYXk1XSl9KTt0LmNyZWF0ZVRoZW1lPWU9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSx7cGFsZXR0ZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzKHIuUGFsZXR0ZS5icmFuZFByaW1hcnksZS5icmFuZFByaW1hcnkpKSxzKHIuUGFsZXR0ZS5icmFuZFNlY29uZGFyeSxlLmJyYW5kU2Vjb25kYXJ5KSksZSl9KX0sNTkzOTooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGFsZXR0ZT12b2lkIDAsdC5QYWxldHRlPXtiYWNrZ3JvdW5kMTpcImJhY2tncm91bmQxXCIsYmFja2dyb3VuZDI6XCJiYWNrZ3JvdW5kMlwiLGJhY2tncm91bmQzOlwiYmFja2dyb3VuZDNcIixiYWNrZ3JvdW5kNDpcImJhY2tncm91bmQ0XCIsYmFja2dyb3VuZDU6XCJiYWNrZ3JvdW5kNVwiLGJhY2tncm91bmQ2OlwiYmFja2dyb3VuZDZcIixicmFuZFByaW1hcnk6XCJicmFuZFByaW1hcnlcIixicmFuZFNlY29uZGFyeTpcImJyYW5kU2Vjb25kYXJ5XCIsYnJhbmRQcmltYXJ5QWN0aXZlOlwiYnJhbmRQcmltYXJ5QWN0aXZlXCIsYnJhbmRQcmltYXJ5SG92ZXI6XCJicmFuZFByaW1hcnlIb3ZlclwiLGJyYW5kUHJpbWFyeUZvY3VzZWQ6XCJicmFuZFByaW1hcnlGb2N1c2VkXCIsYnJhbmRQcmltYXJ5VGV4dDpcImJyYW5kUHJpbWFyeVRleHRcIixicmFuZFNlY29uZGFyeUFjdGl2ZTpcImJyYW5kU2Vjb25kYXJ5QWN0aXZlXCIsYnJhbmRTZWNvbmRhcnlIb3ZlcjpcImJyYW5kU2Vjb25kYXJ5SG92ZXJcIixicmFuZFNlY29uZGFyeUZvY3VzZWQ6XCJicmFuZFNlY29uZGFyeUZvY3VzZWRcIixicmFuZFNlY29uZGFyeVRleHQ6XCJicmFuZFNlY29uZGFyeVRleHRcIixpbnB1dEJhY2tncm91bmQ6XCJpbnB1dEJhY2tncm91bmRcIixpbnB1dENvbG9yOlwiaW5wdXRDb2xvclwiLGlucHV0UGxhY2Vob2xkZXI6XCJpbnB1dFBsYWNlaG9sZGVyXCIsaW5wdXREaXNhYmxlZDpcImlucHV0RGlzYWJsZWRcIixpbnB1dEZvY3VzZWQ6XCJpbnB1dEZvY3VzZWRcIixpbnB1dEJvcmRlcjpcImlucHV0Qm9yZGVyXCIsc3RhdHVzU3VjY2VzczpcInN0YXR1c1N1Y2Nlc3NcIixzdGF0dXNXYXJuaW5nOlwic3RhdHVzV2FybmluZ1wiLHN0YXR1c0NyaXRpY2FsOlwic3RhdHVzQ3JpdGljYWxcIixzdGF0dXNBY3RpdmU6XCJzdGF0dXNBY3RpdmVcIix0ZXh0RGVmYXVsdDpcInRleHREZWZhdWx0XCIsdGV4dEhlbHA6XCJ0ZXh0SGVscFwiLHRleHRJbmFjdGl2ZTpcInRleHRJbmFjdGl2ZVwiLGJvcmRlck5ldXRyYWw6XCJib3JkZXJOZXV0cmFsXCIsY29udGVudEJhY2tncm91bmQxOlwiY29udGVudEJhY2tncm91bmQxXCIsY29udGVudEJhY2tncm91bmQyOlwiY29udGVudEJhY2tncm91bmQyXCIsY29udGVudEJhY2tncm91bmQzOlwiY29udGVudEJhY2tncm91bmQzXCIsY29udGVudEJhY2tncm91bmQ0OlwiY29udGVudEJhY2tncm91bmQ0XCIsY29udGVudEJhY2tncm91bmQ1OlwiY29udGVudEJhY2tncm91bmQ1XCIsbGlua0RlZmF1bHQ6XCJsaW5rRGVmYXVsdFwiLGxpbmtIb3ZlcjpcImxpbmtIb3ZlclwifX0sNjUzNTpmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3JldHVybihlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KSh0KX12YXIgdD0vXlxccysvLGE9L1xccyskLztmdW5jdGlvbiBuKG8scil7aWYocj1yfHx7fSwobz1vfHxcIlwiKWluc3RhbmNlb2YgbilyZXR1cm4gbztpZighKHRoaXMgaW5zdGFuY2VvZiBuKSlyZXR1cm4gbmV3IG4obyxyKTt2YXIgaT1mdW5jdGlvbihuKXt2YXIgbyxyLGkscz17cjowLGc6MCxiOjB9LGM9MSxsPW51bGwsZD1udWxsLHU9bnVsbCxwPSExLHc9ITE7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKHQsXCJcIikucmVwbGFjZShhLFwiXCIpLnRvTG93ZXJDYXNlKCk7dmFyIG4sbz0hMTtpZih5W2VdKWU9eVtlXSxvPSEwO2Vsc2UgaWYoXCJ0cmFuc3BhcmVudFwiPT1lKXJldHVybntyOjAsZzowLGI6MCxhOjAsZm9ybWF0OlwibmFtZVwifTtyZXR1cm4obj1SLnJnYi5leGVjKGUpKT97cjpuWzFdLGc6blsyXSxiOm5bM119OihuPVIucmdiYS5leGVjKGUpKT97cjpuWzFdLGc6blsyXSxiOm5bM10sYTpuWzRdfToobj1SLmhzbC5leGVjKGUpKT97aDpuWzFdLHM6blsyXSxsOm5bM119OihuPVIuaHNsYS5leGVjKGUpKT97aDpuWzFdLHM6blsyXSxsOm5bM10sYTpuWzRdfToobj1SLmhzdi5leGVjKGUpKT97aDpuWzFdLHM6blsyXSx2Om5bM119OihuPVIuaHN2YS5leGVjKGUpKT97aDpuWzFdLHM6blsyXSx2Om5bM10sYTpuWzRdfToobj1SLmhleDguZXhlYyhlKSk/e3I6TShuWzFdKSxnOk0oblsyXSksYjpNKG5bM10pLGE6VyhuWzRdKSxmb3JtYXQ6bz9cIm5hbWVcIjpcImhleDhcIn06KG49Ui5oZXg2LmV4ZWMoZSkpP3tyOk0oblsxXSksZzpNKG5bMl0pLGI6TShuWzNdKSxmb3JtYXQ6bz9cIm5hbWVcIjpcImhleFwifToobj1SLmhleDQuZXhlYyhlKSk/e3I6TShuWzFdK1wiXCIrblsxXSksZzpNKG5bMl0rXCJcIituWzJdKSxiOk0oblszXStcIlwiK25bM10pLGE6VyhuWzRdK1wiXCIrbls0XSksZm9ybWF0Om8/XCJuYW1lXCI6XCJoZXg4XCJ9OiEhKG49Ui5oZXgzLmV4ZWMoZSkpJiZ7cjpNKG5bMV0rXCJcIituWzFdKSxnOk0oblsyXStcIlwiK25bMl0pLGI6TShuWzNdK1wiXCIrblszXSksZm9ybWF0Om8/XCJuYW1lXCI6XCJoZXhcIn19KG4pKSxcIm9iamVjdFwiPT1lKG4pJiYoRShuLnIpJiZFKG4uZykmJkUobi5iKT8obz1uLnIscj1uLmcsaT1uLmIscz17cjoyNTUqUChvLDI1NSksZzoyNTUqUChyLDI1NSksYjoyNTUqUChpLDI1NSl9LHA9ITAsdz1cIiVcIj09PVN0cmluZyhuLnIpLnN1YnN0cigtMSk/XCJwcmdiXCI6XCJyZ2JcIik6RShuLmgpJiZFKG4ucykmJkUobi52KT8obD1JKG4ucyksZD1JKG4udikscz1mdW5jdGlvbihlLHQsYSl7ZT02KlAoZSwzNjApLHQ9UCh0LDEwMCksYT1QKGEsMTAwKTt2YXIgbj1NYXRoLmZsb29yKGUpLG89ZS1uLHI9YSooMS10KSxpPWEqKDEtbyp0KSxzPWEqKDEtKDEtbykqdCksYz1uJTY7cmV0dXJue3I6MjU1KlthLGkscixyLHMsYV1bY10sZzoyNTUqW3MsYSxhLGkscixyXVtjXSxiOjI1NSpbcixyLHMsYSxhLGldW2NdfX0obi5oLGwsZCkscD0hMCx3PVwiaHN2XCIpOkUobi5oKSYmRShuLnMpJiZFKG4ubCkmJihsPUkobi5zKSx1PUkobi5sKSxzPWZ1bmN0aW9uKGUsdCxhKXt2YXIgbixvLHI7ZnVuY3Rpb24gaShlLHQsYSl7cmV0dXJuIGE8MCYmKGErPTEpLGE+MSYmKGEtPTEpLGE8MS82P2UrNioodC1lKSphOmE8LjU/dDphPDIvMz9lKyh0LWUpKigyLzMtYSkqNjplfWlmKGU9UChlLDM2MCksdD1QKHQsMTAwKSxhPVAoYSwxMDApLDA9PT10KW49bz1yPWE7ZWxzZXt2YXIgcz1hPC41P2EqKDErdCk6YSt0LWEqdCxjPTIqYS1zO249aShjLHMsZSsxLzMpLG89aShjLHMsZSkscj1pKGMscyxlLTEvMyl9cmV0dXJue3I6MjU1Km4sZzoyNTUqbyxiOjI1NSpyfX0obi5oLGwsdSkscD0hMCx3PVwiaHNsXCIpLG4uaGFzT3duUHJvcGVydHkoXCJhXCIpJiYoYz1uLmEpKSxjPXYoYykse29rOnAsZm9ybWF0Om4uZm9ybWF0fHx3LHI6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuciwwKSksZzpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5nLDApKSxiOk1hdGgubWluKDI1NSxNYXRoLm1heChzLmIsMCkpLGE6Y319KG8pO3RoaXMuX29yaWdpbmFsSW5wdXQ9byx0aGlzLl9yPWkucix0aGlzLl9nPWkuZyx0aGlzLl9iPWkuYix0aGlzLl9hPWkuYSx0aGlzLl9yb3VuZEE9TWF0aC5yb3VuZCgxMDAqdGhpcy5fYSkvMTAwLHRoaXMuX2Zvcm1hdD1yLmZvcm1hdHx8aS5mb3JtYXQsdGhpcy5fZ3JhZGllbnRUeXBlPXIuZ3JhZGllbnRUeXBlLHRoaXMuX3I8MSYmKHRoaXMuX3I9TWF0aC5yb3VuZCh0aGlzLl9yKSksdGhpcy5fZzwxJiYodGhpcy5fZz1NYXRoLnJvdW5kKHRoaXMuX2cpKSx0aGlzLl9iPDEmJih0aGlzLl9iPU1hdGgucm91bmQodGhpcy5fYikpLHRoaXMuX29rPWkub2t9ZnVuY3Rpb24gbyhlLHQsYSl7ZT1QKGUsMjU1KSx0PVAodCwyNTUpLGE9UChhLDI1NSk7dmFyIG4sbyxyPU1hdGgubWF4KGUsdCxhKSxpPU1hdGgubWluKGUsdCxhKSxzPShyK2kpLzI7aWYocj09aSluPW89MDtlbHNle3ZhciBjPXItaTtzd2l0Y2gobz1zPi41P2MvKDItci1pKTpjLyhyK2kpLHIpe2Nhc2UgZTpuPSh0LWEpL2MrKHQ8YT82OjApO2JyZWFrO2Nhc2UgdDpuPShhLWUpL2MrMjticmVhaztjYXNlIGE6bj0oZS10KS9jKzR9bi89Nn1yZXR1cm57aDpuLHM6byxsOnN9fWZ1bmN0aW9uIHIoZSx0LGEpe2U9UChlLDI1NSksdD1QKHQsMjU1KSxhPVAoYSwyNTUpO3ZhciBuLG8scj1NYXRoLm1heChlLHQsYSksaT1NYXRoLm1pbihlLHQsYSkscz1yLGM9ci1pO2lmKG89MD09PXI/MDpjL3Iscj09aSluPTA7ZWxzZXtzd2l0Y2gocil7Y2FzZSBlOm49KHQtYSkvYysodDxhPzY6MCk7YnJlYWs7Y2FzZSB0Om49KGEtZSkvYysyO2JyZWFrO2Nhc2UgYTpuPShlLXQpL2MrNH1uLz02fXJldHVybntoOm4sczpvLHY6c319ZnVuY3Rpb24gaShlLHQsYSxuKXt2YXIgbz1beChNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSldO3JldHVybiBuJiZvWzBdLmNoYXJBdCgwKT09b1swXS5jaGFyQXQoMSkmJm9bMV0uY2hhckF0KDApPT1vWzFdLmNoYXJBdCgxKSYmb1syXS5jaGFyQXQoMCk9PW9bMl0uY2hhckF0KDEpP29bMF0uY2hhckF0KDApK29bMV0uY2hhckF0KDApK29bMl0uY2hhckF0KDApOm8uam9pbihcIlwiKX1mdW5jdGlvbiBzKGUsdCxhLG4pe3JldHVyblt4KEEobikpLHgoTWF0aC5yb3VuZChlKS50b1N0cmluZygxNikpLHgoTWF0aC5yb3VuZCh0KS50b1N0cmluZygxNikpLHgoTWF0aC5yb3VuZChhKS50b1N0cmluZygxNikpXS5qb2luKFwiXCIpfWZ1bmN0aW9uIGMoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLnMtPXQvMTAwLGEucz1DKGEucyksbihhKX1mdW5jdGlvbiBsKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5zKz10LzEwMCxhLnM9QyhhLnMpLG4oYSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gbihlKS5kZXNhdHVyYXRlKDEwMCl9ZnVuY3Rpb24gdShlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEubCs9dC8xMDAsYS5sPUMoYS5sKSxuKGEpfWZ1bmN0aW9uIHAoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b1JnYigpO3JldHVybiBhLnI9TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsYS5yLU1hdGgucm91bmQoLXQvMTAwKjI1NSkpKSxhLmc9TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsYS5nLU1hdGgucm91bmQoLXQvMTAwKjI1NSkpKSxhLmI9TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsYS5iLU1hdGgucm91bmQoLXQvMTAwKjI1NSkpKSxuKGEpfWZ1bmN0aW9uIHcoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLmwtPXQvMTAwLGEubD1DKGEubCksbihhKX1mdW5jdGlvbiBnKGUsdCl7dmFyIGE9bihlKS50b0hzbCgpLG89KGEuaCt0KSUzNjA7cmV0dXJuIGEuaD1vPDA/MzYwK286byxuKGEpfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9bihlKS50b0hzbCgpO3JldHVybiB0Lmg9KHQuaCsxODApJTM2MCxuKHQpfWZ1bmN0aW9uIG0oZSx0KXtpZihpc05hTih0KXx8dDw9MCl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCB0byBwb2x5YWQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtmb3IodmFyIGE9bihlKS50b0hzbCgpLG89W24oZSldLHI9MzYwL3QsaT0xO2k8dDtpKyspby5wdXNoKG4oe2g6KGEuaCtpKnIpJTM2MCxzOmEucyxsOmEubH0pKTtyZXR1cm4gb31mdW5jdGlvbiBrKGUpe3ZhciB0PW4oZSkudG9Ic2woKSxhPXQuaDtyZXR1cm5bbihlKSxuKHtoOihhKzcyKSUzNjAsczp0LnMsbDp0Lmx9KSxuKHtoOihhKzIxNiklMzYwLHM6dC5zLGw6dC5sfSldfWZ1bmN0aW9uIGIoZSx0LGEpe3Q9dHx8NixhPWF8fDMwO3ZhciBvPW4oZSkudG9Ic2woKSxyPTM2MC9hLGk9W24oZSldO2ZvcihvLmg9KG8uaC0ocip0Pj4xKSs3MjApJTM2MDstLXQ7KW8uaD0oby5oK3IpJTM2MCxpLnB1c2gobihvKSk7cmV0dXJuIGl9ZnVuY3Rpb24gZihlLHQpe3Q9dHx8Njtmb3IodmFyIGE9bihlKS50b0hzdigpLG89YS5oLHI9YS5zLGk9YS52LHM9W10sYz0xL3Q7dC0tOylzLnB1c2gobih7aDpvLHM6cix2Oml9KSksaT0oaStjKSUxO3JldHVybiBzfW4ucHJvdG90eXBlPXtpc0Rhcms6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCcmlnaHRuZXNzKCk8MTI4fSxpc0xpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNEYXJrKCl9LGlzVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2t9LGdldE9yaWdpbmFsSW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZ2luYWxJbnB1dH0sZ2V0Rm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvcm1hdH0sZ2V0QWxwaGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYX0sZ2V0QnJpZ2h0bmVzczpmdW5jdGlvbigpe3ZhciBlPXRoaXMudG9SZ2IoKTtyZXR1cm4oMjk5KmUucis1ODcqZS5nKzExNCplLmIpLzFlM30sZ2V0THVtaW5hbmNlOmZ1bmN0aW9uKCl7dmFyIGUsdCxhLG49dGhpcy50b1JnYigpO3JldHVybiBlPW4uci8yNTUsdD1uLmcvMjU1LGE9bi5iLzI1NSwuMjEyNiooZTw9LjAzOTI4P2UvMTIuOTI6TWF0aC5wb3coKGUrLjA1NSkvMS4wNTUsMi40KSkrLjcxNTIqKHQ8PS4wMzkyOD90LzEyLjkyOk1hdGgucG93KCh0Ky4wNTUpLzEuMDU1LDIuNCkpKy4wNzIyKihhPD0uMDM5Mjg/YS8xMi45MjpNYXRoLnBvdygoYSsuMDU1KS8xLjA1NSwyLjQpKX0sc2V0QWxwaGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2E9dihlKSx0aGlzLl9yb3VuZEE9TWF0aC5yb3VuZCgxMDAqdGhpcy5fYSkvMTAwLHRoaXN9LHRvSHN2OmZ1bmN0aW9uKCl7dmFyIGU9cih0aGlzLl9yLHRoaXMuX2csdGhpcy5fYik7cmV0dXJue2g6MzYwKmUuaCxzOmUucyx2OmUudixhOnRoaXMuX2F9fSx0b0hzdlN0cmluZzpmdW5jdGlvbigpe3ZhciBlPXIodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpLHQ9TWF0aC5yb3VuZCgzNjAqZS5oKSxhPU1hdGgucm91bmQoMTAwKmUucyksbj1NYXRoLnJvdW5kKDEwMCplLnYpO3JldHVybiAxPT10aGlzLl9hP1wiaHN2KFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSlcIjpcImhzdmEoXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvSHNsOmZ1bmN0aW9uKCl7dmFyIGU9byh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYik7cmV0dXJue2g6MzYwKmUuaCxzOmUucyxsOmUubCxhOnRoaXMuX2F9fSx0b0hzbFN0cmluZzpmdW5jdGlvbigpe3ZhciBlPW8odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpLHQ9TWF0aC5yb3VuZCgzNjAqZS5oKSxhPU1hdGgucm91bmQoMTAwKmUucyksbj1NYXRoLnJvdW5kKDEwMCplLmwpO3JldHVybiAxPT10aGlzLl9hP1wiaHNsKFwiK3QrXCIsIFwiK2ErXCIlLCBcIituK1wiJSlcIjpcImhzbGEoXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvSGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLGUpfSx0b0hleFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cIiNcIit0aGlzLnRvSGV4KGUpfSx0b0hleDg6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxhLG4sbyl7dmFyIHI9W3goTWF0aC5yb3VuZChlKS50b1N0cmluZygxNikpLHgoTWF0aC5yb3VuZCh0KS50b1N0cmluZygxNikpLHgoTWF0aC5yb3VuZChhKS50b1N0cmluZygxNikpLHgoQShuKSldO3JldHVybiBvJiZyWzBdLmNoYXJBdCgwKT09clswXS5jaGFyQXQoMSkmJnJbMV0uY2hhckF0KDApPT1yWzFdLmNoYXJBdCgxKSYmclsyXS5jaGFyQXQoMCk9PXJbMl0uY2hhckF0KDEpJiZyWzNdLmNoYXJBdCgwKT09clszXS5jaGFyQXQoMSk/clswXS5jaGFyQXQoMCkrclsxXS5jaGFyQXQoMCkrclsyXS5jaGFyQXQoMCkrclszXS5jaGFyQXQoMCk6ci5qb2luKFwiXCIpfSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYix0aGlzLl9hLGUpfSx0b0hleDhTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuXCIjXCIrdGhpcy50b0hleDgoZSl9LHRvUmdiOmZ1bmN0aW9uKCl7cmV0dXJue3I6TWF0aC5yb3VuZCh0aGlzLl9yKSxnOk1hdGgucm91bmQodGhpcy5fZyksYjpNYXRoLnJvdW5kKHRoaXMuX2IpLGE6dGhpcy5fYX19LHRvUmdiU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PXRoaXMuX2E/XCJyZ2IoXCIrTWF0aC5yb3VuZCh0aGlzLl9yKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9nKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9iKStcIilcIjpcInJnYmEoXCIrTWF0aC5yb3VuZCh0aGlzLl9yKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9nKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9iKStcIiwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b1BlcmNlbnRhZ2VSZ2I6ZnVuY3Rpb24oKXtyZXR1cm57cjpNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlXCIsZzpNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlXCIsYjpNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlXCIsYTp0aGlzLl9hfX0sdG9QZXJjZW50YWdlUmdiU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PXRoaXMuX2E/XCJyZ2IoXCIrTWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9yLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9nLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9iLDI1NSkpK1wiJSlcIjpcInJnYmEoXCIrTWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9yLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9nLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqUCh0aGlzLl9iLDI1NSkpK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b05hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX2E/XCJ0cmFuc3BhcmVudFwiOiEodGhpcy5fYTwxKSYmKFNbaSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiwhMCldfHwhMSl9LHRvRmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciB0PVwiI1wiK3ModGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsdGhpcy5fYSksYT10LG89dGhpcy5fZ3JhZGllbnRUeXBlP1wiR3JhZGllbnRUeXBlID0gMSwgXCI6XCJcIjtpZihlKXt2YXIgcj1uKGUpO2E9XCIjXCIrcyhyLl9yLHIuX2csci5fYixyLl9hKX1yZXR1cm5cInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChcIitvK1wic3RhcnRDb2xvcnN0cj1cIit0K1wiLGVuZENvbG9yc3RyPVwiK2ErXCIpXCJ9LHRvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PSEhZTtlPWV8fHRoaXMuX2Zvcm1hdDt2YXIgYT0hMSxuPXRoaXMuX2E8MSYmdGhpcy5fYT49MDtyZXR1cm4gdHx8IW58fFwiaGV4XCIhPT1lJiZcImhleDZcIiE9PWUmJlwiaGV4M1wiIT09ZSYmXCJoZXg0XCIhPT1lJiZcImhleDhcIiE9PWUmJlwibmFtZVwiIT09ZT8oXCJyZ2JcIj09PWUmJihhPXRoaXMudG9SZ2JTdHJpbmcoKSksXCJwcmdiXCI9PT1lJiYoYT10aGlzLnRvUGVyY2VudGFnZVJnYlN0cmluZygpKSxcImhleFwiIT09ZSYmXCJoZXg2XCIhPT1lfHwoYT10aGlzLnRvSGV4U3RyaW5nKCkpLFwiaGV4M1wiPT09ZSYmKGE9dGhpcy50b0hleFN0cmluZyghMCkpLFwiaGV4NFwiPT09ZSYmKGE9dGhpcy50b0hleDhTdHJpbmcoITApKSxcImhleDhcIj09PWUmJihhPXRoaXMudG9IZXg4U3RyaW5nKCkpLFwibmFtZVwiPT09ZSYmKGE9dGhpcy50b05hbWUoKSksXCJoc2xcIj09PWUmJihhPXRoaXMudG9Ic2xTdHJpbmcoKSksXCJoc3ZcIj09PWUmJihhPXRoaXMudG9Ic3ZTdHJpbmcoKSksYXx8dGhpcy50b0hleFN0cmluZygpKTpcIm5hbWVcIj09PWUmJjA9PT10aGlzLl9hP3RoaXMudG9OYW1lKCk6dGhpcy50b1JnYlN0cmluZygpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMudG9TdHJpbmcoKSl9LF9hcHBseU1vZGlmaWNhdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBhPWUuYXBwbHkobnVsbCxbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwodCkpKTtyZXR1cm4gdGhpcy5fcj1hLl9yLHRoaXMuX2c9YS5fZyx0aGlzLl9iPWEuX2IsdGhpcy5zZXRBbHBoYShhLl9hKSx0aGlzfSxsaWdodGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHUsYXJndW1lbnRzKX0sYnJpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24ocCxhcmd1bWVudHMpfSxkYXJrZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24odyxhcmd1bWVudHMpfSxkZXNhdHVyYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGMsYXJndW1lbnRzKX0sc2F0dXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24obCxhcmd1bWVudHMpfSxncmV5c2NhbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZCxhcmd1bWVudHMpfSxzcGluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGcsYXJndW1lbnRzKX0sX2FwcGx5Q29tYmluYXRpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hcHBseShudWxsLFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbCh0KSkpfSxhbmFsb2dvdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihiLGFyZ3VtZW50cyl9LGNvbXBsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihoLGFyZ3VtZW50cyl9LG1vbm9jaHJvbWF0aWM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihmLGFyZ3VtZW50cyl9LHNwbGl0Y29tcGxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGssYXJndW1lbnRzKX0sdHJpYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihtLFszXSl9LHRldHJhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG0sWzRdKX19LG4uZnJvbVJhdGlvPWZ1bmN0aW9uKHQsYSl7aWYoXCJvYmplY3RcIj09ZSh0KSl7dmFyIG89e307Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKG9bcl09XCJhXCI9PT1yP3Rbcl06SSh0W3JdKSk7dD1vfXJldHVybiBuKHQsYSl9LG4uZXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISghZXx8IXQpJiZuKGUpLnRvUmdiU3RyaW5nKCk9PW4odCkudG9SZ2JTdHJpbmcoKX0sbi5yYW5kb209ZnVuY3Rpb24oKXtyZXR1cm4gbi5mcm9tUmF0aW8oe3I6TWF0aC5yYW5kb20oKSxnOk1hdGgucmFuZG9tKCksYjpNYXRoLnJhbmRvbSgpfSl9LG4ubWl4PWZ1bmN0aW9uKGUsdCxhKXthPTA9PT1hPzA6YXx8NTA7dmFyIG89bihlKS50b1JnYigpLHI9bih0KS50b1JnYigpLGk9YS8xMDA7cmV0dXJuIG4oe3I6KHIuci1vLnIpKmkrby5yLGc6KHIuZy1vLmcpKmkrby5nLGI6KHIuYi1vLmIpKmkrby5iLGE6KHIuYS1vLmEpKmkrby5hfSl9LG4ucmVhZGFiaWxpdHk9ZnVuY3Rpb24oZSx0KXt2YXIgYT1uKGUpLG89bih0KTtyZXR1cm4oTWF0aC5tYXgoYS5nZXRMdW1pbmFuY2UoKSxvLmdldEx1bWluYW5jZSgpKSsuMDUpLyhNYXRoLm1pbihhLmdldEx1bWluYW5jZSgpLG8uZ2V0THVtaW5hbmNlKCkpKy4wNSl9LG4uaXNSZWFkYWJsZT1mdW5jdGlvbihlLHQsYSl7dmFyIG8scixpLHMsYyxsPW4ucmVhZGFiaWxpdHkoZSx0KTtzd2l0Y2gocj0hMSwoaT1hLFwiQUFcIiE9PShzPSgoaT1pfHx7bGV2ZWw6XCJBQVwiLHNpemU6XCJzbWFsbFwifSkubGV2ZWx8fFwiQUFcIikudG9VcHBlckNhc2UoKSkmJlwiQUFBXCIhPT1zJiYocz1cIkFBXCIpLFwic21hbGxcIiE9PShjPShpLnNpemV8fFwic21hbGxcIikudG9Mb3dlckNhc2UoKSkmJlwibGFyZ2VcIiE9PWMmJihjPVwic21hbGxcIiksbz17bGV2ZWw6cyxzaXplOmN9KS5sZXZlbCtvLnNpemUpe2Nhc2VcIkFBc21hbGxcIjpjYXNlXCJBQUFsYXJnZVwiOnI9bD49NC41O2JyZWFrO2Nhc2VcIkFBbGFyZ2VcIjpyPWw+PTM7YnJlYWs7Y2FzZVwiQUFBc21hbGxcIjpyPWw+PTd9cmV0dXJuIHJ9LG4ubW9zdFJlYWRhYmxlPWZ1bmN0aW9uKGUsdCxhKXt2YXIgbyxyLGkscyxjPW51bGwsbD0wO3I9KGE9YXx8e30pLmluY2x1ZGVGYWxsYmFja0NvbG9ycyxpPWEubGV2ZWwscz1hLnNpemU7Zm9yKHZhciBkPTA7ZDx0Lmxlbmd0aDtkKyspKG89bi5yZWFkYWJpbGl0eShlLHRbZF0pKT5sJiYobD1vLGM9bih0W2RdKSk7cmV0dXJuIG4uaXNSZWFkYWJsZShlLGMse2xldmVsOmksc2l6ZTpzfSl8fCFyP2M6KGEuaW5jbHVkZUZhbGxiYWNrQ29sb3JzPSExLG4ubW9zdFJlYWRhYmxlKGUsW1wiI2ZmZlwiLFwiIzAwMFwiXSxhKSl9O3ZhciB5PW4ubmFtZXM9e2FsaWNlYmx1ZTpcImYwZjhmZlwiLGFudGlxdWV3aGl0ZTpcImZhZWJkN1wiLGFxdWE6XCIwZmZcIixhcXVhbWFyaW5lOlwiN2ZmZmQ0XCIsYXp1cmU6XCJmMGZmZmZcIixiZWlnZTpcImY1ZjVkY1wiLGJpc3F1ZTpcImZmZTRjNFwiLGJsYWNrOlwiMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCJmZmViY2RcIixibHVlOlwiMDBmXCIsYmx1ZXZpb2xldDpcIjhhMmJlMlwiLGJyb3duOlwiYTUyYTJhXCIsYnVybHl3b29kOlwiZGViODg3XCIsYnVybnRzaWVubmE6XCJlYTdlNWRcIixjYWRldGJsdWU6XCI1ZjllYTBcIixjaGFydHJldXNlOlwiN2ZmZjAwXCIsY2hvY29sYXRlOlwiZDI2OTFlXCIsY29yYWw6XCJmZjdmNTBcIixjb3JuZmxvd2VyYmx1ZTpcIjY0OTVlZFwiLGNvcm5zaWxrOlwiZmZmOGRjXCIsY3JpbXNvbjpcImRjMTQzY1wiLGN5YW46XCIwZmZcIixkYXJrYmx1ZTpcIjAwMDA4YlwiLGRhcmtjeWFuOlwiMDA4YjhiXCIsZGFya2dvbGRlbnJvZDpcImI4ODYwYlwiLGRhcmtncmF5OlwiYTlhOWE5XCIsZGFya2dyZWVuOlwiMDA2NDAwXCIsZGFya2dyZXk6XCJhOWE5YTlcIixkYXJra2hha2k6XCJiZGI3NmJcIixkYXJrbWFnZW50YTpcIjhiMDA4YlwiLGRhcmtvbGl2ZWdyZWVuOlwiNTU2YjJmXCIsZGFya29yYW5nZTpcImZmOGMwMFwiLGRhcmtvcmNoaWQ6XCI5OTMyY2NcIixkYXJrcmVkOlwiOGIwMDAwXCIsZGFya3NhbG1vbjpcImU5OTY3YVwiLGRhcmtzZWFncmVlbjpcIjhmYmM4ZlwiLGRhcmtzbGF0ZWJsdWU6XCI0ODNkOGJcIixkYXJrc2xhdGVncmF5OlwiMmY0ZjRmXCIsZGFya3NsYXRlZ3JleTpcIjJmNGY0ZlwiLGRhcmt0dXJxdW9pc2U6XCIwMGNlZDFcIixkYXJrdmlvbGV0OlwiOTQwMGQzXCIsZGVlcHBpbms6XCJmZjE0OTNcIixkZWVwc2t5Ymx1ZTpcIjAwYmZmZlwiLGRpbWdyYXk6XCI2OTY5NjlcIixkaW1ncmV5OlwiNjk2OTY5XCIsZG9kZ2VyYmx1ZTpcIjFlOTBmZlwiLGZpcmVicmljazpcImIyMjIyMlwiLGZsb3JhbHdoaXRlOlwiZmZmYWYwXCIsZm9yZXN0Z3JlZW46XCIyMjhiMjJcIixmdWNoc2lhOlwiZjBmXCIsZ2FpbnNib3JvOlwiZGNkY2RjXCIsZ2hvc3R3aGl0ZTpcImY4ZjhmZlwiLGdvbGQ6XCJmZmQ3MDBcIixnb2xkZW5yb2Q6XCJkYWE1MjBcIixncmF5OlwiODA4MDgwXCIsZ3JlZW46XCIwMDgwMDBcIixncmVlbnllbGxvdzpcImFkZmYyZlwiLGdyZXk6XCI4MDgwODBcIixob25leWRldzpcImYwZmZmMFwiLGhvdHBpbms6XCJmZjY5YjRcIixpbmRpYW5yZWQ6XCJjZDVjNWNcIixpbmRpZ286XCI0YjAwODJcIixpdm9yeTpcImZmZmZmMFwiLGtoYWtpOlwiZjBlNjhjXCIsbGF2ZW5kZXI6XCJlNmU2ZmFcIixsYXZlbmRlcmJsdXNoOlwiZmZmMGY1XCIsbGF3bmdyZWVuOlwiN2NmYzAwXCIsbGVtb25jaGlmZm9uOlwiZmZmYWNkXCIsbGlnaHRibHVlOlwiYWRkOGU2XCIsbGlnaHRjb3JhbDpcImYwODA4MFwiLGxpZ2h0Y3lhbjpcImUwZmZmZlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiZmFmYWQyXCIsbGlnaHRncmF5OlwiZDNkM2QzXCIsbGlnaHRncmVlbjpcIjkwZWU5MFwiLGxpZ2h0Z3JleTpcImQzZDNkM1wiLGxpZ2h0cGluazpcImZmYjZjMVwiLGxpZ2h0c2FsbW9uOlwiZmZhMDdhXCIsbGlnaHRzZWFncmVlbjpcIjIwYjJhYVwiLGxpZ2h0c2t5Ymx1ZTpcIjg3Y2VmYVwiLGxpZ2h0c2xhdGVncmF5OlwiNzg5XCIsbGlnaHRzbGF0ZWdyZXk6XCI3ODlcIixsaWdodHN0ZWVsYmx1ZTpcImIwYzRkZVwiLGxpZ2h0eWVsbG93OlwiZmZmZmUwXCIsbGltZTpcIjBmMFwiLGxpbWVncmVlbjpcIjMyY2QzMlwiLGxpbmVuOlwiZmFmMGU2XCIsbWFnZW50YTpcImYwZlwiLG1hcm9vbjpcIjgwMDAwMFwiLG1lZGl1bWFxdWFtYXJpbmU6XCI2NmNkYWFcIixtZWRpdW1ibHVlOlwiMDAwMGNkXCIsbWVkaXVtb3JjaGlkOlwiYmE1NWQzXCIsbWVkaXVtcHVycGxlOlwiOTM3MGRiXCIsbWVkaXVtc2VhZ3JlZW46XCIzY2IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCI3YjY4ZWVcIixtZWRpdW1zcHJpbmdncmVlbjpcIjAwZmE5YVwiLG1lZGl1bXR1cnF1b2lzZTpcIjQ4ZDFjY1wiLG1lZGl1bXZpb2xldHJlZDpcImM3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIjE5MTk3MFwiLG1pbnRjcmVhbTpcImY1ZmZmYVwiLG1pc3R5cm9zZTpcImZmZTRlMVwiLG1vY2Nhc2luOlwiZmZlNGI1XCIsbmF2YWpvd2hpdGU6XCJmZmRlYWRcIixuYXZ5OlwiMDAwMDgwXCIsb2xkbGFjZTpcImZkZjVlNlwiLG9saXZlOlwiODA4MDAwXCIsb2xpdmVkcmFiOlwiNmI4ZTIzXCIsb3JhbmdlOlwiZmZhNTAwXCIsb3JhbmdlcmVkOlwiZmY0NTAwXCIsb3JjaGlkOlwiZGE3MGQ2XCIscGFsZWdvbGRlbnJvZDpcImVlZThhYVwiLHBhbGVncmVlbjpcIjk4ZmI5OFwiLHBhbGV0dXJxdW9pc2U6XCJhZmVlZWVcIixwYWxldmlvbGV0cmVkOlwiZGI3MDkzXCIscGFwYXlhd2hpcDpcImZmZWZkNVwiLHBlYWNocHVmZjpcImZmZGFiOVwiLHBlcnU6XCJjZDg1M2ZcIixwaW5rOlwiZmZjMGNiXCIscGx1bTpcImRkYTBkZFwiLHBvd2RlcmJsdWU6XCJiMGUwZTZcIixwdXJwbGU6XCI4MDAwODBcIixyZWJlY2NhcHVycGxlOlwiNjYzMzk5XCIscmVkOlwiZjAwXCIscm9zeWJyb3duOlwiYmM4ZjhmXCIscm95YWxibHVlOlwiNDE2OWUxXCIsc2FkZGxlYnJvd246XCI4YjQ1MTNcIixzYWxtb246XCJmYTgwNzJcIixzYW5keWJyb3duOlwiZjRhNDYwXCIsc2VhZ3JlZW46XCIyZThiNTdcIixzZWFzaGVsbDpcImZmZjVlZVwiLHNpZW5uYTpcImEwNTIyZFwiLHNpbHZlcjpcImMwYzBjMFwiLHNreWJsdWU6XCI4N2NlZWJcIixzbGF0ZWJsdWU6XCI2YTVhY2RcIixzbGF0ZWdyYXk6XCI3MDgwOTBcIixzbGF0ZWdyZXk6XCI3MDgwOTBcIixzbm93OlwiZmZmYWZhXCIsc3ByaW5nZ3JlZW46XCIwMGZmN2ZcIixzdGVlbGJsdWU6XCI0NjgyYjRcIix0YW46XCJkMmI0OGNcIix0ZWFsOlwiMDA4MDgwXCIsdGhpc3RsZTpcImQ4YmZkOFwiLHRvbWF0bzpcImZmNjM0N1wiLHR1cnF1b2lzZTpcIjQwZTBkMFwiLHZpb2xldDpcImVlODJlZVwiLHdoZWF0OlwiZjVkZWIzXCIsd2hpdGU6XCJmZmZcIix3aGl0ZXNtb2tlOlwiZjVmNWY1XCIseWVsbG93OlwiZmYwXCIseWVsbG93Z3JlZW46XCI5YWNkMzJcIn0sUz1uLmhleE5hbWVzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgYSBpbiBlKWUuaGFzT3duUHJvcGVydHkoYSkmJih0W2VbYV1dPWEpO3JldHVybiB0fSh5KTtmdW5jdGlvbiB2KGUpe3JldHVybiBlPXBhcnNlRmxvYXQoZSksKGlzTmFOKGUpfHxlPDB8fGU+MSkmJihlPTEpLGV9ZnVuY3Rpb24gUChlLHQpeyhmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPWUuaW5kZXhPZihcIi5cIikmJjE9PT1wYXJzZUZsb2F0KGUpfSkoZSkmJihlPVwiMTAwJVwiKTt2YXIgYT1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPWUuaW5kZXhPZihcIiVcIil9KGUpO3JldHVybiBlPU1hdGgubWluKHQsTWF0aC5tYXgoMCxwYXJzZUZsb2F0KGUpKSksYSYmKGU9cGFyc2VJbnQoZSp0LDEwKS8xMDApLE1hdGguYWJzKGUtdCk8MWUtNj8xOmUldC9wYXJzZUZsb2F0KHQpfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIE1hdGgubWluKDEsTWF0aC5tYXgoMCxlKSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNil9ZnVuY3Rpb24geChlKXtyZXR1cm4gMT09ZS5sZW5ndGg/XCIwXCIrZTpcIlwiK2V9ZnVuY3Rpb24gSShlKXtyZXR1cm4gZTw9MSYmKGU9MTAwKmUrXCIlXCIpLGV9ZnVuY3Rpb24gQShlKXtyZXR1cm4gTWF0aC5yb3VuZCgyNTUqcGFyc2VGbG9hdChlKSkudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIFcoZSl7cmV0dXJuIE0oZSkvMjU1fXZhciBELFQsQixSPShUPVwiW1xcXFxzfFxcXFwoXSsoXCIrKEQ9XCIoPzpbLVxcXFwrXT9cXFxcZCpcXFxcLlxcXFxkKyU/KXwoPzpbLVxcXFwrXT9cXFxcZCslPylcIikrXCIpWyx8XFxcXHNdKyhcIitEK1wiKVssfFxcXFxzXSsoXCIrRCtcIilcXFxccypcXFxcKT9cIixCPVwiW1xcXFxzfFxcXFwoXSsoXCIrRCtcIilbLHxcXFxcc10rKFwiK0QrXCIpWyx8XFxcXHNdKyhcIitEK1wiKVssfFxcXFxzXSsoXCIrRCtcIilcXFxccypcXFxcKT9cIix7Q1NTX1VOSVQ6bmV3IFJlZ0V4cChEKSxyZ2I6bmV3IFJlZ0V4cChcInJnYlwiK1QpLHJnYmE6bmV3IFJlZ0V4cChcInJnYmFcIitCKSxoc2w6bmV3IFJlZ0V4cChcImhzbFwiK1QpLGhzbGE6bmV3IFJlZ0V4cChcImhzbGFcIitCKSxoc3Y6bmV3IFJlZ0V4cChcImhzdlwiK1QpLGhzdmE6bmV3IFJlZ0V4cChcImhzdmFcIitCKSxoZXgzOi9eIz8oWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxoZXg2Oi9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxoZXg0Oi9eIz8oWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8saGV4ODovXiM/KFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvfSk7ZnVuY3Rpb24gRShlKXtyZXR1cm4hIVIuQ1NTX1VOSVQuZXhlYyhlKX1yZXR1cm4gbn0oKX19LG49e307ZnVuY3Rpb24gbyhlKXt2YXIgdD1uW2VdO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHQuZXhwb3J0czt2YXIgcj1uW2VdPXtleHBvcnRzOnt9fTtyZXR1cm4gYVtlXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxvKSxyLmV4cG9ydHN9dmFyIHI9e307KCgpPT57dmFyIGU9cjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmNyZWF0ZVRoZW1lPWUuUGFsZXR0ZT1lLkNvbG9yPXZvaWQgMDt2YXIgdD1vKDIzMTcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiQ29sb3JcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Db2xvcn19KTt2YXIgYT1vKDU5MzkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiUGFsZXR0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlBhbGV0dGV9fSk7dmFyIG49byg2ODkzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImNyZWF0ZVRoZW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uY3JlYXRlVGhlbWV9fSl9KSgpO3ZhciBpPXQ7Zm9yKHZhciBzIGluIHIpaVtzXT1yW3NdO3IuX19lc01vZHVsZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDg3NzooKT0+e30sNjc6KCk9Pnt9fSx0PXt9O2Z1bmN0aW9uIGEobil7dmFyIG89dFtuXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIHI9dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0ocixyLmV4cG9ydHMsYSksci5leHBvcnRzfWEubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIGEuZCh0LHthOnR9KSx0fSxhLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClhLm8odCxuKSYmIWEubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGEubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksYS5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbj17fTsoKCk9PntcInVzZSBzdHJpY3RcIjthLnIobiksYS5kKG4se0FwcE1hbmlmZXN0VHlwZTooKT0+bCxCb29rbWFya0l0ZW1Db250ZXh0TWVudU9wdGlvblR5cGU6KCk9PnksQnJvd3NlckJ1dHRvblR5cGU6KCk9PnYsQ29sb3JTY2hlbWVPcHRpb25UeXBlOigpPT5rLEN1c3RvbUFjdGlvbkNhbGxlclR5cGU6KCk9Pk0sRG9jazooKT0+dSxFbnRlcnByaXNlTWFpbkNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+ZixHbG9iYWxDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9Pm0sUGFnZUNoYW5nZUV2ZW50VHlwZTooKT0+aCxQYWdlVGFiQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5iLFBhbmVsUG9zaXRpb246KCk9PmcsU1VQUE9SVEVEX0xBTkdVQUdFUzooKT0+eCxTYXZlQnV0dG9uQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5QLFNhdmVNb2RhbFR5cGU6KCk9PkksVmlld1RhYk1lbnVPcHRpb25UeXBlOigpPT5TLFdpbmRvd1R5cGU6KCk9PkMsZ2V0Q3VycmVudFN5bmM6KCk9PmJuLGluaXQ6KCk9PkhzLHdyYXBTeW5jOigpPT5rbn0pO3ZhciBlPXt9O2EucihlKSxhLmQoZSx7Y3JlYXRlTmFtZXNwYWNlZExvY2FsU3RvcmFnZTooKT0+UHQsZ2V0SXRlbTooKT0+eHQscmVtb3ZlSXRlbTooKT0+SXQsc2V0SXRlbTooKT0+TXR9KTt2YXIgdCxvLHIsaSxzLGMsbCxkLHU9e307YS5yKHUpLGEuZCh1LHtpbml0OigpPT5HdH0pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0odHx8KHQ9e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0oc3x8KHM9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShkfHwoZD17fSkpO3ZhciBwLHcsZyxoLG0sayxiLGYseSxTLHYsUCxDLE07IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShwfHwocD17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KHd8fCh3PXt9KSksZnVuY3Rpb24oZSl7ZS5MZWZ0PVwiTGVmdFwiLGUuUmlnaHQ9XCJSaWdodFwiLGUuVG9wPVwiVG9wXCIsZS5Cb3R0b209XCJCb3R0b21cIn0oZ3x8KGc9e30pKSxmdW5jdGlvbihlKXtlLlVybENoYW5nZT1cIlVSTF9DSEFOR0VcIixlLlZpZXdBZGRlZD1cIlZJRVdfQURERURcIixlLlZpZXdSZW1vdmVkPVwiVklFV19SRU1PVkVEXCIsZS5QYWdlQ29udGV4dEFkZGVkPVwiUEFHRV9DT05URVhUX0FEREVEXCIsZS5QYWdlQ29udGV4dFJlbW92ZWQ9XCJQQUdFX0NPTlRFWFRfUkVNT1ZFRFwifShofHwoaD17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3V2luZG93PVwiTmV3V2luZG93XCIsZS5OZXdQYWdlPVwiTmV3UGFnZVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLkNsb3NlV2luZG93PVwiQ2xvc2VXaW5kb3dcIixlLlJlc3RvcmVDaGFuZ2VzPVwiUmVzdG9yZUNoYW5nZXNcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLlJlbmFtZVdvcmtzcGFjZT1cIlJlbmFtZVdvcmtzcGFjZVwiLGUuU3dpdGNoV29ya3NwYWNlPVwiU3dpdGNoV29ya3NwYWNlXCIsZS5EZWxldGVXb3Jrc3BhY2U9XCJEZWxldGVXb3Jrc3BhY2VcIixlLkRvd25sb2Fkcz1cIkRvd25sb2Fkc1wiLGUuT3BlblN0b3JlZnJvbnQ9XCJPcGVuU3RvcmVmcm9udFwiLGUuTWFuYWdlRGVza3RvcFNpZ25hbHM9XCJNYW5hZ2VEZXNrdG9wU2lnbmFsc1wiLGUuQXBwZWFyYW5jZT1cIkFwcGVhcmFuY2VcIixlLlF1aXQ9XCJRdWl0XCIsZS5DdXN0b209XCJDdXN0b21cIn0obXx8KG09e30pKSxmdW5jdGlvbihlKXtlLkxpZ2h0PVwibGlnaHRcIixlLkRhcms9XCJkYXJrXCIsZS5TeXN0ZW09XCJzeXN0ZW1cIn0oa3x8KGs9e30pKSxmdW5jdGlvbihlKXtlLkNsb3NlPVwiQ2xvc2VcIixlLkR1cGxpY2F0ZT1cIkR1cGxpY2F0ZVwiLGUuUmVuYW1lPVwiUmVuYW1lXCIsZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZSBBc1wiLGUuTmV3UGFnZT1cIk5ldyBQYWdlXCIsZS5EZWxldGVQYWdlPVwiRGVsZXRlIFBhZ2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVmcmVzaD1cIlJlZnJlc2hcIixlLkNsb3NlT3RoZXJzPVwiQ2xvc2Ugb3RoZXJzXCIsZS5EZWxldGU9XCJEZWxldGVcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLk1hbmFnZURlc2t0b3BTaWduYWxzPVwiTWFuYWdlRGVza3RvcFNpZ25hbHNcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGJ8fChiPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NrPVwiTG9ja1wiLGUuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5BZGRUb0NoYW5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuTWFuYWdlRGVza3RvcFNpZ25hbHM9XCJNYW5hZ2VEZXNrdG9wU2lnbmFsc1wiLGUuUHJpbnQ9XCJQcmludFwiLGUuUGluPVwiUGluXCJ9KGZ8fChmPXt9KSksZnVuY3Rpb24oZSl7ZS5FZGl0TmFtZT1cIkVkaXQgTmFtZVwiLGUuTW92ZT1cIk1vdmVcIixlLkRlbGV0ZT1cIkRlbGV0ZVwifSh5fHwoeT17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3Vmlldz1cIk5ld1ZpZXdcIixlLkR1cGxpY2F0ZVZpZXdzPVwiRHVwbGljYXRlVmlld1wiLGUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcj1cIk9wZW5XaXRoRGVmYXVsdEJyb3dzZXJcIixlLlJlbG9hZFZpZXdzPVwiUmVsb2FkVGFiXCIsZS5DbG9zZVZpZXdzPVwiQ2xvc2VUYWJcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJSZW1vdmVGcm9tQ2hhbm5lbFwiLGUuQmFjaz1cIkJhY2tcIixlLkZvcndhcmQ9XCJGb3J3YXJkXCIsZS5QcmludD1cIlByaW50XCIsZS5QcmludEFsbD1cIlByaW50QWxsXCIsZS5QcmludFNjcmVlbj1cIlByaW50U2NyZWVuXCIsZS5DdXN0b209XCJDdXN0b21cIn0oU3x8KFM9e30pKSxmdW5jdGlvbihlKXtlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQ29sb3JMaW5raW5nPVwiQ29sb3JMaW5raW5nXCIsZS5QcmVzZXRMYXlvdXRzPVwiUHJlc2V0TGF5b3V0c1wiLGUuTG9ja1VubG9ja1BhZ2U9XCJMb2NrVW5sb2NrUGFnZVwiLGUuU2F2ZU1lbnU9XCJTYXZlTWVudVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuTWluaW1pc2U9XCJNaW5pbWlzZVwiLGUuTWF4aW1pc2U9XCJNYXhpbWlzZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHZ8fCh2PXt9KSksZnVuY3Rpb24oZSl7ZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KFB8fChQPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiYnJvd3NlclwiLGUuUGxhdGZvcm09XCJwbGF0Zm9ybVwifShDfHwoQz17fSkpLGZ1bmN0aW9uKGUpe2UuQ3VzdG9tQnV0dG9uPVwiQ3VzdG9tQnV0dG9uXCIsZS5TdG9yZUN1c3RvbUJ1dHRvbj1cIlN0b3JlQ3VzdG9tQnV0dG9uXCIsZS5DdXN0b21Ecm9wZG93bkl0ZW09XCJDdXN0b21Ecm9wZG93bkl0ZW1cIixlLkdsb2JhbENvbnRleHRNZW51PVwiR2xvYmFsQ29udGV4dE1lbnVcIixlLlZpZXdUYWJDb250ZXh0TWVudT1cIlZpZXdUYWJDb250ZXh0TWVudVwiLGUuUGFnZVRhYkNvbnRleHRNZW51PVwiUGFnZVRhYkNvbnRleHRNZW51XCIsZS5TYXZlQnV0dG9uQ29udGV4dE1lbnU9XCJTYXZlQnV0dG9uQ29udGV4dE1lbnVcIixlLkFQST1cIkFQSVwifShNfHwoTT17fSkpO2NvbnN0IHg9W1wiZW4tVVNcIixcImphLUpQXCIsXCJ6aC1DTlwiLFwia28tS1JcIixcInJ1LVJVXCIsXCJkZS1ERVwiLFwiemgtSGFudFwiXTt2YXIgSSxBOyFmdW5jdGlvbihlKXtlLlNBVkVfUEFHRT1cIlNBVkVfUEFHRVwiLGUuU0FWRV9XT1JLU1BBQ0U9XCJTQVZFX1dPUktTUEFDRVwiLGUuU0FWRV9QQUdFX0FTPVwiU0FWRV9QQUdFX0FTXCIsZS5TQVZFX1dPUktTUEFDRV9BUz1cIlNBVkVfV09SS1NQQUNFX0FTXCIsZS5SRU5BTUVfUEFHRT1cIlJFTkFNRV9QQUdFXCIsZS5SRU5BTUVfV09SS1NQQUNFPVwiUkVOQU1FX1dPUktTUEFDRVwifShJfHwoST17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0oQXx8KEE9e30pKTtjb25zdCBXPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sRD0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLFQ9RCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixCPUQ/d2luZG93Lm9yaWdpbjpBLkxvY2FsLFI9VyYmZmluLm1lLnV1aWQsRT1XJiZmaW4ubWUubmFtZSxGPVcmJmZpbi5tZS5lbnRpdHlUeXBlLFY9KEEuTG9jYWwsQS5EZXYsQS5TdGFnaW5nLFwicHJvZFwiPT09QS5Qcm9kKSxOPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6QitlLEw9TihcImh0dHBzOi8vd29ya3NwYWNlLm9wZW5maW4uY28vd29ya3NwYWNlLzIyLjMuOVwiKSxfPU4oXCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMi4zLjlcIiksVT0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmTihXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZOKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiNDIuMTM4LjEwMC4xMDFcIiksTz1cIjIyLjMuOVwiO1widW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfQlVJTERfU0hBJiZXT1JLU1BBQ0VfQlVJTERfU0hBO3ZhciBHLEg7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lL1wiLGUuSG9tZVNlYXJjaD1cIi9ob21lLz9kZWVwbGluaz1zZWFyY2hcIixlLkhvbWVQYWdlc1JlbmFtZT1cIi9ob21lL3BhZ2VzL3JlbmFtZS9cIixlLkRvY2s9XCIvZG9jay9cIixlLkRvY3M9XCIvcHJvdmlkZXIvZG9jcy9cIixlLlN0b3JlZnJvbnQ9XCIvc3RvcmVmcm9udC9cIixlLkRlcHJlY2F0ZWRBbGVydD1cIi9wcm92aWRlci9kZXByZWNhdGVkLWFsZXJ0L1wiLGUuQW5hbHl0aWNzPVwiL3Byb3ZpZGVyL2FuYWx5dGljcy9cIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyL1wifShHfHwoRz17fSkpLGZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIi9icm93c2VyL1wiLGUuQnJvd3NlclBvcHVwTWVudT1cIi9wb3B1cC1tZW51L1wiLGUuQnJvd3NlclBvcHVwTWVudVNhdmVNb2RhbD1cIi9wb3B1cC1tZW51L3NhdmUtbW9kYWwvXCIsZS5Ccm93c2VyUG9wdXBNZW51TGF5b3V0cz1cIi9wb3B1cC1tZW51L2xheW91dHMvbGF5b3V0cy9cIixlLkJyb3dzZXJQb3B1cE1lbnVDb2xvckxpbmtpbmc9XCIvcG9wdXAtbWVudS9jb2xvci1saW5raW5nL2NvbG9yLWxpbmtpbmcvXCIsZS5Ccm93c2VySW5kaWNhdG9yPVwiL2luZGljYXRvci9cIixlLkJyb3dzZXJQb3B1cE1lbnVBZGRyZXNzU2VhcmNoUmVzdWx0c1ZpZXc9XCIvcG9wdXAtbWVudS9hZGRyZXNzLXNlYXJjaC1yZXN1bHRzLXZpZXcvXCIsZS5SZXNwb25zZU1vZGFsPVwiL3BvcHVwLW1lbnUvcmVzcG9uc2UtbW9kYWwvXCIsZS5DbG9zZUNvbmZpcm1hdGlvbk1vZGFsPVwiL3BvcHVwLW1lbnUvY2xvc2UtY29uZmlybWF0aW9uLW1vZGFsL1wiLGUuRW50ZXJwcmlzZUJyb3dzZXI9XCIvZW50ZXJwcmlzZS9cIixlLkVudGVycHJpc2VMYW5kaW5nUGFnZT1cIi9lbnRlcnByaXNlL2xhbmRpbmcvXCIsZS5FbnRlcnByaXNlQ29udGV4dE1lbnU9XCIvY29udGV4dC1tZW51L1wiLGUuRW50ZXJwcmlzZUJvb2ttYXJrRGlhbG9nPVwiL2Jvb2ttYXJrLWRpYWxvZy9cIixlLkVudGVycHJpc2VBYm91dFBhZ2U9XCIvcG9wdXAtbWVudS9hYm91dC9cIixlLkRyb3Bkb3duTWVudT1cIi9kcm9wZG93bi1tZW51L1wiLGUuRW50ZXJwcmlzZURvY2s9XCIvZG9jay9cIixlLlpvb21Db250cm9sc0RpYWxvZz1cIi96b29tLWNvbnRyb2xzLWRpYWxvZy9cIixlLkRlc2t0b3BTaWduYWxzTW9kYWw9XCIvcG9wdXAtbWVudS9kZXNrdG9wLXNpZ25hbHMtbW9kYWwvXCJ9KEh8fChIPXt9KSk7Y29uc3QgJD17Li4uRywuLi5IfTt2YXIgejshZnVuY3Rpb24oZSl7ZS5TZWFyY2g9XCJzZWFyY2hcIn0oenx8KHo9e30pKTtjb25zdCBLPSQ7YXN5bmMgZnVuY3Rpb24gSigpe2NvbnN0IGU9XCJnZXRNYW5pZmVzdE92ZXJyaWRlc1wiLHttYW5pZmVzdDp0LGluaXRpYWxPcHRpb25zOmF9PWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldEluZm8oKTtyZXR1cm4gdD8ucGxhdGZvcm0ud29ya3NwYWNlfHx0Py5wbGF0Zm9ybS5ob21lfHxhPy53b3Jrc3BhY2V8fGE/LmhvbWV8fGNvbnNvbGUud2FybihgJHtlfTogTWlzc2luZyBIb21lIGRldmVsb3BtZW50IG1hbmlmZXN0IG92ZXJyaWRlcywgdXNpbmcgRGVza3RvcCBPd25lciBTZXR0aW5ncy5gKSx0Py5wbGF0Zm9ybS53b3Jrc3BhY2U/KEpTT04uc3RyaW5naWZ5KHQ/LnBsYXRmb3JtLndvcmtzcGFjZSksdD8ucGxhdGZvcm0ud29ya3NwYWNlKTp0Py5wbGF0Zm9ybS5ob21lPyhKU09OLnN0cmluZ2lmeSh0Py5wbGF0Zm9ybS5ob21lKSx0Py5wbGF0Zm9ybS5ob21lKTphPy53b3Jrc3BhY2U/KEpTT04uc3RyaW5naWZ5KGE/LndvcmtzcGFjZSksYT8ud29ya3NwYWNlKTphPy5ob21lPyhKU09OLnN0cmluZ2lmeShhPy5ob21lKSxhPy5ob21lKTp7fX1jb25zdCBaPWU9PmZpbi5TeXN0ZW0uZ2V0U3lzdGVtQXBwQ29uZmlnKGUpO2FzeW5jIGZ1bmN0aW9uIHEoKXtjb25zdCBlPVwiZ2V0RE9TT3ZlcnJpZGVzXCI7aWYoIVcpcmV0dXJuIGNvbnNvbGUud2FybihgJHtlfTogdGhlIGZpbiBBUEkgd2FzIG5vdCBhdmFpbGFibGUsIHJldHVybmluZyBubyByZXN1bHRgKSx7fTt0cnl7bGV0IHQ9YXdhaXQgWihcIndvcmtzcGFjZVwiKS5jYXRjaCgodD0+e2NvbnNvbGUud2FybihgJHtlfTogY3VzdG9tQ29uZmlnIGVudHJ5IGZvciBTeXN0ZW1BcHAgd29ya3NwYWNlIG5vdCBhdmFpbGFibGUgaW4gRGVza3RvcCBPd25lciBTZXR0aW5ncy4gJHt0Py5tZXNzYWdlfWApfSkpO3JldHVybiB0fHwodD1hd2FpdCBaKFwiaG9tZVwiKSksSlNPTi5zdHJpbmdpZnkodCksdH1jYXRjaCh0KXtpZighVilyZXR1cm57fTtpZighKHQgaW5zdGFuY2VvZiBFcnJvcikpdGhyb3cgdDtjb25zb2xlLndhcm4oYCR7ZX06IE1pc3NpbmcgV29ya3NwYWNlIERlc2t0b3AgT3duZXIgU2V0dGluZ3MgY29uZmlndXJhdGlvbiwgdXNpbmcgZGVmYXVsdHMuICR7dD8ubWVzc2FnZX1gKX1yZXR1cm57fX1sZXQgaixRO2FzeW5jIGZ1bmN0aW9uIFkoKXtpZihqKXJldHVybiBqO2NvbnN0IGU9XCJnZXRPdmVycmlkZXNcIjtpZighVylyZXR1cm4gRCYmY29uc29sZS53YXJuKGAke2V9OiBUaGUgRmluIEFQSSB3YXMgbm90IGF2YWlsYWJsZS4gUmV0dXJuaW5nIGFuIGVtcHR5IHJlc3VsdC5gKSx7fTtjb25zdFt0LGFdPWF3YWl0IFByb21pc2UuYWxsKFtxKCksSigpXSk7cmV0dXJuIGo9ey4uLmEsLi4udCxkaXNhYmxlUnVudGltZVZhbGlkYXRpb246YS5kaXNhYmxlUnVudGltZVZhbGlkYXRpb258fHQuZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9ufSxqfWZ1bmN0aW9uIFgoZSl7UT1lfWNvbnN0IGVlPWU9PmUucmVwbGFjZSgvXFwvJC8sXCJcIik7YXN5bmMgZnVuY3Rpb24gdGUoKXtjb25zdCBlPShhd2FpdCBZKCkpLmJyb3dzZXJCYXNlVXJsO2lmKGUpdHJ5e2NvbnN0IHQ9bmV3IFVSTChlKTtpZih0LnBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSl0LnBhdGhuYW1lPWVlKHQucGF0aG5hbWUpO2Vsc2V7aWYoXCIvd29ya3NwYWNlXCI9PT10LnBhdGhuYW1lKXJldHVybiB0LnBhdGhuYW1lKz1gLyR7T31gLHQudG9TdHJpbmcoKTtjb25zb2xlLndhcm4oYEBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybTogYnJvd3Nlck92ZXJyaWRlQmFzZVVybCBtdXN0IGJlIGEgdmFsaWQgdXJsLCB3aXRoIHBhdGg6IC93b3Jrc3BhY2UuIEV4cGVjdGVkIDxwcm90b2NvbD46Ly88b3B0aW9uYWwgc3ViZG9tYWluPi48ZG9tYWluPi93b3Jrc3BhY2UgYnV0IGdvdCAke2V9YCl9fWNhdGNoKHQpe2NvbnNvbGUud2FybihgQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtOiBicm93c2VyT3ZlcnJpZGVCYXNlVXJsIG11c3QgYmUgYSB2YWxpZCB1cmwuIEV4cGVjdGVkIDxwcm90b2NvbD46Ly88b3B0aW9uYWwgc3ViZG9tYWluPi48ZG9tYWluPi93b3Jrc3BhY2UgYnV0IGdvdCAke2V9YCl9cmV0dXJuIFE/P199YXN5bmMgZnVuY3Rpb24gYWUoZT0hMSl7Y29uc3QgdD1hd2FpdCB0ZSgpK0suQnJvd3NlcjtyZXR1cm4gZT90OmVlKHQpfWFzeW5jIGZ1bmN0aW9uIG5lKGU9ITEpe2NvbnN0IHQ9YXdhaXQgdGUoKStLLkVudGVycHJpc2VCcm93c2VyO3JldHVybiBlP3Q6ZWUodCl9YXN5bmMgZnVuY3Rpb24gb2UoKXtyZXR1cm4gYXdhaXQgbmUoKStcIi9sYW5kaW5nL1wifWNvbnN0IHJlPWFzeW5jKGUsdD0hMSk9PmU/bmUodCk6YWUodCksaWU9NTYsc2U9NzI4LGNlPTE1MCxsZT1cImRvY2szXCIsZGU9ZT0+e2NvbnN0IHQ9ZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluLm1lLmlkZW50aXR5LnV1aWQ7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVVVJRCBpcyByZXF1aXJlZCB0byBnZXQgdGhlIERvY2szIGNoYW5uZWwgbmFtZS5cIik7cmV0dXJuYCR7dH0tZG9jazNgfTt2YXIgdWUscGU7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi13b3Jrc3BhY2VcIixlLk9sZFdvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifSh1ZXx8KHVlPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifShwZXx8KHBlPXt9KSk7Y29uc3Qgd2U9e3V1aWQ6Un0sZ2U9KHVlLldvcmtzcGFjZSxlPT57aWYoIVcpdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgaW4gYSBub24gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSl9KSxoZT0oKT0+Z2Uod2UpO3ZhciBtZTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJTYXZlTWVudT1cIm9wZW5maW4tYnJvd3Nlci1zYXZlLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wiLGUuQ2xhc3NpY1dpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC1jbGFzc2ljLXdpbmRvd1wiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwib3BlbmZpbi1lbnRlcnByaXNlLWNvbnRleHQtbWVudVwiLGUuQnJvd3NlckFkZHJlc3NTZWFyY2hQcmVmaXg9XCJvcGVuZmluLWJyb3dzZXItbWVudS1hZGRyZXNzLXNlYXJjaC1cIixlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZ1dpbmRvdz1cIm9wZW5maW4tZW50ZXJwcmlzZS1ib29rbWFyay1kaWFsb2dcIixlLkRyb3Bkb3duTWVudT1cIm9wZW5maW4tZW50ZXJwcmlzZS1kcm9wZG93bi1tZW51XCIsZS5Eb2NrQ29tcGFuaW9uPVwib3BlbmZpbi1kb2NrLWNvbXBhbmlvblwiLGUuQUlDb21wYW5pb25QcmVmaXg9XCJvcGVuZmluLWFpLWNvbXBhbmlvbi1cIixlLlVwZGF0ZVZlcnNpb25Nb2RhbD1cImhlcmUtdXBkYXRlLXZlcnNpb24tbW9kYWxcIixlLlpvb21Db250cm9sc0RpYWxvZz1cImhlcmUtem9vbS1jb250cm9scy1kaWFsb2dcIixlLkFib3V0UGFnZVdpbmRvdz1cImhlcmUtYWJvdXQtcGFnZVwiLGUuRGVza3RvcFNpZ25hbHNNb2RhbD1cImhlcmUtZGVza3RvcC1zaWduYWxzLW1vZGFsXCJ9KG1lfHwobWU9e30pKTtjb25zdCBrZT1lPT4oe2xlZnQ6KGUubGVmdCsoZS5yaWdodD8/ZS5sZWZ0K2Uud2lkdGgpKS8yLHRvcDooZS50b3ArKGUuYm90dG9tPz9lLnRvcCtlLmhlaWdodCkpLzJ9KSxiZT0oZSx0KT0+e2NvbnN0IGE9dC53aWR0aC8yLG49dC5oZWlnaHQvMjtyZXR1cm57bGVmdDpNYXRoLnJvdW5kKGUubGVmdC1hKSx0b3A6TWF0aC5yb3VuZChlLnRvcC1uKSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH19O2Z1bmN0aW9uIGZlKGUpe2lmKCFXKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IHllPXtuYW1lOkUsdXVpZDpSfTtmdW5jdGlvbiBTZSgpe3JldHVybiBmZSh5ZSl9bWUuSG9tZSx1ZS5Xb3Jrc3BhY2UsbWUuRG9jayx1ZS5Xb3Jrc3BhY2U7Y29uc3QgdmU9e25hbWU6bWUuU3RvcmVmcm9udCx1dWlkOnVlLldvcmtzcGFjZX07dWUuV29ya3NwYWNlLHVlLldvcmtzcGFjZTthc3luYyBmdW5jdGlvbiBQZShlKXtjb25zdCB0PWZlKGUpO1wibWluaW1pemVkXCI9PT1hd2FpdCB0LmdldFN0YXRlKCkmJmF3YWl0IHQucmVzdG9yZSgpLGF3YWl0IHQuc2hvdygpLGF3YWl0IHQuZm9jdXMoKX1jb25zdCBDZT1hc3luYyBlPT57dHJ5e2NvbnN0IHQ9YXdhaXQgZmluLldpbmRvdy53cmFwU3luYyh7bmFtZTplLm5hbWUsdXVpZDplLnV1aWQ/P2Zpbi5tZS51dWlkfSkuZ2V0T3B0aW9ucygpO3JldHVybihcImJyb3dzZXJcIj09PXQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGV8fFwiZW50ZXJwcmlzZVwiPT09dC53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZSkmJnQud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJpc0Jyb3dzZXJXaW5kb3cgZXJyb3I6IFwiLGUpLCExfX07YXN5bmMgZnVuY3Rpb24gTWUoKXtjb25zdCBlPWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpLHQ9YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PkNlKGUuaWRlbnRpdHkpKSkpO3JldHVybiBlLmZpbHRlcigoKGUsYSk9PnRbYV0pKX1hc3luYyBmdW5jdGlvbiB4ZSgpe3JldHVybihhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5lLmlkZW50aXR5Lm5hbWUuc3RhcnRzV2l0aChtZS5Ccm93c2VyTWVudSkpKX1jb25zdCBJZT1lPT5mZShlKS5nZXRJbmZvKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpLEFlPSgpPT5JZSh2ZSk7ZnVuY3Rpb24gV2UoZSx0KXtjb25zdCBhPWUudG9wLG49ZS5sZWZ0LG89ZS50b3ArZS5oZWlnaHQscj1lLmxlZnQrZS53aWR0aCxpPXQubW9uaXRvclJlY3QudG9wLHM9dC5tb25pdG9yUmVjdC5sZWZ0LGM9dC5tb25pdG9yUmVjdC5ib3R0b20sbD10Lm1vbml0b3JSZWN0LnJpZ2h0O2lmKGE+Y3x8bzxpfHxuPmx8fHI8cylyZXR1cm4gMDtjb25zdCBkPU1hdGgubWF4KGEsaSksdT1NYXRoLm1heChuLHMpO3JldHVybihNYXRoLm1pbihvLGMpLWQpKihNYXRoLm1pbihyLGwpLXUpLyhlLmhlaWdodCplLndpZHRoKX1hc3luYyBmdW5jdGlvbiBEZShlKXtjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKTtyZXR1cm5bdC5wcmltYXJ5TW9uaXRvciwuLi50Lm5vblByaW1hcnlNb25pdG9yc10ucmVkdWNlKCgodCxhKT0+e2NvbnN0IG49V2UoZSxhKTtyZXR1cm4gbj50LnBlcmNlbnRhZ2U/e3BlcmNlbnRhZ2U6bixtb25pdG9yOmF9OnR9KSx7cGVyY2VudGFnZTowLG1vbml0b3I6dC5wcmltYXJ5TW9uaXRvcn0pLm1vbml0b3J9Y29uc3QgVGU9KGUsdCk9Pntjb25zdCBhPWU7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm18fChhLndvcmtzcGFjZVBsYXRmb3JtPXt9KSxhLndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM9e3NldEFzRm9yZWdyb3VuZDohIXQsZGVmZXJTaG93RW5hYmxlZDohMCxhdXRvU2hvdzphLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8YS53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uYXV0b1Nob3d8fHZvaWQgMD09PWEuYXV0b1Nob3d8fGEuYXV0b1Nob3d9LGEuYXV0b1Nob3c9ITEsYX07Y29uc3QgQmU9KGUsdD0wKT0+e2xldCBhLG4sbz0hMTtjb25zdCByPWFzeW5jIG49Pntjb25zdCBpPWF3YWl0IGUoLi4ubik7aWYobyl7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSx0KSkpO2NvbnN0IGU9YTtyZXR1cm4gYT12b2lkIDAsbz0hMSxyKGUpfXJldHVybiBpfTtyZXR1cm4oLi4uZSk9PihuPyhvPSEwLGE9ZSk6bj1yKGUpLmNhdGNoKChlPT57dGhyb3cgY29uc29sZS5lcnJvcihcIm1ha2VEZWJvdW5jZWRGdW5jXCIsZSksZX0pKS5maW5hbGx5KCgoKT0+e249dm9pZCAwfSkpLG4pfTt2YXIgUmU7IWZ1bmN0aW9uKGUpe2UuVG9wPVwidG9wXCIsZS5CZWxvdz1cImJlbG93XCJ9KFJlfHwoUmU9e30pKTtjb25zdCBFZT1hc3luYyBlPT57dHJ5e3JldHVybiEhZSYmXCJtYXhpbWl6ZWRcIj09PWF3YWl0IGUuZ2V0U3RhdGUoKX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwicGFyZW50V2luZG93TWF4aW1pemVkIC0gRmFpbGVkIHRvIGdldCBwYXJlbnQgd2luZG93IHN0YXRlXCIsZSksITF9fTthc3luYyBmdW5jdGlvbiBGZShlLHQsYSxuLG8scil7Y29uc3QgaT0hIWUmJmZlKGUpLHM9YXdhaXQoYXN5bmMoZSx0KT0+e3RyeXtyZXR1cm4gZT9hd2FpdCBlLmdldEJvdW5kcygpOnR9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcImdldFBhcmVudFdpbmRvd0JvdW5kcyAtIEZhaWxlZCB0byBnZXQgcGFyZW50IHdpbmRvdyBib3VuZHNcIixlKSx0fX0pKGkscik7aWYobj09PVJlLkJlbG93KXtpZighaXx8YXdhaXQgRWUoaSkpe2NvbnN0IGU9aT8oYXdhaXQgRGUocykpLmF2YWlsYWJsZVJlY3Q6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdDtyZXR1cm57bGVmdDprZShlKS5sZWZ0LXQvMix0b3A6bz9lLmJvdHRvbS0xMjg6ZS5ib3R0b20rMTIsd2lkdGg6dCxoZWlnaHQ6YX19cmV0dXJue2xlZnQ6a2UocykubGVmdC10LzIsdG9wOm8/cy5ib3R0b20tMTI4OnMuYm90dG9tKzEyLHdpZHRoOnQsaGVpZ2h0OmF9fWlmKCFpfHxhd2FpdCBFZShpKSl7Y29uc3QgZT1pPyhhd2FpdCBEZShzKSkuYXZhaWxhYmxlUmVjdDooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0O3JldHVybntsZWZ0OmtlKGUpLmxlZnQtdC8yLHRvcDplLnRvcCsyMCx3aWR0aDp0LGhlaWdodDphfX1yZXR1cm57bGVmdDprZShzKS5sZWZ0LXQvMix0b3A6cy50b3ArMjAsd2lkdGg6dCxoZWlnaHQ6YX19QmUoKGFzeW5jIGZ1bmN0aW9uKGUsdCxhLG4sbyl7Y29uc3Qgcj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9YXdhaXQgRmUoZSxyLndpZHRoLHIuaGVpZ2h0LGEsbixvKTtpZigwPT09aS53aWR0aHx8MD09PWkuaGVpZ2h0KXJldHVybjtjb25zdCBzPVNlKCk7YXdhaXQgcy5zZXRCb3VuZHMoaSksYXdhaXQgcy5zaG93KCk7Y29uc3QgYz1zZXRUaW1lb3V0KCgoKT0+cy5jbG9zZSgpKSxuPzVlMzozZTMpLGw9KCk9PntjbGVhclRpbWVvdXQoYykscy5jbG9zZSgpfTtpZihlKXtjb25zdCB0PWZlKGUpO3Qub24oXCJib3VuZHMtY2hhbmdpbmdcIiwoKCk9PmwoKSkpLHQub24oXCJibHVycmVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwibWF4aW1pemVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwibWluaW1pemVkXCIsKCgpPT5sKCkpKSx0Lm9uKFwicmVzdG9yZWRcIiwoKCk9PmwoKSkpfX0pLDEwKTtjb25zdCBWZT1hc3luYyBlPT57Y29uc3QgdD1lJiZhd2FpdCBmZShlKS5nZXRCb3VuZHMoKSxhPWU/YXdhaXQgRGUodCk6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3I7cmV0dXJue2xlZnQ6KChuPWEuYXZhaWxhYmxlUmVjdCkubGVmdCtuLnJpZ2h0KS8yLHRvcDoobi50b3Arbi5ib3R0b20pLzJ9O3ZhciBufSxOZT1hc3luYyhlLHQsYT0hMSk9PntsZXQgbjtpZihhKW49YXdhaXQgVmUodCk7ZWxzZXtjb25zdCBlPWZlKHQpLGE9YXdhaXQgZS5nZXRCb3VuZHMoKTtuPWtlKGEpfWNvbnN0e2RlZmF1bHRIZWlnaHQ6byxkZWZhdWx0V2lkdGg6cn09ZTtyZXR1cm4gYmUobix7aGVpZ2h0Om8sd2lkdGg6cn0pfTthc3luYyBmdW5jdGlvbiBMZShlLHQsYT0hMSl7Y29uc3Qgbj10JiZcIm1heGltaXplZFwiPT09YXdhaXQgZmUodCkuZ2V0U3RhdGUoKSxvPWF8fG58fCF0LHI9YXdhaXQgTmUoZSx0LG8pO3JldHVybiBhd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksYT1bdC5wcmltYXJ5TW9uaXRvciwuLi50Lm5vblByaW1hcnlNb25pdG9yc107Zm9yKGNvbnN0IHQgb2YgYSlpZigxPT09V2UoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0pKHIpPyhhd2FpdCBmZSh0KS5jZW50ZXIoKSxOZShlLHQsbykpOihjb25zb2xlLndhcm4oXCJSZXNwb25zZSBtb2RhbCBpc24ndCBvZmYgc2NyZWVuLCBub3QgY2VudGVyaW5nIHBhcmVudCB3aW5kb3dcIikscil9Y29uc3QgX2U9KCk9PmU9PmU7dmFyIFVlPWEoODQ3KTtjb25zdCBPZT1lPT5lLnJlcGxhY2UoL1teXFxkLF0vZyxcIlwiKS5zcGxpdChcIixcIiksR2U9ZT0+e2lmKGUubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2xvciBvYmplY3QsIGNhbm5vdCBjb252ZXJ0IHRvIEhTTC5cIik7Y29uc3QgdD1lWzBdLzI1NSxhPWVbMV0vMjU1LG49ZVsyXS8yNTUsbz1NYXRoLm1pbih0LGEsbikscj1NYXRoLm1heCh0LGEsbiksaT1yLW87bGV0IHM9MCxjPTAsbD0wO3JldHVybiBzPTA9PT1pPzA6cj09PXQ/KGEtbikvaSU2OnI9PT1hPyhuLXQpL2krMjoodC1hKS9pKzQscz1NYXRoLnJvdW5kKDYwKnMpLHM8MCYmKHMrPTM2MCksbD0ocitvKS8yLGM9MD09aT8wOmkvKDEtTWF0aC5hYnMoMipsLTEpKSxjPSsoMTAwKmMpLnRvRml4ZWQoMSksbD0rKDEwMCpsKS50b0ZpeGVkKDEpLHtoc2w6YGhzbCgke3N9LCAke2N9JSwgJHtsfSUpYCxoc2xhOmBoc2woJHtzfSwgJHtjfSUsICR7bH0lLCAxKWAsaHVlOnMsbGlnaHRuZXNzOmwsc2F0dXJhdGlvbjpjfX0sSGU9ZT0+e2lmKCFlLmluY2x1ZGVzKFwiI1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCB2YWx1ZSwgY2Fubm90IGNvbnZlcnQgdG8gUkdCLiBIZXggdmFsdWUgYmVnaW5zIHdpdGggYSBoYXNodGFnLlwiKTtsZXQgdD0wLGE9MCxuPTA7aWYoND09PWUubGVuZ3RoKXQ9YDB4JHtlWzFdfSR7ZVsxXX1gLGE9YDB4JHtlWzJdfSR7ZVsyXX1gLG49YDB4JHtlWzNdfSR7ZVszXX1gO2Vsc2V7aWYoNyE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZyBsZW5ndGgsIGNhbm5vdCBjb252ZXJ0IHRvIFJHQi5cIik7dD1gMHgke2VbMV19JHtlWzJdfWAsYT1gMHgke2VbM119JHtlWzRdfWAsbj1gMHgke2VbNV19JHtlWzZdfWB9cmV0dXJuWyt0LCthLCtuXX0sJGU9ZT0+e2NvbnN0IHQ9ZTtpZih0LnN0YXJ0c1dpdGgoXCIjXCIpKXtyZXR1cm57cmdiOkhlKHQpLmpvaW4oXCIsIFwiKSxhbHBoYToxfX1jb25zdCBhPXQubWF0Y2goL1xcZHsxLDN9KFxcLlxcZCspPy9nKTtpZihhKXtjb25zdFtlLHQsbixvXT1hO3JldHVybntyZ2I6YCR7ZX0sICR7dH0sICR7bn1gLGFscGhhOnZvaWQgMCE9PW8/cGFyc2VGbG9hdChvKToxfX1yZXR1cm57cmdiOkhlKGUpLmpvaW4oXCIsIFwiKSxhbHBoYToxfX0semU9KGUsdD0hMSk9Pntjb25zdCBhPShlPT57aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ29sb3IgaXMgbm90IGRlZmluZWRcIik7Y29uc3QgdD1lLnRvTG93ZXJDYXNlKCk7bGV0IGE7aWYodC5pbmNsdWRlcyhcInJnYlwiKSl7Y29uc3QgZT1PZSh0KTtlLmxlbmd0aD4zJiZlLnBvcCgpLGE9R2UoZSkuaHVlfWlmKHQuaW5jbHVkZXMoXCIjXCIpKXtjb25zdCBlPUhlKHQpO2E9R2UoZSkuaHVlfXQuaW5jbHVkZXMoXCJoc2xcIikmJihhPU9lKHQpWzBdKTtjb25zdCBuPWE/LnRvU3RyaW5nKCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBIdWUgd2FzIHVuYWJsZSB0byBiZSBleHRyYWN0ZWQgZnJvbSBcIiR7dH1cIiwgY2hlY2sgY29sb3IgZm9ybWF0LiBBY2NlcHRlZCBmb3JtYXRzIGFyZTogcmdiKCksIHJnYmEoKSwgaGV4LCBoc2woKSwgYW5kIGhzbGEoKWApO3JldHVybiBufSkoZSk7cmV0dXJuIHQ/e2JhY2tncm91bmQxOmBoc2xhKCR7YX0sIDAlLCAxMDAlLCAxKWAsYmFja2dyb3VuZDI6YGhzbGEoJHthfSwgNjclLCA5OSUsIDEpYCxiYWNrZ3JvdW5kMzpgaHNsYSgke2F9LCAyNiUsIDk2JSwgMSlgLGJhY2tncm91bmQ0OmBoc2xhKCR7YX0sIDE1JSwgOTQlLCAxKWAsYmFja2dyb3VuZDU6YGhzbGEoJHthfSwgMTAlLCA4OCUsIDEpYCxiYWNrZ3JvdW5kNjpgaHNsYSgke2F9LCA4MCUsIDgwJSwgMSlgfTp7YmFja2dyb3VuZDE6YGhzbGEoJHthfSwgOCUsIDclLCAxKWAsYmFja2dyb3VuZDI6YGhzbGEoJHthfSwgOCUsIDEzJSwgMSlgLGJhY2tncm91bmQzOmBoc2xhKCR7YX0sIDklLCAxNSUsIDEpYCxiYWNrZ3JvdW5kNDpgaHNsYSgke2F9LCA2JSwgMjMlLCAxKWAsYmFja2dyb3VuZDU6YGhzbGEoJHthfSwgMjElLCAyOCUsIDEpYCxiYWNrZ3JvdW5kNjpgaHNsYSgke2F9LCA1JSwgNTElLCAxKWB9fSxLZT0oZSx0KT0+e2NvbnN0IGE9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKG49PnthW25dPXRbbl0/dFtuXTplW25dfSkpLGF9O3ZhciBKZT1hKDg3NyksWmU9YS5uKEplKSxxZT1hKDY3KSxqZT1hLm4ocWUpO2NvbnN0IFFlPXtsaWdodDp7c3ltYm9sOmplKCk/LnNyY3x8XCJcIn0sZGFyazp7c3ltYm9sOlplKCk/LnNyY3x8XCJcIn19LFllPUQmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO2Z1bmN0aW9uIFhlKGUpe2xldCB0O2NvbnN0IGE9bmV3IFNldDtyZXR1cm4oKT0+e2lmKCFXKXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IFllO2NvbnN0IG49e2NsaWVudEFQSVZlcnNpb246T30sbz1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDpufSk7cmV0dXJuIG8ub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57YS5mb3JFYWNoKChlPT5lKCkpKSxhLmNsZWFyKCksY29uc29sZS53YXJuKGBkaXNjb25uZWN0ZWQgZnJvbSBjaGFubmVsIHByb3ZpZGVyICR7ZX1gKSx0PXZvaWQgMH0pKSxvfSkoKS50aGVuKChlPT4oZS5hZGREaXNjb25uZWN0aW9uTGlzdGVuZXI9ZT0+e2EuYWRkKGUpfSxlKSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19dmFyIGV0LHR0OyFmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KGV0fHwoZXQ9e30pKSxmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifSh0dHx8KHR0PXt9KSk7Y29uc3QgYXQ9WGUoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLG50PWF0O1hlKFwiX19zZWFyY2gtb3BlbmZpbi1icm93c2VyLWhvbWUtdG9waWNfX1wiKTt2YXIgb3Q7IWZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuQWRkUGFnZT1cImFkZFBhZ2VcIixlLkFkZERlZmF1bHRQYWdlPVwiYWRkRGVmYXVsdFBhZ2VcIixlLkdldEFsbEF0dGFjaGVkUGFnZXM9XCJnZXRBbGxBdHRhY2hlZFBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3c9XCJnZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3dcIixlLkdldFBhZ2VzRm9yV2luZG93PVwiZ2V0UGFnZXNGb3JXaW5kb3dcIixlLkdldFBhZ2VGb3JXaW5kb3c9XCJnZXRQYWdlRm9yV2luZG93XCIsZS5HZXRTYXZlZFBhZ2VNZXRhZGF0YT1cImdldFNhdmVkUGFnZU1ldGFkYXRhXCIsZS5HZXRVbmlxdWVQYWdlVGl0bGU9XCJnZXRVbmlxdWVQYWdlVGl0bGVcIixlLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuR2V0UGFnZUJ5Vmlld0lkZW50aXR5PVwiZ2V0UGFnZUJ5Vmlld0lkZW50aXR5XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLkdldFNlbGVjdGVkU2NoZW1lPVwiZ2V0U2VsZWN0ZWRTY2hlbWVcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0U2VsZWN0ZWRTY2hlbWVcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIixlLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1cInJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5HZXRTYXZlZFdvcmtzcGFjZXNNZXRhZGF0YT1cImdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbD1cInJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbFwiLGUuU2V0QWN0aXZlV29ya3NwYWNlPVwic2V0QWN0aXZlV29ya3NwYWNlXCIsZS5Jc0Jyb3dzZXJJbml0aWFsaXplZD1cImlzQnJvd3NlckluaXRpYWxpemVkXCIsZS5BbmFseXRpY3M9XCJhbmFseXRpY3NJbnRlcm5hbFwiLGUuR2V0TGFuZ3VhZ2U9XCJnZXRMYW5ndWFnZVwiLGUuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbD1cImdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWxcIixlLlNldExhbmd1YWdlPVwic2V0TGFuZ3VhZ2VcIixlLkdldERvY2tQcm92aWRlckNvbmZpZz1cImdldERvY2tQcm92aWRlckNvbmZpZ1wiLGUuU2F2ZURvY2tQcm92aWRlckNvbmZpZz1cInNhdmVEb2NrUHJvdmlkZXJDb25maWdcIixlLkhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlPVwiaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2VcIixlLlNob3VsZFBhZ2VDbG9zZT1cInNob3VsZFBhZ2VDbG9zZVwiLGUuU2hvdWxkV2luZG93Q2xvc2U9XCJzaG91bGRXaW5kb3dDbG9zZVwiLGUuQ29weVBhZ2U9XCJjb3B5UGFnZVwiLGUuSGFuZGxlUGFnZUNoYW5nZXM9XCJoYW5kbGVQYWdlQ2hhbmdlc1wiLGUuTWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD1cIm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWxcIixlLlRyYWNrUmVtb3ZlZFRhYkludGVybmFsPVwidHJhY2tSZW1vdmVkVGFiSW50ZXJuYWxcIixlLlJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWw9XCJyZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsXCIsZS5UcmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWw9XCJ0cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWxcIixlLkdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsXCIsZS5HZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWxcIixlLlNlYXJjaFNpdGVzSW50ZXJuYWw9XCJzZWFyY2hTaXRlc0ludGVybmFsXCIsZS5HZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbD1cImdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsXCIsZS5HZXRDdXJhdGVkQ29udGVudEludGVybmFsPVwiZ2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbFwiLGUuSGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbD1cImhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWxcIixlLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD1cInJlZnJlc2hCb29rbWFya3NJbnRlcm5hbFwiLGUuTGF1bmNoQm9va21hcmtJbnRlcm5hbD1cImxhdW5jaEJvb2ttYXJrSW50ZXJuYWxcIixlLkdldE5vdGlmaWNhdGlvbnNDb25maWc9XCJnZXROb3RpZmljYXRpb25zQ29uZmlnXCIsZS5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw9XCJ1cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWxcIixlLlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJ1cGRhdGVDb250ZW50TWVudUludGVybmFsXCIsZS5MYXVuY2hEb2NrRW50cnlJbnRlcm5hbD1cImxhdW5jaERvY2tFbnRyeUludGVybmFsXCIsZS5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbD1cInNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsXCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJuYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWxcIixlLlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw9XCJzZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsXCIsZS5HZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWw9XCJnZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWxcIixlLkhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw9XCJoYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsXCIsZS5SZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbD1cInJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsXCIsZS5BZGREb2NrRmF2b3JpdGVJbnRlcm5hbD1cImFkZERvY2tGYXZvcml0ZUludGVybmFsXCIsZS5Gb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPVwiZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbFwiLGUuU2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlSW50ZXJuYWw9XCJzZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2VJbnRlcm5hbFwiLGUuU2hvd1VwZGF0ZVZlcnNpb25Nb2RhbEludGVybmFsPVwic2hvd1VwZGF0ZVZlcnNpb25Nb2RhbEludGVybmFsXCJ9KG90fHwob3Q9e30pKTtjb25zdCBydD1hc3luYyBlPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0Q2xpZW50KCksaXQ9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcnQoZSksYT1cIlRhcmdldCBpcyBub3QgYSBXb3Jrc3BhY2UgUGxhdGZvcm0uIFRhcmdldCBtdXN0IGNhbGwgV29ya3NwYWNlUGxhdGZvcm0uaW5pdFwiO2xldCBuO3RyeXtuPWF3YWl0IHQuZGlzcGF0Y2goXCJpc1dvcmtzcGFjZVBsYXRmb3JtXCIpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihhKX1pZihcImJvb2xlYW5cIj09dHlwZW9mIG4mJm4pcmV0dXJuIGNvbnNvbGUud2FybihcIllvdSBhcmUgdXNpbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgd29ya3NwYWNlIHBsYXRmb3JtLiBQbGVhc2UgdXBkYXRlIHlvdXIgd29ya3NwYWNlIHBsYXRmb3JtLlwiKSxuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBuJiZuLmlzV29ya3NwYWNlUGxhdGZvcm0pcmV0dXJuIG47dGhyb3cgbmV3IEVycm9yKGEpfSxzdD1hc3luYyBlPT4oYXdhaXQgaXQoZSkscnQoZSkpLGN0PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGl0KGUpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhMCE9PXQ/LmlzQnJvd3NlckluaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcihcIlRhcmdldCBpcyBub3QgYSBCcm93c2VyLWVuYWJsZWQgV29ya3NwYWNlIFBsYXRmb3JtLlwiKTtyZXR1cm4gcnQoZSl9LGx0PVwiZGFya1wiLGR0PXtbVWUuUGFsZXR0ZS5icmFuZFByaW1hcnldOlwiIzBBNzZEM1wiLFtVZS5QYWxldHRlLmJyYW5kUHJpbWFyeUFjdGl2ZV06XCIjMEE3MUM5XCIsW1VlLlBhbGV0dGUuYnJhbmRQcmltYXJ5SG92ZXJdOlwiIzBCODRFQlwiLFtVZS5QYWxldHRlLmJyYW5kUHJpbWFyeUZvY3VzZWRdOlVlLkNvbG9yLndoaXRlLFtVZS5QYWxldHRlLmJyYW5kUHJpbWFyeVRleHRdOlVlLkNvbG9yLndoaXRlLFtVZS5QYWxldHRlLnN0YXR1c1N1Y2Nlc3NdOlVlLkNvbG9yLmZ1bmN0aW9uYWwxLFtVZS5QYWxldHRlLnN0YXR1c1dhcm5pbmddOlVlLkNvbG9yLmZ1bmN0aW9uYWwxMCxbVWUuUGFsZXR0ZS5zdGF0dXNDcml0aWNhbF06VWUuQ29sb3IuZnVuY3Rpb25hbDcsW1VlLlBhbGV0dGUuc3RhdHVzQWN0aXZlXTpVZS5Db2xvci5mdW5jdGlvbmFsMyxbVWUuUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDFdOlwiIzBBNzZEM1wiLFtVZS5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kMl06XCIjMDAwMDAwXCIsW1VlLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQzXTpcIiMwMDAwMDBcIixbVWUuUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDRdOlwiIzAwMDAwMFwiLFtVZS5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kNV06XCIjMDAwMDAwXCIsW1VlLlBhbGV0dGUuYm9yZGVyTmV1dHJhbF06VWUuQ29sb3Iuc2lsdmVyR3JheX0sdXQ9ey4uLmR0LFtVZS5QYWxldHRlLmJhY2tncm91bmQxXTpVZS5Db2xvci53aGl0ZSxbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kMl06VWUuQ29sb3IubGlnaHRHcmF5MSxbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kM106VWUuQ29sb3IubGlnaHRHcmF5MixbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kNF06VWUuQ29sb3IubGlnaHRHcmF5MyxbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kNV06VWUuQ29sb3IubGlnaHRHcmF5NCxbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kNl06VWUuQ29sb3IubGlnaHRHcmF5NSxbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeV06VWUuQ29sb3IubGlnaHRHcmF5NCxbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeUFjdGl2ZV06VWUuQ29sb3IubGlnaHRHcmF5NEFjdGl2ZSxbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeUhvdmVyXTpVZS5Db2xvci5saWdodEdyYXk0SG92ZXIsW1VlLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlGb2N1c2VkXTpVZS5Db2xvci5kYXJrR3JheTUsW1VlLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlUZXh0XTpVZS5Db2xvci5kYXJrR3JheTUsW1VlLlBhbGV0dGUuaW5wdXRCYWNrZ3JvdW5kXTpVZS5Db2xvci5saWdodEdyYXkzLFtVZS5QYWxldHRlLmlucHV0Q29sb3JdOlVlLkNvbG9yLmRhcmtHcmF5NSxbVWUuUGFsZXR0ZS5pbnB1dFBsYWNlaG9sZGVyXTpVZS5Db2xvci5kYXJrR3JheTIsW1VlLlBhbGV0dGUuaW5wdXREaXNhYmxlZF06VWUuQ29sb3IubmV1dHJhbEdyYXksW1VlLlBhbGV0dGUuaW5wdXRGb2N1c2VkXTpVZS5Db2xvci5saWdodEdyYXk1LFtVZS5QYWxldHRlLmlucHV0Qm9yZGVyXTpVZS5Db2xvci5uZXV0cmFsR3JheSxbVWUuUGFsZXR0ZS50ZXh0RGVmYXVsdF06VWUuQ29sb3IuZGFya0dyYXk1LFtVZS5QYWxldHRlLnRleHRIZWxwXTpVZS5Db2xvci5kYXJrR3JheTMsW1VlLlBhbGV0dGUudGV4dEluYWN0aXZlXTpVZS5Db2xvci5uZXV0cmFsR3JheX0scHQ9ey4uLmR0LFtVZS5QYWxldHRlLmJhY2tncm91bmQxXTpVZS5Db2xvci5kYXJrR3JheTYsW1VlLlBhbGV0dGUuYmFja2dyb3VuZDJdOlVlLkNvbG9yLmRhcmtHcmF5NSxbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kM106VWUuQ29sb3IuZGFya0dyYXk0LFtVZS5QYWxldHRlLmJhY2tncm91bmQ0XTpVZS5Db2xvci5kYXJrR3JheTMsW1VlLlBhbGV0dGUuYmFja2dyb3VuZDVdOlVlLkNvbG9yLmRhcmtHcmF5MixbVWUuUGFsZXR0ZS5iYWNrZ3JvdW5kNl06VWUuQ29sb3IuZGFya0dyYXkxLFtVZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5XTpVZS5Db2xvci5kYXJrR3JheTIsW1VlLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlBY3RpdmVdOlVlLkNvbG9yLmRhcmtHcmF5MkFjdGl2ZSxbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeUhvdmVyXTpVZS5Db2xvci5kYXJrR3JheTJIb3ZlcixbVWUuUGFsZXR0ZS5icmFuZFNlY29uZGFyeUZvY3VzZWRdOlVlLkNvbG9yLndoaXRlLFtVZS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5VGV4dF06VWUuQ29sb3Iud2hpdGUsW1VlLlBhbGV0dGUuaW5wdXRCYWNrZ3JvdW5kXTpVZS5Db2xvci5kYXJrR3JheTEsW1VlLlBhbGV0dGUuaW5wdXRDb2xvcl06VWUuQ29sb3Iud2hpdGUsW1VlLlBhbGV0dGUuaW5wdXRQbGFjZWhvbGRlcl06VWUuQ29sb3IubGlnaHRHcmF5NSxbVWUuUGFsZXR0ZS5pbnB1dERpc2FibGVkXTpVZS5Db2xvci5uZXV0cmFsR3JheSxbVWUuUGFsZXR0ZS5pbnB1dEZvY3VzZWRdOlVlLkNvbG9yLmxpZ2h0R3JheTUsW1VlLlBhbGV0dGUuaW5wdXRCb3JkZXJdOlVlLkNvbG9yLm5ldXRyYWxHcmF5LFtVZS5QYWxldHRlLnRleHREZWZhdWx0XTpVZS5Db2xvci53aGl0ZSxbVWUuUGFsZXR0ZS50ZXh0SGVscF06VWUuQ29sb3IubGlnaHRHcmF5NSxbVWUuUGFsZXR0ZS50ZXh0SW5hY3RpdmVdOlVlLkNvbG9yLm5ldXRyYWxHcmF5fSx3dD1be2xhYmVsOlwiT3BlbkZpbiBEZWZhdWx0IExpZ2h0IGFuZCBEYXJrIFRoZW1lXCIscGFsZXR0ZXM6e2xpZ2h0OnsuLi51dCxiYWNrZ3JvdW5kUHJpbWFyeTpVZS5Db2xvci5kYXJrR3JheTV9LGRhcms6ey4uLnB0LGJhY2tncm91bmRQcmltYXJ5OlVlLkNvbG9yLmRhcmtHcmF5NX19fV0sZ3Q9ZT0+e2NvbnN0e2JhY2tncm91bmQ6dCxmb3JlZ3JvdW5kOmF9PWU7cmV0dXJue2JhY2tncm91bmQ6dCxmb3JlZ3JvdW5kOmE/P1wiI0ZGRkZGRlwifX0saHQ9KGUsdCk9Pih7aWNvbnM6e3N5bWJvbDplLmJyYW5kPy5pY29ucz8uW3RdPy5zeW1ib2x8fFFlW3RdLnN5bWJvbH19KSxtdD1lPT57Y29uc3R7bGlnaHQ6dCxkYXJrOmF9PVwicGFsZXR0ZXNcImluIGU/ZS5wYWxldHRlczp7bGlnaHQ6ZS5wYWxldHRlLGRhcms6ZS5wYWxldHRlfSxuPUtlKHB0LGEpLG89S2UodXQsdCkscj0oKGUsdCk9Pntjb25zdCBhPXsuLi5lfSxuPXsuLi50fTtsZXQgbz10LmJhY2tncm91bmRQcmltYXJ5P3plKHQuYmFja2dyb3VuZFByaW1hcnksITApOnt9LHI9ZS5iYWNrZ3JvdW5kUHJpbWFyeT96ZShlLmJhY2tncm91bmRQcmltYXJ5KTp7fTtyZXR1cm4gbz17Li4ubywuLi5ufSxyPXsuLi5yLC4uLmF9LHtsaWdodDp7Li4udCwuLi5vfSxkYXJrOnsuLi5lLC4uLnJ9fX0pKGEsdCksaT17Li4uKDAsVWUuY3JlYXRlVGhlbWUpKHsuLi5uLC4uLnI/LmRhcmt9KSxicmFuZDpodChlLFwiZGFya1wiKX0scz17Li4uKDAsVWUuY3JlYXRlVGhlbWUpKHsuLi5vLC4uLnI/LmxpZ2h0fSksYnJhbmQ6aHQoZSxcImxpZ2h0XCIpfSx7bGlnaHQ6YyxkYXJrOmx9PShlPT57Y29uc3QgdD1PYmplY3Qua2V5cyhlLm5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9ycz8/e30pO2lmKHQ/Lmxlbmd0aCl7Y29uc3QgYT17fSxuPXt9O3JldHVybiB0LmZvckVhY2goKHQ9Pntjb25zdCBvPWUubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzW3RdO1wiYmFja2dyb3VuZFwiaW4gbz8oYVt0XT1ndChvKSxuW3RdPWd0KG8pKTooYVt0XT1ndChvLmRhcms/P28ubGlnaHQpLG5bdF09Z3Qoby5saWdodD8/by5kYXJrKSl9KSkse2xpZ2h0Om4sZGFyazphfX1yZXR1cm57bGlnaHQ6bnVsbCxkYXJrOm51bGx9fSkoZSk7cmV0dXJuIGkubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzPWwscy5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM9Yyx7ZGFyazppLGxpZ2h0OnN9fSxrdD1hc3luYyBlPT57Y29uc3R7dGhlbWVzOnQsc2VsZWN0ZWRTY2hlbWU6YX09YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluPy5fX2ludGVybmFsXz8uaW5pdGlhbE9wdGlvbnM/LndvcmtzcGFjZVBsYXRmb3JtPy5fdGhlbWVEYXRhO2lmKCF0fHxlLnV1aWQhPT15ZS51dWlkKXJldHVybnt0aGVtZXM6YXdhaXQga24oZSkuVGhlbWUuZ2V0VGhlbWVzKCksc2VsZWN0ZWRTY2hlbWU6YXdhaXQga24oZSkuVGhlbWUuZ2V0U2VsZWN0ZWRTY2hlbWUoKX07cmV0dXJuIHR9KShlKTt2YXIgbixvO3JldHVybihuPXQ/Lmxlbmd0aD90Ond0LG89YSxuLm1hcCgoZT0+e2NvbnN0IHQ9XCJwYWxldHRlc1wiaW4gZT9lLmRlZmF1bHQ6bHQse2xpZ2h0OmEsZGFyazpufT1tdChlKTtyZXR1cm57bGFiZWw6ZS5sYWJlbCxsb2dvVXJsOmUubG9nb1VybCx0aGVtZTp7ZGFyazpuLGxpZ2h0OmF9LGRlZmF1bHRTY2hlbWU6bz8/dH19KSkpWzBdfSxidD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBzdChlfHxmaW4ubWUuaWRlbnRpdHkpLGE9YXdhaXQgdC5kaXNwYXRjaChvdC5HZXRTZWxlY3RlZFNjaGVtZSx2b2lkIDApO3JldHVybiBhPT09ay5TeXN0ZW0/d2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXM/XCJkYXJrXCI6XCJsaWdodFwiOmF9LGZ0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IGt0KGZpbi5tZS5pZGVudGl0eSksbj1hd2FpdCBidChmaW4ubWUuaWRlbnRpdHkpPT09ay5EYXJrLG89YT8udGhlbWU7cmV0dXJuIG8/LltuP2suRGFyazprLkxpZ2h0XT8ucGFsZXR0ZT8uW2VdfHx0fTtmdW5jdGlvbiB5dChlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBhPXt9O2Zvcihjb25zdCBuIG9mIHQpbiBpbiBlJiYoYVtuXT1lW25dKTtyZXR1cm4gYX0oZSxfZSgpKFtcImRlZmF1bHRMZWZ0XCIsXCJkZWZhdWx0VG9wXCIsXCJkZWZhdWx0Q2VudGVyZWRcIixcInNhdmVXaW5kb3dTdGF0ZVwiLFwidGFza2Jhckljb25Hcm91cFwiXSkpfWZ1bmN0aW9uIFN0KCl7bGV0IGUsdDtyZXR1cm57cHJvbWlzZTpuZXcgUHJvbWlzZSgoKGEsbik9PntlPWEsdD1ufSkpLHJlc29sdmU6ZSxyZWplY3Q6dH19Y29uc3QgdnQ9cmVxdWlyZShcImRleGllXCIpLFB0PWU9Pih7c2V0SXRlbToodCxhKT0+e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGAke2V9LSR7dH1gLGEpfSxnZXRJdGVtOnQ9PmxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke2V9LSR7dH1gKSxyZW1vdmVJdGVtOnQ9PmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGAke2V9LSR7dH1gKX0pLEN0PVB0KFIpLE10PUN0LnNldEl0ZW0seHQ9Q3QuZ2V0SXRlbSxJdD1DdC5yZW1vdmVJdGVtO3ZhciBBdDshZnVuY3Rpb24oZSl7ZS5DdXJyZW50V29ya3NwYWNlSWQ9XCJjdXJyZW50V29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIixlLkRvY2tQb3NpdGlvbj1cIkRvY2tQb3NpdGlvblwiLGUuU2VsZWN0ZWRDb2xvclNjaGVtZT1cIlNlbGVjdGVkQ29sb3JTY2hlbWVcIixlLlRoZW1lUGFsZXR0ZVNoZWV0PVwiVGhlbWVQYWxldHRlU2hlZXRcIixlLkhhc01vdmVkU3RvcmU9XCJIYXNNb3ZlZFN0b3JlXCIsZS5QYWdlRHJhZ1N0YXRlPVwiQnJvd3NlclBhZ2VEcmFnU3RhdGVcIn0oQXR8fChBdD17fSkpO2NvbnN0IFd0PUF0LER0PWU9PmUrXCItXCIrZmluLm1lLnV1aWQsVHQ9KGUsdCk9Pntjb25zdCBhPVQmJlcmJm5ldyB2dC5EZXhpZShlKTtyZXR1cm4gYSYmYS52ZXJzaW9uKC4xKS5zdG9yZXMoe1t0XTpcIlwifSksYX0sQnQ9KGUsdCk9Pntjb25zdCBhPVR0KER0KGUpLHQpLG49VHQoZSx0KTtpZighYXx8IW4pdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIG1pZ3JhdGUgc3RvcmUgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuKGFzeW5jKGUsdCxhKT0+e2NvbnN0IG49eHQoV3QuSGFzTW92ZWRTdG9yZSksbz1uP0pTT04ucGFyc2Uobik6e307aWYobyYmb1thXSlyZXR1cm47b1thXT0hMCxNdChXdC5IYXNNb3ZlZFN0b3JlLEpTT04uc3RyaW5naWZ5KG8pKTtjb25zdCByPWF3YWl0IGVbYV0udG9BcnJheSgpO2F3YWl0IHRbYV0uYnVsa1B1dChyKX0pKG4sYSxlKSxhfSxSdD1cImRvY2szLXByb3ZpZGVyLWNvbmZpZ1wiLEV0PVQmJlcmJm5ldyB2dC5EZXhpZShEdChcImRvY2szLXByb3ZpZGVyLWNvbmZpZ1wiKSk7RXQmJkV0LnZlcnNpb24oLjEpLnN0b3Jlcyh7W1J0XTpcIlwifSk7dmFyIEZ0LFZ0LE50LEx0LF90PWZ1bmN0aW9uKGUsdCxhLG4sbyl7aWYoXCJtXCI9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7aWYoXCJhXCI9PT1uJiYhbyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFvOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJhXCI9PT1uP28uY2FsbChlLGEpOm8/by52YWx1ZT1hOnQuc2V0KGUsYSksYX0sVXQ9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfTtjbGFzcyBPdHtzdGF0aWMgZ2V0T3ZlcnJpZGVDb25zdHJ1Y3RvciguLi5lKXtyZXR1cm4gY2xhc3MgZXh0ZW5kcyBPdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmUpfX19Y29uc3RydWN0b3IoZSx0KXtpZihGdC5zZXQodGhpcyx2b2lkIDApLFZ0LnNldCh0aGlzLHZvaWQgMCksTnQuc2V0KHRoaXMsbnVsbCksTHQuc2V0KHRoaXMsU3QoKSksT3QuaW5zdGFuY2UpdGhyb3cgbmV3IEVycm9yKFwiRG9jazNQcm92aWRlciBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkLlwiKTtPdC5pbnN0YW5jZT10aGlzLF90KHRoaXMsRnQsZSxcImZcIiksX3QodGhpcyxWdCx0LFwiZlwiKSx0aGlzLnJlZ2lzdGVyQ2hhbm5lbEFjdGlvbnMoKX1hc3luYyBsYXVuY2hFbnRyeShlKXt9Z2V0IHJlYWR5KCl7cmV0dXJuIFV0KHRoaXMsTHQsXCJmXCIpLnByb21pc2V9YXN5bmMgYm9va21hcmtDb250ZW50TWVudUVudHJ5KGUpe31nZXQgY29uZmlnKCl7cmV0dXJuIFV0KHRoaXMsRnQsXCJmXCIpfXNldCBjb25maWcoZSl7X3QodGhpcyxGdCxlLFwiZlwiKX1hc3luYyB1cGRhdGVDb25maWcoZSl7YXdhaXQgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoZSl9YXN5bmMgc2h1dGRvd24oKXthd2FpdCBQcm9taXNlLmFsbChbVXQodGhpcyxWdCxcImZcIikuZGVzdHJveSgpLHRoaXMuZ2V0V2luZG93U3luYygpLmNsb3NlKCEwKV0pLE90Lmluc3RhbmNlPW51bGx9YXN5bmMgc2F2ZUNvbmZpZyh7Y29uZmlnOmV9KXtfdCh0aGlzLEZ0LGUsXCJmXCIpLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2lmKCFFdCl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gc2F2ZSBEb2NrIHByb3ZpZGVyIGNvbmZpZyAtIEluZGV4ZWREYiBub3Qgc3VwcG9ydGVkXCIpO2F3YWl0IEV0W1J0XS5wdXQoZSxcImxhdGVzdFwiKX0oZSl9YXN5bmMgaGFuZGxlQ29uZmlnQ2hhbmdlKGUpe1V0KHRoaXMsTnQsXCJmXCIpJiZhd2FpdCBVdCh0aGlzLFZ0LFwiZlwiKS5kaXNwYXRjaChVdCh0aGlzLE50LFwiZlwiKSxcImhhbmRsZS1kb2NrLWNvbmZpZy11cGRhdGVkXCIsZSl9YXN5bmMgbG9hZENvbmZpZygpe2NvbnN0IGU9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtpZighRXQpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBEb2NrIHByb3ZpZGVyIGNvbmZpZyAtIEluZGV4ZWREQiBub3Qgc3VwcG9ydGVkXCIpO3RyeXtyZXR1cm4gYXdhaXQgRXRbUnRdLmdldChcImxhdGVzdFwiKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gcmV0cmlldmUgRG9jayBwcm92aWRlciBjb25maWcgZnJvbSBJbmRleGVkREJcIixlKX19KCk7cmV0dXJuIGUmJl90KHRoaXMsRnQsZSxcImZcIiksVXQodGhpcyxGdCxcImZcIil9Z2V0V2luZG93U3luYygpe3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkLG5hbWU6bGV9KX1yZWdpc3RlckNoYW5uZWxBY3Rpb25zKCl7VXQodGhpcyxWdCxcImZcIikucmVnaXN0ZXIoXCJsYXVuY2gtZW50cnlcIix0aGlzLmxhdW5jaEVudHJ5LmJpbmQodGhpcykpLFV0KHRoaXMsVnQsXCJmXCIpLnJlZ2lzdGVyKFwic2F2ZS1jb25maWdcIix0aGlzLnNhdmVDb25maWcuYmluZCh0aGlzKSksVXQodGhpcyxWdCxcImZcIikucmVnaXN0ZXIoXCJib29rbWFyay1jb250ZW50LW1lbnUtZW50cnlcIix0aGlzLmJvb2ttYXJrQ29udGVudE1lbnVFbnRyeS5iaW5kKHRoaXMpKSxVdCh0aGlzLFZ0LFwiZlwiKS5vbkNvbm5lY3Rpb24oKGU9PntlLm5hbWU9PT1sZSYmX3QodGhpcyxOdCxlLFwiZlwiKX0pKSxVdCh0aGlzLFZ0LFwiZlwiKS5yZWdpc3RlcihcInJlYWR5XCIsKGFzeW5jKGUsdCk9PntpZihVdCh0aGlzLE50LFwiZlwiKT8uZW5kcG9pbnRJZCE9PXQuZW5kcG9pbnRJZCl0aHJvdyBuZXcgRXJyb3IoYERvY2szUHJvdmlkZXI6ICdyZWFkeScgYWN0aW9uIHJlY2VpdmVkIGZyb20gdW5leHBlY3RlZCBjbGllbnQgJHt0Lm5hbWV9ICgke3QudXVpZH0pYCk7VXQodGhpcyxMdCxcImZcIikucmVzb2x2ZSgpfSkpLFV0KHRoaXMsVnQsXCJmXCIpLm9uRGlzY29ubmVjdGlvbigoZT0+e1V0KHRoaXMsTnQsXCJmXCIpPy5lbmRwb2ludElkPT09ZS5lbmRwb2ludElkJiYoX3QodGhpcyxOdCxudWxsLFwiZlwiKSxfdCh0aGlzLEx0LFN0KCksXCJmXCIpKX0pKX19YXN5bmMgZnVuY3Rpb24gR3QoZSl7Y29uc3R7Y29uZmlnOnQsb3ZlcnJpZGU6YX09ZTtpZihPdC5pbnN0YW5jZSl0aHJvdyBuZXcgRXJyb3IoXCJEb2NrM1Byb3ZpZGVyIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO2NvbnN0IG49YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jcmVhdGUoZGUoKSksbz1uZXcoYShPdC5nZXRPdmVycmlkZUNvbnN0cnVjdG9yKHQsbikpKTtyZXR1cm4gYXdhaXQgby5sb2FkQ29uZmlnKCksYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGEsbil7aWYoIWF3YWl0IEllKHt1dWlkOnllLnV1aWQsbmFtZTplfSkpe2xldCBvO289XCJudW1iZXJcIj09dHlwZW9mIGEuZG9ja1Bvc2l0aW9uPy5sZWZ0fHxcIm51bWJlclwiPT10eXBlb2Ygbj8uZGVmYXVsdExlZnQ/YS5kb2NrUG9zaXRpb24/LmxlZnQ6KGF3YWl0IFZlKHllKSkubGVmdC1zZS8yO2NvbnN0IHI9e25hbWU6ZSx1cmw6dCtLLkVudGVycHJpc2VEb2NrLGF1dG9TaG93OiEwLGZyYW1lOiExLHNtYWxsV2luZG93OiEwLHNhdmVXaW5kb3dTdGF0ZTohMSxkZWZhdWx0SGVpZ2h0OmllLGRlZmF1bHRXaWR0aDpzZSxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsZGVmYXVsdFRvcDphLmRvY2tQb3NpdGlvbj8udG9wPz9jZSxkZWZhdWx0TGVmdDpvLHdvcmtzcGFjZVBsYXRmb3JtOnt3aW5kb3dUeXBlOmEud2luZG93VHlwZSwuLi5hfSx0aHJvdHRsaW5nOlwiZGlzYWJsZWRcIixyZXNpemFibGU6ITEsbWF4aW1pemFibGU6ITEsYmFja2dyb3VuZENvbG9yOmF3YWl0IGZ0KFwiYmFja2dyb3VuZDFcIiksLi4ueXQobj8/e30pfTthd2FpdCBmaW4uV2luZG93LmNyZWF0ZShUZShyKSl9fShsZSxhd2FpdCBhZSgpLG8uY29uZmlnLGUud2luZG93T3B0aW9ucyksYXdhaXQgby5yZWFkeSxvfUZ0PW5ldyBXZWFrTWFwLFZ0PW5ldyBXZWFrTWFwLE50PW5ldyBXZWFrTWFwLEx0PW5ldyBXZWFrTWFwLE90Lmluc3RhbmNlPW51bGw7Y29uc3QgSHQ9YXN5bmMgZT0+e2NvbnN0IHQ9ZT9maW4uV2luZG93LndyYXBTeW5jKGUpOmZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKSxhPWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhLndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlJiZcImVudGVycHJpc2VcIj09PWEud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZX0sJHQ9ZT0+e2NvbnN0IHQ9ZT8uZGVmYXVsdFdpbmRvd09wdGlvbnM/LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlO3JldHVyblwiZW50ZXJwcmlzZVwiPT09dH07bGV0IHp0O2NvbnN0IEt0PWU9PntpZihlKXRyeXtyZXR1cm4gbmV3IFVSTChlKS5wYXRobmFtZS5pbmNsdWRlcyhLLkVudGVycHJpc2VMYW5kaW5nUGFnZS5yZXBsYWNlKC9cXC8kLyxcIlwiKSl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcImVycm9yIHBhcnNpbmcgdXJsOiAlT1wiLGUpfXJldHVybiExfTt2YXIgSnQ7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkRvY2s9XCJEb2NrXCIsZS5FbnRlcnByaXNlRG9jaz1cIkVudGVycHJpc2VEb2NrXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIixlLk1pY3JvZmxvdz1cIk1pY3JvZmxvd1wifShKdHx8KEp0PXt9KSk7Y29uc3QgWnQ9YXN5bmMoZSx0LGE9XCJ3b3Jrc3BhY2UtbGljZW5zaW5nXCIpPT57Y29uc3Qgbj17YXBpVmVyc2lvbjp0LmFwaVZlcnNpb258fE8sY29tcG9uZW50TmFtZTplLGNvbXBvbmVudFZlcnNpb246dC5jb21wb25lbnRWZXJzaW9ufHxPLGFsbG93ZWQ6dC5hbGxvd2VkLHJlamVjdGlvbkNvZGU6dC5yZWplY3Rpb25Db2RlfTtmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6YSxkYXRhOm59KX07bGV0IHF0PSExO2NvbnN0IGp0PW5ldyBNYXAsUXQ9ZT0+e2xldCB0PWp0LmdldChlLnV1aWQpO3JldHVybiB0fHwodD1rbihlKSx0Lm9uY2UoXCJjbG9zZWRcIiwoKCk9PntqdC5kZWxldGUoZS51dWlkKX0pKSxqdC5zZXQoZS51dWlkLHQpKSx0fSxZdD1hc3luYyhlLHQpPT57dHJ5e2F3YWl0IGUuX3JhaXNlQW5hbHl0aWNzKFt0XSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byByYWlzZSBhbmFseXRpY3MgZXZlbnRcIixlKX19LFh0PWFzeW5jIGU9Pnthd2FpdCBZdChRdChmaW4ubWUuaWRlbnRpdHkpLHtzb3VyY2U6XCJCcm93c2VyXCIsLi4uZX0pfTtsZXQgZWE7Y29uc3QgdGE9YXN5bmMgZT0+e2VhfHwoZWE9bmV3IFRleHRFbmNvZGVyKTtjb25zdCB0PWVhLmVuY29kZShlKSxhPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIix0KTtyZXR1cm4gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShhKSkubWFwKChlPT5lLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSkpLmpvaW4oXCJcIil9O2Z1bmN0aW9uIGFhKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gbmEoZSwuLi50KXtpZighdC5sZW5ndGgpcmV0dXJuIGU7Y29uc3QgYT10LnNoaWZ0KCk7cmV0dXJuIGFhKGUpJiZhYShhKSYmT2JqZWN0LmVudHJpZXMoYSkuZm9yRWFjaCgoKFt0LGFdKT0+e2lmKGFhKGEpKXJldHVybiBlW3RdfHwoZVt0XT17fSksbmEoZVt0XSxhKTtlW3RdPWF9KSksbmEoZSwuLi50KX1jb25zdCBvYT1yZXF1aXJlKFwibG9kYXNoLmRlYm91bmNlXCIpO3ZhciByYT1hLm4ob2EpO2Z1bmN0aW9uIGlhKCl7cmV0dXJuIHZvaWQgMCE9PXR5cGVvZiBjcnlwdG8mJlwicmFuZG9tVVVJRFwiaW4gY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjcnlwdG8ucmFuZG9tVVVJRD9jcnlwdG8ucmFuZG9tVVVJRCgpOlwiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwXCIucmVwbGFjZSgvWzAxOF0vZywoZT0+KGVeY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+PmUvNCkudG9TdHJpbmcoMTYpKSl9ZnVuY3Rpb24gc2EoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oV3QuTWFjaGluZU5hbWUpPz9cInVua25vd25cIn1sZXQgY2E7YXN5bmMgZnVuY3Rpb24gbGEoKXtyZXR1cm4gY2F8fChjYT1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSxjYX1jb25zdCBkYT1lPT57aWYoQXJyYXkuaXNBcnJheShlLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcykmJihlLmxheW91dFNuYXBzaG90fHxlLmxheW91dCkpe2NvbnN0IHQ9ZS53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcy5maW5kKChlPT5lLmlzQWN0aXZlKSk7aWYodCl7Y29uc3QgYT1lLmxheW91dFNuYXBzaG90P2UubGF5b3V0U25hcHNob3QubGF5b3V0c1t0LmxheW91dENvbnRhaW5lcktleV06ZS5sYXlvdXQ7aWYoYSlpZih0LmlzTG9ja2VkKXtjb25zdCBuPVduKGEsdC5sYXlvdXQpO3QubGF5b3V0PW4sZS5sYXlvdXQ9bn1lbHNlIHQubGF5b3V0PWEsZS5sYXlvdXQ9YX19cmV0dXJuIGV9O2FzeW5jIGZ1bmN0aW9uIHVhKGUpe2NvbnN0IHQ9ZXx8YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuZ2V0U25hcHNob3QoKTtpZih0LnNuYXBzaG90RGV0YWlscz8ubWFjaGluZUlkKXJldHVybiB0O2NvbnN0IGE9c2EoKTtyZXR1cm57Li4udCxzbmFwc2hvdERldGFpbHM6ey4uLnQuc25hcHNob3REZXRhaWxzLG1hY2hpbmVJZDphd2FpdCBsYSgpLG1hY2hpbmVOYW1lOmF9fX1jb25zdCBwYT1hc3luYyBlPT4oey4uLmUsbGF5b3V0RGV0YWlsczp7bWFjaGluZUlkOmF3YWl0IGxhKCksbWFjaGluZU5hbWU6c2EoKX19KSx3YT1hc3luYyhlLHQpPT4oe3BhZ2VJZDppYSgpLHRpdGxlOmUsbGF5b3V0OmF3YWl0IHBhKHQpLGlzUmVhZE9ubHk6ITF9KSxnYT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCB3YShlLnRpdGxlLE1uKGUubGF5b3V0KSk7cmV0dXJuIGUucGFuZWxzJiYodC5wYW5lbHM9ZS5wYW5lbHMubWFwKChlPT4oey4uLmUsdmlld09wdGlvbnM6Q24oZS52aWV3T3B0aW9ucyl9KSkpKSx7Li4uZSwuLi50fX0saGE9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLkxheW91dC53cmFwU3luYyhlKTtyZXR1cm57c2hvdzphc3luYygpPT57Y29uc3QgYT1hd2FpdCB0LmdldENvbmZpZygpLHtzZXR0aW5nczpuLGRpbWVuc2lvbnM6b309YSxyPWF3YWl0IEh0KGUpO2F3YWl0IHQucmVwbGFjZSh7Li4uYSxzZXR0aW5nczp7Li4ubixoYXNIZWFkZXJzOiEwLHJlb3JkZXJFbmFibGVkOiEwfSxkaW1lbnNpb25zOnsuLi5vLGhlYWRlckhlaWdodDpyPzI4OjMwfX0pfSxoaWRlOmFzeW5jIGU9Pntjb25zdCBhPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm4sZGltZW5zaW9uczpvfT1hd2FpdCBhO2F3YWl0IHQucmVwbGFjZSh7Li4uYSxzZXR0aW5nczp7Li4ubixoYXNIZWFkZXJzOiExLHJlb3JkZXJFbmFibGVkOmU/LnNldHRpbmdzPy5yZW9yZGVyRW5hYmxlZD8/ITF9LGRpbWVuc2lvbnM6ey4uLm8saGVhZGVySGVpZ2h0OjB9fSl9LGlzU2hvd2luZ1RhYnM6YXN5bmMoKT0+e3RyeXtjb25zdCBlPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOmF9PWF3YWl0IGU7cmV0dXJuIGEuaGFzSGVhZGVyc31jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBnZXQgbGF5b3V0IGNvbmZpZzogXCIsZSksITB9fX19LG1hPVwib2Ytd29ya3NwYWNlLVwiO2NvbnN0IGthPW5ldyBjbGFzc3ttYXJrKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bWF9JHtlfWApfW1hcmtTdGFydChlKXtwZXJmb3JtYW5jZS5tYXJrKGAke21hfSR7ZX0tc3RhcnRgKX1tYXJrRW5kKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7bWF9JHtlfS1lbmRgKX1tYXJrRW5kQW5kTWVhc3VyZShlKXtwZXJmb3JtYW5jZS5tYXJrKGAke21hfSR7ZX0tZW5kYCk7dHJ5e3JldHVybiBwZXJmb3JtYW5jZS5tZWFzdXJlKGAke21hfSR7ZX1gLGAke21hfSR7ZX0tc3RhcnRgLGAke21hfSR7ZX0tZW5kYCl9Y2F0Y2goZSl7MH19bWFya0FuZE1lYXN1cmUoZSx0KXtwZXJmb3JtYW5jZS5tYXJrKGAke21hfSR7ZX1gKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7bWF9JHtlfS1tZWFzdXJlYCxgJHttYX0ke3R9LXN0YXJ0YCxgJHttYX0ke2V9YCl9Y2F0Y2goZSl7MH19cmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2VFbnRyaWVzKCl7cmV0dXJuIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJtZWFzdXJlXCIpLmZpbHRlcigoZT0+ZS5uYW1lLnN0YXJ0c1dpdGgobWEpKSl9cmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2UoKXtyZXR1cm4gdGhpcy5yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZUVudHJpZXMoKS5tYXAoKGU9Pih7bmFtZTplLm5hbWUucmVwbGFjZShgJHttYX1gLFwiXCIpLnJlcGxhY2UoXCItbWVhc3VyZVwiLFwiXCIpLGR1cmF0aW9uOmUuZHVyYXRpb259KSkpfX0sYmE9KCk9Pntjb25zdCBlPWBicm93c2VyLWNvbnRleHQtbWVudS1zdGFydHVwLSR7aWEoKX1gO3JldHVybiBrYS5tYXJrU3RhcnQoZSksZX0sZmE9ZT0+e2thLm1hcmtBbmRNZWFzdXJlKFwiYnJvd3Nlci1jb250ZXh0LW1lbnUtY2FsbGVkXCIsZSl9LHlhPWU9PntmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLmlkZW50aXR5LnV1aWR9KS5vbmNlKFwid2luZG93LXNob3duXCIsKCgpPT57KGU9PntrYS5tYXJrQW5kTWVhc3VyZShcImJyb3dzZXItY29udGV4dC1tZW51LXNob3duXCIsZSl9KShlKX0pKX0sU2E9KGUsdCk9PnQ/YCR7dH0tJHtlLnV1aWR9LSR7ZS5uYW1lfWA6YF9fYnJvd3Nlcl93aW5kb3dfXy0ke2UudXVpZH0tJHtlLm5hbWV9YCx2YT1uZXcgTWFwLFBhPWU9Pih2YS5oYXMoZSl8fHZhLnNldChlLFhlKGUpKSx2YS5nZXQoZSkoKSksQ2E9KGUsdCk9Pntjb25zdCBhPVNhKGUsdCk7cmV0dXJuIFBhKGEpfTt2YXIgTWEseGEsSWEsQWEsV2EsRGE7IWZ1bmN0aW9uKGUpe2UuQ2xvc2VCcm93c2VyV2luZG93PVwiY2xvc2UtYnJvd3Nlci13aW5kb3dcIixlLlF1aXRQbGF0Zm9ybT1cInF1aXQtcGxhdGZvcm1cIixlLkNsb3NlUGFnZT1cImNsb3NlLXBhZ2VcIixlLkFkZFRvQ2hhbm5lbD1cImFkZC10by1jaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cInJlbW92ZS1mcm9tLWNoYW5uZWxcIixlLk9wZW5TYXZlTW9kYWxJbnRlcm5hbD1cIm9wZW4tc2F2ZS1tb2RhbC1pbnRlcm5hbFwiLGUuRHVwbGljYXRlUGFnZT1cImR1cGxpY2F0ZS1wYWdlXCIsZS5TZXRTZWxlY3RlZFNjaGVtZT1cInNldC1zZWxlY3RlZC1zY2hlbWVcIixlLlNob3dCcm93c2VySW5kaWNhdG9yPVwic2hvdy1icm93c2VyLWluZGljYXRvclwiLGUuU2V0U2VsZWN0ZWRMYW5ndWFnZT1cInNldC1zZWxlY3RlZC1sYW5ndWFnZVwiLGUuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPVwicmVmcmVzaC1ib29rbWFya3NcIixlLkdldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3c0ludGVybmFsPVwiZ2V0LWxheW91dHMtd2l0aC1zZWxlY3RlZC12aWV3c1wiLGUuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbD1cImZvY3VzLWFuZC1leHBhbmQtc2VhcmNoXCJ9KE1hfHwoTWE9e30pKSxmdW5jdGlvbihlKXtlLkdldFBhZ2VzPVwiZ2V0LXBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlRm9yV2luZG93PVwiZ2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLkF0dGFjaFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2gtcGFnZXMtdG8td2luZG93XCIsZS5EZXRhY2hQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2gtcGFnZXMtZnJvbS13aW5kb3dcIixlLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJzZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuUmVuYW1lUGFnZT1cInJlbmFtZS1wYWdlXCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyLXBhZ2VzLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGUtcGFnZS1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnM9XCJ1cGRhdGUtcGFnZXMtd2luZG93LW9wdGlvbnNcIixlLklzRGV0YWNoaW5nUGFnZXM9XCJpcy1kZXRhY2hpbmctcGFnZXNcIixlLklzQWN0aXZlUGFnZUNoYW5naW5nPVwiaXMtYWN0aXZlLXBhZ2UtY2hhbmdpbmdcIn0oeGF8fCh4YT17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0QXBwcz1cImdldC1hcHBzXCIsZS5HZXRDdXJhdGVkQ29udGVudD1cImdldC1jdXJhdGVkLWNvbnRlbnRcIixlLkdldFJlY2VudGx5VmlzaXRlZD1cImdldC1yZWNlbnRseS12aXNpdGVkXCIsZS5HZXRTZWFyY2hQcm92aWRlcnM9XCJnZXQtc2VhcmNoLXByb3ZpZGVyc1wifShJYXx8KElhPXt9KSksZnVuY3Rpb24oZSl7ZS5DcmVhdGVCb29rbWFya05vZGU9XCJjcmVhdGUtYm9va21hcmstbm9kZVwiLGUuR2V0Qm9va21hcmtOb2RlPVwiZ2V0LWJvb2ttYXJrLW5vZGVcIixlLlNlYXJjaEJvb2ttYXJrTm9kZXM9XCJzZWFyY2gtYm9va21hcmstbm9kZXNcIixlLlVwZGF0ZUJvb2ttYXJrTm9kZT1cInVwZGF0ZS1ib29rbWFyay1ub2RlXCIsZS5EZWxldGVCb29rbWFya05vZGU9XCJkZWxldGUtYm9va21hcmstbm9kZVwifShBYXx8KEFhPXt9KSksZnVuY3Rpb24oZSl7ZS5VcGRhdGVGYXZvcml0ZUVudHJpZXM9XCJ1cGRhdGUtZmF2b3JpdGUtZW50cmllc1wiLGUuVXBkYXRlQ29udGVudE1lbnU9XCJ1cGRhdGUtY29udGVudC1tZW51XCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51PVwibmF2aWdhdGUtY29udGVudC1tZW51XCJ9KFdhfHwoV2E9e30pKSxmdW5jdGlvbihlKXtlLlNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZT1cInNlbmQtdXBkYXRlLXZlcnNpb24tbW9kYWwtcmVzcG9uc2VcIn0oRGF8fChEYT17fSkpO2NvbnN0IFRhPXsuLi5NYSwuLi54YSwuLi5XYX0sQmE9WGUoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluPy5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLWJvb2ttYXJrc2ApLFJhPWU9Pih7aWRlbnRpdHk6ZSxvcGVuZmluV2luZG93OmZpbi5XaW5kb3cud3JhcFN5bmMoZSksX2Jvb2ttYXJrczp7X2NyZWF0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEJhKCkpLmRpc3BhdGNoKEFhLkNyZWF0ZUJvb2ttYXJrTm9kZSxlKSkoZSksX2dldEJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEJhKCkpLmRpc3BhdGNoKEFhLkdldEJvb2ttYXJrTm9kZSxlKSkoZSksX3NlYXJjaEJvb2ttYXJrTm9kZXM6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBCYSgpKS5kaXNwYXRjaChBYS5TZWFyY2hCb29rbWFya05vZGVzLGUpKShlKSxfdXBkYXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgQmEoKSkuZGlzcGF0Y2goQWEuVXBkYXRlQm9va21hcmtOb2RlLGUpKShlKSxfZGVsZXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgQmEoKSkuZGlzcGF0Y2goQWEuRGVsZXRlQm9va21hcmtOb2RlLGUpKShlKX0sZ2V0UGFnZXM6YXN5bmMoKT0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRQYWdlc0ZvcldpbmRvdyxlKSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0UGFnZUZvcldpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pLGFkZFBhZ2U6YXN5bmMgdD0+Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9hZGRQYWdlKHQpLF9hZGRQYWdlOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IGN0KGUpLG89e2lkZW50aXR5OmUscGFnZTp0LGluc2VydGlvbkluZGV4OmE/LmluZGV4LG11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I6YT8ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcn07cmV0dXJuIG4uZGlzcGF0Y2gob3QuQWRkUGFnZSxvKX0sX2FkZFBhZ2VzOmFzeW5jKHQsYSxuKT0+e2NvbnN0IG89YXdhaXQgY3QoZSkscj10Lm1hcCgoKHtwYWdlOmUsb3B0czp0fSk9Pih7Li4uZSxtdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yOnQ/Lm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3J8fFwiZHVwbGljYXRlXCJ9KSkpLGk9e2lkZW50aXR5OmUscGFnZXM6cixpbnNlcnRpb25JbmRleDphLHJlcGxhY2VBY3RpdmVQYWdlOm59O3JldHVybiBvLmRpc3BhdGNoKG90LkF0dGFjaFBhZ2VzVG9XaW5kb3csaSl9LHJlbW92ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5EZXRhY2hQYWdlc0Zyb21XaW5kb3cse2lkZW50aXR5OmUscGFnZUlkczpbdF19KSxyZXBhcmVudFBhZ2U6YXN5bmMgdD0+Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9yZXBhcmVudFBhZ2UodCksX3JlcGFyZW50UGFnZTphc3luYyB0PT57Y29uc3R7cGFnZUlkOmF9PXQsbj1hd2FpdCBjdChlKSxvPShhd2FpdCBuLmRpc3BhdGNoKG90LkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSkuZmluZCgoKHtwYWdlSWQ6ZX0pPT5lPT09YSkpO2lmKCFvKXRocm93IG5ldyBFcnJvcihgUmVwYXJlbnQgUGFnZSBFcnJvcjogVGFyZ2V0IHBhZ2Ugd2l0aCBwYWdlSWQgJHthfSBub3QgZm91bmRgKTtvLm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I9XCJyZXBhcmVudFwiO2NvbnN0IHI9e2lkZW50aXR5OmUscGFnZXM6W29dLGluc2VydGlvbkluZGV4OnQuaW5kZXh9O3JldHVybiBuLmRpc3BhdGNoKG90LkF0dGFjaFBhZ2VzVG9XaW5kb3cscil9LHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjdChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob3QuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IGN0KGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChvdC5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY3QoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG90Lk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IGN0KGUpO2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCBjdChlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LHVwZGF0ZUJyb3dzZXJXaW5kb3dUaXRsZTphc3luYyB0PT57Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO1wic3RyaW5nXCIhPXR5cGVvZiB0P2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3RpdGxlOnR9fSk6Y29uc29sZS53YXJuKFwiVHlwZSBzdHJpbmcgZm9yIHdpbmRvdyB0aXRsZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFdpbmRvd1RpdGxlIHR5cGUgaW5zdGVhZFwiLHQpfSxfb3BlblZpZXdUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjdChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob3QuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblBhZ2VUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjdChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob3QuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLHQpfSxfb3BlblNhdmVNb2RhbDphc3luYyB0PT57YXdhaXQgY3QoZSk7cmV0dXJuKGF3YWl0IENhKGUpKS5kaXNwYXRjaChUYS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWwsdCl9LF9nZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3M6YXN5bmMoKT0+KGF3YWl0IENhKGUpKS5kaXNwYXRjaChUYS5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbCxlKSxfb3BlblNhdmVCdXR0b25Db250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBjdChlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gob3QuT3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLHQpfSxfYWRkRGVmYXVsdFBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgY3QoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKG90LkFkZERlZmF1bHRQYWdlLHQpfSxfdHJhY2tSZW1vdmVkVGFiOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwsdCksX3Jlc3RvcmVSZW1vdmVkVGFiOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuUmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbCx0KSxfdHJhY2tWaXNpdGVkU2l0ZTphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LlRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbCx0KSxfZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXM6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHQpLF9zZWFyY2hTaXRlczphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LlNlYXJjaFNpdGVzSW50ZXJuYWwse2lkZW50aXR5OmUscmVxOnR9KSxfZ2V0U2VhcmNoUHJvdmlkZXJzOmFzeW5jKCk9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwse2lkZW50aXR5OmV9KSxfZ2V0Q3VyYXRlZENvbnRlbnQ6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRDdXJhdGVkQ29udGVudEludGVybmFsLHtpZGVudGl0eTplLHJlcTp0fSksX2hhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuSGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbCx0KSxfc2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuU2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlSW50ZXJuYWwsdCl9KSxFYT1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJue3dyYXBTeW5jOmU9PlJhKGUpLGNyZWF0ZVdpbmRvdzphc3luYyBhPT57Y29uc3Qgbj0oKCk9Pntjb25zdCBlPWBicm93c2VyLXdpbmRvdy1zdGFydHVwLSR7aWEoKX1gO3JldHVybiBrYS5tYXJrU3RhcnQoZSksZX0pKCk7KGU9PntmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLmlkZW50aXR5LnV1aWR9KS5vbmNlKFwid2luZG93LXNob3duXCIsKCgpPT57a2EubWFya0FuZE1lYXN1cmUoXCJicm93c2VyLXdpbmRvdy1zaG93blwiLGUpfSkpfSkobiksYXdhaXQgY3QoZSk7Y29uc3Qgbz1hd2FpdCB0LmNyZWF0ZVdpbmRvdyhhKTtyZXR1cm4oZT0+e2thLm1hcmtBbmRNZWFzdXJlKFwiYnJvd3Nlci13aW5kb3ctc3RhcnRlZFwiLGUpfSkobiksUmEoby5pZGVudGl0eSl9LGdldEFsbEF0dGFjaGVkUGFnZXM6YXN5bmMoKT0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCksZ2V0QWxsV2luZG93czphc3luYygpPT57YXdhaXQgY3QoZSk7cmV0dXJuKGF3YWl0IE1lKCkpLm1hcCgoZT0+UmEoZS5pZGVudGl0eSkpKX0sZ2V0VW5pcXVlUGFnZVRpdGxlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0VW5pcXVlUGFnZVRpdGxlLHQpLGdldExhc3RGb2N1c2VkV2luZG93OmFzeW5jKCk9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHZvaWQgMCksZ2V0UGFnZUJ5Vmlld0lkZW50aXR5OmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0UGFnZUJ5Vmlld0lkZW50aXR5LHQpfX07dmFyIEZhOyFmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZVwiLGUuQnJvd3Nlcj1cIi9icm93c2VyXCIsZS5FbnRlcnByaXNlPVwiL2VudGVycHJpc2VcIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnRcIixlLkRvY2s9XCIvZG9ja1wifShGYXx8KEZhPXt9KSk7ZnVuY3Rpb24gVmEoZSx0KXtyZXR1cm4gYXN5bmMoYSwuLi5uKT0+e2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSksdCYmYXdhaXQgdCh7ZXZlbnQ6YSxwYXlsb2FkOm59KX19ZnVuY3Rpb24gTmEoZSx0KXtyZXR1cm4gdCYmdCgodD0+e2NvbnN0e2V2ZW50OmEscGF5bG9hZDpufT10O2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSl9KSksKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KS5hZGQoYSl9fWZ1bmN0aW9uIExhKGUpe3JldHVybih0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCk7Y29uc3Qgbj1lLmdldCh0KSxvPSguLi5lKT0+e2EoLi4uZSksbi5kZWxldGUobyl9O24uYWRkKG8pfX1mdW5jdGlvbiBfYShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpJiZlLmdldCh0KS5kZWxldGUoYSl9fWNvbnN0IFVhPXtuYW1lOm1lLkJyb3dzZXJNZW51LGFsd2F5c09uVG9wOiEwLGF1dG9TaG93OiEwLGZyYW1lOiExLHJlc2l6YWJsZTohMSxiYWNrZ3JvdW5kQ29sb3I6XCIjMmYzMTM2XCIsc21hbGxXaW5kb3c6ITAsc2hvd1Rhc2tiYXJJY29uOiExLGJhY2tncm91bmRUaHJvdHRsaW5nOiExLHNhdmVXaW5kb3dTdGF0ZTohMX07ZnVuY3Rpb24gT2EoZSl7Y29uc3QgdD17Li4uVWEsLi4uZX07cmV0dXJuIHQudXJsPWZ1bmN0aW9uKGUsdCl7aWYoIUQpdGhyb3cgbmV3IEVycm9yKFwicmVzb2x2ZUFic29sdXRlUGF0aCBjYW4gb25seSBiZSB1c2VkIGluIGEgd2luZG93XCIpO2NvbnN0IGE9dD8/d2luZG93LmxvY2F0aW9uO2lmKC9eKD86W2Etel0rOik/XFwvXFwvL2kudGVzdChlKSlyZXR1cm4gZTtjb25zdCBuPWAke2EucHJvdG9jb2x9Ly8ke2EuaG9zdG5hbWV9YDtyZXR1cm4gbmV3IFVSTChlLG4pLmhyZWZ9KHQudXJsPz9cIlwiKSx0fWNvbnN0IEdhPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm57ZW1pdDpWYSh0LCh0PT5XJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGUsdCkpKSxhZGRMaXN0ZW5lcjpOYSh0LCh0PT5XJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmUoe3V1aWQ6ZmluLm1lLnV1aWR9LGUsdCkpKSxhZGRMaXN0ZW5lcldpdGhVVUlEOmE9Pk5hKHQsKHQ9PlcmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDphfSxlLHQpKSkscmVtb3ZlTGlzdGVuZXI6X2EodCksb25jZTpMYSh0KX19KFwid2luZG93Lm1lbnVcIiksSGE9KGUsdCk9PmZpbi5XaW5kb3cud3JhcFN5bmMoZSkudXBkYXRlT3B0aW9ucyh7b3BhY2l0eTp0fSksJGE9ZT0+R2EuZW1pdChcInJlc3BvbnNlXCIsZSksemE9QmUoKCgpPT5oZSgpLmdldENoaWxkV2luZG93cygpKSw1MDApO2NvbnN0IEthPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gSmEoZSx0LGEpe2NvbnN0IG49T2EoZSksbz1hd2FpdCBrdChmaW4ubWUuaWRlbnRpdHkpLHI9YXdhaXQgYnQoZmluLm1lLmlkZW50aXR5KT09PWsuRGFyayxpPW8/LnRoZW1lO2lmKG4uYmFja2dyb3VuZENvbG9yPWk/LltyP2suRGFyazprLkxpZ2h0XT8ucGFsZXR0ZT8uaW5wdXRCYWNrZ3JvdW5kfHxuLmJhY2tncm91bmRDb2xvciwhS2EuaGFzKG4ubmFtZSkpe3JldHVybiBuZXcgUHJvbWlzZSgobz0+e0dhLm9uY2UoXCJyZWFkeVwiLChhc3luYyBlPT57aWYoZS5uYW1lPT09bi5uYW1lKXtjb25zdCB0PWF3YWl0IEthLmdldChuLm5hbWUpO24ucHJldmVudEJsdXJ8fHQub25jZShcImJsdXJyZWRcIiwoYXN5bmMoKT0+e2lmKEhhKGUsMCksdC5oaWRlKCksJGEoe25hbWU6bi5uYW1lLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KSxhPXQuaWRlbnRpdHkubmFtZSxbbWUuQnJvd3NlclNhdmVNZW51LG1lLkRlc2t0b3BTaWduYWxzTW9kYWxdLmluY2x1ZGVzKGEpKXtjb25zdCBlPWF3YWl0IHQuZ2V0T3B0aW9ucygpO1wic3VibWl0dGluZ1wiIT09ZS5jdXN0b21Db250ZXh0JiZcImVycm9yXCIhPT1lLmN1c3RvbUNvbnRleHQmJnQuY2xvc2UoKX1lbHNlIHQuaWRlbnRpdHkubmFtZS5zdGFydHNXaXRoKG1lLkJyb3dzZXJNZW51KSYmdC5jbG9zZSgpO3ZhciBhfSkpLHNldFRpbWVvdXQoKGFzeW5jKCk9Pnthd2FpdCBIYShlLDEpOzEhPT0oYXdhaXQgZmluLldpbmRvdy53cmFwU3luYyhlKS5nZXRPcHRpb25zKCkpLm9wYWNpdHkmJkhhKGUsMSl9KSksbyh0KX19KSk7Y29uc3Qgcj0oYXN5bmMoKT0+e2NvbnN0IG89YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KFRlKHsuLi5uLG9wYWNpdHk6MCx1cmw6dHx8bi51cmwsZGVmYXVsdExlZnQ6YT8ubGVmdCxkZWZhdWx0VG9wOmE/LnRvcCxkZWZhdWx0V2lkdGg6YT8ud2lkdGgsZGVmYXVsdEhlaWdodDphPy5oZWlnaHQsd29ya3NwYWNlUGxhdGZvcm06e3ByZXZlbnRCbHVyOmUucHJldmVudEJsdXJ9fSwhMCkpO3JldHVybiBvLm9uY2UoXCJjbG9zZWRcIiwoKCk9PntLYS5kZWxldGUobi5uYW1lKX0pKSxvfSkoKTtLYS5zZXQobi5uYW1lLHIpfSkpfXJldHVybiBLYS5nZXQobi5uYW1lKX1hc3luYyBmdW5jdGlvbiBaYShlLHQpe2NvbnN0IGE9T2EoZSksbj17dG9wOmEudG9wLGxlZnQ6YS5sZWZ0LHdpZHRoOmEuZGVmYXVsdFdpZHRofHxhLndpZHRoLGhlaWdodDphLmRlZmF1bHRIZWlnaHR8fGEuaGVpZ2h0fTtyZXR1cm4gdC5zZXQoXCJwYXJlbnROYW1lXCIsZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLmlkZW50aXR5Lm5hbWUpLHtuYW1lOmEubmFtZSxib3VuZHM6bixyb3V0ZTpgJHthLnVybH0jJHt0LnRvU3RyaW5nKCl9YH19YXN5bmMgZnVuY3Rpb24gcWEoe29wdGlvbnM6ZSxwYXJhbWV0ZXJzOnR9KXtjb25zdCBhPXQ/P25ldyBVUkxTZWFyY2hQYXJhbXMsbj1PYShlKSx7bmFtZTpvLG1vZGFsUGFyZW50SWRlbnRpdHk6cn09bjtpZighYS5oYXMoXCJpc0VudGVycHJpc2VcIikpe2NvbnN0IGU9YCR7YXdhaXQoYXN5bmMgZT0+KHp0fHwoenQ9YXdhaXQgSHQoZSkpLHp0KSkocil9YDthLnNldChcImlzRW50ZXJwcmlzZVwiLGUpfWxldCBpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybihhd2FpdCB6YSgpKS5maW5kKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1lKSl9KG8pO2lmKGkpYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdHtuYW1lOmEsYm91bmRzOm4scm91dGU6b309YXdhaXQgWmEoZSx0KSxyPXt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkLG5hbWU6YX0saT1maW4uV2luZG93LndyYXBTeW5jKHIpO2F3YWl0IFByb21pc2UuYWxsKFtpLmhpZGUoKSxIYShyLDApLGkuc2V0Qm91bmRzKG4pXSksZS5wcmV2ZW50Qmx1cnx8aS5vbmNlKFwiYmx1cnJlZFwiLCgoKT0+e0hhKHIsMCksaS5oaWRlKCksJGEoe25hbWU6ci5uYW1lLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KX0pKSxHYS5lbWl0KFwidXBkYXRlXCIsYSxuLG8pLGF3YWl0ICRhKHtuYW1lOmEsZGF0YTp7YWN0aW9uTmFtZTpcIkNhbmNlbFwifX0pfShuLGEpO2Vsc2V7Y29uc3R7cm91dGU6dCxib3VuZHM6b309YXdhaXQgWmEoZSxhKTtpPWF3YWl0IEphKHsuLi5ufSx0LG8pfXJldHVybiBpfWNvbnN0IGphPWFzeW5jKHtvcHRpb25zOmUsY29udGVudDp0LHBhcmFtZXRlcnM6YX0pPT57Y29uc3Qgbj1hPz9uZXcgVVJMU2VhcmNoUGFyYW1zO24uc2V0KFwiY29udGVudFwiLEpTT04uc3RyaW5naWZ5KHsuLi50LGludm9jYXRpb25JZDppYSgpfSkpO2NvbnN0IG89ey4uLmUsbmFtZTpgJHtlLm5hbWV9LS0ke2UubW9kYWxQYXJlbnRJZGVudGl0eT8ubmFtZT8/XCJcIn1gfSxyPWF3YWl0IHFhKHtvcHRpb25zOm8scGFyYW1ldGVyczpufSk7cmV0dXJuIG5ldyBQcm9taXNlKChlPT57R2Eub25jZShcInJlc3BvbnNlXCIsKGFzeW5jIHQ9Pnt0Lm5hbWU9PT1vLm5hbWUmJihlKHtkYXRhOnQuZGF0YX0pLG8/LmNsb3NlT25SZXNwb25zZSYmci5jbG9zZSgpKX0pKX0pKX07bGV0IFFhO2FzeW5jIGZ1bmN0aW9uIFlhKGUpe3JldHVybihhd2FpdChRYXx8KFFhPVhlKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbi5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLW1vZGFsYCkoKSksUWEpKS5kaXNwYXRjaChEYS5TZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2UsZSl9Y29uc3QgWGE9YXN5bmMgZT0+e2NvbnN0IHQ9ZmUoZSksYT1hd2FpdCB0LmdldEJvdW5kcygpLG49a2UoYSksbz1iZShuLHtoZWlnaHQ6MjQwLHdpZHRoOjQzMn0pO3JldHVybiBxYSh7b3B0aW9uczp7c21hbGxXaW5kb3c6ITAsc2F2ZVdpbmRvd1N0YXRlOiExLHNob3dUYXNrYmFySWNvbjohMCxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsd29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1R5cGU6XCJlbnRlcnByaXNlXCJ9LHJlc2l6YWJsZTohMSxuYW1lOm1lLkRlc2t0b3BTaWduYWxzTW9kYWwsdXJsOmF3YWl0IG5lKCkrSy5EZXNrdG9wU2lnbmFsc01vZGFsLGRlZmF1bHRXaWR0aDo0MzIsZGVmYXVsdEhlaWdodDoyNDAscHJldmVudEJsdXI6ITEsLi4ub30scGFyYW1ldGVyczpuZXcgVVJMU2VhcmNoUGFyYW1zKHt0aXRsZTpcIkRlc2t0b3AgU2lnbmFscyBNb2RhbFwifSl9KX0sZW49ZT0+KHtjcmVhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZGVsZXRlUGFnZTphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LkRlbGV0ZVNhdmVkUGFnZUludGVybmFsLHQpLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IGN0KGUpKS5kaXNwYXRjaChvdC5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0U2F2ZWRQYWdlLHQpLGdldFBhZ2VzOmFzeW5jIHQ9Pihhd2FpdCBjdChlKSkuZGlzcGF0Y2gob3QuR2V0U2F2ZWRQYWdlcyx0KSxzYXZlUGFnZTphc3luYyB0PT4oYXdhaXQgY3QoZSkpLmRpc3BhdGNoKG90LlNhdmVQYWdlLHQpLGNyZWF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkNyZWF0ZVNhdmVkV29ya3NwYWNlLHQpLGRlbGV0ZVdvcmtzcGFjZTphc3luYyB0PT57Y29uc3QgYT1ibigpLG49YXdhaXQgYS5nZXRDdXJyZW50V29ya3NwYWNlKCk7aWYobi53b3Jrc3BhY2VJZD09PXQpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZGVsZXRlIGN1cnJlbnQgYWN0aXZlIHdvcmtzcGFjZSAke24udGl0bGV9YCk7cmV0dXJuKGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5EZWxldGVTYXZlZFdvcmtzcGFjZSx0KX0sdXBkYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuR2V0U2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlczphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldFNhdmVkV29ya3NwYWNlcyx0KSxnZXRXb3Jrc3BhY2VzTWV0YWRhdGE6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFdvcmtzcGFjZXNNZXRhZGF0YSx0KSxzYXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuU2F2ZVdvcmtzcGFjZSx0KSxnZXREb2NrUHJvdmlkZXJDb25maWc6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXREb2NrUHJvdmlkZXJDb25maWcsdCksc2F2ZURvY2tQcm92aWRlckNvbmZpZzphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlNhdmVEb2NrUHJvdmlkZXJDb25maWcsdCl9KTt2YXIgdG47IWZ1bmN0aW9uKGUpe2UuVXBkYXRlUGxhdGZvcm1UaGVtZVNjaGVtZT1cInVwZGF0ZS1wbGF0Zm9ybS10aGVtZS1zY2hlbWVcIn0odG58fCh0bj17fSkpO2NvbnN0IGFuPVhlKFwib2Ytd29ya3NwYWNlLW5vdGlmaWNhdGlvbnMtc3luY1wiKSxubj1rLlN5c3RlbSxvbj1lPT5PYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKChlLFt0LGFdKT0+YCR7ZX0tLXdvcmtzcGFjZS1wYWxldHRlLSR7dH06ICR7YX07YCksXCJcIikscm49KGUsdCk9Pntjb25zdCBhPSEhZS5jb250ZW50QmFja2dyb3VuZDUmJlwiIzAwMDAwMFwiIT09ZS5jb250ZW50QmFja2dyb3VuZDUsbj0hIWUuY29udGVudEJhY2tncm91bmQ0JiZcIiMwMDAwMDBcIiE9PWUuY29udGVudEJhY2tncm91bmQ0LG89JGUoZS50ZXh0RGVmYXVsdCkscj0kZShlLnRleHRJbmFjdGl2ZSksaT1vLnJnYixzPXIucmdiLGM9by5hbHBoYT9wYXJzZUZsb2F0KG8uYWxwaGEudG9TdHJpbmcoKSk6MSxsPXIuYWxwaGE/cGFyc2VGbG9hdChyLmFscGhhLnRvU3RyaW5nKCkpOjE7cmV0dXJue2RvY2tFeHBhbmRlZENvbnRhaW5lckJvcmRlckNvbG9yOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNCxkb2NrRXhwYW5kZWRDb250YWluZXJCb3JkZXJSYWRpdXM6YSYmdD9cIjBcIjpcIjEwcHhcIixkb2NrRXhwYW5kZWRDb250YWluZXJCYWNrZ3JvdW5kOm4/ZS5jb250ZW50QmFja2dyb3VuZDQ6ZS5iYWNrZ3JvdW5kMSxmaWxsZXJCYWNrZ3JvdW5kQ29sb3I6bj9lLmNvbnRlbnRCYWNrZ3JvdW5kNDpcImluaGVyaXRcIixkb2NrQ29tcGFuaW9uQ29udGFpbmVyQmFja2dyb3VuZDpuP2UuY29udGVudEJhY2tncm91bmQ0OlwiaW5oZXJpdFwiLGRvY2tDb21wb25lbnRDb250YWluZXJCYWNrZ3JvdW5kOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNSxzdHlsZWREcm9wZG93bkFjdGl2ZUJhY2tncm91bmQ6YCR7YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ0fWAsY29udGVudE1lbnVXcmFwcGVySW50ZXJuYWxEaXZCb3JkZXJDb2xvcjphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDUsY29udGVudE1lbnVJdGVtQ29udGFpbmVyQWN0aXZlQmFja2dyb3VuZDphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDMsY29udGVudE1lbnVJdGVtQ29udGFpbmVySG92ZXJCYWNrZ3JvdW5kOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kMixjb250ZW50TWVudUhlYWRlckJvcmRlckNvbG9yOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNSxkb2NrQ29tcGFuaW9uU2VwYXJhdG9yQm9yZGVyQ29sb3I6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQzLGRvY2tDb21wb25lbnRDb250YWluZXJCb3JkZXJDb2xvcjphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDUsY29tcGFuaW9uRG9ja0J1dHRvbkFjdGl2ZUJhY2tncm91bmQ6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ0LGNvbXBhbmlvbkRvY2tCdXR0b25Ib3ZlckJhY2tncm91bmQ6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ0LFwiY29tcHV0ZWQtc2Nyb2xsYmFyLXRodW1iLWFscGhhXCI6YyxcImNvbXB1dGVkLXNjcm9sbGJhci10cmFjay1hbHBoYVwiOmwsXCJzY3JvbGxiYXItdGh1bWItcmdiXCI6aSxcInNjcm9sbGJhci10cmFjay1yZ2JcIjpzfX0sc249KGUsdCxhKT0+KHtzZWxlY3RlZFRhYjpcImRhcmtcIj09PXQ/ZS5iYWNrZ3JvdW5kMzplLmJhY2tncm91bmQxLC4uLnJuKGUsYSl9KTtjb25zdCBjbj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5wcm92aWRlclN0b3JhZ2U9ZSx0aGlzLmdldFZhcnNCeVNjaGVtZT1lPT5cImRhcmtcIj09PWU/dGhpcy5kYXJrUGFsZXR0ZVZhcnM6dGhpcy5saWdodFBhbGV0dGVWYXJzLHRoaXMuc2V0V29ya3NwYWNlU3RvcmFnZT1lPT57dGhpcy53b3Jrc3BhY2VTdG9yYWdlPWV9LHRoaXMudHJ5U3luY2hyb25pemVXb3Jrc3BhY2VTdG9yYWdlPSgpPT57aWYodGhpcy53b3Jrc3BhY2VTdG9yYWdlKXtjb25zdCBlPXRoaXMuZ2V0U2NoZW1lKCk7aWYodGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0oV3QuU2VsZWN0ZWRDb2xvclNjaGVtZSxlKSx0aGlzLmRhcmtQYWxldHRlVmFycyYmdGhpcy5saWdodFBhbGV0dGVWYXJzKWlmKFwiZGFya1wiPT09ZXx8XCJsaWdodFwiPT09ZSl0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShXdC5UaGVtZVBhbGV0dGVTaGVldCxgOnJvb3R7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShlKX19YCk7ZWxzZXtjb25zdCBlPWBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKXs6cm9vdCB7JHt0aGlzLmdldFZhcnNCeVNjaGVtZShcImRhcmtcIil9fX1gLHQ9YEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KXs6cm9vdHske3RoaXMuZ2V0VmFyc0J5U2NoZW1lKFwibGlnaHRcIil9fX1gO3RoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKFd0LlRoZW1lUGFsZXR0ZVNoZWV0LGAke3R9JHtlfWApfX19LHRoaXMuc2V0UGFsZXR0ZXM9YXN5bmMoe2xpZ2h0OmUsZGFyazp0fSxhKT0+e3RoaXMubGlnaHRQYWxldHRlVmFycz1vbih7Li4uZSwuLi5zbihlLFwibGlnaHRcIixhKX0pLHRoaXMuZGFya1BhbGV0dGVWYXJzPW9uKHsuLi50LC4uLnNuKHQsXCJkYXJrXCIsYSl9KX19c2V0U2NoZW1lKGUpe3RoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0oV3QuU2VsZWN0ZWRDb2xvclNjaGVtZSxlKX1nZXRTY2hlbWUoKXtyZXR1cm4gbnVsbD09PXRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0oV3QuU2VsZWN0ZWRDb2xvclNjaGVtZSkmJnRoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0oV3QuU2VsZWN0ZWRDb2xvclNjaGVtZSxubiksdGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShXdC5TZWxlY3RlZENvbG9yU2NoZW1lKX19KGUpLGxuPSgpPT5jbixkbj1lPT4oe2dldFRoZW1lczphc3luYygpPT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldFRoZW1lcyx2b2lkIDApLHNldFNlbGVjdGVkU2NoZW1lOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuU2V0U2VsZWN0ZWRTY2hlbWUsdCksZ2V0U2VsZWN0ZWRTY2hlbWU6YXN5bmMoKT0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXRTZWxlY3RlZFNjaGVtZSx2b2lkIDApfSksdW49YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgbnQoKTthd2FpdCB0LmRpc3BhdGNoKFwic2V0LXNlbGVjdGVkLXNjaGVtZVwiLGUpfSxwbj1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBhbigpO2F3YWl0IHQuZGlzcGF0Y2godG4uVXBkYXRlUGxhdGZvcm1UaGVtZVNjaGVtZSx7c2NoZW1lOmV9KX0sd249YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgTWUoKTtyZXR1cm4gUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IENhKHQuaWRlbnRpdHkpO2F3YWl0IGEuZGlzcGF0Y2goVGEuU2V0U2VsZWN0ZWRTY2hlbWUsZSl9KSkpfSxnbj1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCB4ZSgpO3JldHVybiBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgQ2EodC5pZGVudGl0eSk7YXdhaXQgYS5kaXNwYXRjaChUYS5TZXRTZWxlY3RlZFNjaGVtZSxlKX0pKSl9LGhuPWFzeW5jIGU9Pnt0cnl7Y29uc3QgdD1sbigpO3Quc2V0U2NoZW1lKGUpLGF3YWl0IFByb21pc2UuYWxsKFthd2FpdCB0LnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZSgpLHBuKGUpLHduKGUpLGduKGUpLHVuKGUpXSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byBzZXQgdGhlIHNlbGVjdGVkIHNjaGVtZTogXCIsZSl9fSxtbj0oKT0+e3RyeXtyZXR1cm4gbG4oKS5nZXRTY2hlbWUoKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGdldCB0aGUgc2VsZWN0ZWQgc2NoZW1lOiBcIixlKX19LGtuPWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtsZXQgYTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHthcHBseVNuYXBzaG90OmFzeW5jKHQsYSk9PntpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmIXQ/LndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgYnJvd3NlciBzbmFwc2hvdFwiKTtyZXR1cm4gZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmFwcGx5U25hcHNob3QodCxhKX0sZ2V0U25hcHNob3Q6KCk9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRTbmFwc2hvdCgpLnRoZW4oKGU9PmUpKSxnZXRWaWV3U25hcHNob3Q6dD0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldFZpZXdTbmFwc2hvdCh0KSxjcmVhdGVWaWV3Oih0LGEsbik9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5jcmVhdGVWaWV3KHQsYSxuKSxsYXVuY2hBcHA6YXN5bmMgdD0+e2NvbnNvbGUud2FybihcImxhdW5jaEFwcCBtZXRob2QgaXMgZGVwcmVjYXRlZC4gSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGNyZWF0ZVZpZXcgLSBodHRwczovL2RldmVsb3BlcnMub3BlbmZpbi5jby9vZi1kb2NzL2RvY3MvcGxhdGZvcm0tZ2V0dGluZy1zdGFydGVkI2FkZC1hLXZpZXctdG8tYW4tZXhpc3Rpbmctd2luZG93IG9yICBjcmVhdGVXaW5kb3cgLSBodHRwczovL2RldmVsb3BlcnMub3BlbmZpbi5jby9vZi1kb2NzL2RvY3MvcGxhdGZvcm0tZ2V0dGluZy1zdGFydGVkI2NyZWF0ZS1hLXBsYXRmb3JtLXdpbmRvdyBpbnN0ZWFkLlwiKSx0LnRhcmdldHx8KHQudGFyZ2V0PXt1dWlkOlIsbmFtZTpFLGVudGl0eVR5cGU6Rnx8XCJ1bmtub3duXCJ9KTtyZXR1cm4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkxhdW5jaEFwcCx0KX0sX2ludm9rZUN1c3RvbUFjdGlvbjphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCBzdChlKSxvPXthY3Rpb25JZDp0LHBheWxvYWQ6ey4uLmEsY2FsbGVyVHlwZTphLmNhbGxlclR5cGV8fE0uQVBJfX07cmV0dXJuIG4uZGlzcGF0Y2gob3QuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWwsbyl9LF9yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuUmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsLHQpLF9zaG93VXBkYXRlVmVyc2lvbk1vZGFsOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuU2hvd1VwZGF0ZVZlcnNpb25Nb2RhbEludGVybmFsLHQpLGdldEN1cnJlbnRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXRDdXJyZW50V29ya3NwYWNlLHQpLGFwcGx5V29ya3NwYWNlOmFzeW5jKHQsYSk9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuQXBwbHlXb3Jrc3BhY2Usey4uLnQsb3B0aW9uczphfSkscmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbCx0KSxzZXRBY3RpdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5TZXRBY3RpdmVXb3Jrc3BhY2UsdCksZ2V0TGFuZ3VhZ2U6YXN5bmMoKT0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5HZXRMYW5ndWFnZSksX2dldExhbmd1YWdlUmVzb3VyY2VzOmFzeW5jKCk9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbCksc2V0TGFuZ3VhZ2U6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5TZXRMYW5ndWFnZSx0KSxfcmFpc2VBbmFseXRpY3M6YXN5bmMgdD0+e2lmKGF8fChhPWF3YWl0IGl0KGUpKSxcIm9iamVjdFwiPT10eXBlb2YgYSYmYT8uYW5hbHl0aWNzPy5pc1N1cHBvcnRlZCl7cmV0dXJuKGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5BbmFseXRpY3MsdCl9ZS51dWlkfSxnZXROb3RpZmljYXRpb25zQ29uZmlnOmFzeW5jKCk9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuR2V0Tm90aWZpY2F0aW9uc0NvbmZpZyksX3JlZnJlc2hCb29rbWFya3NJbnRlcm5hbDphc3luYygpPT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCksX2xhdW5jaEJvb2ttYXJrSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5MYXVuY2hCb29rbWFya0ludGVybmFsLHQpLF91cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwsdCksX3VwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5VcGRhdGVDb250ZW50TWVudUludGVybmFsLHQpLF9sYXVuY2hEb2NrRW50cnlJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkxhdW5jaERvY2tFbnRyeUludGVybmFsLHQpLF9zZXREb2NrRmF2b3JpdGVzSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbCx0KSxfc2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwsdCksX3JlbW92ZURvY2tGYXZvcml0ZUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuUmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWwsdCksX2FkZERvY2tGYXZvcml0ZUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuQWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWwsdCksX25hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90Lk5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbCx0KSxfb3BlbkRvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbDphc3luYygpPT4oYXdhaXQgc3QoZSkpLmRpc3BhdGNoKG90LkdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbCksX2hhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0IHN0KGUpKS5kaXNwYXRjaChvdC5IYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsLHQpLF9mb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsOmFzeW5jKCk9Pihhd2FpdCBzdChlKSkuZGlzcGF0Y2gob3QuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbCksX3Nob3dBYm91dFBhZ2VQb3B1cDphc3luYyBlPT4oYXN5bmMgZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyh7Li4uZSx0aXRsZTpcIkFib3V0XCJ9KSxhPWF3YWl0IFZlKGZpbi5tZS5pZGVudGl0eSksbj1lLmNvcHlyaWdodE1lc3NhZ2U/MzIwOjI4NixvPWJlKGEse2hlaWdodDpuLHdpZHRoOjM2MH0pO3JldHVybiBxYSh7b3B0aW9uczp7ZnJhbWU6ITAsc21hbGxXaW5kb3c6ITAsc2F2ZVdpbmRvd1N0YXRlOiExLHNob3dUYXNrYmFySWNvbjohMCxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsd29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1R5cGU6XCJlbnRlcnByaXNlXCJ9LHJlc2l6YWJsZTohMSxuYW1lOm1lLkFib3V0UGFnZVdpbmRvdyx1cmw6YXdhaXQgbmUoKStLLkVudGVycHJpc2VBYm91dFBhZ2UsZGVmYXVsdFdpZHRoOjM2MCxkZWZhdWx0SGVpZ2h0Om4scHJldmVudEJsdXI6ITAsLi4ub30scGFyYW1ldGVyczp0fSl9KShlKSxUaGVtZTpkbihlKSxCcm93c2VyOkVhKGUpLFN0b3JhZ2U6ZW4oZSl9KX0sYm49KCk9PmtuKGZpbi5tZS5pZGVudGl0eSksZm49e2NvbnRleHRNZW51T3B0aW9uczp7ZW5hYmxlZDohMCx0ZW1wbGF0ZTpbXCJzcGVsbENoZWNrXCIsXCJzZXBhcmF0b3JcIixcInByaW50XCIsXCJzZXBhcmF0b3JcIixcImN1dFwiLFwiY29weVwiLFwicGFzdGVcIixcInVuZG9cIixcInJlZG9cIixcInNlbGVjdEFsbFwiLFwiaW5zcGVjdFwiLFwicmVsb2FkXCJdfSxkb3dubG9hZFNoZWxmOntlbmFibGVkOiEwfX07ZnVuY3Rpb24geW4oZSx0KXtyZXR1cm4gbmEoe30sZm4sdCxlKX1jb25zdCBTbj1cImludGVybmFsLWdlbmVyYXRlZC12aWV3LVwiLHZuPShlLHQpPT5lLmNvbnRlbnQ/ey4uLmUsY29udGVudDplLmNvbnRlbnQubWFwKChlPT52bihlLHQpKSl9OnsuLi5lLGNvbXBvbmVudFN0YXRlOnQoZS5jb21wb25lbnRTdGF0ZSl9LFBuPShlLHQpPT57cmV0dXJuIGE9eW4oZSx0KSx7Li4uYSxuYW1lOmEubmFtZT9hLm5hbWU6YGludGVybmFsLWdlbmVyYXRlZC12aWV3LSR7aWEoKX1gLF9pbnRlcm5hbFdvcmtzcGFjZURhdGE6ey4uLmEuX2ludGVybmFsV29ya3NwYWNlRGF0YSx2aWV3SWRlbnRpZmllcjphLl9pbnRlcm5hbFdvcmtzcGFjZURhdGE/LnZpZXdJZGVudGlmaWVyfHxpYSgpfX07dmFyIGF9LENuPWU9Pih7Li4uZSxuYW1lOnZvaWQgMH0pLE1uPWU9Pntjb25zdCB0PXsuLi5lfTtyZXR1cm4gdm4odCxDbil9LHhuPWU9Pntjb25zdCB0PXsuLi5lfTtyZXR1cm4gdm4odCwoZT0+ZS5uYW1lJiZlLm5hbWUuc3RhcnRzV2l0aChTbik/Q24oZSk6ZSkpfSxJbj1lPT57Y29uc3QgdD1bXTtyZXR1cm4oZSYmQXJyYXkuaXNBcnJheShlKT9lOltdKS5mb3JFYWNoKChlPT57aWYoXCJjb21wb25lbnRcIj09PWUudHlwZSlyZXR1cm4gdC5wdXNoKGUuY29tcG9uZW50U3RhdGUpO2NvbnN0IGE9SW4oZS5jb250ZW50KTt0LnB1c2goLi4uYSl9KSksdH0sQW49YXN5bmMoZSx0LGE9eWUpPT57bGV0IG47aWYoYXdhaXQgQ2UoYSkpe249KGF3YWl0IGZlKGEpLmdldE9wdGlvbnMoKSkubGF5b3V0fHx7c2V0dGluZ3M6e319fXJldHVybnsuLi5uLGNvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e3RpdGxlOmUsdXJsOnR9fV19XX19O25ldyBNYXAsbmV3IE1hcDtjb25zdCBXbj0oZSx0KT0+e2NvbnN0IGE9SW4odC5jb250ZW50KTtyZXR1cm57Li4udm4oZSwoZT0+e2NvbnN0IHQ9YS5maW5kKCh0PT50Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGE/LnZpZXdJZGVudGlmaWVyPT09ZS5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy52aWV3SWRlbnRpZmllcikpLG49dD90LmlzQ2xvc2FibGU6ZS5pc0Nsb3NhYmxlO3JldHVybnsuLi5lLGlzQ2xvc2FibGU6bn19KSksc2V0dGluZ3M6dC5zZXR0aW5nc319LERuPWU9PmU/SW4oZSkubGVuZ3RoOjAsVG49KHJhKCkoKGFzeW5jIGU9Pnt0cnl7aWYoIWV8fCFlLmxheW91dENvbnRhaW5lcktleSlyZXR1cm47Y29uc3QgdD1hd2FpdChhc3luYyBlPT5maW4uUGxhdGZvcm0uTGF5b3V0LndyYXBTeW5jKHsuLi5maW4ubWUuaWRlbnRpdHksbGF5b3V0TmFtZTplfSkuZ2V0Q29uZmlnKCkpKGUubGF5b3V0Q29udGFpbmVyS2V5KSxhPXQuY29udGVudD9Jbih0LmNvbnRlbnQpOltdLG49YS5sZW5ndGg7bj4xPyhhc3luYyBlPT57aWYoXCJtdWx0aVZpZXdcIiE9PWUuYXR0YWNoZWRQYWdlVHlwZSl7Y29uc3QgdD1hd2FpdCBibigpLkJyb3dzZXIuZ2V0VW5pcXVlUGFnZVRpdGxlKCk7Ym4oKS5Ccm93c2VyLndyYXBTeW5jKHllKS51cGRhdGVQYWdlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTp7dGl0bGU6ZS50aXRsZT8/dCxzaW5nbGVWaWV3TmFtZTpudWxsLGF0dGFjaGVkUGFnZVR5cGU6XCJtdWx0aVZpZXdcIn19KX19KShlKToxPT09biYmKGFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCkuQnJvd3Nlci53cmFwU3luYyh5ZSk7aWYoXCJzaW5nbGVWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUpe2NvbnN0IG49YXdhaXQgZ2EoZSk7ZGVsZXRlIG4ubGF5b3V0LGRlbGV0ZSBuLnBhZ2VJZDtjb25zdCBvPWZpbi5WaWV3LndyYXBTeW5jKHt1dWlkOnllLnV1aWQsbmFtZTp0fSkscj1hd2FpdCBvLmdldEluZm8oKSxpPXsuLi5uLHRpdGxlOm51bGwsc2luZ2xlVmlld05hbWU6dCxoYXNVbnNhdmVkQ2hhbmdlczohMSxhdHRhY2hlZFBhZ2VUeXBlOlwic2luZ2xlVmlld1wiLHBhZ2VJY29uOnIuZmF2aWNvbnNbMF19O2F3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6aX0pfX0pKGUsYVswXS5uYW1lKSxhd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1oYSh7Li4ueWUsbGF5b3V0TmFtZTplLmxheW91dENvbnRhaW5lcktleX0pLG49YXdhaXQgYS5pc1Nob3dpbmdUYWJzKCk7dD4xP258fGF3YWl0IGEuc2hvdygpOjE9PT10JiZuJiZhd2FpdCBhLmhpZGUoe3NldHRpbmdzOntyZW9yZGVyRW5hYmxlZDohMH19KX0pKGUsbil9Y2F0Y2goZSl7fX0pLDUwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSkscmVxdWlyZShcInJlYWN0LWkxOG5leHRcIikpLEJuPXJlcXVpcmUoXCJpMThuZXh0XCIpO3ZhciBSbj1hLm4oQm4pO2NvbnN0IEVuPUpTT04ucGFyc2UoJ3tcImNvbnRleHRNZW51Lm5ld1dpbmRvd1wiOlwi5paw5bu656qX5Y+jXCIsXCJjb250ZXh0TWVudS5uZXdQYWdlXCI6XCLmlrDlu7rpobXpnaJcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIui/mOWOn+WIsOS4iuasoeS/neWtmOeahOabtOaUuVwiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCLliIfmjaLlt6XkvZzljLpcIixcImNvbnRleHRNZW51Lm1hbmFnZURlc2t0b3BTaWduYWxzXCI6XCJNYW5hZ2UgRGVza3RvcCBTaWduYWxzXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCLlpJbop4JcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIuS/neWtmOW3peS9nOWMulwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLlsIblt6XkvZzljLrlj6blrZjkuLouLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwi6YeN5ZG95ZCN5bel5L2c5Yy6XCIsXCJjb250ZXh0TWVudS5kZWxldGVXb3Jrc3BhY2VcIjpcIuWIoOmZpOW3peS9nOWMulwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCLkuIvovb1cIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLkv53lrZjpobXpnaJcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIuWwhumhtemdouWPpuWtmOS4ui4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIuaJk+WNsC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIuaJk+WNsOWxj+W5lVwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcIuWFs+mXreeql+WPo1wiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIuW8gOaUvuW8j+W6l+mdolwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLpgIDlh7rlubPlj7BcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIuaWsOW7uuinhuWbvlwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIuS9v+eUqOm7mOiupCBXZWIg5rWP6KeI5Zmo5omT5byA6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIuS9v+eUqOm7mOiupCBXZWIg5rWP6KeI5Zmo5omT5byA6KeG5Zu+XCIsXCJjb250ZXh0TWVudS5yZWxvYWRcIjpcIlJlbG9hZCBDTlwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld1wiOlwi6YeN5paw5Yqg6L296KeG5Zu+XCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwi6YeN5paw5Yqg6L296KeG5Zu+XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBDTlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwi5aSN5Yi26KeG5Zu+XCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwi5aSN5Yi26KeG5Zu+XCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCLlsIbop4blm77mt7vliqDliLDpopHpgZNcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCLlsIbop4blm77mt7vliqDliLDpopHpgZNcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcIuS7jumikemBk+S4reenu+mZpOinhuWbvlwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld3NcIjpcIuS7jumikemBk+S4reenu+mZpOinhuWbvlwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCLlhbPpl63op4blm75cIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIuWFs+mXreinhuWbvlwiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBDTlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwi5aSN5Yi26aG16Z2iXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCLmiZPljbBcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIuWFqOmDqOaJk+WNsFwiLFwic2F2ZU1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLlsIblt6XkvZzljLrlj6blrZjkuLpcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIuWwhumhtemdouWPpuWtmOS4ulwiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlIENOXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX19IOW3suWtmOWcqOOAglwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCLor7fovpPlhaXmnInmlYjlkI3np7BcIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCLph43mlrDlkb3lkI3pobXpnaJcIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcIuWFs+mXremhtemdolwiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCLmlL7lvIPmm7TmlLlcIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCLlhajpg6jmlL7lvINcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCLlhajpg6jkv53lrZhcIixcInNhdmVNb2RhbC5zYXZlUGFnZXNDb3VudFwiOlwi5YWz6Zet5YmN5L+d5a2YICh7e2NvdW50fX0pIOS4qumhtemdou+8n1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZSBDTlwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiIENOXCIsXCJhZGROZXdQYWdlXCI6XCLmt7vliqDmlrDpobXpnaJcIixcImFkZE5ld1RhYlwiOlwi5re75Yqg5paw6YCJ6aG55Y2hXCIsXCJhZGROZXdWaWV3XCI6XCLmlrDlu7rop4blm75cIixcInJlc3RvcmVNb2RhbFwiOlwi5oKo56Gu5a6a6KaB6L+Y5Y6f5Yiw5LiK5qyh5L+d5a2Y55qE5pu05pS55ZCX77yfXCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwi5Lu75L2V5pyq5L+d5a2Y55qE5pu05pS56YO95bCG5Lii5aSxXCIsXCJtb2RhbC5kaXNjYXJkUGFnZVdhcm5pbmdcIjpcIuWvueatpOmhteeahOS7u+S9leacquS/neWtmOeahOabtOaUuemDveWwhuS4ouWkseOAglwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcIuWFs+mXreWJjeS/neWtmOabtOaUue+8n1wiLFwibW9kYWwucGFnZUNsb3NlXCI6XCLlhbPpl63pobXpnaJcIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCI6XCLmgqjnoa7lrpropoHliIfmjaLliLAge3t3b3Jrc3BhY2V9fSDlkJfvvJ9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuS7u+S9leacquS/neWtmOeahOabtOaUuemDveWwhuS4ouWksVwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIuaCqOehruWumuimgeawuOS5heWIoOmZpOatpOW3peS9nOWMuuWQl++8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuWQjeensOS4uiB7e3dvcmtzcGFjZX19IOeahOW3peS9nOWMuuW3suWtmOWcqOOAguaCqOaYr+WQpuimgeabv+aNouWug++8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmcuYm9keVwiOlwi5bey5a2Y5Zyo5ZCM5ZCN55qE5bel5L2c5Yy644CC5pu/5o2i5a6D5bCG6KaG55uW5YW25b2T5YmN5YaF5a6544CCXCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwucmVwbGFjZVwiOlwi5pu/5o2iXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCLlhbPpl63lubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud29ya3NwYWNlXCI6XCLlhbPpl60ge3t3b3Jrc3BhY2V9fSDlubPlj7BcIixcImNsb3NlUGxhdGZvcm0ud2FybmluZ1wiOlwi5YWz6Zet5bmz5Y+w5bCG5YWz6Zet5omA5pyJ5bel5L2c5Yy644CB5bqU55So5oiW5Lu75L2V5q2j5Zyo6L+Q6KGM55qE6L+b56iL44CCXCIsXCJiYWNrXCI6XCLlkI7pgIBcIixcImZvcndhcmRcIjpcIuWJjei/m1wiLFwicmVsb2FkXCI6XCLph43mlrDliqDovb1cIixcImdyZWVuXCI6XCLnu7/oibJcIixcInB1cnBsZVwiOlwi57Sr6ImyXCIsXCJvcmFuZ2VcIjpcIuapmeiJslwiLFwicmVkXCI6XCLnuqLoibJcIixcInBpbmtcIjpcIueyiee6ouiJslwiLFwieWVsbG93XCI6XCLpu4ToibJcIixcInRoZW1lLmxpZ2h0XCI6XCLmtYXoibJcIixcInRoZW1lLmRhcmtcIjpcIua3seiJslwiLFwidGhlbWUuc3lzdGVtXCI6XCLkuI7mk43kvZzns7vnu5/orr7nva7lkIzmraVcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIumakOiXj+mAiemhueWNoVwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi5pi+56S66YCJ6aG55Y2hXCIsXCJ0b29sYmFyLmxvY2tcIjpcIumUgeWumlwiLFwidG9vbGJhci51bmxvY2tcIjpcIuino+mUgVwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIuminOiJsumTvuaOpVwiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIuabtOaUueW4g+WxgFwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi5L+d5a2Y6I+c5Y2VXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLmnIDlpKfljJbnqpflj6NcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi6L+Y5Y6f56qX5Y+jXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLmnIDlsI/ljJbnqpflj6NcIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIuWFqOWuvVwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIuWIl+aVsFwiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIuihjOaVsFwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIue9keagvFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi5bey5YiH5o2i5bel5L2c5Yy6XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi6YCJ6aG55Y2h5bey6ZqQ6JePXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLpgInpobnljaHlt7LmmL7npLpcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLpobXpnaLlt7LplIHlrppcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIumhtemdouW3suino+mUgVwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi5bel5L2c5Yy65bey5L+d5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIuW3peS9nOWMuuW3suWPpuWtmOS4uiB7e3dvcmtzcGFjZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIuW3peS9nOWMuuW3sumHjeWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIumhtemdouW3suS/neWtmFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIENOXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcIumhtemdouW3suWPpuWtmOS4uiB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIumhtemdouW3sumHjeWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLlt7LlupTnlKjkuIrkuIvmlofnu4RcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLlt7LlupTnlKgge3tjb2xvck5hbWV9fSDkuIrkuIvmlofnu4RcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcIuS7juS4iuS4i+aWh+e7hOS4reenu+mZpOinhuWbvlwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIuS7juS4iuS4i+aWh+e7hOS4reenu+mZpOinhuWbvlwiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCLlt7LlupTnlKgge3tsYXlvdXROYW1lfX0g5biD5bGAXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIuW3peS9nOWMuuW3suWIoOmZpFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIumhtemdouS/neWtmOWksei0pVwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwi5bel5L2c5Yy65L+d5a2Y5aSx6LSlXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIuWkjeWItumhtemdouWksei0pVwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLmiJHku6zlsJ3or5Xlr7nmraTpgInpobnljaHov5vooYzpopzoibLpk77mjqXvvIzkvYbnvZHnq5kv5YaF5a655omA5pyJ6ICF5bCa5pyq5ZCv55So6K+l5Yqf6IO9XCIsXCJnbG9iYWwuY2FuY2VsXCI6XCLlj5bmtohcIixcImdsb2JhbC5jb25maXJtXCI6XCLnoa7orqRcIixcImdsb2JhbC5zYXZlXCI6XCLkv53lrZhcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBDTlwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnQgQ05cIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIENOXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIENOXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLmiZPlvIDmtY/op4jlmajoj5zljZVcIixcImFyaWEuYnJvd3NlclRhYnNcIjpcIua1j+iniOWZqOmAiemhueWNoVwiLFwiYXJpYS52aWV3VGFiXCI6XCLmn6XnnIsge3t0aXRsZX19IOeahOmAiemhueWNoVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIuWFs+mXrSB7e3RpdGxlfX0g55qE6aG16Z2i6YCJ6aG55Y2h5oyJ6ZKuXCIsXCJhcmlhLmNsb3NlVGFiXCI6XCLlhbPpl63pgInpobnljaEge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCLmoIfpophcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIuS9v+eUqOi9rOS5ieWFs+mXreS4iuS4i+aWh+e7hOmAieaLqeWvueivneahhlwiLFwiYXJpYS5jb2xvckxpbmtpbmdcIjpcIuaYvuekuuaIlumakOiXj+minOiJsumTvuaOpVwiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwi6K+36YCJ5oup5LiA5Liq6KeG5Zu+5Lul5bqU55So6aKc6Imy6ZO+5o6lXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCLliIbphY3nu5kge3tuYW1lfX0g5LiK5LiL5paH57uE55qE5b2T5YmN6KeG5Zu+XCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwi5YiG6YWN57uZIHt7bmFtZX19IOS4iuS4i+aWh+e7hOeahOW9k+WJjeinhuWbvlwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCLlsIbmtLvliqjop4blm77orr7nva7kuLoge3tuYW1lfX0g5LiK5LiL5paH57uEXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCLlsIbmtLvliqjop4blm77orr7nva7kuLoge3tuYW1lfX0g5LiK5LiL5paH57uEXCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwi5L2/55So6L2s5LmJ5YWz6Zet5pu05pS55biD5bGA5a+56K+d5qGGXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIENOXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgQ05cIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBDTlwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgQ05cIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBDTlwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBDTlwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIENOXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIENOXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IENOXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBDTlwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIENOXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIENOXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIENOXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBDTlwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIENOXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggQ05cIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IENOXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIENOXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gQ05cIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBDTlwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBDTlwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgQ05cIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIENOXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBDTlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgQ05cIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgQ05cIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgQ05cIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIENOXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBDTlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBDTlwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsXCI6e1wic2F2ZVN1cGVydGFiQ291bnRfb25lXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYiBiZWZvcmUgY2xvc2luZz8gQ05cIixcInNhdmVTdXBlcnRhYkNvdW50X290aGVyXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IENOXCJ9LFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIENOXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgQ05cIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgQ05cIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdC4gQ05cIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IENOXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gQ05cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIENOXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBDTlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIENOXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gQ05cIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgQ05cIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIENOXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgQ05cIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IENOXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIENOXCIsXCJzaWRlUGFuZWwuYWlDZW50ZXJcIjpcIkFJIENlbnRlciBDTlwiLFwic2lkZVBhbmVsLm5ld0NoYXRcIjpcIk5ldyBDaGF0IENOXCIsXCJzaWRlUGFuZWwudG9nZ2xlU2lkZVBhbmVsXCI6XCJUb2dnbGUgU2lkZSBQYW5lbCBDTlwiLFwic2lkZVBhbmVsLmNsb3NlU2lkZVBhbmVsXCI6XCJDbG9zZSBTaWRlIFBhbmVsIENOXCIsXCJzaWRlUGFuZWwub3BlbkFpQ2VudGVyXCI6XCJPcGVuIEFJIENlbnRlciBDTlwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IENOXCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmUgQ05cIn0nKSxGbj1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIuaWsOimlueql1wiLFwiY29udGV4dE1lbnUubmV3UGFnZVwiOlwi5paw6aCB6Z2iXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLpgoTljp/liLDkuIrmrKHlhLLlrZjnmoTorormm7RcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwi5YiH5o+b5bel5L2c56m66ZaTXCIsXCJjb250ZXh0TWVudS5tYW5hZ2VEZXNrdG9wU2lnbmFsc1wiOlwiTWFuYWdlIERlc2t0b3AgU2lnbmFsc1wiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwi5aSW6KeAXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCI6XCLlhLLlrZjlt6XkvZznqbrplpNcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi5bCH5bel5L2c56m66ZaT5Y+m5a2Y54K6Li4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIumHjeaWsOWRveWQjeW3peS9nOepuumWk1wiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCLliKrpmaTlt6XkvZznqbrplpNcIixcImNvbnRleHRNZW51LmRvd25sb2Fkc1wiOlwi5LiL6LyJXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwi5YSy5a2Y6aCB6Z2iXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCLlsIfpoIHpnaLlj6blrZjngrouLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCLliJfljbAuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCLmk7flj5bnlavpnaJcIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCLpl5zplonoppbnqpdcIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCLmiZPplosgU3RvcmVmcm9udFwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLpgIDlh7rlubPlj7BcIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIuaWsOimluWcllwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIuS9v+eUqOmgkOioree2sumggeeAj+imveWZqOaJk+mWi+imluWcllwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCLkvb/nlKjpoJDoqK3ntrLpoIHngI/opr3lmajmiZPplovoppblnJZcIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIFpIXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCLph43mlrDovInlhaXoppblnJZcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdzXCI6XCLph43mlrDovInlhaXoppblnJZcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIFpIXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLopIflr6voppblnJZcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCLopIflr6voppblnJZcIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIuWwh+imluWcluaWsOWinuiHs+mgu+mBk1wiLFwiY29udGV4dE1lbnUuYWRkVmlld3NcIjpcIuWwh+imluWcluaWsOWinuiHs+mgu+mBk1wiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi5b6e6aC76YGT5Lit56e76Zmk6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwi5b6e6aC76YGT5Lit56e76Zmk6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdcIjpcIumXnOmWieimluWcllwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3c1wiOlwi6Zec6ZaJ6KaW5ZyWXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIFpIXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCLopIflr6vpoIHpnaJcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIuWIl+WNsFwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwi5YiX5Y2w5YWo6YOoXCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuWwh+W3peS9nOepuumWk+WPpuWtmOeCulwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi6aCB6Z2i5Y+m5a2Y54K6XCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgWkhcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX0g5bey57aT5a2Y5Zyo44CCXCIsXCJzYXZlTW9kYWwucGxlYXNlRW50ZXJWYWxpZE5hbWVcIjpcIuiri+i8uOWFpeS4gOWAi+acieaViOeahOWQjeeosVwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIumHjeaWsOWRveWQjemggemdolwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi6Zec6ZaJ6aCB6Z2iXCIsXCJzYXZlTW9kYWwuZGlzY2FyZENoYW5nZXNcIjpcIuaNqOajhOiuiuabtFwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIuWFqOmDqOaNqOajhFwiLFwic2F2ZU1vZGFsLnNhdmVBbGxcIjpcIuWEsuWtmOWFqOmDqFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLopoHlhYjlhLLlrZggKHt7Y291bnR9fSkg5YCL6aCB6Z2i5YaN6Zec6ZaJ5ZeO77yfXCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIFpIXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgWkhcIixcImFkZE5ld1BhZ2VcIjpcIuaWsOWinuaWsOmggemdolwiLFwiYWRkTmV3VGFiXCI6XCLmlrDlop7mlrDntKLlvJXmqJnnsaRcIixcImFkZE5ld1ZpZXdcIjpcIuaWsOimluWcllwiLFwicmVzdG9yZU1vZGFsXCI6XCLmgqjnorrlrpropoHpgoTljp/liLDkuIrmrKHlhLLlrZjnmoTorormm7Tll47vvJ9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLku7vkvZXmnKrlhLLlrZjnmoTorormm7Tpg73lsIfooqvmjajmo4RcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi5Zyo5q2k6aCB6Z2i5Lu75L2V5pyq5YSy5a2Y55qE6K6K5pu06YO95bCH6YG65aSx44CCXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi6KaB5YWI5YSy5a2Y6K6K5pu05YaN6Zec6ZaJ5ZeO77yfXCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcIumggemdoumXnOmWiVwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIuaCqOeiuuWumuimgeWIh+aPm+WIsCB7e3dvcmtzcGFjZX1977yfXCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLku7vkvZXmnKrlhLLlrZjnmoTorormm7Tpg73lsIfooqvmjajmo4RcIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCLmgqjnorrlrpropoHmsLjkuYXliKrpmaTmraTlt6XkvZznqbrplpPll47vvJ9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLlhbfmnInlkI3nqLEge3t3b3Jrc3BhY2V9fSDnmoTlt6XkvZznqbrplpPlt7LntpPlrZjlnKjjgILkvaDopoHmm7Tmj5vlroPll47vvJ9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIuebuOWQjOWQjeeoseeahOW3peS9nOepuumWk+W3sue2k+WtmOWcqOOAguabtOaPm+Wug+W+jO+8jOWwh+acg+imhuiTi+ebruWJjeWFp+WuueOAglwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcIuabtOaPm1wiLFwiY2xvc2VQbGF0Zm9ybVwiOlwi6Zec6ZaJ5bmz5Y+wXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwi6Zec6ZaJIHt7d29ya3NwYWNlfX0g5bmz5Y+wXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIumXnOmWieW5s+WPsOW+jO+8jOWwh+mXnOmWieato+WcqOWft+ihjOeahOS7u+S9leW3peS9nOepuumWk+OAgUFQUCDmiJbmtYHnqIvjgIJcIixcImJhY2tcIjpcIuS4iuS4gOmggVwiLFwiZm9yd2FyZFwiOlwi5LiL5LiA6aCBXCIsXCJyZWxvYWRcIjpcIumHjeaWsOi8ieWFpVwiLFwiZ3JlZW5cIjpcIue2oFwiLFwicHVycGxlXCI6XCLntKtcIixcIm9yYW5nZVwiOlwi5qmYXCIsXCJyZWRcIjpcIue0heiJslwiLFwicGlua1wiOlwi57KJ57SFXCIsXCJ5ZWxsb3dcIjpcIum7g1wiLFwidGhlbWUubGlnaHRcIjpcIua3ulwiLFwidGhlbWUuZGFya1wiOlwi5rexXCIsXCJ0aGVtZS5zeXN0ZW1cIjpcIuiIhyBPUyDoqK3lrprlkIzmraVcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIumaseiXj+e0ouW8leaomeexpFwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi6aGv56S657Si5byV5qiZ57GkXCIsXCJ0b29sYmFyLmxvY2tcIjpcIuS4iumOllwiLFwidG9vbGJhci51bmxvY2tcIjpcIuino+mOllwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIumhj+iJsumAo+e1kFwiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIuiuiuabtOeJiOmdolwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwi5YSy5a2Y6YG45ZauXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLmnIDlpKfljJboppbnqpdcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi6YKE5Y6f6KaW56qXXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLmnIDlsI/ljJboppbnqpdcIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIuWFqOieouW5leWvrOW6plwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIuihjFwiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIuWIl1wiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIue2suagvFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi5bel5L2c56m66ZaT5bey5YiH5o+bXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi57Si5byV5qiZ57Gk5bey6Zqx6JePXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLntKLlvJXmqJnnsaTlt7Lpoa/npLpcIixcInN1Y2Nlc3NJbmRpY2F0b3IubG9ja2VkXCI6XCLpoIHpnaLlt7LkuIrpjpZcIixcInN1Y2Nlc3NJbmRpY2F0b3IudW5sb2NrZWRcIjpcIumggemdouW3suino+mOllwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiOlwi5bel5L2c56m66ZaT5bey5YSy5a2YXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIuW3peS9nOepuumWk+W3suWPpuWtmOeCuiB7e3dvcmtzcGFjZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIuW3peS9nOepuumWk+W3sumHjeaWsOWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIumggemdouW3suWEsuWtmFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIFpIXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcIumggemdouW3suWPpuWtmOeCuiB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIumggemdouW3sumHjeaWsOWRveWQjVwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCLohIjntaHnvqTntYTlt7LlpZfnlKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJ7e2NvbG9yTmFtZX19IOiEiOe1oee+pOe1hOW3suWll+eUqFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwi5b6e6ISI57Wh576k57WE5Lit56e76Zmk55qE6KaW5ZyWXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi5b6e6ISI57Wh576k57WE5Lit56e76Zmk55qE6KaW5ZyWXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX19IOeJiOmdouW3suWll+eUqFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCI6XCLlt6XkvZznqbrplpPlt7LliKrpmaRcIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCLpoIHpnaLnhKHms5XlhLLlrZhcIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcIuW3peS9nOepuumWk+eEoeazleWEsuWtmFwiLFwiZXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVQYWdlXCI6XCLnhKHms5XopIflr6vpoIHpnaJcIixcImluZm9JbmRpY2F0b3IuY29sb3JMaW5rQXR0ZW1wdFwiOlwi5oiR5YCR5ZiX6Kmm5bCN5q2k57Si5byV5qiZ57Gk6YCy6KGM6aGP6Imy6YCj57WQ77yM5L2G57ay56uZL+WFp+WuueaJgOacieiAheWwmuacquWVn+eUqOipsuWKn+iDvVwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwi5Y+W5raIXCIsXCJnbG9iYWwuY29uZmlybVwiOlwi56K66KqNXCIsXCJnbG9iYWwuc2F2ZVwiOlwi5YSy5a2YXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgWkhcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBDb250ZW50IFpIXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBaSFwiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBaSFwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwi6ZaL5ZWf54CP6Ka95Zmo6YG45ZauXCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCLngI/opr3lmajntKLlvJXmqJnnsaRcIixcImFyaWEudmlld1RhYlwiOlwie3t0aXRsZX19IOeahOimluWclue0ouW8leaomeexpFwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcIumXnOmWiSB7e3RpdGxlfX0g55qE6aCB6Z2i57Si5byV5qiZ57Gk5oyJ6YiVXCIsXCJhcmlhLmNsb3NlVGFiXCI6XCLpl5zplonntKLlvJXmqJnnsaQge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCLmqJnpoYxcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIuS9v+eUqCBFc2Mg6Y216Zec6ZaJ6ISI57Wh576k57WE6YG45Y+W5bCN6Kmx5qGGXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi6aGv56S65oiW6Zqx6JeP6aGP6Imy6YCj57WQXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLoq4vpgbjlj5bopoHlpZfnlKjpoY/oibLpgKPntZDnmoToppblnJZcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIuebruWJjeimluWcluWIhumFjee1piB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCLnm67liY3oppblnJbliIbphY3ntaYge3tuYW1lfX0g6ISI57Wh576k57WEXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIuWwh+WVn+eUqOimluWcluioreWumueCuiB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld3NcIjpcIuWwh+WVn+eUqOimluWcluioreWumueCuiB7e25hbWV9fSDohIjntaHnvqTntYRcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCLkvb/nlKggRXNjIOmNtemXnOmWieiuiuabtOeJiOmdouWwjeipseahhlwiLFwiZ2xvYmFsLnN1cGVydGFiXCI6XCJTdXBlcnRhYiBaSFwiLFwiZ2xvYmFsLnRhYlwiOlwiVGFiIFpIXCIsXCJib29rbWFya3MuZWRpdEJvb2ttYXJrXCI6XCJFZGl0IEJvb2ttYXJrIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFwiOlwiQm9va21hcmsgYWRkZWQgWkhcIixcImJvb2ttYXJrcy5kb25lXCI6XCJEb25lIFpIXCIsXCJib29rbWFya3MucmVtb3ZlXCI6XCJSZW1vdmUgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya3NQYW5lbFwiOlwiQm9va21hcmtzIFBhbmVsIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtzXCI6XCJCb29rbWFya3MgWkhcIixcImJvb2ttYXJrcy5hbGxCb29rbWFya3NcIjpcIkFsbCBCb29rbWFya3MgWkhcIixcImJvb2ttYXJrcy5mYXZvcml0ZXNcIjpcIkZhdm9yaXRlcyBaSFwiLFwiYm9va21hcmtzLnNlYXJjaEJvb2ttYXJrc1wiOlwiU2VhcmNoIEJvb2ttYXJrcyBaSFwiLFwiYm9va21hcmtzLmNsZWFyU2VhcmNoSW5wdXRcIjpcIkNsZWFyIFNlYXJjaCBJbnB1dCBaSFwiLFwiYm9va21hcmtzLmNyZWF0ZUZvbGRlclwiOlwiQ3JlYXRlIE5ldyBGb2xkZXIgWkhcIixcImJvb2ttYXJrcy5leGl0Rm9sZGVyXCI6XCJFeGl0IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLm5ld0ZvbGRlclwiOlwiTmV3IEZvbGRlciBaSFwiLFwiYm9va21hcmtzLm5hbWVkRm9sZGVyXCI6XCJ7e25hbWV9fSBGb2xkZXIgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya1NldHRpbmdzXCI6XCJ7e25hbWV9fSBCb29rbWFyayBTZXR0aW5ncyBaSFwiLFwiYm9va21hcmtzLmZvbGRlclNldHRpbmdzXCI6XCJ7e25hbWV9fSBGb2xkZXIgU2V0dGluZ3MgWkhcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFwiOlwiTm8gcmVzdWx0cyBmb3VuZCBaSFwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kU3VidGV4dFwiOlwiVGhlcmUgYXJlIG5vIGJvb2ttYXJrcyB0aGF0IG1hdGNoIHlvdXIgc2VhcmNoIFpIXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1wiOlwiTm90aGluZyB0byBzaG93IHlldCBaSFwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dTdWJ0ZXh0XCI6XCJBZGQgYSBib29rbWFyayB0byB0aGlzIGZvbGRlciBaSFwiLFwiYm9va21hcmtzLnJlc3VsdHNGb3VuZEluXCI6XCJSZXN1bHRzIGZvdW5kIGluIHt7bmFtZX19IFpIXCIsXCJib29rbWFya3MucmVzdWx0c0luT3RoZXJGb2xkZXJzXCI6XCJSZXN1bHRzIGZvdW5kIGluIG90aGVyIGZvbGRlcnMgWkhcIixcImJvb2ttYXJrcy5hbGxSZXN1bHRzRm91bmRJblwiOlwiQWxsIHJlc3VsdHMgZm91bmQgaW4gWkhcIixcImJvb2ttYXJrcy5lZGl0TmFtZVwiOlwiRWRpdCBOYW1lIFpIXCIsXCJib29rbWFya3MubW92ZVwiOlwiTW92ZSBaSFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUaXRsZVwiOlwiQm9va21hcmsgQWRkZWQgWkhcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVG9Gb2xkZXJcIjpcIllvdXIgYm9va21hcmsgd2FzIGFkZGVkIHRvIFxcXFxcInt7Zm9sZGVyTmFtZX19XFxcXFwiIFpIXCIsXCJib29rbWFya3MuYm9va21hcmtFZGl0ZWRUaXRsZVwiOlwiQm9va21hcmsgRWRpdGVkIFpIXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJTYXZlIFN1cGVydGFiIFpIXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMuLi4gWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBaSFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgU3VwZXJ0YWIgWkhcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcIk5ldyBUYWIgWkhcIixcImVudGVycHJpc2VTYXZlTWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcyBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbFwiOntcInNhdmVTdXBlcnRhYkNvdW50X29uZVwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWIgYmVmb3JlIGNsb3Npbmc/IFpIXCIsXCJzYXZlU3VwZXJ0YWJDb3VudF9vdGhlclwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBaSFwifSxcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBaSFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIFpIXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIFpIXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGxvc3QuIFpIXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBaSFwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIFpIXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBaSFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC4gWkhcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBaSFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIFpIXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIFpIXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBaSFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIFpIXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBaSFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBaSFwiLFwic2lkZVBhbmVsLmFpQ2VudGVyXCI6XCJBSSBDZW50ZXIgWkhcIixcInNpZGVQYW5lbC5uZXdDaGF0XCI6XCJOZXcgQ2hhdCBaSFwiLFwic2lkZVBhbmVsLnRvZ2dsZVNpZGVQYW5lbFwiOlwiVG9nZ2xlIFNpZGUgUGFuZWwgWkhcIixcInNpZGVQYW5lbC5jbG9zZVNpZGVQYW5lbFwiOlwiQ2xvc2UgU2lkZSBQYW5lbCBaSFwiLFwic2lkZVBhbmVsLm9wZW5BaUNlbnRlclwiOlwiT3BlbiBBSSBDZW50ZXIgWkhcIixcImNvbnRleHRNZW51LnF1aXRFbnRlcnByaXNlQnJvd3NlclwiOlwiUXVpdCBaSFwiLFwiZG9jay5yZW1vdmVGYXZvcml0ZVwiOlwiUmVtb3ZlIFpIXCJ9JyksVm49SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCJOZXcgV2luZG93XCIsXCJjb250ZXh0TWVudS5uZXdQYWdlXCI6XCJOZXcgUGFnZVwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwiUmVzdG9yZSB0byBMYXN0IFNhdmVkIENoYW5nZXNcIixcImNvbnRleHRNZW51LnN3aXRjaFdvcmtzcGFjZVwiOlwiU3dpdGNoIFdvcmtzcGFjZVwiLFwiY29udGV4dE1lbnUubWFuYWdlRGVza3RvcFNpZ25hbHNcIjpcIk1hbmFnZSBEZXNrdG9wIFNpZ25hbHNcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIkFwcGVhcmFuY2VcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VcIjpcIlNhdmUgV29ya3NwYWNlXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIlNhdmUgV29ya3NwYWNlIEFzLi4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIlJlbmFtZSBXb3Jrc3BhY2VcIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwiRGVsZXRlIFdvcmtzcGFjZVwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCJEb3dubG9hZHNcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCJTYXZlIFBhZ2VcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcIlNhdmUgUGFnZSBBcy4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcIlByaW50Li4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwiUHJpbnQgU2NyZWVuXCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwiQ2xvc2UgV2luZG93XCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwiT3BlbiBTdG9yZWZyb250XCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIlF1aXQge3twbGF0Zm9ybUxhYmVsfX1cIixcImNvbnRleHRNZW51Lm5ld1ZpZXdcIjpcIk5ldyBWaWV3XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwiT3BlbiBWaWV3IHdpdGggRGVmYXVsdCBXZWIgQnJvd3NlclwiLFwiY29udGV4dE1lbnUub3BlblZpZXdzXCI6XCJPcGVuIFZpZXdzIHdpdGggRGVmYXVsdCBXZWIgQnJvd3NlclwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWRcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIlJlbG9hZCBWaWV3XCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwiUmVsb2FkIFZpZXdzXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwiRHVwbGljYXRlIFZpZXdcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdzXCI6XCJEdXBsaWNhdGUgVmlld3NcIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcIkFkZCBWaWV3IHRvIENoYW5uZWxcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCJBZGQgVmlld3MgdG8gQ2hhbm5lbFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwiUmVtb3ZlIFZpZXcgZnJvbSBDaGFubmVsXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwiUmVtb3ZlIFZpZXdzIGZyb20gQ2hhbm5lbFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCJDbG9zZSBWaWV3XCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCJDbG9zZSBWaWV3c1wiLFwiY29udGV4dE1lbnUuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYlwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlUGFnZVwiOlwiRHVwbGljYXRlIFBhZ2VcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcIlByaW50XCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCJQcmludCBBbGxcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwiU2F2ZSBXb3Jrc3BhY2UgQXNcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIlNhdmUgUGFnZSBBc1wiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX19IGFscmVhZHkgZXhpc3RzLlwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBuYW1lXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwiUmVuYW1lIFBhZ2VcIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcIkNsb3NlIFBhZ2VcIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwiRGlzY2FyZCBDaGFuZ2VzXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwiRGlzY2FyZCBBbGxcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCJTYXZlIEFsbFwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCJTYXZlICh7e2NvdW50fX0pIHBhZ2VzIGJlZm9yZSBjbG9zaW5nP1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZVwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiXCIsXCJhZGROZXdQYWdlXCI6XCJOZXcgUGFnZVwiLFwiYWRkTmV3VGFiXCI6XCJBZGQgTmV3IFRhYlwiLFwiYWRkTmV3Vmlld1wiOlwiTmV3IFZpZXdcIixcInJlc3RvcmVNb2RhbFwiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc3RvcmUgdG8gbGFzdCBzYXZlZCBjaGFuZ2VzP1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB0byB0aGlzIHBhZ2Ugd2lsbCBiZSBsb3N0LlwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcIlNhdmUgY2hhbmdlcyBiZWZvcmUgY2xvc2luZz9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwiUGFnZSBDbG9zZVwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzd2l0Y2ggdG8ge3t3b3Jrc3BhY2V9fT9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixcImRlbGV0ZVdvcmtzcGFjZU1vZGFsXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcGVybWFuZW50bHkgZGVsZXRlIHRoaXMgd29ya3NwYWNlP1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIkEgV29ya3NwYWNlIHdpdGggdGhlIG5hbWUge3t3b3Jrc3BhY2V9fSBhbHJlYWR5IGV4aXN0cy4gRG8geW91IHdhbnQgdG8gcmVwbGFjZSBpdD9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIkEgd29ya3NwYWNlIHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cy4gUmVwbGFjaW5nIGl0IHdpbGwgb3ZlcndyaXRlIGl0cyBjdXJyZW50IGNvbnRlbnRzLlwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcIlJlcGxhY2VcIixcImNsb3NlUGxhdGZvcm1cIjpcIkNsb3NlIHRoZSBwbGF0Zm9ybVwiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcIkNsb3NlIHRoZSB7e3dvcmtzcGFjZX19IFBsYXRmb3JtXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIkNsb3NpbmcgYSBwbGF0Zm9ybSB3aWxsIGNsb3NlIGFueSB3b3Jrc3BhY2VzLCBhcHBzIG9yIGFueSBwcm9jZXNzZXMgdGhhdCBhcmUgcnVubmluZy5cIixcImJhY2tcIjpcIkJhY2tcIixcImZvcndhcmRcIjpcIkZvcndhcmRcIixcInJlbG9hZFwiOlwiUmVsb2FkXCIsXCJncmVlblwiOlwiR3JlZW5cIixcInB1cnBsZVwiOlwiUHVycGxlXCIsXCJvcmFuZ2VcIjpcIk9yYW5nZVwiLFwicmVkXCI6XCJSZWRcIixcInBpbmtcIjpcIlBpbmtcIixcInllbGxvd1wiOlwiWWVsbG93XCIsXCJ0aGVtZS5saWdodFwiOlwiTGlnaHRcIixcInRoZW1lLmRhcmtcIjpcIkRhcmtcIixcInRoZW1lLnN5c3RlbVwiOlwiU3luYyB3aXRoIE9TIHNldHRpbmdcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcIkhpZGUgVGFic1wiLFwidG9vbGJhci5zaG93VGFic1wiOlwiU2hvdyBUYWJzXCIsXCJ0b29sYmFyLmxvY2tcIjpcIkxvY2tcIixcInRvb2xiYXIudW5sb2NrXCI6XCJVbmxvY2tcIixcInRvb2xiYXIuY29sb3JMaW5raW5nXCI6XCJDb2xvciBMaW5raW5nXCIsXCJ0b29sYmFyLmNoYW5nZUxheW91dFwiOlwiQ2hhbmdlIExheW91dFwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwiU2F2ZSBNZW51XCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCJNYXhpbWl6ZSBXaW5kb3dcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwiUmVzdG9yZSBXaW5kb3dcIixcInRvb2xiYXIubWluaW1pemVXaW5kb3dcIjpcIk1pbmltaXplIFdpbmRvd1wiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwiRnVsbCBXaWR0aFwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIkNvbHVtbnNcIixcImNoYW5nZUxheW91dC5Sb3dzXCI6XCJSb3dzXCIsXCJjaGFuZ2VMYXlvdXQuR3JpZFwiOlwiR3JpZFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwiV29ya3NwYWNlIFN3aXRjaGVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwiVGFicyBhcmUgSGlkZGVuXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCJUYWJzIGFyZSBTaG93blwiLFwic3VjY2Vzc0luZGljYXRvci5sb2NrZWRcIjpcIlBhZ2UgaXMgTG9ja2VkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCJQYWdlIGlzIFVubG9ja2VkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCJXb3Jrc3BhY2Ugc2F2ZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwiV29ya3NwYWNlIHNhdmVkIGFzIHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwiV29ya3NwYWNlIHJlbmFtZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCI6XCJQYWdlIFNhdmVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC5cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwiUGFnZSBzYXZlZCBhcyB7e3RpdGxlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVJlbmFtZWRcIjpcIlBhZ2UgcmVuYW1lZFwiLFwic3VjY2Vzc0luZGljYXRvci5jb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJDb250ZXh0IGdyb3VwIGFwcGxpZWRcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJ7e2NvbG9yTmFtZX19IGNvbnRleHQgZ3JvdXAgYXBwbGllZFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3UmVtb3ZlZFwiOlwiVmlldyByZW1vdmVkIGZyb20gY29udGV4dCBncm91cFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIlZpZXdzIHJlbW92ZWQgZnJvbSBjb250ZXh0IGdyb3VwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxheW91dEFwcGxpZWRcIjpcInt7bGF5b3V0TmFtZX19IGxheW91dCBhcHBsaWVkXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIldvcmtzcGFjZSBkZWxldGVkXCIsXCJlcnJvckluZGljYXRvci5wYWdlU2F2ZUZhaWxlZFwiOlwiUGFnZSBmYWlsZWQgdG8gc2F2ZVwiLFwiZXJyb3JJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZUZhaWxlZFwiOlwiV29ya3NwYWNlIGZhaWxlZCB0byBzYXZlXCIsXCJlcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVBhZ2VcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgUGFnZVwiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCJXZSBhdHRlbXB0ZWQgdG8gY29sb3IgbGluayB0aGlzIHRhYiwgYnV0IHRoZSBzaXRlL2NvbnRlbnQgb3duZXIgaGFzIG5vdCBlbmFibGVkIGl0IHlldFwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwiQ2FuY2VsXCIsXCJnbG9iYWwuY29uZmlybVwiOlwiQ29uZmlybVwiLFwiZ2xvYmFsLnNhdmVcIjpcIlNhdmVcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZVwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnRcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCJPcGVuIEJyb3dzZXIgTWVudVwiLFwiYXJpYS5icm93c2VyVGFic1wiOlwiQnJvd3NlciBUYWJzXCIsXCJhcmlhLnZpZXdUYWJcIjpcIlZpZXcgVGFiIGZvciB7e3RpdGxlfX1cIixcImFyaWEuY2xvc2VQYWdlXCI6XCJDbG9zZSBQYWdlIFRhYiBCdXR0b24gZm9yIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIHt7dGl0bGV9fVwiLFwiYXJpYS50aXRsZVwiOlwiVGl0bGVcIixcImFyaWEuY2xvc2VDb250ZXh0R3JvdXBcIjpcIlVzZSBlc2NhcGUgdG8gY2xvc2UgY29udGV4dCBncm91cCBzZWxlY3Rpb24gZGlhbG9nXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwiU2hvdyBvciBoaWRlIGNvbG9yIGxpbmtpbmdcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcIlBsZWFzZSBzZWxlY3QgYSB2aWV3IHRvIGFwcGx5IGNvbG9yIGxpbmtpbmdcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdcIjpcIkN1cnJlbnQgdmlldyBhc3NpZ25lZCB0byB7e25hbWV9fSBjb250ZXh0IGdyb3VwXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3c1wiOlwiQ3VycmVudCB2aWV3cyBhc3NpZ25lZCB0byB7e25hbWV9fSBjb250ZXh0IGdyb3VwXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIlNldCBhY3RpdmUgdmlldyB0byB7e25hbWV9fSBjb250ZXh0IGdyb3VwXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCJTZXQgYWN0aXZlIHZpZXdzIHRvIHt7bmFtZX19IGNvbnRleHQgZ3JvdXBcIixcImFyaWEuZXNjYXBlTGF5b3V0RGlhbG9nXCI6XCJVc2UgZXNjYXBlIHRvIGNsb3NlIGNoYW5nZSBsYXlvdXQgZGlhbG9nXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiXCIsXCJnbG9iYWwudGFiXCI6XCJUYWJcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmtcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZFwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmVcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZVwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWxcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrc1wiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrc1wiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0XCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlclwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlclwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5nc1wiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2hcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0XCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX1cIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVyc1wiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpblwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWVcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCJcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWRcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWJcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYlwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsXCI6e1wic2F2ZVN1cGVydGFiQ291bnRfb25lXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYiBiZWZvcmUgY2xvc2luZz9cIixcInNhdmVTdXBlcnRhYkNvdW50X290aGVyXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/XCJ9LFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWJcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWJcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdC5cIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/XCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC5cIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC5cIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWJcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWJcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19XCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlXCIsXCJzaWRlUGFuZWwuYWlDZW50ZXJcIjpcIkFJIENlbnRlclwiLFwic2lkZVBhbmVsLm5ld0NoYXRcIjpcIk5ldyBDaGF0XCIsXCJzaWRlUGFuZWwudG9nZ2xlU2lkZVBhbmVsXCI6XCJUb2dnbGUgU2lkZSBQYW5lbFwiLFwic2lkZVBhbmVsLmNsb3NlU2lkZVBhbmVsXCI6XCJDbG9zZSBTaWRlIFBhbmVsXCIsXCJzaWRlUGFuZWwub3BlbkFpQ2VudGVyXCI6XCJPcGVuIEFJIENlbnRlclwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0XCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmVcIn0nKSxObj1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcIk5ldWVzIEZlbnN0ZXJcIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIk5ldWUgU2VpdGVcIixcImNvbnRleHRNZW51LnJlc3RvcmVcIjpcIldpZWRlcmhlcnN0ZWxsZW4gZGVyIHp1bGV0enQgZ2VzcGVpY2hlcnRlbiDDhG5kZXJ1bmdlblwiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCJXb3Jrc3BhY2Ugd2VjaHNlbG5cIixcImNvbnRleHRNZW51Lm1hbmFnZURlc2t0b3BTaWduYWxzXCI6XCJNYW5hZ2UgRGVza3RvcCBTaWduYWxzXCIsXCJjb250ZXh0TWVudS5hcHBlYXJhbmNlXCI6XCJFcnNjaGVpbnVuZ3NiaWxkXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCI6XCJXb3Jrc3BhY2Ugc3BlaWNoZXJuXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIldvcmtzcGFjZSBzcGVpY2hlcm4gdW50ZXIuLi5cIixcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiOlwiV29ya3NwYWNlIHVtYmVuZW5uZW5cIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwiV29ya3NwYWNlIGzDtnNjaGVuXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIkRvd25sb2Fkc1wiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIlNlaXRlIHNwZWljaGVyblwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwiU2VpdGUgc3BlaWNoZXJuIHVudGVyLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwiRHJ1Y2tlbi4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcIkJpbGRzY2hpcm1hbnNpY2h0IGRydWNrZW5cIixcImNvbnRleHRNZW51LmNsb3NlV2luZG93XCI6XCJGZW5zdGVyIHNjaGxpZcOfZW5cIixcImNvbnRleHRNZW51Lm9wZW5TdG9yZWZyb250XCI6XCJTY2hhdWZlbnN0ZXIgw7ZmZm5lblwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCJQbGF0dGZvcm0gdmVybGFzc2VuXCIsXCJjb250ZXh0TWVudS5uZXdWaWV3XCI6XCJOZXVlIEFuc2ljaHRcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3XCI6XCJBbnNpY2h0IG1pdCBTdGFuZGFyZC1XZWJicm93c2VyIMO2ZmZuZW5cIixcImNvbnRleHRNZW51Lm9wZW5WaWV3c1wiOlwiQW5zaWNodGVuIG1pdCBTdGFuZGFyZC1XZWJicm93c2VyIMO2ZmZuZW5cIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIERFXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCJBbnNpY2h0IG5ldSBsYWRlblwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld3NcIjpcIkFuc2ljaHRlbiBuZXUgbGFkZW5cIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIERFXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCJBbnNpY2h0IGR1cGxpemllcmVuXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwiQW5zaWNodGVuIGR1cGxpemllcmVuXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3XCI6XCJBbnNpY2h0IHp1bSBDaGFubmVsIGhpbnp1ZsO8Z2VuXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3c1wiOlwiQW5zaWNodGVuIHp1bSBDaGFubmVsIGhpbnp1ZsO8Z2VuXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCJBbnNpY2h0IGF1cyBkZW0gQ2hhbm5lbCBlbnRmZXJuZW5cIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCJBbnNpY2h0ZW4gYXVzIGRlbSBDaGFubmVsIGVudGZlcm5lblwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCJBbnNpY2h0IHNjaGxpZcOfZW5cIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcIkFuc2ljaHRlbiBzY2hsaWXDn2VuXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIERFXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCJTZWl0ZSBkdXBsaXppZXJlblwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwiRHJ1Y2tlblwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiOlwiQWxsZSBkcnVja2VuXCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIldvcmtzcGFjZSBzcGVpY2hlcm4gdW50ZXJcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcIlNlaXRlIHNwZWljaGVybiB1bnRlclwiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlIERFXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX19IGV4aXN0aWVydCBiZXJlaXRzLlwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCJCaXR0ZSBnZWJlbiBTaWUgZWluZW4gZ8O8bHRpZ2VuIE5hbWVuIGVpblwiLFwic2F2ZU1vZGFsLnJlbmFtZVBhZ2VcIjpcIlNlaXRlIHVtYmVuZW5uZW5cIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcIlNlaXRlIHNjaGxpZcOfZW5cIixcInNhdmVNb2RhbC5kaXNjYXJkQ2hhbmdlc1wiOlwiw4RuZGVydW5nZW4gdmVyd2VyZmVuXCIsXCJzYXZlTW9kYWwuZGlzY2FyZEFsbFwiOlwiQWxsZSB2ZXJ3ZXJmZW5cIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCJBbGxlIHNwZWljaGVyblwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCIoe3tjb3VudH19KSBTZWl0ZW4gdm9yIGRlbSBTY2hsaWXDn2VuIHNwZWljaGVybj9cIixcImRlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFBhZ2UgREVcIixcImVudGVycHJpc2VEZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBTdXBlcnRhYiBERVwiLFwiYWRkTmV3UGFnZVwiOlwiTmV1ZSBTZWl0ZSBoaW56dWbDvGdlblwiLFwiYWRkTmV3VGFiXCI6XCJOZXVlbiBUYWIgaGluenVmw7xnZW5cIixcImFkZE5ld1ZpZXdcIjpcIk5ldWUgQW5zaWNodFwiLFwicmVzdG9yZU1vZGFsXCI6XCJTaW5kIFNpZSBzaWNoZXIsIGRhc3MgU2llIGRpZSB6dWxldHp0IGdlc3BlaWNoZXJ0ZW4gw4RuZGVydW5nZW4gd2llZGVyaGVyc3RlbGxlbiB3b2xsZW4/XCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwiQWxsZSBuaWNodCBnZXNwZWljaGVydGVuIMOEbmRlcnVuZ2VuIHdlcmRlbiB2ZXJ3b3JmZW5cIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwiQWxsZSBuaWNodCBnZXNwZWljaGVydGVuIMOEbmRlcnVuZ2VuIGF1ZiBkaWVzZXIgU2VpdGUgZ2VoZW4gdmVybG9yZW4uXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwiw4RuZGVydW5nZW4gdm9yIGRlbSBTY2hsaWXDn2VuIHNwZWljaGVybj9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwiU2VpdGUgc2NobGllw59lblwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIlNpbmQgU2llIHNpY2hlciwgZGFzcyBTaWUgenUge3t3b3Jrc3BhY2V9fXdlY2hzZWxuIHdvbGxlbj9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIkFsbGUgbmljaHQgZ2VzcGVpY2hlcnRlbiDDhG5kZXJ1bmdlbiB3ZXJkZW4gdmVyd29yZmVuXCIsXCJkZWxldGVXb3Jrc3BhY2VNb2RhbFwiOlwiU2luZCBTaWUgc2ljaGVyLCBkYXNzIFNpZSBkaWVzZW4gV29ya3NwYWNlIGRhdWVyaGFmdCBsw7ZzY2hlbiB3b2xsZW4/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwiRWluIFdvcmtzcGFjZSBtaXQgZGVtIE5hbWVuIHt7d29ya3NwYWNlfX0gZXhpc3RpZXJ0IGJlcmVpdHMuIE3DtmNodGVuIFNpZSBpaG4gZXJzZXR6ZW4/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZy5ib2R5XCI6XCJFaW4gV29ya3NwYWNlIG1pdCBkZW1zZWxiZW4gTmFtZW4gZXhpc3RpZXJ0IGJlcmVpdHMuIFdlbm4gU2llIGlobiBlcnNldHplbiwgd2lyZCBkZXIgYWt0dWVsbGUgSW5oYWx0IMO8YmVyc2NocmllYmVuLlwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcIkVyc2V0emVuXCIsXCJjbG9zZVBsYXRmb3JtXCI6XCJQbGF0dGZvcm0gc2NobGllw59lblwiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcIkRpZSB7e3dvcmtzcGFjZX19IFBsYXR0Zm9ybSBzY2hsaWXDn2VuXCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcIldlbm4gU2llIGVpbmUgUGxhdHRmb3JtIHNjaGxpZcOfZW4sIHdlcmRlbiBhbGxlIFdvcmtzcGFjZXMsIEFwcHMgdW5kIGxhdWZlbmRlbiBQcm96ZXNzZSBiZWVuZGV0LlwiLFwiYmFja1wiOlwiWnVyw7xja1wiLFwiZm9yd2FyZFwiOlwiV2VpdGVyXCIsXCJyZWxvYWRcIjpcIk5ldSBsYWRlblwiLFwiZ3JlZW5cIjpcIkdyw7xuXCIsXCJwdXJwbGVcIjpcIkxpbGFcIixcIm9yYW5nZVwiOlwiT3JhbmdlXCIsXCJyZWRcIjpcIlJvdFwiLFwicGlua1wiOlwiUGlua1wiLFwieWVsbG93XCI6XCJHZWxiXCIsXCJ0aGVtZS5saWdodFwiOlwiSGVsbFwiLFwidGhlbWUuZGFya1wiOlwiRHVua2VsXCIsXCJ0aGVtZS5zeXN0ZW1cIjpcIlN5bmNocm9uaXNpZXJ1bmcgbWl0IE9TLUVpbnN0ZWxsdW5nXCIsXCJ0b29sYmFyLmhpZGVUYWJzXCI6XCJUYWJzIGF1c2JsZW5kZW5cIixcInRvb2xiYXIuc2hvd1RhYnNcIjpcIlRhYnMgYW56ZWlnZW5cIixcInRvb2xiYXIubG9ja1wiOlwiU3BlcnJlblwiLFwidG9vbGJhci51bmxvY2tcIjpcIkZyZWlzY2hhbHRlblwiLFwidG9vbGJhci5jb2xvckxpbmtpbmdcIjpcIkZhcmJ2ZXJrbsO8cGZ1bmdcIixcInRvb2xiYXIuY2hhbmdlTGF5b3V0XCI6XCJMYXlvdXQgw6RuZGVyblwiLFwidG9vbGJhci5zYXZlTWVudVwiOlwiTWVuw7wgc3BlaWNoZXJuXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCJGZW5zdGVyIG1heGltaWVyZW5cIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwiRmVuc3RlciB3aWVkZXJoZXJzdGVsbGVuXCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCJGZW5zdGVyIG1pbmltaWVyZW5cIixcImNoYW5nZUxheW91dC5mdWxsV2lkdGhcIjpcIlZvbGxlIEJyZWl0ZVwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIlNwYWx0ZW5cIixcImNoYW5nZUxheW91dC5Sb3dzXCI6XCJaZWlsZW5cIixcImNoYW5nZUxheW91dC5HcmlkXCI6XCJSYXN0ZXJcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU3dpdGNoZWRcIjpcIldvcmtzcGFjZSBnZXdlY2hzZWx0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwiVGFicyBzaW5kIGF1c2dlYmxlbmRldFwiLFwic3VjY2Vzc0luZGljYXRvci5zaG93blwiOlwiVGFicyB3ZXJkZW4gYW5nZXplaWd0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxvY2tlZFwiOlwiU2VpdGUgaXN0IGdlc3BlcnJ0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCJTZWl0ZSBpc3QgZnJlaWdlc2NoYWx0ZXRcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIjpcIldvcmtzcGFjZSBnZXNwZWljaGVydFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZEFzXCI6XCJXb3Jrc3BhY2UgZ2VzcGVpY2hlcnQgYWxzIHt7d29ya3NwYWNlfX1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlUmVuYW1lZFwiOlwiV29ya3NwYWNlIHVtYmVuYW5udFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIlNlaXRlIGdlc3BlaWNoZXJ0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gREVcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwiU2VpdGUgZ2VzcGVpY2hlcnQgYWxzIHt7dGl0bGV9fVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwiU2VpdGUgdW1iZW5hbm50XCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIkFuZ2V3YW5kdGUgS29udGV4dGdydXBwZVwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX0gYW5nZXdhbmR0ZSBLb250ZXh0Z3J1cHBlXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCJBbnNpY2h0IGF1cyBkZXIgS29udGV4dGdydXBwZSBlbnRmZXJudFwiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIkFuc2ljaHRlbiBhdXMgZGVyIEtvbnRleHRncnVwcGUgZW50ZmVybnRcIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwie3tsYXlvdXROYW1lfX0gYW5nZXdhbmR0ZXMgTGF5b3V0XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZURlbGV0ZWRcIjpcIldvcmtzcGFjZSBnZWzDtnNjaHRcIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCJTZWl0ZSBrb25udGUgbmljaHQgZ2VzcGVpY2hlcnQgd2VyZGVuXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCJXb3Jrc3BhY2Uga29ubnRlIG5pY2h0IGdlc3BlaWNoZXJ0IHdlcmRlblwiLFwiZXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVQYWdlXCI6XCJTZWl0ZSBrYW5uIG5pY2h0IGR1cGxpemllcnQgd2VyZGVuXCIsXCJpbmZvSW5kaWNhdG9yLmNvbG9yTGlua0F0dGVtcHRcIjpcIldpciBoYWJlbiB2ZXJzdWNodCwgZGllc2VtIFRhYiBlaW5lIEZhcmJlIHp1b3JkbmVuLCBhYmVyIGRlciBFaWdlbnTDvG1lciBkZXIgV2Vic2l0ZS9kZXMgSW5oYWx0cyBoYXQgc2llIG5vY2ggbmljaHQgYWt0aXZpZXJ0XCIsXCJnbG9iYWwuY2FuY2VsXCI6XCJBYmJyZWNoZW5cIixcImdsb2JhbC5jb25maXJtXCI6XCJCZXN0w6R0aWdlblwiLFwiZ2xvYmFsLnNhdmVcIjpcIlNwZWljaGVyblwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlIERFXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudCBEQ1wiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWQgRENcIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmUgREVcIixcImFyaWEub3BlbkJyb3dzZXJcIjpcIkJyb3dzZXItTWVuw7wgw7ZmZm5lblwiLFwiYXJpYS5icm93c2VyVGFic1wiOlwiQnJvd3Nlci1UYWJcIixcImFyaWEudmlld1RhYlwiOlwiVGFiIOKAnkFuc2ljaHTigJwgZsO8ciB7e3RpdGxlfX1cIixcImFyaWEuY2xvc2VQYWdlXCI6XCJCdXR0b24g4oCeU2VpdGUgc2NobGllw59lbuKAnCBmw7xyIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVRhYlwiOlwiVGFiIHNjaGxpZcOfZW4ge3t0aXRsZX19XCIsXCJhcmlhLnRpdGxlXCI6XCJCZXplaWNobnVuZ1wiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwiVmVyd2VuZGVuIFNpZSBkaWUgRXNjYXBlLVRhc3RlLCB1bSBkZW4gRGlhbG9nIHp1ciBBdXN3YWhsIHZvbiBLb250ZXh0Z3J1cHBlbiB6dSBzY2hsaWXDn2VuXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwiRmFyYnZlcmtuw7xwZnVuZyBlaW4tIG9kZXIgYXVzYmxlbmRlblwiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwiQml0dGUgd8OkaGxlbiBTaWUgZWluZSBBbnNpY2h0LCB1bSBkaWUgRmFyYnZlcmtuw7xwZnVuZyBhbnp1d2VuZGVuXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCJBa3R1ZWxsZSBBbnNpY2h0LCBkaWUgZGVyIEtvbnRleHRncnVwcGUge3tuYW1lfX0genVnZW9yZG5ldCBpc3RcIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCJBa3R1ZWxsZSBBbnNpY2h0ZW4sIGRpZSBkZXIgS29udGV4dGdydXBwZSB7e25hbWV9fSB6dWdlb3JkbmV0IHNpbmRcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwiQWt0aXZlIEFuc2ljaHQgYXVmIGRpZSBLb250ZXh0Z3J1cHBlIHt7bmFtZX19IHNldHplblwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3c1wiOlwiQWt0aXZlIEFuc2ljaHRlbiBhdWYgZGllIEtvbnRleHRncnVwcGUge3tuYW1lfX0gc2V0emVuXCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwiVmVyd2VuZGVuIFNpZSBkaWUgRXNjYXBlLVRhc3RlLCB1bSBkZW4gRGlhbG9nIHp1ciBMYXlvdXTDpG5kZXJ1bmcgenUgc2NobGllw59lblwiLFwiZ2xvYmFsLnN1cGVydGFiXCI6XCJTdXBlcnRhYiBERVwiLFwiZ2xvYmFsLnRhYlwiOlwiVGFiIERFXCIsXCJib29rbWFya3MuZWRpdEJvb2ttYXJrXCI6XCJFZGl0IEJvb2ttYXJrIERFXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFwiOlwiQm9va21hcmsgYWRkZWQgREVcIixcImJvb2ttYXJrcy5kb25lXCI6XCJEb25lIERFXCIsXCJib29rbWFya3MucmVtb3ZlXCI6XCJSZW1vdmUgREVcIixcImJvb2ttYXJrcy5ib29rbWFya3NQYW5lbFwiOlwiQm9va21hcmtzIFBhbmVsIERFXCIsXCJib29rbWFya3MuYm9va21hcmtzXCI6XCJCb29rbWFya3MgREVcIixcImJvb2ttYXJrcy5hbGxCb29rbWFya3NcIjpcIkFsbCBCb29rbWFya3MgREVcIixcImJvb2ttYXJrcy5mYXZvcml0ZXNcIjpcIkZhdm9yaXRlcyBERVwiLFwiYm9va21hcmtzLnNlYXJjaEJvb2ttYXJrc1wiOlwiU2VhcmNoIEJvb2ttYXJrcyBERVwiLFwiYm9va21hcmtzLmNsZWFyU2VhcmNoSW5wdXRcIjpcIkNsZWFyIFNlYXJjaCBJbnB1dCBERVwiLFwiYm9va21hcmtzLmNyZWF0ZUZvbGRlclwiOlwiQ3JlYXRlIE5ldyBGb2xkZXIgREVcIixcImJvb2ttYXJrcy5leGl0Rm9sZGVyXCI6XCJFeGl0IEZvbGRlciBERVwiLFwiYm9va21hcmtzLm5ld0ZvbGRlclwiOlwiTmV3IEZvbGRlciBERVwiLFwiYm9va21hcmtzLm5hbWVkRm9sZGVyXCI6XCJ7e25hbWV9fSBGb2xkZXIgREVcIixcImJvb2ttYXJrcy5ib29rbWFya1NldHRpbmdzXCI6XCJ7e25hbWV9fSBCb29rbWFyayBTZXR0aW5ncyBERVwiLFwiYm9va21hcmtzLmZvbGRlclNldHRpbmdzXCI6XCJ7e25hbWV9fSBGb2xkZXIgU2V0dGluZ3MgREVcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFwiOlwiTm8gcmVzdWx0cyBmb3VuZCBERVwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kU3VidGV4dFwiOlwiVGhlcmUgYXJlIG5vIGJvb2ttYXJrcyB0aGF0IG1hdGNoIHlvdXIgc2VhcmNoIERFXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1wiOlwiTm90aGluZyB0byBzaG93IHlldCBERVwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dTdWJ0ZXh0XCI6XCJBZGQgYSBib29rbWFyayB0byB0aGlzIGZvbGRlciBERVwiLFwiYm9va21hcmtzLnJlc3VsdHNGb3VuZEluXCI6XCJSZXN1bHRzIGZvdW5kIGluIHt7bmFtZX19IERFXCIsXCJib29rbWFya3MucmVzdWx0c0luT3RoZXJGb2xkZXJzXCI6XCJSZXN1bHRzIGZvdW5kIGluIG90aGVyIGZvbGRlcnMgREVcIixcImJvb2ttYXJrcy5hbGxSZXN1bHRzRm91bmRJblwiOlwiQWxsIHJlc3VsdHMgZm91bmQgaW4gREVcIixcImJvb2ttYXJrcy5lZGl0TmFtZVwiOlwiRWRpdCBOYW1lIERFXCIsXCJib29rbWFya3MubW92ZVwiOlwiTW92ZSBERVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUaXRsZVwiOlwiQm9va21hcmsgQWRkZWQgREVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVG9Gb2xkZXJcIjpcIllvdXIgYm9va21hcmsgd2FzIGFkZGVkIHRvIFxcXFxcInt7Zm9sZGVyTmFtZX19XFxcXFwiIERFXCIsXCJib29rbWFya3MuYm9va21hcmtFZGl0ZWRUaXRsZVwiOlwiQm9va21hcmsgRWRpdGVkIERFXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJTYXZlIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMuLi4gREVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBERVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgU3VwZXJ0YWIgREVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcIk5ldyBUYWIgREVcIixcImVudGVycHJpc2VTYXZlTWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcyBERVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbFwiOntcInNhdmVTdXBlcnRhYkNvdW50X29uZVwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWIgYmVmb3JlIGNsb3Npbmc/IERFXCIsXCJzYXZlU3VwZXJ0YWJDb3VudF9vdGhlclwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBERVwifSxcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBERVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBERVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIERFXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGxvc3QuIERFXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBERVwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIERFXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBERVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC4gREVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBERVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIERFXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIERFXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBERVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIERFXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBERVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBERVwiLFwic2lkZVBhbmVsLmFpQ2VudGVyXCI6XCJBSSBDZW50ZXIgREVcIixcInNpZGVQYW5lbC5uZXdDaGF0XCI6XCJOZXcgQ2hhdCBERVwiLFwic2lkZVBhbmVsLnRvZ2dsZVNpZGVQYW5lbFwiOlwiVG9nZ2xlIFNpZGUgUGFuZWwgREVcIixcInNpZGVQYW5lbC5jbG9zZVNpZGVQYW5lbFwiOlwiQ2xvc2UgU2lkZSBQYW5lbCBERVwiLFwic2lkZVBhbmVsLm9wZW5BaUNlbnRlclwiOlwiT3BlbiBBSSBDZW50ZXIgREVcIixcImNvbnRleHRNZW51LnF1aXRFbnRlcnByaXNlQnJvd3NlclwiOlwiUXVpdCBERVwiLFwiZG9jay5yZW1vdmVGYXZvcml0ZVwiOlwiUmVtb3ZlIERFXCJ9JyksTG49SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCLmlrDjgZfjgYTjgqbjgqPjg7Pjg4njgqZcIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcIuaWsOOBl+OBhOODmuODvOOCuFwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwi5pyA5b6M44Gr5L+d5a2Y44GV44KM44Gf5aSJ5pu044Gr5oi744GZXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBq+WIh+OCiuabv+OBiOOCi1wiLFwiY29udGV4dE1lbnUubWFuYWdlRGVza3RvcFNpZ25hbHNcIjpcIk1hbmFnZSBEZXNrdG9wIFNpZ25hbHNcIixcImNvbnRleHRNZW51LmFwcGVhcmFuY2VcIjpcIuWkluims1wiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZVwiOlwi44Ov44O844Kv44K544Oa44O844K544KS5L+d5a2YXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlQXNcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOCkuWIpeWQjeOBp+S/neWtmC4uLlwiLFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnlkI3jgpLlpInmm7RcIixcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiOlwi44Ov44O844Kv44K544Oa44O844K544KS5YmK6ZmkXCIsXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIjpcIuODgOOCpuODs+ODreODvOODiVwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIjpcIuODmuODvOOCuOOCkuS/neWtmFwiLFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VBc1wiOlwi44Oa44O844K444KS5Yil5ZCN44Gn5L+d5a2YLi4uXCIsXCJjb250ZXh0TWVudS5wcmludFwiOlwi5Y2w5Yi3Li4uXCIsXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiOlwi44OX44Oq44Oz44OI44K544Kv44Oq44O844OzXCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwi44Km44Kj44Oz44OJ44Km44KS6ZaJ44GY44KLXCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwi44K544OI44Ki44OV44Ot44Oz44OI44KS6ZaL44GPXCIsXCJjb250ZXh0TWVudS5xdWl0UGxhdGZvcm1cIjpcIuODl+ODqeODg+ODiOODleOCqeODvOODoOOCkue1guS6huOBmeOCi1wiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwi5paw44GX44GE44OT44Ol44O8XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi44OH44OV44Kp44Or44OI44Gu44Km44Kn44OW44OW44Op44Km44K244O844Gn44OT44Ol44O844KS6ZaL44GPXCIsXCJjb250ZXh0TWVudS5vcGVuVmlld3NcIjpcIuODh+ODleOCqeODq+ODiOOBruOCpuOCp+ODluODluODqeOCpuOCtuODvOOBp+ODk+ODpeODvOOCkumWi+OBj1wiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgSlBcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIuODk+ODpeODvOOCkuODquODreODvOODiVwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld3NcIjpcIuODk+ODpeODvOOCkuODquODreODvOODiVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgSlBcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVZpZXdcIjpcIuODk+ODpeODvOOCkuikh+ijvVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcIuODk+ODpeODvOOCkuikh+ijvVwiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwi44OT44Ol44O844KS44OB44Oj44ON44Or44Gr6L+95YqgXCIsXCJjb250ZXh0TWVudS5hZGRWaWV3c1wiOlwi44OT44Ol44O844KS44OB44Oj44ON44Or44Gr6L+95YqgXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3XCI6XCLjg4Hjg6Pjg43jg6vjgYvjgonjg5Pjg6Xjg7zjgpLliYrpmaRcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCLjg4Hjg6Pjg43jg6vjgYvjgonjg5Pjg6Xjg7zjgpLliYrpmaRcIixcImNvbnRleHRNZW51LmNsb3NlVmlld1wiOlwi44OT44Ol44O844KS6ZaJ44GY44KLXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCLjg5Pjg6Xjg7zjgpLplonjgZjjgotcIixcImNvbnRleHRNZW51LmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgSlBcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVBhZ2VcIjpcIuODmuODvOOCuOOCkuikh+ijvVwiLFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludFwiOlwi5Y2w5Yi3XCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50QWxsXCI6XCLjgZnjgbnjgabjgpLljbDliLdcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi44Ov44O844Kv44K544Oa44O844K544KS5Yil5ZCN44Gn5L+d5a2YXCIsXCJzYXZlTWVudS5zYXZlUGFnZUFzXCI6XCLjg5rjg7zjgrjjgpLliKXlkI3jgafkv53lrZhcIixcInNhdmVNb2RhbC5lbnRlclZhbHVlXCI6XCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBKUFwiLFwic2F2ZU1vZGFsLmFscmVhZHlFeGlzdHNcIjpcInt7dGl0bGV9feOBr+OBmeOBp+OBq+WtmOWcqOOBl+OBpuOBhOOBvuOBmeOAglwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCLmnInlirnjgarlkI3liY3jgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYRcIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCLjg5rjg7zjgrjlkI3jgpLlpInmm7RcIixcInNhdmVNb2RhbC5jbG9zZVBhZ2VcIjpcIuODmuODvOOCuOOCkumWieOBmOOCi1wiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCLlpInmm7TjgpLnoLTmo4RcIixcInNhdmVNb2RhbC5kaXNjYXJkQWxsXCI6XCLjgZnjgbnjgabnoLTmo4RcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCLjgZnjgbnjgabkv53lrZhcIixcInNhdmVNb2RhbC5zYXZlUGFnZXNDb3VudFwiOlwi6ZaJ44GY44KL5YmN44Gr77yIe3tjb3VudH1977yJ44Gk44Gu44Oa44O844K444KS5L+d5a2Y44GX44G+44GZ44GL77yfXCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIEpQXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgSlBcIixcImFkZE5ld1BhZ2VcIjpcIuaWsOOBl+OBhOODmuODvOOCuOOCkui/veWKoFwiLFwiYWRkTmV3VGFiXCI6XCLmlrDjgZfjgYTjgr/jg5bjgpLov73liqBcIixcImFkZE5ld1ZpZXdcIjpcIuaWsOOBl+OBhOODk+ODpeODvFwiLFwicmVzdG9yZU1vZGFsXCI6XCLmnKzlvZPjgavmnIDlvozjgavkv53lrZjjgZXjgozjgZ/lpInmm7TjgavmiLvjgZfjgb7jgZnjgYvvvJ9cIixcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCI6XCLkv53lrZjjgZXjgozjgabjgYTjgarjgYTlpInmm7Tjga/noLTmo4TjgZXjgozjgb7jgZlcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi5L+d5a2Y44GV44KM44Gm44GE44Gq44GE44GT44Gu44Oa44O844K444G444Gu5aSJ5pu044Gv5aSx44KP44KM44G+44GZ44CCXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi6ZaJ44GY44KL5YmN44Gr5aSJ5pu044KS5L+d5a2Y44GX44G+44GZ44GL77yfXCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcIuODmuODvOOCuOOCkumWieOBmOOCi1wiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcIuacrOW9k+OBq3t7d29ya3NwYWNlfX3jgavliIfjgormm7/jgYjjgb7jgZnjgYvvvJ9cIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcIuS/neWtmOOBleOCjOOBpuOBhOOBquOBhOWkieabtOOBr+egtOajhOOBleOCjOOBvuOBmVwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIuOBk+OBruODr+ODvOOCr+OCueODmuODvOOCueOCkuawuOS5heOBq+WJiumZpOOBl+OBpuOCguOCiOOCjeOBl+OBhOOBp+OBmeOBi++8n1wiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIjpcInt7d29ya3NwYWNlfX3jgajjgYTjgYblkI3liY3jga7jg6/jg7zjgq/jgrnjg5rjg7zjgrnjgYzjgZnjgafjgavlrZjlnKjjgZfjgb7jgZnjgILnva7jgY3mj5vjgYjjgb7jgZnjgYvvvJ9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIuWQjOOBmOWQjeWJjeOBruODr+ODvOOCr+OCueODmuODvOOCueOBjOOBmeOBp+OBq+WtmOWcqOOBl+OBvuOBmeOAgue9ruOBjeaPm+OBiOOCi+OBqOOAgeePvuWcqOOBruWGheWuueOBr+S4iuabuOOBjeOBleOCjOOBvuOBmeOAglwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcIue9ruOBjeaPm+OBiOOCi1wiLFwiY2xvc2VQbGF0Zm9ybVwiOlwi44OX44Op44OD44OI44OV44Kp44O844Og44KS6ZaJ44GY44KLXCIsXCJjbG9zZVBsYXRmb3JtLndvcmtzcGFjZVwiOlwie3t3b3Jrc3BhY2V9feODl+ODqeODg+ODiOODleOCqeODvOODoOOCkumWieOBmOOCi1wiLFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCI6XCLjg5fjg6njg4Pjg4jjg5Xjgqnjg7zjg6DjgpLplonjgZjjgovjgajjgIHlrp/ooYzkuK3jga7jg6/jg7zjgq/jgrnjg5rjg7zjgrnjgIHjgqLjg5fjg6rjgIHjg5fjg63jgrvjgrnjgYzjgZnjgbnjgabplonjgZjjgb7jgZnjgIJcIixcImJhY2tcIjpcIuaIu+OCi1wiLFwiZm9yd2FyZFwiOlwi6YCy44KAXCIsXCJyZWxvYWRcIjpcIuODquODreODvOODiVwiLFwiZ3JlZW5cIjpcIuOCsOODquODvOODs1wiLFwicHVycGxlXCI6XCLjg5Hjg7zjg5fjg6tcIixcIm9yYW5nZVwiOlwi44Kq44Os44Oz44K4XCIsXCJyZWRcIjpcIuODrOODg+ODiVwiLFwicGlua1wiOlwi44OU44Oz44KvXCIsXCJ5ZWxsb3dcIjpcIuOCpOOCqOODreODvFwiLFwidGhlbWUubGlnaHRcIjpcIuODqeOCpOODiFwiLFwidGhlbWUuZGFya1wiOlwi44OA44O844KvXCIsXCJ0aGVtZS5zeXN0ZW1cIjpcIk9T44Gu6Kit5a6a44Go5ZCM5pyfXCIsXCJ0b29sYmFyLmhpZGVUYWJzXCI6XCLjgr/jg5bjgpLpnZ7ooajnpLpcIixcInRvb2xiYXIuc2hvd1RhYnNcIjpcIuOCv+ODluOCkuihqOekulwiLFwidG9vbGJhci5sb2NrXCI6XCLjg63jg4Pjgq9cIixcInRvb2xiYXIudW5sb2NrXCI6XCLjg63jg4Pjgq/op6PpmaRcIixcInRvb2xiYXIuY29sb3JMaW5raW5nXCI6XCLjgqvjg6njg7zjg6rjg7Pjgq9cIixcInRvb2xiYXIuY2hhbmdlTGF5b3V0XCI6XCLjg6zjgqTjgqLjgqbjg4jjgpLlpInmm7RcIixcInRvb2xiYXIuc2F2ZU1lbnVcIjpcIuODoeODi+ODpeODvOOCkuS/neWtmFwiLFwidG9vbGJhci5tYXhpbWl6ZVdpbmRvd1wiOlwi44Km44Kj44Oz44OJ44Km44KS5pyA5aSn5YyW44GZ44KLXCIsXCJ0b29sYmFyLnJlc3RvcmVXaW5kb3dcIjpcIuOCpuOCo+ODs+ODieOCpuOCkuW+qeWFg1wiLFwidG9vbGJhci5taW5pbWl6ZVdpbmRvd1wiOlwi44Km44Kj44Oz44OJ44Km44KS5pyA5bCP5YyW44GZ44KLXCIsXCJjaGFuZ2VMYXlvdXQuZnVsbFdpZHRoXCI6XCLlhajluYVcIixcImNoYW5nZUxheW91dC5jb2x1bW5zXCI6XCLliJdcIixcImNoYW5nZUxheW91dC5Sb3dzXCI6XCLooYxcIixcImNoYW5nZUxheW91dC5HcmlkXCI6XCLjgrDjg6rjg4Pjg4lcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU3dpdGNoZWRcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBjOWIh+OCiuabv+OCj+OCiuOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci5oaWRkZW5cIjpcIuOCv+ODluOBjOmdnuihqOekuuOBq+OBquOBo+OBpuOBhOOBvuOBmVwiLFwic3VjY2Vzc0luZGljYXRvci5zaG93blwiOlwi44K/44OW44GM6KGo56S644GV44KM44Gm44GE44G+44GZXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxvY2tlZFwiOlwi44Oa44O844K444GM44Ot44OD44Kv44GV44KM44Gm44GE44G+44GZXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnVubG9ja2VkXCI6XCLjg5rjg7zjgrjjga7jg63jg4Pjgq/jgYzop6PpmaTjgZXjgozjgabjgYTjgb7jgZlcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOBjOS/neWtmOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZEFzXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgYx7e3dvcmtzcGFjZX1944Go44GX44Gm5L+d5a2Y44GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueWQjeOBjOWkieabtOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlU2F2ZWRcIjpcIuODmuODvOOCuOOBjOS/neWtmOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgaGFzIGJlZW4gc2F2ZWQuIEpQXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VDb3B5U2F2ZWRcIjpcIuODmuODvOOCuOOBjHt7dGl0bGV9feOBqOOBl+OBpuS/neWtmOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwi44Oa44O844K45ZCN44GM5aSJ5pu044GV44KM44G+44GX44GfXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcIuOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBjOmBqeeUqOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcInt7Y29sb3JOYW1lfX3jgrPjg7Pjg4bjgq3jgrnjg4jjgrDjg6vjg7zjg5fjgYzpgannlKjjgZXjgozjgb7jgZfjgZ9cIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld1JlbW92ZWRcIjpcIuOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBi+OCieODk+ODpeODvOOBjOWJiumZpOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci52aWV3c1JlbW92ZWRcIjpcIuOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBi+OCieODk+ODpeODvOOBjOWJiumZpOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCJ7e2xheW91dE5hbWV9feODrOOCpOOCouOCpuODiOOBjOmBqeeUqOOBleOCjOOBvuOBl+OBn1wiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCI6XCLjg6/jg7zjgq/jgrnjg5rjg7zjgrnjgYzliYrpmaTjgZXjgozjgb7jgZfjgZ9cIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCLjg5rjg7zjgrjjgpLkv53lrZjjgafjgY3jgb7jgZvjgpPjgafjgZfjgZ9cIixcImVycm9ySW5kaWNhdG9yLndvcmtzcGFjZVNhdmVGYWlsZWRcIjpcIuODr+ODvOOCr+OCueODmuODvOOCueOCkuS/neWtmOOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn1wiLFwiZXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVQYWdlXCI6XCLjg5rjg7zjgrjjgpLopIfoo73jgafjgY3jgb7jgZvjgpPjgafjgZfjgZ9cIixcImluZm9JbmRpY2F0b3IuY29sb3JMaW5rQXR0ZW1wdFwiOlwi44GT44Gu44K/44OW44KS44Kr44Op44O844Oq44Oz44Kv44GX44KI44GG44Go44GX44G+44GX44Gf44GM44CB44K144Kk44OIL+OCs+ODs+ODhuODs+ODhOOBruOCquODvOODiuODvOOBjOOBvuOBoOOBk+OCjOOCkuacieWKueOBq+OBl+OBpuOBhOOBvuOBm+OCk1wiLFwiZ2xvYmFsLmNhbmNlbFwiOlwi44Kt44Oj44Oz44K744OrXCIsXCJnbG9iYWwuY29uZmlybVwiOlwi56K66KqNXCIsXCJnbG9iYWwuc2F2ZVwiOlwi5L+d5a2YXCIsXCJnbG9iYWwuZGVsZXRlXCI6XCJEZWxldGUgSlBcIixcImFwcFJlc3VsdHMuaGVhZGVyXCI6XCJGZWF0dXJlZCBjb250ZW50IEpQXCIsXCJyZWNlbnRseUNsb3NlZC5oZWFkZXJcIjpcIlJlY2VudGx5IENsb3NlZCBKUFwiLFwibGFuZGluZ1BhZ2Uuc3ViaGVhZGVyXCI6XCJBcHBzIGFuZCB3ZWJzaXRlcyBzZWxlY3RlZCBieSBhbiBhZG1pbiB3aWxsIHNob3cgaGVyZSBKUFwiLFwiYXJpYS5vcGVuQnJvd3NlclwiOlwi44OW44Op44Km44K244O844Oh44OL44Ol44O844KS6ZaL44GPXCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCLjg5bjg6njgqbjgrbjg7zjgr/jg5ZcIixcImFyaWEudmlld1RhYlwiOlwie3t0aXRsZX1944Gu44K/44OW44KS6KGo56S6XCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwie3t0aXRsZX1944Gu44Oa44O844K444K/44OW44Oc44K/44Oz44KS6ZaJ44GY44KLXCIsXCJhcmlhLmNsb3NlVGFiXCI6XCJ7e3RpdGxlfX3jgr/jg5bjgpLplonjgZjjgotcIixcImFyaWEudGl0bGVcIjpcIuOCv+OCpOODiOODq1wiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwi44Ko44K544Kx44O844OX44KS5L2/55So44GX44Gm44CB44Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX6YG45oqe44OA44Kk44Ki44Ot44Kw44KS6ZaJ44GY44KLXCIsXCJhcmlhLmNvbG9yTGlua2luZ1wiOlwi44Kr44Op44O844Oq44Oz44Kv44Gu6KGo56S6L+mdnuihqOekulwiLFwiYXJpYS5hcHBseUNvbG9yTGlua2luZ1wiOlwi44Kr44Op44O844Oq44Oz44Kv44KS6YGp55So44GZ44KL44OT44Ol44O844KS6YG45oqe44GX44Gm44GP44Gg44GV44GEXCIsXCJhcmlhLmFzc2lnbkNvbG9yTGlua2luZ0N1cnJlbnRWaWV3XCI6XCLnj77lnKjjga7jg5Pjg6Xjg7zjga97e25hbWV9feOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBq+WJsuOCiuW9k+OBpuOCieOCjOOBpuOBhOOBvuOBmVwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcIuePvuWcqOOBruODk+ODpeODvOOBr3t7bmFtZX1944Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44Gr5Ymy44KK5b2T44Gm44KJ44KM44Gm44GE44G+44GZXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdcIjpcIuOCouOCr+ODhuOCo+ODluODk+ODpeODvOOCknt7bmFtZX1944Kz44Oz44OG44Kt44K544OI44Kw44Or44O844OX44Gr6Kit5a6aXCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCLjgqLjgq/jg4bjgqPjg5bjg5Pjg6Xjg7zjgpJ7e25hbWV9feOCs+ODs+ODhuOCreOCueODiOOCsOODq+ODvOODl+OBq+ioreWumlwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcIuOCqOOCueOCseODvOODl+OCkuS9v+eUqOOBl+OBpuOAgeODrOOCpOOCouOCpuODiOWkieabtOmBuOaKnuODgOOCpOOCouODreOCsOOCkumWieOBmOOCi1wiLFwiZ2xvYmFsLnN1cGVydGFiXCI6XCJTdXBlcnRhYiBKUFwiLFwiZ2xvYmFsLnRhYlwiOlwiVGFiIEpQXCIsXCJib29rbWFya3MuZWRpdEJvb2ttYXJrXCI6XCJFZGl0IEJvb2ttYXJrIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFwiOlwiQm9va21hcmsgYWRkZWQgSlBcIixcImJvb2ttYXJrcy5kb25lXCI6XCJEb25lIEpQXCIsXCJib29rbWFya3MucmVtb3ZlXCI6XCJSZW1vdmUgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya3NQYW5lbFwiOlwiQm9va21hcmtzIFBhbmVsIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtzXCI6XCJCb29rbWFya3MgSlBcIixcImJvb2ttYXJrcy5hbGxCb29rbWFya3NcIjpcIkFsbCBCb29rbWFya3MgSlBcIixcImJvb2ttYXJrcy5mYXZvcml0ZXNcIjpcIkZhdm9yaXRlcyBKUFwiLFwiYm9va21hcmtzLnNlYXJjaEJvb2ttYXJrc1wiOlwiU2VhcmNoIEJvb2ttYXJrcyBKUFwiLFwiYm9va21hcmtzLmNsZWFyU2VhcmNoSW5wdXRcIjpcIkNsZWFyIFNlYXJjaCBJbnB1dCBKUFwiLFwiYm9va21hcmtzLmNyZWF0ZUZvbGRlclwiOlwiQ3JlYXRlIE5ldyBGb2xkZXIgSlBcIixcImJvb2ttYXJrcy5leGl0Rm9sZGVyXCI6XCJFeGl0IEZvbGRlciBKUFwiLFwiYm9va21hcmtzLm5ld0ZvbGRlclwiOlwiTmV3IEZvbGRlciBKUFwiLFwiYm9va21hcmtzLm5hbWVkRm9sZGVyXCI6XCJ7e25hbWV9fSBGb2xkZXIgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya1NldHRpbmdzXCI6XCJ7e25hbWV9fSBCb29rbWFyayBTZXR0aW5ncyBKUFwiLFwiYm9va21hcmtzLmZvbGRlclNldHRpbmdzXCI6XCJ7e25hbWV9fSBGb2xkZXIgU2V0dGluZ3MgSlBcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFwiOlwiTm8gcmVzdWx0cyBmb3VuZCBKUFwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kU3VidGV4dFwiOlwiVGhlcmUgYXJlIG5vIGJvb2ttYXJrcyB0aGF0IG1hdGNoIHlvdXIgc2VhcmNoIEpQXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1wiOlwiTm90aGluZyB0byBzaG93IHlldCBKUFwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dTdWJ0ZXh0XCI6XCJBZGQgYSBib29rbWFyayB0byB0aGlzIGZvbGRlciBKUFwiLFwiYm9va21hcmtzLnJlc3VsdHNGb3VuZEluXCI6XCJSZXN1bHRzIGZvdW5kIGluIHt7bmFtZX19IEpQXCIsXCJib29rbWFya3MucmVzdWx0c0luT3RoZXJGb2xkZXJzXCI6XCJSZXN1bHRzIGZvdW5kIGluIG90aGVyIGZvbGRlcnMgSlBcIixcImJvb2ttYXJrcy5hbGxSZXN1bHRzRm91bmRJblwiOlwiQWxsIHJlc3VsdHMgZm91bmQgaW4gSlBcIixcImJvb2ttYXJrcy5lZGl0TmFtZVwiOlwiRWRpdCBOYW1lIEpQXCIsXCJib29rbWFya3MubW92ZVwiOlwiTW92ZSBKUFwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUaXRsZVwiOlwiQm9va21hcmsgQWRkZWQgSlBcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVG9Gb2xkZXJcIjpcIllvdXIgYm9va21hcmsgd2FzIGFkZGVkIHRvIFxcXFxcInt7Zm9sZGVyTmFtZX19XFxcXFwiIEpQXCIsXCJib29rbWFya3MuYm9va21hcmtFZGl0ZWRUaXRsZVwiOlwiQm9va21hcmsgRWRpdGVkIEpQXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJTYXZlIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMuLi4gSlBcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBKUFwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgU3VwZXJ0YWIgSlBcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIjpcIk5ldyBUYWIgSlBcIixcImVudGVycHJpc2VTYXZlTWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcyBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbFwiOntcInNhdmVTdXBlcnRhYkNvdW50X29uZVwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWIgYmVmb3JlIGNsb3Npbmc/IEpQXCIsXCJzYXZlU3VwZXJ0YWJDb3VudF9vdGhlclwiOlwiU2F2ZSB7e2NvdW50fX0gU3VwZXJ0YWJzIGJlZm9yZSBjbG9zaW5nPyBKUFwifSxcImVudGVycHJpc2VTYXZlTW9kYWwucmVuYW1lU3VwZXJ0YWJcIjpcIlJlbmFtZSBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC51bnNhdmVkQ2hhbmdlc1wiOlwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzIGluIHRoaXMgVGFiLiBKUFwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIEpQXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcIkNsb3NlIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlTW9kYWwuZGlzY2FyZFN1cGVydGFiV2FybmluZ1wiOlwiQW55IHVuc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGxvc3QuIEpQXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSB0aGUgXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiPyBKUFwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiV2FybmluZ1wiOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFN1cGVydGFiPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIGFuZCBpcyBwZXJtYW5lbnQuIEpQXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJTdXBlcnRhYiBTYXZlZCBKUFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYiBoYXMgYmVlbiBzYXZlZC4gSlBcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBKUFwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIEpQXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIEpQXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBKUFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIEpQXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBKUFwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBKUFwiLFwic2lkZVBhbmVsLmFpQ2VudGVyXCI6XCJBSSBDZW50ZXIgSlBcIixcInNpZGVQYW5lbC5uZXdDaGF0XCI6XCJOZXcgQ2hhdCBKUFwiLFwic2lkZVBhbmVsLnRvZ2dsZVNpZGVQYW5lbFwiOlwiVG9nZ2xlIFNpZGUgUGFuZWwgSlBcIixcInNpZGVQYW5lbC5jbG9zZVNpZGVQYW5lbFwiOlwiQ2xvc2UgU2lkZSBQYW5lbCBKUFwiLFwic2lkZVBhbmVsLm9wZW5BaUNlbnRlclwiOlwiT3BlbiBBSSBDZW50ZXIgSlBcIixcImNvbnRleHRNZW51LnF1aXRFbnRlcnByaXNlQnJvd3NlclwiOlwiUXVpdCBKUFwiLFwiZG9jay5yZW1vdmVGYXZvcml0ZVwiOlwiUmVtb3ZlIEpQXCJ9JyksX249SlNPTi5wYXJzZSgne1wiY29udGV4dE1lbnUubmV3V2luZG93XCI6XCLsg4gg7LC9XCIsXCJjb250ZXh0TWVudS5uZXdQYWdlXCI6XCLsg4gg7Y6Y7J207KeAXCIsXCJjb250ZXh0TWVudS5yZXN0b3JlXCI6XCLrp4jsp4Drp4nsnLzroZwg7KCA7J6l7ZWcIOuzgOqyvSDsgqztla3snLzroZwg67O17JuQXCIsXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIjpcIuyekeyXhSDqs7XqsIQg7KCE7ZmYXCIsXCJjb250ZXh0TWVudS5tYW5hZ2VEZXNrdG9wU2lnbmFsc1wiOlwiTWFuYWdlIERlc2t0b3AgU2lnbmFsc1wiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwi66qo7JaRXCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCI6XCLsnpHsl4Ug6rO16rCEIOyggOyepVwiLFwiY29udGV4dE1lbnUuc2F2ZVdvcmtzcGFjZUFzXCI6XCLri6Trpbgg7J2066aE7Jy866GcIOyekeyXhSDqs7XqsIQg7KCA7J6lLi4uXCIsXCJjb250ZXh0TWVudS5yZW5hbWVXb3Jrc3BhY2VcIjpcIuyekeyXhSDqs7XqsIQg7J2066aEIOuwlOq+uOq4sFwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCLsnpHsl4Ug6rO16rCEIOyCreygnFwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCLri6TsmrTroZzrk5xcIixcImNvbnRleHRNZW51LnNhdmVQYWdlXCI6XCLtjpjsnbTsp4Ag7KCA7J6lXCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZUFzXCI6XCLri6Trpbgg7J2066aE7Jy866GcIO2OmOydtOyngCDsoIDsnqUuLi5cIixcImNvbnRleHRNZW51LnByaW50XCI6XCLsnbjsh4QuLi5cIixcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCI6XCLtmZTrqbQg7J247IeEXCIsXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiOlwi7LC9IOuLq+q4sFwiLFwiY29udGV4dE1lbnUub3BlblN0b3JlZnJvbnRcIjpcIuunpOyepSDsl7TquLBcIixcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiOlwi7ZSM656r7Y+8IOyiheujjFwiLFwiY29udGV4dE1lbnUubmV3Vmlld1wiOlwi7IOIIOu3sFwiLFwiY29udGV4dE1lbnUub3BlblZpZXdcIjpcIuq4sOuzuCDsm7kg67iM65287Jqw7KCA66GcIOu3sCDsl7TquLBcIixcImNvbnRleHRNZW51Lm9wZW5WaWV3c1wiOlwi6riw67O4IOybuSDruIzrnbzsmrDsoIDroZwg67ewIOyXtOq4sFwiLFwiY29udGV4dE1lbnUucmVsb2FkXCI6XCJSZWxvYWQgS1JcIixcImNvbnRleHRNZW51LnJlbG9hZFZpZXdcIjpcIuu3sCDri6Tsi5wg66Gc65OcXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3c1wiOlwi67ewIOuLpOyLnCDroZzrk5xcIixcImNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIEtSXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3XCI6XCLrt7Ag67O17KCcXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVWaWV3c1wiOlwi67ewIOuzteygnFwiLFwiY29udGV4dE1lbnUuYWRkVmlld1wiOlwi7LGE64SQ7JeQIOu3sCDstpTqsIBcIixcImNvbnRleHRNZW51LmFkZFZpZXdzXCI6XCLssYTrhJDsl5Ag67ewIOy2lOqwgFwiLFwiY29udGV4dE1lbnUucmVtb3ZlVmlld1wiOlwi7LGE64SQ7JeQ7IScIOu3sCDsoJzqsbBcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdzXCI6XCLssYTrhJDsl5DshJwg67ewIOygnOqxsFwiLFwiY29udGV4dE1lbnUuY2xvc2VWaWV3XCI6XCLrt7Ag64ur6riwXCIsXCJjb250ZXh0TWVudS5jbG9zZVZpZXdzXCI6XCLrt7Ag64ur6riwXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIEtSXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCLtjpjsnbTsp4Ag67O17KCcXCIsXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCI6XCLsnbjsh4RcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcIuuqqOuRkCDsnbjsh4RcIixcInNhdmVNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi64uk66W4IOydtOumhOycvOuhnCDsnpHsl4Ug6rO16rCEIOyggOyepVwiLFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiOlwi64uk66W4IOydtOumhOycvOuhnCDtjpjsnbTsp4Ag7KCA7J6lXCIsXCJzYXZlTW9kYWwuZW50ZXJWYWx1ZVwiOlwiUGxlYXNlIGVudGVyIGEgdmFsdWUgS1JcIixcInNhdmVNb2RhbC5hbHJlYWR5RXhpc3RzXCI6XCJ7e3RpdGxlfX3snbQo6rCAKSDsnbTrr7gg7KG07J6s7ZWp64uI64ukLlwiLFwic2F2ZU1vZGFsLnBsZWFzZUVudGVyVmFsaWROYW1lXCI6XCLsnKDtmqjtlZwg7J2066aE7J2EIOyeheugpe2VmOyLreyLnOyYpC5cIixcInNhdmVNb2RhbC5yZW5hbWVQYWdlXCI6XCLtjpjsnbTsp4Ag7J2066aEIOuwlOq+uOq4sFwiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi7Y6Y7J207KeAIOuLq+q4sFwiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCLrs4Dqsr0g7IKs7ZWtIO2PkOq4sFwiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcIuuqqOuRkCDtj5DquLBcIixcInNhdmVNb2RhbC5zYXZlQWxsXCI6XCLrqqjrkZAg7KCA7J6lXCIsXCJzYXZlTW9kYWwuc2F2ZVBhZ2VzQ291bnRcIjpcIuuLq+q4sCDsoITsl5Ag7Y6Y7J207KeAKHt7Y291bnR9feqwnCnrpbwg7KCA7J6l7ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwiZGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgUGFnZSBLUlwiLFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIjpcIlVudGl0bGVkIFN1cGVydGFiIEtSXCIsXCJhZGROZXdQYWdlXCI6XCLsg4gg7Y6Y7J207KeAIOy2lOqwgFwiLFwiYWRkTmV3VGFiXCI6XCLsg4gg7YOtIOy2lOqwgFwiLFwiYWRkTmV3Vmlld1wiOlwi7IOIIOu3sFwiLFwicmVzdG9yZU1vZGFsXCI6XCLrp4jsp4Drp4nsnLzroZwg7KCA7J6l7ZWcIOuzgOqyvSDsgqztla3snLzroZwg67O17JuQ7ZWY7Iuc6rKg7Iq164uI6rmMP1wiLFwibW9kYWwuZGlzY2FyZFdhcm5pbmdcIjpcIuyggOyepe2VmOyngCDslYrsnYAg67OA6rK9IOyCrO2VreydgCDrqqjrkZAg7Y+Q6riw65Cp64uI64ukXCIsXCJtb2RhbC5kaXNjYXJkUGFnZVdhcm5pbmdcIjpcIuydtCDtjpjsnbTsp4DsnZgg7KCA7J6l7ZWY7KeAIOyViuydgCDrs4Dqsr0g7IKs7ZWt7J2AIOuqqOuRkCDshpDsi6TrkKnri4jri6QuXCIsXCJtb2RhbC5zYXZlQ2hhbmdlc1Byb21wdFwiOlwi64ur6riwIOyghOyXkCDrs4Dqsr0g7IKs7ZWt7J2EIOyggOyepe2VmOyLnOqyoOyKteuLiOq5jD9cIixcIm1vZGFsLnBhZ2VDbG9zZVwiOlwi7Y6Y7J207KeAIOuLq+q4sFwiLFwic3dpdGNoV29ya3NwYWNlTW9kYWxcIjpcInt7d29ya3NwYWNlfX0o7Jy8KeuhnCDsoITtmZjtlZjsi5zqsqDsirXri4jquYw/XCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLsoIDsnqXtlZjsp4Ag7JWK7J2AIOuzgOqyvSDsgqztla3snYAg66qo65GQIO2PkOq4sOuQqeuLiOuLpFwiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcIuydtCDsnpHsl4Ug6rO16rCE7J2EIOyYgeq1rOyggeycvOuhnCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwie3t3b3Jrc3BhY2V9fSjsnbQp652864qUIOydtOumhOydmCDsnpHsl4Ug6rO16rCE7J20IOydtOuvuCDsobTsnqztlanri4jri6QuIOq1kOyytO2VmOyLnOqyoOyKteuLiOq5jD9cIixcInJlcGxhY2VXb3Jrc3BhY2VNb2RhbC53YXJuaW5nLmJvZHlcIjpcIuqwmeydgCDsnbTrpoTsnZgg7J6R7JeFIOqzteqwhOydtCDsnbTrr7gg7KG07J6s7ZWp64uI64ukLiDqtZDssrTtlZjrqbQg7ZiE7J6sIOuCtOyaqeydhCDrja7slrTsk7Dqsowg65Cp64uI64ukLlwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcIuq1kOyytFwiLFwiY2xvc2VQbGF0Zm9ybVwiOlwi7ZSM656r7Y+8IOuLq+q4sFwiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcInt7d29ya3NwYWNlfX0g7ZSM656r7Y+8IOuLq+q4sFwiLFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCI6XCLtlIzrnqvtj7zsnYQg64ur7Jy866m0IOyLpO2WiSDspJHsnbgg66qo65OgIOyekeyXhSDqs7XqsIQsIOyVsSDrmJDripQg7ZSE66Gc7IS47Iqk6rCAIOuLq+2emeuLiOuLpC5cIixcImJhY2tcIjpcIuuSpOuhnCDqsIDquLBcIixcImZvcndhcmRcIjpcIuyVnuycvOuhnCDqsIDquLBcIixcInJlbG9hZFwiOlwi7IOI66Gc6rOg7LmoXCIsXCJncmVlblwiOlwi64W57IOJXCIsXCJwdXJwbGVcIjpcIuuztOudvOyDiVwiLFwib3JhbmdlXCI6XCLsmKTroIzsp4Dsg4lcIixcInJlZFwiOlwi67mo6rCE7IOJXCIsXCJwaW5rXCI6XCLtlZHtgazsg4lcIixcInllbGxvd1wiOlwi64W4656A7IOJXCIsXCJ0aGVtZS5saWdodFwiOlwi67Cd7J2AXCIsXCJ0aGVtZS5kYXJrXCI6XCLslrTrkZDsmrRcIixcInRoZW1lLnN5c3RlbVwiOlwiT1Mg7ISk7KCV6rO8IOuPmeq4sO2ZlFwiLFwidG9vbGJhci5oaWRlVGFic1wiOlwi7YOtIOyIqOq4sOq4sFwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi7YOtIO2RnOyLnFwiLFwidG9vbGJhci5sb2NrXCI6XCLsnqDquIhcIixcInRvb2xiYXIudW5sb2NrXCI6XCLsnqDquIgg7ZW07KCcXCIsXCJ0b29sYmFyLmNvbG9yTGlua2luZ1wiOlwi7IOJ7IOBIOyXsOqysFwiLFwidG9vbGJhci5jaGFuZ2VMYXlvdXRcIjpcIuugiOydtOyVhOybgyDrs4Dqsr1cIixcInRvb2xiYXIuc2F2ZU1lbnVcIjpcIuyggOyepSDrqZTribRcIixcInRvb2xiYXIubWF4aW1pemVXaW5kb3dcIjpcIuywvSDstZzrjIDtmZRcIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi7LC9IOuzteybkFwiLFwidG9vbGJhci5taW5pbWl6ZVdpbmRvd1wiOlwi7LC9IOy1nOyGjO2ZlFwiLFwiY2hhbmdlTGF5b3V0LmZ1bGxXaWR0aFwiOlwi7KCE7LK0IOuEiOu5hFwiLFwiY2hhbmdlTGF5b3V0LmNvbHVtbnNcIjpcIuyXtFwiLFwiY2hhbmdlTGF5b3V0LlJvd3NcIjpcIu2WiVwiLFwiY2hhbmdlTGF5b3V0LkdyaWRcIjpcIuq3uOumrOuTnFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiOlwi7J6R7JeFIOqzteqwhCDsoITtmZhcIixcInN1Y2Nlc3NJbmRpY2F0b3IuaGlkZGVuXCI6XCLtg60g7Iio6rmAXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLtg60g7ZGc7IucXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxvY2tlZFwiOlwi7Y6Y7J207KeAIOyeoOq4iFwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwi7Y6Y7J207KeAIOyeoOq4iCDtlbTsoJzrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRcIjpcIuyekeyXhSDqs7XqsIQg7KCA7J6l65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkQXNcIjpcIuyekeyXhSDqs7XqsITsnbQge3t3b3Jrc3BhY2V9fSjsnLwp66GcIOyggOyepeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VSZW5hbWVkXCI6XCLsnpHsl4Ug6rO16rCEIOydtOumhCDrs4Dqsr3rkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZVNhdmVkXCI6XCLtjpjsnbTsp4Ag7KCA7J6l65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VIYXNCZWVuU2F2ZWRcIjpcIlxcXFxcInt7dGl0bGV9fVxcXFxcIiBoYXMgYmVlbiBzYXZlZC4gS1JcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUNvcHlTYXZlZFwiOlwi7Y6Y7J207KeA6rCAIHt7dGl0bGV9fSjsnLwp66GcIOyggOyepeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlUmVuYW1lZFwiOlwi7Y6Y7J207KeAIOydtOumhCDrs4Dqsr3rkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IuY29udGV4dEdyb3VwQXBwbGllZFwiOlwi7Luo7YWN7Iqk7Yq4IOq3uOujuSDsoIHsmqnrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IubmFtZWRDb250ZXh0R3JvdXBBcHBsaWVkXCI6XCJ7e2NvbG9yTmFtZX19IOy7qO2FjeyKpO2KuCDqt7jro7kg7KCB7Jqp65CoXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCLsu6jthY3siqTtirgg6re466O57JeQ7IScIOu3sCDsoJzqsbDrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3Iudmlld3NSZW1vdmVkXCI6XCLsu6jthY3siqTtirgg6re466O57JeQ7IScIOu3sCDsoJzqsbDrkKhcIixcInN1Y2Nlc3NJbmRpY2F0b3IubGF5b3V0QXBwbGllZFwiOlwie3tsYXlvdXROYW1lfX0g66CI7J207JWE7JuDIOyggeyaqeuQqFwiLFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCI6XCLsnpHsl4Ug6rO16rCEIOyCreygnOuQqFwiLFwiZXJyb3JJbmRpY2F0b3IucGFnZVNhdmVGYWlsZWRcIjpcIu2OmOydtOyngCDsoIDsnqUg7Iuk7YyoXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCLsnpHsl4Ug6rO16rCEIOyggOyepSDsi6TtjKhcIixcImVycm9ySW5kaWNhdG9yLmZhaWxlZFRvRHVwbGljYXRlUGFnZVwiOlwi7Y6Y7J207KeAIOuzteygnCDsi6TtjKhcIixcImluZm9JbmRpY2F0b3IuY29sb3JMaW5rQXR0ZW1wdFwiOlwi7J20IO2DreydmCDsg4nsg4Eg66eB7YGs66W8IOyLnOuPhO2WiOyngOunjCDsgqzsnbTtirgv7L2Y7YWQ7LigIOyGjOycoOyekOqwgCDslYTsp4Eg7Zmc7ISx7ZmU7ZWY7KeAIOyViuyVmOyKteuLiOuLpC5cIixcImdsb2JhbC5jYW5jZWxcIjpcIuy3qOyGjFwiLFwiZ2xvYmFsLmNvbmZpcm1cIjpcIu2ZleyduFwiLFwiZ2xvYmFsLnNhdmVcIjpcIuyggOyepVwiLFwiZ2xvYmFsLmRlbGV0ZVwiOlwiRGVsZXRlIEtSXCIsXCJhcHBSZXN1bHRzLmhlYWRlclwiOlwiRmVhdHVyZWQgQ29udGVudCBLUlwiLFwicmVjZW50bHlDbG9zZWQuaGVhZGVyXCI6XCJSZWNlbnRseSBDbG9zZWQgS1JcIixcImxhbmRpbmdQYWdlLnN1YmhlYWRlclwiOlwiQXBwcyBhbmQgd2Vic2l0ZXMgc2VsZWN0ZWQgYnkgYW4gYWRtaW4gd2lsbCBzaG93IGhlcmUgS1JcIixcImFyaWEub3BlbkJyb3dzZXJcIjpcIuu4jOudvOyasOyggCDrqZTribQg7Je06riwXCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCLruIzrnbzsmrDsoIAg7YOtXCIsXCJhcmlhLnZpZXdUYWJcIjpcInt7dGl0bGV9feydmCDrt7Ag7YOtXCIsXCJhcmlhLmNsb3NlUGFnZVwiOlwie3t0aXRsZX197J2YIO2OmOydtOyngCDri6vquLAg7YOtXCIsXCJhcmlhLmNsb3NlVGFiXCI6XCLtg60ge3t0aXRsZX19IOuLq+q4sFwiLFwiYXJpYS50aXRsZVwiOlwi7KCc66qpXCIsXCJhcmlhLmNsb3NlQ29udGV4dEdyb3VwXCI6XCLsnbTsiqTsvIDsnbTtlITrpbwg7IKs7Jqp7ZWY7JesIOy7qO2FjeyKpO2KuCDqt7jro7kg7ISg7YOdIOuMgO2ZlOyDgeyekCDri6vquLBcIixcImFyaWEuY29sb3JMaW5raW5nXCI6XCLsg4nsg4Eg7Jew6rKwIO2RnOyLnCDrmJDripQg7Iio6riw6riwXCIsXCJhcmlhLmFwcGx5Q29sb3JMaW5raW5nXCI6XCLsg4nsg4Eg7Jew6rKw7J2EIOyggeyaqe2VmOugpOuptCDrt7Drpbwg7ISg7YOd7ZWY7Iut7Iuc7JikLlwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwie3tuYW1lfX0g7Luo7YWN7Iqk7Yq4IOq3uOujueyXkCDtlaDri7nrkJwg7ZiE7J6sIOu3sFwiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld3NcIjpcInt7bmFtZX19IOy7qO2FjeyKpO2KuCDqt7jro7nsl5Ag7ZWg64u565CcIO2YhOyerCDrt7BcIixcImFyaWEuc2V0Q29sb3JMaW5raW5nQWN0aXZlVmlld1wiOlwi7Zmc7ISxIOu3sOulvCB7e25hbWV9fSDsu6jthY3siqTtirgg6re466O57Jy866GcIOyEpOyglVwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3c1wiOlwi7Zmc7ISxIOu3sOulvCB7e25hbWV9fSDsu6jthY3siqTtirgg6re466O57Jy866GcIOyEpOyglVwiLFwiYXJpYS5lc2NhcGVMYXlvdXREaWFsb2dcIjpcIuydtOyKpOy8gOydtO2UhOulvCDsgqzsmqntlZjsl6wg66CI7J207JWE7JuDIOuzgOqyvSDrjIDtmZTsg4HsnpAg64ur6riwXCIsXCJnbG9iYWwuc3VwZXJ0YWJcIjpcIlN1cGVydGFiIEtSXCIsXCJnbG9iYWwudGFiXCI6XCJUYWIgS1JcIixcImJvb2ttYXJrcy5lZGl0Qm9va21hcmtcIjpcIkVkaXQgQm9va21hcmsgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkXCI6XCJCb29rbWFyayBhZGRlZCBLUlwiLFwiYm9va21hcmtzLmRvbmVcIjpcIkRvbmUgS1JcIixcImJvb2ttYXJrcy5yZW1vdmVcIjpcIlJlbW92ZSBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1BhbmVsXCI6XCJCb29rbWFya3MgUGFuZWwgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya3NcIjpcIkJvb2ttYXJrcyBLUlwiLFwiYm9va21hcmtzLmFsbEJvb2ttYXJrc1wiOlwiQWxsIEJvb2ttYXJrcyBLUlwiLFwiYm9va21hcmtzLmZhdm9yaXRlc1wiOlwiRmF2b3JpdGVzIEtSXCIsXCJib29rbWFya3Muc2VhcmNoQm9va21hcmtzXCI6XCJTZWFyY2ggQm9va21hcmtzIEtSXCIsXCJib29rbWFya3MuY2xlYXJTZWFyY2hJbnB1dFwiOlwiQ2xlYXIgU2VhcmNoIElucHV0IEtSXCIsXCJib29rbWFya3MuY3JlYXRlRm9sZGVyXCI6XCJDcmVhdGUgTmV3IEZvbGRlciBLUlwiLFwiYm9va21hcmtzLmV4aXRGb2xkZXJcIjpcIkV4aXQgRm9sZGVyIEtSXCIsXCJib29rbWFya3MubmV3Rm9sZGVyXCI6XCJOZXcgRm9sZGVyIEtSXCIsXCJib29rbWFya3MubmFtZWRGb2xkZXJcIjpcInt7bmFtZX19IEZvbGRlciBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrU2V0dGluZ3NcIjpcInt7bmFtZX19IEJvb2ttYXJrIFNldHRpbmdzIEtSXCIsXCJib29rbWFya3MuZm9sZGVyU2V0dGluZ3NcIjpcInt7bmFtZX19IEZvbGRlciBTZXR0aW5ncyBLUlwiLFwiYm9va21hcmtzLm5vUmVzdWx0c0ZvdW5kXCI6XCJObyByZXN1bHRzIGZvdW5kIEtSXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRTdWJ0ZXh0XCI6XCJUaGVyZSBhcmUgbm8gYm9va21hcmtzIHRoYXQgbWF0Y2ggeW91ciBzZWFyY2ggS1JcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93XCI6XCJOb3RoaW5nIHRvIHNob3cgeWV0IEtSXCIsXCJib29rbWFya3Mubm90aGluZ1RvU2hvd1N1YnRleHRcIjpcIkFkZCBhIGJvb2ttYXJrIHRvIHRoaXMgZm9sZGVyIEtSXCIsXCJib29rbWFya3MucmVzdWx0c0ZvdW5kSW5cIjpcIlJlc3VsdHMgZm91bmQgaW4ge3tuYW1lfX0gS1JcIixcImJvb2ttYXJrcy5yZXN1bHRzSW5PdGhlckZvbGRlcnNcIjpcIlJlc3VsdHMgZm91bmQgaW4gb3RoZXIgZm9sZGVycyBLUlwiLFwiYm9va21hcmtzLmFsbFJlc3VsdHNGb3VuZEluXCI6XCJBbGwgcmVzdWx0cyBmb3VuZCBpbiBLUlwiLFwiYm9va21hcmtzLmVkaXROYW1lXCI6XCJFZGl0IE5hbWUgS1JcIixcImJvb2ttYXJrcy5tb3ZlXCI6XCJNb3ZlIEtSXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRpdGxlXCI6XCJCb29rbWFyayBBZGRlZCBLUlwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRUb0ZvbGRlclwiOlwiWW91ciBib29rbWFyayB3YXMgYWRkZWQgdG8gXFxcXFwie3tmb2xkZXJOYW1lfX1cXFxcXCIgS1JcIixcImJvb2ttYXJrcy5ib29rbWFya0VkaXRlZFRpdGxlXCI6XCJCb29rbWFyayBFZGl0ZWQgS1JcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIjpcIlNhdmUgU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiOlwiU2F2ZSBTdXBlcnRhYiBBcy4uLiBLUlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiOlwiRHVwbGljYXRlIEtSXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZGVsZXRlU3VwZXJ0YWJcIjpcIkRlbGV0ZSBTdXBlcnRhYiBLUlwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiTmV3IFRhYiBLUlwiLFwiZW50ZXJwcmlzZVNhdmVNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsXCI6e1wic2F2ZVN1cGVydGFiQ291bnRfb25lXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYiBiZWZvcmUgY2xvc2luZz8gS1JcIixcInNhdmVTdXBlcnRhYkNvdW50X290aGVyXCI6XCJTYXZlIHt7Y291bnR9fSBTdXBlcnRhYnMgYmVmb3JlIGNsb3Npbmc/IEtSXCJ9LFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiOlwiUmVuYW1lIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnVuc2F2ZWRDaGFuZ2VzXCI6XCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMgaW4gdGhpcyBUYWIuIEtSXCIsXCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlVGFiXCI6XCJDbG9zZSBUYWIgS1JcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiQ2xvc2UgU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VNb2RhbC5kaXNjYXJkU3VwZXJ0YWJXYXJuaW5nXCI6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdC4gS1JcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIHRoZSBcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWI/IEtSXCIsXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCI6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgU3VwZXJ0YWI/IFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYW5kIGlzIHBlcm1hbmVudC4gS1JcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiU2F2ZWRcIjpcIlN1cGVydGFiIFNhdmVkIEtSXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIHNhdmVkLiBLUlwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJEZWxldGVkXCI6XCJTdXBlcnRhYiBEZWxldGVkIEtSXCIsXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5EZWxldGVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gZGVsZXRlZC4gS1JcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBUYWIgS1JcIixcImVudGVycHJpc2VFcnJvckluZGljYXRvci5mYWlsZWRUb0R1cGxpY2F0ZVN1cGVydGFiXCI6XCJGYWlsZWQgdG8gZHVwbGljYXRlIFN1cGVydGFiIEtSXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5zd2l0Y2hUb1N1cGVydGFiXCI6XCJTd2l0Y2ggdG8gU3VwZXJ0YWIgS1JcIixcImVudGVycHJpc2VDb21tYW5kQmFyLmdvVG9cIjpcIkdvIHRvIHt7dHlwZX19IEtSXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci52aWV3TW9yZVwiOlwiVmlldyBNb3JlIEtSXCIsXCJzaWRlUGFuZWwuYWlDZW50ZXJcIjpcIkFJIENlbnRlciBLUlwiLFwic2lkZVBhbmVsLm5ld0NoYXRcIjpcIk5ldyBDaGF0IEtSXCIsXCJzaWRlUGFuZWwudG9nZ2xlU2lkZVBhbmVsXCI6XCJUb2dnbGUgU2lkZSBQYW5lbCBLUlwiLFwic2lkZVBhbmVsLmNsb3NlU2lkZVBhbmVsXCI6XCJDbG9zZSBTaWRlIFBhbmVsIEtSXCIsXCJzaWRlUGFuZWwub3BlbkFpQ2VudGVyXCI6XCJPcGVuIEFJIENlbnRlciBLUlwiLFwiY29udGV4dE1lbnUucXVpdEVudGVycHJpc2VCcm93c2VyXCI6XCJRdWl0IEtSXCIsXCJkb2NrLnJlbW92ZUZhdm9yaXRlXCI6XCJSZW1vdmUgS1JcIn0nKSxVbj1KU09OLnBhcnNlKCd7XCJjb250ZXh0TWVudS5uZXdXaW5kb3dcIjpcItCd0L7QstC+0LUg0L7QutC90L5cIixcImNvbnRleHRNZW51Lm5ld1BhZ2VcIjpcItCd0L7QstCw0Y8g0YHRgtGA0LDQvdC40YbQsFwiLFwiY29udGV4dE1lbnUucmVzdG9yZVwiOlwi0JLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMINC/0L7RgdC70LXQtNC90LjQtSDRgdC+0YXRgNCw0L3QtdC90L3Ri9C1INC40LfQvNC10L3QtdC90LjRj1wiLFwiY29udGV4dE1lbnUuc3dpdGNoV29ya3NwYWNlXCI6XCLQn9C10YDQtdC60LvRjtGH0LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMXCIsXCJjb250ZXh0TWVudS5tYW5hZ2VEZXNrdG9wU2lnbmFsc1wiOlwiTWFuYWdlIERlc2t0b3AgU2lnbmFsc1wiLFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiOlwi0JLQvdC10YjQvdC40Lkg0LLQuNC0XCIsXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCI6XCLQodC+0YXRgNCw0L3QuNGC0Ywg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0YxcIixcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGA0LDQsdC+0YfRg9GOINC+0LHQu9Cw0YHRgtGMINC60LDQui4uLlwiLFwiY29udGV4dE1lbnUucmVuYW1lV29ya3NwYWNlXCI6XCLQn9C10YDQtdC40LzQtdC90L7QstCw0YLRjCDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjFwiLFwiY29udGV4dE1lbnUuZGVsZXRlV29ya3NwYWNlXCI6XCLQo9C00LDQu9C40YLRjCDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjFwiLFwiY29udGV4dE1lbnUuZG93bmxvYWRzXCI6XCLQl9Cw0LPRgNGD0LfQutC4XCIsXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiOlwi0KHQvtGF0YDQsNC90LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDRgdGC0YDQsNC90LjRhtGDINC60LDQui4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRcIjpcItCf0LXRh9Cw0YLRjC4uLlwiLFwiY29udGV4dE1lbnUucHJpbnRTY3JlZW5cIjpcItCg0LDRgdC/0LXRh9Cw0YLQsNGC0Ywg0Y3QutGA0LDQvVwiLFwiY29udGV4dE1lbnUuY2xvc2VXaW5kb3dcIjpcItCX0LDQutGA0YvRgtGMINC+0LrQvdC+XCIsXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiOlwi0J7RgtC60YDRi9GC0YwgU3RvcmVmcm9udFwiLFwiY29udGV4dE1lbnUucXVpdFBsYXRmb3JtXCI6XCLQktGL0LnRgtC4INC40Lcg0L/Qu9Cw0YLRhNC+0YDQvNGLXCIsXCJjb250ZXh0TWVudS5uZXdWaWV3XCI6XCLQndC+0LLQvtC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1XCIsXCJjb250ZXh0TWVudS5vcGVuVmlld1wiOlwi0J7RgtC60YDRi9GC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUg0YEg0L/QvtC80L7RidGM0Y4g0LLQtdCxLdCx0YDQsNGD0LfQtdGA0LAg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cIixcImNvbnRleHRNZW51Lm9wZW5WaWV3c1wiOlwi0J7RgtC60YDRi9GC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8g0YEg0L/QvtC80L7RidGM0Y4g0LLQtdCxLdCx0YDQsNGD0LfQtdGA0LAg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cIixcImNvbnRleHRNZW51LnJlbG9hZFwiOlwiUmVsb2FkIFJVXCIsXCJjb250ZXh0TWVudS5yZWxvYWRWaWV3XCI6XCLQn9C10YDQtdC30LDQs9GA0YPQt9C40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtVwiLFwiY29udGV4dE1lbnUucmVsb2FkVmlld3NcIjpcItCf0LXRgNC10LfQsNCz0YDRg9C30LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVcIjpcIkR1cGxpY2F0ZSBSVVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld1wiOlwi0JTRg9Cx0LvQuNGA0L7QstCw0YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtVwiLFwiY29udGV4dE1lbnUuZHVwbGljYXRlVmlld3NcIjpcItCU0YPQsdC70LjRgNC+0LLQsNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y9cIixcImNvbnRleHRNZW51LmFkZFZpZXdcIjpcItCU0L7QsdCw0LLQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUg0L3QsCDQutCw0L3QsNC7XCIsXCJjb250ZXh0TWVudS5hZGRWaWV3c1wiOlwi0JTQvtCx0LDQstC40YLRjCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjyDQvdCwINC60LDQvdCw0LtcIixcImNvbnRleHRNZW51LnJlbW92ZVZpZXdcIjpcItCj0LTQsNC70LjRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INC40Lcg0LrQsNC90LDQu9CwXCIsXCJjb250ZXh0TWVudS5yZW1vdmVWaWV3c1wiOlwi0KPQtNCw0LvQuNGC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8g0LjQtyDQutCw0L3QsNC70LBcIixcImNvbnRleHRNZW51LmNsb3NlVmlld1wiOlwi0JfQsNC60YDRi9GC0Ywg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LVcIixcImNvbnRleHRNZW51LmNsb3NlVmlld3NcIjpcItCX0LDQutGA0YvRgtGMINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPXCIsXCJjb250ZXh0TWVudS5jbG9zZVRhYlwiOlwiQ2xvc2UgVGFiIFJVXCIsXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCI6XCLQlNGD0LHQu9C40YDQvtCy0LDRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRcIjpcItCf0LXRh9Cw0YLQsNGC0YxcIixcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIjpcItCf0LXRh9Cw0YLQsNGC0Ywg0LLRgdC1XCIsXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjCDQutCw0LpcIixcInNhdmVNZW51LnNhdmVQYWdlQXNcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDRgdGC0YDQsNC90LjRhtGDINC60LDQulwiLFwic2F2ZU1vZGFsLmVudGVyVmFsdWVcIjpcIlBsZWFzZSBlbnRlciBhIHZhbHVlIFJVXCIsXCJzYXZlTW9kYWwuYWxyZWFkeUV4aXN0c1wiOlwie3t0aXRsZX19INGD0LbQtSDRgdGD0YnQtdGB0YLQstGD0LXRgi5cIixcInNhdmVNb2RhbC5wbGVhc2VFbnRlclZhbGlkTmFtZVwiOlwi0JLQstC10LTQuNGC0LUg0L/QvtC00YXQvtC00Y/RidC10LUg0LjQvNGPXCIsXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiOlwi0J/QtdGA0LXQuNC80LXQvdC+0LLQsNGC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiOlwi0JfQsNC60YDRi9GC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwic2F2ZU1vZGFsLmRpc2NhcmRDaGFuZ2VzXCI6XCLQntGC0LzQtdC90LjRgtGMINC40LfQvNC10L3QtdC90LjRj1wiLFwic2F2ZU1vZGFsLmRpc2NhcmRBbGxcIjpcItCe0YLQvNC10L3QuNGC0Ywg0LLRgdC1XCIsXCJzYXZlTW9kYWwuc2F2ZUFsbFwiOlwi0KHQvtGF0YDQsNC90LjRgtGMINCy0YHQtVwiLFwic2F2ZU1vZGFsLnNhdmVQYWdlc0NvdW50XCI6XCLQodC+0YXRgNCw0L3QuNGC0YwgKHt7Y291bnR9fSkg0YHRgtGA0LDQvdC40YYg0L/QtdGA0LXQtCDQt9Cw0LrRgNGL0YLQuNC10Lw/XCIsXCJkZWZhdWx0UGFnZVRpdGxlXCI6XCJVbnRpdGxlZCBQYWdlIFJVXCIsXCJlbnRlcnByaXNlRGVmYXVsdFBhZ2VUaXRsZVwiOlwiVW50aXRsZWQgU3VwZXJ0YWIgUlVcIixcImFkZE5ld1BhZ2VcIjpcItCU0L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YPRjiDRgdGC0YDQsNC90LjRhtGDXCIsXCJhZGROZXdUYWJcIjpcItCU0L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YPRjiDQstC60LvQsNC00LrRg1wiLFwiYWRkTmV3Vmlld1wiOlwi0J3QvtCy0L7QtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtVwiLFwicmVzdG9yZU1vZGFsXCI6XCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INCy0L7RgdGB0YLQsNC90L7QstC40YLRjCDQv9C+0YHQu9C10LTQvdC40LUg0YHQvtGF0YDQsNC90LXQvdC90YvQtSDQuNC30LzQtdC90LXQvdC40Y8/XCIsXCJtb2RhbC5kaXNjYXJkV2FybmluZ1wiOlwi0JLRgdC1INC90LXRgdC+0YXRgNCw0L3QtdC90L3Ri9C1INC40LfQvNC10L3QtdC90LjRjyDQsdGD0LTRg9GCINC+0YLQvNC10L3QtdC90YtcIixcIm1vZGFsLmRpc2NhcmRQYWdlV2FybmluZ1wiOlwi0JLRgdC1INC90LXRgdC+0YXRgNCw0L3QtdC90L3Ri9C1INC40LfQvNC10L3QtdC90LjRjyDQvdCwINGN0YLQvtC5INGB0YLRgNCw0L3QuNGG0LUg0LHRg9C00YPRgiDQv9C+0YLQtdGA0Y/QvdGLLlwiLFwibW9kYWwuc2F2ZUNoYW5nZXNQcm9tcHRcIjpcItCh0L7RhdGA0LDQvdC40YLRjCDQuNC30LzQtdC90LXQvdC40Y8g0L/QtdGA0LXQtCDQt9Cw0LrRgNGL0YLQuNC10Lw/XCIsXCJtb2RhbC5wYWdlQ2xvc2VcIjpcItCX0LDQutGA0YvRgtGMINGB0YLRgNCw0L3QuNGG0YNcIixcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCI6XCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INC/0LXRgNC10LnRgtC4INCyIHt7d29ya3NwYWNlfX0/XCIsXCJzd2l0Y2hXb3Jrc3BhY2VNb2RhbC53YXJuaW5nXCI6XCLQktGB0LUg0L3QtdGB0L7RhdGA0LDQvdC10L3QvdGL0LUg0LjQt9C80LXQvdC10L3QuNGPINCx0YPQtNGD0YIg0L7RgtC80LXQvdC10L3Ri1wiLFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIjpcItCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0L3QsNCy0YHQtdCz0LTQsCDRg9C00LDQu9C40YLRjCDRjdGC0YMg0YDQsNCx0L7Rh9GD0Y4g0L7QsdC70LDRgdGC0Yw/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZ1wiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0YEg0LjQvNC10L3QtdC8IHt7d29ya3NwYWNlfX0g0YPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCLiDQktGLINGF0L7RgtC40YLQtSDQt9Cw0LzQtdC90LjRgtGMINC10LU/XCIsXCJyZXBsYWNlV29ya3NwYWNlTW9kYWwud2FybmluZy5ib2R5XCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRgSDRgtCw0LrQuNC8INC20LUg0LjQvNC10L3QtdC8INGD0LbQtSDRgdGD0YnQtdGB0YLQstGD0LXRgi4g0J/RgNC4INC10LUg0LfQsNC80LXQvdC1INGC0LXQutGD0YnQtdC1INGB0L7QtNC10YDQttC40LzQvtC1INCx0YPQtNC10YIg0L/QtdGA0LXQt9Cw0L/QuNGB0LDQvdC+LlwiLFwicmVwbGFjZVdvcmtzcGFjZU1vZGFsLnJlcGxhY2VcIjpcItCX0LDQvNC10L3QuNGC0YxcIixcImNsb3NlUGxhdGZvcm1cIjpcItCX0LDQutGA0YvRgtGMINC/0LvQsNGC0YTQvtGA0LzRg1wiLFwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIjpcItCX0LDQutGA0YvRgtGMINC/0LvQsNGC0YTQvtGA0LzRgyB7e3dvcmtzcGFjZX19XCIsXCJjbG9zZVBsYXRmb3JtLndhcm5pbmdcIjpcItCX0LDQutGA0YvRgtC40LUg0L/Qu9Cw0YLRhNC+0YDQvNGLINC/0YDQuNCy0LXQtNC10YIg0Log0LfQsNC60YDRi9GC0LjRjiDQstGB0LXRhSDRgNCw0LHQvtGH0LjRhSDQvtCx0LvQsNGB0YLQtdC5LCDQv9GA0LjQu9C+0LbQtdC90LjQuSDQuCDQt9Cw0L/Rg9GJ0LXQvdC90YvRhSDQv9GA0L7RhtC10YHRgdC+0LIuXCIsXCJiYWNrXCI6XCLQndCw0LfQsNC0XCIsXCJmb3J3YXJkXCI6XCLQktC/0LXRgNC10LRcIixcInJlbG9hZFwiOlwi0J/QtdGA0LXQt9Cw0LPRgNGD0LfQuNGC0YzCoFwiLFwiZ3JlZW5cIjpcItCX0LXQu9C10L3Ri9C5XCIsXCJwdXJwbGVcIjpcItCk0LjQvtC70LXRgtC+0LLRi9C5XCIsXCJvcmFuZ2VcIjpcItCe0YDQsNC90LbQtdCy0YvQuVwiLFwicmVkXCI6XCLQmtGA0LDRgdC90YvQuVwiLFwicGlua1wiOlwi0KDQvtC30L7QstGL0LlcIixcInllbGxvd1wiOlwi0JbQtdC70YLRi9C5XCIsXCJ0aGVtZS5saWdodFwiOlwi0KHQstC10YLQu9GL0LlcIixcInRoZW1lLmRhcmtcIjpcItCi0LXQvNC90YvQuVwiLFwidGhlbWUuc3lzdGVtXCI6XCLQodC40L3RhdGA0L7QvdC40LfQuNGA0L7QstCw0YLRjCDRgSDQvdCw0YHRgtGA0L7QudC60LDQvNC4INCe0KFcIixcInRvb2xiYXIuaGlkZVRhYnNcIjpcItCh0LrRgNGL0YLRjCDQstC60LvQsNC00LrQuFwiLFwidG9vbGJhci5zaG93VGFic1wiOlwi0J/QvtC60LDQt9Cw0YLRjCDQstC60LvQsNC00LrQuFwiLFwidG9vbGJhci5sb2NrXCI6XCLQl9Cw0LHQu9C+0LrQuNGA0L7QstCw0YLRjFwiLFwidG9vbGJhci51bmxvY2tcIjpcItCg0LDQt9Cx0LvQvtC60LjRgNC+0LLQsNGC0YxcIixcInRvb2xiYXIuY29sb3JMaW5raW5nXCI6XCLQn9GA0LjQstGP0LfQutCwINC6INGG0LLQtdGC0YNcIixcInRvb2xiYXIuY2hhbmdlTGF5b3V0XCI6XCLQmNC30LzQtdC90LjRgtGMINC80LDQutC10YJcIixcInRvb2xiYXIuc2F2ZU1lbnVcIjpcItCc0LXQvdGOINGB0L7RhdGA0LDQvdC10L3QuNGPXCIsXCJ0b29sYmFyLm1heGltaXplV2luZG93XCI6XCLQo9Cy0LXQu9C40YfQuNGC0Ywg0L7QutC90L5cIixcInRvb2xiYXIucmVzdG9yZVdpbmRvd1wiOlwi0JLQvtGB0YHRgtCw0L3QvtCy0LjRgtGMINC+0LrQvdC+XCIsXCJ0b29sYmFyLm1pbmltaXplV2luZG93XCI6XCLQodCy0LXRgNC90YPRgtGMINC+0LrQvdC+XCIsXCJjaGFuZ2VMYXlvdXQuZnVsbFdpZHRoXCI6XCLQn9C+0LvQvdCw0Y8g0YjQuNGA0LjQvdCwXCIsXCJjaGFuZ2VMYXlvdXQuY29sdW1uc1wiOlwi0KHRgtC+0LvQsdGG0YtcIixcImNoYW5nZUxheW91dC5Sb3dzXCI6XCLQodGC0YDQvtC60LhcIixcImNoYW5nZUxheW91dC5HcmlkXCI6XCLQodC10YLQutCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVN3aXRjaGVkXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDQv9C10YDQtdC60LvRjtGH0LXQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmhpZGRlblwiOlwi0JLQutC70LDQtNC60Lgg0YHQutGA0YvRgtGLXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnNob3duXCI6XCLQktC60LvQsNC00LrQuCDQv9C+0LrQsNC30LDQvdGLXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmxvY2tlZFwiOlwi0KHRgtGA0LDQvdC40YbQsCDQt9Cw0LHQu9C+0LrQuNGA0L7QstCw0L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci51bmxvY2tlZFwiOlwi0KHRgtGA0LDQvdC40YbQsCDRgNCw0LfQsdC70L7QutC40YDQvtCy0LDQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVNhdmVkXCI6XCLQoNCw0LHQvtGH0LDRjyDQvtCx0LvQsNGB0YLRjCDRgdC+0YXRgNCw0L3QtdC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlU2F2ZWRBc1wiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0YHQvtGF0YDQsNC90LXQvdCwINC60LDQuiB7e3dvcmtzcGFjZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLndvcmtzcGFjZVJlbmFtZWRcIjpcItCg0LDQsdC+0YfQsNGPINC+0LHQu9Cw0YHRgtGMINC/0LXRgNC10LjQvNC10L3QvtCy0LDQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiOlwi0KHRgtGA0LDQvdC40YbQsCDRgdC+0YXRgNCw0L3QtdC90LBcIixcInN1Y2Nlc3NJbmRpY2F0b3IucGFnZUhhc0JlZW5TYXZlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIGhhcyBiZWVuIHNhdmVkLiBSVVwiLFwic3VjY2Vzc0luZGljYXRvci5wYWdlQ29weVNhdmVkXCI6XCLQodGC0YDQsNC90LjRhtCwINGB0L7RhdGA0LDQvdC10L3QsCDQutCw0Loge3t0aXRsZX19XCIsXCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VSZW5hbWVkXCI6XCLQodGC0YDQsNC90LjRhtCwINC/0LXRgNC10LjQvNC10L3QvtCy0LDQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLmNvbnRleHRHcm91cEFwcGxpZWRcIjpcItCa0L7QvdGC0LXQutGB0YLQvdCw0Y8g0LPRgNGD0L/Qv9CwINC/0YDQuNC80LXQvdC10L3QsFwiLFwic3VjY2Vzc0luZGljYXRvci5uYW1lZENvbnRleHRHcm91cEFwcGxpZWRcIjpcItCa0L7QvdGC0LXQutGB0YLQvdCw0Y8g0LPRgNGD0L/Qv9CwIHt7Y29sb3JOYW1lfX0g0L/RgNC40LzQtdC90LXQvdCwXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdSZW1vdmVkXCI6XCLQn9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDRg9C00LDQu9C10L3QviDQuNC3INC60L7QvdGC0LXQutGB0YLQvdC+0Lkg0LPRgNGD0L/Qv9GLXCIsXCJzdWNjZXNzSW5kaWNhdG9yLnZpZXdzUmVtb3ZlZFwiOlwi0J/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8g0YPQtNCw0LvQtdC90Ysg0LjQtyDQutC+0L3RgtC10LrRgdGC0L3QvtC5INCz0YDRg9C/0L/Ri1wiLFwic3VjY2Vzc0luZGljYXRvci5sYXlvdXRBcHBsaWVkXCI6XCLQnNCw0LrQtdGCIHt7bGF5b3V0TmFtZX19INC/0YDQuNC80LXQvdC10L1cIixcInN1Y2Nlc3NJbmRpY2F0b3Iud29ya3NwYWNlRGVsZXRlZFwiOlwi0KDQsNCx0L7Rh9Cw0Y8g0L7QsdC70LDRgdGC0Ywg0YPQtNCw0LvQtdC90LBcIixcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCI6XCLQndC1INGD0LTQsNC70L7RgdGMINGB0L7RhdGA0LDQvdC40YLRjCDRgdGC0YDQsNC90LjRhtGDXCIsXCJlcnJvckluZGljYXRvci53b3Jrc3BhY2VTYXZlRmFpbGVkXCI6XCLQndC1INGD0LTQsNC70L7RgdGMINGB0L7RhdGA0LDQvdC40YLRjCDRgNCw0LHQvtGH0YPRjiDQvtCx0LvQsNGB0YLRjFwiLFwiZXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVQYWdlXCI6XCLQndC1INGD0LTQsNC70L7RgdGMINC/0YDQvtC00YPQsdC70LjRgNC+0LLQsNGC0Ywg0YHRgtGA0LDQvdC40YbRg1wiLFwiaW5mb0luZGljYXRvci5jb2xvckxpbmtBdHRlbXB0XCI6XCLQnNGLINC/0L7Qv9GL0YLQsNC70LjRgdGMINC/0YDQuNCy0Y/Qt9Cw0YLRjCDRhtCy0LXRgiDQuiDRjdGC0L7QuSDQstC60LvQsNC00LrQtSwg0L3QviDQstC70LDQtNC10LvQtdGGINGB0LDQudGC0LAv0LrQvtC90YLQtdC90YLQsCDQtdGJ0LUg0L3QtSDQstC60LvRjtGH0LjQuyDRjdGC0YMg0LLQvtC30LzQvtC20L3QvtGB0YLRjFwiLFwiZ2xvYmFsLmNhbmNlbFwiOlwi0J7RgtC80LXQvdC40YLRjFwiLFwiZ2xvYmFsLmNvbmZpcm1cIjpcItCf0L7QtNGC0LLQtdGA0LTQuNGC0YxcIixcImdsb2JhbC5zYXZlXCI6XCLQodC+0YXRgNCw0L3QuNGC0YxcIixcImdsb2JhbC5kZWxldGVcIjpcIkRlbGV0ZSBSVVwiLFwiYXBwUmVzdWx0cy5oZWFkZXJcIjpcIkZlYXR1cmVkIENvbnRlbnQgUlVcIixcInJlY2VudGx5Q2xvc2VkLmhlYWRlclwiOlwiUmVjZW50bHkgQ2xvc2VkIFJVXCIsXCJsYW5kaW5nUGFnZS5zdWJoZWFkZXJcIjpcIkFwcHMgYW5kIHdlYnNpdGVzIHNlbGVjdGVkIGJ5IGFuIGFkbWluIHdpbGwgc2hvdyBoZXJlIFJVXCIsXCJhcmlhLm9wZW5Ccm93c2VyXCI6XCLQntGC0LrRgNGL0YLRjCDQvNC10L3RjiDQsdGA0LDRg9C30LXRgNCwXCIsXCJhcmlhLmJyb3dzZXJUYWJzXCI6XCLQktC60LvQsNC00LrQuCDQsdGA0LDRg9C30LXRgNCwXCIsXCJhcmlhLnZpZXdUYWJcIjpcItCS0LrQu9Cw0LTQutCwINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPIHt7dGl0bGV9fVwiLFwiYXJpYS5jbG9zZVBhZ2VcIjpcItCa0L3QvtC/0LrQsCDCq9CX0LDQutGA0YvRgtGMwrsg0L3QsCDQstC60LvQsNC00LrQtSDQtNC70Y8g0YHRgtGA0LDQvdC40YbRiyB7e3RpdGxlfX1cIixcImFyaWEuY2xvc2VUYWJcIjpcItCX0LDQutGA0YvRgtGMINCy0LrQu9Cw0LTQutGDIHt7dGl0bGV9fVwiLFwiYXJpYS50aXRsZVwiOlwi0J3QsNC30LLQsNC90LjQtVwiLFwiYXJpYS5jbG9zZUNvbnRleHRHcm91cFwiOlwi0KfRgtC+0LHRiyDQt9Cw0LrRgNGL0YLRjCDQtNC40LDQu9C+0LMg0LLRi9Cx0L7RgNCwINC60L7QvdGC0LXQutGB0YLQvdC+0Lkg0LPRgNGD0L/Qv9GLLCDQuNGB0L/QvtC70YzQt9GD0LnRgtC1IGVzY2FwZVwiLFwiYXJpYS5jb2xvckxpbmtpbmdcIjpcItCf0L7QutCw0LfQsNGC0Ywg0LjQu9C4INGB0LrRgNGL0YLRjCDQv9GA0LjQstGP0LfQutGDINC6INGG0LLQtdGC0YNcIixcImFyaWEuYXBwbHlDb2xvckxpbmtpbmdcIjpcItCS0YvQsdC10YDQuNGC0LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUsINGH0YLQvtCx0Ysg0L/RgNC40LzQtdC90LjRgtGMINC/0YDQuNCy0Y/Qt9C60YMg0Log0YbQstC10YLRg1wiLFwiYXJpYS5hc3NpZ25Db2xvckxpbmtpbmdDdXJyZW50Vmlld1wiOlwi0KLQtdC60YPRidC10LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LUsINC90LDQt9C90LDRh9C10L3QvdC+0LUg0LrQvtC90YLQtdC60YHRgtC90L7QuSDQs9GA0YPQv9C/0LUge3tuYW1lfX1cIixcImFyaWEuYXNzaWduQ29sb3JMaW5raW5nQ3VycmVudFZpZXdzXCI6XCLQotC10LrRg9GJ0LjQtSDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjRjywg0L3QsNC30L3QsNGH0LXQvdC90YvQtSDQutC+0L3RgtC10LrRgdGC0L3QvtC5INCz0YDRg9C/0L/QtSB7e25hbWV9fVwiLFwiYXJpYS5zZXRDb2xvckxpbmtpbmdBY3RpdmVWaWV3XCI6XCLQo9GB0YLQsNC90L7QstC40YLRjCDQsNC60YLQuNCy0L3QvtC1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INCyINC60L7QvdGC0LXQutGB0YLQvdGD0Y4g0LPRgNGD0L/Qv9GDIHt7bmFtZX19XCIsXCJhcmlhLnNldENvbG9yTGlua2luZ0FjdGl2ZVZpZXdzXCI6XCLQo9GB0YLQsNC90L7QstC40YLRjCDQsNC60YLQuNCy0L3Ri9C1INC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNGPINCyINC60L7QvdGC0LXQutGB0YLQvdGD0Y4g0LPRgNGD0L/Qv9GDIHt7bmFtZX19XCIsXCJhcmlhLmVzY2FwZUxheW91dERpYWxvZ1wiOlwi0KfRgtC+0LHRiyDQt9Cw0LrRgNGL0YLRjCDQtNC40LDQu9C+0LMg0LjQt9C80LXQvdC10L3QuNGPINC80LDQutC10YLQsCwg0LjRgdC/0L7Qu9GM0LfRg9C50YLQtSBlc2NhcGVcIixcImdsb2JhbC5zdXBlcnRhYlwiOlwiU3VwZXJ0YWIgUlVcIixcImdsb2JhbC50YWJcIjpcIlRhYiBSVVwiLFwiYm9va21hcmtzLmVkaXRCb29rbWFya1wiOlwiRWRpdCBCb29rbWFyayBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrQWRkZWRcIjpcIkJvb2ttYXJrIGFkZGVkIFJVXCIsXCJib29rbWFya3MuZG9uZVwiOlwiRG9uZSBSVVwiLFwiYm9va21hcmtzLnJlbW92ZVwiOlwiUmVtb3ZlIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtzUGFuZWxcIjpcIkJvb2ttYXJrcyBQYW5lbCBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrc1wiOlwiQm9va21hcmtzIFJVXCIsXCJib29rbWFya3MuYWxsQm9va21hcmtzXCI6XCJBbGwgQm9va21hcmtzIFJVXCIsXCJib29rbWFya3MuZmF2b3JpdGVzXCI6XCJGYXZvcml0ZXMgUlVcIixcImJvb2ttYXJrcy5zZWFyY2hCb29rbWFya3NcIjpcIlNlYXJjaCBCb29rbWFya3MgUlVcIixcImJvb2ttYXJrcy5jbGVhclNlYXJjaElucHV0XCI6XCJDbGVhciBTZWFyY2ggSW5wdXQgUlVcIixcImJvb2ttYXJrcy5jcmVhdGVGb2xkZXJcIjpcIkNyZWF0ZSBOZXcgRm9sZGVyIFJVXCIsXCJib29rbWFya3MuZXhpdEZvbGRlclwiOlwiRXhpdCBGb2xkZXIgUlVcIixcImJvb2ttYXJrcy5uZXdGb2xkZXJcIjpcIk5ldyBGb2xkZXIgUlVcIixcImJvb2ttYXJrcy5uYW1lZEZvbGRlclwiOlwie3tuYW1lfX0gRm9sZGVyIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtTZXR0aW5nc1wiOlwie3tuYW1lfX0gQm9va21hcmsgU2V0dGluZ3MgUlVcIixcImJvb2ttYXJrcy5mb2xkZXJTZXR0aW5nc1wiOlwie3tuYW1lfX0gRm9sZGVyIFNldHRpbmdzIFJVXCIsXCJib29rbWFya3Mubm9SZXN1bHRzRm91bmRcIjpcIk5vIHJlc3VsdHMgZm91bmQgUlVcIixcImJvb2ttYXJrcy5ub1Jlc3VsdHNGb3VuZFN1YnRleHRcIjpcIlRoZXJlIGFyZSBubyBib29rbWFya3MgdGhhdCBtYXRjaCB5b3VyIHNlYXJjaCBSVVwiLFwiYm9va21hcmtzLm5vdGhpbmdUb1Nob3dcIjpcIk5vdGhpbmcgdG8gc2hvdyB5ZXQgUlVcIixcImJvb2ttYXJrcy5ub3RoaW5nVG9TaG93U3VidGV4dFwiOlwiQWRkIGEgYm9va21hcmsgdG8gdGhpcyBmb2xkZXIgUlVcIixcImJvb2ttYXJrcy5yZXN1bHRzRm91bmRJblwiOlwiUmVzdWx0cyBmb3VuZCBpbiB7e25hbWV9fSBSVVwiLFwiYm9va21hcmtzLnJlc3VsdHNJbk90aGVyRm9sZGVyc1wiOlwiUmVzdWx0cyBmb3VuZCBpbiBvdGhlciBmb2xkZXJzIFJVXCIsXCJib29rbWFya3MuYWxsUmVzdWx0c0ZvdW5kSW5cIjpcIkFsbCByZXN1bHRzIGZvdW5kIGluIFJVXCIsXCJib29rbWFya3MuZWRpdE5hbWVcIjpcIkVkaXQgTmFtZSBSVVwiLFwiYm9va21hcmtzLm1vdmVcIjpcIk1vdmUgUlVcIixcImJvb2ttYXJrcy5ib29rbWFya0FkZGVkVGl0bGVcIjpcIkJvb2ttYXJrIEFkZGVkIFJVXCIsXCJib29rbWFya3MuYm9va21hcmtBZGRlZFRvRm9sZGVyXCI6XCJZb3VyIGJvb2ttYXJrIHdhcyBhZGRlZCB0byBcXFxcXCJ7e2ZvbGRlck5hbWV9fVxcXFxcIiBSVVwiLFwiYm9va21hcmtzLmJvb2ttYXJrRWRpdGVkVGl0bGVcIjpcIkJvb2ttYXJrIEVkaXRlZCBSVVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYlwiOlwiU2F2ZSBTdXBlcnRhYiBSVVwiLFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LnNhdmVTdXBlcnRhYkFzXCI6XCJTYXZlIFN1cGVydGFiIEFzLi4uIFJVXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUuZHVwbGljYXRlXCI6XCJEdXBsaWNhdGUgUlVcIixcImVudGVycHJpc2VDb250ZXh0TWVudS5kZWxldGVTdXBlcnRhYlwiOlwiRGVsZXRlIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCI6XCJOZXcgVGFiIFJVXCIsXCJlbnRlcnByaXNlU2F2ZU1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcIlNhdmUgU3VwZXJ0YWIgQXMgUlVcIixcImVudGVycHJpc2VTYXZlTW9kYWxcIjp7XCJzYXZlU3VwZXJ0YWJDb3VudF9vbmVcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFiIGJlZm9yZSBjbG9zaW5nPyBSVVwiLFwic2F2ZVN1cGVydGFiQ291bnRfb3RoZXJcIjpcIlNhdmUge3tjb3VudH19IFN1cGVydGFicyBiZWZvcmUgY2xvc2luZz8gUlVcIn0sXCJlbnRlcnByaXNlU2F2ZU1vZGFsLnJlbmFtZVN1cGVydGFiXCI6XCJSZW5hbWUgUlVcIixcImVudGVycHJpc2VTYXZlTW9kYWwudW5zYXZlZENoYW5nZXNcIjpcIllvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBpbiB0aGlzIFRhYi4gUlVcIixcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIjpcIkNsb3NlIFRhYiBSVVwiLFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVN1cGVydGFiXCI6XCJDbG9zZSBTdXBlcnRhYiBSVVwiLFwiZW50ZXJwcmlzZU1vZGFsLmRpc2NhcmRTdXBlcnRhYldhcm5pbmdcIjpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBsb3N0LiBSVVwiLFwiZW50ZXJwcmlzZURlbGV0ZU1vZGFsLmRlbGV0ZVN1cGVydGFiXCI6XCJEZWxldGUgdGhlIFxcXFxcInt7dGl0bGV9fVxcXFxcIiBTdXBlcnRhYj8gUlVcIixcImVudGVycHJpc2VEZWxldGVNb2RhbC5kZWxldGVTdXBlcnRhYldhcm5pbmdcIjpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBTdXBlcnRhYj8gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSBhbmQgaXMgcGVybWFuZW50LiBSVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJTYXZlZFwiOlwiU3VwZXJ0YWIgU2F2ZWQgUlVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlblNhdmVkXCI6XCJcXFxcXCJ7e3RpdGxlfX1cXFxcXCIgU3VwZXJ0YWIgaGFzIGJlZW4gc2F2ZWQuUlVcIixcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiRGVsZXRlZFwiOlwiU3VwZXJ0YWIgRGVsZXRlZCBSVVwiLFwiZW50ZXJwcmlzZVN1Y2Nlc3NJbmRpY2F0b3Iuc3VwZXJ0YWJIYXNCZWVuRGVsZXRlZFwiOlwiXFxcXFwie3t0aXRsZX19XFxcXFwiIFN1cGVydGFiIGhhcyBiZWVuIGRlbGV0ZWQuIFJVXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVUYWJcIjpcIkZhaWxlZCB0byBkdXBsaWNhdGUgVGFiIFJVXCIsXCJlbnRlcnByaXNlRXJyb3JJbmRpY2F0b3IuZmFpbGVkVG9EdXBsaWNhdGVTdXBlcnRhYlwiOlwiRmFpbGVkIHRvIGR1cGxpY2F0ZSBTdXBlcnRhYiBSVVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIuc3dpdGNoVG9TdXBlcnRhYlwiOlwiU3dpdGNoIHRvIFN1cGVydGFiIFJVXCIsXCJlbnRlcnByaXNlQ29tbWFuZEJhci5nb1RvXCI6XCJHbyB0byB7e3R5cGV9fSBSVVwiLFwiZW50ZXJwcmlzZUNvbW1hbmRCYXIudmlld01vcmVcIjpcIlZpZXcgTW9yZSBSVVwiLFwic2lkZVBhbmVsLmFpQ2VudGVyXCI6XCJBSSBDZW50ZXIgUlVcIixcInNpZGVQYW5lbC5uZXdDaGF0XCI6XCJOZXcgQ2hhdCBSVVwiLFwic2lkZVBhbmVsLnRvZ2dsZVNpZGVQYW5lbFwiOlwiVG9nZ2xlIFNpZGUgUGFuZWwgUlVcIixcInNpZGVQYW5lbC5jbG9zZVNpZGVQYW5lbFwiOlwiQ2xvc2UgU2lkZSBQYW5lbCBSVVwiLFwic2lkZVBhbmVsLm9wZW5BaUNlbnRlclwiOlwiT3BlbiBBSSBDZW50ZXIgUlVcIixcImNvbnRleHRNZW51LnF1aXRFbnRlcnByaXNlQnJvd3NlclwiOlwiUXVpdCBSVVwiLFwiZG9jay5yZW1vdmVGYXZvcml0ZVwiOlwiUmVtb3ZlIFJVXCJ9Jyk7Y29uc3QgT249Um4oKS50LEduPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IENhKGUpO3JldHVybiBhd2FpdCB0LmRpc3BhdGNoKFRhLkdldFBhZ2VzKX0sSG49YXN5bmMgZT0+KGF3YWl0IENhKGUuaWRlbnRpdHkpKS5kaXNwYXRjaChUYS5VcGRhdGVQYWdlRm9yV2luZG93LGUpO2xldCAkbix6bj0hMTtjb25zdCBLbj0oKT0+em4sSm49KCk9PiRufHx7ZW5hYmxlZDohMX07YXN5bmMgZnVuY3Rpb24gWm4oZSx0KXtjb25zdCBhPSEhdDtsZXQgbj1uZXcgU2V0O2lmKGEpe2NvbnN0e2lkZW50aXR5OmUscGFnZUlkOmF9PXQsbz1ibigpLkJyb3dzZXIud3JhcFN5bmMoZSkscj1hd2FpdCBvLmdldFBhZ2UoYSk7cj8ucGFuZWxzJiYobj1uZXcgU2V0KHIucGFuZWxzLm1hcCgoKHt2aWV3T3B0aW9uczplfSk9PmUubmFtZSkpKSl9cmV0dXJuIGUubWFwKChlPT57Y29uc3QgdD1lLnZpZXdPcHRpb25zLm5hbWUsbz10Py5zdGFydHNXaXRoKFNuKTtvJiYoIWF8fGEmJiFuLmhhcyh0KSkmJmRlbGV0ZSBlLnZpZXdPcHRpb25zLm5hbWU7Y29uc3Qgcj0oaT1lLnZpZXdPcHRpb25zLGkubmFtZXx8PWAke1NufSR7aWEoKX1gLGkpO3ZhciBpO3JldHVybnsuLi5lLHZpZXdPcHRpb25zOnsuLi5yLHV1aWQ6eWUudXVpZH19fSkpfWFzeW5jIGZ1bmN0aW9uIHFuKGUpe2Zvcihjb25zdCB0IG9mIGUpdC5wYW5lbHMmJmF3YWl0IFFuKHQucGFuZWxzKX1jb25zdCBqbj1lPT5udWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwibWVzc2FnZVwiaW4gZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUubWVzc2FnZSYmL0VSUl8oW0EtWl0rXyopKy8udGVzdChlLm1lc3NhZ2UpO2FzeW5jIGZ1bmN0aW9uIFFuKGUpe2NvbnN0IHQ9ZS5tYXAoKGU9PmZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVZpZXcoZS52aWV3T3B0aW9ucyxmaW4ubWUuaWRlbnRpdHkpLmNhdGNoKChlPT57aWYoIWpuKGUpKXRocm93IGU7Y29uc29sZS5lcnJvcihlKX0pKSkpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbCh0KX1jb25zdCBZbj0oZSx0KT0+IXQuZmluZCgodD0+dD09PWUpKSxYbj0oZSx0KT0+YCR7ZX0gKCR7dH0pYCxlbz0oZSx0KT0+e2lmKFluKGUsdCkpcmV0dXJuIGU7bGV0IGE9MTtjb25zdCBuPWUucmVwbGFjZSgvICpcXChcXGQrXFwpJC8sXCJcIik7Zm9yKDshWW4oWG4obixhKSx0KTspYSs9MTtyZXR1cm4gWG4obixhKX0sdG89YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgTWUoKTtyZXR1cm4oYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9Pnt0cnl7cmV0dXJuIEduKGUuaWRlbnRpdHkpfWNhdGNoKHQpe0pTT04uc3RyaW5naWZ5KGUuaWRlbnRpdHkpO2NvbnN0IGE9YXdhaXQgZS5nZXRPcHRpb25zKCk7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzfHxbXX19KSkpKS5yZWR1Y2UoKChlLHQpPT5lLmNvbmNhdCh0KSksW10pfSxhbz1hc3luYygpPT4oYXdhaXQgc3QoeWUpKS5kaXNwYXRjaChvdC5HZXRTYXZlZFBhZ2VzLHZvaWQgMCksbm89YXN5bmMgZT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuR2V0U2F2ZWRQYWdlLGUpLG9vPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pihhd2FpdCB0bygpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSkoZSk7cmV0dXJuIWF8fGEudGl0bGU9PT10LnRpdGxlJiZlPT09dC5wYWdlSWR8fGF3YWl0IEhuKHtpZGVudGl0eTphLnBhcmVudElkZW50aXR5LHBhZ2VJZDplLHBhZ2U6e3BhZ2VJZDp0LnBhZ2VJZCx0aXRsZTp0LnRpdGxlfX0pLGF9LHJvPWFzeW5jKHtwYWdlOmV9KT0+e2F3YWl0IG9vKGUucGFnZUlkLGUpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzdCh5ZSkpLmRpc3BhdGNoKG90LkNyZWF0ZVNhdmVkUGFnZSxlKSkoe3BhZ2U6ZX0pfSxpbz1hc3luYyBlPT57YXdhaXQgbm8oZSkmJmF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzdCh5ZSkpLmRpc3BhdGNoKG90LkRlbGV0ZVNhdmVkUGFnZSxlKSkoZSl9LHNvPWFzeW5jKHtwYWdlSWQ6ZSxwYWdlOnR9KT0+e2F3YWl0IG9vKGUsdCk7cmV0dXJuIGF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzdCh5ZSkpLmRpc3BhdGNoKG90LlVwZGF0ZVNhdmVkUGFnZSxlKSkoe3BhZ2VJZDplLHBhZ2U6dH0pfSxjbz1hc3luYyBlPT5hd2FpdCBubyhlLnBhZ2VJZCk/c28oe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOmV9KTpybyh7cGFnZTplfSksbG89YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBDYShlLmlkZW50aXR5KSkuZGlzcGF0Y2goVGEuQXR0YWNoUGFnZXNUb1dpbmRvdyxlKSkoZSl9LHVvPWFzeW5jIGU9Pntjb25zdCB0PXsuLi5lLnBhZ2UscGFuZWxzOmUucGFnZS5wYW5lbHMmJmF3YWl0IFpuKGUucGFnZS5wYW5lbHMsZSl9O3QucGFuZWxzJiZhd2FpdCBRbih0LnBhbmVscyksYXdhaXQgSG4oey4uLmUscGFnZTp0fSl9LHBvPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgQ2EoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFRhLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyxlKSkoZSl9LHdvPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgQ2EoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFRhLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3csZSkpKGUpfSxnbz1lPT5HbihlKSxobz1hc3luYyh7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pPT4oYXdhaXQgZ28oZSkpLmZpbmQoKGU9PmUucGFnZUlkPT09dCkpLG1vPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgQ2EoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFRhLlJlb3JkZXJQYWdlc0ZvcldpbmRvdyxlKSkoZSl9LGtvPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucXVldWU9W10sdGhpcy5sb2NrZWQ9ITF9bG9jaygpe3JldHVybiBuZXcgUHJvbWlzZSgoZT0+e3RoaXMubG9ja2VkP3RoaXMucXVldWUucHVzaChlKToodGhpcy5sb2NrZWQ9ITAsZSgpKX0pKX11bmxvY2soKXtpZih0aGlzLnF1ZXVlLmxlbmd0aD4wKXtjb25zdCBlPXRoaXMucXVldWUuc2hpZnQoKTtlJiZlKCl9ZWxzZSB0aGlzLmxvY2tlZD0hMX19O2FzeW5jIGZ1bmN0aW9uIGJvKGUpe2F3YWl0IGtvLmxvY2soKTt0cnl7Y29uc3QgdD1LbigpP09uKFwiZW50ZXJwcmlzZURlZmF1bHRQYWdlVGl0bGVcIik6T24oXCJkZWZhdWx0UGFnZVRpdGxlXCIpLGE9ZT8/dCxbbixvXT1hd2FpdCBQcm9taXNlLmFsbChbYW8oKSx0bygpXSkscj1bLi4ubiwuLi5vXS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7cmV0dXJuIGVvKGEscil9ZmluYWxseXtrby51bmxvY2soKX19YXN5bmMgZnVuY3Rpb24gZm8oe3BhZ2U6ZX0pe3JldHVybntzaG91bGRTaG93TW9kYWw6ISghZXx8IWUuaGFzVW5zYXZlZENoYW5nZXMpfX1hc3luYyBmdW5jdGlvbiB5byh7cGFnZTplLGlkZW50aXR5OnR9KXtjb25zdCBhPWZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpO2lmKChhd2FpdCBhLmdldEluZm8oKSkuaW5pdGlhbE9wdGlvbnMuZW5hYmxlQmVmb3JlVW5sb2FkKXtjb25zdCBhPWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldFZpZXdzKCksbj1JbihlLmxheW91dC5jb250ZW50KS5maWx0ZXIoKGU9PmUubmFtZSYmYS5zb21lKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1lLm5hbWUpKSkpLm1hcCgoZT0+ZmluLlZpZXcud3JhcFN5bmMoe25hbWU6ZS5uYW1lLHV1aWQ6dC51dWlkfSkpKSxvPWF3YWl0IHRoaXMuY2hlY2tWaWV3c0ZvclByZXZlbnRVbmxvYWQobik7aWYoby52aWV3c1ByZXZlbnRpbmdVbmxvYWQubGVuZ3RoPjApe2lmKChhd2FpdCB0aGlzLmdldFVzZXJEZWNpc2lvbkZvckJlZm9yZVVubG9hZCh7Li4ubyx3aW5kb3dJZDp0LHdpbmRvd1Nob3VsZENsb3NlOiExLGNsb3NlVHlwZTpcInBhZ2VcIn0pKS52aWV3c1RvQ2xvc2UubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuIGUucGFnZUlkLHtzaG91bGRQYWdlQ2xvc2U6ITF9fX1yZXR1cm57c2hvdWxkUGFnZUNsb3NlOiEwfX1hc3luYyBmdW5jdGlvbiBTbyh7cGFnZXM6ZSxpZGVudGl0eTp0fSl7Y29uc3QgYT1hd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoZT0+dGhpcy5zaG91bGRQYWdlQ2xvc2Uoe3BhZ2U6ZSxjbG9zZVR5cGU6XCJ3aW5kb3dcIixpZGVudGl0eTp0fSkpKSkse3BhZ2VzUHJldmVudGluZ0Nsb3NlOm4scGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2U6b309ZS5yZWR1Y2UoKChlLHQsbik9PiFhW25dLnNob3VsZFBhZ2VDbG9zZT97cGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2U6ZS5wYWdlc05vdFByZXZlbnRpbmdDbG9zZSxwYWdlc1ByZXZlbnRpbmdDbG9zZTpbLi4uZS5wYWdlc1ByZXZlbnRpbmdDbG9zZSx0XX06e3BhZ2VzUHJldmVudGluZ0Nsb3NlOmUucGFnZXNQcmV2ZW50aW5nQ2xvc2UscGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2U6Wy4uLmUucGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2UsdF19KSx7cGFnZXNQcmV2ZW50aW5nQ2xvc2U6W10scGFnZXNOb3RQcmV2ZW50aW5nQ2xvc2U6W119KTtyZXR1cm4gdGhpcy5oYW5kbGVQYWdlc0FuZFdpbmRvd0Nsb3NlKHtwYWdlc05vdFByZXZlbnRpbmdDbG9zZTpvLHBhZ2VzUHJldmVudGluZ0Nsb3NlOm4saWRlbnRpdHk6dH0pfWFzeW5jIGZ1bmN0aW9uIHZvKHtwYWdlc1ByZXZlbnRpbmdDbG9zZTplLHBhZ2VzTm90UHJldmVudGluZ0Nsb3NlOnQsaWRlbnRpdHk6YX0pe3JldHVybntzaG91bGRXaW5kb3dDbG9zZTowPT09ZS5sZW5ndGh9fWFzeW5jIGZ1bmN0aW9uIFBvKHtwYWdlOmV9KXtyZXR1cm4gZ2EoZSl9YXN5bmMgZnVuY3Rpb24gQ28oZSl7cmV0dXJue2hhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX1jb25zdCBNbz1hc3luYygpPT57Y29uc3QgZT1ibigpLHQ9KGF3YWl0IE1lKCkpLm1hcCgodD0+ZS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpKSk7YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuZ2V0UGFnZXMoKTthd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoYXN5bmMgdD0+e3QudGl0bGUsYXdhaXQgZS51cGRhdGVQYWdlKHtwYWdlSWQ6dC5wYWdlSWQscGFnZTp7aGFzVW5zYXZlZENoYW5nZXM6ITF9fSksdC5wYWdlSWQsdC50aXRsZSxhd2FpdCBjbyh7Li4udCxoYXNVbnNhdmVkQ2hhbmdlczohMX0pfSkpKX0pKSl9LHhvPW5ldyBNYXAsSW89KCk9PnhvLEFvPWU9PnhvLmRlbGV0ZShlKTtsZXQgV289ITE7Y29uc3QgRG89KCk9PntXb3x8KFdvPSEwLGZpbi5XaW5kb3cud3JhcFN5bmModmUpLm9uY2UoXCJjbG9zZWRcIiwoKCk9PntXbz0hMSwoYXN5bmMoZSx0KT0+e2F3YWl0IFl0KFF0KGUpLHtzb3VyY2U6XCJTdG9yZVwiLC4uLnR9KX0pKGZpbi5tZS5pZGVudGl0eSx7dHlwZTpcIk5hdmlnYXRpb25cIixhY3Rpb246XCJDbG9zZSBTdG9yZVwiLHNraXBWYWx1ZUhhc2hpbmc6ITB9KX0pKSl9O2xldCBUbyxCbyxSbztjb25zdCBFbz1hc3luYygpPT4odm9pZCAwPT09Um8mJihSbz0hIShhd2FpdCBZKCkpLmRpc2FibGVPcGVuRmluQW5hbHl0aWNzKSxSbyk7YXN5bmMgZnVuY3Rpb24gRm8oZSl7ZS5mb3JFYWNoKChlPT57dmFyIHQsYTtcIlBhZ2VcIj09PWUudHlwZT9cIk9wZW4gUGFnZVwiPT09ZS5hY3Rpb24/KHQ9ZS5kYXRhLnV1aWQsYT1lLHhvLnNldCh0LGEpKTpcIkNsb3NlIFBhZ2VcIj09PWUuYWN0aW9uJiZBbyhlLmRhdGEudXVpZCk6XCJTdG9yZVwiPT09ZS5zb3VyY2UmJlwiQ2xvc2VcIiE9PWUuYWN0aW9uJiZEbygpfSkpLGF3YWl0KGFzeW5jIGU9PntUbz8uc2VuZFRvT3BlbkZpbiYmKGF3YWl0IEVvKCl8fGUuZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9bmEoe30sZSk7dC5lbnRpdHlJZCYmKHQuZW50aXR5SWQudXVpZD1hd2FpdCB0YSh0LmVudGl0eUlkLnV1aWQpLHQuZW50aXR5SWQubmFtZT1hd2FpdCB0YSh0LmVudGl0eUlkLm5hbWUpKSwhZS5za2lwVmFsdWVIYXNoaW5nJiZcInZhbHVlXCJpbiB0JiYodC52YWx1ZT1hd2FpdCB0YSh0LnZhbHVlKSksQm8odCl9KSkpfSkoZSk7Y29uc3QgdD1lLm1hcCgoKHtza2lwVmFsdWVIYXNoaW5nOmUsLi4udH0pPT50KSk7dGhpcy5oYW5kbGVBbmFseXRpY3ModCl9Y29uc3QgVm89YXN5bmMgZT0+e1RvPWU7VG8/LnNlbmRUb09wZW5GaW4mJiFhd2FpdCBFbygpJiYoKCk9Pntjb25zdCBlPUwsdD1lK0suQW5hbHl0aWNzLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklGUkFNRVwiKTthLnNldEF0dHJpYnV0ZShcInNyY1wiLHQpLGEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAwcHggIWltcG9ydGFudFwiKSxhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJoZWlnaHQ6IDBweCAhaW1wb3J0YW50XCIpLGEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudFwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLEJvPWFzeW5jIHQ9PnthLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UodCxlKX19KSgpO2NvbnN0IHQ9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCk7dC5hZGRMaXN0ZW5lcihcInZpZXctY3JlYXRlZFwiLChhc3luYyBlPT57dmFyIHQ7WHQoe3R5cGU6XCJWaWV3XCIsYWN0aW9uOlwiT3BlbiBWaWV3XCIsdmFsdWU6ZS52aWV3SWRlbnRpdHkubmFtZSxkYXRhOnt1dWlkOmUudmlld0lkZW50aXR5LnV1aWQsdXJsOmF3YWl0KHQ9ZS52aWV3SWRlbnRpdHksZmluLlZpZXcud3JhcFN5bmModCkuZ2V0SW5mbygpLnRoZW4oKGU9PmUudXJsKSkpfX0pfSkpLHQuYWRkTGlzdGVuZXIoXCJ2aWV3LWRlc3Ryb3llZFwiLChhc3luYyBlPT57WHQoe3R5cGU6XCJWaWV3XCIsYWN0aW9uOlwiQ2xvc2UgVmlld1wiLHZhbHVlOmUudmlld0lkZW50aXR5Lm5hbWUsZGF0YTp7dXVpZDplLnZpZXdJZGVudGl0eS51dWlkfX0pfSkpLHQuYWRkTGlzdGVuZXIoXCJ3aW5kb3ctY2xvc2VkXCIsKGU9PntlLm5hbWUuc3RhcnRzV2l0aChtZS5Ccm93c2VyTWVudSl8fChYdCh7dHlwZTpcIldpbmRvd1wiLGFjdGlvbjpcIkNsb3NlIFdpbmRvd1wiLHZhbHVlOmUubmFtZSxkYXRhOnt1dWlkOmUudXVpZH19KSwoYXN5bmMoKT0+e2NvbnN0IGU9SW8oKSx0PWF3YWl0IHRvKCk7aWYodC5sZW5ndGg9PT1lLnNpemUpcmV0dXJuO2NvbnN0IGE9dC5yZWR1Y2UoKChlLHQpPT5lLnNldCh0LnBhZ2VJZCwxKSksbmV3IE1hcCk7Zm9yKGNvbnN0W3Qsbl1vZiBlKWEuaGFzKHQpfHwobi5hY3Rpb249XCJDbG9zZSBQYWdlXCIsWHQobiksQW8odCkpfSkoKSl9KSl9LE5vPVRlKHthbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxmcmFtZTohMSxyZXNpemFibGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExfSk7Y29uc3QgTG89ZnVuY3Rpb24oZT1Obyl7Y29uc3QgdD1uZXcgTWFwO3JldHVybiBhc3luYyhhLG4sbyxyLGkpPT57aWYodC5oYXMoYSkpe2NvbnN0e2N1cnJlbnRVcmw6ZSxjdXJyZW50TmFtZTpvfT10LmdldChhKTtpZihlPT09bilyZXR1cm47Y29uc3Qgcj1maW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmZpbi5tZS51dWlkLG5hbWU6b30pO2F3YWl0IHIuY2xvc2UoKX1jb25zdCBzPWAke21lLkJyb3dzZXJJbmRpY2F0b3J9LSR7RGF0ZS5ub3coKX0ke01hdGgucmFuZG9tKCl9YDt0LnNldChhLHtjdXJyZW50VXJsOm4sY3VycmVudE5hbWU6c30pO2NvbnN0IGM9YE5ldyAke3J9IGluZGljYXRvcjogJHtvfSAke2l9YCxsPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh7Li4uZSxuYW1lOnMsdXJsOm59KTsoKGUsdCk9Pntjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxhLnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLHR8fFwicG9saXRlXCIpLChlPT57ZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS53aWR0aD1cIjFweFwiLGUuc3R5bGUuaGVpZ2h0PVwiMXB4XCIsZS5zdHlsZS5wYWRkaW5nPVwiMFwiLGUuc3R5bGUubWFyZ2luPVwiLTFweFwiLGUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixlLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIixlLnN0eWxlLmJvcmRlcj1cIjBcIn0pKGEpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksc2V0VGltZW91dCgoKCk9PnthLmlubmVySFRNTD1lfSksMzAwKSxzZXRUaW1lb3V0KCgoKT0+e2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSl9KSwxZTMpfSkoYyksbC5vbmNlKFwiY2xvc2VkXCIsKCgpPT57dC5kZWxldGUoYSl9KSl9fSgpO2FzeW5jIGZ1bmN0aW9uIF9vKGUsdCxhLG4sbyxyKXtpZihhJiZmaW4ubWUubmFtZSE9PWEpe2NvbnN0IGk9e3R5cGU6ZSxtZXNzYWdlOnQscGFyZW50QnJvd3Nlck5hbWU6YSxzZWNvbmRhcnlNZXNzYWdlOm4saWNvbjpvLGlzRW50ZXJwcmlzZTpyfTtyZXR1cm4oYXdhaXQgQ2Eoe3V1aWQ6ZmluLm1lLnV1aWQsbmFtZTphfSkpLmRpc3BhdGNoKFRhLlNob3dCcm93c2VySW5kaWNhdG9yLGkpfWNvbnN0IGk9bmV3IFVSTFNlYXJjaFBhcmFtcztpZihpLmFwcGVuZChcInR5cGVcIixlKSxpLmFwcGVuZChcIm1lc3NhZ2VcIix0KSxpLmFwcGVuZChcInBhcmVudE5hbWVcIixhfHxcIlwiKSxpLmFwcGVuZChcInNlY29uZGFyeU1lc3NhZ2VcIixufHxcIlwiKSxpLmFwcGVuZChcImljb25cIixvfHxcIlwiKSxpLmFwcGVuZChcImlzRW50ZXJwcmlzZVwiLGAke3J9YHx8XCJcIiksYSl7Y29uc3QgZT1mZShhP3t1dWlkOlIsbmFtZTphfTp2b2lkIDApLHQ9YCR7KHM9YXdhaXQgZS5nZXRCb3VuZHMoKSkudG9wfSwke3MubGVmdH0sJHtzLmhlaWdodH0sJHtzLndpZHRofSwke3MuYm90dG9tfSwke3MucmlnaHR9LCR7cy5jb250ZW50LnRvcH0sJHtzLmNvbnRlbnQubGVmdH0sJHtzLmNvbnRlbnQuaGVpZ2h0fSwke3MuY29udGVudC53aWR0aH1gO2kuYXBwZW5kKFwicGFyZW50Qm91bmRzXCIsdCl9dmFyIHM7Y29uc3QgYz1gJHsocj9hd2FpdCBuZSgpOmF3YWl0IGFlKCkpK0suQnJvd3NlckluZGljYXRvcn0jJHtpLnRvU3RyaW5nKCl9YDtyZXR1cm4gTG8oXCJicm93c2VyXCIrYSxjLHQsZSxuKX1hc3luYyBmdW5jdGlvbiBVbyhlLHQsYSxuKXtjb25zdCBvPWF3YWl0IEh0KHQpO3JldHVybiBfbyhcInN1Y2Nlc3NcIixlLHQubmFtZSxhLG4sbyl9Y29uc3QgT289YXN5bmMoZT15ZSk9Pntjb25zdHt3b3Jrc3BhY2VQbGF0Zm9ybTp0fT1hd2FpdCBmZShlKS5nZXRPcHRpb25zKCksYT10Py5uZXdQYWdlVXJsLG49dD8ubmV3VGFiVXJsO3JldHVybntuZXdQYWdlVXJsOmEsbmV3VGFiVXJsOm59fSxHbz1hc3luYyhlPXllKT0+e2NvbnN0IHQ9YXdhaXQgSHQoZSl8fEtuKCksYT10P251bGw6YXdhaXQgYm4oKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZSgpO2xldCBuO2lmKGUmJmF3YWl0IENlKGUpKW49YXdhaXQoYXN5bmMoZSx0PXllKT0+e2NvbnN0e25ld1BhZ2VVcmw6YX09YXdhaXQgT28odCk7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtyZXR1cm4gQW4oZSxhLHQpfSkoYSxlKTtlbHNlIGlmKHQpe2NvbnN0IGU9YXdhaXQgb2UoKTtuPWF3YWl0IEFuKGEsZSl9dCYmKG4uc2V0dGluZ3M9bi5zZXR0aW5ncz8/e30sbi5kaW1lbnNpb25zPW4uZGltZW5zaW9ucz8/e30sbi5zZXR0aW5ncy5oYXNIZWFkZXJzPSExLG4uc2V0dGluZ3MucmVvcmRlckVuYWJsZWQ9ITAsbi5kaW1lbnNpb25zLmhlYWRlckhlaWdodD0wKTtjb25zdCBvPWF3YWl0IHdhKGEsbik7cmV0dXJuIHQmJihvLmhhc1Vuc2F2ZWRDaGFuZ2VzPSExKSxvfSxIbz1hc3luYyhlLHQsYSk9Pntjb25zdHt3aW5kb3dPcHRpb25zOm4sY29udGVudDpvfT1hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBIdCh0KTtyZXR1cm57dGl0bGU6XCJTd2l0Y2ggV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOmF3YWl0IHJlKGEsITEpK0suUmVzcG9uc2VNb2RhbCxuYW1lOm1lLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTM0LGRlZmF1bHRXaWR0aDo0MTAsbW9kYWxQYXJlbnRJZGVudGl0eTp0fSxjb250ZW50Ont0aXRsZTpPbihcInN3aXRjaFdvcmtzcGFjZU1vZGFsXCIse3dvcmtzcGFjZTplfSksYm9keTpPbihcInN3aXRjaFdvcmtzcGFjZU1vZGFsLndhcm5pbmdcIiksYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpPbihcImdsb2JhbC5jYW5jZWxcIiksdHlwZTpcInNlY29uZGFyeVwiLGlkOlwiQ2FuY2VsXCJ9LHtsYWJlbDpPbihcImdsb2JhbC5jb25maXJtXCIpLHR5cGU6XCJwcmltYXJ5XCIsaWQ6XCJDb25maXJtXCJ9XX19fX0pKHQsYT92b2lkIDA6ZSkscj1hd2FpdCBMZShuLGUsYSksaT17Li4ubix0b3A6ci50b3AsbGVmdDpyLmxlZnR9O3JldHVyblwiQ29uZmlybVwiPT09KGF3YWl0IGphKHtvcHRpb25zOmksY29udGVudDpvfSkpLmRhdGEuYWN0aW9uTmFtZX0sJG89YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IEh0KGUpO3JldHVybnt0aXRsZTpcIkRlbGV0ZSBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6YXdhaXQgcmUoYSwhMSkrSy5SZXNwb25zZU1vZGFsLG5hbWU6bWUuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxNDQsZGVmYXVsdFdpZHRoOjQxMCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOk9uKFwiZGVsZXRlV29ya3NwYWNlTW9kYWxcIiksYm9keTpgJHt0fWAsYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpPbihcImdsb2JhbC5jYW5jZWxcIiksdHlwZTpcInNlY29uZGFyeVwiLGlkOlwiQ2FuY2VsXCJ9LHtsYWJlbDpPbihcImdsb2JhbC5jb25maXJtXCIpLHR5cGU6XCJwcmltYXJ5XCIsaWQ6XCJDb25maXJtXCJ9XX19fX0pKGUsdCksbz1hd2FpdCBMZShhLGEubW9kYWxQYXJlbnRJZGVudGl0eSkscj17Li4uYSx0b3A6by50b3AsbGVmdDpvLmxlZnR9O3JldHVyblwiQ29uZmlybVwiPT09KGF3YWl0IGphKHtvcHRpb25zOnIsY29udGVudDpufSkpLmRhdGEuYWN0aW9uTmFtZX0sem89YXN5bmMoZSx0LGEpPT57Y29uc3R7d2luZG93T3B0aW9uczpuLGNvbnRlbnQ6b309YXdhaXQoYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj1hd2FpdCBIdChlKTtyZXR1cm57dGl0bGU6XCJQbGF0Zm9ybSBRdWl0XCIsd2luZG93T3B0aW9uczp7dXJsOmF3YWl0IHJlKG4sITEpK0suUmVzcG9uc2VNb2RhbCxuYW1lOm1lLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTM0LGRlZmF1bHRXaWR0aDo0MTAsbW9kYWxQYXJlbnRJZGVudGl0eTphP3ZvaWQgMDplfSxjb250ZW50Ont0aXRsZTpPbihcIlBsYXRmb3JtXCI9PT10P1wiY2xvc2VQbGF0Zm9ybVwiOlwiY2xvc2VQbGF0Zm9ybS53b3Jrc3BhY2VcIix7d29ya3NwYWNlOnR9KSxib2R5Ok9uKFwiY2xvc2VQbGF0Zm9ybS53YXJuaW5nXCIpLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6T24oXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwifSx7bGFiZWw6T24oXCJnbG9iYWwuY29uZmlybVwiKSx0eXBlOlwicHJpbWFyeVwiLGlkOlwiQ29uZmlybVwifV19fX19KShlLHQsYSkscj1hd2FpdCBMZShuLGUsYSksaT17Li4ubix0b3A6ci50b3AsbGVmdDpyLmxlZnR9O3JldHVyblwiQ29uZmlybVwiPT09KGF3YWl0IGphKHtvcHRpb25zOmksY29udGVudDpvfSkpLmRhdGEuYWN0aW9uTmFtZX0sS289YXN5bmMgZT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6dCxjb250ZW50OmF9PWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IEh0KGUpO3JldHVybnt0aXRsZTpcIlJlc3RvcmUgQ2hhbmdlc1wiLHdpbmRvd09wdGlvbnM6e3VybDphd2FpdCByZSh0LCExKStLLlJlc3BvbnNlTW9kYWwsbmFtZTptZS5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjEzNCxkZWZhdWx0V2lkdGg6NDEwLG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6T24oXCJyZXN0b3JlTW9kYWxcIiksYm9keTpPbihcIm1vZGFsLmRpc2NhcmRXYXJuaW5nXCIpLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6T24oXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwifSx7bGFiZWw6T24oXCJnbG9iYWwuY29uZmlybVwiKSx0eXBlOlwicHJpbWFyeVwiLGlkOlwiQ29uZmlybVwifV19fX19KShlKSxuPWF3YWl0IExlKHQsdC5tb2RhbFBhcmVudElkZW50aXR5KSxvPXsuLi50LHRvcDpuLnRvcCxsZWZ0Om4ubGVmdH07cmV0dXJuXCJDb25maXJtXCI9PT0oYXdhaXQgamEoe29wdGlvbnM6byxjb250ZW50OmF9KSkuZGF0YS5hY3Rpb25OYW1lfSxKbz1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgSHQoZSk7cmV0dXJue3RpdGxlOlwiRGVsZXRlIFBhZ2VcIix3aW5kb3dPcHRpb25zOnt1cmw6bmV3IFVSTChhd2FpdCByZShhLCExKStLLlJlc3BvbnNlTW9kYWwpLnRvU3RyaW5nKCksbmFtZTptZS5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjE3MixkZWZhdWx0V2lkdGg6NDY0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6T24oXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJcIix7dGl0bGU6dH0pLGJvZHk6T24oXCJlbnRlcnByaXNlRGVsZXRlTW9kYWwuZGVsZXRlU3VwZXJ0YWJXYXJuaW5nXCIpLGJ1dHRvbnM6e3JpZ2h0Olt7bGFiZWw6T24oXCJnbG9iYWwuY2FuY2VsXCIpLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcIkNhbmNlbFwiLHZhcmlhbnQ6YT9cIm91dGxpbmVcIjp2b2lkIDB9LHtsYWJlbDpPbihcImdsb2JhbC5kZWxldGVcIiksdHlwZTpcInByaW1hcnlcIixpZDpcIkRlbGV0ZVwiLHZhcmlhbnQ6YT9cInN1Ym1pdFwiOnZvaWQgMH1dfX19fSkoZSx0KSxvPWF3YWl0IExlKGEsYS5tb2RhbFBhcmVudElkZW50aXR5KSxyPXsuLi5hLHRvcDpvLnRvcCxsZWZ0Om8ubGVmdH07cmV0dXJuXCJEZWxldGVcIj09PShhd2FpdCBqYSh7b3B0aW9uczpyLGNvbnRlbnQ6bn0pKS5kYXRhLmFjdGlvbk5hbWV9LFpvPWFzeW5jKHtpZGVudGl0eTplLHRpdGxlOnQsZGVzY3JpcHRpb246YX0pPT57Y29uc3R7d2luZG93T3B0aW9uczpuLGNvbnRlbnQ6b309YXdhaXQoYXN5bmMoZSx0LGEpPT4oe3RpdGxlOlwiVXBkYXRlIFZlcnNpb25cIix3aW5kb3dPcHRpb25zOnt1cmw6YXdhaXQgbmUoKStLLlJlc3BvbnNlTW9kYWwsbmFtZTptZS5VcGRhdGVWZXJzaW9uTW9kYWwsZGVmYXVsdEhlaWdodDoxNzIsZGVmYXVsdFdpZHRoOjQ2NCxtb2RhbFBhcmVudElkZW50aXR5OmUscHJldmVudEJsdXI6ITAsY2xvc2VPblJlc3BvbnNlOiEwLGluY2x1ZGVJblNuYXBzaG90czohMX0sY29udGVudDp7dGl0bGU6dCxib2R5OmEsYnV0dG9uczp7cmlnaHQ6W3tsYWJlbDpcIlNub296ZVwiLHR5cGU6XCJzZWNvbmRhcnlcIixpZDpcInNub296ZVwifSx7bGFiZWw6XCJSZXN0YXJ0XCIsdHlwZTpcInByaW1hcnlcIixpZDpcInJlc3RhcnRcIn1dfX19KSkoZSx0LGEpLHI9ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDplLnV1aWQsbmFtZTpgJHtuLm5hbWV9LS0ke24ubW9kYWxQYXJlbnRJZGVudGl0eT8ubmFtZX1gfSk7dHJ5e2lmKGF3YWl0KHI/LmlzU2hvd2luZygpKSlyZXR1cm59Y2F0Y2goZSl7fWNvbnN0IGk9YXdhaXQgTGUobixuLm1vZGFsUGFyZW50SWRlbnRpdHkpLHM9ey4uLm4sdG9wOmkudG9wLGxlZnQ6aS5sZWZ0fTtyZXR1cm4oYXdhaXQgamEoe29wdGlvbnM6cyxjb250ZW50Om99KSkuZGF0YX07YXN5bmMgZnVuY3Rpb24gcW8oe29wdGlvbnM6ZSwuLi50fSl7aWYoISghIWU/LnNraXBQcm9tcHR8fGF3YWl0IEhvKGU/LnByb21wdENvbnRhaW5lcldpbmRvd0lkZW50aXR5LHQudGl0bGUsZT8uc2hvdWxkQ2VudGVyTW9kYWxPbk1vbml0b3IpKSlyZXR1cm4hMTtjb25zdCBhPSEhKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maW5kKCgoe2lkZW50aXR5OmV9KT0+ZS5uYW1lPT09bWUuRG9ja0NvbXBhbmlvbnx8ZS5uYW1lPT09bGUpKTtLbigpO2NvbnN0IG49YXx8S24oKT97Y2xvc2VFeGlzdGluZ1dpbmRvd3M6ITEsY2xvc2VTbmFwc2hvdFdpbmRvd3M6ITB9OntjbG9zZUV4aXN0aW5nV2luZG93czplPy5hcHBseVNuYXBzaG90T3B0aW9ucz8uY2xvc2VFeGlzdGluZ1dpbmRvd3M/PyEwfSxvPWJuKCk7cmV0dXJuIGF3YWl0IG8uYXBwbHlTbmFwc2hvdCh0LnNuYXBzaG90LHsuLi5lPy5hcHBseVNuYXBzaG90T3B0aW9ucz8/e30sLi4ubn0pLFlvKHQpLF9vKFwic3VjY2Vzc1wiLE9uKFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTd2l0Y2hlZFwiKSkuY2F0Y2goY29uc29sZS53YXJuKSwhMH1hc3luYyBmdW5jdGlvbiBqbyhlKXt0cnl7cmV0dXJuIGF3YWl0IHFvKGUpfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGFwcGx5IHRoZSBjdXJyZW50IHdvcmtzcGFjZTogXCIsZSksITF9fWFzeW5jIGZ1bmN0aW9uIFFvKGUpe3RyeXtjb25zdCB0PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1ibigpLHQ9YXdhaXQgZS5nZXRDdXJyZW50V29ya3NwYWNlKHtza2lwU25hcHNob3RVcGRhdGU6ITB9KTtyZXR1cm4oYXdhaXQgZS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKX0oKTtpZighdClyZXR1cm5cIm5vdC1zYXZlZC13b3Jrc3BhY2VcIjtyZXR1cm4hIWU/LnNraXBQcm9tcHR8fGF3YWl0IEtvKGU/LnByb21wdENvbnRhaW5lcldpbmRvd0lkZW50aXR5KT8oYXdhaXQgcW8oe29wdGlvbnM6e3NraXBQcm9tcHQ6ITAsYXBwbHlTbmFwc2hvdE9wdGlvbnM6ZT8uYXBwbHlTbmFwc2hvdE9wdGlvbnN9LC4uLnR9KSxcInN1Y2Nlc3NcIik6XCJ1c2VyLWRlY2xpbmVkXCJ9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihcImZhaWxlZCB0byByZXN0b3JlIGxhc3Qgc2F2ZWQgd29ya3NwYWNlOiBcIixlKSxlfX1mdW5jdGlvbiBZbyhlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO010KFd0LkN1cnJlbnRXb3Jrc3BhY2VJZCx0KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIHNldCB0aGUgYWN0aXZlIHdvcmtzcGFjZTogXCIsZSl9fWFzeW5jIGZ1bmN0aW9uIFhvKCl7Y29uc3QgZT1ibigpLHQ9YXdhaXQgZS5nZXRTbmFwc2hvdCgpO3JldHVybnt3b3Jrc3BhY2VJZDppYSgpLHRpdGxlOmF3YWl0IG5yKCksbWV0YWRhdGE6e0FQSVZlcnNpb246T30sc25hcHNob3Q6dH19YXN5bmMgZnVuY3Rpb24gZXIoZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGxvY2FsU3RvcmFnZSlyZXR1cm4gWG8oKTtjb25zdCB0PXh0KFd0LkN1cnJlbnRXb3Jrc3BhY2VJZCk7aWYoIXQpcmV0dXJuIFhvKCk7Y29uc3QgYT1KU09OLnBhcnNlKHQpO2lmKGU/LnNraXBTbmFwc2hvdFVwZGF0ZSlyZXR1cm4gYTtjb25zdCBuPWJuKCksbz1hd2FpdCBuLmdldFNuYXBzaG90KCk7cmV0dXJuey4uLmEsbWV0YWRhdGE6e0FQSVZlcnNpb246T30sc25hcHNob3Q6b319Y29uc3QgdHI9YXN5bmMoKT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuR2V0U2F2ZWRXb3Jrc3BhY2VzLHZvaWQgMCksYXI9YXN5bmMgZT0+YXdhaXQoYXN5bmMgZT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuR2V0U2F2ZWRXb3Jrc3BhY2UsZSkpKGUud29ya3NwYWNlSWQpPyhhc3luYyBlPT4oYXdhaXQgc3QoeWUpKS5kaXNwYXRjaChvdC5VcGRhdGVTYXZlZFdvcmtzcGFjZSxlKSkoe3dvcmtzcGFjZUlkOmUud29ya3NwYWNlSWQsd29ya3NwYWNlOmV9KTooYXN5bmMgZT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2U6ZX0pO2FzeW5jIGZ1bmN0aW9uIG5yKGU9XCJVbnRpdGxlZCBXb3Jrc3BhY2VcIil7Y29uc3QgdD0oYXdhaXQgdHIoKSkubWFwKCgoe3RpdGxlOmV9KT0+ZSkpO3JldHVybiBlbyhlLHQpfWNvbnN0IG9yPWU9Pih7Li4uZSxzbmFwc2hvdDp7Li4uZS5zbmFwc2hvdCx3aW5kb3dzOmUuc25hcHNob3Qud2luZG93cy5tYXAoKGU9Pih7Li4uZSx3b3Jrc3BhY2VQbGF0Zm9ybTp7Li4uZS53b3Jrc3BhY2VQbGF0Zm9ybSxwYWdlczplLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubWFwKChlPT4oey4uLmUsaGFzVW5zYXZlZENoYW5nZXM6ITF9KSkpfX0pKSl9fSkscnI9YXN5bmMoZSx0KT0+e2NvbnN0IGE9dD8/Ym4oKTthd2FpdCBhLlN0b3JhZ2Uuc2F2ZVdvcmtzcGFjZShvcihlKSksYXdhaXQoYXN5bmMoKT0+KGF3YWl0IHN0KHllKSkuZGlzcGF0Y2gob3QuTWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbCx2b2lkIDApKSgpfSxpcj1hc3luYyBlPT57Y29uc3QgdD1ibigpLGE9YXdhaXQgdC5nZXRDdXJyZW50V29ya3NwYWNlKCksbj1hd2FpdCB0LlN0b3JhZ2UuZ2V0V29ya3NwYWNlc01ldGFkYXRhKCksbz1hLndvcmtzcGFjZUlkO2lmKG4uc29tZSgoZT0+ZS53b3Jrc3BhY2VJZD09PW8pKSlhd2FpdCBycihhLHQpLGF3YWl0IHQuc2V0QWN0aXZlV29ya3NwYWNlKGEpLGF3YWl0IFVvKE9uKFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VTYXZlZFwiKSxlKTtlbHNle2NvbnN0IGE9dC5Ccm93c2VyLndyYXBTeW5jKGUpO2F3YWl0IGEuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOkkuU0FWRV9XT1JLU1BBQ0V9KX19LHNyPWU9PntibigpLkJyb3dzZXIud3JhcFN5bmMoZSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOkkuU0FWRV9XT1JLU1BBQ0VfQVN9KX0sY3I9YXN5bmMgZT0+e2NvbnN0IHQ9Ym4oKS5Ccm93c2VyLndyYXBTeW5jKGUpLHtuZXdQYWdlVXJsOmF9PWF3YWl0IE9vKCksbj1hd2FpdCBHbyhlKSxvPWF8fHZvaWQgMDthd2FpdCB0Ll9hZGREZWZhdWx0UGFnZSh7aWRlbnRpdHk6ZSxwYWdlOm4sbmV3UGFnZVVybDpvfSl9LGxyPWFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPWF3YWl0IGJuKCkuU3RvcmFnZS5nZXRQYWdlcygpLG89KGF3YWl0IGEuZ2V0UGFnZXMoKSkuZmluZCgoZT0+dD9lLnBhZ2VJZD09PXQ6ZS5pc0FjdGl2ZSkpLHI9bi5zb21lKChlPT5vLnBhZ2VJZD09PWUucGFnZUlkKSksaT1hd2FpdCBIdChlKTtpZihyKXRyeXthd2FpdCBibigpLlN0b3JhZ2Uuc2F2ZVBhZ2UoKGQ9byx7Li4uZCxoYXNVbnNhdmVkQ2hhbmdlczp2b2lkIDAscGFyZW50SWRlbnRpdHk6dm9pZCAwLGlzQWN0aXZlOnZvaWQgMCxsYXlvdXQ6eG4oZC5sYXlvdXQpfSkpLGF3YWl0IGEudXBkYXRlUGFnZSh7cGFnZUlkOm8ucGFnZUlkLHBhZ2U6e2hhc1Vuc2F2ZWRDaGFuZ2VzOiExfX0pLFVvKE9uKGk/XCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYlNhdmVkXCI6XCJzdWNjZXNzSW5kaWNhdG9yLnBhZ2VTYXZlZFwiKSxlLE9uKGk/XCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkhhc0JlZW5TYXZlZFwiOlwic3VjY2Vzc0luZGljYXRvci5wYWdlSGFzQmVlblNhdmVkXCIse3RpdGxlOm8udGl0bGV9KSl9Y2F0Y2h7cz1PbihcImVycm9ySW5kaWNhdG9yLnBhZ2VTYXZlRmFpbGVkXCIpLGM9by5wYXJlbnRJZGVudGl0eS5uYW1lLF9vKFwiZXJyb3JcIixzLGMsbCl9ZWxzZSBhLl9vcGVuU2F2ZU1vZGFsKHtpZDpvLnBhZ2VJZCxtZW51VHlwZTpJLlNBVkVfUEFHRX0pO3ZhciBzLGMsbCxkfSxkcj1hc3luYyhlLHQpPT57Y29uc3QgYT1ibigpLkJyb3dzZXIud3JhcFN5bmMoZSksbj0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSk7YS5fb3BlblNhdmVNb2RhbCh7aWQ6bi5wYWdlSWQsbWVudVR5cGU6SS5TQVZFX1BBR0VfQVN9KSxYdCh7dHlwZTpcIlBhZ2UgTW9kYWxcIixhY3Rpb246XCJTZWxlY3QgU2F2ZSBBc1wiLHZhbHVlOm4udGl0bGUsc2tpcFZhbHVlSGFzaGluZzohMH0pfSx1cj17dGl0bGU6XCJEb3dubG9hZHNcIixwYWdlSWQ6XCJkb3dubG9hZHMtcGFnZS1pZFwiLGxheW91dDp7Y29udGVudDpbe3R5cGU6XCJzdGFja1wiLGNvbnRlbnQ6W3t0eXBlOlwiY29tcG9uZW50XCIsY29tcG9uZW50TmFtZTpcInZpZXdcIixjb21wb25lbnRTdGF0ZTp7bmFtZTpcInNob3ctZG93bmxvYWQtdmlld1wiLHVybDpcImNocm9tZTovL2Rvd25sb2Fkcy9cIn19XX1dfX0scHI9YXN5bmMgZT0+e2NvbnN0IHQ9ZmUoZSksYT1hd2FpdCB0LmdldEN1cnJlbnRWaWV3cygpLG49KGF3YWl0IGJuKCkuQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KS5nZXRQYWdlcygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSk7dHJ5e2NvbnN0IHQ9KGF3YWl0IFByb21pc2UuYWxsKGEubWFwKChhc3luYyBlPT4oe2lkZW50aXR5OmUuaWRlbnRpdHksaW5mbzphd2FpdCBmaW4uVmlldy53cmFwU3luYyhlLmlkZW50aXR5KS5nZXRJbmZvKCl9KSkpKSkuZmluZCgoZT0+XCJjaHJvbWU6Ly9kb3dubG9hZHMvXCI9PT1lLmluZm8udXJsKSk7aWYodClhd2FpdCBmaW4uVmlldy53cmFwU3luYyh0LmlkZW50aXR5KS5mb2N1cygpO2Vsc2V7Y29uc3QgdD1ibigpO2lmKG4/LmlzTG9ja2VkKXtjb25zdCBlPShhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmluZCgoZT0+XCJzaG93LWRvd25sb2FkLXdpbmRvd1wiPT09ZS5pZGVudGl0eS5uYW1lKSk7cmV0dXJuIHZvaWQoZT9hd2FpdCBlLmZvY3VzKCk6dC5Ccm93c2VyLmNyZWF0ZVdpbmRvdyh7bmFtZTpcInNob3ctZG93bmxvYWQtd2luZG93XCIsd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOlt1cl19fSkpfShhd2FpdCBibigpLmNyZWF0ZVZpZXcoe25hbWU6XCJzaG93LWRvd25sb2FkLXZpZXdcIix1cmw6XCJjaHJvbWU6Ly9kb3dubG9hZHMvXCIsdGFyZ2V0OmV9LGUpKS5mb2N1cygpfX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiQ291bGRuJ3Qgb3BlbiBkb3dubG9hZHMgdmlld1wiLGUpfX0sd3I9YXN5bmMgZT0+e2NvbnN0IHQ9ZS5tYXAoKGU9PmZpbi5WaWV3LndyYXBTeW5jKGUpLnByaW50KCkpKTthd2FpdCBQcm9taXNlLmFsbCh0KX0sZ3I9ZT0+e2NvbnN0W3QsYSxuXT1lLnNwbGl0KFwiLlwiKS5tYXAoKGU9PlwieFwiPT09ZT8wOjEpKTtyZXR1cm4gMTAwKnQrMTAqYSsxKm59O2NsYXNzIGhyIGV4dGVuZHMgRXJyb3J7fWNvbnN0IG1yPWFzeW5jIGU9Pnt0cnl7Y29uc3QgYT1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9YXdhaXQgWSgpLHQ9ZT8udHJhbnNsYXRpb25PdmVycmlkZXNVcmw/P1wiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvYXNzZXRzL3RyYW5zbGF0aW9uLW92ZXJyaWRlLmpzb25cIjtpZihcIlwiPT09dCl0aHJvdyBuZXcgaHIoXCJFbXB0eSBzdHJpbmcgcHJvdmlkZWQgYXMgdXJsIHRvIHRyYW5zbGF0aW9uT3ZlcnJpZGVzVXJsLCBvdmVycmlkZXMgd2lsbCBub3QgYmUgZmV0Y2hlZC5cIik7cmV0dXJuIGF3YWl0IGZldGNoKHQpLnRoZW4oKGU9PmUuanNvbigpKSl9KCk7KHQ9KGU9Pntjb25zdCB0PU8uc3BsaXQoXCIuXCIpO3JldHVybiBPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGU9Pntjb25zdCBhPWUuc3BsaXQoXCIuXCIpO2lmKDMhPT1hLmxlbmd0aClyZXR1cm4gY29uc29sZS53YXJuKGBFbmNvdW50ZXJlZCBhIHRyYW5zbGF0aW9uIG92ZXJyaWRlIHZlcnNpb24gc3RyaW5nIGluIGFuIHVuc3VwcG9ydGVkIGZvcm1hdDogJHtlfS4gVmVyc2lvbnMgbXVzdCBiZSBpbiBBLkIuQyBmb3JtYXQgd2hlcmUgQSwgQiwgQyBhcmUgZWl0aGVyIGludGVnZXJzIG9yIHRoZSB3aWxkY2FyZCBzeW1ib2wgJ3gnLmApLCExO2NvbnN0W24sbyxyXT1hO3JldHVybiEobiE9PXRbMF0mJlwieFwiIT09bnx8byE9PXRbMV0mJlwieFwiIT09b3x8ciE9PXRbMl0mJlwieFwiIT09cil9KSl9KShhKSxbLi4udF0uc29ydCgoKGUsdCk9PmdyKGUpLWdyKHQpKSkpLmZvckVhY2goKHQ9Pntjb25zdCBuPWFbdF07T2JqZWN0LmtleXMobikuZm9yRWFjaCgodD0+e2UuYWRkUmVzb3VyY2VCdW5kbGUodCxcInRyYW5zbGF0aW9uXCIsblt0XSwhMCwhMCl9KSl9KSl9Y2F0Y2goZSl7ZSBpbnN0YW5jZW9mIGhyP2NvbnNvbGUud2FybihlLm1lc3NhZ2UpOmNvbnNvbGUuZXJyb3IoXCJFcnJvciBhcHBseWluZyBhIHRyYW5zbGF0aW9uIG92ZXJyaWRlOiBcIixlKX12YXIgdH07ZnVuY3Rpb24ga3IoKXtyZXR1cm4gUm4oKS5sYW5ndWFnZX1jb25zdCBicj1hc3luYyBlPT57U3IoZSksKGU9PntSbigpLmNoYW5nZUxhbmd1YWdlKGUpfSkoZSksYXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgTWUoKTtyZXR1cm4gUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IENhKHQuaWRlbnRpdHkpO2F3YWl0IGEuZGlzcGF0Y2goVGEuU2V0U2VsZWN0ZWRMYW5ndWFnZSxlKX0pKSl9KShlKX07ZnVuY3Rpb24gZnIoKXtpZighUm4oKS5vcHRpb25zLnJlc291cmNlcyl0aHJvdyBuZXcgRXJyb3IoXCJObyBsYW5ndWFnZSByZXNvdXJjZXMgZm91bmRcIik7cmV0dXJue2N1cnJlbnRMYW5ndWFnZTprcigpLHJlc291cmNlczpSbigpLm9wdGlvbnMucmVzb3VyY2VzfX1hc3luYyBmdW5jdGlvbiB5cihlPVwiZW4tVVNcIil7U3IoZSksZnVuY3Rpb24oZT1cImVuLVVTXCIpe1JuKCkudXNlKFRuLmluaXRSZWFjdEkxOG5leHQpLmluaXQoe2xuZzplLGZhbGxiYWNrTG5nOlwiZW4tVVNcIixyZXNvdXJjZXM6e1wiZW4tVVNcIjp7dHJhbnNsYXRpb246Vm59LFwiamEtSlBcIjp7dHJhbnNsYXRpb246TG59LFwiemgtQ05cIjp7dHJhbnNsYXRpb246RW59LFwia28tS1JcIjp7dHJhbnNsYXRpb246X259LFwicnUtUlVcIjp7dHJhbnNsYXRpb246VW59LFwiZGUtREVcIjp7dHJhbnNsYXRpb246Tm59LFwiemgtSGFudFwiOnt0cmFuc2xhdGlvbjpGbn19LGludGVycG9sYXRpb246e2VzY2FwZVZhbHVlOiExfX0pfShlKSxhd2FpdCBtcihSbigpKX1mdW5jdGlvbiBTcihlKXtpZigheC5pbmNsdWRlcyhlKSl0aHJvdyBuZXcgRXJyb3IoYFRoZSBJU08gbGFuZ3VhZ2UgcHJvdmlkZWQgJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9Y29uc3QgdnI9bmV3IE1hcDtsZXQgUHI9RGF0ZS5ub3coKTtmdW5jdGlvbiBDcigpe2NvbnN0IGU9RGF0ZS5ub3coKTtyZXR1cm4gUHI9TWF0aC5tYXgoZSxQcisxKSxQcn1hc3luYyBmdW5jdGlvbiBNcigpe2NvbnN0IGU9QXJyYXkuZnJvbSh2ci52YWx1ZXMoKSkuc29ydCgoKGUsdCk9PnQubGFzdEZvY3VzZWRUaW1lLWUubGFzdEZvY3VzZWRUaW1lKSk7aWYoZS5sZW5ndGg+MClyZXR1cm4gZVswXS5pZGVudGl0eTt0cnl7Y29uc3QgZT14dChXdC5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3cpO2lmKCFlKXJldHVybjtjb25zdCB0PUpTT04ucGFyc2UoZSk7aWYoYXdhaXQgSWUodCkpcmV0dXJuIGF3YWl0IEFyKHQpLHR9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcImZhaWxlZCB0byBnZXQgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93IGZyb20gbG9jYWxTdG9yYWdlOlwiLGUpfX1hc3luYyBmdW5jdGlvbiB4cigpe2NvbnN0IGU9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCk7cmV0dXJuKGF3YWl0IGUuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbHRlcigoZT0+ZS5pZGVudGl0eS5uYW1lLnN0YXJ0c1dpdGgobWUuQnJvd3NlcldpbmRvdykpKX1hc3luYyBmdW5jdGlvbiBJcigpe2NvbnN0IGU9Ym4oKSx0PWZpbi5XaW5kb3cud3JhcFN5bmMoe3V1aWQ6ZmluLm1lLnV1aWQsbmFtZTptZS5Eb2NrQ29tcGFuaW9ufSksYT1hd2FpdCBEZShhd2FpdCB0LmdldEJvdW5kcygpKSxuPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCxhKXtjb25zdCBuPWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSxvPWE/LmF2YWlsYWJsZVJlY3Q/P24ucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdCxyPXt3aWR0aDpvLnJpZ2h0LW8ubGVmdCxoZWlnaHQ6by5ib3R0b20tby50b3B9LGk9TWF0aC5taW4oZSxyLmhlaWdodCkscz1NYXRoLm1pbih0LHIud2lkdGgpLGM9by50b3ArTWF0aC5mbG9vcigoci5oZWlnaHQtaSkvMik7cmV0dXJue2hlaWdodDppLHdpZHRoOnMsbGVmdDpvLmxlZnQrTWF0aC5mbG9vcigoci53aWR0aC1zKS8yKSx0b3A6Y319KDYwMCw5MDAsYSksbz1hd2FpdCBHbygpO3JldHVybihhd2FpdCBlLkJyb3dzZXIuY3JlYXRlV2luZG93KHtkZWZhdWx0SGVpZ2h0OjYwMCxkZWZhdWx0V2lkdGg6OTAwLGRlZmF1bHRMZWZ0Om4ubGVmdCxkZWZhdWx0VG9wOm4udG9wLHdvcmtzcGFjZVBsYXRmb3JtOntwYWdlczpbb119fSkpLmlkZW50aXR5fWFzeW5jIGZ1bmN0aW9uIEFyKGUsdCxhPSExKXtpZighYXdhaXQgQ2UoZSkpcmV0dXJuO2NvbnN0IG49ZmluLldpbmRvdy53cmFwU3luYyhlKSxvPXQ/P2F3YWl0IG4uaXNTaG93aW5nKCkscj12ci5nZXQoZS5uYW1lKSxpPXtpZGVudGl0eTplLGxhc3RGb2N1c2VkVGltZTphP0NyKCk6cj8ubGFzdEZvY3VzZWRUaW1lPz9DcigpLGlzVmlzaWJsZTpvfTt2ci5zZXQoZS5uYW1lLGkpLGEmJmZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7TXQoV3QuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHQpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gc2F2ZSBsYXN0IGZvY3VzZWQgYnJvd3NlciB3aW5kb3c6IFwiLGUpfX0oZSl9YXN5bmMgZnVuY3Rpb24gV3IoZT1maW4ubWUuaWRlbnRpdHkpe3ZyLmRlbGV0ZShlLm5hbWUpfWNvbnN0IERyPXJhKCkoKGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLkFwcGxpY2F0aW9uLmdldENoaWxkV2luZG93cygpO2xldCB0LGE9ITE7Zm9yKGNvbnN0IG4gb2YgZSlpZihuLmlkZW50aXR5Lm5hbWU9PT1tZS5Ccm93c2VyTWVudXx8bi5pZGVudGl0eS5uYW1lPT09bWUuQnJvd3NlclNhdmVNZW51P3Q9bjphd2FpdCBDZShuLmlkZW50aXR5KSYmKGE9ITApLGEpYnJlYWs7IWEmJnQmJnQuY2xvc2UoKX0pLDEwMCx7bGVhZGluZzohMSx0cmFpbGluZzohMH0pO2xldCBUcj17fTtjb25zdCBCcj1hc3luYyh7YWN0aW9uSWQ6ZSxwYXlsb2FkOnR9KT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFRyW2VdKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBjb25maWd1cmVkIGZ1bmN0aW9uIGZvciB0aGUgYWN0aW9uICcke2V9J2ApO3JldHVybiBUcltlXSh0KX07bGV0IFJyO2NvbnN0IEVyPSgpPT5gY3VzdG9tLWNvbnRleHQtbWVudS0ke2JuKCkuaWRlbnRpdHkudXVpZH0tJHtPfWAsRnI9KCk9PmBjdXN0b20tYm9va21hcmstY29udGV4dC1tZW51LSR7Ym4oKS5pZGVudGl0eS51dWlkfS0ke099YCxWcj1hc3luYygpPT4oUnJ8fChScj1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoRXIoKSkpLFJyKTt2YXIgTnIsTHI7IWZ1bmN0aW9uKGUpe2UuU2F2ZT1cIlNhdmVcIixlLlNhdmVBcz1cIlNhdmVBc1wifShOcnx8KE5yPXt9KSksZnVuY3Rpb24oZSl7ZS5HbG9iYWxNZW51PVwiZ2xvYmFsLW1lbnVcIixlLkNvbnRleHRNZW51PVwiY29udGV4dC1tZW51XCIsZS5SZW5hbWVTdXBlcnRhYj1cInJlbmFtZS1zdXBlcnRhYlwiLGUuQWRkRWRpdEJvb2ttYXJrPVwiYWRkLWVkaXQtYm9va21hcmtcIixlLkRyb3Bkb3duTWVudT1cImRyb3Bkb3duLW1lbnVcIixlLlpvb21Db250cm9scz1cInpvb20tY29udHJvbHNcIn0oTHJ8fChMcj17fSkpO2NvbnN0IF9yPShlLHQ9XCJcIik9PmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpLFVyPVwidmlzaXRlZC1zaXRlc1wiLE9yPVwicmVtb3ZlZC10YWItc3RhY2tcIixHcj1UJiZXJiZCdChcIm9wZW5maW4taG9tZS1wYWdlc1wiLFwicGFnZXNcIiksSHI9VCYmVyYmbmV3IHZ0LkRleGllKER0KFwib3BlbmZpbi1lbnRlcnByaXNlLXNpdGUtaGlzdG9yeVwiKSk7SHImJkhyLnZlcnNpb24oLjEpLnN0b3Jlcyh7W1VyXTpcImlkLCB1cmxcIn0pO2NvbnN0ICRyPVQmJlcmJm5ldyB2dC5EZXhpZShEdChcIm9wZW5maW4tZW50ZXJwcmlzZS10YWItaGlzdG9yeVwiKSk7YXN5bmMgZnVuY3Rpb24genIoZSl7aWYoIUdyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgcGFnZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PWF3YWl0IEdyLnBhZ2VzLmdldChlKTtpZih0KXJldHVybiB0LnBhZ2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LnBhZ2VJZCx0fWFzeW5jIGZ1bmN0aW9uIEtyKGUpe2lmKCFHcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IHBhZ2UgbGlzdCAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PWF3YWl0IEdyLnBhZ2VzLnRvQ29sbGVjdGlvbigpLmtleXMoKSxhPShhd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+enIoZS50b1N0cmluZygpKSkpKSkuZmlsdGVyKChlPT4hIWUpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+X3IodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24gSnIoe3BhZ2U6ZX0pe2lmKCFHcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHBhZ2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgR3IucGFnZXMucHV0KGUsZS5wYWdlSWQpfWFzeW5jIGZ1bmN0aW9uIFpyKGUpe2lmKCFHcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGVsZXRlIHBhZ2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgR3IucGFnZXMuZGVsZXRlKGUpfWFzeW5jIGZ1bmN0aW9uIHFyKHtwYWdlSWQ6ZSxwYWdlOnR9KXtpZighR3IpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHVwZGF0ZSBwYWdlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2lmKHZvaWQgMD09PWF3YWl0IHpyKGUpKXRocm93IG5ldyBFcnJvcihcInBhZ2Ugbm90IGZvdW5kXCIpO2F3YWl0IEpyKHtwYWdlOnR9KSxlIT09dC5wYWdlSWQmJmF3YWl0IFpyKGUpfSRyJiYkci52ZXJzaW9uKC4xKS5zdG9yZXMoe1tPcl06XCJcIn0pO2NvbnN0IGpyPWFzeW5jIGU9PntpZighJHIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGFkZCByZW1vdmVkIHRhYiAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtjb25zdCB0PURhdGUubm93KCkudG9TdHJpbmcoKSxhPXsuLi5lLGlkOnR9O2F3YWl0ICRyW09yXS5wdXQoYSx0KX07ZnVuY3Rpb24gUXIoZSl7cmV0dXJuXCJhcHBcIj09PWUudHlwZXx8XCJ3ZWJzaXRlXCI9PT1lLnR5cGV9Y29uc3QgWXI9YXN5bmMgZT0+e2lmKFwid2Vic2l0ZVwiPT09ZS50eXBlKXtjb25zdCB0PWUsYT10LnVybHx8XCJcIjtsZXQgbj1hd2FpdCBIcltVcl0uZ2V0KGEpO24mJlFyKG4pPyhuLmljb249dC5pY29uLG4udGl0bGU9dC50aXRsZSxuLnR5cGU9dC50eXBlLG4udmlzaXRDb3VudD0obi52aXNpdENvdW50fHwwKSsxLG4udXJsPXQudXJsKTpuPXsuLi50LGlkOmEsdmlzaXRDb3VudDoxLGFjY2Vzc1RpbWU6dm9pZCAwfSxuLmFjY2Vzc1RpbWU9RGF0ZS5ub3coKSxhd2FpdCBIcltVcl0ucHV0KG4sYSl9fSxYcj1hc3luYygpPT57aWYoIUhyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgZnJlcXVlbnRseSB2aXNpdGVkIHNpdGVzIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IGU9SHJbVXJdLHQ9YXdhaXQgZS50b0NvbGxlY3Rpb24oKS50b0FycmF5KCk7dC5zb3J0KCgoZSx0KT0+KHQudmlzaXRDb3VudHx8MCktKGUudmlzaXRDb3VudHx8MCkpKTtyZXR1cm4odC5sZW5ndGg+NT90LnNsaWNlKDAsNSk6dCkubWFwKCgoe2lkOmUsLi4udH0pPT50KSl9O2NvbnN0IGVpPWFzeW5jKCk9Pihhd2FpdCBmaW4uU3lzdGVtLmdldEhvc3RTcGVjcygpKS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ3aW5kb3dzXCIpLHRpPWFzeW5jKHticm93c2VySWRlbnRpdHk6ZSx1cmw6dCxzaGlmdEtleTphLGFjdGl2ZVBhZ2U6bixwYWdlczpvfSk9Pntjb25zdCByPWJuKCkuQnJvd3Nlci53cmFwU3luYyhlKSxpPWF3YWl0IEFuKHQsdCxlKSxzPXsuLi5hd2FpdCB3YSh0LGkpLGF0dGFjaGVkUGFnZVR5cGU6XCJzaW5nbGVWaWV3XCIsc2luZ2xlVmlld05hbWU6dH0sYz1vLmZpbmRJbmRleCgoZT0+ZS5wYWdlSWQ9PT1uLnBhZ2VJZCkpO2F3YWl0IHIuX2FkZFBhZ2Uocyx7aW5kZXg6YysxfSksYSYmYXdhaXQgci5zZXRBY3RpdmVQYWdlKHMucGFnZUlkKX0sYWk9YXN5bmMgZT0+e2NvbnN0e3VybDp0fT1lLmJvb2ttYXJrLHtzb3VyY2VJZGVudGl0eTphLHNvdXJjZUV2ZW50Om59PWUsbz1hd2FpdCBlaSgpLHI9Ym4oKTtsZXQgaT0hMSxzPWE7aWYoIWF3YWl0IENlKGEpKXtjb25zdCB0PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1BcnJheS5mcm9tKHZyLnZhbHVlcygpKTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSlpZihlW3RdLmlzVmlzaWJsZSlyZXR1cm4gZVt0XS5pZGVudGl0eX0oKTtpZighdClyZXR1cm4gYXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9Ym4oKSxhPWF3YWl0IEFuKGUudXJsLGUudXJsKSxuPWF3YWl0IHdhKGUudXJsLGEpO1BlKChhd2FpdCB0LkJyb3dzZXIuY3JlYXRlV2luZG93KHt3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W25dfX0pKS5pZGVudGl0eSl9KShlLmJvb2ttYXJrKTtpPSEwLHM9dH1jb25zdCBjPXIuQnJvd3Nlci53cmFwU3luYyhzKSxsPWF3YWl0IGMuZ2V0UGFnZXMoKSxkPShhd2FpdCBjLl9nZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3MoKSkuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2lmKCFkKXRocm93IEVycm9yKGBCcm93c2VyICR7c30gZG9lcyBub3QgaGF2ZSBhbnkgYWN0aXZlIGxheW91dHNgKTtjb25zdCB1PWwuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpLHA9MT09PURuKHUubGF5b3V0LmNvbnRlbnQpLHc9ZC5zZWxlY3RlZFZpZXdzWzBdO2k/YXdhaXQgdGkoe2Jyb3dzZXJJZGVudGl0eTpzLHVybDp0LHNoaWZ0S2V5OiEwLGFjdGl2ZVBhZ2U6dSxwYWdlczpsfSk6cD9hd2FpdChhc3luYyh7aXNXaW5kb3dzOmUsY3VycmVudFZpZXdJZDp0LGJyb3dzZXJJZGVudGl0eTphLHVybDpuLGFjdGl2ZVBhZ2U6byxwYWdlczpyLHNvdXJjZUV2ZW50Oml9KT0+e2NvbnN0e2N0cmxLZXk6cyxtZXRhS2V5OmMsc2hpZnRLZXk6bH09aTsoZT9zOmMpP2F3YWl0IHRpKHticm93c2VySWRlbnRpdHk6YSx1cmw6bixzaGlmdEtleTpsLGFjdGl2ZVBhZ2U6byxwYWdlczpyfSk6YXdhaXQgZmluLlZpZXcud3JhcFN5bmModCkubmF2aWdhdGUobil9KSh7aXNXaW5kb3dzOm8sY3VycmVudFZpZXdJZDp3LGJyb3dzZXJJZGVudGl0eTpzLHVybDp0LGFjdGl2ZVBhZ2U6dSxwYWdlczpsLHNvdXJjZUV2ZW50Om59KTphd2FpdChhc3luYyh7aXNXaW5kb3dzOmUsY3VycmVudFZpZXdJZDp0LGJyb3dzZXJJZGVudGl0eTphLHVybDpuLGFjdGl2ZUxheW91dDpvLHNvdXJjZUV2ZW50OnJ9KT0+e2NvbnN0e2N0cmxLZXk6aSxtZXRhS2V5OnMsc2hpZnRLZXk6Y309cjtpZihlP2k6cyl7Y29uc3QgZT1maW4uVmlldy53cmFwU3luYyh0KSxvPWF3YWl0IGUuZ2V0Q3VycmVudFN0YWNrKCkscj0oYXdhaXQgby5nZXRWaWV3cygpKS5maW5kSW5kZXgoKGU9PmUubmFtZT09PXQubmFtZSkpLGk9e3VybDpuLGJyb3dzZXJJZGVudGl0eTphLHRpdGxlOm59O2F3YWl0IG8uYWRkVmlldyhpLHtpbmRleDpyKzF9KX1lbHNlIGF3YWl0IGZpbi5WaWV3LndyYXBTeW5jKG8uc2VsZWN0ZWRWaWV3c1swXSkubmF2aWdhdGUobil9KSh7aXNXaW5kb3dzOm8sY3VycmVudFZpZXdJZDp3LGJyb3dzZXJJZGVudGl0eTpzLHVybDp0LGFjdGl2ZUxheW91dDpkLHNvdXJjZUV2ZW50Om59KX07dmFyIG5pOyFmdW5jdGlvbihlKXtlLkxhYmVsPVwibm9ybWFsXCIsZS5TZXBhcmF0b3I9XCJzZXBhcmF0b3JcIixlLlN1Ym1lbnU9XCJzdWJtZW51XCIsZS5DaGVja2JveD1cImNoZWNrYm94XCJ9KG5pfHwobmk9e30pKTtsZXQgb2k9e2xvY2tlZDohMSx4Oi0xLHk6LTF9O2NvbnN0IHJpPWFzeW5jKGUsdCxhLG4pPT57aWYoIVcpdGhyb3cgbmV3IEVycm9yKFwic2hvd0VudGVycHJpc2VDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGEgSGVyZSBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO2lmKCFuJiYhZmluLm1lLmlzV2luZG93KXRocm93IG5ldyBFcnJvcihcInNob3dFbnRlcnByaXNlQ29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhIEhlcmUgd2luZG93LlwiKTtjb25zdHt4Om8seTpyLHRlbXBsYXRlOml9PWU7aWYoKChlLHQpPT57Y29uc3R7eDphLHk6bixsb2NrZWQ6b309b2k7cmV0dXJuIG8mJmU9PT1hJiZ0PT09bn0pKG8scikpcmV0dXJuIG5ldyBQcm9taXNlKCgoZSx0KT0+ZSh7ZGF0YTp2b2lkIDB9KSkpO29pPXtsb2NrZWQ6ITAseDpvLHk6cn07Y29uc3Qgcz1hd2FpdCBWcigpLGM9aWEoKSxsPW5ldyBQcm9taXNlKCgoZSx0KT0+e3MucmVnaXN0ZXIoYHJlc3BvbnNlLSR7Y31gLCh0PT57b2kubG9ja2VkPSExLHMucmVtb3ZlKGByZXNwb25zZS0ke2N9YCksZSh0KX0pKX0pKTtyZXR1cm4gYXdhaXQgcy5kaXNwYXRjaChcIm9wZW5cIix7cGFyZW50SWRlbnRpdHk6bi5pZGVudGl0eSxyZXNwb25zZUlkZW50aXR5OnllLHJlcXVlc3RJZDpjLHR5cGU6dCxhbmNob3JCZWhhdmlvcjphLHg6byx5OnIscGF5bG9hZDp7dGVtcGxhdGU6aX19KSxsfSxpaT17dHlwZTpuaS5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LHNpPWFzeW5jKCk9Pih7dHlwZTpuaS5TdWJtZW51LGxhYmVsOk9uKFwiY29udGV4dE1lbnUucHJpbnRcIiksc3VibWVudTpbe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCIpLGRhdGE6e3R5cGU6Uy5QcmludH19LHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiY29udGV4dE1lbnUuc3VibWVudS5wcmludEFsbFwiKSxkYXRhOnt0eXBlOlMuUHJpbnRBbGx9fSxpaSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnByaW50U2NyZWVuXCIpLGRhdGE6e3R5cGU6Uy5QcmludFNjcmVlbn19XX0pLGNpPSgpPT4oe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5jbG9zZVdpbmRvd1wiKSxkYXRhOnt0eXBlOm0uQ2xvc2VXaW5kb3d9fSksbGk9ZT0+KHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKGU/XCJjb250ZXh0TWVudS5xdWl0RW50ZXJwcmlzZUJyb3dzZXJcIjpcImNvbnRleHRNZW51LnF1aXRQbGF0Zm9ybVwiKSxkYXRhOnt0eXBlOm0uUXVpdH19KSxkaT0oKT0+KHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiY29udGV4dE1lbnUubmV3V2luZG93XCIpLGRhdGE6e3R5cGU6bS5OZXdXaW5kb3d9fSksdWk9ZT0+KHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKGU/XCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiXCI6XCJjb250ZXh0TWVudS5zYXZlUGFnZVwiKSxkYXRhOnt0eXBlOm0uU2F2ZVBhZ2V9fSkscGk9ZT0+KHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKGU/XCJlbnRlcnByaXNlQ29udGV4dE1lbnUuc2F2ZVN1cGVydGFiQXNcIjpcImNvbnRleHRNZW51LnNhdmVQYWdlQXNcIiksZGF0YTp7dHlwZTptLlNhdmVQYWdlQXN9fSksd2k9KGUsdCk9Pih7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbih0P1wiZW50ZXJwcmlzZUNvbnRleHRNZW51Lm5ld1RhYlwiOlwiY29udGV4dE1lbnUubmV3UGFnZVwiKSxkYXRhOnt0eXBlOm0uTmV3UGFnZX0sZW5hYmxlZDplfSksZ2k9KCk9Pih7bGFiZWw6T24oXCJjb250ZXh0TWVudS5zd2l0Y2hXb3Jrc3BhY2VcIil9KSxoaT0oKT0+KHtsYWJlbDpPbihcImNvbnRleHRNZW51LmRlbGV0ZVdvcmtzcGFjZVwiKX0pLG1pPSgpPT4oe2xhYmVsOk9uKFwiY29udGV4dE1lbnUuYXBwZWFyYW5jZVwiKX0pLGtpPShlLHQsYSk9PnQubWFwKCh0PT57Y29uc3Qgbj10LndvcmtzcGFjZUlkPT09ZS53b3Jrc3BhY2VJZDtyZXR1cm57bGFiZWw6dC50aXRsZSx0eXBlOm5pLkNoZWNrYm94LGVuYWJsZWQ6IW4sY2hlY2tlZDpuLGRhdGE6e3R5cGU6YSx3b3Jrc3BhY2VJZDp0LndvcmtzcGFjZUlkfX19KSksYmk9YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgYm4oKS5UaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpO3JldHVyblt7bGFiZWw6T24oXCJ0aGVtZS5saWdodFwiKSx0eXBlOm5pLkNoZWNrYm94LGNoZWNrZWQ6ZT09PWsuTGlnaHQsZGF0YTp7dHlwZTptLkFwcGVhcmFuY2Usc2NoZW1lOmsuTGlnaHR9fSx7bGFiZWw6T24oXCJ0aGVtZS5kYXJrXCIpLHR5cGU6bmkuQ2hlY2tib3gsY2hlY2tlZDplPT09ay5EYXJrLGRhdGE6e3R5cGU6bS5BcHBlYXJhbmNlLHNjaGVtZTprLkRhcmt9fSx7bGFiZWw6T24oXCJ0aGVtZS5zeXN0ZW1cIiksdHlwZTpuaS5DaGVja2JveCxjaGVja2VkOmU9PT1rLlN5c3RlbSxkYXRhOnt0eXBlOm0uQXBwZWFyYW5jZSxzY2hlbWU6ay5TeXN0ZW19fV19LGZpPWFzeW5jKGUsdD1bXSk9Pntjb25zdCBhPWF3YWl0IEFlKCkse25ld1BhZ2VVcmw6bn09YXdhaXQgT28oZSksbz1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1mZShlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmRpc2FibGVNdWx0aXBsZVBhZ2VzfSkoZSkscj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1mZShlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmlzTG9ja2VkfSkoZSksaT1hd2FpdCBIdChlKSxzPVtdLGM9dC5sZW5ndGg+MDtuJiYocy5wdXNoKGRpKCkpLG98fHMucHVzaCh3aSghcixpKSkpLHMucHVzaChpaSk7Y29uc3QgbD1ibigpLGQ9YXdhaXQgbC5nZXRDdXJyZW50V29ya3NwYWNlKHtza2lwU25hcHNob3RVcGRhdGU6ITB9KSx1PWF3YWl0IGwuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzTWV0YWRhdGEoKSxwPXUuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PWQud29ya3NwYWNlSWQpKTtzLnB1c2goe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5yZXN0b3JlXCIpLGRhdGE6e3R5cGU6bS5SZXN0b3JlQ2hhbmdlc30sZW5hYmxlZDohIXB9KSxzLnB1c2goe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCIpLGRhdGE6e3R5cGU6bS5TYXZlV29ya3NwYWNlfSxlbmFibGVkOiEhcH0pLHMucHVzaCh7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnNhdmVXb3Jrc3BhY2VBc1wiKSxkYXRhOnt0eXBlOm0uU2F2ZVdvcmtzcGFjZUFzfX0pLHMucHVzaCh7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnJlbmFtZVdvcmtzcGFjZVwiKSxkYXRhOnt0eXBlOm0uUmVuYW1lV29ya3NwYWNlfSxlbmFibGVkOiEhcH0pLHUuc29tZSgoZT0+ZS53b3Jrc3BhY2VJZCE9PWQud29ya3NwYWNlSWQpKT9zLnB1c2goe2xhYmVsOmdpKCkubGFiZWwsc3VibWVudTpraShkLHUsbS5Td2l0Y2hXb3Jrc3BhY2UpLGRhdGE6dm9pZCAwfSx7bGFiZWw6aGkoKS5sYWJlbCxzdWJtZW51OmtpKGQsdSxtLkRlbGV0ZVdvcmtzcGFjZSksZGF0YTp2b2lkIDB9KTpzLnB1c2goe2xhYmVsOmdpKCkubGFiZWwsZW5hYmxlZDohMSxkYXRhOnZvaWQgMH0se2xhYmVsOmhpKCkubGFiZWwsZW5hYmxlZDohMSxkYXRhOnZvaWQgMH0pLHMucHVzaCh7bGFiZWw6T24oXCJjb250ZXh0TWVudS5kb3dubG9hZHNcIiksZGF0YTp7dHlwZTptLkRvd25sb2Fkc319KTtjb25zdCB3PWF3YWl0IGwuVGhlbWUuZ2V0VGhlbWVzKCk7cmV0dXJuKHcmJndbMF0mJlwicGFsZXR0ZXNcImluIHdbMF18fCF3WzBdfHwwPT09dy5sZW5ndGgpJiZzLnB1c2goe2xhYmVsOm1pKCkubGFiZWwsc3VibWVudTphd2FpdCBiaSgpLGRhdGE6dm9pZCAwfSkscy5wdXNoKGlpLHVpKGkpLHBpKGkpLGF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGVpKCk7cmV0dXJue2xhYmVsOk9uKFwiY29udGV4dE1lbnUucHJpbnRcIiksc3VibWVudTpbe3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5zdWJtZW51LnByaW50XCIpLGRhdGE6e3R5cGU6bS5QcmludH0sZW5hYmxlZDplfSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImNvbnRleHRNZW51LnN1Ym1lbnUucHJpbnRBbGxcIiksZGF0YTp7dHlwZTptLlByaW50QWxsfX0sLi4udD9baWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5wcmludFNjcmVlblwiKSxkYXRhOnt0eXBlOm0uUHJpbnRTY3JlZW59fV06W11dLGRhdGE6dm9pZCAwfX0pKGMpKSxhP1suLi5zLGNpKCksaWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5vcGVuU3RvcmVmcm9udFwiKSxkYXRhOnt0eXBlOm0uT3BlblN0b3JlZnJvbnR9fSxpaSxsaSgpXTpbLi4ucyxpaSxjaSgpLGlpLGxpKCldfSx5aT1hc3luYyhlLHQpPT57Y29uc3QgYT10LnNlbGVjdGVkVmlld3NbMF0sbj1maW4uVmlldy53cmFwU3luYyhhKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdHtuZXdUYWJVcmw6dH09YXdhaXQgT28oZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdUYWJVcmwgc2V0XCIpO3JldHVybnt1cmw6dCx0YXJnZXQ6ZSx0aXRsZTpcIk5ldyBUYWJcIn19KShlKTthd2FpdCBibigpLmNyZWF0ZVZpZXcobyxlLG4uaWRlbnRpdHkpfSxTaT1hc3luYyhlLHQpPT57Y29uc3QgYT1ibigpLkJyb3dzZXIud3JhcFN5bmMoZSksbj0oYXdhaXQgYS5nZXRQYWdlcygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSksbz1hd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldEN1cnJlbnRWaWV3cygpO2lmKHQubGVuZ3RoPT09by5sZW5ndGgtKG4ucGFuZWxzPz9bXSkubGVuZ3RoKXtyZXR1cm4gdm9pZChhd2FpdCBDYShlKSkuZGlzcGF0Y2goVGEuQ2xvc2VQYWdlLHtwYWdlSWQ6bj8ucGFnZUlkfSl9Y29uc3Qgcj1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTt0LmZvckVhY2goKGFzeW5jIHQ9Pntjb25zdCBvPWF3YWl0IGZpbi5WaWV3LndyYXBTeW5jKHQpLmdldFBhcmVudExheW91dCgpO2F3YWl0IHIuY2xvc2VWaWV3KHQpO2NvbnN0e2hhc1Vuc2F2ZWRDaGFuZ2VzOml9PWF3YWl0KGFzeW5jIGU9Pihhd2FpdCBjdCh5ZSkpLmRpc3BhdGNoKG90LkhhbmRsZVBhZ2VDaGFuZ2VzLGUpKSh7cGFnZTp7Li4ubixsYXlvdXQ6YXdhaXQgby5nZXRDb25maWcoKX0saWRlbnRpdHk6ZSxldmVudERldGFpbHM6e3R5cGU6aC5WaWV3UmVtb3ZlZCx2aWV3SWRlbnRpdHk6dH19KTtpJiZhd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDpuLnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMH19KX0pKX0sdmk9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQoZT0+UHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PmZpbi5WaWV3LndyYXBTeW5jKGUpLmdldEluZm8oKSkpKSkodCkse25ld1BhZ2VVcmw6bixuZXdUYWJVcmw6b309YXdhaXQgT28oZSk7YS5mb3JFYWNoKChhc3luYyBlPT57ZS51cmwhPT1uJiZlLnVybCE9PW8mJmF3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKGUudXJsKX0pKX0sUGk9KGUsdCk9Pnt0LmZvckVhY2goKGFzeW5jIHQ9Pntjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpO2F3YWl0KGFzeW5jKGUsdCk9Pntjb25zdHt1cmw6YX09YXdhaXQgdC5nZXRJbmZvKCksbj17Li4uYXdhaXQgdC5nZXRPcHRpb25zKCksdXJsOmEsdGFyZ2V0OmUsbmFtZTp2b2lkIDB9O2F3YWl0IGJuKCkuY3JlYXRlVmlldyhuLGUsdC5pZGVudGl0eSl9KShlLGEpfSkpfSxDaT1hc3luYyhlLHQsYSk9Pntjb25zdCBuPXtuZXdDaGFubmVsSWQ6dCxzZWxlY3RlZFZpZXdzOmF9Oyhhd2FpdCBDYShlKSkuZGlzcGF0Y2goVGEuQWRkVG9DaGFubmVsLG4pfSxNaT1hc3luYyhlLHQpPT57KGF3YWl0IENhKGUpKS5kaXNwYXRjaChUYS5SZW1vdmVGcm9tQ2hhbm5lbCx0KX0seGk9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHksbj1maW4uV2luZG93LndyYXBTeW5jKGEpO3N3aXRjaChYdCh7dHlwZTpcIlZpZXcgVGFiIE1lbnVcIixhY3Rpb246XCJTZWxlY3QgTWVudSBJdGVtXCIsdmFsdWU6ZS50eXBlLHNraXBWYWx1ZUhhc2hpbmc6ITB9KSxlLnR5cGUpe2Nhc2UgUy5CYWNrOmF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWUubWFwKChlPT5maW4uVmlldy53cmFwU3luYyhlKS5uYXZpZ2F0ZUJhY2soKSkpO2F3YWl0IFByb21pc2UuYWxsKHQpfSkodC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIFMuRm9yd2FyZDphd2FpdChhc3luYyBlPT57Y29uc3QgdD1lLm1hcCgoZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkubmF2aWdhdGVGb3J3YXJkKCkpKTthd2FpdCBQcm9taXNlLmFsbCh0KX0pKHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBTLlByaW50OmF3YWl0IHdyKHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBTLlByaW50QWxsOmF3YWl0IG4ucHJpbnQoe2NvbnRlbnQ6XCJ2aWV3c1wiLGluY2x1ZGVTZWxmOiExfSk7YnJlYWs7Y2FzZSBTLlByaW50U2NyZWVuOmF3YWl0IG4ucHJpbnQoe2NvbnRlbnQ6XCJzY3JlZW5zaG90XCJ9KTticmVhaztjYXNlIFMuQ2xvc2VWaWV3czphd2FpdCBTaShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBTLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI6YXdhaXQgdmkoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgUy5SZWxvYWRWaWV3czp0LnNlbGVjdGVkVmlld3MuZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlZpZXcud3JhcFN5bmMoZSk7YXdhaXQgdC5yZWxvYWQoKX0pKTticmVhaztjYXNlIFMuTmV3Vmlldzphd2FpdCB5aShhLHQpO2JyZWFrO2Nhc2UgUy5EdXBsaWNhdGVWaWV3czpQaShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBTLkFkZFRvQ2hhbm5lbDpDaShhLGUub3B0aW9uLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBTLlJlbW92ZUZyb21DaGFubmVsOk1pKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIFMuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBuPXtjYWxsZXJUeXBlOk0uVmlld1RhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OmEsc2VsZWN0ZWRWaWV3czp0LnNlbGVjdGVkVmlld3MsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtibigpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsbil9fX0sSWk9KHJlcXVpcmUoXCJ0aXRsZS1jYXNlXCIpLG5ldyBNYXAoW1tcImJsdWVcIix7bmFtZTpcIkJsdWVcIixjb2xvcjpcIiMwMDkxRUJcIn1dLFtcImluZGlnb1wiLHtuYW1lOlwiSW5kaWdvXCIsY29sb3I6XCIjNjQ1MEZGXCJ9XSxbXCJwaW5rXCIse25hbWU6XCJQaW5rXCIsY29sb3I6XCIjRTg3OENGXCJ9XSxbXCJ0ZWFsXCIse25hbWU6XCJUZWFsXCIsY29sb3I6XCIjMjREMUQxXCJ9XSxbXCJncmVlblwiLHtuYW1lOlwiR3JlZW5cIixjb2xvcjpcIiMwMEFGNzhcIn1dLFtcIm9yYW5nZVwiLHtuYW1lOlwiT3JhbmdlXCIsY29sb3I6XCIjRkY3RDM3XCJ9XSxbXCJyZWRcIix7bmFtZTpcIlJlZFwiLGNvbG9yOlwiI0Y5NDE0NFwifV0sW1wieWVsbG93XCIse25hbWU6XCJZZWxsb3dcIixjb2xvcjpcIiNGOUM3NEZcIn1dLFtcImdyYXlcIix7bmFtZTpcIkdyYXlcIixjb2xvcjpcIiM4Mjg3ODhcIn1dXSkpO2Z1bmN0aW9uIEFpKCl7cmV0dXJue3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5tYW5hZ2VEZXNrdG9wU2lnbmFsc1wiKSxkYXRhOnt0eXBlOmIuTWFuYWdlRGVza3RvcFNpZ25hbHN9fX1mdW5jdGlvbiBXaShlKXtjb25zdCB0PUFycmF5LmZyb20oSWkuZW50cmllcygpKSxhPWUuY29udGV4dEdyb3VwO3JldHVybnt0eXBlOlwid2lkZ2V0XCIsY29uZmlnOnt0eXBlOlwiYWRkLXRvLWNoYW5uZWxcIixjaGFubmVsczpbLi4udC5tYXAoKChbZSx0XSk9Pih7bGFiZWw6dC5uYW1lLGRhdGE6e3R5cGU6Yi5BZGRUb0NoYW5uZWwsb3B0aW9uOmV9LGNvbG9yOnQuY29sb3IsY2hlY2tlZDphPT09ZX0pKSkse2xhYmVsOlwidW5saW5rXCIsZGF0YTp7dHlwZTpiLkFkZFRvQ2hhbm5lbCxvcHRpb246XCJ1bmxpbmtcIn0saXNOb25lOiEwfV19LGxhYmVsOlwiTGluayB0byBDaGFubmVsXCJ9fWxldCBEaT1cIlBsYXRmb3JtXCI7Y29uc3QgVGk9YXN5bmMoKT0+RGk7Y29uc3QgQmk9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHksbj1hd2FpdCBDYShhKSxvPWJuKCkuQnJvd3Nlci53cmFwU3luYyhhKSxyPWZpbi5XaW5kb3cud3JhcFN5bmMoYSk7aWYoWHQoe3R5cGU6XCJHbG9iYWwgTWVudVwiLGFjdGlvbjpcIlNlbGVjdCBNZW51IEl0ZW1cIix2YWx1ZTplLnR5cGUsc2tpcFZhbHVlSGFzaGluZzohMCxkYXRhOnthY3Rpb246ZS5hY3Rpb24/LmlkfX0pLGF3YWl0IEh0KGEpKXtjb25zdCBhPWF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPXQuaWRlbnRpdHksbj1ibigpLkJyb3dzZXIud3JhcFN5bmMoYSksbz0oYXdhaXQgbi5nZXRQYWdlcygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSkscj1oYSh7Li4uYSxsYXlvdXROYW1lOm8ubGF5b3V0Q29udGFpbmVyS2V5fSksaT10LnNlbGVjdGVkVmlld3M7c3dpdGNoKGU/LnR5cGUpe2Nhc2UgZi5Mb2NrOmF3YWl0IG4udXBkYXRlUGFnZSh7cGFnZUlkOm8ucGFnZUlkLHBhZ2U6e2lzTG9ja2VkOiFvLmlzTG9ja2VkfX0pO2JyZWFrO2Nhc2UgZi5BZGRUb0NoYW5lbDplLm9wdGlvbj9hd2FpdCBDaShhLGUub3B0aW9uLGkpOm51bGw9PT1lLm9wdGlvbiYmYXdhaXQgTWkoYSxpKTticmVhaztjYXNlIGYuTWFuYWdlRGVza3RvcFNpZ25hbHM6YXdhaXQgWGEoYSk7YnJlYWs7Y2FzZSBtLk5ld1dpbmRvdzp7Y29uc3QgZT1hd2FpdCBHbyhhKTthd2FpdCBibigpLkJyb3dzZXIuY3JlYXRlV2luZG93KHt3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6W2VdLHdpbmRvd1R5cGU6XCJlbnRlcnByaXNlXCJ9fSk7YnJlYWt9Y2FzZSBmLlBpbjp7Y29uc3R7YWx3YXlzT25Ub3A6ZX09YXdhaXQgbi5vcGVuZmluV2luZG93LmdldE9wdGlvbnMoKTthd2FpdCBuLm9wZW5maW5XaW5kb3cudXBkYXRlT3B0aW9ucyh7YWx3YXlzT25Ub3A6IWV9KTticmVha31jYXNlIGYuU2hvd0hpZGVUYWJzOmF3YWl0IHIuaXNTaG93aW5nVGFicygpP2F3YWl0IHIuaGlkZSgpOmF3YWl0IHIuc2hvdygpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9cmV0dXJuITB9KShlLHQpO2lmKGEpcmV0dXJufXN3aXRjaChlLnR5cGUpe2Nhc2UgbS5OZXdXaW5kb3c6e2NvbnN0e25ld1BhZ2VVcmw6ZX09YXdhaXQgT28oYSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBlbXB0eSB3aW5kb3cgd2l0aG91dCBhIG5ld1BhZ2VVcmwgc2V0XCIpO2JuKCkuY3JlYXRlVmlldyh7dGFyZ2V0OnZvaWQgMCx1cmw6ZX0pO2JyZWFrfWNhc2UgbS5OZXdQYWdlOmF3YWl0IGNyKGEpO2JyZWFrO2Nhc2UgbS5DbG9zZVdpbmRvdzpuLmRpc3BhdGNoKFRhLkNsb3NlQnJvd3NlcldpbmRvdyk7YnJlYWs7Y2FzZSBtLlNhdmVXb3Jrc3BhY2U6YXdhaXQgaXIoYSk7YnJlYWs7Y2FzZSBtLlNhdmVQYWdlOmF3YWl0IGxyKGEpO2JyZWFrO2Nhc2UgbS5TYXZlUGFnZUFzOmF3YWl0IGRyKGEpO2JyZWFrO2Nhc2UgbS5TYXZlV29ya3NwYWNlQXM6YXdhaXQgc3IoYSk7YnJlYWs7Y2FzZSBtLlJlbmFtZVdvcmtzcGFjZTpvLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTpJLlJFTkFNRV9XT1JLU1BBQ0V9KTticmVhaztjYXNlIG0uU3dpdGNoV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTthLmFwcGx5V29ya3NwYWNlKG4se3NraXBQcm9tcHQ6ITEscHJvbXB0Q29udGFpbmVyV2luZG93SWRlbnRpdHk6ZX0pfSkoYSxlKTticmVhaztjYXNlIG0uRGVsZXRlV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXNNZXRhZGF0YSgpKS5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09dC53b3Jrc3BhY2VJZCkpO24mJmF3YWl0ICRvKGUsbi50aXRsZSkmJihhd2FpdCBhLlN0b3JhZ2UuZGVsZXRlV29ya3NwYWNlKHQud29ya3NwYWNlSWQpLFVvKE9uKFwic3VjY2Vzc0luZGljYXRvci53b3Jrc3BhY2VEZWxldGVkXCIpLGUpKX0pKGEsZSk7YnJlYWs7Y2FzZSBtLkRvd25sb2Fkczphd2FpdCBwcihhKTticmVhaztjYXNlIG0uQXBwZWFyYW5jZTphd2FpdCBibigpLlRoZW1lLnNldFNlbGVjdGVkU2NoZW1lKGUuc2NoZW1lKTticmVhaztjYXNlIG0uUXVpdDp7Y29uc3QgZT1UaSgpO2F3YWl0IHpvKGEsYXdhaXQgZSkmJmZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLnF1aXQoKX1icmVhaztjYXNlIG0uT3BlblN0b3JlZnJvbnQ6KGFzeW5jKCk9Pnthd2FpdCBBZSgpJiZQZSh2ZSl9KSgpO2JyZWFrO2Nhc2UgbS5SZXN0b3JlQ2hhbmdlczphd2FpdCBRbygpO2JyZWFrO2Nhc2UgbS5QcmludDphd2FpdCB3cih0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgbS5QcmludEFsbDphd2FpdCByLnByaW50KHtjb250ZW50Olwidmlld3NcIixpbmNsdWRlU2VsZjohMX0pO2JyZWFrO2Nhc2UgbS5QcmludFNjcmVlbjphd2FpdCByLnByaW50KHtjb250ZW50Olwic2NyZWVuc2hvdFwifSk7YnJlYWs7Y2FzZSBtLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgdD17Y2FsbGVyVHlwZTpNLkdsb2JhbENvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OmEsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtibigpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsdCl9ZWxzZSBjb25zb2xlLndhcm4oYEVuY291bnRlcmVkIGEgQ3VzdG9tIGNvbnRleHQgbWVudSBvcHRpb24gd2l0aCBhbiBcImFjdGlvblwiIHByb3BlcnR5IHdpdGggdmFsdWUgXCIke2UuYWN0aW9ufVwiYCl9fSxSaT1hc3luYyhlLHQsYSk9Pntjb25zdCBuPWJuKCkuQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KSxvPWZpbi5XaW5kb3cud3JhcFN5bmModC5pZGVudGl0eSkscj1hd2FpdCBDYSh0LmlkZW50aXR5KSxpPWF3YWl0IEh0KCk7c3dpdGNoKGUmJlh0KHt0eXBlOlwiUGFnZSBUYWIgTWVudVwiLGFjdGlvbjpcIlNlbGVjdCBNZW51IEl0ZW1cIix2YWx1ZTplLnR5cGUsc2tpcFZhbHVlSGFzaGluZzohMH0pLGU/LnR5cGUpe2Nhc2UgYi5TYXZlOmF3YWl0IGxyKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2UgYi5TYXZlQXM6YXdhaXQgZHIodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBiLk5ld1BhZ2U6YXdhaXQgY3IodC5pZGVudGl0eSk7YnJlYWs7Y2FzZSBiLkRlbGV0ZVBhZ2U6YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9Ym4oKSxuPWEuQnJvd3Nlci53cmFwU3luYyhlKSxvPShhd2FpdCBhLlN0b3JhZ2UuZ2V0UGFnZXMoKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10KSk7byYmYXdhaXQgSm8oZSxvLnRpdGxlKSYmKGF3YWl0IGEuU3RvcmFnZS5kZWxldGVQYWdlKG8ucGFnZUlkKSxhd2FpdCBuLnJlbW92ZVBhZ2UodCksVW8oT24oXCJlbnRlcnByaXNlU3VjY2Vzc0luZGljYXRvci5zdXBlcnRhYkRlbGV0ZWRcIiksZSxPbihcImVudGVycHJpc2VTdWNjZXNzSW5kaWNhdG9yLnN1cGVydGFiSGFzQmVlbkRlbGV0ZWRcIix7dGl0bGU6by50aXRsZX0pKSl9KSh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIGIuUmVuYW1lOmlmKGF3YWl0IEh0KHQuaWRlbnRpdHkpKXthd2FpdCBuLnNldEFjdGl2ZVBhZ2UodC5wYWdlSWQpO2NvbnN0IGU9YXdhaXQgVnIoKTthd2FpdCBlLmRpc3BhdGNoKFwib3BlblwiLHtwYXJlbnRJZGVudGl0eTp0LmlkZW50aXR5LHJlc3BvbnNlSWRlbnRpdHk6eWUsdHlwZTpMci5SZW5hbWVTdXBlcnRhYixhbmNob3JCZWhhdmlvcjpGaS5DZW50ZXIseDphLmxlZnQrYS53aWR0aC8yLTE2NCx5OmEuYm90dG9tLTgscGF5bG9hZDp7cGFnZUlkOnQucGFnZUlkfX0pfWVsc2UgYXdhaXQgbi5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6SS5SRU5BTUVfUEFHRSxpZDp0LnBhZ2VJZH0pO2JyZWFrO2Nhc2UgYi5EdXBsaWNhdGU6ci5kaXNwYXRjaChUYS5EdXBsaWNhdGVQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIGIuQ2xvc2U6aT9hd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1ibigpLkJyb3dzZXIud3JhcFN5bmMoZSksbj1hd2FpdCBhLmdldFBhZ2VzKCk7Zm9yKGNvbnN0IG8gb2YgbilpZihvLnBhZ2VJZD09PXQpe2F3YWl0IGEucmVtb3ZlUGFnZShvLnBhZ2VJZCksYXdhaXQgYS5fdHJhY2tSZW1vdmVkVGFiKHtpZGVudGl0eTplLHBhZ2U6b30pO2JyZWFrfX0pKHQuaWRlbnRpdHksdC5wYWdlSWQpOnIuZGlzcGF0Y2goVGEuQ2xvc2VQYWdlLHtwYWdlSWQ6dC5wYWdlSWR9KTticmVhaztjYXNlIGIuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOk0uUGFnZVRhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07Ym4oKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfWVsc2UgY29uc29sZS53YXJuKGBFbmNvdW50ZXJlZCBhIEN1c3RvbSBjb250ZXh0IG1lbnUgb3B0aW9uIHdpdGggYW4gXCJhY3Rpb25cIiBwcm9wZXJ0eSB3aXRoIHZhbHVlIFwiJHtlLmFjdGlvbn1cImApO2JyZWFrO2Nhc2UgYi5SZWZyZXNoOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCksbj1hLkJyb3dzZXIud3JhcFN5bmMoZSksbz0oYXdhaXQgbi5nZXRQYWdlcygpKS5maW5kKChlPT50P2UucGFnZUlkPT09dDplLmlzQWN0aXZlKSk7bz8ubGF5b3V0Py5jb250ZW50JiZJbihvLmxheW91dC5jb250ZW50KS5mb3JFYWNoKChhc3luYyBlPT57KGF3YWl0IGZpbi5WaWV3LndyYXAoe3V1aWQ6YS5pZGVudGl0eS51dWlkLG5hbWU6ZS5uYW1lfSkpLnJlbG9hZCgpfSkpfSkodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBiLkNsb3NlT3RoZXJzOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPWF3YWl0IGEuZ2V0UGFnZXMoKTtmb3IoY29uc3QgbyBvZiBuKW8ucGFnZUlkIT09dCYmKGF3YWl0IGEucmVtb3ZlUGFnZShvLnBhZ2VJZCksYXdhaXQgYS5fdHJhY2tSZW1vdmVkVGFiKHtpZGVudGl0eTplLHBhZ2U6b30pKX0pKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2UgYi5TYXZlV29ya3NwYWNlQXM6YXdhaXQgc3IodC5pZGVudGl0eSk7YnJlYWs7Y2FzZSBiLlByaW50Ontjb25zdCBlPWF3YWl0IG4uX2dldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3cygpLHtzZWxlY3RlZFZpZXdzOmF9PWUuZmluZCgoZT0+ZS5wYWdlSWQ9PT10LnBhZ2VJZCkpO2F3YWl0IHdyKGEpO2JyZWFrfWNhc2UgYi5QcmludEFsbDphd2FpdCBuLnNldEFjdGl2ZVBhZ2UodC5wYWdlSWQpLGF3YWl0IG8ucHJpbnQoe2NvbnRlbnQ6XCJ2aWV3c1wiLGluY2x1ZGVTZWxmOiExfSk7YnJlYWs7Y2FzZSBiLlByaW50U2NyZWVuOmF3YWl0IG4uc2V0QWN0aXZlUGFnZSh0LnBhZ2VJZCksYXdhaXQgby5wcmludCh7Y29udGVudDpcInNjcmVlbnNob3RcIn0pO2JyZWFrO2Nhc2UgYi5BZGRUb0NoYW5uZWw6YXdhaXQgbi51cGRhdGVQYWdlKHtwYWdlSWQ6dC5wYWdlSWQscGFnZTp7Y29udGV4dEdyb3VwOlwidW5saW5rXCI9PT1lLm9wdGlvbj9udWxsOmUub3B0aW9ufX0pO2JyZWFrO2Nhc2UgYi5NYW5hZ2VEZXNrdG9wU2lnbmFsczphd2FpdCBYYSh0LmlkZW50aXR5KX19LEVpPWFzeW5jKGUsdCk9PntpZihlPy50eXBlKXtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSBQLlNhdmVQYWdlOmF3YWl0IGxyKGEpO2JyZWFrO2Nhc2UgUC5TYXZlV29ya3NwYWNlOmF3YWl0IGlyKGEpO2JyZWFrO2Nhc2UgUC5TYXZlUGFnZUFzOmF3YWl0IGRyKGEpO2JyZWFrO2Nhc2UgUC5TYXZlV29ya3NwYWNlQXM6YXdhaXQgc3IoYSk7YnJlYWs7Y2FzZSBQLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgYT17Y2FsbGVyVHlwZTpNLlNhdmVCdXR0b25Db250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTp0LmlkZW50aXR5LHBhZ2VJZDp0LnBhZ2VJZCxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O2JuKCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxhKX1lbHNlIGNvbnNvbGUud2FybihgRW5jb3VudGVyZWQgYSBDdXN0b20gY29udGV4dCBtZW51IG9wdGlvbiB3aXRoIGFuIFwiYWN0aW9uXCIgcHJvcGVydHkgd2l0aCB2YWx1ZSBcIiR7ZS5hY3Rpb259XCJgKX19fTt2YXIgRmk7IWZ1bmN0aW9uKGUpe2VbZS5Ub3BMZWZ0PTBdPVwiVG9wTGVmdFwiLGVbZS5Ub3BSaWdodD0xXT1cIlRvcFJpZ2h0XCIsZVtlLkJvdHRvbUxlZnQ9Ml09XCJCb3R0b21MZWZ0XCIsZVtlLkJvdHRvbVJpZ2h0PTNdPVwiQm90dG9tUmlnaHRcIixlW2UuQ2VudGVyPTRdPVwiQ2VudGVyXCJ9KEZpfHwoRmk9e30pKTtjb25zdCBWaT1hc3luYyhlLHQsYSxuKT0+e2NvbnN0e3g6byx5OnIsaWRlbnRpdHk6aSx0ZW1wbGF0ZTpzLGNhbGxiYWNrOmN9PWUsbD1hd2FpdCBIdChpKSx7ZGF0YTpkfT1sP2F3YWl0IHJpKHt4Om8seTpyLHRlbXBsYXRlOnN9LGEsbixmaW4uV2luZG93LndyYXBTeW5jKGkpKTphd2FpdCBmdW5jdGlvbihlLHQpe2lmKCFXKXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtpZighdCYmIWZpbi5tZS5pc1dpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIHdpbmRvdy5cIik7cmV0dXJuKHR8fGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKSkuc2hvd1BvcHVwTWVudShlKX0oe3g6byx5OnIsdGVtcGxhdGU6c30sZmluLldpbmRvdy53cmFwU3luYyhpKSk7YyhkLGUpfTthc3luYyBmdW5jdGlvbiBOaShlLHQpe2NvbnN0IGE9YmEoKSxuPWF3YWl0IEh0KGUuaWRlbnRpdHkpO24mJnlhKGEpO2NvbnN0IG89bj9hd2FpdChhc3luYyh7aWRlbnRpdHk6ZSxzZWxlY3RlZFZpZXdzOnR9KT0+e2NvbnN0IGE9Ym4oKSxuPWEuQnJvd3Nlci53cmFwU3luYyhlKSxvPShhd2FpdCBuLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKSxyPWF3YWl0IGEuU3RvcmFnZS5nZXRQYWdlKG8ucGFnZUlkKSxpPURuKG8ubGF5b3V0LmNvbnRlbnQpPjEscz1hd2FpdCBIdChlKSxjPWF3YWl0IGEuVGhlbWUuZ2V0VGhlbWVzKCksbD1jWzBdJiZcInBhbGV0dGVzXCJpbiBjWzBdfHwhY1swXXx8MD09PWMubGVuZ3RoLGQ9ey4uLnVpKHMpLGVuYWJsZWQ6ISFyfSx1PXsuLi5waShzKSxlbmFibGVkOml9O3JldHVybltkaSgpLHdpKCEwLHMpLHt0eXBlOm5pLlNlcGFyYXRvcn0sZCx1LHt0eXBlOm5pLlNlcGFyYXRvcn0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5tYW5hZ2VEZXNrdG9wU2lnbmFsc1wiKSxkYXRhOnt0eXBlOm0uTWFuYWdlRGVza3RvcFNpZ25hbHN9fSx7dHlwZTpuaS5TZXBhcmF0b3J9LC4uLmw/W3t0eXBlOm5pLlN1Ym1lbnUsbGFiZWw6bWkoKS5sYWJlbCxzdWJtZW51OmF3YWl0IGJpKCl9XTpbXSx7dHlwZTpuaS5TZXBhcmF0b3J9LGNpKCkse3R5cGU6bmkuU2VwYXJhdG9yfSxsaSghMCldfSkoe2lkZW50aXR5OmUuaWRlbnRpdHksc2VsZWN0ZWRWaWV3czplLnNlbGVjdGVkVmlld3N9KTphd2FpdCBmaShlLmlkZW50aXR5LGUuc2VsZWN0ZWRWaWV3cykscj1hd2FpdCBUaSgpO258fChvLmZpbmQoKGU9PmUuZGF0YT8udHlwZT09PW0uUXVpdCkpLmxhYmVsPWBRdWl0ICR7cn1gKTtjb25zdHtyZWN0OmksLi4uc309ZSx7eDpjLHk6bH09bj97eDppLmxlZnQraS53aWR0aCx5OmkuYm90dG9tfTplLGQ9ey4uLnMseDpjLHk6bCx0ZW1wbGF0ZTpvLGNhbGxiYWNrOkJpfTtmYShhKSxhd2FpdCB0aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudShkLHQpfWFzeW5jIGZ1bmN0aW9uIExpKGUsdCl7Y29uc3QgYT17Li4uZSxjYWxsYmFjazp4aX07YXdhaXQgdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51KGEsdCl9YXN5bmMgZnVuY3Rpb24gX2koZSx0KXtjb25zdCBhPWJhKCksbj1hd2FpdCBIdChlLmlkZW50aXR5KTtuJiZ5YShhKTtjb25zdCBvPWF3YWl0KGFzeW5jKGUsdCxhKT0+e2NvbnN0IG49YXdhaXQgYm4oKS5TdG9yYWdlLmdldFBhZ2UoZSksbz0oYXdhaXQgdG8oKSkuZmluZCgodD0+dC5wYWdlSWQ9PT1lKSkscj1EbihvLmxheW91dC5jb250ZW50KT4xLHt3b3Jrc3BhY2VQbGF0Zm9ybTppfT1hd2FpdCBmZSh0KS5nZXRPcHRpb25zKCkscz0hKGkuaXNMb2NrZWR8fGkucHJldmVudFBhZ2VDbG9zZXx8by5jbG9zZUJ1dHRvbj8uZGlzYWJsZWR8fG8uY2xvc2VCdXR0b24/LmhpZGRlbiksYz1be3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJlbnRlcnByaXNlQ29udGV4dE1lbnUubmV3VGFiXCIpLGRhdGE6e3R5cGU6Yi5OZXdQYWdlfX0saWksV2kobyksQWkoKSxpaSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcInJlbG9hZFwiKSxkYXRhOnt0eXBlOmIuUmVmcmVzaH19LHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiKSxkYXRhOnt0eXBlOmIuRHVwbGljYXRlfSxlbmFibGVkOiFpLmlzTG9ja2VkfSxhd2FpdCBzaSgpLGlpLHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKHI/XCJlbnRlcnByaXNlU2F2ZU1vZGFsLmNsb3NlU3VwZXJ0YWJcIjpcImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VUYWJcIiksZGF0YTp7dHlwZTpiLkNsb3NlfSxlbmFibGVkOnN9XSxsPVt7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImVudGVycHJpc2VDb250ZXh0TWVudS5uZXdUYWJcIiksZGF0YTp7dHlwZTpiLk5ld1BhZ2V9fSxpaSxXaShvKSxBaSgpLGlpLHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiZW50ZXJwcmlzZVNhdmVNb2RhbC5yZW5hbWVTdXBlcnRhYlwiKSxkYXRhOnt0eXBlOmIuUmVuYW1lfSxlbmFibGVkOiFpLmlzTG9ja2VkJiYhIW4mJnJ9LHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmR1cGxpY2F0ZVwiKSxkYXRhOnt0eXBlOmIuRHVwbGljYXRlfSxlbmFibGVkOiFpLmlzTG9ja2VkfSxpaSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJcIiksZGF0YTp7dHlwZTpiLlNhdmV9LGVuYWJsZWQ6ciYmISFufSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcImVudGVycHJpc2VDb250ZXh0TWVudS5zYXZlU3VwZXJ0YWJBc1wiKSxkYXRhOnt0eXBlOmIuU2F2ZUFzfSxlbmFibGVkOnJ9LGlpLHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiZW50ZXJwcmlzZUNvbnRleHRNZW51LmRlbGV0ZVN1cGVydGFiXCIpLGRhdGE6e3R5cGU6Yi5EZWxldGVQYWdlfSxlbmFibGVkOiEhbn0saWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24ocj9cImVudGVycHJpc2VTYXZlTW9kYWwuY2xvc2VTdXBlcnRhYlwiOlwiZW50ZXJwcmlzZVNhdmVNb2RhbC5jbG9zZVRhYlwiKSxkYXRhOnt0eXBlOmIuQ2xvc2V9LGVuYWJsZWQ6c31dLGQ9W3t0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwiY29udGV4dE1lbnUuc2F2ZVBhZ2VcIiksZGF0YTp7dHlwZTpiLlNhdmV9LGVuYWJsZWQ6ITB9LHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwic2F2ZU1lbnUuc2F2ZVBhZ2VBc1wiKSxkYXRhOnt0eXBlOmIuU2F2ZUFzfSxlbmFibGVkOiEwfSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlIEFzXCIsZGF0YTp7dHlwZTpiLlNhdmVXb3Jrc3BhY2VBc319LHt0eXBlOm5pLkxhYmVsLGxhYmVsOlwiUmVmcmVzaFwiLGRhdGE6e3R5cGU6Yi5SZWZyZXNofX0saWkse3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJzYXZlTW9kYWwucmVuYW1lUGFnZVwiKSxkYXRhOnt0eXBlOmIuUmVuYW1lfSxlbmFibGVkOiEhbn0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5kdXBsaWNhdGVQYWdlXCIpLGRhdGE6e3R5cGU6Yi5EdXBsaWNhdGV9LGVuYWJsZWQ6IWkuaXNMb2NrZWR9LGlpLHt0eXBlOm5pLkxhYmVsLGxhYmVsOk9uKFwic2F2ZU1vZGFsLmNsb3NlUGFnZVwiKSxkYXRhOnt0eXBlOmIuQ2xvc2V9LGVuYWJsZWQ6c31dO3JldHVybiBhP3I/bDpjOmR9KShlLnBhZ2VJZCxlLmlkZW50aXR5LG4pLHI9ey4uLmUsdGVtcGxhdGU6byxjYWxsYmFjazoodCxhKT0+e1JpKHQsYSxlLnJlY3QpfX07ZmEoYSksYXdhaXQgdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51KHIsdCl9YXN5bmMgZnVuY3Rpb24gVWkoZSx0KXtjb25zdCBhPXsuLi5lLHRlbXBsYXRlOmF3YWl0KGFzeW5jKCk9Pntjb25zdCBlPWJuKCksdD1hd2FpdCBlLmdldEN1cnJlbnRXb3Jrc3BhY2Uoe3NraXBTbmFwc2hvdFVwZGF0ZTohMH0pLGE9KGF3YWl0IGUuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzTWV0YWRhdGEoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTtyZXR1cm5be3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5zYXZlV29ya3NwYWNlXCIpLGVuYWJsZWQ6ISFhLGRhdGE6e3R5cGU6UC5TYXZlV29ya3NwYWNlfX0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJzYXZlTWVudS5zYXZlV29ya3NwYWNlQXNcIiksZGF0YTp7dHlwZTpQLlNhdmVXb3Jrc3BhY2VBc319LHt0eXBlOm5pLlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6bmkuTGFiZWwsbGFiZWw6T24oXCJjb250ZXh0TWVudS5zYXZlUGFnZVwiKSxkYXRhOnt0eXBlOlAuU2F2ZVBhZ2V9fSx7dHlwZTpuaS5MYWJlbCxsYWJlbDpPbihcInNhdmVNZW51LnNhdmVQYWdlQXNcIiksZGF0YTp7dHlwZTpQLlNhdmVQYWdlQXN9fV19KSgpLGNhbGxiYWNrOkVpfTthd2FpdCB0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoYSx0KX1jb25zdCBPaT1cImRvY2stY29tcGFuaW9uLXVwZGF0ZXNcIixHaT1hc3luYygpPT4oYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbmQoKGU9PmUuaWRlbnRpdHkubmFtZT09PW1lLkRvY2tDb21wYW5pb24pKSxIaT1YZShgJHtcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4/Lm1lLmlkZW50aXR5LnV1aWR9LWVudGVycHJpc2UtZG9ja2ApLCRpPWFzeW5jKCk9Pntjb25zdCBlPWJuKCksdD1hd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9YXdhaXQgeHIoKTthd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+e2F3YWl0IEFyKGUuaWRlbnRpdHkpfSkpKTtjb25zdCB0PUFycmF5LmZyb20odnIudmFsdWVzKCkpLnNvcnQoKChlLHQpPT50Lmxhc3RGb2N1c2VkVGltZS1lLmxhc3RGb2N1c2VkVGltZSkpLGE9dC5maW5kKChlPT5lLmlzVmlzaWJsZSkpO2lmKGEpe2NvbnN0IGU9ZmluLldpbmRvdy53cmFwU3luYyhhLmlkZW50aXR5KTtyZXR1cm4gYXdhaXQgZS5mb2N1cygpLGEuaWRlbnRpdHl9Y29uc3Qgbj10WzBdO2lmKG4pe2NvbnN0IGU9ZmluLldpbmRvdy53cmFwU3luYyhuLmlkZW50aXR5KTtyZXR1cm4gYXdhaXQgZS5yZXN0b3JlKCksYXdhaXQgZS5mb2N1cygpLG4uaWRlbnRpdHl9cmV0dXJuIElyKCl9KCksYT1lLkJyb3dzZXIud3JhcFN5bmModCksbj0oYXdhaXQgYS5nZXRQYWdlcygpKS5hdCgtMSksbz1JbihuLmxheW91dC5jb250ZW50KTtpZigxPT09by5sZW5ndGgmJkt0KG9bMF0udXJsKSlhd2FpdCBhLnNldEFjdGl2ZVBhZ2Uobi5wYWdlSWQpO2Vsc2V7Y29uc3QgZT1hd2FpdCBHbyh0KSx7bmV3UGFnZVVybDpufT1hd2FpdCBPbygpO2F3YWl0IGEuX2FkZERlZmF1bHRQYWdlKHtpZGVudGl0eTphLmlkZW50aXR5LHBhZ2U6ZSxuZXdQYWdlVXJsOm58fHZvaWQgMH0pfShhd2FpdCBDYSh0KSkuZGlzcGF0Y2goVGEuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbCl9LHppPVwiZG9jay1wcm92aWRlci1jb25maWdzXCIsS2k9VCYmVyYmbmV3IHZ0LkRleGllKER0KFwiZG9jay1wcm92aWRlci1jb25maWdzXCIpKTthc3luYyBmdW5jdGlvbiBKaShlKXtpZighS2kpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBEb2NrIHByb3ZpZGVyIGNvbmZpZyAtIEluZGV4ZWREQiBub3Qgc3VwcG9ydGVkXCIpO3RyeXtyZXR1cm4gYXdhaXQgS2lbemldLmdldChlKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gcmV0cmlldmUgRG9jayBwcm92aWRlciBjb25maWcgZnJvbSBJbmRleGVkRGJcIixlKX19YXN5bmMgZnVuY3Rpb24gWmkoZSl7aWYoIUtpKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzYXZlIERvY2sgcHJvdmlkZXIgY29uZmlnIC0gSW5kZXhlZERiIG5vdCBzdXBwb3J0ZWRcIik7YXdhaXQgS2lbemldLnB1dChlLGUuaWQpfUtpJiZLaS52ZXJzaW9uKC4xKS5zdG9yZXMoe1t6aV06XCJcIn0pO2NvbnN0IHFpPVwid29ya3NwYWNlc1wiLGppPVQmJlcmJkJ0KFwib3BlbmZpbi13b3Jrc3BhY2UtcGxhdGZvcm0td29ya3NwYWNlc1wiLHFpKTthc3luYyBmdW5jdGlvbiBRaShlKXtpZighamkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCB3b3Jrc3BhY2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgdD1hd2FpdCBqaVtxaV0uZ2V0KGUpO3JldHVybiB0JiYodC53b3Jrc3BhY2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LndvcmtzcGFjZUlkKSx0fWFzeW5jIGZ1bmN0aW9uIFlpKGUpe2lmKCFqaSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IHdvcmtzcGFjZXMgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgdD1hd2FpdCBqaVtxaV0udG9Db2xsZWN0aW9uKCkua2V5cygpLGE9KGF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT5RaShlLnRvU3RyaW5nKCkpKSkpKS5maWx0ZXIoKGU9PiEhZSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT5fcih0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiBYaSh7d29ya3NwYWNlOmV9KXtpZighamkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSB3b3Jrc3BhY2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgdD0oYXdhaXQgWWkoKSkuZmluZCgodD0+dC50aXRsZT09PWUudGl0bGUpKTtpZih0JiZ0LndvcmtzcGFjZUlkIT09ZS53b3Jrc3BhY2VJZCl0aHJvdyBuZXcgRXJyb3IoYFdvcmtzcGFjZSB3aXRoIHRpdGxlICcke2UudGl0bGV9JyBhbHJlYWR5IGV4aXN0cy5gKTthd2FpdCBqaVtxaV0ucHV0KGUsZS53b3Jrc3BhY2VJZCl9YXN5bmMgZnVuY3Rpb24gZXMoZSl7aWYoIWppKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWxldGUgd29ya3NwYWNlIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2F3YWl0IGppW3FpXS5kZWxldGUoZSl9YXN5bmMgZnVuY3Rpb24gdHMoe3dvcmtzcGFjZUlkOmUsd29ya3NwYWNlOnR9KXtpZighamkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHVwZGF0ZSB3b3Jrc3BhY2UgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7aWYoIWF3YWl0IFFpKGUpKXRocm93IG5ldyBFcnJvcihcIndvcmtzcGFjZSBub3QgZm91bmRcIik7YXdhaXQgWGkoe3dvcmtzcGFjZTp0fSksZSE9PXQud29ya3NwYWNlSWQmJmF3YWl0IGVzKGUpfWNvbnN0IGFzPWU9Pntjb25zdCB0PWUubGF5b3V0LGE9dC5jb250ZW50P0luKHQuY29udGVudCk6W10sbj1hLmxlbmd0aDtyZXR1cm4gbj4xP3suLi5lLHNpbmdsZVZpZXdOYW1lOm51bGx9OjE9PT1uP3suLi5lLHNpbmdsZVZpZXdOYW1lOmFbMF0ubmFtZX06dm9pZCAwfSxucz1hc3luYyhlLHQsYSk9Pntjb25zdCBuPWF3YWl0IGJuKCkuQnJvd3Nlci5nZXRBbGxBdHRhY2hlZFBhZ2VzKCksbz1uZXcgU2V0KG4ubWFwKChlPT5lLnRpdGxlKSkuZmlsdGVyKChlPT4hIWUpKSkscj1uZXcgU2V0KG4ubWFwKChlPT5lLnBhZ2VJZCkpLmZpbHRlcigoZT0+ISFlKSkpLGk9dD8uZGVmYXVsdFBhZ2VPcHRpb25zLHM9XCJlbnRlcnByaXNlXCI9PT1hPy53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZXx8XCJlbnRlcnByaXNlXCI9PT10Py5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUsYz1hd2FpdChhc3luYyhlLHQsYSk9PntpZihhKXJldHVybiBvZSgpO2NvbnN0IG49dD8ud29ya3NwYWNlUGxhdGZvcm0/Lm5ld1RhYlVybDtpZihuKXJldHVybiBuO2NvbnN0IG89ZT8uZGVmYXVsdFdpbmRvd09wdGlvbnM/LndvcmtzcGFjZVBsYXRmb3JtPy5uZXdUYWJVcmw7cmV0dXJuIG98fHZvaWQgMH0pKHQsYSxzKTtyZXR1cm4gUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9PntpZihcInJlcGFyZW50XCI9PT1lLm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3IpcmV0dXJuey4uLmUsbGF5b3V0Q29udGFpbmVyS2V5OmlhKCl9OygoZSx0KT0+e2UucGFnZUlkfHw9aWEoKSx0LmhhcyhlLnBhZ2VJZCkmJihjb25zb2xlLndhcm4oXCJQYWdlSUQgY29sbGlzaW9uIGRldGVjdGVkLiBBbGwgUGFnZSBJRHMgc2hvdWxkIGJlIHVuaXF1ZS4gQSByYW5kb20gbmV3IHBhZ2VJZCB3aWxsIGJlIGdlbmVyYXRlZFwiKSxlLnBhZ2VJZD1pYSgpKSx0LmFkZChlLnBhZ2VJZCl9KShlLHIpLHN8fChlLnRpdGxlPWVvKGUudGl0bGUsQXJyYXkuZnJvbShvLmtleXMoKSkpKSxvLmFkZChlLnRpdGxlKSxlLnBhbmVscz8ucmVkdWNlKCgoZSx0KT0+e2NvbnN0IGE9T2JqZWN0LnZhbHVlcyhnKTtpZighYS5pbmNsdWRlcyh0LnBvc2l0aW9uKSl0aHJvdyBuZXcgRXJyb3IoYEVuY291bnRlcmVkIGEgcGFuZWwgd2l0aCB1bnN1cHBvcnRlZCBwb3NpdGlvbiBcIiR7dC5wb3NpdGlvbn1cIi4gU3VwcG9ydGVkIHBvc2l0aW9ucyBhcmU6ICR7YS50b1N0cmluZygpfWApO2lmKDE9PWVbdC5wb3NpdGlvbl0pdGhyb3cgbmV3IEVycm9yKGBGb3VuZCBtb3JlIHRoYW4gMSBwYW5lbCBhdCBwb3NpdGlvbjogJHt0LnBvc2l0aW9ufS4gT25seSAxIHBhbmVsIGF0IGEgZ2l2ZW4gcG9zaXRpb24gaXMgY3VycmVudGx5IHN1cHBvcnRlZC5gKTtyZXR1cm57Li4uZSxbdC5wb3NpdGlvbl06ZVt0LnBvc2l0aW9uXSsxfX0pLHtbZy5MZWZ0XTowLFtnLlJpZ2h0XTowLFtnLlRvcF06MCxbZy5Cb3R0b21dOjB9KTtjb25zdCBhPVwicGFuZWxzXCJpbiBlP2UucGFuZWxzOmk/LnBhbmVscztsZXQgbj0obD1lLmxheW91dCxkPXQ/LmRlZmF1bHRWaWV3T3B0aW9ucyx2bih7Li4ubH0sKGU9PlBuKGUsZCkpKSk7dmFyIGwsZDtjJiYhbj8uc2V0dGluZ3M/Lm5ld1RhYkJ1dHRvbiYmKG49ey4uLm4sc2V0dGluZ3M6ey4uLm4/LnNldHRpbmdzLG5ld1RhYkJ1dHRvbjp7dXJsOmN9fX0pO3JldHVybnsuLi5pLC4uLmUscGFuZWxzOmEmJmF3YWl0IFpuKGEpLGxheW91dENvbnRhaW5lcktleTppYSgpLGxheW91dDpuLGlzTGF5b3V0Q3JlYXRlZDohMX19KSkpfSxvcz1hc3luYyhlLHQpPT57dHJ5e2F3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVZpZXcoe25hbWU6ZSx1cmw6dCx0YXJnZXQ6ZmluLm1lLmlkZW50aXR5LGJvdW5kczp7dG9wOjAsbGVmdDowLHdpZHRoOjAsaGVpZ2h0OjB9fSxmaW4ubWUuaWRlbnRpdHkpfWNhdGNoKGUpe319LHJzPWU9Pntjb25zdCB0PWUubmFtZT09PW1lLkhvbWUsYT1lLm5hbWU/LnN0YXJ0c1dpdGgobWUuSG9tZUludGVybmFsKSxuPWUubmFtZT8uc3RhcnRzV2l0aChtZS5Ccm93c2VyTWVudSl8fGUubmFtZT8uc3RhcnRzV2l0aChtZS5Ccm93c2VyU2F2ZU1lbnUpO3JldHVybiF0JiYhYSYmIW59O2NvbnN0IGlzPWU9PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpO2FzeW5jIGZ1bmN0aW9uIHNzKGUpe3JldHVybiBlP1wiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PVwiOihhd2FpdCBZKCkpLmRpc3BsYXlWaWV3VGFiRGVmYXVsdEljb24/XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiOlwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHN0eWxlJTNEJTIyYmFja2dyb3VuZC1jb2xvciUzQSUyMzdEODA4QSUyMiUyMHdpZHRoJTNEJTIyMTAlMjIlMjBoZWlnaHQlM0QlMjIxMCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDEwJTIwMTAlMjIlMjBmaWxsJTNEJTIybm9uZSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTNFJTNDcGF0aCUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlMjBjbGlwLXJ1bGUlM0QlMjJldmVub2RkJTIyJTIwZCUzRCUyMk00LjY0NjQ4JTIwMC44NzQ5NjJDNC44NDE3NCUyMDAuNjc5NyUyMDUuMTU4MzMlMjAwLjY3OTclMjA1LjM1MzU5JTIwMC44NzQ5NjJMOS4xMjQ4MiUyMDQuNjQ2MkM5LjMyMDA5JTIwNC44NDE0NiUyMDkuMzIwMDklMjA1LjE1ODA0JTIwOS4xMjQ4MiUyMDUuMzUzM0w1LjM1MzU5JTIwOS4xMjQ1NEM1LjE1ODMzJTIwOS4zMTk4JTIwNC44NDE3NCUyMDkuMzE5OCUyMDQuNjQ2NDglMjA5LjEyNDU0TDAuODc1MjQ1JTIwNS4zNTMzQzAuNjc5OTgyJTIwNS4xNTgwNCUyMDAuNjc5OTgyJTIwNC44NDE0NiUyMDAuODc1MjQ1JTIwNC42NDYyTDQuNjQ2NDglMjAwLjg3NDk2MlpNNS4wMDAwMyUyMDEuOTM1NjJMMS45MzU5JTIwNC45OTk3NUw1LjAwMDAzJTIwOC4wNjM4OEw4LjA2NDE2JTIwNC45OTk3NUw1LjAwMDAzJTIwMS45MzU2MlolMjIlMjBmaWxsJTNEJTIyd2hpdGUlMjIlMkYlM0UlM0MlMkZzdmclM0VcIn1jb25zdCBjcz17ZGltZW5zaW9uczp7Ym9yZGVyV2lkdGg6MyxoZWFkZXJIZWlnaHQ6MzB9fTthc3luYyBmdW5jdGlvbiBscyhlLHQsYSl7bGV0IG49ZTtjb25zdCBvPVwiZW50ZXJwcmlzZVwiPT09bi53b3Jrc3BhY2VQbGF0Zm9ybT8ud2luZG93VHlwZXx8XCJlbnRlcnByaXNlXCI9PT10Py5kZWZhdWx0V2luZG93T3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGU7aWYobi5sYXlvdXQmJiFuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoKXtjb25zdCBlPWF3YWl0IGJvKCksYT17Li4uYXdhaXQgd2EoZSxuLmxheW91dCksaXNBY3RpdmU6ITB9O24ud29ya3NwYWNlUGxhdGZvcm18fD17fSxuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPWF3YWl0IG5zKFthXSx0LG4pfXQ/LmJyb3dzZXJJY29uU2l6ZSYmKG4ud29ya3NwYWNlUGxhdGZvcm18fD17fSxuLndvcmtzcGFjZVBsYXRmb3JtLmJyb3dzZXJJY29uU2l6ZT10LmJyb3dzZXJJY29uU2l6ZSk7Y29uc3Qgcj1hPy50aGVtZXM/LlswXTtpZihuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcz8ubGVuZ3RoKXtjb25zdCBlPWF3YWl0IG5zKG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMsdCxuKSxpPWUscz0oZT0+e2lmKCFlKXJldHVybjtsZXQgdD1lLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTtyZXR1cm4hdCYmZS5sZW5ndGg+MCYmKGVbMF0uaXNBY3RpdmU9ITAsdD1lWzBdKSx0fSkoaSk7aWYoaS5mb3JFYWNoKChlPT57ZS5wYWdlSWQhPT1zPy5wYWdlSWQmJihlLmlzQWN0aXZlPSExKX0pKSxhd2FpdCBxbihpKSxuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzPWUsbj1uYSh7fSxhd2FpdChhc3luYyBlPT4oe2NvbnRleHRNZW51T3B0aW9uczp7ZW5hYmxlZDohMX0sZXhwZXJpbWVudGFsOntzaG93RmF2aWNvbnM6ITAsZGVmYXVsdEZhdmljb25Vcmw6YXdhaXQgc3MoZSl9LHZpZXdWaXNpYmlsaXR5OntzaG93Vmlld3NPblNwbGl0dGVyRHJhZzp7ZW5hYmxlZDohMH0sc2hvd1ZpZXdzT25XaW5kb3dSZXNpemU6e2VuYWJsZWQ6ITB9fX0pKShvKSx0Py5kZWZhdWx0V2luZG93T3B0aW9ucyxuLGF3YWl0KGFzeW5jIGU9Pih7YmFja2dyb3VuZFRocm90dGxpbmc6ITAsdXJsOmF3YWl0IHJlKGUsITApLGNvbnRleHRNZW51OiEwLGNsb3NlT25MYXN0Vmlld1JlbW92ZWQ6ITEscGVybWlzc2lvbnM6e1N5c3RlbTp7b3BlblVybFdpdGhCcm93c2VyOntlbmFibGVkOiEwLHByb3RvY29sczpbXCJtYWlsdG9cIl19fX19KSkobykpLHMubGF5b3V0PW5hKHMubGF5b3V0LGNzKSxhc3luYyBmdW5jdGlvbihlKXtpZihlLmljb258fGUudGFza2Jhckljb24pe2NvbnN0IHQ9ZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCksYT1hd2FpdChhd2FpdCB0LmdldFdpbmRvdygpKS5nZXRPcHRpb25zKCk7ZS50YXNrYmFySWNvbkdyb3VwfHw9YS50YXNrYmFySWNvbkdyb3VwfHxmaW4ubWUuaWRlbnRpdHkudXVpZH1pZihlLndvcmtzcGFjZVBsYXRmb3JtLmljb24paWYoXCJvYmplY3RcIj09dHlwZW9mIGUud29ya3NwYWNlUGxhdGZvcm0uaWNvbil7Y29uc3QgdD13aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIik7ZS5pY29uPXQubWF0Y2hlcz9lLndvcmtzcGFjZVBsYXRmb3JtLmljb24uZGFyazplLndvcmtzcGFjZVBsYXRmb3JtLmljb24ubGlnaHR9ZWxzZSBlLmljb249ZS53b3Jrc3BhY2VQbGF0Zm9ybS5pY29ufShuKSwhbi5iYWNrZ3JvdW5kQ29sb3ImJnIpaWYoXCJwYWxldHRlXCJpbiByKW4uYmFja2dyb3VuZENvbG9yPXI/LnBhbGV0dGU/LmJhY2tncm91bmQyfHxyPy5wYWxldHRlPy5iYWNrZ3JvdW5kUHJpbWFyeTtlbHNle2NvbnN0IGU9YS5zZWxlY3RlZFNjaGVtZT09PWsuRGFya3x8YS5zZWxlY3RlZFNjaGVtZT09PWsuU3lzdGVtJiZ3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIik/cj8ucGFsZXR0ZXMuZGFyazpyPy5wYWxldHRlcy5saWdodDtuLmJhY2tncm91bmRDb2xvcj1lPy5iYWNrZ3JvdW5kMnx8ZT8uYmFja2dyb3VuZFByaW1hcnl9bj1UZShuLCEwKTtjb25zdCBjPWF3YWl0IHJlKG8sITApO2lmKGMmJihuLnVybD1jKSxuLmxheW91dD1zLmxheW91dCxuLmxheW91dFNuYXBzaG90PSgoZSx0KT0+KHtsYXlvdXRzOmUucmVkdWNlKCgoZSxhKT0+e2lmKCFhLmlzQWN0aXZlKXtpZighdClyZXR1cm4gZTtpZighYXMoYSkuc2luZ2xlVmlld05hbWUpcmV0dXJuIGV9cmV0dXJuIGVbYS5sYXlvdXRDb250YWluZXJLZXldPWEubGF5b3V0LGV9KSx7fSkscGFnZXM6ZX0pKShuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLG8pLG4ud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZT1uLndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGU/P0MuQnJvd3NlcixvKXtjb25zdCBlPWF3YWl0IG9lKCk7bi53b3Jrc3BhY2VQbGF0Zm9ybS5uZXdQYWdlVXJsPWUsbi53b3Jrc3BhY2VQbGF0Zm9ybS5uZXdUYWJVcmw9ZSxuLmxheW91dCYmKG4ubGF5b3V0LmRpbWVuc2lvbnMuYm9yZGVyV2lkdGg9NCxuLmxheW91dC5kaW1lbnNpb25zLmhlYWRlckhlaWdodD0yOCksbi5uYW1lPW4ubmFtZXx8YCR7bWUuQnJvd3NlcldpbmRvd30tJHtpYSgpfWAsKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IG5lKCksYT1tZS5Ccm93c2VyQWRkcmVzc1NlYXJjaFByZWZpeCtlLm5hbWUsbj10K0suQnJvd3NlclBvcHVwTWVudUFkZHJlc3NTZWFyY2hSZXN1bHRzVmlldyxvPVtdLHI9b3MoYSxuKTtvLnB1c2gocik7Y29uc3QgaT1tZS5BSUNvbXBhbmlvblByZWZpeCtlLm5hbWUse3VybDpzLGVuYWJsZWQ6Y309Sm4oKTtpZihjKXtjb25zdCBlPW9zKGkscyk7by5wdXNoKGUpfWF3YWl0IFByb21pc2UuYWxsKG8pfSkobik7Y29uc3R7ZW5hYmxlZDp0fT1KbigpO24ud29ya3NwYWNlUGxhdGZvcm0uaXNBaUVuYWJsZWQ9dCxuLm1pbldpZHRoPU1hdGgubWF4KDY1NCxuLm1pbldpZHRoPz8wKSxuLm1pbkhlaWdodD1NYXRoLm1heCg0ODgsbi5taW5IZWlnaHQ/PzApfWVsc2Ugbi5taW5XaWR0aD1NYXRoLm1heCgyMzIsbi5taW5XaWR0aD8/MCksZnVuY3Rpb24oZSl7Y29uc3QgdD1lLndvcmtzcGFjZVBsYXRmb3JtPy52aWV3VGFiRGltZW5zaW9ucyxhPWUud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VUYWJEaW1lbnNpb25zLG49L15bMC05XSsocHh8JSkkLztpZih0KXtpZih0Lm1pbldpZHRoJiYhbi50ZXN0KHQubWluV2lkdGgpKXRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgdmlld1RhYkRpbWVuc2lvbnMubWluIHZhbHVlIFwiJHt0Lm1pbldpZHRofVwiIGlzIG5vdCBpbiBhIHN1cHBvcnRlZCBmb3JtYXQuYCk7aWYodC5tYXhXaWR0aCYmIW4udGVzdCh0Lm1heFdpZHRoKSl0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIHZpZXdUYWJEaW1lbnNpb25zLm1heCB2YWx1ZSBcIiR7dC5tYXhXaWR0aH1cIiBpcyBub3QgaW4gYSBzdXBwb3J0ZWQgZm9ybWF0LmApfWlmKGEpe2lmKGEubWluV2lkdGgmJiFuLnRlc3QoYS5taW5XaWR0aCkpdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBwYWdlVGFiRGltZW5zaW9ucy5taW4gdmFsdWUgXCIke2EubWluV2lkdGh9XCIgaXMgbm90IGluIGEgc3VwcG9ydGVkIGZvcm1hdC5gKTtpZihhLm1heFdpZHRoJiYhbi50ZXN0KGEubWF4V2lkdGgpKXRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgcGFnZVRhYkRpbWVuc2lvbnMubWF4IHZhbHVlIFwiJHthLm1heFdpZHRofVwiIGlzIG5vdCBpbiBhIHN1cHBvcnRlZCBmb3JtYXQuYCl9fShuKX1yZXR1cm4gbi5jb3JuZXJSb3VuZGluZyYmZGVsZXRlIG4uY29ybmVyUm91bmRpbmcsbi5uYW1lfHxuLmxheW91dFNuYXBzaG90P24uY29udGV4dE1lbnVPcHRpb25zPy50ZW1wbGF0ZT8ubGVuZ3RoPjA/bi5jb250ZXh0TWVudU9wdGlvbnMudGVtcGxhdGU9bi5jb250ZXh0TWVudU9wdGlvbnMudGVtcGxhdGUuZmlsdGVyKChlPT5cInByaW50XCIhPT1lKSk6bi5jb250ZXh0TWVudU9wdGlvbnM9e3RlbXBsYXRlOltdLGVuYWJsZWQ6ITF9Om4ubmFtZT1gJHttZS5DbGFzc2ljV2luZG93fS0ke2lhKCl9YCxuLndvcmtzcGFjZVBsYXRmb3JtJiZhJiYobi53b3Jrc3BhY2VQbGF0Zm9ybS5fdGhlbWVEYXRhPWEpLG59Y29uc3QgZHM9YXN5bmMoZSx0KT0+e2NvbnN0IGE9e3V1aWQ6dC51dWlkLG5hbWU6dC5uYW1lfTthd2FpdCB6byhhLGUudGl0bGU/P2F3YWl0IFRpKCksZS5zaG91bGRDZW50ZXJPbk1vbml0b3IpJiZmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5xdWl0KCl9LHVzPWFzeW5jKGUsdCk9Pntjb25zdCBhPWJuKCksbj1hd2FpdCBhLkJyb3dzZXIuZ2V0TGFzdEZvY3VzZWRXaW5kb3coKTtpZighbilyZXR1cm47Y29uc3Qgbz1hLkJyb3dzZXIud3JhcFN5bmMobikse3RpdGxlOnIsZGVzY3JpcHRpb246aX09ZSxzPWF3YWl0IFpvKHt0aXRsZTpyLGRlc2NyaXB0aW9uOmksaWRlbnRpdHk6by5pZGVudGl0eX0pO3MmJm8uX3NlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZSh7aWRlbnRpdHk6dCxyZXNwb25zZTpzfSl9O2FzeW5jIGZ1bmN0aW9uIHBzKGUsdCxhKXtjb25zdCBuPWUubWFuaWZlc3RVcmw/YXdhaXQgdCh7bWFuaWZlc3RVcmw6ZS5tYW5pZmVzdFVybH0sYSk6dm9pZCAwO2lmKG4/LmludGVyb3AmJmUuaW50ZXJvcCl7Y29uc3QgdD17Li4uZSwuLi5uLGludGVyb3A6ZS5pbnRlcm9wfTtyZXR1cm4gZGVsZXRlIHQubWFuaWZlc3RVcmwsdH1yZXR1cm4gZX1jb25zdCB3cz1lPT57Y29uc3QgdD1pcyhlKTtyZXR1cm4gdC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy5icm93c2VyTmF2aWdhdGlvbkJ1dHRvbnMmJih0LndvcmtzcGFjZVBsYXRmb3JtPXsuLi50LndvcmtzcGFjZVBsYXRmb3JtLGJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9uczp0Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGEuYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zfSxkZWxldGUgdC5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhLmJyb3dzZXJOYXZpZ2F0aW9uQnV0dG9ucyksdH0sZ3M9ZT0+e2NvbnN0IHQ9aXMoZSk7cmV0dXJuIHQud29ya3NwYWNlUGxhdGZvcm0mJih0Ll9pbnRlcm5hbFdvcmtzcGFjZURhdGE9ey4uLnQuX2ludGVybmFsV29ya3NwYWNlRGF0YSwuLi50LndvcmtzcGFjZVBsYXRmb3JtfSxkZWxldGUgdC53b3Jrc3BhY2VQbGF0Zm9ybSksdH0saHM9e3JlbG9hZDpbe2tleXM6XCJDdHJsK1JcIixwcmV2ZW50RGVmYXVsdDohMH1dLGJhY2s6W3trZXlzOlwiQWx0K0xlZnRcIixwcmV2ZW50RGVmYXVsdDohMH1dLGZvcndhcmQ6W3trZXlzOlwiQWx0K1JpZ2h0XCIscHJldmVudERlZmF1bHQ6ITB9XX0sbXM9e3JlbG9hZDpbe2tleXM6XCJDbWQrUlwiLHByZXZlbnREZWZhdWx0OiEwfV0sYmFjazpbe2tleXM6XCJDbWQrW1wiLHByZXZlbnREZWZhdWx0OiEwfSx7a2V5czpcIkNtZCtMZWZ0XCIscHJldmVudERlZmF1bHQ6ITB9XSxmb3J3YXJkOlt7a2V5czpcIkNtZCtdXCIscHJldmVudERlZmF1bHQ6ITB9LHtrZXlzOlwiQ21kK1JpZ2h0XCIscHJldmVudERlZmF1bHQ6ITB9XX0sa3M9YXN5bmMoKT0+YXdhaXQgZWkoKT9oczptcyxicz0oZSx0KT0+e2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmMoZSk7aWYoIXQpcmV0dXJuO2NvbnN0IG49ZT0+eyhhc3luYyhlLHQsYSk9PntpZihcImtleURvd25cIiE9PWEuaW5wdXRUeXBlKXJldHVybjtjb25zdCBuPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuZ2V0Q3VycmVudFdpbmRvdygpLGE9YXdhaXQgdC5nZXRPcHRpb25zKCksbj1hLndvcmtzcGFjZVBsYXRmb3JtPy5uYXZpZ2F0aW9uQnV0dG9ucztyZXR1cm4gbi5lbmFibGVkJiYhbi5ob3RrZXlzRGlzYWJsZWR9KShlKSxvPWF3YWl0IGVpKCk7aWYobil7aWYodC5yZWxvYWQpe2NvbnN0IG49YS5jdHJsS2V5JiYhYS5hbHRLZXkmJiFhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcInJcIj09PWEua2V5LHI9IWEuY3RybEtleSYmIWEuYWx0S2V5JiZhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcInJcIj09PWEua2V5OyhvP246cikmJnQ/LnJlbG9hZCYmKGUucmVsb2FkKCksWHQoe3R5cGU6XCJWaWV3XCIsYWN0aW9uOlwiUmVsb2FkXCIsdmFsdWU6ZS5pZGVudGl0eS5uYW1lfSkpfWlmKHQuYmFjayl7Y29uc3Qgbj0hYS5jdHJsS2V5JiZhLmFsdEtleSYmIWEubWV0YUtleSYmIWEuc2hpZnRLZXkmJlwiQXJyb3dMZWZ0XCI9PT1hLmtleSxyPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJBcnJvd0xlZnRcIj09PWEua2V5LGk9IWEuY3RybEtleSYmIWEuYWx0S2V5JiZhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiZcIltcIj09PWEua2V5OyhvP246cnx8aSkmJnQ/LmJhY2smJihlLm5hdmlnYXRlQmFjaygpLFh0KHt0eXBlOlwiVmlld1wiLGFjdGlvbjpcIkJhY2tcIix2YWx1ZTplLmlkZW50aXR5Lm5hbWV9KSl9aWYodC5mb3J3YXJkKXtjb25zdCBuPSFhLmN0cmxLZXkmJmEuYWx0S2V5JiYhYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJBcnJvd1JpZ2h0XCI9PT1hLmtleSxyPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJBcnJvd1JpZ2h0XCI9PT1hLmtleSxpPSFhLmN0cmxLZXkmJiFhLmFsdEtleSYmYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXCJdXCI9PT1hLmtleTsobz9uOnJ8fGkpJiZ0Py5mb3J3YXJkJiYoZS5uYXZpZ2F0ZUZvcndhcmQoKSxYdCh7dHlwZTpcIlZpZXdcIixhY3Rpb246XCJGb3J3YXJkXCIsdmFsdWU6ZS5pZGVudGl0eS5uYW1lfSkpfX19KShhLHQsZSl9O2EuYWRkTGlzdGVuZXIoXCJob3RrZXlcIixuKSxhLm9uY2UoXCJkZXN0cm95ZWRcIiwoKCk9PnthLnJlbW92ZUxpc3RlbmVyKFwiaG90a2V5XCIsbil9KSl9LGZzPShlLHQpPT5pcyhlKS5tYXAoKGU9PihcImNvbXBvbmVudFN0YXRlXCJpbiBlP2UuY29tcG9uZW50U3RhdGU9dChlLmNvbXBvbmVudFN0YXRlKTpcImNvbnRlbnRcImluIGUmJihlLmNvbnRlbnQ9ZnMoZS5jb250ZW50LHQpKSxlKSkpLHlzPWU9PntpZihlKXtjb25zdCB0PWlzKGUpO3JldHVybiB0LmNvbnRlbnQmJih0LmNvbnRlbnQ9ZnModC5jb250ZW50LHdzKSksdH1yZXR1cm4gZX0sU3M9ZT0+e2lmKGUpe2NvbnN0IHQ9aXMoZSk7cmV0dXJuIHQuY29udGVudCYmKHQuY29udGVudD1mcyh0LmNvbnRlbnQsZ3MpKSx0fXJldHVybiBlfTthc3luYyBmdW5jdGlvbiB2cyh7YXBwOmUsdGFyZ2V0OnR9KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3N3aXRjaChlLm1hbmlmZXN0VHlwZSl7Y2FzZSBsLlNuYXBzaG90OnJldHVybiBhLmFwcGx5U25hcHNob3QoZS5tYW5pZmVzdCk7Y2FzZSBsLlZpZXc6cmV0dXJuIGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtpZihcInZpZXdcIj09PXQuZW50aXR5VHlwZSl7Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyh0KSxuPWF3YWl0IGEuZ2V0UGFyZW50TGF5b3V0KCk7cmV0dXJuIGF3YWl0IG4ucmVwbGFjZVZpZXcodCx7bWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx1cmw6dm9pZCAwLHRhcmdldDp2b2lkIDB9KSxhLmRlc3Ryb3koKX1yZXR1cm4gYS5jcmVhdGVWaWV3KHtuYW1lOnZvaWQgMCx1cmw6dm9pZCAwLG1hbmlmZXN0VXJsOmUubWFuaWZlc3QsdGFyZ2V0OnZvaWQgMH0pfShlLHQpO2Nhc2UgbC5FeHRlcm5hbDpyZXR1cm4gZmluLlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3Moe3BhdGg6ZS5tYW5pZmVzdCx1dWlkOmUuYXBwSWR9KTtkZWZhdWx0OnJldHVybiBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QoZS5tYW5pZmVzdCl9fWxldCBQcztjb25zdCBDcz0oKT0+e2lmKCFQcyl7Y29uc3QgZT1YZShgJHtcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1hcHAtZGlyZWN0b3J5YCk7UHM9ZSgpfXJldHVybiBQc307YXN5bmMgZnVuY3Rpb24gTXMoZSl7aWYoIWF3YWl0IEh0KGUuaWRlbnRpdHkpKXJldHVybltdO3JldHVybihhd2FpdCBDcygpKS5kaXNwYXRjaChJYS5HZXRBcHBzLGUucmVxKX1hc3luYyBmdW5jdGlvbiB4cyhlKXtpZighYXdhaXQgSHQoZS5pZGVudGl0eSkpcmV0dXJuW107cmV0dXJuKGF3YWl0IENzKCkpLmRpc3BhdGNoKElhLkdldFNlYXJjaFByb3ZpZGVycyxlKX1hc3luYyBmdW5jdGlvbiBJcyhlKXtyZXR1cm4oYXdhaXQgQ3MoKSkuZGlzcGF0Y2goSWEuR2V0Q3VyYXRlZENvbnRlbnQsZSl9YXN5bmMgZnVuY3Rpb24gQXMoZSl7cmV0dXJuKGF3YWl0IENzKCkpLmRpc3BhdGNoKElhLkdldFJlY2VudGx5VmlzaXRlZCxlKX1hc3luYyBmdW5jdGlvbiBXcyhlKXtjb25zdCB0PShhd2FpdCBNZSgpKS5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuZ2V0T3B0aW9ucygpO3Qud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzJiZ0LmxheW91dCYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IENhKGUpKS5kaXNwYXRjaChUYS5VcGRhdGVQYWdlc1dpbmRvd09wdGlvbnMpKShlLmlkZW50aXR5KX0pKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodCksZT9lKCk6dWEoKX1sZXQgRHM9W107Y29uc3QgVHM9KCk9PkRzO2FzeW5jIGZ1bmN0aW9uIEJzKGUpe2NvbnN0IHQ9ZT0+e2lmKCFlLmluY2x1ZGVzKFwiI1wiKSYmIWUuaW5jbHVkZXMoXCJyZ2JcIikmJiFlLmluY2x1ZGVzKFwiaHNsXCIpKXRocm93IG5ldyBFcnJvcihcIkJhY2tncm91bmQgcHJpbWFyeSBjb2xvciBpcyBub3QgdGhlIHJpZ2h0IGZvcm1hdC5cIil9O2U/LmZvckVhY2goKGU9PntcInBhbGV0dGVcImluIGUmJnQoZS5wYWxldHRlLmJhY2tncm91bmRQcmltYXJ5KSxcInBhbGV0dGVzXCJpbiBlJiYodChlLnBhbGV0dGVzLmRhcmsuYmFja2dyb3VuZFByaW1hcnkpLHQoZS5wYWxldHRlcy5saWdodC5iYWNrZ3JvdW5kUHJpbWFyeSkpfSkpO2NvbnN0IGE9KChlLHQpPT57aWYoIWV8fCFlWzBdKXtjb25zdHtkYXJrOmUsbGlnaHQ6YX09d3RbMF0ucGFsZXR0ZXM7cmV0dXJuIGNuLnNldFBhbGV0dGVzKHtkYXJrOmUsbGlnaHQ6YX0sdCksd3R9e2NvbnN0IGE9ZVswXTtpZihcInBhbGV0dGVcImluIGEpe2NvbnN0e3BhbGV0dGU6bn09YSxvPXsuLi5wdCwuLi5ufTtyZXR1cm4gY24uc2V0UGFsZXR0ZXMoe2Rhcms6byxsaWdodDpvfSx0KSxhLnBhbGV0dGU9byxlfWlmKFwicGFsZXR0ZXNcImluIGEpe2NvbnN0e2Rhcms6bixsaWdodDpvfT1hLnBhbGV0dGVzLHI9ey4uLnB0LC4uLm59LGk9ey4uLnV0LC4uLm99O3JldHVybiBjbi5zZXRQYWxldHRlcyh7ZGFyazpyLGxpZ2h0Oml9LHQpLGEucGFsZXR0ZXM9e2Rhcms6cixsaWdodDppfSxlfX19KShlLGF3YWl0IGVpKCkpO0RzPWF9Y29uc3QgUnM9KGUsdCk9PmE9Pntjb25zdCBuPW51bGwhPT1lO3JldHVybiBjbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuaXNXb3Jrc3BhY2VQbGF0Zm9ybT0oKT0+KHtpc1dvcmtzcGFjZVBsYXRmb3JtOiEwLGlzQnJvd3NlckluaXRpYWxpemVkOiEhZSxhbmFseXRpY3M6e2lzU3VwcG9ydGVkOiEwfX0pLHRoaXMuZGV0YWNoUGFnZXNGcm9tV2luZG93PXBvLHRoaXMuZ2V0QWxsQXR0YWNoZWRQYWdlcz10byx0aGlzLmdldFBhZ2VzRm9yV2luZG93PWdvLHRoaXMuZ2V0UGFnZUZvcldpbmRvdz1obyx0aGlzLm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWw9TW8sdGhpcy5sYXVuY2hBcHA9dnMsdGhpcy5zYXZlUGFnZT1jbyx0aGlzLnNhdmVXb3Jrc3BhY2U9YXIsdGhpcy5jcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1ybyx0aGlzLnVwZGF0ZVNhdmVkUGFnZUludGVybmFsPXNvLHRoaXMuZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9aW8sdGhpcy5yZW9yZGVyUGFnZXNGb3JXaW5kb3c9bW8sdGhpcy5nZXRVbmlxdWVQYWdlVGl0bGU9Ym8sdGhpcy51cGRhdGVQYWdlRm9yV2luZG93PXVvLHRoaXMuZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PU1yLHRoaXMuZ2V0VGhlbWVzPVRzLHRoaXMuaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9QnIsdGhpcy5yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWw9ZHMsdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPWVyLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPVlvLHRoaXMuZ2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbD1mcix0aGlzLmdldFBhZ2VCeVZpZXdJZGVudGl0eT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uUGxhdGZvcm0uTGF5b3V0LmdldExheW91dEJ5Vmlld0lkZW50aXR5KGUpLGE9dC5pZGVudGl0eTtpZighKFwibGF5b3V0TmFtZVwiaW4gYSkpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdldCBsYXlvdXQncyBpZGVudGl0eVwiKTtjb25zdCBuPWF3YWl0IGJuKCkuQnJvd3Nlci53cmFwU3luYyh0LmlkZW50aXR5KS5nZXRQYWdlcygpLG89bi5maW5kSW5kZXgoKGU9PmUubGF5b3V0TmFtZT09PWEubGF5b3V0TmFtZSkpO2lmKC0xPT09byl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHBhZ2UncyBpbmRleFwiKTtyZXR1cm57d2luZG93SWRlbnRpdHk6e25hbWU6dC5pZGVudGl0eS5uYW1lLHV1aWQ6dC5pZGVudGl0eS51dWlkfSxwYWdlOm5bb10scGFnZUluZGV4Om99fSx0aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudT10aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlcz10aGlzLmdldFNhdmVkUGFnZXMuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkUGFnZT10aGlzLmdldFNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuY3JlYXRlU2F2ZWRQYWdlPXRoaXMuY3JlYXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy51cGRhdGVTYXZlZFBhZ2U9dGhpcy51cGRhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmRlbGV0ZVNhdmVkUGFnZT10aGlzLmRlbGV0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlUGFnZUNoYW5nZXM9dGhpcy5oYW5kbGVQYWdlQ2hhbmdlcy5iaW5kKHRoaXMpLHRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdz10aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3cuYmluZCh0aGlzKSx0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudT10aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudT10aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkV29ya3NwYWNlcz10aGlzLmdldFNhdmVkV29ya3NwYWNlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzTWV0YWRhdGE9dGhpcy5nZXRTYXZlZFdvcmtzcGFjZXNNZXRhZGF0YS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2U9dGhpcy5nZXRTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuY3JlYXRlU2F2ZWRXb3Jrc3BhY2U9dGhpcy5jcmVhdGVTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMudXBkYXRlU2F2ZWRXb3Jrc3BhY2U9dGhpcy51cGRhdGVTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRXb3Jrc3BhY2U9dGhpcy5kZWxldGVTYXZlZFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZT10aGlzLmdldEN1cnJlbnRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmdldERvY2tQcm92aWRlckNvbmZpZz10aGlzLmdldERvY2tQcm92aWRlckNvbmZpZy5iaW5kKHRoaXMpLHRoaXMuc2F2ZURvY2tQcm92aWRlckNvbmZpZz10aGlzLnNhdmVEb2NrUHJvdmlkZXJDb25maWcuYmluZCh0aGlzKSx0aGlzLmFwcGx5V29ya3NwYWNlPXRoaXMuYXBwbHlXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLnJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbD10aGlzLnJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPXRoaXMuc2V0QWN0aXZlV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRTZWxlY3RlZFNjaGVtZT10aGlzLmdldFNlbGVjdGVkU2NoZW1lLmJpbmQodGhpcyksdGhpcy5zZXRTZWxlY3RlZFNjaGVtZT10aGlzLnNldFNlbGVjdGVkU2NoZW1lLmJpbmQodGhpcyksdGhpcy5hbmFseXRpY3NJbnRlcm5hbD10aGlzLmFuYWx5dGljc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5oYW5kbGVBbmFseXRpY3M9dGhpcy5oYW5kbGVBbmFseXRpY3MuYmluZCh0aGlzKSx0aGlzLmdldExhbmd1YWdlPXRoaXMuZ2V0TGFuZ3VhZ2UuYmluZCh0aGlzKSx0aGlzLnNldExhbmd1YWdlPXRoaXMuc2V0TGFuZ3VhZ2UuYmluZCh0aGlzKSx0aGlzLmhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlPXRoaXMuaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2UuYmluZCh0aGlzKSx0aGlzLnNob3VsZFBhZ2VDbG9zZT10aGlzLnNob3VsZFBhZ2VDbG9zZS5iaW5kKHRoaXMpLHRoaXMuc2hvdWxkV2luZG93Q2xvc2U9dGhpcy5zaG91bGRXaW5kb3dDbG9zZS5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlUGFnZXNBbmRXaW5kb3dDbG9zZT10aGlzLmhhbmRsZVBhZ2VzQW5kV2luZG93Q2xvc2UuYmluZCh0aGlzKSx0aGlzLnNldEFjdGl2ZVBhZ2U9dGhpcy5zZXRBY3RpdmVQYWdlLmJpbmQodGhpcyksdGhpcy5oYW5kbGVQYWdlQ2hhbmdlcz10aGlzLmhhbmRsZVBhZ2VDaGFuZ2VzLmJpbmQodGhpcyksdGhpcy5jb3B5UGFnZT10aGlzLmNvcHlQYWdlLmJpbmQodGhpcyksdGhpcy5hZGRQYWdlPXRoaXMuYWRkUGFnZS5iaW5kKHRoaXMpLHRoaXMuYWRkRGVmYXVsdFBhZ2U9dGhpcy5hZGREZWZhdWx0UGFnZS5iaW5kKHRoaXMpLHRoaXMubWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD10aGlzLm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnRyYWNrUmVtb3ZlZFRhYkludGVybmFsPXRoaXMudHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWw9dGhpcy5yZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsLmJpbmQodGhpcyksdGhpcy50cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWw9dGhpcy50cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9dGhpcy5nZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9dGhpcy5nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnNlYXJjaFNpdGVzSW50ZXJuYWw9dGhpcy5zZWFyY2hTaXRlc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbD10aGlzLmdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXRDdXJhdGVkQ29udGVudEludGVybmFsPXRoaXMuZ2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbD10aGlzLmhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD10aGlzLnJlZnJlc2hCb29rbWFya3NJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMubGF1bmNoQm9va21hcmtJbnRlcm5hbD10aGlzLmxhdW5jaEJvb2ttYXJrSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmdldE5vdGlmaWNhdGlvbnNDb25maWc9dGhpcy5nZXROb3RpZmljYXRpb25zQ29uZmlnLmJpbmQodGhpcyksdGhpcy51cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw9dGhpcy51cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw9dGhpcy51cGRhdGVDb250ZW50TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5sYXVuY2hEb2NrRW50cnlJbnRlcm5hbD10aGlzLmxhdW5jaERvY2tFbnRyeUludGVybmFsLmJpbmQodGhpcyksdGhpcy5zZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbD10aGlzLnNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsLmJpbmQodGhpcyksdGhpcy5uYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw9dGhpcy5uYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLnNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw9dGhpcy5zZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsLmJpbmQodGhpcyksdGhpcy5nZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5nZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLmhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw9dGhpcy5oYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5yZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbD10aGlzLnJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5hZGREb2NrRmF2b3JpdGVJbnRlcm5hbD10aGlzLmFkZERvY2tGYXZvcml0ZUludGVybmFsLmJpbmQodGhpcyksdGhpcy5mb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsPXRoaXMuZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMuc2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlSW50ZXJuYWw9dGhpcy5zZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2VJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMucmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsPWRzLmJpbmQodGhpcyksdGhpcy5zaG93VXBkYXRlVmVyc2lvbk1vZGFsSW50ZXJuYWw9dXMuYmluZCh0aGlzKX1hc3luYyBhcHBseVdvcmtzcGFjZSguLi5lKXtyZXR1cm4gam8uYXBwbHkodGhpcyxlKX1hc3luYyByZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWwoLi4uZSl7cmV0dXJuIFFvLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U25hcHNob3QoKXtjb25zdCBlPW4/YXdhaXQgV3MoKGFzeW5jKCk9PnVhKGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKSkpOmF3YWl0IHVhKGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKTtsZXQgdD17Li4uZSx3aW5kb3dzOmUud2luZG93cy5maWx0ZXIocnMpLm1hcChkYSl9O3JldHVybiB0PShlPT57Y29uc3QgdD1pcyhlKTtyZXR1cm4gdC53aW5kb3dzLmZvckVhY2goKGU9PntlLmxheW91dCYmKGUubGF5b3V0PXlzKGUubGF5b3V0KSksZS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/LmZvckVhY2goKGU9PntlPy5sYXlvdXQmJihlLmxheW91dD15cyhlLmxheW91dCkpfSkpfSkpLHR9KSh0KSx0fWFzeW5jIGdldFZpZXdTbmFwc2hvdChlKXtsZXQgdD1hd2FpdCBzdXBlci5nZXRWaWV3U25hcHNob3QoZSk7cmV0dXJuIHQ9d3ModCksdH1hc3luYyBhcHBseVNuYXBzaG90KHtzbmFwc2hvdDplLG9wdGlvbnM6dH0pe2xldCBhPWU7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWF3YWl0IHN1cGVyLmZldGNoTWFuaWZlc3Qoe21hbmlmZXN0VXJsOmF9LGZpbi5tZS5pZGVudGl0eSkpO2NvbnN0IG89ZnVuY3Rpb24oZSl7Zm9yKGNvbnN0IHQgb2YgZS53aW5kb3dzKWlmKHQud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzPy5sZW5ndGgpcmV0dXJuITA7cmV0dXJuITF9KGEpO2lmKCFuJiZvKXRocm93IG5ldyBFcnJvcihcIlRoaXMgc25hcHNob3QgY2Fubm90IGJlIGFwcGxpZWQgYXMgdGhlIHBsYXRmb3JtIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGhvdXQgdGhlIGJyb3dzZXIuXCIpO3JldHVybiBhPShlPT57Y29uc3QgdD1pcyhlKTtyZXR1cm4gdC53aW5kb3dzLmZvckVhY2goKGU9PntlLmxheW91dD1TcyhlLmxheW91dCksZS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXM/LmZvckVhY2goKGU9PntlLmxheW91dD1TcyhlLmxheW91dCl9KSl9KSksdH0pKGEpLHN1cGVyLmFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmEsb3B0aW9uczp0fSl9YXN5bmMgY3JlYXRlV2luZG93KHQsYSl7aWYobiYmXCJ0ZWFyb3V0XCI9PT10LnJlYXNvbil7Y29uc3QgZT1hd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGEpLmdldE9wdGlvbnMoKSxuPWUud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGU7dC50YXNrYmFySWNvbkdyb3VwPWUudGFza2Jhckljb25Hcm91cCxuJiYodC53b3Jrc3BhY2VQbGF0Zm9ybXx8PXt9LHQud29ya3NwYWNlUGxhdGZvcm0ud2luZG93VHlwZT1lLndvcmtzcGFjZVBsYXRmb3JtLndpbmRvd1R5cGUsbj09PUMuUGxhdGZvcm0mJih0LnVybD1lLnVybCkpfWlmKCFufHx0LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlPT09Qy5QbGF0Zm9ybSl7Y29uc3QgZT1hd2FpdCBzdXBlci5jcmVhdGVXaW5kb3codCxhKTtyZXR1cm4gWHQoe3R5cGU6XCJXaW5kb3dcIixhY3Rpb246XCJPcGVuIFdpbmRvd1wiLHZhbHVlOmUuaWRlbnRpdHkubmFtZSxkYXRhOnt1dWlkOmUuaWRlbnRpdHkudXVpZH19KSxlfXZhciBvO289e2FsbG93ZWQ6ITB9LHF0fHwocXQ9ITAsWnQoSnQuQnJvd3NlcixvKSksKChlPVtdKT0+e2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PmUudHlwZSE9PXYuQ3VzdG9tKSksYT1uZXcgU2V0LG49W107Zm9yKGNvbnN0IGUgb2YgdClhLmhhcyhlLnR5cGUpJiZuLnB1c2goZS50eXBlKSxhLmFkZChlLnR5cGUpO2lmKG4ubGVuZ3RoPjApe2NvbnN0IGU9bi5qb2luKFwiLCBcIik7dGhyb3cgbmV3IEVycm9yKGBFbmNvdW50ZXJlZCBhIGR1cGxpY2F0ZSBcIiR7ZX1cIiB0b29sYmFyIGJ1dHRvbi4gTm8gbW9yZSB0aGFuIG9uZSBpbnN0YW5jZSBvZiBhIGJ1dHRvbiB0eXBlIG1heSBiZSBwcm92aWRlZC5gKX19KSh0LndvcmtzcGFjZVBsYXRmb3JtPy50b29sYmFyT3B0aW9ucz8uYnV0dG9ucyk7bGV0IHI9KGU9Plwid29ya3NwYWNlUGxhdGZvcm1cImluIGU/ZTooKHt3b3Jrc3RhY2tzOmUscGFnZXM6dCwuLi5hfSk9Pih7Li4uYSx3b3Jrc3BhY2VQbGF0Zm9ybTp7cGFnZXM6dHx8ZXx8bnVsbH19KSkoZSkpKHQpO3I9YXdhaXQgbHMocixlLHt0aGVtZXM6VHMoKSxzZWxlY3RlZFNjaGVtZTp0aGlzLmdldFNlbGVjdGVkU2NoZW1lKCl9KSxyPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKTtsZXQgYT10LnByaW1hcnlNb25pdG9yO2NvbnN0IG49ZS5kZWZhdWx0TGVmdCxvPWUuZGVmYXVsdFRvcDt0Lm5vblByaW1hcnlNb25pdG9ycy5mb3JFYWNoKChlPT57Y29uc3R7dG9wOnQsYm90dG9tOnIsbGVmdDppLHJpZ2h0OnN9PWUuYXZhaWxhYmxlUmVjdDtuPj1pJiZuPD1zJiZvPj10JiZvPD1yJiYoYT1lKX0pKTtjb25zdCByPWEuYXZhaWxhYmxlUmVjdC5ib3R0b20tYS5hdmFpbGFibGVSZWN0LnRvcCxpPWEuYXZhaWxhYmxlUmVjdC5yaWdodC1hLmF2YWlsYWJsZVJlY3QubGVmdDtyZXR1cm4gZS5kZWZhdWx0SGVpZ2h0PU1hdGgubWluKGUuZGVmYXVsdEhlaWdodHx8ODAwLHIpLGUuZGVmYXVsdFdpZHRoPU1hdGgubWluKGUuZGVmYXVsdFdpZHRofHw4MDAsaSksZX0pKHIpO2NvbnN0IGk9YXdhaXQoZT0+YXN5bmModCxhKT0+e2xldCBuPSExO2NvbnN0IG89YXdhaXQgZSh0LGEpO3JldHVybiB0Py53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uZGVmZXJTaG93RW5hYmxlZD8oYXdhaXQgby5hZGRMaXN0ZW5lcihcInNob3ctcmVxdWVzdGVkXCIsKGFzeW5jKCk9PntpZihuKXJldHVybjtjb25zdCBlPWF3YWl0IG8uZ2V0T3B0aW9ucygpO2F3YWl0IG8udXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06ey4uLmUud29ya3NwYWNlUGxhdGZvcm0sX2ludGVybmFsRGVmZXJTaG93T3B0aW9uczp7Li4uZS53b3Jrc3BhY2VQbGF0Zm9ybS5faW50ZXJuYWxEZWZlclNob3dPcHRpb25zLGF1dG9TaG93OiEwfX19KSxuPSEwfSkpLG8pOm99KSgoKGUsdCk9PnN1cGVyLmNyZWF0ZVdpbmRvdyhlLHQpKSkocixhKTtyZXR1cm4gWHQoe3R5cGU6XCJXaW5kb3dcIixhY3Rpb246XCJPcGVuIFdpbmRvd1wiLHZhbHVlOmkuaWRlbnRpdHkubmFtZSxkYXRhOnt1dWlkOmkuaWRlbnRpdHkudXVpZH19KSxpfWFzeW5jIGNyZWF0ZVZpZXcodCxhKXt0Lm9wdHM9eW4odC5vcHRzLGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzPWF3YWl0IHBzKHQub3B0cyx0aGlzLmZldGNoTWFuaWZlc3QsYSksdC5vcHRzPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWlzKGUpLGE9dC53b3Jrc3BhY2VQbGF0Zm9ybT8uYnJvd3Nlck5hdmlnYXRpb25CdXR0b25zO2lmKGEpe2NvbnN0IGU9T2JqZWN0LmtleXMoYSk7Zm9yKGNvbnN0IG4gb2YgZSlpZihhW25dKXtjb25zdCBlPShhd2FpdCBrcygpKVtuXTt0LmhvdGtleXM/dC5ob3RrZXlzLnB1c2goLi4uZSk6dC5ob3RrZXlzPVsuLi5lXX19cmV0dXJuIHR9KSh0Lm9wdHMpLHQub3B0cz1ncyh0Lm9wdHMpO2NvbnN0IG49YXdhaXQgc3VwZXIuY3JlYXRlVmlldyh0LGEpO3JldHVybiBicyhuLmlkZW50aXR5LHQub3B0cy5faW50ZXJuYWxXb3Jrc3BhY2VEYXRhPy5icm93c2VyTmF2aWdhdGlvbkJ1dHRvbnMpLG59YXN5bmMgcmVwbGFjZVZpZXcodCxhKXtyZXR1cm4gdC5vcHRzLm5ld1ZpZXc9YXdhaXQgeW4odC5vcHRzLm5ld1ZpZXcsZT8uZGVmYXVsdFZpZXdPcHRpb25zKSx0Lm9wdHMubmV3Vmlldz1hd2FpdCBwcyh0Lm9wdHMubmV3Vmlldyx0aGlzLmZldGNoTWFuaWZlc3QsYSksc3VwZXIucmVwbGFjZVZpZXcodCxhKX1hc3luYyByZXBsYWNlTGF5b3V0KGUsdCl7cmV0dXJuIGF3YWl0IEh0KHQpfHxkZWxldGUgZS5vcHRzLmxheW91dD8uZGltZW5zaW9ucyxzdXBlci5yZXBsYWNlTGF5b3V0KGUsdCl9YXN5bmMgZ2V0U2F2ZWRQYWdlKC4uLmUpe3JldHVybiB6ci5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkUGFnZXMoLi4uZSl7cmV0dXJuIEtyLmFwcGx5KHRoaXMsZSl9YXN5bmMgY3JlYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBKci5hcHBseSh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gWnIuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIHFyLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIFFpLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRXb3Jrc3BhY2VzKC4uLmUpe3JldHVybiBZaS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhKC4uLmUpe3JldHVybihhd2FpdCB0aGlzLmdldFNhdmVkV29ya3NwYWNlcyguLi5lKSkubWFwKChlPT4oe3dvcmtzcGFjZUlkOmUud29ya3NwYWNlSWQsdGl0bGU6ZS50aXRsZX0pKSl9YXN5bmMgY3JlYXRlU2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIFhpLmFwcGx5KHRoaXMsZSl9YXN5bmMgZGVsZXRlU2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIGVzLmFwcGx5KHRoaXMsZSl9YXN5bmMgdXBkYXRlU2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIHRzLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnKC4uLmUpe3JldHVybiBKaS5hcHBseSh0aGlzLGUpfWFzeW5jIHNhdmVEb2NrUHJvdmlkZXJDb25maWcoLi4uZSl7cmV0dXJuIFppLmFwcGx5KHRoaXMsZSl9YXN5bmMgYXR0YWNoUGFnZXNUb1dpbmRvdyh0KXtjb25zdCBhPWF3YWl0IG5zKHQucGFnZXMsZSk7YXdhaXQgcW4oYSksYXdhaXQgbG8oey4uLnQscGFnZXM6YX0pfWFzeW5jIGFkZFBhZ2UoZSl7Y29uc3QgdD1hd2FpdCBIdChlLmlkZW50aXR5KSxhPWF3YWl0IGN0KGUuaWRlbnRpdHkpLHtwYWdlOm4saW5zZXJ0aW9uSW5kZXg6b309ZTtuPy50aXRsZXx8dHx8KG4udGl0bGU9YXdhaXQgYS5kaXNwYXRjaChvdC5HZXRVbmlxdWVQYWdlVGl0bGUsdm9pZCAwKSk7Y29uc3Qgcj0oYXdhaXQgdGhpcy5nZXRBbGxBdHRhY2hlZFBhZ2VzKCkpLmZpbmQoKGU9PmUucGFnZUlkPT09bi5wYWdlSWR8fGUudGl0bGU9PT1uLnRpdGxlKSk7aWYocil7aWYoci5wYWdlSWQ9PT1uLnBhZ2VJZCl0aHJvdyBuZXcgRXJyb3IoYHBhZ2Ugd2l0aCBpZCAke24ucGFnZUlkfSBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgYnJvd3NlciB3aW5kb3cgJHtyLnBhcmVudElkZW50aXR5Lm5hbWV9YCk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBhZGRQYWdlIHRpdGxlIGNvbGxpc2lvbiwgcGFnZSB3aXRoIHRpdGxlICR7bi50aXRsZX0gYWxyZWFkeSBleGlzdHMsIGNvbmZsaWN0aW5nIHBhZ2UgaWQ6ICR7ci5wYWdlSWR9IHdpdGggdGl0bGUgJHtyLnRpdGxlfWApfWNvbnN0IGk9e2lkZW50aXR5OmUuaWRlbnRpdHkscGFnZXM6W3suLi5uLG11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3I6ZS5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yfHxcImR1cGxpY2F0ZVwifV0saW5zZXJ0aW9uSW5kZXg6b307YXdhaXQgdGhpcy5hdHRhY2hQYWdlc1RvV2luZG93KGkpfWFzeW5jIGFkZERlZmF1bHRQYWdlKGUpe2F3YWl0IHRoaXMuYWRkUGFnZShlKSxhd2FpdCB0aGlzLnNldEFjdGl2ZVBhZ2Uoe2lkZW50aXR5OmUuaWRlbnRpdHkscGFnZUlkOmUucGFnZS5wYWdlSWR9KX1hc3luYyBzZXRBY3RpdmVQYWdlKC4uLmUpe3JldHVybiB3by5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBOaS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gVmkuYXBwbHkodGhpcyxbLi4uZSxMci5HbG9iYWxNZW51LEZpLkJvdHRvbVJpZ2h0XSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBMaS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5WaWV3VGFiQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIFZpLmFwcGx5KHRoaXMsWy4uLmUsTHIuQ29udGV4dE1lbnVdKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIF9pLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblBhZ2VUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gVmkuYXBwbHkodGhpcyxbLi4uZSxMci5Db250ZXh0TWVudV0pfWFzeW5jIG9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuIFZpLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBVaS5hcHBseSh0aGlzLGUpfWdldFNlbGVjdGVkU2NoZW1lKC4uLmUpe3JldHVybiBtbi5hcHBseSh0aGlzLGUpfWFzeW5jIHNldFNlbGVjdGVkU2NoZW1lKC4uLmUpe3JldHVybiBobi5hcHBseSh0aGlzLGUpfWFzeW5jIGhhbmRsZVBhZ2VDaGFuZ2VzKC4uLmUpe3JldHVybiBDby5hcHBseSh0aGlzLGUpfWFzeW5jIGFuYWx5dGljc0ludGVybmFsKC4uLmUpe3JldHVybiBGby5hcHBseSh0aGlzLGUpfWFzeW5jIGhhbmRsZUFuYWx5dGljcyguLi5lKXt9YXN5bmMgaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2UoLi4uZSl7cmV0dXJuIGZvLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2hvdWxkUGFnZUNsb3NlKC4uLmUpe3JldHVybiB5by5hcHBseSh0aGlzLGUpfWFzeW5jIHNob3VsZFdpbmRvd0Nsb3NlKC4uLmUpe3JldHVybiBTby5hcHBseSh0aGlzLGUpfWhhbmRsZVBhZ2VzQW5kV2luZG93Q2xvc2UoLi4uZSl7cmV0dXJuIHZvLmFwcGx5KHRoaXMsZSl9YXN5bmMgY29weVBhZ2UoLi4uZSl7cmV0dXJuIFBvLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0Tm90aWZpY2F0aW9uc0NvbmZpZygpe3JldHVybiB0fWFzeW5jIHNldExhbmd1YWdlKC4uLmUpe3JldHVybiBici5hcHBseSh0aGlzLGUpfWFzeW5jIGdldExhbmd1YWdlKCl7cmV0dXJuIGtyLmFwcGx5KHRoaXMpfWFzeW5jIHRyYWNrUmVtb3ZlZFRhYkludGVybmFsKC4uLmUpe3JldHVybiBqci5hcHBseSh0aGlzLGUpfWFzeW5jIHJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWwoKXtjb25zdCBlPWF3YWl0KGFzeW5jKCk9PntpZighJHIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHBvcCBsYXN0IHJlbW92ZWQgdGFiIC0gSW5kZXhEQiBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IGU9JHJbT3JdLHQ9YXdhaXQgZS50b0NvbGxlY3Rpb24oKS5rZXlzKCk7aWYodC5sZW5ndGg+MCl7Y29uc3QgYT1NYXRoLm1heCguLi50Lm1hcCgoZT0+TnVtYmVyKGUpKSkpLnRvU3RyaW5nKCksbj1hd2FpdCBlLmdldChhKTtpZihuKXthd2FpdCBlLmRlbGV0ZShhKTtjb25zdHtpZDp0LC4uLm99PW47cmV0dXJuIG99fX0pKCk7aWYoXCJwYWdlXCJpbiBlKWlmKGF3YWl0IEllKGUuaWRlbnRpdHkpKXtjb25zdCB0PWJuKCkuQnJvd3Nlci53cmFwU3luYyhlLmlkZW50aXR5KTthd2FpdCB0LmFkZFBhZ2UoZS5wYWdlKSxhd2FpdCB0LnNldEFjdGl2ZVBhZ2UoZS5wYWdlLnBhZ2VJZCl9ZWxzZSBibigpLmNyZWF0ZVdpbmRvdyh7bmFtZTplLmlkZW50aXR5Lm5hbWUsd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOltlLnBhZ2VdLHdpbmRvd1R5cGU6Qy5Ccm93c2VyfX0pO2Vsc2UoZnVuY3Rpb24oZSl7cmV0dXJuXCJ3aW5kb3dcImluIGV9KShlKSYmYm4oKS5jcmVhdGVXaW5kb3coe3dvcmtzcGFjZVBsYXRmb3JtOntwYWdlczplLndpbmRvdy5wYWdlcyx3aW5kb3dUeXBlOkMuQnJvd3Nlcn19KX1hc3luYyB0cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWwoLi4uZSl7cmV0dXJuIFlyLmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbCguLi5lKXtyZXR1cm4gYXdhaXQgQXMuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWwoLi4uZSl7cmV0dXJuIFhyLmFwcGx5KHRoaXMsZSl9YXN5bmMgc2VhcmNoU2l0ZXNJbnRlcm5hbCguLi5lKXtyZXR1cm4gYXdhaXQgTXMuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbCguLi5lKXtyZXR1cm4gYXdhaXQgeHMuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRDdXJhdGVkQ29udGVudEludGVybmFsKC4uLmUpe3JldHVybiBhd2FpdCBJcy5hcHBseSh0aGlzLGUpfWFzeW5jIGhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWwoLi4uZSl7fWFzeW5jIGxhdW5jaEJvb2ttYXJrSW50ZXJuYWwoZSl7cmV0dXJuIGFpKGUpfWFzeW5jIHJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCgpeyhhd2FpdCBibigpLkJyb3dzZXIuZ2V0QWxsV2luZG93cygpKS5mb3JFYWNoKChhc3luYyh7aWRlbnRpdHk6ZX0pPT57KGF3YWl0IENhKGUpKS5kaXNwYXRjaChUYS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWwpfSkpOyhhd2FpdCBQYShGcigpKSkuZGlzcGF0Y2goVGEuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsKSxhd2FpdChhc3luYygpPT57Y29uc3QgZT1hd2FpdCBHaSgpO2lmKGUpe2NvbnN0IHQ9YXdhaXQgQ2EoZS5pZGVudGl0eSxPaSk7YXdhaXQgdC5kaXNwYXRjaChUYS5SZWZyZXNoQm9va21hcmtzSW50ZXJuYWwpfX0pKCl9YXN5bmMgdXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsKGUpe3JldHVybihhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBHaSgpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNvbXBhbmlvbiBEb2NrIHdpbmRvdyBub3QgZm91bmRcIik7e2NvbnN0IGE9YXdhaXQgQ2EodC5pZGVudGl0eSxPaSk7YXdhaXQgYS5kaXNwYXRjaChXYS5VcGRhdGVGYXZvcml0ZUVudHJpZXMsZSl9fSkoZSl9YXN5bmMgdXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgR2koKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDb21wYW5pb24gRG9jayB3aW5kb3cgbm90IGZvdW5kXCIpO3tjb25zdCBhPWF3YWl0IENhKHQuaWRlbnRpdHksT2kpO2F3YWl0IGEuZGlzcGF0Y2goV2EuVXBkYXRlQ29udGVudE1lbnUsZSl9fSkoZSl9YXN5bmMgbGF1bmNoRG9ja0VudHJ5SW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBIaSgpKS5kaXNwYXRjaChcImxhdW5jaC1lbnRyeVwiLGUpKShlKX1hc3luYyBzZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgSGkoKSkuZGlzcGF0Y2goXCJzZXQtZGVmYXVsdC1kb2NrLWJ1dHRvbnMtb3JkZXJcIixlKSkoZSl9YXN5bmMgc2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWwoZSl7cmV0dXJuKGFzeW5jIGU9Pihhd2FpdCBIaSgpKS5kaXNwYXRjaChcInNldC1kb2NrLWZhdm9yaXRlcy1vcmRlclwiLGUpKShlKX1hc3luYyBhZGREb2NrRmF2b3JpdGVJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IEhpKCkpLmRpc3BhdGNoKFwiYWRkLWZhdm9yaXRlLWVudHJ5XCIsZSkpKGUpfWFzeW5jIHJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT4oYXdhaXQgSGkoKSkuZGlzcGF0Y2goXCJyZW1vdmUtZmF2b3JpdGUtZW50cnlcIixlKSkoZSl9YXN5bmMgbmF2aWdhdGVDb250ZW50TWVudUludGVybmFsKGUpe3JldHVybihhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBHaSgpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNvbXBhbmlvbiBEb2NrIHdpbmRvdyBub3QgZm91bmRcIik7e2NvbnN0IGE9YXdhaXQgQ2EodC5pZGVudGl0eSxPaSk7YXdhaXQgYS5kaXNwYXRjaChXYS5OYXZpZ2F0ZUNvbnRlbnRNZW51LGUpfX0pKGUpfWFzeW5jIGdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbCgpe3JldHVybihhc3luYygpPT4oYXdhaXQgSGkoKSkuZGlzcGF0Y2goXCJnZXQtZG9jay13b3Jrc3BhY2VzLWNvbnRleHQtbWVudVwiLHZvaWQgMCkpKCl9YXN5bmMgaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbChlKXtyZXR1cm4oYXN5bmMgZT0+KGF3YWl0IEhpKCkpLmRpc3BhdGNoKFwiaGFuZGxlLWRvY2std29ya3NwYWNlcy1tZW51LXJlc3BvbnNlXCIsZSkpKGUpfWFzeW5jIGZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWwoKXtyZXR1cm4gJGkoKX1hc3luYyBzZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2VJbnRlcm5hbChlKXtyZXR1cm4gWWEoZSl9YXN5bmMgc2hvd1VwZGF0ZVZlcnNpb25Nb2RhbEludGVybmFsKGUsdCl7cmV0dXJuIHVzKGUsdCl9fX07ZnVuY3Rpb24gRXMoZSx0LGEpe2NvbnN0IG49UnMoZSxhKTt0cnl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lPT50KG4oZSkpOkFycmF5LmlzQXJyYXkodCk/Wy4uLnQsbl06ZT0+bmV3KG4oZSkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZVBsYXRmb3JtLmluaXQgRXJyb3I6XCIsZSl9fWNvbnN0IEZzPVtcImdyZWVuXCIsXCJwdXJwbGVcIixcIm9yYW5nZVwiLFwicmVkXCIsXCJwaW5rXCIsXCJ5ZWxsb3dcIl0sVnM9XCJDT05URVhUX0dST1VQX1BBR0VcIixOcz0oKT0+ZT0+Y2xhc3MgZXh0ZW5kcyBle2dldENvbnRleHRHcm91cHMoKXtyZXR1cm4gc3VwZXIuZ2V0Q29udGV4dEdyb3VwcygpLm1hcCgoZT0+RnMuaW5jbHVkZXMoZS5kaXNwbGF5TWV0YWRhdGE/Lm5hbWUpP3suLi5lLGRpc3BsYXlNZXRhZGF0YTp7Li4uZS5kaXNwbGF5TWV0YWRhdGEsbmFtZTpPbihlLmRpc3BsYXlNZXRhZGF0YT8ubmFtZSl9fTplKSl9fSxMcz0oKT0+e2NvbnN0IGU9bmV3IFNldChJaS5rZXlzKCkpO3JldHVybiB0PT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMub25DbGllbnRDb25uZWN0ZWQ9YXN5bmMgZT0+e2lmKGUubmFtZS5zdGFydHNXaXRoKFwiaW50ZXJuYWwtZ2VuZXJhdGVkLXZpZXdcIikpe2NvbnN0e3BhZ2U6dH09YXdhaXQgYm4oKS5Ccm93c2VyLmdldFBhZ2VCeVZpZXdJZGVudGl0eShlKSxhPXQuY29udGV4dEdyb3VwO3RoaXMuam9pbkNvbnRleHRHcm91cCh7Y29udGV4dEdyb3VwSWQ6YT8/VnMsdGFyZ2V0OmV9LHt1dWlkOnRoaXMuZmluLm1lLnV1aWQsbmFtZTp0aGlzLmZpbi5tZS5uYW1lfSl9fTtjb25zdCBlPXRoaXMuaW50ZXJvcENsaWVudHMuc2V0O3RoaXMuaW50ZXJvcENsaWVudHMuc2V0PSh0LGEpPT57ZS5jYWxsKHRoaXMuaW50ZXJvcENsaWVudHMsdCxhKSx0aGlzLm9uQ2xpZW50Q29ubmVjdGVkKGEuY2xpZW50SWRlbnRpdHkpfX1hc3luYyBqb2luQ29udGV4dEdyb3VwKHtjb250ZXh0R3JvdXBJZDp0LHRhcmdldDphfSxuKXtpZih0IT09VnMpcmV0dXJuIHN1cGVyLmpvaW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOnQsdGFyZ2V0OmF9LG4pO3RyeXtjb25zdCB0PShhd2FpdCBibigpLkJyb3dzZXIuZ2V0UGFnZUJ5Vmlld0lkZW50aXR5KGEpKS5wYWdlLmxheW91dE5hbWU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVmlldyBkb2VzIG5vdCBiZWxvbmcgdG8gYSBwYWdlXCIpO2lmKCFlLmhhcyh0KSYmKGUuYWRkKHQpLCF0aGlzLmNvbnRleHRHcm91cHNCeUlkLmhhcyh0KSkpe2NvbnN0IGU9bmV3IE1hcDt0aGlzLmNvbnRleHRHcm91cHNCeUlkLnNldCh0LGUpfWF3YWl0IHN1cGVyLmpvaW5Db250ZXh0R3JvdXAoe2NvbnRleHRHcm91cElkOnQsdGFyZ2V0OmF9LG4pLGEubmFtZX1jYXRjaChlKXtKU09OLnN0cmluZ2lmeShhKSxlLnN0YWNrfX1nZXRDb250ZXh0R3JvdXBzKCl7cmV0dXJuIEFycmF5LmZyb20oZSkubWFwKChlPT4oe2lkOmUsZGlzcGxheU1ldGFkYXRhOklpLmdldChlKT8/e319KSkpfXNldENvbnRleHRGb3JHcm91cChlLHQpe2lmKCF0aGlzLmNvbnRleHRHcm91cHNCeUlkLmhhcyh0KSl7Y29uc3QgZT1uZXcgTWFwO3RoaXMuY29udGV4dEdyb3Vwc0J5SWQuc2V0KHQsZSl9cmV0dXJuIHN1cGVyLnNldENvbnRleHRGb3JHcm91cChlLHQpfX19LF9zPShlLHQpPT57Y29uc3QgYT0oZT0+JHQoZSk/THMoKTpOcygpKSh0KTt0cnl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT90PT5lKGEodCkpOkFycmF5LmlzQXJyYXkoZSk/Wy4uLmUsYV06ZT0+bmV3KGEoZSkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZVBsYXRmb3JtLmluaXQgRXJyb3I6XCIsZSl9fTthc3luYyBmdW5jdGlvbiBVcygpeyhhc3luYygpPT57aGUoKS5vbihcIndpbmRvdy1jbG9zZWRcIixEcil9KSgpLGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKSx0PWF3YWl0IHhyKCk7YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGFzeW5jIGU9Pnthd2FpdCBBcihlLmlkZW50aXR5LHZvaWQgMCwhMCl9KSkpO2NvbnN0IGE9YXdhaXQgZmluLlN5c3RlbS5nZXRGb2N1c2VkV2luZG93KCk7YSYmYS5uYW1lLnN0YXJ0c1dpdGgobWUuQnJvd3NlcldpbmRvdykmJmF3YWl0IEFyKGEsdm9pZCAwLCEwKSxhd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWZvY3VzZWRcIiwoYXN5bmMgZT0+e2F3YWl0IEFyKGUsdm9pZCAwLCEwKX0pKSxhd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LW1pbmltaXplZFwiLChhc3luYyBlPT57YXdhaXQgQXIoZSwhMSl9KSksYXdhaXQgZS5hZGRMaXN0ZW5lcihcIndpbmRvdy1yZXN0b3JlZFwiLChhc3luYyBlPT57YXdhaXQgQXIoZSwhMCl9KSksYXdhaXQgZS5hZGRMaXN0ZW5lcihcIndpbmRvdy1jbG9zZWRcIixXcil9KCk7WW8oYXdhaXQgWG8oKSl9bGV0IE9zO2Z1bmN0aW9uIEdzKHtvdmVycmlkZUNhbGxiYWNrOmUsaW50ZXJvcE92ZXJyaWRlOnQsYnJvd3NlcjphLG5vdGlmaWNhdGlvbnM6bixhbmFseXRpY3M6byxpbnRlZ3JhdGlvbnM6cj1bXSx3b3Jrc3BhY2VBc2FyOml9KXtpZighVyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LlwiKTtyZXR1cm4gT3N8fChPcz0oYXN5bmMoKT0+e2NvbnN0IHM9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7dmFyIGMsbDtpZihzLm9uY2UoXCJwbGF0Zm9ybS1hcGktcmVhZHlcIiwoKCk9PlVzKCkpKSxzLm9uKFwid2luZG93LXNob3ctYWxsLWRvd25sb2Fkc1wiLCgoe25hbWU6ZSx1dWlkOnR9KT0+e3ByKHtuYW1lOmUsdXVpZDp0fSl9KSksYT8udGl0bGUmJihjPWEudGl0bGUsRGk9YyksVm8obyksaSl7Y29uc3QgZT1gd29ya3NwYWNlLSR7ZW5jb2RlVVJJQ29tcG9uZW50KGZpbi5tZS51dWlkKX1gLHtiYXNlVXJsOnR9PWF3YWl0IGZpbi5TeXN0ZW0uc2VydmVBc3NldCh7Li4uaSxob3N0TmFtZTplfSk7WCh0KX1hPy5icm93c2VyQmFzZVVybCYmWChhLmJyb3dzZXJCYXNlVXJsKSwkdChhKSYmKHpuPSEwLGw9YSwkbj1sPy5haVBhbmVsT3B0aW9ucyxKbigpKTtjb25zdCBkPWxuKCk7dmFyIHU7cmV0dXJuIGQuc2V0V29ya3NwYWNlU3RvcmFnZShQdChgJHtSfS13b3Jrc3BhY2VgKSksZC50cnlTeW5jaHJvbml6ZVdvcmtzcGFjZVN0b3JhZ2UoKSxhd2FpdCBmaW4uUGxhdGZvcm0uaW5pdCh7b3ZlcnJpZGVDYWxsYmFjazpFcyhhLGV8fGE/Lm92ZXJyaWRlQ2FsbGJhY2ssbiksaW50ZXJvcE92ZXJyaWRlOl9zKHR8fGE/LmludGVyb3BPdmVycmlkZSxhKX0pLHU9e2FsbG93ZWQ6ITB9LFp0KEp0LlBsYXRmb3JtLHUpLGF3YWl0IFByb21pc2UuYWxsKHIubWFwKChhc3luYyBlPT57KChlLHQpPT57WnQoYCR7SnQuTWljcm9mbG93fToke2V9YCx0LFwiaW50ZWdyYXRpb24tZmVhdHVyZVwiKX0pKGUud29ya2Zsb3dJbnRlZ3JhdGlvbk5hbWUse2FsbG93ZWQ6ITAsYXBpVmVyc2lvbjpVfSksYXdhaXQgZS5faW5pdGlhbGl6ZVdvcmtmbG93cygpfSkpKSxzfSkoKSksT3N9Y29uc3QgSHM9YXN5bmMoe3RoZW1lOmUsY3VzdG9tQWN0aW9uczp0LGxhbmd1YWdlOmEsLi4ubn0pPT57Y29uc3Qgbz1VLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSkscj1hd2FpdChhc3luYyBlPT57aWYoKGF3YWl0IFkoKSkuZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9uKXJldHVybiEwO2lmKGF3YWl0IEh0KCkpcmV0dXJuITA7Y29uc3QgdD0oYXdhaXQgZmluLlN5c3RlbS5nZXRWZXJzaW9uKCkpLnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSk7cmV0dXJuIGUuZXZlcnkoKChhLG4pPT4hKG48Myl8fHRbbl09PT1lW25dKSl9KShvKTtpZighcil0aHJvdyBuZXcgRXJyb3IoYFJ1bnRpbWUgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydGVkLiAgJHtvWzBdfS4ke29bMV19LiR7b1syXX0uKiBpcyByZXF1aXJlZGApO3ZhciBpO3JldHVybiBCcyhlKSxlJiYoaT17YWxsb3dlZDohMH0sWnQoSnQuVGhlbWluZyxpKSksdCYmKFRyPXQpLGF3YWl0IHlyKGE/LmluaXRpYWxMYW5ndWFnZSksR3Mobil9fSkoKSxtb2R1bGUuZXhwb3J0cz1ufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIigoKT0+e3ZhciBlPXs4NDc6KGUsdCk9Pnt2YXIgYT17MjM0NjpmdW5jdGlvbihlLHQsYSl7dmFyIG49dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRNb3N0UmVhZGFibGU9dC5kYXJrZW5Db2xvcj10LmxpZ2h0ZW5Db2xvcj12b2lkIDA7Y29uc3Qgcj1uKGEoNjUzNSkpO3QubGlnaHRlbkNvbG9yPShlLHQpPT5vKGUsXCJsaWdodGVuXCIsdCksdC5kYXJrZW5Db2xvcj0oZSx0KT0+byhlLFwiZGFya2VuXCIsdCk7Y29uc3Qgbz0oZSx0LGEpPT57aWYoYSYmKGE8MHx8YT4xMDApKXRocm93IG5ldyBFcnJvcihgJHthfSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwYCk7cmV0dXJuKDAsci5kZWZhdWx0KShlKVt0XShhKS50b1N0cmluZygpfTt0LmdldE1vc3RSZWFkYWJsZT0oZSx0KT0+ci5kZWZhdWx0Lm1vc3RSZWFkYWJsZShlLHQpLnRvSGV4U3RyaW5nKCl9LDIzMTc6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lkljb25TaXplPXQuVHJhbnNpdGlvbj10LkxpbmVIZWlnaHQ9dC5Gb250V2VpZ2h0PXQuRm9udFNpemU9dC5Gb250RmFtaWx5PXQuU2hhZG93PXQuUmFkaXVzPXQuVW5pdFB4PXQuVW5pdD10LlNpemVOYW1lPXQuU2l6ZT10LkNvbG9yPXZvaWQgMCx0LkNvbG9yPXt3aGl0ZTpcIiNGRkZGRkZcIixsaWdodEdyYXkxOlwiI0ZBRkJGRVwiLGxpZ2h0R3JheTI6XCIjRjNGNUY4XCIsbGlnaHRHcmF5MzpcIiNFQ0VFRjFcIixsaWdodEdyYXk0OlwiI0REREZFNFwiLGxpZ2h0R3JheTU6XCIjQzlDQkQyXCIsbmV1dHJhbEdyYXk6XCIjN0Q4MDhBXCIsbmV1dHJhbEdyYXk4MDpcInJnYmEoMTI1LDEyOCwxMzgsMC44KVwiLHNpbHZlckdyYXk6XCIjQzBDMUMyXCIsZGFya0dyYXkxOlwiIzUzNTY1RlwiLGRhcmtHcmF5MjpcIiMzODNBNDBcIixkYXJrR3JheTM6XCIjMkYzMTM2XCIsZGFya0dyYXk0OlwiIzI0MjYyQlwiLGRhcmtHcmF5NTpcIiMxRTFGMjNcIixkYXJrR3JheTY6XCIjMTExMjE0XCIsb3BlbkZpbkRhcmtlc3Q6XCIjM0QzOUNEXCIsb3BlbkZpbkRhcmtlcjpcIiM0NjQyRTBcIixvcGVuRmluOlwiIzUwNENGRlwiLG9wZW5GaW5MaWdodDpcIiM1MjU0RkJcIixvcGVuRmluTGlnaHRlcjpcIiM1QzVFRkVcIixvcGVuRmluTGlnaHRlc3Q6XCIjNjg2NEZGXCIsZnVuY3Rpb25hbDE6XCIjMjA3NzM1XCIsZnVuY3Rpb25hbDI6XCIjNDZDOEYxXCIsZnVuY3Rpb25hbDM6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDQ6XCIjNkNBREU1XCIsZnVuY3Rpb25hbDU6XCIjMEE3NkQzXCIsZnVuY3Rpb25hbDY6XCIjODgyQkZFXCIsZnVuY3Rpb25hbDc6XCIjRjMxODE4XCIsZnVuY3Rpb25hbDg6XCIjQzkzNDAwXCIsZnVuY3Rpb25hbDk6XCIjRkY1RTYwXCIsZnVuY3Rpb25hbDEwOlwiI0Y0OEYwMFwiLHB1cnBsZTpcIiM4QzYxRkZcIixsaWdodGJsdWU6XCIjMzZDM0ZFXCIsYXF1YTpcIiMwMENDODhcIix5ZWxsb3c6XCIjRkZFQjAwXCIsc2FsbW9uOlwiI0ZGOEM0Q1wiLHBpbms6XCIjRkY1RTYwXCIsbGlnaHRwaW5rOlwiI0ZGOEZCOFwiLHdoaXRlMDA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMClcIix3aGl0ZTEwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjEpXCIsd2hpdGUyMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4yKVwiLHdoaXRlMzA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMylcIix3aGl0ZTQwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjQpXCIsd2hpdGU1MDpcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiLHdoaXRlNjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNilcIix3aGl0ZTcwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCIsd2hpdGU4MDpcInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiLHdoaXRlOTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIixibGFjazAwOlwicmdiYSgwLDAsMCwwLjApXCIsYmxhY2sxMDpcInJnYmEoMCwwLDAsMC4xKVwiLGJsYWNrMjA6XCJyZ2JhKDAsMCwwLDAuMilcIixibGFjazMwOlwicmdiYSgwLDAsMCwwLjMpXCIsYmxhY2s0MDpcInJnYmEoMCwwLDAsMC40KVwiLGJsYWNrNTA6XCJyZ2JhKDAsMCwwLDAuNSlcIixibGFjazYwOlwicmdiYSgwLDAsMCwwLjYpXCIsYmxhY2s3MDpcInJnYmEoMCwwLDAsMC43KVwiLGJsYWNrODA6XCJyZ2JhKDAsMCwwLDAuOClcIixibGFjazkwOlwicmdiYSgwLDAsMCwwLjkpXCIsdHJhbnNwYXJlbnQ6XCJ0cmFuc3BhcmVudFwiLG9wZW5GaW5BY3RpdmU6XCIjNDY0MkZGXCIsb3BlbkZpbkhvdmVyOlwiIzY5NjVGRlwiLGxpZ2h0R3JheTRBY3RpdmU6XCIjRDdEQURGXCIsbGlnaHRHcmF5NEhvdmVyOlwiI0VCRUNFRlwiLGRhcmtHcmF5MkFjdGl2ZTpcIiMzMzM1M0JcIixkYXJrR3JheTJIb3ZlcjpcIiM0NDQ2NEVcIn0sdC5TaXplPXt4c21hbGw6XCJ4c21hbGxcIixzbWFsbDpcInNtYWxsXCIsYmFzZTpcImJhc2VcIixsYXJnZTpcImxhcmdlXCIseGxhcmdlOlwieGxhcmdlXCIseHhsYXJnZTpcInh4bGFyZ2VcIix4eHhsYXJnZTpcInh4eGxhcmdlXCIseHh4eGxhcmdlOlwieHh4eGxhcmdlXCJ9LHQuU2l6ZU5hbWU9e1t0LlNpemUueHNtYWxsXTpcIkV4dHJhIFNtYWxsXCIsW3QuU2l6ZS5zbWFsbF06XCJTbWFsbFwiLFt0LlNpemUuYmFzZV06XCJCYXNlXCIsW3QuU2l6ZS5sYXJnZV06XCJMYXJnZVwiLFt0LlNpemUueGxhcmdlXTpcIkV4dHJhIExhcmdlXCIsW3QuU2l6ZS54eGxhcmdlXTpcIjJYIExhcmdlXCIsW3QuU2l6ZS54eHhsYXJnZV06XCIzWCBMYXJnZVwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjRYIExhcmdlXCJ9LHQuVW5pdD17W3QuU2l6ZS54c21hbGxdOjQsW3QuU2l6ZS5zbWFsbF06OCxbdC5TaXplLmJhc2VdOjEyLFt0LlNpemUubGFyZ2VdOjE2LFt0LlNpemUueGxhcmdlXToyMCxbdC5TaXplLnh4bGFyZ2VdOjI0LFt0LlNpemUueHh4bGFyZ2VdOjMyLFt0LlNpemUueHh4eGxhcmdlXTo0OH0sdC5Vbml0UHg9e1t0LlNpemUueHNtYWxsXTpcIjRweFwiLFt0LlNpemUuc21hbGxdOlwiOHB4XCIsW3QuU2l6ZS5iYXNlXTpcIjEycHhcIixbdC5TaXplLmxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnhsYXJnZV06XCIyMHB4XCIsW3QuU2l6ZS54eGxhcmdlXTpcIjI0cHhcIixbdC5TaXplLnh4eGxhcmdlXTpcIjMycHhcIixbdC5TaXplLnh4eHhsYXJnZV06XCI0OHB4XCJ9LHQuUmFkaXVzPXtbdC5TaXplLnhzbWFsbF06XCIycHhcIixbdC5TaXplLnNtYWxsXTpcIjRweFwiLFt0LlNpemUuYmFzZV06XCI4cHhcIixbdC5TaXplLmxhcmdlXTpcIjI0cHhcIixwaWxsOlwiMTAwdmhcIixyb3VuZDpcIjUwJVwiLG5vbmU6XCIwXCJ9LHQuU2hhZG93PXtbdC5TaXplLmJhc2VdOlwiMCA0cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSlcIn0sdC5Gb250RmFtaWx5PVtcIkludGVyXCIsXCJzeXN0ZW0tdWlcIixcIkJsaW5rTWFjU3lzdGVtRm9udFwiLFwiU2Vnb2UgVUlcIixcIlJvYm90b1wiLFwiT3h5Z2VuLVNhbnNcIixcIlVidW50dVwiLFwiQ2FudGFyZWxsXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLFwic2Fucy1zZXJpZlwiXS5qb2luKFwiLFwiKSx0LkZvbnRTaXplPXtbdC5TaXplLnhzbWFsbF06XCI4cHhcIixbdC5TaXplLnNtYWxsXTpcIjEwcHhcIixbdC5TaXplLmJhc2VdOlwiMTJweFwiLFt0LlNpemUubGFyZ2VdOlwiMTRweFwiLFt0LlNpemUueGxhcmdlXTpcIjE2cHhcIixbdC5TaXplLnh4bGFyZ2VdOlwiMThweFwiLFt0LlNpemUueHh4bGFyZ2VdOlwiMjBweFwiLFt0LlNpemUueHh4eGxhcmdlXTpcIjQwcHhcIn0sdC5Gb250V2VpZ2h0PXtub3JtYWw6NDAwLGJvbGQ6NjAwfSx0LkxpbmVIZWlnaHQ9e3VpOjEsaGVhZGluZzoxLjIsdGV4dDoxLjV9LHQuVHJhbnNpdGlvbj17YmFzZTpcIjIwMG1zIGN1YmljLWJlemllcigwLjE2LCAxLCAwLjMsIDEpXCIsbm9uZTpcIjBtc1wifSx0Lkljb25TaXplPXtbdC5TaXplLnhzbWFsbF06dC5Vbml0UHguc21hbGwsW3QuU2l6ZS5zbWFsbF06dC5Vbml0UHguYmFzZSxbdC5TaXplLmJhc2VdOlwiMTVweFwiLFt0LlNpemUubGFyZ2VdOnQuVW5pdFB4LnhsYXJnZSxbdC5TaXplLnhsYXJnZV06dC5Vbml0UHgueHhsYXJnZSxbdC5TaXplLnh4bGFyZ2VdOnQuVW5pdFB4Lnh4eGxhcmdlLFt0LlNpemUueHh4bGFyZ2VdOnQuVW5pdFB4Lnh4eHhsYXJnZX19LDY4OTM6KGUsdCxhKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlVGhlbWU9dm9pZCAwO2NvbnN0IG49YSgyMzE3KSxyPWEoMjM0Niksbz1hKDU5MzkpLGk9e2ZvbnRGYW1pbHk6bi5Gb250RmFtaWx5LGZvbnRTaXplOm4uRm9udFNpemUsZm9udFdlaWdodDpuLkZvbnRXZWlnaHQsbGluZUhlaWdodDpuLkxpbmVIZWlnaHQsaWNvblNpemU6bi5JY29uU2l6ZSxyYWRpdXM6bi5SYWRpdXMsc2hhZG93Om4uU2hhZG93LHRyYW5zaXRpb246bi5UcmFuc2l0aW9uLHVuaXQ6bi5Vbml0LHB4Om4uVW5pdFB4fSxzPShlLHQpPT4oe1tgJHtlfUFjdGl2ZWBdOigwLHIuZGFya2VuQ29sb3IpKHQsMiksW2Ake2V9SG92ZXJgXTooMCxyLmxpZ2h0ZW5Db2xvcikodCw1KSxbYCR7ZX1Gb2N1c2VkYF06KDAsci5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKSxbYCR7ZX1UZXh0YF06KDAsci5nZXRNb3N0UmVhZGFibGUpKHQsW24uQ29sb3Iud2hpdGUsbi5Db2xvci5kYXJrR3JheTVdKX0pO3QuY3JlYXRlVGhlbWU9ZT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtwYWxldHRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHMoby5QYWxldHRlLmJyYW5kUHJpbWFyeSxlLmJyYW5kUHJpbWFyeSkpLHMoby5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5LGUuYnJhbmRTZWNvbmRhcnkpKSxlKX0pfSw1OTM5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYWxldHRlPXZvaWQgMCx0LlBhbGV0dGU9e2JhY2tncm91bmQxOlwiYmFja2dyb3VuZDFcIixiYWNrZ3JvdW5kMjpcImJhY2tncm91bmQyXCIsYmFja2dyb3VuZDM6XCJiYWNrZ3JvdW5kM1wiLGJhY2tncm91bmQ0OlwiYmFja2dyb3VuZDRcIixiYWNrZ3JvdW5kNTpcImJhY2tncm91bmQ1XCIsYmFja2dyb3VuZDY6XCJiYWNrZ3JvdW5kNlwiLGJyYW5kUHJpbWFyeTpcImJyYW5kUHJpbWFyeVwiLGJyYW5kU2Vjb25kYXJ5OlwiYnJhbmRTZWNvbmRhcnlcIixicmFuZFByaW1hcnlBY3RpdmU6XCJicmFuZFByaW1hcnlBY3RpdmVcIixicmFuZFByaW1hcnlIb3ZlcjpcImJyYW5kUHJpbWFyeUhvdmVyXCIsYnJhbmRQcmltYXJ5Rm9jdXNlZDpcImJyYW5kUHJpbWFyeUZvY3VzZWRcIixicmFuZFByaW1hcnlUZXh0OlwiYnJhbmRQcmltYXJ5VGV4dFwiLGJyYW5kU2Vjb25kYXJ5QWN0aXZlOlwiYnJhbmRTZWNvbmRhcnlBY3RpdmVcIixicmFuZFNlY29uZGFyeUhvdmVyOlwiYnJhbmRTZWNvbmRhcnlIb3ZlclwiLGJyYW5kU2Vjb25kYXJ5Rm9jdXNlZDpcImJyYW5kU2Vjb25kYXJ5Rm9jdXNlZFwiLGJyYW5kU2Vjb25kYXJ5VGV4dDpcImJyYW5kU2Vjb25kYXJ5VGV4dFwiLGlucHV0QmFja2dyb3VuZDpcImlucHV0QmFja2dyb3VuZFwiLGlucHV0Q29sb3I6XCJpbnB1dENvbG9yXCIsaW5wdXRQbGFjZWhvbGRlcjpcImlucHV0UGxhY2Vob2xkZXJcIixpbnB1dERpc2FibGVkOlwiaW5wdXREaXNhYmxlZFwiLGlucHV0Rm9jdXNlZDpcImlucHV0Rm9jdXNlZFwiLGlucHV0Qm9yZGVyOlwiaW5wdXRCb3JkZXJcIixzdGF0dXNTdWNjZXNzOlwic3RhdHVzU3VjY2Vzc1wiLHN0YXR1c1dhcm5pbmc6XCJzdGF0dXNXYXJuaW5nXCIsc3RhdHVzQ3JpdGljYWw6XCJzdGF0dXNDcml0aWNhbFwiLHN0YXR1c0FjdGl2ZTpcInN0YXR1c0FjdGl2ZVwiLHRleHREZWZhdWx0OlwidGV4dERlZmF1bHRcIix0ZXh0SGVscDpcInRleHRIZWxwXCIsdGV4dEluYWN0aXZlOlwidGV4dEluYWN0aXZlXCIsYm9yZGVyTmV1dHJhbDpcImJvcmRlck5ldXRyYWxcIixjb250ZW50QmFja2dyb3VuZDE6XCJjb250ZW50QmFja2dyb3VuZDFcIixjb250ZW50QmFja2dyb3VuZDI6XCJjb250ZW50QmFja2dyb3VuZDJcIixjb250ZW50QmFja2dyb3VuZDM6XCJjb250ZW50QmFja2dyb3VuZDNcIixjb250ZW50QmFja2dyb3VuZDQ6XCJjb250ZW50QmFja2dyb3VuZDRcIixjb250ZW50QmFja2dyb3VuZDU6XCJjb250ZW50QmFja2dyb3VuZDVcIixsaW5rRGVmYXVsdDpcImxpbmtEZWZhdWx0XCIsbGlua0hvdmVyOlwibGlua0hvdmVyXCJ9fSw2NTM1OmZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cmV0dXJuKGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKHQpfXZhciB0PS9eXFxzKy8sYT0vXFxzKyQvO2Z1bmN0aW9uIG4ocixvKXtpZihvPW98fHt9LChyPXJ8fFwiXCIpaW5zdGFuY2VvZiBuKXJldHVybiByO2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbihyLG8pO3ZhciBpPWZ1bmN0aW9uKG4pe3ZhciByLG8saSxzPXtyOjAsZzowLGI6MH0sYz0xLGQ9bnVsbCxsPW51bGwsdT1udWxsLHA9ITEsaD0hMTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbiYmKG49ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UodCxcIlwiKS5yZXBsYWNlKGEsXCJcIikudG9Mb3dlckNhc2UoKTt2YXIgbixyPSExO2lmKHZbZV0pZT12W2VdLHI9ITA7ZWxzZSBpZihcInRyYW5zcGFyZW50XCI9PWUpcmV0dXJue3I6MCxnOjAsYjowLGE6MCxmb3JtYXQ6XCJuYW1lXCJ9O3JldHVybihuPU8ucmdiLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXX06KG49Ty5yZ2JhLmV4ZWMoZSkpP3tyOm5bMV0sZzpuWzJdLGI6blszXSxhOm5bNF19OihuPU8uaHNsLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXX06KG49Ty5oc2xhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLGw6blszXSxhOm5bNF19OihuPU8uaHN2LmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXX06KG49Ty5oc3ZhLmV4ZWMoZSkpP3toOm5bMV0sczpuWzJdLHY6blszXSxhOm5bNF19OihuPU8uaGV4OC5leGVjKGUpKT97cjpBKG5bMV0pLGc6QShuWzJdKSxiOkEoblszXSksYTpGKG5bNF0pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4OFwifToobj1PLmhleDYuZXhlYyhlKSk/e3I6QShuWzFdKSxnOkEoblsyXSksYjpBKG5bM10pLGZvcm1hdDpyP1wibmFtZVwiOlwiaGV4XCJ9OihuPU8uaGV4NC5leGVjKGUpKT97cjpBKG5bMV0rXCJcIituWzFdKSxnOkEoblsyXStcIlwiK25bMl0pLGI6QShuWzNdK1wiXCIrblszXSksYTpGKG5bNF0rXCJcIituWzRdKSxmb3JtYXQ6cj9cIm5hbWVcIjpcImhleDhcIn06ISEobj1PLmhleDMuZXhlYyhlKSkmJntyOkEoblsxXStcIlwiK25bMV0pLGc6QShuWzJdK1wiXCIrblsyXSksYjpBKG5bM10rXCJcIituWzNdKSxmb3JtYXQ6cj9cIm5hbWVcIjpcImhleFwifX0obikpLFwib2JqZWN0XCI9PWUobikmJihFKG4ucikmJkUobi5nKSYmRShuLmIpPyhyPW4ucixvPW4uZyxpPW4uYixzPXtyOjI1NSpQKHIsMjU1KSxnOjI1NSpQKG8sMjU1KSxiOjI1NSpQKGksMjU1KX0scD0hMCxoPVwiJVwiPT09U3RyaW5nKG4ucikuc3Vic3RyKC0xKT9cInByZ2JcIjpcInJnYlwiKTpFKG4uaCkmJkUobi5zKSYmRShuLnYpPyhkPU0obi5zKSxsPU0obi52KSxzPWZ1bmN0aW9uKGUsdCxhKXtlPTYqUChlLDM2MCksdD1QKHQsMTAwKSxhPVAoYSwxMDApO3ZhciBuPU1hdGguZmxvb3IoZSkscj1lLW4sbz1hKigxLXQpLGk9YSooMS1yKnQpLHM9YSooMS0oMS1yKSp0KSxjPW4lNjtyZXR1cm57cjoyNTUqW2EsaSxvLG8scyxhXVtjXSxnOjI1NSpbcyxhLGEsaSxvLG9dW2NdLGI6MjU1KltvLG8scyxhLGEsaV1bY119fShuLmgsZCxsKSxwPSEwLGg9XCJoc3ZcIik6RShuLmgpJiZFKG4ucykmJkUobi5sKSYmKGQ9TShuLnMpLHU9TShuLmwpLHM9ZnVuY3Rpb24oZSx0LGEpe3ZhciBuLHIsbztmdW5jdGlvbiBpKGUsdCxhKXtyZXR1cm4gYTwwJiYoYSs9MSksYT4xJiYoYS09MSksYTwxLzY/ZSs2Kih0LWUpKmE6YTwuNT90OmE8Mi8zP2UrKHQtZSkqKDIvMy1hKSo2OmV9aWYoZT1QKGUsMzYwKSx0PVAodCwxMDApLGE9UChhLDEwMCksMD09PXQpbj1yPW89YTtlbHNle3ZhciBzPWE8LjU/YSooMSt0KTphK3QtYSp0LGM9MiphLXM7bj1pKGMscyxlKzEvMykscj1pKGMscyxlKSxvPWkoYyxzLGUtMS8zKX1yZXR1cm57cjoyNTUqbixnOjI1NSpyLGI6MjU1Km99fShuLmgsZCx1KSxwPSEwLGg9XCJoc2xcIiksbi5oYXNPd25Qcm9wZXJ0eShcImFcIikmJihjPW4uYSkpLGM9UyhjKSx7b2s6cCxmb3JtYXQ6bi5mb3JtYXR8fGgscjpNYXRoLm1pbigyNTUsTWF0aC5tYXgocy5yLDApKSxnOk1hdGgubWluKDI1NSxNYXRoLm1heChzLmcsMCkpLGI6TWF0aC5taW4oMjU1LE1hdGgubWF4KHMuYiwwKSksYTpjfX0ocik7dGhpcy5fb3JpZ2luYWxJbnB1dD1yLHRoaXMuX3I9aS5yLHRoaXMuX2c9aS5nLHRoaXMuX2I9aS5iLHRoaXMuX2E9aS5hLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpcy5fZm9ybWF0PW8uZm9ybWF0fHxpLmZvcm1hdCx0aGlzLl9ncmFkaWVudFR5cGU9by5ncmFkaWVudFR5cGUsdGhpcy5fcjwxJiYodGhpcy5fcj1NYXRoLnJvdW5kKHRoaXMuX3IpKSx0aGlzLl9nPDEmJih0aGlzLl9nPU1hdGgucm91bmQodGhpcy5fZykpLHRoaXMuX2I8MSYmKHRoaXMuX2I9TWF0aC5yb3VuZCh0aGlzLl9iKSksdGhpcy5fb2s9aS5va31mdW5jdGlvbiByKGUsdCxhKXtlPVAoZSwyNTUpLHQ9UCh0LDI1NSksYT1QKGEsMjU1KTt2YXIgbixyLG89TWF0aC5tYXgoZSx0LGEpLGk9TWF0aC5taW4oZSx0LGEpLHM9KG8raSkvMjtpZihvPT1pKW49cj0wO2Vsc2V7dmFyIGM9by1pO3N3aXRjaChyPXM+LjU/Yy8oMi1vLWkpOmMvKG8raSksbyl7Y2FzZSBlOm49KHQtYSkvYysodDxhPzY6MCk7YnJlYWs7Y2FzZSB0Om49KGEtZSkvYysyO2JyZWFrO2Nhc2UgYTpuPShlLXQpL2MrNH1uLz02fXJldHVybntoOm4sczpyLGw6c319ZnVuY3Rpb24gbyhlLHQsYSl7ZT1QKGUsMjU1KSx0PVAodCwyNTUpLGE9UChhLDI1NSk7dmFyIG4scixvPU1hdGgubWF4KGUsdCxhKSxpPU1hdGgubWluKGUsdCxhKSxzPW8sYz1vLWk7aWYocj0wPT09bz8wOmMvbyxvPT1pKW49MDtlbHNle3N3aXRjaChvKXtjYXNlIGU6bj0odC1hKS9jKyh0PGE/NjowKTticmVhaztjYXNlIHQ6bj0oYS1lKS9jKzI7YnJlYWs7Y2FzZSBhOm49KGUtdCkvYys0fW4vPTZ9cmV0dXJue2g6bixzOnIsdjpzfX1mdW5jdGlvbiBpKGUsdCxhLG4pe3ZhciByPVt4KE1hdGgucm91bmQoZSkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQodCkudG9TdHJpbmcoMTYpKSx4KE1hdGgucm91bmQoYSkudG9TdHJpbmcoMTYpKV07cmV0dXJuIG4mJnJbMF0uY2hhckF0KDApPT1yWzBdLmNoYXJBdCgxKSYmclsxXS5jaGFyQXQoMCk9PXJbMV0uY2hhckF0KDEpJiZyWzJdLmNoYXJBdCgwKT09clsyXS5jaGFyQXQoMSk/clswXS5jaGFyQXQoMCkrclsxXS5jaGFyQXQoMCkrclsyXS5jaGFyQXQoMCk6ci5qb2luKFwiXCIpfWZ1bmN0aW9uIHMoZSx0LGEsbil7cmV0dXJuW3goSShuKSkseChNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSldLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEucy09dC8xMDAsYS5zPUMoYS5zKSxuKGEpfWZ1bmN0aW9uIGQoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIGE9bihlKS50b0hzbCgpO3JldHVybiBhLnMrPXQvMTAwLGEucz1DKGEucyksbihhKX1mdW5jdGlvbiBsKGUpe3JldHVybiBuKGUpLmRlc2F0dXJhdGUoMTAwKX1mdW5jdGlvbiB1KGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBhPW4oZSkudG9Ic2woKTtyZXR1cm4gYS5sKz10LzEwMCxhLmw9QyhhLmwpLG4oYSl9ZnVuY3Rpb24gcChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvUmdiKCk7cmV0dXJuIGEucj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLnItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuZz1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmctTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLGEuYj1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxhLmItTWF0aC5yb3VuZCgtdC8xMDAqMjU1KSkpLG4oYSl9ZnVuY3Rpb24gaChlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgYT1uKGUpLnRvSHNsKCk7cmV0dXJuIGEubC09dC8xMDAsYS5sPUMoYS5sKSxuKGEpfWZ1bmN0aW9uIGYoZSx0KXt2YXIgYT1uKGUpLnRvSHNsKCkscj0oYS5oK3QpJTM2MDtyZXR1cm4gYS5oPXI8MD8zNjArcjpyLG4oYSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1uKGUpLnRvSHNsKCk7cmV0dXJuIHQuaD0odC5oKzE4MCklMzYwLG4odCl9ZnVuY3Rpb24gbShlLHQpe2lmKGlzTmFOKHQpfHx0PD0wKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IHRvIHBvbHlhZCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO2Zvcih2YXIgYT1uKGUpLnRvSHNsKCkscj1bbihlKV0sbz0zNjAvdCxpPTE7aTx0O2krKylyLnB1c2gobih7aDooYS5oK2kqbyklMzYwLHM6YS5zLGw6YS5sfSkpO3JldHVybiByfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9bihlKS50b0hzbCgpLGE9dC5oO3JldHVybltuKGUpLG4oe2g6KGErNzIpJTM2MCxzOnQucyxsOnQubH0pLG4oe2g6KGErMjE2KSUzNjAsczp0LnMsbDp0Lmx9KV19ZnVuY3Rpb24geShlLHQsYSl7dD10fHw2LGE9YXx8MzA7dmFyIHI9bihlKS50b0hzbCgpLG89MzYwL2EsaT1bbihlKV07Zm9yKHIuaD0oci5oLShvKnQ+PjEpKzcyMCklMzYwOy0tdDspci5oPShyLmgrbyklMzYwLGkucHVzaChuKHIpKTtyZXR1cm4gaX1mdW5jdGlvbiBrKGUsdCl7dD10fHw2O2Zvcih2YXIgYT1uKGUpLnRvSHN2KCkscj1hLmgsbz1hLnMsaT1hLnYscz1bXSxjPTEvdDt0LS07KXMucHVzaChuKHtoOnIsczpvLHY6aX0pKSxpPShpK2MpJTE7cmV0dXJuIHN9bi5wcm90b3R5cGU9e2lzRGFyazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJyaWdodG5lc3MoKTwxMjh9LGlzTGlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0RhcmsoKX0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9va30sZ2V0T3JpZ2luYWxJbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmlnaW5hbElucHV0fSxnZXRGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9ybWF0fSxnZXRBbHBoYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hfSxnZXRCcmlnaHRuZXNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50b1JnYigpO3JldHVybigyOTkqZS5yKzU4NyplLmcrMTE0KmUuYikvMWUzfSxnZXRMdW1pbmFuY2U6ZnVuY3Rpb24oKXt2YXIgZSx0LGEsbj10aGlzLnRvUmdiKCk7cmV0dXJuIGU9bi5yLzI1NSx0PW4uZy8yNTUsYT1uLmIvMjU1LC4yMTI2KihlPD0uMDM5Mjg/ZS8xMi45MjpNYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpKSsuNzE1MioodDw9LjAzOTI4P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KSkrLjA3MjIqKGE8PS4wMzkyOD9hLzEyLjkyOk1hdGgucG93KChhKy4wNTUpLzEuMDU1LDIuNCkpfSxzZXRBbHBoYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYT1TKGUpLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpc30sdG9Ic3Y6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLHY6ZS52LGE6dGhpcy5fYX19LHRvSHN2U3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9byh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUudik7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc3YoXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHN2YShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9Ic2w6ZnVuY3Rpb24oKXt2YXIgZT1yKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKTtyZXR1cm57aDozNjAqZS5oLHM6ZS5zLGw6ZS5sLGE6dGhpcy5fYX19LHRvSHNsU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9cih0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiksdD1NYXRoLnJvdW5kKDM2MCplLmgpLGE9TWF0aC5yb3VuZCgxMDAqZS5zKSxuPU1hdGgucm91bmQoMTAwKmUubCk7cmV0dXJuIDE9PXRoaXMuX2E/XCJoc2woXCIrdCtcIiwgXCIrYStcIiUsIFwiK24rXCIlKVwiOlwiaHNsYShcIit0K1wiLCBcIithK1wiJSwgXCIrbitcIiUsIFwiK3RoaXMuX3JvdW5kQStcIilcIn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsZSl9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK3RoaXMudG9IZXgoZSl9LHRvSGV4ODpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGEsbixyKXt2YXIgbz1beChNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSkseChNYXRoLnJvdW5kKGEpLnRvU3RyaW5nKDE2KSkseChJKG4pKV07cmV0dXJuIHImJm9bMF0uY2hhckF0KDApPT1vWzBdLmNoYXJBdCgxKSYmb1sxXS5jaGFyQXQoMCk9PW9bMV0uY2hhckF0KDEpJiZvWzJdLmNoYXJBdCgwKT09b1syXS5jaGFyQXQoMSkmJm9bM10uY2hhckF0KDApPT1vWzNdLmNoYXJBdCgxKT9vWzBdLmNoYXJBdCgwKStvWzFdLmNoYXJBdCgwKStvWzJdLmNoYXJBdCgwKStvWzNdLmNoYXJBdCgwKTpvLmpvaW4oXCJcIil9KHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EsZSl9LHRvSGV4OFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cIiNcIit0aGlzLnRvSGV4OChlKX0sdG9SZ2I6ZnVuY3Rpb24oKXtyZXR1cm57cjpNYXRoLnJvdW5kKHRoaXMuX3IpLGc6TWF0aC5yb3VuZCh0aGlzLl9nKSxiOk1hdGgucm91bmQodGhpcy5fYiksYTp0aGlzLl9hfX0sdG9SZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKHRoaXMuX3IpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2cpK1wiLCBcIitNYXRoLnJvdW5kKHRoaXMuX2IpK1wiLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvUGVyY2VudGFnZVJnYjpmdW5jdGlvbigpe3JldHVybntyOk1hdGgucm91bmQoMTAwKlAodGhpcy5fciwyNTUpKStcIiVcIixnOk1hdGgucm91bmQoMTAwKlAodGhpcy5fZywyNTUpKStcIiVcIixiOk1hdGgucm91bmQoMTAwKlAodGhpcy5fYiwyNTUpKStcIiVcIixhOnRoaXMuX2F9fSx0b1BlcmNlbnRhZ2VSZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlKVwiOlwicmdiYShcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2csMjU1KSkrXCIlLCBcIitNYXRoLnJvdW5kKDEwMCpQKHRoaXMuX2IsMjU1KSkrXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvTmFtZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fYT9cInRyYW5zcGFyZW50XCI6ISh0aGlzLl9hPDEpJiYoYltpKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLCEwKV18fCExKX0sdG9GaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9XCIjXCIrcyh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYix0aGlzLl9hKSxhPXQscj10aGlzLl9ncmFkaWVudFR5cGU/XCJHcmFkaWVudFR5cGUgPSAxLCBcIjpcIlwiO2lmKGUpe3ZhciBvPW4oZSk7YT1cIiNcIitzKG8uX3Isby5fZyxvLl9iLG8uX2EpfXJldHVyblwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK3IrXCJzdGFydENvbG9yc3RyPVwiK3QrXCIsZW5kQ29sb3JzdHI9XCIrYStcIilcIn0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlO2U9ZXx8dGhpcy5fZm9ybWF0O3ZhciBhPSExLG49dGhpcy5fYTwxJiZ0aGlzLl9hPj0wO3JldHVybiB0fHwhbnx8XCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZSYmXCJoZXgzXCIhPT1lJiZcImhleDRcIiE9PWUmJlwiaGV4OFwiIT09ZSYmXCJuYW1lXCIhPT1lPyhcInJnYlwiPT09ZSYmKGE9dGhpcy50b1JnYlN0cmluZygpKSxcInByZ2JcIj09PWUmJihhPXRoaXMudG9QZXJjZW50YWdlUmdiU3RyaW5nKCkpLFwiaGV4XCIhPT1lJiZcImhleDZcIiE9PWV8fChhPXRoaXMudG9IZXhTdHJpbmcoKSksXCJoZXgzXCI9PT1lJiYoYT10aGlzLnRvSGV4U3RyaW5nKCEwKSksXCJoZXg0XCI9PT1lJiYoYT10aGlzLnRvSGV4OFN0cmluZyghMCkpLFwiaGV4OFwiPT09ZSYmKGE9dGhpcy50b0hleDhTdHJpbmcoKSksXCJuYW1lXCI9PT1lJiYoYT10aGlzLnRvTmFtZSgpKSxcImhzbFwiPT09ZSYmKGE9dGhpcy50b0hzbFN0cmluZygpKSxcImhzdlwiPT09ZSYmKGE9dGhpcy50b0hzdlN0cmluZygpKSxhfHx0aGlzLnRvSGV4U3RyaW5nKCkpOlwibmFtZVwiPT09ZSYmMD09PXRoaXMuX2E/dGhpcy50b05hbWUoKTp0aGlzLnRvUmdiU3RyaW5nKCl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy50b1N0cmluZygpKX0sX2FwcGx5TW9kaWZpY2F0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGE9ZS5hcHBseShudWxsLFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbCh0KSkpO3JldHVybiB0aGlzLl9yPWEuX3IsdGhpcy5fZz1hLl9nLHRoaXMuX2I9YS5fYix0aGlzLnNldEFscGhhKGEuX2EpLHRoaXN9LGxpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24odSxhcmd1bWVudHMpfSxicmlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihwLGFyZ3VtZW50cyl9LGRhcmtlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihoLGFyZ3VtZW50cyl9LGRlc2F0dXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oYyxhcmd1bWVudHMpfSxzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihkLGFyZ3VtZW50cyl9LGdyZXlzY2FsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihsLGFyZ3VtZW50cyl9LHNwaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZixhcmd1bWVudHMpfSxfYXBwbHlDb21iaW5hdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSl9LGFuYWxvZ291czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHksYXJndW1lbnRzKX0sY29tcGxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGcsYXJndW1lbnRzKX0sbW9ub2Nocm9tYXRpYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGssYXJndW1lbnRzKX0sc3BsaXRjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odyxhcmd1bWVudHMpfSx0cmlhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKG0sWzNdKX0sdGV0cmFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obSxbNF0pfX0sbi5mcm9tUmF0aW89ZnVuY3Rpb24odCxhKXtpZihcIm9iamVjdFwiPT1lKHQpKXt2YXIgcj17fTtmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiYocltvXT1cImFcIj09PW8/dFtvXTpNKHRbb10pKTt0PXJ9cmV0dXJuIG4odCxhKX0sbi5lcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFlfHwhdCkmJm4oZSkudG9SZ2JTdHJpbmcoKT09bih0KS50b1JnYlN0cmluZygpfSxuLnJhbmRvbT1mdW5jdGlvbigpe3JldHVybiBuLmZyb21SYXRpbyh7cjpNYXRoLnJhbmRvbSgpLGc6TWF0aC5yYW5kb20oKSxiOk1hdGgucmFuZG9tKCl9KX0sbi5taXg9ZnVuY3Rpb24oZSx0LGEpe2E9MD09PWE/MDphfHw1MDt2YXIgcj1uKGUpLnRvUmdiKCksbz1uKHQpLnRvUmdiKCksaT1hLzEwMDtyZXR1cm4gbih7cjooby5yLXIucikqaStyLnIsZzooby5nLXIuZykqaStyLmcsYjooby5iLXIuYikqaStyLmIsYTooby5hLXIuYSkqaStyLmF9KX0sbi5yZWFkYWJpbGl0eT1mdW5jdGlvbihlLHQpe3ZhciBhPW4oZSkscj1uKHQpO3JldHVybihNYXRoLm1heChhLmdldEx1bWluYW5jZSgpLHIuZ2V0THVtaW5hbmNlKCkpKy4wNSkvKE1hdGgubWluKGEuZ2V0THVtaW5hbmNlKCksci5nZXRMdW1pbmFuY2UoKSkrLjA1KX0sbi5pc1JlYWRhYmxlPWZ1bmN0aW9uKGUsdCxhKXt2YXIgcixvLGkscyxjLGQ9bi5yZWFkYWJpbGl0eShlLHQpO3N3aXRjaChvPSExLChpPWEsXCJBQVwiIT09KHM9KChpPWl8fHtsZXZlbDpcIkFBXCIsc2l6ZTpcInNtYWxsXCJ9KS5sZXZlbHx8XCJBQVwiKS50b1VwcGVyQ2FzZSgpKSYmXCJBQUFcIiE9PXMmJihzPVwiQUFcIiksXCJzbWFsbFwiIT09KGM9KGkuc2l6ZXx8XCJzbWFsbFwiKS50b0xvd2VyQ2FzZSgpKSYmXCJsYXJnZVwiIT09YyYmKGM9XCJzbWFsbFwiKSxyPXtsZXZlbDpzLHNpemU6Y30pLmxldmVsK3Iuc2l6ZSl7Y2FzZVwiQUFzbWFsbFwiOmNhc2VcIkFBQWxhcmdlXCI6bz1kPj00LjU7YnJlYWs7Y2FzZVwiQUFsYXJnZVwiOm89ZD49MzticmVhaztjYXNlXCJBQUFzbWFsbFwiOm89ZD49N31yZXR1cm4gb30sbi5tb3N0UmVhZGFibGU9ZnVuY3Rpb24oZSx0LGEpe3ZhciByLG8saSxzLGM9bnVsbCxkPTA7bz0oYT1hfHx7fSkuaW5jbHVkZUZhbGxiYWNrQ29sb3JzLGk9YS5sZXZlbCxzPWEuc2l6ZTtmb3IodmFyIGw9MDtsPHQubGVuZ3RoO2wrKykocj1uLnJlYWRhYmlsaXR5KGUsdFtsXSkpPmQmJihkPXIsYz1uKHRbbF0pKTtyZXR1cm4gbi5pc1JlYWRhYmxlKGUsYyx7bGV2ZWw6aSxzaXplOnN9KXx8IW8/YzooYS5pbmNsdWRlRmFsbGJhY2tDb2xvcnM9ITEsbi5tb3N0UmVhZGFibGUoZSxbXCIjZmZmXCIsXCIjMDAwXCJdLGEpKX07dmFyIHY9bi5uYW1lcz17YWxpY2VibHVlOlwiZjBmOGZmXCIsYW50aXF1ZXdoaXRlOlwiZmFlYmQ3XCIsYXF1YTpcIjBmZlwiLGFxdWFtYXJpbmU6XCI3ZmZmZDRcIixhenVyZTpcImYwZmZmZlwiLGJlaWdlOlwiZjVmNWRjXCIsYmlzcXVlOlwiZmZlNGM0XCIsYmxhY2s6XCIwMDBcIixibGFuY2hlZGFsbW9uZDpcImZmZWJjZFwiLGJsdWU6XCIwMGZcIixibHVldmlvbGV0OlwiOGEyYmUyXCIsYnJvd246XCJhNTJhMmFcIixidXJseXdvb2Q6XCJkZWI4ODdcIixidXJudHNpZW5uYTpcImVhN2U1ZFwiLGNhZGV0Ymx1ZTpcIjVmOWVhMFwiLGNoYXJ0cmV1c2U6XCI3ZmZmMDBcIixjaG9jb2xhdGU6XCJkMjY5MWVcIixjb3JhbDpcImZmN2Y1MFwiLGNvcm5mbG93ZXJibHVlOlwiNjQ5NWVkXCIsY29ybnNpbGs6XCJmZmY4ZGNcIixjcmltc29uOlwiZGMxNDNjXCIsY3lhbjpcIjBmZlwiLGRhcmtibHVlOlwiMDAwMDhiXCIsZGFya2N5YW46XCIwMDhiOGJcIixkYXJrZ29sZGVucm9kOlwiYjg4NjBiXCIsZGFya2dyYXk6XCJhOWE5YTlcIixkYXJrZ3JlZW46XCIwMDY0MDBcIixkYXJrZ3JleTpcImE5YTlhOVwiLGRhcmtraGFraTpcImJkYjc2YlwiLGRhcmttYWdlbnRhOlwiOGIwMDhiXCIsZGFya29saXZlZ3JlZW46XCI1NTZiMmZcIixkYXJrb3JhbmdlOlwiZmY4YzAwXCIsZGFya29yY2hpZDpcIjk5MzJjY1wiLGRhcmtyZWQ6XCI4YjAwMDBcIixkYXJrc2FsbW9uOlwiZTk5NjdhXCIsZGFya3NlYWdyZWVuOlwiOGZiYzhmXCIsZGFya3NsYXRlYmx1ZTpcIjQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIyZjRmNGZcIixkYXJrc2xhdGVncmV5OlwiMmY0ZjRmXCIsZGFya3R1cnF1b2lzZTpcIjAwY2VkMVwiLGRhcmt2aW9sZXQ6XCI5NDAwZDNcIixkZWVwcGluazpcImZmMTQ5M1wiLGRlZXBza3libHVlOlwiMDBiZmZmXCIsZGltZ3JheTpcIjY5Njk2OVwiLGRpbWdyZXk6XCI2OTY5NjlcIixkb2RnZXJibHVlOlwiMWU5MGZmXCIsZmlyZWJyaWNrOlwiYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCJmZmZhZjBcIixmb3Jlc3RncmVlbjpcIjIyOGIyMlwiLGZ1Y2hzaWE6XCJmMGZcIixnYWluc2Jvcm86XCJkY2RjZGNcIixnaG9zdHdoaXRlOlwiZjhmOGZmXCIsZ29sZDpcImZmZDcwMFwiLGdvbGRlbnJvZDpcImRhYTUyMFwiLGdyYXk6XCI4MDgwODBcIixncmVlbjpcIjAwODAwMFwiLGdyZWVueWVsbG93OlwiYWRmZjJmXCIsZ3JleTpcIjgwODA4MFwiLGhvbmV5ZGV3OlwiZjBmZmYwXCIsaG90cGluazpcImZmNjliNFwiLGluZGlhbnJlZDpcImNkNWM1Y1wiLGluZGlnbzpcIjRiMDA4MlwiLGl2b3J5OlwiZmZmZmYwXCIsa2hha2k6XCJmMGU2OGNcIixsYXZlbmRlcjpcImU2ZTZmYVwiLGxhdmVuZGVyYmx1c2g6XCJmZmYwZjVcIixsYXduZ3JlZW46XCI3Y2ZjMDBcIixsZW1vbmNoaWZmb246XCJmZmZhY2RcIixsaWdodGJsdWU6XCJhZGQ4ZTZcIixsaWdodGNvcmFsOlwiZjA4MDgwXCIsbGlnaHRjeWFuOlwiZTBmZmZmXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCJmYWZhZDJcIixsaWdodGdyYXk6XCJkM2QzZDNcIixsaWdodGdyZWVuOlwiOTBlZTkwXCIsbGlnaHRncmV5OlwiZDNkM2QzXCIsbGlnaHRwaW5rOlwiZmZiNmMxXCIsbGlnaHRzYWxtb246XCJmZmEwN2FcIixsaWdodHNlYWdyZWVuOlwiMjBiMmFhXCIsbGlnaHRza3libHVlOlwiODdjZWZhXCIsbGlnaHRzbGF0ZWdyYXk6XCI3ODlcIixsaWdodHNsYXRlZ3JleTpcIjc4OVwiLGxpZ2h0c3RlZWxibHVlOlwiYjBjNGRlXCIsbGlnaHR5ZWxsb3c6XCJmZmZmZTBcIixsaW1lOlwiMGYwXCIsbGltZWdyZWVuOlwiMzJjZDMyXCIsbGluZW46XCJmYWYwZTZcIixtYWdlbnRhOlwiZjBmXCIsbWFyb29uOlwiODAwMDAwXCIsbWVkaXVtYXF1YW1hcmluZTpcIjY2Y2RhYVwiLG1lZGl1bWJsdWU6XCIwMDAwY2RcIixtZWRpdW1vcmNoaWQ6XCJiYTU1ZDNcIixtZWRpdW1wdXJwbGU6XCI5MzcwZGJcIixtZWRpdW1zZWFncmVlbjpcIjNjYjM3MVwiLG1lZGl1bXNsYXRlYmx1ZTpcIjdiNjhlZVwiLG1lZGl1bXNwcmluZ2dyZWVuOlwiMDBmYTlhXCIsbWVkaXVtdHVycXVvaXNlOlwiNDhkMWNjXCIsbWVkaXVtdmlvbGV0cmVkOlwiYzcxNTg1XCIsbWlkbmlnaHRibHVlOlwiMTkxOTcwXCIsbWludGNyZWFtOlwiZjVmZmZhXCIsbWlzdHlyb3NlOlwiZmZlNGUxXCIsbW9jY2FzaW46XCJmZmU0YjVcIixuYXZham93aGl0ZTpcImZmZGVhZFwiLG5hdnk6XCIwMDAwODBcIixvbGRsYWNlOlwiZmRmNWU2XCIsb2xpdmU6XCI4MDgwMDBcIixvbGl2ZWRyYWI6XCI2YjhlMjNcIixvcmFuZ2U6XCJmZmE1MDBcIixvcmFuZ2VyZWQ6XCJmZjQ1MDBcIixvcmNoaWQ6XCJkYTcwZDZcIixwYWxlZ29sZGVucm9kOlwiZWVlOGFhXCIscGFsZWdyZWVuOlwiOThmYjk4XCIscGFsZXR1cnF1b2lzZTpcImFmZWVlZVwiLHBhbGV2aW9sZXRyZWQ6XCJkYjcwOTNcIixwYXBheWF3aGlwOlwiZmZlZmQ1XCIscGVhY2hwdWZmOlwiZmZkYWI5XCIscGVydTpcImNkODUzZlwiLHBpbms6XCJmZmMwY2JcIixwbHVtOlwiZGRhMGRkXCIscG93ZGVyYmx1ZTpcImIwZTBlNlwiLHB1cnBsZTpcIjgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCI2NjMzOTlcIixyZWQ6XCJmMDBcIixyb3N5YnJvd246XCJiYzhmOGZcIixyb3lhbGJsdWU6XCI0MTY5ZTFcIixzYWRkbGVicm93bjpcIjhiNDUxM1wiLHNhbG1vbjpcImZhODA3MlwiLHNhbmR5YnJvd246XCJmNGE0NjBcIixzZWFncmVlbjpcIjJlOGI1N1wiLHNlYXNoZWxsOlwiZmZmNWVlXCIsc2llbm5hOlwiYTA1MjJkXCIsc2lsdmVyOlwiYzBjMGMwXCIsc2t5Ymx1ZTpcIjg3Y2VlYlwiLHNsYXRlYmx1ZTpcIjZhNWFjZFwiLHNsYXRlZ3JheTpcIjcwODA5MFwiLHNsYXRlZ3JleTpcIjcwODA5MFwiLHNub3c6XCJmZmZhZmFcIixzcHJpbmdncmVlbjpcIjAwZmY3ZlwiLHN0ZWVsYmx1ZTpcIjQ2ODJiNFwiLHRhbjpcImQyYjQ4Y1wiLHRlYWw6XCIwMDgwODBcIix0aGlzdGxlOlwiZDhiZmQ4XCIsdG9tYXRvOlwiZmY2MzQ3XCIsdHVycXVvaXNlOlwiNDBlMGQwXCIsdmlvbGV0OlwiZWU4MmVlXCIsd2hlYXQ6XCJmNWRlYjNcIix3aGl0ZTpcImZmZlwiLHdoaXRlc21va2U6XCJmNWY1ZjVcIix5ZWxsb3c6XCJmZjBcIix5ZWxsb3dncmVlbjpcIjlhY2QzMlwifSxiPW4uaGV4TmFtZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBhIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShhKSYmKHRbZVthXV09YSk7cmV0dXJuIHR9KHYpO2Z1bmN0aW9uIFMoZSl7cmV0dXJuIGU9cGFyc2VGbG9hdChlKSwoaXNOYU4oZSl8fGU8MHx8ZT4xKSYmKGU9MSksZX1mdW5jdGlvbiBQKGUsdCl7KGZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiLlwiKSYmMT09PXBhcnNlRmxvYXQoZSl9KShlKSYmKGU9XCIxMDAlXCIpO3ZhciBhPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9ZS5pbmRleE9mKFwiJVwiKX0oZSk7cmV0dXJuIGU9TWF0aC5taW4odCxNYXRoLm1heCgwLHBhcnNlRmxvYXQoZSkpKSxhJiYoZT1wYXJzZUludChlKnQsMTApLzEwMCksTWF0aC5hYnMoZS10KTwxZS02PzE6ZSV0L3BhcnNlRmxvYXQodCl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gTWF0aC5taW4oMSxNYXRoLm1heCgwLGUpKX1mdW5jdGlvbiBBKGUpe3JldHVybiBwYXJzZUludChlLDE2KX1mdW5jdGlvbiB4KGUpe3JldHVybiAxPT1lLmxlbmd0aD9cIjBcIitlOlwiXCIrZX1mdW5jdGlvbiBNKGUpe3JldHVybiBlPD0xJiYoZT0xMDAqZStcIiVcIiksZX1mdW5jdGlvbiBJKGUpe3JldHVybiBNYXRoLnJvdW5kKDI1NSpwYXJzZUZsb2F0KGUpKS50b1N0cmluZygxNil9ZnVuY3Rpb24gRihlKXtyZXR1cm4gQShlKS8yNTV9dmFyIFcsVCxELE89KFQ9XCJbXFxcXHN8XFxcXChdKyhcIisoVz1cIig/OlstXFxcXCtdP1xcXFxkKlxcXFwuXFxcXGQrJT8pfCg/OlstXFxcXCtdP1xcXFxkKyU/KVwiKStcIilbLHxcXFxcc10rKFwiK1crXCIpWyx8XFxcXHNdKyhcIitXK1wiKVxcXFxzKlxcXFwpP1wiLEQ9XCJbXFxcXHN8XFxcXChdKyhcIitXK1wiKVssfFxcXFxzXSsoXCIrVytcIilbLHxcXFxcc10rKFwiK1crXCIpWyx8XFxcXHNdKyhcIitXK1wiKVxcXFxzKlxcXFwpP1wiLHtDU1NfVU5JVDpuZXcgUmVnRXhwKFcpLHJnYjpuZXcgUmVnRXhwKFwicmdiXCIrVCkscmdiYTpuZXcgUmVnRXhwKFwicmdiYVwiK0QpLGhzbDpuZXcgUmVnRXhwKFwiaHNsXCIrVCksaHNsYTpuZXcgUmVnRXhwKFwiaHNsYVwiK0QpLGhzdjpuZXcgUmVnRXhwKFwiaHN2XCIrVCksaHN2YTpuZXcgUmVnRXhwKFwiaHN2YVwiK0QpLGhleDM6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDY6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLGhleDQ6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxoZXg4Oi9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC99KTtmdW5jdGlvbiBFKGUpe3JldHVybiEhTy5DU1NfVU5JVC5leGVjKGUpfXJldHVybiBufSgpfX0sbj17fTtmdW5jdGlvbiByKGUpe3ZhciB0PW5bZV07aWYodm9pZCAwIT09dClyZXR1cm4gdC5leHBvcnRzO3ZhciBvPW5bZV09e2V4cG9ydHM6e319O3JldHVybiBhW2VdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHIpLG8uZXhwb3J0c312YXIgbz17fTsoKCk9Pnt2YXIgZT1vO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuY3JlYXRlVGhlbWU9ZS5QYWxldHRlPWUuQ29sb3I9dm9pZCAwO3ZhciB0PXIoMjMxNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJDb2xvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LkNvbG9yfX0pO3ZhciBhPXIoNTkzOSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJQYWxldHRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuUGFsZXR0ZX19KTt2YXIgbj1yKDY4OTMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiY3JlYXRlVGhlbWVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5jcmVhdGVUaGVtZX19KX0pKCk7dmFyIGk9dDtmb3IodmFyIHMgaW4gbylpW3NdPW9bc107by5fX2VzTW9kdWxlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sODc3OigpPT57fSw2NzooKT0+e30sMjU0OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7TnQ6KCk9PlVlLEFnOigpPT5HZX0pO3ZhciBuPXt9O2EucihuKSxhLmQobix7Y3JlYXRlTmFtZXNwYWNlZExvY2FsU3RvcmFnZTooKT0+eCxnZXRJdGVtOigpPT5GLHJlbW92ZUl0ZW06KCk9Plcsc2V0SXRlbTooKT0+SX0pO3ZhciByPWEoNjc1KSxvPWEoNzIzKSxpPWEoMTgxKTthc3luYyBmdW5jdGlvbiBzKCl7Y29uc3QgZT1cImdldE1hbmlmZXN0T3ZlcnJpZGVzXCIse21hbmlmZXN0OnQsaW5pdGlhbE9wdGlvbnM6YX09YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0SW5mbygpO3JldHVybiB0Py5wbGF0Zm9ybS53b3Jrc3BhY2V8fHQ/LnBsYXRmb3JtLmhvbWV8fGE/LndvcmtzcGFjZXx8YT8uaG9tZXx8Y29uc29sZS53YXJuKGAke2V9OiBNaXNzaW5nIEhvbWUgZGV2ZWxvcG1lbnQgbWFuaWZlc3Qgb3ZlcnJpZGVzLCB1c2luZyBEZXNrdG9wIE93bmVyIFNldHRpbmdzLmApLHQ/LnBsYXRmb3JtLndvcmtzcGFjZT8oSlNPTi5zdHJpbmdpZnkodD8ucGxhdGZvcm0ud29ya3NwYWNlKSx0Py5wbGF0Zm9ybS53b3Jrc3BhY2UpOnQ/LnBsYXRmb3JtLmhvbWU/KEpTT04uc3RyaW5naWZ5KHQ/LnBsYXRmb3JtLmhvbWUpLHQ/LnBsYXRmb3JtLmhvbWUpOmE/LndvcmtzcGFjZT8oSlNPTi5zdHJpbmdpZnkoYT8ud29ya3NwYWNlKSxhPy53b3Jrc3BhY2UpOmE/LmhvbWU/KEpTT04uc3RyaW5naWZ5KGE/LmhvbWUpLGE/LmhvbWUpOnt9fWNvbnN0IGM9ZT0+ZmluLlN5c3RlbS5nZXRTeXN0ZW1BcHBDb25maWcoZSk7YXN5bmMgZnVuY3Rpb24gZCgpe2NvbnN0IGU9XCJnZXRET1NPdmVycmlkZXNcIjtpZighby5jSSlyZXR1cm4gY29uc29sZS53YXJuKGAke2V9OiB0aGUgZmluIEFQSSB3YXMgbm90IGF2YWlsYWJsZSwgcmV0dXJuaW5nIG5vIHJlc3VsdGApLHt9O3RyeXtsZXQgdD1hd2FpdCBjKFwid29ya3NwYWNlXCIpLmNhdGNoKCh0PT57Y29uc29sZS53YXJuKGAke2V9OiBjdXN0b21Db25maWcgZW50cnkgZm9yIFN5c3RlbUFwcCB3b3Jrc3BhY2Ugbm90IGF2YWlsYWJsZSBpbiBEZXNrdG9wIE93bmVyIFNldHRpbmdzLiAke3Q/Lm1lc3NhZ2V9YCl9KSk7cmV0dXJuIHR8fCh0PWF3YWl0IGMoXCJob21lXCIpKSxKU09OLnN0cmluZ2lmeSh0KSx0fWNhdGNoKHQpe2lmKCFvLkhkKXJldHVybnt9O2lmKCEodCBpbnN0YW5jZW9mIEVycm9yKSl0aHJvdyB0O2NvbnNvbGUud2FybihgJHtlfTogTWlzc2luZyBXb3Jrc3BhY2UgRGVza3RvcCBPd25lciBTZXR0aW5ncyBjb25maWd1cmF0aW9uLCB1c2luZyBkZWZhdWx0cy4gJHt0Py5tZXNzYWdlfWApfXJldHVybnt9fWxldCBsLHU7Y29uc3QgcD1lPT5lLnJlcGxhY2UoL1xcLyQvLFwiXCIpO2FzeW5jIGZ1bmN0aW9uIGgoKXtjb25zdCBlPShhd2FpdCBhc3luYyBmdW5jdGlvbigpe2lmKGwpcmV0dXJuIGw7Y29uc3QgZT1cImdldE92ZXJyaWRlc1wiO2lmKCFvLmNJKXJldHVybiBvLllZJiZjb25zb2xlLndhcm4oYCR7ZX06IFRoZSBGaW4gQVBJIHdhcyBub3QgYXZhaWxhYmxlLiBSZXR1cm5pbmcgYW4gZW1wdHkgcmVzdWx0LmApLHt9O2NvbnN0W3QsYV09YXdhaXQgUHJvbWlzZS5hbGwoW2QoKSxzKCldKTtyZXR1cm4gbD17Li4uYSwuLi50LGRpc2FibGVSdW50aW1lVmFsaWRhdGlvbjphLmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbnx8dC5kaXNhYmxlUnVudGltZVZhbGlkYXRpb259LGx9KCkpLmJyb3dzZXJCYXNlVXJsO2lmKGUpdHJ5e2NvbnN0IHQ9bmV3IFVSTChlKTtpZih0LnBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSl0LnBhdGhuYW1lPXAodC5wYXRobmFtZSk7ZWxzZXtpZihcIi93b3Jrc3BhY2VcIj09PXQucGF0aG5hbWUpcmV0dXJuIHQucGF0aG5hbWUrPWAvJHtvLmV0fWAsdC50b1N0cmluZygpO2NvbnNvbGUud2FybihgQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtOiBicm93c2VyT3ZlcnJpZGVCYXNlVXJsIG11c3QgYmUgYSB2YWxpZCB1cmwsIHdpdGggcGF0aDogL3dvcmtzcGFjZS4gRXhwZWN0ZWQgPHByb3RvY29sPjovLzxvcHRpb25hbCBzdWJkb21haW4+Ljxkb21haW4+L3dvcmtzcGFjZSBidXQgZ290ICR7ZX1gKX19Y2F0Y2godCl7Y29uc29sZS53YXJuKGBAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm06IGJyb3dzZXJPdmVycmlkZUJhc2VVcmwgbXVzdCBiZSBhIHZhbGlkIHVybC4gRXhwZWN0ZWQgPHByb3RvY29sPjovLzxvcHRpb25hbCBzdWJkb21haW4+Ljxkb21haW4+L3dvcmtzcGFjZSBidXQgZ290ICR7ZX1gKX1yZXR1cm4gdT8/by5iRH1hc3luYyBmdW5jdGlvbiBmKGU9ITEpe2NvbnN0IHQ9YXdhaXQgaCgpK2kuQXkuRW50ZXJwcmlzZUJyb3dzZXI7cmV0dXJuIGU/dDpwKHQpfXZhciBnPWEoNzApO2NvbnN0IG09KGUsdCk9Pntjb25zdCBhPWU7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm18fChhLndvcmtzcGFjZVBsYXRmb3JtPXt9KSxhLndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM9e3NldEFzRm9yZWdyb3VuZDohIXQsZGVmZXJTaG93RW5hYmxlZDohMCxhdXRvU2hvdzphLndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8YS53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uYXV0b1Nob3d8fHZvaWQgMD09PWEuYXV0b1Nob3d8fGEuYXV0b1Nob3d9LGEuYXV0b1Nob3c9ITEsYX07Y29uc3Qgdz0oZSx0PTApPT57bGV0IGEsbixyPSExO2NvbnN0IG89YXN5bmMgbj0+e2NvbnN0IGk9YXdhaXQgZSguLi5uKTtpZihyKXthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLHQpKSk7Y29uc3QgZT1hO3JldHVybiBhPXZvaWQgMCxyPSExLG8oZSl9cmV0dXJuIGl9O3JldHVybiguLi5lKT0+KG4/KHI9ITAsYT1lKTpuPW8oZSkuY2F0Y2goKGU9Pnt0aHJvdyBjb25zb2xlLmVycm9yKFwibWFrZURlYm91bmNlZEZ1bmNcIixlKSxlfSkpLmZpbmFsbHkoKCgpPT57bj12b2lkIDB9KSksbil9O3ZhciB5OyFmdW5jdGlvbihlKXtlLlRvcD1cInRvcFwiLGUuQmVsb3c9XCJiZWxvd1wifSh5fHwoeT17fSkpO2NvbnN0IGs9YXN5bmMgZT0+e3RyeXtyZXR1cm4hIWUmJlwibWF4aW1pemVkXCI9PT1hd2FpdCBlLmdldFN0YXRlKCl9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcInBhcmVudFdpbmRvd01heGltaXplZCAtIEZhaWxlZCB0byBnZXQgcGFyZW50IHdpbmRvdyBzdGF0ZVwiLGUpLCExfX07YXN5bmMgZnVuY3Rpb24gdihlLHQsYSxuLHIsbyl7Y29uc3QgaT0hIWUmJigwLGcuSXEpKGUpLHM9YXdhaXQoYXN5bmMoZSx0KT0+e3RyeXtyZXR1cm4gZT9hd2FpdCBlLmdldEJvdW5kcygpOnR9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcImdldFBhcmVudFdpbmRvd0JvdW5kcyAtIEZhaWxlZCB0byBnZXQgcGFyZW50IHdpbmRvdyBib3VuZHNcIixlKSx0fX0pKGksbyk7aWYobj09PXkuQmVsb3cpe2lmKCFpfHxhd2FpdCBrKGkpKXtjb25zdCBlPWk/KGF3YWl0KDAsZy51cikocykpLmF2YWlsYWJsZVJlY3Q6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdDtyZXR1cm57bGVmdDooMCxnLlYxKShlKS5sZWZ0LXQvMix0b3A6cj9lLmJvdHRvbS0xMjg6ZS5ib3R0b20rMTIsd2lkdGg6dCxoZWlnaHQ6YX19cmV0dXJue2xlZnQ6KDAsZy5WMSkocykubGVmdC10LzIsdG9wOnI/cy5ib3R0b20tMTI4OnMuYm90dG9tKzEyLHdpZHRoOnQsaGVpZ2h0OmF9fWlmKCFpfHxhd2FpdCBrKGkpKXtjb25zdCBlPWk/KGF3YWl0KDAsZy51cikocykpLmF2YWlsYWJsZVJlY3Q6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdDtyZXR1cm57bGVmdDooMCxnLlYxKShlKS5sZWZ0LXQvMix0b3A6ZS50b3ArMjAsd2lkdGg6dCxoZWlnaHQ6YX19cmV0dXJue2xlZnQ6KDAsZy5WMSkocykubGVmdC10LzIsdG9wOnMudG9wKzIwLHdpZHRoOnQsaGVpZ2h0OmF9fXcoKGFzeW5jIGZ1bmN0aW9uKGUsdCxhLG4scil7Y29uc3Qgbz10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9YXdhaXQgdihlLG8ud2lkdGgsby5oZWlnaHQsYSxuLHIpO2lmKDA9PT1pLndpZHRofHwwPT09aS5oZWlnaHQpcmV0dXJuO2NvbnN0IHM9KDAsZy5UdikoKTthd2FpdCBzLnNldEJvdW5kcyhpKSxhd2FpdCBzLnNob3coKTtjb25zdCBjPXNldFRpbWVvdXQoKCgpPT5zLmNsb3NlKCkpLG4/NWUzOjNlMyksZD0oKT0+e2NsZWFyVGltZW91dChjKSxzLmNsb3NlKCl9O2lmKGUpe2NvbnN0IHQ9KDAsZy5JcSkoZSk7dC5vbihcImJvdW5kcy1jaGFuZ2luZ1wiLCgoKT0+ZCgpKSksdC5vbihcImJsdXJyZWRcIiwoKCk9PmQoKSkpLHQub24oXCJtYXhpbWl6ZWRcIiwoKCk9PmQoKSkpLHQub24oXCJtaW5pbWl6ZWRcIiwoKCk9PmQoKSkpLHQub24oXCJyZXN0b3JlZFwiLCgoKT0+ZCgpKSl9fSksMTApO2NvbnN0IGI9YXN5bmMgZT0+e2NvbnN0IHQ9ZSYmYXdhaXQoMCxnLklxKShlKS5nZXRCb3VuZHMoKSxhPWU/YXdhaXQoMCxnLnVyKSh0KTooYXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpKS5wcmltYXJ5TW9uaXRvcjtyZXR1cm4oMCxnLlZFKShhLmF2YWlsYWJsZVJlY3QpfTt2YXIgUz1hKDk1Nyk7ZnVuY3Rpb24gUCgpe2xldCBlLHQ7cmV0dXJue3Byb21pc2U6bmV3IFByb21pc2UoKChhLG4pPT57ZT1hLHQ9bn0pKSxyZXNvbHZlOmUscmVqZWN0OnR9fWNvbnN0IEM9XCJkb2NrM1wiLEE9cmVxdWlyZShcImRleGllXCIpLHg9ZT0+KHtzZXRJdGVtOih0LGEpPT57bG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7ZX0tJHt0fWAsYSl9LGdldEl0ZW06dD0+bG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7ZX0tJHt0fWApLHJlbW92ZUl0ZW06dD0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYCR7ZX0tJHt0fWApfSksTT14KG8uJGgpLEk9TS5zZXRJdGVtLEY9TS5nZXRJdGVtLFc9TS5yZW1vdmVJdGVtO3ZhciBUOyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwiLGUuRG9ja1Bvc2l0aW9uPVwiRG9ja1Bvc2l0aW9uXCIsZS5TZWxlY3RlZENvbG9yU2NoZW1lPVwiU2VsZWN0ZWRDb2xvclNjaGVtZVwiLGUuVGhlbWVQYWxldHRlU2hlZXQ9XCJUaGVtZVBhbGV0dGVTaGVldFwiLGUuSGFzTW92ZWRTdG9yZT1cIkhhc01vdmVkU3RvcmVcIixlLlBhZ2VEcmFnU3RhdGU9XCJCcm93c2VyUGFnZURyYWdTdGF0ZVwifShUfHwoVD17fSkpO2NvbnN0IEQ9VCxPPWU9PmUrXCItXCIrZmluLm1lLnV1aWQsRT0oZSx0KT0+e2NvbnN0IGE9by5BVCYmby5jSSYmbmV3IEEuRGV4aWUoZSk7cmV0dXJuIGEmJmEudmVyc2lvbiguMSkuc3RvcmVzKHtbdF06XCJcIn0pLGF9LF89KGUsdCk9Pntjb25zdCBhPUUoTyhlKSx0KSxuPUUoZSx0KTtpZighYXx8IW4pdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIG1pZ3JhdGUgc3RvcmUgLSBJbmRleERCIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuKGFzeW5jKGUsdCxhKT0+e2NvbnN0IG49RihELkhhc01vdmVkU3RvcmUpLHI9bj9KU09OLnBhcnNlKG4pOnt9O2lmKHImJnJbYV0pcmV0dXJuO3JbYV09ITAsSShELkhhc01vdmVkU3RvcmUsSlNPTi5zdHJpbmdpZnkocikpO2NvbnN0IG89YXdhaXQgZVthXS50b0FycmF5KCk7YXdhaXQgdFthXS5idWxrUHV0KG8pfSkobixhLGUpLGF9LEI9XCJkb2NrMy1wcm92aWRlci1jb25maWdcIixSPW8uQVQmJm8uY0kmJm5ldyBBLkRleGllKE8oXCJkb2NrMy1wcm92aWRlci1jb25maWdcIikpO1ImJlIudmVyc2lvbiguMSkuc3RvcmVzKHtbQl06XCJcIn0pO3ZhciAkLEwsTixHLFU9ZnVuY3Rpb24oZSx0LGEsbixyKXtpZihcIm1cIj09PW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtpZihcImFcIj09PW4mJiFyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IXI6IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cImFcIj09PW4/ci5jYWxsKGUsYSk6cj9yLnZhbHVlPWE6dC5zZXQoZSxhKSxhfSxWPWZ1bmN0aW9uKGUsdCxhLG4pe2lmKFwiYVwiPT09YSYmIW4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhbjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cIm1cIj09PWE/bjpcImFcIj09PWE/bi5jYWxsKGUpOm4/bi52YWx1ZTp0LmdldChlKX07Y2xhc3MgSHtzdGF0aWMgZ2V0T3ZlcnJpZGVDb25zdHJ1Y3RvciguLi5lKXtyZXR1cm4gY2xhc3MgZXh0ZW5kcyBIe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uZSl9fX1jb25zdHJ1Y3RvcihlLHQpe2lmKCQuc2V0KHRoaXMsdm9pZCAwKSxMLnNldCh0aGlzLHZvaWQgMCksTi5zZXQodGhpcyxudWxsKSxHLnNldCh0aGlzLFAoKSksSC5pbnN0YW5jZSl0aHJvdyBuZXcgRXJyb3IoXCJEb2NrM1Byb3ZpZGVyIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO0guaW5zdGFuY2U9dGhpcyxVKHRoaXMsJCxlLFwiZlwiKSxVKHRoaXMsTCx0LFwiZlwiKSx0aGlzLnJlZ2lzdGVyQ2hhbm5lbEFjdGlvbnMoKX1hc3luYyBsYXVuY2hFbnRyeShlKXt9Z2V0IHJlYWR5KCl7cmV0dXJuIFYodGhpcyxHLFwiZlwiKS5wcm9taXNlfWFzeW5jIGJvb2ttYXJrQ29udGVudE1lbnVFbnRyeShlKXt9Z2V0IGNvbmZpZygpe3JldHVybiBWKHRoaXMsJCxcImZcIil9c2V0IGNvbmZpZyhlKXtVKHRoaXMsJCxlLFwiZlwiKX1hc3luYyB1cGRhdGVDb25maWcoZSl7YXdhaXQgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoZSl9YXN5bmMgc2h1dGRvd24oKXthd2FpdCBQcm9taXNlLmFsbChbVih0aGlzLEwsXCJmXCIpLmRlc3Ryb3koKSx0aGlzLmdldFdpbmRvd1N5bmMoKS5jbG9zZSghMCldKSxILmluc3RhbmNlPW51bGx9YXN5bmMgc2F2ZUNvbmZpZyh7Y29uZmlnOmV9KXtVKHRoaXMsJCxlLFwiZlwiKSxhd2FpdCBhc3luYyBmdW5jdGlvbihlKXtpZighUil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gc2F2ZSBEb2NrIHByb3ZpZGVyIGNvbmZpZyAtIEluZGV4ZWREYiBub3Qgc3VwcG9ydGVkXCIpO2F3YWl0IFJbQl0ucHV0KGUsXCJsYXRlc3RcIil9KGUpfWFzeW5jIGhhbmRsZUNvbmZpZ0NoYW5nZShlKXtWKHRoaXMsTixcImZcIikmJmF3YWl0IFYodGhpcyxMLFwiZlwiKS5kaXNwYXRjaChWKHRoaXMsTixcImZcIiksXCJoYW5kbGUtZG9jay1jb25maWctdXBkYXRlZFwiLGUpfWFzeW5jIGxvYWRDb25maWcoKXtjb25zdCBlPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7aWYoIVIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBEb2NrIHByb3ZpZGVyIGNvbmZpZyAtIEluZGV4ZWREQiBub3Qgc3VwcG9ydGVkXCIpO3RyeXtyZXR1cm4gYXdhaXQgUltCXS5nZXQoXCJsYXRlc3RcIil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHJldHJpZXZlIERvY2sgcHJvdmlkZXIgY29uZmlnIGZyb20gSW5kZXhlZERCXCIsZSl9fSgpO3JldHVybiBlJiZVKHRoaXMsJCxlLFwiZlwiKSxWKHRoaXMsJCxcImZcIil9Z2V0V2luZG93U3luYygpe3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkLG5hbWU6Q30pfXJlZ2lzdGVyQ2hhbm5lbEFjdGlvbnMoKXtWKHRoaXMsTCxcImZcIikucmVnaXN0ZXIoXCJsYXVuY2gtZW50cnlcIix0aGlzLmxhdW5jaEVudHJ5LmJpbmQodGhpcykpLFYodGhpcyxMLFwiZlwiKS5yZWdpc3RlcihcInNhdmUtY29uZmlnXCIsdGhpcy5zYXZlQ29uZmlnLmJpbmQodGhpcykpLFYodGhpcyxMLFwiZlwiKS5yZWdpc3RlcihcImJvb2ttYXJrLWNvbnRlbnQtbWVudS1lbnRyeVwiLHRoaXMuYm9va21hcmtDb250ZW50TWVudUVudHJ5LmJpbmQodGhpcykpLFYodGhpcyxMLFwiZlwiKS5vbkNvbm5lY3Rpb24oKGU9PntlLm5hbWU9PT1DJiZVKHRoaXMsTixlLFwiZlwiKX0pKSxWKHRoaXMsTCxcImZcIikucmVnaXN0ZXIoXCJyZWFkeVwiLChhc3luYyhlLHQpPT57aWYoVih0aGlzLE4sXCJmXCIpPy5lbmRwb2ludElkIT09dC5lbmRwb2ludElkKXRocm93IG5ldyBFcnJvcihgRG9jazNQcm92aWRlcjogJ3JlYWR5JyBhY3Rpb24gcmVjZWl2ZWQgZnJvbSB1bmV4cGVjdGVkIGNsaWVudCAke3QubmFtZX0gKCR7dC51dWlkfSlgKTtWKHRoaXMsRyxcImZcIikucmVzb2x2ZSgpfSkpLFYodGhpcyxMLFwiZlwiKS5vbkRpc2Nvbm5lY3Rpb24oKGU9PntWKHRoaXMsTixcImZcIik/LmVuZHBvaW50SWQ9PT1lLmVuZHBvaW50SWQmJihVKHRoaXMsTixudWxsLFwiZlwiKSxVKHRoaXMsRyxQKCksXCJmXCIpKX0pKX19JD1uZXcgV2Vha01hcCxMPW5ldyBXZWFrTWFwLE49bmV3IFdlYWtNYXAsRz1uZXcgV2Vha01hcCxILmluc3RhbmNlPW51bGw7Y29uc3Qgej1hc3luYyBlPT57Y29uc3QgdD1lP2Zpbi5XaW5kb3cud3JhcFN5bmMoZSk6ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLGE9YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGEud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUmJlwiZW50ZXJwcmlzZVwiPT09YS53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlfTtsZXQgcTthKDI3Nyk7dmFyIGo9YSg0MzgpO2NvbnN0IEs9cmVxdWlyZShcImxvZGFzaC5kZWJvdW5jZVwiKTt2YXIgWD1hLm4oSyk7ZnVuY3Rpb24gUSgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShELk1hY2hpbmVOYW1lKT8/XCJ1bmtub3duXCJ9bGV0IFk7YXN5bmMgZnVuY3Rpb24gWigpe3JldHVybiBZfHwoWT1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSxZfXZhciBKPWEoMzMzKTtjb25zdCBlZT1hc3luYyBlPT4oey4uLmUsbGF5b3V0RGV0YWlsczp7bWFjaGluZUlkOmF3YWl0IFooKSxtYWNoaW5lTmFtZTpRKCl9fSksdGU9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoYXN5bmMoZSx0KT0+KHtwYWdlSWQ6KDAsSi5OKSgpLHRpdGxlOmUsbGF5b3V0OmF3YWl0IGVlKHQpLGlzUmVhZE9ubHk6ITF9KSkoZS50aXRsZSx6ZShlLmxheW91dCkpO3JldHVybiBlLnBhbmVscyYmKHQucGFuZWxzPWUucGFuZWxzLm1hcCgoZT0+KHsuLi5lLHZpZXdPcHRpb25zOkhlKGUudmlld09wdGlvbnMpfSkpKSksey4uLmUsLi4udH19O3ZhciBhZT1hKDc5KSxuZT1hKDc4Nik7dmFyIHJlPWEoMTAyKTtjb25zdCBvZT0oZSx0KT0+dD9gJHt0fS0ke2UudXVpZH0tJHtlLm5hbWV9YDpgX19icm93c2VyX3dpbmRvd19fLSR7ZS51dWlkfS0ke2UubmFtZX1gLGllPW5ldyBNYXAsc2U9KGUsdCk9Pntjb25zdCBhPW9lKGUsdCk7cmV0dXJuIG49YSxpZS5oYXMobil8fGllLnNldChuLCgwLHJlLkEpKG4pKSxpZS5nZXQobikoKTt2YXIgbn07dmFyIGNlLGRlLGxlLHVlLHBlLGhlOyFmdW5jdGlvbihlKXtlLkNsb3NlQnJvd3NlcldpbmRvdz1cImNsb3NlLWJyb3dzZXItd2luZG93XCIsZS5RdWl0UGxhdGZvcm09XCJxdWl0LXBsYXRmb3JtXCIsZS5DbG9zZVBhZ2U9XCJjbG9zZS1wYWdlXCIsZS5BZGRUb0NoYW5uZWw9XCJhZGQtdG8tY2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJyZW1vdmUtZnJvbS1jaGFubmVsXCIsZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWw9XCJvcGVuLXNhdmUtbW9kYWwtaW50ZXJuYWxcIixlLkR1cGxpY2F0ZVBhZ2U9XCJkdXBsaWNhdGUtcGFnZVwiLGUuU2V0U2VsZWN0ZWRTY2hlbWU9XCJzZXQtc2VsZWN0ZWQtc2NoZW1lXCIsZS5TaG93QnJvd3NlckluZGljYXRvcj1cInNob3ctYnJvd3Nlci1pbmRpY2F0b3JcIixlLlNldFNlbGVjdGVkTGFuZ3VhZ2U9XCJzZXQtc2VsZWN0ZWQtbGFuZ3VhZ2VcIixlLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD1cInJlZnJlc2gtYm9va21hcmtzXCIsZS5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbD1cImdldC1sYXlvdXRzLXdpdGgtc2VsZWN0ZWQtdmlld3NcIixlLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9XCJmb2N1cy1hbmQtZXhwYW5kLXNlYXJjaFwifShjZXx8KGNlPXt9KSksZnVuY3Rpb24oZSl7ZS5HZXRQYWdlcz1cImdldC1wYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cImdldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoLXBhZ2VzLWZyb20td2luZG93XCIsZS5TZXRBY3RpdmVQYWdlRm9yV2luZG93PVwic2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLlJlbmFtZVBhZ2U9XCJyZW5hbWUtcGFnZVwiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlci1wYWdlcy1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zPVwidXBkYXRlLXBhZ2VzLXdpbmRvdy1vcHRpb25zXCIsZS5Jc0RldGFjaGluZ1BhZ2VzPVwiaXMtZGV0YWNoaW5nLXBhZ2VzXCIsZS5Jc0FjdGl2ZVBhZ2VDaGFuZ2luZz1cImlzLWFjdGl2ZS1wYWdlLWNoYW5naW5nXCJ9KGRlfHwoZGU9e30pKSxmdW5jdGlvbihlKXtlLkdldEFwcHM9XCJnZXQtYXBwc1wiLGUuR2V0Q3VyYXRlZENvbnRlbnQ9XCJnZXQtY3VyYXRlZC1jb250ZW50XCIsZS5HZXRSZWNlbnRseVZpc2l0ZWQ9XCJnZXQtcmVjZW50bHktdmlzaXRlZFwiLGUuR2V0U2VhcmNoUHJvdmlkZXJzPVwiZ2V0LXNlYXJjaC1wcm92aWRlcnNcIn0obGV8fChsZT17fSkpLGZ1bmN0aW9uKGUpe2UuQ3JlYXRlQm9va21hcmtOb2RlPVwiY3JlYXRlLWJvb2ttYXJrLW5vZGVcIixlLkdldEJvb2ttYXJrTm9kZT1cImdldC1ib29rbWFyay1ub2RlXCIsZS5TZWFyY2hCb29rbWFya05vZGVzPVwic2VhcmNoLWJvb2ttYXJrLW5vZGVzXCIsZS5VcGRhdGVCb29rbWFya05vZGU9XCJ1cGRhdGUtYm9va21hcmstbm9kZVwiLGUuRGVsZXRlQm9va21hcmtOb2RlPVwiZGVsZXRlLWJvb2ttYXJrLW5vZGVcIn0odWV8fCh1ZT17fSkpLGZ1bmN0aW9uKGUpe2UuVXBkYXRlRmF2b3JpdGVFbnRyaWVzPVwidXBkYXRlLWZhdm9yaXRlLWVudHJpZXNcIixlLlVwZGF0ZUNvbnRlbnRNZW51PVwidXBkYXRlLWNvbnRlbnQtbWVudVwiLGUuTmF2aWdhdGVDb250ZW50TWVudT1cIm5hdmlnYXRlLWNvbnRlbnQtbWVudVwifShwZXx8KHBlPXt9KSksZnVuY3Rpb24oZSl7ZS5TZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2U9XCJzZW5kLXVwZGF0ZS12ZXJzaW9uLW1vZGFsLXJlc3BvbnNlXCJ9KGhlfHwoaGU9e30pKTtjb25zdCBmZT17Li4uY2UsLi4uZGUsLi4ucGV9LGdlPSgwLHJlLkEpKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbj8ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1ib29rbWFya3NgKSxtZT1lPT4oe2lkZW50aXR5OmUsb3BlbmZpbldpbmRvdzpmaW4uV2luZG93LndyYXBTeW5jKGUpLF9ib29rbWFya3M6e19jcmVhdGVCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBnZSgpKS5kaXNwYXRjaCh1ZS5DcmVhdGVCb29rbWFya05vZGUsZSkpKGUpLF9nZXRCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBnZSgpKS5kaXNwYXRjaCh1ZS5HZXRCb29rbWFya05vZGUsZSkpKGUpLF9zZWFyY2hCb29rbWFya05vZGVzOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgZ2UoKSkuZGlzcGF0Y2godWUuU2VhcmNoQm9va21hcmtOb2RlcyxlKSkoZSksX3VwZGF0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IGdlKCkpLmRpc3BhdGNoKHVlLlVwZGF0ZUJvb2ttYXJrTm9kZSxlKSkoZSksX2RlbGV0ZUJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IGdlKCkpLmRpc3BhdGNoKHVlLkRlbGV0ZUJvb2ttYXJrTm9kZSxlKSkoZSl9LGdldFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0UGFnZXNGb3JXaW5kb3csZSksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFBhZ2VGb3JXaW5kb3cse2lkZW50aXR5OmUscGFnZUlkOnR9KSxhZGRQYWdlOmFzeW5jIHQ9PlVlKCkuQnJvd3Nlci53cmFwU3luYyhlKS5fYWRkUGFnZSh0KSxfYWRkUGFnZTphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCgwLGFlLmJXKShlKSxyPXtpZGVudGl0eTplLHBhZ2U6dCxpbnNlcnRpb25JbmRleDphPy5pbmRleCxtdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yOmE/Lm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3J9O3JldHVybiBuLmRpc3BhdGNoKGFlLk9GLkFkZFBhZ2Uscil9LF9hZGRQYWdlczphc3luYyh0LGEsbik9Pntjb25zdCByPWF3YWl0KDAsYWUuYlcpKGUpLG89dC5tYXAoKCh7cGFnZTplLG9wdHM6dH0pPT4oey4uLmUsbXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcjp0Py5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yfHxcImR1cGxpY2F0ZVwifSkpKSxpPXtpZGVudGl0eTplLHBhZ2VzOm8saW5zZXJ0aW9uSW5kZXg6YSxyZXBsYWNlQWN0aXZlUGFnZTpufTtyZXR1cm4gci5kaXNwYXRjaChhZS5PRi5BdHRhY2hQYWdlc1RvV2luZG93LGkpfSxyZW1vdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuRGV0YWNoUGFnZXNGcm9tV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZHM6W3RdfSkscmVwYXJlbnRQYWdlOmFzeW5jIHQ9PlVlKCkuQnJvd3Nlci53cmFwU3luYyhlKS5fcmVwYXJlbnRQYWdlKHQpLF9yZXBhcmVudFBhZ2U6YXN5bmMgdD0+e2NvbnN0e3BhZ2VJZDphfT10LG49YXdhaXQoMCxhZS5iVykoZSkscj0oYXdhaXQgbi5kaXNwYXRjaChhZS5PRi5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCkpLmZpbmQoKCh7cGFnZUlkOmV9KT0+ZT09PWEpKTtpZighcil0aHJvdyBuZXcgRXJyb3IoYFJlcGFyZW50IFBhZ2UgRXJyb3I6IFRhcmdldCBwYWdlIHdpdGggcGFnZUlkICR7YX0gbm90IGZvdW5kYCk7ci5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yPVwicmVwYXJlbnRcIjtjb25zdCBvPXtpZGVudGl0eTplLHBhZ2VzOltyXSxpbnNlcnRpb25JbmRleDp0LmluZGV4fTtyZXR1cm4gbi5kaXNwYXRjaChhZS5PRi5BdHRhY2hQYWdlc1RvV2luZG93LG8pfSxzZXRBY3RpdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuU2V0QWN0aXZlUGFnZSx7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGFlLk9GLlVwZGF0ZVBhZ2VGb3JXaW5kb3csdCl9LHJlb3JkZXJQYWdlczphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLGFlLmJXKShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goYWUuT0YuUmVvcmRlclBhZ2VzRm9yV2luZG93LHQpfSxfb3Blbkdsb2JhbENvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsYWUuYlcpKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChhZS5PRi5PcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0scmVwbGFjZVRvb2xiYXJPcHRpb25zOmFzeW5jIHQ9Pnthd2FpdCgwLGFlLmJXKShlKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7dG9vbGJhck9wdGlvbnM6dH19KX0scmVwbGFjZVdpbmRvd1N0YXRlQnV0dG9uT3B0aW9uczphc3luYyB0PT57YXdhaXQoMCxhZS5iVykoZSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1N0YXRlQnV0dG9uT3B0aW9uczp0fX0pfSx1cGRhdGVCcm93c2VyV2luZG93VGl0bGU6YXN5bmMgdD0+e2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTtcInN0cmluZ1wiIT10eXBlb2YgdD9hd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0aXRsZTp0fX0pOmNvbnNvbGUud2FybihcIlR5cGUgc3RyaW5nIGZvciB3aW5kb3cgdGl0bGUgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBXaW5kb3dUaXRsZSB0eXBlIGluc3RlYWRcIix0KX0sX29wZW5WaWV3VGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGFlLk9GLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5QYWdlVGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGFlLk9GLk9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5TYXZlTW9kYWw6YXN5bmMgdD0+e2F3YWl0KDAsYWUuYlcpKGUpO3JldHVybihhd2FpdCBzZShlKSkuZGlzcGF0Y2goZmUuT3BlblNhdmVNb2RhbEludGVybmFsLHQpfSxfZ2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzOmFzeW5jKCk9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2goZmUuR2V0TGF5b3V0c1dpdGhTZWxlY3RlZFZpZXdzSW50ZXJuYWwsZSksX29wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGFlLk9GLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX2FkZERlZmF1bHRQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0KDAsYWUuYlcpKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChhZS5PRi5BZGREZWZhdWx0UGFnZSx0KX0sX3RyYWNrUmVtb3ZlZFRhYjphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLlRyYWNrUmVtb3ZlZFRhYkludGVybmFsLHQpLF9yZXN0b3JlUmVtb3ZlZFRhYjphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLlJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWwsdCksX3RyYWNrVmlzaXRlZFNpdGU6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5UcmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWwsdCksX2dldFJlY2VudGx5VmlzaXRlZFNpdGVzOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbCx0KSxfZ2V0RnJlcXVlbnRseVZpc2l0ZWRTaXRlczphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbCx0KSxfc2VhcmNoU2l0ZXM6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5TZWFyY2hTaXRlc0ludGVybmFsLHtpZGVudGl0eTplLHJlcTp0fSksX2dldFNlYXJjaFByb3ZpZGVyczphc3luYygpPT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsLHtpZGVudGl0eTplfSksX2dldEN1cmF0ZWRDb250ZW50OmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbCx7aWRlbnRpdHk6ZSxyZXE6dH0pLF9oYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbjphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLkhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWwsdCksX3NlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLlNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZUludGVybmFsLHQpfSksd2U9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybnt3cmFwU3luYzplPT5tZShlKSxjcmVhdGVXaW5kb3c6YXN5bmMgYT0+e2NvbnN0IG49KCgpPT57Y29uc3QgZT1gYnJvd3Nlci13aW5kb3ctc3RhcnR1cC0keygwLEouTikoKX1gO3JldHVybiBuZS5BLm1hcmtTdGFydChlKSxlfSkoKTsoZT0+e2Zpbi5BcHBsaWNhdGlvbi53cmFwU3luYyh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0pLm9uY2UoXCJ3aW5kb3ctc2hvd25cIiwoKCk9PntuZS5BLm1hcmtBbmRNZWFzdXJlKFwiYnJvd3Nlci13aW5kb3ctc2hvd25cIixlKX0pKX0pKG4pLGF3YWl0KDAsYWUuYlcpKGUpO2NvbnN0IHI9YXdhaXQgdC5jcmVhdGVXaW5kb3coYSk7cmV0dXJuKGU9PntuZS5BLm1hcmtBbmRNZWFzdXJlKFwiYnJvd3Nlci13aW5kb3ctc3RhcnRlZFwiLGUpfSkobiksbWUoci5pZGVudGl0eSl9LGdldEFsbEF0dGFjaGVkUGFnZXM6YXN5bmMoKT0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCksZ2V0QWxsV2luZG93czphc3luYygpPT57YXdhaXQoMCxhZS5iVykoZSk7cmV0dXJuKGF3YWl0KDAsZy5JbykoKSkubWFwKChlPT5tZShlLmlkZW50aXR5KSkpfSxnZXRVbmlxdWVQYWdlVGl0bGU6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRVbmlxdWVQYWdlVGl0bGUsdCksZ2V0TGFzdEZvY3VzZWRXaW5kb3c6YXN5bmMoKT0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdm9pZCAwKSxnZXRQYWdlQnlWaWV3SWRlbnRpdHk6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRQYWdlQnlWaWV3SWRlbnRpdHksdCl9fTt2YXIgeWU9YSg1MjMpO2Z1bmN0aW9uIGtlKGUsdCl7cmV0dXJuIGFzeW5jKGEsLi4ubik9PntlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpLHQmJmF3YWl0IHQoe2V2ZW50OmEscGF5bG9hZDpufSl9fWZ1bmN0aW9uIHZlKGUsdCl7cmV0dXJuIHQmJnQoKHQ9Pntjb25zdHtldmVudDphLHBheWxvYWQ6bn09dDtlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpfSkpLCh0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCksZS5nZXQodCkuYWRkKGEpfX1mdW5jdGlvbiBiZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpO2NvbnN0IG49ZS5nZXQodCkscj0oLi4uZSk9PnthKC4uLmUpLG4uZGVsZXRlKHIpfTtuLmFkZChyKX19ZnVuY3Rpb24gU2UoZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KSYmZS5nZXQodCkuZGVsZXRlKGEpfX1jb25zdCBQZT17bmFtZTpnLlEuQnJvd3Nlck1lbnUsYWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITAsZnJhbWU6ITEscmVzaXphYmxlOiExLGJhY2tncm91bmRDb2xvcjpcIiMyZjMxMzZcIixzbWFsbFdpbmRvdzohMCxzaG93VGFza2Jhckljb246ITEsYmFja2dyb3VuZFRocm90dGxpbmc6ITEsc2F2ZVdpbmRvd1N0YXRlOiExfTtmdW5jdGlvbiBDZShlKXtjb25zdCB0PXsuLi5QZSwuLi5lfTtyZXR1cm4gdC51cmw9KDAseWUuVHQpKHQudXJsPz9cIlwiKSx0fWNvbnN0IEFlPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm57ZW1pdDprZSh0LCh0PT5vLmNJJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGUsdCkpKSxhZGRMaXN0ZW5lcjp2ZSh0LCh0PT5vLmNJJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmUoe3V1aWQ6ZmluLm1lLnV1aWR9LGUsdCkpKSxhZGRMaXN0ZW5lcldpdGhVVUlEOmE9PnZlKHQsKHQ9Pm8uY0kmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDphfSxlLHQpKSkscmVtb3ZlTGlzdGVuZXI6U2UodCksb25jZTpiZSh0KX19KFwid2luZG93Lm1lbnVcIikseGU9KGUsdCk9PmZpbi5XaW5kb3cud3JhcFN5bmMoZSkudXBkYXRlT3B0aW9ucyh7b3BhY2l0eTp0fSksTWU9ZT0+QWUuZW1pdChcInJlc3BvbnNlXCIsZSksSWU9dygoKCk9PigwLGoudjEpKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLDUwMCk7Y29uc3QgRmU9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBXZShlLHQsYSl7Y29uc3Qgbj1DZShlKSxvPWF3YWl0KDAsUy5xcSkoZmluLm1lLmlkZW50aXR5KSxpPWF3YWl0KDAsUy5sNSkoZmluLm1lLmlkZW50aXR5KT09PXIucVQuRGFyayxzPW8/LnRoZW1lO2lmKG4uYmFja2dyb3VuZENvbG9yPXM/LltpP3IucVQuRGFyazpyLnFULkxpZ2h0XT8ucGFsZXR0ZT8uaW5wdXRCYWNrZ3JvdW5kfHxuLmJhY2tncm91bmRDb2xvciwhRmUuaGFzKG4ubmFtZSkpe3JldHVybiBuZXcgUHJvbWlzZSgocj0+e0FlLm9uY2UoXCJyZWFkeVwiLChhc3luYyBlPT57aWYoZS5uYW1lPT09bi5uYW1lKXtjb25zdCB0PWF3YWl0IEZlLmdldChuLm5hbWUpO24ucHJldmVudEJsdXJ8fHQub25jZShcImJsdXJyZWRcIiwoYXN5bmMoKT0+e2lmKHhlKGUsMCksdC5oaWRlKCksTWUoe25hbWU6bi5uYW1lLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KSxhPXQuaWRlbnRpdHkubmFtZSxbZy5RLkJyb3dzZXJTYXZlTWVudSxnLlEuRGVza3RvcFNpZ25hbHNNb2RhbF0uaW5jbHVkZXMoYSkpe2NvbnN0IGU9YXdhaXQgdC5nZXRPcHRpb25zKCk7XCJzdWJtaXR0aW5nXCIhPT1lLmN1c3RvbUNvbnRleHQmJlwiZXJyb3JcIiE9PWUuY3VzdG9tQ29udGV4dCYmdC5jbG9zZSgpfWVsc2UgdC5pZGVudGl0eS5uYW1lLnN0YXJ0c1dpdGgoZy5RLkJyb3dzZXJNZW51KSYmdC5jbG9zZSgpO3ZhciBhfSkpLHNldFRpbWVvdXQoKGFzeW5jKCk9Pnthd2FpdCB4ZShlLDEpOzEhPT0oYXdhaXQgZmluLldpbmRvdy53cmFwU3luYyhlKS5nZXRPcHRpb25zKCkpLm9wYWNpdHkmJnhlKGUsMSl9KSkscih0KX19KSk7Y29uc3Qgbz0oYXN5bmMoKT0+e2NvbnN0IHI9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KG0oey4uLm4sb3BhY2l0eTowLHVybDp0fHxuLnVybCxkZWZhdWx0TGVmdDphPy5sZWZ0LGRlZmF1bHRUb3A6YT8udG9wLGRlZmF1bHRXaWR0aDphPy53aWR0aCxkZWZhdWx0SGVpZ2h0OmE/LmhlaWdodCx3b3Jrc3BhY2VQbGF0Zm9ybTp7cHJldmVudEJsdXI6ZS5wcmV2ZW50Qmx1cn19LCEwKSk7cmV0dXJuIHIub25jZShcImNsb3NlZFwiLCgoKT0+e0ZlLmRlbGV0ZShuLm5hbWUpfSkpLHJ9KSgpO0ZlLnNldChuLm5hbWUsbyl9KSl9cmV0dXJuIEZlLmdldChuLm5hbWUpfWFzeW5jIGZ1bmN0aW9uIFRlKGUsdCl7Y29uc3QgYT1DZShlKSxuPXt0b3A6YS50b3AsbGVmdDphLmxlZnQsd2lkdGg6YS5kZWZhdWx0V2lkdGh8fGEud2lkdGgsaGVpZ2h0OmEuZGVmYXVsdEhlaWdodHx8YS5oZWlnaHR9O3JldHVybiB0LnNldChcInBhcmVudE5hbWVcIixmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkuaWRlbnRpdHkubmFtZSkse25hbWU6YS5uYW1lLGJvdW5kczpuLHJvdXRlOmAke2EudXJsfSMke3QudG9TdHJpbmcoKX1gfX1hc3luYyBmdW5jdGlvbiBEZSh7b3B0aW9uczplLHBhcmFtZXRlcnM6dH0pe2NvbnN0IGE9dD8/bmV3IFVSTFNlYXJjaFBhcmFtcyxuPUNlKGUpLHtuYW1lOnIsbW9kYWxQYXJlbnRJZGVudGl0eTpvfT1uO2lmKCFhLmhhcyhcImlzRW50ZXJwcmlzZVwiKSl7Y29uc3QgZT1gJHthd2FpdChhc3luYyBlPT4ocXx8KHE9YXdhaXQgeihlKSkscSkpKG8pfWA7YS5zZXQoXCJpc0VudGVycHJpc2VcIixlKX1sZXQgaT1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtyZXR1cm4oYXdhaXQgSWUoKSkuZmluZCgodD0+dC5pZGVudGl0eS5uYW1lPT09ZSkpfShyKTtpZihpKWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3R7bmFtZTphLGJvdW5kczpuLHJvdXRlOnJ9PWF3YWl0IFRlKGUsdCksbz17dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZCxuYW1lOmF9LGk9ZmluLldpbmRvdy53cmFwU3luYyhvKTthd2FpdCBQcm9taXNlLmFsbChbaS5oaWRlKCkseGUobywwKSxpLnNldEJvdW5kcyhuKV0pLGUucHJldmVudEJsdXJ8fGkub25jZShcImJsdXJyZWRcIiwoKCk9Pnt4ZShvLDApLGkuaGlkZSgpLE1lKHtuYW1lOm8ubmFtZSxkYXRhOnthY3Rpb25OYW1lOlwiQ2FuY2VsXCJ9fSl9KSksQWUuZW1pdChcInVwZGF0ZVwiLGEsbixyKSxhd2FpdCBNZSh7bmFtZTphLGRhdGE6e2FjdGlvbk5hbWU6XCJDYW5jZWxcIn19KX0obixhKTtlbHNle2NvbnN0e3JvdXRlOnQsYm91bmRzOnJ9PWF3YWl0IFRlKGUsYSk7aT1hd2FpdCBXZSh7Li4ubn0sdCxyKX1yZXR1cm4gaX1jb25zdCBPZT1lPT4oe2NyZWF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxkZWxldGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksdXBkYXRlUGFnZTphc3luYyB0PT4oYXdhaXQoMCxhZS5iVykoZSkpLmRpc3BhdGNoKGFlLk9GLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRTYXZlZFBhZ2UsdCksZ2V0UGFnZXM6YXN5bmMgdD0+KGF3YWl0KDAsYWUuYlcpKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRTYXZlZFBhZ2VzLHQpLHNhdmVQYWdlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLmJXKShlKSkuZGlzcGF0Y2goYWUuT0YuU2F2ZVBhZ2UsdCksY3JlYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5DcmVhdGVTYXZlZFdvcmtzcGFjZSx0KSxkZWxldGVXb3Jrc3BhY2U6YXN5bmMgdD0+e2NvbnN0IGE9VWUoKSxuPWF3YWl0IGEuZ2V0Q3VycmVudFdvcmtzcGFjZSgpO2lmKG4ud29ya3NwYWNlSWQ9PT10KXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlbGV0ZSBjdXJyZW50IGFjdGl2ZSB3b3Jrc3BhY2UgJHtuLnRpdGxlfWApO3JldHVybihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5EZWxldGVTYXZlZFdvcmtzcGFjZSx0KX0sdXBkYXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5VcGRhdGVTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFNhdmVkV29ya3NwYWNlLHQpLGdldFdvcmtzcGFjZXM6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFNhdmVkV29ya3NwYWNlcyx0KSxnZXRXb3Jrc3BhY2VzTWV0YWRhdGE6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhLHQpLHNhdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlNhdmVXb3Jrc3BhY2UsdCksZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5HZXREb2NrUHJvdmlkZXJDb25maWcsdCksc2F2ZURvY2tQcm92aWRlckNvbmZpZzphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuU2F2ZURvY2tQcm92aWRlckNvbmZpZyx0KX0pO3ZhciBFZTshZnVuY3Rpb24oZSl7ZS5VcGRhdGVQbGF0Zm9ybVRoZW1lU2NoZW1lPVwidXBkYXRlLXBsYXRmb3JtLXRoZW1lLXNjaGVtZVwifShFZXx8KEVlPXt9KSk7KDAscmUuQSkoXCJvZi13b3Jrc3BhY2Utbm90aWZpY2F0aW9ucy1zeW5jXCIpO2EoNjk1KTt2YXIgX2U9YSg4OTgpO2NvbnN0IEJlPXIucVQuU3lzdGVtLFJlPWU9Pk9iamVjdC5lbnRyaWVzKGUpLnJlZHVjZSgoKGUsW3QsYV0pPT5gJHtlfS0td29ya3NwYWNlLXBhbGV0dGUtJHt0fTogJHthfTtgKSxcIlwiKSwkZT0oZSx0KT0+e2NvbnN0IGE9ISFlLmNvbnRlbnRCYWNrZ3JvdW5kNSYmXCIjMDAwMDAwXCIhPT1lLmNvbnRlbnRCYWNrZ3JvdW5kNSxuPSEhZS5jb250ZW50QmFja2dyb3VuZDQmJlwiIzAwMDAwMFwiIT09ZS5jb250ZW50QmFja2dyb3VuZDQscj0oMCxfZS5iNCkoZS50ZXh0RGVmYXVsdCksbz0oMCxfZS5iNCkoZS50ZXh0SW5hY3RpdmUpLGk9ci5yZ2Iscz1vLnJnYixjPXIuYWxwaGE/cGFyc2VGbG9hdChyLmFscGhhLnRvU3RyaW5nKCkpOjEsZD1vLmFscGhhP3BhcnNlRmxvYXQoby5hbHBoYS50b1N0cmluZygpKToxO3JldHVybntkb2NrRXhwYW5kZWRDb250YWluZXJCb3JkZXJDb2xvcjphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDQsZG9ja0V4cGFuZGVkQ29udGFpbmVyQm9yZGVyUmFkaXVzOmEmJnQ/XCIwXCI6XCIxMHB4XCIsZG9ja0V4cGFuZGVkQ29udGFpbmVyQmFja2dyb3VuZDpuP2UuY29udGVudEJhY2tncm91bmQ0OmUuYmFja2dyb3VuZDEsZmlsbGVyQmFja2dyb3VuZENvbG9yOm4/ZS5jb250ZW50QmFja2dyb3VuZDQ6XCJpbmhlcml0XCIsZG9ja0NvbXBhbmlvbkNvbnRhaW5lckJhY2tncm91bmQ6bj9lLmNvbnRlbnRCYWNrZ3JvdW5kNDpcImluaGVyaXRcIixkb2NrQ29tcG9uZW50Q29udGFpbmVyQmFja2dyb3VuZDphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDUsc3R5bGVkRHJvcGRvd25BY3RpdmVCYWNrZ3JvdW5kOmAke2E/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNH1gLGNvbnRlbnRNZW51V3JhcHBlckludGVybmFsRGl2Qm9yZGVyQ29sb3I6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ1LGNvbnRlbnRNZW51SXRlbUNvbnRhaW5lckFjdGl2ZUJhY2tncm91bmQ6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQzLGNvbnRlbnRNZW51SXRlbUNvbnRhaW5lckhvdmVyQmFja2dyb3VuZDphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDIsY29udGVudE1lbnVIZWFkZXJCb3JkZXJDb2xvcjphP2UuY29udGVudEJhY2tncm91bmQ1OmUuYmFja2dyb3VuZDUsZG9ja0NvbXBhbmlvblNlcGFyYXRvckJvcmRlckNvbG9yOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kMyxkb2NrQ29tcG9uZW50Q29udGFpbmVyQm9yZGVyQ29sb3I6YT9lLmNvbnRlbnRCYWNrZ3JvdW5kNTplLmJhY2tncm91bmQ1LGNvbXBhbmlvbkRvY2tCdXR0b25BY3RpdmVCYWNrZ3JvdW5kOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNCxjb21wYW5pb25Eb2NrQnV0dG9uSG92ZXJCYWNrZ3JvdW5kOmE/ZS5jb250ZW50QmFja2dyb3VuZDU6ZS5iYWNrZ3JvdW5kNCxcImNvbXB1dGVkLXNjcm9sbGJhci10aHVtYi1hbHBoYVwiOmMsXCJjb21wdXRlZC1zY3JvbGxiYXItdHJhY2stYWxwaGFcIjpkLFwic2Nyb2xsYmFyLXRodW1iLXJnYlwiOmksXCJzY3JvbGxiYXItdHJhY2stcmdiXCI6c319LExlPShlLHQsYSk9Pih7c2VsZWN0ZWRUYWI6XCJkYXJrXCI9PT10P2UuYmFja2dyb3VuZDM6ZS5iYWNrZ3JvdW5kMSwuLi4kZShlLGEpfSk7bmV3IGNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXJTdG9yYWdlPWUsdGhpcy5nZXRWYXJzQnlTY2hlbWU9ZT0+XCJkYXJrXCI9PT1lP3RoaXMuZGFya1BhbGV0dGVWYXJzOnRoaXMubGlnaHRQYWxldHRlVmFycyx0aGlzLnNldFdvcmtzcGFjZVN0b3JhZ2U9ZT0+e3RoaXMud29ya3NwYWNlU3RvcmFnZT1lfSx0aGlzLnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZT0oKT0+e2lmKHRoaXMud29ya3NwYWNlU3RvcmFnZSl7Y29uc3QgZT10aGlzLmdldFNjaGVtZSgpO2lmKHRoaXMud29ya3NwYWNlU3RvcmFnZS5zZXRJdGVtKEQuU2VsZWN0ZWRDb2xvclNjaGVtZSxlKSx0aGlzLmRhcmtQYWxldHRlVmFycyYmdGhpcy5saWdodFBhbGV0dGVWYXJzKWlmKFwiZGFya1wiPT09ZXx8XCJsaWdodFwiPT09ZSl0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShELlRoZW1lUGFsZXR0ZVNoZWV0LGA6cm9vdHske3RoaXMuZ2V0VmFyc0J5U2NoZW1lKGUpfX1gKTtlbHNle2NvbnN0IGU9YEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspezpyb290IHske3RoaXMuZ2V0VmFyc0J5U2NoZW1lKFwiZGFya1wiKX19fWAsdD1gQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpezpyb290eyR7dGhpcy5nZXRWYXJzQnlTY2hlbWUoXCJsaWdodFwiKX19fWA7dGhpcy53b3Jrc3BhY2VTdG9yYWdlLnNldEl0ZW0oRC5UaGVtZVBhbGV0dGVTaGVldCxgJHt0fSR7ZX1gKX19fSx0aGlzLnNldFBhbGV0dGVzPWFzeW5jKHtsaWdodDplLGRhcms6dH0sYSk9Pnt0aGlzLmxpZ2h0UGFsZXR0ZVZhcnM9UmUoey4uLmUsLi4uTGUoZSxcImxpZ2h0XCIsYSl9KSx0aGlzLmRhcmtQYWxldHRlVmFycz1SZSh7Li4udCwuLi5MZSh0LFwiZGFya1wiLGEpfSl9fXNldFNjaGVtZShlKXt0aGlzLnByb3ZpZGVyU3RvcmFnZS5zZXRJdGVtKEQuU2VsZWN0ZWRDb2xvclNjaGVtZSxlKX1nZXRTY2hlbWUoKXtyZXR1cm4gbnVsbD09PXRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0oRC5TZWxlY3RlZENvbG9yU2NoZW1lKSYmdGhpcy5wcm92aWRlclN0b3JhZ2Uuc2V0SXRlbShELlNlbGVjdGVkQ29sb3JTY2hlbWUsQmUpLHRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0oRC5TZWxlY3RlZENvbG9yU2NoZW1lKX19KG4pO2NvbnN0IE5lPWU9Pih7Z2V0VGhlbWVzOmFzeW5jKCk9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRUaGVtZXMsdm9pZCAwKSxzZXRTZWxlY3RlZFNjaGVtZTphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuU2V0U2VsZWN0ZWRTY2hlbWUsdCksZ2V0U2VsZWN0ZWRTY2hlbWU6YXN5bmMoKT0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldFNlbGVjdGVkU2NoZW1lLHZvaWQgMCl9KSxHZT1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7bGV0IGE7Y29uc3Qgbj1PYmplY3QuYXNzaWduKHQse2FwcGx5U25hcHNob3Q6YXN5bmModCxhKT0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYhdD8ud2luZG93cyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBicm93c2VyIHNuYXBzaG90XCIpO3JldHVybiBmaW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuYXBwbHlTbmFwc2hvdCh0LGEpfSxnZXRTbmFwc2hvdDooKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldFNuYXBzaG90KCkudGhlbigoZT0+ZSkpLGdldFZpZXdTbmFwc2hvdDp0PT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0Vmlld1NuYXBzaG90KHQpLGNyZWF0ZVZpZXc6KHQsYSxuKT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmNyZWF0ZVZpZXcodCxhLG4pLGxhdW5jaEFwcDphc3luYyB0PT57Y29uc29sZS53YXJuKFwibGF1bmNoQXBwIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBJdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgY3JlYXRlVmlldyAtIGh0dHBzOi8vZGV2ZWxvcGVycy5vcGVuZmluLmNvL29mLWRvY3MvZG9jcy9wbGF0Zm9ybS1nZXR0aW5nLXN0YXJ0ZWQjYWRkLWEtdmlldy10by1hbi1leGlzdGluZy13aW5kb3cgb3IgIGNyZWF0ZVdpbmRvdyAtIGh0dHBzOi8vZGV2ZWxvcGVycy5vcGVuZmluLmNvL29mLWRvY3MvZG9jcy9wbGF0Zm9ybS1nZXR0aW5nLXN0YXJ0ZWQjY3JlYXRlLWEtcGxhdGZvcm0td2luZG93IGluc3RlYWQuXCIpLHQudGFyZ2V0fHwodC50YXJnZXQ9e3V1aWQ6by4kaCxuYW1lOm8udkwsZW50aXR5VHlwZTpvLmZUfHxcInVua25vd25cIn0pO3JldHVybihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5MYXVuY2hBcHAsdCl9LF9pbnZva2VDdXN0b21BY3Rpb246YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQoMCxhZS5OKShlKSxvPXthY3Rpb25JZDp0LHBheWxvYWQ6ey4uLmEsY2FsbGVyVHlwZTphLmNhbGxlclR5cGV8fHIudmMuQVBJfX07cmV0dXJuIG4uZGlzcGF0Y2goYWUuT0YuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWwsbyl9LF9yZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5SZXF1ZXN0UXVpdFBsYXRmb3JtRGlhbG9nSW50ZXJuYWwsdCksX3Nob3dVcGRhdGVWZXJzaW9uTW9kYWw6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlNob3dVcGRhdGVWZXJzaW9uTW9kYWxJbnRlcm5hbCx0KSxnZXRDdXJyZW50V29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5HZXRDdXJyZW50V29ya3NwYWNlLHQpLGFwcGx5V29ya3NwYWNlOmFzeW5jKHQsYSk9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5BcHBseVdvcmtzcGFjZSx7Li4udCxvcHRpb25zOmF9KSxyZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5SZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWwsdCksc2V0QWN0aXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5TZXRBY3RpdmVXb3Jrc3BhY2UsdCksZ2V0TGFuZ3VhZ2U6YXN5bmMoKT0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldExhbmd1YWdlKSxfZ2V0TGFuZ3VhZ2VSZXNvdXJjZXM6YXN5bmMoKT0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWwpLHNldExhbmd1YWdlOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5TZXRMYW5ndWFnZSx0KSxfcmFpc2VBbmFseXRpY3M6YXN5bmMgdD0+e2lmKGF8fChhPWF3YWl0KDAsYWUuS1opKGUpKSxcIm9iamVjdFwiPT10eXBlb2YgYSYmYT8uYW5hbHl0aWNzPy5pc1N1cHBvcnRlZCl7cmV0dXJuKGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkFuYWx5dGljcyx0KX1lLnV1aWR9LGdldE5vdGlmaWNhdGlvbnNDb25maWc6YXN5bmMoKT0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkdldE5vdGlmaWNhdGlvbnNDb25maWcpLF9yZWZyZXNoQm9va21hcmtzSW50ZXJuYWw6YXN5bmMoKT0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCksX2xhdW5jaEJvb2ttYXJrSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkxhdW5jaEJvb2ttYXJrSW50ZXJuYWwsdCksX3VwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuVXBkYXRlRG9ja0Zhdm9yaXRlc0ludGVybmFsLHQpLF91cGRhdGVDb250ZW50TWVudUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5VcGRhdGVDb250ZW50TWVudUludGVybmFsLHQpLF9sYXVuY2hEb2NrRW50cnlJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuTGF1bmNoRG9ja0VudHJ5SW50ZXJuYWwsdCksX3NldERvY2tGYXZvcml0ZXNJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuU2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWwsdCksX3NldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwsdCksX3JlbW92ZURvY2tGYXZvcml0ZUludGVybmFsOmFzeW5jIHQ9Pihhd2FpdCgwLGFlLk4pKGUpKS5kaXNwYXRjaChhZS5PRi5SZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbCx0KSxfYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLkFkZERvY2tGYXZvcml0ZUludGVybmFsLHQpLF9uYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw6YXN5bmMgdD0+KGF3YWl0KDAsYWUuTikoZSkpLmRpc3BhdGNoKGFlLk9GLk5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbCx0KSxfb3BlbkRvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuR2V0RG9ja1dvcmtzcGFjZXNDb250ZXh0TWVudUludGVybmFsKSxfaGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbDphc3luYyB0PT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuSGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbCx0KSxfZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxhZS5OKShlKSkuZGlzcGF0Y2goYWUuT0YuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbCksX3Nob3dBYm91dFBhZ2VQb3B1cDphc3luYyBlPT4oYXN5bmMgZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyh7Li4uZSx0aXRsZTpcIkFib3V0XCJ9KSxhPWF3YWl0IGIoZmluLm1lLmlkZW50aXR5KSxuPWUuY29weXJpZ2h0TWVzc2FnZT8zMjA6Mjg2LHI9KDAsZy5YcSkoYSx7aGVpZ2h0Om4sd2lkdGg6MzYwfSk7cmV0dXJuIERlKHtvcHRpb25zOntmcmFtZTohMCxzbWFsbFdpbmRvdzohMCxzYXZlV2luZG93U3RhdGU6ITEsc2hvd1Rhc2tiYXJJY29uOiEwLGluY2x1ZGVJblNuYXBzaG90czohMSx3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93VHlwZTpcImVudGVycHJpc2VcIn0scmVzaXphYmxlOiExLG5hbWU6Zy5RLkFib3V0UGFnZVdpbmRvdyx1cmw6YXdhaXQgZigpK2kuQXkuRW50ZXJwcmlzZUFib3V0UGFnZSxkZWZhdWx0V2lkdGg6MzYwLGRlZmF1bHRIZWlnaHQ6bixwcmV2ZW50Qmx1cjohMCwuLi5yfSxwYXJhbWV0ZXJzOnR9KX0pKGUpLFRoZW1lOk5lKGUpLEJyb3dzZXI6d2UoZSksU3RvcmFnZTpPZShlKX0pO3JldHVybiBufSxVZT0oKT0+R2UoZmluLm1lLmlkZW50aXR5KTtjb25zdCBWZT0oZSx0KT0+ZS5jb250ZW50P3suLi5lLGNvbnRlbnQ6ZS5jb250ZW50Lm1hcCgoZT0+VmUoZSx0KSkpfTp7Li4uZSxjb21wb25lbnRTdGF0ZTp0KGUuY29tcG9uZW50U3RhdGUpfSxIZT1lPT4oey4uLmUsbmFtZTp2b2lkIDB9KSx6ZT1lPT57Y29uc3QgdD17Li4uZX07cmV0dXJuIFZlKHQsSGUpfSxxZT1lPT57Y29uc3QgdD1bXTtyZXR1cm4oZSYmQXJyYXkuaXNBcnJheShlKT9lOltdKS5mb3JFYWNoKChlPT57aWYoXCJjb21wb25lbnRcIj09PWUudHlwZSlyZXR1cm4gdC5wdXNoKGUuY29tcG9uZW50U3RhdGUpO2NvbnN0IGE9cWUoZS5jb250ZW50KTt0LnB1c2goLi4uYSl9KSksdH07bmV3IE1hcCxuZXcgTWFwO2NvbnN0IGplPWFzeW5jKGUsdCk9Pntjb25zdCBhPShlPT57Y29uc3QgdD1maW4uUGxhdGZvcm0uTGF5b3V0LndyYXBTeW5jKGUpO3JldHVybntzaG93OmFzeW5jKCk9Pntjb25zdCBhPWF3YWl0IHQuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm4sZGltZW5zaW9uczpyfT1hLG89YXdhaXQgeihlKTthd2FpdCB0LnJlcGxhY2Uoey4uLmEsc2V0dGluZ3M6ey4uLm4saGFzSGVhZGVyczohMCxyZW9yZGVyRW5hYmxlZDohMH0sZGltZW5zaW9uczp7Li4ucixoZWFkZXJIZWlnaHQ6bz8yODozMH19KX0saGlkZTphc3luYyBlPT57Y29uc3QgYT1hd2FpdCB0LmdldENvbmZpZygpLHtzZXR0aW5nczpuLGRpbWVuc2lvbnM6cn09YXdhaXQgYTthd2FpdCB0LnJlcGxhY2Uoey4uLmEsc2V0dGluZ3M6ey4uLm4saGFzSGVhZGVyczohMSxyZW9yZGVyRW5hYmxlZDplPy5zZXR0aW5ncz8ucmVvcmRlckVuYWJsZWQ/PyExfSxkaW1lbnNpb25zOnsuLi5yLGhlYWRlckhlaWdodDowfX0pfSxpc1Nob3dpbmdUYWJzOmFzeW5jKCk9Pnt0cnl7Y29uc3QgZT1hd2FpdCB0LmdldENvbmZpZygpLHtzZXR0aW5nczphfT1hd2FpdCBlO3JldHVybiBhLmhhc0hlYWRlcnN9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gZ2V0IGxheW91dCBjb25maWc6IFwiLGUpLCEwfX19fSkoey4uLmcuJHAsbGF5b3V0TmFtZTplLmxheW91dENvbnRhaW5lcktleX0pLG49YXdhaXQgYS5pc1Nob3dpbmdUYWJzKCk7dD4xP258fGF3YWl0IGEuc2hvdygpOjE9PT10JiZuJiZhd2FpdCBhLmhpZGUoe3NldHRpbmdzOntyZW9yZGVyRW5hYmxlZDohMH19KX0sS2U9KFgoKSgoYXN5bmMgZT0+e3RyeXtpZighZXx8IWUubGF5b3V0Q29udGFpbmVyS2V5KXJldHVybjtjb25zdCB0PWF3YWl0KGFzeW5jIGU9PmZpbi5QbGF0Zm9ybS5MYXlvdXQud3JhcFN5bmMoey4uLmZpbi5tZS5pZGVudGl0eSxsYXlvdXROYW1lOmV9KS5nZXRDb25maWcoKSkoZS5sYXlvdXRDb250YWluZXJLZXkpLGE9dC5jb250ZW50P3FlKHQuY29udGVudCk6W10sbj1hLmxlbmd0aDtuPjE/KGFzeW5jIGU9PntpZihcIm11bHRpVmlld1wiIT09ZS5hdHRhY2hlZFBhZ2VUeXBlKXtjb25zdCB0PWF3YWl0IFVlKCkuQnJvd3Nlci5nZXRVbmlxdWVQYWdlVGl0bGUoKTtVZSgpLkJyb3dzZXIud3JhcFN5bmMoZy4kcCkudXBkYXRlUGFnZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6e3RpdGxlOmUudGl0bGU/P3Qsc2luZ2xlVmlld05hbWU6bnVsbCxhdHRhY2hlZFBhZ2VUeXBlOlwibXVsdGlWaWV3XCJ9fSl9fSkoZSk6MT09PW4mJihhc3luYyhlLHQpPT57Y29uc3QgYT1VZSgpLkJyb3dzZXIud3JhcFN5bmMoZy4kcCk7aWYoXCJzaW5nbGVWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUpe2NvbnN0IG49YXdhaXQgdGUoZSk7ZGVsZXRlIG4ubGF5b3V0LGRlbGV0ZSBuLnBhZ2VJZDtjb25zdCByPWZpbi5WaWV3LndyYXBTeW5jKHt1dWlkOmcuJHAudXVpZCxuYW1lOnR9KSxvPWF3YWl0IHIuZ2V0SW5mbygpLGk9ey4uLm4sdGl0bGU6bnVsbCxzaW5nbGVWaWV3TmFtZTp0LGhhc1Vuc2F2ZWRDaGFuZ2VzOiExLGF0dGFjaGVkUGFnZVR5cGU6XCJzaW5nbGVWaWV3XCIscGFnZUljb246by5mYXZpY29uc1swXX07YXdhaXQgYS51cGRhdGVQYWdlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTppfSl9fSkoZSxhWzBdLm5hbWUpLGF3YWl0IGplKGUsbil9Y2F0Y2goZSl7fX0pLDUwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSkscmVxdWlyZShcInJlYWN0LWkxOG5leHRcIikscmVxdWlyZShcImkxOG5leHRcIikpO2EubihLZSkoKS50O25ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucXVldWU9W10sdGhpcy5sb2NrZWQ9ITF9bG9jaygpe3JldHVybiBuZXcgUHJvbWlzZSgoZT0+e3RoaXMubG9ja2VkP3RoaXMucXVldWUucHVzaChlKToodGhpcy5sb2NrZWQ9ITAsZSgpKX0pKX11bmxvY2soKXtpZih0aGlzLnF1ZXVlLmxlbmd0aD4wKXtjb25zdCBlPXRoaXMucXVldWUuc2hpZnQoKTtlJiZlKCl9ZWxzZSB0aGlzLmxvY2tlZD0hMX19O25ldyBNYXA7Y29uc3QgWGU9bSh7YWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITEsZnJhbWU6ITEscmVzaXphYmxlOiExLHNob3dUYXNrYmFySWNvbjohMX0pOyFmdW5jdGlvbihlPVhlKXtjb25zdCB0PW5ldyBNYXB9KCk7bmV3IE1hcDtEYXRlLm5vdygpO1goKSgoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuQXBwbGljYXRpb24uZ2V0Q2hpbGRXaW5kb3dzKCk7bGV0IHQsYT0hMTtmb3IoY29uc3QgbiBvZiBlKWlmKG4uaWRlbnRpdHkubmFtZT09PWcuUS5Ccm93c2VyTWVudXx8bi5pZGVudGl0eS5uYW1lPT09Zy5RLkJyb3dzZXJTYXZlTWVudT90PW46YXdhaXQoMCxnLmhiKShuLmlkZW50aXR5KSYmKGE9ITApLGEpYnJlYWs7IWEmJnQmJnQuY2xvc2UoKX0pLDEwMCx7bGVhZGluZzohMSx0cmFpbGluZzohMH0pO3ZhciBRZSxZZTshZnVuY3Rpb24oZSl7ZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZUFzXCJ9KFFlfHwoUWU9e30pKSxmdW5jdGlvbihlKXtlLkdsb2JhbE1lbnU9XCJnbG9iYWwtbWVudVwiLGUuQ29udGV4dE1lbnU9XCJjb250ZXh0LW1lbnVcIixlLlJlbmFtZVN1cGVydGFiPVwicmVuYW1lLXN1cGVydGFiXCIsZS5BZGRFZGl0Qm9va21hcms9XCJhZGQtZWRpdC1ib29rbWFya1wiLGUuRHJvcGRvd25NZW51PVwiZHJvcGRvd24tbWVudVwiLGUuWm9vbUNvbnRyb2xzPVwiem9vbS1jb250cm9sc1wifShZZXx8KFllPXt9KSk7Y29uc3QgWmU9XCJ2aXNpdGVkLXNpdGVzXCIsSmU9XCJyZW1vdmVkLXRhYi1zdGFja1wiLGV0PShvLkFUJiZvLmNJJiZfKFwib3BlbmZpbi1ob21lLXBhZ2VzXCIsXCJwYWdlc1wiKSxvLkFUJiZvLmNJJiZuZXcgQS5EZXhpZShPKFwib3BlbmZpbi1lbnRlcnByaXNlLXNpdGUtaGlzdG9yeVwiKSkpO2V0JiZldC52ZXJzaW9uKC4xKS5zdG9yZXMoe1taZV06XCJpZCwgdXJsXCJ9KTtjb25zdCB0dD1vLkFUJiZvLmNJJiZuZXcgQS5EZXhpZShPKFwib3BlbmZpbi1lbnRlcnByaXNlLXRhYi1oaXN0b3J5XCIpKTt0dCYmdHQudmVyc2lvbiguMSkuc3RvcmVzKHtbSmVdOlwiXCJ9KTt2YXIgYXQ7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0oYXR8fChhdD17fSkpO2F0LlNlcGFyYXRvcjthKDk5NSk7bmV3IE1hcChbW1wiYmx1ZVwiLHtuYW1lOlwiQmx1ZVwiLGNvbG9yOlwiIzAwOTFFQlwifV0sW1wiaW5kaWdvXCIse25hbWU6XCJJbmRpZ29cIixjb2xvcjpcIiM2NDUwRkZcIn1dLFtcInBpbmtcIix7bmFtZTpcIlBpbmtcIixjb2xvcjpcIiNFODc4Q0ZcIn1dLFtcInRlYWxcIix7bmFtZTpcIlRlYWxcIixjb2xvcjpcIiMyNEQxRDFcIn1dLFtcImdyZWVuXCIse25hbWU6XCJHcmVlblwiLGNvbG9yOlwiIzAwQUY3OFwifV0sW1wib3JhbmdlXCIse25hbWU6XCJPcmFuZ2VcIixjb2xvcjpcIiNGRjdEMzdcIn1dLFtcInJlZFwiLHtuYW1lOlwiUmVkXCIsY29sb3I6XCIjRjk0MTQ0XCJ9XSxbXCJ5ZWxsb3dcIix7bmFtZTpcIlllbGxvd1wiLGNvbG9yOlwiI0Y5Qzc0RlwifV0sW1wiZ3JheVwiLHtuYW1lOlwiR3JheVwiLGNvbG9yOlwiIzgyODc4OFwifV1dKTt2YXIgbnQ7IWZ1bmN0aW9uKGUpe2VbZS5Ub3BMZWZ0PTBdPVwiVG9wTGVmdFwiLGVbZS5Ub3BSaWdodD0xXT1cIlRvcFJpZ2h0XCIsZVtlLkJvdHRvbUxlZnQ9Ml09XCJCb3R0b21MZWZ0XCIsZVtlLkJvdHRvbVJpZ2h0PTNdPVwiQm90dG9tUmlnaHRcIixlW2UuQ2VudGVyPTRdPVwiQ2VudGVyXCJ9KG50fHwobnQ9e30pKTsoMCxyZS5BKShgJHtcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZmaW4/Lm1lLmlkZW50aXR5LnV1aWR9LWVudGVycHJpc2UtZG9ja2ApO2NvbnN0IHJ0PVwiZG9jay1wcm92aWRlci1jb25maWdzXCIsb3Q9by5BVCYmby5jSSYmbmV3IEEuRGV4aWUoTyhcImRvY2stcHJvdmlkZXItY29uZmlnc1wiKSk7b3QmJm90LnZlcnNpb24oLjEpLnN0b3Jlcyh7W3J0XTpcIlwifSk7Y29uc3QgaXQ9XCJ3b3Jrc3BhY2VzXCI7by5BVCYmby5jSSYmXyhcIm9wZW5maW4td29ya3NwYWNlLXBsYXRmb3JtLXdvcmtzcGFjZXNcIixpdCk7YSgyNTApO2EoMTc5KX0sNjc1OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7cVQ6KCk9Pm8sdmM6KCk9Pmh9KTt2YXIgbixyLG8saSxzLGMsZCxsLHUscCxoO2EoMTc5KSxhKDI1MCk7IWZ1bmN0aW9uKGUpe2UuVXJsQ2hhbmdlPVwiVVJMX0NIQU5HRVwiLGUuVmlld0FkZGVkPVwiVklFV19BRERFRFwiLGUuVmlld1JlbW92ZWQ9XCJWSUVXX1JFTU9WRURcIixlLlBhZ2VDb250ZXh0QWRkZWQ9XCJQQUdFX0NPTlRFWFRfQURERURcIixlLlBhZ2VDb250ZXh0UmVtb3ZlZD1cIlBBR0VfQ09OVEVYVF9SRU1PVkVEXCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdXaW5kb3c9XCJOZXdXaW5kb3dcIixlLk5ld1BhZ2U9XCJOZXdQYWdlXCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuQ2xvc2VXaW5kb3c9XCJDbG9zZVdpbmRvd1wiLGUuUmVzdG9yZUNoYW5nZXM9XCJSZXN0b3JlQ2hhbmdlc1wiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuUmVuYW1lV29ya3NwYWNlPVwiUmVuYW1lV29ya3NwYWNlXCIsZS5Td2l0Y2hXb3Jrc3BhY2U9XCJTd2l0Y2hXb3Jrc3BhY2VcIixlLkRlbGV0ZVdvcmtzcGFjZT1cIkRlbGV0ZVdvcmtzcGFjZVwiLGUuRG93bmxvYWRzPVwiRG93bmxvYWRzXCIsZS5PcGVuU3RvcmVmcm9udD1cIk9wZW5TdG9yZWZyb250XCIsZS5NYW5hZ2VEZXNrdG9wU2lnbmFscz1cIk1hbmFnZURlc2t0b3BTaWduYWxzXCIsZS5BcHBlYXJhbmNlPVwiQXBwZWFyYW5jZVwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTGlnaHQ9XCJsaWdodFwiLGUuRGFyaz1cImRhcmtcIixlLlN5c3RlbT1cInN5c3RlbVwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlIEFzXCIsZS5OZXdQYWdlPVwiTmV3IFBhZ2VcIixlLkRlbGV0ZVBhZ2U9XCJEZWxldGUgUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZWZyZXNoPVwiUmVmcmVzaFwiLGUuQ2xvc2VPdGhlcnM9XCJDbG9zZSBvdGhlcnNcIixlLkRlbGV0ZT1cIkRlbGV0ZVwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuTWFuYWdlRGVza3RvcFNpZ25hbHM9XCJNYW5hZ2VEZXNrdG9wU2lnbmFsc1wiLGUuQWRkVG9DaGFubmVsPVwiQWRkVG9DaGFubmVsXCIsZS5DdXN0b209XCJDdXN0b21cIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLkxvY2s9XCJMb2NrXCIsZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkFkZFRvQ2hhbmVsPVwiQWRkVG9DaGFubmVsXCIsZS5NYW5hZ2VEZXNrdG9wU2lnbmFscz1cIk1hbmFnZURlc2t0b3BTaWduYWxzXCIsZS5QcmludD1cIlByaW50XCIsZS5QaW49XCJQaW5cIn0oc3x8KHM9e30pKSxmdW5jdGlvbihlKXtlLkVkaXROYW1lPVwiRWRpdCBOYW1lXCIsZS5Nb3ZlPVwiTW92ZVwiLGUuRGVsZXRlPVwiRGVsZXRlXCJ9KGN8fChjPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdWaWV3PVwiTmV3Vmlld1wiLGUuRHVwbGljYXRlVmlld3M9XCJEdXBsaWNhdGVWaWV3XCIsZS5PcGVuV2l0aERlZmF1bHRCcm93c2VyPVwiT3BlbldpdGhEZWZhdWx0QnJvd3NlclwiLGUuUmVsb2FkVmlld3M9XCJSZWxvYWRUYWJcIixlLkNsb3NlVmlld3M9XCJDbG9zZVRhYlwiLGUuQWRkVG9DaGFubmVsPVwiQWRkVG9DaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cIlJlbW92ZUZyb21DaGFubmVsXCIsZS5CYWNrPVwiQmFja1wiLGUuRm9yd2FyZD1cIkZvcndhcmRcIixlLlByaW50PVwiUHJpbnRcIixlLlByaW50QWxsPVwiUHJpbnRBbGxcIixlLlByaW50U2NyZWVuPVwiUHJpbnRTY3JlZW5cIixlLkN1c3RvbT1cIkN1c3RvbVwifShkfHwoZD17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5Db2xvckxpbmtpbmc9XCJDb2xvckxpbmtpbmdcIixlLlByZXNldExheW91dHM9XCJQcmVzZXRMYXlvdXRzXCIsZS5Mb2NrVW5sb2NrUGFnZT1cIkxvY2tVbmxvY2tQYWdlXCIsZS5TYXZlTWVudT1cIlNhdmVNZW51XCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5NaW5pbWlzZT1cIk1pbmltaXNlXCIsZS5NYXhpbWlzZT1cIk1heGltaXNlXCIsZS5DbG9zZT1cIkNsb3NlXCIsZS5DdXN0b209XCJDdXN0b21cIn0obHx8KGw9e30pKSxmdW5jdGlvbihlKXtlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlUGFnZUFzPVwiU2F2ZVBhZ2VBc1wiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5DdXN0b209XCJDdXN0b21cIn0odXx8KHU9e30pKSxmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJicm93c2VyXCIsZS5QbGF0Zm9ybT1cInBsYXRmb3JtXCJ9KHB8fChwPXt9KSksZnVuY3Rpb24oZSl7ZS5DdXN0b21CdXR0b249XCJDdXN0b21CdXR0b25cIixlLlN0b3JlQ3VzdG9tQnV0dG9uPVwiU3RvcmVDdXN0b21CdXR0b25cIixlLkN1c3RvbURyb3Bkb3duSXRlbT1cIkN1c3RvbURyb3Bkb3duSXRlbVwiLGUuR2xvYmFsQ29udGV4dE1lbnU9XCJHbG9iYWxDb250ZXh0TWVudVwiLGUuVmlld1RhYkNvbnRleHRNZW51PVwiVmlld1RhYkNvbnRleHRNZW51XCIsZS5QYWdlVGFiQ29udGV4dE1lbnU9XCJQYWdlVGFiQ29udGV4dE1lbnVcIixlLlNhdmVCdXR0b25Db250ZXh0TWVudT1cIlNhdmVCdXR0b25Db250ZXh0TWVudVwiLGUuQVBJPVwiQVBJXCJ9KGh8fChoPXt9KSk7dmFyIGY7IWZ1bmN0aW9uKGUpe2UuU0FWRV9QQUdFPVwiU0FWRV9QQUdFXCIsZS5TQVZFX1dPUktTUEFDRT1cIlNBVkVfV09SS1NQQUNFXCIsZS5TQVZFX1BBR0VfQVM9XCJTQVZFX1BBR0VfQVNcIixlLlNBVkVfV09SS1NQQUNFX0FTPVwiU0FWRV9XT1JLU1BBQ0VfQVNcIixlLlJFTkFNRV9QQUdFPVwiUkVOQU1FX1BBR0VcIixlLlJFTkFNRV9XT1JLU1BBQ0U9XCJSRU5BTUVfV09SS1NQQUNFXCJ9KGZ8fChmPXt9KSl9LDI0ODooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse0g6KCk9Pm99KTt2YXIgbj1hKDQzOCkscj1hKDc4Nik7Y29uc3Qgbz0oZSx0KT0+e3IuQS5tYXJrU3RhcnQoYCR7ZX0tcmVnaXN0cmF0aW9uYCksKDAsbi5CWSkoKS5vbmNlKFwic3RhcnRlZFwiLCgoKT0+ci5BLm1hcmtBbmRNZWFzdXJlKFwid29ya3NwYWNlLWFwcC1zdGFydGVkXCIsYCR7ZX0tcmVnaXN0cmF0aW9uYCkpKTtjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmModCk7YS5vbmNlKFwiaW5pdGlhbGl6ZWRcIiwoKCk9PnIuQS5tYXJrQW5kTWVhc3VyZShgJHtlfS13aW5kb3ctaW5pdGlhbGl6ZWRgLGAke2V9LXJlZ2lzdHJhdGlvbmApKSksYS5vbmNlKFwic2hvd25cIiwoKCk9PntyLkEubWFya0FuZE1lYXN1cmUoYCR7ZX0tc2hvd2AsYCR7ZX0tcmVnaXN0cmF0aW9uYCl9KSl9fSw4MzQ6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2Eucih0KSxhLmQodCx7Q0xJQWN0aW9uOigpPT54LlBLLENMSUZpbHRlck9wdGlvblR5cGU6KCk9Pngub28sQ0xJVGVtcGxhdGU6KCk9PnguZkMsZGVyZWdpc3RlcjooKT0+RixoaWRlOigpPT5ULHJlZ2lzdGVyOigpPT5JLHNob3c6KCk9Pld9KTt2YXIgbj1hKDcyMykscj1hKDc4Niksbz1hKDI3NyksaT1hKDcwKTtjb25zdCBzPVwiMFwiLGM9XCIyXCIsZD1cIjNcIixsPVwiNVwiLHU9XCI2XCI7dmFyIHA9YSg2OTUpLGg9YSg3OSksZj1hKDg3MCk7dmFyIGc9YSg5MDUpO2NvbnN0IG09KCk9Pnt9O2Z1bmN0aW9uIHcoZSl7Y29uc3QgdD17fTtsZXQgYT1bXTtsZXQgbj1bXTtsZXQgcj1udWxsO2xldCBvPWcuWm8uSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+byx0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+YSx0LnNldFJlc3VsdEJ1ZmZlcj1lPT57YT1lLGE/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9Pm4sdC5zZXRSZXZva2VkQnVmZmVyPWU9PntuPWUsbj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuc2V0VXBkYXRlZENvbnRleHQ9ZT0+e3I9ZSxudWxsIT09ciYmdC5vbkNoYW5nZSgpfSx0LmdldFVwZGF0ZWRDb250ZXh0PSgpPT5yLHQub25DaGFuZ2U9bTtjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntvIT09Zy5aby5DbG9zZSYmKG89Zy5aby5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntvIT09Zy5aby5PcGVuJiYobz1nLlpvLk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPWE9Pntjb25zdCBuPWZ1bmN0aW9uKGU9W10sdD1bXSxhPVwiYXNjZW5kaW5nXCIpe2NvbnN0IG49W10scj1uZXcgTWFwO3QuZm9yRWFjaCgoZT0+e2lmKGUua2V5KXJldHVybiByLnNldChlLmtleSxlKTtuLnB1c2goZSl9KSk7bGV0IG89ZS5tYXAoKGU9PntpZihlLmtleSl7Y29uc3QgdD1yLmdldChlLmtleSk7aWYodClyZXR1cm4gci5kZWxldGUoZS5rZXkpLHR9cmV0dXJuIGV9KSk7cmV0dXJuIG8ucHVzaCguLi5yLnZhbHVlcygpLC4uLm4pLG89XCJhc2NlbmRpbmdcIj09PWE/by5zb3J0KCgoZSx0KT0+KGU/LnNjb3JlPz8xLzApLSh0Py5zY29yZT8/MS8wKSkpOm8uc29ydCgoKGUsdCk9Pih0Py5zY29yZT8/MS8wKS0oZT8uc2NvcmU/PzEvMCkpKSxvfSh0LmdldFJlc3VsdEJ1ZmZlcigpLGEsZSk7dC5zZXRSZXN1bHRCdWZmZXIobil9LGkucmV2b2tlPSguLi5lKT0+e2NvbnN0IGE9bmV3IFNldChlKSxuPXQuZ2V0UmVzdWx0QnVmZmVyKCkuZmlsdGVyKCgoe2tleTplfSk9Pntjb25zdCB0PWEuaGFzKGUpO3JldHVybiB0JiZhLmRlbGV0ZShlKSwhdH0pKTt0LnNldFJlc3VsdEJ1ZmZlcihuKSxhLnNpemUmJih0LmdldFJldm9rZWRCdWZmZXIoKS5mb3JFYWNoKChlPT5hLmFkZChlKSkpLHQuc2V0UmV2b2tlZEJ1ZmZlcihbLi4uYV0pKX0saS51cGRhdGVDb250ZXh0PWU9Pnt0LnNldFVwZGF0ZWRDb250ZXh0KGUpfSx0fWNvbnN0IHk9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBrKGUpe2NvbnN0e2lkOnQscHJvdmlkZXJJZDphfT1lLG49UC5nZXRQcm92aWRlck9yRmFpbChhKTtsZXQgcj15LmdldCh0KTtyfHwocj1mdW5jdGlvbihlLHQpe2NvbnN0IGE9bmV3IFNldDtsZXQgbj0hMTtyZXR1cm57Y2xvc2U6KCk9PntuPSEwO2Zvcihjb25zdCBlIG9mIGEpZSgpfSxyZXE6e2lkOmUsLi4udCxjb250ZXh0OnQ/LmNvbnRleHR8fHt9LG9uQ2xvc2U6ZT0+e2EuYWRkKGUpLG4mJmUoKX0scmVtb3ZlTGlzdGVuZXI6ZT0+e2EuZGVsZXRlKGUpfX19fSh0LGUpLHkuc2V0KHQscikpO2NvbnN0IG89dygpLGk9KCk9Pntjb25zdCBlPW8uZ2V0UmVzdWx0QnVmZmVyKCk7by5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IG49by5nZXRSZXZva2VkQnVmZmVyKCk7by5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCByPW8uZ2V0VXBkYXRlZENvbnRleHQoKTtvLnNldFVwZGF0ZWRDb250ZXh0KG51bGwpO2NvbnN0IGk9by5nZXRTdGF0dXMoKTshYXN5bmMgZnVuY3Rpb24oZSl7KGF3YWl0KDAscC5naikoKSkuZGlzcGF0Y2gocyxlKX0oe2lkOnQscHJvdmlkZXJJZDphLHJlc3VsdHM6ZSxyZXZva2VkOm4sc3RhdHVzOmksY29udGV4dDpyfSl9O2xldCBjPSEwLGQ9ITE7by5vbkNoYW5nZT0oKT0+e2lmKGMpcmV0dXJuIGM9ITEsdm9pZCBpKCk7ZHx8KGQ9ITAsc2V0VGltZW91dCgoKCk9PntkPSExLGkoKX0pLDEwMCkpfTt0cnl7Y29uc3R7cmVzdWx0czplLGNvbnRleHQ6aX09YXdhaXQgbi5vblVzZXJJbnB1dChyLnJlcSxvLnJlcykscz1vLmdldFN0YXR1cygpO3JldHVybntpZDp0LHByb3ZpZGVySWQ6YSxzdGF0dXM6cyxyZXN1bHRzOmUsY29udGV4dDppfX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihgT3BlbkZpbi9Xb3Jrc3BhY2UvSG9tZS4gVW5jYXVnaHQgZXhjZXB0aW9uIGluIHNlYXJjaCBwcm92aWRlciAke2F9IGZvciBzZWFyY2ggJHt0fWAsXCJUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIHNlYXJjaCBwcm92aWRlci5cIixlKSx7aWQ6dCxwcm92aWRlcklkOmEsZXJyb3I6ZT8ubWVzc2FnZX19fWFzeW5jIGZ1bmN0aW9uIHYoKXtmb3IoY29uc3R7cmVxOmUsY2xvc2U6dH1vZiB5LnZhbHVlcygpKXQoKSx5LmRlbGV0ZShlLmlkKX1hc3luYyBmdW5jdGlvbiBiKGUsdCl7Y29uc3QgYT1QLmdldFByb3ZpZGVyT3JGYWlsKGUucHJvdmlkZXJJZCk7cmV0dXJuIGUucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT10LGEub25SZXN1bHREaXNwYXRjaD8uKGUucmVzdWx0KX1mdW5jdGlvbiBTKGUpe2NvbnN0IHQ9eS5nZXQoZS5pZCk7dD8uY2xvc2UoKSx5LmRlbGV0ZShlLmlkKX1jb25zdCBQPW5ldyBmLnhNKFwiaG9tZVwiKSxDPWFzeW5jIGU9Pnthd2FpdCgwLHAubkEpKCk7IShcInNraXBQbGF0Zm9ybUluaXRDaGVja1wiaW4gZSYmITA9PT1lLnNraXBQbGF0Zm9ybUluaXRDaGVjaykmJmF3YWl0KDAsaC5LWikoZmluLm1lLmlkZW50aXR5KTtQLmFzc2VydE5vdEFscmVhZHlSZWdpc3RlcmVkKGUuaWQpLFAuc2V0UHJvdmlkZXIoZSk7Y29uc3QgdD1hd2FpdCgwLHAuZ2opKCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuaG9tZUNoYW5uZWxBY3Rpb25zUmVnaXN0ZXJlZHx8KGUuaG9tZUNoYW5uZWxBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKHMsayksZS5yZWdpc3Rlcih1LFMpLGUucmVnaXN0ZXIobCxiKSxlLmFkZERpc2Nvbm5lY3Rpb25MaXN0ZW5lcih2KSl9KHQpLHQuZGlzcGF0Y2goYyx7aWQ6ZS5pZCx0aXRsZTplLnRpdGxlLGljb246ZS5pY29uLGNsaWVudEFQSVZlcnNpb246bi5ldCxpZGVudGl0eTpmaW4ubWUuaWRlbnRpdHksc2NvcmVPcmRlcjplLnNjb3JlT3JkZXIsY29tbWFuZENvZGU6ZS5jb21tYW5kQ29kZSxkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9uLGhpZGRlbjplLmhpZGRlbixsaXN0VGl0bGU6ZS5saXN0VGl0bGUsaW5wdXRQbGFjZWhvbGRlcjplLmlucHV0UGxhY2Vob2xkZXIsaW5wdXRMYW5kaW5nUGxhY2Vob2xkZXI6ZS5pbnB1dExhbmRpbmdQbGFjZWhvbGRlcixsb2dvVXJsOmUubG9nb1VybCxkaXNwYXRjaEZvY3VzRXZlbnRzOmUuZGlzcGF0Y2hGb2N1c0V2ZW50c30pfTt2YXIgQT1hKDI0OCkseD1hKDg3Mik7bGV0IE07Y29uc3QgST1hc3luYyBlPT57aWYoIWUuaWNvbil0aHJvdyBuZXcgRXJyb3IoYCR7ZS5pZH0gcHJvdmlkZXIgbmVlZHMgdG8gaGF2ZSBpY29uIHByb3BlcnR5IGRlZmluZWQuYCk7KDAsQS5IKShcImhvbWVcIixpLkYyKTtjb25zdCB0PWF3YWl0IEMoZSk7cmV0dXJuIE09bmV3IFByb21pc2UoKChhLGkpPT57dHJ5eygwLG8uR1IpKHthbGxvd2VkOiEwLGNvbXBvbmVudFZlcnNpb246dD8ud29ya3NwYWNlVmVyc2lvbn0pLG4uZXQsYSh7Li4udCxjbGllbnRBUElWZXJzaW9uOm4uZXQsc2V0U2VhcmNoUXVlcnk6YXN5bmMgdD0+KGF3YWl0KDAscC5ONykoKSkuZGlzcGF0Y2goXCJzZXQtc2VhcmNoLXF1ZXJ5XCIse3F1ZXJ5OnQscHJvdmlkZXJJRDplLmlkfSl9KX1jYXRjaChlKXsoMCxvLkdSKSh7YWxsb3dlZDohMSxyZWplY3Rpb25Db2RlOmUgaW5zdGFuY2VvZiBFcnJvcj9lLm1lc3NhZ2U6XCJ1bmtub3duXCJ9KSxpKGUpfWZpbmFsbHl7ci5BLm1hcmtFbmRBbmRNZWFzdXJlKFwiaG9tZS1yZWdpc3RyYXRpb25cIil9fSkpLE19LEY9YXN5bmMgZT0+e1AuZGVsZXRlUHJvdmlkZXIoZSk7Y29uc3QgdD1hd2FpdCgwLHAuZ2opKCk7YXdhaXQgdC5kaXNwYXRjaChkLGUpfTthc3luYyBmdW5jdGlvbiBXKCl7ci5BLm1hcmtTdGFydChcImhvbWUtc2hvd1wiKSxhd2FpdCBNO2NvbnN0IGU9YXdhaXQoMCxwLk43KSgpO2F3YWl0IGUuZGlzcGF0Y2goXCJzaG93LWhvbWVcIix2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIFQoKXthd2FpdCBNO2NvbnN0IGU9YXdhaXQoMCxwLk43KSgpO2F3YWl0IGUuZGlzcGF0Y2goXCJoaWRlLWhvbWVcIix2b2lkIDApfX0sODcwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7eE06KCk9PnN9KTt2YXIgbj1hKDk5NSk7Y2xhc3MgciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7Y29uc3QgYT0oMCxuLnRpdGxlQ2FzZSkoZSk7c3VwZXIoYCR7YX0gUHJvdmlkZXIuICR7YX0gUHJvdmlkZXIke3Q/YCB3aXRoIGlkICR7dH1gOlwiXCJ9IGlzIG5vdCBjdXJyZW50bHkgcmVnaXN0ZXJlZC5gKX19Y2xhc3MgbyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7Y29uc3QgYT0oMCxuLnRpdGxlQ2FzZSkoZSk7c3VwZXIoYCR7YX0gUHJvdmlkZXIuICR7YX0gUHJvdmlkZXIke3Q/YCB3aXRoIGlkICR7dH1gOlwiXCJ9IGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gQ2FsbCBcXGBkZXJlZ2lzdGVyXFxgIGJlZm9yZSByZWdpc3RlcmluZyBhZ2Fpbi5gKX19Y2xhc3MgaSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7Y29uc3QgYT0oMCxuLnRpdGxlQ2FzZSkoZSk7c3VwZXIoYEZhaWxlZCB0byBnZXQgJHthfSBQcm92aWRlci4gJHthfSBQcm92aWRlciB3aXRoIGlkICR7dH0gaXMgbm90IGN1cnJlbnRseSByZWdpc3RlcmVkLmApfX1jbGFzcyBze2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXJzTWFwPW5ldyBNYXAsdGhpcy5wcm92aWRlclR5cGU9ZX1hc3NlcnROb3RBbHJlYWR5UmVnaXN0ZXJlZChlKXtpZih0aGlzLmhhc1Byb3ZpZGVyKGUpKXRocm93IG5ldyBvKHRoaXMucHJvdmlkZXJUeXBlLGUpfWFzc2VydFJlZ2lzdGVyZWQoZSl7aWYoIXRoaXMuaGFzUHJvdmlkZXIoZSkpdGhyb3cgbmV3IHIodGhpcy5wcm92aWRlclR5cGUsZSl9Z2V0UHJvdmlkZXIoZSl7cmV0dXJuIHRoaXMucHJvdmlkZXJzTWFwLmdldChlKX1oYXNQcm92aWRlcihlKXtyZXR1cm4gdGhpcy5wcm92aWRlcnNNYXAuaGFzKGUpfXNldFByb3ZpZGVyKGUpe3RoaXMucHJvdmlkZXJzTWFwLnNldChlLmlkLGUpfWRlbGV0ZVByb3ZpZGVyKGUpe3RoaXMucHJvdmlkZXJzTWFwLmRlbGV0ZShlKX1nZXRQcm92aWRlck9yRmFpbChlKXtjb25zdCB0PXRoaXMuZ2V0UHJvdmlkZXIoZSk7aWYoIXQpdGhyb3cgbmV3IGkodGhpcy5wcm92aWRlclR5cGUsZSk7cmV0dXJuIHR9Y2xlYXJQcm92aWRlcnMoKXt0aGlzLnByb3ZpZGVyc01hcC5jbGVhcigpfX19LDEyOTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG4scixvO2EuZCh0LHtQOigpPT5yLFI6KCk9Pm99KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5Vc2VyQWN0aW9uPVwidXNlci1hY3Rpb25cIixlLkZvY3VzQ2hhbmdlPVwiZm9jdXMtY2hhbmdlXCIsZS5SZWxvYWQ9XCJyZWxvYWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkFjdGl2ZT1cImFjdGl2ZVwiLGUuRGVmYXVsdD1cImRlZmF1bHRcIn0ob3x8KG89e30pKX0sNjAwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbjthLmQodCx7YTooKT0+bn0pLGZ1bmN0aW9uKGUpe2UuQWN0aW9uQnV0dG9uPVwiQWN0aW9uQnV0dG9uXCIsZS5Ecm9wZG93bkJ1dHRvbj1cIkRyb3Bkb3duQnV0dG9uXCJ9KG58fChuPXt9KSl9LDg3MjooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG4scixvO2EuZCh0LHtQSzooKT0+bixmQzooKT0+cixvbzooKT0+b30pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0ob3x8KG89e30pKX0sMTc5OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthKDEyOSksYSg4NzIpLGEoNzEwKSxhKDE4NCksYSg2MDApfSw3MTA6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuLHI7YS5kKHQse3Y6KCk9Pm4sejooKT0+cn0pLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KHJ8fChyPXt9KSl9LDE4NDooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse1NNOigpPT5vLGNlOigpPT5uLGluOigpPT5pLG5wOigpPT5yfSk7Y29uc3Qgbj17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCIsU3BsaXRCdXR0b246XCJTcGxpdEJ1dHRvblwifSxyPXtUZXh0OlwiVGV4dFwiLEltYWdlOlwiSW1hZ2VcIixMaXN0OlwiTGlzdFwifSxvPXsuLi5uLC4uLnJ9O3ZhciBpOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0oaXx8KGk9e30pKX0sNTk4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLnIodCksYS5kKHQse0FwcE1hbmlmZXN0VHlwZTooKT0+by52LFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+by56LGRlcmVnaXN0ZXI6KCk9PnksaGlkZTooKT0+ayxyZWdpc3RlcjooKT0+dyxzaG93OigpPT52fSk7dmFyIG49YSgyNzcpLHI9YSg2OTUpLG89YSg3MTApLGk9YSg3MjMpLHM9YSg3ODYpLGM9YSg3MCksZD1hKDc5KSxsPWEoODcwKTtsZXQgdT0hMTthc3luYyBmdW5jdGlvbiBwKGUsdCxhKXtjb25zdCBuPWF3YWl0KDAsci5wNCkoKTt0cnl7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goZS5hY3Rpb24sZS5wYXlsb2FkKX1jYXRjaChyKXtpZihyIGluc3RhbmNlb2YgRXJyb3ImJi0xIT09ci50b1N0cmluZygpLmluZGV4T2YoZS5hY3Rpb24pKXJldHVybiB1fHxjb25zb2xlLndhcm4oXCJZb3UgYXJlIHVzaW5nIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgV29ya3NwYWNlIGNsaWVudCBsaWJyYXJ5IHRoYXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudGx5IHJ1bm5pbmcgd29ya3NwYWNlIHByb3ZpZGVyLiBQbGVhc2UgdXBncmFkZSB0aGUgV29ya3NwYWNlIHRvIHZlcnNpb24gOS4wIG9yIGxhdGVyLlwiKSx1PSEwLGF3YWl0IG4uZGlzcGF0Y2godC5hY3Rpb24sdC5wYXlsb2FkKSxhO3Rocm93IHJ9fWNvbnN0IGg9bmV3IGwueE0oXCJzdG9yZWZyb250XCIpLGY9YXN5bmMgZT0+e2F3YWl0KDAsZC5LWikoZmluLm1lLmlkZW50aXR5KTtjb25zdCB0PWF3YWl0KDAsci5ONykoKTtyZXR1cm4gaC5hc3NlcnROb3RBbHJlYWR5UmVnaXN0ZXJlZChlLmlkKSxoLnNldFByb3ZpZGVyKGUpLChlPT57ZS5zdG9yZWZyb250Q2hhbm5lbEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5zdG9yZWZyb250Q2hhbm5lbEFjdGlvbnNSZWdpc3RlcmVkPSEwLGUucmVnaXN0ZXIoXCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsKGU9PmguZ2V0UHJvdmlkZXJPckZhaWwoZSkuZ2V0QXBwcygpKSksZS5yZWdpc3RlcihcImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLChlPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihcImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLChlPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKFwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLChlPT5oLmdldFByb3ZpZGVyT3JGYWlsKGUpLmdldE5hdmlnYXRpb24oKSkpLGUucmVnaXN0ZXIoXCJsYXVuY2gtc3RvcmVmcm9udC1wcm92aWRlci1hcHBcIiwoKHtpZDplLGFwcDp0fSk9PmguZ2V0UHJvdmlkZXJPckZhaWwoZSkubGF1bmNoQXBwKHQpKSkpfSkodCksZS5jbGllbnRBUElWZXJzaW9uPWkuZXQscCh7YWN0aW9uOlwicmVnaXN0ZXItcHJvdmlkZXJcIixwYXlsb2FkOntwcm92aWRlclR5cGU6XCJzdG9yZWZyb250XCIsaW5mbzplfX0se2FjdGlvbjpcInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixwYXlsb2FkOmV9LHt3b3Jrc3BhY2VWZXJzaW9uOlwidW5rbm93blwifSl9O3ZhciBnPWEoMjQ4KTtsZXQgbTtjb25zdCB3PWFzeW5jIGU9PnsoMCxnLkgpKFwic3RvcmVcIixjLmdRKTtjb25zdCB0PWF3YWl0IGYoZSk7cmV0dXJuIG09bmV3IFByb21pc2UoKChhLG8pPT57dHJ5eygwLG4ueHQpKHthbGxvd2VkOiEwLGNvbXBvbmVudFZlcnNpb246dD8ud29ya3NwYWNlVmVyc2lvbn0pLGkuZXQsYSh7Y2xpZW50QVBJVmVyc2lvbjppLmV0LHdvcmtzcGFjZVZlcnNpb246dD8ud29ya3NwYWNlVmVyc2lvbj8/XCJcIix1cGRhdGVBcHBDYXJkQnV0dG9uczphc3luYyB0PT57Y29uc3QgYT1hd2FpdCgwLHIubVEpKCk7YXdhaXQgYS5kaXNwYXRjaChcInVwZGF0ZS1hcHAtY2FyZC1idXR0b24tY29uZmlnXCIsey4uLnQsaWQ6ZS5pZCx0aXRsZTplLnRpdGxlLGljb246ZS5pY29uLHBsYXRmb3JtSWRlbnRpdHk6ZmluLm1lLmlkZW50aXR5fSl9fSl9Y2F0Y2goZSl7KDAsbi54dCkoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplIGluc3RhbmNlb2YgRXJyb3I/ZS5tZXNzYWdlOlwidW5rbm93blwifSksbyhlKX1maW5hbGx5e3MuQS5tYXJrRW5kQW5kTWVhc3VyZShcInN0b3JlLXJlZ2lzdHJhdGlvblwiKX19KSksbX0seT1hc3luYyBlPT4oYXdhaXQgbSxoLmFzc2VydFJlZ2lzdGVyZWQoZSksaC5kZWxldGVQcm92aWRlcihlKSxhd2FpdCgwLHIubkEpKCkscCh7YWN0aW9uOlwiZGVyZWdpc3Rlci1wcm92aWRlclwiLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTpcInN0b3JlZnJvbnRcIixpZDplfX0se2FjdGlvbjpcImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLHBheWxvYWQ6ZX0pKSxrPWFzeW5jKCk9Pihhd2FpdCBtLGF3YWl0KDAsci5uQSkoKSxwKHthY3Rpb246XCJoaWRlLXByb3ZpZGVyLXdpbmRvd1wiLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTpcInN0b3JlZnJvbnRcIn19LHthY3Rpb246XCJoaWRlLXN0b3JlZnJvbnRcIn0pKSx2PWFzeW5jKCk9PihzLkEubWFya1N0YXJ0KFwic3RvcmUtc2hvd1wiKSxhd2FpdCBtLGF3YWl0KDAsci5uQSkoKSxwKHthY3Rpb246XCJzaG93LXByb3ZpZGVyLXdpbmRvd1wiLHBheWxvYWQ6e3Byb3ZpZGVyVHlwZTpcInN0b3JlZnJvbnRcIn19LHthY3Rpb246XCJzaG93LXN0b3JlZnJvbnRcIn0pKX0sMjUwOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjt2YXIgbjshZnVuY3Rpb24oZSl7ZS5MZWZ0PVwiTGVmdFwiLGUuUmlnaHQ9XCJSaWdodFwiLGUuVG9wPVwiVG9wXCIsZS5Cb3R0b209XCJCb3R0b21cIn0obnx8KG49e30pKX0sNzk6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuO2EuZCh0LHtLWjooKT0+byxOOigpPT5pLE9GOigpPT5uLGJXOigpPT5zfSksZnVuY3Rpb24oZSl7ZS5MYXVuY2hBcHA9XCJsYXVuY2hBcHBcIixlLlNhdmVQYWdlPVwic2F2ZVBhZ2VcIixlLkdldFNhdmVkUGFnZT1cImdldFNhdmVkUGFnZVwiLGUuQ3JlYXRlU2F2ZWRQYWdlPVwiY3JlYXRlU2F2ZWRQYWdlXCIsZS5VcGRhdGVTYXZlZFBhZ2U9XCJ1cGRhdGVTYXZlZFBhZ2VcIixlLkRlbGV0ZVNhdmVkUGFnZT1cImRlbGV0ZVNhdmVkUGFnZVwiLGUuR2V0U2F2ZWRQYWdlcz1cImdldFNhdmVkUGFnZXNcIixlLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsPVwiY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlVwZGF0ZVNhdmVkUGFnZUludGVybmFsPVwidXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsPVwiZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWxcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGVQYWdlRm9yV2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoUGFnZXNUb1dpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoUGFnZXNGcm9tV2luZG93XCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyUGFnZXNGb3JXaW5kb3dcIixlLlNldEFjdGl2ZVBhZ2U9XCJzZXRBY3RpdmVQYWdlXCIsZS5BZGRQYWdlPVwiYWRkUGFnZVwiLGUuQWRkRGVmYXVsdFBhZ2U9XCJhZGREZWZhdWx0UGFnZVwiLGUuR2V0QWxsQXR0YWNoZWRQYWdlcz1cImdldEFsbEF0dGFjaGVkUGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvdz1cImdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvd1wiLGUuR2V0UGFnZXNGb3JXaW5kb3c9XCJnZXRQYWdlc0ZvcldpbmRvd1wiLGUuR2V0UGFnZUZvcldpbmRvdz1cImdldFBhZ2VGb3JXaW5kb3dcIixlLkdldFNhdmVkUGFnZU1ldGFkYXRhPVwiZ2V0U2F2ZWRQYWdlTWV0YWRhdGFcIixlLkdldFVuaXF1ZVBhZ2VUaXRsZT1cImdldFVuaXF1ZVBhZ2VUaXRsZVwiLGUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwiZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5HZXRQYWdlQnlWaWV3SWRlbnRpdHk9XCJnZXRQYWdlQnlWaWV3SWRlbnRpdHlcIixlLkdldFRoZW1lcz1cImdldFRoZW1lc1wiLGUuR2V0U2VsZWN0ZWRTY2hlbWU9XCJnZXRTZWxlY3RlZFNjaGVtZVwiLGUuU2V0U2VsZWN0ZWRTY2hlbWU9XCJzZXRTZWxlY3RlZFNjaGVtZVwiLGUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9XCJpbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbFwiLGUuUmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsPVwicmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZ0ludGVybmFsXCIsZS5HZXRTYXZlZFdvcmtzcGFjZT1cImdldFNhdmVkV29ya3NwYWNlXCIsZS5DcmVhdGVTYXZlZFdvcmtzcGFjZT1cImNyZWF0ZVNhdmVkV29ya3NwYWNlXCIsZS5VcGRhdGVTYXZlZFdvcmtzcGFjZT1cInVwZGF0ZVNhdmVkV29ya3NwYWNlXCIsZS5EZWxldGVTYXZlZFdvcmtzcGFjZT1cImRlbGV0ZVNhdmVkV29ya3NwYWNlXCIsZS5HZXRTYXZlZFdvcmtzcGFjZXM9XCJnZXRTYXZlZFdvcmtzcGFjZXNcIixlLkdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzTWV0YWRhdGFcIixlLlNhdmVXb3Jrc3BhY2U9XCJzYXZlV29ya3NwYWNlXCIsZS5HZXRDdXJyZW50V29ya3NwYWNlPVwiZ2V0Q3VycmVudFdvcmtzcGFjZVwiLGUuQXBwbHlXb3Jrc3BhY2U9XCJhcHBseVdvcmtzcGFjZVwiLGUuUmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsPVwicmVzdG9yZUxhc3RTYXZlZFdvcmtzcGFjZUludGVybmFsXCIsZS5TZXRBY3RpdmVXb3Jrc3BhY2U9XCJzZXRBY3RpdmVXb3Jrc3BhY2VcIixlLklzQnJvd3NlckluaXRpYWxpemVkPVwiaXNCcm93c2VySW5pdGlhbGl6ZWRcIixlLkFuYWx5dGljcz1cImFuYWx5dGljc0ludGVybmFsXCIsZS5HZXRMYW5ndWFnZT1cImdldExhbmd1YWdlXCIsZS5HZXRMYW5ndWFnZVJlc291cmNlc0ludGVybmFsPVwiZ2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbFwiLGUuU2V0TGFuZ3VhZ2U9XCJzZXRMYW5ndWFnZVwiLGUuR2V0RG9ja1Byb3ZpZGVyQ29uZmlnPVwiZ2V0RG9ja1Byb3ZpZGVyQ29uZmlnXCIsZS5TYXZlRG9ja1Byb3ZpZGVyQ29uZmlnPVwic2F2ZURvY2tQcm92aWRlckNvbmZpZ1wiLGUuSGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2U9XCJoYW5kbGVTYXZlTW9kYWxPblBhZ2VDbG9zZVwiLGUuU2hvdWxkUGFnZUNsb3NlPVwic2hvdWxkUGFnZUNsb3NlXCIsZS5TaG91bGRXaW5kb3dDbG9zZT1cInNob3VsZFdpbmRvd0Nsb3NlXCIsZS5Db3B5UGFnZT1cImNvcHlQYWdlXCIsZS5IYW5kbGVQYWdlQ2hhbmdlcz1cImhhbmRsZVBhZ2VDaGFuZ2VzXCIsZS5NYXJrVW5zYXZlZFBhZ2VzQXNTYXZlZEludGVybmFsPVwibWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbFwiLGUuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWw9XCJ0cmFja1JlbW92ZWRUYWJJbnRlcm5hbFwiLGUuUmVzdG9yZVJlbW92ZWRUYWJJbnRlcm5hbD1cInJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWxcIixlLlRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbD1cInRyYWNrVmlzaXRlZFNpdGVJbnRlcm5hbFwiLGUuR2V0UmVjZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD1cImdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWxcIixlLkdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbD1cImdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbFwiLGUuU2VhcmNoU2l0ZXNJbnRlcm5hbD1cInNlYXJjaFNpdGVzSW50ZXJuYWxcIixlLkdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsPVwiZ2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWxcIixlLkdldEN1cmF0ZWRDb250ZW50SW50ZXJuYWw9XCJnZXRDdXJhdGVkQ29udGVudEludGVybmFsXCIsZS5IYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsPVwiaGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbFwiLGUuUmVmcmVzaEJvb2ttYXJrc0ludGVybmFsPVwicmVmcmVzaEJvb2ttYXJrc0ludGVybmFsXCIsZS5MYXVuY2hCb29rbWFya0ludGVybmFsPVwibGF1bmNoQm9va21hcmtJbnRlcm5hbFwiLGUuR2V0Tm90aWZpY2F0aW9uc0NvbmZpZz1cImdldE5vdGlmaWNhdGlvbnNDb25maWdcIixlLlVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbD1cInVwZGF0ZURvY2tGYXZvcml0ZXNJbnRlcm5hbFwiLGUuVXBkYXRlQ29udGVudE1lbnVJbnRlcm5hbD1cInVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWxcIixlLkxhdW5jaERvY2tFbnRyeUludGVybmFsPVwibGF1bmNoRG9ja0VudHJ5SW50ZXJuYWxcIixlLlNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsPVwic2V0RG9ja0Zhdm9yaXRlc09yZGVySW50ZXJuYWxcIixlLk5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbD1cIm5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbFwiLGUuU2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbD1cInNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWxcIixlLkdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbD1cImdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSGFuZGxlRG9ja1dvcmtzcGFjZXNNZW51UmVzcG9uc2VJbnRlcm5hbD1cImhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWxcIixlLlJlbW92ZURvY2tGYXZvcml0ZUludGVybmFsPVwicmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWxcIixlLkFkZERvY2tGYXZvcml0ZUludGVybmFsPVwiYWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWxcIixlLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9XCJmb2N1c0FuZEV4cGFuZFNlYXJjaEludGVybmFsXCIsZS5TZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2VJbnRlcm5hbD1cInNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZUludGVybmFsXCIsZS5TaG93VXBkYXRlVmVyc2lvbk1vZGFsSW50ZXJuYWw9XCJzaG93VXBkYXRlVmVyc2lvbk1vZGFsSW50ZXJuYWxcIn0obnx8KG49e30pKTtjb25zdCByPWFzeW5jIGU9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRDbGllbnQoKSxvPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHIoZSksYT1cIlRhcmdldCBpcyBub3QgYSBXb3Jrc3BhY2UgUGxhdGZvcm0uIFRhcmdldCBtdXN0IGNhbGwgV29ya3NwYWNlUGxhdGZvcm0uaW5pdFwiO2xldCBuO3RyeXtuPWF3YWl0IHQuZGlzcGF0Y2goXCJpc1dvcmtzcGFjZVBsYXRmb3JtXCIpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihhKX1pZihcImJvb2xlYW5cIj09dHlwZW9mIG4mJm4pcmV0dXJuIGNvbnNvbGUud2FybihcIllvdSBhcmUgdXNpbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgd29ya3NwYWNlIHBsYXRmb3JtLiBQbGVhc2UgdXBkYXRlIHlvdXIgd29ya3NwYWNlIHBsYXRmb3JtLlwiKSxuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBuJiZuLmlzV29ya3NwYWNlUGxhdGZvcm0pcmV0dXJuIG47dGhyb3cgbmV3IEVycm9yKGEpfSxpPWFzeW5jIGU9Pihhd2FpdCBvKGUpLHIoZSkpLHM9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgbyhlKTtpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmITAhPT10Py5pc0Jyb3dzZXJJbml0aWFsaXplZCl0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgaXMgbm90IGEgQnJvd3Nlci1lbmFibGVkIFdvcmtzcGFjZSBQbGF0Zm9ybS5cIik7cmV0dXJuIHIoZSl9fSw2OTU6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtONzooKT0+ZixnajooKT0+bCxtUTooKT0+aCxuQTooKT0+cCxwNDooKT0+Y30pO3ZhciBuPWEoMTAyKSxyPWEoNzIzKSxvPWEoNzApLGk9YSg5MDUpO2NvbnN0IHM9KDAsbi5BKShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksYz1zLGQ9cyxsPSgwLG4uQSkoaS5CVCksdT1lPT57Y29uc3QgdD1uZXcgVVJMKGUpO3JldHVybiB0LnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpc0xhdW5jaGVkVmlhTGliXCIsXCJ0cnVlXCIpLHQudG9TdHJpbmcoKX0scD1hc3luYygpPT57aWYoIWF3YWl0KDAsby5DKShvLnh0KSl7aWYoci5qd3x8LTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJXaW5cIikpcmV0dXJuIHZvaWQgYXdhaXQgZmluLkFwcGxpY2F0aW9uLnN0YXJ0RnJvbU1hbmlmZXN0KHUoci5tNykpO2F3YWl0IGZpbi5TeXN0ZW0ub3BlblVybFdpdGhCcm93c2VyKHUoci50OCkpfX0saD1hc3luYygpPT4oYXdhaXQgcCgpLGMoKSksZj1hc3luYygpPT4oYXdhaXQgcCgpLGQoKSl9LDkwNTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7YS5kKHQse0JUOigpPT5uLFpvOigpPT5vfSk7Y29uc3Qgbj1cIl9fc2VhcmNoLW9wZW5maW4tYnJvd3Nlci1ob21lLXRvcGljX19cIjt2YXIgcixvOyFmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0ob3x8KG89e30pKX0sOTU3OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7cXE6KCk9PlMsbDU6KCk9PlB9KTt2YXIgbj1hKDg0Nykscj1hKDg5OCksbz1hKDcwKSxpPWEoMjU0KSxzPWEoNjc1KSxjPWEoODc3KSxkPWEubihjKSxsPWEoNjcpLHU9YS5uKGwpO2NvbnN0IHA9e2xpZ2h0OntzeW1ib2w6dSgpPy5zcmN8fFwiXCJ9LGRhcms6e3N5bWJvbDpkKCk/LnNyY3x8XCJcIn19O2EoNjk1KTt2YXIgaD1hKDc5KTtjb25zdCBmPVwiZGFya1wiLGc9e1tuLlBhbGV0dGUuYnJhbmRQcmltYXJ5XTpcIiMwQTc2RDNcIixbbi5QYWxldHRlLmJyYW5kUHJpbWFyeUFjdGl2ZV06XCIjMEE3MUM5XCIsW24uUGFsZXR0ZS5icmFuZFByaW1hcnlIb3Zlcl06XCIjMEI4NEVCXCIsW24uUGFsZXR0ZS5icmFuZFByaW1hcnlGb2N1c2VkXTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUuYnJhbmRQcmltYXJ5VGV4dF06bi5Db2xvci53aGl0ZSxbbi5QYWxldHRlLnN0YXR1c1N1Y2Nlc3NdOm4uQ29sb3IuZnVuY3Rpb25hbDEsW24uUGFsZXR0ZS5zdGF0dXNXYXJuaW5nXTpuLkNvbG9yLmZ1bmN0aW9uYWwxMCxbbi5QYWxldHRlLnN0YXR1c0NyaXRpY2FsXTpuLkNvbG9yLmZ1bmN0aW9uYWw3LFtuLlBhbGV0dGUuc3RhdHVzQWN0aXZlXTpuLkNvbG9yLmZ1bmN0aW9uYWwzLFtuLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQxXTpcIiMwQTc2RDNcIixbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kMl06XCIjMDAwMDAwXCIsW24uUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDNdOlwiIzAwMDAwMFwiLFtuLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQ0XTpcIiMwMDAwMDBcIixbbi5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kNV06XCIjMDAwMDAwXCIsW24uUGFsZXR0ZS5ib3JkZXJOZXV0cmFsXTpuLkNvbG9yLnNpbHZlckdyYXl9LG09ey4uLmcsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMV06bi5Db2xvci53aGl0ZSxbbi5QYWxldHRlLmJhY2tncm91bmQyXTpuLkNvbG9yLmxpZ2h0R3JheTEsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kM106bi5Db2xvci5saWdodEdyYXkyLFtuLlBhbGV0dGUuYmFja2dyb3VuZDRdOm4uQ29sb3IubGlnaHRHcmF5Myxbbi5QYWxldHRlLmJhY2tncm91bmQ1XTpuLkNvbG9yLmxpZ2h0R3JheTQsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNl06bi5Db2xvci5saWdodEdyYXk1LFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnldOm4uQ29sb3IubGlnaHRHcmF5NCxbbi5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5QWN0aXZlXTpuLkNvbG9yLmxpZ2h0R3JheTRBY3RpdmUsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeUhvdmVyXTpuLkNvbG9yLmxpZ2h0R3JheTRIb3Zlcixbbi5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5Rm9jdXNlZF06bi5Db2xvci5kYXJrR3JheTUsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeVRleHRdOm4uQ29sb3IuZGFya0dyYXk1LFtuLlBhbGV0dGUuaW5wdXRCYWNrZ3JvdW5kXTpuLkNvbG9yLmxpZ2h0R3JheTMsW24uUGFsZXR0ZS5pbnB1dENvbG9yXTpuLkNvbG9yLmRhcmtHcmF5NSxbbi5QYWxldHRlLmlucHV0UGxhY2Vob2xkZXJdOm4uQ29sb3IuZGFya0dyYXkyLFtuLlBhbGV0dGUuaW5wdXREaXNhYmxlZF06bi5Db2xvci5uZXV0cmFsR3JheSxbbi5QYWxldHRlLmlucHV0Rm9jdXNlZF06bi5Db2xvci5saWdodEdyYXk1LFtuLlBhbGV0dGUuaW5wdXRCb3JkZXJdOm4uQ29sb3IubmV1dHJhbEdyYXksW24uUGFsZXR0ZS50ZXh0RGVmYXVsdF06bi5Db2xvci5kYXJrR3JheTUsW24uUGFsZXR0ZS50ZXh0SGVscF06bi5Db2xvci5kYXJrR3JheTMsW24uUGFsZXR0ZS50ZXh0SW5hY3RpdmVdOm4uQ29sb3IubmV1dHJhbEdyYXl9LHc9ey4uLmcsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMV06bi5Db2xvci5kYXJrR3JheTYsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kMl06bi5Db2xvci5kYXJrR3JheTUsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kM106bi5Db2xvci5kYXJrR3JheTQsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNF06bi5Db2xvci5kYXJrR3JheTMsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNV06bi5Db2xvci5kYXJrR3JheTIsW24uUGFsZXR0ZS5iYWNrZ3JvdW5kNl06bi5Db2xvci5kYXJrR3JheTEsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeV06bi5Db2xvci5kYXJrR3JheTIsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeUFjdGl2ZV06bi5Db2xvci5kYXJrR3JheTJBY3RpdmUsW24uUGFsZXR0ZS5icmFuZFNlY29uZGFyeUhvdmVyXTpuLkNvbG9yLmRhcmtHcmF5MkhvdmVyLFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlGb2N1c2VkXTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlUZXh0XTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUuaW5wdXRCYWNrZ3JvdW5kXTpuLkNvbG9yLmRhcmtHcmF5MSxbbi5QYWxldHRlLmlucHV0Q29sb3JdOm4uQ29sb3Iud2hpdGUsW24uUGFsZXR0ZS5pbnB1dFBsYWNlaG9sZGVyXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS5pbnB1dERpc2FibGVkXTpuLkNvbG9yLm5ldXRyYWxHcmF5LFtuLlBhbGV0dGUuaW5wdXRGb2N1c2VkXTpuLkNvbG9yLmxpZ2h0R3JheTUsW24uUGFsZXR0ZS5pbnB1dEJvcmRlcl06bi5Db2xvci5uZXV0cmFsR3JheSxbbi5QYWxldHRlLnRleHREZWZhdWx0XTpuLkNvbG9yLndoaXRlLFtuLlBhbGV0dGUudGV4dEhlbHBdOm4uQ29sb3IubGlnaHRHcmF5NSxbbi5QYWxldHRlLnRleHRJbmFjdGl2ZV06bi5Db2xvci5uZXV0cmFsR3JheX0seT1be2xhYmVsOlwiT3BlbkZpbiBEZWZhdWx0IExpZ2h0IGFuZCBEYXJrIFRoZW1lXCIscGFsZXR0ZXM6e2xpZ2h0OnsuLi5tLGJhY2tncm91bmRQcmltYXJ5Om4uQ29sb3IuZGFya0dyYXk1fSxkYXJrOnsuLi53LGJhY2tncm91bmRQcmltYXJ5Om4uQ29sb3IuZGFya0dyYXk1fX19XSxrPWU9Pntjb25zdHtiYWNrZ3JvdW5kOnQsZm9yZWdyb3VuZDphfT1lO3JldHVybntiYWNrZ3JvdW5kOnQsZm9yZWdyb3VuZDphPz9cIiNGRkZGRkZcIn19LHY9KGUsdCk9Pih7aWNvbnM6e3N5bWJvbDplLmJyYW5kPy5pY29ucz8uW3RdPy5zeW1ib2x8fHBbdF0uc3ltYm9sfX0pLGI9ZT0+e2NvbnN0e2xpZ2h0OnQsZGFyazphfT1cInBhbGV0dGVzXCJpbiBlP2UucGFsZXR0ZXM6e2xpZ2h0OmUucGFsZXR0ZSxkYXJrOmUucGFsZXR0ZX0sbz0oMCxyLktEKSh3LGEpLGk9KDAsci5LRCkobSx0KSxzPSgoZSx0KT0+e2NvbnN0IGE9ey4uLmV9LG49ey4uLnR9O2xldCBvPXQuYmFja2dyb3VuZFByaW1hcnk/KDAsci5wdSkodC5iYWNrZ3JvdW5kUHJpbWFyeSwhMCk6e30saT1lLmJhY2tncm91bmRQcmltYXJ5PygwLHIucHUpKGUuYmFja2dyb3VuZFByaW1hcnkpOnt9O3JldHVybiBvPXsuLi5vLC4uLm59LGk9ey4uLmksLi4uYX0se2xpZ2h0OnsuLi50LC4uLm99LGRhcms6ey4uLmUsLi4uaX19fSkoYSx0KSxjPXsuLi4oMCxuLmNyZWF0ZVRoZW1lKSh7Li4ubywuLi5zPy5kYXJrfSksYnJhbmQ6dihlLFwiZGFya1wiKX0sZD17Li4uKDAsbi5jcmVhdGVUaGVtZSkoey4uLmksLi4ucz8ubGlnaHR9KSxicmFuZDp2KGUsXCJsaWdodFwiKX0se2xpZ2h0OmwsZGFyazp1fT0oZT0+e2NvbnN0IHQ9T2JqZWN0LmtleXMoZS5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM/P3t9KTtpZih0Py5sZW5ndGgpe2NvbnN0IGE9e30sbj17fTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57Y29uc3Qgcj1lLm5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9yc1t0XTtcImJhY2tncm91bmRcImluIHI/KGFbdF09ayhyKSxuW3RdPWsocikpOihhW3RdPWsoci5kYXJrPz9yLmxpZ2h0KSxuW3RdPWsoci5saWdodD8/ci5kYXJrKSl9KSkse2xpZ2h0Om4sZGFyazphfX1yZXR1cm57bGlnaHQ6bnVsbCxkYXJrOm51bGx9fSkoZSk7cmV0dXJuIGMubm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzPXUsZC5ub3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnM9bCx7ZGFyazpjLGxpZ2h0OmR9fSxTPWFzeW5jIGU9Pntjb25zdHt0aGVtZXM6dCxzZWxlY3RlZFNjaGVtZTphfT1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1maW4/Ll9faW50ZXJuYWxfPy5pbml0aWFsT3B0aW9ucz8ud29ya3NwYWNlUGxhdGZvcm0/Ll90aGVtZURhdGE7aWYoIXR8fGUudXVpZCE9PW8uJHAudXVpZClyZXR1cm57dGhlbWVzOmF3YWl0KDAsaS5BZykoZSkuVGhlbWUuZ2V0VGhlbWVzKCksc2VsZWN0ZWRTY2hlbWU6YXdhaXQoMCxpLkFnKShlKS5UaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpfTtyZXR1cm4gdH0pKGUpO3ZhciBuLHI7cmV0dXJuKG49dD8ubGVuZ3RoP3Q6eSxyPWEsbi5tYXAoKGU9Pntjb25zdCB0PVwicGFsZXR0ZXNcImluIGU/ZS5kZWZhdWx0OmYse2xpZ2h0OmEsZGFyazpufT1iKGUpO3JldHVybntsYWJlbDplLmxhYmVsLGxvZ29Vcmw6ZS5sb2dvVXJsLHRoZW1lOntkYXJrOm4sbGlnaHQ6YX0sZGVmYXVsdFNjaGVtZTpyPz90fX0pKSlbMF19LFA9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxoLk4pKGV8fGZpbi5tZS5pZGVudGl0eSksYT1hd2FpdCB0LmRpc3BhdGNoKGguT0YuR2V0U2VsZWN0ZWRTY2hlbWUsdm9pZCAwKTtyZXR1cm4gYT09PXMucVQuU3lzdGVtP3dpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzP1wiZGFya1wiOlwibGlnaHRcIjphfX0sNDM4OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7Qlk6KCk9PmwsTVc6KCk9Pm4sdjE6KCk9PmR9KTt2YXIgbixyLG89YSg3MjMpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4td29ya3NwYWNlXCIsZS5PbGRXb3Jrc3BhY2U9XCJvcGVuZmluLWJyb3dzZXJcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KHJ8fChyPXt9KSk7Y29uc3QgaT17dXVpZDpvLiRofSxzPXt1dWlkOm4uV29ya3NwYWNlfSxjPWU9PntpZighby5jSSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBcHBsaWNhdGlvbiBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKX0sZD0oKT0+YyhpKSxsPSgpPT5jKHMpfSwxMDI6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtBOigpPT5vfSk7dmFyIG49YSg3MjMpO2NvbnN0IHI9bi5ZWSYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7ZnVuY3Rpb24gbyhlKXtsZXQgdDtjb25zdCBhPW5ldyBTZXQ7cmV0dXJuKCk9PntpZighbi5jSSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCByO2NvbnN0IG89e2NsaWVudEFQSVZlcnNpb246bi5ldH0saT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDpvfSk7cmV0dXJuIGkub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57YS5mb3JFYWNoKChlPT5lKCkpKSxhLmNsZWFyKCksY29uc29sZS53YXJuKGBkaXNjb25uZWN0ZWQgZnJvbSBjaGFubmVsIHByb3ZpZGVyICR7ZX1gKSx0PXZvaWQgMH0pKSxpfSkoKS50aGVuKChlPT4oZS5hZGREaXNjb25uZWN0aW9uTGlzdGVuZXI9ZT0+e2EuYWRkKGUpfSxlKSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19fSw3MjM6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO3ZhciBuO2EuZCh0LHskaDooKT0+YyxBVDooKT0+aSxIZDooKT0+cCxZWTooKT0+byxiRDooKT0+bSxjSTooKT0+cixldDooKT0+dyxmVDooKT0+bCxqdzooKT0+dSxtNzooKT0+Zix0ODooKT0+aCx2TDooKT0+ZH0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0obnx8KG49e30pKTtjb25zdCByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sbz0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLGk9byYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixzPW8/d2luZG93Lm9yaWdpbjpuLkxvY2FsLGM9ciYmZmluLm1lLnV1aWQsZD1yJiZmaW4ubWUubmFtZSxsPXImJmZpbi5tZS5lbnRpdHlUeXBlLHU9XCJwcm9kXCI9PT1uLkxvY2FsLHA9KG4uRGV2LG4uU3RhZ2luZyxcInByb2RcIj09PW4uUHJvZCksaD1cImZpbnM6Ly9zeXN0ZW0tYXBwcy93b3Jrc3BhY2VcIixmPVwiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvMjIuMy45L2FwcC5qc29uXCIsZz1lPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOnMrZSxtPShnKFwiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvMjIuMy45XCIpLGcoXCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMi4zLjlcIikpLHc9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJmcoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmZyhXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKSxcIjIyLjMuOVwiKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0JVSUxEX1NIQSYmV09SS1NQQUNFX0JVSUxEX1NIQX0sNzg2OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7QTooKT0+cn0pO2NvbnN0IG49XCJvZi13b3Jrc3BhY2UtXCI7Y29uc3Qgcj1uZXcgY2xhc3N7bWFyayhlKXtwZXJmb3JtYW5jZS5tYXJrKGAke259JHtlfWApfW1hcmtTdGFydChlKXtwZXJmb3JtYW5jZS5tYXJrKGAke259JHtlfS1zdGFydGApfW1hcmtFbmQoZSl7cGVyZm9ybWFuY2UubWFyayhgJHtufSR7ZX0tZW5kYCl9bWFya0VuZEFuZE1lYXN1cmUoZSl7cGVyZm9ybWFuY2UubWFyayhgJHtufSR7ZX0tZW5kYCk7dHJ5e3JldHVybiBwZXJmb3JtYW5jZS5tZWFzdXJlKGAke259JHtlfWAsYCR7bn0ke2V9LXN0YXJ0YCxgJHtufSR7ZX0tZW5kYCl9Y2F0Y2goZSl7MH19bWFya0FuZE1lYXN1cmUoZSx0KXtwZXJmb3JtYW5jZS5tYXJrKGAke259JHtlfWApO3RyeXtyZXR1cm4gcGVyZm9ybWFuY2UubWVhc3VyZShgJHtufSR7ZX0tbWVhc3VyZWAsYCR7bn0ke3R9LXN0YXJ0YCxgJHtufSR7ZX1gKX1jYXRjaChlKXswfX1yZXBvcnRXb3Jrc3BhY2VQZXJmb3JtYW5jZUVudHJpZXMoKXtyZXR1cm4gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1lYXN1cmVcIikuZmlsdGVyKChlPT5lLm5hbWUuc3RhcnRzV2l0aChuKSkpfXJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlKCl7cmV0dXJuIHRoaXMucmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2VFbnRyaWVzKCkubWFwKChlPT4oe25hbWU6ZS5uYW1lLnJlcGxhY2UoYCR7bn1gLFwiXCIpLnJlcGxhY2UoXCItbWVhc3VyZVwiLFwiXCIpLGR1cmF0aW9uOmUuZHVyYXRpb259KSkpfX19LDE4MTooZSx0LGEpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG4scjthLmQodCx7QXk6KCk9PmQsc1A6KCk9PnN9KSxmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZS9cIixlLkhvbWVTZWFyY2g9XCIvaG9tZS8/ZGVlcGxpbms9c2VhcmNoXCIsZS5Ib21lUGFnZXNSZW5hbWU9XCIvaG9tZS9wYWdlcy9yZW5hbWUvXCIsZS5Eb2NrPVwiL2RvY2svXCIsZS5Eb2NzPVwiL3Byb3ZpZGVyL2RvY3MvXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnQvXCIsZS5EZXByZWNhdGVkQWxlcnQ9XCIvcHJvdmlkZXIvZGVwcmVjYXRlZC1hbGVydC9cIixlLkFuYWx5dGljcz1cIi9wcm92aWRlci9hbmFseXRpY3MvXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlci9cIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCIvYnJvd3Nlci9cIixlLkJyb3dzZXJQb3B1cE1lbnU9XCIvcG9wdXAtbWVudS9cIixlLkJyb3dzZXJQb3B1cE1lbnVTYXZlTW9kYWw9XCIvcG9wdXAtbWVudS9zYXZlLW1vZGFsL1wiLGUuQnJvd3NlclBvcHVwTWVudUxheW91dHM9XCIvcG9wdXAtbWVudS9sYXlvdXRzL2xheW91dHMvXCIsZS5Ccm93c2VyUG9wdXBNZW51Q29sb3JMaW5raW5nPVwiL3BvcHVwLW1lbnUvY29sb3ItbGlua2luZy9jb2xvci1saW5raW5nL1wiLGUuQnJvd3NlckluZGljYXRvcj1cIi9pbmRpY2F0b3IvXCIsZS5Ccm93c2VyUG9wdXBNZW51QWRkcmVzc1NlYXJjaFJlc3VsdHNWaWV3PVwiL3BvcHVwLW1lbnUvYWRkcmVzcy1zZWFyY2gtcmVzdWx0cy12aWV3L1wiLGUuUmVzcG9uc2VNb2RhbD1cIi9wb3B1cC1tZW51L3Jlc3BvbnNlLW1vZGFsL1wiLGUuQ2xvc2VDb25maXJtYXRpb25Nb2RhbD1cIi9wb3B1cC1tZW51L2Nsb3NlLWNvbmZpcm1hdGlvbi1tb2RhbC9cIixlLkVudGVycHJpc2VCcm93c2VyPVwiL2VudGVycHJpc2UvXCIsZS5FbnRlcnByaXNlTGFuZGluZ1BhZ2U9XCIvZW50ZXJwcmlzZS9sYW5kaW5nL1wiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwiL2NvbnRleHQtbWVudS9cIixlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZz1cIi9ib29rbWFyay1kaWFsb2cvXCIsZS5FbnRlcnByaXNlQWJvdXRQYWdlPVwiL3BvcHVwLW1lbnUvYWJvdXQvXCIsZS5Ecm9wZG93bk1lbnU9XCIvZHJvcGRvd24tbWVudS9cIixlLkVudGVycHJpc2VEb2NrPVwiL2RvY2svXCIsZS5ab29tQ29udHJvbHNEaWFsb2c9XCIvem9vbS1jb250cm9scy1kaWFsb2cvXCIsZS5EZXNrdG9wU2lnbmFsc01vZGFsPVwiL3BvcHVwLW1lbnUvZGVza3RvcC1zaWduYWxzLW1vZGFsL1wifShyfHwocj17fSkpO2NvbnN0IG89ey4uLm4sLi4ucn0saT1cIi9taWNyb3NvZnQtMzY1LWludGVncmF0aW9uLWFzc2V0cy9cIixzPXtJY29uT3BlbkZpbkxvZ286XCIvaWNvbnMvb3BlbmZpbmxvZ28uc3ZnXCIsSWNvbkZpbHRlcjpcIi9pY29ucy9maWx0ZXIuc3ZnXCIsTGlnaHRTdG9yZWZyb250OlwiL2ljb25zL3N0b3JlLWljb24tbGlnaHQucG5nXCIsRGFya1N0b3JlZnJvbnQ6XCIvaWNvbnMvc3RvcmUtaWNvbi1kYXJrLnBuZ1wiLENhbGxJY29uTGlnaHQ6XCIvaWNvbnMvY2FsbC1pY29uLWxpZ2h0LnN2Z1wiLENhbGxJY29uRGFyazpcIi9pY29ucy9jYWxsLWljb24tZGFyay5zdmdcIixDaGF0SWNvbkxpZ2h0OlwiL2ljb25zL2NoYXQtaWNvbi1saWdodC5zdmdcIixDaGF0SWNvbkRhcms6XCIvaWNvbnMvY2hhdC1pY29uLWRhcmsuc3ZnXCIsTWVzc2FnZUljb25MaWdodDpcIi9pY29ucy9tZXNzYWdlLWljb24tbGlnaHQuc3ZnXCIsTWVzc2FnZUljb25EYXJrOlwiL2ljb25zL21lc3NhZ2UtaWNvbi1kYXJrLnN2Z1wiLE1pY3Jvc29mdDM2NUFzc2V0czp7TWljcm9zb2Z0MzY1RG9jdW1lbnRJY29uOmAke2l9bWljcm9zb2Z0LTM2NS1kb2N1bWVudC1pY29uLnN2Z2AsTWljcm9zb2Z0MzY1RXhjZWxJY29uOmAke2l9bWljcm9zb2Z0LTM2NS1leGNlbC1pY29uLnN2Z2AsTWljcm9zb2Z0MzY1UG93ZXJwb2ludEljb246YCR7aX1taWNyb3NvZnQtMzY1LXBvd2VycG9pbnQtaWNvbi5zdmdgLE1pY3Jvc29mdDM2NU91dGxvb2tJY29uOmAke2l9bWljcm9zb2Z0LTM2NS1vdXRsb29rLWljb24uc3ZnYCxNaWNyb3NvZnQzNjVUZWFtc0ljb246YCR7aX1taWNyb3NvZnQtMzY1LXRlYW1zLWljb24uc3ZnYCxNaWNyb3NvZnQzNjVJY29uOmAke2l9bWljcm9zb2Z0LTM2NS1pY29uLnN2Z2AsUERGRmlsZUljb246YCR7aX1wZGYtZmlsZS1pY29uLnN2Z2B9LERvY2tJY29uTGlnaHQ6XCIvaWNvbnMvZG9jay1pY29uLWxpZ2h0LnBuZ1wiLERvY2tJY29uRGFyazpcIi9pY29ucy9kb2NrLWljb24tZGFyay5wbmdcIn07dmFyIGM7IWZ1bmN0aW9uKGUpe2UuU2VhcmNoPVwic2VhcmNoXCJ9KGN8fChjPXt9KSk7Y29uc3QgZD1vfSw1MjM6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtPWDooKT0+aSxUdDooKT0+c30pO3ZhciBuLHI9YSg3MjMpOyFmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZVwiLGUuQnJvd3Nlcj1cIi9icm93c2VyXCIsZS5FbnRlcnByaXNlPVwiL2VudGVycHJpc2VcIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnRcIixlLkRvY2s9XCIvZG9ja1wifShufHwobj17fSkpO2NvbnN0IG89XCIvd29ya3NwYWNlLzIyLjMuOVwiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIG8rZX1mdW5jdGlvbiBzKGUsdCl7aWYoIXIuWVkpdGhyb3cgbmV3IEVycm9yKFwicmVzb2x2ZUFic29sdXRlUGF0aCBjYW4gb25seSBiZSB1c2VkIGluIGEgd2luZG93XCIpO2NvbnN0IGE9dD8/d2luZG93LmxvY2F0aW9uO2lmKC9eKD86W2Etel0rOik/XFwvXFwvL2kudGVzdChlKSlyZXR1cm4gZTtjb25zdCBuPWAke2EucHJvdG9jb2x9Ly8ke2EuaG9zdG5hbWV9YDtyZXR1cm4gbmV3IFVSTChlLG4pLmhyZWZ9fSw4OTg6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHtLRDooKT0+YyxiNDooKT0+aSxwdTooKT0+c30pO2NvbnN0IG49ZT0+ZS5yZXBsYWNlKC9bXlxcZCxdL2csXCJcIikuc3BsaXQoXCIsXCIpLHI9ZT0+e2lmKGUubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2xvciBvYmplY3QsIGNhbm5vdCBjb252ZXJ0IHRvIEhTTC5cIik7Y29uc3QgdD1lWzBdLzI1NSxhPWVbMV0vMjU1LG49ZVsyXS8yNTUscj1NYXRoLm1pbih0LGEsbiksbz1NYXRoLm1heCh0LGEsbiksaT1vLXI7bGV0IHM9MCxjPTAsZD0wO3JldHVybiBzPTA9PT1pPzA6bz09PXQ/KGEtbikvaSU2Om89PT1hPyhuLXQpL2krMjoodC1hKS9pKzQscz1NYXRoLnJvdW5kKDYwKnMpLHM8MCYmKHMrPTM2MCksZD0obytyKS8yLGM9MD09aT8wOmkvKDEtTWF0aC5hYnMoMipkLTEpKSxjPSsoMTAwKmMpLnRvRml4ZWQoMSksZD0rKDEwMCpkKS50b0ZpeGVkKDEpLHtoc2w6YGhzbCgke3N9LCAke2N9JSwgJHtkfSUpYCxoc2xhOmBoc2woJHtzfSwgJHtjfSUsICR7ZH0lLCAxKWAsaHVlOnMsbGlnaHRuZXNzOmQsc2F0dXJhdGlvbjpjfX0sbz1lPT57aWYoIWUuaW5jbHVkZXMoXCIjXCIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHZhbHVlLCBjYW5ub3QgY29udmVydCB0byBSR0IuIEhleCB2YWx1ZSBiZWdpbnMgd2l0aCBhIGhhc2h0YWcuXCIpO2xldCB0PTAsYT0wLG49MDtpZig0PT09ZS5sZW5ndGgpdD1gMHgke2VbMV19JHtlWzFdfWAsYT1gMHgke2VbMl19JHtlWzJdfWAsbj1gMHgke2VbM119JHtlWzNdfWA7ZWxzZXtpZig3IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nIGxlbmd0aCwgY2Fubm90IGNvbnZlcnQgdG8gUkdCLlwiKTt0PWAweCR7ZVsxXX0ke2VbMl19YCxhPWAweCR7ZVszXX0ke2VbNF19YCxuPWAweCR7ZVs1XX0ke2VbNl19YH1yZXR1cm5bK3QsK2EsK25dfSxpPWU9Pntjb25zdCB0PWU7aWYodC5zdGFydHNXaXRoKFwiI1wiKSl7cmV0dXJue3JnYjpvKHQpLmpvaW4oXCIsIFwiKSxhbHBoYToxfX1jb25zdCBhPXQubWF0Y2goL1xcZHsxLDN9KFxcLlxcZCspPy9nKTtpZihhKXtjb25zdFtlLHQsbixyXT1hO3JldHVybntyZ2I6YCR7ZX0sICR7dH0sICR7bn1gLGFscGhhOnZvaWQgMCE9PXI/cGFyc2VGbG9hdChyKToxfX1yZXR1cm57cmdiOm8oZSkuam9pbihcIiwgXCIpLGFscGhhOjF9fSxzPShlLHQ9ITEpPT57Y29uc3QgYT0oZT0+e2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNvbG9yIGlzIG5vdCBkZWZpbmVkXCIpO2NvbnN0IHQ9ZS50b0xvd2VyQ2FzZSgpO2xldCBhO2lmKHQuaW5jbHVkZXMoXCJyZ2JcIikpe2NvbnN0IGU9bih0KTtlLmxlbmd0aD4zJiZlLnBvcCgpLGE9cihlKS5odWV9aWYodC5pbmNsdWRlcyhcIiNcIikpe2NvbnN0IGU9byh0KTthPXIoZSkuaHVlfXQuaW5jbHVkZXMoXCJoc2xcIikmJihhPW4odClbMF0pO2NvbnN0IGk9YT8udG9TdHJpbmcoKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYEh1ZSB3YXMgdW5hYmxlIHRvIGJlIGV4dHJhY3RlZCBmcm9tIFwiJHt0fVwiLCBjaGVjayBjb2xvciBmb3JtYXQuIEFjY2VwdGVkIGZvcm1hdHMgYXJlOiByZ2IoKSwgcmdiYSgpLCBoZXgsIGhzbCgpLCBhbmQgaHNsYSgpYCk7cmV0dXJuIGl9KShlKTtyZXR1cm4gdD97YmFja2dyb3VuZDE6YGhzbGEoJHthfSwgMCUsIDEwMCUsIDEpYCxiYWNrZ3JvdW5kMjpgaHNsYSgke2F9LCA2NyUsIDk5JSwgMSlgLGJhY2tncm91bmQzOmBoc2xhKCR7YX0sIDI2JSwgOTYlLCAxKWAsYmFja2dyb3VuZDQ6YGhzbGEoJHthfSwgMTUlLCA5NCUsIDEpYCxiYWNrZ3JvdW5kNTpgaHNsYSgke2F9LCAxMCUsIDg4JSwgMSlgLGJhY2tncm91bmQ2OmBoc2xhKCR7YX0sIDgwJSwgODAlLCAxKWB9OntiYWNrZ3JvdW5kMTpgaHNsYSgke2F9LCA4JSwgNyUsIDEpYCxiYWNrZ3JvdW5kMjpgaHNsYSgke2F9LCA4JSwgMTMlLCAxKWAsYmFja2dyb3VuZDM6YGhzbGEoJHthfSwgOSUsIDE1JSwgMSlgLGJhY2tncm91bmQ0OmBoc2xhKCR7YX0sIDYlLCAyMyUsIDEpYCxiYWNrZ3JvdW5kNTpgaHNsYSgke2F9LCAyMSUsIDI4JSwgMSlgLGJhY2tncm91bmQ2OmBoc2xhKCR7YX0sIDUlLCA1MSUsIDEpYH19LGM9KGUsdCk9Pntjb25zdCBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChuPT57YVtuXT10W25dP3Rbbl06ZVtuXX0pKSxhfX0sMjc3OihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjthLmQodCx7R1I6KCk9PnMsa2k6KCk9PmQseHQ6KCk9PmN9KTt2YXIgbixyPWEoNzIzKSxvPWEoNzApO2EoMjU0KTshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuRG9jaz1cIkRvY2tcIixlLkVudGVycHJpc2VEb2NrPVwiRW50ZXJwcmlzZURvY2tcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wiLGUuTWljcm9mbG93PVwiTWljcm9mbG93XCJ9KG58fChuPXt9KSk7Y29uc3QgaT1hc3luYyhlLHQsYT1cIndvcmtzcGFjZS1saWNlbnNpbmdcIik9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8ci5ldCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjp0LmNvbXBvbmVudFZlcnNpb258fHIuZXQsYWxsb3dlZDp0LmFsbG93ZWQscmVqZWN0aW9uQ29kZTp0LnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTphLGRhdGE6bn0pfTtjb25zdCBzPWU9PntvLkYyLnV1aWQ9PT1vLiRwLnV1aWQmJm8uRjIubmFtZT09PW8uJHAubmFtZXx8aShuLkhvbWUsZSl9LGM9ZT0+e2kobi5TdG9yZWZyb250LGUpfSxkPWU9PntpKG4uRG9jayxlKX07bmV3IE1hcH0sMzMzOihlLHQsYSk9PntcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7cmV0dXJuIHZvaWQgMCE9PXR5cGVvZiBjcnlwdG8mJlwicmFuZG9tVVVJRFwiaW4gY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjcnlwdG8ucmFuZG9tVVVJRD9jcnlwdG8ucmFuZG9tVVVJRCgpOlwiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwXCIucmVwbGFjZSgvWzAxOF0vZywoZT0+KGVeY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+PmUvNCkudG9TdHJpbmcoMTYpKSl9YS5kKHQse046KCk9Pm59KX0sNzA6KGUsdCxhKT0+e1widXNlIHN0cmljdFwiO2EuZCh0LHskcDooKT0+bCxDOigpPT55LEYyOigpPT5wLElvOigpPT53LElxOigpPT5kLFE6KCk9Pm4sVDc6KCk9PmgsVHY6KCk9PnUsVjE6KCk9PmksVkU6KCk9PnMsWHE6KCk9PmMsZ1E6KCk9PmYsaGI6KCk9Pm0sdXI6KCk9PmsseHQ6KCk9Pmd9KTt2YXIgbixyPWEoNDM4KSxvPWEoNzIzKTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJTYXZlTWVudT1cIm9wZW5maW4tYnJvd3Nlci1zYXZlLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wiLGUuQ2xhc3NpY1dpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC1jbGFzc2ljLXdpbmRvd1wiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwib3BlbmZpbi1lbnRlcnByaXNlLWNvbnRleHQtbWVudVwiLGUuQnJvd3NlckFkZHJlc3NTZWFyY2hQcmVmaXg9XCJvcGVuZmluLWJyb3dzZXItbWVudS1hZGRyZXNzLXNlYXJjaC1cIixlLkVudGVycHJpc2VCb29rbWFya0RpYWxvZ1dpbmRvdz1cIm9wZW5maW4tZW50ZXJwcmlzZS1ib29rbWFyay1kaWFsb2dcIixlLkRyb3Bkb3duTWVudT1cIm9wZW5maW4tZW50ZXJwcmlzZS1kcm9wZG93bi1tZW51XCIsZS5Eb2NrQ29tcGFuaW9uPVwib3BlbmZpbi1kb2NrLWNvbXBhbmlvblwiLGUuQUlDb21wYW5pb25QcmVmaXg9XCJvcGVuZmluLWFpLWNvbXBhbmlvbi1cIixlLlVwZGF0ZVZlcnNpb25Nb2RhbD1cImhlcmUtdXBkYXRlLXZlcnNpb24tbW9kYWxcIixlLlpvb21Db250cm9sc0RpYWxvZz1cImhlcmUtem9vbS1jb250cm9scy1kaWFsb2dcIixlLkFib3V0UGFnZVdpbmRvdz1cImhlcmUtYWJvdXQtcGFnZVwiLGUuRGVza3RvcFNpZ25hbHNNb2RhbD1cImhlcmUtZGVza3RvcC1zaWduYWxzLW1vZGFsXCJ9KG58fChuPXt9KSk7Y29uc3QgaT1lPT4oe2xlZnQ6KGUubGVmdCsoZS5yaWdodD8/ZS5sZWZ0K2Uud2lkdGgpKS8yLHRvcDooZS50b3ArKGUuYm90dG9tPz9lLnRvcCtlLmhlaWdodCkpLzJ9KSxzPWU9Pih7bGVmdDooZS5sZWZ0K2UucmlnaHQpLzIsdG9wOihlLnRvcCtlLmJvdHRvbSkvMn0pLGM9KGUsdCk9Pntjb25zdCBhPXQud2lkdGgvMixuPXQuaGVpZ2h0LzI7cmV0dXJue2xlZnQ6TWF0aC5yb3VuZChlLmxlZnQtYSksdG9wOk1hdGgucm91bmQoZS50b3Atbiksd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fTtmdW5jdGlvbiBkKGUpe2lmKCFvLmNJKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IGw9e25hbWU6by52TCx1dWlkOm8uJGh9O2Z1bmN0aW9uIHUoKXtyZXR1cm4gZChsKX1jb25zdCBwPXtuYW1lOm4uSG9tZSx1dWlkOnIuTVcuV29ya3NwYWNlfSxoPXtuYW1lOm4uRG9jayx1dWlkOnIuTVcuV29ya3NwYWNlfSxmPXtuYW1lOm4uU3RvcmVmcm9udCx1dWlkOnIuTVcuV29ya3NwYWNlfSxnPXtuYW1lOnIuTVcuV29ya3NwYWNlLHV1aWQ6ci5NVy5Xb3Jrc3BhY2V9O2NvbnN0IG09YXN5bmMgZT0+e3RyeXtjb25zdCB0PWF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoe25hbWU6ZS5uYW1lLHV1aWQ6ZS51dWlkPz9maW4ubWUudXVpZH0pLmdldE9wdGlvbnMoKTtyZXR1cm4oXCJicm93c2VyXCI9PT10LndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlfHxcImVudGVycHJpc2VcIj09PXQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUpJiZ0LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlc31jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiaXNCcm93c2VyV2luZG93IGVycm9yOiBcIixlKSwhMX19O2FzeW5jIGZ1bmN0aW9uIHcoKXtjb25zdCBlPWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpLHQ9YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGFzeW5jIGU9Pm0oZS5pZGVudGl0eSkpKSk7cmV0dXJuIGUuZmlsdGVyKCgoZSxhKT0+dFthXSkpfWNvbnN0IHk9ZT0+ZChlKS5nZXRJbmZvKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpO2FzeW5jIGZ1bmN0aW9uIGsoZSl7Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCk7cmV0dXJuW3QucHJpbWFyeU1vbml0b3IsLi4udC5ub25QcmltYXJ5TW9uaXRvcnNdLnJlZHVjZSgoKHQsYSk9Pntjb25zdCBuPWZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1lLnRvcCxuPWUubGVmdCxyPWUudG9wK2UuaGVpZ2h0LG89ZS5sZWZ0K2Uud2lkdGgsaT10Lm1vbml0b3JSZWN0LnRvcCxzPXQubW9uaXRvclJlY3QubGVmdCxjPXQubW9uaXRvclJlY3QuYm90dG9tLGQ9dC5tb25pdG9yUmVjdC5yaWdodDtpZihhPmN8fHI8aXx8bj5kfHxvPHMpcmV0dXJuIDA7Y29uc3QgbD1NYXRoLm1heChhLGkpLHU9TWF0aC5tYXgobixzKTtyZXR1cm4oTWF0aC5taW4ocixjKS1sKSooTWF0aC5taW4obyxkKS11KS8oZS5oZWlnaHQqZS53aWR0aCl9KGUsYSk7cmV0dXJuIG4+dC5wZXJjZW50YWdlP3twZXJjZW50YWdlOm4sbW9uaXRvcjphfTp0fSkse3BlcmNlbnRhZ2U6MCxtb25pdG9yOnQucHJpbWFyeU1vbml0b3J9KS5tb25pdG9yfX0sOTk1OmU9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9cmVxdWlyZShcInRpdGxlLWNhc2VcIil9fSx0PXt9O2Z1bmN0aW9uIGEobil7dmFyIHI9dFtuXTtpZih2b2lkIDAhPT1yKXJldHVybiByLmV4cG9ydHM7dmFyIG89dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0obyxvLmV4cG9ydHMsYSksby5leHBvcnRzfWEubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIGEuZCh0LHthOnR9KSx0fSxhLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClhLm8odCxuKSYmIWEubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGEubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksYS5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbj17fTsoKCk9PntcInVzZSBzdHJpY3RcIjthLnIobiksYS5kKG4se0FjdGlvblRyaWdnZXI6KCk9PkJlLlAsQXBwTWFuaWZlc3RUeXBlOigpPT4kZS52LEJ1dHRvblN0eWxlOigpPT5SZS5pbixDTElBY3Rpb246KCk9Pk4uUEssQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+Ti5vbyxDTElUZW1wbGF0ZTooKT0+Ti5mQyxDb250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PlJlLmNlLERvY2s6KCk9PmUsRG9ja0J1dHRvbk5hbWVzOigpPT51LmEsSG9tZTooKT0+UyxJbnRlZ3JhdGlvbnM6KCk9PnQsUHJlc2VudGF0aW9uVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5SZS5ucCxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT5CZS5SLFN0b3JlZnJvbnQ6KCk9Pl9lLFN0b3JlZnJvbnRUZW1wbGF0ZTooKT0+JGUueixUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PlJlLlNNfSk7dmFyIGU9e307YS5yKGUpLGEuZChlLHtEb2NrQnV0dG9uTmFtZXM6KCk9PnUuYSxkZXJlZ2lzdGVyOigpPT5tLG1pbmltaXplOigpPT53LHJlZ2lzdGVyOigpPT5nLHNob3c6KCk9Pnl9KTt2YXIgdD17fTthLnIodCksYS5kKHQse01pY3Jvc29mdDM2NVdvcmtmbG93SW50ZWdyYXRpb246KCk9PkVlfSk7dmFyIHI9YSg3MjMpLG89YSg3ODYpLGk9YSgyNzcpLHM9YSg3MCksYz1hKDY5NSksZD1hKDc5KTt2YXIgbD1hKDI0OCksdT1hKDYwMCk7bGV0IHAsaDtjb25zdCBmPShlPVtdKT0+e2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PiEhZS5pZCkpLm1hcCgoZT0+ZS5pZCkpO2lmKG5ldyBTZXQodCkuc2l6ZSE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkRvY2sgcHJvdmlkZXIgYnV0dG9ucyBtdXN0IGhhdmUgdW5pcXVlIGlkZW50aWZpZXJzIGlmIHNwZWNpZmllZC5cIil9LGc9YXN5bmMgZT0+eygwLGwuSCkoXCJkb2NrXCIscy5UNyk7Y29uc3QgdD1hd2FpdChhc3luYyBlPT57YXdhaXQoMCxkLktaKShmaW4ubWUuaWRlbnRpdHkpO2NvbnN0IHQ9YXdhaXQoMCxjLk43KSgpO2lmKGgpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdXNpbmcgYERvY2sucmVnaXN0ZXJgLiBBIERvY2sgcHJvdmlkZXIgZm9yIHRoaXMgV29ya3NwYWNlIFBsYXRmb3JtIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gQ2FsbCBgRG9jay5kZXJlZ2lzdGVyYCBiZWZvcmUgY2FsbGluZyBgRG9jay5yZWdpc3RlcmAgYWdhaW4uXCIpO3JldHVybiBoPWUsZS5jbGllbnRBUElWZXJzaW9uPXIuZXQsdC5kaXNwYXRjaChcInJlZ2lzdGVyLXByb3ZpZGVyXCIse3Byb3ZpZGVyVHlwZTpcImRvY2tcIixpbmZvOmV9KX0pKGUpO3JldHVybiBwPW5ldyBQcm9taXNlKCgoYSxuKT0+e3RyeXsoZT0+e2Uud29ya3NwYWNlQ29tcG9uZW50cyYmIUFycmF5LmlzQXJyYXkoZS53b3Jrc3BhY2VDb21wb25lbnRzKSYmY29uc29sZS53YXJuKFwiVXNpbmcgdGhlIGBXb3Jrc3BhY2VDb21wb25lbnRCdXR0b25PcHRpb25zYCB0eXBlIHRvIGNvbmZpZ3VyZSB0aGUgV29ya3NwYWNlIENvbXBvbmVudHMgQnV0dG9ucyBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBXb3Jrc3BhY2VCdXR0b25zQ29uZmlnYCBpbnN0ZWFkLlwiKX0pKGUpLGYoZS5idXR0b25zKSwoMCxpLmtpKSh7YWxsb3dlZDohMCxjb21wb25lbnRWZXJzaW9uOnQ/LndvcmtzcGFjZVZlcnNpb259KSxyLmV0LGEoe2NsaWVudEFQSVZlcnNpb246ci5ldCx3b3Jrc3BhY2VWZXJzaW9uOnQ/LndvcmtzcGFjZVZlcnNpb24/P1wiXCIsdXBkYXRlRG9ja1Byb3ZpZGVyQ29uZmlnOmFzeW5jIHQ9PntpZighaCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB1c2luZyBgRG9jay51cGRhdGVEb2NrUHJvdmlkZXJDb25maWdgLiBEb2NrIHByb3ZpZGVyIGlzIG5vdCByZWdpc3RlcmVkLiBNYWtlIHN1cmUgdG8gY2FsbCBgRG9jay5yZWdpc3RlcmAgZmlyc3QuXCIpO2YodC5idXR0b25zKTtjb25zdCBhPWF3YWl0KDAsYy5ONykoKTthd2FpdCBhLmRpc3BhdGNoKFwidXBkYXRlLXByb3ZpZGVyXCIse3Byb3ZpZGVyVHlwZTpcImRvY2tcIixwcm92aWRlcjp7Li4uZSx3b3Jrc3BhY2VDb21wb25lbnRzOnQud29ya3NwYWNlQ29tcG9uZW50cyxidXR0b25zOnQuYnV0dG9ucyx0aXRsZTp0LnRpdGxlLGljb246dC5pY29uLGRpc2FibGVVc2VyUmVhcnJhbmdlbWVudDp0LmRpc2FibGVVc2VyUmVhcnJhbmdlbWVudCxpZDplLmlkfX0pfX0pfWNhdGNoKGUpeygwLGkua2kpKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZSBpbnN0YW5jZW9mIEVycm9yP2UubWVzc2FnZTpcInVua25vd25cIn0pLG4oZSkscD12b2lkIDB9ZmluYWxseXtvLkEubWFya0VuZEFuZE1lYXN1cmUoXCJkb2NrLXJlZ2lzdHJhdGlvblwiKX19KSkscH0sbT1hc3luYygpPT57aWYoYXdhaXQgcCwhaCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB1c2luZyBgRG9jay5kZXJlZ2lzdGVyYC4gRG9jayBwcm92aWRlciBpcyBub3QgcmVnaXN0ZXJlZC4gQ2FsbCBgRG9jay5yZWdpc3RlcmAgYmVmb3JlIGNhbGxpbmcgYERvY2suZGVyZWdpc3RlcmAuXCIpO2NvbnN0IGU9YXdhaXQoMCxjLk43KSgpO2F3YWl0IGUuZGlzcGF0Y2goXCJkZXJlZ2lzdGVyLXByb3ZpZGVyXCIse3Byb3ZpZGVyVHlwZTpcImRvY2tcIixpZDpoLmlkfSksaD12b2lkIDAscD12b2lkIDB9LHc9YXN5bmMoKT0+e2F3YWl0IHAsYXdhaXQoMCxjLm5BKSgpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCgwLGMucDQpKCkpLmRpc3BhdGNoKFwiaGlkZS1wcm92aWRlci13aW5kb3dcIix7cHJvdmlkZXJUeXBlOmV9KSkoXCJkb2NrXCIpfSx5PWFzeW5jKCk9PntvLkEubWFya1N0YXJ0KFwiZG9jay1zaG93XCIpLGF3YWl0IHAsYXdhaXQoMCxjLm5BKSgpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCgwLGMucDQpKCkpLmRpc3BhdGNoKFwic2hvdy1wcm92aWRlci13aW5kb3dcIix7cHJvdmlkZXJUeXBlOmV9KSkoXCJkb2NrXCIpfTt2YXIgayx2LGIsUz1hKDgzNCksUD1mdW5jdGlvbihlLHQsYSxuLHIpe2lmKFwibVwiPT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO2lmKFwiYVwiPT09biYmIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhcjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwiYVwiPT09bj9yLmNhbGwoZSxhKTpyP3IudmFsdWU9YTp0LnNldChlLGEpLGF9LEM9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfTtrPW5ldyBXZWFrTWFwLHY9bmV3IFdlYWtNYXAsYj1uZXcgV2Vha01hcDtjb25zdCBBPWNsYXNze2NvbnN0cnVjdG9yKGUpe2suc2V0KHRoaXMsdm9pZCAwKSx2LnNldCh0aGlzLHZvaWQgMCksYi5zZXQodGhpcyx2b2lkIDApLFAodGhpcyxrLGUsXCJmXCIpLFAodGhpcyx2LG5ldyBNYXAsXCJmXCIpLFAodGhpcyxiLFtdLFwiZlwiKX1nZXQoZSl7aWYoQyh0aGlzLHYsXCJmXCIpLmhhcyhlKSlyZXR1cm4gdGhpcy51cGRhdGVRdWV1ZShlKSxDKHRoaXMsdixcImZcIikuZ2V0KGUpfWhhcyhlKXtyZXR1cm4gQyh0aGlzLHYsXCJmXCIpLmhhcyhlKX1wdXQoZSx0KXtpZihDKHRoaXMsdixcImZcIikuaGFzKGUpKUModGhpcyx2LFwiZlwiKS5zZXQoZSx0KSx0aGlzLnVwZGF0ZVF1ZXVlKGUpO2Vsc2V7aWYoQyh0aGlzLGIsXCJmXCIpLmxlbmd0aD09PUModGhpcyxrLFwiZlwiKSl7Y29uc3QgZT1DKHRoaXMsYixcImZcIikuc2hpZnQoKTtlJiZDKHRoaXMsdixcImZcIikuZGVsZXRlKGUpfUModGhpcyx2LFwiZlwiKS5zZXQoZSx0KSxDKHRoaXMsYixcImZcIikucHVzaChlKX19dXBkYXRlUXVldWUoZSl7Y29uc3QgdD1DKHRoaXMsYixcImZcIikuaW5kZXhPZihlKTstMSE9PXQmJihDKHRoaXMsYixcImZcIikuc3BsaWNlKHQsMSksQyh0aGlzLGIsXCJmXCIpLnB1c2goZSkpfX07ZnVuY3Rpb24geChlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIE0oZSwuLi50KXtpZighdC5sZW5ndGgpcmV0dXJuIGU7Y29uc3QgYT10LnNoaWZ0KCk7cmV0dXJuIHgoZSkmJngoYSkmJk9iamVjdC5lbnRyaWVzKGEpLmZvckVhY2goKChbdCxhXSk9PntpZih4KGEpKXJldHVybiBlW3RdfHwoZVt0XT17fSksTShlW3RdLGEpO2VbdF09YX0pKSxNKGUsLi4udCl9dmFyIEksRixXLFQsRCxPPWEoMTgxKSxFPWEoNTIzKSxfPWZ1bmN0aW9uKGUsdCxhLG4scil7aWYoXCJtXCI9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7aWYoXCJhXCI9PT1uJiYhcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFyOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJhXCI9PT1uP3IuY2FsbChlLGEpOnI/ci52YWx1ZT1hOnQuc2V0KGUsYSksYX0sQj1mdW5jdGlvbihlLHQsYSxuKXtpZihcImFcIj09PWEmJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IW46IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJtXCI9PT1hP246XCJhXCI9PT1hP24uY2FsbChlKTpuP24udmFsdWU6dC5nZXQoZSl9O0Y9bmV3IFdlYWtNYXAsVz1uZXcgV2Vha01hcCxUPW5ldyBXZWFrTWFwLEk9bmV3IFdlYWtTZXQsRD1mdW5jdGlvbigpe2NvbnN0IGU9QXJyYXkuZnJvbShCKHRoaXMsRixcImZcIikuZW50cmllcygpKS5yZWR1Y2UoKChlLHQpPT4hZXx8dFsxXS50aW1lc3RhbXA8ZVsxXS50aW1lc3RhbXA/dDplKSxudWxsKTtyZXR1cm4gZT9lWzBdOm51bGx9O2NvbnN0IFI9Y2xhc3N7Y29uc3RydWN0b3IoZT0zZTUsdD0xMDApe0kuYWRkKHRoaXMpLEYuc2V0KHRoaXMsdm9pZCAwKSxXLnNldCh0aGlzLHZvaWQgMCksVC5zZXQodGhpcyx2b2lkIDApLF8odGhpcyxGLG5ldyBNYXAsXCJmXCIpLF8odGhpcyxXLGUsXCJmXCIpLF8odGhpcyxULHQsXCJmXCIpfWdldChlKXtjb25zdCB0PUIodGhpcyxGLFwiZlwiKS5nZXQoZSk7aWYoIXQpcmV0dXJuIG51bGw7cmV0dXJuIERhdGUubm93KCktdC50aW1lc3RhbXA8Qih0aGlzLFcsXCJmXCIpP3QudmFsdWU6KEIodGhpcyxGLFwiZlwiKS5kZWxldGUoZSksbnVsbCl9cHV0KGUsdCl7aWYoQih0aGlzLEYsXCJmXCIpLnNpemU+PUIodGhpcyxULFwiZlwiKSl7Y29uc3QgZT1CKHRoaXMsSSxcIm1cIixEKS5jYWxsKHRoaXMpO251bGwhPWUmJkIodGhpcyxGLFwiZlwiKS5kZWxldGUoZSl9Qih0aGlzLEYsXCJmXCIpLnNldChlLHt2YWx1ZTp0LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9cmVtb3ZlKGUpe0IodGhpcyxGLFwiZlwiKS5kZWxldGUoZSl9Y2xlYXIoKXtCKHRoaXMsRixcImZcIikuY2xlYXIoKX19O3ZhciAkLEw9YSgzMzMpLE49YSg4NzIpLEc9ZnVuY3Rpb24oZSx0LGEsbil7aWYoXCJhXCI9PT1hJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFuOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO3JldHVyblwibVwiPT09YT9uOlwiYVwiPT09YT9uLmNhbGwoZSk6bj9uLnZhbHVlOnQuZ2V0KGUpfTtjb25zdCBVPXt9O2NsYXNzIFZ7Y29uc3RydWN0b3IoZSl7JC5zZXQodGhpcyxuZXcgU2V0KSx0aGlzLl9pbml0aWFsaXplV29ya2Zsb3dzPWFzeW5jKGU9dGhpcy5jb25maWcpPT57Y29uc3R7d29ya2Zsb3dzOnR9PWU7Zm9yKGNvbnN0IGUgaW4gdCl7aWYoIXRbZV0uZGlzYWJsZUF1dG9Jbml0aWFsaXplKXRyeXtHKHRoaXMsJCxcImZcIikuaGFzKGUpP2NvbnNvbGUud2FybihgV29ya2Zsb3cgJHtlfSBhbHJlYWR5IGluaXRpYWxpemVkLmApOihHKHRoaXMsJCxcImZcIikuYWRkKGUpLGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVdvcmtmbG93KGUpKX1jYXRjaCh0KXtHKHRoaXMsJCxcImZcIikuZGVsZXRlKGUpLGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlZ2lzdGVyaW5nICR7ZX06YCx0KX19fTtjb25zdCB0PU0oe30sVSxlKTt0aGlzLmNvbmZpZz10fWFzeW5jIGluaXRpYWxpemVXb3JrZmxvdyhlKXtHKHRoaXMsJCxcImZcIikuYWRkKGUpfX0kPW5ldyBXZWFrTWFwO2NvbnN0IEg9cmVxdWlyZShcIkBvcGVuZmluL21pY3Jvc29mdDM2NVwiKTtsZXQgej0wO2NvbnN0IHE9e2NoYXRNZXNzYWdlOlwiQ2hhdCBNZXNzYWdlXCIsZXZlbnQ6XCJFdmVudFwiLG1lc3NhZ2U6XCJFbWFpbFwiLGRyaXZlOlwiRG9jdW1lbnRcIixjb250YWN0OlwiQ29udGFjdFwiLHVzZXI6XCJVc2VyXCIsbGlzdDpcIkxpc3RcIn0saj17cGRmOlwiUERGXCIsZG9jeDpcIldvcmRcIixwcHR4OlwiUG93ZXJQb2ludFwiLHhsc3g6XCJFeGNlbFwiLG9uZW5vdGU6XCJPbmVOb3RlXCJ9LEs9e2NoYXRNZXNzYWdlOltcIkNoYXQuUmVhZFwiLFwiQ2hhbm5lbE1lc3NhZ2UuUmVhZC5BbGxcIl0sbGlzdDpbXCJTaXRlcy5SZWFkLkFsbFwiXSxldmVudDpbXCJDYWxlbmRhcnMuUmVhZFwiXSxtZXNzYWdlOltcIk1haWwuUmVhZFdyaXRlLlNoYXJlZFwiXSxjb250YWN0OltcIkNvbnRhY3RzLlJlYWQuU2hhcmVkXCIsXCJNYWlsLlJlYWRXcml0ZS5TaGFyZWRcIl0sdXNlcjpbXCJVc2VyLlJlYWQuQWxsXCIsXCJQcmVzZW5jZS5SZWFkLkFsbFwiXX0sWD1cIk1JQ1JPU09GVF8zNjVfU0VBUkNIX1RZUEVfRklMVEVSXCIsUT1cIk1JQ1JPU09GVF8zNjVfU0VBUkNIX0ZJTEVfVFlQRV9GSUxURVJcIixZPVwiTUlDUk9TT0ZUXzM2NV9TRUFSQ0hfREVQQVJUTUVOVF9GSUxURVJcIixaPVwiTUlDUk9TT0ZUXzM2NV9TRUFSQ0hfSk9CX1RJVExFX0ZJTFRFUlwiLEo9XCJUZWFtcyBDYWxsXCIsZWU9XCJUZWFtcyBDaGF0XCIsdGU9XCJFbWFpbFwiLGFlPShlLHQpPT57Y29uc3QgYT1bXSxuPXtpdGVtOmUuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1YKSksZG9jdW1lbnRUeXBlOmUuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1RKSl9LHI9W3t2YWx1ZTpcIkRvY3VtZW50XCIsaXNTZWxlY3RlZDohIW4uaXRlbT8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTplfSk9PlwiRmlsZVwiPT09ZSkpPy5pc1NlbGVjdGVkfSx7dmFsdWU6XCJDb250YWN0XCIsaXNTZWxlY3RlZDohIW4uaXRlbT8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTplfSk9PlwiQ29udGFjdFwiPT09ZSkpPy5pc1NlbGVjdGVkfSx7dmFsdWU6XCJDaGF0IE1lc3NhZ2VcIixpc1NlbGVjdGVkOiEhbi5pdGVtPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJDaGF0IE1lc3NhZ2VcIj09PWUpKT8uaXNTZWxlY3RlZH0se3ZhbHVlOlwiRW1haWxcIixpc1NlbGVjdGVkOiEhbi5pdGVtPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJFbWFpbFwiPT09ZSkpPy5pc1NlbGVjdGVkfSx7dmFsdWU6XCJFdmVudFwiLGlzU2VsZWN0ZWQ6ISFuLml0ZW0/Lm9wdGlvbnM/LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkV2ZW50XCI9PT1lKSk/LmlzU2VsZWN0ZWR9LHt2YWx1ZTpcIkxpc3RcIixpc1NlbGVjdGVkOiEhbi5pdGVtPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJMaXN0XCI9PT1lKSk/LmlzU2VsZWN0ZWR9XTtyZXR1cm4gYS5wdXNoKHtpZDpYLHRpdGxlOlwiVHlwZVwiLHR5cGU6Ti5vby5NdWx0aVNlbGVjdCxvcHRpb25zOnIuZmlsdGVyKChlPT50LmhhcyhlLnZhbHVlKSkpfSksXCJEb2N1bWVudFwiPT09bi5pdGVtPy5vcHRpb25zPy5maWx0ZXIoKGU9PmUuaXNTZWxlY3RlZCkpPy5bMF0udmFsdWUmJmEucHVzaCh7aWQ6USx0aXRsZTpcIkZpbGUgVHlwZVwiLHR5cGU6Ti5vby5NdWx0aVNlbGVjdCxvcHRpb25zOk9iamVjdC5lbnRyaWVzKGopLm1hcCgoKFssZV0pPT4oe3ZhbHVlOmUsaXNTZWxlY3RlZDohIW4uZG9jdW1lbnRUeXBlPy5vcHRpb25zPy5maWx0ZXIoKGU9PmUuaXNTZWxlY3RlZCkpPy5maW5kKCgoe3ZhbHVlOmV9KT0+XCJGaWxlXCI9PT1lKSk/LmlzU2VsZWN0ZWR9KSkpfSksYX0sbmU9KGUsdCk9Pntjb25zdCBhPXQuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1YKSk/Lm9wdGlvbnM7aWYoIUFycmF5LmlzQXJyYXkoYSl8fCFhLmZpbmQoKGU9PlwiQ29udGFjdFwiPT09ZS52YWx1ZXx8XCJVc2VyXCI9PT1lLnZhbHVlKSk/LmlzU2VsZWN0ZWQpcmV0dXJuW107Y29uc3R7ZGVwYXJ0bWVudDpuLGpvYlRpdGxlOnJ9PWUucmVkdWNlKCgoZSx0KT0+KHQuZGVwYXJ0bWVudCYmZS5kZXBhcnRtZW50LmFkZCh0LmRlcGFydG1lbnQpLHQuam9iVGl0bGUmJmUuam9iVGl0bGUuYWRkKHQuam9iVGl0bGUpLGUpKSx7ZGVwYXJ0bWVudDpuZXcgU2V0LGpvYlRpdGxlOm5ldyBTZXR9KSxvPXQuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1ZKSksaT1BcnJheS5mcm9tKG4pLm1hcCgoZT0+KHt2YWx1ZTplLGlzU2VsZWN0ZWQ6ISFvPy5vcHRpb25zPy5maW5kKCgoe3ZhbHVlOnR9KT0+dD09PWUpKT8uaXNTZWxlY3RlZH0pKSkscz10LmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09WSkpLGM9QXJyYXkuZnJvbShyKS5tYXAoKGU9Pih7dmFsdWU6ZSxpc1NlbGVjdGVkOiEhcz8ub3B0aW9ucz8uZmluZCgoKHt2YWx1ZTp0fSk9PnQ9PT1lKSk/LmlzU2VsZWN0ZWR9KSkpO3JldHVyblt7aWQ6WSx0aXRsZTpcIkRlcGFydG1lbnRcIix0eXBlOk4ub28uTXVsdGlTZWxlY3Qsb3B0aW9uczppfSx7aWQ6Wix0aXRsZTpcIkpvYiBUaXRsZVwiLHR5cGU6Ti5vby5NdWx0aVNlbGVjdCxvcHRpb25zOmN9XX0scmU9ZT0+e2NvbnN0IHQ9ZS5jb250ZXh0LnNlbGVjdGVkRmlsdGVycz8uZmluZCgoZT0+ZS5pZD09PVkpKSxhPUFycmF5LmlzQXJyYXkodD8ub3B0aW9ucyk/dC5vcHRpb25zLmZpbHRlcigoZT0+ZS5pc1NlbGVjdGVkKSkubWFwKChlPT5lLnZhbHVlKSk6W10sbj1lLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09WikpO3JldHVybntkZXBhcnRtZW50OmEsam9iVGl0bGU6QXJyYXkuaXNBcnJheShuPy5vcHRpb25zKT9uLm9wdGlvbnMuZmlsdGVyKChlPT5lLmlzU2VsZWN0ZWQpKS5tYXAoKGU9PmUudmFsdWUpKTpbXX19LG9lPShlLHQpPT57Y29uc3R7ZGVwYXJ0bWVudDphLGpvYlRpdGxlOm59PXQ7cmV0dXJuIGUuZmlsdGVyKChlPT4oIWEubGVuZ3RofHxhLmluY2x1ZGVzKGUuZGVwYXJ0bWVudCkpJiYoIW4ubGVuZ3RofHxuLmluY2x1ZGVzKGUuam9iVGl0bGUpKSkpfSxpZT1lPT57Y29uc3QgdD1BcnJheS5pc0FycmF5KGUuY29udGV4dC5zZWxlY3RlZEZpbHRlcnM/LmZpbmQoKGU9PmUuaWQ9PT1RKSk/Lm9wdGlvbnMpP2UuY29udGV4dC5zZWxlY3RlZEZpbHRlcnMuZmluZCgoZT0+ZS5pZD09PVEpKT8ub3B0aW9uczpbXTtyZXR1cm57ZmlsdGVyRmlsZXM6dCYmdC5zb21lKCgoe2lzU2VsZWN0ZWQ6ZX0pPT5lKSksc2hvd1dvcmQ6dC5maW5kKCgoe3ZhbHVlOmV9KT0+XCJXb3JkXCI9PT1lKSk/LmlzU2VsZWN0ZWQsc2hvd0V4Y2VsOnQuZmluZCgoKHt2YWx1ZTplfSk9PlwiRXhjZWxcIj09PWUpKT8uaXNTZWxlY3RlZCxzaG93UG93ZXJQb2ludDp0LmZpbmQoKCh7dmFsdWU6ZX0pPT5cIlBvd2VyUG9pbnRcIj09PWUpKT8uaXNTZWxlY3RlZCxzaG93UERGOnQuZmluZCgoKHt2YWx1ZTplfSk9PlwiUERGXCI9PT1lKSk/LmlzU2VsZWN0ZWQsc2hvd09uZU5vdGU6dC5maW5kKCgoe3ZhbHVlOmV9KT0+XCJPbmVOb3RlXCI9PT1lKSk/LmlzU2VsZWN0ZWR9fSxzZT0oZSx0KT0+e2NvbnN0IGE9W107cmV0dXJuIHQuc2hvd1dvcmQmJmEucHVzaChcIi5kb2N4XCIpLHQuc2hvd0V4Y2VsJiZhLnB1c2goXCIueGxzeFwiKSx0LnNob3dQb3dlclBvaW50JiZhLnB1c2goXCIucHB0eFwiKSx0LnNob3dQREYmJmEucHVzaChcIi5wZGZcIiksdC5zaG93T25lTm90ZSYmYS5wdXNoKFwiLm9uZVwiKSxlLmZpbHRlcigoZT0+e2lmKGUuZmlsZSl7Y29uc3QgdD1lLm5hbWUuc3Vic3RyaW5nKGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIikpO3JldHVybiBhLmluY2x1ZGVzKHQpfXJldHVybiExfSkpfSxjZT0oZT1cIlwiKT0+e3N3aXRjaChlLnNwbGl0KFwiLlwiKS5wb3AoKT8udG9Mb3dlckNhc2UoKT8/XCJcIil7Y2FzZVwiZG9jeFwiOmNhc2VcImRvY1wiOnJldHVyblwiTWljcm9zb2Z0IFdvcmRcIjtjYXNlXCJ4bHN4XCI6Y2FzZVwieGxzXCI6cmV0dXJuXCJNaWNyb3NvZnQgRXhjZWxcIjtjYXNlXCJwcHR4XCI6Y2FzZVwicHB0XCI6cmV0dXJuXCJNaWNyb3NvZnQgUG93ZXJQb2ludFwiO2Nhc2VcInBkZlwiOnJldHVyblwiUERGXCI7Y2FzZVwicG5nXCI6Y2FzZVwianBnXCI6Y2FzZVwianBlZ1wiOmNhc2VcImdpZlwiOnJldHVyblwiSW1hZ2VcIjtjYXNlXCJ0eHRcIjpyZXR1cm5cIlRleHRcIjtkZWZhdWx0OnJldHVyblwiRmlsZVwifX0sZGU9KGU9XCJcIik9Pntzd2l0Y2goZS5zcGxpdChcIi5cIikucG9wKCk/LnRvTG93ZXJDYXNlKCk/P1wiXCIpe2Nhc2VcImRvY3hcIjpjYXNlXCJkb2NcIjpyZXR1cm4oMCxFLk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVEb2N1bWVudEljb24pO2Nhc2VcInhsc3hcIjpjYXNlXCJ4bHNcIjpyZXR1cm4oMCxFLk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVFeGNlbEljb24pO2Nhc2VcInBwdHhcIjpjYXNlXCJwcHRcIjpyZXR1cm4oMCxFLk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVQb3dlcnBvaW50SWNvbik7Y2FzZVwicGRmXCI6cmV0dXJuKDAsRS5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuUERGRmlsZUljb24pO2RlZmF1bHQ6cmV0dXJufX0sbGU9ZT0+ZS5yZXBsYWNlKC9cXCsvZyxcIl9cIikucmVwbGFjZSgvXFwvL2csXCItXCIpO3ZhciB1ZSxwZSxoZSxmZSxnZSxtZSx3ZSx5ZSxrZSx2ZSxiZSxTZSxQZSxDZSxBZSx4ZSxNZSxJZSxGZSxXZSxUZSxEZT1mdW5jdGlvbihlLHQsYSxuKXtpZihcImFcIj09PWEmJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IW46IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJtXCI9PT1hP246XCJhXCI9PT1hP24uY2FsbChlKTpuP24udmFsdWU6dC5nZXQoZSl9LE9lPWZ1bmN0aW9uKGUsdCxhLG4scil7aWYoXCJtXCI9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7aWYoXCJhXCI9PT1uJiYhcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZSE9PXR8fCFyOiF0LmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJhXCI9PT1uP3IuY2FsbChlLGEpOnI/ci52YWx1ZT1hOnQuc2V0KGUsYSksYX07Y2xhc3MgRWUgZXh0ZW5kcyBWe2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9TSh7fSx7d29ya2Zsb3dzOntzZWFyY2g6KHorPTEse2hvbWVQcm92aWRlcjp7ZGVzY3JpcHRpb246XCJNaWNyb3NvZnQgMzY1IHNlYXJjaCByZXN1bHRzIHByb3ZpZGVyXCIsaWQ6YE1TMzY1LSR7ZmluLm1lLmlkZW50aXR5LnV1aWR9LSR7en1gLGxvZ29Vcmw6KDAsRS5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1SWNvbiksaWNvbjooMCxFLk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVJY29uKSx0aXRsZTpcIk1pY3Jvc29mdCAzNjUgU2VhcmNoXCIsaW5wdXRQbGFjZWhvbGRlcjpcIldoYXQgd291bGQgeW91IGxpa2UgdG8gc2VhcmNoIGluIE1pY3Jvc29mdCAzNjUgdG9kYXk/XCIsZGlzcGF0Y2hGb2N1c0V2ZW50czohMH0sbWljcm9zb2Z0RW50aXR5VHlwZUNvbmZpZzp7bWVzc2FnZTohMCxjaGF0TWVzc2FnZTohMCxkcml2ZTohMCxldmVudDohMCx1c2VyOiEwLGNvbnRhY3Q6ITAsbGlzdDohMH0sdXNlVGVhbXNEZWVwTGluazohMH0pfX0sZSk7c3VwZXIodCksdWUuYWRkKHRoaXMpLHBlLnNldCh0aGlzLHZvaWQgMCksdGhpcy53b3JrZmxvd0ludGVncmF0aW9uTmFtZT1cIk1pY3Jvc29mdCAzNjVcIixoZS5zZXQodGhpcyx2b2lkIDApLGZlLnNldCh0aGlzLHZvaWQgMCksZ2Uuc2V0KHRoaXMsMSksbWUuc2V0KHRoaXMsbmV3IFNldCksd2Uuc2V0KHRoaXMsbmV3IEEoMTAwKSkseWUuc2V0KHRoaXMsbmV3IFIoNmU0KSksdGhpcy5jb25uZWN0PWFzeW5jKGU9dGhpcy5jb25maWcuY29ubmVjdCk9Pntjb25zdHtjbGllbnRJZDp0LHRlbmFudElkOmEscmVkaXJlY3RVcmk6bn09ZSxyPXRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoP09iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnLndvcmtmbG93cz8uc2VhcmNoPy5taWNyb3NvZnRFbnRpdHlUeXBlQ29uZmlnPz97fSkuZmlsdGVyKCgoW2UsdF0pPT50KSkubWFwKCgoW2VdKT0+S1tlXSkpLmZpbHRlcigoZT0+dm9pZCAwIT09ZSkpLmZsYXQoKTpbXTt0aGlzLmNvbmZpZy5jb25uZWN0PWUsT2UodGhpcyxwZSxhd2FpdCgwLEguY29ubmVjdCkodCxhLG4sWy4uLm5ldyBTZXQocildKSxcImZcIil9LGtlLnNldCh0aGlzLCgoKT0+e2lmKCFEZSh0aGlzLHBlLFwiZlwiKSl0aHJvdyBuZXcgRXJyb3IoXCJNaWNyb3NvZnQzNjVXb3JrZmxvd0ludGVncmF0aW9uIG5vdCBjb25uZWN0ZWRcIik7cmV0dXJuIERlKHRoaXMscGUsXCJmXCIpfSkpLENlLnNldCh0aGlzLChhc3luYyBlPT57aWYoT2UodGhpcyxmZSxlLFwiZlwiKSxlLmRhdGE/Lml0ZW0/LmlkKXtjb25zdCB0PURlKHRoaXMseWUsXCJmXCIpLmdldChlLmRhdGEuaXRlbS5pZCk7aWYodClyZXR1cm4gdm9pZCBEZSh0aGlzLGhlLFwiZlwiKS5yZXNwb25kKFt0XSl9aWYoXCJ1c2VyXCI9PT1lLmRhdGE/LnR5cGUpRGUodGhpcyxGZSxcImZcIikuY2FsbCh0aGlzLGUpfSkpLEFlLnNldCh0aGlzLChhc3luYyBlPT57YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KHtsYXlvdXQ6e2NvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e3VybDplfX1dfV19LHdvcmtzcGFjZVBsYXRmb3JtOnZvaWQgMH0pfSkpLHhlLnNldCh0aGlzLChhc3luYyBlPT57aWYoZS5kYXRhLml0ZW0uY2hhbm5lbElkZW50aXR5LnRlYW1JZCl7Y29uc3QgdD1uZXcgVVJMKGBtc3RlYW1zOi9sL2NoYW5uZWwvJHtlLmRhdGEuaXRlbS5jaGFubmVsSWRlbnRpdHkuY2hhbm5lbElkfS8ke2UuZGF0YS5pdGVtLmlkfWApO3JldHVybiExPT09dGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmsmJih0LnByb3RvY29sPVwiaHR0cHM6XCIpLHQuc2VhcmNoUGFyYW1zLmFwcGVuZChcImNvbnRleHRcIixKU09OLnN0cmluZ2lmeSh7Y29udGV4dFR5cGU6XCJjaGFubmVsXCJ9KSksdm9pZCBhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3Nlcih0LnRvU3RyaW5nKCkpfWNvbnN0IHQ9bmV3IFVSTChgbXN0ZWFtczovbC9tZXNzYWdlLyR7ZS5kYXRhLml0ZW0uY2hhdElkfS8ke2UuZGF0YS5pdGVtLmlkfWApOyExPT09dGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmsmJih0LnByb3RvY29sPVwiaHR0cHM6XCIpLHQuc2VhcmNoUGFyYW1zLmFwcGVuZChcImNvbnRleHRcIixKU09OLnN0cmluZ2lmeSh7Y29udGV4dFR5cGU6XCJjaGF0XCJ9KSksYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIodC50b1N0cmluZygpKX0pKSxNZS5zZXQodGhpcywoYXN5bmMgZT0+e3N3aXRjaChlLmFjdGlvbi5uYW1lKXtjYXNlIEo6e2NvbnN0IHQ9bmV3IEguVGVhbXNDb25uZWN0aW9uKERlKHRoaXMsa2UsXCJmXCIpLmNhbGwodGhpcyksdGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmspO0RlKHRoaXMsdWUsXCJtXCIsdmUpLmNhbGwodGhpcywoKCk9PnQuc3RhcnRDYWxsKFtlLmRhdGEuaXRlbS5tYWlsXSkpKTticmVha31jYXNlIHRlOntjb25zdCB0PWF3YWl0IHRoaXMuZXhlY3V0ZUFwaVJlcXVlc3QoXCIvdjEuMC9tZS9tZXNzYWdlc1wiLFwiUE9TVFwiLHt0b1JlY2lwaWVudHM6W3tlbWFpbEFkZHJlc3M6e2FkZHJlc3M6ZS5kYXRhLml0ZW0ubWFpbH19XX0pO2xldCBhPXQuZGF0YS53ZWJMaW5rO2NvbnN0IG49bmV3IFVSTCh0LmRhdGEud2ViTGluayk7aWYoXCIvb3dhL1wiPT09bi5wYXRobmFtZSl7Y29uc3QgZT1uLnNlYXJjaC5zbGljZSgxKS5zcGxpdChcIiZcIikucmVkdWNlKCgoZSx0KT0+e2NvbnN0W2Esbl09dC5zcGxpdChcIj1cIik7cmV0dXJuIGVbYV09bixlfSkse30pO2lmKGUuSXRlbUlEKXtjb25zdCB0PWUuSXRlbUlEO2E9YCR7bi5vcmlnaW59L21haWwvZGVlcGxpbmsvY29tcG9zZS8ke3R9P0l0ZW1JRD0ke3R9JmV4dnN1cmw9MWB9fWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVZpZXcoe3VybDphfSk7YnJlYWt9Y2FzZSBlZTp7Y29uc3QgdD1EZSh0aGlzLGtlLFwiZlwiKS5jYWxsKHRoaXMpLGE9bmV3IEguVGVhbXNDb25uZWN0aW9uKHQsdGhpcy5jb25maWcud29ya2Zsb3dzPy5zZWFyY2g/LnVzZVRlYW1zRGVlcExpbmspO0RlKHRoaXMsdWUsXCJtXCIsdmUpLmNhbGwodGhpcywoKCk9PmEuc3RhcnRDaGF0KHtlbWFpbEFkZHJlc3NlczpbdC5jdXJyZW50VXNlci5tYWlsLGUuZGF0YS5pdGVtLm1haWxdfSkpKTticmVha31kZWZhdWx0OmNvbnNvbGUud2FybihcIlVuaGFuZGxlZCB1c2VyIGFjdGlvbiBmb3IgcmVzdWx0OlwiLGUsYFVua25vd24gYWN0aW9uIFwiJHtlLmFjdGlvbi5uYW1lfVwiYCl9fSkpLEllLnNldCh0aGlzLChhc3luYyBlPT57c3dpdGNoKGUuZGF0YS50eXBlKXtjYXNlXCJkcml2ZUl0ZW1cIjpEZSh0aGlzLEFlLFwiZlwiKS5jYWxsKHRoaXMsZS5kYXRhLml0ZW0ud2ViVXJsKTticmVhaztjYXNlXCJldmVudFwiOntjb25zdCB0PWUuZGF0YS5pdGVtLGE9YXdhaXQgdGhpcy5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvbWUvZXZlbnRzLyR7dC5pZH1gKTtEZSh0aGlzLEFlLFwiZlwiKS5jYWxsKHRoaXMsYS5kYXRhLndlYkxpbmspO2JyZWFrfWNhc2VcImNoYXRNZXNzYWdlXCI6RGUodGhpcyx4ZSxcImZcIikuY2FsbCh0aGlzLGUpO2JyZWFrO2Nhc2VcIm1lc3NhZ2VcIjpEZSh0aGlzLEFlLFwiZlwiKS5jYWxsKHRoaXMsZS5kYXRhLml0ZW0ud2ViTGluayk7YnJlYWs7Y2FzZVwibGlzdFwiOntjb25zdCB0PWUuZGF0YS5pdGVtLGE9YXdhaXQgdGhpcy5leGVjdXRlQXBpUmVxdWVzdChgL3YxLjAvc2l0ZXMvJHt0LnBhcmVudFJlZmVyZW5jZT8uc2l0ZUlkfS9saXN0cy8ke3QuaWR9YCk7RGUodGhpcyxBZSxcImZcIikuY2FsbCh0aGlzLGEuZGF0YS53ZWJVcmwpO2JyZWFrfWNhc2VcInVzZXJcIjpEZSh0aGlzLE1lLFwiZlwiKS5jYWxsKHRoaXMsZSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJVbmhhbmRsZWQgdXNlciBhY3Rpb24gZm9yIHJlc3VsdDpcIixlLGBVbmtub3duIHJlc3VsdCB0eXBlIFwiJHtlLmRhdGEudHlwZX1cImApfX0pKSxGZS5zZXQodGhpcywoYXN5bmMgZT0+e2xldCB0LGE7Y29uc3Qgbj1bXSxyPWUuZGF0YS5pdGVtO0RlKHRoaXMsd2UsXCJmXCIpLmhhcyhyLmlkKT90PURlKHRoaXMsd2UsXCJmXCIpLmdldChyLmlkKTpuLnB1c2goe2lkOlwiY29udGFjdFBob3RvXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvdXNlcnMvJHtlLmRhdGEuaXRlbS5pZH0vcGhvdG8vJHZhbHVlYCxoZWFkZXJzOntDb25zaXN0ZW5jeUxldmVsOlwiZXZlbnR1YWxcIn19KSxuLnB1c2goe2lkOlwicHJlc2VuY2VcIixtZXRob2Q6XCJHRVRcIix1cmw6YC91c2Vycy8ke2UuZGF0YS5pdGVtLmlkfS9wcmVzZW5jZWB9KTt0cnl7Y29uc3QgZT1hd2FpdCBEZSh0aGlzLHVlLFwibVwiLGJlKS5jYWxsKHRoaXMsbiksaT1lLmRhdGE/LnJlc3BvbnNlcy5maW5kKChlPT5cImNvbnRhY3RQaG90b1wiPT09ZS5pZCkpO2kmJjIwMCE9PWkuc3RhdHVzJiZjb25zb2xlLndhcm4oXCJFcnJvciBmZXRjaGluZyB1c2VyIHBob3RvXCIsaSksaT8uYm9keSYmMjAwPT09aT8uc3RhdHVzJiYodD1gZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwke2kuYm9keX1gLERlKHRoaXMsd2UsXCJmXCIpLnB1dChyLmlkLHQpKTtjb25zdCBzPWUuZGF0YT8ucmVzcG9uc2VzLmZpbmQoKGU9PlwicHJlc2VuY2VcIj09PWUuaWQpKTsyMDAhPT1zLnN0YXR1cyYmY29uc29sZS53YXJuKFwiRXJyb3IgZmV0Y2hpbmcgdXNlciBwcmVzZW5jZVwiLHMpLHM/LmJvZHkmJjIwMD09PXMuc3RhdHVzJiYobz1zLmJvZHksYT17YXZhaWxhYmxlOlwiYXZhaWxhYmxlXCIsYXZhaWxhYmxlaWRsZTpcImF2YWlsYWJsZVwiLGF3YXk6XCJhd2F5XCIsYmVyaWdodGJhY2s6XCJhd2F5XCIsYnVzeTpcImJ1c3lcIixidXN5aWRsZTpcImJ1c3lcIixkb25vdGRpc3R1cmI6XCJkby1ub3QtZGlzdHVyYlwiLG9mZmxpbmU6XCJvZmZsaW5lXCIscHJlc2VuY2V1bmtub3duOlwib2ZmbGluZVwifVtvLmF2YWlsYWJpbGl0eT8udG9Mb3dlckNhc2UoKV0pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIGRhdGFcIixlKX12YXIgbztjb25zdCBpPVtbXCJEZXBhcnRtZW50XCIsci5kZXBhcnRtZW50fHxcIk4vQVwiXSxbXCJFbWFpbFwiLHIubWFpbHx8XCJOL0FcIl0sW1wiV29yayBQaG9uZVwiLHIuYnVzaW5lc3NQaG9uZXM/LlswXXx8XCJOL0FcIl0sW1wiTW9iaWxlXCIsci5tb2JpbGVQaG9uZXx8XCJOL0FcIl0sW1wiTG9jYXRpb25cIixyLm9mZmljZUxvY2F0aW9ufHxcIk4vQVwiXV0scz17Li4uZSx0ZW1wbGF0ZTpOLmZDLkNvbnRhY3QsdGVtcGxhdGVDb250ZW50OntuYW1lOmUuZGF0YS5pdGVtLmRpc3BsYXlOYW1lLHRpdGxlOmUuZGF0YS5pdGVtLmpvYlRpdGxlLGRldGFpbHM6W2ldLHBob3RvVXJsOnQsb25saW5lU3RhdHVzOmEsYnV0dG9uczpbe3R5cGU6XCJidXR0b25cIixpY29uOntsaWdodDooMCxFLk9YKShPLnNQLkNhbGxJY29uTGlnaHQpLGRhcms6KDAsRS5PWCkoTy5zUC5DYWxsSWNvbkRhcmspfSx0b29sdGlwOlwiVGVhbXMgQ2FsbFwiLGFjdGlvbjpKfSx7dHlwZTpcImJ1dHRvblwiLGljb246e2xpZ2h0OigwLEUuT1gpKE8uc1AuQ2hhdEljb25MaWdodCksZGFyazooMCxFLk9YKShPLnNQLkNoYXRJY29uRGFyayl9LHRvb2x0aXA6XCJDaGF0XCIsYWN0aW9uOmVlfSx7dHlwZTpcImJ1dHRvblwiLGljb246e2xpZ2h0OigwLEUuT1gpKE8uc1AuTWVzc2FnZUljb25MaWdodCksZGFyazooMCxFLk9YKShPLnNQLk1lc3NhZ2VJY29uRGFyayl9LHRvb2x0aXA6XCJFLW1haWxcIixhY3Rpb246dGV9XX19O0RlKHRoaXMseWUsXCJmXCIpLnB1dChlLmRhdGEuaXRlbS5pZCxzKSxEZSh0aGlzLGhlLFwiZlwiKS5yZXNwb25kKFtzXSl9KSksV2Uuc2V0KHRoaXMsKGFzeW5jKGUsdCk9PntpZihEZSh0aGlzLGhlLFwiZlwiKSYmRGUodGhpcyxoZSxcImZcIikuY2xvc2UoKSxPZSh0aGlzLGhlLHQsXCJmXCIpLERlKHRoaXMsaGUsXCJmXCIpLm9wZW4oKSxlLnF1ZXJ5Lmxlbmd0aDxEZSh0aGlzLGdlLFwiZlwiKSlyZXR1cm57cmVzdWx0czpbXX07Y29uc3QgYT1lbmNvZGVVUklDb21wb25lbnQoZS5xdWVyeSksbj1bXSxyPSgoZSx0KT0+e2NvbnN0IGE9QXJyYXkuaXNBcnJheShlLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzPy5maW5kKChlPT5lLmlkPT09WCkpPy5vcHRpb25zKT9lLmNvbnRleHQuc2VsZWN0ZWRGaWx0ZXJzLmZpbmQoKGU9PmUuaWQ9PT1YKSk/Lm9wdGlvbnM6W10sbj1hLmV2ZXJ5KCgoe2lzU2VsZWN0ZWQ6ZX0pPT4hZSkpO3JldHVybntzaG93RG9jdW1lbnRzOnQuaGFzKFwiRG9jdW1lbnRcIikmJihufHwhIWEuZmluZCgoKHt2YWx1ZTplfSk9PlwiRG9jdW1lbnRcIj09PWUpKT8uaXNTZWxlY3RlZCksc2hvd0NvbnRhY3RzOnQuaGFzKFwiQ29udGFjdFwiKSYmKG58fCEhYS5maW5kKCgoe3ZhbHVlOmV9KT0+XCJDb250YWN0XCI9PT1lKSk/LmlzU2VsZWN0ZWQpLHNob3dDaGF0TWVzc2FnZXM6dC5oYXMoXCJDaGF0IE1lc3NhZ2VcIikmJihufHwhIWEuZmluZCgoKHt2YWx1ZTplfSk9PlwiQ2hhdCBNZXNzYWdlXCI9PT1lKSk/LmlzU2VsZWN0ZWQpLHNob3dNZXNzYWdlczp0LmhhcyhcIkVtYWlsXCIpJiYobnx8ISFhLmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkVtYWlsXCI9PT1lKSk/LmlzU2VsZWN0ZWQpLHNob3dFdmVudHM6dC5oYXMoXCJFdmVudFwiKSYmKG58fCEhYS5maW5kKCgoe3ZhbHVlOmV9KT0+XCJFdmVudFwiPT09ZSkpPy5pc1NlbGVjdGVkKSxzaG93TGlzdHM6dC5oYXMoXCJMaXN0XCIpJiYobnx8ISFhLmZpbmQoKCh7dmFsdWU6ZX0pPT5cIkxpc3RcIj09PWUpKT8uaXNTZWxlY3RlZCl9fSkoZSxEZSh0aGlzLG1lLFwiZlwiKSk7aWYoci5zaG93RG9jdW1lbnRzKXtjb25zdCBlPWAnJHthfSdgO24ucHVzaCh7aWQ6XCJkcml2ZUl0ZW1cIixtZXRob2Q6XCJHRVRcIix1cmw6YC9tZS9kcml2ZS9yb290L3NlYXJjaChxPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGUpfSlgLGhlYWRlcnM6e0NvbnNpc3RlbmN5TGV2ZWw6XCJldmVudHVhbFwifX0pfWlmKHIuc2hvd0V2ZW50cyYmbi5wdXNoKHtpZDpcImV2ZW50XCIsdXJsOlwiL3NlYXJjaC9xdWVyeVwiLG1ldGhvZDpcIlBPU1RcIixib2R5OntyZXF1ZXN0czpbe2VudGl0eVR5cGVzOltcImV2ZW50XCJdLHF1ZXJ5OntxdWVyeVN0cmluZzplLnF1ZXJ5fSxmcm9tOjAsc2l6ZToxMH1dfSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifX0pLHIuc2hvd0NvbnRhY3RzKXtjb25zdCB0PWBcIiR7ZS5xdWVyeX1cImA7bi5wdXNoKHtpZDpcImNvbnRhY3RcIixtZXRob2Q6XCJHRVRcIix1cmw6YC9tZS9jb250YWN0cz8kc2VhcmNoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQpfSYkdG9wPTEwYH0pO2NvbnN0IGE9W1wiZGlzcGxheU5hbWVcIixcImdpdmVuTmFtZVwiLFwic3VybmFtZVwiXS5tYXAoKHQ9PmBcIiR7dH06JHtlLnF1ZXJ5fVwiYCkpLmpvaW4oXCIgT1IgXCIpO24ucHVzaCh7aWQ6XCJ1c2VyXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvdXNlcnM/JHNlYXJjaD0ke2VuY29kZVVSSUNvbXBvbmVudChhKX0mJHRvcD0xMCYkc2VsZWN0PWlkLGRpc3BsYXlOYW1lLGRlcGFydG1lbnQsbWFpbCxidXNpbmVzc1Bob25lcyxtb2JpbGVQaG9uZSxvZmZpY2VMb2NhdGlvbixqb2JUaXRsZWAsaGVhZGVyczp7Q29uc2lzdGVuY3lMZXZlbDpcImV2ZW50dWFsXCJ9fSl9aWYoci5zaG93TWVzc2FnZXMmJm4ucHVzaCh7aWQ6XCJtZXNzYWdlXCIsbWV0aG9kOlwiR0VUXCIsdXJsOmAvbWUvbWVzc2FnZXM/JHNlbGVjdD1zZW5kZXIsc3ViamVjdCxib2R5UHJldmlldyxyZWNlaXZlZERhdGVUaW1lLHdlYkxpbmsmJHNlYXJjaD0ke2VuY29kZVVSSUNvbXBvbmVudChgXCIke2UucXVlcnl9XCJgKX0mJHRvcD0xMGB9KSxyLnNob3dDaGF0TWVzc2FnZXMmJm4ucHVzaCh7aWQ6XCJjaGF0TWVzc2FnZVwiLHVybDpcIi9zZWFyY2gvcXVlcnlcIixtZXRob2Q6XCJQT1NUXCIsYm9keTp7cmVxdWVzdHM6W3tlbnRpdHlUeXBlczpbXCJjaGF0TWVzc2FnZVwiXSxxdWVyeTp7cXVlcnlTdHJpbmc6ZS5xdWVyeX0sZnJvbTowLHNpemU6MTB9XX0saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn19KSxyLnNob3dMaXN0cyYmbi5wdXNoKHtpZDpcImxpc3RcIix1cmw6XCIvc2VhcmNoL3F1ZXJ5XCIsbWV0aG9kOlwiUE9TVFwiLGJvZHk6e3JlcXVlc3RzOlt7ZW50aXR5VHlwZXM6W1wibGlzdFwiXSxxdWVyeTp7cXVlcnlTdHJpbmc6ZS5xdWVyeX0sZnJvbTowLHNpemU6MTB9XX0saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn19KSwwPT09bi5sZW5ndGgpcmV0dXJue3Jlc3VsdHM6W119O2NvbnN0e3Jlc3VsdHM6byxmaWx0ZXJzOml9PWF3YWl0IERlKHRoaXMsdWUsXCJtXCIsU2UpLmNhbGwodGhpcyxuLGUpO3JldHVybiBvLmZpbmQoKGU9PmUua2V5PT09RGUodGhpcyxmZSxcImZcIik/LmtleSkpPy50ZW1wbGF0ZT09PU4uZkMuTG9hZGluZyYmRGUodGhpcyxDZSxcImZcIikuY2FsbCh0aGlzLERlKHRoaXMsZmUsXCJmXCIpKSx7cmVzdWx0czpvLGNvbnRleHQ6e2ZpbHRlcnM6aX19fSkpLFRlLnNldCh0aGlzLChhc3luYyBlPT57c3dpdGNoKGUuYWN0aW9uLnRyaWdnZXIpe2Nhc2UgQmUuUC5Gb2N1c0NoYW5nZTpEZSh0aGlzLENlLFwiZlwiKS5jYWxsKHRoaXMsZSk7YnJlYWs7Y2FzZSBCZS5QLlVzZXJBY3Rpb246RGUodGhpcyxJZSxcImZcIikuY2FsbCh0aGlzLGUpO2JyZWFrO2Nhc2UgQmUuUC5SZWxvYWQ6YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oYFVua25vd24gYWN0aW9uIHRyaWdnZXI6ICR7ZS5hY3Rpb24udHJpZ2dlcn1gKX19KSksdGhpcy5pbml0aWFsaXplV29ya2Zsb3c9YXN5bmMgZT0+e2lmKFwic2VhcmNoXCIhPT1lKXRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGluaXRpYWxpemUgdW5rbm93biB3b3JrZmxvdzogJHtlfWApO2F3YWl0IFMucmVnaXN0ZXIoey4uLnRoaXMuY29uZmlnLndvcmtmbG93cy5zZWFyY2guaG9tZVByb3ZpZGVyLG9uVXNlcklucHV0OkRlKHRoaXMsV2UsXCJmXCIpLG9uUmVzdWx0RGlzcGF0Y2g6RGUodGhpcyxUZSxcImZcIil9KSwoMCxILmVuYWJsZUxvZ2dpbmcpKCksYXdhaXQgdGhpcy5jb25uZWN0KCksc3VwZXIuaW5pdGlhbGl6ZVdvcmtmbG93KGUpfSxPYmplY3QuZW50cmllcyh0LndvcmtmbG93cz8uc2VhcmNoPy5taWNyb3NvZnRFbnRpdHlUeXBlQ29uZmlnfHx7fSkuZmlsdGVyKCgoW2UsdF0pPT50KSkuZm9yRWFjaCgoKFtlXSk9PntEZSh0aGlzLG1lLFwiZlwiKS5hZGQocVtlXSl9KSl9YXN5bmMgZXhlY3V0ZUFwaVJlcXVlc3QoLi4uZSl7cmV0dXJuIERlKHRoaXMsdWUsXCJtXCIsdmUpLmNhbGwodGhpcywoKCk9PkRlKHRoaXMsa2UsXCJmXCIpLmNhbGwodGhpcykuZXhlY3V0ZUFwaVJlcXVlc3QoLi4uZSkpKX19cGU9bmV3IFdlYWtNYXAsaGU9bmV3IFdlYWtNYXAsZmU9bmV3IFdlYWtNYXAsZ2U9bmV3IFdlYWtNYXAsbWU9bmV3IFdlYWtNYXAsd2U9bmV3IFdlYWtNYXAseWU9bmV3IFdlYWtNYXAsa2U9bmV3IFdlYWtNYXAsQ2U9bmV3IFdlYWtNYXAsQWU9bmV3IFdlYWtNYXAseGU9bmV3IFdlYWtNYXAsTWU9bmV3IFdlYWtNYXAsSWU9bmV3IFdlYWtNYXAsRmU9bmV3IFdlYWtNYXAsV2U9bmV3IFdlYWtNYXAsVGU9bmV3IFdlYWtNYXAsdWU9bmV3IFdlYWtTZXQsdmU9YXN5bmMgZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBhd2FpdCBlKCl9Y2F0Y2godCl7aWYodCBpbnN0YW5jZW9mIEguQXV0aFRva2VuRXhwaXJlZEVycm9yKXJldHVybiBhd2FpdCB0aGlzLmNvbm5lY3QoKSxlKCk7dGhyb3cgdH19LGJlPWFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmV4ZWN1dGVBcGlSZXF1ZXN0KFwiL3YxLjAvJGJhdGNoXCIsXCJQT1NUXCIse3JlcXVlc3RzOmV9KX0sU2U9YXN5bmMgZnVuY3Rpb24oZSx0KXt0cnl7Y29uc3QgYT1hd2FpdCBEZSh0aGlzLHVlLFwibVwiLGJlKS5jYWxsKHRoaXMsZSk7cmV0dXJue2ZpbHRlcnM6Wy4uLmFlKHQsRGUodGhpcyxtZSxcImZcIikpLC4uLm5lKGEuZGF0YS5yZXNwb25zZXMuZmluZCgoZT0+XCJ1c2VyXCI9PT1lLmlkKSk/LmJvZHk/LnZhbHVlfHxbXSx0KV0scmVzdWx0czpEZSh0aGlzLHVlLFwibVwiLFBlKS5jYWxsKHRoaXMsYSx0KX19Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBleGVjdXRlIEJhdGNoIEFQSSByZXF1ZXN0OiBcIixlKSx7ZmlsdGVyczpbXSxyZXN1bHRzOlt7a2V5OigwLEwuTikoKSx0aXRsZTpcIkVycm9yIEZldGNoaW5nIFNlYXJjaCBSZXN1bHRzXCIsZGVzY3JpcHRpb246XCJcIixhY3Rpb25zOltdLHRlbXBsYXRlOk4uZkMuRXJyb3IsdGVtcGxhdGVDb250ZW50OmBGYWlsZWQgdG8gZXhlY3V0ZSBCYXRjaCBBUEkgcmVxdWVzdDogJHtKU09OLnN0cmluZ2lmeShlKX1gfV19fX0sUGU9ZnVuY3Rpb24oZSx0KXtsZXQgYT1bXTtmb3IoY29uc3QgbiBvZiBlLmRhdGEucmVzcG9uc2VzKWlmKDIwMD09PW4uc3RhdHVzKXN3aXRjaChuLmlkKXtjYXNlXCJkcml2ZUl0ZW1cIjp7Y29uc3QgZT1pZSh0KSxyPWUuZmlsdGVyRmlsZXM/c2Uobi5ib2R5LnZhbHVlLGUpOm4uYm9keS52YWx1ZTthLnB1c2goLi4uKHJ8fFtdKS5tYXAoKGU9Pih7a2V5OmUuaWQ/PygwLEwuTikoKSx0aXRsZTplLm5hbWU/P1wiXCIsZGVzY3JpcHRpb246ZS5maWxlPy5taW1lVHlwZT8/XCJcIixsYWJlbDpjZShlLm5hbWUpLGljb246ZGUoZS5uYW1lKSxkYXRhOnt0eXBlOlwiZHJpdmVJdGVtXCIsaXRlbTplfSxhY3Rpb25zOlt7bmFtZTpcIkxhdW5jaFwifV0sdGVtcGxhdGU6Ti5mQy5QbGFpbix0ZW1wbGF0ZUNvbnRlbnQ6dm9pZCAwfSkpKSk7YnJlYWt9Y2FzZVwiZXZlbnRcIjphLnB1c2goLi4ubi5ib2R5Py52YWx1ZT8uWzBdPy5oaXRzQ29udGFpbmVycz8uWzBdPy5oaXRzPy5maWx0ZXIoKGU9PmUucmVzb3VyY2Uuc3ViamVjdCkpLm1hcCgoZT0+e2NvbnN0IHQ9ZS5yZXNvdXJjZSxhPWxlKGUuaGl0SWQpO3JldHVybntrZXk6YSx0aXRsZTp0LnN1YmplY3Q/P1wiXCIsbGFiZWw6XCJDYWxlbmRhciBFdmVudFwiLGljb246KDAsRS5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1T3V0bG9va0ljb24pLGFjdGlvbnM6W3tuYW1lOlwiTGF1bmNoXCJ9XSxkYXRhOnt0eXBlOlwiZXZlbnRcIixpdGVtOnsuLi50LGlkOmF9fSx0ZW1wbGF0ZTpOLmZDLlBsYWluLHRlbXBsYXRlQ29udGVudDp2b2lkIDB9fSkpfHxbXSk7YnJlYWs7Y2FzZVwiY29udGFjdFwiOntjb25zdCBlPXJlKHQpLHI9b2Uobi5ib2R5LnZhbHVlfHxbXSxlKTthLnB1c2goLi4uKHJ8fFtdKS5tYXAoKGU9Pih7a2V5OmUuaWQ/PygwLEwuTikoKSx0aXRsZTplLmRpc3BsYXlOYW1lPz9cIlwiLGxhYmVsOlwiT3V0bG9vayBjb250YWN0XCIsaWNvbjooMCxFLk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVPdXRsb29rSWNvbiksYWN0aW9uczpbXSxkYXRhOnt0eXBlOlwiY29udGFjdFwiLGl0ZW06ZX0sdGVtcGxhdGU6Ti5mQy5QbGFpbix0ZW1wbGF0ZUNvbnRlbnQ6dm9pZCAwfSkpKSk7YnJlYWt9Y2FzZVwidXNlclwiOntjb25zdCBlPXJlKHQpLHI9b2Uobi5ib2R5LnZhbHVlfHxbXSxlKTthLnB1c2goLi4uKHJ8fFtdKS5tYXAoKGU9Pih7a2V5OmUuaWQ/PygwLEwuTikoKSx0aXRsZTplLmRpc3BsYXlOYW1lPz9cIlwiLGxhYmVsOlwiVGVhbXMgY29udGFjdFwiLGljb246KDAsRS5PWCkoTy5zUC5NaWNyb3NvZnQzNjVBc3NldHMuTWljcm9zb2Z0MzY1VGVhbXNJY29uKSxhY3Rpb25zOltdLGRhdGE6e3R5cGU6XCJ1c2VyXCIsaXRlbTplfSx0ZW1wbGF0ZTpOLmZDLkxvYWRpbmcsdGVtcGxhdGVDb250ZW50OnZvaWQgMH0pKSkpO2JyZWFrfWNhc2VcIm1lc3NhZ2VcIjphLnB1c2goLi4uKG4uYm9keS52YWx1ZXx8W10pLm1hcCgoZT0+KHtrZXk6ZS5pZD8/KDAsTC5OKSgpLHRpdGxlOmAke2Uuc3ViamVjdD8/XCJVbnRpdGxlZCBNZXNzYWdlXCJ9JHtlLmlzRHJhZnQ/XCIgKERyYWZ0KVwiOlwiXCJ9YCxsYWJlbDpcIkVtYWlsXCIsaWNvbjooMCxFLk9YKShPLnNQLk1pY3Jvc29mdDM2NUFzc2V0cy5NaWNyb3NvZnQzNjVPdXRsb29rSWNvbiksYWN0aW9uczpbXSxkYXRhOnt0eXBlOlwibWVzc2FnZVwiLGl0ZW06ZX0sdGVtcGxhdGU6Ti5mQy5QbGFpbix0ZW1wbGF0ZUNvbnRlbnQ6dm9pZCAwfSkpKSk7YnJlYWs7Y2FzZVwiY2hhdE1lc3NhZ2VcIjphLnB1c2goLi4ubi5ib2R5Py52YWx1ZT8uWzBdPy5oaXRzQ29udGFpbmVycz8uWzBdPy5oaXRzPy5tYXAoKGU9Pntjb25zdCB0PWUucmVzb3VyY2U7cmV0dXJue2tleTp0LmlkPz8oMCxMLk4pKCksdGl0bGU6ZS5zdW1tYXJ5Pz9cIlVudGl0bGVkIE1lc3NhZ2VcIixsYWJlbDpcIkNoYXRcIixpY29uOigwLEUuT1gpKE8uc1AuTWljcm9zb2Z0MzY1QXNzZXRzLk1pY3Jvc29mdDM2NVRlYW1zSWNvbiksYWN0aW9uczpbXSxkYXRhOnt0eXBlOlwiY2hhdE1lc3NhZ2VcIixpdGVtOnR9LHRlbXBsYXRlOk4uZkMuUGxhaW4sdGVtcGxhdGVDb250ZW50OnZvaWQgMH19KSl8fFtdKTticmVhaztjYXNlXCJsaXN0XCI6YS5wdXNoKC4uLm4uYm9keT8udmFsdWU/LlswXT8uaGl0c0NvbnRhaW5lcnM/LlswXT8uaGl0cz8ubWFwKChlPT57Y29uc3QgdD1lLnJlc291cmNlLGE9bGUoZS5oaXRJZCk7cmV0dXJue2tleTphLHRpdGxlOnQuZGlzcGxheU5hbWU/P1wiVW50aXRsZWQgTGlzdFwiLGxhYmVsOlwiTGlzdFwiLGFjdGlvbnM6W3tuYW1lOlwiTGF1bmNoXCJ9XSxkYXRhOnt0eXBlOlwibGlzdFwiLGl0ZW06ey4uLnQsaWQ6YX19LHRlbXBsYXRlOk4uZkMuUGxhaW4sdGVtcGxhdGVDb250ZW50OnZvaWQgMH19KSl8fFtdKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybihgVW5rbm93biBiYXRjaCByZXNwb25zZSBpZDogJHtuLmlkfWAsbi5ib2R5KX1lbHNlIGNvbnNvbGUud2FybihcIkJhdGNoIEFQSSByZXF1ZXN0IGZhaWxlZDogXCIsbik7cmV0dXJuIGE9YS5tYXAoKGU9PntpZighZS5kYXRhPy5pdGVtPy5pZClyZXR1cm4gZTtjb25zdCB0PURlKHRoaXMseWUsXCJmXCIpLmdldChlLmRhdGEuaXRlbS5pZCk7cmV0dXJuIHQ/ey4uLmUsdGVtcGxhdGU6dC50ZW1wbGF0ZSx0ZW1wbGF0ZUNvbnRlbnQ6dC50ZW1wbGF0ZUNvbnRlbnR9OmV9KSksYS5zb3J0KCgoZSx0KT0+ZS50aXRsZT50LnRpdGxlPzE6LTEpKX07dmFyIF9lPWEoNTk4KSxCZT1hKDEyOSksUmU9YSgxODQpLCRlPWEoNzEwKX0pKCksbW9kdWxlLmV4cG9ydHM9bn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmFtZE8gPSB7fTsiLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJpbXBvcnQgeyBjbG91ZEludGVyb3BPdmVycmlkZSB9IGZyb20gXCJAb3BlbmZpbi9jbG91ZC1pbnRlcm9wXCI7XG5pbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5pbXBvcnQgeyBDTElUZW1wbGF0ZSwgSG9tZSwgdHlwZSBBcHAsIHR5cGUgSG9tZVNlYXJjaExpc3RlbmVyUmVxdWVzdCB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcbmltcG9ydCB7IGluaXQgfSBmcm9tIFwiQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtXCI7XG5pbXBvcnQgeyBnZXRBcHBzLCBsYXVuY2hBcHAgfSBmcm9tIFwiLi9hcHBzXCI7XG5pbXBvcnQgeyBjcmVhdGVJbnRlcm9wT3ZlcnJpZGUgfSBmcm9tIFwiLi9pbnRlcm9wYnJva2VyXCI7XG5pbXBvcnQgdHlwZSB7IEN1c3RvbVNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbmNvbnN0IFBMQVRGT1JNX0lEID0gZmluLm1lLmlkZW50aXR5LnV1aWQ7XG5jb25zdCBQTEFURk9STV9USVRMRSA9IFwiU3VwcG9ydCBDb250ZXh0IGFuZCBJbnRlbnRzXCI7XG5jb25zdCBQTEFURk9STV9JQ09OID0gXCJodHRwOi8vbG9jYWxob3N0OjgwODAvZmF2aWNvbi5pY29cIjtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcblx0Ly8gTG9hZCB0aGUgc2V0dGluZ3MgZnJvbSB0aGUgbWFuaWZlc3Rcblx0Y29uc3QgY3VzdG9tU2V0dGluZ3MgPSBhd2FpdCBnZXRNYW5pZmVzdEN1c3RvbVNldHRpbmdzKCk7XG5cblx0Ly8gV2hlbiB0aGUgcGxhdGZvcm0gYXBpIGlzIHJlYWR5IHdlIGJvb3RzdHJhcCB0aGUgcGxhdGZvcm0uXG5cdGNvbnN0IHBsYXRmb3JtID0gZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7XG5cdGF3YWl0IHBsYXRmb3JtLm9uY2UoXCJwbGF0Zm9ybS1hcGktcmVhZHlcIiwgYXN5bmMgKCkgPT4gaW5pdGlhbGl6ZVdvcmtzcGFjZUNvbXBvbmVudHMoY3VzdG9tU2V0dGluZ3MpKTtcblxuXHQvLyBUaGUgRE9NIGlzIHJlYWR5IHNvIGluaXRpYWxpemUgdGhlIHBsYXRmb3JtXG5cdC8vIFByb3ZpZGUgZGVmYXVsdCBpY29ucyBhbmQgZGVmYXVsdCB0aGVtZSBmb3IgdGhlIGJyb3dzZXIgd2luZG93c1xuXHRhd2FpdCBpbml0aWFsaXplV29ya3NwYWNlUGxhdGZvcm0oY3VzdG9tU2V0dGluZ3MpO1xufSk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgd29ya3NwYWNlIHBsYXRmb3JtLlxuICogQHBhcmFtIGN1c3RvbVNldHRpbmdzIFRoZSBjdXN0b20gc2V0dGluZ3MgZnJvbSB0aGUgbWFuaWZlc3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVXb3Jrc3BhY2VQbGF0Zm9ybShjdXN0b21TZXR0aW5nczogQ3VzdG9tU2V0dGluZ3MpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgd29ya3NwYWNlIHBsYXRmb3JtXCIpO1xuXG5cdGNvbnN0IGRlZmF1bHRCcm9rZXIgPSBjcmVhdGVJbnRlcm9wT3ZlcnJpZGUoY3VzdG9tU2V0dGluZ3MpO1xuXHRjb25zdCBpbnRlcm9wT3ZlcnJpZGU6IE9wZW5GaW4uQ29uc3RydWN0b3JPdmVycmlkZTxPcGVuRmluLkludGVyb3BCcm9rZXI+W10gPSBbZGVmYXVsdEJyb2tlcl07XG5cblx0aWYgKFxuXHRcdGN1c3RvbVNldHRpbmdzPy5jbG91ZEludGVyb3BQcm92aWRlcj8uZW5hYmxlZCA9PT0gdHJ1ZSAmJlxuXHRcdGN1c3RvbVNldHRpbmdzPy5jbG91ZEludGVyb3BQcm92aWRlcj8uY29ubmVjdFBhcmFtcyAhPT0gdW5kZWZpbmVkXG5cdCkge1xuXHRcdGNvbnNvbGUubG9nKFwiSW5pdGlhbGl6aW5nIHRoZSBjbG91ZCBpbnRlcm9wIG92ZXJyaWRlXCIpO1xuXHRcdGNvbnN0IGluaXRpYWxpemVkQ2xvdWRJbnRlcm9wT3ZlcnJpZGUgPSAoYXdhaXQgY2xvdWRJbnRlcm9wT3ZlcnJpZGUoXG5cdFx0XHRjdXN0b21TZXR0aW5ncz8uY2xvdWRJbnRlcm9wUHJvdmlkZXI/LmNvbm5lY3RQYXJhbXNcblx0XHQpKSBhcyB1bmtub3duIGFzIE9wZW5GaW4uQ29uc3RydWN0b3JPdmVycmlkZTxPcGVuRmluLkludGVyb3BCcm9rZXI+O1xuXHRcdGludGVyb3BPdmVycmlkZS5wdXNoKGluaXRpYWxpemVkQ2xvdWRJbnRlcm9wT3ZlcnJpZGUpO1xuXHR9XG5cblx0YXdhaXQgaW5pdCh7XG5cdFx0YnJvd3Nlcjoge1xuXHRcdFx0ZGVmYXVsdFdpbmRvd09wdGlvbnM6IHtcblx0XHRcdFx0aWNvbjogUExBVEZPUk1fSUNPTixcblx0XHRcdFx0d29ya3NwYWNlUGxhdGZvcm06IHtcblx0XHRcdFx0XHRwYWdlczogW10sXG5cdFx0XHRcdFx0ZmF2aWNvbjogUExBVEZPUk1fSUNPTlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0aGVtZTogW1xuXHRcdFx0e1xuXHRcdFx0XHRsYWJlbDogXCJEZWZhdWx0XCIsXG5cdFx0XHRcdGRlZmF1bHQ6IFwiZGFya1wiLFxuXHRcdFx0XHRwYWxldHRlOiB7XG5cdFx0XHRcdFx0YnJhbmRQcmltYXJ5OiBcIiMwQTc2RDNcIixcblx0XHRcdFx0XHRicmFuZFNlY29uZGFyeTogXCIjMzgzQTQwXCIsXG5cdFx0XHRcdFx0YmFja2dyb3VuZFByaW1hcnk6IFwiIzFFMUYyM1wiXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdLFxuXHRcdC8vIFVzZSBhbiBvdmVycmlkZSBmb3IgdGhlIHBsYXRmb3JtIGludGVyb3AgdG8gaGFuZGxlIHRoZSBjb250ZXh0IGFuZCBpbnRlbnRzXG5cdFx0aW50ZXJvcE92ZXJyaWRlXG5cdH0pO1xufVxuXG4vKipcbiAqIEJyaW5nIHRoZSBwbGF0Zm9ybSB0byBsaWZlLlxuICogQHBhcmFtIGN1c3RvbVNldHRpbmdzIFRoZSBjdXN0b20gc2V0dGluZ3MgZnJvbSB0aGUgbWFuaWZlc3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVXb3Jrc3BhY2VDb21wb25lbnRzKGN1c3RvbVNldHRpbmdzOiBDdXN0b21TZXR0aW5ncyk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zb2xlLmxvZyhcIkluaXRpYWxpemluZyB0aGUgYm9vdHN0cmFwcGVyXCIpO1xuXG5cdC8vIFJlZ2lzdGVyIHdpdGggaG9tZSBhbmQgc2hvdyBpdFxuXHRhd2FpdCBIb21lLnJlZ2lzdGVyKHtcblx0XHR0aXRsZTogUExBVEZPUk1fVElUTEUsXG5cdFx0aWQ6IFBMQVRGT1JNX0lELFxuXHRcdGljb246IFBMQVRGT1JNX0lDT04sXG5cdFx0b25Vc2VySW5wdXQ6IGFzeW5jIChyZXF1ZXN0OiBIb21lU2VhcmNoTGlzdGVuZXJSZXF1ZXN0KSA9PiB7XG5cdFx0XHQvLyBHZXQgdGhlIGxpc3Qgb2YgYWxsIHRoZSBhcHBzXG5cdFx0XHRsZXQgYXBwcyA9IGF3YWl0IGdldEFwcHMoY3VzdG9tU2V0dGluZ3MuYXBwUHJvdmlkZXIpO1xuXG5cdFx0XHRpZiAocmVxdWVzdC5xdWVyeS5sZW5ndGggPj0gMykge1xuXHRcdFx0XHQvLyBGaWx0ZXIgdGhlbSBieSB0aXRsZSBpZiB3ZSBoYXZlIGEgcXVlcnlcblx0XHRcdFx0YXBwcyA9IGFwcHMuZmlsdGVyKChhcHApID0+IGFwcC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHJlcXVlc3QucXVlcnkudG9Mb3dlckNhc2UoKSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHQvLyBBbHdheXMgcmV0dXJuIGp1c3QgdGhlIGFwcHMgbGlzdCBpbiBob21lXG5cdFx0XHRcdHJlc3VsdHM6IGFwcHMubWFwKChhcHApID0+ICh7XG5cdFx0XHRcdFx0a2V5OiBhcHAuYXBwSWQsXG5cdFx0XHRcdFx0dGl0bGU6IGFwcC50aXRsZSxcblx0XHRcdFx0XHRpY29uOiBhcHAuaWNvbnNbMF0/LnNyYyxcblx0XHRcdFx0XHRkYXRhOiBhcHAsXG5cdFx0XHRcdFx0bGFiZWw6IGFwcC5tYW5pZmVzdFR5cGUgPT09IFwiaW5saW5lLWFwcGFzc2V0XCIgfHwgYXBwLm1hbmlmZXN0VHlwZSA9PT0gXCJleHRlcm5hbFwiID8gXCJBcHBcIiA6IFwiVmlld1wiLFxuXHRcdFx0XHRcdGFjdGlvbnM6IFt7IG5hbWU6IFwiTGF1bmNoXCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBhcHAuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0c2hvcnREZXNjcmlwdGlvbjogYXBwLmRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5TaW1wbGVUZXh0LFxuXHRcdFx0XHRcdHRlbXBsYXRlQ29udGVudDogYXBwLmRlc2NyaXB0aW9uXG5cdFx0XHRcdH0pKVxuXHRcdFx0fTtcblx0XHR9LFxuXHRcdG9uUmVzdWx0RGlzcGF0Y2g6IGFzeW5jIChyZXN1bHQpID0+IHtcblx0XHRcdC8vIFdlIG9ubHkgaGF2ZSBhcHBzLCBzbyBqdXN0IGxhdW5jaCB0aGVtXG5cdFx0XHRhd2FpdCBsYXVuY2hBcHAocmVzdWx0LmRhdGEgYXMgQXBwKTtcblx0XHR9XG5cdH0pO1xuXG5cdGF3YWl0IEhvbWUuc2hvdygpO1xuXG5cdC8vIFdoZW4gdGhlIHBsYXRmb3JtIHJlcXVlc3RzIHRvIGJlIGNsb3NlIHdlIGRlcmVnaXN0ZXIgZnJvbSBob21lIGFuZCBxdWl0XG5cdGNvbnN0IHByb3ZpZGVyV2luZG93ID0gZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpO1xuXHRhd2FpdCBwcm92aWRlcldpbmRvdy5vbmNlKFwiY2xvc2UtcmVxdWVzdGVkXCIsIGFzeW5jICgpID0+IHtcblx0XHRhd2FpdCBIb21lLmRlcmVnaXN0ZXIoUExBVEZPUk1fSUQpO1xuXHRcdGF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLnF1aXQoKTtcblx0fSk7XG59XG5cbi8qKlxuICogUmVhZCB0aGUgY3VzdG9tIHNldHRpbmdzIGZyb20gdGhlIG1hbmlmZXN0LmZpbi5qc29uLlxuICogQHJldHVybnMgVGhlIGN1c3RvbSBzZXR0aW5ncyBmcm9tIHRoZSBtYW5pZmVzdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0TWFuaWZlc3RDdXN0b21TZXR0aW5ncygpOiBQcm9taXNlPEN1c3RvbVNldHRpbmdzPiB7XG5cdC8vIEdldCB0aGUgbWFuaWZlc3QgZm9yIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uXG5cdGNvbnN0IGFwcCA9IGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50KCk7XG5cblx0Ly8gRXh0cmFjdCB0aGUgY3VzdG9tIHNldHRpbmdzIGZvciB0aGlzIGFwcGxpY2F0aW9uXG5cdGNvbnN0IG1hbmlmZXN0OiBPcGVuRmluLk1hbmlmZXN0ICYgeyBjdXN0b21TZXR0aW5ncz86IEN1c3RvbVNldHRpbmdzIH0gPSBhd2FpdCBhcHAuZ2V0TWFuaWZlc3QoKTtcblx0cmV0dXJuIG1hbmlmZXN0LmN1c3RvbVNldHRpbmdzID8/IHt9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9