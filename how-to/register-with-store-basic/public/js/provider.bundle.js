/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/workspace-platform/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@openfin/workspace-platform/index.js ***!
  \***********************************************************/
/***/ ((module) => {

(()=>{"use strict";var e,t,a,n,o,i,r,s={d:(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},c={};s.r(c),s.d(c,{AppManifestType:()=>i,BrowserButtonType:()=>u,CustomActionCallerType:()=>y,GlobalContextMenuOptionType:()=>p,PageTabContextMenuOptionType:()=>l,SaveButtonContextMenuOptionType:()=>g,SaveModalType:()=>h,ViewTabMenuOptionType:()=>w,getCurrentSync:()=>xt,init:()=>Sn,wrapSync:()=>Vt}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.Active="active",e.Default="default"}(t||(t={})),function(e){e.Suggestion="suggestion"}(a||(a={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(n||(n={})),function(e){e.MultiSelect="MultiSelect"}(o||(o={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(i||(i={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}));var d,p,l,w,u,g,y,h,f;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(d||(d={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(p||(p={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.Custom="Custom"}(l||(l={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(w||(w={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(u||(u={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(g||(g={})),function(e){e.CustomButton="CustomButton",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(y||(y={})),function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(h||(h={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(f||(f={}));const m="undefined"!=typeof window&&"undefined"!=typeof fin,S=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),v=S&&"undefined"!=typeof indexedDB,P=S?window.origin:f.Local,b=m&&fin.me.uuid,k=m&&fin.me.name,W=m&&fin.me.entityType,C=(f.Local,f.Dev,f.Staging,f.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:P+e),I=(C("https://cdn.openfin.co/workspace/7.3.7"),C("https://cdn.openfin.co/workspace/7.3.7")),A=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&C(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&C(WORKSPACE_DOCS_CLIENT_URL),"24.98.69.6"),M="7.3.7";var T,E,O;!function(e){e.Workspace="openfin-browser"}(T||(T={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(E||(E={})),function(e){e.FinProtocol="fin-protocol"}(O||(O={}));const R={uuid:b,name:b},V=(T.Workspace,T.Workspace,e=>{if(!m)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),x=()=>V(R);var B,L;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(B||(B={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(L||(L={}));function _(e){if(!m)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const D={name:k,uuid:b};function U(){return _(D)}B.Home,T.Workspace,B.Dock,T.Workspace;const F={name:B.Storefront,uuid:T.Workspace};T.Workspace,T.Workspace;async function G(e){const t=_(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.bringToFront(),await t.focus()}const N=e=>e.startsWith(B.BrowserWindow);async function $(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>N(e.identity.name)))}const H=e=>_(e).getOptions().then((()=>!0)).catch((()=>!1)),q=()=>H(F);var K;!function(e){e.Browser="Browser",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(K||(K={}));const j=async(e,t)=>{const a={apiVersion:t.apiVersion||M,componentName:e,componentVersion:M,...t};fin.System.registerUsage({type:"workspace-licensing",data:a})};var Q,z=new Uint8Array(16);function J(){if(!Q&&!(Q="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q(z)}const X=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Y=function(e){return"string"==typeof e&&X.test(e)};for(var Z=[],ee=0;ee<256;++ee)Z.push((ee+256).toString(16).substr(1));const te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(Z[e[t+0]]+Z[e[t+1]]+Z[e[t+2]]+Z[e[t+3]]+"-"+Z[e[t+4]]+Z[e[t+5]]+"-"+Z[e[t+6]]+Z[e[t+7]]+"-"+Z[e[t+8]]+Z[e[t+9]]+"-"+Z[e[t+10]]+Z[e[t+11]]+Z[e[t+12]]+Z[e[t+13]]+Z[e[t+14]]+Z[e[t+15]]).toLowerCase();if(!Y(a))throw TypeError("Stringified UUID is invalid");return a};const ae=function(e,t,a){var n=(e=e||{}).random||(e.rng||J)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var o=0;o<16;++o)t[a+o]=n[o];return t}return te(n)};var ne;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(ne||(ne={}));const oe=ne;var ie;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.SetActiveWorkspace="setActiveWorkspace"}(ie||(ie={}));const re=async e=>{const t=fin.Platform.wrapSync(e),a=await t.getClient(),n="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";try{if(!0===await a.dispatch("isWorkspacePlatform"))return a;throw new Error(n)}catch(e){throw new Error(n)}},se=(e,t)=>!t.find((t=>t===e)),ce=(e,t)=>`${e} (${t})`,de=(e,t)=>{let a=1;const n=e.replace(/ \(.+\)$/,"");for(;!se(ce(n,a),t);)a+=1;return ce(n,a)};async function pe(e){try{const t=xt();await t.applySnapshot(e.snapshot,{closeExistingWindows:!0}),le(e)}catch(e){}}function le(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);localStorage.setItem(oe.CurrentWorkspaceId,t)}catch(e){}}async function we(){if("undefined"==typeof localStorage)return;const e=xt(),t=await e.getSnapshot();return{workspaceId:ae(),title:await ye(),metadata:{APIVersion:M},snapshot:t}}async function ue(){if("undefined"==typeof localStorage)return;const e=localStorage.getItem(oe.CurrentWorkspaceId);if(!e)return we();const t=JSON.parse(e),a=xt(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:M},snapshot:n}}const ge=async e=>await(async e=>(await re(D)).dispatch(ie.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await re(D)).dispatch(ie.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await re(D)).dispatch(ie.CreateSavedWorkspace,e))({workspace:e});async function ye(e="Untitled Workspace"){const t=(await(async()=>(await re(D)).dispatch(ie.GetSavedWorkspaces,void 0))()).map((({title:e})=>e));return t.find((t=>t===e))?de(e,t):e}async function he(){if("undefined"!=typeof localStorage)try{const e=localStorage.getItem(oe.LastFocusedBrowserWindow),t=JSON.parse(e);if(await H(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function fe(e=fin.me.identity){N(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);localStorage.setItem(oe.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const me=(e,t=0)=>{let a,n,o=!1;const i=async n=>{const r=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,i(e)}return r};return(...e)=>(n?(o=!0,a=e):n=i(e).then((e=>(n=void 0,e))),n)};var Se;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(Se||(Se={}));const ve=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=ve(e.content);t.push(...a)})),t},Pe=async(e,t,a=D)=>{let n;if(N(a.name)){n=(await _(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;function be(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function ke(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function We(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function Ce(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Ie=S&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function Ae(e){let t;return()=>{if(!m)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Ie;const a=await fin.InterApplicationBus.Channel.connect(e);return a.onDisconnection((async()=>{t=void 0})),a})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const Me=e=>`__browser_window__-${e.uuid}-${e.name}`,Te=new Map,Ee=e=>{const t=Me(e);return Te.has(t)||Te.set(t,Ae(t)),Te.get(t)()};var Oe,Re,Ve;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page"}(Oe||(Oe={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(Re||(Re={})),function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(Ve||(Ve={}));new Map;const xe=async e=>{const t=await Ee(e);return await t.dispatch(Re.GetPages)},Be=async e=>(await Ee(e.identity)).dispatch(Re.UpdatePageForWindow,e),Le=async()=>{const e=await $();return(await Promise.all(e.map((async({identity:e})=>xe(e))))).reduce(((e,t)=>e.concat(t)),[])},_e=async()=>(await re(D)).dispatch(ie.GetSavedPages,void 0),De=async e=>(await re(D)).dispatch(ie.GetSavedPage,e),Ue=async(e,t)=>{const a=await(async e=>(await Le()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Be({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},Fe=async({page:e})=>{await Ue(e.pageId,e),await(async e=>(await re(D)).dispatch(ie.CreateSavedPage,e))({page:e})},Ge=async e=>{await De(e)&&await(async e=>(await re(D)).dispatch(ie.DeleteSavedPage,e))(e)},Ne=async({pageId:e,page:t})=>{await Ue(e,t);return await(async e=>(await re(D)).dispatch(ie.UpdateSavedPage,e))({pageId:e,page:t})},$e=async e=>await De(e.pageId)?Ne({pageId:e.pageId,page:e}):Fe({page:e}),He=async e=>{await(async e=>(await Ee(e.identity)).dispatch(Re.AttachPagesToWindow,e))(e)},qe=async e=>{await Be(e)},Ke=async e=>{await(async e=>(await Ee(e.identity)).dispatch(Re.DetachPagesFromWindow,e))(e)},je=async e=>{await(async e=>(await Ee(e.identity)).dispatch(Re.SetActivePageForWindow,e))(e)},Qe=e=>xe(e),ze=async({identity:e,pageId:t})=>(await Qe(e)).find((e=>e.pageId===t)),Je=async e=>{await(async e=>(await Ee(e.identity)).dispatch(Re.ReorderPagesForWindow,e))(e)};async function Xe(e="Untitled Page"){const[t,a]=await Promise.all([_e(),Le()]),n=[...t,...a].map((({title:e})=>e));return n.find((t=>t===e))?de(e,n):e}const Ye=new Map,Ze=e=>`${e.uuid}-${e.name}`;const et=me((async function(){const e=await Le(),t=new Set;e.forEach((e=>{ve(e.layout.content).forEach((e=>{if(e.name){const a=Ze(e);t.add(a)}}))}));const a=U();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=Ze(e);if(t.has(a)||Ye.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),Ye.delete(a)}),5e3);Ye.set(a,n)})),Ye.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),Ye.delete(a))}))}),2500),tt=({name:e})=>{N(e)&&et().catch((()=>{}))};let at={};const nt=({actionId:e,payload:t})=>{if("function"!=typeof at[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return at[e](t)};function ot(){return localStorage.getItem(oe.MachineName)}let it;async function rt(){return it||(it=await fin.System.getMachineId()),it}const st=e=>{if(e.layout&&Array.isArray(e.workspacePlatform?.pages)){const t=e.workspacePlatform.pages.find((e=>e.isActive));t&&(t.layout=e.layout)}return e};async function ct(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=ot();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await rt(),machineName:a}}}function dt(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function pt(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=dt(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}let lt;function wt(){return lt||(lt=pt("keyval-store","keyval")),lt}function ut(e,t=wt()){return t("readonly",(t=>dt(t.get(e))))}function gt(e,t,a=wt()){return a("readwrite",(a=>(a.put(t,e),dt(a.transaction))))}function yt(e,t=wt()){return t("readwrite",(t=>(t.delete(e),dt(t.transaction))))}function ht(e,t){return e("readonly",(e=>(e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},dt(e.transaction))))}function ft(e=wt()){const t=[];return ht(e,(e=>t.push(e.key))).then((()=>t))}const mt=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),St=v&&pt("openfin-home-pages","pages");async function vt(e){const t=await ut(e,St);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function Pt(e){const t=await ft(St),a=await Promise.all(t.map((e=>vt(e.toString()))));return e?a.filter((t=>mt(t.title,e))):a}async function bt({page:e}){await gt(e.pageId,e,St)}async function kt(e){await yt(e,St)}async function Wt({pageId:e,page:t}){if(void 0===await vt(e))throw new Error("page not found");await bt({page:t}),e!==t.pageId&&await kt(e)}var Ct;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Ct||(Ct={}));var It;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(It||(It={}));Ae("__of_workspace_protocol__");const At=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await rt(),machineName:ot()}}))(t);return{pageId:ae(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},Mt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await re(e)).dispatch(ie.GetPagesForWindow,e),getPage:async t=>(await re(e)).dispatch(ie.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await re(e);t?.title||(t.title=await a.dispatch(ie.GetUniquePageTitle,void 0));const n=(await a.dispatch(ie.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(ie.AttachPagesToWindow,o)},removePage:async t=>(await re(e)).dispatch(ie.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await re(e)).dispatch(ie.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await re(e);return t.identity=e,a.dispatch(ie.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await re(e);return t.identity=e,a.dispatch(ie.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await re(e);return t.identity=e,a.dispatch(ie.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await re(e);return t.identity=e,a.dispatch(ie.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await re(e);return t.identity=e,a.dispatch(ie.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>(await Ee(e)).dispatch(Oe.OpenSaveModalInternal,t),_openSaveButtonContextMenu:async t=>{const a=await re(e);return t.identity=e,a.dispatch(ie.OpenSaveButtonContextMenuInternal,t)}});let Tt=!1;const Et=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>Mt(e),createWindow:async e=>{Tt||(Tt=!0,(async e=>{j(K.Browser,e)})({allowed:!0}));const a=await t.createWindow(e);return Mt(a.identity)},getAllAttachedPages:async()=>(await t.getClient()).dispatch(ie.GetAllAttachedPages,void 0),getAllWindows:async()=>(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>Mt(e.identity))),getUniquePageTitle:async t=>(await re(e)).dispatch(ie.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await re(e)).dispatch(ie.GetLastFocusedBrowserWindow,void 0)}},Ot=e=>({createPage:async t=>(await re(e)).dispatch(ie.CreateSavedPageInternal,t),deletePage:async t=>(await re(e)).dispatch(ie.DeleteSavedPageInternal,t),updatePage:async t=>(await re(e)).dispatch(ie.UpdateSavedPageInternal,t),getPage:async t=>(await re(e)).dispatch(ie.GetSavedPage,t),getPages:async t=>(await re(e)).dispatch(ie.GetSavedPages,t),savePage:async t=>(await re(e)).dispatch(ie.SavePage,t),createWorkspace:async t=>(await re(e)).dispatch(ie.CreateSavedWorkspace,t),deleteWorkspace:async t=>(await re(e)).dispatch(ie.DeleteSavedWorkspace,t),updateWorkspace:async t=>(await re(e)).dispatch(ie.UpdateSavedWorkspace,t),getWorkspace:async t=>(await re(e)).dispatch(ie.GetSavedWorkspace,t),getWorkspaces:async t=>(await re(e)).dispatch(ie.GetSavedWorkspaces,t),saveWorkspace:async t=>(await re(e)).dispatch(ie.SaveWorkspace,t)}),Rt=e=>({getThemes:async()=>(await re(e)).dispatch(ie.GetThemes,void 0)}),Vt=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:b,name:k,entityType:W||"unknown"});return(await re(e)).dispatch(ie.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await re(e),o={actionId:t,payload:{...a,callerType:a.callerType||y.API}};return n.dispatch(ie.InvokeCustomActionInternal,o)},getCurrentWorkspace:async()=>(await re(e)).dispatch(ie.GetCurrentWorkspace,void 0),applyWorkspace:async t=>(await re(e)).dispatch(ie.ApplyWorkspace,t),setActiveWorkspace:async t=>(await re(e)).dispatch(ie.SetActiveWorkspace,t),Theme:Rt(e),Browser:Et(e),Storage:Ot(e)})},xt=()=>Vt(fin.me.identity),Bt=async(e=D)=>{const{workspacePlatform:t}=await _(e).getOptions();return{newPageUrl:t?.newPageUrl,newTabUrl:t?.newTabUrl}},Lt=async(e=D)=>{const t=await xt().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=D)=>{const{newPageUrl:t}=await Bt(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return Pe("New Tab",t,e)})(e);return At(t,a)},_t={type:Ct.Separator,data:void 0},Dt={type:Ct.Label,label:"Close Window",data:{type:p.CloseWindow}},Ut={type:Ct.Label,label:"Open Storefront",data:{type:p.OpenStorefront}},Ft={type:Ct.Label,label:"Quit Platform",data:{type:p.Quit}},Gt={type:Ct.Label,label:"New Window",data:{type:p.NewWindow}},Nt={type:Ct.Label,label:"Save Page",data:{type:p.SavePage}},$t={type:Ct.Label,label:"Save Page As...",data:{type:p.SavePageAs}},Ht={type:Ct.Label,label:"New Page",data:{type:p.NewPage}},qt={type:Ct.Label,label:"Restore to Last Saved Changes",data:{type:p.RestoreChanges}},Kt={type:Ct.Label,label:"Save Workspace",data:{type:p.SaveWorkspace}},jt={type:Ct.Label,label:"Save Workspace As...",data:{type:p.SaveWorkspaceAs}},Qt={type:Ct.Label,label:"Rename Workspace",data:{type:p.RenameWorkspace}},zt="Switch Workspace",Jt="Delete Workspace",Xt=[Dt,_t,Ut,_t,Ft],Yt=[_t,Dt,_t,Ft],Zt=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:Ct.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),ea=async e=>{const t=await q(),{newPageUrl:a}=await Bt(e),n=await(async e=>{const t=_(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=[];a&&(o.push(Gt),n||o.push(Ht)),o.push(_t);const i=xt(),r=await i.getCurrentWorkspace(),s=await i.Storage.getWorkspaces(),c=s.find((e=>e.workspaceId===r.workspaceId));return c?o.push(qt):o.push({label:qt.label,enabled:!1}),o.push(Kt,jt),c?o.push(Qt):o.push({label:Qt.label,enabled:!1}),s.some((e=>e.workspaceId!==r.workspaceId))?o.push({label:zt,submenu:Zt(r,s,p.SwitchWorkspace)},{label:Jt,submenu:Zt(r,s,p.DeleteWorkspace)}):o.push({label:zt,enabled:!1},{label:Jt,enabled:!1}),o.push(_t,Nt,$t),t?[...o,...Xt]:[...o,...Yt]};let ta="Platform";const aa=async()=>ta;var na,oa;!function(e){e.HomeIndex="/home/",e.HomeSearch="/home/search/",e.HomePagesRename="/home/pages/rename/",e.Dock="/home/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSaveModal="/browser/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(na||(na={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(oa||(oa={}));const ia={...oa,...na};var ra;!function(e){e.Home="/home",e.Browser="/browser",e.Provider="/provider",e.Storefront="/storefront"}(ra||(ra={}));const sa="/workspace/7.3.7";function ca(){return sa.substring(0,sa.length-"".length)}function da(e){if(!S)throw new Error("getAbsoluteRoutePath can only be used in a window");return function(){if(!window)throw new Error("getAbsoluteBasePath can only be used in a window");return`${window.origin}${ca()}`}()+e}const pa={name:B.BrowserMenu,alwaysOnTop:!0,autoShow:!1,cornerRounding:{height:6,width:6},frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!0};function la(e){const t={...pa,...e};return t.url=function(e){if(!S)throw new Error("resolveAbsolutePath can only be used in a window");return e.startsWith("http")?e:`${window.origin}${e}`}(t.url),t}var wa,ua;!function(e){e.Update="update",e.Response="response"}(wa||(wa={})),function(e){e.Canceled="canceled",e.Negative="negative",e.Affirmative="affirmative"}(ua||(ua={}));const ga=function(e){const t=new Map;return{emit:be(t,(t=>m&&fin.InterApplicationBus.publish(e,t))),addListener:ke(t,(t=>m&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),removeListener:Ce(t),once:We(t)}}("window.menu"),ya=e=>ga.emit(wa.Response,e),ha=me((()=>x().getChildWindows()),500);const fa=new Map;async function ma({options:e,parameters:t}){const a=la(e),{name:n}=a;let o=await async function(e){return(await ha()).find((t=>t.identity.name===e))}(n);return o||(o=await async function(e){const t=la(e);if(!fa.has(t.name)){const e=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(t);return e.once("closed",(()=>{fa.delete(t.name)})),e})();fa.set(t.name,e)}return fa.get(t.name)}(a)),await async function(e,t){const a=la(e),{top:n,left:o,defaultWidth:i,defaultHeight:r}=a,s={top:n,left:o,width:i,height:r},c={parentName:fin.Window.getCurrentSync().identity.name};for(const[e,a]of Object.entries(c))t.set(e,a);const d=t.toString(),p=`${a.url}?${d}`;ga.emit(wa.Update,a.name,s,p),await ya({name:a.name,data:ua.Canceled})}(e,t||new URLSearchParams),o}const Sa=async(e,t)=>{const a=t?_(t):U();await(async(e=fin.me.identity)=>{const t=_(e),a=await t.getBounds();(a.right>screen.availLeft+screen.width||a.left<screen.availLeft||a.bottom>screen.availTop+screen.height||a.top<screen.availTop)&&await t.center()})(a.identity);const n=await a.getBounds(),o={left:((i=n).left+(i.left+i.width))/2,top:(i.top+(i.top+i.height))/2};var i;const{defaultHeight:r,defaultWidth:s}=e;return((e,t)=>{const{height:a,width:n}=t,o=n/2,i=a/2;return{left:e.left-o,top:e.top-i}})(o,{height:r,width:s})},va=async({options:e,content:t})=>{const a=new URLSearchParams({...t});return await ma({options:e,parameters:a}),new Promise((t=>{ga.once(wa.Response,(a=>{a.name===e.name&&t(a)}))}))},Pa=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Switch Workspace",windowOptions:{url:I+ia.ResponseModal,name:B.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:`Are you sure you want to switch to ${t}`,body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),{top:o,left:i}=await Sa(a,e),r={...a,top:o,left:i};return(await va({options:r,content:n})).data===ua.Affirmative},ba=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Delete Workspace",windowOptions:{url:I+ia.ResponseModal,name:B.BrowserMenu,defaultHeight:144,defaultWidth:372,modalParentIdentity:e},content:{title:"Are you sure you want to permanently delete this workspace?",body:`${t}`,affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),{top:o,left:i}=await Sa(a,e),r={...a,top:o,left:i};return(await va({options:r,content:n})).data===ua.Affirmative},ka=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Platform Quit",windowOptions:{url:I+ia.ResponseModal,name:B.BrowserMenu,defaultHeight:134,defaultWidth:474,modalParentIdentity:e},content:{title:`Are you sure you want to quit ${"Platform"===t?"the platform":t}?`,body:"Any unsaved changes to the workspace will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),{top:o,left:i}=await Sa(a,e),r={...a,top:o,left:i};return(await va({options:r,content:n})).data===ua.Affirmative},Wa=async e=>{const{windowOptions:t,content:a}=await(async e=>({title:"Restore Changes",windowOptions:{url:I+ia.ResponseModal,name:B.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:"Are you sure you want to restore to last saved changes?",body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e),{top:n,left:o}=await Sa(t,e),i={...t,top:n,left:o};return(await va({options:i,content:a})).data===ua.Affirmative};var Ca;!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info"}(Ca||(Ca={}));const Ia={alwaysOnTop:!0,autoShow:!1,cornerRounding:{height:5,width:5},frame:!1,resizable:!1,showTaskbarIcon:!1};var Aa;!function(e){e.Locked="LockClosedIcon",e.Unlocked="LockOpen1Icon"}(Aa||(Aa={}));const Ma=function(e=Ia){const t=new Map;return async(a,n,o,i)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const i=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await i.close()}const r=`${B.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:r});const s=await fin.Platform.getCurrentSync().createWindow({...e,name:r,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),100),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(`New ${i} indicator: ${o}`),s.once("closed",(()=>{t.delete(a)}))}}();async function Ta(e,t,a,n){const o=new URLSearchParams;o.append("type",e),o.append("message",t),o.append("parentName",a),o.append("icon",n||"");const i=`${da(ia.BrowserIndicator)}?${o.toString()}`;return Ma("browser"+a,i,t,e)}function Ea(e,t,a){return Ta(Ca.SUCCESS,e,t,a)}const Oa=async e=>{const t=xt(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))t.Storage.saveWorkspace(a),t.setActiveWorkspace(a),Ea("Workspace Saved!",e.name);else{t.Browser.wrapSync(e)._openSaveModal({menuType:h.SAVE_WORKSPACE})}},Ra=e=>{xt().Browser.wrapSync(e)._openSaveModal({menuType:h.SAVE_WORKSPACE_AS})},Va=async(e,t)=>{const a=xt().Browser.wrapSync(e),n=await xt().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));if(n.some((e=>o.pageId===e.pageId)))try{await xt().Storage.savePage((c=o,{...c,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),Ea("Page saved",o.parentIdentity.name)}catch{i="Page failed to save",r=o.parentIdentity.name,Ta(Ca.ERROR,i,r,s)}else a._openSaveModal({id:o.pageId,menuType:h.SAVE_PAGE});var i,r,s,c},xa=async(e,t)=>{const a=xt().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:h.SAVE_PAGE_AS})},Ba=async(e,t)=>{if(!e)return;const a=t.identity,n=await Ee(a),o=xt().Browser.wrapSync(t.identity);switch(e.type){case p.NewWindow:const{newPageUrl:t}=await Bt(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");xt().createView({target:void 0,url:t});break;case p.NewPage:await(async e=>{const t=await Lt(e);await xt().Browser.wrapSync(e).addPage(t)})(a);break;case p.CloseWindow:n.dispatch(Oe.CloseBrowserWindow);break;case p.SaveWorkspace:await Oa(a);break;case p.SavePage:await Va(a);break;case p.SavePageAs:await xa(a);break;case p.SaveWorkspaceAs:await Ra(a);break;case p.RenameWorkspace:o._openSaveModal({menuType:h.RENAME_WORKSPACE});break;case p.SwitchWorkspace:await(async(e,t)=>{const a=xt(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await Pa(e,n.title)&&(await a.applyWorkspace(n),Ea("Workspace Switched!",e.name))})(a,e);break;case p.DeleteWorkspace:await(async(e,t)=>{const a=xt(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await ba(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),Ea("Workspace Deleted!",e.name))})(a,e);break;case p.Quit:const i=await aa();await ka(a,i)&&fin.Platform.getCurrentSync().quit();break;case p.OpenStorefront:(async()=>{await q()&&G(F)})();break;case p.RestoreChanges:const r=await async function(){const e=xt(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();await Wa(a)&&await pe(r);break;case p.Custom:if(e.action){const t={callerType:y.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};xt()._invokeCustomAction(e.action.id,t)}}},La=async(e,t)=>{const a=await Ee(t.identity),n=xt();switch(e.type){case l.Save:await Va(t.identity,t.pageId);break;case l.SaveAs:await xa(t.identity,t.pageId);break;case l.Rename:await n.Browser.wrapSync(t.identity)._openSaveModal({menuType:h.RENAME_PAGE,id:t.pageId});break;case l.Duplicate:a.dispatch(Oe.DuplicatePage,t.pageId);break;case l.Close:a.dispatch(Oe.ClosePage,t.pageId);break;case l.Custom:if(e.action){const a={callerType:y.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};xt()._invokeCustomAction(e.action.id,a)}}},_a=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case g.SavePage:await Va(a);break;case g.SaveWorkspace:await Oa(a);break;case g.SavePageAs:await xa(a);break;case g.SaveWorkspaceAs:await Ra(a);break;case g.Custom:if(e.action){const a={callerType:y.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};xt()._invokeCustomAction(e.action.id,a)}}}},Da=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Bt(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...Pe("New View",t),url:t,target:e}})(e);await xt().createView(o,e,n.identity)},Ua=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Bt(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},Fa=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await xt().createView(n,e,t.identity)})(e,a)}))},Ga=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case w.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await xt().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await Ee(e)).dispatch(Oe.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case w.OpenWithDefaultBrowser:await Ua(a,t.selectedViews);break;case w.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case w.NewView:await Da(a,t);break;case w.DuplicateViews:Fa(a,t.selectedViews);break;case w.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await Ee(e)).dispatch(Oe.AddToChannel,n)})(a,e.option,t.selectedViews);break;case w.RemoveFromChannel:(async(e,t)=>{(await Ee(e)).dispatch(Oe.RemoveFromChannel,t)})(a,t.selectedViews);break;case w.Custom:if(e.action){const n={callerType:y.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};xt()._invokeCustomAction(e.action.id,n)}}};async function Na(e,t){const a=await ea(e.identity),n=await aa();a.find((e=>e.data?.type===p.Quit)).label=`Quit ${n}`;const o={...e,template:a,callback:Ba};await this.openGlobalContextMenu(o,t)}const $a=async(e,t)=>{const{x:a,y:n,identity:o,template:i,callback:r}=e,{data:s}=await function(e,t){if(!m)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:i},fin.Window.wrapSync(o));r(s,e)};async function Ha(e,t){const a={...e,callback:Ga};await this.openViewTabContextMenu(a,t)}async function qa(e,t){const a=await xt().Storage.getPage(e.pageId),n=await(o=!!a,[{type:Ct.Label,label:"Save Page",data:{type:l.Save}},{type:Ct.Label,label:"Save Page As",data:{type:l.SaveAs}},{type:Ct.Separator,data:void 0},{type:Ct.Label,label:"Rename Page",data:{type:l.Rename},enabled:o},{type:Ct.Label,label:"Duplicate Page",data:{type:l.Duplicate}},{type:Ct.Separator,data:void 0},{type:Ct.Label,label:"Close Page",data:{type:l.Close}}]);var o;const i={...e,template:n,callback:La};await this.openPageTabContextMenu(i,t)}async function Ka(e,t){const a={...e,template:await(async()=>[{type:Ct.Label,label:"Save Workspace",data:{type:g.SaveWorkspace}},{type:Ct.Label,label:"Save Workspace As",data:{type:g.SaveWorkspaceAs}},{type:Ct.Separator,data:void 0},{type:Ct.Label,label:"Save Page",data:{type:g.SavePage}},{type:Ct.Label,label:"Save Page As",data:{type:g.SavePageAs}}])(),callback:_a};await this.openSaveButtonContextMenu(a,t)}const ja=v&&pt("openfin-workspace-platform-workspaces","workspaces");async function Qa(e){const t=await ut(e,ja);return t?(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId,t):null}async function za(e){const t=await ft(ja),a=await Promise.all(t.map((e=>Qa(e.toString()))));return e?a.filter((t=>mt(t.title,e))):a}async function Ja({workspace:e}){await gt(e.workspaceId,e,ja)}async function Xa(e){await yt(e,ja)}async function Ya({workspaceId:e,workspace:t}){if(void 0===await Qa(e))throw new Error("workspace not found");await Ja({workspace:t}),e!==t.workspaceId&&await Xa(e)}async function Za({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case i.Snapshot:return a.applySnapshot(e.manifest);case i.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case i.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const en=e=>e&&"object"==typeof e&&!Array.isArray(e);function tn(e,...t){if(!t.length)return e;const a=t.shift();return en(e)&&en(a)&&Object.entries(a).forEach((([t,a])=>{if(en(a))return e[t]||(e[t]={}),tn(e[t],a);e[t]=a})),tn(e,...t)}const an=I+ia.Browser;function nn(e,t){const a=tn({},t,e);return a.detachOnClose=!0,a}async function on(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const rn=e=>{const t=e.name===B.Home,a=e.name?.startsWith(B.HomeInternal),n=e.name?.startsWith(B.BrowserMenu);return!t&&!a&&!n},sn=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),cn={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:an,contextMenu:!0,closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${I}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},dn={dimensions:{borderWidth:3,headerHeight:30}},pn=async(e,t)=>{const a=await xt().Storage.getPages(),n=await xt().Browser.getAllAttachedPages();return e.map((e=>{let o=e.title;void 0===e.pageId&&(e.pageId=ae());const i=a.find((e=>e.title===o));return(i&&i.pageId!==e.pageId||n.find((e=>e.title===o)))&&(o=de(e.title,[...a,...n].map((e=>e.title)))),n.push(e),{...t,...e,title:o}}))},ln=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function wn(e){const t=await $();return await Promise.all(t.map((({identity:e})=>(async e=>(await Ee(e)).dispatch(Re.UpdatePagesWindowOptions))(e)))),e?e():ct()}let un=[];const gn=()=>un;const yn=e=>async t=>{class a extends t{constructor(){super(),this.isWorkspacePlatform=()=>!0,this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=Ke,this.getAllAttachedPages=Le,this.getPagesForWindow=Qe,this.getPageForWindow=ze,this.setActivePage=je,this.launchApp=Za,this.savePage=$e,this.saveWorkspace=ge,this.createSavedPageInternal=Fe,this.updateSavedPageInternal=Ne,this.deleteSavedPageInternal=Ge,this.reorderPagesForWindow=Je,this.getUniquePageTitle=Xe,this.updatePageForWindow=qe,this.getLastFocusedBrowserWindow=he,this.getThemes=gn,this.invokeCustomActionInternal=nt,this.getCurrentWorkspace=ue,this.applyWorkspace=pe,this.setActiveWorkspace=le,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this)}async getSnapshot(){const e=await wn((async()=>ct(await super.getSnapshot(void 0,fin.me.identity))));return{...e,windows:e.windows.filter(rn).map(st)}}async applySnapshot({snapshot:e,options:t}){t?.closeExistingWindows&&await async function(){const e=await $();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}();let a=e;return"string"==typeof a&&(a=await super.fetchManifest({manifestUrl:a},fin.me.identity)),async function(e,t){const a=await Le(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),o=(e.windows||[]).filter((({layout:e})=>!!e)),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const r=[],s=o.map((async e=>{const t=sn(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await Xe();a.push(await At(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([je({identity:o.parentIdentity,pageId:o.pageId}),ln(o.parentIdentity)]),a.length&&r.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(s),!r.length)return;const c=fin.Platform.getCurrentSync();return(t||c.applySnapshot.bind(c))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:r})}(a,(e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}})))}async createWindow(t,a){let n=sn(t);const o=await this.getThemes();n=await(async(e,t,a)=>{let n=e;const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=tn({},t.defaultWindowOptions,n,cn),n.layout=tn(n.layout,dn),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=(e=>{const t=e;return t.workspacePlatform||(t.workspacePlatform={}),t.workspacePlatform._internalDeferShowEnabled=!0,t.workspacePlatform._internalAutoShow=t.workspacePlatform?._internalAutoShow||void 0===t.autoShow||t.autoShow,t.autoShow=!1,t})(n)}return n.workspacePlatform?.pages&&(n.workspacePlatform.pages=await pn(n.workspacePlatform.pages,t?.defaultPageOptions)),n.cornerRounding&&delete n.cornerRounding,n})(n,e,o[0]),n=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(n);return(e=>async(t,a)=>{const n=await e(t,a);return t?.workspacePlatform?._internalDeferShowEnabled?(await n.addListener(L.ShowRequested,(()=>{})),n):n})(((e,t)=>super.createWindow(e,t)))(n,a)}async createView(t,a){return t.opts=nn(t.opts,e?.defaultViewOptions),t.opts=await on(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await nn(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await on(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return vt.apply(this,e)}async getSavedPages(...e){return Pt.apply(this,e)}async createSavedPage(...e){return bt.apply(this,e)}async deleteSavedPage(...e){return kt.apply(this,e)}async updateSavedPage(...e){return Wt.apply(this,e)}async getSavedWorkspace(...e){return Qa.apply(this,e)}async getSavedWorkspaces(...e){return za.apply(this,e)}async createSavedWorkspace(...e){return Ja.apply(this,e)}async deleteSavedWorkspace(...e){return Xa.apply(this,e)}async updateSavedWorkspace(...e){return Ya.apply(this,e)}async attachPagesToWindow(t){t.pages=await pn(t.pages,e?.defaultPageOptions),await He(t)}async openGlobalContextMenuInternal(...e){return Na.apply(this,e)}async openGlobalContextMenu(...e){return $a.apply(this,e)}async openViewTabContextMenuInternal(...e){return Ha.apply(this,e)}async openViewTabContextMenu(...e){return $a.apply(this,e)}async openPageTabContextMenuInternal(...e){return qa.apply(this,e)}async openPageTabContextMenu(...e){return $a.apply(this,e)}async openSaveButtonContextMenu(...e){return $a.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Ka.apply(this,e)}}return"function"==typeof e?.overrideCallback?e.overrideCallback(a):new a};async function hn(){!function(){const e=x();e.addListener(E.WindowOptionsChanged,et),e.addListener(E.WindowClosed,tt),e.addListener(E.WindowCreated,tt)}(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",fe)}();le(await we())}let fn;function mn(e){if(!m)throw new Error("Cannot be used outside an OpenFin env.");if(!fn){fin.Platform.getCurrentSync().once("platform-api-ready",(()=>hn())),e.title&&(t=e.title,ta=t),fn=fin.Platform.init({overrideCallback:yn(e),interopOverride:e?.interopOverride}),(async e=>{j(K.Platform,e)})({allowed:!0})}var t;return fn}const Sn=async e=>{const t=A.split(".").map((e=>parseInt(e))),a=await(async e=>new Promise((async t=>{const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(t),n=e?.theme;var o;if(n&&((o=n).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),un=o,(async e=>{j(K.Theming,e)})({allowed:!0})),e?.customActions&&(at=e?.customActions),a){return mn(e?.browser)}throw new Error(`Runtime version is not supported.  ${t[0]}.${t[1]}.${t[2]}.* is required`)};module.exports=c})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>ze.Pt,CLIFilterOptionType:()=>ze.el,CLITemplate:()=>ze.yW,deregister:()=>Ye,hide:()=>tt,register:()=>Qe,show:()=>et});var r={};n.r(r),n.d(r,{subscribe:()=>oe});var o={};n.r(o),n.d(o,{create:()=>Ge});var i=n(6532),s=n(7405);const a="home";var c;!function(e){e.Commands="home-commands"}(c||(c={}));var d,u=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(d||(d={}));const f="all",l="0",p="5",g="6",w=()=>{};function h(e,t){return e?`${e}-${t}`:t}function y(e){return`__search-${e}-topic__`}const v=new Map;function m(e,t){v.has(e)||v.set(e,new Set),v.get(e).add(t)}function S(e,t){const n=v.get(e);n&&n.delete(t)}const C=new Map;function P(e,t){C.has(e)||C.set(e,new Set),C.get(e).add(t)}function R(e,t){const n=C.get(e);n&&n.delete(t)}const b=new Map;async function T(e,t){b.has(e)||b.set(e,new Map),b.get(e).set(t.id,t);const n=v.get(e);if(!n)return;const r=[...n].map((e=>e()));await Promise.all(r)}async function I(e,t){const n=b.get(e);if(!n)return;n.delete(t);const r=C.get(e);if(!r)return;const o=[...r].map((e=>e()));await Promise.all(o)}function L(e){return b.get(e)?[...b.get(e).values()]:[]}function k(e){const t=b.get(e);t&&t.clear()}function M(e,t){const n=b.get(e);return n?n.get(t):null}function B(e,t,n){return{...e,action:n||e.actions[0],dispatcherIdentity:t}}function O(e,t,n="ascending"){const r=e||[];if(!t?.length)return r;const o=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);o.push(e)}));let s=r.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...o),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function W(e){const t={};let n=[];let r=[];let o=d.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>r,t.setRevokedBuffer=e=>{r=e,r?.length&&t.onChange()},t.onChange=w;const i={};return t.res=i,i.close=()=>{o!==d.Close&&(o=d.Close,t.onChange())},i.open=()=>{o!==d.Open&&(o=d.Open,t.onChange())},i.respond=n=>{const r=O(t.getResultBuffer(),n,e);t.setResultBuffer(r)},i.revoke=(...e)=>{const n=new Set(e),r=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(r),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function D(e,t,n){const r=new Set;let o=!1;return{close:()=>{o=!0;for(const e of r)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{r.add(e),o&&e()},removeListener:e=>{r.delete(e)}}}}function x(){return{name:fin.me.name,uuid:fin.me.uuid}}function A(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const E="deregistered or does not exist",F=new Error(`provider ${E}`),_=new Error("provider with name already exists"),$=new Error("bad payload"),q=new Error("subscription rejected"),G=new Error(`channel ${E}`),N=new Map;function H(e){const t=U(e);if(t)return t;throw G}function U(e){const t=N.get(e);if(t)return t}function V(e,t){N.set(e,t)}const j=new Map;function K(e){j.has(e)||j.set(e,new Map);const t=j.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function X(e,t){return(await H(e)).dispatch(l,t)}function J({namespacedTopic:e,topic:t}){const n=M.bind(null,e),r=K(e),o=X.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=$;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=F;return{error:e.message}}const d=r.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=D(t,s,e),d.set(e.id,u));const f=W(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();o({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function Z(e,t,n){const r=n||await H(e),o=x(),i={identity:o,...t,onUserInput:void 0,onResultDispatch:void 0};await r.dispatch("2",i),await T(e,{identity:o,...t})}async function z(e,t){const n=await H(e);return await n.dispatch("3",t),I(e,t)}async function Q(e,t,n,r){const o=B(n,x(),r),i=M(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(o)}const s={providerId:t,result:o};return(await H(e)).dispatch(p,s)}async function Y(e,t){const n={...t,context:t?.context||{}},r={},o=async function*(e,t,{setState:n}){const r=await H(e);for(;;){const e=await r.dispatch("1",t),o=e.error;if(o)throw new Error(o);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{r.state=e}});let i=await o.next();return r.id=n.id,r.close=()=>{!async function(e,t){(await H(e)).dispatch(g,{id:t})}(e,r.id)},r.next=()=>{if(i){const e=i;return i=void 0,e}return o.next()},r}async function ee(e){return(await H(e)).dispatch("4",null)}async function te(e){const t=await H(e);var n;n=e,N.delete(n),k(e),await t.disconnect()}function ne(e){const{namespacedTopic:t}=e,n=K(t);return async r=>{if(!U(t))return;const o=n.getRequestsForIdentity(r);for(const{req:e,close:t}of o.values())t(),o.delete(e.id);V(t,(async e=>{const{namespacedTopic:t}=e,n=await re(e);for(const e of L(t))await Z(t,e,n);return n})(e))}}async function re(e){const{namespacedTopic:t}=e,n=y(t),r=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return r.register(l,J(e)),r.register(g,function(e){const t=K(e);return(e,n)=>{const r=t.getRequestsForIdentity(n),o=r.get(e.id);o&&(o.close(),r.delete(e.id))}}(t)),r.register(p,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)return;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r.onDisconnection(ne(e)),r}async function oe(e){const t=("string"==typeof e?e:e?.topic)||f,n=("string"==typeof e?null:e?.uuid)||A(),r=h(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=U(r);return i||(i=re(o),V(r,i),await i),{getAllProviders:ee.bind(null,r),register:Z.bind(null,r),search:Y.bind(null,r),deregister:z.bind(null,r),dispatch:Q.bind(null,r),disconnect:te.bind(null,r)}}const ie=new Map;function se(e){const t=ae(e);if(t)return t;throw G}function ae(e){const t=ie.get(e);if(t)return t}const ce=new Map;function de(e,t){ce.has(e)||ce.set(e,new Set),ce.get(e).add(t)}function ue(e,t){const n=ce.get(e);n&&n.delete(t)}var fe=n(5316);function le(e){return[...L(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function pe(e,t){if(M(e,t.id))throw new Error("provider with name already exists");const n=x();await T(e,{identity:n,...t})}function ge(e,t){I(e,t)}async function we(e,t,n,r){const o=M(e,t);if(!o)throw F;const{onResultDispatch:i}=o;if(!i)return;return i(B(n,x(),r))}async function*he(e,t,n){const r=function(e,t){const n=[],r=[],o=[],i=[];for(const s of e){const e=W(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon}};n.push(a),r.push(e);const c=(async()=>{try{const{results:n,context:r}=await s.onUserInput(t,e.res);a.results=O(a.results,n),a.context={...a.context,...r}}catch(e){a.error=e}c.done=!0})();i.push(c),o.push(o.length)}return{providerResponses:n,listenerResponses:r,openListenerResponses:o,initialResponsePromises:i}}(t.targets?t.targets.map((t=>M(e,t))).filter((e=>!!e)):[...L(e).filter((e=>!e.hidden))],t),{providerResponses:o,listenerResponses:i}=r;let{openListenerResponses:s,initialResponsePromises:a}=r,c=fe.D.Fetching;const u=e=>{c=e,n.setState(c)};let f,l=!1;t.onClose((()=>{l=!0,f&&f()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(fe.D.Fetched),e=!0)}let t,n=!1;const r=()=>{n=!0,t&&t()},p=[];for(const t of s){const n=i[t],s=o[t],a=n.getStatus();(a===d.Open||c===fe.D.Fetching&&a===d.Initial)&&(p.push(t),n.onChange=r);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=O(s.results,u),e=!0);const f=n.getRevokedBuffer();if(f.length){n.setRevokedBuffer([]);const t=new Set(f);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=p,e&&(yield o),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{f=e}))])}while(s.length||a.length);return u(fe.D.Complete),o}let ye=0;function ve({namespacedTopic:e,topic:t},n){ye+=1;const r=D(t,ye.toString(),n),o=he(e,r.req,{setState:e=>{o.state=e}});return o.id=ye.toString(),o.close=r.close,o.state=fe.D.Fetching,o}const me=new Map;function Se(e,t){return`${e}:${t}`}function Ce(e){return async(t,...n)=>{if(!t)return{error:$.message};let r;if(t.id)r=Se(e.namespacedTopic,t.id);else{const n=ve(e,t);r=Se(e.namespacedTopic,n.id),t.id=n.id,me.set(r,{generator:n})}const o=me.get(r);clearTimeout(o.timeout);const i=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{me.delete(e)}),1e4)}(r),{...i,id:t.id,state:o.generator.state}}}function Pe(e,t,n){return se(e).dispatch(t,g,{id:n})}function Re(e){return t=>function(e,t){const n=Se(e,t),r=me.get(n);r&&r.generator.close()}(e,t.id)}async function be(e,t,{id:n,query:r,context:o,targets:i}){const s=se(e),a={id:n,query:r,context:o,targets:i,providerId:t.id},c=await s.dispatch(t.identity,l,a),d=c.error;if(d)throw new Error(d);return c}const Te=new Map;function Ie(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Le=new Map;function ke(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Ie.bind(null,e,t.identity),r=Pe.bind(null,e,t.identity),o=be.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!Te.has(a)){const e=()=>{r(i.id),Te.delete(a)};Te.set(a,e),i.onClose(e)}const c=ke(e,t.id,i.id),u=()=>{Le.delete(c),s.close()};i.onClose(u),Le.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===d.Open&&s.open(),e.status===d.Close&&u()}));const f=await o(i);return f.status===d.Open&&s.open(),f.status!==d.Close&&f.status!==d.Initial||u(),f}}function Be(e,t){return async n=>{const r=se(e),o={providerId:t.id,result:n};return r.dispatch(t.identity,p,o)}}const Oe=new Map;function We(e,t){return`${e}-${t.name}-${t.uuid}`}function De(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(M(e,t.id))throw _;t.identity=n,await async function(e,t){const n=We(e,t.identity);Oe.has(n)||Oe.set(n,[]),Oe.get(n).push(t.id),await T(e,{...t,onUserInput:Me(e,t),onResultDispatch:Be(e,t)})}(e,t)}}function xe(e){return t=>{t&&function(e,t){const n=M(e,t);if(!n)return;const r=We(e,n.identity),o=Oe.get(r);if(o){const n=o.findIndex((e=>e===t));-1!==n&&(o.splice(n,1),I(e,t))}}(e,t)}}const Ae=new Map;function Ee(e,t){Ae.has(e)||Ae.set(e,new Set),Ae.get(e).add(t)}function Fe(e,t){const n=Ae.get(e);n&&n.delete(t)}function _e(e){return async t=>{!function(e,t){const n=We(e,t),r=Oe.get(n);if(r){for(const t of r)I(e,t);Oe.delete(n)}}(e,t);const n=Ae.get(e);n&&n.forEach((e=>e(t)))}}async function $e(e){const{namespacedTopic:t}=e,n=y(e.namespacedTopic),r=await(o=n,fin.InterApplicationBus.Channel.create(o));var o;return r.onConnection(function({namespacedTopic:e}){return async t=>{const n=ce.get(e);if(n)for(const e of n)if(!await e(t))throw q}}(e)),r.onDisconnection(_e(t)),r.register(g,Re(t)),r.register(l,function(e){return t=>{const n=ke(e,t.providerId,t.id),r=Le.get(n);r&&r(t)}}(t)),r.register("2",De(t)),r.register("3",xe(t)),r.register("4",function(e){return async()=>le(e)}(t)),r.register("1",Ce(e)),r.register(p,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)throw F;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r}async function qe(e){const t=se(e);var n;n=e,ie.delete(n),await t.destroy(),k(e)}async function Ge(e){const t=("string"==typeof e?e:e?.topic)||f,n=A(),r=h(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=ae(r);i||(i=await $e(o),function(e,t){ie.set(e,t)}(r,i));const s=ue.bind(null,r),a=Fe.bind(null,r),c=S.bind(null,r),d=R.bind(null,r);return{getAllProviders:le.bind(null,r),search:ve.bind(null,o),register:pe.bind(null,r),deregister:ge.bind(null,r),onSubscription:de.bind(null,r),onDisconnect:Ee.bind(null,r),onRegister:m.bind(null,r),onDeregister:P.bind(null,r),dispatch:we.bind(null,o),disconnect:qe.bind(null,r),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ne}=o,{subscribe:He}=r,Ue={create:Ne,subscribe:He,defaultTopic:"all"},Ve=()=>{const e=window;e.search=Ue,e.fin&&(e.fin.Search=Ue)},je=e=>{const t=()=>{Ve(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ve();const e="load",t=je(e);window.addEventListener(e,t);const n="DOMContentLoaded",r=je(n);window.addEventListener(n,r)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await He({topic:e,uuid:u.q9.Workspace}))}(a)}let Je;async function Ze(e){return await async function(){return Je||(Je=Xe()),Je}(),Ke.get(e)}var ze=n(3758);const Qe=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,s.aB)();const t=await Ze(a);try{const n=await t.register(e);return(0,i.ck)({allowed:!0}),n}catch(e){throw(0,i.ck)({allowed:!1,rejectionCode:e.message}),e}},Ye=async e=>{await(0,s.aB)();return(await Ze(a)).deregister(e)};async function et(){return(await(0,s.Xl)()).dispatch(s.Ml.ShowHome,void 0)}async function tt(){return(await(0,s.Xl)()).dispatch(s.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>r.w});var r=n(5316)},3758:(e,t,n)=>{var r,o,i;n.d(t,{Pt:()=>r,yW:()=>o,el:()=>i}),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var r,o;n.d(t,{L:()=>r,T:()=>o}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(o||(o={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>r,Go:()=>o,bI:()=>i,ZJ:()=>s});const r={Container:"Container",Button:"Button"},o={Text:"Text",Image:"Image",List:"List"},i={...r,...o};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>i.L,StorefrontTemplate:()=>i.T,deregister:()=>f,hide:()=>l,register:()=>u,show:()=>p});var r=n(6532),o=n(7405);n(7564);var i=n(6114);let s;const a=new Map,c=e=>{if(!a.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return a.get(e)},d=async e=>{const t=await(0,o.Xl)();if(a.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return a.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(o.Ml.GetStorefrontProviderApps,(e=>c(e).getApps())),e.register(o.Ml.GetStorefrontProviderFooter,(e=>c(e).getFooter())),e.register(o.Ml.GetStorefrontProviderLandingPage,(e=>c(e).getLandingPage())),e.register(o.Ml.GetStorefrontProviderNavigation,(e=>c(e).getNavigation())),e.register(o.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>c(e).launchApp(t))))})(t),t.dispatch(o.Ml.RegisterStorefrontProvider,e)},u=e=>(s=d(e),(0,r.d9)({allowed:!0}),s),f=async e=>{await s,a.delete(e);return(await(0,o.Xl)()).dispatch(o.Ml.DeregisterStorefrontProvider,e)},l=async()=>{await s,await(0,o.aB)(),await(async()=>(await(0,o.Dm)()).dispatch(o.Ml.HideStorefront,void 0))()},p=async()=>{await s,await(0,o.aB)(),await(async()=>(await(0,o.Dm)()).dispatch(o.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var r=n(6678);const o=r.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!r.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await o;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),fin.System.openUrlWithBrowser(d(r.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>r});var r,o,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(r||(r={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,r.Workspace,r.Workspace},6678:(e,t,n)=>{var r;n.d(t,{sS:()=>o,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f,u0:()=>p}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(r||(r={}));const o="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:r.Local,a=o&&fin.me.uuid,c=o&&fin.me.name,d=(o&&fin.me.entityType,"prod"===r.Local),u=(r.Dev,r.Staging,r.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/7.3.7/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,p=(l("https://cdn.openfin.co/workspace/7.3.7"),l("https://cdn.openfin.co/workspace/7.3.7"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"7.3.7")},6532:(e,t,n)=>{n.d(t,{ck:()=>a,d9:()=>c});var r,o=n(6678),i=n(121);!function(e){e.Browser="Browser",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(r||(r={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||o.u0,componentName:e,componentVersion:o.u0,...t};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(r.Home,e)},c=async e=>{s(r.Storefront,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>c,OI:()=>d,iW:()=>u,JV:()=>f});var r,o,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(r||(r={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(o||(o={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const c={name:s.oC,uuid:s.AB};const d={name:r.Home,uuid:i.q9.Workspace},u=(r.Dock,i.q9.Workspace,r.Storefront,i.q9.Workspace,{name:i.q9.Workspace,uuid:i.q9.Workspace});const f=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var r,o;n.d(t,{D:()=>r,w:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>o,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,o=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=r})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/apps.ts":
/*!****************************!*\
  !*** ./client/src/apps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "developerContent": () => (/* binding */ developerContent),
/* harmony export */   "experoApp": () => (/* binding */ experoApp),
/* harmony export */   "getApps": () => (/* binding */ getApps),
/* harmony export */   "notificationStudio": () => (/* binding */ notificationStudio),
/* harmony export */   "processManager": () => (/* binding */ processManager)
/* harmony export */ });
async function getApps() {
    return [experoApp, notificationStudio, processManager, developerContent];
}
const experoApp = {
    appId: "expero-company-news",
    title: "Gateway - Company News",
    manifest: "https://openfin-iex.experolabs.com/openfin/manifests/company-news.json",
    manifestType: "view",
    icons: [
        {
            src: "https://openfin-iex.experolabs.com/favicon.ico"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "Expero",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/expero-news-view.png"
        }],
    tags: ["expero", "view", "interop"]
};
const notificationStudio = {
    appId: "notifications-generator",
    title: "OpenFin Notifications Studio",
    manifestType: "manifest",
    description: "Notifications Studio: This is OpenFin's tool for demonstrating the power of our Notification Center. Use it to create local notifications or use some of the examples shown in our Catalog. Experiment with our features and see the power that OpenFin Notification Center can bring to your applications.",
    manifest: "https://cdn.openfin.co/studio/notification/app.json",
    icons: [
        { src: "https://cdn.openfin.co/demos/notifications/generator/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-notification-studio.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const processManager = {
    appId: "openfin-process-manager",
    title: "OpenFin Process Manager",
    manifestType: "manifest",
    description: "Process Manager: This is OpenFin's tool for helping developers build OpenFin Applications. It lets you see the OpenFin applications that are running, the performance of the applications (memory and cpu) and easy access to the dev tools for the Windows of your application.",
    manifest: "https://cdn.openfin.co/process-manager/app.json",
    icons: [
        { src: "https://cdn.openfin.co/process-manager/img/proc-mgr-icon.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-process-manager.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const developerContent = {
    appId: "openfin-developer-page",
    title: "OpenFin Developer Docs",
    manifestType: "snapshot",
    description: "Shows a collection of OpenFin developer pages and provides an example of how you can present a pre-built page as a launch target in OpenFin Home. This entry has a manifest type of 'snapshot'.",
    manifest: "http://localhost:8080/snapshot.json",
    icons: [
        { src: "http://localhost:8080/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-page-docs.png"
        }],
    tags: ["page"]
};


/***/ }),

/***/ "./client/src/store.ts":
/*!*****************************!*\
  !*** ./client/src/store.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "hide": () => (/* binding */ hide),
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "show": () => (/* binding */ show)
/* harmony export */ });
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");



const providerId = "register-with-store-basic";
async function register() {
    console.log("Initialising the storefront provider.");
    let provider = await getStoreProvider();
    try {
        await _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.register(provider);
        console.log("Storefront provider initialised.");
    }
    catch (err) {
        console.error("An error was encountered while trying to register the content store provider", err);
    }
}
async function deregister() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.deregister(providerId);
}
async function show() {
    console.log("Showing the store.");
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.show();
}
async function hide() {
    console.log("Hiding the store.");
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.Storefront.hide();
}
async function getStoreProvider() {
    console.log("Getting the store provider.");
    return {
        id: providerId,
        title: "Basic Store",
        icon: "http://localhost:8080/favicon.ico",
        getNavigation: getNavigation,
        getLandingPage: getLandingPage,
        getFooter: getFooter,
        getApps: _apps__WEBPACK_IMPORTED_MODULE_2__.getApps,
        launchApp: async (app) => {
            let platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_1__.getCurrentSync)();
            await platform.launchApp({ app });
        },
    };
}
async function getNavigation() {
    console.log("Showing the store navigation.");
    let navigationSections = [
        {
            id: "apps",
            title: "Apps",
            items: [
                {
                    id: "view",
                    title: "Views",
                    templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                    templateData: {
                        apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.experoApp],
                    },
                },
                {
                    id: "page",
                    title: "Pages",
                    templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                    templateData: {
                        apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.developerContent],
                    },
                },
                {
                    id: "manifest",
                    title: "Web Apps",
                    templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                    templateData: {
                        apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.notificationStudio, _apps__WEBPACK_IMPORTED_MODULE_2__.processManager],
                    },
                },
            ],
        },
    ];
    return navigationSections;
}
async function getLandingPage() {
    console.log("Getting the store landing page.");
    let landingPage = {
        hero: {
            title: "Custom Hero Title",
            description: "This is a demonstration of the hero section that you can configure for your store.",
            cta: {
                id: "hero-1",
                title: "Hero Apps!",
                templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                templateData: {
                    apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.notificationStudio, _apps__WEBPACK_IMPORTED_MODULE_2__.processManager],
                },
            },
            image: {
                src: "http://localhost:8080/images/superhero-unsplash.jpg",
            },
        },
        topRow: {
            title: "Custom Top Row Content",
            items: [
                {
                    id: "top-row-item-1",
                    title: "Expero",
                    description: "A collection of example views from Expero showing the power of interop and context sharing.",
                    image: {
                        src: "http://localhost:8080/images/coding-1-unsplash.jpg",
                    },
                    templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                    templateData: {
                        apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.experoApp],
                    },
                },
                {
                    id: "top-row-item-2",
                    title: "Dev Tools",
                    description: "A collection of developer tools that can aid with building and debugging OpenFin applications.",
                    image: {
                        src: "http://localhost:8080/images/coding-2-unsplash.jpg",
                    },
                    templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                    templateData: {
                        apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.notificationStudio, _apps__WEBPACK_IMPORTED_MODULE_2__.processManager],
                    },
                },
            ],
        },
        middleRow: {
            title: "A collection of simple views that show how to share context using the Interop API.",
            apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.experoApp],
        },
        bottomRow: {
            title: "Quick Access",
            items: [
                {
                    id: "bottom-row-item-1",
                    title: "Views",
                    description: "A collection of views made available through our catalog.",
                    image: {
                        src: "http://localhost:8080/images/coding-4-unsplash.jpg",
                    },
                    templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                    templateData: {
                        apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.experoApp],
                    },
                },
                {
                    id: "bottom-row-item-2",
                    title: "Web Apps",
                    description: "A collection of web apps built using OpenFin.",
                    image: {
                        src: "http://localhost:8080/images/coding-5-unsplash.jpg",
                    },
                    templateId: _openfin_workspace__WEBPACK_IMPORTED_MODULE_0__.StorefrontTemplate.AppGrid,
                    templateData: {
                        apps: [_apps__WEBPACK_IMPORTED_MODULE_2__.notificationStudio, _apps__WEBPACK_IMPORTED_MODULE_2__.processManager],
                    },
                },
            ],
        },
    };
    return landingPage;
}
async function getFooter() {
    console.log("Getting the store footer.");
    return {
        logo: { src: "http://localhost:8080/favicon.ico", size: "32" },
        text: "Welcome to the OpenFin Sample Footer",
        links: [
            {
                title: "Github",
                url: "https://github.com/built-on-openfin/workspace-starter",
            },
            {
                title: "YouTube",
                url: "https://www.youtube.com/user/OpenFinTech",
            },
        ],
    };
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./client/src/store.ts");


async function init() {
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser: {}
    });
    let registerStore = document.getElementById("register");
    let showStore = document.getElementById("show");
    let hideStore = document.getElementById("hide");
    let deregisterStore = document.getElementById("deregister");
    registerStore.onclick = async () => {
        await (0,_store__WEBPACK_IMPORTED_MODULE_1__.register)();
        showStore.style.display = "unset";
        hideStore.style.display = "unset";
        deregisterStore.style.display = "unset";
        registerStore.style.display = "none";
    };
    deregisterStore.onclick = async () => {
        showStore.style.display = "none";
        hideStore.style.display = "none";
        deregisterStore.style.display = "none";
        registerStore.style.display = "unset";
        await (0,_store__WEBPACK_IMPORTED_MODULE_1__.deregister)();
    };
    showStore.onclick = async () => {
        await (0,_store__WEBPACK_IMPORTED_MODULE_1__.show)();
    };
    hideStore.onclick = async () => {
        await (0,_store__WEBPACK_IMPORTED_MODULE_1__.hide)();
    };
}
window.addEventListener('DOMContentLoaded', async () => {
    await init();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sQ0FBQztRQUNqQyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFDakMsZUFBZSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3ZDLGFBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN0QyxNQUFNLGtEQUFVLEVBQUUsQ0FBQztJQUNyQixDQUFDLENBQUM7SUFFRixTQUFTLENBQUMsT0FBTyxHQUFHLEtBQUssSUFBRyxFQUFFO1FBQzVCLE1BQU0sNENBQUksRUFBRSxDQUFDO0lBQ2YsQ0FBQyxDQUFDO0lBRUYsU0FBUyxDQUFDLE9BQU8sR0FBRyxLQUFLLElBQUcsRUFBRTtRQUM1QixNQUFNLDRDQUFJLEVBQUUsQ0FBQztJQUNmLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxJQUFJLEVBQUU7SUFDckQsTUFBTSxJQUFJLEVBQUUsQ0FBQztBQUNmLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uL2NsaWVudC9zcmMvYXBwcy50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uL2NsaWVudC9zcmMvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLXN0b3JlLWJhc2ljL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1zdG9yZS1iYXNpYy8uL2NsaWVudC9zcmMvcHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGUsdCxhLG4sbyxpLHIscz17ZDooZSx0KT0+e2Zvcih2YXIgYSBpbiB0KXMubyh0LGEpJiYhcy5vKGUsYSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGEse2VudW1lcmFibGU6ITAsZ2V0OnRbYV19KX0sbzooZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkscjplPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX19LGM9e307cy5yKGMpLHMuZChjLHtBcHBNYW5pZmVzdFR5cGU6KCk9PmksQnJvd3NlckJ1dHRvblR5cGU6KCk9PnUsQ3VzdG9tQWN0aW9uQ2FsbGVyVHlwZTooKT0+eSxHbG9iYWxDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PnAsUGFnZVRhYkNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+bCxTYXZlQnV0dG9uQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5nLFNhdmVNb2RhbFR5cGU6KCk9PmgsVmlld1RhYk1lbnVPcHRpb25UeXBlOigpPT53LGdldEN1cnJlbnRTeW5jOigpPT54dCxpbml0OigpPT5Tbix3cmFwU3luYzooKT0+VnR9KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KGV8fChlPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KHR8fCh0PXt9KSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShhfHwoYT17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCJ9KG58fChuPXt9KSksZnVuY3Rpb24oZSl7ZS5NdWx0aVNlbGVjdD1cIk11bHRpU2VsZWN0XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0ocnx8KHI9e30pKTt2YXIgZCxwLGwsdyx1LGcseSxoLGY7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShkfHwoZD17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3V2luZG93PVwiTmV3V2luZG93XCIsZS5OZXdQYWdlPVwiTmV3UGFnZVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLkNsb3NlV2luZG93PVwiQ2xvc2VXaW5kb3dcIixlLlJlc3RvcmVDaGFuZ2VzPVwiUmVzdG9yZUNoYW5nZXNcIixlLlNhdmVXb3Jrc3BhY2U9XCJTYXZlV29ya3NwYWNlXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLlJlbmFtZVdvcmtzcGFjZT1cIlJlbmFtZVdvcmtzcGFjZVwiLGUuU3dpdGNoV29ya3NwYWNlPVwiU3dpdGNoV29ya3NwYWNlXCIsZS5EZWxldGVXb3Jrc3BhY2U9XCJEZWxldGVXb3Jrc3BhY2VcIixlLk9wZW5TdG9yZWZyb250PVwiT3BlblN0b3JlZnJvbnRcIixlLlF1aXQ9XCJRdWl0XCIsZS5DdXN0b209XCJDdXN0b21cIn0ocHx8KHA9e30pKSxmdW5jdGlvbihlKXtlLkNsb3NlPVwiQ2xvc2VcIixlLkR1cGxpY2F0ZT1cIkR1cGxpY2F0ZVwiLGUuUmVuYW1lPVwiUmVuYW1lXCIsZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZSBBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXdWaWV3PVwiTmV3Vmlld1wiLGUuRHVwbGljYXRlVmlld3M9XCJEdXBsaWNhdGVWaWV3XCIsZS5PcGVuV2l0aERlZmF1bHRCcm93c2VyPVwiT3BlbldpdGhEZWZhdWx0QnJvd3NlclwiLGUuUmVsb2FkVmlld3M9XCJSZWxvYWRUYWJcIixlLkNsb3NlVmlld3M9XCJDbG9zZVRhYlwiLGUuQWRkVG9DaGFubmVsPVwiQWRkVG9DaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cIlJlbW92ZUZyb21DaGFubmVsXCIsZS5DdXN0b209XCJDdXN0b21cIn0od3x8KHc9e30pKSxmdW5jdGlvbihlKXtlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQ29sb3JMaW5raW5nPVwiQ29sb3JMaW5raW5nXCIsZS5QcmVzZXRMYXlvdXRzPVwiUHJlc2V0TGF5b3V0c1wiLGUuU2F2ZU1lbnU9XCJTYXZlTWVudVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuTWluaW1pc2U9XCJNaW5pbWlzZVwiLGUuTWF4aW1pc2U9XCJNYXhpbWlzZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGd8fChnPXt9KSksZnVuY3Rpb24oZSl7ZS5DdXN0b21CdXR0b249XCJDdXN0b21CdXR0b25cIixlLkdsb2JhbENvbnRleHRNZW51PVwiR2xvYmFsQ29udGV4dE1lbnVcIixlLlZpZXdUYWJDb250ZXh0TWVudT1cIlZpZXdUYWJDb250ZXh0TWVudVwiLGUuUGFnZVRhYkNvbnRleHRNZW51PVwiUGFnZVRhYkNvbnRleHRNZW51XCIsZS5TYXZlQnV0dG9uQ29udGV4dE1lbnU9XCJTYXZlQnV0dG9uQ29udGV4dE1lbnVcIixlLkFQST1cIkFQSVwifSh5fHwoeT17fSkpLGZ1bmN0aW9uKGUpe2UuU0FWRV9QQUdFPVwiU0FWRV9QQUdFXCIsZS5TQVZFX1dPUktTUEFDRT1cIlNBVkVfV09SS1NQQUNFXCIsZS5TQVZFX1BBR0VfQVM9XCJTQVZFX1BBR0VfQVNcIixlLlNBVkVfV09SS1NQQUNFX0FTPVwiU0FWRV9XT1JLU1BBQ0VfQVNcIixlLlJFTkFNRV9QQUdFPVwiUkVOQU1FX1BBR0VcIixlLlJFTkFNRV9XT1JLU1BBQ0U9XCJSRU5BTUVfV09SS1NQQUNFXCJ9KGh8fChoPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NhbD1cImxvY2FsXCIsZS5EZXY9XCJkZXZcIixlLlN0YWdpbmc9XCJzdGFnaW5nXCIsZS5Qcm9kPVwicHJvZFwifShmfHwoZj17fSkpO2NvbnN0IG09XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbixTPShcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8cHJvY2Vzcy5lbnY/LkpFU1RfV09SS0VSX0lELFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpLHY9UyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluZGV4ZWREQixQPVM/d2luZG93Lm9yaWdpbjpmLkxvY2FsLGI9bSYmZmluLm1lLnV1aWQsaz1tJiZmaW4ubWUubmFtZSxXPW0mJmZpbi5tZS5lbnRpdHlUeXBlLEM9KGYuTG9jYWwsZi5EZXYsZi5TdGFnaW5nLGYuUHJvZCxlPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOlArZSksST0oQyhcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzcuMy43XCIpLEMoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS83LjMuN1wiKSksQT0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmQyhXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZDKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiMjQuOTguNjkuNlwiKSxNPVwiNy4zLjdcIjt2YXIgVCxFLE87IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KFR8fChUPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShFfHwoRT17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oT3x8KE89e30pKTtjb25zdCBSPXt1dWlkOmIsbmFtZTpifSxWPShULldvcmtzcGFjZSxULldvcmtzcGFjZSxlPT57aWYoIW0pdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgaW4gYSBub24gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSl9KSx4PSgpPT5WKFIpO3ZhciBCLEw7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIn0oQnx8KEI9e30pKSxmdW5jdGlvbihlKXtlLlNob3duPVwic2hvd25cIixlLkJvdW5kc0NoYW5nZWQ9XCJib3VuZHMtY2hhbmdlZFwiLGUuTGF5b3V0UmVhZHk9XCJsYXlvdXQtcmVhZHlcIixlLkVuZFVzZXJCb3VuZHNDaGFuZ2luZz1cImVuZC11c2VyLWJvdW5kcy1jaGFuZ2luZ1wiLGUuQmx1cnJlZD1cImJsdXJyZWRcIixlLkNsb3NlUmVxdWVzdGVkPVwiY2xvc2UtcmVxdWVzdGVkXCIsZS5Gb2N1c2VkPVwiZm9jdXNlZFwiLGUuU2hvd1JlcXVlc3RlZD1cInNob3ctcmVxdWVzdGVkXCIsZS5WaWV3Q3Jhc2hlZD1cInZpZXctY3Jhc2hlZFwiLGUuVmlld0F0dGFjaGVkPVwidmlldy1hdHRhY2hlZFwiLGUuVmlld0RldGFjaGVkPVwidmlldy1kZXRhY2hlZFwiLGUuVmlld1BhZ2VUaXRsZVVwZGF0ZWQ9XCJ2aWV3LXBhZ2UtdGl0bGUtdXBkYXRlZFwiLGUuVmlld0Rlc3Ryb3llZD1cInZpZXctZGVzdHJveWVkXCIsZS5PcHRpb25zQ2hhbmdlZD1cIm9wdGlvbnMtY2hhbmdlZFwifShMfHwoTD17fSkpO2Z1bmN0aW9uIF8oZSl7aWYoIW0pdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgRD17bmFtZTprLHV1aWQ6Yn07ZnVuY3Rpb24gVSgpe3JldHVybiBfKEQpfUIuSG9tZSxULldvcmtzcGFjZSxCLkRvY2ssVC5Xb3Jrc3BhY2U7Y29uc3QgRj17bmFtZTpCLlN0b3JlZnJvbnQsdXVpZDpULldvcmtzcGFjZX07VC5Xb3Jrc3BhY2UsVC5Xb3Jrc3BhY2U7YXN5bmMgZnVuY3Rpb24gRyhlKXtjb25zdCB0PV8oZSk7XCJtaW5pbWl6ZWRcIj09PWF3YWl0IHQuZ2V0U3RhdGUoKSYmYXdhaXQgdC5yZXN0b3JlKCksYXdhaXQgdC5zaG93KCksYXdhaXQgdC5icmluZ1RvRnJvbnQoKSxhd2FpdCB0LmZvY3VzKCl9Y29uc3QgTj1lPT5lLnN0YXJ0c1dpdGgoQi5Ccm93c2VyV2luZG93KTthc3luYyBmdW5jdGlvbiAkKCl7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9Pk4oZS5pZGVudGl0eS5uYW1lKSkpfWNvbnN0IEg9ZT0+XyhlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpLHE9KCk9PkgoRik7dmFyIEs7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wifShLfHwoSz17fSkpO2NvbnN0IGo9YXN5bmMoZSx0KT0+e2NvbnN0IGE9e2FwaVZlcnNpb246dC5hcGlWZXJzaW9ufHxNLGNvbXBvbmVudE5hbWU6ZSxjb21wb25lbnRWZXJzaW9uOk0sLi4udH07ZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwid29ya3NwYWNlLWxpY2Vuc2luZ1wiLGRhdGE6YX0pfTt2YXIgUSx6PW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBKKCl7aWYoIVEmJiEoUT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY3J5cHRvJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1zQ3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSkpdGhyb3cgbmV3IEVycm9yKFwiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWRcIik7cmV0dXJuIFEoeil9Y29uc3QgWD0vXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7Y29uc3QgWT1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmWC50ZXN0KGUpfTtmb3IodmFyIFo9W10sZWU9MDtlZTwyNTY7KytlZSlaLnB1c2goKGVlKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7Y29uc3QgdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsYT0oWltlW3QrMF1dK1pbZVt0KzFdXStaW2VbdCsyXV0rWltlW3QrM11dK1wiLVwiK1pbZVt0KzRdXStaW2VbdCs1XV0rXCItXCIrWltlW3QrNl1dK1pbZVt0KzddXStcIi1cIitaW2VbdCs4XV0rWltlW3QrOV1dK1wiLVwiK1pbZVt0KzEwXV0rWltlW3QrMTFdXStaW2VbdCsxMl1dK1pbZVt0KzEzXV0rWltlW3QrMTRdXStaW2VbdCsxNV1dKS50b0xvd2VyQ2FzZSgpO2lmKCFZKGEpKXRocm93IFR5cGVFcnJvcihcIlN0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZFwiKTtyZXR1cm4gYX07Y29uc3QgYWU9ZnVuY3Rpb24oZSx0LGEpe3ZhciBuPShlPWV8fHt9KS5yYW5kb218fChlLnJuZ3x8SikoKTtpZihuWzZdPTE1Jm5bNl18NjQsbls4XT02MyZuWzhdfDEyOCx0KXthPWF8fDA7Zm9yKHZhciBvPTA7bzwxNjsrK28pdFthK29dPW5bb107cmV0dXJuIHR9cmV0dXJuIHRlKG4pfTt2YXIgbmU7IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCJ9KG5lfHwobmU9e30pKTtjb25zdCBvZT1uZTt2YXIgaWU7IWZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5TaGFyZVBhZ2U9XCJzaGFyZVBhZ2VcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGVQYWdlRm9yV2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoUGFnZXNUb1dpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoUGFnZXNGcm9tV2luZG93XCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyUGFnZXNGb3JXaW5kb3dcIixlLlNldEFjdGl2ZVBhZ2U9XCJzZXRBY3RpdmVQYWdlXCIsZS5HZXRBbGxBdHRhY2hlZFBhZ2VzPVwiZ2V0QWxsQXR0YWNoZWRQYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUlkRm9yV2luZG93PVwiZ2V0QWN0aXZlUGFnZUlkRm9yV2luZG93XCIsZS5HZXRQYWdlc0ZvcldpbmRvdz1cImdldFBhZ2VzRm9yV2luZG93XCIsZS5HZXRQYWdlRm9yV2luZG93PVwiZ2V0UGFnZUZvcldpbmRvd1wiLGUuR2V0U2F2ZWRQYWdlTWV0YWRhdGE9XCJnZXRTYXZlZFBhZ2VNZXRhZGF0YVwiLGUuR2V0VW5pcXVlUGFnZVRpdGxlPVwiZ2V0VW5pcXVlUGFnZVRpdGxlXCIsZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJnZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLkdldFRoZW1lcz1cImdldFRoZW1lc1wiLGUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9XCJpbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlNldEFjdGl2ZVdvcmtzcGFjZT1cInNldEFjdGl2ZVdvcmtzcGFjZVwifShpZXx8KGllPXt9KSk7Y29uc3QgcmU9YXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLGE9YXdhaXQgdC5nZXRDbGllbnQoKSxuPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7dHJ5e2lmKCEwPT09YXdhaXQgYS5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIikpcmV0dXJuIGE7dGhyb3cgbmV3IEVycm9yKG4pfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihuKX19LHNlPShlLHQpPT4hdC5maW5kKCh0PT50PT09ZSkpLGNlPShlLHQpPT5gJHtlfSAoJHt0fSlgLGRlPShlLHQpPT57bGV0IGE9MTtjb25zdCBuPWUucmVwbGFjZSgvIFxcKC4rXFwpJC8sXCJcIik7Zm9yKDshc2UoY2UobixhKSx0KTspYSs9MTtyZXR1cm4gY2UobixhKX07YXN5bmMgZnVuY3Rpb24gcGUoZSl7dHJ5e2NvbnN0IHQ9eHQoKTthd2FpdCB0LmFwcGx5U25hcHNob3QoZS5zbmFwc2hvdCx7Y2xvc2VFeGlzdGluZ1dpbmRvd3M6ITB9KSxsZShlKX1jYXRjaChlKXt9fWZ1bmN0aW9uIGxlKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7bG9jYWxTdG9yYWdlLnNldEl0ZW0ob2UuQ3VycmVudFdvcmtzcGFjZUlkLHQpfWNhdGNoKGUpe319YXN5bmMgZnVuY3Rpb24gd2UoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYWxTdG9yYWdlKXJldHVybjtjb25zdCBlPXh0KCksdD1hd2FpdCBlLmdldFNuYXBzaG90KCk7cmV0dXJue3dvcmtzcGFjZUlkOmFlKCksdGl0bGU6YXdhaXQgeWUoKSxtZXRhZGF0YTp7QVBJVmVyc2lvbjpNfSxzbmFwc2hvdDp0fX1hc3luYyBmdW5jdGlvbiB1ZSgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2UpcmV0dXJuO2NvbnN0IGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0ob2UuQ3VycmVudFdvcmtzcGFjZUlkKTtpZighZSlyZXR1cm4gd2UoKTtjb25zdCB0PUpTT04ucGFyc2UoZSksYT14dCgpLG49YXdhaXQgYS5nZXRTbmFwc2hvdCgpO3JldHVybnsuLi50LG1ldGFkYXRhOntBUElWZXJzaW9uOk19LHNuYXBzaG90Om59fWNvbnN0IGdlPWFzeW5jIGU9PmF3YWl0KGFzeW5jIGU9Pihhd2FpdCByZShEKSkuZGlzcGF0Y2goaWUuR2V0U2F2ZWRXb3Jrc3BhY2UsZSkpKGUud29ya3NwYWNlSWQpPyhhc3luYyBlPT4oYXdhaXQgcmUoRCkpLmRpc3BhdGNoKGllLlVwZGF0ZVNhdmVkV29ya3NwYWNlLGUpKSh7d29ya3NwYWNlSWQ6ZS53b3Jrc3BhY2VJZCx3b3Jrc3BhY2U6ZX0pOihhc3luYyBlPT4oYXdhaXQgcmUoRCkpLmRpc3BhdGNoKGllLkNyZWF0ZVNhdmVkV29ya3NwYWNlLGUpKSh7d29ya3NwYWNlOmV9KTthc3luYyBmdW5jdGlvbiB5ZShlPVwiVW50aXRsZWQgV29ya3NwYWNlXCIpe2NvbnN0IHQ9KGF3YWl0KGFzeW5jKCk9Pihhd2FpdCByZShEKSkuZGlzcGF0Y2goaWUuR2V0U2F2ZWRXb3Jrc3BhY2VzLHZvaWQgMCkpKCkpLm1hcCgoKHt0aXRsZTplfSk9PmUpKTtyZXR1cm4gdC5maW5kKCh0PT50PT09ZSkpP2RlKGUsdCk6ZX1hc3luYyBmdW5jdGlvbiBoZSgpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0ob2UuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93KSx0PUpTT04ucGFyc2UoZSk7aWYoYXdhaXQgSCh0KSlyZXR1cm4gdH1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93OiAke2V9YCl9fWZ1bmN0aW9uIGZlKGU9ZmluLm1lLmlkZW50aXR5KXtOKGUubmFtZSkmJmZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7bG9jYWxTdG9yYWdlLnNldEl0ZW0ob2UuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93LHQpfWNhdGNoKGUpe319KGUpfWNvbnN0IG1lPShlLHQ9MCk9PntsZXQgYSxuLG89ITE7Y29uc3QgaT1hc3luYyBuPT57Y29uc3Qgcj1hd2FpdCBlKC4uLm4pO2lmKG8pe2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsdCkpKTtjb25zdCBlPWE7cmV0dXJuIGE9dm9pZCAwLG89ITEsaShlKX1yZXR1cm4gcn07cmV0dXJuKC4uLmUpPT4obj8obz0hMCxhPWUpOm49aShlKS50aGVuKChlPT4obj12b2lkIDAsZSkpKSxuKX07dmFyIFNlOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0oU2V8fChTZT17fSkpO2NvbnN0IHZlPWU9Pntjb25zdCB0PVtdO3JldHVybihlJiZBcnJheS5pc0FycmF5KGUpP2U6W10pLmZvckVhY2goKGU9PntpZihcImNvbXBvbmVudFwiPT09ZS50eXBlKXJldHVybiB0LnB1c2goZS5jb21wb25lbnRTdGF0ZSk7Y29uc3QgYT12ZShlLmNvbnRlbnQpO3QucHVzaCguLi5hKX0pKSx0fSxQZT1hc3luYyhlLHQsYT1EKT0+e2xldCBuO2lmKE4oYS5uYW1lKSl7bj0oYXdhaXQgXyhhKS5nZXRPcHRpb25zKCkpLmxheW91dHx8e3NldHRpbmdzOnt9fX1yZXR1cm57Li4ubixjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOnt0aXRsZTplLHVybDp0fX1dfV19fTtuZXcgTWFwO2Z1bmN0aW9uIGJlKGUsdCl7cmV0dXJuIGFzeW5jKGEsLi4ubik9PntlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpLHQmJmF3YWl0IHQoe2V2ZW50OmEscGF5bG9hZDpufSl9fWZ1bmN0aW9uIGtlKGUsdCl7cmV0dXJuIHQmJnQoKHQ9Pntjb25zdHtldmVudDphLHBheWxvYWQ6bn09dDtlLmhhcyhhKSYmZS5nZXQoYSkuZm9yRWFjaCgoZT0+ZSguLi5uKSkpfSkpLCh0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCksZS5nZXQodCkuYWRkKGEpfX1mdW5jdGlvbiBXZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpfHxlLnNldCh0LG5ldyBTZXQpO2NvbnN0IG49ZS5nZXQodCksbz0oLi4uZSk9PnthKC4uLmUpLG4uZGVsZXRlKG8pfTtuLmFkZChvKX19ZnVuY3Rpb24gQ2UoZSl7cmV0dXJuKHQsYSk9PntlLmhhcyh0KSYmZS5nZXQodCkuZGVsZXRlKGEpfX1jb25zdCBJZT1TJiZcImNvbXBsZXRlXCIhPT1kb2N1bWVudC5yZWFkeVN0YXRlJiZuZXcgUHJvbWlzZSgoZT0+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwoKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSkpKTtmdW5jdGlvbiBBZShlKXtsZXQgdDtyZXR1cm4oKT0+e2lmKCFtKXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IEllO2NvbnN0IGE9YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUpO3JldHVybiBhLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLGF9KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgoYT0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke2F9YCl9KSkpLHR9fWNvbnN0IE1lPWU9PmBfX2Jyb3dzZXJfd2luZG93X18tJHtlLnV1aWR9LSR7ZS5uYW1lfWAsVGU9bmV3IE1hcCxFZT1lPT57Y29uc3QgdD1NZShlKTtyZXR1cm4gVGUuaGFzKHQpfHxUZS5zZXQodCxBZSh0KSksVGUuZ2V0KHQpKCl9O3ZhciBPZSxSZSxWZTshZnVuY3Rpb24oZSl7ZS5DbG9zZUJyb3dzZXJXaW5kb3c9XCJjbG9zZS1icm93c2VyLXdpbmRvd1wiLGUuUXVpdFBsYXRmb3JtPVwicXVpdC1wbGF0Zm9ybVwiLGUuQ2xvc2VQYWdlPVwiY2xvc2UtcGFnZVwiLGUuQWRkVG9DaGFubmVsPVwiYWRkLXRvLWNoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwicmVtb3ZlLWZyb20tY2hhbm5lbFwiLGUuT3BlblNhdmVNb2RhbEludGVybmFsPVwib3Blbi1zYXZlLW1vZGFsLWludGVybmFsXCIsZS5EdXBsaWNhdGVQYWdlPVwiZHVwbGljYXRlLXBhZ2VcIn0oT2V8fChPZT17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0UGFnZXM9XCJnZXQtcGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJnZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaC1wYWdlcy1mcm9tLXdpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cInNldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5SZW5hbWVQYWdlPVwicmVuYW1lLXBhZ2VcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXItcGFnZXMtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZS1wYWdlLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucz1cInVwZGF0ZS1wYWdlcy13aW5kb3ctb3B0aW9uc1wiLGUuSXNEZXRhY2hpbmdQYWdlcz1cImlzLWRldGFjaGluZy1wYWdlc1wiLGUuSXNBY3RpdmVQYWdlQ2hhbmdpbmc9XCJpcy1hY3RpdmUtcGFnZS1jaGFuZ2luZ1wifShSZXx8KFJlPXt9KSksZnVuY3Rpb24oZSl7ZS5BdHRhY2hlZFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2hlZC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaGVkUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoZWQtcGFnZXMtZnJvbS13aW5kb3dcIn0oVmV8fChWZT17fSkpO25ldyBNYXA7Y29uc3QgeGU9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgRWUoZSk7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goUmUuR2V0UGFnZXMpfSxCZT1hc3luYyBlPT4oYXdhaXQgRWUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKFJlLlVwZGF0ZVBhZ2VGb3JXaW5kb3csZSksTGU9YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgJCgpO3JldHVybihhd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMoe2lkZW50aXR5OmV9KT0+eGUoZSkpKSkpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHQpKSxbXSl9LF9lPWFzeW5jKCk9Pihhd2FpdCByZShEKSkuZGlzcGF0Y2goaWUuR2V0U2F2ZWRQYWdlcyx2b2lkIDApLERlPWFzeW5jIGU9Pihhd2FpdCByZShEKSkuZGlzcGF0Y2goaWUuR2V0U2F2ZWRQYWdlLGUpLFVlPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pihhd2FpdCBMZSgpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSkoZSk7cmV0dXJuIWF8fGEudGl0bGU9PT10LnRpdGxlJiZlPT09dC5wYWdlSWR8fGF3YWl0IEJlKHtpZGVudGl0eTphLnBhcmVudElkZW50aXR5LHBhZ2VJZDplLHBhZ2U6e3BhZ2VJZDp0LnBhZ2VJZCx0aXRsZTp0LnRpdGxlfX0pLGF9LEZlPWFzeW5jKHtwYWdlOmV9KT0+e2F3YWl0IFVlKGUucGFnZUlkLGUpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCByZShEKSkuZGlzcGF0Y2goaWUuQ3JlYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZTplfSl9LEdlPWFzeW5jIGU9Pnthd2FpdCBEZShlKSYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHJlKEQpKS5kaXNwYXRjaChpZS5EZWxldGVTYXZlZFBhZ2UsZSkpKGUpfSxOZT1hc3luYyh7cGFnZUlkOmUscGFnZTp0fSk9Pnthd2FpdCBVZShlLHQpO3JldHVybiBhd2FpdChhc3luYyBlPT4oYXdhaXQgcmUoRCkpLmRpc3BhdGNoKGllLlVwZGF0ZVNhdmVkUGFnZSxlKSkoe3BhZ2VJZDplLHBhZ2U6dH0pfSwkZT1hc3luYyBlPT5hd2FpdCBEZShlLnBhZ2VJZCk/TmUoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOmV9KTpGZSh7cGFnZTplfSksSGU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBFZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goUmUuQXR0YWNoUGFnZXNUb1dpbmRvdyxlKSkoZSl9LHFlPWFzeW5jIGU9Pnthd2FpdCBCZShlKX0sS2U9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBFZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goUmUuRGV0YWNoUGFnZXNGcm9tV2luZG93LGUpKShlKX0samU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBFZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goUmUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdyxlKSkoZSl9LFFlPWU9PnhlKGUpLHplPWFzeW5jKHtpZGVudGl0eTplLHBhZ2VJZDp0fSk9Pihhd2FpdCBRZShlKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10KSksSmU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBFZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goUmUuUmVvcmRlclBhZ2VzRm9yV2luZG93LGUpKShlKX07YXN5bmMgZnVuY3Rpb24gWGUoZT1cIlVudGl0bGVkIFBhZ2VcIil7Y29uc3RbdCxhXT1hd2FpdCBQcm9taXNlLmFsbChbX2UoKSxMZSgpXSksbj1bLi4udCwuLi5hXS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7cmV0dXJuIG4uZmluZCgodD0+dD09PWUpKT9kZShlLG4pOmV9Y29uc3QgWWU9bmV3IE1hcCxaZT1lPT5gJHtlLnV1aWR9LSR7ZS5uYW1lfWA7Y29uc3QgZXQ9bWUoKGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1hd2FpdCBMZSgpLHQ9bmV3IFNldDtlLmZvckVhY2goKGU9Pnt2ZShlLmxheW91dC5jb250ZW50KS5mb3JFYWNoKChlPT57aWYoZS5uYW1lKXtjb25zdCBhPVplKGUpO3QuYWRkKGEpfX0pKX0pKTtjb25zdCBhPVUoKTsoYXdhaXQgYS5nZXRDdXJyZW50Vmlld3MoKSkuZm9yRWFjaCgoKHtpZGVudGl0eTplfSk9Pntjb25zdCBhPVplKGUpO2lmKHQuaGFzKGEpfHxZZS5oYXMoYSkpcmV0dXJuO2NvbnN0IG49c2V0VGltZW91dCgoKCk9PntmaW4uVmlldy53cmFwU3luYyhlKS5kZXN0cm95KCksWWUuZGVsZXRlKGEpfSksNWUzKTtZZS5zZXQoYSxuKX0pKSxZZS5mb3JFYWNoKCgoZSxhKT0+e3QuaGFzKGEpJiYoY2xlYXJUaW1lb3V0KGUpLFllLmRlbGV0ZShhKSl9KSl9KSwyNTAwKSx0dD0oe25hbWU6ZX0pPT57TihlKSYmZXQoKS5jYXRjaCgoKCk9Pnt9KSl9O2xldCBhdD17fTtjb25zdCBudD0oe2FjdGlvbklkOmUscGF5bG9hZDp0fSk9PntpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhdFtlXSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgY29uZmlndXJlZCBmdW5jdGlvbiBmb3IgdGhlIGFjdGlvbiAnJHtlfSdgKTtyZXR1cm4gYXRbZV0odCl9O2Z1bmN0aW9uIG90KCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKG9lLk1hY2hpbmVOYW1lKX1sZXQgaXQ7YXN5bmMgZnVuY3Rpb24gcnQoKXtyZXR1cm4gaXR8fChpdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSxpdH1jb25zdCBzdD1lPT57aWYoZS5sYXlvdXQmJkFycmF5LmlzQXJyYXkoZS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMpKXtjb25zdCB0PWUud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO3QmJih0LmxheW91dD1lLmxheW91dCl9cmV0dXJuIGV9O2FzeW5jIGZ1bmN0aW9uIGN0KGUpe2NvbnN0IHQ9ZXx8YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuZ2V0U25hcHNob3QoKTtpZih0LnNuYXBzaG90RGV0YWlscz8ubWFjaGluZUlkKXJldHVybiB0O2NvbnN0IGE9b3QoKTtyZXR1cm57Li4udCxzbmFwc2hvdERldGFpbHM6ey4uLmUuc25hcHNob3REZXRhaWxzLG1hY2hpbmVJZDphd2FpdCBydCgpLG1hY2hpbmVOYW1lOmF9fX1mdW5jdGlvbiBkdChlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LGEpPT57ZS5vbmNvbXBsZXRlPWUub25zdWNjZXNzPSgpPT50KGUucmVzdWx0KSxlLm9uYWJvcnQ9ZS5vbmVycm9yPSgpPT5hKGUuZXJyb3IpfSkpfWZ1bmN0aW9uIHB0KGUsdCl7Y29uc3QgYT1pbmRleGVkREIub3BlbihlKTthLm9udXBncmFkZW5lZWRlZD0oKT0+YS5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUodCk7Y29uc3Qgbj1kdChhKTtyZXR1cm4oZSxhKT0+bi50aGVuKChuPT5hKG4udHJhbnNhY3Rpb24odCxlKS5vYmplY3RTdG9yZSh0KSkpKX1sZXQgbHQ7ZnVuY3Rpb24gd3QoKXtyZXR1cm4gbHR8fChsdD1wdChcImtleXZhbC1zdG9yZVwiLFwia2V5dmFsXCIpKSxsdH1mdW5jdGlvbiB1dChlLHQ9d3QoKSl7cmV0dXJuIHQoXCJyZWFkb25seVwiLCh0PT5kdCh0LmdldChlKSkpKX1mdW5jdGlvbiBndChlLHQsYT13dCgpKXtyZXR1cm4gYShcInJlYWR3cml0ZVwiLChhPT4oYS5wdXQodCxlKSxkdChhLnRyYW5zYWN0aW9uKSkpKX1mdW5jdGlvbiB5dChlLHQ9d3QoKSl7cmV0dXJuIHQoXCJyZWFkd3JpdGVcIiwodD0+KHQuZGVsZXRlKGUpLGR0KHQudHJhbnNhY3Rpb24pKSkpfWZ1bmN0aW9uIGh0KGUsdCl7cmV0dXJuIGUoXCJyZWFkb25seVwiLChlPT4oZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzPWZ1bmN0aW9uKCl7dGhpcy5yZXN1bHQmJih0KHRoaXMucmVzdWx0KSx0aGlzLnJlc3VsdC5jb250aW51ZSgpKX0sZHQoZS50cmFuc2FjdGlvbikpKSl9ZnVuY3Rpb24gZnQoZT13dCgpKXtjb25zdCB0PVtdO3JldHVybiBodChlLChlPT50LnB1c2goZS5rZXkpKSkudGhlbigoKCk9PnQpKX1jb25zdCBtdD0oZSx0PVwiXCIpPT5lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKSxTdD12JiZwdChcIm9wZW5maW4taG9tZS1wYWdlc1wiLFwicGFnZXNcIik7YXN5bmMgZnVuY3Rpb24gdnQoZSl7Y29uc3QgdD1hd2FpdCB1dChlLFN0KTtyZXR1cm4gdD8odC5wYWdlSWQ9ZS50b1N0cmluZygpLHQudGl0bGU9dC50aXRsZXx8dC5wYWdlSWQsdCk6bnVsbH1hc3luYyBmdW5jdGlvbiBQdChlKXtjb25zdCB0PWF3YWl0IGZ0KFN0KSxhPWF3YWl0IFByb21pc2UuYWxsKHQubWFwKChlPT52dChlLnRvU3RyaW5nKCkpKSkpO3JldHVybiBlP2EuZmlsdGVyKCh0PT5tdCh0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiBidCh7cGFnZTplfSl7YXdhaXQgZ3QoZS5wYWdlSWQsZSxTdCl9YXN5bmMgZnVuY3Rpb24ga3QoZSl7YXdhaXQgeXQoZSxTdCl9YXN5bmMgZnVuY3Rpb24gV3Qoe3BhZ2VJZDplLHBhZ2U6dH0pe2lmKHZvaWQgMD09PWF3YWl0IHZ0KGUpKXRocm93IG5ldyBFcnJvcihcInBhZ2Ugbm90IGZvdW5kXCIpO2F3YWl0IGJ0KHtwYWdlOnR9KSxlIT09dC5wYWdlSWQmJmF3YWl0IGt0KGUpfXZhciBDdDshZnVuY3Rpb24oZSl7ZS5MYWJlbD1cIm5vcm1hbFwiLGUuU2VwYXJhdG9yPVwic2VwYXJhdG9yXCIsZS5TdWJtZW51PVwic3VibWVudVwiLGUuQ2hlY2tib3g9XCJjaGVja2JveFwifShDdHx8KEN0PXt9KSk7dmFyIEl0OyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVycz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyc1wiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwiLGUuQ3JlYXRlU3RvcmVmcm9udFdpbmRvdz1cImNyZWF0ZS1zdG9yZWZyb250LXdpbmRvd1wiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwifShJdHx8KEl0PXt9KSk7QWUoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpO2NvbnN0IEF0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgcnQoKSxtYWNoaW5lTmFtZTpvdCgpfX0pKSh0KTtyZXR1cm57cGFnZUlkOmFlKCksdGl0bGU6ZSxsYXlvdXQ6YSxpc1JlYWRPbmx5OiExLGhhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX0sTXQ9ZT0+KHtpZGVudGl0eTplLG9wZW5maW5XaW5kb3c6ZmluLldpbmRvdy53cmFwU3luYyhlKSxnZXRQYWdlczphc3luYygpPT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLkdldFBhZ2VzRm9yV2luZG93LGUpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5HZXRQYWdlRm9yV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZDp0fSksYWRkUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCByZShlKTt0Py50aXRsZXx8KHQudGl0bGU9YXdhaXQgYS5kaXNwYXRjaChpZS5HZXRVbmlxdWVQYWdlVGl0bGUsdm9pZCAwKSk7Y29uc3Qgbj0oYXdhaXQgYS5kaXNwYXRjaChpZS5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCkpLmZpbmQoKGU9PmUucGFnZUlkPT09dC5wYWdlSWR8fGUudGl0bGU9PT10LnRpdGxlKSk7aWYobil0aHJvdyBuLnBhZ2VJZD09PXQucGFnZUlkP25ldyBFcnJvcihgcGFnZSB3aXRoIGlkICR7dC5wYWdlSWR9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTpuZXcgRXJyb3IoYHBhZ2Ugd2l0aCB0aXRsZSAke3QudGl0bGV9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTtjb25zdCBvPXtpZGVudGl0eTplLHBhZ2VzOlt0XX07cmV0dXJuIGEuZGlzcGF0Y2goaWUuQXR0YWNoUGFnZXNUb1dpbmRvdyxvKX0scmVtb3ZlUGFnZTphc3luYyB0PT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWRzOlt0XX0pLHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCByZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goaWUuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHJlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChpZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgcmUoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKGllLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pntjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LF9vcGVuVmlld1RhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHJlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChpZS5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuUGFnZVRhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHJlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChpZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHQ9Pihhd2FpdCBFZShlKSkuZGlzcGF0Y2goT2UuT3BlblNhdmVNb2RhbEludGVybmFsLHQpLF9vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHJlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChpZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwsdCl9fSk7bGV0IFR0PSExO2NvbnN0IEV0PWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm57d3JhcFN5bmM6ZT0+TXQoZSksY3JlYXRlV2luZG93OmFzeW5jIGU9PntUdHx8KFR0PSEwLChhc3luYyBlPT57aihLLkJyb3dzZXIsZSl9KSh7YWxsb3dlZDohMH0pKTtjb25zdCBhPWF3YWl0IHQuY3JlYXRlV2luZG93KGUpO3JldHVybiBNdChhLmlkZW50aXR5KX0sZ2V0QWxsQXR0YWNoZWRQYWdlczphc3luYygpPT4oYXdhaXQgdC5nZXRDbGllbnQoKSkuZGlzcGF0Y2goaWUuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApLGdldEFsbFdpbmRvd3M6YXN5bmMoKT0+KGF3YWl0IGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5lLmlkZW50aXR5Lm5hbWUuaW5jbHVkZXMoXCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93LVwiKSkpLm1hcCgoZT0+TXQoZS5pZGVudGl0eSkpKSxnZXRVbmlxdWVQYWdlVGl0bGU6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5HZXRVbmlxdWVQYWdlVGl0bGUsdCksZ2V0TGFzdEZvY3VzZWRXaW5kb3c6YXN5bmMoKT0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdm9pZCAwKX19LE90PWU9Pih7Y3JlYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsLHQpLGRlbGV0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSx1cGRhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCByZShlKSkuZGlzcGF0Y2goaWUuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLkdldFNhdmVkUGFnZSx0KSxnZXRQYWdlczphc3luYyB0PT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLkdldFNhdmVkUGFnZXMsdCksc2F2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5TYXZlUGFnZSx0KSxjcmVhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5DcmVhdGVTYXZlZFdvcmtzcGFjZSx0KSxkZWxldGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5EZWxldGVTYXZlZFdvcmtzcGFjZSx0KSx1cGRhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5VcGRhdGVTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5HZXRTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2VzOmFzeW5jIHQ9Pihhd2FpdCByZShlKSkuZGlzcGF0Y2goaWUuR2V0U2F2ZWRXb3Jrc3BhY2VzLHQpLHNhdmVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5TYXZlV29ya3NwYWNlLHQpfSksUnQ9ZT0+KHtnZXRUaGVtZXM6YXN5bmMoKT0+KGF3YWl0IHJlKGUpKS5kaXNwYXRjaChpZS5HZXRUaGVtZXMsdm9pZCAwKX0pLFZ0PWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHthcHBseVNuYXBzaG90OmFzeW5jKHQsYSk9PntpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmIXQ/LndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgYnJvd3NlciBzbmFwc2hvdFwiKTtyZXR1cm4gZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmFwcGx5U25hcHNob3QodCxhKX0sZ2V0U25hcHNob3Q6KCk9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRTbmFwc2hvdCgpLnRoZW4oKGU9PmUpKSxsYXVuY2hBcHA6YXN5bmMgdD0+e3QudGFyZ2V0fHwodC50YXJnZXQ9e3V1aWQ6YixuYW1lOmssZW50aXR5VHlwZTpXfHxcInVua25vd25cIn0pO3JldHVybihhd2FpdCByZShlKSkuZGlzcGF0Y2goaWUuTGF1bmNoQXBwLHQpfSxfaW52b2tlQ3VzdG9tQWN0aW9uOmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IHJlKGUpLG89e2FjdGlvbklkOnQscGF5bG9hZDp7Li4uYSxjYWxsZXJUeXBlOmEuY2FsbGVyVHlwZXx8eS5BUEl9fTtyZXR1cm4gbi5kaXNwYXRjaChpZS5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbCxvKX0sZ2V0Q3VycmVudFdvcmtzcGFjZTphc3luYygpPT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLkdldEN1cnJlbnRXb3Jrc3BhY2Usdm9pZCAwKSxhcHBseVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLkFwcGx5V29ya3NwYWNlLHQpLHNldEFjdGl2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgcmUoZSkpLmRpc3BhdGNoKGllLlNldEFjdGl2ZVdvcmtzcGFjZSx0KSxUaGVtZTpSdChlKSxCcm93c2VyOkV0KGUpLFN0b3JhZ2U6T3QoZSl9KX0seHQ9KCk9PlZ0KGZpbi5tZS5pZGVudGl0eSksQnQ9YXN5bmMoZT1EKT0+e2NvbnN0e3dvcmtzcGFjZVBsYXRmb3JtOnR9PWF3YWl0IF8oZSkuZ2V0T3B0aW9ucygpO3JldHVybntuZXdQYWdlVXJsOnQ/Lm5ld1BhZ2VVcmwsbmV3VGFiVXJsOnQ/Lm5ld1RhYlVybH19LEx0PWFzeW5jKGU9RCk9Pntjb25zdCB0PWF3YWl0IHh0KCkuQnJvd3Nlci5nZXRVbmlxdWVQYWdlVGl0bGUoXCJVbnRpdGxlZCBQYWdlXCIpLGE9YXdhaXQoYXN5bmMoZT1EKT0+e2NvbnN0e25ld1BhZ2VVcmw6dH09YXdhaXQgQnQoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtyZXR1cm4gUGUoXCJOZXcgVGFiXCIsdCxlKX0pKGUpO3JldHVybiBBdCh0LGEpfSxfdD17dHlwZTpDdC5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LER0PXt0eXBlOkN0LkxhYmVsLGxhYmVsOlwiQ2xvc2UgV2luZG93XCIsZGF0YTp7dHlwZTpwLkNsb3NlV2luZG93fX0sVXQ9e3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJPcGVuIFN0b3JlZnJvbnRcIixkYXRhOnt0eXBlOnAuT3BlblN0b3JlZnJvbnR9fSxGdD17dHlwZTpDdC5MYWJlbCxsYWJlbDpcIlF1aXQgUGxhdGZvcm1cIixkYXRhOnt0eXBlOnAuUXVpdH19LEd0PXt0eXBlOkN0LkxhYmVsLGxhYmVsOlwiTmV3IFdpbmRvd1wiLGRhdGE6e3R5cGU6cC5OZXdXaW5kb3d9fSxOdD17dHlwZTpDdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6cC5TYXZlUGFnZX19LCR0PXt0eXBlOkN0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlIEFzLi4uXCIsZGF0YTp7dHlwZTpwLlNhdmVQYWdlQXN9fSxIdD17dHlwZTpDdC5MYWJlbCxsYWJlbDpcIk5ldyBQYWdlXCIsZGF0YTp7dHlwZTpwLk5ld1BhZ2V9fSxxdD17dHlwZTpDdC5MYWJlbCxsYWJlbDpcIlJlc3RvcmUgdG8gTGFzdCBTYXZlZCBDaGFuZ2VzXCIsZGF0YTp7dHlwZTpwLlJlc3RvcmVDaGFuZ2VzfX0sS3Q9e3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJTYXZlIFdvcmtzcGFjZVwiLGRhdGE6e3R5cGU6cC5TYXZlV29ya3NwYWNlfX0sanQ9e3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJTYXZlIFdvcmtzcGFjZSBBcy4uLlwiLGRhdGE6e3R5cGU6cC5TYXZlV29ya3NwYWNlQXN9fSxRdD17dHlwZTpDdC5MYWJlbCxsYWJlbDpcIlJlbmFtZSBXb3Jrc3BhY2VcIixkYXRhOnt0eXBlOnAuUmVuYW1lV29ya3NwYWNlfX0senQ9XCJTd2l0Y2ggV29ya3NwYWNlXCIsSnQ9XCJEZWxldGUgV29ya3NwYWNlXCIsWHQ9W0R0LF90LFV0LF90LEZ0XSxZdD1bX3QsRHQsX3QsRnRdLFp0PShlLHQsYSk9PnQubWFwKCh0PT57Y29uc3Qgbj10LndvcmtzcGFjZUlkPT09ZS53b3Jrc3BhY2VJZDtyZXR1cm57bGFiZWw6dC50aXRsZSx0eXBlOkN0LkNoZWNrYm94LGVuYWJsZWQ6IW4sY2hlY2tlZDpuLGRhdGE6e3R5cGU6YSx3b3Jrc3BhY2VJZDp0LndvcmtzcGFjZUlkfX19KSksZWE9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgcSgpLHtuZXdQYWdlVXJsOmF9PWF3YWl0IEJ0KGUpLG49YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9XyhlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmRpc2FibGVNdWx0aXBsZVBhZ2VzfSkoZSksbz1bXTthJiYoby5wdXNoKEd0KSxufHxvLnB1c2goSHQpKSxvLnB1c2goX3QpO2NvbnN0IGk9eHQoKSxyPWF3YWl0IGkuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLHM9YXdhaXQgaS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxjPXMuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXIud29ya3NwYWNlSWQpKTtyZXR1cm4gYz9vLnB1c2gocXQpOm8ucHVzaCh7bGFiZWw6cXQubGFiZWwsZW5hYmxlZDohMX0pLG8ucHVzaChLdCxqdCksYz9vLnB1c2goUXQpOm8ucHVzaCh7bGFiZWw6UXQubGFiZWwsZW5hYmxlZDohMX0pLHMuc29tZSgoZT0+ZS53b3Jrc3BhY2VJZCE9PXIud29ya3NwYWNlSWQpKT9vLnB1c2goe2xhYmVsOnp0LHN1Ym1lbnU6WnQocixzLHAuU3dpdGNoV29ya3NwYWNlKX0se2xhYmVsOkp0LHN1Ym1lbnU6WnQocixzLHAuRGVsZXRlV29ya3NwYWNlKX0pOm8ucHVzaCh7bGFiZWw6enQsZW5hYmxlZDohMX0se2xhYmVsOkp0LGVuYWJsZWQ6ITF9KSxvLnB1c2goX3QsTnQsJHQpLHQ/Wy4uLm8sLi4uWHRdOlsuLi5vLC4uLll0XX07bGV0IHRhPVwiUGxhdGZvcm1cIjtjb25zdCBhYT1hc3luYygpPT50YTt2YXIgbmEsb2E7IWZ1bmN0aW9uKGUpe2UuSG9tZUluZGV4PVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvc2VhcmNoL1wiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9ob21lL2RvY2svXCIsZS5Ccm93c2VyUGFnZXNMYW5kaW5nPVwiL2Jyb3dzZXIvcGFnZXMvbGFuZGluZy9cIixlLkhvbWVJbmRpY2F0b3I9XCIvaG9tZS9pbmRpY2F0b3IvXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9cIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyL1wiLGUuQnJvd3NlclBvcHVwTWVudVNoYXJlUGFnZT1cIi9icm93c2VyL3BvcHVwLW1lbnUvc2hhcmUtcGFnZS9cIixlLkJyb3dzZXJQb3B1cE1lbnVTYXZlTW9kYWw9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3NhdmUtbW9kYWwvXCIsZS5Ccm93c2VyUG9wdXBNZW51TGF5b3V0cz1cIi9icm93c2VyL3BvcHVwLW1lbnUvbGF5b3V0cy9sYXlvdXRzL1wiLGUuQnJvd3NlclBvcHVwTWVudUNvbG9yTGlua2luZz1cIi9icm93c2VyL3BvcHVwLW1lbnUvY29sb3ItbGlua2luZy9jb2xvci1saW5raW5nL1wiLGUuQnJvd3NlckluZGljYXRvcj1cIi9icm93c2VyL2luZGljYXRvci9cIixlLlJlc3BvbnNlTW9kYWw9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3Jlc3BvbnNlLW1vZGFsL1wiLGUuRG9jcz1cIi9wcm92aWRlci9kb2NzL1wiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250L1wiLGUuRGVwcmVjYXRlZEFsZXJ0PVwiL3Byb3ZpZGVyL2RlcHJlY2F0ZWQtYWxlcnQvXCJ9KG5hfHwobmE9e30pKSxmdW5jdGlvbihlKXtlLkljb25PcGVuRmluTG9nbz1cIi9pY29ucy9vcGVuZmlubG9nby5zdmdcIixlLkljb25GaWx0ZXI9XCIvaWNvbnMvZmlsdGVyLnN2Z1wifShvYXx8KG9hPXt9KSk7Y29uc3QgaWE9ey4uLm9hLC4uLm5hfTt2YXIgcmE7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIi9ob21lXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXJcIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnRcIn0ocmF8fChyYT17fSkpO2NvbnN0IHNhPVwiL3dvcmtzcGFjZS83LjMuN1wiO2Z1bmN0aW9uIGNhKCl7cmV0dXJuIHNhLnN1YnN0cmluZygwLHNhLmxlbmd0aC1cIlwiLmxlbmd0aCl9ZnVuY3Rpb24gZGEoZSl7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0QWJzb2x1dGVSb3V0ZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm4gZnVuY3Rpb24oKXtpZighd2luZG93KXRocm93IG5ldyBFcnJvcihcImdldEFic29sdXRlQmFzZVBhdGggY2FuIG9ubHkgYmUgdXNlZCBpbiBhIHdpbmRvd1wiKTtyZXR1cm5gJHt3aW5kb3cub3JpZ2lufSR7Y2EoKX1gfSgpK2V9Y29uc3QgcGE9e25hbWU6Qi5Ccm93c2VyTWVudSxhbHdheXNPblRvcDohMCxhdXRvU2hvdzohMSxjb3JuZXJSb3VuZGluZzp7aGVpZ2h0OjYsd2lkdGg6Nn0sZnJhbWU6ITEscmVzaXphYmxlOiExLGJhY2tncm91bmRDb2xvcjpcIiMyZjMxMzZcIixzbWFsbFdpbmRvdzohMCxzaG93VGFza2Jhckljb246ITEsYmFja2dyb3VuZFRocm90dGxpbmc6ITB9O2Z1bmN0aW9uIGxhKGUpe2NvbnN0IHQ9ey4uLnBhLC4uLmV9O3JldHVybiB0LnVybD1mdW5jdGlvbihlKXtpZighUyl0aHJvdyBuZXcgRXJyb3IoXCJyZXNvbHZlQWJzb2x1dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuIGUuc3RhcnRzV2l0aChcImh0dHBcIik/ZTpgJHt3aW5kb3cub3JpZ2lufSR7ZX1gfSh0LnVybCksdH12YXIgd2EsdWE7IWZ1bmN0aW9uKGUpe2UuVXBkYXRlPVwidXBkYXRlXCIsZS5SZXNwb25zZT1cInJlc3BvbnNlXCJ9KHdhfHwod2E9e30pKSxmdW5jdGlvbihlKXtlLkNhbmNlbGVkPVwiY2FuY2VsZWRcIixlLk5lZ2F0aXZlPVwibmVnYXRpdmVcIixlLkFmZmlybWF0aXZlPVwiYWZmaXJtYXRpdmVcIn0odWF8fCh1YT17fSkpO2NvbnN0IGdhPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm57ZW1pdDpiZSh0LCh0PT5tJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5wdWJsaXNoKGUsdCkpKSxhZGRMaXN0ZW5lcjprZSh0LCh0PT5tJiZmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5zdWJzY3JpYmUoe3V1aWQ6ZmluLm1lLnV1aWR9LGUsdCkpKSxyZW1vdmVMaXN0ZW5lcjpDZSh0KSxvbmNlOldlKHQpfX0oXCJ3aW5kb3cubWVudVwiKSx5YT1lPT5nYS5lbWl0KHdhLlJlc3BvbnNlLGUpLGhhPW1lKCgoKT0+eCgpLmdldENoaWxkV2luZG93cygpKSw1MDApO2NvbnN0IGZhPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gbWEoe29wdGlvbnM6ZSxwYXJhbWV0ZXJzOnR9KXtjb25zdCBhPWxhKGUpLHtuYW1lOm59PWE7bGV0IG89YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7cmV0dXJuKGF3YWl0IGhhKCkpLmZpbmQoKHQ9PnQuaWRlbnRpdHkubmFtZT09PWUpKX0obik7cmV0dXJuIG98fChvPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2NvbnN0IHQ9bGEoZSk7aWYoIWZhLmhhcyh0Lm5hbWUpKXtjb25zdCBlPShhc3luYygpPT57Y29uc3QgZT1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3codCk7cmV0dXJuIGUub25jZShcImNsb3NlZFwiLCgoKT0+e2ZhLmRlbGV0ZSh0Lm5hbWUpfSkpLGV9KSgpO2ZhLnNldCh0Lm5hbWUsZSl9cmV0dXJuIGZhLmdldCh0Lm5hbWUpfShhKSksYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWxhKGUpLHt0b3A6bixsZWZ0Om8sZGVmYXVsdFdpZHRoOmksZGVmYXVsdEhlaWdodDpyfT1hLHM9e3RvcDpuLGxlZnQ6byx3aWR0aDppLGhlaWdodDpyfSxjPXtwYXJlbnROYW1lOmZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKS5pZGVudGl0eS5uYW1lfTtmb3IoY29uc3RbZSxhXW9mIE9iamVjdC5lbnRyaWVzKGMpKXQuc2V0KGUsYSk7Y29uc3QgZD10LnRvU3RyaW5nKCkscD1gJHthLnVybH0/JHtkfWA7Z2EuZW1pdCh3YS5VcGRhdGUsYS5uYW1lLHMscCksYXdhaXQgeWEoe25hbWU6YS5uYW1lLGRhdGE6dWEuQ2FuY2VsZWR9KX0oZSx0fHxuZXcgVVJMU2VhcmNoUGFyYW1zKSxvfWNvbnN0IFNhPWFzeW5jKGUsdCk9Pntjb25zdCBhPXQ/Xyh0KTpVKCk7YXdhaXQoYXN5bmMoZT1maW4ubWUuaWRlbnRpdHkpPT57Y29uc3QgdD1fKGUpLGE9YXdhaXQgdC5nZXRCb3VuZHMoKTsoYS5yaWdodD5zY3JlZW4uYXZhaWxMZWZ0K3NjcmVlbi53aWR0aHx8YS5sZWZ0PHNjcmVlbi5hdmFpbExlZnR8fGEuYm90dG9tPnNjcmVlbi5hdmFpbFRvcCtzY3JlZW4uaGVpZ2h0fHxhLnRvcDxzY3JlZW4uYXZhaWxUb3ApJiZhd2FpdCB0LmNlbnRlcigpfSkoYS5pZGVudGl0eSk7Y29uc3Qgbj1hd2FpdCBhLmdldEJvdW5kcygpLG89e2xlZnQ6KChpPW4pLmxlZnQrKGkubGVmdCtpLndpZHRoKSkvMix0b3A6KGkudG9wKyhpLnRvcCtpLmhlaWdodCkpLzJ9O3ZhciBpO2NvbnN0e2RlZmF1bHRIZWlnaHQ6cixkZWZhdWx0V2lkdGg6c309ZTtyZXR1cm4oKGUsdCk9Pntjb25zdHtoZWlnaHQ6YSx3aWR0aDpufT10LG89bi8yLGk9YS8yO3JldHVybntsZWZ0OmUubGVmdC1vLHRvcDplLnRvcC1pfX0pKG8se2hlaWdodDpyLHdpZHRoOnN9KX0sdmE9YXN5bmMoe29wdGlvbnM6ZSxjb250ZW50OnR9KT0+e2NvbnN0IGE9bmV3IFVSTFNlYXJjaFBhcmFtcyh7Li4udH0pO3JldHVybiBhd2FpdCBtYSh7b3B0aW9uczplLHBhcmFtZXRlcnM6YX0pLG5ldyBQcm9taXNlKCh0PT57Z2Eub25jZSh3YS5SZXNwb25zZSwoYT0+e2EubmFtZT09PWUubmFtZSYmdChhKX0pKX0pKX0sUGE9YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJTd2l0Y2ggV29ya3NwYWNlXCIsd2luZG93T3B0aW9uczp7dXJsOkkraWEuUmVzcG9uc2VNb2RhbCxuYW1lOkIuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMTIsZGVmYXVsdFdpZHRoOjQyNCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOmBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc3dpdGNoIHRvICR7dH1gLGJvZHk6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkXCIsYWZmaXJtYXRpdmVCdXR0b246XCJDb25maXJtXCIsbmVnYXRpdmVCdXR0b246XCJDYW5jZWxcIn19KSkoZSx0KSx7dG9wOm8sbGVmdDppfT1hd2FpdCBTYShhLGUpLHI9ey4uLmEsdG9wOm8sbGVmdDppfTtyZXR1cm4oYXdhaXQgdmEoe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YT09PXVhLkFmZmlybWF0aXZlfSxiYT1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIkRlbGV0ZSBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6SStpYS5SZXNwb25zZU1vZGFsLG5hbWU6Qi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjE0NCxkZWZhdWx0V2lkdGg6MzcyLG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcGVybWFuZW50bHkgZGVsZXRlIHRoaXMgd29ya3NwYWNlP1wiLGJvZHk6YCR7dH1gLGFmZmlybWF0aXZlQnV0dG9uOlwiQ29uZmlybVwiLG5lZ2F0aXZlQnV0dG9uOlwiQ2FuY2VsXCJ9fSkpKGUsdCkse3RvcDpvLGxlZnQ6aX09YXdhaXQgU2EoYSxlKSxyPXsuLi5hLHRvcDpvLGxlZnQ6aX07cmV0dXJuKGF3YWl0IHZhKHtvcHRpb25zOnIsY29udGVudDpufSkpLmRhdGE9PT11YS5BZmZpcm1hdGl2ZX0sa2E9YXN5bmMoZSx0KT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6YSxjb250ZW50Om59PWF3YWl0KGFzeW5jKGUsdCk9Pih7dGl0bGU6XCJQbGF0Zm9ybSBRdWl0XCIsd2luZG93T3B0aW9uczp7dXJsOkkraWEuUmVzcG9uc2VNb2RhbCxuYW1lOkIuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMzQsZGVmYXVsdFdpZHRoOjQ3NCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOmBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcXVpdCAke1wiUGxhdGZvcm1cIj09PXQ/XCJ0aGUgcGxhdGZvcm1cIjp0fT9gLGJvZHk6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHRvIHRoZSB3b3Jrc3BhY2Ugd2lsbCBiZSBkaXNjYXJkZWRcIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlLHQpLHt0b3A6byxsZWZ0Oml9PWF3YWl0IFNhKGEsZSkscj17Li4uYSx0b3A6byxsZWZ0Oml9O3JldHVybihhd2FpdCB2YSh7b3B0aW9uczpyLGNvbnRlbnQ6bn0pKS5kYXRhPT09dWEuQWZmaXJtYXRpdmV9LFdhPWFzeW5jIGU9Pntjb25zdHt3aW5kb3dPcHRpb25zOnQsY29udGVudDphfT1hd2FpdChhc3luYyBlPT4oe3RpdGxlOlwiUmVzdG9yZSBDaGFuZ2VzXCIsd2luZG93T3B0aW9uczp7dXJsOkkraWEuUmVzcG9uc2VNb2RhbCxuYW1lOkIuQnJvd3Nlck1lbnUsZGVmYXVsdEhlaWdodDoxMTIsZGVmYXVsdFdpZHRoOjQyNCxtb2RhbFBhcmVudElkZW50aXR5OmV9LGNvbnRlbnQ6e3RpdGxlOlwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc3RvcmUgdG8gbGFzdCBzYXZlZCBjaGFuZ2VzP1wiLGJvZHk6XCJBbnkgdW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgZGlzY2FyZGVkXCIsYWZmaXJtYXRpdmVCdXR0b246XCJDb25maXJtXCIsbmVnYXRpdmVCdXR0b246XCJDYW5jZWxcIn19KSkoZSkse3RvcDpuLGxlZnQ6b309YXdhaXQgU2EodCxlKSxpPXsuLi50LHRvcDpuLGxlZnQ6b307cmV0dXJuKGF3YWl0IHZhKHtvcHRpb25zOmksY29udGVudDphfSkpLmRhdGE9PT11YS5BZmZpcm1hdGl2ZX07dmFyIENhOyFmdW5jdGlvbihlKXtlLkVSUk9SPVwiZXJyb3JcIixlLlNVQ0NFU1M9XCJzdWNjZXNzXCIsZS5JTkZPPVwiaW5mb1wifShDYXx8KENhPXt9KSk7Y29uc3QgSWE9e2Fsd2F5c09uVG9wOiEwLGF1dG9TaG93OiExLGNvcm5lclJvdW5kaW5nOntoZWlnaHQ6NSx3aWR0aDo1fSxmcmFtZTohMSxyZXNpemFibGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExfTt2YXIgQWE7IWZ1bmN0aW9uKGUpe2UuTG9ja2VkPVwiTG9ja0Nsb3NlZEljb25cIixlLlVubG9ja2VkPVwiTG9ja09wZW4xSWNvblwifShBYXx8KEFhPXt9KSk7Y29uc3QgTWE9ZnVuY3Rpb24oZT1JYSl7Y29uc3QgdD1uZXcgTWFwO3JldHVybiBhc3luYyhhLG4sbyxpKT0+e2lmKHQuaGFzKGEpKXtjb25zdHtjdXJyZW50VXJsOmUsY3VycmVudE5hbWU6b309dC5nZXQoYSk7aWYoZT09PW4pcmV0dXJuO2NvbnN0IGk9ZmluLldpbmRvdy53cmFwU3luYyh7dXVpZDpmaW4ubWUudXVpZCxuYW1lOm99KTthd2FpdCBpLmNsb3NlKCl9Y29uc3Qgcj1gJHtCLkhvbWVJbnRlcm5hbH0tJHtEYXRlLm5vdygpfSR7TWF0aC5yYW5kb20oKX1gO3Quc2V0KGEse2N1cnJlbnRVcmw6bixjdXJyZW50TmFtZTpyfSk7Y29uc3Qgcz1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3coey4uLmUsbmFtZTpyLHVybDpufSk7KChlLHQpPT57Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsdHx8XCJwb2xpdGVcIiksKGU9PntlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLndpZHRoPVwiMXB4XCIsZS5zdHlsZS5oZWlnaHQ9XCIxcHhcIixlLnN0eWxlLnBhZGRpbmc9XCIwXCIsZS5zdHlsZS5tYXJnaW49XCItMXB4XCIsZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGUuc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiLGUuc3R5bGUuYm9yZGVyPVwiMFwifSkoYSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxzZXRUaW1lb3V0KCgoKT0+e2EuaW5uZXJIVE1MPWV9KSwxMDApLHNldFRpbWVvdXQoKCgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKX0pLDFlMyl9KShgTmV3ICR7aX0gaW5kaWNhdG9yOiAke299YCkscy5vbmNlKFwiY2xvc2VkXCIsKCgpPT57dC5kZWxldGUoYSl9KSl9fSgpO2FzeW5jIGZ1bmN0aW9uIFRhKGUsdCxhLG4pe2NvbnN0IG89bmV3IFVSTFNlYXJjaFBhcmFtcztvLmFwcGVuZChcInR5cGVcIixlKSxvLmFwcGVuZChcIm1lc3NhZ2VcIix0KSxvLmFwcGVuZChcInBhcmVudE5hbWVcIixhKSxvLmFwcGVuZChcImljb25cIixufHxcIlwiKTtjb25zdCBpPWAke2RhKGlhLkJyb3dzZXJJbmRpY2F0b3IpfT8ke28udG9TdHJpbmcoKX1gO3JldHVybiBNYShcImJyb3dzZXJcIithLGksdCxlKX1mdW5jdGlvbiBFYShlLHQsYSl7cmV0dXJuIFRhKENhLlNVQ0NFU1MsZSx0LGEpfWNvbnN0IE9hPWFzeW5jIGU9Pntjb25zdCB0PXh0KCksYT1hd2FpdCB0LmdldEN1cnJlbnRXb3Jrc3BhY2UoKSxuPWF3YWl0IHQuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCksbz1hLndvcmtzcGFjZUlkO2lmKG4uc29tZSgoZT0+ZS53b3Jrc3BhY2VJZD09PW8pKSl0LlN0b3JhZ2Uuc2F2ZVdvcmtzcGFjZShhKSx0LnNldEFjdGl2ZVdvcmtzcGFjZShhKSxFYShcIldvcmtzcGFjZSBTYXZlZCFcIixlLm5hbWUpO2Vsc2V7dC5Ccm93c2VyLndyYXBTeW5jKGUpLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTpoLlNBVkVfV09SS1NQQUNFfSl9fSxSYT1lPT57eHQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTpoLlNBVkVfV09SS1NQQUNFX0FTfSl9LFZhPWFzeW5jKGUsdCk9Pntjb25zdCBhPXh0KCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPWF3YWl0IHh0KCkuU3RvcmFnZS5nZXRQYWdlcygpLG89KGF3YWl0IGEuZ2V0UGFnZXMoKSkuZmluZCgoZT0+dD9lLnBhZ2VJZD09PXQ6ZS5pc0FjdGl2ZSkpO2lmKG4uc29tZSgoZT0+by5wYWdlSWQ9PT1lLnBhZ2VJZCkpKXRyeXthd2FpdCB4dCgpLlN0b3JhZ2Uuc2F2ZVBhZ2UoKGM9byx7Li4uYyxoYXNVbnNhdmVkQ2hhbmdlczp2b2lkIDAscGFyZW50SWRlbnRpdHk6dm9pZCAwLGlzQWN0aXZlOnZvaWQgMH0pKSxhd2FpdCBhLnVwZGF0ZVBhZ2Uoe3BhZ2VJZDpvLnBhZ2VJZCxwYWdlOntoYXNVbnNhdmVkQ2hhbmdlczohMX19KSxFYShcIlBhZ2Ugc2F2ZWRcIixvLnBhcmVudElkZW50aXR5Lm5hbWUpfWNhdGNoe2k9XCJQYWdlIGZhaWxlZCB0byBzYXZlXCIscj1vLnBhcmVudElkZW50aXR5Lm5hbWUsVGEoQ2EuRVJST1IsaSxyLHMpfWVsc2UgYS5fb3BlblNhdmVNb2RhbCh7aWQ6by5wYWdlSWQsbWVudVR5cGU6aC5TQVZFX1BBR0V9KTt2YXIgaSxyLHMsY30seGE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9eHQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLG49KGF3YWl0IGEuZ2V0UGFnZXMoKSkuZmluZCgoZT0+dD9lLnBhZ2VJZD09PXQ6ZS5pc0FjdGl2ZSkpO2EuX29wZW5TYXZlTW9kYWwoe2lkOm4ucGFnZUlkLG1lbnVUeXBlOmguU0FWRV9QQUdFX0FTfSl9LEJhPWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm47Y29uc3QgYT10LmlkZW50aXR5LG49YXdhaXQgRWUoYSksbz14dCgpLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSk7c3dpdGNoKGUudHlwZSl7Y2FzZSBwLk5ld1dpbmRvdzpjb25zdHtuZXdQYWdlVXJsOnR9PWF3YWl0IEJ0KGEpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgZW1wdHkgd2luZG93IHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTt4dCgpLmNyZWF0ZVZpZXcoe3RhcmdldDp2b2lkIDAsdXJsOnR9KTticmVhaztjYXNlIHAuTmV3UGFnZTphd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBMdChlKTthd2FpdCB4dCgpLkJyb3dzZXIud3JhcFN5bmMoZSkuYWRkUGFnZSh0KX0pKGEpO2JyZWFrO2Nhc2UgcC5DbG9zZVdpbmRvdzpuLmRpc3BhdGNoKE9lLkNsb3NlQnJvd3NlcldpbmRvdyk7YnJlYWs7Y2FzZSBwLlNhdmVXb3Jrc3BhY2U6YXdhaXQgT2EoYSk7YnJlYWs7Y2FzZSBwLlNhdmVQYWdlOmF3YWl0IFZhKGEpO2JyZWFrO2Nhc2UgcC5TYXZlUGFnZUFzOmF3YWl0IHhhKGEpO2JyZWFrO2Nhc2UgcC5TYXZlV29ya3NwYWNlQXM6YXdhaXQgUmEoYSk7YnJlYWs7Y2FzZSBwLlJlbmFtZVdvcmtzcGFjZTpvLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTpoLlJFTkFNRV9XT1JLU1BBQ0V9KTticmVhaztjYXNlIHAuU3dpdGNoV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPXh0KCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTtuJiZhd2FpdCBQYShlLG4udGl0bGUpJiYoYXdhaXQgYS5hcHBseVdvcmtzcGFjZShuKSxFYShcIldvcmtzcGFjZSBTd2l0Y2hlZCFcIixlLm5hbWUpKX0pKGEsZSk7YnJlYWs7Y2FzZSBwLkRlbGV0ZVdvcmtzcGFjZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT14dCgpLG49KGF3YWl0IGEuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7biYmYXdhaXQgYmEoZSxuLnRpdGxlKSYmKGF3YWl0IGEuU3RvcmFnZS5kZWxldGVXb3Jrc3BhY2UodC53b3Jrc3BhY2VJZCksRWEoXCJXb3Jrc3BhY2UgRGVsZXRlZCFcIixlLm5hbWUpKX0pKGEsZSk7YnJlYWs7Y2FzZSBwLlF1aXQ6Y29uc3QgaT1hd2FpdCBhYSgpO2F3YWl0IGthKGEsaSkmJmZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLnF1aXQoKTticmVhaztjYXNlIHAuT3BlblN0b3JlZnJvbnQ6KGFzeW5jKCk9Pnthd2FpdCBxKCkmJkcoRil9KSgpO2JyZWFrO2Nhc2UgcC5SZXN0b3JlQ2hhbmdlczpjb25zdCByPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT14dCgpLHQ9YXdhaXQgZS5nZXRDdXJyZW50V29ya3NwYWNlKCk7cmV0dXJuKGF3YWl0IGUuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSl9KCk7YXdhaXQgV2EoYSkmJmF3YWl0IHBlKHIpO2JyZWFrO2Nhc2UgcC5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IHQ9e2NhbGxlclR5cGU6eS5HbG9iYWxDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07eHQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLHQpfX19LExhPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IEVlKHQuaWRlbnRpdHkpLG49eHQoKTtzd2l0Y2goZS50eXBlKXtjYXNlIGwuU2F2ZTphd2FpdCBWYSh0LmlkZW50aXR5LHQucGFnZUlkKTticmVhaztjYXNlIGwuU2F2ZUFzOmF3YWl0IHhhKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2UgbC5SZW5hbWU6YXdhaXQgbi5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpLl9vcGVuU2F2ZU1vZGFsKHttZW51VHlwZTpoLlJFTkFNRV9QQUdFLGlkOnQucGFnZUlkfSk7YnJlYWs7Y2FzZSBsLkR1cGxpY2F0ZTphLmRpc3BhdGNoKE9lLkR1cGxpY2F0ZVBhZ2UsdC5wYWdlSWQpO2JyZWFrO2Nhc2UgbC5DbG9zZTphLmRpc3BhdGNoKE9lLkNsb3NlUGFnZSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSBsLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgYT17Y2FsbGVyVHlwZTp5LlBhZ2VUYWJDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTp0LmlkZW50aXR5LHBhZ2VJZDp0LnBhZ2VJZCxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O3h0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxhKX19fSxfYT1hc3luYyhlLHQpPT57aWYoZT8udHlwZSl7Y29uc3QgYT10LmlkZW50aXR5O3N3aXRjaChlLnR5cGUpe2Nhc2UgZy5TYXZlUGFnZTphd2FpdCBWYShhKTticmVhaztjYXNlIGcuU2F2ZVdvcmtzcGFjZTphd2FpdCBPYShhKTticmVhaztjYXNlIGcuU2F2ZVBhZ2VBczphd2FpdCB4YShhKTticmVhaztjYXNlIGcuU2F2ZVdvcmtzcGFjZUFzOmF3YWl0IFJhKGEpO2JyZWFrO2Nhc2UgZy5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IGE9e2NhbGxlclR5cGU6eS5TYXZlQnV0dG9uQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6dC5pZGVudGl0eSxwYWdlSWQ6dC5wYWdlSWQsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTt4dCgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsYSl9fX19LERhPWFzeW5jKGUsdCk9Pntjb25zdCBhPXQuc2VsZWN0ZWRWaWV3c1swXSxuPWZpbi5WaWV3LndyYXBTeW5jKGEpLG89YXdhaXQoYXN5bmMgZT0+e2NvbnN0e25ld1RhYlVybDp0fT1hd2FpdCBCdChlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IHBhZ2Ugd2l0aG91dCBhIG5ld1RhYlVybCBzZXRcIik7cmV0dXJuey4uLlBlKFwiTmV3IFZpZXdcIix0KSx1cmw6dCx0YXJnZXQ6ZX19KShlKTthd2FpdCB4dCgpLmNyZWF0ZVZpZXcobyxlLG4uaWRlbnRpdHkpfSxVYT1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChlPT5Qcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkuZ2V0SW5mbygpKSkpKSh0KSx7bmV3UGFnZVVybDpuLG5ld1RhYlVybDpvfT1hd2FpdCBCdChlKTthLmZvckVhY2goKGFzeW5jIGU9PntlLnVybCE9PW4mJmUudXJsIT09byYmYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZS51cmwpfSkpfSxGYT0oZSx0KT0+e3QuZm9yRWFjaCgoYXN5bmMgdD0+e2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCk7YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0e3VybDphfT1hd2FpdCB0LmdldEluZm8oKSxuPXsuLi5hd2FpdCB0LmdldE9wdGlvbnMoKSx1cmw6YSx0YXJnZXQ6ZSxuYW1lOnZvaWQgMH07YXdhaXQgeHQoKS5jcmVhdGVWaWV3KG4sZSx0LmlkZW50aXR5KX0pKGUsYSl9KSl9LEdhPWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm47Y29uc3QgYT10LmlkZW50aXR5O3N3aXRjaChlLnR5cGUpe2Nhc2Ugdy5DbG9zZVZpZXdzOmF3YWl0KGFzeW5jKGUsdCk9PntpZigoYXdhaXQgZmluLldpbmRvdy53cmFwU3luYyhlKS5nZXRDdXJyZW50Vmlld3MoKSkubGVuZ3RoIT09dC5sZW5ndGgpdC5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LmRlc3Ryb3koKX0pKTtlbHNle2NvbnN0IHQ9KGF3YWl0IHh0KCkuQnJvd3Nlci53cmFwU3luYyhlKS5nZXRQYWdlcygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSk7KGF3YWl0IEVlKGUpKS5kaXNwYXRjaChPZS5DbG9zZVBhZ2UsdD8ucGFnZUlkKX19KShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSB3Lk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI6YXdhaXQgVWEoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2Ugdy5SZWxvYWRWaWV3czp0LnNlbGVjdGVkVmlld3MuZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlZpZXcud3JhcFN5bmMoZSk7YXdhaXQgdC5yZWxvYWQoKX0pKTticmVhaztjYXNlIHcuTmV3Vmlldzphd2FpdCBEYShhLHQpO2JyZWFrO2Nhc2Ugdy5EdXBsaWNhdGVWaWV3czpGYShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSB3LkFkZFRvQ2hhbm5lbDooYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj17bmV3Q2hhbm5lbElkOnQsc2VsZWN0ZWRWaWV3czphfTsoYXdhaXQgRWUoZSkpLmRpc3BhdGNoKE9lLkFkZFRvQ2hhbm5lbCxuKX0pKGEsZS5vcHRpb24sdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIHcuUmVtb3ZlRnJvbUNoYW5uZWw6KGFzeW5jKGUsdCk9PnsoYXdhaXQgRWUoZSkpLmRpc3BhdGNoKE9lLlJlbW92ZUZyb21DaGFubmVsLHQpfSkoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2Ugdy5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IG49e2NhbGxlclR5cGU6eS5WaWV3VGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxzZWxlY3RlZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cyxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O3h0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxuKX19fTthc3luYyBmdW5jdGlvbiBOYShlLHQpe2NvbnN0IGE9YXdhaXQgZWEoZS5pZGVudGl0eSksbj1hd2FpdCBhYSgpO2EuZmluZCgoZT0+ZS5kYXRhPy50eXBlPT09cC5RdWl0KSkubGFiZWw9YFF1aXQgJHtufWA7Y29uc3Qgbz17Li4uZSx0ZW1wbGF0ZTphLGNhbGxiYWNrOkJhfTthd2FpdCB0aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudShvLHQpfWNvbnN0ICRhPWFzeW5jKGUsdCk9Pntjb25zdHt4OmEseTpuLGlkZW50aXR5Om8sdGVtcGxhdGU6aSxjYWxsYmFjazpyfT1lLHtkYXRhOnN9PWF3YWl0IGZ1bmN0aW9uKGUsdCl7aWYoIW0pdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO2lmKCF0JiYhZmluLm1lLmlzV2luZG93KXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gd2luZG93LlwiKTtyZXR1cm4odHx8ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpKS5zaG93UG9wdXBNZW51KGUpfSh7eDphLHk6bix0ZW1wbGF0ZTppfSxmaW4uV2luZG93LndyYXBTeW5jKG8pKTtyKHMsZSl9O2FzeW5jIGZ1bmN0aW9uIEhhKGUsdCl7Y29uc3QgYT17Li4uZSxjYWxsYmFjazpHYX07YXdhaXQgdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51KGEsdCl9YXN5bmMgZnVuY3Rpb24gcWEoZSx0KXtjb25zdCBhPWF3YWl0IHh0KCkuU3RvcmFnZS5nZXRQYWdlKGUucGFnZUlkKSxuPWF3YWl0KG89ISFhLFt7dHlwZTpDdC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6bC5TYXZlfX0se3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2UgQXNcIixkYXRhOnt0eXBlOmwuU2F2ZUFzfX0se3R5cGU6Q3QuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpDdC5MYWJlbCxsYWJlbDpcIlJlbmFtZSBQYWdlXCIsZGF0YTp7dHlwZTpsLlJlbmFtZX0sZW5hYmxlZDpvfSx7dHlwZTpDdC5MYWJlbCxsYWJlbDpcIkR1cGxpY2F0ZSBQYWdlXCIsZGF0YTp7dHlwZTpsLkR1cGxpY2F0ZX19LHt0eXBlOkN0LlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJDbG9zZSBQYWdlXCIsZGF0YTp7dHlwZTpsLkNsb3NlfX1dKTt2YXIgbztjb25zdCBpPXsuLi5lLHRlbXBsYXRlOm4sY2FsbGJhY2s6TGF9O2F3YWl0IHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudShpLHQpfWFzeW5jIGZ1bmN0aW9uIEthKGUsdCl7Y29uc3QgYT17Li4uZSx0ZW1wbGF0ZTphd2FpdChhc3luYygpPT5be3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJTYXZlIFdvcmtzcGFjZVwiLGRhdGE6e3R5cGU6Zy5TYXZlV29ya3NwYWNlfX0se3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJTYXZlIFdvcmtzcGFjZSBBc1wiLGRhdGE6e3R5cGU6Zy5TYXZlV29ya3NwYWNlQXN9fSx7dHlwZTpDdC5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LHt0eXBlOkN0LkxhYmVsLGxhYmVsOlwiU2F2ZSBQYWdlXCIsZGF0YTp7dHlwZTpnLlNhdmVQYWdlfX0se3R5cGU6Q3QuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2UgQXNcIixkYXRhOnt0eXBlOmcuU2F2ZVBhZ2VBc319XSkoKSxjYWxsYmFjazpfYX07YXdhaXQgdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51KGEsdCl9Y29uc3QgamE9diYmcHQoXCJvcGVuZmluLXdvcmtzcGFjZS1wbGF0Zm9ybS13b3Jrc3BhY2VzXCIsXCJ3b3Jrc3BhY2VzXCIpO2FzeW5jIGZ1bmN0aW9uIFFhKGUpe2NvbnN0IHQ9YXdhaXQgdXQoZSxqYSk7cmV0dXJuIHQ/KHQud29ya3NwYWNlSWQ9ZS50b1N0cmluZygpLHQudGl0bGU9dC50aXRsZXx8dC53b3Jrc3BhY2VJZCx0KTpudWxsfWFzeW5jIGZ1bmN0aW9uIHphKGUpe2NvbnN0IHQ9YXdhaXQgZnQoamEpLGE9YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKGU9PlFhKGUudG9TdHJpbmcoKSkpKSk7cmV0dXJuIGU/YS5maWx0ZXIoKHQ9Pm10KHQudGl0bGUsZSkpKTphfWFzeW5jIGZ1bmN0aW9uIEphKHt3b3Jrc3BhY2U6ZX0pe2F3YWl0IGd0KGUud29ya3NwYWNlSWQsZSxqYSl9YXN5bmMgZnVuY3Rpb24gWGEoZSl7YXdhaXQgeXQoZSxqYSl9YXN5bmMgZnVuY3Rpb24gWWEoe3dvcmtzcGFjZUlkOmUsd29ya3NwYWNlOnR9KXtpZih2b2lkIDA9PT1hd2FpdCBRYShlKSl0aHJvdyBuZXcgRXJyb3IoXCJ3b3Jrc3BhY2Ugbm90IGZvdW5kXCIpO2F3YWl0IEphKHt3b3Jrc3BhY2U6dH0pLGUhPT10LndvcmtzcGFjZUlkJiZhd2FpdCBYYShlKX1hc3luYyBmdW5jdGlvbiBaYSh7YXBwOmUsdGFyZ2V0OnR9KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3N3aXRjaChlLm1hbmlmZXN0VHlwZSl7Y2FzZSBpLlNuYXBzaG90OnJldHVybiBhLmFwcGx5U25hcHNob3QoZS5tYW5pZmVzdCk7Y2FzZSBpLlZpZXc6cmV0dXJuIGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtpZihcInZpZXdcIj09PXQuZW50aXR5VHlwZSl7Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyh0KSxuPWF3YWl0IGEuZ2V0UGFyZW50TGF5b3V0KCk7cmV0dXJuIGF3YWl0IG4ucmVwbGFjZVZpZXcodCx7bWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx1cmw6dm9pZCAwLHRhcmdldDp2b2lkIDB9KSxhLmRlc3Ryb3koKX1yZXR1cm4gYS5jcmVhdGVWaWV3KHtuYW1lOnZvaWQgMCx1cmw6dm9pZCAwLG1hbmlmZXN0VXJsOmUubWFuaWZlc3QsdGFyZ2V0OnZvaWQgMH0pfShlLHQpO2Nhc2UgaS5FeHRlcm5hbDpyZXR1cm4gZmluLlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3Moe3BhdGg6ZS5tYW5pZmVzdCx1dWlkOmUuYXBwSWR9KTtkZWZhdWx0OnJldHVybiBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QoZS5tYW5pZmVzdCl9fWNvbnN0IGVuPWU9PmUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKTtmdW5jdGlvbiB0bihlLC4uLnQpe2lmKCF0Lmxlbmd0aClyZXR1cm4gZTtjb25zdCBhPXQuc2hpZnQoKTtyZXR1cm4gZW4oZSkmJmVuKGEpJiZPYmplY3QuZW50cmllcyhhKS5mb3JFYWNoKCgoW3QsYV0pPT57aWYoZW4oYSkpcmV0dXJuIGVbdF18fChlW3RdPXt9KSx0bihlW3RdLGEpO2VbdF09YX0pKSx0bihlLC4uLnQpfWNvbnN0IGFuPUkraWEuQnJvd3NlcjtmdW5jdGlvbiBubihlLHQpe2NvbnN0IGE9dG4oe30sdCxlKTtyZXR1cm4gYS5kZXRhY2hPbkNsb3NlPSEwLGF9YXN5bmMgZnVuY3Rpb24gb24oZSx0LGEpe2NvbnN0IG49ZS5tYW5pZmVzdFVybD9hd2FpdCB0KHttYW5pZmVzdFVybDplLm1hbmlmZXN0VXJsfSxhKTp2b2lkIDA7aWYobj8uaW50ZXJvcCYmZS5pbnRlcm9wKXtjb25zdCB0PXsuLi5lLC4uLm4saW50ZXJvcDplLmludGVyb3B9O3JldHVybiBkZWxldGUgdC5tYW5pZmVzdFVybCx0fXJldHVybiBlfWNvbnN0IHJuPWU9Pntjb25zdCB0PWUubmFtZT09PUIuSG9tZSxhPWUubmFtZT8uc3RhcnRzV2l0aChCLkhvbWVJbnRlcm5hbCksbj1lLm5hbWU/LnN0YXJ0c1dpdGgoQi5Ccm93c2VyTWVudSk7cmV0dXJuIXQmJiFhJiYhbn0sc249ZT0+XCJ3b3Jrc3BhY2VQbGF0Zm9ybVwiaW4gZT9lOigoe3dvcmtzdGFja3M6ZSxwYWdlczp0LC4uLmF9KT0+KHsuLi5hLHdvcmtzcGFjZVBsYXRmb3JtOntwYWdlczp0fHxlfHxudWxsfX0pKShlKSxjbj17Y29udGV4dE1lbnVTZXR0aW5nczp7cmVsb2FkOiExfSxiYWNrZ3JvdW5kVGhyb3R0bGluZzohMCx1cmw6YW4sY29udGV4dE1lbnU6ITAsY2xvc2VPbkxhc3RWaWV3UmVtb3ZlZDohMSxleHBlcmltZW50YWw6e3Nob3dGYXZpY29uczohMCxkZWZhdWx0RmF2aWNvblVybDpgJHtJfS9pY29ucy9kZWZhdWx0RmF2aWNvbi5zdmdgfSxwZXJtaXNzaW9uczp7U3lzdGVtOntvcGVuVXJsV2l0aEJyb3dzZXI6e2VuYWJsZWQ6ITAscHJvdG9jb2xzOltcIm1haWx0b1wiXX19fX0sZG49e2RpbWVuc2lvbnM6e2JvcmRlcldpZHRoOjMsaGVhZGVySGVpZ2h0OjMwfX0scG49YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgeHQoKS5TdG9yYWdlLmdldFBhZ2VzKCksbj1hd2FpdCB4dCgpLkJyb3dzZXIuZ2V0QWxsQXR0YWNoZWRQYWdlcygpO3JldHVybiBlLm1hcCgoZT0+e2xldCBvPWUudGl0bGU7dm9pZCAwPT09ZS5wYWdlSWQmJihlLnBhZ2VJZD1hZSgpKTtjb25zdCBpPWEuZmluZCgoZT0+ZS50aXRsZT09PW8pKTtyZXR1cm4oaSYmaS5wYWdlSWQhPT1lLnBhZ2VJZHx8bi5maW5kKChlPT5lLnRpdGxlPT09bykpKSYmKG89ZGUoZS50aXRsZSxbLi4uYSwuLi5uXS5tYXAoKGU9PmUudGl0bGUpKSkpLG4ucHVzaChlKSx7Li4udCwuLi5lLHRpdGxlOm99fSkpfSxsbj1lPT57Y29uc3QgdD1maW4uV2luZG93LndyYXBTeW5jKGUpO3JldHVybiBQcm9taXNlLmFsbChbdC5icmluZ1RvRnJvbnQoKSx0LnJlc3RvcmUoKSx0LmZvY3VzKCldKX07YXN5bmMgZnVuY3Rpb24gd24oZSl7Y29uc3QgdD1hd2FpdCAkKCk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQubWFwKCgoe2lkZW50aXR5OmV9KT0+KGFzeW5jIGU9Pihhd2FpdCBFZShlKSkuZGlzcGF0Y2goUmUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zKSkoZSkpKSksZT9lKCk6Y3QoKX1sZXQgdW49W107Y29uc3QgZ249KCk9PnVuO2NvbnN0IHluPWU9PmFzeW5jIHQ9PntjbGFzcyBhIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc1dvcmtzcGFjZVBsYXRmb3JtPSgpPT4hMCx0aGlzLmFkZFBhZ2U9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LHRoaXMuZGV0YWNoUGFnZXNGcm9tV2luZG93PUtlLHRoaXMuZ2V0QWxsQXR0YWNoZWRQYWdlcz1MZSx0aGlzLmdldFBhZ2VzRm9yV2luZG93PVFlLHRoaXMuZ2V0UGFnZUZvcldpbmRvdz16ZSx0aGlzLnNldEFjdGl2ZVBhZ2U9amUsdGhpcy5sYXVuY2hBcHA9WmEsdGhpcy5zYXZlUGFnZT0kZSx0aGlzLnNhdmVXb3Jrc3BhY2U9Z2UsdGhpcy5jcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1GZSx0aGlzLnVwZGF0ZVNhdmVkUGFnZUludGVybmFsPU5lLHRoaXMuZGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9R2UsdGhpcy5yZW9yZGVyUGFnZXNGb3JXaW5kb3c9SmUsdGhpcy5nZXRVbmlxdWVQYWdlVGl0bGU9WGUsdGhpcy51cGRhdGVQYWdlRm9yV2luZG93PXFlLHRoaXMuZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PWhlLHRoaXMuZ2V0VGhlbWVzPWduLHRoaXMuaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9bnQsdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPXVlLHRoaXMuYXBwbHlXb3Jrc3BhY2U9cGUsdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9bGUsdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbD10aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnU9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnUuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkUGFnZXM9dGhpcy5nZXRTYXZlZFBhZ2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2U9dGhpcy5nZXRTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZVNhdmVkUGFnZT10aGlzLmNyZWF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMudXBkYXRlU2F2ZWRQYWdlPXRoaXMudXBkYXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFBhZ2U9dGhpcy5kZWxldGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaFBhZ2VzVG9XaW5kb3c9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKSx0aGlzLm9wZW5QYWdlVGFiQ29udGV4dE1lbnU9dGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZXM9dGhpcy5nZXRTYXZlZFdvcmtzcGFjZXMuYmluZCh0aGlzKSx0aGlzLmdldFNhdmVkV29ya3NwYWNlPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlPXRoaXMuY3JlYXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlPXRoaXMudXBkYXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlPXRoaXMuZGVsZXRlU2F2ZWRXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLmdldEN1cnJlbnRXb3Jrc3BhY2U9dGhpcy5nZXRDdXJyZW50V29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5hcHBseVdvcmtzcGFjZT10aGlzLmFwcGx5V29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2U9dGhpcy5zZXRBY3RpdmVXb3Jrc3BhY2UuYmluZCh0aGlzKSx0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnU9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwuYmluZCh0aGlzKX1hc3luYyBnZXRTbmFwc2hvdCgpe2NvbnN0IGU9YXdhaXQgd24oKGFzeW5jKCk9PmN0KGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKSkpO3JldHVybnsuLi5lLHdpbmRvd3M6ZS53aW5kb3dzLmZpbHRlcihybikubWFwKHN0KX19YXN5bmMgYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6ZSxvcHRpb25zOnR9KXt0Py5jbG9zZUV4aXN0aW5nV2luZG93cyYmYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWF3YWl0ICQoKTthd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoZT0+ZS5jbG9zZSghMCkuY2F0Y2goKCgpPT57fSkpKSkpfSgpO2xldCBhPWU7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWF3YWl0IHN1cGVyLmZldGNoTWFuaWZlc3Qoe21hbmlmZXN0VXJsOmF9LGZpbi5tZS5pZGVudGl0eSkpLGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1hd2FpdCBMZSgpLG49ZS5zbmFwc2hvdERldGFpbHM/Lm1vbml0b3JJbmZvfHxhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksbz0oZS53aW5kb3dzfHxbXSkuZmlsdGVyKCgoe2xheW91dDplfSk9PiEhZSkpLGk9bmV3IE1hcDthLmZvckVhY2goKGU9Pmkuc2V0KGUucGFnZUlkLGUpKSk7Y29uc3Qgcj1bXSxzPW8ubWFwKChhc3luYyBlPT57Y29uc3QgdD1zbihlKSxhPVtdLG49KGU9PntsZXQgdD0hMTtjb25zdCBhPShlfHxbXSkubWFwKChlPT57Y29uc3QgYT1mdW5jdGlvbih7aWQ6ZSxuYW1lOnQsLi4uYX0pe3JldHVybntwYWdlSWQ6ZSx0aXRsZTp0LC4uLmF9fShlKTtyZXR1cm4gdCYmYS5pc0FjdGl2ZSYmKGEuaXNBY3RpdmU9ITEpLGEuaXNBY3RpdmUmJih0PSEwKSxhfSkpO3JldHVybiF0JiZhLmxlbmd0aCYmKGFbMF0uaXNBY3RpdmU9ITApLGF9KSh0Py53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMpO2lmKCFuPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgWGUoKTthLnB1c2goYXdhaXQgQXQoZSx0LmxheW91dCkpfWxldCBvO24uZm9yRWFjaCgoZT0+e2NvbnN0IHQ9aS5nZXQoZS5wYWdlSWQpO3Q/bz10OmEucHVzaChlKX0pKSxvJiZhd2FpdCBQcm9taXNlLmFsbChbamUoe2lkZW50aXR5Om8ucGFyZW50SWRlbnRpdHkscGFnZUlkOm8ucGFnZUlkfSksbG4oby5wYXJlbnRJZGVudGl0eSldKSxhLmxlbmd0aCYmci5wdXNoKHsuLi50LHdvcmtzcGFjZVBsYXRmb3JtOnsuLi50LndvcmtzcGFjZVBsYXRmb3JtLHBhZ2VzOmF9fSl9KSk7aWYoYXdhaXQgUHJvbWlzZS5hbGwocyksIXIubGVuZ3RoKXJldHVybjtjb25zdCBjPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3JldHVybih0fHxjLmFwcGx5U25hcHNob3QuYmluZChjKSkoey4uLmUsc25hcHNob3REZXRhaWxzOnsuLi5lLnNuYXBzaG90RGV0YWlscyxtb25pdG9ySW5mbzpufSx3aW5kb3dzOnJ9KX0oYSwoZT0+c3VwZXIuYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6ZSxvcHRpb25zOnsuLi50LGNsb3NlRXhpc3RpbmdXaW5kb3dzOiExfX0pKSl9YXN5bmMgY3JlYXRlV2luZG93KHQsYSl7bGV0IG49c24odCk7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldFRoZW1lcygpO249YXdhaXQoYXN5bmMoZSx0LGEpPT57bGV0IG49ZTtjb25zdCBvPW4/LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcztpZihvKXtjb25zdCBlPW8uZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2U/bi5sYXlvdXQ9ZS5sYXlvdXQ6KG9bMF0uaXNBY3RpdmU9ITAsbi5sYXlvdXQ9b1swXS5sYXlvdXQpfWlmKG4ubGF5b3V0KXtpZihuPXRuKHt9LHQuZGVmYXVsdFdpbmRvd09wdGlvbnMsbixjbiksbi5sYXlvdXQ9dG4obi5sYXlvdXQsZG4pLChuLmljb258fG4udGFza2Jhckljb24pJiYobi50YXNrYmFySWNvbkdyb3VwPW4udGFza2Jhckljb25Hcm91cHx8ZmluLm1lLmlkZW50aXR5LnV1aWQpLCFuLmJhY2tncm91bmRDb2xvcil7Y29uc3QgZT1hPy5wYWxldHRlO24uYmFja2dyb3VuZENvbG9yPWU/LmJhY2tncm91bmQyfHxlPy5iYWNrZ3JvdW5kUHJpbWFyeX1jb25zdCBlPW4ud29ya3NwYWNlUGxhdGZvcm0ubmV3VGFiVXJsO2UmJihuLmxheW91dC5zZXR0aW5nc3x8KG4ubGF5b3V0LnNldHRpbmdzPXt9KSxuLmxheW91dC5zZXR0aW5ncy5uZXdUYWJCdXR0b249e3VybDplfSksbj0oZT0+e2NvbnN0IHQ9ZTtyZXR1cm4gdC53b3Jrc3BhY2VQbGF0Zm9ybXx8KHQud29ya3NwYWNlUGxhdGZvcm09e30pLHQud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93RW5hYmxlZD0hMCx0LndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbEF1dG9TaG93PXQud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbEF1dG9TaG93fHx2b2lkIDA9PT10LmF1dG9TaG93fHx0LmF1dG9TaG93LHQuYXV0b1Nob3c9ITEsdH0pKG4pfXJldHVybiBuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcyYmKG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM9YXdhaXQgcG4obi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcyx0Py5kZWZhdWx0UGFnZU9wdGlvbnMpKSxuLmNvcm5lclJvdW5kaW5nJiZkZWxldGUgbi5jb3JuZXJSb3VuZGluZyxufSkobixlLG9bMF0pLG49YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpLGE9dC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LmJvdHRvbS10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QudG9wLG49dC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LnJpZ2h0LXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5sZWZ0O3JldHVybiBlLmRlZmF1bHRIZWlnaHQ9ZS5kZWZhdWx0SGVpZ2h0fHxcIjgwMFwiLGUuZGVmYXVsdFdpZHRoPWUuZGVmYXVsdFdpZHRofHxcIjgwMFwiLGE8ZS5kZWZhdWx0SGVpZ2h0JiYoZS5kZWZhdWx0SGVpZ2h0PWEpLG48ZS5kZWZhdWx0V2lkdGgmJihlLmRlZmF1bHRXaWR0aD1uKSxlfSkobik7cmV0dXJuKGU9PmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IGUodCxhKTtyZXR1cm4gdD8ud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbERlZmVyU2hvd0VuYWJsZWQ/KGF3YWl0IG4uYWRkTGlzdGVuZXIoTC5TaG93UmVxdWVzdGVkLCgoKT0+e30pKSxuKTpufSkoKChlLHQpPT5zdXBlci5jcmVhdGVXaW5kb3coZSx0KSkpKG4sYSl9YXN5bmMgY3JlYXRlVmlldyh0LGEpe3JldHVybiB0Lm9wdHM9bm4odC5vcHRzLGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzPWF3YWl0IG9uKHQub3B0cyx0aGlzLmZldGNoTWFuaWZlc3QsYSksc3VwZXIuY3JlYXRlVmlldyh0LGEpfWFzeW5jIHJlcGxhY2VWaWV3KHQsYSl7cmV0dXJuIHQub3B0cy5uZXdWaWV3PWF3YWl0IG5uKHQub3B0cy5uZXdWaWV3LGU/LmRlZmF1bHRWaWV3T3B0aW9ucyksdC5vcHRzLm5ld1ZpZXc9YXdhaXQgb24odC5vcHRzLm5ld1ZpZXcsdGhpcy5mZXRjaE1hbmlmZXN0LGEpLHN1cGVyLnJlcGxhY2VWaWV3KHQsYSl9YXN5bmMgcmVwbGFjZUxheW91dChlLHQpe3JldHVybiBlLm9wdHMubGF5b3V0Py5kaW1lbnNpb25zLHN1cGVyLnJlcGxhY2VMYXlvdXQoZSx0KX1hc3luYyBjbG9zZVZpZXcoZSx0KXtjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKGUudmlldyk7YXdhaXQgc3VwZXIuY2xvc2VWaWV3KGUsdCksYXdhaXQgYS5kZXN0cm95KCkuY2F0Y2goKGU9PmUpKX1hc3luYyBnZXRTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIHZ0LmFwcGx5KHRoaXMsZSl9YXN5bmMgZ2V0U2F2ZWRQYWdlcyguLi5lKXtyZXR1cm4gUHQuYXBwbHkodGhpcyxlKX1hc3luYyBjcmVhdGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIGJ0LmFwcGx5KHRoaXMsZSl9YXN5bmMgZGVsZXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBrdC5hcHBseSh0aGlzLGUpfWFzeW5jIHVwZGF0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gV3QuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gUWEuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFdvcmtzcGFjZXMoLi4uZSl7cmV0dXJuIHphLmFwcGx5KHRoaXMsZSl9YXN5bmMgY3JlYXRlU2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIEphLmFwcGx5KHRoaXMsZSl9YXN5bmMgZGVsZXRlU2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIFhhLmFwcGx5KHRoaXMsZSl9YXN5bmMgdXBkYXRlU2F2ZWRXb3Jrc3BhY2UoLi4uZSl7cmV0dXJuIFlhLmFwcGx5KHRoaXMsZSl9YXN5bmMgYXR0YWNoUGFnZXNUb1dpbmRvdyh0KXt0LnBhZ2VzPWF3YWl0IHBuKHQucGFnZXMsZT8uZGVmYXVsdFBhZ2VPcHRpb25zKSxhd2FpdCBIZSh0KX1hc3luYyBvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gTmEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuR2xvYmFsQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuICRhLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBIYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5WaWV3VGFiQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuICRhLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBxYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnUoLi4uZSl7cmV0dXJuICRhLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblNhdmVCdXR0b25Db250ZXh0TWVudSguLi5lKXtyZXR1cm4gJGEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIEthLmFwcGx5KHRoaXMsZSl9fXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/Lm92ZXJyaWRlQ2FsbGJhY2s/ZS5vdmVycmlkZUNhbGxiYWNrKGEpOm5ldyBhfTthc3luYyBmdW5jdGlvbiBobigpeyFmdW5jdGlvbigpe2NvbnN0IGU9eCgpO2UuYWRkTGlzdGVuZXIoRS5XaW5kb3dPcHRpb25zQ2hhbmdlZCxldCksZS5hZGRMaXN0ZW5lcihFLldpbmRvd0Nsb3NlZCx0dCksZS5hZGRMaXN0ZW5lcihFLldpbmRvd0NyZWF0ZWQsdHQpfSgpLGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTthd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWZvY3VzZWRcIixmZSl9KCk7bGUoYXdhaXQgd2UoKSl9bGV0IGZuO2Z1bmN0aW9uIG1uKGUpe2lmKCFtKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuXCIpO2lmKCFmbil7ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+aG4oKSkpLGUudGl0bGUmJih0PWUudGl0bGUsdGE9dCksZm49ZmluLlBsYXRmb3JtLmluaXQoe292ZXJyaWRlQ2FsbGJhY2s6eW4oZSksaW50ZXJvcE92ZXJyaWRlOmU/LmludGVyb3BPdmVycmlkZX0pLChhc3luYyBlPT57aihLLlBsYXRmb3JtLGUpfSkoe2FsbG93ZWQ6ITB9KX12YXIgdDtyZXR1cm4gZm59Y29uc3QgU249YXN5bmMgZT0+e2NvbnN0IHQ9QS5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpLGE9YXdhaXQoYXN5bmMgZT0+bmV3IFByb21pc2UoKGFzeW5jIHQ9Pntjb25zdCBhPShhd2FpdCBmaW4uU3lzdGVtLmdldFZlcnNpb24oKSkuc3BsaXQoXCIuXCIpLm1hcCgoZT0+cGFyc2VJbnQoZSkpKTt0KGUuZXZlcnkoKCh0LG4pPT4hKG48Myl8fGFbbl09PT1lW25dKSkpfSkpKSh0KSxuPWU/LnRoZW1lO3ZhciBvO2lmKG4mJigobz1uKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnBhbGV0dGUuYmFja2dyb3VuZFByaW1hcnk7aWYoIXQuaW5jbHVkZXMoXCIjXCIpJiYhdC5pbmNsdWRlcyhcInJnYlwiKSYmIXQuaW5jbHVkZXMoXCJoc2xcIikpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBwcmltYXJ5IGNvbG9yIGlzIG5vdCB0aGUgcmlnaHQgZm9ybWF0LlwiKX0pKSx1bj1vLChhc3luYyBlPT57aihLLlRoZW1pbmcsZSl9KSh7YWxsb3dlZDohMH0pKSxlPy5jdXN0b21BY3Rpb25zJiYoYXQ9ZT8uY3VzdG9tQWN0aW9ucyksYSl7cmV0dXJuIG1uKGU/LmJyb3dzZXIpfXRocm93IG5ldyBFcnJvcihgUnVudGltZSB2ZXJzaW9uIGlzIG5vdCBzdXBwb3J0ZWQuICAke3RbMF19LiR7dFsxXX0uJHt0WzJdfS4qIGlzIHJlcXVpcmVkYCl9O21vZHVsZS5leHBvcnRzPWN9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezMxMzM6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7Q0xJQWN0aW9uOigpPT56ZS5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT56ZS5lbCxDTElUZW1wbGF0ZTooKT0+emUueVcsZGVyZWdpc3RlcjooKT0+WWUsaGlkZTooKT0+dHQscmVnaXN0ZXI6KCk9PlFlLHNob3c6KCk9PmV0fSk7dmFyIHI9e307bi5yKHIpLG4uZChyLHtzdWJzY3JpYmU6KCk9Pm9lfSk7dmFyIG89e307bi5yKG8pLG4uZChvLHtjcmVhdGU6KCk9PkdlfSk7dmFyIGk9big2NTMyKSxzPW4oNzQwNSk7Y29uc3QgYT1cImhvbWVcIjt2YXIgYzshZnVuY3Rpb24oZSl7ZS5Db21tYW5kcz1cImhvbWUtY29tbWFuZHNcIn0oY3x8KGM9e30pKTt2YXIgZCx1PW4oNTgwNik7big3NTY0KTshZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0oZHx8KGQ9e30pKTtjb25zdCBmPVwiYWxsXCIsbD1cIjBcIixwPVwiNVwiLGc9XCI2XCIsdz0oKT0+e307ZnVuY3Rpb24gaChlLHQpe3JldHVybiBlP2Ake2V9LSR7dH1gOnR9ZnVuY3Rpb24geShlKXtyZXR1cm5gX19zZWFyY2gtJHtlfS10b3BpY19fYH1jb25zdCB2PW5ldyBNYXA7ZnVuY3Rpb24gbShlLHQpe3YuaGFzKGUpfHx2LnNldChlLG5ldyBTZXQpLHYuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBTKGUsdCl7Y29uc3Qgbj12LmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBDPW5ldyBNYXA7ZnVuY3Rpb24gUChlLHQpe0MuaGFzKGUpfHxDLnNldChlLG5ldyBTZXQpLEMuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBSKGUsdCl7Y29uc3Qgbj1DLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBiPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gVChlLHQpe2IuaGFzKGUpfHxiLnNldChlLG5ldyBNYXApLGIuZ2V0KGUpLnNldCh0LmlkLHQpO2NvbnN0IG49di5nZXQoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9Wy4uLm5dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwocil9YXN5bmMgZnVuY3Rpb24gSShlLHQpe2NvbnN0IG49Yi5nZXQoZSk7aWYoIW4pcmV0dXJuO24uZGVsZXRlKHQpO2NvbnN0IHI9Qy5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IG89Wy4uLnJdLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwobyl9ZnVuY3Rpb24gTChlKXtyZXR1cm4gYi5nZXQoZSk/Wy4uLmIuZ2V0KGUpLnZhbHVlcygpXTpbXX1mdW5jdGlvbiBrKGUpe2NvbnN0IHQ9Yi5nZXQoZSk7dCYmdC5jbGVhcigpfWZ1bmN0aW9uIE0oZSx0KXtjb25zdCBuPWIuZ2V0KGUpO3JldHVybiBuP24uZ2V0KHQpOm51bGx9ZnVuY3Rpb24gQihlLHQsbil7cmV0dXJuey4uLmUsYWN0aW9uOm58fGUuYWN0aW9uc1swXSxkaXNwYXRjaGVySWRlbnRpdHk6dH19ZnVuY3Rpb24gTyhlLHQsbj1cImFzY2VuZGluZ1wiKXtjb25zdCByPWV8fFtdO2lmKCF0Py5sZW5ndGgpcmV0dXJuIHI7Y29uc3Qgbz1bXSxpPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIGkuc2V0KGUua2V5LGUpO28ucHVzaChlKX0pKTtsZXQgcz1yLm1hcCgoZT0+e2NvbnN0e2tleTp0fT1lO2lmKHQmJmkuaGFzKHQpKXtjb25zdCBlPWkuZ2V0KHQpO3JldHVybiBpLmRlbGV0ZSh0KSxlfXJldHVybiBlfSkpO3JldHVybiBzLnB1c2goLi4uaS52YWx1ZXMoKSwuLi5vKSxzPVwiYXNjZW5kaW5nXCI9PT1uP3Muc29ydCgoKGUsdCk9PihudWxsIT09ZS5zY29yZSYmdm9pZCAwIT09ZS5zY29yZT9lLnNjb3JlOjEvMCktKG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKSkpOnMuc29ydCgoKGUsdCk9PihudWxsIT09dC5zY29yZSYmdm9pZCAwIT09dC5zY29yZT90LnNjb3JlOjEvMCktKG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKSkpLHN9ZnVuY3Rpb24gVyhlKXtjb25zdCB0PXt9O2xldCBuPVtdO2xldCByPVtdO2xldCBvPWQuSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+byx0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+bix0LnNldFJlc3VsdEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9PnIsdC5zZXRSZXZva2VkQnVmZmVyPWU9PntyPWUscj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQub25DaGFuZ2U9dztjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntvIT09ZC5DbG9zZSYmKG89ZC5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntvIT09ZC5PcGVuJiYobz1kLk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPW49Pntjb25zdCByPU8odC5nZXRSZXN1bHRCdWZmZXIoKSxuLGUpO3Quc2V0UmVzdWx0QnVmZmVyKHIpfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBuPW5ldyBTZXQoZSkscj10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1uLmhhcyhlKTtyZXR1cm4gdCYmbi5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIociksbi5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+bi5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLm5dKSl9LHR9ZnVuY3Rpb24gRChlLHQsbil7Y29uc3Qgcj1uZXcgU2V0O2xldCBvPSExO3JldHVybntjbG9zZTooKT0+e289ITA7Zm9yKGNvbnN0IGUgb2YgcillKCl9LHJlcTp7aWQ6dCx0b3BpYzplLC4uLm4sY29udGV4dDpuPy5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PntyLmFkZChlKSxvJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PntyLmRlbGV0ZShlKX19fX1mdW5jdGlvbiB4KCl7cmV0dXJue25hbWU6ZmluLm1lLm5hbWUsdXVpZDpmaW4ubWUudXVpZH19ZnVuY3Rpb24gQSgpe2xldCBlO3RyeXtjb25zdCB0PWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKCF0Py5pZGVudGl0eSlyZXR1cm47ZT10LmlkZW50aXR5LnV1aWR9Y2F0Y2goZSl7fXJldHVybiBlfWNvbnN0IEU9XCJkZXJlZ2lzdGVyZWQgb3IgZG9lcyBub3QgZXhpc3RcIixGPW5ldyBFcnJvcihgcHJvdmlkZXIgJHtFfWApLF89bmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpLCQ9bmV3IEVycm9yKFwiYmFkIHBheWxvYWRcIikscT1uZXcgRXJyb3IoXCJzdWJzY3JpcHRpb24gcmVqZWN0ZWRcIiksRz1uZXcgRXJyb3IoYGNoYW5uZWwgJHtFfWApLE49bmV3IE1hcDtmdW5jdGlvbiBIKGUpe2NvbnN0IHQ9VShlKTtpZih0KXJldHVybiB0O3Rocm93IEd9ZnVuY3Rpb24gVShlKXtjb25zdCB0PU4uZ2V0KGUpO2lmKHQpcmV0dXJuIHR9ZnVuY3Rpb24gVihlLHQpe04uc2V0KGUsdCl9Y29uc3Qgaj1uZXcgTWFwO2Z1bmN0aW9uIEsoZSl7ai5oYXMoZSl8fGouc2V0KGUsbmV3IE1hcCk7Y29uc3QgdD1qLmdldChlKTtyZXR1cm57Z2V0UmVxdWVzdHNGb3JJZGVudGl0eTplPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtyZXR1cm5gJHtlLnV1aWR9OiR7ZS5uYW1lfWB9KGUpO3JldHVybiB0LmhhcyhuKXx8dC5zZXQobixuZXcgTWFwKSx0LmdldChuKX19fWFzeW5jIGZ1bmN0aW9uIFgoZSx0KXtyZXR1cm4oYXdhaXQgSChlKSkuZGlzcGF0Y2gobCx0KX1mdW5jdGlvbiBKKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSl7Y29uc3Qgbj1NLmJpbmQobnVsbCxlKSxyPUsoZSksbz1YLmJpbmQobnVsbCxlKTtyZXR1cm4gYXN5bmMoZSxpKT0+e2lmKCFlfHwhZS5pZHx8IWUucHJvdmlkZXJJZCl7Y29uc3QgZT0kO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0e2lkOnMscHJvdmlkZXJJZDphfT1lLGM9bihhKTtpZighYyl7Y29uc3QgZT1GO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0IGQ9ci5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KGkpO2xldCB1PWQuZ2V0KGUuaWQpO3V8fCh1PUQodCxzLGUpLGQuc2V0KGUuaWQsdSkpO2NvbnN0IGY9VygpLGw9KCk9Pntjb25zdCBlPWYuZ2V0UmVzdWx0QnVmZmVyKCk7Zi5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IHQ9Zi5nZXRSZXZva2VkQnVmZmVyKCk7Zi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCBuPWYuZ2V0U3RhdHVzKCk7byh7aWQ6cyxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6dCxzdGF0dXM6bn0pfTtsZXQgcD0hMCxnPSExO2Yub25DaGFuZ2U9KCk9PntpZihwKXJldHVybiBwPSExLHZvaWQgbCgpO2d8fChnPSEwLHNldFRpbWVvdXQoKCgpPT57Zz0hMSxsKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0OnR9PWF3YWl0IGMub25Vc2VySW5wdXQodS5yZXEsZi5yZXMpLG49Zi5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsc3RhdHVzOm4scmVzdWx0czplLGNvbnRleHQ6dH19Y2F0Y2goZSl7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLGVycm9yOmUubWVzc2FnZX19fX1hc3luYyBmdW5jdGlvbiBaKGUsdCxuKXtjb25zdCByPW58fGF3YWl0IEgoZSksbz14KCksaT17aWRlbnRpdHk6bywuLi50LG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH07YXdhaXQgci5kaXNwYXRjaChcIjJcIixpKSxhd2FpdCBUKGUse2lkZW50aXR5Om8sLi4udH0pfWFzeW5jIGZ1bmN0aW9uIHooZSx0KXtjb25zdCBuPWF3YWl0IEgoZSk7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goXCIzXCIsdCksSShlLHQpfWFzeW5jIGZ1bmN0aW9uIFEoZSx0LG4scil7Y29uc3Qgbz1CKG4seCgpLHIpLGk9TShlLHQpO2lmKGkpe2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6ZX09aTtpZighZSlyZXR1cm47cmV0dXJuIGUobyl9Y29uc3Qgcz17cHJvdmlkZXJJZDp0LHJlc3VsdDpvfTtyZXR1cm4oYXdhaXQgSChlKSkuZGlzcGF0Y2gocCxzKX1hc3luYyBmdW5jdGlvbiBZKGUsdCl7Y29uc3Qgbj17Li4udCxjb250ZXh0OnQ/LmNvbnRleHR8fHt9fSxyPXt9LG89YXN5bmMgZnVuY3Rpb24qKGUsdCx7c2V0U3RhdGU6bn0pe2NvbnN0IHI9YXdhaXQgSChlKTtmb3IoOzspe2NvbnN0IGU9YXdhaXQgci5kaXNwYXRjaChcIjFcIix0KSxvPWUuZXJyb3I7aWYobyl0aHJvdyBuZXcgRXJyb3Iobyk7Y29uc3QgaT1lO2lmKHQuaWQ9aS5pZCxuKGkuc3RhdGUpLGkuZG9uZSlyZXR1cm4gaS52YWx1ZTt5aWVsZCBpLnZhbHVlfX0oZSxuLHtzZXRTdGF0ZTplPT57ci5zdGF0ZT1lfX0pO2xldCBpPWF3YWl0IG8ubmV4dCgpO3JldHVybiByLmlkPW4uaWQsci5jbG9zZT0oKT0+eyFhc3luYyBmdW5jdGlvbihlLHQpeyhhd2FpdCBIKGUpKS5kaXNwYXRjaChnLHtpZDp0fSl9KGUsci5pZCl9LHIubmV4dD0oKT0+e2lmKGkpe2NvbnN0IGU9aTtyZXR1cm4gaT12b2lkIDAsZX1yZXR1cm4gby5uZXh0KCl9LHJ9YXN5bmMgZnVuY3Rpb24gZWUoZSl7cmV0dXJuKGF3YWl0IEgoZSkpLmRpc3BhdGNoKFwiNFwiLG51bGwpfWFzeW5jIGZ1bmN0aW9uIHRlKGUpe2NvbnN0IHQ9YXdhaXQgSChlKTt2YXIgbjtuPWUsTi5kZWxldGUobiksayhlKSxhd2FpdCB0LmRpc2Nvbm5lY3QoKX1mdW5jdGlvbiBuZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPUsodCk7cmV0dXJuIGFzeW5jIHI9PntpZighVSh0KSlyZXR1cm47Y29uc3Qgbz1uLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkocik7Zm9yKGNvbnN0e3JlcTplLGNsb3NlOnR9b2Ygby52YWx1ZXMoKSl0KCksby5kZWxldGUoZS5pZCk7Vih0LChhc3luYyBlPT57Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1hd2FpdCByZShlKTtmb3IoY29uc3QgZSBvZiBMKHQpKWF3YWl0IFoodCxlLG4pO3JldHVybiBufSkoZSkpfX1hc3luYyBmdW5jdGlvbiByZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPXkodCkscj1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtmb3IobGV0IHQ9MDt0PDUwO3QrKyl0cnl7cmV0dXJuIGF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlLHt3YWl0OiExfSl9Y2F0Y2goZSl7aWYoNDk9PT10KXRocm93IGU7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSwxZTMpKSl9fShuKTtyZXR1cm4gci5yZWdpc3RlcihsLEooZSkpLHIucmVnaXN0ZXIoZyxmdW5jdGlvbihlKXtjb25zdCB0PUsoZSk7cmV0dXJuKGUsbik9Pntjb25zdCByPXQuZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShuKSxvPXIuZ2V0KGUuaWQpO28mJihvLmNsb3NlKCksci5kZWxldGUoZS5pZCkpfX0odCkpLHIucmVnaXN0ZXIocCxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuO2NvbnN0IHI9TShlLHQucHJvdmlkZXJJZCk7aWYoIXIpcmV0dXJuO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6b309cjtyZXR1cm4gbz8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4sbyh0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxyLm9uRGlzY29ubmVjdGlvbihuZShlKSkscn1hc3luYyBmdW5jdGlvbiBvZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljKXx8ZixuPShcInN0cmluZ1wiPT10eXBlb2YgZT9udWxsOmU/LnV1aWQpfHxBKCkscj1oKG4sdCksbz17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6cn07bGV0IGk9VShyKTtyZXR1cm4gaXx8KGk9cmUobyksVihyLGkpLGF3YWl0IGkpLHtnZXRBbGxQcm92aWRlcnM6ZWUuYmluZChudWxsLHIpLHJlZ2lzdGVyOlouYmluZChudWxsLHIpLHNlYXJjaDpZLmJpbmQobnVsbCxyKSxkZXJlZ2lzdGVyOnouYmluZChudWxsLHIpLGRpc3BhdGNoOlEuYmluZChudWxsLHIpLGRpc2Nvbm5lY3Q6dGUuYmluZChudWxsLHIpfX1jb25zdCBpZT1uZXcgTWFwO2Z1bmN0aW9uIHNlKGUpe2NvbnN0IHQ9YWUoZSk7aWYodClyZXR1cm4gdDt0aHJvdyBHfWZ1bmN0aW9uIGFlKGUpe2NvbnN0IHQ9aWUuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9Y29uc3QgY2U9bmV3IE1hcDtmdW5jdGlvbiBkZShlLHQpe2NlLmhhcyhlKXx8Y2Uuc2V0KGUsbmV3IFNldCksY2UuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiB1ZShlLHQpe2NvbnN0IG49Y2UuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfXZhciBmZT1uKDUzMTYpO2Z1bmN0aW9uIGxlKGUpe3JldHVyblsuLi5MKGUpXS5tYXAoKGU9Pih7Li4uZSxvblVzZXJJbnB1dDp2b2lkIDAsb25SZXN1bHREaXNwYXRjaDp2b2lkIDB9KSkpfWFzeW5jIGZ1bmN0aW9uIHBlKGUsdCl7aWYoTShlLHQuaWQpKXRocm93IG5ldyBFcnJvcihcInByb3ZpZGVyIHdpdGggbmFtZSBhbHJlYWR5IGV4aXN0c1wiKTtjb25zdCBuPXgoKTthd2FpdCBUKGUse2lkZW50aXR5Om4sLi4udH0pfWZ1bmN0aW9uIGdlKGUsdCl7SShlLHQpfWFzeW5jIGZ1bmN0aW9uIHdlKGUsdCxuLHIpe2NvbnN0IG89TShlLHQpO2lmKCFvKXRocm93IEY7Y29uc3R7b25SZXN1bHREaXNwYXRjaDppfT1vO2lmKCFpKXJldHVybjtyZXR1cm4gaShCKG4seCgpLHIpKX1hc3luYyBmdW5jdGlvbipoZShlLHQsbil7Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2NvbnN0IG49W10scj1bXSxvPVtdLGk9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1XKHMuc2NvcmVPcmRlciksYT17cmVzdWx0czpbXSxwcm92aWRlcjp7aWQ6cy5pZCxpZGVudGl0eTpzLmlkZW50aXR5LHRpdGxlOnMudGl0bGUsc2NvcmVPcmRlcjpzLnNjb3JlT3JkZXIsaWNvbjpzLmljb259fTtuLnB1c2goYSksci5wdXNoKGUpO2NvbnN0IGM9KGFzeW5jKCk9Pnt0cnl7Y29uc3R7cmVzdWx0czpuLGNvbnRleHQ6cn09YXdhaXQgcy5vblVzZXJJbnB1dCh0LGUucmVzKTthLnJlc3VsdHM9TyhhLnJlc3VsdHMsbiksYS5jb250ZXh0PXsuLi5hLmNvbnRleHQsLi4ucn19Y2F0Y2goZSl7YS5lcnJvcj1lfWMuZG9uZT0hMH0pKCk7aS5wdXNoKGMpLG8ucHVzaChvLmxlbmd0aCl9cmV0dXJue3Byb3ZpZGVyUmVzcG9uc2VzOm4sbGlzdGVuZXJSZXNwb25zZXM6cixvcGVuTGlzdGVuZXJSZXNwb25zZXM6byxpbml0aWFsUmVzcG9uc2VQcm9taXNlczppfX0odC50YXJnZXRzP3QudGFyZ2V0cy5tYXAoKHQ9Pk0oZSx0KSkpLmZpbHRlcigoZT0+ISFlKSk6Wy4uLkwoZSkuZmlsdGVyKChlPT4hZS5oaWRkZW4pKV0sdCkse3Byb3ZpZGVyUmVzcG9uc2VzOm8sbGlzdGVuZXJSZXNwb25zZXM6aX09cjtsZXR7b3Blbkxpc3RlbmVyUmVzcG9uc2VzOnMsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6YX09cixjPWZlLkQuRmV0Y2hpbmc7Y29uc3QgdT1lPT57Yz1lLG4uc2V0U3RhdGUoYyl9O2xldCBmLGw9ITE7dC5vbkNsb3NlKCgoKT0+e2w9ITAsZiYmZigpfSkpO2Rve2xldCBlPSExO2lmKGEubGVuZ3RoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGEpbi5kb25lP2U9ITA6dC5wdXNoKG4pO2E9dCxhLmxlbmd0aHx8KHUoZmUuRC5GZXRjaGVkKSxlPSEwKX1sZXQgdCxuPSExO2NvbnN0IHI9KCk9PntuPSEwLHQmJnQoKX0scD1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPWlbdF0scz1vW3RdLGE9bi5nZXRTdGF0dXMoKTsoYT09PWQuT3Blbnx8Yz09PWZlLkQuRmV0Y2hpbmcmJmE9PT1kLkluaXRpYWwpJiYocC5wdXNoKHQpLG4ub25DaGFuZ2U9cik7Y29uc3QgdT1uLmdldFJlc3VsdEJ1ZmZlcigpO3UubGVuZ3RoJiYobi5zZXRSZXN1bHRCdWZmZXIoW10pLHMucmVzdWx0cz1PKHMucmVzdWx0cyx1KSxlPSEwKTtjb25zdCBmPW4uZ2V0UmV2b2tlZEJ1ZmZlcigpO2lmKGYubGVuZ3RoKXtuLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IHQ9bmV3IFNldChmKTtzLnJlc3VsdHM9cy5yZXN1bHRzLmZpbHRlcigoKHtrZXk6ZX0pPT4hdC5oYXMoZSkpKSxlPSEwfX1pZihzPXAsZSYmKHlpZWxkIG8pLGwpYnJlYWs7bnx8KHMubGVuZ3RofHxhLmxlbmd0aCkmJmF3YWl0IFByb21pc2UucmFjZShbLi4uYSxuZXcgUHJvbWlzZSgoZT0+e3Q9ZX0pKSxuZXcgUHJvbWlzZSgoZT0+e2Y9ZX0pKV0pfXdoaWxlKHMubGVuZ3RofHxhLmxlbmd0aCk7cmV0dXJuIHUoZmUuRC5Db21wbGV0ZSksb31sZXQgeWU9MDtmdW5jdGlvbiB2ZSh7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0sbil7eWUrPTE7Y29uc3Qgcj1EKHQseWUudG9TdHJpbmcoKSxuKSxvPWhlKGUsci5yZXEse3NldFN0YXRlOmU9PntvLnN0YXRlPWV9fSk7cmV0dXJuIG8uaWQ9eWUudG9TdHJpbmcoKSxvLmNsb3NlPXIuY2xvc2Usby5zdGF0ZT1mZS5ELkZldGNoaW5nLG99Y29uc3QgbWU9bmV3IE1hcDtmdW5jdGlvbiBTZShlLHQpe3JldHVybmAke2V9OiR7dH1gfWZ1bmN0aW9uIENlKGUpe3JldHVybiBhc3luYyh0LC4uLm4pPT57aWYoIXQpcmV0dXJue2Vycm9yOiQubWVzc2FnZX07bGV0IHI7aWYodC5pZClyPVNlKGUubmFtZXNwYWNlZFRvcGljLHQuaWQpO2Vsc2V7Y29uc3Qgbj12ZShlLHQpO3I9U2UoZS5uYW1lc3BhY2VkVG9waWMsbi5pZCksdC5pZD1uLmlkLG1lLnNldChyLHtnZW5lcmF0b3I6bn0pfWNvbnN0IG89bWUuZ2V0KHIpO2NsZWFyVGltZW91dChvLnRpbWVvdXQpO2NvbnN0IGk9YXdhaXQgby5nZW5lcmF0b3IubmV4dCgpO3JldHVybiBvLnRpbWVvdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e21lLmRlbGV0ZShlKX0pLDFlNCl9KHIpLHsuLi5pLGlkOnQuaWQsc3RhdGU6by5nZW5lcmF0b3Iuc3RhdGV9fX1mdW5jdGlvbiBQZShlLHQsbil7cmV0dXJuIHNlKGUpLmRpc3BhdGNoKHQsZyx7aWQ6bn0pfWZ1bmN0aW9uIFJlKGUpe3JldHVybiB0PT5mdW5jdGlvbihlLHQpe2NvbnN0IG49U2UoZSx0KSxyPW1lLmdldChuKTtyJiZyLmdlbmVyYXRvci5jbG9zZSgpfShlLHQuaWQpfWFzeW5jIGZ1bmN0aW9uIGJlKGUsdCx7aWQ6bixxdWVyeTpyLGNvbnRleHQ6byx0YXJnZXRzOml9KXtjb25zdCBzPXNlKGUpLGE9e2lkOm4scXVlcnk6cixjb250ZXh0Om8sdGFyZ2V0czppLHByb3ZpZGVySWQ6dC5pZH0sYz1hd2FpdCBzLmRpc3BhdGNoKHQuaWRlbnRpdHksbCxhKSxkPWMuZXJyb3I7aWYoZCl0aHJvdyBuZXcgRXJyb3IoZCk7cmV0dXJuIGN9Y29uc3QgVGU9bmV3IE1hcDtmdW5jdGlvbiBJZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0Lm5hbWV9OiR7dC51dWlkfToke259YH1jb25zdCBMZT1uZXcgTWFwO2Z1bmN0aW9uIGtlKGUsdCxuKXtyZXR1cm5gJHtlfToke3R9OiR7bn1gfWZ1bmN0aW9uIE1lKGUsdCl7Y29uc3Qgbj1JZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxyPVBlLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLG89YmUuYmluZChudWxsLGUsdCk7cmV0dXJuIGFzeW5jKGkscyk9Pntjb25zdCBhPW4oaS5pZCk7aWYoIVRlLmhhcyhhKSl7Y29uc3QgZT0oKT0+e3IoaS5pZCksVGUuZGVsZXRlKGEpfTtUZS5zZXQoYSxlKSxpLm9uQ2xvc2UoZSl9Y29uc3QgYz1rZShlLHQuaWQsaS5pZCksdT0oKT0+e0xlLmRlbGV0ZShjKSxzLmNsb3NlKCl9O2kub25DbG9zZSh1KSxMZS5zZXQoYywoZT0+e2UucmVzdWx0cz8ubGVuZ3RoJiZzLnJlc3BvbmQoZS5yZXN1bHRzKSxlLnJldm9rZWQ/Lmxlbmd0aCYmcy5yZXZva2UoLi4uZS5yZXZva2VkKSxlLnN0YXR1cz09PWQuT3BlbiYmcy5vcGVuKCksZS5zdGF0dXM9PT1kLkNsb3NlJiZ1KCl9KSk7Y29uc3QgZj1hd2FpdCBvKGkpO3JldHVybiBmLnN0YXR1cz09PWQuT3BlbiYmcy5vcGVuKCksZi5zdGF0dXMhPT1kLkNsb3NlJiZmLnN0YXR1cyE9PWQuSW5pdGlhbHx8dSgpLGZ9fWZ1bmN0aW9uIEJlKGUsdCl7cmV0dXJuIGFzeW5jIG49Pntjb25zdCByPXNlKGUpLG89e3Byb3ZpZGVySWQ6dC5pZCxyZXN1bHQ6bn07cmV0dXJuIHIuZGlzcGF0Y2godC5pZGVudGl0eSxwLG8pfX1jb25zdCBPZT1uZXcgTWFwO2Z1bmN0aW9uIFdlKGUsdCl7cmV0dXJuYCR7ZX0tJHt0Lm5hbWV9LSR7dC51dWlkfWB9ZnVuY3Rpb24gRGUoZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQuaWQpcmV0dXJuIHZvaWQgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHQpKTtpZihNKGUsdC5pZCkpdGhyb3cgXzt0LmlkZW50aXR5PW4sYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPVdlKGUsdC5pZGVudGl0eSk7T2UuaGFzKG4pfHxPZS5zZXQobixbXSksT2UuZ2V0KG4pLnB1c2godC5pZCksYXdhaXQgVChlLHsuLi50LG9uVXNlcklucHV0Ok1lKGUsdCksb25SZXN1bHREaXNwYXRjaDpCZShlLHQpfSl9KGUsdCl9fWZ1bmN0aW9uIHhlKGUpe3JldHVybiB0PT57dCYmZnVuY3Rpb24oZSx0KXtjb25zdCBuPU0oZSx0KTtpZighbilyZXR1cm47Y29uc3Qgcj1XZShlLG4uaWRlbnRpdHkpLG89T2UuZ2V0KHIpO2lmKG8pe2NvbnN0IG49by5maW5kSW5kZXgoKGU9PmU9PT10KSk7LTEhPT1uJiYoby5zcGxpY2UobiwxKSxJKGUsdCkpfX0oZSx0KX19Y29uc3QgQWU9bmV3IE1hcDtmdW5jdGlvbiBFZShlLHQpe0FlLmhhcyhlKXx8QWUuc2V0KGUsbmV3IFNldCksQWUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBGZShlLHQpe2NvbnN0IG49QWUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWZ1bmN0aW9uIF9lKGUpe3JldHVybiBhc3luYyB0PT57IWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1XZShlLHQpLHI9T2UuZ2V0KG4pO2lmKHIpe2Zvcihjb25zdCB0IG9mIHIpSShlLHQpO09lLmRlbGV0ZShuKX19KGUsdCk7Y29uc3Qgbj1BZS5nZXQoZSk7biYmbi5mb3JFYWNoKChlPT5lKHQpKSl9fWFzeW5jIGZ1bmN0aW9uICRlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49eShlLm5hbWVzcGFjZWRUb3BpYykscj1hd2FpdChvPW4sZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jcmVhdGUobykpO3ZhciBvO3JldHVybiByLm9uQ29ubmVjdGlvbihmdW5jdGlvbih7bmFtZXNwYWNlZFRvcGljOmV9KXtyZXR1cm4gYXN5bmMgdD0+e2NvbnN0IG49Y2UuZ2V0KGUpO2lmKG4pZm9yKGNvbnN0IGUgb2YgbilpZighYXdhaXQgZSh0KSl0aHJvdyBxfX0oZSkpLHIub25EaXNjb25uZWN0aW9uKF9lKHQpKSxyLnJlZ2lzdGVyKGcsUmUodCkpLHIucmVnaXN0ZXIobCxmdW5jdGlvbihlKXtyZXR1cm4gdD0+e2NvbnN0IG49a2UoZSx0LnByb3ZpZGVySWQsdC5pZCkscj1MZS5nZXQobik7ciYmcih0KX19KHQpKSxyLnJlZ2lzdGVyKFwiMlwiLERlKHQpKSxyLnJlZ2lzdGVyKFwiM1wiLHhlKHQpKSxyLnJlZ2lzdGVyKFwiNFwiLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYygpPT5sZShlKX0odCkpLHIucmVnaXN0ZXIoXCIxXCIsQ2UoZSkpLHIucmVnaXN0ZXIocCxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuO2NvbnN0IHI9TShlLHQucHJvdmlkZXJJZCk7aWYoIXIpdGhyb3cgRjtjb25zdHtvblJlc3VsdERpc3BhdGNoOm99PXI7cmV0dXJuIG8/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLG8odC5yZXN1bHQpKTp2b2lkIDB9fSh0KSkscn1hc3luYyBmdW5jdGlvbiBxZShlKXtjb25zdCB0PXNlKGUpO3ZhciBuO249ZSxpZS5kZWxldGUobiksYXdhaXQgdC5kZXN0cm95KCksayhlKX1hc3luYyBmdW5jdGlvbiBHZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljKXx8ZixuPUEoKSxyPWgobix0KSxvPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpyfTtsZXQgaT1hZShyKTtpfHwoaT1hd2FpdCAkZShvKSxmdW5jdGlvbihlLHQpe2llLnNldChlLHQpfShyLGkpKTtjb25zdCBzPXVlLmJpbmQobnVsbCxyKSxhPUZlLmJpbmQobnVsbCxyKSxjPVMuYmluZChudWxsLHIpLGQ9Ui5iaW5kKG51bGwscik7cmV0dXJue2dldEFsbFByb3ZpZGVyczpsZS5iaW5kKG51bGwsciksc2VhcmNoOnZlLmJpbmQobnVsbCxvKSxyZWdpc3RlcjpwZS5iaW5kKG51bGwsciksZGVyZWdpc3RlcjpnZS5iaW5kKG51bGwsciksb25TdWJzY3JpcHRpb246ZGUuYmluZChudWxsLHIpLG9uRGlzY29ubmVjdDpFZS5iaW5kKG51bGwsciksb25SZWdpc3RlcjptLmJpbmQobnVsbCxyKSxvbkRlcmVnaXN0ZXI6UC5iaW5kKG51bGwsciksZGlzcGF0Y2g6d2UuYmluZChudWxsLG8pLGRpc2Nvbm5lY3Q6cWUuYmluZChudWxsLHIpLHJlbW92ZUxpc3RlbmVyOmU9PntzKGUpLGEoZSksYyhlKSxkKGUpfX19Y29uc3R7Y3JlYXRlOk5lfT1vLHtzdWJzY3JpYmU6SGV9PXIsVWU9e2NyZWF0ZTpOZSxzdWJzY3JpYmU6SGUsZGVmYXVsdFRvcGljOlwiYWxsXCJ9LFZlPSgpPT57Y29uc3QgZT13aW5kb3c7ZS5zZWFyY2g9VWUsZS5maW4mJihlLmZpbi5TZWFyY2g9VWUpfSxqZT1lPT57Y29uc3QgdD0oKT0+e1ZlKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX07cmV0dXJuIHR9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe1ZlKCk7Y29uc3QgZT1cImxvYWRcIix0PWplKGUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCk7Y29uc3Qgbj1cIkRPTUNvbnRlbnRMb2FkZWRcIixyPWplKG4pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4scil9Y29uc3QgS2U9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBYZSgpe2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe0tlLnNldChlLGF3YWl0IEhlKHt0b3BpYzplLHV1aWQ6dS5xOS5Xb3Jrc3BhY2V9KSl9KGEpfWxldCBKZTthc3luYyBmdW5jdGlvbiBaZShlKXtyZXR1cm4gYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4gSmV8fChKZT1YZSgpKSxKZX0oKSxLZS5nZXQoZSl9dmFyIHplPW4oMzc1OCk7Y29uc3QgUWU9YXN5bmMgZT0+e2lmKCFlLmljb24pdGhyb3cgbmV3IEVycm9yKGAke2UuaWR9IHByb3ZpZGVyIG5lZWRzIHRvIGhhdmUgaWNvbiBwcm9wZXJ0eSBkZWZpbmVkLmApO2F3YWl0KDAscy5hQikoKTtjb25zdCB0PWF3YWl0IFplKGEpO3RyeXtjb25zdCBuPWF3YWl0IHQucmVnaXN0ZXIoZSk7cmV0dXJuKDAsaS5jaykoe2FsbG93ZWQ6ITB9KSxufWNhdGNoKGUpe3Rocm93KDAsaS5jaykoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxlfX0sWWU9YXN5bmMgZT0+e2F3YWl0KDAscy5hQikoKTtyZXR1cm4oYXdhaXQgWmUoYSkpLmRlcmVnaXN0ZXIoZSl9O2FzeW5jIGZ1bmN0aW9uIGV0KCl7cmV0dXJuKGF3YWl0KDAscy5YbCkoKSkuZGlzcGF0Y2gocy5NbC5TaG93SG9tZSx2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIHR0KCl7cmV0dXJuKGF3YWl0KDAscy5YbCkoKSkuZGlzcGF0Y2gocy5NbC5IaWRlSG9tZSx2b2lkIDApfX0sMzI5ODooZSx0LG4pPT57bi5kKHQse3c6KCk9PnIud30pO3ZhciByPW4oNTMxNil9LDM3NTg6KGUsdCxuKT0+e3ZhciByLG8saTtuLmQodCx7UHQ6KCk9PnIseVc6KCk9Pm8sZWw6KCk9Pml9KSxmdW5jdGlvbihlKXtlLlN1Z2dlc3Rpb249XCJzdWdnZXN0aW9uXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5Db250YWN0PVwiQ29udGFjdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCIsZS5MaXN0PVwiTGlzdFwiLGUuUGxhaW49XCJQbGFpblwiLGUuU2ltcGxlVGV4dD1cIlNpbXBsZVRleHRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sNzU2NDooZSx0LG4pPT57bigzMjk4KSxuKDM3NTgpLG4oNjExNCksbigyMTA5KX0sNjExNDooZSx0LG4pPT57dmFyIHIsbztuLmQodCx7TDooKT0+cixUOigpPT5vfSksZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0ob3x8KG89e30pKX0sMjEwOTooZSx0LG4pPT57bi5kKHQse3A2OigpPT5yLEdvOigpPT5vLGJJOigpPT5pLFpKOigpPT5zfSk7Y29uc3Qgcj17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCJ9LG89e1RleHQ6XCJUZXh0XCIsSW1hZ2U6XCJJbWFnZVwiLExpc3Q6XCJMaXN0XCJ9LGk9ey4uLnIsLi4ub307dmFyIHM7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShzfHwocz17fSkpfSwzMTc6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7QXBwTWFuaWZlc3RUeXBlOigpPT5pLkwsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5pLlQsZGVyZWdpc3RlcjooKT0+ZixoaWRlOigpPT5sLHJlZ2lzdGVyOigpPT51LHNob3c6KCk9PnB9KTt2YXIgcj1uKDY1MzIpLG89big3NDA1KTtuKDc1NjQpO3ZhciBpPW4oNjExNCk7bGV0IHM7Y29uc3QgYT1uZXcgTWFwLGM9ZT0+e2lmKCFhLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoYFN0b3JlZnJvbnQgUHJvdmlkZXIgd2l0aCBpZCAke2V9IGlzIG5vdCByZWdpc3RlcmVkYCk7cmV0dXJuIGEuZ2V0KGUpfSxkPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0KDAsby5YbCkoKTtpZihhLmhhcyhlLmlkKSl0aHJvdyBuZXcgRXJyb3IoYFN0b3JlZnJvbnQgcHJvdmlkZXIgd2l0aCBpZCAke2UuaWR9IGFscmVhZHkgcmVnaXN0ZXJlZGApO3JldHVybiBhLnNldChlLmlkLGUpLChlPT57ZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZHx8KGUuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWQ9ITAsZS5yZWdpc3RlcihvLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHMsKGU9PmMoZSkuZ2V0QXBwcygpKSksZS5yZWdpc3RlcihvLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3RlciwoZT0+YyhlKS5nZXRGb290ZXIoKSkpLGUucmVnaXN0ZXIoby5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZSwoZT0+YyhlKS5nZXRMYW5kaW5nUGFnZSgpKSksZS5yZWdpc3RlcihvLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlck5hdmlnYXRpb24sKGU9PmMoZSkuZ2V0TmF2aWdhdGlvbigpKSksZS5yZWdpc3RlcihvLk1sLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcCwoKHtpZDplLGFwcDp0fSk9PmMoZSkubGF1bmNoQXBwKHQpKSkpfSkodCksdC5kaXNwYXRjaChvLk1sLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLGUpfSx1PWU9PihzPWQoZSksKDAsci5kOSkoe2FsbG93ZWQ6ITB9KSxzKSxmPWFzeW5jIGU9Pnthd2FpdCBzLGEuZGVsZXRlKGUpO3JldHVybihhd2FpdCgwLG8uWGwpKCkpLmRpc3BhdGNoKG8uTWwuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixlKX0sbD1hc3luYygpPT57YXdhaXQgcyxhd2FpdCgwLG8uYUIpKCksYXdhaXQoYXN5bmMoKT0+KGF3YWl0KDAsby5EbSkoKSkuZGlzcGF0Y2goby5NbC5IaWRlU3RvcmVmcm9udCx2b2lkIDApKSgpfSxwPWFzeW5jKCk9Pnthd2FpdCBzLGF3YWl0KDAsby5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxvLkRtKSgpKS5kaXNwYXRjaChvLk1sLlNob3dTdG9yZWZyb250LG51bGwpKSgpfX0sNzQwNTooZSx0LG4pPT57bi5kKHQse01sOigpPT5zLERtOigpPT5hLFhsOigpPT5mLGFCOigpPT51fSk7dmFyIHI9big2Njc4KTtjb25zdCBvPXIuQXgmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO3ZhciBpPW4oMTIxKTt2YXIgczshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlcnM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlcnNcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIixlLkNyZWF0ZVN0b3JlZnJvbnRXaW5kb3c9XCJjcmVhdGUtc3RvcmVmcm9udC13aW5kb3dcIixlLlNob3dIb21lPVwic2hvdy1ob21lXCIsZS5IaWRlSG9tZT1cImhpZGUtaG9tZVwiLGUuQXNzaWduSG9tZVNlYXJjaENvbnRleHQ9XCJhc3NpZ24taG9tZS1zZWFyY2gtY29udGV4dFwiLGUuR2V0TGVnYWN5UGFnZXM9XCJnZXQtbGVnYWN5LXBhZ2VzXCIsZS5HZXRMZWdhY3lXb3Jrc3BhY2VzPVwiZ2V0LWxlZ2FjeS13b3Jrc3BhY2VzXCIsZS5HZXRDb21wdXRlZFBsYXRmb3JtVGhlbWU9XCJnZXQtY29tcHV0ZWQtcGxhdGZvcm0tdGhlbWVcIn0oc3x8KHM9e30pKTtjb25zdCBhPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybigpPT57aWYoIXIuc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgbztjb25zdCBuPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlKTtyZXR1cm4gbi5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9Pnt0PXZvaWQgMH0pKSxufSkoKS50aGVuKChlPT5lKSkuY2F0Y2goKG49Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHtufWApfSkpKSx0fX0oXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLGM9XCJpc0xhdW5jaGVkVmlhTGliXCIsZD1lPT57Y29uc3QgdD1uZXcgVVJMKGUpO3JldHVybiB0LnNlYXJjaFBhcmFtcy5hcHBlbmQoYyxcInRydWVcIiksdC50b1N0cmluZygpfSx1PWFzeW5jKCk9PntpZighYXdhaXQoMCxpLkpWKShpLmlXKSlyZXR1cm4oci5aS3x8LTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJXaW5cIikpJiZhd2FpdCBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QoZChyLmFXKSksZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZChyLkdYKSl9LGY9YXN5bmMoKT0+KGF3YWl0IHUoKSxhKCkpfSw1ODA2OihlLHQsbik9PntuLmQodCx7cTk6KCk9PnJ9KTt2YXIgcixvLGkscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KGl8fChpPXt9KSk7cy5BQixzLkFCLHIuV29ya3NwYWNlLHIuV29ya3NwYWNlfSw2Njc4OihlLHQsbik9Pnt2YXIgcjtuLmQodCx7c1M6KCk9Pm8sQXg6KCk9PmksQUI6KCk9PmEsb0M6KCk9PmMsWks6KCk9PmQsR1g6KCk9PnUsYVc6KCk9PmYsdTA6KCk9PnB9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KHJ8fChyPXt9KSk7Y29uc3Qgbz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdykscz1pP3dpbmRvdy5vcmlnaW46ci5Mb2NhbCxhPW8mJmZpbi5tZS51dWlkLGM9byYmZmluLm1lLm5hbWUsZD0obyYmZmluLm1lLmVudGl0eVR5cGUsXCJwcm9kXCI9PT1yLkxvY2FsKSx1PShyLkRldixyLlN0YWdpbmcsci5Qcm9kLFwiZmluczovL3N5c3RlbS1hcHBzL3dvcmtzcGFjZVwiKSxmPVwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNy4zLjcvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLHA9KGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS83LjMuN1wiKSxsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNy4zLjdcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZsKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiNy4zLjdcIil9LDY1MzI6KGUsdCxuKT0+e24uZCh0LHtjazooKT0+YSxkOTooKT0+Y30pO3ZhciByLG89big2Njc4KSxpPW4oMTIxKTshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuSG9tZT1cIkhvbWVcIixlLk5vdGlmaWNhdGlvbj1cIk5vdGlmaWNhdGlvblwiLGUuU3RvcmVmcm9udD1cIlN0b3JlZnJvbnRcIixlLlBsYXRmb3JtPVwiUGxhdGZvcm1cIixlLlRoZW1pbmc9XCJUaGVtaW5nXCJ9KHJ8fChyPXt9KSk7Y29uc3Qgcz1hc3luYyhlLHQpPT57Y29uc3Qgbj17YXBpVmVyc2lvbjp0LmFwaVZlcnNpb258fG8udTAsY29tcG9uZW50TmFtZTplLGNvbXBvbmVudFZlcnNpb246by51MCwuLi50fTtmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6XCJ3b3Jrc3BhY2UtbGljZW5zaW5nXCIsZGF0YTpufSl9LGE9YXN5bmMgZT0+e2kuT0kudXVpZD09PWkuR2kudXVpZCYmaS5PSS5uYW1lPT09aS5HaS5uYW1lfHxzKHIuSG9tZSxlKX0sYz1hc3luYyBlPT57cyhyLlN0b3JlZnJvbnQsZSl9fSwxMjE6KGUsdCxuKT0+e24uZCh0LHtHaTooKT0+YyxPSTooKT0+ZCxpVzooKT0+dSxKVjooKT0+Zn0pO3ZhciByLG8saT1uKDU4MDYpLHM9big2Njc4KTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VSZXF1ZXN0ZWQ9XCJjbG9zZS1yZXF1ZXN0ZWRcIixlLkZvY3VzZWQ9XCJmb2N1c2VkXCIsZS5TaG93UmVxdWVzdGVkPVwic2hvdy1yZXF1ZXN0ZWRcIixlLlZpZXdDcmFzaGVkPVwidmlldy1jcmFzaGVkXCIsZS5WaWV3QXR0YWNoZWQ9XCJ2aWV3LWF0dGFjaGVkXCIsZS5WaWV3RGV0YWNoZWQ9XCJ2aWV3LWRldGFjaGVkXCIsZS5WaWV3UGFnZVRpdGxlVXBkYXRlZD1cInZpZXctcGFnZS10aXRsZS11cGRhdGVkXCIsZS5WaWV3RGVzdHJveWVkPVwidmlldy1kZXN0cm95ZWRcIixlLk9wdGlvbnNDaGFuZ2VkPVwib3B0aW9ucy1jaGFuZ2VkXCJ9KG98fChvPXt9KSk7ZnVuY3Rpb24gYShlKXtpZighcy5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1jb25zdCBjPXtuYW1lOnMub0MsdXVpZDpzLkFCfTtjb25zdCBkPXtuYW1lOnIuSG9tZSx1dWlkOmkucTkuV29ya3NwYWNlfSx1PShyLkRvY2ssaS5xOS5Xb3Jrc3BhY2Usci5TdG9yZWZyb250LGkucTkuV29ya3NwYWNlLHtuYW1lOmkucTkuV29ya3NwYWNlLHV1aWQ6aS5xOS5Xb3Jrc3BhY2V9KTtjb25zdCBmPWU9PmEoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKX0sNTMxNjooZSx0LG4pPT57dmFyIHIsbztuLmQodCx7RDooKT0+cix3OigpPT5vfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShvfHwobz17fSkpfX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KGUsdCk9Pntmb3IodmFyIHIgaW4gdCluLm8odCxyKSYmIW4ubyhlLHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtlbnVtZXJhYmxlOiEwLGdldDp0W3JdfSl9LG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgcj17fTsoKCk9PntuLnIociksbi5kKHIse0FwcE1hbmlmZXN0VHlwZTooKT0+cC5MLEJ1dHRvblN0eWxlOigpPT5mLlpKLENMSUFjdGlvbjooKT0+bC5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5sLmVsLENMSVRlbXBsYXRlOigpPT5sLnlXLENvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5wNixIb21lOigpPT5vLExlZ2FjeTooKT0+ZSxQcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmYuR28sU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+dS53LFN0b3JlZnJvbnQ6KCk9PmQsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5wLlQsVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5mLmJJfSk7dmFyIGU9e307bi5yKGUpLG4uZChlLHtnZXRQYWdlczooKT0+YSxnZXRXb3Jrc3BhY2VzOigpPT5jfSk7dmFyIHQsbz1uKDMxMzMpO24oNjY3OCksbigxMjEpOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0odHx8KHQ9e30pKTtuZXcgTWFwO3ZhciBpOyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwifShpfHwoaT17fSkpO3ZhciBzPW4oNzQwNSk7Y29uc3QgYT0oKT0+YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLk1sLkdldExlZ2FjeVBhZ2VzLHZvaWQgMCl9KCksYz0oKT0+KGFzeW5jKCk9Pihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuTWwuR2V0TGVnYWN5V29ya3NwYWNlcyx2b2lkIDApKSgpO3ZhciBkPW4oMzE3KSx1PW4oMzI5OCksZj1uKDIxMDkpLGw9bigzNzU4KSxwPW4oNjExNCl9KSgpLG1vZHVsZS5leHBvcnRzPXJ9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcHMoKTogUHJvbWlzZTxBcHBbXT4ge1xyXG4gICAgcmV0dXJuIFtleHBlcm9BcHAsIG5vdGlmaWNhdGlvblN0dWRpbywgcHJvY2Vzc01hbmFnZXIsIGRldmVsb3BlckNvbnRlbnRdO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZXhwZXJvQXBwOkFwcCA9IHtcclxuICAgIGFwcElkOiBcImV4cGVyby1jb21wYW55LW5ld3NcIixcclxuICAgIHRpdGxlOiBcIkdhdGV3YXkgLSBDb21wYW55IE5ld3NcIixcclxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vb3BlbmZpbi1pZXguZXhwZXJvbGFicy5jb20vb3BlbmZpbi9tYW5pZmVzdHMvY29tcGFueS1uZXdzLmpzb25cIixcclxuICAgIG1hbmlmZXN0VHlwZTogXCJ2aWV3XCIsXHJcbiAgICBpY29uczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgc3JjOiBcImh0dHBzOi8vb3BlbmZpbi1pZXguZXhwZXJvbGFicy5jb20vZmF2aWNvbi5pY29cIlxyXG4gICAgICB9XHJcbiAgICBdLFxyXG4gICAgY29udGFjdEVtYWlsOiBcImNvbnRhY3RAZXhhbXBsZS5jb21cIixcclxuICAgIHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBwdWJsaXNoZXI6IFwiRXhwZXJvXCIsXHJcbiAgICBpbnRlbnRzOiBbXSxcclxuICAgIGltYWdlczogW3tcclxuICAgICAgc3JjOlwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcy9wcmV2aWV3cy9leHBlcm8tbmV3cy12aWV3LnBuZ1wiXHJcbiAgICB9XSxcclxuICAgIHRhZ3M6W1wiZXhwZXJvXCIsIFwidmlld1wiLCBcImludGVyb3BcIl1cclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3Qgbm90aWZpY2F0aW9uU3R1ZGlvOkFwcCA9ICB7XHJcbiAgICBhcHBJZDogXCJub3RpZmljYXRpb25zLWdlbmVyYXRvclwiLFxyXG4gICAgdGl0bGU6IFwiT3BlbkZpbiBOb3RpZmljYXRpb25zIFN0dWRpb1wiLFxyXG4gICAgbWFuaWZlc3RUeXBlOiBcIm1hbmlmZXN0XCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCJOb3RpZmljYXRpb25zIFN0dWRpbzogVGhpcyBpcyBPcGVuRmluJ3MgdG9vbCBmb3IgZGVtb25zdHJhdGluZyB0aGUgcG93ZXIgb2Ygb3VyIE5vdGlmaWNhdGlvbiBDZW50ZXIuIFVzZSBpdCB0byBjcmVhdGUgbG9jYWwgbm90aWZpY2F0aW9ucyBvciB1c2Ugc29tZSBvZiB0aGUgZXhhbXBsZXMgc2hvd24gaW4gb3VyIENhdGFsb2cuIEV4cGVyaW1lbnQgd2l0aCBvdXIgZmVhdHVyZXMgYW5kIHNlZSB0aGUgcG93ZXIgdGhhdCBPcGVuRmluIE5vdGlmaWNhdGlvbiBDZW50ZXIgY2FuIGJyaW5nIHRvIHlvdXIgYXBwbGljYXRpb25zLlwiLFxyXG4gICAgbWFuaWZlc3Q6IFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9zdHVkaW8vbm90aWZpY2F0aW9uL2FwcC5qc29uXCIsXHJcbiAgICBpY29uczogW1xyXG4gICAgICB7IHNyYzogXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL2RlbW9zL25vdGlmaWNhdGlvbnMvZ2VuZXJhdG9yL2ltYWdlcy9pY29uLWJsdWUucG5nXCJ9XHJcbiAgICBdLFxyXG4gICAgY29udGFjdEVtYWlsOiBcImNvbnRhY3RAZXhhbXBsZS5jb21cIixcclxuICAgIHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBwdWJsaXNoZXI6IFwiT3BlbkZpblwiLFxyXG4gICAgaW50ZW50czogW10sXHJcbiAgICBpbWFnZXM6IFt7XHJcbiAgICAgIHNyYzpcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9pbWFnZXMvcHJldmlld3Mvb3BlbmZpbi1ub3RpZmljYXRpb24tc3R1ZGlvLnBuZ1wiXHJcbiAgICB9XSxcclxuICAgIHRhZ3M6W1wiaGVyb1wiLCBcIm1hbmlmZXN0XCIsIFwidG9vbHNcIl1cclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgcHJvY2Vzc01hbmFnZXI6QXBwID0ge1xyXG4gICAgYXBwSWQ6IFwib3BlbmZpbi1wcm9jZXNzLW1hbmFnZXJcIixcclxuICAgIHRpdGxlOiBcIk9wZW5GaW4gUHJvY2VzcyBNYW5hZ2VyXCIsXHJcbiAgICBtYW5pZmVzdFR5cGU6IFwibWFuaWZlc3RcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIlByb2Nlc3MgTWFuYWdlcjogVGhpcyBpcyBPcGVuRmluJ3MgdG9vbCBmb3IgaGVscGluZyBkZXZlbG9wZXJzIGJ1aWxkIE9wZW5GaW4gQXBwbGljYXRpb25zLiBJdCBsZXRzIHlvdSBzZWUgdGhlIE9wZW5GaW4gYXBwbGljYXRpb25zIHRoYXQgYXJlIHJ1bm5pbmcsIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgYXBwbGljYXRpb25zIChtZW1vcnkgYW5kIGNwdSkgYW5kIGVhc3kgYWNjZXNzIHRvIHRoZSBkZXYgdG9vbHMgZm9yIHRoZSBXaW5kb3dzIG9mIHlvdXIgYXBwbGljYXRpb24uXCIsXHJcbiAgICBtYW5pZmVzdDogXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3Byb2Nlc3MtbWFuYWdlci9hcHAuanNvblwiLFxyXG4gICAgaWNvbnM6IFtcclxuICAgICAgeyBzcmM6IFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9wcm9jZXNzLW1hbmFnZXIvaW1nL3Byb2MtbWdyLWljb24ucG5nXCIgfVxyXG4gICAgXSxcclxuICAgIGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxyXG4gICAgcHVibGlzaGVyOiBcIk9wZW5GaW5cIixcclxuICAgIGludGVudHM6IFtdLFxyXG4gICAgaW1hZ2VzOiBbe1xyXG4gICAgICBzcmM6XCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL3ByZXZpZXdzL29wZW5maW4tcHJvY2Vzcy1tYW5hZ2VyLnBuZ1wiXHJcbiAgICB9XSxcclxuICAgIHRhZ3M6W1wiaGVyb1wiLCBcIm1hbmlmZXN0XCIsIFwidG9vbHNcIl1cclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgZGV2ZWxvcGVyQ29udGVudDogQXBwID0ge1xyXG4gICAgYXBwSWQ6IFwib3BlbmZpbi1kZXZlbG9wZXItcGFnZVwiLFxyXG4gICAgdGl0bGU6IFwiT3BlbkZpbiBEZXZlbG9wZXIgRG9jc1wiLFxyXG4gICAgbWFuaWZlc3RUeXBlOiBcInNuYXBzaG90XCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCJTaG93cyBhIGNvbGxlY3Rpb24gb2YgT3BlbkZpbiBkZXZlbG9wZXIgcGFnZXMgYW5kIHByb3ZpZGVzIGFuIGV4YW1wbGUgb2YgaG93IHlvdSBjYW4gcHJlc2VudCBhIHByZS1idWlsdCBwYWdlIGFzIGEgbGF1bmNoIHRhcmdldCBpbiBPcGVuRmluIEhvbWUuIFRoaXMgZW50cnkgaGFzIGEgbWFuaWZlc3QgdHlwZSBvZiAnc25hcHNob3QnLlwiLFxyXG4gICAgbWFuaWZlc3Q6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3NuYXBzaG90Lmpzb25cIixcclxuICAgIGljb25zOiBbXHJcbiAgICAgIHsgc3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9pbWFnZXMvaWNvbi1ibHVlLnBuZ1wiIH1cclxuICAgIF0sXHJcbiAgICBjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxyXG4gICAgc3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcclxuICAgIHB1Ymxpc2hlcjogXCJPcGVuRmluXCIsXHJcbiAgICBpbnRlbnRzOiBbXSxcclxuICAgIGltYWdlczogW3tcclxuICAgICAgc3JjOlwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcy9wcmV2aWV3cy9vcGVuZmluLXBhZ2UtZG9jcy5wbmdcIlxyXG4gICAgfV0sXHJcbiAgICB0YWdzOltcInBhZ2VcIl1cclxuICB9OyIsImltcG9ydCB7XHJcbiAgU3RvcmVmcm9udCwgXHJcbiAgQXBwLFxyXG4gIFN0b3JlZnJvbnRMYW5kaW5nUGFnZSxcclxuICBTdG9yZWZyb250TmF2aWdhdGlvblNlY3Rpb24sXHJcbiAgU3RvcmVmcm9udEZvb3RlcixcclxuICBTdG9yZWZyb250UHJvdmlkZXIsXHJcbiAgU3RvcmVmcm9udFRlbXBsYXRlLFxyXG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcclxuaW1wb3J0IHsgZ2V0Q3VycmVudFN5bmMgfSBmcm9tICdAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0nO1xyXG5pbXBvcnQge1xyXG4gIGdldEFwcHMsXHJcbiAgZXhwZXJvQXBwLFxyXG4gIG5vdGlmaWNhdGlvblN0dWRpbyxcclxuICBwcm9jZXNzTWFuYWdlcixcclxuICBkZXZlbG9wZXJDb250ZW50LFxyXG59IGZyb20gXCIuL2FwcHNcIjtcclxuXHJcbmNvbnN0IHByb3ZpZGVySWQgPSBcInJlZ2lzdGVyLXdpdGgtc3RvcmUtYmFzaWNcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICBjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyB0aGUgc3RvcmVmcm9udCBwcm92aWRlci5cIik7XHJcbiAgbGV0IHByb3ZpZGVyID0gYXdhaXQgZ2V0U3RvcmVQcm92aWRlcigpO1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBTdG9yZWZyb250LnJlZ2lzdGVyKHByb3ZpZGVyKTtcclxuICAgIGNvbnNvbGUubG9nKFwiU3RvcmVmcm9udCBwcm92aWRlciBpbml0aWFsaXNlZC5cIik7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBcIkFuIGVycm9yIHdhcyBlbmNvdW50ZXJlZCB3aGlsZSB0cnlpbmcgdG8gcmVnaXN0ZXIgdGhlIGNvbnRlbnQgc3RvcmUgcHJvdmlkZXJcIixcclxuICAgICAgZXJyXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcmVnaXN0ZXIoKSB7XHJcbiAgcmV0dXJuIFN0b3JlZnJvbnQuZGVyZWdpc3Rlcihwcm92aWRlcklkKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3coKSB7XHJcbiAgY29uc29sZS5sb2coXCJTaG93aW5nIHRoZSBzdG9yZS5cIik7XHJcbiAgcmV0dXJuIFN0b3JlZnJvbnQuc2hvdygpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGlkZSgpIHtcclxuICBjb25zb2xlLmxvZyhcIkhpZGluZyB0aGUgc3RvcmUuXCIpO1xyXG4gIHJldHVybiBTdG9yZWZyb250LmhpZGUoKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0U3RvcmVQcm92aWRlcigpOiBQcm9taXNlPFN0b3JlZnJvbnRQcm92aWRlcj4ge1xyXG4gIGNvbnNvbGUubG9nKFwiR2V0dGluZyB0aGUgc3RvcmUgcHJvdmlkZXIuXCIpO1xyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICBpZDogcHJvdmlkZXJJZCxcclxuICAgIHRpdGxlOiBcIkJhc2ljIFN0b3JlXCIsXHJcbiAgICBpY29uOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9mYXZpY29uLmljb1wiLFxyXG4gICAgZ2V0TmF2aWdhdGlvbjogZ2V0TmF2aWdhdGlvbixcclxuICAgIGdldExhbmRpbmdQYWdlOiBnZXRMYW5kaW5nUGFnZSxcclxuICAgIGdldEZvb3RlcjogZ2V0Rm9vdGVyLFxyXG4gICAgZ2V0QXBwcyxcclxuICAgIGxhdW5jaEFwcDogYXN5bmMgKGFwcDpBcHApPT4ge1xyXG4gICAgICBsZXQgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xyXG4gICAgICBhd2FpdCBwbGF0Zm9ybS5sYXVuY2hBcHAoe2FwcH0pO1xyXG4gICAgfSxcclxuICB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXROYXZpZ2F0aW9uKCk6IFByb21pc2U8XHJcbiAgW1N0b3JlZnJvbnROYXZpZ2F0aW9uU2VjdGlvbj8sIFN0b3JlZnJvbnROYXZpZ2F0aW9uU2VjdGlvbj9dXHJcbj4ge1xyXG4gIGNvbnNvbGUubG9nKFwiU2hvd2luZyB0aGUgc3RvcmUgbmF2aWdhdGlvbi5cIik7XHJcblxyXG4gIGxldCBuYXZpZ2F0aW9uU2VjdGlvbnM6IFtcclxuICAgIFN0b3JlZnJvbnROYXZpZ2F0aW9uU2VjdGlvbj8sXHJcbiAgICBTdG9yZWZyb250TmF2aWdhdGlvblNlY3Rpb24/XHJcbiAgXSA9IFtcclxuICAgIHtcclxuICAgICAgaWQ6IFwiYXBwc1wiLFxyXG4gICAgICB0aXRsZTogXCJBcHBzXCIsXHJcbiAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwidmlld1wiLFxyXG4gICAgICAgICAgdGl0bGU6IFwiVmlld3NcIixcclxuICAgICAgICAgIHRlbXBsYXRlSWQ6IFN0b3JlZnJvbnRUZW1wbGF0ZS5BcHBHcmlkLFxyXG4gICAgICAgICAgdGVtcGxhdGVEYXRhOiB7XHJcbiAgICAgICAgICAgIGFwcHM6IFtleHBlcm9BcHBdLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBcInBhZ2VcIixcclxuICAgICAgICAgIHRpdGxlOiBcIlBhZ2VzXCIsXHJcbiAgICAgICAgICB0ZW1wbGF0ZUlkOiBTdG9yZWZyb250VGVtcGxhdGUuQXBwR3JpZCxcclxuICAgICAgICAgIHRlbXBsYXRlRGF0YToge1xyXG4gICAgICAgICAgICBhcHBzOiBbZGV2ZWxvcGVyQ29udGVudF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwibWFuaWZlc3RcIixcclxuICAgICAgICAgIHRpdGxlOiBcIldlYiBBcHBzXCIsXHJcbiAgICAgICAgICB0ZW1wbGF0ZUlkOiBTdG9yZWZyb250VGVtcGxhdGUuQXBwR3JpZCxcclxuICAgICAgICAgIHRlbXBsYXRlRGF0YToge1xyXG4gICAgICAgICAgICBhcHBzOiBbbm90aWZpY2F0aW9uU3R1ZGlvLCBwcm9jZXNzTWFuYWdlcl0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gIHJldHVybiBuYXZpZ2F0aW9uU2VjdGlvbnM7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldExhbmRpbmdQYWdlKCk6IFByb21pc2U8U3RvcmVmcm9udExhbmRpbmdQYWdlPiB7XHJcbiAgY29uc29sZS5sb2coXCJHZXR0aW5nIHRoZSBzdG9yZSBsYW5kaW5nIHBhZ2UuXCIpO1xyXG5cclxuICBsZXQgbGFuZGluZ1BhZ2U6IFN0b3JlZnJvbnRMYW5kaW5nUGFnZSA9IHtcclxuICAgIGhlcm86IHtcclxuICAgICAgdGl0bGU6IFwiQ3VzdG9tIEhlcm8gVGl0bGVcIixcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgXCJUaGlzIGlzIGEgZGVtb25zdHJhdGlvbiBvZiB0aGUgaGVybyBzZWN0aW9uIHRoYXQgeW91IGNhbiBjb25maWd1cmUgZm9yIHlvdXIgc3RvcmUuXCIsXHJcbiAgICAgIGN0YToge1xyXG4gICAgICAgIGlkOiBcImhlcm8tMVwiLFxyXG4gICAgICAgIHRpdGxlOiBcIkhlcm8gQXBwcyFcIixcclxuICAgICAgICB0ZW1wbGF0ZUlkOiBTdG9yZWZyb250VGVtcGxhdGUuQXBwR3JpZCxcclxuICAgICAgICB0ZW1wbGF0ZURhdGE6IHtcclxuICAgICAgICAgIGFwcHM6IFtub3RpZmljYXRpb25TdHVkaW8sIHByb2Nlc3NNYW5hZ2VyXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBpbWFnZToge1xyXG4gICAgICAgIHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL3N1cGVyaGVyby11bnNwbGFzaC5qcGdcIixcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB0b3BSb3c6IHtcclxuICAgICAgdGl0bGU6IFwiQ3VzdG9tIFRvcCBSb3cgQ29udGVudFwiLFxyXG4gICAgICBpdGVtczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBcInRvcC1yb3ctaXRlbS0xXCIsXHJcbiAgICAgICAgICB0aXRsZTogXCJFeHBlcm9cIixcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgICBcIkEgY29sbGVjdGlvbiBvZiBleGFtcGxlIHZpZXdzIGZyb20gRXhwZXJvIHNob3dpbmcgdGhlIHBvd2VyIG9mIGludGVyb3AgYW5kIGNvbnRleHQgc2hhcmluZy5cIixcclxuICAgICAgICAgIGltYWdlOiB7XHJcbiAgICAgICAgICAgIHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL2NvZGluZy0xLXVuc3BsYXNoLmpwZ1wiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHRlbXBsYXRlSWQ6IFN0b3JlZnJvbnRUZW1wbGF0ZS5BcHBHcmlkLFxyXG4gICAgICAgICAgdGVtcGxhdGVEYXRhOiB7XHJcbiAgICAgICAgICAgIGFwcHM6IFtleHBlcm9BcHBdLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiBcInRvcC1yb3ctaXRlbS0yXCIsXHJcbiAgICAgICAgICB0aXRsZTogXCJEZXYgVG9vbHNcIixcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgICBcIkEgY29sbGVjdGlvbiBvZiBkZXZlbG9wZXIgdG9vbHMgdGhhdCBjYW4gYWlkIHdpdGggYnVpbGRpbmcgYW5kIGRlYnVnZ2luZyBPcGVuRmluIGFwcGxpY2F0aW9ucy5cIixcclxuICAgICAgICAgIGltYWdlOiB7XHJcbiAgICAgICAgICAgIHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL2NvZGluZy0yLXVuc3BsYXNoLmpwZ1wiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHRlbXBsYXRlSWQ6IFN0b3JlZnJvbnRUZW1wbGF0ZS5BcHBHcmlkLFxyXG4gICAgICAgICAgdGVtcGxhdGVEYXRhOiB7XHJcbiAgICAgICAgICAgIGFwcHM6IFtub3RpZmljYXRpb25TdHVkaW8sIHByb2Nlc3NNYW5hZ2VyXSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH0sXHJcbiAgICBtaWRkbGVSb3c6IHtcclxuICAgICAgdGl0bGU6XHJcbiAgICAgICAgXCJBIGNvbGxlY3Rpb24gb2Ygc2ltcGxlIHZpZXdzIHRoYXQgc2hvdyBob3cgdG8gc2hhcmUgY29udGV4dCB1c2luZyB0aGUgSW50ZXJvcCBBUEkuXCIsXHJcbiAgICAgIGFwcHM6IFtleHBlcm9BcHBdLFxyXG4gICAgfSxcclxuICAgIGJvdHRvbVJvdzoge1xyXG4gICAgICB0aXRsZTogXCJRdWljayBBY2Nlc3NcIixcclxuICAgICAgaXRlbXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogXCJib3R0b20tcm93LWl0ZW0tMVwiLFxyXG4gICAgICAgICAgdGl0bGU6IFwiVmlld3NcIixcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgICBcIkEgY29sbGVjdGlvbiBvZiB2aWV3cyBtYWRlIGF2YWlsYWJsZSB0aHJvdWdoIG91ciBjYXRhbG9nLlwiLFxyXG4gICAgICAgICAgaW1hZ2U6IHtcclxuICAgICAgICAgICAgc3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9pbWFnZXMvY29kaW5nLTQtdW5zcGxhc2guanBnXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdGVtcGxhdGVJZDogU3RvcmVmcm9udFRlbXBsYXRlLkFwcEdyaWQsXHJcbiAgICAgICAgICB0ZW1wbGF0ZURhdGE6IHtcclxuICAgICAgICAgICAgYXBwczogW2V4cGVyb0FwcF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IFwiYm90dG9tLXJvdy1pdGVtLTJcIixcclxuICAgICAgICAgIHRpdGxlOiBcIldlYiBBcHBzXCIsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBIGNvbGxlY3Rpb24gb2Ygd2ViIGFwcHMgYnVpbHQgdXNpbmcgT3BlbkZpbi5cIixcclxuICAgICAgICAgIGltYWdlOiB7XHJcbiAgICAgICAgICAgIHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL2NvZGluZy01LXVuc3BsYXNoLmpwZ1wiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHRlbXBsYXRlSWQ6IFN0b3JlZnJvbnRUZW1wbGF0ZS5BcHBHcmlkLFxyXG4gICAgICAgICAgdGVtcGxhdGVEYXRhOiB7XHJcbiAgICAgICAgICAgIGFwcHM6IFtub3RpZmljYXRpb25TdHVkaW8sIHByb2Nlc3NNYW5hZ2VyXSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGxhbmRpbmdQYWdlO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRGb290ZXIoKTogUHJvbWlzZTxTdG9yZWZyb250Rm9vdGVyPiB7XHJcbiAgY29uc29sZS5sb2coXCJHZXR0aW5nIHRoZSBzdG9yZSBmb290ZXIuXCIpO1xyXG4gIHJldHVybiB7XHJcbiAgICBsb2dvOiB7IHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvZmF2aWNvbi5pY29cIiwgc2l6ZTogXCIzMlwiIH0sXHJcbiAgICB0ZXh0OiBcIldlbGNvbWUgdG8gdGhlIE9wZW5GaW4gU2FtcGxlIEZvb3RlclwiLFxyXG4gICAgbGlua3M6IFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiBcIkdpdGh1YlwiLFxyXG4gICAgICAgIHVybDogXCJodHRwczovL2dpdGh1Yi5jb20vYnVpbHQtb24tb3BlbmZpbi93b3Jrc3BhY2Utc3RhcnRlclwiLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6IFwiWW91VHViZVwiLFxyXG4gICAgICAgIHVybDogXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS91c2VyL09wZW5GaW5UZWNoXCIsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gIH07XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIlxyXG5pbXBvcnQgeyBpbml0IGFzIHdvcmtzcGFjZVBsYXRmb3JtSW5pdCB9IGZyb20gJ0BvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybSc7XHJcbmltcG9ydCB7IHJlZ2lzdGVyLCBkZXJlZ2lzdGVyLCBzaG93LCBoaWRlIH0gZnJvbSAnLi9zdG9yZSc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0KCkge1xyXG4gIGF3YWl0IHdvcmtzcGFjZVBsYXRmb3JtSW5pdCh7XHJcbiAgICBicm93c2VyOiB7fVxyXG4gIH0pO1xyXG4gIGxldCByZWdpc3RlclN0b3JlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWdpc3RlclwiKTtcclxuICBsZXQgc2hvd1N0b3JlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93XCIpO1xyXG4gIGxldCBoaWRlU3RvcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhpZGVcIik7XHJcbiAgbGV0IGRlcmVnaXN0ZXJTdG9yZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVyZWdpc3RlclwiKTtcclxuXHJcbiAgcmVnaXN0ZXJTdG9yZS5vbmNsaWNrID0gYXN5bmMgKCk9PiB7XHJcbiAgICBhd2FpdCByZWdpc3RlcigpO1xyXG4gICAgc2hvd1N0b3JlLnN0eWxlLmRpc3BsYXkgPSBcInVuc2V0XCI7XHJcbiAgICBoaWRlU3RvcmUuc3R5bGUuZGlzcGxheSA9IFwidW5zZXRcIjtcclxuICAgIGRlcmVnaXN0ZXJTdG9yZS5zdHlsZS5kaXNwbGF5ID0gXCJ1bnNldFwiO1xyXG4gICAgcmVnaXN0ZXJTdG9yZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfTtcclxuXHJcbiAgZGVyZWdpc3RlclN0b3JlLm9uY2xpY2sgPSBhc3luYyAoKT0+IHtcclxuICAgIHNob3dTdG9yZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBoaWRlU3RvcmUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZGVyZWdpc3RlclN0b3JlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHJlZ2lzdGVyU3RvcmUuc3R5bGUuZGlzcGxheSA9IFwidW5zZXRcIjtcclxuICAgIGF3YWl0IGRlcmVnaXN0ZXIoKTtcclxuICB9O1xyXG5cclxuICBzaG93U3RvcmUub25jbGljayA9IGFzeW5jICgpPT4ge1xyXG4gICAgYXdhaXQgc2hvdygpO1xyXG4gIH07XHJcblxyXG4gIGhpZGVTdG9yZS5vbmNsaWNrID0gYXN5bmMgKCk9PiB7XHJcbiAgICBhd2FpdCBoaWRlKCk7XHJcbiAgfTtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgYXdhaXQgaW5pdCgpO1xyXG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=