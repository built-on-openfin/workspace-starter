/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/workspace-platform/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@openfin/workspace-platform/index.js ***!
  \***********************************************************/
/***/ ((module) => {

(()=>{"use strict";var e,t,a,n,o,i,r,s={d:(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},c={};s.r(c),s.d(c,{AppManifestType:()=>i,BrowserButtonType:()=>u,CustomActionCallerType:()=>g,GlobalContextMenuOptionType:()=>p,PageTabContextMenuOptionType:()=>w,ViewTabMenuOptionType:()=>l,getCurrentSync:()=>wt,init:()=>Qt,wrapSync:()=>pt}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.Active="active",e.Default="default"}(t||(t={})),function(e){e.Suggestion="suggestion"}(a||(a={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(n||(n={})),function(e){e.MultiSelect="MultiSelect"}(o||(o={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(i||(i={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}));var d,p,w,l,u,g,h;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(d||(d={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.CloseWindow="CloseWindow",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(p||(p={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.Custom="Custom"}(w||(w={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(l||(l={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(u||(u={})),function(e){e.CustomButton="CustomButton",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.API="API"}(g||(g={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(h||(h={}));const y="undefined"!=typeof window&&"undefined"!=typeof fin,f=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),m=f&&"undefined"!=typeof indexedDB,P=f?window.origin:h.Local,v=y&&fin.me.uuid,S=y&&fin.me.name,b=y&&fin.me.entityType,C=(h.Local,h.Dev,h.Staging,h.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:P+e),W=(C("https://cdn.openfin.co/workspace/6.3.6"),C("https://cdn.openfin.co/workspace/6.3.6")),I=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&C(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&C(WORKSPACE_DOCS_CLIENT_URL),"23.96.68.3");var T;!function(e){e.LastLaunchedWorkspaceId="activeWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(T||(T={}));const k=T;var A,M,V;!function(e){e.Workspace="openfin-browser"}(A||(A={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(M||(M={})),function(e){e.FinProtocol="fin-protocol"}(V||(V={}));const O={uuid:v,name:v},x=(A.Workspace,A.Workspace,e=>{if(!y)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)});var F,L;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(F||(F={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(L||(L={}));function D(e){if(!y)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const R={name:S,uuid:v};function U(){return D(R)}F.Home,A.Workspace,F.Dock,A.Workspace;const E={name:F.Storefront,uuid:A.Workspace};A.Workspace,A.Workspace;async function G(e){const t=D(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.bringToFront(),await t.focus()}const B=e=>e.startsWith(F.BrowserWindow);async function _(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>B(e.identity.name)))}const N=e=>D(e).getOptions().then((()=>!0)).catch((()=>!1)),H=()=>N(E);async function $(){if("undefined"!=typeof localStorage)try{const e=localStorage.getItem(k.LastFocusedBrowserWindow),t=JSON.parse(e);if(await N(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function q(e=fin.me.identity){B(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);localStorage.setItem(k.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const j=(e,t=0)=>{let a,n,o=!1;const i=async n=>{const r=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,i(e)}return r};return(...e)=>(n?(o=!0,a=e):n=i(e).then((e=>(n=void 0,e))),n)};var Q;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(Q||(Q={}));const K=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=K(e.content);t.push(...a)})),t},z=async(e,t,a=R)=>{let n;if(B(a.name)){n=(await D(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;const J=f&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function X(e){let t;return()=>{if(!y)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await J;const a=await fin.InterApplicationBus.Channel.connect(e);return a.onDisconnection((async()=>{t=void 0})),a})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const Y=e=>`__browser_window__-${e.uuid}-${e.name}`,Z=new Map,ee=e=>{const t=Y(e);return Z.has(t)||Z.set(t,X(t)),Z.get(t)()};var te,ae,ne;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.SavePage="save-page",e.DuplicatePage="duplicate-page"}(te||(te={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(ae||(ae={})),function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(ne||(ne={}));new Map;const oe=async e=>{const t=await ee(e);return await t.dispatch(ae.GetPages)},ie=async e=>(await ee(e.identity)).dispatch(ae.UpdatePageForWindow,e);var re;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal"}(re||(re={}));const se=async e=>{const t=fin.Platform.wrapSync(e),a=await t.getClient(),n="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";try{if(!0===await a.dispatch("isWorkspacePlatform"))return a;throw new Error(n)}catch(e){throw new Error(n)}},ce=async()=>{const e=await _();return(await Promise.all(e.map((async({identity:e})=>oe(e))))).reduce(((e,t)=>e.concat(t)),[])},de=async()=>(await se(R)).dispatch(re.GetSavedPages,void 0),pe=async e=>(await se(R)).dispatch(re.GetSavedPage,e),we=async(e,t)=>{const a=await(async e=>(await ce()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await ie({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},le=async({page:e})=>{await we(e.pageId,e),await(async e=>(await se(R)).dispatch(re.CreateSavedPage,e))({page:e})},ue=async e=>{await pe(e)&&await(async e=>(await se(R)).dispatch(re.DeleteSavedPage,e))(e)},ge=async({pageId:e,page:t})=>{await we(e,t);return await(async e=>(await se(R)).dispatch(re.UpdateSavedPage,e))({pageId:e,page:t})},he=async e=>await pe(e.pageId)?ge({pageId:e.pageId,page:e}):le({page:e}),ye=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.AttachPagesToWindow,e))(e)},fe=async e=>{await ie(e)},me=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.DetachPagesFromWindow,e))(e)},Pe=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.SetActivePageForWindow,e))(e)},ve=e=>oe(e),Se=async({identity:e,pageId:t})=>(await ve(e)).find((e=>e.pageId===t)),be=async e=>{await(async e=>(await ee(e.identity)).dispatch(ae.ReorderPagesForWindow,e))(e)},Ce=(e,t)=>!t.find((t=>t===e)),We=(e,t)=>`${e} (${t})`;async function Ie(e="Untitled Page"){const[t,a]=await Promise.all([de(),ce()]),n=[...t,...a].map((({title:e})=>e));if(!n.find((t=>t===e)))return e;let o=1;const i=e.replace(/ \(.+\)$/,"");for(;!Ce(We(i,o),n);)o+=1;return We(i,o)}const Te=new Map,ke=e=>`${e.uuid}-${e.name}`;const Ae=j((async function(){const e=await ce(),t=new Set;e.forEach((e=>{K(e.layout.content).forEach((e=>{if(e.name){const a=ke(e);t.add(a)}}))}));const a=U();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=ke(e);if(t.has(a)||Te.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),Te.delete(a)}),5e3);Te.set(a,n)})),Te.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),Te.delete(a))}))}),2500),Me=({name:e})=>{B(e)&&Ae().catch((()=>{}))};function Ve(){const e=x(O);e.addListener(M.WindowOptionsChanged,Ae),e.addListener(M.WindowClosed,Me),e.addListener(M.WindowCreated,Me)}let Oe={};const xe=({actionId:e,payload:t})=>{if("function"!=typeof Oe[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return Oe[e](t)};function Fe(){return localStorage.getItem(k.MachineName)}let Le,De;async function Re(){return Le||(Le=await fin.System.getMachineId()),Le}async function Ue(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=Fe();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await Re(),machineName:a}}}function Ee(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function Ge(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=Ee(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}function Be(){return De||(De=Ge("keyval-store","keyval")),De}function _e(e,t){return e("readonly",(e=>(e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ee(e.transaction))))}const Ne=m&&Ge("openfin-home-pages","pages");async function He(e){const t=await function(e,t=Be()){return t("readonly",(t=>Ee(t.get(e))))}(e,Ne);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function $e(e){const t=await function(e=Be()){const t=[];return _e(e,(e=>t.push(e.key))).then((()=>t))}(Ne),a=await Promise.all(t.map((e=>He(e.toString()))));return e?a.filter((t=>((e,t="")=>e.toLowerCase().includes(t.toLowerCase()))(t.title,e))):a}async function qe({page:e}){await function(e,t,a=Be()){return a("readwrite",(a=>(a.put(t,e),Ee(a.transaction))))}(e.pageId,e,Ne)}async function je(e){await function(e,t=Be()){return t("readwrite",(t=>(t.delete(e),Ee(t.transaction))))}(e,Ne)}async function Qe({pageId:e,page:t}){if(void 0===await He(e))throw new Error("page not found");await qe({page:t}),e!==t.pageId&&await je(e)}var Ke,ze;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Ke||(Ke={}));var Je=new Uint8Array(16);function Xe(){if(!ze&&!(ze="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ze(Je)}const Ye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Ze=function(e){return"string"==typeof e&&Ye.test(e)};for(var et=[],tt=0;tt<256;++tt)et.push((tt+256).toString(16).substr(1));const at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(et[e[t+0]]+et[e[t+1]]+et[e[t+2]]+et[e[t+3]]+"-"+et[e[t+4]]+et[e[t+5]]+"-"+et[e[t+6]]+et[e[t+7]]+"-"+et[e[t+8]]+et[e[t+9]]+"-"+et[e[t+10]]+et[e[t+11]]+et[e[t+12]]+et[e[t+13]]+et[e[t+14]]+et[e[t+15]]).toLowerCase();if(!Ze(a))throw TypeError("Stringified UUID is invalid");return a};const nt=function(e,t,a){var n=(e=e||{}).random||(e.rng||Xe)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var o=0;o<16;++o)t[a+o]=n[o];return t}return at(n)};var ot;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(ot||(ot={}));X("__of_workspace_protocol__");const it=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await Re(),machineName:Fe()}}))(t);return{pageId:nt(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},rt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await se(e)).dispatch(re.GetPagesForWindow,e),getPage:async t=>(await se(e)).dispatch(re.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await se(e);t?.title||(t.title=await a.dispatch(re.GetUniquePageTitle,void 0));const n=(await a.dispatch(re.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(re.AttachPagesToWindow,o)},removePage:async t=>(await se(e)).dispatch(re.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await se(e)).dispatch(re.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await se(e);return t.identity=e,a.dispatch(re.OpenPageTabContextMenuInternal,t)}}),st=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>rt(e),createWindow:async e=>{const a=await t.createWindow(e);return rt(a.identity)},getAllAttachedPages:async()=>(await t.getClient()).dispatch(re.GetAllAttachedPages,void 0),getAllWindows:async()=>(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>rt(e.identity))),getUniquePageTitle:async t=>(await se(e)).dispatch(re.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await se(e)).dispatch(re.GetLastFocusedBrowserWindow,void 0)}},ct=e=>({createPage:async t=>(await se(e)).dispatch(re.CreateSavedPageInternal,t),deletePage:async t=>(await se(e)).dispatch(re.DeleteSavedPageInternal,t),updatePage:async t=>(await se(e)).dispatch(re.UpdateSavedPageInternal,t),getPage:async t=>(await se(e)).dispatch(re.GetSavedPage,t),getPages:async t=>(await se(e)).dispatch(re.GetSavedPages,t),savePage:async t=>(await se(e)).dispatch(re.SavePage,t)}),dt=e=>({getThemes:async()=>(await se(e)).dispatch(re.GetThemes,void 0)}),pt=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async t=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:v,name:S,entityType:b||"unknown"});return(await se(e)).dispatch(re.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await se(e),o={actionId:t,payload:{...a,callerType:a.callerType||g.API}};return n.dispatch(re.InvokeCustomActionInternal,o)},Theme:dt(e),Browser:st(e),Storage:ct(e)})},wt=()=>pt(fin.me.identity),lt=async(e=R)=>{const{workspacePlatform:t}=await D(e).getOptions();return{newPageUrl:t?.newPageUrl,newTabUrl:t?.newTabUrl}},ut=async(e=R)=>{const t=await wt().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=R)=>{const{newPageUrl:t}=await lt(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return z("New Tab",t,e)})(e);return it(t,a)},gt=[{type:Ke.Label,label:"Close Window",data:{type:p.CloseWindow}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Open Storefront",data:{type:p.OpenStorefront}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Quit Workspace",data:{type:p.Quit}}],ht=[{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Close Window",data:{type:p.CloseWindow}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Quit",data:{type:p.Quit}}],yt=async e=>{const t=await H(),{newPageUrl:a}=await lt(e),n=await(async e=>{const t=D(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=[];return a&&(o.push({type:Ke.Label,label:"New Window",data:{type:p.NewWindow}}),n||o.push({type:Ke.Label,label:"New Page",data:{type:p.NewPage}})),t?[...o,...gt]:[...o,...ht]},ft=async(e,t)=>{if(!e)return;const a=t.identity,n=await ee(a);switch(e.type){case p.NewWindow:const{newPageUrl:t}=await lt(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");wt().createView({target:void 0,url:t});break;case p.NewPage:await(async e=>{const t=await ut(e);await wt().Browser.wrapSync(e).addPage(t)})(a);break;case p.CloseWindow:n.dispatch(te.CloseBrowserWindow);break;case p.Quit:n.dispatch(te.QuitPlatform);break;case p.OpenStorefront:(async()=>{await H()&&G(E)})();break;case p.Custom:if(e.action){const t={callerType:g.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};wt()._invokeCustomAction(e.action.id,t)}}},mt=async(e,t)=>{const a=await ee(t.identity);switch(e.type){case w.Save:case w.Rename:a.dispatch(te.SavePage,t.pageId);break;case w.Duplicate:a.dispatch(te.DuplicatePage,t.pageId);break;case w.Close:a.dispatch(te.ClosePage,t.pageId);break;case w.Custom:if(e.action){const a={callerType:g.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};wt()._invokeCustomAction(e.action.id,a)}}},Pt=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await lt(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...z("New View",t),url:t,target:e}})(e);await wt().createView(o,e,n.identity)},vt=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await lt(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},St=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await wt().createView(n,e,t.identity)})(e,a)}))},bt=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case l.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await wt().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await ee(e)).dispatch(te.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case l.OpenWithDefaultBrowser:await vt(a,t.selectedViews);break;case l.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case l.NewView:await Pt(a,t);break;case l.DuplicateViews:St(a,t.selectedViews);break;case l.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await ee(e)).dispatch(te.AddToChannel,n)})(a,e.option,t.selectedViews);break;case l.RemoveFromChannel:(async(e,t)=>{(await ee(e)).dispatch(te.RemoveFromChannel,t)})(a,t.selectedViews);break;case l.Custom:if(e.action){const n={callerType:g.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};wt()._invokeCustomAction(e.action.id,n)}}};async function Ct(e,t){const a=await yt(e.identity),n={...e,template:a,callback:ft};await this.openGlobalContextMenu(n,t)}const Wt=async(e,t)=>{const{x:a,y:n,identity:o,template:i,callback:r}=e,{data:s}=await function(e,t){if(!y)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:i},fin.Window.wrapSync(o));r(s,e)};async function It(e,t){const a={...e,callback:bt};await this.openViewTabContextMenu(a,t)}async function Tt(e,t){const a=await wt().Storage.getPage(e.pageId),n=await(o=!!a,[{type:Ke.Label,label:"Save Page",data:{type:w.Save}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Rename Page",data:{type:w.Rename},enabled:o},{type:Ke.Label,label:"Duplicate Page",data:{type:w.Duplicate}},{type:Ke.Separator,data:void 0},{type:Ke.Label,label:"Close Page",data:{type:w.Close}}]);var o;const i={...e,template:n,callback:mt};await this.openPageTabContextMenu(i,t)}async function kt({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case i.Snapshot:return a.applySnapshot(e.manifest);case i.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case i.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const At=e=>e&&"object"==typeof e&&!Array.isArray(e);function Mt(e,...t){if(!t.length)return e;const a=t.shift();return At(e)&&At(a)&&Object.entries(a).forEach((([t,a])=>{if(At(a))return e[t]||(e[t]={}),Mt(e[t],a);e[t]=a})),Mt(e,...t)}var Vt,Ot;!function(e){e.HomeIndex="/home/",e.HomeSearch="/home/search/",e.HomePagesRename="/home/pages/rename/",e.Dock="/home/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSavePage="/browser/popup-menu/save-page/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(Vt||(Vt={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(Ot||(Ot={}));const xt=W+{...Ot,...Vt}.Browser;function Ft(e,t){const a=Mt({},t,e);return a.detachOnClose=!0,a}async function Lt(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const Dt=e=>{const t=e.name===F.Home,a=e.name?.startsWith(F.HomeInternal),n=e.name?.startsWith(F.BrowserMenu);return!t&&!a&&!n},Rt=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),Ut={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:xt,contextMenu:!0,cornerRounding:{height:8,width:8},closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${W}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},Et={dimensions:{borderWidth:3,headerHeight:30}},Gt=(e,t)=>t?e.map((e=>({...t,...e}))):e,Bt=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function _t(e){const t=await _();return await Promise.all(t.map((({identity:e})=>(async e=>(await ee(e)).dispatch(ae.UpdatePagesWindowOptions))(e)))),e?e():Ue()}let Nt=[];const Ht=()=>Nt;const $t=e=>async t=>{class a extends t{constructor(){super(),this.isWorkspacePlatform=()=>!0,this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=me,this.getAllAttachedPages=ce,this.getPagesForWindow=ve,this.getPageForWindow=Se,this.setActivePage=Pe,this.launchApp=kt,this.savePage=he,this.createSavedPageInternal=le,this.updateSavedPageInternal=ge,this.deleteSavedPageInternal=ue,this.reorderPagesForWindow=be,this.getUniquePageTitle=Ie,this.updatePageForWindow=fe,this.getLastFocusedBrowserWindow=$,this.getThemes=Ht,this.invokeCustomActionInternal=xe,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this)}async getSnapshot(){const e=await _t((async()=>Ue(await super.getSnapshot(void 0,fin.me.identity))));return{...e,windows:e.windows.filter(Dt)}}async applySnapshot({snapshot:e,options:t}){t?.closeExistingWindows&&await async function(){const e=await _();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}();let a=e;return"string"==typeof a&&(a=await super.fetchManifest({manifestUrl:a},fin.me.identity)),async function(e,t){const a=await ce(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),o=(e.windows||[]).filter((({layout:e})=>!!e)),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const r=[],s=o.map((async e=>{const t=Rt(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await Ie();a.push(await it(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([Pe({identity:o.parentIdentity,pageId:o.pageId}),Bt(o.parentIdentity)]),a.length&&r.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(s),!r.length)return;const c=fin.Platform.getCurrentSync();return(t||c.applySnapshot.bind(c))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:r})}(a,(e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}})))}async createWindow(t,a){let n=Rt(t);const o=await this.getThemes();n=((e,t,a)=>{let n=e;const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=Mt({},t.defaultWindowOptions,n,Ut),n.layout=Mt(n.layout,Et),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=(e=>{const t=e;return t.workspacePlatform||(t.workspacePlatform={}),t.workspacePlatform._internalDeferShowEnabled=!0,t.workspacePlatform._internalAutoShow=t.workspacePlatform?._internalAutoShow||void 0===t.autoShow||t.autoShow,t.autoShow=!1,t})(n)}return n.workspacePlatform?.pages&&(n.workspacePlatform.pages=Gt(n.workspacePlatform.pages,t?.defaultPageOptions)),n})(n,e,o[0]),n=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(n);return(e=>async(t,a)=>{const n=await e(t,a);return t?.workspacePlatform?._internalDeferShowEnabled?(await n.addListener(L.ShowRequested,(()=>{})),n):n})(((e,t)=>super.createWindow(e,t)))(n,a)}async createView(t,a){return t.opts=Ft(t.opts,e?.defaultViewOptions),t.opts=await Lt(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await Ft(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await Lt(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return He.apply(this,e)}async getSavedPages(...e){return $e.apply(this,e)}async createSavedPage(...e){return qe.apply(this,e)}async deleteSavedPage(...e){return je.apply(this,e)}async updateSavedPage(...e){return Qe.apply(this,e)}async attachPagesToWindow(t){t.pages=Gt(t.pages,e?.defaultPageOptions),await ye(t)}async openGlobalContextMenuInternal(...e){return Ct.apply(this,e)}async openGlobalContextMenu(...e){return Wt.apply(this,e)}async openViewTabContextMenuInternal(...e){return It.apply(this,e)}async openViewTabContextMenu(...e){return Wt.apply(this,e)}async openPageTabContextMenuInternal(...e){return Tt.apply(this,e)}async openPageTabContextMenu(...e){return Wt.apply(this,e)}}return"function"==typeof e?.overrideCallback?e.overrideCallback(a):new a};async function qt(){Ve(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",q)}()}let jt;const Qt=async e=>{const t=I.split(".").map((e=>parseInt(e))),a=await(async e=>new Promise((async t=>{const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(t),n=e?.theme;var o;if(n&&((o=n).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),Nt=o),e?.customActions&&(Oe=e?.customActions),a){return function(e){if(!y)throw new Error("Cannot be used outside an OpenFin env.");jt||(fin.Platform.getCurrentSync().once("platform-api-ready",(()=>qt())),jt=fin.Platform.init({overrideCallback:$t(e),interopOverride:e?.interopOverride}));return jt}(e?.browser)}throw new Error(`Runtime version is not supported.  ${t[0]}.${t[1]}.${t[2]}.* is required`)};module.exports=c})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>Ze.Pt,CLIFilterOptionType:()=>Ze.el,CLITemplate:()=>Ze.yW,deregister:()=>Qe,hide:()=>et,register:()=>ze,show:()=>Ye});var r={};n.r(r),n.d(r,{subscribe:()=>re});var o={};n.r(o),n.d(o,{create:()=>qe});var i=n(7405);const s="home";var a;!function(e){e.Commands="home-commands"}(a||(a={}));var c,d=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(c||(c={}));const u="all",f="0",l="5",p="6",g=()=>{};function w(e,t){return e?`${e}-${t}`:t}function h(e){return`__search-${e}-topic__`}const y=new Map;function v(e,t){y.has(e)||y.set(e,new Set),y.get(e).add(t)}function m(e,t){const n=y.get(e);n&&n.delete(t)}const S=new Map;function C(e,t){S.has(e)||S.set(e,new Set),S.get(e).add(t)}function P(e,t){const n=S.get(e);n&&n.delete(t)}const R=new Map;async function b(e,t){R.has(e)||R.set(e,new Map),R.get(e).set(t.id,t);const n=y.get(e);if(!n)return;const r=[...n].map((e=>e()));await Promise.all(r)}async function L(e,t){const n=R.get(e);if(!n)return;n.delete(t);const r=S.get(e);if(!r)return;const o=[...r].map((e=>e()));await Promise.all(o)}function T(e){return R.get(e)?[...R.get(e).values()]:[]}function I(e){const t=R.get(e);t&&t.clear()}function M(e,t){const n=R.get(e);return n?n.get(t):null}function k(e,t,n){return{...e,action:n||e.actions[0],dispatcherIdentity:t}}function B(e,t,n="ascending"){const r=e||[];if(!t?.length)return r;const o=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);o.push(e)}));let s=r.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...o),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function O(e){const t={};let n=[];let r=[];let o=c.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>r,t.setRevokedBuffer=e=>{r=e,r?.length&&t.onChange()},t.onChange=g;const i={};return t.res=i,i.close=()=>{o!==c.Close&&(o=c.Close,t.onChange())},i.open=()=>{o!==c.Open&&(o=c.Open,t.onChange())},i.respond=n=>{const r=B(t.getResultBuffer(),n,e);t.setResultBuffer(r)},i.revoke=(...e)=>{const n=new Set(e),r=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(r),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function W(e,t,n){const r=new Set;let o=!1;return{close:()=>{o=!0;for(const e of r)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{r.add(e),o&&e()},removeListener:e=>{r.delete(e)}}}}function D(){return{name:fin.me.name,uuid:fin.me.uuid}}function x(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const A="deregistered or does not exist",E=new Error(`provider ${A}`),F=new Error("provider with name already exists"),_=new Error("bad payload"),$=new Error("subscription rejected"),q=new Error(`channel ${A}`),G=new Map;function N(e){const t=H(e);if(t)return t;throw q}function H(e){const t=G.get(e);if(t)return t}function U(e,t){G.set(e,t)}const V=new Map;function K(e){V.has(e)||V.set(e,new Map);const t=V.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function X(e,t){return(await N(e)).dispatch(f,t)}function j({namespacedTopic:e,topic:t}){const n=M.bind(null,e),r=K(e),o=X.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=_;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=E;return{error:e.message}}const d=r.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=W(t,s,e),d.set(e.id,u));const f=O(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();o({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function J(e,t,n){const r=n||await N(e),o=D(),i={identity:o,...t,onUserInput:void 0,onResultDispatch:void 0};await r.dispatch("2",i),await b(e,{identity:o,...t})}async function Z(e,t){const n=await N(e);return await n.dispatch("3",t),L(e,t)}async function z(e,t,n,r){const o=k(n,D(),r),i=M(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(o)}const s={providerId:t,result:o};return(await N(e)).dispatch(l,s)}async function Q(e,t){const n={...t,context:t?.context||{}},r={},o=async function*(e,t,{setState:n}){const r=await N(e);for(;;){const e=await r.dispatch("1",t),o=e.error;if(o)throw new Error(o);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{r.state=e}});let i=await o.next();return r.id=n.id,r.close=()=>{!async function(e,t){(await N(e)).dispatch(p,{id:t})}(e,r.id)},r.next=()=>{if(i){const e=i;return i=void 0,e}return o.next()},r}async function Y(e){return(await N(e)).dispatch("4",null)}async function ee(e){const t=await N(e);var n;n=e,G.delete(n),I(e),await t.disconnect()}function te(e){const{namespacedTopic:t}=e,n=K(t);return async r=>{if(!H(t))return;const o=n.getRequestsForIdentity(r);for(const{req:e,close:t}of o.values())t(),o.delete(e.id);U(t,(async e=>{const{namespacedTopic:t}=e,n=await ne(e);for(const e of T(t))await J(t,e,n);return n})(e))}}async function ne(e){const{namespacedTopic:t}=e,n=h(t),r=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return r.register(f,j(e)),r.register(p,function(e){const t=K(e);return(e,n)=>{const r=t.getRequestsForIdentity(n),o=r.get(e.id);o&&(o.close(),r.delete(e.id))}}(t)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)return;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r.onDisconnection(te(e)),r}async function re(e){const t=("string"==typeof e?e:e?.topic)||u,n=("string"==typeof e?null:e?.uuid)||x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=H(r);return i||(i=ne(o),U(r,i),await i),{getAllProviders:Y.bind(null,r),register:J.bind(null,r),search:Q.bind(null,r),deregister:Z.bind(null,r),dispatch:z.bind(null,r),disconnect:ee.bind(null,r)}}const oe=new Map;function ie(e){const t=se(e);if(t)return t;throw q}function se(e){const t=oe.get(e);if(t)return t}const ae=new Map;function ce(e,t){ae.has(e)||ae.set(e,new Set),ae.get(e).add(t)}function de(e,t){const n=ae.get(e);n&&n.delete(t)}var ue=n(5316);function fe(e){return[...T(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function le(e,t){if(M(e,t.id))throw new Error("provider with name already exists");const n=D();await b(e,{identity:n,...t})}function pe(e,t){L(e,t)}async function ge(e,t,n,r){const o=M(e,t);if(!o)throw E;const{onResultDispatch:i}=o;if(!i)return;return i(k(n,D(),r))}async function*we(e,t,n){const r=function(e,t){const n=[],r=[],o=[],i=[];for(const s of e){const e=O(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon}};n.push(a),r.push(e);const c=(async()=>{try{const{results:n,context:r}=await s.onUserInput(t,e.res);a.results=B(a.results,n),a.context={...a.context,...r}}catch(e){a.error=e}c.done=!0})();i.push(c),o.push(o.length)}return{providerResponses:n,listenerResponses:r,openListenerResponses:o,initialResponsePromises:i}}(t.targets?t.targets.map((t=>M(e,t))).filter((e=>!!e)):[...T(e).filter((e=>!e.hidden))],t),{providerResponses:o,listenerResponses:i}=r;let{openListenerResponses:s,initialResponsePromises:a}=r,d=ue.D.Fetching;const u=e=>{d=e,n.setState(d)};let f,l=!1;t.onClose((()=>{l=!0,f&&f()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(ue.D.Fetched),e=!0)}let t,n=!1;const r=()=>{n=!0,t&&t()},p=[];for(const t of s){const n=i[t],s=o[t],a=n.getStatus();(a===c.Open||d===ue.D.Fetching&&a===c.Initial)&&(p.push(t),n.onChange=r);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=B(s.results,u),e=!0);const f=n.getRevokedBuffer();if(f.length){n.setRevokedBuffer([]);const t=new Set(f);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=p,e&&(yield o),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{f=e}))])}while(s.length||a.length);return u(ue.D.Complete),o}let he=0;function ye({namespacedTopic:e,topic:t},n){he+=1;const r=W(t,he.toString(),n),o=we(e,r.req,{setState:e=>{o.state=e}});return o.id=he.toString(),o.close=r.close,o.state=ue.D.Fetching,o}const ve=new Map;function me(e,t){return`${e}:${t}`}function Se(e){return async(t,...n)=>{if(!t)return{error:_.message};let r;if(t.id)r=me(e.namespacedTopic,t.id);else{const n=ye(e,t);r=me(e.namespacedTopic,n.id),t.id=n.id,ve.set(r,{generator:n})}const o=ve.get(r);clearTimeout(o.timeout);const i=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{ve.delete(e)}),1e4)}(r),{...i,id:t.id,state:o.generator.state}}}function Ce(e,t,n){return ie(e).dispatch(t,p,{id:n})}function Pe(e){return t=>function(e,t){const n=me(e,t),r=ve.get(n);r&&r.generator.close()}(e,t.id)}async function Re(e,t,{id:n,query:r,context:o,targets:i}){const s=ie(e),a={id:n,query:r,context:o,targets:i,providerId:t.id},c=await s.dispatch(t.identity,f,a),d=c.error;if(d)throw new Error(d);return c}const be=new Map;function Le(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Te=new Map;function Ie(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Le.bind(null,e,t.identity),r=Ce.bind(null,e,t.identity),o=Re.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!be.has(a)){const e=()=>{r(i.id),be.delete(a)};be.set(a,e),i.onClose(e)}const d=Ie(e,t.id,i.id),u=()=>{Te.delete(d),s.close()};i.onClose(u),Te.set(d,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===c.Open&&s.open(),e.status===c.Close&&u()}));const f=await o(i);return f.status===c.Open&&s.open(),f.status!==c.Close&&f.status!==c.Initial||u(),f}}function ke(e,t){return async n=>{const r=ie(e),o={providerId:t.id,result:n};return r.dispatch(t.identity,l,o)}}const Be=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function We(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(M(e,t.id))throw F;t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Be.has(n)||Be.set(n,[]),Be.get(n).push(t.id),await b(e,{...t,onUserInput:Me(e,t),onResultDispatch:ke(e,t)})}(e,t)}}function De(e){return t=>{t&&function(e,t){const n=M(e,t);if(!n)return;const r=Oe(e,n.identity),o=Be.get(r);if(o){const n=o.findIndex((e=>e===t));-1!==n&&(o.splice(n,1),L(e,t))}}(e,t)}}const xe=new Map;function Ae(e,t){xe.has(e)||xe.set(e,new Set),xe.get(e).add(t)}function Ee(e,t){const n=xe.get(e);n&&n.delete(t)}function Fe(e){return async t=>{!function(e,t){const n=Oe(e,t),r=Be.get(n);if(r){for(const t of r)L(e,t);Be.delete(n)}}(e,t);const n=xe.get(e);n&&n.forEach((e=>e(t)))}}async function _e(e){const{namespacedTopic:t}=e,n=h(e.namespacedTopic),r=await(o=n,fin.InterApplicationBus.Channel.create(o));var o;return r.onConnection(function({namespacedTopic:e}){return async t=>{const n=ae.get(e);if(n)for(const e of n)if(!await e(t))throw $}}(e)),r.onDisconnection(Fe(t)),r.register(p,Pe(t)),r.register(f,function(e){return t=>{const n=Ie(e,t.providerId,t.id),r=Te.get(n);r&&r(t)}}(t)),r.register("2",We(t)),r.register("3",De(t)),r.register("4",function(e){return async()=>fe(e)}(t)),r.register("1",Se(e)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)throw E;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r}async function $e(e){const t=ie(e);var n;n=e,oe.delete(n),await t.destroy(),I(e)}async function qe(e){const t=("string"==typeof e?e:e?.topic)||u,n=x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=se(r);i||(i=await _e(o),function(e,t){oe.set(e,t)}(r,i));const s=de.bind(null,r),a=Ee.bind(null,r),c=m.bind(null,r),d=P.bind(null,r);return{getAllProviders:fe.bind(null,r),search:ye.bind(null,o),register:le.bind(null,r),deregister:pe.bind(null,r),onSubscription:ce.bind(null,r),onDisconnect:Ae.bind(null,r),onRegister:v.bind(null,r),onDeregister:C.bind(null,r),dispatch:ge.bind(null,o),disconnect:$e.bind(null,r),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ge}=o,{subscribe:Ne}=r,He={create:Ge,subscribe:Ne,defaultTopic:"all"},Ue=()=>{const e=window;e.search=He,e.fin&&(e.fin.Search=He)},Ve=e=>{const t=()=>{Ue(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ue();const e="load",t=Ve(e);window.addEventListener(e,t);const n="DOMContentLoaded",r=Ve(n);window.addEventListener(n,r)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await Ne({topic:e,uuid:d.q9.Workspace}))}(s)}let je;async function Je(e){return await async function(){return je||(je=Xe()),je}(),Ke.get(e)}var Ze=n(3758);const ze=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,i.aB)();return(await Je(s)).register(e)},Qe=async e=>{await(0,i.aB)();return(await Je(s)).deregister(e)};async function Ye(){return(await(0,i.Xl)()).dispatch(i.Ml.ShowHome,void 0)}async function et(){return(await(0,i.Xl)()).dispatch(i.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>r.w});var r=n(5316)},3758:(e,t,n)=>{var r,o,i;n.d(t,{Pt:()=>r,yW:()=>o,el:()=>i}),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var r,o;n.d(t,{L:()=>r,T:()=>o}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(o||(o={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>r,Go:()=>o,bI:()=>i,ZJ:()=>s});const r={Container:"Container",Button:"Button"},o={Text:"Text",Image:"Image",List:"List"},i={...r,...o};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>o.L,StorefrontTemplate:()=>o.T,deregister:()=>u,hide:()=>f,register:()=>d,show:()=>l});var r=n(7405);n(7564);var o=n(6114);let i;const s=new Map,a=e=>{if(!s.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return s.get(e)},c=async e=>{const t=await(0,r.Xl)();if(s.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return s.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.Ml.GetStorefrontProviderApps,(e=>a(e).getApps())),e.register(r.Ml.GetStorefrontProviderFooter,(e=>a(e).getFooter())),e.register(r.Ml.GetStorefrontProviderLandingPage,(e=>a(e).getLandingPage())),e.register(r.Ml.GetStorefrontProviderNavigation,(e=>a(e).getNavigation())),e.register(r.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>a(e).launchApp(t))))})(t),t.dispatch(r.Ml.RegisterStorefrontProvider,e)},d=e=>(i=c(e),i),u=async e=>{await i,s.delete(e);return(await(0,r.Xl)()).dispatch(r.Ml.DeregisterStorefrontProvider,e)},f=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.HideStorefront,void 0))()},l=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var r=n(6678);const o=r.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!r.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await o;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),fin.System.openUrlWithBrowser(d(r.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>r});var r,o,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(r||(r={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,r.Workspace,r.Workspace},6678:(e,t,n)=>{var r;n.d(t,{sS:()=>o,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(r||(r={}));const o="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:r.Local,a=o&&fin.me.uuid,c=o&&fin.me.name,d=(o&&fin.me.entityType,"prod"===r.Local),u=(r.Dev,r.Staging,r.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/6.3.6/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e;l("https://cdn.openfin.co/workspace/6.3.6"),l("https://cdn.openfin.co/workspace/6.3.6"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL)},121:(e,t,n)=>{n.d(t,{iW:()=>c,JV:()=>d});var r,o,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(r||(r={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(o||(o={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}s.oC,s.AB;r.Home,i.q9.Workspace,r.Dock,i.q9.Workspace,r.Storefront,i.q9.Workspace;const c={name:i.q9.Workspace,uuid:i.q9.Workspace};const d=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var r,o;n.d(t,{D:()=>r,w:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>o,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,o=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.LastLaunchedWorkspaceId="activeWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=r})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/apps.ts":
/*!****************************!*\
  !*** ./client/src/apps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getApps": () => (/* binding */ getApps),
/* harmony export */   "experoApp": () => (/* binding */ experoApp),
/* harmony export */   "notificationStudio": () => (/* binding */ notificationStudio),
/* harmony export */   "processManager": () => (/* binding */ processManager),
/* harmony export */   "developerContent": () => (/* binding */ developerContent)
/* harmony export */ });
async function getApps() {
    return [experoApp, notificationStudio, processManager, developerContent];
}
const experoApp = {
    appId: "expero-company-news",
    title: "Gateway - Company News",
    manifest: "https://openfin-iex.experolabs.com/openfin/manifests/company-news.json",
    manifestType: "view",
    icons: [
        {
            src: "https://openfin-iex.experolabs.com/favicon.ico"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "Expero",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/expero-news-view.png"
        }],
    tags: ["expero", "view", "interop"]
};
const notificationStudio = {
    appId: "notifications-generator",
    title: "OpenFin Notifications Studio",
    manifestType: "manifest",
    description: "Notifications Studio: This is OpenFin's tool for demonstrating the power of our Notification Center. Use it to create local notifications or use some of the examples shown in our Catalog. Experiment with our features and see the power that OpenFin Notification Center can bring to your applications.",
    manifest: "https://cdn.openfin.co/studio/notification/app.json",
    icons: [
        { src: "https://cdn.openfin.co/demos/notifications/generator/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-notification-studio.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const processManager = {
    appId: "openfin-process-manager",
    title: "OpenFin Process Manager",
    manifestType: "manifest",
    description: "Process Manager: This is OpenFin's tool for helping developers build OpenFin Applications. It lets you see the OpenFin applications that are running, the performance of the applications (memory and cpu) and easy access to the dev tools for the Windows of your application.",
    manifest: "https://cdn.openfin.co/process-manager/app.json",
    icons: [
        { src: "https://cdn.openfin.co/process-manager/img/proc-mgr-icon.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-process-manager.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const developerContent = {
    appId: "openfin-developer-page",
    title: "OpenFin Developer Docs",
    manifestType: "snapshot",
    description: "Shows a collection of OpenFin developer pages and provides an example of how you can present a pre-built page as a launch target in OpenFin Home. This entry has a manifest type of 'snapshot'.",
    manifest: "http://localhost:8080/snapshot.json",
    icons: [
        { src: "http://localhost:8080/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/images/previews/openfin-page-docs.png"
        }],
    tags: ["page"]
};


/***/ }),

/***/ "./client/src/home.ts":
/*!****************************!*\
  !*** ./client/src/home.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "show": () => (/* binding */ show),
/* harmony export */   "hide": () => (/* binding */ hide)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");



const providerId = "register-with-home-basic";
async function getResults(query) {
    let apps = await (0,_apps__WEBPACK_IMPORTED_MODULE_2__.getApps)();
    if (Array.isArray(apps)) {
        let initialResults = [];
        for (let i = 0; i < apps.length; i++) {
            let entry = {
                key: apps[i].appId,
                title: apps[i].title,
                data: apps[i],
                actions: [],
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Plain
            };
            let action = { name: "Launch View", hotkey: "enter" };
            if (apps[i].manifestType === "view") {
                entry.label = "View";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "snapshot") {
                entry.label = "Snapshot";
                action.name = "Launch Snapshot";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "manifest") {
                entry.label = "App";
                action.name = "Launch App";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "external") {
                action.name = "Launch Native App";
                entry.actions = [action];
                entry.label = "Native App";
            }
            if (Array.isArray(apps[i].icons) && apps[i].icons.length > 0) {
                entry.icon = apps[i].icons[0].src;
            }
            if (apps[i].description !== undefined) {
                entry.description = apps[i].description;
                entry.shortDescription = apps[i].description;
                entry.template = _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.SimpleText;
                entry.templateContent = apps[i].description;
            }
            initialResults.push(entry);
        }
        let finalResults;
        if (query === undefined || query === null || query.length === 0) {
            finalResults = initialResults;
        }
        else {
            finalResults = initialResults.filter(entry => {
                let targetValue = entry.title;
                if (targetValue !== undefined && targetValue !== null && typeof targetValue === "string") {
                    return targetValue.toLowerCase().indexOf(query) > -1;
                }
                return false;
            });
        }
        let response = {
            results: finalResults
        };
        return response;
    }
    else {
        return {
            results: []
        };
    }
}
async function register() {
    console.log("Initialising home.");
    const queryMinLength = 3;
    const onUserInput = async (request, response) => {
        let query = request.query.toLowerCase();
        if (query.indexOf("/") === 0) {
            return { results: [] };
        }
        if (query.length < queryMinLength) {
            return getResults();
        }
        return getResults(query);
    };
    const onSelection = async (result) => {
        if (result.data !== undefined) {
            let platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            await platform.launchApp({ app: result.data });
        }
        else {
            console.warn("Unable to execute result without data being passed");
        }
    };
    const cliProvider = {
        title: "Basic Workspace Platform",
        id: providerId,
        icon: "http://localhost:8080/favicon.ico",
        onUserInput: onUserInput,
        onResultDispatch: onSelection,
    };
    console.log("Home configured.");
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.register(cliProvider);
}
async function deregister() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.deregister(providerId);
}
async function show() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.show();
}
async function hide() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.hide();
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "./node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home */ "./client/src/home.ts");


async function init() {
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser: {}
    });
    let registerHome = document.getElementById("register");
    let deregisterHome = document.getElementById("deregister");
    let showHome = document.getElementById("show");
    let hideHome = document.getElementById("hide");
    registerHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.register)();
        showHome.style.display = "unset";
        hideHome.style.display = "unset";
        deregisterHome.style.display = "unset";
        registerHome.style.display = "none";
    };
    deregisterHome.onclick = async () => {
        showHome.style.display = "none";
        hideHome.style.display = "none";
        deregisterHome.style.display = "none";
        registerHome.style.display = "unset";
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.deregister)();
    };
    showHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.show)();
    };
    hideHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.hide)();
    };
}
window.addEventListener('DOMContentLoaded', async () => {
    await init();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQztRQUNqQixRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDakMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ2pDLGNBQWMsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU87UUFDdEMsWUFBWSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQ3RDLENBQUMsQ0FBQztJQUVGLGNBQWMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxJQUFHLEVBQUU7UUFDakMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ2hDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUNoQyxjQUFjLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNO1FBQ3JDLFlBQVksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUNyQyxNQUFNLGlEQUFVLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQsUUFBUSxDQUFDLE9BQU8sR0FBRyxLQUFLLElBQUcsRUFBRTtRQUMzQixNQUFNLDJDQUFJLEVBQUUsQ0FBQztJQUNmLENBQUMsQ0FBQztJQUVGLFFBQVEsQ0FBQyxPQUFPLEdBQUcsS0FBSyxJQUFHLEVBQUU7UUFDM0IsTUFBTSwyQ0FBSSxFQUFFLENBQUM7SUFDZixDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLEtBQUssSUFBSSxFQUFFO0lBQ3JELE1BQU0sSUFBSSxFQUFFLENBQUM7QUFDZixDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvLi9jbGllbnQvc3JjL2FwcHMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy8uL2NsaWVudC9zcmMvaG9tZS50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljLy4vY2xpZW50L3NyYy9wcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZSx0LGEsbixvLGkscixzPXtkOihlLHQpPT57Zm9yKHZhciBhIGluIHQpcy5vKHQsYSkmJiFzLm8oZSxhKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYSx7ZW51bWVyYWJsZTohMCxnZXQ6dFthXX0pfSxvOihlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxyOmU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfX0sYz17fTtzLnIoYykscy5kKGMse0FwcE1hbmlmZXN0VHlwZTooKT0+aSxCcm93c2VyQnV0dG9uVHlwZTooKT0+dSxDdXN0b21BY3Rpb25DYWxsZXJUeXBlOigpPT5nLEdsb2JhbENvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+cCxQYWdlVGFiQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT53LFZpZXdUYWJNZW51T3B0aW9uVHlwZTooKT0+bCxnZXRDdXJyZW50U3luYzooKT0+d3QsaW5pdDooKT0+UXQsd3JhcFN5bmM6KCk9PnB0fSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShlfHwoZT17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifSh0fHwodD17fSkpLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0oYXx8KGE9e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KHJ8fChyPXt9KSk7dmFyIGQscCx3LGwsdSxnLGg7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShkfHwoZD17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3V2luZG93PVwiTmV3V2luZG93XCIsZS5OZXdQYWdlPVwiTmV3UGFnZVwiLGUuQ2xvc2VXaW5kb3c9XCJDbG9zZVdpbmRvd1wiLGUuT3BlblN0b3JlZnJvbnQ9XCJPcGVuU3RvcmVmcm9udFwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifShwfHwocD17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5DdXN0b209XCJDdXN0b21cIn0od3x8KHc9e30pKSxmdW5jdGlvbihlKXtlLk5ld1ZpZXc9XCJOZXdWaWV3XCIsZS5EdXBsaWNhdGVWaWV3cz1cIkR1cGxpY2F0ZVZpZXdcIixlLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI9XCJPcGVuV2l0aERlZmF1bHRCcm93c2VyXCIsZS5SZWxvYWRWaWV3cz1cIlJlbG9hZFRhYlwiLGUuQ2xvc2VWaWV3cz1cIkNsb3NlVGFiXCIsZS5BZGRUb0NoYW5uZWw9XCJBZGRUb0NoYW5uZWxcIixlLlJlbW92ZUZyb21DaGFubmVsPVwiUmVtb3ZlRnJvbUNoYW5uZWxcIixlLkN1c3RvbT1cIkN1c3RvbVwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd0hpZGVUYWJzPVwiU2hvd0hpZGVUYWJzXCIsZS5Db2xvckxpbmtpbmc9XCJDb2xvckxpbmtpbmdcIixlLlByZXNldExheW91dHM9XCJQcmVzZXRMYXlvdXRzXCIsZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5NaW5pbWlzZT1cIk1pbmltaXNlXCIsZS5NYXhpbWlzZT1cIk1heGltaXNlXCIsZS5DbG9zZT1cIkNsb3NlXCIsZS5DdXN0b209XCJDdXN0b21cIn0odXx8KHU9e30pKSxmdW5jdGlvbihlKXtlLkN1c3RvbUJ1dHRvbj1cIkN1c3RvbUJ1dHRvblwiLGUuR2xvYmFsQ29udGV4dE1lbnU9XCJHbG9iYWxDb250ZXh0TWVudVwiLGUuVmlld1RhYkNvbnRleHRNZW51PVwiVmlld1RhYkNvbnRleHRNZW51XCIsZS5QYWdlVGFiQ29udGV4dE1lbnU9XCJQYWdlVGFiQ29udGV4dE1lbnVcIixlLkFQST1cIkFQSVwifShnfHwoZz17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0oaHx8KGg9e30pKTtjb25zdCB5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sZj0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxtPWYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbmRleGVkREIsUD1mP3dpbmRvdy5vcmlnaW46aC5Mb2NhbCx2PXkmJmZpbi5tZS51dWlkLFM9eSYmZmluLm1lLm5hbWUsYj15JiZmaW4ubWUuZW50aXR5VHlwZSxDPShoLkxvY2FsLGguRGV2LGguU3RhZ2luZyxoLlByb2QsZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTpQK2UpLFc9KEMoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNlwiKSxDKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNi4zLjZcIikpLEk9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJkMoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmQyhXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKSxcIjIzLjk2LjY4LjNcIik7dmFyIFQ7IWZ1bmN0aW9uKGUpe2UuTGFzdExhdW5jaGVkV29ya3NwYWNlSWQ9XCJhY3RpdmVXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwifShUfHwoVD17fSkpO2NvbnN0IGs9VDt2YXIgQSxNLFY7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KEF8fChBPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShNfHwoTT17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oVnx8KFY9e30pKTtjb25zdCBPPXt1dWlkOnYsbmFtZTp2fSx4PShBLldvcmtzcGFjZSxBLldvcmtzcGFjZSxlPT57aWYoIXkpdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgaW4gYSBub24gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSl9KTt2YXIgRixMOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCJ9KEZ8fChGPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0oTHx8KEw9e30pKTtmdW5jdGlvbiBEKGUpe2lmKCF5KXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IFI9e25hbWU6Uyx1dWlkOnZ9O2Z1bmN0aW9uIFUoKXtyZXR1cm4gRChSKX1GLkhvbWUsQS5Xb3Jrc3BhY2UsRi5Eb2NrLEEuV29ya3NwYWNlO2NvbnN0IEU9e25hbWU6Ri5TdG9yZWZyb250LHV1aWQ6QS5Xb3Jrc3BhY2V9O0EuV29ya3NwYWNlLEEuV29ya3NwYWNlO2FzeW5jIGZ1bmN0aW9uIEcoZSl7Y29uc3QgdD1EKGUpO1wibWluaW1pemVkXCI9PT1hd2FpdCB0LmdldFN0YXRlKCkmJmF3YWl0IHQucmVzdG9yZSgpLGF3YWl0IHQuc2hvdygpLGF3YWl0IHQuYnJpbmdUb0Zyb250KCksYXdhaXQgdC5mb2N1cygpfWNvbnN0IEI9ZT0+ZS5zdGFydHNXaXRoKEYuQnJvd3NlcldpbmRvdyk7YXN5bmMgZnVuY3Rpb24gXygpe3JldHVybihhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5CKGUuaWRlbnRpdHkubmFtZSkpKX1jb25zdCBOPWU9PkQoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKSxIPSgpPT5OKEUpO2FzeW5jIGZ1bmN0aW9uICQoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCBlPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGsuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93KSx0PUpTT04ucGFyc2UoZSk7aWYoYXdhaXQgTih0KSlyZXR1cm4gdH1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93OiAke2V9YCl9fWZ1bmN0aW9uIHEoZT1maW4ubWUuaWRlbnRpdHkpe0IoZS5uYW1lKSYmZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx0KX1jYXRjaChlKXt9fShlKX1jb25zdCBqPShlLHQ9MCk9PntsZXQgYSxuLG89ITE7Y29uc3QgaT1hc3luYyBuPT57Y29uc3Qgcj1hd2FpdCBlKC4uLm4pO2lmKG8pe2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsdCkpKTtjb25zdCBlPWE7cmV0dXJuIGE9dm9pZCAwLG89ITEsaShlKX1yZXR1cm4gcn07cmV0dXJuKC4uLmUpPT4obj8obz0hMCxhPWUpOm49aShlKS50aGVuKChlPT4obj12b2lkIDAsZSkpKSxuKX07dmFyIFE7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifShRfHwoUT17fSkpO2NvbnN0IEs9ZT0+e2NvbnN0IHQ9W107cmV0dXJuKGUmJkFycmF5LmlzQXJyYXkoZSk/ZTpbXSkuZm9yRWFjaCgoZT0+e2lmKFwiY29tcG9uZW50XCI9PT1lLnR5cGUpcmV0dXJuIHQucHVzaChlLmNvbXBvbmVudFN0YXRlKTtjb25zdCBhPUsoZS5jb250ZW50KTt0LnB1c2goLi4uYSl9KSksdH0sej1hc3luYyhlLHQsYT1SKT0+e2xldCBuO2lmKEIoYS5uYW1lKSl7bj0oYXdhaXQgRChhKS5nZXRPcHRpb25zKCkpLmxheW91dHx8e3NldHRpbmdzOnt9fX1yZXR1cm57Li4ubixjb250ZW50Olt7dHlwZTpcInN0YWNrXCIsY29udGVudDpbe3R5cGU6XCJjb21wb25lbnRcIixjb21wb25lbnROYW1lOlwidmlld1wiLGNvbXBvbmVudFN0YXRlOnt0aXRsZTplLHVybDp0fX1dfV19fTtuZXcgTWFwO2NvbnN0IEo9ZiYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7ZnVuY3Rpb24gWChlKXtsZXQgdDtyZXR1cm4oKT0+e2lmKCF5KXRocm93IG5ldyBFcnJvcihcImdldENoYW5uZWxDbGllbnQgY2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi4gQXZvaWQgdXNpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiB0fHwodD0oYXN5bmMoKT0+e2F3YWl0IEo7Y29uc3QgYT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSk7cmV0dXJuIGEub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57dD12b2lkIDB9KSksYX0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19Y29uc3QgWT1lPT5gX19icm93c2VyX3dpbmRvd19fLSR7ZS51dWlkfS0ke2UubmFtZX1gLFo9bmV3IE1hcCxlZT1lPT57Y29uc3QgdD1ZKGUpO3JldHVybiBaLmhhcyh0KXx8Wi5zZXQodCxYKHQpKSxaLmdldCh0KSgpfTt2YXIgdGUsYWUsbmU7IWZ1bmN0aW9uKGUpe2UuQ2xvc2VCcm93c2VyV2luZG93PVwiY2xvc2UtYnJvd3Nlci13aW5kb3dcIixlLlF1aXRQbGF0Zm9ybT1cInF1aXQtcGxhdGZvcm1cIixlLkNsb3NlUGFnZT1cImNsb3NlLXBhZ2VcIixlLkFkZFRvQ2hhbm5lbD1cImFkZC10by1jaGFubmVsXCIsZS5SZW1vdmVGcm9tQ2hhbm5lbD1cInJlbW92ZS1mcm9tLWNoYW5uZWxcIixlLlNhdmVQYWdlPVwic2F2ZS1wYWdlXCIsZS5EdXBsaWNhdGVQYWdlPVwiZHVwbGljYXRlLXBhZ2VcIn0odGV8fCh0ZT17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0UGFnZXM9XCJnZXQtcGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJnZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaC1wYWdlcy1mcm9tLXdpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cInNldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5SZW5hbWVQYWdlPVwicmVuYW1lLXBhZ2VcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXItcGFnZXMtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZS1wYWdlLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucz1cInVwZGF0ZS1wYWdlcy13aW5kb3ctb3B0aW9uc1wiLGUuSXNEZXRhY2hpbmdQYWdlcz1cImlzLWRldGFjaGluZy1wYWdlc1wiLGUuSXNBY3RpdmVQYWdlQ2hhbmdpbmc9XCJpcy1hY3RpdmUtcGFnZS1jaGFuZ2luZ1wifShhZXx8KGFlPXt9KSksZnVuY3Rpb24oZSl7ZS5BdHRhY2hlZFBhZ2VzVG9XaW5kb3c9XCJhdHRhY2hlZC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaGVkUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoZWQtcGFnZXMtZnJvbS13aW5kb3dcIn0obmV8fChuZT17fSkpO25ldyBNYXA7Y29uc3Qgb2U9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZWUoZSk7cmV0dXJuIGF3YWl0IHQuZGlzcGF0Y2goYWUuR2V0UGFnZXMpfSxpZT1hc3luYyBlPT4oYXdhaXQgZWUoZS5pZGVudGl0eSkpLmRpc3BhdGNoKGFlLlVwZGF0ZVBhZ2VGb3JXaW5kb3csZSk7dmFyIHJlOyFmdW5jdGlvbihlKXtlLkxhdW5jaEFwcD1cImxhdW5jaEFwcFwiLGUuU2F2ZVBhZ2U9XCJzYXZlUGFnZVwiLGUuR2V0U2F2ZWRQYWdlPVwiZ2V0U2F2ZWRQYWdlXCIsZS5DcmVhdGVTYXZlZFBhZ2U9XCJjcmVhdGVTYXZlZFBhZ2VcIixlLlVwZGF0ZVNhdmVkUGFnZT1cInVwZGF0ZVNhdmVkUGFnZVwiLGUuRGVsZXRlU2F2ZWRQYWdlPVwiZGVsZXRlU2F2ZWRQYWdlXCIsZS5HZXRTYXZlZFBhZ2VzPVwiZ2V0U2F2ZWRQYWdlc1wiLGUuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJjcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJ1cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWw9XCJkZWxldGVTYXZlZFBhZ2VJbnRlcm5hbFwiLGUuU2hhcmVQYWdlPVwic2hhcmVQYWdlXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuR2V0QWxsQXR0YWNoZWRQYWdlcz1cImdldEFsbEF0dGFjaGVkUGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvdz1cImdldEFjdGl2ZVBhZ2VJZEZvcldpbmRvd1wiLGUuR2V0UGFnZXNGb3JXaW5kb3c9XCJnZXRQYWdlc0ZvcldpbmRvd1wiLGUuR2V0UGFnZUZvcldpbmRvdz1cImdldFBhZ2VGb3JXaW5kb3dcIixlLkdldFNhdmVkUGFnZU1ldGFkYXRhPVwiZ2V0U2F2ZWRQYWdlTWV0YWRhdGFcIixlLkdldFVuaXF1ZVBhZ2VUaXRsZT1cImdldFVuaXF1ZVBhZ2VUaXRsZVwiLGUuR2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwiZ2V0TGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbD1cImludm9rZUN1c3RvbUFjdGlvbkludGVybmFsXCJ9KHJlfHwocmU9e30pKTtjb25zdCBzZT1hc3luYyBlPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSksYT1hd2FpdCB0LmdldENsaWVudCgpLG49XCJUYXJnZXQgaXMgbm90IGEgV29ya3NwYWNlIFBsYXRmb3JtLiBUYXJnZXQgbXVzdCBjYWxsIFdvcmtzcGFjZVBsYXRmb3JtLmluaXRcIjt0cnl7aWYoITA9PT1hd2FpdCBhLmRpc3BhdGNoKFwiaXNXb3Jrc3BhY2VQbGF0Zm9ybVwiKSlyZXR1cm4gYTt0aHJvdyBuZXcgRXJyb3Iobil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKG4pfX0sY2U9YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgXygpO3JldHVybihhd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoYXN5bmMoe2lkZW50aXR5OmV9KT0+b2UoZSkpKSkpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHQpKSxbXSl9LGRlPWFzeW5jKCk9Pihhd2FpdCBzZShSKSkuZGlzcGF0Y2gocmUuR2V0U2F2ZWRQYWdlcyx2b2lkIDApLHBlPWFzeW5jIGU9Pihhd2FpdCBzZShSKSkuZGlzcGF0Y2gocmUuR2V0U2F2ZWRQYWdlLGUpLHdlPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pihhd2FpdCBjZSgpKS5maW5kKCh0PT50LnBhZ2VJZD09PWUpKSkoZSk7cmV0dXJuIWF8fGEudGl0bGU9PT10LnRpdGxlJiZlPT09dC5wYWdlSWR8fGF3YWl0IGllKHtpZGVudGl0eTphLnBhcmVudElkZW50aXR5LHBhZ2VJZDplLHBhZ2U6e3BhZ2VJZDp0LnBhZ2VJZCx0aXRsZTp0LnRpdGxlfX0pLGF9LGxlPWFzeW5jKHtwYWdlOmV9KT0+e2F3YWl0IHdlKGUucGFnZUlkLGUpLGF3YWl0KGFzeW5jIGU9Pihhd2FpdCBzZShSKSkuZGlzcGF0Y2gocmUuQ3JlYXRlU2F2ZWRQYWdlLGUpKSh7cGFnZTplfSl9LHVlPWFzeW5jIGU9Pnthd2FpdCBwZShlKSYmYXdhaXQoYXN5bmMgZT0+KGF3YWl0IHNlKFIpKS5kaXNwYXRjaChyZS5EZWxldGVTYXZlZFBhZ2UsZSkpKGUpfSxnZT1hc3luYyh7cGFnZUlkOmUscGFnZTp0fSk9Pnthd2FpdCB3ZShlLHQpO3JldHVybiBhd2FpdChhc3luYyBlPT4oYXdhaXQgc2UoUikpLmRpc3BhdGNoKHJlLlVwZGF0ZVNhdmVkUGFnZSxlKSkoe3BhZ2VJZDplLHBhZ2U6dH0pfSxoZT1hc3luYyBlPT5hd2FpdCBwZShlLnBhZ2VJZCk/Z2Uoe3BhZ2VJZDplLnBhZ2VJZCxwYWdlOmV9KTpsZSh7cGFnZTplfSkseWU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBlZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goYWUuQXR0YWNoUGFnZXNUb1dpbmRvdyxlKSkoZSl9LGZlPWFzeW5jIGU9Pnthd2FpdCBpZShlKX0sbWU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBlZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goYWUuRGV0YWNoUGFnZXNGcm9tV2luZG93LGUpKShlKX0sUGU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBlZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goYWUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdyxlKSkoZSl9LHZlPWU9Pm9lKGUpLFNlPWFzeW5jKHtpZGVudGl0eTplLHBhZ2VJZDp0fSk9Pihhd2FpdCB2ZShlKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10KSksYmU9YXN5bmMgZT0+e2F3YWl0KGFzeW5jIGU9Pihhd2FpdCBlZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goYWUuUmVvcmRlclBhZ2VzRm9yV2luZG93LGUpKShlKX0sQ2U9KGUsdCk9PiF0LmZpbmQoKHQ9PnQ9PT1lKSksV2U9KGUsdCk9PmAke2V9ICgke3R9KWA7YXN5bmMgZnVuY3Rpb24gSWUoZT1cIlVudGl0bGVkIFBhZ2VcIil7Y29uc3RbdCxhXT1hd2FpdCBQcm9taXNlLmFsbChbZGUoKSxjZSgpXSksbj1bLi4udCwuLi5hXS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7aWYoIW4uZmluZCgodD0+dD09PWUpKSlyZXR1cm4gZTtsZXQgbz0xO2NvbnN0IGk9ZS5yZXBsYWNlKC8gXFwoLitcXCkkLyxcIlwiKTtmb3IoOyFDZShXZShpLG8pLG4pOylvKz0xO3JldHVybiBXZShpLG8pfWNvbnN0IFRlPW5ldyBNYXAsa2U9ZT0+YCR7ZS51dWlkfS0ke2UubmFtZX1gO2NvbnN0IEFlPWooKGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1hd2FpdCBjZSgpLHQ9bmV3IFNldDtlLmZvckVhY2goKGU9PntLKGUubGF5b3V0LmNvbnRlbnQpLmZvckVhY2goKGU9PntpZihlLm5hbWUpe2NvbnN0IGE9a2UoZSk7dC5hZGQoYSl9fSkpfSkpO2NvbnN0IGE9VSgpOyhhd2FpdCBhLmdldEN1cnJlbnRWaWV3cygpKS5mb3JFYWNoKCgoe2lkZW50aXR5OmV9KT0+e2NvbnN0IGE9a2UoZSk7aWYodC5oYXMoYSl8fFRlLmhhcyhhKSlyZXR1cm47Y29uc3Qgbj1zZXRUaW1lb3V0KCgoKT0+e2Zpbi5WaWV3LndyYXBTeW5jKGUpLmRlc3Ryb3koKSxUZS5kZWxldGUoYSl9KSw1ZTMpO1RlLnNldChhLG4pfSkpLFRlLmZvckVhY2goKChlLGEpPT57dC5oYXMoYSkmJihjbGVhclRpbWVvdXQoZSksVGUuZGVsZXRlKGEpKX0pKX0pLDI1MDApLE1lPSh7bmFtZTplfSk9PntCKGUpJiZBZSgpLmNhdGNoKCgoKT0+e30pKX07ZnVuY3Rpb24gVmUoKXtjb25zdCBlPXgoTyk7ZS5hZGRMaXN0ZW5lcihNLldpbmRvd09wdGlvbnNDaGFuZ2VkLEFlKSxlLmFkZExpc3RlbmVyKE0uV2luZG93Q2xvc2VkLE1lKSxlLmFkZExpc3RlbmVyKE0uV2luZG93Q3JlYXRlZCxNZSl9bGV0IE9lPXt9O2NvbnN0IHhlPSh7YWN0aW9uSWQ6ZSxwYXlsb2FkOnR9KT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIE9lW2VdKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBjb25maWd1cmVkIGZ1bmN0aW9uIGZvciB0aGUgYWN0aW9uICcke2V9J2ApO3JldHVybiBPZVtlXSh0KX07ZnVuY3Rpb24gRmUoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oay5NYWNoaW5lTmFtZSl9bGV0IExlLERlO2FzeW5jIGZ1bmN0aW9uIFJlKCl7cmV0dXJuIExlfHwoTGU9YXdhaXQgZmluLlN5c3RlbS5nZXRNYWNoaW5lSWQoKSksTGV9YXN5bmMgZnVuY3Rpb24gVWUoZSl7Y29uc3QgdD1lfHxhd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5nZXRTbmFwc2hvdCgpO2lmKHQuc25hcHNob3REZXRhaWxzPy5tYWNoaW5lSWQpcmV0dXJuIHQ7Y29uc3QgYT1GZSgpO3JldHVybnsuLi50LHNuYXBzaG90RGV0YWlsczp7Li4uZS5zbmFwc2hvdERldGFpbHMsbWFjaGluZUlkOmF3YWl0IFJlKCksbWFjaGluZU5hbWU6YX19fWZ1bmN0aW9uIEVlKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoKHQsYSk9PntlLm9uY29tcGxldGU9ZS5vbnN1Y2Nlc3M9KCk9PnQoZS5yZXN1bHQpLGUub25hYm9ydD1lLm9uZXJyb3I9KCk9PmEoZS5lcnJvcil9KSl9ZnVuY3Rpb24gR2UoZSx0KXtjb25zdCBhPWluZGV4ZWREQi5vcGVuKGUpO2Eub251cGdyYWRlbmVlZGVkPSgpPT5hLnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZSh0KTtjb25zdCBuPUVlKGEpO3JldHVybihlLGEpPT5uLnRoZW4oKG49PmEobi50cmFuc2FjdGlvbih0LGUpLm9iamVjdFN0b3JlKHQpKSkpfWZ1bmN0aW9uIEJlKCl7cmV0dXJuIERlfHwoRGU9R2UoXCJrZXl2YWwtc3RvcmVcIixcImtleXZhbFwiKSksRGV9ZnVuY3Rpb24gX2UoZSx0KXtyZXR1cm4gZShcInJlYWRvbmx5XCIsKGU9PihlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt0aGlzLnJlc3VsdCYmKHQodGhpcy5yZXN1bHQpLHRoaXMucmVzdWx0LmNvbnRpbnVlKCkpfSxFZShlLnRyYW5zYWN0aW9uKSkpKX1jb25zdCBOZT1tJiZHZShcIm9wZW5maW4taG9tZS1wYWdlc1wiLFwicGFnZXNcIik7YXN5bmMgZnVuY3Rpb24gSGUoZSl7Y29uc3QgdD1hd2FpdCBmdW5jdGlvbihlLHQ9QmUoKSl7cmV0dXJuIHQoXCJyZWFkb25seVwiLCh0PT5FZSh0LmdldChlKSkpKX0oZSxOZSk7cmV0dXJuIHQ/KHQucGFnZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQucGFnZUlkLHQpOm51bGx9YXN5bmMgZnVuY3Rpb24gJGUoZSl7Y29uc3QgdD1hd2FpdCBmdW5jdGlvbihlPUJlKCkpe2NvbnN0IHQ9W107cmV0dXJuIF9lKGUsKGU9PnQucHVzaChlLmtleSkpKS50aGVuKCgoKT0+dCkpfShOZSksYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+SGUoZS50b1N0cmluZygpKSkpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+KChlLHQ9XCJcIik9PmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpKSh0LnRpdGxlLGUpKSk6YX1hc3luYyBmdW5jdGlvbiBxZSh7cGFnZTplfSl7YXdhaXQgZnVuY3Rpb24oZSx0LGE9QmUoKSl7cmV0dXJuIGEoXCJyZWFkd3JpdGVcIiwoYT0+KGEucHV0KHQsZSksRWUoYS50cmFuc2FjdGlvbikpKSl9KGUucGFnZUlkLGUsTmUpfWFzeW5jIGZ1bmN0aW9uIGplKGUpe2F3YWl0IGZ1bmN0aW9uKGUsdD1CZSgpKXtyZXR1cm4gdChcInJlYWR3cml0ZVwiLCh0PT4odC5kZWxldGUoZSksRWUodC50cmFuc2FjdGlvbikpKSl9KGUsTmUpfWFzeW5jIGZ1bmN0aW9uIFFlKHtwYWdlSWQ6ZSxwYWdlOnR9KXtpZih2b2lkIDA9PT1hd2FpdCBIZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJwYWdlIG5vdCBmb3VuZFwiKTthd2FpdCBxZSh7cGFnZTp0fSksZSE9PXQucGFnZUlkJiZhd2FpdCBqZShlKX12YXIgS2UsemU7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0oS2V8fChLZT17fSkpO3ZhciBKZT1uZXcgVWludDhBcnJheSgxNik7ZnVuY3Rpb24gWGUoKXtpZighemUmJiEoemU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtc0NyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0bykpKXRocm93IG5ldyBFcnJvcihcImNyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkXCIpO3JldHVybiB6ZShKZSl9Y29uc3QgWWU9L14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO2NvbnN0IFplPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZZZS50ZXN0KGUpfTtmb3IodmFyIGV0PVtdLHR0PTA7dHQ8MjU2OysrdHQpZXQucHVzaCgodHQrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpKTtjb25zdCBhdD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxhPShldFtlW3QrMF1dK2V0W2VbdCsxXV0rZXRbZVt0KzJdXStldFtlW3QrM11dK1wiLVwiK2V0W2VbdCs0XV0rZXRbZVt0KzVdXStcIi1cIitldFtlW3QrNl1dK2V0W2VbdCs3XV0rXCItXCIrZXRbZVt0KzhdXStldFtlW3QrOV1dK1wiLVwiK2V0W2VbdCsxMF1dK2V0W2VbdCsxMV1dK2V0W2VbdCsxMl1dK2V0W2VbdCsxM11dK2V0W2VbdCsxNF1dK2V0W2VbdCsxNV1dKS50b0xvd2VyQ2FzZSgpO2lmKCFaZShhKSl0aHJvdyBUeXBlRXJyb3IoXCJTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWRcIik7cmV0dXJuIGF9O2NvbnN0IG50PWZ1bmN0aW9uKGUsdCxhKXt2YXIgbj0oZT1lfHx7fSkucmFuZG9tfHwoZS5ybmd8fFhlKSgpO2lmKG5bNl09MTUmbls2XXw2NCxuWzhdPTYzJm5bOF18MTI4LHQpe2E9YXx8MDtmb3IodmFyIG89MDtvPDE2Oysrbyl0W2Erb109bltvXTtyZXR1cm4gdH1yZXR1cm4gYXQobil9O3ZhciBvdDshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlcnM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlcnNcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIixlLkNyZWF0ZVN0b3JlZnJvbnRXaW5kb3c9XCJjcmVhdGUtc3RvcmVmcm9udC13aW5kb3dcIixlLlNob3dIb21lPVwic2hvdy1ob21lXCIsZS5IaWRlSG9tZT1cImhpZGUtaG9tZVwiLGUuQXNzaWduSG9tZVNlYXJjaENvbnRleHQ9XCJhc3NpZ24taG9tZS1zZWFyY2gtY29udGV4dFwiLGUuR2V0TGVnYWN5UGFnZXM9XCJnZXQtbGVnYWN5LXBhZ2VzXCIsZS5HZXRMZWdhY3lXb3Jrc3BhY2VzPVwiZ2V0LWxlZ2FjeS13b3Jrc3BhY2VzXCIsZS5HZXRDb21wdXRlZFBsYXRmb3JtVGhlbWU9XCJnZXQtY29tcHV0ZWQtcGxhdGZvcm0tdGhlbWVcIn0ob3R8fChvdD17fSkpO1goXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpO2NvbnN0IGl0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgUmUoKSxtYWNoaW5lTmFtZTpGZSgpfX0pKSh0KTtyZXR1cm57cGFnZUlkOm50KCksdGl0bGU6ZSxsYXlvdXQ6YSxpc1JlYWRPbmx5OiExLGhhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX0scnQ9ZT0+KHtpZGVudGl0eTplLG9wZW5maW5XaW5kb3c6ZmluLldpbmRvdy53cmFwU3luYyhlKSxnZXRQYWdlczphc3luYygpPT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkdldFBhZ2VzRm9yV2luZG93LGUpLGdldFBhZ2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChyZS5HZXRQYWdlRm9yV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZDp0fSksYWRkUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBzZShlKTt0Py50aXRsZXx8KHQudGl0bGU9YXdhaXQgYS5kaXNwYXRjaChyZS5HZXRVbmlxdWVQYWdlVGl0bGUsdm9pZCAwKSk7Y29uc3Qgbj0oYXdhaXQgYS5kaXNwYXRjaChyZS5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCkpLmZpbmQoKGU9PmUucGFnZUlkPT09dC5wYWdlSWR8fGUudGl0bGU9PT10LnRpdGxlKSk7aWYobil0aHJvdyBuLnBhZ2VJZD09PXQucGFnZUlkP25ldyBFcnJvcihgcGFnZSB3aXRoIGlkICR7dC5wYWdlSWR9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTpuZXcgRXJyb3IoYHBhZ2Ugd2l0aCB0aXRsZSAke3QudGl0bGV9IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBicm93c2VyIHdpbmRvdyAke24ucGFyZW50SWRlbnRpdHkubmFtZX1gKTtjb25zdCBvPXtpZGVudGl0eTplLHBhZ2VzOlt0XX07cmV0dXJuIGEuZGlzcGF0Y2gocmUuQXR0YWNoUGFnZXNUb1dpbmRvdyxvKX0scmVtb3ZlUGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWRzOlt0XX0pLHNldEFjdGl2ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChyZS5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBzZShlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2gocmUuVXBkYXRlUGFnZUZvcldpbmRvdyx0KX0scmVvcmRlclBhZ2VzOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChyZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3csdCl9LF9vcGVuR2xvYmFsQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgc2UoZSk7cmV0dXJuIHQuaWRlbnRpdHk9ZSxhLmRpc3BhdGNoKHJlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2NvbnN0IGE9ZmluLldpbmRvdy53cmFwU3luYyhlKTthd2FpdCBhLnVwZGF0ZU9wdGlvbnMoe3dvcmtzcGFjZVBsYXRmb3JtOnt0b29sYmFyT3B0aW9uczp0fX0pfSxyZXBsYWNlV2luZG93U3RhdGVCdXR0b25PcHRpb25zOmFzeW5jIHQ9Pntjb25zdCBhPWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgYS51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnR9fSl9LF9vcGVuVmlld1RhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChyZS5PcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuUGFnZVRhYkNvbnRleHRNZW51OmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IHNlKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChyZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9fSksc3Q9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybnt3cmFwU3luYzplPT5ydChlKSxjcmVhdGVXaW5kb3c6YXN5bmMgZT0+e2NvbnN0IGE9YXdhaXQgdC5jcmVhdGVXaW5kb3coZSk7cmV0dXJuIHJ0KGEuaWRlbnRpdHkpfSxnZXRBbGxBdHRhY2hlZFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCB0LmdldENsaWVudCgpKS5kaXNwYXRjaChyZS5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCksZ2V0QWxsV2luZG93czphc3luYygpPT4oYXdhaXQgZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKGUpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9PmUuaWRlbnRpdHkubmFtZS5pbmNsdWRlcyhcImludGVybmFsLWdlbmVyYXRlZC13aW5kb3ctXCIpKSkubWFwKChlPT5ydChlLmlkZW50aXR5KSkpLGdldFVuaXF1ZVBhZ2VUaXRsZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkdldFVuaXF1ZVBhZ2VUaXRsZSx0KSxnZXRMYXN0Rm9jdXNlZFdpbmRvdzphc3luYygpPT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx2b2lkIDApfX0sY3Q9ZT0+KHtjcmVhdGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuQ3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZGVsZXRlUGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsLHQpLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChyZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuR2V0U2F2ZWRQYWdlLHQpLGdldFBhZ2VzOmFzeW5jIHQ9Pihhd2FpdCBzZShlKSkuZGlzcGF0Y2gocmUuR2V0U2F2ZWRQYWdlcyx0KSxzYXZlUGFnZTphc3luYyB0PT4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLlNhdmVQYWdlLHQpfSksZHQ9ZT0+KHtnZXRUaGVtZXM6YXN5bmMoKT0+KGF3YWl0IHNlKGUpKS5kaXNwYXRjaChyZS5HZXRUaGVtZXMsdm9pZCAwKX0pLHB0PWU9Pntjb25zdCB0PWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHthcHBseVNuYXBzaG90OmFzeW5jIHQ9PntpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmIXQ/LndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgYnJvd3NlciBzbmFwc2hvdFwiKTtyZXR1cm4gZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmFwcGx5U25hcHNob3QodCl9LGdldFNuYXBzaG90OigpPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0U25hcHNob3QoKS50aGVuKChlPT5lKSksbGF1bmNoQXBwOmFzeW5jIHQ9Pnt0LnRhcmdldHx8KHQudGFyZ2V0PXt1dWlkOnYsbmFtZTpTLGVudGl0eVR5cGU6Ynx8XCJ1bmtub3duXCJ9KTtyZXR1cm4oYXdhaXQgc2UoZSkpLmRpc3BhdGNoKHJlLkxhdW5jaEFwcCx0KX0sX2ludm9rZUN1c3RvbUFjdGlvbjphc3luYyh0LGEpPT57Y29uc3Qgbj1hd2FpdCBzZShlKSxvPXthY3Rpb25JZDp0LHBheWxvYWQ6ey4uLmEsY2FsbGVyVHlwZTphLmNhbGxlclR5cGV8fGcuQVBJfX07cmV0dXJuIG4uZGlzcGF0Y2gocmUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWwsbyl9LFRoZW1lOmR0KGUpLEJyb3dzZXI6c3QoZSksU3RvcmFnZTpjdChlKX0pfSx3dD0oKT0+cHQoZmluLm1lLmlkZW50aXR5KSxsdD1hc3luYyhlPVIpPT57Y29uc3R7d29ya3NwYWNlUGxhdGZvcm06dH09YXdhaXQgRChlKS5nZXRPcHRpb25zKCk7cmV0dXJue25ld1BhZ2VVcmw6dD8ubmV3UGFnZVVybCxuZXdUYWJVcmw6dD8ubmV3VGFiVXJsfX0sdXQ9YXN5bmMoZT1SKT0+e2NvbnN0IHQ9YXdhaXQgd3QoKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZShcIlVudGl0bGVkIFBhZ2VcIiksYT1hd2FpdChhc3luYyhlPVIpPT57Y29uc3R7bmV3UGFnZVVybDp0fT1hd2FpdCBsdChlKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IHBhZ2Ugd2l0aG91dCBhIG5ld1BhZ2VVcmwgc2V0XCIpO3JldHVybiB6KFwiTmV3IFRhYlwiLHQsZSl9KShlKTtyZXR1cm4gaXQodCxhKX0sZ3Q9W3t0eXBlOktlLkxhYmVsLGxhYmVsOlwiQ2xvc2UgV2luZG93XCIsZGF0YTp7dHlwZTpwLkNsb3NlV2luZG93fX0se3R5cGU6S2UuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpLZS5MYWJlbCxsYWJlbDpcIk9wZW4gU3RvcmVmcm9udFwiLGRhdGE6e3R5cGU6cC5PcGVuU3RvcmVmcm9udH19LHt0eXBlOktlLlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6S2UuTGFiZWwsbGFiZWw6XCJRdWl0IFdvcmtzcGFjZVwiLGRhdGE6e3R5cGU6cC5RdWl0fX1dLGh0PVt7dHlwZTpLZS5TZXBhcmF0b3IsZGF0YTp2b2lkIDB9LHt0eXBlOktlLkxhYmVsLGxhYmVsOlwiQ2xvc2UgV2luZG93XCIsZGF0YTp7dHlwZTpwLkNsb3NlV2luZG93fX0se3R5cGU6S2UuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpLZS5MYWJlbCxsYWJlbDpcIlF1aXRcIixkYXRhOnt0eXBlOnAuUXVpdH19XSx5dD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBIKCkse25ld1BhZ2VVcmw6YX09YXdhaXQgbHQoZSksbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1EKGUpLHt3b3Jrc3BhY2VQbGF0Zm9ybTphfT1hd2FpdCB0LmdldE9wdGlvbnMoKTtyZXR1cm4gYT8uZGlzYWJsZU11bHRpcGxlUGFnZXN9KShlKSxvPVtdO3JldHVybiBhJiYoby5wdXNoKHt0eXBlOktlLkxhYmVsLGxhYmVsOlwiTmV3IFdpbmRvd1wiLGRhdGE6e3R5cGU6cC5OZXdXaW5kb3d9fSksbnx8by5wdXNoKHt0eXBlOktlLkxhYmVsLGxhYmVsOlwiTmV3IFBhZ2VcIixkYXRhOnt0eXBlOnAuTmV3UGFnZX19KSksdD9bLi4ubywuLi5ndF06Wy4uLm8sLi4uaHRdfSxmdD1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eSxuPWF3YWl0IGVlKGEpO3N3aXRjaChlLnR5cGUpe2Nhc2UgcC5OZXdXaW5kb3c6Y29uc3R7bmV3UGFnZVVybDp0fT1hd2FpdCBsdChhKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IGVtcHR5IHdpbmRvdyB3aXRob3V0IGEgbmV3UGFnZVVybCBzZXRcIik7d3QoKS5jcmVhdGVWaWV3KHt0YXJnZXQ6dm9pZCAwLHVybDp0fSk7YnJlYWs7Y2FzZSBwLk5ld1BhZ2U6YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgdXQoZSk7YXdhaXQgd3QoKS5Ccm93c2VyLndyYXBTeW5jKGUpLmFkZFBhZ2UodCl9KShhKTticmVhaztjYXNlIHAuQ2xvc2VXaW5kb3c6bi5kaXNwYXRjaCh0ZS5DbG9zZUJyb3dzZXJXaW5kb3cpO2JyZWFrO2Nhc2UgcC5RdWl0Om4uZGlzcGF0Y2godGUuUXVpdFBsYXRmb3JtKTticmVhaztjYXNlIHAuT3BlblN0b3JlZnJvbnQ6KGFzeW5jKCk9Pnthd2FpdCBIKCkmJkcoRSl9KSgpO2JyZWFrO2Nhc2UgcC5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IHQ9e2NhbGxlclR5cGU6Zy5HbG9iYWxDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07d3QoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLHQpfX19LG10PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0IGVlKHQuaWRlbnRpdHkpO3N3aXRjaChlLnR5cGUpe2Nhc2Ugdy5TYXZlOmNhc2Ugdy5SZW5hbWU6YS5kaXNwYXRjaCh0ZS5TYXZlUGFnZSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LkR1cGxpY2F0ZTphLmRpc3BhdGNoKHRlLkR1cGxpY2F0ZVBhZ2UsdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugdy5DbG9zZTphLmRpc3BhdGNoKHRlLkNsb3NlUGFnZSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgYT17Y2FsbGVyVHlwZTpnLlBhZ2VUYWJDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTp0LmlkZW50aXR5LHBhZ2VJZDp0LnBhZ2VJZCxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O3d0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxhKX19fSxQdD1hc3luYyhlLHQpPT57Y29uc3QgYT10LnNlbGVjdGVkVmlld3NbMF0sbj1maW4uVmlldy53cmFwU3luYyhhKSxvPWF3YWl0KGFzeW5jIGU9Pntjb25zdHtuZXdUYWJVcmw6dH09YXdhaXQgbHQoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdUYWJVcmwgc2V0XCIpO3JldHVybnsuLi56KFwiTmV3IFZpZXdcIix0KSx1cmw6dCx0YXJnZXQ6ZX19KShlKTthd2FpdCB3dCgpLmNyZWF0ZVZpZXcobyxlLG4uaWRlbnRpdHkpfSx2dD1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChlPT5Qcm9taXNlLmFsbChlLm1hcCgoYXN5bmMgZT0+ZmluLlZpZXcud3JhcFN5bmMoZSkuZ2V0SW5mbygpKSkpKSh0KSx7bmV3UGFnZVVybDpuLG5ld1RhYlVybDpvfT1hd2FpdCBsdChlKTthLmZvckVhY2goKGFzeW5jIGU9PntlLnVybCE9PW4mJmUudXJsIT09byYmYXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZS51cmwpfSkpfSxTdD0oZSx0KT0+e3QuZm9yRWFjaCgoYXN5bmMgdD0+e2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmModCk7YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0e3VybDphfT1hd2FpdCB0LmdldEluZm8oKSxuPXsuLi5hd2FpdCB0LmdldE9wdGlvbnMoKSx1cmw6YSx0YXJnZXQ6ZSxuYW1lOnZvaWQgMH07YXdhaXQgd3QoKS5jcmVhdGVWaWV3KG4sZSx0LmlkZW50aXR5KX0pKGUsYSl9KSl9LGJ0PWFzeW5jKGUsdCk9PntpZighZSlyZXR1cm47Y29uc3QgYT10LmlkZW50aXR5O3N3aXRjaChlLnR5cGUpe2Nhc2UgbC5DbG9zZVZpZXdzOmF3YWl0KGFzeW5jKGUsdCk9PntpZigoYXdhaXQgZmluLldpbmRvdy53cmFwU3luYyhlKS5nZXRDdXJyZW50Vmlld3MoKSkubGVuZ3RoIT09dC5sZW5ndGgpdC5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LmRlc3Ryb3koKX0pKTtlbHNle2NvbnN0IHQ9KGF3YWl0IHd0KCkuQnJvd3Nlci53cmFwU3luYyhlKS5nZXRQYWdlcygpKS5maW5kKChlPT5lLmlzQWN0aXZlKSk7KGF3YWl0IGVlKGUpKS5kaXNwYXRjaCh0ZS5DbG9zZVBhZ2UsdD8ucGFnZUlkKX19KShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBsLk9wZW5XaXRoRGVmYXVsdEJyb3dzZXI6YXdhaXQgdnQoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgbC5SZWxvYWRWaWV3czp0LnNlbGVjdGVkVmlld3MuZm9yRWFjaCgoYXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlZpZXcud3JhcFN5bmMoZSk7YXdhaXQgdC5yZWxvYWQoKX0pKTticmVhaztjYXNlIGwuTmV3Vmlldzphd2FpdCBQdChhLHQpO2JyZWFrO2Nhc2UgbC5EdXBsaWNhdGVWaWV3czpTdChhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSBsLkFkZFRvQ2hhbm5lbDooYXN5bmMoZSx0LGEpPT57Y29uc3Qgbj17bmV3Q2hhbm5lbElkOnQsc2VsZWN0ZWRWaWV3czphfTsoYXdhaXQgZWUoZSkpLmRpc3BhdGNoKHRlLkFkZFRvQ2hhbm5lbCxuKX0pKGEsZS5vcHRpb24sdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIGwuUmVtb3ZlRnJvbUNoYW5uZWw6KGFzeW5jKGUsdCk9PnsoYXdhaXQgZWUoZSkpLmRpc3BhdGNoKHRlLlJlbW92ZUZyb21DaGFubmVsLHQpfSkoYSx0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgbC5DdXN0b206aWYoZS5hY3Rpb24pe2NvbnN0IG49e2NhbGxlclR5cGU6Zy5WaWV3VGFiQ29udGV4dE1lbnUsd2luZG93SWRlbnRpdHk6YSxzZWxlY3RlZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cyxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O3d0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxuKX19fTthc3luYyBmdW5jdGlvbiBDdChlLHQpe2NvbnN0IGE9YXdhaXQgeXQoZS5pZGVudGl0eSksbj17Li4uZSx0ZW1wbGF0ZTphLGNhbGxiYWNrOmZ0fTthd2FpdCB0aGlzLm9wZW5HbG9iYWxDb250ZXh0TWVudShuLHQpfWNvbnN0IFd0PWFzeW5jKGUsdCk9Pntjb25zdHt4OmEseTpuLGlkZW50aXR5Om8sdGVtcGxhdGU6aSxjYWxsYmFjazpyfT1lLHtkYXRhOnN9PWF3YWl0IGZ1bmN0aW9uKGUsdCl7aWYoIXkpdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO2lmKCF0JiYhZmluLm1lLmlzV2luZG93KXRocm93IG5ldyBFcnJvcihcInNob3dDb250ZXh0TWVudSBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gd2luZG93LlwiKTtyZXR1cm4odHx8ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpKS5zaG93UG9wdXBNZW51KGUpfSh7eDphLHk6bix0ZW1wbGF0ZTppfSxmaW4uV2luZG93LndyYXBTeW5jKG8pKTtyKHMsZSl9O2FzeW5jIGZ1bmN0aW9uIEl0KGUsdCl7Y29uc3QgYT17Li4uZSxjYWxsYmFjazpidH07YXdhaXQgdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51KGEsdCl9YXN5bmMgZnVuY3Rpb24gVHQoZSx0KXtjb25zdCBhPWF3YWl0IHd0KCkuU3RvcmFnZS5nZXRQYWdlKGUucGFnZUlkKSxuPWF3YWl0KG89ISFhLFt7dHlwZTpLZS5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6dy5TYXZlfX0se3R5cGU6S2UuU2VwYXJhdG9yLGRhdGE6dm9pZCAwfSx7dHlwZTpLZS5MYWJlbCxsYWJlbDpcIlJlbmFtZSBQYWdlXCIsZGF0YTp7dHlwZTp3LlJlbmFtZX0sZW5hYmxlZDpvfSx7dHlwZTpLZS5MYWJlbCxsYWJlbDpcIkR1cGxpY2F0ZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkR1cGxpY2F0ZX19LHt0eXBlOktlLlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6S2UuTGFiZWwsbGFiZWw6XCJDbG9zZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkNsb3NlfX1dKTt2YXIgbztjb25zdCBpPXsuLi5lLHRlbXBsYXRlOm4sY2FsbGJhY2s6bXR9O2F3YWl0IHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudShpLHQpfWFzeW5jIGZ1bmN0aW9uIGt0KHthcHA6ZSx0YXJnZXQ6dH0pe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7c3dpdGNoKGUubWFuaWZlc3RUeXBlKXtjYXNlIGkuU25hcHNob3Q6cmV0dXJuIGEuYXBwbHlTbmFwc2hvdChlLm1hbmlmZXN0KTtjYXNlIGkuVmlldzpyZXR1cm4gYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKFwidmlld1wiPT09dC5lbnRpdHlUeXBlKXtjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpLG49YXdhaXQgYS5nZXRQYXJlbnRMYXlvdXQoKTtyZXR1cm4gYXdhaXQgbi5yZXBsYWNlVmlldyh0LHttYW5pZmVzdFVybDplLm1hbmlmZXN0LHVybDp2b2lkIDAsdGFyZ2V0OnZvaWQgMH0pLGEuZGVzdHJveSgpfXJldHVybiBhLmNyZWF0ZVZpZXcoe25hbWU6dm9pZCAwLHVybDp2b2lkIDAsbWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx0YXJnZXQ6dm9pZCAwfSl9KGUsdCk7Y2FzZSBpLkV4dGVybmFsOnJldHVybiBmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7cGF0aDplLm1hbmlmZXN0LHV1aWQ6ZS5hcHBJZH0pO2RlZmF1bHQ6cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChlLm1hbmlmZXN0KX19Y29uc3QgQXQ9ZT0+ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpO2Z1bmN0aW9uIE10KGUsLi4udCl7aWYoIXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGE9dC5zaGlmdCgpO3JldHVybiBBdChlKSYmQXQoYSkmJk9iamVjdC5lbnRyaWVzKGEpLmZvckVhY2goKChbdCxhXSk9PntpZihBdChhKSlyZXR1cm4gZVt0XXx8KGVbdF09e30pLE10KGVbdF0sYSk7ZVt0XT1hfSkpLE10KGUsLi4udCl9dmFyIFZ0LE90OyFmdW5jdGlvbihlKXtlLkhvbWVJbmRleD1cIi9ob21lL1wiLGUuSG9tZVNlYXJjaD1cIi9ob21lL3NlYXJjaC9cIixlLkhvbWVQYWdlc1JlbmFtZT1cIi9ob21lL3BhZ2VzL3JlbmFtZS9cIixlLkRvY2s9XCIvaG9tZS9kb2NrL1wiLGUuQnJvd3NlclBhZ2VzTGFuZGluZz1cIi9icm93c2VyL3BhZ2VzL2xhbmRpbmcvXCIsZS5Ib21lSW5kaWNhdG9yPVwiL2hvbWUvaW5kaWNhdG9yL1wiLGUuQnJvd3Nlcj1cIi9icm93c2VyL1wiLGUuQnJvd3NlclBvcHVwTWVudT1cIi9icm93c2VyL3BvcHVwLW1lbnUvXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlci9cIixlLkJyb3dzZXJQb3B1cE1lbnVTaGFyZVBhZ2U9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3NoYXJlLXBhZ2UvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2F2ZVBhZ2U9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3NhdmUtcGFnZS9cIixlLkJyb3dzZXJQb3B1cE1lbnVMYXlvdXRzPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9sYXlvdXRzL2xheW91dHMvXCIsZS5Ccm93c2VyUG9wdXBNZW51Q29sb3JMaW5raW5nPVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9jb2xvci1saW5raW5nL2NvbG9yLWxpbmtpbmcvXCIsZS5Ccm93c2VySW5kaWNhdG9yPVwiL2Jyb3dzZXIvaW5kaWNhdG9yL1wiLGUuUmVzcG9uc2VNb2RhbD1cIi9icm93c2VyL3BvcHVwLW1lbnUvcmVzcG9uc2UtbW9kYWwvXCIsZS5Eb2NzPVwiL3Byb3ZpZGVyL2RvY3MvXCIsZS5TdG9yZWZyb250PVwiL3N0b3JlZnJvbnQvXCIsZS5EZXByZWNhdGVkQWxlcnQ9XCIvcHJvdmlkZXIvZGVwcmVjYXRlZC1hbGVydC9cIn0oVnR8fChWdD17fSkpLGZ1bmN0aW9uKGUpe2UuSWNvbk9wZW5GaW5Mb2dvPVwiL2ljb25zL29wZW5maW5sb2dvLnN2Z1wiLGUuSWNvbkZpbHRlcj1cIi9pY29ucy9maWx0ZXIuc3ZnXCJ9KE90fHwoT3Q9e30pKTtjb25zdCB4dD1XK3suLi5PdCwuLi5WdH0uQnJvd3NlcjtmdW5jdGlvbiBGdChlLHQpe2NvbnN0IGE9TXQoe30sdCxlKTtyZXR1cm4gYS5kZXRhY2hPbkNsb3NlPSEwLGF9YXN5bmMgZnVuY3Rpb24gTHQoZSx0LGEpe2NvbnN0IG49ZS5tYW5pZmVzdFVybD9hd2FpdCB0KHttYW5pZmVzdFVybDplLm1hbmlmZXN0VXJsfSxhKTp2b2lkIDA7aWYobj8uaW50ZXJvcCYmZS5pbnRlcm9wKXtjb25zdCB0PXsuLi5lLC4uLm4saW50ZXJvcDplLmludGVyb3B9O3JldHVybiBkZWxldGUgdC5tYW5pZmVzdFVybCx0fXJldHVybiBlfWNvbnN0IER0PWU9Pntjb25zdCB0PWUubmFtZT09PUYuSG9tZSxhPWUubmFtZT8uc3RhcnRzV2l0aChGLkhvbWVJbnRlcm5hbCksbj1lLm5hbWU/LnN0YXJ0c1dpdGgoRi5Ccm93c2VyTWVudSk7cmV0dXJuIXQmJiFhJiYhbn0sUnQ9ZT0+XCJ3b3Jrc3BhY2VQbGF0Zm9ybVwiaW4gZT9lOigoe3dvcmtzdGFja3M6ZSxwYWdlczp0LC4uLmF9KT0+KHsuLi5hLHdvcmtzcGFjZVBsYXRmb3JtOntwYWdlczp0fHxlfHxudWxsfX0pKShlKSxVdD17Y29udGV4dE1lbnVTZXR0aW5nczp7cmVsb2FkOiExfSxiYWNrZ3JvdW5kVGhyb3R0bGluZzohMCx1cmw6eHQsY29udGV4dE1lbnU6ITAsY29ybmVyUm91bmRpbmc6e2hlaWdodDo4LHdpZHRoOjh9LGNsb3NlT25MYXN0Vmlld1JlbW92ZWQ6ITEsZXhwZXJpbWVudGFsOntzaG93RmF2aWNvbnM6ITAsZGVmYXVsdEZhdmljb25Vcmw6YCR7V30vaWNvbnMvZGVmYXVsdEZhdmljb24uc3ZnYH0scGVybWlzc2lvbnM6e1N5c3RlbTp7b3BlblVybFdpdGhCcm93c2VyOntlbmFibGVkOiEwLHByb3RvY29sczpbXCJtYWlsdG9cIl19fX19LEV0PXtkaW1lbnNpb25zOntib3JkZXJXaWR0aDozLGhlYWRlckhlaWdodDozMH19LEd0PShlLHQpPT50P2UubWFwKChlPT4oey4uLnQsLi4uZX0pKSk6ZSxCdD1lPT57Y29uc3QgdD1maW4uV2luZG93LndyYXBTeW5jKGUpO3JldHVybiBQcm9taXNlLmFsbChbdC5icmluZ1RvRnJvbnQoKSx0LnJlc3RvcmUoKSx0LmZvY3VzKCldKX07YXN5bmMgZnVuY3Rpb24gX3QoZSl7Y29uc3QgdD1hd2FpdCBfKCk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQubWFwKCgoe2lkZW50aXR5OmV9KT0+KGFzeW5jIGU9Pihhd2FpdCBlZShlKSkuZGlzcGF0Y2goYWUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zKSkoZSkpKSksZT9lKCk6VWUoKX1sZXQgTnQ9W107Y29uc3QgSHQ9KCk9Pk50O2NvbnN0ICR0PWU9PmFzeW5jIHQ9PntjbGFzcyBhIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc1dvcmtzcGFjZVBsYXRmb3JtPSgpPT4hMCx0aGlzLmFkZFBhZ2U9dGhpcy5hdHRhY2hQYWdlc1RvV2luZG93LHRoaXMuZGV0YWNoUGFnZXNGcm9tV2luZG93PW1lLHRoaXMuZ2V0QWxsQXR0YWNoZWRQYWdlcz1jZSx0aGlzLmdldFBhZ2VzRm9yV2luZG93PXZlLHRoaXMuZ2V0UGFnZUZvcldpbmRvdz1TZSx0aGlzLnNldEFjdGl2ZVBhZ2U9UGUsdGhpcy5sYXVuY2hBcHA9a3QsdGhpcy5zYXZlUGFnZT1oZSx0aGlzLmNyZWF0ZVNhdmVkUGFnZUludGVybmFsPWxlLHRoaXMudXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWw9Z2UsdGhpcy5kZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD11ZSx0aGlzLnJlb3JkZXJQYWdlc0ZvcldpbmRvdz1iZSx0aGlzLmdldFVuaXF1ZVBhZ2VUaXRsZT1JZSx0aGlzLnVwZGF0ZVBhZ2VGb3JXaW5kb3c9ZmUsdGhpcy5nZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9JCx0aGlzLmdldFRoZW1lcz1IdCx0aGlzLmludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPXhlLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51PXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2VzPXRoaXMuZ2V0U2F2ZWRQYWdlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlPXRoaXMuZ2V0U2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFBhZ2U9dGhpcy5jcmVhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkUGFnZT10aGlzLnVwZGF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRQYWdlPXRoaXMuZGVsZXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2hQYWdlc1RvV2luZG93PXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdy5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51PXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51PXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpfWFzeW5jIGdldFNuYXBzaG90KCl7Y29uc3QgZT1hd2FpdCBfdCgoYXN5bmMoKT0+VWUoYXdhaXQgc3VwZXIuZ2V0U25hcHNob3Qodm9pZCAwLGZpbi5tZS5pZGVudGl0eSkpKSk7cmV0dXJuey4uLmUsd2luZG93czplLndpbmRvd3MuZmlsdGVyKER0KX19YXN5bmMgYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6ZSxvcHRpb25zOnR9KXt0Py5jbG9zZUV4aXN0aW5nV2luZG93cyYmYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPWF3YWl0IF8oKTthd2FpdCBQcm9taXNlLmFsbChlLm1hcCgoZT0+ZS5jbG9zZSghMCkuY2F0Y2goKCgpPT57fSkpKSkpfSgpO2xldCBhPWU7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWF3YWl0IHN1cGVyLmZldGNoTWFuaWZlc3Qoe21hbmlmZXN0VXJsOmF9LGZpbi5tZS5pZGVudGl0eSkpLGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1hd2FpdCBjZSgpLG49ZS5zbmFwc2hvdERldGFpbHM/Lm1vbml0b3JJbmZvfHxhd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksbz0oZS53aW5kb3dzfHxbXSkuZmlsdGVyKCgoe2xheW91dDplfSk9PiEhZSkpLGk9bmV3IE1hcDthLmZvckVhY2goKGU9Pmkuc2V0KGUucGFnZUlkLGUpKSk7Y29uc3Qgcj1bXSxzPW8ubWFwKChhc3luYyBlPT57Y29uc3QgdD1SdChlKSxhPVtdLG49KGU9PntsZXQgdD0hMTtjb25zdCBhPShlfHxbXSkubWFwKChlPT57Y29uc3QgYT1mdW5jdGlvbih7aWQ6ZSxuYW1lOnQsLi4uYX0pe3JldHVybntwYWdlSWQ6ZSx0aXRsZTp0LC4uLmF9fShlKTtyZXR1cm4gdCYmYS5pc0FjdGl2ZSYmKGEuaXNBY3RpdmU9ITEpLGEuaXNBY3RpdmUmJih0PSEwKSxhfSkpO3JldHVybiF0JiZhLmxlbmd0aCYmKGFbMF0uaXNBY3RpdmU9ITApLGF9KSh0Py53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMpO2lmKCFuPy5sZW5ndGgpe2NvbnN0IGU9YXdhaXQgSWUoKTthLnB1c2goYXdhaXQgaXQoZSx0LmxheW91dCkpfWxldCBvO24uZm9yRWFjaCgoZT0+e2NvbnN0IHQ9aS5nZXQoZS5wYWdlSWQpO3Q/bz10OmEucHVzaChlKX0pKSxvJiZhd2FpdCBQcm9taXNlLmFsbChbUGUoe2lkZW50aXR5Om8ucGFyZW50SWRlbnRpdHkscGFnZUlkOm8ucGFnZUlkfSksQnQoby5wYXJlbnRJZGVudGl0eSldKSxhLmxlbmd0aCYmci5wdXNoKHsuLi50LHdvcmtzcGFjZVBsYXRmb3JtOnsuLi50LndvcmtzcGFjZVBsYXRmb3JtLHBhZ2VzOmF9fSl9KSk7aWYoYXdhaXQgUHJvbWlzZS5hbGwocyksIXIubGVuZ3RoKXJldHVybjtjb25zdCBjPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO3JldHVybih0fHxjLmFwcGx5U25hcHNob3QuYmluZChjKSkoey4uLmUsc25hcHNob3REZXRhaWxzOnsuLi5lLnNuYXBzaG90RGV0YWlscyxtb25pdG9ySW5mbzpufSx3aW5kb3dzOnJ9KX0oYSwoZT0+c3VwZXIuYXBwbHlTbmFwc2hvdCh7c25hcHNob3Q6ZSxvcHRpb25zOnsuLi50LGNsb3NlRXhpc3RpbmdXaW5kb3dzOiExfX0pKSl9YXN5bmMgY3JlYXRlV2luZG93KHQsYSl7bGV0IG49UnQodCk7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldFRoZW1lcygpO249KChlLHQsYSk9PntsZXQgbj1lO2NvbnN0IG89bj8ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzO2lmKG8pe2NvbnN0IGU9by5maW5kKChlPT5lLmlzQWN0aXZlKSk7ZT9uLmxheW91dD1lLmxheW91dDoob1swXS5pc0FjdGl2ZT0hMCxuLmxheW91dD1vWzBdLmxheW91dCl9aWYobi5sYXlvdXQpe2lmKG49TXQoe30sdC5kZWZhdWx0V2luZG93T3B0aW9ucyxuLFV0KSxuLmxheW91dD1NdChuLmxheW91dCxFdCksKG4uaWNvbnx8bi50YXNrYmFySWNvbikmJihuLnRhc2tiYXJJY29uR3JvdXA9bi50YXNrYmFySWNvbkdyb3VwfHxmaW4ubWUuaWRlbnRpdHkudXVpZCksIW4uYmFja2dyb3VuZENvbG9yKXtjb25zdCBlPWE/LnBhbGV0dGU7bi5iYWNrZ3JvdW5kQ29sb3I9ZT8uYmFja2dyb3VuZDJ8fGU/LmJhY2tncm91bmRQcmltYXJ5fWNvbnN0IGU9bi53b3Jrc3BhY2VQbGF0Zm9ybS5uZXdUYWJVcmw7ZSYmKG4ubGF5b3V0LnNldHRpbmdzfHwobi5sYXlvdXQuc2V0dGluZ3M9e30pLG4ubGF5b3V0LnNldHRpbmdzLm5ld1RhYkJ1dHRvbj17dXJsOmV9KSxuPShlPT57Y29uc3QgdD1lO3JldHVybiB0LndvcmtzcGFjZVBsYXRmb3JtfHwodC53b3Jrc3BhY2VQbGF0Zm9ybT17fSksdC53b3Jrc3BhY2VQbGF0Zm9ybS5faW50ZXJuYWxEZWZlclNob3dFbmFibGVkPSEwLHQud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsQXV0b1Nob3c9dC53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsQXV0b1Nob3d8fHZvaWQgMD09PXQuYXV0b1Nob3d8fHQuYXV0b1Nob3csdC5hdXRvU2hvdz0hMSx0fSkobil9cmV0dXJuIG4ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzJiYobi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcz1HdChuLndvcmtzcGFjZVBsYXRmb3JtLnBhZ2VzLHQ/LmRlZmF1bHRQYWdlT3B0aW9ucykpLG59KShuLGUsb1swXSksbj1hd2FpdChhc3luYyBlPT57Y29uc3QgdD1hd2FpdCBmaW4uU3lzdGVtLmdldE1vbml0b3JJbmZvKCksYT10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QuYm90dG9tLXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC50b3Asbj10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QucmlnaHQtdC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LmxlZnQ7cmV0dXJuIGUuZGVmYXVsdEhlaWdodD1lLmRlZmF1bHRIZWlnaHR8fFwiODAwXCIsZS5kZWZhdWx0V2lkdGg9ZS5kZWZhdWx0V2lkdGh8fFwiODAwXCIsYTxlLmRlZmF1bHRIZWlnaHQmJihlLmRlZmF1bHRIZWlnaHQ9YSksbjxlLmRlZmF1bHRXaWR0aCYmKGUuZGVmYXVsdFdpZHRoPW4pLGV9KShuKTtyZXR1cm4oZT0+YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQgZSh0LGEpO3JldHVybiB0Py53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93RW5hYmxlZD8oYXdhaXQgbi5hZGRMaXN0ZW5lcihMLlNob3dSZXF1ZXN0ZWQsKCgpPT57fSkpLG4pOm59KSgoKGUsdCk9PnN1cGVyLmNyZWF0ZVdpbmRvdyhlLHQpKSkobixhKX1hc3luYyBjcmVhdGVWaWV3KHQsYSl7cmV0dXJuIHQub3B0cz1GdCh0Lm9wdHMsZT8uZGVmYXVsdFZpZXdPcHRpb25zKSx0Lm9wdHM9YXdhaXQgTHQodC5vcHRzLHRoaXMuZmV0Y2hNYW5pZmVzdCxhKSxzdXBlci5jcmVhdGVWaWV3KHQsYSl9YXN5bmMgcmVwbGFjZVZpZXcodCxhKXtyZXR1cm4gdC5vcHRzLm5ld1ZpZXc9YXdhaXQgRnQodC5vcHRzLm5ld1ZpZXcsZT8uZGVmYXVsdFZpZXdPcHRpb25zKSx0Lm9wdHMubmV3Vmlldz1hd2FpdCBMdCh0Lm9wdHMubmV3Vmlldyx0aGlzLmZldGNoTWFuaWZlc3QsYSksc3VwZXIucmVwbGFjZVZpZXcodCxhKX1hc3luYyByZXBsYWNlTGF5b3V0KGUsdCl7cmV0dXJuIGUub3B0cy5sYXlvdXQ/LmRpbWVuc2lvbnMsc3VwZXIucmVwbGFjZUxheW91dChlLHQpfWFzeW5jIGNsb3NlVmlldyhlLHQpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmMoZS52aWV3KTthd2FpdCBzdXBlci5jbG9zZVZpZXcoZSx0KSxhd2FpdCBhLmRlc3Ryb3koKS5jYXRjaCgoZT0+ZSkpfWFzeW5jIGdldFNhdmVkUGFnZSguLi5lKXtyZXR1cm4gSGUuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFBhZ2VzKC4uLmUpe3JldHVybiAkZS5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gcWUuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIGplLmFwcGx5KHRoaXMsZSl9YXN5bmMgdXBkYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBRZS5hcHBseSh0aGlzLGUpfWFzeW5jIGF0dGFjaFBhZ2VzVG9XaW5kb3codCl7dC5wYWdlcz1HdCh0LnBhZ2VzLGU/LmRlZmF1bHRQYWdlT3B0aW9ucyksYXdhaXQgeWUodCl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIEN0LmFwcGx5KHRoaXMsZSl9YXN5bmMgb3Blbkdsb2JhbENvbnRleHRNZW51KC4uLmUpe3JldHVybiBXdC5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gSXQuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBXdC5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5QYWdlVGFiQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gVHQuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBXdC5hcHBseSh0aGlzLGUpfX1yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlPy5vdmVycmlkZUNhbGxiYWNrP2Uub3ZlcnJpZGVDYWxsYmFjayhhKTpuZXcgYX07YXN5bmMgZnVuY3Rpb24gcXQoKXtWZSgpLGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTthd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWZvY3VzZWRcIixxKX0oKX1sZXQganQ7Y29uc3QgUXQ9YXN5bmMgZT0+e2NvbnN0IHQ9SS5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpLGE9YXdhaXQoYXN5bmMgZT0+bmV3IFByb21pc2UoKGFzeW5jIHQ9Pntjb25zdCBhPShhd2FpdCBmaW4uU3lzdGVtLmdldFZlcnNpb24oKSkuc3BsaXQoXCIuXCIpLm1hcCgoZT0+cGFyc2VJbnQoZSkpKTt0KGUuZXZlcnkoKCh0LG4pPT4hKG48Myl8fGFbbl09PT1lW25dKSkpfSkpKSh0KSxuPWU/LnRoZW1lO3ZhciBvO2lmKG4mJigobz1uKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnBhbGV0dGUuYmFja2dyb3VuZFByaW1hcnk7aWYoIXQuaW5jbHVkZXMoXCIjXCIpJiYhdC5pbmNsdWRlcyhcInJnYlwiKSYmIXQuaW5jbHVkZXMoXCJoc2xcIikpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBwcmltYXJ5IGNvbG9yIGlzIG5vdCB0aGUgcmlnaHQgZm9ybWF0LlwiKX0pKSxOdD1vKSxlPy5jdXN0b21BY3Rpb25zJiYoT2U9ZT8uY3VzdG9tQWN0aW9ucyksYSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCF5KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuXCIpO2p0fHwoZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkub25jZShcInBsYXRmb3JtLWFwaS1yZWFkeVwiLCgoKT0+cXQoKSkpLGp0PWZpbi5QbGF0Zm9ybS5pbml0KHtvdmVycmlkZUNhbGxiYWNrOiR0KGUpLGludGVyb3BPdmVycmlkZTplPy5pbnRlcm9wT3ZlcnJpZGV9KSk7cmV0dXJuIGp0fShlPy5icm93c2VyKX10aHJvdyBuZXcgRXJyb3IoYFJ1bnRpbWUgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydGVkLiAgJHt0WzBdfS4ke3RbMV19LiR7dFsyXX0uKiBpcyByZXF1aXJlZGApfTttb2R1bGUuZXhwb3J0cz1jfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXszMTMzOihlLHQsbik9PntuLnIodCksbi5kKHQse0NMSUFjdGlvbjooKT0+WmUuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+WmUuZWwsQ0xJVGVtcGxhdGU6KCk9PlplLnlXLGRlcmVnaXN0ZXI6KCk9PlFlLGhpZGU6KCk9PmV0LHJlZ2lzdGVyOigpPT56ZSxzaG93OigpPT5ZZX0pO3ZhciByPXt9O24ucihyKSxuLmQocix7c3Vic2NyaWJlOigpPT5yZX0pO3ZhciBvPXt9O24ucihvKSxuLmQobyx7Y3JlYXRlOigpPT5xZX0pO3ZhciBpPW4oNzQwNSk7Y29uc3Qgcz1cImhvbWVcIjt2YXIgYTshZnVuY3Rpb24oZSl7ZS5Db21tYW5kcz1cImhvbWUtY29tbWFuZHNcIn0oYXx8KGE9e30pKTt2YXIgYyxkPW4oNTgwNik7big3NTY0KTshZnVuY3Rpb24oZSl7ZVtlLkluaXRpYWw9MF09XCJJbml0aWFsXCIsZVtlLk9wZW49MV09XCJPcGVuXCIsZVtlLkNsb3NlPTJdPVwiQ2xvc2VcIn0oY3x8KGM9e30pKTtjb25zdCB1PVwiYWxsXCIsZj1cIjBcIixsPVwiNVwiLHA9XCI2XCIsZz0oKT0+e307ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBlP2Ake2V9LSR7dH1gOnR9ZnVuY3Rpb24gaChlKXtyZXR1cm5gX19zZWFyY2gtJHtlfS10b3BpY19fYH1jb25zdCB5PW5ldyBNYXA7ZnVuY3Rpb24gdihlLHQpe3kuaGFzKGUpfHx5LnNldChlLG5ldyBTZXQpLHkuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBtKGUsdCl7Y29uc3Qgbj15LmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBTPW5ldyBNYXA7ZnVuY3Rpb24gQyhlLHQpe1MuaGFzKGUpfHxTLnNldChlLG5ldyBTZXQpLFMuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBQKGUsdCl7Y29uc3Qgbj1TLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBSPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gYihlLHQpe1IuaGFzKGUpfHxSLnNldChlLG5ldyBNYXApLFIuZ2V0KGUpLnNldCh0LmlkLHQpO2NvbnN0IG49eS5nZXQoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9Wy4uLm5dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwocil9YXN5bmMgZnVuY3Rpb24gTChlLHQpe2NvbnN0IG49Ui5nZXQoZSk7aWYoIW4pcmV0dXJuO24uZGVsZXRlKHQpO2NvbnN0IHI9Uy5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IG89Wy4uLnJdLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwobyl9ZnVuY3Rpb24gVChlKXtyZXR1cm4gUi5nZXQoZSk/Wy4uLlIuZ2V0KGUpLnZhbHVlcygpXTpbXX1mdW5jdGlvbiBJKGUpe2NvbnN0IHQ9Ui5nZXQoZSk7dCYmdC5jbGVhcigpfWZ1bmN0aW9uIE0oZSx0KXtjb25zdCBuPVIuZ2V0KGUpO3JldHVybiBuP24uZ2V0KHQpOm51bGx9ZnVuY3Rpb24gayhlLHQsbil7cmV0dXJuey4uLmUsYWN0aW9uOm58fGUuYWN0aW9uc1swXSxkaXNwYXRjaGVySWRlbnRpdHk6dH19ZnVuY3Rpb24gQihlLHQsbj1cImFzY2VuZGluZ1wiKXtjb25zdCByPWV8fFtdO2lmKCF0Py5sZW5ndGgpcmV0dXJuIHI7Y29uc3Qgbz1bXSxpPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIGkuc2V0KGUua2V5LGUpO28ucHVzaChlKX0pKTtsZXQgcz1yLm1hcCgoZT0+e2NvbnN0e2tleTp0fT1lO2lmKHQmJmkuaGFzKHQpKXtjb25zdCBlPWkuZ2V0KHQpO3JldHVybiBpLmRlbGV0ZSh0KSxlfXJldHVybiBlfSkpO3JldHVybiBzLnB1c2goLi4uaS52YWx1ZXMoKSwuLi5vKSxzPVwiYXNjZW5kaW5nXCI9PT1uP3Muc29ydCgoKGUsdCk9PihudWxsIT09ZS5zY29yZSYmdm9pZCAwIT09ZS5zY29yZT9lLnNjb3JlOjEvMCktKG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKSkpOnMuc29ydCgoKGUsdCk9PihudWxsIT09dC5zY29yZSYmdm9pZCAwIT09dC5zY29yZT90LnNjb3JlOjEvMCktKG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKSkpLHN9ZnVuY3Rpb24gTyhlKXtjb25zdCB0PXt9O2xldCBuPVtdO2xldCByPVtdO2xldCBvPWMuSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+byx0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+bix0LnNldFJlc3VsdEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9PnIsdC5zZXRSZXZva2VkQnVmZmVyPWU9PntyPWUscj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQub25DaGFuZ2U9Zztjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntvIT09Yy5DbG9zZSYmKG89Yy5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntvIT09Yy5PcGVuJiYobz1jLk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPW49Pntjb25zdCByPUIodC5nZXRSZXN1bHRCdWZmZXIoKSxuLGUpO3Quc2V0UmVzdWx0QnVmZmVyKHIpfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBuPW5ldyBTZXQoZSkscj10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1uLmhhcyhlKTtyZXR1cm4gdCYmbi5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIociksbi5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+bi5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLm5dKSl9LHR9ZnVuY3Rpb24gVyhlLHQsbil7Y29uc3Qgcj1uZXcgU2V0O2xldCBvPSExO3JldHVybntjbG9zZTooKT0+e289ITA7Zm9yKGNvbnN0IGUgb2YgcillKCl9LHJlcTp7aWQ6dCx0b3BpYzplLC4uLm4sY29udGV4dDpuPy5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PntyLmFkZChlKSxvJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PntyLmRlbGV0ZShlKX19fX1mdW5jdGlvbiBEKCl7cmV0dXJue25hbWU6ZmluLm1lLm5hbWUsdXVpZDpmaW4ubWUudXVpZH19ZnVuY3Rpb24geCgpe2xldCBlO3RyeXtjb25zdCB0PWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKCF0Py5pZGVudGl0eSlyZXR1cm47ZT10LmlkZW50aXR5LnV1aWR9Y2F0Y2goZSl7fXJldHVybiBlfWNvbnN0IEE9XCJkZXJlZ2lzdGVyZWQgb3IgZG9lcyBub3QgZXhpc3RcIixFPW5ldyBFcnJvcihgcHJvdmlkZXIgJHtBfWApLEY9bmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpLF89bmV3IEVycm9yKFwiYmFkIHBheWxvYWRcIiksJD1uZXcgRXJyb3IoXCJzdWJzY3JpcHRpb24gcmVqZWN0ZWRcIikscT1uZXcgRXJyb3IoYGNoYW5uZWwgJHtBfWApLEc9bmV3IE1hcDtmdW5jdGlvbiBOKGUpe2NvbnN0IHQ9SChlKTtpZih0KXJldHVybiB0O3Rocm93IHF9ZnVuY3Rpb24gSChlKXtjb25zdCB0PUcuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9ZnVuY3Rpb24gVShlLHQpe0cuc2V0KGUsdCl9Y29uc3QgVj1uZXcgTWFwO2Z1bmN0aW9uIEsoZSl7Vi5oYXMoZSl8fFYuc2V0KGUsbmV3IE1hcCk7Y29uc3QgdD1WLmdldChlKTtyZXR1cm57Z2V0UmVxdWVzdHNGb3JJZGVudGl0eTplPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtyZXR1cm5gJHtlLnV1aWR9OiR7ZS5uYW1lfWB9KGUpO3JldHVybiB0LmhhcyhuKXx8dC5zZXQobixuZXcgTWFwKSx0LmdldChuKX19fWFzeW5jIGZ1bmN0aW9uIFgoZSx0KXtyZXR1cm4oYXdhaXQgTihlKSkuZGlzcGF0Y2goZix0KX1mdW5jdGlvbiBqKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSl7Y29uc3Qgbj1NLmJpbmQobnVsbCxlKSxyPUsoZSksbz1YLmJpbmQobnVsbCxlKTtyZXR1cm4gYXN5bmMoZSxpKT0+e2lmKCFlfHwhZS5pZHx8IWUucHJvdmlkZXJJZCl7Y29uc3QgZT1fO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0e2lkOnMscHJvdmlkZXJJZDphfT1lLGM9bihhKTtpZighYyl7Y29uc3QgZT1FO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0IGQ9ci5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KGkpO2xldCB1PWQuZ2V0KGUuaWQpO3V8fCh1PVcodCxzLGUpLGQuc2V0KGUuaWQsdSkpO2NvbnN0IGY9TygpLGw9KCk9Pntjb25zdCBlPWYuZ2V0UmVzdWx0QnVmZmVyKCk7Zi5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IHQ9Zi5nZXRSZXZva2VkQnVmZmVyKCk7Zi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCBuPWYuZ2V0U3RhdHVzKCk7byh7aWQ6cyxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6dCxzdGF0dXM6bn0pfTtsZXQgcD0hMCxnPSExO2Yub25DaGFuZ2U9KCk9PntpZihwKXJldHVybiBwPSExLHZvaWQgbCgpO2d8fChnPSEwLHNldFRpbWVvdXQoKCgpPT57Zz0hMSxsKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0OnR9PWF3YWl0IGMub25Vc2VySW5wdXQodS5yZXEsZi5yZXMpLG49Zi5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsc3RhdHVzOm4scmVzdWx0czplLGNvbnRleHQ6dH19Y2F0Y2goZSl7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLGVycm9yOmUubWVzc2FnZX19fX1hc3luYyBmdW5jdGlvbiBKKGUsdCxuKXtjb25zdCByPW58fGF3YWl0IE4oZSksbz1EKCksaT17aWRlbnRpdHk6bywuLi50LG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH07YXdhaXQgci5kaXNwYXRjaChcIjJcIixpKSxhd2FpdCBiKGUse2lkZW50aXR5Om8sLi4udH0pfWFzeW5jIGZ1bmN0aW9uIFooZSx0KXtjb25zdCBuPWF3YWl0IE4oZSk7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goXCIzXCIsdCksTChlLHQpfWFzeW5jIGZ1bmN0aW9uIHooZSx0LG4scil7Y29uc3Qgbz1rKG4sRCgpLHIpLGk9TShlLHQpO2lmKGkpe2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6ZX09aTtpZighZSlyZXR1cm47cmV0dXJuIGUobyl9Y29uc3Qgcz17cHJvdmlkZXJJZDp0LHJlc3VsdDpvfTtyZXR1cm4oYXdhaXQgTihlKSkuZGlzcGF0Y2gobCxzKX1hc3luYyBmdW5jdGlvbiBRKGUsdCl7Y29uc3Qgbj17Li4udCxjb250ZXh0OnQ/LmNvbnRleHR8fHt9fSxyPXt9LG89YXN5bmMgZnVuY3Rpb24qKGUsdCx7c2V0U3RhdGU6bn0pe2NvbnN0IHI9YXdhaXQgTihlKTtmb3IoOzspe2NvbnN0IGU9YXdhaXQgci5kaXNwYXRjaChcIjFcIix0KSxvPWUuZXJyb3I7aWYobyl0aHJvdyBuZXcgRXJyb3Iobyk7Y29uc3QgaT1lO2lmKHQuaWQ9aS5pZCxuKGkuc3RhdGUpLGkuZG9uZSlyZXR1cm4gaS52YWx1ZTt5aWVsZCBpLnZhbHVlfX0oZSxuLHtzZXRTdGF0ZTplPT57ci5zdGF0ZT1lfX0pO2xldCBpPWF3YWl0IG8ubmV4dCgpO3JldHVybiByLmlkPW4uaWQsci5jbG9zZT0oKT0+eyFhc3luYyBmdW5jdGlvbihlLHQpeyhhd2FpdCBOKGUpKS5kaXNwYXRjaChwLHtpZDp0fSl9KGUsci5pZCl9LHIubmV4dD0oKT0+e2lmKGkpe2NvbnN0IGU9aTtyZXR1cm4gaT12b2lkIDAsZX1yZXR1cm4gby5uZXh0KCl9LHJ9YXN5bmMgZnVuY3Rpb24gWShlKXtyZXR1cm4oYXdhaXQgTihlKSkuZGlzcGF0Y2goXCI0XCIsbnVsbCl9YXN5bmMgZnVuY3Rpb24gZWUoZSl7Y29uc3QgdD1hd2FpdCBOKGUpO3ZhciBuO249ZSxHLmRlbGV0ZShuKSxJKGUpLGF3YWl0IHQuZGlzY29ubmVjdCgpfWZ1bmN0aW9uIHRlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49Syh0KTtyZXR1cm4gYXN5bmMgcj0+e2lmKCFIKHQpKXJldHVybjtjb25zdCBvPW4uZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShyKTtmb3IoY29uc3R7cmVxOmUsY2xvc2U6dH1vZiBvLnZhbHVlcygpKXQoKSxvLmRlbGV0ZShlLmlkKTtVKHQsKGFzeW5jIGU9Pntjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWF3YWl0IG5lKGUpO2Zvcihjb25zdCBlIG9mIFQodCkpYXdhaXQgSih0LGUsbik7cmV0dXJuIG59KShlKSl9fWFzeW5jIGZ1bmN0aW9uIG5lKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49aCh0KSxyPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8NTA7dCsrKXRyeXtyZXR1cm4gYXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUse3dhaXQ6ITF9KX1jYXRjaChlKXtpZig0OT09PXQpdGhyb3cgZTthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLDFlMykpKX19KG4pO3JldHVybiByLnJlZ2lzdGVyKGYsaihlKSksci5yZWdpc3RlcihwLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9SyhlKTtyZXR1cm4oZSxuKT0+e2NvbnN0IHI9dC5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG4pLG89ci5nZXQoZS5pZCk7byYmKG8uY2xvc2UoKSxyLmRlbGV0ZShlLmlkKSl9fSh0KSksci5yZWdpc3RlcihsLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LnByb3ZpZGVySWR8fCF0LnJlc3VsdClyZXR1cm47Y29uc3Qgcj1NKGUsdC5wcm92aWRlcklkKTtpZighcilyZXR1cm47Y29uc3R7b25SZXN1bHREaXNwYXRjaDpvfT1yO3JldHVybiBvPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixvKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLHIub25EaXNjb25uZWN0aW9uKHRlKGUpKSxyfWFzeW5jIGZ1bmN0aW9uIHJlKGUpe2NvbnN0IHQ9KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT8udG9waWMpfHx1LG49KFwic3RyaW5nXCI9PXR5cGVvZiBlP251bGw6ZT8udXVpZCl8fHgoKSxyPXcobix0KSxvPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpyfTtsZXQgaT1IKHIpO3JldHVybiBpfHwoaT1uZShvKSxVKHIsaSksYXdhaXQgaSkse2dldEFsbFByb3ZpZGVyczpZLmJpbmQobnVsbCxyKSxyZWdpc3RlcjpKLmJpbmQobnVsbCxyKSxzZWFyY2g6US5iaW5kKG51bGwsciksZGVyZWdpc3RlcjpaLmJpbmQobnVsbCxyKSxkaXNwYXRjaDp6LmJpbmQobnVsbCxyKSxkaXNjb25uZWN0OmVlLmJpbmQobnVsbCxyKX19Y29uc3Qgb2U9bmV3IE1hcDtmdW5jdGlvbiBpZShlKXtjb25zdCB0PXNlKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgcX1mdW5jdGlvbiBzZShlKXtjb25zdCB0PW9lLmdldChlKTtpZih0KXJldHVybiB0fWNvbnN0IGFlPW5ldyBNYXA7ZnVuY3Rpb24gY2UoZSx0KXthZS5oYXMoZSl8fGFlLnNldChlLG5ldyBTZXQpLGFlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gZGUoZSx0KXtjb25zdCBuPWFlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX12YXIgdWU9big1MzE2KTtmdW5jdGlvbiBmZShlKXtyZXR1cm5bLi4uVChlKV0ubWFwKChlPT4oey4uLmUsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfSkpKX1hc3luYyBmdW5jdGlvbiBsZShlLHQpe2lmKE0oZSx0LmlkKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIik7Y29uc3Qgbj1EKCk7YXdhaXQgYihlLHtpZGVudGl0eTpuLC4uLnR9KX1mdW5jdGlvbiBwZShlLHQpe0woZSx0KX1hc3luYyBmdW5jdGlvbiBnZShlLHQsbixyKXtjb25zdCBvPU0oZSx0KTtpZighbyl0aHJvdyBFO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6aX09bztpZighaSlyZXR1cm47cmV0dXJuIGkoayhuLEQoKSxyKSl9YXN5bmMgZnVuY3Rpb24qd2UoZSx0LG4pe2NvbnN0IHI9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdLHI9W10sbz1bXSxpPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9TyhzLnNjb3JlT3JkZXIpLGE9e3Jlc3VsdHM6W10scHJvdmlkZXI6e2lkOnMuaWQsaWRlbnRpdHk6cy5pZGVudGl0eSx0aXRsZTpzLnRpdGxlLHNjb3JlT3JkZXI6cy5zY29yZU9yZGVyLGljb246cy5pY29ufX07bi5wdXNoKGEpLHIucHVzaChlKTtjb25zdCBjPShhc3luYygpPT57dHJ5e2NvbnN0e3Jlc3VsdHM6bixjb250ZXh0OnJ9PWF3YWl0IHMub25Vc2VySW5wdXQodCxlLnJlcyk7YS5yZXN1bHRzPUIoYS5yZXN1bHRzLG4pLGEuY29udGV4dD17Li4uYS5jb250ZXh0LC4uLnJ9fWNhdGNoKGUpe2EuZXJyb3I9ZX1jLmRvbmU9ITB9KSgpO2kucHVzaChjKSxvLnB1c2goby5sZW5ndGgpfXJldHVybntwcm92aWRlclJlc3BvbnNlczpuLGxpc3RlbmVyUmVzcG9uc2VzOnIsb3Blbkxpc3RlbmVyUmVzcG9uc2VzOm8saW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6aX19KHQudGFyZ2V0cz90LnRhcmdldHMubWFwKCh0PT5NKGUsdCkpKS5maWx0ZXIoKGU9PiEhZSkpOlsuLi5UKGUpLmZpbHRlcigoZT0+IWUuaGlkZGVuKSldLHQpLHtwcm92aWRlclJlc3BvbnNlczpvLGxpc3RlbmVyUmVzcG9uc2VzOml9PXI7bGV0e29wZW5MaXN0ZW5lclJlc3BvbnNlczpzLGluaXRpYWxSZXNwb25zZVByb21pc2VzOmF9PXIsZD11ZS5ELkZldGNoaW5nO2NvbnN0IHU9ZT0+e2Q9ZSxuLnNldFN0YXRlKGQpfTtsZXQgZixsPSExO3Qub25DbG9zZSgoKCk9PntsPSEwLGYmJmYoKX0pKTtkb3tsZXQgZT0hMTtpZihhLmxlbmd0aCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBhKW4uZG9uZT9lPSEwOnQucHVzaChuKTthPXQsYS5sZW5ndGh8fCh1KHVlLkQuRmV0Y2hlZCksZT0hMCl9bGV0IHQsbj0hMTtjb25zdCByPSgpPT57bj0hMCx0JiZ0KCl9LHA9W107Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1pW3RdLHM9b1t0XSxhPW4uZ2V0U3RhdHVzKCk7KGE9PT1jLk9wZW58fGQ9PT11ZS5ELkZldGNoaW5nJiZhPT09Yy5Jbml0aWFsKSYmKHAucHVzaCh0KSxuLm9uQ2hhbmdlPXIpO2NvbnN0IHU9bi5nZXRSZXN1bHRCdWZmZXIoKTt1Lmxlbmd0aCYmKG4uc2V0UmVzdWx0QnVmZmVyKFtdKSxzLnJlc3VsdHM9QihzLnJlc3VsdHMsdSksZT0hMCk7Y29uc3QgZj1uLmdldFJldm9rZWRCdWZmZXIoKTtpZihmLmxlbmd0aCl7bi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCB0PW5ldyBTZXQoZik7cy5yZXN1bHRzPXMucmVzdWx0cy5maWx0ZXIoKCh7a2V5OmV9KT0+IXQuaGFzKGUpKSksZT0hMH19aWYocz1wLGUmJih5aWVsZCBvKSxsKWJyZWFrO258fChzLmxlbmd0aHx8YS5sZW5ndGgpJiZhd2FpdCBQcm9taXNlLnJhY2UoWy4uLmEsbmV3IFByb21pc2UoKGU9Pnt0PWV9KSksbmV3IFByb21pc2UoKGU9PntmPWV9KSldKX13aGlsZShzLmxlbmd0aHx8YS5sZW5ndGgpO3JldHVybiB1KHVlLkQuQ29tcGxldGUpLG99bGV0IGhlPTA7ZnVuY3Rpb24geWUoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9LG4pe2hlKz0xO2NvbnN0IHI9Vyh0LGhlLnRvU3RyaW5nKCksbiksbz13ZShlLHIucmVxLHtzZXRTdGF0ZTplPT57by5zdGF0ZT1lfX0pO3JldHVybiBvLmlkPWhlLnRvU3RyaW5nKCksby5jbG9zZT1yLmNsb3NlLG8uc3RhdGU9dWUuRC5GZXRjaGluZyxvfWNvbnN0IHZlPW5ldyBNYXA7ZnVuY3Rpb24gbWUoZSx0KXtyZXR1cm5gJHtlfToke3R9YH1mdW5jdGlvbiBTZShlKXtyZXR1cm4gYXN5bmModCwuLi5uKT0+e2lmKCF0KXJldHVybntlcnJvcjpfLm1lc3NhZ2V9O2xldCByO2lmKHQuaWQpcj1tZShlLm5hbWVzcGFjZWRUb3BpYyx0LmlkKTtlbHNle2NvbnN0IG49eWUoZSx0KTtyPW1lKGUubmFtZXNwYWNlZFRvcGljLG4uaWQpLHQuaWQ9bi5pZCx2ZS5zZXQocix7Z2VuZXJhdG9yOm59KX1jb25zdCBvPXZlLmdldChyKTtjbGVhclRpbWVvdXQoby50aW1lb3V0KTtjb25zdCBpPWF3YWl0IG8uZ2VuZXJhdG9yLm5leHQoKTtyZXR1cm4gby50aW1lb3V0PWZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt2ZS5kZWxldGUoZSl9KSwxZTQpfShyKSx7Li4uaSxpZDp0LmlkLHN0YXRlOm8uZ2VuZXJhdG9yLnN0YXRlfX19ZnVuY3Rpb24gQ2UoZSx0LG4pe3JldHVybiBpZShlKS5kaXNwYXRjaCh0LHAse2lkOm59KX1mdW5jdGlvbiBQZShlKXtyZXR1cm4gdD0+ZnVuY3Rpb24oZSx0KXtjb25zdCBuPW1lKGUsdCkscj12ZS5nZXQobik7ciYmci5nZW5lcmF0b3IuY2xvc2UoKX0oZSx0LmlkKX1hc3luYyBmdW5jdGlvbiBSZShlLHQse2lkOm4scXVlcnk6cixjb250ZXh0Om8sdGFyZ2V0czppfSl7Y29uc3Qgcz1pZShlKSxhPXtpZDpuLHF1ZXJ5OnIsY29udGV4dDpvLHRhcmdldHM6aSxwcm92aWRlcklkOnQuaWR9LGM9YXdhaXQgcy5kaXNwYXRjaCh0LmlkZW50aXR5LGYsYSksZD1jLmVycm9yO2lmKGQpdGhyb3cgbmV3IEVycm9yKGQpO3JldHVybiBjfWNvbnN0IGJlPW5ldyBNYXA7ZnVuY3Rpb24gTGUoZSx0LG4pe3JldHVybmAke2V9OiR7dC5uYW1lfToke3QudXVpZH06JHtufWB9Y29uc3QgVGU9bmV3IE1hcDtmdW5jdGlvbiBJZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0fToke259YH1mdW5jdGlvbiBNZShlLHQpe2NvbnN0IG49TGUuYmluZChudWxsLGUsdC5pZGVudGl0eSkscj1DZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxvPVJlLmJpbmQobnVsbCxlLHQpO3JldHVybiBhc3luYyhpLHMpPT57Y29uc3QgYT1uKGkuaWQpO2lmKCFiZS5oYXMoYSkpe2NvbnN0IGU9KCk9PntyKGkuaWQpLGJlLmRlbGV0ZShhKX07YmUuc2V0KGEsZSksaS5vbkNsb3NlKGUpfWNvbnN0IGQ9SWUoZSx0LmlkLGkuaWQpLHU9KCk9PntUZS5kZWxldGUoZCkscy5jbG9zZSgpfTtpLm9uQ2xvc2UodSksVGUuc2V0KGQsKGU9PntlLnJlc3VsdHM/Lmxlbmd0aCYmcy5yZXNwb25kKGUucmVzdWx0cyksZS5yZXZva2VkPy5sZW5ndGgmJnMucmV2b2tlKC4uLmUucmV2b2tlZCksZS5zdGF0dXM9PT1jLk9wZW4mJnMub3BlbigpLGUuc3RhdHVzPT09Yy5DbG9zZSYmdSgpfSkpO2NvbnN0IGY9YXdhaXQgbyhpKTtyZXR1cm4gZi5zdGF0dXM9PT1jLk9wZW4mJnMub3BlbigpLGYuc3RhdHVzIT09Yy5DbG9zZSYmZi5zdGF0dXMhPT1jLkluaXRpYWx8fHUoKSxmfX1mdW5jdGlvbiBrZShlLHQpe3JldHVybiBhc3luYyBuPT57Y29uc3Qgcj1pZShlKSxvPXtwcm92aWRlcklkOnQuaWQscmVzdWx0Om59O3JldHVybiByLmRpc3BhdGNoKHQuaWRlbnRpdHksbCxvKX19Y29uc3QgQmU9bmV3IE1hcDtmdW5jdGlvbiBPZShlLHQpe3JldHVybmAke2V9LSR7dC5uYW1lfS0ke3QudXVpZH1gfWZ1bmN0aW9uIFdlKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LmlkKXJldHVybiB2b2lkIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh0KSk7aWYoTShlLHQuaWQpKXRocm93IEY7dC5pZGVudGl0eT1uLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1PZShlLHQuaWRlbnRpdHkpO0JlLmhhcyhuKXx8QmUuc2V0KG4sW10pLEJlLmdldChuKS5wdXNoKHQuaWQpLGF3YWl0IGIoZSx7Li4udCxvblVzZXJJbnB1dDpNZShlLHQpLG9uUmVzdWx0RGlzcGF0Y2g6a2UoZSx0KX0pfShlLHQpfX1mdW5jdGlvbiBEZShlKXtyZXR1cm4gdD0+e3QmJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1NKGUsdCk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9T2UoZSxuLmlkZW50aXR5KSxvPUJlLmdldChyKTtpZihvKXtjb25zdCBuPW8uZmluZEluZGV4KChlPT5lPT09dCkpOy0xIT09biYmKG8uc3BsaWNlKG4sMSksTChlLHQpKX19KGUsdCl9fWNvbnN0IHhlPW5ldyBNYXA7ZnVuY3Rpb24gQWUoZSx0KXt4ZS5oYXMoZSl8fHhlLnNldChlLG5ldyBTZXQpLHhlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gRWUoZSx0KXtjb25zdCBuPXhlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1mdW5jdGlvbiBGZShlKXtyZXR1cm4gYXN5bmMgdD0+eyFmdW5jdGlvbihlLHQpe2NvbnN0IG49T2UoZSx0KSxyPUJlLmdldChuKTtpZihyKXtmb3IoY29uc3QgdCBvZiByKUwoZSx0KTtCZS5kZWxldGUobil9fShlLHQpO2NvbnN0IG49eGUuZ2V0KGUpO24mJm4uZm9yRWFjaCgoZT0+ZSh0KSkpfX1hc3luYyBmdW5jdGlvbiBfZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPWgoZS5uYW1lc3BhY2VkVG9waWMpLHI9YXdhaXQobz1uLGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKG8pKTt2YXIgbztyZXR1cm4gci5vbkNvbm5lY3Rpb24oZnVuY3Rpb24oe25hbWVzcGFjZWRUb3BpYzplfSl7cmV0dXJuIGFzeW5jIHQ9Pntjb25zdCBuPWFlLmdldChlKTtpZihuKWZvcihjb25zdCBlIG9mIG4paWYoIWF3YWl0IGUodCkpdGhyb3cgJH19KGUpKSxyLm9uRGlzY29ubmVjdGlvbihGZSh0KSksci5yZWdpc3RlcihwLFBlKHQpKSxyLnJlZ2lzdGVyKGYsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9Pntjb25zdCBuPUllKGUsdC5wcm92aWRlcklkLHQuaWQpLHI9VGUuZ2V0KG4pO3ImJnIodCl9fSh0KSksci5yZWdpc3RlcihcIjJcIixXZSh0KSksci5yZWdpc3RlcihcIjNcIixEZSh0KSksci5yZWdpc3RlcihcIjRcIixmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmMoKT0+ZmUoZSl9KHQpKSxyLnJlZ2lzdGVyKFwiMVwiLFNlKGUpKSxyLnJlZ2lzdGVyKGwsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCByPU0oZSx0LnByb3ZpZGVySWQpO2lmKCFyKXRocm93IEU7Y29uc3R7b25SZXN1bHREaXNwYXRjaDpvfT1yO3JldHVybiBvPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixvKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLHJ9YXN5bmMgZnVuY3Rpb24gJGUoZSl7Y29uc3QgdD1pZShlKTt2YXIgbjtuPWUsb2UuZGVsZXRlKG4pLGF3YWl0IHQuZGVzdHJveSgpLEkoZSl9YXN5bmMgZnVuY3Rpb24gcWUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fHUsbj14KCkscj13KG4sdCksbz17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6cn07bGV0IGk9c2Uocik7aXx8KGk9YXdhaXQgX2UobyksZnVuY3Rpb24oZSx0KXtvZS5zZXQoZSx0KX0ocixpKSk7Y29uc3Qgcz1kZS5iaW5kKG51bGwsciksYT1FZS5iaW5kKG51bGwsciksYz1tLmJpbmQobnVsbCxyKSxkPVAuYmluZChudWxsLHIpO3JldHVybntnZXRBbGxQcm92aWRlcnM6ZmUuYmluZChudWxsLHIpLHNlYXJjaDp5ZS5iaW5kKG51bGwsbykscmVnaXN0ZXI6bGUuYmluZChudWxsLHIpLGRlcmVnaXN0ZXI6cGUuYmluZChudWxsLHIpLG9uU3Vic2NyaXB0aW9uOmNlLmJpbmQobnVsbCxyKSxvbkRpc2Nvbm5lY3Q6QWUuYmluZChudWxsLHIpLG9uUmVnaXN0ZXI6di5iaW5kKG51bGwsciksb25EZXJlZ2lzdGVyOkMuYmluZChudWxsLHIpLGRpc3BhdGNoOmdlLmJpbmQobnVsbCxvKSxkaXNjb25uZWN0OiRlLmJpbmQobnVsbCxyKSxyZW1vdmVMaXN0ZW5lcjplPT57cyhlKSxhKGUpLGMoZSksZChlKX19fWNvbnN0e2NyZWF0ZTpHZX09byx7c3Vic2NyaWJlOk5lfT1yLEhlPXtjcmVhdGU6R2Usc3Vic2NyaWJlOk5lLGRlZmF1bHRUb3BpYzpcImFsbFwifSxVZT0oKT0+e2NvbnN0IGU9d2luZG93O2Uuc2VhcmNoPUhlLGUuZmluJiYoZS5maW4uU2VhcmNoPUhlKX0sVmU9ZT0+e2NvbnN0IHQ9KCk9PntVZSgpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl9O3JldHVybiB0fTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXtVZSgpO2NvbnN0IGU9XCJsb2FkXCIsdD1WZShlKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihlLHQpO2NvbnN0IG49XCJET01Db250ZW50TG9hZGVkXCIscj1WZShuKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihuLHIpfWNvbnN0IEtlPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gWGUoKXthd2FpdCBhc3luYyBmdW5jdGlvbihlKXtLZS5zZXQoZSxhd2FpdCBOZSh7dG9waWM6ZSx1dWlkOmQucTkuV29ya3NwYWNlfSkpfShzKX1sZXQgamU7YXN5bmMgZnVuY3Rpb24gSmUoZSl7cmV0dXJuIGF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuIGplfHwoamU9WGUoKSksamV9KCksS2UuZ2V0KGUpfXZhciBaZT1uKDM3NTgpO2NvbnN0IHplPWFzeW5jIGU9PntpZighZS5pY29uKXRocm93IG5ldyBFcnJvcihgJHtlLmlkfSBwcm92aWRlciBuZWVkcyB0byBoYXZlIGljb24gcHJvcGVydHkgZGVmaW5lZC5gKTthd2FpdCgwLGkuYUIpKCk7cmV0dXJuKGF3YWl0IEplKHMpKS5yZWdpc3RlcihlKX0sUWU9YXN5bmMgZT0+e2F3YWl0KDAsaS5hQikoKTtyZXR1cm4oYXdhaXQgSmUocykpLmRlcmVnaXN0ZXIoZSl9O2FzeW5jIGZ1bmN0aW9uIFllKCl7cmV0dXJuKGF3YWl0KDAsaS5YbCkoKSkuZGlzcGF0Y2goaS5NbC5TaG93SG9tZSx2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIGV0KCl7cmV0dXJuKGF3YWl0KDAsaS5YbCkoKSkuZGlzcGF0Y2goaS5NbC5IaWRlSG9tZSx2b2lkIDApfX0sMzI5ODooZSx0LG4pPT57bi5kKHQse3c6KCk9PnIud30pO3ZhciByPW4oNTMxNil9LDM3NTg6KGUsdCxuKT0+e3ZhciByLG8saTtuLmQodCx7UHQ6KCk9PnIseVc6KCk9Pm8sZWw6KCk9Pml9KSxmdW5jdGlvbihlKXtlLlN1Z2dlc3Rpb249XCJzdWdnZXN0aW9uXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5Db250YWN0PVwiQ29udGFjdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCIsZS5MaXN0PVwiTGlzdFwiLGUuUGxhaW49XCJQbGFpblwiLGUuU2ltcGxlVGV4dD1cIlNpbXBsZVRleHRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sNzU2NDooZSx0LG4pPT57bigzMjk4KSxuKDM3NTgpLG4oNjExNCksbigyMTA5KX0sNjExNDooZSx0LG4pPT57dmFyIHIsbztuLmQodCx7TDooKT0+cixUOigpPT5vfSksZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0ob3x8KG89e30pKX0sMjEwOTooZSx0LG4pPT57bi5kKHQse3A2OigpPT5yLEdvOigpPT5vLGJJOigpPT5pLFpKOigpPT5zfSk7Y29uc3Qgcj17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCJ9LG89e1RleHQ6XCJUZXh0XCIsSW1hZ2U6XCJJbWFnZVwiLExpc3Q6XCJMaXN0XCJ9LGk9ey4uLnIsLi4ub307dmFyIHM7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShzfHwocz17fSkpfSwzMTc6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7QXBwTWFuaWZlc3RUeXBlOigpPT5vLkwsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5vLlQsZGVyZWdpc3RlcjooKT0+dSxoaWRlOigpPT5mLHJlZ2lzdGVyOigpPT5kLHNob3c6KCk9Pmx9KTt2YXIgcj1uKDc0MDUpO24oNzU2NCk7dmFyIG89big2MTE0KTtsZXQgaTtjb25zdCBzPW5ldyBNYXAsYT1lPT57aWYoIXMuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcy5nZXQoZSl9LGM9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxyLlhsKSgpO2lmKHMuaGFzKGUuaWQpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBwcm92aWRlciB3aXRoIGlkICR7ZS5pZH0gYWxyZWFkeSByZWdpc3RlcmVkYCk7cmV0dXJuIHMuc2V0KGUuaWQsZSksKGU9PntlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcywoZT0+YShlKS5nZXRBcHBzKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyLChlPT5hKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlLChlPT5hKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbiwoZT0+YShlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKHIuTWwuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwLCgoe2lkOmUsYXBwOnR9KT0+YShlKS5sYXVuY2hBcHAodCkpKSl9KSh0KSx0LmRpc3BhdGNoKHIuTWwuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIsZSl9LGQ9ZT0+KGk9YyhlKSxpKSx1PWFzeW5jIGU9Pnthd2FpdCBpLHMuZGVsZXRlKGUpO3JldHVybihhd2FpdCgwLHIuWGwpKCkpLmRpc3BhdGNoKHIuTWwuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixlKX0sZj1hc3luYygpPT57YXdhaXQgaSxhd2FpdCgwLHIuYUIpKCksYXdhaXQoYXN5bmMoKT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5NbC5IaWRlU3RvcmVmcm9udCx2b2lkIDApKSgpfSxsPWFzeW5jKCk9Pnthd2FpdCBpLGF3YWl0KDAsci5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLk1sLlNob3dTdG9yZWZyb250LG51bGwpKSgpfX0sNzQwNTooZSx0LG4pPT57bi5kKHQse01sOigpPT5zLERtOigpPT5hLFhsOigpPT5mLGFCOigpPT51fSk7dmFyIHI9big2Njc4KTtjb25zdCBvPXIuQXgmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO3ZhciBpPW4oMTIxKTt2YXIgczshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlcnM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlcnNcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIixlLkNyZWF0ZVN0b3JlZnJvbnRXaW5kb3c9XCJjcmVhdGUtc3RvcmVmcm9udC13aW5kb3dcIixlLlNob3dIb21lPVwic2hvdy1ob21lXCIsZS5IaWRlSG9tZT1cImhpZGUtaG9tZVwiLGUuQXNzaWduSG9tZVNlYXJjaENvbnRleHQ9XCJhc3NpZ24taG9tZS1zZWFyY2gtY29udGV4dFwiLGUuR2V0TGVnYWN5UGFnZXM9XCJnZXQtbGVnYWN5LXBhZ2VzXCIsZS5HZXRMZWdhY3lXb3Jrc3BhY2VzPVwiZ2V0LWxlZ2FjeS13b3Jrc3BhY2VzXCIsZS5HZXRDb21wdXRlZFBsYXRmb3JtVGhlbWU9XCJnZXQtY29tcHV0ZWQtcGxhdGZvcm0tdGhlbWVcIn0oc3x8KHM9e30pKTtjb25zdCBhPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybigpPT57aWYoIXIuc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgbztjb25zdCBuPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlKTtyZXR1cm4gbi5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9Pnt0PXZvaWQgMH0pKSxufSkoKS50aGVuKChlPT5lKSkuY2F0Y2goKG49Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHtufWApfSkpKSx0fX0oXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLGM9XCJpc0xhdW5jaGVkVmlhTGliXCIsZD1lPT57Y29uc3QgdD1uZXcgVVJMKGUpO3JldHVybiB0LnNlYXJjaFBhcmFtcy5hcHBlbmQoYyxcInRydWVcIiksdC50b1N0cmluZygpfSx1PWFzeW5jKCk9PntpZighYXdhaXQoMCxpLkpWKShpLmlXKSlyZXR1cm4oci5aS3x8LTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJXaW5cIikpJiZhd2FpdCBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QoZChyLmFXKSksZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZChyLkdYKSl9LGY9YXN5bmMoKT0+KGF3YWl0IHUoKSxhKCkpfSw1ODA2OihlLHQsbik9PntuLmQodCx7cTk6KCk9PnJ9KTt2YXIgcixvLGkscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KGl8fChpPXt9KSk7cy5BQixzLkFCLHIuV29ya3NwYWNlLHIuV29ya3NwYWNlfSw2Njc4OihlLHQsbik9Pnt2YXIgcjtuLmQodCx7c1M6KCk9Pm8sQXg6KCk9PmksQUI6KCk9PmEsb0M6KCk9PmMsWks6KCk9PmQsR1g6KCk9PnUsYVc6KCk9PmZ9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KHJ8fChyPXt9KSk7Y29uc3Qgbz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdykscz1pP3dpbmRvdy5vcmlnaW46ci5Mb2NhbCxhPW8mJmZpbi5tZS51dWlkLGM9byYmZmluLm1lLm5hbWUsZD0obyYmZmluLm1lLmVudGl0eVR5cGUsXCJwcm9kXCI9PT1yLkxvY2FsKSx1PShyLkRldixyLlN0YWdpbmcsci5Qcm9kLFwiZmluczovL3N5c3RlbS1hcHBzL3dvcmtzcGFjZVwiKSxmPVwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNi4zLjYvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlO2woXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNlwiKSxsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvNi4zLjZcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZsKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpfSwxMjE6KGUsdCxuKT0+e24uZCh0LHtpVzooKT0+YyxKVjooKT0+ZH0pO3ZhciByLG8saT1uKDU4MDYpLHM9big2Njc4KTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VSZXF1ZXN0ZWQ9XCJjbG9zZS1yZXF1ZXN0ZWRcIixlLkZvY3VzZWQ9XCJmb2N1c2VkXCIsZS5TaG93UmVxdWVzdGVkPVwic2hvdy1yZXF1ZXN0ZWRcIixlLlZpZXdDcmFzaGVkPVwidmlldy1jcmFzaGVkXCIsZS5WaWV3QXR0YWNoZWQ9XCJ2aWV3LWF0dGFjaGVkXCIsZS5WaWV3RGV0YWNoZWQ9XCJ2aWV3LWRldGFjaGVkXCIsZS5WaWV3UGFnZVRpdGxlVXBkYXRlZD1cInZpZXctcGFnZS10aXRsZS11cGRhdGVkXCIsZS5WaWV3RGVzdHJveWVkPVwidmlldy1kZXN0cm95ZWRcIixlLk9wdGlvbnNDaGFuZ2VkPVwib3B0aW9ucy1jaGFuZ2VkXCJ9KG98fChvPXt9KSk7ZnVuY3Rpb24gYShlKXtpZighcy5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1zLm9DLHMuQUI7ci5Ib21lLGkucTkuV29ya3NwYWNlLHIuRG9jayxpLnE5LldvcmtzcGFjZSxyLlN0b3JlZnJvbnQsaS5xOS5Xb3Jrc3BhY2U7Y29uc3QgYz17bmFtZTppLnE5LldvcmtzcGFjZSx1dWlkOmkucTkuV29ya3NwYWNlfTtjb25zdCBkPWU9PmEoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKX0sNTMxNjooZSx0LG4pPT57dmFyIHIsbztuLmQodCx7RDooKT0+cix3OigpPT5vfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShvfHwobz17fSkpfX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KGUsdCk9Pntmb3IodmFyIHIgaW4gdCluLm8odCxyKSYmIW4ubyhlLHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtlbnVtZXJhYmxlOiEwLGdldDp0W3JdfSl9LG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgcj17fTsoKCk9PntuLnIociksbi5kKHIse0FwcE1hbmlmZXN0VHlwZTooKT0+cC5MLEJ1dHRvblN0eWxlOigpPT5mLlpKLENMSUFjdGlvbjooKT0+bC5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5sLmVsLENMSVRlbXBsYXRlOigpPT5sLnlXLENvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5wNixIb21lOigpPT5vLExlZ2FjeTooKT0+ZSxQcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmYuR28sU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+dS53LFN0b3JlZnJvbnQ6KCk9PmQsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5wLlQsVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5mLmJJfSk7dmFyIGU9e307bi5yKGUpLG4uZChlLHtnZXRQYWdlczooKT0+YSxnZXRXb3Jrc3BhY2VzOigpPT5jfSk7dmFyIHQsbz1uKDMxMzMpO24oNjY3OCksbigxMjEpOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0odHx8KHQ9e30pKTtuZXcgTWFwO3ZhciBpOyFmdW5jdGlvbihlKXtlLkxhc3RMYXVuY2hlZFdvcmtzcGFjZUlkPVwiYWN0aXZlV29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIn0oaXx8KGk9e30pKTt2YXIgcz1uKDc0MDUpO2NvbnN0IGE9KCk9PmFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5NbC5HZXRMZWdhY3lQYWdlcyx2b2lkIDApfSgpLGM9KCk9Pihhc3luYygpPT4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLk1sLkdldExlZ2FjeVdvcmtzcGFjZXMsdm9pZCAwKSkoKTt2YXIgZD1uKDMxNyksdT1uKDMyOTgpLGY9bigyMTA5KSxsPW4oMzc1OCkscD1uKDYxMTQpfSkoKSxtb2R1bGUuZXhwb3J0cz1yfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IEFwcCB9IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHBzKCk6IFByb21pc2U8QXBwW10+IHtcclxuICAgIHJldHVybiBbZXhwZXJvQXBwLCBub3RpZmljYXRpb25TdHVkaW8sIHByb2Nlc3NNYW5hZ2VyLCBkZXZlbG9wZXJDb250ZW50XTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGV4cGVyb0FwcDpBcHAgPSB7XHJcbiAgICBhcHBJZDogXCJleHBlcm8tY29tcGFueS1uZXdzXCIsXHJcbiAgICB0aXRsZTogXCJHYXRld2F5IC0gQ29tcGFueSBOZXdzXCIsXHJcbiAgICBtYW5pZmVzdDogXCJodHRwczovL29wZW5maW4taWV4LmV4cGVyb2xhYnMuY29tL29wZW5maW4vbWFuaWZlc3RzL2NvbXBhbnktbmV3cy5qc29uXCIsXHJcbiAgICBtYW5pZmVzdFR5cGU6IFwidmlld1wiLFxyXG4gICAgaWNvbnM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHNyYzogXCJodHRwczovL29wZW5maW4taWV4LmV4cGVyb2xhYnMuY29tL2Zhdmljb24uaWNvXCJcclxuICAgICAgfVxyXG4gICAgXSxcclxuICAgIGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxyXG4gICAgcHVibGlzaGVyOiBcIkV4cGVyb1wiLFxyXG4gICAgaW50ZW50czogW10sXHJcbiAgICBpbWFnZXM6IFt7XHJcbiAgICAgIHNyYzpcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9pbWFnZXMvcHJldmlld3MvZXhwZXJvLW5ld3Mtdmlldy5wbmdcIlxyXG4gICAgfV0sXHJcbiAgICB0YWdzOltcImV4cGVyb1wiLCBcInZpZXdcIiwgXCJpbnRlcm9wXCJdXHJcbiAgfTtcclxuXHJcbiAgZXhwb3J0IGNvbnN0IG5vdGlmaWNhdGlvblN0dWRpbzpBcHAgPSAge1xyXG4gICAgYXBwSWQ6IFwibm90aWZpY2F0aW9ucy1nZW5lcmF0b3JcIixcclxuICAgIHRpdGxlOiBcIk9wZW5GaW4gTm90aWZpY2F0aW9ucyBTdHVkaW9cIixcclxuICAgIG1hbmlmZXN0VHlwZTogXCJtYW5pZmVzdFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwiTm90aWZpY2F0aW9ucyBTdHVkaW86IFRoaXMgaXMgT3BlbkZpbidzIHRvb2wgZm9yIGRlbW9uc3RyYXRpbmcgdGhlIHBvd2VyIG9mIG91ciBOb3RpZmljYXRpb24gQ2VudGVyLiBVc2UgaXQgdG8gY3JlYXRlIGxvY2FsIG5vdGlmaWNhdGlvbnMgb3IgdXNlIHNvbWUgb2YgdGhlIGV4YW1wbGVzIHNob3duIGluIG91ciBDYXRhbG9nLiBFeHBlcmltZW50IHdpdGggb3VyIGZlYXR1cmVzIGFuZCBzZWUgdGhlIHBvd2VyIHRoYXQgT3BlbkZpbiBOb3RpZmljYXRpb24gQ2VudGVyIGNhbiBicmluZyB0byB5b3VyIGFwcGxpY2F0aW9ucy5cIixcclxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vc3R1ZGlvL25vdGlmaWNhdGlvbi9hcHAuanNvblwiLFxyXG4gICAgaWNvbnM6IFtcclxuICAgICAgeyBzcmM6IFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9kZW1vcy9ub3RpZmljYXRpb25zL2dlbmVyYXRvci9pbWFnZXMvaWNvbi1ibHVlLnBuZ1wifVxyXG4gICAgXSxcclxuICAgIGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxyXG4gICAgcHVibGlzaGVyOiBcIk9wZW5GaW5cIixcclxuICAgIGludGVudHM6IFtdLFxyXG4gICAgaW1hZ2VzOiBbe1xyXG4gICAgICBzcmM6XCJodHRwOi8vbG9jYWxob3N0OjgwODAvaW1hZ2VzL3ByZXZpZXdzL29wZW5maW4tbm90aWZpY2F0aW9uLXN0dWRpby5wbmdcIlxyXG4gICAgfV0sXHJcbiAgICB0YWdzOltcImhlcm9cIiwgXCJtYW5pZmVzdFwiLCBcInRvb2xzXCJdXHJcbiAgfTtcclxuXHJcbiAgZXhwb3J0IGNvbnN0IHByb2Nlc3NNYW5hZ2VyOkFwcCA9IHtcclxuICAgIGFwcElkOiBcIm9wZW5maW4tcHJvY2Vzcy1tYW5hZ2VyXCIsXHJcbiAgICB0aXRsZTogXCJPcGVuRmluIFByb2Nlc3MgTWFuYWdlclwiLFxyXG4gICAgbWFuaWZlc3RUeXBlOiBcIm1hbmlmZXN0XCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCJQcm9jZXNzIE1hbmFnZXI6IFRoaXMgaXMgT3BlbkZpbidzIHRvb2wgZm9yIGhlbHBpbmcgZGV2ZWxvcGVycyBidWlsZCBPcGVuRmluIEFwcGxpY2F0aW9ucy4gSXQgbGV0cyB5b3Ugc2VlIHRoZSBPcGVuRmluIGFwcGxpY2F0aW9ucyB0aGF0IGFyZSBydW5uaW5nLCB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGFwcGxpY2F0aW9ucyAobWVtb3J5IGFuZCBjcHUpIGFuZCBlYXN5IGFjY2VzcyB0byB0aGUgZGV2IHRvb2xzIGZvciB0aGUgV2luZG93cyBvZiB5b3VyIGFwcGxpY2F0aW9uLlwiLFxyXG4gICAgbWFuaWZlc3Q6IFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9wcm9jZXNzLW1hbmFnZXIvYXBwLmpzb25cIixcclxuICAgIGljb25zOiBbXHJcbiAgICAgIHsgc3JjOiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vcHJvY2Vzcy1tYW5hZ2VyL2ltZy9wcm9jLW1nci1pY29uLnBuZ1wiIH1cclxuICAgIF0sXHJcbiAgICBjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxyXG4gICAgc3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcclxuICAgIHB1Ymxpc2hlcjogXCJPcGVuRmluXCIsXHJcbiAgICBpbnRlbnRzOiBbXSxcclxuICAgIGltYWdlczogW3tcclxuICAgICAgc3JjOlwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcy9wcmV2aWV3cy9vcGVuZmluLXByb2Nlc3MtbWFuYWdlci5wbmdcIlxyXG4gICAgfV0sXHJcbiAgICB0YWdzOltcImhlcm9cIixcIm1hbmlmZXN0XCIsIFwidG9vbHNcIl1cclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgZGV2ZWxvcGVyQ29udGVudDogQXBwID0ge1xyXG4gICAgYXBwSWQ6IFwib3BlbmZpbi1kZXZlbG9wZXItcGFnZVwiLFxyXG4gICAgdGl0bGU6IFwiT3BlbkZpbiBEZXZlbG9wZXIgRG9jc1wiLFxyXG4gICAgbWFuaWZlc3RUeXBlOiBcInNuYXBzaG90XCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCJTaG93cyBhIGNvbGxlY3Rpb24gb2YgT3BlbkZpbiBkZXZlbG9wZXIgcGFnZXMgYW5kIHByb3ZpZGVzIGFuIGV4YW1wbGUgb2YgaG93IHlvdSBjYW4gcHJlc2VudCBhIHByZS1idWlsdCBwYWdlIGFzIGEgbGF1bmNoIHRhcmdldCBpbiBPcGVuRmluIEhvbWUuIFRoaXMgZW50cnkgaGFzIGEgbWFuaWZlc3QgdHlwZSBvZiAnc25hcHNob3QnLlwiLFxyXG4gICAgbWFuaWZlc3Q6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3NuYXBzaG90Lmpzb25cIixcclxuICAgIGljb25zOiBbXHJcbiAgICAgIHsgc3JjOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9pbWFnZXMvaWNvbi1ibHVlLnBuZ1wiIH1cclxuICAgIF0sXHJcbiAgICBjb250YWN0RW1haWw6IFwiY29udGFjdEBleGFtcGxlLmNvbVwiLFxyXG4gICAgc3VwcG9ydEVtYWlsOiBcInN1cHBvcnRAZXhhbXBsZS5jb21cIixcclxuICAgIHB1Ymxpc2hlcjogXCJPcGVuRmluXCIsXHJcbiAgICBpbnRlbnRzOiBbXSxcclxuICAgIGltYWdlczogW3tcclxuICAgICAgc3JjOlwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcy9wcmV2aWV3cy9vcGVuZmluLXBhZ2UtZG9jcy5wbmdcIlxyXG4gICAgfV0sXHJcbiAgICB0YWdzOltcInBhZ2VcIl1cclxuICB9OyIsImltcG9ydCB7IGdldEN1cnJlbnRTeW5jIH0gZnJvbSAnQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtJztcclxuaW1wb3J0IHsgSG9tZSwgQ0xJUHJvdmlkZXIsIENMSVNlYXJjaExpc3RlbmVyUmVxdWVzdCwgQ0xJVGVtcGxhdGUsIENMSVNlYXJjaFJlc3VsdCwgQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSwgQ0xJU2VhcmNoUmVzcG9uc2UsIENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQgIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xyXG5pbXBvcnQgeyBnZXRBcHBzIH0gZnJvbSBcIi4vYXBwc1wiO1xyXG5cclxuY29uc3QgcHJvdmlkZXJJZCA9IFwicmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljXCI7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRSZXN1bHRzKHF1ZXJ5Pzogc3RyaW5nKSA6IFByb21pc2U8Q0xJU2VhcmNoUmVzcG9uc2U+IHtcclxuICAgXHJcbiAgICBsZXQgYXBwcyA9IGF3YWl0IGdldEFwcHMoKTtcclxuXHJcbiAgICBpZihBcnJheS5pc0FycmF5KGFwcHMpKXsgICBcclxuICAgICAgICBsZXQgaW5pdGlhbFJlc3VsdHM6IENMSVNlYXJjaFJlc3VsdDxhbnk+W10gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFwcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGVudHJ5OiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICBrZXk6IGFwcHNbaV0uYXBwSWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogYXBwc1tpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGFwcHNbaV0sXHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5QbGFpblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0geyBuYW1lOiBcIkxhdW5jaCBWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH07XHJcblxyXG4gICAgICAgICAgICBpZihhcHBzW2ldLm1hbmlmZXN0VHlwZSA9PT0gXCJ2aWV3XCIpIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmxhYmVsID0gXCJWaWV3XCI7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5hY3Rpb25zID0gW2FjdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoYXBwc1tpXS5tYW5pZmVzdFR5cGUgPT09IFwic25hcHNob3RcIikge1xyXG4gICAgICAgICAgICAgICAgZW50cnkubGFiZWwgPSBcIlNuYXBzaG90XCI7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24ubmFtZSA9IFwiTGF1bmNoIFNuYXBzaG90XCI7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5hY3Rpb25zID0gW2FjdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoYXBwc1tpXS5tYW5pZmVzdFR5cGUgPT09IFwibWFuaWZlc3RcIikge1xyXG4gICAgICAgICAgICAgICAgZW50cnkubGFiZWwgPSBcIkFwcFwiO1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLm5hbWUgPSBcIkxhdW5jaCBBcHBcIjtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmFjdGlvbnMgPSBbYWN0aW9uXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihhcHBzW2ldLm1hbmlmZXN0VHlwZSA9PT0gXCJleHRlcm5hbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24ubmFtZSA9IFwiTGF1bmNoIE5hdGl2ZSBBcHBcIjtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmFjdGlvbnMgPSBbYWN0aW9uXTtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmxhYmVsID0gXCJOYXRpdmUgQXBwXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KGFwcHNbaV0uaWNvbnMpICYmIGFwcHNbaV0uaWNvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZW50cnkuaWNvbiA9IGFwcHNbaV0uaWNvbnNbMF0uc3JjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihhcHBzW2ldLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmRlc2NyaXB0aW9uID0gYXBwc1tpXS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIGVudHJ5LnNob3J0RGVzY3JpcHRpb24gPSBhcHBzW2ldLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgZW50cnkudGVtcGxhdGUgPSBDTElUZW1wbGF0ZS5TaW1wbGVUZXh0O1xyXG4gICAgICAgICAgICAgICAgZW50cnkudGVtcGxhdGVDb250ZW50ID0gYXBwc1tpXS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbml0aWFsUmVzdWx0cy5wdXNoKGVudHJ5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmaW5hbFJlc3VsdHM7XHJcblxyXG4gICAgICAgIGlmKHF1ZXJ5ID09PSB1bmRlZmluZWQgfHwgcXVlcnkgPT09IG51bGwgfHwgcXVlcnkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGZpbmFsUmVzdWx0cyA9IGluaXRpYWxSZXN1bHRzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpbmFsUmVzdWx0cyA9IGluaXRpYWxSZXN1bHRzLmZpbHRlcihlbnRyeSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHRhcmdldFZhbHVlID0gZW50cnkudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmKHRhcmdldFZhbHVlICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0VmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHRhcmdldFZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRWYWx1ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnkpID4gLTE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2U6IENMSVNlYXJjaFJlc3BvbnNlID0ge1xyXG4gICAgICAgICAgICByZXN1bHRzOiBmaW5hbFJlc3VsdHNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3VsdHM6W11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyBob21lLlwiKTtcclxuXHJcbiAgICBjb25zdCBxdWVyeU1pbkxlbmd0aCA9IDM7XHJcblxyXG4gICAgY29uc3Qgb25Vc2VySW5wdXQgPSBhc3luYyAocmVxdWVzdDogQ0xJU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LCByZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSk6IFByb21pc2U8Q0xJU2VhcmNoUmVzcG9uc2U+ID0+IHtcclxuICAgICAgICBsZXQgcXVlcnkgPSByZXF1ZXN0LnF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYocXVlcnkuaW5kZXhPZihcIi9cIikgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtyZXN1bHRzOiBbXSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocXVlcnkubGVuZ3RoIDwgcXVlcnlNaW5MZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFJlc3VsdHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBnZXRSZXN1bHRzKHF1ZXJ5KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb25TZWxlY3Rpb24gPSBhc3luYyAocmVzdWx0OkNMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LmRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xyXG4gICAgICAgICAgICBhd2FpdCBwbGF0Zm9ybS5sYXVuY2hBcHAoe2FwcDogcmVzdWx0LmRhdGF9KTtcclxuICAgICAgICB9ICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIGV4ZWN1dGUgcmVzdWx0IHdpdGhvdXQgZGF0YSBiZWluZyBwYXNzZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjbGlQcm92aWRlcjpDTElQcm92aWRlciA9IHtcclxuICAgICAgICB0aXRsZTogXCJCYXNpYyBXb3Jrc3BhY2UgUGxhdGZvcm1cIixcclxuICAgICAgICBpZDogcHJvdmlkZXJJZCxcclxuICAgICAgICBpY29uOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9mYXZpY29uLmljb1wiLFxyXG4gICAgICAgIG9uVXNlcklucHV0OiBvblVzZXJJbnB1dCxcclxuICAgICAgICBvblJlc3VsdERpc3BhdGNoOiBvblNlbGVjdGlvbixcclxuICAgICB9O1xyXG5cclxuICAgICBjb25zb2xlLmxvZyhcIkhvbWUgY29uZmlndXJlZC5cIik7XHJcblxyXG4gICAgcmV0dXJuIEhvbWUucmVnaXN0ZXIoY2xpUHJvdmlkZXIpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVyZWdpc3RlcigpIHtcclxuICByZXR1cm4gSG9tZS5kZXJlZ2lzdGVyKHByb3ZpZGVySWQpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvdygpIHtcclxuICAgIHJldHVybiBIb21lLnNob3coKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhpZGUoKSB7XHJcbiAgICByZXR1cm4gSG9tZS5oaWRlKCk7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGluaXQgYXMgd29ya3NwYWNlUGxhdGZvcm1Jbml0IH0gZnJvbSAnQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtJztcclxuaW1wb3J0IHsgcmVnaXN0ZXIsIHNob3csIGhpZGUsIGRlcmVnaXN0ZXIgfSBmcm9tICcuL2hvbWUnO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcclxuICBhd2FpdCB3b3Jrc3BhY2VQbGF0Zm9ybUluaXQoe1xyXG4gICAgYnJvd3Nlcjoge31cclxuICB9KTtcclxuICBsZXQgcmVnaXN0ZXJIb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWdpc3RlclwiKTtcclxuICBsZXQgZGVyZWdpc3RlckhvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlcmVnaXN0ZXJcIik7XHJcbiAgbGV0IHNob3dIb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93XCIpO1xyXG4gIGxldCBoaWRlSG9tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkZVwiKTtcclxuXHJcbiAgcmVnaXN0ZXJIb21lLm9uY2xpY2sgPSBhc3luYyAoKT0+IHtcclxuICAgIGF3YWl0IHJlZ2lzdGVyKCk7XHJcbiAgICBzaG93SG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJ1bnNldFwiO1xyXG4gICAgaGlkZUhvbWUuc3R5bGUuZGlzcGxheSA9IFwidW5zZXRcIjtcclxuICAgIGRlcmVnaXN0ZXJIb21lLnN0eWxlLmRpc3BsYXkgPSBcInVuc2V0XCJcclxuICAgIHJlZ2lzdGVySG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfTtcclxuXHJcbiAgZGVyZWdpc3RlckhvbWUub25jbGljayA9IGFzeW5jICgpPT4ge1xyXG4gICAgc2hvd0hvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgaGlkZUhvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZGVyZWdpc3RlckhvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICByZWdpc3RlckhvbWUuc3R5bGUuZGlzcGxheSA9IFwidW5zZXRcIjtcclxuICAgIGF3YWl0IGRlcmVnaXN0ZXIoKTtcclxuICB9XHJcblxyXG4gIHNob3dIb21lLm9uY2xpY2sgPSBhc3luYyAoKT0+IHtcclxuICAgIGF3YWl0IHNob3coKTtcclxuICB9O1xyXG5cclxuICBoaWRlSG9tZS5vbmNsaWNrID0gYXN5bmMgKCk9PiB7XHJcbiAgICBhd2FpdCBoaWRlKCk7XHJcbiAgfTtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgYXdhaXQgaW5pdCgpO1xyXG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=