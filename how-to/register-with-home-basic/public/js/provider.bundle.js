/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@openfin/workspace-platform/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@openfin/workspace-platform/index.js ***!
  \***************************************************************/
/***/ ((module) => {

(()=>{"use strict";var e,t,a,n,o,i,r,s,c={d:(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},d={};c.r(d),c.d(d,{AppManifestType:()=>r,BrowserButtonType:()=>g,CustomActionCallerType:()=>h,GlobalContextMenuOptionType:()=>l,PageTabContextMenuOptionType:()=>w,SaveButtonContextMenuOptionType:()=>y,SaveModalType:()=>f,ViewTabMenuOptionType:()=>u,getCurrentSync:()=>Et,init:()=>gn,wrapSync:()=>Mt}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(t||(t={})),function(e){e.Active="active",e.Default="default"}(a||(a={})),function(e){e.Suggestion="suggestion"}(n||(n={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={})),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(s||(s={}));var p,l,w,u,g,y,h,f,m;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(p||(p={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.OpenStorefront="OpenStorefront",e.Quit="Quit",e.Custom="Custom"}(l||(l={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.Custom="Custom"}(w||(w={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Custom="Custom"}(u||(u={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(g||(g={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(y||(y={})),function(e){e.CustomButton="CustomButton",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(h||(h={})),function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(f||(f={})),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(m||(m={}));const S="undefined"!=typeof window&&"undefined"!=typeof fin,v=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),P=v&&"undefined"!=typeof indexedDB,k=v?window.origin:m.Local,b=S&&fin.me.uuid,W=S&&fin.me.name,C=S&&fin.me.entityType,I=(m.Local,m.Dev,m.Staging,m.Prod,e=>e.startsWith("http://")||e.startsWith("https://")?e:k+e),A=(I("https://cdn.openfin.co/workspace/8.1.7"),I("https://cdn.openfin.co/workspace/8.1.7")),T=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&I(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&I(WORKSPACE_DOCS_CLIENT_URL),"26.102.70.16"),M="8.1.7";var E,O,B;!function(e){e.Workspace="openfin-browser"}(E||(E={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(O||(O={})),function(e){e.FinProtocol="fin-protocol"}(B||(B={}));const R={uuid:b,name:b},L=(E.Workspace,E.Workspace,e=>{if(!S)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),x=()=>L(R);var V,U;!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(V||(V={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(U||(U={}));function D(e){if(!S)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const _={name:W,uuid:b};function F(){return D(_)}V.Home,E.Workspace,V.Dock,E.Workspace;const G={name:V.Storefront,uuid:E.Workspace};E.Workspace,E.Workspace;async function N(e){const t=D(e);"minimized"===await t.getState()&&await t.restore(),await t.show(),await t.bringToFront(),await t.focus()}const $=e=>e.startsWith(V.BrowserWindow);async function H(){return(await fin.Application.getCurrentSync().getChildWindows()).filter((e=>$(e.identity.name)))}const q=e=>D(e).getOptions().then((()=>!0)).catch((()=>!1)),K=()=>q(G);var j;!function(e){e.Browser="Browser",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(j||(j={}));const z=async(e,t)=>{const a={apiVersion:t.apiVersion||M,componentName:e,componentVersion:M,...t};fin.System.registerUsage({type:"workspace-licensing",data:a})};var Q;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(Q||(Q={}));const J=Q;var X;!function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.SharePage="sharePage",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetThemes="getThemes",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized"}(X||(X={}));const Y=async e=>{const t=fin.Platform.wrapSync(e),a=await t.getClient(),n="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";try{const e=await a.dispatch("isWorkspacePlatform");if(!0===e||!0===e.isWorkspacePlatform)return a;throw new Error(n)}catch(e){throw new Error(n)}},Z=async e=>{const t=fin.Platform.wrapSync(e),a=await t.getClient(),n="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let o;try{o=await a.dispatch("isWorkspacePlatform")}catch(e){throw new Error(n)}if(!0!==o?.isWorkspacePlatform)throw new Error(n);if(!0!==o?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return a},ee=(e,t)=>!t.find((t=>t===e)),te=(e,t)=>`${e} (${t})`,ae=(e,t)=>{let a=1;const n=e.replace(/ \(.+\)$/,"");for(;!ee(te(n,a),t);)a+=1;return te(n,a)};async function ne(e){try{const t=Et();await t.applySnapshot(e.snapshot,{closeExistingWindows:!0}),oe(e)}catch(e){}}function oe(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);localStorage.setItem(J.CurrentWorkspaceId,t)}catch(e){}}async function ie(){if("undefined"==typeof localStorage)return;const e=Et(),t=await e.getSnapshot();return{workspaceId:crypto.randomUUID(),title:await ce(),metadata:{APIVersion:M},snapshot:t}}async function re(){if("undefined"==typeof localStorage)return;const e=localStorage.getItem(J.CurrentWorkspaceId);if(!e)return ie();const t=JSON.parse(e),a=Et(),n=await a.getSnapshot();return{...t,metadata:{APIVersion:M},snapshot:n}}const se=async e=>await(async e=>(await Y(_)).dispatch(X.GetSavedWorkspace,e))(e.workspaceId)?(async e=>(await Y(_)).dispatch(X.UpdateSavedWorkspace,e))({workspaceId:e.workspaceId,workspace:e}):(async e=>(await Y(_)).dispatch(X.CreateSavedWorkspace,e))({workspace:e});async function ce(e="Untitled Workspace"){const t=(await(async()=>(await Y(_)).dispatch(X.GetSavedWorkspaces,void 0))()).map((({title:e})=>e));return t.find((t=>t===e))?ae(e,t):e}async function de(){if("undefined"!=typeof localStorage)try{const e=localStorage.getItem(J.LastFocusedBrowserWindow),t=JSON.parse(e);if(await q(t))return t}catch(e){throw new Error(`failed to get last focused browser window: ${e}`)}}function pe(e=fin.me.identity){$(e.name)&&function(e){if("undefined"!=typeof localStorage)try{const t=JSON.stringify(e);localStorage.setItem(J.LastFocusedBrowserWindow,t)}catch(e){}}(e)}const le=(e,t=0)=>{let a,n,o=!1;const i=async n=>{const r=await e(...n);if(o){await new Promise((e=>setTimeout(e,t)));const e=a;return a=void 0,o=!1,i(e)}return r};return(...e)=>(n?(o=!0,a=e):n=i(e).then((e=>(n=void 0,e))),n)};var we;!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(we||(we={}));const ue=(e,t)=>e.content?{...e,content:e.content.map((e=>ue(e,t)))}:{...e,componentState:t(e.componentState)},ge=e=>({...e,name:e.name?e.name:crypto.randomUUID()}),ye=e=>{const t=[];return(e&&Array.isArray(e)?e:[]).forEach((e=>{if("component"===e.type)return t.push(e.componentState);const a=ye(e.content);t.push(...a)})),t},he=async(e,t,a=_)=>{let n;if($(a.name)){n=(await D(a).getOptions()).layout||{settings:{}}}return{...n,content:[{type:"stack",content:[{type:"component",componentName:"view",componentState:{title:e,url:t}}]}]}};new Map;function fe(e,t){return async(a,...n)=>{e.has(a)&&e.get(a).forEach((e=>e(...n))),t&&await t({event:a,payload:n})}}function me(e,t){return t&&t((t=>{const{event:a,payload:n}=t;e.has(a)&&e.get(a).forEach((e=>e(...n)))})),(t,a)=>{e.has(t)||e.set(t,new Set),e.get(t).add(a)}}function Se(e){return(t,a)=>{e.has(t)||e.set(t,new Set);const n=e.get(t),o=(...e)=>{a(...e),n.delete(o)};n.add(o)}}function ve(e){return(t,a)=>{e.has(t)&&e.get(t).delete(a)}}const Pe=v&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));function ke(e){let t;return()=>{if(!S)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await Pe;const a=await fin.InterApplicationBus.Channel.connect(e);return a.onDisconnection((async()=>{t=void 0})),a})().then((e=>e)).catch((a=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${a}`)}))),t}}const be=e=>`__browser_window__-${e.uuid}-${e.name}`,We=new Map,Ce=e=>{const t=be(e);return We.has(t)||We.set(t,ke(t)),We.get(t)()};var Ie,Ae,Te;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page"}(Ie||(Ie={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(Ae||(Ae={})),function(e){e.AttachedPagesToWindow="attached-pages-to-window",e.DetachedPagesFromWindow="detached-pages-from-window"}(Te||(Te={}));new Map;const Me=async e=>{const t=await Ce(e);return await t.dispatch(Ae.GetPages)},Ee=async e=>(await Ce(e.identity)).dispatch(Ae.UpdatePageForWindow,e),Oe=async()=>{const e=await H();return(await Promise.all(e.map((async({identity:e})=>Me(e))))).reduce(((e,t)=>e.concat(t)),[])},Be=async()=>(await Y(_)).dispatch(X.GetSavedPages,void 0),Re=async e=>(await Y(_)).dispatch(X.GetSavedPage,e),Le=async(e,t)=>{const a=await(async e=>(await Oe()).find((t=>t.pageId===e)))(e);return!a||a.title===t.title&&e===t.pageId||await Ee({identity:a.parentIdentity,pageId:e,page:{pageId:t.pageId,title:t.title}}),a},xe=async({page:e})=>{await Le(e.pageId,e),await(async e=>(await Y(_)).dispatch(X.CreateSavedPage,e))({page:e})},Ve=async e=>{await Re(e)&&await(async e=>(await Y(_)).dispatch(X.DeleteSavedPage,e))(e)},Ue=async({pageId:e,page:t})=>{await Le(e,t);return await(async e=>(await Y(_)).dispatch(X.UpdateSavedPage,e))({pageId:e,page:t})},De=async e=>await Re(e.pageId)?Ue({pageId:e.pageId,page:e}):xe({page:e}),_e=async e=>{await(async e=>(await Ce(e.identity)).dispatch(Ae.AttachPagesToWindow,e))(e)},Fe=async e=>{await Ee(e)},Ge=async e=>{await(async e=>(await Ce(e.identity)).dispatch(Ae.DetachPagesFromWindow,e))(e)},Ne=async e=>{await(async e=>(await Ce(e.identity)).dispatch(Ae.SetActivePageForWindow,e))(e)},$e=e=>Me(e),He=async({identity:e,pageId:t})=>(await $e(e)).find((e=>e.pageId===t)),qe=async e=>{await(async e=>(await Ce(e.identity)).dispatch(Ae.ReorderPagesForWindow,e))(e)};async function Ke(e="Untitled Page"){const[t,a]=await Promise.all([Be(),Oe()]),n=[...t,...a].map((({title:e})=>e));return n.find((t=>t===e))?ae(e,n):e}const je=new Map,ze=e=>`${e.uuid}-${e.name}`;const Qe=le((async function(){const e=await Oe(),t=new Set;e.forEach((e=>{ye(e.layout.content).forEach((e=>{if(e.name){const a=ze(e);t.add(a)}}))}));const a=F();(await a.getCurrentViews()).forEach((({identity:e})=>{const a=ze(e);if(t.has(a)||je.has(a))return;const n=setTimeout((()=>{fin.View.wrapSync(e).destroy(),je.delete(a)}),5e3);je.set(a,n)})),je.forEach(((e,a)=>{t.has(a)&&(clearTimeout(e),je.delete(a))}))}),2500),Je=({name:e})=>{$(e)&&Qe().catch((()=>{}))};let Xe={};const Ye=({actionId:e,payload:t})=>{if("function"!=typeof Xe[e])throw new Error(`Cannot find a configured function for the action '${e}'`);return Xe[e](t)};function Ze(){return localStorage.getItem(J.MachineName)}let et;async function tt(){return et||(et=await fin.System.getMachineId()),et}const at=e=>{if(e.layout&&Array.isArray(e.workspacePlatform?.pages)){const t=e.workspacePlatform.pages.find((e=>e.isActive));if(t)if(t.isLocked){const a=((e,t)=>{const a=ye(t.content);return{...ue(e,(e=>{const t=a.find((t=>t.name===e.name&&t.uuid===e.uuid)),n=t?t.isClosable:e.isClosable;return{...e,isClosable:n}})),settings:t.settings}})(e.layout,t.layout);t.layout=a,e.layout=a}else t.layout=e.layout}return e};async function nt(e){const t=e||await fin.Platform.getCurrentSync().getSnapshot();if(t.snapshotDetails?.machineId)return t;const a=Ze();return{...t,snapshotDetails:{...e.snapshotDetails,machineId:await tt(),machineName:a}}}function ot(e){return new Promise(((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)}))}function it(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const n=ot(a);return(e,a)=>n.then((n=>a(n.transaction(t,e).objectStore(t))))}let rt;function st(){return rt||(rt=it("keyval-store","keyval")),rt}function ct(e,t=st()){return t("readonly",(t=>ot(t.get(e))))}function dt(e,t,a=st()){return a("readwrite",(a=>(a.put(t,e),ot(a.transaction))))}function pt(e,t=st()){return t("readwrite",(t=>(t.delete(e),ot(t.transaction))))}function lt(e,t){return e("readonly",(e=>(e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ot(e.transaction))))}function wt(e=st()){const t=[];return lt(e,(e=>t.push(e.key))).then((()=>t))}const ut=(e,t="")=>e.toLowerCase().includes(t.toLowerCase()),gt=P&&it("openfin-home-pages","pages");async function yt(e){const t=await ct(e,gt);return t?(t.pageId=e.toString(),t.title=t.title||t.pageId,t):null}async function ht(e){const t=await wt(gt),a=await Promise.all(t.map((e=>yt(e.toString()))));return e?a.filter((t=>ut(t.title,e))):a}async function ft({page:e}){await dt(e.pageId,e,gt)}async function mt(e){await pt(e,gt)}async function St({pageId:e,page:t}){if(void 0===await yt(e))throw new Error("page not found");await ft({page:t}),e!==t.pageId&&await mt(e)}var vt;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(vt||(vt={}));const Pt={type:vt.Separator,data:void 0};var kt;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(kt||(kt={}));ke("__of_workspace_protocol__");const bt=async(e,t)=>{const a=await(async e=>({...e,layoutDetails:{machineId:await tt(),machineName:Ze()}}))(t);return{pageId:crypto.randomUUID(),title:e,layout:a,isReadOnly:!1,hasUnsavedChanges:!0}},Wt=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),getPages:async()=>(await Z(e)).dispatch(X.GetPagesForWindow,e),getPage:async t=>(await Z(e)).dispatch(X.GetPageForWindow,{identity:e,pageId:t}),addPage:async t=>{const a=await Z(e);t?.title||(t.title=await a.dispatch(X.GetUniquePageTitle,void 0));const n=(await a.dispatch(X.GetAllAttachedPages,void 0)).find((e=>e.pageId===t.pageId||e.title===t.title));if(n)throw n.pageId===t.pageId?new Error(`page with id ${t.pageId} is already attached to a browser window ${n.parentIdentity.name}`):new Error(`page with title ${t.title} is already attached to a browser window ${n.parentIdentity.name}`);const o={identity:e,pages:[t]};return a.dispatch(X.AttachPagesToWindow,o)},removePage:async t=>(await Z(e)).dispatch(X.DetachPagesFromWindow,{identity:e,pageIds:[t]}),setActivePage:async t=>(await Z(e)).dispatch(X.SetActivePage,{identity:e,pageId:t}),updatePage:async t=>{const a=await Z(e);return t.identity=e,a.dispatch(X.UpdatePageForWindow,t)},reorderPages:async t=>{const a=await Z(e);return t.identity=e,a.dispatch(X.ReorderPagesForWindow,t)},_openGlobalContextMenu:async t=>{const a=await Z(e);return t.identity=e,a.dispatch(X.OpenGlobalContextMenuInternal,t)},replaceToolbarOptions:async t=>{await Z(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{toolbarOptions:t}})},replaceWindowStateButtonOptions:async t=>{await Z(e);const a=fin.Window.wrapSync(e);await a.updateOptions({workspacePlatform:{windowStateButtonOptions:t}})},_openViewTabContextMenu:async t=>{const a=await Z(e);return t.identity=e,a.dispatch(X.OpenViewTabContextMenuInternal,t)},_openPageTabContextMenu:async t=>{const a=await Z(e);return t.identity=e,a.dispatch(X.OpenPageTabContextMenuInternal,t)},_openSaveModal:async t=>{await Z(e);return(await Ce(e)).dispatch(Ie.OpenSaveModalInternal,t)},_openSaveButtonContextMenu:async t=>{const a=await Z(e);return t.identity=e,a.dispatch(X.OpenSaveButtonContextMenuInternal,t)}});let Ct=!1;const It=e=>{const t=fin.Platform.wrapSync(e);return{wrapSync:e=>Wt(e),createWindow:async a=>{await Z(e),Ct||(Ct=!0,(async e=>{z(j.Browser,e)})({allowed:!0}));const n=await t.createWindow(a);return Wt(n.identity)},getAllAttachedPages:async()=>(await Z(e)).dispatch(X.GetAllAttachedPages,void 0),getAllWindows:async()=>{await Z(e);return(await fin.Application.wrapSync(e).getChildWindows()).filter((e=>e.identity.name.includes("internal-generated-window-"))).map((e=>Wt(e.identity)))},getUniquePageTitle:async t=>(await Z(e)).dispatch(X.GetUniquePageTitle,t),getLastFocusedWindow:async()=>(await Z(e)).dispatch(X.GetLastFocusedBrowserWindow,void 0)}},At=e=>({createPage:async t=>(await Z(e)).dispatch(X.CreateSavedPageInternal,t),deletePage:async t=>(await Z(e)).dispatch(X.DeleteSavedPageInternal,t),updatePage:async t=>(await Z(e)).dispatch(X.UpdateSavedPageInternal,t),getPage:async t=>(await Z(e)).dispatch(X.GetSavedPage,t),getPages:async t=>(await Z(e)).dispatch(X.GetSavedPages,t),savePage:async t=>(await Z(e)).dispatch(X.SavePage,t),createWorkspace:async t=>(await Y(e)).dispatch(X.CreateSavedWorkspace,t),deleteWorkspace:async t=>(await Y(e)).dispatch(X.DeleteSavedWorkspace,t),updateWorkspace:async t=>(await Y(e)).dispatch(X.UpdateSavedWorkspace,t),getWorkspace:async t=>(await Y(e)).dispatch(X.GetSavedWorkspace,t),getWorkspaces:async t=>(await Y(e)).dispatch(X.GetSavedWorkspaces,t),saveWorkspace:async t=>(await Y(e)).dispatch(X.SaveWorkspace,t)}),Tt=e=>({getThemes:async()=>(await Y(e)).dispatch(X.GetThemes,void 0)}),Mt=e=>{const t=fin.Platform.wrapSync(e);return Object.assign(t,{applySnapshot:async(t,a)=>{if("string"!=typeof t&&!t?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(t,a)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then((e=>e)),launchApp:async t=>{t.target||(t.target={uuid:b,name:W,entityType:C||"unknown"});return(await Y(e)).dispatch(X.LaunchApp,t)},_invokeCustomAction:async(t,a)=>{const n=await Y(e),o={actionId:t,payload:{...a,callerType:a.callerType||h.API}};return n.dispatch(X.InvokeCustomActionInternal,o)},getCurrentWorkspace:async()=>(await Y(e)).dispatch(X.GetCurrentWorkspace,void 0),applyWorkspace:async t=>(await Y(e)).dispatch(X.ApplyWorkspace,t),setActiveWorkspace:async t=>(await Y(e)).dispatch(X.SetActiveWorkspace,t),Theme:Tt(e),Browser:It(e),Storage:At(e)})},Et=()=>Mt(fin.me.identity),Ot=async(e=_)=>{const{workspacePlatform:t}=await D(e).getOptions();return{newPageUrl:t?.newPageUrl,newTabUrl:t?.newTabUrl}},Bt=async(e=_)=>{const t=await Et().Browser.getUniquePageTitle("Untitled Page"),a=await(async(e=_)=>{const{newPageUrl:t}=await Ot(e);if(!t)throw new Error("Trying to create a new page without a newPageUrl set");return he("New Tab",t,e)})(e);return bt(t,a)},Rt={type:vt.Label,label:"Close Window",data:{type:l.CloseWindow}},Lt={type:vt.Label,label:"Open Storefront",data:{type:l.OpenStorefront}},xt={type:vt.Label,label:"Quit Platform",data:{type:l.Quit}},Vt={type:vt.Label,label:"New Window",data:{type:l.NewWindow}},Ut={type:vt.Label,label:"Save Page",data:{type:l.SavePage}},Dt={type:vt.Label,label:"Save Page As...",data:{type:l.SavePageAs}},_t={type:vt.Label,label:"Restore to Last Saved Changes",data:{type:l.RestoreChanges}},Ft={type:vt.Label,label:"Save Workspace",data:{type:l.SaveWorkspace}},Gt={type:vt.Label,label:"Save Workspace As...",data:{type:l.SaveWorkspaceAs}},Nt={type:vt.Label,label:"Rename Workspace",data:{type:l.RenameWorkspace}},$t="Switch Workspace",Ht="Delete Workspace",qt=[Rt,Pt,Lt,Pt,xt],Kt=[Pt,Rt,Pt,xt],jt=(e,t,a)=>t.map((t=>{const n=t.workspaceId===e.workspaceId;return{label:t.title,type:vt.Checkbox,enabled:!n,checked:n,data:{type:a,workspaceId:t.workspaceId}}})),zt=async e=>{const t=await K(),{newPageUrl:a}=await Ot(e),n=await(async e=>{const t=D(e),{workspacePlatform:a}=await t.getOptions();return a?.disableMultiplePages})(e),o=await(async e=>{const t=D(e),{workspacePlatform:a}=await t.getOptions();return a?.isLocked})(e),i=[];var r;a&&(i.push(Vt),n||i.push((r=!o,{type:vt.Label,label:"New Page",data:{type:l.NewPage},enabled:r}))),i.push(Pt);const s=Et(),c=await s.getCurrentWorkspace(),d=await s.Storage.getWorkspaces(),p=d.find((e=>e.workspaceId===c.workspaceId));return p?i.push(_t):i.push({label:_t.label,enabled:!1}),i.push(Ft,Gt),p?i.push(Nt):i.push({label:Nt.label,enabled:!1}),d.some((e=>e.workspaceId!==c.workspaceId))?i.push({label:$t,submenu:jt(c,d,l.SwitchWorkspace)},{label:Ht,submenu:jt(c,d,l.DeleteWorkspace)}):i.push({label:$t,enabled:!1},{label:Ht,enabled:!1}),i.push(Pt,Ut,Dt),t?[...i,...qt]:[...i,...Kt]};let Qt="Platform";const Jt=async()=>Qt;var Xt,Yt,Zt;!function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/home/dock/",e.BrowserPagesLanding="/browser/pages/landing/",e.HomeIndicator="/home/indicator/",e.Browser="/browser/",e.BrowserPopupMenu="/browser/popup-menu/",e.Provider="/provider/",e.BrowserPopupMenuSharePage="/browser/popup-menu/share-page/",e.BrowserPopupMenuSaveModal="/browser/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/browser/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/browser/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/browser/indicator/",e.ResponseModal="/browser/popup-menu/response-modal/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/"}(Xt||(Xt={})),function(e){e.IconOpenFinLogo="/icons/openfinlogo.svg",e.IconFilter="/icons/filter.svg"}(Yt||(Yt={})),function(e){e.Search="search"}(Zt||(Zt={}));const ea={...Yt,...Xt};var ta;!function(e){e.Home="/home",e.Browser="/browser",e.Provider="/provider",e.Storefront="/storefront"}(ta||(ta={}));const aa="/workspace/8.1.7";function na(){return aa.substring(0,aa.length-"".length)}function oa(e){if(!v)throw new Error("getAbsoluteRoutePath can only be used in a window");return function(){if(!window)throw new Error("getAbsoluteBasePath can only be used in a window");return`${window.origin}${na()}`}()+e}const ia={name:V.BrowserMenu,alwaysOnTop:!0,autoShow:!1,cornerRounding:{height:6,width:6},frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!0};function ra(e){const t={...ia,...e};return t.url=function(e){if(!v)throw new Error("resolveAbsolutePath can only be used in a window");return e.startsWith("http")?e:`${window.origin}${e}`}(t.url),t}var sa,ca;!function(e){e.Update="update",e.Response="response"}(sa||(sa={})),function(e){e.Canceled="canceled",e.Negative="negative",e.Affirmative="affirmative"}(ca||(ca={}));const da=function(e){const t=new Map;return{emit:fe(t,(t=>S&&fin.InterApplicationBus.publish(e,t))),addListener:me(t,(t=>S&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,t))),removeListener:ve(t),once:Se(t)}}("window.menu"),pa=e=>da.emit(sa.Response,e),la=le((()=>x().getChildWindows()),500);const wa=new Map;async function ua({options:e,parameters:t}){const a=ra(e),{name:n}=a;let o=await async function(e){return(await la()).find((t=>t.identity.name===e))}(n);return o||(o=await async function(e){const t=ra(e);if(!wa.has(t.name)){const e=(async()=>{const e=await fin.Platform.getCurrentSync().createWindow(t);return e.once("closed",(()=>{wa.delete(t.name)})),e})();wa.set(t.name,e)}return wa.get(t.name)}(a)),await async function(e,t){const a=ra(e),{top:n,left:o,defaultWidth:i,defaultHeight:r}=a,s={top:n,left:o,width:i,height:r},c={parentName:fin.Window.getCurrentSync().identity.name};for(const[e,a]of Object.entries(c))t.set(e,a);const d=t.toString(),p=`${a.url}?${d}`;da.emit(sa.Update,a.name,s,p),await pa({name:a.name,data:ca.Canceled})}(e,t||new URLSearchParams),o}const ga=async(e,t)=>{const a=t?D(t):F();await(async(e=fin.me.identity)=>{const t=D(e),a=await t.getBounds();(a.right>screen.availLeft+screen.width||a.left<screen.availLeft||a.bottom>screen.availTop+screen.height||a.top<screen.availTop)&&await t.center()})(a.identity);const n=await a.getBounds(),o={left:((i=n).left+i.right)/2,top:(i.top+i.bottom)/2};var i;const{defaultHeight:r,defaultWidth:s}=e;return((e,t)=>{const{height:a,width:n}=t,o=n/2,i=a/2;return{left:e.left-o,top:e.top-i}})(o,{height:r,width:s})},ya=async({options:e,content:t})=>{const a=new URLSearchParams({...t});return await ua({options:e,parameters:a}),new Promise((t=>{da.once(sa.Response,(a=>{a.name===e.name&&t(a)}))}))},ha=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Switch Workspace",windowOptions:{url:A+ea.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:`Are you sure you want to switch to ${t}`,body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),{top:o,left:i}=await ga(a,e),r={...a,top:o,left:i};return(await ya({options:r,content:n})).data===ca.Affirmative},fa=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Delete Workspace",windowOptions:{url:A+ea.ResponseModal,name:V.BrowserMenu,defaultHeight:144,defaultWidth:372,modalParentIdentity:e},content:{title:"Are you sure you want to permanently delete this workspace?",body:`${t}`,affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),{top:o,left:i}=await ga(a,e),r={...a,top:o,left:i};return(await ya({options:r,content:n})).data===ca.Affirmative},ma=async(e,t)=>{const{windowOptions:a,content:n}=await(async(e,t)=>({title:"Platform Quit",windowOptions:{url:A+ea.ResponseModal,name:V.BrowserMenu,defaultHeight:134,defaultWidth:474,modalParentIdentity:e},content:{title:`Are you sure you want to quit ${"Platform"===t?"the platform":t}?`,body:"Any unsaved changes to the workspace will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e,t),{top:o,left:i}=await ga(a,e),r={...a,top:o,left:i};return(await ya({options:r,content:n})).data===ca.Affirmative},Sa=async e=>{const{windowOptions:t,content:a}=await(async e=>({title:"Restore Changes",windowOptions:{url:A+ea.ResponseModal,name:V.BrowserMenu,defaultHeight:112,defaultWidth:424,modalParentIdentity:e},content:{title:"Are you sure you want to restore to last saved changes?",body:"Any unsaved changes will be discarded",affirmativeButton:"Confirm",negativeButton:"Cancel"}}))(e),{top:n,left:o}=await ga(t,e),i={...t,top:n,left:o};return(await ya({options:i,content:a})).data===ca.Affirmative};var va;!function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info"}(va||(va={}));const Pa={alwaysOnTop:!0,autoShow:!1,cornerRounding:{height:5,width:5},frame:!1,resizable:!1,showTaskbarIcon:!1};var ka;!function(e){e.Locked="LockClosedIcon",e.Unlocked="LockOpen1Icon"}(ka||(ka={}));const ba=function(e=Pa){const t=new Map;return async(a,n,o,i)=>{if(t.has(a)){const{currentUrl:e,currentName:o}=t.get(a);if(e===n)return;const i=fin.Window.wrapSync({uuid:fin.me.uuid,name:o});await i.close()}const r=`${V.HomeInternal}-${Date.now()}${Math.random()}`;t.set(a,{currentUrl:n,currentName:r});const s=await fin.Platform.getCurrentSync().createWindow({...e,name:r,url:n});((e,t)=>{const a=document.createElement("div");a.setAttribute("aria-live",t||"polite"),(e=>{e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.padding="0",e.style.margin="-1px",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.border="0"})(a),document.body.appendChild(a),setTimeout((()=>{a.innerHTML=e}),100),setTimeout((()=>{document.body.removeChild(a)}),1e3)})(`New ${i} indicator: ${o}`),s.once("closed",(()=>{t.delete(a)}))}}();async function Wa(e,t,a,n){const o=new URLSearchParams;o.append("type",e),o.append("message",t),o.append("parentName",a||""),o.append("icon",n||"");const i=`${oa(ea.BrowserIndicator)}?${o.toString()}`;return ba("browser"+a,i,t,e)}function Ca(e,t,a){return Wa(va.SUCCESS,e,t,a)}const Ia=async e=>{const t=Et(),a=await t.getCurrentWorkspace(),n=await t.Storage.getWorkspaces(),o=a.workspaceId;if(n.some((e=>e.workspaceId===o)))t.Storage.saveWorkspace(a),t.setActiveWorkspace(a),Ca("Workspace Saved",e.name);else{t.Browser.wrapSync(e)._openSaveModal({menuType:f.SAVE_WORKSPACE})}},Aa=e=>{Et().Browser.wrapSync(e)._openSaveModal({menuType:f.SAVE_WORKSPACE_AS})},Ta=async(e,t)=>{const a=Et().Browser.wrapSync(e),n=await Et().Storage.getPages(),o=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));if(n.some((e=>o.pageId===e.pageId)))try{await Et().Storage.savePage((c=o,{...c,hasUnsavedChanges:void 0,parentIdentity:void 0,isActive:void 0})),await a.updatePage({pageId:o.pageId,page:{hasUnsavedChanges:!1}}),Ca("Page saved",o.parentIdentity.name)}catch{i="Page failed to save",r=o.parentIdentity.name,Wa(va.ERROR,i,r,s)}else a._openSaveModal({id:o.pageId,menuType:f.SAVE_PAGE});var i,r,s,c},Ma=async(e,t)=>{const a=Et().Browser.wrapSync(e),n=(await a.getPages()).find((e=>t?e.pageId===t:e.isActive));a._openSaveModal({id:n.pageId,menuType:f.SAVE_PAGE_AS})},Ea=async(e,t)=>{if(!e)return;const a=t.identity,n=await Ce(a),o=Et().Browser.wrapSync(t.identity);switch(e.type){case l.NewWindow:const{newPageUrl:t}=await Ot(a);if(!t)throw new Error("Trying to create a new empty window without a newPageUrl set");Et().createView({target:void 0,url:t});break;case l.NewPage:await(async e=>{const t=Et().Browser.wrapSync(e),a=await Bt(e);await t.addPage(a),await t.setActivePage(a.pageId)})(a);break;case l.CloseWindow:n.dispatch(Ie.CloseBrowserWindow);break;case l.SaveWorkspace:await Ia(a);break;case l.SavePage:await Ta(a);break;case l.SavePageAs:await Ma(a);break;case l.SaveWorkspaceAs:await Aa(a);break;case l.RenameWorkspace:o._openSaveModal({menuType:f.RENAME_WORKSPACE});break;case l.SwitchWorkspace:await(async(e,t)=>{const a=Et(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await ha(e,n.title)&&(await a.applyWorkspace(n),Ca("Workspace Switched!",null))})(a,e);break;case l.DeleteWorkspace:await(async(e,t)=>{const a=Et(),n=(await a.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId));n&&await fa(e,n.title)&&(await a.Storage.deleteWorkspace(t.workspaceId),Ca("Workspace Deleted!",e.name))})(a,e);break;case l.Quit:const i=await Jt();await ma(a,i)&&fin.Platform.getCurrentSync().quit();break;case l.OpenStorefront:(async()=>{await K()&&N(G)})();break;case l.RestoreChanges:const r=await async function(){const e=Et(),t=await e.getCurrentWorkspace();return(await e.Storage.getWorkspaces()).find((e=>e.workspaceId===t.workspaceId))}();await Sa(a)&&await ne(r);break;case l.Custom:if(e.action){const t={callerType:h.GlobalContextMenu,windowIdentity:a,customData:e.action.customData};Et()._invokeCustomAction(e.action.id,t)}}},Oa=async(e,t)=>{const a=await Ce(t.identity),n=Et();switch(e.type){case w.Save:await Ta(t.identity,t.pageId);break;case w.SaveAs:await Ma(t.identity,t.pageId);break;case w.Rename:await n.Browser.wrapSync(t.identity)._openSaveModal({menuType:f.RENAME_PAGE,id:t.pageId});break;case w.Duplicate:a.dispatch(Ie.DuplicatePage,t.pageId);break;case w.Close:a.dispatch(Ie.ClosePage,t.pageId);break;case w.Custom:if(e.action){const a={callerType:h.PageTabContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Et()._invokeCustomAction(e.action.id,a)}}},Ba=async(e,t)=>{if(e?.type){const a=t.identity;switch(e.type){case y.SavePage:await Ta(a);break;case y.SaveWorkspace:await Ia(a);break;case y.SavePageAs:await Ma(a);break;case y.SaveWorkspaceAs:await Aa(a);break;case y.Custom:if(e.action){const a={callerType:h.SaveButtonContextMenu,windowIdentity:t.identity,pageId:t.pageId,customData:e.action.customData};Et()._invokeCustomAction(e.action.id,a)}}}},Ra=async(e,t)=>{const a=t.selectedViews[0],n=fin.View.wrapSync(a),o=await(async e=>{const{newTabUrl:t}=await Ot(e);if(!t)throw new Error("Trying to create a new page without a newTabUrl set");return{...he("New View",t),url:t,target:e}})(e);await Et().createView(o,e,n.identity)},La=async(e,t)=>{const a=await(e=>Promise.all(e.map((async e=>fin.View.wrapSync(e).getInfo()))))(t),{newPageUrl:n,newTabUrl:o}=await Ot(e);a.forEach((async e=>{e.url!==n&&e.url!==o&&await fin.System.openUrlWithBrowser(e.url)}))},xa=(e,t)=>{t.forEach((async t=>{const a=fin.View.wrapSync(t);await(async(e,t)=>{const{url:a}=await t.getInfo(),n={...await t.getOptions(),url:a,target:e,name:void 0};await Et().createView(n,e,t.identity)})(e,a)}))},Va=async(e,t)=>{if(!e)return;const a=t.identity;switch(e.type){case u.CloseViews:await(async(e,t)=>{if((await fin.Window.wrapSync(e).getCurrentViews()).length!==t.length)t.forEach((async e=>{const t=fin.View.wrapSync(e);await t.destroy()}));else{const t=(await Et().Browser.wrapSync(e).getPages()).find((e=>e.isActive));(await Ce(e)).dispatch(Ie.ClosePage,t?.pageId)}})(a,t.selectedViews);break;case u.OpenWithDefaultBrowser:await La(a,t.selectedViews);break;case u.ReloadViews:t.selectedViews.forEach((async e=>{const t=fin.View.wrapSync(e);await t.reload()}));break;case u.NewView:await Ra(a,t);break;case u.DuplicateViews:xa(a,t.selectedViews);break;case u.AddToChannel:(async(e,t,a)=>{const n={newChannelId:t,selectedViews:a};(await Ce(e)).dispatch(Ie.AddToChannel,n)})(a,e.option,t.selectedViews);break;case u.RemoveFromChannel:(async(e,t)=>{(await Ce(e)).dispatch(Ie.RemoveFromChannel,t)})(a,t.selectedViews);break;case u.Custom:if(e.action){const n={callerType:h.ViewTabContextMenu,windowIdentity:a,selectedViews:t.selectedViews,customData:e.action.customData};Et()._invokeCustomAction(e.action.id,n)}}};async function Ua(e,t){const a=await zt(e.identity),n=await Jt();a.find((e=>e.data?.type===l.Quit)).label=`Quit ${n}`;const o={...e,template:a,callback:Ea};await this.openGlobalContextMenu(o,t)}const Da=async(e,t)=>{const{x:a,y:n,identity:o,template:i,callback:r}=e,{data:s}=await function(e,t){if(!S)throw new Error("showContextMenu can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");if(!t&&!fin.me.isWindow)throw new Error("showContextMenu can only be used in an OpenFin window.");return(t||fin.Window.getCurrentSync()).showPopupMenu(e)}({x:a,y:n,template:i},fin.Window.wrapSync(o));r(s,e)};async function _a(e,t){const a={...e,callback:Va};await this.openViewTabContextMenu(a,t)}async function Fa(e,t){const a=await(async(e,t)=>{const a=await Et().Storage.getPage(e),n=(await Oe()).find((t=>t.pageId===e)),{workspacePlatform:o}=await D(t).getOptions(),i=!(o.isLocked||o.preventPageClose||n.closeButton?.disabled||n.closeButton?.hidden);return[{type:vt.Label,label:"Save Page",data:{type:w.Save}},{type:vt.Label,label:"Save Page As",data:{type:w.SaveAs}},Pt,{type:vt.Label,label:"Rename Page",data:{type:w.Rename},enabled:!!a},{type:vt.Label,label:"Duplicate Page",data:{type:w.Duplicate},enabled:!o.isLocked},Pt,{type:vt.Label,label:"Close Page",data:{type:w.Close},enabled:i}]})(e.pageId,e.identity),n={...e,template:a,callback:Oa};await this.openPageTabContextMenu(n,t)}async function Ga(e,t){const a={...e,template:await(async()=>[{type:vt.Label,label:"Save Workspace",data:{type:y.SaveWorkspace}},{type:vt.Label,label:"Save Workspace As",data:{type:y.SaveWorkspaceAs}},{type:vt.Separator,data:void 0},{type:vt.Label,label:"Save Page",data:{type:y.SavePage}},{type:vt.Label,label:"Save Page As",data:{type:y.SavePageAs}}])(),callback:Ba};await this.openSaveButtonContextMenu(a,t)}const Na=P&&it("openfin-workspace-platform-workspaces","workspaces");async function $a(e){const t=await ct(e,Na);return t?(t.workspaceId=e.toString(),t.title=t.title||t.workspaceId,t):null}async function Ha(e){const t=await wt(Na),a=await Promise.all(t.map((e=>$a(e.toString()))));return e?a.filter((t=>ut(t.title,e))):a}async function qa({workspace:e}){await dt(e.workspaceId,e,Na)}async function Ka(e){await pt(e,Na)}async function ja({workspaceId:e,workspace:t}){if(void 0===await $a(e))throw new Error("workspace not found");await qa({workspace:t}),e!==t.workspaceId&&await Ka(e)}async function za({app:e,target:t}){const a=fin.Platform.getCurrentSync();switch(e.manifestType){case r.Snapshot:return a.applySnapshot(e.manifest);case r.View:return async function(e,t){const a=fin.Platform.getCurrentSync();if("view"===t.entityType){const a=fin.View.wrapSync(t),n=await a.getParentLayout();return await n.replaceView(t,{manifestUrl:e.manifest,url:void 0,target:void 0}),a.destroy()}return a.createView({name:void 0,url:void 0,manifestUrl:e.manifest,target:void 0})}(e,t);case r.External:return fin.System.launchExternalProcess({path:e.manifest,uuid:e.appId});default:return fin.Application.startFromManifest(e.manifest)}}const Qa=e=>e&&"object"==typeof e&&!Array.isArray(e);function Ja(e,...t){if(!t.length)return e;const a=t.shift();return Qa(e)&&Qa(a)&&Object.entries(a).forEach((([t,a])=>{if(Qa(a))return e[t]||(e[t]={}),Ja(e[t],a);e[t]=a})),Ja(e,...t)}const Xa=A+ea.Browser;function Ya(e,t){const a=Ja({},t,e);return a.detachOnClose=!0,a}async function Za(e,t,a){const n=e.manifestUrl?await t({manifestUrl:e.manifestUrl},a):void 0;if(n?.interop&&e.interop){const t={...e,...n,interop:e.interop};return delete t.manifestUrl,t}return e}const en=e=>{const t=e.name===V.Home,a=e.name?.startsWith(V.HomeInternal),n=e.name?.startsWith(V.BrowserMenu);return!t&&!a&&!n},tn=e=>"workspacePlatform"in e?e:(({workstacks:e,pages:t,...a})=>({...a,workspacePlatform:{pages:t||e||null}}))(e),an={contextMenuSettings:{reload:!1},backgroundThrottling:!0,url:Xa,contextMenu:!0,closeOnLastViewRemoved:!1,experimental:{showFavicons:!0,defaultFaviconUrl:`${A}/icons/defaultFavicon.svg`},permissions:{System:{openUrlWithBrowser:{enabled:!0,protocols:["mailto"]}}}},nn={dimensions:{borderWidth:3,headerHeight:30}},on=async(e,t)=>{const a=await Et().Storage.getPages(),n=await Et().Browser.getAllAttachedPages();return e.map((e=>{let o=e.title;void 0===e.pageId&&(e.pageId=crypto.randomUUID());const i=a.find((e=>e.title===o));return(i&&i.pageId!==e.pageId||n.find((e=>e.title===o)))&&(o=ae(e.title,[...a,...n].map((e=>e.title)))),n.push(e),{...t,...e,title:o,layout:(r=e.layout,ue({...r},ge))};var r}))};const rn=e=>{const t=fin.Window.wrapSync(e);return Promise.all([t.bringToFront(),t.restore(),t.focus()])};async function sn(e){const t=await H();return await Promise.all(t.map((({identity:e})=>(async e=>(await Ce(e)).dispatch(Ae.UpdatePagesWindowOptions))(e)))),e?e():nt()}let cn=[];const dn=()=>cn;const pn=(e,t)=>async a=>{const n=null!==e;class o extends a{constructor(){super(),this.isWorkspacePlatform=()=>({isWorkspacePlatform:!0,isBrowserInitialized:!!e}),this.addPage=this.attachPagesToWindow,this.detachPagesFromWindow=Ge,this.getAllAttachedPages=Oe,this.getPagesForWindow=$e,this.getPageForWindow=He,this.setActivePage=Ne,this.launchApp=za,this.savePage=De,this.saveWorkspace=se,this.createSavedPageInternal=xe,this.updateSavedPageInternal=Ue,this.deleteSavedPageInternal=Ve,this.reorderPagesForWindow=qe,this.getUniquePageTitle=Ke,this.updatePageForWindow=Fe,this.getLastFocusedBrowserWindow=de,this.getThemes=dn,this.invokeCustomActionInternal=Ye,this.getCurrentWorkspace=re,this.applyWorkspace=ne,this.setActiveWorkspace=oe,this.openGlobalContextMenuInternal=this.openGlobalContextMenuInternal.bind(this),this.openGlobalContextMenu=this.openGlobalContextMenu.bind(this),this.getSavedPages=this.getSavedPages.bind(this),this.getSavedPage=this.getSavedPage.bind(this),this.createSavedPage=this.createSavedPage.bind(this),this.updateSavedPage=this.updateSavedPage.bind(this),this.deleteSavedPage=this.deleteSavedPage.bind(this),this.attachPagesToWindow=this.attachPagesToWindow.bind(this),this.openViewTabContextMenuInternal=this.openViewTabContextMenuInternal.bind(this),this.openViewTabContextMenu=this.openViewTabContextMenu.bind(this),this.openPageTabContextMenuInternal=this.openPageTabContextMenuInternal.bind(this),this.openPageTabContextMenu=this.openPageTabContextMenu.bind(this),this.getSavedWorkspaces=this.getSavedWorkspaces.bind(this),this.getSavedWorkspace=this.getSavedWorkspace.bind(this),this.createSavedWorkspace=this.createSavedWorkspace.bind(this),this.updateSavedWorkspace=this.updateSavedWorkspace.bind(this),this.deleteSavedWorkspace=this.deleteSavedWorkspace.bind(this),this.getCurrentWorkspace=this.getCurrentWorkspace.bind(this),this.applyWorkspace=this.applyWorkspace.bind(this),this.setActiveWorkspace=this.setActiveWorkspace.bind(this),this.openSaveButtonContextMenu=this.openSaveButtonContextMenu.bind(this),this.openSaveButtonContextMenuInternal=this.openSaveButtonContextMenuInternal.bind(this)}async getSnapshot(){const e=n?await sn((async()=>nt(await super.getSnapshot(void 0,fin.me.identity)))):await nt(await super.getSnapshot(void 0,fin.me.identity));return{...e,windows:e.windows.filter(en).map(at)}}async applySnapshot({snapshot:e,options:t}){const a=e=>super.applySnapshot({snapshot:e,options:{...t,closeExistingWindows:!1}});let o=e;if("string"==typeof o&&(o=await super.fetchManifest({manifestUrl:o},fin.me.identity)),!n&&function(e){for(const t of e.windows)if(t.workspacePlatform?.pages)return!0;return!1}(o))throw new Error("This snapshot cannot be applied as the platform has been initialized without the browser.");return t?.closeExistingWindows&&await async function(){const e=await H();await Promise.all(e.map((e=>e.close(!0).catch((()=>{})))))}(),n?async function(e,t){const a=await Oe(),n=e.snapshotDetails?.monitorInfo||await fin.System.getMonitorInfo(),o=(e.windows||[]).filter((({layout:e})=>!!e)),i=new Map;a.forEach((e=>i.set(e.pageId,e)));const r=[],s=o.map((async e=>{const t=tn(e),a=[],n=(e=>{let t=!1;const a=(e||[]).map((e=>{const a=function({id:e,name:t,...a}){return{pageId:e,title:t,...a}}(e);return t&&a.isActive&&(a.isActive=!1),a.isActive&&(t=!0),a}));return!t&&a.length&&(a[0].isActive=!0),a})(t?.workspacePlatform?.pages);if(!n?.length){const e=await Ke();a.push(await bt(e,t.layout))}let o;n.forEach((e=>{const t=i.get(e.pageId);t?o=t:a.push(e)})),o&&await Promise.all([Ne({identity:o.parentIdentity,pageId:o.pageId}),rn(o.parentIdentity)]),a.length&&r.push({...t,workspacePlatform:{...t.workspacePlatform,pages:a}})}));if(await Promise.all(s),!r.length)return;const c=fin.Platform.getCurrentSync();return(t||c.applySnapshot.bind(c))({...e,snapshotDetails:{...e.snapshotDetails,monitorInfo:n},windows:r})}(o,a):a(o)}async createWindow(t,a){t.workspacePlatform?.toolbarOptions?.buttons&&(e=>{const t=e.filter((e=>e.type!==g.Custom)),a=new Set;for(const e of t){if(a.has(e.type))throw new Error(`Encountered a duplicate of ${e.type} button. No more than one instance of a button type may be provided.`);a.add(e.type)}})(t.workspacePlatform.toolbarOptions.buttons);let o=tn(t);if(n){const t=this.getThemes();o=await(async(e,t,a)=>{let n=e;n.workspacePlatform?.pages&&(n.workspacePlatform.pages=await on(n.workspacePlatform.pages,t?.defaultPageOptions));const o=n?.workspacePlatform?.pages;if(o){const e=o.find((e=>e.isActive));e?n.layout=e.layout:(o[0].isActive=!0,n.layout=o[0].layout)}if(n.layout){if(n=Ja({},t.defaultWindowOptions,n,an),n.layout=Ja(n.layout,nn),(n.icon||n.taskbarIcon)&&(n.taskbarIconGroup=n.taskbarIconGroup||fin.me.identity.uuid),!n.backgroundColor){const e=a?.palette;n.backgroundColor=e?.background2||e?.backgroundPrimary}const e=n.workspacePlatform.newTabUrl;e&&(n.layout.settings||(n.layout.settings={}),n.layout.settings.newTabButton={url:e}),n=(e=>{const t=e;return t.workspacePlatform||(t.workspacePlatform={}),t.workspacePlatform._internalDeferShowEnabled=!0,t.workspacePlatform._internalAutoShow=t.workspacePlatform?._internalAutoShow||void 0===t.autoShow||t.autoShow,t.autoShow=!1,t})(n)}return n.cornerRounding&&delete n.cornerRounding,n})(o,e,t[0])}o=await(async e=>{const t=await fin.System.getMonitorInfo(),a=t.primaryMonitor.availableRect.bottom-t.primaryMonitor.availableRect.top,n=t.primaryMonitor.availableRect.right-t.primaryMonitor.availableRect.left;return e.defaultHeight=e.defaultHeight||"800",e.defaultWidth=e.defaultWidth||"800",a<e.defaultHeight&&(e.defaultHeight=a),n<e.defaultWidth&&(e.defaultWidth=n),e})(o);const i=(e,t)=>super.createWindow(e,t);return(n?(e=>async(t,a)=>{const n=await e(t,a);return t?.workspacePlatform?._internalDeferShowEnabled?(await n.addListener(U.ShowRequested,(()=>{})),n):n})(i):i)(o,a)}async createView(t,a){return t.opts=Ya(t.opts,e?.defaultViewOptions),t.opts=await Za(t.opts,this.fetchManifest,a),super.createView(t,a)}async replaceView(t,a){return t.opts.newView=await Ya(t.opts.newView,e?.defaultViewOptions),t.opts.newView=await Za(t.opts.newView,this.fetchManifest,a),super.replaceView(t,a)}async replaceLayout(e,t){return e.opts.layout?.dimensions,super.replaceLayout(e,t)}async closeView(e,t){const a=fin.View.wrapSync(e.view);await super.closeView(e,t),await a.destroy().catch((e=>e))}async getSavedPage(...e){return yt.apply(this,e)}async getSavedPages(...e){return ht.apply(this,e)}async createSavedPage(...e){return ft.apply(this,e)}async deleteSavedPage(...e){return mt.apply(this,e)}async updateSavedPage(...e){return St.apply(this,e)}async getSavedWorkspace(...e){return $a.apply(this,e)}async getSavedWorkspaces(...e){return Ha.apply(this,e)}async createSavedWorkspace(...e){return qa.apply(this,e)}async deleteSavedWorkspace(...e){return Ka.apply(this,e)}async updateSavedWorkspace(...e){return ja.apply(this,e)}async attachPagesToWindow(t){t.pages=await on(t.pages,e?.defaultPageOptions),await _e(t)}async openGlobalContextMenuInternal(...e){return Ua.apply(this,e)}async openGlobalContextMenu(...e){return Da.apply(this,e)}async openViewTabContextMenuInternal(...e){return _a.apply(this,e)}async openViewTabContextMenu(...e){return Da.apply(this,e)}async openPageTabContextMenuInternal(...e){return Fa.apply(this,e)}async openPageTabContextMenu(...e){return Da.apply(this,e)}async openSaveButtonContextMenu(...e){return Da.apply(this,e)}async openSaveButtonContextMenuInternal(...e){return Ga.apply(this,e)}}return"function"==typeof t?t(o):new o};async function ln(){!function(){const e=x();e.addListener(O.WindowOptionsChanged,Qe),e.addListener(O.WindowClosed,Je),e.addListener(O.WindowCreated,Je)}(),async function(){const e=fin.Application.getCurrentSync();await e.addListener("window-focused",pe)}();oe(await ie())}let wn;function un({overrideCallback:e,interopOverride:t,browser:a}){if(!S)throw new Error("Cannot be used outside an OpenFin env.");if(!wn){fin.Platform.getCurrentSync().once("platform-api-ready",(()=>ln())),a?.title&&(n=a.title,Qt=n),wn=fin.Platform.init({overrideCallback:pn(a,e||a?.overrideCallback),interopOverride:t||a?.interopOverride}),(async e=>{z(j.Platform,e)})({allowed:!0})}var n;return wn}const gn=async({theme:e,customActions:t,...a})=>{const n=T.split(".").map((e=>parseInt(e))),o=await(async e=>new Promise((async t=>{const a=(await fin.System.getVersion()).split(".").map((e=>parseInt(e)));t(e.every(((t,n)=>!(n<3)||a[n]===e[n])))})))(n);var i;if(e&&((i=e).forEach((e=>{const t=e.palette.backgroundPrimary;if(!t.includes("#")&&!t.includes("rgb")&&!t.includes("hsl"))throw new Error("Background primary color is not the right format.")})),cn=i,(async e=>{z(j.Theming,e)})({allowed:!0})),t&&(Xe=t),o)return un(a);throw new Error(`Runtime version is not supported.  ${n[0]}.${n[1]}.${n[2]}.* is required`)};module.exports=d})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/@openfin/workspace/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@openfin/workspace/index.js ***!
  \******************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>ze.Pt,CLIFilterOptionType:()=>ze.el,CLITemplate:()=>ze.yW,deregister:()=>Ye,hide:()=>tt,register:()=>Qe,show:()=>et});var o={};n.r(o),n.d(o,{subscribe:()=>ie});var r={};n.r(r),n.d(r,{create:()=>Ge});var i=n(6532),s=n(7405);const a="home";var c;!function(e){e.Commands="home-commands"}(c||(c={}));var d,u=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(d||(d={}));var f=n(5316);const l="all",p="0",g="5",w="6",h=()=>{};function y(e,t){return e?`${e}-${t}`:t}function v(e){return`__search-${e}-topic__`}const m=new Map;function S(e,t){m.has(e)||m.set(e,new Set),m.get(e).add(t)}function C(e,t){const n=m.get(e);n&&n.delete(t)}const P=new Map;function R(e,t){P.has(e)||P.set(e,new Set),P.get(e).add(t)}function b(e,t){const n=P.get(e);n&&n.delete(t)}const T=new Map;async function I(e,t){T.has(e)||T.set(e,new Map),T.get(e).set(t.id,t);const n=m.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function L(e,t){const n=T.get(e);if(!n)return;n.delete(t);const o=P.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function k(e){return T.get(e)?[...T.get(e).values()]:[]}function M(e){const t=T.get(e);t&&t.clear()}function B(e,t){const n=T.get(e);return n?n.get(t):null}function O(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function x(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let s=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...r),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function A(e){const t={};let n=[];let o=[];let r=d.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=h;const i={};return t.res=i,i.close=()=>{r!==d.Close&&(r=d.Close,t.onChange())},i.open=()=>{r!==d.Open&&(r=d.Open,t.onChange())},i.respond=n=>{const o=x(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function W(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function D(){return{name:fin.me.name,uuid:fin.me.uuid}}function E(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const F="deregistered or does not exist",_=new Error(`provider ${F}`),$=new Error("provider with name already exists"),q=new Error("bad payload"),G=new Error("subscription rejected"),N=new Error(`channel ${F}`),H=new Map;function U(e){const t=V(e);if(t)return t;throw N}function V(e){const t=H.get(e);if(t)return t}function j(e,t){H.set(e,t)}const K=new Map;function X(e){K.has(e)||K.set(e,new Map);const t=K.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function J(e,t){return(await U(e)).dispatch(p,t)}function Z({namespacedTopic:e,topic:t}){const n=B.bind(null,e),o=X(e),r=J.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=q;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=_;return{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=W(t,s,e),d.set(e.id,u));const f=A(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();r({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function z(e,t,n){const o=n||await U(e),r=D(),i={identity:r,...t,onUserInput:void 0,onResultDispatch:void 0};await o.dispatch("2",i),await I(e,{identity:r,...t})}async function Q(e,t){const n=await U(e);return await n.dispatch("3",t),L(e,t)}async function Y(e,t,n,o){const r=O(n,D(),o),i=B(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const s={providerId:t,result:r};return(await U(e)).dispatch(g,s)}async function ee(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await U(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id,o.close=()=>{!async function(e,t){(await U(e)).dispatch(w,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function te(e){return(await U(e)).dispatch("4",null)}async function ne(e){const t=await U(e);var n;n=e,H.delete(n),M(e),await t.disconnect()}function oe(e){const{namespacedTopic:t}=e,n=X(t);return async o=>{if(!V(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);j(t,(async e=>{const{namespacedTopic:t}=e,n=await re(e);for(const e of k(t))await z(t,e,n);return n})(e))}}async function re(e){const{namespacedTopic:t}=e,n=v(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(p,Z(e)),o.register(w,function(e){const t=X(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(g,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=B(e,t.providerId);if(!o)return;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(oe(e)),o}async function ie(e){const t=("string"==typeof e?e:e?.topic)||l,n=("string"==typeof e?null:e?.uuid)||E(),o=y(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=V(o);return i||(i=re(r),j(o,i),await i),{getAllProviders:te.bind(null,o),register:z.bind(null,o),search:ee.bind(null,o),deregister:Q.bind(null,o),dispatch:Y.bind(null,o),disconnect:ne.bind(null,o)}}const se=new Map;function ae(e){const t=ce(e);if(t)return t;throw N}function ce(e){const t=se.get(e);if(t)return t}const de=new Map;function ue(e,t){de.has(e)||de.set(e,new Set),de.get(e).add(t)}function fe(e,t){const n=de.get(e);n&&n.delete(t)}function le(e){return[...k(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function pe(e,t){if(B(e,t.id))throw new Error("provider with name already exists");const n=D();await I(e,{identity:n,...t})}function ge(e,t){L(e,t)}async function we(e,t,n,o){const r=B(e,t);if(!r)throw _;const{onResultDispatch:i}=r;if(!i)return;return i(O(n,D(),o))}async function*he(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const s of e){const e=A(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon,dispatchFocusEvents:s.dispatchFocusEvents}};n.push(a),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await s.onUserInput(t,e.res);a.results=x(a.results,n),a.context={...a.context,...o}}catch(e){a.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>B(e,t))).filter((e=>!!e)):[...k(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:s,initialResponsePromises:a}=o,c=f.De.Fetching;const u=e=>{c=e,n.setState(c)};let l,p=!1;t.onClose((()=>{p=!0,l&&l()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},g=[];for(const t of s){const n=i[t],s=r[t],a=n.getStatus();(a===d.Open||c===f.De.Fetching&&a===d.Initial)&&(g.push(t),n.onChange=o);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=x(s.results,u),e=!0);const l=n.getRevokedBuffer();if(l.length){n.setRevokedBuffer([]);const t=new Set(l);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=g,e&&(yield r),p)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{l=e}))])}while(s.length||a.length);return u(f.De.Complete),r}let ye=0;function ve({namespacedTopic:e,topic:t},n){ye+=1;const o=W(t,ye.toString(),n),r=he(e,o.req,{setState:e=>{r.state=e}});return r.id=ye.toString(),r.close=o.close,r.state=f.De.Fetching,r}const me=new Map;function Se(e,t){return`${e}:${t}`}function Ce(e){return async(t,...n)=>{if(!t)return{error:q.message};let o;if(t.id)o=Se(e.namespacedTopic,t.id);else{const n=ve(e,t);o=Se(e.namespacedTopic,n.id),t.id=n.id,me.set(o,{generator:n})}const r=me.get(o);clearTimeout(r.timeout);const i=await r.generator.next();return r.timeout=function(e){return window.setTimeout((()=>{me.delete(e)}),1e4)}(o),{...i,id:t.id,state:r.generator.state}}}function Pe(e,t,n){return ae(e).dispatch(t,w,{id:n})}function Re(e){return t=>function(e,t){const n=Se(e,t),o=me.get(n);o&&o.generator.close()}(e,t.id)}async function be(e,t,{id:n,query:o,context:r,targets:i}){const s=ae(e),a={id:n,query:o,context:r,targets:i,providerId:t.id},c=await s.dispatch(t.identity,p,a),d=c.error;if(d)throw new Error(d);return c}const Te=new Map;function Ie(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Le=new Map;function ke(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Ie.bind(null,e,t.identity),o=Pe.bind(null,e,t.identity),r=be.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!Te.has(a)){const e=()=>{o(i.id),Te.delete(a)};Te.set(a,e),i.onClose(e)}const c=ke(e,t.id,i.id),u=()=>{Le.delete(c),s.close()};i.onClose(u),Le.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===d.Open&&s.open(),e.status===d.Close&&u()}));const f=await r(i);return f.status===d.Open&&s.open(),f.status!==d.Close&&f.status!==d.Initial||u(),f}}function Be(e,t){return async n=>{const o=ae(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,g,r)}}const Oe=new Map;function xe(e,t){return`${e}-${t.name}-${t.uuid}`}function Ae(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(B(e,t.id))throw $;t.identity=n,await async function(e,t){const n=xe(e,t.identity);Oe.has(n)||Oe.set(n,[]),Oe.get(n).push(t.id),await I(e,{...t,onUserInput:Me(e,t),onResultDispatch:Be(e,t)})}(e,t)}}function We(e){return t=>{t&&function(e,t){const n=B(e,t);if(!n)return;const o=xe(e,n.identity),r=Oe.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),L(e,t))}}(e,t)}}const De=new Map;function Ee(e,t){De.has(e)||De.set(e,new Set),De.get(e).add(t)}function Fe(e,t){const n=De.get(e);n&&n.delete(t)}function _e(e){return async t=>{!function(e,t){const n=xe(e,t),o=Oe.get(n);if(o){for(const t of o)L(e,t);Oe.delete(n)}}(e,t);const n=De.get(e);n&&n.forEach((e=>e(t)))}}async function $e(e){const{namespacedTopic:t}=e,n=v(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=de.get(e);if(n)for(const e of n)if(!await e(t))throw G}}(e)),o.onDisconnection(_e(t)),o.register(w,Re(t)),o.register(p,function(e){return t=>{const n=ke(e,t.providerId,t.id),o=Le.get(n);o&&o(t)}}(t)),o.register("2",Ae(t)),o.register("3",We(t)),o.register("4",function(e){return async()=>le(e)}(t)),o.register("1",Ce(e)),o.register(g,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=B(e,t.providerId);if(!o)throw _;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function qe(e){const t=ae(e);var n;n=e,se.delete(n),await t.destroy(),M(e)}async function Ge(e){const t=("string"==typeof e?e:e?.topic)||l,n=E(),o=y(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=ce(o);i||(i=await $e(r),function(e,t){se.set(e,t)}(o,i));const s=fe.bind(null,o),a=Fe.bind(null,o),c=C.bind(null,o),d=b.bind(null,o);return{getAllProviders:le.bind(null,o),search:ve.bind(null,r),register:pe.bind(null,o),deregister:ge.bind(null,o),onSubscription:ue.bind(null,o),onDisconnect:Ee.bind(null,o),onRegister:S.bind(null,o),onDeregister:R.bind(null,o),dispatch:we.bind(null,r),disconnect:qe.bind(null,o),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ne}=r,{subscribe:He}=o,Ue={create:Ne,subscribe:He,defaultTopic:"all"},Ve=()=>{const e=window;e.search=Ue,e.fin&&(e.fin.Search=Ue)},je=e=>{const t=()=>{Ve(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ve();const e="load",t=je(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=je(n);window.addEventListener(n,o)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await He({topic:e,uuid:u.q9.Workspace}))}(a)}let Je;async function Ze(e){return await async function(){return Je||(Je=Xe()),Je}(),Ke.get(e)}var ze=n(3758);const Qe=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,s.aB)();const t=await Ze(a);try{const n=await t.register(e);return(0,i.ck)({allowed:!0}),n}catch(e){throw(0,i.ck)({allowed:!1,rejectionCode:e.message}),e}},Ye=async e=>{await(0,s.aB)();return(await Ze(a)).deregister(e)};async function et(){return(await(0,s.Xl)()).dispatch(s.Ml.ShowHome,void 0)}async function tt(){return(await(0,s.Xl)()).dispatch(s.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>o.wt});var o=n(5316)},3758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,yW:()=>r,el:()=>i}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>o,Go:()=>r,bI:()=>i,ZJ:()=>s});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>i.L,StorefrontTemplate:()=>i.T,deregister:()=>f,hide:()=>l,register:()=>u,show:()=>p});var o=n(6532),r=n(7405);n(7564);var i=n(6114);let s;const a=new Map,c=e=>{if(!a.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return a.get(e)},d=async e=>{const t=await(0,r.Xl)();if(a.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return a.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.Ml.GetStorefrontProviderApps,(e=>c(e).getApps())),e.register(r.Ml.GetStorefrontProviderFooter,(e=>c(e).getFooter())),e.register(r.Ml.GetStorefrontProviderLandingPage,(e=>c(e).getLandingPage())),e.register(r.Ml.GetStorefrontProviderNavigation,(e=>c(e).getNavigation())),e.register(r.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>c(e).launchApp(t))))})(t),t.dispatch(r.Ml.RegisterStorefrontProvider,e)},u=e=>(s=d(e),(0,o.d9)({allowed:!0}),s),f=async e=>{await s,a.delete(e);return(await(0,r.Xl)()).dispatch(r.Ml.DeregisterStorefrontProvider,e)},l=async()=>{await s,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.HideStorefront,void 0))()},p=async()=>{await s,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var o=n(6678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(o.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(o.aW)),fin.System.openUrlWithBrowser(d(o.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,o.Workspace,o.Workspace},6678:(e,t,n)=>{var o;n.d(t,{sS:()=>r,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f,u0:()=>p}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:o.Local,a=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/8.1.7/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,p=(l("https://cdn.openfin.co/workspace/8.1.7"),l("https://cdn.openfin.co/workspace/8.1.7"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"8.1.7")},6532:(e,t,n)=>{n.d(t,{ck:()=>a,d9:()=>c});var o,r=n(6678),i=n(121);!function(e){e.Browser="Browser",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:r.u0,...t};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(o.Home,e)},c=async e=>{s(o.Storefront,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>c,OI:()=>d,iW:()=>u,JV:()=>f});var o,r,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const c={name:s.oC,uuid:s.AB};const d={name:o.Home,uuid:i.q9.Workspace},u=(o.Dock,i.q9.Workspace,o.Storefront,i.q9.Workspace,{name:i.q9.Workspace,uuid:i.q9.Workspace});const f=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>r,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,r=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/apps.ts":
/*!****************************!*\
  !*** ./client/src/apps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "developerContent": () => (/* binding */ developerContent),
/* harmony export */   "experoApp": () => (/* binding */ experoApp),
/* harmony export */   "getApps": () => (/* binding */ getApps),
/* harmony export */   "notificationStudio": () => (/* binding */ notificationStudio),
/* harmony export */   "processManager": () => (/* binding */ processManager)
/* harmony export */ });
async function getApps() {
    return [experoApp, notificationStudio, processManager, developerContent];
}
const experoApp = {
    appId: "expero-company-news",
    title: "Gateway - Company News",
    manifest: "https://openfin-iex.experolabs.com/openfin/manifests/company-news.json",
    manifestType: "view",
    icons: [
        {
            src: "https://openfin-iex.experolabs.com/favicon.ico"
        }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "Expero",
    intents: [],
    images: [{
            src: "http://localhost:8080/common/images/previews/expero-news-view.png"
        }],
    tags: ["expero", "view", "interop"]
};
const notificationStudio = {
    appId: "notifications-generator",
    title: "OpenFin Notifications Studio",
    manifestType: "manifest",
    description: "Notifications Studio: This is OpenFin's tool for demonstrating the power of our Notification Center. Use it to create local notifications or use some of the examples shown in our Catalog. Experiment with our features and see the power that OpenFin Notification Center can bring to your applications.",
    manifest: "https://cdn.openfin.co/studio/notification/app.json",
    icons: [
        { src: "https://cdn.openfin.co/demos/notifications/generator/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/common/images/previews/openfin-notification-studio.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const processManager = {
    appId: "openfin-process-manager",
    title: "OpenFin Process Manager",
    manifestType: "manifest",
    description: "Process Manager: This is OpenFin's tool for helping developers build OpenFin Applications. It lets you see the OpenFin applications that are running, the performance of the applications (memory and cpu) and easy access to the dev tools for the Windows of your application.",
    manifest: "https://cdn.openfin.co/process-manager/app.json",
    icons: [
        { src: "https://cdn.openfin.co/process-manager/img/proc-mgr-icon.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/common/images/previews/openfin-process-manager.png"
        }],
    tags: ["hero", "manifest", "tools"]
};
const developerContent = {
    appId: "openfin-developer-page",
    title: "OpenFin Developer Docs",
    manifestType: "snapshot",
    description: "Shows a collection of OpenFin developer pages and provides an example of how you can present a pre-built page as a launch target in OpenFin Home. This entry has a manifest type of 'snapshot'.",
    manifest: "http://localhost:8080/common/snapshots/snapshot.json",
    icons: [
        { src: "http://localhost:8080/common/images/icon-blue.png" }
    ],
    contactEmail: "contact@example.com",
    supportEmail: "support@example.com",
    publisher: "OpenFin",
    intents: [],
    images: [{
            src: "http://localhost:8080/common/images/previews/openfin-page-docs.png"
        }],
    tags: ["page"]
};


/***/ }),

/***/ "./client/src/home.ts":
/*!****************************!*\
  !*** ./client/src/home.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "hide": () => (/* binding */ hide),
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "show": () => (/* binding */ show)
/* harmony export */ });
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "../../node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps */ "./client/src/apps.ts");



const providerId = "register-with-home-basic";
async function getResults(query) {
    let apps = await (0,_apps__WEBPACK_IMPORTED_MODULE_2__.getApps)();
    if (Array.isArray(apps)) {
        let initialResults = [];
        for (let i = 0; i < apps.length; i++) {
            let entry = {
                key: apps[i].appId,
                title: apps[i].title,
                data: apps[i],
                actions: [],
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Plain
            };
            let action = { name: "Launch View", hotkey: "enter" };
            if (apps[i].manifestType === "view") {
                entry.label = "View";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "snapshot") {
                entry.label = "Snapshot";
                action.name = "Launch Snapshot";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "manifest") {
                entry.label = "App";
                action.name = "Launch App";
                entry.actions = [action];
            }
            if (apps[i].manifestType === "external") {
                action.name = "Launch Native App";
                entry.actions = [action];
                entry.label = "Native App";
            }
            if (Array.isArray(apps[i].icons) && apps[i].icons.length > 0) {
                entry.icon = apps[i].icons[0].src;
            }
            if (apps[i].description !== undefined) {
                entry.description = apps[i].description;
                entry.shortDescription = apps[i].description;
                entry.template = _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.SimpleText;
                entry.templateContent = apps[i].description;
            }
            initialResults.push(entry);
        }
        let finalResults;
        if (query === undefined || query === null || query.length === 0) {
            finalResults = initialResults;
        }
        else {
            finalResults = initialResults.filter(entry => {
                let targetValue = entry.title;
                if (targetValue !== undefined && targetValue !== null && typeof targetValue === "string") {
                    return targetValue.toLowerCase().indexOf(query) > -1;
                }
                return false;
            });
        }
        let response = {
            results: finalResults
        };
        return response;
    }
    else {
        return {
            results: []
        };
    }
}
async function register() {
    console.log("Initialising home.");
    const queryMinLength = 3;
    const onUserInput = async (request, response) => {
        let query = request.query.toLowerCase();
        if (query.indexOf("/") === 0) {
            return { results: [] };
        }
        if (query.length < queryMinLength) {
            return getResults();
        }
        return getResults(query);
    };
    const onSelection = async (result) => {
        if (result.data !== undefined) {
            let platform = (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.getCurrentSync)();
            await platform.launchApp({ app: result.data });
        }
        else {
            console.warn("Unable to execute result without data being passed");
        }
    };
    const cliProvider = {
        title: "Basic Workspace Platform",
        id: providerId,
        icon: "http://localhost:8080/favicon.ico",
        onUserInput: onUserInput,
        onResultDispatch: onSelection,
    };
    console.log("Home configured.");
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.register(cliProvider);
}
async function deregister() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.deregister(providerId);
}
async function show() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.show();
}
async function hide() {
    return _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.Home.hide();
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace-platform */ "../../node_modules/@openfin/workspace-platform/index.js");
/* harmony import */ var _openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home */ "./client/src/home.ts");


async function init() {
    await (0,_openfin_workspace_platform__WEBPACK_IMPORTED_MODULE_0__.init)({
        browser: {}
    });
    let registerHome = document.getElementById("register");
    let deregisterHome = document.getElementById("deregister");
    let showHome = document.getElementById("show");
    let hideHome = document.getElementById("hide");
    registerHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.register)();
        showHome.style.display = "unset";
        hideHome.style.display = "unset";
        deregisterHome.style.display = "unset";
        registerHome.style.display = "none";
    };
    deregisterHome.onclick = async () => {
        showHome.style.display = "none";
        hideHome.style.display = "none";
        deregisterHome.style.display = "none";
        registerHome.style.display = "unset";
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.deregister)();
    };
    showHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.show)();
    };
    hideHome.onclick = async () => {
        await (0,_home__WEBPACK_IMPORTED_MODULE_1__.hide)();
    };
}
window.addEventListener('DOMContentLoaded', async () => {
    await init();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvLi9jbGllbnQvc3JjL2FwcHMudHMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy8uL2NsaWVudC9zcmMvaG9tZS50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLXJlZ2lzdGVyLXdpdGgtaG9tZS1iYXNpYy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1yZWdpc3Rlci13aXRoLWhvbWUtYmFzaWMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tcmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljLy4vY2xpZW50L3NyYy9wcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZSx0LGEsbixvLGkscixzLGM9e2Q6KGUsdCk9Pntmb3IodmFyIGEgaW4gdCljLm8odCxhKSYmIWMubyhlLGEpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxhLHtlbnVtZXJhYmxlOiEwLGdldDp0W2FdfSl9LG86KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLHI6ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9fSxkPXt9O2MucihkKSxjLmQoZCx7QXBwTWFuaWZlc3RUeXBlOigpPT5yLEJyb3dzZXJCdXR0b25UeXBlOigpPT5nLEN1c3RvbUFjdGlvbkNhbGxlclR5cGU6KCk9PmgsR2xvYmFsQ29udGV4dE1lbnVPcHRpb25UeXBlOigpPT5sLFBhZ2VUYWJDb250ZXh0TWVudU9wdGlvblR5cGU6KCk9PncsU2F2ZUJ1dHRvbkNvbnRleHRNZW51T3B0aW9uVHlwZTooKT0+eSxTYXZlTW9kYWxUeXBlOigpPT5mLFZpZXdUYWJNZW51T3B0aW9uVHlwZTooKT0+dSxnZXRDdXJyZW50U3luYzooKT0+RXQsaW5pdDooKT0+Z24sd3JhcFN5bmM6KCk9Pk10fSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShlfHwoZT17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHR8fCh0PXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KGF8fChhPXt9KSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuU25hcHNob3Q9XCJzbmFwc2hvdFwiLGUuTWFuaWZlc3Q9XCJtYW5pZmVzdFwiLGUuVmlldz1cInZpZXdcIixlLkV4dGVybmFsPVwiZXh0ZXJuYWxcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkxhbmRpbmdQYWdlPVwibGFuZGluZ1BhZ2VcIixlLkFwcEdyaWQ9XCJhcHBHcmlkXCJ9KHN8fChzPXt9KSk7dmFyIHAsbCx3LHUsZyx5LGgsZixtOyFmdW5jdGlvbihlKXtlLlByaW1hcnk9XCJwcmltYXJ5XCIsZS5TZWNvbmRhcnk9XCJzZWNvbmRhcnlcIixlLlRleHRPbmx5PVwidGV4dE9ubHlcIn0ocHx8KHA9e30pKSxmdW5jdGlvbihlKXtlLk5ld1dpbmRvdz1cIk5ld1dpbmRvd1wiLGUuTmV3UGFnZT1cIk5ld1BhZ2VcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5DbG9zZVdpbmRvdz1cIkNsb3NlV2luZG93XCIsZS5SZXN0b3JlQ2hhbmdlcz1cIlJlc3RvcmVDaGFuZ2VzXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZW5hbWVXb3Jrc3BhY2U9XCJSZW5hbWVXb3Jrc3BhY2VcIixlLlN3aXRjaFdvcmtzcGFjZT1cIlN3aXRjaFdvcmtzcGFjZVwiLGUuRGVsZXRlV29ya3NwYWNlPVwiRGVsZXRlV29ya3NwYWNlXCIsZS5PcGVuU3RvcmVmcm9udD1cIk9wZW5TdG9yZWZyb250XCIsZS5RdWl0PVwiUXVpdFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5DbG9zZT1cIkNsb3NlXCIsZS5EdXBsaWNhdGU9XCJEdXBsaWNhdGVcIixlLlJlbmFtZT1cIlJlbmFtZVwiLGUuU2F2ZT1cIlNhdmVcIixlLlNhdmVBcz1cIlNhdmUgQXNcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh3fHwodz17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3Vmlldz1cIk5ld1ZpZXdcIixlLkR1cGxpY2F0ZVZpZXdzPVwiRHVwbGljYXRlVmlld1wiLGUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcj1cIk9wZW5XaXRoRGVmYXVsdEJyb3dzZXJcIixlLlJlbG9hZFZpZXdzPVwiUmVsb2FkVGFiXCIsZS5DbG9zZVZpZXdzPVwiQ2xvc2VUYWJcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJSZW1vdmVGcm9tQ2hhbm5lbFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkNvbG9yTGlua2luZz1cIkNvbG9yTGlua2luZ1wiLGUuUHJlc2V0TGF5b3V0cz1cIlByZXNldExheW91dHNcIixlLkxvY2tVbmxvY2tQYWdlPVwiTG9ja1VubG9ja1BhZ2VcIixlLlNhdmVNZW51PVwiU2F2ZU1lbnVcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLk1pbmltaXNlPVwiTWluaW1pc2VcIixlLk1heGltaXNlPVwiTWF4aW1pc2VcIixlLkNsb3NlPVwiQ2xvc2VcIixlLkN1c3RvbT1cIkN1c3RvbVwifShnfHwoZz17fSkpLGZ1bmN0aW9uKGUpe2UuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZT1cIlNhdmVXb3Jrc3BhY2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5TYXZlV29ya3NwYWNlQXM9XCJTYXZlV29ya3NwYWNlQXNcIixlLkN1c3RvbT1cIkN1c3RvbVwifSh5fHwoeT17fSkpLGZ1bmN0aW9uKGUpe2UuQ3VzdG9tQnV0dG9uPVwiQ3VzdG9tQnV0dG9uXCIsZS5HbG9iYWxDb250ZXh0TWVudT1cIkdsb2JhbENvbnRleHRNZW51XCIsZS5WaWV3VGFiQ29udGV4dE1lbnU9XCJWaWV3VGFiQ29udGV4dE1lbnVcIixlLlBhZ2VUYWJDb250ZXh0TWVudT1cIlBhZ2VUYWJDb250ZXh0TWVudVwiLGUuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PVwiU2F2ZUJ1dHRvbkNvbnRleHRNZW51XCIsZS5BUEk9XCJBUElcIn0oaHx8KGg9e30pKSxmdW5jdGlvbihlKXtlLlNBVkVfUEFHRT1cIlNBVkVfUEFHRVwiLGUuU0FWRV9XT1JLU1BBQ0U9XCJTQVZFX1dPUktTUEFDRVwiLGUuU0FWRV9QQUdFX0FTPVwiU0FWRV9QQUdFX0FTXCIsZS5TQVZFX1dPUktTUEFDRV9BUz1cIlNBVkVfV09SS1NQQUNFX0FTXCIsZS5SRU5BTUVfUEFHRT1cIlJFTkFNRV9QQUdFXCIsZS5SRU5BTUVfV09SS1NQQUNFPVwiUkVOQU1FX1dPUktTUEFDRVwifShmfHwoZj17fSkpLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0obXx8KG09e30pKTtjb25zdCBTPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4sdj0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxQPXYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbmRleGVkREIsaz12P3dpbmRvdy5vcmlnaW46bS5Mb2NhbCxiPVMmJmZpbi5tZS51dWlkLFc9UyYmZmluLm1lLm5hbWUsQz1TJiZmaW4ubWUuZW50aXR5VHlwZSxJPShtLkxvY2FsLG0uRGV2LG0uU3RhZ2luZyxtLlByb2QsZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTprK2UpLEE9KEkoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS84LjEuN1wiKSxJKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOC4xLjdcIikpLFQ9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJkkoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmSShXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKSxcIjI2LjEwMi43MC4xNlwiKSxNPVwiOC4xLjdcIjt2YXIgRSxPLEI7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KEV8fChFPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShPfHwoTz17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oQnx8KEI9e30pKTtjb25zdCBSPXt1dWlkOmIsbmFtZTpifSxMPShFLldvcmtzcGFjZSxFLldvcmtzcGFjZSxlPT57aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0QXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgaW4gYSBub24gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uQXBwbGljYXRpb24ud3JhcFN5bmMoZSl9KSx4PSgpPT5MKFIpO3ZhciBWLFU7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VyTWVudT1cIm9wZW5maW4tYnJvd3Nlci1tZW51XCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIn0oVnx8KFY9e30pKSxmdW5jdGlvbihlKXtlLlNob3duPVwic2hvd25cIixlLkJvdW5kc0NoYW5nZWQ9XCJib3VuZHMtY2hhbmdlZFwiLGUuTGF5b3V0UmVhZHk9XCJsYXlvdXQtcmVhZHlcIixlLkVuZFVzZXJCb3VuZHNDaGFuZ2luZz1cImVuZC11c2VyLWJvdW5kcy1jaGFuZ2luZ1wiLGUuQmx1cnJlZD1cImJsdXJyZWRcIixlLkNsb3NlUmVxdWVzdGVkPVwiY2xvc2UtcmVxdWVzdGVkXCIsZS5Gb2N1c2VkPVwiZm9jdXNlZFwiLGUuU2hvd1JlcXVlc3RlZD1cInNob3ctcmVxdWVzdGVkXCIsZS5WaWV3Q3Jhc2hlZD1cInZpZXctY3Jhc2hlZFwiLGUuVmlld0F0dGFjaGVkPVwidmlldy1hdHRhY2hlZFwiLGUuVmlld0RldGFjaGVkPVwidmlldy1kZXRhY2hlZFwiLGUuVmlld1BhZ2VUaXRsZVVwZGF0ZWQ9XCJ2aWV3LXBhZ2UtdGl0bGUtdXBkYXRlZFwiLGUuVmlld0Rlc3Ryb3llZD1cInZpZXctZGVzdHJveWVkXCIsZS5PcHRpb25zQ2hhbmdlZD1cIm9wdGlvbnMtY2hhbmdlZFwifShVfHwoVT17fSkpO2Z1bmN0aW9uIEQoZSl7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3QgXz17bmFtZTpXLHV1aWQ6Yn07ZnVuY3Rpb24gRigpe3JldHVybiBEKF8pfVYuSG9tZSxFLldvcmtzcGFjZSxWLkRvY2ssRS5Xb3Jrc3BhY2U7Y29uc3QgRz17bmFtZTpWLlN0b3JlZnJvbnQsdXVpZDpFLldvcmtzcGFjZX07RS5Xb3Jrc3BhY2UsRS5Xb3Jrc3BhY2U7YXN5bmMgZnVuY3Rpb24gTihlKXtjb25zdCB0PUQoZSk7XCJtaW5pbWl6ZWRcIj09PWF3YWl0IHQuZ2V0U3RhdGUoKSYmYXdhaXQgdC5yZXN0b3JlKCksYXdhaXQgdC5zaG93KCksYXdhaXQgdC5icmluZ1RvRnJvbnQoKSxhd2FpdCB0LmZvY3VzKCl9Y29uc3QgJD1lPT5lLnN0YXJ0c1dpdGgoVi5Ccm93c2VyV2luZG93KTthc3luYyBmdW5jdGlvbiBIKCl7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldENoaWxkV2luZG93cygpKS5maWx0ZXIoKGU9PiQoZS5pZGVudGl0eS5uYW1lKSkpfWNvbnN0IHE9ZT0+RChlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpLEs9KCk9PnEoRyk7dmFyIGo7IWZ1bmN0aW9uKGUpe2UuQnJvd3Nlcj1cIkJyb3dzZXJcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wifShqfHwoaj17fSkpO2NvbnN0IHo9YXN5bmMoZSx0KT0+e2NvbnN0IGE9e2FwaVZlcnNpb246dC5hcGlWZXJzaW9ufHxNLGNvbXBvbmVudE5hbWU6ZSxjb21wb25lbnRWZXJzaW9uOk0sLi4udH07ZmluLlN5c3RlbS5yZWdpc3RlclVzYWdlKHt0eXBlOlwid29ya3NwYWNlLWxpY2Vuc2luZ1wiLGRhdGE6YX0pfTt2YXIgUTshZnVuY3Rpb24oZSl7ZS5DdXJyZW50V29ya3NwYWNlSWQ9XCJjdXJyZW50V29ya3NwYWNlSWRcIixlLkxhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImxhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuTWFjaGluZU5hbWU9XCJtYWNoaW5lTmFtZVwiLGUuTmV3VGFiUGFnZUxheW91dD1cIk5ld1RhYlBhZ2VMYXlvdXRcIixlLk5ld1RhYlBhZ2VTb3J0PVwiTmV3VGFiUGFnZVNvcnRcIn0oUXx8KFE9e30pKTtjb25zdCBKPVE7dmFyIFg7IWZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5TaGFyZVBhZ2U9XCJzaGFyZVBhZ2VcIixlLlVwZGF0ZVBhZ2VGb3JXaW5kb3c9XCJ1cGRhdGVQYWdlRm9yV2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoUGFnZXNUb1dpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoUGFnZXNGcm9tV2luZG93XCIsZS5SZW9yZGVyUGFnZXNGb3JXaW5kb3c9XCJyZW9yZGVyUGFnZXNGb3JXaW5kb3dcIixlLlNldEFjdGl2ZVBhZ2U9XCJzZXRBY3RpdmVQYWdlXCIsZS5HZXRBbGxBdHRhY2hlZFBhZ2VzPVwiZ2V0QWxsQXR0YWNoZWRQYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUlkRm9yV2luZG93PVwiZ2V0QWN0aXZlUGFnZUlkRm9yV2luZG93XCIsZS5HZXRQYWdlc0ZvcldpbmRvdz1cImdldFBhZ2VzRm9yV2luZG93XCIsZS5HZXRQYWdlRm9yV2luZG93PVwiZ2V0UGFnZUZvcldpbmRvd1wiLGUuR2V0U2F2ZWRQYWdlTWV0YWRhdGE9XCJnZXRTYXZlZFBhZ2VNZXRhZGF0YVwiLGUuR2V0VW5pcXVlUGFnZVRpdGxlPVwiZ2V0VW5pcXVlUGFnZVRpdGxlXCIsZS5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJnZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLkdldFRoZW1lcz1cImdldFRoZW1lc1wiLGUuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuSW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWw9XCJpbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlNldEFjdGl2ZVdvcmtzcGFjZT1cInNldEFjdGl2ZVdvcmtzcGFjZVwiLGUuSXNCcm93c2VySW5pdGlhbGl6ZWQ9XCJpc0Jyb3dzZXJJbml0aWFsaXplZFwifShYfHwoWD17fSkpO2NvbnN0IFk9YXN5bmMgZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLGE9YXdhaXQgdC5nZXRDbGllbnQoKSxuPVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7dHJ5e2NvbnN0IGU9YXdhaXQgYS5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIik7aWYoITA9PT1lfHwhMD09PWUuaXNXb3Jrc3BhY2VQbGF0Zm9ybSlyZXR1cm4gYTt0aHJvdyBuZXcgRXJyb3Iobil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKG4pfX0sWj1hc3luYyBlPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSksYT1hd2FpdCB0LmdldENsaWVudCgpLG49XCJUYXJnZXQgaXMgbm90IGEgV29ya3NwYWNlIFBsYXRmb3JtLiBUYXJnZXQgbXVzdCBjYWxsIFdvcmtzcGFjZVBsYXRmb3JtLmluaXRcIjtsZXQgbzt0cnl7bz1hd2FpdCBhLmRpc3BhdGNoKFwiaXNXb3Jrc3BhY2VQbGF0Zm9ybVwiKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3Iobil9aWYoITAhPT1vPy5pc1dvcmtzcGFjZVBsYXRmb3JtKXRocm93IG5ldyBFcnJvcihuKTtpZighMCE9PW8/LmlzQnJvd3NlckluaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcihcIlRhcmdldCBpcyBub3QgYSBCcm93c2VyLWVuYWJsZWQgV29ya3NwYWNlIFBsYXRmb3JtLlwiKTtyZXR1cm4gYX0sZWU9KGUsdCk9PiF0LmZpbmQoKHQ9PnQ9PT1lKSksdGU9KGUsdCk9PmAke2V9ICgke3R9KWAsYWU9KGUsdCk9PntsZXQgYT0xO2NvbnN0IG49ZS5yZXBsYWNlKC8gXFwoLitcXCkkLyxcIlwiKTtmb3IoOyFlZSh0ZShuLGEpLHQpOylhKz0xO3JldHVybiB0ZShuLGEpfTthc3luYyBmdW5jdGlvbiBuZShlKXt0cnl7Y29uc3QgdD1FdCgpO2F3YWl0IHQuYXBwbHlTbmFwc2hvdChlLnNuYXBzaG90LHtjbG9zZUV4aXN0aW5nV2luZG93czohMH0pLG9lKGUpfWNhdGNoKGUpe319ZnVuY3Rpb24gb2UoZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2FsU3RvcmFnZSl0cnl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShKLkN1cnJlbnRXb3Jrc3BhY2VJZCx0KX1jYXRjaChlKXt9fWFzeW5jIGZ1bmN0aW9uIGllKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGxvY2FsU3RvcmFnZSlyZXR1cm47Y29uc3QgZT1FdCgpLHQ9YXdhaXQgZS5nZXRTbmFwc2hvdCgpO3JldHVybnt3b3Jrc3BhY2VJZDpjcnlwdG8ucmFuZG9tVVVJRCgpLHRpdGxlOmF3YWl0IGNlKCksbWV0YWRhdGE6e0FQSVZlcnNpb246TX0sc25hcHNob3Q6dH19YXN5bmMgZnVuY3Rpb24gcmUoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYWxTdG9yYWdlKXJldHVybjtjb25zdCBlPWxvY2FsU3RvcmFnZS5nZXRJdGVtKEouQ3VycmVudFdvcmtzcGFjZUlkKTtpZighZSlyZXR1cm4gaWUoKTtjb25zdCB0PUpTT04ucGFyc2UoZSksYT1FdCgpLG49YXdhaXQgYS5nZXRTbmFwc2hvdCgpO3JldHVybnsuLi50LG1ldGFkYXRhOntBUElWZXJzaW9uOk19LHNuYXBzaG90Om59fWNvbnN0IHNlPWFzeW5jIGU9PmF3YWl0KGFzeW5jIGU9Pihhd2FpdCBZKF8pKS5kaXNwYXRjaChYLkdldFNhdmVkV29ya3NwYWNlLGUpKShlLndvcmtzcGFjZUlkKT8oYXN5bmMgZT0+KGF3YWl0IFkoXykpLmRpc3BhdGNoKFguVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsZSkpKHt3b3Jrc3BhY2VJZDplLndvcmtzcGFjZUlkLHdvcmtzcGFjZTplfSk6KGFzeW5jIGU9Pihhd2FpdCBZKF8pKS5kaXNwYXRjaChYLkNyZWF0ZVNhdmVkV29ya3NwYWNlLGUpKSh7d29ya3NwYWNlOmV9KTthc3luYyBmdW5jdGlvbiBjZShlPVwiVW50aXRsZWQgV29ya3NwYWNlXCIpe2NvbnN0IHQ9KGF3YWl0KGFzeW5jKCk9Pihhd2FpdCBZKF8pKS5kaXNwYXRjaChYLkdldFNhdmVkV29ya3NwYWNlcyx2b2lkIDApKSgpKS5tYXAoKCh7dGl0bGU6ZX0pPT5lKSk7cmV0dXJuIHQuZmluZCgodD0+dD09PWUpKT9hZShlLHQpOmV9YXN5bmMgZnVuY3Rpb24gZGUoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYWxTdG9yYWdlKXRyeXtjb25zdCBlPWxvY2FsU3RvcmFnZS5nZXRJdGVtKEouTGFzdEZvY3VzZWRCcm93c2VyV2luZG93KSx0PUpTT04ucGFyc2UoZSk7aWYoYXdhaXQgcSh0KSlyZXR1cm4gdH1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgbGFzdCBmb2N1c2VkIGJyb3dzZXIgd2luZG93OiAke2V9YCl9fWZ1bmN0aW9uIHBlKGU9ZmluLm1lLmlkZW50aXR5KXskKGUubmFtZSkmJmZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhbFN0b3JhZ2UpdHJ5e2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7bG9jYWxTdG9yYWdlLnNldEl0ZW0oSi5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdCl9Y2F0Y2goZSl7fX0oZSl9Y29uc3QgbGU9KGUsdD0wKT0+e2xldCBhLG4sbz0hMTtjb25zdCBpPWFzeW5jIG49Pntjb25zdCByPWF3YWl0IGUoLi4ubik7aWYobyl7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSx0KSkpO2NvbnN0IGU9YTtyZXR1cm4gYT12b2lkIDAsbz0hMSxpKGUpfXJldHVybiByfTtyZXR1cm4oLi4uZSk9PihuPyhvPSEwLGE9ZSk6bj1pKGUpLnRoZW4oKGU9PihuPXZvaWQgMCxlKSkpLG4pfTt2YXIgd2U7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifSh3ZXx8KHdlPXt9KSk7Y29uc3QgdWU9KGUsdCk9PmUuY29udGVudD97Li4uZSxjb250ZW50OmUuY29udGVudC5tYXAoKGU9PnVlKGUsdCkpKX06ey4uLmUsY29tcG9uZW50U3RhdGU6dChlLmNvbXBvbmVudFN0YXRlKX0sZ2U9ZT0+KHsuLi5lLG5hbWU6ZS5uYW1lP2UubmFtZTpjcnlwdG8ucmFuZG9tVVVJRCgpfSkseWU9ZT0+e2NvbnN0IHQ9W107cmV0dXJuKGUmJkFycmF5LmlzQXJyYXkoZSk/ZTpbXSkuZm9yRWFjaCgoZT0+e2lmKFwiY29tcG9uZW50XCI9PT1lLnR5cGUpcmV0dXJuIHQucHVzaChlLmNvbXBvbmVudFN0YXRlKTtjb25zdCBhPXllKGUuY29udGVudCk7dC5wdXNoKC4uLmEpfSkpLHR9LGhlPWFzeW5jKGUsdCxhPV8pPT57bGV0IG47aWYoJChhLm5hbWUpKXtuPShhd2FpdCBEKGEpLmdldE9wdGlvbnMoKSkubGF5b3V0fHx7c2V0dGluZ3M6e319fXJldHVybnsuLi5uLGNvbnRlbnQ6W3t0eXBlOlwic3RhY2tcIixjb250ZW50Olt7dHlwZTpcImNvbXBvbmVudFwiLGNvbXBvbmVudE5hbWU6XCJ2aWV3XCIsY29tcG9uZW50U3RhdGU6e3RpdGxlOmUsdXJsOnR9fV19XX19O25ldyBNYXA7ZnVuY3Rpb24gZmUoZSx0KXtyZXR1cm4gYXN5bmMoYSwuLi5uKT0+e2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSksdCYmYXdhaXQgdCh7ZXZlbnQ6YSxwYXlsb2FkOm59KX19ZnVuY3Rpb24gbWUoZSx0KXtyZXR1cm4gdCYmdCgodD0+e2NvbnN0e2V2ZW50OmEscGF5bG9hZDpufT10O2UuaGFzKGEpJiZlLmdldChhKS5mb3JFYWNoKChlPT5lKC4uLm4pKSl9KSksKHQsYSk9PntlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KS5hZGQoYSl9fWZ1bmN0aW9uIFNlKGUpe3JldHVybih0LGEpPT57ZS5oYXModCl8fGUuc2V0KHQsbmV3IFNldCk7Y29uc3Qgbj1lLmdldCh0KSxvPSguLi5lKT0+e2EoLi4uZSksbi5kZWxldGUobyl9O24uYWRkKG8pfX1mdW5jdGlvbiB2ZShlKXtyZXR1cm4odCxhKT0+e2UuaGFzKHQpJiZlLmdldCh0KS5kZWxldGUoYSl9fWNvbnN0IFBlPXYmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO2Z1bmN0aW9uIGtlKGUpe2xldCB0O3JldHVybigpPT57aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgUGU7Y29uc3QgYT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSk7cmV0dXJuIGEub25EaXNjb25uZWN0aW9uKChhc3luYygpPT57dD12b2lkIDB9KSksYX0pKCkudGhlbigoZT0+ZSkpLmNhdGNoKChhPT57dGhyb3cgdD12b2lkIDAsbmV3IEVycm9yKGBmYWlsZWQgdG8gY29ubmVjdCB0byBjaGFubmVsIHByb3ZpZGVyICR7ZX06ICR7YX1gKX0pKSksdH19Y29uc3QgYmU9ZT0+YF9fYnJvd3Nlcl93aW5kb3dfXy0ke2UudXVpZH0tJHtlLm5hbWV9YCxXZT1uZXcgTWFwLENlPWU9Pntjb25zdCB0PWJlKGUpO3JldHVybiBXZS5oYXModCl8fFdlLnNldCh0LGtlKHQpKSxXZS5nZXQodCkoKX07dmFyIEllLEFlLFRlOyFmdW5jdGlvbihlKXtlLkNsb3NlQnJvd3NlcldpbmRvdz1cImNsb3NlLWJyb3dzZXItd2luZG93XCIsZS5RdWl0UGxhdGZvcm09XCJxdWl0LXBsYXRmb3JtXCIsZS5DbG9zZVBhZ2U9XCJjbG9zZS1wYWdlXCIsZS5BZGRUb0NoYW5uZWw9XCJhZGQtdG8tY2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJyZW1vdmUtZnJvbS1jaGFubmVsXCIsZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWw9XCJvcGVuLXNhdmUtbW9kYWwtaW50ZXJuYWxcIixlLkR1cGxpY2F0ZVBhZ2U9XCJkdXBsaWNhdGUtcGFnZVwifShJZXx8KEllPXt9KSksZnVuY3Rpb24oZSl7ZS5HZXRQYWdlcz1cImdldC1wYWdlc1wiLGUuR2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cImdldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5BdHRhY2hQYWdlc1RvV2luZG93PVwiYXR0YWNoLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoUGFnZXNGcm9tV2luZG93PVwiZGV0YWNoLXBhZ2VzLWZyb20td2luZG93XCIsZS5TZXRBY3RpdmVQYWdlRm9yV2luZG93PVwic2V0LWFjdGl2ZS1wYWdlLWZvci13aW5kb3dcIixlLlJlbmFtZVBhZ2U9XCJyZW5hbWUtcGFnZVwiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlci1wYWdlcy1mb3Itd2luZG93XCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zPVwidXBkYXRlLXBhZ2VzLXdpbmRvdy1vcHRpb25zXCIsZS5Jc0RldGFjaGluZ1BhZ2VzPVwiaXMtZGV0YWNoaW5nLXBhZ2VzXCIsZS5Jc0FjdGl2ZVBhZ2VDaGFuZ2luZz1cImlzLWFjdGl2ZS1wYWdlLWNoYW5naW5nXCJ9KEFlfHwoQWU9e30pKSxmdW5jdGlvbihlKXtlLkF0dGFjaGVkUGFnZXNUb1dpbmRvdz1cImF0dGFjaGVkLXBhZ2VzLXRvLXdpbmRvd1wiLGUuRGV0YWNoZWRQYWdlc0Zyb21XaW5kb3c9XCJkZXRhY2hlZC1wYWdlcy1mcm9tLXdpbmRvd1wifShUZXx8KFRlPXt9KSk7bmV3IE1hcDtjb25zdCBNZT1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBDZShlKTtyZXR1cm4gYXdhaXQgdC5kaXNwYXRjaChBZS5HZXRQYWdlcyl9LEVlPWFzeW5jIGU9Pihhd2FpdCBDZShlLmlkZW50aXR5KSkuZGlzcGF0Y2goQWUuVXBkYXRlUGFnZUZvcldpbmRvdyxlKSxPZT1hc3luYygpPT57Y29uc3QgZT1hd2FpdCBIKCk7cmV0dXJuKGF3YWl0IFByb21pc2UuYWxsKGUubWFwKChhc3luYyh7aWRlbnRpdHk6ZX0pPT5NZShlKSkpKSkucmVkdWNlKCgoZSx0KT0+ZS5jb25jYXQodCkpLFtdKX0sQmU9YXN5bmMoKT0+KGF3YWl0IFkoXykpLmRpc3BhdGNoKFguR2V0U2F2ZWRQYWdlcyx2b2lkIDApLFJlPWFzeW5jIGU9Pihhd2FpdCBZKF8pKS5kaXNwYXRjaChYLkdldFNhdmVkUGFnZSxlKSxMZT1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdChhc3luYyBlPT4oYXdhaXQgT2UoKSkuZmluZCgodD0+dC5wYWdlSWQ9PT1lKSkpKGUpO3JldHVybiFhfHxhLnRpdGxlPT09dC50aXRsZSYmZT09PXQucGFnZUlkfHxhd2FpdCBFZSh7aWRlbnRpdHk6YS5wYXJlbnRJZGVudGl0eSxwYWdlSWQ6ZSxwYWdlOntwYWdlSWQ6dC5wYWdlSWQsdGl0bGU6dC50aXRsZX19KSxhfSx4ZT1hc3luYyh7cGFnZTplfSk9Pnthd2FpdCBMZShlLnBhZ2VJZCxlKSxhd2FpdChhc3luYyBlPT4oYXdhaXQgWShfKSkuZGlzcGF0Y2goWC5DcmVhdGVTYXZlZFBhZ2UsZSkpKHtwYWdlOmV9KX0sVmU9YXN5bmMgZT0+e2F3YWl0IFJlKGUpJiZhd2FpdChhc3luYyBlPT4oYXdhaXQgWShfKSkuZGlzcGF0Y2goWC5EZWxldGVTYXZlZFBhZ2UsZSkpKGUpfSxVZT1hc3luYyh7cGFnZUlkOmUscGFnZTp0fSk9Pnthd2FpdCBMZShlLHQpO3JldHVybiBhd2FpdChhc3luYyBlPT4oYXdhaXQgWShfKSkuZGlzcGF0Y2goWC5VcGRhdGVTYXZlZFBhZ2UsZSkpKHtwYWdlSWQ6ZSxwYWdlOnR9KX0sRGU9YXN5bmMgZT0+YXdhaXQgUmUoZS5wYWdlSWQpP1VlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTplfSk6eGUoe3BhZ2U6ZX0pLF9lPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgQ2UoZS5pZGVudGl0eSkpLmRpc3BhdGNoKEFlLkF0dGFjaFBhZ2VzVG9XaW5kb3csZSkpKGUpfSxGZT1hc3luYyBlPT57YXdhaXQgRWUoZSl9LEdlPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgQ2UoZS5pZGVudGl0eSkpLmRpc3BhdGNoKEFlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdyxlKSkoZSl9LE5lPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgQ2UoZS5pZGVudGl0eSkpLmRpc3BhdGNoKEFlLlNldEFjdGl2ZVBhZ2VGb3JXaW5kb3csZSkpKGUpfSwkZT1lPT5NZShlKSxIZT1hc3luYyh7aWRlbnRpdHk6ZSxwYWdlSWQ6dH0pPT4oYXdhaXQgJGUoZSkpLmZpbmQoKGU9PmUucGFnZUlkPT09dCkpLHFlPWFzeW5jIGU9Pnthd2FpdChhc3luYyBlPT4oYXdhaXQgQ2UoZS5pZGVudGl0eSkpLmRpc3BhdGNoKEFlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdyxlKSkoZSl9O2FzeW5jIGZ1bmN0aW9uIEtlKGU9XCJVbnRpdGxlZCBQYWdlXCIpe2NvbnN0W3QsYV09YXdhaXQgUHJvbWlzZS5hbGwoW0JlKCksT2UoKV0pLG49Wy4uLnQsLi4uYV0ubWFwKCgoe3RpdGxlOmV9KT0+ZSkpO3JldHVybiBuLmZpbmQoKHQ9PnQ9PT1lKSk/YWUoZSxuKTplfWNvbnN0IGplPW5ldyBNYXAsemU9ZT0+YCR7ZS51dWlkfS0ke2UubmFtZX1gO2NvbnN0IFFlPWxlKChhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9YXdhaXQgT2UoKSx0PW5ldyBTZXQ7ZS5mb3JFYWNoKChlPT57eWUoZS5sYXlvdXQuY29udGVudCkuZm9yRWFjaCgoZT0+e2lmKGUubmFtZSl7Y29uc3QgYT16ZShlKTt0LmFkZChhKX19KSl9KSk7Y29uc3QgYT1GKCk7KGF3YWl0IGEuZ2V0Q3VycmVudFZpZXdzKCkpLmZvckVhY2goKCh7aWRlbnRpdHk6ZX0pPT57Y29uc3QgYT16ZShlKTtpZih0LmhhcyhhKXx8amUuaGFzKGEpKXJldHVybjtjb25zdCBuPXNldFRpbWVvdXQoKCgpPT57ZmluLlZpZXcud3JhcFN5bmMoZSkuZGVzdHJveSgpLGplLmRlbGV0ZShhKX0pLDVlMyk7amUuc2V0KGEsbil9KSksamUuZm9yRWFjaCgoKGUsYSk9Pnt0LmhhcyhhKSYmKGNsZWFyVGltZW91dChlKSxqZS5kZWxldGUoYSkpfSkpfSksMjUwMCksSmU9KHtuYW1lOmV9KT0+eyQoZSkmJlFlKCkuY2F0Y2goKCgpPT57fSkpfTtsZXQgWGU9e307Y29uc3QgWWU9KHthY3Rpb25JZDplLHBheWxvYWQ6dH0pPT57aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgWGVbZV0pdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGNvbmZpZ3VyZWQgZnVuY3Rpb24gZm9yIHRoZSBhY3Rpb24gJyR7ZX0nYCk7cmV0dXJuIFhlW2VdKHQpfTtmdW5jdGlvbiBaZSgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShKLk1hY2hpbmVOYW1lKX1sZXQgZXQ7YXN5bmMgZnVuY3Rpb24gdHQoKXtyZXR1cm4gZXR8fChldD1hd2FpdCBmaW4uU3lzdGVtLmdldE1hY2hpbmVJZCgpKSxldH1jb25zdCBhdD1lPT57aWYoZS5sYXlvdXQmJkFycmF5LmlzQXJyYXkoZS53b3Jrc3BhY2VQbGF0Zm9ybT8ucGFnZXMpKXtjb25zdCB0PWUud29ya3NwYWNlUGxhdGZvcm0ucGFnZXMuZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2lmKHQpaWYodC5pc0xvY2tlZCl7Y29uc3QgYT0oKGUsdCk9Pntjb25zdCBhPXllKHQuY29udGVudCk7cmV0dXJuey4uLnVlKGUsKGU9Pntjb25zdCB0PWEuZmluZCgodD0+dC5uYW1lPT09ZS5uYW1lJiZ0LnV1aWQ9PT1lLnV1aWQpKSxuPXQ/dC5pc0Nsb3NhYmxlOmUuaXNDbG9zYWJsZTtyZXR1cm57Li4uZSxpc0Nsb3NhYmxlOm59fSkpLHNldHRpbmdzOnQuc2V0dGluZ3N9fSkoZS5sYXlvdXQsdC5sYXlvdXQpO3QubGF5b3V0PWEsZS5sYXlvdXQ9YX1lbHNlIHQubGF5b3V0PWUubGF5b3V0fXJldHVybiBlfTthc3luYyBmdW5jdGlvbiBudChlKXtjb25zdCB0PWV8fGF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmdldFNuYXBzaG90KCk7aWYodC5zbmFwc2hvdERldGFpbHM/Lm1hY2hpbmVJZClyZXR1cm4gdDtjb25zdCBhPVplKCk7cmV0dXJuey4uLnQsc25hcHNob3REZXRhaWxzOnsuLi5lLnNuYXBzaG90RGV0YWlscyxtYWNoaW5lSWQ6YXdhaXQgdHQoKSxtYWNoaW5lTmFtZTphfX19ZnVuY3Rpb24gb3QoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxhKT0+e2Uub25jb21wbGV0ZT1lLm9uc3VjY2Vzcz0oKT0+dChlLnJlc3VsdCksZS5vbmFib3J0PWUub25lcnJvcj0oKT0+YShlLmVycm9yKX0pKX1mdW5jdGlvbiBpdChlLHQpe2NvbnN0IGE9aW5kZXhlZERCLm9wZW4oZSk7YS5vbnVwZ3JhZGVuZWVkZWQ9KCk9PmEucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKHQpO2NvbnN0IG49b3QoYSk7cmV0dXJuKGUsYSk9Pm4udGhlbigobj0+YShuLnRyYW5zYWN0aW9uKHQsZSkub2JqZWN0U3RvcmUodCkpKSl9bGV0IHJ0O2Z1bmN0aW9uIHN0KCl7cmV0dXJuIHJ0fHwocnQ9aXQoXCJrZXl2YWwtc3RvcmVcIixcImtleXZhbFwiKSkscnR9ZnVuY3Rpb24gY3QoZSx0PXN0KCkpe3JldHVybiB0KFwicmVhZG9ubHlcIiwodD0+b3QodC5nZXQoZSkpKSl9ZnVuY3Rpb24gZHQoZSx0LGE9c3QoKSl7cmV0dXJuIGEoXCJyZWFkd3JpdGVcIiwoYT0+KGEucHV0KHQsZSksb3QoYS50cmFuc2FjdGlvbikpKSl9ZnVuY3Rpb24gcHQoZSx0PXN0KCkpe3JldHVybiB0KFwicmVhZHdyaXRlXCIsKHQ9Pih0LmRlbGV0ZShlKSxvdCh0LnRyYW5zYWN0aW9uKSkpKX1mdW5jdGlvbiBsdChlLHQpe3JldHVybiBlKFwicmVhZG9ubHlcIiwoZT0+KGUub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMucmVzdWx0JiYodCh0aGlzLnJlc3VsdCksdGhpcy5yZXN1bHQuY29udGludWUoKSl9LG90KGUudHJhbnNhY3Rpb24pKSkpfWZ1bmN0aW9uIHd0KGU9c3QoKSl7Y29uc3QgdD1bXTtyZXR1cm4gbHQoZSwoZT0+dC5wdXNoKGUua2V5KSkpLnRoZW4oKCgpPT50KSl9Y29uc3QgdXQ9KGUsdD1cIlwiKT0+ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSksZ3Q9UCYmaXQoXCJvcGVuZmluLWhvbWUtcGFnZXNcIixcInBhZ2VzXCIpO2FzeW5jIGZ1bmN0aW9uIHl0KGUpe2NvbnN0IHQ9YXdhaXQgY3QoZSxndCk7cmV0dXJuIHQ/KHQucGFnZUlkPWUudG9TdHJpbmcoKSx0LnRpdGxlPXQudGl0bGV8fHQucGFnZUlkLHQpOm51bGx9YXN5bmMgZnVuY3Rpb24gaHQoZSl7Y29uc3QgdD1hd2FpdCB3dChndCksYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+eXQoZS50b1N0cmluZygpKSkpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+dXQodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24gZnQoe3BhZ2U6ZX0pe2F3YWl0IGR0KGUucGFnZUlkLGUsZ3QpfWFzeW5jIGZ1bmN0aW9uIG10KGUpe2F3YWl0IHB0KGUsZ3QpfWFzeW5jIGZ1bmN0aW9uIFN0KHtwYWdlSWQ6ZSxwYWdlOnR9KXtpZih2b2lkIDA9PT1hd2FpdCB5dChlKSl0aHJvdyBuZXcgRXJyb3IoXCJwYWdlIG5vdCBmb3VuZFwiKTthd2FpdCBmdCh7cGFnZTp0fSksZSE9PXQucGFnZUlkJiZhd2FpdCBtdChlKX12YXIgdnQ7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0odnR8fCh2dD17fSkpO2NvbnN0IFB0PXt0eXBlOnZ0LlNlcGFyYXRvcixkYXRhOnZvaWQgMH07dmFyIGt0OyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVycz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyc1wiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwiLGUuQ3JlYXRlU3RvcmVmcm9udFdpbmRvdz1cImNyZWF0ZS1zdG9yZWZyb250LXdpbmRvd1wiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwifShrdHx8KGt0PXt9KSk7a2UoXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpO2NvbnN0IGJ0PWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGFzeW5jIGU9Pih7Li4uZSxsYXlvdXREZXRhaWxzOnttYWNoaW5lSWQ6YXdhaXQgdHQoKSxtYWNoaW5lTmFtZTpaZSgpfX0pKSh0KTtyZXR1cm57cGFnZUlkOmNyeXB0by5yYW5kb21VVUlEKCksdGl0bGU6ZSxsYXlvdXQ6YSxpc1JlYWRPbmx5OiExLGhhc1Vuc2F2ZWRDaGFuZ2VzOiEwfX0sV3Q9ZT0+KHtpZGVudGl0eTplLG9wZW5maW5XaW5kb3c6ZmluLldpbmRvdy53cmFwU3luYyhlKSxnZXRQYWdlczphc3luYygpPT4oYXdhaXQgWihlKSkuZGlzcGF0Y2goWC5HZXRQYWdlc0ZvcldpbmRvdyxlKSxnZXRQYWdlOmFzeW5jIHQ9Pihhd2FpdCBaKGUpKS5kaXNwYXRjaChYLkdldFBhZ2VGb3JXaW5kb3cse2lkZW50aXR5OmUscGFnZUlkOnR9KSxhZGRQYWdlOmFzeW5jIHQ9Pntjb25zdCBhPWF3YWl0IFooZSk7dD8udGl0bGV8fCh0LnRpdGxlPWF3YWl0IGEuZGlzcGF0Y2goWC5HZXRVbmlxdWVQYWdlVGl0bGUsdm9pZCAwKSk7Y29uc3Qgbj0oYXdhaXQgYS5kaXNwYXRjaChYLkdldEFsbEF0dGFjaGVkUGFnZXMsdm9pZCAwKSkuZmluZCgoZT0+ZS5wYWdlSWQ9PT10LnBhZ2VJZHx8ZS50aXRsZT09PXQudGl0bGUpKTtpZihuKXRocm93IG4ucGFnZUlkPT09dC5wYWdlSWQ/bmV3IEVycm9yKGBwYWdlIHdpdGggaWQgJHt0LnBhZ2VJZH0gaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIGJyb3dzZXIgd2luZG93ICR7bi5wYXJlbnRJZGVudGl0eS5uYW1lfWApOm5ldyBFcnJvcihgcGFnZSB3aXRoIHRpdGxlICR7dC50aXRsZX0gaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIGJyb3dzZXIgd2luZG93ICR7bi5wYXJlbnRJZGVudGl0eS5uYW1lfWApO2NvbnN0IG89e2lkZW50aXR5OmUscGFnZXM6W3RdfTtyZXR1cm4gYS5kaXNwYXRjaChYLkF0dGFjaFBhZ2VzVG9XaW5kb3csbyl9LHJlbW92ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IFooZSkpLmRpc3BhdGNoKFguRGV0YWNoUGFnZXNGcm9tV2luZG93LHtpZGVudGl0eTplLHBhZ2VJZHM6W3RdfSksc2V0QWN0aXZlUGFnZTphc3luYyB0PT4oYXdhaXQgWihlKSkuZGlzcGF0Y2goWC5TZXRBY3RpdmVQYWdlLHtpZGVudGl0eTplLHBhZ2VJZDp0fSksdXBkYXRlUGFnZTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBaKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChYLlVwZGF0ZVBhZ2VGb3JXaW5kb3csdCl9LHJlb3JkZXJQYWdlczphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBaKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChYLlJlb3JkZXJQYWdlc0ZvcldpbmRvdyx0KX0sX29wZW5HbG9iYWxDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBaKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChYLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsLHQpfSxyZXBsYWNlVG9vbGJhck9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IFooZSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3Rvb2xiYXJPcHRpb25zOnR9fSl9LHJlcGxhY2VXaW5kb3dTdGF0ZUJ1dHRvbk9wdGlvbnM6YXN5bmMgdD0+e2F3YWl0IFooZSk7Y29uc3QgYT1maW4uV2luZG93LndyYXBTeW5jKGUpO2F3YWl0IGEudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1N0YXRlQnV0dG9uT3B0aW9uczp0fX0pfSxfb3BlblZpZXdUYWJDb250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBaKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChYLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCx0KX0sX29wZW5QYWdlVGFiQ29udGV4dE1lbnU6YXN5bmMgdD0+e2NvbnN0IGE9YXdhaXQgWihlKTtyZXR1cm4gdC5pZGVudGl0eT1lLGEuZGlzcGF0Y2goWC5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwsdCl9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHQ9Pnthd2FpdCBaKGUpO3JldHVybihhd2FpdCBDZShlKSkuZGlzcGF0Y2goSWUuT3BlblNhdmVNb2RhbEludGVybmFsLHQpfSxfb3BlblNhdmVCdXR0b25Db250ZXh0TWVudTphc3luYyB0PT57Y29uc3QgYT1hd2FpdCBaKGUpO3JldHVybiB0LmlkZW50aXR5PWUsYS5kaXNwYXRjaChYLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCx0KX19KTtsZXQgQ3Q9ITE7Y29uc3QgSXQ9ZT0+e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpO3JldHVybnt3cmFwU3luYzplPT5XdChlKSxjcmVhdGVXaW5kb3c6YXN5bmMgYT0+e2F3YWl0IFooZSksQ3R8fChDdD0hMCwoYXN5bmMgZT0+e3ooai5Ccm93c2VyLGUpfSkoe2FsbG93ZWQ6ITB9KSk7Y29uc3Qgbj1hd2FpdCB0LmNyZWF0ZVdpbmRvdyhhKTtyZXR1cm4gV3Qobi5pZGVudGl0eSl9LGdldEFsbEF0dGFjaGVkUGFnZXM6YXN5bmMoKT0+KGF3YWl0IFooZSkpLmRpc3BhdGNoKFguR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApLGdldEFsbFdpbmRvd3M6YXN5bmMoKT0+e2F3YWl0IFooZSk7cmV0dXJuKGF3YWl0IGZpbi5BcHBsaWNhdGlvbi53cmFwU3luYyhlKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmlsdGVyKChlPT5lLmlkZW50aXR5Lm5hbWUuaW5jbHVkZXMoXCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93LVwiKSkpLm1hcCgoZT0+V3QoZS5pZGVudGl0eSkpKX0sZ2V0VW5pcXVlUGFnZVRpdGxlOmFzeW5jIHQ9Pihhd2FpdCBaKGUpKS5kaXNwYXRjaChYLkdldFVuaXF1ZVBhZ2VUaXRsZSx0KSxnZXRMYXN0Rm9jdXNlZFdpbmRvdzphc3luYygpPT4oYXdhaXQgWihlKSkuZGlzcGF0Y2goWC5HZXRMYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3csdm9pZCAwKX19LEF0PWU9Pih7Y3JlYXRlUGFnZTphc3luYyB0PT4oYXdhaXQgWihlKSkuZGlzcGF0Y2goWC5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbCx0KSxkZWxldGVQYWdlOmFzeW5jIHQ9Pihhd2FpdCBaKGUpKS5kaXNwYXRjaChYLkRlbGV0ZVNhdmVkUGFnZUludGVybmFsLHQpLHVwZGF0ZVBhZ2U6YXN5bmMgdD0+KGF3YWl0IFooZSkpLmRpc3BhdGNoKFguVXBkYXRlU2F2ZWRQYWdlSW50ZXJuYWwsdCksZ2V0UGFnZTphc3luYyB0PT4oYXdhaXQgWihlKSkuZGlzcGF0Y2goWC5HZXRTYXZlZFBhZ2UsdCksZ2V0UGFnZXM6YXN5bmMgdD0+KGF3YWl0IFooZSkpLmRpc3BhdGNoKFguR2V0U2F2ZWRQYWdlcyx0KSxzYXZlUGFnZTphc3luYyB0PT4oYXdhaXQgWihlKSkuZGlzcGF0Y2goWC5TYXZlUGFnZSx0KSxjcmVhdGVXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IFkoZSkpLmRpc3BhdGNoKFguQ3JlYXRlU2F2ZWRXb3Jrc3BhY2UsdCksZGVsZXRlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBZKGUpKS5kaXNwYXRjaChYLkRlbGV0ZVNhdmVkV29ya3NwYWNlLHQpLHVwZGF0ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgWShlKSkuZGlzcGF0Y2goWC5VcGRhdGVTYXZlZFdvcmtzcGFjZSx0KSxnZXRXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IFkoZSkpLmRpc3BhdGNoKFguR2V0U2F2ZWRXb3Jrc3BhY2UsdCksZ2V0V29ya3NwYWNlczphc3luYyB0PT4oYXdhaXQgWShlKSkuZGlzcGF0Y2goWC5HZXRTYXZlZFdvcmtzcGFjZXMsdCksc2F2ZVdvcmtzcGFjZTphc3luYyB0PT4oYXdhaXQgWShlKSkuZGlzcGF0Y2goWC5TYXZlV29ya3NwYWNlLHQpfSksVHQ9ZT0+KHtnZXRUaGVtZXM6YXN5bmMoKT0+KGF3YWl0IFkoZSkpLmRpc3BhdGNoKFguR2V0VGhlbWVzLHZvaWQgMCl9KSxNdD1lPT57Y29uc3QgdD1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx7YXBwbHlTbmFwc2hvdDphc3luYyh0LGEpPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJiF0Py53aW5kb3dzKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIGJyb3dzZXIgc25hcHNob3RcIik7cmV0dXJuIGZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5hcHBseVNuYXBzaG90KHQsYSl9LGdldFNuYXBzaG90OigpPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuZ2V0U25hcHNob3QoKS50aGVuKChlPT5lKSksbGF1bmNoQXBwOmFzeW5jIHQ9Pnt0LnRhcmdldHx8KHQudGFyZ2V0PXt1dWlkOmIsbmFtZTpXLGVudGl0eVR5cGU6Q3x8XCJ1bmtub3duXCJ9KTtyZXR1cm4oYXdhaXQgWShlKSkuZGlzcGF0Y2goWC5MYXVuY2hBcHAsdCl9LF9pbnZva2VDdXN0b21BY3Rpb246YXN5bmModCxhKT0+e2NvbnN0IG49YXdhaXQgWShlKSxvPXthY3Rpb25JZDp0LHBheWxvYWQ6ey4uLmEsY2FsbGVyVHlwZTphLmNhbGxlclR5cGV8fGguQVBJfX07cmV0dXJuIG4uZGlzcGF0Y2goWC5JbnZva2VDdXN0b21BY3Rpb25JbnRlcm5hbCxvKX0sZ2V0Q3VycmVudFdvcmtzcGFjZTphc3luYygpPT4oYXdhaXQgWShlKSkuZGlzcGF0Y2goWC5HZXRDdXJyZW50V29ya3NwYWNlLHZvaWQgMCksYXBwbHlXb3Jrc3BhY2U6YXN5bmMgdD0+KGF3YWl0IFkoZSkpLmRpc3BhdGNoKFguQXBwbHlXb3Jrc3BhY2UsdCksc2V0QWN0aXZlV29ya3NwYWNlOmFzeW5jIHQ9Pihhd2FpdCBZKGUpKS5kaXNwYXRjaChYLlNldEFjdGl2ZVdvcmtzcGFjZSx0KSxUaGVtZTpUdChlKSxCcm93c2VyOkl0KGUpLFN0b3JhZ2U6QXQoZSl9KX0sRXQ9KCk9Pk10KGZpbi5tZS5pZGVudGl0eSksT3Q9YXN5bmMoZT1fKT0+e2NvbnN0e3dvcmtzcGFjZVBsYXRmb3JtOnR9PWF3YWl0IEQoZSkuZ2V0T3B0aW9ucygpO3JldHVybntuZXdQYWdlVXJsOnQ/Lm5ld1BhZ2VVcmwsbmV3VGFiVXJsOnQ/Lm5ld1RhYlVybH19LEJ0PWFzeW5jKGU9Xyk9Pntjb25zdCB0PWF3YWl0IEV0KCkuQnJvd3Nlci5nZXRVbmlxdWVQYWdlVGl0bGUoXCJVbnRpdGxlZCBQYWdlXCIpLGE9YXdhaXQoYXN5bmMoZT1fKT0+e2NvbnN0e25ld1BhZ2VVcmw6dH09YXdhaXQgT3QoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIG5ldyBwYWdlIHdpdGhvdXQgYSBuZXdQYWdlVXJsIHNldFwiKTtyZXR1cm4gaGUoXCJOZXcgVGFiXCIsdCxlKX0pKGUpO3JldHVybiBidCh0LGEpfSxSdD17dHlwZTp2dC5MYWJlbCxsYWJlbDpcIkNsb3NlIFdpbmRvd1wiLGRhdGE6e3R5cGU6bC5DbG9zZVdpbmRvd319LEx0PXt0eXBlOnZ0LkxhYmVsLGxhYmVsOlwiT3BlbiBTdG9yZWZyb250XCIsZGF0YTp7dHlwZTpsLk9wZW5TdG9yZWZyb250fX0seHQ9e3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJRdWl0IFBsYXRmb3JtXCIsZGF0YTp7dHlwZTpsLlF1aXR9fSxWdD17dHlwZTp2dC5MYWJlbCxsYWJlbDpcIk5ldyBXaW5kb3dcIixkYXRhOnt0eXBlOmwuTmV3V2luZG93fX0sVXQ9e3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2VcIixkYXRhOnt0eXBlOmwuU2F2ZVBhZ2V9fSxEdD17dHlwZTp2dC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZSBBcy4uLlwiLGRhdGE6e3R5cGU6bC5TYXZlUGFnZUFzfX0sX3Q9e3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJSZXN0b3JlIHRvIExhc3QgU2F2ZWQgQ2hhbmdlc1wiLGRhdGE6e3R5cGU6bC5SZXN0b3JlQ2hhbmdlc319LEZ0PXt0eXBlOnZ0LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2VcIixkYXRhOnt0eXBlOmwuU2F2ZVdvcmtzcGFjZX19LEd0PXt0eXBlOnZ0LkxhYmVsLGxhYmVsOlwiU2F2ZSBXb3Jrc3BhY2UgQXMuLi5cIixkYXRhOnt0eXBlOmwuU2F2ZVdvcmtzcGFjZUFzfX0sTnQ9e3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJSZW5hbWUgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTpsLlJlbmFtZVdvcmtzcGFjZX19LCR0PVwiU3dpdGNoIFdvcmtzcGFjZVwiLEh0PVwiRGVsZXRlIFdvcmtzcGFjZVwiLHF0PVtSdCxQdCxMdCxQdCx4dF0sS3Q9W1B0LFJ0LFB0LHh0XSxqdD0oZSx0LGEpPT50Lm1hcCgodD0+e2NvbnN0IG49dC53b3Jrc3BhY2VJZD09PWUud29ya3NwYWNlSWQ7cmV0dXJue2xhYmVsOnQudGl0bGUsdHlwZTp2dC5DaGVja2JveCxlbmFibGVkOiFuLGNoZWNrZWQ6bixkYXRhOnt0eXBlOmEsd29ya3NwYWNlSWQ6dC53b3Jrc3BhY2VJZH19fSkpLHp0PWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IEsoKSx7bmV3UGFnZVVybDphfT1hd2FpdCBPdChlKSxuPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PUQoZSkse3dvcmtzcGFjZVBsYXRmb3JtOmF9PWF3YWl0IHQuZ2V0T3B0aW9ucygpO3JldHVybiBhPy5kaXNhYmxlTXVsdGlwbGVQYWdlc30pKGUpLG89YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9RChlKSx7d29ya3NwYWNlUGxhdGZvcm06YX09YXdhaXQgdC5nZXRPcHRpb25zKCk7cmV0dXJuIGE/LmlzTG9ja2VkfSkoZSksaT1bXTt2YXIgcjthJiYoaS5wdXNoKFZ0KSxufHxpLnB1c2goKHI9IW8se3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJOZXcgUGFnZVwiLGRhdGE6e3R5cGU6bC5OZXdQYWdlfSxlbmFibGVkOnJ9KSkpLGkucHVzaChQdCk7Y29uc3Qgcz1FdCgpLGM9YXdhaXQgcy5nZXRDdXJyZW50V29ya3NwYWNlKCksZD1hd2FpdCBzLlN0b3JhZ2UuZ2V0V29ya3NwYWNlcygpLHA9ZC5maW5kKChlPT5lLndvcmtzcGFjZUlkPT09Yy53b3Jrc3BhY2VJZCkpO3JldHVybiBwP2kucHVzaChfdCk6aS5wdXNoKHtsYWJlbDpfdC5sYWJlbCxlbmFibGVkOiExfSksaS5wdXNoKEZ0LEd0KSxwP2kucHVzaChOdCk6aS5wdXNoKHtsYWJlbDpOdC5sYWJlbCxlbmFibGVkOiExfSksZC5zb21lKChlPT5lLndvcmtzcGFjZUlkIT09Yy53b3Jrc3BhY2VJZCkpP2kucHVzaCh7bGFiZWw6JHQsc3VibWVudTpqdChjLGQsbC5Td2l0Y2hXb3Jrc3BhY2UpfSx7bGFiZWw6SHQsc3VibWVudTpqdChjLGQsbC5EZWxldGVXb3Jrc3BhY2UpfSk6aS5wdXNoKHtsYWJlbDokdCxlbmFibGVkOiExfSx7bGFiZWw6SHQsZW5hYmxlZDohMX0pLGkucHVzaChQdCxVdCxEdCksdD9bLi4uaSwuLi5xdF06Wy4uLmksLi4uS3RdfTtsZXQgUXQ9XCJQbGF0Zm9ybVwiO2NvbnN0IEp0PWFzeW5jKCk9PlF0O3ZhciBYdCxZdCxadDshZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvP2RlZXBsaW5rPXNlYXJjaFwiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9ob21lL2RvY2svXCIsZS5Ccm93c2VyUGFnZXNMYW5kaW5nPVwiL2Jyb3dzZXIvcGFnZXMvbGFuZGluZy9cIixlLkhvbWVJbmRpY2F0b3I9XCIvaG9tZS9pbmRpY2F0b3IvXCIsZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL2Jyb3dzZXIvcG9wdXAtbWVudS9cIixlLlByb3ZpZGVyPVwiL3Byb3ZpZGVyL1wiLGUuQnJvd3NlclBvcHVwTWVudVNoYXJlUGFnZT1cIi9icm93c2VyL3BvcHVwLW1lbnUvc2hhcmUtcGFnZS9cIixlLkJyb3dzZXJQb3B1cE1lbnVTYXZlTW9kYWw9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3NhdmUtbW9kYWwvXCIsZS5Ccm93c2VyUG9wdXBNZW51TGF5b3V0cz1cIi9icm93c2VyL3BvcHVwLW1lbnUvbGF5b3V0cy9sYXlvdXRzL1wiLGUuQnJvd3NlclBvcHVwTWVudUNvbG9yTGlua2luZz1cIi9icm93c2VyL3BvcHVwLW1lbnUvY29sb3ItbGlua2luZy9jb2xvci1saW5raW5nL1wiLGUuQnJvd3NlckluZGljYXRvcj1cIi9icm93c2VyL2luZGljYXRvci9cIixlLlJlc3BvbnNlTW9kYWw9XCIvYnJvd3Nlci9wb3B1cC1tZW51L3Jlc3BvbnNlLW1vZGFsL1wiLGUuRG9jcz1cIi9wcm92aWRlci9kb2NzL1wiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250L1wiLGUuRGVwcmVjYXRlZEFsZXJ0PVwiL3Byb3ZpZGVyL2RlcHJlY2F0ZWQtYWxlcnQvXCJ9KFh0fHwoWHQ9e30pKSxmdW5jdGlvbihlKXtlLkljb25PcGVuRmluTG9nbz1cIi9pY29ucy9vcGVuZmlubG9nby5zdmdcIixlLkljb25GaWx0ZXI9XCIvaWNvbnMvZmlsdGVyLnN2Z1wifShZdHx8KFl0PXt9KSksZnVuY3Rpb24oZSl7ZS5TZWFyY2g9XCJzZWFyY2hcIn0oWnR8fChadD17fSkpO2NvbnN0IGVhPXsuLi5ZdCwuLi5YdH07dmFyIHRhOyFmdW5jdGlvbihlKXtlLkhvbWU9XCIvaG9tZVwiLGUuQnJvd3Nlcj1cIi9icm93c2VyXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlclwiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250XCJ9KHRhfHwodGE9e30pKTtjb25zdCBhYT1cIi93b3Jrc3BhY2UvOC4xLjdcIjtmdW5jdGlvbiBuYSgpe3JldHVybiBhYS5zdWJzdHJpbmcoMCxhYS5sZW5ndGgtXCJcIi5sZW5ndGgpfWZ1bmN0aW9uIG9hKGUpe2lmKCF2KXRocm93IG5ldyBFcnJvcihcImdldEFic29sdXRlUm91dGVQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXdpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRBYnNvbHV0ZUJhc2VQYXRoIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSB3aW5kb3dcIik7cmV0dXJuYCR7d2luZG93Lm9yaWdpbn0ke25hKCl9YH0oKStlfWNvbnN0IGlhPXtuYW1lOlYuQnJvd3Nlck1lbnUsYWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITEsY29ybmVyUm91bmRpbmc6e2hlaWdodDo2LHdpZHRoOjZ9LGZyYW1lOiExLHJlc2l6YWJsZTohMSxiYWNrZ3JvdW5kQ29sb3I6XCIjMmYzMTM2XCIsc21hbGxXaW5kb3c6ITAsc2hvd1Rhc2tiYXJJY29uOiExLGJhY2tncm91bmRUaHJvdHRsaW5nOiEwfTtmdW5jdGlvbiByYShlKXtjb25zdCB0PXsuLi5pYSwuLi5lfTtyZXR1cm4gdC51cmw9ZnVuY3Rpb24oZSl7aWYoIXYpdGhyb3cgbmV3IEVycm9yKFwicmVzb2x2ZUFic29sdXRlUGF0aCBjYW4gb25seSBiZSB1c2VkIGluIGEgd2luZG93XCIpO3JldHVybiBlLnN0YXJ0c1dpdGgoXCJodHRwXCIpP2U6YCR7d2luZG93Lm9yaWdpbn0ke2V9YH0odC51cmwpLHR9dmFyIHNhLGNhOyFmdW5jdGlvbihlKXtlLlVwZGF0ZT1cInVwZGF0ZVwiLGUuUmVzcG9uc2U9XCJyZXNwb25zZVwifShzYXx8KHNhPXt9KSksZnVuY3Rpb24oZSl7ZS5DYW5jZWxlZD1cImNhbmNlbGVkXCIsZS5OZWdhdGl2ZT1cIm5lZ2F0aXZlXCIsZS5BZmZpcm1hdGl2ZT1cImFmZmlybWF0aXZlXCJ9KGNhfHwoY2E9e30pKTtjb25zdCBkYT1mdW5jdGlvbihlKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJue2VtaXQ6ZmUodCwodD0+UyYmZmluLkludGVyQXBwbGljYXRpb25CdXMucHVibGlzaChlLHQpKSksYWRkTGlzdGVuZXI6bWUodCwodD0+UyYmZmluLkludGVyQXBwbGljYXRpb25CdXMuc3Vic2NyaWJlKHt1dWlkOmZpbi5tZS51dWlkfSxlLHQpKSkscmVtb3ZlTGlzdGVuZXI6dmUodCksb25jZTpTZSh0KX19KFwid2luZG93Lm1lbnVcIikscGE9ZT0+ZGEuZW1pdChzYS5SZXNwb25zZSxlKSxsYT1sZSgoKCk9PngoKS5nZXRDaGlsZFdpbmRvd3MoKSksNTAwKTtjb25zdCB3YT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIHVhKHtvcHRpb25zOmUscGFyYW1ldGVyczp0fSl7Y29uc3QgYT1yYShlKSx7bmFtZTpufT1hO2xldCBvPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybihhd2FpdCBsYSgpKS5maW5kKCh0PT50LmlkZW50aXR5Lm5hbWU9PT1lKSl9KG4pO3JldHVybiBvfHwobz1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtjb25zdCB0PXJhKGUpO2lmKCF3YS5oYXModC5uYW1lKSl7Y29uc3QgZT0oYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkuY3JlYXRlV2luZG93KHQpO3JldHVybiBlLm9uY2UoXCJjbG9zZWRcIiwoKCk9Pnt3YS5kZWxldGUodC5uYW1lKX0pKSxlfSkoKTt3YS5zZXQodC5uYW1lLGUpfXJldHVybiB3YS5nZXQodC5uYW1lKX0oYSkpLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3QgYT1yYShlKSx7dG9wOm4sbGVmdDpvLGRlZmF1bHRXaWR0aDppLGRlZmF1bHRIZWlnaHQ6cn09YSxzPXt0b3A6bixsZWZ0Om8sd2lkdGg6aSxoZWlnaHQ6cn0sYz17cGFyZW50TmFtZTpmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkuaWRlbnRpdHkubmFtZX07Zm9yKGNvbnN0W2UsYV1vZiBPYmplY3QuZW50cmllcyhjKSl0LnNldChlLGEpO2NvbnN0IGQ9dC50b1N0cmluZygpLHA9YCR7YS51cmx9PyR7ZH1gO2RhLmVtaXQoc2EuVXBkYXRlLGEubmFtZSxzLHApLGF3YWl0IHBhKHtuYW1lOmEubmFtZSxkYXRhOmNhLkNhbmNlbGVkfSl9KGUsdHx8bmV3IFVSTFNlYXJjaFBhcmFtcyksb31jb25zdCBnYT1hc3luYyhlLHQpPT57Y29uc3QgYT10P0QodCk6RigpO2F3YWl0KGFzeW5jKGU9ZmluLm1lLmlkZW50aXR5KT0+e2NvbnN0IHQ9RChlKSxhPWF3YWl0IHQuZ2V0Qm91bmRzKCk7KGEucmlnaHQ+c2NyZWVuLmF2YWlsTGVmdCtzY3JlZW4ud2lkdGh8fGEubGVmdDxzY3JlZW4uYXZhaWxMZWZ0fHxhLmJvdHRvbT5zY3JlZW4uYXZhaWxUb3Arc2NyZWVuLmhlaWdodHx8YS50b3A8c2NyZWVuLmF2YWlsVG9wKSYmYXdhaXQgdC5jZW50ZXIoKX0pKGEuaWRlbnRpdHkpO2NvbnN0IG49YXdhaXQgYS5nZXRCb3VuZHMoKSxvPXtsZWZ0OigoaT1uKS5sZWZ0K2kucmlnaHQpLzIsdG9wOihpLnRvcCtpLmJvdHRvbSkvMn07dmFyIGk7Y29uc3R7ZGVmYXVsdEhlaWdodDpyLGRlZmF1bHRXaWR0aDpzfT1lO3JldHVybigoZSx0KT0+e2NvbnN0e2hlaWdodDphLHdpZHRoOm59PXQsbz1uLzIsaT1hLzI7cmV0dXJue2xlZnQ6ZS5sZWZ0LW8sdG9wOmUudG9wLWl9fSkobyx7aGVpZ2h0OnIsd2lkdGg6c30pfSx5YT1hc3luYyh7b3B0aW9uczplLGNvbnRlbnQ6dH0pPT57Y29uc3QgYT1uZXcgVVJMU2VhcmNoUGFyYW1zKHsuLi50fSk7cmV0dXJuIGF3YWl0IHVhKHtvcHRpb25zOmUscGFyYW1ldGVyczphfSksbmV3IFByb21pc2UoKHQ9PntkYS5vbmNlKHNhLlJlc3BvbnNlLChhPT57YS5uYW1lPT09ZS5uYW1lJiZ0KGEpfSkpfSkpfSxoYT1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIlN3aXRjaCBXb3Jrc3BhY2VcIix3aW5kb3dPcHRpb25zOnt1cmw6QStlYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjExMixkZWZhdWx0V2lkdGg6NDI0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6YEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzd2l0Y2ggdG8gJHt0fWAsYm9keTpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlLHQpLHt0b3A6byxsZWZ0Oml9PWF3YWl0IGdhKGEsZSkscj17Li4uYSx0b3A6byxsZWZ0Oml9O3JldHVybihhd2FpdCB5YSh7b3B0aW9uczpyLGNvbnRlbnQ6bn0pKS5kYXRhPT09Y2EuQWZmaXJtYXRpdmV9LGZhPWFzeW5jKGUsdCk9Pntjb25zdHt3aW5kb3dPcHRpb25zOmEsY29udGVudDpufT1hd2FpdChhc3luYyhlLHQpPT4oe3RpdGxlOlwiRGVsZXRlIFdvcmtzcGFjZVwiLHdpbmRvd09wdGlvbnM6e3VybDpBK2VhLlJlc3BvbnNlTW9kYWwsbmFtZTpWLkJyb3dzZXJNZW51LGRlZmF1bHRIZWlnaHQ6MTQ0LGRlZmF1bHRXaWR0aDozNzIsbW9kYWxQYXJlbnRJZGVudGl0eTplfSxjb250ZW50Ont0aXRsZTpcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwZXJtYW5lbnRseSBkZWxldGUgdGhpcyB3b3Jrc3BhY2U/XCIsYm9keTpgJHt0fWAsYWZmaXJtYXRpdmVCdXR0b246XCJDb25maXJtXCIsbmVnYXRpdmVCdXR0b246XCJDYW5jZWxcIn19KSkoZSx0KSx7dG9wOm8sbGVmdDppfT1hd2FpdCBnYShhLGUpLHI9ey4uLmEsdG9wOm8sbGVmdDppfTtyZXR1cm4oYXdhaXQgeWEoe29wdGlvbnM6cixjb250ZW50Om59KSkuZGF0YT09PWNhLkFmZmlybWF0aXZlfSxtYT1hc3luYyhlLHQpPT57Y29uc3R7d2luZG93T3B0aW9uczphLGNvbnRlbnQ6bn09YXdhaXQoYXN5bmMoZSx0KT0+KHt0aXRsZTpcIlBsYXRmb3JtIFF1aXRcIix3aW5kb3dPcHRpb25zOnt1cmw6QStlYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjEzNCxkZWZhdWx0V2lkdGg6NDc0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6YEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBxdWl0ICR7XCJQbGF0Zm9ybVwiPT09dD9cInRoZSBwbGF0Zm9ybVwiOnR9P2AsYm9keTpcIkFueSB1bnNhdmVkIGNoYW5nZXMgdG8gdGhlIHdvcmtzcGFjZSB3aWxsIGJlIGRpc2NhcmRlZFwiLGFmZmlybWF0aXZlQnV0dG9uOlwiQ29uZmlybVwiLG5lZ2F0aXZlQnV0dG9uOlwiQ2FuY2VsXCJ9fSkpKGUsdCkse3RvcDpvLGxlZnQ6aX09YXdhaXQgZ2EoYSxlKSxyPXsuLi5hLHRvcDpvLGxlZnQ6aX07cmV0dXJuKGF3YWl0IHlhKHtvcHRpb25zOnIsY29udGVudDpufSkpLmRhdGE9PT1jYS5BZmZpcm1hdGl2ZX0sU2E9YXN5bmMgZT0+e2NvbnN0e3dpbmRvd09wdGlvbnM6dCxjb250ZW50OmF9PWF3YWl0KGFzeW5jIGU9Pih7dGl0bGU6XCJSZXN0b3JlIENoYW5nZXNcIix3aW5kb3dPcHRpb25zOnt1cmw6QStlYS5SZXNwb25zZU1vZGFsLG5hbWU6Vi5Ccm93c2VyTWVudSxkZWZhdWx0SGVpZ2h0OjExMixkZWZhdWx0V2lkdGg6NDI0LG1vZGFsUGFyZW50SWRlbnRpdHk6ZX0sY29udGVudDp7dGl0bGU6XCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzdG9yZSB0byBsYXN0IHNhdmVkIGNoYW5nZXM/XCIsYm9keTpcIkFueSB1bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBkaXNjYXJkZWRcIixhZmZpcm1hdGl2ZUJ1dHRvbjpcIkNvbmZpcm1cIixuZWdhdGl2ZUJ1dHRvbjpcIkNhbmNlbFwifX0pKShlKSx7dG9wOm4sbGVmdDpvfT1hd2FpdCBnYSh0LGUpLGk9ey4uLnQsdG9wOm4sbGVmdDpvfTtyZXR1cm4oYXdhaXQgeWEoe29wdGlvbnM6aSxjb250ZW50OmF9KSkuZGF0YT09PWNhLkFmZmlybWF0aXZlfTt2YXIgdmE7IWZ1bmN0aW9uKGUpe2UuRVJST1I9XCJlcnJvclwiLGUuU1VDQ0VTUz1cInN1Y2Nlc3NcIixlLklORk89XCJpbmZvXCJ9KHZhfHwodmE9e30pKTtjb25zdCBQYT17YWx3YXlzT25Ub3A6ITAsYXV0b1Nob3c6ITEsY29ybmVyUm91bmRpbmc6e2hlaWdodDo1LHdpZHRoOjV9LGZyYW1lOiExLHJlc2l6YWJsZTohMSxzaG93VGFza2Jhckljb246ITF9O3ZhciBrYTshZnVuY3Rpb24oZSl7ZS5Mb2NrZWQ9XCJMb2NrQ2xvc2VkSWNvblwiLGUuVW5sb2NrZWQ9XCJMb2NrT3BlbjFJY29uXCJ9KGthfHwoa2E9e30pKTtjb25zdCBiYT1mdW5jdGlvbihlPVBhKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGFzeW5jKGEsbixvLGkpPT57aWYodC5oYXMoYSkpe2NvbnN0e2N1cnJlbnRVcmw6ZSxjdXJyZW50TmFtZTpvfT10LmdldChhKTtpZihlPT09bilyZXR1cm47Y29uc3QgaT1maW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmZpbi5tZS51dWlkLG5hbWU6b30pO2F3YWl0IGkuY2xvc2UoKX1jb25zdCByPWAke1YuSG9tZUludGVybmFsfS0ke0RhdGUubm93KCl9JHtNYXRoLnJhbmRvbSgpfWA7dC5zZXQoYSx7Y3VycmVudFVybDpuLGN1cnJlbnROYW1lOnJ9KTtjb25zdCBzPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmNyZWF0ZVdpbmRvdyh7Li4uZSxuYW1lOnIsdXJsOm59KTsoKGUsdCk9Pntjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIix0fHxcInBvbGl0ZVwiKSwoZT0+e2Uuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUud2lkdGg9XCIxcHhcIixlLnN0eWxlLmhlaWdodD1cIjFweFwiLGUuc3R5bGUucGFkZGluZz1cIjBcIixlLnN0eWxlLm1hcmdpbj1cIi0xcHhcIixlLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZS5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCIsZS5zdHlsZS5ib3JkZXI9XCIwXCJ9KShhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLHNldFRpbWVvdXQoKCgpPT57YS5pbm5lckhUTUw9ZX0pLDEwMCksc2V0VGltZW91dCgoKCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpfSksMWUzKX0pKGBOZXcgJHtpfSBpbmRpY2F0b3I6ICR7b31gKSxzLm9uY2UoXCJjbG9zZWRcIiwoKCk9Pnt0LmRlbGV0ZShhKX0pKX19KCk7YXN5bmMgZnVuY3Rpb24gV2EoZSx0LGEsbil7Y29uc3Qgbz1uZXcgVVJMU2VhcmNoUGFyYW1zO28uYXBwZW5kKFwidHlwZVwiLGUpLG8uYXBwZW5kKFwibWVzc2FnZVwiLHQpLG8uYXBwZW5kKFwicGFyZW50TmFtZVwiLGF8fFwiXCIpLG8uYXBwZW5kKFwiaWNvblwiLG58fFwiXCIpO2NvbnN0IGk9YCR7b2EoZWEuQnJvd3NlckluZGljYXRvcil9PyR7by50b1N0cmluZygpfWA7cmV0dXJuIGJhKFwiYnJvd3NlclwiK2EsaSx0LGUpfWZ1bmN0aW9uIENhKGUsdCxhKXtyZXR1cm4gV2EodmEuU1VDQ0VTUyxlLHQsYSl9Y29uc3QgSWE9YXN5bmMgZT0+e2NvbnN0IHQ9RXQoKSxhPWF3YWl0IHQuZ2V0Q3VycmVudFdvcmtzcGFjZSgpLG49YXdhaXQgdC5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSxvPWEud29ya3NwYWNlSWQ7aWYobi5zb21lKChlPT5lLndvcmtzcGFjZUlkPT09bykpKXQuU3RvcmFnZS5zYXZlV29ya3NwYWNlKGEpLHQuc2V0QWN0aXZlV29ya3NwYWNlKGEpLENhKFwiV29ya3NwYWNlIFNhdmVkXCIsZS5uYW1lKTtlbHNle3QuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6Zi5TQVZFX1dPUktTUEFDRX0pfX0sQWE9ZT0+e0V0KCkuQnJvd3Nlci53cmFwU3luYyhlKS5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6Zi5TQVZFX1dPUktTUEFDRV9BU30pfSxUYT1hc3luYyhlLHQpPT57Y29uc3QgYT1FdCgpLkJyb3dzZXIud3JhcFN5bmMoZSksbj1hd2FpdCBFdCgpLlN0b3JhZ2UuZ2V0UGFnZXMoKSxvPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKTtpZihuLnNvbWUoKGU9Pm8ucGFnZUlkPT09ZS5wYWdlSWQpKSl0cnl7YXdhaXQgRXQoKS5TdG9yYWdlLnNhdmVQYWdlKChjPW8sey4uLmMsaGFzVW5zYXZlZENoYW5nZXM6dm9pZCAwLHBhcmVudElkZW50aXR5OnZvaWQgMCxpc0FjdGl2ZTp2b2lkIDB9KSksYXdhaXQgYS51cGRhdGVQYWdlKHtwYWdlSWQ6by5wYWdlSWQscGFnZTp7aGFzVW5zYXZlZENoYW5nZXM6ITF9fSksQ2EoXCJQYWdlIHNhdmVkXCIsby5wYXJlbnRJZGVudGl0eS5uYW1lKX1jYXRjaHtpPVwiUGFnZSBmYWlsZWQgdG8gc2F2ZVwiLHI9by5wYXJlbnRJZGVudGl0eS5uYW1lLFdhKHZhLkVSUk9SLGkscixzKX1lbHNlIGEuX29wZW5TYXZlTW9kYWwoe2lkOm8ucGFnZUlkLG1lbnVUeXBlOmYuU0FWRV9QQUdFfSk7dmFyIGkscixzLGN9LE1hPWFzeW5jKGUsdCk9Pntjb25zdCBhPUV0KCkuQnJvd3Nlci53cmFwU3luYyhlKSxuPShhd2FpdCBhLmdldFBhZ2VzKCkpLmZpbmQoKGU9PnQ/ZS5wYWdlSWQ9PT10OmUuaXNBY3RpdmUpKTthLl9vcGVuU2F2ZU1vZGFsKHtpZDpuLnBhZ2VJZCxtZW51VHlwZTpmLlNBVkVfUEFHRV9BU30pfSxFYT1hc3luYyhlLHQpPT57aWYoIWUpcmV0dXJuO2NvbnN0IGE9dC5pZGVudGl0eSxuPWF3YWl0IENlKGEpLG89RXQoKS5Ccm93c2VyLndyYXBTeW5jKHQuaWRlbnRpdHkpO3N3aXRjaChlLnR5cGUpe2Nhc2UgbC5OZXdXaW5kb3c6Y29uc3R7bmV3UGFnZVVybDp0fT1hd2FpdCBPdChhKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGEgbmV3IGVtcHR5IHdpbmRvdyB3aXRob3V0IGEgbmV3UGFnZVVybCBzZXRcIik7RXQoKS5jcmVhdGVWaWV3KHt0YXJnZXQ6dm9pZCAwLHVybDp0fSk7YnJlYWs7Y2FzZSBsLk5ld1BhZ2U6YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9RXQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLGE9YXdhaXQgQnQoZSk7YXdhaXQgdC5hZGRQYWdlKGEpLGF3YWl0IHQuc2V0QWN0aXZlUGFnZShhLnBhZ2VJZCl9KShhKTticmVhaztjYXNlIGwuQ2xvc2VXaW5kb3c6bi5kaXNwYXRjaChJZS5DbG9zZUJyb3dzZXJXaW5kb3cpO2JyZWFrO2Nhc2UgbC5TYXZlV29ya3NwYWNlOmF3YWl0IElhKGEpO2JyZWFrO2Nhc2UgbC5TYXZlUGFnZTphd2FpdCBUYShhKTticmVhaztjYXNlIGwuU2F2ZVBhZ2VBczphd2FpdCBNYShhKTticmVhaztjYXNlIGwuU2F2ZVdvcmtzcGFjZUFzOmF3YWl0IEFhKGEpO2JyZWFrO2Nhc2UgbC5SZW5hbWVXb3Jrc3BhY2U6by5fb3BlblNhdmVNb2RhbCh7bWVudVR5cGU6Zi5SRU5BTUVfV09SS1NQQUNFfSk7YnJlYWs7Y2FzZSBsLlN3aXRjaFdvcmtzcGFjZTphd2FpdChhc3luYyhlLHQpPT57Y29uc3QgYT1FdCgpLG49KGF3YWl0IGEuU3RvcmFnZS5nZXRXb3Jrc3BhY2VzKCkpLmZpbmQoKGU9PmUud29ya3NwYWNlSWQ9PT10LndvcmtzcGFjZUlkKSk7biYmYXdhaXQgaGEoZSxuLnRpdGxlKSYmKGF3YWl0IGEuYXBwbHlXb3Jrc3BhY2UobiksQ2EoXCJXb3Jrc3BhY2UgU3dpdGNoZWQhXCIsbnVsbCkpfSkoYSxlKTticmVhaztjYXNlIGwuRGVsZXRlV29ya3NwYWNlOmF3YWl0KGFzeW5jKGUsdCk9Pntjb25zdCBhPUV0KCksbj0oYXdhaXQgYS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKTtuJiZhd2FpdCBmYShlLG4udGl0bGUpJiYoYXdhaXQgYS5TdG9yYWdlLmRlbGV0ZVdvcmtzcGFjZSh0LndvcmtzcGFjZUlkKSxDYShcIldvcmtzcGFjZSBEZWxldGVkIVwiLGUubmFtZSkpfSkoYSxlKTticmVhaztjYXNlIGwuUXVpdDpjb25zdCBpPWF3YWl0IEp0KCk7YXdhaXQgbWEoYSxpKSYmZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCkucXVpdCgpO2JyZWFrO2Nhc2UgbC5PcGVuU3RvcmVmcm9udDooYXN5bmMoKT0+e2F3YWl0IEsoKSYmTihHKX0pKCk7YnJlYWs7Y2FzZSBsLlJlc3RvcmVDaGFuZ2VzOmNvbnN0IHI9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPUV0KCksdD1hd2FpdCBlLmdldEN1cnJlbnRXb3Jrc3BhY2UoKTtyZXR1cm4oYXdhaXQgZS5TdG9yYWdlLmdldFdvcmtzcGFjZXMoKSkuZmluZCgoZT0+ZS53b3Jrc3BhY2VJZD09PXQud29ya3NwYWNlSWQpKX0oKTthd2FpdCBTYShhKSYmYXdhaXQgbmUocik7YnJlYWs7Y2FzZSBsLkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgdD17Y2FsbGVyVHlwZTpoLkdsb2JhbENvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OmEsY3VzdG9tRGF0YTplLmFjdGlvbi5jdXN0b21EYXRhfTtFdCgpLl9pbnZva2VDdXN0b21BY3Rpb24oZS5hY3Rpb24uaWQsdCl9fX0sT2E9YXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgQ2UodC5pZGVudGl0eSksbj1FdCgpO3N3aXRjaChlLnR5cGUpe2Nhc2Ugdy5TYXZlOmF3YWl0IFRhKHQuaWRlbnRpdHksdC5wYWdlSWQpO2JyZWFrO2Nhc2Ugdy5TYXZlQXM6YXdhaXQgTWEodC5pZGVudGl0eSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LlJlbmFtZTphd2FpdCBuLkJyb3dzZXIud3JhcFN5bmModC5pZGVudGl0eSkuX29wZW5TYXZlTW9kYWwoe21lbnVUeXBlOmYuUkVOQU1FX1BBR0UsaWQ6dC5wYWdlSWR9KTticmVhaztjYXNlIHcuRHVwbGljYXRlOmEuZGlzcGF0Y2goSWUuRHVwbGljYXRlUGFnZSx0LnBhZ2VJZCk7YnJlYWs7Y2FzZSB3LkNsb3NlOmEuZGlzcGF0Y2goSWUuQ2xvc2VQYWdlLHQucGFnZUlkKTticmVhaztjYXNlIHcuQ3VzdG9tOmlmKGUuYWN0aW9uKXtjb25zdCBhPXtjYWxsZXJUeXBlOmguUGFnZVRhYkNvbnRleHRNZW51LHdpbmRvd0lkZW50aXR5OnQuaWRlbnRpdHkscGFnZUlkOnQucGFnZUlkLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RXQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLGEpfX19LEJhPWFzeW5jKGUsdCk9PntpZihlPy50eXBlKXtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSB5LlNhdmVQYWdlOmF3YWl0IFRhKGEpO2JyZWFrO2Nhc2UgeS5TYXZlV29ya3NwYWNlOmF3YWl0IElhKGEpO2JyZWFrO2Nhc2UgeS5TYXZlUGFnZUFzOmF3YWl0IE1hKGEpO2JyZWFrO2Nhc2UgeS5TYXZlV29ya3NwYWNlQXM6YXdhaXQgQWEoYSk7YnJlYWs7Y2FzZSB5LkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3QgYT17Y2FsbGVyVHlwZTpoLlNhdmVCdXR0b25Db250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTp0LmlkZW50aXR5LHBhZ2VJZDp0LnBhZ2VJZCxjdXN0b21EYXRhOmUuYWN0aW9uLmN1c3RvbURhdGF9O0V0KCkuX2ludm9rZUN1c3RvbUFjdGlvbihlLmFjdGlvbi5pZCxhKX19fX0sUmE9YXN5bmMoZSx0KT0+e2NvbnN0IGE9dC5zZWxlY3RlZFZpZXdzWzBdLG49ZmluLlZpZXcud3JhcFN5bmMoYSksbz1hd2FpdChhc3luYyBlPT57Y29uc3R7bmV3VGFiVXJsOnR9PWF3YWl0IE90KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBjcmVhdGUgYSBuZXcgcGFnZSB3aXRob3V0IGEgbmV3VGFiVXJsIHNldFwiKTtyZXR1cm57Li4uaGUoXCJOZXcgVmlld1wiLHQpLHVybDp0LHRhcmdldDplfX0pKGUpO2F3YWl0IEV0KCkuY3JlYXRlVmlldyhvLGUsbi5pZGVudGl0eSl9LExhPWFzeW5jKGUsdCk9Pntjb25zdCBhPWF3YWl0KGU9PlByb21pc2UuYWxsKGUubWFwKChhc3luYyBlPT5maW4uVmlldy53cmFwU3luYyhlKS5nZXRJbmZvKCkpKSkpKHQpLHtuZXdQYWdlVXJsOm4sbmV3VGFiVXJsOm99PWF3YWl0IE90KGUpO2EuZm9yRWFjaCgoYXN5bmMgZT0+e2UudXJsIT09biYmZS51cmwhPT1vJiZhd2FpdCBmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihlLnVybCl9KSl9LHhhPShlLHQpPT57dC5mb3JFYWNoKChhc3luYyB0PT57Y29uc3QgYT1maW4uVmlldy53cmFwU3luYyh0KTthd2FpdChhc3luYyhlLHQpPT57Y29uc3R7dXJsOmF9PWF3YWl0IHQuZ2V0SW5mbygpLG49ey4uLmF3YWl0IHQuZ2V0T3B0aW9ucygpLHVybDphLHRhcmdldDplLG5hbWU6dm9pZCAwfTthd2FpdCBFdCgpLmNyZWF0ZVZpZXcobixlLHQuaWRlbnRpdHkpfSkoZSxhKX0pKX0sVmE9YXN5bmMoZSx0KT0+e2lmKCFlKXJldHVybjtjb25zdCBhPXQuaWRlbnRpdHk7c3dpdGNoKGUudHlwZSl7Y2FzZSB1LkNsb3NlVmlld3M6YXdhaXQoYXN5bmMoZSx0KT0+e2lmKChhd2FpdCBmaW4uV2luZG93LndyYXBTeW5jKGUpLmdldEN1cnJlbnRWaWV3cygpKS5sZW5ndGghPT10Lmxlbmd0aCl0LmZvckVhY2goKGFzeW5jIGU9Pntjb25zdCB0PWZpbi5WaWV3LndyYXBTeW5jKGUpO2F3YWl0IHQuZGVzdHJveSgpfSkpO2Vsc2V7Y29uc3QgdD0oYXdhaXQgRXQoKS5Ccm93c2VyLndyYXBTeW5jKGUpLmdldFBhZ2VzKCkpLmZpbmQoKGU9PmUuaXNBY3RpdmUpKTsoYXdhaXQgQ2UoZSkpLmRpc3BhdGNoKEllLkNsb3NlUGFnZSx0Py5wYWdlSWQpfX0pKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIHUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcjphd2FpdCBMYShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSB1LlJlbG9hZFZpZXdzOnQuc2VsZWN0ZWRWaWV3cy5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1maW4uVmlldy53cmFwU3luYyhlKTthd2FpdCB0LnJlbG9hZCgpfSkpO2JyZWFrO2Nhc2UgdS5OZXdWaWV3OmF3YWl0IFJhKGEsdCk7YnJlYWs7Y2FzZSB1LkR1cGxpY2F0ZVZpZXdzOnhhKGEsdC5zZWxlY3RlZFZpZXdzKTticmVhaztjYXNlIHUuQWRkVG9DaGFubmVsOihhc3luYyhlLHQsYSk9Pntjb25zdCBuPXtuZXdDaGFubmVsSWQ6dCxzZWxlY3RlZFZpZXdzOmF9Oyhhd2FpdCBDZShlKSkuZGlzcGF0Y2goSWUuQWRkVG9DaGFubmVsLG4pfSkoYSxlLm9wdGlvbix0LnNlbGVjdGVkVmlld3MpO2JyZWFrO2Nhc2UgdS5SZW1vdmVGcm9tQ2hhbm5lbDooYXN5bmMoZSx0KT0+eyhhd2FpdCBDZShlKSkuZGlzcGF0Y2goSWUuUmVtb3ZlRnJvbUNoYW5uZWwsdCl9KShhLHQuc2VsZWN0ZWRWaWV3cyk7YnJlYWs7Y2FzZSB1LkN1c3RvbTppZihlLmFjdGlvbil7Y29uc3Qgbj17Y2FsbGVyVHlwZTpoLlZpZXdUYWJDb250ZXh0TWVudSx3aW5kb3dJZGVudGl0eTphLHNlbGVjdGVkVmlld3M6dC5zZWxlY3RlZFZpZXdzLGN1c3RvbURhdGE6ZS5hY3Rpb24uY3VzdG9tRGF0YX07RXQoKS5faW52b2tlQ3VzdG9tQWN0aW9uKGUuYWN0aW9uLmlkLG4pfX19O2FzeW5jIGZ1bmN0aW9uIFVhKGUsdCl7Y29uc3QgYT1hd2FpdCB6dChlLmlkZW50aXR5KSxuPWF3YWl0IEp0KCk7YS5maW5kKChlPT5lLmRhdGE/LnR5cGU9PT1sLlF1aXQpKS5sYWJlbD1gUXVpdCAke259YDtjb25zdCBvPXsuLi5lLHRlbXBsYXRlOmEsY2FsbGJhY2s6RWF9O2F3YWl0IHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51KG8sdCl9Y29uc3QgRGE9YXN5bmMoZSx0KT0+e2NvbnN0e3g6YSx5Om4saWRlbnRpdHk6byx0ZW1wbGF0ZTppLGNhbGxiYWNrOnJ9PWUse2RhdGE6c309YXdhaXQgZnVuY3Rpb24oZSx0KXtpZighUyl0aHJvdyBuZXcgRXJyb3IoXCJzaG93Q29udGV4dE1lbnUgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7aWYoIXQmJiFmaW4ubWUuaXNXaW5kb3cpdGhyb3cgbmV3IEVycm9yKFwic2hvd0NvbnRleHRNZW51IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiB3aW5kb3cuXCIpO3JldHVybih0fHxmaW4uV2luZG93LmdldEN1cnJlbnRTeW5jKCkpLnNob3dQb3B1cE1lbnUoZSl9KHt4OmEseTpuLHRlbXBsYXRlOml9LGZpbi5XaW5kb3cud3JhcFN5bmMobykpO3IocyxlKX07YXN5bmMgZnVuY3Rpb24gX2EoZSx0KXtjb25zdCBhPXsuLi5lLGNhbGxiYWNrOlZhfTthd2FpdCB0aGlzLm9wZW5WaWV3VGFiQ29udGV4dE1lbnUoYSx0KX1hc3luYyBmdW5jdGlvbiBGYShlLHQpe2NvbnN0IGE9YXdhaXQoYXN5bmMoZSx0KT0+e2NvbnN0IGE9YXdhaXQgRXQoKS5TdG9yYWdlLmdldFBhZ2UoZSksbj0oYXdhaXQgT2UoKSkuZmluZCgodD0+dC5wYWdlSWQ9PT1lKSkse3dvcmtzcGFjZVBsYXRmb3JtOm99PWF3YWl0IEQodCkuZ2V0T3B0aW9ucygpLGk9IShvLmlzTG9ja2VkfHxvLnByZXZlbnRQYWdlQ2xvc2V8fG4uY2xvc2VCdXR0b24/LmRpc2FibGVkfHxuLmNsb3NlQnV0dG9uPy5oaWRkZW4pO3JldHVyblt7dHlwZTp2dC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZVwiLGRhdGE6e3R5cGU6dy5TYXZlfX0se3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2UgQXNcIixkYXRhOnt0eXBlOncuU2F2ZUFzfX0sUHQse3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJSZW5hbWUgUGFnZVwiLGRhdGE6e3R5cGU6dy5SZW5hbWV9LGVuYWJsZWQ6ISFhfSx7dHlwZTp2dC5MYWJlbCxsYWJlbDpcIkR1cGxpY2F0ZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkR1cGxpY2F0ZX0sZW5hYmxlZDohby5pc0xvY2tlZH0sUHQse3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJDbG9zZSBQYWdlXCIsZGF0YTp7dHlwZTp3LkNsb3NlfSxlbmFibGVkOml9XX0pKGUucGFnZUlkLGUuaWRlbnRpdHkpLG49ey4uLmUsdGVtcGxhdGU6YSxjYWxsYmFjazpPYX07YXdhaXQgdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51KG4sdCl9YXN5bmMgZnVuY3Rpb24gR2EoZSx0KXtjb25zdCBhPXsuLi5lLHRlbXBsYXRlOmF3YWl0KGFzeW5jKCk9Plt7dHlwZTp2dC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlXCIsZGF0YTp7dHlwZTp5LlNhdmVXb3Jrc3BhY2V9fSx7dHlwZTp2dC5MYWJlbCxsYWJlbDpcIlNhdmUgV29ya3NwYWNlIEFzXCIsZGF0YTp7dHlwZTp5LlNhdmVXb3Jrc3BhY2VBc319LHt0eXBlOnZ0LlNlcGFyYXRvcixkYXRhOnZvaWQgMH0se3R5cGU6dnQuTGFiZWwsbGFiZWw6XCJTYXZlIFBhZ2VcIixkYXRhOnt0eXBlOnkuU2F2ZVBhZ2V9fSx7dHlwZTp2dC5MYWJlbCxsYWJlbDpcIlNhdmUgUGFnZSBBc1wiLGRhdGE6e3R5cGU6eS5TYXZlUGFnZUFzfX1dKSgpLGNhbGxiYWNrOkJhfTthd2FpdCB0aGlzLm9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnUoYSx0KX1jb25zdCBOYT1QJiZpdChcIm9wZW5maW4td29ya3NwYWNlLXBsYXRmb3JtLXdvcmtzcGFjZXNcIixcIndvcmtzcGFjZXNcIik7YXN5bmMgZnVuY3Rpb24gJGEoZSl7Y29uc3QgdD1hd2FpdCBjdChlLE5hKTtyZXR1cm4gdD8odC53b3Jrc3BhY2VJZD1lLnRvU3RyaW5nKCksdC50aXRsZT10LnRpdGxlfHx0LndvcmtzcGFjZUlkLHQpOm51bGx9YXN5bmMgZnVuY3Rpb24gSGEoZSl7Y29uc3QgdD1hd2FpdCB3dChOYSksYT1hd2FpdCBQcm9taXNlLmFsbCh0Lm1hcCgoZT0+JGEoZS50b1N0cmluZygpKSkpKTtyZXR1cm4gZT9hLmZpbHRlcigodD0+dXQodC50aXRsZSxlKSkpOmF9YXN5bmMgZnVuY3Rpb24gcWEoe3dvcmtzcGFjZTplfSl7YXdhaXQgZHQoZS53b3Jrc3BhY2VJZCxlLE5hKX1hc3luYyBmdW5jdGlvbiBLYShlKXthd2FpdCBwdChlLE5hKX1hc3luYyBmdW5jdGlvbiBqYSh7d29ya3NwYWNlSWQ6ZSx3b3Jrc3BhY2U6dH0pe2lmKHZvaWQgMD09PWF3YWl0ICRhKGUpKXRocm93IG5ldyBFcnJvcihcIndvcmtzcGFjZSBub3QgZm91bmRcIik7YXdhaXQgcWEoe3dvcmtzcGFjZTp0fSksZSE9PXQud29ya3NwYWNlSWQmJmF3YWl0IEthKGUpfWFzeW5jIGZ1bmN0aW9uIHphKHthcHA6ZSx0YXJnZXQ6dH0pe2NvbnN0IGE9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7c3dpdGNoKGUubWFuaWZlc3RUeXBlKXtjYXNlIHIuU25hcHNob3Q6cmV0dXJuIGEuYXBwbHlTbmFwc2hvdChlLm1hbmlmZXN0KTtjYXNlIHIuVmlldzpyZXR1cm4gYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBhPWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKFwidmlld1wiPT09dC5lbnRpdHlUeXBlKXtjb25zdCBhPWZpbi5WaWV3LndyYXBTeW5jKHQpLG49YXdhaXQgYS5nZXRQYXJlbnRMYXlvdXQoKTtyZXR1cm4gYXdhaXQgbi5yZXBsYWNlVmlldyh0LHttYW5pZmVzdFVybDplLm1hbmlmZXN0LHVybDp2b2lkIDAsdGFyZ2V0OnZvaWQgMH0pLGEuZGVzdHJveSgpfXJldHVybiBhLmNyZWF0ZVZpZXcoe25hbWU6dm9pZCAwLHVybDp2b2lkIDAsbWFuaWZlc3RVcmw6ZS5tYW5pZmVzdCx0YXJnZXQ6dm9pZCAwfSl9KGUsdCk7Y2FzZSByLkV4dGVybmFsOnJldHVybiBmaW4uU3lzdGVtLmxhdW5jaEV4dGVybmFsUHJvY2Vzcyh7cGF0aDplLm1hbmlmZXN0LHV1aWQ6ZS5hcHBJZH0pO2RlZmF1bHQ6cmV0dXJuIGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChlLm1hbmlmZXN0KX19Y29uc3QgUWE9ZT0+ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpO2Z1bmN0aW9uIEphKGUsLi4udCl7aWYoIXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGE9dC5zaGlmdCgpO3JldHVybiBRYShlKSYmUWEoYSkmJk9iamVjdC5lbnRyaWVzKGEpLmZvckVhY2goKChbdCxhXSk9PntpZihRYShhKSlyZXR1cm4gZVt0XXx8KGVbdF09e30pLEphKGVbdF0sYSk7ZVt0XT1hfSkpLEphKGUsLi4udCl9Y29uc3QgWGE9QStlYS5Ccm93c2VyO2Z1bmN0aW9uIFlhKGUsdCl7Y29uc3QgYT1KYSh7fSx0LGUpO3JldHVybiBhLmRldGFjaE9uQ2xvc2U9ITAsYX1hc3luYyBmdW5jdGlvbiBaYShlLHQsYSl7Y29uc3Qgbj1lLm1hbmlmZXN0VXJsP2F3YWl0IHQoe21hbmlmZXN0VXJsOmUubWFuaWZlc3RVcmx9LGEpOnZvaWQgMDtpZihuPy5pbnRlcm9wJiZlLmludGVyb3Ape2NvbnN0IHQ9ey4uLmUsLi4ubixpbnRlcm9wOmUuaW50ZXJvcH07cmV0dXJuIGRlbGV0ZSB0Lm1hbmlmZXN0VXJsLHR9cmV0dXJuIGV9Y29uc3QgZW49ZT0+e2NvbnN0IHQ9ZS5uYW1lPT09Vi5Ib21lLGE9ZS5uYW1lPy5zdGFydHNXaXRoKFYuSG9tZUludGVybmFsKSxuPWUubmFtZT8uc3RhcnRzV2l0aChWLkJyb3dzZXJNZW51KTtyZXR1cm4hdCYmIWEmJiFufSx0bj1lPT5cIndvcmtzcGFjZVBsYXRmb3JtXCJpbiBlP2U6KCh7d29ya3N0YWNrczplLHBhZ2VzOnQsLi4uYX0pPT4oey4uLmEsd29ya3NwYWNlUGxhdGZvcm06e3BhZ2VzOnR8fGV8fG51bGx9fSkpKGUpLGFuPXtjb250ZXh0TWVudVNldHRpbmdzOntyZWxvYWQ6ITF9LGJhY2tncm91bmRUaHJvdHRsaW5nOiEwLHVybDpYYSxjb250ZXh0TWVudTohMCxjbG9zZU9uTGFzdFZpZXdSZW1vdmVkOiExLGV4cGVyaW1lbnRhbDp7c2hvd0Zhdmljb25zOiEwLGRlZmF1bHRGYXZpY29uVXJsOmAke0F9L2ljb25zL2RlZmF1bHRGYXZpY29uLnN2Z2B9LHBlcm1pc3Npb25zOntTeXN0ZW06e29wZW5VcmxXaXRoQnJvd3Nlcjp7ZW5hYmxlZDohMCxwcm90b2NvbHM6W1wibWFpbHRvXCJdfX19fSxubj17ZGltZW5zaW9uczp7Ym9yZGVyV2lkdGg6MyxoZWFkZXJIZWlnaHQ6MzB9fSxvbj1hc3luYyhlLHQpPT57Y29uc3QgYT1hd2FpdCBFdCgpLlN0b3JhZ2UuZ2V0UGFnZXMoKSxuPWF3YWl0IEV0KCkuQnJvd3Nlci5nZXRBbGxBdHRhY2hlZFBhZ2VzKCk7cmV0dXJuIGUubWFwKChlPT57bGV0IG89ZS50aXRsZTt2b2lkIDA9PT1lLnBhZ2VJZCYmKGUucGFnZUlkPWNyeXB0by5yYW5kb21VVUlEKCkpO2NvbnN0IGk9YS5maW5kKChlPT5lLnRpdGxlPT09bykpO3JldHVybihpJiZpLnBhZ2VJZCE9PWUucGFnZUlkfHxuLmZpbmQoKGU9PmUudGl0bGU9PT1vKSkpJiYobz1hZShlLnRpdGxlLFsuLi5hLC4uLm5dLm1hcCgoZT0+ZS50aXRsZSkpKSksbi5wdXNoKGUpLHsuLi50LC4uLmUsdGl0bGU6byxsYXlvdXQ6KHI9ZS5sYXlvdXQsdWUoey4uLnJ9LGdlKSl9O3ZhciByfSkpfTtjb25zdCBybj1lPT57Y29uc3QgdD1maW4uV2luZG93LndyYXBTeW5jKGUpO3JldHVybiBQcm9taXNlLmFsbChbdC5icmluZ1RvRnJvbnQoKSx0LnJlc3RvcmUoKSx0LmZvY3VzKCldKX07YXN5bmMgZnVuY3Rpb24gc24oZSl7Y29uc3QgdD1hd2FpdCBIKCk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHQubWFwKCgoe2lkZW50aXR5OmV9KT0+KGFzeW5jIGU9Pihhd2FpdCBDZShlKSkuZGlzcGF0Y2goQWUuVXBkYXRlUGFnZXNXaW5kb3dPcHRpb25zKSkoZSkpKSksZT9lKCk6bnQoKX1sZXQgY249W107Y29uc3QgZG49KCk9PmNuO2NvbnN0IHBuPShlLHQpPT5hc3luYyBhPT57Y29uc3Qgbj1udWxsIT09ZTtjbGFzcyBvIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pc1dvcmtzcGFjZVBsYXRmb3JtPSgpPT4oe2lzV29ya3NwYWNlUGxhdGZvcm06ITAsaXNCcm93c2VySW5pdGlhbGl6ZWQ6ISFlfSksdGhpcy5hZGRQYWdlPXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdyx0aGlzLmRldGFjaFBhZ2VzRnJvbVdpbmRvdz1HZSx0aGlzLmdldEFsbEF0dGFjaGVkUGFnZXM9T2UsdGhpcy5nZXRQYWdlc0ZvcldpbmRvdz0kZSx0aGlzLmdldFBhZ2VGb3JXaW5kb3c9SGUsdGhpcy5zZXRBY3RpdmVQYWdlPU5lLHRoaXMubGF1bmNoQXBwPXphLHRoaXMuc2F2ZVBhZ2U9RGUsdGhpcy5zYXZlV29ya3NwYWNlPXNlLHRoaXMuY3JlYXRlU2F2ZWRQYWdlSW50ZXJuYWw9eGUsdGhpcy51cGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1VZSx0aGlzLmRlbGV0ZVNhdmVkUGFnZUludGVybmFsPVZlLHRoaXMucmVvcmRlclBhZ2VzRm9yV2luZG93PXFlLHRoaXMuZ2V0VW5pcXVlUGFnZVRpdGxlPUtlLHRoaXMudXBkYXRlUGFnZUZvcldpbmRvdz1GZSx0aGlzLmdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1kZSx0aGlzLmdldFRoZW1lcz1kbix0aGlzLmludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVllLHRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZT1yZSx0aGlzLmFwcGx5V29ya3NwYWNlPW5lLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPW9lLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWw9dGhpcy5vcGVuR2xvYmFsQ29udGV4dE1lbnVJbnRlcm5hbC5iaW5kKHRoaXMpLHRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51PXRoaXMub3Blbkdsb2JhbENvbnRleHRNZW51LmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFBhZ2VzPXRoaXMuZ2V0U2F2ZWRQYWdlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRQYWdlPXRoaXMuZ2V0U2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFBhZ2U9dGhpcy5jcmVhdGVTYXZlZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZVNhdmVkUGFnZT10aGlzLnVwZGF0ZVNhdmVkUGFnZS5iaW5kKHRoaXMpLHRoaXMuZGVsZXRlU2F2ZWRQYWdlPXRoaXMuZGVsZXRlU2F2ZWRQYWdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2hQYWdlc1RvV2luZG93PXRoaXMuYXR0YWNoUGFnZXNUb1dpbmRvdy5iaW5kKHRoaXMpLHRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuVmlld1RhYkNvbnRleHRNZW51PXRoaXMub3BlblZpZXdUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyksdGhpcy5vcGVuUGFnZVRhYkNvbnRleHRNZW51PXRoaXMub3BlblBhZ2VUYWJDb250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzPXRoaXMuZ2V0U2F2ZWRXb3Jrc3BhY2VzLmJpbmQodGhpcyksdGhpcy5nZXRTYXZlZFdvcmtzcGFjZT10aGlzLmdldFNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5jcmVhdGVTYXZlZFdvcmtzcGFjZT10aGlzLmNyZWF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy51cGRhdGVTYXZlZFdvcmtzcGFjZT10aGlzLnVwZGF0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5kZWxldGVTYXZlZFdvcmtzcGFjZT10aGlzLmRlbGV0ZVNhdmVkV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5nZXRDdXJyZW50V29ya3NwYWNlPXRoaXMuZ2V0Q3VycmVudFdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuYXBwbHlXb3Jrc3BhY2U9dGhpcy5hcHBseVdvcmtzcGFjZS5iaW5kKHRoaXMpLHRoaXMuc2V0QWN0aXZlV29ya3NwYWNlPXRoaXMuc2V0QWN0aXZlV29ya3NwYWNlLmJpbmQodGhpcyksdGhpcy5vcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51PXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudS5iaW5kKHRoaXMpLHRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsPXRoaXMub3BlblNhdmVCdXR0b25Db250ZXh0TWVudUludGVybmFsLmJpbmQodGhpcyl9YXN5bmMgZ2V0U25hcHNob3QoKXtjb25zdCBlPW4/YXdhaXQgc24oKGFzeW5jKCk9Pm50KGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKSkpOmF3YWl0IG50KGF3YWl0IHN1cGVyLmdldFNuYXBzaG90KHZvaWQgMCxmaW4ubWUuaWRlbnRpdHkpKTtyZXR1cm57Li4uZSx3aW5kb3dzOmUud2luZG93cy5maWx0ZXIoZW4pLm1hcChhdCl9fWFzeW5jIGFwcGx5U25hcHNob3Qoe3NuYXBzaG90OmUsb3B0aW9uczp0fSl7Y29uc3QgYT1lPT5zdXBlci5hcHBseVNuYXBzaG90KHtzbmFwc2hvdDplLG9wdGlvbnM6ey4uLnQsY2xvc2VFeGlzdGluZ1dpbmRvd3M6ITF9fSk7bGV0IG89ZTtpZihcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89YXdhaXQgc3VwZXIuZmV0Y2hNYW5pZmVzdCh7bWFuaWZlc3RVcmw6b30sZmluLm1lLmlkZW50aXR5KSksIW4mJmZ1bmN0aW9uKGUpe2Zvcihjb25zdCB0IG9mIGUud2luZG93cylpZih0LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcylyZXR1cm4hMDtyZXR1cm4hMX0obykpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzbmFwc2hvdCBjYW5ub3QgYmUgYXBwbGllZCBhcyB0aGUgcGxhdGZvcm0gaGFzIGJlZW4gaW5pdGlhbGl6ZWQgd2l0aG91dCB0aGUgYnJvd3Nlci5cIik7cmV0dXJuIHQ/LmNsb3NlRXhpc3RpbmdXaW5kb3dzJiZhd2FpdCBhc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9YXdhaXQgSCgpO2F3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT5lLmNsb3NlKCEwKS5jYXRjaCgoKCk9Pnt9KSkpKSl9KCksbj9hc3luYyBmdW5jdGlvbihlLHQpe2NvbnN0IGE9YXdhaXQgT2UoKSxuPWUuc25hcHNob3REZXRhaWxzPy5tb25pdG9ySW5mb3x8YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpLG89KGUud2luZG93c3x8W10pLmZpbHRlcigoKHtsYXlvdXQ6ZX0pPT4hIWUpKSxpPW5ldyBNYXA7YS5mb3JFYWNoKChlPT5pLnNldChlLnBhZ2VJZCxlKSkpO2NvbnN0IHI9W10scz1vLm1hcCgoYXN5bmMgZT0+e2NvbnN0IHQ9dG4oZSksYT1bXSxuPShlPT57bGV0IHQ9ITE7Y29uc3QgYT0oZXx8W10pLm1hcCgoZT0+e2NvbnN0IGE9ZnVuY3Rpb24oe2lkOmUsbmFtZTp0LC4uLmF9KXtyZXR1cm57cGFnZUlkOmUsdGl0bGU6dCwuLi5hfX0oZSk7cmV0dXJuIHQmJmEuaXNBY3RpdmUmJihhLmlzQWN0aXZlPSExKSxhLmlzQWN0aXZlJiYodD0hMCksYX0pKTtyZXR1cm4hdCYmYS5sZW5ndGgmJihhWzBdLmlzQWN0aXZlPSEwKSxhfSkodD8ud29ya3NwYWNlUGxhdGZvcm0/LnBhZ2VzKTtpZighbj8ubGVuZ3RoKXtjb25zdCBlPWF3YWl0IEtlKCk7YS5wdXNoKGF3YWl0IGJ0KGUsdC5sYXlvdXQpKX1sZXQgbztuLmZvckVhY2goKGU9Pntjb25zdCB0PWkuZ2V0KGUucGFnZUlkKTt0P289dDphLnB1c2goZSl9KSksbyYmYXdhaXQgUHJvbWlzZS5hbGwoW05lKHtpZGVudGl0eTpvLnBhcmVudElkZW50aXR5LHBhZ2VJZDpvLnBhZ2VJZH0pLHJuKG8ucGFyZW50SWRlbnRpdHkpXSksYS5sZW5ndGgmJnIucHVzaCh7Li4udCx3b3Jrc3BhY2VQbGF0Zm9ybTp7Li4udC53b3Jrc3BhY2VQbGF0Zm9ybSxwYWdlczphfX0pfSkpO2lmKGF3YWl0IFByb21pc2UuYWxsKHMpLCFyLmxlbmd0aClyZXR1cm47Y29uc3QgYz1maW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKTtyZXR1cm4odHx8Yy5hcHBseVNuYXBzaG90LmJpbmQoYykpKHsuLi5lLHNuYXBzaG90RGV0YWlsczp7Li4uZS5zbmFwc2hvdERldGFpbHMsbW9uaXRvckluZm86bn0sd2luZG93czpyfSl9KG8sYSk6YShvKX1hc3luYyBjcmVhdGVXaW5kb3codCxhKXt0LndvcmtzcGFjZVBsYXRmb3JtPy50b29sYmFyT3B0aW9ucz8uYnV0dG9ucyYmKGU9Pntjb25zdCB0PWUuZmlsdGVyKChlPT5lLnR5cGUhPT1nLkN1c3RvbSkpLGE9bmV3IFNldDtmb3IoY29uc3QgZSBvZiB0KXtpZihhLmhhcyhlLnR5cGUpKXRocm93IG5ldyBFcnJvcihgRW5jb3VudGVyZWQgYSBkdXBsaWNhdGUgb2YgJHtlLnR5cGV9IGJ1dHRvbi4gTm8gbW9yZSB0aGFuIG9uZSBpbnN0YW5jZSBvZiBhIGJ1dHRvbiB0eXBlIG1heSBiZSBwcm92aWRlZC5gKTthLmFkZChlLnR5cGUpfX0pKHQud29ya3NwYWNlUGxhdGZvcm0udG9vbGJhck9wdGlvbnMuYnV0dG9ucyk7bGV0IG89dG4odCk7aWYobil7Y29uc3QgdD10aGlzLmdldFRoZW1lcygpO289YXdhaXQoYXN5bmMoZSx0LGEpPT57bGV0IG49ZTtuLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcyYmKG4ud29ya3NwYWNlUGxhdGZvcm0ucGFnZXM9YXdhaXQgb24obi53b3Jrc3BhY2VQbGF0Zm9ybS5wYWdlcyx0Py5kZWZhdWx0UGFnZU9wdGlvbnMpKTtjb25zdCBvPW4/LndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlcztpZihvKXtjb25zdCBlPW8uZmluZCgoZT0+ZS5pc0FjdGl2ZSkpO2U/bi5sYXlvdXQ9ZS5sYXlvdXQ6KG9bMF0uaXNBY3RpdmU9ITAsbi5sYXlvdXQ9b1swXS5sYXlvdXQpfWlmKG4ubGF5b3V0KXtpZihuPUphKHt9LHQuZGVmYXVsdFdpbmRvd09wdGlvbnMsbixhbiksbi5sYXlvdXQ9SmEobi5sYXlvdXQsbm4pLChuLmljb258fG4udGFza2Jhckljb24pJiYobi50YXNrYmFySWNvbkdyb3VwPW4udGFza2Jhckljb25Hcm91cHx8ZmluLm1lLmlkZW50aXR5LnV1aWQpLCFuLmJhY2tncm91bmRDb2xvcil7Y29uc3QgZT1hPy5wYWxldHRlO24uYmFja2dyb3VuZENvbG9yPWU/LmJhY2tncm91bmQyfHxlPy5iYWNrZ3JvdW5kUHJpbWFyeX1jb25zdCBlPW4ud29ya3NwYWNlUGxhdGZvcm0ubmV3VGFiVXJsO2UmJihuLmxheW91dC5zZXR0aW5nc3x8KG4ubGF5b3V0LnNldHRpbmdzPXt9KSxuLmxheW91dC5zZXR0aW5ncy5uZXdUYWJCdXR0b249e3VybDplfSksbj0oZT0+e2NvbnN0IHQ9ZTtyZXR1cm4gdC53b3Jrc3BhY2VQbGF0Zm9ybXx8KHQud29ya3NwYWNlUGxhdGZvcm09e30pLHQud29ya3NwYWNlUGxhdGZvcm0uX2ludGVybmFsRGVmZXJTaG93RW5hYmxlZD0hMCx0LndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbEF1dG9TaG93PXQud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbEF1dG9TaG93fHx2b2lkIDA9PT10LmF1dG9TaG93fHx0LmF1dG9TaG93LHQuYXV0b1Nob3c9ITEsdH0pKG4pfXJldHVybiBuLmNvcm5lclJvdW5kaW5nJiZkZWxldGUgbi5jb3JuZXJSb3VuZGluZyxufSkobyxlLHRbMF0pfW89YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpLGE9dC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LmJvdHRvbS10LnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QudG9wLG49dC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0LnJpZ2h0LXQucHJpbWFyeU1vbml0b3IuYXZhaWxhYmxlUmVjdC5sZWZ0O3JldHVybiBlLmRlZmF1bHRIZWlnaHQ9ZS5kZWZhdWx0SGVpZ2h0fHxcIjgwMFwiLGUuZGVmYXVsdFdpZHRoPWUuZGVmYXVsdFdpZHRofHxcIjgwMFwiLGE8ZS5kZWZhdWx0SGVpZ2h0JiYoZS5kZWZhdWx0SGVpZ2h0PWEpLG48ZS5kZWZhdWx0V2lkdGgmJihlLmRlZmF1bHRXaWR0aD1uKSxlfSkobyk7Y29uc3QgaT0oZSx0KT0+c3VwZXIuY3JlYXRlV2luZG93KGUsdCk7cmV0dXJuKG4/KGU9PmFzeW5jKHQsYSk9Pntjb25zdCBuPWF3YWl0IGUodCxhKTtyZXR1cm4gdD8ud29ya3NwYWNlUGxhdGZvcm0/Ll9pbnRlcm5hbERlZmVyU2hvd0VuYWJsZWQ/KGF3YWl0IG4uYWRkTGlzdGVuZXIoVS5TaG93UmVxdWVzdGVkLCgoKT0+e30pKSxuKTpufSkoaSk6aSkobyxhKX1hc3luYyBjcmVhdGVWaWV3KHQsYSl7cmV0dXJuIHQub3B0cz1ZYSh0Lm9wdHMsZT8uZGVmYXVsdFZpZXdPcHRpb25zKSx0Lm9wdHM9YXdhaXQgWmEodC5vcHRzLHRoaXMuZmV0Y2hNYW5pZmVzdCxhKSxzdXBlci5jcmVhdGVWaWV3KHQsYSl9YXN5bmMgcmVwbGFjZVZpZXcodCxhKXtyZXR1cm4gdC5vcHRzLm5ld1ZpZXc9YXdhaXQgWWEodC5vcHRzLm5ld1ZpZXcsZT8uZGVmYXVsdFZpZXdPcHRpb25zKSx0Lm9wdHMubmV3Vmlldz1hd2FpdCBaYSh0Lm9wdHMubmV3Vmlldyx0aGlzLmZldGNoTWFuaWZlc3QsYSksc3VwZXIucmVwbGFjZVZpZXcodCxhKX1hc3luYyByZXBsYWNlTGF5b3V0KGUsdCl7cmV0dXJuIGUub3B0cy5sYXlvdXQ/LmRpbWVuc2lvbnMsc3VwZXIucmVwbGFjZUxheW91dChlLHQpfWFzeW5jIGNsb3NlVmlldyhlLHQpe2NvbnN0IGE9ZmluLlZpZXcud3JhcFN5bmMoZS52aWV3KTthd2FpdCBzdXBlci5jbG9zZVZpZXcoZSx0KSxhd2FpdCBhLmRlc3Ryb3koKS5jYXRjaCgoZT0+ZSkpfWFzeW5jIGdldFNhdmVkUGFnZSguLi5lKXtyZXR1cm4geXQuYXBwbHkodGhpcyxlKX1hc3luYyBnZXRTYXZlZFBhZ2VzKC4uLmUpe3JldHVybiBodC5hcHBseSh0aGlzLGUpfWFzeW5jIGNyZWF0ZVNhdmVkUGFnZSguLi5lKXtyZXR1cm4gZnQuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFBhZ2UoLi4uZSl7cmV0dXJuIG10LmFwcGx5KHRoaXMsZSl9YXN5bmMgdXBkYXRlU2F2ZWRQYWdlKC4uLmUpe3JldHVybiBTdC5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlKC4uLmUpe3JldHVybiAkYS5hcHBseSh0aGlzLGUpfWFzeW5jIGdldFNhdmVkV29ya3NwYWNlcyguLi5lKXtyZXR1cm4gSGEuYXBwbHkodGhpcyxlKX1hc3luYyBjcmVhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gcWEuYXBwbHkodGhpcyxlKX1hc3luYyBkZWxldGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gS2EuYXBwbHkodGhpcyxlKX1hc3luYyB1cGRhdGVTYXZlZFdvcmtzcGFjZSguLi5lKXtyZXR1cm4gamEuYXBwbHkodGhpcyxlKX1hc3luYyBhdHRhY2hQYWdlc1RvV2luZG93KHQpe3QucGFnZXM9YXdhaXQgb24odC5wYWdlcyxlPy5kZWZhdWx0UGFnZU9wdGlvbnMpLGF3YWl0IF9lKHQpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsKC4uLmUpe3JldHVybiBVYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5HbG9iYWxDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gRGEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuVmlld1RhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIF9hLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblZpZXdUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gRGEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwoLi4uZSl7cmV0dXJuIEZhLmFwcGx5KHRoaXMsZSl9YXN5bmMgb3BlblBhZ2VUYWJDb250ZXh0TWVudSguLi5lKXtyZXR1cm4gRGEuYXBwbHkodGhpcyxlKX1hc3luYyBvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51KC4uLmUpe3JldHVybiBEYS5hcHBseSh0aGlzLGUpfWFzeW5jIG9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCguLi5lKXtyZXR1cm4gR2EuYXBwbHkodGhpcyxlKX19cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KG8pOm5ldyBvfTthc3luYyBmdW5jdGlvbiBsbigpeyFmdW5jdGlvbigpe2NvbnN0IGU9eCgpO2UuYWRkTGlzdGVuZXIoTy5XaW5kb3dPcHRpb25zQ2hhbmdlZCxRZSksZS5hZGRMaXN0ZW5lcihPLldpbmRvd0Nsb3NlZCxKZSksZS5hZGRMaXN0ZW5lcihPLldpbmRvd0NyZWF0ZWQsSmUpfSgpLGFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT1maW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKTthd2FpdCBlLmFkZExpc3RlbmVyKFwid2luZG93LWZvY3VzZWRcIixwZSl9KCk7b2UoYXdhaXQgaWUoKSl9bGV0IHduO2Z1bmN0aW9uIHVuKHtvdmVycmlkZUNhbGxiYWNrOmUsaW50ZXJvcE92ZXJyaWRlOnQsYnJvd3NlcjphfSl7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJlIHVzZWQgb3V0c2lkZSBhbiBPcGVuRmluIGVudi5cIik7aWYoIXduKXtmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5vbmNlKFwicGxhdGZvcm0tYXBpLXJlYWR5XCIsKCgpPT5sbigpKSksYT8udGl0bGUmJihuPWEudGl0bGUsUXQ9biksd249ZmluLlBsYXRmb3JtLmluaXQoe292ZXJyaWRlQ2FsbGJhY2s6cG4oYSxlfHxhPy5vdmVycmlkZUNhbGxiYWNrKSxpbnRlcm9wT3ZlcnJpZGU6dHx8YT8uaW50ZXJvcE92ZXJyaWRlfSksKGFzeW5jIGU9Pnt6KGouUGxhdGZvcm0sZSl9KSh7YWxsb3dlZDohMH0pfXZhciBuO3JldHVybiB3bn1jb25zdCBnbj1hc3luYyh7dGhlbWU6ZSxjdXN0b21BY3Rpb25zOnQsLi4uYX0pPT57Y29uc3Qgbj1ULnNwbGl0KFwiLlwiKS5tYXAoKGU9PnBhcnNlSW50KGUpKSksbz1hd2FpdChhc3luYyBlPT5uZXcgUHJvbWlzZSgoYXN5bmMgdD0+e2NvbnN0IGE9KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0VmVyc2lvbigpKS5zcGxpdChcIi5cIikubWFwKChlPT5wYXJzZUludChlKSkpO3QoZS5ldmVyeSgoKHQsbik9PiEobjwzKXx8YVtuXT09PWVbbl0pKSl9KSkpKG4pO3ZhciBpO2lmKGUmJigoaT1lKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnBhbGV0dGUuYmFja2dyb3VuZFByaW1hcnk7aWYoIXQuaW5jbHVkZXMoXCIjXCIpJiYhdC5pbmNsdWRlcyhcInJnYlwiKSYmIXQuaW5jbHVkZXMoXCJoc2xcIikpdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBwcmltYXJ5IGNvbG9yIGlzIG5vdCB0aGUgcmlnaHQgZm9ybWF0LlwiKX0pKSxjbj1pLChhc3luYyBlPT57eihqLlRoZW1pbmcsZSl9KSh7YWxsb3dlZDohMH0pKSx0JiYoWGU9dCksbylyZXR1cm4gdW4oYSk7dGhyb3cgbmV3IEVycm9yKGBSdW50aW1lIHZlcnNpb24gaXMgbm90IHN1cHBvcnRlZC4gICR7blswXX0uJHtuWzFdfS4ke25bMl19LiogaXMgcmVxdWlyZWRgKX07bW9kdWxlLmV4cG9ydHM9ZH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIoKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17MzEzMzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtDTElBY3Rpb246KCk9PnplLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PnplLmVsLENMSVRlbXBsYXRlOigpPT56ZS55VyxkZXJlZ2lzdGVyOigpPT5ZZSxoaWRlOigpPT50dCxyZWdpc3RlcjooKT0+UWUsc2hvdzooKT0+ZXR9KTt2YXIgbz17fTtuLnIobyksbi5kKG8se3N1YnNjcmliZTooKT0+aWV9KTt2YXIgcj17fTtuLnIociksbi5kKHIse2NyZWF0ZTooKT0+R2V9KTt2YXIgaT1uKDY1MzIpLHM9big3NDA1KTtjb25zdCBhPVwiaG9tZVwiO3ZhciBjOyFmdW5jdGlvbihlKXtlLkNvbW1hbmRzPVwiaG9tZS1jb21tYW5kc1wifShjfHwoYz17fSkpO3ZhciBkLHU9big1ODA2KTtuKDc1NjQpOyFmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifShkfHwoZD17fSkpO3ZhciBmPW4oNTMxNik7Y29uc3QgbD1cImFsbFwiLHA9XCIwXCIsZz1cIjVcIix3PVwiNlwiLGg9KCk9Pnt9O2Z1bmN0aW9uIHkoZSx0KXtyZXR1cm4gZT9gJHtlfS0ke3R9YDp0fWZ1bmN0aW9uIHYoZSl7cmV0dXJuYF9fc2VhcmNoLSR7ZX0tdG9waWNfX2B9Y29uc3QgbT1uZXcgTWFwO2Z1bmN0aW9uIFMoZSx0KXttLmhhcyhlKXx8bS5zZXQoZSxuZXcgU2V0KSxtLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gQyhlLHQpe2NvbnN0IG49bS5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgUD1uZXcgTWFwO2Z1bmN0aW9uIFIoZSx0KXtQLmhhcyhlKXx8UC5zZXQoZSxuZXcgU2V0KSxQLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gYihlLHQpe2NvbnN0IG49UC5nZXQoZSk7biYmbi5kZWxldGUodCl9Y29uc3QgVD1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIEkoZSx0KXtULmhhcyhlKXx8VC5zZXQoZSxuZXcgTWFwKSxULmdldChlKS5zZXQodC5pZCx0KTtjb25zdCBuPW0uZ2V0KGUpO2lmKCFuKXJldHVybjtjb25zdCBvPVsuLi5uXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pfWFzeW5jIGZ1bmN0aW9uIEwoZSx0KXtjb25zdCBuPVQuZ2V0KGUpO2lmKCFuKXJldHVybjtuLmRlbGV0ZSh0KTtjb25zdCBvPVAuZ2V0KGUpO2lmKCFvKXJldHVybjtjb25zdCByPVsuLi5vXS5tYXAoKGU9PmUoKSkpO2F3YWl0IFByb21pc2UuYWxsKHIpfWZ1bmN0aW9uIGsoZSl7cmV0dXJuIFQuZ2V0KGUpP1suLi5ULmdldChlKS52YWx1ZXMoKV06W119ZnVuY3Rpb24gTShlKXtjb25zdCB0PVQuZ2V0KGUpO3QmJnQuY2xlYXIoKX1mdW5jdGlvbiBCKGUsdCl7Y29uc3Qgbj1ULmdldChlKTtyZXR1cm4gbj9uLmdldCh0KTpudWxsfWZ1bmN0aW9uIE8oZSx0LG4pe3JldHVybnsuLi5lLGFjdGlvbjpufHx7Li4uZS5hY3Rpb25zWzBdLHRyaWdnZXI6Zi5weC5Vc2VyQWN0aW9ufSxkaXNwYXRjaGVySWRlbnRpdHk6dH19ZnVuY3Rpb24geChlLHQsbj1cImFzY2VuZGluZ1wiKXtjb25zdCBvPWV8fFtdO2lmKCF0Py5sZW5ndGgpcmV0dXJuIG87Y29uc3Qgcj1bXSxpPW5ldyBNYXA7dC5mb3JFYWNoKChlPT57aWYoZS5rZXkpcmV0dXJuIGkuc2V0KGUua2V5LGUpO3IucHVzaChlKX0pKTtsZXQgcz1vLm1hcCgoZT0+e2NvbnN0e2tleTp0fT1lO2lmKHQmJmkuaGFzKHQpKXtjb25zdCBlPWkuZ2V0KHQpO3JldHVybiBpLmRlbGV0ZSh0KSxlfXJldHVybiBlfSkpO3JldHVybiBzLnB1c2goLi4uaS52YWx1ZXMoKSwuLi5yKSxzPVwiYXNjZW5kaW5nXCI9PT1uP3Muc29ydCgoKGUsdCk9PihudWxsIT09ZS5zY29yZSYmdm9pZCAwIT09ZS5zY29yZT9lLnNjb3JlOjEvMCktKG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKSkpOnMuc29ydCgoKGUsdCk9PihudWxsIT09dC5zY29yZSYmdm9pZCAwIT09dC5zY29yZT90LnNjb3JlOjEvMCktKG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKSkpLHN9ZnVuY3Rpb24gQShlKXtjb25zdCB0PXt9O2xldCBuPVtdO2xldCBvPVtdO2xldCByPWQuSW5pdGlhbDt0LmdldFN0YXR1cz0oKT0+cix0LmdldFJlc3VsdEJ1ZmZlcj0oKT0+bix0LnNldFJlc3VsdEJ1ZmZlcj1lPT57bj1lLG4/Lmxlbmd0aCYmdC5vbkNoYW5nZSgpfSx0LmdldFJldm9rZWRCdWZmZXI9KCk9Pm8sdC5zZXRSZXZva2VkQnVmZmVyPWU9PntvPWUsbz8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQub25DaGFuZ2U9aDtjb25zdCBpPXt9O3JldHVybiB0LnJlcz1pLGkuY2xvc2U9KCk9PntyIT09ZC5DbG9zZSYmKHI9ZC5DbG9zZSx0Lm9uQ2hhbmdlKCkpfSxpLm9wZW49KCk9PntyIT09ZC5PcGVuJiYocj1kLk9wZW4sdC5vbkNoYW5nZSgpKX0saS5yZXNwb25kPW49Pntjb25zdCBvPXgodC5nZXRSZXN1bHRCdWZmZXIoKSxuLGUpO3Quc2V0UmVzdWx0QnVmZmVyKG8pfSxpLnJldm9rZT0oLi4uZSk9Pntjb25zdCBuPW5ldyBTZXQoZSksbz10LmdldFJlc3VsdEJ1ZmZlcigpLmZpbHRlcigoKHtrZXk6ZX0pPT57Y29uc3QgdD1uLmhhcyhlKTtyZXR1cm4gdCYmbi5kZWxldGUoZSksIXR9KSk7dC5zZXRSZXN1bHRCdWZmZXIobyksbi5zaXplJiYodC5nZXRSZXZva2VkQnVmZmVyKCkuZm9yRWFjaCgoZT0+bi5hZGQoZSkpKSx0LnNldFJldm9rZWRCdWZmZXIoWy4uLm5dKSl9LHR9ZnVuY3Rpb24gVyhlLHQsbil7Y29uc3Qgbz1uZXcgU2V0O2xldCByPSExO3JldHVybntjbG9zZTooKT0+e3I9ITA7Zm9yKGNvbnN0IGUgb2YgbyllKCl9LHJlcTp7aWQ6dCx0b3BpYzplLC4uLm4sY29udGV4dDpuPy5jb250ZXh0fHx7fSxvbkNsb3NlOmU9PntvLmFkZChlKSxyJiZlKCl9LHJlbW92ZUxpc3RlbmVyOmU9PntvLmRlbGV0ZShlKX19fX1mdW5jdGlvbiBEKCl7cmV0dXJue25hbWU6ZmluLm1lLm5hbWUsdXVpZDpmaW4ubWUudXVpZH19ZnVuY3Rpb24gRSgpe2xldCBlO3RyeXtjb25zdCB0PWZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpO2lmKCF0Py5pZGVudGl0eSlyZXR1cm47ZT10LmlkZW50aXR5LnV1aWR9Y2F0Y2goZSl7fXJldHVybiBlfWNvbnN0IEY9XCJkZXJlZ2lzdGVyZWQgb3IgZG9lcyBub3QgZXhpc3RcIixfPW5ldyBFcnJvcihgcHJvdmlkZXIgJHtGfWApLCQ9bmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpLHE9bmV3IEVycm9yKFwiYmFkIHBheWxvYWRcIiksRz1uZXcgRXJyb3IoXCJzdWJzY3JpcHRpb24gcmVqZWN0ZWRcIiksTj1uZXcgRXJyb3IoYGNoYW5uZWwgJHtGfWApLEg9bmV3IE1hcDtmdW5jdGlvbiBVKGUpe2NvbnN0IHQ9VihlKTtpZih0KXJldHVybiB0O3Rocm93IE59ZnVuY3Rpb24gVihlKXtjb25zdCB0PUguZ2V0KGUpO2lmKHQpcmV0dXJuIHR9ZnVuY3Rpb24gaihlLHQpe0guc2V0KGUsdCl9Y29uc3QgSz1uZXcgTWFwO2Z1bmN0aW9uIFgoZSl7Sy5oYXMoZSl8fEsuc2V0KGUsbmV3IE1hcCk7Y29uc3QgdD1LLmdldChlKTtyZXR1cm57Z2V0UmVxdWVzdHNGb3JJZGVudGl0eTplPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtyZXR1cm5gJHtlLnV1aWR9OiR7ZS5uYW1lfWB9KGUpO3JldHVybiB0LmhhcyhuKXx8dC5zZXQobixuZXcgTWFwKSx0LmdldChuKX19fWFzeW5jIGZ1bmN0aW9uIEooZSx0KXtyZXR1cm4oYXdhaXQgVShlKSkuZGlzcGF0Y2gocCx0KX1mdW5jdGlvbiBaKHtuYW1lc3BhY2VkVG9waWM6ZSx0b3BpYzp0fSl7Y29uc3Qgbj1CLmJpbmQobnVsbCxlKSxvPVgoZSkscj1KLmJpbmQobnVsbCxlKTtyZXR1cm4gYXN5bmMoZSxpKT0+e2lmKCFlfHwhZS5pZHx8IWUucHJvdmlkZXJJZCl7Y29uc3QgZT1xO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0e2lkOnMscHJvdmlkZXJJZDphfT1lLGM9bihhKTtpZighYyl7Y29uc3QgZT1fO3JldHVybntlcnJvcjplLm1lc3NhZ2V9fWNvbnN0IGQ9by5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KGkpO2xldCB1PWQuZ2V0KGUuaWQpO3V8fCh1PVcodCxzLGUpLGQuc2V0KGUuaWQsdSkpO2NvbnN0IGY9QSgpLGw9KCk9Pntjb25zdCBlPWYuZ2V0UmVzdWx0QnVmZmVyKCk7Zi5zZXRSZXN1bHRCdWZmZXIoW10pO2NvbnN0IHQ9Zi5nZXRSZXZva2VkQnVmZmVyKCk7Zi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCBuPWYuZ2V0U3RhdHVzKCk7cih7aWQ6cyxwcm92aWRlcklkOmEscmVzdWx0czplLHJldm9rZWQ6dCxzdGF0dXM6bn0pfTtsZXQgcD0hMCxnPSExO2Yub25DaGFuZ2U9KCk9PntpZihwKXJldHVybiBwPSExLHZvaWQgbCgpO2d8fChnPSEwLHNldFRpbWVvdXQoKCgpPT57Zz0hMSxsKCl9KSwxMDApKX07dHJ5e2NvbnN0e3Jlc3VsdHM6ZSxjb250ZXh0OnR9PWF3YWl0IGMub25Vc2VySW5wdXQodS5yZXEsZi5yZXMpLG49Zi5nZXRTdGF0dXMoKTtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsc3RhdHVzOm4scmVzdWx0czplLGNvbnRleHQ6dH19Y2F0Y2goZSl7cmV0dXJue2lkOnMscHJvdmlkZXJJZDphLGVycm9yOmUubWVzc2FnZX19fX1hc3luYyBmdW5jdGlvbiB6KGUsdCxuKXtjb25zdCBvPW58fGF3YWl0IFUoZSkscj1EKCksaT17aWRlbnRpdHk6ciwuLi50LG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH07YXdhaXQgby5kaXNwYXRjaChcIjJcIixpKSxhd2FpdCBJKGUse2lkZW50aXR5OnIsLi4udH0pfWFzeW5jIGZ1bmN0aW9uIFEoZSx0KXtjb25zdCBuPWF3YWl0IFUoZSk7cmV0dXJuIGF3YWl0IG4uZGlzcGF0Y2goXCIzXCIsdCksTChlLHQpfWFzeW5jIGZ1bmN0aW9uIFkoZSx0LG4sbyl7Y29uc3Qgcj1PKG4sRCgpLG8pLGk9QihlLHQpO2lmKGkpe2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6ZX09aTtpZighZSlyZXR1cm47cmV0dXJuIGUocil9Y29uc3Qgcz17cHJvdmlkZXJJZDp0LHJlc3VsdDpyfTtyZXR1cm4oYXdhaXQgVShlKSkuZGlzcGF0Y2goZyxzKX1hc3luYyBmdW5jdGlvbiBlZShlLHQpe2NvbnN0IG49ey4uLnQsY29udGV4dDp0Py5jb250ZXh0fHx7fX0sbz17fSxyPWFzeW5jIGZ1bmN0aW9uKihlLHQse3NldFN0YXRlOm59KXtjb25zdCBvPWF3YWl0IFUoZSk7Zm9yKDs7KXtjb25zdCBlPWF3YWl0IG8uZGlzcGF0Y2goXCIxXCIsdCkscj1lLmVycm9yO2lmKHIpdGhyb3cgbmV3IEVycm9yKHIpO2NvbnN0IGk9ZTtpZih0LmlkPWkuaWQsbihpLnN0YXRlKSxpLmRvbmUpcmV0dXJuIGkudmFsdWU7eWllbGQgaS52YWx1ZX19KGUsbix7c2V0U3RhdGU6ZT0+e28uc3RhdGU9ZX19KTtsZXQgaT1hd2FpdCByLm5leHQoKTtyZXR1cm4gby5pZD1uLmlkLG8uY2xvc2U9KCk9PnshYXN5bmMgZnVuY3Rpb24oZSx0KXsoYXdhaXQgVShlKSkuZGlzcGF0Y2godyx7aWQ6dH0pfShlLG8uaWQpfSxvLm5leHQ9KCk9PntpZihpKXtjb25zdCBlPWk7cmV0dXJuIGk9dm9pZCAwLGV9cmV0dXJuIHIubmV4dCgpfSxvfWFzeW5jIGZ1bmN0aW9uIHRlKGUpe3JldHVybihhd2FpdCBVKGUpKS5kaXNwYXRjaChcIjRcIixudWxsKX1hc3luYyBmdW5jdGlvbiBuZShlKXtjb25zdCB0PWF3YWl0IFUoZSk7dmFyIG47bj1lLEguZGVsZXRlKG4pLE0oZSksYXdhaXQgdC5kaXNjb25uZWN0KCl9ZnVuY3Rpb24gb2UoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1YKHQpO3JldHVybiBhc3luYyBvPT57aWYoIVYodCkpcmV0dXJuO2NvbnN0IHI9bi5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KG8pO2Zvcihjb25zdHtyZXE6ZSxjbG9zZTp0fW9mIHIudmFsdWVzKCkpdCgpLHIuZGVsZXRlKGUuaWQpO2oodCwoYXN5bmMgZT0+e2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49YXdhaXQgcmUoZSk7Zm9yKGNvbnN0IGUgb2Ygayh0KSlhd2FpdCB6KHQsZSxuKTtyZXR1cm4gbn0pKGUpKX19YXN5bmMgZnVuY3Rpb24gcmUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj12KHQpLG89YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7Zm9yKGxldCB0PTA7dDw1MDt0KyspdHJ5e3JldHVybiBhd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7d2FpdDohMX0pfWNhdGNoKGUpe2lmKDQ5PT09dCl0aHJvdyBlO2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsMWUzKSkpfX0obik7cmV0dXJuIG8ucmVnaXN0ZXIocCxaKGUpKSxvLnJlZ2lzdGVyKHcsZnVuY3Rpb24oZSl7Y29uc3QgdD1YKGUpO3JldHVybihlLG4pPT57Y29uc3Qgbz10LmdldFJlcXVlc3RzRm9ySWRlbnRpdHkobikscj1vLmdldChlLmlkKTtyJiYoci5jbG9zZSgpLG8uZGVsZXRlKGUuaWQpKX19KHQpKSxvLnJlZ2lzdGVyKGcsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCBvPUIoZSx0LnByb3ZpZGVySWQpO2lmKCFvKXJldHVybjtjb25zdHtvblJlc3VsdERpc3BhdGNoOnJ9PW87cmV0dXJuIHI/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLHIodC5yZXN1bHQpKTp2b2lkIDB9fSh0KSksby5vbkRpc2Nvbm5lY3Rpb24ob2UoZSkpLG99YXN5bmMgZnVuY3Rpb24gaWUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fGwsbj0oXCJzdHJpbmdcIj09dHlwZW9mIGU/bnVsbDplPy51dWlkKXx8RSgpLG89eShuLHQpLHI9e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOm99O2xldCBpPVYobyk7cmV0dXJuIGl8fChpPXJlKHIpLGoobyxpKSxhd2FpdCBpKSx7Z2V0QWxsUHJvdmlkZXJzOnRlLmJpbmQobnVsbCxvKSxyZWdpc3Rlcjp6LmJpbmQobnVsbCxvKSxzZWFyY2g6ZWUuYmluZChudWxsLG8pLGRlcmVnaXN0ZXI6US5iaW5kKG51bGwsbyksZGlzcGF0Y2g6WS5iaW5kKG51bGwsbyksZGlzY29ubmVjdDpuZS5iaW5kKG51bGwsbyl9fWNvbnN0IHNlPW5ldyBNYXA7ZnVuY3Rpb24gYWUoZSl7Y29uc3QgdD1jZShlKTtpZih0KXJldHVybiB0O3Rocm93IE59ZnVuY3Rpb24gY2UoZSl7Y29uc3QgdD1zZS5nZXQoZSk7aWYodClyZXR1cm4gdH1jb25zdCBkZT1uZXcgTWFwO2Z1bmN0aW9uIHVlKGUsdCl7ZGUuaGFzKGUpfHxkZS5zZXQoZSxuZXcgU2V0KSxkZS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIGZlKGUsdCl7Y29uc3Qgbj1kZS5nZXQoZSk7biYmbi5kZWxldGUodCl9ZnVuY3Rpb24gbGUoZSl7cmV0dXJuWy4uLmsoZSldLm1hcCgoZT0+KHsuLi5lLG9uVXNlcklucHV0OnZvaWQgMCxvblJlc3VsdERpc3BhdGNoOnZvaWQgMH0pKSl9YXN5bmMgZnVuY3Rpb24gcGUoZSx0KXtpZihCKGUsdC5pZCkpdGhyb3cgbmV3IEVycm9yKFwicHJvdmlkZXIgd2l0aCBuYW1lIGFscmVhZHkgZXhpc3RzXCIpO2NvbnN0IG49RCgpO2F3YWl0IEkoZSx7aWRlbnRpdHk6biwuLi50fSl9ZnVuY3Rpb24gZ2UoZSx0KXtMKGUsdCl9YXN5bmMgZnVuY3Rpb24gd2UoZSx0LG4sbyl7Y29uc3Qgcj1CKGUsdCk7aWYoIXIpdGhyb3cgXztjb25zdHtvblJlc3VsdERpc3BhdGNoOml9PXI7aWYoIWkpcmV0dXJuO3JldHVybiBpKE8obixEKCksbykpfWFzeW5jIGZ1bmN0aW9uKmhlKGUsdCxuKXtjb25zdCBvPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXSxvPVtdLHI9W10saT1bXTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPUEocy5zY29yZU9yZGVyKSxhPXtyZXN1bHRzOltdLHByb3ZpZGVyOntpZDpzLmlkLGlkZW50aXR5OnMuaWRlbnRpdHksdGl0bGU6cy50aXRsZSxzY29yZU9yZGVyOnMuc2NvcmVPcmRlcixpY29uOnMuaWNvbixkaXNwYXRjaEZvY3VzRXZlbnRzOnMuZGlzcGF0Y2hGb2N1c0V2ZW50c319O24ucHVzaChhKSxvLnB1c2goZSk7Y29uc3QgYz0oYXN5bmMoKT0+e3RyeXtjb25zdHtyZXN1bHRzOm4sY29udGV4dDpvfT1hd2FpdCBzLm9uVXNlcklucHV0KHQsZS5yZXMpO2EucmVzdWx0cz14KGEucmVzdWx0cyxuKSxhLmNvbnRleHQ9ey4uLmEuY29udGV4dCwuLi5vfX1jYXRjaChlKXthLmVycm9yPWV9fSkoKTtjLmZpbmFsbHkoKCgpPT57Yy5kb25lPSEwfSkpLGkucHVzaChjKSxyLnB1c2goci5sZW5ndGgpfXJldHVybntwcm92aWRlclJlc3BvbnNlczpuLGxpc3RlbmVyUmVzcG9uc2VzOm8sb3Blbkxpc3RlbmVyUmVzcG9uc2VzOnIsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6aX19KHQudGFyZ2V0cz90LnRhcmdldHMubWFwKCh0PT5CKGUsdCkpKS5maWx0ZXIoKGU9PiEhZSkpOlsuLi5rKGUpLmZpbHRlcigoZT0+IWUuaGlkZGVuKSldLHQpLHtwcm92aWRlclJlc3BvbnNlczpyLGxpc3RlbmVyUmVzcG9uc2VzOml9PW87bGV0e29wZW5MaXN0ZW5lclJlc3BvbnNlczpzLGluaXRpYWxSZXNwb25zZVByb21pc2VzOmF9PW8sYz1mLkRlLkZldGNoaW5nO2NvbnN0IHU9ZT0+e2M9ZSxuLnNldFN0YXRlKGMpfTtsZXQgbCxwPSExO3Qub25DbG9zZSgoKCk9PntwPSEwLGwmJmwoKX0pKTtkb3tsZXQgZT0hMTtpZihhLmxlbmd0aCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBhKW4uZG9uZT9lPSEwOnQucHVzaChuKTthPXQsYS5sZW5ndGh8fCh1KGYuRGUuRmV0Y2hlZCksZT0hMCl9bGV0IHQsbj0hMTtjb25zdCBvPSgpPT57bj0hMCx0JiZ0KCl9LGc9W107Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgbj1pW3RdLHM9clt0XSxhPW4uZ2V0U3RhdHVzKCk7KGE9PT1kLk9wZW58fGM9PT1mLkRlLkZldGNoaW5nJiZhPT09ZC5Jbml0aWFsKSYmKGcucHVzaCh0KSxuLm9uQ2hhbmdlPW8pO2NvbnN0IHU9bi5nZXRSZXN1bHRCdWZmZXIoKTt1Lmxlbmd0aCYmKG4uc2V0UmVzdWx0QnVmZmVyKFtdKSxzLnJlc3VsdHM9eChzLnJlc3VsdHMsdSksZT0hMCk7Y29uc3QgbD1uLmdldFJldm9rZWRCdWZmZXIoKTtpZihsLmxlbmd0aCl7bi5zZXRSZXZva2VkQnVmZmVyKFtdKTtjb25zdCB0PW5ldyBTZXQobCk7cy5yZXN1bHRzPXMucmVzdWx0cy5maWx0ZXIoKCh7a2V5OmV9KT0+IXQuaGFzKGUpKSksZT0hMH19aWYocz1nLGUmJih5aWVsZCByKSxwKWJyZWFrO258fChzLmxlbmd0aHx8YS5sZW5ndGgpJiZhd2FpdCBQcm9taXNlLnJhY2UoWy4uLmEsbmV3IFByb21pc2UoKGU9Pnt0PWV9KSksbmV3IFByb21pc2UoKGU9PntsPWV9KSldKX13aGlsZShzLmxlbmd0aHx8YS5sZW5ndGgpO3JldHVybiB1KGYuRGUuQ29tcGxldGUpLHJ9bGV0IHllPTA7ZnVuY3Rpb24gdmUoe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9LG4pe3llKz0xO2NvbnN0IG89Vyh0LHllLnRvU3RyaW5nKCksbikscj1oZShlLG8ucmVxLHtzZXRTdGF0ZTplPT57ci5zdGF0ZT1lfX0pO3JldHVybiByLmlkPXllLnRvU3RyaW5nKCksci5jbG9zZT1vLmNsb3NlLHIuc3RhdGU9Zi5EZS5GZXRjaGluZyxyfWNvbnN0IG1lPW5ldyBNYXA7ZnVuY3Rpb24gU2UoZSx0KXtyZXR1cm5gJHtlfToke3R9YH1mdW5jdGlvbiBDZShlKXtyZXR1cm4gYXN5bmModCwuLi5uKT0+e2lmKCF0KXJldHVybntlcnJvcjpxLm1lc3NhZ2V9O2xldCBvO2lmKHQuaWQpbz1TZShlLm5hbWVzcGFjZWRUb3BpYyx0LmlkKTtlbHNle2NvbnN0IG49dmUoZSx0KTtvPVNlKGUubmFtZXNwYWNlZFRvcGljLG4uaWQpLHQuaWQ9bi5pZCxtZS5zZXQobyx7Z2VuZXJhdG9yOm59KX1jb25zdCByPW1lLmdldChvKTtjbGVhclRpbWVvdXQoci50aW1lb3V0KTtjb25zdCBpPWF3YWl0IHIuZ2VuZXJhdG9yLm5leHQoKTtyZXR1cm4gci50aW1lb3V0PWZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCgoKCk9PnttZS5kZWxldGUoZSl9KSwxZTQpfShvKSx7Li4uaSxpZDp0LmlkLHN0YXRlOnIuZ2VuZXJhdG9yLnN0YXRlfX19ZnVuY3Rpb24gUGUoZSx0LG4pe3JldHVybiBhZShlKS5kaXNwYXRjaCh0LHcse2lkOm59KX1mdW5jdGlvbiBSZShlKXtyZXR1cm4gdD0+ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVNlKGUsdCksbz1tZS5nZXQobik7byYmby5nZW5lcmF0b3IuY2xvc2UoKX0oZSx0LmlkKX1hc3luYyBmdW5jdGlvbiBiZShlLHQse2lkOm4scXVlcnk6byxjb250ZXh0OnIsdGFyZ2V0czppfSl7Y29uc3Qgcz1hZShlKSxhPXtpZDpuLHF1ZXJ5Om8sY29udGV4dDpyLHRhcmdldHM6aSxwcm92aWRlcklkOnQuaWR9LGM9YXdhaXQgcy5kaXNwYXRjaCh0LmlkZW50aXR5LHAsYSksZD1jLmVycm9yO2lmKGQpdGhyb3cgbmV3IEVycm9yKGQpO3JldHVybiBjfWNvbnN0IFRlPW5ldyBNYXA7ZnVuY3Rpb24gSWUoZSx0LG4pe3JldHVybmAke2V9OiR7dC5uYW1lfToke3QudXVpZH06JHtufWB9Y29uc3QgTGU9bmV3IE1hcDtmdW5jdGlvbiBrZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0fToke259YH1mdW5jdGlvbiBNZShlLHQpe2NvbnN0IG49SWUuYmluZChudWxsLGUsdC5pZGVudGl0eSksbz1QZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxyPWJlLmJpbmQobnVsbCxlLHQpO3JldHVybiBhc3luYyhpLHMpPT57Y29uc3QgYT1uKGkuaWQpO2lmKCFUZS5oYXMoYSkpe2NvbnN0IGU9KCk9PntvKGkuaWQpLFRlLmRlbGV0ZShhKX07VGUuc2V0KGEsZSksaS5vbkNsb3NlKGUpfWNvbnN0IGM9a2UoZSx0LmlkLGkuaWQpLHU9KCk9PntMZS5kZWxldGUoYykscy5jbG9zZSgpfTtpLm9uQ2xvc2UodSksTGUuc2V0KGMsKGU9PntlLnJlc3VsdHM/Lmxlbmd0aCYmcy5yZXNwb25kKGUucmVzdWx0cyksZS5yZXZva2VkPy5sZW5ndGgmJnMucmV2b2tlKC4uLmUucmV2b2tlZCksZS5zdGF0dXM9PT1kLk9wZW4mJnMub3BlbigpLGUuc3RhdHVzPT09ZC5DbG9zZSYmdSgpfSkpO2NvbnN0IGY9YXdhaXQgcihpKTtyZXR1cm4gZi5zdGF0dXM9PT1kLk9wZW4mJnMub3BlbigpLGYuc3RhdHVzIT09ZC5DbG9zZSYmZi5zdGF0dXMhPT1kLkluaXRpYWx8fHUoKSxmfX1mdW5jdGlvbiBCZShlLHQpe3JldHVybiBhc3luYyBuPT57Y29uc3Qgbz1hZShlKSxyPXtwcm92aWRlcklkOnQuaWQscmVzdWx0Om59O3JldHVybiBvLmRpc3BhdGNoKHQuaWRlbnRpdHksZyxyKX19Y29uc3QgT2U9bmV3IE1hcDtmdW5jdGlvbiB4ZShlLHQpe3JldHVybmAke2V9LSR7dC5uYW1lfS0ke3QudXVpZH1gfWZ1bmN0aW9uIEFlKGUpe3JldHVybiBhc3luYyh0LG4pPT57aWYoIXR8fCF0LmlkKXJldHVybiB2b2lkIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh0KSk7aWYoQihlLHQuaWQpKXRocm93ICQ7dC5pZGVudGl0eT1uLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj14ZShlLHQuaWRlbnRpdHkpO09lLmhhcyhuKXx8T2Uuc2V0KG4sW10pLE9lLmdldChuKS5wdXNoKHQuaWQpLGF3YWl0IEkoZSx7Li4udCxvblVzZXJJbnB1dDpNZShlLHQpLG9uUmVzdWx0RGlzcGF0Y2g6QmUoZSx0KX0pfShlLHQpfX1mdW5jdGlvbiBXZShlKXtyZXR1cm4gdD0+e3QmJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1CKGUsdCk7aWYoIW4pcmV0dXJuO2NvbnN0IG89eGUoZSxuLmlkZW50aXR5KSxyPU9lLmdldChvKTtpZihyKXtjb25zdCBuPXIuZmluZEluZGV4KChlPT5lPT09dCkpOy0xIT09biYmKHIuc3BsaWNlKG4sMSksTChlLHQpKX19KGUsdCl9fWNvbnN0IERlPW5ldyBNYXA7ZnVuY3Rpb24gRWUoZSx0KXtEZS5oYXMoZSl8fERlLnNldChlLG5ldyBTZXQpLERlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gRmUoZSx0KXtjb25zdCBuPURlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1mdW5jdGlvbiBfZShlKXtyZXR1cm4gYXN5bmMgdD0+eyFmdW5jdGlvbihlLHQpe2NvbnN0IG49eGUoZSx0KSxvPU9lLmdldChuKTtpZihvKXtmb3IoY29uc3QgdCBvZiBvKUwoZSx0KTtPZS5kZWxldGUobil9fShlLHQpO2NvbnN0IG49RGUuZ2V0KGUpO24mJm4uZm9yRWFjaCgoZT0+ZSh0KSkpfX1hc3luYyBmdW5jdGlvbiAkZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPXYoZS5uYW1lc3BhY2VkVG9waWMpLG89YXdhaXQocj1uLGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY3JlYXRlKHIpKTt2YXIgcjtyZXR1cm4gby5vbkNvbm5lY3Rpb24oZnVuY3Rpb24oe25hbWVzcGFjZWRUb3BpYzplfSl7cmV0dXJuIGFzeW5jIHQ9Pntjb25zdCBuPWRlLmdldChlKTtpZihuKWZvcihjb25zdCBlIG9mIG4paWYoIWF3YWl0IGUodCkpdGhyb3cgR319KGUpKSxvLm9uRGlzY29ubmVjdGlvbihfZSh0KSksby5yZWdpc3Rlcih3LFJlKHQpKSxvLnJlZ2lzdGVyKHAsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9Pntjb25zdCBuPWtlKGUsdC5wcm92aWRlcklkLHQuaWQpLG89TGUuZ2V0KG4pO28mJm8odCl9fSh0KSksby5yZWdpc3RlcihcIjJcIixBZSh0KSksby5yZWdpc3RlcihcIjNcIixXZSh0KSksby5yZWdpc3RlcihcIjRcIixmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmMoKT0+bGUoZSl9KHQpKSxvLnJlZ2lzdGVyKFwiMVwiLENlKGUpKSxvLnJlZ2lzdGVyKGcsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCBvPUIoZSx0LnByb3ZpZGVySWQpO2lmKCFvKXRocm93IF87Y29uc3R7b25SZXN1bHREaXNwYXRjaDpyfT1vO3JldHVybiByPyh0LnJlc3VsdC5kaXNwYXRjaGVySWRlbnRpdHk9bixyKHQucmVzdWx0KSk6dm9pZCAwfX0odCkpLG99YXN5bmMgZnVuY3Rpb24gcWUoZSl7Y29uc3QgdD1hZShlKTt2YXIgbjtuPWUsc2UuZGVsZXRlKG4pLGF3YWl0IHQuZGVzdHJveSgpLE0oZSl9YXN5bmMgZnVuY3Rpb24gR2UoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fGwsbj1FKCksbz15KG4sdCkscj17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6b307bGV0IGk9Y2Uobyk7aXx8KGk9YXdhaXQgJGUociksZnVuY3Rpb24oZSx0KXtzZS5zZXQoZSx0KX0obyxpKSk7Y29uc3Qgcz1mZS5iaW5kKG51bGwsbyksYT1GZS5iaW5kKG51bGwsbyksYz1DLmJpbmQobnVsbCxvKSxkPWIuYmluZChudWxsLG8pO3JldHVybntnZXRBbGxQcm92aWRlcnM6bGUuYmluZChudWxsLG8pLHNlYXJjaDp2ZS5iaW5kKG51bGwscikscmVnaXN0ZXI6cGUuYmluZChudWxsLG8pLGRlcmVnaXN0ZXI6Z2UuYmluZChudWxsLG8pLG9uU3Vic2NyaXB0aW9uOnVlLmJpbmQobnVsbCxvKSxvbkRpc2Nvbm5lY3Q6RWUuYmluZChudWxsLG8pLG9uUmVnaXN0ZXI6Uy5iaW5kKG51bGwsbyksb25EZXJlZ2lzdGVyOlIuYmluZChudWxsLG8pLGRpc3BhdGNoOndlLmJpbmQobnVsbCxyKSxkaXNjb25uZWN0OnFlLmJpbmQobnVsbCxvKSxyZW1vdmVMaXN0ZW5lcjplPT57cyhlKSxhKGUpLGMoZSksZChlKX19fWNvbnN0e2NyZWF0ZTpOZX09cix7c3Vic2NyaWJlOkhlfT1vLFVlPXtjcmVhdGU6TmUsc3Vic2NyaWJlOkhlLGRlZmF1bHRUb3BpYzpcImFsbFwifSxWZT0oKT0+e2NvbnN0IGU9d2luZG93O2Uuc2VhcmNoPVVlLGUuZmluJiYoZS5maW4uU2VhcmNoPVVlKX0samU9ZT0+e2NvbnN0IHQ9KCk9PntWZSgpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl9O3JldHVybiB0fTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXtWZSgpO2NvbnN0IGU9XCJsb2FkXCIsdD1qZShlKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihlLHQpO2NvbnN0IG49XCJET01Db250ZW50TG9hZGVkXCIsbz1qZShuKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihuLG8pfWNvbnN0IEtlPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gWGUoKXthd2FpdCBhc3luYyBmdW5jdGlvbihlKXtLZS5zZXQoZSxhd2FpdCBIZSh7dG9waWM6ZSx1dWlkOnUucTkuV29ya3NwYWNlfSkpfShhKX1sZXQgSmU7YXN5bmMgZnVuY3Rpb24gWmUoZSl7cmV0dXJuIGF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuIEplfHwoSmU9WGUoKSksSmV9KCksS2UuZ2V0KGUpfXZhciB6ZT1uKDM3NTgpO2NvbnN0IFFlPWFzeW5jIGU9PntpZighZS5pY29uKXRocm93IG5ldyBFcnJvcihgJHtlLmlkfSBwcm92aWRlciBuZWVkcyB0byBoYXZlIGljb24gcHJvcGVydHkgZGVmaW5lZC5gKTthd2FpdCgwLHMuYUIpKCk7Y29uc3QgdD1hd2FpdCBaZShhKTt0cnl7Y29uc3Qgbj1hd2FpdCB0LnJlZ2lzdGVyKGUpO3JldHVybigwLGkuY2spKHthbGxvd2VkOiEwfSksbn1jYXRjaChlKXt0aHJvdygwLGkuY2spKHthbGxvd2VkOiExLHJlamVjdGlvbkNvZGU6ZS5tZXNzYWdlfSksZX19LFllPWFzeW5jIGU9Pnthd2FpdCgwLHMuYUIpKCk7cmV0dXJuKGF3YWl0IFplKGEpKS5kZXJlZ2lzdGVyKGUpfTthc3luYyBmdW5jdGlvbiBldCgpe3JldHVybihhd2FpdCgwLHMuWGwpKCkpLmRpc3BhdGNoKHMuTWwuU2hvd0hvbWUsdm9pZCAwKX1hc3luYyBmdW5jdGlvbiB0dCgpe3JldHVybihhd2FpdCgwLHMuWGwpKCkpLmRpc3BhdGNoKHMuTWwuSGlkZUhvbWUsdm9pZCAwKX19LDMyOTg6KGUsdCxuKT0+e24uZCh0LHt3OigpPT5vLnd0fSk7dmFyIG89big1MzE2KX0sMzc1ODooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtQdDooKT0+byx5VzooKT0+cixlbDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwiLGUuTG9hZGluZz1cIkxvYWRpbmdcIixlLkVycm9yPVwiRXJyb3JcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLk11bHRpU2VsZWN0PVwiTXVsdGlTZWxlY3RcIn0oaXx8KGk9e30pKX0sNzU2NDooZSx0LG4pPT57bigzMjk4KSxuKDM3NTgpLG4oNjExNCksbigyMTA5KX0sNjExNDooZSx0LG4pPT57dmFyIG8scjtuLmQodCx7TDooKT0+byxUOigpPT5yfSksZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0ocnx8KHI9e30pKX0sMjEwOTooZSx0LG4pPT57bi5kKHQse3A2OigpPT5vLEdvOigpPT5yLGJJOigpPT5pLFpKOigpPT5zfSk7Y29uc3Qgbz17Q29udGFpbmVyOlwiQ29udGFpbmVyXCIsQnV0dG9uOlwiQnV0dG9uXCJ9LHI9e1RleHQ6XCJUZXh0XCIsSW1hZ2U6XCJJbWFnZVwiLExpc3Q6XCJMaXN0XCJ9LGk9ey4uLm8sLi4ucn07dmFyIHM7IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT1cInByaW1hcnlcIixlLlNlY29uZGFyeT1cInNlY29uZGFyeVwiLGUuVGV4dE9ubHk9XCJ0ZXh0T25seVwifShzfHwocz17fSkpfSwzMTc6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7QXBwTWFuaWZlc3RUeXBlOigpPT5pLkwsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5pLlQsZGVyZWdpc3RlcjooKT0+ZixoaWRlOigpPT5sLHJlZ2lzdGVyOigpPT51LHNob3c6KCk9PnB9KTt2YXIgbz1uKDY1MzIpLHI9big3NDA1KTtuKDc1NjQpO3ZhciBpPW4oNjExNCk7bGV0IHM7Y29uc3QgYT1uZXcgTWFwLGM9ZT0+e2lmKCFhLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoYFN0b3JlZnJvbnQgUHJvdmlkZXIgd2l0aCBpZCAke2V9IGlzIG5vdCByZWdpc3RlcmVkYCk7cmV0dXJuIGEuZ2V0KGUpfSxkPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0KDAsci5YbCkoKTtpZihhLmhhcyhlLmlkKSl0aHJvdyBuZXcgRXJyb3IoYFN0b3JlZnJvbnQgcHJvdmlkZXIgd2l0aCBpZCAke2UuaWR9IGFscmVhZHkgcmVnaXN0ZXJlZGApO3JldHVybiBhLnNldChlLmlkLGUpLChlPT57ZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZHx8KGUuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWQ9ITAsZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHMsKGU9PmMoZSkuZ2V0QXBwcygpKSksZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3RlciwoZT0+YyhlKS5nZXRGb290ZXIoKSkpLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZSwoZT0+YyhlKS5nZXRMYW5kaW5nUGFnZSgpKSksZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlck5hdmlnYXRpb24sKGU9PmMoZSkuZ2V0TmF2aWdhdGlvbigpKSksZS5yZWdpc3RlcihyLk1sLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcCwoKHtpZDplLGFwcDp0fSk9PmMoZSkubGF1bmNoQXBwKHQpKSkpfSkodCksdC5kaXNwYXRjaChyLk1sLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLGUpfSx1PWU9PihzPWQoZSksKDAsby5kOSkoe2FsbG93ZWQ6ITB9KSxzKSxmPWFzeW5jIGU9Pnthd2FpdCBzLGEuZGVsZXRlKGUpO3JldHVybihhd2FpdCgwLHIuWGwpKCkpLmRpc3BhdGNoKHIuTWwuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixlKX0sbD1hc3luYygpPT57YXdhaXQgcyxhd2FpdCgwLHIuYUIpKCksYXdhaXQoYXN5bmMoKT0+KGF3YWl0KDAsci5EbSkoKSkuZGlzcGF0Y2goci5NbC5IaWRlU3RvcmVmcm9udCx2b2lkIDApKSgpfSxwPWFzeW5jKCk9Pnthd2FpdCBzLGF3YWl0KDAsci5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLk1sLlNob3dTdG9yZWZyb250LG51bGwpKSgpfX0sNzQwNTooZSx0LG4pPT57bi5kKHQse01sOigpPT5zLERtOigpPT5hLFhsOigpPT5mLGFCOigpPT51fSk7dmFyIG89big2Njc4KTtjb25zdCByPW8uQXgmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKChlPT5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCgoKT0+e1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmUoKX0pKSkpO3ZhciBpPW4oMTIxKTt2YXIgczshZnVuY3Rpb24oZSl7ZS5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cInJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkRlcmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXI9XCJkZXJlZ2lzdGVyLXN0b3JlZnJvbnQtcHJvdmlkZXJcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlcnM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlcnNcIixlLkhpZGVTdG9yZWZyb250PVwiaGlkZS1zdG9yZWZyb250XCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwc1wiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2U9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1sYW5kaW5nLXBhZ2VcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckZvb3Rlcj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWZvb3RlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbj1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLW5hdmlnYXRpb25cIixlLkxhdW5jaFN0b3JlZnJvbnRQcm92aWRlckFwcD1cImxhdW5jaC1zdG9yZWZyb250LXByb3ZpZGVyLWFwcFwiLGUuU2hvd1N0b3JlZnJvbnQ9XCJzaG93LXN0b3JlZnJvbnRcIixlLkNyZWF0ZVN0b3JlZnJvbnRXaW5kb3c9XCJjcmVhdGUtc3RvcmVmcm9udC13aW5kb3dcIixlLlNob3dIb21lPVwic2hvdy1ob21lXCIsZS5IaWRlSG9tZT1cImhpZGUtaG9tZVwiLGUuQXNzaWduSG9tZVNlYXJjaENvbnRleHQ9XCJhc3NpZ24taG9tZS1zZWFyY2gtY29udGV4dFwiLGUuR2V0TGVnYWN5UGFnZXM9XCJnZXQtbGVnYWN5LXBhZ2VzXCIsZS5HZXRMZWdhY3lXb3Jrc3BhY2VzPVwiZ2V0LWxlZ2FjeS13b3Jrc3BhY2VzXCIsZS5HZXRDb21wdXRlZFBsYXRmb3JtVGhlbWU9XCJnZXQtY29tcHV0ZWQtcGxhdGZvcm0tdGhlbWVcIn0oc3x8KHM9e30pKTtjb25zdCBhPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybigpPT57aWYoIW8uc1MpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hhbm5lbENsaWVudCBjYW5ub3QgYmUgdXNlZCBvdXRzaWRlIGFuIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIHR8fCh0PShhc3luYygpPT57YXdhaXQgcjtjb25zdCBuPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlKTtyZXR1cm4gbi5vbkRpc2Nvbm5lY3Rpb24oKGFzeW5jKCk9Pnt0PXZvaWQgMH0pKSxufSkoKS50aGVuKChlPT5lKSkuY2F0Y2goKG49Pnt0aHJvdyB0PXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHtufWApfSkpKSx0fX0oXCJfX29mX3dvcmtzcGFjZV9wcm90b2NvbF9fXCIpLGM9XCJpc0xhdW5jaGVkVmlhTGliXCIsZD1lPT57Y29uc3QgdD1uZXcgVVJMKGUpO3JldHVybiB0LnNlYXJjaFBhcmFtcy5hcHBlbmQoYyxcInRydWVcIiksdC50b1N0cmluZygpfSx1PWFzeW5jKCk9PntpZighYXdhaXQoMCxpLkpWKShpLmlXKSlyZXR1cm4oby5aS3x8LTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJXaW5cIikpJiZhd2FpdCBmaW4uQXBwbGljYXRpb24uc3RhcnRGcm9tTWFuaWZlc3QoZChvLmFXKSksZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZChvLkdYKSl9LGY9YXN5bmMoKT0+KGF3YWl0IHUoKSxhKCkpfSw1ODA2OihlLHQsbik9PntuLmQodCx7cTk6KCk9Pm99KTt2YXIgbyxyLGkscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLldvcmtzcGFjZT1cIm9wZW5maW4tYnJvd3NlclwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuUnVuUmVxdWVzdGVkPVwicnVuLXJlcXVlc3RlZFwiLGUuV2luZG93T3B0aW9uc0NoYW5nZWQ9XCJ3aW5kb3ctb3B0aW9ucy1jaGFuZ2VkXCIsZS5XaW5kb3dDbG9zZWQ9XCJ3aW5kb3ctY2xvc2VkXCIsZS5XaW5kb3dDcmVhdGVkPVwid2luZG93LWNyZWF0ZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkZpblByb3RvY29sPVwiZmluLXByb3RvY29sXCJ9KGl8fChpPXt9KSk7cy5BQixzLkFCLG8uV29ya3NwYWNlLG8uV29ya3NwYWNlfSw2Njc4OihlLHQsbik9Pnt2YXIgbztuLmQodCx7c1M6KCk9PnIsQXg6KCk9PmksQUI6KCk9PmEsb0M6KCk9PmMsWks6KCk9PmQsR1g6KCk9PnUsYVc6KCk9PmYsdTA6KCk9PnB9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KG98fChvPXt9KSk7Y29uc3Qgcj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGk9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudj8uSkVTVF9XT1JLRVJfSUQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdykscz1pP3dpbmRvdy5vcmlnaW46by5Mb2NhbCxhPXImJmZpbi5tZS51dWlkLGM9ciYmZmluLm1lLm5hbWUsZD0ociYmZmluLm1lLmVudGl0eVR5cGUsXCJwcm9kXCI9PT1vLkxvY2FsKSx1PShvLkRldixvLlN0YWdpbmcsby5Qcm9kLFwiZmluczovL3N5c3RlbS1hcHBzL3dvcmtzcGFjZVwiKSxmPVwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOC4xLjcvYXBwLmpzb25cIixsPWU9PmUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6cytlLHA9KGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS84LjEuN1wiKSxsKFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby93b3Jrc3BhY2UvOC4xLjdcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCYmbChXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMJiZsKFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwpLFwiOC4xLjdcIil9LDY1MzI6KGUsdCxuKT0+e24uZCh0LHtjazooKT0+YSxkOTooKT0+Y30pO3ZhciBvLHI9big2Njc4KSxpPW4oMTIxKTshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuSG9tZT1cIkhvbWVcIixlLk5vdGlmaWNhdGlvbj1cIk5vdGlmaWNhdGlvblwiLGUuU3RvcmVmcm9udD1cIlN0b3JlZnJvbnRcIixlLlBsYXRmb3JtPVwiUGxhdGZvcm1cIixlLlRoZW1pbmc9XCJUaGVtaW5nXCJ9KG98fChvPXt9KSk7Y29uc3Qgcz1hc3luYyhlLHQpPT57Y29uc3Qgbj17YXBpVmVyc2lvbjp0LmFwaVZlcnNpb258fHIudTAsY29tcG9uZW50TmFtZTplLGNvbXBvbmVudFZlcnNpb246ci51MCwuLi50fTtmaW4uU3lzdGVtLnJlZ2lzdGVyVXNhZ2Uoe3R5cGU6XCJ3b3Jrc3BhY2UtbGljZW5zaW5nXCIsZGF0YTpufSl9LGE9YXN5bmMgZT0+e2kuT0kudXVpZD09PWkuR2kudXVpZCYmaS5PSS5uYW1lPT09aS5HaS5uYW1lfHxzKG8uSG9tZSxlKX0sYz1hc3luYyBlPT57cyhvLlN0b3JlZnJvbnQsZSl9fSwxMjE6KGUsdCxuKT0+e24uZCh0LHtHaTooKT0+YyxPSTooKT0+ZCxpVzooKT0+dSxKVjooKT0+Zn0pO3ZhciBvLHIsaT1uKDU4MDYpLHM9big2Njc4KTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwib3BlbmZpbi1ob21lXCIsZS5Eb2NrPVwib3BlbmZpbi1kb2NrXCIsZS5TdG9yZWZyb250PVwib3BlbmZpbi1zdG9yZWZyb250XCIsZS5Ib21lSW50ZXJuYWw9XCJvcGVuZmluLWhvbWUtaW50ZXJuYWxcIixlLkJyb3dzZXJNZW51PVwib3BlbmZpbi1icm93c2VyLW1lbnVcIixlLkJyb3dzZXJJbmRpY2F0b3I9XCJvcGVuZmluLWJyb3dzZXItaW5kaWNhdG9yXCIsZS5Ccm93c2VyV2luZG93PVwiaW50ZXJuYWwtZ2VuZXJhdGVkLXdpbmRvd1wifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuU2hvd249XCJzaG93blwiLGUuQm91bmRzQ2hhbmdlZD1cImJvdW5kcy1jaGFuZ2VkXCIsZS5MYXlvdXRSZWFkeT1cImxheW91dC1yZWFkeVwiLGUuRW5kVXNlckJvdW5kc0NoYW5naW5nPVwiZW5kLXVzZXItYm91bmRzLWNoYW5naW5nXCIsZS5CbHVycmVkPVwiYmx1cnJlZFwiLGUuQ2xvc2VSZXF1ZXN0ZWQ9XCJjbG9zZS1yZXF1ZXN0ZWRcIixlLkZvY3VzZWQ9XCJmb2N1c2VkXCIsZS5TaG93UmVxdWVzdGVkPVwic2hvdy1yZXF1ZXN0ZWRcIixlLlZpZXdDcmFzaGVkPVwidmlldy1jcmFzaGVkXCIsZS5WaWV3QXR0YWNoZWQ9XCJ2aWV3LWF0dGFjaGVkXCIsZS5WaWV3RGV0YWNoZWQ9XCJ2aWV3LWRldGFjaGVkXCIsZS5WaWV3UGFnZVRpdGxlVXBkYXRlZD1cInZpZXctcGFnZS10aXRsZS11cGRhdGVkXCIsZS5WaWV3RGVzdHJveWVkPVwidmlldy1kZXN0cm95ZWRcIixlLk9wdGlvbnNDaGFuZ2VkPVwib3B0aW9ucy1jaGFuZ2VkXCJ9KHJ8fChyPXt9KSk7ZnVuY3Rpb24gYShlKXtpZighcy5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRPRldpbmRvdyBjYW4gb25seSBiZSB1c2VkIGluIGFuIE9wZW5GaW4gZW52LiBBdm9pZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLldpbmRvdy53cmFwU3luYyhlKX1jb25zdCBjPXtuYW1lOnMub0MsdXVpZDpzLkFCfTtjb25zdCBkPXtuYW1lOm8uSG9tZSx1dWlkOmkucTkuV29ya3NwYWNlfSx1PShvLkRvY2ssaS5xOS5Xb3Jrc3BhY2Usby5TdG9yZWZyb250LGkucTkuV29ya3NwYWNlLHtuYW1lOmkucTkuV29ya3NwYWNlLHV1aWQ6aS5xOS5Xb3Jrc3BhY2V9KTtjb25zdCBmPWU9PmEoZSkuZ2V0T3B0aW9ucygpLnRoZW4oKCgpPT4hMCkpLmNhdGNoKCgoKT0+ITEpKX0sNTMxNjooZSx0LG4pPT57dmFyIG8scixpO24uZCh0LHtEZTooKT0+byxweDooKT0+cix3dDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifShpfHwoaT17fSkpfX0sdD17fTtmdW5jdGlvbiBuKG8pe3ZhciByPXRbb107aWYodm9pZCAwIT09cilyZXR1cm4gci5leHBvcnRzO3ZhciBpPXRbb109e2V4cG9ydHM6e319O3JldHVybiBlW29dKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KGUsdCk9Pntmb3IodmFyIG8gaW4gdCluLm8odCxvKSYmIW4ubyhlLG8pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLHtlbnVtZXJhYmxlOiEwLGdldDp0W29dfSl9LG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgbz17fTsoKCk9PntuLnIobyksbi5kKG8se0FwcE1hbmlmZXN0VHlwZTooKT0+cC5MLEJ1dHRvblN0eWxlOigpPT5mLlpKLENMSUFjdGlvbjooKT0+bC5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5sLmVsLENMSVRlbXBsYXRlOigpPT5sLnlXLENvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5wNixIb21lOigpPT5yLExlZ2FjeTooKT0+ZSxQcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM6KCk9PmYuR28sU2VhcmNoVGFnQmFja2dyb3VuZDooKT0+dS53LFN0b3JlZnJvbnQ6KCk9PmQsU3RvcmVmcm9udFRlbXBsYXRlOigpPT5wLlQsVGVtcGxhdGVGcmFnbWVudFR5cGVzOigpPT5mLmJJfSk7dmFyIGU9e307bi5yKGUpLG4uZChlLHtnZXRQYWdlczooKT0+YSxnZXRXb3Jrc3BhY2VzOigpPT5jfSk7dmFyIHQscj1uKDMxMzMpO24oNjY3OCksbigxMjEpOyFmdW5jdGlvbihlKXtlLlRhYkNyZWF0ZWQ9XCJ0YWItY3JlYXRlZFwiLGUuQ29udGFpbmVyQ3JlYXRlZD1cImNvbnRhaW5lci1jcmVhdGVkXCIsZS5Db250YWluZXJSZXNpemVkPVwiY29udGFpbmVyLXJlc2l6ZWRcIn0odHx8KHQ9e30pKTtuZXcgTWFwO3ZhciBpOyFmdW5jdGlvbihlKXtlLkN1cnJlbnRXb3Jrc3BhY2VJZD1cImN1cnJlbnRXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwifShpfHwoaT17fSkpO3ZhciBzPW4oNzQwNSk7Y29uc3QgYT0oKT0+YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLk1sLkdldExlZ2FjeVBhZ2VzLHZvaWQgMCl9KCksYz0oKT0+KGFzeW5jKCk9Pihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuTWwuR2V0TGVnYWN5V29ya3NwYWNlcyx2b2lkIDApKSgpO3ZhciBkPW4oMzE3KSx1PW4oMzI5OCksZj1uKDIxMDkpLGw9bigzNzU4KSxwPW4oNjExNCl9KSgpLG1vZHVsZS5leHBvcnRzPW99KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcHMoKTogUHJvbWlzZTxBcHBbXT4ge1xyXG4gICAgcmV0dXJuIFtleHBlcm9BcHAsIG5vdGlmaWNhdGlvblN0dWRpbywgcHJvY2Vzc01hbmFnZXIsIGRldmVsb3BlckNvbnRlbnRdO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZXhwZXJvQXBwOkFwcCA9IHtcclxuICAgIGFwcElkOiBcImV4cGVyby1jb21wYW55LW5ld3NcIixcclxuICAgIHRpdGxlOiBcIkdhdGV3YXkgLSBDb21wYW55IE5ld3NcIixcclxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vb3BlbmZpbi1pZXguZXhwZXJvbGFicy5jb20vb3BlbmZpbi9tYW5pZmVzdHMvY29tcGFueS1uZXdzLmpzb25cIixcclxuICAgIG1hbmlmZXN0VHlwZTogXCJ2aWV3XCIsXHJcbiAgICBpY29uczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgc3JjOiBcImh0dHBzOi8vb3BlbmZpbi1pZXguZXhwZXJvbGFicy5jb20vZmF2aWNvbi5pY29cIlxyXG4gICAgICB9XHJcbiAgICBdLFxyXG4gICAgY29udGFjdEVtYWlsOiBcImNvbnRhY3RAZXhhbXBsZS5jb21cIixcclxuICAgIHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBwdWJsaXNoZXI6IFwiRXhwZXJvXCIsXHJcbiAgICBpbnRlbnRzOiBbXSxcclxuICAgIGltYWdlczogW3tcclxuICAgICAgc3JjOlwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NvbW1vbi9pbWFnZXMvcHJldmlld3MvZXhwZXJvLW5ld3Mtdmlldy5wbmdcIlxyXG4gICAgfV0sXHJcbiAgICB0YWdzOltcImV4cGVyb1wiLCBcInZpZXdcIiwgXCJpbnRlcm9wXCJdXHJcbiAgfTtcclxuXHJcbiAgZXhwb3J0IGNvbnN0IG5vdGlmaWNhdGlvblN0dWRpbzpBcHAgPSAge1xyXG4gICAgYXBwSWQ6IFwibm90aWZpY2F0aW9ucy1nZW5lcmF0b3JcIixcclxuICAgIHRpdGxlOiBcIk9wZW5GaW4gTm90aWZpY2F0aW9ucyBTdHVkaW9cIixcclxuICAgIG1hbmlmZXN0VHlwZTogXCJtYW5pZmVzdFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwiTm90aWZpY2F0aW9ucyBTdHVkaW86IFRoaXMgaXMgT3BlbkZpbidzIHRvb2wgZm9yIGRlbW9uc3RyYXRpbmcgdGhlIHBvd2VyIG9mIG91ciBOb3RpZmljYXRpb24gQ2VudGVyLiBVc2UgaXQgdG8gY3JlYXRlIGxvY2FsIG5vdGlmaWNhdGlvbnMgb3IgdXNlIHNvbWUgb2YgdGhlIGV4YW1wbGVzIHNob3duIGluIG91ciBDYXRhbG9nLiBFeHBlcmltZW50IHdpdGggb3VyIGZlYXR1cmVzIGFuZCBzZWUgdGhlIHBvd2VyIHRoYXQgT3BlbkZpbiBOb3RpZmljYXRpb24gQ2VudGVyIGNhbiBicmluZyB0byB5b3VyIGFwcGxpY2F0aW9ucy5cIixcclxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vc3R1ZGlvL25vdGlmaWNhdGlvbi9hcHAuanNvblwiLFxyXG4gICAgaWNvbnM6IFtcclxuICAgICAgeyBzcmM6IFwiaHR0cHM6Ly9jZG4ub3BlbmZpbi5jby9kZW1vcy9ub3RpZmljYXRpb25zL2dlbmVyYXRvci9pbWFnZXMvaWNvbi1ibHVlLnBuZ1wifVxyXG4gICAgXSxcclxuICAgIGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxyXG4gICAgcHVibGlzaGVyOiBcIk9wZW5GaW5cIixcclxuICAgIGludGVudHM6IFtdLFxyXG4gICAgaW1hZ2VzOiBbe1xyXG4gICAgICBzcmM6XCJodHRwOi8vbG9jYWxob3N0OjgwODAvY29tbW9uL2ltYWdlcy9wcmV2aWV3cy9vcGVuZmluLW5vdGlmaWNhdGlvbi1zdHVkaW8ucG5nXCJcclxuICAgIH1dLFxyXG4gICAgdGFnczpbXCJoZXJvXCIsIFwibWFuaWZlc3RcIiwgXCJ0b29sc1wiXVxyXG4gIH07XHJcblxyXG4gIGV4cG9ydCBjb25zdCBwcm9jZXNzTWFuYWdlcjpBcHAgPSB7XHJcbiAgICBhcHBJZDogXCJvcGVuZmluLXByb2Nlc3MtbWFuYWdlclwiLFxyXG4gICAgdGl0bGU6IFwiT3BlbkZpbiBQcm9jZXNzIE1hbmFnZXJcIixcclxuICAgIG1hbmlmZXN0VHlwZTogXCJtYW5pZmVzdFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwiUHJvY2VzcyBNYW5hZ2VyOiBUaGlzIGlzIE9wZW5GaW4ncyB0b29sIGZvciBoZWxwaW5nIGRldmVsb3BlcnMgYnVpbGQgT3BlbkZpbiBBcHBsaWNhdGlvbnMuIEl0IGxldHMgeW91IHNlZSB0aGUgT3BlbkZpbiBhcHBsaWNhdGlvbnMgdGhhdCBhcmUgcnVubmluZywgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBhcHBsaWNhdGlvbnMgKG1lbW9yeSBhbmQgY3B1KSBhbmQgZWFzeSBhY2Nlc3MgdG8gdGhlIGRldiB0b29scyBmb3IgdGhlIFdpbmRvd3Mgb2YgeW91ciBhcHBsaWNhdGlvbi5cIixcclxuICAgIG1hbmlmZXN0OiBcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vcHJvY2Vzcy1tYW5hZ2VyL2FwcC5qc29uXCIsXHJcbiAgICBpY29uczogW1xyXG4gICAgICB7IHNyYzogXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3Byb2Nlc3MtbWFuYWdlci9pbWcvcHJvYy1tZ3ItaWNvbi5wbmdcIiB9XHJcbiAgICBdLFxyXG4gICAgY29udGFjdEVtYWlsOiBcImNvbnRhY3RAZXhhbXBsZS5jb21cIixcclxuICAgIHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBwdWJsaXNoZXI6IFwiT3BlbkZpblwiLFxyXG4gICAgaW50ZW50czogW10sXHJcbiAgICBpbWFnZXM6IFt7XHJcbiAgICAgIHNyYzpcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9jb21tb24vaW1hZ2VzL3ByZXZpZXdzL29wZW5maW4tcHJvY2Vzcy1tYW5hZ2VyLnBuZ1wiXHJcbiAgICB9XSxcclxuICAgIHRhZ3M6W1wiaGVyb1wiLFwibWFuaWZlc3RcIiwgXCJ0b29sc1wiXVxyXG4gIH07XHJcblxyXG4gIGV4cG9ydCBjb25zdCBkZXZlbG9wZXJDb250ZW50OiBBcHAgPSB7XHJcbiAgICBhcHBJZDogXCJvcGVuZmluLWRldmVsb3Blci1wYWdlXCIsXHJcbiAgICB0aXRsZTogXCJPcGVuRmluIERldmVsb3BlciBEb2NzXCIsXHJcbiAgICBtYW5pZmVzdFR5cGU6IFwic25hcHNob3RcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIlNob3dzIGEgY29sbGVjdGlvbiBvZiBPcGVuRmluIGRldmVsb3BlciBwYWdlcyBhbmQgcHJvdmlkZXMgYW4gZXhhbXBsZSBvZiBob3cgeW91IGNhbiBwcmVzZW50IGEgcHJlLWJ1aWx0IHBhZ2UgYXMgYSBsYXVuY2ggdGFyZ2V0IGluIE9wZW5GaW4gSG9tZS4gVGhpcyBlbnRyeSBoYXMgYSBtYW5pZmVzdCB0eXBlIG9mICdzbmFwc2hvdCcuXCIsXHJcbiAgICBtYW5pZmVzdDogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvY29tbW9uL3NuYXBzaG90cy9zbmFwc2hvdC5qc29uXCIsXHJcbiAgICBpY29uczogW1xyXG4gICAgICB7IHNyYzogXCJodHRwOi8vbG9jYWxob3N0OjgwODAvY29tbW9uL2ltYWdlcy9pY29uLWJsdWUucG5nXCIgfVxyXG4gICAgXSxcclxuICAgIGNvbnRhY3RFbWFpbDogXCJjb250YWN0QGV4YW1wbGUuY29tXCIsXHJcbiAgICBzdXBwb3J0RW1haWw6IFwic3VwcG9ydEBleGFtcGxlLmNvbVwiLFxyXG4gICAgcHVibGlzaGVyOiBcIk9wZW5GaW5cIixcclxuICAgIGludGVudHM6IFtdLFxyXG4gICAgaW1hZ2VzOiBbe1xyXG4gICAgICBzcmM6XCJodHRwOi8vbG9jYWxob3N0OjgwODAvY29tbW9uL2ltYWdlcy9wcmV2aWV3cy9vcGVuZmluLXBhZ2UtZG9jcy5wbmdcIlxyXG4gICAgfV0sXHJcbiAgICB0YWdzOltcInBhZ2VcIl1cclxuICB9OyIsImltcG9ydCB7IGdldEN1cnJlbnRTeW5jIH0gZnJvbSAnQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtJztcclxuaW1wb3J0IHsgSG9tZSwgQ0xJUHJvdmlkZXIsIENMSVNlYXJjaExpc3RlbmVyUmVxdWVzdCwgQ0xJVGVtcGxhdGUsIENMSVNlYXJjaFJlc3VsdCwgQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSwgQ0xJU2VhcmNoUmVzcG9uc2UsIENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQgIH0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xyXG5pbXBvcnQgeyBnZXRBcHBzIH0gZnJvbSBcIi4vYXBwc1wiO1xyXG5cclxuY29uc3QgcHJvdmlkZXJJZCA9IFwicmVnaXN0ZXItd2l0aC1ob21lLWJhc2ljXCI7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRSZXN1bHRzKHF1ZXJ5Pzogc3RyaW5nKSA6IFByb21pc2U8Q0xJU2VhcmNoUmVzcG9uc2U+IHtcclxuICAgXHJcbiAgICBsZXQgYXBwcyA9IGF3YWl0IGdldEFwcHMoKTtcclxuXHJcbiAgICBpZihBcnJheS5pc0FycmF5KGFwcHMpKXsgICBcclxuICAgICAgICBsZXQgaW5pdGlhbFJlc3VsdHM6IENMSVNlYXJjaFJlc3VsdDxhbnk+W10gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFwcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGVudHJ5OiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICBrZXk6IGFwcHNbaV0uYXBwSWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogYXBwc1tpXS50aXRsZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGFwcHNbaV0sXHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5QbGFpblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0geyBuYW1lOiBcIkxhdW5jaCBWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH07XHJcblxyXG4gICAgICAgICAgICBpZihhcHBzW2ldLm1hbmlmZXN0VHlwZSA9PT0gXCJ2aWV3XCIpIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmxhYmVsID0gXCJWaWV3XCI7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5hY3Rpb25zID0gW2FjdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoYXBwc1tpXS5tYW5pZmVzdFR5cGUgPT09IFwic25hcHNob3RcIikge1xyXG4gICAgICAgICAgICAgICAgZW50cnkubGFiZWwgPSBcIlNuYXBzaG90XCI7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24ubmFtZSA9IFwiTGF1bmNoIFNuYXBzaG90XCI7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5hY3Rpb25zID0gW2FjdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoYXBwc1tpXS5tYW5pZmVzdFR5cGUgPT09IFwibWFuaWZlc3RcIikge1xyXG4gICAgICAgICAgICAgICAgZW50cnkubGFiZWwgPSBcIkFwcFwiO1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLm5hbWUgPSBcIkxhdW5jaCBBcHBcIjtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmFjdGlvbnMgPSBbYWN0aW9uXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihhcHBzW2ldLm1hbmlmZXN0VHlwZSA9PT0gXCJleHRlcm5hbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24ubmFtZSA9IFwiTGF1bmNoIE5hdGl2ZSBBcHBcIjtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmFjdGlvbnMgPSBbYWN0aW9uXTtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmxhYmVsID0gXCJOYXRpdmUgQXBwXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KGFwcHNbaV0uaWNvbnMpICYmIGFwcHNbaV0uaWNvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZW50cnkuaWNvbiA9IGFwcHNbaV0uaWNvbnNbMF0uc3JjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihhcHBzW2ldLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGVudHJ5LmRlc2NyaXB0aW9uID0gYXBwc1tpXS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIGVudHJ5LnNob3J0RGVzY3JpcHRpb24gPSBhcHBzW2ldLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgZW50cnkudGVtcGxhdGUgPSBDTElUZW1wbGF0ZS5TaW1wbGVUZXh0O1xyXG4gICAgICAgICAgICAgICAgZW50cnkudGVtcGxhdGVDb250ZW50ID0gYXBwc1tpXS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbml0aWFsUmVzdWx0cy5wdXNoKGVudHJ5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmaW5hbFJlc3VsdHM7XHJcblxyXG4gICAgICAgIGlmKHF1ZXJ5ID09PSB1bmRlZmluZWQgfHwgcXVlcnkgPT09IG51bGwgfHwgcXVlcnkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGZpbmFsUmVzdWx0cyA9IGluaXRpYWxSZXN1bHRzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpbmFsUmVzdWx0cyA9IGluaXRpYWxSZXN1bHRzLmZpbHRlcihlbnRyeSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHRhcmdldFZhbHVlID0gZW50cnkudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmKHRhcmdldFZhbHVlICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0VmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHRhcmdldFZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRWYWx1ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnkpID4gLTE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2U6IENMSVNlYXJjaFJlc3BvbnNlID0ge1xyXG4gICAgICAgICAgICByZXN1bHRzOiBmaW5hbFJlc3VsdHNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3VsdHM6W11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpc2luZyBob21lLlwiKTtcclxuXHJcbiAgICBjb25zdCBxdWVyeU1pbkxlbmd0aCA9IDM7XHJcblxyXG4gICAgY29uc3Qgb25Vc2VySW5wdXQgPSBhc3luYyAocmVxdWVzdDogQ0xJU2VhcmNoTGlzdGVuZXJSZXF1ZXN0LCByZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSk6IFByb21pc2U8Q0xJU2VhcmNoUmVzcG9uc2U+ID0+IHtcclxuICAgICAgICBsZXQgcXVlcnkgPSByZXF1ZXN0LnF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYocXVlcnkuaW5kZXhPZihcIi9cIikgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtyZXN1bHRzOiBbXSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocXVlcnkubGVuZ3RoIDwgcXVlcnlNaW5MZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFJlc3VsdHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBnZXRSZXN1bHRzKHF1ZXJ5KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb25TZWxlY3Rpb24gPSBhc3luYyAocmVzdWx0OkNMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LmRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgcGxhdGZvcm0gPSBnZXRDdXJyZW50U3luYygpO1xyXG4gICAgICAgICAgICBhd2FpdCBwbGF0Zm9ybS5sYXVuY2hBcHAoe2FwcDogcmVzdWx0LmRhdGF9KTtcclxuICAgICAgICB9ICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIGV4ZWN1dGUgcmVzdWx0IHdpdGhvdXQgZGF0YSBiZWluZyBwYXNzZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjbGlQcm92aWRlcjpDTElQcm92aWRlciA9IHtcclxuICAgICAgICB0aXRsZTogXCJCYXNpYyBXb3Jrc3BhY2UgUGxhdGZvcm1cIixcclxuICAgICAgICBpZDogcHJvdmlkZXJJZCxcclxuICAgICAgICBpY29uOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9mYXZpY29uLmljb1wiLFxyXG4gICAgICAgIG9uVXNlcklucHV0OiBvblVzZXJJbnB1dCxcclxuICAgICAgICBvblJlc3VsdERpc3BhdGNoOiBvblNlbGVjdGlvbixcclxuICAgICB9O1xyXG5cclxuICAgICBjb25zb2xlLmxvZyhcIkhvbWUgY29uZmlndXJlZC5cIik7XHJcblxyXG4gICAgcmV0dXJuIEhvbWUucmVnaXN0ZXIoY2xpUHJvdmlkZXIpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVyZWdpc3RlcigpIHtcclxuICByZXR1cm4gSG9tZS5kZXJlZ2lzdGVyKHByb3ZpZGVySWQpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvdygpIHtcclxuICAgIHJldHVybiBIb21lLnNob3coKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhpZGUoKSB7XHJcbiAgICByZXR1cm4gSG9tZS5oaWRlKCk7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGluaXQgYXMgd29ya3NwYWNlUGxhdGZvcm1Jbml0IH0gZnJvbSAnQG9wZW5maW4vd29ya3NwYWNlLXBsYXRmb3JtJztcclxuaW1wb3J0IHsgcmVnaXN0ZXIsIHNob3csIGhpZGUsIGRlcmVnaXN0ZXIgfSBmcm9tICcuL2hvbWUnO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcclxuICBhd2FpdCB3b3Jrc3BhY2VQbGF0Zm9ybUluaXQoe1xyXG4gICAgYnJvd3Nlcjoge31cclxuICB9KTtcclxuICBsZXQgcmVnaXN0ZXJIb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWdpc3RlclwiKTtcclxuICBsZXQgZGVyZWdpc3RlckhvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlcmVnaXN0ZXJcIik7XHJcbiAgbGV0IHNob3dIb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93XCIpO1xyXG4gIGxldCBoaWRlSG9tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlkZVwiKTtcclxuXHJcbiAgcmVnaXN0ZXJIb21lLm9uY2xpY2sgPSBhc3luYyAoKT0+IHtcclxuICAgIGF3YWl0IHJlZ2lzdGVyKCk7XHJcbiAgICBzaG93SG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJ1bnNldFwiO1xyXG4gICAgaGlkZUhvbWUuc3R5bGUuZGlzcGxheSA9IFwidW5zZXRcIjtcclxuICAgIGRlcmVnaXN0ZXJIb21lLnN0eWxlLmRpc3BsYXkgPSBcInVuc2V0XCJcclxuICAgIHJlZ2lzdGVySG9tZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfTtcclxuXHJcbiAgZGVyZWdpc3RlckhvbWUub25jbGljayA9IGFzeW5jICgpPT4ge1xyXG4gICAgc2hvd0hvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgaGlkZUhvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZGVyZWdpc3RlckhvbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICByZWdpc3RlckhvbWUuc3R5bGUuZGlzcGxheSA9IFwidW5zZXRcIjtcclxuICAgIGF3YWl0IGRlcmVnaXN0ZXIoKTtcclxuICB9XHJcblxyXG4gIHNob3dIb21lLm9uY2xpY2sgPSBhc3luYyAoKT0+IHtcclxuICAgIGF3YWl0IHNob3coKTtcclxuICB9O1xyXG5cclxuICBoaWRlSG9tZS5vbmNsaWNrID0gYXN5bmMgKCk9PiB7XHJcbiAgICBhd2FpdCBoaWRlKCk7XHJcbiAgfTtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgYXdhaXQgaW5pdCgpO1xyXG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=