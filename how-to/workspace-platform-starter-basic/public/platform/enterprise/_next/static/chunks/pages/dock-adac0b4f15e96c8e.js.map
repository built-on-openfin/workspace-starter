{"version":3,"file":"static/chunks/pages/dock-adac0b4f15e96c8e.js","mappings":"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","sources":["webpack://_N_E/?7efa","webpack://_N_E/../common/src/utils/getThemedProviderIcon.ts","webpack://_N_E/../dock3/src/components/DockComponent.ts","webpack://_N_E/../dock3/src/components/DockStyled.tsx","webpack://_N_E/../dock3/src/components/ProviderIcon.tsx","webpack://_N_E/../dock3/src/components/DockLayout.tsx","webpack://_N_E/../common/src/utils/image-url-to-base64.ts","webpack://_N_E/../common/src/hooks/useDropdown.ts","webpack://_N_E/../common/src/components/CustomDropdown/BaseCustomDropdown.tsx","webpack://_N_E/../dock3/src/hooks/useActionsHandler.ts","webpack://_N_E/../dock3/src/hooks/usePlatformIdentity.ts","webpack://_N_E/../dock3/src/components/MoreMenu.tsx","webpack://_N_E/../common/src/assets/icons/companionDock/content-menu.svg","webpack://_N_E/../common/src/assets/icons/companionDock/dock-bookmark.svg","webpack://_N_E/../dock3/src/components/utils.ts","webpack://_N_E/../common/src/utils/useInitialOptions.ts","webpack://_N_E/../dock3/src/hooks/useCompanionDockConfiguration.ts","webpack://_N_E/../dock3/src/context/Dock3Context.tsx","webpack://_N_E/../dock3/src/components/ManageWorkspaces.tsx","webpack://_N_E/../dock3/src/components/PlatformDockSelector.tsx","webpack://_N_E/../dock3/src/components/EnterpriseDockSelector.tsx","webpack://_N_E/../dock3/src/components/ReorderGroup.tsx","webpack://_N_E/../dock3/src/components/ReorderGroupInner.tsx","webpack://_N_E/../dock3/src/components/DefaultDockButtons.tsx","webpack://_N_E/../common/src/hooks/useRunningComponents.ts","webpack://_N_E/../dock3/src/hooks/useDefaultDockButtonsDynamic.ts","webpack://_N_E/./src/components/Dock/EnterpriseDefaultDockButtonsPanel.tsx","webpack://_N_E/../common/src/assets/icons/companionDock/content-menu-small.svg","webpack://_N_E/../dock3/src/components/DockContentMenu.tsx","webpack://_N_E/./src/context/DockContext.tsx","webpack://_N_E/./src/components/Dock/EnterpriseDockContentMenu.tsx","webpack://_N_E/../common/src/assets/icons/companionDock/dock-favorites-folder.svg","webpack://_N_E/../dock3/src/components/FavoritesList.tsx","webpack://_N_E/./src/components/Dock/EnterpriseFavoritesList.tsx","webpack://_N_E/../dock3/src/hooks/useAlwaysOnTopSetting.ts","webpack://_N_E/../dock3/src/hooks/useDockExpansion.ts","webpack://_N_E/./src/pages/dock.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dock\",\n      function () {\n        return require(\"private-next-pages/dock.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/dock\"])\n      });\n    }\n  ","import type { TaskbarIcon } from '@client-platform/shapes';\n\ntype WithIcon = {\n    icon?: string | TaskbarIcon;\n};\n\nexport const getThemedProviderIcon = (provider: WithIcon, isSchemeDark: boolean): string => {\n    if (!provider?.icon) {\n        return '';\n    }\n\n    return typeof provider.icon === 'object'\n        ? isSchemeDark\n            ? provider.icon.dark\n            : provider.icon.light\n        : provider?.icon ?? '';\n};\n","export enum DockComponent {\n    ContentMenu = 'content-menu',\n    Bookmarks = 'bookmarks'\n}\n","import styled, { css, DefaultTheme } from 'styled-components';\n\nimport { Box, Icon } from '@openfin/ui-library';\n\nimport BaseCustomButton from '@common/components/CustomButton/BaseCustomButton';\n\nimport { MAC_WINDOW_BORDER_RADIUS } from '@common/mixins/padding-border';\n\nexport const DragIcon = styled(Icon)`\n    z-index: 10;\n\n    svg path {\n        fill: ${({ theme }) => theme.palette.textDefault};\n    }\n`;\n// Helpers for contentBackground5 fallback logic\nexport const contentBackground5OrBackground4 = (theme: DefaultTheme) =>\n    theme.palette.contentBackground5 && theme.palette.contentBackground5 !== '#000000'\n        ? theme.palette.contentBackground5\n        : theme.palette.background4;\n\nexport const CompanionDockButton = styled(BaseCustomButton)<{ active?: boolean }>`\n    height: ${({ theme }) => theme.px.xxxlarge};\n    width: ${({ theme }) => theme.px.xxxlarge};\n    flex-shrink: 0;\n    -webkit-app-region: unset;\n\n    background-color: ${({ active }) => active && `var(--workspace-palette-companionDockButtonActiveBackground)`};\n\n    &:hover {\n        background-color: var(--workspace-palette-companionDockButtonHoverBackground);\n    }\n\n    svg {\n        height: unset;\n        width: unset;\n    }\n`;\n\nexport const DockContainer = styled(Box)<{\n    isWindows?: boolean;\n    isExpandedUp?: boolean;\n    isComponentExpanded?: boolean;\n}>`\n    user-select: none;\n    -webkit-app-region: drag;\n    background-color: ${({ theme }) => theme.palette.background2};\n    display: flex;\n    overflow: hidden;\n    border: 1px solid var(--workspace-palette-dockComponentContainerBorderColor);\n\n    ${({ isWindows }) =>\n        !isWindows &&\n        css`\n            border-radius: ${MAC_WINDOW_BORDER_RADIUS};\n            box-shadow: none;\n        `}\n\n    ${({ isComponentExpanded, isExpandedUp }) =>\n        isComponentExpanded &&\n        (isExpandedUp\n            ? css`\n                  border-top-left-radius: 0;\n                  border-top-right-radius: 0;\n              `\n            : css`\n                  border-bottom-left-radius: 0;\n                  border-bottom-right-radius: 0;\n              `)};\n`;\n\nexport const DockCompanionSeparator = styled.div<{ noLeftMargin?: boolean }>`\n    border-right: 1px var(--workspace-palette-dockCompanionSeparatorBorderColor) solid;\n    height: ${({ theme }) => theme.px.xxlarge};\n`;\n","import React from 'react';\n\nimport styled from 'styled-components';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport BaseCustomButton from '@common/components/CustomButton/BaseCustomButton';\nimport { CustomIcon } from '@common/components/Icon/CustomIcon';\n\nexport const ProviderIcon = ({\n    iconURL,\n    title,\n    isContentMenuOn,\n    onClick\n}: {\n    iconURL: string;\n    title: string;\n    isContentMenuOn: boolean;\n    onClick: () => void;\n}) => (\n    <ProviderIconContainer active={isContentMenuOn} rounded={true} onClick={onClick} tooltip={title}>\n        <CustomIcon iconURL={iconURL} description={title} size=\"xlarge\" />\n        <Icon icon={isContentMenuOn ? 'TriangleUpIcon' : 'TriangleDownIcon'} size=\"large\" />\n    </ProviderIconContainer>\n);\n\nconst ProviderIconContainer = styled(BaseCustomButton)<{ active?: boolean }>`\n    -webkit-app-region: no-drag;\n    height: ${({ theme }) => theme.px.xxxlarge};\n    width: ${({ theme }) => `${theme.unit.xxxlarge + theme.unit.xlarge}px`};\n    flex-shrink: 0;\n    // strange business with the background color here because of special casing for BMO requirements.\n    background-color: ${({ active }) => active && `var(--workspace-palette-companionDockButtonActiveBackground)`};\n\n    &:hover {\n        background-color: var(--workspace-palette-companionDockButtonHoverBackground);};\n    }\n    svg {\n        height: unset;\n        width: unset;\n    }\n`;\n","import { ReactNode } from 'react';\n\nimport styled, { createGlobalStyle, css } from 'styled-components';\n\nimport { CustomIcon } from '@common/components/Icon/CustomIcon';\n\nimport { DOCK_COMPANION_HEIGHT, DOCK_COMPANION_WIDTH } from '@dock3/api/constants';\n\nimport { MAC_WINDOW_BORDER_RADIUS } from '@common/mixins/padding-border';\n\nimport { DockComponent } from './DockComponent';\nimport { CompanionDockButton, DockCompanionSeparator, DockContainer, DragIcon } from './DockStyled';\nimport { ProviderIcon } from './ProviderIcon';\n\n// Constants for the dock component heights\nconst CONTENT_MENU_EXPANDED_DOCK_HEIGHT = 397;\nconst CONTENT_MENU_EXPANDED_BOOKMARKS_HEIGHT = 376;\n\n// Function to get the height for a dock component\nexport const getDockComponentHeight = (component?: DockComponent) => {\n    switch (component) {\n        case DockComponent.ContentMenu:\n            return CONTENT_MENU_EXPANDED_DOCK_HEIGHT;\n        case DockComponent.Bookmarks:\n            return CONTENT_MENU_EXPANDED_BOOKMARKS_HEIGHT;\n        default:\n            return DOCK_COMPANION_HEIGHT;\n    }\n};\n\nexport const DockCompanionStyles = createGlobalStyle`\n    html,\n    body {\n        overflow: hidden;\n    }\n`;\n\nexport const DockExpandedContainer = styled.div<{ isWindows: boolean; isExpandedUp: boolean; windowHeight: number }>`\n    height: ${({ windowHeight }) => windowHeight}px;\n    width: ${DOCK_COMPANION_WIDTH}px;\n\n    background-color: var(--workspace-palette-dockExpandedContainerBackground);\n    border: ${({ isWindows }) => isWindows && `1px solid var(--workspace-palette-dockExpandedContainerBorderColor)`};\n\n    display: flex;\n    flex-direction: ${({ isExpandedUp }) => (isExpandedUp ? 'column-reverse' : 'column')};\n    overflow: hidden;\n\n    -webkit-app-region: drag;\n`;\n\nexport const Filler = styled.div`\n    flex-grow: 1;\n    background-color: var(--workspace-palette-fillerBackgroundColor);\n`;\n\nexport const DockCompanionContainer = styled(DockContainer)`\n    height: ${DOCK_COMPANION_HEIGHT}px;\n\n    padding-left: ${({ theme }) => theme.px.base};\n    padding-right: ${({ theme }) => theme.px.base};\n\n    flex-shrink: 0;\n\n    background-color: var(--workspace-palette-dockCompanionContainerBackground);\n\n    ${({ isWindows }) =>\n        isWindows &&\n        css`\n            border: none;\n        `}\n`;\n\nexport const DockComponentContainer = styled.div<{ isExpandedUp?: boolean; isWindows?: boolean }>`\n    height: calc(100vh - ${DOCK_COMPANION_HEIGHT}px);\n    border: 1px solid var(--workspace-palette-dockComponentContainerBorderColor);\n    overflow: hidden;\n\n    ${({ isWindows, isExpandedUp }) =>\n        !isWindows &&\n        css`\n            ${isExpandedUp\n                ? css`\n                      border-bottom: none;\n                      border-top-left-radius: ${MAC_WINDOW_BORDER_RADIUS};\n                      border-top-right-radius: ${MAC_WINDOW_BORDER_RADIUS};\n                  `\n                : css`\n                      border-top: none;\n                      border-bottom-left-radius: ${MAC_WINDOW_BORDER_RADIUS};\n                      border-bottom-right-radius: ${MAC_WINDOW_BORDER_RADIUS};\n                  `}\n            box-shadow: none;\n        `}\n\n    -webkit-app-region: no-drag;\n`;\n\nexport const DockSectionContainer = styled.div`\n    display: flex;\n    align-items: center;\n    gap: ${({ theme }) => theme.px.small};\n    flex-shrink: 0;\n\n    ${CompanionDockButton} svg path {\n        fill: ${({ theme }) => theme.palette.textDefault};\n        stroke: ${({ theme }) => theme.palette.textDefault};\n    }\n`;\n\nexport const DragFiller = styled.div`\n    -webkit-app-region: drag;\n    display: flex;\n    flex-grow: 1;\n    height: 100%;\n`;\n\nexport const ProviderIconContainer = styled.div`\n    height: ${({ theme }) => theme.px.xxxlarge};\n    width: ${({ theme }) => theme.px.xxxlarge};\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & > div {\n        max-height: ${({ theme }) => theme.px.xxxlarge};\n        max-width: ${({ theme }) => theme.px.xxxlarge};\n    }\n`;\n\n// Interface for the DockLayout component props\nexport interface DockLayoutProps {\n    isWindows: boolean;\n    isExpandedUp: boolean;\n    expandedComponent?: DockComponent;\n    windowHeight: number;\n    renderCenterContent: () => ReactNode;\n    renderRightSectionContent: () => ReactNode;\n    renderExpandedContent: () => ReactNode;\n\n    // Props for common left section rendering\n    hideDragHandle?: boolean;\n    providerIconContentMenu?: boolean;\n    iconURL?: string;\n    title?: string;\n    isContentMenuOn?: boolean;\n    onProviderIconClick?: () => void;\n    description?: string;\n    renderButtonsPanel: () => ReactNode;\n}\n\n// A reusable component for the dock layout structure\nexport const DockLayout: React.FC<DockLayoutProps> = ({\n    isWindows,\n    isExpandedUp,\n    expandedComponent,\n    windowHeight,\n    renderCenterContent,\n    renderRightSectionContent,\n    renderExpandedContent,\n\n    // Left section props\n    hideDragHandle = false,\n    providerIconContentMenu = false,\n    iconURL,\n    title = 'Dock',\n    onProviderIconClick,\n    description,\n    renderButtonsPanel\n}) => {\n    return (\n        <DockExpandedContainer isWindows={isWindows} isExpandedUp={isExpandedUp} windowHeight={windowHeight}>\n            <DockCompanionContainer\n                isWindows={isWindows}\n                isExpandedUp={isExpandedUp}\n                isComponentExpanded={!!expandedComponent}\n            >\n                <DockSectionContainer>\n                    {!hideDragHandle && <DragIcon icon=\"DragHandleDots2Icon\" size=\"xlarge\" />}\n                    {providerIconContentMenu && (\n                        <ProviderIcon\n                            iconURL={iconURL}\n                            title={title}\n                            isContentMenuOn={expandedComponent === DockComponent.ContentMenu}\n                            onClick={onProviderIconClick}\n                        />\n                    )}\n                    {!providerIconContentMenu && iconURL && (\n                        <ProviderIconContainer>\n                            <CustomIcon iconURL={iconURL} description={description || title} size=\"xlarge\" />\n                        </ProviderIconContainer>\n                    )}\n                    {renderButtonsPanel()}\n                    <DockCompanionSeparator />\n                </DockSectionContainer>\n\n                {renderCenterContent()}\n\n                <DragFiller />\n\n                <DockSectionContainer>{renderRightSectionContent()}</DockSectionContainer>\n            </DockCompanionContainer>\n\n            {expandedComponent ? (\n                <DockComponentContainer isExpandedUp={isExpandedUp} isWindows={isWindows}>\n                    {renderExpandedContent()}\n                </DockComponentContainer>\n            ) : (\n                <Filler />\n            )}\n        </DockExpandedContainer>\n    );\n};\n","/*\n  NG- This is my temporary solution to dropdown menus with icons until the runtime supports\n  image URLs in MenuItemTemplate. Currently showPopupMenu() templates work only with data URLs\n  with Base64 encoding.\n  This code needs to be removed and base64 icons should be replaced with direct image urls in popup menu\n  templates once the runtime starts supporting them.\n*/\nexport async function urlToBase64(url: string, width: number, height: number): Promise<string> {\n    const img = document.createElement('img');\n    img.crossOrigin = 'anonymous';\n\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    canvas.width = width;\n    canvas.height = height;\n\n    return await new Promise((resolve) => {\n        img.onload = () => {\n            if (!ctx) {\n                console.warn('Could not get canvas context (unable to draw image)');\n            }\n\n            ctx?.drawImage(img, 0, 0, width, height);\n\n            return resolve(canvas.toDataURL('image/png'));\n        };\n        img.onerror = () => {\n            console.warn(`Failed to load action image ${url}`);\n            return resolve('');\n        };\n        img.src = url;\n    });\n}\n","import { useRef, useState } from 'react';\n\nimport type OpenFin from '@openfin/core';\n\nimport {\n    EmptyContextMenuItem,\n    MenuItemType,\n    showContextMenu,\n    ShowContextMenuResponse\n} from '@common/utils/context-menu';\nimport { urlToBase64 } from '@common/utils/image-url-to-base64';\n\nimport { BaseCustomDropdownItem, BaseCustomDropdownItems } from '@common/api/action';\n\nconst DEBOUNCE_TIME = 150;\n\nexport const useDropdown = () => {\n    const [isDropdownShowing, setIsDropdownShowing] = useState(false);\n    const isDropdownShowingTimeout = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    const onShowDropdown = (options: BaseCustomDropdownItems, onSelect: (data: any) => void) => {\n        return async (event: any) => {\n            /* eslint-disable-next-line no-unsafe-optional-chaining */\n            const { bottom, left } = event.currentTarget?.getBoundingClientRect();\n\n            setIsDropdownShowing(true);\n\n            const opts = typeof options === 'function' ? await options() : options;\n\n            const convertItemToCtxMenuOption = async (\n                item: BaseCustomDropdownItem\n            ): Promise<OpenFin.MenuItemTemplate> => {\n                const baseProperties = {\n                    icon: item.iconUrl ? await urlToBase64(item.iconUrl, 20, 20) : '',\n                    label: item.tooltip,\n                    enabled: !item.disabled\n                };\n                if (item.separator) {\n                    return { type: MenuItemType.Separator };\n                }\n                if (item.options) {\n                    return {\n                        ...baseProperties,\n                        submenu: await Promise.all(item.options.map(convertItemToCtxMenuOption))\n                    };\n                } else {\n                    return {\n                        ...baseProperties,\n                        type: typeof item.checked === 'boolean' ? MenuItemType.Checkbox : MenuItemType.Label,\n                        data: item.action,\n                        checked: item.checked === true\n                    };\n                }\n            };\n\n            const ctxMenuOptions = opts.map(convertItemToCtxMenuOption);\n\n            const handleResult = (res: ShowContextMenuResponse) => {\n                if (isDropdownShowingTimeout.current) {\n                    clearTimeout(isDropdownShowingTimeout.current);\n                }\n                isDropdownShowingTimeout.current = setTimeout(() => {\n                    setIsDropdownShowing(false);\n                    isDropdownShowingTimeout.current = null;\n                }, DEBOUNCE_TIME);\n\n                if (res.result !== 'closed') {\n                    onSelect(res.data);\n                }\n            };\n\n            const template = await Promise.all(ctxMenuOptions);\n\n            showContextMenu({\n                template: template.length ? template : [EmptyContextMenuItem],\n                x: left,\n                y: bottom + 4\n            }).then(handleResult);\n        };\n    };\n\n    return { isDropdownShowing, onShowDropdown };\n};\n","import React, { PropsWithChildren } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { CustomButtonStyleProps } from '@common/utils/base-button-props';\n\nimport { BaseCustomDropdownConfig, BaseCustomDropdownItems } from '../../api/action';\nimport { useDropdown } from '../../hooks/useDropdown';\nimport BaseCustomButton from '../CustomButton/BaseCustomButton';\n\ninterface Props extends BaseCustomDropdownConfig {\n    /* if set shows a up/down chevron next to the dropdown button */\n    showArrow?: boolean;\n    onSelect: (action?: any) => void;\n    dragging?: boolean;\n    onClick?: (e?: any) => void;\n    onContextMenu?: (event: React.MouseEvent) => void;\n}\n\nexport const BaseCustomDropdown: React.FC<PropsWithChildren<Props & CustomButtonStyleProps>> = ({\n    options,\n    onSelect,\n    showArrow,\n    children,\n    ...props\n}) => {\n    const { isDropdownShowing, onShowDropdown } = useDropdown();\n\n    const makeShowDropdown = (opts: BaseCustomDropdownItems) => {\n        if (!props.dragging && !isDropdownShowing) {\n            return onShowDropdown(opts, onSelect);\n        }\n    };\n\n    return (\n        <CustomDropdownButton\n            {...props}\n            selected={isDropdownShowing}\n            onClick={(event) => {\n                props.onClick && props.onClick(event);\n                makeShowDropdown(options)?.(event);\n            }}\n            aria-expanded={isDropdownShowing}\n            showArrow={showArrow}\n            aria-label=\"More Options\"\n        >\n            {children}\n            {showArrow && (\n                <Icon icon={isDropdownShowing ? 'TriangleUpIcon' : 'TriangleDownIcon'} size={props.size ?? 'xlarge'} />\n            )}\n        </CustomDropdownButton>\n    );\n};\n\nconst CustomDropdownButton = styled(BaseCustomButton)<{ showArrow?: boolean }>`\n    width: ${({ theme, showArrow }) => showArrow && `${theme.unit.xxxlarge + theme.unit.xlarge}px`};\n`;\n","import { useMemo } from 'react';\n\nimport OpenFin from '@openfin/core';\n\nimport { raiseDockAnalytics } from '@common/utils/usage-register';\nimport { getCurrentOFWindow } from '@common/utils/window';\n\nimport { wrapSync } from '@client-platform/api';\nimport { CompanionDockConfig, Dock3Config } from '@client-platform/shapes';\n\nexport const useActionsHandler = (\n    companionDockConfig: Dock3Config | CompanionDockConfig,\n    platformIdentity: OpenFin.Identity,\n    alwaysOnTop: boolean,\n    setAlwaysOnTop: (v: boolean) => void\n): { [key: string]: () => void } => {\n    return useMemo(\n        () => ({\n            minimize: () => {\n                getCurrentOFWindow()\n                    .minimize()\n                    .catch((err) => {\n                        console.error(`failed to minimize: ${err}`);\n                    });\n                raiseDockAnalytics(platformIdentity, {\n                    type: 'More Menu',\n                    action: 'Minimize'\n                });\n            },\n            quit: () => {\n                if (companionDockConfig.uiConfig?.moreMenu?.quitPlatform?.skipDialog) {\n                    fin.Platform.getCurrentSync().quit();\n                } else {\n                    // eslint-disable-next-line no-underscore-dangle\n                    wrapSync(platformIdentity)._requestQuitPlatformDialog({\n                        title: companionDockConfig.title,\n                        shouldCenterOnMonitor: true\n                    });\n                }\n\n                raiseDockAnalytics(platformIdentity, {\n                    type: 'More Menu',\n                    action: 'Quit'\n                });\n            },\n            alwaysOnTop: () => {\n                setAlwaysOnTop(!alwaysOnTop);\n                raiseDockAnalytics(platformIdentity, {\n                    type: 'More Menu',\n                    action: 'Always On Top'\n                });\n            }\n        }),\n        [companionDockConfig, alwaysOnTop, setAlwaysOnTop]\n    );\n};\n","import { useMemo } from 'react';\n\nexport const usePlatformIdentity = () => {\n    return useMemo(() => {\n        if (typeof window !== 'undefined' && typeof fin !== 'undefined') {\n            const currentPlatform = fin.Platform.getCurrentSync();\n            return {\n                ...currentPlatform.identity,\n                name: currentPlatform.identity.uuid\n            };\n        }\n        return null;\n    }, []);\n};\n","import { FC, useMemo } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { BaseCustomDropdownItem } from '@common/api/action';\n\nimport { BaseCustomDropdown } from '@common/components/CustomDropdown/BaseCustomDropdown';\n\nimport { CompanionDockConfig, Dock3Config } from '@client-platform/shapes';\n\nimport { MoreMenuCustomOptionPayload } from '../api/protocol';\nimport { useActionsHandler } from '../hooks/useActionsHandler';\nimport { usePlatformIdentity } from '../hooks/usePlatformIdentity';\n\ninterface Props {\n    alwaysOnTop: boolean;\n    setAlwaysOnTop: (v: boolean) => void;\n    companionDockConfig: Dock3Config | CompanionDockConfig;\n    customMenuOptions?: BaseCustomDropdownItem[];\n    customMenuLabel?: string;\n    onCustomMenuClick?: (payload: MoreMenuCustomOptionPayload) => Promise<void>;\n}\n\nconst MoreMenu: FC<Props> = ({\n    alwaysOnTop,\n    setAlwaysOnTop,\n    companionDockConfig,\n    customMenuOptions = [],\n    customMenuLabel,\n    onCustomMenuClick\n}) => {\n    const platformIdentity = usePlatformIdentity();\n    const actionHandler = useActionsHandler(companionDockConfig, platformIdentity, alwaysOnTop, setAlwaysOnTop);\n\n    const options = useMemo(() => {\n        const baseOptions: BaseCustomDropdownItem[] = [\n            { tooltip: 'Always On Top', action: 'alwaysOnTop', checked: alwaysOnTop },\n            { separator: true },\n            { tooltip: 'Minimize', action: 'minimize' },\n            { separator: true }\n        ];\n\n        const hasCustomMenuOptions = customMenuOptions.length > 0;\n\n        // Add custom menu if there are custom menu options\n        if (hasCustomMenuOptions && customMenuLabel) {\n            baseOptions.push({\n                tooltip: customMenuLabel,\n                options: customMenuOptions\n            });\n            baseOptions.push({ separator: true });\n        }\n\n        // Add quit option\n        baseOptions.push({\n            tooltip: companionDockConfig?.uiConfig?.moreMenu?.quitPlatform?.hidePlatformTitle\n                ? 'Quit'\n                : `Quit ${companionDockConfig?.title || 'Platform'}`,\n            action: 'quit'\n        });\n\n        return baseOptions;\n    }, [alwaysOnTop, companionDockConfig, customMenuOptions, customMenuLabel]);\n\n    const handleMenuAction = async (action: string) => {\n        // Handle built-in actions\n        if (actionHandler[action]) {\n            actionHandler[action]();\n            return;\n        }\n\n        // Handle custom menu actions\n        const isCustomMenuAction = customMenuOptions.some((option) => option.action === action);\n        if (isCustomMenuAction && onCustomMenuClick) {\n            await onCustomMenuClick({ action });\n            return;\n        }\n    };\n\n    return (\n        <StyledDropdown tooltip=\"More Options\" onSelect={handleMenuAction} options={options} size=\"xlarge\" rounded>\n            <Icon icon=\"DotsVerticalIcon\" size=\"xlarge\" />\n        </StyledDropdown>\n    );\n};\n\nexport default MoreMenu;\n\nconst StyledDropdown = styled(BaseCustomDropdown)`\n    -webkit-app-region: no-drag;\n    user-select: auto;\n\n    height: ${({ theme }) => theme.px.xxxlarge};\n    width: ${({ theme }) => theme.px.xxxlarge};\n\n    &:hover,\n    &:active {\n        background-color: var(--workspace-palette-styledDropdownActiveBackground);\n    }\n`;\n","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgContentMenu = function SvgContentMenu(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#140611\",\n    d: \"M8.362 3.822H3.818A1.82 1.82 0 0 0 2 5.64v4.544a1.82 1.82 0 0 0 1.818 1.818h4.544a1.82 1.82 0 0 0 1.818-1.818V5.64a1.82 1.82 0 0 0-1.818-1.818Zm13.133 1.896-3.213-3.214a1.82 1.82 0 0 0-2.57 0l-3.213 3.214a1.819 1.819 0 0 0 0 2.57l3.213 3.214c.354.355.82.532 1.285.532.465 0 .93-.177 1.285-.532l3.213-3.214a1.82 1.82 0 0 0 0-2.57ZM8.362 13.82H3.818A1.82 1.82 0 0 0 2 15.638v4.544A1.82 1.82 0 0 0 3.818 22h4.544a1.82 1.82 0 0 0 1.818-1.818v-4.544a1.82 1.82 0 0 0-1.818-1.818Zm9.998 0h-4.544a1.82 1.82 0 0 0-1.818 1.818v4.544A1.82 1.82 0 0 0 13.816 22h4.544a1.82 1.82 0 0 0 1.818-1.818v-4.544a1.82 1.82 0 0 0-1.818-1.818Z\"\n  })));\n};\nexport default SvgContentMenu;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgDockBookmark = function SvgDockBookmark(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M9.6 6.725a.625.625 0 0 0-.625.625v17.6a.625.625 0 0 0 1.01.493l5.938-4.64a.125.125 0 0 1 .154 0l5.938 4.64a.625.625 0 0 0 1.01-.493V7.35a.625.625 0 0 0-.625-.625H9.6Z\",\n    fill: \"#140611\"\n  })));\n};\nexport default SvgDockBookmark;","import OpenFin from '@openfin/core';\n\nimport { getBrowserBaseUrl } from '@common/utils/browser-base-url';\nimport { DefaultSaveMenuBounds } from '@common/utils/context-menu';\nimport { showChildWindow } from '@common/utils/menu-window-provider';\nimport { getResponseModalBoundsAndCenterParentIfModalOffScreen } from '@common/utils/modal-bounds';\nimport { PositioningType } from '@common/utils/positioning';\nimport Route from '@common/utils/route';\nimport { raiseDockAnalytics } from '@common/utils/usage-register';\nimport { getMonitorWindowMostOn, WindowName } from '@common/utils/window';\n\nimport { DOCK_COMPANION_WIDTH } from '@dock3/api/constants';\n\nimport { DockCompanionButton, OpenSaveWorkspaceMenuRequest } from '@client-platform/shapes';\n\nexport const raiseDockButtonAnalytics = (platformIdentity: OpenFin.Identity, buttonLabel?: DockCompanionButton) =>\n    raiseDockAnalytics(platformIdentity, {\n        type: 'Workspace Section',\n        action: 'Select Dock Item',\n        value: buttonLabel\n    });\n\nexport const resizeDockWindow = async (dockWindow: OpenFin.Window, height: number, anchorBottom?: boolean) => {\n    const dockWindowBounds = await dockWindow.getBounds();\n    if (anchorBottom) {\n        await dockWindow.setBounds({\n            height,\n            width: DOCK_COMPANION_WIDTH,\n            top: dockWindowBounds.bottom - height\n        });\n    } else {\n        await dockWindow.setBounds({ height, width: DOCK_COMPANION_WIDTH });\n    }\n};\n\nexport const getShouldAnchorDockAtBottom = async (dockWindow: OpenFin.Window, height: number) => {\n    const dockWindowBounds = await dockWindow.getBounds();\n    const monitorBounds = (await getMonitorWindowMostOn(dockWindowBounds)).availableRect;\n    return dockWindowBounds.top + height > monitorBounds.bottom;\n};\n\ntype MenuSearchParams = {\n    menuType: string;\n    invocationId: string;\n    id?: string;\n    positioning?: string;\n};\n\nexport const openSaveWorkspaceModal = async ({ menuType, id }: OpenSaveWorkspaceMenuRequest) => {\n    const menuOptions: MenuSearchParams = {\n        menuType,\n        invocationId: Date.now().toString(),\n        positioning: PositioningType.RelativeToMonitor\n    };\n    id && (menuOptions.id = id);\n\n    const windowOpts = {\n        url: (await getBrowserBaseUrl()) + Route.BrowserPopupMenuSaveModal,\n        // This is the name of the dialog window that will be opened for saving workspaces\n        // We set it to a specific name to avoid it being closed when indicator window closes because of the logic in (browserModalCleanup):\n        // https://github.com/openfin/workspace/blob/584e72e55ddc155a09e74d97a803d1e45c7e13bd/client-api-platform/src/init/cleanup.ts#L8\n        name: WindowName.DockSaveWorkspaceMenu,\n        defaultWidth: DefaultSaveMenuBounds.width,\n        defaultHeight: DefaultSaveMenuBounds.height\n    };\n\n    const bounds = await getResponseModalBoundsAndCenterParentIfModalOffScreen(windowOpts);\n\n    const popupWin = await showChildWindow({\n        options: {\n            url: windowOpts.url,\n            name: windowOpts.name,\n            defaultHeight: windowOpts.defaultHeight,\n            defaultWidth: windowOpts.defaultWidth,\n            defaultLeft: bounds.left,\n            defaultTop: bounds.top,\n            left: bounds.left,\n            top: bounds.top\n        },\n        parameters: new URLSearchParams(menuOptions)\n    });\n\n    return popupWin.identity;\n};\n","import { useEffect, useState } from 'react';\n\nimport type { OpenFin } from '@openfin/core';\n\nexport type Options = OpenFin.WindowOptions | OpenFin.ViewOptions;\n\nexport function useInitialOptions<T extends Options>() {\n    const [initial, setInitial] = useState<T | null>(() => {\n        if (typeof fin !== 'undefined') {\n            // @ts-expect-error undocumented property\n            return fin?.__internal_?.initialOptions ?? null;\n        }\n        return null;\n    });\n\n    useEffect(() => {\n        if (!initial) {\n            fin.me\n                .getOptions?.()\n                .then((opts) => setInitial(opts as T))\n                .catch(() => {\n                    console.error('Failed to fetch initial options');\n                });\n        }\n        // Only want to run this hook once on startup\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return initial;\n}\n","//import useIsNotificationsRunning from '@common/hooks/useIsNotificationsRunning';\n\nimport type { OpenFin } from '@openfin/core';\n\nimport { useInitialOptions } from '@common/utils/useInitialOptions';\n\nimport type { CompanionDockConfig, Dock3Config } from '@client-platform/shapes';\n\n// Union type for dock configuration\nexport type DockConfiguration = CompanionDockConfig | Dock3Config;\n\n/**\n * Custom hook that retrieves the dock buttons and workspace buttons based on the provided context.\n *\n * @param configType - The type of configuration to retrieve (CompanionDockConfig | Dock3Config).\n * @returns An object containing the workspace buttons and dock buttons that are displayed in the PanelContainer component.\n */\nexport const useCompanionDockConfiguration = <T extends DockConfiguration = DockConfiguration>(): T | null => {\n    return useInitialOptions<OpenFin.WindowOptions>()?.workspacePlatform as T;\n};\n","import React, { createContext, useCallback, useContext, useEffect, useRef, useState } from 'react';\n\nimport { BaseCustomDropdownItem } from '@common/api/action';\n\nimport { DockEntry } from '@client-platform/shapes';\n\nimport { getDock3ChannelName } from '../api/constants';\nimport { Dock3ChannelClient, MoreMenuCustomOptionPayload } from '../api/protocol';\nimport { useCompanionDockConfiguration } from '../hooks/useCompanionDockConfiguration';\nimport { Dock3Config } from '../shapes';\n\nconst DockContext = createContext<Dock3ContextValue | null>(null);\n\ntype Dock3ContextValue = {\n    config: Dock3Config;\n    launchEntry: (entry: DockEntry, event: Pick<MouseEvent, 'ctrlKey' | 'metaKey' | 'shiftKey'>) => Promise<void>;\n    setConfig: (config: Dock3Config) => void;\n    bookmarkDockEntry: (entry: DockEntry) => Promise<void>;\n    customMenuOptions?: BaseCustomDropdownItem[];\n    customMenuLabel?: string;\n    moreMenuCustomOptionClicked: (payload: MoreMenuCustomOptionPayload) => Promise<void>;\n};\n\nexport const Dock3Provider = ({ children }: { children: React.ReactNode }) => {\n    const initialConfig = useCompanionDockConfiguration<Dock3Config>();\n    const [config, setConfig] = useState<Dock3Config>(initialConfig ?? {});\n    const customMenuConfig = config?.uiConfig?.moreMenu?.moreMenuCustomOption;\n    const customMenuOptions = customMenuConfig?.options || [];\n    const customMenuLabel = customMenuConfig?.label;\n    const clientRef = useRef<Dock3ChannelClient | null>(null);\n\n    const saveConfig = useCallback((toSave: Dock3Config) => {\n        if (clientRef.current) {\n            clientRef.current.dispatch('save-config', { config: toSave }).catch((error) => {\n                console.error(new Error('Failed to refresh Dock3 config:', { cause: error }));\n            });\n        }\n    }, []);\n\n    useEffect(() => {\n        setConfig(initialConfig);\n    }, [initialConfig]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                clientRef.current = (await fin.InterApplicationBus.Channel.connect(\n                    getDock3ChannelName()\n                )) as Dock3ChannelClient;\n\n                clientRef.current.register('handle-dock-config-updated', async (newConfig: Dock3Config) => {\n                    setConfig(newConfig);\n                });\n\n                clientRef.current.dispatch('ready', undefined).catch((error) => {\n                    console.error(new Error('Failed to signal Dock3 ready state', { cause: error }));\n                });\n            } catch (error) {\n                console.error(new Error('Failed to connect to Dock3 channel:', { cause: error }));\n            }\n        })();\n\n        return () => {\n            if (clientRef.current) {\n                clientRef.current.disconnect();\n            }\n        };\n    }, [config, saveConfig, setConfig]);\n\n    const bookmarkDockEntry = useCallback(async (entry: DockEntry) => {\n        if (clientRef.current) {\n            clientRef.current.dispatch('bookmark-content-menu-entry', { entry }).catch((error) => {\n                console.error(new Error('Failed to bookmark dock entry:', { cause: error }));\n            });\n        }\n    }, []);\n\n    const launchEntry = useCallback(async (entry: DockEntry, sourceEvent: MouseEvent) => {\n        if (!clientRef.current) {\n            throw new Error('Dock3 channel client is not initialized.');\n        }\n        try {\n            await clientRef.current.dispatch('launch-entry', { entry, sourceEvent });\n        } catch (error) {\n            console.error(new Error('Failed to launch dock entry:', { cause: error }));\n            throw new Error('Failed to launch dock entry. Please try again later.');\n        }\n    }, []);\n\n    const moreMenuCustomOptionClicked = useCallback(async (payload: MoreMenuCustomOptionPayload) => {\n        if (clientRef.current) {\n            try {\n                await clientRef.current.dispatch('more-menu-custom-option-clicked', payload);\n            } catch (error) {\n                console.error('Failed to handle custom menu option click:', error);\n            }\n        }\n    }, []);\n\n    const setConfigInternal = useCallback(\n        (newConfig: Dock3Config) => {\n            setConfig(newConfig);\n            saveConfig(newConfig);\n        },\n        [setConfig, saveConfig]\n    );\n\n    return (\n        <DockContext.Provider\n            value={{\n                config,\n                launchEntry,\n                setConfig: setConfigInternal,\n                bookmarkDockEntry,\n                customMenuOptions,\n                customMenuLabel,\n                moreMenuCustomOptionClicked\n            }}\n        >\n            {children}\n        </DockContext.Provider>\n    );\n};\n\nexport function useDock3Context(): Dock3ContextValue {\n    const context = useContext(DockContext);\n    if (!context) {\n        throw new Error('useDock3 must be used within a Dock3Provider');\n    }\n    return context;\n}\n","import React, { useCallback, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport type OpenFin from '@openfin/core';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { deleteWorkspace, switchWorkspace } from '@common/utils/global-context-menu';\nimport { showSuccess } from '@common/utils/indicators/showIndicator';\nimport { PositioningType } from '@common/utils/positioning';\nimport { raiseDockAnalytics } from '@common/utils/usage-register';\n\nimport { BaseCustomDropdownItem } from '@common/api/action';\nimport { useTranslation } from '@common/api/i18next';\n\nimport { BaseCustomDropdown } from '@common/components/CustomDropdown/BaseCustomDropdown';\n\nimport {\n    deleteWorkspaceHandlerWithPayload,\n    saveWorkspaceHandlerWithInjectables\n} from '@client-platform/api/context-menu/utils';\n\nimport { openSaveWorkspaceModal } from '@dock3/components/utils';\n\nimport { wrapSync } from '@client-platform/api';\nimport { Dock3Config, GlobalContextMenuOptionType, SaveModalType, Workspace } from '@client-platform/shapes';\nimport { useDock3Context } from '@dock3/context/Dock3Context';\n\ninterface Props {\n    platformIdentity?: OpenFin.Identity;\n    dragging?: boolean;\n}\n\nconst Container = styled.span`\n    height: ${({ theme }) => theme.px.xxxlarge};\n`;\n\ntype WorkspaceContextMenuAction =\n    | { id: 'save-workspace-as' }\n    | { id: 'rename-workspace' }\n    | { id: 'new-window' }\n    | { id: 'save-workspace' }\n    | { id: 'restore-saved-workspace' }\n    | { id: 'switch-workspace'; workspace: Workspace }\n    | { id: 'delete-workspace'; workspace: Workspace };\n\nconst createDeleteSwitchWorkspaceMenuOption = (\n    action: 'delete' | 'switch',\n    savedWorkspaces: Workspace[],\n    activeWorkspace?: Workspace\n): BaseCustomDropdownItem => {\n    const workspacesOptionsList =\n        savedWorkspaces.length > 0\n            ? savedWorkspaces.map(\n                  (workspace): BaseCustomDropdownItem<WorkspaceContextMenuAction> => ({\n                      checked: workspace.workspaceId === activeWorkspace?.workspaceId,\n                      disabled: workspace.workspaceId === activeWorkspace?.workspaceId,\n                      tooltip: workspace.title,\n                      action: { id: `${action}-workspace`, workspace }\n                  })\n              )\n            : [\n                  {\n                      checked: false,\n                      disabled: true,\n                      tooltip: 'No Workspaces Saved',\n                      action: null\n                  }\n              ];\n    return {\n        tooltip: action === 'delete' ? deleteWorkspace().label : switchWorkspace().label,\n        options: workspacesOptionsList,\n        disabled: savedWorkspaces.length === 0\n    };\n};\n\nconst makeHandleOptions = (\n    t: (str: string) => string,\n    config: Dock3Config,\n    platformIdentity?: OpenFin.Identity\n): (() => Promise<BaseCustomDropdownItem[]>) => {\n    return async () => {\n        const platform = wrapSync(platformIdentity);\n        const savedWorkspaces = await platform.Storage.getWorkspaces();\n        const activeWorkspace = await platform.getCurrentWorkspace({ skipSnapshotUpdate: true });\n\n        const lastSavedWorkspace = savedWorkspaces.find(\n            (workspace) => workspace.workspaceId === activeWorkspace.workspaceId\n        );\n\n        const menuDefs: BaseCustomDropdownItem[] = [];\n\n        if (config.uiConfig?.manageWorkspaces?.newWindow) {\n            menuDefs.push({\n                tooltip: t('contextMenu.newWindow'),\n                action: { id: 'new-window' }\n            });\n            menuDefs.push({\n                separator: true\n            });\n        }\n\n        return menuDefs.concat([\n            {\n                tooltip: t('contextMenu.restore'),\n                disabled: !savedWorkspaces.some(\n                    (savedWorkspace) => savedWorkspace.workspaceId === activeWorkspace.workspaceId\n                ),\n                action: {\n                    id: 'restore-saved-workspace'\n                }\n            },\n            {\n                tooltip: t('contextMenu.saveWorkspace'),\n                disabled: !lastSavedWorkspace,\n                action: {\n                    id: 'save-workspace'\n                }\n            },\n            {\n                tooltip: t('contextMenu.saveWorkspaceAs'),\n                action: {\n                    id: 'save-workspace-as'\n                }\n            },\n            {\n                tooltip: t('contextMenu.renameWorkspace'),\n                disabled: !lastSavedWorkspace,\n                action: {\n                    id: 'rename-workspace'\n                }\n            },\n            createDeleteSwitchWorkspaceMenuOption('switch', savedWorkspaces, activeWorkspace),\n            createDeleteSwitchWorkspaceMenuOption('delete', savedWorkspaces, activeWorkspace)\n        ]);\n    };\n};\n\nexport const ManageWorkspaces: React.FC<Props> = ({ platformIdentity, dragging }) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const { config } = useDock3Context();\n    const { t } = useTranslation();\n\n    const handleSelect = useCallback(\n        async (action: WorkspaceContextMenuAction) => {\n            try {\n                setIsLoading(true);\n\n                const platform = wrapSync(platformIdentity);\n                switch (action.id) {\n                    case 'new-window': {\n                        switch (config.uiConfig?.manageWorkspaces?.newWindow?.behavior) {\n                            case 'view':\n                                await platform.createView(config.uiConfig.manageWorkspaces.newWindow.viewOptions);\n                                break;\n                            default: {\n                                const exhaustiveCheck: never = config.uiConfig?.manageWorkspaces?.newWindow?.behavior;\n                                console.error('new-window.view behavior is not supported:', exhaustiveCheck);\n                            }\n                        }\n                        break;\n                    }\n                    case 'delete-workspace': {\n                        await deleteWorkspaceHandlerWithPayload({\n                            workspaceItemData: {\n                                workspaceId: action.workspace.workspaceId,\n                                type: GlobalContextMenuOptionType.DeleteWorkspace\n                            },\n                            positioning: PositioningType.RelativeToMonitor\n                        });\n                        break;\n                    }\n                    case 'switch-workspace': {\n                        const workspace = action.workspace;\n                        raiseDockAnalytics(platformIdentity, {\n                            type: 'Workspace Selector',\n                            action: 'Switch Workspace',\n                            value: workspace.title\n                        });\n                        await platform.applyWorkspace(workspace, {\n                            shouldCenterModalOnMonitor: true,\n                            promptContainerWindowIdentity: fin.me.identity\n                        });\n                        break;\n                    }\n                    case 'restore-saved-workspace': {\n                        const result = await platform.restoreLastSavedWorkspace();\n                        if (result === 'success') {\n                            await showSuccess({\n                                message: t('dock.workspaceManagement.restoreSuccess'),\n                                parentBrowserName: platformIdentity.name,\n                                positioning: PositioningType.RelativeToMonitor\n                            });\n                        }\n                        break;\n                    }\n                    case 'save-workspace-as': {\n                        await openSaveWorkspaceModal({\n                            menuType: SaveModalType.SAVE_WORKSPACE_AS\n                        });\n                        break;\n                    }\n                    case 'save-workspace': {\n                        await saveWorkspaceHandlerWithInjectables({\n                            showModal: async () => {\n                                await openSaveWorkspaceModal({\n                                    menuType: SaveModalType.SAVE_WORKSPACE\n                                });\n                            },\n                            afterSuccessSave: async () => {\n                                await showSuccess({\n                                    message: t('successIndicator.workspaceSaved'),\n                                    parentBrowserName: fin.me.identity.name,\n                                    positioning: PositioningType.RelativeToMonitor\n                                });\n                            }\n                        });\n                        break;\n                    }\n                    case 'rename-workspace': {\n                        await openSaveWorkspaceModal({\n                            menuType: SaveModalType.RENAME_WORKSPACE\n                        });\n                        break;\n                    }\n                }\n            } finally {\n                setIsLoading(false);\n            }\n        },\n        [config.uiConfig?.manageWorkspaces?.newWindow, platformIdentity]\n    );\n\n    return (\n        <Container>\n            <BaseCustomDropdown\n                tooltip=\"Manage Workspaces\"\n                options={makeHandleOptions(t, config, platformIdentity)}\n                onSelect={handleSelect}\n                disabled={isLoading}\n                dragging={dragging}\n                showArrow\n                rounded\n                size=\"xlarge\"\n            >\n                <Icon icon=\"StackIcon\" size=\"xlarge\" />\n            </BaseCustomDropdown>\n        </Container>\n    );\n};\n\nexport default ManageWorkspaces;\n","import React, { useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport type OpenFin from '@openfin/core';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { raiseDockAnalytics } from '@common/utils/usage-register';\n\nimport { BaseCustomDropdownItem } from '@common/api/action';\n\nimport { BaseCustomDropdown } from '@common/components/CustomDropdown/BaseCustomDropdown';\n\nimport { wrapSync } from '@client-platform/api';\nimport { Workspace } from '@client-platform/shapes';\n\ninterface Props {\n    platformIdentity?: OpenFin.Identity;\n    dragging?: boolean;\n}\n\ntype WorkspaceContextMenuAction = { id: 'restore-saved-workspace' } | { id: 'switch-workspace'; workspace: Workspace };\n\nconst PlatformDockSelector: React.FC<Props> = ({ platformIdentity, dragging }) => {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleSelect = async (action: WorkspaceContextMenuAction) => {\n        try {\n            setIsLoading(true);\n\n            const platform = wrapSync(platformIdentity);\n            switch (action.id) {\n                case 'switch-workspace': {\n                    const workspace = action.workspace;\n                    raiseDockAnalytics(platformIdentity, {\n                        type: 'Workspace Selector',\n                        action: 'Switch Workspace',\n                        value: workspace.title\n                    });\n                    await platform.applyWorkspace(workspace, {\n                        shouldCenterModalOnMonitor: true\n                    });\n                    break;\n                }\n                case 'restore-saved-workspace': {\n                    await platform.restoreLastSavedWorkspace();\n                    break;\n                }\n            }\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handleOptions = async (): Promise<BaseCustomDropdownItem[]> => {\n        const platform = wrapSync(platformIdentity);\n        const savedWorkspaces = await platform.Storage.getWorkspaces();\n        const activeWorkspace = await platform.getCurrentWorkspace({ skipSnapshotUpdate: true });\n\n        const restoreOption: BaseCustomDropdownItem<WorkspaceContextMenuAction> = {\n            tooltip: 'Restore to Last Saved Changes',\n            disabled: !savedWorkspaces.some(\n                (savedWorkspace) => savedWorkspace.workspaceId === activeWorkspace.workspaceId\n            ),\n            action: {\n                id: 'restore-saved-workspace'\n            }\n        };\n\n        const workspacesOptionsList =\n            savedWorkspaces.length > 0\n                ? savedWorkspaces.map(\n                      (workspace): BaseCustomDropdownItem<WorkspaceContextMenuAction> => ({\n                          checked: workspace.workspaceId === activeWorkspace?.workspaceId,\n                          disabled: workspace.workspaceId === activeWorkspace?.workspaceId,\n                          tooltip: workspace.title,\n                          action: { id: 'switch-workspace', workspace }\n                      })\n                  )\n                : [\n                      {\n                          checked: false,\n                          disabled: true,\n                          tooltip: 'No Workspaces Saved',\n                          action: null\n                      }\n                  ];\n\n        return [restoreOption, { separator: true }, ...workspacesOptionsList];\n    };\n\n    return (\n        <Container>\n            <BaseCustomDropdown\n                tooltip=\"Saved Workspaces\"\n                options={handleOptions}\n                onSelect={handleSelect}\n                disabled={isLoading}\n                dragging={dragging}\n                showArrow\n                rounded\n                size=\"xlarge\"\n            >\n                <Icon icon=\"StackIcon\" size=\"xlarge\" />\n            </BaseCustomDropdown>\n        </Container>\n    );\n};\n\nexport default PlatformDockSelector;\n\nconst Container = styled.div`\n    height: ${({ theme }) => theme.px.xxxlarge};\n`;\n","import React, { useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport type OpenFin from '@openfin/core';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { raiseDockAnalytics } from '@common/utils/usage-register';\n\nimport { BaseCustomDropdown } from '@common/components/CustomDropdown/BaseCustomDropdown';\n\nimport { wrapSync } from '@client-platform/api';\nimport { Workspace } from '@client-platform/shapes';\n\ninterface Props {\n    platformIdentity?: OpenFin.Identity;\n    dragging?: boolean;\n}\n\nconst EnterpriseDockSelector: React.FC<Props> = ({ platformIdentity, dragging }) => {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleSelect = async (workspace: Workspace) => {\n        try {\n            setIsLoading(true);\n            const platform = wrapSync(platformIdentity);\n            raiseDockAnalytics(platformIdentity, {\n                type: 'Workspace Selector',\n                action: 'Switch Workspace',\n                value: workspace.title\n            });\n            // eslint-disable-next-line no-underscore-dangle\n            await platform._handleDockWorkspacesMenuResponseInternal(workspace);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handleOptions = async () => {\n        const platform = wrapSync(platformIdentity);\n        // eslint-disable-next-line no-underscore-dangle\n        const options = await platform._openDockWorkspacesContextMenuInternal();\n        return options;\n    };\n\n    return (\n        <StyledDropdown\n            tooltip=\"Saved Workspaces\"\n            options={handleOptions}\n            onSelect={handleSelect}\n            disabled={isLoading}\n            dragging={dragging}\n            showArrow\n            rounded\n            size=\"xlarge\"\n        >\n            <Icon icon=\"StackIcon\" size=\"xlarge\" />\n        </StyledDropdown>\n    );\n};\n\nexport default EnterpriseDockSelector;\n\nconst StyledDropdown = styled(BaseCustomDropdown)`\n    height: ${({ theme }) => theme.px.xxxlarge};\n\n    &:hover,\n    &:focus,\n    &:active {\n        background-color: var(--workspace-palette-styledDropdownActiveBackground) !important;\n    }\n`;\n","import { forwardRef, Ref, useEffect, useRef, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Reorder } from 'framer-motion';\n\ntype ReorderGroupProps<T> = {\n    /**\n     * The items to be reordered\n     */\n    items: T[];\n    /**\n     * Callback to be called when the user has finished reordering the items.\n     */\n    onReorderEnd: (e: T[]) => void;\n    children: (items: T[]) => React.ReactNode;\n    /**\n     * Whether the group is disabled\n     */\n    disabled?: boolean;\n    className?: string;\n};\n\nconst REORDER_END_DELAY = 1000;\n\nconst ReorderGroupInner = <T,>(\n    { items = [], onReorderEnd, children, disabled = false, className }: ReorderGroupProps<T>,\n    ref: Ref<HTMLUListElement>\n) => {\n    const [reorderItems, setReorderItems] = useState(items);\n    const onReorderEndTimeout = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    useEffect(() => {\n        setReorderItems(items);\n    }, [items]);\n\n    const handleReorder = (e: T[]) => {\n        if (onReorderEndTimeout.current) clearTimeout(onReorderEndTimeout.current);\n        setReorderItems(e);\n\n        onReorderEndTimeout.current = setTimeout(() => {\n            onReorderEnd(e);\n        }, REORDER_END_DELAY);\n    };\n\n    return (\n        <StyledReorderGroup\n            ref={ref} // Pass the ref here\n            className={className} // Styled-components needs this\n            axis=\"x\"\n            onReorder={handleReorder}\n            values={reorderItems}\n            disabled={disabled}\n        >\n            {children(reorderItems)}\n        </StyledReorderGroup>\n    );\n};\n\nexport const ReorderGroup = forwardRef(ReorderGroupInner) as <T>(\n    props: ReorderGroupProps<T> & { ref?: Ref<HTMLUListElement> }\n) => ReturnType<typeof ReorderGroupInner>;\n\nconst StyledReorderGroup = styled(Reorder.Group)<{ disabled: boolean }>`\n    display: flex;\n    flex-direction: row;\n    max-height: 100%;\n    height: 100%;\n    position: relative;\n    -webkit-app-region: no-drag;\n\n    ul,\n    li {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n    }\n\n    li {\n        position: relative;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex-shrink: 0;\n        cursor: ${({ disabled }) => (disabled ? 'default' : 'grab')};\n    }\n`;\n\ntype ReorderItemProps = React.ComponentProps<typeof Reorder.Item> & {\n    disabled?: boolean;\n};\n\n/** Keys for Framer Motion `Reorder.Item` **MUST** be unique else it will not work\n *  We cannot use the index of the item in the array as the index will change when items are reordered\n *  This attempts to generate a unique key for each item (for any reasonable use case)\n **/\nexport const ReorderItem = ({ disabled, children, ...props }: ReorderItemProps) => {\n    return disabled ? (\n        <li>{children}</li>\n    ) : (\n        <Reorder.Item {...props} style={{ transform: 'none' }}>\n            {children}\n        </Reorder.Item>\n    );\n};\n","import { useEffect, useRef, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { Reorder } from 'framer-motion';\n\ntype ReorderGroupProps<T> = {\n    /**\n     * The items to be reordered\n     */\n    items: T[];\n    /**\n     * Callback to be called when the user has finished reordering the items.\n     */\n    onReorderEnd: (e: T[]) => void;\n    children: (items: T[]) => React.ReactNode;\n    /**\n     * Whether the group is disabled\n     */\n    disabled?: boolean;\n};\n\nexport const ReorderGroup = <T,>({ items = [], onReorderEnd, children, disabled = false }: ReorderGroupProps<T>) => {\n    const [reorderItems, setReorderItems] = useState(items);\n    const onReorderEndTimeout = useRef<ReturnType<typeof setTimeout>>(null);\n\n    useEffect(() => {\n        setReorderItems(items);\n    }, [items]);\n\n    const handleReorder = (e: T[]) => {\n        clearTimeout(onReorderEndTimeout.current);\n        setReorderItems(e);\n\n        onReorderEndTimeout.current = setTimeout(() => {\n            onReorderEnd(e);\n        }, 1000);\n    };\n\n    return (\n        <StyledReorderGroup axis=\"x\" onReorder={handleReorder} values={reorderItems} disabled={disabled}>\n            {children(reorderItems)}\n        </StyledReorderGroup>\n    );\n};\n\nconst StyledReorderGroup = styled(Reorder.Group)<{ disabled: boolean }>`\n    display: flex;\n    flex-direction: row;\n    max-height: 100%;\n    height: 100%;\n    position: relative;\n\n    -webkit-app-region: no-drag;\n\n    ul,\n    li {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n    }\n\n    li {\n        position: relative;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex-shrink: 0;\n        cursor: ${({ disabled }) => (disabled ? 'default' : 'grab')};\n    }\n`;\n\ntype ReorderItemProps = React.ComponentProps<typeof Reorder.Item> & {\n    disabled?: boolean;\n};\n\n/** Keys for Framer Motion `Reorder.Item` **MUST** be unique else it will not work\n *  We cannot use the index of the item in the array as the index will change when items are reordered\n *  This attempts to generate a unique key for each item (for any reasonable use case)\n **/\nexport const ReorderItem = ({ disabled, children, ...props }: ReorderItemProps) => {\n    return disabled ? (\n        <li>{children}</li>\n    ) : (\n        <Reorder.Item {...props} style={{ transform: 'none' }}>\n            {children}\n        </Reorder.Item>\n    );\n};\n","import React, { useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { motion } from 'framer-motion';\nimport debounce from 'lodash.debounce';\n\nimport { Icon } from '@openfin/ui-library';\n\nimport { raiseDockAnalytics } from '@common/utils/usage-register';\nimport { homeOFIdentity, isWindowRunning, showAndFocus, storefrontOFIdentity } from '@common/utils/window';\n\nimport ContentMenuIcon from '@common/assets/icons/companionDock/content-menu.svg';\nimport DockBookmark from '@common/assets/icons/companionDock/dock-bookmark.svg';\n\nimport NotificationsButton from '@common/components/NotificationsButton/NotificationsButton';\n\nimport ManageWorkspaces from '@dock3/components/ManageWorkspaces';\nimport PlatformDockSelector from '@dock3/components/PlatformDockSelector';\n\nimport { getCurrentSync } from '@client-platform/api';\nimport { Dock3Button, DockCompanionButton } from '@client-platform/shapes';\n\nimport { usePlatformIdentity } from '../hooks/usePlatformIdentity';\n\nimport { DockComponent } from './DockComponent';\nimport { CompanionDockButton, DockCompanionSeparator } from './DockStyled';\nimport EnterpriseDockSelector from './EnterpriseDockSelector';\nimport { ReorderGroup } from './ReorderGroup';\nimport { ReorderItem } from './ReorderGroupInner';\n\n// Union type for all possible button types\nexport type DockButton = DockCompanionButton | Dock3Button;\n\nexport interface DefaultDockButtonsPanelProps {\n    expandedComponent: DockComponent;\n    toggleDockComponent: (component: DockComponent) => void;\n    // this flag will go away when we improve manage workspaces button\n    // this is necessary to support legacy workspace selector, because dock companion relies on openfin-direct custom implementation through internal platform methods\n    platformDockSelector?: boolean;\n    dockButtonsManager: {\n        defaultDockButtons: DockButton[];\n        setDefaultDockButtonsOrder: (updatedDefaultDockButtons: DockButton[]) => void;\n    };\n}\n\nexport const BUTTON_DRAG_END_DEBOUNCE = 150;\nexport const SEARCH_CLICK_DEBOUNCE = 750;\n\nexport const DefaultDockButtonsPanel = ({\n    expandedComponent,\n    toggleDockComponent,\n    dockButtonsManager,\n    platformDockSelector\n}: DefaultDockButtonsPanelProps) => {\n    const { defaultDockButtons, setDefaultDockButtonsOrder } = dockButtonsManager;\n    const [dragging, setDragging] = useState(false);\n    const platformIdentity = usePlatformIdentity();\n    // a hack to prevent strange framer behaviour when dragging favorites.\n    const [dragDisabled, setDragDisabled] = useState(true);\n\n    const defaultButtonConfig = {\n        store: {\n            renderButton: () => (\n                <CompanionDockButton\n                    tooltip=\"Store\"\n                    onClick={async () => {\n                        if (dragging) {\n                            return;\n                        }\n                        if (await isWindowRunning(storefrontOFIdentity)) {\n                            await showAndFocus(storefrontOFIdentity);\n                        }\n                    }}\n                    rounded\n                >\n                    <Icon icon=\"StorefrontIcon\" size=\"xlarge\" />\n                </CompanionDockButton>\n            )\n        },\n        switchWorkspace: {\n            renderButton: () =>\n                platformDockSelector ? (\n                    <PlatformDockSelector dragging={dragging} platformIdentity={platformIdentity} />\n                ) : (\n                    <EnterpriseDockSelector dragging={dragging} platformIdentity={platformIdentity} />\n                )\n        },\n        home: {\n            renderButton: () => (\n                <CompanionDockButton\n                    tooltip=\"Search From Home Application\"\n                    onClick={async () => {\n                        if (dragging) return;\n                        if (await isWindowRunning(homeOFIdentity)) {\n                            await showAndFocus(homeOFIdentity);\n                        }\n                        raiseDockAnalytics(platformIdentity, {\n                            type: 'Workspace Section',\n                            action: 'Select Dock Item',\n                            value: 'home'\n                        });\n                    }}\n                    rounded\n                >\n                    <Icon icon=\"MagnifyingGlassIcon\" size=\"xlarge\" />\n                </CompanionDockButton>\n            )\n        },\n        searchShortcut: {\n            renderButton: () => (\n                <CompanionDockButton\n                    tooltip=\"Search\"\n                    onClick={debounce(\n                        () => {\n                            if (dragging) {\n                                return;\n                            }\n\n                            // eslint-disable-next-line no-underscore-dangle\n                            getCurrentSync()._focusAndExpandSearchInternal();\n                        },\n                        SEARCH_CLICK_DEBOUNCE,\n                        { leading: true, trailing: false }\n                    )}\n                    rounded\n                >\n                    <Icon icon=\"MagnifyingGlassIcon\" size=\"xlarge\" />\n                </CompanionDockButton>\n            )\n        },\n        notifications: {\n            renderButton: () => <NotificationsButton oversized={true} dragging={dragging} />\n        },\n        contentMenu: {\n            renderButton: () => (\n                <CompanionDockButton\n                    tooltip=\"Content Menu\"\n                    active={expandedComponent === DockComponent.ContentMenu}\n                    onClick={() => !dragging && toggleDockComponent(DockComponent.ContentMenu)}\n                    rounded\n                >\n                    <ContentMenuIcon />\n                </CompanionDockButton>\n            )\n        },\n        bookmarks: {\n            renderButton: () => (\n                <CompanionDockButton\n                    tooltip=\"Bookmarks\"\n                    active={expandedComponent === DockComponent.Bookmarks}\n                    onClick={() => !dragging && toggleDockComponent(DockComponent.Bookmarks)}\n                    rounded\n                >\n                    <DockBookmark />\n                </CompanionDockButton>\n            )\n        },\n        manageWorkspaces: {\n            renderButton: () => <ManageWorkspaces platformIdentity={platformIdentity} dragging={dragging} />\n        }\n    };\n\n    const handleReorderEnd = (e: DockButton[]) => {\n        raiseDockAnalytics(platformIdentity, {\n            type: 'Workspace Section',\n            action: 'Move Workspace Component',\n            value: e.join(', '),\n            skipValueHashing: true\n        });\n        setDefaultDockButtonsOrder(e);\n    };\n\n    const renderButton = (btn: DockButton) => {\n        const config = defaultButtonConfig[btn as keyof typeof defaultButtonConfig];\n        if (!config) {\n            console.warn(`No button config found for: ${btn}`);\n            return null;\n        }\n        return config.renderButton();\n    };\n\n    return (\n        <>\n            <DockCompanionSeparator />\n            <List onMouseEnter={() => setDragDisabled(false)}>\n                <DefaultDockButtonsReorderGroup items={defaultDockButtons} onReorderEnd={handleReorderEnd}>\n                    {(buttons) =>\n                        buttons.map((btn) => (\n                            <ReorderItem\n                                onDragStart={() => setDragging(true)}\n                                onDragEnd={debounce(() => setDragging(false), BUTTON_DRAG_END_DEBOUNCE)}\n                                key={`dock-button-${btn}`}\n                                value={btn}\n                                disabled={dragDisabled}\n                            >\n                                {renderButton(btn)}\n                            </ReorderItem>\n                        ))\n                    }\n                </DefaultDockButtonsReorderGroup>\n            </List>\n        </>\n    );\n};\n\nconst List = styled(motion.div)`\n    display: flex;\n    overflow: hidden;\n`;\n\nconst DefaultDockButtonsReorderGroup = styled(ReorderGroup<DockButton>)`\n    display: flex;\n    align-items: center;\n    gap: ${({ theme }) => theme.px.small};\n`;\n","import { useEffect, useState } from 'react';\n\nimport { ApplicationUUID } from '@common/utils/application';\nimport { getComponentWindowStatus } from '@common/utils/window';\n\nimport { addListenerWithUUID, removeListener } from '@common/api/workspace-events';\n\nexport type ComponentsRunning = {\n    storefrontRunning: boolean;\n    homeRunning: boolean;\n};\n\nexport const useRunningComponents = (): ComponentsRunning => {\n    const [isRunning, setIsRunning] = useState<ComponentsRunning>({ homeRunning: false, storefrontRunning: false });\n\n    useEffect(() => {\n        const onComponentStatusUpdate = async () => {\n            setIsRunning(await getComponentWindowStatus());\n        };\n        addListenerWithUUID(ApplicationUUID.Workspace)('component-lifecycle-update', onComponentStatusUpdate);\n        onComponentStatusUpdate();\n        return () => {\n            removeListener('component-lifecycle-update', onComponentStatusUpdate);\n        };\n    }, []);\n\n    return isRunning;\n};\n","import { useEffect, useMemo, useState } from 'react';\n\nimport { getCurrentSync } from '@client-platform/api';\nimport { CompanionDockConfig, Dock3Button, Dock3Config, DockCompanionButton } from '@client-platform/shapes';\nimport useIsNotificationsRunning from '@common/hooks/useIsNotificationsRunning';\nimport { useRunningComponents } from '@common/hooks/useRunningComponents';\n\nexport const useDefaultDockButtonsDynamic = (\n    dockConfig: Dock3Config | CompanionDockConfig\n): [\n    (DockCompanionButton | Dock3Button)[],\n    // Updater is only used in enterprise\n    (updatedDefaultDockButtons: (DockCompanionButton | Dock3Button)[]) => void\n] => {\n    const [defaultDockButtons, setDefaultDockButtons] = useState<(DockCompanionButton | Dock3Button)[]>([]);\n    const isNotificationsRunning = useIsNotificationsRunning();\n    const { homeRunning, storefrontRunning } = useRunningComponents();\n\n    useEffect(() => {\n        setDefaultDockButtons(dockConfig?.defaultDockButtons || []);\n    }, [dockConfig]);\n\n    const dynamiclyConfigured = useMemo(\n        () =>\n            defaultDockButtons?.filter((button) => {\n                if (button === 'home' && !homeRunning) {\n                    return false;\n                }\n\n                if (button === 'notifications' && !isNotificationsRunning) {\n                    return false;\n                }\n\n                if (button === 'store' && !storefrontRunning) {\n                    return false;\n                }\n\n                return true;\n            }),\n        [defaultDockButtons, homeRunning, isNotificationsRunning, storefrontRunning]\n    );\n\n    return [\n        dynamiclyConfigured,\n        (updatedDefaultDockButtons: DockCompanionButton[]) => {\n            setDefaultDockButtons(\n                updatedDefaultDockButtons.concat(\n                    (defaultDockButtons as DockCompanionButton[]).filter((b) => !updatedDefaultDockButtons.includes(b))\n                )\n            );\n            // eslint-disable-next-line no-underscore-dangle\n            getCurrentSync()._setDefaultDockButtonsOrderInternal(updatedDefaultDockButtons);\n        }\n    ];\n};\n","import React from 'react';\n\nimport { DefaultDockButtonsPanel } from '@dock3/components/DefaultDockButtons';\nimport { DockComponent } from '@dock3/components/DockComponent';\n\nimport { CompanionDockConfig } from '@client-platform/shapes';\nimport { useCompanionDockConfiguration } from '@dock3/hooks/useCompanionDockConfiguration';\nimport { useDefaultDockButtonsDynamic } from '@dock3/hooks/useDefaultDockButtonsDynamic';\n\nexport interface DefaultDockButtonsPanelProps {\n    expandedComponent: DockComponent;\n    toggleDockComponent: (component: DockComponent) => void;\n}\n\nexport const EnterpriseDefaultDockButtonsPanel = ({\n    expandedComponent,\n    toggleDockComponent\n}: DefaultDockButtonsPanelProps) => {\n    const config = useCompanionDockConfiguration<CompanionDockConfig>();\n    const [defaultDockButtons, setDefaultDockButtonsOrder] = useDefaultDockButtonsDynamic(config);\n    return (\n        <DefaultDockButtonsPanel\n            expandedComponent={expandedComponent}\n            toggleDockComponent={toggleDockComponent}\n            dockButtonsManager={{\n                defaultDockButtons,\n                setDefaultDockButtonsOrder\n            }}\n        />\n    );\n};\n","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgContentMenuSmall = function SvgContentMenuSmall(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 13,\n    height: 12,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.521 2.594c.26.26.26.683 0 .943L9.636 5.422a.663.663 0 0 1-.943 0L6.808 3.537a.667.667 0 0 1 0-.943L8.694.708c.259-.26.683-.26.942 0l1.885 1.886Zm-10.09-.995h2.667c.367 0 .667.299.667.666v2.667c0 .367-.3.667-.667.667H1.431a.668.668 0 0 1-.666-.667V2.265c0-.367.3-.666.666-.666Zm0 5.866h2.667c.367 0 .667.3.667.667v2.667c0 .367-.3.666-.667.666H1.431a.668.668 0 0 1-.666-.666V8.132c0-.367.3-.667.666-.667Zm5.867 0h2.667c.367 0 .666.3.666.667v2.667c0 .367-.299.666-.666.666H7.298a.668.668 0 0 1-.667-.666V8.132c0-.367.3-.667.667-.667Z\",\n    fill: \"#00111B\",\n    stroke: \"#00111B\",\n    strokeWidth: 0.8\n  })));\n};\nexport default SvgContentMenuSmall;","import styled from 'styled-components';\n\nimport { ContentMenu, ContentMenuEntry, Text } from '@openfin/ui-library';\n\nimport ContentMenuIcon from '@common/assets/icons/companionDock/content-menu-small.svg';\n\nimport CloseButtonLarge from '@common/components/CloseButton/CloseButtonLarge';\n\ninterface DockContentMenuProps {\n    onClose: () => void;\n    handleClickItem: (entry: ContentMenuEntry, e: MouseEvent) => void;\n    handleFavoriteItem: (entry: ContentMenuEntry) => void;\n    contentMenu: ContentMenuEntry[];\n    contentMenuTargetId: string;\n    disableBookmarking?: boolean;\n    selectedScheme?: 'dark' | 'light';\n}\n\nconst DockContentMenu = ({\n    onClose,\n    handleClickItem,\n    contentMenu,\n    contentMenuTargetId,\n    disableBookmarking,\n    handleFavoriteItem,\n    selectedScheme\n}: DockContentMenuProps) => {\n    return (\n        <Container>\n            <ContentMenuHeader>\n                <HeaderLeft>\n                    <ContentMenuIcon />\n                    <Text as=\"h2\">Content Menu</Text>\n                </HeaderLeft>\n                <CloseButtonLarge onClick={onClose} aria-label=\"Close\" />\n            </ContentMenuHeader>\n            <ContentMenuWrapper>\n                <ContentMenu\n                    structure={contentMenu}\n                    handleBookmarkItem={handleFavoriteItem}\n                    handleClickItem={handleClickItem}\n                    targetId={contentMenuTargetId}\n                    disableBookmarking={disableBookmarking}\n                    selectedScheme={selectedScheme}\n                />\n            </ContentMenuWrapper>\n        </Container>\n    );\n};\n\nconst ContentMenuWrapper = styled.div`\n    height: 100%;\n    background-color: transparent;\n    min-height: 0;\n\n    & > div[role='tree'] > div {\n        border-right: 1px solid var(--workspace-palette-contentMenuWrapperInternalDivBorderColor);\n    }\n\n    .content-menu-item-container-active {\n        background-color: var(--workspace-palette-contentMenuItemContainerActiveBackground);\n    }\n\n    .content-menu-item-container:hover {\n        background-color: var(--workspace-palette-contentMenuItemContainerHoverBackground);\n    }\n`;\n\nexport default DockContentMenu;\n\nconst Container = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n`;\n\nconst ContentMenuHeader = styled.div`\n    height: 40px;\n    min-height: 40px; // fixes shrinking when new folder contents exceeds viewport height\n    width: 100%;\n    padding-left: ${({ theme }) => theme.px.base};\n    padding-right: ${({ theme }) => theme.px.small};\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    border-bottom: 1px solid var(--workspace-palette-contentMenuHeaderBorderColor);\n\n    ${Text} {\n        user-select: none;\n        font-weight: 500;\n    }\n`;\n\nconst HeaderLeft = styled.div`\n    display: flex;\n    align-items: center;\n    gap: ${({ theme }) => theme.px.xsmall};\n\n    svg {\n        path {\n            fill: ${({ theme }) => theme.palette.textDefault};\n            stroke: ${({ theme }) => theme.palette.textDefault};\n        }\n\n        /* Centers the content menu icon */\n        margin-bottom: 1px;\n    }\n`;\n","import React, { createContext, ReactNode, useCallback, useEffect, useState } from 'react';\n\nimport type OpenFin from '@openfin/core';\n\nimport { ContentMenuEntry } from '@openfin/ui-library';\n\nimport { raiseDockAnalytics } from '@common/utils/usage-register';\nimport { getCurrentOFWindow } from '@common/utils/window';\n\nimport { BaseCustomDropdownItem } from '@common/api/action';\nimport { CompanionDockChannelAction, createChannel, getNamedChannelClient } from '@common/api/protocol/browser';\n\nimport { DockCompanionUpdatesPrefix } from '@client-platform/api/dock';\nimport { MoreMenuCustomOptionPayload } from '@dock3/api/protocol';\n\nimport { wrapSync } from '@client-platform/api';\nimport { CompanionDockConfig, DockEntry } from '@client-platform/shapes';\nimport { useUpdateTaskbarIcon } from '@common/hooks/useUpdateTaskbarIcon';\nimport { useCompanionDockConfiguration } from '@dock3/hooks/useCompanionDockConfiguration';\nimport { usePlatformIdentity } from '@dock3/hooks/usePlatformIdentity';\n\nconst ENTERPRISE_DOCK_CHANNEL_SUFFIX = 'enterprise-dock';\n\ninterface DockContextType {\n    dockChannel: OpenFin.ChannelProvider;\n    dockConfig: CompanionDockConfig;\n    favorites: DockEntry[];\n    contentMenu: ContentMenuEntry[];\n    contentMenuTargetId: string;\n    clearContentMenuTargetId: () => void;\n    customMenuOptions?: BaseCustomDropdownItem[];\n    customMenuLabel?: string;\n    moreMenuCustomOptionClicked: (payload: MoreMenuCustomOptionPayload) => Promise<void>;\n}\n\n/*\n * DockContextProvider is a context provider that manages the state for favorites, content menu entries, and the selected content menu folder.\n * It initializes its state based on the dock window options.\n * Serving as a protocol handler between the dock and the platform, this context enables the dock to synchronize its state with platform updates received via channel messages.\n */\nexport const DockContext = createContext<DockContextType | undefined>(undefined);\n\nexport const DockContextProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n    const [favorites, setFavorites] = useState<DockEntry[]>([]);\n    const [contentMenu, setContentMenu] = useState<ContentMenuEntry[]>([]);\n    const [contentMenuTargetId, setContentMenuTargetId] = useState<string>();\n\n    const [dockChannel, setDockChannel] = useState<OpenFin.ChannelProvider>();\n    const dockConfig = useCompanionDockConfiguration<CompanionDockConfig>();\n    const customMenuConfig = dockConfig?.uiConfig?.moreMenu?.moreMenuCustomOption;\n    const customMenuOptions = customMenuConfig?.options || [];\n    const customMenuLabel = customMenuConfig?.label;\n\n    const platformIdentity = usePlatformIdentity();\n\n    useUpdateTaskbarIcon(\n        dockConfig\n            ? {\n                  light: typeof dockConfig.icon === 'object' ? dockConfig.icon.light : dockConfig?.icon ?? '',\n                  dark: typeof dockConfig.icon === 'object' ? dockConfig.icon.dark : dockConfig?.icon ?? '',\n                  custom: true\n              }\n            : undefined\n    );\n\n    const clearContentMenuTargetId = useCallback(() => {\n        setContentMenuTargetId(undefined);\n    }, []);\n\n    const registerUpdateListeners = useCallback((updateChannel: OpenFin.ChannelProvider) => {\n        updateChannel.register(CompanionDockChannelAction.UpdateFavoriteEntries, (favoritesPayload: DockEntry[]) => {\n            setFavorites(favoritesPayload);\n        });\n\n        updateChannel.register(CompanionDockChannelAction.UpdateContentMenu, (contentMenuPayload: ContentMenuEntry[]) =>\n            setContentMenu(contentMenuPayload)\n        );\n\n        updateChannel.register(CompanionDockChannelAction.NavigateContentMenu, (targetId: string) => {\n            clearContentMenuTargetId();\n            setContentMenuTargetId(targetId);\n        });\n    }, []);\n\n    useEffect(() => {\n        const windowCloseRequestHandler = () => {\n            if (dockConfig?.uiConfig?.moreMenu?.quitPlatform?.skipDialog) {\n                fin.Platform.getCurrentSync().quit();\n            } else {\n                // eslint-disable-next-line no-underscore-dangle\n                wrapSync(platformIdentity)._requestQuitPlatformDialog({\n                    title: dockConfig?.title,\n                    shouldCenterOnMonitor: true\n                });\n            }\n            raiseDockAnalytics(platformIdentity, {\n                type: 'More Menu',\n                action: 'Quit'\n            });\n        };\n\n        const win = getCurrentOFWindow();\n        win.addListener('close-requested', windowCloseRequestHandler);\n\n        return () => {\n            win.removeListener('close-requested', windowCloseRequestHandler);\n        };\n    }, [platformIdentity, dockConfig]);\n\n    useEffect(() => {\n        if (dockConfig?.title) {\n            document.title = dockConfig.title;\n        }\n    }, [dockConfig?.title]);\n\n    useEffect(() => {\n        (async () => {\n            const windowOptions = await fin.Window.getCurrentSync().getOptions();\n            const configFavorites = windowOptions.workspacePlatform.favorites as DockEntry[];\n            if (configFavorites) {\n                setFavorites(configFavorites);\n            }\n\n            const configContentMenu = windowOptions.workspacePlatform.contentMenu as ContentMenuEntry[];\n            if (configContentMenu) {\n                setContentMenu(configContentMenu);\n            }\n\n            if (!dockChannel) {\n                const channel = await createChannel(fin.me.identity, DockCompanionUpdatesPrefix);\n                registerUpdateListeners(channel);\n                setDockChannel(channel);\n            }\n        })();\n\n        return () => {\n            dockChannel.destroy();\n            setDockChannel(undefined);\n        };\n    }, [registerUpdateListeners, dockConfig]);\n\n    const moreMenuCustomOptionClicked = useCallback(async (payload: MoreMenuCustomOptionPayload): Promise<void> => {\n        // Send the action to studio via the enterprise-dock channel\n        try {\n            const enterpriseChannelClient = await getNamedChannelClient(\n                `${fin.me.identity.uuid}-${ENTERPRISE_DOCK_CHANNEL_SUFFIX}`\n            );\n            await enterpriseChannelClient.dispatch(CompanionDockChannelAction.MoreMenuCustomOptionClicked, payload);\n        } catch (error) {\n            console.error(\n                'DockContext::moreMenuCustomOptionClicked',\n                'Failed to send custom menu action to studio:',\n                error\n            );\n        }\n    }, []);\n\n    return (\n        <DockContext.Provider\n            value={{\n                dockChannel,\n                dockConfig,\n                favorites,\n                contentMenu,\n                contentMenuTargetId,\n                clearContentMenuTargetId,\n                customMenuOptions,\n                customMenuLabel,\n                moreMenuCustomOptionClicked\n            }}\n        >\n            {children}\n        </DockContext.Provider>\n    );\n};\n","import { useCallback, useContext } from 'react';\n\nimport { ContentMenuEntry } from '@openfin/ui-library';\n\nimport DockContentMenu from '@dock3/components/DockContentMenu';\n\nimport { getCurrentSync } from '@client-platform/api';\nimport { DockEntry } from '@client-platform/index';\nimport { DockContext } from '@enterprise/context/DockContext';\n\ninterface DockContentMenuProps {\n    onClose: () => void;\n}\n\nconst deleteChildren = (entry: ContentMenuEntry) => {\n    if (entry.type === 'folder') {\n        const { children, ...noChildrenEntry } = entry;\n        return noChildrenEntry;\n    }\n    return entry;\n};\n\nexport const EnterpriseDockContentMenu = ({ onClose }: DockContentMenuProps) => {\n    const { contentMenu, contentMenuTargetId } = useContext(DockContext);\n\n    const handleClickItem = useCallback((entry: ContentMenuEntry, e: MouseEvent) => {\n        // eslint-disable-next-line no-underscore-dangle\n        getCurrentSync()._launchDockEntryInternal({\n            entry: deleteChildren(entry) as DockEntry,\n            sourceEvent: {\n                ctrlKey: e.ctrlKey,\n                metaKey: e.metaKey,\n                shiftKey: e.shiftKey\n            }\n        });\n    }, []);\n\n    const handleFavoriteItem = useCallback((entry: ContentMenuEntry) => {\n        if (entry.bookmarked) {\n            // eslint-disable-next-line no-underscore-dangle\n            getCurrentSync()._removeDockFavoriteInternal(entry as DockEntry);\n        } else {\n            // eslint-disable-next-line no-underscore-dangle\n            getCurrentSync()._addDockFavoriteInternal(deleteChildren(entry) as DockEntry);\n        }\n    }, []);\n\n    return (\n        <DockContentMenu\n            onClose={onClose}\n            handleClickItem={handleClickItem}\n            handleFavoriteItem={handleFavoriteItem}\n            contentMenu={contentMenu}\n            contentMenuTargetId={contentMenuTargetId}\n        />\n    );\n};\n","var _g, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgDockFavoritesFolder = function SvgDockFavoritesFolder(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#dock-favorites-folder_svg__a)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"dock-favorites-folder_svg__b\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M11.828 5H20c1.1 0 2 .9 2 2v12.213c0 .982-.9 1.786-2 1.786H4c-1.1 0-2-.803-2-1.786V5c0-1.1.9-2 2-2H8.17a2 2 0 0 1 1.414.586l.829.828A2 2 0 0 0 11.828 5Z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M11.828 5H20c1.1 0 2 .9 2 2v12.213c0 .982-.9 1.786-2 1.786H4c-1.1 0-2-.803-2-1.786V5c0-1.1.9-2 2-2H8.17a2 2 0 0 1 1.414.586l.829.828A2 2 0 0 0 11.828 5Z\",\n    fill: \"#641E55\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m9.585 3.586.354-.354-.354.354Zm.829.828-.354.354.354-.354ZM20 4.5h-8.172v1H20v-1ZM22.5 7c0-1.376-1.124-2.5-2.5-2.5v1c.823 0 1.5.676 1.5 1.5h1Zm0 3.285V7h-1v3.285h1Zm0 .215v-.215h-1v.215h1Zm0 8.713V10.5h-1v8.713h1ZM20 21.5c1.32 0 2.5-.976 2.5-2.286h-1c0 .654-.622 1.286-1.5 1.286v1Zm-16 0h16v-1H4v1Zm-2.5-2.286c0 1.31 1.178 2.286 2.5 2.286v-1c-.88 0-1.5-.631-1.5-1.286h-1Zm0-8.713v8.713h1V10.5h-1Zm0-.215v.215h1v-.215h-1ZM1.5 5v5.285h1V5h-1ZM4 2.5A2.506 2.506 0 0 0 1.5 5h1c0-.824.676-1.5 1.5-1.5v-1Zm4.171 0H4v1H8.17v-1Zm1.768.732A2.5 2.5 0 0 0 8.17 2.5v1a1.5 1.5 0 0 1 1.06.44l.708-.708Zm.828.829-.828-.829-.707.707.828.829.707-.707Zm1.06.439a1.5 1.5 0 0 1-1.06-.44l-.707.708a2.5 2.5 0 0 0 1.768.732v-1Z\",\n    fill: \"#641E55\",\n    mask: \"url(#dock-favorites-folder_svg__b)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M9.78 15.22a.5.5 0 0 1 0-.707l3.146-3.146H11.2a.5.5 0 1 1 0-1h2.933a.5.5 0 0 1 .5.5V13.8a.5.5 0 1 1-1 0v-1.726l-3.146 3.146a.5.5 0 0 1-.707 0Z\",\n    fill: \"#fff\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"dock-favorites-folder_svg__a\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    d: \"M0 0h24v24H0z\"\n  })))));\n};\nexport default SvgDockFavoritesFolder;","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport styled from 'styled-components';\n\nimport { motion } from 'framer-motion';\nimport debounce from 'lodash.debounce';\n\nimport { Icon, Size } from '@openfin/ui-library';\n\nimport { showContextMenu } from '@common/utils/context-menu';\n\nimport { useTranslation } from '@common/api/i18next';\n\nimport DockFavoritesFolderIcon from '@common/assets/icons/companionDock/dock-favorites-folder.svg';\n\nimport { CustomIcon } from '@common/components/Icon/CustomIcon';\nimport { scrollbarStyles, ScrollShadow } from '@common/components/Scroll/Scroll';\n\nimport { DockEntry } from '@client-platform/shapes';\nimport useSystemSchemeCheck from '@common/hooks/useSystemSchemeCheck';\n\nimport { BUTTON_DRAG_END_DEBOUNCE } from './DefaultDockButtons';\nimport { CompanionDockButton } from './DockStyled';\nimport { ReorderGroup, ReorderItem } from './ReorderGroup';\n\nconst CHEVRON_SCROLL_AMOUNT = 200;\nconst CLIENT_WIDTH_TOLERANCE = 20;\nconst CHEVRON_BUTTON_WIDTH = 24;\nconst REMOVE_CONTEXT_MENU_TOP_OFFSET = 30;\nconst CHEVRON_COUNT = 2;\n\nexport type FavoritesListProps = {\n    defaultDockButtons?: string[];\n    favorites: DockEntry[];\n    launchDockFavorite: (entry: DockEntry, e: MouseEvent) => void;\n    onRemoveFavorite: (entry: DockEntry) => Promise<void>;\n    onReorderFavorites: (reorderedFavorites: DockEntry[]) => void;\n};\n\nfunction renderFavoriteItems(\n    reorderItems: DockEntry[],\n    isSchemeDark: boolean,\n    dragging: boolean,\n    setDragging: (dragging: boolean) => void,\n    launchDockFavorite: (entry: DockEntry, e: MouseEvent) => void,\n    showContextMenuFavorite: (event: React.MouseEvent, entry: DockEntry) => void\n) {\n    return reorderItems.map((favorite) => {\n        const iconURL =\n            typeof favorite.icon === 'string' || !favorite.icon\n                ? (favorite.icon as string)\n                : isSchemeDark\n                ? favorite.icon.dark\n                : favorite.icon.light;\n\n        return (\n            <ReorderItem\n                onDragStart={() => setDragging(true)}\n                onDragEnd={debounce(() => setDragging(false), BUTTON_DRAG_END_DEBOUNCE)}\n                value={favorite}\n                key={favorite.id}\n            >\n                <CompanionDockButton\n                    rounded\n                    tooltip={favorite.label}\n                    onClick={(e) => !dragging && launchDockFavorite(favorite, e.nativeEvent)}\n                    onContextMenu={(e) => showContextMenuFavorite(e, favorite)}\n                >\n                    {favorite.type === 'folder' && !iconURL ? (\n                        <DockFavoritesFolderIcon />\n                    ) : (\n                        <CustomIcon\n                            size={Size.xlarge}\n                            iconURL={iconURL}\n                            description={favorite.label}\n                            overlayIcon={\n                                favorite.type === 'item' && favorite.itemData?.appType === 'desktop'\n                                    ? 'ArrowTopRightIcon'\n                                    : undefined\n                            }\n                        />\n                    )}\n                </CompanionDockButton>\n            </ReorderItem>\n        );\n    });\n}\n\nexport const FavoritesList = ({\n    defaultDockButtons,\n    favorites,\n    launchDockFavorite,\n    onRemoveFavorite,\n    onReorderFavorites\n}: FavoritesListProps) => {\n    const list = useRef<HTMLDivElement>(null);\n    const reorderGroup = useRef<HTMLUListElement>(null);\n    const [overflow, setOverflow] = useState<boolean>(false);\n    const [disableLeftChevron, setDisableLeftChevron] = useState<boolean>(false);\n    const [disableRightChevron, setDisableRightChevron] = useState<boolean>(true);\n    const [dragging, setDragging] = useState(false);\n    const { t } = useTranslation();\n    const { isSchemeDark } = useSystemSchemeCheck();\n\n    useEffect(() => {\n        const handleResize = () => {\n            if (list.current && reorderGroup.current && favorites?.length) {\n                const favoritesListWindowWidth = list.current.clientWidth + CLIENT_WIDTH_TOLERANCE;\n                const extraWidth = CHEVRON_COUNT * CHEVRON_BUTTON_WIDTH;\n                const overflowThreshold = overflow ? favoritesListWindowWidth + extraWidth : favoritesListWindowWidth;\n                setOverflow(reorderGroup.current.clientWidth > overflowThreshold);\n                if (!overflow) {\n                    onScrollHandler();\n                }\n            }\n        };\n        requestAnimationFrame(() => requestAnimationFrame(handleResize));\n    }, [favorites?.length, overflow, defaultDockButtons]);\n\n    const handleScroll = useCallback((right: boolean) => {\n        if (list.current) {\n            list.current.scrollBy({\n                left: right ? CHEVRON_SCROLL_AMOUNT : -CHEVRON_SCROLL_AMOUNT,\n                behavior: 'smooth'\n            });\n        }\n    }, []);\n\n    const onScrollHandler = () => {\n        const element = list.current;\n        if (element) {\n            const isAtStart = element.scrollLeft === 0;\n            const isAtEnd = element.scrollWidth - element.clientWidth - element.scrollLeft <= 1;\n\n            setDisableLeftChevron(isAtStart);\n            setDisableRightChevron(isAtEnd);\n        }\n    };\n\n    const onFavoritesReorder = useCallback(\n        (reorderedFavorites: DockEntry[]) => onReorderFavorites(reorderedFavorites),\n        [onReorderFavorites]\n    );\n\n    const showContextMenuFavorite = useCallback(\n        async (event: React.MouseEvent, entry: DockEntry) => {\n            event.preventDefault();\n\n            const rect = (event.currentTarget as HTMLElement).getBoundingClientRect();\n\n            const response = await showContextMenu(\n                {\n                    x: rect.left,\n                    y: rect.top - REMOVE_CONTEXT_MENU_TOP_OFFSET,\n                    template: [\n                        {\n                            label: t('dock.removeFavorite'),\n                            data: 'remove'\n                        }\n                    ]\n                },\n                fin.Window.getCurrentSync()\n            );\n\n            if (response.data === 'remove') {\n                await onRemoveFavorite(entry);\n            }\n        },\n        [t, onRemoveFavorite]\n    );\n\n    return (\n        <>\n            {overflow && (\n                <ChevronContainer disabled={disableLeftChevron}>\n                    <Icon icon=\"ChevronLeftIcon\" onClick={() => handleScroll(false)} />\n                </ChevronContainer>\n            )}\n            <ListContainer overflow={overflow}>\n                <List layoutScroll ref={list} onScroll={onScrollHandler}>\n                    {overflow && <ScrollShadow shadowWidth=\"large\" />}\n                    <FavoritesReorderGroup ref={reorderGroup} items={favorites} onReorderEnd={onFavoritesReorder}>\n                        {(reorderItems) => {\n                            return (\n                                <>\n                                    {renderFavoriteItems(\n                                        reorderItems,\n                                        isSchemeDark,\n                                        dragging,\n                                        setDragging,\n                                        launchDockFavorite,\n                                        showContextMenuFavorite\n                                    )}\n                                </>\n                            );\n                        }}\n                    </FavoritesReorderGroup>\n                    {overflow && <ScrollShadow shadowWidth=\"large\" right />}\n                </List>\n            </ListContainer>\n            {overflow && (\n                <ChevronContainer disabled={disableRightChevron} right>\n                    <Icon icon=\"ChevronRightIcon\" onClick={() => handleScroll(true)} />\n                </ChevronContainer>\n            )}\n        </>\n    );\n};\nconst ListContainer = styled.div<{ overflow?: boolean }>`\n    height: 100%;\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    margin-left: ${({ theme, overflow }) => (!overflow ? theme.px.base : 0)};\n`;\n\nconst List = styled(motion.div)`\n    display: flex;\n    overflow-x: auto;\n    -webkit-app-region: no-drag;\n    ${scrollbarStyles({ scrollbarSize: '0px' })};\n`;\n\nconst FavoritesReorderGroup = styled(ReorderGroup<DockEntry>)`\n    display: flex;\n    align-items: center;\n    -webkit-app-region: unset;\n\n    height: ${({ theme }) => theme.px.xxxlarge};\n    gap: ${({ theme }) => theme.px.base};\n`;\n\nconst ChevronContainer = styled.div<{ disabled: boolean; right?: boolean }>`\n    height: 100%;\n    width: ${({ theme }) => theme.px.xxlarge};\n    background-color: var(--workspace-palette-fillerBackgroundColor);\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n    justify-content: center;\n    opacity: ${({ disabled }) => (disabled ? '50%' : '100%')};\n    margin-right: ${({ theme }) => theme.px.small};\n    margin-left: ${({ theme }) => theme.px.small};\n\n    ${Icon} {\n        -webkit-app-region: no-drag;\n    }\n\n    svg path {\n        fill: ${({ theme, disabled }) => (disabled ? theme.palette.inputColor : theme.palette.textDefault)};\n        stroke: ${({ theme, disabled }) => (disabled ? theme.palette.inputColor : theme.palette.textDefault)};\n    }\n`;\n","import React, { useCallback, useContext } from 'react';\n\nimport { FavoritesList } from '@dock3/components/FavoritesList';\n\nimport { getCurrentSync } from '@client-platform/api';\nimport { DockEntry } from '@client-platform/shapes';\nimport { useDefaultDockButtonsDynamic } from '@dock3/hooks/useDefaultDockButtonsDynamic';\nimport { DockContext } from '@enterprise/context/DockContext';\n\nexport const EnterpriseFavoritesList = () => {\n    const { favorites, dockConfig } = useContext(DockContext);\n    const [workspaceButtons, _] = useDefaultDockButtonsDynamic(dockConfig);\n\n    const launchDockFavorite = useCallback((entry: DockEntry, e: MouseEvent) => {\n        const { ctrlKey, metaKey, shiftKey } = e;\n        // eslint-disable-next-line no-underscore-dangle\n        getCurrentSync()._launchDockEntryInternal({\n            entry,\n            sourceEvent: {\n                ctrlKey,\n                metaKey,\n                shiftKey\n            }\n        });\n    }, []);\n\n    const onRemoveFavorite = useCallback(async (entry: DockEntry) => {\n        // eslint-disable-next-line no-underscore-dangle\n        await getCurrentSync()._removeDockFavoriteInternal(entry);\n    }, []);\n\n    const onReorderFavorites = useCallback((reorderedFavorites: DockEntry[]) => {\n        // eslint-disable-next-line no-underscore-dangle\n        getCurrentSync()._setDockFavoritesInternal(reorderedFavorites);\n    }, []);\n\n    return (\n        <FavoritesList\n            favorites={favorites}\n            launchDockFavorite={launchDockFavorite}\n            defaultDockButtons={workspaceButtons}\n            onRemoveFavorite={onRemoveFavorite}\n            onReorderFavorites={onReorderFavorites}\n        />\n    );\n};\n","import { useEffect, useState } from 'react';\n\nimport type OpenFin from '@openfin/core';\n\nconst LOCAL_STORAGE_KEY = 'alwaysOnTop';\n\nexport const useAlwaysOnTopSetting = () => {\n    const [alwaysOnTop, setAlwaysOnTop] = useState<boolean>(() => {\n        if (typeof window !== 'undefined') {\n            const storedValue = window.localStorage.getItem(LOCAL_STORAGE_KEY);\n            return storedValue !== null ? JSON.parse(storedValue) : true;\n        }\n        return true;\n    });\n\n    useEffect(() => {\n        const errorHandler = (e: any) => console.error('Error updating alwaysOnTop', e);\n        const window = fin.me as OpenFin.Window;\n        if (window) {\n            window.getOptions().then((options) => {\n                if (options.alwaysOnTop !== alwaysOnTop) {\n                    window.updateOptions({ alwaysOnTop }).catch(errorHandler);\n                }\n            });\n        }\n    }, [alwaysOnTop]);\n\n    useEffect(() => window.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(alwaysOnTop)), [alwaysOnTop]);\n\n    return [alwaysOnTop, setAlwaysOnTop] as const;\n};\n","// new file: hooks/useDockExpansion.ts\nimport { useCallback, useState } from 'react';\n\nimport type { OpenFin } from '@openfin/core';\n\nimport { DOCK_COMPANION_HEIGHT } from '@dock3/api/constants';\n\nimport { DockComponent } from '@dock3/components/DockComponent';\nimport { getDockComponentHeight } from '@dock3/components/DockLayout';\nimport { getShouldAnchorDockAtBottom, resizeDockWindow } from '@dock3/components/utils';\n\nexport const useDockExpansion = (onClose?: () => void) => {\n    const [expandedComponent, setExpandedComponent] = useState<DockComponent>();\n    const [isExpandedUp, setIsExpandedUp] = useState<boolean>();\n\n    const toggleDockComponent = useCallback(\n        async (dockComponent?: DockComponent) => {\n            const dockWindow = fin.me as OpenFin.Window;\n\n            // Toggle to close the currently expanded component\n            if (!dockComponent || dockComponent === expandedComponent) {\n                setExpandedComponent(null);\n                onClose?.(); // Call the optional on-close callback\n                resizeDockWindow(dockWindow, DOCK_COMPANION_HEIGHT, isExpandedUp);\n                return;\n            }\n\n            const newDockHeight = getDockComponentHeight(dockComponent);\n            const shouldExpandUp = expandedComponent\n                ? isExpandedUp\n                : await getShouldAnchorDockAtBottom(dockWindow, newDockHeight);\n\n            setExpandedComponent(dockComponent);\n            setIsExpandedUp(shouldExpandUp);\n            resizeDockWindow(dockWindow, newDockHeight, shouldExpandUp);\n        },\n        [expandedComponent, isExpandedUp, onClose]\n    );\n\n    return { expandedComponent, isExpandedUp, toggleDockComponent };\n};\n","import { useCallback, useContext, useEffect } from 'react';\n\nimport { withRouter } from 'next/router';\n\nimport { getThemedProviderIcon } from '@common/utils/getThemedProviderIcon';\n\n// These constants are now in DockLayout.tsx\nimport { DockComponent } from '@dock3/components/DockComponent';\nimport { DockCompanionStyles, DockLayout, getDockComponentHeight } from '@dock3/components/DockLayout';\nimport { DockCompanionSeparator } from '@dock3/components/DockStyled';\nimport MoreMenu from '@dock3/components/MoreMenu';\nimport BrowserThemeProvider from '@enterprise/components/App/ThemeProvider/BrowserThemeProvider';\nimport { EnterpriseDefaultDockButtonsPanel } from '@enterprise/components/Dock/EnterpriseDefaultDockButtonsPanel';\nimport { EnterpriseDockContentMenu } from '@enterprise/components/Dock/EnterpriseDockContentMenu';\nimport { EnterpriseFavoritesList } from '@enterprise/components/Dock/EnterpriseFavoritesList';\nimport BookmarksPanel from '@enterprise/components/PanelContainer/BookmarksPanel/BookmarksPanel';\n\nimport { BrowserContext } from '@common/hooks/context';\nimport useSystemSchemeCheck from '@common/hooks/useSystemSchemeCheck';\nimport { WindowStateProvider } from '@common/hooks/useWindowFocusState';\nimport { useAlwaysOnTopSetting } from '@dock3/hooks/useAlwaysOnTopSetting';\nimport { useDockExpansion } from '@dock3/hooks/useDockExpansion';\nimport { BookmarksContextProvider } from '@enterprise/context/BookmarksContext';\nimport { DockContext, DockContextProvider } from '@enterprise/context/DockContext';\nimport useEnterpriseContextMenu from '@enterprise/hooks/useEnterpriseContextMenu';\nimport { useIsWindows } from '@enterprise/hooks/useIsWindows';\n\nconst DockCompanion = () => {\n    useEnterpriseContextMenu();\n    const isWindows = useIsWindows();\n    const {\n        dockChannel,\n        dockConfig,\n        contentMenuTargetId,\n        clearContentMenuTargetId,\n        customMenuOptions,\n        customMenuLabel,\n        moreMenuCustomOptionClicked\n    } = useContext(DockContext);\n\n    const [alwaysOnTop, setAlwaysOnTop] = useAlwaysOnTopSetting();\n\n    const {\n        expandedComponent,\n        isExpandedUp,\n        toggleDockComponent: baseDockToggle\n    } = useDockExpansion(clearContentMenuTargetId);\n\n    // Extend toggleDockComponent to also clear the content menu target ID\n    const toggleDockComponent = useCallback(\n        (dockComponent?: DockComponent) => {\n            baseDockToggle(dockComponent);\n            if (dockComponent === DockComponent.ContentMenu) {\n                clearContentMenuTargetId();\n            }\n        },\n        [baseDockToggle, clearContentMenuTargetId]\n    );\n\n    const toggleBookmarks = useCallback(() => toggleDockComponent(DockComponent.Bookmarks), [toggleDockComponent]);\n\n    const renderExpandedContent = useCallback(() => {\n        return (\n            <BookmarksContextProvider channel={dockChannel} toggleBookmarksOverride={toggleBookmarks}>\n                {expandedComponent === DockComponent.ContentMenu && (\n                    <EnterpriseDockContentMenu onClose={() => toggleDockComponent()} />\n                )}\n                {expandedComponent === DockComponent.Bookmarks && (\n                    <BookmarksPanel onClose={() => toggleDockComponent()} />\n                )}\n            </BookmarksContextProvider>\n        );\n    }, [expandedComponent, toggleDockComponent, dockChannel, toggleBookmarks]);\n\n    useEffect(() => {\n        if (contentMenuTargetId) {\n            if (expandedComponent !== DockComponent.ContentMenu) {\n                toggleDockComponent(DockComponent.ContentMenu);\n            }\n        }\n    }, [contentMenuTargetId, expandedComponent, toggleDockComponent]);\n\n    // Get UI configuration\n    const { hideDragHandle, providerIconContentMenu } = dockConfig?.uiConfig || {};\n    const { isSchemeDark } = useSystemSchemeCheck();\n\n    // The buttons panel to render in the left section\n    const renderButtonsPanel = useCallback(\n        () => (\n            <EnterpriseDefaultDockButtonsPanel\n                expandedComponent={expandedComponent}\n                toggleDockComponent={toggleDockComponent}\n            />\n        ),\n        [expandedComponent, toggleDockComponent]\n    );\n\n    // Center content is the favorites list\n    const renderCenterContent = useCallback(() => <EnterpriseFavoritesList />, []);\n\n    // Prepare the content for the right section of the dock\n    const renderRightSectionContent = useCallback(\n        () => (\n            <>\n                <DockCompanionSeparator />\n                <MoreMenu\n                    alwaysOnTop={alwaysOnTop}\n                    setAlwaysOnTop={setAlwaysOnTop}\n                    companionDockConfig={dockConfig}\n                    customMenuOptions={customMenuOptions}\n                    customMenuLabel={customMenuLabel}\n                    onCustomMenuClick={moreMenuCustomOptionClicked}\n                />\n            </>\n        ),\n        [alwaysOnTop, setAlwaysOnTop, dockConfig, customMenuOptions, customMenuLabel, moreMenuCustomOptionClicked]\n    );\n\n    return (\n        <DockLayout\n            isWindows={isWindows}\n            isExpandedUp={isExpandedUp}\n            expandedComponent={expandedComponent}\n            windowHeight={getDockComponentHeight(expandedComponent)}\n            // Left section props\n            hideDragHandle={hideDragHandle}\n            providerIconContentMenu={providerIconContentMenu}\n            iconURL={getThemedProviderIcon(dockConfig, isSchemeDark)}\n            title={dockConfig?.title}\n            isContentMenuOn={expandedComponent === DockComponent.ContentMenu}\n            onProviderIconClick={() => toggleDockComponent(DockComponent.ContentMenu)}\n            description={dockConfig?.title}\n            renderButtonsPanel={renderButtonsPanel}\n            renderCenterContent={renderCenterContent}\n            renderRightSectionContent={renderRightSectionContent}\n            renderExpandedContent={renderExpandedContent}\n        />\n    );\n};\n\nconst Dock = () => {\n    return (\n        <BrowserContext>\n            <BrowserThemeProvider>\n                <WindowStateProvider>\n                    <DockContextProvider>\n                        <DockCompanionStyles />\n                        <DockCompanion />\n                    </DockContextProvider>\n                </WindowStateProvider>\n            </BrowserThemeProvider>\n        </BrowserContext>\n    );\n};\n\nexport default withRouter(Dock);\n"],"names":["window","__NEXT_P","push","__webpack_require__","DockComponent","_path","dock_bookmark_path","content_menu_small_path","_g","_defs","getThemedProviderIcon","provider","isSchemeDark","icon","dark","light","DragIcon","styled","Icon","theme","param","palette","textDefault","CompanionDockButton","BaseCustomButton","px","xxxlarge","active","DockContainer","Box","background2","isWindows","css","MAC_WINDOW_BORDER_RADIUS","isComponentExpanded","isExpandedUp","DockCompanionSeparator","div","withConfig","xxlarge","ProviderIcon","iconURL","title","isContentMenuOn","onClick","jsx_runtime","jsxs","ProviderIconContainer","rounded","tooltip","jsx","CustomIcon","description","size","concat","unit","xlarge","getDockComponentHeight","component","ContentMenu","Bookmarks","DOCK_COMPANION_HEIGHT","DockCompanionStyles","createGlobalStyle","DockExpandedContainer","windowHeight","DOCK_COMPANION_WIDTH","Filler","DockCompanionContainer","base","DockComponentContainer","DockSectionContainer","small","DragFiller","DockLayout","expandedComponent","renderCenterContent","renderRightSectionContent","renderExpandedContent","hideDragHandle","providerIconContentMenu","onProviderIconClick","renderButtonsPanel","urlToBase64","url","width","height","img","document","createElement","crossOrigin","canvas","ctx","getContext","Promise","onload","console","warn","drawImage","resolve","toDataURL","onerror","src","useDropdown","isDropdownShowing","setIsDropdownShowing","useState","isDropdownShowingTimeout","useRef","onShowDropdown","options","onSelect","event","bottom","left","currentTarget","getBoundingClientRect","opts","convertItemToCtxMenuOption","item","baseProperties","iconUrl","label","enabled","disabled","separator","type","MenuItemType","Separator","submenu","all","map","checked","Checkbox","Label","data","action","ctxMenuOptions","template","showContextMenu","length","EmptyContextMenuItem","x","y","then","current","clearTimeout","setTimeout","res","result","BaseCustomDropdown","props","showArrow","children","makeShowDropdown","dragging","CustomDropdownButton","selected","aria-expanded","aria-label","useActionsHandler","companionDockConfig","platformIdentity","alwaysOnTop","setAlwaysOnTop","useMemo","minimize","getCurrentOFWindow","catch","error","err","raiseDockAnalytics","quit","uiConfig","moreMenu","quitPlatform","skipDialog","fin","Platform","getCurrentSync","wrapSync","_requestQuitPlatformDialog","shouldCenterOnMonitor","usePlatformIdentity","currentPlatform","identity","name","uuid","components_MoreMenu","customMenuOptions","customMenuLabel","onCustomMenuClick","actionHandler","baseOptions","hidePlatformTitle","handleMenuAction","isCustomMenuAction","some","option","StyledDropdown","_extends","Object","assign","bind","n","e","arguments","t","r","hasOwnProperty","call","apply","content_menu","react","fill","xmlns","d","dock_bookmark_extends","dock_bookmark","fillRule","clipRule","resizeDockWindow","dockWindow","anchorBottom","dockWindowBounds","getBounds","setBounds","top","getShouldAnchorDockAtBottom","monitorBounds","getMonitorWindowMostOn","availableRect","openSaveWorkspaceModal","menuType","id","menuOptions","invocationId","Date","now","toString","positioning","PositioningType","RelativeToMonitor","windowOpts","getBrowserBaseUrl","Route","BrowserPopupMenuSaveModal","WindowName","DockSaveWorkspaceMenu","defaultWidth","DefaultSaveMenuBounds","defaultHeight","bounds","getResponseModalBoundsAndCenterParentIfModalOffScreen","popupWin","showChildWindow","defaultLeft","defaultTop","parameters","URLSearchParams","useCompanionDockConfiguration","useInitialOptions","initial","setInitial","__internal_","initialOptions","useEffect","me","getOptions","workspacePlatform","DockContext","createContext","Container","span","createDeleteSwitchWorkspaceMenuOption","savedWorkspaces","activeWorkspace","workspacesOptionsList","workspace","workspaceId","deleteWorkspace","switchWorkspace","makeHandleOptions","config","platform","Storage","getWorkspaces","getCurrentWorkspace","skipSnapshotUpdate","lastSavedWorkspace","find","menuDefs","manageWorkspaces","newWindow","savedWorkspace","components_ManageWorkspaces","isLoading","setIsLoading","useDock3Context","context","useContext","useTranslation","handleSelect","useCallback","behavior","createView","viewOptions","exhaustiveCheck","deleteWorkspaceHandlerWithPayload","workspaceItemData","GlobalContextMenuOptionType","DeleteWorkspace","value","applyWorkspace","shouldCenterModalOnMonitor","promptContainerWindowIdentity","restoreLastSavedWorkspace","showSuccess","message","parentBrowserName","SaveModalType","SAVE_WORKSPACE_AS","saveWorkspaceHandlerWithInjectables","showModal","SAVE_WORKSPACE","afterSuccessSave","RENAME_WORKSPACE","components_PlatformDockSelector","handleOptions","components_EnterpriseDockSelector","_handleDockWorkspacesMenuResponseInternal","_openDockWorkspacesContextMenuInternal","ReorderGroup","forwardRef","ref","items","onReorderEnd","className","reorderItems","setReorderItems","onReorderEndTimeout","StyledReorderGroup","axis","onReorder","values","Reorder","ReorderItem","li","style","transform","DefaultDockButtonsPanel","toggleDockComponent","dockButtonsManager","platformDockSelector","defaultDockButtons","setDefaultDockButtonsOrder","setDragging","dragDisabled","setDragDisabled","defaultButtonConfig","store","renderButton","isWindowRunning","storefrontOFIdentity","showAndFocus","PlatformDockSelector","EnterpriseDockSelector","home","homeOFIdentity","searchShortcut","debounce","_focusAndExpandSearchInternal","leading","trailing","notifications","NotificationsButton","oversized","contentMenu","ContentMenuIcon","bookmarks","DockBookmark","ManageWorkspaces","btn","Fragment","List","onMouseEnter","DefaultDockButtonsReorderGroup","join","skipValueHashing","buttons","onDragStart","onDragEnd","motion","useRunningComponents","isRunning","setIsRunning","homeRunning","storefrontRunning","onComponentStatusUpdate","getComponentWindowStatus","addListenerWithUUID","ApplicationUUID","Workspace","removeListener","useDefaultDockButtonsDynamic","setDefaultDockButtons","isNotificationsRunning","useIsNotificationsRunning","dockConfig","filter","button","updatedDefaultDockButtons","includes","b","_setDefaultDockButtonsOrderInternal","EnterpriseDefaultDockButtonsPanel","content_menu_small_extends","content_menu_small","stroke","strokeWidth","ContentMenuWrapper","components_DockContentMenu","onClose","handleClickItem","contentMenuTargetId","disableBookmarking","handleFavoriteItem","selectedScheme","ContentMenuHeader","HeaderLeft","Text","as","CloseButtonLarge","structure","handleBookmarkItem","targetId","xsmall","undefined","DockContextProvider","favorites","setFavorites","setContentMenu","setContentMenuTargetId","dockChannel","setDockChannel","customMenuConfig","moreMenuCustomOption","useUpdateTaskbarIcon","custom","clearContentMenuTargetId","registerUpdateListeners","updateChannel","register","CompanionDockChannelAction","UpdateFavoriteEntries","favoritesPayload","UpdateContentMenu","contentMenuPayload","NavigateContentMenu","windowCloseRequestHandler","win","addListener","windowOptions","Window","configFavorites","configContentMenu","channel","createChannel","DockCompanionUpdatesPrefix","destroy","moreMenuCustomOptionClicked","payload","enterpriseChannelClient","getNamedChannelClient","ENTERPRISE_DOCK_CHANNEL_SUFFIX","dispatch","MoreMenuCustomOptionClicked","Provider","deleteChildren","entry","noChildrenEntry","EnterpriseDockContentMenu","_launchDockEntryInternal","sourceEvent","ctrlKey","metaKey","shiftKey","bookmarked","_removeDockFavoriteInternal","_addDockFavoriteInternal","DockContentMenu","dock_favorites_folder_extends","dock_favorites_folder","clipPath","mask","FavoritesList","launchDockFavorite","onRemoveFavorite","onReorderFavorites","list","reorderGroup","overflow","setOverflow","disableLeftChevron","setDisableLeftChevron","disableRightChevron","setDisableRightChevron","useSystemSchemeCheck","handleResize","favoritesListWindowWidth","clientWidth","overflowThreshold","CHEVRON_COUNT","onScrollHandler","requestAnimationFrame","handleScroll","scrollBy","right","element","isAtStart","scrollLeft","isAtEnd","scrollWidth","onFavoritesReorder","reorderedFavorites","showContextMenuFavorite","preventDefault","rect","response","ChevronContainer","ListContainer","layoutScroll","onScroll","ScrollShadow","shadowWidth","FavoritesReorderGroup","favorite","nativeEvent","onContextMenu","Size","overlayIcon","itemData","appType","DockFavoritesFolderIcon","scrollbarStyles","scrollbarSize","inputColor","EnterpriseFavoritesList","workspaceButtons","_","_setDockFavoritesInternal","LOCAL_STORAGE_KEY","useAlwaysOnTopSetting","storedValue","localStorage","getItem","JSON","parse","errorHandler","updateOptions","setItem","stringify","useDockExpansion","setExpandedComponent","setIsExpandedUp","dockComponent","newDockHeight","shouldExpandUp","DockCompanion","useEnterpriseContextMenu","useIsWindows","baseDockToggle","toggleBookmarks","BookmarksContextProvider","toggleBookmarksOverride","BookmarksPanel","MoreMenu","pages_dock","withRouter","BrowserContext","BrowserThemeProvider","WindowStateProvider"],"sourceRoot":""}