(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{9913:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/context-menu",function(){return n(7856)}])},5988:function(e,t,n){"use strict";n.d(t,{d:function(){return f}});var r=n(4246),o=n(7378),a=n(5191),i=n(4861);let l=e=>{let[t,n]=(0,o.useState)(!0),r=(0,o.useRef)(0),a=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(!e){n(!1);return}let t=new Image;return t.onload=()=>{n(!0)},t.onerror=()=>{r.current+=1,n(!1),r.current<3&&(a.current=setTimeout(()=>{t.src=e},1e3))},t.src=e,()=>{t.onload=null,t.onerror=null,a.current&&clearTimeout(a.current)}},[e]),t};var s=n(328);let u=e=>{let{iconURL:t,useDynamicDimensions:n=!1,customIconAccessible:r=!1,maxHeight:a=36}=e,[i,l]=(0,o.useState)(null),[s,u]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),p=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(l(null),u(!1),d(!1),!n||!t||!r)return;u(!0);let e=new Image;return p.current=e,e.onload=()=>{if(e.naturalWidth&&e.naturalHeight){let t=e.naturalWidth/e.naturalHeight,n=e.naturalWidth,r=e.naturalHeight;r>a&&(r=a,n=a*t),l({width:"".concat(Math.round(n),"px"),height:"".concat(Math.round(r),"px")})}u(!1)},e.onerror=()=>{d(!0),u(!1)},e.src=t,()=>{e.onload=null,e.onerror=null}},[t,r,n,a]),{dynamicDimensions:i,isLoading:s,hasError:c}},c=(0,a.default)(i.Icon).withConfig({componentId:"sc-c705254c-0"})([".icons-large &{--px-icon:",";--px-container:",";}"],e=>{let{theme:t}=e;return t.iconSize.large},e=>{let{theme:t}=e;return t.iconSize.large}),d=a.default.div.withConfig({componentId:"sc-d2ba4d90-0"})(["min-height:",";min-width:",";background-image:",";background-size:cover;background-repeat:no-repeat;mask:",";background-color:",";.icons-large &{min-height:",";min-width:",";}"],e=>{let{theme:t,size:n,dynamicHeight:r}=e;return r||(n?t.iconSize[n]:"13px")},e=>{let{theme:t,size:n,dynamicWidth:r}=e;return r||(n?t.iconSize[n]:"13px")},e=>{let{applyThemeColor:t,iconURL:n}=e;return!t&&n?"url(".concat(n,")"):"none"},e=>{let{applyThemeColor:t,iconURL:n}=e;return t&&n?"url(".concat(n,")"):"none"},e=>{let{applyThemeColor:t,iconURL:n,theme:r}=e;return t&&n?r.palette.textDefault:"inherit"},e=>{let{theme:t,dynamicHeight:n}=e;return n||t.iconSize.large},e=>{let{theme:t,dynamicWidth:n}=e;return n||t.iconSize.large}),p=(0,a.default)(i.Box).withConfig({componentId:"sc-d2ba4d90-1"})(["min-height:",";min-width:",";border-radius:",";flex-shrink:0;user-select:none;background-color:",";text-transform:uppercase;text-align:center;font-weight:bold;font-size:",";place-content:center;place-items:center;color:white;"],e=>{let{theme:t,size:n}=e;return n?t.iconSize[n]:"13px"},e=>{let{theme:t,size:n}=e;return n?t.iconSize[n]:"13px"},e=>{let{theme:t}=e;return t.radius.small},e=>{let{backgroundColor:t}=e;return t},e=>{let{size:t}=e;return i.FontSize[t]}),h=(0,a.default)(i.Box).withConfig({componentId:"sc-d2ba4d90-2"})(["position:absolute;bottom:0;right:0;background-color:",";border-radius:",";border:2px solid ",";"],e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.radius.small},e=>{let{theme:t}=e;return t.palette.background1}),g=(0,a.default)(i.Icon).withConfig({componentId:"sc-d2ba4d90-3"})(["svg path{fill:",";}--px-icon:",";--px-container:",";--px-default:",";"],e=>{let{theme:t}=e;return t.palette.background1},e=>{let{customSize:t}=e;return"".concat(t,"px")},e=>{let{customSize:t}=e;return"".concat(t,"px")},e=>{let{customSize:t}=e;return"".concat(t,"px")}),f=e=>{let{applyThemeColor:t,iconURL:n,testId:a,size:f,description:m,backgroundColor:b,overlayIcon:w,fallbackIcon:x="BrokenLinkIcon",useDynamicDimensions:v=!1,maxHeight:y,...C}=e,k=(0,o.useMemo)(()=>(null==n?void 0:n.startsWith("data:"))?'"'.concat(n,'"'):n,[n]),{isEnterprise:I}=(0,o.useContext)(s.B6),S=l(n),{dynamicDimensions:B}=u({iconURL:n,useDynamicDimensions:v,customIconAccessible:S,maxHeight:y}),E=k&&S,M=(null!=b?b:!E&&m)?(0,i.generateColorFromString)(m):"",z=null==m?void 0:m.substring(0,1);return(0,r.jsxs)(r.Fragment,{children:[E?(0,r.jsx)(d,{applyThemeColor:t,iconURL:k,"data-testid":a,size:f,dynamicWidth:null==B?void 0:B.width,dynamicHeight:null==B?void 0:B.height,...C}):m?(0,r.jsx)(p,{backgroundColor:M,size:f,children:z}):I?(0,r.jsx)(i.Icon,{icon:"EnterpriseGlobeIcon"}):(0,r.jsx)(c,{icon:x,"data-testid":a,size:f,...C}),w&&(0,r.jsx)(h,{children:(0,r.jsx)(g,{icon:w,customSize:10})})]})}},5757:function(e,t,n){"use strict";var r=n(7378),o=n(6125),a=n(4861),i=n(4039);t.Z=function(){let[e,t]=(0,r.useState)(!1),n=(0,o.v9)(i.E0),[l,s]=(0,r.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");return(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{s(e.matches?"dark":"light")};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}},[]),(0,r.useEffect)(()=>{switch(n){case a.ColorScheme.system:t(l===a.ColorScheme.dark);break;case a.ColorScheme.dark:t(!0);break;case a.ColorScheme.light:t(!1)}},[l,n]),{systemScheme:l,isSchemeDark:e,currentScheme:n}}},9221:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});let r="10px"},1015:function(e,t,n){"use strict";n.d(t,{H$:function(){return d},LI:function(){return o},PR:function(){return p},QW:function(){return u},Wx:function(){return a},X0:function(){return s},_Q:function(){return l},cy:function(){return r},if:function(){return i},z9:function(){return c}});let r="enterprise-logo-custom-icon",o="lock-button-locked-state",a="lock-button-unlocked-state",i="bookmark-panel-container",l={backButton:"enterprise-nav-back-button",forwardButton:"enterprise-nav-forward-button",reloadButton:"enterprise-nav-reload-button",stopButton:"enterprise-nav-stop-button",addressBarInput:"enterprise-nav-address-bar-input",addressBarContainer:"enterprise-nav-address-bar-container",zoomButton:"enterprise-nav-zoom-button",bookmarkButton:"enterprise-nav-bookmark-button"},s={saveButton:"enterprise-toolbar-save-button",globalMenuButton:"enterprise-toolbar-global-menu-button",bookmarksPanelButton:"enterprise-toolbar-bookmarks-panel-button",aiCompanionButton:"enterprise-toolbar-ai-companion-button",notificationsButton:"enterprise-toolbar-notifications-button"},u={pageTabButton:"enterprise-page-tab-button",pageTabCloseButton:"enterprise-page-tab-close-button",newPageButton:"enterprise-page-new-page-button",tabContainer:"enterprise-page-tab-container"},c={container:"enterprise-landing-page-container",recentSitesContainer:"enterprise-landing-page-recent-sites-container",brandLogoContainer:"enterprise-landing-page-brand-logo-container",timeContainer:"enterprise-landing-page-time-container",siteGridContainer:"enterprise-landing-page-site-grid-container"},d={searchResultItem:"enterprise-search-result-item",viewMoreResultsButton:"enterprise-search-view-more-results-button",searchFilterButton:"enterprise-search-filter-button",clearFiltersButton:"enterprise-search-clear-filters-button",noResultsContainer:"enterprise-search-no-results-container",resultsContainer:"enterprise-search-results-container"},p={responseModalContainer:"enterprise-modal-response-container",responseModalTitle:"enterprise-modal-response-title",responseModalBody:"enterprise-modal-response-body",responseModalCloseButton:"enterprise-modal-response-close-button",responseModalTextInput:"enterprise-modal-response-text-input",saveModalContainer:"enterprise-modal-save-container",saveModalInput:"enterprise-modal-save-input",saveModalSaveButton:"enterprise-modal-save-save-button",saveModalCancelButton:"enterprise-modal-save-cancel-button"}},8990:function(e,t,n){"use strict";var r=n(4246),o=n(7378),a=n(6125),i=n(5191),l=n(1015),s=n(4039),u=n(5988),c=n(5757);let d=(0,i.default)(u.d).withConfig({componentId:"sc-2cd98e10-0"})(["min-width:100%;min-height:100%;width:100%;height:100%;"]);t.Z=e=>{let{size:t}=e,n=(0,a.v9)(s.N7),{isSchemeDark:i}=(0,c.Z)(),u=(0,o.useMemo)(()=>{if(n)return i?n.theme.dark:n.theme.light},[n,i]),p=(0,o.useMemo)(()=>{var e,t;return null==u?void 0:null===(t=u.brand)||void 0===t?void 0:null===(e=t.icons)||void 0===e?void 0:e.symbol},[u]);return(0,r.jsx)(r.Fragment,{children:p&&(0,r.jsx)("span",{role:"img","aria-label":"Company Logo",style:{display:"inline-block",width:"100%",height:"100%"},children:(0,r.jsx)(d,{size:t,iconURL:p,testId:l.cy})})})}},6774:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var r=n(7378),o=n(1171);let a=()=>{let[e,t]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{t(await (0,o.O)())})()},[]),e}},2320:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(7378),o=n(1230),a=n(5802);let i=(e,t,n,i)=>{let l=(0,r.useRef)(null),[s,u]=(0,r.useState)(null),c=(0,r.useCallback)(async e=>{let t=fin.me;await t.isShowing()&&e.type!==o.Yo.ZoomControls&&await t.blur(),u(e)},[]),d=(0,r.useCallback)(async t=>{if(!s)return;let r=fin.Window.wrapSync({name:e,uuid:fin.me.uuid}),c=fin.Window.wrapSync(s.parentIdentity);if(await r.updateOptions({experimental:{parentIdentity:s.parentIdentity}}),await r.prependOnceListener("hidden",async()=>{s.parentIdentity.name!==a.IA.EnterpriseBookmarkDialogWindow&&await r.updateOptions({experimental:{parentIdentity:{uuid:"__NON_EXISTENT",name:"__NON_EXISTENT"}}})}),n){await n(t);return}try{var d,p,h;let{height:n,width:r,top:a,left:g}=t;fin.me.once("blurred",()=>u(null));let f=await c.showPopupWindow({name:e,resultDispatchBehavior:"hide",blurBehavior:null!==(p=null==i?void 0:i.blurBehavior)&&void 0!==p?p:"hide",hideOnClose:!0,focus:!0,height:n,width:r,x:g,y:a,additionalOptions:{alwaysOnTop:!0,contextMenuOptions:{enabled:!0,template:["inspect"]}}}),m="requestId"in s&&(s.type===o.Yo.ContextMenu||s.type===o.Yo.GlobalMenu)?"response-".concat(s.requestId):"response";await (null===(d=l.current)||void 0===d?void 0:d.dispatch(s.responseIdentity,m,f)),(null==i?void 0:i.forwardTopicName)&&(null===(h=l.current)||void 0===h||h.publish(i.forwardTopicName,f))}catch(e){console.error("Error showing popup:",e)}},[s]),p=(0,r.useCallback)(async e=>{try{if(null==i?void 0:i.dispatchDirectlyToChannel){if(s){var t,n;await (null===(t=l.current)||void 0===t?void 0:t.dispatch(s.responseIdentity,"response",e)),i.forwardTopicName&&Promise.all(null===(n=l.current)||void 0===n?void 0:n.publish(i.forwardTopicName,e)).catch(()=>{})}("cancel"===e.type||"dropdown-blurred"===e.type)&&u(null)}else await (0,a.lQ)().dispatchPopupResult(e),s&&(fin.Window.wrapSync(s.parentIdentity).focus(),u(null))}catch(e){console.error("Error handling response:",e)}},[s]);return(0,r.useEffect)(()=>{let e=async()=>{let e=await t();e.register("open",c),l.current=e};try{e()}catch(e){console.error("Error setting up channel:",e)}return()=>{l.current&&(l.current.destroy(),l.current=null)}},[c,t]),{channelRef:l,payload:s,showPopup:d,onResponse:p}}},7856:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(4246),o=n(6677),a=n(7885),i=n(1230),l=n(5802),s=n(5191),u=n(4861),c=n(8751),d=n(9894),p=n(8990),h=n(9221),g=e=>{let{messageData:t,showPopup:n,onResponse:o,isWindows:a}=e,s=t.type===i.Yo.GlobalMenu,h=async()=>{let{x:e,y:r,anchorBehavior:o}=t;window.requestAnimationFrame(()=>{window.requestAnimationFrame(async()=>{let a=document.getElementById(u.BASE_CONTEXT_MENU).getBoundingClientRect(),i=fin.Window.wrapSync(t.parentIdentity),l=await i.getBounds({boundsType:"current"}),s=await (0,d.Kn)(i),p=(0,c.hX)({height:a.height,width:a.width,top:s?r+7:r,left:s?e+7:e},o);n(await (0,d.rJ)(l,p))})})},g=async(e,n)=>{let{x:r,y:o,anchorBehavior:a}=t,i=await (0,d.vo)(t.parentIdentity),s=(0,c.hX)({height:e,width:n,top:i.top+o,left:i.left+r},a),u=await (0,d.nt)(s),p=(0,l.lQ)();await p.animate({size:{height:e,width:n,duration:200},position:{left:u.left,top:u.top,duration:200,relative:!1}},{interrupt:!0,tween:"linear"})};return(0,r.jsx)(f,{isWindows:a,children:(0,r.jsx)(u.CustomContextMenu,{icon:s&&(0,r.jsx)(m,{children:(0,r.jsx)(p.Z,{size:"small"})}),menuTemplate:t.payload.template,onContextMenuReady:h,onMenuResize:g,onClick:o,isWindows:a})})};let f=s.default.div.withConfig({componentId:"sc-afa33d4-0"})(["position:fixed;height:100%;width:100%;background:",";overflow:hidden;",""],e=>{let{theme:t}=e;return t.palette.background2},e=>{let{isWindows:t}=e;return!t&&(0,s.css)(["border:1px solid ",";border-radius:",";box-shadow:none;"],e=>{let{theme:t}=e;return t.palette.background5},h.Y)}),m=s.default.div.withConfig({componentId:"sc-afa33d4-1"})(["height:",";width:",";"],e=>{let{theme:t}=e;return t.px.xlarge},e=>{let{theme:t}=e;return t.px.xlarge});var b=n(7378),w=n(8615);let x=async(e,t,n)=>{let r=(0,w.a)(),o=await r.Storage.getPage(t);await r.Storage.updatePage({pageId:t,page:{...o,title:e}}),await n.updatePage({pageId:t,page:{title:e}})};var v=e=>{let{messageData:t,showPopup:n,onResponse:o,isWindows:a}=e,[i,l]=(0,b.useState)(""),[s,u]=(0,b.useState)(!1),c=(0,b.useRef)(),p=(0,b.useRef)();(0,b.useEffect)(()=>{(async()=>{let e=(0,w.a)().Browser.wrapSync(t.parentIdentity);l((await e.getPage(t.payload.pageId)).title),c.current.select();let{x:r,y:o}=t,a=p.current.getBoundingClientRect(),i=fin.Window.wrapSync(t.parentIdentity),s=await i.getBounds({boundsType:"current"}),u=await (0,d.Kn)(i);n(await (0,d.rJ)(s,{height:a.height,width:a.width,left:u?r+7:r,top:u?o+7:o}))})()},[]),(0,b.useEffect)(()=>{p.current&&fin.me.setBounds({height:p.current.scrollHeight})},[s]);let h=async e=>{if("Enter"===e.key){let e=await (0,w.a)().Storage.getPages(),n=null==e?void 0:e.find(e=>(null==e?void 0:e.title)===i);if(n&&n.pageId!==t.payload.pageId)u(!0);else{if(""!==i){let e=(0,w.a)().Browser.wrapSync(t.parentIdentity);x(i,t.payload.pageId,e)}o()}}else"Escape"===e.key&&o()};return(0,r.jsx)(y,{children:(0,r.jsxs)(C,{ref:p,isWindows:a,children:[(0,r.jsx)(k,{value:i,ref:c,showError:s,onChange:e=>{l(e.target.value),s&&u(!1)},onKeyDown:h}),s&&(0,r.jsx)(I,{children:"Supertab name already exists."})]})})};let y=s.default.div.withConfig({componentId:"sc-ac42128b-0"})(["overflow:hidden;"]),C=s.default.div.withConfig({componentId:"sc-ac42128b-1"})(["width:fit-content;padding:",";background-color:",";border:",";"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.palette.background1},e=>{let{theme:t,isWindows:n}=e;return n&&"1px solid ".concat(t.palette.background3)}),k=(0,s.default)(u.BaseInput).withConfig({componentId:"sc-ac42128b-2"})(["box-sizing:border-box;line-height:",";font-size:",";height:",";padding:",";width:300px;box-shadow:unset;",""],e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.fontSize.large},e=>{let{theme:t}=e;return t.px.xxxlarge},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t,showError:n}=e;return n&&"\n            border: 1px solid ".concat(t.palette.statusCritical,"\n            border-bottom-left-radius: 0px;\n            border-bottom-right-radius: 0px;\n\n            &:focus {\n                border: 1px solid ").concat(t.palette.statusCritical,"\n            }\n        ")}),I=s.default.div.withConfig({componentId:"sc-ac42128b-3"})(["color:#ffffff;padding:0px ",";line-height:",";background-color:",";border-bottom-left-radius:",";border-bottom-right-radius:",";"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.xxlarge},e=>{let{theme:t}=e;return t.palette.statusCritical},e=>{let{theme:t}=e;return t.px.xsmall},e=>{let{theme:t}=e;return t.px.xsmall});var S=n(2228),B=n(6774),E=n(2320),M=(0,o.withRouter)(e=>{let{router:t}=e,n=(0,B.C)(),{payload:o,showPopup:s,onResponse:u}=(0,E.C)(l.IA.EnterpriseContextMenu,a.B,void 0,{blurBehavior:"hide"});return(0,r.jsx)(S.Z,{children:(()=>{switch(null==o?void 0:o.type){case i.Yo.GlobalMenu:case i.Yo.ContextMenu:return(0,r.jsx)(g,{messageData:o,onResponse:u,showPopup:s,isWindows:n});case i.Yo.RenameSupertab:return(0,r.jsx)(v,{messageData:o,onResponse:u,showPopup:s,isWindows:n});default:return(0,r.jsx)(r.Fragment,{})}})()})})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9913)}),_N_E=e.O()}]);
//# sourceMappingURL=context-menu-72b8ccd29e53f067.js.map