{"version":3,"file":"static/chunks/69.08294a4900967018.js","mappings":"oGAkBIA,sFAFJ,IAAMC,EAAmB,GAAgC,GAAuBC,MAAAA,CATvD,8BASoD,KAAoBA,MAAAA,CAAjBA,EAASC,IAAI,CAAC,KAAiBC,MAAA,CAAdF,EAASG,IAAI,EAQvG,eAAeC,QAA8BC,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAAmB,CAACC,EAAAA,EAAOA,CAAC,CACtE,CAAEC,SAAAA,CAAQ,CAAE,CAAG,MAAMC,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,OAC3Bb,EAAsB,MAAOe,EAASb,KAE9BK,EAAiBS,IAAI,CAAC,GAAUb,IAASD,EAASC,IAAI,GACtDY,EAAQb,QAAQ,CAACG,IAAI,GAAKY,EAAAA,EAAOA,EACjCF,EAAQb,QAAQ,CAACC,IAAI,GAAKK,EAAAA,EAAOA,EAEjC,MAAMC,EAASM,EAAQG,KAAK,CAEpC,EAEA,IAAMC,EAAYlB,EAAiBmB,EAAAA,EAAiBA,EAEpDC,CADgB,MAAMC,IAAIC,mBAAmB,CAACC,OAAO,CAACC,MAAM,CAACN,EAAAA,EACrDO,QAAQ,CA9BM,kBA8Bc1B,EACxC","sources":["webpack://_N_E/../common/src/utils/window-navigation.ts"],"sourcesContent":["import type OpenFin from '@openfin/core';\n\nimport type PageRoute from '@common/utils/route';\n\nimport { finName, finUUID } from './env';\nimport { currentOFIdentity, WindowIdentity } from './window';\n\nconst crossWinNavTopic = '__cross_window_navigation__';\nconst crossWinNavAction = 'navigate-window';\n\ninterface CrossWindowNavigationRequest {\n    type: 'request';\n    identity: OpenFin.Identity;\n    route: string;\n}\n\nconst getCrossWinNavId = (identity: OpenFin.Identity) => `${crossWinNavTopic}-${identity.uuid}-${identity.name}`;\n\nlet crossWinNavListener: (payload: CrossWindowNavigationRequest, identity: OpenFin.ProviderIdentity) => Promise<void>;\n\n/**\n * Allow other OpenFin windows within a given list of applications\n * to navigate the current window to a different route.\n */\nexport async function enableCrossOFWindowNavigation(applicationUUIDs = [finUUID]): Promise<void> {\n    const { navigate } = await import('./router');\n    crossWinNavListener = async (payload, identity) => {\n        if (\n            applicationUUIDs.some((uuid) => uuid === identity.uuid) &&\n            payload.identity.name === finName &&\n            payload.identity.uuid === finUUID\n        ) {\n            await navigate(payload.route);\n        }\n    };\n\n    const channelId = getCrossWinNavId(currentOFIdentity);\n    const channel = await fin.InterApplicationBus.Channel.create(channelId);\n    channel.register(crossWinNavAction, crossWinNavListener);\n}\n\n/**\n * Instruct another OpenFin window to navigate.\n * The target OpenFin window identity must have cross window navigation enabled.\n * To enable cross window navigation, see `enableCrossWindowNavigation`.\n */\nexport async function navigateOFWindow(identity: WindowIdentity, route: PageRoute | string): Promise<void> {\n    const channelId = getCrossWinNavId(identity);\n    const channel = await fin.InterApplicationBus.Channel.connect(channelId);\n\n    // Await channel dispatch to ensure that the OF window has navigated before resolving\n    // the promise returned by this function.\n    await channel.dispatch(crossWinNavAction, { route, identity });\n\n    await channel.disconnect();\n}\n"],"names":["crossWinNavListener","getCrossWinNavId","identity","uuid","concat","name","enableCrossOFWindowNavigation","applicationUUIDs","finUUID","navigate","Promise","resolve","then","__webpack_require__","bind","payload","some","finName","route","channelId","currentOFIdentity","channel","fin","InterApplicationBus","Channel","create","register"],"sourceRoot":""}