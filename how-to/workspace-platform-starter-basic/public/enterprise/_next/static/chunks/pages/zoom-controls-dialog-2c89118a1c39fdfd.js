(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{2951:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/zoom-controls-dialog",function(){return n(2286)}])},3325:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(7378);let a=(e,t)=>{let n=(0,r.useRef)();n.current=(0,r.useCallback)(async()=>{e||(t&&t(),await fin.me.hide())},[e,t]),(0,r.useEffect)(()=>{let e=async()=>{n.current&&n.current()};return(async()=>{await fin.me.on("blurred",e),await fin.me.on("hidden",e)})(),()=>{fin.me.removeListener("blurred",e),fin.me.removeListener("hidden",e)}},[])}},6774:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(7378),a=n(1171);let i=()=>{let[e,t]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{t(await (0,a.O)())})()},[]),e}},2320:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(7378),a=n(1230),i=n(5802);let o=(e,t,n,o)=>{let l=(0,r.useRef)(null),[s,u]=(0,r.useState)(null),c=(0,r.useCallback)(async e=>{let t=fin.me;await t.isShowing()&&e.type!==a.Yo.ZoomControls&&await t.blur(),u(e)},[]),d=(0,r.useCallback)(async t=>{if(!s)return;let r=fin.Window.wrapSync({name:e,uuid:fin.me.uuid}),c=fin.Window.wrapSync(s.parentIdentity);if(await r.updateOptions({experimental:{parentIdentity:s.parentIdentity}}),await r.prependOnceListener("hidden",async()=>{s.parentIdentity.name!==i.IA.EnterpriseBookmarkDialogWindow&&await r.updateOptions({experimental:{parentIdentity:{uuid:"__NON_EXISTENT",name:"__NON_EXISTENT"}}})}),n){await n(t);return}try{var d,f,p;let{height:n,width:r,top:i,left:h}=t;fin.me.once("blurred",()=>u(null));let w=await c.showPopupWindow({name:e,resultDispatchBehavior:"hide",blurBehavior:null!==(f=null==o?void 0:o.blurBehavior)&&void 0!==f?f:"hide",hideOnClose:!0,focus:!0,height:n,width:r,x:h,y:i,additionalOptions:{alwaysOnTop:!0,contextMenuOptions:{enabled:!0,template:["inspect"]}}}),m="requestId"in s&&(s.type===a.Yo.ContextMenu||s.type===a.Yo.GlobalMenu)?"response-".concat(s.requestId):"response";await (null===(d=l.current)||void 0===d?void 0:d.dispatch(s.responseIdentity,m,w)),(null==o?void 0:o.forwardTopicName)&&(null===(p=l.current)||void 0===p||p.publish(o.forwardTopicName,w))}catch(e){console.error("Error showing popup:",e)}},[s]),f=(0,r.useCallback)(async e=>{try{if(null==o?void 0:o.dispatchDirectlyToChannel){if(s){var t,n;await (null===(t=l.current)||void 0===t?void 0:t.dispatch(s.responseIdentity,"response",e)),o.forwardTopicName&&Promise.all(null===(n=l.current)||void 0===n?void 0:n.publish(o.forwardTopicName,e)).catch(()=>{})}("cancel"===e.type||"dropdown-blurred"===e.type)&&u(null)}else await (0,i.lQ)().dispatchPopupResult(e),s&&(fin.Window.wrapSync(s.parentIdentity).focus(),u(null))}catch(e){console.error("Error handling response:",e)}},[s]);return(0,r.useEffect)(()=>{let e=async()=>{let e=await t();e.register("open",c),l.current=e};try{e()}catch(e){console.error("Error setting up channel:",e)}return()=>{l.current&&(l.current.destroy(),l.current=null)}},[c,t]),{channelRef:l,payload:s,showPopup:d,onResponse:f}}},2286:function(e,t,n){"use strict";n.r(t),n.d(t,{ZoomControlsDialogPage:function(){return D},default:function(){return L}});var r,a,i=n(4246),o=n(7378),l=n(6677),s=n(7885),u=n(9894),c=n(5802),d=n(5191),f=n(4861),p=n(5452);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var w=function(e){return o.createElement("svg",h({width:12,height:2,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.433 1a.5.5 0 0 1 .5-.5h10.134a.5.5 0 1 1 0 1H.933a.5.5 0 0 1-.5-.5Z",fill:"#140611"})))};function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var v=function(e){return o.createElement("svg",m({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.625 2.934a.625.625 0 0 0-1.25 0v4.441H2.933a.625.625 0 0 0 0 1.25h4.442v4.442a.625.625 0 1 0 1.25 0V8.625h4.442a.625.625 0 1 0 0-1.25H8.625V2.934Z",fill:"#fff"})))};let g=e=>{let{container:t,timeout:n=3e3}=e,r=(0,o.useRef)(),a=(0,o.useCallback)(()=>{clearTimeout(r.current),r.current=void 0},[]),i=(0,o.useCallback)(()=>{r.current&&a(),r.current=setTimeout(async()=>{await fin.me.hide()},n)},[a,n]),l=(0,o.useCallback)(()=>{a(),i()},[i,a]);return(0,o.useEffect)(()=>((async()=>{await fin.Window.getCurrentSync().on("shown",i)})(),()=>{fin.Window.getCurrentSync().removeListener("shown",i),a()}),[i,a]),(0,o.useEffect)(()=>(t&&(t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",i)),()=>{t&&(t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",i))}),[t,i,a]),{restartTimer:l}};var y=n(3325),x=n(6774);let b=e=>{let t=(0,o.useRef)(),[n,r]=(0,o.useState)(100),{restartTimer:a}=g({container:t.current}),l=(0,x.C)();(0,o.useEffect)(()=>{if(e.messageData){let{x:n,y:i,payload:o}=e.messageData,{height:l,width:s}=t.current.getBoundingClientRect();r(o.zoomPercent),e.showPopup({height:l,width:s,left:n,top:i}),a()}},[e.messageData,e.showPopup]);let s=async()=>{e.onResponse&&e.onResponse({type:"cancel",payload:{zoomPercent:n}}),document.body.focus(),fin.me.hide()};(0,y.i)(!1,s);let u=async t=>{let n=fin.View.wrapSync(e.messageData.payload.selectedViewIdentity);"in"===t?r(Math.round(await (0,p.rs)(n))):r(Math.round(await (0,p.iz)(n)))},c=async()=>{let t=fin.View.wrapSync(e.messageData.payload.selectedViewIdentity);await (0,p.bD)(t),r(100)};return(0,i.jsxs)(C,{ref:t,isWindows:l,children:[(0,i.jsx)(E,{children:(0,i.jsxs)(f.Text,{children:[n,"%"]})}),(0,i.jsxs)(k,{children:[(0,i.jsx)(T,{onClick:()=>u("out"),children:(0,i.jsx)(w,{})}),(0,i.jsx)(T,{onClick:()=>u("in"),children:(0,i.jsx)(v,{})})]}),(0,i.jsx)(j,{kind:"textOnly",onClick:c,children:(0,i.jsx)(f.Text,{children:"Reset"})})]})},C=(0,d.default)(f.Box).withConfig({componentId:"sc-23703365-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:100%;padding:",";padding-left:",";gap:",";border:",";border-radius:",";"],e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t}=e;return t.px.base},e=>{let{theme:t}=e;return t.px.small},e=>{let{theme:t,isWindows:n}=e;return n?"1px solid ".concat(t.palette.background4):"none"},e=>{let{theme:t,isWindows:n}=e;return n?t.radius.small:""}),E=(0,d.default)(f.Box).withConfig({componentId:"sc-23703365-1"})(["display:flex;align-items:center;justify-content:flex-start;width:55px;cursor:default;"]),k=(0,d.default)(f.Box).withConfig({componentId:"sc-23703365-2"})(["display:flex;align-items:center;justify-content:center;width:52px;gap:",";"],e=>{let{theme:t}=e;return t.px.small}),T=d.default.button.withConfig({componentId:"sc-23703365-3"})(["width:24px;height:24px;display:flex;align-items:center;justify-content:center;background-color:transparent;border-radius:",";&:hover{background-color:",";}svg{fill:",";path{fill:",";}}"],e=>{let{theme:t}=e;return t.radius.small},e=>{let{theme:t}=e;return t.palette.background4},e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.palette.textDefault}),j=(0,d.default)(f.Button).withConfig({componentId:"sc-23703365-4"})(["width:49px;height:24px;display:flex;align-items:center;justify-content:center;color:",";border:1px solid ",";border-radius:",";font-weight:500;&:hover{background-color:",";}"],e=>{let{theme:t}=e;return t.palette.textDefault},e=>{let{theme:t}=e;return t.palette.background4},e=>{let{theme:t}=e;return t.radius.small},e=>{let{theme:t}=e;return t.palette.background4});var I=n(2228),O=n(328),_=n(2320);let D=()=>{let e=(0,o.useCallback)(async e=>{let t=fin.me;await t.isShowing()||(await t.setBounds(await (0,u.nt)(e)),await t.show())},[]),{channelRef:t,payload:n,showPopup:r,onResponse:a}=(0,_.C)(c.IA.ZoomControlsDialog,s.S3,e,{dispatchDirectlyToChannel:!0,forwardTopicName:"zoom-controls-dialog-action"});return(0,i.jsx)(I.Z,{children:(0,i.jsx)(O.B6.Provider,{value:{isEnterprise:!0},children:(0,i.jsx)(b,{channelRef:t,messageData:n,showPopup:r,onResponse:a})})})};var L=(0,l.withRouter)(D)},5452:function(e,t,n){"use strict";n.d(t,{_Y:function(){return r},bD:function(){return u},iz:function(){return s},rs:function(){return l}});let r={percentToLevel(e){try{return Math.round(Math.log(e/100)/Math.log(1.2)*100)/100}catch(e){return console.error("Error converting percent to level:",e),0}},levelToPercent(e){try{return Math.round(100*Math.pow(1.2,e))}catch(e){return console.error("Error converting level to percent:",e),100}}},a=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500],i=a[a.length-1],o=a[0];async function l(e){let t;let n=r.levelToPercent(await e.getZoomLevel());if(n>=i)return n;let o=a.indexOf(n);return t=-1===o?a.find(e=>e>n):a[o+1],await e.setZoomLevel(r.percentToLevel(t)),t}async function s(e){let t;let n=r.levelToPercent(await e.getZoomLevel());if(n<=o)return n;let i=a.indexOf(n);if(-1===i){for(let e=a.length-1;e>=0;e--)if(a[e]<n){t=a[e];break}}else t=a[i-1];return await e.setZoomLevel(r.percentToLevel(t)),t}async function u(e){await e.setZoomLevel(r.percentToLevel(100))}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2951)}),_N_E=e.O()}]);
//# sourceMappingURL=zoom-controls-dialog-2c89118a1c39fdfd.js.map