(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{2352:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dropdown-menu",function(){return t(7233)}])},3325:function(e,n,t){"use strict";t.d(n,{i:function(){return i}});var r=t(7378);let i=(e,n)=>{let t=(0,r.useRef)();t.current=(0,r.useCallback)(async()=>{e||(n&&n(),await fin.me.hide())},[e,n]),(0,r.useEffect)(()=>{let e=async()=>{t.current&&t.current()};return(async()=>{await fin.me.on("blurred",e),await fin.me.on("hidden",e)})(),()=>{fin.me.removeListener("blurred",e),fin.me.removeListener("hidden",e)}},[])}},6774:function(e,n,t){"use strict";t.d(n,{C:function(){return a}});var r=t(7378),i=t(1171);let a=()=>{let[e,n]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{n(await (0,i.O)())})()},[]),e}},2320:function(e,n,t){"use strict";t.d(n,{C:function(){return o}});var r=t(7378),i=t(1230),a=t(5802);let o=(e,n,t,o)=>{let u=(0,r.useRef)(null),[l,s]=(0,r.useState)(null),d=(0,r.useCallback)(async e=>{let n=fin.me;await n.isShowing()&&e.type!==i.Yo.ZoomControls&&await n.blur(),s(e)},[]),c=(0,r.useCallback)(async n=>{if(!l)return;let r=fin.Window.wrapSync({name:e,uuid:fin.me.uuid}),d=fin.Window.wrapSync(l.parentIdentity);if(await r.updateOptions({experimental:{parentIdentity:l.parentIdentity}}),await r.prependOnceListener("hidden",async()=>{l.parentIdentity.name!==a.IA.EnterpriseBookmarkDialogWindow&&await r.updateOptions({experimental:{parentIdentity:{uuid:"__NON_EXISTENT",name:"__NON_EXISTENT"}}})}),t){await t(n);return}try{var c,p,f;let{height:t,width:r,top:a,left:w}=n;fin.me.once("blurred",()=>s(null));let h=await d.showPopupWindow({name:e,resultDispatchBehavior:"hide",blurBehavior:null!==(p=null==o?void 0:o.blurBehavior)&&void 0!==p?p:"hide",hideOnClose:!0,focus:!0,height:t,width:r,x:w,y:a,additionalOptions:{alwaysOnTop:!0,contextMenuOptions:{enabled:!0,template:["inspect"]}}}),y="requestId"in l&&(l.type===i.Yo.ContextMenu||l.type===i.Yo.GlobalMenu)?"response-".concat(l.requestId):"response";await (null===(c=u.current)||void 0===c?void 0:c.dispatch(l.responseIdentity,y,h)),(null==o?void 0:o.forwardTopicName)&&(null===(f=u.current)||void 0===f||f.publish(o.forwardTopicName,h))}catch(e){console.error("Error showing popup:",e)}},[l]),p=(0,r.useCallback)(async e=>{try{if(null==o?void 0:o.dispatchDirectlyToChannel){if(l){var n,t;await (null===(n=u.current)||void 0===n?void 0:n.dispatch(l.responseIdentity,"response",e)),o.forwardTopicName&&Promise.all(null===(t=u.current)||void 0===t?void 0:t.publish(o.forwardTopicName,e)).catch(()=>{})}("cancel"===e.type||"dropdown-blurred"===e.type)&&s(null)}else await (0,a.lQ)().dispatchPopupResult(e),l&&(fin.Window.wrapSync(l.parentIdentity).focus(),s(null))}catch(e){console.error("Error handling response:",e)}},[l]);return(0,r.useEffect)(()=>{let e=async()=>{let e=await n();e.register("open",d),u.current=e};try{e()}catch(e){console.error("Error setting up channel:",e)}return()=>{u.current&&(u.current.destroy(),u.current=null)}},[d,n]),{channelRef:u,payload:l,showPopup:c,onResponse:p}}},7233:function(e,n,t){"use strict";t.r(n),t.d(n,{DropdownMenuPopup:function(){return y},default:function(){return m}});var r=t(4246),i=t(7378),a=t(7885),o=t(9894),u=t(5802),l=t(5191),s=t(4861),d=t(3325);let c=l.default.div.withConfig({componentId:"sc-57ed644d-0"})(["width:100%;height:100%;overflow:hidden;button{span{font-size:"," !important;}cursor:default !important;}.active_context_menu{width:","px;& > div > div{height:32px;}span{padding-right:",";font-size:",";}}"],e=>{let{theme:n}=e;return n.fontSize.large},e=>{let{width:n}=e;return n},e=>{let{theme:n}=e;return n.px.small},e=>{let{theme:n}=e;return n.fontSize.large}),p=e=>{var n;let{messageData:t,showPopup:a,onResponse:o,isWindows:u}=e,l=(0,i.useRef)(),p=async()=>{let{x:e,y:n}=t,{width:r,height:i}=document.getElementById(s.BASE_CONTEXT_MENU).getBoundingClientRect();a({height:i,width:r,left:e,top:n})};(0,d.i)(!1,()=>{o({type:"dropdown-blurred"})});let f=t.payload.width,w=null!==(n=t.payload.template)&&void 0!==n?n:[];return(0,r.jsx)(c,{ref:l,width:f,children:(0,r.jsx)(s.CustomContextMenu,{menuTemplate:w,onClick:e=>{o({type:"value-changed",data:e}),fin.me.hide()},onContextMenuReady:p,isWindows:u})})};var f=t(2228),w=t(6774),h=t(2320);let y=()=>{let e=(0,w.C)(),n=(0,i.useCallback)(async e=>{let n=fin.me;await n.setBounds(await (0,o.nt)(e)),await n.bringToFront(),await n.show(),await n.focus()},[]),{payload:t,showPopup:l,onResponse:s}=(0,h.C)(u.IA.DropdownMenu,a.fg,n,{dispatchDirectlyToChannel:!0});return(0,r.jsx)(f.Z,{children:t&&(0,r.jsx)(p,{messageData:t,showPopup:l,onResponse:s,isWindows:e})})};var m=y}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2352)}),_N_E=e.O()}]);
//# sourceMappingURL=dropdown-menu-d2ee6b6c7425bed8.js.map