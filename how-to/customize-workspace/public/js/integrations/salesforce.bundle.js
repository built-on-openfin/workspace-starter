/******/ var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/salesforce/openfin.salesforce.js":
/*!****************************************************************!*\
  !*** ./node_modules/@openfin/salesforce/openfin.salesforce.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApiError": () => (/* binding */ o),
/* harmony export */   "AuthorizationError": () => (/* binding */ s),
/* harmony export */   "ConnectionError": () => (/* binding */ i),
/* harmony export */   "ObjectDataError": () => (/* binding */ a),
/* harmony export */   "ParameterError": () => (/* binding */ c),
/* harmony export */   "QueryError": () => (/* binding */ u),
/* harmony export */   "RestApiError": () => (/* binding */ l),
/* harmony export */   "SearchError": () => (/* binding */ f),
/* harmony export */   "WorkspaceError": () => (/* binding */ d),
/* harmony export */   "connect": () => (/* binding */ p),
/* harmony export */   "disableLogging": () => (/* binding */ h),
/* harmony export */   "enableLogging": () => (/* binding */ w),
/* harmony export */   "getConnection": () => (/* binding */ m)
/* harmony export */ });
var e={421:(e,t,r)=>{e.exports=r(448)},994:(e,t,r)=>{var n=r(446),o=r(322),s=r(58),i=r(982),a=r(63),c=r(541),u=r(497),l=r(988),f=r(242),d=r(14);e.exports=function(e){return new Promise((function(t,r){var p,h=e.data,w=e.headers,m=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(h)&&delete w["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";w.Authorization="Basic "+btoa(y+":"+b)}var x=a(e.baseURL,e.url);function E(){if(g){var n="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,s={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};o((function(e){t(e),v()}),(function(e){r(e),v()}),s),g=null}}if(g.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(E)},g.onabort=function(){g&&(r(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var k=(e.withCredentials||u(x))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;k&&(w[e.xsrfHeaderName]=k)}"setRequestHeader"in g&&n.forEach(w,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete w[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){g&&(r(!e||e&&e.type?new d("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),g.send(h)}))}},448:(e,t,r)=>{var n=r(446),o=r(962),s=r(495),i=r(149),a=function e(t){var r=new s(t),a=o(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(r(242));a.Axios=s,a.Cancel=r(14),a.CancelToken=r(543),a.isCancel=r(181),a.VERSION=r(474).version,a.all=function(e){return Promise.all(e)},a.spread=r(67),a.isAxiosError=r(726),e.exports=a,e.exports.default=a},14:e=>{function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},543:(e,t,r)=>{var n=r(14);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},181:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},495:(e,t,r)=>{var n=r(446),o=r(982),s=r(582),i=r(862),a=r(149),c=r(166),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new s,response:new s}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var f=[i,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(l),s=Promise.resolve(t);f.length;)s=s.then(f.shift(),f.shift());return s}for(var d=t;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{s=i(d)}catch(e){return Promise.reject(e)}for(;l.length;)s=s.then(l.shift(),l.shift());return s},l.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=l},582:(e,t,r)=>{var n=r(446);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},63:(e,t,r)=>{var n=r(452),o=r(123);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},988:(e,t,r)=>{var n=r(477);e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},862:(e,t,r)=>{var n=r(446),o=r(255),s=r(181),i=r(242),a=r(14);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},477:e=>{e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},149:(e,t,r)=>{var n=r(446);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||s,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}},322:(e,t,r)=>{var n=r(988);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},255:(e,t,r)=>{var n=r(446),o=r(242);e.exports=function(e,t,r){var s=this||o;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},242:(e,t,r)=>{var n=r(446),o=r(964),s=r(477),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(994)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u},474:e=>{e.exports={version:"0.26.0"}},962:e=>{e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},982:(e,t,r)=>{var n=r(446);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},123:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},58:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},452:e=>{e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},726:(e,t,r)=>{var n=r(446);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},497:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},964:(e,t,r)=>{var n=r(446);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},541:(e,t,r)=>{var n=r(446),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},67:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},166:(e,t,r)=>{var n=r(474).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,i){if(!1===e)throw new Error(o(n," has been removed"+(t?" in "+t:"")));return t&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,i)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],i=t[s];if(i){var a=e[s],c=void 0===a||i(a,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:o}},446:(e,t,r)=>{var n=r(962),o=Object.prototype.toString;function s(e){return Array.isArray(e)}function i(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)f(arguments[n],r);return t},extend:function(e,t,r){return f(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{r.d(n,{MS:()=>o,M_:()=>s,hY:()=>i,G4:()=>a,_W:()=>c,o:()=>u,C3:()=>f,fB:()=>l,if:()=>d,$j:()=>T,U$:()=>w,U7:()=>m,B5:()=>$});var e=r(421),t=r.n(e);class o extends Error{constructor(e="An unexpected error has occurred",t){var r;super(e),t&&(this.innerError=t&&t),this.stack=null===(r=this.stack)||void 0===r?void 0:r.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class s extends o{constructor(e="Unable to authorize connection to Salesforce",t){var r,n,o;super(e,t),t&&t.isAxiosError&&(t.message=null!==(o=null===(n=null===(r=t.response)||void 0===r?void 0:r.data)||void 0===n?void 0:n.error_description)&&void 0!==o?o:t.message)}}class i extends o{constructor(e="Not connected to Salesforce",t){super(e,t)}}class a extends o{constructor(e="Retrieve Salesforce object data failed",t){super(e,t)}}class c extends o{constructor(e="Invalid parameter detected",t){super(e,t)}}class u extends o{constructor(e="Execute Salesforce query failed",t){super(e,t)}}class l extends o{constructor(e="Unable to retrieve search results from Salesforce",t){super(e,t)}}class f extends o{constructor(e,t="Execute Salesforce REST API request failed"){var r,n,o,s,i;super(t,null!=e?e:void 0),this.restApiErrorCode="",this.restApiErrorDescription="",this.restApiResponseStatus=void 0;const a=e;if(null==a?void 0:a.isAxiosError){if(this.restApiResponseStatus=null===(r=a.response)||void 0===r?void 0:r.status,!(null===(o=null===(n=a.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.length))return;const e=null===(i=null===(s=a.response)||void 0===s?void 0:s.data)||void 0===i?void 0:i[0];if(e){const{errorCode:t,message:r}=e;this.restApiErrorCode=t,this.restApiErrorDescription=r}}}}class d extends o{constructor(e="An unexpected error occurred",t){super(e,t)}}let p=!1;const h="[@openfin/salesforce]",w=()=>{p=!1},m=()=>{p=!0,g("v2.1.3")},v=e=>{if(p&&(e.innerError?console.error(h,e,"\n\n(inner)",e.innerError):console.error(h,e),e instanceof f)){const{restApiErrorCode:t,restApiErrorDescription:r}=e;if(r){const e=r.replace(/\n/g," ").trim(),n=t?`${t}: ${e}`:e;console.warn(h,n)}}},g=(...e)=>{p&&console.log(h,...e)},y=(...e)=>{p&&console.warn(h,...e)};window.fin||Object.assign(window,{fin:{}}),Object.assign(window.fin,{Integrations:{Salesforce:{enableLogging:m,disableLogging:w}}});const b="54.0",x=/vXX\.X/i,E=e=>(Array.isArray(e)?e:Object.entries(e)).reduce(((e,t)=>{const r=Array.isArray(e)?t:t[1];let n;switch(!0){case null==r:n=r;break;case"string"==typeof r:n=r.replace(x,"v54.0");break;case Array.isArray(r):case"object"==typeof r:n=E(r);break;default:n=r}return Array.isArray(e)?e.push(n):e[t[0]]=n,e}),Array.isArray(e)?[]:{}),k="salesforce-auth",S="https://login.salesforce.com/services/oauth2/success",A=(e,t,r)=>{e.accessToken&&window.localStorage.setItem(_(t,r),e.accessToken),e.refreshToken&&window.localStorage.setItem(L(t,r),e.refreshToken)},T=async(e,t,r=!1)=>{let n;try{n=new URL(e).origin}catch(e){throw new c("Invalid Salesforce URL")}if(!/salesforce.com$/i.test(n))throw new c("Invalid Salesforce URL");if(void 0===(null!=t?t:void 0)||""===t.trim())throw new c("Consumer key not provided");g(`Connecting to ${n} using key ${t}`);const o=await $(e,t);if(o)return o;g("No existing connection found, starting auth flow");const a=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===k));a&&await a.close(!0);const u=r?"https://test.salesforce.com":"https://login.salesforce.com",l=(new Date).getTime().toString(),f=j(),d=await O(f),p=`${u}/services/oauth2/authorize?\n    client_id=${t}&\n    redirect_uri=${S}&\n    response_type=code&\n    scope=api+refresh_token&\n    state=${l}&\n    code_challenge=${d}&\n    display=popup&\n    prompt=select_account\n    `.replace(/\s/g,""),h=await fin.Window.create({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:700,defaultWidth:600,includeInSnapshots:!1,name:k,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:p}),w=await new Promise(((e,t)=>{let r;const n=window.setTimeout((()=>{window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners(),h.close(!0);const e=new s("Authorization timed out");v(e),t(e)}),3e5);h.addListener("closing",(async()=>{g("User closed auth window"),window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners();const e=new s("Failed to complete authorization");v(e),t(e)})),r=window.setInterval((()=>(async(e,t,r,n,o,i)=>{let a;try{a=await e.getInfo()}catch(e){window.clearInterval(t),window.clearTimeout(r);const n=new s("Could not locate oauth flow window");return v(n),i(n)}const c=new URL(a.url);if(0===new URL(a.url).href.toLowerCase().indexOf(S.toLowerCase())){if(window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0),c.searchParams.get("state")!==n){const e=new s("State mismatch");return v(e),i(e)}const a=c.searchParams.get("code");if(!a){const e=new s("Authorization code missing");return v(e),i(e)}return g("Authorization code received"),o(a)}const u=await e.executeJavaScript("window.document.body.innerText"),l=new URLSearchParams(u).get("error_description");if(l){window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0);const n=l[0].toUpperCase()+l.slice(1),o=new s(n);v(o),i(o)}else await e.isShowing()||(g("Showing auth window"),await e.show(!0),await e.focus())})(h,r,n,l,e,t)),500)})),m=await R(w,f,n,t);if(g("Checking connection with new access token"),!await D(m.accessToken,n)){const e=new i("Invalid Salesforce org URL or access token");throw v(e),e}return g("Connection established"),A(m,n,t),{consumerKey:t,disconnect:C(n,t),getAuthTokens:()=>U(n,t),orgUrl:n,executeApiRequest:P(n,t)}},C=(e,r)=>async()=>{g("Disconnecting from Salesforce");let n=window.localStorage.getItem(L(e,r));if(n)g("Revoking refresh token");else{if(n=window.localStorage.getItem(_(e,r)),!n)return void g("No tokens found in storage");g("Revoking access token")}try{await t().get(`${e}/services/oauth2/revoke?token=${n}`)}catch(e){y("Failed to revoke tokens",null==e?void 0:e.message)}B(e,r)},R=async(e,r,n,o)=>{g("Exchanging auth code for tokens");const i=`${n}/services/oauth2/token`,a=`\n    grant_type=authorization_code&\n    client_id=${o}&\n    code=${e}&\n    code_verifier=${r}&\n    redirect_uri=${S}\n    `.replace(/\s/g,"");let c;try{c=(await t().post(i,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){const t=new s("Failed to exchange authorization code for auth tokens",e);throw v(t),t}const{access_token:u,refresh_token:l}=c;if(!u||!l)throw new s("Missing access token or refresh token during code exchange");return g("Tokens received"),{accessToken:u,refreshToken:l}},O=async e=>{const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(r)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+\$/,"")},j=()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.substr(-2))).join("")},_=(e,t)=>`access-token_#_${new URL(e).hostname}_#_${t}`,U=(e,t)=>({accessToken:window.localStorage.getItem(_(e,t)),refreshToken:window.localStorage.getItem(L(e,t))}),$=async(e,t)=>{let r;if(g("Checking for existing connection"),!e||!t)return null;try{r=new URL(e).origin}catch(e){return null}const{accessToken:n}=U(r,t);if(!n)return null;if(!await D(n,r))try{await I(r,t)}catch(e){return null}return g(`Connection exists to ${e}`),{consumerKey:t,disconnect:C(r,t),getAuthTokens:()=>U(r,t),orgUrl:r,executeApiRequest:P(r,t)}},P=(e,r)=>async(n,o,s,a,u)=>{const{accessToken:l}=U(e,r);if(!l){const e=new i;throw v(e),e}const d=r=>(async(e,r,n,o="GET",s={},i={},a=!0)=>{var u,l;if(!n)throw new c("API endpoint not provided");let d;if(n=(l=n).startsWith("/")?l:`/${l}`,/^\/services\/data\//i.test(n)){const e=null===(u=/\/v(\w{2}\.\w)\//.exec(n))||void 0===u?void 0:u[1];if(!e)throw new f(null,"REST API version not specified");x.test(n)?n=n.replace(e,b):e!==b&&y(`Requested REST API version (${e}) is different to the current supported version (54.0). Using an API version other than current supported version may cause errors.`),d=new RegExp("/services/data/v54.0/composite","i").test(n)?E(s):s}else d=s;g(`Executing ${o.toUpperCase()} API request to ${n}`,d,i),a&&Object.assign(i,{Authorization:`Bearer ${r}`});try{let r;switch(o.toUpperCase()){case"DELETE":r=await t().delete(`${e}${n}`,{headers:i});break;case"GET":r=await t().get(`${e}${n}`,{headers:i});break;case"HEAD":r=await t().head(`${e}${n}`,{headers:i});break;case"PATCH":r=await t().patch(`${e}${n}`,s,{headers:i});break;case"POST":r=await t().post(`${e}${n}`,d,{headers:i});break;default:throw new f(null,"Invalid HTTP method")}return{data:r.data,status:r.status}}catch(e){if(e instanceof f)throw e;throw new f(e)}})(e,r,n,o,s,a,u);let p;try{p=await d(l)}catch(t){if(!(t instanceof f))throw v(t),t;return await N(t,e,r,l,d)}return p},L=(e,t)=>`refresh-token_#_${new URL(e).hostname}_#_${t}`,N=async(e,t,r,n,o)=>{if(v(e),await q(e,t,n))try{const e=await I(t,r);return g("Retrying request"),await o(e.accessToken)}catch(e){throw v(e),e}throw e},I=async(e,r)=>{var n,o;const{refreshToken:s}=U(e,r);if(!s)throw B(e,r),new i("No refresh token available");g("Refreshing access token");const a=`${e}/services/oauth2/token`,c=`\n    grant_type=refresh_token&\n    client_id=${r}&\n    refresh_token=${s}\n    `.replace(/\s/g,"");let u;try{u=(await t().post(a,c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(t){const s=null===(o=null===(n=t.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.error_description,a="Failed to refresh access token";throw g(s?`${a}: ${s}`:a),B(e,r),new i(a)}const{access_token:l}=u;if(!l)throw new i("Missing access token after refreshing");const f={accessToken:l,refreshToken:s};return A(f,e,r),f},B=(e,t)=>{window.localStorage.removeItem(_(e,t)),window.localStorage.removeItem(L(e,t))},q=async(e,t,r)=>{var n;return("Network Error"===(null===(n=e.innerError)||void 0===n?void 0:n.message)||"Network Error"===e.message)&&!await D(r,t)},D=async(e,r)=>{try{await t().get(`${r}/services/oauth2/userinfo?oauth_token=${e}`)}catch(e){return!1}return!0}})();var o=n.MS,s=n.M_,i=n.hY,a=n.G4,c=n._W,u=n.o,l=n.C3,f=n.fB,d=n.if,p=n.$j,h=n.U$,w=n.U7,m=n.B5;

/***/ }),

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>ze.Pt,CLIFilterOptionType:()=>ze.el,CLITemplate:()=>ze.yW,deregister:()=>Ye,hide:()=>tt,register:()=>Qe,show:()=>et});var o={};n.r(o),n.d(o,{subscribe:()=>ie});var r={};n.r(r),n.d(r,{create:()=>Ge});var i=n(6532),s=n(7405);const a="home";var c;!function(e){e.Commands="home-commands"}(c||(c={}));var d,u=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(d||(d={}));var f=n(5316);const l="all",p="0",g="5",w="6",h=()=>{};function y(e,t){return e?`${e}-${t}`:t}function v(e){return`__search-${e}-topic__`}const m=new Map;function S(e,t){m.has(e)||m.set(e,new Set),m.get(e).add(t)}function C(e,t){const n=m.get(e);n&&n.delete(t)}const P=new Map;function R(e,t){P.has(e)||P.set(e,new Set),P.get(e).add(t)}function b(e,t){const n=P.get(e);n&&n.delete(t)}const T=new Map;async function I(e,t){T.has(e)||T.set(e,new Map),T.get(e).set(t.id,t);const n=m.get(e);if(!n)return;const o=[...n].map((e=>e()));await Promise.all(o)}async function L(e,t){const n=T.get(e);if(!n)return;n.delete(t);const o=P.get(e);if(!o)return;const r=[...o].map((e=>e()));await Promise.all(r)}function k(e){return T.get(e)?[...T.get(e).values()]:[]}function M(e){const t=T.get(e);t&&t.clear()}function B(e,t){const n=T.get(e);return n?n.get(t):null}function O(e,t,n){return{...e,action:n||{...e.actions[0],trigger:f.px.UserAction},dispatcherIdentity:t}}function x(e,t,n="ascending"){const o=e||[];if(!t?.length)return o;const r=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);r.push(e)}));let s=o.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...r),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function A(e){const t={};let n=[];let o=[];let r=d.Initial;t.getStatus=()=>r,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>o,t.setRevokedBuffer=e=>{o=e,o?.length&&t.onChange()},t.onChange=h;const i={};return t.res=i,i.close=()=>{r!==d.Close&&(r=d.Close,t.onChange())},i.open=()=>{r!==d.Open&&(r=d.Open,t.onChange())},i.respond=n=>{const o=x(t.getResultBuffer(),n,e);t.setResultBuffer(o)},i.revoke=(...e)=>{const n=new Set(e),o=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(o),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function W(e,t,n){const o=new Set;let r=!1;return{close:()=>{r=!0;for(const e of o)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{o.add(e),r&&e()},removeListener:e=>{o.delete(e)}}}}function D(){return{name:fin.me.name,uuid:fin.me.uuid}}function E(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const F="deregistered or does not exist",_=new Error(`provider ${F}`),$=new Error("provider with name already exists"),q=new Error("bad payload"),G=new Error("subscription rejected"),N=new Error(`channel ${F}`),H=new Map;function U(e){const t=V(e);if(t)return t;throw N}function V(e){const t=H.get(e);if(t)return t}function j(e,t){H.set(e,t)}const K=new Map;function X(e){K.has(e)||K.set(e,new Map);const t=K.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function J(e,t){return(await U(e)).dispatch(p,t)}function Z({namespacedTopic:e,topic:t}){const n=B.bind(null,e),o=X(e),r=J.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=q;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=_;return{error:e.message}}const d=o.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=W(t,s,e),d.set(e.id,u));const f=A(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();r({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function z(e,t,n){const o=n||await U(e),r=D(),i={identity:r,...t,onUserInput:void 0,onResultDispatch:void 0};await o.dispatch("2",i),await I(e,{identity:r,...t})}async function Q(e,t){const n=await U(e);return await n.dispatch("3",t),L(e,t)}async function Y(e,t,n,o){const r=O(n,D(),o),i=B(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(r)}const s={providerId:t,result:r};return(await U(e)).dispatch(g,s)}async function ee(e,t){const n={...t,context:t?.context||{}},o={},r=async function*(e,t,{setState:n}){const o=await U(e);for(;;){const e=await o.dispatch("1",t),r=e.error;if(r)throw new Error(r);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{o.state=e}});let i=await r.next();return o.id=n.id,o.close=()=>{!async function(e,t){(await U(e)).dispatch(w,{id:t})}(e,o.id)},o.next=()=>{if(i){const e=i;return i=void 0,e}return r.next()},o}async function te(e){return(await U(e)).dispatch("4",null)}async function ne(e){const t=await U(e);var n;n=e,H.delete(n),M(e),await t.disconnect()}function oe(e){const{namespacedTopic:t}=e,n=X(t);return async o=>{if(!V(t))return;const r=n.getRequestsForIdentity(o);for(const{req:e,close:t}of r.values())t(),r.delete(e.id);j(t,(async e=>{const{namespacedTopic:t}=e,n=await re(e);for(const e of k(t))await z(t,e,n);return n})(e))}}async function re(e){const{namespacedTopic:t}=e,n=v(t),o=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return o.register(p,Z(e)),o.register(w,function(e){const t=X(e);return(e,n)=>{const o=t.getRequestsForIdentity(n),r=o.get(e.id);r&&(r.close(),o.delete(e.id))}}(t)),o.register(g,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=B(e,t.providerId);if(!o)return;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o.onDisconnection(oe(e)),o}async function ie(e){const t=("string"==typeof e?e:e?.topic)||l,n=("string"==typeof e?null:e?.uuid)||E(),o=y(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=V(o);return i||(i=re(r),j(o,i),await i),{getAllProviders:te.bind(null,o),register:z.bind(null,o),search:ee.bind(null,o),deregister:Q.bind(null,o),dispatch:Y.bind(null,o),disconnect:ne.bind(null,o)}}const se=new Map;function ae(e){const t=ce(e);if(t)return t;throw N}function ce(e){const t=se.get(e);if(t)return t}const de=new Map;function ue(e,t){de.has(e)||de.set(e,new Set),de.get(e).add(t)}function fe(e,t){const n=de.get(e);n&&n.delete(t)}function le(e){return[...k(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function pe(e,t){if(B(e,t.id))throw new Error("provider with name already exists");const n=D();await I(e,{identity:n,...t})}function ge(e,t){L(e,t)}async function we(e,t,n,o){const r=B(e,t);if(!r)throw _;const{onResultDispatch:i}=r;if(!i)return;return i(O(n,D(),o))}async function*he(e,t,n){const o=function(e,t){const n=[],o=[],r=[],i=[];for(const s of e){const e=A(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon,dispatchFocusEvents:s.dispatchFocusEvents}};n.push(a),o.push(e);const c=(async()=>{try{const{results:n,context:o}=await s.onUserInput(t,e.res);a.results=x(a.results,n),a.context={...a.context,...o}}catch(e){a.error=e}})();c.finally((()=>{c.done=!0})),i.push(c),r.push(r.length)}return{providerResponses:n,listenerResponses:o,openListenerResponses:r,initialResponsePromises:i}}(t.targets?t.targets.map((t=>B(e,t))).filter((e=>!!e)):[...k(e).filter((e=>!e.hidden))],t),{providerResponses:r,listenerResponses:i}=o;let{openListenerResponses:s,initialResponsePromises:a}=o,c=f.De.Fetching;const u=e=>{c=e,n.setState(c)};let l,p=!1;t.onClose((()=>{p=!0,l&&l()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(f.De.Fetched),e=!0)}let t,n=!1;const o=()=>{n=!0,t&&t()},g=[];for(const t of s){const n=i[t],s=r[t],a=n.getStatus();(a===d.Open||c===f.De.Fetching&&a===d.Initial)&&(g.push(t),n.onChange=o);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=x(s.results,u),e=!0);const l=n.getRevokedBuffer();if(l.length){n.setRevokedBuffer([]);const t=new Set(l);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=g,e&&(yield r),p)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{l=e}))])}while(s.length||a.length);return u(f.De.Complete),r}let ye=0;function ve({namespacedTopic:e,topic:t},n){ye+=1;const o=W(t,ye.toString(),n),r=he(e,o.req,{setState:e=>{r.state=e}});return r.id=ye.toString(),r.close=o.close,r.state=f.De.Fetching,r}const me=new Map;function Se(e,t){return`${e}:${t}`}function Ce(e){return async(t,...n)=>{if(!t)return{error:q.message};let o;if(t.id)o=Se(e.namespacedTopic,t.id);else{const n=ve(e,t);o=Se(e.namespacedTopic,n.id),t.id=n.id,me.set(o,{generator:n})}const r=me.get(o);clearTimeout(r.timeout);const i=await r.generator.next();return r.timeout=function(e){return window.setTimeout((()=>{me.delete(e)}),1e4)}(o),{...i,id:t.id,state:r.generator.state}}}function Pe(e,t,n){return ae(e).dispatch(t,w,{id:n})}function Re(e){return t=>function(e,t){const n=Se(e,t),o=me.get(n);o&&o.generator.close()}(e,t.id)}async function be(e,t,{id:n,query:o,context:r,targets:i}){const s=ae(e),a={id:n,query:o,context:r,targets:i,providerId:t.id},c=await s.dispatch(t.identity,p,a),d=c.error;if(d)throw new Error(d);return c}const Te=new Map;function Ie(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Le=new Map;function ke(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Ie.bind(null,e,t.identity),o=Pe.bind(null,e,t.identity),r=be.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!Te.has(a)){const e=()=>{o(i.id),Te.delete(a)};Te.set(a,e),i.onClose(e)}const c=ke(e,t.id,i.id),u=()=>{Le.delete(c),s.close()};i.onClose(u),Le.set(c,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===d.Open&&s.open(),e.status===d.Close&&u()}));const f=await r(i);return f.status===d.Open&&s.open(),f.status!==d.Close&&f.status!==d.Initial||u(),f}}function Be(e,t){return async n=>{const o=ae(e),r={providerId:t.id,result:n};return o.dispatch(t.identity,g,r)}}const Oe=new Map;function xe(e,t){return`${e}-${t.name}-${t.uuid}`}function Ae(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(B(e,t.id))throw $;t.identity=n,await async function(e,t){const n=xe(e,t.identity);Oe.has(n)||Oe.set(n,[]),Oe.get(n).push(t.id),await I(e,{...t,onUserInput:Me(e,t),onResultDispatch:Be(e,t)})}(e,t)}}function We(e){return t=>{t&&function(e,t){const n=B(e,t);if(!n)return;const o=xe(e,n.identity),r=Oe.get(o);if(r){const n=r.findIndex((e=>e===t));-1!==n&&(r.splice(n,1),L(e,t))}}(e,t)}}const De=new Map;function Ee(e,t){De.has(e)||De.set(e,new Set),De.get(e).add(t)}function Fe(e,t){const n=De.get(e);n&&n.delete(t)}function _e(e){return async t=>{!function(e,t){const n=xe(e,t),o=Oe.get(n);if(o){for(const t of o)L(e,t);Oe.delete(n)}}(e,t);const n=De.get(e);n&&n.forEach((e=>e(t)))}}async function $e(e){const{namespacedTopic:t}=e,n=v(e.namespacedTopic),o=await(r=n,fin.InterApplicationBus.Channel.create(r));var r;return o.onConnection(function({namespacedTopic:e}){return async t=>{const n=de.get(e);if(n)for(const e of n)if(!await e(t))throw G}}(e)),o.onDisconnection(_e(t)),o.register(w,Re(t)),o.register(p,function(e){return t=>{const n=ke(e,t.providerId,t.id),o=Le.get(n);o&&o(t)}}(t)),o.register("2",Ae(t)),o.register("3",We(t)),o.register("4",function(e){return async()=>le(e)}(t)),o.register("1",Ce(e)),o.register(g,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const o=B(e,t.providerId);if(!o)throw _;const{onResultDispatch:r}=o;return r?(t.result.dispatcherIdentity=n,r(t.result)):void 0}}(t)),o}async function qe(e){const t=ae(e);var n;n=e,se.delete(n),await t.destroy(),M(e)}async function Ge(e){const t=("string"==typeof e?e:e?.topic)||l,n=E(),o=y(n,t),r={topic:t,namespace:n,namespacedTopic:o};let i=ce(o);i||(i=await $e(r),function(e,t){se.set(e,t)}(o,i));const s=fe.bind(null,o),a=Fe.bind(null,o),c=C.bind(null,o),d=b.bind(null,o);return{getAllProviders:le.bind(null,o),search:ve.bind(null,r),register:pe.bind(null,o),deregister:ge.bind(null,o),onSubscription:ue.bind(null,o),onDisconnect:Ee.bind(null,o),onRegister:S.bind(null,o),onDeregister:R.bind(null,o),dispatch:we.bind(null,r),disconnect:qe.bind(null,o),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ne}=r,{subscribe:He}=o,Ue={create:Ne,subscribe:He,defaultTopic:"all"},Ve=()=>{const e=window;e.search=Ue,e.fin&&(e.fin.Search=Ue)},je=e=>{const t=()=>{Ve(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ve();const e="load",t=je(e);window.addEventListener(e,t);const n="DOMContentLoaded",o=je(n);window.addEventListener(n,o)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await He({topic:e,uuid:u.q9.Workspace}))}(a)}let Je;async function Ze(e){return await async function(){return Je||(Je=Xe()),Je}(),Ke.get(e)}var ze=n(3758);const Qe=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,s.aB)();const t=await Ze(a);try{const n=await t.register(e);return(0,i.ck)({allowed:!0}),n}catch(e){throw(0,i.ck)({allowed:!1,rejectionCode:e.message}),e}},Ye=async e=>{await(0,s.aB)();return(await Ze(a)).deregister(e)};async function et(){return(await(0,s.Xl)()).dispatch(s.Ml.ShowHome,void 0)}async function tt(){return(await(0,s.Xl)()).dispatch(s.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>o.wt});var o=n(5316)},3758:(e,t,n)=>{var o,r,i;n.d(t,{Pt:()=>o,yW:()=>r,el:()=>i}),function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(r||(r={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var o,r;n.d(t,{L:()=>o,T:()=>r}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(r||(r={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>o,Go:()=>r,bI:()=>i,ZJ:()=>s});const o={Container:"Container",Button:"Button"},r={Text:"Text",Image:"Image",List:"List"},i={...o,...r};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>i.L,StorefrontTemplate:()=>i.T,deregister:()=>f,hide:()=>l,register:()=>u,show:()=>p});var o=n(6532),r=n(7405);n(7564);var i=n(6114);let s;const a=new Map,c=e=>{if(!a.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return a.get(e)},d=async e=>{const t=await(0,r.Xl)();if(a.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return a.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.Ml.GetStorefrontProviderApps,(e=>c(e).getApps())),e.register(r.Ml.GetStorefrontProviderFooter,(e=>c(e).getFooter())),e.register(r.Ml.GetStorefrontProviderLandingPage,(e=>c(e).getLandingPage())),e.register(r.Ml.GetStorefrontProviderNavigation,(e=>c(e).getNavigation())),e.register(r.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>c(e).launchApp(t))))})(t),t.dispatch(r.Ml.RegisterStorefrontProvider,e)},u=e=>(s=d(e),(0,o.d9)({allowed:!0}),s),f=async e=>{await s,a.delete(e);return(await(0,r.Xl)()).dispatch(r.Ml.DeregisterStorefrontProvider,e)},l=async()=>{await s,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.HideStorefront,void 0))()},p=async()=>{await s,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var o=n(6678);const r=o.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!o.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await r;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(o.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(o.aW)),fin.System.openUrlWithBrowser(d(o.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>o});var o,r,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(o||(o={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(r||(r={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,o.Workspace,o.Workspace},6678:(e,t,n)=>{var o;n.d(t,{sS:()=>r,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f,u0:()=>p}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const r="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:o.Local,a=r&&fin.me.uuid,c=r&&fin.me.name,d=(r&&fin.me.entityType,"prod"===o.Local),u=(o.Dev,o.Staging,o.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/8.1.6/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e,p=(l("https://cdn.openfin.co/workspace/8.1.6"),l("https://cdn.openfin.co/workspace/8.1.6"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL),"8.1.6")},6532:(e,t,n)=>{n.d(t,{ck:()=>a,d9:()=>c});var o,r=n(6678),i=n(121);!function(e){e.Browser="Browser",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming"}(o||(o={}));const s=async(e,t)=>{const n={apiVersion:t.apiVersion||r.u0,componentName:e,componentVersion:r.u0,...t};fin.System.registerUsage({type:"workspace-licensing",data:n})},a=async e=>{i.OI.uuid===i.Gi.uuid&&i.OI.name===i.Gi.name||s(o.Home,e)},c=async e=>{s(o.Storefront,e)}},121:(e,t,n)=>{n.d(t,{Gi:()=>c,OI:()=>d,iW:()=>u,JV:()=>f});var o,r,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(o||(o={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(r||(r={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const c={name:s.oC,uuid:s.AB};const d={name:o.Home,uuid:i.q9.Workspace},u=(o.Dock,i.q9.Workspace,o.Storefront,i.q9.Workspace,{name:i.q9.Workspace,uuid:i.q9.Workspace});const f=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var o,r,i;n.d(t,{De:()=>o,px:()=>r,wt:()=>i}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(o||(o={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(i||(i={}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>r,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,r=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=o})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/salesforce/integration-provider.ts":
/*!********************************************************************!*\
  !*** ./client/src/integrations/salesforce/integration-provider.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SalesForceIntegrationProvider": () => (/* binding */ SalesForceIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/salesforce */ "./node_modules/@openfin/salesforce/openfin.salesforce.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);


/**
 * Implement the integration provider for SalesForce.
 */
class SalesForceIntegrationProvider {
    /**
     * The module is being registered.
     * @param integrationManager The manager for the integration.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async register(integrationManager, integration) {
        this._integrationManager = integrationManager;
        console.log("Registering SalesForce");
        try {
            await this.openConnection(integration);
        }
        catch (err) {
            console.error("Error connecting to SalesForce", err);
        }
    }
    /**
     * The module is being deregistered.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async deregister(integration) {
        await this.closeConnection();
    }
    /**
     * Get a list of the static application entries.
     * @param integration The integration details.
     * @returns The list of application entries.
     */
    async getAppSearchEntries(integration) {
        const results = [];
        if (integration?.data?.orgUrl) {
            results.push({
                actions: [{ name: "Browse", hotkey: "enter" }],
                data: {
                    providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                    pageUrl: integration?.data?.orgUrl,
                    tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                },
                icon: integration.icon,
                key: SalesForceIntegrationProvider._BROWSE_SEARCH_RESULT_KEY,
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Plain,
                templateContent: undefined,
                title: "Browse Salesforce"
            });
            if (!this._salesForceConnection) {
                results.push(this.getReconnectSearchResult(integration));
            }
        }
        return results;
    }
    /**
     * An entry has been selected.
     * @param integration The integration details.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(integration, result, lastResponse) {
        // if the user clicked the reconnect result, reconnect to salesforce and re-run query
        if (result.key === SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY) {
            await this.openConnection(integration);
            if (result.data?.query) {
                const results = await this.getSearchResults(integration, result.data?.query, result.data?.filters, lastResponse);
                if (lastResponse) {
                    lastResponse.revoke(SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY);
                    lastResponse.respond(results.results);
                }
            }
            return true;
        }
        // otherwise open the result page url in browser
        const data = result.data;
        if (data !== undefined && this._integrationManager && this._integrationManager.rootUrl && this._integrationManager.launchView) {
            const preload = `${this._integrationManager.rootUrl}/views/salesforce/preload.js`;
            const viewOptions = {
                url: data.pageUrl,
                fdc3InteropApi: "1.2",
                interop: {
                    currentContextGroup: "green"
                },
                customData: { buttonLabel: "Process Participant" },
                preloadScripts: [{ url: preload }],
                target: { name: "", url: "", uuid: "" }
            };
            await this._integrationManager.launchView(viewOptions);
            return true;
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param integration The integration details.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(integration, query, filters, lastResponse) {
        if (this._salesForceConnection) {
            let searchResults;
            let selectedObjects = [];
            if (Array.isArray(filters) && filters.length > 0) {
                const objectsFilter = filters.find(x => x.id === SalesForceIntegrationProvider._OBJECTS_FILTER_ID);
                if (objectsFilter) {
                    selectedObjects = (Array.isArray(objectsFilter.options) ? objectsFilter.options : [objectsFilter.options])
                        .filter(x => Boolean(x.isSelected))
                        .map(x => (x.value === "Note" ? "ContentNote" : x.value));
                }
            }
            try {
                searchResults = await this.getApiSearchResults(query, selectedObjects);
                const results = searchResults.map(searchResult => {
                    if ("Website" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Name,
                            icon: integration?.data?.iconMap.account,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.Name,
                                title: searchResult.Industry,
                                details: [
                                    [
                                        ["Phone", searchResult.Phone],
                                        ["Type", searchResult.Type],
                                        ["Website", searchResult.Website]
                                    ]
                                ]
                            }
                        };
                    }
                    else if ("Email" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Name,
                            icon: integration?.data?.iconMap.contact,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.Name,
                                title: searchResult.Title,
                                useInitials: true,
                                details: [
                                    [
                                        ["Department", searchResult.Department],
                                        ["Email", searchResult.Email],
                                        ["Work #", searchResult.Phone]
                                    ]
                                ]
                            }
                        };
                    }
                    else if ("Description" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Subject,
                            icon: integration?.data?.iconMap.task,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: "List",
                            templateContent: [
                                ["Subject", searchResult.Subject],
                                ["Comments", searchResult.Description]
                            ]
                        };
                    }
                    else if ("TextPreview" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: "Note",
                            key: searchResult.Id,
                            title: searchResult.Title,
                            icon: integration?.data?.iconMap.note,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: "List",
                            templateContent: [
                                ["Title", searchResult.Title],
                                ["Content", searchResult?.TextPreview]
                            ]
                        };
                    }
                    else if ("actor" in searchResult &&
                        (searchResult.type === "TextPost" || searchResult.type === "ContentPost")) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: "Chatter",
                            key: searchResult.id,
                            title: searchResult.actor?.displayName,
                            icon: integration?.data?.iconMap.chatter,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.actor?.displayName,
                                useInitials: true,
                                details: [
                                    [
                                        ["Header", searchResult?.header?.text],
                                        ["Note", searchResult?.body?.text]
                                    ]
                                ]
                            }
                        };
                    }
                    // in this case we are only searching for accounts, contacts, tasks, content notes and chatter
                });
                const filteredResults = results.filter(Boolean);
                // eslint-disable-next-line no-confusing-arrow
                const objects = searchResults.map(result => "attributes" in result ? result.attributes.type : "Chatter");
                return {
                    results: filteredResults,
                    context: {
                        filters: this.getSearchFilters(objects.map(c => (c === "ContentNote" ? "Note" : c)))
                    }
                };
            }
            catch (err) {
                await this.closeConnection();
                if (err instanceof _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.ConnectionError) {
                    return {
                        results: [this.getReconnectSearchResult(integration, query, filters)]
                    };
                }
                console.error("Error retrieving SalesForce search results", err);
            }
        }
        return {
            results: []
        };
    }
    /**
     * Open the connection to SaleForce.
     * @param integration The integration details.
     * @internal
     */
    async openConnection(integration) {
        if (integration?.data?.orgUrl && !this._salesForceConnection) {
            (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
            this._salesForceConnection = await (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.connect)(integration?.data.orgUrl, integration?.data.consumerKey, integration?.data.isSandbox);
        }
    }
    /**
     * Close the connection to SalesForce.
     * @internal
     */
    async closeConnection() {
        if (this._salesForceConnection) {
            try {
                await this._salesForceConnection.disconnect();
            }
            catch (err) {
                console.error("Error disconnecting SalesForce", err);
            }
            finally {
                this._salesForceConnection = undefined;
            }
        }
    }
    /**
     * Create the object url from the if and origin.
     * @param objectId The object id.
     * @param salesforceOrgOrigin The origin url.
     * @returns Then object url.
     * @internal
     */
    getObjectUrl(objectId, salesforceOrgOrigin) {
        if (!salesforceOrgOrigin) {
            return "";
        }
        return `${salesforceOrgOrigin}/${objectId}`;
    }
    /**
     * Get results from the API using a query.
     * @param query The query to call the API with.
     * @param selectedObjects The selected filters.
     * @returns The search result objects from the API.
     * @internal
     */
    async getApiSearchResults(query, selectedObjects) {
        const accountFieldSpec = "Account(Id, Industry, Name, Phone, Type, Website)";
        const contactFieldSpec = "Contact(Department, Email, Id, Name, Phone, Title)";
        const taskFieldSpec = "Task(Id, Subject, Description)";
        const contentNoteFieldSpec = "ContentNote(Id, Title, Content, TextPreview)";
        const fieldSpecMap = new Map([
            ["Account", accountFieldSpec],
            ["Contact", contactFieldSpec],
            ["Task", taskFieldSpec],
            ["ContentNote", contentNoteFieldSpec]
        ]);
        const fieldSpecs = [...fieldSpecMap]
            .filter(x => {
            if (Array.isArray(selectedObjects) && selectedObjects.length > 0) {
                return selectedObjects.includes(x[0]);
            }
            return true;
        })
            .map(x => x[1]);
        const batch = fieldSpecs.map(fieldSpec => {
            const salesforceSearchQuery = `FIND {${this.escapeQuery(query)}} IN ALL FIELDS RETURNING ${fieldSpec} LIMIT 10`;
            return {
                method: "GET",
                url: `/services/data/vXX.X/search?q=${encodeURIComponent(salesforceSearchQuery)}`,
            };
        });
        const includeChatter = !selectedObjects?.length || selectedObjects.includes("Chatter");
        if (includeChatter) {
            batch.push({
                method: "GET",
                url: `/services/data/vXX.X/chatter/feed-elements?q=${query}&pageSize=25&sort=LastModifiedDateDesc`
            });
        }
        const batchedResults = await this.getBatchedResults(batch);
        let results = [];
        if (batchedResults.length > 0) {
            let idx = 0;
            for (; idx < fieldSpecs.length; idx++) {
                const searchResponse = batchedResults[idx];
                if (searchResponse?.searchRecords?.length) {
                    results = results.concat(searchResponse.searchRecords);
                }
            }
            if (includeChatter) {
                const chatterResponse = batchedResults[idx++];
                if (chatterResponse?.elements?.length) {
                    results = results.concat(chatterResponse.elements);
                }
            }
        }
        return results;
    }
    /**
     * Get batched results from SalesForce api.
     * @param batchRequests The batch requests to send.
     * @returns The results from the batch request.
     * @internal
     */
    async getBatchedResults(batchRequests) {
        if (batchRequests.length === 0 || !this._salesForceConnection) {
            return [];
        }
        const batch = { batchRequests, haltOnError: false };
        const response = await this._salesForceConnection.executeApiRequest("/services/data/vXX.X/composite/batch/", "POST", batch, { "Content-Type": "application/json" });
        return response.data?.results.map(r => r.result) ?? [];
    }
    /**
     * Escape any characters needed in SalesForce API calls.
     * @param query The query to escape.
     * @returns The escaped query.
     * @internal
     */
    escapeQuery(query) {
        // There are some reserved characters for queries so we need to escape them
        // https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_sosl_find.htm
        return query.replace(/[!"&'()*+:?[\\\]^{|}~-]/gm, "\\$&");
    }
    /**
     * Get the search result to display when SalesForce needs to reconnect.
     * @param integration The integration details.
     * @param query The query that needs to reconnect.
     * @param filters The filter for the reconnect.
     * @returns The search result entry.
     * @internal
     */
    getReconnectSearchResult(integration, query, filters) {
        return {
            actions: [{ name: "Reconnect", hotkey: "enter" }],
            key: SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY,
            icon: integration?.icon,
            title: "Reconnect to Salesforce",
            data: {
                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                query,
                filters
            }
        };
    }
    /**
     * Get the search filters based on the results.
     * @param objects The object types to create the filters from.
     * @returns The filters.
     * @internal
     */
    getSearchFilters(objects) {
        if (Array.isArray(objects) && objects.length > 0) {
            const filters = [];
            const uniqueObjects = [...new Set(objects.sort())];
            const objectFilter = {
                id: SalesForceIntegrationProvider._OBJECTS_FILTER_ID,
                title: "Objects",
                type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLIFilterOptionType.MultiSelect,
                options: []
            };
            for (const object of uniqueObjects) {
                if (Array.isArray(objectFilter.options)) {
                    objectFilter.options.push({
                        value: object,
                        isSelected: false
                    });
                }
            }
            filters.push(objectFilter);
            return filters;
        }
        return [];
    }
}
/**
 * Provider id.
 * @internal
 */
SalesForceIntegrationProvider._PROVIDER_ID = "salesforce";
/**
 * The key to use for a SalesForce result.
 * @internal
 */
SalesForceIntegrationProvider._BROWSE_SEARCH_RESULT_KEY = "browse-salesforce";
/**
 * The id for the SaleForce filters.
 * @internal
 */
SalesForceIntegrationProvider._OBJECTS_FILTER_ID = "salesforce-objects";
/**
 * The id of the not connected result.
 * @internal
 */
SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY = "salesforce-not-connected-result";


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*****************************************************!*\
  !*** ./client/src/integrations/salesforce/index.ts ***!
  \*****************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "integration": () => (/* binding */ integration)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/salesforce/integration-provider.ts");

const integration = new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.SalesForceIntegrationProvider();

})();

var __webpack_exports__integration = __webpack_exports__.integration;
export { __webpack_exports__integration as integration };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1NBRUE7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7O1NBRUE7U0FDQTs7U0FFQTtTQUNBO1NBQ0E7Ozs7O1VDdEJBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQSxpQ0FBaUMsV0FBVztVQUM1QztVQUNBOzs7OztVQ1BBO1VBQ0E7VUFDQTtVQUNBO1VBQ0EseUNBQXlDLHdDQUF3QztVQUNqRjtVQUNBO1VBQ0E7Ozs7O1VDUEE7Ozs7O1VDQUE7VUFDQTtVQUNBO1VBQ0EsdURBQXVELGlCQUFpQjtVQUN4RTtVQUNBLGdEQUFnRCxhQUFhO1VBQzdEOzs7Ozs7Ozs7Ozs7Ozs7QUNOdUU7QUFFaEUsTUFBTSxXQUFXLEdBQUcsSUFBSSxnRkFBNkIsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2UvLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vc2FsZXNmb3JjZS9vcGVuZmluLnNhbGVzZm9yY2UuanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2UvLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vd29ya3NwYWNlL2luZGV4LmpzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vY2xpZW50L3NyYy9pbnRlZ3JhdGlvbnMvc2FsZXNmb3JjZS9pbnRlZ3JhdGlvbi1wcm92aWRlci50cyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vY2xpZW50L3NyYy9pbnRlZ3JhdGlvbnMvc2FsZXNmb3JjZS9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT17NDIxOihlLHQscik9PntlLmV4cG9ydHM9cig0NDgpfSw5OTQ6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoMzIyKSxzPXIoNTgpLGk9cig5ODIpLGE9cig2MyksYz1yKDU0MSksdT1yKDQ5NyksbD1yKDk4OCksZj1yKDI0MiksZD1yKDE0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe3ZhciBwLGg9ZS5kYXRhLHc9ZS5oZWFkZXJzLG09ZS5yZXNwb25zZVR5cGU7ZnVuY3Rpb24gdigpe2UuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUocCksZS5zaWduYWwmJmUuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHApfW4uaXNGb3JtRGF0YShoKSYmZGVsZXRlIHdbXCJDb250ZW50LVR5cGVcIl07dmFyIGc9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGUuYXV0aCl7dmFyIHk9ZS5hdXRoLnVzZXJuYW1lfHxcIlwiLGI9ZS5hdXRoLnBhc3N3b3JkP3VuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlLmF1dGgucGFzc3dvcmQpKTpcIlwiO3cuQXV0aG9yaXphdGlvbj1cIkJhc2ljIFwiK2J0b2EoeStcIjpcIitiKX12YXIgeD1hKGUuYmFzZVVSTCxlLnVybCk7ZnVuY3Rpb24gRSgpe2lmKGcpe3ZhciBuPVwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzXCJpbiBnP2MoZy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk6bnVsbCxzPXtkYXRhOm0mJlwidGV4dFwiIT09bSYmXCJqc29uXCIhPT1tP2cucmVzcG9uc2U6Zy5yZXNwb25zZVRleHQsc3RhdHVzOmcuc3RhdHVzLHN0YXR1c1RleHQ6Zy5zdGF0dXNUZXh0LGhlYWRlcnM6bixjb25maWc6ZSxyZXF1ZXN0Omd9O28oKGZ1bmN0aW9uKGUpe3QoZSksdigpfSksKGZ1bmN0aW9uKGUpe3IoZSksdigpfSkscyksZz1udWxsfX1pZihnLm9wZW4oZS5tZXRob2QudG9VcHBlckNhc2UoKSxpKHgsZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKSwhMCksZy50aW1lb3V0PWUudGltZW91dCxcIm9ubG9hZGVuZFwiaW4gZz9nLm9ubG9hZGVuZD1FOmcub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ZyYmND09PWcucmVhZHlTdGF0ZSYmKDAhPT1nLnN0YXR1c3x8Zy5yZXNwb25zZVVSTCYmMD09PWcucmVzcG9uc2VVUkwuaW5kZXhPZihcImZpbGU6XCIpKSYmc2V0VGltZW91dChFKX0sZy5vbmFib3J0PWZ1bmN0aW9uKCl7ZyYmKHIobChcIlJlcXVlc3QgYWJvcnRlZFwiLGUsXCJFQ09OTkFCT1JURURcIixnKSksZz1udWxsKX0sZy5vbmVycm9yPWZ1bmN0aW9uKCl7cihsKFwiTmV0d29yayBFcnJvclwiLGUsbnVsbCxnKSksZz1udWxsfSxnLm9udGltZW91dD1mdW5jdGlvbigpe3ZhciB0PWUudGltZW91dD9cInRpbWVvdXQgb2YgXCIrZS50aW1lb3V0K1wibXMgZXhjZWVkZWRcIjpcInRpbWVvdXQgZXhjZWVkZWRcIixuPWUudHJhbnNpdGlvbmFsfHxmLnRyYW5zaXRpb25hbDtlLnRpbWVvdXRFcnJvck1lc3NhZ2UmJih0PWUudGltZW91dEVycm9yTWVzc2FnZSkscihsKHQsZSxuLmNsYXJpZnlUaW1lb3V0RXJyb3I/XCJFVElNRURPVVRcIjpcIkVDT05OQUJPUlRFRFwiLGcpKSxnPW51bGx9LG4uaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSl7dmFyIGs9KGUud2l0aENyZWRlbnRpYWxzfHx1KHgpKSYmZS54c3JmQ29va2llTmFtZT9zLnJlYWQoZS54c3JmQ29va2llTmFtZSk6dm9pZCAwO2smJih3W2UueHNyZkhlYWRlck5hbWVdPWspfVwic2V0UmVxdWVzdEhlYWRlclwiaW4gZyYmbi5mb3JFYWNoKHcsKGZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09aCYmXCJjb250ZW50LXR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT9kZWxldGUgd1t0XTpnLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxuLmlzVW5kZWZpbmVkKGUud2l0aENyZWRlbnRpYWxzKXx8KGcud2l0aENyZWRlbnRpYWxzPSEhZS53aXRoQ3JlZGVudGlhbHMpLG0mJlwianNvblwiIT09bSYmKGcucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uRG93bmxvYWRQcm9ncmVzcyYmZy5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixlLm9uRG93bmxvYWRQcm9ncmVzcyksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vblVwbG9hZFByb2dyZXNzJiZnLnVwbG9hZCYmZy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZS5vblVwbG9hZFByb2dyZXNzKSwoZS5jYW5jZWxUb2tlbnx8ZS5zaWduYWwpJiYocD1mdW5jdGlvbihlKXtnJiYocighZXx8ZSYmZS50eXBlP25ldyBkKFwiY2FuY2VsZWRcIik6ZSksZy5hYm9ydCgpLGc9bnVsbCl9LGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKHApLGUuc2lnbmFsJiYoZS5zaWduYWwuYWJvcnRlZD9wKCk6ZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscCkpKSxofHwoaD1udWxsKSxnLnNlbmQoaCl9KSl9fSw0NDg6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoOTYyKSxzPXIoNDk1KSxpPXIoMTQ5KSxhPWZ1bmN0aW9uIGUodCl7dmFyIHI9bmV3IHModCksYT1vKHMucHJvdG90eXBlLnJlcXVlc3Qscik7cmV0dXJuIG4uZXh0ZW5kKGEscy5wcm90b3R5cGUsciksbi5leHRlbmQoYSxyKSxhLmNyZWF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gZShpKHQscikpfSxhfShyKDI0MikpO2EuQXhpb3M9cyxhLkNhbmNlbD1yKDE0KSxhLkNhbmNlbFRva2VuPXIoNTQzKSxhLmlzQ2FuY2VsPXIoMTgxKSxhLlZFUlNJT049cig0NzQpLnZlcnNpb24sYS5hbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UuYWxsKGUpfSxhLnNwcmVhZD1yKDY3KSxhLmlzQXhpb3NFcnJvcj1yKDcyNiksZS5leHBvcnRzPWEsZS5leHBvcnRzLmRlZmF1bHQ9YX0sMTQ6ZT0+e2Z1bmN0aW9uIHQoZSl7dGhpcy5tZXNzYWdlPWV9dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkNhbmNlbFwiKyh0aGlzLm1lc3NhZ2U/XCI6IFwiK3RoaXMubWVzc2FnZTpcIlwiKX0sdC5wcm90b3R5cGUuX19DQU5DRUxfXz0hMCxlLmV4cG9ydHM9dH0sNTQzOihlLHQscik9Pnt2YXIgbj1yKDE0KTtmdW5jdGlvbiBvKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIHQ7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt0PWV9KSk7dmFyIHI9dGhpczt0aGlzLnByb21pc2UudGhlbigoZnVuY3Rpb24oZSl7aWYoci5fbGlzdGVuZXJzKXt2YXIgdCxuPXIuX2xpc3RlbmVycy5sZW5ndGg7Zm9yKHQ9MDt0PG47dCsrKXIuX2xpc3RlbmVyc1t0XShlKTtyLl9saXN0ZW5lcnM9bnVsbH19KSksdGhpcy5wcm9taXNlLnRoZW49ZnVuY3Rpb24oZSl7dmFyIHQsbj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7ci5zdWJzY3JpYmUoZSksdD1lfSkpLnRoZW4oZSk7cmV0dXJuIG4uY2FuY2VsPWZ1bmN0aW9uKCl7ci51bnN1YnNjcmliZSh0KX0sbn0sZSgoZnVuY3Rpb24oZSl7ci5yZWFzb258fChyLnJlYXNvbj1uZXcgbihlKSx0KHIucmVhc29uKSl9KSl9by5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29ufSxvLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dGhpcy5yZWFzb24/ZSh0aGlzLnJlYXNvbik6dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKGUpOnRoaXMuX2xpc3RlbmVycz1bZV19LG8ucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xpc3RlbmVycyl7dmFyIHQ9dGhpcy5fbGlzdGVuZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKHQsMSl9fSxvLnNvdXJjZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybnt0b2tlbjpuZXcgbygoZnVuY3Rpb24odCl7ZT10fSkpLGNhbmNlbDplfX0sZS5leHBvcnRzPW99LDE4MTplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLl9fQ0FOQ0VMX18pfX0sNDk1OihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDk4Mikscz1yKDU4MiksaT1yKDg2MiksYT1yKDE0OSksYz1yKDE2NiksdT1jLnZhbGlkYXRvcnM7ZnVuY3Rpb24gbChlKXt0aGlzLmRlZmF1bHRzPWUsdGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IHMscmVzcG9uc2U6bmV3IHN9fWwucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtcInN0cmluZ1wiPT10eXBlb2YgZT8odD10fHx7fSkudXJsPWU6dD1lfHx7fSwodD1hKHRoaXMuZGVmYXVsdHMsdCkpLm1ldGhvZD90Lm1ldGhvZD10Lm1ldGhvZC50b0xvd2VyQ2FzZSgpOnRoaXMuZGVmYXVsdHMubWV0aG9kP3QubWV0aG9kPXRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk6dC5tZXRob2Q9XCJnZXRcIjt2YXIgcj10LnRyYW5zaXRpb25hbDt2b2lkIDAhPT1yJiZjLmFzc2VydE9wdGlvbnMocix7c2lsZW50SlNPTlBhcnNpbmc6dS50cmFuc2l0aW9uYWwodS5ib29sZWFuKSxmb3JjZWRKU09OUGFyc2luZzp1LnRyYW5zaXRpb25hbCh1LmJvb2xlYW4pLGNsYXJpZnlUaW1lb3V0RXJyb3I6dS50cmFuc2l0aW9uYWwodS5ib29sZWFuKX0sITEpO3ZhciBuPVtdLG89ITA7dGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJ1bldoZW4mJiExPT09ZS5ydW5XaGVuKHQpfHwobz1vJiZlLnN5bmNocm9ub3VzLG4udW5zaGlmdChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKSl9KSk7dmFyIHMsbD1bXTtpZih0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKChmdW5jdGlvbihlKXtsLnB1c2goZS5mdWxmaWxsZWQsZS5yZWplY3RlZCl9KSksIW8pe3ZhciBmPVtpLHZvaWQgMF07Zm9yKEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGYsbiksZj1mLmNvbmNhdChsKSxzPVByb21pc2UucmVzb2x2ZSh0KTtmLmxlbmd0aDspcz1zLnRoZW4oZi5zaGlmdCgpLGYuc2hpZnQoKSk7cmV0dXJuIHN9Zm9yKHZhciBkPXQ7bi5sZW5ndGg7KXt2YXIgcD1uLnNoaWZ0KCksaD1uLnNoaWZ0KCk7dHJ5e2Q9cChkKX1jYXRjaChlKXtoKGUpO2JyZWFrfX10cnl7cz1pKGQpfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX1mb3IoO2wubGVuZ3RoOylzPXMudGhlbihsLnNoaWZ0KCksbC5zaGlmdCgpKTtyZXR1cm4gc30sbC5wcm90b3R5cGUuZ2V0VXJpPWZ1bmN0aW9uKGUpe3JldHVybiBlPWEodGhpcy5kZWZhdWx0cyxlKSxvKGUudXJsLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sXCJcIil9LG4uZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwib3B0aW9uc1wiXSwoZnVuY3Rpb24oZSl7bC5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KGEocnx8e30se21ldGhvZDplLHVybDp0LGRhdGE6KHJ8fHt9KS5kYXRhfSkpfX0pKSxuLmZvckVhY2goW1wicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiXSwoZnVuY3Rpb24oZSl7bC5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLnJlcXVlc3QoYShufHx7fSx7bWV0aG9kOmUsdXJsOnQsZGF0YTpyfSkpfX0pKSxlLmV4cG9ydHM9bH0sNTgyOihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZnVuY3Rpb24gbygpe3RoaXMuaGFuZGxlcnM9W119by5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5oYW5kbGVycy5wdXNoKHtmdWxmaWxsZWQ6ZSxyZWplY3RlZDp0LHN5bmNocm9ub3VzOiEhciYmci5zeW5jaHJvbm91cyxydW5XaGVuOnI/ci5ydW5XaGVuOm51bGx9KSx0aGlzLmhhbmRsZXJzLmxlbmd0aC0xfSxvLnByb3RvdHlwZS5lamVjdD1mdW5jdGlvbihlKXt0aGlzLmhhbmRsZXJzW2VdJiYodGhpcy5oYW5kbGVyc1tlXT1udWxsKX0sby5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtuLmZvckVhY2godGhpcy5oYW5kbGVycywoZnVuY3Rpb24odCl7bnVsbCE9PXQmJmUodCl9KSl9LGUuZXhwb3J0cz1vfSw2MzooZSx0LHIpPT57dmFyIG49cig0NTIpLG89cigxMjMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiYhbih0KT9vKGUsdCk6dH19LDk4ODooZSx0LHIpPT57dmFyIG49cig0NzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvLHMpe3ZhciBpPW5ldyBFcnJvcihlKTtyZXR1cm4gbihpLHQscixvLHMpfX0sODYyOihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDI1NSkscz1yKDE4MSksaT1yKDI0MiksYT1yKDE0KTtmdW5jdGlvbiBjKGUpe2lmKGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpLGUuc2lnbmFsJiZlLnNpZ25hbC5hYm9ydGVkKXRocm93IG5ldyBhKFwiY2FuY2VsZWRcIil9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBjKGUpLGUuaGVhZGVycz1lLmhlYWRlcnN8fHt9LGUuZGF0YT1vLmNhbGwoZSxlLmRhdGEsZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVxdWVzdCksZS5oZWFkZXJzPW4ubWVyZ2UoZS5oZWFkZXJzLmNvbW1vbnx8e30sZS5oZWFkZXJzW2UubWV0aG9kXXx8e30sZS5oZWFkZXJzKSxuLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIixcImNvbW1vblwiXSwoZnVuY3Rpb24odCl7ZGVsZXRlIGUuaGVhZGVyc1t0XX0pKSwoZS5hZGFwdGVyfHxpLmFkYXB0ZXIpKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBjKGUpLHQuZGF0YT1vLmNhbGwoZSx0LmRhdGEsdC5oZWFkZXJzLGUudHJhbnNmb3JtUmVzcG9uc2UpLHR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHModCl8fChjKGUpLHQmJnQucmVzcG9uc2UmJih0LnJlc3BvbnNlLmRhdGE9by5jYWxsKGUsdC5yZXNwb25zZS5kYXRhLHQucmVzcG9uc2UuaGVhZGVycyxlLnRyYW5zZm9ybVJlc3BvbnNlKSkpLFByb21pc2UucmVqZWN0KHQpfSkpfX0sNDc3OmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbixvKXtyZXR1cm4gZS5jb25maWc9dCxyJiYoZS5jb2RlPXIpLGUucmVxdWVzdD1uLGUucmVzcG9uc2U9byxlLmlzQXhpb3NFcnJvcj0hMCxlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnttZXNzYWdlOnRoaXMubWVzc2FnZSxuYW1lOnRoaXMubmFtZSxkZXNjcmlwdGlvbjp0aGlzLmRlc2NyaXB0aW9uLG51bWJlcjp0aGlzLm51bWJlcixmaWxlTmFtZTp0aGlzLmZpbGVOYW1lLGxpbmVOdW1iZXI6dGhpcy5saW5lTnVtYmVyLGNvbHVtbk51bWJlcjp0aGlzLmNvbHVtbk51bWJlcixzdGFjazp0aGlzLnN0YWNrLGNvbmZpZzp0aGlzLmNvbmZpZyxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19LGV9fSwxNDk6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXt9O2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gbi5pc1BsYWluT2JqZWN0KGUpJiZuLmlzUGxhaW5PYmplY3QodCk/bi5tZXJnZShlLHQpOm4uaXNQbGFpbk9iamVjdCh0KT9uLm1lcmdlKHt9LHQpOm4uaXNBcnJheSh0KT90LnNsaWNlKCk6dH1mdW5jdGlvbiBzKHIpe3JldHVybiBuLmlzVW5kZWZpbmVkKHRbcl0pP24uaXNVbmRlZmluZWQoZVtyXSk/dm9pZCAwOm8odm9pZCAwLGVbcl0pOm8oZVtyXSx0W3JdKX1mdW5jdGlvbiBpKGUpe2lmKCFuLmlzVW5kZWZpbmVkKHRbZV0pKXJldHVybiBvKHZvaWQgMCx0W2VdKX1mdW5jdGlvbiBhKHIpe3JldHVybiBuLmlzVW5kZWZpbmVkKHRbcl0pP24uaXNVbmRlZmluZWQoZVtyXSk/dm9pZCAwOm8odm9pZCAwLGVbcl0pOm8odm9pZCAwLHRbcl0pfWZ1bmN0aW9uIGMocil7cmV0dXJuIHIgaW4gdD9vKGVbcl0sdFtyXSk6ciBpbiBlP28odm9pZCAwLGVbcl0pOnZvaWQgMH12YXIgdT17dXJsOmksbWV0aG9kOmksZGF0YTppLGJhc2VVUkw6YSx0cmFuc2Zvcm1SZXF1ZXN0OmEsdHJhbnNmb3JtUmVzcG9uc2U6YSxwYXJhbXNTZXJpYWxpemVyOmEsdGltZW91dDphLHRpbWVvdXRNZXNzYWdlOmEsd2l0aENyZWRlbnRpYWxzOmEsYWRhcHRlcjphLHJlc3BvbnNlVHlwZTphLHhzcmZDb29raWVOYW1lOmEseHNyZkhlYWRlck5hbWU6YSxvblVwbG9hZFByb2dyZXNzOmEsb25Eb3dubG9hZFByb2dyZXNzOmEsZGVjb21wcmVzczphLG1heENvbnRlbnRMZW5ndGg6YSxtYXhCb2R5TGVuZ3RoOmEsdHJhbnNwb3J0OmEsaHR0cEFnZW50OmEsaHR0cHNBZ2VudDphLGNhbmNlbFRva2VuOmEsc29ja2V0UGF0aDphLHJlc3BvbnNlRW5jb2Rpbmc6YSx2YWxpZGF0ZVN0YXR1czpjfTtyZXR1cm4gbi5mb3JFYWNoKE9iamVjdC5rZXlzKGUpLmNvbmNhdChPYmplY3Qua2V5cyh0KSksKGZ1bmN0aW9uKGUpe3ZhciB0PXVbZV18fHMsbz10KGUpO24uaXNVbmRlZmluZWQobykmJnQhPT1jfHwocltlXT1vKX0pKSxyfX0sMzIyOihlLHQscik9Pnt2YXIgbj1yKDk4OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1yLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztyLnN0YXR1cyYmbyYmIW8oci5zdGF0dXMpP3QobihcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrci5zdGF0dXMsci5jb25maWcsbnVsbCxyLnJlcXVlc3QscikpOmUocil9fSwyNTU6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoMjQyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBzPXRoaXN8fG87cmV0dXJuIG4uZm9yRWFjaChyLChmdW5jdGlvbihyKXtlPXIuY2FsbChzLGUsdCl9KSksZX19LDI0MjooZSx0LHIpPT57dmFyIG49cig0NDYpLG89cig5NjQpLHM9cig0NzcpLGk9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn07ZnVuY3Rpb24gYShlLHQpeyFuLmlzVW5kZWZpbmVkKGUpJiZuLmlzVW5kZWZpbmVkKGVbXCJDb250ZW50LVR5cGVcIl0pJiYoZVtcIkNvbnRlbnQtVHlwZVwiXT10KX12YXIgYyx1PXt0cmFuc2l0aW9uYWw6e3NpbGVudEpTT05QYXJzaW5nOiEwLGZvcmNlZEpTT05QYXJzaW5nOiEwLGNsYXJpZnlUaW1lb3V0RXJyb3I6ITF9LGFkYXB0ZXI6KChcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3R8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSkmJihjPXIoOTk0KSksYyksdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0LFwiQWNjZXB0XCIpLG8odCxcIkNvbnRlbnQtVHlwZVwiKSxuLmlzRm9ybURhdGEoZSl8fG4uaXNBcnJheUJ1ZmZlcihlKXx8bi5pc0J1ZmZlcihlKXx8bi5pc1N0cmVhbShlKXx8bi5pc0ZpbGUoZSl8fG4uaXNCbG9iKGUpP2U6bi5pc0FycmF5QnVmZmVyVmlldyhlKT9lLmJ1ZmZlcjpuLmlzVVJMU2VhcmNoUGFyYW1zKGUpPyhhKHQsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKSxlLnRvU3RyaW5nKCkpOm4uaXNPYmplY3QoZSl8fHQmJlwiYXBwbGljYXRpb24vanNvblwiPT09dFtcIkNvbnRlbnQtVHlwZVwiXT8oYSh0LFwiYXBwbGljYXRpb24vanNvblwiKSxmdW5jdGlvbihlLHQscil7aWYobi5pc1N0cmluZyhlKSl0cnl7cmV0dXJuKDAsSlNPTi5wYXJzZSkoZSksbi50cmltKGUpfWNhdGNoKGUpe2lmKFwiU3ludGF4RXJyb3JcIiE9PWUubmFtZSl0aHJvdyBlfXJldHVybigwLEpTT04uc3RyaW5naWZ5KShlKX0oZSkpOmV9XSx0cmFuc2Zvcm1SZXNwb25zZTpbZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFuc2l0aW9uYWx8fHUudHJhbnNpdGlvbmFsLHI9dCYmdC5zaWxlbnRKU09OUGFyc2luZyxvPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcsaT0hciYmXCJqc29uXCI9PT10aGlzLnJlc3BvbnNlVHlwZTtpZihpfHxvJiZuLmlzU3RyaW5nKGUpJiZlLmxlbmd0aCl0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7aWYoaSl7aWYoXCJTeW50YXhFcnJvclwiPT09ZS5uYW1lKXRocm93IHMoZSx0aGlzLFwiRV9KU09OX1BBUlNFXCIpO3Rocm93IGV9fXJldHVybiBlfV0sdGltZW91dDowLHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIsbWF4Q29udGVudExlbmd0aDotMSxtYXhCb2R5TGVuZ3RoOi0xLHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0yMDAmJmU8MzAwfSxoZWFkZXJzOntjb21tb246e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKlwifX19O24uZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiXSwoZnVuY3Rpb24oZSl7dS5oZWFkZXJzW2VdPXt9fSkpLG4uZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLChmdW5jdGlvbihlKXt1LmhlYWRlcnNbZV09bi5tZXJnZShpKX0pKSxlLmV4cG9ydHM9dX0sNDc0OmU9PntlLmV4cG9ydHM9e3ZlcnNpb246XCIwLjI2LjBcIn19LDk2MjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxuPTA7bjxyLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIGUuYXBwbHkodCxyKX19fSw5ODI6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtmdW5jdGlvbiBvKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lMjAvZyxcIitcIikucmVwbGFjZSgvJTVCL2dpLFwiW1wiKS5yZXBsYWNlKC8lNUQvZ2ksXCJdXCIpfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIXQpcmV0dXJuIGU7dmFyIHM7aWYocilzPXIodCk7ZWxzZSBpZihuLmlzVVJMU2VhcmNoUGFyYW1zKHQpKXM9dC50b1N0cmluZygpO2Vsc2V7dmFyIGk9W107bi5mb3JFYWNoKHQsKGZ1bmN0aW9uKGUsdCl7bnVsbCE9ZSYmKG4uaXNBcnJheShlKT90Kz1cIltdXCI6ZT1bZV0sbi5mb3JFYWNoKGUsKGZ1bmN0aW9uKGUpe24uaXNEYXRlKGUpP2U9ZS50b0lTT1N0cmluZygpOm4uaXNPYmplY3QoZSkmJihlPUpTT04uc3RyaW5naWZ5KGUpKSxpLnB1c2gobyh0KStcIj1cIitvKGUpKX0pKSl9KSkscz1pLmpvaW4oXCImXCIpfWlmKHMpe3ZhciBhPWUuaW5kZXhPZihcIiNcIik7LTEhPT1hJiYoZT1lLnNsaWNlKDAsYSkpLGUrPSgtMT09PWUuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpK3N9cmV0dXJuIGV9fSwxMjM6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXFwvKyQvLFwiXCIpK1wiL1wiK3QucmVwbGFjZSgvXlxcLysvLFwiXCIpOmV9fSw1ODooZSx0LHIpPT57dmFyIG49cig0NDYpO2UuZXhwb3J0cz1uLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/e3dyaXRlOmZ1bmN0aW9uKGUsdCxyLG8scyxpKXt2YXIgYT1bXTthLnB1c2goZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCkpLG4uaXNOdW1iZXIocikmJmEucHVzaChcImV4cGlyZXM9XCIrbmV3IERhdGUocikudG9HTVRTdHJpbmcoKSksbi5pc1N0cmluZyhvKSYmYS5wdXNoKFwicGF0aD1cIitvKSxuLmlzU3RyaW5nKHMpJiZhLnB1c2goXCJkb21haW49XCIrcyksITA9PT1pJiZhLnB1c2goXCJzZWN1cmVcIiksZG9jdW1lbnQuY29va2llPWEuam9pbihcIjsgXCIpfSxyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKFwiKF58O1xcXFxzKikoXCIrZStcIik9KFteO10qKVwiKSk7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbM10pOm51bGx9LHJlbW92ZTpmdW5jdGlvbihlKXt0aGlzLndyaXRlKGUsXCJcIixEYXRlLm5vdygpLTg2NGU1KX19Ont3cml0ZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXt9fX0sNDUyOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QoZSl9fSw3MjY6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uaXNPYmplY3QoZSkmJiEwPT09ZS5pc0F4aW9zRXJyb3J9fSw0OTc6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9bi5pc1N0YW5kYXJkQnJvd3NlckVudigpP2Z1bmN0aW9uKCl7dmFyIGUsdD0vKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7ZnVuY3Rpb24gbyhlKXt2YXIgbj1lO3JldHVybiB0JiYoci5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsbiksbj1yLmhyZWYpLHIuc2V0QXR0cmlidXRlKFwiaHJlZlwiLG4pLHtocmVmOnIuaHJlZixwcm90b2NvbDpyLnByb3RvY29sP3IucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpOlwiXCIsaG9zdDpyLmhvc3Qsc2VhcmNoOnIuc2VhcmNoP3Iuc2VhcmNoLnJlcGxhY2UoL15cXD8vLFwiXCIpOlwiXCIsaGFzaDpyLmhhc2g/ci5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKTpcIlwiLGhvc3RuYW1lOnIuaG9zdG5hbWUscG9ydDpyLnBvcnQscGF0aG5hbWU6XCIvXCI9PT1yLnBhdGhuYW1lLmNoYXJBdCgwKT9yLnBhdGhuYW1lOlwiL1wiK3IucGF0aG5hbWV9fXJldHVybiBlPW8od2luZG93LmxvY2F0aW9uLmhyZWYpLGZ1bmN0aW9uKHQpe3ZhciByPW4uaXNTdHJpbmcodCk/byh0KTp0O3JldHVybiByLnByb3RvY29sPT09ZS5wcm90b2NvbCYmci5ob3N0PT09ZS5ob3N0fX0oKTpmdW5jdGlvbigpe3JldHVybiEwfX0sOTY0OihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7bi5mb3JFYWNoKGUsKGZ1bmN0aW9uKHIsbil7biE9PXQmJm4udG9VcHBlckNhc2UoKT09PXQudG9VcHBlckNhc2UoKSYmKGVbdF09cixkZWxldGUgZVtuXSl9KSl9fSw1NDE6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPVtcImFnZVwiLFwiYXV0aG9yaXphdGlvblwiLFwiY29udGVudC1sZW5ndGhcIixcImNvbnRlbnQtdHlwZVwiLFwiZXRhZ1wiLFwiZXhwaXJlc1wiLFwiZnJvbVwiLFwiaG9zdFwiLFwiaWYtbW9kaWZpZWQtc2luY2VcIixcImlmLXVubW9kaWZpZWQtc2luY2VcIixcImxhc3QtbW9kaWZpZWRcIixcImxvY2F0aW9uXCIsXCJtYXgtZm9yd2FyZHNcIixcInByb3h5LWF1dGhvcml6YXRpb25cIixcInJlZmVyZXJcIixcInJldHJ5LWFmdGVyXCIsXCJ1c2VyLWFnZW50XCJdO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHMsaT17fTtyZXR1cm4gZT8obi5mb3JFYWNoKGUuc3BsaXQoXCJcXG5cIiksKGZ1bmN0aW9uKGUpe2lmKHM9ZS5pbmRleE9mKFwiOlwiKSx0PW4udHJpbShlLnN1YnN0cigwLHMpKS50b0xvd2VyQ2FzZSgpLHI9bi50cmltKGUuc3Vic3RyKHMrMSkpLHQpe2lmKGlbdF0mJm8uaW5kZXhPZih0KT49MClyZXR1cm47aVt0XT1cInNldC1jb29raWVcIj09PXQ/KGlbdF0/aVt0XTpbXSkuY29uY2F0KFtyXSk6aVt0XT9pW3RdK1wiLCBcIityOnJ9fSkpLGkpOml9fSw2NzplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX19LDE2NjooZSx0LHIpPT57dmFyIG49cig0NzQpLnZlcnNpb24sbz17fTtbXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwiZnVuY3Rpb25cIixcInN0cmluZ1wiLFwic3ltYm9sXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7b1tlXT1mdW5jdGlvbihyKXtyZXR1cm4gdHlwZW9mIHI9PT1lfHxcImFcIisodDwxP1wibiBcIjpcIiBcIikrZX19KSk7dmFyIHM9e307by50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm5cIltBeGlvcyB2XCIrbitcIl0gVHJhbnNpdGlvbmFsIG9wdGlvbiAnXCIrZStcIidcIit0KyhyP1wiLiBcIityOlwiXCIpfXJldHVybiBmdW5jdGlvbihyLG4saSl7aWYoITE9PT1lKXRocm93IG5ldyBFcnJvcihvKG4sXCIgaGFzIGJlZW4gcmVtb3ZlZFwiKyh0P1wiIGluIFwiK3Q6XCJcIikpKTtyZXR1cm4gdCYmIXNbbl0mJihzW25dPSEwLGNvbnNvbGUud2FybihvKG4sXCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2XCIrdCtcIiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZVwiKSkpLCFlfHxlKHIsbixpKX19LGUuZXhwb3J0cz17YXNzZXJ0T3B0aW9uczpmdW5jdGlvbihlLHQscil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIik7Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUpLG89bi5sZW5ndGg7by0tID4wOyl7dmFyIHM9bltvXSxpPXRbc107aWYoaSl7dmFyIGE9ZVtzXSxjPXZvaWQgMD09PWF8fGkoYSxzLGUpO2lmKCEwIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIFwiK3MrXCIgbXVzdCBiZSBcIitjKX1lbHNlIGlmKCEwIT09cil0aHJvdyBFcnJvcihcIlVua25vd24gb3B0aW9uIFwiK3MpfX0sdmFsaWRhdG9yczpvfX0sNDQ2OihlLHQscik9Pnt2YXIgbj1yKDk2Miksbz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBhKGUpe3JldHVyblwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PW8uY2FsbChlKX1mdW5jdGlvbiBjKGUpe3JldHVybiBudWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9ZnVuY3Rpb24gdShlKXtpZihcIltvYmplY3QgT2JqZWN0XVwiIT09by5jYWxsKGUpKXJldHVybiExO3ZhciB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gbnVsbD09PXR8fHQ9PT1PYmplY3QucHJvdG90eXBlfWZ1bmN0aW9uIGwoZSl7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09by5jYWxsKGUpfWZ1bmN0aW9uIGYoZSx0KXtpZihudWxsIT1lKWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT1bZV0pLHMoZSkpZm9yKHZhciByPTAsbj1lLmxlbmd0aDtyPG47cisrKXQuY2FsbChudWxsLGVbcl0scixlKTtlbHNlIGZvcih2YXIgbyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiZ0LmNhbGwobnVsbCxlW29dLG8sZSl9ZS5leHBvcnRzPXtpc0FycmF5OnMsaXNBcnJheUJ1ZmZlcjphLGlzQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZSYmIWkoZSkmJm51bGwhPT1lLmNvbnN0cnVjdG9yJiYhaShlLmNvbnN0cnVjdG9yKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihlKX0saXNGb3JtRGF0YTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRm9ybURhdGFdXCI9PT1vLmNhbGwoZSl9LGlzQXJyYXlCdWZmZXJWaWV3OmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmQXJyYXlCdWZmZXIuaXNWaWV3P0FycmF5QnVmZmVyLmlzVmlldyhlKTplJiZlLmJ1ZmZlciYmYShlLmJ1ZmZlcil9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxpc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX0saXNPYmplY3Q6Yyxpc1BsYWluT2JqZWN0OnUsaXNVbmRlZmluZWQ6aSxpc0RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1vLmNhbGwoZSl9LGlzRmlsZTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRmlsZV1cIj09PW8uY2FsbChlKX0saXNCbG9iOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBCbG9iXVwiPT09by5jYWxsKGUpfSxpc0Z1bmN0aW9uOmwsaXNTdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSkmJmwoZS5waXBlKX0saXNVUkxTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IFVSTFNlYXJjaFBhcmFtc11cIj09PW8uY2FsbChlKX0saXNTdGFuZGFyZEJyb3dzZXJFbnY6ZnVuY3Rpb24oKXtyZXR1cm4oXCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcnx8XCJSZWFjdE5hdGl2ZVwiIT09bmF2aWdhdG9yLnByb2R1Y3QmJlwiTmF0aXZlU2NyaXB0XCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOU1wiIT09bmF2aWdhdG9yLnByb2R1Y3QpJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnR9LGZvckVhY2g6ZixtZXJnZTpmdW5jdGlvbiBlKCl7dmFyIHQ9e307ZnVuY3Rpb24gcihyLG4pe3UodFtuXSkmJnUocik/dFtuXT1lKHRbbl0scik6dShyKT90W25dPWUoe30scik6cyhyKT90W25dPXIuc2xpY2UoKTp0W25dPXJ9Zm9yKHZhciBuPTAsbz1hcmd1bWVudHMubGVuZ3RoO248bztuKyspZihhcmd1bWVudHNbbl0scik7cmV0dXJuIHR9LGV4dGVuZDpmdW5jdGlvbihlLHQscil7cmV0dXJuIGYodCwoZnVuY3Rpb24odCxvKXtlW29dPXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bih0LHIpOnR9KSksZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX0sc3RyaXBCT006ZnVuY3Rpb24oZSl7cmV0dXJuIDY1Mjc5PT09ZS5jaGFyQ29kZUF0KDApJiYoZT1lLnNsaWNlKDEpKSxlfX19fSx0PXt9O2Z1bmN0aW9uIHIobil7dmFyIG89dFtuXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIHM9dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0ocyxzLmV4cG9ydHMscikscy5leHBvcnRzfXIubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIHIuZCh0LHthOnR9KSx0fSxyLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClyLm8odCxuKSYmIXIubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LHIubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCk7dmFyIG49e307KCgpPT57ci5kKG4se01TOigpPT5vLE1fOigpPT5zLGhZOigpPT5pLEc0OigpPT5hLF9XOigpPT5jLG86KCk9PnUsQzM6KCk9PmYsZkI6KCk9PmwsaWY6KCk9PmQsJGo6KCk9PlQsVSQ6KCk9PncsVTc6KCk9Pm0sQjU6KCk9PiR9KTt2YXIgZT1yKDQyMSksdD1yLm4oZSk7Y2xhc3MgbyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGU9XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZFwiLHQpe3ZhciByO3N1cGVyKGUpLHQmJih0aGlzLmlubmVyRXJyb3I9dCYmdCksdGhpcy5zdGFjaz1udWxsPT09KHI9dGhpcy5zdGFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIucmVwbGFjZSgvXihcXHcqRXJyb3IpLyxgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9fWNsYXNzIHMgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJVbmFibGUgdG8gYXV0aG9yaXplIGNvbm5lY3Rpb24gdG8gU2FsZXNmb3JjZVwiLHQpe3ZhciByLG4sbztzdXBlcihlLHQpLHQmJnQuaXNBeGlvc0Vycm9yJiYodC5tZXNzYWdlPW51bGwhPT0obz1udWxsPT09KG49bnVsbD09PShyPXQucmVzcG9uc2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRhdGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmVycm9yX2Rlc2NyaXB0aW9uKSYmdm9pZCAwIT09bz9vOnQubWVzc2FnZSl9fWNsYXNzIGkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJOb3QgY29ubmVjdGVkIHRvIFNhbGVzZm9yY2VcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBhIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiUmV0cmlldmUgU2FsZXNmb3JjZSBvYmplY3QgZGF0YSBmYWlsZWRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBjIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiSW52YWxpZCBwYXJhbWV0ZXIgZGV0ZWN0ZWRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyB1IGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiRXhlY3V0ZSBTYWxlc2ZvcmNlIHF1ZXJ5IGZhaWxlZFwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGwgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJVbmFibGUgdG8gcmV0cmlldmUgc2VhcmNoIHJlc3VsdHMgZnJvbSBTYWxlc2ZvcmNlXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgZiBleHRlbmRzIG97Y29uc3RydWN0b3IoZSx0PVwiRXhlY3V0ZSBTYWxlc2ZvcmNlIFJFU1QgQVBJIHJlcXVlc3QgZmFpbGVkXCIpe3ZhciByLG4sbyxzLGk7c3VwZXIodCxudWxsIT1lP2U6dm9pZCAwKSx0aGlzLnJlc3RBcGlFcnJvckNvZGU9XCJcIix0aGlzLnJlc3RBcGlFcnJvckRlc2NyaXB0aW9uPVwiXCIsdGhpcy5yZXN0QXBpUmVzcG9uc2VTdGF0dXM9dm9pZCAwO2NvbnN0IGE9ZTtpZihudWxsPT1hP3ZvaWQgMDphLmlzQXhpb3NFcnJvcil7aWYodGhpcy5yZXN0QXBpUmVzcG9uc2VTdGF0dXM9bnVsbD09PShyPWEucmVzcG9uc2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnN0YXR1cywhKG51bGw9PT0obz1udWxsPT09KG49YS5yZXNwb25zZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGF0YSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKSlyZXR1cm47Y29uc3QgZT1udWxsPT09KGk9bnVsbD09PShzPWEucmVzcG9uc2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmRhdGEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdO2lmKGUpe2NvbnN0e2Vycm9yQ29kZTp0LG1lc3NhZ2U6cn09ZTt0aGlzLnJlc3RBcGlFcnJvckNvZGU9dCx0aGlzLnJlc3RBcGlFcnJvckRlc2NyaXB0aW9uPXJ9fX19Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIix0KXtzdXBlcihlLHQpfX1sZXQgcD0hMTtjb25zdCBoPVwiW0BvcGVuZmluL3NhbGVzZm9yY2VdXCIsdz0oKT0+e3A9ITF9LG09KCk9PntwPSEwLGcoXCJ2Mi4xLjNcIil9LHY9ZT0+e2lmKHAmJihlLmlubmVyRXJyb3I/Y29uc29sZS5lcnJvcihoLGUsXCJcXG5cXG4oaW5uZXIpXCIsZS5pbm5lckVycm9yKTpjb25zb2xlLmVycm9yKGgsZSksZSBpbnN0YW5jZW9mIGYpKXtjb25zdHtyZXN0QXBpRXJyb3JDb2RlOnQscmVzdEFwaUVycm9yRGVzY3JpcHRpb246cn09ZTtpZihyKXtjb25zdCBlPXIucmVwbGFjZSgvXFxuL2csXCIgXCIpLnRyaW0oKSxuPXQ/YCR7dH06ICR7ZX1gOmU7Y29uc29sZS53YXJuKGgsbil9fX0sZz0oLi4uZSk9PntwJiZjb25zb2xlLmxvZyhoLC4uLmUpfSx5PSguLi5lKT0+e3AmJmNvbnNvbGUud2FybihoLC4uLmUpfTt3aW5kb3cuZmlufHxPYmplY3QuYXNzaWduKHdpbmRvdyx7ZmluOnt9fSksT2JqZWN0LmFzc2lnbih3aW5kb3cuZmluLHtJbnRlZ3JhdGlvbnM6e1NhbGVzZm9yY2U6e2VuYWJsZUxvZ2dpbmc6bSxkaXNhYmxlTG9nZ2luZzp3fX19KTtjb25zdCBiPVwiNTQuMFwiLHg9L3ZYWFxcLlgvaSxFPWU9PihBcnJheS5pc0FycmF5KGUpP2U6T2JqZWN0LmVudHJpZXMoZSkpLnJlZHVjZSgoKGUsdCk9Pntjb25zdCByPUFycmF5LmlzQXJyYXkoZSk/dDp0WzFdO2xldCBuO3N3aXRjaCghMCl7Y2FzZSBudWxsPT1yOm49cjticmVhaztjYXNlXCJzdHJpbmdcIj09dHlwZW9mIHI6bj1yLnJlcGxhY2UoeCxcInY1NC4wXCIpO2JyZWFrO2Nhc2UgQXJyYXkuaXNBcnJheShyKTpjYXNlXCJvYmplY3RcIj09dHlwZW9mIHI6bj1FKHIpO2JyZWFrO2RlZmF1bHQ6bj1yfXJldHVybiBBcnJheS5pc0FycmF5KGUpP2UucHVzaChuKTplW3RbMF1dPW4sZX0pLEFycmF5LmlzQXJyYXkoZSk/W106e30pLGs9XCJzYWxlc2ZvcmNlLWF1dGhcIixTPVwiaHR0cHM6Ly9sb2dpbi5zYWxlc2ZvcmNlLmNvbS9zZXJ2aWNlcy9vYXV0aDIvc3VjY2Vzc1wiLEE9KGUsdCxyKT0+e2UuYWNjZXNzVG9rZW4mJndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShfKHQsciksZS5hY2Nlc3NUb2tlbiksZS5yZWZyZXNoVG9rZW4mJndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMKHQsciksZS5yZWZyZXNoVG9rZW4pfSxUPWFzeW5jKGUsdCxyPSExKT0+e2xldCBuO3RyeXtuPW5ldyBVUkwoZSkub3JpZ2lufWNhdGNoKGUpe3Rocm93IG5ldyBjKFwiSW52YWxpZCBTYWxlc2ZvcmNlIFVSTFwiKX1pZighL3NhbGVzZm9yY2UuY29tJC9pLnRlc3QobikpdGhyb3cgbmV3IGMoXCJJbnZhbGlkIFNhbGVzZm9yY2UgVVJMXCIpO2lmKHZvaWQgMD09PShudWxsIT10P3Q6dm9pZCAwKXx8XCJcIj09PXQudHJpbSgpKXRocm93IG5ldyBjKFwiQ29uc3VtZXIga2V5IG5vdCBwcm92aWRlZFwiKTtnKGBDb25uZWN0aW5nIHRvICR7bn0gdXNpbmcga2V5ICR7dH1gKTtjb25zdCBvPWF3YWl0ICQoZSx0KTtpZihvKXJldHVybiBvO2coXCJObyBleGlzdGluZyBjb25uZWN0aW9uIGZvdW5kLCBzdGFydGluZyBhdXRoIGZsb3dcIik7Y29uc3QgYT0oYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbmQoKGU9PmUuaWRlbnRpdHkubmFtZT09PWspKTthJiZhd2FpdCBhLmNsb3NlKCEwKTtjb25zdCB1PXI/XCJodHRwczovL3Rlc3Quc2FsZXNmb3JjZS5jb21cIjpcImh0dHBzOi8vbG9naW4uc2FsZXNmb3JjZS5jb21cIixsPShuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksZj1qKCksZD1hd2FpdCBPKGYpLHA9YCR7dX0vc2VydmljZXMvb2F1dGgyL2F1dGhvcml6ZT9cXG4gICAgY2xpZW50X2lkPSR7dH0mXFxuICAgIHJlZGlyZWN0X3VyaT0ke1N9JlxcbiAgICByZXNwb25zZV90eXBlPWNvZGUmXFxuICAgIHNjb3BlPWFwaStyZWZyZXNoX3Rva2VuJlxcbiAgICBzdGF0ZT0ke2x9JlxcbiAgICBjb2RlX2NoYWxsZW5nZT0ke2R9JlxcbiAgICBkaXNwbGF5PXBvcHVwJlxcbiAgICBwcm9tcHQ9c2VsZWN0X2FjY291bnRcXG4gICAgYC5yZXBsYWNlKC9cXHMvZyxcIlwiKSxoPWF3YWl0IGZpbi5XaW5kb3cuY3JlYXRlKHthbHdheXNPblRvcDohMCxtYXhpbWl6YWJsZTohMSxtaW5pbWl6YWJsZTohMSxhdXRvU2hvdzohMSxkZWZhdWx0Q2VudGVyZWQ6ITAsZGVmYXVsdEhlaWdodDo3MDAsZGVmYXVsdFdpZHRoOjYwMCxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsbmFtZTprLHJlc2l6YWJsZTohMSxzYXZlV2luZG93U3RhdGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExLHVybDpwfSksdz1hd2FpdCBuZXcgUHJvbWlzZSgoKGUsdCk9PntsZXQgcjtjb25zdCBuPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3dpbmRvdy5jbGVhckludGVydmFsKHIpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksaC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxoLmNsb3NlKCEwKTtjb25zdCBlPW5ldyBzKFwiQXV0aG9yaXphdGlvbiB0aW1lZCBvdXRcIik7dihlKSx0KGUpfSksM2U1KTtoLmFkZExpc3RlbmVyKFwiY2xvc2luZ1wiLChhc3luYygpPT57ZyhcIlVzZXIgY2xvc2VkIGF1dGggd2luZG93XCIpLHdpbmRvdy5jbGVhckludGVydmFsKHIpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksaC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtjb25zdCBlPW5ldyBzKFwiRmFpbGVkIHRvIGNvbXBsZXRlIGF1dGhvcml6YXRpb25cIik7dihlKSx0KGUpfSkpLHI9d2luZG93LnNldEludGVydmFsKCgoKT0+KGFzeW5jKGUsdCxyLG4sbyxpKT0+e2xldCBhO3RyeXthPWF3YWl0IGUuZ2V0SW5mbygpfWNhdGNoKGUpe3dpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQocik7Y29uc3Qgbj1uZXcgcyhcIkNvdWxkIG5vdCBsb2NhdGUgb2F1dGggZmxvdyB3aW5kb3dcIik7cmV0dXJuIHYobiksaShuKX1jb25zdCBjPW5ldyBVUkwoYS51cmwpO2lmKDA9PT1uZXcgVVJMKGEudXJsKS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihTLnRvTG93ZXJDYXNlKCkpKXtpZih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KSx3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLGUucmVtb3ZlQWxsTGlzdGVuZXJzKCksZS5jbG9zZSghMCksYy5zZWFyY2hQYXJhbXMuZ2V0KFwic3RhdGVcIikhPT1uKXtjb25zdCBlPW5ldyBzKFwiU3RhdGUgbWlzbWF0Y2hcIik7cmV0dXJuIHYoZSksaShlKX1jb25zdCBhPWMuc2VhcmNoUGFyYW1zLmdldChcImNvZGVcIik7aWYoIWEpe2NvbnN0IGU9bmV3IHMoXCJBdXRob3JpemF0aW9uIGNvZGUgbWlzc2luZ1wiKTtyZXR1cm4gdihlKSxpKGUpfXJldHVybiBnKFwiQXV0aG9yaXphdGlvbiBjb2RlIHJlY2VpdmVkXCIpLG8oYSl9Y29uc3QgdT1hd2FpdCBlLmV4ZWN1dGVKYXZhU2NyaXB0KFwid2luZG93LmRvY3VtZW50LmJvZHkuaW5uZXJUZXh0XCIpLGw9bmV3IFVSTFNlYXJjaFBhcmFtcyh1KS5nZXQoXCJlcnJvcl9kZXNjcmlwdGlvblwiKTtpZihsKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KSx3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLGUucmVtb3ZlQWxsTGlzdGVuZXJzKCksZS5jbG9zZSghMCk7Y29uc3Qgbj1sWzBdLnRvVXBwZXJDYXNlKCkrbC5zbGljZSgxKSxvPW5ldyBzKG4pO3YobyksaShvKX1lbHNlIGF3YWl0IGUuaXNTaG93aW5nKCl8fChnKFwiU2hvd2luZyBhdXRoIHdpbmRvd1wiKSxhd2FpdCBlLnNob3coITApLGF3YWl0IGUuZm9jdXMoKSl9KShoLHIsbixsLGUsdCkpLDUwMCl9KSksbT1hd2FpdCBSKHcsZixuLHQpO2lmKGcoXCJDaGVja2luZyBjb25uZWN0aW9uIHdpdGggbmV3IGFjY2VzcyB0b2tlblwiKSwhYXdhaXQgRChtLmFjY2Vzc1Rva2VuLG4pKXtjb25zdCBlPW5ldyBpKFwiSW52YWxpZCBTYWxlc2ZvcmNlIG9yZyBVUkwgb3IgYWNjZXNzIHRva2VuXCIpO3Rocm93IHYoZSksZX1yZXR1cm4gZyhcIkNvbm5lY3Rpb24gZXN0YWJsaXNoZWRcIiksQShtLG4sdCkse2NvbnN1bWVyS2V5OnQsZGlzY29ubmVjdDpDKG4sdCksZ2V0QXV0aFRva2VuczooKT0+VShuLHQpLG9yZ1VybDpuLGV4ZWN1dGVBcGlSZXF1ZXN0OlAobix0KX19LEM9KGUscik9PmFzeW5jKCk9PntnKFwiRGlzY29ubmVjdGluZyBmcm9tIFNhbGVzZm9yY2VcIik7bGV0IG49d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEwoZSxyKSk7aWYobilnKFwiUmV2b2tpbmcgcmVmcmVzaCB0b2tlblwiKTtlbHNle2lmKG49d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKF8oZSxyKSksIW4pcmV0dXJuIHZvaWQgZyhcIk5vIHRva2VucyBmb3VuZCBpbiBzdG9yYWdlXCIpO2coXCJSZXZva2luZyBhY2Nlc3MgdG9rZW5cIil9dHJ5e2F3YWl0IHQoKS5nZXQoYCR7ZX0vc2VydmljZXMvb2F1dGgyL3Jldm9rZT90b2tlbj0ke259YCl9Y2F0Y2goZSl7eShcIkZhaWxlZCB0byByZXZva2UgdG9rZW5zXCIsbnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKX1CKGUscil9LFI9YXN5bmMoZSxyLG4sbyk9PntnKFwiRXhjaGFuZ2luZyBhdXRoIGNvZGUgZm9yIHRva2Vuc1wiKTtjb25zdCBpPWAke259L3NlcnZpY2VzL29hdXRoMi90b2tlbmAsYT1gXFxuICAgIGdyYW50X3R5cGU9YXV0aG9yaXphdGlvbl9jb2RlJlxcbiAgICBjbGllbnRfaWQ9JHtvfSZcXG4gICAgY29kZT0ke2V9JlxcbiAgICBjb2RlX3ZlcmlmaWVyPSR7cn0mXFxuICAgIHJlZGlyZWN0X3VyaT0ke1N9XFxuICAgIGAucmVwbGFjZSgvXFxzL2csXCJcIik7bGV0IGM7dHJ5e2M9KGF3YWl0IHQoKS5wb3N0KGksYSx7aGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifX0pKS5kYXRhfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHMoXCJGYWlsZWQgdG8gZXhjaGFuZ2UgYXV0aG9yaXphdGlvbiBjb2RlIGZvciBhdXRoIHRva2Vuc1wiLGUpO3Rocm93IHYodCksdH1jb25zdHthY2Nlc3NfdG9rZW46dSxyZWZyZXNoX3Rva2VuOmx9PWM7aWYoIXV8fCFsKXRocm93IG5ldyBzKFwiTWlzc2luZyBhY2Nlc3MgdG9rZW4gb3IgcmVmcmVzaCB0b2tlbiBkdXJpbmcgY29kZSBleGNoYW5nZVwiKTtyZXR1cm4gZyhcIlRva2VucyByZWNlaXZlZFwiKSx7YWNjZXNzVG9rZW46dSxyZWZyZXNoVG9rZW46bH19LE89YXN5bmMgZT0+e2NvbnN0IHQ9KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLHI9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLHQpO3JldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KHIpKSkpLnJlcGxhY2UoL1xcKy9nLFwiLVwiKS5yZXBsYWNlKC9cXC8vZyxcIl9cIikucmVwbGFjZSgvPStcXCQvLFwiXCIpfSxqPSgpPT57Y29uc3QgZT1uZXcgVWludDMyQXJyYXkoNjQpO3JldHVybiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhlKSxBcnJheS5mcm9tKGUsKGU9PmAwJHtlLnRvU3RyaW5nKDE2KX1gLnN1YnN0cigtMikpKS5qb2luKFwiXCIpfSxfPShlLHQpPT5gYWNjZXNzLXRva2VuXyNfJHtuZXcgVVJMKGUpLmhvc3RuYW1lfV8jXyR7dH1gLFU9KGUsdCk9Pih7YWNjZXNzVG9rZW46d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKF8oZSx0KSkscmVmcmVzaFRva2VuOndpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMKGUsdCkpfSksJD1hc3luYyhlLHQpPT57bGV0IHI7aWYoZyhcIkNoZWNraW5nIGZvciBleGlzdGluZyBjb25uZWN0aW9uXCIpLCFlfHwhdClyZXR1cm4gbnVsbDt0cnl7cj1uZXcgVVJMKGUpLm9yaWdpbn1jYXRjaChlKXtyZXR1cm4gbnVsbH1jb25zdHthY2Nlc3NUb2tlbjpufT1VKHIsdCk7aWYoIW4pcmV0dXJuIG51bGw7aWYoIWF3YWl0IEQobixyKSl0cnl7YXdhaXQgSShyLHQpfWNhdGNoKGUpe3JldHVybiBudWxsfXJldHVybiBnKGBDb25uZWN0aW9uIGV4aXN0cyB0byAke2V9YCkse2NvbnN1bWVyS2V5OnQsZGlzY29ubmVjdDpDKHIsdCksZ2V0QXV0aFRva2VuczooKT0+VShyLHQpLG9yZ1VybDpyLGV4ZWN1dGVBcGlSZXF1ZXN0OlAocix0KX19LFA9KGUscik9PmFzeW5jKG4sbyxzLGEsdSk9Pntjb25zdHthY2Nlc3NUb2tlbjpsfT1VKGUscik7aWYoIWwpe2NvbnN0IGU9bmV3IGk7dGhyb3cgdihlKSxlfWNvbnN0IGQ9cj0+KGFzeW5jKGUscixuLG89XCJHRVRcIixzPXt9LGk9e30sYT0hMCk9Pnt2YXIgdSxsO2lmKCFuKXRocm93IG5ldyBjKFwiQVBJIGVuZHBvaW50IG5vdCBwcm92aWRlZFwiKTtsZXQgZDtpZihuPShsPW4pLnN0YXJ0c1dpdGgoXCIvXCIpP2w6YC8ke2x9YCwvXlxcL3NlcnZpY2VzXFwvZGF0YVxcLy9pLnRlc3Qobikpe2NvbnN0IGU9bnVsbD09PSh1PS9cXC92KFxcd3syfVxcLlxcdylcXC8vLmV4ZWMobikpfHx2b2lkIDA9PT11P3ZvaWQgMDp1WzFdO2lmKCFlKXRocm93IG5ldyBmKG51bGwsXCJSRVNUIEFQSSB2ZXJzaW9uIG5vdCBzcGVjaWZpZWRcIik7eC50ZXN0KG4pP249bi5yZXBsYWNlKGUsYik6ZSE9PWImJnkoYFJlcXVlc3RlZCBSRVNUIEFQSSB2ZXJzaW9uICgke2V9KSBpcyBkaWZmZXJlbnQgdG8gdGhlIGN1cnJlbnQgc3VwcG9ydGVkIHZlcnNpb24gKDU0LjApLiBVc2luZyBhbiBBUEkgdmVyc2lvbiBvdGhlciB0aGFuIGN1cnJlbnQgc3VwcG9ydGVkIHZlcnNpb24gbWF5IGNhdXNlIGVycm9ycy5gKSxkPW5ldyBSZWdFeHAoXCIvc2VydmljZXMvZGF0YS92NTQuMC9jb21wb3NpdGVcIixcImlcIikudGVzdChuKT9FKHMpOnN9ZWxzZSBkPXM7ZyhgRXhlY3V0aW5nICR7by50b1VwcGVyQ2FzZSgpfSBBUEkgcmVxdWVzdCB0byAke259YCxkLGkpLGEmJk9iamVjdC5hc3NpZ24oaSx7QXV0aG9yaXphdGlvbjpgQmVhcmVyICR7cn1gfSk7dHJ5e2xldCByO3N3aXRjaChvLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIkRFTEVURVwiOnI9YXdhaXQgdCgpLmRlbGV0ZShgJHtlfSR7bn1gLHtoZWFkZXJzOml9KTticmVhaztjYXNlXCJHRVRcIjpyPWF3YWl0IHQoKS5nZXQoYCR7ZX0ke259YCx7aGVhZGVyczppfSk7YnJlYWs7Y2FzZVwiSEVBRFwiOnI9YXdhaXQgdCgpLmhlYWQoYCR7ZX0ke259YCx7aGVhZGVyczppfSk7YnJlYWs7Y2FzZVwiUEFUQ0hcIjpyPWF3YWl0IHQoKS5wYXRjaChgJHtlfSR7bn1gLHMse2hlYWRlcnM6aX0pO2JyZWFrO2Nhc2VcIlBPU1RcIjpyPWF3YWl0IHQoKS5wb3N0KGAke2V9JHtufWAsZCx7aGVhZGVyczppfSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgZihudWxsLFwiSW52YWxpZCBIVFRQIG1ldGhvZFwiKX1yZXR1cm57ZGF0YTpyLmRhdGEsc3RhdHVzOnIuc3RhdHVzfX1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgZil0aHJvdyBlO3Rocm93IG5ldyBmKGUpfX0pKGUscixuLG8scyxhLHUpO2xldCBwO3RyeXtwPWF3YWl0IGQobCl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgZikpdGhyb3cgdih0KSx0O3JldHVybiBhd2FpdCBOKHQsZSxyLGwsZCl9cmV0dXJuIHB9LEw9KGUsdCk9PmByZWZyZXNoLXRva2VuXyNfJHtuZXcgVVJMKGUpLmhvc3RuYW1lfV8jXyR7dH1gLE49YXN5bmMoZSx0LHIsbixvKT0+e2lmKHYoZSksYXdhaXQgcShlLHQsbikpdHJ5e2NvbnN0IGU9YXdhaXQgSSh0LHIpO3JldHVybiBnKFwiUmV0cnlpbmcgcmVxdWVzdFwiKSxhd2FpdCBvKGUuYWNjZXNzVG9rZW4pfWNhdGNoKGUpe3Rocm93IHYoZSksZX10aHJvdyBlfSxJPWFzeW5jKGUscik9Pnt2YXIgbixvO2NvbnN0e3JlZnJlc2hUb2tlbjpzfT1VKGUscik7aWYoIXMpdGhyb3cgQihlLHIpLG5ldyBpKFwiTm8gcmVmcmVzaCB0b2tlbiBhdmFpbGFibGVcIik7ZyhcIlJlZnJlc2hpbmcgYWNjZXNzIHRva2VuXCIpO2NvbnN0IGE9YCR7ZX0vc2VydmljZXMvb2F1dGgyL3Rva2VuYCxjPWBcXG4gICAgZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuJlxcbiAgICBjbGllbnRfaWQ9JHtyfSZcXG4gICAgcmVmcmVzaF90b2tlbj0ke3N9XFxuICAgIGAucmVwbGFjZSgvXFxzL2csXCJcIik7bGV0IHU7dHJ5e3U9KGF3YWl0IHQoKS5wb3N0KGEsYyx7aGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifX0pKS5kYXRhfWNhdGNoKHQpe2NvbnN0IHM9bnVsbD09PShvPW51bGw9PT0obj10LnJlc3BvbnNlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kYXRhKXx8dm9pZCAwPT09bz92b2lkIDA6by5lcnJvcl9kZXNjcmlwdGlvbixhPVwiRmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuXCI7dGhyb3cgZyhzP2Ake2F9OiAke3N9YDphKSxCKGUsciksbmV3IGkoYSl9Y29uc3R7YWNjZXNzX3Rva2VuOmx9PXU7aWYoIWwpdGhyb3cgbmV3IGkoXCJNaXNzaW5nIGFjY2VzcyB0b2tlbiBhZnRlciByZWZyZXNoaW5nXCIpO2NvbnN0IGY9e2FjY2Vzc1Rva2VuOmwscmVmcmVzaFRva2VuOnN9O3JldHVybiBBKGYsZSxyKSxmfSxCPShlLHQpPT57d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKF8oZSx0KSksd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEwoZSx0KSl9LHE9YXN5bmMoZSx0LHIpPT57dmFyIG47cmV0dXJuKFwiTmV0d29yayBFcnJvclwiPT09KG51bGw9PT0obj1lLmlubmVyRXJyb3IpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm1lc3NhZ2UpfHxcIk5ldHdvcmsgRXJyb3JcIj09PWUubWVzc2FnZSkmJiFhd2FpdCBEKHIsdCl9LEQ9YXN5bmMoZSxyKT0+e3RyeXthd2FpdCB0KCkuZ2V0KGAke3J9L3NlcnZpY2VzL29hdXRoMi91c2VyaW5mbz9vYXV0aF90b2tlbj0ke2V9YCl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9fSkoKTt2YXIgbz1uLk1TLHM9bi5NXyxpPW4uaFksYT1uLkc0LGM9bi5fVyx1PW4ubyxsPW4uQzMsZj1uLmZCLGQ9bi5pZixwPW4uJGosaD1uLlUkLHc9bi5VNyxtPW4uQjU7ZXhwb3J0e28gYXMgQXBpRXJyb3IscyBhcyBBdXRob3JpemF0aW9uRXJyb3IsaSBhcyBDb25uZWN0aW9uRXJyb3IsYSBhcyBPYmplY3REYXRhRXJyb3IsYyBhcyBQYXJhbWV0ZXJFcnJvcix1IGFzIFF1ZXJ5RXJyb3IsbCBhcyBSZXN0QXBpRXJyb3IsZiBhcyBTZWFyY2hFcnJvcixkIGFzIFdvcmtzcGFjZUVycm9yLHAgYXMgY29ubmVjdCxoIGFzIGRpc2FibGVMb2dnaW5nLHcgYXMgZW5hYmxlTG9nZ2luZyxtIGFzIGdldENvbm5lY3Rpb259OyIsIigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXszMTMzOihlLHQsbik9PntuLnIodCksbi5kKHQse0NMSUFjdGlvbjooKT0+emUuUHQsQ0xJRmlsdGVyT3B0aW9uVHlwZTooKT0+emUuZWwsQ0xJVGVtcGxhdGU6KCk9PnplLnlXLGRlcmVnaXN0ZXI6KCk9PlllLGhpZGU6KCk9PnR0LHJlZ2lzdGVyOigpPT5RZSxzaG93OigpPT5ldH0pO3ZhciBvPXt9O24ucihvKSxuLmQobyx7c3Vic2NyaWJlOigpPT5pZX0pO3ZhciByPXt9O24ucihyKSxuLmQocix7Y3JlYXRlOigpPT5HZX0pO3ZhciBpPW4oNjUzMikscz1uKDc0MDUpO2NvbnN0IGE9XCJob21lXCI7dmFyIGM7IWZ1bmN0aW9uKGUpe2UuQ29tbWFuZHM9XCJob21lLWNvbW1hbmRzXCJ9KGN8fChjPXt9KSk7dmFyIGQsdT1uKDU4MDYpO24oNzU2NCk7IWZ1bmN0aW9uKGUpe2VbZS5Jbml0aWFsPTBdPVwiSW5pdGlhbFwiLGVbZS5PcGVuPTFdPVwiT3BlblwiLGVbZS5DbG9zZT0yXT1cIkNsb3NlXCJ9KGR8fChkPXt9KSk7dmFyIGY9big1MzE2KTtjb25zdCBsPVwiYWxsXCIscD1cIjBcIixnPVwiNVwiLHc9XCI2XCIsaD0oKT0+e307ZnVuY3Rpb24geShlLHQpe3JldHVybiBlP2Ake2V9LSR7dH1gOnR9ZnVuY3Rpb24gdihlKXtyZXR1cm5gX19zZWFyY2gtJHtlfS10b3BpY19fYH1jb25zdCBtPW5ldyBNYXA7ZnVuY3Rpb24gUyhlLHQpe20uaGFzKGUpfHxtLnNldChlLG5ldyBTZXQpLG0uZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBDKGUsdCl7Y29uc3Qgbj1tLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBQPW5ldyBNYXA7ZnVuY3Rpb24gUihlLHQpe1AuaGFzKGUpfHxQLnNldChlLG5ldyBTZXQpLFAuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBiKGUsdCl7Y29uc3Qgbj1QLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1jb25zdCBUPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gSShlLHQpe1QuaGFzKGUpfHxULnNldChlLG5ldyBNYXApLFQuZ2V0KGUpLnNldCh0LmlkLHQpO2NvbnN0IG49bS5nZXQoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IG89Wy4uLm5dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwobyl9YXN5bmMgZnVuY3Rpb24gTChlLHQpe2NvbnN0IG49VC5nZXQoZSk7aWYoIW4pcmV0dXJuO24uZGVsZXRlKHQpO2NvbnN0IG89UC5nZXQoZSk7aWYoIW8pcmV0dXJuO2NvbnN0IHI9Wy4uLm9dLm1hcCgoZT0+ZSgpKSk7YXdhaXQgUHJvbWlzZS5hbGwocil9ZnVuY3Rpb24gayhlKXtyZXR1cm4gVC5nZXQoZSk/Wy4uLlQuZ2V0KGUpLnZhbHVlcygpXTpbXX1mdW5jdGlvbiBNKGUpe2NvbnN0IHQ9VC5nZXQoZSk7dCYmdC5jbGVhcigpfWZ1bmN0aW9uIEIoZSx0KXtjb25zdCBuPVQuZ2V0KGUpO3JldHVybiBuP24uZ2V0KHQpOm51bGx9ZnVuY3Rpb24gTyhlLHQsbil7cmV0dXJuey4uLmUsYWN0aW9uOm58fHsuLi5lLmFjdGlvbnNbMF0sdHJpZ2dlcjpmLnB4LlVzZXJBY3Rpb259LGRpc3BhdGNoZXJJZGVudGl0eTp0fX1mdW5jdGlvbiB4KGUsdCxuPVwiYXNjZW5kaW5nXCIpe2NvbnN0IG89ZXx8W107aWYoIXQ/Lmxlbmd0aClyZXR1cm4gbztjb25zdCByPVtdLGk9bmV3IE1hcDt0LmZvckVhY2goKGU9PntpZihlLmtleSlyZXR1cm4gaS5zZXQoZS5rZXksZSk7ci5wdXNoKGUpfSkpO2xldCBzPW8ubWFwKChlPT57Y29uc3R7a2V5OnR9PWU7aWYodCYmaS5oYXModCkpe2NvbnN0IGU9aS5nZXQodCk7cmV0dXJuIGkuZGVsZXRlKHQpLGV9cmV0dXJuIGV9KSk7cmV0dXJuIHMucHVzaCguLi5pLnZhbHVlcygpLC4uLnIpLHM9XCJhc2NlbmRpbmdcIj09PW4/cy5zb3J0KCgoZSx0KT0+KG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKS0obnVsbCE9PXQuc2NvcmUmJnZvaWQgMCE9PXQuc2NvcmU/dC5zY29yZToxLzApKSk6cy5zb3J0KCgoZSx0KT0+KG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKS0obnVsbCE9PWUuc2NvcmUmJnZvaWQgMCE9PWUuc2NvcmU/ZS5zY29yZToxLzApKSksc31mdW5jdGlvbiBBKGUpe2NvbnN0IHQ9e307bGV0IG49W107bGV0IG89W107bGV0IHI9ZC5Jbml0aWFsO3QuZ2V0U3RhdHVzPSgpPT5yLHQuZ2V0UmVzdWx0QnVmZmVyPSgpPT5uLHQuc2V0UmVzdWx0QnVmZmVyPWU9PntuPWUsbj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0UmV2b2tlZEJ1ZmZlcj0oKT0+byx0LnNldFJldm9rZWRCdWZmZXI9ZT0+e289ZSxvPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5vbkNoYW5nZT1oO2NvbnN0IGk9e307cmV0dXJuIHQucmVzPWksaS5jbG9zZT0oKT0+e3IhPT1kLkNsb3NlJiYocj1kLkNsb3NlLHQub25DaGFuZ2UoKSl9LGkub3Blbj0oKT0+e3IhPT1kLk9wZW4mJihyPWQuT3Blbix0Lm9uQ2hhbmdlKCkpfSxpLnJlc3BvbmQ9bj0+e2NvbnN0IG89eCh0LmdldFJlc3VsdEJ1ZmZlcigpLG4sZSk7dC5zZXRSZXN1bHRCdWZmZXIobyl9LGkucmV2b2tlPSguLi5lKT0+e2NvbnN0IG49bmV3IFNldChlKSxvPXQuZ2V0UmVzdWx0QnVmZmVyKCkuZmlsdGVyKCgoe2tleTplfSk9Pntjb25zdCB0PW4uaGFzKGUpO3JldHVybiB0JiZuLmRlbGV0ZShlKSwhdH0pKTt0LnNldFJlc3VsdEJ1ZmZlcihvKSxuLnNpemUmJih0LmdldFJldm9rZWRCdWZmZXIoKS5mb3JFYWNoKChlPT5uLmFkZChlKSkpLHQuc2V0UmV2b2tlZEJ1ZmZlcihbLi4ubl0pKX0sdH1mdW5jdGlvbiBXKGUsdCxuKXtjb25zdCBvPW5ldyBTZXQ7bGV0IHI9ITE7cmV0dXJue2Nsb3NlOigpPT57cj0hMDtmb3IoY29uc3QgZSBvZiBvKWUoKX0scmVxOntpZDp0LHRvcGljOmUsLi4ubixjb250ZXh0Om4/LmNvbnRleHR8fHt9LG9uQ2xvc2U6ZT0+e28uYWRkKGUpLHImJmUoKX0scmVtb3ZlTGlzdGVuZXI6ZT0+e28uZGVsZXRlKGUpfX19fWZ1bmN0aW9uIEQoKXtyZXR1cm57bmFtZTpmaW4ubWUubmFtZSx1dWlkOmZpbi5tZS51dWlkfX1mdW5jdGlvbiBFKCl7bGV0IGU7dHJ5e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoIXQ/LmlkZW50aXR5KXJldHVybjtlPXQuaWRlbnRpdHkudXVpZH1jYXRjaChlKXt9cmV0dXJuIGV9Y29uc3QgRj1cImRlcmVnaXN0ZXJlZCBvciBkb2VzIG5vdCBleGlzdFwiLF89bmV3IEVycm9yKGBwcm92aWRlciAke0Z9YCksJD1uZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIikscT1uZXcgRXJyb3IoXCJiYWQgcGF5bG9hZFwiKSxHPW5ldyBFcnJvcihcInN1YnNjcmlwdGlvbiByZWplY3RlZFwiKSxOPW5ldyBFcnJvcihgY2hhbm5lbCAke0Z9YCksSD1uZXcgTWFwO2Z1bmN0aW9uIFUoZSl7Y29uc3QgdD1WKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgTn1mdW5jdGlvbiBWKGUpe2NvbnN0IHQ9SC5nZXQoZSk7aWYodClyZXR1cm4gdH1mdW5jdGlvbiBqKGUsdCl7SC5zZXQoZSx0KX1jb25zdCBLPW5ldyBNYXA7ZnVuY3Rpb24gWChlKXtLLmhhcyhlKXx8Sy5zZXQoZSxuZXcgTWFwKTtjb25zdCB0PUsuZ2V0KGUpO3JldHVybntnZXRSZXF1ZXN0c0ZvcklkZW50aXR5OmU9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybmAke2UudXVpZH06JHtlLm5hbWV9YH0oZSk7cmV0dXJuIHQuaGFzKG4pfHx0LnNldChuLG5ldyBNYXApLHQuZ2V0KG4pfX19YXN5bmMgZnVuY3Rpb24gSihlLHQpe3JldHVybihhd2FpdCBVKGUpKS5kaXNwYXRjaChwLHQpfWZ1bmN0aW9uIFooe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9KXtjb25zdCBuPUIuYmluZChudWxsLGUpLG89WChlKSxyPUouYmluZChudWxsLGUpO3JldHVybiBhc3luYyhlLGkpPT57aWYoIWV8fCFlLmlkfHwhZS5wcm92aWRlcklkKXtjb25zdCBlPXE7cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3R7aWQ6cyxwcm92aWRlcklkOmF9PWUsYz1uKGEpO2lmKCFjKXtjb25zdCBlPV87cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3QgZD1vLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkoaSk7bGV0IHU9ZC5nZXQoZS5pZCk7dXx8KHU9Vyh0LHMsZSksZC5zZXQoZS5pZCx1KSk7Y29uc3QgZj1BKCksbD0oKT0+e2NvbnN0IGU9Zi5nZXRSZXN1bHRCdWZmZXIoKTtmLnNldFJlc3VsdEJ1ZmZlcihbXSk7Y29uc3QgdD1mLmdldFJldm9rZWRCdWZmZXIoKTtmLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IG49Zi5nZXRTdGF0dXMoKTtyKHtpZDpzLHByb3ZpZGVySWQ6YSxyZXN1bHRzOmUscmV2b2tlZDp0LHN0YXR1czpufSl9O2xldCBwPSEwLGc9ITE7Zi5vbkNoYW5nZT0oKT0+e2lmKHApcmV0dXJuIHA9ITEsdm9pZCBsKCk7Z3x8KGc9ITAsc2V0VGltZW91dCgoKCk9PntnPSExLGwoKX0pLDEwMCkpfTt0cnl7Y29uc3R7cmVzdWx0czplLGNvbnRleHQ6dH09YXdhaXQgYy5vblVzZXJJbnB1dCh1LnJlcSxmLnJlcyksbj1mLmdldFN0YXR1cygpO3JldHVybntpZDpzLHByb3ZpZGVySWQ6YSxzdGF0dXM6bixyZXN1bHRzOmUsY29udGV4dDp0fX1jYXRjaChlKXtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsZXJyb3I6ZS5tZXNzYWdlfX19fWFzeW5jIGZ1bmN0aW9uIHooZSx0LG4pe2NvbnN0IG89bnx8YXdhaXQgVShlKSxyPUQoKSxpPXtpZGVudGl0eTpyLC4uLnQsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfTthd2FpdCBvLmRpc3BhdGNoKFwiMlwiLGkpLGF3YWl0IEkoZSx7aWRlbnRpdHk6ciwuLi50fSl9YXN5bmMgZnVuY3Rpb24gUShlLHQpe2NvbnN0IG49YXdhaXQgVShlKTtyZXR1cm4gYXdhaXQgbi5kaXNwYXRjaChcIjNcIix0KSxMKGUsdCl9YXN5bmMgZnVuY3Rpb24gWShlLHQsbixvKXtjb25zdCByPU8obixEKCksbyksaT1CKGUsdCk7aWYoaSl7Y29uc3R7b25SZXN1bHREaXNwYXRjaDplfT1pO2lmKCFlKXJldHVybjtyZXR1cm4gZShyKX1jb25zdCBzPXtwcm92aWRlcklkOnQscmVzdWx0OnJ9O3JldHVybihhd2FpdCBVKGUpKS5kaXNwYXRjaChnLHMpfWFzeW5jIGZ1bmN0aW9uIGVlKGUsdCl7Y29uc3Qgbj17Li4udCxjb250ZXh0OnQ/LmNvbnRleHR8fHt9fSxvPXt9LHI9YXN5bmMgZnVuY3Rpb24qKGUsdCx7c2V0U3RhdGU6bn0pe2NvbnN0IG89YXdhaXQgVShlKTtmb3IoOzspe2NvbnN0IGU9YXdhaXQgby5kaXNwYXRjaChcIjFcIix0KSxyPWUuZXJyb3I7aWYocil0aHJvdyBuZXcgRXJyb3Iocik7Y29uc3QgaT1lO2lmKHQuaWQ9aS5pZCxuKGkuc3RhdGUpLGkuZG9uZSlyZXR1cm4gaS52YWx1ZTt5aWVsZCBpLnZhbHVlfX0oZSxuLHtzZXRTdGF0ZTplPT57by5zdGF0ZT1lfX0pO2xldCBpPWF3YWl0IHIubmV4dCgpO3JldHVybiBvLmlkPW4uaWQsby5jbG9zZT0oKT0+eyFhc3luYyBmdW5jdGlvbihlLHQpeyhhd2FpdCBVKGUpKS5kaXNwYXRjaCh3LHtpZDp0fSl9KGUsby5pZCl9LG8ubmV4dD0oKT0+e2lmKGkpe2NvbnN0IGU9aTtyZXR1cm4gaT12b2lkIDAsZX1yZXR1cm4gci5uZXh0KCl9LG99YXN5bmMgZnVuY3Rpb24gdGUoZSl7cmV0dXJuKGF3YWl0IFUoZSkpLmRpc3BhdGNoKFwiNFwiLG51bGwpfWFzeW5jIGZ1bmN0aW9uIG5lKGUpe2NvbnN0IHQ9YXdhaXQgVShlKTt2YXIgbjtuPWUsSC5kZWxldGUobiksTShlKSxhd2FpdCB0LmRpc2Nvbm5lY3QoKX1mdW5jdGlvbiBvZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPVgodCk7cmV0dXJuIGFzeW5jIG89PntpZighVih0KSlyZXR1cm47Y29uc3Qgcj1uLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkobyk7Zm9yKGNvbnN0e3JlcTplLGNsb3NlOnR9b2Ygci52YWx1ZXMoKSl0KCksci5kZWxldGUoZS5pZCk7aih0LChhc3luYyBlPT57Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1hd2FpdCByZShlKTtmb3IoY29uc3QgZSBvZiBrKHQpKWF3YWl0IHoodCxlLG4pO3JldHVybiBufSkoZSkpfX1hc3luYyBmdW5jdGlvbiByZShlKXtjb25zdHtuYW1lc3BhY2VkVG9waWM6dH09ZSxuPXYodCksbz1hd2FpdCBhc3luYyBmdW5jdGlvbihlKXtmb3IobGV0IHQ9MDt0PDUwO3QrKyl0cnl7cmV0dXJuIGF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdChlLHt3YWl0OiExfSl9Y2F0Y2goZSl7aWYoNDk9PT10KXRocm93IGU7YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSwxZTMpKSl9fShuKTtyZXR1cm4gby5yZWdpc3RlcihwLFooZSkpLG8ucmVnaXN0ZXIodyxmdW5jdGlvbihlKXtjb25zdCB0PVgoZSk7cmV0dXJuKGUsbik9Pntjb25zdCBvPXQuZ2V0UmVxdWVzdHNGb3JJZGVudGl0eShuKSxyPW8uZ2V0KGUuaWQpO3ImJihyLmNsb3NlKCksby5kZWxldGUoZS5pZCkpfX0odCkpLG8ucmVnaXN0ZXIoZyxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuO2NvbnN0IG89QihlLHQucHJvdmlkZXJJZCk7aWYoIW8pcmV0dXJuO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6cn09bztyZXR1cm4gcj8odC5yZXN1bHQuZGlzcGF0Y2hlcklkZW50aXR5PW4scih0LnJlc3VsdCkpOnZvaWQgMH19KHQpKSxvLm9uRGlzY29ubmVjdGlvbihvZShlKSksb31hc3luYyBmdW5jdGlvbiBpZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljKXx8bCxuPShcInN0cmluZ1wiPT10eXBlb2YgZT9udWxsOmU/LnV1aWQpfHxFKCksbz15KG4sdCkscj17dG9waWM6dCxuYW1lc3BhY2U6bixuYW1lc3BhY2VkVG9waWM6b307bGV0IGk9VihvKTtyZXR1cm4gaXx8KGk9cmUociksaihvLGkpLGF3YWl0IGkpLHtnZXRBbGxQcm92aWRlcnM6dGUuYmluZChudWxsLG8pLHJlZ2lzdGVyOnouYmluZChudWxsLG8pLHNlYXJjaDplZS5iaW5kKG51bGwsbyksZGVyZWdpc3RlcjpRLmJpbmQobnVsbCxvKSxkaXNwYXRjaDpZLmJpbmQobnVsbCxvKSxkaXNjb25uZWN0Om5lLmJpbmQobnVsbCxvKX19Y29uc3Qgc2U9bmV3IE1hcDtmdW5jdGlvbiBhZShlKXtjb25zdCB0PWNlKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgTn1mdW5jdGlvbiBjZShlKXtjb25zdCB0PXNlLmdldChlKTtpZih0KXJldHVybiB0fWNvbnN0IGRlPW5ldyBNYXA7ZnVuY3Rpb24gdWUoZSx0KXtkZS5oYXMoZSl8fGRlLnNldChlLG5ldyBTZXQpLGRlLmdldChlKS5hZGQodCl9ZnVuY3Rpb24gZmUoZSx0KXtjb25zdCBuPWRlLmdldChlKTtuJiZuLmRlbGV0ZSh0KX1mdW5jdGlvbiBsZShlKXtyZXR1cm5bLi4uayhlKV0ubWFwKChlPT4oey4uLmUsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfSkpKX1hc3luYyBmdW5jdGlvbiBwZShlLHQpe2lmKEIoZSx0LmlkKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIik7Y29uc3Qgbj1EKCk7YXdhaXQgSShlLHtpZGVudGl0eTpuLC4uLnR9KX1mdW5jdGlvbiBnZShlLHQpe0woZSx0KX1hc3luYyBmdW5jdGlvbiB3ZShlLHQsbixvKXtjb25zdCByPUIoZSx0KTtpZighcil0aHJvdyBfO2NvbnN0e29uUmVzdWx0RGlzcGF0Y2g6aX09cjtpZighaSlyZXR1cm47cmV0dXJuIGkoTyhuLEQoKSxvKSl9YXN5bmMgZnVuY3Rpb24qaGUoZSx0LG4pe2NvbnN0IG89ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdLG89W10scj1bXSxpPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9QShzLnNjb3JlT3JkZXIpLGE9e3Jlc3VsdHM6W10scHJvdmlkZXI6e2lkOnMuaWQsaWRlbnRpdHk6cy5pZGVudGl0eSx0aXRsZTpzLnRpdGxlLHNjb3JlT3JkZXI6cy5zY29yZU9yZGVyLGljb246cy5pY29uLGRpc3BhdGNoRm9jdXNFdmVudHM6cy5kaXNwYXRjaEZvY3VzRXZlbnRzfX07bi5wdXNoKGEpLG8ucHVzaChlKTtjb25zdCBjPShhc3luYygpPT57dHJ5e2NvbnN0e3Jlc3VsdHM6bixjb250ZXh0Om99PWF3YWl0IHMub25Vc2VySW5wdXQodCxlLnJlcyk7YS5yZXN1bHRzPXgoYS5yZXN1bHRzLG4pLGEuY29udGV4dD17Li4uYS5jb250ZXh0LC4uLm99fWNhdGNoKGUpe2EuZXJyb3I9ZX19KSgpO2MuZmluYWxseSgoKCk9PntjLmRvbmU9ITB9KSksaS5wdXNoKGMpLHIucHVzaChyLmxlbmd0aCl9cmV0dXJue3Byb3ZpZGVyUmVzcG9uc2VzOm4sbGlzdGVuZXJSZXNwb25zZXM6byxvcGVuTGlzdGVuZXJSZXNwb25zZXM6cixpbml0aWFsUmVzcG9uc2VQcm9taXNlczppfX0odC50YXJnZXRzP3QudGFyZ2V0cy5tYXAoKHQ9PkIoZSx0KSkpLmZpbHRlcigoZT0+ISFlKSk6Wy4uLmsoZSkuZmlsdGVyKChlPT4hZS5oaWRkZW4pKV0sdCkse3Byb3ZpZGVyUmVzcG9uc2VzOnIsbGlzdGVuZXJSZXNwb25zZXM6aX09bztsZXR7b3Blbkxpc3RlbmVyUmVzcG9uc2VzOnMsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6YX09byxjPWYuRGUuRmV0Y2hpbmc7Y29uc3QgdT1lPT57Yz1lLG4uc2V0U3RhdGUoYyl9O2xldCBsLHA9ITE7dC5vbkNsb3NlKCgoKT0+e3A9ITAsbCYmbCgpfSkpO2Rve2xldCBlPSExO2lmKGEubGVuZ3RoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGEpbi5kb25lP2U9ITA6dC5wdXNoKG4pO2E9dCxhLmxlbmd0aHx8KHUoZi5EZS5GZXRjaGVkKSxlPSEwKX1sZXQgdCxuPSExO2NvbnN0IG89KCk9PntuPSEwLHQmJnQoKX0sZz1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPWlbdF0scz1yW3RdLGE9bi5nZXRTdGF0dXMoKTsoYT09PWQuT3Blbnx8Yz09PWYuRGUuRmV0Y2hpbmcmJmE9PT1kLkluaXRpYWwpJiYoZy5wdXNoKHQpLG4ub25DaGFuZ2U9byk7Y29uc3QgdT1uLmdldFJlc3VsdEJ1ZmZlcigpO3UubGVuZ3RoJiYobi5zZXRSZXN1bHRCdWZmZXIoW10pLHMucmVzdWx0cz14KHMucmVzdWx0cyx1KSxlPSEwKTtjb25zdCBsPW4uZ2V0UmV2b2tlZEJ1ZmZlcigpO2lmKGwubGVuZ3RoKXtuLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IHQ9bmV3IFNldChsKTtzLnJlc3VsdHM9cy5yZXN1bHRzLmZpbHRlcigoKHtrZXk6ZX0pPT4hdC5oYXMoZSkpKSxlPSEwfX1pZihzPWcsZSYmKHlpZWxkIHIpLHApYnJlYWs7bnx8KHMubGVuZ3RofHxhLmxlbmd0aCkmJmF3YWl0IFByb21pc2UucmFjZShbLi4uYSxuZXcgUHJvbWlzZSgoZT0+e3Q9ZX0pKSxuZXcgUHJvbWlzZSgoZT0+e2w9ZX0pKV0pfXdoaWxlKHMubGVuZ3RofHxhLmxlbmd0aCk7cmV0dXJuIHUoZi5EZS5Db21wbGV0ZSkscn1sZXQgeWU9MDtmdW5jdGlvbiB2ZSh7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0sbil7eWUrPTE7Y29uc3Qgbz1XKHQseWUudG9TdHJpbmcoKSxuKSxyPWhlKGUsby5yZXEse3NldFN0YXRlOmU9PntyLnN0YXRlPWV9fSk7cmV0dXJuIHIuaWQ9eWUudG9TdHJpbmcoKSxyLmNsb3NlPW8uY2xvc2Usci5zdGF0ZT1mLkRlLkZldGNoaW5nLHJ9Y29uc3QgbWU9bmV3IE1hcDtmdW5jdGlvbiBTZShlLHQpe3JldHVybmAke2V9OiR7dH1gfWZ1bmN0aW9uIENlKGUpe3JldHVybiBhc3luYyh0LC4uLm4pPT57aWYoIXQpcmV0dXJue2Vycm9yOnEubWVzc2FnZX07bGV0IG87aWYodC5pZClvPVNlKGUubmFtZXNwYWNlZFRvcGljLHQuaWQpO2Vsc2V7Y29uc3Qgbj12ZShlLHQpO289U2UoZS5uYW1lc3BhY2VkVG9waWMsbi5pZCksdC5pZD1uLmlkLG1lLnNldChvLHtnZW5lcmF0b3I6bn0pfWNvbnN0IHI9bWUuZ2V0KG8pO2NsZWFyVGltZW91dChyLnRpbWVvdXQpO2NvbnN0IGk9YXdhaXQgci5nZW5lcmF0b3IubmV4dCgpO3JldHVybiByLnRpbWVvdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e21lLmRlbGV0ZShlKX0pLDFlNCl9KG8pLHsuLi5pLGlkOnQuaWQsc3RhdGU6ci5nZW5lcmF0b3Iuc3RhdGV9fX1mdW5jdGlvbiBQZShlLHQsbil7cmV0dXJuIGFlKGUpLmRpc3BhdGNoKHQsdyx7aWQ6bn0pfWZ1bmN0aW9uIFJlKGUpe3JldHVybiB0PT5mdW5jdGlvbihlLHQpe2NvbnN0IG49U2UoZSx0KSxvPW1lLmdldChuKTtvJiZvLmdlbmVyYXRvci5jbG9zZSgpfShlLHQuaWQpfWFzeW5jIGZ1bmN0aW9uIGJlKGUsdCx7aWQ6bixxdWVyeTpvLGNvbnRleHQ6cix0YXJnZXRzOml9KXtjb25zdCBzPWFlKGUpLGE9e2lkOm4scXVlcnk6byxjb250ZXh0OnIsdGFyZ2V0czppLHByb3ZpZGVySWQ6dC5pZH0sYz1hd2FpdCBzLmRpc3BhdGNoKHQuaWRlbnRpdHkscCxhKSxkPWMuZXJyb3I7aWYoZCl0aHJvdyBuZXcgRXJyb3IoZCk7cmV0dXJuIGN9Y29uc3QgVGU9bmV3IE1hcDtmdW5jdGlvbiBJZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0Lm5hbWV9OiR7dC51dWlkfToke259YH1jb25zdCBMZT1uZXcgTWFwO2Z1bmN0aW9uIGtlKGUsdCxuKXtyZXR1cm5gJHtlfToke3R9OiR7bn1gfWZ1bmN0aW9uIE1lKGUsdCl7Y29uc3Qgbj1JZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxvPVBlLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLHI9YmUuYmluZChudWxsLGUsdCk7cmV0dXJuIGFzeW5jKGkscyk9Pntjb25zdCBhPW4oaS5pZCk7aWYoIVRlLmhhcyhhKSl7Y29uc3QgZT0oKT0+e28oaS5pZCksVGUuZGVsZXRlKGEpfTtUZS5zZXQoYSxlKSxpLm9uQ2xvc2UoZSl9Y29uc3QgYz1rZShlLHQuaWQsaS5pZCksdT0oKT0+e0xlLmRlbGV0ZShjKSxzLmNsb3NlKCl9O2kub25DbG9zZSh1KSxMZS5zZXQoYywoZT0+e2UucmVzdWx0cz8ubGVuZ3RoJiZzLnJlc3BvbmQoZS5yZXN1bHRzKSxlLnJldm9rZWQ/Lmxlbmd0aCYmcy5yZXZva2UoLi4uZS5yZXZva2VkKSxlLnN0YXR1cz09PWQuT3BlbiYmcy5vcGVuKCksZS5zdGF0dXM9PT1kLkNsb3NlJiZ1KCl9KSk7Y29uc3QgZj1hd2FpdCByKGkpO3JldHVybiBmLnN0YXR1cz09PWQuT3BlbiYmcy5vcGVuKCksZi5zdGF0dXMhPT1kLkNsb3NlJiZmLnN0YXR1cyE9PWQuSW5pdGlhbHx8dSgpLGZ9fWZ1bmN0aW9uIEJlKGUsdCl7cmV0dXJuIGFzeW5jIG49Pntjb25zdCBvPWFlKGUpLHI9e3Byb3ZpZGVySWQ6dC5pZCxyZXN1bHQ6bn07cmV0dXJuIG8uZGlzcGF0Y2godC5pZGVudGl0eSxnLHIpfX1jb25zdCBPZT1uZXcgTWFwO2Z1bmN0aW9uIHhlKGUsdCl7cmV0dXJuYCR7ZX0tJHt0Lm5hbWV9LSR7dC51dWlkfWB9ZnVuY3Rpb24gQWUoZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQuaWQpcmV0dXJuIHZvaWQgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHQpKTtpZihCKGUsdC5pZCkpdGhyb3cgJDt0LmlkZW50aXR5PW4sYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPXhlKGUsdC5pZGVudGl0eSk7T2UuaGFzKG4pfHxPZS5zZXQobixbXSksT2UuZ2V0KG4pLnB1c2godC5pZCksYXdhaXQgSShlLHsuLi50LG9uVXNlcklucHV0Ok1lKGUsdCksb25SZXN1bHREaXNwYXRjaDpCZShlLHQpfSl9KGUsdCl9fWZ1bmN0aW9uIFdlKGUpe3JldHVybiB0PT57dCYmZnVuY3Rpb24oZSx0KXtjb25zdCBuPUIoZSx0KTtpZighbilyZXR1cm47Y29uc3Qgbz14ZShlLG4uaWRlbnRpdHkpLHI9T2UuZ2V0KG8pO2lmKHIpe2NvbnN0IG49ci5maW5kSW5kZXgoKGU9PmU9PT10KSk7LTEhPT1uJiYoci5zcGxpY2UobiwxKSxMKGUsdCkpfX0oZSx0KX19Y29uc3QgRGU9bmV3IE1hcDtmdW5jdGlvbiBFZShlLHQpe0RlLmhhcyhlKXx8RGUuc2V0KGUsbmV3IFNldCksRGUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBGZShlLHQpe2NvbnN0IG49RGUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWZ1bmN0aW9uIF9lKGUpe3JldHVybiBhc3luYyB0PT57IWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj14ZShlLHQpLG89T2UuZ2V0KG4pO2lmKG8pe2Zvcihjb25zdCB0IG9mIG8pTChlLHQpO09lLmRlbGV0ZShuKX19KGUsdCk7Y29uc3Qgbj1EZS5nZXQoZSk7biYmbi5mb3JFYWNoKChlPT5lKHQpKSl9fWFzeW5jIGZ1bmN0aW9uICRlKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49dihlLm5hbWVzcGFjZWRUb3BpYyksbz1hd2FpdChyPW4sZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jcmVhdGUocikpO3ZhciByO3JldHVybiBvLm9uQ29ubmVjdGlvbihmdW5jdGlvbih7bmFtZXNwYWNlZFRvcGljOmV9KXtyZXR1cm4gYXN5bmMgdD0+e2NvbnN0IG49ZGUuZ2V0KGUpO2lmKG4pZm9yKGNvbnN0IGUgb2YgbilpZighYXdhaXQgZSh0KSl0aHJvdyBHfX0oZSkpLG8ub25EaXNjb25uZWN0aW9uKF9lKHQpKSxvLnJlZ2lzdGVyKHcsUmUodCkpLG8ucmVnaXN0ZXIocCxmdW5jdGlvbihlKXtyZXR1cm4gdD0+e2NvbnN0IG49a2UoZSx0LnByb3ZpZGVySWQsdC5pZCksbz1MZS5nZXQobik7byYmbyh0KX19KHQpKSxvLnJlZ2lzdGVyKFwiMlwiLEFlKHQpKSxvLnJlZ2lzdGVyKFwiM1wiLFdlKHQpKSxvLnJlZ2lzdGVyKFwiNFwiLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYygpPT5sZShlKX0odCkpLG8ucmVnaXN0ZXIoXCIxXCIsQ2UoZSkpLG8ucmVnaXN0ZXIoZyxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuO2NvbnN0IG89QihlLHQucHJvdmlkZXJJZCk7aWYoIW8pdGhyb3cgXztjb25zdHtvblJlc3VsdERpc3BhdGNoOnJ9PW87cmV0dXJuIHI/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLHIodC5yZXN1bHQpKTp2b2lkIDB9fSh0KSksb31hc3luYyBmdW5jdGlvbiBxZShlKXtjb25zdCB0PWFlKGUpO3ZhciBuO249ZSxzZS5kZWxldGUobiksYXdhaXQgdC5kZXN0cm95KCksTShlKX1hc3luYyBmdW5jdGlvbiBHZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljKXx8bCxuPUUoKSxvPXkobix0KSxyPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpvfTtsZXQgaT1jZShvKTtpfHwoaT1hd2FpdCAkZShyKSxmdW5jdGlvbihlLHQpe3NlLnNldChlLHQpfShvLGkpKTtjb25zdCBzPWZlLmJpbmQobnVsbCxvKSxhPUZlLmJpbmQobnVsbCxvKSxjPUMuYmluZChudWxsLG8pLGQ9Yi5iaW5kKG51bGwsbyk7cmV0dXJue2dldEFsbFByb3ZpZGVyczpsZS5iaW5kKG51bGwsbyksc2VhcmNoOnZlLmJpbmQobnVsbCxyKSxyZWdpc3RlcjpwZS5iaW5kKG51bGwsbyksZGVyZWdpc3RlcjpnZS5iaW5kKG51bGwsbyksb25TdWJzY3JpcHRpb246dWUuYmluZChudWxsLG8pLG9uRGlzY29ubmVjdDpFZS5iaW5kKG51bGwsbyksb25SZWdpc3RlcjpTLmJpbmQobnVsbCxvKSxvbkRlcmVnaXN0ZXI6Ui5iaW5kKG51bGwsbyksZGlzcGF0Y2g6d2UuYmluZChudWxsLHIpLGRpc2Nvbm5lY3Q6cWUuYmluZChudWxsLG8pLHJlbW92ZUxpc3RlbmVyOmU9PntzKGUpLGEoZSksYyhlKSxkKGUpfX19Y29uc3R7Y3JlYXRlOk5lfT1yLHtzdWJzY3JpYmU6SGV9PW8sVWU9e2NyZWF0ZTpOZSxzdWJzY3JpYmU6SGUsZGVmYXVsdFRvcGljOlwiYWxsXCJ9LFZlPSgpPT57Y29uc3QgZT13aW5kb3c7ZS5zZWFyY2g9VWUsZS5maW4mJihlLmZpbi5TZWFyY2g9VWUpfSxqZT1lPT57Y29uc3QgdD0oKT0+e1ZlKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX07cmV0dXJuIHR9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe1ZlKCk7Y29uc3QgZT1cImxvYWRcIix0PWplKGUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCk7Y29uc3Qgbj1cIkRPTUNvbnRlbnRMb2FkZWRcIixvPWplKG4pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4sbyl9Y29uc3QgS2U9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBYZSgpe2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe0tlLnNldChlLGF3YWl0IEhlKHt0b3BpYzplLHV1aWQ6dS5xOS5Xb3Jrc3BhY2V9KSl9KGEpfWxldCBKZTthc3luYyBmdW5jdGlvbiBaZShlKXtyZXR1cm4gYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4gSmV8fChKZT1YZSgpKSxKZX0oKSxLZS5nZXQoZSl9dmFyIHplPW4oMzc1OCk7Y29uc3QgUWU9YXN5bmMgZT0+e2lmKCFlLmljb24pdGhyb3cgbmV3IEVycm9yKGAke2UuaWR9IHByb3ZpZGVyIG5lZWRzIHRvIGhhdmUgaWNvbiBwcm9wZXJ0eSBkZWZpbmVkLmApO2F3YWl0KDAscy5hQikoKTtjb25zdCB0PWF3YWl0IFplKGEpO3RyeXtjb25zdCBuPWF3YWl0IHQucmVnaXN0ZXIoZSk7cmV0dXJuKDAsaS5jaykoe2FsbG93ZWQ6ITB9KSxufWNhdGNoKGUpe3Rocm93KDAsaS5jaykoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTplLm1lc3NhZ2V9KSxlfX0sWWU9YXN5bmMgZT0+e2F3YWl0KDAscy5hQikoKTtyZXR1cm4oYXdhaXQgWmUoYSkpLmRlcmVnaXN0ZXIoZSl9O2FzeW5jIGZ1bmN0aW9uIGV0KCl7cmV0dXJuKGF3YWl0KDAscy5YbCkoKSkuZGlzcGF0Y2gocy5NbC5TaG93SG9tZSx2b2lkIDApfWFzeW5jIGZ1bmN0aW9uIHR0KCl7cmV0dXJuKGF3YWl0KDAscy5YbCkoKSkuZGlzcGF0Y2gocy5NbC5IaWRlSG9tZSx2b2lkIDApfX0sMzI5ODooZSx0LG4pPT57bi5kKHQse3c6KCk9Pm8ud3R9KTt2YXIgbz1uKDUzMTYpfSwzNzU4OihlLHQsbik9Pnt2YXIgbyxyLGk7bi5kKHQse1B0OigpPT5vLHlXOigpPT5yLGVsOigpPT5pfSksZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShpfHwoaT17fSkpfSw3NTY0OihlLHQsbik9PntuKDMyOTgpLG4oMzc1OCksbig2MTE0KSxuKDIxMDkpfSw2MTE0OihlLHQsbik9Pnt2YXIgbyxyO24uZCh0LHtMOigpPT5vLFQ6KCk9PnJ9KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShyfHwocj17fSkpfSwyMTA5OihlLHQsbik9PntuLmQodCx7cDY6KCk9Pm8sR286KCk9PnIsYkk6KCk9PmksWko6KCk9PnN9KTtjb25zdCBvPXtDb250YWluZXI6XCJDb250YWluZXJcIixCdXR0b246XCJCdXR0b25cIn0scj17VGV4dDpcIlRleHRcIixJbWFnZTpcIkltYWdlXCIsTGlzdDpcIkxpc3RcIn0saT17Li4ubywuLi5yfTt2YXIgczshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KHN8fChzPXt9KSl9LDMxNzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtBcHBNYW5pZmVzdFR5cGU6KCk9PmkuTCxTdG9yZWZyb250VGVtcGxhdGU6KCk9PmkuVCxkZXJlZ2lzdGVyOigpPT5mLGhpZGU6KCk9PmwscmVnaXN0ZXI6KCk9PnUsc2hvdzooKT0+cH0pO3ZhciBvPW4oNjUzMikscj1uKDc0MDUpO24oNzU2NCk7dmFyIGk9big2MTE0KTtsZXQgcztjb25zdCBhPW5ldyBNYXAsYz1lPT57aWYoIWEuaGFzKGUpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBQcm92aWRlciB3aXRoIGlkICR7ZX0gaXMgbm90IHJlZ2lzdGVyZWRgKTtyZXR1cm4gYS5nZXQoZSl9LGQ9YXN5bmMgZT0+e2NvbnN0IHQ9YXdhaXQoMCxyLlhsKSgpO2lmKGEuaGFzKGUuaWQpKXRocm93IG5ldyBFcnJvcihgU3RvcmVmcm9udCBwcm92aWRlciB3aXRoIGlkICR7ZS5pZH0gYWxyZWFkeSByZWdpc3RlcmVkYCk7cmV0dXJuIGEuc2V0KGUuaWQsZSksKGU9PntlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkfHwoZS5pc1N0b3JlZnJvbnRBY3Rpb25zUmVnaXN0ZXJlZD0hMCxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyQXBwcywoZT0+YyhlKS5nZXRBcHBzKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyLChlPT5jKGUpLmdldEZvb3RlcigpKSksZS5yZWdpc3RlcihyLk1sLkdldFN0b3JlZnJvbnRQcm92aWRlckxhbmRpbmdQYWdlLChlPT5jKGUpLmdldExhbmRpbmdQYWdlKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyTmF2aWdhdGlvbiwoZT0+YyhlKS5nZXROYXZpZ2F0aW9uKCkpKSxlLnJlZ2lzdGVyKHIuTWwuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwLCgoe2lkOmUsYXBwOnR9KT0+YyhlKS5sYXVuY2hBcHAodCkpKSl9KSh0KSx0LmRpc3BhdGNoKHIuTWwuUmVnaXN0ZXJTdG9yZWZyb250UHJvdmlkZXIsZSl9LHU9ZT0+KHM9ZChlKSwoMCxvLmQ5KSh7YWxsb3dlZDohMH0pLHMpLGY9YXN5bmMgZT0+e2F3YWl0IHMsYS5kZWxldGUoZSk7cmV0dXJuKGF3YWl0KDAsci5YbCkoKSkuZGlzcGF0Y2goci5NbC5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLGUpfSxsPWFzeW5jKCk9Pnthd2FpdCBzLGF3YWl0KDAsci5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLk1sLkhpZGVTdG9yZWZyb250LHZvaWQgMCkpKCl9LHA9YXN5bmMoKT0+e2F3YWl0IHMsYXdhaXQoMCxyLmFCKSgpLGF3YWl0KGFzeW5jKCk9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuTWwuU2hvd1N0b3JlZnJvbnQsbnVsbCkpKCl9fSw3NDA1OihlLHQsbik9PntuLmQodCx7TWw6KCk9PnMsRG06KCk9PmEsWGw6KCk9PmYsYUI6KCk9PnV9KTt2YXIgbz1uKDY2NzgpO2NvbnN0IHI9by5BeCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7dmFyIGk9bigxMjEpO3ZhciBzOyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVycz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyc1wiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwiLGUuQ3JlYXRlU3RvcmVmcm9udFdpbmRvdz1cImNyZWF0ZS1zdG9yZWZyb250LXdpbmRvd1wiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwifShzfHwocz17fSkpO2NvbnN0IGE9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuKCk9PntpZighby5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCByO2NvbnN0IG49YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUpO3JldHVybiBuLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLG59KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgobj0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke259YCl9KSkpLHR9fShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksYz1cImlzTGF1bmNoZWRWaWFMaWJcIixkPWU9Pntjb25zdCB0PW5ldyBVUkwoZSk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLmFwcGVuZChjLFwidHJ1ZVwiKSx0LnRvU3RyaW5nKCl9LHU9YXN5bmMoKT0+e2lmKCFhd2FpdCgwLGkuSlYpKGkuaVcpKXJldHVybihvLlpLfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSkmJmF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChkKG8uYVcpKSxmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihkKG8uR1gpKX0sZj1hc3luYygpPT4oYXdhaXQgdSgpLGEoKSl9LDU4MDY6KGUsdCxuKT0+e24uZCh0LHtxOTooKT0+b30pO3ZhciBvLHIsaSxzPW4oNjY3OCk7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oaXx8KGk9e30pKTtzLkFCLHMuQUIsby5Xb3Jrc3BhY2Usby5Xb3Jrc3BhY2V9LDY2Nzg6KGUsdCxuKT0+e3ZhciBvO24uZCh0LHtzUzooKT0+cixBeDooKT0+aSxBQjooKT0+YSxvQzooKT0+YyxaSzooKT0+ZCxHWDooKT0+dSxhVzooKT0+Zix1MDooKT0+cH0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0ob3x8KG89e30pKTtjb25zdCByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4saT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxzPWk/d2luZG93Lm9yaWdpbjpvLkxvY2FsLGE9ciYmZmluLm1lLnV1aWQsYz1yJiZmaW4ubWUubmFtZSxkPShyJiZmaW4ubWUuZW50aXR5VHlwZSxcInByb2RcIj09PW8uTG9jYWwpLHU9KG8uRGV2LG8uU3RhZ2luZyxvLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLGY9XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS84LjEuNi9hcHAuanNvblwiLGw9ZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTpzK2UscD0obChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzguMS42XCIpLGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS84LjEuNlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZsKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJmwoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCksXCI4LjEuNlwiKX0sNjUzMjooZSx0LG4pPT57bi5kKHQse2NrOigpPT5hLGQ5OigpPT5jfSk7dmFyIG8scj1uKDY2NzgpLGk9bigxMjEpOyFmdW5jdGlvbihlKXtlLkJyb3dzZXI9XCJCcm93c2VyXCIsZS5Ib21lPVwiSG9tZVwiLGUuTm90aWZpY2F0aW9uPVwiTm90aWZpY2F0aW9uXCIsZS5TdG9yZWZyb250PVwiU3RvcmVmcm9udFwiLGUuUGxhdGZvcm09XCJQbGF0Zm9ybVwiLGUuVGhlbWluZz1cIlRoZW1pbmdcIn0ob3x8KG89e30pKTtjb25zdCBzPWFzeW5jKGUsdCk9Pntjb25zdCBuPXthcGlWZXJzaW9uOnQuYXBpVmVyc2lvbnx8ci51MCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjpyLnUwLC4uLnR9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTpcIndvcmtzcGFjZS1saWNlbnNpbmdcIixkYXRhOm59KX0sYT1hc3luYyBlPT57aS5PSS51dWlkPT09aS5HaS51dWlkJiZpLk9JLm5hbWU9PT1pLkdpLm5hbWV8fHMoby5Ib21lLGUpfSxjPWFzeW5jIGU9PntzKG8uU3RvcmVmcm9udCxlKX19LDEyMTooZSx0LG4pPT57bi5kKHQse0dpOigpPT5jLE9JOigpPT5kLGlXOigpPT51LEpWOigpPT5mfSk7dmFyIG8scixpPW4oNTgwNikscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0ocnx8KHI9e30pKTtmdW5jdGlvbiBhKGUpe2lmKCFzLnNTKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfWNvbnN0IGM9e25hbWU6cy5vQyx1dWlkOnMuQUJ9O2NvbnN0IGQ9e25hbWU6by5Ib21lLHV1aWQ6aS5xOS5Xb3Jrc3BhY2V9LHU9KG8uRG9jayxpLnE5LldvcmtzcGFjZSxvLlN0b3JlZnJvbnQsaS5xOS5Xb3Jrc3BhY2Use25hbWU6aS5xOS5Xb3Jrc3BhY2UsdXVpZDppLnE5LldvcmtzcGFjZX0pO2NvbnN0IGY9ZT0+YShlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpfSw1MzE2OihlLHQsbik9Pnt2YXIgbyxyLGk7bi5kKHQse0RlOigpPT5vLHB4OigpPT5yLHd0OigpPT5pfSksZnVuY3Rpb24oZSl7ZS5GZXRjaGluZz1cImZldGNoaW5nXCIsZS5GZXRjaGVkPVwiZmV0Y2hlZFwiLGUuQ29tcGxldGU9XCJjb21wbGV0ZVwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuVXNlckFjdGlvbj1cInVzZXItYWN0aW9uXCIsZS5Gb2N1c0NoYW5nZT1cImZvY3VzLWNoYW5nZVwiLGUuUmVsb2FkPVwicmVsb2FkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KGl8fChpPXt9KSl9fSx0PXt9O2Z1bmN0aW9uIG4obyl7dmFyIHI9dFtvXTtpZih2b2lkIDAhPT1yKXJldHVybiByLmV4cG9ydHM7dmFyIGk9dFtvXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbb10oaSxpLmV4cG9ydHMsbiksaS5leHBvcnRzfW4uZD0oZSx0KT0+e2Zvcih2YXIgbyBpbiB0KW4ubyh0LG8pJiYhbi5vKGUsbykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8se2VudW1lcmFibGU6ITAsZ2V0OnRbb119KX0sbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBvPXt9OygoKT0+e24ucihvKSxuLmQobyx7QXBwTWFuaWZlc3RUeXBlOigpPT5wLkwsQnV0dG9uU3R5bGU6KCk9PmYuWkosQ0xJQWN0aW9uOigpPT5sLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PmwuZWwsQ0xJVGVtcGxhdGU6KCk9PmwueVcsQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5mLnA2LEhvbWU6KCk9PnIsTGVnYWN5OigpPT5lLFByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5HbyxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT51LncsU3RvcmVmcm9udDooKT0+ZCxTdG9yZWZyb250VGVtcGxhdGU6KCk9PnAuVCxUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PmYuYkl9KTt2YXIgZT17fTtuLnIoZSksbi5kKGUse2dldFBhZ2VzOigpPT5hLGdldFdvcmtzcGFjZXM6KCk9PmN9KTt2YXIgdCxyPW4oMzEzMyk7big2Njc4KSxuKDEyMSk7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifSh0fHwodD17fSkpO25ldyBNYXA7dmFyIGk7IWZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCJ9KGl8fChpPXt9KSk7dmFyIHM9big3NDA1KTtjb25zdCBhPSgpPT5hc3luYyBmdW5jdGlvbigpe3JldHVybihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuTWwuR2V0TGVnYWN5UGFnZXMsdm9pZCAwKX0oKSxjPSgpPT4oYXN5bmMoKT0+KGF3YWl0KDAscy5EbSkoKSkuZGlzcGF0Y2gocy5NbC5HZXRMZWdhY3lXb3Jrc3BhY2VzLHZvaWQgMCkpKCk7dmFyIGQ9bigzMTcpLHU9bigzMjk4KSxmPW4oMjEwOSksbD1uKDM3NTgpLHA9big2MTE0KX0pKCksbW9kdWxlLmV4cG9ydHM9b30pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQge1xyXG4gICAgY29ubmVjdCxcclxuICAgIENvbm5lY3Rpb25FcnJvcixcclxuICAgIGVuYWJsZUxvZ2dpbmcsXHJcbiAgICB0eXBlIFNhbGVzZm9yY2VDb25uZWN0aW9uLFxyXG4gICAgdHlwZSBTYWxlc2ZvcmNlUmVzdEFwaVNlYXJjaFJlc3BvbnNlXHJcbn0gZnJvbSBcIkBvcGVuZmluL3NhbGVzZm9yY2VcIjtcclxuaW1wb3J0IHtcclxuICAgIENMSUZpbHRlck9wdGlvblR5cGUsXHJcbiAgICBDTElUZW1wbGF0ZSxcclxuICAgIHR5cGUgQ0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcclxuICAgIHR5cGUgQ0xJRmlsdGVyLFxyXG4gICAgdHlwZSBDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlLFxyXG4gICAgdHlwZSBDTElTZWFyY2hSZXN1bHRDb250YWN0LFxyXG4gICAgdHlwZSBDTElTZWFyY2hSZXN1bHRMaXN0LFxyXG4gICAgdHlwZSBDTElTZWFyY2hSZXN1bHRQbGFpbixcclxuICAgIHR5cGUgQ0xJU2VhcmNoUmVzdWx0U2ltcGxlVGV4dCxcclxuICAgIHR5cGUgSG9tZVNlYXJjaFJlc3BvbnNlLFxyXG4gICAgdHlwZSBIb21lU2VhcmNoUmVzdWx0XHJcbn0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xyXG5pbXBvcnQgdHlwZSB7IEludGVncmF0aW9uLCBJbnRlZ3JhdGlvbk1hbmFnZXIsIEludGVncmF0aW9uTW9kdWxlIH0gZnJvbSBcIi4uLy4uL2ludGVncmF0aW9ucy1zaGFwZXNcIjtcclxuaW1wb3J0IHR5cGUge1xyXG4gICAgU2FsZXNmb3JjZUFjY291bnQsXHJcbiAgICBTYWxlc2ZvcmNlQmF0Y2hSZXF1ZXN0LFxyXG4gICAgU2FsZXNmb3JjZUJhdGNoUmVxdWVzdEl0ZW0sXHJcbiAgICBTYWxlc2ZvcmNlQmF0Y2hSZXNwb25zZSxcclxuICAgIFNhbGVzZm9yY2VDb250YWN0LFxyXG4gICAgU2FsZXNmb3JjZUNvbnRlbnROb3RlLFxyXG4gICAgU2FsZXNmb3JjZUZlZWRFbGVtZW50UGFnZSxcclxuICAgIFNhbGVzZm9yY2VGZWVkSXRlbSxcclxuICAgIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxyXG4gICAgU2FsZXNmb3JjZVNldHRpbmdzLFxyXG4gICAgU2FsZXNmb3JjZVRhc2tcclxufSBmcm9tIFwiLi9zaGFwZXNcIjtcclxuXHJcbi8qKlxyXG4gKiBJbXBsZW1lbnQgdGhlIGludGVncmF0aW9uIHByb3ZpZGVyIGZvciBTYWxlc0ZvcmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyIGltcGxlbWVudHMgSW50ZWdyYXRpb25Nb2R1bGU8U2FsZXNmb3JjZVNldHRpbmdzPiB7XHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVyIGlkLlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9QUk9WSURFUl9JRCA9IFwic2FsZXNmb3JjZVwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGtleSB0byB1c2UgZm9yIGEgU2FsZXNGb3JjZSByZXN1bHQuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgX0JST1dTRV9TRUFSQ0hfUkVTVUxUX0tFWSA9IFwiYnJvd3NlLXNhbGVzZm9yY2VcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBpZCBmb3IgdGhlIFNhbGVGb3JjZSBmaWx0ZXJzLlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9PQkpFQ1RTX0ZJTFRFUl9JRCA9IFwic2FsZXNmb3JjZS1vYmplY3RzXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaWQgb2YgdGhlIG5vdCBjb25uZWN0ZWQgcmVzdWx0LlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9OT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZID0gXCJzYWxlc2ZvcmNlLW5vdC1jb25uZWN0ZWQtcmVzdWx0XCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaW50ZWdyYXRpb24gbWFuYWdlci5cclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9pbnRlZ3JhdGlvbk1hbmFnZXI6IEludGVncmF0aW9uTWFuYWdlciB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBjb25uZWN0aW9uIHRvIFNhbGVzRm9yY2UuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfc2FsZXNGb3JjZUNvbm5lY3Rpb246IFNhbGVzZm9yY2VDb25uZWN0aW9uIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1vZHVsZSBpcyBiZWluZyByZWdpc3RlcmVkLlxyXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uTWFuYWdlciBUaGUgbWFuYWdlciBmb3IgdGhlIGludGVncmF0aW9uLlxyXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxyXG4gICAgICogQHJldHVybnMgTm90aGluZy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIHJlZ2lzdGVyKFxyXG4gICAgICAgIGludGVncmF0aW9uTWFuYWdlcjogSW50ZWdyYXRpb25NYW5hZ2VyLFxyXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+XHJcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0aGlzLl9pbnRlZ3JhdGlvbk1hbmFnZXIgPSBpbnRlZ3JhdGlvbk1hbmFnZXI7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWdpc3RlcmluZyBTYWxlc0ZvcmNlXCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMub3BlbkNvbm5lY3Rpb24oaW50ZWdyYXRpb24pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY29ubmVjdGluZyB0byBTYWxlc0ZvcmNlXCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1vZHVsZSBpcyBiZWluZyBkZXJlZ2lzdGVyZWQuXHJcbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXHJcbiAgICAgKiBAcmV0dXJucyBOb3RoaW5nLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgZGVyZWdpc3RlcihpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHRoZSBzdGF0aWMgYXBwbGljYXRpb24gZW50cmllcy5cclxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cclxuICAgICAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIGFwcGxpY2F0aW9uIGVudHJpZXMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBnZXRBcHBTZWFyY2hFbnRyaWVzKGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+KTogUHJvbWlzZTxIb21lU2VhcmNoUmVzdWx0W10+IHtcclxuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICAgICAgaWYgKGludGVncmF0aW9uPy5kYXRhPy5vcmdVcmwpIHtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiQnJvd3NlXCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVySWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcclxuICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiBpbnRlZ3JhdGlvbj8uZGF0YT8ub3JnVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURdXHJcbiAgICAgICAgICAgICAgICB9IGFzIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24uaWNvbixcclxuICAgICAgICAgICAgICAgIGtleTogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX0JST1dTRV9TRUFSQ0hfUkVTVUxUX0tFWSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5QbGFpbixcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlQ29udGVudDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQnJvd3NlIFNhbGVzZm9yY2VcIlxyXG4gICAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdFBsYWluKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2FsZXNGb3JjZUNvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmdldFJlY29ubmVjdFNlYXJjaFJlc3VsdChpbnRlZ3JhdGlvbikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuIGVudHJ5IGhhcyBiZWVuIHNlbGVjdGVkLlxyXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxyXG4gICAgICogQHBhcmFtIHJlc3VsdCBUaGUgZGlzcGF0Y2hlZCByZXN1bHQuXHJcbiAgICAgKiBAcGFyYW0gbGFzdFJlc3BvbnNlIFRoZSBsYXN0IHJlc3BvbnNlLlxyXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgaXRlbSB3YXMgaGFuZGxlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIGl0ZW1TZWxlY3Rpb24oXHJcbiAgICAgICAgaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4sXHJcbiAgICAgICAgcmVzdWx0OiBDTElEaXNwYXRjaGVkU2VhcmNoUmVzdWx0LFxyXG4gICAgICAgIGxhc3RSZXNwb25zZTogQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZVxyXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgY2xpY2tlZCB0aGUgcmVjb25uZWN0IHJlc3VsdCwgcmVjb25uZWN0IHRvIHNhbGVzZm9yY2UgYW5kIHJlLXJ1biBxdWVyeVxyXG4gICAgICAgIGlmIChyZXN1bHQua2V5ID09PSBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fTk9UX0NPTk5FQ1RFRF9TRUFSQ0hfUkVTVUxUX0tFWSkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9wZW5Db25uZWN0aW9uKGludGVncmF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YT8ucXVlcnkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLmdldFNlYXJjaFJlc3VsdHMoaW50ZWdyYXRpb24sIHJlc3VsdC5kYXRhPy5xdWVyeSwgcmVzdWx0LmRhdGE/LmZpbHRlcnMsIGxhc3RSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3BvbnNlLnJldm9rZShTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fTk9UX0NPTk5FQ1RFRF9TRUFSQ0hfUkVTVUxUX0tFWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3BvbnNlLnJlc3BvbmQocmVzdWx0cy5yZXN1bHRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG90aGVyd2lzZSBvcGVuIHRoZSByZXN1bHQgcGFnZSB1cmwgaW4gYnJvd3NlclxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXN1bHQuZGF0YSBhcyBTYWxlc2ZvcmNlUmVzdWx0RGF0YTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX2ludGVncmF0aW9uTWFuYWdlciAmJiB0aGlzLl9pbnRlZ3JhdGlvbk1hbmFnZXIucm9vdFVybCAmJiB0aGlzLl9pbnRlZ3JhdGlvbk1hbmFnZXIubGF1bmNoVmlldykge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVsb2FkID0gYCR7dGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyLnJvb3RVcmx9L3ZpZXdzL3NhbGVzZm9yY2UvcHJlbG9hZC5qc2A7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZXdPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgdXJsOiBkYXRhLnBhZ2VVcmwsXHJcbiAgICAgICAgICAgICAgICBmZGMzSW50ZXJvcEFwaTogXCIxLjJcIixcclxuICAgICAgICAgICAgICAgIGludGVyb3A6IHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udGV4dEdyb3VwOiBcImdyZWVuXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjdXN0b21EYXRhOiB7IGJ1dHRvbkxhYmVsOiBcIlByb2Nlc3MgUGFydGljaXBhbnRcIiB9LFxyXG4gICAgICAgICAgICAgICAgcHJlbG9hZFNjcmlwdHM6IFt7IHVybDogcHJlbG9hZCB9XSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogeyBuYW1lOiBcIlwiLCB1cmw6IFwiXCIsIHV1aWQ6IFwiXCIgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9pbnRlZ3JhdGlvbk1hbmFnZXIubGF1bmNoVmlldyh2aWV3T3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHNlYXJjaCByZXN1bHRzIGJhc2VkIG9uIHRoZSBxdWVyeSBhbmQgZmlsdGVycy5cclxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cclxuICAgICAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gc2VhcmNoIGZvci5cclxuICAgICAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxyXG4gICAgICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCBzZWFyY2ggcmVzcG9uc2UgdXNlZCBmb3IgdXBkYXRpbmcgZXhpc3RpbmcgcmVzdWx0cy5cclxuICAgICAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIHJlc3VsdHMgYW5kIG5ldyBmaWx0ZXJzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0U2VhcmNoUmVzdWx0cyhcclxuICAgICAgICBpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPixcclxuICAgICAgICBxdWVyeTogc3RyaW5nLFxyXG4gICAgICAgIGZpbHRlcnM6IENMSUZpbHRlcltdLCBcclxuICAgICAgICBsYXN0UmVzcG9uc2U6IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2VcclxuICAgICk6IFByb21pc2U8SG9tZVNlYXJjaFJlc3BvbnNlPiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2hSZXN1bHRzOiAoXHJcbiAgICAgICAgICAgICAgICB8IFNhbGVzZm9yY2VBY2NvdW50XHJcbiAgICAgICAgICAgICAgICB8IFNhbGVzZm9yY2VDb250YWN0XHJcbiAgICAgICAgICAgICAgICB8IFNhbGVzZm9yY2VUYXNrXHJcbiAgICAgICAgICAgICAgICB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZVxyXG4gICAgICAgICAgICAgICAgfCBTYWxlc2ZvcmNlRmVlZEl0ZW1cclxuICAgICAgICAgICAgKVtdO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkT2JqZWN0czogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsdGVycykgJiYgZmlsdGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RzRmlsdGVyID0gZmlsdGVycy5maW5kKHggPT4geC5pZCA9PT0gU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX09CSkVDVFNfRklMVEVSX0lEKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmplY3RzRmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3RzID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG9iamVjdHNGaWx0ZXIub3B0aW9ucykgPyBvYmplY3RzRmlsdGVyLm9wdGlvbnMgOiBbb2JqZWN0c0ZpbHRlci5vcHRpb25zXVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih4ID0+IEJvb2xlYW4oeC5pc1NlbGVjdGVkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCh4ID0+ICh4LnZhbHVlID09PSBcIk5vdGVcIiA/IFwiQ29udGVudE5vdGVcIiA6IHgudmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMgPSBhd2FpdCB0aGlzLmdldEFwaVNlYXJjaFJlc3VsdHMocXVlcnksIHNlbGVjdGVkT2JqZWN0cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHNlYXJjaFJlc3VsdHMubWFwKHNlYXJjaFJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiV2Vic2l0ZVwiIGluIHNlYXJjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHNlYXJjaFJlc3VsdC5hdHRyaWJ1dGVzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlYXJjaFJlc3VsdC5JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGludGVncmF0aW9uPy5kYXRhPy5pY29uTWFwLmFjY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJJZDogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VVcmw6IHRoaXMuZ2V0T2JqZWN0VXJsKHNlYXJjaFJlc3VsdC5JZCwgaW50ZWdyYXRpb24uZGF0YT8ub3JnVXJsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiBbU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lEXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBDTElUZW1wbGF0ZS5Db250YWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2VhcmNoUmVzdWx0Lk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNlYXJjaFJlc3VsdC5JbmR1c3RyeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlBob25lXCIsIHNlYXJjaFJlc3VsdC5QaG9uZV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJUeXBlXCIsIHNlYXJjaFJlc3VsdC5UeXBlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIldlYnNpdGVcIiwgc2VhcmNoUmVzdWx0LldlYnNpdGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiRW1haWxcIiBpbiBzZWFyY2hSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBzZWFyY2hSZXN1bHQuSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0Lk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5jb250YWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVySWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiB0aGlzLmdldE9iamVjdFVybChzZWFyY2hSZXN1bHQuSWQsIGludGVncmF0aW9uLmRhdGE/Lm9yZ1VybCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogW1NhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ29udGFjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlQ29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlYXJjaFJlc3VsdC5OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuVGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlSW5pdGlhbHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJEZXBhcnRtZW50XCIsIHNlYXJjaFJlc3VsdC5EZXBhcnRtZW50XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIkVtYWlsXCIsIHNlYXJjaFJlc3VsdC5FbWFpbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJXb3JrICNcIiwgc2VhcmNoUmVzdWx0LlBob25lXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIkRlc2NyaXB0aW9uXCIgaW4gc2VhcmNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc2VhcmNoUmVzdWx0LmF0dHJpYnV0ZXMudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNlYXJjaFJlc3VsdC5TdWJqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24/LmRhdGE/Lmljb25NYXAudGFzayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVVybDogdGhpcy5nZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiU3ViamVjdFwiLCBzZWFyY2hSZXN1bHQuU3ViamVjdF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiQ29tbWVudHNcIiwgc2VhcmNoUmVzdWx0LkRlc2NyaXB0aW9uXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdExpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIlRleHRQcmV2aWV3XCIgaW4gc2VhcmNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJOb3RlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlYXJjaFJlc3VsdC5JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuVGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5ub3RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVySWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiB0aGlzLmdldE9iamVjdFVybChzZWFyY2hSZXN1bHQuSWQsIGludGVncmF0aW9uLmRhdGE/Lm9yZ1VybCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogW1NhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCJMaXN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJUaXRsZVwiLCBzZWFyY2hSZXN1bHQuVGl0bGVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIkNvbnRlbnRcIiwgc2VhcmNoUmVzdWx0Py5UZXh0UHJldmlld11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0b3JcIiBpbiBzZWFyY2hSZXN1bHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlYXJjaFJlc3VsdC50eXBlID09PSBcIlRleHRQb3N0XCIgfHwgc2VhcmNoUmVzdWx0LnR5cGUgPT09IFwiQ29udGVudFBvc3RcIilcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNoYXR0ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNlYXJjaFJlc3VsdC5hY3Rvcj8uZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5jaGF0dGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVySWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiB0aGlzLmdldE9iamVjdFVybChzZWFyY2hSZXN1bHQuaWQsIGludGVncmF0aW9uLmRhdGE/Lm9yZ1VybCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogW1NhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgU2FsZXNmb3JjZVJlc3VsdERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ29udGFjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlQ29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlYXJjaFJlc3VsdC5hY3Rvcj8uZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlSW5pdGlhbHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJIZWFkZXJcIiwgc2VhcmNoUmVzdWx0Py5oZWFkZXI/LnRleHRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiTm90ZVwiLCBzZWFyY2hSZXN1bHQ/LmJvZHk/LnRleHRdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlIHdlIGFyZSBvbmx5IHNlYXJjaGluZyBmb3IgYWNjb3VudHMsIGNvbnRhY3RzLCB0YXNrcywgY29udGVudCBub3RlcyBhbmQgY2hhdHRlclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoQm9vbGVhbikgYXMgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdFtdO1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0cyA9IHNlYXJjaFJlc3VsdHMubWFwKHJlc3VsdCA9PlxyXG4gICAgICAgICAgICAgICAgICAgIFwiYXR0cmlidXRlc1wiIGluIHJlc3VsdCA/IHJlc3VsdC5hdHRyaWJ1dGVzLnR5cGUgOiBcIkNoYXR0ZXJcIlxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IGZpbHRlcmVkUmVzdWx0cyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IHRoaXMuZ2V0U2VhcmNoRmlsdGVycyhvYmplY3RzLm1hcChjID0+IChjID09PSBcIkNvbnRlbnROb3RlXCIgPyBcIk5vdGVcIiA6IGMpKSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgQ29ubmVjdGlvbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW3RoaXMuZ2V0UmVjb25uZWN0U2VhcmNoUmVzdWx0KGludGVncmF0aW9uLCBxdWVyeSwgZmlsdGVycyldXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIFNhbGVzRm9yY2Ugc2VhcmNoIHJlc3VsdHNcIiwgZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdWx0czogW11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiB0aGUgY29ubmVjdGlvbiB0byBTYWxlRm9yY2UuXHJcbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBvcGVuQ29ubmVjdGlvbihpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGlmIChpbnRlZ3JhdGlvbj8uZGF0YT8ub3JnVXJsICYmICF0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICBlbmFibGVMb2dnaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdChcclxuICAgICAgICAgICAgICAgIGludGVncmF0aW9uPy5kYXRhLm9yZ1VybCxcclxuICAgICAgICAgICAgICAgIGludGVncmF0aW9uPy5kYXRhLmNvbnN1bWVyS2V5LFxyXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb24/LmRhdGEuaXNTYW5kYm94XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xvc2UgdGhlIGNvbm5lY3Rpb24gdG8gU2FsZXNGb3JjZS5cclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGNsb3NlQ29ubmVjdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBpZiAodGhpcy5fc2FsZXNGb3JjZUNvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGlzY29ubmVjdGluZyBTYWxlc0ZvcmNlXCIsIGVycik7XHJcbiAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSB0aGUgb2JqZWN0IHVybCBmcm9tIHRoZSBpZiBhbmQgb3JpZ2luLlxyXG4gICAgICogQHBhcmFtIG9iamVjdElkIFRoZSBvYmplY3QgaWQuXHJcbiAgICAgKiBAcGFyYW0gc2FsZXNmb3JjZU9yZ09yaWdpbiBUaGUgb3JpZ2luIHVybC5cclxuICAgICAqIEByZXR1cm5zIFRoZW4gb2JqZWN0IHVybC5cclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldE9iamVjdFVybChvYmplY3RJZDogc3RyaW5nLCBzYWxlc2ZvcmNlT3JnT3JpZ2luPzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIXNhbGVzZm9yY2VPcmdPcmlnaW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgJHtzYWxlc2ZvcmNlT3JnT3JpZ2lufS8ke29iamVjdElkfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcmVzdWx0cyBmcm9tIHRoZSBBUEkgdXNpbmcgYSBxdWVyeS5cclxuICAgICAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gY2FsbCB0aGUgQVBJIHdpdGguXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRPYmplY3RzIFRoZSBzZWxlY3RlZCBmaWx0ZXJzLlxyXG4gICAgICogQHJldHVybnMgVGhlIHNlYXJjaCByZXN1bHQgb2JqZWN0cyBmcm9tIHRoZSBBUEkuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRBcGlTZWFyY2hSZXN1bHRzKFxyXG4gICAgICAgIHF1ZXJ5OiBzdHJpbmcsXHJcbiAgICAgICAgc2VsZWN0ZWRPYmplY3RzPzogc3RyaW5nW11cclxuICAgICk6IFByb21pc2U8XHJcbiAgICAgICAgKFNhbGVzZm9yY2VDb250YWN0IHwgU2FsZXNmb3JjZUFjY291bnQgfCBTYWxlc2ZvcmNlVGFzayB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZSB8IFNhbGVzZm9yY2VGZWVkSXRlbSlbXVxyXG4gICAgPiB7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudEZpZWxkU3BlYyA9IFwiQWNjb3VudChJZCwgSW5kdXN0cnksIE5hbWUsIFBob25lLCBUeXBlLCBXZWJzaXRlKVwiO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhY3RGaWVsZFNwZWMgPSBcIkNvbnRhY3QoRGVwYXJ0bWVudCwgRW1haWwsIElkLCBOYW1lLCBQaG9uZSwgVGl0bGUpXCI7XHJcbiAgICAgICAgY29uc3QgdGFza0ZpZWxkU3BlYyA9IFwiVGFzayhJZCwgU3ViamVjdCwgRGVzY3JpcHRpb24pXCI7XHJcbiAgICAgICAgY29uc3QgY29udGVudE5vdGVGaWVsZFNwZWMgPSBcIkNvbnRlbnROb3RlKElkLCBUaXRsZSwgQ29udGVudCwgVGV4dFByZXZpZXcpXCI7XHJcbiAgICAgICAgY29uc3QgZmllbGRTcGVjTWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oW1xyXG4gICAgICAgICAgICBbXCJBY2NvdW50XCIsIGFjY291bnRGaWVsZFNwZWNdLFxyXG4gICAgICAgICAgICBbXCJDb250YWN0XCIsIGNvbnRhY3RGaWVsZFNwZWNdLFxyXG4gICAgICAgICAgICBbXCJUYXNrXCIsIHRhc2tGaWVsZFNwZWNdLFxyXG4gICAgICAgICAgICBbXCJDb250ZW50Tm90ZVwiLCBjb250ZW50Tm90ZUZpZWxkU3BlY11cclxuICAgICAgICBdKTtcclxuICAgICAgICBjb25zdCBmaWVsZFNwZWNzID0gWy4uLmZpZWxkU3BlY01hcF1cclxuICAgICAgICAgICAgLmZpbHRlcih4ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdGVkT2JqZWN0cykgJiYgc2VsZWN0ZWRPYmplY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRPYmplY3RzLmluY2x1ZGVzKHhbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoeCA9PiB4WzFdKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmF0Y2g6IFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtW10gPSBmaWVsZFNwZWNzLm1hcChmaWVsZFNwZWMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzYWxlc2ZvcmNlU2VhcmNoUXVlcnkgPSBgRklORCB7JHt0aGlzLmVzY2FwZVF1ZXJ5KHF1ZXJ5KX19IElOIEFMTCBGSUVMRFMgUkVUVVJOSU5HICR7ZmllbGRTcGVjfSBMSU1JVCAxMGA7XHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIHVybDogYC9zZXJ2aWNlcy9kYXRhL3ZYWC5YL3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhbGVzZm9yY2VTZWFyY2hRdWVyeSl9YCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBpbmNsdWRlQ2hhdHRlciA9ICFzZWxlY3RlZE9iamVjdHM/Lmxlbmd0aCB8fCBzZWxlY3RlZE9iamVjdHMuaW5jbHVkZXMoXCJDaGF0dGVyXCIpO1xyXG4gICAgICAgIGlmIChpbmNsdWRlQ2hhdHRlcikge1xyXG4gICAgICAgICAgICBiYXRjaC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIHVybDogYC9zZXJ2aWNlcy9kYXRhL3ZYWC5YL2NoYXR0ZXIvZmVlZC1lbGVtZW50cz9xPSR7cXVlcnl9JnBhZ2VTaXplPTI1JnNvcnQ9TGFzdE1vZGlmaWVkRGF0ZURlc2NgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmF0Y2hlZFJlc3VsdHMgPSBhd2FpdCB0aGlzLmdldEJhdGNoZWRSZXN1bHRzPFxyXG4gICAgICAgICAgICB8IFNhbGVzZm9yY2VSZXN0QXBpU2VhcmNoUmVzcG9uc2U8XHJcbiAgICAgICAgICAgICAgICAgIFNhbGVzZm9yY2VBY2NvdW50IHwgU2FsZXNmb3JjZUNvbnRhY3QgfCBTYWxlc2ZvcmNlVGFzayB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgfCBTYWxlc2ZvcmNlRmVlZEVsZW1lbnRQYWdlXHJcbiAgICAgICAgPihiYXRjaCk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHRzOiAoXHJcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUFjY291bnRcclxuICAgICAgICAgICAgfCBTYWxlc2ZvcmNlQ29udGFjdFxyXG4gICAgICAgICAgICB8IFNhbGVzZm9yY2VUYXNrXHJcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUNvbnRlbnROb3RlXHJcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUZlZWRJdGVtXHJcbiAgICAgICAgKVtdID0gW107XHJcblxyXG4gICAgICAgIGlmIChiYXRjaGVkUmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgICAgICBmb3IgKDsgaWR4IDwgZmllbGRTcGVjcy5sZW5ndGg7IGlkeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hSZXNwb25zZSA9IGJhdGNoZWRSZXN1bHRzW2lkeF0gYXMgU2FsZXNmb3JjZVJlc3RBcGlTZWFyY2hSZXNwb25zZTxTYWxlc2ZvcmNlQWNjb3VudCB8IFNhbGVzZm9yY2VDb250YWN0IHwgU2FsZXNmb3JjZVRhc2sgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGU+O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJlc3BvbnNlPy5zZWFyY2hSZWNvcmRzPy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoc2VhcmNoUmVzcG9uc2Uuc2VhcmNoUmVjb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbmNsdWRlQ2hhdHRlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hhdHRlclJlc3BvbnNlID0gYmF0Y2hlZFJlc3VsdHNbaWR4KytdIGFzIFNhbGVzZm9yY2VGZWVkRWxlbWVudFBhZ2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhdHRlclJlc3BvbnNlPy5lbGVtZW50cz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGNoYXR0ZXJSZXNwb25zZS5lbGVtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGJhdGNoZWQgcmVzdWx0cyBmcm9tIFNhbGVzRm9yY2UgYXBpLlxyXG4gICAgICogQHBhcmFtIGJhdGNoUmVxdWVzdHMgVGhlIGJhdGNoIHJlcXVlc3RzIHRvIHNlbmQuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0cyBmcm9tIHRoZSBiYXRjaCByZXF1ZXN0LlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0QmF0Y2hlZFJlc3VsdHM8VD4oYmF0Y2hSZXF1ZXN0czogU2FsZXNmb3JjZUJhdGNoUmVxdWVzdEl0ZW1bXSk6IFByb21pc2U8VFtdPiB7XHJcbiAgICAgICAgaWYgKGJhdGNoUmVxdWVzdHMubGVuZ3RoID09PSAwIHx8ICF0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJhdGNoOiBTYWxlc2ZvcmNlQmF0Y2hSZXF1ZXN0ID0geyBiYXRjaFJlcXVlc3RzLCBoYWx0T25FcnJvcjogZmFsc2UgfTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbi5leGVjdXRlQXBpUmVxdWVzdDxTYWxlc2ZvcmNlQmF0Y2hSZXNwb25zZT4oXHJcbiAgICAgICAgICAgIFwiL3NlcnZpY2VzL2RhdGEvdlhYLlgvY29tcG9zaXRlL2JhdGNoL1wiLFxyXG4gICAgICAgICAgICBcIlBPU1RcIixcclxuICAgICAgICAgICAgYmF0Y2gsXHJcbiAgICAgICAgICAgIHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhPy5yZXN1bHRzLm1hcChyID0+IHIucmVzdWx0IGFzIFQpID8/IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXNjYXBlIGFueSBjaGFyYWN0ZXJzIG5lZWRlZCBpbiBTYWxlc0ZvcmNlIEFQSSBjYWxscy5cclxuICAgICAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gZXNjYXBlLlxyXG4gICAgICogQHJldHVybnMgVGhlIGVzY2FwZWQgcXVlcnkuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBlc2NhcGVRdWVyeShxdWVyeTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAvLyBUaGVyZSBhcmUgc29tZSByZXNlcnZlZCBjaGFyYWN0ZXJzIGZvciBxdWVyaWVzIHNvIHdlIG5lZWQgdG8gZXNjYXBlIHRoZW1cclxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5zYWxlc2ZvcmNlLmNvbS9kb2NzL2F0bGFzLmVuLXVzLnNvcWxfc29zbC5tZXRhL3NvcWxfc29zbC9zZm9yY2VfYXBpX2NhbGxzX3Nvc2xfZmluZC5odG1cclxuICAgICAgICByZXR1cm4gcXVlcnkucmVwbGFjZSgvWyFcIiYnKCkqKzo/W1xcXFxcXF1ee3x9fi1dL2dtLCBcIlxcXFwkJlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc2VhcmNoIHJlc3VsdCB0byBkaXNwbGF5IHdoZW4gU2FsZXNGb3JjZSBuZWVkcyB0byByZWNvbm5lY3QuXHJcbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXHJcbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRoYXQgbmVlZHMgdG8gcmVjb25uZWN0LlxyXG4gICAgICogQHBhcmFtIGZpbHRlcnMgVGhlIGZpbHRlciBmb3IgdGhlIHJlY29ubmVjdC5cclxuICAgICAqIEByZXR1cm5zIFRoZSBzZWFyY2ggcmVzdWx0IGVudHJ5LlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0UmVjb25uZWN0U2VhcmNoUmVzdWx0KFxyXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+LFxyXG4gICAgICAgIHF1ZXJ5Pzogc3RyaW5nLFxyXG4gICAgICAgIGZpbHRlcnM/OiBDTElGaWx0ZXJbXVxyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJSZWNvbm5lY3RcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXHJcbiAgICAgICAgICAgIGtleTogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX05PVF9DT05ORUNURURfU0VBUkNIX1JFU1VMVF9LRVksXHJcbiAgICAgICAgICAgIGljb246IGludGVncmF0aW9uPy5pY29uLFxyXG4gICAgICAgICAgICB0aXRsZTogXCJSZWNvbm5lY3QgdG8gU2FsZXNmb3JjZVwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXHJcbiAgICAgICAgICAgICAgICBxdWVyeSxcclxuICAgICAgICAgICAgICAgIGZpbHRlcnNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0U2ltcGxlVGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc2VhcmNoIGZpbHRlcnMgYmFzZWQgb24gdGhlIHJlc3VsdHMuXHJcbiAgICAgKiBAcGFyYW0gb2JqZWN0cyBUaGUgb2JqZWN0IHR5cGVzIHRvIGNyZWF0ZSB0aGUgZmlsdGVycyBmcm9tLlxyXG4gICAgICogQHJldHVybnMgVGhlIGZpbHRlcnMuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTZWFyY2hGaWx0ZXJzKG9iamVjdHM6IHN0cmluZ1tdKTogQ0xJRmlsdGVyW10ge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdHMpICYmIG9iamVjdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJzOiBDTElGaWx0ZXJbXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVPYmplY3RzID0gWy4uLm5ldyBTZXQob2JqZWN0cy5zb3J0KCkpXTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0RmlsdGVyOiBDTElGaWx0ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX09CSkVDVFNfRklMVEVSX0lELFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiT2JqZWN0c1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogQ0xJRmlsdGVyT3B0aW9uVHlwZS5NdWx0aVNlbGVjdCxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9iamVjdCBvZiB1bmlxdWVPYmplY3RzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3RGaWx0ZXIub3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3RGaWx0ZXIub3B0aW9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9iamVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsdGVycy5wdXNoKG9iamVjdEZpbHRlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyIH0gZnJvbSBcIi4vaW50ZWdyYXRpb24tcHJvdmlkZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnRlZ3JhdGlvbiA9IG5ldyBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlcigpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==