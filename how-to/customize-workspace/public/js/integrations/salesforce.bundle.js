/******/ var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/salesforce/openfin.salesforce.js":
/*!****************************************************************!*\
  !*** ./node_modules/@openfin/salesforce/openfin.salesforce.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApiError": () => (/* binding */ o),
/* harmony export */   "AuthorizationError": () => (/* binding */ s),
/* harmony export */   "ConnectionError": () => (/* binding */ i),
/* harmony export */   "ObjectDataError": () => (/* binding */ a),
/* harmony export */   "ParameterError": () => (/* binding */ c),
/* harmony export */   "QueryError": () => (/* binding */ u),
/* harmony export */   "RestApiError": () => (/* binding */ l),
/* harmony export */   "SearchError": () => (/* binding */ f),
/* harmony export */   "WorkspaceError": () => (/* binding */ d),
/* harmony export */   "connect": () => (/* binding */ p),
/* harmony export */   "disableLogging": () => (/* binding */ h),
/* harmony export */   "enableLogging": () => (/* binding */ w),
/* harmony export */   "getConnection": () => (/* binding */ m)
/* harmony export */ });
var e={421:(e,t,r)=>{e.exports=r(448)},994:(e,t,r)=>{var n=r(446),o=r(322),s=r(58),i=r(982),a=r(63),c=r(541),u=r(497),l=r(988),f=r(242),d=r(14);e.exports=function(e){return new Promise((function(t,r){var p,h=e.data,w=e.headers,m=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(h)&&delete w["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";w.Authorization="Basic "+btoa(y+":"+b)}var x=a(e.baseURL,e.url);function E(){if(g){var n="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,s={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};o((function(e){t(e),v()}),(function(e){r(e),v()}),s),g=null}}if(g.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(E)},g.onabort=function(){g&&(r(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var k=(e.withCredentials||u(x))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;k&&(w[e.xsrfHeaderName]=k)}"setRequestHeader"in g&&n.forEach(w,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete w[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){g&&(r(!e||e&&e.type?new d("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),g.send(h)}))}},448:(e,t,r)=>{var n=r(446),o=r(962),s=r(495),i=r(149),a=function e(t){var r=new s(t),a=o(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(r(242));a.Axios=s,a.Cancel=r(14),a.CancelToken=r(543),a.isCancel=r(181),a.VERSION=r(474).version,a.all=function(e){return Promise.all(e)},a.spread=r(67),a.isAxiosError=r(726),e.exports=a,e.exports.default=a},14:e=>{function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},543:(e,t,r)=>{var n=r(14);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},181:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},495:(e,t,r)=>{var n=r(446),o=r(982),s=r(582),i=r(862),a=r(149),c=r(166),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new s,response:new s}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var f=[i,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(l),s=Promise.resolve(t);f.length;)s=s.then(f.shift(),f.shift());return s}for(var d=t;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{s=i(d)}catch(e){return Promise.reject(e)}for(;l.length;)s=s.then(l.shift(),l.shift());return s},l.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=l},582:(e,t,r)=>{var n=r(446);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},63:(e,t,r)=>{var n=r(452),o=r(123);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},988:(e,t,r)=>{var n=r(477);e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},862:(e,t,r)=>{var n=r(446),o=r(255),s=r(181),i=r(242),a=r(14);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},477:e=>{e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},149:(e,t,r)=>{var n=r(446);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||s,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}},322:(e,t,r)=>{var n=r(988);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},255:(e,t,r)=>{var n=r(446),o=r(242);e.exports=function(e,t,r){var s=this||o;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},242:(e,t,r)=>{var n=r(446),o=r(964),s=r(477),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(994)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u},474:e=>{e.exports={version:"0.26.0"}},962:e=>{e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},982:(e,t,r)=>{var n=r(446);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},123:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},58:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},452:e=>{e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},726:(e,t,r)=>{var n=r(446);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},497:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},964:(e,t,r)=>{var n=r(446);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},541:(e,t,r)=>{var n=r(446),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},67:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},166:(e,t,r)=>{var n=r(474).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,i){if(!1===e)throw new Error(o(n," has been removed"+(t?" in "+t:"")));return t&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,i)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],i=t[s];if(i){var a=e[s],c=void 0===a||i(a,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:o}},446:(e,t,r)=>{var n=r(962),o=Object.prototype.toString;function s(e){return Array.isArray(e)}function i(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)f(arguments[n],r);return t},extend:function(e,t,r){return f(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{r.d(n,{MS:()=>o,M_:()=>s,hY:()=>i,G4:()=>a,_W:()=>c,o:()=>u,C3:()=>f,fB:()=>l,if:()=>d,$j:()=>T,U$:()=>w,U7:()=>m,B5:()=>$});var e=r(421),t=r.n(e);class o extends Error{constructor(e="An unexpected error has occurred",t){var r;super(e),t&&(this.innerError=t&&t),this.stack=null===(r=this.stack)||void 0===r?void 0:r.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class s extends o{constructor(e="Unable to authorize connection to Salesforce",t){var r,n,o;super(e,t),t&&t.isAxiosError&&(t.message=null!==(o=null===(n=null===(r=t.response)||void 0===r?void 0:r.data)||void 0===n?void 0:n.error_description)&&void 0!==o?o:t.message)}}class i extends o{constructor(e="Not connected to Salesforce",t){super(e,t)}}class a extends o{constructor(e="Retrieve Salesforce object data failed",t){super(e,t)}}class c extends o{constructor(e="Invalid parameter detected",t){super(e,t)}}class u extends o{constructor(e="Execute Salesforce query failed",t){super(e,t)}}class l extends o{constructor(e="Unable to retrieve search results from Salesforce",t){super(e,t)}}class f extends o{constructor(e,t="Execute Salesforce REST API request failed"){var r,n,o,s,i;super(t,null!=e?e:void 0),this.restApiErrorCode="",this.restApiErrorDescription="",this.restApiResponseStatus=void 0;const a=e;if(null==a?void 0:a.isAxiosError){if(this.restApiResponseStatus=null===(r=a.response)||void 0===r?void 0:r.status,!(null===(o=null===(n=a.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.length))return;const e=null===(i=null===(s=a.response)||void 0===s?void 0:s.data)||void 0===i?void 0:i[0];if(e){const{errorCode:t,message:r}=e;this.restApiErrorCode=t,this.restApiErrorDescription=r}}}}class d extends o{constructor(e="An unexpected error occurred",t){super(e,t)}}let p=!1;const h="[@openfin/salesforce]",w=()=>{p=!1},m=()=>{p=!0,g("v2.1.3")},v=e=>{if(p&&(e.innerError?console.error(h,e,"\n\n(inner)",e.innerError):console.error(h,e),e instanceof f)){const{restApiErrorCode:t,restApiErrorDescription:r}=e;if(r){const e=r.replace(/\n/g," ").trim(),n=t?`${t}: ${e}`:e;console.warn(h,n)}}},g=(...e)=>{p&&console.log(h,...e)},y=(...e)=>{p&&console.warn(h,...e)};window.fin||Object.assign(window,{fin:{}}),Object.assign(window.fin,{Integrations:{Salesforce:{enableLogging:m,disableLogging:w}}});const b="54.0",x=/vXX\.X/i,E=e=>(Array.isArray(e)?e:Object.entries(e)).reduce(((e,t)=>{const r=Array.isArray(e)?t:t[1];let n;switch(!0){case null==r:n=r;break;case"string"==typeof r:n=r.replace(x,"v54.0");break;case Array.isArray(r):case"object"==typeof r:n=E(r);break;default:n=r}return Array.isArray(e)?e.push(n):e[t[0]]=n,e}),Array.isArray(e)?[]:{}),k="salesforce-auth",S="https://login.salesforce.com/services/oauth2/success",A=(e,t,r)=>{e.accessToken&&window.localStorage.setItem(_(t,r),e.accessToken),e.refreshToken&&window.localStorage.setItem(L(t,r),e.refreshToken)},T=async(e,t,r=!1)=>{let n;try{n=new URL(e).origin}catch(e){throw new c("Invalid Salesforce URL")}if(!/salesforce.com$/i.test(n))throw new c("Invalid Salesforce URL");if(void 0===(null!=t?t:void 0)||""===t.trim())throw new c("Consumer key not provided");g(`Connecting to ${n} using key ${t}`);const o=await $(e,t);if(o)return o;g("No existing connection found, starting auth flow");const a=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===k));a&&await a.close(!0);const u=r?"https://test.salesforce.com":"https://login.salesforce.com",l=(new Date).getTime().toString(),f=j(),d=await O(f),p=`${u}/services/oauth2/authorize?\n    client_id=${t}&\n    redirect_uri=${S}&\n    response_type=code&\n    scope=api+refresh_token&\n    state=${l}&\n    code_challenge=${d}&\n    display=popup&\n    prompt=select_account\n    `.replace(/\s/g,""),h=await fin.Window.create({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:700,defaultWidth:600,includeInSnapshots:!1,name:k,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:p}),w=await new Promise(((e,t)=>{let r;const n=window.setTimeout((()=>{window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners(),h.close(!0);const e=new s("Authorization timed out");v(e),t(e)}),3e5);h.addListener("closing",(async()=>{g("User closed auth window"),window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners();const e=new s("Failed to complete authorization");v(e),t(e)})),r=window.setInterval((()=>(async(e,t,r,n,o,i)=>{let a;try{a=await e.getInfo()}catch(e){window.clearInterval(t),window.clearTimeout(r);const n=new s("Could not locate oauth flow window");return v(n),i(n)}const c=new URL(a.url);if(0===new URL(a.url).href.toLowerCase().indexOf(S.toLowerCase())){if(window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0),c.searchParams.get("state")!==n){const e=new s("State mismatch");return v(e),i(e)}const a=c.searchParams.get("code");if(!a){const e=new s("Authorization code missing");return v(e),i(e)}return g("Authorization code received"),o(a)}const u=await e.executeJavaScript("window.document.body.innerText"),l=new URLSearchParams(u).get("error_description");if(l){window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0);const n=l[0].toUpperCase()+l.slice(1),o=new s(n);v(o),i(o)}else await e.isShowing()||(g("Showing auth window"),await e.show(!0),await e.focus())})(h,r,n,l,e,t)),500)})),m=await R(w,f,n,t);if(g("Checking connection with new access token"),!await D(m.accessToken,n)){const e=new i("Invalid Salesforce org URL or access token");throw v(e),e}return g("Connection established"),A(m,n,t),{consumerKey:t,disconnect:C(n,t),getAuthTokens:()=>U(n,t),orgUrl:n,executeApiRequest:P(n,t)}},C=(e,r)=>async()=>{g("Disconnecting from Salesforce");let n=window.localStorage.getItem(L(e,r));if(n)g("Revoking refresh token");else{if(n=window.localStorage.getItem(_(e,r)),!n)return void g("No tokens found in storage");g("Revoking access token")}try{await t().get(`${e}/services/oauth2/revoke?token=${n}`)}catch(e){y("Failed to revoke tokens",null==e?void 0:e.message)}B(e,r)},R=async(e,r,n,o)=>{g("Exchanging auth code for tokens");const i=`${n}/services/oauth2/token`,a=`\n    grant_type=authorization_code&\n    client_id=${o}&\n    code=${e}&\n    code_verifier=${r}&\n    redirect_uri=${S}\n    `.replace(/\s/g,"");let c;try{c=(await t().post(i,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){const t=new s("Failed to exchange authorization code for auth tokens",e);throw v(t),t}const{access_token:u,refresh_token:l}=c;if(!u||!l)throw new s("Missing access token or refresh token during code exchange");return g("Tokens received"),{accessToken:u,refreshToken:l}},O=async e=>{const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(r)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+\$/,"")},j=()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.substr(-2))).join("")},_=(e,t)=>`access-token_#_${new URL(e).hostname}_#_${t}`,U=(e,t)=>({accessToken:window.localStorage.getItem(_(e,t)),refreshToken:window.localStorage.getItem(L(e,t))}),$=async(e,t)=>{let r;if(g("Checking for existing connection"),!e||!t)return null;try{r=new URL(e).origin}catch(e){return null}const{accessToken:n}=U(r,t);if(!n)return null;if(!await D(n,r))try{await I(r,t)}catch(e){return null}return g(`Connection exists to ${e}`),{consumerKey:t,disconnect:C(r,t),getAuthTokens:()=>U(r,t),orgUrl:r,executeApiRequest:P(r,t)}},P=(e,r)=>async(n,o,s,a,u)=>{const{accessToken:l}=U(e,r);if(!l){const e=new i;throw v(e),e}const d=r=>(async(e,r,n,o="GET",s={},i={},a=!0)=>{var u,l;if(!n)throw new c("API endpoint not provided");let d;if(n=(l=n).startsWith("/")?l:`/${l}`,/^\/services\/data\//i.test(n)){const e=null===(u=/\/v(\w{2}\.\w)\//.exec(n))||void 0===u?void 0:u[1];if(!e)throw new f(null,"REST API version not specified");x.test(n)?n=n.replace(e,b):e!==b&&y(`Requested REST API version (${e}) is different to the current supported version (54.0). Using an API version other than current supported version may cause errors.`),d=new RegExp("/services/data/v54.0/composite","i").test(n)?E(s):s}else d=s;g(`Executing ${o.toUpperCase()} API request to ${n}`,d,i),a&&Object.assign(i,{Authorization:`Bearer ${r}`});try{let r;switch(o.toUpperCase()){case"DELETE":r=await t().delete(`${e}${n}`,{headers:i});break;case"GET":r=await t().get(`${e}${n}`,{headers:i});break;case"HEAD":r=await t().head(`${e}${n}`,{headers:i});break;case"PATCH":r=await t().patch(`${e}${n}`,s,{headers:i});break;case"POST":r=await t().post(`${e}${n}`,d,{headers:i});break;default:throw new f(null,"Invalid HTTP method")}return{data:r.data,status:r.status}}catch(e){if(e instanceof f)throw e;throw new f(e)}})(e,r,n,o,s,a,u);let p;try{p=await d(l)}catch(t){if(!(t instanceof f))throw v(t),t;return await N(t,e,r,l,d)}return p},L=(e,t)=>`refresh-token_#_${new URL(e).hostname}_#_${t}`,N=async(e,t,r,n,o)=>{if(v(e),await q(e,t,n))try{const e=await I(t,r);return g("Retrying request"),await o(e.accessToken)}catch(e){throw v(e),e}throw e},I=async(e,r)=>{var n,o;const{refreshToken:s}=U(e,r);if(!s)throw B(e,r),new i("No refresh token available");g("Refreshing access token");const a=`${e}/services/oauth2/token`,c=`\n    grant_type=refresh_token&\n    client_id=${r}&\n    refresh_token=${s}\n    `.replace(/\s/g,"");let u;try{u=(await t().post(a,c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(t){const s=null===(o=null===(n=t.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.error_description,a="Failed to refresh access token";throw g(s?`${a}: ${s}`:a),B(e,r),new i(a)}const{access_token:l}=u;if(!l)throw new i("Missing access token after refreshing");const f={accessToken:l,refreshToken:s};return A(f,e,r),f},B=(e,t)=>{window.localStorage.removeItem(_(e,t)),window.localStorage.removeItem(L(e,t))},q=async(e,t,r)=>{var n;return("Network Error"===(null===(n=e.innerError)||void 0===n?void 0:n.message)||"Network Error"===e.message)&&!await D(r,t)},D=async(e,r)=>{try{await t().get(`${r}/services/oauth2/userinfo?oauth_token=${e}`)}catch(e){return!1}return!0}})();var o=n.MS,s=n.M_,i=n.hY,a=n.G4,c=n._W,u=n.o,l=n.C3,f=n.fB,d=n.if,p=n.$j,h=n.U$,w=n.U7,m=n.B5;

/***/ }),

/***/ "./node_modules/@openfin/workspace/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@openfin/workspace/index.js ***!
  \**************************************************/
/***/ ((module) => {

(()=>{"use strict";var e={3133:(e,t,n)=>{n.r(t),n.d(t,{CLIAction:()=>Ze.Pt,CLIFilterOptionType:()=>Ze.el,CLITemplate:()=>Ze.yW,deregister:()=>Qe,hide:()=>et,register:()=>ze,show:()=>Ye});var r={};n.r(r),n.d(r,{subscribe:()=>re});var o={};n.r(o),n.d(o,{create:()=>qe});var i=n(7405);const s="home";var a;!function(e){e.Commands="home-commands"}(a||(a={}));var c,d=n(5806);n(7564);!function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(c||(c={}));const u="all",f="0",l="5",p="6",g=()=>{};function w(e,t){return e?`${e}-${t}`:t}function h(e){return`__search-${e}-topic__`}const y=new Map;function v(e,t){y.has(e)||y.set(e,new Set),y.get(e).add(t)}function m(e,t){const n=y.get(e);n&&n.delete(t)}const S=new Map;function C(e,t){S.has(e)||S.set(e,new Set),S.get(e).add(t)}function P(e,t){const n=S.get(e);n&&n.delete(t)}const R=new Map;async function b(e,t){R.has(e)||R.set(e,new Map),R.get(e).set(t.id,t);const n=y.get(e);if(!n)return;const r=[...n].map((e=>e()));await Promise.all(r)}async function L(e,t){const n=R.get(e);if(!n)return;n.delete(t);const r=S.get(e);if(!r)return;const o=[...r].map((e=>e()));await Promise.all(o)}function T(e){return R.get(e)?[...R.get(e).values()]:[]}function I(e){const t=R.get(e);t&&t.clear()}function M(e,t){const n=R.get(e);return n?n.get(t):null}function k(e,t,n){return{...e,action:n||e.actions[0],dispatcherIdentity:t}}function B(e,t,n="ascending"){const r=e||[];if(!t?.length)return r;const o=[],i=new Map;t.forEach((e=>{if(e.key)return i.set(e.key,e);o.push(e)}));let s=r.map((e=>{const{key:t}=e;if(t&&i.has(t)){const e=i.get(t);return i.delete(t),e}return e}));return s.push(...i.values(),...o),s="ascending"===n?s.sort(((e,t)=>(null!==e.score&&void 0!==e.score?e.score:1/0)-(null!==t.score&&void 0!==t.score?t.score:1/0))):s.sort(((e,t)=>(null!==t.score&&void 0!==t.score?t.score:1/0)-(null!==e.score&&void 0!==e.score?e.score:1/0))),s}function O(e){const t={};let n=[];let r=[];let o=c.Initial;t.getStatus=()=>o,t.getResultBuffer=()=>n,t.setResultBuffer=e=>{n=e,n?.length&&t.onChange()},t.getRevokedBuffer=()=>r,t.setRevokedBuffer=e=>{r=e,r?.length&&t.onChange()},t.onChange=g;const i={};return t.res=i,i.close=()=>{o!==c.Close&&(o=c.Close,t.onChange())},i.open=()=>{o!==c.Open&&(o=c.Open,t.onChange())},i.respond=n=>{const r=B(t.getResultBuffer(),n,e);t.setResultBuffer(r)},i.revoke=(...e)=>{const n=new Set(e),r=t.getResultBuffer().filter((({key:e})=>{const t=n.has(e);return t&&n.delete(e),!t}));t.setResultBuffer(r),n.size&&(t.getRevokedBuffer().forEach((e=>n.add(e))),t.setRevokedBuffer([...n]))},t}function W(e,t,n){const r=new Set;let o=!1;return{close:()=>{o=!0;for(const e of r)e()},req:{id:t,topic:e,...n,context:n?.context||{},onClose:e=>{r.add(e),o&&e()},removeListener:e=>{r.delete(e)}}}}function D(){return{name:fin.me.name,uuid:fin.me.uuid}}function x(){let e;try{const t=fin.Platform.getCurrentSync();if(!t?.identity)return;e=t.identity.uuid}catch(e){}return e}const A="deregistered or does not exist",E=new Error(`provider ${A}`),F=new Error("provider with name already exists"),_=new Error("bad payload"),$=new Error("subscription rejected"),q=new Error(`channel ${A}`),G=new Map;function N(e){const t=H(e);if(t)return t;throw q}function H(e){const t=G.get(e);if(t)return t}function U(e,t){G.set(e,t)}const V=new Map;function K(e){V.has(e)||V.set(e,new Map);const t=V.get(e);return{getRequestsForIdentity:e=>{const n=function(e){return`${e.uuid}:${e.name}`}(e);return t.has(n)||t.set(n,new Map),t.get(n)}}}async function X(e,t){return(await N(e)).dispatch(f,t)}function j({namespacedTopic:e,topic:t}){const n=M.bind(null,e),r=K(e),o=X.bind(null,e);return async(e,i)=>{if(!e||!e.id||!e.providerId){const e=_;return{error:e.message}}const{id:s,providerId:a}=e,c=n(a);if(!c){const e=E;return{error:e.message}}const d=r.getRequestsForIdentity(i);let u=d.get(e.id);u||(u=W(t,s,e),d.set(e.id,u));const f=O(),l=()=>{const e=f.getResultBuffer();f.setResultBuffer([]);const t=f.getRevokedBuffer();f.setRevokedBuffer([]);const n=f.getStatus();o({id:s,providerId:a,results:e,revoked:t,status:n})};let p=!0,g=!1;f.onChange=()=>{if(p)return p=!1,void l();g||(g=!0,setTimeout((()=>{g=!1,l()}),100))};try{const{results:e,context:t}=await c.onUserInput(u.req,f.res),n=f.getStatus();return{id:s,providerId:a,status:n,results:e,context:t}}catch(e){return{id:s,providerId:a,error:e.message}}}}async function J(e,t,n){const r=n||await N(e),o=D(),i={identity:o,...t,onUserInput:void 0,onResultDispatch:void 0};await r.dispatch("2",i),await b(e,{identity:o,...t})}async function Z(e,t){const n=await N(e);return await n.dispatch("3",t),L(e,t)}async function z(e,t,n,r){const o=k(n,D(),r),i=M(e,t);if(i){const{onResultDispatch:e}=i;if(!e)return;return e(o)}const s={providerId:t,result:o};return(await N(e)).dispatch(l,s)}async function Q(e,t){const n={...t,context:t?.context||{}},r={},o=async function*(e,t,{setState:n}){const r=await N(e);for(;;){const e=await r.dispatch("1",t),o=e.error;if(o)throw new Error(o);const i=e;if(t.id=i.id,n(i.state),i.done)return i.value;yield i.value}}(e,n,{setState:e=>{r.state=e}});let i=await o.next();return r.id=n.id,r.close=()=>{!async function(e,t){(await N(e)).dispatch(p,{id:t})}(e,r.id)},r.next=()=>{if(i){const e=i;return i=void 0,e}return o.next()},r}async function Y(e){return(await N(e)).dispatch("4",null)}async function ee(e){const t=await N(e);var n;n=e,G.delete(n),I(e),await t.disconnect()}function te(e){const{namespacedTopic:t}=e,n=K(t);return async r=>{if(!H(t))return;const o=n.getRequestsForIdentity(r);for(const{req:e,close:t}of o.values())t(),o.delete(e.id);U(t,(async e=>{const{namespacedTopic:t}=e,n=await ne(e);for(const e of T(t))await J(t,e,n);return n})(e))}}async function ne(e){const{namespacedTopic:t}=e,n=h(t),r=await async function(e){for(let t=0;t<50;t++)try{return await fin.InterApplicationBus.Channel.connect(e,{wait:!1})}catch(e){if(49===t)throw e;await new Promise((e=>setTimeout(e,1e3)))}}(n);return r.register(f,j(e)),r.register(p,function(e){const t=K(e);return(e,n)=>{const r=t.getRequestsForIdentity(n),o=r.get(e.id);o&&(o.close(),r.delete(e.id))}}(t)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)return;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r.onDisconnection(te(e)),r}async function re(e){const t=("string"==typeof e?e:e?.topic)||u,n=("string"==typeof e?null:e?.uuid)||x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=H(r);return i||(i=ne(o),U(r,i),await i),{getAllProviders:Y.bind(null,r),register:J.bind(null,r),search:Q.bind(null,r),deregister:Z.bind(null,r),dispatch:z.bind(null,r),disconnect:ee.bind(null,r)}}const oe=new Map;function ie(e){const t=se(e);if(t)return t;throw q}function se(e){const t=oe.get(e);if(t)return t}const ae=new Map;function ce(e,t){ae.has(e)||ae.set(e,new Set),ae.get(e).add(t)}function de(e,t){const n=ae.get(e);n&&n.delete(t)}var ue=n(5316);function fe(e){return[...T(e)].map((e=>({...e,onUserInput:void 0,onResultDispatch:void 0})))}async function le(e,t){if(M(e,t.id))throw new Error("provider with name already exists");const n=D();await b(e,{identity:n,...t})}function pe(e,t){L(e,t)}async function ge(e,t,n,r){const o=M(e,t);if(!o)throw E;const{onResultDispatch:i}=o;if(!i)return;return i(k(n,D(),r))}async function*we(e,t,n){const r=function(e,t){const n=[],r=[],o=[],i=[];for(const s of e){const e=O(s.scoreOrder),a={results:[],provider:{id:s.id,identity:s.identity,title:s.title,scoreOrder:s.scoreOrder,icon:s.icon}};n.push(a),r.push(e);const c=(async()=>{try{const{results:n,context:r}=await s.onUserInput(t,e.res);a.results=B(a.results,n),a.context={...a.context,...r}}catch(e){a.error=e}c.done=!0})();i.push(c),o.push(o.length)}return{providerResponses:n,listenerResponses:r,openListenerResponses:o,initialResponsePromises:i}}(t.targets?t.targets.map((t=>M(e,t))).filter((e=>!!e)):[...T(e).filter((e=>!e.hidden))],t),{providerResponses:o,listenerResponses:i}=r;let{openListenerResponses:s,initialResponsePromises:a}=r,d=ue.D.Fetching;const u=e=>{d=e,n.setState(d)};let f,l=!1;t.onClose((()=>{l=!0,f&&f()}));do{let e=!1;if(a.length){const t=[];for(const n of a)n.done?e=!0:t.push(n);a=t,a.length||(u(ue.D.Fetched),e=!0)}let t,n=!1;const r=()=>{n=!0,t&&t()},p=[];for(const t of s){const n=i[t],s=o[t],a=n.getStatus();(a===c.Open||d===ue.D.Fetching&&a===c.Initial)&&(p.push(t),n.onChange=r);const u=n.getResultBuffer();u.length&&(n.setResultBuffer([]),s.results=B(s.results,u),e=!0);const f=n.getRevokedBuffer();if(f.length){n.setRevokedBuffer([]);const t=new Set(f);s.results=s.results.filter((({key:e})=>!t.has(e))),e=!0}}if(s=p,e&&(yield o),l)break;n||(s.length||a.length)&&await Promise.race([...a,new Promise((e=>{t=e})),new Promise((e=>{f=e}))])}while(s.length||a.length);return u(ue.D.Complete),o}let he=0;function ye({namespacedTopic:e,topic:t},n){he+=1;const r=W(t,he.toString(),n),o=we(e,r.req,{setState:e=>{o.state=e}});return o.id=he.toString(),o.close=r.close,o.state=ue.D.Fetching,o}const ve=new Map;function me(e,t){return`${e}:${t}`}function Se(e){return async(t,...n)=>{if(!t)return{error:_.message};let r;if(t.id)r=me(e.namespacedTopic,t.id);else{const n=ye(e,t);r=me(e.namespacedTopic,n.id),t.id=n.id,ve.set(r,{generator:n})}const o=ve.get(r);clearTimeout(o.timeout);const i=await o.generator.next();return o.timeout=function(e){return window.setTimeout((()=>{ve.delete(e)}),1e4)}(r),{...i,id:t.id,state:o.generator.state}}}function Ce(e,t,n){return ie(e).dispatch(t,p,{id:n})}function Pe(e){return t=>function(e,t){const n=me(e,t),r=ve.get(n);r&&r.generator.close()}(e,t.id)}async function Re(e,t,{id:n,query:r,context:o,targets:i}){const s=ie(e),a={id:n,query:r,context:o,targets:i,providerId:t.id},c=await s.dispatch(t.identity,f,a),d=c.error;if(d)throw new Error(d);return c}const be=new Map;function Le(e,t,n){return`${e}:${t.name}:${t.uuid}:${n}`}const Te=new Map;function Ie(e,t,n){return`${e}:${t}:${n}`}function Me(e,t){const n=Le.bind(null,e,t.identity),r=Ce.bind(null,e,t.identity),o=Re.bind(null,e,t);return async(i,s)=>{const a=n(i.id);if(!be.has(a)){const e=()=>{r(i.id),be.delete(a)};be.set(a,e),i.onClose(e)}const d=Ie(e,t.id,i.id),u=()=>{Te.delete(d),s.close()};i.onClose(u),Te.set(d,(e=>{e.results?.length&&s.respond(e.results),e.revoked?.length&&s.revoke(...e.revoked),e.status===c.Open&&s.open(),e.status===c.Close&&u()}));const f=await o(i);return f.status===c.Open&&s.open(),f.status!==c.Close&&f.status!==c.Initial||u(),f}}function ke(e,t){return async n=>{const r=ie(e),o={providerId:t.id,result:n};return r.dispatch(t.identity,l,o)}}const Be=new Map;function Oe(e,t){return`${e}-${t.name}-${t.uuid}`}function We(e){return async(t,n)=>{if(!t||!t.id)return void new Error(JSON.stringify(t));if(M(e,t.id))throw F;t.identity=n,await async function(e,t){const n=Oe(e,t.identity);Be.has(n)||Be.set(n,[]),Be.get(n).push(t.id),await b(e,{...t,onUserInput:Me(e,t),onResultDispatch:ke(e,t)})}(e,t)}}function De(e){return t=>{t&&function(e,t){const n=M(e,t);if(!n)return;const r=Oe(e,n.identity),o=Be.get(r);if(o){const n=o.findIndex((e=>e===t));-1!==n&&(o.splice(n,1),L(e,t))}}(e,t)}}const xe=new Map;function Ae(e,t){xe.has(e)||xe.set(e,new Set),xe.get(e).add(t)}function Ee(e,t){const n=xe.get(e);n&&n.delete(t)}function Fe(e){return async t=>{!function(e,t){const n=Oe(e,t),r=Be.get(n);if(r){for(const t of r)L(e,t);Be.delete(n)}}(e,t);const n=xe.get(e);n&&n.forEach((e=>e(t)))}}async function _e(e){const{namespacedTopic:t}=e,n=h(e.namespacedTopic),r=await(o=n,fin.InterApplicationBus.Channel.create(o));var o;return r.onConnection(function({namespacedTopic:e}){return async t=>{const n=ae.get(e);if(n)for(const e of n)if(!await e(t))throw $}}(e)),r.onDisconnection(Fe(t)),r.register(p,Pe(t)),r.register(f,function(e){return t=>{const n=Ie(e,t.providerId,t.id),r=Te.get(n);r&&r(t)}}(t)),r.register("2",We(t)),r.register("3",De(t)),r.register("4",function(e){return async()=>fe(e)}(t)),r.register("1",Se(e)),r.register(l,function(e){return async(t,n)=>{if(!t||!t.providerId||!t.result)return;const r=M(e,t.providerId);if(!r)throw E;const{onResultDispatch:o}=r;return o?(t.result.dispatcherIdentity=n,o(t.result)):void 0}}(t)),r}async function $e(e){const t=ie(e);var n;n=e,oe.delete(n),await t.destroy(),I(e)}async function qe(e){const t=("string"==typeof e?e:e?.topic)||u,n=x(),r=w(n,t),o={topic:t,namespace:n,namespacedTopic:r};let i=se(r);i||(i=await _e(o),function(e,t){oe.set(e,t)}(r,i));const s=de.bind(null,r),a=Ee.bind(null,r),c=m.bind(null,r),d=P.bind(null,r);return{getAllProviders:fe.bind(null,r),search:ye.bind(null,o),register:le.bind(null,r),deregister:pe.bind(null,r),onSubscription:ce.bind(null,r),onDisconnect:Ae.bind(null,r),onRegister:v.bind(null,r),onDeregister:C.bind(null,r),dispatch:ge.bind(null,o),disconnect:$e.bind(null,r),removeListener:e=>{s(e),a(e),c(e),d(e)}}}const{create:Ge}=o,{subscribe:Ne}=r,He={create:Ge,subscribe:Ne,defaultTopic:"all"},Ue=()=>{const e=window;e.search=He,e.fin&&(e.fin.Search=He)},Ve=e=>{const t=()=>{Ue(),window.removeEventListener(e,t)};return t};if("undefined"!=typeof window){Ue();const e="load",t=Ve(e);window.addEventListener(e,t);const n="DOMContentLoaded",r=Ve(n);window.addEventListener(n,r)}const Ke=new Map;async function Xe(){await async function(e){Ke.set(e,await Ne({topic:e,uuid:d.q9.Workspace}))}(s)}let je;async function Je(e){return await async function(){return je||(je=Xe()),je}(),Ke.get(e)}var Ze=n(3758);const ze=async e=>{if(!e.icon)throw new Error(`${e.id} provider needs to have icon property defined.`);await(0,i.aB)();return(await Je(s)).register(e)},Qe=async e=>{await(0,i.aB)();return(await Je(s)).deregister(e)};async function Ye(){return(await(0,i.Xl)()).dispatch(i.Ml.ShowHome,void 0)}async function et(){return(await(0,i.Xl)()).dispatch(i.Ml.HideHome,void 0)}},3298:(e,t,n)=>{n.d(t,{w:()=>r.w});var r=n(5316)},3758:(e,t,n)=>{var r,o,i;n.d(t,{Pt:()=>r,yW:()=>o,el:()=>i}),function(e){e.Suggestion="suggestion"}(r||(r={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText"}(o||(o={})),function(e){e.MultiSelect="MultiSelect"}(i||(i={}))},7564:(e,t,n)=>{n(3298),n(3758),n(6114),n(2109)},6114:(e,t,n)=>{var r,o;n.d(t,{L:()=>r,T:()=>o}),function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(r||(r={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(o||(o={}))},2109:(e,t,n)=>{n.d(t,{p6:()=>r,Go:()=>o,bI:()=>i,ZJ:()=>s});const r={Container:"Container",Button:"Button"},o={Text:"Text",Image:"Image",List:"List"},i={...r,...o};var s;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(s||(s={}))},317:(e,t,n)=>{n.r(t),n.d(t,{AppManifestType:()=>o.L,StorefrontTemplate:()=>o.T,deregister:()=>u,hide:()=>f,register:()=>d,show:()=>l});var r=n(7405);n(7564);var o=n(6114);let i;const s=new Map,a=e=>{if(!s.has(e))throw new Error(`Storefront Provider with id ${e} is not registered`);return s.get(e)},c=async e=>{const t=await(0,r.Xl)();if(s.has(e.id))throw new Error(`Storefront provider with id ${e.id} already registered`);return s.set(e.id,e),(e=>{e.isStorefrontActionsRegistered||(e.isStorefrontActionsRegistered=!0,e.register(r.Ml.GetStorefrontProviderApps,(e=>a(e).getApps())),e.register(r.Ml.GetStorefrontProviderFooter,(e=>a(e).getFooter())),e.register(r.Ml.GetStorefrontProviderLandingPage,(e=>a(e).getLandingPage())),e.register(r.Ml.GetStorefrontProviderNavigation,(e=>a(e).getNavigation())),e.register(r.Ml.LaunchStorefrontProviderApp,(({id:e,app:t})=>a(e).launchApp(t))))})(t),t.dispatch(r.Ml.RegisterStorefrontProvider,e)},d=e=>(i=c(e),i),u=async e=>{await i,s.delete(e);return(await(0,r.Xl)()).dispatch(r.Ml.DeregisterStorefrontProvider,e)},f=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.HideStorefront,void 0))()},l=async()=>{await i,await(0,r.aB)(),await(async()=>(await(0,r.Dm)()).dispatch(r.Ml.ShowStorefront,null))()}},7405:(e,t,n)=>{n.d(t,{Ml:()=>s,Dm:()=>a,Xl:()=>f,aB:()=>u});var r=n(6678);const o=r.Ax&&"complete"!==document.readyState&&new Promise((e=>document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))));var i=n(121);var s;!function(e){e.RegisterStorefrontProvider="register-storefront-provider",e.DeregisterStorefrontProvider="deregister-storefront-provider",e.GetStorefrontProviders="get-storefront-providers",e.HideStorefront="hide-storefront",e.GetStorefrontProviderApps="get-storefront-provider-apps",e.GetStorefrontProviderLandingPage="get-storefront-provider-landing-page",e.GetStorefrontProviderFooter="get-storefront-provider-footer",e.GetStorefrontProviderNavigation="get-storefront-provider-navigation",e.LaunchStorefrontProviderApp="launch-storefront-provider-app",e.ShowStorefront="show-storefront",e.CreateStorefrontWindow="create-storefront-window",e.ShowHome="show-home",e.HideHome="hide-home",e.AssignHomeSearchContext="assign-home-search-context",e.GetLegacyPages="get-legacy-pages",e.GetLegacyWorkspaces="get-legacy-workspaces",e.GetComputedPlatformTheme="get-computed-platform-theme"}(s||(s={}));const a=function(e){let t;return()=>{if(!r.sS)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return t||(t=(async()=>{await o;const n=await fin.InterApplicationBus.Channel.connect(e);return n.onDisconnection((async()=>{t=void 0})),n})().then((e=>e)).catch((n=>{throw t=void 0,new Error(`failed to connect to channel provider ${e}: ${n}`)}))),t}}("__of_workspace_protocol__"),c="isLaunchedViaLib",d=e=>{const t=new URL(e);return t.searchParams.append(c,"true"),t.toString()},u=async()=>{if(!await(0,i.JV)(i.iW))return(r.ZK||-1===navigator.userAgent.indexOf("Win"))&&await fin.Application.startFromManifest(d(r.aW)),fin.System.openUrlWithBrowser(d(r.GX))},f=async()=>(await u(),a())},5806:(e,t,n)=>{n.d(t,{q9:()=>r});var r,o,i,s=n(6678);!function(e){e.Workspace="openfin-browser"}(r||(r={})),function(e){e.RunRequested="run-requested",e.WindowOptionsChanged="window-options-changed",e.WindowClosed="window-closed",e.WindowCreated="window-created"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(i||(i={}));s.AB,s.AB,r.Workspace,r.Workspace},6678:(e,t,n)=>{var r;n.d(t,{sS:()=>o,Ax:()=>i,AB:()=>a,oC:()=>c,ZK:()=>d,GX:()=>u,aW:()=>f}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(r||(r={}));const o="undefined"!=typeof window&&"undefined"!=typeof fin,i=("undefined"==typeof process||process.env?.JEST_WORKER_ID,"undefined"!=typeof window),s=i?window.origin:r.Local,a=o&&fin.me.uuid,c=o&&fin.me.name,d=(o&&fin.me.entityType,"prod"===r.Local),u=(r.Dev,r.Staging,r.Prod,"fins://system-apps/workspace"),f="https://cdn.openfin.co/workspace/6.3.6/app.json",l=e=>e.startsWith("http://")||e.startsWith("https://")?e:s+e;l("https://cdn.openfin.co/workspace/6.3.6"),l("https://cdn.openfin.co/workspace/6.3.6"),"undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&l(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&l(WORKSPACE_DOCS_CLIENT_URL)},121:(e,t,n)=>{n.d(t,{iW:()=>c,JV:()=>d});var r,o,i=n(5806),s=n(6678);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserMenu="openfin-browser-menu",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window"}(r||(r={})),function(e){e.Shown="shown",e.BoundsChanged="bounds-changed",e.LayoutReady="layout-ready",e.EndUserBoundsChanging="end-user-bounds-changing",e.Blurred="blurred",e.CloseRequested="close-requested",e.Focused="focused",e.ShowRequested="show-requested",e.ViewCrashed="view-crashed",e.ViewAttached="view-attached",e.ViewDetached="view-detached",e.ViewPageTitleUpdated="view-page-title-updated",e.ViewDestroyed="view-destroyed",e.OptionsChanged="options-changed"}(o||(o={}));function a(e){if(!s.sS)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}s.oC,s.AB;r.Home,i.q9.Workspace,r.Dock,i.q9.Workspace,r.Storefront,i.q9.Workspace;const c={name:i.q9.Workspace,uuid:i.q9.Workspace};const d=e=>a(e).getOptions().then((()=>!0)).catch((()=>!1))},5316:(e,t,n)=>{var r,o;n.d(t,{D:()=>r,w:()=>o}),function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(o||(o={}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{AppManifestType:()=>p.L,ButtonStyle:()=>f.ZJ,CLIAction:()=>l.Pt,CLIFilterOptionType:()=>l.el,CLITemplate:()=>l.yW,ContainerTemplateFragmentNames:()=>f.p6,Home:()=>o,Legacy:()=>e,PresentationTemplateFragmentNames:()=>f.Go,SearchTagBackground:()=>u.w,Storefront:()=>d,StorefrontTemplate:()=>p.T,TemplateFragmentTypes:()=>f.bI});var e={};n.r(e),n.d(e,{getPages:()=>a,getWorkspaces:()=>c});var t,o=n(3133);n(6678),n(121);!function(e){e.TabCreated="tab-created",e.ContainerCreated="container-created",e.ContainerResized="container-resized"}(t||(t={}));new Map;var i;!function(e){e.LastLaunchedWorkspaceId="activeWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort"}(i||(i={}));var s=n(7405);const a=()=>async function(){return(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyPages,void 0)}(),c=()=>(async()=>(await(0,s.Dm)()).dispatch(s.Ml.GetLegacyWorkspaces,void 0))();var d=n(317),u=n(3298),f=n(2109),l=n(3758),p=n(6114)})(),module.exports=r})();
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./client/src/integrations/salesforce/integration-provider.ts":
/*!********************************************************************!*\
  !*** ./client/src/integrations/salesforce/integration-provider.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SalesForceIntegrationProvider": () => (/* binding */ SalesForceIntegrationProvider)
/* harmony export */ });
/* harmony import */ var _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/salesforce */ "./node_modules/@openfin/salesforce/openfin.salesforce.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openfin/workspace */ "./node_modules/@openfin/workspace/index.js");
/* harmony import */ var _openfin_workspace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace__WEBPACK_IMPORTED_MODULE_1__);


/**
 * Implement the integration provider for SalesForce.
 */
class SalesForceIntegrationProvider {
    /**
     * The module is being registered.
     * @param integrationManager The manager for the integration.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async register(integrationManager, integration) {
        this._integrationManager = integrationManager;
        console.log("Registering SalesForce");
        try {
            await this.openConnection(integration);
        }
        catch (err) {
            console.error("Error connecting to SalesForce", err);
        }
    }
    /**
     * The module is being deregistered.
     * @param integration The integration details.
     * @returns Nothing.
     */
    async deregister(integration) {
        await this.closeConnection();
    }
    /**
     * Get a list of the static application entries.
     * @param integration The integration details.
     * @returns The list of application entries.
     */
    async getAppSearchEntries(integration) {
        const results = [];
        if (integration?.data?.orgUrl) {
            results.push({
                actions: [{ name: "Browse", hotkey: "enter" }],
                data: {
                    providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                    pageUrl: integration?.data?.orgUrl,
                    tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                },
                icon: integration.icon,
                key: SalesForceIntegrationProvider._BROWSE_SEARCH_RESULT_KEY,
                template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Plain,
                templateContent: undefined,
                title: "Browse Salesforce"
            });
            if (!this._salesForceConnection) {
                results.push(this.getReconnectSearchResult(integration));
            }
        }
        return results;
    }
    /**
     * An entry has been selected.
     * @param integration The integration details.
     * @param result The dispatched result.
     * @param lastResponse The last response.
     * @returns True if the item was handled.
     */
    async itemSelection(integration, result, lastResponse) {
        // if the user clicked the reconnect result, reconnect to salesforce and re-run query
        if (result.key === SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY) {
            await this.openConnection(integration);
            if (result.data?.query) {
                const results = await this.getSearchResults(integration, result.data?.query, result.data?.filters, lastResponse);
                if (lastResponse) {
                    lastResponse.revoke(SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY);
                    lastResponse.respond(results.results);
                }
            }
            return true;
        }
        // otherwise open the result page url in browser
        const data = result.data;
        if (data !== undefined && this._integrationManager) {
            const preload = `${this._integrationManager.rootUrl}/views/salesforce/preload.js`;
            const viewOptions = {
                url: data.pageUrl,
                fdc3InteropApi: "1.2",
                interop: {
                    currentContextGroup: "green"
                },
                customData: { buttonLabel: "Process Participant" },
                preloadScripts: [{ url: preload }],
                target: { name: "", url: "", uuid: "" }
            };
            await this._integrationManager.launchView(viewOptions);
            return true;
        }
        return false;
    }
    /**
     * Get a list of search results based on the query and filters.
     * @param integration The integration details.
     * @param query The query to search for.
     * @param filters The filters to apply.
     * @param lastResponse The last search response used for updating existing results.
     * @returns The list of results and new filters.
     */
    async getSearchResults(integration, query, filters, lastResponse) {
        if (this._salesForceConnection) {
            let searchResults;
            let selectedObjects = [];
            if (Array.isArray(filters) && filters.length > 0) {
                const objectsFilter = filters.find(x => x.id === SalesForceIntegrationProvider._OBJECTS_FILTER_ID);
                if (objectsFilter) {
                    selectedObjects = (Array.isArray(objectsFilter.options) ? objectsFilter.options : [objectsFilter.options])
                        .filter(x => Boolean(x.isSelected))
                        .map(x => (x.value === "Note" ? "ContentNote" : x.value));
                }
            }
            try {
                searchResults = await this.getApiSearchResults(query, selectedObjects);
                const results = searchResults.map(searchResult => {
                    if ("Website" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Name,
                            icon: integration?.data?.iconMap.account,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.Name,
                                title: searchResult.Industry,
                                details: [
                                    [
                                        ["Phone", searchResult.Phone],
                                        ["Type", searchResult.Type],
                                        ["Website", searchResult.Website]
                                    ]
                                ]
                            }
                        };
                    }
                    else if ("Email" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Name,
                            icon: integration?.data?.iconMap.contact,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.Name,
                                title: searchResult.Title,
                                useInitials: true,
                                details: [
                                    [
                                        ["Department", searchResult.Department],
                                        ["Email", searchResult.Email],
                                        ["Work #", searchResult.Phone]
                                    ]
                                ]
                            }
                        };
                    }
                    else if ("Description" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: searchResult.attributes.type,
                            key: searchResult.Id,
                            title: searchResult.Subject,
                            icon: integration?.data?.iconMap.task,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: "List",
                            templateContent: [
                                ["Subject", searchResult.Subject],
                                ["Comments", searchResult.Description]
                            ]
                        };
                    }
                    else if ("TextPreview" in searchResult) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: "Note",
                            key: searchResult.Id,
                            title: searchResult.Title,
                            icon: integration?.data?.iconMap.note,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: "List",
                            templateContent: [
                                ["Title", searchResult.Title],
                                ["Content", searchResult?.TextPreview]
                            ]
                        };
                    }
                    else if ("actor" in searchResult &&
                        (searchResult.type === "TextPost" || searchResult.type === "ContentPost")) {
                        return {
                            actions: [{ name: "View", hotkey: "enter" }],
                            label: "Chatter",
                            key: searchResult.id,
                            title: searchResult.actor?.displayName,
                            icon: integration?.data?.iconMap.chatter,
                            data: {
                                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                                pageUrl: this.getObjectUrl(searchResult.id, integration.data?.orgUrl),
                                tags: [SalesForceIntegrationProvider._PROVIDER_ID]
                            },
                            template: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLITemplate.Contact,
                            templateContent: {
                                name: searchResult.actor?.displayName,
                                useInitials: true,
                                details: [
                                    [
                                        ["Header", searchResult?.header?.text],
                                        ["Note", searchResult?.body?.text]
                                    ]
                                ]
                            }
                        };
                    }
                    // in this case we are only searching for accounts, contacts, tasks, content notes and chatter
                });
                const filteredResults = results.filter(Boolean);
                // eslint-disable-next-line no-confusing-arrow
                const objects = searchResults.map(result => "attributes" in result ? result.attributes.type : "Chatter");
                return {
                    results: filteredResults,
                    context: {
                        filters: this.getSearchFilters(objects.map(c => (c === "ContentNote" ? "Note" : c)))
                    }
                };
            }
            catch (err) {
                await this.closeConnection();
                if (err instanceof _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.ConnectionError) {
                    return {
                        results: [this.getReconnectSearchResult(integration, query, filters)]
                    };
                }
                console.error("Error retrieving SalesForce search results", err);
            }
        }
        return {
            results: []
        };
    }
    /**
     * Open the connection to SaleForce.
     * @param integration The integration details.
     * @internal
     */
    async openConnection(integration) {
        if (integration?.data?.orgUrl && !this._salesForceConnection) {
            (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
            this._salesForceConnection = await (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.connect)(integration?.data.orgUrl, integration?.data.consumerKey, integration?.data.isSandbox);
        }
    }
    /**
     * Close the connection to SalesForce.
     * @internal
     */
    async closeConnection() {
        if (this._salesForceConnection) {
            try {
                await this._salesForceConnection.disconnect();
            }
            catch (err) {
                console.error("Error disconnecting SalesForce", err);
            }
            finally {
                this._salesForceConnection = undefined;
            }
        }
    }
    /**
     * Create the object url from the if and origin.
     * @param objectId The object id.
     * @param salesforceOrgOrigin The origin url.
     * @returns Then object url.
     * @internal
     */
    getObjectUrl(objectId, salesforceOrgOrigin) {
        if (!salesforceOrgOrigin) {
            return "";
        }
        return `${salesforceOrgOrigin}/${objectId}`;
    }
    /**
     * Get results from the API using a query.
     * @param query The query to call the API with.
     * @param selectedObjects The selected filters.
     * @returns The search result objects from the API.
     * @internal
     */
    async getApiSearchResults(query, selectedObjects) {
        const accountFieldSpec = "Account(Id, Industry, Name, Phone, Type, Website)";
        const contactFieldSpec = "Contact(Department, Email, Id, Name, Phone, Title)";
        const taskFieldSpec = "Task(Id, Subject, Description)";
        const contentNoteFieldSpec = "ContentNote(Id, Title, Content, TextPreview)";
        const fieldSpecMap = new Map([
            ["Account", accountFieldSpec],
            ["Contact", contactFieldSpec],
            ["Task", taskFieldSpec],
            ["ContentNote", contentNoteFieldSpec]
        ]);
        const fieldSpec = [...fieldSpecMap]
            .filter(x => {
            if (Array.isArray(selectedObjects) && selectedObjects.length > 0) {
                return selectedObjects.includes(x[0]);
            }
            return true;
        })
            .map(x => x[1])
            .join(", ");
        const batch = [];
        if (fieldSpec.length > 0) {
            const salesforceSearchQuery = `FIND {${this.escapeQuery(query)}} IN ALL FIELDS RETURNING ${fieldSpec} LIMIT 25`;
            batch.push({
                method: "GET",
                url: `/services/data/vXX.X/search?q=${encodeURIComponent(salesforceSearchQuery)}`
            });
        }
        const includeChatter = !selectedObjects?.length || selectedObjects.includes("Chatter");
        if (includeChatter) {
            batch.push({
                method: "GET",
                url: `/services/data/vXX.X/chatter/feed-elements?q=${query}&pageSize=25&sort=LastModifiedDateDesc`
            });
        }
        const batchedResults = await this.getBatchedResults(batch);
        let results = [];
        if (batchedResults.length > 0) {
            let idx = 0;
            if (fieldSpec.length > 0) {
                const searchResponse = batchedResults[idx++];
                if (searchResponse.searchRecords) {
                    results = results.concat(searchResponse.searchRecords);
                }
            }
            if (includeChatter) {
                const chatterResponse = batchedResults[idx++];
                if (chatterResponse.elements) {
                    results = results.concat(chatterResponse.elements);
                }
            }
        }
        return results;
    }
    /**
     * Get batched results from SalesForce api.
     * @param batchRequests The batch requests to send.
     * @returns The results from the batch request.
     * @internal
     */
    async getBatchedResults(batchRequests) {
        if (batchRequests.length === 0 || !this._salesForceConnection) {
            return [];
        }
        const batch = { batchRequests, haltOnError: false };
        const response = await this._salesForceConnection.executeApiRequest("/services/data/vXX.X/composite/batch/", "POST", batch, { "Content-Type": "application/json" });
        return response.data?.results.map(r => r.result) ?? [];
    }
    /**
     * Escape any characters needed in SalesForce API calls.
     * @param query The query to escape.
     * @returns The escaped query.
     * @internal
     */
    escapeQuery(query) {
        // There are some reserved characters for queries so we need to escape them
        // https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_sosl_find.htm
        return query.replace(/[!"&'()*+:?[\\\]^{|}~-]/gm, "\\$&");
    }
    /**
     * Get the search result to display when SalesForce needs to reconnect.
     * @param integration The integration details.
     * @param query The query that needs to reconnect.
     * @param filters The filter for the reconnect.
     * @returns The search result entry.
     * @internal
     */
    getReconnectSearchResult(integration, query, filters) {
        return {
            actions: [{ name: "Reconnect", hotkey: "enter" }],
            key: SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY,
            icon: integration?.icon,
            title: "Reconnect to Salesforce",
            data: {
                providerId: SalesForceIntegrationProvider._PROVIDER_ID,
                query,
                filters
            }
        };
    }
    /**
     * Get the search filters based on the results.
     * @param objects The object types to create the filters from.
     * @returns The filters.
     * @internal
     */
    getSearchFilters(objects) {
        if (Array.isArray(objects) && objects.length > 0) {
            const filters = [];
            const uniqueObjects = [...new Set(objects.sort())];
            const objectFilter = {
                id: SalesForceIntegrationProvider._OBJECTS_FILTER_ID,
                title: "Objects",
                type: _openfin_workspace__WEBPACK_IMPORTED_MODULE_1__.CLIFilterOptionType.MultiSelect,
                options: []
            };
            for (const object of uniqueObjects) {
                if (Array.isArray(objectFilter.options)) {
                    objectFilter.options.push({
                        value: object,
                        isSelected: false
                    });
                }
            }
            filters.push(objectFilter);
            return filters;
        }
        return [];
    }
}
/**
 * Provider id.
 * @internal
 */
SalesForceIntegrationProvider._PROVIDER_ID = "salesforce";
/**
 * The key to use for a SalesForce result.
 * @internal
 */
SalesForceIntegrationProvider._BROWSE_SEARCH_RESULT_KEY = "browse-salesforce";
/**
 * The id for the SaleForce filters.
 * @internal
 */
SalesForceIntegrationProvider._OBJECTS_FILTER_ID = "salesforce-objects";
/**
 * The id of the not connected result.
 * @internal
 */
SalesForceIntegrationProvider._NOT_CONNECTED_SEARCH_RESULT_KEY = "salesforce-not-connected-result";


/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*****************************************************!*\
  !*** ./client/src/integrations/salesforce/index.ts ***!
  \*****************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "integration": () => (/* binding */ integration)
/* harmony export */ });
/* harmony import */ var _integration_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./integration-provider */ "./client/src/integrations/salesforce/integration-provider.ts");

const integration = new _integration_provider__WEBPACK_IMPORTED_MODULE_0__.SalesForceIntegrationProvider();

})();

var __webpack_exports__integration = __webpack_exports__.integration;
export { __webpack_exports__integration as integration };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWE7VUFDN0Q7Ozs7Ozs7Ozs7Ozs7OztBQ051RTtBQUVoRSxNQUFNLFdBQVcsR0FBRyxJQUFJLGdGQUE2QixFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9zYWxlc2ZvcmNlL29wZW5maW4uc2FsZXNmb3JjZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi93b3Jrc3BhY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2UvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy9zYWxlc2ZvcmNlL2ludGVncmF0aW9uLXByb3ZpZGVyLnRzIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2UvLi9jbGllbnQvc3JjL2ludGVncmF0aW9ucy9zYWxlc2ZvcmNlL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlPXs0MjE6KGUsdCxyKT0+e2UuZXhwb3J0cz1yKDQ0OCl9LDk5NDooZSx0LHIpPT57dmFyIG49cig0NDYpLG89cigzMjIpLHM9cig1OCksaT1yKDk4MiksYT1yKDYzKSxjPXIoNTQxKSx1PXIoNDk3KSxsPXIoOTg4KSxmPXIoMjQyKSxkPXIoMTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscil7dmFyIHAsaD1lLmRhdGEsdz1lLmhlYWRlcnMsbT1lLnJlc3BvbnNlVHlwZTtmdW5jdGlvbiB2KCl7ZS5jYW5jZWxUb2tlbiYmZS5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShwKSxlLnNpZ25hbCYmZS5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscCl9bi5pc0Zvcm1EYXRhKGgpJiZkZWxldGUgd1tcIkNvbnRlbnQtVHlwZVwiXTt2YXIgZz1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoZS5hdXRoKXt2YXIgeT1lLmF1dGgudXNlcm5hbWV8fFwiXCIsYj1lLmF1dGgucGFzc3dvcmQ/dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXV0aC5wYXNzd29yZCkpOlwiXCI7dy5BdXRob3JpemF0aW9uPVwiQmFzaWMgXCIrYnRvYSh5K1wiOlwiK2IpfXZhciB4PWEoZS5iYXNlVVJMLGUudXJsKTtmdW5jdGlvbiBFKCl7aWYoZyl7dmFyIG49XCJnZXRBbGxSZXNwb25zZUhlYWRlcnNcImluIGc/YyhnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTpudWxsLHM9e2RhdGE6bSYmXCJ0ZXh0XCIhPT1tJiZcImpzb25cIiE9PW0/Zy5yZXNwb25zZTpnLnJlc3BvbnNlVGV4dCxzdGF0dXM6Zy5zdGF0dXMsc3RhdHVzVGV4dDpnLnN0YXR1c1RleHQsaGVhZGVyczpuLGNvbmZpZzplLHJlcXVlc3Q6Z307bygoZnVuY3Rpb24oZSl7dChlKSx2KCl9KSwoZnVuY3Rpb24oZSl7cihlKSx2KCl9KSxzKSxnPW51bGx9fWlmKGcub3BlbihlLm1ldGhvZC50b1VwcGVyQ2FzZSgpLGkoeCxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpLCEwKSxnLnRpbWVvdXQ9ZS50aW1lb3V0LFwib25sb2FkZW5kXCJpbiBnP2cub25sb2FkZW5kPUU6Zy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtnJiY0PT09Zy5yZWFkeVN0YXRlJiYoMCE9PWcuc3RhdHVzfHxnLnJlc3BvbnNlVVJMJiYwPT09Zy5yZXNwb25zZVVSTC5pbmRleE9mKFwiZmlsZTpcIikpJiZzZXRUaW1lb3V0KEUpfSxnLm9uYWJvcnQ9ZnVuY3Rpb24oKXtnJiYocihsKFwiUmVxdWVzdCBhYm9ydGVkXCIsZSxcIkVDT05OQUJPUlRFRFwiLGcpKSxnPW51bGwpfSxnLm9uZXJyb3I9ZnVuY3Rpb24oKXtyKGwoXCJOZXR3b3JrIEVycm9yXCIsZSxudWxsLGcpKSxnPW51bGx9LGcub250aW1lb3V0PWZ1bmN0aW9uKCl7dmFyIHQ9ZS50aW1lb3V0P1widGltZW91dCBvZiBcIitlLnRpbWVvdXQrXCJtcyBleGNlZWRlZFwiOlwidGltZW91dCBleGNlZWRlZFwiLG49ZS50cmFuc2l0aW9uYWx8fGYudHJhbnNpdGlvbmFsO2UudGltZW91dEVycm9yTWVzc2FnZSYmKHQ9ZS50aW1lb3V0RXJyb3JNZXNzYWdlKSxyKGwodCxlLG4uY2xhcmlmeVRpbWVvdXRFcnJvcj9cIkVUSU1FRE9VVFwiOlwiRUNPTk5BQk9SVEVEXCIsZykpLGc9bnVsbH0sbi5pc1N0YW5kYXJkQnJvd3NlckVudigpKXt2YXIgaz0oZS53aXRoQ3JlZGVudGlhbHN8fHUoeCkpJiZlLnhzcmZDb29raWVOYW1lP3MucmVhZChlLnhzcmZDb29raWVOYW1lKTp2b2lkIDA7ayYmKHdbZS54c3JmSGVhZGVyTmFtZV09ayl9XCJzZXRSZXF1ZXN0SGVhZGVyXCJpbiBnJiZuLmZvckVhY2godywoZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1oJiZcImNvbnRlbnQtdHlwZVwiPT09dC50b0xvd2VyQ2FzZSgpP2RlbGV0ZSB3W3RdOmcuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSkpLG4uaXNVbmRlZmluZWQoZS53aXRoQ3JlZGVudGlhbHMpfHwoZy53aXRoQ3JlZGVudGlhbHM9ISFlLndpdGhDcmVkZW50aWFscyksbSYmXCJqc29uXCIhPT1tJiYoZy5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25Eb3dubG9hZFByb2dyZXNzJiZnLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLGUub25Eb3dubG9hZFByb2dyZXNzKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uVXBsb2FkUHJvZ3Jlc3MmJmcudXBsb2FkJiZnLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixlLm9uVXBsb2FkUHJvZ3Jlc3MpLChlLmNhbmNlbFRva2VufHxlLnNpZ25hbCkmJihwPWZ1bmN0aW9uKGUpe2cmJihyKCFlfHxlJiZlLnR5cGU/bmV3IGQoXCJjYW5jZWxlZFwiKTplKSxnLmFib3J0KCksZz1udWxsKX0sZS5jYW5jZWxUb2tlbiYmZS5jYW5jZWxUb2tlbi5zdWJzY3JpYmUocCksZS5zaWduYWwmJihlLnNpZ25hbC5hYm9ydGVkP3AoKTplLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixwKSkpLGh8fChoPW51bGwpLGcuc2VuZChoKX0pKX19LDQ0ODooZSx0LHIpPT57dmFyIG49cig0NDYpLG89cig5NjIpLHM9cig0OTUpLGk9cigxNDkpLGE9ZnVuY3Rpb24gZSh0KXt2YXIgcj1uZXcgcyh0KSxhPW8ocy5wcm90b3R5cGUucmVxdWVzdCxyKTtyZXR1cm4gbi5leHRlbmQoYSxzLnByb3RvdHlwZSxyKSxuLmV4dGVuZChhLHIpLGEuY3JlYXRlPWZ1bmN0aW9uKHIpe3JldHVybiBlKGkodCxyKSl9LGF9KHIoMjQyKSk7YS5BeGlvcz1zLGEuQ2FuY2VsPXIoMTQpLGEuQ2FuY2VsVG9rZW49cig1NDMpLGEuaXNDYW5jZWw9cigxODEpLGEuVkVSU0lPTj1yKDQ3NCkudmVyc2lvbixhLmFsbD1mdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5hbGwoZSl9LGEuc3ByZWFkPXIoNjcpLGEuaXNBeGlvc0Vycm9yPXIoNzI2KSxlLmV4cG9ydHM9YSxlLmV4cG9ydHMuZGVmYXVsdD1hfSwxNDplPT57ZnVuY3Rpb24gdChlKXt0aGlzLm1lc3NhZ2U9ZX10LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQ2FuY2VsXCIrKHRoaXMubWVzc2FnZT9cIjogXCIrdGhpcy5tZXNzYWdlOlwiXCIpfSx0LnByb3RvdHlwZS5fX0NBTkNFTF9fPSEwLGUuZXhwb3J0cz10fSw1NDM6KGUsdCxyKT0+e3ZhciBuPXIoMTQpO2Z1bmN0aW9uIG8oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgdDt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3Q9ZX0pKTt2YXIgcj10aGlzO3RoaXMucHJvbWlzZS50aGVuKChmdW5jdGlvbihlKXtpZihyLl9saXN0ZW5lcnMpe3ZhciB0LG49ci5fbGlzdGVuZXJzLmxlbmd0aDtmb3IodD0wO3Q8bjt0Kyspci5fbGlzdGVuZXJzW3RdKGUpO3IuX2xpc3RlbmVycz1udWxsfX0pKSx0aGlzLnByb21pc2UudGhlbj1mdW5jdGlvbihlKXt2YXIgdCxuPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyLnN1YnNjcmliZShlKSx0PWV9KSkudGhlbihlKTtyZXR1cm4gbi5jYW5jZWw9ZnVuY3Rpb24oKXtyLnVuc3Vic2NyaWJlKHQpfSxufSxlKChmdW5jdGlvbihlKXtyLnJlYXNvbnx8KHIucmVhc29uPW5ldyBuKGUpLHQoci5yZWFzb24pKX0pKX1vLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5yZWFzb24pdGhyb3cgdGhpcy5yZWFzb259LG8ucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlKXt0aGlzLnJlYXNvbj9lKHRoaXMucmVhc29uKTp0aGlzLl9saXN0ZW5lcnM/dGhpcy5fbGlzdGVuZXJzLnB1c2goZSk6dGhpcy5fbGlzdGVuZXJzPVtlXX0sby5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fbGlzdGVuZXJzKXt2YXIgdD10aGlzLl9saXN0ZW5lcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX2xpc3RlbmVycy5zcGxpY2UodCwxKX19LG8uc291cmNlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJue3Rva2VuOm5ldyBvKChmdW5jdGlvbih0KXtlPXR9KSksY2FuY2VsOmV9fSxlLmV4cG9ydHM9b30sMTgxOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUuX19DQU5DRUxfXyl9fSw0OTU6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoOTgyKSxzPXIoNTgyKSxpPXIoODYyKSxhPXIoMTQ5KSxjPXIoMTY2KSx1PWMudmFsaWRhdG9ycztmdW5jdGlvbiBsKGUpe3RoaXMuZGVmYXVsdHM9ZSx0aGlzLmludGVyY2VwdG9ycz17cmVxdWVzdDpuZXcgcyxyZXNwb25zZTpuZXcgc319bC5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlLHQpe1wic3RyaW5nXCI9PXR5cGVvZiBlPyh0PXR8fHt9KS51cmw9ZTp0PWV8fHt9LCh0PWEodGhpcy5kZWZhdWx0cyx0KSkubWV0aG9kP3QubWV0aG9kPXQubWV0aG9kLnRvTG93ZXJDYXNlKCk6dGhpcy5kZWZhdWx0cy5tZXRob2Q/dC5tZXRob2Q9dGhpcy5kZWZhdWx0cy5tZXRob2QudG9Mb3dlckNhc2UoKTp0Lm1ldGhvZD1cImdldFwiO3ZhciByPXQudHJhbnNpdGlvbmFsO3ZvaWQgMCE9PXImJmMuYXNzZXJ0T3B0aW9ucyhyLHtzaWxlbnRKU09OUGFyc2luZzp1LnRyYW5zaXRpb25hbCh1LmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOnUudHJhbnNpdGlvbmFsKHUuYm9vbGVhbiksY2xhcmlmeVRpbWVvdXRFcnJvcjp1LnRyYW5zaXRpb25hbCh1LmJvb2xlYW4pfSwhMSk7dmFyIG49W10sbz0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUucnVuV2hlbiYmITE9PT1lLnJ1bldoZW4odCl8fChvPW8mJmUuc3luY2hyb25vdXMsbi51bnNoaWZ0KGUuZnVsZmlsbGVkLGUucmVqZWN0ZWQpKX0pKTt2YXIgcyxsPVtdO2lmKHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2wucHVzaChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKX0pKSwhbyl7dmFyIGY9W2ksdm9pZCAwXTtmb3IoQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoZixuKSxmPWYuY29uY2F0KGwpLHM9UHJvbWlzZS5yZXNvbHZlKHQpO2YubGVuZ3RoOylzPXMudGhlbihmLnNoaWZ0KCksZi5zaGlmdCgpKTtyZXR1cm4gc31mb3IodmFyIGQ9dDtuLmxlbmd0aDspe3ZhciBwPW4uc2hpZnQoKSxoPW4uc2hpZnQoKTt0cnl7ZD1wKGQpfWNhdGNoKGUpe2goZSk7YnJlYWt9fXRyeXtzPWkoZCl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWZvcig7bC5sZW5ndGg7KXM9cy50aGVuKGwuc2hpZnQoKSxsLnNoaWZ0KCkpO3JldHVybiBzfSxsLnByb3RvdHlwZS5nZXRVcmk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9YSh0aGlzLmRlZmF1bHRzLGUpLG8oZS51cmwsZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKS5yZXBsYWNlKC9eXFw/LyxcIlwiKX0sbi5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJvcHRpb25zXCJdLChmdW5jdGlvbihlKXtsLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLnJlcXVlc3QoYShyfHx7fSx7bWV0aG9kOmUsdXJsOnQsZGF0YToocnx8e30pLmRhdGF9KSl9fSkpLG4uZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLChmdW5jdGlvbihlKXtsLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMucmVxdWVzdChhKG58fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOnJ9KSl9fSkpLGUuZXhwb3J0cz1sfSw1ODI6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtmdW5jdGlvbiBvKCl7dGhpcy5oYW5kbGVycz1bXX1vLnByb3RvdHlwZS51c2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmhhbmRsZXJzLnB1c2goe2Z1bGZpbGxlZDplLHJlamVjdGVkOnQsc3luY2hyb25vdXM6ISFyJiZyLnN5bmNocm9ub3VzLHJ1bldoZW46cj9yLnJ1bldoZW46bnVsbH0pLHRoaXMuaGFuZGxlcnMubGVuZ3RoLTF9LG8ucHJvdG90eXBlLmVqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlcnNbZV0mJih0aGlzLmhhbmRsZXJzW2VdPW51bGwpfSxvLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe24uZm9yRWFjaCh0aGlzLmhhbmRsZXJzLChmdW5jdGlvbih0KXtudWxsIT09dCYmZSh0KX0pKX0sZS5leHBvcnRzPW99LDYzOihlLHQscik9Pnt2YXIgbj1yKDQ1Miksbz1yKDEyMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJiFuKHQpP28oZSx0KTp0fX0sOTg4OihlLHQscik9Pnt2YXIgbj1yKDQ3Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8scyl7dmFyIGk9bmV3IEVycm9yKGUpO3JldHVybiBuKGksdCxyLG8scyl9fSw4NjI6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoMjU1KSxzPXIoMTgxKSxpPXIoMjQyKSxhPXIoMTQpO2Z1bmN0aW9uIGMoZSl7aWYoZS5jYW5jZWxUb2tlbiYmZS5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCksZS5zaWduYWwmJmUuc2lnbmFsLmFib3J0ZWQpdGhyb3cgbmV3IGEoXCJjYW5jZWxlZFwiKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSksZS5oZWFkZXJzPWUuaGVhZGVyc3x8e30sZS5kYXRhPW8uY2FsbChlLGUuZGF0YSxlLmhlYWRlcnMsZS50cmFuc2Zvcm1SZXF1ZXN0KSxlLmhlYWRlcnM9bi5tZXJnZShlLmhlYWRlcnMuY29tbW9ufHx7fSxlLmhlYWRlcnNbZS5tZXRob2RdfHx7fSxlLmhlYWRlcnMpLG4uZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiLFwiY29tbW9uXCJdLChmdW5jdGlvbih0KXtkZWxldGUgZS5oZWFkZXJzW3RdfSkpLChlLmFkYXB0ZXJ8fGkuYWRhcHRlcikoZSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGMoZSksdC5kYXRhPW8uY2FsbChlLHQuZGF0YSx0LmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSksdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gcyh0KXx8KGMoZSksdCYmdC5yZXNwb25zZSYmKHQucmVzcG9uc2UuZGF0YT1vLmNhbGwoZSx0LnJlc3BvbnNlLmRhdGEsdC5yZXNwb25zZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVzcG9uc2UpKSksUHJvbWlzZS5yZWplY3QodCl9KSl9fSw0Nzc6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuLG8pe3JldHVybiBlLmNvbmZpZz10LHImJihlLmNvZGU9ciksZS5yZXF1ZXN0PW4sZS5yZXNwb25zZT1vLGUuaXNBeGlvc0Vycm9yPSEwLGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue21lc3NhZ2U6dGhpcy5tZXNzYWdlLG5hbWU6dGhpcy5uYW1lLGRlc2NyaXB0aW9uOnRoaXMuZGVzY3JpcHRpb24sbnVtYmVyOnRoaXMubnVtYmVyLGZpbGVOYW1lOnRoaXMuZmlsZU5hbWUsbGluZU51bWJlcjp0aGlzLmxpbmVOdW1iZXIsY29sdW1uTnVtYmVyOnRoaXMuY29sdW1uTnVtYmVyLHN0YWNrOnRoaXMuc3RhY2ssY29uZmlnOnRoaXMuY29uZmlnLGNvZGU6dGhpcy5jb2RlLHN0YXR1czp0aGlzLnJlc3BvbnNlJiZ0aGlzLnJlc3BvbnNlLnN0YXR1cz90aGlzLnJlc3BvbnNlLnN0YXR1czpudWxsfX0sZX19LDE0OTooZSx0LHIpPT57dmFyIG49cig0NDYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHI9e307ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBuLmlzUGxhaW5PYmplY3QoZSkmJm4uaXNQbGFpbk9iamVjdCh0KT9uLm1lcmdlKGUsdCk6bi5pc1BsYWluT2JqZWN0KHQpP24ubWVyZ2Uoe30sdCk6bi5pc0FycmF5KHQpP3Quc2xpY2UoKTp0fWZ1bmN0aW9uIHMocil7cmV0dXJuIG4uaXNVbmRlZmluZWQodFtyXSk/bi5pc1VuZGVmaW5lZChlW3JdKT92b2lkIDA6byh2b2lkIDAsZVtyXSk6byhlW3JdLHRbcl0pfWZ1bmN0aW9uIGkoZSl7aWYoIW4uaXNVbmRlZmluZWQodFtlXSkpcmV0dXJuIG8odm9pZCAwLHRbZV0pfWZ1bmN0aW9uIGEocil7cmV0dXJuIG4uaXNVbmRlZmluZWQodFtyXSk/bi5pc1VuZGVmaW5lZChlW3JdKT92b2lkIDA6byh2b2lkIDAsZVtyXSk6byh2b2lkIDAsdFtyXSl9ZnVuY3Rpb24gYyhyKXtyZXR1cm4gciBpbiB0P28oZVtyXSx0W3JdKTpyIGluIGU/byh2b2lkIDAsZVtyXSk6dm9pZCAwfXZhciB1PXt1cmw6aSxtZXRob2Q6aSxkYXRhOmksYmFzZVVSTDphLHRyYW5zZm9ybVJlcXVlc3Q6YSx0cmFuc2Zvcm1SZXNwb25zZTphLHBhcmFtc1NlcmlhbGl6ZXI6YSx0aW1lb3V0OmEsdGltZW91dE1lc3NhZ2U6YSx3aXRoQ3JlZGVudGlhbHM6YSxhZGFwdGVyOmEscmVzcG9uc2VUeXBlOmEseHNyZkNvb2tpZU5hbWU6YSx4c3JmSGVhZGVyTmFtZTphLG9uVXBsb2FkUHJvZ3Jlc3M6YSxvbkRvd25sb2FkUHJvZ3Jlc3M6YSxkZWNvbXByZXNzOmEsbWF4Q29udGVudExlbmd0aDphLG1heEJvZHlMZW5ndGg6YSx0cmFuc3BvcnQ6YSxodHRwQWdlbnQ6YSxodHRwc0FnZW50OmEsY2FuY2VsVG9rZW46YSxzb2NrZXRQYXRoOmEscmVzcG9uc2VFbmNvZGluZzphLHZhbGlkYXRlU3RhdHVzOmN9O3JldHVybiBuLmZvckVhY2goT2JqZWN0LmtleXMoZSkuY29uY2F0KE9iamVjdC5rZXlzKHQpKSwoZnVuY3Rpb24oZSl7dmFyIHQ9dVtlXXx8cyxvPXQoZSk7bi5pc1VuZGVmaW5lZChvKSYmdCE9PWN8fChyW2VdPW8pfSkpLHJ9fSwzMjI6KGUsdCxyKT0+e3ZhciBuPXIoOTg4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXIuY29uZmlnLnZhbGlkYXRlU3RhdHVzO3Iuc3RhdHVzJiZvJiYhbyhyLnN0YXR1cyk/dChuKFwiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSBcIityLnN0YXR1cyxyLmNvbmZpZyxudWxsLHIucmVxdWVzdCxyKSk6ZShyKX19LDI1NTooZSx0LHIpPT57dmFyIG49cig0NDYpLG89cigyNDIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIHM9dGhpc3x8bztyZXR1cm4gbi5mb3JFYWNoKHIsKGZ1bmN0aW9uKHIpe2U9ci5jYWxsKHMsZSx0KX0pKSxlfX0sMjQyOihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDk2NCkscz1yKDQ3NyksaT17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifTtmdW5jdGlvbiBhKGUsdCl7IW4uaXNVbmRlZmluZWQoZSkmJm4uaXNVbmRlZmluZWQoZVtcIkNvbnRlbnQtVHlwZVwiXSkmJihlW1wiQ29udGVudC1UeXBlXCJdPXQpfXZhciBjLHU9e3RyYW5zaXRpb25hbDp7c2lsZW50SlNPTlBhcnNpbmc6ITAsZm9yY2VkSlNPTlBhcnNpbmc6ITAsY2xhcmlmeVRpbWVvdXRFcnJvcjohMX0sYWRhcHRlcjooKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb2Nlc3MpKSYmKGM9cig5OTQpKSxjKSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihlLHQpe3JldHVybiBvKHQsXCJBY2NlcHRcIiksbyh0LFwiQ29udGVudC1UeXBlXCIpLG4uaXNGb3JtRGF0YShlKXx8bi5pc0FycmF5QnVmZmVyKGUpfHxuLmlzQnVmZmVyKGUpfHxuLmlzU3RyZWFtKGUpfHxuLmlzRmlsZShlKXx8bi5pc0Jsb2IoZSk/ZTpuLmlzQXJyYXlCdWZmZXJWaWV3KGUpP2UuYnVmZmVyOm4uaXNVUkxTZWFyY2hQYXJhbXMoZSk/KGEodCxcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpLGUudG9TdHJpbmcoKSk6bi5pc09iamVjdChlKXx8dCYmXCJhcHBsaWNhdGlvbi9qc29uXCI9PT10W1wiQ29udGVudC1UeXBlXCJdPyhhKHQsXCJhcHBsaWNhdGlvbi9qc29uXCIpLGZ1bmN0aW9uKGUsdCxyKXtpZihuLmlzU3RyaW5nKGUpKXRyeXtyZXR1cm4oMCxKU09OLnBhcnNlKShlKSxuLnRyaW0oZSl9Y2F0Y2goZSl7aWYoXCJTeW50YXhFcnJvclwiIT09ZS5uYW1lKXRocm93IGV9cmV0dXJuKDAsSlNPTi5zdHJpbmdpZnkpKGUpfShlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zaXRpb25hbHx8dS50cmFuc2l0aW9uYWwscj10JiZ0LnNpbGVudEpTT05QYXJzaW5nLG89dCYmdC5mb3JjZWRKU09OUGFyc2luZyxpPSFyJiZcImpzb25cIj09PXRoaXMucmVzcG9uc2VUeXBlO2lmKGl8fG8mJm4uaXNTdHJpbmcoZSkmJmUubGVuZ3RoKXRyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtpZihpKXtpZihcIlN5bnRheEVycm9yXCI9PT1lLm5hbWUpdGhyb3cgcyhlLHRoaXMsXCJFX0pTT05fUEFSU0VcIik7dGhyb3cgZX19cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6XCJYU1JGLVRPS0VOXCIseHNyZkhlYWRlck5hbWU6XCJYLVhTUkYtVE9LRU5cIixtYXhDb250ZW50TGVuZ3RoOi0xLG1heEJvZHlMZW5ndGg6LTEsdmFsaWRhdGVTdGF0dXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTIwMCYmZTwzMDB9LGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9fX07bi5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCJdLChmdW5jdGlvbihlKXt1LmhlYWRlcnNbZV09e319KSksbi5mb3JFYWNoKFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGZ1bmN0aW9uKGUpe3UuaGVhZGVyc1tlXT1uLm1lcmdlKGkpfSkpLGUuZXhwb3J0cz11fSw0NzQ6ZT0+e2UuZXhwb3J0cz17dmVyc2lvbjpcIjAuMjYuMFwifX0sOTYyOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLG49MDtuPHIubGVuZ3RoO24rKylyW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS5hcHBseSh0LHIpfX19LDk4MjooZSx0LHIpPT57dmFyIG49cig0NDYpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKS5yZXBsYWNlKC8lNUIvZ2ksXCJbXCIpLnJlcGxhY2UoLyU1RC9naSxcIl1cIil9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighdClyZXR1cm4gZTt2YXIgcztpZihyKXM9cih0KTtlbHNlIGlmKG4uaXNVUkxTZWFyY2hQYXJhbXModCkpcz10LnRvU3RyaW5nKCk7ZWxzZXt2YXIgaT1bXTtuLmZvckVhY2godCwoZnVuY3Rpb24oZSx0KXtudWxsIT1lJiYobi5pc0FycmF5KGUpP3QrPVwiW11cIjplPVtlXSxuLmZvckVhY2goZSwoZnVuY3Rpb24oZSl7bi5pc0RhdGUoZSk/ZT1lLnRvSVNPU3RyaW5nKCk6bi5pc09iamVjdChlKSYmKGU9SlNPTi5zdHJpbmdpZnkoZSkpLGkucHVzaChvKHQpK1wiPVwiK28oZSkpfSkpKX0pKSxzPWkuam9pbihcIiZcIil9aWYocyl7dmFyIGE9ZS5pbmRleE9mKFwiI1wiKTstMSE9PWEmJihlPWUuc2xpY2UoMCxhKSksZSs9KC0xPT09ZS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrc31yZXR1cm4gZX19LDEyMzplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/ZS5yZXBsYWNlKC9cXC8rJC8sXCJcIikrXCIvXCIrdC5yZXBsYWNlKC9eXFwvKy8sXCJcIik6ZX19LDU4OihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZS5leHBvcnRzPW4uaXNTdGFuZGFyZEJyb3dzZXJFbnYoKT97d3JpdGU6ZnVuY3Rpb24oZSx0LHIsbyxzLGkpe3ZhciBhPVtdO2EucHVzaChlK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0KSksbi5pc051bWJlcihyKSYmYS5wdXNoKFwiZXhwaXJlcz1cIituZXcgRGF0ZShyKS50b0dNVFN0cmluZygpKSxuLmlzU3RyaW5nKG8pJiZhLnB1c2goXCJwYXRoPVwiK28pLG4uaXNTdHJpbmcocykmJmEucHVzaChcImRvbWFpbj1cIitzKSwhMD09PWkmJmEucHVzaChcInNlY3VyZVwiKSxkb2N1bWVudC5jb29raWU9YS5qb2luKFwiOyBcIil9LHJlYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoXCIoXnw7XFxcXHMqKShcIitlK1wiKT0oW147XSopXCIpKTtyZXR1cm4gdD9kZWNvZGVVUklDb21wb25lbnQodFszXSk6bnVsbH0scmVtb3ZlOmZ1bmN0aW9uKGUpe3RoaXMud3JpdGUoZSxcIlwiLERhdGUubm93KCktODY0ZTUpfX06e3dyaXRlOmZ1bmN0aW9uKCl7fSxyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHJlbW92ZTpmdW5jdGlvbigpe319fSw0NTI6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4vXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdChlKX19LDcyNjooZSx0LHIpPT57dmFyIG49cig0NDYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5pc09iamVjdChlKSYmITA9PT1lLmlzQXhpb3NFcnJvcn19LDQ5NzooZSx0LHIpPT57dmFyIG49cig0NDYpO2UuZXhwb3J0cz1uLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/ZnVuY3Rpb24oKXt2YXIgZSx0PS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtmdW5jdGlvbiBvKGUpe3ZhciBuPWU7cmV0dXJuIHQmJihyLnNldEF0dHJpYnV0ZShcImhyZWZcIixuKSxuPXIuaHJlZiksci5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsbikse2hyZWY6ci5ocmVmLHByb3RvY29sOnIucHJvdG9jb2w/ci5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0OnIuaG9zdCxzZWFyY2g6ci5zZWFyY2g/ci5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOnIuaGFzaD9yLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6ci5ob3N0bmFtZSxwb3J0OnIucG9ydCxwYXRobmFtZTpcIi9cIj09PXIucGF0aG5hbWUuY2hhckF0KDApP3IucGF0aG5hbWU6XCIvXCIrci5wYXRobmFtZX19cmV0dXJuIGU9byh3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24odCl7dmFyIHI9bi5pc1N0cmluZyh0KT9vKHQpOnQ7cmV0dXJuIHIucHJvdG9jb2w9PT1lLnByb3RvY29sJiZyLmhvc3Q9PT1lLmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSw5NjQ6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtuLmZvckVhY2goZSwoZnVuY3Rpb24ocixuKXtuIT09dCYmbi50b1VwcGVyQ2FzZSgpPT09dC50b1VwcGVyQ2FzZSgpJiYoZVt0XT1yLGRlbGV0ZSBlW25dKX0pKX19LDU0MTooZSx0LHIpPT57dmFyIG49cig0NDYpLG89W1wiYWdlXCIsXCJhdXRob3JpemF0aW9uXCIsXCJjb250ZW50LWxlbmd0aFwiLFwiY29udGVudC10eXBlXCIsXCJldGFnXCIsXCJleHBpcmVzXCIsXCJmcm9tXCIsXCJob3N0XCIsXCJpZi1tb2RpZmllZC1zaW5jZVwiLFwiaWYtdW5tb2RpZmllZC1zaW5jZVwiLFwibGFzdC1tb2RpZmllZFwiLFwibG9jYXRpb25cIixcIm1heC1mb3J3YXJkc1wiLFwicHJveHktYXV0aG9yaXphdGlvblwiLFwicmVmZXJlclwiLFwicmV0cnktYWZ0ZXJcIixcInVzZXItYWdlbnRcIl07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscyxpPXt9O3JldHVybiBlPyhuLmZvckVhY2goZS5zcGxpdChcIlxcblwiKSwoZnVuY3Rpb24oZSl7aWYocz1lLmluZGV4T2YoXCI6XCIpLHQ9bi50cmltKGUuc3Vic3RyKDAscykpLnRvTG93ZXJDYXNlKCkscj1uLnRyaW0oZS5zdWJzdHIocysxKSksdCl7aWYoaVt0XSYmby5pbmRleE9mKHQpPj0wKXJldHVybjtpW3RdPVwic2V0LWNvb2tpZVwiPT09dD8oaVt0XT9pW3RdOltdKS5jb25jYXQoW3JdKTppW3RdP2lbdF0rXCIsIFwiK3I6cn19KSksaSk6aX19LDY3OmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KG51bGwsdCl9fX0sMTY2OihlLHQscik9Pnt2YXIgbj1yKDQ3NCkudmVyc2lvbixvPXt9O1tcIm9iamVjdFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJmdW5jdGlvblwiLFwic3RyaW5nXCIsXCJzeW1ib2xcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtvW2VdPWZ1bmN0aW9uKHIpe3JldHVybiB0eXBlb2Ygcj09PWV8fFwiYVwiKyh0PDE/XCJuIFwiOlwiIFwiKStlfX0pKTt2YXIgcz17fTtvLnRyYW5zaXRpb25hbD1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbyhlLHQpe3JldHVyblwiW0F4aW9zIHZcIituK1wiXSBUcmFuc2l0aW9uYWwgb3B0aW9uICdcIitlK1wiJ1wiK3QrKHI/XCIuIFwiK3I6XCJcIil9cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtpZighMT09PWUpdGhyb3cgbmV3IEVycm9yKG8obixcIiBoYXMgYmVlbiByZW1vdmVkXCIrKHQ/XCIgaW4gXCIrdDpcIlwiKSkpO3JldHVybiB0JiYhc1tuXSYmKHNbbl09ITAsY29uc29sZS53YXJuKG8obixcIiBoYXMgYmVlbiBkZXByZWNhdGVkIHNpbmNlIHZcIit0K1wiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlXCIpKSksIWV8fGUocixuLGkpfX0sZS5leHBvcnRzPXthc3NlcnRPcHRpb25zOmZ1bmN0aW9uKGUsdCxyKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdFwiKTtmb3IodmFyIG49T2JqZWN0LmtleXMoZSksbz1uLmxlbmd0aDtvLS0gPjA7KXt2YXIgcz1uW29dLGk9dFtzXTtpZihpKXt2YXIgYT1lW3NdLGM9dm9pZCAwPT09YXx8aShhLHMsZSk7aWYoITAhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb24gXCIrcytcIiBtdXN0IGJlIFwiK2MpfWVsc2UgaWYoITAhPT1yKXRocm93IEVycm9yKFwiVW5rbm93biBvcHRpb24gXCIrcyl9fSx2YWxpZGF0b3JzOm99fSw0NDY6KGUsdCxyKT0+e3ZhciBuPXIoOTYyKSxvPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBpKGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09by5jYWxsKGUpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX1mdW5jdGlvbiB1KGUpe2lmKFwiW29iamVjdCBPYmplY3RdXCIhPT1vLmNhbGwoZSkpcmV0dXJuITE7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBudWxsPT09dHx8dD09PU9iamVjdC5wcm90b3R5cGV9ZnVuY3Rpb24gbChlKXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PT1vLmNhbGwoZSl9ZnVuY3Rpb24gZihlLHQpe2lmKG51bGwhPWUpaWYoXCJvYmplY3RcIiE9dHlwZW9mIGUmJihlPVtlXSkscyhlKSlmb3IodmFyIHI9MCxuPWUubGVuZ3RoO3I8bjtyKyspdC5jYWxsKG51bGwsZVtyXSxyLGUpO2Vsc2UgZm9yKHZhciBvIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJnQuY2FsbChudWxsLGVbb10sbyxlKX1lLmV4cG9ydHM9e2lzQXJyYXk6cyxpc0FycmF5QnVmZmVyOmEsaXNCdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYhaShlKSYmbnVsbCE9PWUuY29uc3RydWN0b3ImJiFpKGUuY29uc3RydWN0b3IpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yLmlzQnVmZmVyJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfSxpc0Zvcm1EYXRhOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBGb3JtRGF0YV1cIj09PW8uY2FsbChlKX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOmUmJmUuYnVmZmVyJiZhKGUuYnVmZmVyKX0saXNTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGlzTnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlfSxpc09iamVjdDpjLGlzUGxhaW5PYmplY3Q6dSxpc1VuZGVmaW5lZDppLGlzRGF0ZTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRGF0ZV1cIj09PW8uY2FsbChlKX0saXNGaWxlOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBGaWxlXVwiPT09by5jYWxsKGUpfSxpc0Jsb2I6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEJsb2JdXCI9PT1vLmNhbGwoZSl9LGlzRnVuY3Rpb246bCxpc1N0cmVhbTpmdW5jdGlvbihlKXtyZXR1cm4gYyhlKSYmbChlLnBpcGUpfSxpc1VSTFNlYXJjaFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgVVJMU2VhcmNoUGFyYW1zXVwiPT09by5jYWxsKGUpfSxpc1N0YW5kYXJkQnJvd3NlckVudjpmdW5jdGlvbigpe3JldHVybihcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yfHxcIlJlYWN0TmF0aXZlXCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOYXRpdmVTY3JpcHRcIiE9PW5hdmlnYXRvci5wcm9kdWN0JiZcIk5TXCIhPT1uYXZpZ2F0b3IucHJvZHVjdCkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudH0sZm9yRWFjaDpmLG1lcmdlOmZ1bmN0aW9uIGUoKXt2YXIgdD17fTtmdW5jdGlvbiByKHIsbil7dSh0W25dKSYmdShyKT90W25dPWUodFtuXSxyKTp1KHIpP3Rbbl09ZSh7fSxyKTpzKHIpP3Rbbl09ci5zbGljZSgpOnRbbl09cn1mb3IodmFyIG49MCxvPWFyZ3VtZW50cy5sZW5ndGg7bjxvO24rKylmKGFyZ3VtZW50c1tuXSxyKTtyZXR1cm4gdH0sZXh0ZW5kOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZih0LChmdW5jdGlvbih0LG8pe2Vbb109ciYmXCJmdW5jdGlvblwiPT10eXBlb2YgdD9uKHQscik6dH0pKSxlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfSxzdHJpcEJPTTpmdW5jdGlvbihlKXtyZXR1cm4gNjUyNzk9PT1lLmNoYXJDb2RlQXQoMCkmJihlPWUuc2xpY2UoMSkpLGV9fX19LHQ9e307ZnVuY3Rpb24gcihuKXt2YXIgbz10W25dO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgcz10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXShzLHMuZXhwb3J0cyxyKSxzLmV4cG9ydHN9ci5uPWU9Pnt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gci5kKHQse2E6dH0pLHR9LHIuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KXIubyh0LG4pJiYhci5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0sci5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KTt2YXIgbj17fTsoKCk9PntyLmQobix7TVM6KCk9Pm8sTV86KCk9PnMsaFk6KCk9PmksRzQ6KCk9PmEsX1c6KCk9PmMsbzooKT0+dSxDMzooKT0+ZixmQjooKT0+bCxpZjooKT0+ZCwkajooKT0+VCxVJDooKT0+dyxVNzooKT0+bSxCNTooKT0+JH0pO3ZhciBlPXIoNDIxKSx0PXIubihlKTtjbGFzcyBvIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZT1cIkFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkXCIsdCl7dmFyIHI7c3VwZXIoZSksdCYmKHRoaXMuaW5uZXJFcnJvcj10JiZ0KSx0aGlzLnN0YWNrPW51bGw9PT0ocj10aGlzLnN0YWNrKXx8dm9pZCAwPT09cj92b2lkIDA6ci5yZXBsYWNlKC9eKFxcdypFcnJvcikvLGAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKX19Y2xhc3MgcyBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIlVuYWJsZSB0byBhdXRob3JpemUgY29ubmVjdGlvbiB0byBTYWxlc2ZvcmNlXCIsdCl7dmFyIHIsbixvO3N1cGVyKGUsdCksdCYmdC5pc0F4aW9zRXJyb3ImJih0Lm1lc3NhZ2U9bnVsbCE9PShvPW51bGw9PT0obj1udWxsPT09KHI9dC5yZXNwb25zZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGF0YSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZXJyb3JfZGVzY3JpcHRpb24pJiZ2b2lkIDAhPT1vP286dC5tZXNzYWdlKX19Y2xhc3MgaSBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIk5vdCBjb25uZWN0ZWQgdG8gU2FsZXNmb3JjZVwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGEgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJSZXRyaWV2ZSBTYWxlc2ZvcmNlIG9iamVjdCBkYXRhIGZhaWxlZFwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGMgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJJbnZhbGlkIHBhcmFtZXRlciBkZXRlY3RlZFwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIHUgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJFeGVjdXRlIFNhbGVzZm9yY2UgcXVlcnkgZmFpbGVkXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgbCBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIlVuYWJsZSB0byByZXRyaWV2ZSBzZWFyY2ggcmVzdWx0cyBmcm9tIFNhbGVzZm9yY2VcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBmIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlLHQ9XCJFeGVjdXRlIFNhbGVzZm9yY2UgUkVTVCBBUEkgcmVxdWVzdCBmYWlsZWRcIil7dmFyIHIsbixvLHMsaTtzdXBlcih0LG51bGwhPWU/ZTp2b2lkIDApLHRoaXMucmVzdEFwaUVycm9yQ29kZT1cIlwiLHRoaXMucmVzdEFwaUVycm9yRGVzY3JpcHRpb249XCJcIix0aGlzLnJlc3RBcGlSZXNwb25zZVN0YXR1cz12b2lkIDA7Y29uc3QgYT1lO2lmKG51bGw9PWE/dm9pZCAwOmEuaXNBeGlvc0Vycm9yKXtpZih0aGlzLnJlc3RBcGlSZXNwb25zZVN0YXR1cz1udWxsPT09KHI9YS5yZXNwb25zZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3RhdHVzLCEobnVsbD09PShvPW51bGw9PT0obj1hLnJlc3BvbnNlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kYXRhKXx8dm9pZCAwPT09bz92b2lkIDA6by5sZW5ndGgpKXJldHVybjtjb25zdCBlPW51bGw9PT0oaT1udWxsPT09KHM9YS5yZXNwb25zZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmlbMF07aWYoZSl7Y29uc3R7ZXJyb3JDb2RlOnQsbWVzc2FnZTpyfT1lO3RoaXMucmVzdEFwaUVycm9yQ29kZT10LHRoaXMucmVzdEFwaUVycm9yRGVzY3JpcHRpb249cn19fX1jbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiLHQpe3N1cGVyKGUsdCl9fWxldCBwPSExO2NvbnN0IGg9XCJbQG9wZW5maW4vc2FsZXNmb3JjZV1cIix3PSgpPT57cD0hMX0sbT0oKT0+e3A9ITAsZyhcInYyLjEuM1wiKX0sdj1lPT57aWYocCYmKGUuaW5uZXJFcnJvcj9jb25zb2xlLmVycm9yKGgsZSxcIlxcblxcbihpbm5lcilcIixlLmlubmVyRXJyb3IpOmNvbnNvbGUuZXJyb3IoaCxlKSxlIGluc3RhbmNlb2YgZikpe2NvbnN0e3Jlc3RBcGlFcnJvckNvZGU6dCxyZXN0QXBpRXJyb3JEZXNjcmlwdGlvbjpyfT1lO2lmKHIpe2NvbnN0IGU9ci5yZXBsYWNlKC9cXG4vZyxcIiBcIikudHJpbSgpLG49dD9gJHt0fTogJHtlfWA6ZTtjb25zb2xlLndhcm4oaCxuKX19fSxnPSguLi5lKT0+e3AmJmNvbnNvbGUubG9nKGgsLi4uZSl9LHk9KC4uLmUpPT57cCYmY29uc29sZS53YXJuKGgsLi4uZSl9O3dpbmRvdy5maW58fE9iamVjdC5hc3NpZ24od2luZG93LHtmaW46e319KSxPYmplY3QuYXNzaWduKHdpbmRvdy5maW4se0ludGVncmF0aW9uczp7U2FsZXNmb3JjZTp7ZW5hYmxlTG9nZ2luZzptLGRpc2FibGVMb2dnaW5nOnd9fX0pO2NvbnN0IGI9XCI1NC4wXCIseD0vdlhYXFwuWC9pLEU9ZT0+KEFycmF5LmlzQXJyYXkoZSk/ZTpPYmplY3QuZW50cmllcyhlKSkucmVkdWNlKCgoZSx0KT0+e2NvbnN0IHI9QXJyYXkuaXNBcnJheShlKT90OnRbMV07bGV0IG47c3dpdGNoKCEwKXtjYXNlIG51bGw9PXI6bj1yO2JyZWFrO2Nhc2VcInN0cmluZ1wiPT10eXBlb2YgcjpuPXIucmVwbGFjZSh4LFwidjU0LjBcIik7YnJlYWs7Y2FzZSBBcnJheS5pc0FycmF5KHIpOmNhc2VcIm9iamVjdFwiPT10eXBlb2YgcjpuPUUocik7YnJlYWs7ZGVmYXVsdDpuPXJ9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5wdXNoKG4pOmVbdFswXV09bixlfSksQXJyYXkuaXNBcnJheShlKT9bXTp7fSksaz1cInNhbGVzZm9yY2UtYXV0aFwiLFM9XCJodHRwczovL2xvZ2luLnNhbGVzZm9yY2UuY29tL3NlcnZpY2VzL29hdXRoMi9zdWNjZXNzXCIsQT0oZSx0LHIpPT57ZS5hY2Nlc3NUb2tlbiYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKF8odCxyKSxlLmFjY2Vzc1Rva2VuKSxlLnJlZnJlc2hUb2tlbiYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEwodCxyKSxlLnJlZnJlc2hUb2tlbil9LFQ9YXN5bmMoZSx0LHI9ITEpPT57bGV0IG47dHJ5e249bmV3IFVSTChlKS5vcmlnaW59Y2F0Y2goZSl7dGhyb3cgbmV3IGMoXCJJbnZhbGlkIFNhbGVzZm9yY2UgVVJMXCIpfWlmKCEvc2FsZXNmb3JjZS5jb20kL2kudGVzdChuKSl0aHJvdyBuZXcgYyhcIkludmFsaWQgU2FsZXNmb3JjZSBVUkxcIik7aWYodm9pZCAwPT09KG51bGwhPXQ/dDp2b2lkIDApfHxcIlwiPT09dC50cmltKCkpdGhyb3cgbmV3IGMoXCJDb25zdW1lciBrZXkgbm90IHByb3ZpZGVkXCIpO2coYENvbm5lY3RpbmcgdG8gJHtufSB1c2luZyBrZXkgJHt0fWApO2NvbnN0IG89YXdhaXQgJChlLHQpO2lmKG8pcmV0dXJuIG87ZyhcIk5vIGV4aXN0aW5nIGNvbm5lY3Rpb24gZm91bmQsIHN0YXJ0aW5nIGF1dGggZmxvd1wiKTtjb25zdCBhPShhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudFN5bmMoKS5nZXRDaGlsZFdpbmRvd3MoKSkuZmluZCgoZT0+ZS5pZGVudGl0eS5uYW1lPT09aykpO2EmJmF3YWl0IGEuY2xvc2UoITApO2NvbnN0IHU9cj9cImh0dHBzOi8vdGVzdC5zYWxlc2ZvcmNlLmNvbVwiOlwiaHR0cHM6Ly9sb2dpbi5zYWxlc2ZvcmNlLmNvbVwiLGw9KG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxmPWooKSxkPWF3YWl0IE8oZikscD1gJHt1fS9zZXJ2aWNlcy9vYXV0aDIvYXV0aG9yaXplP1xcbiAgICBjbGllbnRfaWQ9JHt0fSZcXG4gICAgcmVkaXJlY3RfdXJpPSR7U30mXFxuICAgIHJlc3BvbnNlX3R5cGU9Y29kZSZcXG4gICAgc2NvcGU9YXBpK3JlZnJlc2hfdG9rZW4mXFxuICAgIHN0YXRlPSR7bH0mXFxuICAgIGNvZGVfY2hhbGxlbmdlPSR7ZH0mXFxuICAgIGRpc3BsYXk9cG9wdXAmXFxuICAgIHByb21wdD1zZWxlY3RfYWNjb3VudFxcbiAgICBgLnJlcGxhY2UoL1xccy9nLFwiXCIpLGg9YXdhaXQgZmluLldpbmRvdy5jcmVhdGUoe2Fsd2F5c09uVG9wOiEwLG1heGltaXphYmxlOiExLG1pbmltaXphYmxlOiExLGF1dG9TaG93OiExLGRlZmF1bHRDZW50ZXJlZDohMCxkZWZhdWx0SGVpZ2h0OjcwMCxkZWZhdWx0V2lkdGg6NjAwLGluY2x1ZGVJblNuYXBzaG90czohMSxuYW1lOmsscmVzaXphYmxlOiExLHNhdmVXaW5kb3dTdGF0ZTohMSxzaG93VGFza2Jhckljb246ITEsdXJsOnB9KSx3PWF3YWl0IG5ldyBQcm9taXNlKCgoZSx0KT0+e2xldCByO2NvbnN0IG49d2luZG93LnNldFRpbWVvdXQoKCgpPT57d2luZG93LmNsZWFySW50ZXJ2YWwociksd2luZG93LmNsZWFyVGltZW91dChuKSxoLnJlbW92ZUFsbExpc3RlbmVycygpLGguY2xvc2UoITApO2NvbnN0IGU9bmV3IHMoXCJBdXRob3JpemF0aW9uIHRpbWVkIG91dFwiKTt2KGUpLHQoZSl9KSwzZTUpO2guYWRkTGlzdGVuZXIoXCJjbG9zaW5nXCIsKGFzeW5jKCk9PntnKFwiVXNlciBjbG9zZWQgYXV0aCB3aW5kb3dcIiksd2luZG93LmNsZWFySW50ZXJ2YWwociksd2luZG93LmNsZWFyVGltZW91dChuKSxoLnJlbW92ZUFsbExpc3RlbmVycygpO2NvbnN0IGU9bmV3IHMoXCJGYWlsZWQgdG8gY29tcGxldGUgYXV0aG9yaXphdGlvblwiKTt2KGUpLHQoZSl9KSkscj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT4oYXN5bmMoZSx0LHIsbixvLGkpPT57bGV0IGE7dHJ5e2E9YXdhaXQgZS5nZXRJbmZvKCl9Y2F0Y2goZSl7d2luZG93LmNsZWFySW50ZXJ2YWwodCksd2luZG93LmNsZWFyVGltZW91dChyKTtjb25zdCBuPW5ldyBzKFwiQ291bGQgbm90IGxvY2F0ZSBvYXV0aCBmbG93IHdpbmRvd1wiKTtyZXR1cm4gdihuKSxpKG4pfWNvbnN0IGM9bmV3IFVSTChhLnVybCk7aWYoMD09PW5ldyBVUkwoYS51cmwpLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKFMudG9Mb3dlckNhc2UoKSkpe2lmKHdpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQociksZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxlLmNsb3NlKCEwKSxjLnNlYXJjaFBhcmFtcy5nZXQoXCJzdGF0ZVwiKSE9PW4pe2NvbnN0IGU9bmV3IHMoXCJTdGF0ZSBtaXNtYXRjaFwiKTtyZXR1cm4gdihlKSxpKGUpfWNvbnN0IGE9Yy5zZWFyY2hQYXJhbXMuZ2V0KFwiY29kZVwiKTtpZighYSl7Y29uc3QgZT1uZXcgcyhcIkF1dGhvcml6YXRpb24gY29kZSBtaXNzaW5nXCIpO3JldHVybiB2KGUpLGkoZSl9cmV0dXJuIGcoXCJBdXRob3JpemF0aW9uIGNvZGUgcmVjZWl2ZWRcIiksbyhhKX1jb25zdCB1PWF3YWl0IGUuZXhlY3V0ZUphdmFTY3JpcHQoXCJ3aW5kb3cuZG9jdW1lbnQuYm9keS5pbm5lclRleHRcIiksbD1uZXcgVVJMU2VhcmNoUGFyYW1zKHUpLmdldChcImVycm9yX2Rlc2NyaXB0aW9uXCIpO2lmKGwpe3dpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQociksZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxlLmNsb3NlKCEwKTtjb25zdCBuPWxbMF0udG9VcHBlckNhc2UoKStsLnNsaWNlKDEpLG89bmV3IHMobik7dihvKSxpKG8pfWVsc2UgYXdhaXQgZS5pc1Nob3dpbmcoKXx8KGcoXCJTaG93aW5nIGF1dGggd2luZG93XCIpLGF3YWl0IGUuc2hvdyghMCksYXdhaXQgZS5mb2N1cygpKX0pKGgscixuLGwsZSx0KSksNTAwKX0pKSxtPWF3YWl0IFIodyxmLG4sdCk7aWYoZyhcIkNoZWNraW5nIGNvbm5lY3Rpb24gd2l0aCBuZXcgYWNjZXNzIHRva2VuXCIpLCFhd2FpdCBEKG0uYWNjZXNzVG9rZW4sbikpe2NvbnN0IGU9bmV3IGkoXCJJbnZhbGlkIFNhbGVzZm9yY2Ugb3JnIFVSTCBvciBhY2Nlc3MgdG9rZW5cIik7dGhyb3cgdihlKSxlfXJldHVybiBnKFwiQ29ubmVjdGlvbiBlc3RhYmxpc2hlZFwiKSxBKG0sbix0KSx7Y29uc3VtZXJLZXk6dCxkaXNjb25uZWN0OkMobix0KSxnZXRBdXRoVG9rZW5zOigpPT5VKG4sdCksb3JnVXJsOm4sZXhlY3V0ZUFwaVJlcXVlc3Q6UChuLHQpfX0sQz0oZSxyKT0+YXN5bmMoKT0+e2coXCJEaXNjb25uZWN0aW5nIGZyb20gU2FsZXNmb3JjZVwiKTtsZXQgbj13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTChlLHIpKTtpZihuKWcoXCJSZXZva2luZyByZWZyZXNoIHRva2VuXCIpO2Vsc2V7aWYobj13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXyhlLHIpKSwhbilyZXR1cm4gdm9pZCBnKFwiTm8gdG9rZW5zIGZvdW5kIGluIHN0b3JhZ2VcIik7ZyhcIlJldm9raW5nIGFjY2VzcyB0b2tlblwiKX10cnl7YXdhaXQgdCgpLmdldChgJHtlfS9zZXJ2aWNlcy9vYXV0aDIvcmV2b2tlP3Rva2VuPSR7bn1gKX1jYXRjaChlKXt5KFwiRmFpbGVkIHRvIHJldm9rZSB0b2tlbnNcIixudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UpfUIoZSxyKX0sUj1hc3luYyhlLHIsbixvKT0+e2coXCJFeGNoYW5naW5nIGF1dGggY29kZSBmb3IgdG9rZW5zXCIpO2NvbnN0IGk9YCR7bn0vc2VydmljZXMvb2F1dGgyL3Rva2VuYCxhPWBcXG4gICAgZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGUmXFxuICAgIGNsaWVudF9pZD0ke299JlxcbiAgICBjb2RlPSR7ZX0mXFxuICAgIGNvZGVfdmVyaWZpZXI9JHtyfSZcXG4gICAgcmVkaXJlY3RfdXJpPSR7U31cXG4gICAgYC5yZXBsYWNlKC9cXHMvZyxcIlwiKTtsZXQgYzt0cnl7Yz0oYXdhaXQgdCgpLnBvc3QoaSxhLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9fSkpLmRhdGF9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgcyhcIkZhaWxlZCB0byBleGNoYW5nZSBhdXRob3JpemF0aW9uIGNvZGUgZm9yIGF1dGggdG9rZW5zXCIsZSk7dGhyb3cgdih0KSx0fWNvbnN0e2FjY2Vzc190b2tlbjp1LHJlZnJlc2hfdG9rZW46bH09YztpZighdXx8IWwpdGhyb3cgbmV3IHMoXCJNaXNzaW5nIGFjY2VzcyB0b2tlbiBvciByZWZyZXNoIHRva2VuIGR1cmluZyBjb2RlIGV4Y2hhbmdlXCIpO3JldHVybiBnKFwiVG9rZW5zIHJlY2VpdmVkXCIpLHthY2Nlc3NUb2tlbjp1LHJlZnJlc2hUb2tlbjpsfX0sTz1hc3luYyBlPT57Y29uc3QgdD0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSkscj1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsdCk7cmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkocikpKSkucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKS5yZXBsYWNlKC89K1xcJC8sXCJcIil9LGo9KCk9Pntjb25zdCBlPW5ldyBVaW50MzJBcnJheSg2NCk7cmV0dXJuIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGUpLEFycmF5LmZyb20oZSwoZT0+YDAke2UudG9TdHJpbmcoMTYpfWAuc3Vic3RyKC0yKSkpLmpvaW4oXCJcIil9LF89KGUsdCk9PmBhY2Nlc3MtdG9rZW5fI18ke25ldyBVUkwoZSkuaG9zdG5hbWV9XyNfJHt0fWAsVT0oZSx0KT0+KHthY2Nlc3NUb2tlbjp3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXyhlLHQpKSxyZWZyZXNoVG9rZW46d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEwoZSx0KSl9KSwkPWFzeW5jKGUsdCk9PntsZXQgcjtpZihnKFwiQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGNvbm5lY3Rpb25cIiksIWV8fCF0KXJldHVybiBudWxsO3RyeXtyPW5ldyBVUkwoZSkub3JpZ2lufWNhdGNoKGUpe3JldHVybiBudWxsfWNvbnN0e2FjY2Vzc1Rva2VuOm59PVUocix0KTtpZighbilyZXR1cm4gbnVsbDtpZighYXdhaXQgRChuLHIpKXRyeXthd2FpdCBJKHIsdCl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9cmV0dXJuIGcoYENvbm5lY3Rpb24gZXhpc3RzIHRvICR7ZX1gKSx7Y29uc3VtZXJLZXk6dCxkaXNjb25uZWN0OkMocix0KSxnZXRBdXRoVG9rZW5zOigpPT5VKHIsdCksb3JnVXJsOnIsZXhlY3V0ZUFwaVJlcXVlc3Q6UChyLHQpfX0sUD0oZSxyKT0+YXN5bmMobixvLHMsYSx1KT0+e2NvbnN0e2FjY2Vzc1Rva2VuOmx9PVUoZSxyKTtpZighbCl7Y29uc3QgZT1uZXcgaTt0aHJvdyB2KGUpLGV9Y29uc3QgZD1yPT4oYXN5bmMoZSxyLG4sbz1cIkdFVFwiLHM9e30saT17fSxhPSEwKT0+e3ZhciB1LGw7aWYoIW4pdGhyb3cgbmV3IGMoXCJBUEkgZW5kcG9pbnQgbm90IHByb3ZpZGVkXCIpO2xldCBkO2lmKG49KGw9bikuc3RhcnRzV2l0aChcIi9cIik/bDpgLyR7bH1gLC9eXFwvc2VydmljZXNcXC9kYXRhXFwvL2kudGVzdChuKSl7Y29uc3QgZT1udWxsPT09KHU9L1xcL3YoXFx3ezJ9XFwuXFx3KVxcLy8uZXhlYyhuKSl8fHZvaWQgMD09PXU/dm9pZCAwOnVbMV07aWYoIWUpdGhyb3cgbmV3IGYobnVsbCxcIlJFU1QgQVBJIHZlcnNpb24gbm90IHNwZWNpZmllZFwiKTt4LnRlc3Qobik/bj1uLnJlcGxhY2UoZSxiKTplIT09YiYmeShgUmVxdWVzdGVkIFJFU1QgQVBJIHZlcnNpb24gKCR7ZX0pIGlzIGRpZmZlcmVudCB0byB0aGUgY3VycmVudCBzdXBwb3J0ZWQgdmVyc2lvbiAoNTQuMCkuIFVzaW5nIGFuIEFQSSB2ZXJzaW9uIG90aGVyIHRoYW4gY3VycmVudCBzdXBwb3J0ZWQgdmVyc2lvbiBtYXkgY2F1c2UgZXJyb3JzLmApLGQ9bmV3IFJlZ0V4cChcIi9zZXJ2aWNlcy9kYXRhL3Y1NC4wL2NvbXBvc2l0ZVwiLFwiaVwiKS50ZXN0KG4pP0Uocyk6c31lbHNlIGQ9cztnKGBFeGVjdXRpbmcgJHtvLnRvVXBwZXJDYXNlKCl9IEFQSSByZXF1ZXN0IHRvICR7bn1gLGQsaSksYSYmT2JqZWN0LmFzc2lnbihpLHtBdXRob3JpemF0aW9uOmBCZWFyZXIgJHtyfWB9KTt0cnl7bGV0IHI7c3dpdGNoKG8udG9VcHBlckNhc2UoKSl7Y2FzZVwiREVMRVRFXCI6cj1hd2FpdCB0KCkuZGVsZXRlKGAke2V9JHtufWAse2hlYWRlcnM6aX0pO2JyZWFrO2Nhc2VcIkdFVFwiOnI9YXdhaXQgdCgpLmdldChgJHtlfSR7bn1gLHtoZWFkZXJzOml9KTticmVhaztjYXNlXCJIRUFEXCI6cj1hd2FpdCB0KCkuaGVhZChgJHtlfSR7bn1gLHtoZWFkZXJzOml9KTticmVhaztjYXNlXCJQQVRDSFwiOnI9YXdhaXQgdCgpLnBhdGNoKGAke2V9JHtufWAscyx7aGVhZGVyczppfSk7YnJlYWs7Y2FzZVwiUE9TVFwiOnI9YXdhaXQgdCgpLnBvc3QoYCR7ZX0ke259YCxkLHtoZWFkZXJzOml9KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBmKG51bGwsXCJJbnZhbGlkIEhUVFAgbWV0aG9kXCIpfXJldHVybntkYXRhOnIuZGF0YSxzdGF0dXM6ci5zdGF0dXN9fWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBmKXRocm93IGU7dGhyb3cgbmV3IGYoZSl9fSkoZSxyLG4sbyxzLGEsdSk7bGV0IHA7dHJ5e3A9YXdhaXQgZChsKX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiBmKSl0aHJvdyB2KHQpLHQ7cmV0dXJuIGF3YWl0IE4odCxlLHIsbCxkKX1yZXR1cm4gcH0sTD0oZSx0KT0+YHJlZnJlc2gtdG9rZW5fI18ke25ldyBVUkwoZSkuaG9zdG5hbWV9XyNfJHt0fWAsTj1hc3luYyhlLHQscixuLG8pPT57aWYodihlKSxhd2FpdCBxKGUsdCxuKSl0cnl7Y29uc3QgZT1hd2FpdCBJKHQscik7cmV0dXJuIGcoXCJSZXRyeWluZyByZXF1ZXN0XCIpLGF3YWl0IG8oZS5hY2Nlc3NUb2tlbil9Y2F0Y2goZSl7dGhyb3cgdihlKSxlfXRocm93IGV9LEk9YXN5bmMoZSxyKT0+e3ZhciBuLG87Y29uc3R7cmVmcmVzaFRva2VuOnN9PVUoZSxyKTtpZighcyl0aHJvdyBCKGUsciksbmV3IGkoXCJObyByZWZyZXNoIHRva2VuIGF2YWlsYWJsZVwiKTtnKFwiUmVmcmVzaGluZyBhY2Nlc3MgdG9rZW5cIik7Y29uc3QgYT1gJHtlfS9zZXJ2aWNlcy9vYXV0aDIvdG9rZW5gLGM9YFxcbiAgICBncmFudF90eXBlPXJlZnJlc2hfdG9rZW4mXFxuICAgIGNsaWVudF9pZD0ke3J9JlxcbiAgICByZWZyZXNoX3Rva2VuPSR7c31cXG4gICAgYC5yZXBsYWNlKC9cXHMvZyxcIlwiKTtsZXQgdTt0cnl7dT0oYXdhaXQgdCgpLnBvc3QoYSxjLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9fSkpLmRhdGF9Y2F0Y2godCl7Y29uc3Qgcz1udWxsPT09KG89bnVsbD09PShuPXQucmVzcG9uc2UpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRhdGEpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmVycm9yX2Rlc2NyaXB0aW9uLGE9XCJGYWlsZWQgdG8gcmVmcmVzaCBhY2Nlc3MgdG9rZW5cIjt0aHJvdyBnKHM/YCR7YX06ICR7c31gOmEpLEIoZSxyKSxuZXcgaShhKX1jb25zdHthY2Nlc3NfdG9rZW46bH09dTtpZighbCl0aHJvdyBuZXcgaShcIk1pc3NpbmcgYWNjZXNzIHRva2VuIGFmdGVyIHJlZnJlc2hpbmdcIik7Y29uc3QgZj17YWNjZXNzVG9rZW46bCxyZWZyZXNoVG9rZW46c307cmV0dXJuIEEoZixlLHIpLGZ9LEI9KGUsdCk9Pnt3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXyhlLHQpKSx3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTChlLHQpKX0scT1hc3luYyhlLHQscik9Pnt2YXIgbjtyZXR1cm4oXCJOZXR3b3JrIEVycm9yXCI9PT0obnVsbD09PShuPWUuaW5uZXJFcnJvcil8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWVzc2FnZSl8fFwiTmV0d29yayBFcnJvclwiPT09ZS5tZXNzYWdlKSYmIWF3YWl0IEQocix0KX0sRD1hc3luYyhlLHIpPT57dHJ5e2F3YWl0IHQoKS5nZXQoYCR7cn0vc2VydmljZXMvb2F1dGgyL3VzZXJpbmZvP29hdXRoX3Rva2VuPSR7ZX1gKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH19KSgpO3ZhciBvPW4uTVMscz1uLk1fLGk9bi5oWSxhPW4uRzQsYz1uLl9XLHU9bi5vLGw9bi5DMyxmPW4uZkIsZD1uLmlmLHA9bi4kaixoPW4uVSQsdz1uLlU3LG09bi5CNTtleHBvcnR7byBhcyBBcGlFcnJvcixzIGFzIEF1dGhvcml6YXRpb25FcnJvcixpIGFzIENvbm5lY3Rpb25FcnJvcixhIGFzIE9iamVjdERhdGFFcnJvcixjIGFzIFBhcmFtZXRlckVycm9yLHUgYXMgUXVlcnlFcnJvcixsIGFzIFJlc3RBcGlFcnJvcixmIGFzIFNlYXJjaEVycm9yLGQgYXMgV29ya3NwYWNlRXJyb3IscCBhcyBjb25uZWN0LGggYXMgZGlzYWJsZUxvZ2dpbmcsdyBhcyBlbmFibGVMb2dnaW5nLG0gYXMgZ2V0Q29ubmVjdGlvbn07IiwiKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezMxMzM6KGUsdCxuKT0+e24ucih0KSxuLmQodCx7Q0xJQWN0aW9uOigpPT5aZS5QdCxDTElGaWx0ZXJPcHRpb25UeXBlOigpPT5aZS5lbCxDTElUZW1wbGF0ZTooKT0+WmUueVcsZGVyZWdpc3RlcjooKT0+UWUsaGlkZTooKT0+ZXQscmVnaXN0ZXI6KCk9PnplLHNob3c6KCk9PlllfSk7dmFyIHI9e307bi5yKHIpLG4uZChyLHtzdWJzY3JpYmU6KCk9PnJlfSk7dmFyIG89e307bi5yKG8pLG4uZChvLHtjcmVhdGU6KCk9PnFlfSk7dmFyIGk9big3NDA1KTtjb25zdCBzPVwiaG9tZVwiO3ZhciBhOyFmdW5jdGlvbihlKXtlLkNvbW1hbmRzPVwiaG9tZS1jb21tYW5kc1wifShhfHwoYT17fSkpO3ZhciBjLGQ9big1ODA2KTtuKDc1NjQpOyFmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifShjfHwoYz17fSkpO2NvbnN0IHU9XCJhbGxcIixmPVwiMFwiLGw9XCI1XCIscD1cIjZcIixnPSgpPT57fTtmdW5jdGlvbiB3KGUsdCl7cmV0dXJuIGU/YCR7ZX0tJHt0fWA6dH1mdW5jdGlvbiBoKGUpe3JldHVybmBfX3NlYXJjaC0ke2V9LXRvcGljX19gfWNvbnN0IHk9bmV3IE1hcDtmdW5jdGlvbiB2KGUsdCl7eS5oYXMoZSl8fHkuc2V0KGUsbmV3IFNldCkseS5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIG0oZSx0KXtjb25zdCBuPXkuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IFM9bmV3IE1hcDtmdW5jdGlvbiBDKGUsdCl7Uy5oYXMoZSl8fFMuc2V0KGUsbmV3IFNldCksUy5nZXQoZSkuYWRkKHQpfWZ1bmN0aW9uIFAoZSx0KXtjb25zdCBuPVMuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWNvbnN0IFI9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBiKGUsdCl7Ui5oYXMoZSl8fFIuc2V0KGUsbmV3IE1hcCksUi5nZXQoZSkuc2V0KHQuaWQsdCk7Y29uc3Qgbj15LmdldChlKTtpZighbilyZXR1cm47Y29uc3Qgcj1bLi4ubl0ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChyKX1hc3luYyBmdW5jdGlvbiBMKGUsdCl7Y29uc3Qgbj1SLmdldChlKTtpZighbilyZXR1cm47bi5kZWxldGUodCk7Y29uc3Qgcj1TLmdldChlKTtpZighcilyZXR1cm47Y29uc3Qgbz1bLi4ucl0ubWFwKChlPT5lKCkpKTthd2FpdCBQcm9taXNlLmFsbChvKX1mdW5jdGlvbiBUKGUpe3JldHVybiBSLmdldChlKT9bLi4uUi5nZXQoZSkudmFsdWVzKCldOltdfWZ1bmN0aW9uIEkoZSl7Y29uc3QgdD1SLmdldChlKTt0JiZ0LmNsZWFyKCl9ZnVuY3Rpb24gTShlLHQpe2NvbnN0IG49Ui5nZXQoZSk7cmV0dXJuIG4/bi5nZXQodCk6bnVsbH1mdW5jdGlvbiBrKGUsdCxuKXtyZXR1cm57Li4uZSxhY3Rpb246bnx8ZS5hY3Rpb25zWzBdLGRpc3BhdGNoZXJJZGVudGl0eTp0fX1mdW5jdGlvbiBCKGUsdCxuPVwiYXNjZW5kaW5nXCIpe2NvbnN0IHI9ZXx8W107aWYoIXQ/Lmxlbmd0aClyZXR1cm4gcjtjb25zdCBvPVtdLGk9bmV3IE1hcDt0LmZvckVhY2goKGU9PntpZihlLmtleSlyZXR1cm4gaS5zZXQoZS5rZXksZSk7by5wdXNoKGUpfSkpO2xldCBzPXIubWFwKChlPT57Y29uc3R7a2V5OnR9PWU7aWYodCYmaS5oYXModCkpe2NvbnN0IGU9aS5nZXQodCk7cmV0dXJuIGkuZGVsZXRlKHQpLGV9cmV0dXJuIGV9KSk7cmV0dXJuIHMucHVzaCguLi5pLnZhbHVlcygpLC4uLm8pLHM9XCJhc2NlbmRpbmdcIj09PW4/cy5zb3J0KCgoZSx0KT0+KG51bGwhPT1lLnNjb3JlJiZ2b2lkIDAhPT1lLnNjb3JlP2Uuc2NvcmU6MS8wKS0obnVsbCE9PXQuc2NvcmUmJnZvaWQgMCE9PXQuc2NvcmU/dC5zY29yZToxLzApKSk6cy5zb3J0KCgoZSx0KT0+KG51bGwhPT10LnNjb3JlJiZ2b2lkIDAhPT10LnNjb3JlP3Quc2NvcmU6MS8wKS0obnVsbCE9PWUuc2NvcmUmJnZvaWQgMCE9PWUuc2NvcmU/ZS5zY29yZToxLzApKSksc31mdW5jdGlvbiBPKGUpe2NvbnN0IHQ9e307bGV0IG49W107bGV0IHI9W107bGV0IG89Yy5Jbml0aWFsO3QuZ2V0U3RhdHVzPSgpPT5vLHQuZ2V0UmVzdWx0QnVmZmVyPSgpPT5uLHQuc2V0UmVzdWx0QnVmZmVyPWU9PntuPWUsbj8ubGVuZ3RoJiZ0Lm9uQ2hhbmdlKCl9LHQuZ2V0UmV2b2tlZEJ1ZmZlcj0oKT0+cix0LnNldFJldm9rZWRCdWZmZXI9ZT0+e3I9ZSxyPy5sZW5ndGgmJnQub25DaGFuZ2UoKX0sdC5vbkNoYW5nZT1nO2NvbnN0IGk9e307cmV0dXJuIHQucmVzPWksaS5jbG9zZT0oKT0+e28hPT1jLkNsb3NlJiYobz1jLkNsb3NlLHQub25DaGFuZ2UoKSl9LGkub3Blbj0oKT0+e28hPT1jLk9wZW4mJihvPWMuT3Blbix0Lm9uQ2hhbmdlKCkpfSxpLnJlc3BvbmQ9bj0+e2NvbnN0IHI9Qih0LmdldFJlc3VsdEJ1ZmZlcigpLG4sZSk7dC5zZXRSZXN1bHRCdWZmZXIocil9LGkucmV2b2tlPSguLi5lKT0+e2NvbnN0IG49bmV3IFNldChlKSxyPXQuZ2V0UmVzdWx0QnVmZmVyKCkuZmlsdGVyKCgoe2tleTplfSk9Pntjb25zdCB0PW4uaGFzKGUpO3JldHVybiB0JiZuLmRlbGV0ZShlKSwhdH0pKTt0LnNldFJlc3VsdEJ1ZmZlcihyKSxuLnNpemUmJih0LmdldFJldm9rZWRCdWZmZXIoKS5mb3JFYWNoKChlPT5uLmFkZChlKSkpLHQuc2V0UmV2b2tlZEJ1ZmZlcihbLi4ubl0pKX0sdH1mdW5jdGlvbiBXKGUsdCxuKXtjb25zdCByPW5ldyBTZXQ7bGV0IG89ITE7cmV0dXJue2Nsb3NlOigpPT57bz0hMDtmb3IoY29uc3QgZSBvZiByKWUoKX0scmVxOntpZDp0LHRvcGljOmUsLi4ubixjb250ZXh0Om4/LmNvbnRleHR8fHt9LG9uQ2xvc2U6ZT0+e3IuYWRkKGUpLG8mJmUoKX0scmVtb3ZlTGlzdGVuZXI6ZT0+e3IuZGVsZXRlKGUpfX19fWZ1bmN0aW9uIEQoKXtyZXR1cm57bmFtZTpmaW4ubWUubmFtZSx1dWlkOmZpbi5tZS51dWlkfX1mdW5jdGlvbiB4KCl7bGV0IGU7dHJ5e2NvbnN0IHQ9ZmluLlBsYXRmb3JtLmdldEN1cnJlbnRTeW5jKCk7aWYoIXQ/LmlkZW50aXR5KXJldHVybjtlPXQuaWRlbnRpdHkudXVpZH1jYXRjaChlKXt9cmV0dXJuIGV9Y29uc3QgQT1cImRlcmVnaXN0ZXJlZCBvciBkb2VzIG5vdCBleGlzdFwiLEU9bmV3IEVycm9yKGBwcm92aWRlciAke0F9YCksRj1uZXcgRXJyb3IoXCJwcm92aWRlciB3aXRoIG5hbWUgYWxyZWFkeSBleGlzdHNcIiksXz1uZXcgRXJyb3IoXCJiYWQgcGF5bG9hZFwiKSwkPW5ldyBFcnJvcihcInN1YnNjcmlwdGlvbiByZWplY3RlZFwiKSxxPW5ldyBFcnJvcihgY2hhbm5lbCAke0F9YCksRz1uZXcgTWFwO2Z1bmN0aW9uIE4oZSl7Y29uc3QgdD1IKGUpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgcX1mdW5jdGlvbiBIKGUpe2NvbnN0IHQ9Ry5nZXQoZSk7aWYodClyZXR1cm4gdH1mdW5jdGlvbiBVKGUsdCl7Ry5zZXQoZSx0KX1jb25zdCBWPW5ldyBNYXA7ZnVuY3Rpb24gSyhlKXtWLmhhcyhlKXx8Vi5zZXQoZSxuZXcgTWFwKTtjb25zdCB0PVYuZ2V0KGUpO3JldHVybntnZXRSZXF1ZXN0c0ZvcklkZW50aXR5OmU9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybmAke2UudXVpZH06JHtlLm5hbWV9YH0oZSk7cmV0dXJuIHQuaGFzKG4pfHx0LnNldChuLG5ldyBNYXApLHQuZ2V0KG4pfX19YXN5bmMgZnVuY3Rpb24gWChlLHQpe3JldHVybihhd2FpdCBOKGUpKS5kaXNwYXRjaChmLHQpfWZ1bmN0aW9uIGooe25hbWVzcGFjZWRUb3BpYzplLHRvcGljOnR9KXtjb25zdCBuPU0uYmluZChudWxsLGUpLHI9SyhlKSxvPVguYmluZChudWxsLGUpO3JldHVybiBhc3luYyhlLGkpPT57aWYoIWV8fCFlLmlkfHwhZS5wcm92aWRlcklkKXtjb25zdCBlPV87cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3R7aWQ6cyxwcm92aWRlcklkOmF9PWUsYz1uKGEpO2lmKCFjKXtjb25zdCBlPUU7cmV0dXJue2Vycm9yOmUubWVzc2FnZX19Y29uc3QgZD1yLmdldFJlcXVlc3RzRm9ySWRlbnRpdHkoaSk7bGV0IHU9ZC5nZXQoZS5pZCk7dXx8KHU9Vyh0LHMsZSksZC5zZXQoZS5pZCx1KSk7Y29uc3QgZj1PKCksbD0oKT0+e2NvbnN0IGU9Zi5nZXRSZXN1bHRCdWZmZXIoKTtmLnNldFJlc3VsdEJ1ZmZlcihbXSk7Y29uc3QgdD1mLmdldFJldm9rZWRCdWZmZXIoKTtmLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IG49Zi5nZXRTdGF0dXMoKTtvKHtpZDpzLHByb3ZpZGVySWQ6YSxyZXN1bHRzOmUscmV2b2tlZDp0LHN0YXR1czpufSl9O2xldCBwPSEwLGc9ITE7Zi5vbkNoYW5nZT0oKT0+e2lmKHApcmV0dXJuIHA9ITEsdm9pZCBsKCk7Z3x8KGc9ITAsc2V0VGltZW91dCgoKCk9PntnPSExLGwoKX0pLDEwMCkpfTt0cnl7Y29uc3R7cmVzdWx0czplLGNvbnRleHQ6dH09YXdhaXQgYy5vblVzZXJJbnB1dCh1LnJlcSxmLnJlcyksbj1mLmdldFN0YXR1cygpO3JldHVybntpZDpzLHByb3ZpZGVySWQ6YSxzdGF0dXM6bixyZXN1bHRzOmUsY29udGV4dDp0fX1jYXRjaChlKXtyZXR1cm57aWQ6cyxwcm92aWRlcklkOmEsZXJyb3I6ZS5tZXNzYWdlfX19fWFzeW5jIGZ1bmN0aW9uIEooZSx0LG4pe2NvbnN0IHI9bnx8YXdhaXQgTihlKSxvPUQoKSxpPXtpZGVudGl0eTpvLC4uLnQsb25Vc2VySW5wdXQ6dm9pZCAwLG9uUmVzdWx0RGlzcGF0Y2g6dm9pZCAwfTthd2FpdCByLmRpc3BhdGNoKFwiMlwiLGkpLGF3YWl0IGIoZSx7aWRlbnRpdHk6bywuLi50fSl9YXN5bmMgZnVuY3Rpb24gWihlLHQpe2NvbnN0IG49YXdhaXQgTihlKTtyZXR1cm4gYXdhaXQgbi5kaXNwYXRjaChcIjNcIix0KSxMKGUsdCl9YXN5bmMgZnVuY3Rpb24geihlLHQsbixyKXtjb25zdCBvPWsobixEKCksciksaT1NKGUsdCk7aWYoaSl7Y29uc3R7b25SZXN1bHREaXNwYXRjaDplfT1pO2lmKCFlKXJldHVybjtyZXR1cm4gZShvKX1jb25zdCBzPXtwcm92aWRlcklkOnQscmVzdWx0Om99O3JldHVybihhd2FpdCBOKGUpKS5kaXNwYXRjaChsLHMpfWFzeW5jIGZ1bmN0aW9uIFEoZSx0KXtjb25zdCBuPXsuLi50LGNvbnRleHQ6dD8uY29udGV4dHx8e319LHI9e30sbz1hc3luYyBmdW5jdGlvbiooZSx0LHtzZXRTdGF0ZTpufSl7Y29uc3Qgcj1hd2FpdCBOKGUpO2Zvcig7Oyl7Y29uc3QgZT1hd2FpdCByLmRpc3BhdGNoKFwiMVwiLHQpLG89ZS5lcnJvcjtpZihvKXRocm93IG5ldyBFcnJvcihvKTtjb25zdCBpPWU7aWYodC5pZD1pLmlkLG4oaS5zdGF0ZSksaS5kb25lKXJldHVybiBpLnZhbHVlO3lpZWxkIGkudmFsdWV9fShlLG4se3NldFN0YXRlOmU9PntyLnN0YXRlPWV9fSk7bGV0IGk9YXdhaXQgby5uZXh0KCk7cmV0dXJuIHIuaWQ9bi5pZCxyLmNsb3NlPSgpPT57IWFzeW5jIGZ1bmN0aW9uKGUsdCl7KGF3YWl0IE4oZSkpLmRpc3BhdGNoKHAse2lkOnR9KX0oZSxyLmlkKX0sci5uZXh0PSgpPT57aWYoaSl7Y29uc3QgZT1pO3JldHVybiBpPXZvaWQgMCxlfXJldHVybiBvLm5leHQoKX0scn1hc3luYyBmdW5jdGlvbiBZKGUpe3JldHVybihhd2FpdCBOKGUpKS5kaXNwYXRjaChcIjRcIixudWxsKX1hc3luYyBmdW5jdGlvbiBlZShlKXtjb25zdCB0PWF3YWl0IE4oZSk7dmFyIG47bj1lLEcuZGVsZXRlKG4pLEkoZSksYXdhaXQgdC5kaXNjb25uZWN0KCl9ZnVuY3Rpb24gdGUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1LKHQpO3JldHVybiBhc3luYyByPT57aWYoIUgodCkpcmV0dXJuO2NvbnN0IG89bi5nZXRSZXF1ZXN0c0ZvcklkZW50aXR5KHIpO2Zvcihjb25zdHtyZXE6ZSxjbG9zZTp0fW9mIG8udmFsdWVzKCkpdCgpLG8uZGVsZXRlKGUuaWQpO1UodCwoYXN5bmMgZT0+e2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49YXdhaXQgbmUoZSk7Zm9yKGNvbnN0IGUgb2YgVCh0KSlhd2FpdCBKKHQsZSxuKTtyZXR1cm4gbn0pKGUpKX19YXN5bmMgZnVuY3Rpb24gbmUoZSl7Y29uc3R7bmFtZXNwYWNlZFRvcGljOnR9PWUsbj1oKHQpLHI9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7Zm9yKGxldCB0PTA7dDw1MDt0KyspdHJ5e3JldHVybiBhd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7d2FpdDohMX0pfWNhdGNoKGUpe2lmKDQ5PT09dCl0aHJvdyBlO2F3YWl0IG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsMWUzKSkpfX0obik7cmV0dXJuIHIucmVnaXN0ZXIoZixqKGUpKSxyLnJlZ2lzdGVyKHAsZnVuY3Rpb24oZSl7Y29uc3QgdD1LKGUpO3JldHVybihlLG4pPT57Y29uc3Qgcj10LmdldFJlcXVlc3RzRm9ySWRlbnRpdHkobiksbz1yLmdldChlLmlkKTtvJiYoby5jbG9zZSgpLHIuZGVsZXRlKGUuaWQpKX19KHQpKSxyLnJlZ2lzdGVyKGwsZnVuY3Rpb24oZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQucHJvdmlkZXJJZHx8IXQucmVzdWx0KXJldHVybjtjb25zdCByPU0oZSx0LnByb3ZpZGVySWQpO2lmKCFyKXJldHVybjtjb25zdHtvblJlc3VsdERpc3BhdGNoOm99PXI7cmV0dXJuIG8/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLG8odC5yZXN1bHQpKTp2b2lkIDB9fSh0KSksci5vbkRpc2Nvbm5lY3Rpb24odGUoZSkpLHJ9YXN5bmMgZnVuY3Rpb24gcmUoZSl7Y29uc3QgdD0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplPy50b3BpYyl8fHUsbj0oXCJzdHJpbmdcIj09dHlwZW9mIGU/bnVsbDplPy51dWlkKXx8eCgpLHI9dyhuLHQpLG89e3RvcGljOnQsbmFtZXNwYWNlOm4sbmFtZXNwYWNlZFRvcGljOnJ9O2xldCBpPUgocik7cmV0dXJuIGl8fChpPW5lKG8pLFUocixpKSxhd2FpdCBpKSx7Z2V0QWxsUHJvdmlkZXJzOlkuYmluZChudWxsLHIpLHJlZ2lzdGVyOkouYmluZChudWxsLHIpLHNlYXJjaDpRLmJpbmQobnVsbCxyKSxkZXJlZ2lzdGVyOlouYmluZChudWxsLHIpLGRpc3BhdGNoOnouYmluZChudWxsLHIpLGRpc2Nvbm5lY3Q6ZWUuYmluZChudWxsLHIpfX1jb25zdCBvZT1uZXcgTWFwO2Z1bmN0aW9uIGllKGUpe2NvbnN0IHQ9c2UoZSk7aWYodClyZXR1cm4gdDt0aHJvdyBxfWZ1bmN0aW9uIHNlKGUpe2NvbnN0IHQ9b2UuZ2V0KGUpO2lmKHQpcmV0dXJuIHR9Y29uc3QgYWU9bmV3IE1hcDtmdW5jdGlvbiBjZShlLHQpe2FlLmhhcyhlKXx8YWUuc2V0KGUsbmV3IFNldCksYWUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBkZShlLHQpe2NvbnN0IG49YWUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfXZhciB1ZT1uKDUzMTYpO2Z1bmN0aW9uIGZlKGUpe3JldHVyblsuLi5UKGUpXS5tYXAoKGU9Pih7Li4uZSxvblVzZXJJbnB1dDp2b2lkIDAsb25SZXN1bHREaXNwYXRjaDp2b2lkIDB9KSkpfWFzeW5jIGZ1bmN0aW9uIGxlKGUsdCl7aWYoTShlLHQuaWQpKXRocm93IG5ldyBFcnJvcihcInByb3ZpZGVyIHdpdGggbmFtZSBhbHJlYWR5IGV4aXN0c1wiKTtjb25zdCBuPUQoKTthd2FpdCBiKGUse2lkZW50aXR5Om4sLi4udH0pfWZ1bmN0aW9uIHBlKGUsdCl7TChlLHQpfWFzeW5jIGZ1bmN0aW9uIGdlKGUsdCxuLHIpe2NvbnN0IG89TShlLHQpO2lmKCFvKXRocm93IEU7Y29uc3R7b25SZXN1bHREaXNwYXRjaDppfT1vO2lmKCFpKXJldHVybjtyZXR1cm4gaShrKG4sRCgpLHIpKX1hc3luYyBmdW5jdGlvbip3ZShlLHQsbil7Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2NvbnN0IG49W10scj1bXSxvPVtdLGk9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1PKHMuc2NvcmVPcmRlciksYT17cmVzdWx0czpbXSxwcm92aWRlcjp7aWQ6cy5pZCxpZGVudGl0eTpzLmlkZW50aXR5LHRpdGxlOnMudGl0bGUsc2NvcmVPcmRlcjpzLnNjb3JlT3JkZXIsaWNvbjpzLmljb259fTtuLnB1c2goYSksci5wdXNoKGUpO2NvbnN0IGM9KGFzeW5jKCk9Pnt0cnl7Y29uc3R7cmVzdWx0czpuLGNvbnRleHQ6cn09YXdhaXQgcy5vblVzZXJJbnB1dCh0LGUucmVzKTthLnJlc3VsdHM9QihhLnJlc3VsdHMsbiksYS5jb250ZXh0PXsuLi5hLmNvbnRleHQsLi4ucn19Y2F0Y2goZSl7YS5lcnJvcj1lfWMuZG9uZT0hMH0pKCk7aS5wdXNoKGMpLG8ucHVzaChvLmxlbmd0aCl9cmV0dXJue3Byb3ZpZGVyUmVzcG9uc2VzOm4sbGlzdGVuZXJSZXNwb25zZXM6cixvcGVuTGlzdGVuZXJSZXNwb25zZXM6byxpbml0aWFsUmVzcG9uc2VQcm9taXNlczppfX0odC50YXJnZXRzP3QudGFyZ2V0cy5tYXAoKHQ9Pk0oZSx0KSkpLmZpbHRlcigoZT0+ISFlKSk6Wy4uLlQoZSkuZmlsdGVyKChlPT4hZS5oaWRkZW4pKV0sdCkse3Byb3ZpZGVyUmVzcG9uc2VzOm8sbGlzdGVuZXJSZXNwb25zZXM6aX09cjtsZXR7b3Blbkxpc3RlbmVyUmVzcG9uc2VzOnMsaW5pdGlhbFJlc3BvbnNlUHJvbWlzZXM6YX09cixkPXVlLkQuRmV0Y2hpbmc7Y29uc3QgdT1lPT57ZD1lLG4uc2V0U3RhdGUoZCl9O2xldCBmLGw9ITE7dC5vbkNsb3NlKCgoKT0+e2w9ITAsZiYmZigpfSkpO2Rve2xldCBlPSExO2lmKGEubGVuZ3RoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGEpbi5kb25lP2U9ITA6dC5wdXNoKG4pO2E9dCxhLmxlbmd0aHx8KHUodWUuRC5GZXRjaGVkKSxlPSEwKX1sZXQgdCxuPSExO2NvbnN0IHI9KCk9PntuPSEwLHQmJnQoKX0scD1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPWlbdF0scz1vW3RdLGE9bi5nZXRTdGF0dXMoKTsoYT09PWMuT3Blbnx8ZD09PXVlLkQuRmV0Y2hpbmcmJmE9PT1jLkluaXRpYWwpJiYocC5wdXNoKHQpLG4ub25DaGFuZ2U9cik7Y29uc3QgdT1uLmdldFJlc3VsdEJ1ZmZlcigpO3UubGVuZ3RoJiYobi5zZXRSZXN1bHRCdWZmZXIoW10pLHMucmVzdWx0cz1CKHMucmVzdWx0cyx1KSxlPSEwKTtjb25zdCBmPW4uZ2V0UmV2b2tlZEJ1ZmZlcigpO2lmKGYubGVuZ3RoKXtuLnNldFJldm9rZWRCdWZmZXIoW10pO2NvbnN0IHQ9bmV3IFNldChmKTtzLnJlc3VsdHM9cy5yZXN1bHRzLmZpbHRlcigoKHtrZXk6ZX0pPT4hdC5oYXMoZSkpKSxlPSEwfX1pZihzPXAsZSYmKHlpZWxkIG8pLGwpYnJlYWs7bnx8KHMubGVuZ3RofHxhLmxlbmd0aCkmJmF3YWl0IFByb21pc2UucmFjZShbLi4uYSxuZXcgUHJvbWlzZSgoZT0+e3Q9ZX0pKSxuZXcgUHJvbWlzZSgoZT0+e2Y9ZX0pKV0pfXdoaWxlKHMubGVuZ3RofHxhLmxlbmd0aCk7cmV0dXJuIHUodWUuRC5Db21wbGV0ZSksb31sZXQgaGU9MDtmdW5jdGlvbiB5ZSh7bmFtZXNwYWNlZFRvcGljOmUsdG9waWM6dH0sbil7aGUrPTE7Y29uc3Qgcj1XKHQsaGUudG9TdHJpbmcoKSxuKSxvPXdlKGUsci5yZXEse3NldFN0YXRlOmU9PntvLnN0YXRlPWV9fSk7cmV0dXJuIG8uaWQ9aGUudG9TdHJpbmcoKSxvLmNsb3NlPXIuY2xvc2Usby5zdGF0ZT11ZS5ELkZldGNoaW5nLG99Y29uc3QgdmU9bmV3IE1hcDtmdW5jdGlvbiBtZShlLHQpe3JldHVybmAke2V9OiR7dH1gfWZ1bmN0aW9uIFNlKGUpe3JldHVybiBhc3luYyh0LC4uLm4pPT57aWYoIXQpcmV0dXJue2Vycm9yOl8ubWVzc2FnZX07bGV0IHI7aWYodC5pZClyPW1lKGUubmFtZXNwYWNlZFRvcGljLHQuaWQpO2Vsc2V7Y29uc3Qgbj15ZShlLHQpO3I9bWUoZS5uYW1lc3BhY2VkVG9waWMsbi5pZCksdC5pZD1uLmlkLHZlLnNldChyLHtnZW5lcmF0b3I6bn0pfWNvbnN0IG89dmUuZ2V0KHIpO2NsZWFyVGltZW91dChvLnRpbWVvdXQpO2NvbnN0IGk9YXdhaXQgby5nZW5lcmF0b3IubmV4dCgpO3JldHVybiBvLnRpbWVvdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3ZlLmRlbGV0ZShlKX0pLDFlNCl9KHIpLHsuLi5pLGlkOnQuaWQsc3RhdGU6by5nZW5lcmF0b3Iuc3RhdGV9fX1mdW5jdGlvbiBDZShlLHQsbil7cmV0dXJuIGllKGUpLmRpc3BhdGNoKHQscCx7aWQ6bn0pfWZ1bmN0aW9uIFBlKGUpe3JldHVybiB0PT5mdW5jdGlvbihlLHQpe2NvbnN0IG49bWUoZSx0KSxyPXZlLmdldChuKTtyJiZyLmdlbmVyYXRvci5jbG9zZSgpfShlLHQuaWQpfWFzeW5jIGZ1bmN0aW9uIFJlKGUsdCx7aWQ6bixxdWVyeTpyLGNvbnRleHQ6byx0YXJnZXRzOml9KXtjb25zdCBzPWllKGUpLGE9e2lkOm4scXVlcnk6cixjb250ZXh0Om8sdGFyZ2V0czppLHByb3ZpZGVySWQ6dC5pZH0sYz1hd2FpdCBzLmRpc3BhdGNoKHQuaWRlbnRpdHksZixhKSxkPWMuZXJyb3I7aWYoZCl0aHJvdyBuZXcgRXJyb3IoZCk7cmV0dXJuIGN9Y29uc3QgYmU9bmV3IE1hcDtmdW5jdGlvbiBMZShlLHQsbil7cmV0dXJuYCR7ZX06JHt0Lm5hbWV9OiR7dC51dWlkfToke259YH1jb25zdCBUZT1uZXcgTWFwO2Z1bmN0aW9uIEllKGUsdCxuKXtyZXR1cm5gJHtlfToke3R9OiR7bn1gfWZ1bmN0aW9uIE1lKGUsdCl7Y29uc3Qgbj1MZS5iaW5kKG51bGwsZSx0LmlkZW50aXR5KSxyPUNlLmJpbmQobnVsbCxlLHQuaWRlbnRpdHkpLG89UmUuYmluZChudWxsLGUsdCk7cmV0dXJuIGFzeW5jKGkscyk9Pntjb25zdCBhPW4oaS5pZCk7aWYoIWJlLmhhcyhhKSl7Y29uc3QgZT0oKT0+e3IoaS5pZCksYmUuZGVsZXRlKGEpfTtiZS5zZXQoYSxlKSxpLm9uQ2xvc2UoZSl9Y29uc3QgZD1JZShlLHQuaWQsaS5pZCksdT0oKT0+e1RlLmRlbGV0ZShkKSxzLmNsb3NlKCl9O2kub25DbG9zZSh1KSxUZS5zZXQoZCwoZT0+e2UucmVzdWx0cz8ubGVuZ3RoJiZzLnJlc3BvbmQoZS5yZXN1bHRzKSxlLnJldm9rZWQ/Lmxlbmd0aCYmcy5yZXZva2UoLi4uZS5yZXZva2VkKSxlLnN0YXR1cz09PWMuT3BlbiYmcy5vcGVuKCksZS5zdGF0dXM9PT1jLkNsb3NlJiZ1KCl9KSk7Y29uc3QgZj1hd2FpdCBvKGkpO3JldHVybiBmLnN0YXR1cz09PWMuT3BlbiYmcy5vcGVuKCksZi5zdGF0dXMhPT1jLkNsb3NlJiZmLnN0YXR1cyE9PWMuSW5pdGlhbHx8dSgpLGZ9fWZ1bmN0aW9uIGtlKGUsdCl7cmV0dXJuIGFzeW5jIG49Pntjb25zdCByPWllKGUpLG89e3Byb3ZpZGVySWQ6dC5pZCxyZXN1bHQ6bn07cmV0dXJuIHIuZGlzcGF0Y2godC5pZGVudGl0eSxsLG8pfX1jb25zdCBCZT1uZXcgTWFwO2Z1bmN0aW9uIE9lKGUsdCl7cmV0dXJuYCR7ZX0tJHt0Lm5hbWV9LSR7dC51dWlkfWB9ZnVuY3Rpb24gV2UoZSl7cmV0dXJuIGFzeW5jKHQsbik9PntpZighdHx8IXQuaWQpcmV0dXJuIHZvaWQgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHQpKTtpZihNKGUsdC5pZCkpdGhyb3cgRjt0LmlkZW50aXR5PW4sYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9lKGUsdC5pZGVudGl0eSk7QmUuaGFzKG4pfHxCZS5zZXQobixbXSksQmUuZ2V0KG4pLnB1c2godC5pZCksYXdhaXQgYihlLHsuLi50LG9uVXNlcklucHV0Ok1lKGUsdCksb25SZXN1bHREaXNwYXRjaDprZShlLHQpfSl9KGUsdCl9fWZ1bmN0aW9uIERlKGUpe3JldHVybiB0PT57dCYmZnVuY3Rpb24oZSx0KXtjb25zdCBuPU0oZSx0KTtpZighbilyZXR1cm47Y29uc3Qgcj1PZShlLG4uaWRlbnRpdHkpLG89QmUuZ2V0KHIpO2lmKG8pe2NvbnN0IG49by5maW5kSW5kZXgoKGU9PmU9PT10KSk7LTEhPT1uJiYoby5zcGxpY2UobiwxKSxMKGUsdCkpfX0oZSx0KX19Y29uc3QgeGU9bmV3IE1hcDtmdW5jdGlvbiBBZShlLHQpe3hlLmhhcyhlKXx8eGUuc2V0KGUsbmV3IFNldCkseGUuZ2V0KGUpLmFkZCh0KX1mdW5jdGlvbiBFZShlLHQpe2NvbnN0IG49eGUuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfWZ1bmN0aW9uIEZlKGUpe3JldHVybiBhc3luYyB0PT57IWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1PZShlLHQpLHI9QmUuZ2V0KG4pO2lmKHIpe2Zvcihjb25zdCB0IG9mIHIpTChlLHQpO0JlLmRlbGV0ZShuKX19KGUsdCk7Y29uc3Qgbj14ZS5nZXQoZSk7biYmbi5mb3JFYWNoKChlPT5lKHQpKSl9fWFzeW5jIGZ1bmN0aW9uIF9lKGUpe2NvbnN0e25hbWVzcGFjZWRUb3BpYzp0fT1lLG49aChlLm5hbWVzcGFjZWRUb3BpYykscj1hd2FpdChvPW4sZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jcmVhdGUobykpO3ZhciBvO3JldHVybiByLm9uQ29ubmVjdGlvbihmdW5jdGlvbih7bmFtZXNwYWNlZFRvcGljOmV9KXtyZXR1cm4gYXN5bmMgdD0+e2NvbnN0IG49YWUuZ2V0KGUpO2lmKG4pZm9yKGNvbnN0IGUgb2YgbilpZighYXdhaXQgZSh0KSl0aHJvdyAkfX0oZSkpLHIub25EaXNjb25uZWN0aW9uKEZlKHQpKSxyLnJlZ2lzdGVyKHAsUGUodCkpLHIucmVnaXN0ZXIoZixmdW5jdGlvbihlKXtyZXR1cm4gdD0+e2NvbnN0IG49SWUoZSx0LnByb3ZpZGVySWQsdC5pZCkscj1UZS5nZXQobik7ciYmcih0KX19KHQpKSxyLnJlZ2lzdGVyKFwiMlwiLFdlKHQpKSxyLnJlZ2lzdGVyKFwiM1wiLERlKHQpKSxyLnJlZ2lzdGVyKFwiNFwiLGZ1bmN0aW9uKGUpe3JldHVybiBhc3luYygpPT5mZShlKX0odCkpLHIucmVnaXN0ZXIoXCIxXCIsU2UoZSkpLHIucmVnaXN0ZXIobCxmdW5jdGlvbihlKXtyZXR1cm4gYXN5bmModCxuKT0+e2lmKCF0fHwhdC5wcm92aWRlcklkfHwhdC5yZXN1bHQpcmV0dXJuO2NvbnN0IHI9TShlLHQucHJvdmlkZXJJZCk7aWYoIXIpdGhyb3cgRTtjb25zdHtvblJlc3VsdERpc3BhdGNoOm99PXI7cmV0dXJuIG8/KHQucmVzdWx0LmRpc3BhdGNoZXJJZGVudGl0eT1uLG8odC5yZXN1bHQpKTp2b2lkIDB9fSh0KSkscn1hc3luYyBmdW5jdGlvbiAkZShlKXtjb25zdCB0PWllKGUpO3ZhciBuO249ZSxvZS5kZWxldGUobiksYXdhaXQgdC5kZXN0cm95KCksSShlKX1hc3luYyBmdW5jdGlvbiBxZShlKXtjb25zdCB0PShcInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/LnRvcGljKXx8dSxuPXgoKSxyPXcobix0KSxvPXt0b3BpYzp0LG5hbWVzcGFjZTpuLG5hbWVzcGFjZWRUb3BpYzpyfTtsZXQgaT1zZShyKTtpfHwoaT1hd2FpdCBfZShvKSxmdW5jdGlvbihlLHQpe29lLnNldChlLHQpfShyLGkpKTtjb25zdCBzPWRlLmJpbmQobnVsbCxyKSxhPUVlLmJpbmQobnVsbCxyKSxjPW0uYmluZChudWxsLHIpLGQ9UC5iaW5kKG51bGwscik7cmV0dXJue2dldEFsbFByb3ZpZGVyczpmZS5iaW5kKG51bGwsciksc2VhcmNoOnllLmJpbmQobnVsbCxvKSxyZWdpc3RlcjpsZS5iaW5kKG51bGwsciksZGVyZWdpc3RlcjpwZS5iaW5kKG51bGwsciksb25TdWJzY3JpcHRpb246Y2UuYmluZChudWxsLHIpLG9uRGlzY29ubmVjdDpBZS5iaW5kKG51bGwsciksb25SZWdpc3Rlcjp2LmJpbmQobnVsbCxyKSxvbkRlcmVnaXN0ZXI6Qy5iaW5kKG51bGwsciksZGlzcGF0Y2g6Z2UuYmluZChudWxsLG8pLGRpc2Nvbm5lY3Q6JGUuYmluZChudWxsLHIpLHJlbW92ZUxpc3RlbmVyOmU9PntzKGUpLGEoZSksYyhlKSxkKGUpfX19Y29uc3R7Y3JlYXRlOkdlfT1vLHtzdWJzY3JpYmU6TmV9PXIsSGU9e2NyZWF0ZTpHZSxzdWJzY3JpYmU6TmUsZGVmYXVsdFRvcGljOlwiYWxsXCJ9LFVlPSgpPT57Y29uc3QgZT13aW5kb3c7ZS5zZWFyY2g9SGUsZS5maW4mJihlLmZpbi5TZWFyY2g9SGUpfSxWZT1lPT57Y29uc3QgdD0oKT0+e1VlKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX07cmV0dXJuIHR9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe1VlKCk7Y29uc3QgZT1cImxvYWRcIix0PVZlKGUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUsdCk7Y29uc3Qgbj1cIkRPTUNvbnRlbnRMb2FkZWRcIixyPVZlKG4pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4scil9Y29uc3QgS2U9bmV3IE1hcDthc3luYyBmdW5jdGlvbiBYZSgpe2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe0tlLnNldChlLGF3YWl0IE5lKHt0b3BpYzplLHV1aWQ6ZC5xOS5Xb3Jrc3BhY2V9KSl9KHMpfWxldCBqZTthc3luYyBmdW5jdGlvbiBKZShlKXtyZXR1cm4gYXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4gamV8fChqZT1YZSgpKSxqZX0oKSxLZS5nZXQoZSl9dmFyIFplPW4oMzc1OCk7Y29uc3QgemU9YXN5bmMgZT0+e2lmKCFlLmljb24pdGhyb3cgbmV3IEVycm9yKGAke2UuaWR9IHByb3ZpZGVyIG5lZWRzIHRvIGhhdmUgaWNvbiBwcm9wZXJ0eSBkZWZpbmVkLmApO2F3YWl0KDAsaS5hQikoKTtyZXR1cm4oYXdhaXQgSmUocykpLnJlZ2lzdGVyKGUpfSxRZT1hc3luYyBlPT57YXdhaXQoMCxpLmFCKSgpO3JldHVybihhd2FpdCBKZShzKSkuZGVyZWdpc3RlcihlKX07YXN5bmMgZnVuY3Rpb24gWWUoKXtyZXR1cm4oYXdhaXQoMCxpLlhsKSgpKS5kaXNwYXRjaChpLk1sLlNob3dIb21lLHZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gZXQoKXtyZXR1cm4oYXdhaXQoMCxpLlhsKSgpKS5kaXNwYXRjaChpLk1sLkhpZGVIb21lLHZvaWQgMCl9fSwzMjk4OihlLHQsbik9PntuLmQodCx7dzooKT0+ci53fSk7dmFyIHI9big1MzE2KX0sMzc1ODooZSx0LG4pPT57dmFyIHIsbyxpO24uZCh0LHtQdDooKT0+cix5VzooKT0+byxlbDooKT0+aX0pLGZ1bmN0aW9uKGUpe2UuU3VnZ2VzdGlvbj1cInN1Z2dlc3Rpb25cIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkNvbnRhY3Q9XCJDb250YWN0XCIsZS5DdXN0b209XCJDdXN0b21cIixlLkxpc3Q9XCJMaXN0XCIsZS5QbGFpbj1cIlBsYWluXCIsZS5TaW1wbGVUZXh0PVwiU2ltcGxlVGV4dFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShpfHwoaT17fSkpfSw3NTY0OihlLHQsbik9PntuKDMyOTgpLG4oMzc1OCksbig2MTE0KSxuKDIxMDkpfSw2MTE0OihlLHQsbik9Pnt2YXIgcixvO24uZCh0LHtMOigpPT5yLFQ6KCk9Pm99KSxmdW5jdGlvbihlKXtlLlNuYXBzaG90PVwic25hcHNob3RcIixlLk1hbmlmZXN0PVwibWFuaWZlc3RcIixlLlZpZXc9XCJ2aWV3XCIsZS5FeHRlcm5hbD1cImV4dGVybmFsXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5MYW5kaW5nUGFnZT1cImxhbmRpbmdQYWdlXCIsZS5BcHBHcmlkPVwiYXBwR3JpZFwifShvfHwobz17fSkpfSwyMTA5OihlLHQsbik9PntuLmQodCx7cDY6KCk9PnIsR286KCk9Pm8sYkk6KCk9PmksWko6KCk9PnN9KTtjb25zdCByPXtDb250YWluZXI6XCJDb250YWluZXJcIixCdXR0b246XCJCdXR0b25cIn0sbz17VGV4dDpcIlRleHRcIixJbWFnZTpcIkltYWdlXCIsTGlzdDpcIkxpc3RcIn0saT17Li4uciwuLi5vfTt2YXIgczshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KHN8fChzPXt9KSl9LDMxNzooZSx0LG4pPT57bi5yKHQpLG4uZCh0LHtBcHBNYW5pZmVzdFR5cGU6KCk9Pm8uTCxTdG9yZWZyb250VGVtcGxhdGU6KCk9Pm8uVCxkZXJlZ2lzdGVyOigpPT51LGhpZGU6KCk9PmYscmVnaXN0ZXI6KCk9PmQsc2hvdzooKT0+bH0pO3ZhciByPW4oNzQwNSk7big3NTY0KTt2YXIgbz1uKDYxMTQpO2xldCBpO2NvbnN0IHM9bmV3IE1hcCxhPWU9PntpZighcy5oYXMoZSkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IFByb3ZpZGVyIHdpdGggaWQgJHtlfSBpcyBub3QgcmVnaXN0ZXJlZGApO3JldHVybiBzLmdldChlKX0sYz1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCgwLHIuWGwpKCk7aWYocy5oYXMoZS5pZCkpdGhyb3cgbmV3IEVycm9yKGBTdG9yZWZyb250IHByb3ZpZGVyIHdpdGggaWQgJHtlLmlkfSBhbHJlYWR5IHJlZ2lzdGVyZWRgKTtyZXR1cm4gcy5zZXQoZS5pZCxlKSwoZT0+e2UuaXNTdG9yZWZyb250QWN0aW9uc1JlZ2lzdGVyZWR8fChlLmlzU3RvcmVmcm9udEFjdGlvbnNSZWdpc3RlcmVkPSEwLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJBcHBzLChlPT5hKGUpLmdldEFwcHMoKSkpLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJGb290ZXIsKGU9PmEoZSkuZ2V0Rm9vdGVyKCkpKSxlLnJlZ2lzdGVyKHIuTWwuR2V0U3RvcmVmcm9udFByb3ZpZGVyTGFuZGluZ1BhZ2UsKGU9PmEoZSkuZ2V0TGFuZGluZ1BhZ2UoKSkpLGUucmVnaXN0ZXIoci5NbC5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uLChlPT5hKGUpLmdldE5hdmlnYXRpb24oKSkpLGUucmVnaXN0ZXIoci5NbC5MYXVuY2hTdG9yZWZyb250UHJvdmlkZXJBcHAsKCh7aWQ6ZSxhcHA6dH0pPT5hKGUpLmxhdW5jaEFwcCh0KSkpKX0pKHQpLHQuZGlzcGF0Y2goci5NbC5SZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcixlKX0sZD1lPT4oaT1jKGUpLGkpLHU9YXN5bmMgZT0+e2F3YWl0IGkscy5kZWxldGUoZSk7cmV0dXJuKGF3YWl0KDAsci5YbCkoKSkuZGlzcGF0Y2goci5NbC5EZXJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyLGUpfSxmPWFzeW5jKCk9Pnthd2FpdCBpLGF3YWl0KDAsci5hQikoKSxhd2FpdChhc3luYygpPT4oYXdhaXQoMCxyLkRtKSgpKS5kaXNwYXRjaChyLk1sLkhpZGVTdG9yZWZyb250LHZvaWQgMCkpKCl9LGw9YXN5bmMoKT0+e2F3YWl0IGksYXdhaXQoMCxyLmFCKSgpLGF3YWl0KGFzeW5jKCk9Pihhd2FpdCgwLHIuRG0pKCkpLmRpc3BhdGNoKHIuTWwuU2hvd1N0b3JlZnJvbnQsbnVsbCkpKCl9fSw3NDA1OihlLHQsbik9PntuLmQodCx7TWw6KCk9PnMsRG06KCk9PmEsWGw6KCk9PmYsYUI6KCk9PnV9KTt2YXIgcj1uKDY2NzgpO2NvbnN0IG89ci5BeCYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbmV3IFByb21pc2UoKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCgpPT57XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZSgpfSkpKSk7dmFyIGk9bigxMjEpO3ZhciBzOyFmdW5jdGlvbihlKXtlLlJlZ2lzdGVyU3RvcmVmcm9udFByb3ZpZGVyPVwicmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuRGVyZWdpc3RlclN0b3JlZnJvbnRQcm92aWRlcj1cImRlcmVnaXN0ZXItc3RvcmVmcm9udC1wcm92aWRlclwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVycz1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyc1wiLGUuSGlkZVN0b3JlZnJvbnQ9XCJoaWRlLXN0b3JlZnJvbnRcIixlLkdldFN0b3JlZnJvbnRQcm92aWRlckFwcHM9XCJnZXQtc3RvcmVmcm9udC1wcm92aWRlci1hcHBzXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJMYW5kaW5nUGFnZT1cImdldC1zdG9yZWZyb250LXByb3ZpZGVyLWxhbmRpbmctcGFnZVwiLGUuR2V0U3RvcmVmcm9udFByb3ZpZGVyRm9vdGVyPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItZm9vdGVyXCIsZS5HZXRTdG9yZWZyb250UHJvdmlkZXJOYXZpZ2F0aW9uPVwiZ2V0LXN0b3JlZnJvbnQtcHJvdmlkZXItbmF2aWdhdGlvblwiLGUuTGF1bmNoU3RvcmVmcm9udFByb3ZpZGVyQXBwPVwibGF1bmNoLXN0b3JlZnJvbnQtcHJvdmlkZXItYXBwXCIsZS5TaG93U3RvcmVmcm9udD1cInNob3ctc3RvcmVmcm9udFwiLGUuQ3JlYXRlU3RvcmVmcm9udFdpbmRvdz1cImNyZWF0ZS1zdG9yZWZyb250LXdpbmRvd1wiLGUuU2hvd0hvbWU9XCJzaG93LWhvbWVcIixlLkhpZGVIb21lPVwiaGlkZS1ob21lXCIsZS5Bc3NpZ25Ib21lU2VhcmNoQ29udGV4dD1cImFzc2lnbi1ob21lLXNlYXJjaC1jb250ZXh0XCIsZS5HZXRMZWdhY3lQYWdlcz1cImdldC1sZWdhY3ktcGFnZXNcIixlLkdldExlZ2FjeVdvcmtzcGFjZXM9XCJnZXQtbGVnYWN5LXdvcmtzcGFjZXNcIixlLkdldENvbXB1dGVkUGxhdGZvcm1UaGVtZT1cImdldC1jb21wdXRlZC1wbGF0Zm9ybS10aGVtZVwifShzfHwocz17fSkpO2NvbnN0IGE9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuKCk9PntpZighci5zUyl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gdHx8KHQ9KGFzeW5jKCk9Pnthd2FpdCBvO2NvbnN0IG49YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KGUpO3JldHVybiBuLm9uRGlzY29ubmVjdGlvbigoYXN5bmMoKT0+e3Q9dm9pZCAwfSkpLG59KSgpLnRoZW4oKGU9PmUpKS5jYXRjaCgobj0+e3Rocm93IHQ9dm9pZCAwLG5ldyBFcnJvcihgZmFpbGVkIHRvIGNvbm5lY3QgdG8gY2hhbm5lbCBwcm92aWRlciAke2V9OiAke259YCl9KSkpLHR9fShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksYz1cImlzTGF1bmNoZWRWaWFMaWJcIixkPWU9Pntjb25zdCB0PW5ldyBVUkwoZSk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLmFwcGVuZChjLFwidHJ1ZVwiKSx0LnRvU3RyaW5nKCl9LHU9YXN5bmMoKT0+e2lmKCFhd2FpdCgwLGkuSlYpKGkuaVcpKXJldHVybihyLlpLfHwtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpblwiKSkmJmF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChkKHIuYVcpKSxmaW4uU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3NlcihkKHIuR1gpKX0sZj1hc3luYygpPT4oYXdhaXQgdSgpLGEoKSl9LDU4MDY6KGUsdCxuKT0+e24uZCh0LHtxOTooKT0+cn0pO3ZhciByLG8saSxzPW4oNjY3OCk7IWZ1bmN0aW9uKGUpe2UuV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5SdW5SZXF1ZXN0ZWQ9XCJydW4tcmVxdWVzdGVkXCIsZS5XaW5kb3dPcHRpb25zQ2hhbmdlZD1cIndpbmRvdy1vcHRpb25zLWNoYW5nZWRcIixlLldpbmRvd0Nsb3NlZD1cIndpbmRvdy1jbG9zZWRcIixlLldpbmRvd0NyZWF0ZWQ9XCJ3aW5kb3ctY3JlYXRlZFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuRmluUHJvdG9jb2w9XCJmaW4tcHJvdG9jb2xcIn0oaXx8KGk9e30pKTtzLkFCLHMuQUIsci5Xb3Jrc3BhY2Usci5Xb3Jrc3BhY2V9LDY2Nzg6KGUsdCxuKT0+e3ZhciByO24uZCh0LHtzUzooKT0+byxBeDooKT0+aSxBQjooKT0+YSxvQzooKT0+YyxaSzooKT0+ZCxHWDooKT0+dSxhVzooKT0+Zn0pLGZ1bmN0aW9uKGUpe2UuTG9jYWw9XCJsb2NhbFwiLGUuRGV2PVwiZGV2XCIsZS5TdGFnaW5nPVwic3RhZ2luZ1wiLGUuUHJvZD1cInByb2RcIn0ocnx8KHI9e30pKTtjb25zdCBvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4saT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHByb2Nlc3N8fHByb2Nlc3MuZW52Py5KRVNUX1dPUktFUl9JRCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxzPWk/d2luZG93Lm9yaWdpbjpyLkxvY2FsLGE9byYmZmluLm1lLnV1aWQsYz1vJiZmaW4ubWUubmFtZSxkPShvJiZmaW4ubWUuZW50aXR5VHlwZSxcInByb2RcIj09PXIuTG9jYWwpLHU9KHIuRGV2LHIuU3RhZ2luZyxyLlByb2QsXCJmaW5zOi8vc3lzdGVtLWFwcHMvd29ya3NwYWNlXCIpLGY9XCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNi9hcHAuanNvblwiLGw9ZT0+ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIik/ZTpzK2U7bChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vd29ya3NwYWNlLzYuMy42XCIpLGwoXCJodHRwczovL2Nkbi5vcGVuZmluLmNvL3dvcmtzcGFjZS82LjMuNlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMJiZsKFdPUktTUEFDRV9ET0NTX1BMQVRGT1JNX1VSTCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdPUktTUEFDRV9ET0NTX0NMSUVOVF9VUkwmJmwoV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCl9LDEyMTooZSx0LG4pPT57bi5kKHQse2lXOigpPT5jLEpWOigpPT5kfSk7dmFyIHIsbyxpPW4oNTgwNikscz1uKDY2NzgpOyFmdW5jdGlvbihlKXtlLkhvbWU9XCJvcGVuZmluLWhvbWVcIixlLkRvY2s9XCJvcGVuZmluLWRvY2tcIixlLlN0b3JlZnJvbnQ9XCJvcGVuZmluLXN0b3JlZnJvbnRcIixlLkhvbWVJbnRlcm5hbD1cIm9wZW5maW4taG9tZS1pbnRlcm5hbFwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlckluZGljYXRvcj1cIm9wZW5maW4tYnJvd3Nlci1pbmRpY2F0b3JcIixlLkJyb3dzZXJXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtd2luZG93XCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5TaG93bj1cInNob3duXCIsZS5Cb3VuZHNDaGFuZ2VkPVwiYm91bmRzLWNoYW5nZWRcIixlLkxheW91dFJlYWR5PVwibGF5b3V0LXJlYWR5XCIsZS5FbmRVc2VyQm91bmRzQ2hhbmdpbmc9XCJlbmQtdXNlci1ib3VuZHMtY2hhbmdpbmdcIixlLkJsdXJyZWQ9XCJibHVycmVkXCIsZS5DbG9zZVJlcXVlc3RlZD1cImNsb3NlLXJlcXVlc3RlZFwiLGUuRm9jdXNlZD1cImZvY3VzZWRcIixlLlNob3dSZXF1ZXN0ZWQ9XCJzaG93LXJlcXVlc3RlZFwiLGUuVmlld0NyYXNoZWQ9XCJ2aWV3LWNyYXNoZWRcIixlLlZpZXdBdHRhY2hlZD1cInZpZXctYXR0YWNoZWRcIixlLlZpZXdEZXRhY2hlZD1cInZpZXctZGV0YWNoZWRcIixlLlZpZXdQYWdlVGl0bGVVcGRhdGVkPVwidmlldy1wYWdlLXRpdGxlLXVwZGF0ZWRcIixlLlZpZXdEZXN0cm95ZWQ9XCJ2aWV3LWRlc3Ryb3llZFwiLGUuT3B0aW9uc0NoYW5nZWQ9XCJvcHRpb25zLWNoYW5nZWRcIn0ob3x8KG89e30pKTtmdW5jdGlvbiBhKGUpe2lmKCFzLnNTKXRocm93IG5ldyBFcnJvcihcImdldE9GV2luZG93IGNhbiBvbmx5IGJlIHVzZWQgaW4gYW4gT3BlbkZpbiBlbnYuIEF2b2lkIGNhbGxpbmcgdGhpcyBtZXRob2QgZHVyaW5nIHByZS1yZW5kZXJpbmcuXCIpO3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKGUpfXMub0Mscy5BQjtyLkhvbWUsaS5xOS5Xb3Jrc3BhY2Usci5Eb2NrLGkucTkuV29ya3NwYWNlLHIuU3RvcmVmcm9udCxpLnE5LldvcmtzcGFjZTtjb25zdCBjPXtuYW1lOmkucTkuV29ya3NwYWNlLHV1aWQ6aS5xOS5Xb3Jrc3BhY2V9O2NvbnN0IGQ9ZT0+YShlKS5nZXRPcHRpb25zKCkudGhlbigoKCk9PiEwKSkuY2F0Y2goKCgpPT4hMSkpfSw1MzE2OihlLHQsbik9Pnt2YXIgcixvO24uZCh0LHtEOigpPT5yLHc6KCk9Pm99KSxmdW5jdGlvbihlKXtlLkZldGNoaW5nPVwiZmV0Y2hpbmdcIixlLkZldGNoZWQ9XCJmZXRjaGVkXCIsZS5Db21wbGV0ZT1cImNvbXBsZXRlXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BY3RpdmU9XCJhY3RpdmVcIixlLkRlZmF1bHQ9XCJkZWZhdWx0XCJ9KG98fChvPXt9KSl9fSx0PXt9O2Z1bmN0aW9uIG4ocil7dmFyIG89dFtyXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIGk9dFtyXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbcl0oaSxpLmV4cG9ydHMsbiksaS5leHBvcnRzfW4uZD0oZSx0KT0+e2Zvcih2YXIgciBpbiB0KW4ubyh0LHIpJiYhbi5vKGUscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITAsZ2V0OnRbcl19KX0sbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciByPXt9OygoKT0+e24ucihyKSxuLmQocix7QXBwTWFuaWZlc3RUeXBlOigpPT5wLkwsQnV0dG9uU3R5bGU6KCk9PmYuWkosQ0xJQWN0aW9uOigpPT5sLlB0LENMSUZpbHRlck9wdGlvblR5cGU6KCk9PmwuZWwsQ0xJVGVtcGxhdGU6KCk9PmwueVcsQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzOigpPT5mLnA2LEhvbWU6KCk9Pm8sTGVnYWN5OigpPT5lLFByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lczooKT0+Zi5HbyxTZWFyY2hUYWdCYWNrZ3JvdW5kOigpPT51LncsU3RvcmVmcm9udDooKT0+ZCxTdG9yZWZyb250VGVtcGxhdGU6KCk9PnAuVCxUZW1wbGF0ZUZyYWdtZW50VHlwZXM6KCk9PmYuYkl9KTt2YXIgZT17fTtuLnIoZSksbi5kKGUse2dldFBhZ2VzOigpPT5hLGdldFdvcmtzcGFjZXM6KCk9PmN9KTt2YXIgdCxvPW4oMzEzMyk7big2Njc4KSxuKDEyMSk7IWZ1bmN0aW9uKGUpe2UuVGFiQ3JlYXRlZD1cInRhYi1jcmVhdGVkXCIsZS5Db250YWluZXJDcmVhdGVkPVwiY29udGFpbmVyLWNyZWF0ZWRcIixlLkNvbnRhaW5lclJlc2l6ZWQ9XCJjb250YWluZXItcmVzaXplZFwifSh0fHwodD17fSkpO25ldyBNYXA7dmFyIGk7IWZ1bmN0aW9uKGUpe2UuTGFzdExhdW5jaGVkV29ya3NwYWNlSWQ9XCJhY3RpdmVXb3Jrc3BhY2VJZFwiLGUuTGFzdEZvY3VzZWRCcm93c2VyV2luZG93PVwibGFzdEZvY3VzZWRCcm93c2VyV2luZG93XCIsZS5NYWNoaW5lTmFtZT1cIm1hY2hpbmVOYW1lXCIsZS5OZXdUYWJQYWdlTGF5b3V0PVwiTmV3VGFiUGFnZUxheW91dFwiLGUuTmV3VGFiUGFnZVNvcnQ9XCJOZXdUYWJQYWdlU29ydFwifShpfHwoaT17fSkpO3ZhciBzPW4oNzQwNSk7Y29uc3QgYT0oKT0+YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oYXdhaXQoMCxzLkRtKSgpKS5kaXNwYXRjaChzLk1sLkdldExlZ2FjeVBhZ2VzLHZvaWQgMCl9KCksYz0oKT0+KGFzeW5jKCk9Pihhd2FpdCgwLHMuRG0pKCkpLmRpc3BhdGNoKHMuTWwuR2V0TGVnYWN5V29ya3NwYWNlcyx2b2lkIDApKSgpO3ZhciBkPW4oMzE3KSx1PW4oMzI5OCksZj1uKDIxMDkpLGw9bigzNzU4KSxwPW4oNjExNCl9KSgpLG1vZHVsZS5leHBvcnRzPXJ9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHtcclxuICAgIGNvbm5lY3QsXHJcbiAgICBDb25uZWN0aW9uRXJyb3IsXHJcbiAgICBlbmFibGVMb2dnaW5nLFxyXG4gICAgdHlwZSBTYWxlc2ZvcmNlQ29ubmVjdGlvbixcclxuICAgIHR5cGUgU2FsZXNmb3JjZVJlc3RBcGlTZWFyY2hSZXNwb25zZVxyXG59IGZyb20gXCJAb3BlbmZpbi9zYWxlc2ZvcmNlXCI7XHJcbmltcG9ydCB7XHJcbiAgICBDTElGaWx0ZXJPcHRpb25UeXBlLFxyXG4gICAgQ0xJVGVtcGxhdGUsXHJcbiAgICB0eXBlIENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXHJcbiAgICB0eXBlIENMSUZpbHRlcixcclxuICAgIHR5cGUgQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSxcclxuICAgIHR5cGUgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdCxcclxuICAgIHR5cGUgQ0xJU2VhcmNoUmVzdWx0TGlzdCxcclxuICAgIHR5cGUgQ0xJU2VhcmNoUmVzdWx0UGxhaW4sXHJcbiAgICB0eXBlIENMSVNlYXJjaFJlc3VsdFNpbXBsZVRleHQsXHJcbiAgICB0eXBlIEhvbWVTZWFyY2hSZXNwb25zZSxcclxuICAgIHR5cGUgSG9tZVNlYXJjaFJlc3VsdFxyXG59IGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2VcIjtcclxuaW1wb3J0IHR5cGUgeyBJbnRlZ3JhdGlvbiwgSW50ZWdyYXRpb25NYW5hZ2VyLCBJbnRlZ3JhdGlvbk1vZHVsZSB9IGZyb20gXCIuLi8uLi9pbnRlZ3JhdGlvbnMtc2hhcGVzXCI7XHJcbmltcG9ydCB0eXBlIHtcclxuICAgIFNhbGVzZm9yY2VBY2NvdW50LFxyXG4gICAgU2FsZXNmb3JjZUJhdGNoUmVxdWVzdCxcclxuICAgIFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtLFxyXG4gICAgU2FsZXNmb3JjZUJhdGNoUmVzcG9uc2UsXHJcbiAgICBTYWxlc2ZvcmNlQ29udGFjdCxcclxuICAgIFNhbGVzZm9yY2VDb250ZW50Tm90ZSxcclxuICAgIFNhbGVzZm9yY2VGZWVkRWxlbWVudFBhZ2UsXHJcbiAgICBTYWxlc2ZvcmNlRmVlZEl0ZW0sXHJcbiAgICBTYWxlc2ZvcmNlUmVzdWx0RGF0YSxcclxuICAgIFNhbGVzZm9yY2VTZXR0aW5ncyxcclxuICAgIFNhbGVzZm9yY2VUYXNrXHJcbn0gZnJvbSBcIi4vc2hhcGVzXCI7XHJcblxyXG4vKipcclxuICogSW1wbGVtZW50IHRoZSBpbnRlZ3JhdGlvbiBwcm92aWRlciBmb3IgU2FsZXNGb3JjZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIEludGVncmF0aW9uTW9kdWxlPFNhbGVzZm9yY2VTZXR0aW5ncz4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm92aWRlciBpZC5cclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfUFJPVklERVJfSUQgPSBcInNhbGVzZm9yY2VcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBrZXkgdG8gdXNlIGZvciBhIFNhbGVzRm9yY2UgcmVzdWx0LlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9CUk9XU0VfU0VBUkNIX1JFU1VMVF9LRVkgPSBcImJyb3dzZS1zYWxlc2ZvcmNlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaWQgZm9yIHRoZSBTYWxlRm9yY2UgZmlsdGVycy5cclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfT0JKRUNUU19GSUxURVJfSUQgPSBcInNhbGVzZm9yY2Utb2JqZWN0c1wiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGlkIG9mIHRoZSBub3QgY29ubmVjdGVkIHJlc3VsdC5cclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfTk9UX0NPTk5FQ1RFRF9TRUFSQ0hfUkVTVUxUX0tFWSA9IFwic2FsZXNmb3JjZS1ub3QtY29ubmVjdGVkLXJlc3VsdFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGludGVncmF0aW9uIG1hbmFnZXIuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfaW50ZWdyYXRpb25NYW5hZ2VyOiBJbnRlZ3JhdGlvbk1hbmFnZXIgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY29ubmVjdGlvbiB0byBTYWxlc0ZvcmNlLlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3NhbGVzRm9yY2VDb25uZWN0aW9uOiBTYWxlc2ZvcmNlQ29ubmVjdGlvbiB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtb2R1bGUgaXMgYmVpbmcgcmVnaXN0ZXJlZC5cclxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbk1hbmFnZXIgVGhlIG1hbmFnZXIgZm9yIHRoZSBpbnRlZ3JhdGlvbi5cclxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cclxuICAgICAqIEByZXR1cm5zIE5vdGhpbmcuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyByZWdpc3RlcihcclxuICAgICAgICBpbnRlZ3JhdGlvbk1hbmFnZXI6IEludGVncmF0aW9uTWFuYWdlcixcclxuICAgICAgICBpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPlxyXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyID0gaW50ZWdyYXRpb25NYW5hZ2VyO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJpbmcgU2FsZXNGb3JjZVwiKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9wZW5Db25uZWN0aW9uKGludGVncmF0aW9uKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNvbm5lY3RpbmcgdG8gU2FsZXNGb3JjZVwiLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtb2R1bGUgaXMgYmVpbmcgZGVyZWdpc3RlcmVkLlxyXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxyXG4gICAgICogQHJldHVybnMgTm90aGluZy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIGRlcmVnaXN0ZXIoaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBhd2FpdCB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgbGlzdCBvZiB0aGUgc3RhdGljIGFwcGxpY2F0aW9uIGVudHJpZXMuXHJcbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgbGlzdCBvZiBhcHBsaWNhdGlvbiBlbnRyaWVzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0QXBwU2VhcmNoRW50cmllcyhpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPik6IFByb21pc2U8SG9tZVNlYXJjaFJlc3VsdFtdPiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG4gICAgICAgIGlmIChpbnRlZ3JhdGlvbj8uZGF0YT8ub3JnVXJsKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIkJyb3dzZVwiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZVVybDogaW50ZWdyYXRpb24/LmRhdGE/Lm9yZ1VybCxcclxuICAgICAgICAgICAgICAgICAgICB0YWdzOiBbU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lEXVxyXG4gICAgICAgICAgICAgICAgfSBhcyBTYWxlc2ZvcmNlUmVzdWx0RGF0YSxcclxuICAgICAgICAgICAgICAgIGljb246IGludGVncmF0aW9uLmljb24sXHJcbiAgICAgICAgICAgICAgICBrZXk6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9CUk9XU0VfU0VBUkNIX1JFU1VMVF9LRVksXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuUGxhaW4sXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkJyb3dzZSBTYWxlc2ZvcmNlXCJcclxuICAgICAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRQbGFpbik7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5nZXRSZWNvbm5lY3RTZWFyY2hSZXN1bHQoaW50ZWdyYXRpb24pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBlbnRyeSBoYXMgYmVlbiBzZWxlY3RlZC5cclxuICAgICAqIEBwYXJhbSBpbnRlZ3JhdGlvbiBUaGUgaW50ZWdyYXRpb24gZGV0YWlscy5cclxuICAgICAqIEBwYXJhbSByZXN1bHQgVGhlIGRpc3BhdGNoZWQgcmVzdWx0LlxyXG4gICAgICogQHBhcmFtIGxhc3RSZXNwb25zZSBUaGUgbGFzdCByZXNwb25zZS5cclxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGl0ZW0gd2FzIGhhbmRsZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBpdGVtU2VsZWN0aW9uKFxyXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+LFxyXG4gICAgICAgIHJlc3VsdDogQ0xJRGlzcGF0Y2hlZFNlYXJjaFJlc3VsdCxcclxuICAgICAgICBsYXN0UmVzcG9uc2U6IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2VcclxuICAgICk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGNsaWNrZWQgdGhlIHJlY29ubmVjdCByZXN1bHQsIHJlY29ubmVjdCB0byBzYWxlc2ZvcmNlIGFuZCByZS1ydW4gcXVlcnlcclxuICAgICAgICBpZiAocmVzdWx0LmtleSA9PT0gU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX05PVF9DT05ORUNURURfU0VBUkNIX1JFU1VMVF9LRVkpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5vcGVuQ29ubmVjdGlvbihpbnRlZ3JhdGlvbik7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmRhdGE/LnF1ZXJ5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5nZXRTZWFyY2hSZXN1bHRzKGludGVncmF0aW9uLCByZXN1bHQuZGF0YT8ucXVlcnksIHJlc3VsdC5kYXRhPy5maWx0ZXJzLCBsYXN0UmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RSZXNwb25zZS5yZXZva2UoU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX05PVF9DT05ORUNURURfU0VBUkNIX1JFU1VMVF9LRVkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RSZXNwb25zZS5yZXNwb25kKHJlc3VsdHMucmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBvdGhlcndpc2Ugb3BlbiB0aGUgcmVzdWx0IHBhZ2UgdXJsIGluIGJyb3dzZXJcclxuICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEgYXMgU2FsZXNmb3JjZVJlc3VsdERhdGE7XHJcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9pbnRlZ3JhdGlvbk1hbmFnZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJlbG9hZCA9IGAke3RoaXMuX2ludGVncmF0aW9uTWFuYWdlci5yb290VXJsfS92aWV3cy9zYWxlc2ZvcmNlL3ByZWxvYWQuanNgO1xyXG4gICAgICAgICAgICBjb25zdCB2aWV3T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHVybDogZGF0YS5wYWdlVXJsLFxyXG4gICAgICAgICAgICAgICAgZmRjM0ludGVyb3BBcGk6IFwiMS4yXCIsXHJcbiAgICAgICAgICAgICAgICBpbnRlcm9wOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRleHRHcm91cDogXCJncmVlblwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tRGF0YTogeyBidXR0b25MYWJlbDogXCJQcm9jZXNzIFBhcnRpY2lwYW50XCIgfSxcclxuICAgICAgICAgICAgICAgIHByZWxvYWRTY3JpcHRzOiBbeyB1cmw6IHByZWxvYWQgfV0sXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHsgbmFtZTogXCJcIiwgdXJsOiBcIlwiLCB1dWlkOiBcIlwiIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5faW50ZWdyYXRpb25NYW5hZ2VyLmxhdW5jaFZpZXcodmlld09wdGlvbnMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgbGlzdCBvZiBzZWFyY2ggcmVzdWx0cyBiYXNlZCBvbiB0aGUgcXVlcnkgYW5kIGZpbHRlcnMuXHJcbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXHJcbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIHNlYXJjaCBmb3IuXHJcbiAgICAgKiBAcGFyYW0gZmlsdGVycyBUaGUgZmlsdGVycyB0byBhcHBseS5cclxuICAgICAqIEBwYXJhbSBsYXN0UmVzcG9uc2UgVGhlIGxhc3Qgc2VhcmNoIHJlc3BvbnNlIHVzZWQgZm9yIHVwZGF0aW5nIGV4aXN0aW5nIHJlc3VsdHMuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgbGlzdCBvZiByZXN1bHRzIGFuZCBuZXcgZmlsdGVycy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIGdldFNlYXJjaFJlc3VsdHMoXHJcbiAgICAgICAgaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4sXHJcbiAgICAgICAgcXVlcnk6IHN0cmluZyxcclxuICAgICAgICBmaWx0ZXJzOiBDTElGaWx0ZXJbXSwgXHJcbiAgICAgICAgbGFzdFJlc3BvbnNlOiBDTElTZWFyY2hMaXN0ZW5lclJlc3BvbnNlXHJcbiAgICApOiBQcm9taXNlPEhvbWVTZWFyY2hSZXNwb25zZT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICBsZXQgc2VhcmNoUmVzdWx0czogKFxyXG4gICAgICAgICAgICAgICAgfCBTYWxlc2ZvcmNlQWNjb3VudFxyXG4gICAgICAgICAgICAgICAgfCBTYWxlc2ZvcmNlQ29udGFjdFxyXG4gICAgICAgICAgICAgICAgfCBTYWxlc2ZvcmNlVGFza1xyXG4gICAgICAgICAgICAgICAgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGVcclxuICAgICAgICAgICAgICAgIHwgU2FsZXNmb3JjZUZlZWRJdGVtXHJcbiAgICAgICAgICAgIClbXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZE9iamVjdHM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpbHRlcnMpICYmIGZpbHRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0c0ZpbHRlciA9IGZpbHRlcnMuZmluZCh4ID0+IHguaWQgPT09IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9PQkpFQ1RTX0ZJTFRFUl9JRCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0c0ZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0cyA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShvYmplY3RzRmlsdGVyLm9wdGlvbnMpID8gb2JqZWN0c0ZpbHRlci5vcHRpb25zIDogW29iamVjdHNGaWx0ZXIub3B0aW9uc11cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoeCA9PiBCb29sZWFuKHguaXNTZWxlY3RlZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoeCA9PiAoeC52YWx1ZSA9PT0gXCJOb3RlXCIgPyBcIkNvbnRlbnROb3RlXCIgOiB4LnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHRzID0gYXdhaXQgdGhpcy5nZXRBcGlTZWFyY2hSZXN1bHRzKHF1ZXJ5LCBzZWxlY3RlZE9iamVjdHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBzZWFyY2hSZXN1bHRzLm1hcChzZWFyY2hSZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcIldlYnNpdGVcIiBpbiBzZWFyY2hSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBzZWFyY2hSZXN1bHQuSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0Lk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5hY2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVySWQ6IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiB0aGlzLmdldE9iamVjdFVybChzZWFyY2hSZXN1bHQuSWQsIGludGVncmF0aW9uLmRhdGE/Lm9yZ1VybCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogW1NhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyLl9QUk9WSURFUl9JRF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogQ0xJVGVtcGxhdGUuQ29udGFjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlQ29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlYXJjaFJlc3VsdC5OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuSW5kdXN0cnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJQaG9uZVwiLCBzZWFyY2hSZXN1bHQuUGhvbmVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiVHlwZVwiLCBzZWFyY2hSZXN1bHQuVHlwZV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJXZWJzaXRlXCIsIHNlYXJjaFJlc3VsdC5XZWJzaXRlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIkVtYWlsXCIgaW4gc2VhcmNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc2VhcmNoUmVzdWx0LmF0dHJpYnV0ZXMudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNlYXJjaFJlc3VsdC5OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24/LmRhdGE/Lmljb25NYXAuY29udGFjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVVybDogdGhpcy5nZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IENMSVRlbXBsYXRlLkNvbnRhY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZWFyY2hSZXN1bHQuTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0LlRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUluaXRpYWxzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiRGVwYXJ0bWVudFwiLCBzZWFyY2hSZXN1bHQuRGVwYXJ0bWVudF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJFbWFpbFwiLCBzZWFyY2hSZXN1bHQuRW1haWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiV29yayAjXCIsIHNlYXJjaFJlc3VsdC5QaG9uZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRDb250YWN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJEZXNjcmlwdGlvblwiIGluIHNlYXJjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHNlYXJjaFJlc3VsdC5hdHRyaWJ1dGVzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlYXJjaFJlc3VsdC5JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuU3ViamVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGludGVncmF0aW9uPy5kYXRhPy5pY29uTWFwLnRhc2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJJZDogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VVcmw6IHRoaXMuZ2V0T2JqZWN0VXJsKHNlYXJjaFJlc3VsdC5JZCwgaW50ZWdyYXRpb24uZGF0YT8ub3JnVXJsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiBbU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX1BST1ZJREVSX0lEXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIkxpc3RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlQ29udGVudDogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIlN1YmplY3RcIiwgc2VhcmNoUmVzdWx0LlN1YmplY3RdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIkNvbW1lbnRzXCIsIHNlYXJjaFJlc3VsdC5EZXNjcmlwdGlvbl1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBDTElTZWFyY2hSZXN1bHRMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJUZXh0UHJldmlld1wiIGluIHNlYXJjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJWaWV3XCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiTm90ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBzZWFyY2hSZXN1bHQuSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0LlRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24/LmRhdGE/Lmljb25NYXAubm90ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVVybDogdGhpcy5nZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiVGl0bGVcIiwgc2VhcmNoUmVzdWx0LlRpdGxlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJDb250ZW50XCIsIHNlYXJjaFJlc3VsdD8uVGV4dFByZXZpZXddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0TGlzdDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjdG9yXCIgaW4gc2VhcmNoUmVzdWx0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWFyY2hSZXN1bHQudHlwZSA9PT0gXCJUZXh0UG9zdFwiIHx8IHNlYXJjaFJlc3VsdC50eXBlID09PSBcIkNvbnRlbnRQb3N0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDaGF0dGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlYXJjaFJlc3VsdC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuYWN0b3I/LmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24/LmRhdGE/Lmljb25NYXAuY2hhdHRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVVybDogdGhpcy5nZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LmlkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSURdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGFzIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IENMSVRlbXBsYXRlLkNvbnRhY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZWFyY2hSZXN1bHQuYWN0b3I/LmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUluaXRpYWxzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiSGVhZGVyXCIsIHNlYXJjaFJlc3VsdD8uaGVhZGVyPy50ZXh0XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIk5vdGVcIiwgc2VhcmNoUmVzdWx0Py5ib2R5Py50ZXh0XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY2FzZSB3ZSBhcmUgb25seSBzZWFyY2hpbmcgZm9yIGFjY291bnRzLCBjb250YWN0cywgdGFza3MsIGNvbnRlbnQgbm90ZXMgYW5kIGNoYXR0ZXJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKEJvb2xlYW4pIGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3RbXTtcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25mdXNpbmctYXJyb3dcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iamVjdHMgPSBzZWFyY2hSZXN1bHRzLm1hcChyZXN1bHQgPT5cclxuICAgICAgICAgICAgICAgICAgICBcImF0dHJpYnV0ZXNcIiBpbiByZXN1bHQgPyByZXN1bHQuYXR0cmlidXRlcy50eXBlIDogXCJDaGF0dGVyXCJcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBmaWx0ZXJlZFJlc3VsdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiB0aGlzLmdldFNlYXJjaEZpbHRlcnMob2JqZWN0cy5tYXAoYyA9PiAoYyA9PT0gXCJDb250ZW50Tm90ZVwiID8gXCJOb3RlXCIgOiBjKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIENvbm5lY3Rpb25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFt0aGlzLmdldFJlY29ubmVjdFNlYXJjaFJlc3VsdChpbnRlZ3JhdGlvbiwgcXVlcnksIGZpbHRlcnMpXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBTYWxlc0ZvcmNlIHNlYXJjaCByZXN1bHRzXCIsIGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3VsdHM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gdGhlIGNvbm5lY3Rpb24gdG8gU2FsZUZvcmNlLlxyXG4gICAgICogQHBhcmFtIGludGVncmF0aW9uIFRoZSBpbnRlZ3JhdGlvbiBkZXRhaWxzLlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgb3BlbkNvbm5lY3Rpb24oaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBpZiAoaW50ZWdyYXRpb24/LmRhdGE/Lm9yZ1VybCAmJiAhdGhpcy5fc2FsZXNGb3JjZUNvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgZW5hYmxlTG9nZ2luZygpO1xyXG4gICAgICAgICAgICB0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QoXHJcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdGlvbj8uZGF0YS5vcmdVcmwsXHJcbiAgICAgICAgICAgICAgICBpbnRlZ3JhdGlvbj8uZGF0YS5jb25zdW1lcktleSxcclxuICAgICAgICAgICAgICAgIGludGVncmF0aW9uPy5kYXRhLmlzU2FuZGJveFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENsb3NlIHRoZSBjb25uZWN0aW9uIHRvIFNhbGVzRm9yY2UuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBjbG9zZUNvbm5lY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NhbGVzRm9yY2VDb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbi5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRpc2Nvbm5lY3RpbmcgU2FsZXNGb3JjZVwiLCBlcnIpO1xyXG4gICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2FsZXNGb3JjZUNvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgdGhlIG9iamVjdCB1cmwgZnJvbSB0aGUgaWYgYW5kIG9yaWdpbi5cclxuICAgICAqIEBwYXJhbSBvYmplY3RJZCBUaGUgb2JqZWN0IGlkLlxyXG4gICAgICogQHBhcmFtIHNhbGVzZm9yY2VPcmdPcmlnaW4gVGhlIG9yaWdpbiB1cmwuXHJcbiAgICAgKiBAcmV0dXJucyBUaGVuIG9iamVjdCB1cmwuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRPYmplY3RVcmwob2JqZWN0SWQ6IHN0cmluZywgc2FsZXNmb3JjZU9yZ09yaWdpbj86IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCFzYWxlc2ZvcmNlT3JnT3JpZ2luKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYCR7c2FsZXNmb3JjZU9yZ09yaWdpbn0vJHtvYmplY3RJZH1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHJlc3VsdHMgZnJvbSB0aGUgQVBJIHVzaW5nIGEgcXVlcnkuXHJcbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIGNhbGwgdGhlIEFQSSB3aXRoLlxyXG4gICAgICogQHBhcmFtIHNlbGVjdGVkT2JqZWN0cyBUaGUgc2VsZWN0ZWQgZmlsdGVycy5cclxuICAgICAqIEByZXR1cm5zIFRoZSBzZWFyY2ggcmVzdWx0IG9iamVjdHMgZnJvbSB0aGUgQVBJLlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0QXBpU2VhcmNoUmVzdWx0cyhcclxuICAgICAgICBxdWVyeTogc3RyaW5nLFxyXG4gICAgICAgIHNlbGVjdGVkT2JqZWN0cz86IHN0cmluZ1tdXHJcbiAgICApOiBQcm9taXNlPFxyXG4gICAgICAgIChTYWxlc2ZvcmNlQ29udGFjdCB8IFNhbGVzZm9yY2VBY2NvdW50IHwgU2FsZXNmb3JjZVRhc2sgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGUgfCBTYWxlc2ZvcmNlRmVlZEl0ZW0pW11cclxuICAgID4ge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnRGaWVsZFNwZWMgPSBcIkFjY291bnQoSWQsIEluZHVzdHJ5LCBOYW1lLCBQaG9uZSwgVHlwZSwgV2Vic2l0ZSlcIjtcclxuICAgICAgICBjb25zdCBjb250YWN0RmllbGRTcGVjID0gXCJDb250YWN0KERlcGFydG1lbnQsIEVtYWlsLCBJZCwgTmFtZSwgUGhvbmUsIFRpdGxlKVwiO1xyXG4gICAgICAgIGNvbnN0IHRhc2tGaWVsZFNwZWMgPSBcIlRhc2soSWQsIFN1YmplY3QsIERlc2NyaXB0aW9uKVwiO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnROb3RlRmllbGRTcGVjID0gXCJDb250ZW50Tm90ZShJZCwgVGl0bGUsIENvbnRlbnQsIFRleHRQcmV2aWV3KVwiO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkU3BlY01hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KFtcclxuICAgICAgICAgICAgW1wiQWNjb3VudFwiLCBhY2NvdW50RmllbGRTcGVjXSxcclxuICAgICAgICAgICAgW1wiQ29udGFjdFwiLCBjb250YWN0RmllbGRTcGVjXSxcclxuICAgICAgICAgICAgW1wiVGFza1wiLCB0YXNrRmllbGRTcGVjXSxcclxuICAgICAgICAgICAgW1wiQ29udGVudE5vdGVcIiwgY29udGVudE5vdGVGaWVsZFNwZWNdXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgZmllbGRTcGVjID0gWy4uLmZpZWxkU3BlY01hcF1cclxuICAgICAgICAgICAgLmZpbHRlcih4ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdGVkT2JqZWN0cykgJiYgc2VsZWN0ZWRPYmplY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRPYmplY3RzLmluY2x1ZGVzKHhbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoeCA9PiB4WzFdKVxyXG4gICAgICAgICAgICAuam9pbihcIiwgXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBiYXRjaDogU2FsZXNmb3JjZUJhdGNoUmVxdWVzdEl0ZW1bXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoZmllbGRTcGVjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3Qgc2FsZXNmb3JjZVNlYXJjaFF1ZXJ5ID0gYEZJTkQgeyR7dGhpcy5lc2NhcGVRdWVyeShcclxuICAgICAgICAgICAgICAgIHF1ZXJ5XHJcbiAgICAgICAgICAgICl9fSBJTiBBTEwgRklFTERTIFJFVFVSTklORyAke2ZpZWxkU3BlY30gTElNSVQgMjVgO1xyXG5cclxuICAgICAgICAgICAgYmF0Y2gucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IGAvc2VydmljZXMvZGF0YS92WFguWC9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChzYWxlc2ZvcmNlU2VhcmNoUXVlcnkpfWBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpbmNsdWRlQ2hhdHRlciA9ICFzZWxlY3RlZE9iamVjdHM/Lmxlbmd0aCB8fCBzZWxlY3RlZE9iamVjdHMuaW5jbHVkZXMoXCJDaGF0dGVyXCIpO1xyXG4gICAgICAgIGlmIChpbmNsdWRlQ2hhdHRlcikge1xyXG4gICAgICAgICAgICBiYXRjaC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIHVybDogYC9zZXJ2aWNlcy9kYXRhL3ZYWC5YL2NoYXR0ZXIvZmVlZC1lbGVtZW50cz9xPSR7cXVlcnl9JnBhZ2VTaXplPTI1JnNvcnQ9TGFzdE1vZGlmaWVkRGF0ZURlc2NgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmF0Y2hlZFJlc3VsdHMgPSBhd2FpdCB0aGlzLmdldEJhdGNoZWRSZXN1bHRzPFxyXG4gICAgICAgICAgICB8IFNhbGVzZm9yY2VSZXN0QXBpU2VhcmNoUmVzcG9uc2U8XHJcbiAgICAgICAgICAgICAgICAgIFNhbGVzZm9yY2VBY2NvdW50IHwgU2FsZXNmb3JjZUNvbnRhY3QgfCBTYWxlc2ZvcmNlVGFzayB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgfCBTYWxlc2ZvcmNlRmVlZEVsZW1lbnRQYWdlXHJcbiAgICAgICAgPihiYXRjaCk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHRzOiAoXHJcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUFjY291bnRcclxuICAgICAgICAgICAgfCBTYWxlc2ZvcmNlQ29udGFjdFxyXG4gICAgICAgICAgICB8IFNhbGVzZm9yY2VUYXNrXHJcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUNvbnRlbnROb3RlXHJcbiAgICAgICAgICAgIHwgU2FsZXNmb3JjZUZlZWRJdGVtXHJcbiAgICAgICAgKVtdID0gW107XHJcblxyXG4gICAgICAgIGlmIChiYXRjaGVkUmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgICAgICBpZiAoZmllbGRTcGVjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3BvbnNlID0gYmF0Y2hlZFJlc3VsdHNbaWR4KytdIGFzIFNhbGVzZm9yY2VSZXN0QXBpU2VhcmNoUmVzcG9uc2U8XHJcbiAgICAgICAgICAgICAgICAgICAgU2FsZXNmb3JjZUFjY291bnQgfCBTYWxlc2ZvcmNlQ29udGFjdCB8IFNhbGVzZm9yY2VUYXNrIHwgU2FsZXNmb3JjZUNvbnRlbnROb3RlXHJcbiAgICAgICAgICAgICAgICA+O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJlc3BvbnNlLnNlYXJjaFJlY29yZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoc2VhcmNoUmVzcG9uc2Uuc2VhcmNoUmVjb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbmNsdWRlQ2hhdHRlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hhdHRlclJlc3BvbnNlID0gYmF0Y2hlZFJlc3VsdHNbaWR4KytdIGFzIFNhbGVzZm9yY2VGZWVkRWxlbWVudFBhZ2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhdHRlclJlc3BvbnNlLmVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGNoYXR0ZXJSZXNwb25zZS5lbGVtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGJhdGNoZWQgcmVzdWx0cyBmcm9tIFNhbGVzRm9yY2UgYXBpLlxyXG4gICAgICogQHBhcmFtIGJhdGNoUmVxdWVzdHMgVGhlIGJhdGNoIHJlcXVlc3RzIHRvIHNlbmQuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0cyBmcm9tIHRoZSBiYXRjaCByZXF1ZXN0LlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0QmF0Y2hlZFJlc3VsdHM8VD4oYmF0Y2hSZXF1ZXN0czogU2FsZXNmb3JjZUJhdGNoUmVxdWVzdEl0ZW1bXSk6IFByb21pc2U8VFtdPiB7XHJcbiAgICAgICAgaWYgKGJhdGNoUmVxdWVzdHMubGVuZ3RoID09PSAwIHx8ICF0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJhdGNoOiBTYWxlc2ZvcmNlQmF0Y2hSZXF1ZXN0ID0geyBiYXRjaFJlcXVlc3RzLCBoYWx0T25FcnJvcjogZmFsc2UgfTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9zYWxlc0ZvcmNlQ29ubmVjdGlvbi5leGVjdXRlQXBpUmVxdWVzdDxTYWxlc2ZvcmNlQmF0Y2hSZXNwb25zZT4oXHJcbiAgICAgICAgICAgIFwiL3NlcnZpY2VzL2RhdGEvdlhYLlgvY29tcG9zaXRlL2JhdGNoL1wiLFxyXG4gICAgICAgICAgICBcIlBPU1RcIixcclxuICAgICAgICAgICAgYmF0Y2gsXHJcbiAgICAgICAgICAgIHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhPy5yZXN1bHRzLm1hcChyID0+IHIucmVzdWx0IGFzIFQpID8/IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXNjYXBlIGFueSBjaGFyYWN0ZXJzIG5lZWRlZCBpbiBTYWxlc0ZvcmNlIEFQSSBjYWxscy5cclxuICAgICAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgdG8gZXNjYXBlLlxyXG4gICAgICogQHJldHVybnMgVGhlIGVzY2FwZWQgcXVlcnkuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBlc2NhcGVRdWVyeShxdWVyeTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAvLyBUaGVyZSBhcmUgc29tZSByZXNlcnZlZCBjaGFyYWN0ZXJzIGZvciBxdWVyaWVzIHNvIHdlIG5lZWQgdG8gZXNjYXBlIHRoZW1cclxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5zYWxlc2ZvcmNlLmNvbS9kb2NzL2F0bGFzLmVuLXVzLnNvcWxfc29zbC5tZXRhL3NvcWxfc29zbC9zZm9yY2VfYXBpX2NhbGxzX3Nvc2xfZmluZC5odG1cclxuICAgICAgICByZXR1cm4gcXVlcnkucmVwbGFjZSgvWyFcIiYnKCkqKzo/W1xcXFxcXF1ee3x9fi1dL2dtLCBcIlxcXFwkJlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc2VhcmNoIHJlc3VsdCB0byBkaXNwbGF5IHdoZW4gU2FsZXNGb3JjZSBuZWVkcyB0byByZWNvbm5lY3QuXHJcbiAgICAgKiBAcGFyYW0gaW50ZWdyYXRpb24gVGhlIGludGVncmF0aW9uIGRldGFpbHMuXHJcbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRoYXQgbmVlZHMgdG8gcmVjb25uZWN0LlxyXG4gICAgICogQHBhcmFtIGZpbHRlcnMgVGhlIGZpbHRlciBmb3IgdGhlIHJlY29ubmVjdC5cclxuICAgICAqIEByZXR1cm5zIFRoZSBzZWFyY2ggcmVzdWx0IGVudHJ5LlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0UmVjb25uZWN0U2VhcmNoUmVzdWx0KFxyXG4gICAgICAgIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+LFxyXG4gICAgICAgIHF1ZXJ5Pzogc3RyaW5nLFxyXG4gICAgICAgIGZpbHRlcnM/OiBDTElGaWx0ZXJbXVxyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJSZWNvbm5lY3RcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXHJcbiAgICAgICAgICAgIGtleTogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX05PVF9DT05ORUNURURfU0VBUkNIX1JFU1VMVF9LRVksXHJcbiAgICAgICAgICAgIGljb246IGludGVncmF0aW9uPy5pY29uLFxyXG4gICAgICAgICAgICB0aXRsZTogXCJSZWNvbm5lY3QgdG8gU2FsZXNmb3JjZVwiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwcm92aWRlcklkOiBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlci5fUFJPVklERVJfSUQsXHJcbiAgICAgICAgICAgICAgICBxdWVyeSxcclxuICAgICAgICAgICAgICAgIGZpbHRlcnNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0U2ltcGxlVGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc2VhcmNoIGZpbHRlcnMgYmFzZWQgb24gdGhlIHJlc3VsdHMuXHJcbiAgICAgKiBAcGFyYW0gb2JqZWN0cyBUaGUgb2JqZWN0IHR5cGVzIHRvIGNyZWF0ZSB0aGUgZmlsdGVycyBmcm9tLlxyXG4gICAgICogQHJldHVybnMgVGhlIGZpbHRlcnMuXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTZWFyY2hGaWx0ZXJzKG9iamVjdHM6IHN0cmluZ1tdKTogQ0xJRmlsdGVyW10ge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdHMpICYmIG9iamVjdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJzOiBDTElGaWx0ZXJbXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVPYmplY3RzID0gWy4uLm5ldyBTZXQob2JqZWN0cy5zb3J0KCkpXTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0RmlsdGVyOiBDTElGaWx0ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogU2FsZXNGb3JjZUludGVncmF0aW9uUHJvdmlkZXIuX09CSkVDVFNfRklMVEVSX0lELFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiT2JqZWN0c1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogQ0xJRmlsdGVyT3B0aW9uVHlwZS5NdWx0aVNlbGVjdCxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtdXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9iamVjdCBvZiB1bmlxdWVPYmplY3RzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3RGaWx0ZXIub3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3RGaWx0ZXIub3B0aW9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9iamVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsdGVycy5wdXNoKG9iamVjdEZpbHRlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFNhbGVzRm9yY2VJbnRlZ3JhdGlvblByb3ZpZGVyIH0gZnJvbSBcIi4vaW50ZWdyYXRpb24tcHJvdmlkZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnRlZ3JhdGlvbiA9IG5ldyBTYWxlc0ZvcmNlSW50ZWdyYXRpb25Qcm92aWRlcigpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==